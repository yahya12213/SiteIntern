function Ez(e,t){for(var r=0;r<t.length;r++){const n=t[r];if(typeof n!="string"&&!Array.isArray(n)){for(const a in n)if(a!=="default"&&!(a in e)){const i=Object.getOwnPropertyDescriptor(n,a);i&&Object.defineProperty(e,a,i.get?i:{enumerable:!0,get:()=>n[a]})}}}return Object.freeze(Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}))}(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const a of document.querySelectorAll('link[rel="modulepreload"]'))n(a);new MutationObserver(a=>{for(const i of a)if(i.type==="childList")for(const l of i.addedNodes)l.tagName==="LINK"&&l.rel==="modulepreload"&&n(l)}).observe(document,{childList:!0,subtree:!0});function r(a){const i={};return a.integrity&&(i.integrity=a.integrity),a.referrerPolicy&&(i.referrerPolicy=a.referrerPolicy),a.crossOrigin==="use-credentials"?i.credentials="include":a.crossOrigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function n(a){if(a.ep)return;a.ep=!0;const i=r(a);fetch(a.href,i)}})();var n3e=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function Nf(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}var mw={exports:{}},nx={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var tE;function kz(){if(tE)return nx;tE=1;var e=Symbol.for("react.transitional.element"),t=Symbol.for("react.fragment");function r(n,a,i){var l=null;if(i!==void 0&&(l=""+i),a.key!==void 0&&(l=""+a.key),"key"in a){i={};for(var o in a)o!=="key"&&(i[o]=a[o])}else i=a;return a=i.ref,{$$typeof:e,type:n,key:l,ref:a!==void 0?a:null,props:i}}return nx.Fragment=t,nx.jsx=r,nx.jsxs=r,nx}var rE;function Cz(){return rE||(rE=1,mw.exports=kz()),mw.exports}var s=Cz(),pw={exports:{}},vr={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var nE;function Tz(){if(nE)return vr;nE=1;var e=Symbol.for("react.transitional.element"),t=Symbol.for("react.portal"),r=Symbol.for("react.fragment"),n=Symbol.for("react.strict_mode"),a=Symbol.for("react.profiler"),i=Symbol.for("react.consumer"),l=Symbol.for("react.context"),o=Symbol.for("react.forward_ref"),u=Symbol.for("react.suspense"),f=Symbol.for("react.memo"),h=Symbol.for("react.lazy"),m=Symbol.for("react.activity"),g=Symbol.iterator;function x(te){return te===null||typeof te!="object"?null:(te=g&&te[g]||te["@@iterator"],typeof te=="function"?te:null)}var b={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},v=Object.assign,w={};function N(te,M,R){this.props=te,this.context=M,this.refs=w,this.updater=R||b}N.prototype.isReactComponent={},N.prototype.setState=function(te,M){if(typeof te!="object"&&typeof te!="function"&&te!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,te,M,"setState")},N.prototype.forceUpdate=function(te){this.updater.enqueueForceUpdate(this,te,"forceUpdate")};function E(){}E.prototype=N.prototype;function j(te,M,R){this.props=te,this.context=M,this.refs=w,this.updater=R||b}var T=j.prototype=new E;T.constructor=j,v(T,N.prototype),T.isPureReactComponent=!0;var O=Array.isArray;function F(){}var D={H:null,A:null,T:null,S:null},L=Object.prototype.hasOwnProperty;function B(te,M,R){var q=R.ref;return{$$typeof:e,type:te,key:M,ref:q!==void 0?q:null,props:R}}function H(te,M){return B(te.type,M,te.props)}function P(te){return typeof te=="object"&&te!==null&&te.$$typeof===e}function U(te){var M={"=":"=0",":":"=2"};return"$"+te.replace(/[=:]/g,function(R){return M[R]})}var K=/\/+/g;function ee(te,M){return typeof te=="object"&&te!==null&&te.key!=null?U(""+te.key):M.toString(36)}function me(te){switch(te.status){case"fulfilled":return te.value;case"rejected":throw te.reason;default:switch(typeof te.status=="string"?te.then(F,F):(te.status="pending",te.then(function(M){te.status==="pending"&&(te.status="fulfilled",te.value=M)},function(M){te.status==="pending"&&(te.status="rejected",te.reason=M)})),te.status){case"fulfilled":return te.value;case"rejected":throw te.reason}}throw te}function ne(te,M,R,q,W){var J=typeof te;(J==="undefined"||J==="boolean")&&(te=null);var le=!1;if(te===null)le=!0;else switch(J){case"bigint":case"string":case"number":le=!0;break;case"object":switch(te.$$typeof){case e:case t:le=!0;break;case h:return le=te._init,ne(le(te._payload),M,R,q,W)}}if(le)return W=W(te),le=q===""?"."+ee(te,0):q,O(W)?(R="",le!=null&&(R=le.replace(K,"$&/")+"/"),ne(W,M,R,"",function(ge){return ge})):W!=null&&(P(W)&&(W=H(W,R+(W.key==null||te&&te.key===W.key?"":(""+W.key).replace(K,"$&/")+"/")+le)),M.push(W)),1;le=0;var ue=q===""?".":q+":";if(O(te))for(var X=0;X<te.length;X++)q=te[X],J=ue+ee(q,X),le+=ne(q,M,R,J,W);else if(X=x(te),typeof X=="function")for(te=X.call(te),X=0;!(q=te.next()).done;)q=q.value,J=ue+ee(q,X++),le+=ne(q,M,R,J,W);else if(J==="object"){if(typeof te.then=="function")return ne(me(te),M,R,q,W);throw M=String(te),Error("Objects are not valid as a React child (found: "+(M==="[object Object]"?"object with keys {"+Object.keys(te).join(", ")+"}":M)+"). If you meant to render a collection of children, use an array instead.")}return le}function se(te,M,R){if(te==null)return te;var q=[],W=0;return ne(te,q,"","",function(J){return M.call(R,J,W++)}),q}function ye(te){if(te._status===-1){var M=te._result;M=M(),M.then(function(R){(te._status===0||te._status===-1)&&(te._status=1,te._result=R)},function(R){(te._status===0||te._status===-1)&&(te._status=2,te._result=R)}),te._status===-1&&(te._status=0,te._result=M)}if(te._status===1)return te._result.default;throw te._result}var ce=typeof reportError=="function"?reportError:function(te){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var M=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof te=="object"&&te!==null&&typeof te.message=="string"?String(te.message):String(te),error:te});if(!window.dispatchEvent(M))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",te);return}console.error(te)},Se={map:se,forEach:function(te,M,R){se(te,function(){M.apply(this,arguments)},R)},count:function(te){var M=0;return se(te,function(){M++}),M},toArray:function(te){return se(te,function(M){return M})||[]},only:function(te){if(!P(te))throw Error("React.Children.only expected to receive a single React element child.");return te}};return vr.Activity=m,vr.Children=Se,vr.Component=N,vr.Fragment=r,vr.Profiler=a,vr.PureComponent=j,vr.StrictMode=n,vr.Suspense=u,vr.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=D,vr.__COMPILER_RUNTIME={__proto__:null,c:function(te){return D.H.useMemoCache(te)}},vr.cache=function(te){return function(){return te.apply(null,arguments)}},vr.cacheSignal=function(){return null},vr.cloneElement=function(te,M,R){if(te==null)throw Error("The argument must be a React element, but you passed "+te+".");var q=v({},te.props),W=te.key;if(M!=null)for(J in M.key!==void 0&&(W=""+M.key),M)!L.call(M,J)||J==="key"||J==="__self"||J==="__source"||J==="ref"&&M.ref===void 0||(q[J]=M[J]);var J=arguments.length-2;if(J===1)q.children=R;else if(1<J){for(var le=Array(J),ue=0;ue<J;ue++)le[ue]=arguments[ue+2];q.children=le}return B(te.type,W,q)},vr.createContext=function(te){return te={$$typeof:l,_currentValue:te,_currentValue2:te,_threadCount:0,Provider:null,Consumer:null},te.Provider=te,te.Consumer={$$typeof:i,_context:te},te},vr.createElement=function(te,M,R){var q,W={},J=null;if(M!=null)for(q in M.key!==void 0&&(J=""+M.key),M)L.call(M,q)&&q!=="key"&&q!=="__self"&&q!=="__source"&&(W[q]=M[q]);var le=arguments.length-2;if(le===1)W.children=R;else if(1<le){for(var ue=Array(le),X=0;X<le;X++)ue[X]=arguments[X+2];W.children=ue}if(te&&te.defaultProps)for(q in le=te.defaultProps,le)W[q]===void 0&&(W[q]=le[q]);return B(te,J,W)},vr.createRef=function(){return{current:null}},vr.forwardRef=function(te){return{$$typeof:o,render:te}},vr.isValidElement=P,vr.lazy=function(te){return{$$typeof:h,_payload:{_status:-1,_result:te},_init:ye}},vr.memo=function(te,M){return{$$typeof:f,type:te,compare:M===void 0?null:M}},vr.startTransition=function(te){var M=D.T,R={};D.T=R;try{var q=te(),W=D.S;W!==null&&W(R,q),typeof q=="object"&&q!==null&&typeof q.then=="function"&&q.then(F,ce)}catch(J){ce(J)}finally{M!==null&&R.types!==null&&(M.types=R.types),D.T=M}},vr.unstable_useCacheRefresh=function(){return D.H.useCacheRefresh()},vr.use=function(te){return D.H.use(te)},vr.useActionState=function(te,M,R){return D.H.useActionState(te,M,R)},vr.useCallback=function(te,M){return D.H.useCallback(te,M)},vr.useContext=function(te){return D.H.useContext(te)},vr.useDebugValue=function(){},vr.useDeferredValue=function(te,M){return D.H.useDeferredValue(te,M)},vr.useEffect=function(te,M){return D.H.useEffect(te,M)},vr.useEffectEvent=function(te){return D.H.useEffectEvent(te)},vr.useId=function(){return D.H.useId()},vr.useImperativeHandle=function(te,M,R){return D.H.useImperativeHandle(te,M,R)},vr.useInsertionEffect=function(te,M){return D.H.useInsertionEffect(te,M)},vr.useLayoutEffect=function(te,M){return D.H.useLayoutEffect(te,M)},vr.useMemo=function(te,M){return D.H.useMemo(te,M)},vr.useOptimistic=function(te,M){return D.H.useOptimistic(te,M)},vr.useReducer=function(te,M,R){return D.H.useReducer(te,M,R)},vr.useRef=function(te){return D.H.useRef(te)},vr.useState=function(te){return D.H.useState(te)},vr.useSyncExternalStore=function(te,M,R){return D.H.useSyncExternalStore(te,M,R)},vr.useTransition=function(){return D.H.useTransition()},vr.version="19.2.0",vr}var aE;function Zm(){return aE||(aE=1,pw.exports=Tz()),pw.exports}var k=Zm();const Zu=Nf(k),Oz=Ez({__proto__:null,default:Zu},[k]);var xw={exports:{}},ax={},gw={exports:{}},vw={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var iE;function Dz(){return iE||(iE=1,(function(e){function t(ne,se){var ye=ne.length;ne.push(se);e:for(;0<ye;){var ce=ye-1>>>1,Se=ne[ce];if(0<a(Se,se))ne[ce]=se,ne[ye]=Se,ye=ce;else break e}}function r(ne){return ne.length===0?null:ne[0]}function n(ne){if(ne.length===0)return null;var se=ne[0],ye=ne.pop();if(ye!==se){ne[0]=ye;e:for(var ce=0,Se=ne.length,te=Se>>>1;ce<te;){var M=2*(ce+1)-1,R=ne[M],q=M+1,W=ne[q];if(0>a(R,ye))q<Se&&0>a(W,R)?(ne[ce]=W,ne[q]=ye,ce=q):(ne[ce]=R,ne[M]=ye,ce=M);else if(q<Se&&0>a(W,ye))ne[ce]=W,ne[q]=ye,ce=q;else break e}}return se}function a(ne,se){var ye=ne.sortIndex-se.sortIndex;return ye!==0?ye:ne.id-se.id}if(e.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var i=performance;e.unstable_now=function(){return i.now()}}else{var l=Date,o=l.now();e.unstable_now=function(){return l.now()-o}}var u=[],f=[],h=1,m=null,g=3,x=!1,b=!1,v=!1,w=!1,N=typeof setTimeout=="function"?setTimeout:null,E=typeof clearTimeout=="function"?clearTimeout:null,j=typeof setImmediate<"u"?setImmediate:null;function T(ne){for(var se=r(f);se!==null;){if(se.callback===null)n(f);else if(se.startTime<=ne)n(f),se.sortIndex=se.expirationTime,t(u,se);else break;se=r(f)}}function O(ne){if(v=!1,T(ne),!b)if(r(u)!==null)b=!0,F||(F=!0,U());else{var se=r(f);se!==null&&me(O,se.startTime-ne)}}var F=!1,D=-1,L=5,B=-1;function H(){return w?!0:!(e.unstable_now()-B<L)}function P(){if(w=!1,F){var ne=e.unstable_now();B=ne;var se=!0;try{e:{b=!1,v&&(v=!1,E(D),D=-1),x=!0;var ye=g;try{t:{for(T(ne),m=r(u);m!==null&&!(m.expirationTime>ne&&H());){var ce=m.callback;if(typeof ce=="function"){m.callback=null,g=m.priorityLevel;var Se=ce(m.expirationTime<=ne);if(ne=e.unstable_now(),typeof Se=="function"){m.callback=Se,T(ne),se=!0;break t}m===r(u)&&n(u),T(ne)}else n(u);m=r(u)}if(m!==null)se=!0;else{var te=r(f);te!==null&&me(O,te.startTime-ne),se=!1}}break e}finally{m=null,g=ye,x=!1}se=void 0}}finally{se?U():F=!1}}}var U;if(typeof j=="function")U=function(){j(P)};else if(typeof MessageChannel<"u"){var K=new MessageChannel,ee=K.port2;K.port1.onmessage=P,U=function(){ee.postMessage(null)}}else U=function(){N(P,0)};function me(ne,se){D=N(function(){ne(e.unstable_now())},se)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(ne){ne.callback=null},e.unstable_forceFrameRate=function(ne){0>ne||125<ne?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):L=0<ne?Math.floor(1e3/ne):5},e.unstable_getCurrentPriorityLevel=function(){return g},e.unstable_next=function(ne){switch(g){case 1:case 2:case 3:var se=3;break;default:se=g}var ye=g;g=se;try{return ne()}finally{g=ye}},e.unstable_requestPaint=function(){w=!0},e.unstable_runWithPriority=function(ne,se){switch(ne){case 1:case 2:case 3:case 4:case 5:break;default:ne=3}var ye=g;g=ne;try{return se()}finally{g=ye}},e.unstable_scheduleCallback=function(ne,se,ye){var ce=e.unstable_now();switch(typeof ye=="object"&&ye!==null?(ye=ye.delay,ye=typeof ye=="number"&&0<ye?ce+ye:ce):ye=ce,ne){case 1:var Se=-1;break;case 2:Se=250;break;case 5:Se=1073741823;break;case 4:Se=1e4;break;default:Se=5e3}return Se=ye+Se,ne={id:h++,callback:se,priorityLevel:ne,startTime:ye,expirationTime:Se,sortIndex:-1},ye>ce?(ne.sortIndex=ye,t(f,ne),r(u)===null&&ne===r(f)&&(v?(E(D),D=-1):v=!0,me(O,ye-ce))):(ne.sortIndex=Se,t(u,ne),b||x||(b=!0,F||(F=!0,U()))),ne},e.unstable_shouldYield=H,e.unstable_wrapCallback=function(ne){var se=g;return function(){var ye=g;g=se;try{return ne.apply(this,arguments)}finally{g=ye}}}})(vw)),vw}var sE;function Fz(){return sE||(sE=1,gw.exports=Dz()),gw.exports}var yw={exports:{}},ms={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var lE;function Pz(){if(lE)return ms;lE=1;var e=Zm();function t(u){var f="https://react.dev/errors/"+u;if(1<arguments.length){f+="?args[]="+encodeURIComponent(arguments[1]);for(var h=2;h<arguments.length;h++)f+="&args[]="+encodeURIComponent(arguments[h])}return"Minified React error #"+u+"; visit "+f+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function r(){}var n={d:{f:r,r:function(){throw Error(t(522))},D:r,C:r,L:r,m:r,X:r,S:r,M:r},p:0,findDOMNode:null},a=Symbol.for("react.portal");function i(u,f,h){var m=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:a,key:m==null?null:""+m,children:u,containerInfo:f,implementation:h}}var l=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function o(u,f){if(u==="font")return"";if(typeof f=="string")return f==="use-credentials"?f:""}return ms.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=n,ms.createPortal=function(u,f){var h=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!f||f.nodeType!==1&&f.nodeType!==9&&f.nodeType!==11)throw Error(t(299));return i(u,f,null,h)},ms.flushSync=function(u){var f=l.T,h=n.p;try{if(l.T=null,n.p=2,u)return u()}finally{l.T=f,n.p=h,n.d.f()}},ms.preconnect=function(u,f){typeof u=="string"&&(f?(f=f.crossOrigin,f=typeof f=="string"?f==="use-credentials"?f:"":void 0):f=null,n.d.C(u,f))},ms.prefetchDNS=function(u){typeof u=="string"&&n.d.D(u)},ms.preinit=function(u,f){if(typeof u=="string"&&f&&typeof f.as=="string"){var h=f.as,m=o(h,f.crossOrigin),g=typeof f.integrity=="string"?f.integrity:void 0,x=typeof f.fetchPriority=="string"?f.fetchPriority:void 0;h==="style"?n.d.S(u,typeof f.precedence=="string"?f.precedence:void 0,{crossOrigin:m,integrity:g,fetchPriority:x}):h==="script"&&n.d.X(u,{crossOrigin:m,integrity:g,fetchPriority:x,nonce:typeof f.nonce=="string"?f.nonce:void 0})}},ms.preinitModule=function(u,f){if(typeof u=="string")if(typeof f=="object"&&f!==null){if(f.as==null||f.as==="script"){var h=o(f.as,f.crossOrigin);n.d.M(u,{crossOrigin:h,integrity:typeof f.integrity=="string"?f.integrity:void 0,nonce:typeof f.nonce=="string"?f.nonce:void 0})}}else f==null&&n.d.M(u)},ms.preload=function(u,f){if(typeof u=="string"&&typeof f=="object"&&f!==null&&typeof f.as=="string"){var h=f.as,m=o(h,f.crossOrigin);n.d.L(u,h,{crossOrigin:m,integrity:typeof f.integrity=="string"?f.integrity:void 0,nonce:typeof f.nonce=="string"?f.nonce:void 0,type:typeof f.type=="string"?f.type:void 0,fetchPriority:typeof f.fetchPriority=="string"?f.fetchPriority:void 0,referrerPolicy:typeof f.referrerPolicy=="string"?f.referrerPolicy:void 0,imageSrcSet:typeof f.imageSrcSet=="string"?f.imageSrcSet:void 0,imageSizes:typeof f.imageSizes=="string"?f.imageSizes:void 0,media:typeof f.media=="string"?f.media:void 0})}},ms.preloadModule=function(u,f){if(typeof u=="string")if(f){var h=o(f.as,f.crossOrigin);n.d.m(u,{as:typeof f.as=="string"&&f.as!=="script"?f.as:void 0,crossOrigin:h,integrity:typeof f.integrity=="string"?f.integrity:void 0})}else n.d.m(u)},ms.requestFormReset=function(u){n.d.r(u)},ms.unstable_batchedUpdates=function(u,f){return u(f)},ms.useFormState=function(u,f,h){return l.H.useFormState(u,f,h)},ms.useFormStatus=function(){return l.H.useHostTransitionStatus()},ms.version="19.2.0",ms}var oE;function xD(){if(oE)return yw.exports;oE=1;function e(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(t){console.error(t)}}return e(),yw.exports=Pz(),yw.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var cE;function Lz(){if(cE)return ax;cE=1;var e=Fz(),t=Zm(),r=xD();function n(c){var d="https://react.dev/errors/"+c;if(1<arguments.length){d+="?args[]="+encodeURIComponent(arguments[1]);for(var p=2;p<arguments.length;p++)d+="&args[]="+encodeURIComponent(arguments[p])}return"Minified React error #"+c+"; visit "+d+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function a(c){return!(!c||c.nodeType!==1&&c.nodeType!==9&&c.nodeType!==11)}function i(c){var d=c,p=c;if(c.alternate)for(;d.return;)d=d.return;else{c=d;do d=c,(d.flags&4098)!==0&&(p=d.return),c=d.return;while(c)}return d.tag===3?p:null}function l(c){if(c.tag===13){var d=c.memoizedState;if(d===null&&(c=c.alternate,c!==null&&(d=c.memoizedState)),d!==null)return d.dehydrated}return null}function o(c){if(c.tag===31){var d=c.memoizedState;if(d===null&&(c=c.alternate,c!==null&&(d=c.memoizedState)),d!==null)return d.dehydrated}return null}function u(c){if(i(c)!==c)throw Error(n(188))}function f(c){var d=c.alternate;if(!d){if(d=i(c),d===null)throw Error(n(188));return d!==c?null:c}for(var p=c,y=d;;){var S=p.return;if(S===null)break;var C=S.alternate;if(C===null){if(y=S.return,y!==null){p=y;continue}break}if(S.child===C.child){for(C=S.child;C;){if(C===p)return u(S),c;if(C===y)return u(S),d;C=C.sibling}throw Error(n(188))}if(p.return!==y.return)p=S,y=C;else{for(var G=!1,oe=S.child;oe;){if(oe===p){G=!0,p=S,y=C;break}if(oe===y){G=!0,y=S,p=C;break}oe=oe.sibling}if(!G){for(oe=C.child;oe;){if(oe===p){G=!0,p=C,y=S;break}if(oe===y){G=!0,y=C,p=S;break}oe=oe.sibling}if(!G)throw Error(n(189))}}if(p.alternate!==y)throw Error(n(190))}if(p.tag!==3)throw Error(n(188));return p.stateNode.current===p?c:d}function h(c){var d=c.tag;if(d===5||d===26||d===27||d===6)return c;for(c=c.child;c!==null;){if(d=h(c),d!==null)return d;c=c.sibling}return null}var m=Object.assign,g=Symbol.for("react.element"),x=Symbol.for("react.transitional.element"),b=Symbol.for("react.portal"),v=Symbol.for("react.fragment"),w=Symbol.for("react.strict_mode"),N=Symbol.for("react.profiler"),E=Symbol.for("react.consumer"),j=Symbol.for("react.context"),T=Symbol.for("react.forward_ref"),O=Symbol.for("react.suspense"),F=Symbol.for("react.suspense_list"),D=Symbol.for("react.memo"),L=Symbol.for("react.lazy"),B=Symbol.for("react.activity"),H=Symbol.for("react.memo_cache_sentinel"),P=Symbol.iterator;function U(c){return c===null||typeof c!="object"?null:(c=P&&c[P]||c["@@iterator"],typeof c=="function"?c:null)}var K=Symbol.for("react.client.reference");function ee(c){if(c==null)return null;if(typeof c=="function")return c.$$typeof===K?null:c.displayName||c.name||null;if(typeof c=="string")return c;switch(c){case v:return"Fragment";case N:return"Profiler";case w:return"StrictMode";case O:return"Suspense";case F:return"SuspenseList";case B:return"Activity"}if(typeof c=="object")switch(c.$$typeof){case b:return"Portal";case j:return c.displayName||"Context";case E:return(c._context.displayName||"Context")+".Consumer";case T:var d=c.render;return c=c.displayName,c||(c=d.displayName||d.name||"",c=c!==""?"ForwardRef("+c+")":"ForwardRef"),c;case D:return d=c.displayName||null,d!==null?d:ee(c.type)||"Memo";case L:d=c._payload,c=c._init;try{return ee(c(d))}catch{}}return null}var me=Array.isArray,ne=t.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,se=r.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,ye={pending:!1,data:null,method:null,action:null},ce=[],Se=-1;function te(c){return{current:c}}function M(c){0>Se||(c.current=ce[Se],ce[Se]=null,Se--)}function R(c,d){Se++,ce[Se]=c.current,c.current=d}var q=te(null),W=te(null),J=te(null),le=te(null);function ue(c,d){switch(R(J,d),R(W,c),R(q,null),d.nodeType){case 9:case 11:c=(c=d.documentElement)&&(c=c.namespaceURI)?jA(c):0;break;default:if(c=d.tagName,d=d.namespaceURI)d=jA(d),c=SA(d,c);else switch(c){case"svg":c=1;break;case"math":c=2;break;default:c=0}}M(q),R(q,c)}function X(){M(q),M(W),M(J)}function ge(c){c.memoizedState!==null&&R(le,c);var d=q.current,p=SA(d,c.type);d!==p&&(R(W,c),R(q,p))}function Te(c){W.current===c&&(M(q),M(W)),le.current===c&&(M(le),Jp._currentValue=ye)}var Y,We;function Ee(c){if(Y===void 0)try{throw Error()}catch(p){var d=p.stack.trim().match(/\n( *(at )?)/);Y=d&&d[1]||"",We=-1<p.stack.indexOf(`
    at`)?" (<anonymous>)":-1<p.stack.indexOf("@")?"@unknown:0:0":""}return`
`+Y+c+We}var xe=!1;function dt(c,d){if(!c||xe)return"";xe=!0;var p=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var y={DetermineComponentFrameRoot:function(){try{if(d){var st=function(){throw Error()};if(Object.defineProperty(st.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(st,[])}catch(Ge){var Ve=Ge}Reflect.construct(c,[],st)}else{try{st.call()}catch(Ge){Ve=Ge}c.call(st.prototype)}}else{try{throw Error()}catch(Ge){Ve=Ge}(st=c())&&typeof st.catch=="function"&&st.catch(function(){})}}catch(Ge){if(Ge&&Ve&&typeof Ge.stack=="string")return[Ge.stack,Ve.stack]}return[null,null]}};y.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var S=Object.getOwnPropertyDescriptor(y.DetermineComponentFrameRoot,"name");S&&S.configurable&&Object.defineProperty(y.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var C=y.DetermineComponentFrameRoot(),G=C[0],oe=C[1];if(G&&oe){var Ae=G.split(`
`),$e=oe.split(`
`);for(S=y=0;y<Ae.length&&!Ae[y].includes("DetermineComponentFrameRoot");)y++;for(;S<$e.length&&!$e[S].includes("DetermineComponentFrameRoot");)S++;if(y===Ae.length||S===$e.length)for(y=Ae.length-1,S=$e.length-1;1<=y&&0<=S&&Ae[y]!==$e[S];)S--;for(;1<=y&&0<=S;y--,S--)if(Ae[y]!==$e[S]){if(y!==1||S!==1)do if(y--,S--,0>S||Ae[y]!==$e[S]){var tt=`
`+Ae[y].replace(" at new "," at ");return c.displayName&&tt.includes("<anonymous>")&&(tt=tt.replace("<anonymous>",c.displayName)),tt}while(1<=y&&0<=S);break}}}finally{xe=!1,Error.prepareStackTrace=p}return(p=c?c.displayName||c.name:"")?Ee(p):""}function Xe(c,d){switch(c.tag){case 26:case 27:case 5:return Ee(c.type);case 16:return Ee("Lazy");case 13:return c.child!==d&&d!==null?Ee("Suspense Fallback"):Ee("Suspense");case 19:return Ee("SuspenseList");case 0:case 15:return dt(c.type,!1);case 11:return dt(c.type.render,!1);case 1:return dt(c.type,!0);case 31:return Ee("Activity");default:return""}}function bt(c){try{var d="",p=null;do d+=Xe(c,p),p=c,c=c.return;while(c);return d}catch(y){return`
Error generating stack: `+y.message+`
`+y.stack}}var lt=Object.prototype.hasOwnProperty,Ct=e.unstable_scheduleCallback,xt=e.unstable_cancelCallback,Ke=e.unstable_shouldYield,pt=e.unstable_requestPaint,Et=e.unstable_now,zt=e.unstable_getCurrentPriorityLevel,Gt=e.unstable_ImmediatePriority,Ar=e.unstable_UserBlockingPriority,Lt=e.unstable_NormalPriority,Dt=e.unstable_LowPriority,yt=e.unstable_IdlePriority,kt=e.log,_r=e.unstable_setDisableYieldValue,Zt=null,At=null;function er(c){if(typeof kt=="function"&&_r(c),At&&typeof At.setStrictMode=="function")try{At.setStrictMode(Zt,c)}catch{}}var br=Math.clz32?Math.clz32:dr,ar=Math.log,Er=Math.LN2;function dr(c){return c>>>=0,c===0?32:31-(ar(c)/Er|0)|0}var pn=256,Un=262144,qr=4194304;function Yt(c){var d=c&42;if(d!==0)return d;switch(c&-c){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return c&261888;case 262144:case 524288:case 1048576:case 2097152:return c&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return c&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return c}}function Fr(c,d,p){var y=c.pendingLanes;if(y===0)return 0;var S=0,C=c.suspendedLanes,G=c.pingedLanes;c=c.warmLanes;var oe=y&134217727;return oe!==0?(y=oe&~C,y!==0?S=Yt(y):(G&=oe,G!==0?S=Yt(G):p||(p=oe&~c,p!==0&&(S=Yt(p))))):(oe=y&~C,oe!==0?S=Yt(oe):G!==0?S=Yt(G):p||(p=y&~c,p!==0&&(S=Yt(p)))),S===0?0:d!==0&&d!==S&&(d&C)===0&&(C=S&-S,p=d&-d,C>=p||C===32&&(p&4194048)!==0)?d:S}function Rs(c,d){return(c.pendingLanes&~(c.suspendedLanes&~c.pingedLanes)&d)===0}function Qa(c,d){switch(c){case 1:case 2:case 4:case 8:case 64:return d+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return d+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function al(){var c=qr;return qr<<=1,(qr&62914560)===0&&(qr=4194304),c}function us(c){for(var d=[],p=0;31>p;p++)d.push(c);return d}function Xt(c,d){c.pendingLanes|=d,d!==268435456&&(c.suspendedLanes=0,c.pingedLanes=0,c.warmLanes=0)}function Ol(c,d,p,y,S,C){var G=c.pendingLanes;c.pendingLanes=p,c.suspendedLanes=0,c.pingedLanes=0,c.warmLanes=0,c.expiredLanes&=p,c.entangledLanes&=p,c.errorRecoveryDisabledLanes&=p,c.shellSuspendCounter=0;var oe=c.entanglements,Ae=c.expirationTimes,$e=c.hiddenUpdates;for(p=G&~p;0<p;){var tt=31-br(p),st=1<<tt;oe[tt]=0,Ae[tt]=-1;var Ve=$e[tt];if(Ve!==null)for($e[tt]=null,tt=0;tt<Ve.length;tt++){var Ge=Ve[tt];Ge!==null&&(Ge.lane&=-536870913)}p&=~st}y!==0&&il(c,y,0),C!==0&&S===0&&c.tag!==0&&(c.suspendedLanes|=C&~(G&~d))}function il(c,d,p){c.pendingLanes|=d,c.suspendedLanes&=~d;var y=31-br(d);c.entangledLanes|=d,c.entanglements[y]=c.entanglements[y]|1073741824|p&261930}function oi(c,d){var p=c.entangledLanes|=d;for(c=c.entanglements;p;){var y=31-br(p),S=1<<y;S&d|c[y]&d&&(c[y]|=d),p&=~S}}function Vi(c,d){var p=d&-d;return p=(p&42)!==0?1:jn(p),(p&(c.suspendedLanes|d))!==0?0:p}function jn(c){switch(c){case 2:c=1;break;case 8:c=4;break;case 32:c=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:c=128;break;case 268435456:c=134217728;break;default:c=0}return c}function ra(c){return c&=-c,2<c?8<c?(c&134217727)!==0?32:268435456:8:2}function re(){var c=se.p;return c!==0?c:(c=window.event,c===void 0?32:KA(c.type))}function Ne(c,d){var p=se.p;try{return se.p=c,d()}finally{se.p=p}}var de=Math.random().toString(36).slice(2),he="__reactFiber$"+de,ve="__reactProps$"+de,je="__reactContainer$"+de,Me="__reactEvents$"+de,Ye="__reactListeners$"+de,Ie="__reactHandles$"+de,Be="__reactResources$"+de,ze="__reactMarker$"+de;function ft(c){delete c[he],delete c[ve],delete c[Me],delete c[Ye],delete c[Ie]}function gt(c){var d=c[he];if(d)return d;for(var p=c.parentNode;p;){if(d=p[je]||p[he]){if(p=d.alternate,d.child!==null||p!==null&&p.child!==null)for(c=DA(c);c!==null;){if(p=c[he])return p;c=DA(c)}return d}c=p,p=c.parentNode}return null}function St(c){if(c=c[he]||c[je]){var d=c.tag;if(d===5||d===6||d===13||d===31||d===26||d===27||d===3)return c}return null}function mt(c){var d=c.tag;if(d===5||d===26||d===27||d===6)return c.stateNode;throw Error(n(33))}function Nt(c){var d=c[Be];return d||(d=c[Be]={hoistableStyles:new Map,hoistableScripts:new Map}),d}function Ft(c){c[ze]=!0}var ln=new Set,Cr={};function fn(c,d){Wi(c,d),Wi(c+"Capture",d)}function Wi(c,d){for(Cr[c]=d,c=0;c<d.length;c++)ln.add(d[c])}var Dl=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),Fl={},Is={};function Rc(c){return lt.call(Is,c)?!0:lt.call(Fl,c)?!1:Dl.test(c)?Is[c]=!0:(Fl[c]=!0,!1)}function Ba(c,d,p){if(Rc(d))if(p===null)c.removeAttribute(d);else{switch(typeof p){case"undefined":case"function":case"symbol":c.removeAttribute(d);return;case"boolean":var y=d.toLowerCase().slice(0,5);if(y!=="data-"&&y!=="aria-"){c.removeAttribute(d);return}}c.setAttribute(d,""+p)}}function Ff(c,d,p){if(p===null)c.removeAttribute(d);else{switch(typeof p){case"undefined":case"function":case"symbol":case"boolean":c.removeAttribute(d);return}c.setAttribute(d,""+p)}}function dn(c,d,p,y){if(y===null)c.removeAttribute(p);else{switch(typeof y){case"undefined":case"function":case"symbol":case"boolean":c.removeAttribute(p);return}c.setAttributeNS(d,p,""+y)}}function Gi(c){switch(typeof c){case"bigint":case"boolean":case"number":case"string":case"undefined":return c;case"object":return c;default:return""}}function Wd(c){var d=c.type;return(c=c.nodeName)&&c.toLowerCase()==="input"&&(d==="checkbox"||d==="radio")}function Ko(c,d,p){var y=Object.getOwnPropertyDescriptor(c.constructor.prototype,d);if(!c.hasOwnProperty(d)&&typeof y<"u"&&typeof y.get=="function"&&typeof y.set=="function"){var S=y.get,C=y.set;return Object.defineProperty(c,d,{configurable:!0,get:function(){return S.call(this)},set:function(G){p=""+G,C.call(this,G)}}),Object.defineProperty(c,d,{enumerable:y.enumerable}),{getValue:function(){return p},setValue:function(G){p=""+G},stopTracking:function(){c._valueTracker=null,delete c[d]}}}}function Yo(c){if(!c._valueTracker){var d=Wd(c)?"checked":"value";c._valueTracker=Ko(c,d,""+c[d])}}function sl(c){if(!c)return!1;var d=c._valueTracker;if(!d)return!0;var p=d.getValue(),y="";return c&&(y=Wd(c)?c.checked?"true":"false":c.value),c=y,c!==p?(d.setValue(c),!0):!1}function lo(c){if(c=c||(typeof document<"u"?document:void 0),typeof c>"u")return null;try{return c.activeElement||c.body}catch{return c.body}}var ga=/[\n"\\]/g;function Ti(c){return c.replace(ga,function(d){return"\\"+d.charCodeAt(0).toString(16)+" "})}function Gd(c,d,p,y,S,C,G,oe){c.name="",G!=null&&typeof G!="function"&&typeof G!="symbol"&&typeof G!="boolean"?c.type=G:c.removeAttribute("type"),d!=null?G==="number"?(d===0&&c.value===""||c.value!=d)&&(c.value=""+Gi(d)):c.value!==""+Gi(d)&&(c.value=""+Gi(d)):G!=="submit"&&G!=="reset"||c.removeAttribute("value"),d!=null?Kd(c,G,Gi(d)):p!=null?Kd(c,G,Gi(p)):y!=null&&c.removeAttribute("value"),S==null&&C!=null&&(c.defaultChecked=!!C),S!=null&&(c.checked=S&&typeof S!="function"&&typeof S!="symbol"),oe!=null&&typeof oe!="function"&&typeof oe!="symbol"&&typeof oe!="boolean"?c.name=""+Gi(oe):c.removeAttribute("name")}function wh(c,d,p,y,S,C,G,oe){if(C!=null&&typeof C!="function"&&typeof C!="symbol"&&typeof C!="boolean"&&(c.type=C),d!=null||p!=null){if(!(C!=="submit"&&C!=="reset"||d!=null)){Yo(c);return}p=p!=null?""+Gi(p):"",d=d!=null?""+Gi(d):p,oe||d===c.value||(c.value=d),c.defaultValue=d}y=y??S,y=typeof y!="function"&&typeof y!="symbol"&&!!y,c.checked=oe?c.checked:!!y,c.defaultChecked=!!y,G!=null&&typeof G!="function"&&typeof G!="symbol"&&typeof G!="boolean"&&(c.name=G),Yo(c)}function Kd(c,d,p){d==="number"&&lo(c.ownerDocument)===c||c.defaultValue===""+p||(c.defaultValue=""+p)}function Ki(c,d,p,y){if(c=c.options,d){d={};for(var S=0;S<p.length;S++)d["$"+p[S]]=!0;for(p=0;p<c.length;p++)S=d.hasOwnProperty("$"+c[p].value),c[p].selected!==S&&(c[p].selected=S),S&&y&&(c[p].defaultSelected=!0)}else{for(p=""+Gi(p),d=null,S=0;S<c.length;S++){if(c[S].value===p){c[S].selected=!0,y&&(c[S].defaultSelected=!0);return}d!==null||c[S].disabled||(d=c[S])}d!==null&&(d.selected=!0)}}function Yd(c,d,p){if(d!=null&&(d=""+Gi(d),d!==c.value&&(c.value=d),p==null)){c.defaultValue!==d&&(c.defaultValue=d);return}c.defaultValue=p!=null?""+Gi(p):""}function Xd(c,d,p,y){if(d==null){if(y!=null){if(p!=null)throw Error(n(92));if(me(y)){if(1<y.length)throw Error(n(93));y=y[0]}p=y}p==null&&(p=""),d=p}p=Gi(d),c.defaultValue=p,y=c.textContent,y===p&&y!==""&&y!==null&&(c.value=y),Yo(c)}function Bs(c,d){if(d){var p=c.firstChild;if(p&&p===c.lastChild&&p.nodeType===3){p.nodeValue=d;return}}c.textContent=d}var Qd=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function Nh(c,d,p){var y=d.indexOf("--")===0;p==null||typeof p=="boolean"||p===""?y?c.setProperty(d,""):d==="float"?c.cssFloat="":c[d]="":y?c.setProperty(d,p):typeof p!="number"||p===0||Qd.has(d)?d==="float"?c.cssFloat=p:c[d]=(""+p).trim():c[d]=p+"px"}function _h(c,d,p){if(d!=null&&typeof d!="object")throw Error(n(62));if(c=c.style,p!=null){for(var y in p)!p.hasOwnProperty(y)||d!=null&&d.hasOwnProperty(y)||(y.indexOf("--")===0?c.setProperty(y,""):y==="float"?c.cssFloat="":c[y]="");for(var S in d)y=d[S],d.hasOwnProperty(S)&&p[S]!==y&&Nh(c,S,y)}else for(var C in d)d.hasOwnProperty(C)&&Nh(c,C,d[C])}function Zd(c){if(c.indexOf("-")===-1)return!1;switch(c){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Jd=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),yu=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function Pl(c){return yu.test(""+c)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":c}function Ll(){}var Xo=null;function bu(c){return c=c.target||c.srcElement||window,c.correspondingUseElement&&(c=c.correspondingUseElement),c.nodeType===3?c.parentNode:c}var ir=null,Ic=null;function jh(c){var d=St(c);if(d&&(c=d.stateNode)){var p=c[ve]||null;e:switch(c=d.stateNode,d.type){case"input":if(Gd(c,p.value,p.defaultValue,p.defaultValue,p.checked,p.defaultChecked,p.type,p.name),d=p.name,p.type==="radio"&&d!=null){for(p=c;p.parentNode;)p=p.parentNode;for(p=p.querySelectorAll('input[name="'+Ti(""+d)+'"][type="radio"]'),d=0;d<p.length;d++){var y=p[d];if(y!==c&&y.form===c.form){var S=y[ve]||null;if(!S)throw Error(n(90));Gd(y,S.value,S.defaultValue,S.defaultValue,S.checked,S.defaultChecked,S.type,S.name)}}for(d=0;d<p.length;d++)y=p[d],y.form===c.form&&sl(y)}break e;case"textarea":Yd(c,p.value,p.defaultValue);break e;case"select":d=p.value,d!=null&&Ki(c,!!p.multiple,d,!1)}}}var e0=!1;function Sh(c,d,p){if(e0)return c(d,p);e0=!0;try{var y=c(d);return y}finally{if(e0=!1,(ir!==null||Ic!==null)&&(_1(),ir&&(d=ir,c=Ic,Ic=ir=null,jh(d),c)))for(d=0;d<c.length;d++)jh(c[d])}}function Us(c,d){var p=c.stateNode;if(p===null)return null;var y=p[ve]||null;if(y===null)return null;p=y[d];e:switch(d){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(y=!y.disabled)||(c=c.type,y=!(c==="button"||c==="input"||c==="select"||c==="textarea")),c=!y;break e;default:c=!1}if(c)return null;if(p&&typeof p!="function")throw Error(n(231,d,typeof p));return p}var ci=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),t0=!1;if(ci)try{var wu={};Object.defineProperty(wu,"passive",{get:function(){t0=!0}}),window.addEventListener("test",wu,wu),window.removeEventListener("test",wu,wu)}catch{t0=!1}var zs=null,Nu=null,oo=null;function _u(){if(oo)return oo;var c,d=Nu,p=d.length,y,S="value"in zs?zs.value:zs.textContent,C=S.length;for(c=0;c<p&&d[c]===S[c];c++);var G=p-c;for(y=1;y<=G&&d[p-y]===S[C-y];y++);return oo=S.slice(c,1<y?1-y:void 0)}function Qo(c){var d=c.keyCode;return"charCode"in c?(c=c.charCode,c===0&&d===13&&(c=13)):c=d,c===10&&(c=13),32<=c||c===13?c:0}function Pf(){return!0}function Lf(){return!1}function Za(c){function d(p,y,S,C,G){this._reactName=p,this._targetInst=S,this.type=y,this.nativeEvent=C,this.target=G,this.currentTarget=null;for(var oe in c)c.hasOwnProperty(oe)&&(p=c[oe],this[oe]=p?p(C):C[oe]);return this.isDefaultPrevented=(C.defaultPrevented!=null?C.defaultPrevented:C.returnValue===!1)?Pf:Lf,this.isPropagationStopped=Lf,this}return m(d.prototype,{preventDefault:function(){this.defaultPrevented=!0;var p=this.nativeEvent;p&&(p.preventDefault?p.preventDefault():typeof p.returnValue!="unknown"&&(p.returnValue=!1),this.isDefaultPrevented=Pf)},stopPropagation:function(){var p=this.nativeEvent;p&&(p.stopPropagation?p.stopPropagation():typeof p.cancelBubble!="unknown"&&(p.cancelBubble=!0),this.isPropagationStopped=Pf)},persist:function(){},isPersistent:Pf}),d}var qs={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(c){return c.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},co=Za(qs),Zo=m({},qs,{view:0,detail:0}),Mf=Za(Zo),ju,Jo,Bc,Su=m({},Zo,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:cr,button:0,buttons:0,relatedTarget:function(c){return c.relatedTarget===void 0?c.fromElement===c.srcElement?c.toElement:c.fromElement:c.relatedTarget},movementX:function(c){return"movementX"in c?c.movementX:(c!==Bc&&(Bc&&c.type==="mousemove"?(ju=c.screenX-Bc.screenX,Jo=c.screenY-Bc.screenY):Jo=ju=0,Bc=c),ju)},movementY:function(c){return"movementY"in c?c.movementY:Jo}}),uo=Za(Su),ec=m({},Su,{dataTransfer:0}),Ah=Za(ec),Eh=m({},Zo,{relatedTarget:0}),tc=Za(Eh),kh=m({},qs,{animationName:0,elapsedTime:0,pseudoElement:0}),I=Za(kh),Q=m({},qs,{clipboardData:function(c){return"clipboardData"in c?c.clipboardData:window.clipboardData}}),_e=Za(Q),ke=m({},qs,{data:0}),Fe=Za(ke),rt={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},ct={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Bt={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Vt(c){var d=this.nativeEvent;return d.getModifierState?d.getModifierState(c):(c=Bt[c])?!!d[c]:!1}function cr(){return Vt}var xr=m({},Zo,{key:function(c){if(c.key){var d=rt[c.key]||c.key;if(d!=="Unidentified")return d}return c.type==="keypress"?(c=Qo(c),c===13?"Enter":String.fromCharCode(c)):c.type==="keydown"||c.type==="keyup"?ct[c.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:cr,charCode:function(c){return c.type==="keypress"?Qo(c):0},keyCode:function(c){return c.type==="keydown"||c.type==="keyup"?c.keyCode:0},which:function(c){return c.type==="keypress"?Qo(c):c.type==="keydown"||c.type==="keyup"?c.keyCode:0}}),Kr=Za(xr),Vn=m({},Su,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),va=Za(Vn),Sn=m({},Zo,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:cr}),Ua=Za(Sn),Aa=m({},qs,{propertyName:0,elapsedTime:0,pseudoElement:0}),ui=Za(Aa),ll=m({},Su,{deltaX:function(c){return"deltaX"in c?c.deltaX:"wheelDeltaX"in c?-c.wheelDeltaX:0},deltaY:function(c){return"deltaY"in c?c.deltaY:"wheelDeltaY"in c?-c.wheelDeltaY:"wheelDelta"in c?-c.wheelDelta:0},deltaZ:0,deltaMode:0}),fs=Za(ll),Ch=m({},qs,{newState:0,oldState:0}),Rf=Za(Ch),Au=[9,13,27,32],fo=ci&&"CompositionEvent"in window,Ml=null;ci&&"documentMode"in document&&(Ml=document.documentMode);var Eu=ci&&"TextEvent"in window&&!Ml,Uc=ci&&(!fo||Ml&&8<Ml&&11>=Ml),fi=" ",zc=!1;function qc(c,d){switch(c){case"keyup":return Au.indexOf(d.keyCode)!==-1;case"keydown":return d.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function If(c){return c=c.detail,typeof c=="object"&&"data"in c?c.data:null}var ho=!1;function na(c,d){switch(c){case"compositionend":return If(d);case"keypress":return d.which!==32?null:(zc=!0,fi);case"textInput":return c=d.data,c===fi&&zc?null:c;default:return null}}function rc(c,d){if(ho)return c==="compositionend"||!fo&&qc(c,d)?(c=_u(),oo=Nu=zs=null,ho=!1,c):null;switch(c){case"paste":return null;case"keypress":if(!(d.ctrlKey||d.altKey||d.metaKey)||d.ctrlKey&&d.altKey){if(d.char&&1<d.char.length)return d.char;if(d.which)return String.fromCharCode(d.which)}return null;case"compositionend":return Uc&&d.locale!=="ko"?null:d.data;default:return null}}var Bf={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function r0(c){var d=c&&c.nodeName&&c.nodeName.toLowerCase();return d==="input"?!!Bf[c.type]:d==="textarea"}function $s(c,d,p,y){ir?Ic?Ic.push(y):Ic=[y]:ir=y,d=T1(d,"onChange"),0<d.length&&(p=new co("onChange","change",null,p,y),c.push({event:p,listeners:d}))}var Rl=null,nc=null;function n0(c){vA(c,0)}function Il(c){var d=mt(c);if(sl(d))return c}function $c(c,d){if(c==="change")return d}var ds=!1;if(ci){var Yi;if(ci){var mo="oninput"in document;if(!mo){var po=document.createElement("div");po.setAttribute("oninput","return;"),mo=typeof po.oninput=="function"}Yi=mo}else Yi=!1;ds=Yi&&(!document.documentMode||9<document.documentMode)}function ac(){Rl&&(Rl.detachEvent("onpropertychange",Uf),nc=Rl=null)}function Uf(c){if(c.propertyName==="value"&&Il(nc)){var d=[];$s(d,nc,c,bu(c)),Sh(n0,d)}}function zf(c,d,p){c==="focusin"?(ac(),Rl=d,nc=p,Rl.attachEvent("onpropertychange",Uf)):c==="focusout"&&ac()}function ya(c){if(c==="selectionchange"||c==="keyup"||c==="keydown")return Il(nc)}function Th(c,d){if(c==="click")return Il(d)}function xo(c,d){if(c==="input"||c==="change")return Il(d)}function go(c,d){return c===d&&(c!==0||1/c===1/d)||c!==c&&d!==d}var di=typeof Object.is=="function"?Object.is:go;function ic(c,d){if(di(c,d))return!0;if(typeof c!="object"||c===null||typeof d!="object"||d===null)return!1;var p=Object.keys(c),y=Object.keys(d);if(p.length!==y.length)return!1;for(y=0;y<p.length;y++){var S=p[y];if(!lt.call(d,S)||!di(c[S],d[S]))return!1}return!0}function qf(c){for(;c&&c.firstChild;)c=c.firstChild;return c}function $f(c,d){var p=qf(c);c=0;for(var y;p;){if(p.nodeType===3){if(y=c+p.textContent.length,c<=d&&y>=d)return{node:p,offset:d-c};c=y}e:{for(;p;){if(p.nextSibling){p=p.nextSibling;break e}p=p.parentNode}p=void 0}p=qf(p)}}function sc(c,d){return c&&d?c===d?!0:c&&c.nodeType===3?!1:d&&d.nodeType===3?sc(c,d.parentNode):"contains"in c?c.contains(d):c.compareDocumentPosition?!!(c.compareDocumentPosition(d)&16):!1:!1}function lc(c){c=c!=null&&c.ownerDocument!=null&&c.ownerDocument.defaultView!=null?c.ownerDocument.defaultView:window;for(var d=lo(c.document);d instanceof c.HTMLIFrameElement;){try{var p=typeof d.contentWindow.location.href=="string"}catch{p=!1}if(p)c=d.contentWindow;else break;d=lo(c.document)}return d}function vo(c){var d=c&&c.nodeName&&c.nodeName.toLowerCase();return d&&(d==="input"&&(c.type==="text"||c.type==="search"||c.type==="tel"||c.type==="url"||c.type==="password")||d==="textarea"||c.contentEditable==="true")}var ku=ci&&"documentMode"in document&&11>=document.documentMode,Hs=null,oc=null,Oi=null,ol=!1;function Yr(c,d,p){var y=p.window===p?p.document:p.nodeType===9?p:p.ownerDocument;ol||Hs==null||Hs!==lo(y)||(y=Hs,"selectionStart"in y&&vo(y)?y={start:y.selectionStart,end:y.selectionEnd}:(y=(y.ownerDocument&&y.ownerDocument.defaultView||window).getSelection(),y={anchorNode:y.anchorNode,anchorOffset:y.anchorOffset,focusNode:y.focusNode,focusOffset:y.focusOffset}),Oi&&ic(Oi,y)||(Oi=y,y=T1(oc,"onSelect"),0<y.length&&(d=new co("onSelect","select",null,d,p),c.push({event:d,listeners:y}),d.target=Hs)))}function Ur(c,d){var p={};return p[c.toLowerCase()]=d.toLowerCase(),p["Webkit"+c]="webkit"+d,p["Moz"+c]="moz"+d,p}var An={animationend:Ur("Animation","AnimationEnd"),animationiteration:Ur("Animation","AnimationIteration"),animationstart:Ur("Animation","AnimationStart"),transitionrun:Ur("Transition","TransitionRun"),transitionstart:Ur("Transition","TransitionStart"),transitioncancel:Ur("Transition","TransitionCancel"),transitionend:Ur("Transition","TransitionEnd")},ba={},yo={};ci&&(yo=document.createElement("div").style,"AnimationEvent"in window||(delete An.animationend.animation,delete An.animationiteration.animation,delete An.animationstart.animation),"TransitionEvent"in window||delete An.transitionend.transition);function Bl(c){if(ba[c])return ba[c];if(!An[c])return c;var d=An[c],p;for(p in d)if(d.hasOwnProperty(p)&&p in yo)return ba[c]=d[p];return c}var Cu=Bl("animationend"),a0=Bl("animationiteration"),Np=Bl("animationstart"),Jg=Bl("transitionrun"),e1=Bl("transitionstart"),t1=Bl("transitioncancel"),_p=Bl("transitionend"),jp=new Map,Tu="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");Tu.push("scrollEnd");function cl(c,d){jp.set(c,d),fn(d,[c])}var i0=typeof reportError=="function"?reportError:function(c){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var d=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof c=="object"&&c!==null&&typeof c.message=="string"?String(c.message):String(c),error:c});if(!window.dispatchEvent(d))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",c);return}console.error(c)},Vs=[],Ou=0,Oh=0;function s0(){for(var c=Ou,d=Oh=Ou=0;d<c;){var p=Vs[d];Vs[d++]=null;var y=Vs[d];Vs[d++]=null;var S=Vs[d];Vs[d++]=null;var C=Vs[d];if(Vs[d++]=null,y!==null&&S!==null){var G=y.pending;G===null?S.next=S:(S.next=G.next,G.next=S),y.pending=S}C!==0&&o0(p,S,C)}}function l0(c,d,p,y){Vs[Ou++]=c,Vs[Ou++]=d,Vs[Ou++]=p,Vs[Ou++]=y,Oh|=y,c.lanes|=y,c=c.alternate,c!==null&&(c.lanes|=y)}function Dh(c,d,p,y){return l0(c,d,p,y),Di(c)}function cc(c,d){return l0(c,null,null,d),Di(c)}function o0(c,d,p){c.lanes|=p;var y=c.alternate;y!==null&&(y.lanes|=p);for(var S=!1,C=c.return;C!==null;)C.childLanes|=p,y=C.alternate,y!==null&&(y.childLanes|=p),C.tag===22&&(c=C.stateNode,c===null||c._visibility&1||(S=!0)),c=C,C=C.return;return c.tag===3?(C=c.stateNode,S&&d!==null&&(S=31-br(p),c=C.hiddenUpdates,y=c[S],y===null?c[S]=[d]:y.push(d),d.lane=p|536870912),C):null}function Di(c){if(50<Wp)throw Wp=0,Ib=null,Error(n(185));for(var d=c.return;d!==null;)c=d,d=c.return;return c.tag===3?c.stateNode:null}var hi={};function Fh(c,d,p,y){this.tag=c,this.key=p,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=d,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=y,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Fi(c,d,p,y){return new Fh(c,d,p,y)}function Ph(c){return c=c.prototype,!(!c||!c.isReactComponent)}function ul(c,d){var p=c.alternate;return p===null?(p=Fi(c.tag,d,c.key,c.mode),p.elementType=c.elementType,p.type=c.type,p.stateNode=c.stateNode,p.alternate=c,c.alternate=p):(p.pendingProps=d,p.type=c.type,p.flags=0,p.subtreeFlags=0,p.deletions=null),p.flags=c.flags&65011712,p.childLanes=c.childLanes,p.lanes=c.lanes,p.child=c.child,p.memoizedProps=c.memoizedProps,p.memoizedState=c.memoizedState,p.updateQueue=c.updateQueue,d=c.dependencies,p.dependencies=d===null?null:{lanes:d.lanes,firstContext:d.firstContext},p.sibling=c.sibling,p.index=c.index,p.ref=c.ref,p.refCleanup=c.refCleanup,p}function c0(c,d){c.flags&=65011714;var p=c.alternate;return p===null?(c.childLanes=0,c.lanes=d,c.child=null,c.subtreeFlags=0,c.memoizedProps=null,c.memoizedState=null,c.updateQueue=null,c.dependencies=null,c.stateNode=null):(c.childLanes=p.childLanes,c.lanes=p.lanes,c.child=p.child,c.subtreeFlags=0,c.deletions=null,c.memoizedProps=p.memoizedProps,c.memoizedState=p.memoizedState,c.updateQueue=p.updateQueue,c.type=p.type,d=p.dependencies,c.dependencies=d===null?null:{lanes:d.lanes,firstContext:d.firstContext}),c}function Hf(c,d,p,y,S,C){var G=0;if(y=c,typeof c=="function")Ph(c)&&(G=1);else if(typeof c=="string")G=pz(c,p,q.current)?26:c==="html"||c==="head"||c==="body"?27:5;else e:switch(c){case B:return c=Fi(31,p,d,S),c.elementType=B,c.lanes=C,c;case v:return Hc(p.children,S,C,d);case w:G=8,S|=24;break;case N:return c=Fi(12,p,d,S|2),c.elementType=N,c.lanes=C,c;case O:return c=Fi(13,p,d,S),c.elementType=O,c.lanes=C,c;case F:return c=Fi(19,p,d,S),c.elementType=F,c.lanes=C,c;default:if(typeof c=="object"&&c!==null)switch(c.$$typeof){case j:G=10;break e;case E:G=9;break e;case T:G=11;break e;case D:G=14;break e;case L:G=16,y=null;break e}G=29,p=Error(n(130,c===null?"null":typeof c,"")),y=null}return d=Fi(G,p,d,S),d.elementType=c,d.type=y,d.lanes=C,d}function Hc(c,d,p,y){return c=Fi(7,c,y,d),c.lanes=p,c}function u0(c,d,p){return c=Fi(6,c,null,d),c.lanes=p,c}function Lh(c){var d=Fi(18,null,null,0);return d.stateNode=c,d}function Vf(c,d,p){return d=Fi(4,c.children!==null?c.children:[],c.key,d),d.lanes=p,d.stateNode={containerInfo:c.containerInfo,pendingChildren:null,implementation:c.implementation},d}var Mh=new WeakMap;function fl(c,d){if(typeof c=="object"&&c!==null){var p=Mh.get(c);return p!==void 0?p:(d={value:c,source:d,stack:bt(d)},Mh.set(c,d),d)}return{value:c,source:d,stack:bt(d)}}var Wf=[],Du=0,Rh=null,f0=0,dl=[],hl=0,Vc=null,ml=1,pl="";function Ws(c,d){Wf[Du++]=f0,Wf[Du++]=Rh,Rh=c,f0=d}function r1(c,d,p){dl[hl++]=ml,dl[hl++]=pl,dl[hl++]=Vc,Vc=c;var y=ml;c=pl;var S=32-br(y)-1;y&=~(1<<S),p+=1;var C=32-br(d)+S;if(30<C){var G=S-S%5;C=(y&(1<<G)-1).toString(32),y>>=G,S-=G,ml=1<<32-br(d)+S|p<<S|y,pl=C+c}else ml=1<<C|p<<S|y,pl=c}function Sp(c){c.return!==null&&(Ws(c,1),r1(c,1,0))}function Ih(c){for(;c===Rh;)Rh=Wf[--Du],Wf[Du]=null,f0=Wf[--Du],Wf[Du]=null;for(;c===Vc;)Vc=dl[--hl],dl[hl]=null,pl=dl[--hl],dl[hl]=null,ml=dl[--hl],dl[hl]=null}function n1(c,d){dl[hl++]=ml,dl[hl++]=pl,dl[hl++]=Vc,ml=d.id,pl=d.overflow,Vc=c}var mi=null,Pn=null,Pr=!1,Xi=null,aa=!1,Ul=Error(n(519));function Wc(c){var d=Error(n(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw Gf(fl(d,c)),Ul}function Ap(c){var d=c.stateNode,p=c.type,y=c.memoizedProps;switch(d[he]=c,d[ve]=y,p){case"dialog":Mr("cancel",d),Mr("close",d);break;case"iframe":case"object":case"embed":Mr("load",d);break;case"video":case"audio":for(p=0;p<Kp.length;p++)Mr(Kp[p],d);break;case"source":Mr("error",d);break;case"img":case"image":case"link":Mr("error",d),Mr("load",d);break;case"details":Mr("toggle",d);break;case"input":Mr("invalid",d),wh(d,y.value,y.defaultValue,y.checked,y.defaultChecked,y.type,y.name,!0);break;case"select":Mr("invalid",d);break;case"textarea":Mr("invalid",d),Xd(d,y.value,y.defaultValue,y.children)}p=y.children,typeof p!="string"&&typeof p!="number"&&typeof p!="bigint"||d.textContent===""+p||y.suppressHydrationWarning===!0||NA(d.textContent,p)?(y.popover!=null&&(Mr("beforetoggle",d),Mr("toggle",d)),y.onScroll!=null&&Mr("scroll",d),y.onScrollEnd!=null&&Mr("scrollend",d),y.onClick!=null&&(d.onclick=Ll),d=!0):d=!1,d||Wc(c,!0)}function uc(c){for(mi=c.return;mi;)switch(mi.tag){case 5:case 31:case 13:aa=!1;return;case 27:case 3:aa=!0;return;default:mi=mi.return}}function pi(c){if(c!==mi)return!1;if(!Pr)return uc(c),Pr=!0,!1;var d=c.tag,p;if((p=d!==3&&d!==27)&&((p=d===5)&&(p=c.type,p=!(p!=="form"&&p!=="button")||Jb(c.type,c.memoizedProps)),p=!p),p&&Pn&&Wc(c),uc(c),d===13){if(c=c.memoizedState,c=c!==null?c.dehydrated:null,!c)throw Error(n(317));Pn=OA(c)}else if(d===31){if(c=c.memoizedState,c=c!==null?c.dehydrated:null,!c)throw Error(n(317));Pn=OA(c)}else d===27?(d=Pn,ld(c.type)?(c=aw,aw=null,Pn=c):Pn=d):Pn=mi?_o(c.stateNode.nextSibling):null;return!0}function Fu(){Pn=mi=null,Pr=!1}function Ep(){var c=Xi;return c!==null&&(wl===null?wl=c:wl.push.apply(wl,c),Xi=null),c}function Gf(c){Xi===null?Xi=[c]:Xi.push(c)}var Bh=te(null),Gc=null,bo=null;function Kc(c,d,p){R(Bh,d._currentValue),d._currentValue=p}function xl(c){c._currentValue=Bh.current,M(Bh)}function Kf(c,d,p){for(;c!==null;){var y=c.alternate;if((c.childLanes&d)!==d?(c.childLanes|=d,y!==null&&(y.childLanes|=d)):y!==null&&(y.childLanes&d)!==d&&(y.childLanes|=d),c===p)break;c=c.return}}function Pu(c,d,p,y){var S=c.child;for(S!==null&&(S.return=c);S!==null;){var C=S.dependencies;if(C!==null){var G=S.child;C=C.firstContext;e:for(;C!==null;){var oe=C;C=S;for(var Ae=0;Ae<d.length;Ae++)if(oe.context===d[Ae]){C.lanes|=p,oe=C.alternate,oe!==null&&(oe.lanes|=p),Kf(C.return,p,c),y||(G=null);break e}C=oe.next}}else if(S.tag===18){if(G=S.return,G===null)throw Error(n(341));G.lanes|=p,C=G.alternate,C!==null&&(C.lanes|=p),Kf(G,p,c),G=null}else G=S.child;if(G!==null)G.return=S;else for(G=S;G!==null;){if(G===c){G=null;break}if(S=G.sibling,S!==null){S.return=G.return,G=S;break}G=G.return}S=G}}function Yc(c,d,p,y){c=null;for(var S=d,C=!1;S!==null;){if(!C){if((S.flags&524288)!==0)C=!0;else if((S.flags&262144)!==0)break}if(S.tag===10){var G=S.alternate;if(G===null)throw Error(n(387));if(G=G.memoizedProps,G!==null){var oe=S.type;di(S.pendingProps.value,G.value)||(c!==null?c.push(oe):c=[oe])}}else if(S===le.current){if(G=S.alternate,G===null)throw Error(n(387));G.memoizedState.memoizedState!==S.memoizedState.memoizedState&&(c!==null?c.push(Jp):c=[Jp])}S=S.return}c!==null&&Pu(d,c,p,y),d.flags|=262144}function Uh(c){for(c=c.firstContext;c!==null;){if(!di(c.context._currentValue,c.memoizedValue))return!0;c=c.next}return!1}function Xc(c){Gc=c,bo=null,c=c.dependencies,c!==null&&(c.firstContext=null)}function xi(c){return a1(Gc,c)}function zh(c,d){return Gc===null&&Xc(c),a1(c,d)}function a1(c,d){var p=d._currentValue;if(d={context:d,memoizedValue:p,next:null},bo===null){if(c===null)throw Error(n(308));bo=d,c.dependencies={lanes:0,firstContext:d},c.flags|=524288}else bo=bo.next=d;return p}var nb=typeof AbortController<"u"?AbortController:function(){var c=[],d=this.signal={aborted:!1,addEventListener:function(p,y){c.push(y)}};this.abort=function(){d.aborted=!0,c.forEach(function(p){return p()})}},ab=e.unstable_scheduleCallback,ib=e.unstable_NormalPriority,wa={$$typeof:j,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function Yf(){return{controller:new nb,data:new Map,refCount:0}}function d0(c){c.refCount--,c.refCount===0&&ab(ib,function(){c.controller.abort()})}var h0=null,qh=0,_=0,A=null;function z(c,d){if(h0===null){var p=h0=[];qh=0,_=Hb(),A={status:"pending",value:void 0,then:function(y){p.push(y)}}}return qh++,d.then(V,V),d}function V(){if(--qh===0&&h0!==null){A!==null&&(A.status="fulfilled");var c=h0;h0=null,_=0,A=null;for(var d=0;d<c.length;d++)(0,c[d])()}}function Z(c,d){var p=[],y={status:"pending",value:null,reason:null,then:function(S){p.push(S)}};return c.then(function(){y.status="fulfilled",y.value=d;for(var S=0;S<p.length;S++)(0,p[S])(d)},function(S){for(y.status="rejected",y.reason=S,S=0;S<p.length;S++)(0,p[S])(void 0)}),y}var ae=ne.S;ne.S=function(c,d){W6=Et(),typeof d=="object"&&d!==null&&typeof d.then=="function"&&z(c,d),ae!==null&&ae(c,d)};var ie=te(null);function fe(){var c=ie.current;return c!==null?c:Mn.pooledCache}function pe(c,d){d===null?R(ie,ie.current):R(ie,d.pool)}function we(){var c=fe();return c===null?null:{parent:wa._currentValue,pool:c}}var Ce=Error(n(460)),Ue=Error(n(474)),be=Error(n(542)),De={then:function(){}};function Le(c){return c=c.status,c==="fulfilled"||c==="rejected"}function Ze(c,d,p){switch(p=c[p],p===void 0?c.push(d):p!==d&&(d.then(Ll,Ll),d=p),d.status){case"fulfilled":return d.value;case"rejected":throw c=d.reason,ht(c),c;default:if(typeof d.status=="string")d.then(Ll,Ll);else{if(c=Mn,c!==null&&100<c.shellSuspendCounter)throw Error(n(482));c=d,c.status="pending",c.then(function(y){if(d.status==="pending"){var S=d;S.status="fulfilled",S.value=y}},function(y){if(d.status==="pending"){var S=d;S.status="rejected",S.reason=y}})}switch(d.status){case"fulfilled":return d.value;case"rejected":throw c=d.reason,ht(c),c}throw Qe=d,Ce}}function Re(c){try{var d=c._init;return d(c._payload)}catch(p){throw p!==null&&typeof p=="object"&&typeof p.then=="function"?(Qe=p,Ce):p}}var Qe=null;function nt(){if(Qe===null)throw Error(n(459));var c=Qe;return Qe=null,c}function ht(c){if(c===Ce||c===be)throw Error(n(483))}var ot=null,qt=0;function Tt(c){var d=qt;return qt+=1,ot===null&&(ot=[]),Ze(ot,c,d)}function mr(c,d){d=d.props.ref,c.ref=d!==void 0?d:null}function Mt(c,d){throw d.$$typeof===g?Error(n(525)):(c=Object.prototype.toString.call(d),Error(n(31,c==="[object Object]"?"object with keys {"+Object.keys(d).join(", ")+"}":c)))}function Or(c){function d(Pe,Oe){if(c){var qe=Pe.deletions;qe===null?(Pe.deletions=[Oe],Pe.flags|=16):qe.push(Oe)}}function p(Pe,Oe){if(!c)return null;for(;Oe!==null;)d(Pe,Oe),Oe=Oe.sibling;return null}function y(Pe){for(var Oe=new Map;Pe!==null;)Pe.key!==null?Oe.set(Pe.key,Pe):Oe.set(Pe.index,Pe),Pe=Pe.sibling;return Oe}function S(Pe,Oe){return Pe=ul(Pe,Oe),Pe.index=0,Pe.sibling=null,Pe}function C(Pe,Oe,qe){return Pe.index=qe,c?(qe=Pe.alternate,qe!==null?(qe=qe.index,qe<Oe?(Pe.flags|=67108866,Oe):qe):(Pe.flags|=67108866,Oe)):(Pe.flags|=1048576,Oe)}function G(Pe){return c&&Pe.alternate===null&&(Pe.flags|=67108866),Pe}function oe(Pe,Oe,qe,it){return Oe===null||Oe.tag!==6?(Oe=u0(qe,Pe.mode,it),Oe.return=Pe,Oe):(Oe=S(Oe,qe),Oe.return=Pe,Oe)}function Ae(Pe,Oe,qe,it){var rr=qe.type;return rr===v?tt(Pe,Oe,qe.props.children,it,qe.key):Oe!==null&&(Oe.elementType===rr||typeof rr=="object"&&rr!==null&&rr.$$typeof===L&&Re(rr)===Oe.type)?(Oe=S(Oe,qe.props),mr(Oe,qe),Oe.return=Pe,Oe):(Oe=Hf(qe.type,qe.key,qe.props,null,Pe.mode,it),mr(Oe,qe),Oe.return=Pe,Oe)}function $e(Pe,Oe,qe,it){return Oe===null||Oe.tag!==4||Oe.stateNode.containerInfo!==qe.containerInfo||Oe.stateNode.implementation!==qe.implementation?(Oe=Vf(qe,Pe.mode,it),Oe.return=Pe,Oe):(Oe=S(Oe,qe.children||[]),Oe.return=Pe,Oe)}function tt(Pe,Oe,qe,it,rr){return Oe===null||Oe.tag!==7?(Oe=Hc(qe,Pe.mode,it,rr),Oe.return=Pe,Oe):(Oe=S(Oe,qe),Oe.return=Pe,Oe)}function st(Pe,Oe,qe){if(typeof Oe=="string"&&Oe!==""||typeof Oe=="number"||typeof Oe=="bigint")return Oe=u0(""+Oe,Pe.mode,qe),Oe.return=Pe,Oe;if(typeof Oe=="object"&&Oe!==null){switch(Oe.$$typeof){case x:return qe=Hf(Oe.type,Oe.key,Oe.props,null,Pe.mode,qe),mr(qe,Oe),qe.return=Pe,qe;case b:return Oe=Vf(Oe,Pe.mode,qe),Oe.return=Pe,Oe;case L:return Oe=Re(Oe),st(Pe,Oe,qe)}if(me(Oe)||U(Oe))return Oe=Hc(Oe,Pe.mode,qe,null),Oe.return=Pe,Oe;if(typeof Oe.then=="function")return st(Pe,Tt(Oe),qe);if(Oe.$$typeof===j)return st(Pe,zh(Pe,Oe),qe);Mt(Pe,Oe)}return null}function Ve(Pe,Oe,qe,it){var rr=Oe!==null?Oe.key:null;if(typeof qe=="string"&&qe!==""||typeof qe=="number"||typeof qe=="bigint")return rr!==null?null:oe(Pe,Oe,""+qe,it);if(typeof qe=="object"&&qe!==null){switch(qe.$$typeof){case x:return qe.key===rr?Ae(Pe,Oe,qe,it):null;case b:return qe.key===rr?$e(Pe,Oe,qe,it):null;case L:return qe=Re(qe),Ve(Pe,Oe,qe,it)}if(me(qe)||U(qe))return rr!==null?null:tt(Pe,Oe,qe,it,null);if(typeof qe.then=="function")return Ve(Pe,Oe,Tt(qe),it);if(qe.$$typeof===j)return Ve(Pe,Oe,zh(Pe,qe),it);Mt(Pe,qe)}return null}function Ge(Pe,Oe,qe,it,rr){if(typeof it=="string"&&it!==""||typeof it=="number"||typeof it=="bigint")return Pe=Pe.get(qe)||null,oe(Oe,Pe,""+it,rr);if(typeof it=="object"&&it!==null){switch(it.$$typeof){case x:return Pe=Pe.get(it.key===null?qe:it.key)||null,Ae(Oe,Pe,it,rr);case b:return Pe=Pe.get(it.key===null?qe:it.key)||null,$e(Oe,Pe,it,rr);case L:return it=Re(it),Ge(Pe,Oe,qe,it,rr)}if(me(it)||U(it))return Pe=Pe.get(qe)||null,tt(Oe,Pe,it,rr,null);if(typeof it.then=="function")return Ge(Pe,Oe,qe,Tt(it),rr);if(it.$$typeof===j)return Ge(Pe,Oe,qe,zh(Oe,it),rr);Mt(Oe,it)}return null}function Ut(Pe,Oe,qe,it){for(var rr=null,en=null,Wt=Oe,jr=Oe=0,Ir=null;Wt!==null&&jr<qe.length;jr++){Wt.index>jr?(Ir=Wt,Wt=null):Ir=Wt.sibling;var tn=Ve(Pe,Wt,qe[jr],it);if(tn===null){Wt===null&&(Wt=Ir);break}c&&Wt&&tn.alternate===null&&d(Pe,Wt),Oe=C(tn,Oe,jr),en===null?rr=tn:en.sibling=tn,en=tn,Wt=Ir}if(jr===qe.length)return p(Pe,Wt),Pr&&Ws(Pe,jr),rr;if(Wt===null){for(;jr<qe.length;jr++)Wt=st(Pe,qe[jr],it),Wt!==null&&(Oe=C(Wt,Oe,jr),en===null?rr=Wt:en.sibling=Wt,en=Wt);return Pr&&Ws(Pe,jr),rr}for(Wt=y(Wt);jr<qe.length;jr++)Ir=Ge(Wt,Pe,jr,qe[jr],it),Ir!==null&&(c&&Ir.alternate!==null&&Wt.delete(Ir.key===null?jr:Ir.key),Oe=C(Ir,Oe,jr),en===null?rr=Ir:en.sibling=Ir,en=Ir);return c&&Wt.forEach(function(dd){return d(Pe,dd)}),Pr&&Ws(Pe,jr),rr}function lr(Pe,Oe,qe,it){if(qe==null)throw Error(n(151));for(var rr=null,en=null,Wt=Oe,jr=Oe=0,Ir=null,tn=qe.next();Wt!==null&&!tn.done;jr++,tn=qe.next()){Wt.index>jr?(Ir=Wt,Wt=null):Ir=Wt.sibling;var dd=Ve(Pe,Wt,tn.value,it);if(dd===null){Wt===null&&(Wt=Ir);break}c&&Wt&&dd.alternate===null&&d(Pe,Wt),Oe=C(dd,Oe,jr),en===null?rr=dd:en.sibling=dd,en=dd,Wt=Ir}if(tn.done)return p(Pe,Wt),Pr&&Ws(Pe,jr),rr;if(Wt===null){for(;!tn.done;jr++,tn=qe.next())tn=st(Pe,tn.value,it),tn!==null&&(Oe=C(tn,Oe,jr),en===null?rr=tn:en.sibling=tn,en=tn);return Pr&&Ws(Pe,jr),rr}for(Wt=y(Wt);!tn.done;jr++,tn=qe.next())tn=Ge(Wt,Pe,jr,tn.value,it),tn!==null&&(c&&tn.alternate!==null&&Wt.delete(tn.key===null?jr:tn.key),Oe=C(tn,Oe,jr),en===null?rr=tn:en.sibling=tn,en=tn);return c&&Wt.forEach(function(Az){return d(Pe,Az)}),Pr&&Ws(Pe,jr),rr}function Tn(Pe,Oe,qe,it){if(typeof qe=="object"&&qe!==null&&qe.type===v&&qe.key===null&&(qe=qe.props.children),typeof qe=="object"&&qe!==null){switch(qe.$$typeof){case x:e:{for(var rr=qe.key;Oe!==null;){if(Oe.key===rr){if(rr=qe.type,rr===v){if(Oe.tag===7){p(Pe,Oe.sibling),it=S(Oe,qe.props.children),it.return=Pe,Pe=it;break e}}else if(Oe.elementType===rr||typeof rr=="object"&&rr!==null&&rr.$$typeof===L&&Re(rr)===Oe.type){p(Pe,Oe.sibling),it=S(Oe,qe.props),mr(it,qe),it.return=Pe,Pe=it;break e}p(Pe,Oe);break}else d(Pe,Oe);Oe=Oe.sibling}qe.type===v?(it=Hc(qe.props.children,Pe.mode,it,qe.key),it.return=Pe,Pe=it):(it=Hf(qe.type,qe.key,qe.props,null,Pe.mode,it),mr(it,qe),it.return=Pe,Pe=it)}return G(Pe);case b:e:{for(rr=qe.key;Oe!==null;){if(Oe.key===rr)if(Oe.tag===4&&Oe.stateNode.containerInfo===qe.containerInfo&&Oe.stateNode.implementation===qe.implementation){p(Pe,Oe.sibling),it=S(Oe,qe.children||[]),it.return=Pe,Pe=it;break e}else{p(Pe,Oe);break}else d(Pe,Oe);Oe=Oe.sibling}it=Vf(qe,Pe.mode,it),it.return=Pe,Pe=it}return G(Pe);case L:return qe=Re(qe),Tn(Pe,Oe,qe,it)}if(me(qe))return Ut(Pe,Oe,qe,it);if(U(qe)){if(rr=U(qe),typeof rr!="function")throw Error(n(150));return qe=rr.call(qe),lr(Pe,Oe,qe,it)}if(typeof qe.then=="function")return Tn(Pe,Oe,Tt(qe),it);if(qe.$$typeof===j)return Tn(Pe,Oe,zh(Pe,qe),it);Mt(Pe,qe)}return typeof qe=="string"&&qe!==""||typeof qe=="number"||typeof qe=="bigint"?(qe=""+qe,Oe!==null&&Oe.tag===6?(p(Pe,Oe.sibling),it=S(Oe,qe),it.return=Pe,Pe=it):(p(Pe,Oe),it=u0(qe,Pe.mode,it),it.return=Pe,Pe=it),G(Pe)):p(Pe,Oe)}return function(Pe,Oe,qe,it){try{qt=0;var rr=Tn(Pe,Oe,qe,it);return ot=null,rr}catch(Wt){if(Wt===Ce||Wt===be)throw Wt;var en=Fi(29,Wt,null,Pe.mode);return en.lanes=it,en.return=Pe,en}finally{}}}var Ln=Or(!0),gr=Or(!1),Ot=!1;function jt(c){c.updateQueue={baseState:c.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function Wn(c,d){c=c.updateQueue,d.updateQueue===c&&(d.updateQueue={baseState:c.baseState,firstBaseUpdate:c.firstBaseUpdate,lastBaseUpdate:c.lastBaseUpdate,shared:c.shared,callbacks:null})}function sr(c){return{lane:c,tag:0,payload:null,callback:null,next:null}}function wr(c,d,p){var y=c.updateQueue;if(y===null)return null;if(y=y.shared,(un&2)!==0){var S=y.pending;return S===null?d.next=d:(d.next=S.next,S.next=d),y.pending=d,d=Di(c),o0(c,null,p),d}return l0(c,y,d,p),Di(c)}function on(c,d,p){if(d=d.updateQueue,d!==null&&(d=d.shared,(p&4194048)!==0)){var y=d.lanes;y&=c.pendingLanes,p|=y,d.lanes=p,oi(c,p)}}function za(c,d){var p=c.updateQueue,y=c.alternate;if(y!==null&&(y=y.updateQueue,p===y)){var S=null,C=null;if(p=p.firstBaseUpdate,p!==null){do{var G={lane:p.lane,tag:p.tag,payload:p.payload,callback:null,next:null};C===null?S=C=G:C=C.next=G,p=p.next}while(p!==null);C===null?S=C=d:C=C.next=d}else S=C=d;p={baseState:y.baseState,firstBaseUpdate:S,lastBaseUpdate:C,shared:y.shared,callbacks:y.callbacks},c.updateQueue=p;return}c=p.lastBaseUpdate,c===null?p.firstBaseUpdate=d:c.next=d,p.lastBaseUpdate=d}var gi=!1;function En(){if(gi){var c=A;if(c!==null)throw c}}function Ea(c,d,p,y){gi=!1;var S=c.updateQueue;Ot=!1;var C=S.firstBaseUpdate,G=S.lastBaseUpdate,oe=S.shared.pending;if(oe!==null){S.shared.pending=null;var Ae=oe,$e=Ae.next;Ae.next=null,G===null?C=$e:G.next=$e,G=Ae;var tt=c.alternate;tt!==null&&(tt=tt.updateQueue,oe=tt.lastBaseUpdate,oe!==G&&(oe===null?tt.firstBaseUpdate=$e:oe.next=$e,tt.lastBaseUpdate=Ae))}if(C!==null){var st=S.baseState;G=0,tt=$e=Ae=null,oe=C;do{var Ve=oe.lane&-536870913,Ge=Ve!==oe.lane;if(Ge?(Rr&Ve)===Ve:(y&Ve)===Ve){Ve!==0&&Ve===_&&(gi=!0),tt!==null&&(tt=tt.next={lane:0,tag:oe.tag,payload:oe.payload,callback:null,next:null});e:{var Ut=c,lr=oe;Ve=d;var Tn=p;switch(lr.tag){case 1:if(Ut=lr.payload,typeof Ut=="function"){st=Ut.call(Tn,st,Ve);break e}st=Ut;break e;case 3:Ut.flags=Ut.flags&-65537|128;case 0:if(Ut=lr.payload,Ve=typeof Ut=="function"?Ut.call(Tn,st,Ve):Ut,Ve==null)break e;st=m({},st,Ve);break e;case 2:Ot=!0}}Ve=oe.callback,Ve!==null&&(c.flags|=64,Ge&&(c.flags|=8192),Ge=S.callbacks,Ge===null?S.callbacks=[Ve]:Ge.push(Ve))}else Ge={lane:Ve,tag:oe.tag,payload:oe.payload,callback:oe.callback,next:null},tt===null?($e=tt=Ge,Ae=st):tt=tt.next=Ge,G|=Ve;if(oe=oe.next,oe===null){if(oe=S.shared.pending,oe===null)break;Ge=oe,oe=Ge.next,Ge.next=null,S.lastBaseUpdate=Ge,S.shared.pending=null}}while(!0);tt===null&&(Ae=st),S.baseState=Ae,S.firstBaseUpdate=$e,S.lastBaseUpdate=tt,C===null&&(S.shared.lanes=0),rd|=G,c.lanes=G,c.memoizedState=st}}function Pi(c,d){if(typeof c!="function")throw Error(n(191,c));c.call(d)}function ka(c,d){var p=c.callbacks;if(p!==null)for(c.callbacks=null,c=0;c<p.length;c++)Pi(p[c],d)}var kr=te(null),$r=te(0);function Gn(c,d){c=Hu,R($r,c),R(kr,d),Hu=c|d.baseLanes}function Xr(){R($r,Hu),R(kr,kr.current)}function qa(){Hu=$r.current,M(kr),M($r)}var Kn=te(null),Hr=null;function Na(c){var d=c.alternate;R(zr,zr.current&1),R(Kn,c),Hr===null&&(d===null||kr.current!==null||d.memoizedState!==null)&&(Hr=c)}function cn(c){R(zr,zr.current),R(Kn,c),Hr===null&&(Hr=c)}function Ca(c){c.tag===22?(R(zr,zr.current),R(Kn,c),Hr===null&&(Hr=c)):Ta()}function Ta(){R(zr,zr.current),R(Kn,Kn.current)}function xn(c){M(Kn),Hr===c&&(Hr=null),M(zr)}var zr=te(0);function Li(c){for(var d=c;d!==null;){if(d.tag===13){var p=d.memoizedState;if(p!==null&&(p=p.dehydrated,p===null||rw(p)||nw(p)))return d}else if(d.tag===19&&(d.memoizedProps.revealOrder==="forwards"||d.memoizedProps.revealOrder==="backwards"||d.memoizedProps.revealOrder==="unstable_legacy-backwards"||d.memoizedProps.revealOrder==="together")){if((d.flags&128)!==0)return d}else if(d.child!==null){d.child.return=d,d=d.child;continue}if(d===c)break;for(;d.sibling===null;){if(d.return===null||d.return===c)return null;d=d.return}d.sibling.return=d.return,d=d.sibling}return null}var ia=0,Jt=null,tr=null,Vr=null,hs=!1,gl=!1,Qi=!1,Oa=0,Qc=0,Zc=null,$h=0;function kn(){throw Error(n(321))}function kp(c,d){if(d===null)return!1;for(var p=0;p<d.length&&p<c.length;p++)if(!di(c[p],d[p]))return!1;return!0}function Cp(c,d,p,y,S,C){return ia=C,Jt=d,d.memoizedState=null,d.updateQueue=null,d.lanes=0,ne.H=c===null||c.memoizedState===null?n6:hb,Qi=!1,C=p(y,S),Qi=!1,gl&&(C=fc(d,p,y,S)),Hh(c),C}function Hh(c){ne.H=Rp;var d=tr!==null&&tr.next!==null;if(ia=0,Vr=tr=Jt=null,hs=!1,Qc=0,Zc=null,d)throw Error(n(300));c===null||ei||(c=c.dependencies,c!==null&&Uh(c)&&(ei=!0))}function fc(c,d,p,y){Jt=c;var S=0;do{if(gl&&(Zc=null),Qc=0,gl=!1,25<=S)throw Error(n(301));if(S+=1,Vr=tr=null,c.updateQueue!=null){var C=c.updateQueue;C.lastEffect=null,C.events=null,C.stores=null,C.memoCache!=null&&(C.memoCache.index=0)}ne.H=a6,C=d(p,y)}while(gl);return C}function sb(){var c=ne.H,d=c.useState()[0];return d=typeof d.then=="function"?Jc(d):d,c=c.useState()[0],(tr!==null?tr.memoizedState:null)!==c&&(Jt.flags|=1024),d}function Tp(){var c=Oa!==0;return Oa=0,c}function Op(c,d,p){d.updateQueue=c.updateQueue,d.flags&=-2053,c.lanes&=~p}function Vh(c){if(hs){for(c=c.memoizedState;c!==null;){var d=c.queue;d!==null&&(d.pending=null),c=c.next}hs=!1}ia=0,Vr=tr=Jt=null,gl=!1,Qc=Oa=0,Zc=null}function Ja(){var c={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Vr===null?Jt.memoizedState=Vr=c:Vr=Vr.next=c,Vr}function sa(){if(tr===null){var c=Jt.alternate;c=c!==null?c.memoizedState:null}else c=tr.next;var d=Vr===null?Jt.memoizedState:Vr.next;if(d!==null)Vr=d,tr=c;else{if(c===null)throw Jt.alternate===null?Error(n(467)):Error(n(310));tr=c,c={memoizedState:tr.memoizedState,baseState:tr.baseState,baseQueue:tr.baseQueue,queue:tr.queue,next:null},Vr===null?Jt.memoizedState=Vr=c:Vr=Vr.next=c}return Vr}function m0(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function Jc(c){var d=Qc;return Qc+=1,Zc===null&&(Zc=[]),c=Ze(Zc,c,d),d=Jt,(Vr===null?d.memoizedState:Vr.next)===null&&(d=d.alternate,ne.H=d===null||d.memoizedState===null?n6:hb),c}function Xf(c){if(c!==null&&typeof c=="object"){if(typeof c.then=="function")return Jc(c);if(c.$$typeof===j)return xi(c)}throw Error(n(438,String(c)))}function Lu(c){var d=null,p=Jt.updateQueue;if(p!==null&&(d=p.memoCache),d==null){var y=Jt.alternate;y!==null&&(y=y.updateQueue,y!==null&&(y=y.memoCache,y!=null&&(d={data:y.data.map(function(S){return S.slice()}),index:0})))}if(d==null&&(d={data:[],index:0}),p===null&&(p=m0(),Jt.updateQueue=p),p.memoCache=d,p=d.data[d.index],p===void 0)for(p=d.data[d.index]=Array(c),y=0;y<c;y++)p[y]=H;return d.index++,p}function wo(c,d){return typeof d=="function"?d(c):d}function Wh(c){var d=sa();return Qf(d,tr,c)}function Qf(c,d,p){var y=c.queue;if(y===null)throw Error(n(311));y.lastRenderedReducer=p;var S=c.baseQueue,C=y.pending;if(C!==null){if(S!==null){var G=S.next;S.next=C.next,C.next=G}d.baseQueue=S=C,y.pending=null}if(C=c.baseState,S===null)c.memoizedState=C;else{d=S.next;var oe=G=null,Ae=null,$e=d,tt=!1;do{var st=$e.lane&-536870913;if(st!==$e.lane?(Rr&st)===st:(ia&st)===st){var Ve=$e.revertLane;if(Ve===0)Ae!==null&&(Ae=Ae.next={lane:0,revertLane:0,gesture:null,action:$e.action,hasEagerState:$e.hasEagerState,eagerState:$e.eagerState,next:null}),st===_&&(tt=!0);else if((ia&Ve)===Ve){$e=$e.next,Ve===_&&(tt=!0);continue}else st={lane:0,revertLane:$e.revertLane,gesture:null,action:$e.action,hasEagerState:$e.hasEagerState,eagerState:$e.eagerState,next:null},Ae===null?(oe=Ae=st,G=C):Ae=Ae.next=st,Jt.lanes|=Ve,rd|=Ve;st=$e.action,Qi&&p(C,st),C=$e.hasEagerState?$e.eagerState:p(C,st)}else Ve={lane:st,revertLane:$e.revertLane,gesture:$e.gesture,action:$e.action,hasEagerState:$e.hasEagerState,eagerState:$e.eagerState,next:null},Ae===null?(oe=Ae=Ve,G=C):Ae=Ae.next=Ve,Jt.lanes|=st,rd|=st;$e=$e.next}while($e!==null&&$e!==d);if(Ae===null?G=C:Ae.next=oe,!di(C,c.memoizedState)&&(ei=!0,tt&&(p=A,p!==null)))throw p;c.memoizedState=C,c.baseState=G,c.baseQueue=Ae,y.lastRenderedState=C}return S===null&&(y.lanes=0),[c.memoizedState,y.dispatch]}function Gh(c){var d=sa(),p=d.queue;if(p===null)throw Error(n(311));p.lastRenderedReducer=c;var y=p.dispatch,S=p.pending,C=d.memoizedState;if(S!==null){p.pending=null;var G=S=S.next;do C=c(C,G.action),G=G.next;while(G!==S);di(C,d.memoizedState)||(ei=!0),d.memoizedState=C,d.baseQueue===null&&(d.baseState=C),p.lastRenderedState=C}return[C,y]}function Kh(c,d,p){var y=Jt,S=sa(),C=Pr;if(C){if(p===void 0)throw Error(n(407));p=p()}else p=d();var G=!di((tr||S).memoizedState,p);if(G&&(S.memoizedState=p,ei=!0),S=S.queue,lb(Fp.bind(null,y,S,c),[c]),S.getSnapshot!==d||G||Vr!==null&&Vr.memoizedState.tag&1){if(y.flags|=2048,Ru(9,{destroy:void 0},Dp.bind(null,y,S,p,d),null),Mn===null)throw Error(n(349));C||(ia&127)!==0||dc(y,d,p)}return p}function dc(c,d,p){c.flags|=16384,c={getSnapshot:d,value:p},d=Jt.updateQueue,d===null?(d=m0(),Jt.updateQueue=d,d.stores=[c]):(p=d.stores,p===null?d.stores=[c]:p.push(c))}function Dp(c,d,p,y){d.value=p,d.getSnapshot=y,i1(d)&&Pp(c)}function Fp(c,d,p){return p(function(){i1(d)&&Pp(c)})}function i1(c){var d=c.getSnapshot;c=c.value;try{var p=d();return!di(c,p)}catch{return!0}}function Pp(c){var d=cc(c,2);d!==null&&Nl(d,c,2)}function eu(c){var d=Ja();if(typeof c=="function"){var p=c;if(c=p(),Qi){er(!0);try{p()}finally{er(!1)}}}return d.memoizedState=d.baseState=c,d.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:wo,lastRenderedState:c},d}function s1(c,d,p,y){return c.baseState=p,Qf(c,tr,typeof y=="function"?y:wo)}function l1(c,d,p,y,S){if(f1(c))throw Error(n(485));if(c=d.action,c!==null){var C={payload:S,action:c,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(G){C.listeners.push(G)}};ne.T!==null?p(!0):C.isTransition=!1,y(C),p=d.pending,p===null?(C.next=d.pending=C,o1(d,C)):(C.next=p.next,d.pending=p.next=C)}}function o1(c,d){var p=d.action,y=d.payload,S=c.state;if(d.isTransition){var C=ne.T,G={};ne.T=G;try{var oe=p(S,y),Ae=ne.S;Ae!==null&&Ae(G,oe),Lp(c,d,oe)}catch($e){Mu(c,d,$e)}finally{C!==null&&G.types!==null&&(C.types=G.types),ne.T=C}}else try{C=p(S,y),Lp(c,d,C)}catch($e){Mu(c,d,$e)}}function Lp(c,d,p){p!==null&&typeof p=="object"&&typeof p.then=="function"?p.then(function(y){c1(c,d,y)},function(y){return Mu(c,d,y)}):c1(c,d,p)}function c1(c,d,p){d.status="fulfilled",d.value=p,Yh(d),c.state=p,d=c.pending,d!==null&&(p=d.next,p===d?c.pending=null:(p=p.next,d.next=p,o1(c,p)))}function Mu(c,d,p){var y=c.pending;if(c.pending=null,y!==null){y=y.next;do d.status="rejected",d.reason=p,Yh(d),d=d.next;while(d!==y)}c.action=null}function Yh(c){c=c.listeners;for(var d=0;d<c.length;d++)(0,c[d])()}function p0(c,d){return d}function No(c,d){if(Pr){var p=Mn.formState;if(p!==null){e:{var y=Jt;if(Pr){if(Pn){t:{for(var S=Pn,C=aa;S.nodeType!==8;){if(!C){S=null;break t}if(S=_o(S.nextSibling),S===null){S=null;break t}}C=S.data,S=C==="F!"||C==="F"?S:null}if(S){Pn=_o(S.nextSibling),y=S.data==="F!";break e}}Wc(y)}y=!1}y&&(d=p[0])}}return p=Ja(),p.memoizedState=p.baseState=d,y={pending:null,lanes:0,dispatch:null,lastRenderedReducer:p0,lastRenderedState:d},p.queue=y,p=e6.bind(null,Jt,y),y.dispatch=p,y=eu(!1),C=db.bind(null,Jt,!1,y.queue),y=Ja(),S={state:d,dispatch:null,action:c,pending:null},y.queue=S,p=l1.bind(null,Jt,S,C,p),S.dispatch=p,y.memoizedState=c,[d,p,!1]}function hc(c){var d=sa();return mc(d,tr,c)}function mc(c,d,p){if(d=Qf(c,d,p0)[0],c=Wh(wo)[0],typeof d=="object"&&d!==null&&typeof d.then=="function")try{var y=Jc(d)}catch(G){throw G===Ce?be:G}else y=d;d=sa();var S=d.queue,C=S.dispatch;return p!==d.memoizedState&&(Jt.flags|=2048,Ru(9,{destroy:void 0},Xh.bind(null,S,p),null)),[y,C,c]}function Xh(c,d){c.action=d}function Qh(c){var d=sa(),p=tr;if(p!==null)return mc(d,p,c);sa(),d=d.memoizedState,p=sa();var y=p.queue.dispatch;return p.memoizedState=c,[d,y,!1]}function Ru(c,d,p,y){return c={tag:c,create:p,deps:y,inst:d,next:null},d=Jt.updateQueue,d===null&&(d=m0(),Jt.updateQueue=d),p=d.lastEffect,p===null?d.lastEffect=c.next=c:(y=p.next,p.next=c,c.next=y,d.lastEffect=c),c}function u1(){return sa().memoizedState}function Zf(c,d,p,y){var S=Ja();Jt.flags|=c,S.memoizedState=Ru(1|d,{destroy:void 0},p,y===void 0?null:y)}function Jf(c,d,p,y){var S=sa();y=y===void 0?null:y;var C=S.memoizedState.inst;tr!==null&&y!==null&&kp(y,tr.memoizedState.deps)?S.memoizedState=Ru(d,C,p,y):(Jt.flags|=c,S.memoizedState=Ru(1|d,C,p,y))}function US(c,d){Zf(8390656,8,c,d)}function lb(c,d){Jf(2048,8,c,d)}function bU(c){Jt.flags|=4;var d=Jt.updateQueue;if(d===null)d=m0(),Jt.updateQueue=d,d.events=[c];else{var p=d.events;p===null?d.events=[c]:p.push(c)}}function zS(c){var d=sa().memoizedState;return bU({ref:d,nextImpl:c}),function(){if((un&2)!==0)throw Error(n(440));return d.impl.apply(void 0,arguments)}}function qS(c,d){return Jf(4,2,c,d)}function $S(c,d){return Jf(4,4,c,d)}function HS(c,d){if(typeof d=="function"){c=c();var p=d(c);return function(){typeof p=="function"?p():d(null)}}if(d!=null)return c=c(),d.current=c,function(){d.current=null}}function VS(c,d,p){p=p!=null?p.concat([c]):null,Jf(4,4,HS.bind(null,d,c),p)}function ob(){}function WS(c,d){var p=sa();d=d===void 0?null:d;var y=p.memoizedState;return d!==null&&kp(d,y[1])?y[0]:(p.memoizedState=[c,d],c)}function GS(c,d){var p=sa();d=d===void 0?null:d;var y=p.memoizedState;if(d!==null&&kp(d,y[1]))return y[0];if(y=c(),Qi){er(!0);try{c()}finally{er(!1)}}return p.memoizedState=[y,d],y}function cb(c,d,p){return p===void 0||(ia&1073741824)!==0&&(Rr&261930)===0?c.memoizedState=d:(c.memoizedState=p,c=K6(),Jt.lanes|=c,rd|=c,p)}function KS(c,d,p,y){return di(p,d)?p:kr.current!==null?(c=cb(c,p,y),di(c,d)||(ei=!0),c):(ia&42)===0||(ia&1073741824)!==0&&(Rr&261930)===0?(ei=!0,c.memoizedState=p):(c=K6(),Jt.lanes|=c,rd|=c,d)}function YS(c,d,p,y,S){var C=se.p;se.p=C!==0&&8>C?C:8;var G=ne.T,oe={};ne.T=oe,db(c,!1,d,p);try{var Ae=S(),$e=ne.S;if($e!==null&&$e(oe,Ae),Ae!==null&&typeof Ae=="object"&&typeof Ae.then=="function"){var tt=Z(Ae,y);Mp(c,d,tt,$l(c))}else Mp(c,d,y,$l(c))}catch(st){Mp(c,d,{then:function(){},status:"rejected",reason:st},$l())}finally{se.p=C,G!==null&&oe.types!==null&&(G.types=oe.types),ne.T=G}}function wU(){}function ub(c,d,p,y){if(c.tag!==5)throw Error(n(476));var S=XS(c).queue;YS(c,S,d,ye,p===null?wU:function(){return QS(c),p(y)})}function XS(c){var d=c.memoizedState;if(d!==null)return d;d={memoizedState:ye,baseState:ye,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:wo,lastRenderedState:ye},next:null};var p={};return d.next={memoizedState:p,baseState:p,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:wo,lastRenderedState:p},next:null},c.memoizedState=d,c=c.alternate,c!==null&&(c.memoizedState=d),d}function QS(c){var d=XS(c);d.next===null&&(d=c.alternate.memoizedState),Mp(c,d.next.queue,{},$l())}function fb(){return xi(Jp)}function ZS(){return sa().memoizedState}function JS(){return sa().memoizedState}function NU(c){for(var d=c.return;d!==null;){switch(d.tag){case 24:case 3:var p=$l();c=sr(p);var y=wr(d,c,p);y!==null&&(Nl(y,d,p),on(y,d,p)),d={cache:Yf()},c.payload=d;return}d=d.return}}function _U(c,d,p){var y=$l();p={lane:y,revertLane:0,gesture:null,action:p,hasEagerState:!1,eagerState:null,next:null},f1(c)?t6(d,p):(p=Dh(c,d,p,y),p!==null&&(Nl(p,c,y),r6(p,d,y)))}function e6(c,d,p){var y=$l();Mp(c,d,p,y)}function Mp(c,d,p,y){var S={lane:y,revertLane:0,gesture:null,action:p,hasEagerState:!1,eagerState:null,next:null};if(f1(c))t6(d,S);else{var C=c.alternate;if(c.lanes===0&&(C===null||C.lanes===0)&&(C=d.lastRenderedReducer,C!==null))try{var G=d.lastRenderedState,oe=C(G,p);if(S.hasEagerState=!0,S.eagerState=oe,di(oe,G))return l0(c,d,S,0),Mn===null&&s0(),!1}catch{}finally{}if(p=Dh(c,d,S,y),p!==null)return Nl(p,c,y),r6(p,d,y),!0}return!1}function db(c,d,p,y){if(y={lane:2,revertLane:Hb(),gesture:null,action:y,hasEagerState:!1,eagerState:null,next:null},f1(c)){if(d)throw Error(n(479))}else d=Dh(c,p,y,2),d!==null&&Nl(d,c,2)}function f1(c){var d=c.alternate;return c===Jt||d!==null&&d===Jt}function t6(c,d){gl=hs=!0;var p=c.pending;p===null?d.next=d:(d.next=p.next,p.next=d),c.pending=d}function r6(c,d,p){if((p&4194048)!==0){var y=d.lanes;y&=c.pendingLanes,p|=y,d.lanes=p,oi(c,p)}}var Rp={readContext:xi,use:Xf,useCallback:kn,useContext:kn,useEffect:kn,useImperativeHandle:kn,useLayoutEffect:kn,useInsertionEffect:kn,useMemo:kn,useReducer:kn,useRef:kn,useState:kn,useDebugValue:kn,useDeferredValue:kn,useTransition:kn,useSyncExternalStore:kn,useId:kn,useHostTransitionStatus:kn,useFormState:kn,useActionState:kn,useOptimistic:kn,useMemoCache:kn,useCacheRefresh:kn};Rp.useEffectEvent=kn;var n6={readContext:xi,use:Xf,useCallback:function(c,d){return Ja().memoizedState=[c,d===void 0?null:d],c},useContext:xi,useEffect:US,useImperativeHandle:function(c,d,p){p=p!=null?p.concat([c]):null,Zf(4194308,4,HS.bind(null,d,c),p)},useLayoutEffect:function(c,d){return Zf(4194308,4,c,d)},useInsertionEffect:function(c,d){Zf(4,2,c,d)},useMemo:function(c,d){var p=Ja();d=d===void 0?null:d;var y=c();if(Qi){er(!0);try{c()}finally{er(!1)}}return p.memoizedState=[y,d],y},useReducer:function(c,d,p){var y=Ja();if(p!==void 0){var S=p(d);if(Qi){er(!0);try{p(d)}finally{er(!1)}}}else S=d;return y.memoizedState=y.baseState=S,c={pending:null,lanes:0,dispatch:null,lastRenderedReducer:c,lastRenderedState:S},y.queue=c,c=c.dispatch=_U.bind(null,Jt,c),[y.memoizedState,c]},useRef:function(c){var d=Ja();return c={current:c},d.memoizedState=c},useState:function(c){c=eu(c);var d=c.queue,p=e6.bind(null,Jt,d);return d.dispatch=p,[c.memoizedState,p]},useDebugValue:ob,useDeferredValue:function(c,d){var p=Ja();return cb(p,c,d)},useTransition:function(){var c=eu(!1);return c=YS.bind(null,Jt,c.queue,!0,!1),Ja().memoizedState=c,[!1,c]},useSyncExternalStore:function(c,d,p){var y=Jt,S=Ja();if(Pr){if(p===void 0)throw Error(n(407));p=p()}else{if(p=d(),Mn===null)throw Error(n(349));(Rr&127)!==0||dc(y,d,p)}S.memoizedState=p;var C={value:p,getSnapshot:d};return S.queue=C,US(Fp.bind(null,y,C,c),[c]),y.flags|=2048,Ru(9,{destroy:void 0},Dp.bind(null,y,C,p,d),null),p},useId:function(){var c=Ja(),d=Mn.identifierPrefix;if(Pr){var p=pl,y=ml;p=(y&~(1<<32-br(y)-1)).toString(32)+p,d="_"+d+"R_"+p,p=Oa++,0<p&&(d+="H"+p.toString(32)),d+="_"}else p=$h++,d="_"+d+"r_"+p.toString(32)+"_";return c.memoizedState=d},useHostTransitionStatus:fb,useFormState:No,useActionState:No,useOptimistic:function(c){var d=Ja();d.memoizedState=d.baseState=c;var p={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return d.queue=p,d=db.bind(null,Jt,!0,p),p.dispatch=d,[c,d]},useMemoCache:Lu,useCacheRefresh:function(){return Ja().memoizedState=NU.bind(null,Jt)},useEffectEvent:function(c){var d=Ja(),p={impl:c};return d.memoizedState=p,function(){if((un&2)!==0)throw Error(n(440));return p.impl.apply(void 0,arguments)}}},hb={readContext:xi,use:Xf,useCallback:WS,useContext:xi,useEffect:lb,useImperativeHandle:VS,useInsertionEffect:qS,useLayoutEffect:$S,useMemo:GS,useReducer:Wh,useRef:u1,useState:function(){return Wh(wo)},useDebugValue:ob,useDeferredValue:function(c,d){var p=sa();return KS(p,tr.memoizedState,c,d)},useTransition:function(){var c=Wh(wo)[0],d=sa().memoizedState;return[typeof c=="boolean"?c:Jc(c),d]},useSyncExternalStore:Kh,useId:ZS,useHostTransitionStatus:fb,useFormState:hc,useActionState:hc,useOptimistic:function(c,d){var p=sa();return s1(p,tr,c,d)},useMemoCache:Lu,useCacheRefresh:JS};hb.useEffectEvent=zS;var a6={readContext:xi,use:Xf,useCallback:WS,useContext:xi,useEffect:lb,useImperativeHandle:VS,useInsertionEffect:qS,useLayoutEffect:$S,useMemo:GS,useReducer:Gh,useRef:u1,useState:function(){return Gh(wo)},useDebugValue:ob,useDeferredValue:function(c,d){var p=sa();return tr===null?cb(p,c,d):KS(p,tr.memoizedState,c,d)},useTransition:function(){var c=Gh(wo)[0],d=sa().memoizedState;return[typeof c=="boolean"?c:Jc(c),d]},useSyncExternalStore:Kh,useId:ZS,useHostTransitionStatus:fb,useFormState:Qh,useActionState:Qh,useOptimistic:function(c,d){var p=sa();return tr!==null?s1(p,tr,c,d):(p.baseState=c,[c,p.queue.dispatch])},useMemoCache:Lu,useCacheRefresh:JS};a6.useEffectEvent=zS;function mb(c,d,p,y){d=c.memoizedState,p=p(y,d),p=p==null?d:m({},d,p),c.memoizedState=p,c.lanes===0&&(c.updateQueue.baseState=p)}var pb={enqueueSetState:function(c,d,p){c=c._reactInternals;var y=$l(),S=sr(y);S.payload=d,p!=null&&(S.callback=p),d=wr(c,S,y),d!==null&&(Nl(d,c,y),on(d,c,y))},enqueueReplaceState:function(c,d,p){c=c._reactInternals;var y=$l(),S=sr(y);S.tag=1,S.payload=d,p!=null&&(S.callback=p),d=wr(c,S,y),d!==null&&(Nl(d,c,y),on(d,c,y))},enqueueForceUpdate:function(c,d){c=c._reactInternals;var p=$l(),y=sr(p);y.tag=2,d!=null&&(y.callback=d),d=wr(c,y,p),d!==null&&(Nl(d,c,p),on(d,c,p))}};function i6(c,d,p,y,S,C,G){return c=c.stateNode,typeof c.shouldComponentUpdate=="function"?c.shouldComponentUpdate(y,C,G):d.prototype&&d.prototype.isPureReactComponent?!ic(p,y)||!ic(S,C):!0}function s6(c,d,p,y){c=d.state,typeof d.componentWillReceiveProps=="function"&&d.componentWillReceiveProps(p,y),typeof d.UNSAFE_componentWillReceiveProps=="function"&&d.UNSAFE_componentWillReceiveProps(p,y),d.state!==c&&pb.enqueueReplaceState(d,d.state,null)}function x0(c,d){var p=d;if("ref"in d){p={};for(var y in d)y!=="ref"&&(p[y]=d[y])}if(c=c.defaultProps){p===d&&(p=m({},p));for(var S in c)p[S]===void 0&&(p[S]=c[S])}return p}function l6(c){i0(c)}function o6(c){console.error(c)}function c6(c){i0(c)}function d1(c,d){try{var p=c.onUncaughtError;p(d.value,{componentStack:d.stack})}catch(y){setTimeout(function(){throw y})}}function u6(c,d,p){try{var y=c.onCaughtError;y(p.value,{componentStack:p.stack,errorBoundary:d.tag===1?d.stateNode:null})}catch(S){setTimeout(function(){throw S})}}function xb(c,d,p){return p=sr(p),p.tag=3,p.payload={element:null},p.callback=function(){d1(c,d)},p}function f6(c){return c=sr(c),c.tag=3,c}function d6(c,d,p,y){var S=p.type.getDerivedStateFromError;if(typeof S=="function"){var C=y.value;c.payload=function(){return S(C)},c.callback=function(){u6(d,p,y)}}var G=p.stateNode;G!==null&&typeof G.componentDidCatch=="function"&&(c.callback=function(){u6(d,p,y),typeof S!="function"&&(nd===null?nd=new Set([this]):nd.add(this));var oe=y.stack;this.componentDidCatch(y.value,{componentStack:oe!==null?oe:""})})}function jU(c,d,p,y,S){if(p.flags|=32768,y!==null&&typeof y=="object"&&typeof y.then=="function"){if(d=p.alternate,d!==null&&Yc(d,p,S,!0),p=Kn.current,p!==null){switch(p.tag){case 31:case 13:return Hr===null?j1():p.alternate===null&&Da===0&&(Da=3),p.flags&=-257,p.flags|=65536,p.lanes=S,y===De?p.flags|=16384:(d=p.updateQueue,d===null?p.updateQueue=new Set([y]):d.add(y),zb(c,y,S)),!1;case 22:return p.flags|=65536,y===De?p.flags|=16384:(d=p.updateQueue,d===null?(d={transitions:null,markerInstances:null,retryQueue:new Set([y])},p.updateQueue=d):(p=d.retryQueue,p===null?d.retryQueue=new Set([y]):p.add(y)),zb(c,y,S)),!1}throw Error(n(435,p.tag))}return zb(c,y,S),j1(),!1}if(Pr)return d=Kn.current,d!==null?((d.flags&65536)===0&&(d.flags|=256),d.flags|=65536,d.lanes=S,y!==Ul&&(c=Error(n(422),{cause:y}),Gf(fl(c,p)))):(y!==Ul&&(d=Error(n(423),{cause:y}),Gf(fl(d,p))),c=c.current.alternate,c.flags|=65536,S&=-S,c.lanes|=S,y=fl(y,p),S=xb(c.stateNode,y,S),za(c,S),Da!==4&&(Da=2)),!1;var C=Error(n(520),{cause:y});if(C=fl(C,p),Vp===null?Vp=[C]:Vp.push(C),Da!==4&&(Da=2),d===null)return!0;y=fl(y,p),p=d;do{switch(p.tag){case 3:return p.flags|=65536,c=S&-S,p.lanes|=c,c=xb(p.stateNode,y,c),za(p,c),!1;case 1:if(d=p.type,C=p.stateNode,(p.flags&128)===0&&(typeof d.getDerivedStateFromError=="function"||C!==null&&typeof C.componentDidCatch=="function"&&(nd===null||!nd.has(C))))return p.flags|=65536,S&=-S,p.lanes|=S,S=f6(S),d6(S,c,p,y),za(p,S),!1}p=p.return}while(p!==null);return!1}var gb=Error(n(461)),ei=!1;function Zi(c,d,p,y){d.child=c===null?gr(d,null,p,y):Ln(d,c.child,p,y)}function h6(c,d,p,y,S){p=p.render;var C=d.ref;if("ref"in y){var G={};for(var oe in y)oe!=="ref"&&(G[oe]=y[oe])}else G=y;return Xc(d),y=Cp(c,d,p,G,C,S),oe=Tp(),c!==null&&!ei?(Op(c,d,S),Iu(c,d,S)):(Pr&&oe&&Sp(d),d.flags|=1,Zi(c,d,y,S),d.child)}function m6(c,d,p,y,S){if(c===null){var C=p.type;return typeof C=="function"&&!Ph(C)&&C.defaultProps===void 0&&p.compare===null?(d.tag=15,d.type=C,p6(c,d,C,y,S)):(c=Hf(p.type,null,y,d,d.mode,S),c.ref=d.ref,c.return=d,d.child=c)}if(C=c.child,!Sb(c,S)){var G=C.memoizedProps;if(p=p.compare,p=p!==null?p:ic,p(G,y)&&c.ref===d.ref)return Iu(c,d,S)}return d.flags|=1,c=ul(C,y),c.ref=d.ref,c.return=d,d.child=c}function p6(c,d,p,y,S){if(c!==null){var C=c.memoizedProps;if(ic(C,y)&&c.ref===d.ref)if(ei=!1,d.pendingProps=y=C,Sb(c,S))(c.flags&131072)!==0&&(ei=!0);else return d.lanes=c.lanes,Iu(c,d,S)}return vb(c,d,p,y,S)}function x6(c,d,p,y){var S=y.children,C=c!==null?c.memoizedState:null;if(c===null&&d.stateNode===null&&(d.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),y.mode==="hidden"){if((d.flags&128)!==0){if(C=C!==null?C.baseLanes|p:p,c!==null){for(y=d.child=c.child,S=0;y!==null;)S=S|y.lanes|y.childLanes,y=y.sibling;y=S&~C}else y=0,d.child=null;return g6(c,d,C,p,y)}if((p&536870912)!==0)d.memoizedState={baseLanes:0,cachePool:null},c!==null&&pe(d,C!==null?C.cachePool:null),C!==null?Gn(d,C):Xr(),Ca(d);else return y=d.lanes=536870912,g6(c,d,C!==null?C.baseLanes|p:p,p,y)}else C!==null?(pe(d,C.cachePool),Gn(d,C),Ta(),d.memoizedState=null):(c!==null&&pe(d,null),Xr(),Ta());return Zi(c,d,S,p),d.child}function Ip(c,d){return c!==null&&c.tag===22||d.stateNode!==null||(d.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),d.sibling}function g6(c,d,p,y,S){var C=fe();return C=C===null?null:{parent:wa._currentValue,pool:C},d.memoizedState={baseLanes:p,cachePool:C},c!==null&&pe(d,null),Xr(),Ca(d),c!==null&&Yc(c,d,y,!0),d.childLanes=S,null}function h1(c,d){return d=p1({mode:d.mode,children:d.children},c.mode),d.ref=c.ref,c.child=d,d.return=c,d}function v6(c,d,p){return Ln(d,c.child,null,p),c=h1(d,d.pendingProps),c.flags|=2,xn(d),d.memoizedState=null,c}function SU(c,d,p){var y=d.pendingProps,S=(d.flags&128)!==0;if(d.flags&=-129,c===null){if(Pr){if(y.mode==="hidden")return c=h1(d,y),d.lanes=536870912,Ip(null,c);if(cn(d),(c=Pn)?(c=TA(c,aa),c=c!==null&&c.data==="&"?c:null,c!==null&&(d.memoizedState={dehydrated:c,treeContext:Vc!==null?{id:ml,overflow:pl}:null,retryLane:536870912,hydrationErrors:null},p=Lh(c),p.return=d,d.child=p,mi=d,Pn=null)):c=null,c===null)throw Wc(d);return d.lanes=536870912,null}return h1(d,y)}var C=c.memoizedState;if(C!==null){var G=C.dehydrated;if(cn(d),S)if(d.flags&256)d.flags&=-257,d=v6(c,d,p);else if(d.memoizedState!==null)d.child=c.child,d.flags|=128,d=null;else throw Error(n(558));else if(ei||Yc(c,d,p,!1),S=(p&c.childLanes)!==0,ei||S){if(y=Mn,y!==null&&(G=Vi(y,p),G!==0&&G!==C.retryLane))throw C.retryLane=G,cc(c,G),Nl(y,c,G),gb;j1(),d=v6(c,d,p)}else c=C.treeContext,Pn=_o(G.nextSibling),mi=d,Pr=!0,Xi=null,aa=!1,c!==null&&n1(d,c),d=h1(d,y),d.flags|=4096;return d}return c=ul(c.child,{mode:y.mode,children:y.children}),c.ref=d.ref,d.child=c,c.return=d,c}function m1(c,d){var p=d.ref;if(p===null)c!==null&&c.ref!==null&&(d.flags|=4194816);else{if(typeof p!="function"&&typeof p!="object")throw Error(n(284));(c===null||c.ref!==p)&&(d.flags|=4194816)}}function vb(c,d,p,y,S){return Xc(d),p=Cp(c,d,p,y,void 0,S),y=Tp(),c!==null&&!ei?(Op(c,d,S),Iu(c,d,S)):(Pr&&y&&Sp(d),d.flags|=1,Zi(c,d,p,S),d.child)}function y6(c,d,p,y,S,C){return Xc(d),d.updateQueue=null,p=fc(d,y,p,S),Hh(c),y=Tp(),c!==null&&!ei?(Op(c,d,C),Iu(c,d,C)):(Pr&&y&&Sp(d),d.flags|=1,Zi(c,d,p,C),d.child)}function b6(c,d,p,y,S){if(Xc(d),d.stateNode===null){var C=hi,G=p.contextType;typeof G=="object"&&G!==null&&(C=xi(G)),C=new p(y,C),d.memoizedState=C.state!==null&&C.state!==void 0?C.state:null,C.updater=pb,d.stateNode=C,C._reactInternals=d,C=d.stateNode,C.props=y,C.state=d.memoizedState,C.refs={},jt(d),G=p.contextType,C.context=typeof G=="object"&&G!==null?xi(G):hi,C.state=d.memoizedState,G=p.getDerivedStateFromProps,typeof G=="function"&&(mb(d,p,G,y),C.state=d.memoizedState),typeof p.getDerivedStateFromProps=="function"||typeof C.getSnapshotBeforeUpdate=="function"||typeof C.UNSAFE_componentWillMount!="function"&&typeof C.componentWillMount!="function"||(G=C.state,typeof C.componentWillMount=="function"&&C.componentWillMount(),typeof C.UNSAFE_componentWillMount=="function"&&C.UNSAFE_componentWillMount(),G!==C.state&&pb.enqueueReplaceState(C,C.state,null),Ea(d,y,C,S),En(),C.state=d.memoizedState),typeof C.componentDidMount=="function"&&(d.flags|=4194308),y=!0}else if(c===null){C=d.stateNode;var oe=d.memoizedProps,Ae=x0(p,oe);C.props=Ae;var $e=C.context,tt=p.contextType;G=hi,typeof tt=="object"&&tt!==null&&(G=xi(tt));var st=p.getDerivedStateFromProps;tt=typeof st=="function"||typeof C.getSnapshotBeforeUpdate=="function",oe=d.pendingProps!==oe,tt||typeof C.UNSAFE_componentWillReceiveProps!="function"&&typeof C.componentWillReceiveProps!="function"||(oe||$e!==G)&&s6(d,C,y,G),Ot=!1;var Ve=d.memoizedState;C.state=Ve,Ea(d,y,C,S),En(),$e=d.memoizedState,oe||Ve!==$e||Ot?(typeof st=="function"&&(mb(d,p,st,y),$e=d.memoizedState),(Ae=Ot||i6(d,p,Ae,y,Ve,$e,G))?(tt||typeof C.UNSAFE_componentWillMount!="function"&&typeof C.componentWillMount!="function"||(typeof C.componentWillMount=="function"&&C.componentWillMount(),typeof C.UNSAFE_componentWillMount=="function"&&C.UNSAFE_componentWillMount()),typeof C.componentDidMount=="function"&&(d.flags|=4194308)):(typeof C.componentDidMount=="function"&&(d.flags|=4194308),d.memoizedProps=y,d.memoizedState=$e),C.props=y,C.state=$e,C.context=G,y=Ae):(typeof C.componentDidMount=="function"&&(d.flags|=4194308),y=!1)}else{C=d.stateNode,Wn(c,d),G=d.memoizedProps,tt=x0(p,G),C.props=tt,st=d.pendingProps,Ve=C.context,$e=p.contextType,Ae=hi,typeof $e=="object"&&$e!==null&&(Ae=xi($e)),oe=p.getDerivedStateFromProps,($e=typeof oe=="function"||typeof C.getSnapshotBeforeUpdate=="function")||typeof C.UNSAFE_componentWillReceiveProps!="function"&&typeof C.componentWillReceiveProps!="function"||(G!==st||Ve!==Ae)&&s6(d,C,y,Ae),Ot=!1,Ve=d.memoizedState,C.state=Ve,Ea(d,y,C,S),En();var Ge=d.memoizedState;G!==st||Ve!==Ge||Ot||c!==null&&c.dependencies!==null&&Uh(c.dependencies)?(typeof oe=="function"&&(mb(d,p,oe,y),Ge=d.memoizedState),(tt=Ot||i6(d,p,tt,y,Ve,Ge,Ae)||c!==null&&c.dependencies!==null&&Uh(c.dependencies))?($e||typeof C.UNSAFE_componentWillUpdate!="function"&&typeof C.componentWillUpdate!="function"||(typeof C.componentWillUpdate=="function"&&C.componentWillUpdate(y,Ge,Ae),typeof C.UNSAFE_componentWillUpdate=="function"&&C.UNSAFE_componentWillUpdate(y,Ge,Ae)),typeof C.componentDidUpdate=="function"&&(d.flags|=4),typeof C.getSnapshotBeforeUpdate=="function"&&(d.flags|=1024)):(typeof C.componentDidUpdate!="function"||G===c.memoizedProps&&Ve===c.memoizedState||(d.flags|=4),typeof C.getSnapshotBeforeUpdate!="function"||G===c.memoizedProps&&Ve===c.memoizedState||(d.flags|=1024),d.memoizedProps=y,d.memoizedState=Ge),C.props=y,C.state=Ge,C.context=Ae,y=tt):(typeof C.componentDidUpdate!="function"||G===c.memoizedProps&&Ve===c.memoizedState||(d.flags|=4),typeof C.getSnapshotBeforeUpdate!="function"||G===c.memoizedProps&&Ve===c.memoizedState||(d.flags|=1024),y=!1)}return C=y,m1(c,d),y=(d.flags&128)!==0,C||y?(C=d.stateNode,p=y&&typeof p.getDerivedStateFromError!="function"?null:C.render(),d.flags|=1,c!==null&&y?(d.child=Ln(d,c.child,null,S),d.child=Ln(d,null,p,S)):Zi(c,d,p,S),d.memoizedState=C.state,c=d.child):c=Iu(c,d,S),c}function w6(c,d,p,y){return Fu(),d.flags|=256,Zi(c,d,p,y),d.child}var yb={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function bb(c){return{baseLanes:c,cachePool:we()}}function wb(c,d,p){return c=c!==null?c.childLanes&~p:0,d&&(c|=ql),c}function N6(c,d,p){var y=d.pendingProps,S=!1,C=(d.flags&128)!==0,G;if((G=C)||(G=c!==null&&c.memoizedState===null?!1:(zr.current&2)!==0),G&&(S=!0,d.flags&=-129),G=(d.flags&32)!==0,d.flags&=-33,c===null){if(Pr){if(S?Na(d):Ta(),(c=Pn)?(c=TA(c,aa),c=c!==null&&c.data!=="&"?c:null,c!==null&&(d.memoizedState={dehydrated:c,treeContext:Vc!==null?{id:ml,overflow:pl}:null,retryLane:536870912,hydrationErrors:null},p=Lh(c),p.return=d,d.child=p,mi=d,Pn=null)):c=null,c===null)throw Wc(d);return nw(c)?d.lanes=32:d.lanes=536870912,null}var oe=y.children;return y=y.fallback,S?(Ta(),S=d.mode,oe=p1({mode:"hidden",children:oe},S),y=Hc(y,S,p,null),oe.return=d,y.return=d,oe.sibling=y,d.child=oe,y=d.child,y.memoizedState=bb(p),y.childLanes=wb(c,G,p),d.memoizedState=yb,Ip(null,y)):(Na(d),Nb(d,oe))}var Ae=c.memoizedState;if(Ae!==null&&(oe=Ae.dehydrated,oe!==null)){if(C)d.flags&256?(Na(d),d.flags&=-257,d=_b(c,d,p)):d.memoizedState!==null?(Ta(),d.child=c.child,d.flags|=128,d=null):(Ta(),oe=y.fallback,S=d.mode,y=p1({mode:"visible",children:y.children},S),oe=Hc(oe,S,p,null),oe.flags|=2,y.return=d,oe.return=d,y.sibling=oe,d.child=y,Ln(d,c.child,null,p),y=d.child,y.memoizedState=bb(p),y.childLanes=wb(c,G,p),d.memoizedState=yb,d=Ip(null,y));else if(Na(d),nw(oe)){if(G=oe.nextSibling&&oe.nextSibling.dataset,G)var $e=G.dgst;G=$e,y=Error(n(419)),y.stack="",y.digest=G,Gf({value:y,source:null,stack:null}),d=_b(c,d,p)}else if(ei||Yc(c,d,p,!1),G=(p&c.childLanes)!==0,ei||G){if(G=Mn,G!==null&&(y=Vi(G,p),y!==0&&y!==Ae.retryLane))throw Ae.retryLane=y,cc(c,y),Nl(G,c,y),gb;rw(oe)||j1(),d=_b(c,d,p)}else rw(oe)?(d.flags|=192,d.child=c.child,d=null):(c=Ae.treeContext,Pn=_o(oe.nextSibling),mi=d,Pr=!0,Xi=null,aa=!1,c!==null&&n1(d,c),d=Nb(d,y.children),d.flags|=4096);return d}return S?(Ta(),oe=y.fallback,S=d.mode,Ae=c.child,$e=Ae.sibling,y=ul(Ae,{mode:"hidden",children:y.children}),y.subtreeFlags=Ae.subtreeFlags&65011712,$e!==null?oe=ul($e,oe):(oe=Hc(oe,S,p,null),oe.flags|=2),oe.return=d,y.return=d,y.sibling=oe,d.child=y,Ip(null,y),y=d.child,oe=c.child.memoizedState,oe===null?oe=bb(p):(S=oe.cachePool,S!==null?(Ae=wa._currentValue,S=S.parent!==Ae?{parent:Ae,pool:Ae}:S):S=we(),oe={baseLanes:oe.baseLanes|p,cachePool:S}),y.memoizedState=oe,y.childLanes=wb(c,G,p),d.memoizedState=yb,Ip(c.child,y)):(Na(d),p=c.child,c=p.sibling,p=ul(p,{mode:"visible",children:y.children}),p.return=d,p.sibling=null,c!==null&&(G=d.deletions,G===null?(d.deletions=[c],d.flags|=16):G.push(c)),d.child=p,d.memoizedState=null,p)}function Nb(c,d){return d=p1({mode:"visible",children:d},c.mode),d.return=c,c.child=d}function p1(c,d){return c=Fi(22,c,null,d),c.lanes=0,c}function _b(c,d,p){return Ln(d,c.child,null,p),c=Nb(d,d.pendingProps.children),c.flags|=2,d.memoizedState=null,c}function _6(c,d,p){c.lanes|=d;var y=c.alternate;y!==null&&(y.lanes|=d),Kf(c.return,d,p)}function jb(c,d,p,y,S,C){var G=c.memoizedState;G===null?c.memoizedState={isBackwards:d,rendering:null,renderingStartTime:0,last:y,tail:p,tailMode:S,treeForkCount:C}:(G.isBackwards=d,G.rendering=null,G.renderingStartTime=0,G.last=y,G.tail=p,G.tailMode=S,G.treeForkCount=C)}function j6(c,d,p){var y=d.pendingProps,S=y.revealOrder,C=y.tail;y=y.children;var G=zr.current,oe=(G&2)!==0;if(oe?(G=G&1|2,d.flags|=128):G&=1,R(zr,G),Zi(c,d,y,p),y=Pr?f0:0,!oe&&c!==null&&(c.flags&128)!==0)e:for(c=d.child;c!==null;){if(c.tag===13)c.memoizedState!==null&&_6(c,p,d);else if(c.tag===19)_6(c,p,d);else if(c.child!==null){c.child.return=c,c=c.child;continue}if(c===d)break e;for(;c.sibling===null;){if(c.return===null||c.return===d)break e;c=c.return}c.sibling.return=c.return,c=c.sibling}switch(S){case"forwards":for(p=d.child,S=null;p!==null;)c=p.alternate,c!==null&&Li(c)===null&&(S=p),p=p.sibling;p=S,p===null?(S=d.child,d.child=null):(S=p.sibling,p.sibling=null),jb(d,!1,S,p,C,y);break;case"backwards":case"unstable_legacy-backwards":for(p=null,S=d.child,d.child=null;S!==null;){if(c=S.alternate,c!==null&&Li(c)===null){d.child=S;break}c=S.sibling,S.sibling=p,p=S,S=c}jb(d,!0,p,null,C,y);break;case"together":jb(d,!1,null,null,void 0,y);break;default:d.memoizedState=null}return d.child}function Iu(c,d,p){if(c!==null&&(d.dependencies=c.dependencies),rd|=d.lanes,(p&d.childLanes)===0)if(c!==null){if(Yc(c,d,p,!1),(p&d.childLanes)===0)return null}else return null;if(c!==null&&d.child!==c.child)throw Error(n(153));if(d.child!==null){for(c=d.child,p=ul(c,c.pendingProps),d.child=p,p.return=d;c.sibling!==null;)c=c.sibling,p=p.sibling=ul(c,c.pendingProps),p.return=d;p.sibling=null}return d.child}function Sb(c,d){return(c.lanes&d)!==0?!0:(c=c.dependencies,!!(c!==null&&Uh(c)))}function AU(c,d,p){switch(d.tag){case 3:ue(d,d.stateNode.containerInfo),Kc(d,wa,c.memoizedState.cache),Fu();break;case 27:case 5:ge(d);break;case 4:ue(d,d.stateNode.containerInfo);break;case 10:Kc(d,d.type,d.memoizedProps.value);break;case 31:if(d.memoizedState!==null)return d.flags|=128,cn(d),null;break;case 13:var y=d.memoizedState;if(y!==null)return y.dehydrated!==null?(Na(d),d.flags|=128,null):(p&d.child.childLanes)!==0?N6(c,d,p):(Na(d),c=Iu(c,d,p),c!==null?c.sibling:null);Na(d);break;case 19:var S=(c.flags&128)!==0;if(y=(p&d.childLanes)!==0,y||(Yc(c,d,p,!1),y=(p&d.childLanes)!==0),S){if(y)return j6(c,d,p);d.flags|=128}if(S=d.memoizedState,S!==null&&(S.rendering=null,S.tail=null,S.lastEffect=null),R(zr,zr.current),y)break;return null;case 22:return d.lanes=0,x6(c,d,p,d.pendingProps);case 24:Kc(d,wa,c.memoizedState.cache)}return Iu(c,d,p)}function S6(c,d,p){if(c!==null)if(c.memoizedProps!==d.pendingProps)ei=!0;else{if(!Sb(c,p)&&(d.flags&128)===0)return ei=!1,AU(c,d,p);ei=(c.flags&131072)!==0}else ei=!1,Pr&&(d.flags&1048576)!==0&&r1(d,f0,d.index);switch(d.lanes=0,d.tag){case 16:e:{var y=d.pendingProps;if(c=Re(d.elementType),d.type=c,typeof c=="function")Ph(c)?(y=x0(c,y),d.tag=1,d=b6(null,d,c,y,p)):(d.tag=0,d=vb(null,d,c,y,p));else{if(c!=null){var S=c.$$typeof;if(S===T){d.tag=11,d=h6(null,d,c,y,p);break e}else if(S===D){d.tag=14,d=m6(null,d,c,y,p);break e}}throw d=ee(c)||c,Error(n(306,d,""))}}return d;case 0:return vb(c,d,d.type,d.pendingProps,p);case 1:return y=d.type,S=x0(y,d.pendingProps),b6(c,d,y,S,p);case 3:e:{if(ue(d,d.stateNode.containerInfo),c===null)throw Error(n(387));y=d.pendingProps;var C=d.memoizedState;S=C.element,Wn(c,d),Ea(d,y,null,p);var G=d.memoizedState;if(y=G.cache,Kc(d,wa,y),y!==C.cache&&Pu(d,[wa],p,!0),En(),y=G.element,C.isDehydrated)if(C={element:y,isDehydrated:!1,cache:G.cache},d.updateQueue.baseState=C,d.memoizedState=C,d.flags&256){d=w6(c,d,y,p);break e}else if(y!==S){S=fl(Error(n(424)),d),Gf(S),d=w6(c,d,y,p);break e}else{switch(c=d.stateNode.containerInfo,c.nodeType){case 9:c=c.body;break;default:c=c.nodeName==="HTML"?c.ownerDocument.body:c}for(Pn=_o(c.firstChild),mi=d,Pr=!0,Xi=null,aa=!0,p=gr(d,null,y,p),d.child=p;p;)p.flags=p.flags&-3|4096,p=p.sibling}else{if(Fu(),y===S){d=Iu(c,d,p);break e}Zi(c,d,y,p)}d=d.child}return d;case 26:return m1(c,d),c===null?(p=MA(d.type,null,d.pendingProps,null))?d.memoizedState=p:Pr||(p=d.type,c=d.pendingProps,y=O1(J.current).createElement(p),y[he]=d,y[ve]=c,Ji(y,p,c),Ft(y),d.stateNode=y):d.memoizedState=MA(d.type,c.memoizedProps,d.pendingProps,c.memoizedState),null;case 27:return ge(d),c===null&&Pr&&(y=d.stateNode=FA(d.type,d.pendingProps,J.current),mi=d,aa=!0,S=Pn,ld(d.type)?(aw=S,Pn=_o(y.firstChild)):Pn=S),Zi(c,d,d.pendingProps.children,p),m1(c,d),c===null&&(d.flags|=4194304),d.child;case 5:return c===null&&Pr&&((S=y=Pn)&&(y=rz(y,d.type,d.pendingProps,aa),y!==null?(d.stateNode=y,mi=d,Pn=_o(y.firstChild),aa=!1,S=!0):S=!1),S||Wc(d)),ge(d),S=d.type,C=d.pendingProps,G=c!==null?c.memoizedProps:null,y=C.children,Jb(S,C)?y=null:G!==null&&Jb(S,G)&&(d.flags|=32),d.memoizedState!==null&&(S=Cp(c,d,sb,null,null,p),Jp._currentValue=S),m1(c,d),Zi(c,d,y,p),d.child;case 6:return c===null&&Pr&&((c=p=Pn)&&(p=nz(p,d.pendingProps,aa),p!==null?(d.stateNode=p,mi=d,Pn=null,c=!0):c=!1),c||Wc(d)),null;case 13:return N6(c,d,p);case 4:return ue(d,d.stateNode.containerInfo),y=d.pendingProps,c===null?d.child=Ln(d,null,y,p):Zi(c,d,y,p),d.child;case 11:return h6(c,d,d.type,d.pendingProps,p);case 7:return Zi(c,d,d.pendingProps,p),d.child;case 8:return Zi(c,d,d.pendingProps.children,p),d.child;case 12:return Zi(c,d,d.pendingProps.children,p),d.child;case 10:return y=d.pendingProps,Kc(d,d.type,y.value),Zi(c,d,y.children,p),d.child;case 9:return S=d.type._context,y=d.pendingProps.children,Xc(d),S=xi(S),y=y(S),d.flags|=1,Zi(c,d,y,p),d.child;case 14:return m6(c,d,d.type,d.pendingProps,p);case 15:return p6(c,d,d.type,d.pendingProps,p);case 19:return j6(c,d,p);case 31:return SU(c,d,p);case 22:return x6(c,d,p,d.pendingProps);case 24:return Xc(d),y=xi(wa),c===null?(S=fe(),S===null&&(S=Mn,C=Yf(),S.pooledCache=C,C.refCount++,C!==null&&(S.pooledCacheLanes|=p),S=C),d.memoizedState={parent:y,cache:S},jt(d),Kc(d,wa,S)):((c.lanes&p)!==0&&(Wn(c,d),Ea(d,null,null,p),En()),S=c.memoizedState,C=d.memoizedState,S.parent!==y?(S={parent:y,cache:y},d.memoizedState=S,d.lanes===0&&(d.memoizedState=d.updateQueue.baseState=S),Kc(d,wa,y)):(y=C.cache,Kc(d,wa,y),y!==S.cache&&Pu(d,[wa],p,!0))),Zi(c,d,d.pendingProps.children,p),d.child;case 29:throw d.pendingProps}throw Error(n(156,d.tag))}function Bu(c){c.flags|=4}function Ab(c,d,p,y,S){if((d=(c.mode&32)!==0)&&(d=!1),d){if(c.flags|=16777216,(S&335544128)===S)if(c.stateNode.complete)c.flags|=8192;else if(Z6())c.flags|=8192;else throw Qe=De,Ue}else c.flags&=-16777217}function A6(c,d){if(d.type!=="stylesheet"||(d.state.loading&4)!==0)c.flags&=-16777217;else if(c.flags|=16777216,!zA(d))if(Z6())c.flags|=8192;else throw Qe=De,Ue}function x1(c,d){d!==null&&(c.flags|=4),c.flags&16384&&(d=c.tag!==22?al():536870912,c.lanes|=d,tm|=d)}function Bp(c,d){if(!Pr)switch(c.tailMode){case"hidden":d=c.tail;for(var p=null;d!==null;)d.alternate!==null&&(p=d),d=d.sibling;p===null?c.tail=null:p.sibling=null;break;case"collapsed":p=c.tail;for(var y=null;p!==null;)p.alternate!==null&&(y=p),p=p.sibling;y===null?d||c.tail===null?c.tail=null:c.tail.sibling=null:y.sibling=null}}function Yn(c){var d=c.alternate!==null&&c.alternate.child===c.child,p=0,y=0;if(d)for(var S=c.child;S!==null;)p|=S.lanes|S.childLanes,y|=S.subtreeFlags&65011712,y|=S.flags&65011712,S.return=c,S=S.sibling;else for(S=c.child;S!==null;)p|=S.lanes|S.childLanes,y|=S.subtreeFlags,y|=S.flags,S.return=c,S=S.sibling;return c.subtreeFlags|=y,c.childLanes=p,d}function EU(c,d,p){var y=d.pendingProps;switch(Ih(d),d.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Yn(d),null;case 1:return Yn(d),null;case 3:return p=d.stateNode,y=null,c!==null&&(y=c.memoizedState.cache),d.memoizedState.cache!==y&&(d.flags|=2048),xl(wa),X(),p.pendingContext&&(p.context=p.pendingContext,p.pendingContext=null),(c===null||c.child===null)&&(pi(d)?Bu(d):c===null||c.memoizedState.isDehydrated&&(d.flags&256)===0||(d.flags|=1024,Ep())),Yn(d),null;case 26:var S=d.type,C=d.memoizedState;return c===null?(Bu(d),C!==null?(Yn(d),A6(d,C)):(Yn(d),Ab(d,S,null,y,p))):C?C!==c.memoizedState?(Bu(d),Yn(d),A6(d,C)):(Yn(d),d.flags&=-16777217):(c=c.memoizedProps,c!==y&&Bu(d),Yn(d),Ab(d,S,c,y,p)),null;case 27:if(Te(d),p=J.current,S=d.type,c!==null&&d.stateNode!=null)c.memoizedProps!==y&&Bu(d);else{if(!y){if(d.stateNode===null)throw Error(n(166));return Yn(d),null}c=q.current,pi(d)?Ap(d):(c=FA(S,y,p),d.stateNode=c,Bu(d))}return Yn(d),null;case 5:if(Te(d),S=d.type,c!==null&&d.stateNode!=null)c.memoizedProps!==y&&Bu(d);else{if(!y){if(d.stateNode===null)throw Error(n(166));return Yn(d),null}if(C=q.current,pi(d))Ap(d);else{var G=O1(J.current);switch(C){case 1:C=G.createElementNS("http://www.w3.org/2000/svg",S);break;case 2:C=G.createElementNS("http://www.w3.org/1998/Math/MathML",S);break;default:switch(S){case"svg":C=G.createElementNS("http://www.w3.org/2000/svg",S);break;case"math":C=G.createElementNS("http://www.w3.org/1998/Math/MathML",S);break;case"script":C=G.createElement("div"),C.innerHTML="<script><\/script>",C=C.removeChild(C.firstChild);break;case"select":C=typeof y.is=="string"?G.createElement("select",{is:y.is}):G.createElement("select"),y.multiple?C.multiple=!0:y.size&&(C.size=y.size);break;default:C=typeof y.is=="string"?G.createElement(S,{is:y.is}):G.createElement(S)}}C[he]=d,C[ve]=y;e:for(G=d.child;G!==null;){if(G.tag===5||G.tag===6)C.appendChild(G.stateNode);else if(G.tag!==4&&G.tag!==27&&G.child!==null){G.child.return=G,G=G.child;continue}if(G===d)break e;for(;G.sibling===null;){if(G.return===null||G.return===d)break e;G=G.return}G.sibling.return=G.return,G=G.sibling}d.stateNode=C;e:switch(Ji(C,S,y),S){case"button":case"input":case"select":case"textarea":y=!!y.autoFocus;break e;case"img":y=!0;break e;default:y=!1}y&&Bu(d)}}return Yn(d),Ab(d,d.type,c===null?null:c.memoizedProps,d.pendingProps,p),null;case 6:if(c&&d.stateNode!=null)c.memoizedProps!==y&&Bu(d);else{if(typeof y!="string"&&d.stateNode===null)throw Error(n(166));if(c=J.current,pi(d)){if(c=d.stateNode,p=d.memoizedProps,y=null,S=mi,S!==null)switch(S.tag){case 27:case 5:y=S.memoizedProps}c[he]=d,c=!!(c.nodeValue===p||y!==null&&y.suppressHydrationWarning===!0||NA(c.nodeValue,p)),c||Wc(d,!0)}else c=O1(c).createTextNode(y),c[he]=d,d.stateNode=c}return Yn(d),null;case 31:if(p=d.memoizedState,c===null||c.memoizedState!==null){if(y=pi(d),p!==null){if(c===null){if(!y)throw Error(n(318));if(c=d.memoizedState,c=c!==null?c.dehydrated:null,!c)throw Error(n(557));c[he]=d}else Fu(),(d.flags&128)===0&&(d.memoizedState=null),d.flags|=4;Yn(d),c=!1}else p=Ep(),c!==null&&c.memoizedState!==null&&(c.memoizedState.hydrationErrors=p),c=!0;if(!c)return d.flags&256?(xn(d),d):(xn(d),null);if((d.flags&128)!==0)throw Error(n(558))}return Yn(d),null;case 13:if(y=d.memoizedState,c===null||c.memoizedState!==null&&c.memoizedState.dehydrated!==null){if(S=pi(d),y!==null&&y.dehydrated!==null){if(c===null){if(!S)throw Error(n(318));if(S=d.memoizedState,S=S!==null?S.dehydrated:null,!S)throw Error(n(317));S[he]=d}else Fu(),(d.flags&128)===0&&(d.memoizedState=null),d.flags|=4;Yn(d),S=!1}else S=Ep(),c!==null&&c.memoizedState!==null&&(c.memoizedState.hydrationErrors=S),S=!0;if(!S)return d.flags&256?(xn(d),d):(xn(d),null)}return xn(d),(d.flags&128)!==0?(d.lanes=p,d):(p=y!==null,c=c!==null&&c.memoizedState!==null,p&&(y=d.child,S=null,y.alternate!==null&&y.alternate.memoizedState!==null&&y.alternate.memoizedState.cachePool!==null&&(S=y.alternate.memoizedState.cachePool.pool),C=null,y.memoizedState!==null&&y.memoizedState.cachePool!==null&&(C=y.memoizedState.cachePool.pool),C!==S&&(y.flags|=2048)),p!==c&&p&&(d.child.flags|=8192),x1(d,d.updateQueue),Yn(d),null);case 4:return X(),c===null&&Kb(d.stateNode.containerInfo),Yn(d),null;case 10:return xl(d.type),Yn(d),null;case 19:if(M(zr),y=d.memoizedState,y===null)return Yn(d),null;if(S=(d.flags&128)!==0,C=y.rendering,C===null)if(S)Bp(y,!1);else{if(Da!==0||c!==null&&(c.flags&128)!==0)for(c=d.child;c!==null;){if(C=Li(c),C!==null){for(d.flags|=128,Bp(y,!1),c=C.updateQueue,d.updateQueue=c,x1(d,c),d.subtreeFlags=0,c=p,p=d.child;p!==null;)c0(p,c),p=p.sibling;return R(zr,zr.current&1|2),Pr&&Ws(d,y.treeForkCount),d.child}c=c.sibling}y.tail!==null&&Et()>w1&&(d.flags|=128,S=!0,Bp(y,!1),d.lanes=4194304)}else{if(!S)if(c=Li(C),c!==null){if(d.flags|=128,S=!0,c=c.updateQueue,d.updateQueue=c,x1(d,c),Bp(y,!0),y.tail===null&&y.tailMode==="hidden"&&!C.alternate&&!Pr)return Yn(d),null}else 2*Et()-y.renderingStartTime>w1&&p!==536870912&&(d.flags|=128,S=!0,Bp(y,!1),d.lanes=4194304);y.isBackwards?(C.sibling=d.child,d.child=C):(c=y.last,c!==null?c.sibling=C:d.child=C,y.last=C)}return y.tail!==null?(c=y.tail,y.rendering=c,y.tail=c.sibling,y.renderingStartTime=Et(),c.sibling=null,p=zr.current,R(zr,S?p&1|2:p&1),Pr&&Ws(d,y.treeForkCount),c):(Yn(d),null);case 22:case 23:return xn(d),qa(),y=d.memoizedState!==null,c!==null?c.memoizedState!==null!==y&&(d.flags|=8192):y&&(d.flags|=8192),y?(p&536870912)!==0&&(d.flags&128)===0&&(Yn(d),d.subtreeFlags&6&&(d.flags|=8192)):Yn(d),p=d.updateQueue,p!==null&&x1(d,p.retryQueue),p=null,c!==null&&c.memoizedState!==null&&c.memoizedState.cachePool!==null&&(p=c.memoizedState.cachePool.pool),y=null,d.memoizedState!==null&&d.memoizedState.cachePool!==null&&(y=d.memoizedState.cachePool.pool),y!==p&&(d.flags|=2048),c!==null&&M(ie),null;case 24:return p=null,c!==null&&(p=c.memoizedState.cache),d.memoizedState.cache!==p&&(d.flags|=2048),xl(wa),Yn(d),null;case 25:return null;case 30:return null}throw Error(n(156,d.tag))}function kU(c,d){switch(Ih(d),d.tag){case 1:return c=d.flags,c&65536?(d.flags=c&-65537|128,d):null;case 3:return xl(wa),X(),c=d.flags,(c&65536)!==0&&(c&128)===0?(d.flags=c&-65537|128,d):null;case 26:case 27:case 5:return Te(d),null;case 31:if(d.memoizedState!==null){if(xn(d),d.alternate===null)throw Error(n(340));Fu()}return c=d.flags,c&65536?(d.flags=c&-65537|128,d):null;case 13:if(xn(d),c=d.memoizedState,c!==null&&c.dehydrated!==null){if(d.alternate===null)throw Error(n(340));Fu()}return c=d.flags,c&65536?(d.flags=c&-65537|128,d):null;case 19:return M(zr),null;case 4:return X(),null;case 10:return xl(d.type),null;case 22:case 23:return xn(d),qa(),c!==null&&M(ie),c=d.flags,c&65536?(d.flags=c&-65537|128,d):null;case 24:return xl(wa),null;case 25:return null;default:return null}}function E6(c,d){switch(Ih(d),d.tag){case 3:xl(wa),X();break;case 26:case 27:case 5:Te(d);break;case 4:X();break;case 31:d.memoizedState!==null&&xn(d);break;case 13:xn(d);break;case 19:M(zr);break;case 10:xl(d.type);break;case 22:case 23:xn(d),qa(),c!==null&&M(ie);break;case 24:xl(wa)}}function Up(c,d){try{var p=d.updateQueue,y=p!==null?p.lastEffect:null;if(y!==null){var S=y.next;p=S;do{if((p.tag&c)===c){y=void 0;var C=p.create,G=p.inst;y=C(),G.destroy=y}p=p.next}while(p!==S)}}catch(oe){vn(d,d.return,oe)}}function ed(c,d,p){try{var y=d.updateQueue,S=y!==null?y.lastEffect:null;if(S!==null){var C=S.next;y=C;do{if((y.tag&c)===c){var G=y.inst,oe=G.destroy;if(oe!==void 0){G.destroy=void 0,S=d;var Ae=p,$e=oe;try{$e()}catch(tt){vn(S,Ae,tt)}}}y=y.next}while(y!==C)}}catch(tt){vn(d,d.return,tt)}}function k6(c){var d=c.updateQueue;if(d!==null){var p=c.stateNode;try{ka(d,p)}catch(y){vn(c,c.return,y)}}}function C6(c,d,p){p.props=x0(c.type,c.memoizedProps),p.state=c.memoizedState;try{p.componentWillUnmount()}catch(y){vn(c,d,y)}}function zp(c,d){try{var p=c.ref;if(p!==null){switch(c.tag){case 26:case 27:case 5:var y=c.stateNode;break;case 30:y=c.stateNode;break;default:y=c.stateNode}typeof p=="function"?c.refCleanup=p(y):p.current=y}}catch(S){vn(c,d,S)}}function tu(c,d){var p=c.ref,y=c.refCleanup;if(p!==null)if(typeof y=="function")try{y()}catch(S){vn(c,d,S)}finally{c.refCleanup=null,c=c.alternate,c!=null&&(c.refCleanup=null)}else if(typeof p=="function")try{p(null)}catch(S){vn(c,d,S)}else p.current=null}function T6(c){var d=c.type,p=c.memoizedProps,y=c.stateNode;try{e:switch(d){case"button":case"input":case"select":case"textarea":p.autoFocus&&y.focus();break e;case"img":p.src?y.src=p.src:p.srcSet&&(y.srcset=p.srcSet)}}catch(S){vn(c,c.return,S)}}function Eb(c,d,p){try{var y=c.stateNode;XU(y,c.type,p,d),y[ve]=d}catch(S){vn(c,c.return,S)}}function O6(c){return c.tag===5||c.tag===3||c.tag===26||c.tag===27&&ld(c.type)||c.tag===4}function kb(c){e:for(;;){for(;c.sibling===null;){if(c.return===null||O6(c.return))return null;c=c.return}for(c.sibling.return=c.return,c=c.sibling;c.tag!==5&&c.tag!==6&&c.tag!==18;){if(c.tag===27&&ld(c.type)||c.flags&2||c.child===null||c.tag===4)continue e;c.child.return=c,c=c.child}if(!(c.flags&2))return c.stateNode}}function Cb(c,d,p){var y=c.tag;if(y===5||y===6)c=c.stateNode,d?(p.nodeType===9?p.body:p.nodeName==="HTML"?p.ownerDocument.body:p).insertBefore(c,d):(d=p.nodeType===9?p.body:p.nodeName==="HTML"?p.ownerDocument.body:p,d.appendChild(c),p=p._reactRootContainer,p!=null||d.onclick!==null||(d.onclick=Ll));else if(y!==4&&(y===27&&ld(c.type)&&(p=c.stateNode,d=null),c=c.child,c!==null))for(Cb(c,d,p),c=c.sibling;c!==null;)Cb(c,d,p),c=c.sibling}function g1(c,d,p){var y=c.tag;if(y===5||y===6)c=c.stateNode,d?p.insertBefore(c,d):p.appendChild(c);else if(y!==4&&(y===27&&ld(c.type)&&(p=c.stateNode),c=c.child,c!==null))for(g1(c,d,p),c=c.sibling;c!==null;)g1(c,d,p),c=c.sibling}function D6(c){var d=c.stateNode,p=c.memoizedProps;try{for(var y=c.type,S=d.attributes;S.length;)d.removeAttributeNode(S[0]);Ji(d,y,p),d[he]=c,d[ve]=p}catch(C){vn(c,c.return,C)}}var Uu=!1,ti=!1,Tb=!1,F6=typeof WeakSet=="function"?WeakSet:Set,Mi=null;function CU(c,d){if(c=c.containerInfo,Qb=I1,c=lc(c),vo(c)){if("selectionStart"in c)var p={start:c.selectionStart,end:c.selectionEnd};else e:{p=(p=c.ownerDocument)&&p.defaultView||window;var y=p.getSelection&&p.getSelection();if(y&&y.rangeCount!==0){p=y.anchorNode;var S=y.anchorOffset,C=y.focusNode;y=y.focusOffset;try{p.nodeType,C.nodeType}catch{p=null;break e}var G=0,oe=-1,Ae=-1,$e=0,tt=0,st=c,Ve=null;t:for(;;){for(var Ge;st!==p||S!==0&&st.nodeType!==3||(oe=G+S),st!==C||y!==0&&st.nodeType!==3||(Ae=G+y),st.nodeType===3&&(G+=st.nodeValue.length),(Ge=st.firstChild)!==null;)Ve=st,st=Ge;for(;;){if(st===c)break t;if(Ve===p&&++$e===S&&(oe=G),Ve===C&&++tt===y&&(Ae=G),(Ge=st.nextSibling)!==null)break;st=Ve,Ve=st.parentNode}st=Ge}p=oe===-1||Ae===-1?null:{start:oe,end:Ae}}else p=null}p=p||{start:0,end:0}}else p=null;for(Zb={focusedElem:c,selectionRange:p},I1=!1,Mi=d;Mi!==null;)if(d=Mi,c=d.child,(d.subtreeFlags&1028)!==0&&c!==null)c.return=d,Mi=c;else for(;Mi!==null;){switch(d=Mi,C=d.alternate,c=d.flags,d.tag){case 0:if((c&4)!==0&&(c=d.updateQueue,c=c!==null?c.events:null,c!==null))for(p=0;p<c.length;p++)S=c[p],S.ref.impl=S.nextImpl;break;case 11:case 15:break;case 1:if((c&1024)!==0&&C!==null){c=void 0,p=d,S=C.memoizedProps,C=C.memoizedState,y=p.stateNode;try{var Ut=x0(p.type,S);c=y.getSnapshotBeforeUpdate(Ut,C),y.__reactInternalSnapshotBeforeUpdate=c}catch(lr){vn(p,p.return,lr)}}break;case 3:if((c&1024)!==0){if(c=d.stateNode.containerInfo,p=c.nodeType,p===9)tw(c);else if(p===1)switch(c.nodeName){case"HEAD":case"HTML":case"BODY":tw(c);break;default:c.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((c&1024)!==0)throw Error(n(163))}if(c=d.sibling,c!==null){c.return=d.return,Mi=c;break}Mi=d.return}}function P6(c,d,p){var y=p.flags;switch(p.tag){case 0:case 11:case 15:qu(c,p),y&4&&Up(5,p);break;case 1:if(qu(c,p),y&4)if(c=p.stateNode,d===null)try{c.componentDidMount()}catch(G){vn(p,p.return,G)}else{var S=x0(p.type,d.memoizedProps);d=d.memoizedState;try{c.componentDidUpdate(S,d,c.__reactInternalSnapshotBeforeUpdate)}catch(G){vn(p,p.return,G)}}y&64&&k6(p),y&512&&zp(p,p.return);break;case 3:if(qu(c,p),y&64&&(c=p.updateQueue,c!==null)){if(d=null,p.child!==null)switch(p.child.tag){case 27:case 5:d=p.child.stateNode;break;case 1:d=p.child.stateNode}try{ka(c,d)}catch(G){vn(p,p.return,G)}}break;case 27:d===null&&y&4&&D6(p);case 26:case 5:qu(c,p),d===null&&y&4&&T6(p),y&512&&zp(p,p.return);break;case 12:qu(c,p);break;case 31:qu(c,p),y&4&&R6(c,p);break;case 13:qu(c,p),y&4&&I6(c,p),y&64&&(c=p.memoizedState,c!==null&&(c=c.dehydrated,c!==null&&(p=IU.bind(null,p),az(c,p))));break;case 22:if(y=p.memoizedState!==null||Uu,!y){d=d!==null&&d.memoizedState!==null||ti,S=Uu;var C=ti;Uu=y,(ti=d)&&!C?$u(c,p,(p.subtreeFlags&8772)!==0):qu(c,p),Uu=S,ti=C}break;case 30:break;default:qu(c,p)}}function L6(c){var d=c.alternate;d!==null&&(c.alternate=null,L6(d)),c.child=null,c.deletions=null,c.sibling=null,c.tag===5&&(d=c.stateNode,d!==null&&ft(d)),c.stateNode=null,c.return=null,c.dependencies=null,c.memoizedProps=null,c.memoizedState=null,c.pendingProps=null,c.stateNode=null,c.updateQueue=null}var la=null,vl=!1;function zu(c,d,p){for(p=p.child;p!==null;)M6(c,d,p),p=p.sibling}function M6(c,d,p){if(At&&typeof At.onCommitFiberUnmount=="function")try{At.onCommitFiberUnmount(Zt,p)}catch{}switch(p.tag){case 26:ti||tu(p,d),zu(c,d,p),p.memoizedState?p.memoizedState.count--:p.stateNode&&(p=p.stateNode,p.parentNode.removeChild(p));break;case 27:ti||tu(p,d);var y=la,S=vl;ld(p.type)&&(la=p.stateNode,vl=!1),zu(c,d,p),Xp(p.stateNode),la=y,vl=S;break;case 5:ti||tu(p,d);case 6:if(y=la,S=vl,la=null,zu(c,d,p),la=y,vl=S,la!==null)if(vl)try{(la.nodeType===9?la.body:la.nodeName==="HTML"?la.ownerDocument.body:la).removeChild(p.stateNode)}catch(C){vn(p,d,C)}else try{la.removeChild(p.stateNode)}catch(C){vn(p,d,C)}break;case 18:la!==null&&(vl?(c=la,kA(c.nodeType===9?c.body:c.nodeName==="HTML"?c.ownerDocument.body:c,p.stateNode),cm(c)):kA(la,p.stateNode));break;case 4:y=la,S=vl,la=p.stateNode.containerInfo,vl=!0,zu(c,d,p),la=y,vl=S;break;case 0:case 11:case 14:case 15:ed(2,p,d),ti||ed(4,p,d),zu(c,d,p);break;case 1:ti||(tu(p,d),y=p.stateNode,typeof y.componentWillUnmount=="function"&&C6(p,d,y)),zu(c,d,p);break;case 21:zu(c,d,p);break;case 22:ti=(y=ti)||p.memoizedState!==null,zu(c,d,p),ti=y;break;default:zu(c,d,p)}}function R6(c,d){if(d.memoizedState===null&&(c=d.alternate,c!==null&&(c=c.memoizedState,c!==null))){c=c.dehydrated;try{cm(c)}catch(p){vn(d,d.return,p)}}}function I6(c,d){if(d.memoizedState===null&&(c=d.alternate,c!==null&&(c=c.memoizedState,c!==null&&(c=c.dehydrated,c!==null))))try{cm(c)}catch(p){vn(d,d.return,p)}}function TU(c){switch(c.tag){case 31:case 13:case 19:var d=c.stateNode;return d===null&&(d=c.stateNode=new F6),d;case 22:return c=c.stateNode,d=c._retryCache,d===null&&(d=c._retryCache=new F6),d;default:throw Error(n(435,c.tag))}}function v1(c,d){var p=TU(c);d.forEach(function(y){if(!p.has(y)){p.add(y);var S=BU.bind(null,c,y);y.then(S,S)}})}function yl(c,d){var p=d.deletions;if(p!==null)for(var y=0;y<p.length;y++){var S=p[y],C=c,G=d,oe=G;e:for(;oe!==null;){switch(oe.tag){case 27:if(ld(oe.type)){la=oe.stateNode,vl=!1;break e}break;case 5:la=oe.stateNode,vl=!1;break e;case 3:case 4:la=oe.stateNode.containerInfo,vl=!0;break e}oe=oe.return}if(la===null)throw Error(n(160));M6(C,G,S),la=null,vl=!1,C=S.alternate,C!==null&&(C.return=null),S.return=null}if(d.subtreeFlags&13886)for(d=d.child;d!==null;)B6(d,c),d=d.sibling}var pc=null;function B6(c,d){var p=c.alternate,y=c.flags;switch(c.tag){case 0:case 11:case 14:case 15:yl(d,c),bl(c),y&4&&(ed(3,c,c.return),Up(3,c),ed(5,c,c.return));break;case 1:yl(d,c),bl(c),y&512&&(ti||p===null||tu(p,p.return)),y&64&&Uu&&(c=c.updateQueue,c!==null&&(y=c.callbacks,y!==null&&(p=c.shared.hiddenCallbacks,c.shared.hiddenCallbacks=p===null?y:p.concat(y))));break;case 26:var S=pc;if(yl(d,c),bl(c),y&512&&(ti||p===null||tu(p,p.return)),y&4){var C=p!==null?p.memoizedState:null;if(y=c.memoizedState,p===null)if(y===null)if(c.stateNode===null){e:{y=c.type,p=c.memoizedProps,S=S.ownerDocument||S;t:switch(y){case"title":C=S.getElementsByTagName("title")[0],(!C||C[ze]||C[he]||C.namespaceURI==="http://www.w3.org/2000/svg"||C.hasAttribute("itemprop"))&&(C=S.createElement(y),S.head.insertBefore(C,S.querySelector("head > title"))),Ji(C,y,p),C[he]=c,Ft(C),y=C;break e;case"link":var G=BA("link","href",S).get(y+(p.href||""));if(G){for(var oe=0;oe<G.length;oe++)if(C=G[oe],C.getAttribute("href")===(p.href==null||p.href===""?null:p.href)&&C.getAttribute("rel")===(p.rel==null?null:p.rel)&&C.getAttribute("title")===(p.title==null?null:p.title)&&C.getAttribute("crossorigin")===(p.crossOrigin==null?null:p.crossOrigin)){G.splice(oe,1);break t}}C=S.createElement(y),Ji(C,y,p),S.head.appendChild(C);break;case"meta":if(G=BA("meta","content",S).get(y+(p.content||""))){for(oe=0;oe<G.length;oe++)if(C=G[oe],C.getAttribute("content")===(p.content==null?null:""+p.content)&&C.getAttribute("name")===(p.name==null?null:p.name)&&C.getAttribute("property")===(p.property==null?null:p.property)&&C.getAttribute("http-equiv")===(p.httpEquiv==null?null:p.httpEquiv)&&C.getAttribute("charset")===(p.charSet==null?null:p.charSet)){G.splice(oe,1);break t}}C=S.createElement(y),Ji(C,y,p),S.head.appendChild(C);break;default:throw Error(n(468,y))}C[he]=c,Ft(C),y=C}c.stateNode=y}else UA(S,c.type,c.stateNode);else c.stateNode=IA(S,y,c.memoizedProps);else C!==y?(C===null?p.stateNode!==null&&(p=p.stateNode,p.parentNode.removeChild(p)):C.count--,y===null?UA(S,c.type,c.stateNode):IA(S,y,c.memoizedProps)):y===null&&c.stateNode!==null&&Eb(c,c.memoizedProps,p.memoizedProps)}break;case 27:yl(d,c),bl(c),y&512&&(ti||p===null||tu(p,p.return)),p!==null&&y&4&&Eb(c,c.memoizedProps,p.memoizedProps);break;case 5:if(yl(d,c),bl(c),y&512&&(ti||p===null||tu(p,p.return)),c.flags&32){S=c.stateNode;try{Bs(S,"")}catch(Ut){vn(c,c.return,Ut)}}y&4&&c.stateNode!=null&&(S=c.memoizedProps,Eb(c,S,p!==null?p.memoizedProps:S)),y&1024&&(Tb=!0);break;case 6:if(yl(d,c),bl(c),y&4){if(c.stateNode===null)throw Error(n(162));y=c.memoizedProps,p=c.stateNode;try{p.nodeValue=y}catch(Ut){vn(c,c.return,Ut)}}break;case 3:if(P1=null,S=pc,pc=D1(d.containerInfo),yl(d,c),pc=S,bl(c),y&4&&p!==null&&p.memoizedState.isDehydrated)try{cm(d.containerInfo)}catch(Ut){vn(c,c.return,Ut)}Tb&&(Tb=!1,U6(c));break;case 4:y=pc,pc=D1(c.stateNode.containerInfo),yl(d,c),bl(c),pc=y;break;case 12:yl(d,c),bl(c);break;case 31:yl(d,c),bl(c),y&4&&(y=c.updateQueue,y!==null&&(c.updateQueue=null,v1(c,y)));break;case 13:yl(d,c),bl(c),c.child.flags&8192&&c.memoizedState!==null!=(p!==null&&p.memoizedState!==null)&&(b1=Et()),y&4&&(y=c.updateQueue,y!==null&&(c.updateQueue=null,v1(c,y)));break;case 22:S=c.memoizedState!==null;var Ae=p!==null&&p.memoizedState!==null,$e=Uu,tt=ti;if(Uu=$e||S,ti=tt||Ae,yl(d,c),ti=tt,Uu=$e,bl(c),y&8192)e:for(d=c.stateNode,d._visibility=S?d._visibility&-2:d._visibility|1,S&&(p===null||Ae||Uu||ti||g0(c)),p=null,d=c;;){if(d.tag===5||d.tag===26){if(p===null){Ae=p=d;try{if(C=Ae.stateNode,S)G=C.style,typeof G.setProperty=="function"?G.setProperty("display","none","important"):G.display="none";else{oe=Ae.stateNode;var st=Ae.memoizedProps.style,Ve=st!=null&&st.hasOwnProperty("display")?st.display:null;oe.style.display=Ve==null||typeof Ve=="boolean"?"":(""+Ve).trim()}}catch(Ut){vn(Ae,Ae.return,Ut)}}}else if(d.tag===6){if(p===null){Ae=d;try{Ae.stateNode.nodeValue=S?"":Ae.memoizedProps}catch(Ut){vn(Ae,Ae.return,Ut)}}}else if(d.tag===18){if(p===null){Ae=d;try{var Ge=Ae.stateNode;S?CA(Ge,!0):CA(Ae.stateNode,!1)}catch(Ut){vn(Ae,Ae.return,Ut)}}}else if((d.tag!==22&&d.tag!==23||d.memoizedState===null||d===c)&&d.child!==null){d.child.return=d,d=d.child;continue}if(d===c)break e;for(;d.sibling===null;){if(d.return===null||d.return===c)break e;p===d&&(p=null),d=d.return}p===d&&(p=null),d.sibling.return=d.return,d=d.sibling}y&4&&(y=c.updateQueue,y!==null&&(p=y.retryQueue,p!==null&&(y.retryQueue=null,v1(c,p))));break;case 19:yl(d,c),bl(c),y&4&&(y=c.updateQueue,y!==null&&(c.updateQueue=null,v1(c,y)));break;case 30:break;case 21:break;default:yl(d,c),bl(c)}}function bl(c){var d=c.flags;if(d&2){try{for(var p,y=c.return;y!==null;){if(O6(y)){p=y;break}y=y.return}if(p==null)throw Error(n(160));switch(p.tag){case 27:var S=p.stateNode,C=kb(c);g1(c,C,S);break;case 5:var G=p.stateNode;p.flags&32&&(Bs(G,""),p.flags&=-33);var oe=kb(c);g1(c,oe,G);break;case 3:case 4:var Ae=p.stateNode.containerInfo,$e=kb(c);Cb(c,$e,Ae);break;default:throw Error(n(161))}}catch(tt){vn(c,c.return,tt)}c.flags&=-3}d&4096&&(c.flags&=-4097)}function U6(c){if(c.subtreeFlags&1024)for(c=c.child;c!==null;){var d=c;U6(d),d.tag===5&&d.flags&1024&&d.stateNode.reset(),c=c.sibling}}function qu(c,d){if(d.subtreeFlags&8772)for(d=d.child;d!==null;)P6(c,d.alternate,d),d=d.sibling}function g0(c){for(c=c.child;c!==null;){var d=c;switch(d.tag){case 0:case 11:case 14:case 15:ed(4,d,d.return),g0(d);break;case 1:tu(d,d.return);var p=d.stateNode;typeof p.componentWillUnmount=="function"&&C6(d,d.return,p),g0(d);break;case 27:Xp(d.stateNode);case 26:case 5:tu(d,d.return),g0(d);break;case 22:d.memoizedState===null&&g0(d);break;case 30:g0(d);break;default:g0(d)}c=c.sibling}}function $u(c,d,p){for(p=p&&(d.subtreeFlags&8772)!==0,d=d.child;d!==null;){var y=d.alternate,S=c,C=d,G=C.flags;switch(C.tag){case 0:case 11:case 15:$u(S,C,p),Up(4,C);break;case 1:if($u(S,C,p),y=C,S=y.stateNode,typeof S.componentDidMount=="function")try{S.componentDidMount()}catch($e){vn(y,y.return,$e)}if(y=C,S=y.updateQueue,S!==null){var oe=y.stateNode;try{var Ae=S.shared.hiddenCallbacks;if(Ae!==null)for(S.shared.hiddenCallbacks=null,S=0;S<Ae.length;S++)Pi(Ae[S],oe)}catch($e){vn(y,y.return,$e)}}p&&G&64&&k6(C),zp(C,C.return);break;case 27:D6(C);case 26:case 5:$u(S,C,p),p&&y===null&&G&4&&T6(C),zp(C,C.return);break;case 12:$u(S,C,p);break;case 31:$u(S,C,p),p&&G&4&&R6(S,C);break;case 13:$u(S,C,p),p&&G&4&&I6(S,C);break;case 22:C.memoizedState===null&&$u(S,C,p),zp(C,C.return);break;case 30:break;default:$u(S,C,p)}d=d.sibling}}function Ob(c,d){var p=null;c!==null&&c.memoizedState!==null&&c.memoizedState.cachePool!==null&&(p=c.memoizedState.cachePool.pool),c=null,d.memoizedState!==null&&d.memoizedState.cachePool!==null&&(c=d.memoizedState.cachePool.pool),c!==p&&(c!=null&&c.refCount++,p!=null&&d0(p))}function Db(c,d){c=null,d.alternate!==null&&(c=d.alternate.memoizedState.cache),d=d.memoizedState.cache,d!==c&&(d.refCount++,c!=null&&d0(c))}function xc(c,d,p,y){if(d.subtreeFlags&10256)for(d=d.child;d!==null;)z6(c,d,p,y),d=d.sibling}function z6(c,d,p,y){var S=d.flags;switch(d.tag){case 0:case 11:case 15:xc(c,d,p,y),S&2048&&Up(9,d);break;case 1:xc(c,d,p,y);break;case 3:xc(c,d,p,y),S&2048&&(c=null,d.alternate!==null&&(c=d.alternate.memoizedState.cache),d=d.memoizedState.cache,d!==c&&(d.refCount++,c!=null&&d0(c)));break;case 12:if(S&2048){xc(c,d,p,y),c=d.stateNode;try{var C=d.memoizedProps,G=C.id,oe=C.onPostCommit;typeof oe=="function"&&oe(G,d.alternate===null?"mount":"update",c.passiveEffectDuration,-0)}catch(Ae){vn(d,d.return,Ae)}}else xc(c,d,p,y);break;case 31:xc(c,d,p,y);break;case 13:xc(c,d,p,y);break;case 23:break;case 22:C=d.stateNode,G=d.alternate,d.memoizedState!==null?C._visibility&2?xc(c,d,p,y):qp(c,d):C._visibility&2?xc(c,d,p,y):(C._visibility|=2,Zh(c,d,p,y,(d.subtreeFlags&10256)!==0||!1)),S&2048&&Ob(G,d);break;case 24:xc(c,d,p,y),S&2048&&Db(d.alternate,d);break;default:xc(c,d,p,y)}}function Zh(c,d,p,y,S){for(S=S&&((d.subtreeFlags&10256)!==0||!1),d=d.child;d!==null;){var C=c,G=d,oe=p,Ae=y,$e=G.flags;switch(G.tag){case 0:case 11:case 15:Zh(C,G,oe,Ae,S),Up(8,G);break;case 23:break;case 22:var tt=G.stateNode;G.memoizedState!==null?tt._visibility&2?Zh(C,G,oe,Ae,S):qp(C,G):(tt._visibility|=2,Zh(C,G,oe,Ae,S)),S&&$e&2048&&Ob(G.alternate,G);break;case 24:Zh(C,G,oe,Ae,S),S&&$e&2048&&Db(G.alternate,G);break;default:Zh(C,G,oe,Ae,S)}d=d.sibling}}function qp(c,d){if(d.subtreeFlags&10256)for(d=d.child;d!==null;){var p=c,y=d,S=y.flags;switch(y.tag){case 22:qp(p,y),S&2048&&Ob(y.alternate,y);break;case 24:qp(p,y),S&2048&&Db(y.alternate,y);break;default:qp(p,y)}d=d.sibling}}var $p=8192;function Jh(c,d,p){if(c.subtreeFlags&$p)for(c=c.child;c!==null;)q6(c,d,p),c=c.sibling}function q6(c,d,p){switch(c.tag){case 26:Jh(c,d,p),c.flags&$p&&c.memoizedState!==null&&xz(p,pc,c.memoizedState,c.memoizedProps);break;case 5:Jh(c,d,p);break;case 3:case 4:var y=pc;pc=D1(c.stateNode.containerInfo),Jh(c,d,p),pc=y;break;case 22:c.memoizedState===null&&(y=c.alternate,y!==null&&y.memoizedState!==null?(y=$p,$p=16777216,Jh(c,d,p),$p=y):Jh(c,d,p));break;default:Jh(c,d,p)}}function $6(c){var d=c.alternate;if(d!==null&&(c=d.child,c!==null)){d.child=null;do d=c.sibling,c.sibling=null,c=d;while(c!==null)}}function Hp(c){var d=c.deletions;if((c.flags&16)!==0){if(d!==null)for(var p=0;p<d.length;p++){var y=d[p];Mi=y,V6(y,c)}$6(c)}if(c.subtreeFlags&10256)for(c=c.child;c!==null;)H6(c),c=c.sibling}function H6(c){switch(c.tag){case 0:case 11:case 15:Hp(c),c.flags&2048&&ed(9,c,c.return);break;case 3:Hp(c);break;case 12:Hp(c);break;case 22:var d=c.stateNode;c.memoizedState!==null&&d._visibility&2&&(c.return===null||c.return.tag!==13)?(d._visibility&=-3,y1(c)):Hp(c);break;default:Hp(c)}}function y1(c){var d=c.deletions;if((c.flags&16)!==0){if(d!==null)for(var p=0;p<d.length;p++){var y=d[p];Mi=y,V6(y,c)}$6(c)}for(c=c.child;c!==null;){switch(d=c,d.tag){case 0:case 11:case 15:ed(8,d,d.return),y1(d);break;case 22:p=d.stateNode,p._visibility&2&&(p._visibility&=-3,y1(d));break;default:y1(d)}c=c.sibling}}function V6(c,d){for(;Mi!==null;){var p=Mi;switch(p.tag){case 0:case 11:case 15:ed(8,p,d);break;case 23:case 22:if(p.memoizedState!==null&&p.memoizedState.cachePool!==null){var y=p.memoizedState.cachePool.pool;y!=null&&y.refCount++}break;case 24:d0(p.memoizedState.cache)}if(y=p.child,y!==null)y.return=p,Mi=y;else e:for(p=c;Mi!==null;){y=Mi;var S=y.sibling,C=y.return;if(L6(y),y===p){Mi=null;break e}if(S!==null){S.return=C,Mi=S;break e}Mi=C}}}var OU={getCacheForType:function(c){var d=xi(wa),p=d.data.get(c);return p===void 0&&(p=c(),d.data.set(c,p)),p},cacheSignal:function(){return xi(wa).controller.signal}},DU=typeof WeakMap=="function"?WeakMap:Map,un=0,Mn=null,Lr=null,Rr=0,gn=0,zl=null,td=!1,em=!1,Fb=!1,Hu=0,Da=0,rd=0,v0=0,Pb=0,ql=0,tm=0,Vp=null,wl=null,Lb=!1,b1=0,W6=0,w1=1/0,N1=null,nd=null,vi=0,ad=null,rm=null,Vu=0,Mb=0,Rb=null,G6=null,Wp=0,Ib=null;function $l(){return(un&2)!==0&&Rr!==0?Rr&-Rr:ne.T!==null?Hb():re()}function K6(){if(ql===0)if((Rr&536870912)===0||Pr){var c=Un;Un<<=1,(Un&3932160)===0&&(Un=262144),ql=c}else ql=536870912;return c=Kn.current,c!==null&&(c.flags|=32),ql}function Nl(c,d,p){(c===Mn&&(gn===2||gn===9)||c.cancelPendingCommit!==null)&&(nm(c,0),id(c,Rr,ql,!1)),Xt(c,p),((un&2)===0||c!==Mn)&&(c===Mn&&((un&2)===0&&(v0|=p),Da===4&&id(c,Rr,ql,!1)),ru(c))}function Y6(c,d,p){if((un&6)!==0)throw Error(n(327));var y=!p&&(d&127)===0&&(d&c.expiredLanes)===0||Rs(c,d),S=y?LU(c,d):Ub(c,d,!0),C=y;do{if(S===0){em&&!y&&id(c,d,0,!1);break}else{if(p=c.current.alternate,C&&!FU(p)){S=Ub(c,d,!1),C=!1;continue}if(S===2){if(C=d,c.errorRecoveryDisabledLanes&C)var G=0;else G=c.pendingLanes&-536870913,G=G!==0?G:G&536870912?536870912:0;if(G!==0){d=G;e:{var oe=c;S=Vp;var Ae=oe.current.memoizedState.isDehydrated;if(Ae&&(nm(oe,G).flags|=256),G=Ub(oe,G,!1),G!==2){if(Fb&&!Ae){oe.errorRecoveryDisabledLanes|=C,v0|=C,S=4;break e}C=wl,wl=S,C!==null&&(wl===null?wl=C:wl.push.apply(wl,C))}S=G}if(C=!1,S!==2)continue}}if(S===1){nm(c,0),id(c,d,0,!0);break}e:{switch(y=c,C=S,C){case 0:case 1:throw Error(n(345));case 4:if((d&4194048)!==d)break;case 6:id(y,d,ql,!td);break e;case 2:wl=null;break;case 3:case 5:break;default:throw Error(n(329))}if((d&62914560)===d&&(S=b1+300-Et(),10<S)){if(id(y,d,ql,!td),Fr(y,0,!0)!==0)break e;Vu=d,y.timeoutHandle=AA(X6.bind(null,y,p,wl,N1,Lb,d,ql,v0,tm,td,C,"Throttled",-0,0),S);break e}X6(y,p,wl,N1,Lb,d,ql,v0,tm,td,C,null,-0,0)}}break}while(!0);ru(c)}function X6(c,d,p,y,S,C,G,oe,Ae,$e,tt,st,Ve,Ge){if(c.timeoutHandle=-1,st=d.subtreeFlags,st&8192||(st&16785408)===16785408){st={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:Ll},q6(d,C,st);var Ut=(C&62914560)===C?b1-Et():(C&4194048)===C?W6-Et():0;if(Ut=gz(st,Ut),Ut!==null){Vu=C,c.cancelPendingCommit=Ut(aA.bind(null,c,d,C,p,y,S,G,oe,Ae,tt,st,null,Ve,Ge)),id(c,C,G,!$e);return}}aA(c,d,C,p,y,S,G,oe,Ae)}function FU(c){for(var d=c;;){var p=d.tag;if((p===0||p===11||p===15)&&d.flags&16384&&(p=d.updateQueue,p!==null&&(p=p.stores,p!==null)))for(var y=0;y<p.length;y++){var S=p[y],C=S.getSnapshot;S=S.value;try{if(!di(C(),S))return!1}catch{return!1}}if(p=d.child,d.subtreeFlags&16384&&p!==null)p.return=d,d=p;else{if(d===c)break;for(;d.sibling===null;){if(d.return===null||d.return===c)return!0;d=d.return}d.sibling.return=d.return,d=d.sibling}}return!0}function id(c,d,p,y){d&=~Pb,d&=~v0,c.suspendedLanes|=d,c.pingedLanes&=~d,y&&(c.warmLanes|=d),y=c.expirationTimes;for(var S=d;0<S;){var C=31-br(S),G=1<<C;y[C]=-1,S&=~G}p!==0&&il(c,p,d)}function _1(){return(un&6)===0?(Gp(0),!1):!0}function Bb(){if(Lr!==null){if(gn===0)var c=Lr.return;else c=Lr,bo=Gc=null,Vh(c),ot=null,qt=0,c=Lr;for(;c!==null;)E6(c.alternate,c),c=c.return;Lr=null}}function nm(c,d){var p=c.timeoutHandle;p!==-1&&(c.timeoutHandle=-1,JU(p)),p=c.cancelPendingCommit,p!==null&&(c.cancelPendingCommit=null,p()),Vu=0,Bb(),Mn=c,Lr=p=ul(c.current,null),Rr=d,gn=0,zl=null,td=!1,em=Rs(c,d),Fb=!1,tm=ql=Pb=v0=rd=Da=0,wl=Vp=null,Lb=!1,(d&8)!==0&&(d|=d&32);var y=c.entangledLanes;if(y!==0)for(c=c.entanglements,y&=d;0<y;){var S=31-br(y),C=1<<S;d|=c[S],y&=~C}return Hu=d,s0(),p}function Q6(c,d){Jt=null,ne.H=Rp,d===Ce||d===be?(d=nt(),gn=3):d===Ue?(d=nt(),gn=4):gn=d===gb?8:d!==null&&typeof d=="object"&&typeof d.then=="function"?6:1,zl=d,Lr===null&&(Da=1,d1(c,fl(d,c.current)))}function Z6(){var c=Kn.current;return c===null?!0:(Rr&4194048)===Rr?Hr===null:(Rr&62914560)===Rr||(Rr&536870912)!==0?c===Hr:!1}function J6(){var c=ne.H;return ne.H=Rp,c===null?Rp:c}function eA(){var c=ne.A;return ne.A=OU,c}function j1(){Da=4,td||(Rr&4194048)!==Rr&&Kn.current!==null||(em=!0),(rd&134217727)===0&&(v0&134217727)===0||Mn===null||id(Mn,Rr,ql,!1)}function Ub(c,d,p){var y=un;un|=2;var S=J6(),C=eA();(Mn!==c||Rr!==d)&&(N1=null,nm(c,d)),d=!1;var G=Da;e:do try{if(gn!==0&&Lr!==null){var oe=Lr,Ae=zl;switch(gn){case 8:Bb(),G=6;break e;case 3:case 2:case 9:case 6:Kn.current===null&&(d=!0);var $e=gn;if(gn=0,zl=null,am(c,oe,Ae,$e),p&&em){G=0;break e}break;default:$e=gn,gn=0,zl=null,am(c,oe,Ae,$e)}}PU(),G=Da;break}catch(tt){Q6(c,tt)}while(!0);return d&&c.shellSuspendCounter++,bo=Gc=null,un=y,ne.H=S,ne.A=C,Lr===null&&(Mn=null,Rr=0,s0()),G}function PU(){for(;Lr!==null;)tA(Lr)}function LU(c,d){var p=un;un|=2;var y=J6(),S=eA();Mn!==c||Rr!==d?(N1=null,w1=Et()+500,nm(c,d)):em=Rs(c,d);e:do try{if(gn!==0&&Lr!==null){d=Lr;var C=zl;t:switch(gn){case 1:gn=0,zl=null,am(c,d,C,1);break;case 2:case 9:if(Le(C)){gn=0,zl=null,rA(d);break}d=function(){gn!==2&&gn!==9||Mn!==c||(gn=7),ru(c)},C.then(d,d);break e;case 3:gn=7;break e;case 4:gn=5;break e;case 7:Le(C)?(gn=0,zl=null,rA(d)):(gn=0,zl=null,am(c,d,C,7));break;case 5:var G=null;switch(Lr.tag){case 26:G=Lr.memoizedState;case 5:case 27:var oe=Lr;if(G?zA(G):oe.stateNode.complete){gn=0,zl=null;var Ae=oe.sibling;if(Ae!==null)Lr=Ae;else{var $e=oe.return;$e!==null?(Lr=$e,S1($e)):Lr=null}break t}}gn=0,zl=null,am(c,d,C,5);break;case 6:gn=0,zl=null,am(c,d,C,6);break;case 8:Bb(),Da=6;break e;default:throw Error(n(462))}}MU();break}catch(tt){Q6(c,tt)}while(!0);return bo=Gc=null,ne.H=y,ne.A=S,un=p,Lr!==null?0:(Mn=null,Rr=0,s0(),Da)}function MU(){for(;Lr!==null&&!Ke();)tA(Lr)}function tA(c){var d=S6(c.alternate,c,Hu);c.memoizedProps=c.pendingProps,d===null?S1(c):Lr=d}function rA(c){var d=c,p=d.alternate;switch(d.tag){case 15:case 0:d=y6(p,d,d.pendingProps,d.type,void 0,Rr);break;case 11:d=y6(p,d,d.pendingProps,d.type.render,d.ref,Rr);break;case 5:Vh(d);default:E6(p,d),d=Lr=c0(d,Hu),d=S6(p,d,Hu)}c.memoizedProps=c.pendingProps,d===null?S1(c):Lr=d}function am(c,d,p,y){bo=Gc=null,Vh(d),ot=null,qt=0;var S=d.return;try{if(jU(c,S,d,p,Rr)){Da=1,d1(c,fl(p,c.current)),Lr=null;return}}catch(C){if(S!==null)throw Lr=S,C;Da=1,d1(c,fl(p,c.current)),Lr=null;return}d.flags&32768?(Pr||y===1?c=!0:em||(Rr&536870912)!==0?c=!1:(td=c=!0,(y===2||y===9||y===3||y===6)&&(y=Kn.current,y!==null&&y.tag===13&&(y.flags|=16384))),nA(d,c)):S1(d)}function S1(c){var d=c;do{if((d.flags&32768)!==0){nA(d,td);return}c=d.return;var p=EU(d.alternate,d,Hu);if(p!==null){Lr=p;return}if(d=d.sibling,d!==null){Lr=d;return}Lr=d=c}while(d!==null);Da===0&&(Da=5)}function nA(c,d){do{var p=kU(c.alternate,c);if(p!==null){p.flags&=32767,Lr=p;return}if(p=c.return,p!==null&&(p.flags|=32768,p.subtreeFlags=0,p.deletions=null),!d&&(c=c.sibling,c!==null)){Lr=c;return}Lr=c=p}while(c!==null);Da=6,Lr=null}function aA(c,d,p,y,S,C,G,oe,Ae){c.cancelPendingCommit=null;do A1();while(vi!==0);if((un&6)!==0)throw Error(n(327));if(d!==null){if(d===c.current)throw Error(n(177));if(C=d.lanes|d.childLanes,C|=Oh,Ol(c,p,C,G,oe,Ae),c===Mn&&(Lr=Mn=null,Rr=0),rm=d,ad=c,Vu=p,Mb=C,Rb=S,G6=y,(d.subtreeFlags&10256)!==0||(d.flags&10256)!==0?(c.callbackNode=null,c.callbackPriority=0,UU(Lt,function(){return cA(),null})):(c.callbackNode=null,c.callbackPriority=0),y=(d.flags&13878)!==0,(d.subtreeFlags&13878)!==0||y){y=ne.T,ne.T=null,S=se.p,se.p=2,G=un,un|=4;try{CU(c,d,p)}finally{un=G,se.p=S,ne.T=y}}vi=1,iA(),sA(),lA()}}function iA(){if(vi===1){vi=0;var c=ad,d=rm,p=(d.flags&13878)!==0;if((d.subtreeFlags&13878)!==0||p){p=ne.T,ne.T=null;var y=se.p;se.p=2;var S=un;un|=4;try{B6(d,c);var C=Zb,G=lc(c.containerInfo),oe=C.focusedElem,Ae=C.selectionRange;if(G!==oe&&oe&&oe.ownerDocument&&sc(oe.ownerDocument.documentElement,oe)){if(Ae!==null&&vo(oe)){var $e=Ae.start,tt=Ae.end;if(tt===void 0&&(tt=$e),"selectionStart"in oe)oe.selectionStart=$e,oe.selectionEnd=Math.min(tt,oe.value.length);else{var st=oe.ownerDocument||document,Ve=st&&st.defaultView||window;if(Ve.getSelection){var Ge=Ve.getSelection(),Ut=oe.textContent.length,lr=Math.min(Ae.start,Ut),Tn=Ae.end===void 0?lr:Math.min(Ae.end,Ut);!Ge.extend&&lr>Tn&&(G=Tn,Tn=lr,lr=G);var Pe=$f(oe,lr),Oe=$f(oe,Tn);if(Pe&&Oe&&(Ge.rangeCount!==1||Ge.anchorNode!==Pe.node||Ge.anchorOffset!==Pe.offset||Ge.focusNode!==Oe.node||Ge.focusOffset!==Oe.offset)){var qe=st.createRange();qe.setStart(Pe.node,Pe.offset),Ge.removeAllRanges(),lr>Tn?(Ge.addRange(qe),Ge.extend(Oe.node,Oe.offset)):(qe.setEnd(Oe.node,Oe.offset),Ge.addRange(qe))}}}}for(st=[],Ge=oe;Ge=Ge.parentNode;)Ge.nodeType===1&&st.push({element:Ge,left:Ge.scrollLeft,top:Ge.scrollTop});for(typeof oe.focus=="function"&&oe.focus(),oe=0;oe<st.length;oe++){var it=st[oe];it.element.scrollLeft=it.left,it.element.scrollTop=it.top}}I1=!!Qb,Zb=Qb=null}finally{un=S,se.p=y,ne.T=p}}c.current=d,vi=2}}function sA(){if(vi===2){vi=0;var c=ad,d=rm,p=(d.flags&8772)!==0;if((d.subtreeFlags&8772)!==0||p){p=ne.T,ne.T=null;var y=se.p;se.p=2;var S=un;un|=4;try{P6(c,d.alternate,d)}finally{un=S,se.p=y,ne.T=p}}vi=3}}function lA(){if(vi===4||vi===3){vi=0,pt();var c=ad,d=rm,p=Vu,y=G6;(d.subtreeFlags&10256)!==0||(d.flags&10256)!==0?vi=5:(vi=0,rm=ad=null,oA(c,c.pendingLanes));var S=c.pendingLanes;if(S===0&&(nd=null),ra(p),d=d.stateNode,At&&typeof At.onCommitFiberRoot=="function")try{At.onCommitFiberRoot(Zt,d,void 0,(d.current.flags&128)===128)}catch{}if(y!==null){d=ne.T,S=se.p,se.p=2,ne.T=null;try{for(var C=c.onRecoverableError,G=0;G<y.length;G++){var oe=y[G];C(oe.value,{componentStack:oe.stack})}}finally{ne.T=d,se.p=S}}(Vu&3)!==0&&A1(),ru(c),S=c.pendingLanes,(p&261930)!==0&&(S&42)!==0?c===Ib?Wp++:(Wp=0,Ib=c):Wp=0,Gp(0)}}function oA(c,d){(c.pooledCacheLanes&=d)===0&&(d=c.pooledCache,d!=null&&(c.pooledCache=null,d0(d)))}function A1(){return iA(),sA(),lA(),cA()}function cA(){if(vi!==5)return!1;var c=ad,d=Mb;Mb=0;var p=ra(Vu),y=ne.T,S=se.p;try{se.p=32>p?32:p,ne.T=null,p=Rb,Rb=null;var C=ad,G=Vu;if(vi=0,rm=ad=null,Vu=0,(un&6)!==0)throw Error(n(331));var oe=un;if(un|=4,H6(C.current),z6(C,C.current,G,p),un=oe,Gp(0,!1),At&&typeof At.onPostCommitFiberRoot=="function")try{At.onPostCommitFiberRoot(Zt,C)}catch{}return!0}finally{se.p=S,ne.T=y,oA(c,d)}}function uA(c,d,p){d=fl(p,d),d=xb(c.stateNode,d,2),c=wr(c,d,2),c!==null&&(Xt(c,2),ru(c))}function vn(c,d,p){if(c.tag===3)uA(c,c,p);else for(;d!==null;){if(d.tag===3){uA(d,c,p);break}else if(d.tag===1){var y=d.stateNode;if(typeof d.type.getDerivedStateFromError=="function"||typeof y.componentDidCatch=="function"&&(nd===null||!nd.has(y))){c=fl(p,c),p=f6(2),y=wr(d,p,2),y!==null&&(d6(p,y,d,c),Xt(y,2),ru(y));break}}d=d.return}}function zb(c,d,p){var y=c.pingCache;if(y===null){y=c.pingCache=new DU;var S=new Set;y.set(d,S)}else S=y.get(d),S===void 0&&(S=new Set,y.set(d,S));S.has(p)||(Fb=!0,S.add(p),c=RU.bind(null,c,d,p),d.then(c,c))}function RU(c,d,p){var y=c.pingCache;y!==null&&y.delete(d),c.pingedLanes|=c.suspendedLanes&p,c.warmLanes&=~p,Mn===c&&(Rr&p)===p&&(Da===4||Da===3&&(Rr&62914560)===Rr&&300>Et()-b1?(un&2)===0&&nm(c,0):Pb|=p,tm===Rr&&(tm=0)),ru(c)}function fA(c,d){d===0&&(d=al()),c=cc(c,d),c!==null&&(Xt(c,d),ru(c))}function IU(c){var d=c.memoizedState,p=0;d!==null&&(p=d.retryLane),fA(c,p)}function BU(c,d){var p=0;switch(c.tag){case 31:case 13:var y=c.stateNode,S=c.memoizedState;S!==null&&(p=S.retryLane);break;case 19:y=c.stateNode;break;case 22:y=c.stateNode._retryCache;break;default:throw Error(n(314))}y!==null&&y.delete(d),fA(c,p)}function UU(c,d){return Ct(c,d)}var E1=null,im=null,qb=!1,k1=!1,$b=!1,sd=0;function ru(c){c!==im&&c.next===null&&(im===null?E1=im=c:im=im.next=c),k1=!0,qb||(qb=!0,qU())}function Gp(c,d){if(!$b&&k1){$b=!0;do for(var p=!1,y=E1;y!==null;){if(c!==0){var S=y.pendingLanes;if(S===0)var C=0;else{var G=y.suspendedLanes,oe=y.pingedLanes;C=(1<<31-br(42|c)+1)-1,C&=S&~(G&~oe),C=C&201326741?C&201326741|1:C?C|2:0}C!==0&&(p=!0,pA(y,C))}else C=Rr,C=Fr(y,y===Mn?C:0,y.cancelPendingCommit!==null||y.timeoutHandle!==-1),(C&3)===0||Rs(y,C)||(p=!0,pA(y,C));y=y.next}while(p);$b=!1}}function zU(){dA()}function dA(){k1=qb=!1;var c=0;sd!==0&&ZU()&&(c=sd);for(var d=Et(),p=null,y=E1;y!==null;){var S=y.next,C=hA(y,d);C===0?(y.next=null,p===null?E1=S:p.next=S,S===null&&(im=p)):(p=y,(c!==0||(C&3)!==0)&&(k1=!0)),y=S}vi!==0&&vi!==5||Gp(c),sd!==0&&(sd=0)}function hA(c,d){for(var p=c.suspendedLanes,y=c.pingedLanes,S=c.expirationTimes,C=c.pendingLanes&-62914561;0<C;){var G=31-br(C),oe=1<<G,Ae=S[G];Ae===-1?((oe&p)===0||(oe&y)!==0)&&(S[G]=Qa(oe,d)):Ae<=d&&(c.expiredLanes|=oe),C&=~oe}if(d=Mn,p=Rr,p=Fr(c,c===d?p:0,c.cancelPendingCommit!==null||c.timeoutHandle!==-1),y=c.callbackNode,p===0||c===d&&(gn===2||gn===9)||c.cancelPendingCommit!==null)return y!==null&&y!==null&&xt(y),c.callbackNode=null,c.callbackPriority=0;if((p&3)===0||Rs(c,p)){if(d=p&-p,d===c.callbackPriority)return d;switch(y!==null&&xt(y),ra(p)){case 2:case 8:p=Ar;break;case 32:p=Lt;break;case 268435456:p=yt;break;default:p=Lt}return y=mA.bind(null,c),p=Ct(p,y),c.callbackPriority=d,c.callbackNode=p,d}return y!==null&&y!==null&&xt(y),c.callbackPriority=2,c.callbackNode=null,2}function mA(c,d){if(vi!==0&&vi!==5)return c.callbackNode=null,c.callbackPriority=0,null;var p=c.callbackNode;if(A1()&&c.callbackNode!==p)return null;var y=Rr;return y=Fr(c,c===Mn?y:0,c.cancelPendingCommit!==null||c.timeoutHandle!==-1),y===0?null:(Y6(c,y,d),hA(c,Et()),c.callbackNode!=null&&c.callbackNode===p?mA.bind(null,c):null)}function pA(c,d){if(A1())return null;Y6(c,d,!0)}function qU(){ez(function(){(un&6)!==0?Ct(Gt,zU):dA()})}function Hb(){if(sd===0){var c=_;c===0&&(c=pn,pn<<=1,(pn&261888)===0&&(pn=256)),sd=c}return sd}function xA(c){return c==null||typeof c=="symbol"||typeof c=="boolean"?null:typeof c=="function"?c:Pl(""+c)}function gA(c,d){var p=d.ownerDocument.createElement("input");return p.name=d.name,p.value=d.value,c.id&&p.setAttribute("form",c.id),d.parentNode.insertBefore(p,d),c=new FormData(c),p.parentNode.removeChild(p),c}function $U(c,d,p,y,S){if(d==="submit"&&p&&p.stateNode===S){var C=xA((S[ve]||null).action),G=y.submitter;G&&(d=(d=G[ve]||null)?xA(d.formAction):G.getAttribute("formAction"),d!==null&&(C=d,G=null));var oe=new co("action","action",null,y,S);c.push({event:oe,listeners:[{instance:null,listener:function(){if(y.defaultPrevented){if(sd!==0){var Ae=G?gA(S,G):new FormData(S);ub(p,{pending:!0,data:Ae,method:S.method,action:C},null,Ae)}}else typeof C=="function"&&(oe.preventDefault(),Ae=G?gA(S,G):new FormData(S),ub(p,{pending:!0,data:Ae,method:S.method,action:C},C,Ae))},currentTarget:S}]})}}for(var Vb=0;Vb<Tu.length;Vb++){var Wb=Tu[Vb],HU=Wb.toLowerCase(),VU=Wb[0].toUpperCase()+Wb.slice(1);cl(HU,"on"+VU)}cl(Cu,"onAnimationEnd"),cl(a0,"onAnimationIteration"),cl(Np,"onAnimationStart"),cl("dblclick","onDoubleClick"),cl("focusin","onFocus"),cl("focusout","onBlur"),cl(Jg,"onTransitionRun"),cl(e1,"onTransitionStart"),cl(t1,"onTransitionCancel"),cl(_p,"onTransitionEnd"),Wi("onMouseEnter",["mouseout","mouseover"]),Wi("onMouseLeave",["mouseout","mouseover"]),Wi("onPointerEnter",["pointerout","pointerover"]),Wi("onPointerLeave",["pointerout","pointerover"]),fn("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),fn("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),fn("onBeforeInput",["compositionend","keypress","textInput","paste"]),fn("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),fn("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),fn("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Kp="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),WU=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(Kp));function vA(c,d){d=(d&4)!==0;for(var p=0;p<c.length;p++){var y=c[p],S=y.event;y=y.listeners;e:{var C=void 0;if(d)for(var G=y.length-1;0<=G;G--){var oe=y[G],Ae=oe.instance,$e=oe.currentTarget;if(oe=oe.listener,Ae!==C&&S.isPropagationStopped())break e;C=oe,S.currentTarget=$e;try{C(S)}catch(tt){i0(tt)}S.currentTarget=null,C=Ae}else for(G=0;G<y.length;G++){if(oe=y[G],Ae=oe.instance,$e=oe.currentTarget,oe=oe.listener,Ae!==C&&S.isPropagationStopped())break e;C=oe,S.currentTarget=$e;try{C(S)}catch(tt){i0(tt)}S.currentTarget=null,C=Ae}}}}function Mr(c,d){var p=d[Me];p===void 0&&(p=d[Me]=new Set);var y=c+"__bubble";p.has(y)||(yA(d,c,2,!1),p.add(y))}function Gb(c,d,p){var y=0;d&&(y|=4),yA(p,c,y,d)}var C1="_reactListening"+Math.random().toString(36).slice(2);function Kb(c){if(!c[C1]){c[C1]=!0,ln.forEach(function(p){p!=="selectionchange"&&(WU.has(p)||Gb(p,!1,c),Gb(p,!0,c))});var d=c.nodeType===9?c:c.ownerDocument;d===null||d[C1]||(d[C1]=!0,Gb("selectionchange",!1,d))}}function yA(c,d,p,y){switch(KA(d)){case 2:var S=bz;break;case 8:S=wz;break;default:S=cw}p=S.bind(null,d,p,c),S=void 0,!t0||d!=="touchstart"&&d!=="touchmove"&&d!=="wheel"||(S=!0),y?S!==void 0?c.addEventListener(d,p,{capture:!0,passive:S}):c.addEventListener(d,p,!0):S!==void 0?c.addEventListener(d,p,{passive:S}):c.addEventListener(d,p,!1)}function Yb(c,d,p,y,S){var C=y;if((d&1)===0&&(d&2)===0&&y!==null)e:for(;;){if(y===null)return;var G=y.tag;if(G===3||G===4){var oe=y.stateNode.containerInfo;if(oe===S)break;if(G===4)for(G=y.return;G!==null;){var Ae=G.tag;if((Ae===3||Ae===4)&&G.stateNode.containerInfo===S)return;G=G.return}for(;oe!==null;){if(G=gt(oe),G===null)return;if(Ae=G.tag,Ae===5||Ae===6||Ae===26||Ae===27){y=C=G;continue e}oe=oe.parentNode}}y=y.return}Sh(function(){var $e=C,tt=bu(p),st=[];e:{var Ve=jp.get(c);if(Ve!==void 0){var Ge=co,Ut=c;switch(c){case"keypress":if(Qo(p)===0)break e;case"keydown":case"keyup":Ge=Kr;break;case"focusin":Ut="focus",Ge=tc;break;case"focusout":Ut="blur",Ge=tc;break;case"beforeblur":case"afterblur":Ge=tc;break;case"click":if(p.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":Ge=uo;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":Ge=Ah;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":Ge=Ua;break;case Cu:case a0:case Np:Ge=I;break;case _p:Ge=ui;break;case"scroll":case"scrollend":Ge=Mf;break;case"wheel":Ge=fs;break;case"copy":case"cut":case"paste":Ge=_e;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":Ge=va;break;case"toggle":case"beforetoggle":Ge=Rf}var lr=(d&4)!==0,Tn=!lr&&(c==="scroll"||c==="scrollend"),Pe=lr?Ve!==null?Ve+"Capture":null:Ve;lr=[];for(var Oe=$e,qe;Oe!==null;){var it=Oe;if(qe=it.stateNode,it=it.tag,it!==5&&it!==26&&it!==27||qe===null||Pe===null||(it=Us(Oe,Pe),it!=null&&lr.push(Yp(Oe,it,qe))),Tn)break;Oe=Oe.return}0<lr.length&&(Ve=new Ge(Ve,Ut,null,p,tt),st.push({event:Ve,listeners:lr}))}}if((d&7)===0){e:{if(Ve=c==="mouseover"||c==="pointerover",Ge=c==="mouseout"||c==="pointerout",Ve&&p!==Xo&&(Ut=p.relatedTarget||p.fromElement)&&(gt(Ut)||Ut[je]))break e;if((Ge||Ve)&&(Ve=tt.window===tt?tt:(Ve=tt.ownerDocument)?Ve.defaultView||Ve.parentWindow:window,Ge?(Ut=p.relatedTarget||p.toElement,Ge=$e,Ut=Ut?gt(Ut):null,Ut!==null&&(Tn=i(Ut),lr=Ut.tag,Ut!==Tn||lr!==5&&lr!==27&&lr!==6)&&(Ut=null)):(Ge=null,Ut=$e),Ge!==Ut)){if(lr=uo,it="onMouseLeave",Pe="onMouseEnter",Oe="mouse",(c==="pointerout"||c==="pointerover")&&(lr=va,it="onPointerLeave",Pe="onPointerEnter",Oe="pointer"),Tn=Ge==null?Ve:mt(Ge),qe=Ut==null?Ve:mt(Ut),Ve=new lr(it,Oe+"leave",Ge,p,tt),Ve.target=Tn,Ve.relatedTarget=qe,it=null,gt(tt)===$e&&(lr=new lr(Pe,Oe+"enter",Ut,p,tt),lr.target=qe,lr.relatedTarget=Tn,it=lr),Tn=it,Ge&&Ut)t:{for(lr=GU,Pe=Ge,Oe=Ut,qe=0,it=Pe;it;it=lr(it))qe++;it=0;for(var rr=Oe;rr;rr=lr(rr))it++;for(;0<qe-it;)Pe=lr(Pe),qe--;for(;0<it-qe;)Oe=lr(Oe),it--;for(;qe--;){if(Pe===Oe||Oe!==null&&Pe===Oe.alternate){lr=Pe;break t}Pe=lr(Pe),Oe=lr(Oe)}lr=null}else lr=null;Ge!==null&&bA(st,Ve,Ge,lr,!1),Ut!==null&&Tn!==null&&bA(st,Tn,Ut,lr,!0)}}e:{if(Ve=$e?mt($e):window,Ge=Ve.nodeName&&Ve.nodeName.toLowerCase(),Ge==="select"||Ge==="input"&&Ve.type==="file")var en=$c;else if(r0(Ve))if(ds)en=xo;else{en=ya;var Wt=zf}else Ge=Ve.nodeName,!Ge||Ge.toLowerCase()!=="input"||Ve.type!=="checkbox"&&Ve.type!=="radio"?$e&&Zd($e.elementType)&&(en=$c):en=Th;if(en&&(en=en(c,$e))){$s(st,en,p,tt);break e}Wt&&Wt(c,Ve,$e),c==="focusout"&&$e&&Ve.type==="number"&&$e.memoizedProps.value!=null&&Kd(Ve,"number",Ve.value)}switch(Wt=$e?mt($e):window,c){case"focusin":(r0(Wt)||Wt.contentEditable==="true")&&(Hs=Wt,oc=$e,Oi=null);break;case"focusout":Oi=oc=Hs=null;break;case"mousedown":ol=!0;break;case"contextmenu":case"mouseup":case"dragend":ol=!1,Yr(st,p,tt);break;case"selectionchange":if(ku)break;case"keydown":case"keyup":Yr(st,p,tt)}var jr;if(fo)e:{switch(c){case"compositionstart":var Ir="onCompositionStart";break e;case"compositionend":Ir="onCompositionEnd";break e;case"compositionupdate":Ir="onCompositionUpdate";break e}Ir=void 0}else ho?qc(c,p)&&(Ir="onCompositionEnd"):c==="keydown"&&p.keyCode===229&&(Ir="onCompositionStart");Ir&&(Uc&&p.locale!=="ko"&&(ho||Ir!=="onCompositionStart"?Ir==="onCompositionEnd"&&ho&&(jr=_u()):(zs=tt,Nu="value"in zs?zs.value:zs.textContent,ho=!0)),Wt=T1($e,Ir),0<Wt.length&&(Ir=new Fe(Ir,c,null,p,tt),st.push({event:Ir,listeners:Wt}),jr?Ir.data=jr:(jr=If(p),jr!==null&&(Ir.data=jr)))),(jr=Eu?na(c,p):rc(c,p))&&(Ir=T1($e,"onBeforeInput"),0<Ir.length&&(Wt=new Fe("onBeforeInput","beforeinput",null,p,tt),st.push({event:Wt,listeners:Ir}),Wt.data=jr)),$U(st,c,$e,p,tt)}vA(st,d)})}function Yp(c,d,p){return{instance:c,listener:d,currentTarget:p}}function T1(c,d){for(var p=d+"Capture",y=[];c!==null;){var S=c,C=S.stateNode;if(S=S.tag,S!==5&&S!==26&&S!==27||C===null||(S=Us(c,p),S!=null&&y.unshift(Yp(c,S,C)),S=Us(c,d),S!=null&&y.push(Yp(c,S,C))),c.tag===3)return y;c=c.return}return[]}function GU(c){if(c===null)return null;do c=c.return;while(c&&c.tag!==5&&c.tag!==27);return c||null}function bA(c,d,p,y,S){for(var C=d._reactName,G=[];p!==null&&p!==y;){var oe=p,Ae=oe.alternate,$e=oe.stateNode;if(oe=oe.tag,Ae!==null&&Ae===y)break;oe!==5&&oe!==26&&oe!==27||$e===null||(Ae=$e,S?($e=Us(p,C),$e!=null&&G.unshift(Yp(p,$e,Ae))):S||($e=Us(p,C),$e!=null&&G.push(Yp(p,$e,Ae)))),p=p.return}G.length!==0&&c.push({event:d,listeners:G})}var KU=/\r\n?/g,YU=/\u0000|\uFFFD/g;function wA(c){return(typeof c=="string"?c:""+c).replace(KU,`
`).replace(YU,"")}function NA(c,d){return d=wA(d),wA(c)===d}function Cn(c,d,p,y,S,C){switch(p){case"children":typeof y=="string"?d==="body"||d==="textarea"&&y===""||Bs(c,y):(typeof y=="number"||typeof y=="bigint")&&d!=="body"&&Bs(c,""+y);break;case"className":Ff(c,"class",y);break;case"tabIndex":Ff(c,"tabindex",y);break;case"dir":case"role":case"viewBox":case"width":case"height":Ff(c,p,y);break;case"style":_h(c,y,C);break;case"data":if(d!=="object"){Ff(c,"data",y);break}case"src":case"href":if(y===""&&(d!=="a"||p!=="href")){c.removeAttribute(p);break}if(y==null||typeof y=="function"||typeof y=="symbol"||typeof y=="boolean"){c.removeAttribute(p);break}y=Pl(""+y),c.setAttribute(p,y);break;case"action":case"formAction":if(typeof y=="function"){c.setAttribute(p,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof C=="function"&&(p==="formAction"?(d!=="input"&&Cn(c,d,"name",S.name,S,null),Cn(c,d,"formEncType",S.formEncType,S,null),Cn(c,d,"formMethod",S.formMethod,S,null),Cn(c,d,"formTarget",S.formTarget,S,null)):(Cn(c,d,"encType",S.encType,S,null),Cn(c,d,"method",S.method,S,null),Cn(c,d,"target",S.target,S,null)));if(y==null||typeof y=="symbol"||typeof y=="boolean"){c.removeAttribute(p);break}y=Pl(""+y),c.setAttribute(p,y);break;case"onClick":y!=null&&(c.onclick=Ll);break;case"onScroll":y!=null&&Mr("scroll",c);break;case"onScrollEnd":y!=null&&Mr("scrollend",c);break;case"dangerouslySetInnerHTML":if(y!=null){if(typeof y!="object"||!("__html"in y))throw Error(n(61));if(p=y.__html,p!=null){if(S.children!=null)throw Error(n(60));c.innerHTML=p}}break;case"multiple":c.multiple=y&&typeof y!="function"&&typeof y!="symbol";break;case"muted":c.muted=y&&typeof y!="function"&&typeof y!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(y==null||typeof y=="function"||typeof y=="boolean"||typeof y=="symbol"){c.removeAttribute("xlink:href");break}p=Pl(""+y),c.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",p);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":y!=null&&typeof y!="function"&&typeof y!="symbol"?c.setAttribute(p,""+y):c.removeAttribute(p);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":y&&typeof y!="function"&&typeof y!="symbol"?c.setAttribute(p,""):c.removeAttribute(p);break;case"capture":case"download":y===!0?c.setAttribute(p,""):y!==!1&&y!=null&&typeof y!="function"&&typeof y!="symbol"?c.setAttribute(p,y):c.removeAttribute(p);break;case"cols":case"rows":case"size":case"span":y!=null&&typeof y!="function"&&typeof y!="symbol"&&!isNaN(y)&&1<=y?c.setAttribute(p,y):c.removeAttribute(p);break;case"rowSpan":case"start":y==null||typeof y=="function"||typeof y=="symbol"||isNaN(y)?c.removeAttribute(p):c.setAttribute(p,y);break;case"popover":Mr("beforetoggle",c),Mr("toggle",c),Ba(c,"popover",y);break;case"xlinkActuate":dn(c,"http://www.w3.org/1999/xlink","xlink:actuate",y);break;case"xlinkArcrole":dn(c,"http://www.w3.org/1999/xlink","xlink:arcrole",y);break;case"xlinkRole":dn(c,"http://www.w3.org/1999/xlink","xlink:role",y);break;case"xlinkShow":dn(c,"http://www.w3.org/1999/xlink","xlink:show",y);break;case"xlinkTitle":dn(c,"http://www.w3.org/1999/xlink","xlink:title",y);break;case"xlinkType":dn(c,"http://www.w3.org/1999/xlink","xlink:type",y);break;case"xmlBase":dn(c,"http://www.w3.org/XML/1998/namespace","xml:base",y);break;case"xmlLang":dn(c,"http://www.w3.org/XML/1998/namespace","xml:lang",y);break;case"xmlSpace":dn(c,"http://www.w3.org/XML/1998/namespace","xml:space",y);break;case"is":Ba(c,"is",y);break;case"innerText":case"textContent":break;default:(!(2<p.length)||p[0]!=="o"&&p[0]!=="O"||p[1]!=="n"&&p[1]!=="N")&&(p=Jd.get(p)||p,Ba(c,p,y))}}function Xb(c,d,p,y,S,C){switch(p){case"style":_h(c,y,C);break;case"dangerouslySetInnerHTML":if(y!=null){if(typeof y!="object"||!("__html"in y))throw Error(n(61));if(p=y.__html,p!=null){if(S.children!=null)throw Error(n(60));c.innerHTML=p}}break;case"children":typeof y=="string"?Bs(c,y):(typeof y=="number"||typeof y=="bigint")&&Bs(c,""+y);break;case"onScroll":y!=null&&Mr("scroll",c);break;case"onScrollEnd":y!=null&&Mr("scrollend",c);break;case"onClick":y!=null&&(c.onclick=Ll);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!Cr.hasOwnProperty(p))e:{if(p[0]==="o"&&p[1]==="n"&&(S=p.endsWith("Capture"),d=p.slice(2,S?p.length-7:void 0),C=c[ve]||null,C=C!=null?C[p]:null,typeof C=="function"&&c.removeEventListener(d,C,S),typeof y=="function")){typeof C!="function"&&C!==null&&(p in c?c[p]=null:c.hasAttribute(p)&&c.removeAttribute(p)),c.addEventListener(d,y,S);break e}p in c?c[p]=y:y===!0?c.setAttribute(p,""):Ba(c,p,y)}}}function Ji(c,d,p){switch(d){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":Mr("error",c),Mr("load",c);var y=!1,S=!1,C;for(C in p)if(p.hasOwnProperty(C)){var G=p[C];if(G!=null)switch(C){case"src":y=!0;break;case"srcSet":S=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(n(137,d));default:Cn(c,d,C,G,p,null)}}S&&Cn(c,d,"srcSet",p.srcSet,p,null),y&&Cn(c,d,"src",p.src,p,null);return;case"input":Mr("invalid",c);var oe=C=G=S=null,Ae=null,$e=null;for(y in p)if(p.hasOwnProperty(y)){var tt=p[y];if(tt!=null)switch(y){case"name":S=tt;break;case"type":G=tt;break;case"checked":Ae=tt;break;case"defaultChecked":$e=tt;break;case"value":C=tt;break;case"defaultValue":oe=tt;break;case"children":case"dangerouslySetInnerHTML":if(tt!=null)throw Error(n(137,d));break;default:Cn(c,d,y,tt,p,null)}}wh(c,C,oe,Ae,$e,G,S,!1);return;case"select":Mr("invalid",c),y=G=C=null;for(S in p)if(p.hasOwnProperty(S)&&(oe=p[S],oe!=null))switch(S){case"value":C=oe;break;case"defaultValue":G=oe;break;case"multiple":y=oe;default:Cn(c,d,S,oe,p,null)}d=C,p=G,c.multiple=!!y,d!=null?Ki(c,!!y,d,!1):p!=null&&Ki(c,!!y,p,!0);return;case"textarea":Mr("invalid",c),C=S=y=null;for(G in p)if(p.hasOwnProperty(G)&&(oe=p[G],oe!=null))switch(G){case"value":y=oe;break;case"defaultValue":S=oe;break;case"children":C=oe;break;case"dangerouslySetInnerHTML":if(oe!=null)throw Error(n(91));break;default:Cn(c,d,G,oe,p,null)}Xd(c,y,S,C);return;case"option":for(Ae in p)if(p.hasOwnProperty(Ae)&&(y=p[Ae],y!=null))switch(Ae){case"selected":c.selected=y&&typeof y!="function"&&typeof y!="symbol";break;default:Cn(c,d,Ae,y,p,null)}return;case"dialog":Mr("beforetoggle",c),Mr("toggle",c),Mr("cancel",c),Mr("close",c);break;case"iframe":case"object":Mr("load",c);break;case"video":case"audio":for(y=0;y<Kp.length;y++)Mr(Kp[y],c);break;case"image":Mr("error",c),Mr("load",c);break;case"details":Mr("toggle",c);break;case"embed":case"source":case"link":Mr("error",c),Mr("load",c);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for($e in p)if(p.hasOwnProperty($e)&&(y=p[$e],y!=null))switch($e){case"children":case"dangerouslySetInnerHTML":throw Error(n(137,d));default:Cn(c,d,$e,y,p,null)}return;default:if(Zd(d)){for(tt in p)p.hasOwnProperty(tt)&&(y=p[tt],y!==void 0&&Xb(c,d,tt,y,p,void 0));return}}for(oe in p)p.hasOwnProperty(oe)&&(y=p[oe],y!=null&&Cn(c,d,oe,y,p,null))}function XU(c,d,p,y){switch(d){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var S=null,C=null,G=null,oe=null,Ae=null,$e=null,tt=null;for(Ge in p){var st=p[Ge];if(p.hasOwnProperty(Ge)&&st!=null)switch(Ge){case"checked":break;case"value":break;case"defaultValue":Ae=st;default:y.hasOwnProperty(Ge)||Cn(c,d,Ge,null,y,st)}}for(var Ve in y){var Ge=y[Ve];if(st=p[Ve],y.hasOwnProperty(Ve)&&(Ge!=null||st!=null))switch(Ve){case"type":C=Ge;break;case"name":S=Ge;break;case"checked":$e=Ge;break;case"defaultChecked":tt=Ge;break;case"value":G=Ge;break;case"defaultValue":oe=Ge;break;case"children":case"dangerouslySetInnerHTML":if(Ge!=null)throw Error(n(137,d));break;default:Ge!==st&&Cn(c,d,Ve,Ge,y,st)}}Gd(c,G,oe,Ae,$e,tt,C,S);return;case"select":Ge=G=oe=Ve=null;for(C in p)if(Ae=p[C],p.hasOwnProperty(C)&&Ae!=null)switch(C){case"value":break;case"multiple":Ge=Ae;default:y.hasOwnProperty(C)||Cn(c,d,C,null,y,Ae)}for(S in y)if(C=y[S],Ae=p[S],y.hasOwnProperty(S)&&(C!=null||Ae!=null))switch(S){case"value":Ve=C;break;case"defaultValue":oe=C;break;case"multiple":G=C;default:C!==Ae&&Cn(c,d,S,C,y,Ae)}d=oe,p=G,y=Ge,Ve!=null?Ki(c,!!p,Ve,!1):!!y!=!!p&&(d!=null?Ki(c,!!p,d,!0):Ki(c,!!p,p?[]:"",!1));return;case"textarea":Ge=Ve=null;for(oe in p)if(S=p[oe],p.hasOwnProperty(oe)&&S!=null&&!y.hasOwnProperty(oe))switch(oe){case"value":break;case"children":break;default:Cn(c,d,oe,null,y,S)}for(G in y)if(S=y[G],C=p[G],y.hasOwnProperty(G)&&(S!=null||C!=null))switch(G){case"value":Ve=S;break;case"defaultValue":Ge=S;break;case"children":break;case"dangerouslySetInnerHTML":if(S!=null)throw Error(n(91));break;default:S!==C&&Cn(c,d,G,S,y,C)}Yd(c,Ve,Ge);return;case"option":for(var Ut in p)if(Ve=p[Ut],p.hasOwnProperty(Ut)&&Ve!=null&&!y.hasOwnProperty(Ut))switch(Ut){case"selected":c.selected=!1;break;default:Cn(c,d,Ut,null,y,Ve)}for(Ae in y)if(Ve=y[Ae],Ge=p[Ae],y.hasOwnProperty(Ae)&&Ve!==Ge&&(Ve!=null||Ge!=null))switch(Ae){case"selected":c.selected=Ve&&typeof Ve!="function"&&typeof Ve!="symbol";break;default:Cn(c,d,Ae,Ve,y,Ge)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var lr in p)Ve=p[lr],p.hasOwnProperty(lr)&&Ve!=null&&!y.hasOwnProperty(lr)&&Cn(c,d,lr,null,y,Ve);for($e in y)if(Ve=y[$e],Ge=p[$e],y.hasOwnProperty($e)&&Ve!==Ge&&(Ve!=null||Ge!=null))switch($e){case"children":case"dangerouslySetInnerHTML":if(Ve!=null)throw Error(n(137,d));break;default:Cn(c,d,$e,Ve,y,Ge)}return;default:if(Zd(d)){for(var Tn in p)Ve=p[Tn],p.hasOwnProperty(Tn)&&Ve!==void 0&&!y.hasOwnProperty(Tn)&&Xb(c,d,Tn,void 0,y,Ve);for(tt in y)Ve=y[tt],Ge=p[tt],!y.hasOwnProperty(tt)||Ve===Ge||Ve===void 0&&Ge===void 0||Xb(c,d,tt,Ve,y,Ge);return}}for(var Pe in p)Ve=p[Pe],p.hasOwnProperty(Pe)&&Ve!=null&&!y.hasOwnProperty(Pe)&&Cn(c,d,Pe,null,y,Ve);for(st in y)Ve=y[st],Ge=p[st],!y.hasOwnProperty(st)||Ve===Ge||Ve==null&&Ge==null||Cn(c,d,st,Ve,y,Ge)}function _A(c){switch(c){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function QU(){if(typeof performance.getEntriesByType=="function"){for(var c=0,d=0,p=performance.getEntriesByType("resource"),y=0;y<p.length;y++){var S=p[y],C=S.transferSize,G=S.initiatorType,oe=S.duration;if(C&&oe&&_A(G)){for(G=0,oe=S.responseEnd,y+=1;y<p.length;y++){var Ae=p[y],$e=Ae.startTime;if($e>oe)break;var tt=Ae.transferSize,st=Ae.initiatorType;tt&&_A(st)&&(Ae=Ae.responseEnd,G+=tt*(Ae<oe?1:(oe-$e)/(Ae-$e)))}if(--y,d+=8*(C+G)/(S.duration/1e3),c++,10<c)break}}if(0<c)return d/c/1e6}return navigator.connection&&(c=navigator.connection.downlink,typeof c=="number")?c:5}var Qb=null,Zb=null;function O1(c){return c.nodeType===9?c:c.ownerDocument}function jA(c){switch(c){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function SA(c,d){if(c===0)switch(d){case"svg":return 1;case"math":return 2;default:return 0}return c===1&&d==="foreignObject"?0:c}function Jb(c,d){return c==="textarea"||c==="noscript"||typeof d.children=="string"||typeof d.children=="number"||typeof d.children=="bigint"||typeof d.dangerouslySetInnerHTML=="object"&&d.dangerouslySetInnerHTML!==null&&d.dangerouslySetInnerHTML.__html!=null}var ew=null;function ZU(){var c=window.event;return c&&c.type==="popstate"?c===ew?!1:(ew=c,!0):(ew=null,!1)}var AA=typeof setTimeout=="function"?setTimeout:void 0,JU=typeof clearTimeout=="function"?clearTimeout:void 0,EA=typeof Promise=="function"?Promise:void 0,ez=typeof queueMicrotask=="function"?queueMicrotask:typeof EA<"u"?function(c){return EA.resolve(null).then(c).catch(tz)}:AA;function tz(c){setTimeout(function(){throw c})}function ld(c){return c==="head"}function kA(c,d){var p=d,y=0;do{var S=p.nextSibling;if(c.removeChild(p),S&&S.nodeType===8)if(p=S.data,p==="/$"||p==="/&"){if(y===0){c.removeChild(S),cm(d);return}y--}else if(p==="$"||p==="$?"||p==="$~"||p==="$!"||p==="&")y++;else if(p==="html")Xp(c.ownerDocument.documentElement);else if(p==="head"){p=c.ownerDocument.head,Xp(p);for(var C=p.firstChild;C;){var G=C.nextSibling,oe=C.nodeName;C[ze]||oe==="SCRIPT"||oe==="STYLE"||oe==="LINK"&&C.rel.toLowerCase()==="stylesheet"||p.removeChild(C),C=G}}else p==="body"&&Xp(c.ownerDocument.body);p=S}while(p);cm(d)}function CA(c,d){var p=c;c=0;do{var y=p.nextSibling;if(p.nodeType===1?d?(p._stashedDisplay=p.style.display,p.style.display="none"):(p.style.display=p._stashedDisplay||"",p.getAttribute("style")===""&&p.removeAttribute("style")):p.nodeType===3&&(d?(p._stashedText=p.nodeValue,p.nodeValue=""):p.nodeValue=p._stashedText||""),y&&y.nodeType===8)if(p=y.data,p==="/$"){if(c===0)break;c--}else p!=="$"&&p!=="$?"&&p!=="$~"&&p!=="$!"||c++;p=y}while(p)}function tw(c){var d=c.firstChild;for(d&&d.nodeType===10&&(d=d.nextSibling);d;){var p=d;switch(d=d.nextSibling,p.nodeName){case"HTML":case"HEAD":case"BODY":tw(p),ft(p);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(p.rel.toLowerCase()==="stylesheet")continue}c.removeChild(p)}}function rz(c,d,p,y){for(;c.nodeType===1;){var S=p;if(c.nodeName.toLowerCase()!==d.toLowerCase()){if(!y&&(c.nodeName!=="INPUT"||c.type!=="hidden"))break}else if(y){if(!c[ze])switch(d){case"meta":if(!c.hasAttribute("itemprop"))break;return c;case"link":if(C=c.getAttribute("rel"),C==="stylesheet"&&c.hasAttribute("data-precedence"))break;if(C!==S.rel||c.getAttribute("href")!==(S.href==null||S.href===""?null:S.href)||c.getAttribute("crossorigin")!==(S.crossOrigin==null?null:S.crossOrigin)||c.getAttribute("title")!==(S.title==null?null:S.title))break;return c;case"style":if(c.hasAttribute("data-precedence"))break;return c;case"script":if(C=c.getAttribute("src"),(C!==(S.src==null?null:S.src)||c.getAttribute("type")!==(S.type==null?null:S.type)||c.getAttribute("crossorigin")!==(S.crossOrigin==null?null:S.crossOrigin))&&C&&c.hasAttribute("async")&&!c.hasAttribute("itemprop"))break;return c;default:return c}}else if(d==="input"&&c.type==="hidden"){var C=S.name==null?null:""+S.name;if(S.type==="hidden"&&c.getAttribute("name")===C)return c}else return c;if(c=_o(c.nextSibling),c===null)break}return null}function nz(c,d,p){if(d==="")return null;for(;c.nodeType!==3;)if((c.nodeType!==1||c.nodeName!=="INPUT"||c.type!=="hidden")&&!p||(c=_o(c.nextSibling),c===null))return null;return c}function TA(c,d){for(;c.nodeType!==8;)if((c.nodeType!==1||c.nodeName!=="INPUT"||c.type!=="hidden")&&!d||(c=_o(c.nextSibling),c===null))return null;return c}function rw(c){return c.data==="$?"||c.data==="$~"}function nw(c){return c.data==="$!"||c.data==="$?"&&c.ownerDocument.readyState!=="loading"}function az(c,d){var p=c.ownerDocument;if(c.data==="$~")c._reactRetry=d;else if(c.data!=="$?"||p.readyState!=="loading")d();else{var y=function(){d(),p.removeEventListener("DOMContentLoaded",y)};p.addEventListener("DOMContentLoaded",y),c._reactRetry=y}}function _o(c){for(;c!=null;c=c.nextSibling){var d=c.nodeType;if(d===1||d===3)break;if(d===8){if(d=c.data,d==="$"||d==="$!"||d==="$?"||d==="$~"||d==="&"||d==="F!"||d==="F")break;if(d==="/$"||d==="/&")return null}}return c}var aw=null;function OA(c){c=c.nextSibling;for(var d=0;c;){if(c.nodeType===8){var p=c.data;if(p==="/$"||p==="/&"){if(d===0)return _o(c.nextSibling);d--}else p!=="$"&&p!=="$!"&&p!=="$?"&&p!=="$~"&&p!=="&"||d++}c=c.nextSibling}return null}function DA(c){c=c.previousSibling;for(var d=0;c;){if(c.nodeType===8){var p=c.data;if(p==="$"||p==="$!"||p==="$?"||p==="$~"||p==="&"){if(d===0)return c;d--}else p!=="/$"&&p!=="/&"||d++}c=c.previousSibling}return null}function FA(c,d,p){switch(d=O1(p),c){case"html":if(c=d.documentElement,!c)throw Error(n(452));return c;case"head":if(c=d.head,!c)throw Error(n(453));return c;case"body":if(c=d.body,!c)throw Error(n(454));return c;default:throw Error(n(451))}}function Xp(c){for(var d=c.attributes;d.length;)c.removeAttributeNode(d[0]);ft(c)}var jo=new Map,PA=new Set;function D1(c){return typeof c.getRootNode=="function"?c.getRootNode():c.nodeType===9?c:c.ownerDocument}var Wu=se.d;se.d={f:iz,r:sz,D:lz,C:oz,L:cz,m:uz,X:dz,S:fz,M:hz};function iz(){var c=Wu.f(),d=_1();return c||d}function sz(c){var d=St(c);d!==null&&d.tag===5&&d.type==="form"?QS(d):Wu.r(c)}var sm=typeof document>"u"?null:document;function LA(c,d,p){var y=sm;if(y&&typeof d=="string"&&d){var S=Ti(d);S='link[rel="'+c+'"][href="'+S+'"]',typeof p=="string"&&(S+='[crossorigin="'+p+'"]'),PA.has(S)||(PA.add(S),c={rel:c,crossOrigin:p,href:d},y.querySelector(S)===null&&(d=y.createElement("link"),Ji(d,"link",c),Ft(d),y.head.appendChild(d)))}}function lz(c){Wu.D(c),LA("dns-prefetch",c,null)}function oz(c,d){Wu.C(c,d),LA("preconnect",c,d)}function cz(c,d,p){Wu.L(c,d,p);var y=sm;if(y&&c&&d){var S='link[rel="preload"][as="'+Ti(d)+'"]';d==="image"&&p&&p.imageSrcSet?(S+='[imagesrcset="'+Ti(p.imageSrcSet)+'"]',typeof p.imageSizes=="string"&&(S+='[imagesizes="'+Ti(p.imageSizes)+'"]')):S+='[href="'+Ti(c)+'"]';var C=S;switch(d){case"style":C=lm(c);break;case"script":C=om(c)}jo.has(C)||(c=m({rel:"preload",href:d==="image"&&p&&p.imageSrcSet?void 0:c,as:d},p),jo.set(C,c),y.querySelector(S)!==null||d==="style"&&y.querySelector(Qp(C))||d==="script"&&y.querySelector(Zp(C))||(d=y.createElement("link"),Ji(d,"link",c),Ft(d),y.head.appendChild(d)))}}function uz(c,d){Wu.m(c,d);var p=sm;if(p&&c){var y=d&&typeof d.as=="string"?d.as:"script",S='link[rel="modulepreload"][as="'+Ti(y)+'"][href="'+Ti(c)+'"]',C=S;switch(y){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":C=om(c)}if(!jo.has(C)&&(c=m({rel:"modulepreload",href:c},d),jo.set(C,c),p.querySelector(S)===null)){switch(y){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(p.querySelector(Zp(C)))return}y=p.createElement("link"),Ji(y,"link",c),Ft(y),p.head.appendChild(y)}}}function fz(c,d,p){Wu.S(c,d,p);var y=sm;if(y&&c){var S=Nt(y).hoistableStyles,C=lm(c);d=d||"default";var G=S.get(C);if(!G){var oe={loading:0,preload:null};if(G=y.querySelector(Qp(C)))oe.loading=5;else{c=m({rel:"stylesheet",href:c,"data-precedence":d},p),(p=jo.get(C))&&iw(c,p);var Ae=G=y.createElement("link");Ft(Ae),Ji(Ae,"link",c),Ae._p=new Promise(function($e,tt){Ae.onload=$e,Ae.onerror=tt}),Ae.addEventListener("load",function(){oe.loading|=1}),Ae.addEventListener("error",function(){oe.loading|=2}),oe.loading|=4,F1(G,d,y)}G={type:"stylesheet",instance:G,count:1,state:oe},S.set(C,G)}}}function dz(c,d){Wu.X(c,d);var p=sm;if(p&&c){var y=Nt(p).hoistableScripts,S=om(c),C=y.get(S);C||(C=p.querySelector(Zp(S)),C||(c=m({src:c,async:!0},d),(d=jo.get(S))&&sw(c,d),C=p.createElement("script"),Ft(C),Ji(C,"link",c),p.head.appendChild(C)),C={type:"script",instance:C,count:1,state:null},y.set(S,C))}}function hz(c,d){Wu.M(c,d);var p=sm;if(p&&c){var y=Nt(p).hoistableScripts,S=om(c),C=y.get(S);C||(C=p.querySelector(Zp(S)),C||(c=m({src:c,async:!0,type:"module"},d),(d=jo.get(S))&&sw(c,d),C=p.createElement("script"),Ft(C),Ji(C,"link",c),p.head.appendChild(C)),C={type:"script",instance:C,count:1,state:null},y.set(S,C))}}function MA(c,d,p,y){var S=(S=J.current)?D1(S):null;if(!S)throw Error(n(446));switch(c){case"meta":case"title":return null;case"style":return typeof p.precedence=="string"&&typeof p.href=="string"?(d=lm(p.href),p=Nt(S).hoistableStyles,y=p.get(d),y||(y={type:"style",instance:null,count:0,state:null},p.set(d,y)),y):{type:"void",instance:null,count:0,state:null};case"link":if(p.rel==="stylesheet"&&typeof p.href=="string"&&typeof p.precedence=="string"){c=lm(p.href);var C=Nt(S).hoistableStyles,G=C.get(c);if(G||(S=S.ownerDocument||S,G={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},C.set(c,G),(C=S.querySelector(Qp(c)))&&!C._p&&(G.instance=C,G.state.loading=5),jo.has(c)||(p={rel:"preload",as:"style",href:p.href,crossOrigin:p.crossOrigin,integrity:p.integrity,media:p.media,hrefLang:p.hrefLang,referrerPolicy:p.referrerPolicy},jo.set(c,p),C||mz(S,c,p,G.state))),d&&y===null)throw Error(n(528,""));return G}if(d&&y!==null)throw Error(n(529,""));return null;case"script":return d=p.async,p=p.src,typeof p=="string"&&d&&typeof d!="function"&&typeof d!="symbol"?(d=om(p),p=Nt(S).hoistableScripts,y=p.get(d),y||(y={type:"script",instance:null,count:0,state:null},p.set(d,y)),y):{type:"void",instance:null,count:0,state:null};default:throw Error(n(444,c))}}function lm(c){return'href="'+Ti(c)+'"'}function Qp(c){return'link[rel="stylesheet"]['+c+"]"}function RA(c){return m({},c,{"data-precedence":c.precedence,precedence:null})}function mz(c,d,p,y){c.querySelector('link[rel="preload"][as="style"]['+d+"]")?y.loading=1:(d=c.createElement("link"),y.preload=d,d.addEventListener("load",function(){return y.loading|=1}),d.addEventListener("error",function(){return y.loading|=2}),Ji(d,"link",p),Ft(d),c.head.appendChild(d))}function om(c){return'[src="'+Ti(c)+'"]'}function Zp(c){return"script[async]"+c}function IA(c,d,p){if(d.count++,d.instance===null)switch(d.type){case"style":var y=c.querySelector('style[data-href~="'+Ti(p.href)+'"]');if(y)return d.instance=y,Ft(y),y;var S=m({},p,{"data-href":p.href,"data-precedence":p.precedence,href:null,precedence:null});return y=(c.ownerDocument||c).createElement("style"),Ft(y),Ji(y,"style",S),F1(y,p.precedence,c),d.instance=y;case"stylesheet":S=lm(p.href);var C=c.querySelector(Qp(S));if(C)return d.state.loading|=4,d.instance=C,Ft(C),C;y=RA(p),(S=jo.get(S))&&iw(y,S),C=(c.ownerDocument||c).createElement("link"),Ft(C);var G=C;return G._p=new Promise(function(oe,Ae){G.onload=oe,G.onerror=Ae}),Ji(C,"link",y),d.state.loading|=4,F1(C,p.precedence,c),d.instance=C;case"script":return C=om(p.src),(S=c.querySelector(Zp(C)))?(d.instance=S,Ft(S),S):(y=p,(S=jo.get(C))&&(y=m({},p),sw(y,S)),c=c.ownerDocument||c,S=c.createElement("script"),Ft(S),Ji(S,"link",y),c.head.appendChild(S),d.instance=S);case"void":return null;default:throw Error(n(443,d.type))}else d.type==="stylesheet"&&(d.state.loading&4)===0&&(y=d.instance,d.state.loading|=4,F1(y,p.precedence,c));return d.instance}function F1(c,d,p){for(var y=p.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),S=y.length?y[y.length-1]:null,C=S,G=0;G<y.length;G++){var oe=y[G];if(oe.dataset.precedence===d)C=oe;else if(C!==S)break}C?C.parentNode.insertBefore(c,C.nextSibling):(d=p.nodeType===9?p.head:p,d.insertBefore(c,d.firstChild))}function iw(c,d){c.crossOrigin==null&&(c.crossOrigin=d.crossOrigin),c.referrerPolicy==null&&(c.referrerPolicy=d.referrerPolicy),c.title==null&&(c.title=d.title)}function sw(c,d){c.crossOrigin==null&&(c.crossOrigin=d.crossOrigin),c.referrerPolicy==null&&(c.referrerPolicy=d.referrerPolicy),c.integrity==null&&(c.integrity=d.integrity)}var P1=null;function BA(c,d,p){if(P1===null){var y=new Map,S=P1=new Map;S.set(p,y)}else S=P1,y=S.get(p),y||(y=new Map,S.set(p,y));if(y.has(c))return y;for(y.set(c,null),p=p.getElementsByTagName(c),S=0;S<p.length;S++){var C=p[S];if(!(C[ze]||C[he]||c==="link"&&C.getAttribute("rel")==="stylesheet")&&C.namespaceURI!=="http://www.w3.org/2000/svg"){var G=C.getAttribute(d)||"";G=c+G;var oe=y.get(G);oe?oe.push(C):y.set(G,[C])}}return y}function UA(c,d,p){c=c.ownerDocument||c,c.head.insertBefore(p,d==="title"?c.querySelector("head > title"):null)}function pz(c,d,p){if(p===1||d.itemProp!=null)return!1;switch(c){case"meta":case"title":return!0;case"style":if(typeof d.precedence!="string"||typeof d.href!="string"||d.href==="")break;return!0;case"link":if(typeof d.rel!="string"||typeof d.href!="string"||d.href===""||d.onLoad||d.onError)break;switch(d.rel){case"stylesheet":return c=d.disabled,typeof d.precedence=="string"&&c==null;default:return!0}case"script":if(d.async&&typeof d.async!="function"&&typeof d.async!="symbol"&&!d.onLoad&&!d.onError&&d.src&&typeof d.src=="string")return!0}return!1}function zA(c){return!(c.type==="stylesheet"&&(c.state.loading&3)===0)}function xz(c,d,p,y){if(p.type==="stylesheet"&&(typeof y.media!="string"||matchMedia(y.media).matches!==!1)&&(p.state.loading&4)===0){if(p.instance===null){var S=lm(y.href),C=d.querySelector(Qp(S));if(C){d=C._p,d!==null&&typeof d=="object"&&typeof d.then=="function"&&(c.count++,c=L1.bind(c),d.then(c,c)),p.state.loading|=4,p.instance=C,Ft(C);return}C=d.ownerDocument||d,y=RA(y),(S=jo.get(S))&&iw(y,S),C=C.createElement("link"),Ft(C);var G=C;G._p=new Promise(function(oe,Ae){G.onload=oe,G.onerror=Ae}),Ji(C,"link",y),p.instance=C}c.stylesheets===null&&(c.stylesheets=new Map),c.stylesheets.set(p,d),(d=p.state.preload)&&(p.state.loading&3)===0&&(c.count++,p=L1.bind(c),d.addEventListener("load",p),d.addEventListener("error",p))}}var lw=0;function gz(c,d){return c.stylesheets&&c.count===0&&R1(c,c.stylesheets),0<c.count||0<c.imgCount?function(p){var y=setTimeout(function(){if(c.stylesheets&&R1(c,c.stylesheets),c.unsuspend){var C=c.unsuspend;c.unsuspend=null,C()}},6e4+d);0<c.imgBytes&&lw===0&&(lw=62500*QU());var S=setTimeout(function(){if(c.waitingForImages=!1,c.count===0&&(c.stylesheets&&R1(c,c.stylesheets),c.unsuspend)){var C=c.unsuspend;c.unsuspend=null,C()}},(c.imgBytes>lw?50:800)+d);return c.unsuspend=p,function(){c.unsuspend=null,clearTimeout(y),clearTimeout(S)}}:null}function L1(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)R1(this,this.stylesheets);else if(this.unsuspend){var c=this.unsuspend;this.unsuspend=null,c()}}}var M1=null;function R1(c,d){c.stylesheets=null,c.unsuspend!==null&&(c.count++,M1=new Map,d.forEach(vz,c),M1=null,L1.call(c))}function vz(c,d){if(!(d.state.loading&4)){var p=M1.get(c);if(p)var y=p.get(null);else{p=new Map,M1.set(c,p);for(var S=c.querySelectorAll("link[data-precedence],style[data-precedence]"),C=0;C<S.length;C++){var G=S[C];(G.nodeName==="LINK"||G.getAttribute("media")!=="not all")&&(p.set(G.dataset.precedence,G),y=G)}y&&p.set(null,y)}S=d.instance,G=S.getAttribute("data-precedence"),C=p.get(G)||y,C===y&&p.set(null,S),p.set(G,S),this.count++,y=L1.bind(this),S.addEventListener("load",y),S.addEventListener("error",y),C?C.parentNode.insertBefore(S,C.nextSibling):(c=c.nodeType===9?c.head:c,c.insertBefore(S,c.firstChild)),d.state.loading|=4}}var Jp={$$typeof:j,Provider:null,Consumer:null,_currentValue:ye,_currentValue2:ye,_threadCount:0};function yz(c,d,p,y,S,C,G,oe,Ae){this.tag=1,this.containerInfo=c,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=us(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=us(0),this.hiddenUpdates=us(null),this.identifierPrefix=y,this.onUncaughtError=S,this.onCaughtError=C,this.onRecoverableError=G,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=Ae,this.incompleteTransitions=new Map}function qA(c,d,p,y,S,C,G,oe,Ae,$e,tt,st){return c=new yz(c,d,p,G,Ae,$e,tt,st,oe),d=1,C===!0&&(d|=24),C=Fi(3,null,null,d),c.current=C,C.stateNode=c,d=Yf(),d.refCount++,c.pooledCache=d,d.refCount++,C.memoizedState={element:y,isDehydrated:p,cache:d},jt(C),c}function $A(c){return c?(c=hi,c):hi}function HA(c,d,p,y,S,C){S=$A(S),y.context===null?y.context=S:y.pendingContext=S,y=sr(d),y.payload={element:p},C=C===void 0?null:C,C!==null&&(y.callback=C),p=wr(c,y,d),p!==null&&(Nl(p,c,d),on(p,c,d))}function VA(c,d){if(c=c.memoizedState,c!==null&&c.dehydrated!==null){var p=c.retryLane;c.retryLane=p!==0&&p<d?p:d}}function ow(c,d){VA(c,d),(c=c.alternate)&&VA(c,d)}function WA(c){if(c.tag===13||c.tag===31){var d=cc(c,67108864);d!==null&&Nl(d,c,67108864),ow(c,67108864)}}function GA(c){if(c.tag===13||c.tag===31){var d=$l();d=jn(d);var p=cc(c,d);p!==null&&Nl(p,c,d),ow(c,d)}}var I1=!0;function bz(c,d,p,y){var S=ne.T;ne.T=null;var C=se.p;try{se.p=2,cw(c,d,p,y)}finally{se.p=C,ne.T=S}}function wz(c,d,p,y){var S=ne.T;ne.T=null;var C=se.p;try{se.p=8,cw(c,d,p,y)}finally{se.p=C,ne.T=S}}function cw(c,d,p,y){if(I1){var S=uw(y);if(S===null)Yb(c,d,y,B1,p),YA(c,y);else if(_z(S,c,d,p,y))y.stopPropagation();else if(YA(c,y),d&4&&-1<Nz.indexOf(c)){for(;S!==null;){var C=St(S);if(C!==null)switch(C.tag){case 3:if(C=C.stateNode,C.current.memoizedState.isDehydrated){var G=Yt(C.pendingLanes);if(G!==0){var oe=C;for(oe.pendingLanes|=2,oe.entangledLanes|=2;G;){var Ae=1<<31-br(G);oe.entanglements[1]|=Ae,G&=~Ae}ru(C),(un&6)===0&&(w1=Et()+500,Gp(0))}}break;case 31:case 13:oe=cc(C,2),oe!==null&&Nl(oe,C,2),_1(),ow(C,2)}if(C=uw(y),C===null&&Yb(c,d,y,B1,p),C===S)break;S=C}S!==null&&y.stopPropagation()}else Yb(c,d,y,null,p)}}function uw(c){return c=bu(c),fw(c)}var B1=null;function fw(c){if(B1=null,c=gt(c),c!==null){var d=i(c);if(d===null)c=null;else{var p=d.tag;if(p===13){if(c=l(d),c!==null)return c;c=null}else if(p===31){if(c=o(d),c!==null)return c;c=null}else if(p===3){if(d.stateNode.current.memoizedState.isDehydrated)return d.tag===3?d.stateNode.containerInfo:null;c=null}else d!==c&&(c=null)}}return B1=c,null}function KA(c){switch(c){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(zt()){case Gt:return 2;case Ar:return 8;case Lt:case Dt:return 32;case yt:return 268435456;default:return 32}default:return 32}}var dw=!1,od=null,cd=null,ud=null,ex=new Map,tx=new Map,fd=[],Nz="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function YA(c,d){switch(c){case"focusin":case"focusout":od=null;break;case"dragenter":case"dragleave":cd=null;break;case"mouseover":case"mouseout":ud=null;break;case"pointerover":case"pointerout":ex.delete(d.pointerId);break;case"gotpointercapture":case"lostpointercapture":tx.delete(d.pointerId)}}function rx(c,d,p,y,S,C){return c===null||c.nativeEvent!==C?(c={blockedOn:d,domEventName:p,eventSystemFlags:y,nativeEvent:C,targetContainers:[S]},d!==null&&(d=St(d),d!==null&&WA(d)),c):(c.eventSystemFlags|=y,d=c.targetContainers,S!==null&&d.indexOf(S)===-1&&d.push(S),c)}function _z(c,d,p,y,S){switch(d){case"focusin":return od=rx(od,c,d,p,y,S),!0;case"dragenter":return cd=rx(cd,c,d,p,y,S),!0;case"mouseover":return ud=rx(ud,c,d,p,y,S),!0;case"pointerover":var C=S.pointerId;return ex.set(C,rx(ex.get(C)||null,c,d,p,y,S)),!0;case"gotpointercapture":return C=S.pointerId,tx.set(C,rx(tx.get(C)||null,c,d,p,y,S)),!0}return!1}function XA(c){var d=gt(c.target);if(d!==null){var p=i(d);if(p!==null){if(d=p.tag,d===13){if(d=l(p),d!==null){c.blockedOn=d,Ne(c.priority,function(){GA(p)});return}}else if(d===31){if(d=o(p),d!==null){c.blockedOn=d,Ne(c.priority,function(){GA(p)});return}}else if(d===3&&p.stateNode.current.memoizedState.isDehydrated){c.blockedOn=p.tag===3?p.stateNode.containerInfo:null;return}}}c.blockedOn=null}function U1(c){if(c.blockedOn!==null)return!1;for(var d=c.targetContainers;0<d.length;){var p=uw(c.nativeEvent);if(p===null){p=c.nativeEvent;var y=new p.constructor(p.type,p);Xo=y,p.target.dispatchEvent(y),Xo=null}else return d=St(p),d!==null&&WA(d),c.blockedOn=p,!1;d.shift()}return!0}function QA(c,d,p){U1(c)&&p.delete(d)}function jz(){dw=!1,od!==null&&U1(od)&&(od=null),cd!==null&&U1(cd)&&(cd=null),ud!==null&&U1(ud)&&(ud=null),ex.forEach(QA),tx.forEach(QA)}function z1(c,d){c.blockedOn===d&&(c.blockedOn=null,dw||(dw=!0,e.unstable_scheduleCallback(e.unstable_NormalPriority,jz)))}var q1=null;function ZA(c){q1!==c&&(q1=c,e.unstable_scheduleCallback(e.unstable_NormalPriority,function(){q1===c&&(q1=null);for(var d=0;d<c.length;d+=3){var p=c[d],y=c[d+1],S=c[d+2];if(typeof y!="function"){if(fw(y||p)===null)continue;break}var C=St(p);C!==null&&(c.splice(d,3),d-=3,ub(C,{pending:!0,data:S,method:p.method,action:y},y,S))}}))}function cm(c){function d(Ae){return z1(Ae,c)}od!==null&&z1(od,c),cd!==null&&z1(cd,c),ud!==null&&z1(ud,c),ex.forEach(d),tx.forEach(d);for(var p=0;p<fd.length;p++){var y=fd[p];y.blockedOn===c&&(y.blockedOn=null)}for(;0<fd.length&&(p=fd[0],p.blockedOn===null);)XA(p),p.blockedOn===null&&fd.shift();if(p=(c.ownerDocument||c).$$reactFormReplay,p!=null)for(y=0;y<p.length;y+=3){var S=p[y],C=p[y+1],G=S[ve]||null;if(typeof C=="function")G||ZA(p);else if(G){var oe=null;if(C&&C.hasAttribute("formAction")){if(S=C,G=C[ve]||null)oe=G.formAction;else if(fw(S)!==null)continue}else oe=G.action;typeof oe=="function"?p[y+1]=oe:(p.splice(y,3),y-=3),ZA(p)}}}function JA(){function c(C){C.canIntercept&&C.info==="react-transition"&&C.intercept({handler:function(){return new Promise(function(G){return S=G})},focusReset:"manual",scroll:"manual"})}function d(){S!==null&&(S(),S=null),y||setTimeout(p,20)}function p(){if(!y&&!navigation.transition){var C=navigation.currentEntry;C&&C.url!=null&&navigation.navigate(C.url,{state:C.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var y=!1,S=null;return navigation.addEventListener("navigate",c),navigation.addEventListener("navigatesuccess",d),navigation.addEventListener("navigateerror",d),setTimeout(p,100),function(){y=!0,navigation.removeEventListener("navigate",c),navigation.removeEventListener("navigatesuccess",d),navigation.removeEventListener("navigateerror",d),S!==null&&(S(),S=null)}}}function hw(c){this._internalRoot=c}$1.prototype.render=hw.prototype.render=function(c){var d=this._internalRoot;if(d===null)throw Error(n(409));var p=d.current,y=$l();HA(p,y,c,d,null,null)},$1.prototype.unmount=hw.prototype.unmount=function(){var c=this._internalRoot;if(c!==null){this._internalRoot=null;var d=c.containerInfo;HA(c.current,2,null,c,null,null),_1(),d[je]=null}};function $1(c){this._internalRoot=c}$1.prototype.unstable_scheduleHydration=function(c){if(c){var d=re();c={blockedOn:null,target:c,priority:d};for(var p=0;p<fd.length&&d!==0&&d<fd[p].priority;p++);fd.splice(p,0,c),p===0&&XA(c)}};var eE=t.version;if(eE!=="19.2.0")throw Error(n(527,eE,"19.2.0"));se.findDOMNode=function(c){var d=c._reactInternals;if(d===void 0)throw typeof c.render=="function"?Error(n(188)):(c=Object.keys(c).join(","),Error(n(268,c)));return c=f(d),c=c!==null?h(c):null,c=c===null?null:c.stateNode,c};var Sz={bundleType:0,version:"19.2.0",rendererPackageName:"react-dom",currentDispatcherRef:ne,reconcilerVersion:"19.2.0"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var H1=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!H1.isDisabled&&H1.supportsFiber)try{Zt=H1.inject(Sz),At=H1}catch{}}return ax.createRoot=function(c,d){if(!a(c))throw Error(n(299));var p=!1,y="",S=l6,C=o6,G=c6;return d!=null&&(d.unstable_strictMode===!0&&(p=!0),d.identifierPrefix!==void 0&&(y=d.identifierPrefix),d.onUncaughtError!==void 0&&(S=d.onUncaughtError),d.onCaughtError!==void 0&&(C=d.onCaughtError),d.onRecoverableError!==void 0&&(G=d.onRecoverableError)),d=qA(c,1,!1,null,null,p,y,null,S,C,G,JA),c[je]=d.current,Kb(c),new hw(d)},ax.hydrateRoot=function(c,d,p){if(!a(c))throw Error(n(299));var y=!1,S="",C=l6,G=o6,oe=c6,Ae=null;return p!=null&&(p.unstable_strictMode===!0&&(y=!0),p.identifierPrefix!==void 0&&(S=p.identifierPrefix),p.onUncaughtError!==void 0&&(C=p.onUncaughtError),p.onCaughtError!==void 0&&(G=p.onCaughtError),p.onRecoverableError!==void 0&&(oe=p.onRecoverableError),p.formState!==void 0&&(Ae=p.formState)),d=qA(c,1,!0,d,p??null,y,S,Ae,C,G,oe,JA),d.context=$A(null),p=d.current,y=$l(),y=jn(y),S=sr(y),S.callback=null,wr(p,S,y),p=y,d.current.lanes=p,Xt(d,p),ru(d),c[je]=d.current,Kb(c),new $1(d)},ax.version="19.2.0",ax}var uE;function Mz(){if(uE)return xw.exports;uE=1;function e(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(t){console.error(t)}}return e(),xw.exports=Lz(),xw.exports}var Rz=Mz(),Jm=class{constructor(){this.listeners=new Set,this.subscribe=this.subscribe.bind(this)}subscribe(e){return this.listeners.add(e),this.onSubscribe(),()=>{this.listeners.delete(e),this.onUnsubscribe()}}hasListeners(){return this.listeners.size>0}onSubscribe(){}onUnsubscribe(){}},Iz={setTimeout:(e,t)=>setTimeout(e,t),clearTimeout:e=>clearTimeout(e),setInterval:(e,t)=>setInterval(e,t),clearInterval:e=>clearInterval(e)},Bz=class{#e=Iz;#t=!1;setTimeoutProvider(e){this.#e=e}setTimeout(e,t){return this.#e.setTimeout(e,t)}clearTimeout(e){this.#e.clearTimeout(e)}setInterval(e,t){return this.#e.setInterval(e,t)}clearInterval(e){this.#e.clearInterval(e)}},S0=new Bz;function Uz(e){setTimeout(e,0)}var U0=typeof window>"u"||"Deno"in globalThis;function Gs(){}function zz(e,t){return typeof e=="function"?e(t):e}function U4(e){return typeof e=="number"&&e>=0&&e!==1/0}function gD(e,t){return Math.max(e+(t||0)-Date.now(),0)}function _d(e,t){return typeof e=="function"?e(t):e}function Lo(e,t){return typeof e=="function"?e(t):e}function fE(e,t){const{type:r="all",exact:n,fetchStatus:a,predicate:i,queryKey:l,stale:o}=e;if(l){if(n){if(t.queryHash!==__(l,t.options))return!1}else if(!Rx(t.queryKey,l))return!1}if(r!=="all"){const u=t.isActive();if(r==="active"&&!u||r==="inactive"&&u)return!1}return!(typeof o=="boolean"&&t.isStale()!==o||a&&a!==t.state.fetchStatus||i&&!i(t))}function dE(e,t){const{exact:r,status:n,predicate:a,mutationKey:i}=e;if(i){if(!t.options.mutationKey)return!1;if(r){if(z0(t.options.mutationKey)!==z0(i))return!1}else if(!Rx(t.options.mutationKey,i))return!1}return!(n&&t.state.status!==n||a&&!a(t))}function __(e,t){return(t?.queryKeyHashFn||z0)(e)}function z0(e){return JSON.stringify(e,(t,r)=>z4(r)?Object.keys(r).sort().reduce((n,a)=>(n[a]=r[a],n),{}):r)}function Rx(e,t){return e===t?!0:typeof e!=typeof t?!1:e&&t&&typeof e=="object"&&typeof t=="object"?Object.keys(t).every(r=>Rx(e[r],t[r])):!1}var qz=Object.prototype.hasOwnProperty;function vD(e,t){if(e===t)return e;const r=hE(e)&&hE(t);if(!r&&!(z4(e)&&z4(t)))return t;const a=(r?e:Object.keys(e)).length,i=r?t:Object.keys(t),l=i.length,o=r?new Array(l):{};let u=0;for(let f=0;f<l;f++){const h=r?f:i[f],m=e[h],g=t[h];if(m===g){o[h]=m,(r?f<a:qz.call(e,h))&&u++;continue}if(m===null||g===null||typeof m!="object"||typeof g!="object"){o[h]=g;continue}const x=vD(m,g);o[h]=x,x===m&&u++}return a===l&&u===a?e:o}function Hv(e,t){if(!t||Object.keys(e).length!==Object.keys(t).length)return!1;for(const r in e)if(e[r]!==t[r])return!1;return!0}function hE(e){return Array.isArray(e)&&e.length===Object.keys(e).length}function z4(e){if(!mE(e))return!1;const t=e.constructor;if(t===void 0)return!0;const r=t.prototype;return!(!mE(r)||!r.hasOwnProperty("isPrototypeOf")||Object.getPrototypeOf(e)!==Object.prototype)}function mE(e){return Object.prototype.toString.call(e)==="[object Object]"}function $z(e){return new Promise(t=>{S0.setTimeout(t,e)})}function q4(e,t,r){return typeof r.structuralSharing=="function"?r.structuralSharing(e,t):r.structuralSharing!==!1?vD(e,t):t}function Hz(e,t,r=0){const n=[...e,t];return r&&n.length>r?n.slice(1):n}function Vz(e,t,r=0){const n=[t,...e];return r&&n.length>r?n.slice(0,-1):n}var j_=Symbol();function yD(e,t){return!e.queryFn&&t?.initialPromise?()=>t.initialPromise:!e.queryFn||e.queryFn===j_?()=>Promise.reject(new Error(`Missing queryFn: '${e.queryHash}'`)):e.queryFn}function bD(e,t){return typeof e=="function"?e(...t):!!e}var Wz=class extends Jm{#e;#t;#r;constructor(){super(),this.#r=e=>{if(!U0&&window.addEventListener){const t=()=>e();return window.addEventListener("visibilitychange",t,!1),()=>{window.removeEventListener("visibilitychange",t)}}}}onSubscribe(){this.#t||this.setEventListener(this.#r)}onUnsubscribe(){this.hasListeners()||(this.#t?.(),this.#t=void 0)}setEventListener(e){this.#r=e,this.#t?.(),this.#t=e(t=>{typeof t=="boolean"?this.setFocused(t):this.onFocus()})}setFocused(e){this.#e!==e&&(this.#e=e,this.onFocus())}onFocus(){const e=this.isFocused();this.listeners.forEach(t=>{t(e)})}isFocused(){return typeof this.#e=="boolean"?this.#e:globalThis.document?.visibilityState!=="hidden"}},S_=new Wz;function $4(){let e,t;const r=new Promise((a,i)=>{e=a,t=i});r.status="pending",r.catch(()=>{});function n(a){Object.assign(r,a),delete r.resolve,delete r.reject}return r.resolve=a=>{n({status:"fulfilled",value:a}),e(a)},r.reject=a=>{n({status:"rejected",reason:a}),t(a)},r}var Gz=Uz;function Kz(){let e=[],t=0,r=o=>{o()},n=o=>{o()},a=Gz;const i=o=>{t?e.push(o):a(()=>{r(o)})},l=()=>{const o=e;e=[],o.length&&a(()=>{n(()=>{o.forEach(u=>{r(u)})})})};return{batch:o=>{let u;t++;try{u=o()}finally{t--,t||l()}return u},batchCalls:o=>(...u)=>{i(()=>{o(...u)})},schedule:i,setNotifyFunction:o=>{r=o},setBatchNotifyFunction:o=>{n=o},setScheduler:o=>{a=o}}}var bi=Kz(),Yz=class extends Jm{#e=!0;#t;#r;constructor(){super(),this.#r=e=>{if(!U0&&window.addEventListener){const t=()=>e(!0),r=()=>e(!1);return window.addEventListener("online",t,!1),window.addEventListener("offline",r,!1),()=>{window.removeEventListener("online",t),window.removeEventListener("offline",r)}}}}onSubscribe(){this.#t||this.setEventListener(this.#r)}onUnsubscribe(){this.hasListeners()||(this.#t?.(),this.#t=void 0)}setEventListener(e){this.#r=e,this.#t?.(),this.#t=e(this.setOnline.bind(this))}setOnline(e){this.#e!==e&&(this.#e=e,this.listeners.forEach(r=>{r(e)}))}isOnline(){return this.#e}},Vv=new Yz;function Xz(e){return Math.min(1e3*2**e,3e4)}function wD(e){return(e??"online")==="online"?Vv.isOnline():!0}var H4=class extends Error{constructor(e){super("CancelledError"),this.revert=e?.revert,this.silent=e?.silent}};function ND(e){let t=!1,r=0,n;const a=$4(),i=()=>a.status!=="pending",l=v=>{if(!i()){const w=new H4(v);g(w),e.onCancel?.(w)}},o=()=>{t=!0},u=()=>{t=!1},f=()=>S_.isFocused()&&(e.networkMode==="always"||Vv.isOnline())&&e.canRun(),h=()=>wD(e.networkMode)&&e.canRun(),m=v=>{i()||(n?.(),a.resolve(v))},g=v=>{i()||(n?.(),a.reject(v))},x=()=>new Promise(v=>{n=w=>{(i()||f())&&v(w)},e.onPause?.()}).then(()=>{n=void 0,i()||e.onContinue?.()}),b=()=>{if(i())return;let v;const w=r===0?e.initialPromise:void 0;try{v=w??e.fn()}catch(N){v=Promise.reject(N)}Promise.resolve(v).then(m).catch(N=>{if(i())return;const E=e.retry??(U0?0:3),j=e.retryDelay??Xz,T=typeof j=="function"?j(r,N):j,O=E===!0||typeof E=="number"&&r<E||typeof E=="function"&&E(r,N);if(t||!O){g(N);return}r++,e.onFail?.(r,N),$z(T).then(()=>f()?void 0:x()).then(()=>{t?g(N):b()})})};return{promise:a,status:()=>a.status,cancel:l,continue:()=>(n?.(),a),cancelRetry:o,continueRetry:u,canStart:h,start:()=>(h()?b():x().then(b),a)}}var _D=class{#e;destroy(){this.clearGcTimeout()}scheduleGc(){this.clearGcTimeout(),U4(this.gcTime)&&(this.#e=S0.setTimeout(()=>{this.optionalRemove()},this.gcTime))}updateGcTime(e){this.gcTime=Math.max(this.gcTime||0,e??(U0?1/0:300*1e3))}clearGcTimeout(){this.#e&&(S0.clearTimeout(this.#e),this.#e=void 0)}},Qz=class extends _D{#e;#t;#r;#a;#n;#s;#l;constructor(e){super(),this.#l=!1,this.#s=e.defaultOptions,this.setOptions(e.options),this.observers=[],this.#a=e.client,this.#r=this.#a.getQueryCache(),this.queryKey=e.queryKey,this.queryHash=e.queryHash,this.#e=pE(this.options),this.state=e.state??this.#e,this.scheduleGc()}get meta(){return this.options.meta}get promise(){return this.#n?.promise}setOptions(e){if(this.options={...this.#s,...e},this.updateGcTime(this.options.gcTime),this.state&&this.state.data===void 0){const t=pE(this.options);t.data!==void 0&&(this.setData(t.data,{updatedAt:t.dataUpdatedAt,manual:!0}),this.#e=t)}}optionalRemove(){!this.observers.length&&this.state.fetchStatus==="idle"&&this.#r.remove(this)}setData(e,t){const r=q4(this.state.data,e,this.options);return this.#i({data:r,type:"success",dataUpdatedAt:t?.updatedAt,manual:t?.manual}),r}setState(e,t){this.#i({type:"setState",state:e,setStateOptions:t})}cancel(e){const t=this.#n?.promise;return this.#n?.cancel(e),t?t.then(Gs).catch(Gs):Promise.resolve()}destroy(){super.destroy(),this.cancel({silent:!0})}reset(){this.destroy(),this.setState(this.#e)}isActive(){return this.observers.some(e=>Lo(e.options.enabled,this)!==!1)}isDisabled(){return this.getObserversCount()>0?!this.isActive():this.options.queryFn===j_||this.state.dataUpdateCount+this.state.errorUpdateCount===0}isStatic(){return this.getObserversCount()>0?this.observers.some(e=>_d(e.options.staleTime,this)==="static"):!1}isStale(){return this.getObserversCount()>0?this.observers.some(e=>e.getCurrentResult().isStale):this.state.data===void 0||this.state.isInvalidated}isStaleByTime(e=0){return this.state.data===void 0?!0:e==="static"?!1:this.state.isInvalidated?!0:!gD(this.state.dataUpdatedAt,e)}onFocus(){this.observers.find(t=>t.shouldFetchOnWindowFocus())?.refetch({cancelRefetch:!1}),this.#n?.continue()}onOnline(){this.observers.find(t=>t.shouldFetchOnReconnect())?.refetch({cancelRefetch:!1}),this.#n?.continue()}addObserver(e){this.observers.includes(e)||(this.observers.push(e),this.clearGcTimeout(),this.#r.notify({type:"observerAdded",query:this,observer:e}))}removeObserver(e){this.observers.includes(e)&&(this.observers=this.observers.filter(t=>t!==e),this.observers.length||(this.#n&&(this.#l?this.#n.cancel({revert:!0}):this.#n.cancelRetry()),this.scheduleGc()),this.#r.notify({type:"observerRemoved",query:this,observer:e}))}getObserversCount(){return this.observers.length}invalidate(){this.state.isInvalidated||this.#i({type:"invalidate"})}async fetch(e,t){if(this.state.fetchStatus!=="idle"&&this.#n?.status()!=="rejected"){if(this.state.data!==void 0&&t?.cancelRefetch)this.cancel({silent:!0});else if(this.#n)return this.#n.continueRetry(),this.#n.promise}if(e&&this.setOptions(e),!this.options.queryFn){const o=this.observers.find(u=>u.options.queryFn);o&&this.setOptions(o.options)}const r=new AbortController,n=o=>{Object.defineProperty(o,"signal",{enumerable:!0,get:()=>(this.#l=!0,r.signal)})},a=()=>{const o=yD(this.options,t),f=(()=>{const h={client:this.#a,queryKey:this.queryKey,meta:this.meta};return n(h),h})();return this.#l=!1,this.options.persister?this.options.persister(o,f,this):o(f)},l=(()=>{const o={fetchOptions:t,options:this.options,queryKey:this.queryKey,client:this.#a,state:this.state,fetchFn:a};return n(o),o})();this.options.behavior?.onFetch(l,this),this.#t=this.state,(this.state.fetchStatus==="idle"||this.state.fetchMeta!==l.fetchOptions?.meta)&&this.#i({type:"fetch",meta:l.fetchOptions?.meta}),this.#n=ND({initialPromise:t?.initialPromise,fn:l.fetchFn,onCancel:o=>{o instanceof H4&&o.revert&&this.setState({...this.#t,fetchStatus:"idle"}),r.abort()},onFail:(o,u)=>{this.#i({type:"failed",failureCount:o,error:u})},onPause:()=>{this.#i({type:"pause"})},onContinue:()=>{this.#i({type:"continue"})},retry:l.options.retry,retryDelay:l.options.retryDelay,networkMode:l.options.networkMode,canRun:()=>!0});try{const o=await this.#n.start();if(o===void 0)throw new Error(`${this.queryHash} data is undefined`);return this.setData(o),this.#r.config.onSuccess?.(o,this),this.#r.config.onSettled?.(o,this.state.error,this),o}catch(o){if(o instanceof H4){if(o.silent)return this.#n.promise;if(o.revert){if(this.state.data===void 0)throw o;return this.state.data}}throw this.#i({type:"error",error:o}),this.#r.config.onError?.(o,this),this.#r.config.onSettled?.(this.state.data,o,this),o}finally{this.scheduleGc()}}#i(e){const t=r=>{switch(e.type){case"failed":return{...r,fetchFailureCount:e.failureCount,fetchFailureReason:e.error};case"pause":return{...r,fetchStatus:"paused"};case"continue":return{...r,fetchStatus:"fetching"};case"fetch":return{...r,...jD(r.data,this.options),fetchMeta:e.meta??null};case"success":const n={...r,data:e.data,dataUpdateCount:r.dataUpdateCount+1,dataUpdatedAt:e.dataUpdatedAt??Date.now(),error:null,isInvalidated:!1,status:"success",...!e.manual&&{fetchStatus:"idle",fetchFailureCount:0,fetchFailureReason:null}};return this.#t=e.manual?n:void 0,n;case"error":const a=e.error;return{...r,error:a,errorUpdateCount:r.errorUpdateCount+1,errorUpdatedAt:Date.now(),fetchFailureCount:r.fetchFailureCount+1,fetchFailureReason:a,fetchStatus:"idle",status:"error"};case"invalidate":return{...r,isInvalidated:!0};case"setState":return{...r,...e.state}}};this.state=t(this.state),bi.batch(()=>{this.observers.forEach(r=>{r.onQueryUpdate()}),this.#r.notify({query:this,type:"updated",action:e})})}};function jD(e,t){return{fetchFailureCount:0,fetchFailureReason:null,fetchStatus:wD(t.networkMode)?"fetching":"paused",...e===void 0&&{error:null,status:"pending"}}}function pE(e){const t=typeof e.initialData=="function"?e.initialData():e.initialData,r=t!==void 0,n=r?typeof e.initialDataUpdatedAt=="function"?e.initialDataUpdatedAt():e.initialDataUpdatedAt:0;return{data:t,dataUpdateCount:0,dataUpdatedAt:r?n??Date.now():0,error:null,errorUpdateCount:0,errorUpdatedAt:0,fetchFailureCount:0,fetchFailureReason:null,fetchMeta:null,isInvalidated:!1,status:r?"success":"pending",fetchStatus:"idle"}}var Zz=class extends Jm{constructor(e,t){super(),this.options=t,this.#e=e,this.#i=null,this.#l=$4(),this.bindMethods(),this.setOptions(t)}#e;#t=void 0;#r=void 0;#a=void 0;#n;#s;#l;#i;#p;#d;#h;#c;#u;#o;#m=new Set;bindMethods(){this.refetch=this.refetch.bind(this)}onSubscribe(){this.listeners.size===1&&(this.#t.addObserver(this),xE(this.#t,this.options)?this.#f():this.updateResult(),this.#y())}onUnsubscribe(){this.hasListeners()||this.destroy()}shouldFetchOnReconnect(){return V4(this.#t,this.options,this.options.refetchOnReconnect)}shouldFetchOnWindowFocus(){return V4(this.#t,this.options,this.options.refetchOnWindowFocus)}destroy(){this.listeners=new Set,this.#b(),this.#w(),this.#t.removeObserver(this)}setOptions(e){const t=this.options,r=this.#t;if(this.options=this.#e.defaultQueryOptions(e),this.options.enabled!==void 0&&typeof this.options.enabled!="boolean"&&typeof this.options.enabled!="function"&&typeof Lo(this.options.enabled,this.#t)!="boolean")throw new Error("Expected enabled to be a boolean or a callback that returns a boolean");this.#N(),this.#t.setOptions(this.options),t._defaulted&&!Hv(this.options,t)&&this.#e.getQueryCache().notify({type:"observerOptionsUpdated",query:this.#t,observer:this});const n=this.hasListeners();n&&gE(this.#t,r,this.options,t)&&this.#f(),this.updateResult(),n&&(this.#t!==r||Lo(this.options.enabled,this.#t)!==Lo(t.enabled,this.#t)||_d(this.options.staleTime,this.#t)!==_d(t.staleTime,this.#t))&&this.#x();const a=this.#g();n&&(this.#t!==r||Lo(this.options.enabled,this.#t)!==Lo(t.enabled,this.#t)||a!==this.#o)&&this.#v(a)}getOptimisticResult(e){const t=this.#e.getQueryCache().build(this.#e,e),r=this.createResult(t,e);return eq(this,r)&&(this.#a=r,this.#s=this.options,this.#n=this.#t.state),r}getCurrentResult(){return this.#a}trackResult(e,t){return new Proxy(e,{get:(r,n)=>(this.trackProp(n),t?.(n),n==="promise"&&(this.trackProp("data"),!this.options.experimental_prefetchInRender&&this.#l.status==="pending"&&this.#l.reject(new Error("experimental_prefetchInRender feature flag is not enabled"))),Reflect.get(r,n))})}trackProp(e){this.#m.add(e)}getCurrentQuery(){return this.#t}refetch({...e}={}){return this.fetch({...e})}fetchOptimistic(e){const t=this.#e.defaultQueryOptions(e),r=this.#e.getQueryCache().build(this.#e,t);return r.fetch().then(()=>this.createResult(r,t))}fetch(e){return this.#f({...e,cancelRefetch:e.cancelRefetch??!0}).then(()=>(this.updateResult(),this.#a))}#f(e){this.#N();let t=this.#t.fetch(this.options,e);return e?.throwOnError||(t=t.catch(Gs)),t}#x(){this.#b();const e=_d(this.options.staleTime,this.#t);if(U0||this.#a.isStale||!U4(e))return;const r=gD(this.#a.dataUpdatedAt,e)+1;this.#c=S0.setTimeout(()=>{this.#a.isStale||this.updateResult()},r)}#g(){return(typeof this.options.refetchInterval=="function"?this.options.refetchInterval(this.#t):this.options.refetchInterval)??!1}#v(e){this.#w(),this.#o=e,!(U0||Lo(this.options.enabled,this.#t)===!1||!U4(this.#o)||this.#o===0)&&(this.#u=S0.setInterval(()=>{(this.options.refetchIntervalInBackground||S_.isFocused())&&this.#f()},this.#o))}#y(){this.#x(),this.#v(this.#g())}#b(){this.#c&&(S0.clearTimeout(this.#c),this.#c=void 0)}#w(){this.#u&&(S0.clearInterval(this.#u),this.#u=void 0)}createResult(e,t){const r=this.#t,n=this.options,a=this.#a,i=this.#n,l=this.#s,u=e!==r?e.state:this.#r,{state:f}=e;let h={...f},m=!1,g;if(t._optimisticResults){const L=this.hasListeners(),B=!L&&xE(e,t),H=L&&gE(e,r,t,n);(B||H)&&(h={...h,...jD(f.data,e.options)}),t._optimisticResults==="isRestoring"&&(h.fetchStatus="idle")}let{error:x,errorUpdatedAt:b,status:v}=h;g=h.data;let w=!1;if(t.placeholderData!==void 0&&g===void 0&&v==="pending"){let L;a?.isPlaceholderData&&t.placeholderData===l?.placeholderData?(L=a.data,w=!0):L=typeof t.placeholderData=="function"?t.placeholderData(this.#h?.state.data,this.#h):t.placeholderData,L!==void 0&&(v="success",g=q4(a?.data,L,t),m=!0)}if(t.select&&g!==void 0&&!w)if(a&&g===i?.data&&t.select===this.#p)g=this.#d;else try{this.#p=t.select,g=t.select(g),g=q4(a?.data,g,t),this.#d=g,this.#i=null}catch(L){this.#i=L}this.#i&&(x=this.#i,g=this.#d,b=Date.now(),v="error");const N=h.fetchStatus==="fetching",E=v==="pending",j=v==="error",T=E&&N,O=g!==void 0,D={status:v,fetchStatus:h.fetchStatus,isPending:E,isSuccess:v==="success",isError:j,isInitialLoading:T,isLoading:T,data:g,dataUpdatedAt:h.dataUpdatedAt,error:x,errorUpdatedAt:b,failureCount:h.fetchFailureCount,failureReason:h.fetchFailureReason,errorUpdateCount:h.errorUpdateCount,isFetched:h.dataUpdateCount>0||h.errorUpdateCount>0,isFetchedAfterMount:h.dataUpdateCount>u.dataUpdateCount||h.errorUpdateCount>u.errorUpdateCount,isFetching:N,isRefetching:N&&!E,isLoadingError:j&&!O,isPaused:h.fetchStatus==="paused",isPlaceholderData:m,isRefetchError:j&&O,isStale:A_(e,t),refetch:this.refetch,promise:this.#l,isEnabled:Lo(t.enabled,e)!==!1};if(this.options.experimental_prefetchInRender){const L=P=>{D.status==="error"?P.reject(D.error):D.data!==void 0&&P.resolve(D.data)},B=()=>{const P=this.#l=D.promise=$4();L(P)},H=this.#l;switch(H.status){case"pending":e.queryHash===r.queryHash&&L(H);break;case"fulfilled":(D.status==="error"||D.data!==H.value)&&B();break;case"rejected":(D.status!=="error"||D.error!==H.reason)&&B();break}}return D}updateResult(){const e=this.#a,t=this.createResult(this.#t,this.options);if(this.#n=this.#t.state,this.#s=this.options,this.#n.data!==void 0&&(this.#h=this.#t),Hv(t,e))return;this.#a=t;const r=()=>{if(!e)return!0;const{notifyOnChangeProps:n}=this.options,a=typeof n=="function"?n():n;if(a==="all"||!a&&!this.#m.size)return!0;const i=new Set(a??this.#m);return this.options.throwOnError&&i.add("error"),Object.keys(this.#a).some(l=>{const o=l;return this.#a[o]!==e[o]&&i.has(o)})};this.#_({listeners:r()})}#N(){const e=this.#e.getQueryCache().build(this.#e,this.options);if(e===this.#t)return;const t=this.#t;this.#t=e,this.#r=e.state,this.hasListeners()&&(t?.removeObserver(this),e.addObserver(this))}onQueryUpdate(){this.updateResult(),this.hasListeners()&&this.#y()}#_(e){bi.batch(()=>{e.listeners&&this.listeners.forEach(t=>{t(this.#a)}),this.#e.getQueryCache().notify({query:this.#t,type:"observerResultsUpdated"})})}};function Jz(e,t){return Lo(t.enabled,e)!==!1&&e.state.data===void 0&&!(e.state.status==="error"&&t.retryOnMount===!1)}function xE(e,t){return Jz(e,t)||e.state.data!==void 0&&V4(e,t,t.refetchOnMount)}function V4(e,t,r){if(Lo(t.enabled,e)!==!1&&_d(t.staleTime,e)!=="static"){const n=typeof r=="function"?r(e):r;return n==="always"||n!==!1&&A_(e,t)}return!1}function gE(e,t,r,n){return(e!==t||Lo(n.enabled,e)===!1)&&(!r.suspense||e.state.status!=="error")&&A_(e,r)}function A_(e,t){return Lo(t.enabled,e)!==!1&&e.isStaleByTime(_d(t.staleTime,e))}function eq(e,t){return!Hv(e.getCurrentResult(),t)}function vE(e){return{onFetch:(t,r)=>{const n=t.options,a=t.fetchOptions?.meta?.fetchMore?.direction,i=t.state.data?.pages||[],l=t.state.data?.pageParams||[];let o={pages:[],pageParams:[]},u=0;const f=async()=>{let h=!1;const m=b=>{Object.defineProperty(b,"signal",{enumerable:!0,get:()=>(t.signal.aborted?h=!0:t.signal.addEventListener("abort",()=>{h=!0}),t.signal)})},g=yD(t.options,t.fetchOptions),x=async(b,v,w)=>{if(h)return Promise.reject();if(v==null&&b.pages.length)return Promise.resolve(b);const E=(()=>{const F={client:t.client,queryKey:t.queryKey,pageParam:v,direction:w?"backward":"forward",meta:t.options.meta};return m(F),F})(),j=await g(E),{maxPages:T}=t.options,O=w?Vz:Hz;return{pages:O(b.pages,j,T),pageParams:O(b.pageParams,v,T)}};if(a&&i.length){const b=a==="backward",v=b?tq:yE,w={pages:i,pageParams:l},N=v(n,w);o=await x(w,N,b)}else{const b=e??i.length;do{const v=u===0?l[0]??n.initialPageParam:yE(n,o);if(u>0&&v==null)break;o=await x(o,v),u++}while(u<b)}return o};t.options.persister?t.fetchFn=()=>t.options.persister?.(f,{client:t.client,queryKey:t.queryKey,meta:t.options.meta,signal:t.signal},r):t.fetchFn=f}}}function yE(e,{pages:t,pageParams:r}){const n=t.length-1;return t.length>0?e.getNextPageParam(t[n],t,r[n],r):void 0}function tq(e,{pages:t,pageParams:r}){return t.length>0?e.getPreviousPageParam?.(t[0],t,r[0],r):void 0}var rq=class extends _D{#e;#t;#r;#a;constructor(e){super(),this.#e=e.client,this.mutationId=e.mutationId,this.#r=e.mutationCache,this.#t=[],this.state=e.state||SD(),this.setOptions(e.options),this.scheduleGc()}setOptions(e){this.options=e,this.updateGcTime(this.options.gcTime)}get meta(){return this.options.meta}addObserver(e){this.#t.includes(e)||(this.#t.push(e),this.clearGcTimeout(),this.#r.notify({type:"observerAdded",mutation:this,observer:e}))}removeObserver(e){this.#t=this.#t.filter(t=>t!==e),this.scheduleGc(),this.#r.notify({type:"observerRemoved",mutation:this,observer:e})}optionalRemove(){this.#t.length||(this.state.status==="pending"?this.scheduleGc():this.#r.remove(this))}continue(){return this.#a?.continue()??this.execute(this.state.variables)}async execute(e){const t=()=>{this.#n({type:"continue"})},r={client:this.#e,meta:this.options.meta,mutationKey:this.options.mutationKey};this.#a=ND({fn:()=>this.options.mutationFn?this.options.mutationFn(e,r):Promise.reject(new Error("No mutationFn found")),onFail:(i,l)=>{this.#n({type:"failed",failureCount:i,error:l})},onPause:()=>{this.#n({type:"pause"})},onContinue:t,retry:this.options.retry??0,retryDelay:this.options.retryDelay,networkMode:this.options.networkMode,canRun:()=>this.#r.canRun(this)});const n=this.state.status==="pending",a=!this.#a.canStart();try{if(n)t();else{this.#n({type:"pending",variables:e,isPaused:a}),await this.#r.config.onMutate?.(e,this,r);const l=await this.options.onMutate?.(e,r);l!==this.state.context&&this.#n({type:"pending",context:l,variables:e,isPaused:a})}const i=await this.#a.start();return await this.#r.config.onSuccess?.(i,e,this.state.context,this,r),await this.options.onSuccess?.(i,e,this.state.context,r),await this.#r.config.onSettled?.(i,null,this.state.variables,this.state.context,this,r),await this.options.onSettled?.(i,null,e,this.state.context,r),this.#n({type:"success",data:i}),i}catch(i){try{throw await this.#r.config.onError?.(i,e,this.state.context,this,r),await this.options.onError?.(i,e,this.state.context,r),await this.#r.config.onSettled?.(void 0,i,this.state.variables,this.state.context,this,r),await this.options.onSettled?.(void 0,i,e,this.state.context,r),i}finally{this.#n({type:"error",error:i})}}finally{this.#r.runNext(this)}}#n(e){const t=r=>{switch(e.type){case"failed":return{...r,failureCount:e.failureCount,failureReason:e.error};case"pause":return{...r,isPaused:!0};case"continue":return{...r,isPaused:!1};case"pending":return{...r,context:e.context,data:void 0,failureCount:0,failureReason:null,error:null,isPaused:e.isPaused,status:"pending",variables:e.variables,submittedAt:Date.now()};case"success":return{...r,data:e.data,failureCount:0,failureReason:null,error:null,status:"success",isPaused:!1};case"error":return{...r,data:void 0,error:e.error,failureCount:r.failureCount+1,failureReason:e.error,isPaused:!1,status:"error"}}};this.state=t(this.state),bi.batch(()=>{this.#t.forEach(r=>{r.onMutationUpdate(e)}),this.#r.notify({mutation:this,type:"updated",action:e})})}};function SD(){return{context:void 0,data:void 0,error:null,failureCount:0,failureReason:null,isPaused:!1,status:"idle",variables:void 0,submittedAt:0}}var nq=class extends Jm{constructor(e={}){super(),this.config=e,this.#e=new Set,this.#t=new Map,this.#r=0}#e;#t;#r;build(e,t,r){const n=new rq({client:e,mutationCache:this,mutationId:++this.#r,options:e.defaultMutationOptions(t),state:r});return this.add(n),n}add(e){this.#e.add(e);const t=V1(e);if(typeof t=="string"){const r=this.#t.get(t);r?r.push(e):this.#t.set(t,[e])}this.notify({type:"added",mutation:e})}remove(e){if(this.#e.delete(e)){const t=V1(e);if(typeof t=="string"){const r=this.#t.get(t);if(r)if(r.length>1){const n=r.indexOf(e);n!==-1&&r.splice(n,1)}else r[0]===e&&this.#t.delete(t)}}this.notify({type:"removed",mutation:e})}canRun(e){const t=V1(e);if(typeof t=="string"){const n=this.#t.get(t)?.find(a=>a.state.status==="pending");return!n||n===e}else return!0}runNext(e){const t=V1(e);return typeof t=="string"?this.#t.get(t)?.find(n=>n!==e&&n.state.isPaused)?.continue()??Promise.resolve():Promise.resolve()}clear(){bi.batch(()=>{this.#e.forEach(e=>{this.notify({type:"removed",mutation:e})}),this.#e.clear(),this.#t.clear()})}getAll(){return Array.from(this.#e)}find(e){const t={exact:!0,...e};return this.getAll().find(r=>dE(t,r))}findAll(e={}){return this.getAll().filter(t=>dE(e,t))}notify(e){bi.batch(()=>{this.listeners.forEach(t=>{t(e)})})}resumePausedMutations(){const e=this.getAll().filter(t=>t.state.isPaused);return bi.batch(()=>Promise.all(e.map(t=>t.continue().catch(Gs))))}};function V1(e){return e.options.scope?.id}var aq=class extends Jm{#e;#t=void 0;#r;#a;constructor(t,r){super(),this.#e=t,this.setOptions(r),this.bindMethods(),this.#n()}bindMethods(){this.mutate=this.mutate.bind(this),this.reset=this.reset.bind(this)}setOptions(t){const r=this.options;this.options=this.#e.defaultMutationOptions(t),Hv(this.options,r)||this.#e.getMutationCache().notify({type:"observerOptionsUpdated",mutation:this.#r,observer:this}),r?.mutationKey&&this.options.mutationKey&&z0(r.mutationKey)!==z0(this.options.mutationKey)?this.reset():this.#r?.state.status==="pending"&&this.#r.setOptions(this.options)}onUnsubscribe(){this.hasListeners()||this.#r?.removeObserver(this)}onMutationUpdate(t){this.#n(),this.#s(t)}getCurrentResult(){return this.#t}reset(){this.#r?.removeObserver(this),this.#r=void 0,this.#n(),this.#s()}mutate(t,r){return this.#a=r,this.#r?.removeObserver(this),this.#r=this.#e.getMutationCache().build(this.#e,this.options),this.#r.addObserver(this),this.#r.execute(t)}#n(){const t=this.#r?.state??SD();this.#t={...t,isPending:t.status==="pending",isSuccess:t.status==="success",isError:t.status==="error",isIdle:t.status==="idle",mutate:this.mutate,reset:this.reset}}#s(t){bi.batch(()=>{if(this.#a&&this.hasListeners()){const r=this.#t.variables,n=this.#t.context,a={client:this.#e,meta:this.options.meta,mutationKey:this.options.mutationKey};t?.type==="success"?(this.#a.onSuccess?.(t.data,r,n,a),this.#a.onSettled?.(t.data,null,r,n,a)):t?.type==="error"&&(this.#a.onError?.(t.error,r,n,a),this.#a.onSettled?.(void 0,t.error,r,n,a))}this.listeners.forEach(r=>{r(this.#t)})})}},iq=class extends Jm{constructor(e={}){super(),this.config=e,this.#e=new Map}#e;build(e,t,r){const n=t.queryKey,a=t.queryHash??__(n,t);let i=this.get(a);return i||(i=new Qz({client:e,queryKey:n,queryHash:a,options:e.defaultQueryOptions(t),state:r,defaultOptions:e.getQueryDefaults(n)}),this.add(i)),i}add(e){this.#e.has(e.queryHash)||(this.#e.set(e.queryHash,e),this.notify({type:"added",query:e}))}remove(e){const t=this.#e.get(e.queryHash);t&&(e.destroy(),t===e&&this.#e.delete(e.queryHash),this.notify({type:"removed",query:e}))}clear(){bi.batch(()=>{this.getAll().forEach(e=>{this.remove(e)})})}get(e){return this.#e.get(e)}getAll(){return[...this.#e.values()]}find(e){const t={exact:!0,...e};return this.getAll().find(r=>fE(t,r))}findAll(e={}){const t=this.getAll();return Object.keys(e).length>0?t.filter(r=>fE(e,r)):t}notify(e){bi.batch(()=>{this.listeners.forEach(t=>{t(e)})})}onFocus(){bi.batch(()=>{this.getAll().forEach(e=>{e.onFocus()})})}onOnline(){bi.batch(()=>{this.getAll().forEach(e=>{e.onOnline()})})}},sq=class{#e;#t;#r;#a;#n;#s;#l;#i;constructor(e={}){this.#e=e.queryCache||new iq,this.#t=e.mutationCache||new nq,this.#r=e.defaultOptions||{},this.#a=new Map,this.#n=new Map,this.#s=0}mount(){this.#s++,this.#s===1&&(this.#l=S_.subscribe(async e=>{e&&(await this.resumePausedMutations(),this.#e.onFocus())}),this.#i=Vv.subscribe(async e=>{e&&(await this.resumePausedMutations(),this.#e.onOnline())}))}unmount(){this.#s--,this.#s===0&&(this.#l?.(),this.#l=void 0,this.#i?.(),this.#i=void 0)}isFetching(e){return this.#e.findAll({...e,fetchStatus:"fetching"}).length}isMutating(e){return this.#t.findAll({...e,status:"pending"}).length}getQueryData(e){const t=this.defaultQueryOptions({queryKey:e});return this.#e.get(t.queryHash)?.state.data}ensureQueryData(e){const t=this.defaultQueryOptions(e),r=this.#e.build(this,t),n=r.state.data;return n===void 0?this.fetchQuery(e):(e.revalidateIfStale&&r.isStaleByTime(_d(t.staleTime,r))&&this.prefetchQuery(t),Promise.resolve(n))}getQueriesData(e){return this.#e.findAll(e).map(({queryKey:t,state:r})=>{const n=r.data;return[t,n]})}setQueryData(e,t,r){const n=this.defaultQueryOptions({queryKey:e}),i=this.#e.get(n.queryHash)?.state.data,l=zz(t,i);if(l!==void 0)return this.#e.build(this,n).setData(l,{...r,manual:!0})}setQueriesData(e,t,r){return bi.batch(()=>this.#e.findAll(e).map(({queryKey:n})=>[n,this.setQueryData(n,t,r)]))}getQueryState(e){const t=this.defaultQueryOptions({queryKey:e});return this.#e.get(t.queryHash)?.state}removeQueries(e){const t=this.#e;bi.batch(()=>{t.findAll(e).forEach(r=>{t.remove(r)})})}resetQueries(e,t){const r=this.#e;return bi.batch(()=>(r.findAll(e).forEach(n=>{n.reset()}),this.refetchQueries({type:"active",...e},t)))}cancelQueries(e,t={}){const r={revert:!0,...t},n=bi.batch(()=>this.#e.findAll(e).map(a=>a.cancel(r)));return Promise.all(n).then(Gs).catch(Gs)}invalidateQueries(e,t={}){return bi.batch(()=>(this.#e.findAll(e).forEach(r=>{r.invalidate()}),e?.refetchType==="none"?Promise.resolve():this.refetchQueries({...e,type:e?.refetchType??e?.type??"active"},t)))}refetchQueries(e,t={}){const r={...t,cancelRefetch:t.cancelRefetch??!0},n=bi.batch(()=>this.#e.findAll(e).filter(a=>!a.isDisabled()&&!a.isStatic()).map(a=>{let i=a.fetch(void 0,r);return r.throwOnError||(i=i.catch(Gs)),a.state.fetchStatus==="paused"?Promise.resolve():i}));return Promise.all(n).then(Gs)}fetchQuery(e){const t=this.defaultQueryOptions(e);t.retry===void 0&&(t.retry=!1);const r=this.#e.build(this,t);return r.isStaleByTime(_d(t.staleTime,r))?r.fetch(t):Promise.resolve(r.state.data)}prefetchQuery(e){return this.fetchQuery(e).then(Gs).catch(Gs)}fetchInfiniteQuery(e){return e.behavior=vE(e.pages),this.fetchQuery(e)}prefetchInfiniteQuery(e){return this.fetchInfiniteQuery(e).then(Gs).catch(Gs)}ensureInfiniteQueryData(e){return e.behavior=vE(e.pages),this.ensureQueryData(e)}resumePausedMutations(){return Vv.isOnline()?this.#t.resumePausedMutations():Promise.resolve()}getQueryCache(){return this.#e}getMutationCache(){return this.#t}getDefaultOptions(){return this.#r}setDefaultOptions(e){this.#r=e}setQueryDefaults(e,t){this.#a.set(z0(e),{queryKey:e,defaultOptions:t})}getQueryDefaults(e){const t=[...this.#a.values()],r={};return t.forEach(n=>{Rx(e,n.queryKey)&&Object.assign(r,n.defaultOptions)}),r}setMutationDefaults(e,t){this.#n.set(z0(e),{mutationKey:e,defaultOptions:t})}getMutationDefaults(e){const t=[...this.#n.values()],r={};return t.forEach(n=>{Rx(e,n.mutationKey)&&Object.assign(r,n.defaultOptions)}),r}defaultQueryOptions(e){if(e._defaulted)return e;const t={...this.#r.queries,...this.getQueryDefaults(e.queryKey),...e,_defaulted:!0};return t.queryHash||(t.queryHash=__(t.queryKey,t)),t.refetchOnReconnect===void 0&&(t.refetchOnReconnect=t.networkMode!=="always"),t.throwOnError===void 0&&(t.throwOnError=!!t.suspense),!t.networkMode&&t.persister&&(t.networkMode="offlineFirst"),t.queryFn===j_&&(t.enabled=!1),t}defaultMutationOptions(e){return e?._defaulted?e:{...this.#r.mutations,...e?.mutationKey&&this.getMutationDefaults(e.mutationKey),...e,_defaulted:!0}}clear(){this.#e.clear(),this.#t.clear()}},AD=k.createContext(void 0),Pt=e=>{const t=k.useContext(AD);if(!t)throw new Error("No QueryClient set, use QueryClientProvider to set one");return t},lq=({client:e,children:t})=>(k.useEffect(()=>(e.mount(),()=>{e.unmount()}),[e]),s.jsx(AD.Provider,{value:e,children:t})),ED=k.createContext(!1),oq=()=>k.useContext(ED);ED.Provider;function cq(){let e=!1;return{clearReset:()=>{e=!1},reset:()=>{e=!0},isReset:()=>e}}var uq=k.createContext(cq()),fq=()=>k.useContext(uq),dq=(e,t)=>{(e.suspense||e.throwOnError||e.experimental_prefetchInRender)&&(t.isReset()||(e.retryOnMount=!1))},hq=e=>{k.useEffect(()=>{e.clearReset()},[e])},mq=({result:e,errorResetBoundary:t,throwOnError:r,query:n,suspense:a})=>e.isError&&!t.isReset()&&!e.isFetching&&n&&(a&&e.data===void 0||bD(r,[e.error,n])),pq=e=>{if(e.suspense){const r=a=>a==="static"?a:Math.max(a??1e3,1e3),n=e.staleTime;e.staleTime=typeof n=="function"?(...a)=>r(n(...a)):r(n),typeof e.gcTime=="number"&&(e.gcTime=Math.max(e.gcTime,1e3))}},xq=(e,t)=>e.isLoading&&e.isFetching&&!t,gq=(e,t)=>e?.suspense&&t.isPending,bE=(e,t,r)=>t.fetchOptimistic(e).catch(()=>{r.clearReset()});function vq(e,t,r){const n=oq(),a=fq(),i=Pt(),l=i.defaultQueryOptions(e);i.getDefaultOptions().queries?._experimental_beforeQuery?.(l),l._optimisticResults=n?"isRestoring":"optimistic",pq(l),dq(l,a),hq(a);const o=!i.getQueryCache().get(l.queryHash),[u]=k.useState(()=>new t(i,l)),f=u.getOptimisticResult(l),h=!n&&e.subscribed!==!1;if(k.useSyncExternalStore(k.useCallback(m=>{const g=h?u.subscribe(bi.batchCalls(m)):Gs;return u.updateResult(),g},[u,h]),()=>u.getCurrentResult(),()=>u.getCurrentResult()),k.useEffect(()=>{u.setOptions(l)},[l,u]),gq(l,f))throw bE(l,u,a);if(mq({result:f,errorResetBoundary:a,throwOnError:l.throwOnError,query:i.getQueryCache().get(l.queryHash),suspense:l.suspense}))throw f.error;return i.getDefaultOptions().queries?._experimental_afterQuery?.(l,f),l.experimental_prefetchInRender&&!U0&&xq(f,n)&&(o?bE(l,u,a):i.getQueryCache().get(l.queryHash)?.promise)?.catch(Gs).finally(()=>{u.updateResult()}),l.notifyOnChangeProps?f:u.trackResult(f)}function or(e,t){return vq(e,Zz)}function It(e,t){const r=Pt(),[n]=k.useState(()=>new aq(r,e));k.useEffect(()=>{n.setOptions(e)},[n,e]);const a=k.useSyncExternalStore(k.useCallback(l=>n.subscribe(bi.batchCalls(l)),[n]),()=>n.getCurrentResult(),()=>n.getCurrentResult()),i=k.useCallback((l,o)=>{n.mutate(l,o).catch(Gs)},[n]);if(a.error&&bD(n.options.throwOnError,[a.error]))throw a.error;return{...a,mutate:i,mutateAsync:a.mutate}}const yq="modulepreload",bq=function(e){return"/"+e},wE={},bw=function(t,r,n){let a=Promise.resolve();if(r&&r.length>0){let u=function(f){return Promise.all(f.map(h=>Promise.resolve(h).then(m=>({status:"fulfilled",value:m}),m=>({status:"rejected",reason:m}))))};document.getElementsByTagName("link");const l=document.querySelector("meta[property=csp-nonce]"),o=l?.nonce||l?.getAttribute("nonce");a=u(r.map(f=>{if(f=bq(f),f in wE)return;wE[f]=!0;const h=f.endsWith(".css"),m=h?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${f}"]${m}`))return;const g=document.createElement("link");if(g.rel=h?"stylesheet":yq,h||(g.as="script"),g.crossOrigin="",g.href=f,o&&g.setAttribute("nonce",o),document.head.appendChild(g),h)return new Promise((x,b)=>{g.addEventListener("load",x),g.addEventListener("error",()=>b(new Error(`Unable to preload CSS for ${f}`)))})}))}function i(l){const o=new Event("vite:preloadError",{cancelable:!0});if(o.payload=l,window.dispatchEvent(o),!o.defaultPrevented)throw l}return a.then(l=>{for(const o of l||[])o.status==="rejected"&&i(o.reason);return t().catch(i)})};var wq=function(){return null};/**
 * react-router v7.9.4
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */var NE="popstate";function Nq(e={}){function t(n,a){let{pathname:i,search:l,hash:o}=n.location;return W4("",{pathname:i,search:l,hash:o},a.state&&a.state.usr||null,a.state&&a.state.key||"default")}function r(n,a){return typeof a=="string"?a:Ix(a)}return jq(t,r,null,e)}function fa(e,t){if(e===!1||e===null||typeof e>"u")throw new Error(t)}function Bo(e,t){if(!e){typeof console<"u"&&console.warn(t);try{throw new Error(t)}catch{}}}function _q(){return Math.random().toString(36).substring(2,10)}function _E(e,t){return{usr:e.state,key:e.key,idx:t}}function W4(e,t,r=null,n){return{pathname:typeof e=="string"?e:e.pathname,search:"",hash:"",...typeof t=="string"?ep(t):t,state:r,key:t&&t.key||n||_q()}}function Ix({pathname:e="/",search:t="",hash:r=""}){return t&&t!=="?"&&(e+=t.charAt(0)==="?"?t:"?"+t),r&&r!=="#"&&(e+=r.charAt(0)==="#"?r:"#"+r),e}function ep(e){let t={};if(e){let r=e.indexOf("#");r>=0&&(t.hash=e.substring(r),e=e.substring(0,r));let n=e.indexOf("?");n>=0&&(t.search=e.substring(n),e=e.substring(0,n)),e&&(t.pathname=e)}return t}function jq(e,t,r,n={}){let{window:a=document.defaultView,v5Compat:i=!1}=n,l=a.history,o="POP",u=null,f=h();f==null&&(f=0,l.replaceState({...l.state,idx:f},""));function h(){return(l.state||{idx:null}).idx}function m(){o="POP";let w=h(),N=w==null?null:w-f;f=w,u&&u({action:o,location:v.location,delta:N})}function g(w,N){o="PUSH";let E=W4(v.location,w,N);f=h()+1;let j=_E(E,f),T=v.createHref(E);try{l.pushState(j,"",T)}catch(O){if(O instanceof DOMException&&O.name==="DataCloneError")throw O;a.location.assign(T)}i&&u&&u({action:o,location:v.location,delta:1})}function x(w,N){o="REPLACE";let E=W4(v.location,w,N);f=h();let j=_E(E,f),T=v.createHref(E);l.replaceState(j,"",T),i&&u&&u({action:o,location:v.location,delta:0})}function b(w){return Sq(w)}let v={get action(){return o},get location(){return e(a,l)},listen(w){if(u)throw new Error("A history only accepts one active listener");return a.addEventListener(NE,m),u=w,()=>{a.removeEventListener(NE,m),u=null}},createHref(w){return t(a,w)},createURL:b,encodeLocation(w){let N=b(w);return{pathname:N.pathname,search:N.search,hash:N.hash}},push:g,replace:x,go(w){return l.go(w)}};return v}function Sq(e,t=!1){let r="http://localhost";typeof window<"u"&&(r=window.location.origin!=="null"?window.location.origin:window.location.href),fa(r,"No window.location.(origin|href) available to create URL");let n=typeof e=="string"?e:Ix(e);return n=n.replace(/ $/,"%20"),!t&&n.startsWith("//")&&(n=r+n),new URL(n,r)}function kD(e,t,r="/"){return Aq(e,t,r,!1)}function Aq(e,t,r,n){let a=typeof t=="string"?ep(t):t,i=ff(a.pathname||"/",r);if(i==null)return null;let l=CD(e);Eq(l);let o=null;for(let u=0;o==null&&u<l.length;++u){let f=Iq(i);o=Mq(l[u],f,n)}return o}function CD(e,t=[],r=[],n="",a=!1){let i=(l,o,u=a,f)=>{let h={relativePath:f===void 0?l.path||"":f,caseSensitive:l.caseSensitive===!0,childrenIndex:o,route:l};if(h.relativePath.startsWith("/")){if(!h.relativePath.startsWith(n)&&u)return;fa(h.relativePath.startsWith(n),`Absolute route path "${h.relativePath}" nested under path "${n}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),h.relativePath=h.relativePath.slice(n.length)}let m=nf([n,h.relativePath]),g=r.concat(h);l.children&&l.children.length>0&&(fa(l.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${m}".`),CD(l.children,t,g,m,u)),!(l.path==null&&!l.index)&&t.push({path:m,score:Pq(m,l.index),routesMeta:g})};return e.forEach((l,o)=>{if(l.path===""||!l.path?.includes("?"))i(l,o);else for(let u of TD(l.path))i(l,o,!0,u)}),t}function TD(e){let t=e.split("/");if(t.length===0)return[];let[r,...n]=t,a=r.endsWith("?"),i=r.replace(/\?$/,"");if(n.length===0)return a?[i,""]:[i];let l=TD(n.join("/")),o=[];return o.push(...l.map(u=>u===""?i:[i,u].join("/"))),a&&o.push(...l),o.map(u=>e.startsWith("/")&&u===""?"/":u)}function Eq(e){e.sort((t,r)=>t.score!==r.score?r.score-t.score:Lq(t.routesMeta.map(n=>n.childrenIndex),r.routesMeta.map(n=>n.childrenIndex)))}var kq=/^:[\w-]+$/,Cq=3,Tq=2,Oq=1,Dq=10,Fq=-2,jE=e=>e==="*";function Pq(e,t){let r=e.split("/"),n=r.length;return r.some(jE)&&(n+=Fq),t&&(n+=Tq),r.filter(a=>!jE(a)).reduce((a,i)=>a+(kq.test(i)?Cq:i===""?Oq:Dq),n)}function Lq(e,t){return e.length===t.length&&e.slice(0,-1).every((n,a)=>n===t[a])?e[e.length-1]-t[t.length-1]:0}function Mq(e,t,r=!1){let{routesMeta:n}=e,a={},i="/",l=[];for(let o=0;o<n.length;++o){let u=n[o],f=o===n.length-1,h=i==="/"?t:t.slice(i.length)||"/",m=Wv({path:u.relativePath,caseSensitive:u.caseSensitive,end:f},h),g=u.route;if(!m&&f&&r&&!n[n.length-1].route.index&&(m=Wv({path:u.relativePath,caseSensitive:u.caseSensitive,end:!1},h)),!m)return null;Object.assign(a,m.params),l.push({params:a,pathname:nf([i,m.pathname]),pathnameBase:qq(nf([i,m.pathnameBase])),route:g}),m.pathnameBase!=="/"&&(i=nf([i,m.pathnameBase]))}return l}function Wv(e,t){typeof e=="string"&&(e={path:e,caseSensitive:!1,end:!0});let[r,n]=Rq(e.path,e.caseSensitive,e.end),a=t.match(r);if(!a)return null;let i=a[0],l=i.replace(/(.)\/+$/,"$1"),o=a.slice(1);return{params:n.reduce((f,{paramName:h,isOptional:m},g)=>{if(h==="*"){let b=o[g]||"";l=i.slice(0,i.length-b.length).replace(/(.)\/+$/,"$1")}const x=o[g];return m&&!x?f[h]=void 0:f[h]=(x||"").replace(/%2F/g,"/"),f},{}),pathname:i,pathnameBase:l,pattern:e}}function Rq(e,t=!1,r=!0){Bo(e==="*"||!e.endsWith("*")||e.endsWith("/*"),`Route path "${e}" will be treated as if it were "${e.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${e.replace(/\*$/,"/*")}".`);let n=[],a="^"+e.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(l,o,u)=>(n.push({paramName:o,isOptional:u!=null}),u?"/?([^\\/]+)?":"/([^\\/]+)")).replace(/\/([\w-]+)\?(\/|$)/g,"(/$1)?$2");return e.endsWith("*")?(n.push({paramName:"*"}),a+=e==="*"||e==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):r?a+="\\/*$":e!==""&&e!=="/"&&(a+="(?:(?=\\/|$))"),[new RegExp(a,t?void 0:"i"),n]}function Iq(e){try{return e.split("/").map(t=>decodeURIComponent(t).replace(/\//g,"%2F")).join("/")}catch(t){return Bo(!1,`The URL path "${e}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${t}).`),e}}function ff(e,t){if(t==="/")return e;if(!e.toLowerCase().startsWith(t.toLowerCase()))return null;let r=t.endsWith("/")?t.length-1:t.length,n=e.charAt(r);return n&&n!=="/"?null:e.slice(r)||"/"}function Bq(e,t="/"){let{pathname:r,search:n="",hash:a=""}=typeof e=="string"?ep(e):e;return{pathname:r?r.startsWith("/")?r:Uq(r,t):t,search:$q(n),hash:Hq(a)}}function Uq(e,t){let r=t.replace(/\/+$/,"").split("/");return e.split("/").forEach(a=>{a===".."?r.length>1&&r.pop():a!=="."&&r.push(a)}),r.length>1?r.join("/"):"/"}function ww(e,t,r,n){return`Cannot include a '${e}' character in a manually specified \`to.${t}\` field [${JSON.stringify(n)}].  Please separate it out to the \`to.${r}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function zq(e){return e.filter((t,r)=>r===0||t.route.path&&t.route.path.length>0)}function E_(e){let t=zq(e);return t.map((r,n)=>n===t.length-1?r.pathname:r.pathnameBase)}function k_(e,t,r,n=!1){let a;typeof e=="string"?a=ep(e):(a={...e},fa(!a.pathname||!a.pathname.includes("?"),ww("?","pathname","search",a)),fa(!a.pathname||!a.pathname.includes("#"),ww("#","pathname","hash",a)),fa(!a.search||!a.search.includes("#"),ww("#","search","hash",a)));let i=e===""||a.pathname==="",l=i?"/":a.pathname,o;if(l==null)o=r;else{let m=t.length-1;if(!n&&l.startsWith("..")){let g=l.split("/");for(;g[0]==="..";)g.shift(),m-=1;a.pathname=g.join("/")}o=m>=0?t[m]:"/"}let u=Bq(a,o),f=l&&l!=="/"&&l.endsWith("/"),h=(i||l===".")&&r.endsWith("/");return!u.pathname.endsWith("/")&&(f||h)&&(u.pathname+="/"),u}var nf=e=>e.join("/").replace(/\/\/+/g,"/"),qq=e=>e.replace(/\/+$/,"").replace(/^\/*/,"/"),$q=e=>!e||e==="?"?"":e.startsWith("?")?e:"?"+e,Hq=e=>!e||e==="#"?"":e.startsWith("#")?e:"#"+e;function Vq(e){return e!=null&&typeof e.status=="number"&&typeof e.statusText=="string"&&typeof e.internal=="boolean"&&"data"in e}var OD=["POST","PUT","PATCH","DELETE"];new Set(OD);var Wq=["GET",...OD];new Set(Wq);var tp=k.createContext(null);tp.displayName="DataRouter";var t2=k.createContext(null);t2.displayName="DataRouterState";k.createContext(!1);var DD=k.createContext({isTransitioning:!1});DD.displayName="ViewTransition";var Gq=k.createContext(new Map);Gq.displayName="Fetchers";var Kq=k.createContext(null);Kq.displayName="Await";var Oc=k.createContext(null);Oc.displayName="Navigation";var wg=k.createContext(null);wg.displayName="Location";var Dc=k.createContext({outlet:null,matches:[],isDataRoute:!1});Dc.displayName="Route";var C_=k.createContext(null);C_.displayName="RouteError";function Yq(e,{relative:t}={}){fa(rp(),"useHref() may be used only in the context of a <Router> component.");let{basename:r,navigator:n}=k.useContext(Oc),{hash:a,pathname:i,search:l}=Ng(e,{relative:t}),o=i;return r!=="/"&&(o=i==="/"?r:nf([r,i])),n.createHref({pathname:o,search:l,hash:a})}function rp(){return k.useContext(wg)!=null}function Fc(){return fa(rp(),"useLocation() may be used only in the context of a <Router> component."),k.useContext(wg).location}var FD="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function PD(e){k.useContext(Oc).static||k.useLayoutEffect(e)}function Fn(){let{isDataRoute:e}=k.useContext(Dc);return e?o$():Xq()}function Xq(){fa(rp(),"useNavigate() may be used only in the context of a <Router> component.");let e=k.useContext(tp),{basename:t,navigator:r}=k.useContext(Oc),{matches:n}=k.useContext(Dc),{pathname:a}=Fc(),i=JSON.stringify(E_(n)),l=k.useRef(!1);return PD(()=>{l.current=!0}),k.useCallback((u,f={})=>{if(Bo(l.current,FD),!l.current)return;if(typeof u=="number"){r.go(u);return}let h=k_(u,JSON.parse(i),a,f.relative==="path");e==null&&t!=="/"&&(h.pathname=h.pathname==="/"?t:nf([t,h.pathname])),(f.replace?r.replace:r.push)(h,f.state,f)},[t,r,i,a,e])}k.createContext(null);function Vo(){let{matches:e}=k.useContext(Dc),t=e[e.length-1];return t?t.params:{}}function Ng(e,{relative:t}={}){let{matches:r}=k.useContext(Dc),{pathname:n}=Fc(),a=JSON.stringify(E_(r));return k.useMemo(()=>k_(e,JSON.parse(a),n,t==="path"),[e,a,n,t])}function Qq(e,t){return LD(e,t)}function LD(e,t,r,n,a){fa(rp(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:i}=k.useContext(Oc),{matches:l}=k.useContext(Dc),o=l[l.length-1],u=o?o.params:{},f=o?o.pathname:"/",h=o?o.pathnameBase:"/",m=o&&o.route;{let E=m&&m.path||"";MD(f,!m||E.endsWith("*")||E.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${f}" (under <Route path="${E}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${E}"> to <Route path="${E==="/"?"*":`${E}/*`}">.`)}let g=Fc(),x;if(t){let E=typeof t=="string"?ep(t):t;fa(h==="/"||E.pathname?.startsWith(h),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${h}" but pathname "${E.pathname}" was given in the \`location\` prop.`),x=E}else x=g;let b=x.pathname||"/",v=b;if(h!=="/"){let E=h.replace(/^\//,"").split("/");v="/"+b.replace(/^\//,"").split("/").slice(E.length).join("/")}let w=kD(e,{pathname:v});Bo(m||w!=null,`No routes matched location "${x.pathname}${x.search}${x.hash}" `),Bo(w==null||w[w.length-1].route.element!==void 0||w[w.length-1].route.Component!==void 0||w[w.length-1].route.lazy!==void 0,`Matched leaf route at location "${x.pathname}${x.search}${x.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let N=r$(w&&w.map(E=>Object.assign({},E,{params:Object.assign({},u,E.params),pathname:nf([h,i.encodeLocation?i.encodeLocation(E.pathname.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:E.pathname]),pathnameBase:E.pathnameBase==="/"?h:nf([h,i.encodeLocation?i.encodeLocation(E.pathnameBase.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:E.pathnameBase])})),l,r,n,a);return t&&N?k.createElement(wg.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...x},navigationType:"POP"}},N):N}function Zq(){let e=l$(),t=Vq(e)?`${e.status} ${e.statusText}`:e instanceof Error?e.message:JSON.stringify(e),r=e instanceof Error?e.stack:null,n="rgba(200,200,200, 0.5)",a={padding:"0.5rem",backgroundColor:n},i={padding:"2px 4px",backgroundColor:n},l=null;return console.error("Error handled by React Router default ErrorBoundary:",e),l=k.createElement(k.Fragment,null,k.createElement("p",null," Hey developer "),k.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",k.createElement("code",{style:i},"ErrorBoundary")," or"," ",k.createElement("code",{style:i},"errorElement")," prop on your route.")),k.createElement(k.Fragment,null,k.createElement("h2",null,"Unexpected Application Error!"),k.createElement("h3",{style:{fontStyle:"italic"}},t),r?k.createElement("pre",{style:a},r):null,l)}var Jq=k.createElement(Zq,null),e$=class extends k.Component{constructor(e){super(e),this.state={location:e.location,revalidation:e.revalidation,error:e.error}}static getDerivedStateFromError(e){return{error:e}}static getDerivedStateFromProps(e,t){return t.location!==e.location||t.revalidation!=="idle"&&e.revalidation==="idle"?{error:e.error,location:e.location,revalidation:e.revalidation}:{error:e.error!==void 0?e.error:t.error,location:t.location,revalidation:e.revalidation||t.revalidation}}componentDidCatch(e,t){this.props.unstable_onError?this.props.unstable_onError(e,t):console.error("React Router caught the following error during render",e)}render(){return this.state.error!==void 0?k.createElement(Dc.Provider,{value:this.props.routeContext},k.createElement(C_.Provider,{value:this.state.error,children:this.props.component})):this.props.children}};function t$({routeContext:e,match:t,children:r}){let n=k.useContext(tp);return n&&n.static&&n.staticContext&&(t.route.errorElement||t.route.ErrorBoundary)&&(n.staticContext._deepestRenderedBoundaryId=t.route.id),k.createElement(Dc.Provider,{value:e},r)}function r$(e,t=[],r=null,n=null,a=null){if(e==null){if(!r)return null;if(r.errors)e=r.matches;else if(t.length===0&&!r.initialized&&r.matches.length>0)e=r.matches;else return null}let i=e,l=r?.errors;if(l!=null){let f=i.findIndex(h=>h.route.id&&l?.[h.route.id]!==void 0);fa(f>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(l).join(",")}`),i=i.slice(0,Math.min(i.length,f+1))}let o=!1,u=-1;if(r)for(let f=0;f<i.length;f++){let h=i[f];if((h.route.HydrateFallback||h.route.hydrateFallbackElement)&&(u=f),h.route.id){let{loaderData:m,errors:g}=r,x=h.route.loader&&!m.hasOwnProperty(h.route.id)&&(!g||g[h.route.id]===void 0);if(h.route.lazy||x){o=!0,u>=0?i=i.slice(0,u+1):i=[i[0]];break}}}return i.reduceRight((f,h,m)=>{let g,x=!1,b=null,v=null;r&&(g=l&&h.route.id?l[h.route.id]:void 0,b=h.route.errorElement||Jq,o&&(u<0&&m===0?(MD("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),x=!0,v=null):u===m&&(x=!0,v=h.route.hydrateFallbackElement||null)));let w=t.concat(i.slice(0,m+1)),N=()=>{let E;return g?E=b:x?E=v:h.route.Component?E=k.createElement(h.route.Component,null):h.route.element?E=h.route.element:E=f,k.createElement(t$,{match:h,routeContext:{outlet:f,matches:w,isDataRoute:r!=null},children:E})};return r&&(h.route.ErrorBoundary||h.route.errorElement||m===0)?k.createElement(e$,{location:r.location,revalidation:r.revalidation,component:b,error:g,children:N(),routeContext:{outlet:null,matches:w,isDataRoute:!0},unstable_onError:n}):N()},null)}function T_(e){return`${e} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function n$(e){let t=k.useContext(tp);return fa(t,T_(e)),t}function a$(e){let t=k.useContext(t2);return fa(t,T_(e)),t}function i$(e){let t=k.useContext(Dc);return fa(t,T_(e)),t}function O_(e){let t=i$(e),r=t.matches[t.matches.length-1];return fa(r.route.id,`${e} can only be used on routes that contain a unique "id"`),r.route.id}function s$(){return O_("useRouteId")}function l$(){let e=k.useContext(C_),t=a$("useRouteError"),r=O_("useRouteError");return e!==void 0?e:t.errors?.[r]}function o$(){let{router:e}=n$("useNavigate"),t=O_("useNavigate"),r=k.useRef(!1);return PD(()=>{r.current=!0}),k.useCallback(async(a,i={})=>{Bo(r.current,FD),r.current&&(typeof a=="number"?e.navigate(a):await e.navigate(a,{fromRouteId:t,...i}))},[e,t])}var SE={};function MD(e,t,r){!t&&!SE[e]&&(SE[e]=!0,Bo(!1,r))}k.memo(c$);function c$({routes:e,future:t,state:r,unstable_onError:n}){return LD(e,void 0,r,n,t)}function Sm({to:e,replace:t,state:r,relative:n}){fa(rp(),"<Navigate> may be used only in the context of a <Router> component.");let{static:a}=k.useContext(Oc);Bo(!a,"<Navigate> must not be used on the initial render in a <StaticRouter>. This is a no-op, but you should modify your code so the <Navigate> is only ever rendered in response to some user interaction or state change.");let{matches:i}=k.useContext(Dc),{pathname:l}=Fc(),o=Fn(),u=k_(e,E_(i),l,n==="path"),f=JSON.stringify(u);return k.useEffect(()=>{o(JSON.parse(f),{replace:t,state:r,relative:n})},[o,f,n,t,r]),null}function Br(e){fa(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function u$({basename:e="/",children:t=null,location:r,navigationType:n="POP",navigator:a,static:i=!1}){fa(!rp(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let l=e.replace(/^\/*/,"/"),o=k.useMemo(()=>({basename:l,navigator:a,static:i,future:{}}),[l,a,i]);typeof r=="string"&&(r=ep(r));let{pathname:u="/",search:f="",hash:h="",state:m=null,key:g="default"}=r,x=k.useMemo(()=>{let b=ff(u,l);return b==null?null:{location:{pathname:b,search:f,hash:h,state:m,key:g},navigationType:n}},[l,u,f,h,m,g,n]);return Bo(x!=null,`<Router basename="${l}"> is not able to match the URL "${u}${f}${h}" because it does not start with the basename, so the <Router> won't render anything.`),x==null?null:k.createElement(Oc.Provider,{value:o},k.createElement(wg.Provider,{children:t,value:x}))}function f$({children:e,location:t}){return Qq(G4(e),t)}function G4(e,t=[]){let r=[];return k.Children.forEach(e,(n,a)=>{if(!k.isValidElement(n))return;let i=[...t,a];if(n.type===k.Fragment){r.push.apply(r,G4(n.props.children,i));return}fa(n.type===Br,`[${typeof n.type=="string"?n.type:n.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),fa(!n.props.index||!n.props.children,"An index route cannot have child routes.");let l={id:n.props.id||i.join("-"),caseSensitive:n.props.caseSensitive,element:n.props.element,Component:n.props.Component,index:n.props.index,path:n.props.path,middleware:n.props.middleware,loader:n.props.loader,action:n.props.action,hydrateFallbackElement:n.props.hydrateFallbackElement,HydrateFallback:n.props.HydrateFallback,errorElement:n.props.errorElement,ErrorBoundary:n.props.ErrorBoundary,hasErrorBoundary:n.props.hasErrorBoundary===!0||n.props.ErrorBoundary!=null||n.props.errorElement!=null,shouldRevalidate:n.props.shouldRevalidate,handle:n.props.handle,lazy:n.props.lazy};n.props.children&&(l.children=G4(n.props.children,i)),r.push(l)}),r}var Dv="get",Fv="application/x-www-form-urlencoded";function r2(e){return e!=null&&typeof e.tagName=="string"}function d$(e){return r2(e)&&e.tagName.toLowerCase()==="button"}function h$(e){return r2(e)&&e.tagName.toLowerCase()==="form"}function m$(e){return r2(e)&&e.tagName.toLowerCase()==="input"}function p$(e){return!!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)}function x$(e,t){return e.button===0&&(!t||t==="_self")&&!p$(e)}function K4(e=""){return new URLSearchParams(typeof e=="string"||Array.isArray(e)||e instanceof URLSearchParams?e:Object.keys(e).reduce((t,r)=>{let n=e[r];return t.concat(Array.isArray(n)?n.map(a=>[r,a]):[[r,n]])},[]))}function g$(e,t){let r=K4(e);return t&&t.forEach((n,a)=>{r.has(a)||t.getAll(a).forEach(i=>{r.append(a,i)})}),r}var W1=null;function v$(){if(W1===null)try{new FormData(document.createElement("form"),0),W1=!1}catch{W1=!0}return W1}var y$=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function Nw(e){return e!=null&&!y$.has(e)?(Bo(!1,`"${e}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${Fv}"`),null):e}function b$(e,t){let r,n,a,i,l;if(h$(e)){let o=e.getAttribute("action");n=o?ff(o,t):null,r=e.getAttribute("method")||Dv,a=Nw(e.getAttribute("enctype"))||Fv,i=new FormData(e)}else if(d$(e)||m$(e)&&(e.type==="submit"||e.type==="image")){let o=e.form;if(o==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let u=e.getAttribute("formaction")||o.getAttribute("action");if(n=u?ff(u,t):null,r=e.getAttribute("formmethod")||o.getAttribute("method")||Dv,a=Nw(e.getAttribute("formenctype"))||Nw(o.getAttribute("enctype"))||Fv,i=new FormData(o,e),!v$()){let{name:f,type:h,value:m}=e;if(h==="image"){let g=f?`${f}.`:"";i.append(`${g}x`,"0"),i.append(`${g}y`,"0")}else f&&i.append(f,m)}}else{if(r2(e))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');r=Dv,n=null,a=Fv,l=e}return i&&a==="text/plain"&&(l=i,i=void 0),{action:n,method:r.toLowerCase(),encType:a,formData:i,body:l}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");function D_(e,t){if(e===!1||e===null||typeof e>"u")throw new Error(t)}function w$(e,t,r){let n=typeof e=="string"?new URL(e,typeof window>"u"?"server://singlefetch/":window.location.origin):e;return n.pathname==="/"?n.pathname=`_root.${r}`:t&&ff(n.pathname,t)==="/"?n.pathname=`${t.replace(/\/$/,"")}/_root.${r}`:n.pathname=`${n.pathname.replace(/\/$/,"")}.${r}`,n}async function N$(e,t){if(e.id in t)return t[e.id];try{let r=await import(e.module);return t[e.id]=r,r}catch(r){return console.error(`Error loading route module \`${e.module}\`, reloading page...`),console.error(r),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function _$(e){return e==null?!1:e.href==null?e.rel==="preload"&&typeof e.imageSrcSet=="string"&&typeof e.imageSizes=="string":typeof e.rel=="string"&&typeof e.href=="string"}async function j$(e,t,r){let n=await Promise.all(e.map(async a=>{let i=t.routes[a.route.id];if(i){let l=await N$(i,r);return l.links?l.links():[]}return[]}));return k$(n.flat(1).filter(_$).filter(a=>a.rel==="stylesheet"||a.rel==="preload").map(a=>a.rel==="stylesheet"?{...a,rel:"prefetch",as:"style"}:{...a,rel:"prefetch"}))}function AE(e,t,r,n,a,i){let l=(u,f)=>r[f]?u.route.id!==r[f].route.id:!0,o=(u,f)=>r[f].pathname!==u.pathname||r[f].route.path?.endsWith("*")&&r[f].params["*"]!==u.params["*"];return i==="assets"?t.filter((u,f)=>l(u,f)||o(u,f)):i==="data"?t.filter((u,f)=>{let h=n.routes[u.route.id];if(!h||!h.hasLoader)return!1;if(l(u,f)||o(u,f))return!0;if(u.route.shouldRevalidate){let m=u.route.shouldRevalidate({currentUrl:new URL(a.pathname+a.search+a.hash,window.origin),currentParams:r[0]?.params||{},nextUrl:new URL(e,window.origin),nextParams:u.params,defaultShouldRevalidate:!0});if(typeof m=="boolean")return m}return!0}):[]}function S$(e,t,{includeHydrateFallback:r}={}){return A$(e.map(n=>{let a=t.routes[n.route.id];if(!a)return[];let i=[a.module];return a.clientActionModule&&(i=i.concat(a.clientActionModule)),a.clientLoaderModule&&(i=i.concat(a.clientLoaderModule)),r&&a.hydrateFallbackModule&&(i=i.concat(a.hydrateFallbackModule)),a.imports&&(i=i.concat(a.imports)),i}).flat(1))}function A$(e){return[...new Set(e)]}function E$(e){let t={},r=Object.keys(e).sort();for(let n of r)t[n]=e[n];return t}function k$(e,t){let r=new Set;return new Set(t),e.reduce((n,a)=>{let i=JSON.stringify(E$(a));return r.has(i)||(r.add(i),n.push({key:i,link:a})),n},[])}function RD(){let e=k.useContext(tp);return D_(e,"You must render this element inside a <DataRouterContext.Provider> element"),e}function C$(){let e=k.useContext(t2);return D_(e,"You must render this element inside a <DataRouterStateContext.Provider> element"),e}var F_=k.createContext(void 0);F_.displayName="FrameworkContext";function ID(){let e=k.useContext(F_);return D_(e,"You must render this element inside a <HydratedRouter> element"),e}function T$(e,t){let r=k.useContext(F_),[n,a]=k.useState(!1),[i,l]=k.useState(!1),{onFocus:o,onBlur:u,onMouseEnter:f,onMouseLeave:h,onTouchStart:m}=t,g=k.useRef(null);k.useEffect(()=>{if(e==="render"&&l(!0),e==="viewport"){let v=N=>{N.forEach(E=>{l(E.isIntersecting)})},w=new IntersectionObserver(v,{threshold:.5});return g.current&&w.observe(g.current),()=>{w.disconnect()}}},[e]),k.useEffect(()=>{if(n){let v=setTimeout(()=>{l(!0)},100);return()=>{clearTimeout(v)}}},[n]);let x=()=>{a(!0)},b=()=>{a(!1),l(!1)};return r?e!=="intent"?[i,g,{}]:[i,g,{onFocus:ix(o,x),onBlur:ix(u,b),onMouseEnter:ix(f,x),onMouseLeave:ix(h,b),onTouchStart:ix(m,x)}]:[!1,g,{}]}function ix(e,t){return r=>{e&&e(r),r.defaultPrevented||t(r)}}function O$({page:e,...t}){let{router:r}=RD(),n=k.useMemo(()=>kD(r.routes,e,r.basename),[r.routes,e,r.basename]);return n?k.createElement(F$,{page:e,matches:n,...t}):null}function D$(e){let{manifest:t,routeModules:r}=ID(),[n,a]=k.useState([]);return k.useEffect(()=>{let i=!1;return j$(e,t,r).then(l=>{i||a(l)}),()=>{i=!0}},[e,t,r]),n}function F$({page:e,matches:t,...r}){let n=Fc(),{manifest:a,routeModules:i}=ID(),{basename:l}=RD(),{loaderData:o,matches:u}=C$(),f=k.useMemo(()=>AE(e,t,u,a,n,"data"),[e,t,u,a,n]),h=k.useMemo(()=>AE(e,t,u,a,n,"assets"),[e,t,u,a,n]),m=k.useMemo(()=>{if(e===n.pathname+n.search+n.hash)return[];let b=new Set,v=!1;if(t.forEach(N=>{let E=a.routes[N.route.id];!E||!E.hasLoader||(!f.some(j=>j.route.id===N.route.id)&&N.route.id in o&&i[N.route.id]?.shouldRevalidate||E.hasClientLoader?v=!0:b.add(N.route.id))}),b.size===0)return[];let w=w$(e,l,"data");return v&&b.size>0&&w.searchParams.set("_routes",t.filter(N=>b.has(N.route.id)).map(N=>N.route.id).join(",")),[w.pathname+w.search]},[l,o,n,a,f,t,e,i]),g=k.useMemo(()=>S$(h,a),[h,a]),x=D$(h);return k.createElement(k.Fragment,null,m.map(b=>k.createElement("link",{key:b,rel:"prefetch",as:"fetch",href:b,...r})),g.map(b=>k.createElement("link",{key:b,rel:"modulepreload",href:b,...r})),x.map(({key:b,link:v})=>k.createElement("link",{key:b,nonce:r.nonce,...v})))}function P$(...e){return t=>{e.forEach(r=>{typeof r=="function"?r(t):r!=null&&(r.current=t)})}}var BD=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{BD&&(window.__reactRouterVersion="7.9.4")}catch{}function L$({basename:e,children:t,window:r}){let n=k.useRef();n.current==null&&(n.current=Nq({window:r,v5Compat:!0}));let a=n.current,[i,l]=k.useState({action:a.action,location:a.location}),o=k.useCallback(u=>{k.startTransition(()=>l(u))},[l]);return k.useLayoutEffect(()=>a.listen(o),[a,o]),k.createElement(u$,{basename:e,children:t,location:i.location,navigationType:i.action,navigator:a})}var UD=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,Ma=k.forwardRef(function({onClick:t,discover:r="render",prefetch:n="none",relative:a,reloadDocument:i,replace:l,state:o,target:u,to:f,preventScrollReset:h,viewTransition:m,...g},x){let{basename:b}=k.useContext(Oc),v=typeof f=="string"&&UD.test(f),w,N=!1;if(typeof f=="string"&&v&&(w=f,BD))try{let B=new URL(window.location.href),H=f.startsWith("//")?new URL(B.protocol+f):new URL(f),P=ff(H.pathname,b);H.origin===B.origin&&P!=null?f=P+H.search+H.hash:N=!0}catch{Bo(!1,`<Link to="${f}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}let E=Yq(f,{relative:a}),[j,T,O]=T$(n,g),F=B$(f,{replace:l,state:o,target:u,preventScrollReset:h,relative:a,viewTransition:m});function D(B){t&&t(B),B.defaultPrevented||F(B)}let L=k.createElement("a",{...g,...O,href:w||E,onClick:N||i?t:D,ref:P$(x,T),target:u,"data-discover":!v&&r==="render"?"true":void 0});return j&&!v?k.createElement(k.Fragment,null,L,k.createElement(O$,{page:E})):L});Ma.displayName="Link";var M$=k.forwardRef(function({"aria-current":t="page",caseSensitive:r=!1,className:n="",end:a=!1,style:i,to:l,viewTransition:o,children:u,...f},h){let m=Ng(l,{relative:f.relative}),g=Fc(),x=k.useContext(t2),{navigator:b,basename:v}=k.useContext(Oc),w=x!=null&&H$(m)&&o===!0,N=b.encodeLocation?b.encodeLocation(m).pathname:m.pathname,E=g.pathname,j=x&&x.navigation&&x.navigation.location?x.navigation.location.pathname:null;r||(E=E.toLowerCase(),j=j?j.toLowerCase():null,N=N.toLowerCase()),j&&v&&(j=ff(j,v)||j);const T=N!=="/"&&N.endsWith("/")?N.length-1:N.length;let O=E===N||!a&&E.startsWith(N)&&E.charAt(T)==="/",F=j!=null&&(j===N||!a&&j.startsWith(N)&&j.charAt(N.length)==="/"),D={isActive:O,isPending:F,isTransitioning:w},L=O?t:void 0,B;typeof n=="function"?B=n(D):B=[n,O?"active":null,F?"pending":null,w?"transitioning":null].filter(Boolean).join(" ");let H=typeof i=="function"?i(D):i;return k.createElement(Ma,{...f,"aria-current":L,className:B,ref:h,style:H,to:l,viewTransition:o},typeof u=="function"?u(D):u)});M$.displayName="NavLink";var R$=k.forwardRef(({discover:e="render",fetcherKey:t,navigate:r,reloadDocument:n,replace:a,state:i,method:l=Dv,action:o,onSubmit:u,relative:f,preventScrollReset:h,viewTransition:m,...g},x)=>{let b=q$(),v=$$(o,{relative:f}),w=l.toLowerCase()==="get"?"get":"post",N=typeof o=="string"&&UD.test(o),E=j=>{if(u&&u(j),j.defaultPrevented)return;j.preventDefault();let T=j.nativeEvent.submitter,O=T?.getAttribute("formmethod")||l;b(T||j.currentTarget,{fetcherKey:t,method:O,navigate:r,replace:a,state:i,relative:f,preventScrollReset:h,viewTransition:m})};return k.createElement("form",{ref:x,method:w,action:v,onSubmit:n?u:E,...g,"data-discover":!N&&e==="render"?"true":void 0})});R$.displayName="Form";function I$(e){return`${e} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function zD(e){let t=k.useContext(tp);return fa(t,I$(e)),t}function B$(e,{target:t,replace:r,state:n,preventScrollReset:a,relative:i,viewTransition:l}={}){let o=Fn(),u=Fc(),f=Ng(e,{relative:i});return k.useCallback(h=>{if(x$(h,t)){h.preventDefault();let m=r!==void 0?r:Ix(u)===Ix(f);o(e,{replace:m,state:n,preventScrollReset:a,relative:i,viewTransition:l})}},[u,o,f,r,n,t,e,a,i,l])}function qD(e){Bo(typeof URLSearchParams<"u","You cannot use the `useSearchParams` hook in a browser that does not support the URLSearchParams API. If you need to support Internet Explorer 11, we recommend you load a polyfill such as https://github.com/ungap/url-search-params.");let t=k.useRef(K4(e)),r=k.useRef(!1),n=Fc(),a=k.useMemo(()=>g$(n.search,r.current?null:t.current),[n.search]),i=Fn(),l=k.useCallback((o,u)=>{const f=K4(typeof o=="function"?o(new URLSearchParams(a)):o);r.current=!0,i("?"+f,u)},[i,a]);return[a,l]}var U$=0,z$=()=>`__${String(++U$)}__`;function q$(){let{router:e}=zD("useSubmit"),{basename:t}=k.useContext(Oc),r=s$();return k.useCallback(async(n,a={})=>{let{action:i,method:l,encType:o,formData:u,body:f}=b$(n,t);if(a.navigate===!1){let h=a.fetcherKey||z$();await e.fetch(h,r,a.action||i,{preventScrollReset:a.preventScrollReset,formData:u,body:f,formMethod:a.method||l,formEncType:a.encType||o,flushSync:a.flushSync})}else await e.navigate(a.action||i,{preventScrollReset:a.preventScrollReset,formData:u,body:f,formMethod:a.method||l,formEncType:a.encType||o,replace:a.replace,state:a.state,fromRouteId:r,flushSync:a.flushSync,viewTransition:a.viewTransition})},[e,t,r])}function $$(e,{relative:t}={}){let{basename:r}=k.useContext(Oc),n=k.useContext(Dc);fa(n,"useFormAction must be used inside a RouteContext");let[a]=n.matches.slice(-1),i={...Ng(e||".",{relative:t})},l=Fc();if(e==null){i.search=l.search;let o=new URLSearchParams(i.search),u=o.getAll("index");if(u.some(h=>h==="")){o.delete("index"),u.filter(m=>m).forEach(m=>o.append("index",m));let h=o.toString();i.search=h?`?${h}`:""}}return(!e||e===".")&&a.route.index&&(i.search=i.search?i.search.replace(/^\?/,"?index&"):"?index"),r!=="/"&&(i.pathname=i.pathname==="/"?r:nf([r,i.pathname])),Ix(i)}function H$(e,{relative:t}={}){let r=k.useContext(DD);fa(r!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:n}=zD("useViewTransitionState"),a=Ng(e,{relative:t});if(!r.isTransitioning)return!1;let i=ff(r.currentLocation.pathname,n)||r.currentLocation.pathname,l=ff(r.nextLocation.pathname,n)||r.nextLocation.pathname;return Wv(a.pathname,l)!=null||Wv(a.pathname,i)!=null}var $D=xD();const V$="http://localhost:3001/api";class G1 extends Error{status;code;constructor(t,r,n){super(t),this.name="ApiError",this.status=r,this.code=n}}class W${baseURL;constructor(t){this.baseURL=t}async request(t,r={}){const{params:n,...a}=r;let i=`${this.baseURL}${t}`;if(n){const o=new URLSearchParams(n).toString();i+=`?${o}`}const l={"Content-Type":"application/json",...a.headers};try{const o=await fetch(i,{...a,headers:l});if(!o.ok){const f=await o.json().catch(()=>({}));throw new G1(f.error||f.message||"Une erreur est survenue",o.status,f.code)}return await o.json()}catch(o){throw o instanceof G1?o:o instanceof Error?new G1(`Erreur de connexion: ${o.message}`,void 0,"NETWORK_ERROR"):new G1("Une erreur inconnue est survenue")}}async get(t,r){return this.request(t,{method:"GET",params:r})}async post(t,r){return this.request(t,{method:"POST",body:JSON.stringify(r)})}async put(t,r){return this.request(t,{method:"PUT",body:JSON.stringify(r)})}async patch(t,r){return this.request(t,{method:"PATCH",body:JSON.stringify(r)})}async delete(t){return this.request(t,{method:"DELETE"})}}const at=new W$(V$),G$={async login(e,t){return(await at.post("/auth/login",{username:e,password:t})).user}},HD=k.createContext(void 0),K$=({children:e})=>{const[t,r]=k.useState(null),[n,a]=k.useState(!0);k.useEffect(()=>{const f=localStorage.getItem("current_user");f&&r(JSON.parse(f)),a(!1)},[]);const i=async(f,h)=>{try{const m=await G$.login(f,h);return r(m),localStorage.setItem("current_user",JSON.stringify(m)),!0}catch(m){return console.error("Erreur de connexion:",m),!1}},l=()=>{r(null),localStorage.removeItem("current_user")},o=t?.role==="admin",u=t?.role==="gerant";return s.jsx(HD.Provider,{value:{user:t,isAuthenticated:!!t,isLoading:n,login:i,logout:l,isAdmin:o,isGerant:u},children:e})},Si=()=>{const e=k.useContext(HD);if(!e)throw new Error("useAuth must be used within an AuthProvider");return e};function Ld(...e){return e.filter(Boolean).join(" ")}const et=k.forwardRef(({className:e,variant:t="default",size:r="default",...n},a)=>{const i="inline-flex items-center justify-center rounded-md text-sm font-medium transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-offset-2 disabled:opacity-50 disabled:pointer-events-none",l={default:"bg-blue-600 text-white hover:bg-blue-700",destructive:"bg-red-600 text-white hover:bg-red-700",outline:"border border-gray-300 bg-transparent hover:bg-gray-100",secondary:"bg-gray-200 text-gray-900 hover:bg-gray-300",ghost:"hover:bg-gray-100 hover:text-gray-900",link:"underline-offset-4 hover:underline text-blue-600"},o={default:"h-10 py-2 px-4",sm:"h-9 px-3 rounded-md",lg:"h-11 px-8 rounded-md",icon:"h-10 w-10"};return s.jsx("button",{className:Ld(i,l[t],o[r],e),ref:a,...n})});et.displayName="Button";const is=k.forwardRef(({className:e,type:t,...r},n)=>s.jsx("input",{type:t,className:Ld("flex h-10 w-full rounded-md border border-gray-300 bg-white px-3 py-2 text-sm ring-offset-white file:border-0 file:bg-transparent file:text-sm file:font-medium placeholder:text-gray-400 focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-blue-500 focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",e),ref:n,...r}));is.displayName="Input";const hn=k.forwardRef(({className:e,...t},r)=>s.jsx("div",{ref:r,className:Ld("rounded-lg border border-gray-200 bg-white text-gray-950 shadow-sm",e),...t}));hn.displayName="Card";const df=k.forwardRef(({className:e,...t},r)=>s.jsx("div",{ref:r,className:Ld("flex flex-col space-y-1.5 p-6",e),...t}));df.displayName="CardHeader";const hf=k.forwardRef(({className:e,...t},r)=>s.jsx("h3",{ref:r,className:Ld("text-2xl font-semibold leading-none tracking-tight",e),...t}));hf.displayName="CardTitle";const VD=k.forwardRef(({className:e,...t},r)=>s.jsx("p",{ref:r,className:Ld("text-sm text-gray-500",e),...t}));VD.displayName="CardDescription";const mn=k.forwardRef(({className:e,...t},r)=>s.jsx("div",{ref:r,className:Ld("p-6 pt-0",e),...t}));mn.displayName="CardContent";const Y$=k.forwardRef(({className:e,...t},r)=>s.jsx("div",{ref:r,className:Ld("flex items-center p-6 pt-0",e),...t}));Y$.displayName="CardFooter";/**
 * @license lucide-react v0.546.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const X$=e=>e.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),Q$=e=>e.replace(/^([A-Z])|[\s-_]+(\w)/g,(t,r,n)=>n?n.toUpperCase():r.toLowerCase()),EE=e=>{const t=Q$(e);return t.charAt(0).toUpperCase()+t.slice(1)},WD=(...e)=>e.filter((t,r,n)=>!!t&&t.trim()!==""&&n.indexOf(t)===r).join(" ").trim(),Z$=e=>{for(const t in e)if(t.startsWith("aria-")||t==="role"||t==="title")return!0};/**
 * @license lucide-react v0.546.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var J$={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.546.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const eH=k.forwardRef(({color:e="currentColor",size:t=24,strokeWidth:r=2,absoluteStrokeWidth:n,className:a="",children:i,iconNode:l,...o},u)=>k.createElement("svg",{ref:u,...J$,width:t,height:t,stroke:e,strokeWidth:n?Number(r)*24/Number(t):r,className:WD("lucide",a),...!i&&!Z$(o)&&{"aria-hidden":"true"},...o},[...l.map(([f,h])=>k.createElement(f,h)),...Array.isArray(i)?i:[i]]));/**
 * @license lucide-react v0.546.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const vt=(e,t)=>{const r=k.forwardRef(({className:n,...a},i)=>k.createElement(eH,{ref:i,iconNode:t,className:WD(`lucide-${X$(EE(e))}`,`lucide-${e}`,n),...a}));return r.displayName=EE(e),r};/**
 * @license lucide-react v0.546.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const tH=[["path",{d:"M22 12h-2.48a2 2 0 0 0-1.93 1.46l-2.35 8.36a.25.25 0 0 1-.48 0L9.24 2.18a.25.25 0 0 0-.48 0l-2.35 8.36A2 2 0 0 1 4.49 12H2",key:"169zse"}]],GD=vt("activity",tH);/**
 * @license lucide-react v0.546.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const rH=[["path",{d:"M12 5v14",key:"s699le"}],["path",{d:"m19 12-7 7-7-7",key:"1idqje"}]],nH=vt("arrow-down",rH);/**
 * @license lucide-react v0.546.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const aH=[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]],ta=vt("arrow-left",aH);/**
 * @license lucide-react v0.546.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const iH=[["path",{d:"m5 12 7-7 7 7",key:"hav0vg"}],["path",{d:"M12 19V5",key:"x0mq9r"}]],sH=vt("arrow-up",iH);/**
 * @license lucide-react v0.546.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const lH=[["circle",{cx:"12",cy:"12",r:"4",key:"4exip2"}],["path",{d:"M16 8v5a3 3 0 0 0 6 0v-1a10 10 0 1 0-4 8",key:"7n84p3"}]],oH=vt("at-sign",lH);/**
 * @license lucide-react v0.546.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const cH=[["path",{d:"m15.477 12.89 1.515 8.526a.5.5 0 0 1-.81.47l-3.58-2.687a1 1 0 0 0-1.197 0l-3.586 2.686a.5.5 0 0 1-.81-.469l1.514-8.526",key:"1yiouv"}],["circle",{cx:"12",cy:"8",r:"6",key:"1vp47v"}]],si=vt("award",cH);/**
 * @license lucide-react v0.546.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const uH=[["path",{d:"M12 7v14",key:"1akyts"}],["path",{d:"M3 18a1 1 0 0 1-1-1V4a1 1 0 0 1 1-1h5a4 4 0 0 1 4 4 4 4 0 0 1 4-4h5a1 1 0 0 1 1 1v13a1 1 0 0 1-1 1h-6a3 3 0 0 0-3 3 3 3 0 0 0-3-3z",key:"ruj8y"}]],$n=vt("book-open",uH);/**
 * @license lucide-react v0.546.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fH=[["path",{d:"M21 8a2 2 0 0 0-1-1.73l-7-4a2 2 0 0 0-2 0l-7 4A2 2 0 0 0 3 8v8a2 2 0 0 0 1 1.73l7 4a2 2 0 0 0 2 0l7-4A2 2 0 0 0 21 16Z",key:"hh9hay"}],["path",{d:"m3.3 7 8.7 5 8.7-5",key:"g66t2b"}],["path",{d:"M12 22V12",key:"d0xqtd"}]],dH=vt("box",fH);/**
 * @license lucide-react v0.546.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const hH=[["path",{d:"M10 12h4",key:"a56b0p"}],["path",{d:"M10 8h4",key:"1sr2af"}],["path",{d:"M14 21v-3a2 2 0 0 0-4 0v3",key:"1rgiei"}],["path",{d:"M6 10H4a2 2 0 0 0-2 2v7a2 2 0 0 0 2 2h16a2 2 0 0 0 2-2V9a2 2 0 0 0-2-2h-2",key:"secmi2"}],["path",{d:"M6 21V5a2 2 0 0 1 2-2h8a2 2 0 0 1 2 2v16",key:"16ra0t"}]],mH=vt("building-2",hH);/**
 * @license lucide-react v0.546.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const pH=[["rect",{width:"16",height:"20",x:"4",y:"2",rx:"2",key:"1nb95v"}],["line",{x1:"8",x2:"16",y1:"6",y2:"6",key:"x4nwl0"}],["line",{x1:"16",x2:"16",y1:"14",y2:"18",key:"wjye3r"}],["path",{d:"M16 10h.01",key:"1m94wz"}],["path",{d:"M12 10h.01",key:"1nrarc"}],["path",{d:"M8 10h.01",key:"19clt8"}],["path",{d:"M12 14h.01",key:"1etili"}],["path",{d:"M8 14h.01",key:"6423bh"}],["path",{d:"M12 18h.01",key:"mhygvu"}],["path",{d:"M8 18h.01",key:"lrp35t"}]],du=vt("calculator",pH);/**
 * @license lucide-react v0.546.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xH=[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}],["path",{d:"m9 16 2 2 4-4",key:"19s6y9"}]],gH=vt("calendar-check",xH);/**
 * @license lucide-react v0.546.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const vH=[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]],wi=vt("calendar",vH);/**
 * @license lucide-react v0.546.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const yH=[["path",{d:"M3 3v16a2 2 0 0 0 2 2h16",key:"c24i48"}],["path",{d:"M18 17V9",key:"2bz60n"}],["path",{d:"M13 17V5",key:"1frdt8"}],["path",{d:"M8 17v-3",key:"17ska0"}]],KD=vt("chart-column",yH);/**
 * @license lucide-react v0.546.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const bH=[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]],YD=vt("check",bH);/**
 * @license lucide-react v0.546.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const wH=[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]],Um=vt("chevron-down",wH);/**
 * @license lucide-react v0.546.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const NH=[["path",{d:"m15 18-6-6 6-6",key:"1wnfg3"}]],P_=vt("chevron-left",NH);/**
 * @license lucide-react v0.546.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _H=[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]],yc=vt("chevron-right",_H);/**
 * @license lucide-react v0.546.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const jH=[["path",{d:"m18 15-6-6-6 6",key:"153udz"}]],XD=vt("chevron-up",jH);/**
 * @license lucide-react v0.546.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const SH=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]],Wr=vt("circle-alert",SH);/**
 * @license lucide-react v0.546.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const AH=[["path",{d:"M21.801 10A10 10 0 1 1 17 3.335",key:"yps3ct"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]],Ka=vt("circle-check-big",AH);/**
 * @license lucide-react v0.546.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const EH=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]],QD=vt("circle-check",EH);/**
 * @license lucide-react v0.546.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const kH=[["path",{d:"M9 9.003a1 1 0 0 1 1.517-.859l4.997 2.997a1 1 0 0 1 0 1.718l-4.997 2.997A1 1 0 0 1 9 14.996z",key:"kmsa83"}],["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]],jc=vt("circle-play",kH);/**
 * @license lucide-react v0.546.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const CH=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}],["path",{d:"M7 20.662V19a2 2 0 0 1 2-2h6a2 2 0 0 1 2 2v1.662",key:"154egf"}]],TH=vt("circle-user",CH);/**
 * @license lucide-react v0.546.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const OH=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m15 9-6 6",key:"1uzhvr"}],["path",{d:"m9 9 6 6",key:"z0biqf"}]],mf=vt("circle-x",OH);/**
 * @license lucide-react v0.546.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const DH=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]],FH=vt("circle",DH);/**
 * @license lucide-react v0.546.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const PH=[["rect",{width:"8",height:"4",x:"8",y:"2",rx:"1",ry:"1",key:"tgr4d6"}],["path",{d:"M16 4h2a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2H6a2 2 0 0 1-2-2V6a2 2 0 0 1 2-2h2",key:"116196"}],["path",{d:"m9 14 2 2 4-4",key:"df797q"}]],Gv=vt("clipboard-check",PH);/**
 * @license lucide-react v0.546.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const LH=[["path",{d:"M12 6v6l4 2",key:"mmk7yg"}],["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]],As=vt("clock",LH);/**
 * @license lucide-react v0.546.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const MH=[["rect",{width:"14",height:"14",x:"8",y:"8",rx:"2",ry:"2",key:"17jyea"}],["path",{d:"M4 16c-1.1 0-2-.9-2-2V4c0-1.1.9-2 2-2h10c1.1 0 2 .9 2 2",key:"zix9uf"}]],T0=vt("copy",MH);/**
 * @license lucide-react v0.546.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const RH=[["rect",{width:"20",height:"14",x:"2",y:"5",rx:"2",key:"ynyp8z"}],["line",{x1:"2",x2:"22",y1:"10",y2:"10",key:"1b3vmo"}]],IH=vt("credit-card",RH);/**
 * @license lucide-react v0.546.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const BH=[["line",{x1:"12",x2:"12",y1:"2",y2:"22",key:"7eqyqh"}],["path",{d:"M17 5H9.5a3.5 3.5 0 0 0 0 7h5a3.5 3.5 0 0 1 0 7H6",key:"1b0p4s"}]],Bx=vt("dollar-sign",BH);/**
 * @license lucide-react v0.546.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const UH=[["path",{d:"M12 15V3",key:"m9g1x1"}],["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["path",{d:"m7 10 5 5 5-5",key:"brsn70"}]],Es=vt("download",UH);/**
 * @license lucide-react v0.546.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const zH=[["path",{d:"M15 3h6v6",key:"1q9fwt"}],["path",{d:"M10 14 21 3",key:"gplh6r"}],["path",{d:"M18 13v6a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h6",key:"a6xqqp"}]],n2=vt("external-link",zH);/**
 * @license lucide-react v0.546.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qH=[["path",{d:"M10.733 5.076a10.744 10.744 0 0 1 11.205 6.575 1 1 0 0 1 0 .696 10.747 10.747 0 0 1-1.444 2.49",key:"ct8e1f"}],["path",{d:"M14.084 14.158a3 3 0 0 1-4.242-4.242",key:"151rxh"}],["path",{d:"M17.479 17.499a10.75 10.75 0 0 1-15.417-5.151 1 1 0 0 1 0-.696 10.75 10.75 0 0 1 4.446-5.143",key:"13bj9a"}],["path",{d:"m2 2 20 20",key:"1ooewy"}]],Xs=vt("eye-off",qH);/**
 * @license lucide-react v0.546.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $H=[["path",{d:"M2.062 12.348a1 1 0 0 1 0-.696 10.75 10.75 0 0 1 19.876 0 1 1 0 0 1 0 .696 10.75 10.75 0 0 1-19.876 0",key:"1nclc0"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]],Ds=vt("eye",$H);/**
 * @license lucide-react v0.546.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const HH=[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"m9 15 2 2 4-4",key:"1grp1n"}]],Ux=vt("file-check",HH);/**
 * @license lucide-react v0.546.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const VH=[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M9 15h6",key:"cctwl0"}],["path",{d:"M12 18v-6",key:"17g6i2"}]],Kv=vt("file-plus",VH);/**
 * @license lucide-react v0.546.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const WH=[["path",{d:"M12 17h.01",key:"p32p05"}],["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7z",key:"1mlx9k"}],["path",{d:"M9.1 9a3 3 0 0 1 5.82 1c0 2-3 3-3 3",key:"mhlwft"}]],af=vt("file-question-mark",WH);/**
 * @license lucide-react v0.546.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const GH=[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M8 13h2",key:"yr2amv"}],["path",{d:"M14 13h2",key:"un5t4a"}],["path",{d:"M8 17h2",key:"2yhykz"}],["path",{d:"M14 17h2",key:"10kma7"}]],q0=vt("file-spreadsheet",GH);/**
 * @license lucide-react v0.546.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const KH=[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M10 9H8",key:"b1mrlr"}],["path",{d:"M16 13H8",key:"t4e002"}],["path",{d:"M16 17H8",key:"z1uh3a"}]],ks=vt("file-text",KH);/**
 * @license lucide-react v0.546.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const YH=[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]],kE=vt("file-warning",YH);/**
 * @license lucide-react v0.546.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const XH=[["path",{d:"m6 14 1.5-2.9A2 2 0 0 1 9.24 10H20a2 2 0 0 1 1.94 2.5l-1.54 6a2 2 0 0 1-1.95 1.5H4a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h3.9a2 2 0 0 1 1.69.9l.81 1.2a2 2 0 0 0 1.67.9H18a2 2 0 0 1 2 2v2",key:"usdka0"}]],QH=vt("folder-open",XH);/**
 * @license lucide-react v0.546.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ZH=[["path",{d:"M2 11.5V5a2 2 0 0 1 2-2h3.9c.7 0 1.3.3 1.7.9l.8 1.2c.4.6 1 .9 1.7.9H20a2 2 0 0 1 2 2v10a2 2 0 0 1-2 2h-9.5",key:"a8xqs0"}],["path",{d:"M11.378 13.626a1 1 0 1 0-3.004-3.004l-5.01 5.012a2 2 0 0 0-.506.854l-.837 2.87a.5.5 0 0 0 .62.62l2.87-.837a2 2 0 0 0 .854-.506z",key:"1saktj"}]],JH=vt("folder-pen",ZH);/**
 * @license lucide-react v0.546.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const eV=[["path",{d:"M12 10v6",key:"1bos4e"}],["path",{d:"M9 13h6",key:"1uhe8q"}],["path",{d:"M20 20a2 2 0 0 0 2-2V8a2 2 0 0 0-2-2h-7.9a2 2 0 0 1-1.69-.9L9.6 3.9A2 2 0 0 0 7.93 3H4a2 2 0 0 0-2 2v13a2 2 0 0 0 2 2Z",key:"1kt360"}]],CE=vt("folder-plus",eV);/**
 * @license lucide-react v0.546.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const tV=[["path",{d:"M20 20a2 2 0 0 0 2-2V8a2 2 0 0 0-2-2h-7.9a2 2 0 0 1-1.69-.9L9.6 3.9A2 2 0 0 0 7.93 3H4a2 2 0 0 0-2 2v13a2 2 0 0 0 2 2Z",key:"1kt360"}]],Am=vt("folder",tV);/**
 * @license lucide-react v0.546.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const rV=[["path",{d:"M10 20a1 1 0 0 0 .553.895l2 1A1 1 0 0 0 14 21v-7a2 2 0 0 1 .517-1.341L21.74 4.67A1 1 0 0 0 21 3H3a1 1 0 0 0-.742 1.67l7.225 7.989A2 2 0 0 1 10 14z",key:"sc7q7i"}]],L_=vt("funnel",rV);/**
 * @license lucide-react v0.546.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const nV=[["path",{d:"M21.42 10.922a1 1 0 0 0-.019-1.838L12.83 5.18a2 2 0 0 0-1.66 0L2.6 9.08a1 1 0 0 0 0 1.832l8.57 3.908a2 2 0 0 0 1.66 0z",key:"j76jl0"}],["path",{d:"M22 10v6",key:"1lu8f3"}],["path",{d:"M6 12.5V16a6 3 0 0 0 12 0v-3.5",key:"1r8lef"}]],M_=vt("graduation-cap",nV);/**
 * @license lucide-react v0.546.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const aV=[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}],["path",{d:"M3 9h18",key:"1pudct"}],["path",{d:"M3 15h18",key:"5xshup"}],["path",{d:"M9 3v18",key:"fh3hqa"}],["path",{d:"M15 3v18",key:"14nvp0"}]],R_=vt("grid-3x3",aV);/**
 * @license lucide-react v0.546.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const iV=[["path",{d:"M10 10V5a1 1 0 0 1 1-1h2a1 1 0 0 1 1 1v5",key:"1p9q5i"}],["path",{d:"M14 6a6 6 0 0 1 6 6v3",key:"1hnv84"}],["path",{d:"M4 15v-3a6 6 0 0 1 6-6",key:"9ciidu"}],["rect",{x:"2",y:"15",width:"20",height:"4",rx:"1",key:"g3x8cw"}]],Nx=vt("hard-hat",iV);/**
 * @license lucide-react v0.546.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const sV=[["line",{x1:"4",x2:"20",y1:"9",y2:"9",key:"4lhtct"}],["line",{x1:"4",x2:"20",y1:"15",y2:"15",key:"vyu0kd"}],["line",{x1:"10",x2:"8",y1:"3",y2:"21",key:"1ggp8o"}],["line",{x1:"16",x2:"14",y1:"3",y2:"21",key:"weycgp"}]],I_=vt("hash",sV);/**
 * @license lucide-react v0.546.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const lV=[["path",{d:"M15 21v-8a1 1 0 0 0-1-1h-4a1 1 0 0 0-1 1v8",key:"5wwlr5"}],["path",{d:"M3 10a2 2 0 0 1 .709-1.528l7-6a2 2 0 0 1 2.582 0l7 6A2 2 0 0 1 21 10v9a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z",key:"r6nss1"}]],_x=vt("house",lV);/**
 * @license lucide-react v0.546.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const oV=[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",ry:"2",key:"1m3agn"}],["circle",{cx:"9",cy:"9",r:"2",key:"af1f0g"}],["path",{d:"m21 15-3.086-3.086a2 2 0 0 0-2.828 0L6 21",key:"1xmnt7"}]],jx=vt("image",oV);/**
 * @license lucide-react v0.546.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const cV=[["path",{d:"M12.83 2.18a2 2 0 0 0-1.66 0L2.6 6.08a1 1 0 0 0 0 1.83l8.58 3.91a2 2 0 0 0 1.66 0l8.58-3.9a1 1 0 0 0 0-1.83z",key:"zw3jo"}],["path",{d:"M2 12a1 1 0 0 0 .58.91l8.6 3.91a2 2 0 0 0 1.65 0l8.58-3.9A1 1 0 0 0 22 12",key:"1wduqc"}],["path",{d:"M2 17a1 1 0 0 0 .58.91l8.6 3.91a2 2 0 0 0 1.65 0l8.58-3.9A1 1 0 0 0 22 17",key:"kqbvx6"}]],B_=vt("layers",cV);/**
 * @license lucide-react v0.546.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const uV=[["path",{d:"M15 14c.2-1 .7-1.7 1.5-2.5 1-.9 1.5-2.2 1.5-3.5A6 6 0 0 0 6 8c0 1 .2 2.2 1.5 3.5.7.7 1.3 1.5 1.5 2.5",key:"1gvzjb"}],["path",{d:"M9 18h6",key:"x1upvd"}],["path",{d:"M10 22h4",key:"ceow96"}]],fV=vt("lightbulb",uV);/**
 * @license lucide-react v0.546.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const dV=[["path",{d:"M10 13a5 5 0 0 0 7.54.54l3-3a5 5 0 0 0-7.07-7.07l-1.72 1.71",key:"1cjeqo"}],["path",{d:"M14 11a5 5 0 0 0-7.54-.54l-3 3a5 5 0 0 0 7.07 7.07l1.71-1.71",key:"19qd67"}]],zx=vt("link",dV);/**
 * @license lucide-react v0.546.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const hV=[["path",{d:"M3 5h.01",key:"18ugdj"}],["path",{d:"M3 12h.01",key:"nlz23k"}],["path",{d:"M3 19h.01",key:"noohij"}],["path",{d:"M8 5h13",key:"1pao27"}],["path",{d:"M8 12h13",key:"1za7za"}],["path",{d:"M8 19h13",key:"m83p4d"}]],ZD=vt("list",hV);/**
 * @license lucide-react v0.546.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const mV=[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 10 0v4",key:"fwvmzm"}]],qx=vt("lock",mV);/**
 * @license lucide-react v0.546.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const pV=[["path",{d:"m16 17 5-5-5-5",key:"1bji2h"}],["path",{d:"M21 12H9",key:"dn1m92"}],["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}]],JD=vt("log-out",pV);/**
 * @license lucide-react v0.546.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xV=[["path",{d:"m22 7-8.991 5.727a2 2 0 0 1-2.009 0L2 7",key:"132q7q"}],["rect",{x:"2",y:"4",width:"20",height:"16",rx:"2",key:"izxlao"}]],gV=vt("mail",xV);/**
 * @license lucide-react v0.546.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const vV=[["path",{d:"M20 10c0 4.993-5.539 10.193-7.399 11.799a1 1 0 0 1-1.202 0C9.539 20.193 4 14.993 4 10a8 8 0 0 1 16 0",key:"1r0f0z"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}]],Cs=vt("map-pin",vV);/**
 * @license lucide-react v0.546.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const yV=[["path",{d:"M4 5h16",key:"1tepv9"}],["path",{d:"M4 12h16",key:"1lakjw"}],["path",{d:"M4 19h16",key:"1djgab"}]],bV=vt("menu",yV);/**
 * @license lucide-react v0.546.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const wV=[["path",{d:"M22 17a2 2 0 0 1-2 2H6.828a2 2 0 0 0-1.414.586l-2.202 2.202A.71.71 0 0 1 2 21.286V5a2 2 0 0 1 2-2h16a2 2 0 0 1 2 2z",key:"18887p"}]],Js=vt("message-square",wV);/**
 * @license lucide-react v0.546.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const NV=[["path",{d:"M5 12h14",key:"1ays0h"}]],_V=vt("minus",NV);/**
 * @license lucide-react v0.546.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const jV=[["path",{d:"M12 22a1 1 0 0 1 0-20 10 9 0 0 1 10 9 5 5 0 0 1-5 5h-2.25a1.75 1.75 0 0 0-1.4 2.8l.3.4a1.75 1.75 0 0 1-1.4 2.8z",key:"e79jfc"}],["circle",{cx:"13.5",cy:"6.5",r:".5",fill:"currentColor",key:"1okk4w"}],["circle",{cx:"17.5",cy:"10.5",r:".5",fill:"currentColor",key:"f64h9f"}],["circle",{cx:"6.5",cy:"12.5",r:".5",fill:"currentColor",key:"qy21gx"}],["circle",{cx:"8.5",cy:"7.5",r:".5",fill:"currentColor",key:"fotxhn"}]],eF=vt("palette",jV);/**
 * @license lucide-react v0.546.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const SV=[["path",{d:"m16 6-8.414 8.586a2 2 0 0 0 2.829 2.829l8.414-8.586a4 4 0 1 0-5.657-5.657l-8.379 8.551a6 6 0 1 0 8.485 8.485l8.379-8.551",key:"1miecu"}]],AV=vt("paperclip",SV);/**
 * @license lucide-react v0.546.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const EV=[["path",{d:"M13 21h8",key:"1jsn5i"}],["path",{d:"M21.174 6.812a1 1 0 0 0-3.986-3.987L3.842 16.174a2 2 0 0 0-.5.83l-1.321 4.352a.5.5 0 0 0 .623.622l4.353-1.32a2 2 0 0 0 .83-.497z",key:"1a8usu"}]],oh=vt("pen-line",EV);/**
 * @license lucide-react v0.546.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const kV=[["path",{d:"M21.174 6.812a1 1 0 0 0-3.986-3.987L3.842 16.174a2 2 0 0 0-.5.83l-1.321 4.352a.5.5 0 0 0 .623.622l4.353-1.32a2 2 0 0 0 .83-.497z",key:"1a8usu"}]],zm=vt("pen",kV);/**
 * @license lucide-react v0.546.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const CV=[["path",{d:"M12 17v5",key:"bb1du9"}],["path",{d:"M9 10.76a2 2 0 0 1-1.11 1.79l-1.78.9A2 2 0 0 0 5 15.24V16a1 1 0 0 0 1 1h12a1 1 0 0 0 1-1v-.76a2 2 0 0 0-1.11-1.79l-1.78-.9A2 2 0 0 1 15 10.76V7a1 1 0 0 1 1-1 2 2 0 0 0 0-4H8a2 2 0 0 0 0 4 1 1 0 0 1 1 1z",key:"1nkz8b"}]],U_=vt("pin",CV);/**
 * @license lucide-react v0.546.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const TV=[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]],_i=vt("plus",TV);/**
 * @license lucide-react v0.546.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const OV=[["path",{d:"M15.2 3a2 2 0 0 1 1.4.6l3.8 3.8a2 2 0 0 1 .6 1.4V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2z",key:"1c8476"}],["path",{d:"M17 21v-7a1 1 0 0 0-1-1H8a1 1 0 0 0-1 1v7",key:"1ydtos"}],["path",{d:"M7 3v4a1 1 0 0 0 1 1h7",key:"t51u73"}]],np=vt("save",OV);/**
 * @license lucide-react v0.546.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const DV=[["path",{d:"m21 21-4.34-4.34",key:"14j7rj"}],["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}]],ap=vt("search",DV);/**
 * @license lucide-react v0.546.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const FV=[["path",{d:"M14.536 21.686a.5.5 0 0 0 .937-.024l6.5-19a.496.496 0 0 0-.635-.635l-19 6.5a.5.5 0 0 0-.024.937l7.93 3.18a2 2 0 0 1 1.112 1.11z",key:"1ffxy3"}],["path",{d:"m21.854 2.147-10.94 10.939",key:"12cjpa"}]],Em=vt("send",FV);/**
 * @license lucide-react v0.546.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const PV=[["path",{d:"M9.671 4.136a2.34 2.34 0 0 1 4.659 0 2.34 2.34 0 0 0 3.319 1.915 2.34 2.34 0 0 1 2.33 4.033 2.34 2.34 0 0 0 0 3.831 2.34 2.34 0 0 1-2.33 4.033 2.34 2.34 0 0 0-3.319 1.915 2.34 2.34 0 0 1-4.659 0 2.34 2.34 0 0 0-3.32-1.915 2.34 2.34 0 0 1-2.33-4.033 2.34 2.34 0 0 0 0-3.831A2.34 2.34 0 0 1 6.35 6.051a2.34 2.34 0 0 0 3.319-1.915",key:"1i5ecw"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]],tF=vt("settings",PV);/**
 * @license lucide-react v0.546.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const LV=[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}]],Y4=vt("shield",LV);/**
 * @license lucide-react v0.546.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const MV=[["path",{d:"M12 3H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7",key:"1m0v6g"}],["path",{d:"M18.375 2.625a1 1 0 0 1 3 3l-9.013 9.014a2 2 0 0 1-.853.505l-2.873.84a.5.5 0 0 1-.62-.62l.84-2.873a2 2 0 0 1 .506-.852z",key:"ohrbg2"}]],rF=vt("square-pen",MV);/**
 * @license lucide-react v0.546.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const RV=[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}]],IV=vt("square",RV);/**
 * @license lucide-react v0.546.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const BV=[["path",{d:"M11.525 2.295a.53.53 0 0 1 .95 0l2.31 4.679a2.123 2.123 0 0 0 1.595 1.16l5.166.756a.53.53 0 0 1 .294.904l-3.736 3.638a2.123 2.123 0 0 0-.611 1.878l.882 5.14a.53.53 0 0 1-.771.56l-4.618-2.428a2.122 2.122 0 0 0-1.973 0L6.396 21.01a.53.53 0 0 1-.77-.56l.881-5.139a2.122 2.122 0 0 0-.611-1.879L2.16 9.795a.53.53 0 0 1 .294-.906l5.165-.755a2.122 2.122 0 0 0 1.597-1.16z",key:"r04s7s"}]],UV=vt("star",BV);/**
 * @license lucide-react v0.546.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const zV=[["path",{d:"M12.586 2.586A2 2 0 0 0 11.172 2H4a2 2 0 0 0-2 2v7.172a2 2 0 0 0 .586 1.414l8.704 8.704a2.426 2.426 0 0 0 3.42 0l6.58-6.58a2.426 2.426 0 0 0 0-3.42z",key:"vktsd0"}],["circle",{cx:"7.5",cy:"7.5",r:".5",fill:"currentColor",key:"kqv944"}]],qV=vt("tag",zV);/**
 * @license lucide-react v0.546.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $V=[["path",{d:"M21 5H3",key:"1fi0y6"}],["path",{d:"M15 12H3",key:"6jk70r"}],["path",{d:"M17 19H3",key:"z6ezky"}]],HV=vt("text-align-start",$V);/**
 * @license lucide-react v0.546.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const VV=[["path",{d:"M7 10v12",key:"1qc93n"}],["path",{d:"M15 5.88 14 10h5.83a2 2 0 0 1 1.92 2.56l-2.33 8A2 2 0 0 1 17.5 22H4a2 2 0 0 1-2-2v-8a2 2 0 0 1 2-2h2.76a2 2 0 0 0 1.79-1.11L12 2a3.13 3.13 0 0 1 3 3.88Z",key:"emmmcr"}]],WV=vt("thumbs-up",VV);/**
 * @license lucide-react v0.546.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const GV=[["path",{d:"M10 11v6",key:"nco0om"}],["path",{d:"M14 11v6",key:"outv1u"}],["path",{d:"M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6",key:"miytrc"}],["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M8 6V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2",key:"e791ji"}]],Bn=vt("trash-2",GV);/**
 * @license lucide-react v0.546.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const KV=[["path",{d:"M16 7h6v6",key:"box55l"}],["path",{d:"m22 7-8.5 8.5-5-5L2 17",key:"1t1m79"}]],$0=vt("trending-up",KV);/**
 * @license lucide-react v0.546.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const YV=[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3",key:"wmoenq"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]],X4=vt("triangle-alert",YV);/**
 * @license lucide-react v0.546.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const XV=[["path",{d:"M14 18V6a2 2 0 0 0-2-2H4a2 2 0 0 0-2 2v11a1 1 0 0 0 1 1h2",key:"wrbu53"}],["path",{d:"M15 18H9",key:"1lyqi6"}],["path",{d:"M19 18h2a1 1 0 0 0 1-1v-3.65a1 1 0 0 0-.22-.624l-3.48-4.35A1 1 0 0 0 17.52 8H14",key:"lysw3i"}],["circle",{cx:"17",cy:"18",r:"2",key:"332jqn"}],["circle",{cx:"7",cy:"18",r:"2",key:"19iecd"}]],QV=vt("truck",XV);/**
 * @license lucide-react v0.546.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ZV=[["path",{d:"M12 4v16",key:"1654pz"}],["path",{d:"M4 7V5a1 1 0 0 1 1-1h14a1 1 0 0 1 1 1v2",key:"e0r10z"}],["path",{d:"M9 20h6",key:"s66wpe"}]],km=vt("type",ZV);/**
 * @license lucide-react v0.546.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const JV=[["path",{d:"M12 3v12",key:"1x0j5s"}],["path",{d:"m17 8-5-5-5 5",key:"7q97r8"}],["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}]],H0=vt("upload",JV);/**
 * @license lucide-react v0.546.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const eW=[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["line",{x1:"19",x2:"19",y1:"8",y2:"14",key:"1bvyxn"}],["line",{x1:"22",x2:"16",y1:"11",y2:"11",key:"1shjgl"}]],tW=vt("user-plus",eW);/**
 * @license lucide-react v0.546.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const rW=[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]],$x=vt("user",rW);/**
 * @license lucide-react v0.546.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const nW=[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["path",{d:"M16 3.128a4 4 0 0 1 0 7.744",key:"16gr8j"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}]],ls=vt("users",nW);/**
 * @license lucide-react v0.546.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const aW=[["path",{d:"m16 13 5.223 3.482a.5.5 0 0 0 .777-.416V7.87a.5.5 0 0 0-.752-.432L16 10.5",key:"ftymec"}],["rect",{x:"2",y:"6",width:"14",height:"12",rx:"2",key:"158x01"}]],Hx=vt("video",aW);/**
 * @license lucide-react v0.546.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const iW=[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]],ma=vt("x",iW),um=[{url:"https://images.unsplash.com/photo-1581092160562-40aa08e78837?auto=format&fit=crop&w=1200&q=80",caption:"Oprateur de chariot lvateur"},{url:"https://images.unsplash.com/photo-1504917595217-d4dc5ebe6122?auto=format&fit=crop&w=1200&q=80",caption:"Gestion des engins de chantier"},{url:"https://images.unsplash.com/photo-1581092162384-8987c1d64718?auto=format&fit=crop&w=1200&q=80",caption:"Manutention professionnelle"},{url:"https://images.unsplash.com/photo-1513828583688-c52646db42da?auto=format&fit=crop&w=1200&q=80",caption:"quipe de travaux"}],sW=()=>{const[e,t]=k.useState(""),[r,n]=k.useState(""),[a,i]=k.useState(""),[l,o]=k.useState(!1),[u,f]=k.useState(0),[h,m]=k.useState(!1),{login:g}=Si(),x=Fn();k.useEffect(()=>{const N=setInterval(()=>{f(E=>E===um.length-1?0:E+1)},4e3);return()=>clearInterval(N)},[]);const b=async N=>{N.preventDefault(),i(""),o(!0),await g(e,r)?x("/dashboard"):i("Nom d'utilisateur ou mot de passe incorrect"),o(!1)},v=()=>{f(N=>N===0?um.length-1:N-1)},w=()=>{f(N=>N===um.length-1?0:N+1)};return s.jsxs("div",{className:"min-h-screen flex",children:[s.jsx("div",{className:"hidden lg:flex lg:w-1/2 relative bg-gradient-to-br from-orange-600 to-blue-900 overflow-hidden",children:s.jsxs("div",{className:"relative w-full h-full",children:[um.map((N,E)=>s.jsxs("div",{className:`absolute inset-0 transition-opacity duration-1000 ${E===u?"opacity-100":"opacity-0"}`,children:[s.jsx("img",{src:N.url,alt:N.caption,className:"w-full h-full object-cover"}),s.jsx("div",{className:"absolute inset-0 bg-gradient-to-t from-black/70 via-black/30 to-transparent"})]},E)),s.jsxs("div",{className:"absolute inset-0 flex flex-col justify-end p-12 text-white z-10",children:[s.jsxs("div",{className:"mb-8",children:[s.jsxs("div",{className:"flex items-center gap-3 mb-4",children:[s.jsx(Nx,{className:"w-12 h-12"}),s.jsxs("h1",{className:"text-4xl font-bold",children:["Systme de Gestion",s.jsx("br",{}),"Comptable"]})]}),s.jsx("p",{className:"text-xl text-gray-200 max-w-md",children:"Solution professionnelle pour la gestion des dclarations de sessions"})]}),s.jsx("div",{className:"mb-4",children:s.jsx("p",{className:"text-lg font-medium text-gray-100",children:um[u].caption})}),s.jsxs("div",{className:"flex items-center gap-4",children:[s.jsx("button",{onClick:v,className:"p-2 rounded-full bg-white/20 hover:bg-white/30 transition-colors backdrop-blur-sm","aria-label":"Image prcdente",children:s.jsx(P_,{className:"w-5 h-5"})}),s.jsx("div",{className:"flex gap-2",children:um.map((N,E)=>s.jsx("button",{onClick:()=>f(E),className:`h-2 rounded-full transition-all ${E===u?"w-8 bg-white":"w-2 bg-white/50 hover:bg-white/70"}`,"aria-label":`Aller  l'image ${E+1}`},E))}),s.jsx("button",{onClick:w,className:"p-2 rounded-full bg-white/20 hover:bg-white/30 transition-colors backdrop-blur-sm","aria-label":"Image suivante",children:s.jsx(yc,{className:"w-5 h-5"})})]}),s.jsxs("div",{className:"mt-8 flex flex-wrap gap-3",children:[s.jsxs("div",{className:"flex items-center gap-2 px-3 py-2 rounded-full bg-white/10 backdrop-blur-sm",children:[s.jsx(QV,{className:"w-4 h-4"}),s.jsx("span",{className:"text-sm font-medium",children:"Engins de chantier"})]}),s.jsxs("div",{className:"flex items-center gap-2 px-3 py-2 rounded-full bg-white/10 backdrop-blur-sm",children:[s.jsx(ls,{className:"w-4 h-4"}),s.jsx("span",{className:"text-sm font-medium",children:"Gestion d'quipes"})]}),s.jsxs("div",{className:"flex items-center gap-2 px-3 py-2 rounded-full bg-white/10 backdrop-blur-sm",children:[s.jsx(Nx,{className:"w-4 h-4"}),s.jsx("span",{className:"text-sm font-medium",children:"Manutention"})]})]})]})]})}),s.jsx("div",{className:"w-full lg:w-1/2 flex items-center justify-center bg-gradient-to-br from-gray-50 to-gray-100 p-4",children:s.jsxs("div",{className:"w-full max-w-md",children:[s.jsxs("div",{className:"lg:hidden mb-8 text-center",children:[s.jsxs("div",{className:"flex items-center justify-center gap-3 mb-3",children:[s.jsx(Nx,{className:"w-10 h-10 text-orange-600"}),s.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"Gestion Comptable"})]}),s.jsx("p",{className:"text-gray-600",children:"Solution pour vos dclarations de sessions"})]}),s.jsxs(hn,{className:"shadow-xl border-0",children:[s.jsxs(df,{className:"space-y-1 pb-6",children:[s.jsx(hf,{className:"text-2xl font-bold text-center text-gray-900",children:"Connexion"}),s.jsx(VD,{className:"text-center text-gray-600",children:"Accdez  votre espace personnel"})]}),s.jsxs(mn,{children:[s.jsxs("form",{onSubmit:b,className:"space-y-5",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx("label",{htmlFor:"username",className:"text-sm font-medium text-gray-700",children:"Nom d'utilisateur"}),s.jsx(is,{id:"username",type:"text",placeholder:"Votre identifiant",value:e,onChange:N=>t(N.target.value),required:!0,className:"h-11"})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx("label",{htmlFor:"password",className:"text-sm font-medium text-gray-700",children:"Mot de passe"}),s.jsxs("div",{className:"relative",children:[s.jsx(is,{id:"password",type:h?"text":"password",placeholder:"Votre mot de passe",value:r,onChange:N=>n(N.target.value),required:!0,className:"h-11 pr-10"}),s.jsx("button",{type:"button",onClick:()=>m(!h),className:"absolute right-3 top-1/2 -translate-y-1/2 text-gray-500 hover:text-gray-700 transition-colors","aria-label":h?"Masquer le mot de passe":"Afficher le mot de passe",children:h?s.jsx(Xs,{className:"w-5 h-5"}):s.jsx(Ds,{className:"w-5 h-5"})})]})]}),a&&s.jsxs("div",{className:"bg-red-50 border border-red-200 text-red-700 p-3 rounded-lg text-sm flex items-start gap-2",children:[s.jsx("svg",{className:"w-5 h-5 flex-shrink-0 mt-0.5",fill:"currentColor",viewBox:"0 0 20 20",children:s.jsx("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zM8.707 7.293a1 1 0 00-1.414 1.414L8.586 10l-1.293 1.293a1 1 0 101.414 1.414L10 11.414l1.293 1.293a1 1 0 001.414-1.414L11.414 10l1.293-1.293a1 1 0 00-1.414-1.414L10 8.586 8.707 7.293z",clipRule:"evenodd"})}),s.jsx("span",{children:a})]}),s.jsx(et,{type:"submit",className:"w-full h-11 bg-gradient-to-r from-orange-600 to-orange-500 hover:from-orange-700 hover:to-orange-600 text-white font-medium shadow-lg",disabled:l,children:l?s.jsxs("span",{className:"flex items-center gap-2",children:[s.jsxs("svg",{className:"animate-spin h-4 w-4",viewBox:"0 0 24 24",children:[s.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4",fill:"none"}),s.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}),"Connexion..."]}):"Se connecter"})]}),s.jsxs("div",{className:"mt-6 pt-6 border-t border-gray-200 text-center text-sm text-gray-500",children:[s.jsx("p",{children:" 2025 Systme de Gestion Comptable"}),s.jsx("p",{className:"mt-1",children:"Tous droits rservs"})]})]})]})]})})]})},lW=({className:e=""})=>{const[t,r]=k.useState(!1),[n,a]=k.useState(["gestion-comptable","formation-en-ligne"]),{user:i,isAdmin:l,isGerant:o,logout:u}=Si(),f=Fn(),h=Fc(),m=()=>{u(),f("/login"),r(!1)},g=j=>{a(T=>T.includes(j)?T.filter(O=>O!==j):[...T,j])},x=[{id:"gestion-comptable",title:"Gestion Comptable",icon:du,items:[{to:"/dashboard",icon:_x,label:"Tableau de bord"},{to:"/admin/segments",icon:du,label:"Segments"},{to:"/admin/cities",icon:Cs,label:"Villes"},{to:"/admin/users",icon:ls,label:"Utilisateurs"},{to:"/admin/calculation-sheets",icon:q0,label:"Fiches de calcul"},{to:"/admin/create-declaration",icon:Kv,label:"Crer dclaration"},{to:"/admin/declarations",icon:Gv,label:"Grer dclarations"}]},{id:"formation-en-ligne",title:"Formation en Ligne",icon:M_,items:[{to:"/admin/formations/sessions",icon:wi,label:"Sessions"}]}],b=[{to:"/dashboard",icon:_x,label:"Tableau de bord"},{to:"/professor/declarations",icon:ZD,label:"Mes dclarations"}],v=[{to:"/dashboard",icon:_x,label:"Tableau de bord"},{to:"/gerant/view-declarations",icon:Gv,label:"Voir dclarations"}],w=l?x:[],N=l?[]:o?v:b,E=j=>h.pathname===j;return s.jsxs(s.Fragment,{children:[s.jsx(et,{variant:"ghost",size:"icon",onClick:()=>r(!0),className:`lg:hidden ${e}`,"aria-label":"Open menu",children:s.jsx(bV,{className:"h-6 w-6"})}),t&&s.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 z-40 lg:hidden",onClick:()=>r(!1)}),s.jsxs("div",{className:`fixed top-0 left-0 h-full w-64 bg-white shadow-xl z-50 transform transition-transform duration-300 ease-in-out lg:hidden ${t?"translate-x-0":"-translate-x-full"}`,children:[s.jsxs("div",{className:"flex items-center justify-between p-4 border-b",children:[s.jsx("h2",{className:"text-lg font-semibold text-gray-800",children:"Menu"}),s.jsx(et,{variant:"ghost",size:"icon",onClick:()=>r(!1),"aria-label":"Close menu",children:s.jsx(ma,{className:"h-6 w-6"})})]}),s.jsxs("div",{className:"p-4 bg-gray-50 border-b",children:[s.jsx("p",{className:"text-sm font-medium text-gray-800",children:i?.full_name||i?.username}),s.jsx("p",{className:"text-xs text-gray-500 capitalize",children:i?.role})]}),s.jsxs("nav",{className:"flex flex-col p-2 space-y-2 overflow-y-auto flex-1",children:[w.map(j=>{const T=n.includes(j.id),O=j.icon;return s.jsxs("div",{className:"space-y-1",children:[s.jsxs("button",{onClick:()=>g(j.id),className:"w-full flex items-center justify-between px-3 py-2.5 text-sm font-semibold text-gray-700 hover:bg-gray-50 rounded-lg transition-colors",children:[s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx(O,{className:"h-5 w-5 text-gray-600"}),s.jsx("span",{children:j.title})]}),T?s.jsx(XD,{className:"h-4 w-4 text-gray-400"}):s.jsx(Um,{className:"h-4 w-4 text-gray-400"})]}),T&&s.jsx("div",{className:"ml-6 space-y-0.5",children:j.items.map(F=>{const D=F.icon,L=E(F.to);return s.jsxs(Ma,{to:F.to,onClick:()=>r(!1),className:`flex items-center gap-3 px-3 py-2 rounded-lg text-sm transition-colors ${L?"bg-blue-50 text-blue-700 font-medium":"text-gray-600 hover:bg-gray-50"}`,children:[s.jsx(D,{className:`h-4 w-4 ${L?"text-blue-600":"text-gray-400"}`}),s.jsx("span",{children:F.label})]},F.to)})})]},j.id)}),N.map(j=>s.jsxs(Ma,{to:j.to,onClick:()=>r(!1),className:`flex items-center gap-3 px-4 py-3 rounded-lg text-sm transition-colors ${E(j.to)?"bg-blue-50 text-blue-700 font-medium":"text-gray-700 hover:bg-gray-100"}`,children:[s.jsx(j.icon,{className:`h-5 w-5 ${E(j.to)?"text-blue-600":"text-gray-400"}`}),s.jsx("span",{className:"font-medium",children:j.label})]},j.to))]}),s.jsx("div",{className:"absolute bottom-0 left-0 right-0 p-4 border-t bg-white",children:s.jsxs(et,{onClick:m,variant:"outline",className:"w-full flex items-center justify-center gap-2",children:[s.jsx(JD,{className:"h-4 w-4"}),"Dconnexion"]})})]})]})},oW=({title:e,subtitle:t})=>{const{user:r,logout:n}=Si(),a=Fn(),i=()=>{n(),a("/login")};return s.jsx("header",{className:"bg-white shadow-sm border-b sticky top-0 z-30",children:s.jsx("div",{className:"px-4 sm:px-6 lg:px-8 py-3 sm:py-4",children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{className:"flex items-center gap-3 sm:gap-4",children:[s.jsx(lW,{}),s.jsxs("div",{className:"hidden lg:flex items-center gap-2",children:[s.jsx(Nx,{className:"h-6 w-6 sm:h-7 sm:w-7 text-orange-600"}),s.jsx("span",{className:"text-lg sm:text-xl font-bold text-gray-800",children:"Comptabilit PL"})]}),e&&s.jsxs("div",{className:"flex flex-col",children:[s.jsx("h1",{className:"text-base sm:text-lg lg:text-xl font-semibold text-gray-800 truncate max-w-[150px] sm:max-w-none",children:e}),t&&s.jsx("p",{className:"text-xs sm:text-sm text-gray-500 hidden sm:block",children:t})]})]}),s.jsxs("div",{className:"hidden lg:flex items-center gap-4",children:[s.jsxs("div",{className:"text-right",children:[s.jsx("p",{className:"text-sm font-medium text-gray-800",children:r?.full_name||r?.username}),s.jsx("p",{className:"text-xs text-gray-500 capitalize",children:r?.role})]}),s.jsxs(et,{onClick:i,variant:"outline",size:"sm",className:"flex items-center gap-2",children:[s.jsx(JD,{className:"h-4 w-4"}),s.jsx("span",{className:"hidden xl:inline",children:"Dconnexion"})]})]}),!e&&s.jsxs("div",{className:"lg:hidden flex items-center gap-2",children:[s.jsx(Nx,{className:"h-6 w-6 text-orange-600"}),s.jsx("span",{className:"text-base font-bold text-gray-800",children:"Comptabilit PL"})]})]})})})},cW=()=>{const e=Fc(),[t,r]=k.useState(["gestion-comptable","formation-en-ligne"]),n=l=>{r(o=>o.includes(l)?o.filter(u=>u!==l):[...o,l])},a=[{id:"gestion-comptable",title:"Gestion Comptable",icon:du,items:[{to:"/dashboard",icon:_x,label:"Tableau de bord"},{to:"/admin/segments",icon:du,label:"Segments"},{to:"/admin/cities",icon:Cs,label:"Villes"},{to:"/admin/users",icon:ls,label:"Utilisateurs"},{to:"/admin/calculation-sheets",icon:q0,label:"Fiches de calcul"},{to:"/admin/create-declaration",icon:Kv,label:"Crer dclaration"},{to:"/admin/declarations",icon:Gv,label:"Grer dclarations"}]},{id:"formation-en-ligne",title:"Formation en Ligne",icon:M_,items:[{to:"/admin/formations/cours",icon:$n,label:"Formations"},{to:"/admin/formations/sessions",icon:wi,label:"Sessions"},{to:"/admin/analytics",icon:KD,label:"Analytics"},{to:"/admin/student-reports",icon:ks,label:"Rapports tudiants"},{to:"/admin/certificates",icon:si,label:"Certificats"},{to:"/admin/certificate-templates",icon:eF,label:"Templates de Certificats"},{to:"/admin/forums",icon:Js,label:"Forums"}]}],i=l=>e.pathname===l;return s.jsxs("aside",{className:"hidden lg:flex lg:flex-col lg:w-72 bg-white border-r border-gray-200 h-[calc(100vh-64px)] sticky top-16 overflow-y-auto",children:[s.jsx("nav",{className:"flex-1 px-3 py-4 space-y-2",children:a.map(l=>{const o=t.includes(l.id),u=l.icon;return s.jsxs("div",{className:"space-y-1",children:[s.jsxs("button",{onClick:()=>n(l.id),className:"w-full flex items-center justify-between px-3 py-2.5 text-sm font-semibold text-gray-700 hover:bg-gray-50 rounded-lg transition-colors group",children:[s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx(u,{className:"h-5 w-5 text-gray-600 group-hover:text-blue-600"}),s.jsx("span",{className:"group-hover:text-blue-600",children:l.title})]}),o?s.jsx(XD,{className:"h-4 w-4 text-gray-400"}):s.jsx(Um,{className:"h-4 w-4 text-gray-400"})]}),o&&s.jsx("div",{className:"ml-3 space-y-0.5 border-l-2 border-gray-200 pl-3",children:l.items.map(f=>{const h=f.icon,m=i(f.to);return s.jsxs(Ma,{to:f.to,className:`flex items-center gap-3 px-3 py-2 text-sm rounded-lg transition-all ${m?"bg-blue-50 text-blue-700 font-medium border-l-2 border-blue-600 -ml-[2px]":"text-gray-600 hover:bg-gray-50 hover:text-gray-900"}`,children:[s.jsx(h,{className:`h-4 w-4 ${m?"text-blue-600":"text-gray-400"}`}),s.jsx("span",{children:f.label})]},f.to)})})]},l.id)})}),s.jsx("div",{className:"px-6 py-4 border-t border-gray-200",children:s.jsx("p",{className:"text-xs text-gray-500 text-center",children:"Comptabilit PL  2025"})})]})},da=({children:e,title:t,subtitle:r})=>s.jsxs("div",{className:"min-h-screen bg-gray-50",children:[s.jsx(oW,{title:t,subtitle:r}),s.jsxs("div",{className:"flex",children:[s.jsx(cW,{}),s.jsx("main",{className:"flex-1 p-4 sm:p-6 lg:p-8",children:s.jsx("div",{className:"max-w-7xl mx-auto",children:e})})]})]});function uW(){return or({queryKey:["dashboard-stats"],queryFn:async()=>at.get("/admin/dashboard-stats"),refetchInterval:3e4})}const fW=()=>{const{data:e,isLoading:t,error:r}=uW();if(t)return s.jsx("div",{className:"flex items-center justify-center py-12",children:s.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-600"})});if(r||!e)return s.jsx("div",{className:"bg-red-50 border border-red-200 rounded-lg p-4",children:s.jsx("p",{className:"text-red-800",children:"Erreur lors du chargement des statistiques"})});const{statusStats:n,alerts:a,metrics:i,rankings:l}=e;return s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{children:[s.jsx("h2",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Statistiques Rapides"}),s.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 xl:grid-cols-6 gap-4",children:[s.jsx("div",{className:"bg-gradient-to-br from-blue-50 to-blue-100 rounded-lg shadow-sm p-4 border border-blue-200",children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx("p",{className:"text-sm font-medium text-blue-600",children:"Total Fiches"}),s.jsx("p",{className:"text-3xl font-bold text-blue-900 mt-1",children:n.total})]}),s.jsx(ks,{className:"w-10 h-10 text-blue-500 opacity-50"})]})}),s.jsx("div",{className:`rounded-lg shadow-sm p-4 border ${n.soumise>5?"bg-gradient-to-br from-red-50 to-red-100 border-red-300 animate-pulse":"bg-gradient-to-br from-blue-50 to-blue-100 border-blue-200"}`,children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx("p",{className:`text-sm font-medium ${n.soumise>5?"text-red-600":"text-blue-600"}`,children:"Soumises"}),s.jsx("p",{className:`text-3xl font-bold mt-1 ${n.soumise>5?"text-red-900":"text-blue-900"}`,children:n.soumise}),n.soumise>5&&s.jsx("p",{className:"text-xs text-red-700 mt-1",children:"  traiter rapidement"})]}),s.jsx(Em,{className:`w-10 h-10 opacity-50 ${n.soumise>5?"text-red-500":"text-blue-500"}`})]})}),s.jsx("div",{className:`rounded-lg shadow-sm p-4 border ${n.a_declarer>3?"bg-gradient-to-br from-orange-50 to-orange-100 border-orange-300 animate-pulse":"bg-gradient-to-br from-orange-50 to-orange-100 border-orange-200"}`,children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx("p",{className:"text-sm font-medium text-orange-600",children:" dclarer"}),s.jsx("p",{className:"text-3xl font-bold text-orange-900 mt-1",children:n.a_declarer}),n.a_declarer>3&&s.jsx("p",{className:"text-xs text-orange-700 mt-1",children:" Attente prof"})]}),s.jsx(Wr,{className:"w-10 h-10 text-orange-500 opacity-50"})]})}),s.jsx("div",{className:`rounded-lg shadow-sm p-4 border ${a.expired.total>0?"bg-gradient-to-br from-red-50 to-red-100 border-red-300":"bg-gradient-to-br from-gray-50 to-gray-100 border-gray-200"}`,children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx("p",{className:`text-sm font-medium ${a.expired.total>0?"text-red-600":"text-gray-600"}`,children:"Expires"}),s.jsx("p",{className:`text-3xl font-bold mt-1 ${a.expired.total>0?"text-red-900":"text-gray-900"}`,children:a.expired.total}),a.expired.critical>0&&s.jsxs("p",{className:"text-xs text-red-700 mt-1",children:[" ",a.expired.critical," critique"]})]}),s.jsx(kE,{className:`w-10 h-10 opacity-50 ${a.expired.total>0?"text-red-500":"text-gray-400"}`})]})}),s.jsx("div",{className:"bg-gradient-to-br from-green-50 to-green-100 rounded-lg shadow-sm p-4 border border-green-200",children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx("p",{className:"text-sm font-medium text-green-600",children:"Revenus Total"}),s.jsxs("p",{className:"text-2xl font-bold text-green-900 mt-1",children:[new Intl.NumberFormat("fr-FR").format(i.totalRevenue)," MAD"]})]}),s.jsx(Bx,{className:"w-10 h-10 text-green-500 opacity-50"})]})}),s.jsx("div",{className:"bg-gradient-to-br from-purple-50 to-purple-100 rounded-lg shadow-sm p-4 border border-purple-200",children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx("p",{className:"text-sm font-medium text-purple-600",children:"Dlai Moyen"}),s.jsxs("p",{className:"text-3xl font-bold text-purple-900 mt-1",children:[i.avgProcessingTime,s.jsx("span",{className:"text-lg ml-1",children:"j"})]}),s.jsx("p",{className:"text-xs text-purple-700 mt-1",children:"de traitement"})]}),s.jsx(As,{className:"w-10 h-10 text-purple-500 opacity-50"})]})})]})]}),(n.soumise>0||a.expired.total>0||a.expiring>0||a.lateProcessing>0)&&s.jsxs("div",{children:[s.jsx("h2",{className:"text-lg font-semibold text-gray-900 mb-4",children:" Alertes Urgentes"}),s.jsxs("div",{className:"space-y-3",children:[n.soumise>0&&s.jsx("div",{className:"bg-blue-50 border-l-4 border-blue-500 rounded-r-lg p-4",children:s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx(Em,{className:"w-5 h-5 text-blue-600 flex-shrink-0"}),s.jsxs("p",{className:"text-sm font-medium text-blue-900",children:[n.soumise," dclaration",n.soumise>1?"s":""," soumise",n.soumise>1?"s":"","  traiter"]})]})}),a.expired.critical>0&&s.jsx("div",{className:"bg-red-50 border-l-4 border-red-600 rounded-r-lg p-4",children:s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx(X4,{className:"w-5 h-5 text-red-600 flex-shrink-0"}),s.jsxs("p",{className:"text-sm font-medium text-red-900",children:[" ",a.expired.critical," dclaration",a.expired.critical>1?"s":""," expire",a.expired.critical>1?"s":""," depuis > 30 jours (CRITIQUE)"]})]})}),a.expired.warning>0&&s.jsx("div",{className:"bg-orange-50 border-l-4 border-orange-500 rounded-r-lg p-4",children:s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx(Wr,{className:"w-5 h-5 text-orange-600 flex-shrink-0"}),s.jsxs("p",{className:"text-sm font-medium text-orange-900",children:[" ",a.expired.warning," dclaration",a.expired.warning>1?"s":""," expire",a.expired.warning>1?"s":""," depuis 7-30 jours"]})]})}),a.expiring>0&&s.jsx("div",{className:"bg-yellow-50 border-l-4 border-yellow-500 rounded-r-lg p-4",children:s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx(As,{className:"w-5 h-5 text-yellow-600 flex-shrink-0"}),s.jsxs("p",{className:"text-sm font-medium text-yellow-900",children:[" ",a.expiring," dclaration",a.expiring>1?"s":""," arrivant  chance dans 7 jours"]})]})}),a.lateProcessing>0&&s.jsx("div",{className:"bg-orange-50 border-l-4 border-orange-600 rounded-r-lg p-4",children:s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx(kE,{className:"w-5 h-5 text-orange-600 flex-shrink-0"}),s.jsxs("p",{className:"text-sm font-medium text-orange-900",children:[" ",a.lateProcessing," dclaration",a.lateProcessing>1?"s":""," en retard de traitement (> 7 jours)"]})]})})]})]}),s.jsxs("div",{children:[s.jsx("h2",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Dtails par Statut"}),s.jsxs("div",{className:"grid grid-cols-2 sm:grid-cols-3 lg:grid-cols-6 gap-4",children:[s.jsxs("div",{className:"bg-white rounded-lg shadow-sm p-4 border border-gray-200",children:[s.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[s.jsx(ks,{className:"w-4 h-4 text-gray-500"}),s.jsx("p",{className:"text-xs font-medium text-gray-600",children:"Brouillon"})]}),s.jsx("p",{className:"text-2xl font-bold text-gray-900",children:n.brouillon})]}),s.jsxs("div",{className:"bg-white rounded-lg shadow-sm p-4 border border-orange-300",children:[s.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[s.jsx(Wr,{className:"w-4 h-4 text-orange-500"}),s.jsx("p",{className:"text-xs font-medium text-orange-600",children:" dclarer"})]}),s.jsx("p",{className:"text-2xl font-bold text-orange-900",children:n.a_declarer})]}),s.jsxs("div",{className:"bg-white rounded-lg shadow-sm p-4 border border-blue-300",children:[s.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[s.jsx(Em,{className:"w-4 h-4 text-blue-500"}),s.jsx("p",{className:"text-xs font-medium text-blue-600",children:"Soumise"})]}),s.jsx("p",{className:"text-2xl font-bold text-blue-900",children:n.soumise})]}),s.jsxs("div",{className:"bg-white rounded-lg shadow-sm p-4 border border-yellow-300",children:[s.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[s.jsx(As,{className:"w-4 h-4 text-yellow-500"}),s.jsx("p",{className:"text-xs font-medium text-yellow-600",children:"En cours"})]}),s.jsx("p",{className:"text-2xl font-bold text-yellow-900",children:n.en_cours})]}),s.jsxs("div",{className:"bg-white rounded-lg shadow-sm p-4 border border-green-300",children:[s.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[s.jsx(Ka,{className:"w-4 h-4 text-green-500"}),s.jsx("p",{className:"text-xs font-medium text-green-600",children:"Approuve"})]}),s.jsx("p",{className:"text-2xl font-bold text-green-900",children:n.approuvee})]}),s.jsxs("div",{className:"bg-white rounded-lg shadow-sm p-4 border border-red-300",children:[s.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[s.jsx(mf,{className:"w-4 h-4 text-red-500"}),s.jsx("p",{className:"text-xs font-medium text-red-600",children:"Refuse"})]}),s.jsx("p",{className:"text-2xl font-bold text-red-900",children:n.refusee})]})]})]}),s.jsxs("div",{children:[s.jsx("h2",{className:"text-lg font-semibold text-gray-900 mb-4",children:" Mtriques de Performance"}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[s.jsxs("div",{className:"bg-gradient-to-br from-green-50 to-green-100 rounded-lg shadow-sm p-6 border border-green-200",children:[s.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[s.jsx($0,{className:"w-6 h-6 text-green-600"}),s.jsx("p",{className:"text-sm font-medium text-green-700",children:"Taux d'Approbation"})]}),s.jsxs("p",{className:"text-4xl font-bold text-green-900",children:[i.approvalRate.toFixed(1),"%"]}),s.jsx("div",{className:"mt-3 bg-green-200 rounded-full h-2 overflow-hidden",children:s.jsx("div",{className:"bg-green-600 h-full transition-all duration-500",style:{width:`${i.approvalRate}%`}})})]}),s.jsxs("div",{className:"bg-gradient-to-br from-purple-50 to-purple-100 rounded-lg shadow-sm p-6 border border-purple-200",children:[s.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[s.jsx(As,{className:"w-6 h-6 text-purple-600"}),s.jsx("p",{className:"text-sm font-medium text-purple-700",children:"Dlai Moyen de Traitement"})]}),s.jsxs("p",{className:"text-4xl font-bold text-purple-900",children:[i.avgProcessingTime,s.jsx("span",{className:"text-2xl ml-1",children:"jours"})]}),s.jsx("p",{className:"text-xs text-purple-700 mt-2",children:"Entre soumission et validation"})]}),s.jsxs("div",{className:"bg-gradient-to-br from-blue-50 to-blue-100 rounded-lg shadow-sm p-6 border border-blue-200",children:[s.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[s.jsx(Bx,{className:"w-6 h-6 text-blue-600"}),s.jsx("p",{className:"text-sm font-medium text-blue-700",children:"Revenus Totaux (Approuves)"})]}),s.jsx("p",{className:"text-3xl font-bold text-blue-900",children:new Intl.NumberFormat("fr-FR",{style:"currency",currency:"MAD",minimumFractionDigits:0}).format(i.totalRevenue)}),s.jsx("p",{className:"text-xs text-blue-700 mt-2",children:"Bas sur les fiches approuves"})]})]})]}),s.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6",children:[s.jsxs("div",{className:"bg-white rounded-lg shadow-sm p-4 border border-gray-200",children:[s.jsxs("h3",{className:"text-sm font-semibold text-gray-900 mb-3 flex items-center gap-2",children:[s.jsx(ks,{className:"w-4 h-4"}),"Top 3 Segments"]}),s.jsx("div",{className:"space-y-2",children:l.topSegments.length>0?l.topSegments.map((o,u)=>s.jsxs("div",{className:"flex items-center justify-between p-2 bg-gray-50 rounded",children:[s.jsx("span",{className:"text-sm text-gray-700 truncate",children:o.name}),s.jsx("span",{className:"text-sm font-semibold text-gray-900",children:o.count})]},u)):s.jsx("p",{className:"text-xs text-gray-500 italic",children:"Aucune donne"})})]}),s.jsxs("div",{className:"bg-white rounded-lg shadow-sm p-4 border border-gray-200",children:[s.jsxs("h3",{className:"text-sm font-semibold text-gray-900 mb-3 flex items-center gap-2",children:[s.jsx(Wr,{className:"w-4 h-4"}),"Top 5 Villes"]}),s.jsx("div",{className:"space-y-2",children:l.topCities.length>0?l.topCities.map((o,u)=>s.jsxs("div",{className:"flex items-center justify-between p-2 bg-gray-50 rounded",children:[s.jsx("span",{className:"text-sm text-gray-700 truncate",children:o.name}),s.jsx("span",{className:"text-sm font-semibold text-gray-900",children:o.count})]},u)):s.jsx("p",{className:"text-xs text-gray-500 italic",children:"Aucune donne"})})]}),s.jsxs("div",{className:"bg-white rounded-lg shadow-sm p-4 border border-gray-200",children:[s.jsxs("h3",{className:"text-sm font-semibold text-gray-900 mb-3 flex items-center gap-2",children:[s.jsx(ls,{className:"w-4 h-4"}),"Top 5 Professeurs Actifs"]}),s.jsx("div",{className:"space-y-2",children:l.topProfessors.length>0?l.topProfessors.map((o,u)=>s.jsxs("div",{className:"flex items-center justify-between p-2 bg-gray-50 rounded",children:[s.jsx("span",{className:"text-sm text-gray-700 truncate",children:o.full_name}),s.jsx("span",{className:"text-sm font-semibold text-gray-900",children:o.count})]},u)):s.jsx("p",{className:"text-xs text-gray-500 italic",children:"Aucune donne"})})]})]})]})},dW=()=>{const{user:e,isAdmin:t,isGerant:r}=Si(),l=t?[{title:"Gestion des Segments",description:"Crer et grer les segments de formation",icon:du,link:"/admin/segments",color:"bg-blue-500"},{title:"Gestion des Villes",description:"Grer les villes et leur affectation",icon:Cs,link:"/admin/cities",color:"bg-green-500"},{title:"Gestion des Utilisateurs",description:"Crer et grer les comptes (admin, professeur, grant)",icon:ls,link:"/admin/users",color:"bg-purple-500"},{title:"Fiches de Calcul",description:"Crer des templates de fiches de calcul",icon:q0,link:"/admin/calculation-sheets",color:"bg-orange-500"},{title:"Crer des Dclarations",description:"Assigner des fiches de sessions aux professeurs",icon:Kv,link:"/admin/create-declaration",color:"bg-teal-500"},{title:"Gestion des Dclarations",description:"Valider et grer les dclarations des professeurs",icon:Gv,link:"/admin/declarations",color:"bg-indigo-500"},{title:"Analytics & Rapports",description:"Statistiques et analyses de performance des formations",icon:KD,link:"/admin/analytics",color:"bg-pink-500"},{title:"Rapports tudiants",description:"Consulter les rapports dtaills de progression des tudiants",icon:ks,link:"/admin/student-reports",color:"bg-cyan-500"}]:r?[{title:"Crer des Dclarations",description:"Assigner des fiches de sessions aux professeurs",icon:Kv,link:"/gerant/create-declaration",color:"bg-blue-500"},{title:"Mes Dclarations Cres",description:"Suivre les dclarations que j'ai assignes",icon:ZD,link:"/gerant/declarations",color:"bg-green-500"}]:[{title:"Mes Dclarations",description:"Crer et grer mes dclarations de sessions",icon:q0,link:"/professor/declarations",color:"bg-blue-500"}];return s.jsxs(da,{title:"Tableau de Bord",subtitle:`Bienvenue, ${e?.full_name} (${t?"Administrateur":r?"Grant":"Professeur"})`,children:[s.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-2 gap-6",children:l.map((o,u)=>s.jsx(Ma,{to:o.link,children:s.jsxs(hn,{className:"hover:shadow-lg transition-shadow cursor-pointer h-full",children:[s.jsxs(df,{children:[s.jsx("div",{className:`${o.color} w-12 h-12 rounded-lg flex items-center justify-center mb-4`,children:s.jsx(o.icon,{className:"h-6 w-6 text-white"})}),s.jsx(hf,{className:"text-xl",children:o.title})]}),s.jsx(mn,{children:s.jsx("p",{className:"text-gray-600",children:o.description})})]})},u))}),t&&s.jsx("div",{className:"mt-6 sm:mt-8",children:s.jsx(fW,{})}),!t&&s.jsxs("div",{className:"mt-6 sm:mt-8",children:[s.jsx("h2",{className:"text-lg sm:text-xl font-semibold mb-3 sm:mb-4",children:"Statistiques Rapides"}),s.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 md:grid-cols-3 gap-4",children:[s.jsx(hn,{children:s.jsx(mn,{className:"pt-6",children:s.jsxs("div",{className:"text-center",children:[s.jsx("p",{className:"text-3xl font-bold text-blue-600",children:"0"}),s.jsx("p",{className:"text-sm text-gray-600 mt-1",children:r?"Dclarations cres":"Mes Fiches"})]})})}),s.jsx(hn,{children:s.jsx(mn,{className:"pt-6",children:s.jsxs("div",{className:"text-center",children:[s.jsx("p",{className:"text-3xl font-bold text-green-600",children:"0 MAD"}),s.jsx("p",{className:"text-sm text-gray-600 mt-1",children:"Revenus Total"})]})})}),s.jsx(hn,{children:s.jsx(mn,{className:"pt-6",children:s.jsxs("div",{className:"text-center",children:[s.jsx("p",{className:"text-3xl font-bold text-orange-600",children:"0 MAD"}),s.jsx("p",{className:"text-sm text-gray-600 mt-1",children:"Charges Total"})]})})})]})]})]})};/*! xlsx.js (C) 2013-present SheetJS -- http://sheetjs.com */var Yv={};Yv.version="0.18.5";var nF=1252,hW=[874,932,936,949,950,1250,1251,1252,1253,1254,1255,1256,1257,1258,1e4],z_={0:1252,1:65001,2:65001,77:1e4,128:932,129:949,130:1361,134:936,136:950,161:1253,162:1254,163:1258,177:1255,178:1256,186:1257,204:1251,222:874,238:1250,255:1252,69:6969},q_=function(e){hW.indexOf(e)!=-1&&(nF=z_[0]=e)};function mW(){q_(1252)}var Nc=function(e){q_(e)};function $_(){Nc(1200),mW()}function TE(e){for(var t=[],r=0,n=e.length;r<n;++r)t[r]=e.charCodeAt(r);return t}function pW(e){for(var t=[],r=0;r<e.length>>1;++r)t[r]=String.fromCharCode(e.charCodeAt(2*r)+(e.charCodeAt(2*r+1)<<8));return t.join("")}function aF(e){for(var t=[],r=0;r<e.length>>1;++r)t[r]=String.fromCharCode(e.charCodeAt(2*r+1)+(e.charCodeAt(2*r)<<8));return t.join("")}var gx=function(e){var t=e.charCodeAt(0),r=e.charCodeAt(1);return t==255&&r==254?pW(e.slice(2)):t==254&&r==255?aF(e.slice(2)):t==65279?e.slice(1):e},K1=function(t){return String.fromCharCode(t)},OE=function(t){return String.fromCharCode(t)},Vx,bd="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=";function Wx(e){for(var t="",r=0,n=0,a=0,i=0,l=0,o=0,u=0,f=0;f<e.length;)r=e.charCodeAt(f++),i=r>>2,n=e.charCodeAt(f++),l=(r&3)<<4|n>>4,a=e.charCodeAt(f++),o=(n&15)<<2|a>>6,u=a&63,isNaN(n)?o=u=64:isNaN(a)&&(u=64),t+=bd.charAt(i)+bd.charAt(l)+bd.charAt(o)+bd.charAt(u);return t}function ro(e){var t="",r=0,n=0,a=0,i=0,l=0,o=0,u=0;e=e.replace(/[^\w\+\/\=]/g,"");for(var f=0;f<e.length;)i=bd.indexOf(e.charAt(f++)),l=bd.indexOf(e.charAt(f++)),r=i<<2|l>>4,t+=String.fromCharCode(r),o=bd.indexOf(e.charAt(f++)),n=(l&15)<<4|o>>2,o!==64&&(t+=String.fromCharCode(n)),u=bd.indexOf(e.charAt(f++)),a=(o&3)<<6|u,u!==64&&(t+=String.fromCharCode(a));return t}var Tr=(function(){return typeof Buffer<"u"&&typeof process<"u"&&typeof process.versions<"u"&&!!process.versions.node})(),_f=(function(){if(typeof Buffer<"u"){var e=!Buffer.from;if(!e)try{Buffer.from("foo","utf8")}catch{e=!0}return e?function(t,r){return r?new Buffer(t,r):new Buffer(t)}:Buffer.from.bind(Buffer)}return function(){}})();function Sd(e){return Tr?Buffer.alloc?Buffer.alloc(e):new Buffer(e):typeof Uint8Array<"u"?new Uint8Array(e):new Array(e)}function DE(e){return Tr?Buffer.allocUnsafe?Buffer.allocUnsafe(e):new Buffer(e):typeof Uint8Array<"u"?new Uint8Array(e):new Array(e)}var Ql=function(t){return Tr?_f(t,"binary"):t.split("").map(function(r){return r.charCodeAt(0)&255})};function a2(e){if(typeof ArrayBuffer>"u")return Ql(e);for(var t=new ArrayBuffer(e.length),r=new Uint8Array(t),n=0;n!=e.length;++n)r[n]=e.charCodeAt(n)&255;return t}function Md(e){if(Array.isArray(e))return e.map(function(n){return String.fromCharCode(n)}).join("");for(var t=[],r=0;r<e.length;++r)t[r]=String.fromCharCode(e[r]);return t.join("")}function xW(e){if(typeof Uint8Array>"u")throw new Error("Unsupported");return new Uint8Array(e)}function H_(e){if(typeof ArrayBuffer>"u")throw new Error("Unsupported");if(e instanceof ArrayBuffer)return H_(new Uint8Array(e));for(var t=new Array(e.length),r=0;r<e.length;++r)t[r]=e[r];return t}var Ui=Tr?function(e){return Buffer.concat(e.map(function(t){return Buffer.isBuffer(t)?t:_f(t)}))}:function(e){if(typeof Uint8Array<"u"){var t=0,r=0;for(t=0;t<e.length;++t)r+=e[t].length;var n=new Uint8Array(r),a=0;for(t=0,r=0;t<e.length;r+=a,++t)if(a=e[t].length,e[t]instanceof Uint8Array)n.set(e[t],r);else{if(typeof e[t]=="string")throw"wtf";n.set(new Uint8Array(e[t]),r)}return n}return[].concat.apply([],e.map(function(i){return Array.isArray(i)?i:[].slice.call(i)}))};function gW(e){for(var t=[],r=0,n=e.length+250,a=Sd(e.length+255),i=0;i<e.length;++i){var l=e.charCodeAt(i);if(l<128)a[r++]=l;else if(l<2048)a[r++]=192|l>>6&31,a[r++]=128|l&63;else if(l>=55296&&l<57344){l=(l&1023)+64;var o=e.charCodeAt(++i)&1023;a[r++]=240|l>>8&7,a[r++]=128|l>>2&63,a[r++]=128|o>>6&15|(l&3)<<4,a[r++]=128|o&63}else a[r++]=224|l>>12&15,a[r++]=128|l>>6&63,a[r++]=128|l&63;r>n&&(t.push(a.slice(0,r)),r=0,a=Sd(65535),n=65530)}return t.push(a.slice(0,r)),Ui(t)}var tl=/\u0000/g,vx=/[\u0001-\u0006]/g;function Cm(e){for(var t="",r=e.length-1;r>=0;)t+=e.charAt(r--);return t}function _c(e,t){var r=""+e;return r.length>=t?r:Pa("0",t-r.length)+r}function V_(e,t){var r=""+e;return r.length>=t?r:Pa(" ",t-r.length)+r}function Xv(e,t){var r=""+e;return r.length>=t?r:r+Pa(" ",t-r.length)}function vW(e,t){var r=""+Math.round(e);return r.length>=t?r:Pa("0",t-r.length)+r}function yW(e,t){var r=""+e;return r.length>=t?r:Pa("0",t-r.length)+r}var FE=Math.pow(2,32);function fm(e,t){if(e>FE||e<-FE)return vW(e,t);var r=Math.round(e);return yW(r,t)}function Qv(e,t){return t=t||0,e.length>=7+t&&(e.charCodeAt(t)|32)===103&&(e.charCodeAt(t+1)|32)===101&&(e.charCodeAt(t+2)|32)===110&&(e.charCodeAt(t+3)|32)===101&&(e.charCodeAt(t+4)|32)===114&&(e.charCodeAt(t+5)|32)===97&&(e.charCodeAt(t+6)|32)===108}var PE=[["Sun","Sunday"],["Mon","Monday"],["Tue","Tuesday"],["Wed","Wednesday"],["Thu","Thursday"],["Fri","Friday"],["Sat","Saturday"]],_w=[["J","Jan","January"],["F","Feb","February"],["M","Mar","March"],["A","Apr","April"],["M","May","May"],["J","Jun","June"],["J","Jul","July"],["A","Aug","August"],["S","Sep","September"],["O","Oct","October"],["N","Nov","November"],["D","Dec","December"]];function bW(e){return e||(e={}),e[0]="General",e[1]="0",e[2]="0.00",e[3]="#,##0",e[4]="#,##0.00",e[9]="0%",e[10]="0.00%",e[11]="0.00E+00",e[12]="# ?/?",e[13]="# ??/??",e[14]="m/d/yy",e[15]="d-mmm-yy",e[16]="d-mmm",e[17]="mmm-yy",e[18]="h:mm AM/PM",e[19]="h:mm:ss AM/PM",e[20]="h:mm",e[21]="h:mm:ss",e[22]="m/d/yy h:mm",e[37]="#,##0 ;(#,##0)",e[38]="#,##0 ;[Red](#,##0)",e[39]="#,##0.00;(#,##0.00)",e[40]="#,##0.00;[Red](#,##0.00)",e[45]="mm:ss",e[46]="[h]:mm:ss",e[47]="mmss.0",e[48]="##0.0E+0",e[49]="@",e[56]='"/ "hh""mm""ss" "',e}var ur={0:"General",1:"0",2:"0.00",3:"#,##0",4:"#,##0.00",9:"0%",10:"0.00%",11:"0.00E+00",12:"# ?/?",13:"# ??/??",14:"m/d/yy",15:"d-mmm-yy",16:"d-mmm",17:"mmm-yy",18:"h:mm AM/PM",19:"h:mm:ss AM/PM",20:"h:mm",21:"h:mm:ss",22:"m/d/yy h:mm",37:"#,##0 ;(#,##0)",38:"#,##0 ;[Red](#,##0)",39:"#,##0.00;(#,##0.00)",40:"#,##0.00;[Red](#,##0.00)",45:"mm:ss",46:"[h]:mm:ss",47:"mmss.0",48:"##0.0E+0",49:"@",56:'"/ "hh""mm""ss" "'},LE={5:37,6:38,7:39,8:40,23:0,24:0,25:0,26:0,27:14,28:14,29:14,30:14,31:14,50:14,51:14,52:14,53:14,54:14,55:14,56:14,57:14,58:14,59:1,60:2,61:3,62:4,67:9,68:10,69:12,70:13,71:14,72:14,73:15,74:16,75:17,76:20,77:21,78:22,79:45,80:46,81:47,82:0},wW={5:'"$"#,##0_);\\("$"#,##0\\)',63:'"$"#,##0_);\\("$"#,##0\\)',6:'"$"#,##0_);[Red]\\("$"#,##0\\)',64:'"$"#,##0_);[Red]\\("$"#,##0\\)',7:'"$"#,##0.00_);\\("$"#,##0.00\\)',65:'"$"#,##0.00_);\\("$"#,##0.00\\)',8:'"$"#,##0.00_);[Red]\\("$"#,##0.00\\)',66:'"$"#,##0.00_);[Red]\\("$"#,##0.00\\)',41:'_(* #,##0_);_(* \\(#,##0\\);_(* "-"_);_(@_)',42:'_("$"* #,##0_);_("$"* \\(#,##0\\);_("$"* "-"_);_(@_)',43:'_(* #,##0.00_);_(* \\(#,##0.00\\);_(* "-"??_);_(@_)',44:'_("$"* #,##0.00_);_("$"* \\(#,##0.00\\);_("$"* "-"??_);_(@_)'};function Zv(e,t,r){for(var n=e<0?-1:1,a=e*n,i=0,l=1,o=0,u=1,f=0,h=0,m=Math.floor(a);f<t&&(m=Math.floor(a),o=m*l+i,h=m*f+u,!(a-m<5e-8));)a=1/(a-m),i=l,l=o,u=f,f=h;if(h>t&&(f>t?(h=u,o=i):(h=f,o=l)),!r)return[0,n*o,h];var g=Math.floor(n*o/h);return[g,n*o-g*h,h]}function A0(e,t,r){if(e>2958465||e<0)return null;var n=e|0,a=Math.floor(86400*(e-n)),i=0,l=[],o={D:n,T:a,u:86400*(e-n)-a,y:0,m:0,d:0,H:0,M:0,S:0,q:0};if(Math.abs(o.u)<1e-6&&(o.u=0),t&&t.date1904&&(n+=1462),o.u>.9999&&(o.u=0,++a==86400&&(o.T=a=0,++n,++o.D)),n===60)l=r?[1317,10,29]:[1900,2,29],i=3;else if(n===0)l=r?[1317,8,29]:[1900,1,0],i=6;else{n>60&&--n;var u=new Date(1900,0,1);u.setDate(u.getDate()+n-1),l=[u.getFullYear(),u.getMonth()+1,u.getDate()],i=u.getDay(),n<60&&(i=(i+6)%7),r&&(i=EW(u,l))}return o.y=l[0],o.m=l[1],o.d=l[2],o.S=a%60,a=Math.floor(a/60),o.M=a%60,a=Math.floor(a/60),o.H=a,o.q=i,o}var iF=new Date(1899,11,31,0,0,0),NW=iF.getTime(),_W=new Date(1900,2,1,0,0,0);function sF(e,t){var r=e.getTime();return t?r-=1461*24*60*60*1e3:e>=_W&&(r+=1440*60*1e3),(r-(NW+(e.getTimezoneOffset()-iF.getTimezoneOffset())*6e4))/(1440*60*1e3)}function W_(e){return e.indexOf(".")==-1?e:e.replace(/(?:\.0*|(\.\d*[1-9])0+)$/,"$1")}function jW(e){return e.indexOf("E")==-1?e:e.replace(/(?:\.0*|(\.\d*[1-9])0+)[Ee]/,"$1E").replace(/(E[+-])(\d)$/,"$10$2")}function SW(e){var t=e<0?12:11,r=W_(e.toFixed(12));return r.length<=t||(r=e.toPrecision(10),r.length<=t)?r:e.toExponential(5)}function AW(e){var t=W_(e.toFixed(11));return t.length>(e<0?12:11)||t==="0"||t==="-0"?e.toPrecision(6):t}function Gx(e){var t=Math.floor(Math.log(Math.abs(e))*Math.LOG10E),r;return t>=-4&&t<=-1?r=e.toPrecision(10+t):Math.abs(t)<=9?r=SW(e):t===10?r=e.toFixed(10).substr(0,12):r=AW(e),W_(jW(r.toUpperCase()))}function V0(e,t){switch(typeof e){case"string":return e;case"boolean":return e?"TRUE":"FALSE";case"number":return(e|0)===e?e.toString(10):Gx(e);case"undefined":return"";case"object":if(e==null)return"";if(e instanceof Date)return Uo(14,sF(e,t&&t.date1904),t)}throw new Error("unsupported value in General format: "+e)}function EW(e,t){t[0]-=581;var r=e.getDay();return e<60&&(r=(r+6)%7),r}function kW(e,t,r,n){var a="",i=0,l=0,o=r.y,u,f=0;switch(e){case 98:o=r.y+543;case 121:switch(t.length){case 1:case 2:u=o%100,f=2;break;default:u=o%1e4,f=4;break}break;case 109:switch(t.length){case 1:case 2:u=r.m,f=t.length;break;case 3:return _w[r.m-1][1];case 5:return _w[r.m-1][0];default:return _w[r.m-1][2]}break;case 100:switch(t.length){case 1:case 2:u=r.d,f=t.length;break;case 3:return PE[r.q][0];default:return PE[r.q][1]}break;case 104:switch(t.length){case 1:case 2:u=1+(r.H+11)%12,f=t.length;break;default:throw"bad hour format: "+t}break;case 72:switch(t.length){case 1:case 2:u=r.H,f=t.length;break;default:throw"bad hour format: "+t}break;case 77:switch(t.length){case 1:case 2:u=r.M,f=t.length;break;default:throw"bad minute format: "+t}break;case 115:if(t!="s"&&t!="ss"&&t!=".0"&&t!=".00"&&t!=".000")throw"bad second format: "+t;return r.u===0&&(t=="s"||t=="ss")?_c(r.S,t.length):(n>=2?l=n===3?1e3:100:l=n===1?10:1,i=Math.round(l*(r.S+r.u)),i>=60*l&&(i=0),t==="s"?i===0?"0":""+i/l:(a=_c(i,2+n),t==="ss"?a.substr(0,2):"."+a.substr(2,t.length-1)));case 90:switch(t){case"[h]":case"[hh]":u=r.D*24+r.H;break;case"[m]":case"[mm]":u=(r.D*24+r.H)*60+r.M;break;case"[s]":case"[ss]":u=((r.D*24+r.H)*60+r.M)*60+Math.round(r.S+r.u);break;default:throw"bad abstime format: "+t}f=t.length===3?1:2;break;case 101:u=o,f=1;break}var h=f>0?_c(u,f):"";return h}function wd(e){var t=3;if(e.length<=t)return e;for(var r=e.length%t,n=e.substr(0,r);r!=e.length;r+=t)n+=(n.length>0?",":"")+e.substr(r,t);return n}var lF=/%/g;function CW(e,t,r){var n=t.replace(lF,""),a=t.length-n.length;return sf(e,n,r*Math.pow(10,2*a))+Pa("%",a)}function TW(e,t,r){for(var n=t.length-1;t.charCodeAt(n-1)===44;)--n;return sf(e,t.substr(0,n),r/Math.pow(10,3*(t.length-n)))}function oF(e,t){var r,n=e.indexOf("E")-e.indexOf(".")-1;if(e.match(/^#+0.0E\+0$/)){if(t==0)return"0.0E+0";if(t<0)return"-"+oF(e,-t);var a=e.indexOf(".");a===-1&&(a=e.indexOf("E"));var i=Math.floor(Math.log(t)*Math.LOG10E)%a;if(i<0&&(i+=a),r=(t/Math.pow(10,i)).toPrecision(n+1+(a+i)%a),r.indexOf("e")===-1){var l=Math.floor(Math.log(t)*Math.LOG10E);for(r.indexOf(".")===-1?r=r.charAt(0)+"."+r.substr(1)+"E+"+(l-r.length+i):r+="E+"+(l-i);r.substr(0,2)==="0.";)r=r.charAt(0)+r.substr(2,a)+"."+r.substr(2+a),r=r.replace(/^0+([1-9])/,"$1").replace(/^0+\./,"0.");r=r.replace(/\+-/,"-")}r=r.replace(/^([+-]?)(\d*)\.(\d*)[Ee]/,function(o,u,f,h){return u+f+h.substr(0,(a+i)%a)+"."+h.substr(i)+"E"})}else r=t.toExponential(n);return e.match(/E\+00$/)&&r.match(/e[+-]\d$/)&&(r=r.substr(0,r.length-1)+"0"+r.charAt(r.length-1)),e.match(/E\-/)&&r.match(/e\+/)&&(r=r.replace(/e\+/,"e")),r.replace("e","E")}var cF=/# (\?+)( ?)\/( ?)(\d+)/;function OW(e,t,r){var n=parseInt(e[4],10),a=Math.round(t*n),i=Math.floor(a/n),l=a-i*n,o=n;return r+(i===0?"":""+i)+" "+(l===0?Pa(" ",e[1].length+1+e[4].length):V_(l,e[1].length)+e[2]+"/"+e[3]+_c(o,e[4].length))}function DW(e,t,r){return r+(t===0?"":""+t)+Pa(" ",e[1].length+2+e[4].length)}var uF=/^#*0*\.([0#]+)/,fF=/\).*[0#]/,dF=/\(###\) ###\\?-####/;function Ks(e){for(var t="",r,n=0;n!=e.length;++n)switch(r=e.charCodeAt(n)){case 35:break;case 63:t+=" ";break;case 48:t+="0";break;default:t+=String.fromCharCode(r)}return t}function ME(e,t){var r=Math.pow(10,t);return""+Math.round(e*r)/r}function RE(e,t){var r=e-Math.floor(e),n=Math.pow(10,t);return t<(""+Math.round(r*n)).length?0:Math.round(r*n)}function FW(e,t){return t<(""+Math.round((e-Math.floor(e))*Math.pow(10,t))).length?1:0}function PW(e){return e<2147483647&&e>-2147483648?""+(e>=0?e|0:e-1|0):""+Math.floor(e)}function Co(e,t,r){if(e.charCodeAt(0)===40&&!t.match(fF)){var n=t.replace(/\( */,"").replace(/ \)/,"").replace(/\)/,"");return r>=0?Co("n",n,r):"("+Co("n",n,-r)+")"}if(t.charCodeAt(t.length-1)===44)return TW(e,t,r);if(t.indexOf("%")!==-1)return CW(e,t,r);if(t.indexOf("E")!==-1)return oF(t,r);if(t.charCodeAt(0)===36)return"$"+Co(e,t.substr(t.charAt(1)==" "?2:1),r);var a,i,l,o,u=Math.abs(r),f=r<0?"-":"";if(t.match(/^00+$/))return f+fm(u,t.length);if(t.match(/^[#?]+$/))return a=fm(r,0),a==="0"&&(a=""),a.length>t.length?a:Ks(t.substr(0,t.length-a.length))+a;if(i=t.match(cF))return OW(i,u,f);if(t.match(/^#+0+$/))return f+fm(u,t.length-t.indexOf("0"));if(i=t.match(uF))return a=ME(r,i[1].length).replace(/^([^\.]+)$/,"$1."+Ks(i[1])).replace(/\.$/,"."+Ks(i[1])).replace(/\.(\d*)$/,function(b,v){return"."+v+Pa("0",Ks(i[1]).length-v.length)}),t.indexOf("0.")!==-1?a:a.replace(/^0\./,".");if(t=t.replace(/^#+([0.])/,"$1"),i=t.match(/^(0*)\.(#*)$/))return f+ME(u,i[2].length).replace(/\.(\d*[1-9])0*$/,".$1").replace(/^(-?\d*)$/,"$1.").replace(/^0\./,i[1].length?"0.":".");if(i=t.match(/^#{1,3},##0(\.?)$/))return f+wd(fm(u,0));if(i=t.match(/^#,##0\.([#0]*0)$/))return r<0?"-"+Co(e,t,-r):wd(""+(Math.floor(r)+FW(r,i[1].length)))+"."+_c(RE(r,i[1].length),i[1].length);if(i=t.match(/^#,#*,#0/))return Co(e,t.replace(/^#,#*,/,""),r);if(i=t.match(/^([0#]+)(\\?-([0#]+))+$/))return a=Cm(Co(e,t.replace(/[\\-]/g,""),r)),l=0,Cm(Cm(t.replace(/\\/g,"")).replace(/[0#]/g,function(b){return l<a.length?a.charAt(l++):b==="0"?"0":""}));if(t.match(dF))return a=Co(e,"##########",r),"("+a.substr(0,3)+") "+a.substr(3,3)+"-"+a.substr(6);var h="";if(i=t.match(/^([#0?]+)( ?)\/( ?)([#0?]+)/))return l=Math.min(i[4].length,7),o=Zv(u,Math.pow(10,l)-1,!1),a=""+f,h=sf("n",i[1],o[1]),h.charAt(h.length-1)==" "&&(h=h.substr(0,h.length-1)+"0"),a+=h+i[2]+"/"+i[3],h=Xv(o[2],l),h.length<i[4].length&&(h=Ks(i[4].substr(i[4].length-h.length))+h),a+=h,a;if(i=t.match(/^# ([#0?]+)( ?)\/( ?)([#0?]+)/))return l=Math.min(Math.max(i[1].length,i[4].length),7),o=Zv(u,Math.pow(10,l)-1,!0),f+(o[0]||(o[1]?"":"0"))+" "+(o[1]?V_(o[1],l)+i[2]+"/"+i[3]+Xv(o[2],l):Pa(" ",2*l+1+i[2].length+i[3].length));if(i=t.match(/^[#0?]+$/))return a=fm(r,0),t.length<=a.length?a:Ks(t.substr(0,t.length-a.length))+a;if(i=t.match(/^([#0?]+)\.([#0]+)$/)){a=""+r.toFixed(Math.min(i[2].length,10)).replace(/([^0])0+$/,"$1"),l=a.indexOf(".");var m=t.indexOf(".")-l,g=t.length-a.length-m;return Ks(t.substr(0,m)+a+t.substr(t.length-g))}if(i=t.match(/^00,000\.([#0]*0)$/))return l=RE(r,i[1].length),r<0?"-"+Co(e,t,-r):wd(PW(r)).replace(/^\d,\d{3}$/,"0$&").replace(/^\d*$/,function(b){return"00,"+(b.length<3?_c(0,3-b.length):"")+b})+"."+_c(l,i[1].length);switch(t){case"###,##0.00":return Co(e,"#,##0.00",r);case"###,###":case"##,###":case"#,###":var x=wd(fm(u,0));return x!=="0"?f+x:"";case"###,###.00":return Co(e,"###,##0.00",r).replace(/^0\./,".");case"#,###.00":return Co(e,"#,##0.00",r).replace(/^0\./,".")}throw new Error("unsupported format |"+t+"|")}function LW(e,t,r){for(var n=t.length-1;t.charCodeAt(n-1)===44;)--n;return sf(e,t.substr(0,n),r/Math.pow(10,3*(t.length-n)))}function MW(e,t,r){var n=t.replace(lF,""),a=t.length-n.length;return sf(e,n,r*Math.pow(10,2*a))+Pa("%",a)}function hF(e,t){var r,n=e.indexOf("E")-e.indexOf(".")-1;if(e.match(/^#+0.0E\+0$/)){if(t==0)return"0.0E+0";if(t<0)return"-"+hF(e,-t);var a=e.indexOf(".");a===-1&&(a=e.indexOf("E"));var i=Math.floor(Math.log(t)*Math.LOG10E)%a;if(i<0&&(i+=a),r=(t/Math.pow(10,i)).toPrecision(n+1+(a+i)%a),!r.match(/[Ee]/)){var l=Math.floor(Math.log(t)*Math.LOG10E);r.indexOf(".")===-1?r=r.charAt(0)+"."+r.substr(1)+"E+"+(l-r.length+i):r+="E+"+(l-i),r=r.replace(/\+-/,"-")}r=r.replace(/^([+-]?)(\d*)\.(\d*)[Ee]/,function(o,u,f,h){return u+f+h.substr(0,(a+i)%a)+"."+h.substr(i)+"E"})}else r=t.toExponential(n);return e.match(/E\+00$/)&&r.match(/e[+-]\d$/)&&(r=r.substr(0,r.length-1)+"0"+r.charAt(r.length-1)),e.match(/E\-/)&&r.match(/e\+/)&&(r=r.replace(/e\+/,"e")),r.replace("e","E")}function iu(e,t,r){if(e.charCodeAt(0)===40&&!t.match(fF)){var n=t.replace(/\( */,"").replace(/ \)/,"").replace(/\)/,"");return r>=0?iu("n",n,r):"("+iu("n",n,-r)+")"}if(t.charCodeAt(t.length-1)===44)return LW(e,t,r);if(t.indexOf("%")!==-1)return MW(e,t,r);if(t.indexOf("E")!==-1)return hF(t,r);if(t.charCodeAt(0)===36)return"$"+iu(e,t.substr(t.charAt(1)==" "?2:1),r);var a,i,l,o,u=Math.abs(r),f=r<0?"-":"";if(t.match(/^00+$/))return f+_c(u,t.length);if(t.match(/^[#?]+$/))return a=""+r,r===0&&(a=""),a.length>t.length?a:Ks(t.substr(0,t.length-a.length))+a;if(i=t.match(cF))return DW(i,u,f);if(t.match(/^#+0+$/))return f+_c(u,t.length-t.indexOf("0"));if(i=t.match(uF))return a=(""+r).replace(/^([^\.]+)$/,"$1."+Ks(i[1])).replace(/\.$/,"."+Ks(i[1])),a=a.replace(/\.(\d*)$/,function(b,v){return"."+v+Pa("0",Ks(i[1]).length-v.length)}),t.indexOf("0.")!==-1?a:a.replace(/^0\./,".");if(t=t.replace(/^#+([0.])/,"$1"),i=t.match(/^(0*)\.(#*)$/))return f+(""+u).replace(/\.(\d*[1-9])0*$/,".$1").replace(/^(-?\d*)$/,"$1.").replace(/^0\./,i[1].length?"0.":".");if(i=t.match(/^#{1,3},##0(\.?)$/))return f+wd(""+u);if(i=t.match(/^#,##0\.([#0]*0)$/))return r<0?"-"+iu(e,t,-r):wd(""+r)+"."+Pa("0",i[1].length);if(i=t.match(/^#,#*,#0/))return iu(e,t.replace(/^#,#*,/,""),r);if(i=t.match(/^([0#]+)(\\?-([0#]+))+$/))return a=Cm(iu(e,t.replace(/[\\-]/g,""),r)),l=0,Cm(Cm(t.replace(/\\/g,"")).replace(/[0#]/g,function(b){return l<a.length?a.charAt(l++):b==="0"?"0":""}));if(t.match(dF))return a=iu(e,"##########",r),"("+a.substr(0,3)+") "+a.substr(3,3)+"-"+a.substr(6);var h="";if(i=t.match(/^([#0?]+)( ?)\/( ?)([#0?]+)/))return l=Math.min(i[4].length,7),o=Zv(u,Math.pow(10,l)-1,!1),a=""+f,h=sf("n",i[1],o[1]),h.charAt(h.length-1)==" "&&(h=h.substr(0,h.length-1)+"0"),a+=h+i[2]+"/"+i[3],h=Xv(o[2],l),h.length<i[4].length&&(h=Ks(i[4].substr(i[4].length-h.length))+h),a+=h,a;if(i=t.match(/^# ([#0?]+)( ?)\/( ?)([#0?]+)/))return l=Math.min(Math.max(i[1].length,i[4].length),7),o=Zv(u,Math.pow(10,l)-1,!0),f+(o[0]||(o[1]?"":"0"))+" "+(o[1]?V_(o[1],l)+i[2]+"/"+i[3]+Xv(o[2],l):Pa(" ",2*l+1+i[2].length+i[3].length));if(i=t.match(/^[#0?]+$/))return a=""+r,t.length<=a.length?a:Ks(t.substr(0,t.length-a.length))+a;if(i=t.match(/^([#0]+)\.([#0]+)$/)){a=""+r.toFixed(Math.min(i[2].length,10)).replace(/([^0])0+$/,"$1"),l=a.indexOf(".");var m=t.indexOf(".")-l,g=t.length-a.length-m;return Ks(t.substr(0,m)+a+t.substr(t.length-g))}if(i=t.match(/^00,000\.([#0]*0)$/))return r<0?"-"+iu(e,t,-r):wd(""+r).replace(/^\d,\d{3}$/,"0$&").replace(/^\d*$/,function(b){return"00,"+(b.length<3?_c(0,3-b.length):"")+b})+"."+_c(0,i[1].length);switch(t){case"###,###":case"##,###":case"#,###":var x=wd(""+u);return x!=="0"?f+x:"";default:if(t.match(/\.[0#?]*$/))return iu(e,t.slice(0,t.lastIndexOf(".")),r)+Ks(t.slice(t.lastIndexOf(".")))}throw new Error("unsupported format |"+t+"|")}function sf(e,t,r){return(r|0)===r?iu(e,t,r):Co(e,t,r)}function RW(e){for(var t=[],r=!1,n=0,a=0;n<e.length;++n)switch(e.charCodeAt(n)){case 34:r=!r;break;case 95:case 42:case 92:++n;break;case 59:t[t.length]=e.substr(a,n-a),a=n+1}if(t[t.length]=e.substr(a),r===!0)throw new Error("Format |"+e+"| unterminated string ");return t}var mF=/\[[HhMmSs\u0E0A\u0E19\u0E17]*\]/;function ip(e){for(var t=0,r="",n="";t<e.length;)switch(r=e.charAt(t)){case"G":Qv(e,t)&&(t+=6),t++;break;case'"':for(;e.charCodeAt(++t)!==34&&t<e.length;);++t;break;case"\\":t+=2;break;case"_":t+=2;break;case"@":++t;break;case"B":case"b":if(e.charAt(t+1)==="1"||e.charAt(t+1)==="2")return!0;case"M":case"D":case"Y":case"H":case"S":case"E":case"m":case"d":case"y":case"h":case"s":case"e":case"g":return!0;case"A":case"a":case"":if(e.substr(t,3).toUpperCase()==="A/P"||e.substr(t,5).toUpperCase()==="AM/PM"||e.substr(t,5).toUpperCase()==="/")return!0;++t;break;case"[":for(n=r;e.charAt(t++)!=="]"&&t<e.length;)n+=e.charAt(t);if(n.match(mF))return!0;break;case".":case"0":case"#":for(;t<e.length&&("0#?.,E+-%".indexOf(r=e.charAt(++t))>-1||r=="\\"&&e.charAt(t+1)=="-"&&"0#".indexOf(e.charAt(t+2))>-1););break;case"?":for(;e.charAt(++t)===r;);break;case"*":++t,(e.charAt(t)==" "||e.charAt(t)=="*")&&++t;break;case"(":case")":++t;break;case"1":case"2":case"3":case"4":case"5":case"6":case"7":case"8":case"9":for(;t<e.length&&"0123456789".indexOf(e.charAt(++t))>-1;);break;case" ":++t;break;default:++t;break}return!1}function IW(e,t,r,n){for(var a=[],i="",l=0,o="",u="t",f,h,m,g="H";l<e.length;)switch(o=e.charAt(l)){case"G":if(!Qv(e,l))throw new Error("unrecognized character "+o+" in "+e);a[a.length]={t:"G",v:"General"},l+=7;break;case'"':for(i="";(m=e.charCodeAt(++l))!==34&&l<e.length;)i+=String.fromCharCode(m);a[a.length]={t:"t",v:i},++l;break;case"\\":var x=e.charAt(++l),b=x==="("||x===")"?x:"t";a[a.length]={t:b,v:x},++l;break;case"_":a[a.length]={t:"t",v:" "},l+=2;break;case"@":a[a.length]={t:"T",v:t},++l;break;case"B":case"b":if(e.charAt(l+1)==="1"||e.charAt(l+1)==="2"){if(f==null&&(f=A0(t,r,e.charAt(l+1)==="2"),f==null))return"";a[a.length]={t:"X",v:e.substr(l,2)},u=o,l+=2;break}case"M":case"D":case"Y":case"H":case"S":case"E":o=o.toLowerCase();case"m":case"d":case"y":case"h":case"s":case"e":case"g":if(t<0||f==null&&(f=A0(t,r),f==null))return"";for(i=o;++l<e.length&&e.charAt(l).toLowerCase()===o;)i+=o;o==="m"&&u.toLowerCase()==="h"&&(o="M"),o==="h"&&(o=g),a[a.length]={t:o,v:i},u=o;break;case"A":case"a":case"":var v={t:o,v:o};if(f==null&&(f=A0(t,r)),e.substr(l,3).toUpperCase()==="A/P"?(f!=null&&(v.v=f.H>=12?"P":"A"),v.t="T",g="h",l+=3):e.substr(l,5).toUpperCase()==="AM/PM"?(f!=null&&(v.v=f.H>=12?"PM":"AM"),v.t="T",l+=5,g="h"):e.substr(l,5).toUpperCase()==="/"?(f!=null&&(v.v=f.H>=12?"":""),v.t="T",l+=5,g="h"):(v.t="t",++l),f==null&&v.t==="T")return"";a[a.length]=v,u=o;break;case"[":for(i=o;e.charAt(l++)!=="]"&&l<e.length;)i+=e.charAt(l);if(i.slice(-1)!=="]")throw'unterminated "[" block: |'+i+"|";if(i.match(mF)){if(f==null&&(f=A0(t,r),f==null))return"";a[a.length]={t:"Z",v:i.toLowerCase()},u=i.charAt(1)}else i.indexOf("$")>-1&&(i=(i.match(/\$([^-\[\]]*)/)||[])[1]||"$",ip(e)||(a[a.length]={t:"t",v:i}));break;case".":if(f!=null){for(i=o;++l<e.length&&(o=e.charAt(l))==="0";)i+=o;a[a.length]={t:"s",v:i};break}case"0":case"#":for(i=o;++l<e.length&&"0#?.,E+-%".indexOf(o=e.charAt(l))>-1;)i+=o;a[a.length]={t:"n",v:i};break;case"?":for(i=o;e.charAt(++l)===o;)i+=o;a[a.length]={t:o,v:i},u=o;break;case"*":++l,(e.charAt(l)==" "||e.charAt(l)=="*")&&++l;break;case"(":case")":a[a.length]={t:n===1?"t":o,v:o},++l;break;case"1":case"2":case"3":case"4":case"5":case"6":case"7":case"8":case"9":for(i=o;l<e.length&&"0123456789".indexOf(e.charAt(++l))>-1;)i+=e.charAt(l);a[a.length]={t:"D",v:i};break;case" ":a[a.length]={t:o,v:o},++l;break;case"$":a[a.length]={t:"t",v:"$"},++l;break;default:if(",$-+/():!^&'~{}<>=acfijklopqrtuvwxzP".indexOf(o)===-1)throw new Error("unrecognized character "+o+" in "+e);a[a.length]={t:"t",v:o},++l;break}var w=0,N=0,E;for(l=a.length-1,u="t";l>=0;--l)switch(a[l].t){case"h":case"H":a[l].t=g,u="h",w<1&&(w=1);break;case"s":(E=a[l].v.match(/\.0+$/))&&(N=Math.max(N,E[0].length-1)),w<3&&(w=3);case"d":case"y":case"M":case"e":u=a[l].t;break;case"m":u==="s"&&(a[l].t="M",w<2&&(w=2));break;case"X":break;case"Z":w<1&&a[l].v.match(/[Hh]/)&&(w=1),w<2&&a[l].v.match(/[Mm]/)&&(w=2),w<3&&a[l].v.match(/[Ss]/)&&(w=3)}switch(w){case 0:break;case 1:f.u>=.5&&(f.u=0,++f.S),f.S>=60&&(f.S=0,++f.M),f.M>=60&&(f.M=0,++f.H);break;case 2:f.u>=.5&&(f.u=0,++f.S),f.S>=60&&(f.S=0,++f.M);break}var j="",T;for(l=0;l<a.length;++l)switch(a[l].t){case"t":case"T":case" ":case"D":break;case"X":a[l].v="",a[l].t=";";break;case"d":case"m":case"y":case"h":case"H":case"M":case"s":case"e":case"b":case"Z":a[l].v=kW(a[l].t.charCodeAt(0),a[l].v,f,N),a[l].t="t";break;case"n":case"?":for(T=l+1;a[T]!=null&&((o=a[T].t)==="?"||o==="D"||(o===" "||o==="t")&&a[T+1]!=null&&(a[T+1].t==="?"||a[T+1].t==="t"&&a[T+1].v==="/")||a[l].t==="("&&(o===" "||o==="n"||o===")")||o==="t"&&(a[T].v==="/"||a[T].v===" "&&a[T+1]!=null&&a[T+1].t=="?"));)a[l].v+=a[T].v,a[T]={v:"",t:";"},++T;j+=a[l].v,l=T-1;break;case"G":a[l].t="t",a[l].v=V0(t,r);break}var O="",F,D;if(j.length>0){j.charCodeAt(0)==40?(F=t<0&&j.charCodeAt(0)===45?-t:t,D=sf("n",j,F)):(F=t<0&&n>1?-t:t,D=sf("n",j,F),F<0&&a[0]&&a[0].t=="t"&&(D=D.substr(1),a[0].v="-"+a[0].v)),T=D.length-1;var L=a.length;for(l=0;l<a.length;++l)if(a[l]!=null&&a[l].t!="t"&&a[l].v.indexOf(".")>-1){L=l;break}var B=a.length;if(L===a.length&&D.indexOf("E")===-1){for(l=a.length-1;l>=0;--l)a[l]==null||"n?".indexOf(a[l].t)===-1||(T>=a[l].v.length-1?(T-=a[l].v.length,a[l].v=D.substr(T+1,a[l].v.length)):T<0?a[l].v="":(a[l].v=D.substr(0,T+1),T=-1),a[l].t="t",B=l);T>=0&&B<a.length&&(a[B].v=D.substr(0,T+1)+a[B].v)}else if(L!==a.length&&D.indexOf("E")===-1){for(T=D.indexOf(".")-1,l=L;l>=0;--l)if(!(a[l]==null||"n?".indexOf(a[l].t)===-1)){for(h=a[l].v.indexOf(".")>-1&&l===L?a[l].v.indexOf(".")-1:a[l].v.length-1,O=a[l].v.substr(h+1);h>=0;--h)T>=0&&(a[l].v.charAt(h)==="0"||a[l].v.charAt(h)==="#")&&(O=D.charAt(T--)+O);a[l].v=O,a[l].t="t",B=l}for(T>=0&&B<a.length&&(a[B].v=D.substr(0,T+1)+a[B].v),T=D.indexOf(".")+1,l=L;l<a.length;++l)if(!(a[l]==null||"n?(".indexOf(a[l].t)===-1&&l!==L)){for(h=a[l].v.indexOf(".")>-1&&l===L?a[l].v.indexOf(".")+1:0,O=a[l].v.substr(0,h);h<a[l].v.length;++h)T<D.length&&(O+=D.charAt(T++));a[l].v=O,a[l].t="t",B=l}}}for(l=0;l<a.length;++l)a[l]!=null&&"n?".indexOf(a[l].t)>-1&&(F=n>1&&t<0&&l>0&&a[l-1].v==="-"?-t:t,a[l].v=sf(a[l].t,a[l].v,F),a[l].t="t");var H="";for(l=0;l!==a.length;++l)a[l]!=null&&(H+=a[l].v);return H}var IE=/\[(=|>[=]?|<[>=]?)(-?\d+(?:\.\d*)?)\]/;function BE(e,t){if(t==null)return!1;var r=parseFloat(t[2]);switch(t[1]){case"=":if(e==r)return!0;break;case">":if(e>r)return!0;break;case"<":if(e<r)return!0;break;case"<>":if(e!=r)return!0;break;case">=":if(e>=r)return!0;break;case"<=":if(e<=r)return!0;break}return!1}function BW(e,t){var r=RW(e),n=r.length,a=r[n-1].indexOf("@");if(n<4&&a>-1&&--n,r.length>4)throw new Error("cannot find right format for |"+r.join("|")+"|");if(typeof t!="number")return[4,r.length===4||a>-1?r[r.length-1]:"@"];switch(r.length){case 1:r=a>-1?["General","General","General",r[0]]:[r[0],r[0],r[0],"@"];break;case 2:r=a>-1?[r[0],r[0],r[0],r[1]]:[r[0],r[1],r[0],"@"];break;case 3:r=a>-1?[r[0],r[1],r[0],r[2]]:[r[0],r[1],r[2],"@"];break}var i=t>0?r[0]:t<0?r[1]:r[2];if(r[0].indexOf("[")===-1&&r[1].indexOf("[")===-1)return[n,i];if(r[0].match(/\[[=<>]/)!=null||r[1].match(/\[[=<>]/)!=null){var l=r[0].match(IE),o=r[1].match(IE);return BE(t,l)?[n,r[0]]:BE(t,o)?[n,r[1]]:[n,r[l!=null&&o!=null?2:1]]}return[n,i]}function Uo(e,t,r){r==null&&(r={});var n="";switch(typeof e){case"string":e=="m/d/yy"&&r.dateNF?n=r.dateNF:n=e;break;case"number":e==14&&r.dateNF?n=r.dateNF:n=(r.table!=null?r.table:ur)[e],n==null&&(n=r.table&&r.table[LE[e]]||ur[LE[e]]),n==null&&(n=wW[e]||"General");break}if(Qv(n,0))return V0(t,r);t instanceof Date&&(t=sF(t,r.date1904));var a=BW(n,t);if(Qv(a[1]))return V0(t,r);if(t===!0)t="TRUE";else if(t===!1)t="FALSE";else if(t===""||t==null)return"";return IW(a[1],t,r,a[0])}function lf(e,t){if(typeof t!="number"){t=+t||-1;for(var r=0;r<392;++r){if(ur[r]==null){t<0&&(t=r);continue}if(ur[r]==e){t=r;break}}t<0&&(t=391)}return ur[t]=e,t}function i2(e){for(var t=0;t!=392;++t)e[t]!==void 0&&lf(e[t],t)}function sp(){ur=bW()}var UW={5:'"$"#,##0_);\\("$"#,##0\\)',6:'"$"#,##0_);[Red]\\("$"#,##0\\)',7:'"$"#,##0.00_);\\("$"#,##0.00\\)',8:'"$"#,##0.00_);[Red]\\("$"#,##0.00\\)',23:"General",24:"General",25:"General",26:"General",27:"m/d/yy",28:"m/d/yy",29:"m/d/yy",30:"m/d/yy",31:"m/d/yy",32:"h:mm:ss",33:"h:mm:ss",34:"h:mm:ss",35:"h:mm:ss",36:"m/d/yy",41:'_(* #,##0_);_(* (#,##0);_(* "-"_);_(@_)',42:'_("$"* #,##0_);_("$"* (#,##0);_("$"* "-"_);_(@_)',43:'_(* #,##0.00_);_(* (#,##0.00);_(* "-"??_);_(@_)',44:'_("$"* #,##0.00_);_("$"* (#,##0.00);_("$"* "-"??_);_(@_)',50:"m/d/yy",51:"m/d/yy",52:"m/d/yy",53:"m/d/yy",54:"m/d/yy",55:"m/d/yy",56:"m/d/yy",57:"m/d/yy",58:"m/d/yy",59:"0",60:"0.00",61:"#,##0",62:"#,##0.00",63:'"$"#,##0_);\\("$"#,##0\\)',64:'"$"#,##0_);[Red]\\("$"#,##0\\)',65:'"$"#,##0.00_);\\("$"#,##0.00\\)',66:'"$"#,##0.00_);[Red]\\("$"#,##0.00\\)',67:"0%",68:"0.00%",69:"# ?/?",70:"# ??/??",71:"m/d/yy",72:"m/d/yy",73:"d-mmm-yy",74:"d-mmm",75:"mmm-yy",76:"h:mm",77:"h:mm:ss",78:"m/d/yy h:mm",79:"mm:ss",80:"[h]:mm:ss",81:"mmss.0"},pF=/[dD]+|[mM]+|[yYeE]+|[Hh]+|[Ss]+/g;function zW(e){var t=typeof e=="number"?ur[e]:e;return t=t.replace(pF,"(\\d+)"),new RegExp("^"+t+"$")}function qW(e,t,r){var n=-1,a=-1,i=-1,l=-1,o=-1,u=-1;(t.match(pF)||[]).forEach(function(m,g){var x=parseInt(r[g+1],10);switch(m.toLowerCase().charAt(0)){case"y":n=x;break;case"d":i=x;break;case"h":l=x;break;case"s":u=x;break;case"m":l>=0?o=x:a=x;break}}),u>=0&&o==-1&&a>=0&&(o=a,a=-1);var f=(""+(n>=0?n:new Date().getFullYear())).slice(-4)+"-"+("00"+(a>=1?a:1)).slice(-2)+"-"+("00"+(i>=1?i:1)).slice(-2);f.length==7&&(f="0"+f),f.length==8&&(f="20"+f);var h=("00"+(l>=0?l:0)).slice(-2)+":"+("00"+(o>=0?o:0)).slice(-2)+":"+("00"+(u>=0?u:0)).slice(-2);return l==-1&&o==-1&&u==-1?f:n==-1&&a==-1&&i==-1?h:f+"T"+h}var $W=(function(){var e={};e.version="1.2.0";function t(){for(var D=0,L=new Array(256),B=0;B!=256;++B)D=B,D=D&1?-306674912^D>>>1:D>>>1,D=D&1?-306674912^D>>>1:D>>>1,D=D&1?-306674912^D>>>1:D>>>1,D=D&1?-306674912^D>>>1:D>>>1,D=D&1?-306674912^D>>>1:D>>>1,D=D&1?-306674912^D>>>1:D>>>1,D=D&1?-306674912^D>>>1:D>>>1,D=D&1?-306674912^D>>>1:D>>>1,L[B]=D;return typeof Int32Array<"u"?new Int32Array(L):L}var r=t();function n(D){var L=0,B=0,H=0,P=typeof Int32Array<"u"?new Int32Array(4096):new Array(4096);for(H=0;H!=256;++H)P[H]=D[H];for(H=0;H!=256;++H)for(B=D[H],L=256+H;L<4096;L+=256)B=P[L]=B>>>8^D[B&255];var U=[];for(H=1;H!=16;++H)U[H-1]=typeof Int32Array<"u"?P.subarray(H*256,H*256+256):P.slice(H*256,H*256+256);return U}var a=n(r),i=a[0],l=a[1],o=a[2],u=a[3],f=a[4],h=a[5],m=a[6],g=a[7],x=a[8],b=a[9],v=a[10],w=a[11],N=a[12],E=a[13],j=a[14];function T(D,L){for(var B=L^-1,H=0,P=D.length;H<P;)B=B>>>8^r[(B^D.charCodeAt(H++))&255];return~B}function O(D,L){for(var B=L^-1,H=D.length-15,P=0;P<H;)B=j[D[P++]^B&255]^E[D[P++]^B>>8&255]^N[D[P++]^B>>16&255]^w[D[P++]^B>>>24]^v[D[P++]]^b[D[P++]]^x[D[P++]]^g[D[P++]]^m[D[P++]]^h[D[P++]]^f[D[P++]]^u[D[P++]]^o[D[P++]]^l[D[P++]]^i[D[P++]]^r[D[P++]];for(H+=15;P<H;)B=B>>>8^r[(B^D[P++])&255];return~B}function F(D,L){for(var B=L^-1,H=0,P=D.length,U=0,K=0;H<P;)U=D.charCodeAt(H++),U<128?B=B>>>8^r[(B^U)&255]:U<2048?(B=B>>>8^r[(B^(192|U>>6&31))&255],B=B>>>8^r[(B^(128|U&63))&255]):U>=55296&&U<57344?(U=(U&1023)+64,K=D.charCodeAt(H++)&1023,B=B>>>8^r[(B^(240|U>>8&7))&255],B=B>>>8^r[(B^(128|U>>2&63))&255],B=B>>>8^r[(B^(128|K>>6&15|(U&3)<<4))&255],B=B>>>8^r[(B^(128|K&63))&255]):(B=B>>>8^r[(B^(224|U>>12&15))&255],B=B>>>8^r[(B^(128|U>>6&63))&255],B=B>>>8^r[(B^(128|U&63))&255]);return~B}return e.table=r,e.bstr=T,e.buf=O,e.str=F,e})(),nr=(function(){var t={};t.version="1.2.1";function r(re,Ne){for(var de=re.split("/"),he=Ne.split("/"),ve=0,je=0,Me=Math.min(de.length,he.length);ve<Me;++ve){if(je=de[ve].length-he[ve].length)return je;if(de[ve]!=he[ve])return de[ve]<he[ve]?-1:1}return de.length-he.length}function n(re){if(re.charAt(re.length-1)=="/")return re.slice(0,-1).indexOf("/")===-1?re:n(re.slice(0,-1));var Ne=re.lastIndexOf("/");return Ne===-1?re:re.slice(0,Ne+1)}function a(re){if(re.charAt(re.length-1)=="/")return a(re.slice(0,-1));var Ne=re.lastIndexOf("/");return Ne===-1?re:re.slice(Ne+1)}function i(re,Ne){typeof Ne=="string"&&(Ne=new Date(Ne));var de=Ne.getHours();de=de<<6|Ne.getMinutes(),de=de<<5|Ne.getSeconds()>>>1,re.write_shift(2,de);var he=Ne.getFullYear()-1980;he=he<<4|Ne.getMonth()+1,he=he<<5|Ne.getDate(),re.write_shift(2,he)}function l(re){var Ne=re.read_shift(2)&65535,de=re.read_shift(2)&65535,he=new Date,ve=de&31;de>>>=5;var je=de&15;de>>>=4,he.setMilliseconds(0),he.setFullYear(de+1980),he.setMonth(je-1),he.setDate(ve);var Me=Ne&31;Ne>>>=5;var Ye=Ne&63;return Ne>>>=6,he.setHours(Ne),he.setMinutes(Ye),he.setSeconds(Me<<1),he}function o(re){as(re,0);for(var Ne={},de=0;re.l<=re.length-4;){var he=re.read_shift(2),ve=re.read_shift(2),je=re.l+ve,Me={};switch(he){case 21589:de=re.read_shift(1),de&1&&(Me.mtime=re.read_shift(4)),ve>5&&(de&2&&(Me.atime=re.read_shift(4)),de&4&&(Me.ctime=re.read_shift(4))),Me.mtime&&(Me.mt=new Date(Me.mtime*1e3));break}re.l=je,Ne[he]=Me}return Ne}var u;function f(){return u||(u={})}function h(re,Ne){if(re[0]==80&&re[1]==75)return pn(re,Ne);if((re[0]|32)==109&&(re[1]|32)==105)return Xt(re,Ne);if(re.length<512)throw new Error("CFB file size "+re.length+" < 512");var de=3,he=512,ve=0,je=0,Me=0,Ye=0,Ie=0,Be=[],ze=re.slice(0,512);as(ze,0);var ft=m(ze);switch(de=ft[0],de){case 3:he=512;break;case 4:he=4096;break;case 0:if(ft[1]==0)return pn(re,Ne);default:throw new Error("Major Version: Expected 3 or 4 saw "+de)}he!==512&&(ze=re.slice(0,he),as(ze,28));var gt=re.slice(0,he);g(ze,de);var St=ze.read_shift(4,"i");if(de===3&&St!==0)throw new Error("# Directory Sectors: Expected 0 saw "+St);ze.l+=4,Me=ze.read_shift(4,"i"),ze.l+=4,ze.chk("00100000","Mini Stream Cutoff Size: "),Ye=ze.read_shift(4,"i"),ve=ze.read_shift(4,"i"),Ie=ze.read_shift(4,"i"),je=ze.read_shift(4,"i");for(var mt=-1,Nt=0;Nt<109&&(mt=ze.read_shift(4,"i"),!(mt<0));++Nt)Be[Nt]=mt;var Ft=x(re,he);w(Ie,je,Ft,he,Be);var ln=E(Ft,Me,Be,he);ln[Me].name="!Directory",ve>0&&Ye!==K&&(ln[Ye].name="!MiniFAT"),ln[Be[0]].name="!FAT",ln.fat_addrs=Be,ln.ssz=he;var Cr={},fn=[],Wi=[],Dl=[];j(Me,ln,Ft,fn,ve,Cr,Wi,Ye),b(Wi,Dl,fn),fn.shift();var Fl={FileIndex:Wi,FullPaths:Dl};return Ne&&Ne.raw&&(Fl.raw={header:gt,sectors:Ft}),Fl}function m(re){if(re[re.l]==80&&re[re.l+1]==75)return[0,0];re.chk(ee,"Header Signature: "),re.l+=16;var Ne=re.read_shift(2,"u");return[re.read_shift(2,"u"),Ne]}function g(re,Ne){var de=9;switch(re.l+=2,de=re.read_shift(2)){case 9:if(Ne!=3)throw new Error("Sector Shift: Expected 9 saw "+de);break;case 12:if(Ne!=4)throw new Error("Sector Shift: Expected 12 saw "+de);break;default:throw new Error("Sector Shift: Expected 9 or 12 saw "+de)}re.chk("0600","Mini Sector Shift: "),re.chk("000000000000","Reserved: ")}function x(re,Ne){for(var de=Math.ceil(re.length/Ne)-1,he=[],ve=1;ve<de;++ve)he[ve-1]=re.slice(ve*Ne,(ve+1)*Ne);return he[de-1]=re.slice(de*Ne),he}function b(re,Ne,de){for(var he=0,ve=0,je=0,Me=0,Ye=0,Ie=de.length,Be=[],ze=[];he<Ie;++he)Be[he]=ze[he]=he,Ne[he]=de[he];for(;Ye<ze.length;++Ye)he=ze[Ye],ve=re[he].L,je=re[he].R,Me=re[he].C,Be[he]===he&&(ve!==-1&&Be[ve]!==ve&&(Be[he]=Be[ve]),je!==-1&&Be[je]!==je&&(Be[he]=Be[je])),Me!==-1&&(Be[Me]=he),ve!==-1&&he!=Be[he]&&(Be[ve]=Be[he],ze.lastIndexOf(ve)<Ye&&ze.push(ve)),je!==-1&&he!=Be[he]&&(Be[je]=Be[he],ze.lastIndexOf(je)<Ye&&ze.push(je));for(he=1;he<Ie;++he)Be[he]===he&&(je!==-1&&Be[je]!==je?Be[he]=Be[je]:ve!==-1&&Be[ve]!==ve&&(Be[he]=Be[ve]));for(he=1;he<Ie;++he)if(re[he].type!==0){if(Ye=he,Ye!=Be[Ye])do Ye=Be[Ye],Ne[he]=Ne[Ye]+"/"+Ne[he];while(Ye!==0&&Be[Ye]!==-1&&Ye!=Be[Ye]);Be[he]=-1}for(Ne[0]+="/",he=1;he<Ie;++he)re[he].type!==2&&(Ne[he]+="/")}function v(re,Ne,de){for(var he=re.start,ve=re.size,je=[],Me=he;de&&ve>0&&Me>=0;)je.push(Ne.slice(Me*U,Me*U+U)),ve-=U,Me=_0(de,Me*4);return je.length===0?Je(0):Ui(je).slice(0,re.size)}function w(re,Ne,de,he,ve){var je=K;if(re===K){if(Ne!==0)throw new Error("DIFAT chain shorter than expected")}else if(re!==-1){var Me=de[re],Ye=(he>>>2)-1;if(!Me)return;for(var Ie=0;Ie<Ye&&(je=_0(Me,Ie*4))!==K;++Ie)ve.push(je);w(_0(Me,he-4),Ne-1,de,he,ve)}}function N(re,Ne,de,he,ve){var je=[],Me=[];ve||(ve=[]);var Ye=he-1,Ie=0,Be=0;for(Ie=Ne;Ie>=0;){ve[Ie]=!0,je[je.length]=Ie,Me.push(re[Ie]);var ze=de[Math.floor(Ie*4/he)];if(Be=Ie*4&Ye,he<4+Be)throw new Error("FAT boundary crossed: "+Ie+" 4 "+he);if(!re[ze])break;Ie=_0(re[ze],Be)}return{nodes:je,data:QE([Me])}}function E(re,Ne,de,he){var ve=re.length,je=[],Me=[],Ye=[],Ie=[],Be=he-1,ze=0,ft=0,gt=0,St=0;for(ze=0;ze<ve;++ze)if(Ye=[],gt=ze+Ne,gt>=ve&&(gt-=ve),!Me[gt]){Ie=[];var mt=[];for(ft=gt;ft>=0;){mt[ft]=!0,Me[ft]=!0,Ye[Ye.length]=ft,Ie.push(re[ft]);var Nt=de[Math.floor(ft*4/he)];if(St=ft*4&Be,he<4+St)throw new Error("FAT boundary crossed: "+ft+" 4 "+he);if(!re[Nt]||(ft=_0(re[Nt],St),mt[ft]))break}je[gt]={nodes:Ye,data:QE([Ie])}}return je}function j(re,Ne,de,he,ve,je,Me,Ye){for(var Ie=0,Be=he.length?2:0,ze=Ne[re].data,ft=0,gt=0,St;ft<ze.length;ft+=128){var mt=ze.slice(ft,ft+128);as(mt,64),gt=mt.read_shift(2),St=J_(mt,0,gt-Be),he.push(St);var Nt={name:St,type:mt.read_shift(1),color:mt.read_shift(1),L:mt.read_shift(4,"i"),R:mt.read_shift(4,"i"),C:mt.read_shift(4,"i"),clsid:mt.read_shift(16),state:mt.read_shift(4,"i"),start:0,size:0},Ft=mt.read_shift(2)+mt.read_shift(2)+mt.read_shift(2)+mt.read_shift(2);Ft!==0&&(Nt.ct=T(mt,mt.l-8));var ln=mt.read_shift(2)+mt.read_shift(2)+mt.read_shift(2)+mt.read_shift(2);ln!==0&&(Nt.mt=T(mt,mt.l-8)),Nt.start=mt.read_shift(4,"i"),Nt.size=mt.read_shift(4,"i"),Nt.size<0&&Nt.start<0&&(Nt.size=Nt.type=0,Nt.start=K,Nt.name=""),Nt.type===5?(Ie=Nt.start,ve>0&&Ie!==K&&(Ne[Ie].name="!StreamData")):Nt.size>=4096?(Nt.storage="fat",Ne[Nt.start]===void 0&&(Ne[Nt.start]=N(de,Nt.start,Ne.fat_addrs,Ne.ssz)),Ne[Nt.start].name=Nt.name,Nt.content=Ne[Nt.start].data.slice(0,Nt.size)):(Nt.storage="minifat",Nt.size<0?Nt.size=0:Ie!==K&&Nt.start!==K&&Ne[Ie]&&(Nt.content=v(Nt,Ne[Ie].data,(Ne[Ye]||{}).data))),Nt.content&&as(Nt.content,0),je[St]=Nt,Me.push(Nt)}}function T(re,Ne){return new Date((Yl(re,Ne+4)/1e7*Math.pow(2,32)+Yl(re,Ne)/1e7-11644473600)*1e3)}function O(re,Ne){return f(),h(u.readFileSync(re),Ne)}function F(re,Ne){var de=Ne&&Ne.type;switch(de||Tr&&Buffer.isBuffer(re)&&(de="buffer"),de||"base64"){case"file":return O(re,Ne);case"base64":return h(Ql(ro(re)),Ne);case"binary":return h(Ql(re),Ne)}return h(re,Ne)}function D(re,Ne){var de=Ne||{},he=de.root||"Root Entry";if(re.FullPaths||(re.FullPaths=[]),re.FileIndex||(re.FileIndex=[]),re.FullPaths.length!==re.FileIndex.length)throw new Error("inconsistent CFB structure");re.FullPaths.length===0&&(re.FullPaths[0]=he+"/",re.FileIndex[0]={name:he,type:5}),de.CLSID&&(re.FileIndex[0].clsid=de.CLSID),L(re)}function L(re){var Ne="Sh33tJ5";if(!nr.find(re,"/"+Ne)){var de=Je(4);de[0]=55,de[1]=de[3]=50,de[2]=54,re.FileIndex.push({name:Ne,type:2,content:de,size:4,L:69,R:69,C:69}),re.FullPaths.push(re.FullPaths[0]+Ne),B(re)}}function B(re,Ne){D(re);for(var de=!1,he=!1,ve=re.FullPaths.length-1;ve>=0;--ve){var je=re.FileIndex[ve];switch(je.type){case 0:he?de=!0:(re.FileIndex.pop(),re.FullPaths.pop());break;case 1:case 2:case 5:he=!0,isNaN(je.R*je.L*je.C)&&(de=!0),je.R>-1&&je.L>-1&&je.R==je.L&&(de=!0);break;default:de=!0;break}}if(!(!de&&!Ne)){var Me=new Date(1987,1,19),Ye=0,Ie=Object.create?Object.create(null):{},Be=[];for(ve=0;ve<re.FullPaths.length;++ve)Ie[re.FullPaths[ve]]=!0,re.FileIndex[ve].type!==0&&Be.push([re.FullPaths[ve],re.FileIndex[ve]]);for(ve=0;ve<Be.length;++ve){var ze=n(Be[ve][0]);he=Ie[ze],he||(Be.push([ze,{name:a(ze).replace("/",""),type:1,clsid:ne,ct:Me,mt:Me,content:null}]),Ie[ze]=!0)}for(Be.sort(function(St,mt){return r(St[0],mt[0])}),re.FullPaths=[],re.FileIndex=[],ve=0;ve<Be.length;++ve)re.FullPaths[ve]=Be[ve][0],re.FileIndex[ve]=Be[ve][1];for(ve=0;ve<Be.length;++ve){var ft=re.FileIndex[ve],gt=re.FullPaths[ve];if(ft.name=a(gt).replace("/",""),ft.L=ft.R=ft.C=-(ft.color=1),ft.size=ft.content?ft.content.length:0,ft.start=0,ft.clsid=ft.clsid||ne,ve===0)ft.C=Be.length>1?1:-1,ft.size=0,ft.type=5;else if(gt.slice(-1)=="/"){for(Ye=ve+1;Ye<Be.length&&n(re.FullPaths[Ye])!=gt;++Ye);for(ft.C=Ye>=Be.length?-1:Ye,Ye=ve+1;Ye<Be.length&&n(re.FullPaths[Ye])!=n(gt);++Ye);ft.R=Ye>=Be.length?-1:Ye,ft.type=1}else n(re.FullPaths[ve+1]||"")==n(gt)&&(ft.R=ve+1),ft.type=2}}}function H(re,Ne){var de=Ne||{};if(de.fileType=="mad")return Ol(re,de);switch(B(re),de.fileType){case"zip":return qr(re,de)}var he=(function(St){for(var mt=0,Nt=0,Ft=0;Ft<St.FileIndex.length;++Ft){var ln=St.FileIndex[Ft];if(ln.content){var Cr=ln.content.length;Cr>0&&(Cr<4096?mt+=Cr+63>>6:Nt+=Cr+511>>9)}}for(var fn=St.FullPaths.length+3>>2,Wi=mt+7>>3,Dl=mt+127>>7,Fl=Wi+Nt+fn+Dl,Is=Fl+127>>7,Rc=Is<=109?0:Math.ceil((Is-109)/127);Fl+Is+Rc+127>>7>Is;)Rc=++Is<=109?0:Math.ceil((Is-109)/127);var Ba=[1,Rc,Is,Dl,fn,Nt,mt,0];return St.FileIndex[0].size=mt<<6,Ba[7]=(St.FileIndex[0].start=Ba[0]+Ba[1]+Ba[2]+Ba[3]+Ba[4]+Ba[5])+(Ba[6]+7>>3),Ba})(re),ve=Je(he[7]<<9),je=0,Me=0;{for(je=0;je<8;++je)ve.write_shift(1,me[je]);for(je=0;je<8;++je)ve.write_shift(2,0);for(ve.write_shift(2,62),ve.write_shift(2,3),ve.write_shift(2,65534),ve.write_shift(2,9),ve.write_shift(2,6),je=0;je<3;++je)ve.write_shift(2,0);for(ve.write_shift(4,0),ve.write_shift(4,he[2]),ve.write_shift(4,he[0]+he[1]+he[2]+he[3]-1),ve.write_shift(4,0),ve.write_shift(4,4096),ve.write_shift(4,he[3]?he[0]+he[1]+he[2]-1:K),ve.write_shift(4,he[3]),ve.write_shift(-4,he[1]?he[0]-1:K),ve.write_shift(4,he[1]),je=0;je<109;++je)ve.write_shift(-4,je<he[2]?he[1]+je:-1)}if(he[1])for(Me=0;Me<he[1];++Me){for(;je<236+Me*127;++je)ve.write_shift(-4,je<he[2]?he[1]+je:-1);ve.write_shift(-4,Me===he[1]-1?K:Me+1)}var Ye=function(St){for(Me+=St;je<Me-1;++je)ve.write_shift(-4,je+1);St&&(++je,ve.write_shift(-4,K))};for(Me=je=0,Me+=he[1];je<Me;++je)ve.write_shift(-4,se.DIFSECT);for(Me+=he[2];je<Me;++je)ve.write_shift(-4,se.FATSECT);Ye(he[3]),Ye(he[4]);for(var Ie=0,Be=0,ze=re.FileIndex[0];Ie<re.FileIndex.length;++Ie)ze=re.FileIndex[Ie],ze.content&&(Be=ze.content.length,!(Be<4096)&&(ze.start=Me,Ye(Be+511>>9)));for(Ye(he[6]+7>>3);ve.l&511;)ve.write_shift(-4,se.ENDOFCHAIN);for(Me=je=0,Ie=0;Ie<re.FileIndex.length;++Ie)ze=re.FileIndex[Ie],ze.content&&(Be=ze.content.length,!(!Be||Be>=4096)&&(ze.start=Me,Ye(Be+63>>6)));for(;ve.l&511;)ve.write_shift(-4,se.ENDOFCHAIN);for(je=0;je<he[4]<<2;++je){var ft=re.FullPaths[je];if(!ft||ft.length===0){for(Ie=0;Ie<17;++Ie)ve.write_shift(4,0);for(Ie=0;Ie<3;++Ie)ve.write_shift(4,-1);for(Ie=0;Ie<12;++Ie)ve.write_shift(4,0);continue}ze=re.FileIndex[je],je===0&&(ze.start=ze.size?ze.start-1:K);var gt=je===0&&de.root||ze.name;if(Be=2*(gt.length+1),ve.write_shift(64,gt,"utf16le"),ve.write_shift(2,Be),ve.write_shift(1,ze.type),ve.write_shift(1,ze.color),ve.write_shift(-4,ze.L),ve.write_shift(-4,ze.R),ve.write_shift(-4,ze.C),ze.clsid)ve.write_shift(16,ze.clsid,"hex");else for(Ie=0;Ie<4;++Ie)ve.write_shift(4,0);ve.write_shift(4,ze.state||0),ve.write_shift(4,0),ve.write_shift(4,0),ve.write_shift(4,0),ve.write_shift(4,0),ve.write_shift(4,ze.start),ve.write_shift(4,ze.size),ve.write_shift(4,0)}for(je=1;je<re.FileIndex.length;++je)if(ze=re.FileIndex[je],ze.size>=4096)if(ve.l=ze.start+1<<9,Tr&&Buffer.isBuffer(ze.content))ze.content.copy(ve,ve.l,0,ze.size),ve.l+=ze.size+511&-512;else{for(Ie=0;Ie<ze.size;++Ie)ve.write_shift(1,ze.content[Ie]);for(;Ie&511;++Ie)ve.write_shift(1,0)}for(je=1;je<re.FileIndex.length;++je)if(ze=re.FileIndex[je],ze.size>0&&ze.size<4096)if(Tr&&Buffer.isBuffer(ze.content))ze.content.copy(ve,ve.l,0,ze.size),ve.l+=ze.size+63&-64;else{for(Ie=0;Ie<ze.size;++Ie)ve.write_shift(1,ze.content[Ie]);for(;Ie&63;++Ie)ve.write_shift(1,0)}if(Tr)ve.l=ve.length;else for(;ve.l<ve.length;)ve.write_shift(1,0);return ve}function P(re,Ne){var de=re.FullPaths.map(function(Ie){return Ie.toUpperCase()}),he=de.map(function(Ie){var Be=Ie.split("/");return Be[Be.length-(Ie.slice(-1)=="/"?2:1)]}),ve=!1;Ne.charCodeAt(0)===47?(ve=!0,Ne=de[0].slice(0,-1)+Ne):ve=Ne.indexOf("/")!==-1;var je=Ne.toUpperCase(),Me=ve===!0?de.indexOf(je):he.indexOf(je);if(Me!==-1)return re.FileIndex[Me];var Ye=!je.match(vx);for(je=je.replace(tl,""),Ye&&(je=je.replace(vx,"!")),Me=0;Me<de.length;++Me)if((Ye?de[Me].replace(vx,"!"):de[Me]).replace(tl,"")==je||(Ye?he[Me].replace(vx,"!"):he[Me]).replace(tl,"")==je)return re.FileIndex[Me];return null}var U=64,K=-2,ee="d0cf11e0a1b11ae1",me=[208,207,17,224,161,177,26,225],ne="00000000000000000000000000000000",se={MAXREGSECT:-6,DIFSECT:-4,FATSECT:-3,ENDOFCHAIN:K,FREESECT:-1,HEADER_SIGNATURE:ee,HEADER_MINOR_VERSION:"3e00",MAXREGSID:-6,NOSTREAM:-1,HEADER_CLSID:ne,EntryTypes:["unknown","storage","stream","lockbytes","property","root"]};function ye(re,Ne,de){f();var he=H(re,de);u.writeFileSync(Ne,he)}function ce(re){for(var Ne=new Array(re.length),de=0;de<re.length;++de)Ne[de]=String.fromCharCode(re[de]);return Ne.join("")}function Se(re,Ne){var de=H(re,Ne);switch(Ne&&Ne.type||"buffer"){case"file":return f(),u.writeFileSync(Ne.filename,de),de;case"binary":return typeof de=="string"?de:ce(de);case"base64":return Wx(typeof de=="string"?de:ce(de));case"buffer":if(Tr)return Buffer.isBuffer(de)?de:_f(de);case"array":return typeof de=="string"?Ql(de):de}return de}var te;function M(re){try{var Ne=re.InflateRaw,de=new Ne;if(de._processChunk(new Uint8Array([3,0]),de._finishFlushFlag),de.bytesRead)te=re;else throw new Error("zlib does not expose bytesRead")}catch(he){console.error("cannot use native zlib: "+(he.message||he))}}function R(re,Ne){if(!te)return Er(re,Ne);var de=te.InflateRaw,he=new de,ve=he._processChunk(re.slice(re.l),he._finishFlushFlag);return re.l+=he.bytesRead,ve}function q(re){return te?te.deflateRawSync(re):yt(re)}var W=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15],J=[3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258],le=[1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577];function ue(re){var Ne=(re<<1|re<<11)&139536|(re<<5|re<<15)&558144;return(Ne>>16|Ne>>8|Ne)&255}for(var X=typeof Uint8Array<"u",ge=X?new Uint8Array(256):[],Te=0;Te<256;++Te)ge[Te]=ue(Te);function Y(re,Ne){var de=ge[re&255];return Ne<=8?de>>>8-Ne:(de=de<<8|ge[re>>8&255],Ne<=16?de>>>16-Ne:(de=de<<8|ge[re>>16&255],de>>>24-Ne))}function We(re,Ne){var de=Ne&7,he=Ne>>>3;return(re[he]|(de<=6?0:re[he+1]<<8))>>>de&3}function Ee(re,Ne){var de=Ne&7,he=Ne>>>3;return(re[he]|(de<=5?0:re[he+1]<<8))>>>de&7}function xe(re,Ne){var de=Ne&7,he=Ne>>>3;return(re[he]|(de<=4?0:re[he+1]<<8))>>>de&15}function dt(re,Ne){var de=Ne&7,he=Ne>>>3;return(re[he]|(de<=3?0:re[he+1]<<8))>>>de&31}function Xe(re,Ne){var de=Ne&7,he=Ne>>>3;return(re[he]|(de<=1?0:re[he+1]<<8))>>>de&127}function bt(re,Ne,de){var he=Ne&7,ve=Ne>>>3,je=(1<<de)-1,Me=re[ve]>>>he;return de<8-he||(Me|=re[ve+1]<<8-he,de<16-he)||(Me|=re[ve+2]<<16-he,de<24-he)||(Me|=re[ve+3]<<24-he),Me&je}function lt(re,Ne,de){var he=Ne&7,ve=Ne>>>3;return he<=5?re[ve]|=(de&7)<<he:(re[ve]|=de<<he&255,re[ve+1]=(de&7)>>8-he),Ne+3}function Ct(re,Ne,de){var he=Ne&7,ve=Ne>>>3;return de=(de&1)<<he,re[ve]|=de,Ne+1}function xt(re,Ne,de){var he=Ne&7,ve=Ne>>>3;return de<<=he,re[ve]|=de&255,de>>>=8,re[ve+1]=de,Ne+8}function Ke(re,Ne,de){var he=Ne&7,ve=Ne>>>3;return de<<=he,re[ve]|=de&255,de>>>=8,re[ve+1]=de&255,re[ve+2]=de>>>8,Ne+16}function pt(re,Ne){var de=re.length,he=2*de>Ne?2*de:Ne+5,ve=0;if(de>=Ne)return re;if(Tr){var je=DE(he);if(re.copy)re.copy(je);else for(;ve<re.length;++ve)je[ve]=re[ve];return je}else if(X){var Me=new Uint8Array(he);if(Me.set)Me.set(re);else for(;ve<de;++ve)Me[ve]=re[ve];return Me}return re.length=he,re}function Et(re){for(var Ne=new Array(re),de=0;de<re;++de)Ne[de]=0;return Ne}function zt(re,Ne,de){var he=1,ve=0,je=0,Me=0,Ye=0,Ie=re.length,Be=X?new Uint16Array(32):Et(32);for(je=0;je<32;++je)Be[je]=0;for(je=Ie;je<de;++je)re[je]=0;Ie=re.length;var ze=X?new Uint16Array(Ie):Et(Ie);for(je=0;je<Ie;++je)Be[ve=re[je]]++,he<ve&&(he=ve),ze[je]=0;for(Be[0]=0,je=1;je<=he;++je)Be[je+16]=Ye=Ye+Be[je-1]<<1;for(je=0;je<Ie;++je)Ye=re[je],Ye!=0&&(ze[je]=Be[Ye+16]++);var ft=0;for(je=0;je<Ie;++je)if(ft=re[je],ft!=0)for(Ye=Y(ze[je],he)>>he-ft,Me=(1<<he+4-ft)-1;Me>=0;--Me)Ne[Ye|Me<<ft]=ft&15|je<<4;return he}var Gt=X?new Uint16Array(512):Et(512),Ar=X?new Uint16Array(32):Et(32);if(!X){for(var Lt=0;Lt<512;++Lt)Gt[Lt]=0;for(Lt=0;Lt<32;++Lt)Ar[Lt]=0}(function(){for(var re=[],Ne=0;Ne<32;Ne++)re.push(5);zt(re,Ar,32);var de=[];for(Ne=0;Ne<=143;Ne++)de.push(8);for(;Ne<=255;Ne++)de.push(9);for(;Ne<=279;Ne++)de.push(7);for(;Ne<=287;Ne++)de.push(8);zt(de,Gt,288)})();var Dt=(function(){for(var Ne=X?new Uint8Array(32768):[],de=0,he=0;de<le.length-1;++de)for(;he<le[de+1];++he)Ne[he]=de;for(;he<32768;++he)Ne[he]=29;var ve=X?new Uint8Array(259):[];for(de=0,he=0;de<J.length-1;++de)for(;he<J[de+1];++he)ve[he]=de;function je(Ye,Ie){for(var Be=0;Be<Ye.length;){var ze=Math.min(65535,Ye.length-Be),ft=Be+ze==Ye.length;for(Ie.write_shift(1,+ft),Ie.write_shift(2,ze),Ie.write_shift(2,~ze&65535);ze-- >0;)Ie[Ie.l++]=Ye[Be++]}return Ie.l}function Me(Ye,Ie){for(var Be=0,ze=0,ft=X?new Uint16Array(32768):[];ze<Ye.length;){var gt=Math.min(65535,Ye.length-ze);if(gt<10){for(Be=lt(Ie,Be,+(ze+gt==Ye.length)),Be&7&&(Be+=8-(Be&7)),Ie.l=Be/8|0,Ie.write_shift(2,gt),Ie.write_shift(2,~gt&65535);gt-- >0;)Ie[Ie.l++]=Ye[ze++];Be=Ie.l*8;continue}Be=lt(Ie,Be,+(ze+gt==Ye.length)+2);for(var St=0;gt-- >0;){var mt=Ye[ze];St=(St<<5^mt)&32767;var Nt=-1,Ft=0;if((Nt=ft[St])&&(Nt|=ze&-32768,Nt>ze&&(Nt-=32768),Nt<ze))for(;Ye[Nt+Ft]==Ye[ze+Ft]&&Ft<250;)++Ft;if(Ft>2){mt=ve[Ft],mt<=22?Be=xt(Ie,Be,ge[mt+1]>>1)-1:(xt(Ie,Be,3),Be+=5,xt(Ie,Be,ge[mt-23]>>5),Be+=3);var ln=mt<8?0:mt-4>>2;ln>0&&(Ke(Ie,Be,Ft-J[mt]),Be+=ln),mt=Ne[ze-Nt],Be=xt(Ie,Be,ge[mt]>>3),Be-=3;var Cr=mt<4?0:mt-2>>1;Cr>0&&(Ke(Ie,Be,ze-Nt-le[mt]),Be+=Cr);for(var fn=0;fn<Ft;++fn)ft[St]=ze&32767,St=(St<<5^Ye[ze])&32767,++ze;gt-=Ft-1}else mt<=143?mt=mt+48:Be=Ct(Ie,Be,1),Be=xt(Ie,Be,ge[mt]),ft[St]=ze&32767,++ze}Be=xt(Ie,Be,0)-1}return Ie.l=(Be+7)/8|0,Ie.l}return function(Ie,Be){return Ie.length<8?je(Ie,Be):Me(Ie,Be)}})();function yt(re){var Ne=Je(50+Math.floor(re.length*1.1)),de=Dt(re,Ne);return Ne.slice(0,de)}var kt=X?new Uint16Array(32768):Et(32768),_r=X?new Uint16Array(32768):Et(32768),Zt=X?new Uint16Array(128):Et(128),At=1,er=1;function br(re,Ne){var de=dt(re,Ne)+257;Ne+=5;var he=dt(re,Ne)+1;Ne+=5;var ve=xe(re,Ne)+4;Ne+=4;for(var je=0,Me=X?new Uint8Array(19):Et(19),Ye=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],Ie=1,Be=X?new Uint8Array(8):Et(8),ze=X?new Uint8Array(8):Et(8),ft=Me.length,gt=0;gt<ve;++gt)Me[W[gt]]=je=Ee(re,Ne),Ie<je&&(Ie=je),Be[je]++,Ne+=3;var St=0;for(Be[0]=0,gt=1;gt<=Ie;++gt)ze[gt]=St=St+Be[gt-1]<<1;for(gt=0;gt<ft;++gt)(St=Me[gt])!=0&&(Ye[gt]=ze[St]++);var mt=0;for(gt=0;gt<ft;++gt)if(mt=Me[gt],mt!=0){St=ge[Ye[gt]]>>8-mt;for(var Nt=(1<<7-mt)-1;Nt>=0;--Nt)Zt[St|Nt<<mt]=mt&7|gt<<3}var Ft=[];for(Ie=1;Ft.length<de+he;)switch(St=Zt[Xe(re,Ne)],Ne+=St&7,St>>>=3){case 16:for(je=3+We(re,Ne),Ne+=2,St=Ft[Ft.length-1];je-- >0;)Ft.push(St);break;case 17:for(je=3+Ee(re,Ne),Ne+=3;je-- >0;)Ft.push(0);break;case 18:for(je=11+Xe(re,Ne),Ne+=7;je-- >0;)Ft.push(0);break;default:Ft.push(St),Ie<St&&(Ie=St);break}var ln=Ft.slice(0,de),Cr=Ft.slice(de);for(gt=de;gt<286;++gt)ln[gt]=0;for(gt=he;gt<30;++gt)Cr[gt]=0;return At=zt(ln,kt,286),er=zt(Cr,_r,30),Ne}function ar(re,Ne){if(re[0]==3&&!(re[1]&3))return[Sd(Ne),2];for(var de=0,he=0,ve=DE(Ne||1<<18),je=0,Me=ve.length>>>0,Ye=0,Ie=0;(he&1)==0;){if(he=Ee(re,de),de+=3,he>>>1)he>>1==1?(Ye=9,Ie=5):(de=br(re,de),Ye=At,Ie=er);else{de&7&&(de+=8-(de&7));var Be=re[de>>>3]|re[(de>>>3)+1]<<8;if(de+=32,Be>0)for(!Ne&&Me<je+Be&&(ve=pt(ve,je+Be),Me=ve.length);Be-- >0;)ve[je++]=re[de>>>3],de+=8;continue}for(;;){!Ne&&Me<je+32767&&(ve=pt(ve,je+32767),Me=ve.length);var ze=bt(re,de,Ye),ft=he>>>1==1?Gt[ze]:kt[ze];if(de+=ft&15,ft>>>=4,(ft>>>8&255)===0)ve[je++]=ft;else{if(ft==256)break;ft-=257;var gt=ft<8?0:ft-4>>2;gt>5&&(gt=0);var St=je+J[ft];gt>0&&(St+=bt(re,de,gt),de+=gt),ze=bt(re,de,Ie),ft=he>>>1==1?Ar[ze]:_r[ze],de+=ft&15,ft>>>=4;var mt=ft<4?0:ft-2>>1,Nt=le[ft];for(mt>0&&(Nt+=bt(re,de,mt),de+=mt),!Ne&&Me<St&&(ve=pt(ve,St+100),Me=ve.length);je<St;)ve[je]=ve[je-Nt],++je}}}return Ne?[ve,de+7>>>3]:[ve.slice(0,je),de+7>>>3]}function Er(re,Ne){var de=re.slice(re.l||0),he=ar(de,Ne);return re.l+=he[1],he[0]}function dr(re,Ne){if(re)typeof console<"u"&&console.error(Ne);else throw new Error(Ne)}function pn(re,Ne){var de=re;as(de,0);var he=[],ve=[],je={FileIndex:he,FullPaths:ve};D(je,{root:Ne.root});for(var Me=de.length-4;(de[Me]!=80||de[Me+1]!=75||de[Me+2]!=5||de[Me+3]!=6)&&Me>=0;)--Me;de.l=Me+4,de.l+=4;var Ye=de.read_shift(2);de.l+=6;var Ie=de.read_shift(4);for(de.l=Ie,Me=0;Me<Ye;++Me){de.l+=20;var Be=de.read_shift(4),ze=de.read_shift(4),ft=de.read_shift(2),gt=de.read_shift(2),St=de.read_shift(2);de.l+=8;var mt=de.read_shift(4),Nt=o(de.slice(de.l+ft,de.l+ft+gt));de.l+=ft+gt+St;var Ft=de.l;de.l=mt+4,Un(de,Be,ze,je,Nt),de.l=Ft}return je}function Un(re,Ne,de,he,ve){re.l+=2;var je=re.read_shift(2),Me=re.read_shift(2),Ye=l(re);if(je&8257)throw new Error("Unsupported ZIP encryption");for(var Ie=re.read_shift(4),Be=re.read_shift(4),ze=re.read_shift(4),ft=re.read_shift(2),gt=re.read_shift(2),St="",mt=0;mt<ft;++mt)St+=String.fromCharCode(re[re.l++]);if(gt){var Nt=o(re.slice(re.l,re.l+gt));(Nt[21589]||{}).mt&&(Ye=Nt[21589].mt),((ve||{})[21589]||{}).mt&&(Ye=ve[21589].mt)}re.l+=gt;var Ft=re.slice(re.l,re.l+Be);switch(Me){case 8:Ft=R(re,ze);break;case 0:break;default:throw new Error("Unsupported ZIP Compression method "+Me)}var ln=!1;je&8&&(Ie=re.read_shift(4),Ie==134695760&&(Ie=re.read_shift(4),ln=!0),Be=re.read_shift(4),ze=re.read_shift(4)),Be!=Ne&&dr(ln,"Bad compressed size: "+Ne+" != "+Be),ze!=de&&dr(ln,"Bad uncompressed size: "+de+" != "+ze),oi(he,St,Ft,{unsafe:!0,mt:Ye})}function qr(re,Ne){var de=Ne||{},he=[],ve=[],je=Je(1),Me=de.compression?8:0,Ye=0,Ie=0,Be=0,ze=0,ft=0,gt=re.FullPaths[0],St=gt,mt=re.FileIndex[0],Nt=[],Ft=0;for(Ie=1;Ie<re.FullPaths.length;++Ie)if(St=re.FullPaths[Ie].slice(gt.length),mt=re.FileIndex[Ie],!(!mt.size||!mt.content||St=="Sh33tJ5")){var ln=ze,Cr=Je(St.length);for(Be=0;Be<St.length;++Be)Cr.write_shift(1,St.charCodeAt(Be)&127);Cr=Cr.slice(0,Cr.l),Nt[ft]=$W.buf(mt.content,0);var fn=mt.content;Me==8&&(fn=q(fn)),je=Je(30),je.write_shift(4,67324752),je.write_shift(2,20),je.write_shift(2,Ye),je.write_shift(2,Me),mt.mt?i(je,mt.mt):je.write_shift(4,0),je.write_shift(-4,Nt[ft]),je.write_shift(4,fn.length),je.write_shift(4,mt.content.length),je.write_shift(2,Cr.length),je.write_shift(2,0),ze+=je.length,he.push(je),ze+=Cr.length,he.push(Cr),ze+=fn.length,he.push(fn),je=Je(46),je.write_shift(4,33639248),je.write_shift(2,0),je.write_shift(2,20),je.write_shift(2,Ye),je.write_shift(2,Me),je.write_shift(4,0),je.write_shift(-4,Nt[ft]),je.write_shift(4,fn.length),je.write_shift(4,mt.content.length),je.write_shift(2,Cr.length),je.write_shift(2,0),je.write_shift(2,0),je.write_shift(2,0),je.write_shift(2,0),je.write_shift(4,0),je.write_shift(4,ln),Ft+=je.l,ve.push(je),Ft+=Cr.length,ve.push(Cr),++ft}return je=Je(22),je.write_shift(4,101010256),je.write_shift(2,0),je.write_shift(2,0),je.write_shift(2,ft),je.write_shift(2,ft),je.write_shift(4,Ft),je.write_shift(4,ze),je.write_shift(2,0),Ui([Ui(he),Ui(ve),je])}var Yt={htm:"text/html",xml:"text/xml",gif:"image/gif",jpg:"image/jpeg",png:"image/png",mso:"application/x-mso",thmx:"application/vnd.ms-officetheme",sh33tj5:"application/octet-stream"};function Fr(re,Ne){if(re.ctype)return re.ctype;var de=re.name||"",he=de.match(/\.([^\.]+)$/);return he&&Yt[he[1]]||Ne&&(he=(de=Ne).match(/[\.\\]([^\.\\])+$/),he&&Yt[he[1]])?Yt[he[1]]:"application/octet-stream"}function Rs(re){for(var Ne=Wx(re),de=[],he=0;he<Ne.length;he+=76)de.push(Ne.slice(he,he+76));return de.join(`\r
`)+`\r
`}function Qa(re){var Ne=re.replace(/[\x00-\x08\x0B\x0C\x0E-\x1F\x7E-\xFF=]/g,function(Be){var ze=Be.charCodeAt(0).toString(16).toUpperCase();return"="+(ze.length==1?"0"+ze:ze)});Ne=Ne.replace(/ $/mg,"=20").replace(/\t$/mg,"=09"),Ne.charAt(0)==`
`&&(Ne="=0D"+Ne.slice(1)),Ne=Ne.replace(/\r(?!\n)/mg,"=0D").replace(/\n\n/mg,`
=0A`).replace(/([^\r\n])\n/mg,"$1=0A");for(var de=[],he=Ne.split(`\r
`),ve=0;ve<he.length;++ve){var je=he[ve];if(je.length==0){de.push("");continue}for(var Me=0;Me<je.length;){var Ye=76,Ie=je.slice(Me,Me+Ye);Ie.charAt(Ye-1)=="="?Ye--:Ie.charAt(Ye-2)=="="?Ye-=2:Ie.charAt(Ye-3)=="="&&(Ye-=3),Ie=je.slice(Me,Me+Ye),Me+=Ye,Me<je.length&&(Ie+="="),de.push(Ie)}}return de.join(`\r
`)}function al(re){for(var Ne=[],de=0;de<re.length;++de){for(var he=re[de];de<=re.length&&he.charAt(he.length-1)=="=";)he=he.slice(0,he.length-1)+re[++de];Ne.push(he)}for(var ve=0;ve<Ne.length;++ve)Ne[ve]=Ne[ve].replace(/[=][0-9A-Fa-f]{2}/g,function(je){return String.fromCharCode(parseInt(je.slice(1),16))});return Ql(Ne.join(`\r
`))}function us(re,Ne,de){for(var he="",ve="",je="",Me,Ye=0;Ye<10;++Ye){var Ie=Ne[Ye];if(!Ie||Ie.match(/^\s*$/))break;var Be=Ie.match(/^(.*?):\s*([^\s].*)$/);if(Be)switch(Be[1].toLowerCase()){case"content-location":he=Be[2].trim();break;case"content-type":je=Be[2].trim();break;case"content-transfer-encoding":ve=Be[2].trim();break}}switch(++Ye,ve.toLowerCase()){case"base64":Me=Ql(ro(Ne.slice(Ye).join("")));break;case"quoted-printable":Me=al(Ne.slice(Ye));break;default:throw new Error("Unsupported Content-Transfer-Encoding "+ve)}var ze=oi(re,he.slice(de.length),Me,{unsafe:!0});je&&(ze.ctype=je)}function Xt(re,Ne){if(ce(re.slice(0,13)).toLowerCase()!="mime-version:")throw new Error("Unsupported MAD header");var de=Ne&&Ne.root||"",he=(Tr&&Buffer.isBuffer(re)?re.toString("binary"):ce(re)).split(`\r
`),ve=0,je="";for(ve=0;ve<he.length;++ve)if(je=he[ve],!!/^Content-Location:/i.test(je)&&(je=je.slice(je.indexOf("file")),de||(de=je.slice(0,je.lastIndexOf("/")+1)),je.slice(0,de.length)!=de))for(;de.length>0&&(de=de.slice(0,de.length-1),de=de.slice(0,de.lastIndexOf("/")+1),je.slice(0,de.length)!=de););var Me=(he[1]||"").match(/boundary="(.*?)"/);if(!Me)throw new Error("MAD cannot find boundary");var Ye="--"+(Me[1]||""),Ie=[],Be=[],ze={FileIndex:Ie,FullPaths:Be};D(ze);var ft,gt=0;for(ve=0;ve<he.length;++ve){var St=he[ve];St!==Ye&&St!==Ye+"--"||(gt++&&us(ze,he.slice(ft,ve),de),ft=ve)}return ze}function Ol(re,Ne){var de=Ne||{},he=de.boundary||"SheetJS";he="------="+he;for(var ve=["MIME-Version: 1.0",'Content-Type: multipart/related; boundary="'+he.slice(2)+'"',"","",""],je=re.FullPaths[0],Me=je,Ye=re.FileIndex[0],Ie=1;Ie<re.FullPaths.length;++Ie)if(Me=re.FullPaths[Ie].slice(je.length),Ye=re.FileIndex[Ie],!(!Ye.size||!Ye.content||Me=="Sh33tJ5")){Me=Me.replace(/[\x00-\x08\x0B\x0C\x0E-\x1F\x7E-\xFF]/g,function(Ft){return"_x"+Ft.charCodeAt(0).toString(16)+"_"}).replace(/[\u0080-\uFFFF]/g,function(Ft){return"_u"+Ft.charCodeAt(0).toString(16)+"_"});for(var Be=Ye.content,ze=Tr&&Buffer.isBuffer(Be)?Be.toString("binary"):ce(Be),ft=0,gt=Math.min(1024,ze.length),St=0,mt=0;mt<=gt;++mt)(St=ze.charCodeAt(mt))>=32&&St<128&&++ft;var Nt=ft>=gt*4/5;ve.push(he),ve.push("Content-Location: "+(de.root||"file:///C:/SheetJS/")+Me),ve.push("Content-Transfer-Encoding: "+(Nt?"quoted-printable":"base64")),ve.push("Content-Type: "+Fr(Ye,Me)),ve.push(""),ve.push(Nt?Qa(ze):Rs(ze))}return ve.push(he+`--\r
`),ve.join(`\r
`)}function il(re){var Ne={};return D(Ne,re),Ne}function oi(re,Ne,de,he){var ve=he&&he.unsafe;ve||D(re);var je=!ve&&nr.find(re,Ne);if(!je){var Me=re.FullPaths[0];Ne.slice(0,Me.length)==Me?Me=Ne:(Me.slice(-1)!="/"&&(Me+="/"),Me=(Me+Ne).replace("//","/")),je={name:a(Ne),type:2},re.FileIndex.push(je),re.FullPaths.push(Me),ve||nr.utils.cfb_gc(re)}return je.content=de,je.size=de?de.length:0,he&&(he.CLSID&&(je.clsid=he.CLSID),he.mt&&(je.mt=he.mt),he.ct&&(je.ct=he.ct)),je}function Vi(re,Ne){D(re);var de=nr.find(re,Ne);if(de){for(var he=0;he<re.FileIndex.length;++he)if(re.FileIndex[he]==de)return re.FileIndex.splice(he,1),re.FullPaths.splice(he,1),!0}return!1}function jn(re,Ne,de){D(re);var he=nr.find(re,Ne);if(he){for(var ve=0;ve<re.FileIndex.length;++ve)if(re.FileIndex[ve]==he)return re.FileIndex[ve].name=a(de),re.FullPaths[ve]=de,!0}return!1}function ra(re){B(re,!0)}return t.find=P,t.read=F,t.parse=h,t.write=Se,t.writeFile=ye,t.utils={cfb_new:il,cfb_add:oi,cfb_del:Vi,cfb_mov:jn,cfb_gc:ra,ReadShift:Sx,CheckField:RF,prep_blob:as,bconcat:Ui,use_zlib:M,_deflateRaw:yt,_inflateRaw:Er,consts:se},t})();function HW(e){return typeof e=="string"?a2(e):Array.isArray(e)?xW(e):e}function _g(e,t,r){if(typeof Deno<"u"){if(r&&typeof t=="string")switch(r){case"utf8":t=new TextEncoder(r).encode(t);break;case"binary":t=a2(t);break;default:throw new Error("Unsupported encoding "+r)}return Deno.writeFileSync(e,t)}var n=r=="utf8"?ou(t):t;if(typeof IE_SaveFile<"u")return IE_SaveFile(n,e);if(typeof Blob<"u"){var a=new Blob([HW(n)],{type:"application/octet-stream"});if(typeof navigator<"u"&&navigator.msSaveBlob)return navigator.msSaveBlob(a,e);if(typeof saveAs<"u")return saveAs(a,e);if(typeof URL<"u"&&typeof document<"u"&&document.createElement&&URL.createObjectURL){var i=URL.createObjectURL(a);if(typeof chrome=="object"&&typeof(chrome.downloads||{}).download=="function")return URL.revokeObjectURL&&typeof setTimeout<"u"&&setTimeout(function(){URL.revokeObjectURL(i)},6e4),chrome.downloads.download({url:i,filename:e,saveAs:!0});var l=document.createElement("a");if(l.download!=null)return l.download=e,l.href=i,document.body.appendChild(l),l.click(),document.body.removeChild(l),URL.revokeObjectURL&&typeof setTimeout<"u"&&setTimeout(function(){URL.revokeObjectURL(i)},6e4),i}}if(typeof $<"u"&&typeof File<"u"&&typeof Folder<"u")try{var o=File(e);return o.open("w"),o.encoding="binary",Array.isArray(t)&&(t=Md(t)),o.write(t),o.close(),t}catch(u){if(!u.message||!u.message.match(/onstruct/))throw u}throw new Error("cannot save file "+e)}function VW(e){if(typeof Deno<"u")return Deno.readFileSync(e);if(typeof $<"u"&&typeof File<"u"&&typeof Folder<"u")try{var t=File(e);t.open("r"),t.encoding="binary";var r=t.read();return t.close(),r}catch(n){if(!n.message||!n.message.match(/onstruct/))throw n}throw new Error("Cannot access file "+e)}function Ia(e){for(var t=Object.keys(e),r=[],n=0;n<t.length;++n)Object.prototype.hasOwnProperty.call(e,t[n])&&r.push(t[n]);return r}function UE(e,t){for(var r=[],n=Ia(e),a=0;a!==n.length;++a)r[e[n[a]][t]]==null&&(r[e[n[a]][t]]=n[a]);return r}function s2(e){for(var t=[],r=Ia(e),n=0;n!==r.length;++n)t[e[r[n]]]=r[n];return t}function l2(e){for(var t=[],r=Ia(e),n=0;n!==r.length;++n)t[e[r[n]]]=parseInt(r[n],10);return t}function WW(e){for(var t=[],r=Ia(e),n=0;n!==r.length;++n)t[e[r[n]]]==null&&(t[e[r[n]]]=[]),t[e[r[n]]].push(r[n]);return t}var Jv=new Date(1899,11,30,0,0,0);function ji(e,t){var r=e.getTime(),n=Jv.getTime()+(e.getTimezoneOffset()-Jv.getTimezoneOffset())*6e4;return(r-n)/(1440*60*1e3)}var xF=new Date,GW=Jv.getTime()+(xF.getTimezoneOffset()-Jv.getTimezoneOffset())*6e4,zE=xF.getTimezoneOffset();function o2(e){var t=new Date;return t.setTime(e*24*60*60*1e3+GW),t.getTimezoneOffset()!==zE&&t.setTime(t.getTime()+(t.getTimezoneOffset()-zE)*6e4),t}function KW(e){var t=0,r=0,n=!1,a=e.match(/P([0-9\.]+Y)?([0-9\.]+M)?([0-9\.]+D)?T([0-9\.]+H)?([0-9\.]+M)?([0-9\.]+S)?/);if(!a)throw new Error("|"+e+"| is not an ISO8601 Duration");for(var i=1;i!=a.length;++i)if(a[i]){switch(r=1,i>3&&(n=!0),a[i].slice(a[i].length-1)){case"Y":throw new Error("Unsupported ISO Duration Field: "+a[i].slice(a[i].length-1));case"D":r*=24;case"H":r*=60;case"M":if(n)r*=60;else throw new Error("Unsupported ISO Duration Field: M")}t+=r*parseInt(a[i],10)}return t}var qE=new Date("2017-02-19T19:06:09.000Z"),gF=isNaN(qE.getFullYear())?new Date("2/19/17"):qE,YW=gF.getFullYear()==2017;function Jn(e,t){var r=new Date(e);if(YW)return t>0?r.setTime(r.getTime()+r.getTimezoneOffset()*60*1e3):t<0&&r.setTime(r.getTime()-r.getTimezoneOffset()*60*1e3),r;if(e instanceof Date)return e;if(gF.getFullYear()==1917&&!isNaN(r.getFullYear())){var n=r.getFullYear();return e.indexOf(""+n)>-1||r.setFullYear(r.getFullYear()+100),r}var a=e.match(/\d+/g)||["2017","2","19","0","0","0"],i=new Date(+a[0],+a[1]-1,+a[2],+a[3]||0,+a[4]||0,+a[5]||0);return e.indexOf("Z")>-1&&(i=new Date(i.getTime()-i.getTimezoneOffset()*60*1e3)),i}function W0(e,t){if(Tr&&Buffer.isBuffer(e)){if(t){if(e[0]==255&&e[1]==254)return ou(e.slice(2).toString("utf16le"));if(e[1]==254&&e[2]==255)return ou(aF(e.slice(2).toString("binary")))}return e.toString("binary")}if(typeof TextDecoder<"u")try{if(t){if(e[0]==255&&e[1]==254)return ou(new TextDecoder("utf-16le").decode(e.slice(2)));if(e[0]==254&&e[1]==255)return ou(new TextDecoder("utf-16be").decode(e.slice(2)))}var r={"":"","":"",:"","":"","":"","":"","":"","":"","":"",:"","":"",:"",:"","":"","":"","":"","":"","":"","":"","":"","":"","":"",:"","":"",:"",:"",:""};return Array.isArray(e)&&(e=new Uint8Array(e)),new TextDecoder("latin1").decode(e).replace(/[]/g,function(i){return r[i]||i})}catch{}for(var n=[],a=0;a!=e.length;++a)n.push(String.fromCharCode(e[a]));return n.join("")}function ea(e){if(typeof JSON<"u"&&!Array.isArray(e))return JSON.parse(JSON.stringify(e));if(typeof e!="object"||e==null)return e;if(e instanceof Date)return new Date(e.getTime());var t={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=ea(e[r]));return t}function Pa(e,t){for(var r="";r.length<t;)r+=e;return r}function Sc(e){var t=Number(e);if(!isNaN(t))return isFinite(t)?t:NaN;if(!/\d/.test(e))return t;var r=1,n=e.replace(/([\d]),([\d])/g,"$1$2").replace(/[$]/g,"").replace(/[%]/g,function(){return r*=100,""});return!isNaN(t=Number(n))||(n=n.replace(/[(](.*)[)]/,function(a,i){return r=-r,i}),!isNaN(t=Number(n)))?t/r:t}var XW=["january","february","march","april","may","june","july","august","september","october","november","december"];function qm(e){var t=new Date(e),r=new Date(NaN),n=t.getYear(),a=t.getMonth(),i=t.getDate();if(isNaN(i))return r;var l=e.toLowerCase();if(l.match(/jan|feb|mar|apr|may|jun|jul|aug|sep|oct|nov|dec/)){if(l=l.replace(/[^a-z]/g,"").replace(/([^a-z]|^)[ap]m?([^a-z]|$)/,""),l.length>3&&XW.indexOf(l)==-1)return r}else if(l.match(/[a-z]/))return r;return n<0||n>8099?r:(a>0||i>1)&&n!=101?t:e.match(/[^-0-9:,\/\\]/)?r:t}var QW=(function(){var e="abacaba".split(/(:?b)/i).length==5;return function(r,n,a){if(e||typeof n=="string")return r.split(n);for(var i=r.split(n),l=[i[0]],o=1;o<i.length;++o)l.push(a),l.push(i[o]);return l}})();function vF(e){return e?e.content&&e.type?W0(e.content,!0):e.data?gx(e.data):e.asNodeBuffer&&Tr?gx(e.asNodeBuffer().toString("binary")):e.asBinary?gx(e.asBinary()):e._data&&e._data.getContent?gx(W0(Array.prototype.slice.call(e._data.getContent(),0))):null:null}function yF(e){if(!e)return null;if(e.data)return TE(e.data);if(e.asNodeBuffer&&Tr)return e.asNodeBuffer();if(e._data&&e._data.getContent){var t=e._data.getContent();return typeof t=="string"?TE(t):Array.prototype.slice.call(t)}return e.content&&e.type?e.content:null}function ZW(e){return e&&e.name.slice(-4)===".bin"?yF(e):vF(e)}function Fo(e,t){for(var r=e.FullPaths||Ia(e.files),n=t.toLowerCase().replace(/[\/]/g,"\\"),a=n.replace(/\\/g,"/"),i=0;i<r.length;++i){var l=r[i].replace(/^Root Entry[\/]/,"").toLowerCase();if(n==l||a==l)return e.files?e.files[r[i]]:e.FileIndex[i]}return null}function G_(e,t){var r=Fo(e,t);if(r==null)throw new Error("Cannot find file "+t+" in zip");return r}function ni(e,t,r){if(!r)return ZW(G_(e,t));if(!t)return null;try{return ni(e,t)}catch{return null}}function Zl(e,t,r){if(!r)return vF(G_(e,t));if(!t)return null;try{return Zl(e,t)}catch{return null}}function JW(e,t,r){return yF(G_(e,t))}function $E(e){for(var t=e.FullPaths||Ia(e.files),r=[],n=0;n<t.length;++n)t[n].slice(-1)!="/"&&r.push(t[n].replace(/^Root Entry[\/]/,""));return r.sort()}function Sr(e,t,r){if(e.FullPaths){if(typeof r=="string"){var n;return Tr?n=_f(r):n=gW(r),nr.utils.cfb_add(e,t,n)}nr.utils.cfb_add(e,t,r)}else e.file(t,r)}function K_(){return nr.utils.cfb_new()}function bF(e,t){switch(t.type){case"base64":return nr.read(e,{type:"base64"});case"binary":return nr.read(e,{type:"binary"});case"buffer":case"array":return nr.read(e,{type:"buffer"})}throw new Error("Unrecognized type "+t.type)}function yx(e,t){if(e.charAt(0)=="/")return e.slice(1);var r=t.split("/");t.slice(-1)!="/"&&r.pop();for(var n=e.split("/");n.length!==0;){var a=n.shift();a===".."?r.pop():a!=="."&&r.push(a)}return r.join("/")}var Xa=`<?xml version="1.0" encoding="UTF-8" standalone="yes"?>\r
`,eG=/([^"\s?>\/]+)\s*=\s*((?:")([^"]*)(?:")|(?:')([^']*)(?:')|([^'">\s]+))/g,HE=/<[\/\?]?[a-zA-Z0-9:_-]+(?:\s+[^"\s?>\/]+\s*=\s*(?:"[^"]*"|'[^']*'|[^'">\s=]+))*\s*[\/\?]?>/mg,tG=/<[^>]*>/g,Ls=Xa.match(HE)?HE:tG,rG=/<\w*:/,nG=/<(\/?)\w+:/;function hr(e,t,r){for(var n={},a=0,i=0;a!==e.length&&!((i=e.charCodeAt(a))===32||i===10||i===13);++a);if(t||(n[0]=e.slice(0,a)),a===e.length)return n;var l=e.match(eG),o=0,u="",f=0,h="",m="",g=1;if(l)for(f=0;f!=l.length;++f){for(m=l[f],i=0;i!=m.length&&m.charCodeAt(i)!==61;++i);for(h=m.slice(0,i).trim();m.charCodeAt(i+1)==32;)++i;for(g=(a=m.charCodeAt(i+1))==34||a==39?1:0,u=m.slice(i+1+g,m.length-g),o=0;o!=h.length&&h.charCodeAt(o)!==58;++o);if(o===h.length)h.indexOf("_")>0&&(h=h.slice(0,h.indexOf("_"))),n[h]=u,n[h.toLowerCase()]=u;else{var x=(o===5&&h.slice(0,5)==="xmlns"?"xmlns":"")+h.slice(o+1);if(n[x]&&h.slice(o-3,o)=="ext")continue;n[x]=u,n[x.toLowerCase()]=u}}return n}function pu(e){return e.replace(nG,"<$1")}var wF={"&quot;":'"',"&apos;":"'","&gt;":">","&lt;":"<","&amp;":"&"},Y_=s2(wF),Qr=(function(){var e=/&(?:quot|apos|gt|lt|amp|#x?([\da-fA-F]+));/ig,t=/_x([\da-fA-F]{4})_/ig;return function r(n){var a=n+"",i=a.indexOf("<![CDATA[");if(i==-1)return a.replace(e,function(o,u){return wF[o]||String.fromCharCode(parseInt(u,o.indexOf("x")>-1?16:10))||o}).replace(t,function(o,u){return String.fromCharCode(parseInt(u,16))});var l=a.indexOf("]]>");return r(a.slice(0,i))+a.slice(i+9,l)+r(a.slice(l+3))}})(),X_=/[&<>'"]/g,aG=/[\u0000-\u0008\u000b-\u001f]/g;function _n(e){var t=e+"";return t.replace(X_,function(r){return Y_[r]}).replace(aG,function(r){return"_x"+("000"+r.charCodeAt(0).toString(16)).slice(-4)+"_"})}function VE(e){return _n(e).replace(/ /g,"_x0020_")}var NF=/[\u0000-\u001f]/g;function Q_(e){var t=e+"";return t.replace(X_,function(r){return Y_[r]}).replace(/\n/g,"<br/>").replace(NF,function(r){return"&#x"+("000"+r.charCodeAt(0).toString(16)).slice(-4)+";"})}function iG(e){var t=e+"";return t.replace(X_,function(r){return Y_[r]}).replace(NF,function(r){return"&#x"+r.charCodeAt(0).toString(16).toUpperCase()+";"})}var WE=(function(){var e=/&#(\d+);/g;function t(r,n){return String.fromCharCode(parseInt(n,10))}return function(n){return n.replace(e,t)}})();function sG(e){return e.replace(/(\r\n|[\r\n])/g,"&#10;")}function Qn(e){switch(e){case 1:case!0:case"1":case"true":case"TRUE":return!0;default:return!1}}function jw(e){for(var t="",r=0,n=0,a=0,i=0,l=0,o=0;r<e.length;){if(n=e.charCodeAt(r++),n<128){t+=String.fromCharCode(n);continue}if(a=e.charCodeAt(r++),n>191&&n<224){l=(n&31)<<6,l|=a&63,t+=String.fromCharCode(l);continue}if(i=e.charCodeAt(r++),n<240){t+=String.fromCharCode((n&15)<<12|(a&63)<<6|i&63);continue}l=e.charCodeAt(r++),o=((n&7)<<18|(a&63)<<12|(i&63)<<6|l&63)-65536,t+=String.fromCharCode(55296+(o>>>10&1023)),t+=String.fromCharCode(56320+(o&1023))}return t}function GE(e){var t=Sd(2*e.length),r,n,a=1,i=0,l=0,o;for(n=0;n<e.length;n+=a)a=1,(o=e.charCodeAt(n))<128?r=o:o<224?(r=(o&31)*64+(e.charCodeAt(n+1)&63),a=2):o<240?(r=(o&15)*4096+(e.charCodeAt(n+1)&63)*64+(e.charCodeAt(n+2)&63),a=3):(a=4,r=(o&7)*262144+(e.charCodeAt(n+1)&63)*4096+(e.charCodeAt(n+2)&63)*64+(e.charCodeAt(n+3)&63),r-=65536,l=55296+(r>>>10&1023),r=56320+(r&1023)),l!==0&&(t[i++]=l&255,t[i++]=l>>>8,l=0),t[i++]=r%256,t[i++]=r>>>8;return t.slice(0,i).toString("ucs2")}function KE(e){return _f(e,"binary").toString("utf8")}var Y1="foo bar baz",Dn=Tr&&(KE(Y1)==jw(Y1)&&KE||GE(Y1)==jw(Y1)&&GE)||jw,ou=Tr?function(e){return _f(e,"utf8").toString("binary")}:function(e){for(var t=[],r=0,n=0,a=0;r<e.length;)switch(n=e.charCodeAt(r++),!0){case n<128:t.push(String.fromCharCode(n));break;case n<2048:t.push(String.fromCharCode(192+(n>>6))),t.push(String.fromCharCode(128+(n&63)));break;case(n>=55296&&n<57344):n-=55296,a=e.charCodeAt(r++)-56320+(n<<10),t.push(String.fromCharCode(240+(a>>18&7))),t.push(String.fromCharCode(144+(a>>12&63))),t.push(String.fromCharCode(128+(a>>6&63))),t.push(String.fromCharCode(128+(a&63)));break;default:t.push(String.fromCharCode(224+(n>>12))),t.push(String.fromCharCode(128+(n>>6&63))),t.push(String.fromCharCode(128+(n&63)))}return t.join("")},Kx=(function(){var e={};return function(r,n){var a=r+"|"+(n||"");return e[a]?e[a]:e[a]=new RegExp("<(?:\\w+:)?"+r+'(?: xml:space="preserve")?(?:[^>]*)>([\\s\\S]*?)</(?:\\w+:)?'+r+">",n||"")}})(),_F=(function(){var e=[["nbsp"," "],["middot",""],["quot",'"'],["apos","'"],["gt",">"],["lt","<"],["amp","&"]].map(function(t){return[new RegExp("&"+t[0]+";","ig"),t[1]]});return function(r){for(var n=r.replace(/^[\t\n\r ]+/,"").replace(/[\t\n\r ]+$/,"").replace(/>\s+/g,">").replace(/\s+</g,"<").replace(/[\t\n\r ]+/g," ").replace(/<\s*[bB][rR]\s*\/?>/g,`
`).replace(/<[^>]*>/g,""),a=0;a<e.length;++a)n=n.replace(e[a][0],e[a][1]);return n}})(),lG=(function(){var e={};return function(r){return e[r]!==void 0?e[r]:e[r]=new RegExp("<(?:vt:)?"+r+">([\\s\\S]*?)</(?:vt:)?"+r+">","g")}})(),oG=/<\/?(?:vt:)?variant>/g,cG=/<(?:vt:)([^>]*)>([\s\S]*)</;function YE(e,t){var r=hr(e),n=e.match(lG(r.baseType))||[],a=[];if(n.length!=r.size){if(t.WTF)throw new Error("unexpected vector length "+n.length+" != "+r.size);return a}return n.forEach(function(i){var l=i.replace(oG,"").match(cG);l&&a.push({v:Dn(l[2]),t:l[1]})}),a}var jF=/(^\s|\s$|\n)/;function ss(e,t){return"<"+e+(t.match(jF)?' xml:space="preserve"':"")+">"+t+"</"+e+">"}function Yx(e){return Ia(e).map(function(t){return" "+t+'="'+e[t]+'"'}).join("")}function wt(e,t,r){return"<"+e+(r!=null?Yx(r):"")+(t!=null?(t.match(jF)?' xml:space="preserve"':"")+">"+t+"</"+e:"/")+">"}function Q4(e,t){try{return e.toISOString().replace(/\.\d*/,"")}catch(r){if(t)throw r}return""}function uG(e,t){switch(typeof e){case"string":var r=wt("vt:lpwstr",_n(e));return r=r.replace(/&quot;/g,"_x0022_"),r;case"number":return wt((e|0)==e?"vt:i4":"vt:r8",_n(String(e)));case"boolean":return wt("vt:bool",e?"true":"false")}if(e instanceof Date)return wt("vt:filetime",Q4(e));throw new Error("Unable to serialize "+e)}function Z_(e){if(Tr&&Buffer.isBuffer(e))return e.toString("utf8");if(typeof e=="string")return e;if(typeof Uint8Array<"u"&&e instanceof Uint8Array)return Dn(Md(H_(e)));throw new Error("Bad input format: expected Buffer or string")}var Xx=/<(\/?)([^\s?><!\/:]*:|)([^\s?<>:\/]+)(?:[\s?:\/][^>]*)?>/mg,Ni={CORE_PROPS:"http://schemas.openxmlformats.org/package/2006/metadata/core-properties",CUST_PROPS:"http://schemas.openxmlformats.org/officeDocument/2006/custom-properties",EXT_PROPS:"http://schemas.openxmlformats.org/officeDocument/2006/extended-properties",CT:"http://schemas.openxmlformats.org/package/2006/content-types",RELS:"http://schemas.openxmlformats.org/package/2006/relationships",TCMNT:"http://schemas.microsoft.com/office/spreadsheetml/2018/threadedcomments",dc:"http://purl.org/dc/elements/1.1/",dcterms:"http://purl.org/dc/terms/",dcmitype:"http://purl.org/dc/dcmitype/",r:"http://schemas.openxmlformats.org/officeDocument/2006/relationships",vt:"http://schemas.openxmlformats.org/officeDocument/2006/docPropsVTypes",xsi:"http://www.w3.org/2001/XMLSchema-instance",xsd:"http://www.w3.org/2001/XMLSchema"},ch=["http://schemas.openxmlformats.org/spreadsheetml/2006/main","http://purl.oclc.org/ooxml/spreadsheetml/main","http://schemas.microsoft.com/office/excel/2006/main","http://schemas.microsoft.com/office/excel/2006/2"],Kl={o:"urn:schemas-microsoft-com:office:office",x:"urn:schemas-microsoft-com:office:excel",ss:"urn:schemas-microsoft-com:office:spreadsheet",dt:"uuid:C2F41010-65B3-11d1-A29F-00AA00C14882",mv:"http://macVmlSchemaUri",v:"urn:schemas-microsoft-com:vml",html:"http://www.w3.org/TR/REC-html40"};function fG(e,t){for(var r=1-2*(e[t+7]>>>7),n=((e[t+7]&127)<<4)+(e[t+6]>>>4&15),a=e[t+6]&15,i=5;i>=0;--i)a=a*256+e[t+i];return n==2047?a==0?r*(1/0):NaN:(n==0?n=-1022:(n-=1023,a+=Math.pow(2,52)),r*Math.pow(2,n-52)*a)}function dG(e,t,r){var n=(t<0||1/t==-1/0?1:0)<<7,a=0,i=0,l=n?-t:t;isFinite(l)?l==0?a=i=0:(a=Math.floor(Math.log(l)/Math.LN2),i=l*Math.pow(2,52-a),a<=-1023&&(!isFinite(i)||i<Math.pow(2,52))?a=-1022:(i-=Math.pow(2,52),a+=1023)):(a=2047,i=isNaN(t)?26985:0);for(var o=0;o<=5;++o,i/=256)e[r+o]=i&255;e[r+6]=(a&15)<<4|i&15,e[r+7]=a>>4|n}var XE=function(e){for(var t=[],r=10240,n=0;n<e[0].length;++n)if(e[0][n])for(var a=0,i=e[0][n].length;a<i;a+=r)t.push.apply(t,e[0][n].slice(a,a+r));return t},QE=Tr?function(e){return e[0].length>0&&Buffer.isBuffer(e[0][0])?Buffer.concat(e[0].map(function(t){return Buffer.isBuffer(t)?t:_f(t)})):XE(e)}:XE,ZE=function(e,t,r){for(var n=[],a=t;a<r;a+=2)n.push(String.fromCharCode(Ju(e,a)));return n.join("").replace(tl,"")},J_=Tr?function(e,t,r){return Buffer.isBuffer(e)?e.toString("utf16le",t,r).replace(tl,""):ZE(e,t,r)}:ZE,JE=function(e,t,r){for(var n=[],a=t;a<t+r;++a)n.push(("0"+e[a].toString(16)).slice(-2));return n.join("")},SF=Tr?function(e,t,r){return Buffer.isBuffer(e)?e.toString("hex",t,t+r):JE(e,t,r)}:JE,ek=function(e,t,r){for(var n=[],a=t;a<r;a++)n.push(String.fromCharCode(ym(e,a)));return n.join("")},jg=Tr?function(t,r,n){return Buffer.isBuffer(t)?t.toString("utf8",r,n):ek(t,r,n)}:ek,AF=function(e,t){var r=Yl(e,t);return r>0?jg(e,t+4,t+4+r-1):""},EF=AF,kF=function(e,t){var r=Yl(e,t);return r>0?jg(e,t+4,t+4+r-1):""},CF=kF,TF=function(e,t){var r=2*Yl(e,t);return r>0?jg(e,t+4,t+4+r-1):""},OF=TF,DF=function(t,r){var n=Yl(t,r);return n>0?J_(t,r+4,r+4+n):""},FF=DF,PF=function(e,t){var r=Yl(e,t);return r>0?jg(e,t+4,t+4+r):""},LF=PF,MF=function(e,t){return fG(e,t)},ey=MF,e3=function(t){return Array.isArray(t)||typeof Uint8Array<"u"&&t instanceof Uint8Array};Tr&&(EF=function(t,r){if(!Buffer.isBuffer(t))return AF(t,r);var n=t.readUInt32LE(r);return n>0?t.toString("utf8",r+4,r+4+n-1):""},CF=function(t,r){if(!Buffer.isBuffer(t))return kF(t,r);var n=t.readUInt32LE(r);return n>0?t.toString("utf8",r+4,r+4+n-1):""},OF=function(t,r){if(!Buffer.isBuffer(t))return TF(t,r);var n=2*t.readUInt32LE(r);return t.toString("utf16le",r+4,r+4+n-1)},FF=function(t,r){if(!Buffer.isBuffer(t))return DF(t,r);var n=t.readUInt32LE(r);return t.toString("utf16le",r+4,r+4+n)},LF=function(t,r){if(!Buffer.isBuffer(t))return PF(t,r);var n=t.readUInt32LE(r);return t.toString("utf8",r+4,r+4+n)},ey=function(t,r){return Buffer.isBuffer(t)?t.readDoubleLE(r):MF(t,r)},e3=function(t){return Buffer.isBuffer(t)||Array.isArray(t)||typeof Uint8Array<"u"&&t instanceof Uint8Array});var ym=function(e,t){return e[t]},Ju=function(e,t){return e[t+1]*256+e[t]},hG=function(e,t){var r=e[t+1]*256+e[t];return r<32768?r:(65535-r+1)*-1},Yl=function(e,t){return e[t+3]*(1<<24)+(e[t+2]<<16)+(e[t+1]<<8)+e[t]},_0=function(e,t){return e[t+3]<<24|e[t+2]<<16|e[t+1]<<8|e[t]},mG=function(e,t){return e[t]<<24|e[t+1]<<16|e[t+2]<<8|e[t+3]};function Sx(e,t){var r="",n,a,i=[],l,o,u,f;switch(t){case"dbcs":if(f=this.l,Tr&&Buffer.isBuffer(this))r=this.slice(this.l,this.l+2*e).toString("utf16le");else for(u=0;u<e;++u)r+=String.fromCharCode(Ju(this,f)),f+=2;e*=2;break;case"utf8":r=jg(this,this.l,this.l+e);break;case"utf16le":e*=2,r=J_(this,this.l,this.l+e);break;case"wstr":return Sx.call(this,e,"dbcs");case"lpstr-ansi":r=EF(this,this.l),e=4+Yl(this,this.l);break;case"lpstr-cp":r=CF(this,this.l),e=4+Yl(this,this.l);break;case"lpwstr":r=OF(this,this.l),e=4+2*Yl(this,this.l);break;case"lpp4":e=4+Yl(this,this.l),r=FF(this,this.l),e&2&&(e+=2);break;case"8lpp4":e=4+Yl(this,this.l),r=LF(this,this.l),e&3&&(e+=4-(e&3));break;case"cstr":for(e=0,r="";(l=ym(this,this.l+e++))!==0;)i.push(K1(l));r=i.join("");break;case"_wstr":for(e=0,r="";(l=Ju(this,this.l+e))!==0;)i.push(K1(l)),e+=2;e+=2,r=i.join("");break;case"dbcs-cont":for(r="",f=this.l,u=0;u<e;++u){if(this.lens&&this.lens.indexOf(f)!==-1)return l=ym(this,f),this.l=f+1,o=Sx.call(this,e-u,l?"dbcs-cont":"sbcs-cont"),i.join("")+o;i.push(K1(Ju(this,f))),f+=2}r=i.join(""),e*=2;break;case"cpstr":case"sbcs-cont":for(r="",f=this.l,u=0;u!=e;++u){if(this.lens&&this.lens.indexOf(f)!==-1)return l=ym(this,f),this.l=f+1,o=Sx.call(this,e-u,l?"dbcs-cont":"sbcs-cont"),i.join("")+o;i.push(K1(ym(this,f))),f+=1}r=i.join("");break;default:switch(e){case 1:return n=ym(this,this.l),this.l++,n;case 2:return n=(t==="i"?hG:Ju)(this,this.l),this.l+=2,n;case 4:case-4:return t==="i"||(this[this.l+3]&128)===0?(n=(e>0?_0:mG)(this,this.l),this.l+=4,n):(a=Yl(this,this.l),this.l+=4,a);case 8:case-8:if(t==="f")return e==8?a=ey(this,this.l):a=ey([this[this.l+7],this[this.l+6],this[this.l+5],this[this.l+4],this[this.l+3],this[this.l+2],this[this.l+1],this[this.l+0]],0),this.l+=8,a;e=8;case 16:r=SF(this,this.l,e);break}}return this.l+=e,r}var pG=function(e,t,r){e[r]=t&255,e[r+1]=t>>>8&255,e[r+2]=t>>>16&255,e[r+3]=t>>>24&255},xG=function(e,t,r){e[r]=t&255,e[r+1]=t>>8&255,e[r+2]=t>>16&255,e[r+3]=t>>24&255},gG=function(e,t,r){e[r]=t&255,e[r+1]=t>>>8&255};function vG(e,t,r){var n=0,a=0;if(r==="dbcs"){for(a=0;a!=t.length;++a)gG(this,t.charCodeAt(a),this.l+2*a);n=2*t.length}else if(r==="sbcs"){for(t=t.replace(/[^\x00-\x7F]/g,"_"),a=0;a!=t.length;++a)this[this.l+a]=t.charCodeAt(a)&255;n=t.length}else if(r==="hex"){for(;a<e;++a)this[this.l++]=parseInt(t.slice(2*a,2*a+2),16)||0;return this}else if(r==="utf16le"){var i=Math.min(this.l+e,this.length);for(a=0;a<Math.min(t.length,e);++a){var l=t.charCodeAt(a);this[this.l++]=l&255,this[this.l++]=l>>8}for(;this.l<i;)this[this.l++]=0;return this}else switch(e){case 1:n=1,this[this.l]=t&255;break;case 2:n=2,this[this.l]=t&255,t>>>=8,this[this.l+1]=t&255;break;case 3:n=3,this[this.l]=t&255,t>>>=8,this[this.l+1]=t&255,t>>>=8,this[this.l+2]=t&255;break;case 4:n=4,pG(this,t,this.l);break;case 8:if(n=8,r==="f"){dG(this,t,this.l);break}case 16:break;case-4:n=4,xG(this,t,this.l);break}return this.l+=n,this}function RF(e,t){var r=SF(this,this.l,e.length>>1);if(r!==e)throw new Error(t+"Expected "+e+" saw "+r);this.l+=e.length>>1}function as(e,t){e.l=t,e.read_shift=Sx,e.chk=RF,e.write_shift=vG}function Fs(e,t){e.l+=t}function Je(e){var t=Sd(e);return as(t,0),t}function jf(e,t,r){if(e){var n,a,i;as(e,e.l||0);for(var l=e.length,o=0,u=0;e.l<l;){o=e.read_shift(1),o&128&&(o=(o&127)+((e.read_shift(1)&127)<<7));var f=rg[o]||rg[65535];for(n=e.read_shift(1),i=n&127,a=1;a<4&&n&128;++a)i+=((n=e.read_shift(1))&127)<<7*a;u=e.l+i;var h=f.f&&f.f(e,i,r);if(e.l=u,t(h,f,o))return}}}function El(){var e=[],t=Tr?256:2048,r=function(f){var h=Je(f);return as(h,0),h},n=r(t),a=function(){n&&(n.length>n.l&&(n=n.slice(0,n.l),n.l=n.length),n.length>0&&e.push(n),n=null)},i=function(f){return n&&f<n.length-n.l?n:(a(),n=r(Math.max(f+1,t)))},l=function(){return a(),Ui(e)},o=function(f){a(),n=f,n.l==null&&(n.l=n.length),i(t)};return{next:i,push:o,end:l,_bufs:e}}function ut(e,t,r,n){var a=+t,i;if(!isNaN(a)){n||(n=rg[a].p||(r||[]).length||0),i=1+(a>=128?1:0)+1,n>=128&&++i,n>=16384&&++i,n>=2097152&&++i;var l=e.next(i);a<=127?l.write_shift(1,a):(l.write_shift(1,(a&127)+128),l.write_shift(1,a>>7));for(var o=0;o!=4;++o)if(n>=128)l.write_shift(1,(n&127)+128),n>>=7;else{l.write_shift(1,n);break}n>0&&e3(r)&&e.push(r)}}function Ax(e,t,r){var n=ea(e);if(t.s?(n.cRel&&(n.c+=t.s.c),n.rRel&&(n.r+=t.s.r)):(n.cRel&&(n.c+=t.c),n.rRel&&(n.r+=t.r)),!r||r.biff<12){for(;n.c>=256;)n.c-=256;for(;n.r>=65536;)n.r-=65536}return n}function tk(e,t,r){var n=ea(e);return n.s=Ax(n.s,t.s,r),n.e=Ax(n.e,t.s,r),n}function Ex(e,t){if(e.cRel&&e.c<0)for(e=ea(e);e.c<0;)e.c+=t>8?16384:256;if(e.rRel&&e.r<0)for(e=ea(e);e.r<0;)e.r+=t>8?1048576:t>5?65536:16384;var r=fr(e);return!e.cRel&&e.cRel!=null&&(r=wG(r)),!e.rRel&&e.rRel!=null&&(r=yG(r)),r}function Sw(e,t){return e.s.r==0&&!e.s.rRel&&e.e.r==(t.biff>=12?1048575:t.biff>=8?65536:16384)&&!e.e.rRel?(e.s.cRel?"":"$")+_a(e.s.c)+":"+(e.e.cRel?"":"$")+_a(e.e.c):e.s.c==0&&!e.s.cRel&&e.e.c==(t.biff>=12?16383:255)&&!e.e.cRel?(e.s.rRel?"":"$")+Ya(e.s.r)+":"+(e.e.rRel?"":"$")+Ya(e.e.r):Ex(e.s,t.biff)+":"+Ex(e.e,t.biff)}function t3(e){return parseInt(bG(e),10)-1}function Ya(e){return""+(e+1)}function yG(e){return e.replace(/([A-Z]|^)(\d+)$/,"$1$$$2")}function bG(e){return e.replace(/\$(\d+)$/,"$1")}function r3(e){for(var t=NG(e),r=0,n=0;n!==t.length;++n)r=26*r+t.charCodeAt(n)-64;return r-1}function _a(e){if(e<0)throw new Error("invalid column "+e);var t="";for(++e;e;e=Math.floor((e-1)/26))t=String.fromCharCode((e-1)%26+65)+t;return t}function wG(e){return e.replace(/^([A-Z])/,"$$$1")}function NG(e){return e.replace(/^\$([A-Z])/,"$1")}function _G(e){return e.replace(/(\$?[A-Z]*)(\$?\d*)/,"$1,$2").split(",")}function ja(e){for(var t=0,r=0,n=0;n<e.length;++n){var a=e.charCodeAt(n);a>=48&&a<=57?t=10*t+(a-48):a>=65&&a<=90&&(r=26*r+(a-64))}return{c:r-1,r:t-1}}function fr(e){for(var t=e.c+1,r="";t;t=(t-1)/26|0)r=String.fromCharCode((t-1)%26+65)+r;return r+(e.r+1)}function Cl(e){var t=e.indexOf(":");return t==-1?{s:ja(e),e:ja(e)}:{s:ja(e.slice(0,t)),e:ja(e.slice(t+1))}}function Nr(e,t){return typeof t>"u"||typeof t=="number"?Nr(e.s,e.e):(typeof e!="string"&&(e=fr(e)),typeof t!="string"&&(t=fr(t)),e==t?e:e+":"+t)}function Jr(e){var t={s:{c:0,r:0},e:{c:0,r:0}},r=0,n=0,a=0,i=e.length;for(r=0;n<i&&!((a=e.charCodeAt(n)-64)<1||a>26);++n)r=26*r+a;for(t.s.c=--r,r=0;n<i&&!((a=e.charCodeAt(n)-48)<0||a>9);++n)r=10*r+a;if(t.s.r=--r,n===i||a!=10)return t.e.c=t.s.c,t.e.r=t.s.r,t;for(++n,r=0;n!=i&&!((a=e.charCodeAt(n)-64)<1||a>26);++n)r=26*r+a;for(t.e.c=--r,r=0;n!=i&&!((a=e.charCodeAt(n)-48)<0||a>9);++n)r=10*r+a;return t.e.r=--r,t}function rk(e,t){var r=e.t=="d"&&t instanceof Date;if(e.z!=null)try{return e.w=Uo(e.z,r?ji(t):t)}catch{}try{return e.w=Uo((e.XF||{}).numFmtId||(r?14:0),r?ji(t):t)}catch{return""+t}}function pf(e,t,r){return e==null||e.t==null||e.t=="z"?"":e.w!==void 0?e.w:(e.t=="d"&&!e.z&&r&&r.dateNF&&(e.z=r.dateNF),e.t=="e"?Sf[e.v]||e.v:t==null?rk(e,e.v):rk(e,t))}function Rd(e,t){var r=t&&t.sheet?t.sheet:"Sheet1",n={};return n[r]=e,{SheetNames:[r],Sheets:n}}function IF(e,t,r){var n=r||{},a=e?Array.isArray(e):n.dense,i=e||(a?[]:{}),l=0,o=0;if(i&&n.origin!=null){if(typeof n.origin=="number")l=n.origin;else{var u=typeof n.origin=="string"?ja(n.origin):n.origin;l=u.r,o=u.c}i["!ref"]||(i["!ref"]="A1:A1")}var f={s:{c:1e7,r:1e7},e:{c:0,r:0}};if(i["!ref"]){var h=Jr(i["!ref"]);f.s.c=h.s.c,f.s.r=h.s.r,f.e.c=Math.max(f.e.c,h.e.c),f.e.r=Math.max(f.e.r,h.e.r),l==-1&&(f.e.r=l=h.e.r+1)}for(var m=0;m!=t.length;++m)if(t[m]){if(!Array.isArray(t[m]))throw new Error("aoa_to_sheet expects an array of arrays");for(var g=0;g!=t[m].length;++g)if(!(typeof t[m][g]>"u")){var x={v:t[m][g]},b=l+m,v=o+g;if(f.s.r>b&&(f.s.r=b),f.s.c>v&&(f.s.c=v),f.e.r<b&&(f.e.r=b),f.e.c<v&&(f.e.c=v),t[m][g]&&typeof t[m][g]=="object"&&!Array.isArray(t[m][g])&&!(t[m][g]instanceof Date))x=t[m][g];else if(Array.isArray(x.v)&&(x.f=t[m][g][1],x.v=x.v[0]),x.v===null)if(x.f)x.t="n";else if(n.nullError)x.t="e",x.v=0;else if(n.sheetStubs)x.t="z";else continue;else typeof x.v=="number"?x.t="n":typeof x.v=="boolean"?x.t="b":x.v instanceof Date?(x.z=n.dateNF||ur[14],n.cellDates?(x.t="d",x.w=Uo(x.z,ji(x.v))):(x.t="n",x.v=ji(x.v),x.w=Uo(x.z,x.v))):x.t="s";if(a)i[b]||(i[b]=[]),i[b][v]&&i[b][v].z&&(x.z=i[b][v].z),i[b][v]=x;else{var w=fr({c:v,r:b});i[w]&&i[w].z&&(x.z=i[w].z),i[w]=x}}}return f.s.c<1e7&&(i["!ref"]=Nr(f)),i}function lp(e,t){return IF(null,e,t)}function jG(e){return e.read_shift(4,"i")}function Ac(e,t){return t||(t=Je(4)),t.write_shift(4,e),t}function Ts(e){var t=e.read_shift(4);return t===0?"":e.read_shift(t,"dbcs")}function zi(e,t){var r=!1;return t==null&&(r=!0,t=Je(4+2*e.length)),t.write_shift(4,e.length),e.length>0&&t.write_shift(0,e,"dbcs"),r?t.slice(0,t.l):t}function SG(e){return{ich:e.read_shift(2),ifnt:e.read_shift(2)}}function AG(e,t){return t||(t=Je(4)),t.write_shift(2,0),t.write_shift(2,0),t}function n3(e,t){var r=e.l,n=e.read_shift(1),a=Ts(e),i=[],l={t:a,h:a};if((n&1)!==0){for(var o=e.read_shift(4),u=0;u!=o;++u)i.push(SG(e));l.r=i}else l.r=[{ich:0,ifnt:0}];return e.l=r+t,l}function EG(e,t){var r=!1;return t==null&&(r=!0,t=Je(15+4*e.t.length)),t.write_shift(1,0),zi(e.t,t),r?t.slice(0,t.l):t}var kG=n3;function CG(e,t){var r=!1;return t==null&&(r=!0,t=Je(23+4*e.t.length)),t.write_shift(1,1),zi(e.t,t),t.write_shift(4,1),AG({},t),r?t.slice(0,t.l):t}function Wo(e){var t=e.read_shift(4),r=e.read_shift(2);return r+=e.read_shift(1)<<16,e.l++,{c:t,iStyleRef:r}}function uh(e,t){return t==null&&(t=Je(8)),t.write_shift(-4,e.c),t.write_shift(3,e.iStyleRef||e.s),t.write_shift(1,0),t}function fh(e){var t=e.read_shift(2);return t+=e.read_shift(1)<<16,e.l++,{c:-1,iStyleRef:t}}function dh(e,t){return t==null&&(t=Je(4)),t.write_shift(3,e.iStyleRef||e.s),t.write_shift(1,0),t}var TG=Ts,BF=zi;function a3(e){var t=e.read_shift(4);return t===0||t===4294967295?"":e.read_shift(t,"dbcs")}function ty(e,t){var r=!1;return t==null&&(r=!0,t=Je(127)),t.write_shift(4,e.length>0?e.length:4294967295),e.length>0&&t.write_shift(0,e,"dbcs"),r?t.slice(0,t.l):t}var OG=Ts,Z4=a3,i3=ty;function s3(e){var t=e.slice(e.l,e.l+4),r=t[0]&1,n=t[0]&2;e.l+=4;var a=n===0?ey([0,0,0,0,t[0]&252,t[1],t[2],t[3]],0):_0(t,0)>>2;return r?a/100:a}function UF(e,t){t==null&&(t=Je(4));var r=0,n=0,a=e*100;if(e==(e|0)&&e>=-536870912&&e<1<<29?n=1:a==(a|0)&&a>=-536870912&&a<1<<29&&(n=1,r=1),n)t.write_shift(-4,((r?a:e)<<2)+(r+2));else throw new Error("unsupported RkNumber "+e)}function zF(e){var t={s:{},e:{}};return t.s.r=e.read_shift(4),t.e.r=e.read_shift(4),t.s.c=e.read_shift(4),t.e.c=e.read_shift(4),t}function DG(e,t){return t||(t=Je(16)),t.write_shift(4,e.s.r),t.write_shift(4,e.e.r),t.write_shift(4,e.s.c),t.write_shift(4,e.e.c),t}var hh=zF,op=DG;function Ss(e){if(e.length-e.l<8)throw"XLS Xnum Buffer underflow";return e.read_shift(8,"f")}function G0(e,t){return(t||Je(8)).write_shift(8,e,"f")}function FG(e){var t={},r=e.read_shift(1),n=r>>>1,a=e.read_shift(1),i=e.read_shift(2,"i"),l=e.read_shift(1),o=e.read_shift(1),u=e.read_shift(1);switch(e.l++,n){case 0:t.auto=1;break;case 1:t.index=a;var f=O0[a];f&&(t.rgb=Zx(f));break;case 2:t.rgb=Zx([l,o,u]);break;case 3:t.theme=a;break}return i!=0&&(t.tint=i>0?i/32767:i/32768),t}function ry(e,t){if(t||(t=Je(8)),!e||e.auto)return t.write_shift(4,0),t.write_shift(4,0),t;e.index!=null?(t.write_shift(1,2),t.write_shift(1,e.index)):e.theme!=null?(t.write_shift(1,6),t.write_shift(1,e.theme)):(t.write_shift(1,5),t.write_shift(1,0));var r=e.tint||0;if(r>0?r*=32767:r<0&&(r*=32768),t.write_shift(2,r),!e.rgb||e.theme!=null)t.write_shift(2,0),t.write_shift(1,0),t.write_shift(1,0);else{var n=e.rgb||"FFFFFF";typeof n=="number"&&(n=("000000"+n.toString(16)).slice(-6)),t.write_shift(1,parseInt(n.slice(0,2),16)),t.write_shift(1,parseInt(n.slice(2,4),16)),t.write_shift(1,parseInt(n.slice(4,6),16)),t.write_shift(1,255)}return t}function PG(e){var t=e.read_shift(1);e.l++;var r={fBold:t&1,fItalic:t&2,fUnderline:t&4,fStrikeout:t&8,fOutline:t&16,fShadow:t&32,fCondense:t&64,fExtend:t&128};return r}function LG(e,t){t||(t=Je(2));var r=(e.italic?2:0)|(e.strike?8:0)|(e.outline?16:0)|(e.shadow?32:0)|(e.condense?64:0)|(e.extend?128:0);return t.write_shift(1,r),t.write_shift(1,0),t}function qF(e,t){var r={2:"BITMAP",3:"METAFILEPICT",8:"DIB",14:"ENHMETAFILE"},n=e.read_shift(4);switch(n){case 0:return"";case 4294967295:case 4294967294:return r[e.read_shift(4)]||""}if(n>400)throw new Error("Unsupported Clipboard: "+n.toString(16));return e.l-=4,e.read_shift(0,t==1?"lpstr":"lpwstr")}function MG(e){return qF(e,1)}function RG(e){return qF(e,2)}var l3=2,_l=3,X1=11,nk=12,ny=19,Q1=64,IG=65,BG=71,UG=4108,zG=4126,Ri=80,$F=81,qG=[Ri,$F],J4={1:{n:"CodePage",t:l3},2:{n:"Category",t:Ri},3:{n:"PresentationFormat",t:Ri},4:{n:"ByteCount",t:_l},5:{n:"LineCount",t:_l},6:{n:"ParagraphCount",t:_l},7:{n:"SlideCount",t:_l},8:{n:"NoteCount",t:_l},9:{n:"HiddenCount",t:_l},10:{n:"MultimediaClipCount",t:_l},11:{n:"ScaleCrop",t:X1},12:{n:"HeadingPairs",t:UG},13:{n:"TitlesOfParts",t:zG},14:{n:"Manager",t:Ri},15:{n:"Company",t:Ri},16:{n:"LinksUpToDate",t:X1},17:{n:"CharacterCount",t:_l},19:{n:"SharedDoc",t:X1},22:{n:"HyperlinksChanged",t:X1},23:{n:"AppVersion",t:_l,p:"version"},24:{n:"DigSig",t:IG},26:{n:"ContentType",t:Ri},27:{n:"ContentStatus",t:Ri},28:{n:"Language",t:Ri},29:{n:"Version",t:Ri},255:{},2147483648:{n:"Locale",t:ny},2147483651:{n:"Behavior",t:ny},1919054434:{}},eN={1:{n:"CodePage",t:l3},2:{n:"Title",t:Ri},3:{n:"Subject",t:Ri},4:{n:"Author",t:Ri},5:{n:"Keywords",t:Ri},6:{n:"Comments",t:Ri},7:{n:"Template",t:Ri},8:{n:"LastAuthor",t:Ri},9:{n:"RevNumber",t:Ri},10:{n:"EditTime",t:Q1},11:{n:"LastPrinted",t:Q1},12:{n:"CreatedDate",t:Q1},13:{n:"ModifiedDate",t:Q1},14:{n:"PageCount",t:_l},15:{n:"WordCount",t:_l},16:{n:"CharCount",t:_l},17:{n:"Thumbnail",t:BG},18:{n:"Application",t:Ri},19:{n:"DocSecurity",t:_l},255:{},2147483648:{n:"Locale",t:ny},2147483651:{n:"Behavior",t:ny},1919054434:{}},ak={1:"US",2:"CA",3:"",7:"RU",20:"EG",30:"GR",31:"NL",32:"BE",33:"FR",34:"ES",36:"HU",39:"IT",41:"CH",43:"AT",44:"GB",45:"DK",46:"SE",47:"NO",48:"PL",49:"DE",52:"MX",55:"BR",61:"AU",64:"NZ",66:"TH",81:"JP",82:"KR",84:"VN",86:"CN",90:"TR",105:"JS",213:"DZ",216:"MA",218:"LY",351:"PT",354:"IS",358:"FI",420:"CZ",886:"TW",961:"LB",962:"JO",963:"SY",964:"IQ",965:"KW",966:"SA",971:"AE",972:"IL",974:"QA",981:"IR",65535:"US"},$G=[null,"solid","mediumGray","darkGray","lightGray","darkHorizontal","darkVertical","darkDown","darkUp","darkGrid","darkTrellis","lightHorizontal","lightVertical","lightDown","lightUp","lightGrid","lightTrellis","gray125","gray0625"];function HG(e){return e.map(function(t){return[t>>16&255,t>>8&255,t&255]})}var VG=HG([0,16777215,16711680,65280,255,16776960,16711935,65535,0,16777215,16711680,65280,255,16776960,16711935,65535,8388608,32768,128,8421376,8388736,32896,12632256,8421504,10066431,10040166,16777164,13434879,6684774,16744576,26316,13421823,128,16711935,16776960,65535,8388736,8388608,32896,255,52479,13434879,13434828,16777113,10079487,16751052,13408767,16764057,3368703,3394764,10079232,16763904,16750848,16737792,6710937,9868950,13158,3381606,13056,3355392,10040064,10040166,3355545,3355443,16777215,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0]),O0=ea(VG),Sf={0:"#NULL!",7:"#DIV/0!",15:"#VALUE!",23:"#REF!",29:"#NAME?",36:"#NUM!",42:"#N/A",43:"#GETTING_DATA",255:"#WTF?"},HF={"#NULL!":0,"#DIV/0!":7,"#VALUE!":15,"#REF!":23,"#NAME?":29,"#NUM!":36,"#N/A":42,"#GETTING_DATA":43,"#WTF?":255},tN={"application/vnd.openxmlformats-officedocument.spreadsheetml.sheet.main+xml":"workbooks","application/vnd.ms-excel.sheet.macroEnabled.main+xml":"workbooks","application/vnd.ms-excel.sheet.binary.macroEnabled.main":"workbooks","application/vnd.ms-excel.addin.macroEnabled.main+xml":"workbooks","application/vnd.openxmlformats-officedocument.spreadsheetml.template.main+xml":"workbooks","application/vnd.openxmlformats-officedocument.spreadsheetml.worksheet+xml":"sheets","application/vnd.ms-excel.worksheet":"sheets","application/vnd.ms-excel.binIndexWs":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.chartsheet+xml":"charts","application/vnd.ms-excel.chartsheet":"charts","application/vnd.ms-excel.macrosheet+xml":"macros","application/vnd.ms-excel.macrosheet":"macros","application/vnd.ms-excel.intlmacrosheet":"TODO","application/vnd.ms-excel.binIndexMs":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.dialogsheet+xml":"dialogs","application/vnd.ms-excel.dialogsheet":"dialogs","application/vnd.openxmlformats-officedocument.spreadsheetml.sharedStrings+xml":"strs","application/vnd.ms-excel.sharedStrings":"strs","application/vnd.openxmlformats-officedocument.spreadsheetml.styles+xml":"styles","application/vnd.ms-excel.styles":"styles","application/vnd.openxmlformats-package.core-properties+xml":"coreprops","application/vnd.openxmlformats-officedocument.custom-properties+xml":"custprops","application/vnd.openxmlformats-officedocument.extended-properties+xml":"extprops","application/vnd.openxmlformats-officedocument.customXmlProperties+xml":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.customProperty":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.comments+xml":"comments","application/vnd.ms-excel.comments":"comments","application/vnd.ms-excel.threadedcomments+xml":"threadedcomments","application/vnd.ms-excel.person+xml":"people","application/vnd.openxmlformats-officedocument.spreadsheetml.sheetMetadata+xml":"metadata","application/vnd.ms-excel.sheetMetadata":"metadata","application/vnd.ms-excel.pivotTable":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.pivotTable+xml":"TODO","application/vnd.openxmlformats-officedocument.drawingml.chart+xml":"TODO","application/vnd.ms-office.chartcolorstyle+xml":"TODO","application/vnd.ms-office.chartstyle+xml":"TODO","application/vnd.ms-office.chartex+xml":"TODO","application/vnd.ms-excel.calcChain":"calcchains","application/vnd.openxmlformats-officedocument.spreadsheetml.calcChain+xml":"calcchains","application/vnd.openxmlformats-officedocument.spreadsheetml.printerSettings":"TODO","application/vnd.ms-office.activeX":"TODO","application/vnd.ms-office.activeX+xml":"TODO","application/vnd.ms-excel.attachedToolbars":"TODO","application/vnd.ms-excel.connections":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.connections+xml":"TODO","application/vnd.ms-excel.externalLink":"links","application/vnd.openxmlformats-officedocument.spreadsheetml.externalLink+xml":"links","application/vnd.ms-excel.pivotCacheDefinition":"TODO","application/vnd.ms-excel.pivotCacheRecords":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.pivotCacheDefinition+xml":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.pivotCacheRecords+xml":"TODO","application/vnd.ms-excel.queryTable":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.queryTable+xml":"TODO","application/vnd.ms-excel.userNames":"TODO","application/vnd.ms-excel.revisionHeaders":"TODO","application/vnd.ms-excel.revisionLog":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.revisionHeaders+xml":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.revisionLog+xml":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.userNames+xml":"TODO","application/vnd.ms-excel.tableSingleCells":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.tableSingleCells+xml":"TODO","application/vnd.ms-excel.slicer":"TODO","application/vnd.ms-excel.slicerCache":"TODO","application/vnd.ms-excel.slicer+xml":"TODO","application/vnd.ms-excel.slicerCache+xml":"TODO","application/vnd.ms-excel.wsSortMap":"TODO","application/vnd.ms-excel.table":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.table+xml":"TODO","application/vnd.openxmlformats-officedocument.theme+xml":"themes","application/vnd.openxmlformats-officedocument.themeOverride+xml":"TODO","application/vnd.ms-excel.Timeline+xml":"TODO","application/vnd.ms-excel.TimelineCache+xml":"TODO","application/vnd.ms-office.vbaProject":"vba","application/vnd.ms-office.vbaProjectSignature":"TODO","application/vnd.ms-office.volatileDependencies":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.volatileDependencies+xml":"TODO","application/vnd.ms-excel.controlproperties+xml":"TODO","application/vnd.openxmlformats-officedocument.model+data":"TODO","application/vnd.ms-excel.Survey+xml":"TODO","application/vnd.openxmlformats-officedocument.drawing+xml":"drawings","application/vnd.openxmlformats-officedocument.drawingml.chartshapes+xml":"TODO","application/vnd.openxmlformats-officedocument.drawingml.diagramColors+xml":"TODO","application/vnd.openxmlformats-officedocument.drawingml.diagramData+xml":"TODO","application/vnd.openxmlformats-officedocument.drawingml.diagramLayout+xml":"TODO","application/vnd.openxmlformats-officedocument.drawingml.diagramStyle+xml":"TODO","application/vnd.openxmlformats-officedocument.vmlDrawing":"TODO","application/vnd.openxmlformats-package.relationships+xml":"rels","application/vnd.openxmlformats-officedocument.oleObject":"TODO","image/png":"TODO",sheet:"js"},Z1={workbooks:{xlsx:"application/vnd.openxmlformats-officedocument.spreadsheetml.sheet.main+xml",xlsm:"application/vnd.ms-excel.sheet.macroEnabled.main+xml",xlsb:"application/vnd.ms-excel.sheet.binary.macroEnabled.main",xlam:"application/vnd.ms-excel.addin.macroEnabled.main+xml",xltx:"application/vnd.openxmlformats-officedocument.spreadsheetml.template.main+xml"},strs:{xlsx:"application/vnd.openxmlformats-officedocument.spreadsheetml.sharedStrings+xml",xlsb:"application/vnd.ms-excel.sharedStrings"},comments:{xlsx:"application/vnd.openxmlformats-officedocument.spreadsheetml.comments+xml",xlsb:"application/vnd.ms-excel.comments"},sheets:{xlsx:"application/vnd.openxmlformats-officedocument.spreadsheetml.worksheet+xml",xlsb:"application/vnd.ms-excel.worksheet"},charts:{xlsx:"application/vnd.openxmlformats-officedocument.spreadsheetml.chartsheet+xml",xlsb:"application/vnd.ms-excel.chartsheet"},dialogs:{xlsx:"application/vnd.openxmlformats-officedocument.spreadsheetml.dialogsheet+xml",xlsb:"application/vnd.ms-excel.dialogsheet"},macros:{xlsx:"application/vnd.ms-excel.macrosheet+xml",xlsb:"application/vnd.ms-excel.macrosheet"},metadata:{xlsx:"application/vnd.openxmlformats-officedocument.spreadsheetml.sheetMetadata+xml",xlsb:"application/vnd.ms-excel.sheetMetadata"},styles:{xlsx:"application/vnd.openxmlformats-officedocument.spreadsheetml.styles+xml",xlsb:"application/vnd.ms-excel.styles"}};function o3(){return{workbooks:[],sheets:[],charts:[],dialogs:[],macros:[],rels:[],strs:[],comments:[],threadedcomments:[],links:[],coreprops:[],extprops:[],custprops:[],themes:[],styles:[],calcchains:[],vba:[],drawings:[],metadata:[],people:[],TODO:[],xmlns:""}}function WG(e){var t=o3();if(!e||!e.match)return t;var r={};if((e.match(Ls)||[]).forEach(function(n){var a=hr(n);switch(a[0].replace(rG,"<")){case"<?xml":break;case"<Types":t.xmlns=a["xmlns"+(a[0].match(/<(\w+):/)||["",""])[1]];break;case"<Default":r[a.Extension]=a.ContentType;break;case"<Override":t[tN[a.ContentType]]!==void 0&&t[tN[a.ContentType]].push(a.PartName);break}}),t.xmlns!==Ni.CT)throw new Error("Unknown Namespace: "+t.xmlns);return t.calcchain=t.calcchains.length>0?t.calcchains[0]:"",t.sst=t.strs.length>0?t.strs[0]:"",t.style=t.styles.length>0?t.styles[0]:"",t.defaults=r,delete t.calcchains,t}function VF(e,t){var r=WW(tN),n=[],a;n[n.length]=Xa,n[n.length]=wt("Types",null,{xmlns:Ni.CT,"xmlns:xsd":Ni.xsd,"xmlns:xsi":Ni.xsi}),n=n.concat([["xml","application/xml"],["bin","application/vnd.ms-excel.sheet.binary.macroEnabled.main"],["vml","application/vnd.openxmlformats-officedocument.vmlDrawing"],["data","application/vnd.openxmlformats-officedocument.model+data"],["bmp","image/bmp"],["png","image/png"],["gif","image/gif"],["emf","image/x-emf"],["wmf","image/x-wmf"],["jpg","image/jpeg"],["jpeg","image/jpeg"],["tif","image/tiff"],["tiff","image/tiff"],["pdf","application/pdf"],["rels","application/vnd.openxmlformats-package.relationships+xml"]].map(function(u){return wt("Default",null,{Extension:u[0],ContentType:u[1]})}));var i=function(u){e[u]&&e[u].length>0&&(a=e[u][0],n[n.length]=wt("Override",null,{PartName:(a[0]=="/"?"":"/")+a,ContentType:Z1[u][t.bookType]||Z1[u].xlsx}))},l=function(u){(e[u]||[]).forEach(function(f){n[n.length]=wt("Override",null,{PartName:(f[0]=="/"?"":"/")+f,ContentType:Z1[u][t.bookType]||Z1[u].xlsx})})},o=function(u){(e[u]||[]).forEach(function(f){n[n.length]=wt("Override",null,{PartName:(f[0]=="/"?"":"/")+f,ContentType:r[u][0]})})};return i("workbooks"),l("sheets"),l("charts"),o("themes"),["strs","styles"].forEach(i),["coreprops","extprops","custprops"].forEach(o),o("vba"),o("comments"),o("threadedcomments"),o("drawings"),l("metadata"),o("people"),n.length>2&&(n[n.length]="</Types>",n[1]=n[1].replace("/>",">")),n.join("")}var Dr={WB:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/officeDocument",SHEET:"http://sheetjs.openxmlformats.org/officeDocument/2006/relationships/officeDocument",HLINK:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/hyperlink",VML:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/vmlDrawing",XPATH:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/externalLinkPath",XMISS:"http://schemas.microsoft.com/office/2006/relationships/xlExternalLinkPath/xlPathMissing",XLINK:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/externalLink",CXML:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/customXml",CXMLP:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/customXmlProps",CMNT:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/comments",CORE_PROPS:"http://schemas.openxmlformats.org/package/2006/relationships/metadata/core-properties",EXT_PROPS:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/extended-properties",CUST_PROPS:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/custom-properties",SST:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/sharedStrings",STY:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/styles",THEME:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/theme",CHART:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/chart",CHARTEX:"http://schemas.microsoft.com/office/2014/relationships/chartEx",CS:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/chartsheet",WS:["http://schemas.openxmlformats.org/officeDocument/2006/relationships/worksheet","http://purl.oclc.org/ooxml/officeDocument/relationships/worksheet"],DS:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/dialogsheet",MS:"http://schemas.microsoft.com/office/2006/relationships/xlMacrosheet",IMG:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/image",DRAW:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/drawing",XLMETA:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/sheetMetadata",TCMNT:"http://schemas.microsoft.com/office/2017/10/relationships/threadedComment",PEOPLE:"http://schemas.microsoft.com/office/2017/10/relationships/person",VBA:"http://schemas.microsoft.com/office/2006/relationships/vbaProject"};function Qx(e){var t=e.lastIndexOf("/");return e.slice(0,t+1)+"_rels/"+e.slice(t+1)+".rels"}function kx(e,t){var r={"!id":{}};if(!e)return r;t.charAt(0)!=="/"&&(t="/"+t);var n={};return(e.match(Ls)||[]).forEach(function(a){var i=hr(a);if(i[0]==="<Relationship"){var l={};l.Type=i.Type,l.Target=i.Target,l.Id=i.Id,i.TargetMode&&(l.TargetMode=i.TargetMode);var o=i.TargetMode==="External"?i.Target:yx(i.Target,t);r[o]=l,n[i.Id]=l}}),r["!id"]=n,r}function Tm(e){var t=[Xa,wt("Relationships",null,{xmlns:Ni.RELS})];return Ia(e["!id"]).forEach(function(r){t[t.length]=wt("Relationship",null,e["!id"][r])}),t.length>2&&(t[t.length]="</Relationships>",t[1]=t[1].replace("/>",">")),t.join("")}function bn(e,t,r,n,a,i){if(a||(a={}),e["!id"]||(e["!id"]={}),e["!idx"]||(e["!idx"]=1),t<0)for(t=e["!idx"];e["!id"]["rId"+t];++t);if(e["!idx"]=t+1,a.Id="rId"+t,a.Type=n,a.Target=r,[Dr.HLINK,Dr.XPATH,Dr.XMISS].indexOf(a.Type)>-1&&(a.TargetMode="External"),e["!id"][a.Id])throw new Error("Cannot rewrite rId "+t);return e["!id"][a.Id]=a,e[("/"+a.Target).replace("//","/")]=a,t}var GG="application/vnd.oasis.opendocument.spreadsheet";function KG(e,t){for(var r=Z_(e),n,a;n=Xx.exec(r);)switch(n[3]){case"manifest":break;case"file-entry":if(a=hr(n[0],!1),a.path=="/"&&a.type!==GG)throw new Error("This OpenDocument is not a spreadsheet");break;case"encryption-data":case"algorithm":case"start-key-generation":case"key-derivation":throw new Error("Unsupported ODS Encryption");default:if(t&&t.WTF)throw n}}function YG(e){var t=[Xa];t.push(`<manifest:manifest xmlns:manifest="urn:oasis:names:tc:opendocument:xmlns:manifest:1.0" manifest:version="1.2">
`),t.push(`  <manifest:file-entry manifest:full-path="/" manifest:version="1.2" manifest:media-type="application/vnd.oasis.opendocument.spreadsheet"/>
`);for(var r=0;r<e.length;++r)t.push('  <manifest:file-entry manifest:full-path="'+e[r][0]+'" manifest:media-type="'+e[r][1]+`"/>
`);return t.push("</manifest:manifest>"),t.join("")}function ik(e,t,r){return['  <rdf:Description rdf:about="'+e+`">
`,'    <rdf:type rdf:resource="http://docs.oasis-open.org/ns/office/1.2/meta/'+(r||"odf")+"#"+t+`"/>
`,`  </rdf:Description>
`].join("")}function XG(e,t){return['  <rdf:Description rdf:about="'+e+`">
`,'    <ns0:hasPart xmlns:ns0="http://docs.oasis-open.org/ns/office/1.2/meta/pkg#" rdf:resource="'+t+`"/>
`,`  </rdf:Description>
`].join("")}function QG(e){var t=[Xa];t.push(`<rdf:RDF xmlns:rdf="http://www.w3.org/1999/02/22-rdf-syntax-ns#">
`);for(var r=0;r!=e.length;++r)t.push(ik(e[r][0],e[r][1])),t.push(XG("",e[r][0]));return t.push(ik("","Document","pkg")),t.push("</rdf:RDF>"),t.join("")}function WF(){return'<office:document-meta xmlns:office="urn:oasis:names:tc:opendocument:xmlns:office:1.0" xmlns:meta="urn:oasis:names:tc:opendocument:xmlns:meta:1.0" xmlns:dc="http://purl.org/dc/elements/1.1/" xmlns:xlink="http://www.w3.org/1999/xlink" office:version="1.2"><office:meta><meta:generator>SheetJS '+Yv.version+"</meta:generator></office:meta></office:document-meta>"}var Io=[["cp:category","Category"],["cp:contentStatus","ContentStatus"],["cp:keywords","Keywords"],["cp:lastModifiedBy","LastAuthor"],["cp:lastPrinted","LastPrinted"],["cp:revision","RevNumber"],["cp:version","Version"],["dc:creator","Author"],["dc:description","Comments"],["dc:identifier","Identifier"],["dc:language","Language"],["dc:subject","Subject"],["dc:title","Title"],["dcterms:created","CreatedDate","date"],["dcterms:modified","ModifiedDate","date"]],ZG=(function(){for(var e=new Array(Io.length),t=0;t<Io.length;++t){var r=Io[t],n="(?:"+r[0].slice(0,r[0].indexOf(":"))+":)"+r[0].slice(r[0].indexOf(":")+1);e[t]=new RegExp("<"+n+"[^>]*>([\\s\\S]*?)</"+n+">")}return e})();function GF(e){var t={};e=Dn(e);for(var r=0;r<Io.length;++r){var n=Io[r],a=e.match(ZG[r]);a!=null&&a.length>0&&(t[n[1]]=Qr(a[1])),n[2]==="date"&&t[n[1]]&&(t[n[1]]=Jn(t[n[1]]))}return t}function Aw(e,t,r,n,a){a[e]!=null||t==null||t===""||(a[e]=t,t=_n(t),n[n.length]=r?wt(e,t,r):ss(e,t))}function KF(e,t){var r=t||{},n=[Xa,wt("cp:coreProperties",null,{"xmlns:cp":Ni.CORE_PROPS,"xmlns:dc":Ni.dc,"xmlns:dcterms":Ni.dcterms,"xmlns:dcmitype":Ni.dcmitype,"xmlns:xsi":Ni.xsi})],a={};if(!e&&!r.Props)return n.join("");e&&(e.CreatedDate!=null&&Aw("dcterms:created",typeof e.CreatedDate=="string"?e.CreatedDate:Q4(e.CreatedDate,r.WTF),{"xsi:type":"dcterms:W3CDTF"},n,a),e.ModifiedDate!=null&&Aw("dcterms:modified",typeof e.ModifiedDate=="string"?e.ModifiedDate:Q4(e.ModifiedDate,r.WTF),{"xsi:type":"dcterms:W3CDTF"},n,a));for(var i=0;i!=Io.length;++i){var l=Io[i],o=r.Props&&r.Props[l[1]]!=null?r.Props[l[1]]:e?e[l[1]]:null;o===!0?o="1":o===!1?o="0":typeof o=="number"&&(o=String(o)),o!=null&&Aw(l[0],o,null,n,a)}return n.length>2&&(n[n.length]="</cp:coreProperties>",n[1]=n[1].replace("/>",">")),n.join("")}var D0=[["Application","Application","string"],["AppVersion","AppVersion","string"],["Company","Company","string"],["DocSecurity","DocSecurity","string"],["Manager","Manager","string"],["HyperlinksChanged","HyperlinksChanged","bool"],["SharedDoc","SharedDoc","bool"],["LinksUpToDate","LinksUpToDate","bool"],["ScaleCrop","ScaleCrop","bool"],["HeadingPairs","HeadingPairs","raw"],["TitlesOfParts","TitlesOfParts","raw"]],YF=["Worksheets","SheetNames","NamedRanges","DefinedNames","Chartsheets","ChartNames"];function XF(e,t,r,n){var a=[];if(typeof e=="string")a=YE(e,n);else for(var i=0;i<e.length;++i)a=a.concat(e[i].map(function(h){return{v:h}}));var l=typeof t=="string"?YE(t,n).map(function(h){return h.v}):t,o=0,u=0;if(l.length>0)for(var f=0;f!==a.length;f+=2){switch(u=+a[f+1].v,a[f].v){case"Worksheets":case"":case"":case" ":case"":case" ":case"Arbeitsbltter":case"alma Sayfalar":case"Feuilles de calcul":case"Fogli di lavoro":case"Folhas de clculo":case"Planilhas":case"Regneark":case"Hojas de clculo":case"Werkbladen":r.Worksheets=u,r.SheetNames=l.slice(o,o+u);break;case"Named Ranges":case"Rangos con nombre":case"":case"Benannte Bereiche":case"Navngivne omrder":r.NamedRanges=u,r.DefinedNames=l.slice(o,o+u);break;case"Charts":case"Diagramme":r.Chartsheets=u,r.ChartNames=l.slice(o,o+u);break}o+=u}}function JG(e,t,r){var n={};return t||(t={}),e=Dn(e),D0.forEach(function(a){var i=(e.match(Kx(a[0]))||[])[1];switch(a[2]){case"string":i&&(t[a[1]]=Qr(i));break;case"bool":t[a[1]]=i==="true";break;case"raw":var l=e.match(new RegExp("<"+a[0]+"[^>]*>([\\s\\S]*?)</"+a[0]+">"));l&&l.length>0&&(n[a[1]]=l[1]);break}}),n.HeadingPairs&&n.TitlesOfParts&&XF(n.HeadingPairs,n.TitlesOfParts,t,r),t}function QF(e){var t=[],r=wt;return e||(e={}),e.Application="SheetJS",t[t.length]=Xa,t[t.length]=wt("Properties",null,{xmlns:Ni.EXT_PROPS,"xmlns:vt":Ni.vt}),D0.forEach(function(n){if(e[n[1]]!==void 0){var a;switch(n[2]){case"string":a=_n(String(e[n[1]]));break;case"bool":a=e[n[1]]?"true":"false";break}a!==void 0&&(t[t.length]=r(n[0],a))}}),t[t.length]=r("HeadingPairs",r("vt:vector",r("vt:variant","<vt:lpstr>Worksheets</vt:lpstr>")+r("vt:variant",r("vt:i4",String(e.Worksheets))),{size:2,baseType:"variant"})),t[t.length]=r("TitlesOfParts",r("vt:vector",e.SheetNames.map(function(n){return"<vt:lpstr>"+_n(n)+"</vt:lpstr>"}).join(""),{size:e.Worksheets,baseType:"lpstr"})),t.length>2&&(t[t.length]="</Properties>",t[1]=t[1].replace("/>",">")),t.join("")}var eK=/<[^>]+>[^<]*/g;function tK(e,t){var r={},n="",a=e.match(eK);if(a)for(var i=0;i!=a.length;++i){var l=a[i],o=hr(l);switch(o[0]){case"<?xml":break;case"<Properties":break;case"<property":n=Qr(o.name);break;case"</property>":n=null;break;default:if(l.indexOf("<vt:")===0){var u=l.split(">"),f=u[0].slice(4),h=u[1];switch(f){case"lpstr":case"bstr":case"lpwstr":r[n]=Qr(h);break;case"bool":r[n]=Qn(h);break;case"i1":case"i2":case"i4":case"i8":case"int":case"uint":r[n]=parseInt(h,10);break;case"r4":case"r8":case"decimal":r[n]=parseFloat(h);break;case"filetime":case"date":r[n]=Jn(h);break;case"cy":case"error":r[n]=Qr(h);break;default:if(f.slice(-1)=="/")break;t.WTF&&typeof console<"u"&&console.warn("Unexpected",l,f,u)}}else if(l.slice(0,2)!=="</"){if(t.WTF)throw new Error(l)}}}return r}function ZF(e){var t=[Xa,wt("Properties",null,{xmlns:Ni.CUST_PROPS,"xmlns:vt":Ni.vt})];if(!e)return t.join("");var r=1;return Ia(e).forEach(function(a){++r,t[t.length]=wt("property",uG(e[a]),{fmtid:"{D5CDD505-2E9C-101B-9397-08002B2CF9AE}",pid:r,name:_n(a)})}),t.length>2&&(t[t.length]="</Properties>",t[1]=t[1].replace("/>",">")),t.join("")}var rN={Title:"Title",Subject:"Subject",Author:"Author",Keywords:"Keywords",Comments:"Description",LastAuthor:"LastAuthor",RevNumber:"Revision",Application:"AppName",LastPrinted:"LastPrinted",CreatedDate:"Created",ModifiedDate:"LastSaved",Category:"Category",Manager:"Manager",Company:"Company",AppVersion:"Version",ContentStatus:"ContentStatus",Identifier:"Identifier",Language:"Language"},Ew;function rK(e,t,r){Ew||(Ew=s2(rN)),t=Ew[t]||t,e[t]=r}function nK(e,t){var r=[];return Ia(rN).map(function(n){for(var a=0;a<Io.length;++a)if(Io[a][1]==n)return Io[a];for(a=0;a<D0.length;++a)if(D0[a][1]==n)return D0[a];throw n}).forEach(function(n){if(e[n[1]]!=null){var a=t&&t.Props&&t.Props[n[1]]!=null?t.Props[n[1]]:e[n[1]];switch(n[2]){case"date":a=new Date(a).toISOString().replace(/\.\d*Z/,"Z");break}typeof a=="number"?a=String(a):a===!0||a===!1?a=a?"1":"0":a instanceof Date&&(a=new Date(a).toISOString().replace(/\.\d*Z/,"")),r.push(ss(rN[n[1]]||n[1],a))}}),wt("DocumentProperties",r.join(""),{xmlns:Kl.o})}function aK(e,t){var r=["Worksheets","SheetNames"],n="CustomDocumentProperties",a=[];return e&&Ia(e).forEach(function(i){if(Object.prototype.hasOwnProperty.call(e,i)){for(var l=0;l<Io.length;++l)if(i==Io[l][1])return;for(l=0;l<D0.length;++l)if(i==D0[l][1])return;for(l=0;l<r.length;++l)if(i==r[l])return;var o=e[i],u="string";typeof o=="number"?(u="float",o=String(o)):o===!0||o===!1?(u="boolean",o=o?"1":"0"):o=String(o),a.push(wt(VE(i),o,{"dt:dt":u}))}}),t&&Ia(t).forEach(function(i){if(Object.prototype.hasOwnProperty.call(t,i)&&!(e&&Object.prototype.hasOwnProperty.call(e,i))){var l=t[i],o="string";typeof l=="number"?(o="float",l=String(l)):l===!0||l===!1?(o="boolean",l=l?"1":"0"):l instanceof Date?(o="dateTime.tz",l=l.toISOString()):l=String(l),a.push(wt(VE(i),l,{"dt:dt":o}))}}),"<"+n+' xmlns="'+Kl.o+'">'+a.join("")+"</"+n+">"}function c3(e){var t=e.read_shift(4),r=e.read_shift(4);return new Date((r/1e7*Math.pow(2,32)+t/1e7-11644473600)*1e3).toISOString().replace(/\.000/,"")}function iK(e){var t=typeof e=="string"?new Date(Date.parse(e)):e,r=t.getTime()/1e3+11644473600,n=r%Math.pow(2,32),a=(r-n)/Math.pow(2,32);n*=1e7,a*=1e7;var i=n/Math.pow(2,32)|0;i>0&&(n=n%Math.pow(2,32),a+=i);var l=Je(8);return l.write_shift(4,n),l.write_shift(4,a),l}function JF(e,t,r){var n=e.l,a=e.read_shift(0,"lpstr-cp");if(r)for(;e.l-n&3;)++e.l;return a}function eP(e,t,r){var n=e.read_shift(0,"lpwstr");return n}function tP(e,t,r){return t===31?eP(e):JF(e,t,r)}function nN(e,t,r){return tP(e,t,r===!1?0:4)}function sK(e,t){if(!t)throw new Error("VtUnalignedString must have positive length");return tP(e,t,0)}function lK(e){for(var t=e.read_shift(4),r=[],n=0;n!=t;++n){var a=e.l;r[n]=e.read_shift(0,"lpwstr").replace(tl,""),e.l-a&2&&(e.l+=2)}return r}function oK(e){for(var t=e.read_shift(4),r=[],n=0;n!=t;++n)r[n]=e.read_shift(0,"lpstr-cp").replace(tl,"");return r}function cK(e){var t=e.l,r=ay(e,$F);e[e.l]==0&&e[e.l+1]==0&&e.l-t&2&&(e.l+=2);var n=ay(e,_l);return[r,n]}function uK(e){for(var t=e.read_shift(4),r=[],n=0;n<t/2;++n)r.push(cK(e));return r}function sk(e,t){for(var r=e.read_shift(4),n={},a=0;a!=r;++a){var i=e.read_shift(4),l=e.read_shift(4);n[i]=e.read_shift(l,t===1200?"utf16le":"utf8").replace(tl,"").replace(vx,"!"),t===1200&&l%2&&(e.l+=2)}return e.l&3&&(e.l=e.l>>3<<2),n}function rP(e){var t=e.read_shift(4),r=e.slice(e.l,e.l+t);return e.l+=t,(t&3)>0&&(e.l+=4-(t&3)&3),r}function fK(e){var t={};return t.Size=e.read_shift(4),e.l+=t.Size+3-(t.Size-1)%4,t}function ay(e,t,r){var n=e.read_shift(2),a,i=r||{};if(e.l+=2,t!==nk&&n!==t&&qG.indexOf(t)===-1&&!((t&65534)==4126&&(n&65534)==4126))throw new Error("Expected type "+t+" saw "+n);switch(t===nk?n:t){case 2:return a=e.read_shift(2,"i"),i.raw||(e.l+=2),a;case 3:return a=e.read_shift(4,"i"),a;case 11:return e.read_shift(4)!==0;case 19:return a=e.read_shift(4),a;case 30:return JF(e,n,4).replace(tl,"");case 31:return eP(e);case 64:return c3(e);case 65:return rP(e);case 71:return fK(e);case 80:return nN(e,n,!i.raw).replace(tl,"");case 81:return sK(e,n).replace(tl,"");case 4108:return uK(e);case 4126:case 4127:return n==4127?lK(e):oK(e);default:throw new Error("TypedPropertyValue unrecognized type "+t+" "+n)}}function lk(e,t){var r=Je(4),n=Je(4);switch(r.write_shift(4,e==80?31:e),e){case 3:n.write_shift(-4,t);break;case 5:n=Je(8),n.write_shift(8,t,"f");break;case 11:n.write_shift(4,t?1:0);break;case 64:n=iK(t);break;case 31:case 80:for(n=Je(4+2*(t.length+1)+(t.length%2?0:2)),n.write_shift(4,t.length+1),n.write_shift(0,t,"dbcs");n.l!=n.length;)n.write_shift(1,0);break;default:throw new Error("TypedPropertyValue unrecognized type "+e+" "+t)}return Ui([r,n])}function ok(e,t){var r=e.l,n=e.read_shift(4),a=e.read_shift(4),i=[],l=0,o=0,u=-1,f={};for(l=0;l!=a;++l){var h=e.read_shift(4),m=e.read_shift(4);i[l]=[h,m+r]}i.sort(function(E,j){return E[1]-j[1]});var g={};for(l=0;l!=a;++l){if(e.l!==i[l][1]){var x=!0;if(l>0&&t)switch(t[i[l-1][0]].t){case 2:e.l+2===i[l][1]&&(e.l+=2,x=!1);break;case 80:e.l<=i[l][1]&&(e.l=i[l][1],x=!1);break;case 4108:e.l<=i[l][1]&&(e.l=i[l][1],x=!1);break}if((!t||l==0)&&e.l<=i[l][1]&&(x=!1,e.l=i[l][1]),x)throw new Error("Read Error: Expected address "+i[l][1]+" at "+e.l+" :"+l)}if(t){var b=t[i[l][0]];if(g[b.n]=ay(e,b.t,{raw:!0}),b.p==="version"&&(g[b.n]=String(g[b.n]>>16)+"."+("0000"+String(g[b.n]&65535)).slice(-4)),b.n=="CodePage")switch(g[b.n]){case 0:g[b.n]=1252;case 874:case 932:case 936:case 949:case 950:case 1250:case 1251:case 1253:case 1254:case 1255:case 1256:case 1257:case 1258:case 1e4:case 1200:case 1201:case 1252:case 65e3:case-536:case 65001:case-535:Nc(o=g[b.n]>>>0&65535);break;default:throw new Error("Unsupported CodePage: "+g[b.n])}}else if(i[l][0]===1){if(o=g.CodePage=ay(e,l3),Nc(o),u!==-1){var v=e.l;e.l=i[u][1],f=sk(e,o),e.l=v}}else if(i[l][0]===0){if(o===0){u=l,e.l=i[l+1][1];continue}f=sk(e,o)}else{var w=f[i[l][0]],N;switch(e[e.l]){case 65:e.l+=4,N=rP(e);break;case 30:e.l+=4,N=nN(e,e[e.l-4]).replace(/\u0000+$/,"");break;case 31:e.l+=4,N=nN(e,e[e.l-4]).replace(/\u0000+$/,"");break;case 3:e.l+=4,N=e.read_shift(4,"i");break;case 19:e.l+=4,N=e.read_shift(4);break;case 5:e.l+=4,N=e.read_shift(8,"f");break;case 11:e.l+=4,N=$a(e,4);break;case 64:e.l+=4,N=Jn(c3(e));break;default:throw new Error("unparsed value: "+e[e.l])}g[w]=N}}return e.l=r+n,g}var nP=["CodePage","Thumbnail","_PID_LINKBASE","_PID_HLINKS","SystemIdentifier","FMTID"];function dK(e){switch(typeof e){case"boolean":return 11;case"number":return(e|0)==e?3:5;case"string":return 31;case"object":if(e instanceof Date)return 64;break}return-1}function ck(e,t,r){var n=Je(8),a=[],i=[],l=8,o=0,u=Je(8),f=Je(8);if(u.write_shift(4,2),u.write_shift(4,1200),f.write_shift(4,1),i.push(u),a.push(f),l+=8+u.length,!t){f=Je(8),f.write_shift(4,0),a.unshift(f);var h=[Je(4)];for(h[0].write_shift(4,e.length),o=0;o<e.length;++o){var m=e[o][0];for(u=Je(8+2*(m.length+1)+(m.length%2?0:2)),u.write_shift(4,o+2),u.write_shift(4,m.length+1),u.write_shift(0,m,"dbcs");u.l!=u.length;)u.write_shift(1,0);h.push(u)}u=Ui(h),i.unshift(u),l+=8+u.length}for(o=0;o<e.length;++o)if(!(t&&!t[e[o][0]])&&!(nP.indexOf(e[o][0])>-1||YF.indexOf(e[o][0])>-1)&&e[o][1]!=null){var g=e[o][1],x=0;if(t){x=+t[e[o][0]];var b=r[x];if(b.p=="version"&&typeof g=="string"){var v=g.split(".");g=(+v[0]<<16)+(+v[1]||0)}u=lk(b.t,g)}else{var w=dK(g);w==-1&&(w=31,g=String(g)),u=lk(w,g)}i.push(u),f=Je(8),f.write_shift(4,t?x:2+o),a.push(f),l+=8+u.length}var N=8*(i.length+1);for(o=0;o<i.length;++o)a[o].write_shift(4,N),N+=i[o].length;return n.write_shift(4,l),n.write_shift(4,i.length),Ui([n].concat(a).concat(i))}function uk(e,t,r){var n=e.content;if(!n)return{};as(n,0);var a,i,l,o,u=0;n.chk("feff","Byte Order: "),n.read_shift(2);var f=n.read_shift(4),h=n.read_shift(16);if(h!==nr.utils.consts.HEADER_CLSID&&h!==r)throw new Error("Bad PropertySet CLSID "+h);if(a=n.read_shift(4),a!==1&&a!==2)throw new Error("Unrecognized #Sets: "+a);if(i=n.read_shift(16),o=n.read_shift(4),a===1&&o!==n.l)throw new Error("Length mismatch: "+o+" !== "+n.l);a===2&&(l=n.read_shift(16),u=n.read_shift(4));var m=ok(n,t),g={SystemIdentifier:f};for(var x in m)g[x]=m[x];if(g.FMTID=i,a===1)return g;if(u-n.l==2&&(n.l+=2),n.l!==u)throw new Error("Length mismatch 2: "+n.l+" !== "+u);var b;try{b=ok(n,null)}catch{}for(x in b)g[x]=b[x];return g.FMTID=[i,l],g}function fk(e,t,r,n,a,i){var l=Je(a?68:48),o=[l];l.write_shift(2,65534),l.write_shift(2,0),l.write_shift(4,842412599),l.write_shift(16,nr.utils.consts.HEADER_CLSID,"hex"),l.write_shift(4,a?2:1),l.write_shift(16,t,"hex"),l.write_shift(4,a?68:48);var u=ck(e,r,n);if(o.push(u),a){var f=ck(a,null,null);l.write_shift(16,i,"hex"),l.write_shift(4,68+u.length),o.push(f)}return Ui(o)}function hd(e,t){return e.read_shift(t),null}function hK(e,t){t||(t=Je(e));for(var r=0;r<e;++r)t.write_shift(1,0);return t}function mK(e,t,r){for(var n=[],a=e.l+t;e.l<a;)n.push(r(e,a-e.l));if(a!==e.l)throw new Error("Slurp error");return n}function $a(e,t){return e.read_shift(t)===1}function Ys(e,t){return t||(t=Je(2)),t.write_shift(2,+!!e),t}function ai(e){return e.read_shift(2,"u")}function Po(e,t){return t||(t=Je(2)),t.write_shift(2,e),t}function aP(e,t){return mK(e,t,ai)}function pK(e){var t=e.read_shift(1),r=e.read_shift(1);return r===1?t:t===1}function iP(e,t,r){return r||(r=Je(2)),r.write_shift(1,t=="e"?+e:+!!e),r.write_shift(1,t=="e"?1:0),r}function Sg(e,t,r){var n=e.read_shift(r&&r.biff>=12?2:1),a="sbcs-cont";if(r&&r.biff>=8,!r||r.biff==8){var i=e.read_shift(1);i&&(a="dbcs-cont")}else r.biff==12&&(a="wstr");r.biff>=2&&r.biff<=5&&(a="cpstr");var l=n?e.read_shift(n,a):"";return l}function xK(e){var t=e.read_shift(2),r=e.read_shift(1),n=r&4,a=r&8,i=1+(r&1),l=0,o,u={};a&&(l=e.read_shift(2)),n&&(o=e.read_shift(4));var f=i==2?"dbcs-cont":"sbcs-cont",h=t===0?"":e.read_shift(t,f);return a&&(e.l+=4*l),n&&(e.l+=o),u.t=h,a||(u.raw="<t>"+u.t+"</t>",u.r=u.t),u}function gK(e){var t=e.t||"",r=Je(3);r.write_shift(2,t.length),r.write_shift(1,1);var n=Je(2*t.length);n.write_shift(2*t.length,t,"utf16le");var a=[r,n];return Ui(a)}function K0(e,t,r){var n;if(r){if(r.biff>=2&&r.biff<=5)return e.read_shift(t,"cpstr");if(r.biff>=12)return e.read_shift(t,"dbcs-cont")}var a=e.read_shift(1);return a===0?n=e.read_shift(t,"sbcs-cont"):n=e.read_shift(t,"dbcs-cont"),n}function Ag(e,t,r){var n=e.read_shift(r&&r.biff==2?1:2);return n===0?(e.l++,""):K0(e,n,r)}function mh(e,t,r){if(r.biff>5)return Ag(e,t,r);var n=e.read_shift(1);return n===0?(e.l++,""):e.read_shift(n,r.biff<=4||!e.lens?"cpstr":"sbcs-cont")}function sP(e,t,r){return r||(r=Je(3+2*e.length)),r.write_shift(2,e.length),r.write_shift(1,1),r.write_shift(31,e,"utf16le"),r}function vK(e){var t=e.read_shift(1);e.l++;var r=e.read_shift(2);return e.l+=2,[t,r]}function yK(e){var t=e.read_shift(4),r=e.l,n=!1;t>24&&(e.l+=t-24,e.read_shift(16)==="795881f43b1d7f48af2c825dc4852763"&&(n=!0),e.l=r);var a=e.read_shift((n?t-24:t)>>1,"utf16le").replace(tl,"");return n&&(e.l+=24),a}function bK(e){for(var t=e.read_shift(2),r="";t-- >0;)r+="../";var n=e.read_shift(0,"lpstr-ansi");if(e.l+=2,e.read_shift(2)!=57005)throw new Error("Bad FileMoniker");var a=e.read_shift(4);if(a===0)return r+n.replace(/\\/g,"/");var i=e.read_shift(4);if(e.read_shift(2)!=3)throw new Error("Bad FileMoniker");var l=e.read_shift(i>>1,"utf16le").replace(tl,"");return r+l}function wK(e,t){var r=e.read_shift(16);switch(r){case"e0c9ea79f9bace118c8200aa004ba90b":return yK(e);case"0303000000000000c000000000000046":return bK(e);default:throw new Error("Unsupported Moniker "+r)}}function J1(e){var t=e.read_shift(4),r=t>0?e.read_shift(t,"utf16le").replace(tl,""):"";return r}function dk(e,t){t||(t=Je(6+e.length*2)),t.write_shift(4,1+e.length);for(var r=0;r<e.length;++r)t.write_shift(2,e.charCodeAt(r));return t.write_shift(2,0),t}function NK(e,t){var r=e.l+t,n=e.read_shift(4);if(n!==2)throw new Error("Unrecognized streamVersion: "+n);var a=e.read_shift(2);e.l+=2;var i,l,o,u,f="",h,m;a&16&&(i=J1(e,r-e.l)),a&128&&(l=J1(e,r-e.l)),(a&257)===257&&(o=J1(e,r-e.l)),(a&257)===1&&(u=wK(e,r-e.l)),a&8&&(f=J1(e,r-e.l)),a&32&&(h=e.read_shift(16)),a&64&&(m=c3(e)),e.l=r;var g=l||o||u||"";g&&f&&(g+="#"+f),g||(g="#"+f),a&2&&g.charAt(0)=="/"&&g.charAt(1)!="/"&&(g="file://"+g);var x={Target:g};return h&&(x.guid=h),m&&(x.time=m),i&&(x.Tooltip=i),x}function _K(e){var t=Je(512),r=0,n=e.Target;n.slice(0,7)=="file://"&&(n=n.slice(7));var a=n.indexOf("#"),i=a>-1?31:23;switch(n.charAt(0)){case"#":i=28;break;case".":i&=-3;break}t.write_shift(4,2),t.write_shift(4,i);var l=[8,6815827,6619237,4849780,83];for(r=0;r<l.length;++r)t.write_shift(4,l[r]);if(i==28)n=n.slice(1),dk(n,t);else if(i&2){for(l="e0 c9 ea 79 f9 ba ce 11 8c 82 00 aa 00 4b a9 0b".split(" "),r=0;r<l.length;++r)t.write_shift(1,parseInt(l[r],16));var o=a>-1?n.slice(0,a):n;for(t.write_shift(4,2*(o.length+1)),r=0;r<o.length;++r)t.write_shift(2,o.charCodeAt(r));t.write_shift(2,0),i&8&&dk(a>-1?n.slice(a+1):"",t)}else{for(l="03 03 00 00 00 00 00 00 c0 00 00 00 00 00 00 46".split(" "),r=0;r<l.length;++r)t.write_shift(1,parseInt(l[r],16));for(var u=0;n.slice(u*3,u*3+3)=="../"||n.slice(u*3,u*3+3)=="..\\";)++u;for(t.write_shift(2,u),t.write_shift(4,n.length-3*u+1),r=0;r<n.length-3*u;++r)t.write_shift(1,n.charCodeAt(r+3*u)&255);for(t.write_shift(1,0),t.write_shift(2,65535),t.write_shift(2,57005),r=0;r<6;++r)t.write_shift(4,0)}return t.slice(0,t.l)}function lP(e){var t=e.read_shift(1),r=e.read_shift(1),n=e.read_shift(1),a=e.read_shift(1);return[t,r,n,a]}function oP(e,t){var r=lP(e);return r[3]=0,r}function xu(e){var t=e.read_shift(2),r=e.read_shift(2),n=e.read_shift(2);return{r:t,c:r,ixfe:n}}function Y0(e,t,r,n){return n||(n=Je(6)),n.write_shift(2,e),n.write_shift(2,t),n.write_shift(2,r||0),n}function jK(e){var t=e.read_shift(2),r=e.read_shift(2);return e.l+=8,{type:t,flags:r}}function SK(e,t,r){return t===0?"":mh(e,t,r)}function AK(e,t,r){var n=r.biff>8?4:2,a=e.read_shift(n),i=e.read_shift(n,"i"),l=e.read_shift(n,"i");return[a,i,l]}function cP(e){var t=e.read_shift(2),r=s3(e);return[t,r]}function EK(e,t,r){e.l+=4,t-=4;var n=e.l+t,a=Sg(e,t,r),i=e.read_shift(2);if(n-=e.l,i!==n)throw new Error("Malformed AddinUdf: padding = "+n+" != "+i);return e.l+=i,a}function c2(e){var t=e.read_shift(2),r=e.read_shift(2),n=e.read_shift(2),a=e.read_shift(2);return{s:{c:n,r:t},e:{c:a,r}}}function uP(e,t){return t||(t=Je(8)),t.write_shift(2,e.s.r),t.write_shift(2,e.e.r),t.write_shift(2,e.s.c),t.write_shift(2,e.e.c),t}function fP(e){var t=e.read_shift(2),r=e.read_shift(2),n=e.read_shift(1),a=e.read_shift(1);return{s:{c:n,r:t},e:{c:a,r}}}var kK=fP;function dP(e){e.l+=4;var t=e.read_shift(2),r=e.read_shift(2),n=e.read_shift(2);return e.l+=12,[r,t,n]}function CK(e){var t={};return e.l+=4,e.l+=16,t.fSharedNote=e.read_shift(2),e.l+=4,t}function TK(e){var t={};return e.l+=4,e.cf=e.read_shift(2),t}function ps(e){e.l+=2,e.l+=e.read_shift(2)}var OK={0:ps,4:ps,5:ps,6:ps,7:TK,8:ps,9:ps,10:ps,11:ps,12:ps,13:CK,14:ps,15:ps,16:ps,17:ps,18:ps,19:ps,20:ps,21:dP};function DK(e,t){for(var r=e.l+t,n=[];e.l<r;){var a=e.read_shift(2);e.l-=2;try{n.push(OK[a](e,r-e.l))}catch{return e.l=r,n}}return e.l!=r&&(e.l=r),n}function ev(e,t){var r={BIFFVer:0,dt:0};switch(r.BIFFVer=e.read_shift(2),t-=2,t>=2&&(r.dt=e.read_shift(2),e.l-=2),r.BIFFVer){case 1536:case 1280:case 1024:case 768:case 512:case 2:case 7:break;default:if(t>6)throw new Error("Unexpected BIFF Ver "+r.BIFFVer)}return e.read_shift(t),r}function u3(e,t,r){var n=1536,a=16;switch(r.bookType){case"biff8":break;case"biff5":n=1280,a=8;break;case"biff4":n=4,a=6;break;case"biff3":n=3,a=6;break;case"biff2":n=2,a=4;break;case"xla":break;default:throw new Error("unsupported BIFF version")}var i=Je(a);return i.write_shift(2,n),i.write_shift(2,t),a>4&&i.write_shift(2,29282),a>6&&i.write_shift(2,1997),a>8&&(i.write_shift(2,49161),i.write_shift(2,1),i.write_shift(2,1798),i.write_shift(2,0)),i}function FK(e,t){return t===0||e.read_shift(2),1200}function PK(e,t,r){if(r.enc)return e.l+=t,"";var n=e.l,a=mh(e,0,r);return e.read_shift(t+n-e.l),a}function LK(e,t){var r=!t||t.biff==8,n=Je(r?112:54);for(n.write_shift(t.biff==8?2:1,7),r&&n.write_shift(1,0),n.write_shift(4,859007059),n.write_shift(4,5458548|(r?0:536870912));n.l<n.length;)n.write_shift(1,r?0:32);return n}function MK(e,t,r){var n=r&&r.biff==8||t==2?e.read_shift(2):(e.l+=t,0);return{fDialog:n&16,fBelow:n&64,fRight:n&128}}function RK(e,t,r){var n=e.read_shift(4),a=e.read_shift(1)&3,i=e.read_shift(1);switch(i){case 0:i="Worksheet";break;case 1:i="Macrosheet";break;case 2:i="Chartsheet";break;case 6:i="VBAModule";break}var l=Sg(e,0,r);return l.length===0&&(l="Sheet1"),{pos:n,hs:a,dt:i,name:l}}function IK(e,t){var r=!t||t.biff>=8?2:1,n=Je(8+r*e.name.length);n.write_shift(4,e.pos),n.write_shift(1,e.hs||0),n.write_shift(1,e.dt),n.write_shift(1,e.name.length),t.biff>=8&&n.write_shift(1,1),n.write_shift(r*e.name.length,e.name,t.biff<8?"sbcs":"utf16le");var a=n.slice(0,n.l);return a.l=n.l,a}function BK(e,t){for(var r=e.l+t,n=e.read_shift(4),a=e.read_shift(4),i=[],l=0;l!=a&&e.l<r;++l)i.push(xK(e));return i.Count=n,i.Unique=a,i}function UK(e,t){var r=Je(8);r.write_shift(4,e.Count),r.write_shift(4,e.Unique);for(var n=[],a=0;a<e.length;++a)n[a]=gK(e[a]);var i=Ui([r].concat(n));return i.parts=[r.length].concat(n.map(function(l){return l.length})),i}function zK(e,t){var r={};return r.dsst=e.read_shift(2),e.l+=t-2,r}function qK(e){var t={};t.r=e.read_shift(2),t.c=e.read_shift(2),t.cnt=e.read_shift(2)-t.c;var r=e.read_shift(2);e.l+=4;var n=e.read_shift(1);return e.l+=3,n&7&&(t.level=n&7),n&32&&(t.hidden=!0),n&64&&(t.hpt=r/20),t}function $K(e){var t=jK(e);if(t.type!=2211)throw new Error("Invalid Future Record "+t.type);var r=e.read_shift(4);return r!==0}function HK(e){return e.read_shift(2),e.read_shift(4)}function hk(e,t,r){var n=0;r&&r.biff==2||(n=e.read_shift(2));var a=e.read_shift(2);r&&r.biff==2&&(n=1-(a>>15),a&=32767);var i={Unsynced:n&1,DyZero:(n&2)>>1,ExAsc:(n&4)>>2,ExDsc:(n&8)>>3};return[i,a]}function VK(e){var t=e.read_shift(2),r=e.read_shift(2),n=e.read_shift(2),a=e.read_shift(2),i=e.read_shift(2),l=e.read_shift(2),o=e.read_shift(2),u=e.read_shift(2),f=e.read_shift(2);return{Pos:[t,r],Dim:[n,a],Flags:i,CurTab:l,FirstTab:o,Selected:u,TabRatio:f}}function WK(){var e=Je(18);return e.write_shift(2,0),e.write_shift(2,0),e.write_shift(2,29280),e.write_shift(2,17600),e.write_shift(2,56),e.write_shift(2,0),e.write_shift(2,0),e.write_shift(2,1),e.write_shift(2,500),e}function GK(e,t,r){if(r&&r.biff>=2&&r.biff<5)return{};var n=e.read_shift(2);return{RTL:n&64}}function KK(e){var t=Je(18),r=1718;return e&&e.RTL&&(r|=64),t.write_shift(2,r),t.write_shift(4,0),t.write_shift(4,64),t.write_shift(4,0),t.write_shift(4,0),t}function YK(){}function XK(e,t,r){var n={dyHeight:e.read_shift(2),fl:e.read_shift(2)};switch(r&&r.biff||8){case 2:break;case 3:case 4:e.l+=2;break;default:e.l+=10;break}return n.name=Sg(e,0,r),n}function QK(e,t){var r=e.name||"Arial",n=t&&t.biff==5,a=n?15+r.length:16+2*r.length,i=Je(a);return i.write_shift(2,e.sz*20),i.write_shift(4,0),i.write_shift(2,400),i.write_shift(4,0),i.write_shift(2,0),i.write_shift(1,r.length),n||i.write_shift(1,1),i.write_shift((n?1:2)*r.length,r,n?"sbcs":"utf16le"),i}function ZK(e){var t=xu(e);return t.isst=e.read_shift(4),t}function JK(e,t,r,n){var a=Je(10);return Y0(e,t,n,a),a.write_shift(4,r),a}function eY(e,t,r){r.biffguess&&r.biff==2&&(r.biff=5);var n=e.l+t,a=xu(e);r.biff==2&&e.l++;var i=Ag(e,n-e.l,r);return a.val=i,a}function tY(e,t,r,n,a){var i=!a||a.biff==8,l=Je(8+ +i+(1+i)*r.length);return Y0(e,t,n,l),l.write_shift(2,r.length),i&&l.write_shift(1,1),l.write_shift((1+i)*r.length,r,i?"utf16le":"sbcs"),l}function rY(e,t,r){var n=e.read_shift(2),a=mh(e,0,r);return[n,a]}function nY(e,t,r,n){var a=r&&r.biff==5;n||(n=Je(a?3+t.length:5+2*t.length)),n.write_shift(2,e),n.write_shift(a?1:2,t.length),a||n.write_shift(1,1),n.write_shift((a?1:2)*t.length,t,a?"sbcs":"utf16le");var i=n.length>n.l?n.slice(0,n.l):n;return i.l==null&&(i.l=i.length),i}var aY=mh;function mk(e,t,r){var n=e.l+t,a=r.biff==8||!r.biff?4:2,i=e.read_shift(a),l=e.read_shift(a),o=e.read_shift(2),u=e.read_shift(2);return e.l=n,{s:{r:i,c:o},e:{r:l,c:u}}}function iY(e,t){var r=t.biff==8||!t.biff?4:2,n=Je(2*r+6);return n.write_shift(r,e.s.r),n.write_shift(r,e.e.r+1),n.write_shift(2,e.s.c),n.write_shift(2,e.e.c+1),n.write_shift(2,0),n}function sY(e){var t=e.read_shift(2),r=e.read_shift(2),n=cP(e);return{r:t,c:r,ixfe:n[0],rknum:n[1]}}function lY(e,t){for(var r=e.l+t-2,n=e.read_shift(2),a=e.read_shift(2),i=[];e.l<r;)i.push(cP(e));if(e.l!==r)throw new Error("MulRK read error");var l=e.read_shift(2);if(i.length!=l-a+1)throw new Error("MulRK length mismatch");return{r:n,c:a,C:l,rkrec:i}}function oY(e,t){for(var r=e.l+t-2,n=e.read_shift(2),a=e.read_shift(2),i=[];e.l<r;)i.push(e.read_shift(2));if(e.l!==r)throw new Error("MulBlank read error");var l=e.read_shift(2);if(i.length!=l-a+1)throw new Error("MulBlank length mismatch");return{r:n,c:a,C:l,ixfe:i}}function cY(e,t,r,n){var a={},i=e.read_shift(4),l=e.read_shift(4),o=e.read_shift(4),u=e.read_shift(2);return a.patternType=$G[o>>26],n.cellStyles&&(a.alc=i&7,a.fWrap=i>>3&1,a.alcV=i>>4&7,a.fJustLast=i>>7&1,a.trot=i>>8&255,a.cIndent=i>>16&15,a.fShrinkToFit=i>>20&1,a.iReadOrder=i>>22&2,a.fAtrNum=i>>26&1,a.fAtrFnt=i>>27&1,a.fAtrAlc=i>>28&1,a.fAtrBdr=i>>29&1,a.fAtrPat=i>>30&1,a.fAtrProt=i>>31&1,a.dgLeft=l&15,a.dgRight=l>>4&15,a.dgTop=l>>8&15,a.dgBottom=l>>12&15,a.icvLeft=l>>16&127,a.icvRight=l>>23&127,a.grbitDiag=l>>30&3,a.icvTop=o&127,a.icvBottom=o>>7&127,a.icvDiag=o>>14&127,a.dgDiag=o>>21&15,a.icvFore=u&127,a.icvBack=u>>7&127,a.fsxButton=u>>14&1),a}function uY(e,t,r){var n={};return n.ifnt=e.read_shift(2),n.numFmtId=e.read_shift(2),n.flags=e.read_shift(2),n.fStyle=n.flags>>2&1,t-=6,n.data=cY(e,t,n.fStyle,r),n}function pk(e,t,r,n){var a=r&&r.biff==5;n||(n=Je(a?16:20)),n.write_shift(2,0),e.style?(n.write_shift(2,e.numFmtId||0),n.write_shift(2,65524)):(n.write_shift(2,e.numFmtId||0),n.write_shift(2,t<<4));var i=0;return e.numFmtId>0&&a&&(i|=1024),n.write_shift(4,i),n.write_shift(4,0),a||n.write_shift(4,0),n.write_shift(2,0),n}function fY(e){e.l+=4;var t=[e.read_shift(2),e.read_shift(2)];if(t[0]!==0&&t[0]--,t[1]!==0&&t[1]--,t[0]>7||t[1]>7)throw new Error("Bad Gutters: "+t.join("|"));return t}function dY(e){var t=Je(8);return t.write_shift(4,0),t.write_shift(2,0),t.write_shift(2,0),t}function xk(e,t,r){var n=xu(e);(r.biff==2||t==9)&&++e.l;var a=pK(e);return n.val=a,n.t=a===!0||a===!1?"b":"e",n}function hY(e,t,r,n,a,i){var l=Je(8);return Y0(e,t,n,l),iP(r,i,l),l}function mY(e,t,r){r.biffguess&&r.biff==2&&(r.biff=5);var n=xu(e),a=Ss(e);return n.val=a,n}function pY(e,t,r,n){var a=Je(14);return Y0(e,t,n,a),G0(r,a),a}var gk=SK;function xY(e,t,r){var n=e.l+t,a=e.read_shift(2),i=e.read_shift(2);if(r.sbcch=i,i==1025||i==14849)return[i,a];if(i<1||i>255)throw new Error("Unexpected SupBook type: "+i);for(var l=K0(e,i),o=[];n>e.l;)o.push(Ag(e));return[i,a,l,o]}function vk(e,t,r){var n=e.read_shift(2),a,i={fBuiltIn:n&1,fWantAdvise:n>>>1&1,fWantPict:n>>>2&1,fOle:n>>>3&1,fOleLink:n>>>4&1,cf:n>>>5&1023,fIcon:n>>>15&1};return r.sbcch===14849&&(a=EK(e,t-2,r)),i.body=a||e.read_shift(t-2),typeof a=="string"&&(i.Name=a),i}var gY=["_xlnm.Consolidate_Area","_xlnm.Auto_Open","_xlnm.Auto_Close","_xlnm.Extract","_xlnm.Database","_xlnm.Criteria","_xlnm.Print_Area","_xlnm.Print_Titles","_xlnm.Recorder","_xlnm.Data_Form","_xlnm.Auto_Activate","_xlnm.Auto_Deactivate","_xlnm.Sheet_Title","_xlnm._FilterDatabase"];function yk(e,t,r){var n=e.l+t,a=e.read_shift(2),i=e.read_shift(1),l=e.read_shift(1),o=e.read_shift(r&&r.biff==2?1:2),u=0;(!r||r.biff>=5)&&(r.biff!=5&&(e.l+=2),u=e.read_shift(2),r.biff==5&&(e.l+=2),e.l+=4);var f=K0(e,l,r);a&32&&(f=gY[f.charCodeAt(0)]);var h=n-e.l;r&&r.biff==2&&--h;var m=n==e.l||o===0||!(h>0)?[]:DJ(e,h,r,o);return{chKey:i,Name:f,itab:u,rgce:m}}function hP(e,t,r){if(r.biff<8)return vY(e,t,r);for(var n=[],a=e.l+t,i=e.read_shift(r.biff>8?4:2);i--!==0;)n.push(AK(e,r.biff>8?12:6,r));if(e.l!=a)throw new Error("Bad ExternSheet: "+e.l+" != "+a);return n}function vY(e,t,r){e[e.l+1]==3&&e[e.l]++;var n=Sg(e,t,r);return n.charCodeAt(0)==3?n.slice(1):n}function yY(e,t,r){if(r.biff<8){e.l+=t;return}var n=e.read_shift(2),a=e.read_shift(2),i=K0(e,n,r),l=K0(e,a,r);return[i,l]}function bY(e,t,r){var n=fP(e);e.l++;var a=e.read_shift(1);return t-=8,[FJ(e,t,r),a,n]}function bk(e,t,r){var n=kK(e);switch(r.biff){case 2:e.l++,t-=7;break;case 3:case 4:e.l+=2,t-=8;break;default:e.l+=6,t-=12}return[n,TJ(e,t,r)]}function wY(e){var t=e.read_shift(4)!==0,r=e.read_shift(4)!==0,n=e.read_shift(4);return[t,r,n]}function NY(e,t,r){if(!(r.biff<8)){var n=e.read_shift(2),a=e.read_shift(2),i=e.read_shift(2),l=e.read_shift(2),o=mh(e,0,r);return r.biff<8&&e.read_shift(1),[{r:n,c:a},o,l,i]}}function _Y(e,t,r){return NY(e,t,r)}function jY(e,t){for(var r=[],n=e.read_shift(2);n--;)r.push(c2(e));return r}function SY(e){var t=Je(2+e.length*8);t.write_shift(2,e.length);for(var r=0;r<e.length;++r)uP(e[r],t);return t}function AY(e,t,r){if(r&&r.biff<8)return kY(e,t,r);var n=dP(e),a=DK(e,t-22,n[1]);return{cmo:n,ft:a}}var EY={8:function(e,t){var r=e.l+t;e.l+=10;var n=e.read_shift(2);e.l+=4,e.l+=2,e.l+=2,e.l+=2,e.l+=4;var a=e.read_shift(1);return e.l+=a,e.l=r,{fmt:n}}};function kY(e,t,r){e.l+=4;var n=e.read_shift(2),a=e.read_shift(2),i=e.read_shift(2);e.l+=2,e.l+=2,e.l+=2,e.l+=2,e.l+=2,e.l+=2,e.l+=2,e.l+=2,e.l+=2,e.l+=6,t-=36;var l=[];return l.push((EY[n]||Fs)(e,t,r)),{cmo:[a,n,i],ft:l}}function CY(e,t,r){var n=e.l,a="";try{e.l+=4;var i=(r.lastobj||{cmo:[0,0]}).cmo[1],l;[0,5,7,11,12,14].indexOf(i)==-1?e.l+=6:l=vK(e,6,r);var o=e.read_shift(2);e.read_shift(2),ai(e,2);var u=e.read_shift(2);e.l+=u;for(var f=1;f<e.lens.length-1;++f){if(e.l-n!=e.lens[f])throw new Error("TxO: bad continue record");var h=e[e.l],m=K0(e,e.lens[f+1]-e.lens[f]-1);if(a+=m,a.length>=(h?o:2*o))break}if(a.length!==o&&a.length!==o*2)throw new Error("cchText: "+o+" != "+a.length);return e.l=n+t,{t:a}}catch{return e.l=n+t,{t:a}}}function TY(e,t){var r=c2(e);e.l+=16;var n=NK(e,t-24);return[r,n]}function OY(e){var t=Je(24),r=ja(e[0]);t.write_shift(2,r.r),t.write_shift(2,r.r),t.write_shift(2,r.c),t.write_shift(2,r.c);for(var n="d0 c9 ea 79 f9 ba ce 11 8c 82 00 aa 00 4b a9 0b".split(" "),a=0;a<16;++a)t.write_shift(1,parseInt(n[a],16));return Ui([t,_K(e[1])])}function DY(e,t){e.read_shift(2);var r=c2(e),n=e.read_shift((t-10)/2,"dbcs-cont");return n=n.replace(tl,""),[r,n]}function FY(e){var t=e[1].Tooltip,r=Je(10+2*(t.length+1));r.write_shift(2,2048);var n=ja(e[0]);r.write_shift(2,n.r),r.write_shift(2,n.r),r.write_shift(2,n.c),r.write_shift(2,n.c);for(var a=0;a<t.length;++a)r.write_shift(2,t.charCodeAt(a));return r.write_shift(2,0),r}function PY(e){var t=[0,0],r;return r=e.read_shift(2),t[0]=ak[r]||r,r=e.read_shift(2),t[1]=ak[r]||r,t}function LY(e){return e||(e=Je(4)),e.write_shift(2,1),e.write_shift(2,1),e}function MY(e){for(var t=e.read_shift(2),r=[];t-- >0;)r.push(oP(e));return r}function RY(e){for(var t=e.read_shift(2),r=[];t-- >0;)r.push(oP(e));return r}function IY(e){e.l+=2;var t={cxfs:0,crc:0};return t.cxfs=e.read_shift(2),t.crc=e.read_shift(4),t}function mP(e,t,r){if(!r.cellStyles)return Fs(e,t);var n=r&&r.biff>=12?4:2,a=e.read_shift(n),i=e.read_shift(n),l=e.read_shift(n),o=e.read_shift(n),u=e.read_shift(2);n==2&&(e.l+=2);var f={s:a,e:i,w:l,ixfe:o,flags:u};return(r.biff>=5||!r.biff)&&(f.level=u>>8&7),f}function BY(e,t){var r=Je(12);r.write_shift(2,t),r.write_shift(2,t),r.write_shift(2,e.width*256),r.write_shift(2,0);var n=0;return e.hidden&&(n|=1),r.write_shift(1,n),n=e.level||0,r.write_shift(1,n),r.write_shift(2,0),r}function UY(e,t){var r={};return t<32||(e.l+=16,r.header=Ss(e),r.footer=Ss(e),e.l+=2),r}function zY(e,t,r){var n={area:!1};if(r.biff!=5)return e.l+=t,n;var a=e.read_shift(1);return e.l+=3,a&16&&(n.area=!0),n}function qY(e){for(var t=Je(2*e),r=0;r<e;++r)t.write_shift(2,r+1);return t}var $Y=xu,HY=aP,VY=Ag;function WY(e){var t=e.read_shift(2),r=e.read_shift(2),n=e.read_shift(4),a={fmt:t,env:r,len:n,data:e.slice(e.l,e.l+n)};return e.l+=n,a}function GY(e,t,r){r.biffguess&&r.biff==5&&(r.biff=2);var n=xu(e);++e.l;var a=mh(e,t-7,r);return n.t="str",n.val=a,n}function KY(e){var t=xu(e);++e.l;var r=Ss(e);return t.t="n",t.val=r,t}function YY(e,t,r){var n=Je(15);return Tg(n,e,t),n.write_shift(8,r,"f"),n}function XY(e){var t=xu(e);++e.l;var r=e.read_shift(2);return t.t="n",t.val=r,t}function QY(e,t,r){var n=Je(9);return Tg(n,e,t),n.write_shift(2,r),n}function ZY(e){var t=e.read_shift(1);return t===0?(e.l++,""):e.read_shift(t,"sbcs-cont")}function JY(e,t){e.l+=6,e.l+=2,e.l+=1,e.l+=3,e.l+=1,e.l+=t-13}function eX(e,t,r){var n=e.l+t,a=xu(e),i=e.read_shift(2),l=K0(e,i,r);return e.l=n,a.t="str",a.val=l,a}var tX=[2,3,48,49,131,139,140,245],aN=(function(){var e={1:437,2:850,3:1252,4:1e4,100:852,101:866,102:865,103:861,104:895,105:620,106:737,107:857,120:950,121:949,122:936,123:932,124:874,125:1255,126:1256,150:10007,151:10029,152:10006,200:1250,201:1251,202:1254,203:1253,0:20127,8:865,9:437,10:850,11:437,13:437,14:850,15:437,16:850,17:437,18:850,19:932,20:850,21:437,22:850,23:865,24:437,25:437,26:850,27:437,28:863,29:850,31:852,34:852,35:852,36:860,37:850,38:866,55:850,64:852,77:936,78:949,79:950,80:874,87:1252,88:1252,89:1252,108:863,134:737,135:852,136:857,204:1257,255:16969},t=s2({1:437,2:850,3:1252,4:1e4,100:852,101:866,102:865,103:861,104:895,105:620,106:737,107:857,120:950,121:949,122:936,123:932,124:874,125:1255,126:1256,150:10007,151:10029,152:10006,200:1250,201:1251,202:1254,203:1253,0:20127});function r(o,u){var f=[],h=Sd(1);switch(u.type){case"base64":h=Ql(ro(o));break;case"binary":h=Ql(o);break;case"buffer":case"array":h=o;break}as(h,0);var m=h.read_shift(1),g=!!(m&136),x=!1,b=!1;switch(m){case 2:break;case 3:break;case 48:x=!0,g=!0;break;case 49:x=!0,g=!0;break;case 131:break;case 139:break;case 140:b=!0;break;case 245:break;default:throw new Error("DBF Unsupported Version: "+m.toString(16))}var v=0,w=521;m==2&&(v=h.read_shift(2)),h.l+=3,m!=2&&(v=h.read_shift(4)),v>1048576&&(v=1e6),m!=2&&(w=h.read_shift(2));var N=h.read_shift(2),E=u.codepage||1252;m!=2&&(h.l+=16,h.read_shift(1),h[h.l]!==0&&(E=e[h[h.l]]),h.l+=1,h.l+=2),b&&(h.l+=36);for(var j=[],T={},O=Math.min(h.length,m==2?521:w-10-(x?264:0)),F=b?32:11;h.l<O&&h[h.l]!=13;)switch(T={},T.name=Vx.utils.decode(E,h.slice(h.l,h.l+F)).replace(/[\u0000\r\n].*$/g,""),h.l+=F,T.type=String.fromCharCode(h.read_shift(1)),m!=2&&!b&&(T.offset=h.read_shift(4)),T.len=h.read_shift(1),m==2&&(T.offset=h.read_shift(2)),T.dec=h.read_shift(1),T.name.length&&j.push(T),m!=2&&(h.l+=b?13:14),T.type){case"B":(!x||T.len!=8)&&u.WTF&&console.log("Skipping "+T.name+":"+T.type);break;case"G":case"P":u.WTF&&console.log("Skipping "+T.name+":"+T.type);break;case"+":case"0":case"@":case"C":case"D":case"F":case"I":case"L":case"M":case"N":case"O":case"T":case"Y":break;default:throw new Error("Unknown Field Type: "+T.type)}if(h[h.l]!==13&&(h.l=w-1),h.read_shift(1)!==13)throw new Error("DBF Terminator not found "+h.l+" "+h[h.l]);h.l=w;var D=0,L=0;for(f[0]=[],L=0;L!=j.length;++L)f[0][L]=j[L].name;for(;v-- >0;){if(h[h.l]===42){h.l+=N;continue}for(++h.l,f[++D]=[],L=0,L=0;L!=j.length;++L){var B=h.slice(h.l,h.l+j[L].len);h.l+=j[L].len,as(B,0);var H=Vx.utils.decode(E,B);switch(j[L].type){case"C":H.trim().length&&(f[D][L]=H.replace(/\s+$/,""));break;case"D":H.length===8?f[D][L]=new Date(+H.slice(0,4),+H.slice(4,6)-1,+H.slice(6,8)):f[D][L]=H;break;case"F":f[D][L]=parseFloat(H.trim());break;case"+":case"I":f[D][L]=b?B.read_shift(-4,"i")^2147483648:B.read_shift(4,"i");break;case"L":switch(H.trim().toUpperCase()){case"Y":case"T":f[D][L]=!0;break;case"N":case"F":f[D][L]=!1;break;case"":case"?":break;default:throw new Error("DBF Unrecognized L:|"+H+"|")}break;case"M":if(!g)throw new Error("DBF Unexpected MEMO for type "+m.toString(16));f[D][L]="##MEMO##"+(b?parseInt(H.trim(),10):B.read_shift(4));break;case"N":H=H.replace(/\u0000/g,"").trim(),H&&H!="."&&(f[D][L]=+H||0);break;case"@":f[D][L]=new Date(B.read_shift(-8,"f")-621356832e5);break;case"T":f[D][L]=new Date((B.read_shift(4)-2440588)*864e5+B.read_shift(4));break;case"Y":f[D][L]=B.read_shift(4,"i")/1e4+B.read_shift(4,"i")/1e4*Math.pow(2,32);break;case"O":f[D][L]=-B.read_shift(-8,"f");break;case"B":if(x&&j[L].len==8){f[D][L]=B.read_shift(8,"f");break}case"G":case"P":B.l+=j[L].len;break;case"0":if(j[L].name==="_NullFlags")break;default:throw new Error("DBF Unsupported data type "+j[L].type)}}}if(m!=2&&h.l<h.length&&h[h.l++]!=26)throw new Error("DBF EOF Marker missing "+(h.l-1)+" of "+h.length+" "+h[h.l-1].toString(16));return u&&u.sheetRows&&(f=f.slice(0,u.sheetRows)),u.DBF=j,f}function n(o,u){var f=u||{};f.dateNF||(f.dateNF="yyyymmdd");var h=lp(r(o,f),f);return h["!cols"]=f.DBF.map(function(m){return{wch:m.len,DBF:m}}),delete f.DBF,h}function a(o,u){try{return Rd(n(o,u),u)}catch(f){if(u&&u.WTF)throw f}return{SheetNames:[],Sheets:{}}}var i={B:8,C:250,L:1,D:8,"?":0,"":0};function l(o,u){var f=u||{};if(+f.codepage>=0&&Nc(+f.codepage),f.type=="string")throw new Error("Cannot write DBF to JS string");var h=El(),m=ly(o,{header:1,raw:!0,cellDates:!0}),g=m[0],x=m.slice(1),b=o["!cols"]||[],v=0,w=0,N=0,E=1;for(v=0;v<g.length;++v){if(((b[v]||{}).DBF||{}).name){g[v]=b[v].DBF.name,++N;continue}if(g[v]!=null){if(++N,typeof g[v]=="number"&&(g[v]=g[v].toString(10)),typeof g[v]!="string")throw new Error("DBF Invalid column name "+g[v]+" |"+typeof g[v]+"|");if(g.indexOf(g[v])!==v){for(w=0;w<1024;++w)if(g.indexOf(g[v]+"_"+w)==-1){g[v]+="_"+w;break}}}}var j=Jr(o["!ref"]),T=[],O=[],F=[];for(v=0;v<=j.e.c-j.s.c;++v){var D="",L="",B=0,H=[];for(w=0;w<x.length;++w)x[w][v]!=null&&H.push(x[w][v]);if(H.length==0||g[v]==null){T[v]="?";continue}for(w=0;w<H.length;++w){switch(typeof H[w]){case"number":L="B";break;case"string":L="C";break;case"boolean":L="L";break;case"object":L=H[w]instanceof Date?"D":"C";break;default:L="C"}B=Math.max(B,String(H[w]).length),D=D&&D!=L?"C":L}B>250&&(B=250),L=((b[v]||{}).DBF||{}).type,L=="C"&&b[v].DBF.len>B&&(B=b[v].DBF.len),D=="B"&&L=="N"&&(D="N",F[v]=b[v].DBF.dec,B=b[v].DBF.len),O[v]=D=="C"||L=="N"?B:i[D]||0,E+=O[v],T[v]=D}var P=h.next(32);for(P.write_shift(4,318902576),P.write_shift(4,x.length),P.write_shift(2,296+32*N),P.write_shift(2,E),v=0;v<4;++v)P.write_shift(4,0);for(P.write_shift(4,0|(+t[nF]||3)<<8),v=0,w=0;v<g.length;++v)if(g[v]!=null){var U=h.next(32),K=(g[v].slice(-10)+"\0\0\0\0\0\0\0\0\0\0\0").slice(0,11);U.write_shift(1,K,"sbcs"),U.write_shift(1,T[v]=="?"?"C":T[v],"sbcs"),U.write_shift(4,w),U.write_shift(1,O[v]||i[T[v]]||0),U.write_shift(1,F[v]||0),U.write_shift(1,2),U.write_shift(4,0),U.write_shift(1,0),U.write_shift(4,0),U.write_shift(4,0),w+=O[v]||i[T[v]]||0}var ee=h.next(264);for(ee.write_shift(4,13),v=0;v<65;++v)ee.write_shift(4,0);for(v=0;v<x.length;++v){var me=h.next(E);for(me.write_shift(1,0),w=0;w<g.length;++w)if(g[w]!=null)switch(T[w]){case"L":me.write_shift(1,x[v][w]==null?63:x[v][w]?84:70);break;case"B":me.write_shift(8,x[v][w]||0,"f");break;case"N":var ne="0";for(typeof x[v][w]=="number"&&(ne=x[v][w].toFixed(F[w]||0)),N=0;N<O[w]-ne.length;++N)me.write_shift(1,32);me.write_shift(1,ne,"sbcs");break;case"D":x[v][w]?(me.write_shift(4,("0000"+x[v][w].getFullYear()).slice(-4),"sbcs"),me.write_shift(2,("00"+(x[v][w].getMonth()+1)).slice(-2),"sbcs"),me.write_shift(2,("00"+x[v][w].getDate()).slice(-2),"sbcs")):me.write_shift(8,"00000000","sbcs");break;case"C":var se=String(x[v][w]!=null?x[v][w]:"").slice(0,O[w]);for(me.write_shift(1,se,"sbcs"),N=0;N<O[w]-se.length;++N)me.write_shift(1,32);break}}return h.next(1).write_shift(1,26),h.end()}return{to_workbook:a,to_sheet:n,from_sheet:l}})(),pP=(function(){var e={AA:"",BA:"",CA:"",DA:195,HA:"",JA:197,AE:"",BE:"",CE:"",HE:"",AI:"",BI:"",CI:"",HI:"",AO:"",BO:"",CO:"",DO:213,HO:"",AU:"",BU:"",CU:"",HU:"",Aa:"",Ba:"",Ca:"",Da:227,Ha:"",Ja:229,Ae:"",Be:"",Ce:"",He:"",Ai:"",Bi:"",Ci:"",Hi:"",Ao:"",Bo:"",Co:"",Do:245,Ho:"",Au:"",Bu:"",Cu:"",Hu:"",KC:"",Kc:"",q:"",z:"",a:"",j:"",DN:209,Dn:241,Hy:255,S:169,c:170,R:174,"B ":180,0:176,1:177,2:178,3:179,5:181,6:182,7:183,Q:185,k:186,b:208,i:216,l:222,s:240,y:248,"!":161,'"':162,"#":163,"(":164,"%":165,"'":167,"H ":168,"+":171,";":187,"<":188,"=":189,">":190,"?":191,"{":223},t=new RegExp("\x1BN("+Ia(e).join("|").replace(/\|\|\|/,"|\\||").replace(/([?()+])/g,"\\$1")+"|\\|)","gm"),r=function(g,x){var b=e[x];return typeof b=="number"?OE(b):b},n=function(g,x,b){var v=x.charCodeAt(0)-32<<4|b.charCodeAt(0)-48;return v==59?g:OE(v)};e["|"]=254;function a(g,x){switch(x.type){case"base64":return i(ro(g),x);case"binary":return i(g,x);case"buffer":return i(Tr&&Buffer.isBuffer(g)?g.toString("binary"):Md(g),x);case"array":return i(W0(g),x)}throw new Error("Unrecognized type "+x.type)}function i(g,x){var b=g.split(/[\n\r]+/),v=-1,w=-1,N=0,E=0,j=[],T=[],O=null,F={},D=[],L=[],B=[],H=0,P;for(+x.codepage>=0&&Nc(+x.codepage);N!==b.length;++N){H=0;var U=b[N].trim().replace(/\x1B([\x20-\x2F])([\x30-\x3F])/g,n).replace(t,r),K=U.replace(/;;/g,"\0").split(";").map(function(W){return W.replace(/\u0000/g,";")}),ee=K[0],me;if(U.length>0)switch(ee){case"ID":break;case"E":break;case"B":break;case"O":break;case"W":break;case"P":K[1].charAt(0)=="P"&&T.push(U.slice(3).replace(/;;/g,";"));break;case"C":var ne=!1,se=!1,ye=!1,ce=!1,Se=-1,te=-1;for(E=1;E<K.length;++E)switch(K[E].charAt(0)){case"A":break;case"X":w=parseInt(K[E].slice(1))-1,se=!0;break;case"Y":for(v=parseInt(K[E].slice(1))-1,se||(w=0),P=j.length;P<=v;++P)j[P]=[];break;case"K":me=K[E].slice(1),me.charAt(0)==='"'?me=me.slice(1,me.length-1):me==="TRUE"?me=!0:me==="FALSE"?me=!1:isNaN(Sc(me))?isNaN(qm(me).getDate())||(me=Jn(me)):(me=Sc(me),O!==null&&ip(O)&&(me=o2(me))),ne=!0;break;case"E":ce=!0;var M=Om(K[E].slice(1),{r:v,c:w});j[v][w]=[j[v][w],M];break;case"S":ye=!0,j[v][w]=[j[v][w],"S5S"];break;case"G":break;case"R":Se=parseInt(K[E].slice(1))-1;break;case"C":te=parseInt(K[E].slice(1))-1;break;default:if(x&&x.WTF)throw new Error("SYLK bad record "+U)}if(ne&&(j[v][w]&&j[v][w].length==2?j[v][w][0]=me:j[v][w]=me,O=null),ye){if(ce)throw new Error("SYLK shared formula cannot have own formula");var R=Se>-1&&j[Se][te];if(!R||!R[1])throw new Error("SYLK shared formula cannot find base");j[v][w][1]=FP(R[1],{r:v-Se,c:w-te})}break;case"F":var q=0;for(E=1;E<K.length;++E)switch(K[E].charAt(0)){case"X":w=parseInt(K[E].slice(1))-1,++q;break;case"Y":for(v=parseInt(K[E].slice(1))-1,P=j.length;P<=v;++P)j[P]=[];break;case"M":H=parseInt(K[E].slice(1))/20;break;case"F":break;case"G":break;case"P":O=T[parseInt(K[E].slice(1))];break;case"S":break;case"D":break;case"N":break;case"W":for(B=K[E].slice(1).split(" "),P=parseInt(B[0],10);P<=parseInt(B[1],10);++P)H=parseInt(B[2],10),L[P-1]=H===0?{hidden:!0}:{wch:H},Ad(L[P-1]);break;case"C":w=parseInt(K[E].slice(1))-1,L[w]||(L[w]={});break;case"R":v=parseInt(K[E].slice(1))-1,D[v]||(D[v]={}),H>0?(D[v].hpt=H,D[v].hpx=Hm(H)):H===0&&(D[v].hidden=!0);break;default:if(x&&x.WTF)throw new Error("SYLK bad record "+U)}q<1&&(O=null);break;default:if(x&&x.WTF)throw new Error("SYLK bad record "+U)}}return D.length>0&&(F["!rows"]=D),L.length>0&&(F["!cols"]=L),x&&x.sheetRows&&(j=j.slice(0,x.sheetRows)),[j,F]}function l(g,x){var b=a(g,x),v=b[0],w=b[1],N=lp(v,x);return Ia(w).forEach(function(E){N[E]=w[E]}),N}function o(g,x){return Rd(l(g,x),x)}function u(g,x,b,v){var w="C;Y"+(b+1)+";X"+(v+1)+";K";switch(g.t){case"n":w+=g.v||0,g.f&&!g.F&&(w+=";E"+x3(g.f,{r:b,c:v}));break;case"b":w+=g.v?"TRUE":"FALSE";break;case"e":w+=g.w||g.v;break;case"d":w+='"'+(g.w||g.v)+'"';break;case"s":w+='"'+g.v.replace(/"/g,"").replace(/;/g,";;")+'"';break}return w}function f(g,x){x.forEach(function(b,v){var w="F;W"+(v+1)+" "+(v+1)+" ";b.hidden?w+="0":(typeof b.width=="number"&&!b.wpx&&(b.wpx=Jx(b.width)),typeof b.wpx=="number"&&!b.wch&&(b.wch=eg(b.wpx)),typeof b.wch=="number"&&(w+=Math.round(b.wch))),w.charAt(w.length-1)!=" "&&g.push(w)})}function h(g,x){x.forEach(function(b,v){var w="F;";b.hidden?w+="M0;":b.hpt?w+="M"+20*b.hpt+";":b.hpx&&(w+="M"+20*tg(b.hpx)+";"),w.length>2&&g.push(w+"R"+(v+1))})}function m(g,x){var b=["ID;PWXL;N;E"],v=[],w=Jr(g["!ref"]),N,E=Array.isArray(g),j=`\r
`;b.push("P;PGeneral"),b.push("F;P0;DG0G8;M255"),g["!cols"]&&f(b,g["!cols"]),g["!rows"]&&h(b,g["!rows"]),b.push("B;Y"+(w.e.r-w.s.r+1)+";X"+(w.e.c-w.s.c+1)+";D"+[w.s.c,w.s.r,w.e.c,w.e.r].join(" "));for(var T=w.s.r;T<=w.e.r;++T)for(var O=w.s.c;O<=w.e.c;++O){var F=fr({r:T,c:O});N=E?(g[T]||[])[O]:g[F],!(!N||N.v==null&&(!N.f||N.F))&&v.push(u(N,g,T,O))}return b.join(j)+j+v.join(j)+j+"E"+j}return{to_workbook:o,to_sheet:l,from_sheet:m}})(),xP=(function(){function e(i,l){switch(l.type){case"base64":return t(ro(i),l);case"binary":return t(i,l);case"buffer":return t(Tr&&Buffer.isBuffer(i)?i.toString("binary"):Md(i),l);case"array":return t(W0(i),l)}throw new Error("Unrecognized type "+l.type)}function t(i,l){for(var o=i.split(`
`),u=-1,f=-1,h=0,m=[];h!==o.length;++h){if(o[h].trim()==="BOT"){m[++u]=[],f=0;continue}if(!(u<0)){var g=o[h].trim().split(","),x=g[0],b=g[1];++h;for(var v=o[h]||"";(v.match(/["]/g)||[]).length&1&&h<o.length-1;)v+=`
`+o[++h];switch(v=v.trim(),+x){case-1:if(v==="BOT"){m[++u]=[],f=0;continue}else if(v!=="EOD")throw new Error("Unrecognized DIF special command "+v);break;case 0:v==="TRUE"?m[u][f]=!0:v==="FALSE"?m[u][f]=!1:isNaN(Sc(b))?isNaN(qm(b).getDate())?m[u][f]=b:m[u][f]=Jn(b):m[u][f]=Sc(b),++f;break;case 1:v=v.slice(1,v.length-1),v=v.replace(/""/g,'"'),v&&v.match(/^=".*"$/)&&(v=v.slice(2,-1)),m[u][f++]=v!==""?v:null;break}if(v==="EOD")break}}return l&&l.sheetRows&&(m=m.slice(0,l.sheetRows)),m}function r(i,l){return lp(e(i,l),l)}function n(i,l){return Rd(r(i,l),l)}var a=(function(){var i=function(u,f,h,m,g){u.push(f),u.push(h+","+m),u.push('"'+g.replace(/"/g,'""')+'"')},l=function(u,f,h,m){u.push(f+","+h),u.push(f==1?'"'+m.replace(/"/g,'""')+'"':m)};return function(u){var f=[],h=Jr(u["!ref"]),m,g=Array.isArray(u);i(f,"TABLE",0,1,"sheetjs"),i(f,"VECTORS",0,h.e.r-h.s.r+1,""),i(f,"TUPLES",0,h.e.c-h.s.c+1,""),i(f,"DATA",0,0,"");for(var x=h.s.r;x<=h.e.r;++x){l(f,-1,0,"BOT");for(var b=h.s.c;b<=h.e.c;++b){var v=fr({r:x,c:b});if(m=g?(u[x]||[])[b]:u[v],!m){l(f,1,0,"");continue}switch(m.t){case"n":var w=m.w;!w&&m.v!=null&&(w=m.v),w==null?m.f&&!m.F?l(f,1,0,"="+m.f):l(f,1,0,""):l(f,0,w,"V");break;case"b":l(f,0,m.v?1:0,m.v?"TRUE":"FALSE");break;case"s":l(f,1,0,isNaN(m.v)?m.v:'="'+m.v+'"');break;case"d":m.w||(m.w=Uo(m.z||ur[14],ji(Jn(m.v)))),l(f,0,m.w,"V");break;default:l(f,1,0,"")}}}l(f,-1,0,"EOD");var N=`\r
`,E=f.join(N);return E}})();return{to_workbook:n,to_sheet:r,from_sheet:a}})(),gP=(function(){function e(m){return m.replace(/\\b/g,"\\").replace(/\\c/g,":").replace(/\\n/g,`
`)}function t(m){return m.replace(/\\/g,"\\b").replace(/:/g,"\\c").replace(/\n/g,"\\n")}function r(m,g){for(var x=m.split(`
`),b=-1,v=-1,w=0,N=[];w!==x.length;++w){var E=x[w].trim().split(":");if(E[0]==="cell"){var j=ja(E[1]);if(N.length<=j.r)for(b=N.length;b<=j.r;++b)N[b]||(N[b]=[]);switch(b=j.r,v=j.c,E[2]){case"t":N[b][v]=e(E[3]);break;case"v":N[b][v]=+E[3];break;case"vtf":var T=E[E.length-1];case"vtc":switch(E[3]){case"nl":N[b][v]=!!+E[4];break;default:N[b][v]=+E[4];break}E[2]=="vtf"&&(N[b][v]=[N[b][v],T])}}}return g&&g.sheetRows&&(N=N.slice(0,g.sheetRows)),N}function n(m,g){return lp(r(m,g),g)}function a(m,g){return Rd(n(m,g),g)}var i=["socialcalc:version:1.5","MIME-Version: 1.0","Content-Type: multipart/mixed; boundary=SocialCalcSpreadsheetControlSave"].join(`
`),l=["--SocialCalcSpreadsheetControlSave","Content-type: text/plain; charset=UTF-8"].join(`
`)+`
`,o=["# SocialCalc Spreadsheet Control Save","part:sheet"].join(`
`),u="--SocialCalcSpreadsheetControlSave--";function f(m){if(!m||!m["!ref"])return"";for(var g=[],x=[],b,v="",w=Cl(m["!ref"]),N=Array.isArray(m),E=w.s.r;E<=w.e.r;++E)for(var j=w.s.c;j<=w.e.c;++j)if(v=fr({r:E,c:j}),b=N?(m[E]||[])[j]:m[v],!(!b||b.v==null||b.t==="z")){switch(x=["cell",v,"t"],b.t){case"s":case"str":x.push(t(b.v));break;case"n":b.f?(x[2]="vtf",x[3]="n",x[4]=b.v,x[5]=t(b.f)):(x[2]="v",x[3]=b.v);break;case"b":x[2]="vt"+(b.f?"f":"c"),x[3]="nl",x[4]=b.v?"1":"0",x[5]=t(b.f||(b.v?"TRUE":"FALSE"));break;case"d":var T=ji(Jn(b.v));x[2]="vtc",x[3]="nd",x[4]=""+T,x[5]=b.w||Uo(b.z||ur[14],T);break;case"e":continue}g.push(x.join(":"))}return g.push("sheet:c:"+(w.e.c-w.s.c+1)+":r:"+(w.e.r-w.s.r+1)+":tvf:1"),g.push("valueformat:1:text-wiki"),g.join(`
`)}function h(m){return[i,l,o,l,f(m),u].join(`
`)}return{to_workbook:a,to_sheet:n,from_sheet:h}})(),$m=(function(){function e(h,m,g,x,b){b.raw?m[g][x]=h:h===""||(h==="TRUE"?m[g][x]=!0:h==="FALSE"?m[g][x]=!1:isNaN(Sc(h))?isNaN(qm(h).getDate())?m[g][x]=h:m[g][x]=Jn(h):m[g][x]=Sc(h))}function t(h,m){var g=m||{},x=[];if(!h||h.length===0)return x;for(var b=h.split(/[\r\n]/),v=b.length-1;v>=0&&b[v].length===0;)--v;for(var w=10,N=0,E=0;E<=v;++E)N=b[E].indexOf(" "),N==-1?N=b[E].length:N++,w=Math.max(w,N);for(E=0;E<=v;++E){x[E]=[];var j=0;for(e(b[E].slice(0,w).trim(),x,E,j,g),j=1;j<=(b[E].length-w)/10+1;++j)e(b[E].slice(w+(j-1)*10,w+j*10).trim(),x,E,j,g)}return g.sheetRows&&(x=x.slice(0,g.sheetRows)),x}var r={44:",",9:"	",59:";",124:"|"},n={44:3,9:2,59:1,124:0};function a(h){for(var m={},g=!1,x=0,b=0;x<h.length;++x)(b=h.charCodeAt(x))==34?g=!g:!g&&b in r&&(m[b]=(m[b]||0)+1);b=[];for(x in m)Object.prototype.hasOwnProperty.call(m,x)&&b.push([m[x],x]);if(!b.length){m=n;for(x in m)Object.prototype.hasOwnProperty.call(m,x)&&b.push([m[x],x])}return b.sort(function(v,w){return v[0]-w[0]||n[v[1]]-n[w[1]]}),r[b.pop()[1]]||44}function i(h,m){var g=m||{},x="",b=g.dense?[]:{},v={s:{c:0,r:0},e:{c:0,r:0}};h.slice(0,4)=="sep="?h.charCodeAt(5)==13&&h.charCodeAt(6)==10?(x=h.charAt(4),h=h.slice(7)):h.charCodeAt(5)==13||h.charCodeAt(5)==10?(x=h.charAt(4),h=h.slice(6)):x=a(h.slice(0,1024)):g&&g.FS?x=g.FS:x=a(h.slice(0,1024));var w=0,N=0,E=0,j=0,T=0,O=x.charCodeAt(0),F=!1,D=0,L=h.charCodeAt(0);h=h.replace(/\r\n/mg,`
`);var B=g.dateNF!=null?zW(g.dateNF):null;function H(){var P=h.slice(j,T),U={};if(P.charAt(0)=='"'&&P.charAt(P.length-1)=='"'&&(P=P.slice(1,-1).replace(/""/g,'"')),P.length===0)U.t="z";else if(g.raw)U.t="s",U.v=P;else if(P.trim().length===0)U.t="s",U.v=P;else if(P.charCodeAt(0)==61)P.charCodeAt(1)==34&&P.charCodeAt(P.length-1)==34?(U.t="s",U.v=P.slice(2,-1).replace(/""/g,'"')):xZ(P)?(U.t="n",U.f=P.slice(1)):(U.t="s",U.v=P);else if(P=="TRUE")U.t="b",U.v=!0;else if(P=="FALSE")U.t="b",U.v=!1;else if(!isNaN(E=Sc(P)))U.t="n",g.cellText!==!1&&(U.w=P),U.v=E;else if(!isNaN(qm(P).getDate())||B&&P.match(B)){U.z=g.dateNF||ur[14];var K=0;B&&P.match(B)&&(P=qW(P,g.dateNF,P.match(B)||[]),K=1),g.cellDates?(U.t="d",U.v=Jn(P,K)):(U.t="n",U.v=ji(Jn(P,K))),g.cellText!==!1&&(U.w=Uo(U.z,U.v instanceof Date?ji(U.v):U.v)),g.cellNF||delete U.z}else U.t="s",U.v=P;if(U.t=="z"||(g.dense?(b[w]||(b[w]=[]),b[w][N]=U):b[fr({c:N,r:w})]=U),j=T+1,L=h.charCodeAt(j),v.e.c<N&&(v.e.c=N),v.e.r<w&&(v.e.r=w),D==O)++N;else if(N=0,++w,g.sheetRows&&g.sheetRows<=w)return!0}e:for(;T<h.length;++T)switch(D=h.charCodeAt(T)){case 34:L===34&&(F=!F);break;case O:case 10:case 13:if(!F&&H())break e;break}return T-j>0&&H(),b["!ref"]=Nr(v),b}function l(h,m){return!(m&&m.PRN)||m.FS||h.slice(0,4)=="sep="||h.indexOf("	")>=0||h.indexOf(",")>=0||h.indexOf(";")>=0?i(h,m):lp(t(h,m),m)}function o(h,m){var g="",x=m.type=="string"?[0,0,0,0]:j3(h,m);switch(m.type){case"base64":g=ro(h);break;case"binary":g=h;break;case"buffer":m.codepage==65001?g=h.toString("utf8"):m.codepage&&typeof Vx<"u"||(g=Tr&&Buffer.isBuffer(h)?h.toString("binary"):Md(h));break;case"array":g=W0(h);break;case"string":g=h;break;default:throw new Error("Unrecognized type "+m.type)}return x[0]==239&&x[1]==187&&x[2]==191?g=Dn(g.slice(3)):m.type!="string"&&m.type!="buffer"&&m.codepage==65001?g=Dn(g):m.type=="binary"&&typeof Vx<"u",g.slice(0,19)=="socialcalc:version:"?gP.to_sheet(m.type=="string"?g:Dn(g),m):l(g,m)}function u(h,m){return Rd(o(h,m),m)}function f(h){for(var m=[],g=Jr(h["!ref"]),x,b=Array.isArray(h),v=g.s.r;v<=g.e.r;++v){for(var w=[],N=g.s.c;N<=g.e.c;++N){var E=fr({r:v,c:N});if(x=b?(h[v]||[])[N]:h[E],!x||x.v==null){w.push("          ");continue}for(var j=(x.w||(pf(x),x.w)||"").slice(0,10);j.length<10;)j+=" ";w.push(j+(N===0?" ":""))}m.push(w.join(""))}return m.join(`
`)}return{to_workbook:u,to_sheet:o,from_sheet:f}})();function rX(e,t){var r=t||{},n=!!r.WTF;r.WTF=!0;try{var a=pP.to_workbook(e,r);return r.WTF=n,a}catch(i){if(r.WTF=n,!i.message.match(/SYLK bad record ID/)&&n)throw i;return $m.to_workbook(e,t)}}var F0=(function(){function e(M,R,q){if(M){as(M,M.l||0);for(var W=q.Enum||Se;M.l<M.length;){var J=M.read_shift(2),le=W[J]||W[65535],ue=M.read_shift(2),X=M.l+ue,ge=le.f&&le.f(M,ue,q);if(M.l=X,R(ge,le,J))return}}}function t(M,R){switch(R.type){case"base64":return r(Ql(ro(M)),R);case"binary":return r(Ql(M),R);case"buffer":case"array":return r(M,R)}throw"Unsupported type "+R.type}function r(M,R){if(!M)return M;var q=R||{},W=q.dense?[]:{},J="Sheet1",le="",ue=0,X={},ge=[],Te=[],Y={s:{r:0,c:0},e:{r:0,c:0}},We=q.sheetRows||0;if(M[2]==0&&(M[3]==8||M[3]==9)&&M.length>=16&&M[14]==5&&M[15]===108)throw new Error("Unsupported Works 3 for Mac file");if(M[2]==2)q.Enum=Se,e(M,function(Xe,bt,lt){switch(lt){case 0:q.vers=Xe,Xe>=4096&&(q.qpro=!0);break;case 6:Y=Xe;break;case 204:Xe&&(le=Xe);break;case 222:le=Xe;break;case 15:case 51:q.qpro||(Xe[1].v=Xe[1].v.slice(1));case 13:case 14:case 16:lt==14&&(Xe[2]&112)==112&&(Xe[2]&15)>1&&(Xe[2]&15)<15&&(Xe[1].z=q.dateNF||ur[14],q.cellDates&&(Xe[1].t="d",Xe[1].v=o2(Xe[1].v))),q.qpro&&Xe[3]>ue&&(W["!ref"]=Nr(Y),X[J]=W,ge.push(J),W=q.dense?[]:{},Y={s:{r:0,c:0},e:{r:0,c:0}},ue=Xe[3],J=le||"Sheet"+(ue+1),le="");var Ct=q.dense?(W[Xe[0].r]||[])[Xe[0].c]:W[fr(Xe[0])];if(Ct){Ct.t=Xe[1].t,Ct.v=Xe[1].v,Xe[1].z!=null&&(Ct.z=Xe[1].z),Xe[1].f!=null&&(Ct.f=Xe[1].f);break}q.dense?(W[Xe[0].r]||(W[Xe[0].r]=[]),W[Xe[0].r][Xe[0].c]=Xe[1]):W[fr(Xe[0])]=Xe[1];break}},q);else if(M[2]==26||M[2]==14)q.Enum=te,M[2]==14&&(q.qpro=!0,M.l=0),e(M,function(Xe,bt,lt){switch(lt){case 204:J=Xe;break;case 22:Xe[1].v=Xe[1].v.slice(1);case 23:case 24:case 25:case 37:case 39:case 40:if(Xe[3]>ue&&(W["!ref"]=Nr(Y),X[J]=W,ge.push(J),W=q.dense?[]:{},Y={s:{r:0,c:0},e:{r:0,c:0}},ue=Xe[3],J="Sheet"+(ue+1)),We>0&&Xe[0].r>=We)break;q.dense?(W[Xe[0].r]||(W[Xe[0].r]=[]),W[Xe[0].r][Xe[0].c]=Xe[1]):W[fr(Xe[0])]=Xe[1],Y.e.c<Xe[0].c&&(Y.e.c=Xe[0].c),Y.e.r<Xe[0].r&&(Y.e.r=Xe[0].r);break;case 27:Xe[14e3]&&(Te[Xe[14e3][0]]=Xe[14e3][1]);break;case 1537:Te[Xe[0]]=Xe[1],Xe[0]==ue&&(J=Xe[1]);break}},q);else throw new Error("Unrecognized LOTUS BOF "+M[2]);if(W["!ref"]=Nr(Y),X[le||J]=W,ge.push(le||J),!Te.length)return{SheetNames:ge,Sheets:X};for(var Ee={},xe=[],dt=0;dt<Te.length;++dt)X[ge[dt]]?(xe.push(Te[dt]||ge[dt]),Ee[Te[dt]]=X[Te[dt]]||X[ge[dt]]):(xe.push(Te[dt]),Ee[Te[dt]]={"!ref":"A1"});return{SheetNames:xe,Sheets:Ee}}function n(M,R){var q=R||{};if(+q.codepage>=0&&Nc(+q.codepage),q.type=="string")throw new Error("Cannot write WK1 to JS string");var W=El(),J=Jr(M["!ref"]),le=Array.isArray(M),ue=[];_t(W,0,i(1030)),_t(W,6,u(J));for(var X=Math.min(J.e.r,8191),ge=J.s.r;ge<=X;++ge)for(var Te=Ya(ge),Y=J.s.c;Y<=J.e.c;++Y){ge===J.s.r&&(ue[Y]=_a(Y));var We=ue[Y]+Te,Ee=le?(M[ge]||[])[Y]:M[We];if(!(!Ee||Ee.t=="z"))if(Ee.t=="n")(Ee.v|0)==Ee.v&&Ee.v>=-32768&&Ee.v<=32767?_t(W,13,x(ge,Y,Ee.v)):_t(W,14,v(ge,Y,Ee.v));else{var xe=pf(Ee);_t(W,15,m(ge,Y,xe.slice(0,239)))}}return _t(W,1),W.end()}function a(M,R){var q=R||{};if(+q.codepage>=0&&Nc(+q.codepage),q.type=="string")throw new Error("Cannot write WK3 to JS string");var W=El();_t(W,0,l(M));for(var J=0,le=0;J<M.SheetNames.length;++J)(M.Sheets[M.SheetNames[J]]||{})["!ref"]&&_t(W,27,ce(M.SheetNames[J],le++));var ue=0;for(J=0;J<M.SheetNames.length;++J){var X=M.Sheets[M.SheetNames[J]];if(!(!X||!X["!ref"])){for(var ge=Jr(X["!ref"]),Te=Array.isArray(X),Y=[],We=Math.min(ge.e.r,8191),Ee=ge.s.r;Ee<=We;++Ee)for(var xe=Ya(Ee),dt=ge.s.c;dt<=ge.e.c;++dt){Ee===ge.s.r&&(Y[dt]=_a(dt));var Xe=Y[dt]+xe,bt=Te?(X[Ee]||[])[dt]:X[Xe];if(!(!bt||bt.t=="z"))if(bt.t=="n")_t(W,23,H(Ee,dt,ue,bt.v));else{var lt=pf(bt);_t(W,22,D(Ee,dt,ue,lt.slice(0,239)))}}++ue}}return _t(W,1),W.end()}function i(M){var R=Je(2);return R.write_shift(2,M),R}function l(M){var R=Je(26);R.write_shift(2,4096),R.write_shift(2,4),R.write_shift(4,0);for(var q=0,W=0,J=0,le=0;le<M.SheetNames.length;++le){var ue=M.SheetNames[le],X=M.Sheets[ue];if(!(!X||!X["!ref"])){++J;var ge=Cl(X["!ref"]);q<ge.e.r&&(q=ge.e.r),W<ge.e.c&&(W=ge.e.c)}}return q>8191&&(q=8191),R.write_shift(2,q),R.write_shift(1,J),R.write_shift(1,W),R.write_shift(2,0),R.write_shift(2,0),R.write_shift(1,1),R.write_shift(1,2),R.write_shift(4,0),R.write_shift(4,0),R}function o(M,R,q){var W={s:{c:0,r:0},e:{c:0,r:0}};return R==8&&q.qpro?(W.s.c=M.read_shift(1),M.l++,W.s.r=M.read_shift(2),W.e.c=M.read_shift(1),M.l++,W.e.r=M.read_shift(2),W):(W.s.c=M.read_shift(2),W.s.r=M.read_shift(2),R==12&&q.qpro&&(M.l+=2),W.e.c=M.read_shift(2),W.e.r=M.read_shift(2),R==12&&q.qpro&&(M.l+=2),W.s.c==65535&&(W.s.c=W.e.c=W.s.r=W.e.r=0),W)}function u(M){var R=Je(8);return R.write_shift(2,M.s.c),R.write_shift(2,M.s.r),R.write_shift(2,M.e.c),R.write_shift(2,M.e.r),R}function f(M,R,q){var W=[{c:0,r:0},{t:"n",v:0},0,0];return q.qpro&&q.vers!=20768?(W[0].c=M.read_shift(1),W[3]=M.read_shift(1),W[0].r=M.read_shift(2),M.l+=2):(W[2]=M.read_shift(1),W[0].c=M.read_shift(2),W[0].r=M.read_shift(2)),W}function h(M,R,q){var W=M.l+R,J=f(M,R,q);if(J[1].t="s",q.vers==20768){M.l++;var le=M.read_shift(1);return J[1].v=M.read_shift(le,"utf8"),J}return q.qpro&&M.l++,J[1].v=M.read_shift(W-M.l,"cstr"),J}function m(M,R,q){var W=Je(7+q.length);W.write_shift(1,255),W.write_shift(2,R),W.write_shift(2,M),W.write_shift(1,39);for(var J=0;J<W.length;++J){var le=q.charCodeAt(J);W.write_shift(1,le>=128?95:le)}return W.write_shift(1,0),W}function g(M,R,q){var W=f(M,R,q);return W[1].v=M.read_shift(2,"i"),W}function x(M,R,q){var W=Je(7);return W.write_shift(1,255),W.write_shift(2,R),W.write_shift(2,M),W.write_shift(2,q,"i"),W}function b(M,R,q){var W=f(M,R,q);return W[1].v=M.read_shift(8,"f"),W}function v(M,R,q){var W=Je(13);return W.write_shift(1,255),W.write_shift(2,R),W.write_shift(2,M),W.write_shift(8,q,"f"),W}function w(M,R,q){var W=M.l+R,J=f(M,R,q);if(J[1].v=M.read_shift(8,"f"),q.qpro)M.l=W;else{var le=M.read_shift(2);T(M.slice(M.l,M.l+le),J),M.l+=le}return J}function N(M,R,q){var W=R&32768;return R&=-32769,R=(W?M:0)+(R>=8192?R-16384:R),(W?"":"$")+(q?_a(R):Ya(R))}var E={51:["FALSE",0],52:["TRUE",0],70:["LEN",1],80:["SUM",69],81:["AVERAGEA",69],82:["COUNTA",69],83:["MINA",69],84:["MAXA",69],111:["T",1]},j=["","","","","","","","","","+","-","*","/","^","=","<>","<=",">=","<",">","","","","","&","","","","","","",""];function T(M,R){as(M,0);for(var q=[],W=0,J="",le="",ue="",X="";M.l<M.length;){var ge=M[M.l++];switch(ge){case 0:q.push(M.read_shift(8,"f"));break;case 1:le=N(R[0].c,M.read_shift(2),!0),J=N(R[0].r,M.read_shift(2),!1),q.push(le+J);break;case 2:{var Te=N(R[0].c,M.read_shift(2),!0),Y=N(R[0].r,M.read_shift(2),!1);le=N(R[0].c,M.read_shift(2),!0),J=N(R[0].r,M.read_shift(2),!1),q.push(Te+Y+":"+le+J)}break;case 3:if(M.l<M.length){console.error("WK1 premature formula end");return}break;case 4:q.push("("+q.pop()+")");break;case 5:q.push(M.read_shift(2));break;case 6:{for(var We="";ge=M[M.l++];)We+=String.fromCharCode(ge);q.push('"'+We.replace(/"/g,'""')+'"')}break;case 8:q.push("-"+q.pop());break;case 23:q.push("+"+q.pop());break;case 22:q.push("NOT("+q.pop()+")");break;case 20:case 21:X=q.pop(),ue=q.pop(),q.push(["AND","OR"][ge-20]+"("+ue+","+X+")");break;default:if(ge<32&&j[ge])X=q.pop(),ue=q.pop(),q.push(ue+j[ge]+X);else if(E[ge]){if(W=E[ge][1],W==69&&(W=M[M.l++]),W>q.length){console.error("WK1 bad formula parse 0x"+ge.toString(16)+":|"+q.join("|")+"|");return}var Ee=q.slice(-W);q.length-=W,q.push(E[ge][0]+"("+Ee.join(",")+")")}else return ge<=7?console.error("WK1 invalid opcode "+ge.toString(16)):ge<=24?console.error("WK1 unsupported op "+ge.toString(16)):ge<=30?console.error("WK1 invalid opcode "+ge.toString(16)):ge<=115?console.error("WK1 unsupported function opcode "+ge.toString(16)):console.error("WK1 unrecognized opcode "+ge.toString(16))}}q.length==1?R[1].f=""+q[0]:console.error("WK1 bad formula parse |"+q.join("|")+"|")}function O(M){var R=[{c:0,r:0},{t:"n",v:0},0];return R[0].r=M.read_shift(2),R[3]=M[M.l++],R[0].c=M[M.l++],R}function F(M,R){var q=O(M);return q[1].t="s",q[1].v=M.read_shift(R-4,"cstr"),q}function D(M,R,q,W){var J=Je(6+W.length);J.write_shift(2,M),J.write_shift(1,q),J.write_shift(1,R),J.write_shift(1,39);for(var le=0;le<W.length;++le){var ue=W.charCodeAt(le);J.write_shift(1,ue>=128?95:ue)}return J.write_shift(1,0),J}function L(M,R){var q=O(M);q[1].v=M.read_shift(2);var W=q[1].v>>1;if(q[1].v&1)switch(W&7){case 0:W=(W>>3)*5e3;break;case 1:W=(W>>3)*500;break;case 2:W=(W>>3)/20;break;case 3:W=(W>>3)/200;break;case 4:W=(W>>3)/2e3;break;case 5:W=(W>>3)/2e4;break;case 6:W=(W>>3)/16;break;case 7:W=(W>>3)/64;break}return q[1].v=W,q}function B(M,R){var q=O(M),W=M.read_shift(4),J=M.read_shift(4),le=M.read_shift(2);if(le==65535)return W===0&&J===3221225472?(q[1].t="e",q[1].v=15):W===0&&J===3489660928?(q[1].t="e",q[1].v=42):q[1].v=0,q;var ue=le&32768;return le=(le&32767)-16446,q[1].v=(1-ue*2)*(J*Math.pow(2,le+32)+W*Math.pow(2,le)),q}function H(M,R,q,W){var J=Je(14);if(J.write_shift(2,M),J.write_shift(1,q),J.write_shift(1,R),W==0)return J.write_shift(4,0),J.write_shift(4,0),J.write_shift(2,65535),J;var le=0,ue=0,X=0,ge=0;return W<0&&(le=1,W=-W),ue=Math.log2(W)|0,W/=Math.pow(2,ue-31),ge=W>>>0,(ge&2147483648)==0&&(W/=2,++ue,ge=W>>>0),W-=ge,ge|=2147483648,ge>>>=0,W*=Math.pow(2,32),X=W>>>0,J.write_shift(4,X),J.write_shift(4,ge),ue+=16383+(le?32768:0),J.write_shift(2,ue),J}function P(M,R){var q=B(M);return M.l+=R-14,q}function U(M,R){var q=O(M),W=M.read_shift(4);return q[1].v=W>>6,q}function K(M,R){var q=O(M),W=M.read_shift(8,"f");return q[1].v=W,q}function ee(M,R){var q=K(M);return M.l+=R-10,q}function me(M,R){return M[M.l+R-1]==0?M.read_shift(R,"cstr"):""}function ne(M,R){var q=M[M.l++];q>R-1&&(q=R-1);for(var W="";W.length<q;)W+=String.fromCharCode(M[M.l++]);return W}function se(M,R,q){if(!(!q.qpro||R<21)){var W=M.read_shift(1);M.l+=17,M.l+=1,M.l+=2;var J=M.read_shift(R-21,"cstr");return[W,J]}}function ye(M,R){for(var q={},W=M.l+R;M.l<W;){var J=M.read_shift(2);if(J==14e3){for(q[J]=[0,""],q[J][0]=M.read_shift(2);M[M.l];)q[J][1]+=String.fromCharCode(M[M.l]),M.l++;M.l++}}return q}function ce(M,R){var q=Je(5+M.length);q.write_shift(2,14e3),q.write_shift(2,R);for(var W=0;W<M.length;++W){var J=M.charCodeAt(W);q[q.l++]=J>127?95:J}return q[q.l++]=0,q}var Se={0:{n:"BOF",f:ai},1:{n:"EOF"},2:{n:"CALCMODE"},3:{n:"CALCORDER"},4:{n:"SPLIT"},5:{n:"SYNC"},6:{n:"RANGE",f:o},7:{n:"WINDOW1"},8:{n:"COLW1"},9:{n:"WINTWO"},10:{n:"COLW2"},11:{n:"NAME"},12:{n:"BLANK"},13:{n:"INTEGER",f:g},14:{n:"NUMBER",f:b},15:{n:"LABEL",f:h},16:{n:"FORMULA",f:w},24:{n:"TABLE"},25:{n:"ORANGE"},26:{n:"PRANGE"},27:{n:"SRANGE"},28:{n:"FRANGE"},29:{n:"KRANGE1"},32:{n:"HRANGE"},35:{n:"KRANGE2"},36:{n:"PROTEC"},37:{n:"FOOTER"},38:{n:"HEADER"},39:{n:"SETUP"},40:{n:"MARGINS"},41:{n:"LABELFMT"},42:{n:"TITLES"},43:{n:"SHEETJS"},45:{n:"GRAPH"},46:{n:"NGRAPH"},47:{n:"CALCCOUNT"},48:{n:"UNFORMATTED"},49:{n:"CURSORW12"},50:{n:"WINDOW"},51:{n:"STRING",f:h},55:{n:"PASSWORD"},56:{n:"LOCKED"},60:{n:"QUERY"},61:{n:"QUERYNAME"},62:{n:"PRINT"},63:{n:"PRINTNAME"},64:{n:"GRAPH2"},65:{n:"GRAPHNAME"},66:{n:"ZOOM"},67:{n:"SYMSPLIT"},68:{n:"NSROWS"},69:{n:"NSCOLS"},70:{n:"RULER"},71:{n:"NNAME"},72:{n:"ACOMM"},73:{n:"AMACRO"},74:{n:"PARSE"},102:{n:"PRANGES??"},103:{n:"RRANGES??"},104:{n:"FNAME??"},105:{n:"MRANGES??"},204:{n:"SHEETNAMECS",f:me},222:{n:"SHEETNAMELP",f:ne},65535:{n:""}},te={0:{n:"BOF"},1:{n:"EOF"},2:{n:"PASSWORD"},3:{n:"CALCSET"},4:{n:"WINDOWSET"},5:{n:"SHEETCELLPTR"},6:{n:"SHEETLAYOUT"},7:{n:"COLUMNWIDTH"},8:{n:"HIDDENCOLUMN"},9:{n:"USERRANGE"},10:{n:"SYSTEMRANGE"},11:{n:"ZEROFORCE"},12:{n:"SORTKEYDIR"},13:{n:"FILESEAL"},14:{n:"DATAFILLNUMS"},15:{n:"PRINTMAIN"},16:{n:"PRINTSTRING"},17:{n:"GRAPHMAIN"},18:{n:"GRAPHSTRING"},19:{n:"??"},20:{n:"ERRCELL"},21:{n:"NACELL"},22:{n:"LABEL16",f:F},23:{n:"NUMBER17",f:B},24:{n:"NUMBER18",f:L},25:{n:"FORMULA19",f:P},26:{n:"FORMULA1A"},27:{n:"XFORMAT",f:ye},28:{n:"DTLABELMISC"},29:{n:"DTLABELCELL"},30:{n:"GRAPHWINDOW"},31:{n:"CPA"},32:{n:"LPLAUTO"},33:{n:"QUERY"},34:{n:"HIDDENSHEET"},35:{n:"??"},37:{n:"NUMBER25",f:U},38:{n:"??"},39:{n:"NUMBER27",f:K},40:{n:"FORMULA28",f:ee},142:{n:"??"},147:{n:"??"},150:{n:"??"},151:{n:"??"},152:{n:"??"},153:{n:"??"},154:{n:"??"},155:{n:"??"},156:{n:"??"},163:{n:"??"},174:{n:"??"},175:{n:"??"},176:{n:"??"},177:{n:"??"},184:{n:"??"},185:{n:"??"},186:{n:"??"},187:{n:"??"},188:{n:"??"},195:{n:"??"},201:{n:"??"},204:{n:"SHEETNAMECS",f:me},205:{n:"??"},206:{n:"??"},207:{n:"??"},208:{n:"??"},256:{n:"??"},259:{n:"??"},260:{n:"??"},261:{n:"??"},262:{n:"??"},263:{n:"??"},265:{n:"??"},266:{n:"??"},267:{n:"??"},268:{n:"??"},270:{n:"??"},271:{n:"??"},384:{n:"??"},389:{n:"??"},390:{n:"??"},393:{n:"??"},396:{n:"??"},512:{n:"??"},514:{n:"??"},513:{n:"??"},516:{n:"??"},517:{n:"??"},640:{n:"??"},641:{n:"??"},642:{n:"??"},643:{n:"??"},644:{n:"??"},645:{n:"??"},646:{n:"??"},647:{n:"??"},648:{n:"??"},658:{n:"??"},659:{n:"??"},660:{n:"??"},661:{n:"??"},662:{n:"??"},665:{n:"??"},666:{n:"??"},768:{n:"??"},772:{n:"??"},1537:{n:"SHEETINFOQP",f:se},1600:{n:"??"},1602:{n:"??"},1793:{n:"??"},1794:{n:"??"},1795:{n:"??"},1796:{n:"??"},1920:{n:"??"},2048:{n:"??"},2049:{n:"??"},2052:{n:"??"},2688:{n:"??"},10998:{n:"??"},12849:{n:"??"},28233:{n:"??"},28484:{n:"??"},65535:{n:""}};return{sheet_to_wk1:n,book_to_wk3:a,to_workbook:t}})();function nX(e){var t={},r=e.match(Ls),n=0,a=!1;if(r)for(;n!=r.length;++n){var i=hr(r[n]);switch(i[0].replace(/\w*:/g,"")){case"<condense":break;case"<extend":break;case"<shadow":if(!i.val)break;case"<shadow>":case"<shadow/>":t.shadow=1;break;case"</shadow>":break;case"<charset":if(i.val=="1")break;t.cp=z_[parseInt(i.val,10)];break;case"<outline":if(!i.val)break;case"<outline>":case"<outline/>":t.outline=1;break;case"</outline>":break;case"<rFont":t.name=i.val;break;case"<sz":t.sz=i.val;break;case"<strike":if(!i.val)break;case"<strike>":case"<strike/>":t.strike=1;break;case"</strike>":break;case"<u":if(!i.val)break;switch(i.val){case"double":t.uval="double";break;case"singleAccounting":t.uval="single-accounting";break;case"doubleAccounting":t.uval="double-accounting";break}case"<u>":case"<u/>":t.u=1;break;case"</u>":break;case"<b":if(i.val=="0")break;case"<b>":case"<b/>":t.b=1;break;case"</b>":break;case"<i":if(i.val=="0")break;case"<i>":case"<i/>":t.i=1;break;case"</i>":break;case"<color":i.rgb&&(t.color=i.rgb.slice(2,8));break;case"<color>":case"<color/>":case"</color>":break;case"<family":t.family=i.val;break;case"<family>":case"<family/>":case"</family>":break;case"<vertAlign":t.valign=i.val;break;case"<vertAlign>":case"<vertAlign/>":case"</vertAlign>":break;case"<scheme":break;case"<scheme>":case"<scheme/>":case"</scheme>":break;case"<extLst":case"<extLst>":case"</extLst>":break;case"<ext":a=!0;break;case"</ext>":a=!1;break;default:if(i[0].charCodeAt(1)!==47&&!a)throw new Error("Unrecognized rich format "+i[0])}}return t}var aX=(function(){var e=Kx("t"),t=Kx("rPr");function r(i){var l=i.match(e);if(!l)return{t:"s",v:""};var o={t:"s",v:Qr(l[1])},u=i.match(t);return u&&(o.s=nX(u[1])),o}var n=/<(?:\w+:)?r>/g,a=/<\/(?:\w+:)?r>/;return function(l){return l.replace(n,"").split(a).map(r).filter(function(o){return o.v})}})(),iX=(function(){var t=/(\r\n|\n)/g;function r(a,i,l){var o=[];a.u&&o.push("text-decoration: underline;"),a.uval&&o.push("text-underline-style:"+a.uval+";"),a.sz&&o.push("font-size:"+a.sz+"pt;"),a.outline&&o.push("text-effect: outline;"),a.shadow&&o.push("text-shadow: auto;"),i.push('<span style="'+o.join("")+'">'),a.b&&(i.push("<b>"),l.push("</b>")),a.i&&(i.push("<i>"),l.push("</i>")),a.strike&&(i.push("<s>"),l.push("</s>"));var u=a.valign||"";return u=="superscript"||u=="super"?u="sup":u=="subscript"&&(u="sub"),u!=""&&(i.push("<"+u+">"),l.push("</"+u+">")),l.push("</span>"),a}function n(a){var i=[[],a.v,[]];return a.v?(a.s&&r(a.s,i[0],i[2]),i[0].join("")+i[1].replace(t,"<br/>")+i[2].join("")):""}return function(i){return i.map(n).join("")}})(),sX=/<(?:\w+:)?t[^>]*>([^<]*)<\/(?:\w+:)?t>/g,lX=/<(?:\w+:)?r>/,oX=/<(?:\w+:)?rPh.*?>([\s\S]*?)<\/(?:\w+:)?rPh>/g;function f3(e,t){var r=t?t.cellHTML:!0,n={};return e?(e.match(/^\s*<(?:\w+:)?t[^>]*>/)?(n.t=Qr(Dn(e.slice(e.indexOf(">")+1).split(/<\/(?:\w+:)?t>/)[0]||"")),n.r=Dn(e),r&&(n.h=Q_(n.t))):e.match(lX)&&(n.r=Dn(e),n.t=Qr(Dn((e.replace(oX,"").match(sX)||[]).join("").replace(Ls,""))),r&&(n.h=iX(aX(n.r)))),n):{t:""}}var cX=/<(?:\w+:)?sst([^>]*)>([\s\S]*)<\/(?:\w+:)?sst>/,uX=/<(?:\w+:)?(?:si|sstItem)>/g,fX=/<\/(?:\w+:)?(?:si|sstItem)>/;function dX(e,t){var r=[],n="";if(!e)return r;var a=e.match(cX);if(a){n=a[2].replace(uX,"").split(fX);for(var i=0;i!=n.length;++i){var l=f3(n[i].trim(),t);l!=null&&(r[r.length]=l)}a=hr(a[1]),r.Count=a.count,r.Unique=a.uniqueCount}return r}var hX=/^\s|\s$|[\t\n\r]/;function vP(e,t){if(!t.bookSST)return"";var r=[Xa];r[r.length]=wt("sst",null,{xmlns:ch[0],count:e.Count,uniqueCount:e.Unique});for(var n=0;n!=e.length;++n)if(e[n]!=null){var a=e[n],i="<si>";a.r?i+=a.r:(i+="<t",a.t||(a.t=""),a.t.match(hX)&&(i+=' xml:space="preserve"'),i+=">"+_n(a.t)+"</t>"),i+="</si>",r[r.length]=i}return r.length>2&&(r[r.length]="</sst>",r[1]=r[1].replace("/>",">")),r.join("")}function mX(e){return[e.read_shift(4),e.read_shift(4)]}function pX(e,t){var r=[],n=!1;return jf(e,function(i,l,o){switch(o){case 159:r.Count=i[0],r.Unique=i[1];break;case 19:r.push(i);break;case 160:return!0;case 35:n=!0;break;case 36:n=!1;break;default:if(l.T,!n||t.WTF)throw new Error("Unexpected record 0x"+o.toString(16))}}),r}function xX(e,t){return t||(t=Je(8)),t.write_shift(4,e.Count),t.write_shift(4,e.Unique),t}var gX=EG;function vX(e){var t=El();ut(t,159,xX(e));for(var r=0;r<e.length;++r)ut(t,19,gX(e[r]));return ut(t,160),t.end()}function yP(e){for(var t=[],r=e.split(""),n=0;n<r.length;++n)t[n]=r[n].charCodeAt(0);return t}function of(e,t){var r={};return r.Major=e.read_shift(2),r.Minor=e.read_shift(2),t>=4&&(e.l+=t-4),r}function yX(e){var t={};return t.id=e.read_shift(0,"lpp4"),t.R=of(e,4),t.U=of(e,4),t.W=of(e,4),t}function bX(e){for(var t=e.read_shift(4),r=e.l+t-4,n={},a=e.read_shift(4),i=[];a-- >0;)i.push({t:e.read_shift(4),v:e.read_shift(0,"lpp4")});if(n.name=e.read_shift(0,"lpp4"),n.comps=i,e.l!=r)throw new Error("Bad DataSpaceMapEntry: "+e.l+" != "+r);return n}function wX(e){var t=[];e.l+=4;for(var r=e.read_shift(4);r-- >0;)t.push(bX(e));return t}function NX(e){var t=[];e.l+=4;for(var r=e.read_shift(4);r-- >0;)t.push(e.read_shift(0,"lpp4"));return t}function _X(e){var t={};return e.read_shift(4),e.l+=4,t.id=e.read_shift(0,"lpp4"),t.name=e.read_shift(0,"lpp4"),t.R=of(e,4),t.U=of(e,4),t.W=of(e,4),t}function jX(e){var t=_X(e);if(t.ename=e.read_shift(0,"8lpp4"),t.blksz=e.read_shift(4),t.cmode=e.read_shift(4),e.read_shift(4)!=4)throw new Error("Bad !Primary record");return t}function bP(e,t){var r=e.l+t,n={};n.Flags=e.read_shift(4)&63,e.l+=4,n.AlgID=e.read_shift(4);var a=!1;switch(n.AlgID){case 26126:case 26127:case 26128:a=n.Flags==36;break;case 26625:a=n.Flags==4;break;case 0:a=n.Flags==16||n.Flags==4||n.Flags==36;break;default:throw"Unrecognized encryption algorithm: "+n.AlgID}if(!a)throw new Error("Encryption Flags/AlgID mismatch");return n.AlgIDHash=e.read_shift(4),n.KeySize=e.read_shift(4),n.ProviderType=e.read_shift(4),e.l+=8,n.CSPName=e.read_shift(r-e.l>>1,"utf16le"),e.l=r,n}function wP(e,t){var r={},n=e.l+t;return e.l+=4,r.Salt=e.slice(e.l,e.l+16),e.l+=16,r.Verifier=e.slice(e.l,e.l+16),e.l+=16,e.read_shift(4),r.VerifierHash=e.slice(e.l,n),e.l=n,r}function SX(e){var t=of(e);switch(t.Minor){case 2:return[t.Minor,AX(e)];case 3:return[t.Minor,EX()];case 4:return[t.Minor,kX(e)]}throw new Error("ECMA-376 Encrypted file unrecognized Version: "+t.Minor)}function AX(e){var t=e.read_shift(4);if((t&63)!=36)throw new Error("EncryptionInfo mismatch");var r=e.read_shift(4),n=bP(e,r),a=wP(e,e.length-e.l);return{t:"Std",h:n,v:a}}function EX(){throw new Error("File is password-protected: ECMA-376 Extensible")}function kX(e){var t=["saltSize","blockSize","keyBits","hashSize","cipherAlgorithm","cipherChaining","hashAlgorithm","saltValue"];e.l+=4;var r=e.read_shift(e.length-e.l,"utf8"),n={};return r.replace(Ls,function(i){var l=hr(i);switch(pu(l[0])){case"<?xml":break;case"<encryption":case"</encryption>":break;case"<keyData":t.forEach(function(o){n[o]=l[o]});break;case"<dataIntegrity":n.encryptedHmacKey=l.encryptedHmacKey,n.encryptedHmacValue=l.encryptedHmacValue;break;case"<keyEncryptors>":case"<keyEncryptors":n.encs=[];break;case"</keyEncryptors>":break;case"<keyEncryptor":n.uri=l.uri;break;case"</keyEncryptor>":break;case"<encryptedKey":n.encs.push(l);break;default:throw l[0]}}),n}function CX(e,t){var r={},n=r.EncryptionVersionInfo=of(e,4);if(t-=4,n.Minor!=2)throw new Error("unrecognized minor version code: "+n.Minor);if(n.Major>4||n.Major<2)throw new Error("unrecognized major version code: "+n.Major);r.Flags=e.read_shift(4),t-=4;var a=e.read_shift(4);return t-=4,r.EncryptionHeader=bP(e,a),t-=a,r.EncryptionVerifier=wP(e,t),r}function TX(e){var t={},r=t.EncryptionVersionInfo=of(e,4);if(r.Major!=1||r.Minor!=1)throw"unrecognized version code "+r.Major+" : "+r.Minor;return t.Salt=e.read_shift(16),t.EncryptedVerifier=e.read_shift(16),t.EncryptedVerifierHash=e.read_shift(16),t}function d3(e){var t=0,r,n=yP(e),a=n.length+1,i,l,o,u,f;for(r=Sd(a),r[0]=n.length,i=1;i!=a;++i)r[i]=n[i-1];for(i=a-1;i>=0;--i)l=r[i],o=(t&16384)===0?0:1,u=t<<1&32767,f=o|u,t=f^l;return t^52811}var NP=(function(){var e=[187,255,255,186,255,255,185,128,0,190,15,0,191,15,0],t=[57840,7439,52380,33984,4364,3600,61902,12606,6258,57657,54287,34041,10252,43370,20163],r=[44796,19929,39858,10053,20106,40212,10761,31585,63170,64933,60267,50935,40399,11199,17763,35526,1453,2906,5812,11624,23248,885,1770,3540,7080,14160,28320,56640,55369,41139,20807,41614,21821,43642,17621,28485,56970,44341,19019,38038,14605,29210,60195,50791,40175,10751,21502,43004,24537,18387,36774,3949,7898,15796,31592,63184,47201,24803,49606,37805,14203,28406,56812,17824,35648,1697,3394,6788,13576,27152,43601,17539,35078,557,1114,2228,4456,30388,60776,51953,34243,7079,14158,28316,14128,28256,56512,43425,17251,34502,7597,13105,26210,52420,35241,883,1766,3532,4129,8258,16516,33032,4657,9314,18628],n=function(l){return(l/2|l*128)&255},a=function(l,o){return n(l^o)},i=function(l){for(var o=t[l.length-1],u=104,f=l.length-1;f>=0;--f)for(var h=l[f],m=0;m!=7;++m)h&64&&(o^=r[u]),h*=2,--u;return o};return function(l){for(var o=yP(l),u=i(o),f=o.length,h=Sd(16),m=0;m!=16;++m)h[m]=0;var g,x,b;for((f&1)===1&&(g=u>>8,h[f]=a(e[0],g),--f,g=u&255,x=o[o.length-1],h[f]=a(x,g));f>0;)--f,g=u>>8,h[f]=a(o[f],g),--f,g=u&255,h[f]=a(o[f],g);for(f=15,b=15-o.length;b>0;)g=u>>8,h[f]=a(e[b],g),--f,--b,g=u&255,h[f]=a(o[f],g),--f,--b;return h}})(),OX=function(e,t,r,n,a){a||(a=t),n||(n=NP(e));var i,l;for(i=0;i!=t.length;++i)l=t[i],l^=n[r],l=(l>>5|l<<3)&255,a[i]=l,++r;return[a,r,n]},DX=function(e){var t=0,r=NP(e);return function(n){var a=OX("",n,t,r);return t=a[1],a[0]}};function FX(e,t,r,n){var a={key:ai(e),verificationBytes:ai(e)};return r.password&&(a.verifier=d3(r.password)),n.valid=a.verificationBytes===a.verifier,n.valid&&(n.insitu=DX(r.password)),a}function PX(e,t,r){var n=r||{};return n.Info=e.read_shift(2),e.l-=2,n.Info===1?n.Data=TX(e):n.Data=CX(e,t),n}function LX(e,t,r){var n={Type:r.biff>=8?e.read_shift(2):0};return n.Type?PX(e,t-2,n):FX(e,r.biff>=8?t:t-2,r,n),n}var _P=(function(){function e(a,i){switch(i.type){case"base64":return t(ro(a),i);case"binary":return t(a,i);case"buffer":return t(Tr&&Buffer.isBuffer(a)?a.toString("binary"):Md(a),i);case"array":return t(W0(a),i)}throw new Error("Unrecognized type "+i.type)}function t(a,i){var l=i||{},o=l.dense?[]:{},u=a.match(/\\trowd.*?\\row\b/g);if(!u.length)throw new Error("RTF missing table");var f={s:{c:0,r:0},e:{c:0,r:u.length-1}};return u.forEach(function(h,m){Array.isArray(o)&&(o[m]=[]);for(var g=/\\\w+\b/g,x=0,b,v=-1;b=g.exec(h);){switch(b[0]){case"\\cell":var w=h.slice(x,g.lastIndex-b[0].length);if(w[0]==" "&&(w=w.slice(1)),++v,w.length){var N={v:w,t:"s"};Array.isArray(o)?o[m][v]=N:o[fr({r:m,c:v})]=N}break}x=g.lastIndex}v>f.e.c&&(f.e.c=v)}),o["!ref"]=Nr(f),o}function r(a,i){return Rd(e(a,i),i)}function n(a){for(var i=["{\\rtf1\\ansi"],l=Jr(a["!ref"]),o,u=Array.isArray(a),f=l.s.r;f<=l.e.r;++f){i.push("\\trowd\\trautofit1");for(var h=l.s.c;h<=l.e.c;++h)i.push("\\cellx"+(h+1));for(i.push("\\pard\\intbl"),h=l.s.c;h<=l.e.c;++h){var m=fr({r:f,c:h});o=u?(a[f]||[])[h]:a[m],!(!o||o.v==null&&(!o.f||o.F))&&(i.push(" "+(o.w||(pf(o),o.w))),i.push("\\cell"))}i.push("\\pard\\intbl\\row")}return i.join("")+"}"}return{to_workbook:r,to_sheet:e,from_sheet:n}})();function MX(e){var t=e.slice(e[0]==="#"?1:0).slice(0,6);return[parseInt(t.slice(0,2),16),parseInt(t.slice(2,4),16),parseInt(t.slice(4,6),16)]}function Zx(e){for(var t=0,r=1;t!=3;++t)r=r*256+(e[t]>255?255:e[t]<0?0:e[t]);return r.toString(16).toUpperCase().slice(1)}function RX(e){var t=e[0]/255,r=e[1]/255,n=e[2]/255,a=Math.max(t,r,n),i=Math.min(t,r,n),l=a-i;if(l===0)return[0,0,t];var o=0,u=0,f=a+i;switch(u=l/(f>1?2-f:f),a){case t:o=((r-n)/l+6)%6;break;case r:o=(n-t)/l+2;break;case n:o=(t-r)/l+4;break}return[o/6,u,f/2]}function IX(e){var t=e[0],r=e[1],n=e[2],a=r*2*(n<.5?n:1-n),i=n-a/2,l=[i,i,i],o=6*t,u;if(r!==0)switch(o|0){case 0:case 6:u=a*o,l[0]+=a,l[1]+=u;break;case 1:u=a*(2-o),l[0]+=u,l[1]+=a;break;case 2:u=a*(o-2),l[1]+=a,l[2]+=u;break;case 3:u=a*(4-o),l[1]+=u,l[2]+=a;break;case 4:u=a*(o-4),l[2]+=a,l[0]+=u;break;case 5:u=a*(6-o),l[2]+=u,l[0]+=a;break}for(var f=0;f!=3;++f)l[f]=Math.round(l[f]*255);return l}function iy(e,t){if(t===0)return e;var r=RX(MX(e));return t<0?r[2]=r[2]*(1+t):r[2]=1-(1-r[2])*(1-t),Zx(IX(r))}var jP=6,BX=15,UX=1,_s=jP;function Jx(e){return Math.floor((e+Math.round(128/_s)/256)*_s)}function eg(e){return Math.floor((e-5)/_s*100+.5)/100}function sy(e){return Math.round((e*_s+5)/_s*256)/256}function kw(e){return sy(eg(Jx(e)))}function h3(e){var t=Math.abs(e-kw(e)),r=_s;if(t>.005)for(_s=UX;_s<BX;++_s)Math.abs(e-kw(e))<=t&&(t=Math.abs(e-kw(e)),r=_s);_s=r}function Ad(e){e.width?(e.wpx=Jx(e.width),e.wch=eg(e.wpx),e.MDW=_s):e.wpx?(e.wch=eg(e.wpx),e.width=sy(e.wch),e.MDW=_s):typeof e.wch=="number"&&(e.width=sy(e.wch),e.wpx=Jx(e.width),e.MDW=_s),e.customWidth&&delete e.customWidth}var zX=96,SP=zX;function tg(e){return e*96/SP}function Hm(e){return e*SP/96}var qX={None:"none",Solid:"solid",Gray50:"mediumGray",Gray75:"darkGray",Gray25:"lightGray",HorzStripe:"darkHorizontal",VertStripe:"darkVertical",ReverseDiagStripe:"darkDown",DiagStripe:"darkUp",DiagCross:"darkGrid",ThickDiagCross:"darkTrellis",ThinHorzStripe:"lightHorizontal",ThinVertStripe:"lightVertical",ThinReverseDiagStripe:"lightDown",ThinHorzCross:"lightGrid"};function $X(e,t,r,n){t.Borders=[];var a={},i=!1;(e[0].match(Ls)||[]).forEach(function(l){var o=hr(l);switch(pu(o[0])){case"<borders":case"<borders>":case"</borders>":break;case"<border":case"<border>":case"<border/>":a={},o.diagonalUp&&(a.diagonalUp=Qn(o.diagonalUp)),o.diagonalDown&&(a.diagonalDown=Qn(o.diagonalDown)),t.Borders.push(a);break;case"</border>":break;case"<left/>":break;case"<left":case"<left>":break;case"</left>":break;case"<right/>":break;case"<right":case"<right>":break;case"</right>":break;case"<top/>":break;case"<top":case"<top>":break;case"</top>":break;case"<bottom/>":break;case"<bottom":case"<bottom>":break;case"</bottom>":break;case"<diagonal":case"<diagonal>":case"<diagonal/>":break;case"</diagonal>":break;case"<horizontal":case"<horizontal>":case"<horizontal/>":break;case"</horizontal>":break;case"<vertical":case"<vertical>":case"<vertical/>":break;case"</vertical>":break;case"<start":case"<start>":case"<start/>":break;case"</start>":break;case"<end":case"<end>":case"<end/>":break;case"</end>":break;case"<color":case"<color>":break;case"<color/>":case"</color>":break;case"<extLst":case"<extLst>":case"</extLst>":break;case"<ext":i=!0;break;case"</ext>":i=!1;break;default:if(n&&n.WTF&&!i)throw new Error("unrecognized "+o[0]+" in borders")}})}function HX(e,t,r,n){t.Fills=[];var a={},i=!1;(e[0].match(Ls)||[]).forEach(function(l){var o=hr(l);switch(pu(o[0])){case"<fills":case"<fills>":case"</fills>":break;case"<fill>":case"<fill":case"<fill/>":a={},t.Fills.push(a);break;case"</fill>":break;case"<gradientFill>":break;case"<gradientFill":case"</gradientFill>":t.Fills.push(a),a={};break;case"<patternFill":case"<patternFill>":o.patternType&&(a.patternType=o.patternType);break;case"<patternFill/>":case"</patternFill>":break;case"<bgColor":a.bgColor||(a.bgColor={}),o.indexed&&(a.bgColor.indexed=parseInt(o.indexed,10)),o.theme&&(a.bgColor.theme=parseInt(o.theme,10)),o.tint&&(a.bgColor.tint=parseFloat(o.tint)),o.rgb&&(a.bgColor.rgb=o.rgb.slice(-6));break;case"<bgColor/>":case"</bgColor>":break;case"<fgColor":a.fgColor||(a.fgColor={}),o.theme&&(a.fgColor.theme=parseInt(o.theme,10)),o.tint&&(a.fgColor.tint=parseFloat(o.tint)),o.rgb!=null&&(a.fgColor.rgb=o.rgb.slice(-6));break;case"<fgColor/>":case"</fgColor>":break;case"<stop":case"<stop/>":break;case"</stop>":break;case"<color":case"<color/>":break;case"</color>":break;case"<extLst":case"<extLst>":case"</extLst>":break;case"<ext":i=!0;break;case"</ext>":i=!1;break;default:if(n&&n.WTF&&!i)throw new Error("unrecognized "+o[0]+" in fills")}})}function VX(e,t,r,n){t.Fonts=[];var a={},i=!1;(e[0].match(Ls)||[]).forEach(function(l){var o=hr(l);switch(pu(o[0])){case"<fonts":case"<fonts>":case"</fonts>":break;case"<font":case"<font>":break;case"</font>":case"<font/>":t.Fonts.push(a),a={};break;case"<name":o.val&&(a.name=Dn(o.val));break;case"<name/>":case"</name>":break;case"<b":a.bold=o.val?Qn(o.val):1;break;case"<b/>":a.bold=1;break;case"<i":a.italic=o.val?Qn(o.val):1;break;case"<i/>":a.italic=1;break;case"<u":switch(o.val){case"none":a.underline=0;break;case"single":a.underline=1;break;case"double":a.underline=2;break;case"singleAccounting":a.underline=33;break;case"doubleAccounting":a.underline=34;break}break;case"<u/>":a.underline=1;break;case"<strike":a.strike=o.val?Qn(o.val):1;break;case"<strike/>":a.strike=1;break;case"<outline":a.outline=o.val?Qn(o.val):1;break;case"<outline/>":a.outline=1;break;case"<shadow":a.shadow=o.val?Qn(o.val):1;break;case"<shadow/>":a.shadow=1;break;case"<condense":a.condense=o.val?Qn(o.val):1;break;case"<condense/>":a.condense=1;break;case"<extend":a.extend=o.val?Qn(o.val):1;break;case"<extend/>":a.extend=1;break;case"<sz":o.val&&(a.sz=+o.val);break;case"<sz/>":case"</sz>":break;case"<vertAlign":o.val&&(a.vertAlign=o.val);break;case"<vertAlign/>":case"</vertAlign>":break;case"<family":o.val&&(a.family=parseInt(o.val,10));break;case"<family/>":case"</family>":break;case"<scheme":o.val&&(a.scheme=o.val);break;case"<scheme/>":case"</scheme>":break;case"<charset":if(o.val=="1")break;o.codepage=z_[parseInt(o.val,10)];break;case"<color":if(a.color||(a.color={}),o.auto&&(a.color.auto=Qn(o.auto)),o.rgb)a.color.rgb=o.rgb.slice(-6);else if(o.indexed){a.color.index=parseInt(o.indexed,10);var u=O0[a.color.index];a.color.index==81&&(u=O0[1]),u||(u=O0[1]),a.color.rgb=u[0].toString(16)+u[1].toString(16)+u[2].toString(16)}else o.theme&&(a.color.theme=parseInt(o.theme,10),o.tint&&(a.color.tint=parseFloat(o.tint)),o.theme&&r.themeElements&&r.themeElements.clrScheme&&(a.color.rgb=iy(r.themeElements.clrScheme[a.color.theme].rgb,a.color.tint||0)));break;case"<color/>":case"</color>":break;case"<AlternateContent":i=!0;break;case"</AlternateContent>":i=!1;break;case"<extLst":case"<extLst>":case"</extLst>":break;case"<ext":i=!0;break;case"</ext>":i=!1;break;default:if(n&&n.WTF&&!i)throw new Error("unrecognized "+o[0]+" in fonts")}})}function WX(e,t,r){t.NumberFmt=[];for(var n=Ia(ur),a=0;a<n.length;++a)t.NumberFmt[n[a]]=ur[n[a]];var i=e[0].match(Ls);if(i)for(a=0;a<i.length;++a){var l=hr(i[a]);switch(pu(l[0])){case"<numFmts":case"</numFmts>":case"<numFmts/>":case"<numFmts>":break;case"<numFmt":{var o=Qr(Dn(l.formatCode)),u=parseInt(l.numFmtId,10);if(t.NumberFmt[u]=o,u>0){if(u>392){for(u=392;u>60&&t.NumberFmt[u]!=null;--u);t.NumberFmt[u]=o}lf(o,u)}}break;case"</numFmt>":break;default:if(r.WTF)throw new Error("unrecognized "+l[0]+" in numFmts")}}}function GX(e){var t=["<numFmts>"];return[[5,8],[23,26],[41,44],[50,392]].forEach(function(r){for(var n=r[0];n<=r[1];++n)e[n]!=null&&(t[t.length]=wt("numFmt",null,{numFmtId:n,formatCode:_n(e[n])}))}),t.length===1?"":(t[t.length]="</numFmts>",t[0]=wt("numFmts",null,{count:t.length-2}).replace("/>",">"),t.join(""))}var tv=["numFmtId","fillId","fontId","borderId","xfId"],rv=["applyAlignment","applyBorder","applyFill","applyFont","applyNumberFormat","applyProtection","pivotButton","quotePrefix"];function KX(e,t,r){t.CellXf=[];var n,a=!1;(e[0].match(Ls)||[]).forEach(function(i){var l=hr(i),o=0;switch(pu(l[0])){case"<cellXfs":case"<cellXfs>":case"<cellXfs/>":case"</cellXfs>":break;case"<xf":case"<xf/>":for(n=l,delete n[0],o=0;o<tv.length;++o)n[tv[o]]&&(n[tv[o]]=parseInt(n[tv[o]],10));for(o=0;o<rv.length;++o)n[rv[o]]&&(n[rv[o]]=Qn(n[rv[o]]));if(t.NumberFmt&&n.numFmtId>392){for(o=392;o>60;--o)if(t.NumberFmt[n.numFmtId]==t.NumberFmt[o]){n.numFmtId=o;break}}t.CellXf.push(n);break;case"</xf>":break;case"<alignment":case"<alignment/>":var u={};l.vertical&&(u.vertical=l.vertical),l.horizontal&&(u.horizontal=l.horizontal),l.textRotation!=null&&(u.textRotation=l.textRotation),l.indent&&(u.indent=l.indent),l.wrapText&&(u.wrapText=Qn(l.wrapText)),n.alignment=u;break;case"</alignment>":break;case"<protection":break;case"</protection>":case"<protection/>":break;case"<AlternateContent":a=!0;break;case"</AlternateContent>":a=!1;break;case"<extLst":case"<extLst>":case"</extLst>":break;case"<ext":a=!0;break;case"</ext>":a=!1;break;default:if(r&&r.WTF&&!a)throw new Error("unrecognized "+l[0]+" in cellXfs")}})}function YX(e){var t=[];return t[t.length]=wt("cellXfs",null),e.forEach(function(r){t[t.length]=wt("xf",null,r)}),t[t.length]="</cellXfs>",t.length===2?"":(t[0]=wt("cellXfs",null,{count:t.length-2}).replace("/>",">"),t.join(""))}var XX=(function(){var t=/<(?:\w+:)?numFmts([^>]*)>[\S\s]*?<\/(?:\w+:)?numFmts>/,r=/<(?:\w+:)?cellXfs([^>]*)>[\S\s]*?<\/(?:\w+:)?cellXfs>/,n=/<(?:\w+:)?fills([^>]*)>[\S\s]*?<\/(?:\w+:)?fills>/,a=/<(?:\w+:)?fonts([^>]*)>[\S\s]*?<\/(?:\w+:)?fonts>/,i=/<(?:\w+:)?borders([^>]*)>[\S\s]*?<\/(?:\w+:)?borders>/;return function(o,u,f){var h={};if(!o)return h;o=o.replace(/<!--([\s\S]*?)-->/mg,"").replace(/<!DOCTYPE[^\[]*\[[^\]]*\]>/gm,"");var m;return(m=o.match(t))&&WX(m,h,f),(m=o.match(a))&&VX(m,h,u,f),(m=o.match(n))&&HX(m,h,u,f),(m=o.match(i))&&$X(m,h,u,f),(m=o.match(r))&&KX(m,h,f),h}})();function AP(e,t){var r=[Xa,wt("styleSheet",null,{xmlns:ch[0],"xmlns:vt":Ni.vt})],n;return e.SSF&&(n=GX(e.SSF))!=null&&(r[r.length]=n),r[r.length]='<fonts count="1"><font><sz val="12"/><color theme="1"/><name val="Calibri"/><family val="2"/><scheme val="minor"/></font></fonts>',r[r.length]='<fills count="2"><fill><patternFill patternType="none"/></fill><fill><patternFill patternType="gray125"/></fill></fills>',r[r.length]='<borders count="1"><border><left/><right/><top/><bottom/><diagonal/></border></borders>',r[r.length]='<cellStyleXfs count="1"><xf numFmtId="0" fontId="0" fillId="0" borderId="0"/></cellStyleXfs>',(n=YX(t.cellXfs))&&(r[r.length]=n),r[r.length]='<cellStyles count="1"><cellStyle name="Normal" xfId="0" builtinId="0"/></cellStyles>',r[r.length]='<dxfs count="0"/>',r[r.length]='<tableStyles count="0" defaultTableStyle="TableStyleMedium9" defaultPivotStyle="PivotStyleMedium4"/>',r.length>2&&(r[r.length]="</styleSheet>",r[1]=r[1].replace("/>",">")),r.join("")}function QX(e,t){var r=e.read_shift(2),n=Ts(e);return[r,n]}function ZX(e,t,r){r||(r=Je(6+4*t.length)),r.write_shift(2,e),zi(t,r);var n=r.length>r.l?r.slice(0,r.l):r;return r.l==null&&(r.l=r.length),n}function JX(e,t,r){var n={};n.sz=e.read_shift(2)/20;var a=PG(e);a.fItalic&&(n.italic=1),a.fCondense&&(n.condense=1),a.fExtend&&(n.extend=1),a.fShadow&&(n.shadow=1),a.fOutline&&(n.outline=1),a.fStrikeout&&(n.strike=1);var i=e.read_shift(2);switch(i===700&&(n.bold=1),e.read_shift(2)){case 1:n.vertAlign="superscript";break;case 2:n.vertAlign="subscript";break}var l=e.read_shift(1);l!=0&&(n.underline=l);var o=e.read_shift(1);o>0&&(n.family=o);var u=e.read_shift(1);switch(u>0&&(n.charset=u),e.l++,n.color=FG(e),e.read_shift(1)){case 1:n.scheme="major";break;case 2:n.scheme="minor";break}return n.name=Ts(e),n}function eQ(e,t){t||(t=Je(153)),t.write_shift(2,e.sz*20),LG(e,t),t.write_shift(2,e.bold?700:400);var r=0;e.vertAlign=="superscript"?r=1:e.vertAlign=="subscript"&&(r=2),t.write_shift(2,r),t.write_shift(1,e.underline||0),t.write_shift(1,e.family||0),t.write_shift(1,e.charset||0),t.write_shift(1,0),ry(e.color,t);var n=0;return n=2,t.write_shift(1,n),zi(e.name,t),t.length>t.l?t.slice(0,t.l):t}var tQ=["none","solid","mediumGray","darkGray","lightGray","darkHorizontal","darkVertical","darkDown","darkUp","darkGrid","darkTrellis","lightHorizontal","lightVertical","lightDown","lightUp","lightGrid","lightTrellis","gray125","gray0625"],Cw,rQ=Fs;function wk(e,t){t||(t=Je(84)),Cw||(Cw=s2(tQ));var r=Cw[e.patternType];r==null&&(r=40),t.write_shift(4,r);var n=0;if(r!=40)for(ry({auto:1},t),ry({auto:1},t);n<12;++n)t.write_shift(4,0);else{for(;n<4;++n)t.write_shift(4,0);for(;n<12;++n)t.write_shift(4,0)}return t.length>t.l?t.slice(0,t.l):t}function nQ(e,t){var r=e.l+t,n=e.read_shift(2),a=e.read_shift(2);return e.l=r,{ixfe:n,numFmtId:a}}function EP(e,t,r){r||(r=Je(16)),r.write_shift(2,t||0),r.write_shift(2,e.numFmtId||0),r.write_shift(2,0),r.write_shift(2,0),r.write_shift(2,0),r.write_shift(1,0),r.write_shift(1,0);var n=0;return r.write_shift(1,n),r.write_shift(1,0),r.write_shift(1,0),r.write_shift(1,0),r}function sx(e,t){return t||(t=Je(10)),t.write_shift(1,0),t.write_shift(1,0),t.write_shift(4,0),t.write_shift(4,0),t}var aQ=Fs;function iQ(e,t){return t||(t=Je(51)),t.write_shift(1,0),sx(null,t),sx(null,t),sx(null,t),sx(null,t),sx(null,t),t.length>t.l?t.slice(0,t.l):t}function sQ(e,t){return t||(t=Je(52)),t.write_shift(4,e.xfId),t.write_shift(2,1),t.write_shift(1,0),t.write_shift(1,0),ty(e.name||"",t),t.length>t.l?t.slice(0,t.l):t}function lQ(e,t,r){var n=Je(2052);return n.write_shift(4,e),ty(t,n),ty(r,n),n.length>n.l?n.slice(0,n.l):n}function oQ(e,t,r){var n={};n.NumberFmt=[];for(var a in ur)n.NumberFmt[a]=ur[a];n.CellXf=[],n.Fonts=[];var i=[],l=!1;return jf(e,function(u,f,h){switch(h){case 44:n.NumberFmt[u[0]]=u[1],lf(u[1],u[0]);break;case 43:n.Fonts.push(u),u.color.theme!=null&&t&&t.themeElements&&t.themeElements.clrScheme&&(u.color.rgb=iy(t.themeElements.clrScheme[u.color.theme].rgb,u.color.tint||0));break;case 1025:break;case 45:break;case 46:break;case 47:i[i.length-1]==617&&n.CellXf.push(u);break;case 48:case 507:case 572:case 475:break;case 1171:case 2102:case 1130:case 512:case 2095:case 3072:break;case 35:l=!0;break;case 36:l=!1;break;case 37:i.push(h),l=!0;break;case 38:i.pop(),l=!1;break;default:if(f.T>0)i.push(h);else if(f.T<0)i.pop();else if(!l||r.WTF&&i[i.length-1]!=37)throw new Error("Unexpected record 0x"+h.toString(16))}}),n}function cQ(e,t){if(t){var r=0;[[5,8],[23,26],[41,44],[50,392]].forEach(function(n){for(var a=n[0];a<=n[1];++a)t[a]!=null&&++r}),r!=0&&(ut(e,615,Ac(r)),[[5,8],[23,26],[41,44],[50,392]].forEach(function(n){for(var a=n[0];a<=n[1];++a)t[a]!=null&&ut(e,44,ZX(a,t[a]))}),ut(e,616))}}function uQ(e){var t=1;ut(e,611,Ac(t)),ut(e,43,eQ({sz:12,color:{theme:1},name:"Calibri",family:2})),ut(e,612)}function fQ(e){var t=2;ut(e,603,Ac(t)),ut(e,45,wk({patternType:"none"})),ut(e,45,wk({patternType:"gray125"})),ut(e,604)}function dQ(e){var t=1;ut(e,613,Ac(t)),ut(e,46,iQ()),ut(e,614)}function hQ(e){var t=1;ut(e,626,Ac(t)),ut(e,47,EP({numFmtId:0},65535)),ut(e,627)}function mQ(e,t){ut(e,617,Ac(t.length)),t.forEach(function(r){ut(e,47,EP(r,0))}),ut(e,618)}function pQ(e){var t=1;ut(e,619,Ac(t)),ut(e,48,sQ({xfId:0,name:"Normal"})),ut(e,620)}function xQ(e){var t=0;ut(e,505,Ac(t)),ut(e,506)}function gQ(e){var t=0;ut(e,508,lQ(t,"TableStyleMedium9","PivotStyleMedium4")),ut(e,509)}function vQ(e,t){var r=El();return ut(r,278),cQ(r,e.SSF),uQ(r),fQ(r),dQ(r),hQ(r),mQ(r,t.cellXfs),pQ(r),xQ(r),gQ(r),ut(r,279),r.end()}var yQ=["</a:lt1>","</a:dk1>","</a:lt2>","</a:dk2>","</a:accent1>","</a:accent2>","</a:accent3>","</a:accent4>","</a:accent5>","</a:accent6>","</a:hlink>","</a:folHlink>"];function bQ(e,t,r){t.themeElements.clrScheme=[];var n={};(e[0].match(Ls)||[]).forEach(function(a){var i=hr(a);switch(i[0]){case"<a:clrScheme":case"</a:clrScheme>":break;case"<a:srgbClr":n.rgb=i.val;break;case"<a:sysClr":n.rgb=i.lastClr;break;case"<a:dk1>":case"</a:dk1>":case"<a:lt1>":case"</a:lt1>":case"<a:dk2>":case"</a:dk2>":case"<a:lt2>":case"</a:lt2>":case"<a:accent1>":case"</a:accent1>":case"<a:accent2>":case"</a:accent2>":case"<a:accent3>":case"</a:accent3>":case"<a:accent4>":case"</a:accent4>":case"<a:accent5>":case"</a:accent5>":case"<a:accent6>":case"</a:accent6>":case"<a:hlink>":case"</a:hlink>":case"<a:folHlink>":case"</a:folHlink>":i[0].charAt(1)==="/"?(t.themeElements.clrScheme[yQ.indexOf(i[0])]=n,n={}):n.name=i[0].slice(3,i[0].length-1);break;default:if(r&&r.WTF)throw new Error("Unrecognized "+i[0]+" in clrScheme")}})}function wQ(){}function NQ(){}var _Q=/<a:clrScheme([^>]*)>[\s\S]*<\/a:clrScheme>/,jQ=/<a:fontScheme([^>]*)>[\s\S]*<\/a:fontScheme>/,SQ=/<a:fmtScheme([^>]*)>[\s\S]*<\/a:fmtScheme>/;function AQ(e,t,r){t.themeElements={};var n;[["clrScheme",_Q,bQ],["fontScheme",jQ,wQ],["fmtScheme",SQ,NQ]].forEach(function(a){if(!(n=e.match(a[1])))throw new Error(a[0]+" not found in themeElements");a[2](n,t,r)})}var EQ=/<a:themeElements([^>]*)>[\s\S]*<\/a:themeElements>/;function kP(e,t){(!e||e.length===0)&&(e=m3());var r,n={};if(!(r=e.match(EQ)))throw new Error("themeElements not found in theme");return AQ(r[0],n,t),n.raw=e,n}function m3(e,t){if(t&&t.themeXLSX)return t.themeXLSX;if(e&&typeof e.raw=="string")return e.raw;var r=[Xa];return r[r.length]='<a:theme xmlns:a="http://schemas.openxmlformats.org/drawingml/2006/main" name="Office Theme">',r[r.length]="<a:themeElements>",r[r.length]='<a:clrScheme name="Office">',r[r.length]='<a:dk1><a:sysClr val="windowText" lastClr="000000"/></a:dk1>',r[r.length]='<a:lt1><a:sysClr val="window" lastClr="FFFFFF"/></a:lt1>',r[r.length]='<a:dk2><a:srgbClr val="1F497D"/></a:dk2>',r[r.length]='<a:lt2><a:srgbClr val="EEECE1"/></a:lt2>',r[r.length]='<a:accent1><a:srgbClr val="4F81BD"/></a:accent1>',r[r.length]='<a:accent2><a:srgbClr val="C0504D"/></a:accent2>',r[r.length]='<a:accent3><a:srgbClr val="9BBB59"/></a:accent3>',r[r.length]='<a:accent4><a:srgbClr val="8064A2"/></a:accent4>',r[r.length]='<a:accent5><a:srgbClr val="4BACC6"/></a:accent5>',r[r.length]='<a:accent6><a:srgbClr val="F79646"/></a:accent6>',r[r.length]='<a:hlink><a:srgbClr val="0000FF"/></a:hlink>',r[r.length]='<a:folHlink><a:srgbClr val="800080"/></a:folHlink>',r[r.length]="</a:clrScheme>",r[r.length]='<a:fontScheme name="Office">',r[r.length]="<a:majorFont>",r[r.length]='<a:latin typeface="Cambria"/>',r[r.length]='<a:ea typeface=""/>',r[r.length]='<a:cs typeface=""/>',r[r.length]='<a:font script="Jpan" typeface=" "/>',r[r.length]='<a:font script="Hang" typeface=" "/>',r[r.length]='<a:font script="Hans" typeface=""/>',r[r.length]='<a:font script="Hant" typeface=""/>',r[r.length]='<a:font script="Arab" typeface="Times New Roman"/>',r[r.length]='<a:font script="Hebr" typeface="Times New Roman"/>',r[r.length]='<a:font script="Thai" typeface="Tahoma"/>',r[r.length]='<a:font script="Ethi" typeface="Nyala"/>',r[r.length]='<a:font script="Beng" typeface="Vrinda"/>',r[r.length]='<a:font script="Gujr" typeface="Shruti"/>',r[r.length]='<a:font script="Khmr" typeface="MoolBoran"/>',r[r.length]='<a:font script="Knda" typeface="Tunga"/>',r[r.length]='<a:font script="Guru" typeface="Raavi"/>',r[r.length]='<a:font script="Cans" typeface="Euphemia"/>',r[r.length]='<a:font script="Cher" typeface="Plantagenet Cherokee"/>',r[r.length]='<a:font script="Yiii" typeface="Microsoft Yi Baiti"/>',r[r.length]='<a:font script="Tibt" typeface="Microsoft Himalaya"/>',r[r.length]='<a:font script="Thaa" typeface="MV Boli"/>',r[r.length]='<a:font script="Deva" typeface="Mangal"/>',r[r.length]='<a:font script="Telu" typeface="Gautami"/>',r[r.length]='<a:font script="Taml" typeface="Latha"/>',r[r.length]='<a:font script="Syrc" typeface="Estrangelo Edessa"/>',r[r.length]='<a:font script="Orya" typeface="Kalinga"/>',r[r.length]='<a:font script="Mlym" typeface="Kartika"/>',r[r.length]='<a:font script="Laoo" typeface="DokChampa"/>',r[r.length]='<a:font script="Sinh" typeface="Iskoola Pota"/>',r[r.length]='<a:font script="Mong" typeface="Mongolian Baiti"/>',r[r.length]='<a:font script="Viet" typeface="Times New Roman"/>',r[r.length]='<a:font script="Uigh" typeface="Microsoft Uighur"/>',r[r.length]='<a:font script="Geor" typeface="Sylfaen"/>',r[r.length]="</a:majorFont>",r[r.length]="<a:minorFont>",r[r.length]='<a:latin typeface="Calibri"/>',r[r.length]='<a:ea typeface=""/>',r[r.length]='<a:cs typeface=""/>',r[r.length]='<a:font script="Jpan" typeface=" "/>',r[r.length]='<a:font script="Hang" typeface=" "/>',r[r.length]='<a:font script="Hans" typeface=""/>',r[r.length]='<a:font script="Hant" typeface=""/>',r[r.length]='<a:font script="Arab" typeface="Arial"/>',r[r.length]='<a:font script="Hebr" typeface="Arial"/>',r[r.length]='<a:font script="Thai" typeface="Tahoma"/>',r[r.length]='<a:font script="Ethi" typeface="Nyala"/>',r[r.length]='<a:font script="Beng" typeface="Vrinda"/>',r[r.length]='<a:font script="Gujr" typeface="Shruti"/>',r[r.length]='<a:font script="Khmr" typeface="DaunPenh"/>',r[r.length]='<a:font script="Knda" typeface="Tunga"/>',r[r.length]='<a:font script="Guru" typeface="Raavi"/>',r[r.length]='<a:font script="Cans" typeface="Euphemia"/>',r[r.length]='<a:font script="Cher" typeface="Plantagenet Cherokee"/>',r[r.length]='<a:font script="Yiii" typeface="Microsoft Yi Baiti"/>',r[r.length]='<a:font script="Tibt" typeface="Microsoft Himalaya"/>',r[r.length]='<a:font script="Thaa" typeface="MV Boli"/>',r[r.length]='<a:font script="Deva" typeface="Mangal"/>',r[r.length]='<a:font script="Telu" typeface="Gautami"/>',r[r.length]='<a:font script="Taml" typeface="Latha"/>',r[r.length]='<a:font script="Syrc" typeface="Estrangelo Edessa"/>',r[r.length]='<a:font script="Orya" typeface="Kalinga"/>',r[r.length]='<a:font script="Mlym" typeface="Kartika"/>',r[r.length]='<a:font script="Laoo" typeface="DokChampa"/>',r[r.length]='<a:font script="Sinh" typeface="Iskoola Pota"/>',r[r.length]='<a:font script="Mong" typeface="Mongolian Baiti"/>',r[r.length]='<a:font script="Viet" typeface="Arial"/>',r[r.length]='<a:font script="Uigh" typeface="Microsoft Uighur"/>',r[r.length]='<a:font script="Geor" typeface="Sylfaen"/>',r[r.length]="</a:minorFont>",r[r.length]="</a:fontScheme>",r[r.length]='<a:fmtScheme name="Office">',r[r.length]="<a:fillStyleLst>",r[r.length]='<a:solidFill><a:schemeClr val="phClr"/></a:solidFill>',r[r.length]='<a:gradFill rotWithShape="1">',r[r.length]="<a:gsLst>",r[r.length]='<a:gs pos="0"><a:schemeClr val="phClr"><a:tint val="50000"/><a:satMod val="300000"/></a:schemeClr></a:gs>',r[r.length]='<a:gs pos="35000"><a:schemeClr val="phClr"><a:tint val="37000"/><a:satMod val="300000"/></a:schemeClr></a:gs>',r[r.length]='<a:gs pos="100000"><a:schemeClr val="phClr"><a:tint val="15000"/><a:satMod val="350000"/></a:schemeClr></a:gs>',r[r.length]="</a:gsLst>",r[r.length]='<a:lin ang="16200000" scaled="1"/>',r[r.length]="</a:gradFill>",r[r.length]='<a:gradFill rotWithShape="1">',r[r.length]="<a:gsLst>",r[r.length]='<a:gs pos="0"><a:schemeClr val="phClr"><a:tint val="100000"/><a:shade val="100000"/><a:satMod val="130000"/></a:schemeClr></a:gs>',r[r.length]='<a:gs pos="100000"><a:schemeClr val="phClr"><a:tint val="50000"/><a:shade val="100000"/><a:satMod val="350000"/></a:schemeClr></a:gs>',r[r.length]="</a:gsLst>",r[r.length]='<a:lin ang="16200000" scaled="0"/>',r[r.length]="</a:gradFill>",r[r.length]="</a:fillStyleLst>",r[r.length]="<a:lnStyleLst>",r[r.length]='<a:ln w="9525" cap="flat" cmpd="sng" algn="ctr"><a:solidFill><a:schemeClr val="phClr"><a:shade val="95000"/><a:satMod val="105000"/></a:schemeClr></a:solidFill><a:prstDash val="solid"/></a:ln>',r[r.length]='<a:ln w="25400" cap="flat" cmpd="sng" algn="ctr"><a:solidFill><a:schemeClr val="phClr"/></a:solidFill><a:prstDash val="solid"/></a:ln>',r[r.length]='<a:ln w="38100" cap="flat" cmpd="sng" algn="ctr"><a:solidFill><a:schemeClr val="phClr"/></a:solidFill><a:prstDash val="solid"/></a:ln>',r[r.length]="</a:lnStyleLst>",r[r.length]="<a:effectStyleLst>",r[r.length]="<a:effectStyle>",r[r.length]="<a:effectLst>",r[r.length]='<a:outerShdw blurRad="40000" dist="20000" dir="5400000" rotWithShape="0"><a:srgbClr val="000000"><a:alpha val="38000"/></a:srgbClr></a:outerShdw>',r[r.length]="</a:effectLst>",r[r.length]="</a:effectStyle>",r[r.length]="<a:effectStyle>",r[r.length]="<a:effectLst>",r[r.length]='<a:outerShdw blurRad="40000" dist="23000" dir="5400000" rotWithShape="0"><a:srgbClr val="000000"><a:alpha val="35000"/></a:srgbClr></a:outerShdw>',r[r.length]="</a:effectLst>",r[r.length]="</a:effectStyle>",r[r.length]="<a:effectStyle>",r[r.length]="<a:effectLst>",r[r.length]='<a:outerShdw blurRad="40000" dist="23000" dir="5400000" rotWithShape="0"><a:srgbClr val="000000"><a:alpha val="35000"/></a:srgbClr></a:outerShdw>',r[r.length]="</a:effectLst>",r[r.length]='<a:scene3d><a:camera prst="orthographicFront"><a:rot lat="0" lon="0" rev="0"/></a:camera><a:lightRig rig="threePt" dir="t"><a:rot lat="0" lon="0" rev="1200000"/></a:lightRig></a:scene3d>',r[r.length]='<a:sp3d><a:bevelT w="63500" h="25400"/></a:sp3d>',r[r.length]="</a:effectStyle>",r[r.length]="</a:effectStyleLst>",r[r.length]="<a:bgFillStyleLst>",r[r.length]='<a:solidFill><a:schemeClr val="phClr"/></a:solidFill>',r[r.length]='<a:gradFill rotWithShape="1">',r[r.length]="<a:gsLst>",r[r.length]='<a:gs pos="0"><a:schemeClr val="phClr"><a:tint val="40000"/><a:satMod val="350000"/></a:schemeClr></a:gs>',r[r.length]='<a:gs pos="40000"><a:schemeClr val="phClr"><a:tint val="45000"/><a:shade val="99000"/><a:satMod val="350000"/></a:schemeClr></a:gs>',r[r.length]='<a:gs pos="100000"><a:schemeClr val="phClr"><a:shade val="20000"/><a:satMod val="255000"/></a:schemeClr></a:gs>',r[r.length]="</a:gsLst>",r[r.length]='<a:path path="circle"><a:fillToRect l="50000" t="-80000" r="50000" b="180000"/></a:path>',r[r.length]="</a:gradFill>",r[r.length]='<a:gradFill rotWithShape="1">',r[r.length]="<a:gsLst>",r[r.length]='<a:gs pos="0"><a:schemeClr val="phClr"><a:tint val="80000"/><a:satMod val="300000"/></a:schemeClr></a:gs>',r[r.length]='<a:gs pos="100000"><a:schemeClr val="phClr"><a:shade val="30000"/><a:satMod val="200000"/></a:schemeClr></a:gs>',r[r.length]="</a:gsLst>",r[r.length]='<a:path path="circle"><a:fillToRect l="50000" t="50000" r="50000" b="50000"/></a:path>',r[r.length]="</a:gradFill>",r[r.length]="</a:bgFillStyleLst>",r[r.length]="</a:fmtScheme>",r[r.length]="</a:themeElements>",r[r.length]="<a:objectDefaults>",r[r.length]="<a:spDef>",r[r.length]='<a:spPr/><a:bodyPr/><a:lstStyle/><a:style><a:lnRef idx="1"><a:schemeClr val="accent1"/></a:lnRef><a:fillRef idx="3"><a:schemeClr val="accent1"/></a:fillRef><a:effectRef idx="2"><a:schemeClr val="accent1"/></a:effectRef><a:fontRef idx="minor"><a:schemeClr val="lt1"/></a:fontRef></a:style>',r[r.length]="</a:spDef>",r[r.length]="<a:lnDef>",r[r.length]='<a:spPr/><a:bodyPr/><a:lstStyle/><a:style><a:lnRef idx="2"><a:schemeClr val="accent1"/></a:lnRef><a:fillRef idx="0"><a:schemeClr val="accent1"/></a:fillRef><a:effectRef idx="1"><a:schemeClr val="accent1"/></a:effectRef><a:fontRef idx="minor"><a:schemeClr val="tx1"/></a:fontRef></a:style>',r[r.length]="</a:lnDef>",r[r.length]="</a:objectDefaults>",r[r.length]="<a:extraClrSchemeLst/>",r[r.length]="</a:theme>",r.join("")}function kQ(e,t,r){var n=e.l+t,a=e.read_shift(4);if(a!==124226){if(!r.cellStyles){e.l=n;return}var i=e.slice(e.l);e.l=n;var l;try{l=bF(i,{type:"array"})}catch{return}var o=Zl(l,"theme/theme/theme1.xml",!0);if(o)return kP(o,r)}}function CQ(e){return e.read_shift(4)}function TQ(e){var t={};switch(t.xclrType=e.read_shift(2),t.nTintShade=e.read_shift(2),t.xclrType){case 0:e.l+=4;break;case 1:t.xclrValue=OQ(e,4);break;case 2:t.xclrValue=lP(e);break;case 3:t.xclrValue=CQ(e);break;case 4:e.l+=4;break}return e.l+=8,t}function OQ(e,t){return Fs(e,t)}function DQ(e,t){return Fs(e,t)}function FQ(e){var t=e.read_shift(2),r=e.read_shift(2)-4,n=[t];switch(t){case 4:case 5:case 7:case 8:case 9:case 10:case 11:case 13:n[1]=TQ(e);break;case 6:n[1]=DQ(e,r);break;case 14:case 15:n[1]=e.read_shift(r===1?1:2);break;default:throw new Error("Unrecognized ExtProp type: "+t+" "+r)}return n}function PQ(e,t){var r=e.l+t;e.l+=2;var n=e.read_shift(2);e.l+=2;for(var a=e.read_shift(2),i=[];a-- >0;)i.push(FQ(e,r-e.l));return{ixfe:n,ext:i}}function LQ(e,t){t.forEach(function(r){r[0]})}function MQ(e,t){return{flags:e.read_shift(4),version:e.read_shift(4),name:Ts(e)}}function RQ(e){var t=Je(12+2*e.name.length);return t.write_shift(4,e.flags),t.write_shift(4,e.version),zi(e.name,t),t.slice(0,t.l)}function IQ(e){for(var t=[],r=e.read_shift(4);r-- >0;)t.push([e.read_shift(4),e.read_shift(4)]);return t}function BQ(e){var t=Je(4+8*e.length);t.write_shift(4,e.length);for(var r=0;r<e.length;++r)t.write_shift(4,e[r][0]),t.write_shift(4,e[r][1]);return t}function UQ(e,t){var r=Je(8+2*t.length);return r.write_shift(4,e),zi(t,r),r.slice(0,r.l)}function zQ(e){return e.l+=4,e.read_shift(4)!=0}function qQ(e,t){var r=Je(8);return r.write_shift(4,e),r.write_shift(4,1),r}function $Q(e,t,r){var n={Types:[],Cell:[],Value:[]},a=r||{},i=[],l=!1,o=2;return jf(e,function(u,f,h){switch(h){case 335:n.Types.push({name:u.name});break;case 51:u.forEach(function(m){o==1?n.Cell.push({type:n.Types[m[0]-1].name,index:m[1]}):o==0&&n.Value.push({type:n.Types[m[0]-1].name,index:m[1]})});break;case 337:o=u?1:0;break;case 338:o=2;break;case 35:i.push(h),l=!0;break;case 36:i.pop(),l=!1;break;default:if(!f.T){if(!l||a.WTF&&i[i.length-1]!=35)throw new Error("Unexpected record 0x"+h.toString(16))}}}),n}function HQ(){var e=El();return ut(e,332),ut(e,334,Ac(1)),ut(e,335,RQ({name:"XLDAPR",version:12e4,flags:3496657072})),ut(e,336),ut(e,339,UQ(1,"XLDAPR")),ut(e,52),ut(e,35,Ac(514)),ut(e,4096,Ac(0)),ut(e,4097,Po(1)),ut(e,36),ut(e,53),ut(e,340),ut(e,337,qQ(1)),ut(e,51,BQ([[1,0]])),ut(e,338),ut(e,333),e.end()}function VQ(e,t,r){var n={Types:[],Cell:[],Value:[]};if(!e)return n;var a=!1,i=2,l;return e.replace(Ls,function(o){var u=hr(o);switch(pu(u[0])){case"<?xml":break;case"<metadata":case"</metadata>":break;case"<metadataTypes":case"</metadataTypes>":break;case"<metadataType":n.Types.push({name:u.name});break;case"</metadataType>":break;case"<futureMetadata":for(var f=0;f<n.Types.length;++f)n.Types[f].name==u.name&&(l=n.Types[f]);break;case"</futureMetadata>":break;case"<bk>":break;case"</bk>":break;case"<rc":i==1?n.Cell.push({type:n.Types[u.t-1].name,index:+u.v}):i==0&&n.Value.push({type:n.Types[u.t-1].name,index:+u.v});break;case"</rc>":break;case"<cellMetadata":i=1;break;case"</cellMetadata>":i=2;break;case"<valueMetadata":i=0;break;case"</valueMetadata>":i=2;break;case"<extLst":case"<extLst>":case"</extLst>":case"<extLst/>":break;case"<ext":a=!0;break;case"</ext>":a=!1;break;case"<rvb":if(!l)break;l.offsets||(l.offsets=[]),l.offsets.push(+u.i);break;default:if(!a&&r.WTF)throw new Error("unrecognized "+u[0]+" in metadata")}return o}),n}function CP(){var e=[Xa];return e.push(`<metadata xmlns="http://schemas.openxmlformats.org/spreadsheetml/2006/main" xmlns:xlrd="http://schemas.microsoft.com/office/spreadsheetml/2017/richdata" xmlns:xda="http://schemas.microsoft.com/office/spreadsheetml/2017/dynamicarray">
  <metadataTypes count="1">
    <metadataType name="XLDAPR" minSupportedVersion="120000" copy="1" pasteAll="1" pasteValues="1" merge="1" splitFirst="1" rowColShift="1" clearFormats="1" clearComments="1" assign="1" coerce="1" cellMeta="1"/>
  </metadataTypes>
  <futureMetadata name="XLDAPR" count="1">
    <bk>
      <extLst>
        <ext uri="{bdbb8cdc-fa1e-496e-a857-3c3f30c029c3}">
          <xda:dynamicArrayProperties fDynamic="1" fCollapsed="0"/>
        </ext>
      </extLst>
    </bk>
  </futureMetadata>
  <cellMetadata count="1">
    <bk>
      <rc t="1" v="0"/>
    </bk>
  </cellMetadata>
</metadata>`),e.join("")}function WQ(e){var t=[];if(!e)return t;var r=1;return(e.match(Ls)||[]).forEach(function(n){var a=hr(n);switch(a[0]){case"<?xml":break;case"<calcChain":case"<calcChain>":case"</calcChain>":break;case"<c":delete a[0],a.i?r=a.i:a.i=r,t.push(a);break}}),t}function GQ(e){var t={};t.i=e.read_shift(4);var r={};r.r=e.read_shift(4),r.c=e.read_shift(4),t.r=fr(r);var n=e.read_shift(1);return n&2&&(t.l="1"),n&8&&(t.a="1"),t}function KQ(e,t,r){var n=[];return jf(e,function(i,l,o){switch(o){case 63:n.push(i);break;default:if(!l.T)throw new Error("Unexpected record 0x"+o.toString(16))}}),n}function YQ(e,t,r,n){if(!e)return e;var a=n||{},i=!1;jf(e,function(o,u,f){switch(f){case 359:case 363:case 364:case 366:case 367:case 368:case 369:case 370:case 371:case 472:case 577:case 578:case 579:case 580:case 581:case 582:case 583:case 584:case 585:case 586:case 587:break;case 35:i=!0;break;case 36:i=!1;break;default:if(!u.T){if(!i||a.WTF)throw new Error("Unexpected record 0x"+f.toString(16))}}},a)}function XQ(e,t){if(!e)return"??";var r=(e.match(/<c:chart [^>]*r:id="([^"]*)"/)||["",""])[1];return t["!id"][r].Target}var Nm=1024;function TP(e,t){for(var r=[21600,21600],n=["m0,0l0",r[1],r[0],r[1],r[0],"0xe"].join(","),a=[wt("xml",null,{"xmlns:v":Kl.v,"xmlns:o":Kl.o,"xmlns:x":Kl.x,"xmlns:mv":Kl.mv}).replace(/\/>/,">"),wt("o:shapelayout",wt("o:idmap",null,{"v:ext":"edit",data:e}),{"v:ext":"edit"}),wt("v:shapetype",[wt("v:stroke",null,{joinstyle:"miter"}),wt("v:path",null,{gradientshapeok:"t","o:connecttype":"rect"})].join(""),{id:"_x0000_t202","o:spt":202,coordsize:r.join(","),path:n})];Nm<e*1e3;)Nm+=1e3;return t.forEach(function(i){var l=ja(i[0]),o={color2:"#BEFF82",type:"gradient"};o.type=="gradient"&&(o.angle="-180");var u=o.type=="gradient"?wt("o:fill",null,{type:"gradientUnscaled","v:ext":"view"}):null,f=wt("v:fill",u,o),h={on:"t",obscured:"t"};++Nm,a=a.concat(["<v:shape"+Yx({id:"_x0000_s"+Nm,type:"#_x0000_t202",style:"position:absolute; margin-left:80pt;margin-top:5pt;width:104pt;height:64pt;z-index:10"+(i[1].hidden?";visibility:hidden":""),fillcolor:"#ECFAD4",strokecolor:"#edeaa1"})+">",f,wt("v:shadow",null,h),wt("v:path",null,{"o:connecttype":"none"}),'<v:textbox><div style="text-align:left"></div></v:textbox>','<x:ClientData ObjectType="Note">',"<x:MoveWithCells/>","<x:SizeWithCells/>",ss("x:Anchor",[l.c+1,0,l.r+1,0,l.c+3,20,l.r+5,20].join(",")),ss("x:AutoFill","False"),ss("x:Row",String(l.r)),ss("x:Column",String(l.c)),i[1].hidden?"":"<x:Visible/>","</x:ClientData>","</v:shape>"])}),a.push("</xml>"),a.join("")}function Nk(e,t,r,n){var a=Array.isArray(e),i;t.forEach(function(l){var o=ja(l.ref);if(a?(e[o.r]||(e[o.r]=[]),i=e[o.r][o.c]):i=e[l.ref],!i){i={t:"z"},a?e[o.r][o.c]=i:e[l.ref]=i;var u=Jr(e["!ref"]||"BDWGO1000001:A1");u.s.r>o.r&&(u.s.r=o.r),u.e.r<o.r&&(u.e.r=o.r),u.s.c>o.c&&(u.s.c=o.c),u.e.c<o.c&&(u.e.c=o.c);var f=Nr(u);f!==e["!ref"]&&(e["!ref"]=f)}i.c||(i.c=[]);var h={a:l.author,t:l.t,r:l.r,T:r};l.h&&(h.h=l.h);for(var m=i.c.length-1;m>=0;--m){if(!r&&i.c[m].T)return;r&&!i.c[m].T&&i.c.splice(m,1)}if(r&&n){for(m=0;m<n.length;++m)if(h.a==n[m].id){h.a=n[m].name||h.a;break}}i.c.push(h)})}function QQ(e,t){if(e.match(/<(?:\w+:)?comments *\/>/))return[];var r=[],n=[],a=e.match(/<(?:\w+:)?authors>([\s\S]*)<\/(?:\w+:)?authors>/);a&&a[1]&&a[1].split(/<\/\w*:?author>/).forEach(function(l){if(!(l===""||l.trim()==="")){var o=l.match(/<(?:\w+:)?author[^>]*>(.*)/);o&&r.push(o[1])}});var i=e.match(/<(?:\w+:)?commentList>([\s\S]*)<\/(?:\w+:)?commentList>/);return i&&i[1]&&i[1].split(/<\/\w*:?comment>/).forEach(function(l){if(!(l===""||l.trim()==="")){var o=l.match(/<(?:\w+:)?comment[^>]*>/);if(o){var u=hr(o[0]),f={author:u.authorId&&r[u.authorId]||"sheetjsghost",ref:u.ref,guid:u.guid},h=ja(u.ref);if(!(t.sheetRows&&t.sheetRows<=h.r)){var m=l.match(/<(?:\w+:)?text>([\s\S]*)<\/(?:\w+:)?text>/),g=!!m&&!!m[1]&&f3(m[1])||{r:"",t:"",h:""};f.r=g.r,g.r=="<t></t>"&&(g.t=g.h=""),f.t=(g.t||"").replace(/\r\n/g,`
`).replace(/\r/g,`
`),t.cellHTML&&(f.h=g.h),n.push(f)}}}}),n}function OP(e){var t=[Xa,wt("comments",null,{xmlns:ch[0]})],r=[];return t.push("<authors>"),e.forEach(function(n){n[1].forEach(function(a){var i=_n(a.a);r.indexOf(i)==-1&&(r.push(i),t.push("<author>"+i+"</author>")),a.T&&a.ID&&r.indexOf("tc="+a.ID)==-1&&(r.push("tc="+a.ID),t.push("<author>tc="+a.ID+"</author>"))})}),r.length==0&&(r.push("SheetJ5"),t.push("<author>SheetJ5</author>")),t.push("</authors>"),t.push("<commentList>"),e.forEach(function(n){var a=0,i=[];if(n[1][0]&&n[1][0].T&&n[1][0].ID?a=r.indexOf("tc="+n[1][0].ID):n[1].forEach(function(u){u.a&&(a=r.indexOf(_n(u.a))),i.push(u.t||"")}),t.push('<comment ref="'+n[0]+'" authorId="'+a+'"><text>'),i.length<=1)t.push(ss("t",_n(i[0]||"")));else{for(var l=`Comment:
    `+i[0]+`
`,o=1;o<i.length;++o)l+=`Reply:
    `+i[o]+`
`;t.push(ss("t",_n(l)))}t.push("</text></comment>")}),t.push("</commentList>"),t.length>2&&(t[t.length]="</comments>",t[1]=t[1].replace("/>",">")),t.join("")}function ZQ(e,t){var r=[],n=!1,a={},i=0;return e.replace(Ls,function(o,u){var f=hr(o);switch(pu(f[0])){case"<?xml":break;case"<ThreadedComments":break;case"</ThreadedComments>":break;case"<threadedComment":a={author:f.personId,guid:f.id,ref:f.ref,T:1};break;case"</threadedComment>":a.t!=null&&r.push(a);break;case"<text>":case"<text":i=u+o.length;break;case"</text>":a.t=e.slice(i,u).replace(/\r\n/g,`
`).replace(/\r/g,`
`);break;case"<mentions":case"<mentions>":n=!0;break;case"</mentions>":n=!1;break;case"<extLst":case"<extLst>":case"</extLst>":case"<extLst/>":break;case"<ext":n=!0;break;case"</ext>":n=!1;break;default:if(!n&&t.WTF)throw new Error("unrecognized "+f[0]+" in threaded comments")}return o}),r}function JQ(e,t,r){var n=[Xa,wt("ThreadedComments",null,{xmlns:Ni.TCMNT}).replace(/[\/]>/,">")];return e.forEach(function(a){var i="";(a[1]||[]).forEach(function(l,o){if(!l.T){delete l.ID;return}l.a&&t.indexOf(l.a)==-1&&t.push(l.a);var u={ref:a[0],id:"{54EE7951-7262-4200-6969-"+("000000000000"+r.tcid++).slice(-12)+"}"};o==0?i=u.id:u.parentId=i,l.ID=u.id,l.a&&(u.personId="{54EE7950-7262-4200-6969-"+("000000000000"+t.indexOf(l.a)).slice(-12)+"}"),n.push(wt("threadedComment",ss("text",l.t||""),u))})}),n.push("</ThreadedComments>"),n.join("")}function eZ(e,t){var r=[],n=!1;return e.replace(Ls,function(i){var l=hr(i);switch(pu(l[0])){case"<?xml":break;case"<personList":break;case"</personList>":break;case"<person":r.push({name:l.displayname,id:l.id});break;case"</person>":break;case"<extLst":case"<extLst>":case"</extLst>":case"<extLst/>":break;case"<ext":n=!0;break;case"</ext>":n=!1;break;default:if(!n&&t.WTF)throw new Error("unrecognized "+l[0]+" in threaded comments")}return i}),r}function tZ(e){var t=[Xa,wt("personList",null,{xmlns:Ni.TCMNT,"xmlns:x":ch[0]}).replace(/[\/]>/,">")];return e.forEach(function(r,n){t.push(wt("person",null,{displayName:r,id:"{54EE7950-7262-4200-6969-"+("000000000000"+n).slice(-12)+"}",userId:r,providerId:"None"}))}),t.push("</personList>"),t.join("")}function rZ(e){var t={};t.iauthor=e.read_shift(4);var r=hh(e);return t.rfx=r.s,t.ref=fr(r.s),e.l+=16,t}function nZ(e,t){return t==null&&(t=Je(36)),t.write_shift(4,e[1].iauthor),op(e[0],t),t.write_shift(4,0),t.write_shift(4,0),t.write_shift(4,0),t.write_shift(4,0),t}var aZ=Ts;function iZ(e){return zi(e.slice(0,54))}function sZ(e,t){var r=[],n=[],a={},i=!1;return jf(e,function(o,u,f){switch(f){case 632:n.push(o);break;case 635:a=o;break;case 637:a.t=o.t,a.h=o.h,a.r=o.r;break;case 636:if(a.author=n[a.iauthor],delete a.iauthor,t.sheetRows&&a.rfx&&t.sheetRows<=a.rfx.r)break;a.t||(a.t=""),delete a.rfx,r.push(a);break;case 3072:break;case 35:i=!0;break;case 36:i=!1;break;case 37:break;case 38:break;default:if(!u.T){if(!i||t.WTF)throw new Error("Unexpected record 0x"+f.toString(16))}}}),r}function lZ(e){var t=El(),r=[];return ut(t,628),ut(t,630),e.forEach(function(n){n[1].forEach(function(a){r.indexOf(a.a)>-1||(r.push(a.a.slice(0,54)),ut(t,632,iZ(a.a)))})}),ut(t,631),ut(t,633),e.forEach(function(n){n[1].forEach(function(a){a.iauthor=r.indexOf(a.a);var i={s:ja(n[0]),e:ja(n[0])};ut(t,635,nZ([i,a])),a.t&&a.t.length>0&&ut(t,637,CG(a)),ut(t,636),delete a.iauthor})}),ut(t,634),ut(t,629),t.end()}var oZ="application/vnd.ms-office.vbaProject";function cZ(e){var t=nr.utils.cfb_new({root:"R"});return e.FullPaths.forEach(function(r,n){if(!(r.slice(-1)==="/"||!r.match(/_VBA_PROJECT_CUR/))){var a=r.replace(/^[^\/]*/,"R").replace(/\/_VBA_PROJECT_CUR\u0000*/,"");nr.utils.cfb_add(t,a,e.FileIndex[n].content)}}),nr.write(t)}function uZ(e,t){t.FullPaths.forEach(function(r,n){if(n!=0){var a=r.replace(/[^\/]*[\/]/,"/_VBA_PROJECT_CUR/");a.slice(-1)!=="/"&&nr.utils.cfb_add(e,a,t.FileIndex[n].content)}})}var DP=["xlsb","xlsm","xlam","biff8","xla"];function fZ(){return{"!type":"dialog"}}function dZ(){return{"!type":"dialog"}}function hZ(){return{"!type":"macro"}}function mZ(){return{"!type":"macro"}}var Om=(function(){var e=/(^|[^A-Za-z_])R(\[?-?\d+\]|[1-9]\d*|)C(\[?-?\d+\]|[1-9]\d*|)(?![A-Za-z0-9_])/g,t={r:0,c:0};function r(n,a,i,l){var o=!1,u=!1;i.length==0?u=!0:i.charAt(0)=="["&&(u=!0,i=i.slice(1,-1)),l.length==0?o=!0:l.charAt(0)=="["&&(o=!0,l=l.slice(1,-1));var f=i.length>0?parseInt(i,10)|0:0,h=l.length>0?parseInt(l,10)|0:0;return o?h+=t.c:--h,u?f+=t.r:--f,a+(o?"":"$")+_a(h)+(u?"":"$")+Ya(f)}return function(a,i){return t=i,a.replace(e,r)}})(),p3=/(^|[^._A-Z0-9])([$]?)([A-Z]{1,2}|[A-W][A-Z]{2}|X[A-E][A-Z]|XF[A-D])([$]?)(10[0-3]\d{4}|104[0-7]\d{3}|1048[0-4]\d{2}|10485[0-6]\d|104857[0-6]|[1-9]\d{0,5})(?![_.\(A-Za-z0-9])/g,x3=(function(){return function(t,r){return t.replace(p3,function(n,a,i,l,o,u){var f=r3(l)-(i?0:r.c),h=t3(u)-(o?0:r.r),m=h==0?"":o?h+1:"["+h+"]",g=f==0?"":i?f+1:"["+f+"]";return a+"R"+m+"C"+g})}})();function FP(e,t){return e.replace(p3,function(r,n,a,i,l,o){return n+(a=="$"?a+i:_a(r3(i)+t.c))+(l=="$"?l+o:Ya(t3(o)+t.r))})}function pZ(e,t,r){var n=Cl(t),a=n.s,i=ja(r),l={r:i.r-a.r,c:i.c-a.c};return FP(e,l)}function xZ(e){return e.length!=1}function _k(e){return e.replace(/_xlfn\./g,"")}function ri(e){e.l+=1}function Ed(e,t){var r=e.read_shift(2);return[r&16383,r>>14&1,r>>15&1]}function PP(e,t,r){var n=2;if(r){if(r.biff>=2&&r.biff<=5)return LP(e);r.biff==12&&(n=4)}var a=e.read_shift(n),i=e.read_shift(n),l=Ed(e),o=Ed(e);return{s:{r:a,c:l[0],cRel:l[1],rRel:l[2]},e:{r:i,c:o[0],cRel:o[1],rRel:o[2]}}}function LP(e){var t=Ed(e),r=Ed(e),n=e.read_shift(1),a=e.read_shift(1);return{s:{r:t[0],c:n,cRel:t[1],rRel:t[2]},e:{r:r[0],c:a,cRel:r[1],rRel:r[2]}}}function gZ(e,t,r){if(r.biff<8)return LP(e);var n=e.read_shift(r.biff==12?4:2),a=e.read_shift(r.biff==12?4:2),i=Ed(e),l=Ed(e);return{s:{r:n,c:i[0],cRel:i[1],rRel:i[2]},e:{r:a,c:l[0],cRel:l[1],rRel:l[2]}}}function MP(e,t,r){if(r&&r.biff>=2&&r.biff<=5)return vZ(e);var n=e.read_shift(r&&r.biff==12?4:2),a=Ed(e);return{r:n,c:a[0],cRel:a[1],rRel:a[2]}}function vZ(e){var t=Ed(e),r=e.read_shift(1);return{r:t[0],c:r,cRel:t[1],rRel:t[2]}}function yZ(e){var t=e.read_shift(2),r=e.read_shift(2);return{r:t,c:r&255,fQuoted:!!(r&16384),cRel:r>>15,rRel:r>>15}}function bZ(e,t,r){var n=r&&r.biff?r.biff:8;if(n>=2&&n<=5)return wZ(e);var a=e.read_shift(n>=12?4:2),i=e.read_shift(2),l=(i&16384)>>14,o=(i&32768)>>15;if(i&=16383,o==1)for(;a>524287;)a-=1048576;if(l==1)for(;i>8191;)i=i-16384;return{r:a,c:i,cRel:l,rRel:o}}function wZ(e){var t=e.read_shift(2),r=e.read_shift(1),n=(t&32768)>>15,a=(t&16384)>>14;return t&=16383,n==1&&t>=8192&&(t=t-16384),a==1&&r>=128&&(r=r-256),{r:t,c:r,cRel:a,rRel:n}}function NZ(e,t,r){var n=(e[e.l++]&96)>>5,a=PP(e,r.biff>=2&&r.biff<=5?6:8,r);return[n,a]}function _Z(e,t,r){var n=(e[e.l++]&96)>>5,a=e.read_shift(2,"i"),i=8;if(r)switch(r.biff){case 5:e.l+=12,i=6;break;case 12:i=12;break}var l=PP(e,i,r);return[n,a,l]}function jZ(e,t,r){var n=(e[e.l++]&96)>>5;return e.l+=r&&r.biff>8?12:r.biff<8?6:8,[n]}function SZ(e,t,r){var n=(e[e.l++]&96)>>5,a=e.read_shift(2),i=8;if(r)switch(r.biff){case 5:e.l+=12,i=6;break;case 12:i=12;break}return e.l+=i,[n,a]}function AZ(e,t,r){var n=(e[e.l++]&96)>>5,a=gZ(e,t-1,r);return[n,a]}function EZ(e,t,r){var n=(e[e.l++]&96)>>5;return e.l+=r.biff==2?6:r.biff==12?14:7,[n]}function jk(e){var t=e[e.l+1]&1,r=1;return e.l+=4,[t,r]}function kZ(e,t,r){e.l+=2;for(var n=e.read_shift(r&&r.biff==2?1:2),a=[],i=0;i<=n;++i)a.push(e.read_shift(r&&r.biff==2?1:2));return a}function CZ(e,t,r){var n=e[e.l+1]&255?1:0;return e.l+=2,[n,e.read_shift(r&&r.biff==2?1:2)]}function TZ(e,t,r){var n=e[e.l+1]&255?1:0;return e.l+=2,[n,e.read_shift(r&&r.biff==2?1:2)]}function OZ(e){var t=e[e.l+1]&255?1:0;return e.l+=2,[t,e.read_shift(2)]}function DZ(e,t,r){var n=e[e.l+1]&255?1:0;return e.l+=r&&r.biff==2?3:4,[n]}function RP(e){var t=e.read_shift(1),r=e.read_shift(1);return[t,r]}function FZ(e){return e.read_shift(2),RP(e)}function PZ(e){return e.read_shift(2),RP(e)}function LZ(e,t,r){var n=(e[e.l]&96)>>5;e.l+=1;var a=MP(e,0,r);return[n,a]}function MZ(e,t,r){var n=(e[e.l]&96)>>5;e.l+=1;var a=bZ(e,0,r);return[n,a]}function RZ(e,t,r){var n=(e[e.l]&96)>>5;e.l+=1;var a=e.read_shift(2);r&&r.biff==5&&(e.l+=12);var i=MP(e,0,r);return[n,a,i]}function IZ(e,t,r){var n=(e[e.l]&96)>>5;e.l+=1;var a=e.read_shift(r&&r.biff<=3?1:2);return[zJ[a],UP[a],n]}function BZ(e,t,r){var n=e[e.l++],a=e.read_shift(1),i=r&&r.biff<=3?[n==88?-1:0,e.read_shift(1)]:UZ(e);return[a,(i[0]===0?UP:UJ)[i[1]]]}function UZ(e){return[e[e.l+1]>>7,e.read_shift(2)&32767]}function zZ(e,t,r){e.l+=r&&r.biff==2?3:4}function qZ(e,t,r){if(e.l++,r&&r.biff==12)return[e.read_shift(4,"i"),0];var n=e.read_shift(2),a=e.read_shift(r&&r.biff==2?1:2);return[n,a]}function $Z(e){return e.l++,Sf[e.read_shift(1)]}function HZ(e){return e.l++,e.read_shift(2)}function VZ(e){return e.l++,e.read_shift(1)!==0}function WZ(e){return e.l++,Ss(e)}function GZ(e,t,r){return e.l++,Sg(e,t-1,r)}function KZ(e,t){var r=[e.read_shift(1)];if(t==12)switch(r[0]){case 2:r[0]=4;break;case 4:r[0]=16;break;case 0:r[0]=1;break;case 1:r[0]=2;break}switch(r[0]){case 4:r[1]=$a(e,1)?"TRUE":"FALSE",t!=12&&(e.l+=7);break;case 37:case 16:r[1]=Sf[e[e.l]],e.l+=t==12?4:8;break;case 0:e.l+=8;break;case 1:r[1]=Ss(e);break;case 2:r[1]=mh(e,0,{biff:t>0&&t<8?2:t});break;default:throw new Error("Bad SerAr: "+r[0])}return r}function YZ(e,t,r){for(var n=e.read_shift(r.biff==12?4:2),a=[],i=0;i!=n;++i)a.push((r.biff==12?hh:c2)(e));return a}function XZ(e,t,r){var n=0,a=0;r.biff==12?(n=e.read_shift(4),a=e.read_shift(4)):(a=1+e.read_shift(1),n=1+e.read_shift(2)),r.biff>=2&&r.biff<8&&(--n,--a==0&&(a=256));for(var i=0,l=[];i!=n&&(l[i]=[]);++i)for(var o=0;o!=a;++o)l[i][o]=KZ(e,r.biff);return l}function QZ(e,t,r){var n=e.read_shift(1)>>>5&3,a=!r||r.biff>=8?4:2,i=e.read_shift(a);switch(r.biff){case 2:e.l+=5;break;case 3:case 4:e.l+=8;break;case 5:e.l+=12;break}return[n,0,i]}function ZZ(e,t,r){if(r.biff==5)return JZ(e);var n=e.read_shift(1)>>>5&3,a=e.read_shift(2),i=e.read_shift(4);return[n,a,i]}function JZ(e){var t=e.read_shift(1)>>>5&3,r=e.read_shift(2,"i");e.l+=8;var n=e.read_shift(2);return e.l+=12,[t,r,n]}function eJ(e,t,r){var n=e.read_shift(1)>>>5&3;e.l+=r&&r.biff==2?3:4;var a=e.read_shift(r&&r.biff==2?1:2);return[n,a]}function tJ(e,t,r){var n=e.read_shift(1)>>>5&3,a=e.read_shift(r&&r.biff==2?1:2);return[n,a]}function rJ(e,t,r){var n=e.read_shift(1)>>>5&3;return e.l+=4,r.biff<8&&e.l--,r.biff==12&&(e.l+=2),[n]}function nJ(e,t,r){var n=(e[e.l++]&96)>>5,a=e.read_shift(2),i=4;if(r)switch(r.biff){case 5:i=15;break;case 12:i=6;break}return e.l+=i,[n,a]}var aJ=Fs,iJ=Fs,sJ=Fs;function Eg(e,t,r){return e.l+=2,[yZ(e)]}function g3(e){return e.l+=6,[]}var lJ=Eg,oJ=g3,cJ=g3,uJ=Eg;function IP(e){return e.l+=2,[ai(e),e.read_shift(2)&1]}var fJ=Eg,dJ=IP,hJ=g3,mJ=Eg,pJ=Eg,xJ=["Data","All","Headers","??","?Data2","??","?DataHeaders","??","Totals","??","??","??","?DataTotals","??","??","??","?Current"];function gJ(e){e.l+=2;var t=e.read_shift(2),r=e.read_shift(2),n=e.read_shift(4),a=e.read_shift(2),i=e.read_shift(2),l=xJ[r>>2&31];return{ixti:t,coltype:r&3,rt:l,idx:n,c:a,C:i}}function vJ(e){return e.l+=2,[e.read_shift(4)]}function yJ(e,t,r){return e.l+=5,e.l+=2,e.l+=r.biff==2?1:4,["PTGSHEET"]}function bJ(e,t,r){return e.l+=r.biff==2?4:5,["PTGENDSHEET"]}function wJ(e){var t=e.read_shift(1)>>>5&3,r=e.read_shift(2);return[t,r]}function NJ(e){var t=e.read_shift(1)>>>5&3,r=e.read_shift(2);return[t,r]}function _J(e){return e.l+=4,[0,0]}var Sk={1:{n:"PtgExp",f:qZ},2:{n:"PtgTbl",f:sJ},3:{n:"PtgAdd",f:ri},4:{n:"PtgSub",f:ri},5:{n:"PtgMul",f:ri},6:{n:"PtgDiv",f:ri},7:{n:"PtgPower",f:ri},8:{n:"PtgConcat",f:ri},9:{n:"PtgLt",f:ri},10:{n:"PtgLe",f:ri},11:{n:"PtgEq",f:ri},12:{n:"PtgGe",f:ri},13:{n:"PtgGt",f:ri},14:{n:"PtgNe",f:ri},15:{n:"PtgIsect",f:ri},16:{n:"PtgUnion",f:ri},17:{n:"PtgRange",f:ri},18:{n:"PtgUplus",f:ri},19:{n:"PtgUminus",f:ri},20:{n:"PtgPercent",f:ri},21:{n:"PtgParen",f:ri},22:{n:"PtgMissArg",f:ri},23:{n:"PtgStr",f:GZ},26:{n:"PtgSheet",f:yJ},27:{n:"PtgEndSheet",f:bJ},28:{n:"PtgErr",f:$Z},29:{n:"PtgBool",f:VZ},30:{n:"PtgInt",f:HZ},31:{n:"PtgNum",f:WZ},32:{n:"PtgArray",f:EZ},33:{n:"PtgFunc",f:IZ},34:{n:"PtgFuncVar",f:BZ},35:{n:"PtgName",f:QZ},36:{n:"PtgRef",f:LZ},37:{n:"PtgArea",f:NZ},38:{n:"PtgMemArea",f:eJ},39:{n:"PtgMemErr",f:aJ},40:{n:"PtgMemNoMem",f:iJ},41:{n:"PtgMemFunc",f:tJ},42:{n:"PtgRefErr",f:rJ},43:{n:"PtgAreaErr",f:jZ},44:{n:"PtgRefN",f:MZ},45:{n:"PtgAreaN",f:AZ},46:{n:"PtgMemAreaN",f:wJ},47:{n:"PtgMemNoMemN",f:NJ},57:{n:"PtgNameX",f:ZZ},58:{n:"PtgRef3d",f:RZ},59:{n:"PtgArea3d",f:_Z},60:{n:"PtgRefErr3d",f:nJ},61:{n:"PtgAreaErr3d",f:SZ},255:{}},jJ={64:32,96:32,65:33,97:33,66:34,98:34,67:35,99:35,68:36,100:36,69:37,101:37,70:38,102:38,71:39,103:39,72:40,104:40,73:41,105:41,74:42,106:42,75:43,107:43,76:44,108:44,77:45,109:45,78:46,110:46,79:47,111:47,88:34,120:34,89:57,121:57,90:58,122:58,91:59,123:59,92:60,124:60,93:61,125:61},SJ={1:{n:"PtgElfLel",f:IP},2:{n:"PtgElfRw",f:mJ},3:{n:"PtgElfCol",f:lJ},6:{n:"PtgElfRwV",f:pJ},7:{n:"PtgElfColV",f:uJ},10:{n:"PtgElfRadical",f:fJ},11:{n:"PtgElfRadicalS",f:hJ},13:{n:"PtgElfColS",f:oJ},15:{n:"PtgElfColSV",f:cJ},16:{n:"PtgElfRadicalLel",f:dJ},25:{n:"PtgList",f:gJ},29:{n:"PtgSxName",f:vJ},255:{}},AJ={0:{n:"PtgAttrNoop",f:_J},1:{n:"PtgAttrSemi",f:DZ},2:{n:"PtgAttrIf",f:TZ},4:{n:"PtgAttrChoose",f:kZ},8:{n:"PtgAttrGoto",f:CZ},16:{n:"PtgAttrSum",f:zZ},32:{n:"PtgAttrBaxcel",f:jk},33:{n:"PtgAttrBaxcel",f:jk},64:{n:"PtgAttrSpace",f:FZ},65:{n:"PtgAttrSpaceSemi",f:PZ},128:{n:"PtgAttrIfError",f:OZ},255:{}};function kg(e,t,r,n){if(n.biff<8)return Fs(e,t);for(var a=e.l+t,i=[],l=0;l!==r.length;++l)switch(r[l][0]){case"PtgArray":r[l][1]=XZ(e,0,n),i.push(r[l][1]);break;case"PtgMemArea":r[l][2]=YZ(e,r[l][1],n),i.push(r[l][2]);break;case"PtgExp":n&&n.biff==12&&(r[l][1][1]=e.read_shift(4),i.push(r[l][1]));break;case"PtgList":case"PtgElfRadicalS":case"PtgElfColS":case"PtgElfColSV":throw"Unsupported "+r[l][0]}return t=a-e.l,t!==0&&i.push(Fs(e,t)),i}function Cg(e,t,r){for(var n=e.l+t,a,i,l=[];n!=e.l;)t=n-e.l,i=e[e.l],a=Sk[i]||Sk[jJ[i]],(i===24||i===25)&&(a=(i===24?SJ:AJ)[e[e.l+1]]),!a||!a.f?Fs(e,t):l.push([a.n,a.f(e,t,r)]);return l}function EJ(e){for(var t=[],r=0;r<e.length;++r){for(var n=e[r],a=[],i=0;i<n.length;++i){var l=n[i];if(l)switch(l[0]){case 2:a.push('"'+l[1].replace(/"/g,'""')+'"');break;default:a.push(l[1])}else a.push("")}t.push(a.join(","))}return t.join(";")}var kJ={PtgAdd:"+",PtgConcat:"&",PtgDiv:"/",PtgEq:"=",PtgGe:">=",PtgGt:">",PtgLe:"<=",PtgLt:"<",PtgMul:"*",PtgNe:"<>",PtgPower:"^",PtgSub:"-"};function CJ(e,t){if(!e&&!(t&&t.biff<=5&&t.biff>=2))throw new Error("empty sheet name");return/[^\w\u4E00-\u9FFF\u3040-\u30FF]/.test(e)?"'"+e+"'":e}function BP(e,t,r){if(!e)return"SH33TJSERR0";if(r.biff>8&&(!e.XTI||!e.XTI[t]))return e.SheetNames[t];if(!e.XTI)return"SH33TJSERR6";var n=e.XTI[t];if(r.biff<8)return t>1e4&&(t-=65536),t<0&&(t=-t),t==0?"":e.XTI[t-1];if(!n)return"SH33TJSERR1";var a="";if(r.biff>8)switch(e[n[0]][0]){case 357:return a=n[1]==-1?"#REF":e.SheetNames[n[1]],n[1]==n[2]?a:a+":"+e.SheetNames[n[2]];case 358:return r.SID!=null?e.SheetNames[r.SID]:"SH33TJSSAME"+e[n[0]][0];case 355:default:return"SH33TJSSRC"+e[n[0]][0]}switch(e[n[0]][0][0]){case 1025:return a=n[1]==-1?"#REF":e.SheetNames[n[1]]||"SH33TJSERR3",n[1]==n[2]?a:a+":"+e.SheetNames[n[2]];case 14849:return e[n[0]].slice(1).map(function(i){return i.Name}).join(";;");default:return e[n[0]][0][3]?(a=n[1]==-1?"#REF":e[n[0]][0][3][n[1]]||"SH33TJSERR4",n[1]==n[2]?a:a+":"+e[n[0]][0][3][n[2]]):"SH33TJSERR2"}}function Ak(e,t,r){var n=BP(e,t,r);return n=="#REF"?n:CJ(n,r)}function Ns(e,t,r,n,a){var i=a&&a.biff||8,l={s:{c:0,r:0}},o=[],u,f,h,m=0,g=0,x,b="";if(!e[0]||!e[0][0])return"";for(var v=-1,w="",N=0,E=e[0].length;N<E;++N){var j=e[0][N];switch(j[0]){case"PtgUminus":o.push("-"+o.pop());break;case"PtgUplus":o.push("+"+o.pop());break;case"PtgPercent":o.push(o.pop()+"%");break;case"PtgAdd":case"PtgConcat":case"PtgDiv":case"PtgEq":case"PtgGe":case"PtgGt":case"PtgLe":case"PtgLt":case"PtgMul":case"PtgNe":case"PtgPower":case"PtgSub":if(u=o.pop(),f=o.pop(),v>=0){switch(e[0][v][1][0]){case 0:w=Pa(" ",e[0][v][1][1]);break;case 1:w=Pa("\r",e[0][v][1][1]);break;default:if(w="",a.WTF)throw new Error("Unexpected PtgAttrSpaceType "+e[0][v][1][0])}f=f+w,v=-1}o.push(f+kJ[j[0]]+u);break;case"PtgIsect":u=o.pop(),f=o.pop(),o.push(f+" "+u);break;case"PtgUnion":u=o.pop(),f=o.pop(),o.push(f+","+u);break;case"PtgRange":u=o.pop(),f=o.pop(),o.push(f+":"+u);break;case"PtgAttrChoose":break;case"PtgAttrGoto":break;case"PtgAttrIf":break;case"PtgAttrIfError":break;case"PtgRef":h=Ax(j[1][1],l,a),o.push(Ex(h,i));break;case"PtgRefN":h=r?Ax(j[1][1],r,a):j[1][1],o.push(Ex(h,i));break;case"PtgRef3d":m=j[1][1],h=Ax(j[1][2],l,a),b=Ak(n,m,a),o.push(b+"!"+Ex(h,i));break;case"PtgFunc":case"PtgFuncVar":var T=j[1][0],O=j[1][1];T||(T=0),T&=127;var F=T==0?[]:o.slice(-T);o.length-=T,O==="User"&&(O=F.shift()),o.push(O+"("+F.join(",")+")");break;case"PtgBool":o.push(j[1]?"TRUE":"FALSE");break;case"PtgInt":o.push(j[1]);break;case"PtgNum":o.push(String(j[1]));break;case"PtgStr":o.push('"'+j[1].replace(/"/g,'""')+'"');break;case"PtgErr":o.push(j[1]);break;case"PtgAreaN":x=tk(j[1][1],r?{s:r}:l,a),o.push(Sw(x,a));break;case"PtgArea":x=tk(j[1][1],l,a),o.push(Sw(x,a));break;case"PtgArea3d":m=j[1][1],x=j[1][2],b=Ak(n,m,a),o.push(b+"!"+Sw(x,a));break;case"PtgAttrSum":o.push("SUM("+o.pop()+")");break;case"PtgAttrBaxcel":case"PtgAttrSemi":break;case"PtgName":g=j[1][2];var D=(n.names||[])[g-1]||(n[0]||[])[g],L=D?D.Name:"SH33TJSNAME"+String(g);L&&L.slice(0,6)=="_xlfn."&&!a.xlfn&&(L=L.slice(6)),o.push(L);break;case"PtgNameX":var B=j[1][1];g=j[1][2];var H;if(a.biff<=5)B<0&&(B=-B),n[B]&&(H=n[B][g]);else{var P="";if(((n[B]||[])[0]||[])[0]==14849||(((n[B]||[])[0]||[])[0]==1025?n[B][g]&&n[B][g].itab>0&&(P=n.SheetNames[n[B][g].itab-1]+"!"):P=n.SheetNames[g-1]+"!"),n[B]&&n[B][g])P+=n[B][g].Name;else if(n[0]&&n[0][g])P+=n[0][g].Name;else{var U=(BP(n,B,a)||"").split(";;");U[g-1]?P=U[g-1]:P+="SH33TJSERRX"}o.push(P);break}H||(H={Name:"SH33TJSERRY"}),o.push(H.Name);break;case"PtgParen":var K="(",ee=")";if(v>=0){switch(w="",e[0][v][1][0]){case 2:K=Pa(" ",e[0][v][1][1])+K;break;case 3:K=Pa("\r",e[0][v][1][1])+K;break;case 4:ee=Pa(" ",e[0][v][1][1])+ee;break;case 5:ee=Pa("\r",e[0][v][1][1])+ee;break;default:if(a.WTF)throw new Error("Unexpected PtgAttrSpaceType "+e[0][v][1][0])}v=-1}o.push(K+o.pop()+ee);break;case"PtgRefErr":o.push("#REF!");break;case"PtgRefErr3d":o.push("#REF!");break;case"PtgExp":h={c:j[1][1],r:j[1][0]};var me={c:r.c,r:r.r};if(n.sharedf[fr(h)]){var ne=n.sharedf[fr(h)];o.push(Ns(ne,l,me,n,a))}else{var se=!1;for(u=0;u!=n.arrayf.length;++u)if(f=n.arrayf[u],!(h.c<f[0].s.c||h.c>f[0].e.c)&&!(h.r<f[0].s.r||h.r>f[0].e.r)){o.push(Ns(f[1],l,me,n,a)),se=!0;break}se||o.push(j[1])}break;case"PtgArray":o.push("{"+EJ(j[1])+"}");break;case"PtgMemArea":break;case"PtgAttrSpace":case"PtgAttrSpaceSemi":v=N;break;case"PtgTbl":break;case"PtgMemErr":break;case"PtgMissArg":o.push("");break;case"PtgAreaErr":o.push("#REF!");break;case"PtgAreaErr3d":o.push("#REF!");break;case"PtgList":o.push("Table"+j[1].idx+"[#"+j[1].rt+"]");break;case"PtgMemAreaN":case"PtgMemNoMemN":case"PtgAttrNoop":case"PtgSheet":case"PtgEndSheet":break;case"PtgMemFunc":break;case"PtgMemNoMem":break;case"PtgElfCol":case"PtgElfColS":case"PtgElfColSV":case"PtgElfColV":case"PtgElfLel":case"PtgElfRadical":case"PtgElfRadicalLel":case"PtgElfRadicalS":case"PtgElfRw":case"PtgElfRwV":throw new Error("Unsupported ELFs");case"PtgSxName":throw new Error("Unrecognized Formula Token: "+String(j));default:throw new Error("Unrecognized Formula Token: "+String(j))}var ye=["PtgAttrSpace","PtgAttrSpaceSemi","PtgAttrGoto"];if(a.biff!=3&&v>=0&&ye.indexOf(e[0][N][0])==-1){j=e[0][v];var ce=!0;switch(j[1][0]){case 4:ce=!1;case 0:w=Pa(" ",j[1][1]);break;case 5:ce=!1;case 1:w=Pa("\r",j[1][1]);break;default:if(w="",a.WTF)throw new Error("Unexpected PtgAttrSpaceType "+j[1][0])}o.push((ce?w:"")+o.pop()+(ce?"":w)),v=-1}}if(o.length>1&&a.WTF)throw new Error("bad formula stack");return o[0]}function TJ(e,t,r){var n=e.l+t,a=r.biff==2?1:2,i,l=e.read_shift(a);if(l==65535)return[[],Fs(e,t-2)];var o=Cg(e,l,r);return t!==l+a&&(i=kg(e,t-l-a,o,r)),e.l=n,[o,i]}function OJ(e,t,r){var n=e.l+t,a=r.biff==2?1:2,i,l=e.read_shift(a);if(l==65535)return[[],Fs(e,t-2)];var o=Cg(e,l,r);return t!==l+a&&(i=kg(e,t-l-a,o,r)),e.l=n,[o,i]}function DJ(e,t,r,n){var a=e.l+t,i=Cg(e,n,r),l;return a!==e.l&&(l=kg(e,a-e.l,i,r)),[i,l]}function FJ(e,t,r){var n=e.l+t,a,i=e.read_shift(2),l=Cg(e,i,r);return i==65535?[[],Fs(e,t-2)]:(t!==i+2&&(a=kg(e,n-i-2,l,r)),[l,a])}function PJ(e){var t;if(Ju(e,e.l+6)!==65535)return[Ss(e),"n"];switch(e[e.l]){case 0:return e.l+=8,["String","s"];case 1:return t=e[e.l+2]===1,e.l+=8,[t,"b"];case 2:return t=e[e.l+2],e.l+=8,[t,"e"];case 3:return e.l+=8,["","s"]}return[]}function LJ(e){if(e==null){var t=Je(8);return t.write_shift(1,3),t.write_shift(1,0),t.write_shift(2,0),t.write_shift(2,0),t.write_shift(2,65535),t}else if(typeof e=="number")return G0(e);return G0(0)}function Tw(e,t,r){var n=e.l+t,a=xu(e);r.biff==2&&++e.l;var i=PJ(e),l=e.read_shift(1);r.biff!=2&&(e.read_shift(1),r.biff>=5&&e.read_shift(4));var o=OJ(e,n-e.l,r);return{cell:a,val:i[0],formula:o,shared:l>>3&1,tt:i[1]}}function MJ(e,t,r,n,a){var i=Y0(t,r,a),l=LJ(e.v),o=Je(6),u=33;o.write_shift(2,u),o.write_shift(4,0);for(var f=Je(e.bf.length),h=0;h<e.bf.length;++h)f[h]=e.bf[h];var m=Ui([i,l,o,f]);return m}function u2(e,t,r){var n=e.read_shift(4),a=Cg(e,n,r),i=e.read_shift(4),l=i>0?kg(e,i,a,r):null;return[a,l]}var RJ=u2,f2=u2,IJ=u2,BJ=u2,UJ={0:"BEEP",1:"OPEN",2:"OPEN.LINKS",3:"CLOSE.ALL",4:"SAVE",5:"SAVE.AS",6:"FILE.DELETE",7:"PAGE.SETUP",8:"PRINT",9:"PRINTER.SETUP",10:"QUIT",11:"NEW.WINDOW",12:"ARRANGE.ALL",13:"WINDOW.SIZE",14:"WINDOW.MOVE",15:"FULL",16:"CLOSE",17:"RUN",22:"SET.PRINT.AREA",23:"SET.PRINT.TITLES",24:"SET.PAGE.BREAK",25:"REMOVE.PAGE.BREAK",26:"FONT",27:"DISPLAY",28:"PROTECT.DOCUMENT",29:"PRECISION",30:"A1.R1C1",31:"CALCULATE.NOW",32:"CALCULATION",34:"DATA.FIND",35:"EXTRACT",36:"DATA.DELETE",37:"SET.DATABASE",38:"SET.CRITERIA",39:"SORT",40:"DATA.SERIES",41:"TABLE",42:"FORMAT.NUMBER",43:"ALIGNMENT",44:"STYLE",45:"BORDER",46:"CELL.PROTECTION",47:"COLUMN.WIDTH",48:"UNDO",49:"CUT",50:"COPY",51:"PASTE",52:"CLEAR",53:"PASTE.SPECIAL",54:"EDIT.DELETE",55:"INSERT",56:"FILL.RIGHT",57:"FILL.DOWN",61:"DEFINE.NAME",62:"CREATE.NAMES",63:"FORMULA.GOTO",64:"FORMULA.FIND",65:"SELECT.LAST.CELL",66:"SHOW.ACTIVE.CELL",67:"GALLERY.AREA",68:"GALLERY.BAR",69:"GALLERY.COLUMN",70:"GALLERY.LINE",71:"GALLERY.PIE",72:"GALLERY.SCATTER",73:"COMBINATION",74:"PREFERRED",75:"ADD.OVERLAY",76:"GRIDLINES",77:"SET.PREFERRED",78:"AXES",79:"LEGEND",80:"ATTACH.TEXT",81:"ADD.ARROW",82:"SELECT.CHART",83:"SELECT.PLOT.AREA",84:"PATTERNS",85:"MAIN.CHART",86:"OVERLAY",87:"SCALE",88:"FORMAT.LEGEND",89:"FORMAT.TEXT",90:"EDIT.REPEAT",91:"PARSE",92:"JUSTIFY",93:"HIDE",94:"UNHIDE",95:"WORKSPACE",96:"FORMULA",97:"FORMULA.FILL",98:"FORMULA.ARRAY",99:"DATA.FIND.NEXT",100:"DATA.FIND.PREV",101:"FORMULA.FIND.NEXT",102:"FORMULA.FIND.PREV",103:"ACTIVATE",104:"ACTIVATE.NEXT",105:"ACTIVATE.PREV",106:"UNLOCKED.NEXT",107:"UNLOCKED.PREV",108:"COPY.PICTURE",109:"SELECT",110:"DELETE.NAME",111:"DELETE.FORMAT",112:"VLINE",113:"HLINE",114:"VPAGE",115:"HPAGE",116:"VSCROLL",117:"HSCROLL",118:"ALERT",119:"NEW",120:"CANCEL.COPY",121:"SHOW.CLIPBOARD",122:"MESSAGE",124:"PASTE.LINK",125:"APP.ACTIVATE",126:"DELETE.ARROW",127:"ROW.HEIGHT",128:"FORMAT.MOVE",129:"FORMAT.SIZE",130:"FORMULA.REPLACE",131:"SEND.KEYS",132:"SELECT.SPECIAL",133:"APPLY.NAMES",134:"REPLACE.FONT",135:"FREEZE.PANES",136:"SHOW.INFO",137:"SPLIT",138:"ON.WINDOW",139:"ON.DATA",140:"DISABLE.INPUT",142:"OUTLINE",143:"LIST.NAMES",144:"FILE.CLOSE",145:"SAVE.WORKBOOK",146:"DATA.FORM",147:"COPY.CHART",148:"ON.TIME",149:"WAIT",150:"FORMAT.FONT",151:"FILL.UP",152:"FILL.LEFT",153:"DELETE.OVERLAY",155:"SHORT.MENUS",159:"SET.UPDATE.STATUS",161:"COLOR.PALETTE",162:"DELETE.STYLE",163:"WINDOW.RESTORE",164:"WINDOW.MAXIMIZE",166:"CHANGE.LINK",167:"CALCULATE.DOCUMENT",168:"ON.KEY",169:"APP.RESTORE",170:"APP.MOVE",171:"APP.SIZE",172:"APP.MINIMIZE",173:"APP.MAXIMIZE",174:"BRING.TO.FRONT",175:"SEND.TO.BACK",185:"MAIN.CHART.TYPE",186:"OVERLAY.CHART.TYPE",187:"SELECT.END",188:"OPEN.MAIL",189:"SEND.MAIL",190:"STANDARD.FONT",191:"CONSOLIDATE",192:"SORT.SPECIAL",193:"GALLERY.3D.AREA",194:"GALLERY.3D.COLUMN",195:"GALLERY.3D.LINE",196:"GALLERY.3D.PIE",197:"VIEW.3D",198:"GOAL.SEEK",199:"WORKGROUP",200:"FILL.GROUP",201:"UPDATE.LINK",202:"PROMOTE",203:"DEMOTE",204:"SHOW.DETAIL",206:"UNGROUP",207:"OBJECT.PROPERTIES",208:"SAVE.NEW.OBJECT",209:"SHARE",210:"SHARE.NAME",211:"DUPLICATE",212:"APPLY.STYLE",213:"ASSIGN.TO.OBJECT",214:"OBJECT.PROTECTION",215:"HIDE.OBJECT",216:"SET.EXTRACT",217:"CREATE.PUBLISHER",218:"SUBSCRIBE.TO",219:"ATTRIBUTES",220:"SHOW.TOOLBAR",222:"PRINT.PREVIEW",223:"EDIT.COLOR",224:"SHOW.LEVELS",225:"FORMAT.MAIN",226:"FORMAT.OVERLAY",227:"ON.RECALC",228:"EDIT.SERIES",229:"DEFINE.STYLE",240:"LINE.PRINT",243:"ENTER.DATA",249:"GALLERY.RADAR",250:"MERGE.STYLES",251:"EDITION.OPTIONS",252:"PASTE.PICTURE",253:"PASTE.PICTURE.LINK",254:"SPELLING",256:"ZOOM",259:"INSERT.OBJECT",260:"WINDOW.MINIMIZE",265:"SOUND.NOTE",266:"SOUND.PLAY",267:"FORMAT.SHAPE",268:"EXTEND.POLYGON",269:"FORMAT.AUTO",272:"GALLERY.3D.BAR",273:"GALLERY.3D.SURFACE",274:"FILL.AUTO",276:"CUSTOMIZE.TOOLBAR",277:"ADD.TOOL",278:"EDIT.OBJECT",279:"ON.DOUBLECLICK",280:"ON.ENTRY",281:"WORKBOOK.ADD",282:"WORKBOOK.MOVE",283:"WORKBOOK.COPY",284:"WORKBOOK.OPTIONS",285:"SAVE.WORKSPACE",288:"CHART.WIZARD",289:"DELETE.TOOL",290:"MOVE.TOOL",291:"WORKBOOK.SELECT",292:"WORKBOOK.ACTIVATE",293:"ASSIGN.TO.TOOL",295:"COPY.TOOL",296:"RESET.TOOL",297:"CONSTRAIN.NUMERIC",298:"PASTE.TOOL",302:"WORKBOOK.NEW",305:"SCENARIO.CELLS",306:"SCENARIO.DELETE",307:"SCENARIO.ADD",308:"SCENARIO.EDIT",309:"SCENARIO.SHOW",310:"SCENARIO.SHOW.NEXT",311:"SCENARIO.SUMMARY",312:"PIVOT.TABLE.WIZARD",313:"PIVOT.FIELD.PROPERTIES",314:"PIVOT.FIELD",315:"PIVOT.ITEM",316:"PIVOT.ADD.FIELDS",318:"OPTIONS.CALCULATION",319:"OPTIONS.EDIT",320:"OPTIONS.VIEW",321:"ADDIN.MANAGER",322:"MENU.EDITOR",323:"ATTACH.TOOLBARS",324:"VBAActivate",325:"OPTIONS.CHART",328:"VBA.INSERT.FILE",330:"VBA.PROCEDURE.DEFINITION",336:"ROUTING.SLIP",338:"ROUTE.DOCUMENT",339:"MAIL.LOGON",342:"INSERT.PICTURE",343:"EDIT.TOOL",344:"GALLERY.DOUGHNUT",350:"CHART.TREND",352:"PIVOT.ITEM.PROPERTIES",354:"WORKBOOK.INSERT",355:"OPTIONS.TRANSITION",356:"OPTIONS.GENERAL",370:"FILTER.ADVANCED",373:"MAIL.ADD.MAILER",374:"MAIL.DELETE.MAILER",375:"MAIL.REPLY",376:"MAIL.REPLY.ALL",377:"MAIL.FORWARD",378:"MAIL.NEXT.LETTER",379:"DATA.LABEL",380:"INSERT.TITLE",381:"FONT.PROPERTIES",382:"MACRO.OPTIONS",383:"WORKBOOK.HIDE",384:"WORKBOOK.UNHIDE",385:"WORKBOOK.DELETE",386:"WORKBOOK.NAME",388:"GALLERY.CUSTOM",390:"ADD.CHART.AUTOFORMAT",391:"DELETE.CHART.AUTOFORMAT",392:"CHART.ADD.DATA",393:"AUTO.OUTLINE",394:"TAB.ORDER",395:"SHOW.DIALOG",396:"SELECT.ALL",397:"UNGROUP.SHEETS",398:"SUBTOTAL.CREATE",399:"SUBTOTAL.REMOVE",400:"RENAME.OBJECT",412:"WORKBOOK.SCROLL",413:"WORKBOOK.NEXT",414:"WORKBOOK.PREV",415:"WORKBOOK.TAB.SPLIT",416:"FULL.SCREEN",417:"WORKBOOK.PROTECT",420:"SCROLLBAR.PROPERTIES",421:"PIVOT.SHOW.PAGES",422:"TEXT.TO.COLUMNS",423:"FORMAT.CHARTTYPE",424:"LINK.FORMAT",425:"TRACER.DISPLAY",430:"TRACER.NAVIGATE",431:"TRACER.CLEAR",432:"TRACER.ERROR",433:"PIVOT.FIELD.GROUP",434:"PIVOT.FIELD.UNGROUP",435:"CHECKBOX.PROPERTIES",436:"LABEL.PROPERTIES",437:"LISTBOX.PROPERTIES",438:"EDITBOX.PROPERTIES",439:"PIVOT.REFRESH",440:"LINK.COMBO",441:"OPEN.TEXT",442:"HIDE.DIALOG",443:"SET.DIALOG.FOCUS",444:"ENABLE.OBJECT",445:"PUSHBUTTON.PROPERTIES",446:"SET.DIALOG.DEFAULT",447:"FILTER",448:"FILTER.SHOW.ALL",449:"CLEAR.OUTLINE",450:"FUNCTION.WIZARD",451:"ADD.LIST.ITEM",452:"SET.LIST.ITEM",453:"REMOVE.LIST.ITEM",454:"SELECT.LIST.ITEM",455:"SET.CONTROL.VALUE",456:"SAVE.COPY.AS",458:"OPTIONS.LISTS.ADD",459:"OPTIONS.LISTS.DELETE",460:"SERIES.AXES",461:"SERIES.X",462:"SERIES.Y",463:"ERRORBAR.X",464:"ERRORBAR.Y",465:"FORMAT.CHART",466:"SERIES.ORDER",467:"MAIL.LOGOFF",468:"CLEAR.ROUTING.SLIP",469:"APP.ACTIVATE.MICROSOFT",470:"MAIL.EDIT.MAILER",471:"ON.SHEET",472:"STANDARD.WIDTH",473:"SCENARIO.MERGE",474:"SUMMARY.INFO",475:"FIND.FILE",476:"ACTIVE.CELL.FONT",477:"ENABLE.TIPWIZARD",478:"VBA.MAKE.ADDIN",480:"INSERTDATATABLE",481:"WORKGROUP.OPTIONS",482:"MAIL.SEND.MAILER",485:"AUTOCORRECT",489:"POST.DOCUMENT",491:"PICKLIST",493:"VIEW.SHOW",494:"VIEW.DEFINE",495:"VIEW.DELETE",509:"SHEET.BACKGROUND",510:"INSERT.MAP.OBJECT",511:"OPTIONS.MENONO",517:"MSOCHECKS",518:"NORMAL",519:"LAYOUT",520:"RM.PRINT.AREA",521:"CLEAR.PRINT.AREA",522:"ADD.PRINT.AREA",523:"MOVE.BRK",545:"HIDECURR.NOTE",546:"HIDEALL.NOTES",547:"DELETE.NOTE",548:"TRAVERSE.NOTES",549:"ACTIVATE.NOTES",620:"PROTECT.REVISIONS",621:"UNPROTECT.REVISIONS",647:"OPTIONS.ME",653:"WEB.PUBLISH",667:"NEWWEBQUERY",673:"PIVOT.TABLE.CHART",753:"OPTIONS.SAVE",755:"OPTIONS.SPELL",808:"HIDEALL.INKANNOTS"},UP={0:"COUNT",1:"IF",2:"ISNA",3:"ISERROR",4:"SUM",5:"AVERAGE",6:"MIN",7:"MAX",8:"ROW",9:"COLUMN",10:"NA",11:"NPV",12:"STDEV",13:"DOLLAR",14:"FIXED",15:"SIN",16:"COS",17:"TAN",18:"ATAN",19:"PI",20:"SQRT",21:"EXP",22:"LN",23:"LOG10",24:"ABS",25:"INT",26:"SIGN",27:"ROUND",28:"LOOKUP",29:"INDEX",30:"REPT",31:"MID",32:"LEN",33:"VALUE",34:"TRUE",35:"FALSE",36:"AND",37:"OR",38:"NOT",39:"MOD",40:"DCOUNT",41:"DSUM",42:"DAVERAGE",43:"DMIN",44:"DMAX",45:"DSTDEV",46:"VAR",47:"DVAR",48:"TEXT",49:"LINEST",50:"TREND",51:"LOGEST",52:"GROWTH",53:"GOTO",54:"HALT",55:"RETURN",56:"PV",57:"FV",58:"NPER",59:"PMT",60:"RATE",61:"MIRR",62:"IRR",63:"RAND",64:"MATCH",65:"DATE",66:"TIME",67:"DAY",68:"MONTH",69:"YEAR",70:"WEEKDAY",71:"HOUR",72:"MINUTE",73:"SECOND",74:"NOW",75:"AREAS",76:"ROWS",77:"COLUMNS",78:"OFFSET",79:"ABSREF",80:"RELREF",81:"ARGUMENT",82:"SEARCH",83:"TRANSPOSE",84:"ERROR",85:"STEP",86:"TYPE",87:"ECHO",88:"SET.NAME",89:"CALLER",90:"DEREF",91:"WINDOWS",92:"SERIES",93:"DOCUMENTS",94:"ACTIVE.CELL",95:"SELECTION",96:"RESULT",97:"ATAN2",98:"ASIN",99:"ACOS",100:"CHOOSE",101:"HLOOKUP",102:"VLOOKUP",103:"LINKS",104:"INPUT",105:"ISREF",106:"GET.FORMULA",107:"GET.NAME",108:"SET.VALUE",109:"LOG",110:"EXEC",111:"CHAR",112:"LOWER",113:"UPPER",114:"PROPER",115:"LEFT",116:"RIGHT",117:"EXACT",118:"TRIM",119:"REPLACE",120:"SUBSTITUTE",121:"CODE",122:"NAMES",123:"DIRECTORY",124:"FIND",125:"CELL",126:"ISERR",127:"ISTEXT",128:"ISNUMBER",129:"ISBLANK",130:"T",131:"N",132:"FOPEN",133:"FCLOSE",134:"FSIZE",135:"FREADLN",136:"FREAD",137:"FWRITELN",138:"FWRITE",139:"FPOS",140:"DATEVALUE",141:"TIMEVALUE",142:"SLN",143:"SYD",144:"DDB",145:"GET.DEF",146:"REFTEXT",147:"TEXTREF",148:"INDIRECT",149:"REGISTER",150:"CALL",151:"ADD.BAR",152:"ADD.MENU",153:"ADD.COMMAND",154:"ENABLE.COMMAND",155:"CHECK.COMMAND",156:"RENAME.COMMAND",157:"SHOW.BAR",158:"DELETE.MENU",159:"DELETE.COMMAND",160:"GET.CHART.ITEM",161:"DIALOG.BOX",162:"CLEAN",163:"MDETERM",164:"MINVERSE",165:"MMULT",166:"FILES",167:"IPMT",168:"PPMT",169:"COUNTA",170:"CANCEL.KEY",171:"FOR",172:"WHILE",173:"BREAK",174:"NEXT",175:"INITIATE",176:"REQUEST",177:"POKE",178:"EXECUTE",179:"TERMINATE",180:"RESTART",181:"HELP",182:"GET.BAR",183:"PRODUCT",184:"FACT",185:"GET.CELL",186:"GET.WORKSPACE",187:"GET.WINDOW",188:"GET.DOCUMENT",189:"DPRODUCT",190:"ISNONTEXT",191:"GET.NOTE",192:"NOTE",193:"STDEVP",194:"VARP",195:"DSTDEVP",196:"DVARP",197:"TRUNC",198:"ISLOGICAL",199:"DCOUNTA",200:"DELETE.BAR",201:"UNREGISTER",204:"USDOLLAR",205:"FINDB",206:"SEARCHB",207:"REPLACEB",208:"LEFTB",209:"RIGHTB",210:"MIDB",211:"LENB",212:"ROUNDUP",213:"ROUNDDOWN",214:"ASC",215:"DBCS",216:"RANK",219:"ADDRESS",220:"DAYS360",221:"TODAY",222:"VDB",223:"ELSE",224:"ELSE.IF",225:"END.IF",226:"FOR.CELL",227:"MEDIAN",228:"SUMPRODUCT",229:"SINH",230:"COSH",231:"TANH",232:"ASINH",233:"ACOSH",234:"ATANH",235:"DGET",236:"CREATE.OBJECT",237:"VOLATILE",238:"LAST.ERROR",239:"CUSTOM.UNDO",240:"CUSTOM.REPEAT",241:"FORMULA.CONVERT",242:"GET.LINK.INFO",243:"TEXT.BOX",244:"INFO",245:"GROUP",246:"GET.OBJECT",247:"DB",248:"PAUSE",251:"RESUME",252:"FREQUENCY",253:"ADD.TOOLBAR",254:"DELETE.TOOLBAR",255:"User",256:"RESET.TOOLBAR",257:"EVALUATE",258:"GET.TOOLBAR",259:"GET.TOOL",260:"SPELLING.CHECK",261:"ERROR.TYPE",262:"APP.TITLE",263:"WINDOW.TITLE",264:"SAVE.TOOLBAR",265:"ENABLE.TOOL",266:"PRESS.TOOL",267:"REGISTER.ID",268:"GET.WORKBOOK",269:"AVEDEV",270:"BETADIST",271:"GAMMALN",272:"BETAINV",273:"BINOMDIST",274:"CHIDIST",275:"CHIINV",276:"COMBIN",277:"CONFIDENCE",278:"CRITBINOM",279:"EVEN",280:"EXPONDIST",281:"FDIST",282:"FINV",283:"FISHER",284:"FISHERINV",285:"FLOOR",286:"GAMMADIST",287:"GAMMAINV",288:"CEILING",289:"HYPGEOMDIST",290:"LOGNORMDIST",291:"LOGINV",292:"NEGBINOMDIST",293:"NORMDIST",294:"NORMSDIST",295:"NORMINV",296:"NORMSINV",297:"STANDARDIZE",298:"ODD",299:"PERMUT",300:"POISSON",301:"TDIST",302:"WEIBULL",303:"SUMXMY2",304:"SUMX2MY2",305:"SUMX2PY2",306:"CHITEST",307:"CORREL",308:"COVAR",309:"FORECAST",310:"FTEST",311:"INTERCEPT",312:"PEARSON",313:"RSQ",314:"STEYX",315:"SLOPE",316:"TTEST",317:"PROB",318:"DEVSQ",319:"GEOMEAN",320:"HARMEAN",321:"SUMSQ",322:"KURT",323:"SKEW",324:"ZTEST",325:"LARGE",326:"SMALL",327:"QUARTILE",328:"PERCENTILE",329:"PERCENTRANK",330:"MODE",331:"TRIMMEAN",332:"TINV",334:"MOVIE.COMMAND",335:"GET.MOVIE",336:"CONCATENATE",337:"POWER",338:"PIVOT.ADD.DATA",339:"GET.PIVOT.TABLE",340:"GET.PIVOT.FIELD",341:"GET.PIVOT.ITEM",342:"RADIANS",343:"DEGREES",344:"SUBTOTAL",345:"SUMIF",346:"COUNTIF",347:"COUNTBLANK",348:"SCENARIO.GET",349:"OPTIONS.LISTS.GET",350:"ISPMT",351:"DATEDIF",352:"DATESTRING",353:"NUMBERSTRING",354:"ROMAN",355:"OPEN.DIALOG",356:"SAVE.DIALOG",357:"VIEW.GET",358:"GETPIVOTDATA",359:"HYPERLINK",360:"PHONETIC",361:"AVERAGEA",362:"MAXA",363:"MINA",364:"STDEVPA",365:"VARPA",366:"STDEVA",367:"VARA",368:"BAHTTEXT",369:"THAIDAYOFWEEK",370:"THAIDIGIT",371:"THAIMONTHOFYEAR",372:"THAINUMSOUND",373:"THAINUMSTRING",374:"THAISTRINGLENGTH",375:"ISTHAIDIGIT",376:"ROUNDBAHTDOWN",377:"ROUNDBAHTUP",378:"THAIYEAR",379:"RTD",380:"CUBEVALUE",381:"CUBEMEMBER",382:"CUBEMEMBERPROPERTY",383:"CUBERANKEDMEMBER",384:"HEX2BIN",385:"HEX2DEC",386:"HEX2OCT",387:"DEC2BIN",388:"DEC2HEX",389:"DEC2OCT",390:"OCT2BIN",391:"OCT2HEX",392:"OCT2DEC",393:"BIN2DEC",394:"BIN2OCT",395:"BIN2HEX",396:"IMSUB",397:"IMDIV",398:"IMPOWER",399:"IMABS",400:"IMSQRT",401:"IMLN",402:"IMLOG2",403:"IMLOG10",404:"IMSIN",405:"IMCOS",406:"IMEXP",407:"IMARGUMENT",408:"IMCONJUGATE",409:"IMAGINARY",410:"IMREAL",411:"COMPLEX",412:"IMSUM",413:"IMPRODUCT",414:"SERIESSUM",415:"FACTDOUBLE",416:"SQRTPI",417:"QUOTIENT",418:"DELTA",419:"GESTEP",420:"ISEVEN",421:"ISODD",422:"MROUND",423:"ERF",424:"ERFC",425:"BESSELJ",426:"BESSELK",427:"BESSELY",428:"BESSELI",429:"XIRR",430:"XNPV",431:"PRICEMAT",432:"YIELDMAT",433:"INTRATE",434:"RECEIVED",435:"DISC",436:"PRICEDISC",437:"YIELDDISC",438:"TBILLEQ",439:"TBILLPRICE",440:"TBILLYIELD",441:"PRICE",442:"YIELD",443:"DOLLARDE",444:"DOLLARFR",445:"NOMINAL",446:"EFFECT",447:"CUMPRINC",448:"CUMIPMT",449:"EDATE",450:"EOMONTH",451:"YEARFRAC",452:"COUPDAYBS",453:"COUPDAYS",454:"COUPDAYSNC",455:"COUPNCD",456:"COUPNUM",457:"COUPPCD",458:"DURATION",459:"MDURATION",460:"ODDLPRICE",461:"ODDLYIELD",462:"ODDFPRICE",463:"ODDFYIELD",464:"RANDBETWEEN",465:"WEEKNUM",466:"AMORDEGRC",467:"AMORLINC",468:"CONVERT",724:"SHEETJS",469:"ACCRINT",470:"ACCRINTM",471:"WORKDAY",472:"NETWORKDAYS",473:"GCD",474:"MULTINOMIAL",475:"LCM",476:"FVSCHEDULE",477:"CUBEKPIMEMBER",478:"CUBESET",479:"CUBESETCOUNT",480:"IFERROR",481:"COUNTIFS",482:"SUMIFS",483:"AVERAGEIF",484:"AVERAGEIFS"},zJ={2:1,3:1,10:0,15:1,16:1,17:1,18:1,19:0,20:1,21:1,22:1,23:1,24:1,25:1,26:1,27:2,30:2,31:3,32:1,33:1,34:0,35:0,38:1,39:2,40:3,41:3,42:3,43:3,44:3,45:3,47:3,48:2,53:1,61:3,63:0,65:3,66:3,67:1,68:1,69:1,70:1,71:1,72:1,73:1,74:0,75:1,76:1,77:1,79:2,80:2,83:1,85:0,86:1,89:0,90:1,94:0,95:0,97:2,98:1,99:1,101:3,102:3,105:1,106:1,108:2,111:1,112:1,113:1,114:1,117:2,118:1,119:4,121:1,126:1,127:1,128:1,129:1,130:1,131:1,133:1,134:1,135:1,136:2,137:2,138:2,140:1,141:1,142:3,143:4,144:4,161:1,162:1,163:1,164:1,165:2,172:1,175:2,176:2,177:3,178:2,179:1,184:1,186:1,189:3,190:1,195:3,196:3,197:1,198:1,199:3,201:1,207:4,210:3,211:1,212:2,213:2,214:1,215:1,225:0,229:1,230:1,231:1,232:1,233:1,234:1,235:3,244:1,247:4,252:2,257:1,261:1,271:1,273:4,274:2,275:2,276:2,277:3,278:3,279:1,280:3,281:3,282:3,283:1,284:1,285:2,286:4,287:3,288:2,289:4,290:3,291:3,292:3,293:4,294:1,295:3,296:1,297:3,298:1,299:2,300:3,301:3,302:4,303:2,304:2,305:2,306:2,307:2,308:2,309:3,310:2,311:2,312:2,313:2,314:2,315:2,316:4,325:2,326:2,327:2,328:2,331:2,332:2,337:2,342:1,343:1,346:2,347:1,350:4,351:3,352:1,353:2,360:1,368:1,369:1,370:1,371:1,372:1,373:1,374:1,375:1,376:1,377:1,378:1,382:3,385:1,392:1,393:1,396:2,397:2,398:2,399:1,400:1,401:1,402:1,403:1,404:1,405:1,406:1,407:1,408:1,409:1,410:1,414:4,415:1,416:1,417:2,420:1,421:1,422:2,424:1,425:2,426:2,427:2,428:2,430:3,438:3,439:3,440:3,443:2,444:2,445:2,446:2,447:6,448:6,449:2,450:2,464:2,468:3,476:2,479:1,480:2,65535:0};function Ek(e){return e.slice(0,3)=="of:"&&(e=e.slice(3)),e.charCodeAt(0)==61&&(e=e.slice(1),e.charCodeAt(0)==61&&(e=e.slice(1))),e=e.replace(/COM\.MICROSOFT\./g,""),e=e.replace(/\[((?:\.[A-Z]+[0-9]+)(?::\.[A-Z]+[0-9]+)?)\]/g,function(t,r){return r.replace(/\./g,"")}),e=e.replace(/\[.(#[A-Z]*[?!])\]/g,"$1"),e.replace(/[;~]/g,",").replace(/\|/g,";")}function qJ(e){var t="of:="+e.replace(p3,"$1[.$2$3$4$5]").replace(/\]:\[/g,":");return t.replace(/;/g,"|").replace(/,/g,";")}function Ow(e){var t=e.split(":"),r=t[0].split(".")[0];return[r,t[0].split(".")[1]+(t.length>1?":"+(t[1].split(".")[1]||t[1].split(".")[0]):"")]}function $J(e){return e.replace(/\./,"!")}var Cx={},Dm={},Tx=typeof Map<"u";function v3(e,t,r){var n=0,a=e.length;if(r){if(Tx?r.has(t):Object.prototype.hasOwnProperty.call(r,t)){for(var i=Tx?r.get(t):r[t];n<i.length;++n)if(e[i[n]].t===t)return e.Count++,i[n]}}else for(;n<a;++n)if(e[n].t===t)return e.Count++,n;return e[a]={t},e.Count++,e.Unique++,r&&(Tx?(r.has(t)||r.set(t,[]),r.get(t).push(a)):(Object.prototype.hasOwnProperty.call(r,t)||(r[t]=[]),r[t].push(a))),a}function d2(e,t){var r={min:e+1,max:e+1},n=-1;return t.MDW&&(_s=t.MDW),t.width!=null?r.customWidth=1:t.wpx!=null?n=eg(t.wpx):t.wch!=null&&(n=t.wch),n>-1?(r.width=sy(n),r.customWidth=1):t.width!=null&&(r.width=t.width),t.hidden&&(r.hidden=!0),t.level!=null&&(r.outlineLevel=r.level=t.level),r}function P0(e,t){if(e){var r=[.7,.7,.75,.75,.3,.3];t=="xlml"&&(r=[1,1,1,1,.5,.5]),e.left==null&&(e.left=r[0]),e.right==null&&(e.right=r[1]),e.top==null&&(e.top=r[2]),e.bottom==null&&(e.bottom=r[3]),e.header==null&&(e.header=r[4]),e.footer==null&&(e.footer=r[5])}}function Id(e,t,r){var n=r.revssf[t.z!=null?t.z:"General"],a=60,i=e.length;if(n==null&&r.ssf){for(;a<392;++a)if(r.ssf[a]==null){lf(t.z,a),r.ssf[a]=t.z,r.revssf[t.z]=n=a;break}}for(a=0;a!=i;++a)if(e[a].numFmtId===n)return a;return e[i]={numFmtId:n,fontId:0,fillId:0,borderId:0,xfId:0,applyNumberFormat:1},i}function zP(e,t,r,n,a,i){try{n.cellNF&&(e.z=ur[t])}catch(o){if(n.WTF)throw o}if(!(e.t==="z"&&!n.cellStyles)){if(e.t==="d"&&typeof e.v=="string"&&(e.v=Jn(e.v)),(!n||n.cellText!==!1)&&e.t!=="z")try{if(ur[t]==null&&lf(UW[t]||"General",t),e.t==="e")e.w=e.w||Sf[e.v];else if(t===0)if(e.t==="n")(e.v|0)===e.v?e.w=e.v.toString(10):e.w=Gx(e.v);else if(e.t==="d"){var l=ji(e.v);(l|0)===l?e.w=l.toString(10):e.w=Gx(l)}else{if(e.v===void 0)return"";e.w=V0(e.v,Dm)}else e.t==="d"?e.w=Uo(t,ji(e.v),Dm):e.w=Uo(t,e.v,Dm)}catch(o){if(n.WTF)throw o}if(n.cellStyles&&r!=null)try{e.s=i.Fills[r],e.s.fgColor&&e.s.fgColor.theme&&!e.s.fgColor.rgb&&(e.s.fgColor.rgb=iy(a.themeElements.clrScheme[e.s.fgColor.theme].rgb,e.s.fgColor.tint||0),n.WTF&&(e.s.fgColor.raw_rgb=a.themeElements.clrScheme[e.s.fgColor.theme].rgb)),e.s.bgColor&&e.s.bgColor.theme&&(e.s.bgColor.rgb=iy(a.themeElements.clrScheme[e.s.bgColor.theme].rgb,e.s.bgColor.tint||0),n.WTF&&(e.s.bgColor.raw_rgb=a.themeElements.clrScheme[e.s.bgColor.theme].rgb))}catch(o){if(n.WTF&&i.Fills)throw o}}}function HJ(e,t,r){if(e&&e["!ref"]){var n=Jr(e["!ref"]);if(n.e.c<n.s.c||n.e.r<n.s.r)throw new Error("Bad range ("+r+"): "+e["!ref"])}}function VJ(e,t){var r=Jr(t);r.s.r<=r.e.r&&r.s.c<=r.e.c&&r.s.r>=0&&r.s.c>=0&&(e["!ref"]=Nr(r))}var WJ=/<(?:\w:)?mergeCell ref="[A-Z0-9:]+"\s*[\/]?>/g,GJ=/<(?:\w+:)?sheetData[^>]*>([\s\S]*)<\/(?:\w+:)?sheetData>/,KJ=/<(?:\w:)?hyperlink [^>]*>/mg,YJ=/"(\w*:\w*)"/,XJ=/<(?:\w:)?col\b[^>]*[\/]?>/g,QJ=/<(?:\w:)?autoFilter[^>]*([\/]|>([\s\S]*)<\/(?:\w:)?autoFilter)>/g,ZJ=/<(?:\w:)?pageMargins[^>]*\/>/g,qP=/<(?:\w:)?sheetPr\b(?:[^>a-z][^>]*)?\/>/,JJ=/<(?:\w:)?sheetPr[^>]*(?:[\/]|>([\s\S]*)<\/(?:\w:)?sheetPr)>/,eee=/<(?:\w:)?sheetViews[^>]*(?:[\/]|>([\s\S]*)<\/(?:\w:)?sheetViews)>/;function tee(e,t,r,n,a,i,l){if(!e)return e;n||(n={"!id":{}});var o=t.dense?[]:{},u={s:{r:2e6,c:2e6},e:{r:0,c:0}},f="",h="",m=e.match(GJ);m?(f=e.slice(0,m.index),h=e.slice(m.index+m[0].length)):f=h=e;var g=f.match(qP);g?y3(g[0],o,a,r):(g=f.match(JJ))&&nee(g[0],g[1]||"",o,a,r);var x=(f.match(/<(?:\w*:)?dimension/)||{index:-1}).index;if(x>0){var b=f.slice(x,x+50).match(YJ);b&&VJ(o,b[1])}var v=f.match(eee);v&&v[1]&&xee(v[1],a);var w=[];if(t.cellStyles){var N=f.match(XJ);N&&fee(w,N)}m&&yee(m[1],o,t,u,i,l);var E=h.match(QJ);E&&(o["!autofilter"]=hee(E[0]));var j=[],T=h.match(WJ);if(T)for(x=0;x!=T.length;++x)j[x]=Jr(T[x].slice(T[x].indexOf('"')+1));var O=h.match(KJ);O&&oee(o,O,n);var F=h.match(ZJ);if(F&&(o["!margins"]=cee(hr(F[0]))),!o["!ref"]&&u.e.c>=u.s.c&&u.e.r>=u.s.r&&(o["!ref"]=Nr(u)),t.sheetRows>0&&o["!ref"]){var D=Jr(o["!ref"]);t.sheetRows<=+D.e.r&&(D.e.r=t.sheetRows-1,D.e.r>u.e.r&&(D.e.r=u.e.r),D.e.r<D.s.r&&(D.s.r=D.e.r),D.e.c>u.e.c&&(D.e.c=u.e.c),D.e.c<D.s.c&&(D.s.c=D.e.c),o["!fullref"]=o["!ref"],o["!ref"]=Nr(D))}return w.length>0&&(o["!cols"]=w),j.length>0&&(o["!merges"]=j),o}function ree(e){if(e.length===0)return"";for(var t='<mergeCells count="'+e.length+'">',r=0;r!=e.length;++r)t+='<mergeCell ref="'+Nr(e[r])+'"/>';return t+"</mergeCells>"}function y3(e,t,r,n){var a=hr(e);r.Sheets[n]||(r.Sheets[n]={}),a.codeName&&(r.Sheets[n].CodeName=Qr(Dn(a.codeName)))}function nee(e,t,r,n,a){y3(e.slice(0,e.indexOf(">")),r,n,a)}function aee(e,t,r,n,a){var i=!1,l={},o=null;if(n.bookType!=="xlsx"&&t.vbaraw){var u=t.SheetNames[r];try{t.Workbook&&(u=t.Workbook.Sheets[r].CodeName||u)}catch{}i=!0,l.codeName=ou(_n(u))}if(e&&e["!outline"]){var f={summaryBelow:1,summaryRight:1};e["!outline"].above&&(f.summaryBelow=0),e["!outline"].left&&(f.summaryRight=0),o=(o||"")+wt("outlinePr",null,f)}!i&&!o||(a[a.length]=wt("sheetPr",o,l))}var iee=["objects","scenarios","selectLockedCells","selectUnlockedCells"],see=["formatColumns","formatRows","formatCells","insertColumns","insertRows","insertHyperlinks","deleteColumns","deleteRows","sort","autoFilter","pivotTables"];function lee(e){var t={sheet:1};return iee.forEach(function(r){e[r]!=null&&e[r]&&(t[r]="1")}),see.forEach(function(r){e[r]!=null&&!e[r]&&(t[r]="0")}),e.password&&(t.password=d3(e.password).toString(16).toUpperCase()),wt("sheetProtection",null,t)}function oee(e,t,r){for(var n=Array.isArray(e),a=0;a!=t.length;++a){var i=hr(Dn(t[a]),!0);if(!i.ref)return;var l=((r||{})["!id"]||[])[i.id];l?(i.Target=l.Target,i.location&&(i.Target+="#"+Qr(i.location))):(i.Target="#"+Qr(i.location),l={Target:i.Target,TargetMode:"Internal"}),i.Rel=l,i.tooltip&&(i.Tooltip=i.tooltip,delete i.tooltip);for(var o=Jr(i.ref),u=o.s.r;u<=o.e.r;++u)for(var f=o.s.c;f<=o.e.c;++f){var h=fr({c:f,r:u});n?(e[u]||(e[u]=[]),e[u][f]||(e[u][f]={t:"z",v:void 0}),e[u][f].l=i):(e[h]||(e[h]={t:"z",v:void 0}),e[h].l=i)}}}function cee(e){var t={};return["left","right","top","bottom","header","footer"].forEach(function(r){e[r]&&(t[r]=parseFloat(e[r]))}),t}function uee(e){return P0(e),wt("pageMargins",null,e)}function fee(e,t){for(var r=!1,n=0;n!=t.length;++n){var a=hr(t[n],!0);a.hidden&&(a.hidden=Qn(a.hidden));var i=parseInt(a.min,10)-1,l=parseInt(a.max,10)-1;for(a.outlineLevel&&(a.level=+a.outlineLevel||0),delete a.min,delete a.max,a.width=+a.width,!r&&a.width&&(r=!0,h3(a.width)),Ad(a);i<=l;)e[i++]=ea(a)}}function dee(e,t){for(var r=["<cols>"],n,a=0;a!=t.length;++a)(n=t[a])&&(r[r.length]=wt("col",null,d2(a,n)));return r[r.length]="</cols>",r.join("")}function hee(e){var t={ref:(e.match(/ref="([^"]*)"/)||[])[1]};return t}function mee(e,t,r,n){var a=typeof e.ref=="string"?e.ref:Nr(e.ref);r.Workbook||(r.Workbook={Sheets:[]}),r.Workbook.Names||(r.Workbook.Names=[]);var i=r.Workbook.Names,l=Cl(a);l.s.r==l.e.r&&(l.e.r=Cl(t["!ref"]).e.r,a=Nr(l));for(var o=0;o<i.length;++o){var u=i[o];if(u.Name=="_xlnm._FilterDatabase"&&u.Sheet==n){u.Ref="'"+r.SheetNames[n]+"'!"+a;break}}return o==i.length&&i.push({Name:"_xlnm._FilterDatabase",Sheet:n,Ref:"'"+r.SheetNames[n]+"'!"+a}),wt("autoFilter",null,{ref:a})}var pee=/<(?:\w:)?sheetView(?:[^>a-z][^>]*)?\/?>/;function xee(e,t){t.Views||(t.Views=[{}]),(e.match(pee)||[]).forEach(function(r,n){var a=hr(r);t.Views[n]||(t.Views[n]={}),+a.zoomScale&&(t.Views[n].zoom=+a.zoomScale),Qn(a.rightToLeft)&&(t.Views[n].RTL=!0)})}function gee(e,t,r,n){var a={workbookViewId:"0"};return(((n||{}).Workbook||{}).Views||[])[0]&&(a.rightToLeft=n.Workbook.Views[0].RTL?"1":"0"),wt("sheetViews",wt("sheetView",null,a),{})}function vee(e,t,r,n){if(e.c&&r["!comments"].push([t,e.c]),e.v===void 0&&typeof e.f!="string"||e.t==="z"&&!e.f)return"";var a="",i=e.t,l=e.v;if(e.t!=="z")switch(e.t){case"b":a=e.v?"1":"0";break;case"n":a=""+e.v;break;case"e":a=Sf[e.v];break;case"d":n&&n.cellDates?a=Jn(e.v,-1).toISOString():(e=ea(e),e.t="n",a=""+(e.v=ji(Jn(e.v)))),typeof e.z>"u"&&(e.z=ur[14]);break;default:a=e.v;break}var o=ss("v",_n(a)),u={r:t},f=Id(n.cellXfs,e,n);switch(f!==0&&(u.s=f),e.t){case"n":break;case"d":u.t="d";break;case"b":u.t="b";break;case"e":u.t="e";break;case"z":break;default:if(e.v==null){delete e.t;break}if(e.v.length>32767)throw new Error("Text length must not exceed 32767 characters");if(n&&n.bookSST){o=ss("v",""+v3(n.Strings,e.v,n.revStrings)),u.t="s";break}u.t="str";break}if(e.t!=i&&(e.t=i,e.v=l),typeof e.f=="string"&&e.f){var h=e.F&&e.F.slice(0,t.length)==t?{t:"array",ref:e.F}:null;o=wt("f",_n(e.f),h)+(e.v!=null?o:"")}return e.l&&r["!links"].push([t,e.l]),e.D&&(u.cm=1),wt("c",o,u)}var yee=(function(){var e=/<(?:\w+:)?c[ \/>]/,t=/<\/(?:\w+:)?row>/,r=/r=["']([^"']*)["']/,n=/<(?:\w+:)?is>([\S\s]*?)<\/(?:\w+:)?is>/,a=/ref=["']([^"']*)["']/,i=Kx("v"),l=Kx("f");return function(u,f,h,m,g,x){for(var b=0,v="",w=[],N=[],E=0,j=0,T=0,O="",F,D,L=0,B=0,H,P,U=0,K=0,ee=Array.isArray(x.CellXf),me,ne=[],se=[],ye=Array.isArray(f),ce=[],Se={},te=!1,M=!!h.sheetStubs,R=u.split(t),q=0,W=R.length;q!=W;++q){v=R[q].trim();var J=v.length;if(J!==0){var le=0;e:for(b=0;b<J;++b)switch(v[b]){case">":if(v[b-1]!="/"){++b;break e}if(h&&h.cellStyles){if(D=hr(v.slice(le,b),!0),L=D.r!=null?parseInt(D.r,10):L+1,B=-1,h.sheetRows&&h.sheetRows<L)continue;Se={},te=!1,D.ht&&(te=!0,Se.hpt=parseFloat(D.ht),Se.hpx=Hm(Se.hpt)),D.hidden=="1"&&(te=!0,Se.hidden=!0),D.outlineLevel!=null&&(te=!0,Se.level=+D.outlineLevel),te&&(ce[L-1]=Se)}break;case"<":le=b;break}if(le>=b)break;if(D=hr(v.slice(le,b),!0),L=D.r!=null?parseInt(D.r,10):L+1,B=-1,!(h.sheetRows&&h.sheetRows<L)){m.s.r>L-1&&(m.s.r=L-1),m.e.r<L-1&&(m.e.r=L-1),h&&h.cellStyles&&(Se={},te=!1,D.ht&&(te=!0,Se.hpt=parseFloat(D.ht),Se.hpx=Hm(Se.hpt)),D.hidden=="1"&&(te=!0,Se.hidden=!0),D.outlineLevel!=null&&(te=!0,Se.level=+D.outlineLevel),te&&(ce[L-1]=Se)),w=v.slice(b).split(e);for(var ue=0;ue!=w.length&&w[ue].trim().charAt(0)=="<";++ue);for(w=w.slice(ue),b=0;b!=w.length;++b)if(v=w[b].trim(),v.length!==0){if(N=v.match(r),E=b,j=0,T=0,v="<c "+(v.slice(0,1)=="<"?">":"")+v,N!=null&&N.length===2){for(E=0,O=N[1],j=0;j!=O.length&&!((T=O.charCodeAt(j)-64)<1||T>26);++j)E=26*E+T;--E,B=E}else++B;for(j=0;j!=v.length&&v.charCodeAt(j)!==62;++j);if(++j,D=hr(v.slice(0,j),!0),D.r||(D.r=fr({r:L-1,c:B})),O=v.slice(j),F={t:""},(N=O.match(i))!=null&&N[1]!==""&&(F.v=Qr(N[1])),h.cellFormula){if((N=O.match(l))!=null&&N[1]!==""){if(F.f=Qr(Dn(N[1])).replace(/\r\n/g,`
`),h.xlfn||(F.f=_k(F.f)),N[0].indexOf('t="array"')>-1)F.F=(O.match(a)||[])[1],F.F.indexOf(":")>-1&&ne.push([Jr(F.F),F.F]);else if(N[0].indexOf('t="shared"')>-1){P=hr(N[0]);var X=Qr(Dn(N[1]));h.xlfn||(X=_k(X)),se[parseInt(P.si,10)]=[P,X,D.r]}}else(N=O.match(/<f[^>]*\/>/))&&(P=hr(N[0]),se[P.si]&&(F.f=pZ(se[P.si][1],se[P.si][2],D.r)));var ge=ja(D.r);for(j=0;j<ne.length;++j)ge.r>=ne[j][0].s.r&&ge.r<=ne[j][0].e.r&&ge.c>=ne[j][0].s.c&&ge.c<=ne[j][0].e.c&&(F.F=ne[j][1])}if(D.t==null&&F.v===void 0)if(F.f||F.F)F.v=0,F.t="n";else if(M)F.t="z";else continue;else F.t=D.t||"n";switch(m.s.c>B&&(m.s.c=B),m.e.c<B&&(m.e.c=B),F.t){case"n":if(F.v==""||F.v==null){if(!M)continue;F.t="z"}else F.v=parseFloat(F.v);break;case"s":if(typeof F.v>"u"){if(!M)continue;F.t="z"}else H=Cx[parseInt(F.v,10)],F.v=H.t,F.r=H.r,h.cellHTML&&(F.h=H.h);break;case"str":F.t="s",F.v=F.v!=null?Dn(F.v):"",h.cellHTML&&(F.h=Q_(F.v));break;case"inlineStr":N=O.match(n),F.t="s",N!=null&&(H=f3(N[1]))?(F.v=H.t,h.cellHTML&&(F.h=H.h)):F.v="";break;case"b":F.v=Qn(F.v);break;case"d":h.cellDates?F.v=Jn(F.v,1):(F.v=ji(Jn(F.v,1)),F.t="n");break;case"e":(!h||h.cellText!==!1)&&(F.w=F.v),F.v=HF[F.v];break}if(U=K=0,me=null,ee&&D.s!==void 0&&(me=x.CellXf[D.s],me!=null&&(me.numFmtId!=null&&(U=me.numFmtId),h.cellStyles&&me.fillId!=null&&(K=me.fillId))),zP(F,U,K,h,g,x),h.cellDates&&ee&&F.t=="n"&&ip(ur[U])&&(F.t="d",F.v=o2(F.v)),D.cm&&h.xlmeta){var Te=(h.xlmeta.Cell||[])[+D.cm-1];Te&&Te.type=="XLDAPR"&&(F.D=!0)}if(ye){var Y=ja(D.r);f[Y.r]||(f[Y.r]=[]),f[Y.r][Y.c]=F}else f[D.r]=F}}}}ce.length>0&&(f["!rows"]=ce)}})();function bee(e,t,r,n){var a=[],i=[],l=Jr(e["!ref"]),o="",u,f="",h=[],m=0,g=0,x=e["!rows"],b=Array.isArray(e),v={r:f},w,N=-1;for(g=l.s.c;g<=l.e.c;++g)h[g]=_a(g);for(m=l.s.r;m<=l.e.r;++m){for(i=[],f=Ya(m),g=l.s.c;g<=l.e.c;++g){u=h[g]+f;var E=b?(e[m]||[])[g]:e[u];E!==void 0&&(o=vee(E,u,e,t))!=null&&i.push(o)}(i.length>0||x&&x[m])&&(v={r:f},x&&x[m]&&(w=x[m],w.hidden&&(v.hidden=1),N=-1,w.hpx?N=tg(w.hpx):w.hpt&&(N=w.hpt),N>-1&&(v.ht=N,v.customHeight=1),w.level&&(v.outlineLevel=w.level)),a[a.length]=wt("row",i.join(""),v))}if(x)for(;m<x.length;++m)x&&x[m]&&(v={r:m+1},w=x[m],w.hidden&&(v.hidden=1),N=-1,w.hpx?N=tg(w.hpx):w.hpt&&(N=w.hpt),N>-1&&(v.ht=N,v.customHeight=1),w.level&&(v.outlineLevel=w.level),a[a.length]=wt("row","",v));return a.join("")}function $P(e,t,r,n){var a=[Xa,wt("worksheet",null,{xmlns:ch[0],"xmlns:r":Ni.r})],i=r.SheetNames[e],l=0,o="",u=r.Sheets[i];u==null&&(u={});var f=u["!ref"]||"A1",h=Jr(f);if(h.e.c>16383||h.e.r>1048575){if(t.WTF)throw new Error("Range "+f+" exceeds format limit A1:XFD1048576");h.e.c=Math.min(h.e.c,16383),h.e.r=Math.min(h.e.c,1048575),f=Nr(h)}n||(n={}),u["!comments"]=[];var m=[];aee(u,r,e,t,a),a[a.length]=wt("dimension",null,{ref:f}),a[a.length]=gee(u,t,e,r),t.sheetFormat&&(a[a.length]=wt("sheetFormatPr",null,{defaultRowHeight:t.sheetFormat.defaultRowHeight||"16",baseColWidth:t.sheetFormat.baseColWidth||"10",outlineLevelRow:t.sheetFormat.outlineLevelRow||"7"})),u["!cols"]!=null&&u["!cols"].length>0&&(a[a.length]=dee(u,u["!cols"])),a[l=a.length]="<sheetData/>",u["!links"]=[],u["!ref"]!=null&&(o=bee(u,t),o.length>0&&(a[a.length]=o)),a.length>l+1&&(a[a.length]="</sheetData>",a[l]=a[l].replace("/>",">")),u["!protect"]&&(a[a.length]=lee(u["!protect"])),u["!autofilter"]!=null&&(a[a.length]=mee(u["!autofilter"],u,r,e)),u["!merges"]!=null&&u["!merges"].length>0&&(a[a.length]=ree(u["!merges"]));var g=-1,x,b=-1;return u["!links"].length>0&&(a[a.length]="<hyperlinks>",u["!links"].forEach(function(v){v[1].Target&&(x={ref:v[0]},v[1].Target.charAt(0)!="#"&&(b=bn(n,-1,_n(v[1].Target).replace(/#.*$/,""),Dr.HLINK),x["r:id"]="rId"+b),(g=v[1].Target.indexOf("#"))>-1&&(x.location=_n(v[1].Target.slice(g+1))),v[1].Tooltip&&(x.tooltip=_n(v[1].Tooltip)),a[a.length]=wt("hyperlink",null,x))}),a[a.length]="</hyperlinks>"),delete u["!links"],u["!margins"]!=null&&(a[a.length]=uee(u["!margins"])),(!t||t.ignoreEC||t.ignoreEC==null)&&(a[a.length]=ss("ignoredErrors",wt("ignoredError",null,{numberStoredAsText:1,sqref:f}))),m.length>0&&(b=bn(n,-1,"../drawings/drawing"+(e+1)+".xml",Dr.DRAW),a[a.length]=wt("drawing",null,{"r:id":"rId"+b}),u["!drawing"]=m),u["!comments"].length>0&&(b=bn(n,-1,"../drawings/vmlDrawing"+(e+1)+".vml",Dr.VML),a[a.length]=wt("legacyDrawing",null,{"r:id":"rId"+b}),u["!legacy"]=b),a.length>1&&(a[a.length]="</worksheet>",a[1]=a[1].replace("/>",">")),a.join("")}function wee(e,t){var r={},n=e.l+t;r.r=e.read_shift(4),e.l+=4;var a=e.read_shift(2);e.l+=1;var i=e.read_shift(1);return e.l=n,i&7&&(r.level=i&7),i&16&&(r.hidden=!0),i&32&&(r.hpt=a/20),r}function Nee(e,t,r){var n=Je(145),a=(r["!rows"]||[])[e]||{};n.write_shift(4,e),n.write_shift(4,0);var i=320;a.hpx?i=tg(a.hpx)*20:a.hpt&&(i=a.hpt*20),n.write_shift(2,i),n.write_shift(1,0);var l=0;a.level&&(l|=a.level),a.hidden&&(l|=16),(a.hpx||a.hpt)&&(l|=32),n.write_shift(1,l),n.write_shift(1,0);var o=0,u=n.l;n.l+=4;for(var f={r:e,c:0},h=0;h<16;++h)if(!(t.s.c>h+1<<10||t.e.c<h<<10)){for(var m=-1,g=-1,x=h<<10;x<h+1<<10;++x){f.c=x;var b=Array.isArray(r)?(r[f.r]||[])[f.c]:r[fr(f)];b&&(m<0&&(m=x),g=x)}m<0||(++o,n.write_shift(4,m),n.write_shift(4,g))}var v=n.l;return n.l=u,n.write_shift(4,o),n.l=v,n.length>n.l?n.slice(0,n.l):n}function _ee(e,t,r,n){var a=Nee(n,r,t);(a.length>17||(t["!rows"]||[])[n])&&ut(e,0,a)}var jee=hh,See=op;function Aee(){}function Eee(e,t){var r={},n=e[e.l];return++e.l,r.above=!(n&64),r.left=!(n&128),e.l+=18,r.name=TG(e),r}function kee(e,t,r){r==null&&(r=Je(84+4*e.length));var n=192;t&&(t.above&&(n&=-65),t.left&&(n&=-129)),r.write_shift(1,n);for(var a=1;a<3;++a)r.write_shift(1,0);return ry({auto:1},r),r.write_shift(-4,-1),r.write_shift(-4,-1),BF(e,r),r.slice(0,r.l)}function Cee(e){var t=Wo(e);return[t]}function Tee(e,t,r){return r==null&&(r=Je(8)),uh(t,r)}function Oee(e){var t=fh(e);return[t]}function Dee(e,t,r){return r==null&&(r=Je(4)),dh(t,r)}function Fee(e){var t=Wo(e),r=e.read_shift(1);return[t,r,"b"]}function Pee(e,t,r){return r==null&&(r=Je(9)),uh(t,r),r.write_shift(1,e.v?1:0),r}function Lee(e){var t=fh(e),r=e.read_shift(1);return[t,r,"b"]}function Mee(e,t,r){return r==null&&(r=Je(5)),dh(t,r),r.write_shift(1,e.v?1:0),r}function Ree(e){var t=Wo(e),r=e.read_shift(1);return[t,r,"e"]}function Iee(e,t,r){return r==null&&(r=Je(9)),uh(t,r),r.write_shift(1,e.v),r}function Bee(e){var t=fh(e),r=e.read_shift(1);return[t,r,"e"]}function Uee(e,t,r){return r==null&&(r=Je(8)),dh(t,r),r.write_shift(1,e.v),r.write_shift(2,0),r.write_shift(1,0),r}function zee(e){var t=Wo(e),r=e.read_shift(4);return[t,r,"s"]}function qee(e,t,r){return r==null&&(r=Je(12)),uh(t,r),r.write_shift(4,t.v),r}function $ee(e){var t=fh(e),r=e.read_shift(4);return[t,r,"s"]}function Hee(e,t,r){return r==null&&(r=Je(8)),dh(t,r),r.write_shift(4,t.v),r}function Vee(e){var t=Wo(e),r=Ss(e);return[t,r,"n"]}function Wee(e,t,r){return r==null&&(r=Je(16)),uh(t,r),G0(e.v,r),r}function HP(e){var t=fh(e),r=Ss(e);return[t,r,"n"]}function Gee(e,t,r){return r==null&&(r=Je(12)),dh(t,r),G0(e.v,r),r}function Kee(e){var t=Wo(e),r=s3(e);return[t,r,"n"]}function Yee(e,t,r){return r==null&&(r=Je(12)),uh(t,r),UF(e.v,r),r}function Xee(e){var t=fh(e),r=s3(e);return[t,r,"n"]}function Qee(e,t,r){return r==null&&(r=Je(8)),dh(t,r),UF(e.v,r),r}function Zee(e){var t=Wo(e),r=n3(e);return[t,r,"is"]}function Jee(e){var t=Wo(e),r=Ts(e);return[t,r,"str"]}function ete(e,t,r){return r==null&&(r=Je(12+4*e.v.length)),uh(t,r),zi(e.v,r),r.length>r.l?r.slice(0,r.l):r}function tte(e){var t=fh(e),r=Ts(e);return[t,r,"str"]}function rte(e,t,r){return r==null&&(r=Je(8+4*e.v.length)),dh(t,r),zi(e.v,r),r.length>r.l?r.slice(0,r.l):r}function nte(e,t,r){var n=e.l+t,a=Wo(e);a.r=r["!row"];var i=e.read_shift(1),l=[a,i,"b"];if(r.cellFormula){e.l+=2;var o=f2(e,n-e.l,r);l[3]=Ns(o,null,a,r.supbooks,r)}else e.l=n;return l}function ate(e,t,r){var n=e.l+t,a=Wo(e);a.r=r["!row"];var i=e.read_shift(1),l=[a,i,"e"];if(r.cellFormula){e.l+=2;var o=f2(e,n-e.l,r);l[3]=Ns(o,null,a,r.supbooks,r)}else e.l=n;return l}function ite(e,t,r){var n=e.l+t,a=Wo(e);a.r=r["!row"];var i=Ss(e),l=[a,i,"n"];if(r.cellFormula){e.l+=2;var o=f2(e,n-e.l,r);l[3]=Ns(o,null,a,r.supbooks,r)}else e.l=n;return l}function ste(e,t,r){var n=e.l+t,a=Wo(e);a.r=r["!row"];var i=Ts(e),l=[a,i,"str"];if(r.cellFormula){e.l+=2;var o=f2(e,n-e.l,r);l[3]=Ns(o,null,a,r.supbooks,r)}else e.l=n;return l}var lte=hh,ote=op;function cte(e,t){return t==null&&(t=Je(4)),t.write_shift(4,e),t}function ute(e,t){var r=e.l+t,n=hh(e),a=a3(e),i=Ts(e),l=Ts(e),o=Ts(e);e.l=r;var u={rfx:n,relId:a,loc:i,display:o};return l&&(u.Tooltip=l),u}function fte(e,t){var r=Je(50+4*(e[1].Target.length+(e[1].Tooltip||"").length));op({s:ja(e[0]),e:ja(e[0])},r),i3("rId"+t,r);var n=e[1].Target.indexOf("#"),a=n==-1?"":e[1].Target.slice(n+1);return zi(a||"",r),zi(e[1].Tooltip||"",r),zi("",r),r.slice(0,r.l)}function dte(){}function hte(e,t,r){var n=e.l+t,a=zF(e),i=e.read_shift(1),l=[a];if(l[2]=i,r.cellFormula){var o=RJ(e,n-e.l,r);l[1]=o}else e.l=n;return l}function mte(e,t,r){var n=e.l+t,a=hh(e),i=[a];if(r.cellFormula){var l=BJ(e,n-e.l,r);i[1]=l,e.l=n}else e.l=n;return i}function pte(e,t,r){r==null&&(r=Je(18));var n=d2(e,t);r.write_shift(-4,e),r.write_shift(-4,e),r.write_shift(4,(n.width||10)*256),r.write_shift(4,0);var a=0;return t.hidden&&(a|=1),typeof n.width=="number"&&(a|=2),t.level&&(a|=t.level<<8),r.write_shift(2,a),r}var VP=["left","right","top","bottom","header","footer"];function xte(e){var t={};return VP.forEach(function(r){t[r]=Ss(e)}),t}function gte(e,t){return t==null&&(t=Je(48)),P0(e),VP.forEach(function(r){G0(e[r],t)}),t}function vte(e){var t=e.read_shift(2);return e.l+=28,{RTL:t&32}}function yte(e,t,r){r==null&&(r=Je(30));var n=924;return(((t||{}).Views||[])[0]||{}).RTL&&(n|=32),r.write_shift(2,n),r.write_shift(4,0),r.write_shift(4,0),r.write_shift(4,0),r.write_shift(1,0),r.write_shift(1,0),r.write_shift(2,0),r.write_shift(2,100),r.write_shift(2,0),r.write_shift(2,0),r.write_shift(2,0),r.write_shift(4,0),r}function bte(e){var t=Je(24);return t.write_shift(4,4),t.write_shift(4,1),op(e,t),t}function wte(e,t){return t==null&&(t=Je(66)),t.write_shift(2,e.password?d3(e.password):0),t.write_shift(4,1),[["objects",!1],["scenarios",!1],["formatCells",!0],["formatColumns",!0],["formatRows",!0],["insertColumns",!0],["insertRows",!0],["insertHyperlinks",!0],["deleteColumns",!0],["deleteRows",!0],["selectLockedCells",!1],["sort",!0],["autoFilter",!0],["pivotTables",!0],["selectUnlockedCells",!1]].forEach(function(r){r[1]?t.write_shift(4,e[r[0]]!=null&&!e[r[0]]?1:0):t.write_shift(4,e[r[0]]!=null&&e[r[0]]?0:1)}),t}function Nte(){}function _te(){}function jte(e,t,r,n,a,i,l){if(!e)return e;var o=t||{};n||(n={"!id":{}});var u=o.dense?[]:{},f,h={s:{r:2e6,c:2e6},e:{r:0,c:0}},m=!1,g=!1,x,b,v,w,N,E,j,T,O,F=[];o.biff=12,o["!row"]=0;var D=0,L=!1,B=[],H={},P=o.supbooks||a.supbooks||[[]];if(P.sharedf=H,P.arrayf=B,P.SheetNames=a.SheetNames||a.Sheets.map(function(ye){return ye.name}),!o.supbooks&&(o.supbooks=P,a.Names))for(var U=0;U<a.Names.length;++U)P[0][U+1]=a.Names[U];var K=[],ee=[],me=!1;rg[16]={n:"BrtShortReal",f:HP};var ne;if(jf(e,function(ce,Se,te){if(!g)switch(te){case 148:f=ce;break;case 0:x=ce,o.sheetRows&&o.sheetRows<=x.r&&(g=!0),T=Ya(w=x.r),o["!row"]=x.r,(ce.hidden||ce.hpt||ce.level!=null)&&(ce.hpt&&(ce.hpx=Hm(ce.hpt)),ee[ce.r]=ce);break;case 2:case 3:case 4:case 5:case 6:case 7:case 8:case 9:case 10:case 11:case 13:case 14:case 15:case 16:case 17:case 18:case 62:switch(b={t:ce[2]},ce[2]){case"n":b.v=ce[1];break;case"s":j=Cx[ce[1]],b.v=j.t,b.r=j.r;break;case"b":b.v=!!ce[1];break;case"e":b.v=ce[1],o.cellText!==!1&&(b.w=Sf[b.v]);break;case"str":b.t="s",b.v=ce[1];break;case"is":b.t="s",b.v=ce[1].t;break}if((v=l.CellXf[ce[0].iStyleRef])&&zP(b,v.numFmtId,null,o,i,l),N=ce[0].c==-1?N+1:ce[0].c,o.dense?(u[w]||(u[w]=[]),u[w][N]=b):u[_a(N)+T]=b,o.cellFormula){for(L=!1,D=0;D<B.length;++D){var M=B[D];x.r>=M[0].s.r&&x.r<=M[0].e.r&&N>=M[0].s.c&&N<=M[0].e.c&&(b.F=Nr(M[0]),L=!0)}!L&&ce.length>3&&(b.f=ce[3])}if(h.s.r>x.r&&(h.s.r=x.r),h.s.c>N&&(h.s.c=N),h.e.r<x.r&&(h.e.r=x.r),h.e.c<N&&(h.e.c=N),o.cellDates&&v&&b.t=="n"&&ip(ur[v.numFmtId])){var R=A0(b.v);R&&(b.t="d",b.v=new Date(R.y,R.m-1,R.d,R.H,R.M,R.S,R.u))}ne&&(ne.type=="XLDAPR"&&(b.D=!0),ne=void 0);break;case 1:case 12:if(!o.sheetStubs||m)break;b={t:"z",v:void 0},N=ce[0].c==-1?N+1:ce[0].c,o.dense?(u[w]||(u[w]=[]),u[w][N]=b):u[_a(N)+T]=b,h.s.r>x.r&&(h.s.r=x.r),h.s.c>N&&(h.s.c=N),h.e.r<x.r&&(h.e.r=x.r),h.e.c<N&&(h.e.c=N),ne&&(ne.type=="XLDAPR"&&(b.D=!0),ne=void 0);break;case 176:F.push(ce);break;case 49:ne=((o.xlmeta||{}).Cell||[])[ce-1];break;case 494:var q=n["!id"][ce.relId];for(q?(ce.Target=q.Target,ce.loc&&(ce.Target+="#"+ce.loc),ce.Rel=q):ce.relId==""&&(ce.Target="#"+ce.loc),w=ce.rfx.s.r;w<=ce.rfx.e.r;++w)for(N=ce.rfx.s.c;N<=ce.rfx.e.c;++N)o.dense?(u[w]||(u[w]=[]),u[w][N]||(u[w][N]={t:"z",v:void 0}),u[w][N].l=ce):(E=fr({c:N,r:w}),u[E]||(u[E]={t:"z",v:void 0}),u[E].l=ce);break;case 426:if(!o.cellFormula)break;B.push(ce),O=o.dense?u[w][N]:u[_a(N)+T],O.f=Ns(ce[1],h,{r:x.r,c:N},P,o),O.F=Nr(ce[0]);break;case 427:if(!o.cellFormula)break;H[fr(ce[0].s)]=ce[1],O=o.dense?u[w][N]:u[_a(N)+T],O.f=Ns(ce[1],h,{r:x.r,c:N},P,o);break;case 60:if(!o.cellStyles)break;for(;ce.e>=ce.s;)K[ce.e--]={width:ce.w/256,hidden:!!(ce.flags&1),level:ce.level},me||(me=!0,h3(ce.w/256)),Ad(K[ce.e+1]);break;case 161:u["!autofilter"]={ref:Nr(ce)};break;case 476:u["!margins"]=ce;break;case 147:a.Sheets[r]||(a.Sheets[r]={}),ce.name&&(a.Sheets[r].CodeName=ce.name),(ce.above||ce.left)&&(u["!outline"]={above:ce.above,left:ce.left});break;case 137:a.Views||(a.Views=[{}]),a.Views[0]||(a.Views[0]={}),ce.RTL&&(a.Views[0].RTL=!0);break;case 485:break;case 64:case 1053:break;case 151:break;case 152:case 175:case 644:case 625:case 562:case 396:case 1112:case 1146:case 471:case 1050:case 649:case 1105:case 589:case 607:case 564:case 1055:case 168:case 174:case 1180:case 499:case 507:case 550:case 171:case 167:case 1177:case 169:case 1181:case 551:case 552:case 661:case 639:case 478:case 537:case 477:case 536:case 1103:case 680:case 1104:case 1024:case 663:case 535:case 678:case 504:case 1043:case 428:case 170:case 3072:case 50:case 2070:case 1045:break;case 35:m=!0;break;case 36:m=!1;break;case 37:m=!0;break;case 38:m=!1;break;default:if(!Se.T){if(!m||o.WTF)throw new Error("Unexpected record 0x"+te.toString(16))}}},o),delete o.supbooks,delete o["!row"],!u["!ref"]&&(h.s.r<2e6||f&&(f.e.r>0||f.e.c>0||f.s.r>0||f.s.c>0))&&(u["!ref"]=Nr(f||h)),o.sheetRows&&u["!ref"]){var se=Jr(u["!ref"]);o.sheetRows<=+se.e.r&&(se.e.r=o.sheetRows-1,se.e.r>h.e.r&&(se.e.r=h.e.r),se.e.r<se.s.r&&(se.s.r=se.e.r),se.e.c>h.e.c&&(se.e.c=h.e.c),se.e.c<se.s.c&&(se.s.c=se.e.c),u["!fullref"]=u["!ref"],u["!ref"]=Nr(se))}return F.length>0&&(u["!merges"]=F),K.length>0&&(u["!cols"]=K),ee.length>0&&(u["!rows"]=ee),u}function Ste(e,t,r,n,a,i,l){if(t.v===void 0)return!1;var o="";switch(t.t){case"b":o=t.v?"1":"0";break;case"d":t=ea(t),t.z=t.z||ur[14],t.v=ji(Jn(t.v)),t.t="n";break;case"n":case"e":o=""+t.v;break;default:o=t.v;break}var u={r,c:n};switch(u.s=Id(a.cellXfs,t,a),t.l&&i["!links"].push([fr(u),t.l]),t.c&&i["!comments"].push([fr(u),t.c]),t.t){case"s":case"str":return a.bookSST?(o=v3(a.Strings,t.v,a.revStrings),u.t="s",u.v=o,l?ut(e,18,Hee(t,u)):ut(e,7,qee(t,u))):(u.t="str",l?ut(e,17,rte(t,u)):ut(e,6,ete(t,u))),!0;case"n":return t.v==(t.v|0)&&t.v>-1e3&&t.v<1e3?l?ut(e,13,Qee(t,u)):ut(e,2,Yee(t,u)):l?ut(e,16,Gee(t,u)):ut(e,5,Wee(t,u)),!0;case"b":return u.t="b",l?ut(e,15,Mee(t,u)):ut(e,4,Pee(t,u)),!0;case"e":return u.t="e",l?ut(e,14,Uee(t,u)):ut(e,3,Iee(t,u)),!0}return l?ut(e,12,Dee(t,u)):ut(e,1,Tee(t,u)),!0}function Ate(e,t,r,n){var a=Jr(t["!ref"]||"A1"),i,l="",o=[];ut(e,145);var u=Array.isArray(t),f=a.e.r;t["!rows"]&&(f=Math.max(a.e.r,t["!rows"].length-1));for(var h=a.s.r;h<=f;++h){l=Ya(h),_ee(e,t,a,h);var m=!1;if(h<=a.e.r)for(var g=a.s.c;g<=a.e.c;++g){h===a.s.r&&(o[g]=_a(g)),i=o[g]+l;var x=u?(t[h]||[])[g]:t[i];if(!x){m=!1;continue}m=Ste(e,x,h,g,n,t,m)}}ut(e,146)}function Ete(e,t){!t||!t["!merges"]||(ut(e,177,cte(t["!merges"].length)),t["!merges"].forEach(function(r){ut(e,176,ote(r))}),ut(e,178))}function kte(e,t){!t||!t["!cols"]||(ut(e,390),t["!cols"].forEach(function(r,n){r&&ut(e,60,pte(n,r))}),ut(e,391))}function Cte(e,t){!t||!t["!ref"]||(ut(e,648),ut(e,649,bte(Jr(t["!ref"]))),ut(e,650))}function Tte(e,t,r){t["!links"].forEach(function(n){if(n[1].Target){var a=bn(r,-1,n[1].Target.replace(/#.*$/,""),Dr.HLINK);ut(e,494,fte(n,a))}}),delete t["!links"]}function Ote(e,t,r,n){if(t["!comments"].length>0){var a=bn(n,-1,"../drawings/vmlDrawing"+(r+1)+".vml",Dr.VML);ut(e,551,i3("rId"+a)),t["!legacy"]=a}}function Dte(e,t,r,n){if(t["!autofilter"]){var a=t["!autofilter"],i=typeof a.ref=="string"?a.ref:Nr(a.ref);r.Workbook||(r.Workbook={Sheets:[]}),r.Workbook.Names||(r.Workbook.Names=[]);var l=r.Workbook.Names,o=Cl(i);o.s.r==o.e.r&&(o.e.r=Cl(t["!ref"]).e.r,i=Nr(o));for(var u=0;u<l.length;++u){var f=l[u];if(f.Name=="_xlnm._FilterDatabase"&&f.Sheet==n){f.Ref="'"+r.SheetNames[n]+"'!"+i;break}}u==l.length&&l.push({Name:"_xlnm._FilterDatabase",Sheet:n,Ref:"'"+r.SheetNames[n]+"'!"+i}),ut(e,161,op(Jr(i))),ut(e,162)}}function Fte(e,t,r){ut(e,133),ut(e,137,yte(t,r)),ut(e,138),ut(e,134)}function Pte(e,t){t["!protect"]&&ut(e,535,wte(t["!protect"]))}function Lte(e,t,r,n){var a=El(),i=r.SheetNames[e],l=r.Sheets[i]||{},o=i;try{r&&r.Workbook&&(o=r.Workbook.Sheets[e].CodeName||o)}catch{}var u=Jr(l["!ref"]||"A1");if(u.e.c>16383||u.e.r>1048575){if(t.WTF)throw new Error("Range "+(l["!ref"]||"A1")+" exceeds format limit A1:XFD1048576");u.e.c=Math.min(u.e.c,16383),u.e.r=Math.min(u.e.c,1048575)}return l["!links"]=[],l["!comments"]=[],ut(a,129),(r.vbaraw||l["!outline"])&&ut(a,147,kee(o,l["!outline"])),ut(a,148,See(u)),Fte(a,l,r.Workbook),kte(a,l),Ate(a,l,e,t),Pte(a,l),Dte(a,l,r,e),Ete(a,l),Tte(a,l,n),l["!margins"]&&ut(a,476,gte(l["!margins"])),(!t||t.ignoreEC||t.ignoreEC==null)&&Cte(a,l),Ote(a,l,e,n),ut(a,130),a.end()}function Mte(e){var t=[],r=e.match(/^<c:numCache>/),n;(e.match(/<c:pt idx="(\d*)">(.*?)<\/c:pt>/mg)||[]).forEach(function(i){var l=i.match(/<c:pt idx="(\d*?)"><c:v>(.*)<\/c:v><\/c:pt>/);l&&(t[+l[1]]=r?+l[2]:l[2])});var a=Qr((e.match(/<c:formatCode>([\s\S]*?)<\/c:formatCode>/)||["","General"])[1]);return(e.match(/<c:f>(.*?)<\/c:f>/mg)||[]).forEach(function(i){n=i.replace(/<.*?>/g,"")}),[t,a,n]}function Rte(e,t,r,n,a,i){var l=i||{"!type":"chart"};if(!e)return i;var o=0,u=0,f="A",h={s:{r:2e6,c:2e6},e:{r:0,c:0}};return(e.match(/<c:numCache>[\s\S]*?<\/c:numCache>/gm)||[]).forEach(function(m){var g=Mte(m);h.s.r=h.s.c=0,h.e.c=o,f=_a(o),g[0].forEach(function(x,b){l[f+Ya(b)]={t:"n",v:x,z:g[1]},u=b}),h.e.r<u&&(h.e.r=u),++o}),o>0&&(l["!ref"]=Nr(h)),l}function Ite(e,t,r,n,a){if(!e)return e;n||(n={"!id":{}});var i={"!type":"chart","!drawel":null,"!rel":""},l,o=e.match(qP);return o&&y3(o[0],i,a,r),(l=e.match(/drawing r:id="(.*?)"/))&&(i["!rel"]=l[1]),n["!id"][i["!rel"]]&&(i["!drawel"]=n["!id"][i["!rel"]]),i}function Bte(e,t){e.l+=10;var r=Ts(e);return{name:r}}function Ute(e,t,r,n,a){if(!e)return e;n||(n={"!id":{}});var i={"!type":"chart","!drawel":null,"!rel":""},l=!1;return jf(e,function(u,f,h){switch(h){case 550:i["!rel"]=u;break;case 651:a.Sheets[r]||(a.Sheets[r]={}),u.name&&(a.Sheets[r].CodeName=u.name);break;case 562:case 652:case 669:case 679:case 551:case 552:case 476:case 3072:break;case 35:l=!0;break;case 36:l=!1;break;case 37:break;case 38:break;default:if(!(f.T>0)){if(!(f.T<0)){if(!l||t.WTF)throw new Error("Unexpected record 0x"+h.toString(16))}}}},t),n["!id"][i["!rel"]]&&(i["!drawel"]=n["!id"][i["!rel"]]),i}var b3=[["allowRefreshQuery",!1,"bool"],["autoCompressPictures",!0,"bool"],["backupFile",!1,"bool"],["checkCompatibility",!1,"bool"],["CodeName",""],["date1904",!1,"bool"],["defaultThemeVersion",0,"int"],["filterPrivacy",!1,"bool"],["hidePivotFieldList",!1,"bool"],["promptedSolutions",!1,"bool"],["publishItems",!1,"bool"],["refreshAllConnections",!1,"bool"],["saveExternalLinkValues",!0,"bool"],["showBorderUnselectedTables",!0,"bool"],["showInkAnnotation",!0,"bool"],["showObjects","all"],["showPivotChartFilter",!1,"bool"],["updateLinks","userSet"]],zte=[["activeTab",0,"int"],["autoFilterDateGrouping",!0,"bool"],["firstSheet",0,"int"],["minimized",!1,"bool"],["showHorizontalScroll",!0,"bool"],["showSheetTabs",!0,"bool"],["showVerticalScroll",!0,"bool"],["tabRatio",600,"int"],["visibility","visible"]],qte=[],$te=[["calcCompleted","true"],["calcMode","auto"],["calcOnSave","true"],["concurrentCalc","true"],["fullCalcOnLoad","false"],["fullPrecision","true"],["iterate","false"],["iterateCount","100"],["iterateDelta","0.001"],["refMode","A1"]];function kk(e,t){for(var r=0;r!=e.length;++r)for(var n=e[r],a=0;a!=t.length;++a){var i=t[a];if(n[i[0]]==null)n[i[0]]=i[1];else switch(i[2]){case"bool":typeof n[i[0]]=="string"&&(n[i[0]]=Qn(n[i[0]]));break;case"int":typeof n[i[0]]=="string"&&(n[i[0]]=parseInt(n[i[0]],10));break}}}function Ck(e,t){for(var r=0;r!=t.length;++r){var n=t[r];if(e[n[0]]==null)e[n[0]]=n[1];else switch(n[2]){case"bool":typeof e[n[0]]=="string"&&(e[n[0]]=Qn(e[n[0]]));break;case"int":typeof e[n[0]]=="string"&&(e[n[0]]=parseInt(e[n[0]],10));break}}}function WP(e){Ck(e.WBProps,b3),Ck(e.CalcPr,$te),kk(e.WBView,zte),kk(e.Sheets,qte),Dm.date1904=Qn(e.WBProps.date1904)}function Hte(e){return!e.Workbook||!e.Workbook.WBProps?"false":Qn(e.Workbook.WBProps.date1904)?"true":"false"}var Vte="][*?/\\".split("");function GP(e,t){if(e.length>31)throw new Error("Sheet names cannot exceed 31 chars");var r=!0;return Vte.forEach(function(n){if(e.indexOf(n)!=-1)throw new Error("Sheet name cannot contain : \\ / ? * [ ]")}),r}function Wte(e,t,r){e.forEach(function(n,a){GP(n);for(var i=0;i<a;++i)if(n==e[i])throw new Error("Duplicate Sheet Name: "+n);if(r){var l=t&&t[a]&&t[a].CodeName||n;if(l.charCodeAt(0)==95&&l.length>22)throw new Error("Bad Code Name: Worksheet"+l)}})}function Gte(e){if(!e||!e.SheetNames||!e.Sheets)throw new Error("Invalid Workbook");if(!e.SheetNames.length)throw new Error("Workbook is empty");var t=e.Workbook&&e.Workbook.Sheets||[];Wte(e.SheetNames,t,!!e.vbaraw);for(var r=0;r<e.SheetNames.length;++r)HJ(e.Sheets[e.SheetNames[r]],e.SheetNames[r],r)}var Kte=/<\w+:workbook/;function Yte(e,t){if(!e)throw new Error("Could not find file");var r={AppVersion:{},WBProps:{},WBView:[],Sheets:[],CalcPr:{},Names:[],xmlns:""},n=!1,a="xmlns",i={},l=0;if(e.replace(Ls,function(u,f){var h=hr(u);switch(pu(h[0])){case"<?xml":break;case"<workbook":u.match(Kte)&&(a="xmlns"+u.match(/<(\w+):/)[1]),r.xmlns=h[a];break;case"</workbook>":break;case"<fileVersion":delete h[0],r.AppVersion=h;break;case"<fileVersion/>":case"</fileVersion>":break;case"<fileSharing":break;case"<fileSharing/>":break;case"<workbookPr":case"<workbookPr/>":b3.forEach(function(m){if(h[m[0]]!=null)switch(m[2]){case"bool":r.WBProps[m[0]]=Qn(h[m[0]]);break;case"int":r.WBProps[m[0]]=parseInt(h[m[0]],10);break;default:r.WBProps[m[0]]=h[m[0]]}}),h.codeName&&(r.WBProps.CodeName=Dn(h.codeName));break;case"</workbookPr>":break;case"<workbookProtection":break;case"<workbookProtection/>":break;case"<bookViews":case"<bookViews>":case"</bookViews>":break;case"<workbookView":case"<workbookView/>":delete h[0],r.WBView.push(h);break;case"</workbookView>":break;case"<sheets":case"<sheets>":case"</sheets>":break;case"<sheet":switch(h.state){case"hidden":h.Hidden=1;break;case"veryHidden":h.Hidden=2;break;default:h.Hidden=0}delete h.state,h.name=Qr(Dn(h.name)),delete h[0],r.Sheets.push(h);break;case"</sheet>":break;case"<functionGroups":case"<functionGroups/>":break;case"<functionGroup":break;case"<externalReferences":case"</externalReferences>":case"<externalReferences>":break;case"<externalReference":break;case"<definedNames/>":break;case"<definedNames>":case"<definedNames":n=!0;break;case"</definedNames>":n=!1;break;case"<definedName":i={},i.Name=Dn(h.name),h.comment&&(i.Comment=h.comment),h.localSheetId&&(i.Sheet=+h.localSheetId),Qn(h.hidden||"0")&&(i.Hidden=!0),l=f+u.length;break;case"</definedName>":i.Ref=Qr(Dn(e.slice(l,f))),r.Names.push(i);break;case"<definedName/>":break;case"<calcPr":delete h[0],r.CalcPr=h;break;case"<calcPr/>":delete h[0],r.CalcPr=h;break;case"</calcPr>":break;case"<oleSize":break;case"<customWorkbookViews>":case"</customWorkbookViews>":case"<customWorkbookViews":break;case"<customWorkbookView":case"</customWorkbookView>":break;case"<pivotCaches>":case"</pivotCaches>":case"<pivotCaches":break;case"<pivotCache":break;case"<smartTagPr":case"<smartTagPr/>":break;case"<smartTagTypes":case"<smartTagTypes>":case"</smartTagTypes>":break;case"<smartTagType":break;case"<webPublishing":case"<webPublishing/>":break;case"<fileRecoveryPr":case"<fileRecoveryPr/>":break;case"<webPublishObjects>":case"<webPublishObjects":case"</webPublishObjects>":break;case"<webPublishObject":break;case"<extLst":case"<extLst>":case"</extLst>":case"<extLst/>":break;case"<ext":n=!0;break;case"</ext>":n=!1;break;case"<ArchID":break;case"<AlternateContent":case"<AlternateContent>":n=!0;break;case"</AlternateContent>":n=!1;break;case"<revisionPtr":break;default:if(!n&&t.WTF)throw new Error("unrecognized "+h[0]+" in workbook")}return u}),ch.indexOf(r.xmlns)===-1)throw new Error("Unknown Namespace: "+r.xmlns);return WP(r),r}function KP(e){var t=[Xa];t[t.length]=wt("workbook",null,{xmlns:ch[0],"xmlns:r":Ni.r});var r=e.Workbook&&(e.Workbook.Names||[]).length>0,n={codeName:"ThisWorkbook"};e.Workbook&&e.Workbook.WBProps&&(b3.forEach(function(o){e.Workbook.WBProps[o[0]]!=null&&e.Workbook.WBProps[o[0]]!=o[1]&&(n[o[0]]=e.Workbook.WBProps[o[0]])}),e.Workbook.WBProps.CodeName&&(n.codeName=e.Workbook.WBProps.CodeName,delete n.CodeName)),t[t.length]=wt("workbookPr",null,n);var a=e.Workbook&&e.Workbook.Sheets||[],i=0;if(a&&a[0]&&a[0].Hidden){for(t[t.length]="<bookViews>",i=0;i!=e.SheetNames.length&&!(!a[i]||!a[i].Hidden);++i);i==e.SheetNames.length&&(i=0),t[t.length]='<workbookView firstSheet="'+i+'" activeTab="'+i+'"/>',t[t.length]="</bookViews>"}for(t[t.length]="<sheets>",i=0;i!=e.SheetNames.length;++i){var l={name:_n(e.SheetNames[i].slice(0,31))};if(l.sheetId=""+(i+1),l["r:id"]="rId"+(i+1),a[i])switch(a[i].Hidden){case 1:l.state="hidden";break;case 2:l.state="veryHidden";break}t[t.length]=wt("sheet",null,l)}return t[t.length]="</sheets>",r&&(t[t.length]="<definedNames>",e.Workbook&&e.Workbook.Names&&e.Workbook.Names.forEach(function(o){var u={name:o.Name};o.Comment&&(u.comment=o.Comment),o.Sheet!=null&&(u.localSheetId=""+o.Sheet),o.Hidden&&(u.hidden="1"),o.Ref&&(t[t.length]=wt("definedName",_n(o.Ref),u))}),t[t.length]="</definedNames>"),t.length>2&&(t[t.length]="</workbook>",t[1]=t[1].replace("/>",">")),t.join("")}function Xte(e,t){var r={};return r.Hidden=e.read_shift(4),r.iTabID=e.read_shift(4),r.strRelID=Z4(e),r.name=Ts(e),r}function Qte(e,t){return t||(t=Je(127)),t.write_shift(4,e.Hidden),t.write_shift(4,e.iTabID),i3(e.strRelID,t),zi(e.name.slice(0,31),t),t.length>t.l?t.slice(0,t.l):t}function Zte(e,t){var r={},n=e.read_shift(4);r.defaultThemeVersion=e.read_shift(4);var a=t>8?Ts(e):"";return a.length>0&&(r.CodeName=a),r.autoCompressPictures=!!(n&65536),r.backupFile=!!(n&64),r.checkCompatibility=!!(n&4096),r.date1904=!!(n&1),r.filterPrivacy=!!(n&8),r.hidePivotFieldList=!!(n&1024),r.promptedSolutions=!!(n&16),r.publishItems=!!(n&2048),r.refreshAllConnections=!!(n&262144),r.saveExternalLinkValues=!!(n&128),r.showBorderUnselectedTables=!!(n&4),r.showInkAnnotation=!!(n&32),r.showObjects=["all","placeholders","none"][n>>13&3],r.showPivotChartFilter=!!(n&32768),r.updateLinks=["userSet","never","always"][n>>8&3],r}function Jte(e,t){t||(t=Je(72));var r=0;return e&&e.filterPrivacy&&(r|=8),t.write_shift(4,r),t.write_shift(4,0),BF(e&&e.CodeName||"ThisWorkbook",t),t.slice(0,t.l)}function ere(e,t){var r={};return e.read_shift(4),r.ArchID=e.read_shift(4),e.l+=t-8,r}function tre(e,t,r){var n=e.l+t;e.l+=4,e.l+=1;var a=e.read_shift(4),i=OG(e),l=IJ(e,0,r),o=a3(e);e.l=n;var u={Name:i,Ptg:l};return a<268435455&&(u.Sheet=a),o&&(u.Comment=o),u}function rre(e,t){var r={AppVersion:{},WBProps:{},WBView:[],Sheets:[],CalcPr:{},xmlns:""},n=[],a=!1;t||(t={}),t.biff=12;var i=[],l=[[]];return l.SheetNames=[],l.XTI=[],rg[16]={n:"BrtFRTArchID$",f:ere},jf(e,function(u,f,h){switch(h){case 156:l.SheetNames.push(u.name),r.Sheets.push(u);break;case 153:r.WBProps=u;break;case 39:u.Sheet!=null&&(t.SID=u.Sheet),u.Ref=Ns(u.Ptg,null,null,l,t),delete t.SID,delete u.Ptg,i.push(u);break;case 1036:break;case 357:case 358:case 355:case 667:l[0].length?l.push([h,u]):l[0]=[h,u],l[l.length-1].XTI=[];break;case 362:l.length===0&&(l[0]=[],l[0].XTI=[]),l[l.length-1].XTI=l[l.length-1].XTI.concat(u),l.XTI=l.XTI.concat(u);break;case 361:break;case 2071:case 158:case 143:case 664:case 353:break;case 3072:case 3073:case 534:case 677:case 157:case 610:case 2050:case 155:case 548:case 676:case 128:case 665:case 2128:case 2125:case 549:case 2053:case 596:case 2076:case 2075:case 2082:case 397:case 154:case 1117:case 553:case 2091:break;case 35:n.push(h),a=!0;break;case 36:n.pop(),a=!1;break;case 37:n.push(h),a=!0;break;case 38:n.pop(),a=!1;break;case 16:break;default:if(!f.T){if(!a||t.WTF&&n[n.length-1]!=37&&n[n.length-1]!=35)throw new Error("Unexpected record 0x"+h.toString(16))}}},t),WP(r),r.Names=i,r.supbooks=l,r}function nre(e,t){ut(e,143);for(var r=0;r!=t.SheetNames.length;++r){var n=t.Workbook&&t.Workbook.Sheets&&t.Workbook.Sheets[r]&&t.Workbook.Sheets[r].Hidden||0,a={Hidden:n,iTabID:r+1,strRelID:"rId"+(r+1),name:t.SheetNames[r]};ut(e,156,Qte(a))}ut(e,144)}function are(e,t){t||(t=Je(127));for(var r=0;r!=4;++r)t.write_shift(4,0);return zi("SheetJS",t),zi(Yv.version,t),zi(Yv.version,t),zi("7262",t),t.length>t.l?t.slice(0,t.l):t}function ire(e,t){t||(t=Je(29)),t.write_shift(-4,0),t.write_shift(-4,460),t.write_shift(4,28800),t.write_shift(4,17600),t.write_shift(4,500),t.write_shift(4,e),t.write_shift(4,e);var r=120;return t.write_shift(1,r),t.length>t.l?t.slice(0,t.l):t}function sre(e,t){if(!(!t.Workbook||!t.Workbook.Sheets)){for(var r=t.Workbook.Sheets,n=0,a=-1,i=-1;n<r.length;++n)!r[n]||!r[n].Hidden&&a==-1?a=n:r[n].Hidden==1&&i==-1&&(i=n);i>a||(ut(e,135),ut(e,158,ire(a)),ut(e,136))}}function lre(e,t){var r=El();return ut(r,131),ut(r,128,are()),ut(r,153,Jte(e.Workbook&&e.Workbook.WBProps||null)),sre(r,e),nre(r,e),ut(r,132),r.end()}function ore(e,t,r){return t.slice(-4)===".bin"?rre(e,r):Yte(e,r)}function cre(e,t,r,n,a,i,l,o){return t.slice(-4)===".bin"?jte(e,n,r,a,i,l,o):tee(e,n,r,a,i,l,o)}function ure(e,t,r,n,a,i,l,o){return t.slice(-4)===".bin"?Ute(e,n,r,a,i):Ite(e,n,r,a,i)}function fre(e,t,r,n,a,i,l,o){return t.slice(-4)===".bin"?hZ():mZ()}function dre(e,t,r,n,a,i,l,o){return t.slice(-4)===".bin"?fZ():dZ()}function hre(e,t,r,n){return t.slice(-4)===".bin"?oQ(e,r,n):XX(e,r,n)}function mre(e,t,r){return kP(e,r)}function pre(e,t,r){return t.slice(-4)===".bin"?pX(e,r):dX(e,r)}function xre(e,t,r){return t.slice(-4)===".bin"?sZ(e,r):QQ(e,r)}function gre(e,t,r){return t.slice(-4)===".bin"?KQ(e):WQ(e)}function vre(e,t,r,n){return r.slice(-4)===".bin"?YQ(e,t,r,n):void 0}function yre(e,t,r){return t.slice(-4)===".bin"?$Q(e,t,r):VQ(e,t,r)}function bre(e,t,r){return(t.slice(-4)===".bin"?lre:KP)(e)}function wre(e,t,r,n,a){return(t.slice(-4)===".bin"?Lte:$P)(e,r,n,a)}function Nre(e,t,r){return(t.slice(-4)===".bin"?vQ:AP)(e,r)}function _re(e,t,r){return(t.slice(-4)===".bin"?vX:vP)(e,r)}function jre(e,t,r){return(t.slice(-4)===".bin"?lZ:OP)(e)}function Sre(e){return(e.slice(-4)===".bin"?HQ:CP)()}var YP=/([\w:]+)=((?:")([^"]*)(?:")|(?:')([^']*)(?:'))/g,XP=/([\w:]+)=((?:")(?:[^"]*)(?:")|(?:')(?:[^']*)(?:'))/;function gc(e,t){var r=e.split(/\s+/),n=[];if(n[0]=r[0],r.length===1)return n;var a=e.match(YP),i,l,o,u;if(a)for(u=0;u!=a.length;++u)i=a[u].match(XP),(l=i[1].indexOf(":"))===-1?n[i[1]]=i[2].slice(1,i[2].length-1):(i[1].slice(0,6)==="xmlns:"?o="xmlns"+i[1].slice(6):o=i[1].slice(l+1),n[o]=i[2].slice(1,i[2].length-1));return n}function Are(e){var t=e.split(/\s+/),r={};if(t.length===1)return r;var n=e.match(YP),a,i,l,o;if(n)for(o=0;o!=n.length;++o)a=n[o].match(XP),(i=a[1].indexOf(":"))===-1?r[a[1]]=a[2].slice(1,a[2].length-1):(a[1].slice(0,6)==="xmlns:"?l="xmlns"+a[1].slice(6):l=a[1].slice(i+1),r[l]=a[2].slice(1,a[2].length-1));return r}var Ox;function Ere(e,t){var r=Ox[e]||Qr(e);return r==="General"?V0(t):Uo(r,t)}function kre(e,t,r,n){var a=n;switch((r[0].match(/dt:dt="([\w.]+)"/)||["",""])[1]){case"boolean":a=Qn(n);break;case"i2":case"int":a=parseInt(n,10);break;case"r4":case"float":a=parseFloat(n);break;case"date":case"dateTime.tz":a=Jn(n);break;case"i8":case"string":case"fixed":case"uuid":case"bin.base64":break;default:throw new Error("bad custprop:"+r[0])}e[Qr(t)]=a}function Cre(e,t,r){if(e.t!=="z"){if(!r||r.cellText!==!1)try{e.t==="e"?e.w=e.w||Sf[e.v]:t==="General"?e.t==="n"?(e.v|0)===e.v?e.w=e.v.toString(10):e.w=Gx(e.v):e.w=V0(e.v):e.w=Ere(t||"General",e.v)}catch(i){if(r.WTF)throw i}try{var n=Ox[t]||t||"General";if(r.cellNF&&(e.z=n),r.cellDates&&e.t=="n"&&ip(n)){var a=A0(e.v);a&&(e.t="d",e.v=new Date(a.y,a.m-1,a.d,a.H,a.M,a.S,a.u))}}catch(i){if(r.WTF)throw i}}}function Tre(e,t,r){if(r.cellStyles&&t.Interior){var n=t.Interior;n.Pattern&&(n.patternType=qX[n.Pattern]||n.Pattern)}e[t.ID]=t}function Ore(e,t,r,n,a,i,l,o,u,f){var h="General",m=n.StyleID,g={};f=f||{};var x=[],b=0;for(m===void 0&&o&&(m=o.StyleID),m===void 0&&l&&(m=l.StyleID);i[m]!==void 0&&(i[m].nf&&(h=i[m].nf),i[m].Interior&&x.push(i[m].Interior),!!i[m].Parent);)m=i[m].Parent;switch(r.Type){case"Boolean":n.t="b",n.v=Qn(e);break;case"String":n.t="s",n.r=WE(Qr(e)),n.v=e.indexOf("<")>-1?Qr(t||e).replace(/<.*?>/g,""):n.r;break;case"DateTime":e.slice(-1)!="Z"&&(e+="Z"),n.v=(Jn(e)-new Date(Date.UTC(1899,11,30)))/(1440*60*1e3),n.v!==n.v?n.v=Qr(e):n.v<60&&(n.v=n.v-1),(!h||h=="General")&&(h="yyyy-mm-dd");case"Number":n.v===void 0&&(n.v=+e),n.t||(n.t="n");break;case"Error":n.t="e",n.v=HF[e],f.cellText!==!1&&(n.w=e);break;default:e==""&&t==""?n.t="z":(n.t="s",n.v=WE(t||e));break}if(Cre(n,h,f),f.cellFormula!==!1)if(n.Formula){var v=Qr(n.Formula);v.charCodeAt(0)==61&&(v=v.slice(1)),n.f=Om(v,a),delete n.Formula,n.ArrayRange=="RC"?n.F=Om("RC:RC",a):n.ArrayRange&&(n.F=Om(n.ArrayRange,a),u.push([Jr(n.F),n.F]))}else for(b=0;b<u.length;++b)a.r>=u[b][0].s.r&&a.r<=u[b][0].e.r&&a.c>=u[b][0].s.c&&a.c<=u[b][0].e.c&&(n.F=u[b][1]);f.cellStyles&&(x.forEach(function(w){!g.patternType&&w.patternType&&(g.patternType=w.patternType)}),n.s=g),n.StyleID!==void 0&&(n.ixfe=n.StyleID)}function Dre(e){e.t=e.v||"",e.t=e.t.replace(/\r\n/g,`
`).replace(/\r/g,`
`),e.v=e.w=e.ixfe=void 0}function Dw(e,t){var r=t||{};sp();var n=gx(Z_(e));(r.type=="binary"||r.type=="array"||r.type=="base64")&&(n=Dn(n));var a=n.slice(0,1024).toLowerCase(),i=!1;if(a=a.replace(/".*?"/g,""),(a.indexOf(">")&1023)>Math.min(a.indexOf(",")&1023,a.indexOf(";")&1023)){var l=ea(r);return l.type="string",$m.to_workbook(n,l)}if(a.indexOf("<?xml")==-1&&["html","table","head","meta","script","style","div"].forEach(function(bt){a.indexOf("<"+bt)>=0&&(i=!0)}),i)return gne(n,r);Ox={"General Number":"General","General Date":ur[22],"Long Date":"dddd, mmmm dd, yyyy","Medium Date":ur[15],"Short Date":ur[14],"Long Time":ur[19],"Medium Time":ur[18],"Short Time":ur[20],Currency:'"$"#,##0.00_);[Red]\\("$"#,##0.00\\)',Fixed:ur[2],Standard:ur[4],Percent:ur[10],Scientific:ur[11],"Yes/No":'"Yes";"Yes";"No";@',"True/False":'"True";"True";"False";@',"On/Off":'"Yes";"Yes";"No";@'};var o,u=[],f,h={},m=[],g=r.dense?[]:{},x="",b={},v={},w=gc('<Data ss:Type="String">'),N=0,E=0,j=0,T={s:{r:2e6,c:2e6},e:{r:0,c:0}},O={},F={},D="",L=0,B=[],H={},P={},U=0,K=[],ee=[],me={},ne=[],se,ye=!1,ce=[],Se=[],te={},M=0,R=0,q={Sheets:[],WBProps:{date1904:!1}},W={};Xx.lastIndex=0,n=n.replace(/<!--([\s\S]*?)-->/mg,"");for(var J="";o=Xx.exec(n);)switch(o[3]=(J=o[3]).toLowerCase()){case"data":if(J=="data"){if(o[1]==="/"){if((f=u.pop())[0]!==o[3])throw new Error("Bad state: "+f.join("|"))}else o[0].charAt(o[0].length-2)!=="/"&&u.push([o[3],!0]);break}if(u[u.length-1][1])break;o[1]==="/"?Ore(n.slice(N,o.index),D,w,u[u.length-1][0]=="comment"?me:b,{c:E,r:j},O,ne[E],v,ce,r):(D="",w=gc(o[0]),N=o.index+o[0].length);break;case"cell":if(o[1]==="/")if(ee.length>0&&(b.c=ee),(!r.sheetRows||r.sheetRows>j)&&b.v!==void 0&&(r.dense?(g[j]||(g[j]=[]),g[j][E]=b):g[_a(E)+Ya(j)]=b),b.HRef&&(b.l={Target:Qr(b.HRef)},b.HRefScreenTip&&(b.l.Tooltip=b.HRefScreenTip),delete b.HRef,delete b.HRefScreenTip),(b.MergeAcross||b.MergeDown)&&(M=E+(parseInt(b.MergeAcross,10)|0),R=j+(parseInt(b.MergeDown,10)|0),B.push({s:{c:E,r:j},e:{c:M,r:R}})),!r.sheetStubs)b.MergeAcross?E=M+1:++E;else if(b.MergeAcross||b.MergeDown){for(var le=E;le<=M;++le)for(var ue=j;ue<=R;++ue)(le>E||ue>j)&&(r.dense?(g[ue]||(g[ue]=[]),g[ue][le]={t:"z"}):g[_a(le)+Ya(ue)]={t:"z"});E=M+1}else++E;else b=Are(o[0]),b.Index&&(E=+b.Index-1),E<T.s.c&&(T.s.c=E),E>T.e.c&&(T.e.c=E),o[0].slice(-2)==="/>"&&++E,ee=[];break;case"row":o[1]==="/"||o[0].slice(-2)==="/>"?(j<T.s.r&&(T.s.r=j),j>T.e.r&&(T.e.r=j),o[0].slice(-2)==="/>"&&(v=gc(o[0]),v.Index&&(j=+v.Index-1)),E=0,++j):(v=gc(o[0]),v.Index&&(j=+v.Index-1),te={},(v.AutoFitHeight=="0"||v.Height)&&(te.hpx=parseInt(v.Height,10),te.hpt=tg(te.hpx),Se[j]=te),v.Hidden=="1"&&(te.hidden=!0,Se[j]=te));break;case"worksheet":if(o[1]==="/"){if((f=u.pop())[0]!==o[3])throw new Error("Bad state: "+f.join("|"));m.push(x),T.s.r<=T.e.r&&T.s.c<=T.e.c&&(g["!ref"]=Nr(T),r.sheetRows&&r.sheetRows<=T.e.r&&(g["!fullref"]=g["!ref"],T.e.r=r.sheetRows-1,g["!ref"]=Nr(T))),B.length&&(g["!merges"]=B),ne.length>0&&(g["!cols"]=ne),Se.length>0&&(g["!rows"]=Se),h[x]=g}else T={s:{r:2e6,c:2e6},e:{r:0,c:0}},j=E=0,u.push([o[3],!1]),f=gc(o[0]),x=Qr(f.Name),g=r.dense?[]:{},B=[],ce=[],Se=[],W={name:x,Hidden:0},q.Sheets.push(W);break;case"table":if(o[1]==="/"){if((f=u.pop())[0]!==o[3])throw new Error("Bad state: "+f.join("|"))}else{if(o[0].slice(-2)=="/>")break;u.push([o[3],!1]),ne=[],ye=!1}break;case"style":o[1]==="/"?Tre(O,F,r):F=gc(o[0]);break;case"numberformat":F.nf=Qr(gc(o[0]).Format||"General"),Ox[F.nf]&&(F.nf=Ox[F.nf]);for(var X=0;X!=392&&ur[X]!=F.nf;++X);if(X==392){for(X=57;X!=392;++X)if(ur[X]==null){lf(F.nf,X);break}}break;case"column":if(u[u.length-1][0]!=="table")break;if(se=gc(o[0]),se.Hidden&&(se.hidden=!0,delete se.Hidden),se.Width&&(se.wpx=parseInt(se.Width,10)),!ye&&se.wpx>10){ye=!0,_s=jP;for(var ge=0;ge<ne.length;++ge)ne[ge]&&Ad(ne[ge])}ye&&Ad(se),ne[se.Index-1||ne.length]=se;for(var Te=0;Te<+se.Span;++Te)ne[ne.length]=ea(se);break;case"namedrange":if(o[1]==="/")break;q.Names||(q.Names=[]);var Y=hr(o[0]),We={Name:Y.Name,Ref:Om(Y.RefersTo.slice(1),{r:0,c:0})};q.Sheets.length>0&&(We.Sheet=q.Sheets.length-1),q.Names.push(We);break;case"namedcell":break;case"b":break;case"i":break;case"u":break;case"s":break;case"em":break;case"h2":break;case"h3":break;case"sub":break;case"sup":break;case"span":break;case"alignment":break;case"borders":break;case"border":break;case"font":if(o[0].slice(-2)==="/>")break;o[1]==="/"?D+=n.slice(L,o.index):L=o.index+o[0].length;break;case"interior":if(!r.cellStyles)break;F.Interior=gc(o[0]);break;case"protection":break;case"author":case"title":case"description":case"created":case"keywords":case"subject":case"category":case"company":case"lastauthor":case"lastsaved":case"lastprinted":case"version":case"revision":case"totaltime":case"hyperlinkbase":case"manager":case"contentstatus":case"identifier":case"language":case"appname":if(o[0].slice(-2)==="/>")break;o[1]==="/"?rK(H,J,n.slice(U,o.index)):U=o.index+o[0].length;break;case"paragraphs":break;case"styles":case"workbook":if(o[1]==="/"){if((f=u.pop())[0]!==o[3])throw new Error("Bad state: "+f.join("|"))}else u.push([o[3],!1]);break;case"comment":if(o[1]==="/"){if((f=u.pop())[0]!==o[3])throw new Error("Bad state: "+f.join("|"));Dre(me),ee.push(me)}else u.push([o[3],!1]),f=gc(o[0]),me={a:f.Author};break;case"autofilter":if(o[1]==="/"){if((f=u.pop())[0]!==o[3])throw new Error("Bad state: "+f.join("|"))}else if(o[0].charAt(o[0].length-2)!=="/"){var Ee=gc(o[0]);g["!autofilter"]={ref:Om(Ee.Range).replace(/\$/g,"")},u.push([o[3],!0])}break;case"name":break;case"datavalidation":if(o[1]==="/"){if((f=u.pop())[0]!==o[3])throw new Error("Bad state: "+f.join("|"))}else o[0].charAt(o[0].length-2)!=="/"&&u.push([o[3],!0]);break;case"pixelsperinch":break;case"componentoptions":case"documentproperties":case"customdocumentproperties":case"officedocumentsettings":case"pivottable":case"pivotcache":case"names":case"mapinfo":case"pagebreaks":case"querytable":case"sorting":case"schema":case"conditionalformatting":case"smarttagtype":case"smarttags":case"excelworkbook":case"workbookoptions":case"worksheetoptions":if(o[1]==="/"){if((f=u.pop())[0]!==o[3])throw new Error("Bad state: "+f.join("|"))}else o[0].charAt(o[0].length-2)!=="/"&&u.push([o[3],!0]);break;case"null":break;default:if(u.length==0&&o[3]=="document"||u.length==0&&o[3]=="uof")return Pk(n,r);var xe=!0;switch(u[u.length-1][0]){case"officedocumentsettings":switch(o[3]){case"allowpng":break;case"removepersonalinformation":break;case"downloadcomponents":break;case"locationofcomponents":break;case"colors":break;case"color":break;case"index":break;case"rgb":break;case"targetscreensize":break;case"readonlyrecommended":break;default:xe=!1}break;case"componentoptions":switch(o[3]){case"toolbar":break;case"hideofficelogo":break;case"spreadsheetautofit":break;case"label":break;case"caption":break;case"maxheight":break;case"maxwidth":break;case"nextsheetnumber":break;default:xe=!1}break;case"excelworkbook":switch(o[3]){case"date1904":q.WBProps.date1904=!0;break;case"windowheight":break;case"windowwidth":break;case"windowtopx":break;case"windowtopy":break;case"tabratio":break;case"protectstructure":break;case"protectwindow":break;case"protectwindows":break;case"activesheet":break;case"displayinknotes":break;case"firstvisiblesheet":break;case"supbook":break;case"sheetname":break;case"sheetindex":break;case"sheetindexfirst":break;case"sheetindexlast":break;case"dll":break;case"acceptlabelsinformulas":break;case"donotsavelinkvalues":break;case"iteration":break;case"maxiterations":break;case"maxchange":break;case"path":break;case"xct":break;case"count":break;case"selectedsheets":break;case"calculation":break;case"uncalced":break;case"startupprompt":break;case"crn":break;case"externname":break;case"formula":break;case"colfirst":break;case"collast":break;case"wantadvise":break;case"boolean":break;case"error":break;case"text":break;case"ole":break;case"noautorecover":break;case"publishobjects":break;case"donotcalculatebeforesave":break;case"number":break;case"refmoder1c1":break;case"embedsavesmarttags":break;default:xe=!1}break;case"workbookoptions":switch(o[3]){case"owcversion":break;case"height":break;case"width":break;default:xe=!1}break;case"worksheetoptions":switch(o[3]){case"visible":if(o[0].slice(-2)!=="/>")if(o[1]==="/")switch(n.slice(U,o.index)){case"SheetHidden":W.Hidden=1;break;case"SheetVeryHidden":W.Hidden=2;break}else U=o.index+o[0].length;break;case"header":g["!margins"]||P0(g["!margins"]={},"xlml"),isNaN(+hr(o[0]).Margin)||(g["!margins"].header=+hr(o[0]).Margin);break;case"footer":g["!margins"]||P0(g["!margins"]={},"xlml"),isNaN(+hr(o[0]).Margin)||(g["!margins"].footer=+hr(o[0]).Margin);break;case"pagemargins":var dt=hr(o[0]);g["!margins"]||P0(g["!margins"]={},"xlml"),isNaN(+dt.Top)||(g["!margins"].top=+dt.Top),isNaN(+dt.Left)||(g["!margins"].left=+dt.Left),isNaN(+dt.Right)||(g["!margins"].right=+dt.Right),isNaN(+dt.Bottom)||(g["!margins"].bottom=+dt.Bottom);break;case"displayrighttoleft":q.Views||(q.Views=[]),q.Views[0]||(q.Views[0]={}),q.Views[0].RTL=!0;break;case"freezepanes":break;case"frozennosplit":break;case"splithorizontal":case"splitvertical":break;case"donotdisplaygridlines":break;case"activerow":break;case"activecol":break;case"toprowbottompane":break;case"leftcolumnrightpane":break;case"unsynced":break;case"print":break;case"printerrors":break;case"panes":break;case"scale":break;case"pane":break;case"number":break;case"layout":break;case"pagesetup":break;case"selected":break;case"protectobjects":break;case"enableselection":break;case"protectscenarios":break;case"validprinterinfo":break;case"horizontalresolution":break;case"verticalresolution":break;case"numberofcopies":break;case"activepane":break;case"toprowvisible":break;case"leftcolumnvisible":break;case"fittopage":break;case"rangeselection":break;case"papersizeindex":break;case"pagelayoutzoom":break;case"pagebreakzoom":break;case"filteron":break;case"fitwidth":break;case"fitheight":break;case"commentslayout":break;case"zoom":break;case"lefttoright":break;case"gridlines":break;case"allowsort":break;case"allowfilter":break;case"allowinsertrows":break;case"allowdeleterows":break;case"allowinsertcols":break;case"allowdeletecols":break;case"allowinserthyperlinks":break;case"allowformatcells":break;case"allowsizecols":break;case"allowsizerows":break;case"nosummaryrowsbelowdetail":g["!outline"]||(g["!outline"]={}),g["!outline"].above=!0;break;case"tabcolorindex":break;case"donotdisplayheadings":break;case"showpagelayoutzoom":break;case"nosummarycolumnsrightdetail":g["!outline"]||(g["!outline"]={}),g["!outline"].left=!0;break;case"blackandwhite":break;case"donotdisplayzeros":break;case"displaypagebreak":break;case"rowcolheadings":break;case"donotdisplayoutline":break;case"noorientation":break;case"allowusepivottables":break;case"zeroheight":break;case"viewablerange":break;case"selection":break;case"protectcontents":break;default:xe=!1}break;case"pivottable":case"pivotcache":switch(o[3]){case"immediateitemsondrop":break;case"showpagemultipleitemlabel":break;case"compactrowindent":break;case"location":break;case"pivotfield":break;case"orientation":break;case"layoutform":break;case"layoutsubtotallocation":break;case"layoutcompactrow":break;case"position":break;case"pivotitem":break;case"datatype":break;case"datafield":break;case"sourcename":break;case"parentfield":break;case"ptlineitems":break;case"ptlineitem":break;case"countofsameitems":break;case"item":break;case"itemtype":break;case"ptsource":break;case"cacheindex":break;case"consolidationreference":break;case"filename":break;case"reference":break;case"nocolumngrand":break;case"norowgrand":break;case"blanklineafteritems":break;case"hidden":break;case"subtotal":break;case"basefield":break;case"mapchilditems":break;case"function":break;case"refreshonfileopen":break;case"printsettitles":break;case"mergelabels":break;case"defaultversion":break;case"refreshname":break;case"refreshdate":break;case"refreshdatecopy":break;case"versionlastrefresh":break;case"versionlastupdate":break;case"versionupdateablemin":break;case"versionrefreshablemin":break;case"calculation":break;default:xe=!1}break;case"pagebreaks":switch(o[3]){case"colbreaks":break;case"colbreak":break;case"rowbreaks":break;case"rowbreak":break;case"colstart":break;case"colend":break;case"rowend":break;default:xe=!1}break;case"autofilter":switch(o[3]){case"autofiltercolumn":break;case"autofiltercondition":break;case"autofilterand":break;case"autofilteror":break;default:xe=!1}break;case"querytable":switch(o[3]){case"id":break;case"autoformatfont":break;case"autoformatpattern":break;case"querysource":break;case"querytype":break;case"enableredirections":break;case"refreshedinxl9":break;case"urlstring":break;case"htmltables":break;case"connection":break;case"commandtext":break;case"refreshinfo":break;case"notitles":break;case"nextid":break;case"columninfo":break;case"overwritecells":break;case"donotpromptforfile":break;case"textwizardsettings":break;case"source":break;case"number":break;case"decimal":break;case"thousandseparator":break;case"trailingminusnumbers":break;case"formatsettings":break;case"fieldtype":break;case"delimiters":break;case"tab":break;case"comma":break;case"autoformatname":break;case"versionlastedit":break;case"versionlastrefresh":break;default:xe=!1}break;case"datavalidation":switch(o[3]){case"range":break;case"type":break;case"min":break;case"max":break;case"sort":break;case"descending":break;case"order":break;case"casesensitive":break;case"value":break;case"errorstyle":break;case"errormessage":break;case"errortitle":break;case"inputmessage":break;case"inputtitle":break;case"combohide":break;case"inputhide":break;case"condition":break;case"qualifier":break;case"useblank":break;case"value1":break;case"value2":break;case"format":break;case"cellrangelist":break;default:xe=!1}break;case"sorting":case"conditionalformatting":switch(o[3]){case"range":break;case"type":break;case"min":break;case"max":break;case"sort":break;case"descending":break;case"order":break;case"casesensitive":break;case"value":break;case"errorstyle":break;case"errormessage":break;case"errortitle":break;case"cellrangelist":break;case"inputmessage":break;case"inputtitle":break;case"combohide":break;case"inputhide":break;case"condition":break;case"qualifier":break;case"useblank":break;case"value1":break;case"value2":break;case"format":break;default:xe=!1}break;case"mapinfo":case"schema":case"data":switch(o[3]){case"map":break;case"entry":break;case"range":break;case"xpath":break;case"field":break;case"xsdtype":break;case"filteron":break;case"aggregate":break;case"elementtype":break;case"attributetype":break;case"schema":case"element":case"complextype":case"datatype":case"all":case"attribute":case"extends":break;case"row":break;default:xe=!1}break;case"smarttags":break;default:xe=!1;break}if(xe||o[3].match(/!\[CDATA/))break;if(!u[u.length-1][1])throw"Unrecognized tag: "+o[3]+"|"+u.join("|");if(u[u.length-1][0]==="customdocumentproperties"){if(o[0].slice(-2)==="/>")break;o[1]==="/"?kre(P,J,K,n.slice(U,o.index)):(K=o,U=o.index+o[0].length);break}if(r.WTF)throw"Unrecognized tag: "+o[3]+"|"+u.join("|")}var Xe={};return!r.bookSheets&&!r.bookProps&&(Xe.Sheets=h),Xe.SheetNames=m,Xe.Workbook=q,Xe.SSF=ea(ur),Xe.Props=H,Xe.Custprops=P,Xe}function iN(e,t){switch(N3(t=t||{}),t.type||"base64"){case"base64":return Dw(ro(e),t);case"binary":case"buffer":case"file":return Dw(e,t);case"array":return Dw(Md(e),t)}}function Fre(e,t){var r=[];return e.Props&&r.push(nK(e.Props,t)),e.Custprops&&r.push(aK(e.Props,e.Custprops)),r.join("")}function Pre(){return""}function Lre(e,t){var r=['<Style ss:ID="Default" ss:Name="Normal"><NumberFormat/></Style>'];return t.cellXfs.forEach(function(n,a){var i=[];i.push(wt("NumberFormat",null,{"ss:Format":_n(ur[n.numFmtId])}));var l={"ss:ID":"s"+(21+a)};r.push(wt("Style",i.join(""),l))}),wt("Styles",r.join(""))}function QP(e){return wt("NamedRange",null,{"ss:Name":e.Name,"ss:RefersTo":"="+x3(e.Ref,{r:0,c:0})})}function Mre(e){if(!((e||{}).Workbook||{}).Names)return"";for(var t=e.Workbook.Names,r=[],n=0;n<t.length;++n){var a=t[n];a.Sheet==null&&(a.Name.match(/^_xlfn\./)||r.push(QP(a)))}return wt("Names",r.join(""))}function Rre(e,t,r,n){if(!e||!((n||{}).Workbook||{}).Names)return"";for(var a=n.Workbook.Names,i=[],l=0;l<a.length;++l){var o=a[l];o.Sheet==r&&(o.Name.match(/^_xlfn\./)||i.push(QP(o)))}return i.join("")}function Ire(e,t,r,n){if(!e)return"";var a=[];if(e["!margins"]&&(a.push("<PageSetup>"),e["!margins"].header&&a.push(wt("Header",null,{"x:Margin":e["!margins"].header})),e["!margins"].footer&&a.push(wt("Footer",null,{"x:Margin":e["!margins"].footer})),a.push(wt("PageMargins",null,{"x:Bottom":e["!margins"].bottom||"0.75","x:Left":e["!margins"].left||"0.7","x:Right":e["!margins"].right||"0.7","x:Top":e["!margins"].top||"0.75"})),a.push("</PageSetup>")),n&&n.Workbook&&n.Workbook.Sheets&&n.Workbook.Sheets[r])if(n.Workbook.Sheets[r].Hidden)a.push(wt("Visible",n.Workbook.Sheets[r].Hidden==1?"SheetHidden":"SheetVeryHidden",{}));else{for(var i=0;i<r&&!(n.Workbook.Sheets[i]&&!n.Workbook.Sheets[i].Hidden);++i);i==r&&a.push("<Selected/>")}return((((n||{}).Workbook||{}).Views||[])[0]||{}).RTL&&a.push("<DisplayRightToLeft/>"),e["!protect"]&&(a.push(ss("ProtectContents","True")),e["!protect"].objects&&a.push(ss("ProtectObjects","True")),e["!protect"].scenarios&&a.push(ss("ProtectScenarios","True")),e["!protect"].selectLockedCells!=null&&!e["!protect"].selectLockedCells?a.push(ss("EnableSelection","NoSelection")):e["!protect"].selectUnlockedCells!=null&&!e["!protect"].selectUnlockedCells&&a.push(ss("EnableSelection","UnlockedCells")),[["formatCells","AllowFormatCells"],["formatColumns","AllowSizeCols"],["formatRows","AllowSizeRows"],["insertColumns","AllowInsertCols"],["insertRows","AllowInsertRows"],["insertHyperlinks","AllowInsertHyperlinks"],["deleteColumns","AllowDeleteCols"],["deleteRows","AllowDeleteRows"],["sort","AllowSort"],["autoFilter","AllowFilter"],["pivotTables","AllowUsePivotTables"]].forEach(function(l){e["!protect"][l[0]]&&a.push("<"+l[1]+"/>")})),a.length==0?"":wt("WorksheetOptions",a.join(""),{xmlns:Kl.x})}function Bre(e){return e.map(function(t){var r=sG(t.t||""),n=wt("ss:Data",r,{xmlns:"http://www.w3.org/TR/REC-html40"});return wt("Comment",n,{"ss:Author":t.a})}).join("")}function Ure(e,t,r,n,a,i,l){if(!e||e.v==null&&e.f==null)return"";var o={};if(e.f&&(o["ss:Formula"]="="+_n(x3(e.f,l))),e.F&&e.F.slice(0,t.length)==t){var u=ja(e.F.slice(t.length+1));o["ss:ArrayRange"]="RC:R"+(u.r==l.r?"":"["+(u.r-l.r)+"]")+"C"+(u.c==l.c?"":"["+(u.c-l.c)+"]")}if(e.l&&e.l.Target&&(o["ss:HRef"]=_n(e.l.Target),e.l.Tooltip&&(o["x:HRefScreenTip"]=_n(e.l.Tooltip))),r["!merges"])for(var f=r["!merges"],h=0;h!=f.length;++h)f[h].s.c!=l.c||f[h].s.r!=l.r||(f[h].e.c>f[h].s.c&&(o["ss:MergeAcross"]=f[h].e.c-f[h].s.c),f[h].e.r>f[h].s.r&&(o["ss:MergeDown"]=f[h].e.r-f[h].s.r));var m="",g="";switch(e.t){case"z":if(!n.sheetStubs)return"";break;case"n":m="Number",g=String(e.v);break;case"b":m="Boolean",g=e.v?"1":"0";break;case"e":m="Error",g=Sf[e.v];break;case"d":m="DateTime",g=new Date(e.v).toISOString(),e.z==null&&(e.z=e.z||ur[14]);break;case"s":m="String",g=iG(e.v||"");break}var x=Id(n.cellXfs,e,n);o["ss:StyleID"]="s"+(21+x),o["ss:Index"]=l.c+1;var b=e.v!=null?g:"",v=e.t=="z"?"":'<Data ss:Type="'+m+'">'+b+"</Data>";return(e.c||[]).length>0&&(v+=Bre(e.c)),wt("Cell",v,o)}function zre(e,t){var r='<Row ss:Index="'+(e+1)+'"';return t&&(t.hpt&&!t.hpx&&(t.hpx=Hm(t.hpt)),t.hpx&&(r+=' ss:AutoFitHeight="0" ss:Height="'+t.hpx+'"'),t.hidden&&(r+=' ss:Hidden="1"')),r+">"}function qre(e,t,r,n){if(!e["!ref"])return"";var a=Jr(e["!ref"]),i=e["!merges"]||[],l=0,o=[];e["!cols"]&&e["!cols"].forEach(function(w,N){Ad(w);var E=!!w.width,j=d2(N,w),T={"ss:Index":N+1};E&&(T["ss:Width"]=Jx(j.width)),w.hidden&&(T["ss:Hidden"]="1"),o.push(wt("Column",null,T))});for(var u=Array.isArray(e),f=a.s.r;f<=a.e.r;++f){for(var h=[zre(f,(e["!rows"]||[])[f])],m=a.s.c;m<=a.e.c;++m){var g=!1;for(l=0;l!=i.length;++l)if(!(i[l].s.c>m)&&!(i[l].s.r>f)&&!(i[l].e.c<m)&&!(i[l].e.r<f)){(i[l].s.c!=m||i[l].s.r!=f)&&(g=!0);break}if(!g){var x={r:f,c:m},b=fr(x),v=u?(e[f]||[])[m]:e[b];h.push(Ure(v,b,e,t,r,n,x))}}h.push("</Row>"),h.length>2&&o.push(h.join(""))}return o.join("")}function $re(e,t,r){var n=[],a=r.SheetNames[e],i=r.Sheets[a],l=i?Rre(i,t,e,r):"";return l.length>0&&n.push("<Names>"+l+"</Names>"),l=i?qre(i,t,e,r):"",l.length>0&&n.push("<Table>"+l+"</Table>"),n.push(Ire(i,t,e,r)),n.join("")}function Hre(e,t){t||(t={}),e.SSF||(e.SSF=ea(ur)),e.SSF&&(sp(),i2(e.SSF),t.revssf=l2(e.SSF),t.revssf[e.SSF[65535]]=0,t.ssf=e.SSF,t.cellXfs=[],Id(t.cellXfs,{},{revssf:{General:0}}));var r=[];r.push(Fre(e,t)),r.push(Pre()),r.push(""),r.push("");for(var n=0;n<e.SheetNames.length;++n)r.push(wt("Worksheet",$re(n,t,e),{"ss:Name":_n(e.SheetNames[n])}));return r[2]=Lre(e,t),r[3]=Mre(e),Xa+wt("Workbook",r.join(""),{xmlns:Kl.ss,"xmlns:o":Kl.o,"xmlns:x":Kl.x,"xmlns:ss":Kl.ss,"xmlns:dt":Kl.dt,"xmlns:html":Kl.html})}function Vre(e){var t={},r=e.content;if(r.l=28,t.AnsiUserType=r.read_shift(0,"lpstr-ansi"),t.AnsiClipboardFormat=MG(r),r.length-r.l<=4)return t;var n=r.read_shift(4);if(n==0||n>40||(r.l-=4,t.Reserved1=r.read_shift(0,"lpstr-ansi"),r.length-r.l<=4)||(n=r.read_shift(4),n!==1907505652)||(t.UnicodeClipboardFormat=RG(r),n=r.read_shift(4),n==0||n>40))return t;r.l-=4,t.Reserved2=r.read_shift(0,"lpwstr")}var Wre=[60,1084,2066,2165,2175];function Gre(e,t,r,n,a){var i=n,l=[],o=r.slice(r.l,r.l+i);if(a&&a.enc&&a.enc.insitu&&o.length>0)switch(e){case 9:case 521:case 1033:case 2057:case 47:case 405:case 225:case 406:case 312:case 404:case 10:break;case 133:break;default:a.enc.insitu(o)}l.push(o),r.l+=i;for(var u=Ju(r,r.l),f=sN[u],h=0;f!=null&&Wre.indexOf(u)>-1;)i=Ju(r,r.l+2),h=r.l+4,u==2066?h+=4:(u==2165||u==2175)&&(h+=12),o=r.slice(h,r.l+4+i),l.push(o),r.l+=4+i,f=sN[u=Ju(r,r.l)];var m=Ui(l);as(m,0);var g=0;m.lens=[];for(var x=0;x<l.length;++x)m.lens.push(g),g+=l[x].length;if(m.length<n)throw"XLS Record 0x"+e.toString(16)+" Truncated: "+m.length+" < "+n;return t.f(m,m.length,a)}function nu(e,t,r){if(e.t!=="z"&&e.XF){var n=0;try{n=e.z||e.XF.numFmtId||0,t.cellNF&&(e.z=ur[n])}catch(i){if(t.WTF)throw i}if(!t||t.cellText!==!1)try{e.t==="e"?e.w=e.w||Sf[e.v]:n===0||n=="General"?e.t==="n"?(e.v|0)===e.v?e.w=e.v.toString(10):e.w=Gx(e.v):e.w=V0(e.v):e.w=Uo(n,e.v,{date1904:!!r,dateNF:t&&t.dateNF})}catch(i){if(t.WTF)throw i}if(t.cellDates&&n&&e.t=="n"&&ip(ur[n]||String(n))){var a=A0(e.v);a&&(e.t="d",e.v=new Date(a.y,a.m-1,a.d,a.H,a.M,a.S,a.u))}}}function nv(e,t,r){return{v:e,ixfe:t,t:r}}function Kre(e,t){var r={opts:{}},n={},a=t.dense?[]:{},i={},l={},o=null,u=[],f="",h={},m,g="",x,b,v,w,N={},E=[],j,T,O=[],F=[],D={Sheets:[],WBProps:{date1904:!1},Views:[{}]},L={},B=function(yt){return yt<8?O0[yt]:yt<64&&F[yt-8]||O0[yt]},H=function(yt,kt,_r){var Zt=kt.XF.data;if(!(!Zt||!Zt.patternType||!_r||!_r.cellStyles)){kt.s={},kt.s.patternType=Zt.patternType;var At;(At=Zx(B(Zt.icvFore)))&&(kt.s.fgColor={rgb:At}),(At=Zx(B(Zt.icvBack)))&&(kt.s.bgColor={rgb:At})}},P=function(yt,kt,_r){if(!(te>1)&&!(_r.sheetRows&&yt.r>=_r.sheetRows)){if(_r.cellStyles&&kt.XF&&kt.XF.data&&H(yt,kt,_r),delete kt.ixfe,delete kt.XF,m=yt,g=fr(yt),(!l||!l.s||!l.e)&&(l={s:{r:0,c:0},e:{r:0,c:0}}),yt.r<l.s.r&&(l.s.r=yt.r),yt.c<l.s.c&&(l.s.c=yt.c),yt.r+1>l.e.r&&(l.e.r=yt.r+1),yt.c+1>l.e.c&&(l.e.c=yt.c+1),_r.cellFormula&&kt.f){for(var Zt=0;Zt<E.length;++Zt)if(!(E[Zt][0].s.c>yt.c||E[Zt][0].s.r>yt.r)&&!(E[Zt][0].e.c<yt.c||E[Zt][0].e.r<yt.r)){kt.F=Nr(E[Zt][0]),(E[Zt][0].s.c!=yt.c||E[Zt][0].s.r!=yt.r)&&delete kt.f,kt.f&&(kt.f=""+Ns(E[Zt][1],l,yt,ce,U));break}}_r.dense?(a[yt.r]||(a[yt.r]=[]),a[yt.r][yt.c]=kt):a[g]=kt}},U={enc:!1,sbcch:0,snames:[],sharedf:N,arrayf:E,rrtabid:[],lastuser:"",biff:8,codepage:0,winlocked:0,cellStyles:!!t&&!!t.cellStyles,WTF:!!t&&!!t.wtf};t.password&&(U.password=t.password);var K,ee=[],me=[],ne=[],se=[],ye=!1,ce=[];ce.SheetNames=U.snames,ce.sharedf=U.sharedf,ce.arrayf=U.arrayf,ce.names=[],ce.XTI=[];var Se=0,te=0,M=0,R=[],q=[],W;U.codepage=1200,Nc(1200);for(var J=!1;e.l<e.length-1;){var le=e.l,ue=e.read_shift(2);if(ue===0&&Se===10)break;var X=e.l===e.length?0:e.read_shift(2),ge=sN[ue];if(ge&&ge.f){if(t.bookSheets&&Se===133&&ue!==133)break;if(Se=ue,ge.r===2||ge.r==12){var Te=e.read_shift(2);if(X-=2,!U.enc&&Te!==ue&&((Te&255)<<8|Te>>8)!==ue)throw new Error("rt mismatch: "+Te+"!="+ue);ge.r==12&&(e.l+=10,X-=10)}var Y={};if(ue===10?Y=ge.f(e,X,U):Y=Gre(ue,ge,e,X,U),te==0&&[9,521,1033,2057].indexOf(Se)===-1)continue;switch(ue){case 34:r.opts.Date1904=D.WBProps.date1904=Y;break;case 134:r.opts.WriteProtect=!0;break;case 47:if(U.enc||(e.l=0),U.enc=Y,!t.password)throw new Error("File is password-protected");if(Y.valid==null)throw new Error("Encryption scheme unsupported");if(!Y.valid)throw new Error("Password is incorrect");break;case 92:U.lastuser=Y;break;case 66:var We=Number(Y);switch(We){case 21010:We=1200;break;case 32768:We=1e4;break;case 32769:We=1252;break}Nc(U.codepage=We),J=!0;break;case 317:U.rrtabid=Y;break;case 25:U.winlocked=Y;break;case 439:r.opts.RefreshAll=Y;break;case 12:r.opts.CalcCount=Y;break;case 16:r.opts.CalcDelta=Y;break;case 17:r.opts.CalcIter=Y;break;case 13:r.opts.CalcMode=Y;break;case 14:r.opts.CalcPrecision=Y;break;case 95:r.opts.CalcSaveRecalc=Y;break;case 15:U.CalcRefMode=Y;break;case 2211:r.opts.FullCalc=Y;break;case 129:Y.fDialog&&(a["!type"]="dialog"),Y.fBelow||((a["!outline"]||(a["!outline"]={})).above=!0),Y.fRight||((a["!outline"]||(a["!outline"]={})).left=!0);break;case 224:O.push(Y);break;case 430:ce.push([Y]),ce[ce.length-1].XTI=[];break;case 35:case 547:ce[ce.length-1].push(Y);break;case 24:case 536:W={Name:Y.Name,Ref:Ns(Y.rgce,l,null,ce,U)},Y.itab>0&&(W.Sheet=Y.itab-1),ce.names.push(W),ce[0]||(ce[0]=[],ce[0].XTI=[]),ce[ce.length-1].push(Y),Y.Name=="_xlnm._FilterDatabase"&&Y.itab>0&&Y.rgce&&Y.rgce[0]&&Y.rgce[0][0]&&Y.rgce[0][0][0]=="PtgArea3d"&&(q[Y.itab-1]={ref:Nr(Y.rgce[0][0][1][2])});break;case 22:U.ExternCount=Y;break;case 23:ce.length==0&&(ce[0]=[],ce[0].XTI=[]),ce[ce.length-1].XTI=ce[ce.length-1].XTI.concat(Y),ce.XTI=ce.XTI.concat(Y);break;case 2196:if(U.biff<8)break;W!=null&&(W.Comment=Y[1]);break;case 18:a["!protect"]=Y;break;case 19:Y!==0&&U.WTF&&console.error("Password verifier: "+Y);break;case 133:i[Y.pos]=Y,U.snames.push(Y.name);break;case 10:{if(--te)break;if(l.e){if(l.e.r>0&&l.e.c>0){if(l.e.r--,l.e.c--,a["!ref"]=Nr(l),t.sheetRows&&t.sheetRows<=l.e.r){var Ee=l.e.r;l.e.r=t.sheetRows-1,a["!fullref"]=a["!ref"],a["!ref"]=Nr(l),l.e.r=Ee}l.e.r++,l.e.c++}ee.length>0&&(a["!merges"]=ee),me.length>0&&(a["!objects"]=me),ne.length>0&&(a["!cols"]=ne),se.length>0&&(a["!rows"]=se),D.Sheets.push(L)}f===""?h=a:n[f]=a,a=t.dense?[]:{}}break;case 9:case 521:case 1033:case 2057:{if(U.biff===8&&(U.biff={9:2,521:3,1033:4}[ue]||{512:2,768:3,1024:4,1280:5,1536:8,2:2,7:2}[Y.BIFFVer]||8),U.biffguess=Y.BIFFVer==0,Y.BIFFVer==0&&Y.dt==4096&&(U.biff=5,J=!0,Nc(U.codepage=28591)),U.biff==8&&Y.BIFFVer==0&&Y.dt==16&&(U.biff=2),te++)break;if(a=t.dense?[]:{},U.biff<8&&!J&&(J=!0,Nc(U.codepage=t.codepage||1252)),U.biff<5||Y.BIFFVer==0&&Y.dt==4096){f===""&&(f="Sheet1"),l={s:{r:0,c:0},e:{r:0,c:0}};var xe={pos:e.l-X,name:f};i[xe.pos]=xe,U.snames.push(f)}else f=(i[le]||{name:""}).name;Y.dt==32&&(a["!type"]="chart"),Y.dt==64&&(a["!type"]="macro"),ee=[],me=[],U.arrayf=E=[],ne=[],se=[],ye=!1,L={Hidden:(i[le]||{hs:0}).hs,name:f}}break;case 515:case 3:case 2:a["!type"]=="chart"&&(t.dense?(a[Y.r]||[])[Y.c]:a[fr({c:Y.c,r:Y.r})])&&++Y.c,j={ixfe:Y.ixfe,XF:O[Y.ixfe]||{},v:Y.val,t:"n"},M>0&&(j.z=R[j.ixfe>>8&63]),nu(j,t,r.opts.Date1904),P({c:Y.c,r:Y.r},j,t);break;case 5:case 517:j={ixfe:Y.ixfe,XF:O[Y.ixfe],v:Y.val,t:Y.t},M>0&&(j.z=R[j.ixfe>>8&63]),nu(j,t,r.opts.Date1904),P({c:Y.c,r:Y.r},j,t);break;case 638:j={ixfe:Y.ixfe,XF:O[Y.ixfe],v:Y.rknum,t:"n"},M>0&&(j.z=R[j.ixfe>>8&63]),nu(j,t,r.opts.Date1904),P({c:Y.c,r:Y.r},j,t);break;case 189:for(var dt=Y.c;dt<=Y.C;++dt){var Xe=Y.rkrec[dt-Y.c][0];j={ixfe:Xe,XF:O[Xe],v:Y.rkrec[dt-Y.c][1],t:"n"},M>0&&(j.z=R[j.ixfe>>8&63]),nu(j,t,r.opts.Date1904),P({c:dt,r:Y.r},j,t)}break;case 6:case 518:case 1030:{if(Y.val=="String"){o=Y;break}if(j=nv(Y.val,Y.cell.ixfe,Y.tt),j.XF=O[j.ixfe],t.cellFormula){var bt=Y.formula;if(bt&&bt[0]&&bt[0][0]&&bt[0][0][0]=="PtgExp"){var lt=bt[0][0][1][0],Ct=bt[0][0][1][1],xt=fr({r:lt,c:Ct});N[xt]?j.f=""+Ns(Y.formula,l,Y.cell,ce,U):j.F=((t.dense?(a[lt]||[])[Ct]:a[xt])||{}).F}else j.f=""+Ns(Y.formula,l,Y.cell,ce,U)}M>0&&(j.z=R[j.ixfe>>8&63]),nu(j,t,r.opts.Date1904),P(Y.cell,j,t),o=Y}break;case 7:case 519:if(o)o.val=Y,j=nv(Y,o.cell.ixfe,"s"),j.XF=O[j.ixfe],t.cellFormula&&(j.f=""+Ns(o.formula,l,o.cell,ce,U)),M>0&&(j.z=R[j.ixfe>>8&63]),nu(j,t,r.opts.Date1904),P(o.cell,j,t),o=null;else throw new Error("String record expects Formula");break;case 33:case 545:{E.push(Y);var Ke=fr(Y[0].s);if(x=t.dense?(a[Y[0].s.r]||[])[Y[0].s.c]:a[Ke],t.cellFormula&&x){if(!o||!Ke||!x)break;x.f=""+Ns(Y[1],l,Y[0],ce,U),x.F=Nr(Y[0])}}break;case 1212:{if(!t.cellFormula)break;if(g){if(!o)break;N[fr(o.cell)]=Y[0],x=t.dense?(a[o.cell.r]||[])[o.cell.c]:a[fr(o.cell)],(x||{}).f=""+Ns(Y[0],l,m,ce,U)}}break;case 253:j=nv(u[Y.isst].t,Y.ixfe,"s"),u[Y.isst].h&&(j.h=u[Y.isst].h),j.XF=O[j.ixfe],M>0&&(j.z=R[j.ixfe>>8&63]),nu(j,t,r.opts.Date1904),P({c:Y.c,r:Y.r},j,t);break;case 513:t.sheetStubs&&(j={ixfe:Y.ixfe,XF:O[Y.ixfe],t:"z"},M>0&&(j.z=R[j.ixfe>>8&63]),nu(j,t,r.opts.Date1904),P({c:Y.c,r:Y.r},j,t));break;case 190:if(t.sheetStubs)for(var pt=Y.c;pt<=Y.C;++pt){var Et=Y.ixfe[pt-Y.c];j={ixfe:Et,XF:O[Et],t:"z"},M>0&&(j.z=R[j.ixfe>>8&63]),nu(j,t,r.opts.Date1904),P({c:pt,r:Y.r},j,t)}break;case 214:case 516:case 4:j=nv(Y.val,Y.ixfe,"s"),j.XF=O[j.ixfe],M>0&&(j.z=R[j.ixfe>>8&63]),nu(j,t,r.opts.Date1904),P({c:Y.c,r:Y.r},j,t);break;case 0:case 512:te===1&&(l=Y);break;case 252:u=Y;break;case 1054:if(U.biff==4){R[M++]=Y[1];for(var zt=0;zt<M+163&&ur[zt]!=Y[1];++zt);zt>=163&&lf(Y[1],M+163)}else lf(Y[1],Y[0]);break;case 30:{R[M++]=Y;for(var Gt=0;Gt<M+163&&ur[Gt]!=Y;++Gt);Gt>=163&&lf(Y,M+163)}break;case 229:ee=ee.concat(Y);break;case 93:me[Y.cmo[0]]=U.lastobj=Y;break;case 438:U.lastobj.TxO=Y;break;case 127:U.lastobj.ImData=Y;break;case 440:for(w=Y[0].s.r;w<=Y[0].e.r;++w)for(v=Y[0].s.c;v<=Y[0].e.c;++v)x=t.dense?(a[w]||[])[v]:a[fr({c:v,r:w})],x&&(x.l=Y[1]);break;case 2048:for(w=Y[0].s.r;w<=Y[0].e.r;++w)for(v=Y[0].s.c;v<=Y[0].e.c;++v)x=t.dense?(a[w]||[])[v]:a[fr({c:v,r:w})],x&&x.l&&(x.l.Tooltip=Y[1]);break;case 28:{if(U.biff<=5&&U.biff>=2)break;x=t.dense?(a[Y[0].r]||[])[Y[0].c]:a[fr(Y[0])];var Ar=me[Y[2]];x||(t.dense?(a[Y[0].r]||(a[Y[0].r]=[]),x=a[Y[0].r][Y[0].c]={t:"z"}):x=a[fr(Y[0])]={t:"z"},l.e.r=Math.max(l.e.r,Y[0].r),l.s.r=Math.min(l.s.r,Y[0].r),l.e.c=Math.max(l.e.c,Y[0].c),l.s.c=Math.min(l.s.c,Y[0].c)),x.c||(x.c=[]),b={a:Y[1],t:Ar.TxO.t},x.c.push(b)}break;case 2173:LQ(O[Y.ixfe],Y.ext);break;case 125:{if(!U.cellStyles)break;for(;Y.e>=Y.s;)ne[Y.e--]={width:Y.w/256,level:Y.level||0,hidden:!!(Y.flags&1)},ye||(ye=!0,h3(Y.w/256)),Ad(ne[Y.e+1])}break;case 520:{var Lt={};Y.level!=null&&(se[Y.r]=Lt,Lt.level=Y.level),Y.hidden&&(se[Y.r]=Lt,Lt.hidden=!0),Y.hpt&&(se[Y.r]=Lt,Lt.hpt=Y.hpt,Lt.hpx=Hm(Y.hpt))}break;case 38:case 39:case 40:case 41:a["!margins"]||P0(a["!margins"]={}),a["!margins"][{38:"left",39:"right",40:"top",41:"bottom"}[ue]]=Y;break;case 161:a["!margins"]||P0(a["!margins"]={}),a["!margins"].header=Y.header,a["!margins"].footer=Y.footer;break;case 574:Y.RTL&&(D.Views[0].RTL=!0);break;case 146:F=Y;break;case 2198:K=Y;break;case 140:T=Y;break;case 442:f?L.CodeName=Y||L.name:D.WBProps.CodeName=Y||"ThisWorkbook";break}}else ge||console.error("Missing Info for XLS Record 0x"+ue.toString(16)),e.l+=X}return r.SheetNames=Ia(i).sort(function(Dt,yt){return Number(Dt)-Number(yt)}).map(function(Dt){return i[Dt].name}),t.bookSheets||(r.Sheets=n),!r.SheetNames.length&&h["!ref"]?(r.SheetNames.push("Sheet1"),r.Sheets&&(r.Sheets.Sheet1=h)):r.Preamble=h,r.Sheets&&q.forEach(function(Dt,yt){r.Sheets[r.SheetNames[yt]]["!autofilter"]=Dt}),r.Strings=u,r.SSF=ea(ur),U.enc&&(r.Encryption=U.enc),K&&(r.Themes=K),r.Metadata={},T!==void 0&&(r.Metadata.Country=T),ce.names.length>0&&(D.Names=ce.names),r.Workbook=D,r}var Dx={SI:"e0859ff2f94f6810ab9108002b27b3d9",DSI:"02d5cdd59c2e1b10939708002b2cf9ae",UDI:"05d5cdd59c2e1b10939708002b2cf9ae"};function Yre(e,t,r){var n=nr.find(e,"/!DocumentSummaryInformation");if(n&&n.size>0)try{var a=uk(n,J4,Dx.DSI);for(var i in a)t[i]=a[i]}catch(f){if(r.WTF)throw f}var l=nr.find(e,"/!SummaryInformation");if(l&&l.size>0)try{var o=uk(l,eN,Dx.SI);for(var u in o)t[u]==null&&(t[u]=o[u])}catch(f){if(r.WTF)throw f}t.HeadingPairs&&t.TitlesOfParts&&(XF(t.HeadingPairs,t.TitlesOfParts,t,r),delete t.HeadingPairs,delete t.TitlesOfParts)}function Xre(e,t){var r=[],n=[],a=[],i=0,l,o=UE(J4,"n"),u=UE(eN,"n");if(e.Props)for(l=Ia(e.Props),i=0;i<l.length;++i)(Object.prototype.hasOwnProperty.call(o,l[i])?r:Object.prototype.hasOwnProperty.call(u,l[i])?n:a).push([l[i],e.Props[l[i]]]);if(e.Custprops)for(l=Ia(e.Custprops),i=0;i<l.length;++i)Object.prototype.hasOwnProperty.call(e.Props||{},l[i])||(Object.prototype.hasOwnProperty.call(o,l[i])?r:Object.prototype.hasOwnProperty.call(u,l[i])?n:a).push([l[i],e.Custprops[l[i]]]);var f=[];for(i=0;i<a.length;++i)nP.indexOf(a[i][0])>-1||YF.indexOf(a[i][0])>-1||a[i][1]!=null&&f.push(a[i]);n.length&&nr.utils.cfb_add(t,"/SummaryInformation",fk(n,Dx.SI,u,eN)),(r.length||f.length)&&nr.utils.cfb_add(t,"/DocumentSummaryInformation",fk(r,Dx.DSI,o,J4,f.length?f:null,Dx.UDI))}function ZP(e,t){t||(t={}),N3(t),$_(),t.codepage&&q_(t.codepage);var r,n;if(e.FullPaths){if(nr.find(e,"/encryption"))throw new Error("File is password-protected");r=nr.find(e,"!CompObj"),n=nr.find(e,"/Workbook")||nr.find(e,"/Book")}else{switch(t.type){case"base64":e=Ql(ro(e));break;case"binary":e=Ql(e);break;case"buffer":break;case"array":Array.isArray(e)||(e=Array.prototype.slice.call(e));break}as(e,0),n={content:e}}var a,i;if(r&&Vre(r),t.bookProps&&!t.bookSheets)a={};else{var l=Tr?"buffer":"array";if(n&&n.content)a=Kre(n.content,t);else if((i=nr.find(e,"PerfectOffice_MAIN"))&&i.content)a=F0.to_workbook(i.content,(t.type=l,t));else if((i=nr.find(e,"NativeContent_MAIN"))&&i.content)a=F0.to_workbook(i.content,(t.type=l,t));else throw(i=nr.find(e,"MN0"))&&i.content?new Error("Unsupported Works 4 for Mac file"):new Error("Cannot find Workbook stream");t.bookVBA&&e.FullPaths&&nr.find(e,"/_VBA_PROJECT_CUR/VBA/dir")&&(a.vbaraw=cZ(e))}var o={};return e.FullPaths&&Yre(e,o,t),a.Props=a.Custprops=o,t.bookFiles&&(a.cfb=e),a}function Qre(e,t){var r=t||{},n=nr.utils.cfb_new({root:"R"}),a="/Workbook";switch(r.bookType||"xls"){case"xls":r.bookType="biff8";case"xla":r.bookType||(r.bookType="xla");case"biff8":a="/Workbook",r.biff=8;break;case"biff5":a="/Book",r.biff=5;break;default:throw new Error("invalid type "+r.bookType+" for XLS CFB")}return nr.utils.cfb_add(n,a,JP(e,r)),r.biff==8&&(e.Props||e.Custprops)&&Xre(e,n),r.biff==8&&e.vbaraw&&uZ(n,nr.read(e.vbaraw,{type:typeof e.vbaraw=="string"?"binary":"buffer"})),n}var rg={0:{f:wee},1:{f:Cee},2:{f:Kee},3:{f:Ree},4:{f:Fee},5:{f:Vee},6:{f:Jee},7:{f:zee},8:{f:ste},9:{f:ite},10:{f:nte},11:{f:ate},12:{f:Oee},13:{f:Xee},14:{f:Bee},15:{f:Lee},16:{f:HP},17:{f:tte},18:{f:$ee},19:{f:n3},20:{},21:{},22:{},23:{},24:{},25:{},26:{},27:{},28:{},29:{},30:{},31:{},32:{},33:{},34:{},35:{T:1},36:{T:-1},37:{T:1},38:{T:-1},39:{f:tre},40:{},42:{},43:{f:JX},44:{f:QX},45:{f:rQ},46:{f:aQ},47:{f:nQ},48:{},49:{f:jG},50:{},51:{f:IQ},52:{T:1},53:{T:-1},54:{T:1},55:{T:-1},56:{T:1},57:{T:-1},58:{},59:{},60:{f:mP},62:{f:Zee},63:{f:GQ},64:{f:Nte},65:{},66:{},67:{},68:{},69:{},70:{},128:{},129:{T:1},130:{T:-1},131:{T:1,f:Fs,p:0},132:{T:-1},133:{T:1},134:{T:-1},135:{T:1},136:{T:-1},137:{T:1,f:vte},138:{T:-1},139:{T:1},140:{T:-1},141:{T:1},142:{T:-1},143:{T:1},144:{T:-1},145:{T:1},146:{T:-1},147:{f:Eee},148:{f:jee,p:16},151:{f:dte},152:{},153:{f:Zte},154:{},155:{},156:{f:Xte},157:{},158:{},159:{T:1,f:mX},160:{T:-1},161:{T:1,f:hh},162:{T:-1},163:{T:1},164:{T:-1},165:{T:1},166:{T:-1},167:{},168:{},169:{},170:{},171:{},172:{T:1},173:{T:-1},174:{},175:{},176:{f:lte},177:{T:1},178:{T:-1},179:{T:1},180:{T:-1},181:{T:1},182:{T:-1},183:{T:1},184:{T:-1},185:{T:1},186:{T:-1},187:{T:1},188:{T:-1},189:{T:1},190:{T:-1},191:{T:1},192:{T:-1},193:{T:1},194:{T:-1},195:{T:1},196:{T:-1},197:{T:1},198:{T:-1},199:{T:1},200:{T:-1},201:{T:1},202:{T:-1},203:{T:1},204:{T:-1},205:{T:1},206:{T:-1},207:{T:1},208:{T:-1},209:{T:1},210:{T:-1},211:{T:1},212:{T:-1},213:{T:1},214:{T:-1},215:{T:1},216:{T:-1},217:{T:1},218:{T:-1},219:{T:1},220:{T:-1},221:{T:1},222:{T:-1},223:{T:1},224:{T:-1},225:{T:1},226:{T:-1},227:{T:1},228:{T:-1},229:{T:1},230:{T:-1},231:{T:1},232:{T:-1},233:{T:1},234:{T:-1},235:{T:1},236:{T:-1},237:{T:1},238:{T:-1},239:{T:1},240:{T:-1},241:{T:1},242:{T:-1},243:{T:1},244:{T:-1},245:{T:1},246:{T:-1},247:{T:1},248:{T:-1},249:{T:1},250:{T:-1},251:{T:1},252:{T:-1},253:{T:1},254:{T:-1},255:{T:1},256:{T:-1},257:{T:1},258:{T:-1},259:{T:1},260:{T:-1},261:{T:1},262:{T:-1},263:{T:1},264:{T:-1},265:{T:1},266:{T:-1},267:{T:1},268:{T:-1},269:{T:1},270:{T:-1},271:{T:1},272:{T:-1},273:{T:1},274:{T:-1},275:{T:1},276:{T:-1},277:{},278:{T:1},279:{T:-1},280:{T:1},281:{T:-1},282:{T:1},283:{T:1},284:{T:-1},285:{T:1},286:{T:-1},287:{T:1},288:{T:-1},289:{T:1},290:{T:-1},291:{T:1},292:{T:-1},293:{T:1},294:{T:-1},295:{T:1},296:{T:-1},297:{T:1},298:{T:-1},299:{T:1},300:{T:-1},301:{T:1},302:{T:-1},303:{T:1},304:{T:-1},305:{T:1},306:{T:-1},307:{T:1},308:{T:-1},309:{T:1},310:{T:-1},311:{T:1},312:{T:-1},313:{T:-1},314:{T:1},315:{T:-1},316:{T:1},317:{T:-1},318:{T:1},319:{T:-1},320:{T:1},321:{T:-1},322:{T:1},323:{T:-1},324:{T:1},325:{T:-1},326:{T:1},327:{T:-1},328:{T:1},329:{T:-1},330:{T:1},331:{T:-1},332:{T:1},333:{T:-1},334:{T:1},335:{f:MQ},336:{T:-1},337:{f:zQ,T:1},338:{T:-1},339:{T:1},340:{T:-1},341:{T:1},342:{T:-1},343:{T:1},344:{T:-1},345:{T:1},346:{T:-1},347:{T:1},348:{T:-1},349:{T:1},350:{T:-1},351:{},352:{},353:{T:1},354:{T:-1},355:{f:Z4},357:{},358:{},359:{},360:{T:1},361:{},362:{f:hP},363:{},364:{},366:{},367:{},368:{},369:{},370:{},371:{},372:{T:1},373:{T:-1},374:{T:1},375:{T:-1},376:{T:1},377:{T:-1},378:{T:1},379:{T:-1},380:{T:1},381:{T:-1},382:{T:1},383:{T:-1},384:{T:1},385:{T:-1},386:{T:1},387:{T:-1},388:{T:1},389:{T:-1},390:{T:1},391:{T:-1},392:{T:1},393:{T:-1},394:{T:1},395:{T:-1},396:{},397:{},398:{},399:{},400:{},401:{T:1},403:{},404:{},405:{},406:{},407:{},408:{},409:{},410:{},411:{},412:{},413:{},414:{},415:{},416:{},417:{},418:{},419:{},420:{},421:{},422:{T:1},423:{T:1},424:{T:-1},425:{T:-1},426:{f:hte},427:{f:mte},428:{},429:{T:1},430:{T:-1},431:{T:1},432:{T:-1},433:{T:1},434:{T:-1},435:{T:1},436:{T:-1},437:{T:1},438:{T:-1},439:{T:1},440:{T:-1},441:{T:1},442:{T:-1},443:{T:1},444:{T:-1},445:{T:1},446:{T:-1},447:{T:1},448:{T:-1},449:{T:1},450:{T:-1},451:{T:1},452:{T:-1},453:{T:1},454:{T:-1},455:{T:1},456:{T:-1},457:{T:1},458:{T:-1},459:{T:1},460:{T:-1},461:{T:1},462:{T:-1},463:{T:1},464:{T:-1},465:{T:1},466:{T:-1},467:{T:1},468:{T:-1},469:{T:1},470:{T:-1},471:{},472:{},473:{T:1},474:{T:-1},475:{},476:{f:xte},477:{},478:{},479:{T:1},480:{T:-1},481:{T:1},482:{T:-1},483:{T:1},484:{T:-1},485:{f:Aee},486:{T:1},487:{T:-1},488:{T:1},489:{T:-1},490:{T:1},491:{T:-1},492:{T:1},493:{T:-1},494:{f:ute},495:{T:1},496:{T:-1},497:{T:1},498:{T:-1},499:{},500:{T:1},501:{T:-1},502:{T:1},503:{T:-1},504:{},505:{T:1},506:{T:-1},507:{},508:{T:1},509:{T:-1},510:{T:1},511:{T:-1},512:{},513:{},514:{T:1},515:{T:-1},516:{T:1},517:{T:-1},518:{T:1},519:{T:-1},520:{T:1},521:{T:-1},522:{},523:{},524:{},525:{},526:{},527:{},528:{T:1},529:{T:-1},530:{T:1},531:{T:-1},532:{T:1},533:{T:-1},534:{},535:{},536:{},537:{},538:{T:1},539:{T:-1},540:{T:1},541:{T:-1},542:{T:1},548:{},549:{},550:{f:Z4},551:{},552:{},553:{},554:{T:1},555:{T:-1},556:{T:1},557:{T:-1},558:{T:1},559:{T:-1},560:{T:1},561:{T:-1},562:{},564:{},565:{T:1},566:{T:-1},569:{T:1},570:{T:-1},572:{},573:{T:1},574:{T:-1},577:{},578:{},579:{},580:{},581:{},582:{},583:{},584:{},585:{},586:{},587:{},588:{T:-1},589:{},590:{T:1},591:{T:-1},592:{T:1},593:{T:-1},594:{T:1},595:{T:-1},596:{},597:{T:1},598:{T:-1},599:{T:1},600:{T:-1},601:{T:1},602:{T:-1},603:{T:1},604:{T:-1},605:{T:1},606:{T:-1},607:{},608:{T:1},609:{T:-1},610:{},611:{T:1},612:{T:-1},613:{T:1},614:{T:-1},615:{T:1},616:{T:-1},617:{T:1},618:{T:-1},619:{T:1},620:{T:-1},625:{},626:{T:1},627:{T:-1},628:{T:1},629:{T:-1},630:{T:1},631:{T:-1},632:{f:aZ},633:{T:1},634:{T:-1},635:{T:1,f:rZ},636:{T:-1},637:{f:kG},638:{T:1},639:{},640:{T:-1},641:{T:1},642:{T:-1},643:{T:1},644:{},645:{T:-1},646:{T:1},648:{T:1},649:{},650:{T:-1},651:{f:Bte},652:{},653:{T:1},654:{T:-1},655:{T:1},656:{T:-1},657:{T:1},658:{T:-1},659:{},660:{T:1},661:{},662:{T:-1},663:{},664:{T:1},665:{},666:{T:-1},667:{},668:{},669:{},671:{T:1},672:{T:-1},673:{T:1},674:{T:-1},675:{},676:{},677:{},678:{},679:{},680:{},681:{},1024:{},1025:{},1026:{T:1},1027:{T:-1},1028:{T:1},1029:{T:-1},1030:{},1031:{T:1},1032:{T:-1},1033:{T:1},1034:{T:-1},1035:{},1036:{},1037:{},1038:{T:1},1039:{T:-1},1040:{},1041:{T:1},1042:{T:-1},1043:{},1044:{},1045:{},1046:{T:1},1047:{T:-1},1048:{T:1},1049:{T:-1},1050:{},1051:{T:1},1052:{T:1},1053:{f:_te},1054:{T:1},1055:{},1056:{T:1},1057:{T:-1},1058:{T:1},1059:{T:-1},1061:{},1062:{T:1},1063:{T:-1},1064:{T:1},1065:{T:-1},1066:{T:1},1067:{T:-1},1068:{T:1},1069:{T:-1},1070:{T:1},1071:{T:-1},1072:{T:1},1073:{T:-1},1075:{T:1},1076:{T:-1},1077:{T:1},1078:{T:-1},1079:{T:1},1080:{T:-1},1081:{T:1},1082:{T:-1},1083:{T:1},1084:{T:-1},1085:{},1086:{T:1},1087:{T:-1},1088:{T:1},1089:{T:-1},1090:{T:1},1091:{T:-1},1092:{T:1},1093:{T:-1},1094:{T:1},1095:{T:-1},1096:{},1097:{T:1},1098:{},1099:{T:-1},1100:{T:1},1101:{T:-1},1102:{},1103:{},1104:{},1105:{},1111:{},1112:{},1113:{T:1},1114:{T:-1},1115:{T:1},1116:{T:-1},1117:{},1118:{T:1},1119:{T:-1},1120:{T:1},1121:{T:-1},1122:{T:1},1123:{T:-1},1124:{T:1},1125:{T:-1},1126:{},1128:{T:1},1129:{T:-1},1130:{},1131:{T:1},1132:{T:-1},1133:{T:1},1134:{T:-1},1135:{T:1},1136:{T:-1},1137:{T:1},1138:{T:-1},1139:{T:1},1140:{T:-1},1141:{},1142:{T:1},1143:{T:-1},1144:{T:1},1145:{T:-1},1146:{},1147:{T:1},1148:{T:-1},1149:{T:1},1150:{T:-1},1152:{T:1},1153:{T:-1},1154:{T:-1},1155:{T:-1},1156:{T:-1},1157:{T:1},1158:{T:-1},1159:{T:1},1160:{T:-1},1161:{T:1},1162:{T:-1},1163:{T:1},1164:{T:-1},1165:{T:1},1166:{T:-1},1167:{T:1},1168:{T:-1},1169:{T:1},1170:{T:-1},1171:{},1172:{T:1},1173:{T:-1},1177:{},1178:{T:1},1180:{},1181:{},1182:{},2048:{T:1},2049:{T:-1},2050:{},2051:{T:1},2052:{T:-1},2053:{},2054:{},2055:{T:1},2056:{T:-1},2057:{T:1},2058:{T:-1},2060:{},2067:{},2068:{T:1},2069:{T:-1},2070:{},2071:{},2072:{T:1},2073:{T:-1},2075:{},2076:{},2077:{T:1},2078:{T:-1},2079:{},2080:{T:1},2081:{T:-1},2082:{},2083:{T:1},2084:{T:-1},2085:{T:1},2086:{T:-1},2087:{T:1},2088:{T:-1},2089:{T:1},2090:{T:-1},2091:{},2092:{},2093:{T:1},2094:{T:-1},2095:{},2096:{T:1},2097:{T:-1},2098:{T:1},2099:{T:-1},2100:{T:1},2101:{T:-1},2102:{},2103:{T:1},2104:{T:-1},2105:{},2106:{T:1},2107:{T:-1},2108:{},2109:{T:1},2110:{T:-1},2111:{T:1},2112:{T:-1},2113:{T:1},2114:{T:-1},2115:{},2116:{},2117:{},2118:{T:1},2119:{T:-1},2120:{},2121:{T:1},2122:{T:-1},2123:{T:1},2124:{T:-1},2125:{},2126:{T:1},2127:{T:-1},2128:{},2129:{T:1},2130:{T:-1},2131:{T:1},2132:{T:-1},2133:{T:1},2134:{},2135:{},2136:{},2137:{T:1},2138:{T:-1},2139:{T:1},2140:{T:-1},2141:{},3072:{},3073:{},4096:{T:1},4097:{T:-1},5002:{T:1},5003:{T:-1},5081:{T:1},5082:{T:-1},5083:{},5084:{T:1},5085:{T:-1},5086:{T:1},5087:{T:-1},5088:{},5089:{},5090:{},5092:{T:1},5093:{T:-1},5094:{},5095:{T:1},5096:{T:-1},5097:{},5099:{},65535:{n:""}},sN={6:{f:Tw},10:{f:hd},12:{f:ai},13:{f:ai},14:{f:$a},15:{f:$a},16:{f:Ss},17:{f:$a},18:{f:$a},19:{f:ai},20:{f:gk},21:{f:gk},23:{f:hP},24:{f:yk},25:{f:$a},26:{},27:{},28:{f:_Y},29:{},34:{f:$a},35:{f:vk},38:{f:Ss},39:{f:Ss},40:{f:Ss},41:{f:Ss},42:{f:$a},43:{f:$a},47:{f:LX},49:{f:XK},51:{f:ai},60:{},61:{f:VK},64:{f:$a},65:{f:YK},66:{f:ai},77:{},80:{},81:{},82:{},85:{f:ai},89:{},90:{},91:{},92:{f:PK},93:{f:AY},94:{},95:{f:$a},96:{},97:{},99:{f:$a},125:{f:mP},128:{f:fY},129:{f:MK},130:{f:ai},131:{f:$a},132:{f:$a},133:{f:RK},134:{},140:{f:PY},141:{f:ai},144:{},146:{f:RY},151:{},152:{},153:{},154:{},155:{},156:{f:ai},157:{},158:{},160:{f:HY},161:{f:UY},174:{},175:{},176:{},177:{},178:{},180:{},181:{},182:{},184:{},185:{},189:{f:lY},190:{f:oY},193:{f:hd},197:{},198:{},199:{},200:{},201:{},202:{f:$a},203:{},204:{},205:{},206:{},207:{},208:{},209:{},210:{},211:{},213:{},215:{},216:{},217:{},218:{f:ai},220:{},221:{f:$a},222:{},224:{f:uY},225:{f:FK},226:{f:hd},227:{},229:{f:jY},233:{},235:{},236:{},237:{},239:{},240:{},241:{},242:{},244:{},245:{},246:{},247:{},248:{},249:{},251:{},252:{f:BK},253:{f:ZK},255:{f:zK},256:{},259:{},290:{},311:{},312:{},315:{},317:{f:aP},318:{},319:{},320:{},330:{},331:{},333:{},334:{},335:{},336:{},337:{},338:{},339:{},340:{},351:{},352:{f:$a},353:{f:hd},401:{},402:{},403:{},404:{},405:{},406:{},407:{},408:{},425:{},426:{},427:{},428:{},429:{},430:{f:xY},431:{f:$a},432:{},433:{},434:{},437:{},438:{f:CY},439:{f:$a},440:{f:TY},441:{},442:{f:Ag},443:{},444:{f:ai},445:{},446:{},448:{f:hd},449:{f:HK,r:2},450:{f:hd},512:{f:mk},513:{f:$Y},515:{f:mY},516:{f:eY},517:{f:xk},519:{f:VY},520:{f:qK},523:{},545:{f:bk},549:{f:hk},566:{},574:{f:GK},638:{f:sY},659:{},1048:{},1054:{f:rY},1084:{},1212:{f:bY},2048:{f:DY},2049:{},2050:{},2051:{},2052:{},2053:{},2054:{},2055:{},2056:{},2057:{f:ev},2058:{},2059:{},2060:{},2061:{},2062:{},2063:{},2064:{},2066:{},2067:{},2128:{},2129:{},2130:{},2131:{},2132:{},2133:{},2134:{},2135:{},2136:{},2137:{},2138:{},2146:{},2147:{r:12},2148:{},2149:{},2150:{},2151:{f:hd},2152:{},2154:{},2155:{},2156:{},2161:{},2162:{},2164:{},2165:{},2166:{},2167:{},2168:{},2169:{},2170:{},2171:{},2172:{f:IY,r:12},2173:{f:PQ,r:12},2174:{},2175:{},2180:{},2181:{},2182:{},2183:{},2184:{},2185:{},2186:{},2187:{},2188:{f:$a,r:12},2189:{},2190:{r:12},2191:{},2192:{},2194:{},2195:{},2196:{f:yY,r:12},2197:{},2198:{f:kQ,r:12},2199:{},2200:{},2201:{},2202:{f:wY,r:12},2203:{f:hd},2204:{},2205:{},2206:{},2207:{},2211:{f:$K},2212:{},2213:{},2214:{},2215:{},4097:{},4098:{},4099:{},4102:{},4103:{},4105:{},4106:{},4107:{},4108:{},4109:{},4116:{},4117:{},4118:{},4119:{},4120:{},4121:{},4122:{},4123:{},4124:{},4125:{},4126:{},4127:{},4128:{},4129:{},4130:{},4132:{},4133:{},4134:{f:ai},4135:{},4146:{},4147:{},4148:{},4149:{},4154:{},4156:{},4157:{},4158:{},4159:{},4160:{},4161:{},4163:{},4164:{f:zY},4165:{},4166:{},4168:{},4170:{},4171:{},4174:{},4175:{},4176:{},4177:{},4187:{},4188:{f:MY},4189:{},4191:{},4192:{},4193:{},4194:{},4195:{},4196:{},4197:{},4198:{},4199:{},4200:{},0:{f:mk},1:{},2:{f:XY},3:{f:KY},4:{f:GY},5:{f:xk},7:{f:ZY},8:{},9:{f:ev},11:{},22:{f:ai},30:{f:aY},31:{},32:{},33:{f:bk},36:{},37:{f:hk},50:{f:JY},62:{},52:{},67:{},68:{f:ai},69:{},86:{},126:{},127:{f:WY},135:{},136:{},137:{},145:{},148:{},149:{},150:{},169:{},171:{},188:{},191:{},192:{},194:{},195:{},214:{f:eX},223:{},234:{},354:{},421:{},518:{f:Tw},521:{f:ev},536:{f:yk},547:{f:vk},561:{},579:{},1030:{f:Tw},1033:{f:ev},1091:{},2157:{},2163:{},2177:{},2240:{},2241:{},2242:{},2243:{},2244:{},2245:{},2246:{},2247:{},2248:{},2249:{},2250:{},2251:{},2262:{r:12},29282:{}};function _t(e,t,r,n){var a=t;if(!isNaN(a)){var i=n||(r||[]).length||0,l=e.next(4);l.write_shift(2,a),l.write_shift(2,i),i>0&&e3(r)&&e.push(r)}}function Zre(e,t,r,n){var a=(r||[]).length||0;if(a<=8224)return _t(e,t,r,a);var i=t;if(!isNaN(i)){for(var l=r.parts||[],o=0,u=0,f=0;f+(l[o]||8224)<=8224;)f+=l[o]||8224,o++;var h=e.next(4);for(h.write_shift(2,i),h.write_shift(2,f),e.push(r.slice(u,u+f)),u+=f;u<a;){for(h=e.next(4),h.write_shift(2,60),f=0;f+(l[o]||8224)<=8224;)f+=l[o]||8224,o++;h.write_shift(2,f),e.push(r.slice(u,u+f)),u+=f}}}function Tg(e,t,r){return e||(e=Je(7)),e.write_shift(2,t),e.write_shift(2,r),e.write_shift(2,0),e.write_shift(1,0),e}function Jre(e,t,r,n){var a=Je(9);return Tg(a,e,t),iP(r,n||"b",a),a}function ene(e,t,r){var n=Je(8+2*r.length);return Tg(n,e,t),n.write_shift(1,r.length),n.write_shift(r.length,r,"sbcs"),n.l<n.length?n.slice(0,n.l):n}function tne(e,t,r,n){if(t.v!=null)switch(t.t){case"d":case"n":var a=t.t=="d"?ji(Jn(t.v)):t.v;a==(a|0)&&a>=0&&a<65536?_t(e,2,QY(r,n,a)):_t(e,3,YY(r,n,a));return;case"b":case"e":_t(e,5,Jre(r,n,t.v,t.t));return;case"s":case"str":_t(e,4,ene(r,n,(t.v||"").slice(0,255)));return}_t(e,1,Tg(null,r,n))}function rne(e,t,r,n){var a=Array.isArray(t),i=Jr(t["!ref"]||"A1"),l,o="",u=[];if(i.e.c>255||i.e.r>16383){if(n.WTF)throw new Error("Range "+(t["!ref"]||"A1")+" exceeds format limit A1:IV16384");i.e.c=Math.min(i.e.c,255),i.e.r=Math.min(i.e.c,16383),l=Nr(i)}for(var f=i.s.r;f<=i.e.r;++f){o=Ya(f);for(var h=i.s.c;h<=i.e.c;++h){f===i.s.r&&(u[h]=_a(h)),l=u[h]+o;var m=a?(t[f]||[])[h]:t[l];m&&tne(e,m,f,h)}}}function nne(e,t){for(var r=t||{},n=El(),a=0,i=0;i<e.SheetNames.length;++i)e.SheetNames[i]==r.sheet&&(a=i);if(a==0&&r.sheet&&e.SheetNames[0]!=r.sheet)throw new Error("Sheet not found: "+r.sheet);return _t(n,r.biff==4?1033:r.biff==3?521:9,u3(e,16,r)),rne(n,e.Sheets[e.SheetNames[a]],a,r),_t(n,10),n.end()}function ane(e,t,r){_t(e,49,QK({sz:12,name:"Arial"},r))}function ine(e,t,r){t&&[[5,8],[23,26],[41,44],[50,392]].forEach(function(n){for(var a=n[0];a<=n[1];++a)t[a]!=null&&_t(e,1054,nY(a,t[a],r))})}function sne(e,t){var r=Je(19);r.write_shift(4,2151),r.write_shift(4,0),r.write_shift(4,0),r.write_shift(2,3),r.write_shift(1,1),r.write_shift(4,0),_t(e,2151,r),r=Je(39),r.write_shift(4,2152),r.write_shift(4,0),r.write_shift(4,0),r.write_shift(2,3),r.write_shift(1,0),r.write_shift(4,0),r.write_shift(2,1),r.write_shift(4,4),r.write_shift(2,0),uP(Jr(t["!ref"]||"A1"),r),r.write_shift(4,4),_t(e,2152,r)}function lne(e,t){for(var r=0;r<16;++r)_t(e,224,pk({numFmtId:0,style:!0},0,t));t.cellXfs.forEach(function(n){_t(e,224,pk(n,0,t))})}function one(e,t){for(var r=0;r<t["!links"].length;++r){var n=t["!links"][r];_t(e,440,OY(n)),n[1].Tooltip&&_t(e,2048,FY(n))}delete t["!links"]}function cne(e,t){if(t){var r=0;t.forEach(function(n,a){++r<=256&&n&&_t(e,125,BY(d2(a,n),a))})}}function une(e,t,r,n,a){var i=16+Id(a.cellXfs,t,a);if(t.v==null&&!t.bf){_t(e,513,Y0(r,n,i));return}if(t.bf)_t(e,6,MJ(t,r,n,a,i));else switch(t.t){case"d":case"n":var l=t.t=="d"?ji(Jn(t.v)):t.v;_t(e,515,pY(r,n,l,i));break;case"b":case"e":_t(e,517,hY(r,n,t.v,i,a,t.t));break;case"s":case"str":if(a.bookSST){var o=v3(a.Strings,t.v,a.revStrings);_t(e,253,JK(r,n,o,i))}else _t(e,516,tY(r,n,(t.v||"").slice(0,255),i,a));break;default:_t(e,513,Y0(r,n,i))}}function fne(e,t,r){var n=El(),a=r.SheetNames[e],i=r.Sheets[a]||{},l=(r||{}).Workbook||{},o=(l.Sheets||[])[e]||{},u=Array.isArray(i),f=t.biff==8,h,m="",g=[],x=Jr(i["!ref"]||"A1"),b=f?65536:16384;if(x.e.c>255||x.e.r>=b){if(t.WTF)throw new Error("Range "+(i["!ref"]||"A1")+" exceeds format limit A1:IV16384");x.e.c=Math.min(x.e.c,255),x.e.r=Math.min(x.e.c,b-1)}_t(n,2057,u3(r,16,t)),_t(n,13,Po(1)),_t(n,12,Po(100)),_t(n,15,Ys(!0)),_t(n,17,Ys(!1)),_t(n,16,G0(.001)),_t(n,95,Ys(!0)),_t(n,42,Ys(!1)),_t(n,43,Ys(!1)),_t(n,130,Po(1)),_t(n,128,dY()),_t(n,131,Ys(!1)),_t(n,132,Ys(!1)),f&&cne(n,i["!cols"]),_t(n,512,iY(x,t)),f&&(i["!links"]=[]);for(var v=x.s.r;v<=x.e.r;++v){m=Ya(v);for(var w=x.s.c;w<=x.e.c;++w){v===x.s.r&&(g[w]=_a(w)),h=g[w]+m;var N=u?(i[v]||[])[w]:i[h];N&&(une(n,N,v,w,t),f&&N.l&&i["!links"].push([h,N.l]))}}var E=o.CodeName||o.name||a;return f&&_t(n,574,KK((l.Views||[])[0])),f&&(i["!merges"]||[]).length&&_t(n,229,SY(i["!merges"])),f&&one(n,i),_t(n,442,sP(E)),f&&sne(n,i),_t(n,10),n.end()}function dne(e,t,r){var n=El(),a=(e||{}).Workbook||{},i=a.Sheets||[],l=a.WBProps||{},o=r.biff==8,u=r.biff==5;if(_t(n,2057,u3(e,5,r)),r.bookType=="xla"&&_t(n,135),_t(n,225,o?Po(1200):null),_t(n,193,hK(2)),u&&_t(n,191),u&&_t(n,192),_t(n,226),_t(n,92,LK("SheetJS",r)),_t(n,66,Po(o?1200:1252)),o&&_t(n,353,Po(0)),o&&_t(n,448),_t(n,317,qY(e.SheetNames.length)),o&&e.vbaraw&&_t(n,211),o&&e.vbaraw){var f=l.CodeName||"ThisWorkbook";_t(n,442,sP(f))}_t(n,156,Po(17)),_t(n,25,Ys(!1)),_t(n,18,Ys(!1)),_t(n,19,Po(0)),o&&_t(n,431,Ys(!1)),o&&_t(n,444,Po(0)),_t(n,61,WK()),_t(n,64,Ys(!1)),_t(n,141,Po(0)),_t(n,34,Ys(Hte(e)=="true")),_t(n,14,Ys(!0)),o&&_t(n,439,Ys(!1)),_t(n,218,Po(0)),ane(n,e,r),ine(n,e.SSF,r),lne(n,r),o&&_t(n,352,Ys(!1));var h=n.end(),m=El();o&&_t(m,140,LY()),o&&r.Strings&&Zre(m,252,UK(r.Strings)),_t(m,10);var g=m.end(),x=El(),b=0,v=0;for(v=0;v<e.SheetNames.length;++v)b+=(o?12:11)+(o?2:1)*e.SheetNames[v].length;var w=h.length+b+g.length;for(v=0;v<e.SheetNames.length;++v){var N=i[v]||{};_t(x,133,IK({pos:w,hs:N.Hidden||0,dt:0,name:e.SheetNames[v]},r)),w+=t[v].length}var E=x.end();if(b!=E.length)throw new Error("BS8 "+b+" != "+E.length);var j=[];return h.length&&j.push(h),E.length&&j.push(E),g.length&&j.push(g),Ui(j)}function hne(e,t){var r=t||{},n=[];e&&!e.SSF&&(e.SSF=ea(ur)),e&&e.SSF&&(sp(),i2(e.SSF),r.revssf=l2(e.SSF),r.revssf[e.SSF[65535]]=0,r.ssf=e.SSF),r.Strings=[],r.Strings.Count=0,r.Strings.Unique=0,_3(r),r.cellXfs=[],Id(r.cellXfs,{},{revssf:{General:0}}),e.Props||(e.Props={});for(var a=0;a<e.SheetNames.length;++a)n[n.length]=fne(a,r,e);return n.unshift(dne(e,n,r)),Ui(n)}function JP(e,t){for(var r=0;r<=e.SheetNames.length;++r){var n=e.Sheets[e.SheetNames[r]];if(!(!n||!n["!ref"])){var a=Cl(n["!ref"]);a.e.c>255&&typeof console<"u"&&console.error&&console.error("Worksheet '"+e.SheetNames[r]+"' extends beyond column IV (255).  Data may be lost.")}}var i=t||{};switch(i.biff||2){case 8:case 5:return hne(e,t);case 4:case 3:case 2:return nne(e,t)}throw new Error("invalid type "+i.bookType+" for BIFF")}function Tk(e,t){var r=t||{},n=r.dense?[]:{};e=e.replace(/<!--.*?-->/g,"");var a=e.match(/<table/i);if(!a)throw new Error("Invalid HTML: could not find <table>");var i=e.match(/<\/table/i),l=a.index,o=i&&i.index||e.length,u=QW(e.slice(l,o),/(:?<tr[^>]*>)/i,"<tr>"),f=-1,h=0,m=0,g=0,x={s:{r:1e7,c:1e7},e:{r:0,c:0}},b=[];for(l=0;l<u.length;++l){var v=u[l].trim(),w=v.slice(0,3).toLowerCase();if(w=="<tr"){if(++f,r.sheetRows&&r.sheetRows<=f){--f;break}h=0;continue}if(!(w!="<td"&&w!="<th")){var N=v.split(/<\/t[dh]>/i);for(o=0;o<N.length;++o){var E=N[o].trim();if(E.match(/<t[dh]/i)){for(var j=E,T=0;j.charAt(0)=="<"&&(T=j.indexOf(">"))>-1;)j=j.slice(T+1);for(var O=0;O<b.length;++O){var F=b[O];F.s.c==h&&F.s.r<f&&f<=F.e.r&&(h=F.e.c+1,O=-1)}var D=hr(E.slice(0,E.indexOf(">")));g=D.colspan?+D.colspan:1,((m=+D.rowspan)>1||g>1)&&b.push({s:{r:f,c:h},e:{r:f+(m||1)-1,c:h+g-1}});var L=D.t||D["data-t"]||"";if(!j.length){h+=g;continue}if(j=_F(j),x.s.r>f&&(x.s.r=f),x.e.r<f&&(x.e.r=f),x.s.c>h&&(x.s.c=h),x.e.c<h&&(x.e.c=h),!j.length){h+=g;continue}var B={t:"s",v:j};r.raw||!j.trim().length||L=="s"||(j==="TRUE"?B={t:"b",v:!0}:j==="FALSE"?B={t:"b",v:!1}:isNaN(Sc(j))?isNaN(qm(j).getDate())||(B={t:"d",v:Jn(j)},r.cellDates||(B={t:"n",v:ji(B.v)}),B.z=r.dateNF||ur[14]):B={t:"n",v:Sc(j)}),r.dense?(n[f]||(n[f]=[]),n[f][h]=B):n[fr({r:f,c:h})]=B,h+=g}}}}return n["!ref"]=Nr(x),b.length&&(n["!merges"]=b),n}function mne(e,t,r,n){for(var a=e["!merges"]||[],i=[],l=t.s.c;l<=t.e.c;++l){for(var o=0,u=0,f=0;f<a.length;++f)if(!(a[f].s.r>r||a[f].s.c>l)&&!(a[f].e.r<r||a[f].e.c<l)){if(a[f].s.r<r||a[f].s.c<l){o=-1;break}o=a[f].e.r-a[f].s.r+1,u=a[f].e.c-a[f].s.c+1;break}if(!(o<0)){var h=fr({r,c:l}),m=n.dense?(e[r]||[])[l]:e[h],g=m&&m.v!=null&&(m.h||Q_(m.w||(pf(m),m.w)||""))||"",x={};o>1&&(x.rowspan=o),u>1&&(x.colspan=u),n.editable?g='<span contenteditable="true">'+g+"</span>":m&&(x["data-t"]=m&&m.t||"z",m.v!=null&&(x["data-v"]=m.v),m.z!=null&&(x["data-z"]=m.z),m.l&&(m.l.Target||"#").charAt(0)!="#"&&(g='<a href="'+m.l.Target+'">'+g+"</a>")),x.id=(n.id||"sjs")+"-"+h,i.push(wt("td",g,x))}}var b="<tr>";return b+i.join("")+"</tr>"}var pne='<html><head><meta charset="utf-8"/><title>SheetJS Table Export</title></head><body>',xne="</body></html>";function gne(e,t){var r=e.match(/<table[\s\S]*?>[\s\S]*?<\/table>/gi);if(!r||r.length==0)throw new Error("Invalid HTML: could not find <table>");if(r.length==1)return Rd(Tk(r[0],t),t);var n=A3();return r.forEach(function(a,i){E3(n,Tk(a,t),"Sheet"+(i+1))}),n}function vne(e,t,r){var n=[];return n.join("")+"<table"+(r&&r.id?' id="'+r.id+'"':"")+">"}function eL(e,t){var r=t||{},n=r.header!=null?r.header:pne,a=r.footer!=null?r.footer:xne,i=[n],l=Cl(e["!ref"]);r.dense=Array.isArray(e),i.push(vne(e,l,r));for(var o=l.s.r;o<=l.e.r;++o)i.push(mne(e,l,o,r));return i.push("</table>"+a),i.join("")}function tL(e,t,r){var n=r||{},a=0,i=0;if(n.origin!=null)if(typeof n.origin=="number")a=n.origin;else{var l=typeof n.origin=="string"?ja(n.origin):n.origin;a=l.r,i=l.c}var o=t.getElementsByTagName("tr"),u=Math.min(n.sheetRows||1e7,o.length),f={s:{r:0,c:0},e:{r:a,c:i}};if(e["!ref"]){var h=Cl(e["!ref"]);f.s.r=Math.min(f.s.r,h.s.r),f.s.c=Math.min(f.s.c,h.s.c),f.e.r=Math.max(f.e.r,h.e.r),f.e.c=Math.max(f.e.c,h.e.c),a==-1&&(f.e.r=a=h.e.r+1)}var m=[],g=0,x=e["!rows"]||(e["!rows"]=[]),b=0,v=0,w=0,N=0,E=0,j=0;for(e["!cols"]||(e["!cols"]=[]);b<o.length&&v<u;++b){var T=o[b];if(Ok(T)){if(n.display)continue;x[v]={hidden:!0}}var O=T.children;for(w=N=0;w<O.length;++w){var F=O[w];if(!(n.display&&Ok(F))){var D=F.hasAttribute("data-v")?F.getAttribute("data-v"):F.hasAttribute("v")?F.getAttribute("v"):_F(F.innerHTML),L=F.getAttribute("data-z")||F.getAttribute("z");for(g=0;g<m.length;++g){var B=m[g];B.s.c==N+i&&B.s.r<v+a&&v+a<=B.e.r&&(N=B.e.c+1-i,g=-1)}j=+F.getAttribute("colspan")||1,((E=+F.getAttribute("rowspan")||1)>1||j>1)&&m.push({s:{r:v+a,c:N+i},e:{r:v+a+(E||1)-1,c:N+i+(j||1)-1}});var H={t:"s",v:D},P=F.getAttribute("data-t")||F.getAttribute("t")||"";D!=null&&(D.length==0?H.t=P||"z":n.raw||D.trim().length==0||P=="s"||(D==="TRUE"?H={t:"b",v:!0}:D==="FALSE"?H={t:"b",v:!1}:isNaN(Sc(D))?isNaN(qm(D).getDate())||(H={t:"d",v:Jn(D)},n.cellDates||(H={t:"n",v:ji(H.v)}),H.z=n.dateNF||ur[14]):H={t:"n",v:Sc(D)})),H.z===void 0&&L!=null&&(H.z=L);var U="",K=F.getElementsByTagName("A");if(K&&K.length)for(var ee=0;ee<K.length&&!(K[ee].hasAttribute("href")&&(U=K[ee].getAttribute("href"),U.charAt(0)!="#"));++ee);U&&U.charAt(0)!="#"&&(H.l={Target:U}),n.dense?(e[v+a]||(e[v+a]=[]),e[v+a][N+i]=H):e[fr({c:N+i,r:v+a})]=H,f.e.c<N+i&&(f.e.c=N+i),N+=j}}++v}return m.length&&(e["!merges"]=(e["!merges"]||[]).concat(m)),f.e.r=Math.max(f.e.r,v-1+a),e["!ref"]=Nr(f),v>=u&&(e["!fullref"]=Nr((f.e.r=o.length-b+v-1+a,f))),e}function rL(e,t){var r=t||{},n=r.dense?[]:{};return tL(n,e,t)}function yne(e,t){return Rd(rL(e,t),t)}function Ok(e){var t="",r=bne(e);return r&&(t=r(e).getPropertyValue("display")),t||(t=e.style&&e.style.display),t==="none"}function bne(e){return e.ownerDocument.defaultView&&typeof e.ownerDocument.defaultView.getComputedStyle=="function"?e.ownerDocument.defaultView.getComputedStyle:typeof getComputedStyle=="function"?getComputedStyle:null}function wne(e){var t=e.replace(/[\t\r\n]/g," ").trim().replace(/ +/g," ").replace(/<text:s\/>/g," ").replace(/<text:s text:c="(\d+)"\/>/g,function(n,a){return Array(parseInt(a,10)+1).join(" ")}).replace(/<text:tab[^>]*\/>/g,"	").replace(/<text:line-break\/>/g,`
`),r=Qr(t.replace(/<[^>]*>/g,""));return[r]}var Dk={day:["d","dd"],month:["m","mm"],year:["y","yy"],hours:["h","hh"],minutes:["m","mm"],seconds:["s","ss"],"am-pm":["A/P","AM/PM"],"day-of-week":["ddd","dddd"],era:["e","ee"],quarter:["\\Qm",'m\\"th quarter"']};function nL(e,t){var r=t||{},n=Z_(e),a=[],i,l,o={name:""},u="",f=0,h,m,g={},x=[],b=r.dense?[]:{},v,w,N={value:""},E="",j=0,T=[],O=-1,F=-1,D={s:{r:1e6,c:1e7},e:{r:0,c:0}},L=0,B={},H=[],P={},U=0,K=0,ee=[],me=1,ne=1,se=[],ye={Names:[]},ce={},Se=["",""],te=[],M={},R="",q=0,W=!1,J=!1,le=0;for(Xx.lastIndex=0,n=n.replace(/<!--([\s\S]*?)-->/mg,"").replace(/<!DOCTYPE[^\[]*\[[^\]]*\]>/gm,"");v=Xx.exec(n);)switch(v[3]=v[3].replace(/_.*$/,"")){case"table":case"":v[1]==="/"?(D.e.c>=D.s.c&&D.e.r>=D.s.r?b["!ref"]=Nr(D):b["!ref"]="A1:A1",r.sheetRows>0&&r.sheetRows<=D.e.r&&(b["!fullref"]=b["!ref"],D.e.r=r.sheetRows-1,b["!ref"]=Nr(D)),H.length&&(b["!merges"]=H),ee.length&&(b["!rows"]=ee),h.name=h.||h.name,typeof JSON<"u"&&JSON.stringify(h),x.push(h.name),g[h.name]=b,J=!1):v[0].charAt(v[0].length-2)!=="/"&&(h=hr(v[0],!1),O=F=-1,D.s.r=D.s.c=1e7,D.e.r=D.e.c=0,b=r.dense?[]:{},H=[],ee=[],J=!0);break;case"table-row-group":v[1]==="/"?--L:++L;break;case"table-row":case"":if(v[1]==="/"){O+=me,me=1;break}if(m=hr(v[0],!1),m.?O=m.-1:O==-1&&(O=0),me=+m["number-rows-repeated"]||1,me<10)for(le=0;le<me;++le)L>0&&(ee[O+le]={level:L});F=-1;break;case"covered-table-cell":v[1]!=="/"&&++F,r.sheetStubs&&(r.dense?(b[O]||(b[O]=[]),b[O][F]={t:"z"}):b[fr({r:O,c:F})]={t:"z"}),E="",T=[];break;case"table-cell":case"":if(v[0].charAt(v[0].length-2)==="/")++F,N=hr(v[0],!1),ne=parseInt(N["number-columns-repeated"]||"1",10),w={t:"z",v:null},N.formula&&r.cellFormula!=!1&&(w.f=Ek(Qr(N.formula))),(N.||N["value-type"])=="string"&&(w.t="s",w.v=Qr(N["string-value"]||""),r.dense?(b[O]||(b[O]=[]),b[O][F]=w):b[fr({r:O,c:F})]=w),F+=ne-1;else if(v[1]!=="/"){++F,E="",j=0,T=[],ne=1;var ue=me?O+me-1:O;if(F>D.e.c&&(D.e.c=F),F<D.s.c&&(D.s.c=F),O<D.s.r&&(D.s.r=O),ue>D.e.r&&(D.e.r=ue),N=hr(v[0],!1),te=[],M={},w={t:N.||N["value-type"],v:null},r.cellFormula)if(N.formula&&(N.formula=Qr(N.formula)),N["number-matrix-columns-spanned"]&&N["number-matrix-rows-spanned"]&&(U=parseInt(N["number-matrix-rows-spanned"],10)||0,K=parseInt(N["number-matrix-columns-spanned"],10)||0,P={s:{r:O,c:F},e:{r:O+U-1,c:F+K-1}},w.F=Nr(P),se.push([P,w.F])),N.formula)w.f=Ek(N.formula);else for(le=0;le<se.length;++le)O>=se[le][0].s.r&&O<=se[le][0].e.r&&F>=se[le][0].s.c&&F<=se[le][0].e.c&&(w.F=se[le][1]);switch((N["number-columns-spanned"]||N["number-rows-spanned"])&&(U=parseInt(N["number-rows-spanned"],10)||0,K=parseInt(N["number-columns-spanned"],10)||0,P={s:{r:O,c:F},e:{r:O+U-1,c:F+K-1}},H.push(P)),N["number-columns-repeated"]&&(ne=parseInt(N["number-columns-repeated"],10)),w.t){case"boolean":w.t="b",w.v=Qn(N["boolean-value"]);break;case"float":w.t="n",w.v=parseFloat(N.value);break;case"percentage":w.t="n",w.v=parseFloat(N.value);break;case"currency":w.t="n",w.v=parseFloat(N.value);break;case"date":w.t="d",w.v=Jn(N["date-value"]),r.cellDates||(w.t="n",w.v=ji(w.v)),w.z="m/d/yy";break;case"time":w.t="n",w.v=KW(N["time-value"])/86400,r.cellDates&&(w.t="d",w.v=o2(w.v)),w.z="HH:MM:SS";break;case"number":w.t="n",w.v=parseFloat(N.);break;default:if(w.t==="string"||w.t==="text"||!w.t)w.t="s",N["string-value"]!=null&&(E=Qr(N["string-value"]),T=[]);else throw new Error("Unsupported value type "+w.t)}}else{if(W=!1,w.t==="s"&&(w.v=E||"",T.length&&(w.R=T),W=j==0),ce.Target&&(w.l=ce),te.length>0&&(w.c=te,te=[]),E&&r.cellText!==!1&&(w.w=E),W&&(w.t="z",delete w.v),(!W||r.sheetStubs)&&!(r.sheetRows&&r.sheetRows<=O))for(var X=0;X<me;++X){if(ne=parseInt(N["number-columns-repeated"]||"1",10),r.dense)for(b[O+X]||(b[O+X]=[]),b[O+X][F]=X==0?w:ea(w);--ne>0;)b[O+X][F+ne]=ea(w);else for(b[fr({r:O+X,c:F})]=w;--ne>0;)b[fr({r:O+X,c:F+ne})]=ea(w);D.e.c<=F&&(D.e.c=F)}ne=parseInt(N["number-columns-repeated"]||"1",10),F+=ne-1,ne=0,w={},E="",T=[]}ce={};break;case"document":case"document-content":case"":case"spreadsheet":case"":case"scripts":case"styles":case"font-face-decls":case"master-styles":if(v[1]==="/"){if((i=a.pop())[0]!==v[3])throw"Bad state: "+i}else v[0].charAt(v[0].length-2)!=="/"&&a.push([v[3],!0]);break;case"annotation":if(v[1]==="/"){if((i=a.pop())[0]!==v[3])throw"Bad state: "+i;M.t=E,T.length&&(M.R=T),M.a=R,te.push(M)}else v[0].charAt(v[0].length-2)!=="/"&&a.push([v[3],!1]);R="",q=0,E="",j=0,T=[];break;case"creator":v[1]==="/"?R=n.slice(q,v.index):q=v.index+v[0].length;break;case"meta":case"":case"settings":case"config-item-set":case"config-item-map-indexed":case"config-item-map-entry":case"config-item-map-named":case"shapes":case"frame":case"text-box":case"image":case"data-pilot-tables":case"list-style":case"form":case"dde-links":case"event-listeners":case"chart":if(v[1]==="/"){if((i=a.pop())[0]!==v[3])throw"Bad state: "+i}else v[0].charAt(v[0].length-2)!=="/"&&a.push([v[3],!1]);E="",j=0,T=[];break;case"scientific-number":break;case"currency-symbol":break;case"currency-style":break;case"number-style":case"percentage-style":case"date-style":case"time-style":if(v[1]==="/"){if(B[o.name]=u,(i=a.pop())[0]!==v[3])throw"Bad state: "+i}else v[0].charAt(v[0].length-2)!=="/"&&(u="",o=hr(v[0],!1),a.push([v[3],!0]));break;case"script":break;case"libraries":break;case"automatic-styles":break;case"default-style":case"page-layout":break;case"style":break;case"map":break;case"font-face":break;case"paragraph-properties":break;case"table-properties":break;case"table-column-properties":break;case"table-row-properties":break;case"table-cell-properties":break;case"number":switch(a[a.length-1][0]){case"time-style":case"date-style":l=hr(v[0],!1),u+=Dk[v[3]][l.style==="long"?1:0];break}break;case"fraction":break;case"day":case"month":case"year":case"era":case"day-of-week":case"week-of-year":case"quarter":case"hours":case"minutes":case"seconds":case"am-pm":switch(a[a.length-1][0]){case"time-style":case"date-style":l=hr(v[0],!1),u+=Dk[v[3]][l.style==="long"?1:0];break}break;case"boolean-style":break;case"boolean":break;case"text-style":break;case"text":if(v[0].slice(-2)==="/>")break;if(v[1]==="/")switch(a[a.length-1][0]){case"number-style":case"date-style":case"time-style":u+=n.slice(f,v.index);break}else f=v.index+v[0].length;break;case"named-range":l=hr(v[0],!1),Se=Ow(l["cell-range-address"]);var ge={Name:l.name,Ref:Se[0]+"!"+Se[1]};J&&(ge.Sheet=x.length),ye.Names.push(ge);break;case"text-content":break;case"text-properties":break;case"embedded-text":break;case"body":case"":break;case"forms":break;case"table-column":break;case"table-header-rows":break;case"table-rows":break;case"table-column-group":break;case"table-header-columns":break;case"table-columns":break;case"null-date":break;case"graphic-properties":break;case"calculation-settings":break;case"named-expressions":break;case"label-range":break;case"label-ranges":break;case"named-expression":break;case"sort":break;case"sort-by":break;case"sort-groups":break;case"tab":break;case"line-break":break;case"span":break;case"p":case"":if(["master-styles"].indexOf(a[a.length-1][0])>-1)break;if(v[1]==="/"&&(!N||!N["string-value"])){var Te=wne(n.slice(j,v.index));E=(E.length>0?E+`
`:"")+Te[0]}else hr(v[0],!1),j=v.index+v[0].length;break;case"s":break;case"database-range":if(v[1]==="/")break;try{Se=Ow(hr(v[0])["target-range-address"]),g[Se[0]]["!autofilter"]={ref:Se[1]}}catch{}break;case"date":break;case"object":break;case"title":case"":break;case"desc":break;case"binary-data":break;case"table-source":break;case"scenario":break;case"iteration":break;case"content-validations":break;case"content-validation":break;case"help-message":break;case"error-message":break;case"database-ranges":break;case"filter":break;case"filter-and":break;case"filter-or":break;case"filter-condition":break;case"list-level-style-bullet":break;case"list-level-style-number":break;case"list-level-properties":break;case"sender-firstname":case"sender-lastname":case"sender-initials":case"sender-title":case"sender-position":case"sender-email":case"sender-phone-private":case"sender-fax":case"sender-company":case"sender-phone-work":case"sender-street":case"sender-city":case"sender-postal-code":case"sender-country":case"sender-state-or-province":case"author-name":case"author-initials":case"chapter":case"file-name":case"template-name":case"sheet-name":break;case"event-listener":break;case"initial-creator":case"creation-date":case"print-date":case"generator":case"document-statistic":case"user-defined":case"editing-duration":case"editing-cycles":break;case"config-item":break;case"page-number":break;case"page-count":break;case"time":break;case"cell-range-source":break;case"detective":break;case"operation":break;case"highlighted-range":break;case"data-pilot-table":case"source-cell-range":case"source-service":case"data-pilot-field":case"data-pilot-level":case"data-pilot-subtotals":case"data-pilot-subtotal":case"data-pilot-members":case"data-pilot-member":case"data-pilot-display-info":case"data-pilot-sort-info":case"data-pilot-layout-info":case"data-pilot-field-reference":case"data-pilot-groups":case"data-pilot-group":case"data-pilot-group-member":break;case"rect":break;case"dde-connection-decls":case"dde-connection-decl":case"dde-link":case"dde-source":break;case"properties":break;case"property":break;case"a":if(v[1]!=="/"){if(ce=hr(v[0],!1),!ce.href)break;ce.Target=Qr(ce.href),delete ce.href,ce.Target.charAt(0)=="#"&&ce.Target.indexOf(".")>-1?(Se=Ow(ce.Target.slice(1)),ce.Target="#"+Se[0]+"!"+Se[1]):ce.Target.match(/^\.\.[\\\/]/)&&(ce.Target=ce.Target.slice(3))}break;case"table-protection":break;case"data-pilot-grand-total":break;case"office-document-common-attrs":break;default:switch(v[2]){case"dc:":case"calcext:":case"loext:":case"ooo:":case"chartooo:":case"draw:":case"style:":case"chart:":case"form:":case"uof:":case":":case":":break;default:if(r.WTF)throw new Error(v)}}var Y={Sheets:g,SheetNames:x,Workbook:ye};return r.bookSheets&&delete Y.Sheets,Y}function Fk(e,t){t=t||{},Fo(e,"META-INF/manifest.xml")&&KG(ni(e,"META-INF/manifest.xml"),t);var r=Zl(e,"content.xml");if(!r)throw new Error("Missing content.xml in ODS / UOF file");var n=nL(Dn(r),t);return Fo(e,"meta.xml")&&(n.Props=GF(ni(e,"meta.xml"))),n}function Pk(e,t){return nL(e,t)}var Nne=(function(){var e=["<office:master-styles>",'<style:master-page style:name="mp1" style:page-layout-name="mp1">',"<style:header/>",'<style:header-left style:display="false"/>',"<style:footer/>",'<style:footer-left style:display="false"/>',"</style:master-page>","</office:master-styles>"].join(""),t="<office:document-styles "+Yx({"xmlns:office":"urn:oasis:names:tc:opendocument:xmlns:office:1.0","xmlns:table":"urn:oasis:names:tc:opendocument:xmlns:table:1.0","xmlns:style":"urn:oasis:names:tc:opendocument:xmlns:style:1.0","xmlns:text":"urn:oasis:names:tc:opendocument:xmlns:text:1.0","xmlns:draw":"urn:oasis:names:tc:opendocument:xmlns:drawing:1.0","xmlns:fo":"urn:oasis:names:tc:opendocument:xmlns:xsl-fo-compatible:1.0","xmlns:xlink":"http://www.w3.org/1999/xlink","xmlns:dc":"http://purl.org/dc/elements/1.1/","xmlns:number":"urn:oasis:names:tc:opendocument:xmlns:datastyle:1.0","xmlns:svg":"urn:oasis:names:tc:opendocument:xmlns:svg-compatible:1.0","xmlns:of":"urn:oasis:names:tc:opendocument:xmlns:of:1.2","office:version":"1.2"})+">"+e+"</office:document-styles>";return function(){return Xa+t}})(),Lk=(function(){var e=function(i){return _n(i).replace(/  +/g,function(l){return'<text:s text:c="'+l.length+'"/>'}).replace(/\t/g,"<text:tab/>").replace(/\n/g,"</text:p><text:p>").replace(/^ /,"<text:s/>").replace(/ $/,"<text:s/>")},t=`          <table:table-cell />
`,r=`          <table:covered-table-cell/>
`,n=function(i,l,o){var u=[];u.push('      <table:table table:name="'+_n(l.SheetNames[o])+`" table:style-name="ta1">
`);var f=0,h=0,m=Cl(i["!ref"]||"A1"),g=i["!merges"]||[],x=0,b=Array.isArray(i);if(i["!cols"])for(h=0;h<=m.e.c;++h)u.push("        <table:table-column"+(i["!cols"][h]?' table:style-name="co'+i["!cols"][h].ods+'"':"")+`></table:table-column>
`);var v="",w=i["!rows"]||[];for(f=0;f<m.s.r;++f)v=w[f]?' table:style-name="ro'+w[f].ods+'"':"",u.push("        <table:table-row"+v+`></table:table-row>
`);for(;f<=m.e.r;++f){for(v=w[f]?' table:style-name="ro'+w[f].ods+'"':"",u.push("        <table:table-row"+v+`>
`),h=0;h<m.s.c;++h)u.push(t);for(;h<=m.e.c;++h){var N=!1,E={},j="";for(x=0;x!=g.length;++x)if(!(g[x].s.c>h)&&!(g[x].s.r>f)&&!(g[x].e.c<h)&&!(g[x].e.r<f)){(g[x].s.c!=h||g[x].s.r!=f)&&(N=!0),E["table:number-columns-spanned"]=g[x].e.c-g[x].s.c+1,E["table:number-rows-spanned"]=g[x].e.r-g[x].s.r+1;break}if(N){u.push(r);continue}var T=fr({r:f,c:h}),O=b?(i[f]||[])[h]:i[T];if(O&&O.f&&(E["table:formula"]=_n(qJ(O.f)),O.F&&O.F.slice(0,T.length)==T)){var F=Cl(O.F);E["table:number-matrix-columns-spanned"]=F.e.c-F.s.c+1,E["table:number-matrix-rows-spanned"]=F.e.r-F.s.r+1}if(!O){u.push(t);continue}switch(O.t){case"b":j=O.v?"TRUE":"FALSE",E["office:value-type"]="boolean",E["office:boolean-value"]=O.v?"true":"false";break;case"n":j=O.w||String(O.v||0),E["office:value-type"]="float",E["office:value"]=O.v||0;break;case"s":case"str":j=O.v==null?"":O.v,E["office:value-type"]="string";break;case"d":j=O.w||Jn(O.v).toISOString(),E["office:value-type"]="date",E["office:date-value"]=Jn(O.v).toISOString(),E["table:style-name"]="ce1";break;default:u.push(t);continue}var D=e(j);if(O.l&&O.l.Target){var L=O.l.Target;L=L.charAt(0)=="#"?"#"+$J(L.slice(1)):L,L.charAt(0)!="#"&&!L.match(/^\w+:/)&&(L="../"+L),D=wt("text:a",D,{"xlink:href":L.replace(/&/g,"&amp;")})}u.push("          "+wt("table:table-cell",wt("text:p",D,{}),E)+`
`)}u.push(`        </table:table-row>
`)}return u.push(`      </table:table>
`),u.join("")},a=function(i,l){i.push(` <office:automatic-styles>
`),i.push(`  <number:date-style style:name="N37" number:automatic-order="true">
`),i.push(`   <number:month number:style="long"/>
`),i.push(`   <number:text>/</number:text>
`),i.push(`   <number:day number:style="long"/>
`),i.push(`   <number:text>/</number:text>
`),i.push(`   <number:year/>
`),i.push(`  </number:date-style>
`);var o=0;l.SheetNames.map(function(f){return l.Sheets[f]}).forEach(function(f){if(f&&f["!cols"]){for(var h=0;h<f["!cols"].length;++h)if(f["!cols"][h]){var m=f["!cols"][h];if(m.width==null&&m.wpx==null&&m.wch==null)continue;Ad(m),m.ods=o;var g=f["!cols"][h].wpx+"px";i.push('  <style:style style:name="co'+o+`" style:family="table-column">
`),i.push('   <style:table-column-properties fo:break-before="auto" style:column-width="'+g+`"/>
`),i.push(`  </style:style>
`),++o}}});var u=0;l.SheetNames.map(function(f){return l.Sheets[f]}).forEach(function(f){if(f&&f["!rows"]){for(var h=0;h<f["!rows"].length;++h)if(f["!rows"][h]){f["!rows"][h].ods=u;var m=f["!rows"][h].hpx+"px";i.push('  <style:style style:name="ro'+u+`" style:family="table-row">
`),i.push('   <style:table-row-properties fo:break-before="auto" style:row-height="'+m+`"/>
`),i.push(`  </style:style>
`),++u}}}),i.push(`  <style:style style:name="ta1" style:family="table" style:master-page-name="mp1">
`),i.push(`   <style:table-properties table:display="true" style:writing-mode="lr-tb"/>
`),i.push(`  </style:style>
`),i.push(`  <style:style style:name="ce1" style:family="table-cell" style:parent-style-name="Default" style:data-style-name="N37"/>
`),i.push(` </office:automatic-styles>
`)};return function(l,o){var u=[Xa],f=Yx({"xmlns:office":"urn:oasis:names:tc:opendocument:xmlns:office:1.0","xmlns:table":"urn:oasis:names:tc:opendocument:xmlns:table:1.0","xmlns:style":"urn:oasis:names:tc:opendocument:xmlns:style:1.0","xmlns:text":"urn:oasis:names:tc:opendocument:xmlns:text:1.0","xmlns:draw":"urn:oasis:names:tc:opendocument:xmlns:drawing:1.0","xmlns:fo":"urn:oasis:names:tc:opendocument:xmlns:xsl-fo-compatible:1.0","xmlns:xlink":"http://www.w3.org/1999/xlink","xmlns:dc":"http://purl.org/dc/elements/1.1/","xmlns:meta":"urn:oasis:names:tc:opendocument:xmlns:meta:1.0","xmlns:number":"urn:oasis:names:tc:opendocument:xmlns:datastyle:1.0","xmlns:presentation":"urn:oasis:names:tc:opendocument:xmlns:presentation:1.0","xmlns:svg":"urn:oasis:names:tc:opendocument:xmlns:svg-compatible:1.0","xmlns:chart":"urn:oasis:names:tc:opendocument:xmlns:chart:1.0","xmlns:dr3d":"urn:oasis:names:tc:opendocument:xmlns:dr3d:1.0","xmlns:math":"http://www.w3.org/1998/Math/MathML","xmlns:form":"urn:oasis:names:tc:opendocument:xmlns:form:1.0","xmlns:script":"urn:oasis:names:tc:opendocument:xmlns:script:1.0","xmlns:ooo":"http://openoffice.org/2004/office","xmlns:ooow":"http://openoffice.org/2004/writer","xmlns:oooc":"http://openoffice.org/2004/calc","xmlns:dom":"http://www.w3.org/2001/xml-events","xmlns:xforms":"http://www.w3.org/2002/xforms","xmlns:xsd":"http://www.w3.org/2001/XMLSchema","xmlns:xsi":"http://www.w3.org/2001/XMLSchema-instance","xmlns:sheet":"urn:oasis:names:tc:opendocument:sh33tjs:1.0","xmlns:rpt":"http://openoffice.org/2005/report","xmlns:of":"urn:oasis:names:tc:opendocument:xmlns:of:1.2","xmlns:xhtml":"http://www.w3.org/1999/xhtml","xmlns:grddl":"http://www.w3.org/2003/g/data-view#","xmlns:tableooo":"http://openoffice.org/2009/table","xmlns:drawooo":"http://openoffice.org/2010/draw","xmlns:calcext":"urn:org:documentfoundation:names:experimental:calc:xmlns:calcext:1.0","xmlns:loext":"urn:org:documentfoundation:names:experimental:office:xmlns:loext:1.0","xmlns:field":"urn:openoffice:names:experimental:ooo-ms-interop:xmlns:field:1.0","xmlns:formx":"urn:openoffice:names:experimental:ooxml-odf-interop:xmlns:form:1.0","xmlns:css3t":"http://www.w3.org/TR/css3-text/","office:version":"1.2"}),h=Yx({"xmlns:config":"urn:oasis:names:tc:opendocument:xmlns:config:1.0","office:mimetype":"application/vnd.oasis.opendocument.spreadsheet"});o.bookType=="fods"?(u.push("<office:document"+f+h+`>
`),u.push(WF().replace(/office:document-meta/g,"office:meta"))):u.push("<office:document-content"+f+`>
`),a(u,l),u.push(`  <office:body>
`),u.push(`    <office:spreadsheet>
`);for(var m=0;m!=l.SheetNames.length;++m)u.push(n(l.Sheets[l.SheetNames[m]],l,m));return u.push(`    </office:spreadsheet>
`),u.push(`  </office:body>
`),o.bookType=="fods"?u.push("</office:document>"):u.push("</office:document-content>"),u.join("")}})();function aL(e,t){if(t.bookType=="fods")return Lk(e,t);var r=K_(),n="",a=[],i=[];return n="mimetype",Sr(r,n,"application/vnd.oasis.opendocument.spreadsheet"),n="content.xml",Sr(r,n,Lk(e,t)),a.push([n,"text/xml"]),i.push([n,"ContentFile"]),n="styles.xml",Sr(r,n,Nne(e,t)),a.push([n,"text/xml"]),i.push([n,"StylesFile"]),n="meta.xml",Sr(r,n,Xa+WF()),a.push([n,"text/xml"]),i.push([n,"MetadataFile"]),n="manifest.rdf",Sr(r,n,QG(i)),a.push([n,"application/rdf+xml"]),n="META-INF/manifest.xml",Sr(r,n,YG(a)),r}/*! sheetjs (C) 2013-present SheetJS -- http://sheetjs.com */function X0(e){return new DataView(e.buffer,e.byteOffset,e.byteLength)}function lN(e){return typeof TextDecoder<"u"?new TextDecoder().decode(e):Dn(Md(e))}function _ne(e){return typeof TextEncoder<"u"?new TextEncoder().encode(e):Ql(ou(e))}function jne(e,t){e:for(var r=0;r<=e.length-t.length;++r){for(var n=0;n<t.length;++n)if(e[r+n]!=t[n])continue e;return!0}return!1}function kd(e){var t=e.reduce(function(a,i){return a+i.length},0),r=new Uint8Array(t),n=0;return e.forEach(function(a){r.set(a,n),n+=a.length}),r}function Mk(e){return e-=e>>1&1431655765,e=(e&858993459)+(e>>2&858993459),(e+(e>>4)&252645135)*16843009>>>24}function Sne(e,t){for(var r=(e[t+15]&127)<<7|e[t+14]>>1,n=e[t+14]&1,a=t+13;a>=t;--a)n=n*256+e[a];return(e[t+15]&128?-n:n)*Math.pow(10,r-6176)}function Ane(e,t,r){var n=Math.floor(r==0?0:Math.LOG10E*Math.log(Math.abs(r)))+6176-20,a=r/Math.pow(10,n-6176);e[t+15]|=n>>7,e[t+14]|=(n&127)<<1;for(var i=0;a>=1;++i,a/=256)e[t+i]=a&255;e[t+15]|=r>=0?0:128}function ng(e,t){var r=t?t[0]:0,n=e[r]&127;e:if(e[r++]>=128&&(n|=(e[r]&127)<<7,e[r++]<128||(n|=(e[r]&127)<<14,e[r++]<128)||(n|=(e[r]&127)<<21,e[r++]<128)||(n+=(e[r]&127)*Math.pow(2,28),++r,e[r++]<128)||(n+=(e[r]&127)*Math.pow(2,35),++r,e[r++]<128)||(n+=(e[r]&127)*Math.pow(2,42),++r,e[r++]<128)))break e;return t&&(t[0]=r),n}function yn(e){var t=new Uint8Array(7);t[0]=e&127;var r=1;e:if(e>127){if(t[r-1]|=128,t[r]=e>>7&127,++r,e<=16383||(t[r-1]|=128,t[r]=e>>14&127,++r,e<=2097151)||(t[r-1]|=128,t[r]=e>>21&127,++r,e<=268435455)||(t[r-1]|=128,t[r]=e/256>>>21&127,++r,e<=34359738367)||(t[r-1]|=128,t[r]=e/65536>>>21&127,++r,e<=4398046511103))break e;t[r-1]|=128,t[r]=e/16777216>>>21&127,++r}return t.slice(0,r)}function Ra(e){var t=0,r=e[t]&127;e:if(e[t++]>=128){if(r|=(e[t]&127)<<7,e[t++]<128||(r|=(e[t]&127)<<14,e[t++]<128)||(r|=(e[t]&127)<<21,e[t++]<128))break e;r|=(e[t]&127)<<28}return r}function nn(e){for(var t=[],r=[0];r[0]<e.length;){var n=r[0],a=ng(e,r),i=a&7;a=Math.floor(a/8);var l=0,o;if(a==0)break;switch(i){case 0:{for(var u=r[0];e[r[0]++]>=128;);o=e.slice(u,r[0])}break;case 5:l=4,o=e.slice(r[0],r[0]+l),r[0]+=l;break;case 1:l=8,o=e.slice(r[0],r[0]+l),r[0]+=l;break;case 2:l=ng(e,r),o=e.slice(r[0],r[0]+l),r[0]+=l;break;case 3:case 4:default:throw new Error("PB Type ".concat(i," for Field ").concat(a," at offset ").concat(n))}var f={data:o,type:i};t[a]==null?t[a]=[f]:t[a].push(f)}return t}function ts(e){var t=[];return e.forEach(function(r,n){r.forEach(function(a){a.data&&(t.push(yn(n*8+a.type)),a.type==2&&t.push(yn(a.data.length)),t.push(a.data))})}),kd(t)}function w3(e,t){return e?.map(function(r){return t(r.data)})||[]}function To(e){for(var t,r=[],n=[0];n[0]<e.length;){var a=ng(e,n),i=nn(e.slice(n[0],n[0]+a));n[0]+=a;var l={id:Ra(i[1][0].data),messages:[]};i[2].forEach(function(o){var u=nn(o.data),f=Ra(u[3][0].data);l.messages.push({meta:u,data:e.slice(n[0],n[0]+f)}),n[0]+=f}),(t=i[3])!=null&&t[0]&&(l.merge=Ra(i[3][0].data)>>>0>0),r.push(l)}return r}function dm(e){var t=[];return e.forEach(function(r){var n=[];n[1]=[{data:yn(r.id),type:0}],n[2]=[],r.merge!=null&&(n[3]=[{data:yn(+!!r.merge),type:0}]);var a=[];r.messages.forEach(function(l){a.push(l.data),l.meta[3]=[{type:0,data:yn(l.data.length)}],n[2].push({data:ts(l.meta),type:2})});var i=ts(n);t.push(yn(i.length)),t.push(i),a.forEach(function(l){return t.push(l)})}),kd(t)}function Ene(e,t){if(e!=0)throw new Error("Unexpected Snappy chunk type ".concat(e));for(var r=[0],n=ng(t,r),a=[];r[0]<t.length;){var i=t[r[0]]&3;if(i==0){var l=t[r[0]++]>>2;if(l<60)++l;else{var o=l-59;l=t[r[0]],o>1&&(l|=t[r[0]+1]<<8),o>2&&(l|=t[r[0]+2]<<16),o>3&&(l|=t[r[0]+3]<<24),l>>>=0,l++,r[0]+=o}a.push(t.slice(r[0],r[0]+l)),r[0]+=l;continue}else{var u=0,f=0;if(i==1?(f=(t[r[0]]>>2&7)+4,u=(t[r[0]++]&224)<<3,u|=t[r[0]++]):(f=(t[r[0]++]>>2)+1,i==2?(u=t[r[0]]|t[r[0]+1]<<8,r[0]+=2):(u=(t[r[0]]|t[r[0]+1]<<8|t[r[0]+2]<<16|t[r[0]+3]<<24)>>>0,r[0]+=4)),a=[kd(a)],u==0)throw new Error("Invalid offset 0");if(u>a[0].length)throw new Error("Invalid offset beyond length");if(f>=u)for(a.push(a[0].slice(-u)),f-=u;f>=a[a.length-1].length;)a.push(a[a.length-1]),f-=a[a.length-1].length;a.push(a[0].slice(-u,-u+f))}}var h=kd(a);if(h.length!=n)throw new Error("Unexpected length: ".concat(h.length," != ").concat(n));return h}function Oo(e){for(var t=[],r=0;r<e.length;){var n=e[r++],a=e[r]|e[r+1]<<8|e[r+2]<<16;r+=3,t.push(Ene(n,e.slice(r,r+a))),r+=a}if(r!==e.length)throw new Error("data is not a valid framed stream!");return kd(t)}function hm(e){for(var t=[],r=0;r<e.length;){var n=Math.min(e.length-r,268435455),a=new Uint8Array(4);t.push(a);var i=yn(n),l=i.length;t.push(i),n<=60?(l++,t.push(new Uint8Array([n-1<<2]))):n<=256?(l+=2,t.push(new Uint8Array([240,n-1&255]))):n<=65536?(l+=3,t.push(new Uint8Array([244,n-1&255,n-1>>8&255]))):n<=16777216?(l+=4,t.push(new Uint8Array([248,n-1&255,n-1>>8&255,n-1>>16&255]))):n<=4294967296&&(l+=5,t.push(new Uint8Array([252,n-1&255,n-1>>8&255,n-1>>16&255,n-1>>>24&255]))),t.push(e.slice(r,r+n)),l+=n,a[0]=0,a[1]=l&255,a[2]=l>>8&255,a[3]=l>>16&255,r+=n}return kd(t)}function kne(e,t,r,n){var a=X0(e),i=a.getUint32(4,!0),l=(n>1?12:8)+Mk(i&(n>1?3470:398))*4,o=-1,u=-1,f=NaN,h=new Date(2001,0,1);i&512&&(o=a.getUint32(l,!0),l+=4),l+=Mk(i&(n>1?12288:4096))*4,i&16&&(u=a.getUint32(l,!0),l+=4),i&32&&(f=a.getFloat64(l,!0),l+=8),i&64&&(h.setTime(h.getTime()+a.getFloat64(l,!0)*1e3),l+=8);var m;switch(e[2]){case 0:break;case 2:m={t:"n",v:f};break;case 3:m={t:"s",v:t[u]};break;case 5:m={t:"d",v:h};break;case 6:m={t:"b",v:f>0};break;case 7:m={t:"n",v:f/86400};break;case 8:m={t:"e",v:0};break;case 9:if(o>-1)m={t:"s",v:r[o]};else if(u>-1)m={t:"s",v:t[u]};else if(!isNaN(f))m={t:"n",v:f};else throw new Error("Unsupported cell type ".concat(e.slice(0,4)));break;default:throw new Error("Unsupported cell type ".concat(e.slice(0,4)))}return m}function Cne(e,t,r){var n=X0(e),a=n.getUint32(8,!0),i=12,l=-1,o=-1,u=NaN,f=NaN,h=new Date(2001,0,1);a&1&&(u=Sne(e,i),i+=16),a&2&&(f=n.getFloat64(i,!0),i+=8),a&4&&(h.setTime(h.getTime()+n.getFloat64(i,!0)*1e3),i+=8),a&8&&(o=n.getUint32(i,!0),i+=4),a&16&&(l=n.getUint32(i,!0),i+=4);var m;switch(e[1]){case 0:break;case 2:m={t:"n",v:u};break;case 3:m={t:"s",v:t[o]};break;case 5:m={t:"d",v:h};break;case 6:m={t:"b",v:f>0};break;case 7:m={t:"n",v:f/86400};break;case 8:m={t:"e",v:0};break;case 9:if(l>-1)m={t:"s",v:r[l]};else throw new Error("Unsupported cell type ".concat(e[1]," : ").concat(a&31," : ").concat(e.slice(0,4)));break;case 10:m={t:"n",v:u};break;default:throw new Error("Unsupported cell type ".concat(e[1]," : ").concat(a&31," : ").concat(e.slice(0,4)))}return m}function Fw(e,t){var r=new Uint8Array(32),n=X0(r),a=12,i=0;switch(r[0]=5,e.t){case"n":r[1]=2,Ane(r,a,e.v),i|=1,a+=16;break;case"b":r[1]=6,n.setFloat64(a,e.v?1:0,!0),i|=2,a+=8;break;case"s":if(t.indexOf(e.v)==-1)throw new Error("Value ".concat(e.v," missing from SST!"));r[1]=3,n.setUint32(a,t.indexOf(e.v),!0),i|=8,a+=4;break;default:throw"unsupported cell type "+e.t}return n.setUint32(8,i,!0),r.slice(0,a)}function Pw(e,t){var r=new Uint8Array(32),n=X0(r),a=12,i=0;switch(r[0]=3,e.t){case"n":r[2]=2,n.setFloat64(a,e.v,!0),i|=32,a+=8;break;case"b":r[2]=6,n.setFloat64(a,e.v?1:0,!0),i|=32,a+=8;break;case"s":if(t.indexOf(e.v)==-1)throw new Error("Value ".concat(e.v," missing from SST!"));r[2]=3,n.setUint32(a,t.indexOf(e.v),!0),i|=16,a+=4;break;default:throw"unsupported cell type "+e.t}return n.setUint32(4,i,!0),r.slice(0,a)}function Tne(e,t,r){switch(e[0]){case 0:case 1:case 2:case 3:return kne(e,t,r,e[0]);case 5:return Cne(e,t,r);default:throw new Error("Unsupported payload version ".concat(e[0]))}}function ws(e){var t=nn(e);return ng(t[1][0].data)}function Rk(e,t){var r=nn(t.data),n=Ra(r[1][0].data),a=r[3],i=[];return(a||[]).forEach(function(l){var o=nn(l.data),u=Ra(o[1][0].data)>>>0;switch(n){case 1:i[u]=lN(o[3][0].data);break;case 8:{var f=e[ws(o[9][0].data)][0],h=nn(f.data),m=e[ws(h[1][0].data)][0],g=Ra(m.meta[1][0].data);if(g!=2001)throw new Error("2000 unexpected reference to ".concat(g));var x=nn(m.data);i[u]=x[3].map(function(b){return lN(b.data)}).join("")}break}}),i}function One(e,t){var r,n,a,i,l,o,u,f,h,m,g,x,b,v,w=nn(e),N=Ra(w[1][0].data)>>>0,E=Ra(w[2][0].data)>>>0,j=((n=(r=w[8])==null?void 0:r[0])==null?void 0:n.data)&&Ra(w[8][0].data)>0||!1,T,O;if((i=(a=w[7])==null?void 0:a[0])!=null&&i.data&&t!=0)T=(o=(l=w[7])==null?void 0:l[0])==null?void 0:o.data,O=(f=(u=w[6])==null?void 0:u[0])==null?void 0:f.data;else if((m=(h=w[4])==null?void 0:h[0])!=null&&m.data&&t!=1)T=(x=(g=w[4])==null?void 0:g[0])==null?void 0:x.data,O=(v=(b=w[3])==null?void 0:b[0])==null?void 0:v.data;else throw"NUMBERS Tile missing ".concat(t," cell storage");for(var F=j?4:1,D=X0(T),L=[],B=0;B<T.length/2;++B){var H=D.getUint16(B*2,!0);H<65535&&L.push([B,H])}if(L.length!=E)throw"Expected ".concat(E," cells, found ").concat(L.length);var P=[];for(B=0;B<L.length-1;++B)P[L[B][0]]=O.subarray(L[B][1]*F,L[B+1][1]*F);return L.length>=1&&(P[L[L.length-1][0]]=O.subarray(L[L.length-1][1]*F)),{R:N,cells:P}}function Dne(e,t){var r,n=nn(t.data),a=(r=n?.[7])!=null&&r[0]?Ra(n[7][0].data)>>>0>0?1:0:-1,i=w3(n[5],function(l){return One(l,a)});return{nrows:Ra(n[4][0].data)>>>0,data:i.reduce(function(l,o){return l[o.R]||(l[o.R]=[]),o.cells.forEach(function(u,f){if(l[o.R][f])throw new Error("Duplicate cell r=".concat(o.R," c=").concat(f));l[o.R][f]=u}),l},[])}}function Fne(e,t,r){var n,a=nn(t.data),i={s:{r:0,c:0},e:{r:0,c:0}};if(i.e.r=(Ra(a[6][0].data)>>>0)-1,i.e.r<0)throw new Error("Invalid row varint ".concat(a[6][0].data));if(i.e.c=(Ra(a[7][0].data)>>>0)-1,i.e.c<0)throw new Error("Invalid col varint ".concat(a[7][0].data));r["!ref"]=Nr(i);var l=nn(a[4][0].data),o=Rk(e,e[ws(l[4][0].data)][0]),u=(n=l[17])!=null&&n[0]?Rk(e,e[ws(l[17][0].data)][0]):[],f=nn(l[3][0].data),h=0;f[1].forEach(function(m){var g=nn(m.data),x=e[ws(g[2][0].data)][0],b=Ra(x.meta[1][0].data);if(b!=6002)throw new Error("6001 unexpected reference to ".concat(b));var v=Dne(e,x);v.data.forEach(function(w,N){w.forEach(function(E,j){var T=fr({r:h+N,c:j}),O=Tne(E,o,u);O&&(r[T]=O)})}),h+=v.nrows})}function Pne(e,t){var r=nn(t.data),n={"!ref":"A1"},a=e[ws(r[2][0].data)],i=Ra(a[0].meta[1][0].data);if(i!=6001)throw new Error("6000 unexpected reference to ".concat(i));return Fne(e,a[0],n),n}function Lne(e,t){var r,n=nn(t.data),a={name:(r=n[1])!=null&&r[0]?lN(n[1][0].data):"",sheets:[]},i=w3(n[2],ws);return i.forEach(function(l){e[l].forEach(function(o){var u=Ra(o.meta[1][0].data);u==6e3&&a.sheets.push(Pne(e,o))})}),a}function Mne(e,t){var r=A3(),n=nn(t.data),a=w3(n[1],ws);if(a.forEach(function(i){e[i].forEach(function(l){var o=Ra(l.meta[1][0].data);if(o==2){var u=Lne(e,l);u.sheets.forEach(function(f,h){E3(r,f,h==0?u.name:u.name+"_"+h,!0)})}})}),r.SheetNames.length==0)throw new Error("Empty NUMBERS file");return r}function Lw(e){var t,r,n,a,i={},l=[];if(e.FullPaths.forEach(function(u){if(u.match(/\.iwpv2/))throw new Error("Unsupported password protection")}),e.FileIndex.forEach(function(u){if(u.name.match(/\.iwa$/)){var f;try{f=Oo(u.content)}catch(m){return console.log("?? "+u.content.length+" "+(m.message||m))}var h;try{h=To(f)}catch(m){return console.log("## "+(m.message||m))}h.forEach(function(m){i[m.id]=m.messages,l.push(m.id)})}}),!l.length)throw new Error("File has no messages");var o=((a=(n=(r=(t=i?.[1])==null?void 0:t[0])==null?void 0:r.meta)==null?void 0:n[1])==null?void 0:a[0].data)&&Ra(i[1][0].meta[1][0].data)==1&&i[1][0];if(o||l.forEach(function(u){i[u].forEach(function(f){var h=Ra(f.meta[1][0].data)>>>0;if(h==1)if(!o)o=f;else throw new Error("Document has multiple roots")})}),!o)throw new Error("Cannot find Document root");return Mne(i,o)}function Rne(e,t,r){var n,a,i,l;if(!((n=e[6])!=null&&n[0])||!((a=e[7])!=null&&a[0]))throw"Mutation only works on post-BNC storages!";var o=((l=(i=e[8])==null?void 0:i[0])==null?void 0:l.data)&&Ra(e[8][0].data)>0||!1;if(o)throw"Math only works with normal offsets";for(var u=0,f=X0(e[7][0].data),h=0,m=[],g=X0(e[4][0].data),x=0,b=[],v=0;v<t.length;++v){if(t[v]==null){f.setUint16(v*2,65535,!0),g.setUint16(v*2,65535);continue}f.setUint16(v*2,h,!0),g.setUint16(v*2,x,!0);var w,N;switch(typeof t[v]){case"string":w=Fw({t:"s",v:t[v]},r),N=Pw({t:"s",v:t[v]},r);break;case"number":w=Fw({t:"n",v:t[v]},r),N=Pw({t:"n",v:t[v]},r);break;case"boolean":w=Fw({t:"b",v:t[v]},r),N=Pw({t:"b",v:t[v]},r);break;default:throw new Error("Unsupported value "+t[v])}m.push(w),h+=w.length,b.push(N),x+=N.length,++u}for(e[2][0].data=yn(u);v<e[7][0].data.length/2;++v)f.setUint16(v*2,65535,!0),g.setUint16(v*2,65535,!0);return e[6][0].data=kd(m),e[3][0].data=kd(b),u}function Ine(e,t){if(!t||!t.numbers)throw new Error("Must pass a `numbers` option -- check the README");var r=e.Sheets[e.SheetNames[0]];e.SheetNames.length>1&&console.error("The Numbers writer currently writes only the first table");var n=Cl(r["!ref"]);n.s.r=n.s.c=0;var a=!1;n.e.c>9&&(a=!0,n.e.c=9),n.e.r>49&&(a=!0,n.e.r=49),a&&console.error("The Numbers writer is currently limited to ".concat(Nr(n)));var i=ly(r,{range:n,header:1}),l=["~Sh33tJ5~"];i.forEach(function(R){return R.forEach(function(q){typeof q=="string"&&l.push(q)})});var o={},u=[],f=nr.read(t.numbers,{type:"base64"});f.FileIndex.map(function(R,q){return[R,f.FullPaths[q]]}).forEach(function(R){var q=R[0],W=R[1];if(q.type==2&&q.name.match(/\.iwa/)){var J=q.content,le=Oo(J),ue=To(le);ue.forEach(function(X){u.push(X.id),o[X.id]={deps:[],location:W,type:Ra(X.messages[0].meta[1][0].data)}})}}),u.sort(function(R,q){return R-q});var h=u.filter(function(R){return R>1}).map(function(R){return[R,yn(R)]});f.FileIndex.map(function(R,q){return[R,f.FullPaths[q]]}).forEach(function(R){var q=R[0];if(R[1],!!q.name.match(/\.iwa/)){var W=To(Oo(q.content));W.forEach(function(J){J.messages.forEach(function(le){h.forEach(function(ue){J.messages.some(function(X){return Ra(X.meta[1][0].data)!=11006&&jne(X.data,ue[1])})&&o[ue[0]].deps.push(J.id)})})})}});for(var m=nr.find(f,o[1].location),g=To(Oo(m.content)),x,b=0;b<g.length;++b){var v=g[b];v.id==1&&(x=v)}var w=ws(nn(x.messages[0].data)[1][0].data);for(m=nr.find(f,o[w].location),g=To(Oo(m.content)),b=0;b<g.length;++b)v=g[b],v.id==w&&(x=v);for(w=ws(nn(x.messages[0].data)[2][0].data),m=nr.find(f,o[w].location),g=To(Oo(m.content)),b=0;b<g.length;++b)v=g[b],v.id==w&&(x=v);for(w=ws(nn(x.messages[0].data)[2][0].data),m=nr.find(f,o[w].location),g=To(Oo(m.content)),b=0;b<g.length;++b)v=g[b],v.id==w&&(x=v);var N=nn(x.messages[0].data);{N[6][0].data=yn(n.e.r+1),N[7][0].data=yn(n.e.c+1);var E=ws(N[46][0].data),j=nr.find(f,o[E].location),T=To(Oo(j.content));{for(var O=0;O<T.length&&T[O].id!=E;++O);if(T[O].id!=E)throw"Bad ColumnRowUIDMapArchive";var F=nn(T[O].messages[0].data);F[1]=[],F[2]=[],F[3]=[];for(var D=0;D<=n.e.c;++D){var L=[];L[1]=L[2]=[{type:0,data:yn(D+420690)}],F[1].push({type:2,data:ts(L)}),F[2].push({type:0,data:yn(D)}),F[3].push({type:0,data:yn(D)})}F[4]=[],F[5]=[],F[6]=[];for(var B=0;B<=n.e.r;++B)L=[],L[1]=L[2]=[{type:0,data:yn(B+726270)}],F[4].push({type:2,data:ts(L)}),F[5].push({type:0,data:yn(B)}),F[6].push({type:0,data:yn(B)});T[O].messages[0].data=ts(F)}j.content=hm(dm(T)),j.size=j.content.length,delete N[46];var H=nn(N[4][0].data);{H[7][0].data=yn(n.e.r+1);var P=nn(H[1][0].data),U=ws(P[2][0].data);j=nr.find(f,o[U].location),T=To(Oo(j.content));{if(T[0].id!=U)throw"Bad HeaderStorageBucket";var K=nn(T[0].messages[0].data);for(B=0;B<i.length;++B){var ee=nn(K[2][0].data);ee[1][0].data=yn(B),ee[4][0].data=yn(i[B].length),K[2][B]={type:K[2][0].type,data:ts(ee)}}T[0].messages[0].data=ts(K)}j.content=hm(dm(T)),j.size=j.content.length;var me=ws(H[2][0].data);j=nr.find(f,o[me].location),T=To(Oo(j.content));{if(T[0].id!=me)throw"Bad HeaderStorageBucket";for(K=nn(T[0].messages[0].data),D=0;D<=n.e.c;++D)ee=nn(K[2][0].data),ee[1][0].data=yn(D),ee[4][0].data=yn(n.e.r+1),K[2][D]={type:K[2][0].type,data:ts(ee)};T[0].messages[0].data=ts(K)}j.content=hm(dm(T)),j.size=j.content.length;var ne=ws(H[4][0].data);(function(){for(var R=nr.find(f,o[ne].location),q=To(Oo(R.content)),W,J=0;J<q.length;++J){var le=q[J];le.id==ne&&(W=le)}var ue=nn(W.messages[0].data);{ue[3]=[];var X=[];l.forEach(function(Y,We){X[1]=[{type:0,data:yn(We)}],X[2]=[{type:0,data:yn(1)}],X[3]=[{type:2,data:_ne(Y)}],ue[3].push({type:2,data:ts(X)})})}W.messages[0].data=ts(ue);var ge=dm(q),Te=hm(ge);R.content=Te,R.size=R.content.length})();var se=nn(H[3][0].data);{var ye=se[1][0];delete se[2];var ce=nn(ye.data);{var Se=ws(ce[2][0].data);(function(){for(var R=nr.find(f,o[Se].location),q=To(Oo(R.content)),W,J=0;J<q.length;++J){var le=q[J];le.id==Se&&(W=le)}var ue=nn(W.messages[0].data);{delete ue[6],delete se[7];var X=new Uint8Array(ue[5][0].data);ue[5]=[];for(var ge=0,Te=0;Te<=n.e.r;++Te){var Y=nn(X);ge+=Rne(Y,i[Te],l),Y[1][0].data=yn(Te),ue[5].push({data:ts(Y),type:2})}ue[1]=[{type:0,data:yn(n.e.c+1)}],ue[2]=[{type:0,data:yn(n.e.r+1)}],ue[3]=[{type:0,data:yn(ge)}],ue[4]=[{type:0,data:yn(n.e.r+1)}]}W.messages[0].data=ts(ue);var We=dm(q),Ee=hm(We);R.content=Ee,R.size=R.content.length})()}ye.data=ts(ce)}H[3][0].data=ts(se)}N[4][0].data=ts(H)}x.messages[0].data=ts(N);var te=dm(g),M=hm(te);return m.content=M,m.size=m.content.length,f}function iL(e){return function(r){for(var n=0;n!=e.length;++n){var a=e[n];r[a[0]]===void 0&&(r[a[0]]=a[1]),a[2]==="n"&&(r[a[0]]=Number(r[a[0]]))}}}function N3(e){iL([["cellNF",!1],["cellHTML",!0],["cellFormula",!0],["cellStyles",!1],["cellText",!0],["cellDates",!1],["sheetStubs",!1],["sheetRows",0,"n"],["bookDeps",!1],["bookSheets",!1],["bookProps",!1],["bookFiles",!1],["bookVBA",!1],["password",""],["WTF",!1]])(e)}function _3(e){iL([["cellDates",!1],["bookSST",!1],["bookType","xlsx"],["compression",!1],["WTF",!1]])(e)}function Bne(e){return Dr.WS.indexOf(e)>-1?"sheet":e==Dr.CS?"chart":e==Dr.DS?"dialog":e==Dr.MS?"macro":e&&e.length?e:"sheet"}function Une(e,t){if(!e)return 0;try{e=t.map(function(n){return n.id||(n.id=n.strRelID),[n.name,e["!id"][n.id].Target,Bne(e["!id"][n.id].Type)]})}catch{return null}return!e||e.length===0?null:e}function zne(e,t,r,n,a,i,l,o,u,f,h,m){try{i[n]=kx(Zl(e,r,!0),t);var g=ni(e,t),x;switch(o){case"sheet":x=cre(g,t,a,u,i[n],f,h,m);break;case"chart":if(x=ure(g,t,a,u,i[n],f,h,m),!x||!x["!drawel"])break;var b=yx(x["!drawel"].Target,t),v=Qx(b),w=XQ(Zl(e,b,!0),kx(Zl(e,v,!0),b)),N=yx(w,b),E=Qx(N);x=Rte(Zl(e,N,!0),N,u,kx(Zl(e,E,!0),N),f,x);break;case"macro":x=fre(g,t,a,u,i[n],f,h,m);break;case"dialog":x=dre(g,t,a,u,i[n],f,h,m);break;default:throw new Error("Unrecognized sheet type "+o)}l[n]=x;var j=[];i&&i[n]&&Ia(i[n]).forEach(function(T){var O="";if(i[n][T].Type==Dr.CMNT){O=yx(i[n][T].Target,t);var F=xre(ni(e,O,!0),O,u);if(!F||!F.length)return;Nk(x,F,!1)}i[n][T].Type==Dr.TCMNT&&(O=yx(i[n][T].Target,t),j=j.concat(ZQ(ni(e,O,!0),u)))}),j&&j.length&&Nk(x,j,!0,u.people||[])}catch(T){if(u.WTF)throw T}}function So(e){return e.charAt(0)=="/"?e.slice(1):e}function qne(e,t){if(sp(),t=t||{},N3(t),Fo(e,"META-INF/manifest.xml")||Fo(e,"objectdata.xml"))return Fk(e,t);if(Fo(e,"Index/Document.iwa")){if(typeof Uint8Array>"u")throw new Error("NUMBERS file parsing requires Uint8Array support");if(typeof Lw<"u"){if(e.FileIndex)return Lw(e);var r=nr.utils.cfb_new();return $E(e).forEach(function(ee){Sr(r,ee,JW(e,ee))}),Lw(r)}throw new Error("Unsupported NUMBERS file")}if(!Fo(e,"[Content_Types].xml"))throw Fo(e,"index.xml.gz")?new Error("Unsupported NUMBERS 08 file"):Fo(e,"index.xml")?new Error("Unsupported NUMBERS 09 file"):new Error("Unsupported ZIP file");var n=$E(e),a=WG(Zl(e,"[Content_Types].xml")),i=!1,l,o;if(a.workbooks.length===0&&(o="xl/workbook.xml",ni(e,o,!0)&&a.workbooks.push(o)),a.workbooks.length===0){if(o="xl/workbook.bin",!ni(e,o,!0))throw new Error("Could not find workbook");a.workbooks.push(o),i=!0}a.workbooks[0].slice(-3)=="bin"&&(i=!0);var u={},f={};if(!t.bookSheets&&!t.bookProps){if(Cx=[],a.sst)try{Cx=pre(ni(e,So(a.sst)),a.sst,t)}catch(ee){if(t.WTF)throw ee}t.cellStyles&&a.themes.length&&(u=mre(Zl(e,a.themes[0].replace(/^\//,""),!0)||"",a.themes[0],t)),a.style&&(f=hre(ni(e,So(a.style)),a.style,u,t))}a.links.map(function(ee){try{var me=kx(Zl(e,Qx(So(ee))),ee);return vre(ni(e,So(ee)),me,ee,t)}catch{}});var h=ore(ni(e,So(a.workbooks[0])),a.workbooks[0],t),m={},g="";a.coreprops.length&&(g=ni(e,So(a.coreprops[0]),!0),g&&(m=GF(g)),a.extprops.length!==0&&(g=ni(e,So(a.extprops[0]),!0),g&&JG(g,m,t)));var x={};(!t.bookSheets||t.bookProps)&&a.custprops.length!==0&&(g=Zl(e,So(a.custprops[0]),!0),g&&(x=tK(g,t)));var b={};if((t.bookSheets||t.bookProps)&&(h.Sheets?l=h.Sheets.map(function(me){return me.name}):m.Worksheets&&m.SheetNames.length>0&&(l=m.SheetNames),t.bookProps&&(b.Props=m,b.Custprops=x),t.bookSheets&&typeof l<"u"&&(b.SheetNames=l),t.bookSheets?b.SheetNames:t.bookProps))return b;l={};var v={};t.bookDeps&&a.calcchain&&(v=gre(ni(e,So(a.calcchain)),a.calcchain));var w=0,N={},E,j;{var T=h.Sheets;m.Worksheets=T.length,m.SheetNames=[];for(var O=0;O!=T.length;++O)m.SheetNames[O]=T[O].name}var F=i?"bin":"xml",D=a.workbooks[0].lastIndexOf("/"),L=(a.workbooks[0].slice(0,D+1)+"_rels/"+a.workbooks[0].slice(D+1)+".rels").replace(/^\//,"");Fo(e,L)||(L="xl/_rels/workbook."+F+".rels");var B=kx(Zl(e,L,!0),L.replace(/_rels.*/,"s5s"));(a.metadata||[]).length>=1&&(t.xlmeta=yre(ni(e,So(a.metadata[0])),a.metadata[0],t)),(a.people||[]).length>=1&&(t.people=eZ(ni(e,So(a.people[0])),t)),B&&(B=Une(B,h.Sheets));var H=ni(e,"xl/worksheets/sheet.xml",!0)?1:0;e:for(w=0;w!=m.Worksheets;++w){var P="sheet";if(B&&B[w]?(E="xl/"+B[w][1].replace(/[\/]?xl\//,""),Fo(e,E)||(E=B[w][1]),Fo(e,E)||(E=L.replace(/_rels\/.*$/,"")+B[w][1]),P=B[w][2]):(E="xl/worksheets/sheet"+(w+1-H)+"."+F,E=E.replace(/sheet0\./,"sheet.")),j=E.replace(/^(.*)(\/)([^\/]*)$/,"$1/_rels/$3.rels"),t&&t.sheets!=null)switch(typeof t.sheets){case"number":if(w!=t.sheets)continue e;break;case"string":if(m.SheetNames[w].toLowerCase()!=t.sheets.toLowerCase())continue e;break;default:if(Array.isArray&&Array.isArray(t.sheets)){for(var U=!1,K=0;K!=t.sheets.length;++K)typeof t.sheets[K]=="number"&&t.sheets[K]==w&&(U=1),typeof t.sheets[K]=="string"&&t.sheets[K].toLowerCase()==m.SheetNames[w].toLowerCase()&&(U=1);if(!U)continue e}}zne(e,E,j,m.SheetNames[w],w,N,l,P,t,h,u,f)}return b={Directory:a,Workbook:h,Props:m,Custprops:x,Deps:v,Sheets:l,SheetNames:m.SheetNames,Strings:Cx,Styles:f,Themes:u,SSF:ea(ur)},t&&t.bookFiles&&(e.files?(b.keys=n,b.files=e.files):(b.keys=[],b.files={},e.FullPaths.forEach(function(ee,me){ee=ee.replace(/^Root Entry[\/]/,""),b.keys.push(ee),b.files[ee]=e.FileIndex[me]}))),t&&t.bookVBA&&(a.vba.length>0?b.vbaraw=ni(e,So(a.vba[0]),!0):a.defaults&&a.defaults.bin===oZ&&(b.vbaraw=ni(e,"xl/vbaProject.bin",!0))),b}function $ne(e,t){var r=t||{},n="Workbook",a=nr.find(e,n);try{if(n="/!DataSpaces/Version",a=nr.find(e,n),!a||!a.content)throw new Error("ECMA-376 Encrypted file missing "+n);if(yX(a.content),n="/!DataSpaces/DataSpaceMap",a=nr.find(e,n),!a||!a.content)throw new Error("ECMA-376 Encrypted file missing "+n);var i=wX(a.content);if(i.length!==1||i[0].comps.length!==1||i[0].comps[0].t!==0||i[0].name!=="StrongEncryptionDataSpace"||i[0].comps[0].v!=="EncryptedPackage")throw new Error("ECMA-376 Encrypted file bad "+n);if(n="/!DataSpaces/DataSpaceInfo/StrongEncryptionDataSpace",a=nr.find(e,n),!a||!a.content)throw new Error("ECMA-376 Encrypted file missing "+n);var l=NX(a.content);if(l.length!=1||l[0]!="StrongEncryptionTransform")throw new Error("ECMA-376 Encrypted file bad "+n);if(n="/!DataSpaces/TransformInfo/StrongEncryptionTransform/!Primary",a=nr.find(e,n),!a||!a.content)throw new Error("ECMA-376 Encrypted file missing "+n);jX(a.content)}catch{}if(n="/EncryptionInfo",a=nr.find(e,n),!a||!a.content)throw new Error("ECMA-376 Encrypted file missing "+n);var o=SX(a.content);if(n="/EncryptedPackage",a=nr.find(e,n),!a||!a.content)throw new Error("ECMA-376 Encrypted file missing "+n);if(o[0]==4&&typeof decrypt_agile<"u")return decrypt_agile(o[1],a.content,r.password||"",r);if(o[0]==2&&typeof decrypt_std76<"u")return decrypt_std76(o[1],a.content,r.password||"",r);throw new Error("File is password-protected")}function Hne(e,t){return t.bookType=="ods"?aL(e,t):t.bookType=="numbers"?Ine(e,t):t.bookType=="xlsb"?Vne(e,t):Wne(e,t)}function Vne(e,t){Nm=1024,e&&!e.SSF&&(e.SSF=ea(ur)),e&&e.SSF&&(sp(),i2(e.SSF),t.revssf=l2(e.SSF),t.revssf[e.SSF[65535]]=0,t.ssf=e.SSF),t.rels={},t.wbrels={},t.Strings=[],t.Strings.Count=0,t.Strings.Unique=0,Tx?t.revStrings=new Map:(t.revStrings={},t.revStrings.foo=[],delete t.revStrings.foo);var r=t.bookType=="xlsb"?"bin":"xml",n=DP.indexOf(t.bookType)>-1,a=o3();_3(t=t||{});var i=K_(),l="",o=0;if(t.cellXfs=[],Id(t.cellXfs,{},{revssf:{General:0}}),e.Props||(e.Props={}),l="docProps/core.xml",Sr(i,l,KF(e.Props,t)),a.coreprops.push(l),bn(t.rels,2,l,Dr.CORE_PROPS),l="docProps/app.xml",!(e.Props&&e.Props.SheetNames))if(!e.Workbook||!e.Workbook.Sheets)e.Props.SheetNames=e.SheetNames;else{for(var u=[],f=0;f<e.SheetNames.length;++f)(e.Workbook.Sheets[f]||{}).Hidden!=2&&u.push(e.SheetNames[f]);e.Props.SheetNames=u}for(e.Props.Worksheets=e.Props.SheetNames.length,Sr(i,l,QF(e.Props)),a.extprops.push(l),bn(t.rels,3,l,Dr.EXT_PROPS),e.Custprops!==e.Props&&Ia(e.Custprops||{}).length>0&&(l="docProps/custom.xml",Sr(i,l,ZF(e.Custprops)),a.custprops.push(l),bn(t.rels,4,l,Dr.CUST_PROPS)),o=1;o<=e.SheetNames.length;++o){var h={"!id":{}},m=e.Sheets[e.SheetNames[o-1]],g=(m||{})["!type"]||"sheet";switch(g){case"chart":default:l="xl/worksheets/sheet"+o+"."+r,Sr(i,l,wre(o-1,l,t,e,h)),a.sheets.push(l),bn(t.wbrels,-1,"worksheets/sheet"+o+"."+r,Dr.WS[0])}if(m){var x=m["!comments"],b=!1,v="";x&&x.length>0&&(v="xl/comments"+o+"."+r,Sr(i,v,jre(x,v)),a.comments.push(v),bn(h,-1,"../comments"+o+"."+r,Dr.CMNT),b=!0),m["!legacy"]&&b&&Sr(i,"xl/drawings/vmlDrawing"+o+".vml",TP(o,m["!comments"])),delete m["!comments"],delete m["!legacy"]}h["!id"].rId1&&Sr(i,Qx(l),Tm(h))}return t.Strings!=null&&t.Strings.length>0&&(l="xl/sharedStrings."+r,Sr(i,l,_re(t.Strings,l,t)),a.strs.push(l),bn(t.wbrels,-1,"sharedStrings."+r,Dr.SST)),l="xl/workbook."+r,Sr(i,l,bre(e,l)),a.workbooks.push(l),bn(t.rels,1,l,Dr.WB),l="xl/theme/theme1.xml",Sr(i,l,m3(e.Themes,t)),a.themes.push(l),bn(t.wbrels,-1,"theme/theme1.xml",Dr.THEME),l="xl/styles."+r,Sr(i,l,Nre(e,l,t)),a.styles.push(l),bn(t.wbrels,-1,"styles."+r,Dr.STY),e.vbaraw&&n&&(l="xl/vbaProject.bin",Sr(i,l,e.vbaraw),a.vba.push(l),bn(t.wbrels,-1,"vbaProject.bin",Dr.VBA)),l="xl/metadata."+r,Sr(i,l,Sre(l)),a.metadata.push(l),bn(t.wbrels,-1,"metadata."+r,Dr.XLMETA),Sr(i,"[Content_Types].xml",VF(a,t)),Sr(i,"_rels/.rels",Tm(t.rels)),Sr(i,"xl/_rels/workbook."+r+".rels",Tm(t.wbrels)),delete t.revssf,delete t.ssf,i}function Wne(e,t){Nm=1024,e&&!e.SSF&&(e.SSF=ea(ur)),e&&e.SSF&&(sp(),i2(e.SSF),t.revssf=l2(e.SSF),t.revssf[e.SSF[65535]]=0,t.ssf=e.SSF),t.rels={},t.wbrels={},t.Strings=[],t.Strings.Count=0,t.Strings.Unique=0,Tx?t.revStrings=new Map:(t.revStrings={},t.revStrings.foo=[],delete t.revStrings.foo);var r="xml",n=DP.indexOf(t.bookType)>-1,a=o3();_3(t=t||{});var i=K_(),l="",o=0;if(t.cellXfs=[],Id(t.cellXfs,{},{revssf:{General:0}}),e.Props||(e.Props={}),l="docProps/core.xml",Sr(i,l,KF(e.Props,t)),a.coreprops.push(l),bn(t.rels,2,l,Dr.CORE_PROPS),l="docProps/app.xml",!(e.Props&&e.Props.SheetNames))if(!e.Workbook||!e.Workbook.Sheets)e.Props.SheetNames=e.SheetNames;else{for(var u=[],f=0;f<e.SheetNames.length;++f)(e.Workbook.Sheets[f]||{}).Hidden!=2&&u.push(e.SheetNames[f]);e.Props.SheetNames=u}e.Props.Worksheets=e.Props.SheetNames.length,Sr(i,l,QF(e.Props)),a.extprops.push(l),bn(t.rels,3,l,Dr.EXT_PROPS),e.Custprops!==e.Props&&Ia(e.Custprops||{}).length>0&&(l="docProps/custom.xml",Sr(i,l,ZF(e.Custprops)),a.custprops.push(l),bn(t.rels,4,l,Dr.CUST_PROPS));var h=["SheetJ5"];for(t.tcid=0,o=1;o<=e.SheetNames.length;++o){var m={"!id":{}},g=e.Sheets[e.SheetNames[o-1]],x=(g||{})["!type"]||"sheet";switch(x){case"chart":default:l="xl/worksheets/sheet"+o+"."+r,Sr(i,l,$P(o-1,t,e,m)),a.sheets.push(l),bn(t.wbrels,-1,"worksheets/sheet"+o+"."+r,Dr.WS[0])}if(g){var b=g["!comments"],v=!1,w="";if(b&&b.length>0){var N=!1;b.forEach(function(E){E[1].forEach(function(j){j.T==!0&&(N=!0)})}),N&&(w="xl/threadedComments/threadedComment"+o+"."+r,Sr(i,w,JQ(b,h,t)),a.threadedcomments.push(w),bn(m,-1,"../threadedComments/threadedComment"+o+"."+r,Dr.TCMNT)),w="xl/comments"+o+"."+r,Sr(i,w,OP(b)),a.comments.push(w),bn(m,-1,"../comments"+o+"."+r,Dr.CMNT),v=!0}g["!legacy"]&&v&&Sr(i,"xl/drawings/vmlDrawing"+o+".vml",TP(o,g["!comments"])),delete g["!comments"],delete g["!legacy"]}m["!id"].rId1&&Sr(i,Qx(l),Tm(m))}return t.Strings!=null&&t.Strings.length>0&&(l="xl/sharedStrings."+r,Sr(i,l,vP(t.Strings,t)),a.strs.push(l),bn(t.wbrels,-1,"sharedStrings."+r,Dr.SST)),l="xl/workbook."+r,Sr(i,l,KP(e)),a.workbooks.push(l),bn(t.rels,1,l,Dr.WB),l="xl/theme/theme1.xml",Sr(i,l,m3(e.Themes,t)),a.themes.push(l),bn(t.wbrels,-1,"theme/theme1.xml",Dr.THEME),l="xl/styles."+r,Sr(i,l,AP(e,t)),a.styles.push(l),bn(t.wbrels,-1,"styles."+r,Dr.STY),e.vbaraw&&n&&(l="xl/vbaProject.bin",Sr(i,l,e.vbaraw),a.vba.push(l),bn(t.wbrels,-1,"vbaProject.bin",Dr.VBA)),l="xl/metadata."+r,Sr(i,l,CP()),a.metadata.push(l),bn(t.wbrels,-1,"metadata."+r,Dr.XLMETA),h.length>1&&(l="xl/persons/person.xml",Sr(i,l,tZ(h)),a.people.push(l),bn(t.wbrels,-1,"persons/person.xml",Dr.PEOPLE)),Sr(i,"[Content_Types].xml",VF(a,t)),Sr(i,"_rels/.rels",Tm(t.rels)),Sr(i,"xl/_rels/workbook."+r+".rels",Tm(t.wbrels)),delete t.revssf,delete t.ssf,i}function j3(e,t){var r="";switch((t||{}).type||"base64"){case"buffer":return[e[0],e[1],e[2],e[3],e[4],e[5],e[6],e[7]];case"base64":r=ro(e.slice(0,12));break;case"binary":r=e;break;case"array":return[e[0],e[1],e[2],e[3],e[4],e[5],e[6],e[7]];default:throw new Error("Unrecognized type "+(t&&t.type||"undefined"))}return[r.charCodeAt(0),r.charCodeAt(1),r.charCodeAt(2),r.charCodeAt(3),r.charCodeAt(4),r.charCodeAt(5),r.charCodeAt(6),r.charCodeAt(7)]}function Gne(e,t){return nr.find(e,"EncryptedPackage")?$ne(e,t):ZP(e,t)}function Kne(e,t){var r,n=e,a=t||{};return a.type||(a.type=Tr&&Buffer.isBuffer(e)?"buffer":"base64"),r=bF(n,a),qne(r,a)}function sL(e,t){var r=0;e:for(;r<e.length;)switch(e.charCodeAt(r)){case 10:case 13:case 32:++r;break;case 60:return iN(e.slice(r),t);default:break e}return $m.to_workbook(e,t)}function Yne(e,t){var r="",n=j3(e,t);switch(t.type){case"base64":r=ro(e);break;case"binary":r=e;break;case"buffer":r=e.toString("binary");break;case"array":r=W0(e);break;default:throw new Error("Unrecognized type "+t.type)}return n[0]==239&&n[1]==187&&n[2]==191&&(r=Dn(r)),t.type="binary",sL(r,t)}function Xne(e,t){var r=e;return t.type=="base64"&&(r=ro(r)),r=Vx.utils.decode(1200,r.slice(2),"str"),t.type="binary",sL(r,t)}function Qne(e){return e.match(/[^\x00-\x7F]/)?ou(e):e}function Mw(e,t,r,n){return n?(r.type="string",$m.to_workbook(e,r)):$m.to_workbook(t,r)}function oN(e,t){$_();var r=t||{};if(typeof ArrayBuffer<"u"&&e instanceof ArrayBuffer)return oN(new Uint8Array(e),(r=ea(r),r.type="array",r));typeof Uint8Array<"u"&&e instanceof Uint8Array&&!r.type&&(r.type=typeof Deno<"u"?"buffer":"array");var n=e,a=[0,0,0,0],i=!1;if(r.cellStyles&&(r.cellNF=!0,r.sheetStubs=!0),Dm={},r.dateNF&&(Dm.dateNF=r.dateNF),r.type||(r.type=Tr&&Buffer.isBuffer(e)?"buffer":"base64"),r.type=="file"&&(r.type=Tr?"buffer":"binary",n=VW(e),typeof Uint8Array<"u"&&!Tr&&(r.type="array")),r.type=="string"&&(i=!0,r.type="binary",r.codepage=65001,n=Qne(e)),r.type=="array"&&typeof Uint8Array<"u"&&e instanceof Uint8Array&&typeof ArrayBuffer<"u"){var l=new ArrayBuffer(3),o=new Uint8Array(l);if(o.foo="bar",!o.foo)return r=ea(r),r.type="array",oN(H_(n),r)}switch((a=j3(n,r))[0]){case 208:if(a[1]===207&&a[2]===17&&a[3]===224&&a[4]===161&&a[5]===177&&a[6]===26&&a[7]===225)return Gne(nr.read(n,r),r);break;case 9:if(a[1]<=8)return ZP(n,r);break;case 60:return iN(n,r);case 73:if(a[1]===73&&a[2]===42&&a[3]===0)throw new Error("TIFF Image File is not a spreadsheet");if(a[1]===68)return rX(n,r);break;case 84:if(a[1]===65&&a[2]===66&&a[3]===76)return xP.to_workbook(n,r);break;case 80:return a[1]===75&&a[2]<9&&a[3]<9?Kne(n,r):Mw(e,n,r,i);case 239:return a[3]===60?iN(n,r):Mw(e,n,r,i);case 255:if(a[1]===254)return Xne(n,r);if(a[1]===0&&a[2]===2&&a[3]===0)return F0.to_workbook(n,r);break;case 0:if(a[1]===0&&(a[2]>=2&&a[3]===0||a[2]===0&&(a[3]===8||a[3]===9)))return F0.to_workbook(n,r);break;case 3:case 131:case 139:case 140:return aN.to_workbook(n,r);case 123:if(a[1]===92&&a[2]===114&&a[3]===116)return _P.to_workbook(n,r);break;case 10:case 13:case 32:return Yne(n,r);case 137:if(a[1]===80&&a[2]===78&&a[3]===71)throw new Error("PNG Image File is not a spreadsheet");break}return tX.indexOf(a[0])>-1&&a[2]<=12&&a[3]<=31?aN.to_workbook(n,r):Mw(e,n,r,i)}function lL(e,t){switch(t.type){case"base64":case"binary":break;case"buffer":case"array":t.type="";break;case"file":return _g(t.file,nr.write(e,{type:Tr?"buffer":""}));case"string":throw new Error("'string' output type invalid for '"+t.bookType+"' files");default:throw new Error("Unrecognized type "+t.type)}return nr.write(e,t)}function Zne(e,t){var r=ea(t||{}),n=Hne(e,r);return Jne(n,r)}function Jne(e,t){var r={},n=Tr?"nodebuffer":typeof Uint8Array<"u"?"array":"string";if(t.compression&&(r.compression="DEFLATE"),t.password)r.type=n;else switch(t.type){case"base64":r.type="base64";break;case"binary":r.type="string";break;case"string":throw new Error("'string' output type invalid for '"+t.bookType+"' files");case"buffer":case"file":r.type=n;break;default:throw new Error("Unrecognized type "+t.type)}var a=e.FullPaths?nr.write(e,{fileType:"zip",type:{nodebuffer:"buffer",string:"binary"}[r.type]||r.type,compression:!!t.compression}):e.generate(r);if(typeof Deno<"u"&&typeof a=="string"){if(t.type=="binary"||t.type=="base64")return a;a=new Uint8Array(a2(a))}return t.password&&typeof encrypt_agile<"u"?lL(encrypt_agile(a,t.password),t):t.type==="file"?_g(t.file,a):t.type=="string"?Dn(a):a}function eae(e,t){var r=t||{},n=Qre(e,r);return lL(n,r)}function su(e,t,r){r||(r="");var n=r+e;switch(t.type){case"base64":return Wx(ou(n));case"binary":return ou(n);case"string":return e;case"file":return _g(t.file,n,"utf8");case"buffer":return Tr?_f(n,"utf8"):typeof TextEncoder<"u"?new TextEncoder().encode(n):su(n,{type:"binary"}).split("").map(function(a){return a.charCodeAt(0)})}throw new Error("Unrecognized type "+t.type)}function tae(e,t){switch(t.type){case"base64":return Wx(e);case"binary":return e;case"string":return e;case"file":return _g(t.file,e,"binary");case"buffer":return Tr?_f(e,"binary"):e.split("").map(function(r){return r.charCodeAt(0)})}throw new Error("Unrecognized type "+t.type)}function av(e,t){switch(t.type){case"string":case"base64":case"binary":for(var r="",n=0;n<e.length;++n)r+=String.fromCharCode(e[n]);return t.type=="base64"?Wx(r):t.type=="string"?Dn(r):r;case"file":return _g(t.file,e);case"buffer":return e;default:throw new Error("Unrecognized type "+t.type)}}function oL(e,t){$_(),Gte(e);var r=ea(t||{});if(r.cellStyles&&(r.cellNF=!0,r.sheetStubs=!0),r.type=="array"){r.type="binary";var n=oL(e,r);return r.type="array",a2(n)}var a=0;if(r.sheet&&(typeof r.sheet=="number"?a=r.sheet:a=e.SheetNames.indexOf(r.sheet),!e.SheetNames[a]))throw new Error("Sheet not found: "+r.sheet+" : "+typeof r.sheet);switch(r.bookType||"xlsb"){case"xml":case"xlml":return su(Hre(e,r),r);case"slk":case"sylk":return su(pP.from_sheet(e.Sheets[e.SheetNames[a]],r),r);case"htm":case"html":return su(eL(e.Sheets[e.SheetNames[a]],r),r);case"txt":return tae(cL(e.Sheets[e.SheetNames[a]],r),r);case"csv":return su(S3(e.Sheets[e.SheetNames[a]],r),r,"\uFEFF");case"dif":return su(xP.from_sheet(e.Sheets[e.SheetNames[a]],r),r);case"dbf":return av(aN.from_sheet(e.Sheets[e.SheetNames[a]],r),r);case"prn":return su($m.from_sheet(e.Sheets[e.SheetNames[a]],r),r);case"rtf":return su(_P.from_sheet(e.Sheets[e.SheetNames[a]],r),r);case"eth":return su(gP.from_sheet(e.Sheets[e.SheetNames[a]],r),r);case"fods":return su(aL(e,r),r);case"wk1":return av(F0.sheet_to_wk1(e.Sheets[e.SheetNames[a]],r),r);case"wk3":return av(F0.book_to_wk3(e,r),r);case"biff2":r.biff||(r.biff=2);case"biff3":r.biff||(r.biff=3);case"biff4":return r.biff||(r.biff=4),av(JP(e,r),r);case"biff5":r.biff||(r.biff=5);case"biff8":case"xla":case"xls":return r.biff||(r.biff=8),eae(e,r);case"xlsx":case"xlsm":case"xlam":case"xlsb":case"numbers":case"ods":return Zne(e,r);default:throw new Error("Unrecognized bookType |"+r.bookType+"|")}}function rae(e){if(!e.bookType){var t={xls:"biff8",htm:"html",slk:"sylk",socialcalc:"eth",Sh33tJS:"WTF"},r=e.file.slice(e.file.lastIndexOf(".")).toLowerCase();r.match(/^\.[a-z]+$/)&&(e.bookType=r.slice(1)),e.bookType=t[e.bookType]||e.bookType}}function nae(e,t,r){var n={};return n.type="file",n.file=t,rae(n),oL(e,n)}function aae(e,t,r,n,a,i,l,o){var u=Ya(r),f=o.defval,h=o.raw||!Object.prototype.hasOwnProperty.call(o,"raw"),m=!0,g=a===1?[]:{};if(a!==1)if(Object.defineProperty)try{Object.defineProperty(g,"__rowNum__",{value:r,enumerable:!1})}catch{g.__rowNum__=r}else g.__rowNum__=r;if(!l||e[r])for(var x=t.s.c;x<=t.e.c;++x){var b=l?e[r][x]:e[n[x]+u];if(b===void 0||b.t===void 0){if(f===void 0)continue;i[x]!=null&&(g[i[x]]=f);continue}var v=b.v;switch(b.t){case"z":if(v==null)break;continue;case"e":v=v==0?null:void 0;break;case"s":case"d":case"b":case"n":break;default:throw new Error("unrecognized type "+b.t)}if(i[x]!=null){if(v==null)if(b.t=="e"&&v===null)g[i[x]]=null;else if(f!==void 0)g[i[x]]=f;else if(h&&v===null)g[i[x]]=null;else continue;else g[i[x]]=h&&(b.t!=="n"||b.t==="n"&&o.rawNumbers!==!1)?v:pf(b,v,o);v!=null&&(m=!1)}}return{row:g,isempty:m}}function ly(e,t){if(e==null||e["!ref"]==null)return[];var r={t:"n",v:0},n=0,a=1,i=[],l=0,o="",u={s:{r:0,c:0},e:{r:0,c:0}},f=t||{},h=f.range!=null?f.range:e["!ref"];switch(f.header===1?n=1:f.header==="A"?n=2:Array.isArray(f.header)?n=3:f.header==null&&(n=0),typeof h){case"string":u=Jr(h);break;case"number":u=Jr(e["!ref"]),u.s.r=h;break;default:u=h}n>0&&(a=0);var m=Ya(u.s.r),g=[],x=[],b=0,v=0,w=Array.isArray(e),N=u.s.r,E=0,j={};w&&!e[N]&&(e[N]=[]);var T=f.skipHidden&&e["!cols"]||[],O=f.skipHidden&&e["!rows"]||[];for(E=u.s.c;E<=u.e.c;++E)if(!(T[E]||{}).hidden)switch(g[E]=_a(E),r=w?e[N][E]:e[g[E]+m],n){case 1:i[E]=E-u.s.c;break;case 2:i[E]=g[E];break;case 3:i[E]=f.header[E-u.s.c];break;default:if(r==null&&(r={w:"__EMPTY",t:"s"}),o=l=pf(r,null,f),v=j[l]||0,!v)j[l]=1;else{do o=l+"_"+v++;while(j[o]);j[l]=v,j[o]=1}i[E]=o}for(N=u.s.r+a;N<=u.e.r;++N)if(!(O[N]||{}).hidden){var F=aae(e,u,N,g,n,i,w,f);(F.isempty===!1||(n===1?f.blankrows!==!1:f.blankrows))&&(x[b++]=F.row)}return x.length=b,x}var Ik=/"/g;function iae(e,t,r,n,a,i,l,o){for(var u=!0,f=[],h="",m=Ya(r),g=t.s.c;g<=t.e.c;++g)if(n[g]){var x=o.dense?(e[r]||[])[g]:e[n[g]+m];if(x==null)h="";else if(x.v!=null){u=!1,h=""+(o.rawNumbers&&x.t=="n"?x.v:pf(x,null,o));for(var b=0,v=0;b!==h.length;++b)if((v=h.charCodeAt(b))===a||v===i||v===34||o.forceQuotes){h='"'+h.replace(Ik,'""')+'"';break}h=="ID"&&(h='"ID"')}else x.f!=null&&!x.F?(u=!1,h="="+x.f,h.indexOf(",")>=0&&(h='"'+h.replace(Ik,'""')+'"')):h="";f.push(h)}return o.blankrows===!1&&u?null:f.join(l)}function S3(e,t){var r=[],n=t??{};if(e==null||e["!ref"]==null)return"";var a=Jr(e["!ref"]),i=n.FS!==void 0?n.FS:",",l=i.charCodeAt(0),o=n.RS!==void 0?n.RS:`
`,u=o.charCodeAt(0),f=new RegExp((i=="|"?"\\|":i)+"+$"),h="",m=[];n.dense=Array.isArray(e);for(var g=n.skipHidden&&e["!cols"]||[],x=n.skipHidden&&e["!rows"]||[],b=a.s.c;b<=a.e.c;++b)(g[b]||{}).hidden||(m[b]=_a(b));for(var v=0,w=a.s.r;w<=a.e.r;++w)(x[w]||{}).hidden||(h=iae(e,a,w,m,l,u,i,n),h!=null&&(n.strip&&(h=h.replace(f,"")),(h||n.blankrows!==!1)&&r.push((v++?o:"")+h)));return delete n.dense,r.join("")}function cL(e,t){t||(t={}),t.FS="	",t.RS=`
`;var r=S3(e,t);return r}function sae(e){var t="",r,n="";if(e==null||e["!ref"]==null)return[];var a=Jr(e["!ref"]),i="",l=[],o,u=[],f=Array.isArray(e);for(o=a.s.c;o<=a.e.c;++o)l[o]=_a(o);for(var h=a.s.r;h<=a.e.r;++h)for(i=Ya(h),o=a.s.c;o<=a.e.c;++o)if(t=l[o]+i,r=f?(e[h]||[])[o]:e[t],n="",r!==void 0){if(r.F!=null){if(t=r.F,!r.f)continue;n=r.f,t.indexOf(":")==-1&&(t=t+":"+t)}if(r.f!=null)n=r.f;else{if(r.t=="z")continue;if(r.t=="n"&&r.v!=null)n=""+r.v;else if(r.t=="b")n=r.v?"TRUE":"FALSE";else if(r.w!==void 0)n="'"+r.w;else{if(r.v===void 0)continue;r.t=="s"?n="'"+r.v:n=""+r.v}}u[u.length]=t+"="+n}return u}function uL(e,t,r){var n=r||{},a=+!n.skipHeader,i=e||{},l=0,o=0;if(i&&n.origin!=null)if(typeof n.origin=="number")l=n.origin;else{var u=typeof n.origin=="string"?ja(n.origin):n.origin;l=u.r,o=u.c}var f,h={s:{c:0,r:0},e:{c:o,r:l+t.length-1+a}};if(i["!ref"]){var m=Jr(i["!ref"]);h.e.c=Math.max(h.e.c,m.e.c),h.e.r=Math.max(h.e.r,m.e.r),l==-1&&(l=m.e.r+1,h.e.r=l+t.length-1+a)}else l==-1&&(l=0,h.e.r=t.length-1+a);var g=n.header||[],x=0;t.forEach(function(v,w){Ia(v).forEach(function(N){(x=g.indexOf(N))==-1&&(g[x=g.length]=N);var E=v[N],j="z",T="",O=fr({c:o+x,r:l+w+a});f=ag(i,O),E&&typeof E=="object"&&!(E instanceof Date)?i[O]=E:(typeof E=="number"?j="n":typeof E=="boolean"?j="b":typeof E=="string"?j="s":E instanceof Date?(j="d",n.cellDates||(j="n",E=ji(E)),T=n.dateNF||ur[14]):E===null&&n.nullError&&(j="e",E=0),f?(f.t=j,f.v=E,delete f.w,delete f.R,T&&(f.z=T)):i[O]=f={t:j,v:E},T&&(f.z=T))})}),h.e.c=Math.max(h.e.c,o+g.length-1);var b=Ya(l);if(a)for(x=0;x<g.length;++x)i[_a(x+o)+b]={t:"s",v:g[x]};return i["!ref"]=Nr(h),i}function lae(e,t){return uL(null,e,t)}function ag(e,t,r){if(typeof t=="string"){if(Array.isArray(e)){var n=ja(t);return e[n.r]||(e[n.r]=[]),e[n.r][n.c]||(e[n.r][n.c]={t:"z"})}return e[t]||(e[t]={t:"z"})}return typeof t!="number"?ag(e,fr(t)):ag(e,fr({r:t,c:r||0}))}function oae(e,t){if(typeof t=="number"){if(t>=0&&e.SheetNames.length>t)return t;throw new Error("Cannot find sheet # "+t)}else if(typeof t=="string"){var r=e.SheetNames.indexOf(t);if(r>-1)return r;throw new Error("Cannot find sheet name |"+t+"|")}else throw new Error("Cannot find sheet |"+t+"|")}function A3(){return{SheetNames:[],Sheets:{}}}function E3(e,t,r,n){var a=1;if(!r)for(;a<=65535&&e.SheetNames.indexOf(r="Sheet"+a)!=-1;++a,r=void 0);if(!r||e.SheetNames.length>=65535)throw new Error("Too many worksheets");if(n&&e.SheetNames.indexOf(r)>=0){var i=r.match(/(^.*?)(\d+)$/);a=i&&+i[2]||0;var l=i&&i[1]||r;for(++a;a<=65535&&e.SheetNames.indexOf(r=l+a)!=-1;++a);}if(GP(r),e.SheetNames.indexOf(r)>=0)throw new Error("Worksheet with name |"+r+"| already exists!");return e.SheetNames.push(r),e.Sheets[r]=t,r}function cae(e,t,r){e.Workbook||(e.Workbook={}),e.Workbook.Sheets||(e.Workbook.Sheets=[]);var n=oae(e,t);switch(e.Workbook.Sheets[n]||(e.Workbook.Sheets[n]={}),r){case 0:case 1:case 2:break;default:throw new Error("Bad sheet visibility setting "+r)}e.Workbook.Sheets[n].Hidden=r}function uae(e,t){return e.z=t,e}function fL(e,t,r){return t?(e.l={Target:t},r&&(e.l.Tooltip=r)):delete e.l,e}function fae(e,t,r){return fL(e,"#"+t,r)}function dae(e,t,r){e.c||(e.c=[]),e.c.push({t,a:r||"SheetJS"})}function hae(e,t,r,n){for(var a=typeof t!="string"?t:Jr(t),i=typeof t=="string"?t:Nr(t),l=a.s.r;l<=a.e.r;++l)for(var o=a.s.c;o<=a.e.c;++o){var u=ag(e,l,o);u.t="n",u.F=i,delete u.v,l==a.s.r&&o==a.s.c&&(u.f=r,n&&(u.D=!0))}return e}var iv={encode_col:_a,encode_row:Ya,encode_cell:fr,encode_range:Nr,decode_col:r3,decode_row:t3,split_cell:_G,decode_cell:ja,decode_range:Cl,format_cell:pf,sheet_add_aoa:IF,sheet_add_json:uL,sheet_add_dom:tL,aoa_to_sheet:lp,json_to_sheet:lae,table_to_sheet:rL,table_to_book:yne,sheet_to_csv:S3,sheet_to_txt:cL,sheet_to_json:ly,sheet_to_html:eL,sheet_to_formulae:sae,sheet_to_row_object_array:ly,sheet_get_cell:ag,book_new:A3,book_append_sheet:E3,book_set_sheet_visibility:cae,cell_set_number_format:uae,cell_set_hyperlink:fL,cell_set_internal_link:fae,cell_add_comment:dae,sheet_set_array_formula:hae,consts:{SHEET_VISIBLE:0,SHEET_HIDDEN:1,SHEET_VERY_HIDDEN:2}};const Ec={async getAll(){return at.get("/cities")},async getById(e){try{return await at.get(`/cities/${e}`)}catch(t){if(t instanceof Error&&"status"in t&&t.status===404)return null;throw t}},async getBySegment(e){return at.get(`/cities/by-segment/${e}`)},async create(e,t){return at.post("/cities",{id:e,...t})},async update(e){const{id:t,...r}=e;return at.put(`/cities/${t}`,r)},async delete(e){return at.delete(`/cities/${e}`)}},es=[];for(let e=0;e<256;++e)es.push((e+256).toString(16).slice(1));function mae(e,t=0){return(es[e[t+0]]+es[e[t+1]]+es[e[t+2]]+es[e[t+3]]+"-"+es[e[t+4]]+es[e[t+5]]+"-"+es[e[t+6]]+es[e[t+7]]+"-"+es[e[t+8]]+es[e[t+9]]+"-"+es[e[t+10]]+es[e[t+11]]+es[e[t+12]]+es[e[t+13]]+es[e[t+14]]+es[e[t+15]]).toLowerCase()}let Rw;const pae=new Uint8Array(16);function xae(){if(!Rw){if(typeof crypto>"u"||!crypto.getRandomValues)throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");Rw=crypto.getRandomValues.bind(crypto)}return Rw(pae)}const gae=typeof crypto<"u"&&crypto.randomUUID&&crypto.randomUUID.bind(crypto),Bk={randomUUID:gae};function vae(e,t,r){e=e||{};const n=e.random??e.rng?.()??xae();if(n.length<16)throw new Error("Random bytes length must be >= 16");return n[6]=n[6]&15|64,n[8]=n[8]&63|128,mae(n)}function Bd(e,t,r){return Bk.randomUUID&&!e?Bk.randomUUID():vae(e)}const Og=()=>or({queryKey:["cities"],queryFn:()=>Ec.getAll()}),yae=e=>or({queryKey:["cities",e],queryFn:()=>Ec.getById(e),enabled:!!e}),bae=()=>{const e=Pt();return It({mutationFn:async t=>{const r=Bd();return Ec.create(r,t)},onSuccess:()=>{e.invalidateQueries({queryKey:["cities"]})}})},wae=()=>{const e=Pt();return It({mutationFn:t=>Ec.update(t),onSuccess:()=>{e.invalidateQueries({queryKey:["cities"]})}})},Nae=()=>{const e=Pt();return It({mutationFn:t=>Ec.delete(t),onSuccess:()=>{e.invalidateQueries({queryKey:["cities"]})}})},_ae=()=>{const e=Pt();return It({mutationFn:async t=>{const r={success:0,errors:[]},n=await Ec.getAll();for(let a=0;a<t.length;a++){const i=t[a];try{if(!i.name||!i.code||!i.segment_id){r.errors.push({row:a+2,error:"Donnes manquantes (nom, code ou segment)",data:i});continue}if(n.find(u=>u.name.trim()===i.name.trim()&&u.segment_id===i.segment_id)){r.errors.push({row:a+2,error:`Une ville avec le nom "${i.name}" existe dj dans ce segment`,data:i});continue}const o=Bd();await Ec.create(o,{name:i.name.trim(),code:i.code.trim(),segment_id:i.segment_id}),r.success++}catch(l){r.errors.push({row:a+2,error:l instanceof Error?l.message:"Erreur inconnue",data:i})}}return r},onSuccess:()=>{e.invalidateQueries({queryKey:["cities"]})}})};function jae({segmentId:e,segmentName:t,onClose:r}){const[n,a]=k.useState(null),[i,l]=k.useState(!1),[o,u]=k.useState(null),f=k.useRef(null),h=_ae(),m=b=>{b.target.files&&b.target.files[0]&&(a(b.target.files[0]),u(null))},g=async()=>{if(n){l(!0),u(null);try{const b=await n.arrayBuffer(),v=oN(b),w=v.Sheets[v.SheetNames[0]],E=iv.sheet_to_json(w).map(T=>({name:T.Ville?.toString().trim()||"",code:T.code?.toString().trim().toUpperCase()||"",segment_id:e})),j=await h.mutateAsync(E);u(j)}catch(b){console.error("Erreur lors de l'import:",b),alert("Erreur lors de la lecture du fichier Excel")}finally{l(!1)}}},x=()=>{const b=[{Ville:"Casablanca",code:"A1P07"},{Ville:"Rabat",code:"A1P01"},{Ville:"Tanger",code:"A1P05"}],v=iv.json_to_sheet(b),w=iv.book_new();iv.book_append_sheet(w,v,"Villes"),v["!cols"]=[{wch:25},{wch:15}],nae(w,"template_import_villes.xlsx")};return s.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:s.jsxs("div",{className:"bg-white rounded-lg shadow-xl max-w-2xl w-full max-h-[90vh] overflow-y-auto",children:[s.jsxs("div",{className:"flex items-center justify-between p-6 border-b border-gray-200",children:[s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx("div",{className:"w-10 h-10 bg-blue-100 rounded-lg flex items-center justify-center",children:s.jsx(q0,{className:"w-6 h-6 text-blue-600"})}),s.jsxs("div",{children:[s.jsx("h2",{className:"text-xl font-bold text-gray-900",children:"Import en masse"}),s.jsxs("p",{className:"text-sm text-gray-500",children:["Importer des villes pour : ",s.jsx("strong",{children:t})]})]})]}),s.jsx("button",{onClick:r,className:"text-gray-400 hover:text-gray-600 transition-colors",children:s.jsx(ma,{className:"w-6 h-6"})})]}),s.jsxs("div",{className:"p-6 space-y-6",children:[s.jsxs("div",{className:"bg-blue-50 border border-blue-200 rounded-lg p-4",children:[s.jsx("h3",{className:"font-semibold text-blue-900 mb-2",children:"Format du fichier Excel"}),s.jsx("p",{className:"text-sm text-blue-800 mb-3",children:"Le fichier doit contenir seulement 2 colonnes :"}),s.jsxs("ul",{className:"text-sm text-blue-800 space-y-1 list-disc list-inside",children:[s.jsxs("li",{children:[s.jsx("strong",{children:"Ville"})," : Nom de la ville (Ex: Casablanca)"]}),s.jsxs("li",{children:[s.jsx("strong",{children:"code"})," : Code de la ville (Ex: A1P07)"]})]}),s.jsxs("p",{className:"text-sm text-blue-700 mt-2",children:[" Toutes les villes seront automatiquement associes au segment : ",s.jsx("strong",{children:t})]})]}),s.jsxs("button",{onClick:x,className:"w-full flex items-center justify-center gap-2 px-4 py-3 border-2 border-dashed border-gray-300 rounded-lg hover:border-blue-500 hover:bg-blue-50 transition-colors",children:[s.jsx(Es,{className:"w-5 h-5 text-blue-600"}),s.jsx("span",{className:"text-blue-600 font-medium",children:"Tlcharger le fichier template"})]}),s.jsxs("div",{children:[s.jsx("input",{ref:f,type:"file",accept:".xlsx,.xls",onChange:m,className:"hidden"}),s.jsxs("button",{onClick:()=>f.current?.click(),className:"w-full flex items-center justify-center gap-2 px-4 py-8 border-2 border-dashed border-gray-300 rounded-lg hover:border-green-500 hover:bg-green-50 transition-colors",children:[s.jsx(H0,{className:"w-8 h-8 text-green-600"}),s.jsxs("div",{className:"text-center",children:[s.jsx("p",{className:"text-green-600 font-medium",children:n?n.name:"Cliquez pour slectionner un fichier Excel"}),s.jsx("p",{className:"text-sm text-gray-500 mt-1",children:"Formats accepts : .xlsx, .xls"})]})]})]}),o&&s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{className:"flex items-center gap-2 p-4 bg-green-50 border border-green-200 rounded-lg",children:[s.jsx(Ka,{className:"w-5 h-5 text-green-600"}),s.jsxs("span",{className:"text-green-800 font-medium",children:[o.success," ville(s) importe(s) avec succs"]})]}),o.errors.length>0&&s.jsxs("div",{className:"space-y-2",children:[s.jsxs("div",{className:"flex items-center gap-2 p-4 bg-red-50 border border-red-200 rounded-lg",children:[s.jsx(Wr,{className:"w-5 h-5 text-red-600"}),s.jsxs("span",{className:"text-red-800 font-medium",children:[o.errors.length," erreur(s) dtecte(s)"]})]}),s.jsx("div",{className:"max-h-60 overflow-y-auto space-y-2",children:o.errors.map((b,v)=>s.jsxs("div",{className:"p-3 bg-white border border-red-200 rounded-lg text-sm",children:[s.jsxs("p",{className:"font-medium text-red-800",children:["Ligne ",b.row]}),s.jsx("p",{className:"text-red-600",children:b.error}),s.jsxs("p",{className:"text-gray-600 text-xs mt-1",children:["Ville: ",b.data.name||"N/A"," | Code: ",b.data.code||"N/A"]})]},v))})]})]}),s.jsxs("div",{className:"flex gap-3 pt-4 border-t border-gray-200",children:[s.jsx("button",{type:"button",onClick:r,className:"flex-1 px-4 py-2 border border-gray-300 text-gray-700 rounded-lg hover:bg-gray-50 transition-colors",children:o?"Fermer":"Annuler"}),!o&&s.jsx("button",{onClick:g,disabled:!n||i,className:"flex-1 px-4 py-2 bg-blue-600 hover:bg-blue-700 text-white rounded-lg transition-colors disabled:opacity-50 disabled:cursor-not-allowed",children:i?"Import en cours...":"Importer"})]})]})]})})}const Ud={async getAll(){return at.get("/segments")},async getById(e){try{return await at.get(`/segments/${e}`)}catch(t){if(t instanceof Error&&"status"in t&&t.status===404)return null;throw t}},async create(e,t){return at.post("/segments",{id:e,...t})},async update(e){const{id:t,...r}=e;return at.put(`/segments/${t}`,r)},async delete(e){return at.delete(`/segments/${e}`)}},ph=()=>or({queryKey:["segments"],queryFn:()=>Ud.getAll()}),Sae=()=>{const e=Pt();return It({mutationFn:async t=>{const r=Bd();return Ud.create(r,t)},onSuccess:()=>{e.invalidateQueries({queryKey:["segments"]})}})},Aae=()=>{const e=Pt();return It({mutationFn:t=>Ud.update(t),onSuccess:()=>{e.invalidateQueries({queryKey:["segments"]})}})},Eae=()=>{const e=Pt();return It({mutationFn:t=>Ud.delete(t),onSuccess:()=>{e.invalidateQueries({queryKey:["segments"]})}})};function kae(){const{data:e=[],isLoading:t,error:r}=ph(),n=Sae(),a=Aae(),i=Eae(),[l,o]=k.useState(!1),[u,f]=k.useState(null),[h,m]=k.useState(!1),[g,x]=k.useState(null),[b,v]=k.useState({name:"",color:"#3b82f6"}),w=async O=>{O.preventDefault();try{u?await a.mutateAsync({id:u,name:b.name,color:b.color}):await n.mutateAsync({name:b.name,color:b.color}),j()}catch(F){console.error("Erreur lors de la sauvegarde:",F),alert("Erreur lors de la sauvegarde du segment")}},N=O=>{v({name:O.name,color:O.color}),f(O.id),o(!0)},E=async O=>{if(confirm("tes-vous sr de vouloir supprimer ce segment ?"))try{await i.mutateAsync(O)}catch(F){console.error("Erreur lors de la suppression:",F),alert("Erreur lors de la suppression du segment")}},j=()=>{v({name:"",color:"#3b82f6"}),f(null),o(!1)},T=O=>{x({id:O.id,name:O.name}),m(!0)};return r?s.jsx("div",{className:"min-h-screen bg-gray-50 p-4 md:p-6 lg:p-8",children:s.jsx("div",{className:"max-w-6xl mx-auto",children:s.jsx("div",{className:"bg-red-50 border border-red-200 rounded-lg p-4",children:s.jsxs("p",{className:"text-red-800",children:["Erreur lors du chargement des segments: ",r.message]})})})}):s.jsxs("div",{className:"min-h-screen bg-gray-50 p-4 md:p-6 lg:p-8",children:[s.jsxs("div",{className:"max-w-6xl mx-auto",children:[s.jsxs("div",{className:"flex flex-col sm:flex-row items-start sm:items-center justify-between gap-4 mb-6",children:[s.jsxs("div",{className:"flex items-center gap-3 sm:gap-4",children:[s.jsx(Ma,{to:"/dashboard",children:s.jsx(et,{variant:"outline",size:"icon",children:s.jsx(ta,{className:"h-4 w-4"})})}),s.jsx("h1",{className:"text-2xl sm:text-3xl font-bold",children:"Gestion des Segments"})]}),s.jsxs(et,{onClick:()=>o(!l),className:"w-full sm:w-auto",children:[s.jsx(_i,{className:"mr-2 h-4 w-4"}),"Nouveau Segment"]})]}),l&&s.jsxs(hn,{className:"mb-6",children:[s.jsx(df,{children:s.jsxs(hf,{children:[u?"Modifier":"Nouveau"," Segment"]})}),s.jsx(mn,{children:s.jsxs("form",{onSubmit:w,className:"space-y-4",children:[s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[s.jsxs("div",{children:[s.jsx("label",{className:"text-sm font-medium mb-2 block",children:"Nom du segment"}),s.jsx(is,{value:b.name,onChange:O=>v({...b,name:O.target.value}),placeholder:"Ex: Formation Informatique",required:!0})]}),s.jsxs("div",{children:[s.jsx("label",{className:"text-sm font-medium mb-2 block",children:"Couleur"}),s.jsxs("div",{className:"flex gap-2",children:[s.jsx(is,{type:"color",value:b.color,onChange:O=>v({...b,color:O.target.value}),className:"w-20"}),s.jsx(is,{value:b.color,onChange:O=>v({...b,color:O.target.value}),placeholder:"#3b82f6"})]})]})]}),s.jsxs("div",{className:"flex flex-col sm:flex-row gap-2",children:[s.jsx(et,{type:"submit",disabled:n.isPending||a.isPending,className:"w-full sm:w-auto",children:n.isPending||a.isPending?"Enregistrement...":u?"Modifier":"Crer"}),s.jsx(et,{type:"button",variant:"outline",onClick:j,className:"w-full sm:w-auto",children:"Annuler"})]})]})})]}),t&&s.jsx("div",{className:"text-center py-12",children:s.jsx("p",{className:"text-gray-500",children:"Chargement des segments..."})}),!t&&s.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:e.map(O=>s.jsxs(hn,{style:{borderLeft:`4px solid ${O.color}`},children:[s.jsx(df,{children:s.jsxs(hf,{className:"flex items-center justify-between",children:[s.jsx("span",{children:O.name}),s.jsx("div",{className:"w-6 h-6 rounded",style:{backgroundColor:O.color}})]})}),s.jsx(mn,{children:s.jsxs("div",{className:"flex flex-col gap-2",children:[s.jsxs(et,{size:"sm",className:"w-full",onClick:()=>T(O),children:[s.jsx(H0,{className:"h-4 w-4 mr-2"}),"Importer des villes"]}),s.jsxs("div",{className:"flex gap-2",children:[s.jsx(et,{size:"sm",variant:"outline",onClick:()=>N(O),children:s.jsx(rF,{className:"h-4 w-4"})}),s.jsx(et,{size:"sm",variant:"destructive",onClick:()=>E(O.id),disabled:i.isPending,children:s.jsx(Bn,{className:"h-4 w-4"})})]})]})})]},O.id))}),!t&&e.length===0&&!l&&s.jsx("div",{className:"text-center py-12",children:s.jsx("p",{className:"text-gray-500",children:"Aucun segment cr pour le moment"})})]}),h&&g&&s.jsx(jae,{segmentId:g.id,segmentName:g.name,onClose:()=>{m(!1),x(null)}})]})}function Cae({cityId:e,onClose:t}){const[r,n]=k.useState({name:"",code:"",segment_id:""}),{data:a}=yae(e||""),{data:i=[]}=ph(),l=bae(),o=wae(),u=!!e;k.useEffect(()=>{a&&n({name:a.name,code:a.code,segment_id:a.segment_id})},[a]);const f=async h=>{if(h.preventDefault(),!r.name.trim()||!r.code.trim()||!r.segment_id){alert("Veuillez remplir tous les champs obligatoires");return}try{u&&e?await o.mutateAsync({id:e,...r}):await l.mutateAsync(r),t()}catch(m){console.error("Erreur lors de la sauvegarde:",m),alert("Erreur lors de la sauvegarde de la ville")}};return s.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:s.jsxs("div",{className:"bg-white rounded-lg shadow-xl w-full max-w-md max-h-[90vh] overflow-y-auto",children:[s.jsxs("div",{className:"flex items-center justify-between p-4 sm:p-6 border-b border-gray-200",children:[s.jsxs("div",{className:"flex items-center gap-2 sm:gap-3 min-w-0",children:[s.jsx("div",{className:"w-8 h-8 sm:w-10 sm:h-10 bg-green-100 rounded-lg flex items-center justify-center flex-shrink-0",children:s.jsx(Cs,{className:"w-5 h-5 sm:w-6 sm:h-6 text-green-600"})}),s.jsxs("div",{className:"min-w-0",children:[s.jsx("h2",{className:"text-lg sm:text-xl font-bold text-gray-900 truncate",children:u?"Modifier la ville":"Nouvelle ville"}),s.jsx("p",{className:"text-xs sm:text-sm text-gray-500 truncate",children:u?"Modifiez les informations":"Ajoutez une nouvelle ville"})]})]}),s.jsx("button",{onClick:t,className:"text-gray-400 hover:text-gray-600 transition-colors flex-shrink-0 ml-2",children:s.jsx(ma,{className:"w-5 h-5 sm:w-6 sm:h-6"})})]}),s.jsxs("form",{onSubmit:f,className:"p-4 sm:p-6 space-y-4 sm:space-y-6",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Nom de la ville *"}),s.jsxs("div",{className:"relative",children:[s.jsx(Cs,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 w-5 h-5"}),s.jsx("input",{type:"text",required:!0,value:r.name,onChange:h=>n({...r,name:h.target.value}),placeholder:"Ex: Casablanca",className:"w-full pl-10 pr-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-green-500 focus:border-transparent"})]})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Code de la ville *"}),s.jsxs("div",{className:"relative",children:[s.jsx(I_,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 w-5 h-5"}),s.jsx("input",{type:"text",required:!0,value:r.code,onChange:h=>n({...r,code:h.target.value.toUpperCase()}),placeholder:"Ex: CASA",className:"w-full pl-10 pr-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-green-500 focus:border-transparent uppercase",maxLength:10})]}),s.jsx("p",{className:"mt-1 text-xs text-gray-500",children:"Code court pour identifier la ville (max 10 caractres)"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Segment de formation *"}),s.jsxs("div",{className:"relative",children:[s.jsx(B_,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 w-5 h-5"}),s.jsxs("select",{required:!0,value:r.segment_id,onChange:h=>n({...r,segment_id:h.target.value}),className:"w-full pl-10 pr-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-green-500 focus:border-transparent appearance-none",children:[s.jsx("option",{value:"",children:"Slectionnez un segment"}),i.map(h=>s.jsx("option",{value:h.id,children:h.name},h.id))]})]}),i.length===0&&s.jsx("p",{className:"mt-1 text-xs text-amber-600",children:"Aucun segment disponible. Veuillez crer un segment d'abord."})]}),s.jsxs("div",{className:"flex gap-3 pt-4 border-t border-gray-200",children:[s.jsx("button",{type:"button",onClick:t,className:"flex-1 px-4 py-2 border border-gray-300 text-gray-700 rounded-lg hover:bg-gray-50 transition-colors",children:"Annuler"}),s.jsx("button",{type:"submit",disabled:l.isPending||o.isPending,className:"flex-1 px-4 py-2 bg-green-600 hover:bg-green-700 text-white rounded-lg transition-colors disabled:opacity-50 disabled:cursor-not-allowed",children:l.isPending||o.isPending?"Enregistrement...":u?"Mettre  jour":"Crer"})]})]})]})})}function Tae(){const e=Fn(),[t,r]=k.useState(""),[n,a]=k.useState(!1),[i,l]=k.useState(null),[o,u]=k.useState("all"),[f,h]=k.useState([]),{data:m=[],isLoading:g}=Og(),{data:x=[]}=ph(),b=Nae(),v=m.filter(F=>{const D=F.name.toLowerCase().includes(t.toLowerCase())||F.code.toLowerCase().includes(t.toLowerCase()),L=o==="all"||F.segment_id===o;return D&&L}),w=F=>{l(F),a(!0)},N=F=>{h(D=>D.includes(F)?D.filter(L=>L!==F):[...D,F])},E=()=>{f.length===v.length&&v.length>0?h([]):h(v.map(F=>F.id))},j=async(F,D)=>{if(window.confirm(`tes-vous sr de vouloir supprimer la ville "${D}" ?`))try{await b.mutateAsync(F)}catch(L){console.error("Erreur lors de la suppression:",L),alert("Erreur lors de la suppression de la ville")}},T=async()=>{if(f.length===0){alert("Veuillez slectionner au moins une ville  supprimer");return}if(window.confirm(`tes-vous sr de vouloir supprimer ${f.length} ville(s) slectionne(s) ?

Cette action est irrversible.`))try{for(const F of f)await b.mutateAsync(F);h([])}catch(F){console.error("Erreur lors de la suppression en masse:",F),alert("Erreur lors de la suppression des villes")}},O=()=>{a(!1),l(null)};return s.jsxs("div",{className:"p-4 md:p-6 lg:p-8",children:[s.jsxs("div",{className:"mb-4 sm:mb-6",children:[s.jsxs("div",{className:"flex items-center gap-3 sm:gap-4 mb-2",children:[s.jsx("button",{onClick:()=>e("/dashboard"),className:"p-2 hover:bg-gray-100 rounded-lg transition-colors flex-shrink-0",title:"Retour au tableau de bord",children:s.jsx(ta,{className:"w-5 h-5 sm:w-6 sm:h-6 text-gray-600"})}),s.jsxs("h1",{className:"text-xl sm:text-2xl md:text-3xl font-bold text-gray-900 flex items-center gap-2",children:[s.jsx(Cs,{className:"w-6 h-6 sm:w-7 sm:h-7 md:w-8 md:h-8 text-green-600"}),s.jsx("span",{className:"truncate",children:"Gestion des Villes"})]})]}),s.jsx("p",{className:"text-sm sm:text-base text-gray-600 mt-2 ml-10 sm:ml-12 md:ml-14",children:"Grer les villes et leur affectation"})]}),s.jsx("div",{className:"bg-white rounded-lg shadow-sm p-4 mb-6",children:s.jsxs("div",{className:"flex flex-col md:flex-row gap-4 items-center justify-between",children:[s.jsxs("div",{className:"flex flex-col md:flex-row gap-4 w-full md:w-auto",children:[s.jsxs("div",{className:"relative flex-1 md:w-80",children:[s.jsx(ap,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 w-5 h-5"}),s.jsx("input",{type:"text",placeholder:"Rechercher une ville...",value:t,onChange:F=>r(F.target.value),className:"w-full pl-10 pr-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-green-500 focus:border-transparent"})]}),s.jsxs("select",{value:o,onChange:F=>u(F.target.value),className:"px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-green-500 focus:border-transparent",children:[s.jsx("option",{value:"all",children:"Tous les segments"}),x.map(F=>s.jsx("option",{value:F.id,children:F.name},F.id))]})]}),s.jsxs("div",{className:"flex flex-col sm:flex-row gap-2 w-full md:w-auto",children:[f.length>0&&s.jsxs("button",{onClick:T,className:"w-full sm:w-auto bg-red-600 hover:bg-red-700 text-white px-4 sm:px-6 py-2 rounded-lg flex items-center justify-center gap-2 transition-colors",children:[s.jsx(Bn,{className:"w-4 h-4 sm:w-5 sm:h-5"}),s.jsxs("span",{className:"text-sm sm:text-base",children:["Supprimer (",f.length,")"]})]}),s.jsxs("button",{onClick:()=>a(!0),className:"w-full sm:w-auto bg-green-600 hover:bg-green-700 text-white px-4 sm:px-6 py-2 rounded-lg flex items-center justify-center gap-2 transition-colors",children:[s.jsx(_i,{className:"w-4 h-4 sm:w-5 sm:h-5"}),s.jsx("span",{className:"text-sm sm:text-base",children:"Nouvelle Ville"})]})]})]})}),g?s.jsxs("div",{className:"bg-white rounded-lg shadow-sm p-8 text-center",children:[s.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-green-600 mx-auto"}),s.jsx("p",{className:"mt-4 text-gray-600",children:"Chargement..."})]}):v.length===0?s.jsxs("div",{className:"bg-white rounded-lg shadow-sm p-8 text-center",children:[s.jsx(Cs,{className:"w-16 h-16 text-gray-300 mx-auto mb-4"}),s.jsx("p",{className:"text-gray-600 text-lg",children:t||o!=="all"?"Aucune ville trouve":"Aucune ville enregistre"}),s.jsx("p",{className:"text-gray-400 mt-2",children:t||o!=="all"?"Essayez de modifier vos critres de recherche":"Commencez par crer une nouvelle ville"})]}):s.jsxs("div",{className:"bg-white rounded-lg shadow-sm overflow-hidden",children:[s.jsx("div",{className:"overflow-x-auto",children:s.jsxs("table",{className:"w-full",children:[s.jsx("thead",{className:"bg-gray-50 border-b border-gray-200",children:s.jsxs("tr",{children:[s.jsx("th",{className:"px-6 py-3 text-left",children:s.jsx("input",{type:"checkbox",checked:f.length===v.length&&v.length>0,onChange:E,className:"w-4 h-4 text-green-600 border-gray-300 rounded focus:ring-green-500"})}),s.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Code"}),s.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Nom de la ville"}),s.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Segment"}),s.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Date de cration"}),s.jsx("th",{className:"px-6 py-3 text-right text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Actions"})]})}),s.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:v.map(F=>s.jsxs("tr",{className:"hover:bg-gray-50 transition-colors",children:[s.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:s.jsx("input",{type:"checkbox",checked:f.includes(F.id),onChange:()=>N(F.id),className:"w-4 h-4 text-green-600 border-gray-300 rounded focus:ring-green-500"})}),s.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:s.jsx("span",{className:"text-sm font-medium text-gray-900",children:F.code})}),s.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:s.jsxs("div",{className:"flex items-center",children:[s.jsx(Cs,{className:"w-4 h-4 text-green-600 mr-2"}),s.jsx("span",{className:"text-sm font-medium text-gray-900",children:F.name})]})}),s.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:s.jsx("span",{className:"inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium bg-blue-100 text-blue-800",children:F.segment_name||"N/A"})}),s.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:new Date(F.created_at).toLocaleDateString("fr-FR")}),s.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-right text-sm font-medium",children:s.jsxs("div",{className:"flex items-center justify-end gap-2",children:[s.jsx("button",{onClick:()=>w(F.id),className:"text-blue-600 hover:text-blue-900 p-2 hover:bg-blue-50 rounded-lg transition-colors",title:"Modifier",children:s.jsx(zm,{className:"w-4 h-4"})}),s.jsx("button",{onClick:()=>j(F.id,F.name),className:"text-red-600 hover:text-red-900 p-2 hover:bg-red-50 rounded-lg transition-colors",title:"Supprimer",children:s.jsx(Bn,{className:"w-4 h-4"})})]})})]},F.id))})]})}),s.jsx("div",{className:"bg-gray-50 px-6 py-3 border-t border-gray-200",children:s.jsxs("p",{className:"text-sm text-gray-600",children:["Affichage de ",v.length," ville(s)",o!=="all"&&" filtre(s)"]})})]}),n&&s.jsx(Cae,{cityId:i,onClose:O})]})}const io={async getAll(){return at.get("/profiles")},async getById(e){try{return await at.get(`/profiles/${e}`)}catch(t){if(t instanceof Error&&"status"in t&&t.status===404)return null;throw t}},async create(e){return at.post("/profiles",e)},async update(e){const{id:t,...r}=e;return at.put(`/profiles/${t}`,r)},async delete(e){return at.delete(`/profiles/${e}`)}};function Oae(e){return or({queryKey:["users",e],queryFn:async()=>{const t=await io.getAll();return!e||e==="all"?t:t.filter(r=>r.role===e)}})}function Dae(){const e=Pt();return It({mutationFn:async t=>{const r=Bd();return io.create({id:r,...t})},onSuccess:()=>{e.invalidateQueries({queryKey:["users"]})}})}function Fae(){const e=Pt();return It({mutationFn:t=>io.update(t),onSuccess:()=>{e.invalidateQueries({queryKey:["users"]}),e.invalidateQueries({queryKey:["user"]})}})}function Pae(){const e=Pt();return It({mutationFn:t=>io.delete(t),onSuccess:()=>{e.invalidateQueries({queryKey:["users"]})}})}function Lae(){const e=Pt();return It({mutationFn:async t=>io.update({id:t.user_id,segment_ids:t.segment_ids}),onSuccess:(t,r)=>{e.invalidateQueries({queryKey:["user",r.user_id]}),e.invalidateQueries({queryKey:["users"]})}})}function Mae(){const e=Pt();return It({mutationFn:async t=>io.update({id:t.user_id,city_ids:t.city_ids}),onSuccess:(t,r)=>{e.invalidateQueries({queryKey:["user",r.user_id]}),e.invalidateQueries({queryKey:["users"]})}})}function dL(){return or({queryKey:["segments"],queryFn:()=>Ud.getAll()})}function Rae(){return or({queryKey:["cities"],queryFn:()=>Ec.getAll()})}function Iae(e){return or({queryKey:["user",e,"segments"],queryFn:async()=>{const t=await io.getById(e);return!t||!t.segment_ids?[]:(await Ud.getAll()).filter(n=>t.segment_ids?.includes(n.id))},enabled:!!e})}function Bae(e){return or({queryKey:["user",e,"cities"],queryFn:async()=>{const t=await io.getById(e);return!t||!t.city_ids?[]:(await Ec.getAll()).filter(n=>t.city_ids?.includes(n.id))},enabled:!!e})}const Uae=()=>{const[e,t]=k.useState("all"),[r,n]=k.useState(!1),[a,i]=k.useState(!1),[l,o]=k.useState(!1),[u,f]=k.useState(!1),[h,m]=k.useState(null),{data:g,isLoading:x}=Oae(e),b=Dae(),v=Fae(),w=Pae(),N=async T=>{if(window.confirm("tes-vous sr de vouloir supprimer cet utilisateur ?"))try{await w.mutateAsync(T)}catch(O){console.error("Error deleting user:",O),alert("Erreur lors de la suppression")}},E=T=>{const F={admin:{label:"Administrateur",color:"bg-red-100 text-red-800",icon:Y4},professor:{label:"Professeur",color:"bg-blue-100 text-blue-800",icon:$x},gerant:{label:"Grant",color:"bg-green-100 text-green-800",icon:ls}}[T];if(!F)return null;const D=F.icon;return s.jsxs("span",{className:`inline-flex items-center gap-1.5 px-3 py-1 rounded-full text-xs font-medium ${F.color}`,children:[s.jsx(D,{className:"w-3.5 h-3.5"}),F.label]})},j={total:g?.length||0,admin:g?.filter(T=>T.role==="admin").length||0,professor:g?.filter(T=>T.role==="professor").length||0,gerant:g?.filter(T=>T.role==="gerant").length||0};return s.jsxs("div",{className:"min-h-screen bg-gray-50",children:[s.jsx("header",{className:"bg-white shadow-sm",children:s.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-3 sm:py-4",children:s.jsxs("div",{className:"flex flex-col sm:flex-row items-start sm:items-center justify-between gap-4",children:[s.jsxs("div",{className:"flex items-start sm:items-center gap-3 sm:gap-4 flex-col sm:flex-row w-full sm:w-auto",children:[s.jsx(Ma,{to:"/dashboard",children:s.jsxs(et,{variant:"outline",size:"sm",className:"w-full sm:w-auto",children:[s.jsx(ta,{className:"w-4 h-4 mr-2"}),"Retour"]})}),s.jsxs("div",{children:[s.jsx("h1",{className:"text-xl sm:text-2xl font-bold text-gray-900",children:"Gestion des Utilisateurs"}),s.jsx("p",{className:"text-xs sm:text-sm text-gray-600 hidden sm:block",children:"Crer et grer les comptes utilisateurs (admin, professeur, grant)"})]})]}),s.jsxs(et,{onClick:()=>n(!0),className:"w-full sm:w-auto",children:[s.jsx(_i,{className:"w-4 h-4 mr-2"}),"Nouvel utilisateur"]})]})})}),s.jsxs("main",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:[s.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4 mb-6",children:[s.jsx(hn,{children:s.jsx(mn,{className:"pt-6",children:s.jsxs("div",{className:"text-center",children:[s.jsx("p",{className:"text-2xl font-bold text-gray-900",children:j.total}),s.jsx("p",{className:"text-sm text-gray-600",children:"Total"})]})})}),s.jsx(hn,{children:s.jsx(mn,{className:"pt-6",children:s.jsxs("div",{className:"text-center",children:[s.jsx("p",{className:"text-2xl font-bold text-red-600",children:j.admin}),s.jsx("p",{className:"text-sm text-gray-600",children:"Administrateurs"})]})})}),s.jsx(hn,{children:s.jsx(mn,{className:"pt-6",children:s.jsxs("div",{className:"text-center",children:[s.jsx("p",{className:"text-2xl font-bold text-blue-600",children:j.professor}),s.jsx("p",{className:"text-sm text-gray-600",children:"Professeurs"})]})})}),s.jsx(hn,{children:s.jsx(mn,{className:"pt-6",children:s.jsxs("div",{className:"text-center",children:[s.jsx("p",{className:"text-2xl font-bold text-green-600",children:j.gerant}),s.jsx("p",{className:"text-sm text-gray-600",children:"Grants"})]})})})]}),s.jsxs(hn,{className:"mb-6",children:[s.jsx(df,{children:s.jsx(hf,{children:"Filtrer par rle"})}),s.jsx(mn,{children:s.jsxs("div",{className:"flex flex-wrap gap-2",children:[s.jsxs(et,{variant:e==="all"?"default":"outline",size:"sm",onClick:()=>t("all"),children:["Tous (",j.total,")"]}),s.jsxs(et,{variant:e==="admin"?"default":"outline",size:"sm",onClick:()=>t("admin"),children:["Administrateurs (",j.admin,")"]}),s.jsxs(et,{variant:e==="professor"?"default":"outline",size:"sm",onClick:()=>t("professor"),children:["Professeurs (",j.professor,")"]}),s.jsxs(et,{variant:e==="gerant"?"default":"outline",size:"sm",onClick:()=>t("gerant"),children:["Grants (",j.gerant,")"]})]})})]}),s.jsx(hn,{children:s.jsx(mn,{className:"pt-6",children:x?s.jsxs("div",{className:"text-center py-8",children:[s.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-blue-600 mx-auto"}),s.jsx("p",{className:"text-gray-600 mt-2",children:"Chargement..."})]}):!g||g.length===0?s.jsxs("div",{className:"text-center py-12",children:[s.jsx(ls,{className:"w-16 h-16 text-gray-400 mx-auto mb-4"}),s.jsx("p",{className:"text-gray-500",children:"Aucun utilisateur trouv"})]}):s.jsx("div",{className:"overflow-x-auto",children:s.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[s.jsx("thead",{className:"bg-gray-50",children:s.jsxs("tr",{children:[s.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Nom complet"}),s.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Nom d'utilisateur"}),s.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Rle"}),s.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Date cration"}),s.jsx("th",{className:"px-6 py-3 text-right text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Actions"})]})}),s.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:g.map(T=>s.jsxs("tr",{className:"hover:bg-gray-50",children:[s.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-medium text-gray-900",children:T.full_name}),s.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:T.username}),s.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:E(T.role)}),s.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:new Date(T.created_at).toLocaleDateString("fr-FR")}),s.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-right text-sm font-medium",children:s.jsxs("div",{className:"flex items-center justify-end gap-2",children:[(T.role==="professor"||T.role==="gerant")&&s.jsx(et,{variant:"outline",size:"sm",onClick:()=>{m(T),o(!0)},title:"Assigner segments",children:s.jsx(du,{className:"w-4 h-4"})}),(T.role==="professor"||T.role==="gerant")&&s.jsx(et,{variant:"outline",size:"sm",onClick:()=>{m(T),f(!0)},title:"Assigner villes",children:s.jsx(Cs,{className:"w-4 h-4"})}),s.jsx(et,{variant:"outline",size:"sm",onClick:()=>{m(T),i(!0)},children:s.jsx(rF,{className:"w-4 h-4"})}),s.jsx(et,{variant:"outline",size:"sm",onClick:()=>N(T.id),className:"text-red-600 hover:text-red-700",children:s.jsx(Bn,{className:"w-4 h-4"})})]})})]},T.id))})]})})})})]}),r&&s.jsx(zae,{onClose:()=>n(!1),createUser:b}),a&&h&&s.jsx(qae,{user:h,onClose:()=>{i(!1),m(null)},updateUser:v}),l&&h&&s.jsx($ae,{user:h,onClose:()=>{o(!1),m(null)}}),u&&h&&s.jsx(Hae,{user:h,onClose:()=>{f(!1),m(null)}})]})},zae=({onClose:e,createUser:t})=>{const[r,n]=k.useState({username:"",password:"",full_name:"",role:"professor"}),[a,i]=k.useState(!1),l=async o=>{if(o.preventDefault(),!r.username||!r.password||!r.full_name){alert("Veuillez remplir tous les champs");return}try{await t.mutateAsync(r),e()}catch(u){console.error("Error creating user:",u),alert("Erreur lors de la cration de l'utilisateur")}};return s.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:s.jsxs("div",{className:"bg-white rounded-lg shadow-xl p-6 w-full max-w-md",children:[s.jsx("h2",{className:"text-xl font-bold text-gray-900 mb-4",children:"Nouvel utilisateur"}),s.jsxs("form",{onSubmit:l,className:"space-y-4",children:[s.jsxs("div",{children:[s.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:["Nom complet ",s.jsx("span",{className:"text-red-500",children:"*"})]}),s.jsx("input",{type:"text",value:r.full_name,onChange:o=>n({...r,full_name:o.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",placeholder:"Jean Dupont",required:!0})]}),s.jsxs("div",{children:[s.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:["Nom d'utilisateur ",s.jsx("span",{className:"text-red-500",children:"*"})]}),s.jsx("input",{type:"text",value:r.username,onChange:o=>n({...r,username:o.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",placeholder:"jeandupont",required:!0})]}),s.jsxs("div",{children:[s.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:["Mot de passe ",s.jsx("span",{className:"text-red-500",children:"*"})]}),s.jsxs("div",{className:"relative",children:[s.jsx("input",{type:a?"text":"password",value:r.password,onChange:o=>n({...r,password:o.target.value}),className:"w-full px-3 py-2 pr-10 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",placeholder:"",required:!0}),s.jsx("button",{type:"button",onClick:()=>i(!a),className:"absolute right-2 top-1/2 -translate-y-1/2 p-1 text-gray-500 hover:text-gray-700 focus:outline-none",tabIndex:-1,children:a?s.jsx(Xs,{className:"w-5 h-5"}):s.jsx(Ds,{className:"w-5 h-5"})})]})]}),s.jsxs("div",{children:[s.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:["Rle ",s.jsx("span",{className:"text-red-500",children:"*"})]}),s.jsxs("select",{value:r.role,onChange:o=>n({...r,role:o.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",required:!0,children:[s.jsx("option",{value:"professor",children:"Professeur"}),s.jsx("option",{value:"gerant",children:"Grant"}),s.jsx("option",{value:"admin",children:"Administrateur"})]})]}),s.jsxs("div",{className:"flex justify-end gap-3 mt-6",children:[s.jsx(et,{type:"button",variant:"outline",onClick:e,children:"Annuler"}),s.jsx(et,{type:"submit",disabled:t.isPending,children:t.isPending?"Cration...":"Crer"})]})]})]})})},qae=({user:e,onClose:t,updateUser:r})=>{const[n,a]=k.useState({username:e.username,password:"",full_name:e.full_name,role:e.role}),[i,l]=k.useState(!1),o=async u=>{u.preventDefault();try{const f={id:e.id,username:n.username,full_name:n.full_name,role:n.role};n.password&&(f.password=n.password),await r.mutateAsync(f),t()}catch(f){console.error("Error updating user:",f),alert("Erreur lors de la mise  jour")}};return s.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:s.jsxs("div",{className:"bg-white rounded-lg shadow-xl p-6 w-full max-w-md",children:[s.jsx("h2",{className:"text-xl font-bold text-gray-900 mb-4",children:"Modifier l'utilisateur"}),s.jsxs("form",{onSubmit:o,className:"space-y-4",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Nom complet"}),s.jsx("input",{type:"text",value:n.full_name,onChange:u=>a({...n,full_name:u.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Nom d'utilisateur"}),s.jsx("input",{type:"text",value:n.username,onChange:u=>a({...n,username:u.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Nouveau mot de passe (laisser vide pour ne pas modifier)"}),s.jsxs("div",{className:"relative",children:[s.jsx("input",{type:i?"text":"password",value:n.password,onChange:u=>a({...n,password:u.target.value}),className:"w-full px-3 py-2 pr-10 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",placeholder:""}),s.jsx("button",{type:"button",onClick:()=>l(!i),className:"absolute right-2 top-1/2 -translate-y-1/2 p-1 text-gray-500 hover:text-gray-700 focus:outline-none",tabIndex:-1,children:i?s.jsx(Xs,{className:"w-5 h-5"}):s.jsx(Ds,{className:"w-5 h-5"})})]})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Rle"}),s.jsxs("select",{value:n.role,onChange:u=>a({...n,role:u.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",children:[s.jsx("option",{value:"professor",children:"Professeur"}),s.jsx("option",{value:"gerant",children:"Grant"}),s.jsx("option",{value:"admin",children:"Administrateur"})]})]}),s.jsxs("div",{className:"flex justify-end gap-3 mt-6",children:[s.jsx(et,{type:"button",variant:"outline",onClick:t,children:"Annuler"}),s.jsx(et,{type:"submit",disabled:r.isPending,children:r.isPending?"Mise  jour...":"Mettre  jour"})]})]})]})})},$ae=({user:e,onClose:t})=>{const{data:r}=dL(),{data:n}=Iae(e.id),a=Lae(),[i,l]=k.useState([]);Zu.useEffect(()=>{n&&l(n.map(f=>f.id))},[n]);const o=async f=>{f.preventDefault();try{await a.mutateAsync({user_id:e.id,segment_ids:i,role:e.role}),t()}catch(h){console.error("Error assigning segments:",h),alert("Erreur lors de l'assignation")}},u=f=>{l(h=>h.includes(f)?h.filter(m=>m!==f):[...h,f])};return s.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:s.jsxs("div",{className:"bg-white rounded-lg shadow-xl p-6 w-full max-w-md",children:[s.jsxs("h2",{className:"text-xl font-bold text-gray-900 mb-4",children:["Assigner des segments  ",e.full_name]}),s.jsxs("form",{onSubmit:o,children:[s.jsx("div",{className:"space-y-2 max-h-96 overflow-y-auto mb-4",children:r?.map(f=>s.jsxs("label",{className:"flex items-center p-3 border border-gray-200 rounded-lg hover:bg-gray-50 cursor-pointer",children:[s.jsx("input",{type:"checkbox",checked:i.includes(f.id),onChange:()=>u(f.id),className:"mr-3 h-4 w-4 text-blue-600 focus:ring-blue-500 border-gray-300 rounded"}),s.jsx("div",{className:"flex-1",children:s.jsx("span",{className:"font-medium text-gray-900",children:f.name})}),s.jsx("div",{className:"w-4 h-4 rounded-full ml-2",style:{backgroundColor:f.color}})]},f.id))}),s.jsxs("div",{className:"flex justify-end gap-3",children:[s.jsx(et,{type:"button",variant:"outline",onClick:t,children:"Annuler"}),s.jsx(et,{type:"submit",disabled:a.isPending,children:a.isPending?"Assignation...":"Assigner"})]})]})]})})},Hae=({user:e,onClose:t})=>{const{data:r}=Rae(),{data:n}=dL(),{data:a}=Bae(e.id),i=Mae(),[l,o]=k.useState([]);Zu.useEffect(()=>{a&&o(a.map(m=>m.id))},[a]);const u=async m=>{m.preventDefault();try{await i.mutateAsync({user_id:e.id,city_ids:l,role:e.role}),t()}catch(g){console.error("Error assigning cities:",g),alert("Erreur lors de l'assignation")}},f=m=>{o(g=>g.includes(m)?g.filter(x=>x!==m):[...g,m])},h=m=>n?.find(g=>g.id===m)?.name||"";return s.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:s.jsxs("div",{className:"bg-white rounded-lg shadow-xl p-6 w-full max-w-md",children:[s.jsxs("h2",{className:"text-xl font-bold text-gray-900 mb-4",children:["Assigner des villes  ",e.full_name]}),s.jsxs("form",{onSubmit:u,children:[s.jsx("div",{className:"space-y-2 max-h-96 overflow-y-auto mb-4",children:r?.map(m=>s.jsxs("label",{className:"flex items-center p-3 border border-gray-200 rounded-lg hover:bg-gray-50 cursor-pointer",children:[s.jsx("input",{type:"checkbox",checked:l.includes(m.id),onChange:()=>f(m.id),className:"mr-3 h-4 w-4 text-blue-600 focus:ring-blue-500 border-gray-300 rounded"}),s.jsxs("div",{className:"flex-1",children:[s.jsx("span",{className:"font-medium text-gray-900",children:m.name}),s.jsxs("span",{className:"text-xs text-gray-500 ml-2",children:["(",h(m.segment_id),")"]})]})]},m.id))}),s.jsxs("div",{className:"flex justify-end gap-3",children:[s.jsx(et,{type:"button",variant:"outline",onClick:t,children:"Annuler"}),s.jsx(et,{type:"submit",disabled:i.isPending,children:i.isPending?"Assignation...":"Assigner"})]})]})]})})};class Vae{input="";pos=0;currentChar=null;parse(t){try{if(this.input=t.trim(),this.pos=0,this.currentChar=this.input.length>0?this.input[0]:null,!this.currentChar)return{success:!1,error:"Expression vide"};const r=this.parseExpression();return this.skipWhitespace(),this.currentChar!==null?{success:!1,error:`Caractre inattendu: ${this.currentChar}`}:{success:!0,ast:r}}catch(r){return{success:!1,error:r.message||"Erreur de parsing"}}}advance(){this.pos++,this.currentChar=this.pos<this.input.length?this.input[this.pos]:null}peek(t=1){const r=this.pos+t;return r<this.input.length?this.input[r]:null}skipWhitespace(){for(;this.currentChar&&/\s/.test(this.currentChar);)this.advance()}parseExpression(){let t=this.parseTerm();for(this.skipWhitespace();this.currentChar==="+"||this.currentChar==="-";){const r=this.currentChar;this.advance(),this.skipWhitespace();const n=this.parseTerm();this.skipWhitespace(),t={type:"binary",operator:r,left:t,right:n}}return t}parseTerm(){let t=this.parseFactor();for(this.skipWhitespace();this.currentChar==="*"||this.currentChar==="/";){const r=this.currentChar;this.advance(),this.skipWhitespace();const n=this.parseFactor();this.skipWhitespace(),t={type:"binary",operator:r,left:t,right:n}}return t}parsePostfix(){let t=this.parsePrimary();return this.skipWhitespace(),this.currentChar==="%"&&(this.advance(),t={type:"postfix",operator:"%",operand:t}),t}parseFactor(){let t=this.parseUnary();for(this.skipWhitespace();this.currentChar==="^";){this.advance(),this.skipWhitespace();const r=this.parseUnary();this.skipWhitespace(),t={type:"binary",operator:"^",left:t,right:r}}return t}parseUnary(){if(this.currentChar==="-"||this.currentChar==="+"){const t=this.currentChar;this.advance();const r=this.parseUnary();return{type:"unary",operator:t,operand:r}}return this.parsePostfix()}parsePrimary(){if(this.skipWhitespace(),this.currentChar&&/[0-9.]/.test(this.currentChar))return this.parseNumber();if(this.currentChar==='"')return this.parseString();if(this.currentChar&&/[A-Za-z_]/.test(this.currentChar))return this.parseIdentifier();if(this.currentChar==="("){this.advance();const t=this.parseExpression();if(this.skipWhitespace(),this.currentChar!==")")throw new Error("Parenthse fermante manquante");return this.advance(),t}if(this.currentChar===">"||this.currentChar==="<"||this.currentChar==="=")return this.parseComparison();throw new Error(`Caractre inattendu: ${this.currentChar}`)}parseNumber(){let t="",r=!1;for(;this.currentChar&&(/[0-9]/.test(this.currentChar)||this.currentChar===".");){if(this.currentChar==="."){if(r)throw new Error("Nombre invalide: deux points dcimaux");r=!0}t+=this.currentChar,this.advance()}const n=parseFloat(t);if(isNaN(n))throw new Error(`Nombre invalide: ${t}`);return{type:"number",value:n}}parseString(){this.advance();let t="";for(;this.currentChar&&this.currentChar!=='"';)this.currentChar==="\\"&&this.peek()==='"'?(this.advance(),t+='"',this.advance()):(t+=this.currentChar,this.advance());if(this.currentChar!=='"')throw new Error("Guillemet fermant manquant");return this.advance(),{type:"string",value:t}}parseIdentifier(){let t="";for(;this.currentChar&&/[A-Za-z0-9_]/.test(this.currentChar);)t+=this.currentChar,this.advance();return this.skipWhitespace(),t.toUpperCase()==="TRUE"?{type:"boolean",value:!0}:t.toUpperCase()==="FALSE"?{type:"boolean",value:!1}:this.currentChar==="("?this.parseFunction(t):{type:"reference",name:t}}parseFunction(t){this.advance();const r=[];if(this.skipWhitespace(),this.currentChar===")")return this.advance(),{type:"function",name:t.toUpperCase(),args:r};for(;;){if(r.push(this.parseExpression()),this.skipWhitespace(),this.currentChar===")"){this.advance();break}if(this.currentChar===","){this.advance(),this.skipWhitespace();continue}throw new Error("Virgule ou parenthse fermante attendue dans la fonction")}return{type:"function",name:t.toUpperCase(),args:r}}parseComparison(){throw new Error("Comparaisons not yet implemented")}}function hL(e){return new Vae().parse(e)}const cN={SUM:e=>{let t=0;for(const r of e)if(typeof r=="number")t+=r;else if(typeof r=="string"){const n=parseFloat(r);isNaN(n)||(t+=n)}return t},AVG:e=>{if(e.length===0)return"#ERR";const t=cN.SUM(e);return typeof t=="number"?t/e.length:"#ERR"},MIN:e=>{const t=e.filter(r=>typeof r=="number");return t.length>0?Math.min(...t):"#ERR"},MAX:e=>{const t=e.filter(r=>typeof r=="number");return t.length>0?Math.max(...t):"#ERR"},COUNT:e=>e.filter(t=>t!=null).length,IF:e=>{if(e.length<2)return"#ERR";const t=e[0],r=e[1],n=e.length>2?e[2]:null;return t?r:n},ROUND:e=>{if(e.length===0)return"#ERR";const t=typeof e[0]=="number"?e[0]:parseFloat(String(e[0])),r=e.length>1&&typeof e[1]=="number"?e[1]:0;if(isNaN(t))return"#TYPE!";const n=Math.pow(10,r);return Math.round(t*n)/n},FLOOR:e=>{if(e.length===0)return"#ERR";const t=typeof e[0]=="number"?e[0]:parseFloat(String(e[0]));return isNaN(t)?"#TYPE!":Math.floor(t)},CEIL:e=>{if(e.length===0)return"#ERR";const t=typeof e[0]=="number"?e[0]:parseFloat(String(e[0]));return isNaN(t)?"#TYPE!":Math.ceil(t)},ABS:e=>{if(e.length===0)return"#ERR";const t=typeof e[0]=="number"?e[0]:parseFloat(String(e[0]));return isNaN(t)?"#TYPE!":Math.abs(t)},LEN:e=>e.length===0?"#ERR":String(e[0]||"").length,CONCAT:e=>e.map(t=>String(t||"")).join(""),COALESCE:e=>{for(const t of e)if(t!=null&&t!=="")return t;return null},TODAY:()=>new Date().toISOString().split("T")[0],DATE:e=>{if(e.length<3)return"#ERR";const t=Number(e[0]),r=Number(e[1]),n=Number(e[2]);return isNaN(t)||isNaN(r)||isNaN(n)?"#TYPE!":new Date(t,r-1,n).toISOString().split("T")[0]},YEAR:e=>{if(e.length===0)return"#ERR";const t=String(e[0]),r=new Date(t);return isNaN(r.getTime())?"#TYPE!":r.getFullYear()},MONTH:e=>{if(e.length===0)return"#ERR";const t=String(e[0]),r=new Date(t);return isNaN(r.getTime())?"#TYPE!":r.getMonth()+1},DAY:e=>{if(e.length===0)return"#ERR";const t=String(e[0]),r=new Date(t);return isNaN(r.getTime())?"#TYPE!":r.getDate()},NUMBER:e=>{if(e.length===0)return"#ERR";const t=parseFloat(String(e[0]));return isNaN(t)?"#TYPE!":t}};class Wae{context;constructor(t={}){this.context=t}setContext(t){this.context=t}evaluate(t){try{const r=this.evaluateNode(t),n=typeof r=="string"&&r.startsWith("#");return{value:r,isError:n}}catch{return{value:"#ERR",isError:!0}}}evaluateNode(t){switch(t.type){case"number":return t.value;case"string":return t.value;case"boolean":return t.value;case"reference":return this.evaluateReference(t.name);case"binary":return this.evaluateBinary(t.operator,t.left,t.right);case"unary":return this.evaluateUnary(t.operator,t.operand);case"postfix":return this.evaluatePostfix(t.operator,t.operand);case"function":return this.evaluateFunction(t.name,t.args);case"error":return t.error;default:return"#ERR"}}evaluateReference(t){return t in this.context?this.context[t]:"#REF!"}evaluateBinary(t,r,n){const a=this.evaluateNode(r),i=this.evaluateNode(n);if(typeof a=="string"&&a.startsWith("#"))return a;if(typeof i=="string"&&i.startsWith("#"))return i;const l=typeof a=="number"?a:parseFloat(String(a)),o=typeof i=="number"?i:parseFloat(String(i));if(isNaN(l)||isNaN(o))return"#TYPE!";switch(t){case"+":return l+o;case"-":return l-o;case"*":return l*o;case"/":return o===0?"#DIV/0!":l/o;case"^":return Math.pow(l,o);case">":return l>o;case"<":return l<o;case">=":return l>=o;case"<=":return l<=o;case"=":case"==":return l===o;case"!=":case"<>":return l!==o;default:return"#ERR"}}evaluateUnary(t,r){const n=this.evaluateNode(r);if(typeof n=="string"&&n.startsWith("#"))return n;const a=typeof n=="number"?n:parseFloat(String(n));if(isNaN(a))return"#TYPE!";switch(t){case"-":return-a;case"+":return a;default:return"#ERR"}}evaluatePostfix(t,r){const n=this.evaluateNode(r);if(typeof n=="string"&&n.startsWith("#"))return n;const a=typeof n=="number"?n:parseFloat(String(n));if(isNaN(a))return"#TYPE!";switch(t){case"%":return a/100;default:return"#ERR"}}evaluateFunction(t,r){const n=t.toUpperCase();if(!(n in cN))return"#ERR";const a=[];for(const i of r){const l=this.evaluateNode(i);if(typeof l=="string"&&l.startsWith("#")&&!["SUM","COUNT","COALESCE"].includes(n))return l;a.push(l)}return cN[n](a)}}function Gae(e,t={}){return new Wae(t).evaluate(e)}class Kae{graph={nodes:new Set,edges:new Map,reversEdges:new Map};buildGraph(t){this.graph={nodes:new Set,edges:new Map,reversEdges:new Map};for(const r of t)r.ref&&(this.graph.nodes.add(r.ref),this.graph.edges.set(r.ref,new Set),this.graph.reversEdges.set(r.ref,new Set));for(const r of t)if(r.type==="formula"&&r.ref&&r.props.expression){const n=this.extractDependencies(r.props.expression);this.graph.edges.set(r.ref,new Set(n));for(const a of n)this.graph.reversEdges.has(a)||this.graph.reversEdges.set(a,new Set),this.graph.reversEdges.get(a).add(r.ref)}}extractDependencies(t){const r=[],n=hL(t);return n.success&&n.ast&&this.extractReferencesFromAST(n.ast,r),[...new Set(r)]}extractReferencesFromAST(t,r){if(t){if(t.type==="reference")r.push(t.name);else if(t.type==="binary")this.extractReferencesFromAST(t.left,r),this.extractReferencesFromAST(t.right,r);else if(t.type==="unary")this.extractReferencesFromAST(t.operand,r);else if(t.type==="postfix")this.extractReferencesFromAST(t.operand,r);else if(t.type==="function")for(const n of t.args)this.extractReferencesFromAST(n,r)}}detectCycle(){const t=new Set,r=new Set,n=[];for(const a of this.graph.nodes)if(!t.has(a)&&this.detectCycleDFS(a,t,r,n))return n;return null}detectCycleDFS(t,r,n,a){r.add(t),n.add(t),a.push(t);const i=this.graph.edges.get(t)||new Set;for(const l of i)if(r.has(l)){if(n.has(l))return a.push(l),!0}else if(this.detectCycleDFS(l,r,n,a))return!0;return n.delete(t),a.pop(),!1}getEvaluationOrder(){if(this.detectCycle())return null;const r=new Set,n=[];for(const a of this.graph.nodes)r.has(a)||this.topologicalSortDFS(a,r,n);return n.reverse()}topologicalSortDFS(t,r,n){r.add(t);const a=this.graph.reversEdges.get(t)||new Set;for(const i of a)r.has(i)||this.topologicalSortDFS(i,r,n);n.push(t)}getDependents(t){const r=new Set,n=[t];for(;n.length>0;){const a=n.shift(),i=this.graph.reversEdges.get(a)||new Set;for(const l of i)r.has(l)||(r.add(l),n.push(l))}return r}}function k3(e,t={}){const r=new Kae;r.buildGraph(e);const n=r.detectCycle();if(n){const l={...t};for(const o of n)l[o]="#CYCLE!";return l}const a=r.getEvaluationOrder();if(!a)return t;const i={...t};for(const l of a){const o=e.find(u=>u.ref===l);if(o)if(o.type==="formula"&&o.props.expression){const u=hL(o.props.expression);if(!u.success||!u.ast){i[l]="#ERR";continue}const f=Gae(u.ast,i);i[l]=f.value}else o.type==="number"&&i[l]===void 0?i[l]=o.props.default!==void 0?o.props.default:0:o.type==="text"&&i[l]===void 0&&(i[l]=o.props.default!==void 0?o.props.default:"")}return i}const kc={async getAll(){return at.get("/calculation-sheets")},async getById(e){try{return await at.get(`/calculation-sheets/${e}`)}catch(t){if(t instanceof Error&&"status"in t&&t.status===404)return null;throw t}},async create(e){return at.post("/calculation-sheets",e)},async update(e){const{id:t,...r}=e;return at.put(`/calculation-sheets/${t}`,r)},async delete(e){return at.delete(`/calculation-sheets/${e}`)}},Yae=()=>or({queryKey:["calculation-sheets"],queryFn:()=>kc.getAll()}),mL=e=>or({queryKey:["calculation-sheet",e],queryFn:()=>kc.getById(e),enabled:!!e}),Xae=()=>{const e=Pt();return It({mutationFn:async t=>{const r=Bd(),n=new Date().toISOString();return kc.create({id:r,title:t.title,template_data:t.template_data||"{}",status:t.status||"draft",sheet_date:t.sheet_date||n,segment_ids:t.segment_ids,city_ids:t.city_ids})},onSuccess:()=>{e.invalidateQueries({queryKey:["calculation-sheets"]})}})},pL=()=>{const e=Pt();return It({mutationFn:t=>kc.update(t),onSuccess:()=>{e.invalidateQueries({queryKey:["calculation-sheets"]}),e.invalidateQueries({queryKey:["calculation-sheet"]})}})},Qae=()=>{const e=Pt();return It({mutationFn:t=>kc.delete(t),onSuccess:()=>{e.invalidateQueries({queryKey:["calculation-sheets"]})}})},Zae=()=>{const e=Pt();return It({mutationFn:async t=>{const r=await kc.getById(t);if(!r)throw new Error("Fiche non trouve");const n=r.status==="published"?"draft":"published";return kc.update({id:t,title:r.title,template_data:r.template_data,status:n,sheet_date:r.sheet_date,segment_ids:r.segment_ids,city_ids:r.city_ids})},onSuccess:()=>{e.invalidateQueries({queryKey:["calculation-sheets"]}),e.invalidateQueries({queryKey:["calculation-sheet"]})}})},Jae=Zae,eie=()=>{const e=Pt();return It({mutationFn:async t=>{const r=await kc.getById(t);if(!r)throw new Error("Fiche non trouve");const n=Bd();return kc.create({id:n,title:`${r.title} (copie)`,template_data:r.template_data,status:"draft",sheet_date:new Date().toISOString(),segment_ids:r.segment_ids,city_ids:r.city_ids})},onSuccess:()=>{e.invalidateQueries({queryKey:["calculation-sheets"]})}})};function tie(){const{id:e}=Vo(),[t,r]=qD(),n=t.get("mode")||"user",{data:a,isLoading:i}=mL(e||""),[l,o]=k.useState([]),[u,f]=k.useState("Fiche de Calcul"),[h,m]=k.useState({}),[g,x]=k.useState({}),[b,v]=k.useState(null),[w,N]=k.useState({}),[E]=k.useState({width:1200,height:800});k.useEffect(()=>{if(a&&(f(a.title),a.template_data))try{const D=JSON.parse(a.template_data);D.fields&&D.fields.length>0&&o(D.fields)}catch(D){console.error("Erreur lors du chargement du template:",D)}},[a]),k.useEffect(()=>{const D=k3(l,h);x(D)},[h,l]);const j=(D,L)=>{const B=l.find(P=>P.ref===D);if(!B)return;let H=L;B.type==="number"&&(H=L===""?0:parseFloat(L)||0),m(P=>({...P,[D]:H}))},T=(D,L)=>{N(B=>({...B,[D]:L}))},O=()=>{const D={values:h,calculatedValues:g,timestamp:new Date().toISOString()};localStorage.setItem("calculation_sheet_data",JSON.stringify(D)),v("Donnes sauvegardes avec succs!"),setTimeout(()=>v(null),3e3)};k.useEffect(()=>{const D=localStorage.getItem("calculation_sheet_data");if(D)try{const L=JSON.parse(D);m(L.values||{})}catch(L){console.error("Erreur lors du chargement des donnes:",L)}},[]);const F=D=>{const L=D.layout||{x:0,y:0,w:200,h:40};if(n==="user"&&D.visibility?.hidden)return null;const B=D.visibility?.hidden;if(D.type==="label")return s.jsxs("div",{className:`absolute bg-gray-100 border-2 border-gray-300 rounded px-3 py-2 flex items-center font-semibold text-gray-700 ${B?"opacity-60 ring-2 ring-red-400":""}`,style:{left:`${L.x}px`,top:`${L.y}px`,width:`${L.w}px`,height:`${L.h}px`},children:[B&&n==="admin"&&s.jsx(Xs,{className:"w-4 h-4 mr-2 text-red-500"}),D.props.label]},D.id);if(D.type==="text"){const H=h[D.ref],P=typeof H=="string"||typeof H=="number"?String(H):"";return s.jsx("div",{className:`absolute ${B?"ring-2 ring-red-400 opacity-60":""}`,style:{left:`${L.x}px`,top:`${L.y}px`,width:`${L.w}px`,height:`${L.h}px`},children:s.jsx("input",{type:"text",value:P,onChange:U=>j(D.ref,U.target.value),className:"w-full h-full px-3 py-2 border border-blue-300 rounded focus:ring-2 focus:ring-blue-500 focus:border-transparent"})},D.id)}if(D.type==="textarea"){const H=h[D.ref],P=typeof H=="string"||typeof H=="number"?String(H):"";return s.jsx("div",{className:`absolute ${B?"ring-2 ring-red-400 opacity-60":""}`,style:{left:`${L.x}px`,top:`${L.y}px`,width:`${L.w}px`,height:`${L.h}px`},children:s.jsxs("div",{className:"relative w-full h-full",children:[B&&n==="admin"&&s.jsx("div",{className:"absolute top-2 right-2 z-10",children:s.jsx(Xs,{className:"w-4 h-4 text-red-500"})}),s.jsx("textarea",{value:P,onChange:U=>j(D.ref,U.target.value),placeholder:D.props.label||"crivez vos commentaires ici...",className:"w-full h-full px-3 py-2 border-2 border-indigo-300 rounded focus:ring-2 focus:ring-indigo-500 focus:border-transparent resize-none"})]})},D.id)}if(D.type==="number"){const H=h[D.ref]!==void 0?h[D.ref]:D.props.default||0,P=typeof H=="number"||typeof H=="string"?H:"";return s.jsx("div",{className:`absolute ${B?"ring-2 ring-red-400 opacity-60":""}`,style:{left:`${L.x}px`,top:`${L.y}px`,width:`${L.w}px`,height:`${L.h}px`},children:s.jsxs("div",{className:"relative w-full h-full",children:[B&&n==="admin"&&s.jsx("div",{className:"absolute top-1/2 -translate-y-1/2 right-2 z-10",children:s.jsx(Xs,{className:"w-4 h-4 text-red-500"})}),s.jsx("input",{type:"number",step:"0.01",value:P,onChange:U=>j(D.ref,U.target.value),className:"w-full h-full px-3 py-2 border border-green-300 rounded focus:ring-2 focus:ring-green-500 focus:border-transparent"})]})},D.id)}if(D.type==="formula"){const H=g[D.ref],P=typeof H=="string"&&H.startsWith("#");return s.jsx("div",{className:`absolute flex items-center ${B?"ring-2 ring-red-400 opacity-60":""}`,style:{left:`${L.x}px`,top:`${L.y}px`,width:`${L.w}px`,height:`${L.h}px`},children:s.jsxs("div",{className:`relative w-full h-full px-3 py-2 border-2 rounded font-semibold flex items-center ${P?"bg-red-50 border-red-400 text-red-700":"bg-purple-50 border-purple-400 text-purple-900"}`,children:[B&&n==="admin"&&s.jsx(Xs,{className:"w-4 h-4 text-red-500 mr-2 flex-shrink-0"}),typeof H=="number"?H.toFixed(D.props.decimals||2):String(H||"0")]})},D.id)}if(D.type==="frame")return s.jsx("div",{className:`absolute border-2 border-orange-400 rounded-lg bg-orange-50/30 ${B?"ring-2 ring-red-400 opacity-60":""}`,style:{left:`${L.x}px`,top:`${L.y}px`,width:`${L.w}px`,height:`${L.h}px`},children:s.jsxs("div",{className:"bg-orange-500 text-white px-3 py-1 rounded-t font-semibold text-sm flex items-center",children:[B&&n==="admin"&&s.jsx(Xs,{className:"w-3 h-3 mr-2"}),D.props.label||"Cadre"]})},D.id);if(D.type==="file"){const H=w[D.ref];return s.jsx("div",{className:`absolute ${B?"ring-2 ring-red-400 opacity-60":""}`,style:{left:`${L.x}px`,top:`${L.y}px`,width:`${L.w}px`,height:`${L.h}px`},children:H?s.jsxs("div",{className:"w-full h-full border-2 border-teal-400 bg-teal-50 rounded px-3 py-2 flex items-center justify-between gap-2",children:[B&&n==="admin"&&s.jsx("div",{className:"flex-shrink-0",children:s.jsx(Xs,{className:"w-4 h-4 text-red-500"})}),s.jsxs("div",{className:"flex items-center gap-2 flex-1 min-w-0",children:[s.jsx(ks,{className:"w-5 h-5 text-teal-600 flex-shrink-0"}),s.jsxs("div",{className:"flex-1 min-w-0",children:[s.jsx("div",{className:"text-sm font-medium text-teal-900 truncate",children:H.name}),s.jsxs("div",{className:"text-xs text-teal-600",children:[(H.size/1024/1024).toFixed(2)," MB"]})]})]}),s.jsxs("div",{className:"flex gap-1 flex-shrink-0",children:[s.jsx("button",{onClick:()=>{const P=URL.createObjectURL(H);window.open(P,"_blank")},className:"p-1.5 hover:bg-teal-200 rounded transition-colors",title:"Prvisualiser",children:s.jsx(Ds,{className:"w-4 h-4 text-teal-700"})}),s.jsx("button",{onClick:()=>{const P=URL.createObjectURL(H),U=document.createElement("a");U.href=P,U.download=H.name,U.click(),URL.revokeObjectURL(P)},className:"p-1.5 hover:bg-teal-200 rounded transition-colors",title:"Tlcharger",children:s.jsx(Es,{className:"w-4 h-4 text-teal-700"})}),s.jsx("button",{onClick:()=>T(D.ref,null),className:"p-1.5 hover:bg-red-200 rounded transition-colors",title:"Supprimer",children:s.jsx(ma,{className:"w-4 h-4 text-red-600"})})]})]}):s.jsxs("label",{className:"w-full h-full border-2 border-dashed border-teal-300 bg-teal-50/50 rounded px-3 py-2 flex flex-col items-center justify-center cursor-pointer hover:bg-teal-100/50 transition-colors relative",children:[B&&n==="admin"&&s.jsx("div",{className:"absolute top-2 right-2",children:s.jsx(Xs,{className:"w-4 h-4 text-red-500"})}),s.jsx(H0,{className:"w-6 h-6 text-teal-600 mb-1"}),s.jsx("span",{className:"text-sm font-medium text-teal-700",children:D.props.label||"Tlcharger un fichier"}),s.jsxs("span",{className:"text-xs text-teal-600 mt-1",children:[D.props.accept||"Tous les fichiers"," (max ",D.props.maxSize||5," MB)"]}),s.jsx("input",{type:"file",accept:D.props.accept,onChange:P=>{const U=P.target.files?.[0];if(U){const K=(D.props.maxSize||5)*1024*1024;if(U.size>K){alert(`Le fichier est trop volumineux. Taille maximum: ${D.props.maxSize||5} MB`);return}T(D.ref,U)}},className:"hidden"})]})},D.id)}return null};return i?s.jsx("div",{className:"min-h-screen flex items-center justify-center",children:s.jsxs("div",{className:"text-center",children:[s.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-600 mx-auto mb-4"}),s.jsx("p",{className:"text-gray-600",children:"Chargement de la fiche..."})]})}):!a||l.length===0?s.jsx("div",{className:"min-h-screen flex items-center justify-center",children:s.jsxs("div",{className:"text-center",children:[s.jsx(du,{className:"w-16 h-16 text-gray-400 mx-auto mb-4"}),s.jsx("h2",{className:"text-xl font-semibold text-gray-700 mb-2",children:"Aucune fiche trouve"}),s.jsx("p",{className:"text-gray-500 mb-4",children:"Cette fiche n'existe pas ou n'a pas encore de champs."}),s.jsxs(Ma,{to:"/admin/calculation-sheets",className:"inline-flex items-center gap-2 px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700",children:[s.jsx(ta,{className:"w-4 h-4"}),"Retour  la liste"]})]})}):s.jsxs("div",{className:"min-h-screen bg-gray-50",children:[s.jsx("div",{className:"bg-white border-b border-gray-200 px-4 sm:px-6 py-3 sm:py-4",children:s.jsxs("div",{className:"flex flex-col lg:flex-row items-start lg:items-center justify-between gap-4",children:[s.jsxs("div",{className:"flex items-start sm:items-center gap-3 sm:gap-4 w-full lg:w-auto",children:[s.jsx(Ma,{to:"/admin/calculation-sheets",className:"p-2 hover:bg-gray-100 rounded-lg transition-colors flex-shrink-0",title:"Retour  la liste",children:s.jsx(ta,{className:"w-5 h-5 sm:w-6 sm:h-6 text-gray-600"})}),s.jsxs("div",{className:"min-w-0 flex-1",children:[s.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center gap-2 sm:gap-3",children:[s.jsx("h1",{className:"text-lg sm:text-xl md:text-2xl font-bold text-gray-900 truncate",children:u}),s.jsx("span",{className:`px-2.5 sm:px-3 py-1 rounded-full text-xs font-medium flex items-center gap-1 w-fit ${n==="admin"?"bg-purple-100 text-purple-800":"bg-blue-100 text-blue-800"}`,children:n==="admin"?s.jsxs(s.Fragment,{children:[s.jsx(Y4,{className:"w-3 h-3"}),"Mode Admin"]}):s.jsxs(s.Fragment,{children:[s.jsx($x,{className:"w-3 h-3"}),"Mode Utilisateur"]})})]}),s.jsx("p",{className:"text-xs sm:text-sm text-gray-500 mt-1 hidden sm:block",children:n==="admin"?"Tous les champs visibles - Simulation complte":"Mode Test - Vrifiez vos calculs"})]})]}),s.jsxs("div",{className:"flex flex-col sm:flex-row items-stretch sm:items-center gap-2 sm:gap-3 w-full lg:w-auto",children:[s.jsxs("div",{className:"flex gap-2",children:[s.jsxs("button",{onClick:()=>r({mode:"admin"}),className:`flex-1 sm:flex-none px-3 py-2 rounded-lg transition-colors flex items-center justify-center gap-2 text-sm ${n==="admin"?"bg-purple-600 text-white":"bg-gray-100 text-gray-700 hover:bg-gray-200"}`,children:[s.jsx(Y4,{className:"w-4 h-4"}),s.jsx("span",{className:"hidden sm:inline",children:"Admin"})]}),s.jsxs("button",{onClick:()=>r({mode:"user"}),className:`flex-1 sm:flex-none px-3 py-2 rounded-lg transition-colors flex items-center justify-center gap-2 text-sm ${n==="user"?"bg-blue-600 text-white":"bg-gray-100 text-gray-700 hover:bg-gray-200"}`,children:[s.jsx($x,{className:"w-4 h-4"}),s.jsx("span",{className:"hidden sm:inline",children:"Utilisateur"})]})]}),b&&s.jsxs("div",{className:"flex items-center gap-2 bg-green-100 text-green-800 px-3 sm:px-4 py-2 rounded-lg",children:[s.jsx(QD,{className:"w-4 h-4 sm:w-5 sm:h-5 flex-shrink-0"}),s.jsx("span",{className:"text-xs sm:text-sm font-medium",children:b})]}),s.jsxs("button",{onClick:O,className:"w-full sm:w-auto px-3 sm:px-4 py-2 bg-green-600 hover:bg-green-700 text-white rounded-lg transition-colors flex items-center justify-center gap-2 text-sm sm:text-base",children:[s.jsx(np,{className:"w-4 h-4 sm:w-5 sm:h-5"}),s.jsx("span",{children:"Sauvegarder Test"})]}),s.jsxs(Ma,{to:`/admin/calculation-sheets/${e}/editor`,className:"w-full sm:w-auto px-3 sm:px-4 py-2 bg-purple-600 hover:bg-purple-700 text-white rounded-lg transition-colors flex items-center justify-center gap-2 text-sm sm:text-base",children:[s.jsx(oh,{className:"w-4 h-4 sm:w-5 sm:h-5"}),s.jsx("span",{children:"Modifier"})]})]})]})}),s.jsxs("div",{className:"p-4",children:[s.jsx("div",{className:"bg-white rounded-lg shadow-sm overflow-auto",children:s.jsx("div",{className:"relative bg-white",style:{width:`${E.width}px`,minHeight:`${E.height}px`},children:l.map(D=>F(D))})}),s.jsxs("div",{className:"mt-6 bg-blue-50 border border-blue-200 rounded-lg p-4",children:[s.jsxs("h3",{className:"font-semibold text-blue-900 mb-2 flex items-center gap-2",children:[s.jsx(du,{className:"w-5 h-5"}),"Mode Test - Comment utiliser"]}),s.jsxs("div",{className:"text-sm text-blue-800 space-y-1",children:[s.jsxs("p",{children:[" Saisissez des valeurs dans les champs ",s.jsx("strong",{children:"Nombre"})," et ",s.jsx("strong",{children:"Texte"})]}),s.jsx("p",{children:" Les formules se calculent automatiquement en temps rel"}),s.jsx("p",{children:" Vrifiez que les calculs sont corrects avant d'utiliser en production"}),s.jsx("p",{children:` Cliquez sur "Modifier" pour retourner  l'diteur et ajuster les champs`}),s.jsx("p",{children:" Les donnes de test sont sauvegardes temporairement"})]})]})]})]})}function rie(){const e=Fn(),[t,r]=k.useState(!1),[n,a]=k.useState(null),{data:i=[],isLoading:l}=Yae(),{data:o=[]}=ph(),{data:u=[]}=Og(),f=Qae(),h=Jae(),m=eie(),g=i.map(N=>({...N,segments:o.filter(E=>N.segment_ids?.includes(E.id)),cities:u.filter(E=>N.city_ids?.includes(E.id))})),x=async(N,E)=>{if(window.confirm(`tes-vous sr de vouloir supprimer "${E}" ?`))try{await f.mutateAsync(N)}catch(j){console.error("Erreur lors de la suppression:",j),alert("Erreur lors de la suppression de la fiche")}},b=async(N,E,j)=>{const T=E==="published"?"dpublier":"publier",O=E==="published"?`tes-vous sr de vouloir dpublier "${j}" ?

Les professeurs ne pourront plus l'utiliser.`:`tes-vous sr de vouloir publier "${j}" ?

Les professeurs pourront utiliser cette fiche.`;if(window.confirm(O))try{await h.mutateAsync(N)}catch(F){console.error(`Erreur lors de la ${T}ication:`,F),alert(`Erreur lors de la ${T}ication de la fiche`)}},v=async(N,E)=>{if(window.confirm(`Voulez-vous dupliquer "${E}" ?

Une copie en brouillon sera cre.`))try{await m.mutateAsync(N)}catch(j){console.error("Erreur lors de la duplication:",j),alert("Erreur lors de la duplication de la fiche")}},w=N=>{try{const E=JSON.parse(N.template_data),j={name:N.title,fields:E.fields||[],version:E.version||"1.0.0"},T=JSON.stringify(j,null,2),O=new Blob([T],{type:"application/json"}),F=URL.createObjectURL(O),D=document.createElement("a");D.href=F,D.download=`${N.title.replace(/\s+/g,"-").toLowerCase()}.json`,document.body.appendChild(D),D.click(),document.body.removeChild(D),URL.revokeObjectURL(F)}catch(E){console.error("Erreur lors de l'export:",E),alert("Erreur lors de l'export de la fiche")}};return s.jsxs("div",{className:"p-6",children:[s.jsxs("div",{className:"mb-6",children:[s.jsxs("div",{className:"flex items-center justify-between mb-2",children:[s.jsxs("div",{className:"flex items-center gap-4",children:[s.jsx("button",{onClick:()=>e("/dashboard"),className:"p-2 hover:bg-gray-100 rounded-lg transition-colors",title:"Retour au tableau de bord",children:s.jsx(ta,{className:"w-6 h-6 text-gray-600"})}),s.jsxs("h1",{className:"text-3xl font-bold text-gray-900 flex items-center gap-2",children:[s.jsx(q0,{className:"w-8 h-8 text-blue-600"}),"Gestion des Fiches de Calcul"]})]}),s.jsxs("button",{onClick:()=>r(!0),className:"px-6 py-2 bg-green-600 hover:bg-green-700 text-white rounded-lg transition-colors flex items-center gap-2",children:[s.jsx(_i,{className:"w-5 h-5"}),"Nouvelle Fiche"]})]}),s.jsx("p",{className:"text-gray-600 ml-14",children:"Crer et grer les templates de fiches de calcul pour les sessions"})]}),l?s.jsxs("div",{className:"bg-white rounded-lg shadow-sm p-12 text-center",children:[s.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-600 mx-auto mb-4"}),s.jsx("p",{className:"text-gray-600",children:"Chargement des fiches..."})]}):g.length===0?s.jsxs("div",{className:"bg-white rounded-lg shadow-sm p-12 text-center",children:[s.jsx(q0,{className:"w-16 h-16 text-gray-300 mx-auto mb-4"}),s.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"Aucune fiche cre"}),s.jsx("p",{className:"text-gray-500 mb-6",children:"Commencez par crer votre premire fiche de calcul"}),s.jsxs("button",{onClick:()=>r(!0),className:"px-6 py-2 bg-green-600 hover:bg-green-700 text-white rounded-lg transition-colors inline-flex items-center gap-2",children:[s.jsx(_i,{className:"w-5 h-5"}),"Crer ma premire fiche"]})]}):s.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:g.map(N=>s.jsx("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 hover:shadow-md transition-shadow",children:s.jsxs("div",{className:"p-6",children:[s.jsxs("div",{className:"flex items-start justify-between mb-4",children:[s.jsxs("div",{className:"flex-1",children:[s.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-1",children:N.title}),s.jsx("span",{className:`inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium ${N.status==="published"?"bg-green-100 text-green-800":"bg-yellow-100 text-yellow-800"}`,children:N.status==="published"?"Publie":"Brouillon"})]}),s.jsx(du,{className:"w-8 h-8 text-blue-500"})]}),s.jsxs("div",{className:"mb-3",children:[s.jsxs("div",{className:"flex items-center gap-1 text-sm text-gray-600 mb-2",children:[s.jsx(B_,{className:"w-4 h-4"}),s.jsxs("span",{className:"font-medium",children:["Segments (",N.segments.length,")"]})]}),s.jsx("div",{className:"flex flex-wrap gap-2",children:N.segments.map(E=>s.jsxs("span",{className:"inline-flex items-center gap-1 px-2 py-1 bg-gray-100 text-gray-700 rounded text-xs",children:[s.jsx("span",{className:"w-2 h-2 rounded-full",style:{backgroundColor:E.color}}),E.name]},E.id))})]}),s.jsxs("div",{className:"mb-4",children:[s.jsxs("div",{className:"flex items-center gap-1 text-sm text-gray-600 mb-2",children:[s.jsx(Cs,{className:"w-4 h-4"}),s.jsxs("span",{className:"font-medium",children:["Villes (",N.cities.length,")"]})]}),s.jsxs("div",{className:"flex flex-wrap gap-2",children:[N.cities.slice(0,3).map(E=>s.jsx("span",{className:"inline-flex items-center px-2 py-1 bg-blue-50 text-blue-700 rounded text-xs",children:E.name},E.id)),N.cities.length>3&&s.jsxs("span",{className:"inline-flex items-center px-2 py-1 bg-gray-100 text-gray-600 rounded text-xs",children:["+",N.cities.length-3," autres"]})]})]}),s.jsxs("div",{className:"text-xs text-gray-500 mb-4",children:["Modifi le ",new Date(N.updated_at).toLocaleDateString("fr-FR")]}),s.jsxs("div",{className:"space-y-2 pt-4 border-t border-gray-200",children:[s.jsx("button",{onClick:()=>b(N.id,N.status,N.title),disabled:h.isPending,className:`w-full px-3 py-2 rounded-lg text-sm font-medium flex items-center justify-center gap-2 transition-colors ${N.status==="published"?"bg-orange-50 hover:bg-orange-100 text-orange-700 border border-orange-200":"bg-green-50 hover:bg-green-100 text-green-700 border border-green-200"}`,children:N.status==="published"?s.jsxs(s.Fragment,{children:[s.jsx(mf,{className:"w-4 h-4"}),"Dpublier"]}):s.jsxs(s.Fragment,{children:[s.jsx(H0,{className:"w-4 h-4"}),"Publier"]})}),s.jsxs("div",{className:"flex gap-2",children:[s.jsxs(Ma,{to:`/admin/calculation-sheets/${N.id}`,className:"flex-1 px-3 py-2 bg-blue-600 hover:bg-blue-700 text-white rounded-lg text-sm font-medium flex items-center justify-center gap-1 transition-colors",children:[s.jsx(Ds,{className:"w-4 h-4"}),"Voir"]}),s.jsx("button",{onClick:()=>a(N),className:"px-3 py-2 bg-purple-50 hover:bg-purple-100 text-purple-600 rounded-lg text-sm transition-colors",title:"Modifier les informations",children:s.jsx(tF,{className:"w-4 h-4"})}),s.jsxs(Ma,{to:`/admin/calculation-sheets/${N.id}/editor`,className:"flex-1 px-3 py-2 bg-gray-100 hover:bg-gray-200 text-gray-700 rounded-lg text-sm font-medium flex items-center justify-center gap-1 transition-colors",children:[s.jsx(oh,{className:"w-4 h-4"}),"Modifier"]})]}),s.jsxs("div",{className:"flex gap-2 mt-2",children:[s.jsxs("button",{onClick:()=>w(N),className:"flex-1 px-3 py-2 bg-indigo-50 hover:bg-indigo-100 text-indigo-700 rounded-lg text-sm font-medium flex items-center justify-center gap-1 transition-colors",title:"Exporter en JSON",children:[s.jsx(Es,{className:"w-4 h-4"}),"Exporter"]}),s.jsx("button",{onClick:()=>v(N.id,N.title),className:"px-3 py-2 bg-cyan-50 hover:bg-cyan-100 text-cyan-700 rounded-lg text-sm transition-colors",title:"Dupliquer",children:s.jsx(T0,{className:"w-4 h-4"})}),s.jsx("button",{onClick:()=>x(N.id,N.title),className:"px-3 py-2 bg-red-50 hover:bg-red-100 text-red-600 rounded-lg text-sm transition-colors",title:"Supprimer",children:s.jsx(Bn,{className:"w-4 h-4"})})]})]})]})},N.id))}),t&&s.jsx(nie,{onClose:()=>r(!1)}),n&&s.jsx(aie,{sheet:n,onClose:()=>a(null)})]})}function nie({onClose:e}){const[t,r]=k.useState(1),[n,a]=k.useState(""),[i,l]=k.useState([]),[o,u]=k.useState([]),f=Fn(),h=Xae(),{data:m=[]}=ph(),{data:g=[]}=Og(),x=g.filter(v=>i.includes(v.segment_id)),b=async()=>{try{const v=await h.mutateAsync({title:n,segment_ids:i,city_ids:o});e(),f(`/admin/calculation-sheets/${v.id}/editor`)}catch(v){console.error("Erreur lors de la cration:",v),alert("Erreur lors de la cration de la fiche")}};return s.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:s.jsxs("div",{className:"bg-white rounded-lg shadow-xl max-w-2xl w-full max-h-[90vh] overflow-hidden",children:[s.jsxs("div",{className:"bg-gradient-to-r from-green-600 to-green-700 px-6 py-4 flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx("h2",{className:"text-xl font-bold text-white",children:"Crer une Fiche de Calcul"}),s.jsxs("p",{className:"text-green-100 text-sm",children:["tape ",t," sur 3"]})]}),s.jsx("button",{onClick:e,className:"text-white hover:bg-white/10 p-2 rounded-lg",children:s.jsx("svg",{className:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})})]}),s.jsxs("div",{className:"p-6 overflow-y-auto max-h-[calc(90vh-180px)]",children:[t===1&&s.jsxs("div",{children:[s.jsx("h3",{className:"font-semibold text-gray-900 mb-4",children:"Informations gnrales"}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Titre de la fiche"}),s.jsx("input",{type:"text",value:n,onChange:v=>a(v.target.value),placeholder:"Ex: Fiche Formation Professionnelle",className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-green-500 focus:border-transparent",autoFocus:!0})]})]}),t===2&&s.jsxs("div",{children:[s.jsxs("h3",{className:"font-semibold text-gray-900 mb-4",children:["Slectionner les segments (",i.length," slectionn",i.length>1?"s":"",")"]}),s.jsx("div",{className:"space-y-2",children:m.map(v=>s.jsxs("label",{className:"flex items-center gap-3 p-4 border border-gray-200 rounded-lg hover:bg-gray-50 cursor-pointer",children:[s.jsx("input",{type:"checkbox",checked:i.includes(v.id),onChange:w=>{if(w.target.checked)l([...i,v.id]);else{l(i.filter(E=>E!==v.id));const N=g.filter(E=>E.segment_id===v.id).map(E=>E.id);u(o.filter(E=>!N.includes(E)))}},className:"w-5 h-5 text-green-600 border-gray-300 rounded focus:ring-green-500"}),s.jsx("div",{className:"w-4 h-4 rounded-full",style:{backgroundColor:v.color}}),s.jsx("span",{className:"flex-1 font-medium text-gray-900",children:v.name})]},v.id))})]}),t===3&&s.jsxs("div",{children:[s.jsxs("h3",{className:"font-semibold text-gray-900 mb-4",children:["Slectionner les villes (",o.length," slectionne",o.length>1?"s":"",")"]}),i.length===0?s.jsx("div",{className:"text-center py-8 text-gray-500",children:"Vous devez d'abord slectionner au moins un segment"}):x.length===0?s.jsx("div",{className:"text-center py-8 text-gray-500",children:"Aucune ville disponible pour les segments slectionns"}):s.jsx("div",{className:"space-y-2",children:x.map(v=>s.jsxs("label",{className:"flex items-center gap-3 p-4 border border-gray-200 rounded-lg hover:bg-gray-50 cursor-pointer",children:[s.jsx("input",{type:"checkbox",checked:o.includes(v.id),onChange:w=>{w.target.checked?u([...o,v.id]):u(o.filter(N=>N!==v.id))},className:"w-5 h-5 text-green-600 border-gray-300 rounded focus:ring-green-500"}),s.jsx(Cs,{className:"w-4 h-4 text-green-600"}),s.jsx("span",{className:"flex-1 font-medium text-gray-900",children:v.name}),s.jsx("span",{className:"text-sm text-gray-500",children:m.find(w=>w.id===v.segment_id)?.name})]},v.id))})]})]}),s.jsxs("div",{className:"bg-gray-50 px-6 py-4 border-t border-gray-200 flex justify-between",children:[s.jsx("button",{onClick:()=>t>1?r(t-1):e(),className:"px-6 py-2 bg-gray-200 hover:bg-gray-300 text-gray-700 rounded-lg transition-colors",children:t===1?"Annuler":"Prcdent"}),s.jsx("button",{onClick:()=>{t<3?r(t+1):b()},disabled:t===1&&!n,className:"px-6 py-2 bg-green-600 hover:bg-green-700 text-white rounded-lg transition-colors disabled:opacity-50 disabled:cursor-not-allowed",children:t===3?"Crer la fiche":"Suivant"})]})]})})}function aie({sheet:e,onClose:t}){const[r,n]=k.useState(1),[a,i]=k.useState(e.title),[l,o]=k.useState(e.segment_ids||[]),[u,f]=k.useState(e.city_ids||[]),h=pL(),{data:m=[]}=ph(),{data:g=[]}=Og(),x=g.filter(v=>l.includes(v.segment_id)),b=async()=>{try{await h.mutateAsync({id:e.id,title:a,template_data:e.template_data,status:e.status,sheet_date:e.sheet_date,segment_ids:l,city_ids:u}),t()}catch(v){console.error("Erreur lors de la modification:",v),alert("Erreur lors de la modification de la fiche")}};return s.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:s.jsxs("div",{className:"bg-white rounded-lg shadow-xl max-w-2xl w-full max-h-[90vh] overflow-hidden",children:[s.jsxs("div",{className:"bg-gradient-to-r from-purple-600 to-purple-700 px-6 py-4 flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx("h2",{className:"text-xl font-bold text-white",children:"Modifier la Fiche de Calcul"}),s.jsxs("p",{className:"text-purple-100 text-sm",children:["tape ",r," sur 3"]})]}),s.jsx("button",{onClick:t,className:"text-white hover:bg-white/10 p-2 rounded-lg",children:s.jsx("svg",{className:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})})]}),s.jsxs("div",{className:"p-6 overflow-y-auto max-h-[calc(90vh-180px)]",children:[r===1&&s.jsxs("div",{children:[s.jsx("h3",{className:"font-semibold text-gray-900 mb-4",children:"Informations gnrales"}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Titre de la fiche"}),s.jsx("input",{type:"text",value:a,onChange:v=>i(v.target.value),placeholder:"Ex: Fiche Formation Professionnelle",className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-purple-500 focus:border-transparent",autoFocus:!0})]})]}),r===2&&s.jsxs("div",{children:[s.jsxs("h3",{className:"font-semibold text-gray-900 mb-4",children:["Slectionner les segments (",l.length," slectionn",l.length>1?"s":"",")"]}),s.jsx("div",{className:"space-y-2",children:m.map(v=>s.jsxs("label",{className:"flex items-center gap-3 p-4 border border-gray-200 rounded-lg hover:bg-gray-50 cursor-pointer",children:[s.jsx("input",{type:"checkbox",checked:l.includes(v.id),onChange:w=>{if(w.target.checked)o([...l,v.id]);else{o(l.filter(E=>E!==v.id));const N=g.filter(E=>E.segment_id===v.id).map(E=>E.id);f(u.filter(E=>!N.includes(E)))}},className:"w-5 h-5 text-purple-600 border-gray-300 rounded focus:ring-purple-500"}),s.jsx("div",{className:"w-4 h-4 rounded-full",style:{backgroundColor:v.color}}),s.jsx("span",{className:"flex-1 font-medium text-gray-900",children:v.name})]},v.id))})]}),r===3&&s.jsxs("div",{children:[s.jsxs("h3",{className:"font-semibold text-gray-900 mb-4",children:["Slectionner les villes (",u.length," slectionne",u.length>1?"s":"",")"]}),l.length===0?s.jsx("div",{className:"text-center py-8 text-gray-500",children:"Vous devez d'abord slectionner au moins un segment"}):x.length===0?s.jsx("div",{className:"text-center py-8 text-gray-500",children:"Aucune ville disponible pour les segments slectionns"}):s.jsx("div",{className:"space-y-2",children:x.map(v=>s.jsxs("label",{className:"flex items-center gap-3 p-4 border border-gray-200 rounded-lg hover:bg-gray-50 cursor-pointer",children:[s.jsx("input",{type:"checkbox",checked:u.includes(v.id),onChange:w=>{w.target.checked?f([...u,v.id]):f(u.filter(N=>N!==v.id))},className:"w-5 h-5 text-purple-600 border-gray-300 rounded focus:ring-purple-500"}),s.jsx(Cs,{className:"w-4 h-4 text-purple-600"}),s.jsx("span",{className:"flex-1 font-medium text-gray-900",children:v.name}),s.jsx("span",{className:"text-sm text-gray-500",children:m.find(w=>w.id===v.segment_id)?.name})]},v.id))})]})]}),s.jsxs("div",{className:"bg-gray-50 px-6 py-4 border-t border-gray-200 flex justify-between",children:[s.jsx("button",{onClick:()=>r>1?n(r-1):t(),className:"px-6 py-2 bg-gray-200 hover:bg-gray-300 text-gray-700 rounded-lg transition-colors",children:r===1?"Annuler":"Prcdent"}),s.jsx("button",{onClick:()=>{r<3?n(r+1):b()},disabled:r===1&&!a||h.isPending,className:"px-6 py-2 bg-purple-600 hover:bg-purple-700 text-white rounded-lg transition-colors disabled:opacity-50 disabled:cursor-not-allowed",children:h.isPending?"Sauvegarde...":r===3?"Enregistrer":"Suivant"})]})]})})}function iie(){const{id:e}=Vo(),t=Fn(),[r,n]=k.useState([]),[a,i]=k.useState(null),[l,o]=k.useState(null),[u,f]=k.useState(null),[h,m]=k.useState(1),[g,x]=k.useState("Nouvelle Fiche"),[b,v]=k.useState(!0),[w,N]=k.useState(null),[E,j]=k.useState({width:1200,height:800}),T=k.useRef(null),O=pL(),{data:F}=mL(e||"");k.useEffect(()=>{if(F&&(F.title&&x(F.title),F.template_data))try{const R=JSON.parse(F.template_data);if(R.fields&&R.fields.length>0){n(R.fields);const q=Math.max(...R.fields.map(W=>{const J=W.id.match(/field_(\d+)/);return J?parseInt(J[1]):0}));m(q+1)}}catch(R){console.error("Erreur lors du chargement des donnes:",R)}},[F]);const D=[{type:"label",icon:km,label:"Label",color:"bg-gray-500"},{type:"text",icon:HV,label:"Texte",color:"bg-blue-500"},{type:"number",icon:I_,label:"Nombre",color:"bg-green-500"},{type:"formula",icon:du,label:"Formule",color:"bg-purple-500"},{type:"textarea",icon:Js,label:"Texte libre",color:"bg-indigo-500"},{type:"frame",icon:dH,label:"Cadre",color:"bg-orange-500"},{type:"file",icon:AV,label:"Pice jointe",color:"bg-teal-500"},{type:"link",icon:zx,label:"Lien",color:"bg-cyan-500"}],L=r.find(R=>R.id===a),B=(R,q,W)=>{const J=`field_${h}`;m(h+1);const le={id:J,type:R,layout:{x:q,y:W,w:200,h:40}};switch(R){case"label":return{...le,props:{label:"Nouveau label"}};case"text":return{...le,ref:`TEXT_${h}`,props:{label:"Texte"}};case"number":return{...le,ref:`NUM_${h}`,props:{label:"Nombre",decimals:2,default:0}};case"formula":return{...le,ref:`FORMULA_${h}`,props:{label:"Formule",expression:"",decimals:2}};case"frame":return{...le,props:{label:"Cadre"},children:[]};case"file":return{...le,ref:`FILE_${h}`,props:{label:"Pice jointe",accept:".pdf,.jpg,.jpeg,.png",maxSize:5}};case"textarea":return{...le,layout:{x:q,y:W,w:400,h:120},ref:`TEXTAREA_${h}`,props:{label:"Commentaires"}};case"link":return{...le,props:{label:"Lien",url:"https://example.com"}};default:return le}},H=R=>{o({type:R,isNew:!0})},P=(R,q)=>{const W=r.find(X=>X.id===q);if(!W)return;const J=R.currentTarget.getBoundingClientRect(),le=R.clientX-J.left,ue=R.clientY-J.top;o({type:W.type,isNew:!1,fieldId:q,offsetX:le,offsetY:ue}),i(q)},U=R=>{R.preventDefault()},K=R=>{if(R.preventDefault(),!l||!T.current)return;const q=T.current.getBoundingClientRect(),W=Math.round((R.clientX-q.left-(l.offsetX||0))/10)*10,J=Math.round((R.clientY-q.top-(l.offsetY||0))/10)*10;if(l.isNew){const le=B(l.type,Math.max(0,W),Math.max(0,J));n([...r,le]),i(le.id)}else l.fieldId&&n(r.map(le=>le.id===l.fieldId?{...le,layout:{...le.layout,x:Math.max(0,W),y:Math.max(0,J)}}:le));o(null)},ee=R=>{if(l&&!l.isNew&&l.fieldId&&T.current){const q=T.current.getBoundingClientRect(),W=Math.round((R.clientX-q.left-(l.offsetX||0))/10)*10,J=Math.round((R.clientY-q.top-(l.offsetY||0))/10)*10;n(r.map(le=>le.id===l.fieldId?{...le,layout:{...le.layout,x:Math.max(0,W),y:Math.max(0,J)}}:le))}if(u&&T.current){const q=T.current.getBoundingClientRect(),W=R.clientX-q.left,J=R.clientY-q.top,le=W-u.startX,ue=J-u.startY;n(r.map(X=>{if(X.id!==u.fieldId)return X;let ge=u.startW,Te=u.startH;return u.direction==="se"?(ge=Math.max(100,u.startW+le),Te=Math.max(50,u.startH+ue)):u.direction==="s"?Te=Math.max(50,u.startH+ue):u.direction==="e"&&(ge=Math.max(100,u.startW+le)),{...X,layout:{...X.layout,w:Math.round(ge/10)*10,h:Math.round(Te/10)*10}}}))}},me=()=>{o(null),f(null)},ne=(R,q,W)=>{if(R.stopPropagation(),!T.current)return;const J=r.find(ue=>ue.id===q);if(!J)return;const le=T.current.getBoundingClientRect();f({fieldId:q,direction:W,startX:R.clientX-le.left,startY:R.clientY-le.top,startW:J.layout.w,startH:J.layout.h})},se=(R,q,W)=>{n(r.map(J=>{if(J.id!==R)return J;const le=q.split(".");return le.length===1?{...J,[q]:W}:le[0]==="props"?{...J,props:{...J.props,[le[1]]:W}}:le[0]==="layout"?{...J,layout:{...J.layout,[le[1]]:W}}:J}))},ye=R=>{n(r.filter(q=>q.id!==R)),a===R&&i(null)},ce=R=>{const q=r.find(J=>J.id===R);if(!q)return;const W={...q,id:`field_${h}`,ref:q.ref?`${q.ref}_COPY`:void 0,layout:{...q.layout,x:q.layout.x+20,y:q.layout.y+20}};m(h+1),n([...r,W]),i(W.id)},Se=(R,q)=>{const W=r.findIndex(le=>le.id===R);if(W===-1)return;const J=[...r];q==="up"&&W<r.length-1?[J[W],J[W+1]]=[J[W+1],J[W]]:q==="down"&&W>0&&([J[W],J[W-1]]=[J[W-1],J[W]]),n(J)},te=async()=>{if(!e){alert("Aucun ID de fiche trouv");return}try{const R={name:g,fields:r,version:"1.0.0"};await O.mutateAsync({id:e,title:g,template_data:JSON.stringify(R),status:F?.status||"draft",sheet_date:F?.sheet_date||new Date().toISOString()}),N("Fiche sauvegarde avec succs!"),setTimeout(()=>N(null),3e3)}catch(R){console.error("Erreur lors de la sauvegarde:",R),alert("Erreur lors de la sauvegarde de la fiche")}},M=()=>{const q=JSON.stringify({name:g,fields:r,version:"1.0.0"},null,2),W=new Blob([q],{type:"application/json"}),J=URL.createObjectURL(W),le=document.createElement("a");le.href=J,le.download=`${g.toLowerCase().replace(/\s+/g,"-")}.json`,le.click(),URL.revokeObjectURL(J)};return s.jsxs("div",{className:"h-screen flex flex-col bg-gray-50 overflow-hidden",children:[s.jsxs("div",{className:"bg-white border-b border-gray-200 px-4 py-3 flex items-center justify-between flex-shrink-0",children:[s.jsxs("div",{className:"flex items-center gap-4",children:[s.jsx("input",{type:"text",value:g,onChange:R=>x(R.target.value),className:"text-xl font-bold border-none focus:ring-2 focus:ring-blue-500 rounded px-2 py-1"}),s.jsxs("span",{className:"text-sm text-gray-500",children:[r.length," champ(s)"]})]}),s.jsxs("div",{className:"flex items-center gap-2",children:[w&&s.jsxs("div",{className:"flex items-center gap-2 bg-green-100 text-green-800 px-4 py-2 rounded-lg",children:[s.jsx(YD,{className:"w-5 h-5"}),s.jsx("span",{className:"text-sm font-medium",children:w})]}),s.jsx("button",{onClick:()=>v(!b),className:`p-2 rounded-lg transition-colors ${b?"bg-blue-100 text-blue-600":"bg-gray-100 text-gray-600"}`,title:"Grille",children:s.jsx(R_,{className:"w-5 h-5"})}),s.jsxs("button",{onClick:te,disabled:O.isPending,className:"px-4 py-2 bg-blue-600 hover:bg-blue-700 text-white rounded-lg transition-colors flex items-center gap-2 disabled:opacity-50 disabled:cursor-not-allowed",children:[s.jsx(np,{className:"w-5 h-5"}),O.isPending?"Sauvegarde...":"Sauvegarder"]}),s.jsxs("button",{onClick:M,className:"px-4 py-2 bg-green-600 hover:bg-green-700 text-white rounded-lg transition-colors flex items-center gap-2",children:[s.jsx(Es,{className:"w-5 h-5"}),"Exporter JSON"]}),s.jsxs("div",{className:"flex gap-2",children:[s.jsxs("button",{onClick:()=>t(`/admin/calculation-sheets/${e}?mode=admin`),className:"px-4 py-2 bg-purple-600 hover:bg-purple-700 text-white rounded-lg transition-colors flex items-center gap-2",children:[s.jsx(Ds,{className:"w-5 h-5"}),"Voir (Admin)"]}),s.jsxs("button",{onClick:()=>t(`/admin/calculation-sheets/${e}?mode=user`),className:"px-4 py-2 bg-blue-600 hover:bg-blue-700 text-white rounded-lg transition-colors flex items-center gap-2",children:[s.jsx(Ds,{className:"w-5 h-5"}),"Voir (Utilisateur)"]})]}),s.jsx("button",{onClick:()=>t("/admin/calculation-sheets"),className:"px-4 py-2 bg-gray-600 hover:bg-gray-700 text-white rounded-lg transition-colors flex items-center gap-2",children:"Retour  la liste"})]})]}),s.jsxs("div",{className:"flex-1 flex min-h-0",children:[s.jsxs("div",{className:"w-64 bg-white border-r border-gray-200 flex-shrink-0 p-4",children:[s.jsx("h3",{className:"font-semibold text-gray-900 mb-3",children:"Composants"}),s.jsx("div",{className:"space-y-2",children:D.map(R=>{const q=R.icon;return s.jsxs("div",{draggable:!0,onDragStart:()=>H(R.type),className:`${R.color} text-white rounded-lg p-3 cursor-move hover:opacity-90 transition-opacity flex items-center gap-2`,children:[s.jsx(q,{className:"w-5 h-5"}),s.jsx("span",{className:"font-medium",children:R.label})]},R.type)})}),s.jsxs("div",{className:"mt-6 p-3 bg-blue-50 rounded-lg text-sm text-blue-800",children:[s.jsx("p",{className:"font-medium mb-1",children:" Glisser-dposer"}),s.jsx("p",{className:"text-xs",children:"Faites glisser un composant sur le canvas pour l'ajouter"})]})]}),s.jsx("div",{className:"flex-1 bg-gray-100 overflow-auto p-4 min-w-0",children:s.jsxs("div",{ref:T,onDragOver:U,onDrop:K,onMouseMove:ee,onMouseUp:me,className:"relative bg-white rounded-lg shadow-sm",style:{width:`${E.width}px`,height:`${E.height}px`,backgroundImage:b?"linear-gradient(#e5e7eb 1px, transparent 1px), linear-gradient(90deg, #e5e7eb 1px, transparent 1px)":"none",backgroundSize:b?"20px 20px":"auto"},children:[r.map(R=>{const q=R.id===a,W=D.find(ue=>ue.type===R.type),J=R.type==="frame",le=R.visibility?.hidden;return J?s.jsxs("div",{onMouseDown:ue=>{ue.target.classList.contains("resize-handle")||P(ue,R.id)},onClick:ue=>{ue.stopPropagation(),i(R.id)},className:`absolute border-2 rounded-lg ${le?"opacity-50":""} ${q?"border-orange-500 bg-orange-50/30":"border-orange-300 bg-orange-50/10 hover:border-orange-400"}`,style:{left:R.layout.x,top:R.layout.y,width:R.layout.w,height:R.layout.h},children:[s.jsxs("div",{className:"bg-orange-500 text-white px-3 py-1 rounded-t font-semibold text-sm cursor-move flex items-center justify-between",children:[s.jsx("span",{children:R.props.label||"Cadre"}),le&&s.jsx(Xs,{className:"w-4 h-4"})]}),q&&s.jsxs(s.Fragment,{children:[s.jsxs("div",{className:"absolute -top-2 -right-2 flex gap-1",children:[s.jsx("button",{onClick:ue=>{ue.stopPropagation(),ce(R.id)},className:"w-6 h-6 bg-blue-500 hover:bg-blue-600 text-white rounded-full flex items-center justify-center",title:"Dupliquer",children:s.jsx(T0,{className:"w-3 h-3"})}),s.jsx("button",{onClick:ue=>{ue.stopPropagation(),ye(R.id)},className:"w-6 h-6 bg-red-500 hover:bg-red-600 text-white rounded-full flex items-center justify-center",title:"Supprimer",children:s.jsx(Bn,{className:"w-3 h-3"})})]}),s.jsx("div",{className:"resize-handle absolute -bottom-2 -right-2 w-4 h-4 bg-orange-500 rounded-full cursor-se-resize border-2 border-white",onMouseDown:ue=>{ue.stopPropagation(),ne(ue,R.id,"se")},title:"Redimensionner"}),s.jsx("div",{className:"resize-handle absolute -bottom-2 left-1/2 -translate-x-1/2 w-4 h-4 bg-orange-500 rounded-full cursor-s-resize border-2 border-white",onMouseDown:ue=>{ue.stopPropagation(),ne(ue,R.id,"s")},title:"Redimensionner"}),s.jsx("div",{className:"resize-handle absolute top-1/2 -translate-y-1/2 -right-2 w-4 h-4 bg-orange-500 rounded-full cursor-e-resize border-2 border-white",onMouseDown:ue=>{ue.stopPropagation(),ne(ue,R.id,"e")},title:"Redimensionner"})]})]},R.id):R.type==="link"?s.jsxs("div",{onMouseDown:ue=>{ue.target.classList.contains("resize-handle")||P(ue,R.id)},onClick:ue=>{ue.stopPropagation(),i(R.id)},className:`absolute cursor-move border-2 rounded-lg px-3 py-2 ${le?"opacity-50":""} ${q?"border-cyan-500 bg-cyan-50":"border-cyan-300 bg-white hover:border-cyan-400"}`,style:{left:R.layout.x,top:R.layout.y,width:R.layout.w,height:R.layout.h},children:[s.jsxs("div",{className:"flex items-center gap-2 h-full",children:[s.jsx(zx,{className:"w-4 h-4 text-cyan-600 flex-shrink-0"}),s.jsxs("div",{className:"flex-1 min-w-0",children:[s.jsx("div",{className:"text-sm font-medium text-cyan-900 truncate",children:R.props.label||"Lien"}),R.props.url&&s.jsx("div",{className:"text-xs text-cyan-600 truncate",children:R.props.url})]}),le&&s.jsx(Xs,{className:"w-4 h-4 text-gray-400 flex-shrink-0"})]}),q&&s.jsxs(s.Fragment,{children:[s.jsxs("div",{className:"absolute -top-2 -right-2 flex gap-1",children:[s.jsx("button",{onClick:ue=>{ue.stopPropagation(),ce(R.id)},className:"w-6 h-6 bg-cyan-500 hover:bg-cyan-600 text-white rounded-full flex items-center justify-center",title:"Dupliquer",children:s.jsx(T0,{className:"w-3 h-3"})}),s.jsx("button",{onClick:ue=>{ue.stopPropagation(),ye(R.id)},className:"w-6 h-6 bg-red-500 hover:bg-red-600 text-white rounded-full flex items-center justify-center",title:"Supprimer",children:s.jsx(Bn,{className:"w-3 h-3"})})]}),s.jsx("div",{className:"resize-handle absolute -bottom-2 -right-2 w-4 h-4 bg-cyan-500 rounded-full cursor-se-resize border-2 border-white",onMouseDown:ue=>{ue.stopPropagation(),ne(ue,R.id,"se")},title:"Redimensionner"}),s.jsx("div",{className:"resize-handle absolute -bottom-2 left-1/2 -translate-x-1/2 w-4 h-4 bg-cyan-500 rounded-full cursor-s-resize border-2 border-white",onMouseDown:ue=>{ue.stopPropagation(),ne(ue,R.id,"s")},title:"Redimensionner"}),s.jsx("div",{className:"resize-handle absolute top-1/2 -translate-y-1/2 -right-2 w-4 h-4 bg-cyan-500 rounded-full cursor-e-resize border-2 border-white",onMouseDown:ue=>{ue.stopPropagation(),ne(ue,R.id,"e")},title:"Redimensionner"})]})]},R.id):s.jsxs("div",{onMouseDown:ue=>{ue.target.classList.contains("resize-handle")||P(ue,R.id)},onClick:ue=>{ue.stopPropagation(),i(R.id)},className:`absolute cursor-move border-2 rounded-lg px-3 py-2 ${le?"opacity-50":""} ${q?"border-blue-500 bg-blue-50":"border-gray-300 bg-white hover:border-gray-400"}`,style:{left:R.layout.x,top:R.layout.y,width:R.layout.w,height:R.layout.h},children:[s.jsxs("div",{className:"flex items-center gap-2 h-full",children:[W&&s.jsx(W.icon,{className:"w-4 h-4 text-gray-500 flex-shrink-0"}),s.jsxs("div",{className:"flex-1 min-w-0",children:[s.jsx("div",{className:"text-sm font-medium text-gray-900 truncate",children:R.props.label||R.type}),R.ref&&s.jsx("div",{className:"text-xs text-gray-500 truncate",children:R.ref})]}),le&&s.jsx(Xs,{className:"w-4 h-4 text-gray-400 flex-shrink-0"})]}),q&&s.jsxs(s.Fragment,{children:[s.jsxs("div",{className:"absolute -top-2 -right-2 flex gap-1",children:[s.jsx("button",{onClick:ue=>{ue.stopPropagation(),ce(R.id)},className:"w-6 h-6 bg-blue-500 hover:bg-blue-600 text-white rounded-full flex items-center justify-center",title:"Dupliquer",children:s.jsx(T0,{className:"w-3 h-3"})}),s.jsx("button",{onClick:ue=>{ue.stopPropagation(),ye(R.id)},className:"w-6 h-6 bg-red-500 hover:bg-red-600 text-white rounded-full flex items-center justify-center",title:"Supprimer",children:s.jsx(Bn,{className:"w-3 h-3"})})]}),s.jsx("div",{className:"resize-handle absolute -bottom-2 -right-2 w-4 h-4 bg-blue-500 rounded-full cursor-se-resize border-2 border-white",onMouseDown:ue=>{ue.stopPropagation(),ne(ue,R.id,"se")},title:"Redimensionner"}),s.jsx("div",{className:"resize-handle absolute -bottom-2 left-1/2 -translate-x-1/2 w-4 h-4 bg-blue-500 rounded-full cursor-s-resize border-2 border-white",onMouseDown:ue=>{ue.stopPropagation(),ne(ue,R.id,"s")},title:"Redimensionner"}),s.jsx("div",{className:"resize-handle absolute top-1/2 -translate-y-1/2 -right-2 w-4 h-4 bg-blue-500 rounded-full cursor-e-resize border-2 border-white",onMouseDown:ue=>{ue.stopPropagation(),ne(ue,R.id,"e")},title:"Redimensionner"})]})]},R.id)}),r.length===0&&s.jsx("div",{className:"absolute inset-0 flex items-center justify-center text-gray-400",children:s.jsxs("div",{className:"text-center",children:[s.jsx(_i,{className:"w-16 h-16 mx-auto mb-4 opacity-30"}),s.jsx("p",{className:"text-lg font-medium",children:"Glissez des composants ici"}),s.jsx("p",{className:"text-sm mt-1",children:"Commencez par ajouter des champs depuis la barre d'outils"})]})})]})}),s.jsx("div",{className:"w-80 bg-white border-l border-gray-200 flex-shrink-0 overflow-y-auto",children:s.jsxs("div",{className:"p-4",children:[s.jsx("h3",{className:"font-semibold text-gray-900 mb-3",children:"Proprits"}),s.jsxs("div",{className:"mb-4 pb-4 border-b border-gray-200",children:[s.jsx("h4",{className:"font-medium text-gray-900 mb-3",children:"Taille du Canvas"}),s.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-xs font-medium text-gray-700 mb-1",children:"Largeur (px)"}),s.jsx("input",{type:"number",value:E.width,onChange:R=>j({...E,width:Math.max(800,parseInt(R.target.value)||1200)}),min:"800",step:"100",className:"w-full px-2 py-1 border border-gray-300 rounded text-sm"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-xs font-medium text-gray-700 mb-1",children:"Hauteur (px)"}),s.jsx("input",{type:"number",value:E.height,onChange:R=>j({...E,height:Math.max(600,parseInt(R.target.value)||800)}),min:"600",step:"100",className:"w-full px-2 py-1 border border-gray-300 rounded text-sm"})]})]}),s.jsxs("div",{className:"mt-2 flex gap-2",children:[s.jsx("button",{onClick:()=>j({width:1200,height:800}),className:"flex-1 px-2 py-1 bg-gray-100 hover:bg-gray-200 text-gray-700 rounded text-xs",children:"Standard"}),s.jsx("button",{onClick:()=>j({width:1600,height:1200}),className:"flex-1 px-2 py-1 bg-gray-100 hover:bg-gray-200 text-gray-700 rounded text-xs",children:"Large"}),s.jsx("button",{onClick:()=>j({width:2e3,height:1600}),className:"flex-1 px-2 py-1 bg-gray-100 hover:bg-gray-200 text-gray-700 rounded text-xs",children:"XL"})]})]}),L?s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Type"}),s.jsx("div",{className:"px-3 py-2 bg-gray-100 rounded text-sm font-medium text-gray-900",children:D.find(R=>R.type===L.type)?.label})]}),L.type!=="label"&&L.type!=="frame"&&L.type!=="link"&&s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Rfrence"}),s.jsx("input",{type:"text",value:L.ref||"",onChange:R=>se(L.id,"ref",R.target.value.toUpperCase()),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500",placeholder:"EX: MONTANT_TOTAL"})]}),L.type==="file"&&s.jsxs(s.Fragment,{children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Types de fichiers accepts"}),s.jsx("input",{type:"text",value:L.props.accept||"",onChange:R=>se(L.id,"props.accept",R.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500",placeholder:".pdf,.jpg,.png"}),s.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"Sparez par des virgules (ex: .pdf,.jpg,.png)"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Taille maximum (MB)"}),s.jsx("input",{type:"number",min:"1",max:"50",value:L.props.maxSize||5,onChange:R=>se(L.id,"props.maxSize",parseInt(R.target.value)||5),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500"})]})]}),L.type==="link"&&s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"URL du lien"}),s.jsx("input",{type:"url",value:L.props.url||"",onChange:R=>se(L.id,"props.url",R.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500",placeholder:"https://example.com"}),s.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"Le lien s'ouvrira dans un nouvel onglet"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Label"}),s.jsx("input",{type:"text",value:L.props.label||"",onChange:R=>se(L.id,"props.label",R.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500"})]}),L.type==="formula"&&s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Expression"}),s.jsx("textarea",{value:L.props.expression||"",onChange:R=>se(L.id,"props.expression",R.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 font-mono text-sm",rows:3,placeholder:"EX: HEURES_REAL*TARIF_H"})]}),(L.type==="number"||L.type==="formula")&&s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Dcimales"}),s.jsx("input",{type:"number",min:"0",max:"10",value:L.props.decimals||0,onChange:R=>se(L.id,"props.decimals",parseInt(R.target.value)||0),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500"})]}),L.type==="number"&&s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Valeur par dfaut"}),s.jsx("input",{type:"number",step:"0.01",value:typeof L.props.default=="number"||typeof L.props.default=="string"?L.props.default:0,onChange:R=>se(L.id,"props.default",parseFloat(R.target.value)||0),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500"})]}),s.jsxs("div",{className:"pt-4 border-t border-gray-200",children:[s.jsx("h4",{className:"font-medium text-gray-900 mb-3",children:"Position & Taille"}),s.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-xs font-medium text-gray-700 mb-1",children:"X"}),s.jsx("input",{type:"number",value:L.layout.x,onChange:R=>se(L.id,"layout.x",parseInt(R.target.value)||0),className:"w-full px-2 py-1 border border-gray-300 rounded text-sm"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-xs font-medium text-gray-700 mb-1",children:"Y"}),s.jsx("input",{type:"number",value:L.layout.y,onChange:R=>se(L.id,"layout.y",parseInt(R.target.value)||0),className:"w-full px-2 py-1 border border-gray-300 rounded text-sm"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-xs font-medium text-gray-700 mb-1",children:"Largeur"}),s.jsx("input",{type:"number",value:L.layout.w,onChange:R=>se(L.id,"layout.w",parseInt(R.target.value)||50),className:"w-full px-2 py-1 border border-gray-300 rounded text-sm"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-xs font-medium text-gray-700 mb-1",children:"Hauteur"}),s.jsx("input",{type:"number",value:L.layout.h,onChange:R=>se(L.id,"layout.h",parseInt(R.target.value)||30),className:"w-full px-2 py-1 border border-gray-300 rounded text-sm"})]})]})]}),s.jsxs("div",{className:"pt-4 border-t border-gray-200",children:[s.jsx("h4",{className:"font-medium text-gray-900 mb-3",children:"Visibilit"}),s.jsxs("label",{className:"flex items-center gap-3 p-3 bg-gray-50 rounded-lg cursor-pointer hover:bg-gray-100",children:[s.jsx("input",{type:"checkbox",checked:L.visibility?.hidden||!1,onChange:R=>{const q={...L.visibility,hidden:R.target.checked};se(L.id,"visibility",q)},className:"w-5 h-5 text-blue-600 border-gray-300 rounded focus:ring-blue-500"}),s.jsxs("div",{className:"flex-1",children:[s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(Xs,{className:"w-4 h-4 text-gray-600"}),s.jsx("span",{className:"font-medium text-gray-900",children:"Masquer pour les professeurs"})]}),s.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"Ce champ sera invisible dans le mode test et pour les professeurs"})]})]})]}),s.jsxs("div",{className:"pt-4 border-t border-gray-200",children:[s.jsx("h4",{className:"font-medium text-gray-900 mb-3",children:"Actions"}),s.jsxs("div",{className:"flex gap-2",children:[s.jsxs("button",{onClick:()=>Se(L.id,"up"),className:"flex-1 px-3 py-2 bg-gray-100 hover:bg-gray-200 text-gray-700 rounded-lg text-sm flex items-center justify-center gap-1",children:[s.jsx(sH,{className:"w-4 h-4"}),"Avant"]}),s.jsxs("button",{onClick:()=>Se(L.id,"down"),className:"flex-1 px-3 py-2 bg-gray-100 hover:bg-gray-200 text-gray-700 rounded-lg text-sm flex items-center justify-center gap-1",children:[s.jsx(nH,{className:"w-4 h-4"}),"Arrire"]})]})]})]}):s.jsx("div",{className:"text-center py-12 text-gray-400",children:s.jsx("p",{children:"Slectionnez un champ pour voir ses proprits"})})]})})]})]})}const $i={async getAll(e){const t=e?{professor_id:e}:void 0;return at.get("/declarations",t)},async getById(e){try{return await at.get(`/declarations/${e}`)}catch(t){if(t instanceof Error&&"status"in t&&t.status===404)return null;throw t}},async create(e){return at.post("/declarations",e)},async update(e){const{id:t,...r}=e;return at.put(`/declarations/${t}`,r)},async delete(e){return at.delete(`/declarations/${e}`)}};function sie(e){return or({queryKey:["admin-declarations",e],queryFn:async()=>{const t=await $i.getAll();return e&&e!=="all"?t.filter(r=>r.status===e):t}})}function lie(){const e=Pt();return It({mutationFn:async t=>$i.update({id:t,status:"approuvee"}),onSuccess:()=>{e.invalidateQueries({queryKey:["admin-declarations"]}),e.invalidateQueries({queryKey:["admin-declaration"]})}})}function xL(){const e=Pt();return It({mutationFn:async({id:t,reason:r})=>$i.update({id:t,status:"refusee",rejection_reason:r}),onSuccess:()=>{e.invalidateQueries({queryKey:["admin-declarations"]}),e.invalidateQueries({queryKey:["admin-declaration"]})}})}function oie(){const e=Pt();return It({mutationFn:async({id:t,reason:r})=>{const n=await $i.getById(t);if(!n)throw new Error("Dclaration non trouve");return $i.update({id:t,form_data:n.form_data,status:"en_cours",rejection_reason:r})},onSuccess:()=>{e.invalidateQueries({queryKey:["admin-declarations"]}),e.invalidateQueries({queryKey:["admin-declaration"]})}})}function cie(e){return or({queryKey:["admin-declaration",e],queryFn:()=>$i.getById(e),enabled:!!e})}const gL=oie;function vL(){const e=Pt();return It({mutationFn:t=>$i.delete(t),onSuccess:()=>{e.invalidateQueries({queryKey:["admin-declarations"]})}})}function uie(){return or({queryKey:["declaration-stats"],queryFn:async()=>{const e=await $i.getAll();return{total:e.length,soumises:e.filter(t=>t.status==="soumise").length,en_cours:e.filter(t=>t.status==="en_cours").length,approuvees:e.filter(t=>t.status==="approuvee").length,refusees:e.filter(t=>t.status==="refusee").length,brouillon:e.filter(t=>t.status==="brouillon").length,a_declarer:e.filter(t=>t.status==="a_declarer").length}}})}function fie(){const e=Pt();return It({mutationFn:async t=>$i.update(t),onSuccess:()=>{e.invalidateQueries({queryKey:["admin-declarations"]}),e.invalidateQueries({queryKey:["admin-declaration"]}),e.invalidateQueries({queryKey:["professor-declarations"]})}})}function die({declaration:e,onClose:t}){const[r,n]=k.useState({segment_id:e.segment_id,city_id:e.city_id,start_date:e.start_date.split("T")[0],end_date:e.end_date.split("T")[0],status:e.status}),{data:a=[]}=ph(),{data:i=[]}=Og(),l=fie(),o=i.filter(f=>f.segment_id===r.segment_id);k.useEffect(()=>{r.segment_id&&r.city_id&&(i.find(h=>h.id===r.city_id&&h.segment_id===r.segment_id)||n(h=>({...h,city_id:""})))},[r.segment_id,r.city_id,i]);const u=async f=>{if(f.preventDefault(),!r.segment_id||!r.city_id||!r.start_date||!r.end_date){alert("Veuillez remplir tous les champs obligatoires");return}if(new Date(r.end_date)<new Date(r.start_date)){alert("La date de fin doit tre postrieure  la date de dbut");return}try{await l.mutateAsync({id:e.id,...r}),t()}catch(h){console.error("Erreur lors de la modification:",h),alert("Erreur lors de la modification de la dclaration")}};return s.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:s.jsxs("div",{className:"bg-white rounded-lg shadow-xl w-full max-w-2xl max-h-[90vh] overflow-y-auto",children:[s.jsxs("div",{className:"flex items-center justify-between p-4 sm:p-6 border-b border-gray-200",children:[s.jsxs("div",{className:"flex items-center gap-2 sm:gap-3 min-w-0",children:[s.jsx("div",{className:"w-8 h-8 sm:w-10 sm:h-10 bg-blue-100 rounded-lg flex items-center justify-center flex-shrink-0",children:s.jsx(oh,{className:"w-5 h-5 sm:w-6 sm:h-6 text-blue-600"})}),s.jsxs("div",{className:"min-w-0",children:[s.jsx("h2",{className:"text-lg sm:text-xl font-bold text-gray-900 truncate",children:"Modifier la dclaration"}),s.jsxs("p",{className:"text-xs sm:text-sm text-gray-500 truncate",children:["Professeur: ",e.professor_name]})]})]}),s.jsx("button",{onClick:t,className:"text-gray-400 hover:text-gray-600 transition-colors flex-shrink-0 ml-2",children:s.jsx(ma,{className:"w-5 h-5 sm:w-6 sm:h-6"})})]}),s.jsxs("form",{onSubmit:u,className:"p-4 sm:p-6 space-y-4 sm:space-y-6",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Segment de formation *"}),s.jsxs("div",{className:"relative",children:[s.jsx(B_,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 w-5 h-5"}),s.jsxs("select",{required:!0,value:r.segment_id,onChange:f=>n({...r,segment_id:f.target.value}),className:"w-full pl-10 pr-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent appearance-none",children:[s.jsx("option",{value:"",children:"Slectionnez un segment"}),a.map(f=>s.jsx("option",{value:f.id,children:f.name},f.id))]})]})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Ville *"}),s.jsxs("div",{className:"relative",children:[s.jsx(Cs,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 w-5 h-5"}),s.jsxs("select",{required:!0,value:r.city_id,onChange:f=>n({...r,city_id:f.target.value}),className:"w-full pl-10 pr-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent appearance-none",disabled:!r.segment_id,children:[s.jsx("option",{value:"",children:"Slectionnez une ville"}),o.map(f=>s.jsx("option",{value:f.id,children:f.name},f.id))]})]}),!r.segment_id&&s.jsx("p",{className:"mt-1 text-xs text-amber-600",children:"Veuillez d'abord slectionner un segment"}),r.segment_id&&o.length===0&&s.jsx("p",{className:"mt-1 text-xs text-amber-600",children:"Aucune ville disponible pour ce segment"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Date de dbut *"}),s.jsxs("div",{className:"relative",children:[s.jsx(wi,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 w-5 h-5"}),s.jsx("input",{type:"date",required:!0,value:r.start_date,onChange:f=>n({...r,start_date:f.target.value}),className:"w-full pl-10 pr-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent"})]})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Date de fin *"}),s.jsxs("div",{className:"relative",children:[s.jsx(wi,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 w-5 h-5"}),s.jsx("input",{type:"date",required:!0,value:r.end_date,onChange:f=>n({...r,end_date:f.target.value}),className:"w-full pl-10 pr-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent"})]})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Statut *"}),s.jsxs("div",{className:"relative",children:[s.jsx(qV,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 w-5 h-5"}),s.jsxs("select",{required:!0,value:r.status,onChange:f=>n({...r,status:f.target.value}),className:"w-full pl-10 pr-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent appearance-none",children:[s.jsx("option",{value:"brouillon",children:"Brouillon"}),s.jsx("option",{value:"a_declarer",children:" dclarer"}),s.jsx("option",{value:"en_cours",children:"En cours"}),s.jsx("option",{value:"soumise",children:"Soumise"}),s.jsx("option",{value:"approuvee",children:"Approuve"}),s.jsx("option",{value:"refusee",children:"Refuse"})]})]}),s.jsx("p",{className:"mt-1 text-xs text-gray-500",children:"Vous pouvez changer le statut (ex: de brouillon   dclarer)"})]}),s.jsxs("div",{className:"flex gap-3 pt-4 border-t border-gray-200",children:[s.jsx("button",{type:"button",onClick:t,className:"flex-1 px-4 py-2 border border-gray-300 text-gray-700 rounded-lg hover:bg-gray-50 transition-colors",children:"Annuler"}),s.jsx("button",{type:"submit",disabled:l.isPending,className:"flex-1 px-4 py-2 bg-blue-600 hover:bg-blue-700 text-white rounded-lg transition-colors disabled:opacity-50 disabled:cursor-not-allowed",children:l.isPending?"Modification...":"Modifier"})]})]})]})})}const hie=()=>{const e=Fn(),[t,r]=k.useState("all"),[n,a]=k.useState("all"),[i,l]=k.useState("all"),[o,u]=k.useState("all"),[f,h]=k.useState(null),[m,g]=k.useState(""),[x,b]=k.useState(!1),[v,w]=k.useState(!1),[N,E]=k.useState(!1),[j,T]=k.useState(null),{data:O=[],isLoading:F}=sie(t),{data:D}=uie(),L=xL(),B=gL(),H=vL(),P=Zu.useMemo(()=>Array.from(new Set(O.map(te=>te.professor_name))).sort(),[O]),U=Zu.useMemo(()=>Array.from(new Set(O.map(te=>te.city_name))).sort(),[O]),K=Zu.useMemo(()=>Array.from(new Set(O.map(te=>te.segment_name))).sort(),[O]),ee=Zu.useMemo(()=>O.filter(Se=>!(n!=="all"&&Se.professor_name!==n||i!=="all"&&Se.city_name!==i||o!=="all"&&Se.segment_name!==o)),[O,n,i,o]),me={brouillon:{label:"Brouillon",color:"bg-gray-100 text-gray-800",bgColor:"bg-gray-50 border-gray-200",hoverColor:"hover:bg-gray-100",icon:ks},a_declarer:{label:" dclarer",color:"bg-orange-100 text-orange-800",bgColor:"bg-orange-50 border-orange-200",hoverColor:"hover:bg-orange-100",icon:Wr},soumise:{label:"Soumise",color:"bg-blue-100 text-blue-800",bgColor:"bg-blue-50 border-blue-200",hoverColor:"hover:bg-blue-100",icon:As},en_cours:{label:"En cours",color:"bg-yellow-100 text-yellow-800",bgColor:"bg-yellow-50 border-yellow-200",hoverColor:"hover:bg-yellow-100",icon:Wr},approuvee:{label:"Approuve",color:"bg-green-100 text-green-800",bgColor:"bg-green-50 border-green-200",hoverColor:"hover:bg-green-100",icon:Ka},refusee:{label:"Refuse",color:"bg-red-100 text-red-800",bgColor:"bg-red-50 border-red-200",hoverColor:"hover:bg-red-100",icon:mf}},ne=async()=>{if(!f||!m.trim()){alert("Veuillez fournir un motif de refus");return}try{await L.mutateAsync({id:f.id,reason:m}),b(!1),g(""),h(null)}catch(Se){console.error("Error rejecting declaration:",Se),alert("Erreur lors du refus")}},se=async()=>{if(!f||!m.trim()){alert("Veuillez fournir un motif de demande de modification");return}try{await B.mutateAsync({id:f.id,reason:m}),w(!1),g(""),h(null)}catch(Se){console.error("Error requesting modification:",Se),alert("Erreur lors de la demande de modification")}},ye=async Se=>{const te=`tes-vous sr de vouloir supprimer cette dclaration de ${Se.professor_name} ?

Cette action est irrversible.`;if(confirm(te))try{await H.mutateAsync(Se.id)}catch(M){console.error("Error deleting declaration:",M),alert("Erreur lors de la suppression de la dclaration")}},ce=Se=>new Date(Se).toLocaleDateString("fr-FR",{day:"2-digit",month:"2-digit",year:"numeric"});return s.jsxs("div",{className:"min-h-screen bg-gray-50",children:[s.jsx("header",{className:"bg-white shadow-sm",children:s.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-3 sm:py-4",children:s.jsxs("div",{className:"flex flex-col sm:flex-row items-start sm:items-center gap-3 sm:gap-4",children:[s.jsxs(et,{variant:"outline",size:"sm",onClick:()=>e("/dashboard"),className:"w-full sm:w-auto",children:[s.jsx(ta,{className:"w-4 h-4 mr-2"}),"Retour"]}),s.jsxs("div",{children:[s.jsx("h1",{className:"text-xl sm:text-2xl font-bold text-gray-900",children:"Gestion des Dclarations"}),s.jsx("p",{className:"text-xs sm:text-sm text-gray-600 hidden sm:block",children:"Valider, refuser ou demander des modifications"})]})]})})}),s.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-6 sm:py-8",children:[D&&s.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 md:grid-cols-3 lg:grid-cols-6 gap-3 sm:gap-4 mb-6",children:[s.jsx(hn,{children:s.jsx(mn,{className:"pt-6",children:s.jsxs("div",{className:"text-center",children:[s.jsx("p",{className:"text-2xl font-bold text-gray-900",children:D.total}),s.jsx("p",{className:"text-sm text-gray-600",children:"Total"})]})})}),s.jsx(hn,{children:s.jsx(mn,{className:"pt-6",children:s.jsxs("div",{className:"text-center",children:[s.jsx("p",{className:"text-2xl font-bold text-orange-600",children:D.a_declarer||0}),s.jsx("p",{className:"text-sm text-gray-600",children:" dclarer"})]})})}),s.jsx(hn,{children:s.jsx(mn,{className:"pt-6",children:s.jsxs("div",{className:"text-center",children:[s.jsx("p",{className:"text-2xl font-bold text-blue-600",children:D.soumises}),s.jsx("p",{className:"text-sm text-gray-600",children:"Soumises"})]})})}),s.jsx(hn,{children:s.jsx(mn,{className:"pt-6",children:s.jsxs("div",{className:"text-center",children:[s.jsx("p",{className:"text-2xl font-bold text-yellow-600",children:D.en_cours}),s.jsx("p",{className:"text-sm text-gray-600",children:"En cours"})]})})}),s.jsx(hn,{children:s.jsx(mn,{className:"pt-6",children:s.jsxs("div",{className:"text-center",children:[s.jsx("p",{className:"text-2xl font-bold text-green-600",children:D.approuvees}),s.jsx("p",{className:"text-sm text-gray-600",children:"Approuves"})]})})}),s.jsx(hn,{children:s.jsx(mn,{className:"pt-6",children:s.jsxs("div",{className:"text-center",children:[s.jsx("p",{className:"text-2xl font-bold text-red-600",children:D.refusees}),s.jsx("p",{className:"text-sm text-gray-600",children:"Refuses"})]})})})]}),s.jsxs(hn,{className:"mb-6",children:[s.jsx(df,{children:s.jsx(hf,{children:"Filtres"})}),s.jsxs(mn,{children:[s.jsxs("div",{className:"mb-4",children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Par statut"}),s.jsxs("div",{className:"flex flex-wrap gap-2",children:[s.jsx(et,{variant:t==="all"?"default":"outline",onClick:()=>r("all"),children:"Toutes"}),s.jsx(et,{variant:t==="a_declarer"?"default":"outline",onClick:()=>r("a_declarer"),children:" dclarer"}),s.jsx(et,{variant:t==="soumise"?"default":"outline",onClick:()=>r("soumise"),children:"Soumises"}),s.jsx(et,{variant:t==="en_cours"?"default":"outline",onClick:()=>r("en_cours"),children:"En cours"}),s.jsx(et,{variant:t==="approuvee"?"default":"outline",onClick:()=>r("approuvee"),children:"Approuves"}),s.jsx(et,{variant:t==="refusee"?"default":"outline",onClick:()=>r("refusee"),children:"Refuses"})]})]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Par professeur"}),s.jsxs("select",{value:n,onChange:Se=>a(Se.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent bg-white",children:[s.jsx("option",{value:"all",children:"Tous les professeurs"}),P.filter(Se=>Se!==void 0).map(Se=>s.jsx("option",{value:Se,children:Se},Se))]})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Par ville"}),s.jsxs("select",{value:i,onChange:Se=>l(Se.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent bg-white",children:[s.jsx("option",{value:"all",children:"Toutes les villes"}),U.filter(Se=>Se!==void 0).map(Se=>s.jsx("option",{value:Se,children:Se},Se))]})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Par segment"}),s.jsxs("select",{value:o,onChange:Se=>u(Se.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent bg-white",children:[s.jsx("option",{value:"all",children:"Tous les segments"}),K.filter(Se=>Se!==void 0).map(Se=>s.jsx("option",{value:Se,children:Se},Se))]})]})]})]})]}),s.jsxs(hn,{children:[s.jsx(df,{children:s.jsxs(hf,{children:["Dclarations (",ee.length,")"]})}),s.jsx(mn,{children:F?s.jsxs("div",{className:"text-center py-8",children:[s.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-blue-600 mx-auto"}),s.jsx("p",{className:"text-gray-600 mt-2",children:"Chargement..."})]}):ee.length===0?s.jsxs("div",{className:"text-center py-8",children:[s.jsx(ks,{className:"w-12 h-12 text-gray-400 mx-auto mb-2"}),s.jsx("p",{className:"text-gray-600",children:"Aucune dclaration trouve"})]}):s.jsx("div",{className:"space-y-4",children:ee.map(Se=>{const te=me[Se.status].icon,M=me[Se.status];return s.jsx("div",{className:`border rounded-lg p-4 transition-all ${M.bgColor} ${M.hoverColor}`,children:s.jsxs("div",{className:"flex items-start justify-between",children:[s.jsxs("div",{className:"flex-1",children:[s.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[s.jsx("h3",{className:"font-semibold text-gray-900",children:Se.professor_name}),s.jsxs("span",{className:`px-2 py-1 rounded-full text-xs font-medium flex items-center gap-1 ${M.color}`,children:[s.jsx(te,{className:"w-3 h-3"}),M.label]})]}),s.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-2 text-sm text-gray-600",children:[s.jsxs("div",{children:[s.jsx("span",{className:"font-medium",children:"Segment:"})," ",Se.segment_name]}),s.jsxs("div",{children:[s.jsx("span",{className:"font-medium",children:"Ville:"})," ",Se.city_name]}),s.jsxs("div",{children:[s.jsx("span",{className:"font-medium",children:"Priode:"})," ",ce(Se.start_date)," - ",ce(Se.end_date)]}),s.jsxs("div",{children:[s.jsx("span",{className:"font-medium",children:"Soumise le:"})," ",Se.submitted_at?ce(Se.submitted_at):"N/A"]})]}),Se.rejection_reason&&s.jsxs("div",{className:"mt-2 p-2 bg-red-50 border border-red-200 rounded text-sm text-red-700",children:[s.jsx("span",{className:"font-medium",children:"Motif:"})," ",Se.rejection_reason]})]}),s.jsxs("div",{className:"flex gap-2 ml-4 flex-shrink-0",children:[s.jsx(et,{variant:"outline",size:"sm",onClick:()=>{T(Se),E(!0)},className:"bg-white hover:bg-purple-50 border-purple-300",title:"Modifier les mtadonnes",children:s.jsx(oh,{className:"w-4 h-4"})}),s.jsxs(et,{variant:"outline",size:"sm",onClick:()=>e(`/admin/declarations/${Se.id}`),className:"bg-white hover:bg-blue-50 border-blue-300",children:[s.jsx(n2,{className:"w-4 h-4 mr-1"}),"Ouvrir"]}),s.jsx(et,{variant:"outline",size:"sm",className:"bg-white text-red-600 hover:bg-red-50 border-red-300",onClick:()=>ye(Se),children:s.jsx(Bn,{className:"w-4 h-4"})})]})]})},Se.id)})})})]})]}),f&&!x&&!v&&s.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:s.jsx("div",{className:"bg-white rounded-lg shadow-xl max-w-2xl w-full max-h-[80vh] overflow-y-auto",children:s.jsxs("div",{className:"p-6",children:[s.jsx("h2",{className:"text-xl font-bold mb-4",children:"Dtails de la dclaration"}),s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{children:[s.jsx("span",{className:"font-medium",children:"Professeur:"})," ",f.professor_name]}),s.jsxs("div",{children:[s.jsx("span",{className:"font-medium",children:"Segment:"})," ",f.segment_name]}),s.jsxs("div",{children:[s.jsx("span",{className:"font-medium",children:"Ville:"})," ",f.city_name]}),s.jsxs("div",{children:[s.jsx("span",{className:"font-medium",children:"Fiche de calcul:"})," ",f.sheet_title]}),s.jsxs("div",{children:[s.jsx("span",{className:"font-medium",children:"Priode:"})," ",ce(f.start_date)," - ",ce(f.end_date)]}),s.jsxs("div",{children:[s.jsx("span",{className:"font-medium",children:"Statut:"})," ",s.jsx("span",{className:`px-2 py-1 rounded-full text-xs font-medium ${me[f.status].color}`,children:me[f.status].label})]}),f.form_data&&s.jsxs("div",{children:[s.jsx("span",{className:"font-medium",children:"Donnes du formulaire:"}),s.jsx("pre",{className:"mt-2 p-4 bg-gray-100 rounded text-sm overflow-x-auto",children:JSON.stringify(JSON.parse(f.form_data),null,2)})]})]}),s.jsx("div",{className:"flex justify-end gap-2 mt-6",children:s.jsx(et,{variant:"outline",onClick:()=>h(null),children:"Fermer"})})]})})}),x&&f&&s.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:s.jsx("div",{className:"bg-white rounded-lg shadow-xl max-w-md w-full",children:s.jsxs("div",{className:"p-6",children:[s.jsx("h2",{className:"text-xl font-bold mb-4",children:"Refuser la dclaration"}),s.jsxs("p",{className:"text-sm text-gray-600 mb-4",children:["Veuillez fournir un motif de refus pour la dclaration de"," ",s.jsx("strong",{children:f.professor_name})]}),s.jsx("textarea",{value:m,onChange:Se=>g(Se.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-red-500 focus:border-transparent",rows:4,placeholder:"Motif du refus..."}),s.jsxs("div",{className:"flex justify-end gap-2 mt-6",children:[s.jsx(et,{variant:"outline",onClick:()=>{b(!1),g(""),h(null)},children:"Annuler"}),s.jsx(et,{className:"bg-red-600 hover:bg-red-700 text-white",onClick:ne,disabled:!m.trim(),children:"Refuser"})]})]})})}),v&&f&&s.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:s.jsx("div",{className:"bg-white rounded-lg shadow-xl max-w-md w-full",children:s.jsxs("div",{className:"p-6",children:[s.jsx("h2",{className:"text-xl font-bold mb-4",children:"Demander une modification"}),s.jsxs("p",{className:"text-sm text-gray-600 mb-4",children:["Veuillez prciser les modifications  apporter pour la dclaration de"," ",s.jsx("strong",{children:f.professor_name})]}),s.jsx("textarea",{value:m,onChange:Se=>g(Se.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-yellow-500 focus:border-transparent",rows:4,placeholder:"Modifications demandes..."}),s.jsxs("div",{className:"flex justify-end gap-2 mt-6",children:[s.jsx(et,{variant:"outline",onClick:()=>{w(!1),g(""),h(null)},children:"Annuler"}),s.jsx(et,{className:"bg-yellow-600 hover:bg-yellow-700 text-white",onClick:se,disabled:!m.trim(),children:"Demander"})]})]})})}),N&&j&&s.jsx(die,{declaration:j,onClose:()=>{E(!1),T(null)}})]})};function mie(){const{user:e}=Si();return or({queryKey:["professor-declarations",e?.id],queryFn:()=>$i.getAll(e?.id),enabled:!!e?.id})}function pie(e){return or({queryKey:["professor-declaration",e],queryFn:()=>$i.getById(e),enabled:!!e})}function xie(){const e=Pt(),{user:t}=Si();return It({mutationFn:async r=>{if(!t?.id)throw new Error("Utilisateur non connect");const n=Bd();return $i.create({id:n,professor_id:t.id,...r,form_data:JSON.stringify(r.form_data||{})})},onSuccess:()=>{e.invalidateQueries({queryKey:["professor-declarations"]})}})}function yL(){const e=Pt();return It({mutationFn:async t=>$i.update({id:t.id,form_data:JSON.stringify(t.form_data)}),onSuccess:()=>{e.invalidateQueries({queryKey:["professor-declarations"]}),e.invalidateQueries({queryKey:["professor-declaration"]})}})}function bL(){const e=Pt();return It({mutationFn:async t=>{const r=await $i.getById(t);if(!r)throw new Error("Dclaration non trouve");return $i.update({id:t,form_data:r.form_data,status:"soumise"})},onSuccess:()=>{e.invalidateQueries({queryKey:["professor-declarations"]}),e.invalidateQueries({queryKey:["professor-declaration"]})}})}function gie(){const e=Pt();return It({mutationFn:t=>$i.delete(t),onSuccess:()=>{e.invalidateQueries({queryKey:["professor-declarations"]})}})}function vie(){return or({queryKey:["available-calculation-sheets"],queryFn:async()=>(await kc.getAll()).filter(t=>t.status==="published")})}function yie(){const{user:e}=Si();return or({queryKey:["professor-segments",e?.id],queryFn:async()=>{if(!e?.id)return[];const t=await io.getById(e.id);return!t||!t.segment_ids?[]:(await Ud.getAll()).filter(n=>t.segment_ids?.includes(n.id))},enabled:!!e?.id})}function bie(){const{user:e}=Si(),t=or({queryKey:["professor-cities",e?.id],queryFn:async()=>{if(!e?.id)return[];const r=await io.getById(e.id);return!r||!r.city_ids?[]:(await Ec.getAll()).filter(a=>r.city_ids?.includes(a.id)).map(a=>({id:a.id,name:a.name,segment_id:a.segment_id,segment_name:a.segment_name}))},enabled:!!e?.id});return{data:t.data,isLoading:t.isLoading}}const wie=({files:e,currentIndex:t,onClose:r,onNavigate:n})=>{const a=e[t];k.useEffect(()=>{const f=h=>{h.key==="Escape"&&r()};return window.addEventListener("keydown",f),()=>window.removeEventListener("keydown",f)},[r]),k.useEffect(()=>{const f=h=>{h.key==="ArrowLeft"&&t>0?n(t-1):h.key==="ArrowRight"&&t<e.length-1&&n(t+1)};return window.addEventListener("keydown",f),()=>window.removeEventListener("keydown",f)},[t,e.length,n]);const i=()=>{try{const f=a.data.split(",")[1],h=a.data.split(",")[0].split(":")[1].split(";")[0],m=atob(f),g=new ArrayBuffer(m.length),x=new Uint8Array(g);for(let N=0;N<m.length;N++)x[N]=m.charCodeAt(N);const b=new Blob([g],{type:h}),v=URL.createObjectURL(b),w=document.createElement("a");w.href=v,w.download=a.name,w.click(),URL.revokeObjectURL(v)}catch(f){console.error("Erreur lors du tlchargement:",f),alert("Erreur lors du tlchargement du fichier")}},l=f=>f<1024?`${f} B`:f<1024*1024?`${(f/1024).toFixed(2)} KB`:`${(f/(1024*1024)).toFixed(2)} MB`,o=a.type.startsWith("image/"),u=a.type==="application/pdf";return s.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black bg-opacity-75 p-4",onClick:r,children:s.jsxs("div",{className:"relative bg-white rounded-lg shadow-2xl max-w-6xl w-full max-h-[90vh] flex flex-col",onClick:f=>f.stopPropagation(),children:[s.jsxs("div",{className:"flex items-center justify-between p-4 border-b bg-gray-50 rounded-t-lg",children:[s.jsxs("div",{className:"flex-1 min-w-0",children:[s.jsx("h3",{className:"text-lg font-semibold text-gray-900 truncate",children:a.name}),s.jsxs("p",{className:"text-sm text-gray-500",children:[l(a.size),"  ",a.type]})]}),s.jsxs("div",{className:"flex items-center gap-2 ml-4",children:[s.jsxs("button",{onClick:i,className:"flex items-center gap-2 px-3 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors",title:"Tlcharger",children:[s.jsx(Es,{className:"w-4 h-4"}),s.jsx("span",{className:"hidden sm:inline",children:"Tlcharger"})]}),s.jsx("button",{onClick:r,className:"p-2 text-gray-600 hover:bg-gray-200 rounded-lg transition-colors",title:"Fermer (chap)",children:s.jsx(ma,{className:"w-5 h-5"})})]})]}),s.jsx("div",{className:"flex-1 overflow-auto p-6 bg-gray-100",children:o?s.jsx("div",{className:"flex items-center justify-center h-full",children:s.jsx("img",{src:a.data,alt:a.name,className:"max-w-full max-h-full object-contain rounded-lg shadow-lg"})}):u?s.jsx("iframe",{src:a.data,className:"w-full h-full min-h-[600px] rounded-lg shadow-lg",title:a.name}):s.jsxs("div",{className:"flex flex-col items-center justify-center h-full text-center",children:[s.jsx(ks,{className:"w-24 h-24 text-gray-400 mb-4"}),s.jsx("h4",{className:"text-xl font-semibold text-gray-700 mb-2",children:"Prvisualisation non disponible"}),s.jsxs("p",{className:"text-gray-500 mb-6",children:["Ce type de fichier ne peut pas tre prvisualis.",s.jsx("br",{}),`Cliquez sur "Tlcharger" pour l'ouvrir sur votre ordinateur.`]}),s.jsxs("button",{onClick:i,className:"flex items-center gap-2 px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors",children:[s.jsx(Es,{className:"w-4 h-4"}),"Tlcharger le fichier"]})]})}),e.length>1&&s.jsxs("div",{className:"flex items-center justify-between p-4 border-t bg-gray-50",children:[s.jsxs("button",{onClick:()=>n(t-1),disabled:t===0,className:"flex items-center gap-2 px-3 py-2 text-gray-700 bg-white border border-gray-300 rounded-lg hover:bg-gray-100 disabled:opacity-50 disabled:cursor-not-allowed transition-colors",children:[s.jsx(P_,{className:"w-4 h-4"}),"Prcdent"]}),s.jsxs("span",{className:"text-sm text-gray-600",children:[t+1," / ",e.length]}),s.jsxs("button",{onClick:()=>n(t+1),disabled:t===e.length-1,className:"flex items-center gap-2 px-3 py-2 text-gray-700 bg-white border border-gray-300 rounded-lg hover:bg-gray-100 disabled:opacity-50 disabled:cursor-not-allowed transition-colors",children:["Suivant",s.jsx(yc,{className:"w-4 h-4"})]})]})]})})},Nie=()=>{const{id:e}=Vo(),t=Fn(),{data:r,isLoading:n}=cie(e),a=lie(),i=xL(),l=gL(),o=yL(),u=vL(),[f,h]=k.useState([]),[m,g]=k.useState({}),[x,b]=k.useState({}),[v,w]=k.useState({width:1200,height:800}),[N,E]=k.useState(!1),[j,T]=k.useState(!1),[O,F]=k.useState(""),[D,L]=k.useState(null),[B,H]=k.useState(!1),[P,U]=k.useState([]),[K,ee]=k.useState(0);k.useEffect(()=>{if(r?.template_data)try{const R=JSON.parse(r.template_data);R.fields&&R.fields.length>0&&h(R.fields),R.canvasSize&&w(R.canvasSize)}catch(R){console.error("Error parsing template:",R)}if(r?.form_data)try{const R=JSON.parse(r.form_data);g(R)}catch(R){console.error("Error parsing form data:",R)}},[r]),k.useEffect(()=>{const R=k3(f,m);b(R)},[m,f]);const me=(R,q)=>{const W=f.find(le=>le.ref===R);if(!W)return;let J=q;W.type==="number"&&(J=q===""?0:parseFloat(q)||0),g(le=>({...le,[R]:J}))},ne=async()=>{if(e)try{await o.mutateAsync({id:e,form_data:m}),L("Modifications sauvegardes avec succs!"),setTimeout(()=>L(null),3e3)}catch(R){console.error("Error saving declaration:",R),alert("Erreur lors de la sauvegarde")}},se=async()=>{if(confirm("Voulez-vous vraiment approuver cette dclaration ?"))try{await a.mutateAsync(e),t("/admin/declarations")}catch(R){console.error("Error approving declaration:",R),alert("Erreur lors de l'approbation")}},ye=async()=>{if(!O.trim()){alert("Veuillez fournir un motif de refus");return}try{await i.mutateAsync({id:e,reason:O}),t("/admin/declarations")}catch(R){console.error("Error rejecting declaration:",R),alert("Erreur lors du refus")}},ce=async()=>{if(!O.trim()){alert("Veuillez fournir un motif de demande de modification");return}try{await l.mutateAsync({id:e,reason:O}),t("/admin/declarations")}catch(R){console.error("Error requesting modification:",R),alert("Erreur lors de la demande de modification")}},Se=async()=>{const R=`tes-vous sr de vouloir supprimer cette dclaration de ${r?.professor_name} ?

Cette action est irrversible.`;if(confirm(R))try{await u.mutateAsync(e),t("/admin/declarations")}catch(q){console.error("Error deleting declaration:",q),alert("Erreur lors de la suppression de la dclaration")}},te=R=>{const q=R.layout||{x:0,y:0,w:200,h:40},W=R.visibility?.hidden===!0,J=ue=>W?`${ue} ring-2 ring-red-400 ring-offset-2`:ue,le=()=>W?s.jsx("div",{className:"absolute -top-2 -right-2 z-10 px-2 py-0.5 bg-red-600 text-white text-xs font-bold rounded-full shadow-lg",children:"ADMIN"}):null;if(R.type==="label")return s.jsxs("div",{className:"absolute",style:{left:`${q.x}px`,top:`${q.y}px`,width:`${q.w}px`,height:`${q.h}px`},children:[s.jsx("div",{className:J("w-full h-full bg-gray-100 border-2 border-gray-300 rounded px-3 py-2 flex items-center font-semibold text-gray-700"),children:R.props.label}),s.jsx(le,{})]},R.id);if(R.type==="text"){const ue=m[R.ref],X=typeof ue=="string"||typeof ue=="number"?String(ue):"";return s.jsxs("div",{className:"absolute",style:{left:`${q.x}px`,top:`${q.y}px`,width:`${q.w}px`,height:`${q.h}px`},children:[s.jsx("input",{type:"text",value:X,onChange:ge=>me(R.ref,ge.target.value),className:J("w-full h-full px-3 py-2 border border-blue-300 rounded focus:ring-2 focus:ring-blue-500 focus:border-transparent")}),s.jsx(le,{})]},R.id)}if(R.type==="textarea"){const ue=m[R.ref],X=typeof ue=="string"||typeof ue=="number"?String(ue):"";return s.jsxs("div",{className:"absolute",style:{left:`${q.x}px`,top:`${q.y}px`,width:`${q.w}px`,height:`${q.h}px`},children:[s.jsx("textarea",{value:X,onChange:ge=>me(R.ref,ge.target.value),placeholder:R.props.label||"crivez vos commentaires ici...",className:J("w-full h-full px-3 py-2 border-2 border-indigo-300 rounded focus:ring-2 focus:ring-indigo-500 focus:border-transparent resize-none")}),s.jsx(le,{})]},R.id)}if(R.type==="number"){const ue=m[R.ref]!==void 0?m[R.ref]:R.props.default||0,X=typeof ue=="number"||typeof ue=="string"?ue:"";return s.jsxs("div",{className:"absolute",style:{left:`${q.x}px`,top:`${q.y}px`,width:`${q.w}px`,height:`${q.h}px`},children:[s.jsx("input",{type:"number",step:"0.01",value:X,onChange:ge=>me(R.ref,ge.target.value),className:J("w-full h-full px-3 py-2 border border-green-300 rounded focus:ring-2 focus:ring-green-500 focus:border-transparent")}),s.jsx(le,{})]},R.id)}if(R.type==="formula"){const ue=x[R.ref],X=typeof ue=="string"&&ue.startsWith("#");return s.jsxs("div",{className:"absolute flex items-center",style:{left:`${q.x}px`,top:`${q.y}px`,width:`${q.w}px`,height:`${q.h}px`},children:[s.jsx("div",{className:J(`w-full h-full px-3 py-2 border-2 rounded font-semibold flex items-center ${X?"bg-red-50 border-red-400 text-red-700":"bg-purple-50 border-purple-400 text-purple-900"}`),children:typeof ue=="number"?ue.toFixed(R.props.decimals||2):String(ue||"0")}),s.jsx(le,{})]},R.id)}if(R.type==="frame")return s.jsxs("div",{className:"absolute",style:{left:`${q.x}px`,top:`${q.y}px`,width:`${q.w}px`,height:`${q.h}px`},children:[s.jsx("div",{className:J("w-full h-full border-2 border-orange-400 rounded-lg bg-orange-50/30"),children:s.jsx("div",{className:"bg-orange-500 text-white px-3 py-1 rounded-t font-semibold text-sm",children:R.props.label||"Cadre"})}),s.jsx(le,{})]},R.id);if(R.type==="file"){const ue=m[R.ref],X=ue&&Array.isArray(ue)&&ue.length>0,ge=We=>We<1024?`${We} B`:We<1024*1024?`${(We/1024).toFixed(2)} KB`:`${(We/(1024*1024)).toFixed(2)} MB`,Te=We=>{try{const Ee=We.data.split(",")[1],xe=We.data.split(",")[0].split(":")[1].split(";")[0],dt=atob(Ee),Xe=new ArrayBuffer(dt.length),bt=new Uint8Array(Xe);for(let Ke=0;Ke<dt.length;Ke++)bt[Ke]=dt.charCodeAt(Ke);const lt=new Blob([Xe],{type:xe}),Ct=URL.createObjectURL(lt),xt=document.createElement("a");xt.href=Ct,xt.download=We.name,xt.click(),URL.revokeObjectURL(Ct)}catch(Ee){console.error("Erreur lors du tlchargement:",Ee),alert("Erreur lors du tlchargement du fichier")}},Y=We=>{U(ue),ee(We),H(!0)};return s.jsxs("div",{className:"absolute",style:{left:`${q.x}px`,top:`${q.y}px`,width:`${q.w}px`,height:`${q.h}px`},children:[s.jsxs("div",{className:J("w-full h-full border-2 border-dashed border-teal-300 bg-teal-50/50 rounded px-3 py-2 overflow-y-auto"),children:[s.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[s.jsx(ks,{className:"w-5 h-5 text-teal-600"}),s.jsxs("span",{className:"text-sm font-medium text-teal-700",children:[R.props.label||"Pices jointes"," (",X?ue.length:0,")"]})]}),X?s.jsx("div",{className:"space-y-2",children:ue.map((We,Ee)=>{const dt=We.type.startsWith("image/")?jx:ks;return s.jsxs("div",{className:"flex items-center gap-2 p-2 bg-white rounded border border-teal-200 hover:border-teal-400 transition-colors",children:[s.jsx(dt,{className:"w-4 h-4 text-teal-600 flex-shrink-0"}),s.jsxs("div",{className:"flex-1 min-w-0",children:[s.jsx("div",{className:"text-xs font-medium text-teal-900 truncate",children:We.name}),s.jsx("div",{className:"text-xs text-teal-600",children:ge(We.size)})]}),s.jsxs("div",{className:"flex gap-1 flex-shrink-0",children:[s.jsx("button",{onClick:()=>Y(Ee),className:"p-1.5 bg-blue-100 hover:bg-blue-200 text-blue-700 rounded transition-colors",title:"Voir",children:s.jsx(Ds,{className:"w-3.5 h-3.5"})}),s.jsx("button",{onClick:()=>Te(We),className:"p-1.5 bg-teal-100 hover:bg-teal-200 text-teal-700 rounded transition-colors",title:"Tlcharger",children:s.jsx(Es,{className:"w-3.5 h-3.5"})})]})]},Ee)})}):s.jsxs("div",{className:"text-center py-4",children:[s.jsx(ks,{className:"w-8 h-8 text-teal-300 mx-auto mb-2"}),s.jsx("span",{className:"text-xs text-teal-500 italic",children:"Aucune pice jointe"})]})]}),s.jsx(le,{})]},R.id)}if(R.type==="link"){const ue=m[R.ref]||"",X=ue&&ue.trim()!==""&&(ue.startsWith("http://")||ue.startsWith("https://"));return s.jsxs("div",{className:"absolute",style:{left:`${q.x}px`,top:`${q.y}px`,width:`${q.w}px`,height:`${q.h}px`},children:[s.jsxs("div",{className:J("w-full h-full border-2 border-cyan-400 bg-cyan-50 rounded px-3 py-2 flex items-center gap-2"),children:[s.jsx(zx,{className:"w-5 h-5 text-cyan-600 flex-shrink-0"}),s.jsxs("div",{className:"flex-1 min-w-0",children:[s.jsx("div",{className:"text-xs font-medium text-cyan-700 mb-1",children:R.props.label||"Lien"}),X?s.jsx("a",{href:ue,target:"_blank",rel:"noopener noreferrer",className:"text-sm text-cyan-900 hover:text-cyan-700 underline truncate block",children:ue}):s.jsx("span",{className:"text-sm text-gray-400 italic",children:"Aucun lien fourni"})]}),X&&s.jsx("a",{href:ue,target:"_blank",rel:"noopener noreferrer",className:"p-2 bg-cyan-600 hover:bg-cyan-700 text-white rounded transition-colors flex-shrink-0",title:"Ouvrir le lien",children:s.jsx(n2,{className:"w-4 h-4"})})]}),s.jsx(le,{})]},R.id)}return null},M={brouillon:{label:"Brouillon",color:"bg-gray-100 text-gray-800"},soumise:{label:"Soumise",color:"bg-blue-100 text-blue-800"},en_cours:{label:"En cours",color:"bg-yellow-100 text-yellow-800"},approuvee:{label:"Approuve",color:"bg-green-100 text-green-800"},refusee:{label:"Refuse",color:"bg-red-100 text-red-800"}};return n?s.jsx("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center",children:s.jsxs("div",{className:"text-center",children:[s.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-600 mx-auto mb-4"}),s.jsx("p",{className:"text-gray-600",children:"Chargement..."})]})}):r?s.jsxs("div",{className:"min-h-screen bg-gray-50",children:[s.jsx("div",{className:"bg-white border-b border-gray-200 px-6 py-4 sticky top-0 z-10",children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{className:"flex items-center gap-4",children:[s.jsx("button",{onClick:()=>t("/admin/declarations"),className:"p-2 hover:bg-gray-100 rounded-lg transition-colors",title:"Retour  la liste",children:s.jsx(ta,{className:"w-6 h-6 text-gray-600"})}),s.jsxs("div",{children:[s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:r.sheet_title}),s.jsx("span",{className:`px-3 py-1 rounded-full text-sm font-medium ${M[r.status].color}`,children:M[r.status].label}),s.jsxs("span",{className:"px-3 py-1 bg-gray-100 text-gray-700 rounded-full text-xs font-medium flex items-center gap-1",children:[s.jsx(Ds,{className:"w-3 h-3"}),"Mode Admin"]})]}),s.jsxs("div",{className:"text-sm text-gray-500 mt-1",children:[r.professor_name,"  ",r.segment_name,"  ",r.city_name,"  Du"," ",new Date(r.start_date).toLocaleDateString("fr-FR")," au"," ",new Date(r.end_date).toLocaleDateString("fr-FR")]})]})]}),s.jsxs("div",{className:"flex items-center gap-3",children:[D&&s.jsx("div",{className:"flex items-center gap-2 bg-green-100 text-green-800 px-4 py-2 rounded-lg",children:s.jsx("span",{className:"text-sm font-medium",children:D})}),s.jsxs(et,{variant:"outline",className:"text-red-600 hover:bg-red-50",onClick:Se,children:[s.jsx(Bn,{className:"w-4 h-4 mr-2"}),"Supprimer"]}),s.jsxs(et,{variant:"outline",onClick:ne,disabled:o.isPending,children:[s.jsx(np,{className:"w-4 h-4 mr-2"}),"Sauvegarder"]}),r.status==="soumise"&&s.jsxs(s.Fragment,{children:[s.jsxs(et,{variant:"outline",className:"text-green-600 hover:bg-green-50",onClick:se,children:[s.jsx(Ka,{className:"w-4 h-4 mr-2"}),"Approuver"]}),s.jsxs(et,{variant:"outline",className:"text-yellow-600 hover:bg-yellow-50",onClick:()=>T(!0),children:[s.jsx(Wr,{className:"w-4 h-4 mr-2"}),"Demander modification"]}),s.jsxs(et,{variant:"outline",className:"text-red-600 hover:bg-red-50",onClick:()=>E(!0),children:[s.jsx(mf,{className:"w-4 h-4 mr-2"}),"Refuser"]})]})]})]})}),r.rejection_reason&&s.jsx("div",{className:"bg-red-50 border-b border-red-200 px-6 py-4",children:s.jsxs("div",{className:"flex items-start gap-2",children:[s.jsx(Wr,{className:"w-5 h-5 text-red-500 flex-shrink-0 mt-0.5"}),s.jsxs("div",{children:[s.jsx("p",{className:"text-sm font-semibold text-red-800",children:r.status==="refusee"?"Dclaration refuse":"Modifications demandes"}),s.jsx("p",{className:"text-sm text-red-700 mt-1",children:r.rejection_reason})]})]})}),s.jsx("div",{className:"p-4",children:s.jsx("div",{className:"bg-white rounded-lg shadow-sm overflow-auto",children:s.jsx("div",{className:"relative bg-white",style:{width:`${v.width}px`,minHeight:`${v.height}px`},children:f.map(R=>te(R))})})}),N&&s.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:s.jsx("div",{className:"bg-white rounded-lg shadow-xl max-w-md w-full",children:s.jsxs("div",{className:"p-6",children:[s.jsx("h2",{className:"text-xl font-bold mb-4",children:"Refuser la dclaration"}),s.jsxs("p",{className:"text-sm text-gray-600 mb-4",children:["Veuillez fournir un motif de refus pour la dclaration de"," ",s.jsx("strong",{children:r.professor_name})]}),s.jsx("textarea",{value:O,onChange:R=>F(R.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-red-500 focus:border-transparent",rows:4,placeholder:"Motif du refus..."}),s.jsxs("div",{className:"flex justify-end gap-2 mt-6",children:[s.jsx(et,{variant:"outline",onClick:()=>{E(!1),F("")},children:"Annuler"}),s.jsx(et,{className:"bg-red-600 hover:bg-red-700 text-white",onClick:ye,disabled:!O.trim(),children:"Refuser"})]})]})})}),j&&s.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:s.jsx("div",{className:"bg-white rounded-lg shadow-xl max-w-md w-full",children:s.jsxs("div",{className:"p-6",children:[s.jsx("h2",{className:"text-xl font-bold mb-4",children:"Demander une modification"}),s.jsxs("p",{className:"text-sm text-gray-600 mb-4",children:["Veuillez prciser les modifications  apporter pour la dclaration de"," ",s.jsx("strong",{children:r.professor_name})]}),s.jsx("textarea",{value:O,onChange:R=>F(R.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-yellow-500 focus:border-transparent",rows:4,placeholder:"Modifications demandes..."}),s.jsxs("div",{className:"flex justify-end gap-2 mt-6",children:[s.jsx(et,{variant:"outline",onClick:()=>{T(!1),F("")},children:"Annuler"}),s.jsx(et,{className:"bg-yellow-600 hover:bg-yellow-700 text-white",onClick:ce,disabled:!O.trim(),children:"Demander"})]})]})})}),B&&P.length>0&&s.jsx(wie,{files:P,currentIndex:K,onClose:()=>H(!1),onNavigate:R=>ee(R)})]}):s.jsx("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center",children:s.jsxs("div",{className:"text-center",children:[s.jsx("p",{className:"text-gray-600",children:"Dclaration introuvable"}),s.jsx(et,{onClick:()=>t("/admin/declarations"),className:"mt-4",children:"Retour"})]})})},_ie={brouillon:{label:"Brouillon",color:"bg-gray-100 text-gray-800 border-gray-300",icon:ks},a_declarer:{label:" dclarer",color:"bg-orange-100 text-orange-800 border-orange-300",icon:Wr},soumise:{label:"Soumise",color:"bg-blue-100 text-blue-800 border-blue-300",icon:As},en_cours:{label:"En cours",color:"bg-yellow-100 text-yellow-800 border-yellow-300",icon:Wr},approuvee:{label:"Approuve",color:"bg-green-100 text-green-800 border-green-300",icon:QD},refusee:{label:"Refuse",color:"bg-red-100 text-red-800 border-red-300",icon:mf}},C3=({status:e,className:t=""})=>{const r=_ie[e],n=r.icon;return s.jsxs("span",{className:`inline-flex items-center gap-1.5 px-3 py-1 rounded-full text-xs font-medium border ${r.color} ${t}`,children:[s.jsx(n,{className:"w-3.5 h-3.5"}),r.label]})},jie=({onClose:e})=>{const t=Fn(),r=xie(),{data:n}=vie(),{data:a=[],isLoading:i}=yie(),{data:l=[],isLoading:o}=bie(),[u,f]=k.useState([]),[h,m]=k.useState(""),[g,x]=k.useState(""),[b,v]=k.useState(""),[w,N]=k.useState(""),[E,j]=k.useState("");k.useEffect(()=>{if(h){const O=l.filter(F=>F.segment_id===h);f(O),g&&!O.find(F=>F.id===g)&&x("")}else f([]),x("")},[h,l,g]);const T=async O=>{if(O.preventDefault(),j(""),!h||!g||!b||!w){j("Veuillez remplir tous les champs");return}if(new Date(w)<=new Date(b)){j("La date de fin doit tre postrieure  la date de dbut");return}const F=n?.find(D=>D.segment_ids?.includes(h)&&D.city_ids?.includes(g));if(!F){j("Aucune fiche de calcul publie n'existe pour ce segment et cette ville");return}try{const D=await r.mutateAsync({calculation_sheet_id:F.id,segment_id:h,city_id:g,start_date:b,end_date:w,form_data:{}});t(`/professor/declarations/${D.id}/fill`)}catch(D){console.error("Error creating declaration:",D),j("Erreur lors de la cration de la dclaration")}};return s.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:s.jsxs("div",{className:"bg-white rounded-lg shadow-xl max-w-md w-full mx-4",children:[s.jsxs("div",{className:"flex items-center justify-between p-6 border-b",children:[s.jsx("h2",{className:"text-xl font-semibold text-gray-900",children:"Nouvelle Dclaration"}),s.jsx("button",{onClick:e,className:"text-gray-400 hover:text-gray-600 transition-colors",children:s.jsx(ma,{className:"w-5 h-5"})})]}),s.jsxs("form",{onSubmit:T,className:"p-6 space-y-4",children:[(i||o)&&s.jsx("div",{className:"text-center py-4",children:s.jsx("p",{className:"text-gray-600",children:"Chargement..."})}),s.jsxs("div",{children:[s.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:["Segment ",s.jsx("span",{className:"text-red-500",children:"*"})]}),s.jsxs("select",{value:h,onChange:O=>m(O.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent disabled:bg-gray-100 disabled:cursor-not-allowed",required:!0,disabled:i,children:[s.jsx("option",{value:"",children:"Slectionner un segment"}),a.map(O=>s.jsx("option",{value:O.id,children:O.name},O.id))]}),!i&&a.length===0&&s.jsx("p",{className:"text-sm text-red-500 mt-1",children:"Aucun segment affect  votre compte"})]}),s.jsxs("div",{children:[s.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:["Ville ",s.jsx("span",{className:"text-red-500",children:"*"})]}),s.jsxs("select",{value:g,onChange:O=>x(O.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent disabled:bg-gray-100 disabled:cursor-not-allowed",required:!0,disabled:!h||o,children:[s.jsx("option",{value:"",children:"Slectionner une ville"}),u.map(O=>s.jsx("option",{value:O.id,children:O.name},O.id))]}),!o&&l.length===0&&s.jsx("p",{className:"text-sm text-red-500 mt-1",children:"Aucune ville affecte  votre compte"}),h&&u.length===0&&l.length>0&&s.jsx("p",{className:"text-sm text-gray-500 mt-1",children:"Aucune ville disponible pour ce segment"})]}),s.jsxs("div",{children:[s.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:["Date de dbut ",s.jsx("span",{className:"text-red-500",children:"*"})]}),s.jsx("input",{type:"date",value:b,onChange:O=>v(O.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",required:!0})]}),s.jsxs("div",{children:[s.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:["Date de fin ",s.jsx("span",{className:"text-red-500",children:"*"})]}),s.jsx("input",{type:"date",value:w,onChange:O=>N(O.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",required:!0,min:b})]}),E&&s.jsxs("div",{className:"bg-red-50 border border-red-200 rounded-lg p-3 flex items-start gap-2",children:[s.jsx(Wr,{className:"w-5 h-5 text-red-500 flex-shrink-0 mt-0.5"}),s.jsx("p",{className:"text-sm text-red-700",children:E})]}),s.jsxs("div",{className:"flex gap-3 pt-4",children:[s.jsx("button",{type:"button",onClick:e,className:"flex-1 px-4 py-2 border border-gray-300 text-gray-700 rounded-lg hover:bg-gray-50 transition-colors",children:"Annuler"}),s.jsx("button",{type:"submit",disabled:r.isPending,className:"flex-1 px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors disabled:bg-blue-400 disabled:cursor-not-allowed",children:r.isPending?"Cration...":"Crer"})]})]})]})})},Sie=()=>{const{data:e,isLoading:t}=mie(),r=gie(),n=bL(),[a,i]=k.useState(!1),l=async f=>{if(window.confirm("tes-vous sr de vouloir supprimer cette dclaration ?"))try{await r.mutateAsync(f)}catch(h){console.error("Error deleting declaration:",h),alert("Erreur lors de la suppression de la dclaration")}},o=async f=>{if(window.confirm("Voulez-vous soumettre cette dclaration pour validation ?"))try{await n.mutateAsync(f)}catch(h){console.error("Error submitting declaration:",h),alert("Erreur lors de la soumission de la dclaration")}},u=f=>new Date(f).toLocaleDateString("fr-FR");return t?s.jsx("div",{className:"min-h-screen flex items-center justify-center",children:s.jsxs("div",{className:"text-center",children:[s.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-600 mx-auto mb-4"}),s.jsx("p",{className:"text-gray-600",children:"Chargement des dclarations..."})]})}):s.jsxs("div",{className:"min-h-screen bg-gray-50",children:[s.jsx("div",{className:"bg-white border-b border-gray-200",children:s.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-6",children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{className:"flex items-center gap-4",children:[s.jsx(Ma,{to:"/dashboard",className:"p-2 hover:bg-gray-100 rounded-lg transition-colors",title:"Retour au tableau de bord",children:s.jsx(ta,{className:"w-6 h-6 text-gray-600"})}),s.jsxs("div",{children:[s.jsx("h1",{className:"text-3xl font-bold text-gray-900",children:"Mes Dclarations"}),s.jsx("p",{className:"text-sm text-gray-600 mt-1",children:"Grez vos dclarations de sessions"})]})]}),s.jsxs("button",{onClick:()=>i(!0),className:"px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors flex items-center gap-2",children:[s.jsx(_i,{className:"w-5 h-5"}),"Nouvelle Dclaration"]})]})})}),s.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:[s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 lg:grid-cols-6 gap-4 mb-6",children:[s.jsxs("div",{className:"bg-white rounded-lg shadow-sm p-4",children:[s.jsx("p",{className:"text-sm text-gray-600",children:"Total"}),s.jsx("p",{className:"text-2xl font-bold text-gray-900",children:e?.length||0})]}),s.jsxs("div",{className:"bg-white rounded-lg shadow-sm p-4",children:[s.jsx("p",{className:"text-sm text-gray-600",children:" modifier"}),s.jsx("p",{className:"text-2xl font-bold text-yellow-600",children:e?.filter(f=>f.status==="en_cours").length||0})]}),s.jsxs("div",{className:"bg-white rounded-lg shadow-sm p-4",children:[s.jsx("p",{className:"text-sm text-gray-600",children:" dclarer"}),s.jsx("p",{className:"text-2xl font-bold text-orange-600",children:e?.filter(f=>f.status==="a_declarer").length||0})]}),s.jsxs("div",{className:"bg-white rounded-lg shadow-sm p-4",children:[s.jsx("p",{className:"text-sm text-gray-600",children:"Brouillons"}),s.jsx("p",{className:"text-2xl font-bold text-gray-500",children:e?.filter(f=>f.status==="brouillon").length||0})]}),s.jsxs("div",{className:"bg-white rounded-lg shadow-sm p-4",children:[s.jsx("p",{className:"text-sm text-gray-600",children:"Soumises"}),s.jsx("p",{className:"text-2xl font-bold text-blue-600",children:e?.filter(f=>f.status==="soumise").length||0})]}),s.jsxs("div",{className:"bg-white rounded-lg shadow-sm p-4",children:[s.jsx("p",{className:"text-sm text-gray-600",children:"Approuves"}),s.jsx("p",{className:"text-2xl font-bold text-green-600",children:e?.filter(f=>f.status==="approuvee").length||0})]})]}),!e||e.length===0?s.jsxs("div",{className:"bg-white rounded-lg shadow-sm p-12 text-center",children:[s.jsx(ks,{className:"w-16 h-16 text-gray-400 mx-auto mb-4"}),s.jsx("h3",{className:"text-lg font-semibold text-gray-700 mb-2",children:"Aucune dclaration"}),s.jsx("p",{className:"text-gray-500 mb-6",children:"Commencez par crer votre premire dclaration"}),s.jsxs("button",{onClick:()=>i(!0),className:"px-6 py-3 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors inline-flex items-center gap-2",children:[s.jsx(_i,{className:"w-5 h-5"}),"Nouvelle Dclaration"]})]}):s.jsx("div",{className:"bg-white rounded-lg shadow-sm overflow-hidden",children:s.jsx("div",{className:"overflow-x-auto",children:s.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[s.jsx("thead",{className:"bg-gray-50",children:s.jsxs("tr",{children:[s.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Segment"}),s.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Ville"}),s.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Date Dbut"}),s.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Date Fin"}),s.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Statut"}),s.jsx("th",{className:"px-6 py-3 text-right text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Actions"})]})}),s.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:e.map(f=>s.jsxs(Zu.Fragment,{children:[s.jsxs("tr",{className:"hover:bg-gray-50",children:[s.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:s.jsx("div",{className:"text-sm font-medium text-gray-900",children:f.segment_name})}),s.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:s.jsx("div",{className:"text-sm text-gray-900",children:f.city_name})}),s.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:s.jsx("div",{className:"text-sm text-gray-900",children:u(f.start_date)})}),s.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:s.jsx("div",{className:"text-sm text-gray-900",children:u(f.end_date)})}),s.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:s.jsx(C3,{status:f.status})}),s.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-right text-sm font-medium",children:s.jsxs("div",{className:"flex items-center justify-end gap-2",children:[s.jsx(Ma,{to:`/professor/declarations/${f.id}/fill`,className:"text-blue-600 hover:text-blue-900 p-1 hover:bg-blue-50 rounded transition-colors",title:f.status==="brouillon"||f.status==="refusee"||f.status==="a_declarer"||f.status==="en_cours"?"Remplir":"Voir",children:f.status==="brouillon"||f.status==="refusee"||f.status==="a_declarer"||f.status==="en_cours"?s.jsx(oh,{className:"w-4 h-4"}):s.jsx(Ds,{className:"w-4 h-4"})}),(f.status==="brouillon"||f.status==="a_declarer"||f.status==="en_cours")&&s.jsx("button",{onClick:()=>o(f.id),className:"text-green-600 hover:text-green-900 p-1 hover:bg-green-50 rounded transition-colors",title:"Soumettre",children:s.jsx(Em,{className:"w-4 h-4"})}),f.status==="brouillon"&&s.jsx("button",{onClick:()=>l(f.id),className:"text-red-600 hover:text-red-900 p-1 hover:bg-red-50 rounded transition-colors",title:"Supprimer",disabled:r.isPending,children:s.jsx(Bn,{className:"w-4 h-4"})})]})})]}),f.status==="en_cours"&&f.rejection_reason&&s.jsx("tr",{children:s.jsx("td",{colSpan:6,className:"px-6 py-3 bg-yellow-50 border-l-4 border-yellow-400",children:s.jsxs("div",{className:"flex items-start gap-2",children:[s.jsx(Wr,{className:"w-5 h-5 text-yellow-600 flex-shrink-0 mt-0.5"}),s.jsxs("div",{children:[s.jsx("p",{className:"text-sm font-semibold text-yellow-900",children:"Modifications demandes par l'administrateur"}),s.jsx("p",{className:"text-sm text-yellow-800 mt-1",children:f.rejection_reason})]})]})})})]},f.id))})]})})})]}),a&&s.jsx(jie,{onClose:()=>i(!1)})]})},Aie=()=>{const{id:e}=Vo(),t=Fn(),{data:r,isLoading:n}=pie(e||""),a=yL(),i=bL(),[l,o]=k.useState([]),[u,f]=k.useState({}),[h,m]=k.useState({}),[g,x]=k.useState(null),[b,v]=k.useState({width:1200,height:800}),w=r?.status!=="brouillon"&&r?.status!=="refusee"&&r?.status!=="en_cours"&&r?.status!=="a_declarer";k.useEffect(()=>{if(r?.template_data)try{const L=JSON.parse(r.template_data);L.fields&&L.fields.length>0&&o(L.fields),L.canvasSize&&v(L.canvasSize)}catch(L){console.error("Error parsing template:",L)}if(r?.form_data)try{const L=JSON.parse(r.form_data);f(L)}catch(L){console.error("Error parsing form data:",L)}},[r]),k.useEffect(()=>{const L=k3(l,u);m(L)},[u,l]);const N=(L,B)=>{const H=l.find(U=>U.ref===L);if(!H)return;let P=B;H.type==="number"&&(P=B===""?0:parseFloat(B)||0),f(U=>({...U,[L]:P}))},E=L=>new Promise((B,H)=>{const P=new FileReader;P.readAsDataURL(L),P.onload=()=>B(P.result),P.onerror=U=>H(U)}),j=async(L,B)=>{if(!B){f(H=>({...H,[L]:[]}));return}try{const H=await E(B),P={name:B.name,size:B.size,type:B.type,data:H,uploadedAt:new Date().toISOString()};f(U=>{const K=Array.isArray(U[L])?U[L]:[];return{...U,[L]:[...K,P]}})}catch(H){console.error("Error converting file to base64:",H),alert("Erreur lors du traitement du fichier")}},T=(L,B)=>{f(H=>{const U=(Array.isArray(H[L])?H[L]:[]).filter((K,ee)=>ee!==B);return{...H,[L]:U}})},O=async()=>{if(e)try{await a.mutateAsync({id:e,form_data:u}),x("Brouillon sauvegard avec succs!"),setTimeout(()=>x(null),3e3)}catch(L){console.error("Error saving declaration:",L),alert("Erreur lors de la sauvegarde")}},F=async()=>{if(e&&window.confirm("Voulez-vous soumettre cette dclaration pour validation ? Vous ne pourrez plus la modifier aprs soumission."))try{await a.mutateAsync({id:e,form_data:u}),await i.mutateAsync(e),t("/professor/declarations")}catch(L){console.error("Error submitting declaration:",L),alert("Erreur lors de la soumission")}},D=L=>{const B=L.layout||{x:0,y:0,w:200,h:40};if(L.visibility?.hidden)return null;if(L.type==="label")return s.jsx("div",{className:"absolute bg-gray-100 border-2 border-gray-300 rounded px-3 py-2 flex items-center font-semibold text-gray-700",style:{left:`${B.x}px`,top:`${B.y}px`,width:`${B.w}px`,height:`${B.h}px`},children:L.props.label},L.id);if(L.type==="text"){const H=u[L.ref],P=typeof H=="string"||typeof H=="number"?String(H):"";return s.jsx("div",{className:"absolute",style:{left:`${B.x}px`,top:`${B.y}px`,width:`${B.w}px`,height:`${B.h}px`},children:s.jsx("input",{type:"text",value:P,onChange:U=>N(L.ref,U.target.value),className:"w-full h-full px-3 py-2 border border-blue-300 rounded focus:ring-2 focus:ring-blue-500 focus:border-transparent disabled:bg-gray-100 disabled:cursor-not-allowed",disabled:w})},L.id)}if(L.type==="textarea"){const H=u[L.ref],P=typeof H=="string"||typeof H=="number"?String(H):"";return s.jsx("div",{className:"absolute",style:{left:`${B.x}px`,top:`${B.y}px`,width:`${B.w}px`,height:`${B.h}px`},children:s.jsx("textarea",{value:P,onChange:U=>N(L.ref,U.target.value),placeholder:L.props.label||"crivez vos commentaires ici...",className:"w-full h-full px-3 py-2 border-2 border-indigo-300 rounded focus:ring-2 focus:ring-indigo-500 focus:border-transparent resize-none disabled:bg-gray-100 disabled:cursor-not-allowed",disabled:w})},L.id)}if(L.type==="number"){const H=u[L.ref]!==void 0?u[L.ref]:L.props.default||0,P=typeof H=="number"||typeof H=="string"?H:"";return s.jsx("div",{className:"absolute",style:{left:`${B.x}px`,top:`${B.y}px`,width:`${B.w}px`,height:`${B.h}px`},children:s.jsx("input",{type:"number",step:"0.01",value:P,onChange:U=>N(L.ref,U.target.value),className:"w-full h-full px-3 py-2 border border-green-300 rounded focus:ring-2 focus:ring-green-500 focus:border-transparent disabled:bg-gray-100 disabled:cursor-not-allowed",disabled:w})},L.id)}if(L.type==="formula"){const H=h[L.ref],P=typeof H=="string"&&H.startsWith("#");return s.jsx("div",{className:"absolute flex items-center",style:{left:`${B.x}px`,top:`${B.y}px`,width:`${B.w}px`,height:`${B.h}px`},children:s.jsx("div",{className:`w-full h-full px-3 py-2 border-2 rounded font-semibold flex items-center ${P?"bg-red-50 border-red-400 text-red-700":"bg-purple-50 border-purple-400 text-purple-900"}`,children:typeof H=="number"?H.toFixed(L.props.decimals||2):String(H||"0")})},L.id)}if(L.type==="frame")return s.jsx("div",{className:"absolute border-2 border-orange-400 rounded-lg bg-orange-50/30",style:{left:`${B.x}px`,top:`${B.y}px`,width:`${B.w}px`,height:`${B.h}px`},children:s.jsx("div",{className:"bg-orange-500 text-white px-3 py-1 rounded-t font-semibold text-sm",children:L.props.label||"Cadre"})},L.id);if(L.type==="file"){const H=Array.isArray(u[L.ref])?u[L.ref]:[],P=H&&H.length>0;return s.jsx("div",{className:"absolute",style:{left:`${B.x}px`,top:`${B.y}px`,width:`${B.w}px`,height:`${B.h}px`},children:s.jsxs("div",{className:"w-full h-full border-2 border-teal-400 bg-teal-50 rounded px-3 py-2 flex flex-col gap-2 overflow-y-auto",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(ks,{className:"w-5 h-5 text-teal-600"}),s.jsxs("span",{className:"text-sm font-medium text-teal-900",children:[L.props.label||"Pices jointes"," (",H.length,")"]})]}),!w&&s.jsxs("label",{className:"cursor-pointer px-2 py-1 bg-teal-600 hover:bg-teal-700 text-white rounded text-xs font-medium transition-colors",children:["+ Ajouter",s.jsx("input",{type:"file",accept:L.props.accept,onChange:U=>{const K=U.target.files?.[0];if(K){const ee=(L.props.maxSize||5)*1024*1024;if(K.size>ee){alert(`Le fichier est trop volumineux. Taille maximum: ${L.props.maxSize||5} MB`);return}j(L.ref,K)}U.target.value=""},className:"hidden"})]})]}),P?s.jsx("div",{className:"space-y-1 flex-1 overflow-y-auto",children:H.map((U,K)=>s.jsxs("div",{className:"flex items-center justify-between gap-2 p-2 bg-white rounded border border-teal-200",children:[s.jsxs("div",{className:"flex-1 min-w-0",children:[s.jsx("div",{className:"text-xs font-medium text-teal-900 truncate",children:U.name}),s.jsxs("div",{className:"text-xs text-teal-600",children:[(U.size/1024/1024).toFixed(2)," MB"]})]}),s.jsxs("div",{className:"flex gap-1",children:[s.jsx("button",{onClick:()=>{const ee=atob(U.data.split(",")[1]),me=U.data.split(",")[0].split(":")[1].split(";")[0],ne=new ArrayBuffer(ee.length),se=new Uint8Array(ne);for(let te=0;te<ee.length;te++)se[te]=ee.charCodeAt(te);const ye=new Blob([ne],{type:me}),ce=URL.createObjectURL(ye),Se=document.createElement("a");Se.href=ce,Se.download=U.name,Se.click(),URL.revokeObjectURL(ce)},className:"p-1 hover:bg-teal-200 rounded transition-colors",title:"Tlcharger",children:s.jsx(Es,{className:"w-3 h-3 text-teal-700"})}),!w&&s.jsx("button",{onClick:()=>T(L.ref,K),className:"p-1 hover:bg-red-200 rounded transition-colors",title:"Supprimer",children:s.jsx(ma,{className:"w-3 h-3 text-red-600"})})]})]},K))}):s.jsxs("div",{className:"flex-1 flex flex-col items-center justify-center text-center opacity-60",children:[s.jsx(H0,{className:"w-8 h-8 text-teal-600 mb-2"}),s.jsx("span",{className:"text-xs text-teal-700",children:"Aucune pice jointe"}),s.jsxs("span",{className:"text-xs text-teal-600 mt-1",children:[L.props.accept||"Tous fichiers"," (max ",L.props.maxSize||5," MB)"]})]})]})},L.id)}if(L.type==="link"){const H=u[L.ref]||"",P=H&&H.trim()!==""&&(H.startsWith("http://")||H.startsWith("https://"));return s.jsx("div",{className:"absolute",style:{left:`${B.x}px`,top:`${B.y}px`,width:`${B.w}px`,height:`${B.h}px`},children:s.jsxs("div",{className:"w-full h-full border-2 border-cyan-400 bg-cyan-50 rounded px-3 py-2 flex items-center gap-2",children:[s.jsx(zx,{className:"w-5 h-5 text-cyan-600 flex-shrink-0"}),s.jsxs("div",{className:"flex-1 min-w-0",children:[s.jsx("label",{className:"block text-xs font-medium text-cyan-700 mb-1",children:L.props.label||"Lien"}),s.jsx("input",{type:"url",value:H,onChange:U=>N(L.ref,U.target.value),disabled:w,placeholder:"https://exemple.com",className:`w-full px-2 py-1 text-sm border rounded focus:outline-none focus:ring-2 focus:ring-cyan-500 ${w?"bg-gray-100 border-gray-300 text-gray-600 cursor-not-allowed":"bg-white border-cyan-300 text-cyan-900"}`})]}),P&&s.jsx("button",{onClick:()=>window.open(H,"_blank","noopener,noreferrer"),className:"p-2 bg-cyan-600 hover:bg-cyan-700 text-white rounded transition-colors flex-shrink-0",title:"Ouvrir le lien",children:s.jsx(n2,{className:"w-4 h-4"})})]})},L.id)}return null};return n?s.jsx("div",{className:"min-h-screen flex items-center justify-center",children:s.jsxs("div",{className:"text-center",children:[s.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-600 mx-auto mb-4"}),s.jsx("p",{className:"text-gray-600",children:"Chargement de la dclaration..."})]})}):r?s.jsxs("div",{className:"min-h-screen bg-gray-50",children:[s.jsx("div",{className:"bg-white border-b border-gray-200 px-6 py-4",children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{className:"flex items-center gap-4",children:[s.jsx(Ma,{to:"/professor/declarations",className:"p-2 hover:bg-gray-100 rounded-lg transition-colors",title:"Retour  la liste",children:s.jsx(ta,{className:"w-6 h-6 text-gray-600"})}),s.jsxs("div",{children:[s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:r.sheet_title}),s.jsx(C3,{status:r.status}),w&&s.jsxs("span",{className:"px-3 py-1 bg-gray-100 text-gray-700 rounded-full text-xs font-medium flex items-center gap-1",children:[s.jsx(Xs,{className:"w-3 h-3"}),"Lecture seule"]})]}),s.jsxs("div",{className:"text-sm text-gray-500 mt-1",children:[r.segment_name,"  ",r.city_name,"  Du"," ",new Date(r.start_date).toLocaleDateString("fr-FR")," au"," ",new Date(r.end_date).toLocaleDateString("fr-FR")]})]})]}),s.jsxs("div",{className:"flex items-center gap-3",children:[g&&s.jsx("div",{className:"flex items-center gap-2 bg-green-100 text-green-800 px-4 py-2 rounded-lg",children:s.jsx("span",{className:"text-sm font-medium",children:g})}),!w&&s.jsxs(s.Fragment,{children:[s.jsxs("button",{onClick:O,className:"px-4 py-2 bg-gray-600 hover:bg-gray-700 text-white rounded-lg transition-colors flex items-center gap-2",disabled:a.isPending,children:[s.jsx(np,{className:"w-5 h-5"}),"Sauvegarder"]}),s.jsxs("button",{onClick:F,className:"px-4 py-2 bg-green-600 hover:bg-green-700 text-white rounded-lg transition-colors flex items-center gap-2",disabled:i.isPending,children:[s.jsx(Em,{className:"w-5 h-5"}),"Soumettre"]})]})]})]})}),r.status==="a_declarer"&&s.jsx("div",{className:"bg-orange-50 border-b border-orange-200 px-6 py-4",children:s.jsxs("div",{className:"flex items-start gap-2",children:[s.jsx(Wr,{className:"w-5 h-5 text-orange-500 flex-shrink-0 mt-0.5"}),s.jsxs("div",{children:[s.jsx("p",{className:"text-sm font-semibold text-orange-800",children:"Fiche assigne par un grant"}),s.jsx("p",{className:"text-sm text-orange-700 mt-1",children:"Cette fiche de session vous a t assigne. Veuillez la remplir et la soumettre."})]})]})}),r.rejection_reason&&s.jsx("div",{className:"bg-red-50 border-b border-red-200 px-6 py-4",children:s.jsxs("div",{className:"flex items-start gap-2",children:[s.jsx(Wr,{className:"w-5 h-5 text-red-500 flex-shrink-0 mt-0.5"}),s.jsxs("div",{children:[s.jsx("p",{className:"text-sm font-semibold text-red-800",children:"Dclaration refuse"}),s.jsx("p",{className:"text-sm text-red-700 mt-1",children:r.rejection_reason})]})]})}),s.jsx("div",{className:"p-4",children:s.jsx("div",{className:"bg-white rounded-lg shadow-sm overflow-auto",children:s.jsx("div",{className:"relative bg-white",style:{width:`${b.width}px`,minHeight:`${b.height}px`},children:l.map(L=>D(L))})})})]}):s.jsx("div",{className:"min-h-screen flex items-center justify-center",children:s.jsxs("div",{className:"text-center",children:[s.jsx(Wr,{className:"w-16 h-16 text-red-400 mx-auto mb-4"}),s.jsx("h2",{className:"text-xl font-semibold text-gray-700 mb-2",children:"Dclaration introuvable"}),s.jsxs(Ma,{to:"/professor/declarations",className:"inline-flex items-center gap-2 px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700",children:[s.jsx(ta,{className:"w-4 h-4"}),"Retour  la liste"]})]})})};function Eie(){const{user:e,isAdmin:t}=Si();return or({queryKey:["gerant-segments",e?.id],queryFn:async()=>{if(!e?.id)return[];const r=await Ud.getAll();if(t)return r;const n=await io.getById(e.id);return!n||!n.segment_ids?[]:r.filter(a=>n.segment_ids?.includes(a.id))},enabled:!!e?.id})}function kie(){const{user:e,isAdmin:t}=Si();return or({queryKey:["gerant-cities",e?.id],queryFn:async()=>{if(!e?.id)return[];const r=await Ec.getAll();if(t)return r;const n=await io.getById(e.id);return!n||!n.city_ids?[]:r.filter(a=>n.city_ids?.includes(a.id))},enabled:!!e?.id})}function Cie(){return or({queryKey:["gerant-declarations"],queryFn:async()=>(await $i.getAll()).filter(t=>t.status==="a_declarer")})}function Tie(e,t){return or({queryKey:["professors-by-segment-city",e,t],queryFn:async()=>(await io.getAll()).filter(a=>a.role==="professor").filter(a=>!(e&&!a.segment_ids?.includes(e)||t&&!a.city_ids?.includes(t))).map(a=>({id:a.id,full_name:a.full_name,username:a.username})),enabled:!!e||!!t})}function Oie(e){return or({queryKey:["published-sheets-segment",e],queryFn:async()=>(await kc.getAll()).filter(r=>!(r.status!=="published"||e&&r.segment_ids&&!r.segment_ids.includes(e))).map(r=>({id:r.id,title:r.title,template_data:r.template_data,sheet_date:r.sheet_date})),enabled:!!e})}function Die(){const e=Pt();return It({mutationFn:async t=>{const r=Bd();return $i.create({id:r,...t,form_data:"{}",status:"a_declarer"})},onSuccess:()=>{e.invalidateQueries({queryKey:["gerant-declarations"]}),e.invalidateQueries({queryKey:["professor-declarations"]})}})}const Fie=()=>{const{data:e,isLoading:t}=Cie(),[r,n]=k.useState("all"),a=e?.filter(o=>r==="all"?!0:o.status===r),i={total:e?.length||0,a_declarer:e?.filter(o=>o.status==="a_declarer").length||0,soumise:e?.filter(o=>o.status==="soumise").length||0,en_cours:e?.filter(o=>o.status==="en_cours").length||0,approuvee:e?.filter(o=>o.status==="approuvee").length||0,refusee:e?.filter(o=>o.status==="refusee").length||0},l=[{label:"Toutes",value:"all",count:i.total},{label:" dclarer",value:"a_declarer",count:i.a_declarer},{label:"Soumises",value:"soumise",count:i.soumise},{label:"En cours",value:"en_cours",count:i.en_cours},{label:"Approuves",value:"approuvee",count:i.approuvee},{label:"Refuses",value:"refusee",count:i.refusee}];return t?s.jsx("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center",children:s.jsx("div",{className:"text-lg text-gray-600",children:"Chargement..."})}):s.jsxs("div",{className:"min-h-screen bg-gray-50",children:[s.jsx("header",{className:"bg-white shadow-sm",children:s.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-4",children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{className:"flex items-center gap-4",children:[s.jsx(Ma,{to:"/dashboard",children:s.jsxs(et,{variant:"outline",size:"sm",children:[s.jsx(ta,{className:"w-4 h-4 mr-2"}),"Retour"]})}),s.jsxs("div",{children:[s.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"Mes Dclarations Cres"}),s.jsx("p",{className:"text-sm text-gray-600",children:"Suivez les dclarations que vous avez assignes aux professeurs"})]})]}),s.jsx(Ma,{to:"/gerant/create-declaration",children:s.jsxs(et,{children:[s.jsx(L_,{className:"w-4 h-4 mr-2"}),"Crer une dclaration"]})})]})})}),s.jsxs("main",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:[s.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-3 lg:grid-cols-6 gap-4 mb-6",children:[s.jsx(hn,{children:s.jsx(mn,{className:"pt-6",children:s.jsxs("div",{className:"text-center",children:[s.jsx("p",{className:"text-2xl font-bold text-gray-900",children:i.total}),s.jsx("p",{className:"text-xs text-gray-600 mt-1",children:"Total"})]})})}),s.jsx(hn,{children:s.jsx(mn,{className:"pt-6",children:s.jsxs("div",{className:"text-center",children:[s.jsx("p",{className:"text-2xl font-bold text-orange-600",children:i.a_declarer}),s.jsx("p",{className:"text-xs text-gray-600 mt-1",children:" dclarer"})]})})}),s.jsx(hn,{children:s.jsx(mn,{className:"pt-6",children:s.jsxs("div",{className:"text-center",children:[s.jsx("p",{className:"text-2xl font-bold text-blue-600",children:i.soumise}),s.jsx("p",{className:"text-xs text-gray-600 mt-1",children:"Soumises"})]})})}),s.jsx(hn,{children:s.jsx(mn,{className:"pt-6",children:s.jsxs("div",{className:"text-center",children:[s.jsx("p",{className:"text-2xl font-bold text-yellow-600",children:i.en_cours}),s.jsx("p",{className:"text-xs text-gray-600 mt-1",children:"En cours"})]})})}),s.jsx(hn,{children:s.jsx(mn,{className:"pt-6",children:s.jsxs("div",{className:"text-center",children:[s.jsx("p",{className:"text-2xl font-bold text-green-600",children:i.approuvee}),s.jsx("p",{className:"text-xs text-gray-600 mt-1",children:"Approuves"})]})})}),s.jsx(hn,{children:s.jsx(mn,{className:"pt-6",children:s.jsxs("div",{className:"text-center",children:[s.jsx("p",{className:"text-2xl font-bold text-red-600",children:i.refusee}),s.jsx("p",{className:"text-xs text-gray-600 mt-1",children:"Refuses"})]})})})]}),s.jsx("div",{className:"bg-white rounded-lg shadow p-4 mb-6",children:s.jsx("div",{className:"flex flex-wrap gap-2",children:l.map(o=>s.jsxs(et,{variant:r===o.value?"default":"outline",size:"sm",onClick:()=>n(o.value),children:[o.label," (",o.count,")"]},o.value))})}),s.jsx("div",{className:"bg-white rounded-lg shadow",children:a&&a.length>0?s.jsx("div",{className:"overflow-x-auto",children:s.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[s.jsx("thead",{className:"bg-gray-50",children:s.jsxs("tr",{children:[s.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Professeur"}),s.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Segment"}),s.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Ville"}),s.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Fiche de calcul"}),s.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Dates"}),s.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Statut"}),s.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Date cration"})]})}),s.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:a.map(o=>s.jsxs("tr",{className:"hover:bg-gray-50",children:[s.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-medium text-gray-900",children:o.professor_name||"N/A"}),s.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:o.segment_name||"N/A"}),s.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:o.city_name||"N/A"}),s.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:o.sheet_title||"N/A"}),s.jsxs("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:[new Date(o.start_date).toLocaleDateString("fr-FR")," - ",new Date(o.end_date).toLocaleDateString("fr-FR")]}),s.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:s.jsx(C3,{status:o.status})}),s.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:new Date(o.created_at).toLocaleDateString("fr-FR")})]},o.id))})]})}):s.jsx("div",{className:"text-center py-12",children:s.jsx("p",{className:"text-gray-500",children:"Aucune dclaration trouve."})})})]})]})},Uk=()=>{const e=Fn(),{isAdmin:t}=Si(),{data:r,isLoading:n}=Eie(),{data:a,isLoading:i}=kie(),[l,o]=k.useState(""),[u,f]=k.useState(""),[h,m]=k.useState(""),[g,x]=k.useState(""),[b,v]=k.useState(""),[w,N]=k.useState(null),E=t?"/admin/declarations":"/gerant/declarations",j=a?.filter(P=>P.segment_id===l)||[],{data:T,isLoading:O}=Tie(l,u),{data:F,isLoading:D}=Oie(l),L=F&&F.length>0?F[0]:null,B=Die();k.useEffect(()=>{f(""),m("")},[l]),k.useEffect(()=>{m("")},[u]);const H=async P=>{if(P.preventDefault(),N(null),!l){N("Veuillez slectionner un segment");return}if(!u){N("Veuillez slectionner une ville");return}if(!L){N("Aucune fiche de calcul publie pour ce segment");return}if(!h){N("Veuillez slectionner un professeur");return}if(!g||!b){N("Veuillez renseigner les dates de session");return}if(new Date(g)>new Date(b)){N("La date de dbut doit tre antrieure  la date de fin");return}try{await B.mutateAsync({professor_id:h,calculation_sheet_id:L.id,segment_id:l,city_id:u,start_date:g,end_date:b}),e(E)}catch(U){console.error("Error creating declaration:",U),N("Erreur lors de la cration de la dclaration")}};return n||i?s.jsx("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center",children:s.jsx("div",{className:"text-lg text-gray-600",children:"Chargement..."})}):!r||r.length===0?s.jsxs("div",{className:"min-h-screen bg-gray-50",children:[s.jsx("header",{className:"bg-white shadow-sm",children:s.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-4",children:s.jsxs("div",{className:"flex items-center gap-4",children:[s.jsx(Ma,{to:"/dashboard",children:s.jsxs(et,{variant:"outline",size:"sm",children:[s.jsx(ta,{className:"w-4 h-4 mr-2"}),"Retour"]})}),s.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"Crer une Dclaration"})]})})}),s.jsx("main",{className:"max-w-3xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:s.jsx(hn,{children:s.jsx(mn,{className:"pt-6",children:s.jsxs("div",{className:"text-center py-12",children:[s.jsx(Wr,{className:"w-16 h-16 text-yellow-500 mx-auto mb-4"}),s.jsx("p",{className:"text-lg text-gray-700 font-medium mb-2",children:"Aucun segment assign"}),s.jsx("p",{className:"text-sm text-gray-500",children:"Contactez un administrateur pour vous assigner des segments et villes."})]})})})})]}):s.jsxs("div",{className:"min-h-screen bg-gray-50",children:[s.jsx("header",{className:"bg-white shadow-sm",children:s.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-4",children:s.jsxs("div",{className:"flex items-center gap-4",children:[s.jsx(Ma,{to:"/dashboard",children:s.jsxs(et,{variant:"outline",size:"sm",children:[s.jsx(ta,{className:"w-4 h-4 mr-2"}),"Retour"]})}),s.jsxs("div",{children:[s.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"Crer une Dclaration"}),s.jsx("p",{className:"text-sm text-gray-600",children:"Assigner une fiche de session  un professeur"})]})]})})}),s.jsx("main",{className:"max-w-3xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:s.jsxs("form",{onSubmit:H,children:[s.jsxs(hn,{children:[s.jsx(df,{children:s.jsx(hf,{children:"Informations de la dclaration"})}),s.jsxs(mn,{className:"space-y-6",children:[w&&s.jsxs("div",{className:"bg-red-50 border border-red-200 rounded-lg p-4 flex items-start gap-3",children:[s.jsx(Wr,{className:"w-5 h-5 text-red-600 flex-shrink-0 mt-0.5"}),s.jsx("p",{className:"text-sm text-red-800",children:w})]}),s.jsxs("div",{children:[s.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:["Segment ",s.jsx("span",{className:"text-red-500",children:"*"})]}),s.jsxs("select",{value:l,onChange:P=>o(P.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",required:!0,children:[s.jsx("option",{value:"",children:"Slectionnez un segment"}),r?.map(P=>s.jsx("option",{value:P.id,children:P.name},P.id))]})]}),l&&s.jsxs("div",{children:[s.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:["Ville ",s.jsx("span",{className:"text-red-500",children:"*"})]}),j.length>0?s.jsxs("select",{value:u,onChange:P=>f(P.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",required:!0,children:[s.jsx("option",{value:"",children:"Slectionnez une ville"}),j.map(P=>s.jsx("option",{value:P.id,children:P.name},P.id))]}):s.jsx("div",{className:"bg-yellow-50 border border-yellow-200 rounded-lg p-4",children:s.jsx("p",{className:"text-sm text-yellow-800",children:"Aucune ville assigne pour ce segment. Contactez un administrateur."})})]}),l&&u&&s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Fiche de calcul"}),D?s.jsx("div",{className:"text-sm text-gray-500",children:"Chargement..."}):L?s.jsxs("div",{className:"bg-blue-50 border border-blue-200 rounded-lg p-4",children:[s.jsx("p",{className:"text-sm font-medium text-blue-900",children:L.title}),s.jsxs("p",{className:"text-xs text-blue-700 mt-1",children:["Date: ",L.sheet_date]})]}):s.jsx("div",{className:"bg-red-50 border border-red-200 rounded-lg p-4",children:s.jsx("p",{className:"text-sm text-red-800",children:" Aucune fiche de calcul publie pour ce segment"})})]}),l&&u&&L&&s.jsxs("div",{children:[s.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:["Professeur ",s.jsx("span",{className:"text-red-500",children:"*"})]}),O?s.jsx("div",{className:"text-sm text-gray-500",children:"Chargement des professeurs..."}):T&&T.length>0?s.jsxs("select",{value:h,onChange:P=>m(P.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",required:!0,children:[s.jsx("option",{value:"",children:"Slectionnez un professeur"}),T.map(P=>s.jsxs("option",{value:P.id,children:[P.full_name," (",P.username,")"]},P.id))]}):s.jsx("div",{className:"bg-yellow-50 border border-yellow-200 rounded-lg p-4",children:s.jsx("p",{className:"text-sm text-yellow-800",children:"Aucun professeur n'a  la fois ce segment et cette ville assigns."})})]}),h&&s.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[s.jsxs("div",{children:[s.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:["Date de dbut ",s.jsx("span",{className:"text-red-500",children:"*"})]}),s.jsx("input",{type:"date",value:g,onChange:P=>x(P.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",required:!0})]}),s.jsxs("div",{children:[s.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:["Date de fin ",s.jsx("span",{className:"text-red-500",children:"*"})]}),s.jsx("input",{type:"date",value:b,onChange:P=>v(P.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",required:!0})]})]})]})]}),s.jsxs("div",{className:"mt-6 flex gap-3 justify-end",children:[s.jsx(Ma,{to:E,children:s.jsx(et,{type:"button",variant:"outline",children:"Annuler"})}),s.jsxs(et,{type:"submit",disabled:!l||!u||!h||!g||!b||!L||B.isPending,children:[s.jsx(np,{className:"w-4 h-4 mr-2"}),B.isPending?"Cration...":"Crer la dclaration"]})]})]})})]})},Af={getSessions:()=>at.get("/formations/sessions"),getSession:e=>at.get(`/formations/sessions/${e}`),createSession:e=>at.post("/formations/sessions",e),updateSession:(e,t)=>at.put(`/formations/sessions/${e}`,t),deleteSession:e=>at.delete(`/formations/sessions/${e}`),getSessionStudents:e=>at.get(`/formations/sessions/${e}/students`),enrollStudents:(e,t)=>at.post(`/formations/sessions/${e}/enroll`,t),unenrollStudent:(e,t)=>at.delete(`/formations/sessions/${e}/enroll/${t}`),getAvailableStudents:e=>{const t=e?`?session_id=${e}`:"";return at.get(`/formations/available-students${t}`)},getStats:()=>at.get("/formations/stats")},qn={all:["formations"],sessions:()=>[...qn.all,"sessions"],session:e=>[...qn.all,"session",e],sessionStudents:e=>[...qn.all,"session",e,"students"],availableStudents:e=>[...qn.all,"available-students",e||"all"],stats:()=>[...qn.all,"stats"]};function wL(){return or({queryKey:qn.sessions(),queryFn:Af.getSessions})}function Pie(e){return or({queryKey:qn.session(e),queryFn:()=>Af.getSession(e),enabled:!!e})}function Lie(e){return or({queryKey:qn.availableStudents(e),queryFn:()=>Af.getAvailableStudents(e)})}function Mie(){return or({queryKey:qn.stats(),queryFn:Af.getStats})}function Rie(){const e=Pt();return It({mutationFn:t=>Af.createSession(t),onSuccess:()=>{e.invalidateQueries({queryKey:qn.sessions()}),e.invalidateQueries({queryKey:qn.stats()})}})}function Iie(){const e=Pt();return It({mutationFn:({id:t,data:r})=>Af.updateSession(t,r),onSuccess:(t,r)=>{e.invalidateQueries({queryKey:qn.sessions()}),e.invalidateQueries({queryKey:qn.session(r.id)}),e.invalidateQueries({queryKey:qn.stats()})}})}function Bie(){const e=Pt();return It({mutationFn:t=>Af.deleteSession(t),onSuccess:()=>{e.invalidateQueries({queryKey:qn.sessions()}),e.invalidateQueries({queryKey:qn.stats()})}})}function Uie(){const e=Pt();return It({mutationFn:({sessionId:t,data:r})=>Af.enrollStudents(t,r),onSuccess:(t,r)=>{e.invalidateQueries({queryKey:qn.session(r.sessionId)}),e.invalidateQueries({queryKey:qn.sessionStudents(r.sessionId)}),e.invalidateQueries({queryKey:qn.sessions()}),e.invalidateQueries({queryKey:qn.availableStudents()}),e.invalidateQueries({queryKey:qn.stats()})}})}function zie(){const e=Pt();return It({mutationFn:({sessionId:t,studentId:r})=>Af.unenrollStudent(t,r),onSuccess:(t,r)=>{e.invalidateQueries({queryKey:qn.session(r.sessionId)}),e.invalidateQueries({queryKey:qn.sessionStudents(r.sessionId)}),e.invalidateQueries({queryKey:qn.sessions()}),e.invalidateQueries({queryKey:qn.availableStudents()}),e.invalidateQueries({queryKey:qn.stats()})}})}const qie=({selectedSegmentId:e,selectedCityId:t,selectedFormationIds:r,onSegmentChange:n,onCityChange:a,onFormationsChange:i})=>{const[l,o]=k.useState([]),[u,f]=k.useState([]),[h,m]=k.useState([]),[g,x]=k.useState(!0),[b,v]=k.useState(!1),[w,N]=k.useState(!1);k.useEffect(()=>{E()},[]),k.useEffect(()=>{e?j(e):(f([]),a(""))},[e]),k.useEffect(()=>{T()},[]);const E=async()=>{try{x(!0);const H=await at.get("/segments");o(H)}catch(H){console.error("Error fetching segments:",H)}finally{x(!1)}},j=async H=>{try{v(!0);const P=await at.get(`/cities/by-segment/${H}`);f(P)}catch(P){console.error("Error fetching cities:",P),f([])}finally{v(!1)}},T=async()=>{try{N(!0);const H=await at.get("/formations/all");m(H)}catch(H){console.error("Error fetching formations:",H),m([])}finally{N(!1)}},O=H=>{const P=H.target.value;n(P),a("")},F=H=>{a(H.target.value)},D=H=>{r.includes(H)?i(r.filter(P=>P!==H)):i([...r,H])},L=H=>{i(r.filter(P=>P!==H))},B=h.filter(H=>r.includes(H.id));return s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{children:[s.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:["Segment ",s.jsx("span",{className:"text-red-500",children:"*"})]}),s.jsxs("div",{className:"relative",children:[s.jsxs("select",{value:e,onChange:O,className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent appearance-none pr-10",disabled:g,children:[s.jsx("option",{value:"",children:"Slectionner un segment"}),l.map(H=>s.jsx("option",{value:H.id,children:H.name},H.id))]}),s.jsx(Um,{className:"absolute right-3 top-1/2 transform -translate-y-1/2 h-5 w-5 text-gray-400 pointer-events-none"})]})]}),s.jsxs("div",{children:[s.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:["Ville ",s.jsx("span",{className:"text-red-500",children:"*"})]}),s.jsxs("div",{className:"relative",children:[s.jsxs("select",{value:t,onChange:F,className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent appearance-none pr-10 disabled:bg-gray-100 disabled:cursor-not-allowed",disabled:!e||b,children:[s.jsx("option",{value:"",children:e?b?"Chargement...":"Slectionner une ville":"Slectionner d'abord un segment"}),u.map(H=>s.jsxs("option",{value:H.id,children:[H.name," (",H.code,")"]},H.id))]}),s.jsx(Um,{className:"absolute right-3 top-1/2 transform -translate-y-1/2 h-5 w-5 text-gray-400 pointer-events-none"})]})]}),s.jsxs("div",{children:[s.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:["Formations ",s.jsx("span",{className:"text-red-500",children:"*"})]}),B.length>0&&s.jsx("div",{className:"mb-2 flex flex-wrap gap-2",children:B.map(H=>s.jsxs("div",{className:"inline-flex items-center gap-1 px-3 py-1 bg-blue-100 text-blue-700 rounded-full text-sm",children:[s.jsx("span",{children:H.title}),s.jsx("button",{type:"button",onClick:()=>L(H.id),className:"hover:bg-blue-200 rounded-full p-0.5",children:s.jsx(ma,{className:"h-3 w-3"})})]},H.id))}),s.jsx("div",{className:"border border-gray-300 rounded-lg max-h-64 overflow-y-auto",children:w?s.jsx("div",{className:"p-4 text-center text-gray-500",children:"Chargement des formations..."}):h.length===0?s.jsx("div",{className:"p-4 text-center text-gray-500",children:"Aucune formation disponible"}):s.jsx("div",{className:"divide-y divide-gray-200",children:h.map(H=>s.jsxs("label",{className:"flex items-start gap-3 p-3 hover:bg-gray-50 cursor-pointer",children:[s.jsx("input",{type:"checkbox",checked:r.includes(H.id),onChange:()=>D(H.id),className:"mt-1 h-4 w-4 text-blue-600 focus:ring-blue-500 border-gray-300 rounded"}),s.jsxs("div",{className:"flex-1",children:[s.jsx("div",{className:"font-medium text-gray-900",children:H.title}),H.description&&s.jsx("div",{className:"text-sm text-gray-500 mt-0.5",children:H.description}),H.price!==void 0&&s.jsxs("div",{className:"text-sm text-blue-600 mt-1 font-semibold",children:[parseFloat(String(H.price)).toFixed(2)," MAD"]})]})]},H.id))})}),r.length===0&&s.jsx("p",{className:"mt-1 text-sm text-gray-500",children:"Slectionnez au moins une formation pour cette session"})]})]})},zk=({session:e,onClose:t})=>{const r=!!e,n=Rie(),a=Iie(),[i,l]=k.useState({name:e?.name||"",description:e?.description||"",formation_ids:e?.formations?.map(x=>x.id)||[],start_date:e?.start_date?e.start_date.split("T")[0]:"",end_date:e?.end_date?e.end_date.split("T")[0]:"",segment_id:e?.segment_id||"",city_id:e?.city_id||"",instructor_id:e?.instructor_id||"",max_capacity:e?.max_capacity?.toString()||"",status:e?.status||"planned"}),[o,u]=k.useState({}),[f,h]=k.useState(!1),m=()=>{const x={};return i.name.trim()||(x.name="Le nom est obligatoire"),i.start_date||(x.start_date="La date de dbut est obligatoire"),i.end_date||(x.end_date="La date de fin est obligatoire"),i.start_date&&i.end_date&&i.start_date>i.end_date&&(x.end_date="La date de fin doit tre aprs la date de dbut"),i.max_capacity&&parseInt(i.max_capacity)<1&&(x.max_capacity="La capacit doit tre suprieure  0"),i.formation_ids.length===0&&(x.formations="Slectionnez au moins une formation"),i.segment_id||(x.segment="Le segment est obligatoire"),i.city_id||(x.city="La ville est obligatoire"),u(x),Object.keys(x).length===0},g=async x=>{if(x.preventDefault(),!!m()){h(!0);try{const b={name:i.name.trim(),description:i.description.trim()||void 0,formation_ids:i.formation_ids,start_date:i.start_date,end_date:i.end_date,segment_id:i.segment_id,city_id:i.city_id,instructor_id:i.instructor_id||void 0,max_capacity:i.max_capacity?parseInt(i.max_capacity):void 0,status:i.status};r&&e?await a.mutateAsync({id:e.id,data:b}):await n.mutateAsync(b),t()}catch(b){console.error("Error saving session:",b),u({submit:b.message||"Erreur lors de l'enregistrement"})}finally{h(!1)}}};return s.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center p-4 z-50",children:s.jsxs("div",{className:"bg-white rounded-lg shadow-xl max-w-2xl w-full max-h-[90vh] overflow-y-auto",children:[s.jsxs("div",{className:"flex items-center justify-between p-6 border-b",children:[s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx("div",{className:"p-2 bg-blue-100 rounded-lg",children:s.jsx(wi,{className:"h-5 w-5 text-blue-600"})}),s.jsxs("div",{children:[s.jsx("h2",{className:"text-xl font-semibold text-gray-900",children:r?"Modifier la session":"Nouvelle session"}),s.jsx("p",{className:"text-sm text-gray-500 mt-0.5",children:r?"Mettez  jour les informations de la session":"Crez une nouvelle session de formation"})]})]}),s.jsx(et,{variant:"ghost",size:"icon",onClick:t,children:s.jsx(ma,{className:"h-5 w-5"})})]}),s.jsxs("form",{onSubmit:g,className:"p-6 space-y-6",children:[o.submit&&s.jsxs("div",{className:"bg-red-50 border border-red-200 rounded-lg p-4 flex items-start gap-3",children:[s.jsx(Wr,{className:"h-5 w-5 text-red-600 flex-shrink-0 mt-0.5"}),s.jsx("p",{className:"text-sm text-red-700",children:o.submit})]}),s.jsxs("div",{children:[s.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:["Nom de la session ",s.jsx("span",{className:"text-red-500",children:"*"})]}),s.jsx(is,{value:i.name,onChange:x=>l({...i,name:x.target.value}),placeholder:"Ex: Formation React Avanc",className:o.name?"border-red-300":""}),o.name&&s.jsx("p",{className:"text-xs text-red-600 mt-1",children:o.name})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Description"}),s.jsx("textarea",{value:i.description,onChange:x=>l({...i,description:x.target.value}),placeholder:"Description de la session...",rows:3,className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent text-sm"})]}),s.jsx(qie,{selectedSegmentId:i.segment_id,selectedCityId:i.city_id,selectedFormationIds:i.formation_ids,onSegmentChange:x=>l({...i,segment_id:x}),onCityChange:x=>l({...i,city_id:x}),onFormationsChange:x=>l({...i,formation_ids:x})}),o.formations&&s.jsx("p",{className:"text-xs text-red-600 mt-1",children:o.formations}),o.segment&&s.jsx("p",{className:"text-xs text-red-600 mt-1",children:o.segment}),o.city&&s.jsx("p",{className:"text-xs text-red-600 mt-1",children:o.city}),s.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4",children:[s.jsxs("div",{children:[s.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:["Date de dbut ",s.jsx("span",{className:"text-red-500",children:"*"})]}),s.jsx(is,{type:"date",value:i.start_date,onChange:x=>l({...i,start_date:x.target.value}),className:o.start_date?"border-red-300":""}),o.start_date&&s.jsx("p",{className:"text-xs text-red-600 mt-1",children:o.start_date})]}),s.jsxs("div",{children:[s.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:["Date de fin ",s.jsx("span",{className:"text-red-500",children:"*"})]}),s.jsx(is,{type:"date",value:i.end_date,onChange:x=>l({...i,end_date:x.target.value}),className:o.end_date?"border-red-300":""}),o.end_date&&s.jsx("p",{className:"text-xs text-red-600 mt-1",children:o.end_date})]})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Capacit maximale"}),s.jsx(is,{type:"number",min:"1",value:i.max_capacity,onChange:x=>l({...i,max_capacity:x.target.value}),placeholder:"Laissez vide pour illimit",className:o.max_capacity?"border-red-300":""}),o.max_capacity&&s.jsx("p",{className:"text-xs text-red-600 mt-1",children:o.max_capacity})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Statut"}),s.jsxs("select",{value:i.status,onChange:x=>l({...i,status:x.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent text-sm",children:[s.jsx("option",{value:"planned",children:"Planifie"}),s.jsx("option",{value:"active",children:"Active"}),s.jsx("option",{value:"completed",children:"Termine"}),s.jsx("option",{value:"cancelled",children:"Annule"})]})]}),s.jsxs("div",{className:"flex items-center justify-end gap-3 pt-4 border-t",children:[s.jsx(et,{type:"button",variant:"outline",onClick:t,disabled:f,children:"Annuler"}),s.jsx(et,{type:"submit",disabled:f,className:"min-w-[100px]",children:f?s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-white"}),s.jsx("span",{children:"..."})]}):r?"Enregistrer":"Crer"})]})]})]})})},$ie=({student:e,onClose:t})=>{const r=Pt(),[n,a]=k.useState(!1),[i,l]=k.useState({amount:"",payment_date:new Date().toISOString().split("T")[0],payment_method:"especes",note:""}),[o,u]=k.useState({}),{data:f=[],isLoading:h}=or({queryKey:["student-payments",e.enrollment_id],queryFn:async()=>{const j=await fetch(`/api/formations/enrollments/${e.enrollment_id}/payments`);if(!j.ok)throw new Error("Failed to fetch payments");return j.json()}}),m=It({mutationFn:async j=>{const T=await fetch(`/api/formations/enrollments/${e.enrollment_id}/payments`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({...j,amount:parseFloat(j.amount)})});if(!T.ok)throw new Error("Failed to add payment");return T.json()},onSuccess:()=>{r.invalidateQueries({queryKey:["student-payments",e.enrollment_id]}),r.invalidateQueries({queryKey:["session-students"]}),l({amount:"",payment_date:new Date().toISOString().split("T")[0],payment_method:"especes",note:""}),a(!1),u({})}}),g=It({mutationFn:async j=>{const T=await fetch(`/api/formations/enrollments/${e.enrollment_id}/payments/${j}`,{method:"DELETE"});if(!T.ok)throw new Error("Failed to delete payment");return T.json()},onSuccess:()=>{r.invalidateQueries({queryKey:["student-payments",e.enrollment_id]}),r.invalidateQueries({queryKey:["session-students"]})}}),x=()=>{const j={};return(!i.amount||parseFloat(i.amount)<=0)&&(j.amount="Le montant doit tre suprieur  0"),i.payment_date||(j.payment_date="La date est obligatoire"),u(j),Object.keys(j).length===0},b=async j=>{if(j.preventDefault(),!!x())try{await m.mutateAsync(i)}catch(T){u({submit:T.message||"Erreur lors de l'ajout du paiement"})}},v=async j=>{if(window.confirm("tes-vous sr de vouloir supprimer ce paiement ?"))try{await g.mutateAsync(j)}catch{alert("Erreur lors de la suppression du paiement")}},w=j=>({paye:"bg-green-100 text-green-700",partiel:"bg-orange-100 text-orange-700",impaye:"bg-red-100 text-red-700",surpaye:"bg-blue-100 text-blue-700"})[j]||"bg-gray-100 text-gray-700",N=j=>({paye:"Pay",partiel:"Partiellement pay",impaye:"Impay",surpaye:"Surpay"})[j]||j,E=j=>new Date(j).toLocaleDateString("fr-FR",{day:"2-digit",month:"2-digit",year:"numeric"});return s.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center p-4 z-50",children:s.jsxs("div",{className:"bg-white rounded-lg shadow-xl max-w-3xl w-full max-h-[90vh] overflow-y-auto",children:[s.jsxs("div",{className:"flex items-center justify-between p-6 border-b",children:[s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx("div",{className:"p-2 bg-green-100 rounded-lg",children:s.jsx(Bx,{className:"h-5 w-5 text-green-600"})}),s.jsxs("div",{children:[s.jsx("h2",{className:"text-xl font-semibold text-gray-900",children:"Gestion des paiements"}),s.jsx("p",{className:"text-sm text-gray-500 mt-0.5",children:e.student_name})]})]}),s.jsx(et,{variant:"ghost",size:"icon",onClick:t,children:s.jsx(ma,{className:"h-5 w-5"})})]}),s.jsx("div",{className:"p-6 bg-gray-50 border-b",children:s.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-4 gap-4",children:[s.jsxs("div",{children:[s.jsx("p",{className:"text-xs text-gray-500 mb-1",children:"Prix formation"}),s.jsxs("p",{className:"text-lg font-bold text-gray-900",children:[e.formation_price?parseFloat(String(e.formation_price)).toFixed(2):"0.00"," MAD"]})]}),s.jsxs("div",{children:[s.jsx("p",{className:"text-xs text-gray-500 mb-1",children:"Remise"}),s.jsxs("p",{className:"text-lg font-bold text-purple-600",children:["-",e.discount_amount?parseFloat(String(e.discount_amount)).toFixed(2):"0.00"," MAD"]})]}),s.jsxs("div",{children:[s.jsx("p",{className:"text-xs text-gray-500 mb-1",children:"Total pay"}),s.jsxs("p",{className:"text-lg font-bold text-blue-600",children:[e.total_paid?parseFloat(String(e.total_paid)).toFixed(2):"0.00"," MAD"]})]}),s.jsxs("div",{children:[s.jsx("p",{className:"text-xs text-gray-500 mb-1",children:"Reste  payer"}),s.jsxs("p",{className:`text-lg font-bold ${parseFloat(String(e.remaining_amount||0))<0?"text-blue-600":parseFloat(String(e.remaining_amount||0))===0?"text-green-600":"text-red-600"}`,children:[e.remaining_amount?parseFloat(String(e.remaining_amount)).toFixed(2):"0.00"," MAD"]}),e.payment_status&&s.jsx("span",{className:`inline-block mt-1 px-2 py-0.5 rounded-full text-xs font-medium ${w(e.payment_status)}`,children:N(e.payment_status)})]})]})}),s.jsxs("div",{className:"p-6",children:[!n&&s.jsxs(et,{onClick:()=>a(!0),className:"mb-4",size:"sm",children:[s.jsx(_i,{className:"h-4 w-4 mr-2"}),"Ajouter un paiement"]}),n&&s.jsxs("div",{className:"mb-6 p-4 bg-blue-50 rounded-lg border border-blue-200",children:[s.jsx("h3",{className:"font-medium text-gray-900 mb-3",children:"Nouveau paiement"}),o.submit&&s.jsxs("div",{className:"mb-3 bg-red-50 border border-red-200 rounded-lg p-3 flex items-start gap-2",children:[s.jsx(Wr,{className:"h-5 w-5 text-red-600 flex-shrink-0 mt-0.5"}),s.jsx("p",{className:"text-sm text-red-700",children:o.submit})]}),s.jsxs("form",{onSubmit:b,className:"space-y-3",children:[s.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-3",children:[s.jsxs("div",{children:[s.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:["Montant (MAD) ",s.jsx("span",{className:"text-red-500",children:"*"})]}),s.jsx(is,{type:"number",step:"0.01",min:"0.01",value:i.amount,onChange:j=>l({...i,amount:j.target.value}),placeholder:"0.00",className:o.amount?"border-red-300":""}),o.amount&&s.jsx("p",{className:"text-xs text-red-600 mt-1",children:o.amount})]}),s.jsxs("div",{children:[s.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:["Date ",s.jsx("span",{className:"text-red-500",children:"*"})]}),s.jsx(is,{type:"date",value:i.payment_date,onChange:j=>l({...i,payment_date:j.target.value}),className:o.payment_date?"border-red-300":""}),o.payment_date&&s.jsx("p",{className:"text-xs text-red-600 mt-1",children:o.payment_date})]})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Mthode de paiement"}),s.jsxs("select",{value:i.payment_method,onChange:j=>l({...i,payment_method:j.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent text-sm",children:[s.jsx("option",{value:"especes",children:"Espces"}),s.jsx("option",{value:"virement",children:"Virement"}),s.jsx("option",{value:"cheque",children:"Chque"}),s.jsx("option",{value:"carte",children:"Carte bancaire"}),s.jsx("option",{value:"autre",children:"Autre"})]})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Note"}),s.jsx("textarea",{value:i.note,onChange:j=>l({...i,note:j.target.value}),placeholder:"Note optionnelle...",rows:2,className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent text-sm"})]}),s.jsxs("div",{className:"flex items-center justify-end gap-2 pt-2",children:[s.jsx(et,{type:"button",variant:"outline",size:"sm",onClick:()=>{a(!1),u({}),l({amount:"",payment_date:new Date().toISOString().split("T")[0],payment_method:"especes",note:""})},children:"Annuler"}),s.jsx(et,{type:"submit",size:"sm",disabled:m.isPending,children:m.isPending?"Ajout...":"Ajouter"})]})]})]}),s.jsxs("div",{children:[s.jsx("h3",{className:"font-medium text-gray-900 mb-3",children:"Historique des paiements"}),h?s.jsx("div",{className:"text-center py-8 text-gray-500",children:"Chargement..."}):f.length===0?s.jsx("div",{className:"text-center py-8 text-gray-500",children:"Aucun paiement enregistr"}):s.jsx("div",{className:"space-y-2",children:f.map(j=>s.jsxs("div",{className:"flex items-center justify-between p-3 bg-white border border-gray-200 rounded-lg hover:bg-gray-50",children:[s.jsxs("div",{className:"flex-1",children:[s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(wi,{className:"h-4 w-4 text-gray-400"}),s.jsx("span",{className:"text-sm font-medium text-gray-900",children:E(j.payment_date)})]}),s.jsxs("span",{className:"text-lg font-bold text-green-600",children:[parseFloat(String(j.amount)).toFixed(2)," MAD"]}),j.payment_method&&s.jsxs("span",{className:"text-xs text-gray-500 capitalize",children:["(",j.payment_method,")"]})]}),j.note&&s.jsx("p",{className:"text-xs text-gray-500 mt-1",children:j.note})]}),s.jsx(et,{variant:"ghost",size:"icon",onClick:()=>v(j.id),disabled:g.isPending,className:"text-red-600 hover:text-red-700 hover:bg-red-50",children:s.jsx(Bn,{className:"h-4 w-4"})})]},j.id))})]})]}),s.jsx("div",{className:"flex items-center justify-end gap-3 p-6 border-t bg-gray-50",children:s.jsx(et,{onClick:t,children:"Fermer"})})]})})},Hie=({session:e,onClose:t})=>{const{data:r,isLoading:n}=Pie(e.id),{data:a=[]}=Lie(e.id),i=Uie(),l=zie(),[o,u]=k.useState([]),[f,h]=k.useState(""),[m,g]=k.useState(!1),[x,b]=k.useState(null),[v,w]=k.useState(null),N=r?.students||[],E=a.filter(H=>H.full_name.toLowerCase().includes(f.toLowerCase())||H.username.toLowerCase().includes(f.toLowerCase())),j=async()=>{if(o.length===0){b("Veuillez slectionner au moins un tudiant");return}g(!0),b(null);try{await i.mutateAsync({sessionId:e.id,data:{student_ids:o}}),u([]),h("")}catch(H){console.error("Error enrolling students:",H),b(H.message||"Erreur lors de l'inscription des tudiants")}finally{g(!1)}},T=async(H,P)=>{if(window.confirm(`tes-vous sr de vouloir dsinscrire ${P} de cette session ?`))try{await l.mutateAsync({sessionId:e.id,studentId:H})}catch(U){console.error("Error unenrolling student:",U),b(U.message||"Erreur lors de la dsinscription")}},O=H=>{u(P=>P.includes(H)?P.filter(U=>U!==H):[...P,H])},F=H=>{const P={enrolled:{bg:"bg-blue-100",text:"text-blue-700",label:"Inscrit"},completed:{bg:"bg-green-100",text:"text-green-700",label:"Termin"},dropped:{bg:"bg-gray-100",text:"text-gray-700",label:"Abandonn"}},U=P[H]||P.enrolled;return s.jsx("span",{className:`px-2 py-1 inline-flex text-xs leading-5 font-semibold rounded-full ${U.bg} ${U.text}`,children:U.label})},D=H=>{if(!H)return null;const U={paye:{bg:"bg-green-100",text:"text-green-700",label:"Pay"},partiel:{bg:"bg-orange-100",text:"text-orange-700",label:"Partiel"},impaye:{bg:"bg-red-100",text:"text-red-700",label:"Impay"},surpaye:{bg:"bg-blue-100",text:"text-blue-700",label:"Surpay"}}[H];return U?s.jsx("span",{className:`px-2 py-1 inline-flex text-xs leading-5 font-semibold rounded-full ${U.bg} ${U.text}`,children:U.label}):null},L=async H=>{const P=H.validation_status==="valide"?"non_valide":"valide";try{if(!(await fetch(`/api/formations/enrollments/${H.enrollment_id}/validation`,{method:"PATCH",headers:{"Content-Type":"application/json"},body:JSON.stringify({validation_status:P,validated_by:P==="valide"?"current_user_id":null})})).ok)throw new Error("Failed to update validation");window.location.reload()}catch{b("Erreur lors de la mise  jour du statut de validation")}},B=e.max_capacity?N.length>=e.max_capacity:!1;return s.jsxs("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center p-4 z-50 overflow-y-auto",children:[s.jsxs("div",{className:"bg-white rounded-lg shadow-xl w-[95vw] max-w-7xl my-8",children:[s.jsxs("div",{className:"flex items-center justify-between p-6 border-b",children:[s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx(ls,{className:"h-6 w-6 text-blue-600"}),s.jsxs("div",{children:[s.jsx("h2",{className:"text-xl font-semibold text-gray-900",children:"Gestion des inscriptions"}),s.jsx("p",{className:"text-sm text-gray-500 mt-1",children:e.name})]})]}),s.jsx("button",{onClick:t,className:"text-gray-400 hover:text-gray-600 transition-colors",children:s.jsx(ma,{className:"h-5 w-5"})})]}),s.jsxs("div",{className:"p-6 max-h-[calc(95vh-140px)] overflow-y-auto",children:[x&&s.jsxs("div",{className:"bg-red-50 border border-red-200 rounded-lg p-4 flex items-start gap-3 mb-6",children:[s.jsx(Wr,{className:"h-5 w-5 text-red-600 flex-shrink-0 mt-0.5"}),s.jsx("p",{className:"text-sm text-red-800",children:x})]}),n?s.jsx("div",{className:"flex justify-center items-center py-12",children:s.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-blue-600"})}):s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{className:"bg-gray-50 rounded-lg p-4",children:[s.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4",children:[s.jsxs("div",{children:[s.jsx("p",{className:"text-xs text-gray-500",children:"Inscrits"}),s.jsxs("p",{className:"text-lg font-semibold text-gray-900",children:[N.length,e.max_capacity&&` / ${e.max_capacity}`]})]}),s.jsxs("div",{children:[s.jsx("p",{className:"text-xs text-gray-500",children:"Formation(s)"}),s.jsx("p",{className:"text-sm font-medium text-gray-900",children:r?.formations&&r.formations.length>0?r.formations.map(H=>H.title).join(", "):"Aucune"})]}),s.jsxs("div",{children:[s.jsx("p",{className:"text-xs text-gray-500",children:"Segment"}),s.jsx("p",{className:"text-sm font-medium text-gray-900",children:e.segment_name||"-"})]}),s.jsxs("div",{children:[s.jsx("p",{className:"text-xs text-gray-500",children:"Ville"}),s.jsx("p",{className:"text-sm font-medium text-gray-900",children:e.city_name||"-"})]})]}),B&&s.jsx("div",{className:"mt-3 bg-yellow-50 border border-yellow-200 rounded p-2",children:s.jsx("p",{className:"text-xs text-yellow-800",children:" Capacit maximale atteinte"})})]}),s.jsxs("div",{children:[s.jsxs("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:["tudiants inscrits (",N.length,")"]}),N.length===0?s.jsxs("div",{className:"text-center py-8 bg-gray-50 rounded-lg",children:[s.jsx(ls,{className:"h-12 w-12 text-gray-400 mx-auto mb-3"}),s.jsx("p",{className:"text-sm text-gray-500",children:"Aucun tudiant inscrit"})]}):s.jsx("div",{className:"border rounded-lg overflow-hidden",children:s.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[s.jsx("thead",{className:"bg-gray-50",children:s.jsxs("tr",{children:[s.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase",children:"tudiant"}),s.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase",children:"Paiement"}),s.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase",children:"Validation"}),s.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase",children:"Statut"}),s.jsx("th",{className:"px-4 py-3 text-right text-xs font-medium text-gray-500 uppercase",children:"Actions"})]})}),s.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:N.map(H=>s.jsxs("tr",{className:"hover:bg-gray-50",children:[s.jsx("td",{className:"px-4 py-3",children:s.jsxs("div",{children:[s.jsx("p",{className:"text-sm font-medium text-gray-900",children:H.student_name}),s.jsxs("p",{className:"text-xs text-gray-500",children:["@",H.student_username]})]})}),s.jsx("td",{className:"px-4 py-3",children:s.jsxs("div",{className:"space-y-1",children:[D(H.payment_status),H.remaining_amount!==void 0&&s.jsxs("p",{className:"text-xs text-gray-500",children:["Reste: ",H.remaining_amount.toFixed(2)," MAD"]})]})}),s.jsx("td",{className:"px-4 py-3",children:s.jsx("button",{onClick:()=>L(H),className:`p-1.5 rounded-full ${H.validation_status==="valide"?"bg-green-100 text-green-600 hover:bg-green-200":"bg-gray-100 text-gray-400 hover:bg-gray-200"}`,title:H.validation_status==="valide"?"Valid":"Non valid",children:H.validation_status==="valide"?s.jsx(Ka,{className:"h-5 w-5"}):s.jsx(mf,{className:"h-5 w-5"})})}),s.jsx("td",{className:"px-4 py-3",children:F(H.enrollment_status)}),s.jsx("td",{className:"px-4 py-3 text-right",children:s.jsxs("div",{className:"flex items-center justify-end gap-1",children:[s.jsx("button",{onClick:()=>w(H),className:"text-green-600 hover:text-green-700 hover:bg-green-50 p-2 rounded",title:"Grer paiements",children:s.jsx(Bx,{className:"h-4 w-4"})}),s.jsx("button",{onClick:()=>T(H.student_id,H.student_name),className:"text-red-600 hover:text-red-700 hover:bg-red-50 p-2 rounded",title:"Dsinscrire",children:s.jsx(Bn,{className:"h-4 w-4"})})]})})]},H.enrollment_id))})]})})]}),s.jsxs("div",{children:[s.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Ajouter des tudiants"}),s.jsx("div",{className:"mb-4",children:s.jsxs("div",{className:"relative",children:[s.jsx(ap,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 h-4 w-4 text-gray-400"}),s.jsx("input",{type:"text",value:f,onChange:H=>h(H.target.value),placeholder:"Rechercher un tudiant...",className:"w-full pl-10 pr-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent"})]})}),E.length===0?s.jsx("div",{className:"text-center py-8 bg-gray-50 rounded-lg",children:s.jsx("p",{className:"text-sm text-gray-500",children:f?"Aucun tudiant trouv":"Tous les tudiants sont dj inscrits"})}):s.jsx("div",{className:"border rounded-lg max-h-64 overflow-y-auto",children:s.jsx("div",{className:"divide-y divide-gray-200",children:E.map(H=>s.jsxs("label",{className:"flex items-center p-3 hover:bg-gray-50 cursor-pointer",children:[s.jsx("input",{type:"checkbox",checked:o.includes(H.id),onChange:()=>O(H.id),className:"h-4 w-4 text-blue-600 border-gray-300 rounded focus:ring-blue-500"}),s.jsxs("div",{className:"ml-3 flex-1",children:[s.jsx("p",{className:"text-sm font-medium text-gray-900",children:H.full_name}),s.jsxs("p",{className:"text-xs text-gray-500",children:["@",H.username]})]})]},H.id))})}),o.length>0&&s.jsxs("div",{className:"mt-4 flex items-center justify-between bg-blue-50 border border-blue-200 rounded-lg p-3",children:[s.jsxs("p",{className:"text-sm text-blue-800",children:[o.length," tudiant(s) slectionn(s)"]}),s.jsx(et,{onClick:j,disabled:m||B,className:"flex items-center gap-2",children:m?s.jsxs(s.Fragment,{children:[s.jsx("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-white"}),s.jsx("span",{children:"Inscription..."})]}):s.jsxs(s.Fragment,{children:[s.jsx(tW,{className:"h-4 w-4"}),s.jsx("span",{children:"Inscrire"})]})})]})]})]})]}),s.jsx("div",{className:"flex justify-end gap-3 p-6 border-t bg-gray-50",children:s.jsx(et,{variant:"outline",onClick:t,children:"Fermer"})})]}),v&&s.jsx($ie,{student:v,onClose:()=>w(null)})]})},Vie=()=>{const{data:e,isLoading:t,error:r}=wL(),{data:n}=Mie(),a=Bie(),[i,l]=k.useState(!1),[o,u]=k.useState(null),[f,h]=k.useState(null),m=async b=>{if(window.confirm(`tes-vous sr de vouloir supprimer la session "${b.name}" ?`))try{await a.mutateAsync(b.id)}catch(v){console.error("Error deleting session:",v),alert("Erreur lors de la suppression de la session")}},g=b=>({planned:"bg-blue-100 text-blue-700",active:"bg-green-100 text-green-700",completed:"bg-gray-100 text-gray-700",cancelled:"bg-red-100 text-red-700"})[b]||"bg-gray-100 text-gray-700",x=b=>({planned:"Planifie",active:"Active",completed:"Termine",cancelled:"Annule"})[b]||b;return s.jsxs(da,{title:"Sessions de Formation",subtitle:"Grer les sessions et les inscriptions",children:[s.jsxs("div",{className:"space-y-6",children:[n&&s.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-5 gap-4",children:[s.jsx("div",{className:"bg-white rounded-lg shadow-sm border p-4",children:s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx("div",{className:"p-2 bg-blue-100 rounded-lg",children:s.jsx(wi,{className:"h-5 w-5 text-blue-600"})}),s.jsxs("div",{children:[s.jsx("p",{className:"text-sm text-gray-600",children:"Total Sessions"}),s.jsx("p",{className:"text-2xl font-bold text-gray-900",children:n.sessions.total})]})]})}),s.jsx("div",{className:"bg-white rounded-lg shadow-sm border p-4",children:s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx("div",{className:"p-2 bg-blue-100 rounded-lg",children:s.jsx(wi,{className:"h-5 w-5 text-blue-600"})}),s.jsxs("div",{children:[s.jsx("p",{className:"text-sm text-gray-600",children:"Planifies"}),s.jsx("p",{className:"text-2xl font-bold text-blue-600",children:n.sessions.planned})]})]})}),s.jsx("div",{className:"bg-white rounded-lg shadow-sm border p-4",children:s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx("div",{className:"p-2 bg-green-100 rounded-lg",children:s.jsx(wi,{className:"h-5 w-5 text-green-600"})}),s.jsxs("div",{children:[s.jsx("p",{className:"text-sm text-gray-600",children:"Actives"}),s.jsx("p",{className:"text-2xl font-bold text-green-600",children:n.sessions.active})]})]})}),s.jsx("div",{className:"bg-white rounded-lg shadow-sm border p-4",children:s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx("div",{className:"p-2 bg-gray-100 rounded-lg",children:s.jsx(wi,{className:"h-5 w-5 text-gray-600"})}),s.jsxs("div",{children:[s.jsx("p",{className:"text-sm text-gray-600",children:"Termines"}),s.jsx("p",{className:"text-2xl font-bold text-gray-600",children:n.sessions.completed})]})]})}),s.jsx("div",{className:"bg-white rounded-lg shadow-sm border p-4",children:s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx("div",{className:"p-2 bg-purple-100 rounded-lg",children:s.jsx(ls,{className:"h-5 w-5 text-purple-600"})}),s.jsxs("div",{children:[s.jsx("p",{className:"text-sm text-gray-600",children:"tudiants Inscrits"}),s.jsx("p",{className:"text-2xl font-bold text-purple-600",children:n.total_students_enrolled})]})]})})]}),s.jsxs("div",{className:"flex flex-col sm:flex-row justify-between items-start sm:items-center gap-4",children:[s.jsxs("div",{children:[s.jsx("h2",{className:"text-xl font-semibold text-gray-900",children:"Liste des sessions"}),s.jsx("p",{className:"text-sm text-gray-600 mt-1",children:"Grez les sessions de formation et les inscriptions"})]}),s.jsxs(et,{onClick:()=>l(!0),className:"flex items-center gap-2",children:[s.jsx(_i,{className:"h-4 w-4"}),"Nouvelle session"]})]}),t&&s.jsx("div",{className:"flex justify-center items-center py-12",children:s.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-blue-600"})}),r&&s.jsxs("div",{className:"bg-red-50 border border-red-200 rounded-lg p-4 flex items-start gap-3",children:[s.jsx(Wr,{className:"h-5 w-5 text-red-600 flex-shrink-0 mt-0.5"}),s.jsxs("div",{children:[s.jsx("p",{className:"text-sm font-medium text-red-800",children:"Erreur de chargement"}),s.jsx("p",{className:"text-sm text-red-700 mt-1",children:r.message})]})]}),e&&e.length>0&&s.jsx("div",{className:"bg-white rounded-lg shadow-sm border overflow-hidden",children:s.jsx("div",{className:"overflow-x-auto",children:s.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[s.jsx("thead",{className:"bg-gray-50",children:s.jsxs("tr",{children:[s.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Session"}),s.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Formation"}),s.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Segment"}),s.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Ville"}),s.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Dates"}),s.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Inscrits"}),s.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Statut"}),s.jsx("th",{className:"px-6 py-3 text-right text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Actions"})]})}),s.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:e.map(b=>s.jsxs("tr",{className:"hover:bg-gray-50",children:[s.jsx("td",{className:"px-6 py-4",children:s.jsxs("div",{children:[s.jsx("p",{className:"text-sm font-medium text-gray-900",children:b.name}),b.description&&s.jsx("p",{className:"text-xs text-gray-500 mt-1 line-clamp-2",children:b.description})]})}),s.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:b.formation_title?s.jsx("div",{className:"flex items-center gap-2",children:s.jsx("span",{className:"inline-flex items-center px-2 py-1 rounded-full text-xs font-medium bg-green-100 text-green-700",children:b.formation_title})}):s.jsx("p",{className:"text-sm text-gray-400",children:"Aucune formation"})}),s.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:s.jsx("p",{className:"text-sm text-gray-900",children:b.segment_name||"-"})}),s.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:s.jsx("p",{className:"text-sm text-gray-900",children:b.city_name||"-"})}),s.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:s.jsxs("div",{className:"text-sm",children:[s.jsx("p",{className:"text-gray-900",children:new Date(b.start_date).toLocaleDateString("fr-FR")}),s.jsx("p",{className:"text-gray-500",children:new Date(b.end_date).toLocaleDateString("fr-FR")})]})}),s.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(ls,{className:"h-4 w-4 text-gray-400"}),s.jsxs("span",{className:"text-sm text-gray-900",children:[b.enrolled_count||0,b.max_capacity&&` / ${b.max_capacity}`]})]})}),s.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:s.jsx("span",{className:`px-2 py-1 inline-flex text-xs leading-5 font-semibold rounded-full ${g(b.status)}`,children:x(b.status)})}),s.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-right text-sm font-medium",children:s.jsxs("div",{className:"flex items-center justify-end gap-2",children:[s.jsx(et,{variant:"ghost",size:"sm",onClick:()=>h(b),className:"text-purple-600 hover:text-purple-700 hover:bg-purple-50",children:s.jsx(ls,{className:"h-4 w-4"})}),s.jsx(et,{variant:"ghost",size:"sm",onClick:()=>u(b),className:"text-blue-600 hover:text-blue-700 hover:bg-blue-50",children:s.jsx(zm,{className:"h-4 w-4"})}),s.jsx(et,{variant:"ghost",size:"sm",onClick:()=>m(b),className:"text-red-600 hover:text-red-700 hover:bg-red-50",children:s.jsx(Bn,{className:"h-4 w-4"})})]})})]},b.id))})]})})}),e&&e.length===0&&!t&&s.jsxs("div",{className:"bg-white rounded-lg shadow-sm border p-12 text-center",children:[s.jsx(wi,{className:"h-12 w-12 text-gray-400 mx-auto mb-4"}),s.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"Aucune session"}),s.jsx("p",{className:"text-sm text-gray-500 mb-6",children:"Commencez par crer votre premire session de formation"}),s.jsxs(et,{onClick:()=>l(!0),className:"flex items-center gap-2",children:[s.jsx(_i,{className:"h-4 w-4"}),"Crer une session"]})]})]}),i&&s.jsx(zk,{onClose:()=>l(!1)}),o&&s.jsx(zk,{session:o,onClose:()=>u(null)}),f&&s.jsx(Hie,{session:f,onClose:()=>h(null)})]})},Ms={getFormations:()=>at.get("/cours/formations"),getFormation:e=>at.get(`/cours/formations/${e}`),createFormation:e=>at.post("/cours/formations",e),updateFormation:(e,t)=>at.put(`/cours/formations/${e}`,t),deleteFormation:e=>at.delete(`/cours/formations/${e}`),getModules:e=>at.get(`/cours/formations/${e}/modules`),createModule:(e,t)=>at.post(`/cours/formations/${e}/modules`,t),updateModule:(e,t)=>at.put(`/cours/modules/${e}`,t),deleteModule:e=>at.delete(`/cours/modules/${e}`),reorderModule:(e,t)=>at.put(`/cours/modules/${e}/reorder`,{new_order_index:t}),createVideo:(e,t)=>at.post(`/cours/modules/${e}/videos`,t),updateVideo:(e,t)=>at.put(`/cours/videos/${e}`,t),deleteVideo:e=>at.delete(`/cours/videos/${e}`),createTest:(e,t)=>at.post(`/cours/modules/${e}/tests`,t),getTest:e=>at.get(`/cours/tests/${e}`),updateTest:(e,t)=>at.put(`/cours/tests/${e}`,t),deleteTest:e=>at.delete(`/cours/tests/${e}`),createQuestion:(e,t)=>at.post(`/cours/tests/${e}/questions`,t),updateQuestion:(e,t)=>at.put(`/cours/questions/${e}`,t),deleteQuestion:e=>at.delete(`/cours/questions/${e}`),createChoice:(e,t)=>at.post(`/cours/questions/${e}/choices`,t),updateChoice:(e,t)=>at.put(`/cours/choices/${e}`,t),deleteChoice:e=>at.delete(`/cours/choices/${e}`),getStats:()=>at.get("/cours/stats")},Zr={all:["cours"],formations:()=>[...Zr.all,"formations"],formation:e=>[...Zr.formations(),e],modules:e=>[...Zr.all,"modules",e],test:e=>[...Zr.all,"test",e],stats:()=>[...Zr.all,"stats"]};function h2(){return or({queryKey:Zr.formations(),queryFn:()=>Ms.getFormations()})}function cp(e){return or({queryKey:Zr.formation(e),queryFn:()=>Ms.getFormation(e),enabled:!!e})}function Wie(){const e=Pt();return It({mutationFn:t=>Ms.createFormation(t),onSuccess:()=>{e.invalidateQueries({queryKey:Zr.formations()}),e.invalidateQueries({queryKey:Zr.stats()})}})}function Gie(){const e=Pt();return It({mutationFn:({id:t,data:r})=>Ms.updateFormation(t,r),onSuccess:(t,{id:r})=>{e.invalidateQueries({queryKey:Zr.formations()}),e.invalidateQueries({queryKey:Zr.formation(r)})}})}function Kie(){const e=Pt();return It({mutationFn:t=>Ms.deleteFormation(t),onSuccess:()=>{e.invalidateQueries({queryKey:Zr.formations()}),e.invalidateQueries({queryKey:Zr.stats()})}})}function Yie(){const e=Pt();return It({mutationFn:({formationId:t,data:r})=>Ms.createModule(t,r),onSuccess:(t,{formationId:r})=>{e.invalidateQueries({queryKey:Zr.modules(r)}),e.invalidateQueries({queryKey:Zr.formation(r)}),e.invalidateQueries({queryKey:Zr.stats()})}})}function Xie(){const e=Pt();return It({mutationFn:({id:t,data:r})=>Ms.updateModule(t,r),onSuccess:t=>{e.invalidateQueries({queryKey:Zr.modules(t.formation_id)}),e.invalidateQueries({queryKey:Zr.formation(t.formation_id)})}})}function Qie(){const e=Pt();return It({mutationFn:t=>Ms.deleteModule(t),onSuccess:t=>{const r=t.module.formation_id;e.invalidateQueries({queryKey:Zr.modules(r)}),e.invalidateQueries({queryKey:Zr.formation(r)}),e.invalidateQueries({queryKey:Zr.stats()})}})}function Zie(){const e=Pt();return It({mutationFn:({moduleId:t,data:r})=>Ms.createVideo(t,r),onSuccess:()=>{e.invalidateQueries({queryKey:Zr.all})}})}function Jie(){const e=Pt();return It({mutationFn:({id:t,data:r})=>Ms.updateVideo(t,r),onSuccess:()=>{e.invalidateQueries({queryKey:Zr.all})}})}function ese(){const e=Pt();return It({mutationFn:t=>Ms.deleteVideo(t),onSuccess:()=>{e.invalidateQueries({queryKey:Zr.all}),e.invalidateQueries({queryKey:Zr.stats()})}})}function tse(){const e=Pt();return It({mutationFn:({moduleId:t,data:r})=>Ms.createTest(t,r),onSuccess:()=>{e.invalidateQueries({queryKey:Zr.all}),e.invalidateQueries({queryKey:Zr.stats()})}})}function rse(){const e=Pt();return It({mutationFn:t=>Ms.deleteTest(t),onSuccess:()=>{e.invalidateQueries({queryKey:Zr.all}),e.invalidateQueries({queryKey:Zr.stats()})}})}function nse(){const e=Pt();return It({mutationFn:({testId:t,data:r})=>Ms.createQuestion(t,r),onSuccess:t=>{e.invalidateQueries({queryKey:Zr.test(t.test_id)}),e.invalidateQueries({queryKey:Zr.all})}})}function ase(){const e=Pt();return It({mutationFn:({questionId:t,data:r})=>Ms.createChoice(t,r),onSuccess:()=>{e.invalidateQueries({queryKey:Zr.all})}})}function ise(){return or({queryKey:Zr.stats(),queryFn:()=>Ms.getStats()})}const Sl={getAll:async()=>at.get("/certificate-templates"),getById:async e=>at.get(`/certificate-templates/${e}`),create:async e=>at.post("/certificate-templates",e),update:async(e,t)=>at.put(`/certificate-templates/${e}`,t),delete:async e=>at.delete(`/certificate-templates/${e}`),duplicate:async e=>at.post(`/certificate-templates/${e}/duplicate`),duplicateToFolder:async(e,t)=>at.post(`/certificate-templates/${e}/duplicate-to-folder`,{targetFolderId:t}),seedDefaults:async()=>at.post("/certificate-templates/seed-defaults"),generatePreview:async(e,t)=>{const r=await fetch(`/api/certificate-templates/${e}/preview`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(t)});if(!r.ok)throw new Error("Failed to generate preview");return r.blob()},uploadLogo:async(e,t)=>{const r=new FormData;r.append("logo",t);const n=await fetch(`/api/certificate-templates/${e}/upload-logo`,{method:"POST",body:r});if(!n.ok)throw new Error("Failed to upload logo");return n.json()},uploadSignature:async(e,t)=>{const r=new FormData;r.append("signature",t);const n=await fetch(`/api/certificate-templates/${e}/upload-signature`,{method:"POST",body:r});if(!n.ok)throw new Error("Failed to upload signature");return n.json()},uploadBackground:async(e,t)=>{const r=new FormData;r.append("background",t);const n=await fetch(`/api/certificate-templates/${e}/upload-background`,{method:"POST",body:r});if(!n.ok){const a=await n.json();throw new Error(a.error||"Failed to upload background image")}return n.json()},setBackgroundUrl:async(e,t)=>at.post(`/certificate-templates/${e}/background-url`,{url:t}),deleteBackground:async e=>at.delete(`/certificate-templates/${e}/background`),uploadCustomFont:async(e,t)=>{const r=new FormData;r.append("font",e),r.append("fontName",t);const n=await fetch("/api/certificate-templates/custom-fonts/upload",{method:"POST",body:r});if(!n.ok){const a=await n.json();throw new Error(a.error||"Failed to upload font")}return n.json()},getCustomFonts:async()=>at.get("/certificate-templates/custom-fonts"),deleteCustomFont:async e=>at.delete(`/certificate-templates/custom-fonts/${e}`)},Cc={all:["certificate-templates"],detail:e=>["certificate-templates",e],customFonts:["custom-fonts"]},NL=()=>or({queryKey:Cc.all,queryFn:Sl.getAll,staleTime:300*1e3,select:e=>e.templates}),sse=e=>or({queryKey:Cc.detail(e||""),queryFn:()=>Sl.getById(e),enabled:!!e,staleTime:300*1e3,select:t=>t.template}),lse=()=>{const e=Pt();return It({mutationFn:t=>Sl.create(t),onSuccess:()=>{e.invalidateQueries({queryKey:Cc.all})}})},_L=()=>{const e=Pt();return It({mutationFn:({id:t,data:r})=>Sl.update(t,r),onSuccess:(t,r)=>{e.invalidateQueries({queryKey:Cc.all}),e.invalidateQueries({queryKey:Cc.detail(r.id)})}})},ose=()=>{const e=Pt();return It({mutationFn:t=>Sl.delete(t),onSuccess:()=>{e.invalidateQueries({queryKey:Cc.all})}})},cse=()=>{const e=Pt();return It({mutationFn:t=>Sl.duplicate(t),onSuccess:()=>{e.invalidateQueries({queryKey:Cc.all})}})},use=()=>{const e=Pt();return It({mutationFn:({id:t,targetFolderId:r})=>Sl.duplicateToFolder(t,r),onSuccess:()=>{e.invalidateQueries({queryKey:Cc.all})}})},fse=()=>or({queryKey:Cc.customFonts,queryFn:Sl.getCustomFonts,staleTime:300*1e3,select:e=>e.fonts}),dse=()=>{const e=Pt();return It({mutationFn:({file:t,fontName:r})=>Sl.uploadCustomFont(t,r),onSuccess:()=>{e.invalidateQueries({queryKey:Cc.customFonts})}})},hse=()=>{const e=Pt();return It({mutationFn:t=>Sl.deleteCustomFont(t),onSuccess:()=>{e.invalidateQueries({queryKey:Cc.customFonts})}})},qk=({formation:e,onClose:t})=>{const r=!!e,n=Wie(),a=Gie(),{data:i}=NL(),[l,o]=k.useState({title:e?.title||"",description:e?.description||"",price:e?.price?.toString()||"",duration_hours:e?.duration_hours?.toString()||"",level:e?.level||"debutant",thumbnail_url:e?.thumbnail_url||"",status:e?.status||"draft",passing_score_percentage:e?.passing_score_percentage?.toString()||"80",default_certificate_template_id:e?.default_certificate_template_id||""}),[u,f]=k.useState({}),[h,m]=k.useState(!1),g=()=>{const b={};l.title.trim()||(b.title="Le titre est obligatoire"),l.price&&parseFloat(l.price)<0&&(b.price="Le prix doit tre positif"),l.duration_hours&&parseInt(l.duration_hours)<1&&(b.duration_hours="La dure doit tre suprieure  0");const v=parseInt(l.passing_score_percentage);return(v<0||v>100)&&(b.passing_score_percentage="Le score doit tre entre 0 et 100"),f(b),Object.keys(b).length===0},x=async b=>{if(b.preventDefault(),!!g()){m(!0);try{const v={title:l.title.trim(),description:l.description.trim()||void 0,price:l.price?parseFloat(l.price):void 0,duration_hours:l.duration_hours?parseInt(l.duration_hours):void 0,level:l.level,thumbnail_url:l.thumbnail_url.trim()||void 0,status:l.status,passing_score_percentage:parseInt(l.passing_score_percentage),default_certificate_template_id:l.default_certificate_template_id||void 0};r&&e?await a.mutateAsync({id:e.id,data:v}):await n.mutateAsync(v),t()}catch(v){console.error("Error saving formation:",v),f({submit:v.message||"Erreur lors de l'enregistrement"})}finally{m(!1)}}};return s.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center p-4 z-50",children:s.jsxs("div",{className:"bg-white rounded-lg shadow-xl max-w-2xl w-full max-h-[90vh] overflow-y-auto",children:[s.jsxs("div",{className:"flex items-center justify-between p-6 border-b",children:[s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx("div",{className:"p-2 bg-blue-100 rounded-lg",children:s.jsx($n,{className:"h-5 w-5 text-blue-600"})}),s.jsxs("div",{children:[s.jsx("h2",{className:"text-xl font-semibold text-gray-900",children:r?"Modifier la formation":"Nouvelle formation"}),s.jsx("p",{className:"text-sm text-gray-500 mt-0.5",children:r?"Mettez  jour les informations de la formation":"Crez une nouvelle formation en ligne"})]})]}),s.jsx(et,{variant:"ghost",size:"icon",onClick:t,children:s.jsx(ma,{className:"h-5 w-5"})})]}),s.jsxs("form",{onSubmit:x,className:"p-6 space-y-6",children:[u.submit&&s.jsxs("div",{className:"bg-red-50 border border-red-200 rounded-lg p-4 flex items-start gap-3",children:[s.jsx(Wr,{className:"h-5 w-5 text-red-600 flex-shrink-0 mt-0.5"}),s.jsx("p",{className:"text-sm text-red-700",children:u.submit})]}),s.jsxs("div",{children:[s.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:["Titre de la formation ",s.jsx("span",{className:"text-red-500",children:"*"})]}),s.jsx(is,{value:l.title,onChange:b=>o({...l,title:b.target.value}),placeholder:"Ex: Matriser React et TypeScript",className:u.title?"border-red-300":""}),u.title&&s.jsx("p",{className:"text-xs text-red-600 mt-1",children:u.title})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Description"}),s.jsx("textarea",{value:l.description,onChange:b=>o({...l,description:b.target.value}),placeholder:"Description complte de la formation...",rows:4,className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent text-sm"})]}),s.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Niveau"}),s.jsxs("select",{value:l.level,onChange:b=>o({...l,level:b.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent text-sm",children:[s.jsx("option",{value:"debutant",children:"Dbutant"}),s.jsx("option",{value:"intermediaire",children:"Intermdiaire"}),s.jsx("option",{value:"avance",children:"Avanc"})]})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Statut"}),s.jsxs("select",{value:l.status,onChange:b=>o({...l,status:b.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent text-sm",children:[s.jsx("option",{value:"draft",children:"Brouillon"}),s.jsx("option",{value:"published",children:"Publie"})]})]})]}),s.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Prix (MAD)"}),s.jsx(is,{type:"number",min:"0",step:"0.01",value:l.price,onChange:b=>o({...l,price:b.target.value}),placeholder:"0.00",className:u.price?"border-red-300":""}),u.price&&s.jsx("p",{className:"text-xs text-red-600 mt-1",children:u.price}),s.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"Laissez vide pour gratuit"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Dure (heures)"}),s.jsx(is,{type:"number",min:"1",value:l.duration_hours,onChange:b=>o({...l,duration_hours:b.target.value}),placeholder:"10",className:u.duration_hours?"border-red-300":""}),u.duration_hours&&s.jsx("p",{className:"text-xs text-red-600 mt-1",children:u.duration_hours})]})]}),s.jsxs("div",{children:[s.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:["Score de russite (%) ",s.jsx("span",{className:"text-red-500",children:"*"})]}),s.jsx(is,{type:"number",min:"0",max:"100",value:l.passing_score_percentage,onChange:b=>o({...l,passing_score_percentage:b.target.value}),className:u.passing_score_percentage?"border-red-300":""}),u.passing_score_percentage&&s.jsx("p",{className:"text-xs text-red-600 mt-1",children:u.passing_score_percentage}),s.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"Score minimum requis pour valider les tests (dfaut: 80%)"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"URL de l'image"}),s.jsx(is,{type:"url",value:l.thumbnail_url,onChange:b=>o({...l,thumbnail_url:b.target.value}),placeholder:"https://example.com/image.jpg"}),s.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"Image de prsentation de la formation (optionnel)"})]}),s.jsxs("div",{children:[s.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-2 flex items-center gap-2",children:[s.jsx(si,{className:"h-4 w-4 text-blue-600"}),"Template de Certificat"]}),s.jsxs("select",{value:l.default_certificate_template_id,onChange:b=>o({...l,default_certificate_template_id:b.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent text-sm",children:[s.jsx("option",{value:"",children:"Aucun template slectionn"}),i?.map(b=>s.jsx("option",{value:b.id,children:b.name},b.id))]}),s.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"Ce template sera utilis pour gnrer les certificats de cette formation"})]}),s.jsxs("div",{className:"flex items-center justify-end gap-3 pt-4 border-t",children:[s.jsx(et,{type:"button",variant:"outline",onClick:t,disabled:h,children:"Annuler"}),s.jsx(et,{type:"submit",disabled:h,className:"min-w-[100px]",children:h?s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-white"}),s.jsx("span",{children:"..."})]}):r?"Enregistrer":"Crer"})]})]})]})})};function T3(e,t="MAD"){if(e==null)return"Gratuit";const r=typeof e=="string"?parseFloat(e):e;return isNaN(r)||r<=0?"Gratuit":`${r.toFixed(2)} ${t}`}const mse=()=>{const e=Fn(),{data:t,isLoading:r,error:n}=h2(),{data:a}=ise(),i=Kie(),[l,o]=k.useState(!1),[u,f]=k.useState(null),h=async v=>{if(window.confirm(`tes-vous sr de vouloir supprimer la formation "${v.title}" ? Tous les modules, vidos et tests associs seront galement supprims.`))try{await i.mutateAsync(v.id)}catch(w){console.error("Error deleting formation:",w),alert("Erreur lors de la suppression de la formation")}},m=v=>({draft:"bg-gray-100 text-gray-700",published:"bg-green-100 text-green-700"})[v]||"bg-gray-100 text-gray-700",g=v=>({draft:"Brouillon",published:"Publie"})[v]||v,x=v=>v?{debutant:"Dbutant",intermediaire:"Intermdiaire",avance:"Avanc"}[v]||v:"-",b=v=>v&&{debutant:"bg-blue-50 text-blue-700",intermediaire:"bg-yellow-50 text-yellow-700",avance:"bg-purple-50 text-purple-700"}[v]||"bg-gray-50 text-gray-700";return s.jsxs(da,{title:"Formations en Ligne",subtitle:"Grer les formations, modules, vidos et tests",children:[s.jsxs("div",{className:"space-y-6",children:[a&&s.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-4",children:[s.jsx("div",{className:"bg-white rounded-lg shadow-sm border p-4",children:s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx("div",{className:"p-2 bg-blue-100 rounded-lg",children:s.jsx($n,{className:"h-5 w-5 text-blue-600"})}),s.jsxs("div",{children:[s.jsx("p",{className:"text-sm text-gray-600",children:"Total Formations"}),s.jsx("p",{className:"text-2xl font-bold text-gray-900",children:a.formations.total})]})]})}),s.jsx("div",{className:"bg-white rounded-lg shadow-sm border p-4",children:s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx("div",{className:"p-2 bg-green-100 rounded-lg",children:s.jsx($n,{className:"h-5 w-5 text-green-600"})}),s.jsxs("div",{children:[s.jsx("p",{className:"text-sm text-gray-600",children:"Publies"}),s.jsx("p",{className:"text-2xl font-bold text-green-600",children:a.formations.published})]})]})}),s.jsx("div",{className:"bg-white rounded-lg shadow-sm border p-4",children:s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx("div",{className:"p-2 bg-purple-100 rounded-lg",children:s.jsx(Hx,{className:"h-5 w-5 text-purple-600"})}),s.jsxs("div",{children:[s.jsx("p",{className:"text-sm text-gray-600",children:"Total Vidos"}),s.jsx("p",{className:"text-2xl font-bold text-purple-600",children:a.total_videos})]})]})}),s.jsx("div",{className:"bg-white rounded-lg shadow-sm border p-4",children:s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx("div",{className:"p-2 bg-orange-100 rounded-lg",children:s.jsx(af,{className:"h-5 w-5 text-orange-600"})}),s.jsxs("div",{children:[s.jsx("p",{className:"text-sm text-gray-600",children:"Total Tests"}),s.jsx("p",{className:"text-2xl font-bold text-orange-600",children:a.total_tests})]})]})})]}),s.jsxs("div",{className:"flex flex-col sm:flex-row justify-between items-start sm:items-center gap-4",children:[s.jsxs("div",{children:[s.jsx("h2",{className:"text-xl font-semibold text-gray-900",children:"Liste des formations"}),s.jsx("p",{className:"text-sm text-gray-600 mt-1",children:"Crez et grez vos formations en ligne"})]}),s.jsxs(et,{onClick:()=>o(!0),className:"flex items-center gap-2",children:[s.jsx(_i,{className:"h-4 w-4"}),"Nouvelle formation"]})]}),r&&s.jsx("div",{className:"flex justify-center items-center py-12",children:s.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-blue-600"})}),n&&s.jsxs("div",{className:"bg-red-50 border border-red-200 rounded-lg p-4 flex items-start gap-3",children:[s.jsx(Wr,{className:"h-5 w-5 text-red-600 flex-shrink-0 mt-0.5"}),s.jsxs("div",{children:[s.jsx("p",{className:"text-sm font-medium text-red-800",children:"Erreur de chargement"}),s.jsx("p",{className:"text-sm text-red-700 mt-1",children:n.message})]})]}),t&&t.length>0&&s.jsx("div",{className:"bg-white rounded-lg shadow-sm border overflow-hidden",children:s.jsx("div",{className:"overflow-x-auto",children:s.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[s.jsx("thead",{className:"bg-gray-50",children:s.jsxs("tr",{children:[s.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Formation"}),s.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Niveau"}),s.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Modules"}),s.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Prix"}),s.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Dure"}),s.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Template Certificat"}),s.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Statut"}),s.jsx("th",{className:"px-6 py-3 text-right text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Actions"})]})}),s.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:t.map(v=>s.jsxs("tr",{className:"hover:bg-gray-50",children:[s.jsx("td",{className:"px-6 py-4",children:s.jsxs("div",{children:[s.jsx("p",{className:"text-sm font-medium text-gray-900",children:v.title}),v.description&&s.jsx("p",{className:"text-xs text-gray-500 mt-1 line-clamp-2",children:v.description})]})}),s.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:s.jsx("span",{className:`px-2 py-1 inline-flex text-xs leading-5 font-semibold rounded-full ${b(v.level)}`,children:x(v.level)})}),s.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx($n,{className:"h-4 w-4 text-gray-400"}),s.jsx("span",{className:"text-sm text-gray-900",children:v.module_count||0})]})}),s.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:s.jsx("div",{className:"flex items-center gap-1 text-sm text-gray-900",children:v.price&&Number(v.price)>0?s.jsxs(s.Fragment,{children:[s.jsx(Bx,{className:"h-4 w-4 text-gray-400"}),T3(v.price)]}):s.jsx("span",{className:"text-gray-400",children:"Gratuit"})})}),s.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:s.jsx("span",{className:"text-sm text-gray-900",children:v.duration_hours?`${v.duration_hours}h`:"-"})}),s.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:v.certificate_template_name?s.jsxs("div",{className:"flex items-center gap-1 text-sm",children:[s.jsx(si,{className:"h-4 w-4 text-blue-600"}),s.jsx("span",{className:"text-gray-900",children:v.certificate_template_name})]}):s.jsx("span",{className:"text-xs text-gray-400",children:"Dfaut systme"})}),s.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:s.jsx("span",{className:`px-2 py-1 inline-flex text-xs leading-5 font-semibold rounded-full ${m(v.status)}`,children:g(v.status)})}),s.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-right text-sm font-medium",children:s.jsxs("div",{className:"flex items-center justify-end gap-2",children:[s.jsx(et,{variant:"ghost",size:"sm",onClick:()=>e(`/admin/formations/cours/${v.id}/editor`),className:"text-green-600 hover:text-green-700 hover:bg-green-50",title:"Grer le contenu (modules, vidos, tests)",children:s.jsx(tF,{className:"h-4 w-4"})}),s.jsx(et,{variant:"ghost",size:"sm",onClick:()=>f(v),className:"text-blue-600 hover:text-blue-700 hover:bg-blue-50",title:"diter les informations",children:s.jsx(zm,{className:"h-4 w-4"})}),s.jsx(et,{variant:"ghost",size:"sm",onClick:()=>h(v),className:"text-red-600 hover:text-red-700 hover:bg-red-50",title:"Supprimer la formation",children:s.jsx(Bn,{className:"h-4 w-4"})})]})})]},v.id))})]})})}),t&&t.length===0&&!r&&s.jsxs("div",{className:"bg-white rounded-lg shadow-sm border p-12 text-center",children:[s.jsx($n,{className:"h-12 w-12 text-gray-400 mx-auto mb-4"}),s.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"Aucune formation"}),s.jsx("p",{className:"text-sm text-gray-500 mb-6",children:"Commencez par crer votre premire formation en ligne"}),s.jsxs(et,{onClick:()=>o(!0),className:"flex items-center gap-2",children:[s.jsx(_i,{className:"h-4 w-4"}),"Crer une formation"]})]})]}),l&&s.jsx(qk,{onClose:()=>o(!1)}),u&&s.jsx(qk,{formation:u,onClose:()=>f(null)})]})},pse=({formationId:e,module:t,modules:r=[],onClose:n})=>{const a=!!t,i=Yie(),l=Xie(),[o,u]=k.useState({title:t?.title||"",description:t?.description||"",module_type:t?.module_type||"video",prerequisite_module_id:t?.prerequisite_module_id||""}),[f,h]=k.useState({}),m=()=>{const v={};return o.title.trim()||(v.title="Le titre est obligatoire"),h(v),Object.keys(v).length===0},g=async v=>{if(v.preventDefault(),!!m())try{const w={title:o.title.trim(),description:o.description.trim()||void 0,module_type:o.module_type,prerequisite_module_id:o.prerequisite_module_id||void 0};a&&t?await l.mutateAsync({id:t.id,data:w}):await i.mutateAsync({formationId:e,data:w}),n()}catch(w){console.error("Error saving module:",w),h({submit:"Une erreur est survenue lors de la sauvegarde du module"})}},x=r.filter(v=>!a||v.id!==t?.id),b=v=>({video:"Vido",test:"Test",document:"Document"})[v];return s.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center p-4 z-50",children:s.jsxs("div",{className:"bg-white rounded-lg shadow-xl max-w-2xl w-full max-h-[90vh] overflow-y-auto",children:[s.jsxs("div",{className:"flex items-center justify-between p-6 border-b",children:[s.jsx("h2",{className:"text-xl font-semibold text-gray-900",children:a?"Modifier le module":"Ajouter un module"}),s.jsx("button",{onClick:n,className:"text-gray-400 hover:text-gray-600 transition-colors",children:s.jsx(ma,{className:"h-5 w-5"})})]}),s.jsxs("form",{onSubmit:g,className:"p-6 space-y-6",children:[f.submit&&s.jsxs("div",{className:"bg-red-50 border border-red-200 rounded-lg p-4 flex items-start gap-3",children:[s.jsx(Wr,{className:"h-5 w-5 text-red-600 flex-shrink-0 mt-0.5"}),s.jsx("p",{className:"text-sm text-red-800",children:f.submit})]}),s.jsxs("div",{children:[s.jsxs("label",{htmlFor:"title",className:"block text-sm font-medium text-gray-700 mb-2",children:["Titre ",s.jsx("span",{className:"text-red-500",children:"*"})]}),s.jsx("input",{type:"text",id:"title",value:o.title,onChange:v=>u({...o,title:v.target.value}),className:`w-full px-3 py-2 border rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent ${f.title?"border-red-300":"border-gray-300"}`,placeholder:"Ex: Introduction aux bases de donnes"}),f.title&&s.jsx("p",{className:"mt-1 text-sm text-red-600",children:f.title})]}),s.jsxs("div",{children:[s.jsx("label",{htmlFor:"description",className:"block text-sm font-medium text-gray-700 mb-2",children:"Description"}),s.jsx("textarea",{id:"description",value:o.description,onChange:v=>u({...o,description:v.target.value}),rows:4,className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",placeholder:"Dcrivez le contenu de ce module..."})]}),s.jsxs("div",{children:[s.jsxs("label",{htmlFor:"module_type",className:"block text-sm font-medium text-gray-700 mb-2",children:["Type de module ",s.jsx("span",{className:"text-red-500",children:"*"})]}),s.jsxs("select",{id:"module_type",value:o.module_type,onChange:v=>u({...o,module_type:v.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",children:[s.jsx("option",{value:"video",children:"Vido"}),s.jsx("option",{value:"test",children:"Test"}),s.jsx("option",{value:"document",children:"Document"})]}),s.jsxs("p",{className:"mt-1 text-sm text-gray-500",children:[o.module_type==="video"&&"Module contenant des vidos de cours",o.module_type==="test"&&"Module contenant des tests et valuations",o.module_type==="document"&&"Module contenant des documents et ressources"]})]}),s.jsxs("div",{children:[s.jsx("label",{htmlFor:"prerequisite_module_id",className:"block text-sm font-medium text-gray-700 mb-2",children:"Module prrequis"}),s.jsxs("select",{id:"prerequisite_module_id",value:o.prerequisite_module_id,onChange:v=>u({...o,prerequisite_module_id:v.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",children:[s.jsx("option",{value:"",children:"Aucun (accessible immdiatement)"}),x.map(v=>s.jsxs("option",{value:v.id,children:["#",v.order_index+1," - ",v.title," (",b(v.module_type),")"]},v.id))]}),s.jsx("p",{className:"mt-1 text-sm text-gray-500",children:"L'tudiant devra complter ce module avant d'accder au module actuel"})]}),s.jsxs("div",{className:"flex justify-end gap-3 pt-4 border-t",children:[s.jsx(et,{type:"button",variant:"outline",onClick:n,children:"Annuler"}),s.jsx(et,{type:"submit",disabled:i.isPending||l.isPending,className:"min-w-[120px]",children:i.isPending||l.isPending?s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-white"}),s.jsx("span",{children:"Sauvegarde..."})]}):a?"Modifier":"Ajouter"})]})]})]})})},xse=({moduleId:e,video:t,onClose:r})=>{const n=!!t,a=Zie(),i=Jie(),[l,o]=k.useState({title:t?.title||"",youtube_url:t?.youtube_url||"",duration_seconds:t?.duration_seconds?.toString()||"",description:t?.description||""}),[u,f]=k.useState({}),h=N=>N.trim()?[/^https?:\/\/(www\.)?youtube\.com\/watch\?v=[\w-]+/,/^https?:\/\/(www\.)?youtu\.be\/[\w-]+/,/^https?:\/\/(www\.)?youtube\.com\/embed\/[\w-]+/,/^https?:\/\/(www\.)?youtube\.com\/v\/[\w-]+/].some(j=>j.test(N)):!1,m=N=>{const E=[/youtube\.com\/watch\?v=([\w-]+)/,/youtu\.be\/([\w-]+)/,/youtube\.com\/embed\/([\w-]+)/,/youtube\.com\/v\/([\w-]+)/];for(const j of E){const T=N.match(j);if(T&&T[1])return T[1]}return null},g=()=>{const N={};return l.title.trim()||(N.title="Le titre est obligatoire"),l.youtube_url.trim()?h(l.youtube_url)||(N.youtube_url="L'URL YouTube n'est pas valide. Formats accepts: youtube.com/watch?v=..., youtu.be/..., youtube.com/embed/..."):N.youtube_url="L'URL YouTube est obligatoire",l.duration_seconds&&parseInt(l.duration_seconds)<0&&(N.duration_seconds="La dure doit tre positive"),f(N),Object.keys(N).length===0},x=async N=>{if(N.preventDefault(),!!g())try{const E={title:l.title.trim(),youtube_url:l.youtube_url.trim(),duration_seconds:l.duration_seconds?parseInt(l.duration_seconds):void 0,description:l.description.trim()||void 0};n&&t?await i.mutateAsync({id:t.id,data:E}):await a.mutateAsync({moduleId:e,data:E}),r()}catch(E){console.error("Error saving video:",E),f({submit:"Une erreur est survenue lors de la sauvegarde de la vido"})}},b=m(l.youtube_url),v=b?`https://img.youtube.com/vi/${b}/mqdefault.jpg`:null,w=N=>{const E=Math.floor(N/60),j=N%60;return`${E}min ${j}s`};return s.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center p-4 z-50",children:s.jsxs("div",{className:"bg-white rounded-lg shadow-xl max-w-2xl w-full max-h-[90vh] overflow-y-auto",children:[s.jsxs("div",{className:"flex items-center justify-between p-6 border-b",children:[s.jsx("h2",{className:"text-xl font-semibold text-gray-900",children:n?"Modifier la vido":"Ajouter une vido"}),s.jsx("button",{onClick:r,className:"text-gray-400 hover:text-gray-600 transition-colors",children:s.jsx(ma,{className:"h-5 w-5"})})]}),s.jsxs("form",{onSubmit:x,className:"p-6 space-y-6",children:[u.submit&&s.jsxs("div",{className:"bg-red-50 border border-red-200 rounded-lg p-4 flex items-start gap-3",children:[s.jsx(Wr,{className:"h-5 w-5 text-red-600 flex-shrink-0 mt-0.5"}),s.jsx("p",{className:"text-sm text-red-800",children:u.submit})]}),s.jsxs("div",{children:[s.jsxs("label",{htmlFor:"title",className:"block text-sm font-medium text-gray-700 mb-2",children:["Titre de la vido ",s.jsx("span",{className:"text-red-500",children:"*"})]}),s.jsx("input",{type:"text",id:"title",value:l.title,onChange:N=>o({...l,title:N.target.value}),className:`w-full px-3 py-2 border rounded-lg focus:ring-2 focus:ring-purple-500 focus:border-transparent ${u.title?"border-red-300":"border-gray-300"}`,placeholder:"Ex: Introduction  SQL"}),u.title&&s.jsx("p",{className:"mt-1 text-sm text-red-600",children:u.title})]}),s.jsxs("div",{children:[s.jsxs("label",{htmlFor:"youtube_url",className:"block text-sm font-medium text-gray-700 mb-2",children:["URL YouTube ",s.jsx("span",{className:"text-red-500",children:"*"})]}),s.jsx("input",{type:"text",id:"youtube_url",value:l.youtube_url,onChange:N=>o({...l,youtube_url:N.target.value}),className:`w-full px-3 py-2 border rounded-lg focus:ring-2 focus:ring-purple-500 focus:border-transparent ${u.youtube_url?"border-red-300":"border-gray-300"}`,placeholder:"https://www.youtube.com/watch?v=..."}),u.youtube_url&&s.jsx("p",{className:"mt-1 text-sm text-red-600",children:u.youtube_url}),s.jsx("p",{className:"mt-1 text-xs text-gray-500",children:"Formats accepts: youtube.com/watch?v=..., youtu.be/..., youtube.com/embed/..."}),v&&!u.youtube_url&&s.jsxs("div",{className:"mt-3 border border-gray-200 rounded-lg overflow-hidden",children:[s.jsx("img",{src:v,alt:"Aperu YouTube",className:"w-full"}),s.jsxs("div",{className:"p-2 bg-gray-50 flex items-center justify-between",children:[s.jsx("span",{className:"text-xs text-gray-600",children:"Aperu de la vido"}),s.jsxs("a",{href:l.youtube_url,target:"_blank",rel:"noopener noreferrer",className:"text-xs text-purple-600 hover:text-purple-700 flex items-center gap-1",children:["Ouvrir sur YouTube",s.jsx(n2,{className:"h-3 w-3"})]})]})]})]}),s.jsxs("div",{children:[s.jsx("label",{htmlFor:"duration_seconds",className:"block text-sm font-medium text-gray-700 mb-2",children:"Dure (en secondes)"}),s.jsx("input",{type:"number",id:"duration_seconds",value:l.duration_seconds,onChange:N=>o({...l,duration_seconds:N.target.value}),min:"0",className:`w-full px-3 py-2 border rounded-lg focus:ring-2 focus:ring-purple-500 focus:border-transparent ${u.duration_seconds?"border-red-300":"border-gray-300"}`,placeholder:"Ex: 300"}),u.duration_seconds&&s.jsx("p",{className:"mt-1 text-sm text-red-600",children:u.duration_seconds}),l.duration_seconds&&parseInt(l.duration_seconds)>0&&s.jsxs("p",{className:"mt-1 text-xs text-gray-500",children:["quivalent: ",w(parseInt(l.duration_seconds))]}),s.jsx("p",{className:"mt-1 text-xs text-gray-500",children:"Optionnel - Aide les tudiants  planifier leur temps d'apprentissage"})]}),s.jsxs("div",{children:[s.jsx("label",{htmlFor:"description",className:"block text-sm font-medium text-gray-700 mb-2",children:"Description"}),s.jsx("textarea",{id:"description",value:l.description,onChange:N=>o({...l,description:N.target.value}),rows:4,className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-purple-500 focus:border-transparent",placeholder:"Dcrivez le contenu de cette vido..."}),s.jsx("p",{className:"mt-1 text-xs text-gray-500",children:"Rsum du contenu abord dans la vido"})]}),s.jsxs("div",{className:"flex justify-end gap-3 pt-4 border-t",children:[s.jsx(et,{type:"button",variant:"outline",onClick:r,children:"Annuler"}),s.jsx(et,{type:"submit",disabled:a.isPending||i.isPending,className:"min-w-[120px] bg-purple-600 hover:bg-purple-700",children:a.isPending||i.isPending?s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-white"}),s.jsx("span",{children:"Sauvegarde..."})]}):n?"Modifier":"Ajouter"})]})]})]})})},gse=({moduleId:e,onClose:t})=>{const r=tse(),n=nse(),a=ase(),[i,l]=k.useState({title:"",description:"",passing_score:60,time_limit_minutes:"",max_attempts:"",show_correct_answers:!0}),[o,u]=k.useState([{tempId:`q-${Date.now()}`,question_text:"",points:1,choices:[{tempId:`c-${Date.now()}-1`,choice_text:"",is_correct:!1},{tempId:`c-${Date.now()}-2`,choice_text:"",is_correct:!1}]}]),[f,h]=k.useState({}),[m,g]=k.useState(!1),x=()=>{u([...o,{tempId:`q-${Date.now()}`,question_text:"",points:1,choices:[{tempId:`c-${Date.now()}-1`,choice_text:"",is_correct:!1},{tempId:`c-${Date.now()}-2`,choice_text:"",is_correct:!1}]}])},b=O=>{if(o.length===1){h({questions:"Un test doit avoir au moins une question"});return}if(u(o.filter(F=>F.tempId!==O)),f.questions){const F={...f};delete F.questions,h(F)}},v=(O,F,D)=>{u(o.map(L=>L.tempId===O?{...L,[F]:D}:L))},w=O=>{u(o.map(F=>F.tempId===O?{...F,choices:[...F.choices,{tempId:`c-${Date.now()}`,choice_text:"",is_correct:!1}]}:F))},N=(O,F)=>{u(o.map(D=>D.tempId===O?D.choices.length<=2?(h({...f,[`choices-${O}`]:"Une question doit avoir au moins 2 choix de rponse"}),D):{...D,choices:D.choices.filter(L=>L.tempId!==F)}:D))},E=(O,F,D,L)=>{u(o.map(B=>B.tempId===O?{...B,choices:B.choices.map(H=>H.tempId===F?{...H,[D]:L}:H)}:B))},j=()=>{const O={};return i.title.trim()||(O.title="Le titre est obligatoire"),(i.passing_score<0||i.passing_score>100)&&(O.passing_score="Le score de russite doit tre entre 0 et 100"),i.time_limit_minutes&&parseInt(i.time_limit_minutes)<1&&(O.time_limit_minutes="La limite de temps doit tre d'au moins 1 minute"),i.max_attempts&&parseInt(i.max_attempts)<1&&(O.max_attempts="Le nombre de tentatives doit tre d'au moins 1"),o.length===0&&(O.questions="Le test doit avoir au moins une question"),o.forEach((F,D)=>{F.question_text.trim()||(O[`question-${F.tempId}`]=`Question ${D+1}: Le texte est obligatoire`),F.points<0&&(O[`points-${F.tempId}`]=`Question ${D+1}: Les points doivent tre positifs`),F.choices.length<2&&(O[`choices-${F.tempId}`]=`Question ${D+1}: Au moins 2 choix requis`),F.choices.some(B=>B.is_correct)||(O[`correct-${F.tempId}`]=`Question ${D+1}: Au moins un choix doit tre marqu comme correct`),F.choices.forEach((B,H)=>{B.choice_text.trim()||(O[`choice-${B.tempId}`]=`Question ${D+1}, Choix ${H+1}: Le texte est obligatoire`)})}),h(O),Object.keys(O).length===0},T=async O=>{if(O.preventDefault(),!!j()){g(!0);try{const F=await r.mutateAsync({moduleId:e,data:{title:i.title.trim(),description:i.description.trim()||void 0,passing_score:i.passing_score,time_limit_minutes:i.time_limit_minutes?parseInt(i.time_limit_minutes):void 0,max_attempts:i.max_attempts?parseInt(i.max_attempts):void 0,show_correct_answers:i.show_correct_answers}});for(let D=0;D<o.length;D++){const L=o[D],B=await n.mutateAsync({testId:F.id,data:{question_text:L.question_text.trim(),points:L.points,order_index:D}});for(let H=0;H<L.choices.length;H++){const P=L.choices[H];await a.mutateAsync({questionId:B.id,data:{choice_text:P.choice_text.trim(),is_correct:P.is_correct,order_index:H}})}}t()}catch(F){console.error("Error creating test:",F),h({submit:"Une erreur est survenue lors de la cration du test"}),g(!1)}}};return s.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center p-4 z-50 overflow-y-auto",children:s.jsxs("div",{className:"bg-white rounded-lg shadow-xl max-w-4xl w-full my-8",children:[s.jsxs("div",{className:"flex items-center justify-between p-6 border-b sticky top-0 bg-white z-10 rounded-t-lg",children:[s.jsx("h2",{className:"text-xl font-semibold text-gray-900",children:"Crer un test"}),s.jsx("button",{onClick:t,disabled:m,className:"text-gray-400 hover:text-gray-600 transition-colors disabled:opacity-50",children:s.jsx(ma,{className:"h-5 w-5"})})]}),s.jsxs("form",{onSubmit:T,className:"p-6 space-y-8 max-h-[calc(90vh-140px)] overflow-y-auto",children:[f.submit&&s.jsxs("div",{className:"bg-red-50 border border-red-200 rounded-lg p-4 flex items-start gap-3",children:[s.jsx(Wr,{className:"h-5 w-5 text-red-600 flex-shrink-0 mt-0.5"}),s.jsx("p",{className:"text-sm text-red-800",children:f.submit})]}),s.jsxs("div",{className:"space-y-6 bg-gray-50 p-6 rounded-lg",children:[s.jsxs("h3",{className:"text-lg font-semibold text-gray-900 flex items-center gap-2",children:[s.jsx("span",{className:"bg-orange-100 text-orange-700 w-7 h-7 rounded-full flex items-center justify-center text-sm font-bold",children:"1"}),"Informations du test"]}),s.jsxs("div",{children:[s.jsxs("label",{htmlFor:"title",className:"block text-sm font-medium text-gray-700 mb-2",children:["Titre du test ",s.jsx("span",{className:"text-red-500",children:"*"})]}),s.jsx("input",{type:"text",id:"title",value:i.title,onChange:O=>l({...i,title:O.target.value}),className:`w-full px-3 py-2 border rounded-lg focus:ring-2 focus:ring-orange-500 focus:border-transparent ${f.title?"border-red-300":"border-gray-300"}`,placeholder:"Ex: Quiz sur les bases de donnes relationnelles"}),f.title&&s.jsx("p",{className:"mt-1 text-sm text-red-600",children:f.title})]}),s.jsxs("div",{children:[s.jsx("label",{htmlFor:"description",className:"block text-sm font-medium text-gray-700 mb-2",children:"Description"}),s.jsx("textarea",{id:"description",value:i.description,onChange:O=>l({...i,description:O.target.value}),rows:3,className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-orange-500 focus:border-transparent",placeholder:"Dcrivez les objectifs et le contenu de ce test..."})]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[s.jsxs("div",{children:[s.jsxs("label",{htmlFor:"passing_score",className:"block text-sm font-medium text-gray-700 mb-2",children:["Score de russite (%) ",s.jsx("span",{className:"text-red-500",children:"*"})]}),s.jsx("input",{type:"number",id:"passing_score",value:i.passing_score,onChange:O=>l({...i,passing_score:parseInt(O.target.value)||0}),min:"0",max:"100",className:`w-full px-3 py-2 border rounded-lg focus:ring-2 focus:ring-orange-500 focus:border-transparent ${f.passing_score?"border-red-300":"border-gray-300"}`}),f.passing_score&&s.jsx("p",{className:"mt-1 text-sm text-red-600",children:f.passing_score})]}),s.jsxs("div",{children:[s.jsx("label",{htmlFor:"time_limit_minutes",className:"block text-sm font-medium text-gray-700 mb-2",children:"Limite de temps (minutes)"}),s.jsx("input",{type:"number",id:"time_limit_minutes",value:i.time_limit_minutes,onChange:O=>l({...i,time_limit_minutes:O.target.value}),min:"1",className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-orange-500 focus:border-transparent",placeholder:"Optionnel"}),f.time_limit_minutes&&s.jsx("p",{className:"mt-1 text-sm text-red-600",children:f.time_limit_minutes})]}),s.jsxs("div",{children:[s.jsx("label",{htmlFor:"max_attempts",className:"block text-sm font-medium text-gray-700 mb-2",children:"Nombre de tentatives max"}),s.jsx("input",{type:"number",id:"max_attempts",value:i.max_attempts,onChange:O=>l({...i,max_attempts:O.target.value}),min:"1",className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-orange-500 focus:border-transparent",placeholder:"Illimit"}),f.max_attempts&&s.jsx("p",{className:"mt-1 text-sm text-red-600",children:f.max_attempts})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Afficher les bonnes rponses"}),s.jsx("div",{className:"flex items-center gap-4 h-[42px]",children:s.jsxs("label",{className:"flex items-center gap-2 cursor-pointer",children:[s.jsx("input",{type:"checkbox",checked:i.show_correct_answers,onChange:O=>l({...i,show_correct_answers:O.target.checked}),className:"w-4 h-4 text-orange-600 border-gray-300 rounded focus:ring-orange-500"}),s.jsx("span",{className:"text-sm text-gray-700",children:"Montrer les rponses correctes aprs la soumission"})]})})]})]})]}),s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("h3",{className:"text-lg font-semibold text-gray-900 flex items-center gap-2",children:[s.jsx("span",{className:"bg-orange-100 text-orange-700 w-7 h-7 rounded-full flex items-center justify-center text-sm font-bold",children:"2"}),"Questions (",o.length,")"]}),s.jsxs(et,{type:"button",onClick:x,variant:"outline",size:"sm",className:"flex items-center gap-2",children:[s.jsx(_i,{className:"h-4 w-4"}),"Ajouter une question"]})]}),f.questions&&s.jsx("div",{className:"bg-red-50 border border-red-200 rounded-lg p-3",children:s.jsx("p",{className:"text-sm text-red-800",children:f.questions})}),s.jsx("div",{className:"space-y-6",children:o.map((O,F)=>s.jsxs("div",{className:"border border-gray-200 rounded-lg p-6 bg-white",children:[s.jsxs("div",{className:"flex items-start justify-between mb-4",children:[s.jsxs("h4",{className:"font-semibold text-gray-900",children:["Question ",F+1]}),o.length>1&&s.jsx("button",{type:"button",onClick:()=>b(O.tempId),className:"text-red-600 hover:text-red-700 hover:bg-red-50 p-1 rounded",title:"Supprimer cette question",children:s.jsx(Bn,{className:"h-4 w-4"})})]}),s.jsxs("div",{className:"mb-4",children:[s.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:["Texte de la question ",s.jsx("span",{className:"text-red-500",children:"*"})]}),s.jsx("textarea",{value:O.question_text,onChange:D=>v(O.tempId,"question_text",D.target.value),rows:2,className:`w-full px-3 py-2 border rounded-lg focus:ring-2 focus:ring-orange-500 focus:border-transparent ${f[`question-${O.tempId}`]?"border-red-300":"border-gray-300"}`,placeholder:"Entrez la question..."}),f[`question-${O.tempId}`]&&s.jsx("p",{className:"mt-1 text-sm text-red-600",children:f[`question-${O.tempId}`]})]}),s.jsxs("div",{className:"mb-4",children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Points"}),s.jsx("input",{type:"number",value:O.points,onChange:D=>v(O.tempId,"points",parseInt(D.target.value)||1),min:"0",className:"w-32 px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-orange-500 focus:border-transparent"}),f[`points-${O.tempId}`]&&s.jsx("p",{className:"mt-1 text-sm text-red-600",children:f[`points-${O.tempId}`]})]}),s.jsxs("div",{children:[s.jsxs("div",{className:"flex items-center justify-between mb-3",children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Choix de rponse (cochez les bonnes rponses)"}),s.jsxs("button",{type:"button",onClick:()=>w(O.tempId),className:"text-sm text-orange-600 hover:text-orange-700 flex items-center gap-1",children:[s.jsx(_i,{className:"h-4 w-4"}),"Ajouter un choix"]})]}),f[`choices-${O.tempId}`]&&s.jsx("div",{className:"bg-red-50 border border-red-200 rounded p-2 mb-3",children:s.jsx("p",{className:"text-sm text-red-800",children:f[`choices-${O.tempId}`]})}),f[`correct-${O.tempId}`]&&s.jsx("div",{className:"bg-red-50 border border-red-200 rounded p-2 mb-3",children:s.jsx("p",{className:"text-sm text-red-800",children:f[`correct-${O.tempId}`]})}),s.jsx("div",{className:"space-y-2",children:O.choices.map((D,L)=>s.jsxs("div",{className:`flex items-center gap-3 p-3 rounded-lg border ${D.is_correct?"bg-green-50 border-green-200":"bg-gray-50 border-gray-200"}`,children:[s.jsxs("div",{className:"flex items-center",children:[s.jsx("input",{type:"checkbox",checked:D.is_correct,onChange:B=>E(O.tempId,D.tempId,"is_correct",B.target.checked),className:"w-4 h-4 text-green-600 border-gray-300 rounded focus:ring-green-500",title:"Marquer comme bonne rponse"}),D.is_correct&&s.jsx(YD,{className:"h-4 w-4 text-green-600 ml-1"})]}),s.jsx("input",{type:"text",value:D.choice_text,onChange:B=>E(O.tempId,D.tempId,"choice_text",B.target.value),className:`flex-1 px-3 py-2 border rounded-lg focus:ring-2 focus:ring-orange-500 focus:border-transparent ${f[`choice-${D.tempId}`]?"border-red-300":"border-gray-300"}`,placeholder:`Choix ${L+1}`}),O.choices.length>2&&s.jsx("button",{type:"button",onClick:()=>N(O.tempId,D.tempId),className:"text-red-600 hover:text-red-700 hover:bg-red-100 p-1 rounded",title:"Supprimer ce choix",children:s.jsx(Bn,{className:"h-4 w-4"})})]},D.tempId))})]})]},O.tempId))})]}),s.jsxs("div",{className:"flex justify-end gap-3 pt-4 border-t sticky bottom-0 bg-white",children:[s.jsx(et,{type:"button",variant:"outline",onClick:t,disabled:m,children:"Annuler"}),s.jsx(et,{type:"submit",disabled:m,className:"min-w-[180px] bg-orange-600 hover:bg-orange-700",children:m?s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-white"}),s.jsx("span",{children:"Cration en cours..."})]}):"Crer le test"})]})]})]})})},vse=()=>{const{id:e}=Vo(),t=Fn(),{data:r,isLoading:n,error:a}=cp(e),i=Qie(),l=ese(),o=rse(),[u,f]=k.useState(new Set),[h,m]=k.useState(!1),[g,x]=k.useState(!1),[b,v]=k.useState(!1),[w,N]=k.useState(null),[E,j]=k.useState(null),T=K=>{const ee=new Set(u);ee.has(K)?ee.delete(K):ee.add(K),f(ee)},O=async K=>{if(window.confirm(`tes-vous sr de vouloir supprimer le module "${K.title}" ? Toutes les vidos et tests associs seront galement supprims.`))try{await i.mutateAsync(K.id)}catch(ee){console.error("Error deleting module:",ee),alert("Erreur lors de la suppression du module")}},F=async K=>{if(window.confirm(`tes-vous sr de vouloir supprimer la vido "${K.title}" ?`))try{await l.mutateAsync(K.id)}catch(ee){console.error("Error deleting video:",ee),alert("Erreur lors de la suppression de la vido")}},D=async K=>{if(window.confirm(`tes-vous sr de vouloir supprimer le test "${K.title}" ? Toutes les questions et rponses associes seront galement supprimes.`))try{await o.mutateAsync(K.id)}catch(ee){console.error("Error deleting test:",ee),alert("Erreur lors de la suppression du test")}},L=K=>K==="published"?"bg-green-100 text-green-700":"bg-gray-100 text-gray-700",B=K=>K==="published"?"Publie":"Brouillon",H=K=>({video:"bg-purple-50 text-purple-700",test:"bg-orange-50 text-orange-700",document:"bg-blue-50 text-blue-700"})[K]||"bg-gray-50 text-gray-700",P=K=>({video:"Vido",test:"Test",document:"Document"})[K]||K;if(n)return s.jsx(da,{title:"Chargement...",subtitle:"Chargement de la formation",children:s.jsx("div",{className:"flex justify-center items-center py-12",children:s.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-blue-600"})})});if(a||!r)return s.jsxs(da,{title:"Erreur",subtitle:"Formation introuvable",children:[s.jsxs("div",{className:"bg-red-50 border border-red-200 rounded-lg p-4 flex items-start gap-3",children:[s.jsx(Wr,{className:"h-5 w-5 text-red-600 flex-shrink-0 mt-0.5"}),s.jsxs("div",{children:[s.jsx("p",{className:"text-sm font-medium text-red-800",children:"Formation introuvable"}),s.jsx("p",{className:"text-sm text-red-700 mt-1",children:a?.message||"Cette formation n'existe pas ou a t supprime."})]})]}),s.jsx("div",{className:"mt-6",children:s.jsxs(et,{onClick:()=>t("/admin/formations/cours"),variant:"outline",children:[s.jsx(ta,{className:"h-4 w-4 mr-2"}),"Retour aux formations"]})})]});const U=r.modules||[];return s.jsxs(da,{title:r.title,subtitle:"Configuration de la formation",children:[s.jsxs("div",{className:"space-y-6",children:[s.jsx("div",{className:"bg-white rounded-lg shadow-sm border p-6",children:s.jsx("div",{className:"flex flex-col sm:flex-row justify-between items-start sm:items-center gap-4",children:s.jsxs("div",{className:"flex-1",children:[s.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[s.jsxs(et,{variant:"ghost",size:"sm",onClick:()=>t("/admin/formations/cours"),className:"text-gray-600 hover:text-gray-900",children:[s.jsx(ta,{className:"h-4 w-4 mr-1"}),"Retour"]}),s.jsx("span",{className:`px-2 py-1 inline-flex text-xs leading-5 font-semibold rounded-full ${L(r.status)}`,children:B(r.status)})]}),s.jsx("h2",{className:"text-2xl font-bold text-gray-900",children:r.title}),r.description&&s.jsx("p",{className:"text-sm text-gray-600 mt-2",children:r.description}),s.jsxs("div",{className:"flex items-center gap-4 mt-3 text-sm text-gray-500",children:[r.duration_hours&&s.jsxs("span",{children:[r.duration_hours,"h de contenu"]}),r.price&&Number(r.price)>0&&s.jsx("span",{children:T3(r.price)}),s.jsxs("span",{children:[U.length," module(s)"]})]})]})})}),s.jsx("div",{className:"bg-white rounded-lg shadow-sm border p-4",children:s.jsx("div",{className:"flex flex-wrap gap-3",children:s.jsxs(et,{onClick:()=>{N(null),m(!0)},className:"flex items-center gap-2",children:[s.jsx(_i,{className:"h-4 w-4"}),"Ajouter un module"]})})}),U.length===0?s.jsxs("div",{className:"bg-white rounded-lg shadow-sm border p-12 text-center",children:[s.jsx($n,{className:"h-12 w-12 text-gray-400 mx-auto mb-4"}),s.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"Aucun module"}),s.jsx("p",{className:"text-sm text-gray-500 mb-6",children:"Commencez par crer le premier module de votre formation"}),s.jsxs(et,{onClick:()=>{N(null),m(!0)},className:"flex items-center gap-2",children:[s.jsx(_i,{className:"h-4 w-4"}),"Crer un module"]})]}):s.jsx("div",{className:"space-y-3",children:U.map(K=>{const ee=u.has(K.id),me=K.videos||[],ne=K.tests||[],se=me.length>0||ne.length>0;return s.jsxs("div",{className:"bg-white rounded-lg shadow-sm border",children:[s.jsxs("div",{className:"p-4 flex items-center gap-3",children:[s.jsx("button",{onClick:()=>T(K.id),className:"text-gray-400 hover:text-gray-600",disabled:!se,children:se?ee?s.jsx(Um,{className:"h-5 w-5"}):s.jsx(yc,{className:"h-5 w-5"}):s.jsx("div",{className:"w-5 h-5"})}),s.jsxs("div",{className:"flex-1 min-w-0",children:[s.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[s.jsxs("span",{className:"text-sm font-medium text-gray-500",children:["#",K.order_index+1]}),s.jsx("h3",{className:"text-base font-semibold text-gray-900 truncate",children:K.title}),s.jsx("span",{className:`px-2 py-0.5 text-xs font-medium rounded-full ${H(K.module_type)}`,children:P(K.module_type)})]}),K.description&&s.jsx("p",{className:"text-sm text-gray-600 line-clamp-2",children:K.description}),s.jsxs("div",{className:"flex items-center gap-3 mt-2 text-xs text-gray-500",children:[s.jsxs("span",{children:[me.length," vido(s)"]}),s.jsxs("span",{children:[ne.length," test(s)"]})]})]}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(et,{variant:"ghost",size:"sm",onClick:()=>{j(K.id),x(!0)},className:"text-purple-600 hover:text-purple-700 hover:bg-purple-50",title:"Ajouter une vido",children:s.jsx(Hx,{className:"h-4 w-4"})}),s.jsx(et,{variant:"ghost",size:"sm",onClick:()=>{j(K.id),v(!0)},className:"text-orange-600 hover:text-orange-700 hover:bg-orange-50",title:"Ajouter un test",children:s.jsx(af,{className:"h-4 w-4"})}),s.jsx(et,{variant:"ghost",size:"sm",onClick:()=>{N(K),m(!0)},className:"text-blue-600 hover:text-blue-700 hover:bg-blue-50",title:"diter le module",children:s.jsx(zm,{className:"h-4 w-4"})}),s.jsx(et,{variant:"ghost",size:"sm",onClick:()=>O(K),className:"text-red-600 hover:text-red-700 hover:bg-red-50",title:"Supprimer le module",children:s.jsx(Bn,{className:"h-4 w-4"})})]})]}),ee&&se&&s.jsxs("div",{className:"border-t bg-gray-50 px-4 py-3 space-y-2",children:[me.map(ye=>s.jsxs("div",{className:"bg-white rounded border border-purple-100 p-3 flex items-center gap-3",children:[s.jsx(Hx,{className:"h-4 w-4 text-purple-600 flex-shrink-0"}),s.jsxs("div",{className:"flex-1 min-w-0",children:[s.jsx("p",{className:"text-sm font-medium text-gray-900 truncate",children:ye.title}),ye.duration_seconds&&s.jsxs("p",{className:"text-xs text-gray-500",children:[Math.floor(ye.duration_seconds/60),"min"," ",ye.duration_seconds%60,"s"]})]}),s.jsx("div",{className:"flex items-center gap-2",children:s.jsx(et,{variant:"ghost",size:"sm",onClick:()=>F(ye),className:"text-red-600 hover:text-red-700 hover:bg-red-50",children:s.jsx(Bn,{className:"h-3 w-3"})})})]},ye.id)),ne.map(ye=>s.jsxs("div",{className:"bg-white rounded border border-orange-100 p-3 flex items-center gap-3",children:[s.jsx(af,{className:"h-4 w-4 text-orange-600 flex-shrink-0"}),s.jsxs("div",{className:"flex-1 min-w-0",children:[s.jsx("p",{className:"text-sm font-medium text-gray-900 truncate",children:ye.title}),s.jsxs("div",{className:"flex items-center gap-3 text-xs text-gray-500",children:[s.jsxs("span",{children:[ye.questions?.length||0," question(s)"]}),ye.time_limit_minutes&&s.jsxs("span",{children:[ye.time_limit_minutes," min"]}),s.jsxs("span",{children:["Score min: ",ye.passing_score,"%"]})]})]}),s.jsx("div",{className:"flex items-center gap-2",children:s.jsx(et,{variant:"ghost",size:"sm",onClick:()=>D(ye),className:"text-red-600 hover:text-red-700 hover:bg-red-50",children:s.jsx(Bn,{className:"h-3 w-3"})})})]},ye.id))]})]},K.id)})})]}),h&&e&&s.jsx(pse,{formationId:e,module:w||void 0,modules:U,onClose:()=>{m(!1),N(null)}}),g&&E&&s.jsx(xse,{moduleId:E,onClose:()=>{x(!1),j(null)}}),b&&E&&s.jsx(gse,{moduleId:E,onClose:()=>{v(!1),j(null)}})]})};function jL(e){var t,r,n="";if(typeof e=="string"||typeof e=="number")n+=e;else if(typeof e=="object")if(Array.isArray(e)){var a=e.length;for(t=0;t<a;t++)e[t]&&(r=jL(e[t]))&&(n&&(n+=" "),n+=r)}else for(r in e)e[r]&&(n&&(n+=" "),n+=r);return n}function an(){for(var e,t,r=0,n="",a=arguments.length;r<a;r++)(e=arguments[r])&&(t=jL(e))&&(n&&(n+=" "),n+=t);return n}var yse=["dangerouslySetInnerHTML","onCopy","onCopyCapture","onCut","onCutCapture","onPaste","onPasteCapture","onCompositionEnd","onCompositionEndCapture","onCompositionStart","onCompositionStartCapture","onCompositionUpdate","onCompositionUpdateCapture","onFocus","onFocusCapture","onBlur","onBlurCapture","onChange","onChangeCapture","onBeforeInput","onBeforeInputCapture","onInput","onInputCapture","onReset","onResetCapture","onSubmit","onSubmitCapture","onInvalid","onInvalidCapture","onLoad","onLoadCapture","onError","onErrorCapture","onKeyDown","onKeyDownCapture","onKeyPress","onKeyPressCapture","onKeyUp","onKeyUpCapture","onAbort","onAbortCapture","onCanPlay","onCanPlayCapture","onCanPlayThrough","onCanPlayThroughCapture","onDurationChange","onDurationChangeCapture","onEmptied","onEmptiedCapture","onEncrypted","onEncryptedCapture","onEnded","onEndedCapture","onLoadedData","onLoadedDataCapture","onLoadedMetadata","onLoadedMetadataCapture","onLoadStart","onLoadStartCapture","onPause","onPauseCapture","onPlay","onPlayCapture","onPlaying","onPlayingCapture","onProgress","onProgressCapture","onRateChange","onRateChangeCapture","onSeeked","onSeekedCapture","onSeeking","onSeekingCapture","onStalled","onStalledCapture","onSuspend","onSuspendCapture","onTimeUpdate","onTimeUpdateCapture","onVolumeChange","onVolumeChangeCapture","onWaiting","onWaitingCapture","onAuxClick","onAuxClickCapture","onClick","onClickCapture","onContextMenu","onContextMenuCapture","onDoubleClick","onDoubleClickCapture","onDrag","onDragCapture","onDragEnd","onDragEndCapture","onDragEnter","onDragEnterCapture","onDragExit","onDragExitCapture","onDragLeave","onDragLeaveCapture","onDragOver","onDragOverCapture","onDragStart","onDragStartCapture","onDrop","onDropCapture","onMouseDown","onMouseDownCapture","onMouseEnter","onMouseLeave","onMouseMove","onMouseMoveCapture","onMouseOut","onMouseOutCapture","onMouseOver","onMouseOverCapture","onMouseUp","onMouseUpCapture","onSelect","onSelectCapture","onTouchCancel","onTouchCancelCapture","onTouchEnd","onTouchEndCapture","onTouchMove","onTouchMoveCapture","onTouchStart","onTouchStartCapture","onPointerDown","onPointerDownCapture","onPointerMove","onPointerMoveCapture","onPointerUp","onPointerUpCapture","onPointerCancel","onPointerCancelCapture","onPointerEnter","onPointerEnterCapture","onPointerLeave","onPointerLeaveCapture","onPointerOver","onPointerOverCapture","onPointerOut","onPointerOutCapture","onGotPointerCapture","onGotPointerCaptureCapture","onLostPointerCapture","onLostPointerCaptureCapture","onScroll","onScrollCapture","onWheel","onWheelCapture","onAnimationStart","onAnimationStartCapture","onAnimationEnd","onAnimationEndCapture","onAnimationIteration","onAnimationIterationCapture","onTransitionEnd","onTransitionEndCapture"];function O3(e){if(typeof e!="string")return!1;var t=yse;return t.includes(e)}var bse=["aria-activedescendant","aria-atomic","aria-autocomplete","aria-busy","aria-checked","aria-colcount","aria-colindex","aria-colspan","aria-controls","aria-current","aria-describedby","aria-details","aria-disabled","aria-errormessage","aria-expanded","aria-flowto","aria-haspopup","aria-hidden","aria-invalid","aria-keyshortcuts","aria-label","aria-labelledby","aria-level","aria-live","aria-modal","aria-multiline","aria-multiselectable","aria-orientation","aria-owns","aria-placeholder","aria-posinset","aria-pressed","aria-readonly","aria-relevant","aria-required","aria-roledescription","aria-rowcount","aria-rowindex","aria-rowspan","aria-selected","aria-setsize","aria-sort","aria-valuemax","aria-valuemin","aria-valuenow","aria-valuetext","className","color","height","id","lang","max","media","method","min","name","style","target","width","role","tabIndex","accentHeight","accumulate","additive","alignmentBaseline","allowReorder","alphabetic","amplitude","arabicForm","ascent","attributeName","attributeType","autoReverse","azimuth","baseFrequency","baselineShift","baseProfile","bbox","begin","bias","by","calcMode","capHeight","clip","clipPath","clipPathUnits","clipRule","colorInterpolation","colorInterpolationFilters","colorProfile","colorRendering","contentScriptType","contentStyleType","cursor","cx","cy","d","decelerate","descent","diffuseConstant","direction","display","divisor","dominantBaseline","dur","dx","dy","edgeMode","elevation","enableBackground","end","exponent","externalResourcesRequired","fill","fillOpacity","fillRule","filter","filterRes","filterUnits","floodColor","floodOpacity","focusable","fontFamily","fontSize","fontSizeAdjust","fontStretch","fontStyle","fontVariant","fontWeight","format","from","fx","fy","g1","g2","glyphName","glyphOrientationHorizontal","glyphOrientationVertical","glyphRef","gradientTransform","gradientUnits","hanging","horizAdvX","horizOriginX","href","ideographic","imageRendering","in2","in","intercept","k1","k2","k3","k4","k","kernelMatrix","kernelUnitLength","kerning","keyPoints","keySplines","keyTimes","lengthAdjust","letterSpacing","lightingColor","limitingConeAngle","local","markerEnd","markerHeight","markerMid","markerStart","markerUnits","markerWidth","mask","maskContentUnits","maskUnits","mathematical","mode","numOctaves","offset","opacity","operator","order","orient","orientation","origin","overflow","overlinePosition","overlineThickness","paintOrder","panose1","pathLength","patternContentUnits","patternTransform","patternUnits","pointerEvents","pointsAtX","pointsAtY","pointsAtZ","preserveAlpha","preserveAspectRatio","primitiveUnits","r","radius","refX","refY","renderingIntent","repeatCount","repeatDur","requiredExtensions","requiredFeatures","restart","result","rotate","rx","ry","seed","shapeRendering","slope","spacing","specularConstant","specularExponent","speed","spreadMethod","startOffset","stdDeviation","stemh","stemv","stitchTiles","stopColor","stopOpacity","strikethroughPosition","strikethroughThickness","string","stroke","strokeDasharray","strokeDashoffset","strokeLinecap","strokeLinejoin","strokeMiterlimit","strokeOpacity","strokeWidth","surfaceScale","systemLanguage","tableValues","targetX","targetY","textAnchor","textDecoration","textLength","textRendering","to","transform","u1","u2","underlinePosition","underlineThickness","unicode","unicodeBidi","unicodeRange","unitsPerEm","vAlphabetic","values","vectorEffect","version","vertAdvY","vertOriginX","vertOriginY","vHanging","vIdeographic","viewTarget","visibility","vMathematical","widths","wordSpacing","writingMode","x1","x2","x","xChannelSelector","xHeight","xlinkActuate","xlinkArcrole","xlinkHref","xlinkRole","xlinkShow","xlinkTitle","xlinkType","xmlBase","xmlLang","xmlns","xmlnsXlink","xmlSpace","y1","y2","y","yChannelSelector","z","zoomAndPan","ref","key","angle"];function SL(e){if(typeof e!="string")return!1;var t=bse;return t.includes(e)}function AL(e){return typeof e=="string"&&e.startsWith("data-")}function no(e){var t=Object.entries(e).filter(r=>{var[n]=r;return SL(n)||AL(n)});return Object.fromEntries(t)}function Q0(e){if(e==null)return null;if(k.isValidElement(e)&&typeof e.props=="object"&&e.props!==null){var t=e.props;return no(t)}return typeof e=="object"&&!Array.isArray(e)?no(e):null}function rl(e){var t=Object.entries(e).filter(r=>{var[n]=r;return SL(n)||AL(n)||O3(n)});return Object.fromEntries(t)}function wse(e){return e==null?null:k.isValidElement(e)?rl(e.props):typeof e=="object"&&!Array.isArray(e)?rl(e):null}var Nse=["children","width","height","viewBox","className","style","title","desc"];function uN(){return uN=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},uN.apply(null,arguments)}function _se(e,t){if(e==null)return{};var r,n,a=jse(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}function jse(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}var D3=k.forwardRef((e,t)=>{var{children:r,width:n,height:a,viewBox:i,className:l,style:o,title:u,desc:f}=e,h=_se(e,Nse),m=i||{width:n,height:a,x:0,y:0},g=an("recharts-surface",l);return k.createElement("svg",uN({},rl(h),{className:g,width:n,height:a,style:o,viewBox:"".concat(m.x," ").concat(m.y," ").concat(m.width," ").concat(m.height),ref:t}),k.createElement("title",null,u),k.createElement("desc",null,f),r)}),Sse=["children","className"];function fN(){return fN=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},fN.apply(null,arguments)}function Ase(e,t){if(e==null)return{};var r,n,a=Ese(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}function Ese(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}var os=k.forwardRef((e,t)=>{var{children:r,className:n}=e,a=Ase(e,Sse),i=an("recharts-layer",n);return k.createElement("g",fN({className:i},rl(a),{ref:t}),r)}),EL=k.createContext(null),kse=()=>k.useContext(EL);function zn(e){return function(){return e}}const kL=Math.cos,oy=Math.sin,Pc=Math.sqrt,cy=Math.PI,m2=2*cy,dN=Math.PI,hN=2*dN,y0=1e-6,Cse=hN-y0;function CL(e){this._+=e[0];for(let t=1,r=e.length;t<r;++t)this._+=arguments[t]+e[t]}function Tse(e){let t=Math.floor(e);if(!(t>=0))throw new Error(`invalid digits: ${e}`);if(t>15)return CL;const r=10**t;return function(n){this._+=n[0];for(let a=1,i=n.length;a<i;++a)this._+=Math.round(arguments[a]*r)/r+n[a]}}class Ose{constructor(t){this._x0=this._y0=this._x1=this._y1=null,this._="",this._append=t==null?CL:Tse(t)}moveTo(t,r){this._append`M${this._x0=this._x1=+t},${this._y0=this._y1=+r}`}closePath(){this._x1!==null&&(this._x1=this._x0,this._y1=this._y0,this._append`Z`)}lineTo(t,r){this._append`L${this._x1=+t},${this._y1=+r}`}quadraticCurveTo(t,r,n,a){this._append`Q${+t},${+r},${this._x1=+n},${this._y1=+a}`}bezierCurveTo(t,r,n,a,i,l){this._append`C${+t},${+r},${+n},${+a},${this._x1=+i},${this._y1=+l}`}arcTo(t,r,n,a,i){if(t=+t,r=+r,n=+n,a=+a,i=+i,i<0)throw new Error(`negative radius: ${i}`);let l=this._x1,o=this._y1,u=n-t,f=a-r,h=l-t,m=o-r,g=h*h+m*m;if(this._x1===null)this._append`M${this._x1=t},${this._y1=r}`;else if(g>y0)if(!(Math.abs(m*u-f*h)>y0)||!i)this._append`L${this._x1=t},${this._y1=r}`;else{let x=n-l,b=a-o,v=u*u+f*f,w=x*x+b*b,N=Math.sqrt(v),E=Math.sqrt(g),j=i*Math.tan((dN-Math.acos((v+g-w)/(2*N*E)))/2),T=j/E,O=j/N;Math.abs(T-1)>y0&&this._append`L${t+T*h},${r+T*m}`,this._append`A${i},${i},0,0,${+(m*x>h*b)},${this._x1=t+O*u},${this._y1=r+O*f}`}}arc(t,r,n,a,i,l){if(t=+t,r=+r,n=+n,l=!!l,n<0)throw new Error(`negative radius: ${n}`);let o=n*Math.cos(a),u=n*Math.sin(a),f=t+o,h=r+u,m=1^l,g=l?a-i:i-a;this._x1===null?this._append`M${f},${h}`:(Math.abs(this._x1-f)>y0||Math.abs(this._y1-h)>y0)&&this._append`L${f},${h}`,n&&(g<0&&(g=g%hN+hN),g>Cse?this._append`A${n},${n},0,1,${m},${t-o},${r-u}A${n},${n},0,1,${m},${this._x1=f},${this._y1=h}`:g>y0&&this._append`A${n},${n},0,${+(g>=dN)},${m},${this._x1=t+n*Math.cos(i)},${this._y1=r+n*Math.sin(i)}`)}rect(t,r,n,a){this._append`M${this._x0=this._x1=+t},${this._y0=this._y1=+r}h${n=+n}v${+a}h${-n}Z`}toString(){return this._}}function F3(e){let t=3;return e.digits=function(r){if(!arguments.length)return t;if(r==null)t=null;else{const n=Math.floor(r);if(!(n>=0))throw new RangeError(`invalid digits: ${r}`);t=n}return e},()=>new Ose(t)}function P3(e){return typeof e=="object"&&"length"in e?e:Array.from(e)}function TL(e){this._context=e}TL.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;default:this._context.lineTo(e,t);break}}};function p2(e){return new TL(e)}function OL(e){return e[0]}function DL(e){return e[1]}function FL(e,t){var r=zn(!0),n=null,a=p2,i=null,l=F3(o);e=typeof e=="function"?e:e===void 0?OL:zn(e),t=typeof t=="function"?t:t===void 0?DL:zn(t);function o(u){var f,h=(u=P3(u)).length,m,g=!1,x;for(n==null&&(i=a(x=l())),f=0;f<=h;++f)!(f<h&&r(m=u[f],f,u))===g&&((g=!g)?i.lineStart():i.lineEnd()),g&&i.point(+e(m,f,u),+t(m,f,u));if(x)return i=null,x+""||null}return o.x=function(u){return arguments.length?(e=typeof u=="function"?u:zn(+u),o):e},o.y=function(u){return arguments.length?(t=typeof u=="function"?u:zn(+u),o):t},o.defined=function(u){return arguments.length?(r=typeof u=="function"?u:zn(!!u),o):r},o.curve=function(u){return arguments.length?(a=u,n!=null&&(i=a(n)),o):a},o.context=function(u){return arguments.length?(u==null?n=i=null:i=a(n=u),o):n},o}function sv(e,t,r){var n=null,a=zn(!0),i=null,l=p2,o=null,u=F3(f);e=typeof e=="function"?e:e===void 0?OL:zn(+e),t=typeof t=="function"?t:zn(t===void 0?0:+t),r=typeof r=="function"?r:r===void 0?DL:zn(+r);function f(m){var g,x,b,v=(m=P3(m)).length,w,N=!1,E,j=new Array(v),T=new Array(v);for(i==null&&(o=l(E=u())),g=0;g<=v;++g){if(!(g<v&&a(w=m[g],g,m))===N)if(N=!N)x=g,o.areaStart(),o.lineStart();else{for(o.lineEnd(),o.lineStart(),b=g-1;b>=x;--b)o.point(j[b],T[b]);o.lineEnd(),o.areaEnd()}N&&(j[g]=+e(w,g,m),T[g]=+t(w,g,m),o.point(n?+n(w,g,m):j[g],r?+r(w,g,m):T[g]))}if(E)return o=null,E+""||null}function h(){return FL().defined(a).curve(l).context(i)}return f.x=function(m){return arguments.length?(e=typeof m=="function"?m:zn(+m),n=null,f):e},f.x0=function(m){return arguments.length?(e=typeof m=="function"?m:zn(+m),f):e},f.x1=function(m){return arguments.length?(n=m==null?null:typeof m=="function"?m:zn(+m),f):n},f.y=function(m){return arguments.length?(t=typeof m=="function"?m:zn(+m),r=null,f):t},f.y0=function(m){return arguments.length?(t=typeof m=="function"?m:zn(+m),f):t},f.y1=function(m){return arguments.length?(r=m==null?null:typeof m=="function"?m:zn(+m),f):r},f.lineX0=f.lineY0=function(){return h().x(e).y(t)},f.lineY1=function(){return h().x(e).y(r)},f.lineX1=function(){return h().x(n).y(t)},f.defined=function(m){return arguments.length?(a=typeof m=="function"?m:zn(!!m),f):a},f.curve=function(m){return arguments.length?(l=m,i!=null&&(o=l(i)),f):l},f.context=function(m){return arguments.length?(m==null?i=o=null:o=l(i=m),f):i},f}class PL{constructor(t,r){this._context=t,this._x=r}areaStart(){this._line=0}areaEnd(){this._line=NaN}lineStart(){this._point=0}lineEnd(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line}point(t,r){switch(t=+t,r=+r,this._point){case 0:{this._point=1,this._line?this._context.lineTo(t,r):this._context.moveTo(t,r);break}case 1:this._point=2;default:{this._x?this._context.bezierCurveTo(this._x0=(this._x0+t)/2,this._y0,this._x0,r,t,r):this._context.bezierCurveTo(this._x0,this._y0=(this._y0+r)/2,t,this._y0,t,r);break}}this._x0=t,this._y0=r}}function Dse(e){return new PL(e,!0)}function Fse(e){return new PL(e,!1)}const L3={draw(e,t){const r=Pc(t/cy);e.moveTo(r,0),e.arc(0,0,r,0,m2)}},Pse={draw(e,t){const r=Pc(t/5)/2;e.moveTo(-3*r,-r),e.lineTo(-r,-r),e.lineTo(-r,-3*r),e.lineTo(r,-3*r),e.lineTo(r,-r),e.lineTo(3*r,-r),e.lineTo(3*r,r),e.lineTo(r,r),e.lineTo(r,3*r),e.lineTo(-r,3*r),e.lineTo(-r,r),e.lineTo(-3*r,r),e.closePath()}},LL=Pc(1/3),Lse=LL*2,Mse={draw(e,t){const r=Pc(t/Lse),n=r*LL;e.moveTo(0,-r),e.lineTo(n,0),e.lineTo(0,r),e.lineTo(-n,0),e.closePath()}},Rse={draw(e,t){const r=Pc(t),n=-r/2;e.rect(n,n,r,r)}},Ise=.8908130915292852,ML=oy(cy/10)/oy(7*cy/10),Bse=oy(m2/10)*ML,Use=-kL(m2/10)*ML,zse={draw(e,t){const r=Pc(t*Ise),n=Bse*r,a=Use*r;e.moveTo(0,-r),e.lineTo(n,a);for(let i=1;i<5;++i){const l=m2*i/5,o=kL(l),u=oy(l);e.lineTo(u*r,-o*r),e.lineTo(o*n-u*a,u*n+o*a)}e.closePath()}},Iw=Pc(3),qse={draw(e,t){const r=-Pc(t/(Iw*3));e.moveTo(0,r*2),e.lineTo(-Iw*r,-r),e.lineTo(Iw*r,-r),e.closePath()}},Ao=-.5,Eo=Pc(3)/2,mN=1/Pc(12),$se=(mN/2+1)*3,Hse={draw(e,t){const r=Pc(t/$se),n=r/2,a=r*mN,i=n,l=r*mN+r,o=-i,u=l;e.moveTo(n,a),e.lineTo(i,l),e.lineTo(o,u),e.lineTo(Ao*n-Eo*a,Eo*n+Ao*a),e.lineTo(Ao*i-Eo*l,Eo*i+Ao*l),e.lineTo(Ao*o-Eo*u,Eo*o+Ao*u),e.lineTo(Ao*n+Eo*a,Ao*a-Eo*n),e.lineTo(Ao*i+Eo*l,Ao*l-Eo*i),e.lineTo(Ao*o+Eo*u,Ao*u-Eo*o),e.closePath()}};function Vse(e,t){let r=null,n=F3(a);e=typeof e=="function"?e:zn(e||L3),t=typeof t=="function"?t:zn(t===void 0?64:+t);function a(){let i;if(r||(r=i=n()),e.apply(this,arguments).draw(r,+t.apply(this,arguments)),i)return r=null,i+""||null}return a.type=function(i){return arguments.length?(e=typeof i=="function"?i:zn(i),a):e},a.size=function(i){return arguments.length?(t=typeof i=="function"?i:zn(+i),a):t},a.context=function(i){return arguments.length?(r=i??null,a):r},a}function uy(){}function fy(e,t,r){e._context.bezierCurveTo((2*e._x0+e._x1)/3,(2*e._y0+e._y1)/3,(e._x0+2*e._x1)/3,(e._y0+2*e._y1)/3,(e._x0+4*e._x1+t)/6,(e._y0+4*e._y1+r)/6)}function RL(e){this._context=e}RL.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){switch(this._point){case 3:fy(this,this._x1,this._y1);case 2:this._context.lineTo(this._x1,this._y1);break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;break;case 2:this._point=3,this._context.lineTo((5*this._x0+this._x1)/6,(5*this._y0+this._y1)/6);default:fy(this,e,t);break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}};function Wse(e){return new RL(e)}function IL(e){this._context=e}IL.prototype={areaStart:uy,areaEnd:uy,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._y0=this._y1=this._y2=this._y3=this._y4=NaN,this._point=0},lineEnd:function(){switch(this._point){case 1:{this._context.moveTo(this._x2,this._y2),this._context.closePath();break}case 2:{this._context.moveTo((this._x2+2*this._x3)/3,(this._y2+2*this._y3)/3),this._context.lineTo((this._x3+2*this._x2)/3,(this._y3+2*this._y2)/3),this._context.closePath();break}case 3:{this.point(this._x2,this._y2),this.point(this._x3,this._y3),this.point(this._x4,this._y4);break}}},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._x2=e,this._y2=t;break;case 1:this._point=2,this._x3=e,this._y3=t;break;case 2:this._point=3,this._x4=e,this._y4=t,this._context.moveTo((this._x0+4*this._x1+e)/6,(this._y0+4*this._y1+t)/6);break;default:fy(this,e,t);break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}};function Gse(e){return new IL(e)}function BL(e){this._context=e}BL.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===3)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3;var r=(this._x0+4*this._x1+e)/6,n=(this._y0+4*this._y1+t)/6;this._line?this._context.lineTo(r,n):this._context.moveTo(r,n);break;case 3:this._point=4;default:fy(this,e,t);break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}};function Kse(e){return new BL(e)}function UL(e){this._context=e}UL.prototype={areaStart:uy,areaEnd:uy,lineStart:function(){this._point=0},lineEnd:function(){this._point&&this._context.closePath()},point:function(e,t){e=+e,t=+t,this._point?this._context.lineTo(e,t):(this._point=1,this._context.moveTo(e,t))}};function Yse(e){return new UL(e)}function $k(e){return e<0?-1:1}function Hk(e,t,r){var n=e._x1-e._x0,a=t-e._x1,i=(e._y1-e._y0)/(n||a<0&&-0),l=(r-e._y1)/(a||n<0&&-0),o=(i*a+l*n)/(n+a);return($k(i)+$k(l))*Math.min(Math.abs(i),Math.abs(l),.5*Math.abs(o))||0}function Vk(e,t){var r=e._x1-e._x0;return r?(3*(e._y1-e._y0)/r-t)/2:t}function Bw(e,t,r){var n=e._x0,a=e._y0,i=e._x1,l=e._y1,o=(i-n)/3;e._context.bezierCurveTo(n+o,a+o*t,i-o,l-o*r,i,l)}function dy(e){this._context=e}dy.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=this._t0=NaN,this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x1,this._y1);break;case 3:Bw(this,this._t0,Vk(this,this._t0));break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){var r=NaN;if(e=+e,t=+t,!(e===this._x1&&t===this._y1)){switch(this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;break;case 2:this._point=3,Bw(this,Vk(this,r=Hk(this,e,t)),r);break;default:Bw(this,this._t0,r=Hk(this,e,t));break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t,this._t0=r}}};function zL(e){this._context=new qL(e)}(zL.prototype=Object.create(dy.prototype)).point=function(e,t){dy.prototype.point.call(this,t,e)};function qL(e){this._context=e}qL.prototype={moveTo:function(e,t){this._context.moveTo(t,e)},closePath:function(){this._context.closePath()},lineTo:function(e,t){this._context.lineTo(t,e)},bezierCurveTo:function(e,t,r,n,a,i){this._context.bezierCurveTo(t,e,n,r,i,a)}};function Xse(e){return new dy(e)}function Qse(e){return new zL(e)}function $L(e){this._context=e}$L.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=[],this._y=[]},lineEnd:function(){var e=this._x,t=this._y,r=e.length;if(r)if(this._line?this._context.lineTo(e[0],t[0]):this._context.moveTo(e[0],t[0]),r===2)this._context.lineTo(e[1],t[1]);else for(var n=Wk(e),a=Wk(t),i=0,l=1;l<r;++i,++l)this._context.bezierCurveTo(n[0][i],a[0][i],n[1][i],a[1][i],e[l],t[l]);(this._line||this._line!==0&&r===1)&&this._context.closePath(),this._line=1-this._line,this._x=this._y=null},point:function(e,t){this._x.push(+e),this._y.push(+t)}};function Wk(e){var t,r=e.length-1,n,a=new Array(r),i=new Array(r),l=new Array(r);for(a[0]=0,i[0]=2,l[0]=e[0]+2*e[1],t=1;t<r-1;++t)a[t]=1,i[t]=4,l[t]=4*e[t]+2*e[t+1];for(a[r-1]=2,i[r-1]=7,l[r-1]=8*e[r-1]+e[r],t=1;t<r;++t)n=a[t]/i[t-1],i[t]-=n,l[t]-=n*l[t-1];for(a[r-1]=l[r-1]/i[r-1],t=r-2;t>=0;--t)a[t]=(l[t]-a[t+1])/i[t];for(i[r-1]=(e[r]+a[r-1])/2,t=0;t<r-1;++t)i[t]=2*e[t+1]-a[t+1];return[a,i]}function Zse(e){return new $L(e)}function x2(e,t){this._context=e,this._t=t}x2.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=this._y=NaN,this._point=0},lineEnd:function(){0<this._t&&this._t<1&&this._point===2&&this._context.lineTo(this._x,this._y),(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line>=0&&(this._t=1-this._t,this._line=1-this._line)},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;default:{if(this._t<=0)this._context.lineTo(this._x,t),this._context.lineTo(e,t);else{var r=this._x*(1-this._t)+e*this._t;this._context.lineTo(r,this._y),this._context.lineTo(r,t)}break}}this._x=e,this._y=t}};function Jse(e){return new x2(e,.5)}function ele(e){return new x2(e,0)}function tle(e){return new x2(e,1)}function Vm(e,t){if((l=e.length)>1)for(var r=1,n,a,i=e[t[0]],l,o=i.length;r<l;++r)for(a=i,i=e[t[r]],n=0;n<o;++n)i[n][1]+=i[n][0]=isNaN(a[n][1])?a[n][0]:a[n][1]}function pN(e){for(var t=e.length,r=new Array(t);--t>=0;)r[t]=t;return r}function rle(e,t){return e[t]}function nle(e){const t=[];return t.key=e,t}function ale(){var e=zn([]),t=pN,r=Vm,n=rle;function a(i){var l=Array.from(e.apply(this,arguments),nle),o,u=l.length,f=-1,h;for(const m of i)for(o=0,++f;o<u;++o)(l[o][f]=[0,+n(m,l[o].key,f,i)]).data=m;for(o=0,h=P3(t(l));o<u;++o)l[h[o]].index=o;return r(l,h),l}return a.keys=function(i){return arguments.length?(e=typeof i=="function"?i:zn(Array.from(i)),a):e},a.value=function(i){return arguments.length?(n=typeof i=="function"?i:zn(+i),a):n},a.order=function(i){return arguments.length?(t=i==null?pN:typeof i=="function"?i:zn(Array.from(i)),a):t},a.offset=function(i){return arguments.length?(r=i??Vm,a):r},a}function ile(e,t){if((n=e.length)>0){for(var r,n,a=0,i=e[0].length,l;a<i;++a){for(l=r=0;r<n;++r)l+=e[r][a][1]||0;if(l)for(r=0;r<n;++r)e[r][a][1]/=l}Vm(e,t)}}function sle(e,t){if((a=e.length)>0){for(var r=0,n=e[t[0]],a,i=n.length;r<i;++r){for(var l=0,o=0;l<a;++l)o+=e[l][r][1]||0;n[r][1]+=n[r][0]=-o/2}Vm(e,t)}}function lle(e,t){if(!(!((l=e.length)>0)||!((i=(a=e[t[0]]).length)>0))){for(var r=0,n=1,a,i,l;n<i;++n){for(var o=0,u=0,f=0;o<l;++o){for(var h=e[t[o]],m=h[n][1]||0,g=h[n-1][1]||0,x=(m-g)/2,b=0;b<o;++b){var v=e[t[b]],w=v[n][1]||0,N=v[n-1][1]||0;x+=w-N}u+=m,f+=x*m}a[n-1][1]+=a[n-1][0]=r,u&&(r-=f/u)}a[n-1][1]+=a[n-1][0]=r,Vm(e,t)}}var Uw={},zw={},Gk;function ole(){return Gk||(Gk=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){return r==="__proto__"}e.isUnsafeProperty=t})(zw)),zw}var qw={},Kk;function HL(){return Kk||(Kk=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){switch(typeof r){case"number":case"symbol":return!1;case"string":return r.includes(".")||r.includes("[")||r.includes("]")}}e.isDeepKey=t})(qw)),qw}var $w={},Yk;function M3(){return Yk||(Yk=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){return typeof r=="string"||typeof r=="symbol"?r:Object.is(r?.valueOf?.(),-0)?"-0":String(r)}e.toKey=t})($w)),$w}var Hw={},Vw={},Xk;function cle(){return Xk||(Xk=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){if(r==null)return"";if(typeof r=="string")return r;if(Array.isArray(r))return r.map(t).join(",");const n=String(r);return n==="0"&&Object.is(Number(r),-0)?"-0":n}e.toString=t})(Vw)),Vw}var Qk;function R3(){return Qk||(Qk=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=cle(),r=M3();function n(a){if(Array.isArray(a))return a.map(r.toKey);if(typeof a=="symbol")return[a];a=t.toString(a);const i=[],l=a.length;if(l===0)return i;let o=0,u="",f="",h=!1;for(a.charCodeAt(0)===46&&(i.push(""),o++);o<l;){const m=a[o];f?m==="\\"&&o+1<l?(o++,u+=a[o]):m===f?f="":u+=m:h?m==='"'||m==="'"?f=m:m==="]"?(h=!1,i.push(u),u=""):u+=m:m==="["?(h=!0,u&&(i.push(u),u="")):m==="."?u&&(i.push(u),u=""):u+=m,o++}return u&&i.push(u),i}e.toPath=n})(Hw)),Hw}var Zk;function I3(){return Zk||(Zk=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=ole(),r=HL(),n=M3(),a=R3();function i(o,u,f){if(o==null)return f;switch(typeof u){case"string":{if(t.isUnsafeProperty(u))return f;const h=o[u];return h===void 0?r.isDeepKey(u)?i(o,a.toPath(u),f):f:h}case"number":case"symbol":{typeof u=="number"&&(u=n.toKey(u));const h=o[u];return h===void 0?f:h}default:{if(Array.isArray(u))return l(o,u,f);if(Object.is(u?.valueOf(),-0)?u="-0":u=String(u),t.isUnsafeProperty(u))return f;const h=o[u];return h===void 0?f:h}}}function l(o,u,f){if(u.length===0)return f;let h=o;for(let m=0;m<u.length;m++){if(h==null||t.isUnsafeProperty(u[m]))return f;h=h[u[m]]}return h===void 0?f:h}e.get=i})(Uw)),Uw}var Ww,Jk;function ule(){return Jk||(Jk=1,Ww=I3().get),Ww}var fle=ule();const Z0=Nf(fle);var qi=e=>e===0?0:e>0?1:-1,zo=e=>typeof e=="number"&&e!=+e,xf=e=>typeof e=="string"&&e.indexOf("%")===e.length-1,Qt=e=>(typeof e=="number"||e instanceof Number)&&!zo(e),hu=e=>Qt(e)||typeof e=="string",dle=0,ig=e=>{var t=++dle;return"".concat(e||"").concat(t)},Os=function(t,r){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:0,a=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!1;if(!Qt(t)&&typeof t!="string")return n;var i;if(xf(t)){if(r==null)return n;var l=t.indexOf("%");i=r*parseFloat(t.slice(0,l))/100}else i=+t;return zo(i)&&(i=n),a&&r!=null&&i>r&&(i=r),i},VL=e=>{if(!Array.isArray(e))return!1;for(var t=e.length,r={},n=0;n<t;n++)if(!r[e[n]])r[e[n]]=!0;else return!0;return!1};function La(e,t,r){return Qt(e)&&Qt(t)?e+r*(t-e):t}function WL(e,t,r){if(!(!e||!e.length))return e.find(n=>n&&(typeof t=="function"?t(n):Z0(n,t))===r)}var ha=e=>e===null||typeof e>"u",Dg=e=>ha(e)?e:"".concat(e.charAt(0).toUpperCase()).concat(e.slice(1)),hle=["type","size","sizeType"];function xN(){return xN=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},xN.apply(null,arguments)}function eC(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function tC(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?eC(Object(r),!0).forEach(function(n){mle(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):eC(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function mle(e,t,r){return(t=ple(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function ple(e){var t=xle(e,"string");return typeof t=="symbol"?t:t+""}function xle(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function gle(e,t){if(e==null)return{};var r,n,a=vle(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}function vle(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}var GL={symbolCircle:L3,symbolCross:Pse,symbolDiamond:Mse,symbolSquare:Rse,symbolStar:zse,symbolTriangle:qse,symbolWye:Hse},yle=Math.PI/180,ble=e=>{var t="symbol".concat(Dg(e));return GL[t]||L3},wle=(e,t,r)=>{if(t==="area")return e;switch(r){case"cross":return 5*e*e/9;case"diamond":return .5*e*e/Math.sqrt(3);case"square":return e*e;case"star":{var n=18*yle;return 1.25*e*e*(Math.tan(n)-Math.tan(n*2)*Math.tan(n)**2)}case"triangle":return Math.sqrt(3)*e*e/4;case"wye":return(21-10*Math.sqrt(3))*e*e/8;default:return Math.PI*e*e/4}},Nle=(e,t)=>{GL["symbol".concat(Dg(e))]=t},B3=e=>{var{type:t="circle",size:r=64,sizeType:n="area"}=e,a=gle(e,hle),i=tC(tC({},a),{},{type:t,size:r,sizeType:n}),l="circle";typeof t=="string"&&(l=t);var o=()=>{var g=ble(l),x=Vse().type(g).size(wle(r,n,l)),b=x();if(b!==null)return b},{className:u,cx:f,cy:h}=i,m=rl(i);return f===+f&&h===+h&&r===+r?k.createElement("path",xN({},m,{className:an("recharts-symbols",u),transform:"translate(".concat(f,", ").concat(h,")"),d:o()})):null};B3.registerSymbol=Nle;var U3=(e,t)=>{if(!e||typeof e=="function"||typeof e=="boolean")return null;var r=e;if(k.isValidElement(e)&&(r=e.props),typeof r!="object"&&typeof r!="function")return null;var n={};return Object.keys(r).forEach(a=>{O3(a)&&(n[a]=(i=>r[a](r,i)))}),n},_le=(e,t,r)=>n=>(e(t,r,n),null),Fg=(e,t,r)=>{if(e===null||typeof e!="object"&&typeof e!="function")return null;var n=null;return Object.keys(e).forEach(a=>{var i=e[a];O3(a)&&typeof i=="function"&&(n||(n={}),n[a]=_le(i,t,r))}),n};function gN(){return gN=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},gN.apply(null,arguments)}function rC(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function jle(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?rC(Object(r),!0).forEach(function(n){z3(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):rC(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function z3(e,t,r){return(t=Sle(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Sle(e){var t=Ale(e,"string");return typeof t=="symbol"?t:t+""}function Ale(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var ko=32;class q3 extends k.PureComponent{renderIcon(t,r){var{inactiveColor:n}=this.props,a=ko/2,i=ko/6,l=ko/3,o=t.inactive?n:t.color,u=r??t.type;if(u==="none")return null;if(u==="plainline")return k.createElement("line",{strokeWidth:4,fill:"none",stroke:o,strokeDasharray:t.payload.strokeDasharray,x1:0,y1:a,x2:ko,y2:a,className:"recharts-legend-icon"});if(u==="line")return k.createElement("path",{strokeWidth:4,fill:"none",stroke:o,d:"M0,".concat(a,"h").concat(l,`
            A`).concat(i,",").concat(i,",0,1,1,").concat(2*l,",").concat(a,`
            H`).concat(ko,"M").concat(2*l,",").concat(a,`
            A`).concat(i,",").concat(i,",0,1,1,").concat(l,",").concat(a),className:"recharts-legend-icon"});if(u==="rect")return k.createElement("path",{stroke:"none",fill:o,d:"M0,".concat(ko/8,"h").concat(ko,"v").concat(ko*3/4,"h").concat(-ko,"z"),className:"recharts-legend-icon"});if(k.isValidElement(t.legendIcon)){var f=jle({},t);return delete f.legendIcon,k.cloneElement(t.legendIcon,f)}return k.createElement(B3,{fill:o,cx:a,cy:a,size:ko,sizeType:"diameter",type:u})}renderItems(){var{payload:t,iconSize:r,layout:n,formatter:a,inactiveColor:i,iconType:l}=this.props,o={x:0,y:0,width:ko,height:ko},u={display:n==="horizontal"?"inline-block":"block",marginRight:10},f={display:"inline-block",verticalAlign:"middle",marginRight:4};return t.map((h,m)=>{var g=h.formatter||a,x=an({"recharts-legend-item":!0,["legend-item-".concat(m)]:!0,inactive:h.inactive});if(h.type==="none")return null;var b=h.inactive?i:h.color,v=g?g(h.value,h,m):h.value;return k.createElement("li",gN({className:x,style:u,key:"legend-item-".concat(m)},Fg(this.props,h,m)),k.createElement(D3,{width:r,height:r,viewBox:o,style:f,"aria-label":"".concat(v," legend icon")},this.renderIcon(h,l)),k.createElement("span",{className:"recharts-legend-item-text",style:{color:b}},v))})}render(){var{payload:t,layout:r,align:n}=this.props;if(!t||!t.length)return null;var a={padding:0,margin:0,textAlign:r==="horizontal"?n:"left"};return k.createElement("ul",{className:"recharts-default-legend",style:a},this.renderItems())}}z3(q3,"displayName","Legend");z3(q3,"defaultProps",{align:"center",iconSize:14,inactiveColor:"#ccc",layout:"horizontal",verticalAlign:"middle"});var Gw={},Kw={},nC;function Ele(){return nC||(nC=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r,n){const a=new Map;for(let i=0;i<r.length;i++){const l=r[i],o=n(l);a.has(o)||a.set(o,l)}return Array.from(a.values())}e.uniqBy=t})(Kw)),Kw}var Yw={},aC;function KL(){return aC||(aC=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){return r}e.identity=t})(Yw)),Yw}var Xw={},Qw={},Zw={},iC;function kle(){return iC||(iC=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){return Number.isSafeInteger(r)&&r>=0}e.isLength=t})(Zw)),Zw}var sC;function $3(){return sC||(sC=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=kle();function r(n){return n!=null&&typeof n!="function"&&t.isLength(n.length)}e.isArrayLike=r})(Qw)),Qw}var Jw={},lC;function Cle(){return lC||(lC=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){return typeof r=="object"&&r!==null}e.isObjectLike=t})(Jw)),Jw}var oC;function Tle(){return oC||(oC=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=$3(),r=Cle();function n(a){return r.isObjectLike(a)&&t.isArrayLike(a)}e.isArrayLikeObject=n})(Xw)),Xw}var e5={},t5={},cC;function Ole(){return cC||(cC=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=I3();function r(n){return function(a){return t.get(a,n)}}e.property=r})(t5)),t5}var r5={},n5={},a5={},i5={},uC;function YL(){return uC||(uC=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){return r!==null&&(typeof r=="object"||typeof r=="function")}e.isObject=t})(i5)),i5}var s5={},fC;function XL(){return fC||(fC=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){return r==null||typeof r!="object"&&typeof r!="function"}e.isPrimitive=t})(s5)),s5}var l5={},dC;function QL(){return dC||(dC=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r,n){return r===n||Number.isNaN(r)&&Number.isNaN(n)}e.eq=t})(l5)),l5}var hC;function Dle(){return hC||(hC=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=YL(),r=XL(),n=QL();function a(h,m,g){return typeof g!="function"?a(h,m,()=>{}):i(h,m,function x(b,v,w,N,E,j){const T=g(b,v,w,N,E,j);return T!==void 0?!!T:i(b,v,x,j)},new Map)}function i(h,m,g,x){if(m===h)return!0;switch(typeof m){case"object":return l(h,m,g,x);case"function":return Object.keys(m).length>0?i(h,{...m},g,x):n.eq(h,m);default:return t.isObject(h)?typeof m=="string"?m==="":!0:n.eq(h,m)}}function l(h,m,g,x){if(m==null)return!0;if(Array.isArray(m))return u(h,m,g,x);if(m instanceof Map)return o(h,m,g,x);if(m instanceof Set)return f(h,m,g,x);const b=Object.keys(m);if(h==null)return b.length===0;if(b.length===0)return!0;if(x?.has(m))return x.get(m)===h;x?.set(m,h);try{for(let v=0;v<b.length;v++){const w=b[v];if(!r.isPrimitive(h)&&!(w in h)||m[w]===void 0&&h[w]!==void 0||m[w]===null&&h[w]!==null||!g(h[w],m[w],w,h,m,x))return!1}return!0}finally{x?.delete(m)}}function o(h,m,g,x){if(m.size===0)return!0;if(!(h instanceof Map))return!1;for(const[b,v]of m.entries()){const w=h.get(b);if(g(w,v,b,h,m,x)===!1)return!1}return!0}function u(h,m,g,x){if(m.length===0)return!0;if(!Array.isArray(h))return!1;const b=new Set;for(let v=0;v<m.length;v++){const w=m[v];let N=!1;for(let E=0;E<h.length;E++){if(b.has(E))continue;const j=h[E];let T=!1;if(g(j,w,v,h,m,x)&&(T=!0),T){b.add(E),N=!0;break}}if(!N)return!1}return!0}function f(h,m,g,x){return m.size===0?!0:h instanceof Set?u([...h],[...m],g,x):!1}e.isMatchWith=a,e.isSetMatch=f})(a5)),a5}var mC;function ZL(){return mC||(mC=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=Dle();function r(n,a){return t.isMatchWith(n,a,()=>{})}e.isMatch=r})(n5)),n5}var o5={},c5={},u5={},pC;function Fle(){return pC||(pC=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){return Object.getOwnPropertySymbols(r).filter(n=>Object.prototype.propertyIsEnumerable.call(r,n))}e.getSymbols=t})(u5)),u5}var f5={},xC;function JL(){return xC||(xC=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){return r==null?r===void 0?"[object Undefined]":"[object Null]":Object.prototype.toString.call(r)}e.getTag=t})(f5)),f5}var d5={},gC;function eM(){return gC||(gC=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t="[object RegExp]",r="[object String]",n="[object Number]",a="[object Boolean]",i="[object Arguments]",l="[object Symbol]",o="[object Date]",u="[object Map]",f="[object Set]",h="[object Array]",m="[object Function]",g="[object ArrayBuffer]",x="[object Object]",b="[object Error]",v="[object DataView]",w="[object Uint8Array]",N="[object Uint8ClampedArray]",E="[object Uint16Array]",j="[object Uint32Array]",T="[object BigUint64Array]",O="[object Int8Array]",F="[object Int16Array]",D="[object Int32Array]",L="[object BigInt64Array]",B="[object Float32Array]",H="[object Float64Array]";e.argumentsTag=i,e.arrayBufferTag=g,e.arrayTag=h,e.bigInt64ArrayTag=L,e.bigUint64ArrayTag=T,e.booleanTag=a,e.dataViewTag=v,e.dateTag=o,e.errorTag=b,e.float32ArrayTag=B,e.float64ArrayTag=H,e.functionTag=m,e.int16ArrayTag=F,e.int32ArrayTag=D,e.int8ArrayTag=O,e.mapTag=u,e.numberTag=n,e.objectTag=x,e.regexpTag=t,e.setTag=f,e.stringTag=r,e.symbolTag=l,e.uint16ArrayTag=E,e.uint32ArrayTag=j,e.uint8ArrayTag=w,e.uint8ClampedArrayTag=N})(d5)),d5}var h5={},vC;function Ple(){return vC||(vC=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){return ArrayBuffer.isView(r)&&!(r instanceof DataView)}e.isTypedArray=t})(h5)),h5}var yC;function tM(){return yC||(yC=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=Fle(),r=JL(),n=eM(),a=XL(),i=Ple();function l(h,m){return o(h,void 0,h,new Map,m)}function o(h,m,g,x=new Map,b=void 0){const v=b?.(h,m,g,x);if(v!==void 0)return v;if(a.isPrimitive(h))return h;if(x.has(h))return x.get(h);if(Array.isArray(h)){const w=new Array(h.length);x.set(h,w);for(let N=0;N<h.length;N++)w[N]=o(h[N],N,g,x,b);return Object.hasOwn(h,"index")&&(w.index=h.index),Object.hasOwn(h,"input")&&(w.input=h.input),w}if(h instanceof Date)return new Date(h.getTime());if(h instanceof RegExp){const w=new RegExp(h.source,h.flags);return w.lastIndex=h.lastIndex,w}if(h instanceof Map){const w=new Map;x.set(h,w);for(const[N,E]of h)w.set(N,o(E,N,g,x,b));return w}if(h instanceof Set){const w=new Set;x.set(h,w);for(const N of h)w.add(o(N,void 0,g,x,b));return w}if(typeof Buffer<"u"&&Buffer.isBuffer(h))return h.subarray();if(i.isTypedArray(h)){const w=new(Object.getPrototypeOf(h)).constructor(h.length);x.set(h,w);for(let N=0;N<h.length;N++)w[N]=o(h[N],N,g,x,b);return w}if(h instanceof ArrayBuffer||typeof SharedArrayBuffer<"u"&&h instanceof SharedArrayBuffer)return h.slice(0);if(h instanceof DataView){const w=new DataView(h.buffer.slice(0),h.byteOffset,h.byteLength);return x.set(h,w),u(w,h,g,x,b),w}if(typeof File<"u"&&h instanceof File){const w=new File([h],h.name,{type:h.type});return x.set(h,w),u(w,h,g,x,b),w}if(typeof Blob<"u"&&h instanceof Blob){const w=new Blob([h],{type:h.type});return x.set(h,w),u(w,h,g,x,b),w}if(h instanceof Error){const w=new h.constructor;return x.set(h,w),w.message=h.message,w.name=h.name,w.stack=h.stack,w.cause=h.cause,u(w,h,g,x,b),w}if(h instanceof Boolean){const w=new Boolean(h.valueOf());return x.set(h,w),u(w,h,g,x,b),w}if(h instanceof Number){const w=new Number(h.valueOf());return x.set(h,w),u(w,h,g,x,b),w}if(h instanceof String){const w=new String(h.valueOf());return x.set(h,w),u(w,h,g,x,b),w}if(typeof h=="object"&&f(h)){const w=Object.create(Object.getPrototypeOf(h));return x.set(h,w),u(w,h,g,x,b),w}return h}function u(h,m,g=h,x,b){const v=[...Object.keys(m),...t.getSymbols(m)];for(let w=0;w<v.length;w++){const N=v[w],E=Object.getOwnPropertyDescriptor(h,N);(E==null||E.writable)&&(h[N]=o(m[N],N,g,x,b))}}function f(h){switch(r.getTag(h)){case n.argumentsTag:case n.arrayTag:case n.arrayBufferTag:case n.dataViewTag:case n.booleanTag:case n.dateTag:case n.float32ArrayTag:case n.float64ArrayTag:case n.int8ArrayTag:case n.int16ArrayTag:case n.int32ArrayTag:case n.mapTag:case n.numberTag:case n.objectTag:case n.regexpTag:case n.setTag:case n.stringTag:case n.symbolTag:case n.uint8ArrayTag:case n.uint8ClampedArrayTag:case n.uint16ArrayTag:case n.uint32ArrayTag:return!0;default:return!1}}e.cloneDeepWith=l,e.cloneDeepWithImpl=o,e.copyProperties=u})(c5)),c5}var bC;function Lle(){return bC||(bC=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=tM();function r(n){return t.cloneDeepWithImpl(n,void 0,n,new Map,void 0)}e.cloneDeep=r})(o5)),o5}var wC;function Mle(){return wC||(wC=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=ZL(),r=Lle();function n(a){return a=r.cloneDeep(a),i=>t.isMatch(i,a)}e.matches=n})(r5)),r5}var m5={},p5={},x5={},NC;function Rle(){return NC||(NC=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=tM(),r=eM();function n(a,i){return t.cloneDeepWith(a,(l,o,u,f)=>{const h=i?.(l,o,u,f);if(h!==void 0)return h;if(typeof a=="object")switch(Object.prototype.toString.call(a)){case r.numberTag:case r.stringTag:case r.booleanTag:{const m=new a.constructor(a?.valueOf());return t.copyProperties(m,a),m}case r.argumentsTag:{const m={};return t.copyProperties(m,a),m.length=a.length,m[Symbol.iterator]=a[Symbol.iterator],m}default:return}})}e.cloneDeepWith=n})(x5)),x5}var _C;function Ile(){return _C||(_C=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=Rle();function r(n){return t.cloneDeepWith(n)}e.cloneDeep=r})(p5)),p5}var g5={},v5={},jC;function rM(){return jC||(jC=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=/^(?:0|[1-9]\d*)$/;function r(n,a=Number.MAX_SAFE_INTEGER){switch(typeof n){case"number":return Number.isInteger(n)&&n>=0&&n<a;case"symbol":return!1;case"string":return t.test(n)}}e.isIndex=r})(v5)),v5}var y5={},SC;function Ble(){return SC||(SC=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=JL();function r(n){return n!==null&&typeof n=="object"&&t.getTag(n)==="[object Arguments]"}e.isArguments=r})(y5)),y5}var AC;function Ule(){return AC||(AC=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=HL(),r=rM(),n=Ble(),a=R3();function i(l,o){let u;if(Array.isArray(o)?u=o:typeof o=="string"&&t.isDeepKey(o)&&l?.[o]==null?u=a.toPath(o):u=[o],u.length===0)return!1;let f=l;for(let h=0;h<u.length;h++){const m=u[h];if((f==null||!Object.hasOwn(f,m))&&!((Array.isArray(f)||n.isArguments(f))&&r.isIndex(m)&&m<f.length))return!1;f=f[m]}return!0}e.has=i})(g5)),g5}var EC;function zle(){return EC||(EC=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=ZL(),r=M3(),n=Ile(),a=I3(),i=Ule();function l(o,u){switch(typeof o){case"object":{Object.is(o?.valueOf(),-0)&&(o="-0");break}case"number":{o=r.toKey(o);break}}return u=n.cloneDeep(u),function(f){const h=a.get(f,o);return h===void 0?i.has(f,o):u===void 0?h===void 0:t.isMatch(h,u)}}e.matchesProperty=l})(m5)),m5}var kC;function qle(){return kC||(kC=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=KL(),r=Ole(),n=Mle(),a=zle();function i(l){if(l==null)return t.identity;switch(typeof l){case"function":return l;case"object":return Array.isArray(l)&&l.length===2?a.matchesProperty(l[0],l[1]):n.matches(l);case"string":case"symbol":case"number":return r.property(l)}}e.iteratee=i})(e5)),e5}var CC;function $le(){return CC||(CC=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=Ele(),r=KL(),n=Tle(),a=qle();function i(l,o=r.identity){return n.isArrayLikeObject(l)?t.uniqBy(Array.from(l),a.iteratee(o)):[]}e.uniqBy=i})(Gw)),Gw}var b5,TC;function Hle(){return TC||(TC=1,b5=$le().uniqBy),b5}var Vle=Hle();const OC=Nf(Vle);function nM(e,t,r){return t===!0?OC(e,r):typeof t=="function"?OC(e,t):e}var w5={exports:{}},N5={},_5={exports:{}},j5={};/**
 * @license React
 * use-sync-external-store-shim.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var DC;function Wle(){if(DC)return j5;DC=1;var e=Zm();function t(m,g){return m===g&&(m!==0||1/m===1/g)||m!==m&&g!==g}var r=typeof Object.is=="function"?Object.is:t,n=e.useState,a=e.useEffect,i=e.useLayoutEffect,l=e.useDebugValue;function o(m,g){var x=g(),b=n({inst:{value:x,getSnapshot:g}}),v=b[0].inst,w=b[1];return i(function(){v.value=x,v.getSnapshot=g,u(v)&&w({inst:v})},[m,x,g]),a(function(){return u(v)&&w({inst:v}),m(function(){u(v)&&w({inst:v})})},[m]),l(x),x}function u(m){var g=m.getSnapshot;m=m.value;try{var x=g();return!r(m,x)}catch{return!0}}function f(m,g){return g()}var h=typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"?f:o;return j5.useSyncExternalStore=e.useSyncExternalStore!==void 0?e.useSyncExternalStore:h,j5}var FC;function Gle(){return FC||(FC=1,_5.exports=Wle()),_5.exports}/**
 * @license React
 * use-sync-external-store-shim/with-selector.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var PC;function Kle(){if(PC)return N5;PC=1;var e=Zm(),t=Gle();function r(f,h){return f===h&&(f!==0||1/f===1/h)||f!==f&&h!==h}var n=typeof Object.is=="function"?Object.is:r,a=t.useSyncExternalStore,i=e.useRef,l=e.useEffect,o=e.useMemo,u=e.useDebugValue;return N5.useSyncExternalStoreWithSelector=function(f,h,m,g,x){var b=i(null);if(b.current===null){var v={hasValue:!1,value:null};b.current=v}else v=b.current;b=o(function(){function N(F){if(!E){if(E=!0,j=F,F=g(F),x!==void 0&&v.hasValue){var D=v.value;if(x(D,F))return T=D}return T=F}if(D=T,n(j,F))return D;var L=g(F);return x!==void 0&&x(D,L)?(j=F,D):(j=F,T=L)}var E=!1,j,T,O=m===void 0?null:m;return[function(){return N(h())},O===null?void 0:function(){return N(O())}]},[h,m,g,x]);var w=a(f,b[0],b[1]);return l(function(){v.hasValue=!0,v.value=w},[w]),u(w),w},N5}var LC;function Yle(){return LC||(LC=1,w5.exports=Kle()),w5.exports}var Xle=Yle(),H3=k.createContext(null),Qle=e=>e,pa=()=>{var e=k.useContext(H3);return e?e.store.dispatch:Qle},Pv=()=>{},Zle=()=>Pv,Jle=(e,t)=>e===t;function Ht(e){var t=k.useContext(H3);return Xle.useSyncExternalStoreWithSelector(t?t.subscription.addNestedSub:Zle,t?t.store.getState:Pv,t?t.store.getState:Pv,t?e:Pv,Jle)}function eoe(e,t=`expected a function, instead received ${typeof e}`){if(typeof e!="function")throw new TypeError(t)}function toe(e,t=`expected an object, instead received ${typeof e}`){if(typeof e!="object")throw new TypeError(t)}function roe(e,t="expected all items to be functions, instead received the following types: "){if(!e.every(r=>typeof r=="function")){const r=e.map(n=>typeof n=="function"?`function ${n.name||"unnamed"}()`:typeof n).join(", ");throw new TypeError(`${t}[${r}]`)}}var MC=e=>Array.isArray(e)?e:[e];function noe(e){const t=Array.isArray(e[0])?e[0]:e;return roe(t,"createSelector expects all input-selectors to be functions, but received the following types: "),t}function aoe(e,t){const r=[],{length:n}=e;for(let a=0;a<n;a++)r.push(e[a].apply(null,t));return r}var ioe=class{constructor(e){this.value=e}deref(){return this.value}},soe=typeof WeakRef<"u"?WeakRef:ioe,loe=0,RC=1;function lv(){return{s:loe,v:void 0,o:null,p:null}}function aM(e,t={}){let r=lv();const{resultEqualityCheck:n}=t;let a,i=0;function l(){let o=r;const{length:u}=arguments;for(let m=0,g=u;m<g;m++){const x=arguments[m];if(typeof x=="function"||typeof x=="object"&&x!==null){let b=o.o;b===null&&(o.o=b=new WeakMap);const v=b.get(x);v===void 0?(o=lv(),b.set(x,o)):o=v}else{let b=o.p;b===null&&(o.p=b=new Map);const v=b.get(x);v===void 0?(o=lv(),b.set(x,o)):o=v}}const f=o;let h;if(o.s===RC)h=o.v;else if(h=e.apply(null,arguments),i++,n){const m=a?.deref?.()??a;m!=null&&n(m,h)&&(h=m,i!==0&&i--),a=typeof h=="object"&&h!==null||typeof h=="function"?new soe(h):h}return f.s=RC,f.v=h,h}return l.clearCache=()=>{r=lv(),l.resetResultsCount()},l.resultsCount=()=>i,l.resetResultsCount=()=>{i=0},l}function ooe(e,...t){const r=typeof e=="function"?{memoize:e,memoizeOptions:t}:e,n=(...a)=>{let i=0,l=0,o,u={},f=a.pop();typeof f=="object"&&(u=f,f=a.pop()),eoe(f,`createSelector expects an output function after the inputs, but received: [${typeof f}]`);const h={...r,...u},{memoize:m,memoizeOptions:g=[],argsMemoize:x=aM,argsMemoizeOptions:b=[]}=h,v=MC(g),w=MC(b),N=noe(a),E=m(function(){return i++,f.apply(null,arguments)},...v),j=x(function(){l++;const O=aoe(N,arguments);return o=E.apply(null,O),o},...w);return Object.assign(j,{resultFunc:f,memoizedResultFunc:E,dependencies:N,dependencyRecomputations:()=>l,resetDependencyRecomputations:()=>{l=0},lastResult:()=>o,recomputations:()=>i,resetRecomputations:()=>{i=0},memoize:m,argsMemoize:x})};return Object.assign(n,{withTypes:()=>n}),n}var He=ooe(aM),coe=Object.assign((e,t=He)=>{toe(e,`createStructuredSelector expects first argument to be an object where each property is a selector, instead received a ${typeof e}`);const r=Object.keys(e),n=r.map(i=>e[i]);return t(n,(...i)=>i.reduce((l,o,u)=>(l[r[u]]=o,l),{}))},{withTypes:()=>coe}),S5={},A5={},E5={},IC;function uoe(){return IC||(IC=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n){return typeof n=="symbol"?1:n===null?2:n===void 0?3:n!==n?4:0}const r=(n,a,i)=>{if(n!==a){const l=t(n),o=t(a);if(l===o&&l===0){if(n<a)return i==="desc"?1:-1;if(n>a)return i==="desc"?-1:1}return i==="desc"?o-l:l-o}return 0};e.compareValues=r})(E5)),E5}var k5={},C5={},BC;function iM(){return BC||(BC=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){return typeof r=="symbol"||r instanceof Symbol}e.isSymbol=t})(C5)),C5}var UC;function foe(){return UC||(UC=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=iM(),r=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,n=/^\w*$/;function a(i,l){return Array.isArray(i)?!1:typeof i=="number"||typeof i=="boolean"||i==null||t.isSymbol(i)?!0:typeof i=="string"&&(n.test(i)||!r.test(i))||l!=null&&Object.hasOwn(l,i)}e.isKey=a})(k5)),k5}var zC;function doe(){return zC||(zC=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=uoe(),r=foe(),n=R3();function a(i,l,o,u){if(i==null)return[];o=u?void 0:o,Array.isArray(i)||(i=Object.values(i)),Array.isArray(l)||(l=l==null?[null]:[l]),l.length===0&&(l=[null]),Array.isArray(o)||(o=o==null?[]:[o]),o=o.map(x=>String(x));const f=(x,b)=>{let v=x;for(let w=0;w<b.length&&v!=null;++w)v=v[b[w]];return v},h=(x,b)=>b==null||x==null?b:typeof x=="object"&&"key"in x?Object.hasOwn(b,x.key)?b[x.key]:f(b,x.path):typeof x=="function"?x(b):Array.isArray(x)?f(b,x):typeof b=="object"?b[x]:b,m=l.map(x=>(Array.isArray(x)&&x.length===1&&(x=x[0]),x==null||typeof x=="function"||Array.isArray(x)||r.isKey(x)?x:{key:x,path:n.toPath(x)}));return i.map(x=>({original:x,criteria:m.map(b=>h(b,x))})).slice().sort((x,b)=>{for(let v=0;v<m.length;v++){const w=t.compareValues(x.criteria[v],b.criteria[v],o[v]);if(w!==0)return w}return 0}).map(x=>x.original)}e.orderBy=a})(A5)),A5}var T5={},qC;function hoe(){return qC||(qC=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r,n=1){const a=[],i=Math.floor(n),l=(o,u)=>{for(let f=0;f<o.length;f++){const h=o[f];Array.isArray(h)&&u<i?l(h,u+1):a.push(h)}};return l(r,0),a}e.flatten=t})(T5)),T5}var O5={},$C;function sM(){return $C||($C=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=rM(),r=$3(),n=YL(),a=QL();function i(l,o,u){return n.isObject(u)&&(typeof o=="number"&&r.isArrayLike(u)&&t.isIndex(o)&&o<u.length||typeof o=="string"&&o in u)?a.eq(u[o],l):!1}e.isIterateeCall=i})(O5)),O5}var HC;function moe(){return HC||(HC=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=doe(),r=hoe(),n=sM();function a(i,...l){const o=l.length;return o>1&&n.isIterateeCall(i,l[0],l[1])?l=[]:o>2&&n.isIterateeCall(l[0],l[1],l[2])&&(l=[l[0]]),t.orderBy(i,r.flatten(l),["asc"])}e.sortBy=a})(S5)),S5}var D5,VC;function poe(){return VC||(VC=1,D5=moe().sortBy),D5}var xoe=poe();const g2=Nf(xoe);var lM=e=>e.legend.settings,goe=e=>e.legend.size,voe=e=>e.legend.payload,yoe=He([voe,lM],(e,t)=>{var{itemSorter:r}=t,n=e.flat(1);return r?g2(n,r):n});function boe(){return Ht(yoe)}var ov=1;function oM(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],[t,r]=k.useState({height:0,left:0,top:0,width:0}),n=k.useCallback(a=>{if(a!=null){var i=a.getBoundingClientRect(),l={height:i.height,left:i.left,top:i.top,width:i.width};(Math.abs(l.height-t.height)>ov||Math.abs(l.left-t.left)>ov||Math.abs(l.top-t.top)>ov||Math.abs(l.width-t.width)>ov)&&r({height:l.height,left:l.left,top:l.top,width:l.width})}},[t.width,t.height,t.top,t.left,...e]);return[t,n]}function rs(e){return`Minified Redux error #${e}; visit https://redux.js.org/Errors?code=${e} for the full message or use the non-minified dev environment for full errors. `}var woe=typeof Symbol=="function"&&Symbol.observable||"@@observable",WC=woe,F5=()=>Math.random().toString(36).substring(7).split("").join("."),Noe={INIT:`@@redux/INIT${F5()}`,REPLACE:`@@redux/REPLACE${F5()}`,PROBE_UNKNOWN_ACTION:()=>`@@redux/PROBE_UNKNOWN_ACTION${F5()}`},hy=Noe;function V3(e){if(typeof e!="object"||e===null)return!1;let t=e;for(;Object.getPrototypeOf(t)!==null;)t=Object.getPrototypeOf(t);return Object.getPrototypeOf(e)===t||Object.getPrototypeOf(e)===null}function cM(e,t,r){if(typeof e!="function")throw new Error(rs(2));if(typeof t=="function"&&typeof r=="function"||typeof r=="function"&&typeof arguments[3]=="function")throw new Error(rs(0));if(typeof t=="function"&&typeof r>"u"&&(r=t,t=void 0),typeof r<"u"){if(typeof r!="function")throw new Error(rs(1));return r(cM)(e,t)}let n=e,a=t,i=new Map,l=i,o=0,u=!1;function f(){l===i&&(l=new Map,i.forEach((w,N)=>{l.set(N,w)}))}function h(){if(u)throw new Error(rs(3));return a}function m(w){if(typeof w!="function")throw new Error(rs(4));if(u)throw new Error(rs(5));let N=!0;f();const E=o++;return l.set(E,w),function(){if(N){if(u)throw new Error(rs(6));N=!1,f(),l.delete(E),i=null}}}function g(w){if(!V3(w))throw new Error(rs(7));if(typeof w.type>"u")throw new Error(rs(8));if(typeof w.type!="string")throw new Error(rs(17));if(u)throw new Error(rs(9));try{u=!0,a=n(a,w)}finally{u=!1}return(i=l).forEach(E=>{E()}),w}function x(w){if(typeof w!="function")throw new Error(rs(10));n=w,g({type:hy.REPLACE})}function b(){const w=m;return{subscribe(N){if(typeof N!="object"||N===null)throw new Error(rs(11));function E(){const T=N;T.next&&T.next(h())}return E(),{unsubscribe:w(E)}},[WC](){return this}}}return g({type:hy.INIT}),{dispatch:g,subscribe:m,getState:h,replaceReducer:x,[WC]:b}}function _oe(e){Object.keys(e).forEach(t=>{const r=e[t];if(typeof r(void 0,{type:hy.INIT})>"u")throw new Error(rs(12));if(typeof r(void 0,{type:hy.PROBE_UNKNOWN_ACTION()})>"u")throw new Error(rs(13))})}function uM(e){const t=Object.keys(e),r={};for(let i=0;i<t.length;i++){const l=t[i];typeof e[l]=="function"&&(r[l]=e[l])}const n=Object.keys(r);let a;try{_oe(r)}catch(i){a=i}return function(l={},o){if(a)throw a;let u=!1;const f={};for(let h=0;h<n.length;h++){const m=n[h],g=r[m],x=l[m],b=g(x,o);if(typeof b>"u")throw o&&o.type,new Error(rs(14));f[m]=b,u=u||b!==x}return u=u||n.length!==Object.keys(l).length,u?f:l}}function my(...e){return e.length===0?t=>t:e.length===1?e[0]:e.reduce((t,r)=>(...n)=>t(r(...n)))}function joe(...e){return t=>(r,n)=>{const a=t(r,n);let i=()=>{throw new Error(rs(15))};const l={getState:a.getState,dispatch:(u,...f)=>i(u,...f)},o=e.map(u=>u(l));return i=my(...o)(a.dispatch),{...a,dispatch:i}}}function fM(e){return V3(e)&&"type"in e&&typeof e.type=="string"}var dM=Symbol.for("immer-nothing"),GC=Symbol.for("immer-draftable"),ao=Symbol.for("immer-state");function bc(e,...t){throw new Error(`[Immer] minified error nr: ${e}. Full error at: https://bit.ly/3cXEKWf`)}var sg=Object.getPrototypeOf;function J0(e){return!!e&&!!e[ao]}function gf(e){return e?hM(e)||Array.isArray(e)||!!e[GC]||!!e.constructor?.[GC]||Pg(e)||y2(e):!1}var Soe=Object.prototype.constructor.toString(),KC=new WeakMap;function hM(e){if(!e||typeof e!="object")return!1;const t=Object.getPrototypeOf(e);if(t===null||t===Object.prototype)return!0;const r=Object.hasOwnProperty.call(t,"constructor")&&t.constructor;if(r===Object)return!0;if(typeof r!="function")return!1;let n=KC.get(r);return n===void 0&&(n=Function.toString.call(r),KC.set(r,n)),n===Soe}function py(e,t,r=!0){v2(e)===0?(r?Reflect.ownKeys(e):Object.keys(e)).forEach(a=>{t(a,e[a],e)}):e.forEach((n,a)=>t(a,n,e))}function v2(e){const t=e[ao];return t?t.type_:Array.isArray(e)?1:Pg(e)?2:y2(e)?3:0}function vN(e,t){return v2(e)===2?e.has(t):Object.prototype.hasOwnProperty.call(e,t)}function mM(e,t,r){const n=v2(e);n===2?e.set(t,r):n===3?e.add(r):e[t]=r}function Aoe(e,t){return e===t?e!==0||1/e===1/t:e!==e&&t!==t}function Pg(e){return e instanceof Map}function y2(e){return e instanceof Set}function b0(e){return e.copy_||e.base_}function yN(e,t){if(Pg(e))return new Map(e);if(y2(e))return new Set(e);if(Array.isArray(e))return Array.prototype.slice.call(e);const r=hM(e);if(t===!0||t==="class_only"&&!r){const n=Object.getOwnPropertyDescriptors(e);delete n[ao];let a=Reflect.ownKeys(n);for(let i=0;i<a.length;i++){const l=a[i],o=n[l];o.writable===!1&&(o.writable=!0,o.configurable=!0),(o.get||o.set)&&(n[l]={configurable:!0,writable:!0,enumerable:o.enumerable,value:e[l]})}return Object.create(sg(e),n)}else{const n=sg(e);if(n!==null&&r)return{...e};const a=Object.create(n);return Object.assign(a,e)}}function W3(e,t=!1){return b2(e)||J0(e)||!gf(e)||(v2(e)>1&&Object.defineProperties(e,{set:cv,add:cv,clear:cv,delete:cv}),Object.freeze(e),t&&Object.values(e).forEach(r=>W3(r,!0))),e}function Eoe(){bc(2)}var cv={value:Eoe};function b2(e){return e===null||typeof e!="object"?!0:Object.isFrozen(e)}var koe={};function eh(e){const t=koe[e];return t||bc(0,e),t}var lg;function pM(){return lg}function Coe(e,t){return{drafts_:[],parent_:e,immer_:t,canAutoFreeze_:!0,unfinalizedDrafts_:0}}function YC(e,t){t&&(eh("Patches"),e.patches_=[],e.inversePatches_=[],e.patchListener_=t)}function bN(e){wN(e),e.drafts_.forEach(Toe),e.drafts_=null}function wN(e){e===lg&&(lg=e.parent_)}function XC(e){return lg=Coe(lg,e)}function Toe(e){const t=e[ao];t.type_===0||t.type_===1?t.revoke_():t.revoked_=!0}function QC(e,t){t.unfinalizedDrafts_=t.drafts_.length;const r=t.drafts_[0];return e!==void 0&&e!==r?(r[ao].modified_&&(bN(t),bc(4)),gf(e)&&(e=xy(t,e),t.parent_||gy(t,e)),t.patches_&&eh("Patches").generateReplacementPatches_(r[ao].base_,e,t.patches_,t.inversePatches_)):e=xy(t,r,[]),bN(t),t.patches_&&t.patchListener_(t.patches_,t.inversePatches_),e!==dM?e:void 0}function xy(e,t,r){if(b2(t))return t;const n=e.immer_.shouldUseStrictIteration(),a=t[ao];if(!a)return py(t,(i,l)=>ZC(e,a,t,i,l,r),n),t;if(a.scope_!==e)return t;if(!a.modified_)return gy(e,a.base_,!0),a.base_;if(!a.finalized_){a.finalized_=!0,a.scope_.unfinalizedDrafts_--;const i=a.copy_;let l=i,o=!1;a.type_===3&&(l=new Set(i),i.clear(),o=!0),py(l,(u,f)=>ZC(e,a,i,u,f,r,o),n),gy(e,i,!1),r&&e.patches_&&eh("Patches").generatePatches_(a,r,e.patches_,e.inversePatches_)}return a.copy_}function ZC(e,t,r,n,a,i,l){if(a==null||typeof a!="object"&&!l)return;const o=b2(a);if(!(o&&!l)){if(J0(a)){const u=i&&t&&t.type_!==3&&!vN(t.assigned_,n)?i.concat(n):void 0,f=xy(e,a,u);if(mM(r,n,f),J0(f))e.canAutoFreeze_=!1;else return}else l&&r.add(a);if(gf(a)&&!o){if(!e.immer_.autoFreeze_&&e.unfinalizedDrafts_<1||t&&t.base_&&t.base_[n]===a&&o)return;xy(e,a),(!t||!t.scope_.parent_)&&typeof n!="symbol"&&(Pg(r)?r.has(n):Object.prototype.propertyIsEnumerable.call(r,n))&&gy(e,a)}}}function gy(e,t,r=!1){!e.parent_&&e.immer_.autoFreeze_&&e.canAutoFreeze_&&W3(t,r)}function Ooe(e,t){const r=Array.isArray(e),n={type_:r?1:0,scope_:t?t.scope_:pM(),modified_:!1,finalized_:!1,assigned_:{},parent_:t,base_:e,draft_:null,copy_:null,revoke_:null,isManual_:!1};let a=n,i=G3;r&&(a=[n],i=og);const{revoke:l,proxy:o}=Proxy.revocable(a,i);return n.draft_=o,n.revoke_=l,o}var G3={get(e,t){if(t===ao)return e;const r=b0(e);if(!vN(r,t))return Doe(e,r,t);const n=r[t];return e.finalized_||!gf(n)?n:n===P5(e.base_,t)?(L5(e),e.copy_[t]=_N(n,e)):n},has(e,t){return t in b0(e)},ownKeys(e){return Reflect.ownKeys(b0(e))},set(e,t,r){const n=xM(b0(e),t);if(n?.set)return n.set.call(e.draft_,r),!0;if(!e.modified_){const a=P5(b0(e),t),i=a?.[ao];if(i&&i.base_===r)return e.copy_[t]=r,e.assigned_[t]=!1,!0;if(Aoe(r,a)&&(r!==void 0||vN(e.base_,t)))return!0;L5(e),NN(e)}return e.copy_[t]===r&&(r!==void 0||t in e.copy_)||Number.isNaN(r)&&Number.isNaN(e.copy_[t])||(e.copy_[t]=r,e.assigned_[t]=!0),!0},deleteProperty(e,t){return P5(e.base_,t)!==void 0||t in e.base_?(e.assigned_[t]=!1,L5(e),NN(e)):delete e.assigned_[t],e.copy_&&delete e.copy_[t],!0},getOwnPropertyDescriptor(e,t){const r=b0(e),n=Reflect.getOwnPropertyDescriptor(r,t);return n&&{writable:!0,configurable:e.type_!==1||t!=="length",enumerable:n.enumerable,value:r[t]}},defineProperty(){bc(11)},getPrototypeOf(e){return sg(e.base_)},setPrototypeOf(){bc(12)}},og={};py(G3,(e,t)=>{og[e]=function(){return arguments[0]=arguments[0][0],t.apply(this,arguments)}});og.deleteProperty=function(e,t){return og.set.call(this,e,t,void 0)};og.set=function(e,t,r){return G3.set.call(this,e[0],t,r,e[0])};function P5(e,t){const r=e[ao];return(r?b0(r):e)[t]}function Doe(e,t,r){const n=xM(t,r);return n?"value"in n?n.value:n.get?.call(e.draft_):void 0}function xM(e,t){if(!(t in e))return;let r=sg(e);for(;r;){const n=Object.getOwnPropertyDescriptor(r,t);if(n)return n;r=sg(r)}}function NN(e){e.modified_||(e.modified_=!0,e.parent_&&NN(e.parent_))}function L5(e){e.copy_||(e.copy_=yN(e.base_,e.scope_.immer_.useStrictShallowCopy_))}var Foe=class{constructor(e){this.autoFreeze_=!0,this.useStrictShallowCopy_=!1,this.useStrictIteration_=!0,this.produce=(t,r,n)=>{if(typeof t=="function"&&typeof r!="function"){const i=r;r=t;const l=this;return function(u=i,...f){return l.produce(u,h=>r.call(this,h,...f))}}typeof r!="function"&&bc(6),n!==void 0&&typeof n!="function"&&bc(7);let a;if(gf(t)){const i=XC(this),l=_N(t,void 0);let o=!0;try{a=r(l),o=!1}finally{o?bN(i):wN(i)}return YC(i,n),QC(a,i)}else if(!t||typeof t!="object"){if(a=r(t),a===void 0&&(a=t),a===dM&&(a=void 0),this.autoFreeze_&&W3(a,!0),n){const i=[],l=[];eh("Patches").generateReplacementPatches_(t,a,i,l),n(i,l)}return a}else bc(1,t)},this.produceWithPatches=(t,r)=>{if(typeof t=="function")return(l,...o)=>this.produceWithPatches(l,u=>t(u,...o));let n,a;return[this.produce(t,r,(l,o)=>{n=l,a=o}),n,a]},typeof e?.autoFreeze=="boolean"&&this.setAutoFreeze(e.autoFreeze),typeof e?.useStrictShallowCopy=="boolean"&&this.setUseStrictShallowCopy(e.useStrictShallowCopy),typeof e?.useStrictIteration=="boolean"&&this.setUseStrictIteration(e.useStrictIteration)}createDraft(e){gf(e)||bc(8),J0(e)&&(e=cf(e));const t=XC(this),r=_N(e,void 0);return r[ao].isManual_=!0,wN(t),r}finishDraft(e,t){const r=e&&e[ao];(!r||!r.isManual_)&&bc(9);const{scope_:n}=r;return YC(n,t),QC(void 0,n)}setAutoFreeze(e){this.autoFreeze_=e}setUseStrictShallowCopy(e){this.useStrictShallowCopy_=e}setUseStrictIteration(e){this.useStrictIteration_=e}shouldUseStrictIteration(){return this.useStrictIteration_}applyPatches(e,t){let r;for(r=t.length-1;r>=0;r--){const a=t[r];if(a.path.length===0&&a.op==="replace"){e=a.value;break}}r>-1&&(t=t.slice(r+1));const n=eh("Patches").applyPatches_;return J0(e)?n(e,t):this.produce(e,a=>n(a,t))}};function _N(e,t){const r=Pg(e)?eh("MapSet").proxyMap_(e,t):y2(e)?eh("MapSet").proxySet_(e,t):Ooe(e,t);return(t?t.scope_:pM()).drafts_.push(r),r}function cf(e){return J0(e)||bc(10,e),gM(e)}function gM(e){if(!gf(e)||b2(e))return e;const t=e[ao];let r,n=!0;if(t){if(!t.modified_)return t.base_;t.finalized_=!0,r=yN(e,t.scope_.immer_.useStrictShallowCopy_),n=t.scope_.immer_.shouldUseStrictIteration()}else r=yN(e,!0);return py(r,(a,i)=>{mM(r,a,gM(i))},n),t&&(t.finalized_=!1),r}var Poe=new Foe,vM=Poe.produce;function yM(e){return({dispatch:r,getState:n})=>a=>i=>typeof i=="function"?i(r,n,e):a(i)}var Loe=yM(),Moe=yM,Roe=typeof window<"u"&&window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__?window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__:function(){if(arguments.length!==0)return typeof arguments[0]=="object"?my:my.apply(null,arguments)};function qo(e,t){function r(...n){if(t){let a=t(...n);if(!a)throw new Error(to(0));return{type:e,payload:a.payload,..."meta"in a&&{meta:a.meta},..."error"in a&&{error:a.error}}}return{type:e,payload:n[0]}}return r.toString=()=>`${e}`,r.type=e,r.match=n=>fM(n)&&n.type===e,r}var bM=class bx extends Array{constructor(...t){super(...t),Object.setPrototypeOf(this,bx.prototype)}static get[Symbol.species](){return bx}concat(...t){return super.concat.apply(this,t)}prepend(...t){return t.length===1&&Array.isArray(t[0])?new bx(...t[0].concat(this)):new bx(...t.concat(this))}};function JC(e){return gf(e)?vM(e,()=>{}):e}function uv(e,t,r){return e.has(t)?e.get(t):e.set(t,r(t)).get(t)}function Ioe(e){return typeof e=="boolean"}var Boe=()=>function(t){const{thunk:r=!0,immutableCheck:n=!0,serializableCheck:a=!0,actionCreatorCheck:i=!0}=t??{};let l=new bM;return r&&(Ioe(r)?l.push(Loe):l.push(Moe(r.extraArgument))),l},wM="RTK_autoBatch",Qs=()=>e=>({payload:e,meta:{[wM]:!0}}),e8=e=>t=>{setTimeout(t,e)},NM=(e={type:"raf"})=>t=>(...r)=>{const n=t(...r);let a=!0,i=!1,l=!1;const o=new Set,u=e.type==="tick"?queueMicrotask:e.type==="raf"?typeof window<"u"&&window.requestAnimationFrame?window.requestAnimationFrame:e8(10):e.type==="callback"?e.queueNotification:e8(e.timeout),f=()=>{l=!1,i&&(i=!1,o.forEach(h=>h()))};return Object.assign({},n,{subscribe(h){const m=()=>a&&h(),g=n.subscribe(m);return o.add(h),()=>{g(),o.delete(h)}},dispatch(h){try{return a=!h?.meta?.[wM],i=!a,i&&(l||(l=!0,u(f))),n.dispatch(h)}finally{a=!0}}})},Uoe=e=>function(r){const{autoBatch:n=!0}=r??{};let a=new bM(e);return n&&a.push(NM(typeof n=="object"?n:void 0)),a};function zoe(e){const t=Boe(),{reducer:r=void 0,middleware:n,devTools:a=!0,preloadedState:i=void 0,enhancers:l=void 0}=e||{};let o;if(typeof r=="function")o=r;else if(V3(r))o=uM(r);else throw new Error(to(1));let u;typeof n=="function"?u=n(t):u=t();let f=my;a&&(f=Roe({trace:!1,...typeof a=="object"&&a}));const h=joe(...u),m=Uoe(h);let g=typeof l=="function"?l(m):m();const x=f(...g);return cM(o,i,x)}function _M(e){const t={},r=[];let n;const a={addCase(i,l){const o=typeof i=="string"?i:i.type;if(!o)throw new Error(to(28));if(o in t)throw new Error(to(29));return t[o]=l,a},addAsyncThunk(i,l){return l.pending&&(t[i.pending.type]=l.pending),l.rejected&&(t[i.rejected.type]=l.rejected),l.fulfilled&&(t[i.fulfilled.type]=l.fulfilled),l.settled&&r.push({matcher:i.settled,reducer:l.settled}),a},addMatcher(i,l){return r.push({matcher:i,reducer:l}),a},addDefaultCase(i){return n=i,a}};return e(a),[t,r,n]}function qoe(e){return typeof e=="function"}function $oe(e,t){let[r,n,a]=_M(t),i;if(qoe(e))i=()=>JC(e());else{const o=JC(e);i=()=>o}function l(o=i(),u){let f=[r[u.type],...n.filter(({matcher:h})=>h(u)).map(({reducer:h})=>h)];return f.filter(h=>!!h).length===0&&(f=[a]),f.reduce((h,m)=>{if(m)if(J0(h)){const x=m(h,u);return x===void 0?h:x}else{if(gf(h))return vM(h,g=>m(g,u));{const g=m(h,u);if(g===void 0){if(h===null)return h;throw Error("A case reducer on a non-draftable value must not return undefined")}return g}}return h},o)}return l.getInitialState=i,l}var Hoe="ModuleSymbhasOwnPr-0123456789ABCDEFGHNRVfgctiUvz_KqYTJkLxpZXIjQW",Voe=(e=21)=>{let t="",r=e;for(;r--;)t+=Hoe[Math.random()*64|0];return t},Woe=Symbol.for("rtk-slice-createasyncthunk");function Goe(e,t){return`${e}/${t}`}function Koe({creators:e}={}){const t=e?.asyncThunk?.[Woe];return function(n){const{name:a,reducerPath:i=a}=n;if(!a)throw new Error(to(11));const l=(typeof n.reducers=="function"?n.reducers(Xoe()):n.reducers)||{},o=Object.keys(l),u={sliceCaseReducersByName:{},sliceCaseReducersByType:{},actionCreators:{},sliceMatchers:[]},f={addCase(j,T){const O=typeof j=="string"?j:j.type;if(!O)throw new Error(to(12));if(O in u.sliceCaseReducersByType)throw new Error(to(13));return u.sliceCaseReducersByType[O]=T,f},addMatcher(j,T){return u.sliceMatchers.push({matcher:j,reducer:T}),f},exposeAction(j,T){return u.actionCreators[j]=T,f},exposeCaseReducer(j,T){return u.sliceCaseReducersByName[j]=T,f}};o.forEach(j=>{const T=l[j],O={reducerName:j,type:Goe(a,j),createNotation:typeof n.reducers=="function"};Zoe(T)?ece(O,T,f,t):Qoe(O,T,f)});function h(){const[j={},T=[],O=void 0]=typeof n.extraReducers=="function"?_M(n.extraReducers):[n.extraReducers],F={...j,...u.sliceCaseReducersByType};return $oe(n.initialState,D=>{for(let L in F)D.addCase(L,F[L]);for(let L of u.sliceMatchers)D.addMatcher(L.matcher,L.reducer);for(let L of T)D.addMatcher(L.matcher,L.reducer);O&&D.addDefaultCase(O)})}const m=j=>j,g=new Map,x=new WeakMap;let b;function v(j,T){return b||(b=h()),b(j,T)}function w(){return b||(b=h()),b.getInitialState()}function N(j,T=!1){function O(D){let L=D[j];return typeof L>"u"&&T&&(L=uv(x,O,w)),L}function F(D=m){const L=uv(g,T,()=>new WeakMap);return uv(L,D,()=>{const B={};for(const[H,P]of Object.entries(n.selectors??{}))B[H]=Yoe(P,D,()=>uv(x,D,w),T);return B})}return{reducerPath:j,getSelectors:F,get selectors(){return F(O)},selectSlice:O}}const E={name:a,reducer:v,actions:u.actionCreators,caseReducers:u.sliceCaseReducersByName,getInitialState:w,...N(i),injectInto(j,{reducerPath:T,...O}={}){const F=T??i;return j.inject({reducerPath:F,reducer:v},O),{...E,...N(F,!0)}}};return E}}function Yoe(e,t,r,n){function a(i,...l){let o=t(i);return typeof o>"u"&&n&&(o=r()),e(o,...l)}return a.unwrapped=e,a}var so=Koe();function Xoe(){function e(t,r){return{_reducerDefinitionType:"asyncThunk",payloadCreator:t,...r}}return e.withTypes=()=>e,{reducer(t){return Object.assign({[t.name](...r){return t(...r)}}[t.name],{_reducerDefinitionType:"reducer"})},preparedReducer(t,r){return{_reducerDefinitionType:"reducerWithPrepare",prepare:t,reducer:r}},asyncThunk:e}}function Qoe({type:e,reducerName:t,createNotation:r},n,a){let i,l;if("reducer"in n){if(r&&!Joe(n))throw new Error(to(17));i=n.reducer,l=n.prepare}else i=n;a.addCase(e,i).exposeCaseReducer(t,i).exposeAction(t,l?qo(e,l):qo(e))}function Zoe(e){return e._reducerDefinitionType==="asyncThunk"}function Joe(e){return e._reducerDefinitionType==="reducerWithPrepare"}function ece({type:e,reducerName:t},r,n,a){if(!a)throw new Error(to(18));const{payloadCreator:i,fulfilled:l,pending:o,rejected:u,settled:f,options:h}=r,m=a(e,i,h);n.exposeAction(t,m),l&&n.addCase(m.fulfilled,l),o&&n.addCase(m.pending,o),u&&n.addCase(m.rejected,u),f&&n.addMatcher(m.settled,f),n.exposeCaseReducer(t,{fulfilled:l||fv,pending:o||fv,rejected:u||fv,settled:f||fv})}function fv(){}var tce="task",jM="listener",SM="completed",K3="cancelled",rce=`task-${K3}`,nce=`task-${SM}`,jN=`${jM}-${K3}`,ace=`${jM}-${SM}`,w2=class{constructor(e){this.code=e,this.message=`${tce} ${K3} (reason: ${e})`}name="TaskAbortError";message},Y3=(e,t)=>{if(typeof e!="function")throw new TypeError(to(32))},vy=()=>{},AM=(e,t=vy)=>(e.catch(t),e),EM=(e,t)=>(e.addEventListener("abort",t,{once:!0}),()=>e.removeEventListener("abort",t)),L0=(e,t)=>{const r=e.signal;r.aborted||("reason"in r||Object.defineProperty(r,"reason",{enumerable:!0,value:t,configurable:!0,writable:!0}),e.abort(t))},M0=e=>{if(e.aborted){const{reason:t}=e;throw new w2(t)}};function kM(e,t){let r=vy;return new Promise((n,a)=>{const i=()=>a(new w2(e.reason));if(e.aborted){i();return}r=EM(e,i),t.finally(()=>r()).then(n,a)}).finally(()=>{r=vy})}var ice=async(e,t)=>{try{return await Promise.resolve(),{status:"ok",value:await e()}}catch(r){return{status:r instanceof w2?"cancelled":"rejected",error:r}}finally{t?.()}},yy=e=>t=>AM(kM(e,t).then(r=>(M0(e),r))),CM=e=>{const t=yy(e);return r=>t(new Promise(n=>setTimeout(n,r)))},{assign:Fm}=Object,t8={},N2="listenerMiddleware",sce=(e,t)=>{const r=n=>EM(e,()=>L0(n,e.reason));return(n,a)=>{Y3(n);const i=new AbortController;r(i);const l=ice(async()=>{M0(e),M0(i.signal);const o=await n({pause:yy(i.signal),delay:CM(i.signal),signal:i.signal});return M0(i.signal),o},()=>L0(i,nce));return a?.autoJoin&&t.push(l.catch(vy)),{result:yy(e)(l),cancel(){L0(i,rce)}}}},lce=(e,t)=>{const r=async(n,a)=>{M0(t);let i=()=>{};const o=[new Promise((u,f)=>{let h=e({predicate:n,effect:(m,g)=>{g.unsubscribe(),u([m,g.getState(),g.getOriginalState()])}});i=()=>{h(),f()}})];a!=null&&o.push(new Promise(u=>setTimeout(u,a,null)));try{const u=await kM(t,Promise.race(o));return M0(t),u}finally{i()}};return(n,a)=>AM(r(n,a))},TM=e=>{let{type:t,actionCreator:r,matcher:n,predicate:a,effect:i}=e;if(t)a=qo(t).match;else if(r)t=r.type,a=r.match;else if(n)a=n;else if(!a)throw new Error(to(21));return Y3(i),{predicate:a,type:t,effect:i}},OM=Fm(e=>{const{type:t,predicate:r,effect:n}=TM(e);return{id:Voe(),effect:n,type:t,predicate:r,pending:new Set,unsubscribe:()=>{throw new Error(to(22))}}},{withTypes:()=>OM}),r8=(e,t)=>{const{type:r,effect:n,predicate:a}=TM(t);return Array.from(e.values()).find(i=>(typeof r=="string"?i.type===r:i.predicate===a)&&i.effect===n)},SN=e=>{e.pending.forEach(t=>{L0(t,jN)})},oce=(e,t)=>()=>{for(const r of t.keys())SN(r);e.clear()},n8=(e,t,r)=>{try{e(t,r)}catch(n){setTimeout(()=>{throw n},0)}},DM=Fm(qo(`${N2}/add`),{withTypes:()=>DM}),cce=qo(`${N2}/removeAll`),FM=Fm(qo(`${N2}/remove`),{withTypes:()=>FM}),uce=(...e)=>{console.error(`${N2}/error`,...e)},Lg=(e={})=>{const t=new Map,r=new Map,n=x=>{const b=r.get(x)??0;r.set(x,b+1)},a=x=>{const b=r.get(x)??1;b===1?r.delete(x):r.set(x,b-1)},{extra:i,onError:l=uce}=e;Y3(l);const o=x=>(x.unsubscribe=()=>t.delete(x.id),t.set(x.id,x),b=>{x.unsubscribe(),b?.cancelActive&&SN(x)}),u=x=>{const b=r8(t,x)??OM(x);return o(b)};Fm(u,{withTypes:()=>u});const f=x=>{const b=r8(t,x);return b&&(b.unsubscribe(),x.cancelActive&&SN(b)),!!b};Fm(f,{withTypes:()=>f});const h=async(x,b,v,w)=>{const N=new AbortController,E=lce(u,N.signal),j=[];try{x.pending.add(N),n(x),await Promise.resolve(x.effect(b,Fm({},v,{getOriginalState:w,condition:(T,O)=>E(T,O).then(Boolean),take:E,delay:CM(N.signal),pause:yy(N.signal),extra:i,signal:N.signal,fork:sce(N.signal,j),unsubscribe:x.unsubscribe,subscribe:()=>{t.set(x.id,x)},cancelActiveListeners:()=>{x.pending.forEach((T,O,F)=>{T!==N&&(L0(T,jN),F.delete(T))})},cancel:()=>{L0(N,jN),x.pending.delete(N)},throwIfCancelled:()=>{M0(N.signal)}})))}catch(T){T instanceof w2||n8(l,T,{raisedBy:"effect"})}finally{await Promise.all(j),L0(N,ace),a(x),x.pending.delete(N)}},m=oce(t,r);return{middleware:x=>b=>v=>{if(!fM(v))return b(v);if(DM.match(v))return u(v.payload);if(cce.match(v)){m();return}if(FM.match(v))return f(v.payload);let w=x.getState();const N=()=>{if(w===t8)throw new Error(to(23));return w};let E;try{if(E=b(v),t.size>0){const j=x.getState(),T=Array.from(t.values());for(const O of T){let F=!1;try{F=O.predicate(v,j,w)}catch(D){F=!1,n8(l,D,{raisedBy:"predicate"})}F&&h(O,v,x,N)}}}finally{w=t8}return E},startListening:u,stopListening:f,clearListeners:m}};function to(e){return`Minified Redux Toolkit error #${e}; visit https://redux-toolkit.js.org/Errors?code=${e} for the full message or use the non-minified dev environment for full errors. `}var fce={layoutType:"horizontal",width:0,height:0,margin:{top:5,right:5,bottom:5,left:5},scale:1},PM=so({name:"chartLayout",initialState:fce,reducers:{setLayout(e,t){e.layoutType=t.payload},setChartSize(e,t){e.width=t.payload.width,e.height=t.payload.height},setMargin(e,t){var r,n,a,i;e.margin.top=(r=t.payload.top)!==null&&r!==void 0?r:0,e.margin.right=(n=t.payload.right)!==null&&n!==void 0?n:0,e.margin.bottom=(a=t.payload.bottom)!==null&&a!==void 0?a:0,e.margin.left=(i=t.payload.left)!==null&&i!==void 0?i:0},setScale(e,t){e.scale=t.payload}}}),{setMargin:dce,setLayout:hce,setChartSize:mce,setScale:pce}=PM.actions,xce=PM.reducer;function a8(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function i8(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?a8(Object(r),!0).forEach(function(n){gce(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):a8(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function gce(e,t,r){return(t=vce(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function vce(e){var t=yce(e,"string");return typeof t=="symbol"?t:t+""}function yce(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var by=Math.PI/180,bce=e=>e*180/Math.PI,ii=(e,t,r,n)=>({x:e+Math.cos(-by*n)*r,y:t+Math.sin(-by*n)*r}),LM=function(t,r){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{top:0,right:0,bottom:0,left:0};return Math.min(Math.abs(t-(n.left||0)-(n.right||0)),Math.abs(r-(n.top||0)-(n.bottom||0)))/2},wce=(e,t)=>{var{x:r,y:n}=e,{x:a,y:i}=t;return Math.sqrt((r-a)**2+(n-i)**2)},Nce=(e,t)=>{var{x:r,y:n}=e,{cx:a,cy:i}=t,l=wce({x:r,y:n},{x:a,y:i});if(l<=0)return{radius:l,angle:0};var o=(r-a)/l,u=Math.acos(o);return n>i&&(u=2*Math.PI-u),{radius:l,angle:bce(u),angleInRadian:u}},_ce=e=>{var{startAngle:t,endAngle:r}=e,n=Math.floor(t/360),a=Math.floor(r/360),i=Math.min(n,a);return{startAngle:t-i*360,endAngle:r-i*360}},jce=(e,t)=>{var{startAngle:r,endAngle:n}=t,a=Math.floor(r/360),i=Math.floor(n/360),l=Math.min(a,i);return e+l*360},Sce=(e,t)=>{var{x:r,y:n}=e,{radius:a,angle:i}=Nce({x:r,y:n},t),{innerRadius:l,outerRadius:o}=t;if(a<l||a>o||a===0)return null;var{startAngle:u,endAngle:f}=_ce(t),h=i,m;if(u<=f){for(;h>f;)h-=360;for(;h<u;)h+=360;m=h>=u&&h<=f}else{for(;h>u;)h-=360;for(;h<f;)h+=360;m=h>=f&&h<=u}return m?i8(i8({},t),{},{radius:a,angle:jce(h,t)}):null};function MM(e,t,r){return Array.isArray(e)&&e&&t+r!==0?e.slice(t,r+1):e}function s8(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function Mo(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?s8(Object(r),!0).forEach(function(n){Ace(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):s8(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Ace(e,t,r){return(t=Ece(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Ece(e){var t=kce(e,"string");return typeof t=="symbol"?t:t+""}function kce(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Hn(e,t,r){return ha(e)||ha(t)?r:hu(t)?Z0(e,t,r):typeof t=="function"?t(e):r}var Cce=(e,t,r,n,a)=>{var i,l=-1,o=(i=t?.length)!==null&&i!==void 0?i:0;if(o<=1||e==null)return 0;if(n==="angleAxis"&&a!=null&&Math.abs(Math.abs(a[1]-a[0])-360)<=1e-6)for(var u=0;u<o;u++){var f=u>0?r[u-1].coordinate:r[o-1].coordinate,h=r[u].coordinate,m=u>=o-1?r[0].coordinate:r[u+1].coordinate,g=void 0;if(qi(h-f)!==qi(m-h)){var x=[];if(qi(m-h)===qi(a[1]-a[0])){g=m;var b=h+a[1]-a[0];x[0]=Math.min(b,(b+f)/2),x[1]=Math.max(b,(b+f)/2)}else{g=f;var v=m+a[1]-a[0];x[0]=Math.min(h,(v+h)/2),x[1]=Math.max(h,(v+h)/2)}var w=[Math.min(h,(g+h)/2),Math.max(h,(g+h)/2)];if(e>w[0]&&e<=w[1]||e>=x[0]&&e<=x[1]){({index:l}=r[u]);break}}else{var N=Math.min(f,m),E=Math.max(f,m);if(e>(N+h)/2&&e<=(E+h)/2){({index:l}=r[u]);break}}}else if(t){for(var j=0;j<o;j++)if(j===0&&e<=(t[j].coordinate+t[j+1].coordinate)/2||j>0&&j<o-1&&e>(t[j].coordinate+t[j-1].coordinate)/2&&e<=(t[j].coordinate+t[j+1].coordinate)/2||j===o-1&&e>(t[j].coordinate+t[j-1].coordinate)/2){({index:l}=t[j]);break}}return l},Tce=(e,t,r)=>{if(t&&r){var{width:n,height:a}=r,{align:i,verticalAlign:l,layout:o}=t;if((o==="vertical"||o==="horizontal"&&l==="middle")&&i!=="center"&&Qt(e[i]))return Mo(Mo({},e),{},{[i]:e[i]+(n||0)});if((o==="horizontal"||o==="vertical"&&i==="center")&&l!=="middle"&&Qt(e[l]))return Mo(Mo({},e),{},{[l]:e[l]+(a||0)})}return e},zd=(e,t)=>e==="horizontal"&&t==="xAxis"||e==="vertical"&&t==="yAxis"||e==="centric"&&t==="angleAxis"||e==="radial"&&t==="radiusAxis",RM=(e,t,r,n)=>{if(n)return e.map(o=>o.coordinate);var a,i,l=e.map(o=>(o.coordinate===t&&(a=!0),o.coordinate===r&&(i=!0),o.coordinate));return a||l.push(t),i||l.push(r),l},IM=(e,t,r)=>{if(!e)return null;var{duplicateDomain:n,type:a,range:i,scale:l,realScaleType:o,isCategorical:u,categoricalDomain:f,tickCount:h,ticks:m,niceTicks:g,axisType:x}=e;if(!l)return null;var b=o==="scaleBand"&&l.bandwidth?l.bandwidth()/2:2,v=a==="category"&&l.bandwidth?l.bandwidth()/b:0;if(v=x==="angleAxis"&&i&&i.length>=2?qi(i[0]-i[1])*2*v:v,m||g){var w=(m||g||[]).map((N,E)=>{var j=n?n.indexOf(N):N;return{coordinate:l(j)+v,value:N,offset:v,index:E}});return w.filter(N=>!zo(N.coordinate))}return u&&f?f.map((N,E)=>({coordinate:l(N)+v,value:N,index:E,offset:v})):l.ticks&&h!=null?l.ticks(h).map((N,E)=>({coordinate:l(N)+v,value:N,offset:v,index:E})):l.domain().map((N,E)=>({coordinate:l(N)+v,value:n?n[N]:N,index:E,offset:v}))},l8=1e-4,Oce=e=>{var t=e.domain();if(!(!t||t.length<=2)){var r=t.length,n=e.range(),a=Math.min(n[0],n[1])-l8,i=Math.max(n[0],n[1])+l8,l=e(t[0]),o=e(t[r-1]);(l<a||l>i||o<a||o>i)&&e.domain([t[0],t[r-1]])}},Dce=(e,t)=>{if(!t||t.length!==2||!Qt(t[0])||!Qt(t[1]))return e;var r=Math.min(t[0],t[1]),n=Math.max(t[0],t[1]),a=[e[0],e[1]];return(!Qt(e[0])||e[0]<r)&&(a[0]=r),(!Qt(e[1])||e[1]>n)&&(a[1]=n),a[0]>n&&(a[0]=n),a[1]<r&&(a[1]=r),a},Fce=e=>{var t=e.length;if(!(t<=0))for(var r=0,n=e[0].length;r<n;++r)for(var a=0,i=0,l=0;l<t;++l){var o=zo(e[l][r][1])?e[l][r][0]:e[l][r][1];o>=0?(e[l][r][0]=a,e[l][r][1]=a+o,a=e[l][r][1]):(e[l][r][0]=i,e[l][r][1]=i+o,i=e[l][r][1])}},Pce=e=>{var t=e.length;if(!(t<=0))for(var r=0,n=e[0].length;r<n;++r)for(var a=0,i=0;i<t;++i){var l=zo(e[i][r][1])?e[i][r][0]:e[i][r][1];l>=0?(e[i][r][0]=a,e[i][r][1]=a+l,a=e[i][r][1]):(e[i][r][0]=0,e[i][r][1]=0)}},Lce={sign:Fce,expand:ile,none:Vm,silhouette:sle,wiggle:lle,positive:Pce},Mce=(e,t,r)=>{var n=Lce[r],a=ale().keys(t).value((i,l)=>+Hn(i,l,0)).order(pN).offset(n);return a(e)};function Rce(e){return e==null?void 0:String(e)}function o8(e){var{axis:t,ticks:r,bandSize:n,entry:a,index:i,dataKey:l}=e;if(t.type==="category"){if(!t.allowDuplicatedCategory&&t.dataKey&&!ha(a[t.dataKey])){var o=WL(r,"value",a[t.dataKey]);if(o)return o.coordinate+n/2}return r[i]?r[i].coordinate+n/2:null}var u=Hn(a,ha(l)?t.dataKey:l);return ha(u)?null:t.scale(u)}var c8=e=>{var{axis:t,ticks:r,offset:n,bandSize:a,entry:i,index:l}=e;if(t.type==="category")return r[l]?r[l].coordinate+n:null;var o=Hn(i,t.dataKey,t.scale.domain()[l]);return ha(o)?null:t.scale(o)-a/2+n},Ice=e=>{var{numericAxis:t}=e,r=t.scale.domain();if(t.type==="number"){var n=Math.min(r[0],r[1]),a=Math.max(r[0],r[1]);return n<=0&&a>=0?0:a<0?a:n}return r[0]},Bce=e=>{var t=e.flat(2).filter(Qt);return[Math.min(...t),Math.max(...t)]},Uce=e=>[e[0]===1/0?0:e[0],e[1]===-1/0?0:e[1]],zce=(e,t,r)=>{if(e!=null)return Uce(Object.keys(e).reduce((n,a)=>{var i=e[a],{stackedData:l}=i,o=l.reduce((u,f)=>{var h=MM(f,t,r),m=Bce(h);return[Math.min(u[0],m[0]),Math.max(u[1],m[1])]},[1/0,-1/0]);return[Math.min(o[0],n[0]),Math.max(o[1],n[1])]},[1/0,-1/0]))},u8=/^dataMin[\s]*-[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,f8=/^dataMax[\s]*\+[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,cg=(e,t,r)=>{if(e&&e.scale&&e.scale.bandwidth){var n=e.scale.bandwidth();if(!r||n>0)return n}if(e&&t&&t.length>=2){for(var a=g2(t,h=>h.coordinate),i=1/0,l=1,o=a.length;l<o;l++){var u=a[l],f=a[l-1];i=Math.min((u.coordinate||0)-(f.coordinate||0),i)}return i===1/0?0:i}return r?void 0:0};function d8(e){var{tooltipEntrySettings:t,dataKey:r,payload:n,value:a,name:i}=e;return Mo(Mo({},t),{},{dataKey:r,payload:n,value:a,name:i})}function up(e,t){if(e)return String(e);if(typeof t=="string")return t}function qce(e,t,r,n,a){if(r==="horizontal"||r==="vertical"){var i=e>=a.left&&e<=a.left+a.width&&t>=a.top&&t<=a.top+a.height;return i?{x:e,y:t}:null}return n?Sce({x:e,y:t},n):null}var $ce=(e,t,r,n)=>{var a=t.find(f=>f&&f.index===r);if(a){if(e==="horizontal")return{x:a.coordinate,y:n.y};if(e==="vertical")return{x:n.x,y:a.coordinate};if(e==="centric"){var i=a.coordinate,{radius:l}=n;return Mo(Mo(Mo({},n),ii(n.cx,n.cy,l,i)),{},{angle:i,radius:l})}var o=a.coordinate,{angle:u}=n;return Mo(Mo(Mo({},n),ii(n.cx,n.cy,o,u)),{},{angle:u,radius:o})}return{x:0,y:0}},Hce=(e,t)=>t==="horizontal"?e.x:t==="vertical"?e.y:t==="centric"?e.angle:e.radius,Ef=e=>e.layout.width,kf=e=>e.layout.height,Vce=e=>e.layout.scale,BM=e=>e.layout.margin,_2=He(e=>e.cartesianAxis.xAxis,e=>Object.values(e)),j2=He(e=>e.cartesianAxis.yAxis,e=>Object.values(e)),UM="data-recharts-item-index",zM="data-recharts-item-data-key",Mg=60;function h8(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function dv(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?h8(Object(r),!0).forEach(function(n){Wce(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):h8(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Wce(e,t,r){return(t=Gce(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Gce(e){var t=Kce(e,"string");return typeof t=="symbol"?t:t+""}function Kce(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Yce=e=>e.brush.height;function Xce(e){var t=j2(e);return t.reduce((r,n)=>{if(n.orientation==="left"&&!n.mirror&&!n.hide){var a=typeof n.width=="number"?n.width:Mg;return r+a}return r},0)}function Qce(e){var t=j2(e);return t.reduce((r,n)=>{if(n.orientation==="right"&&!n.mirror&&!n.hide){var a=typeof n.width=="number"?n.width:Mg;return r+a}return r},0)}function Zce(e){var t=_2(e);return t.reduce((r,n)=>n.orientation==="top"&&!n.mirror&&!n.hide?r+n.height:r,0)}function Jce(e){var t=_2(e);return t.reduce((r,n)=>n.orientation==="bottom"&&!n.mirror&&!n.hide?r+n.height:r,0)}var Ai=He([Ef,kf,BM,Yce,Xce,Qce,Zce,Jce,lM,goe],(e,t,r,n,a,i,l,o,u,f)=>{var h={left:(r.left||0)+a,right:(r.right||0)+i},m={top:(r.top||0)+l,bottom:(r.bottom||0)+o},g=dv(dv({},m),h),x=g.bottom;g.bottom+=n,g=Tce(g,u,f);var b=e-g.left-g.right,v=t-g.top-g.bottom;return dv(dv({brushBottom:x},g),{},{width:Math.max(b,0),height:Math.max(v,0)})}),eue=He(Ai,e=>({x:e.left,y:e.top,width:e.width,height:e.height})),X3=He(Ef,kf,(e,t)=>({x:0,y:0,width:e,height:t})),tue=k.createContext(null),nl=()=>k.useContext(tue)!=null,S2=e=>e.brush,A2=He([S2,Ai,BM],(e,t,r)=>({height:e.height,x:Qt(e.x)?e.x:t.left,y:Qt(e.y)?e.y:t.top+t.height+t.brushBottom-(r?.bottom||0),width:Qt(e.width)?e.width:t.width})),M5={},R5={},I5={},m8;function rue(){return m8||(m8=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r,n,{signal:a,edges:i}={}){let l,o=null;const u=i!=null&&i.includes("leading"),f=i==null||i.includes("trailing"),h=()=>{o!==null&&(r.apply(l,o),l=void 0,o=null)},m=()=>{f&&h(),v()};let g=null;const x=()=>{g!=null&&clearTimeout(g),g=setTimeout(()=>{g=null,m()},n)},b=()=>{g!==null&&(clearTimeout(g),g=null)},v=()=>{b(),l=void 0,o=null},w=()=>{h()},N=function(...E){if(a?.aborted)return;l=this,o=E;const j=g==null;x(),u&&j&&h()};return N.schedule=x,N.cancel=v,N.flush=w,a?.addEventListener("abort",v,{once:!0}),N}e.debounce=t})(I5)),I5}var p8;function nue(){return p8||(p8=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=rue();function r(n,a=0,i={}){typeof i!="object"&&(i={});const{leading:l=!1,trailing:o=!0,maxWait:u}=i,f=Array(2);l&&(f[0]="leading"),o&&(f[1]="trailing");let h,m=null;const g=t.debounce(function(...v){h=n.apply(this,v),m=null},a,{edges:f}),x=function(...v){return u!=null&&(m===null&&(m=Date.now()),Date.now()-m>=u)?(h=n.apply(this,v),m=Date.now(),g.cancel(),g.schedule(),h):(g.apply(this,v),h)},b=()=>(g.flush(),h);return x.cancel=g.cancel,x.flush=b,x}e.debounce=r})(R5)),R5}var x8;function aue(){return x8||(x8=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=nue();function r(n,a=0,i={}){const{leading:l=!0,trailing:o=!0}=i;return t.debounce(n,a,{leading:l,maxWait:a,trailing:o})}e.throttle=r})(M5)),M5}var B5,g8;function iue(){return g8||(g8=1,B5=aue().throttle),B5}var sue=iue();const lue=Nf(sue);var wy=function(t,r){for(var n=arguments.length,a=new Array(n>2?n-2:0),i=2;i<n;i++)a[i-2]=arguments[i]},qM=(e,t,r)=>{var{width:n="100%",height:a="100%",aspect:i,maxHeight:l}=r,o=xf(n)?e:Number(n),u=xf(a)?t:Number(a);return i&&i>0&&(o?u=o/i:u&&(o=u*i),l&&u>l&&(u=l)),{calculatedWidth:o,calculatedHeight:u}},oue={width:0,height:0,overflow:"visible"},cue={width:0,overflowX:"visible"},uue={height:0,overflowY:"visible"},fue={},due=e=>{var{width:t,height:r}=e,n=xf(t),a=xf(r);return n&&a?oue:n?cue:a?uue:fue};function hue(e){var{width:t,height:r,aspect:n}=e,a=t,i=r;return a===void 0&&i===void 0?(a="100%",i="100%"):a===void 0?a=n&&n>0?void 0:"100%":i===void 0&&(i=n&&n>0?void 0:"100%"),{width:a,height:i}}function Ps(e){return Number.isFinite(e)}function Wm(e){return typeof e=="number"&&e>0&&Number.isFinite(e)}function AN(){return AN=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},AN.apply(null,arguments)}function v8(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function y8(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?v8(Object(r),!0).forEach(function(n){mue(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):v8(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function mue(e,t,r){return(t=pue(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function pue(e){var t=xue(e,"string");return typeof t=="symbol"?t:t+""}function xue(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var $M=k.createContext({width:-1,height:-1});function HM(e){var{children:t,width:r,height:n}=e,a=k.useMemo(()=>({width:r,height:n}),[r,n]);return r<=0||n<=0?null:k.createElement($M.Provider,{value:a},t)}var Q3=()=>k.useContext($M),gue=k.forwardRef((e,t)=>{var{aspect:r,initialDimension:n={width:-1,height:-1},width:a,height:i,minWidth:l=0,minHeight:o,maxHeight:u,children:f,debounce:h=0,id:m,className:g,onResize:x,style:b={}}=e,v=k.useRef(null),w=k.useRef();w.current=x,k.useImperativeHandle(t,()=>v.current);var[N,E]=k.useState({containerWidth:n.width,containerHeight:n.height}),j=k.useCallback((L,B)=>{E(H=>{var P=Math.round(L),U=Math.round(B);return H.containerWidth===P&&H.containerHeight===U?H:{containerWidth:P,containerHeight:U}})},[]);k.useEffect(()=>{var L=U=>{var K,{width:ee,height:me}=U[0].contentRect;j(ee,me),(K=w.current)===null||K===void 0||K.call(w,ee,me)};h>0&&(L=lue(L,h,{trailing:!0,leading:!1}));var B=new ResizeObserver(L),{width:H,height:P}=v.current.getBoundingClientRect();return j(H,P),B.observe(v.current),()=>{B.disconnect()}},[j,h]);var{containerWidth:T,containerHeight:O}=N;wy(!r||r>0,"The aspect(%s) must be greater than zero.",r);var{calculatedWidth:F,calculatedHeight:D}=qM(T,O,{width:a,height:i,aspect:r,maxHeight:u});return wy(F>0||D>0,`The width(%s) and height(%s) of chart should be greater than 0,
       please check the style of container, or the props width(%s) and height(%s),
       or add a minWidth(%s) or minHeight(%s) or use aspect(%s) to control the
       height and width.`,F,D,a,i,l,o,r),k.createElement("div",{id:m?"".concat(m):void 0,className:an("recharts-responsive-container",g),style:y8(y8({},b),{},{width:a,height:i,minWidth:l,minHeight:o,maxHeight:u}),ref:v},k.createElement("div",{style:due({width:a,height:i})},k.createElement(HM,{width:F,height:D},f)))}),U5=k.forwardRef((e,t)=>{var r=Q3();if(Wm(r.width)&&Wm(r.height))return e.children;var{width:n,height:a}=hue({width:e.width,height:e.height,aspect:e.aspect}),{calculatedWidth:i,calculatedHeight:l}=qM(void 0,void 0,{width:n,height:a,aspect:e.aspect,maxHeight:e.maxHeight});return Qt(i)&&Qt(l)?k.createElement(HM,{width:i,height:l},e.children):k.createElement(gue,AN({},e,{width:n,height:a,ref:t}))}),E2=()=>{var e,t=nl(),r=Ht(eue),n=Ht(A2),a=(e=Ht(S2))===null||e===void 0?void 0:e.padding;return!t||!n||!a?r:{width:n.width-a.left-a.right,height:n.height-a.top-a.bottom,x:a.left,y:a.top}},vue={top:0,bottom:0,left:0,right:0,width:0,height:0,brushBottom:0},VM=()=>{var e;return(e=Ht(Ai))!==null&&e!==void 0?e:vue},Z3=()=>Ht(Ef),J3=()=>Ht(kf),yue=()=>Ht(e=>e.layout.margin),Gr=e=>e.layout.layoutType,k2=()=>Ht(Gr),C2=e=>{var t=pa(),r=nl(),{width:n,height:a}=e,i=Q3(),l=n,o=a;return i&&(l=i.width>0?i.width:n,o=i.height>0?i.height:a),k.useEffect(()=>{!r&&Wm(l)&&Wm(o)&&t(mce({width:l,height:o}))},[t,r,l,o]),null},bue={settings:{layout:"horizontal",align:"center",verticalAlign:"middle",itemSorter:"value"},size:{width:0,height:0},payload:[]},WM=so({name:"legend",initialState:bue,reducers:{setLegendSize(e,t){e.size.width=t.payload.width,e.size.height=t.payload.height},setLegendSettings(e,t){e.settings.align=t.payload.align,e.settings.layout=t.payload.layout,e.settings.verticalAlign=t.payload.verticalAlign,e.settings.itemSorter=t.payload.itemSorter},addLegendPayload:{reducer(e,t){e.payload.push(t.payload)},prepare:Qs()},removeLegendPayload:{reducer(e,t){var r=cf(e).payload.indexOf(t.payload);r>-1&&e.payload.splice(r,1)},prepare:Qs()}}}),{setLegendSize:b8,setLegendSettings:wue,addLegendPayload:GM,removeLegendPayload:KM}=WM.actions,Nue=WM.reducer,_ue=["contextPayload"];function EN(){return EN=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},EN.apply(null,arguments)}function w8(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function Gm(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?w8(Object(r),!0).forEach(function(n){ej(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):w8(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function ej(e,t,r){return(t=jue(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function jue(e){var t=Sue(e,"string");return typeof t=="symbol"?t:t+""}function Sue(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Aue(e,t){if(e==null)return{};var r,n,a=Eue(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}function Eue(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}function kue(e){return e.value}function Cue(e){var{contextPayload:t}=e,r=Aue(e,_ue),n=nM(t,e.payloadUniqBy,kue),a=Gm(Gm({},r),{},{payload:n});return k.isValidElement(e.content)?k.cloneElement(e.content,a):typeof e.content=="function"?k.createElement(e.content,a):k.createElement(q3,a)}function Tue(e,t,r,n,a,i){var{layout:l,align:o,verticalAlign:u}=t,f,h;return(!e||(e.left===void 0||e.left===null)&&(e.right===void 0||e.right===null))&&(o==="center"&&l==="vertical"?f={left:((n||0)-i.width)/2}:f=o==="right"?{right:r&&r.right||0}:{left:r&&r.left||0}),(!e||(e.top===void 0||e.top===null)&&(e.bottom===void 0||e.bottom===null))&&(u==="middle"?h={top:((a||0)-i.height)/2}:h=u==="bottom"?{bottom:r&&r.bottom||0}:{top:r&&r.top||0}),Gm(Gm({},f),h)}function Oue(e){var t=pa();return k.useEffect(()=>{t(wue(e))},[t,e]),null}function Due(e){var t=pa();return k.useEffect(()=>(t(b8(e)),()=>{t(b8({width:0,height:0}))}),[t,e]),null}function Fue(e){var t=boe(),r=kse(),n=yue(),{width:a,height:i,wrapperStyle:l,portal:o}=e,[u,f]=oM([t]),h=Z3(),m=J3();if(h==null||m==null)return null;var g=h-(n.left||0)-(n.right||0),x=ug.getWidthOrHeight(e.layout,i,a,g),b=o?l:Gm(Gm({position:"absolute",width:x?.width||a||"auto",height:x?.height||i||"auto"},Tue(l,e,n,h,m,u)),l),v=o??r;if(v==null)return null;var w=k.createElement("div",{className:"recharts-legend-wrapper",style:b,ref:f},k.createElement(Oue,{layout:e.layout,align:e.align,verticalAlign:e.verticalAlign,itemSorter:e.itemSorter}),k.createElement(Due,{width:u.width,height:u.height}),k.createElement(Cue,EN({},e,x,{margin:n,chartWidth:h,chartHeight:m,contextPayload:t})));return $D.createPortal(w,v)}class ug extends k.PureComponent{static getWidthOrHeight(t,r,n,a){return t==="vertical"&&Qt(r)?{height:r}:t==="horizontal"?{width:n||a}:null}render(){return k.createElement(Fue,this.props)}}ej(ug,"displayName","Legend");ej(ug,"defaultProps",{align:"center",iconSize:14,itemSorter:"value",layout:"horizontal",verticalAlign:"bottom"});function kN(){return kN=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},kN.apply(null,arguments)}function N8(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function z5(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?N8(Object(r),!0).forEach(function(n){Pue(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):N8(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Pue(e,t,r){return(t=Lue(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Lue(e){var t=Mue(e,"string");return typeof t=="symbol"?t:t+""}function Mue(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Rue(e){return Array.isArray(e)&&hu(e[0])&&hu(e[1])?e.join(" ~ "):e}var Iue=e=>{var{separator:t=" : ",contentStyle:r={},itemStyle:n={},labelStyle:a={},payload:i,formatter:l,itemSorter:o,wrapperClassName:u,labelClassName:f,label:h,labelFormatter:m,accessibilityLayer:g=!1}=e,x=()=>{if(i&&i.length){var O={padding:0,margin:0},F=(o?g2(i,o):i).map((D,L)=>{if(D.type==="none")return null;var B=D.formatter||l||Rue,{value:H,name:P}=D,U=H,K=P;if(B){var ee=B(H,P,D,L,i);if(Array.isArray(ee))[U,K]=ee;else if(ee!=null)U=ee;else return null}var me=z5({display:"block",paddingTop:4,paddingBottom:4,color:D.color||"#000"},n);return k.createElement("li",{className:"recharts-tooltip-item",key:"tooltip-item-".concat(L),style:me},hu(K)?k.createElement("span",{className:"recharts-tooltip-item-name"},K):null,hu(K)?k.createElement("span",{className:"recharts-tooltip-item-separator"},t):null,k.createElement("span",{className:"recharts-tooltip-item-value"},U),k.createElement("span",{className:"recharts-tooltip-item-unit"},D.unit||""))});return k.createElement("ul",{className:"recharts-tooltip-item-list",style:O},F)}return null},b=z5({margin:0,padding:10,backgroundColor:"#fff",border:"1px solid #ccc",whiteSpace:"nowrap"},r),v=z5({margin:0},a),w=!ha(h),N=w?h:"",E=an("recharts-default-tooltip",u),j=an("recharts-tooltip-label",f);w&&m&&i!==void 0&&i!==null&&(N=m(h,i));var T=g?{role:"status","aria-live":"assertive"}:{};return k.createElement("div",kN({className:E,style:b},T),k.createElement("p",{className:j,style:v},k.isValidElement(N)?N:"".concat(N)),x())},lx="recharts-tooltip-wrapper",Bue={visibility:"hidden"};function Uue(e){var{coordinate:t,translateX:r,translateY:n}=e;return an(lx,{["".concat(lx,"-right")]:Qt(r)&&t&&Qt(t.x)&&r>=t.x,["".concat(lx,"-left")]:Qt(r)&&t&&Qt(t.x)&&r<t.x,["".concat(lx,"-bottom")]:Qt(n)&&t&&Qt(t.y)&&n>=t.y,["".concat(lx,"-top")]:Qt(n)&&t&&Qt(t.y)&&n<t.y})}function _8(e){var{allowEscapeViewBox:t,coordinate:r,key:n,offsetTopLeft:a,position:i,reverseDirection:l,tooltipDimension:o,viewBox:u,viewBoxDimension:f}=e;if(i&&Qt(i[n]))return i[n];var h=r[n]-o-(a>0?a:0),m=r[n]+a;if(t[n])return l[n]?h:m;var g=u[n];if(g==null)return 0;if(l[n]){var x=h,b=g;return x<b?Math.max(m,g):Math.max(h,g)}if(f==null)return 0;var v=m+o,w=g+f;return v>w?Math.max(h,g):Math.max(m,g)}function zue(e){var{translateX:t,translateY:r,useTranslate3d:n}=e;return{transform:n?"translate3d(".concat(t,"px, ").concat(r,"px, 0)"):"translate(".concat(t,"px, ").concat(r,"px)")}}function que(e){var{allowEscapeViewBox:t,coordinate:r,offsetTopLeft:n,position:a,reverseDirection:i,tooltipBox:l,useTranslate3d:o,viewBox:u}=e,f,h,m;return l.height>0&&l.width>0&&r?(h=_8({allowEscapeViewBox:t,coordinate:r,key:"x",offsetTopLeft:n,position:a,reverseDirection:i,tooltipDimension:l.width,viewBox:u,viewBoxDimension:u.width}),m=_8({allowEscapeViewBox:t,coordinate:r,key:"y",offsetTopLeft:n,position:a,reverseDirection:i,tooltipDimension:l.height,viewBox:u,viewBoxDimension:u.height}),f=zue({translateX:h,translateY:m,useTranslate3d:o})):f=Bue,{cssProperties:f,cssClasses:Uue({translateX:h,translateY:m,coordinate:r})}}function j8(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function hv(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?j8(Object(r),!0).forEach(function(n){CN(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):j8(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function CN(e,t,r){return(t=$ue(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function $ue(e){var t=Hue(e,"string");return typeof t=="symbol"?t:t+""}function Hue(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}class Vue extends k.PureComponent{constructor(){super(...arguments),CN(this,"state",{dismissed:!1,dismissedAtCoordinate:{x:0,y:0}}),CN(this,"handleKeyDown",t=>{if(t.key==="Escape"){var r,n,a,i;this.setState({dismissed:!0,dismissedAtCoordinate:{x:(r=(n=this.props.coordinate)===null||n===void 0?void 0:n.x)!==null&&r!==void 0?r:0,y:(a=(i=this.props.coordinate)===null||i===void 0?void 0:i.y)!==null&&a!==void 0?a:0}})}})}componentDidMount(){document.addEventListener("keydown",this.handleKeyDown)}componentWillUnmount(){document.removeEventListener("keydown",this.handleKeyDown)}componentDidUpdate(){var t,r;this.state.dismissed&&(((t=this.props.coordinate)===null||t===void 0?void 0:t.x)!==this.state.dismissedAtCoordinate.x||((r=this.props.coordinate)===null||r===void 0?void 0:r.y)!==this.state.dismissedAtCoordinate.y)&&(this.state.dismissed=!1)}render(){var{active:t,allowEscapeViewBox:r,animationDuration:n,animationEasing:a,children:i,coordinate:l,hasPayload:o,isAnimationActive:u,offset:f,position:h,reverseDirection:m,useTranslate3d:g,viewBox:x,wrapperStyle:b,lastBoundingBox:v,innerRef:w,hasPortalFromProps:N}=this.props,{cssClasses:E,cssProperties:j}=que({allowEscapeViewBox:r,coordinate:l,offsetTopLeft:f,position:h,reverseDirection:m,tooltipBox:{height:v.height,width:v.width},useTranslate3d:g,viewBox:x}),T=N?{}:hv(hv({transition:u&&t?"transform ".concat(n,"ms ").concat(a):void 0},j),{},{pointerEvents:"none",visibility:!this.state.dismissed&&t&&o?"visible":"hidden",position:"absolute",top:0,left:0}),O=hv(hv({},T),{},{visibility:!this.state.dismissed&&t&&o?"visible":"hidden"},b);return k.createElement("div",{xmlns:"http://www.w3.org/1999/xhtml",tabIndex:-1,className:E,style:O,ref:w},i)}}var Wue=()=>!(typeof window<"u"&&window.document&&window.document.createElement&&window.setTimeout),qd={devToolsEnabled:!1,isSsr:Wue()},YM=()=>Ht(e=>e.rootProps.accessibilityLayer);function TN(){return TN=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},TN.apply(null,arguments)}function S8(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function A8(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?S8(Object(r),!0).forEach(function(n){Gue(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):S8(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Gue(e,t,r){return(t=Kue(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Kue(e){var t=Yue(e,"string");return typeof t=="symbol"?t:t+""}function Yue(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var E8={curveBasisClosed:Gse,curveBasisOpen:Kse,curveBasis:Wse,curveBumpX:Dse,curveBumpY:Fse,curveLinearClosed:Yse,curveLinear:p2,curveMonotoneX:Xse,curveMonotoneY:Qse,curveNatural:Zse,curveStep:Jse,curveStepAfter:tle,curveStepBefore:ele},mv=e=>Ps(e.x)&&Ps(e.y),ox=e=>e.x,cx=e=>e.y,Xue=(e,t)=>{if(typeof e=="function")return e;var r="curve".concat(Dg(e));return(r==="curveMonotone"||r==="curveBump")&&t?E8["".concat(r).concat(t==="vertical"?"Y":"X")]:E8[r]||p2},Que=e=>{var{type:t="linear",points:r=[],baseLine:n,layout:a,connectNulls:i=!1}=e,l=Xue(t,a),o=i?r.filter(mv):r,u;if(Array.isArray(n)){var f=i?n.filter(m=>mv(m)):n,h=o.map((m,g)=>A8(A8({},m),{},{base:f[g]}));return a==="vertical"?u=sv().y(cx).x1(ox).x0(m=>m.base.x):u=sv().x(ox).y1(cx).y0(m=>m.base.y),u.defined(mv).curve(l),u(h)}return a==="vertical"&&Qt(n)?u=sv().y(cx).x1(ox).x0(n):Qt(n)?u=sv().x(ox).y1(cx).y0(n):u=FL().x(ox).y(cx),u.defined(mv).curve(l),u(o)},tj=e=>{var{className:t,points:r,path:n,pathRef:a}=e;if((!r||!r.length)&&!n)return null;var i=r&&r.length?Que(e):n;return k.createElement("path",TN({},no(e),U3(e),{className:an("recharts-curve",t),d:i===null?void 0:i,ref:a}))},Zue=["x","y","top","left","width","height","className"];function ON(){return ON=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},ON.apply(null,arguments)}function k8(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function Jue(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?k8(Object(r),!0).forEach(function(n){efe(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):k8(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function efe(e,t,r){return(t=tfe(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function tfe(e){var t=rfe(e,"string");return typeof t=="symbol"?t:t+""}function rfe(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function nfe(e,t){if(e==null)return{};var r,n,a=afe(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}function afe(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}var ife=(e,t,r,n,a,i)=>"M".concat(e,",").concat(a,"v").concat(n,"M").concat(i,",").concat(t,"h").concat(r),sfe=e=>{var{x:t=0,y:r=0,top:n=0,left:a=0,width:i=0,height:l=0,className:o}=e,u=nfe(e,Zue),f=Jue({x:t,y:r,top:n,left:a,width:i,height:l},u);return!Qt(t)||!Qt(r)||!Qt(i)||!Qt(l)||!Qt(n)||!Qt(a)?null:k.createElement("path",ON({},rl(f),{className:an("recharts-cross",o),d:ife(t,r,i,l,n,a)}))};function lfe(e,t,r,n){var a=n/2;return{stroke:"none",fill:"#ccc",x:e==="horizontal"?t.x-a:r.left+.5,y:e==="horizontal"?r.top+.5:t.y-a,width:e==="horizontal"?n:r.width-1,height:e==="horizontal"?r.height-1:n}}function C8(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function ofe(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?C8(Object(r),!0).forEach(function(n){cfe(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):C8(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function cfe(e,t,r){return(t=ufe(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function ufe(e){var t=ffe(e,"string");return typeof t=="symbol"?t:t+""}function ffe(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function cs(e,t){var r=ofe({},e),n=t,a=Object.keys(t),i=a.reduce((l,o)=>(l[o]===void 0&&n[o]!==void 0&&(l[o]=n[o]),l),r);return i}function dfe(){}function hfe(e){return e!=null}function T8(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function O8(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?T8(Object(r),!0).forEach(function(n){mfe(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):T8(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function mfe(e,t,r){return(t=pfe(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function pfe(e){var t=xfe(e,"string");return typeof t=="symbol"?t:t+""}function xfe(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var gfe=e=>e.replace(/([A-Z])/g,t=>"-".concat(t.toLowerCase())),XM=(e,t,r)=>e.map(n=>"".concat(gfe(n)," ").concat(t,"ms ").concat(r)).join(","),vfe=(e,t)=>[Object.keys(e),Object.keys(t)].reduce((r,n)=>r.filter(a=>n.includes(a))),fg=(e,t)=>Object.keys(t).reduce((r,n)=>O8(O8({},r),{},{[n]:e(n,t[n])}),{});function D8(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function ns(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?D8(Object(r),!0).forEach(function(n){yfe(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):D8(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function yfe(e,t,r){return(t=bfe(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function bfe(e){var t=wfe(e,"string");return typeof t=="symbol"?t:t+""}function wfe(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Ny=(e,t,r)=>e+(t-e)*r,DN=e=>{var{from:t,to:r}=e;return t!==r},QM=(e,t,r)=>{var n=fg((a,i)=>{if(DN(i)){var[l,o]=e(i.from,i.to,i.velocity);return ns(ns({},i),{},{from:l,velocity:o})}return i},t);return r<1?fg((a,i)=>DN(i)?ns(ns({},i),{},{velocity:Ny(i.velocity,n[a].velocity,r),from:Ny(i.from,n[a].from,r)}):i,t):QM(e,n,r-1)};function Nfe(e,t,r,n,a,i){var l,o=n.reduce((g,x)=>ns(ns({},g),{},{[x]:{from:e[x],velocity:0,to:t[x]}}),{}),u=()=>fg((g,x)=>x.from,o),f=()=>!Object.values(o).filter(DN).length,h=null,m=g=>{l||(l=g);var x=g-l,b=x/r.dt;o=QM(r,o,b),a(ns(ns(ns({},e),t),u())),l=g,f()||(h=i.setTimeout(m))};return()=>(h=i.setTimeout(m),()=>{h()})}function _fe(e,t,r,n,a,i,l){var o=null,u=a.reduce((m,g)=>ns(ns({},m),{},{[g]:[e[g],t[g]]}),{}),f,h=m=>{f||(f=m);var g=(m-f)/n,x=fg((v,w)=>Ny(...w,r(g)),u);if(i(ns(ns(ns({},e),t),x)),g<1)o=l.setTimeout(h);else{var b=fg((v,w)=>Ny(...w,r(1)),u);i(ns(ns(ns({},e),t),b))}};return()=>(o=l.setTimeout(h),()=>{o()})}const jfe=(e,t,r,n,a,i)=>{var l=vfe(e,t);return r.isStepper===!0?Nfe(e,t,r,l,a,i):_fe(e,t,r,n,l,a,i)};var _y=1e-4,ZM=(e,t)=>[0,3*e,3*t-6*e,3*e-3*t+1],JM=(e,t)=>e.map((r,n)=>r*t**n).reduce((r,n)=>r+n),F8=(e,t)=>r=>{var n=ZM(e,t);return JM(n,r)},Sfe=(e,t)=>r=>{var n=ZM(e,t),a=[...n.map((i,l)=>i*l).slice(1),0];return JM(a,r)},P8=function(){for(var t,r,n,a,i=arguments.length,l=new Array(i),o=0;o<i;o++)l[o]=arguments[o];if(l.length===1)switch(l[0]){case"linear":[t,n,r,a]=[0,0,1,1];break;case"ease":[t,n,r,a]=[.25,.1,.25,1];break;case"ease-in":[t,n,r,a]=[.42,0,1,1];break;case"ease-out":[t,n,r,a]=[.42,0,.58,1];break;case"ease-in-out":[t,n,r,a]=[0,0,.58,1];break;default:{var u=l[0].split("(");u[0]==="cubic-bezier"&&u[1].split(")")[0].split(",").length===4&&([t,n,r,a]=u[1].split(")")[0].split(",").map(b=>parseFloat(b)))}}else l.length===4&&([t,n,r,a]=l);var f=F8(t,r),h=F8(n,a),m=Sfe(t,r),g=b=>b>1?1:b<0?0:b,x=b=>{for(var v=b>1?1:b,w=v,N=0;N<8;++N){var E=f(w)-v,j=m(w);if(Math.abs(E-v)<_y||j<_y)return h(w);w=g(w-E/j)}return h(w)};return x.isStepper=!1,x},Afe=function(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},{stiff:r=100,damping:n=8,dt:a=17}=t,i=(l,o,u)=>{var f=-(l-o)*r,h=u*n,m=u+(f-h)*a/1e3,g=u*a/1e3+l;return Math.abs(g-o)<_y&&Math.abs(m)<_y?[o,0]:[g,m]};return i.isStepper=!0,i.dt=a,i},Efe=e=>{if(typeof e=="string")switch(e){case"ease":case"ease-in-out":case"ease-out":case"ease-in":case"linear":return P8(e);case"spring":return Afe();default:if(e.split("(")[0]==="cubic-bezier")return P8(e)}return typeof e=="function"?e:null};function kfe(e){var t,r=()=>null,n=!1,a=null,i=l=>{if(!n){if(Array.isArray(l)){if(!l.length)return;var o=l,[u,...f]=o;if(typeof u=="number"){a=e.setTimeout(i.bind(null,f),u);return}i(u),a=e.setTimeout(i.bind(null,f));return}typeof l=="string"&&(t=l,r(t)),typeof l=="object"&&(t=l,r(t)),typeof l=="function"&&l()}};return{stop:()=>{n=!0},start:l=>{n=!1,a&&(a(),a=null),i(l)},subscribe:l=>(r=l,()=>{r=()=>null}),getTimeoutController:()=>e}}class Cfe{setTimeout(t){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,n=performance.now(),a=null,i=l=>{l-n>=r?t(l):typeof requestAnimationFrame=="function"&&(a=requestAnimationFrame(i))};return a=requestAnimationFrame(i),()=>{cancelAnimationFrame(a)}}}function Tfe(){return kfe(new Cfe)}var Ofe=k.createContext(Tfe);function Dfe(e,t){var r=k.useContext(Ofe);return k.useMemo(()=>t??r(e),[e,t,r])}var Ffe={begin:0,duration:1e3,easing:"ease",isActive:!0,canBegin:!0,onAnimationEnd:()=>{},onAnimationStart:()=>{}},L8={t:0},q5={t:1};function Rg(e){var t=cs(e,Ffe),{isActive:r,canBegin:n,duration:a,easing:i,begin:l,onAnimationEnd:o,onAnimationStart:u,children:f}=t,h=Dfe(t.animationId,t.animationManager),[m,g]=k.useState(r?L8:q5),x=k.useRef(null);return k.useEffect(()=>{r||g(q5)},[r]),k.useEffect(()=>{if(!r||!n)return dfe;var b=jfe(L8,q5,Efe(i),a,g,h.getTimeoutController()),v=()=>{x.current=b()};return h.start([u,l,v,a,o]),()=>{h.stop(),x.current&&x.current(),o()}},[r,n,a,i,l,u,o,h]),f(m.t)}function Ig(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"animation-",r=k.useRef(ig(t)),n=k.useRef(e);return n.current!==e&&(r.current=ig(t),n.current=e),r.current}var Pfe=["radius"],Lfe=["radius"];function M8(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function R8(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?M8(Object(r),!0).forEach(function(n){Mfe(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):M8(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Mfe(e,t,r){return(t=Rfe(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Rfe(e){var t=Ife(e,"string");return typeof t=="symbol"?t:t+""}function Ife(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function jy(){return jy=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},jy.apply(null,arguments)}function I8(e,t){if(e==null)return{};var r,n,a=Bfe(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}function Bfe(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}var B8=(e,t,r,n,a)=>{var i=Math.min(Math.abs(r)/2,Math.abs(n)/2),l=n>=0?1:-1,o=r>=0?1:-1,u=n>=0&&r>=0||n<0&&r<0?1:0,f;if(i>0&&a instanceof Array){for(var h=[0,0,0,0],m=0,g=4;m<g;m++)h[m]=a[m]>i?i:a[m];f="M".concat(e,",").concat(t+l*h[0]),h[0]>0&&(f+="A ".concat(h[0],",").concat(h[0],",0,0,").concat(u,",").concat(e+o*h[0],",").concat(t)),f+="L ".concat(e+r-o*h[1],",").concat(t),h[1]>0&&(f+="A ".concat(h[1],",").concat(h[1],",0,0,").concat(u,`,
        `).concat(e+r,",").concat(t+l*h[1])),f+="L ".concat(e+r,",").concat(t+n-l*h[2]),h[2]>0&&(f+="A ".concat(h[2],",").concat(h[2],",0,0,").concat(u,`,
        `).concat(e+r-o*h[2],",").concat(t+n)),f+="L ".concat(e+o*h[3],",").concat(t+n),h[3]>0&&(f+="A ".concat(h[3],",").concat(h[3],",0,0,").concat(u,`,
        `).concat(e,",").concat(t+n-l*h[3])),f+="Z"}else if(i>0&&a===+a&&a>0){var x=Math.min(i,a);f="M ".concat(e,",").concat(t+l*x,`
            A `).concat(x,",").concat(x,",0,0,").concat(u,",").concat(e+o*x,",").concat(t,`
            L `).concat(e+r-o*x,",").concat(t,`
            A `).concat(x,",").concat(x,",0,0,").concat(u,",").concat(e+r,",").concat(t+l*x,`
            L `).concat(e+r,",").concat(t+n-l*x,`
            A `).concat(x,",").concat(x,",0,0,").concat(u,",").concat(e+r-o*x,",").concat(t+n,`
            L `).concat(e+o*x,",").concat(t+n,`
            A `).concat(x,",").concat(x,",0,0,").concat(u,",").concat(e,",").concat(t+n-l*x," Z")}else f="M ".concat(e,",").concat(t," h ").concat(r," v ").concat(n," h ").concat(-r," Z");return f},Ufe={x:0,y:0,width:0,height:0,radius:0,isAnimationActive:!1,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},eR=e=>{var t=cs(e,Ufe),r=k.useRef(null),[n,a]=k.useState(-1);k.useEffect(()=>{if(r.current&&r.current.getTotalLength)try{var se=r.current.getTotalLength();se&&a(se)}catch{}},[]);var{x:i,y:l,width:o,height:u,radius:f,className:h}=t,{animationEasing:m,animationDuration:g,animationBegin:x,isAnimationActive:b,isUpdateAnimationActive:v}=t,w=k.useRef(o),N=k.useRef(u),E=k.useRef(i),j=k.useRef(l),T=k.useMemo(()=>({x:i,y:l,width:o,height:u,radius:f}),[i,l,o,u,f]),O=Ig(T,"rectangle-");if(i!==+i||l!==+l||o!==+o||u!==+u||o===0||u===0)return null;var F=an("recharts-rectangle",h);if(!v){var D=rl(t),{radius:L}=D,B=I8(D,Pfe);return k.createElement("path",jy({},B,{radius:typeof f=="number"?f:void 0,className:F,d:B8(i,l,o,u,f)}))}var H=w.current,P=N.current,U=E.current,K=j.current,ee="0px ".concat(n===-1?1:n,"px"),me="".concat(n,"px 0px"),ne=XM(["strokeDasharray"],g,typeof m=="string"?m:void 0);return k.createElement(Rg,{animationId:O,key:O,canBegin:n>0,duration:g,easing:m,isActive:v,begin:x},se=>{var ye=La(H,o,se),ce=La(P,u,se),Se=La(U,i,se),te=La(K,l,se);r.current&&(w.current=ye,N.current=ce,E.current=Se,j.current=te);var M;b?se>0?M={transition:ne,strokeDasharray:me}:M={strokeDasharray:ee}:M={strokeDasharray:me};var R=rl(t),{radius:q}=R,W=I8(R,Lfe);return k.createElement("path",jy({},W,{radius:typeof f=="number"?f:void 0,className:F,d:B8(Se,te,ye,ce,f),ref:r,style:R8(R8({},M),t.style)}))})};function tR(e){var{cx:t,cy:r,radius:n,startAngle:a,endAngle:i}=e,l=ii(t,r,n,a),o=ii(t,r,n,i);return{points:[l,o],cx:t,cy:r,radius:n,startAngle:a,endAngle:i}}function FN(){return FN=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},FN.apply(null,arguments)}var zfe=(e,t)=>{var r=qi(t-e),n=Math.min(Math.abs(t-e),359.999);return r*n},pv=e=>{var{cx:t,cy:r,radius:n,angle:a,sign:i,isExternal:l,cornerRadius:o,cornerIsExternal:u}=e,f=o*(l?1:-1)+n,h=Math.asin(o/f)/by,m=u?a:a+i*h,g=ii(t,r,f,m),x=ii(t,r,n,m),b=u?a-i*h:a,v=ii(t,r,f*Math.cos(h*by),b);return{center:g,circleTangency:x,lineTangency:v,theta:h}},rR=e=>{var{cx:t,cy:r,innerRadius:n,outerRadius:a,startAngle:i,endAngle:l}=e,o=zfe(i,l),u=i+o,f=ii(t,r,a,i),h=ii(t,r,a,u),m="M ".concat(f.x,",").concat(f.y,`
    A `).concat(a,",").concat(a,`,0,
    `).concat(+(Math.abs(o)>180),",").concat(+(i>u),`,
    `).concat(h.x,",").concat(h.y,`
  `);if(n>0){var g=ii(t,r,n,i),x=ii(t,r,n,u);m+="L ".concat(x.x,",").concat(x.y,`
            A `).concat(n,",").concat(n,`,0,
            `).concat(+(Math.abs(o)>180),",").concat(+(i<=u),`,
            `).concat(g.x,",").concat(g.y," Z")}else m+="L ".concat(t,",").concat(r," Z");return m},qfe=e=>{var{cx:t,cy:r,innerRadius:n,outerRadius:a,cornerRadius:i,forceCornerRadius:l,cornerIsExternal:o,startAngle:u,endAngle:f}=e,h=qi(f-u),{circleTangency:m,lineTangency:g,theta:x}=pv({cx:t,cy:r,radius:a,angle:u,sign:h,cornerRadius:i,cornerIsExternal:o}),{circleTangency:b,lineTangency:v,theta:w}=pv({cx:t,cy:r,radius:a,angle:f,sign:-h,cornerRadius:i,cornerIsExternal:o}),N=o?Math.abs(u-f):Math.abs(u-f)-x-w;if(N<0)return l?"M ".concat(g.x,",").concat(g.y,`
        a`).concat(i,",").concat(i,",0,0,1,").concat(i*2,`,0
        a`).concat(i,",").concat(i,",0,0,1,").concat(-i*2,`,0
      `):rR({cx:t,cy:r,innerRadius:n,outerRadius:a,startAngle:u,endAngle:f});var E="M ".concat(g.x,",").concat(g.y,`
    A`).concat(i,",").concat(i,",0,0,").concat(+(h<0),",").concat(m.x,",").concat(m.y,`
    A`).concat(a,",").concat(a,",0,").concat(+(N>180),",").concat(+(h<0),",").concat(b.x,",").concat(b.y,`
    A`).concat(i,",").concat(i,",0,0,").concat(+(h<0),",").concat(v.x,",").concat(v.y,`
  `);if(n>0){var{circleTangency:j,lineTangency:T,theta:O}=pv({cx:t,cy:r,radius:n,angle:u,sign:h,isExternal:!0,cornerRadius:i,cornerIsExternal:o}),{circleTangency:F,lineTangency:D,theta:L}=pv({cx:t,cy:r,radius:n,angle:f,sign:-h,isExternal:!0,cornerRadius:i,cornerIsExternal:o}),B=o?Math.abs(u-f):Math.abs(u-f)-O-L;if(B<0&&i===0)return"".concat(E,"L").concat(t,",").concat(r,"Z");E+="L".concat(D.x,",").concat(D.y,`
      A`).concat(i,",").concat(i,",0,0,").concat(+(h<0),",").concat(F.x,",").concat(F.y,`
      A`).concat(n,",").concat(n,",0,").concat(+(B>180),",").concat(+(h>0),",").concat(j.x,",").concat(j.y,`
      A`).concat(i,",").concat(i,",0,0,").concat(+(h<0),",").concat(T.x,",").concat(T.y,"Z")}else E+="L".concat(t,",").concat(r,"Z");return E},$fe={cx:0,cy:0,innerRadius:0,outerRadius:0,startAngle:0,endAngle:0,cornerRadius:0,forceCornerRadius:!1,cornerIsExternal:!1},nR=e=>{var t=cs(e,$fe),{cx:r,cy:n,innerRadius:a,outerRadius:i,cornerRadius:l,forceCornerRadius:o,cornerIsExternal:u,startAngle:f,endAngle:h,className:m}=t;if(i<a||f===h)return null;var g=an("recharts-sector",m),x=i-a,b=Os(l,x,0,!0),v;return b>0&&Math.abs(f-h)<360?v=qfe({cx:r,cy:n,innerRadius:a,outerRadius:i,cornerRadius:Math.min(b,x/2),forceCornerRadius:o,cornerIsExternal:u,startAngle:f,endAngle:h}):v=rR({cx:r,cy:n,innerRadius:a,outerRadius:i,startAngle:f,endAngle:h}),k.createElement("path",FN({},rl(t),{className:g,d:v}))};function Hfe(e,t,r){var n,a,i,l;if(e==="horizontal")n=t.x,i=n,a=r.top,l=r.top+r.height;else if(e==="vertical")a=t.y,l=a,n=r.left,i=r.left+r.width;else if(t.cx!=null&&t.cy!=null)if(e==="centric"){var{cx:o,cy:u,innerRadius:f,outerRadius:h,angle:m}=t,g=ii(o,u,f,m),x=ii(o,u,h,m);n=g.x,a=g.y,i=x.x,l=x.y}else return tR(t);return[{x:n,y:a},{x:i,y:l}]}var $5={},H5={},V5={},U8;function Vfe(){return U8||(U8=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=iM();function r(n){return t.isSymbol(n)?NaN:Number(n)}e.toNumber=r})(V5)),V5}var z8;function Wfe(){return z8||(z8=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=Vfe();function r(n){return n?(n=t.toNumber(n),n===1/0||n===-1/0?(n<0?-1:1)*Number.MAX_VALUE:n===n?n:0):n===0?n:0}e.toFinite=r})(H5)),H5}var q8;function Gfe(){return q8||(q8=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=sM(),r=Wfe();function n(a,i,l){l&&typeof l!="number"&&t.isIterateeCall(a,i,l)&&(i=l=void 0),a=r.toFinite(a),i===void 0?(i=a,a=0):i=r.toFinite(i),l=l===void 0?a<i?1:-1:r.toFinite(l);const o=Math.max(Math.ceil((i-a)/(l||1)),0),u=new Array(o);for(let f=0;f<o;f++)u[f]=a,a+=l;return u}e.range=n})($5)),$5}var W5,$8;function Kfe(){return $8||($8=1,W5=Gfe().range),W5}var Yfe=Kfe();const aR=Nf(Yfe);function jd(e,t){return e==null||t==null?NaN:e<t?-1:e>t?1:e>=t?0:NaN}function Xfe(e,t){return e==null||t==null?NaN:t<e?-1:t>e?1:t>=e?0:NaN}function rj(e){let t,r,n;e.length!==2?(t=jd,r=(o,u)=>jd(e(o),u),n=(o,u)=>e(o)-u):(t=e===jd||e===Xfe?e:Qfe,r=e,n=e);function a(o,u,f=0,h=o.length){if(f<h){if(t(u,u)!==0)return h;do{const m=f+h>>>1;r(o[m],u)<0?f=m+1:h=m}while(f<h)}return f}function i(o,u,f=0,h=o.length){if(f<h){if(t(u,u)!==0)return h;do{const m=f+h>>>1;r(o[m],u)<=0?f=m+1:h=m}while(f<h)}return f}function l(o,u,f=0,h=o.length){const m=a(o,u,f,h-1);return m>f&&n(o[m-1],u)>-n(o[m],u)?m-1:m}return{left:a,center:l,right:i}}function Qfe(){return 0}function iR(e){return e===null?NaN:+e}function*Zfe(e,t){for(let r of e)r!=null&&(r=+r)>=r&&(yield r)}const Jfe=rj(jd),Bg=Jfe.right;rj(iR).center;class H8 extends Map{constructor(t,r=rde){if(super(),Object.defineProperties(this,{_intern:{value:new Map},_key:{value:r}}),t!=null)for(const[n,a]of t)this.set(n,a)}get(t){return super.get(V8(this,t))}has(t){return super.has(V8(this,t))}set(t,r){return super.set(ede(this,t),r)}delete(t){return super.delete(tde(this,t))}}function V8({_intern:e,_key:t},r){const n=t(r);return e.has(n)?e.get(n):r}function ede({_intern:e,_key:t},r){const n=t(r);return e.has(n)?e.get(n):(e.set(n,r),r)}function tde({_intern:e,_key:t},r){const n=t(r);return e.has(n)&&(r=e.get(n),e.delete(n)),r}function rde(e){return e!==null&&typeof e=="object"?e.valueOf():e}function nde(e=jd){if(e===jd)return sR;if(typeof e!="function")throw new TypeError("compare is not a function");return(t,r)=>{const n=e(t,r);return n||n===0?n:(e(r,r)===0)-(e(t,t)===0)}}function sR(e,t){return(e==null||!(e>=e))-(t==null||!(t>=t))||(e<t?-1:e>t?1:0)}const ade=Math.sqrt(50),ide=Math.sqrt(10),sde=Math.sqrt(2);function Sy(e,t,r){const n=(t-e)/Math.max(0,r),a=Math.floor(Math.log10(n)),i=n/Math.pow(10,a),l=i>=ade?10:i>=ide?5:i>=sde?2:1;let o,u,f;return a<0?(f=Math.pow(10,-a)/l,o=Math.round(e*f),u=Math.round(t*f),o/f<e&&++o,u/f>t&&--u,f=-f):(f=Math.pow(10,a)*l,o=Math.round(e/f),u=Math.round(t/f),o*f<e&&++o,u*f>t&&--u),u<o&&.5<=r&&r<2?Sy(e,t,r*2):[o,u,f]}function PN(e,t,r){if(t=+t,e=+e,r=+r,!(r>0))return[];if(e===t)return[e];const n=t<e,[a,i,l]=n?Sy(t,e,r):Sy(e,t,r);if(!(i>=a))return[];const o=i-a+1,u=new Array(o);if(n)if(l<0)for(let f=0;f<o;++f)u[f]=(i-f)/-l;else for(let f=0;f<o;++f)u[f]=(i-f)*l;else if(l<0)for(let f=0;f<o;++f)u[f]=(a+f)/-l;else for(let f=0;f<o;++f)u[f]=(a+f)*l;return u}function LN(e,t,r){return t=+t,e=+e,r=+r,Sy(e,t,r)[2]}function MN(e,t,r){t=+t,e=+e,r=+r;const n=t<e,a=n?LN(t,e,r):LN(e,t,r);return(n?-1:1)*(a<0?1/-a:a)}function W8(e,t){let r;for(const n of e)n!=null&&(r<n||r===void 0&&n>=n)&&(r=n);return r}function G8(e,t){let r;for(const n of e)n!=null&&(r>n||r===void 0&&n>=n)&&(r=n);return r}function lR(e,t,r=0,n=1/0,a){if(t=Math.floor(t),r=Math.floor(Math.max(0,r)),n=Math.floor(Math.min(e.length-1,n)),!(r<=t&&t<=n))return e;for(a=a===void 0?sR:nde(a);n>r;){if(n-r>600){const u=n-r+1,f=t-r+1,h=Math.log(u),m=.5*Math.exp(2*h/3),g=.5*Math.sqrt(h*m*(u-m)/u)*(f-u/2<0?-1:1),x=Math.max(r,Math.floor(t-f*m/u+g)),b=Math.min(n,Math.floor(t+(u-f)*m/u+g));lR(e,t,x,b,a)}const i=e[t];let l=r,o=n;for(ux(e,r,t),a(e[n],i)>0&&ux(e,r,n);l<o;){for(ux(e,l,o),++l,--o;a(e[l],i)<0;)++l;for(;a(e[o],i)>0;)--o}a(e[r],i)===0?ux(e,r,o):(++o,ux(e,o,n)),o<=t&&(r=o+1),t<=o&&(n=o-1)}return e}function ux(e,t,r){const n=e[t];e[t]=e[r],e[r]=n}function lde(e,t,r){if(e=Float64Array.from(Zfe(e)),!(!(n=e.length)||isNaN(t=+t))){if(t<=0||n<2)return G8(e);if(t>=1)return W8(e);var n,a=(n-1)*t,i=Math.floor(a),l=W8(lR(e,i).subarray(0,i+1)),o=G8(e.subarray(i+1));return l+(o-l)*(a-i)}}function ode(e,t,r=iR){if(!(!(n=e.length)||isNaN(t=+t))){if(t<=0||n<2)return+r(e[0],0,e);if(t>=1)return+r(e[n-1],n-1,e);var n,a=(n-1)*t,i=Math.floor(a),l=+r(e[i],i,e),o=+r(e[i+1],i+1,e);return l+(o-l)*(a-i)}}function cde(e,t,r){e=+e,t=+t,r=(a=arguments.length)<2?(t=e,e=0,1):a<3?1:+r;for(var n=-1,a=Math.max(0,Math.ceil((t-e)/r))|0,i=new Array(a);++n<a;)i[n]=e+n*r;return i}function Go(e,t){switch(arguments.length){case 0:break;case 1:this.range(e);break;default:this.range(t).domain(e);break}return this}function Cf(e,t){switch(arguments.length){case 0:break;case 1:{typeof e=="function"?this.interpolator(e):this.range(e);break}default:{this.domain(e),typeof t=="function"?this.interpolator(t):this.range(t);break}}return this}const RN=Symbol("implicit");function nj(){var e=new H8,t=[],r=[],n=RN;function a(i){let l=e.get(i);if(l===void 0){if(n!==RN)return n;e.set(i,l=t.push(i)-1)}return r[l%r.length]}return a.domain=function(i){if(!arguments.length)return t.slice();t=[],e=new H8;for(const l of i)e.has(l)||e.set(l,t.push(l)-1);return a},a.range=function(i){return arguments.length?(r=Array.from(i),a):r.slice()},a.unknown=function(i){return arguments.length?(n=i,a):n},a.copy=function(){return nj(t,r).unknown(n)},Go.apply(a,arguments),a}function aj(){var e=nj().unknown(void 0),t=e.domain,r=e.range,n=0,a=1,i,l,o=!1,u=0,f=0,h=.5;delete e.unknown;function m(){var g=t().length,x=a<n,b=x?a:n,v=x?n:a;i=(v-b)/Math.max(1,g-u+f*2),o&&(i=Math.floor(i)),b+=(v-b-i*(g-u))*h,l=i*(1-u),o&&(b=Math.round(b),l=Math.round(l));var w=cde(g).map(function(N){return b+i*N});return r(x?w.reverse():w)}return e.domain=function(g){return arguments.length?(t(g),m()):t()},e.range=function(g){return arguments.length?([n,a]=g,n=+n,a=+a,m()):[n,a]},e.rangeRound=function(g){return[n,a]=g,n=+n,a=+a,o=!0,m()},e.bandwidth=function(){return l},e.step=function(){return i},e.round=function(g){return arguments.length?(o=!!g,m()):o},e.padding=function(g){return arguments.length?(u=Math.min(1,f=+g),m()):u},e.paddingInner=function(g){return arguments.length?(u=Math.min(1,g),m()):u},e.paddingOuter=function(g){return arguments.length?(f=+g,m()):f},e.align=function(g){return arguments.length?(h=Math.max(0,Math.min(1,g)),m()):h},e.copy=function(){return aj(t(),[n,a]).round(o).paddingInner(u).paddingOuter(f).align(h)},Go.apply(m(),arguments)}function oR(e){var t=e.copy;return e.padding=e.paddingOuter,delete e.paddingInner,delete e.paddingOuter,e.copy=function(){return oR(t())},e}function ude(){return oR(aj.apply(null,arguments).paddingInner(1))}function ij(e,t,r){e.prototype=t.prototype=r,r.constructor=e}function cR(e,t){var r=Object.create(e.prototype);for(var n in t)r[n]=t[n];return r}function Ug(){}var dg=.7,Ay=1/dg,Pm="\\s*([+-]?\\d+)\\s*",hg="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",fu="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",fde=/^#([0-9a-f]{3,8})$/,dde=new RegExp(`^rgb\\(${Pm},${Pm},${Pm}\\)$`),hde=new RegExp(`^rgb\\(${fu},${fu},${fu}\\)$`),mde=new RegExp(`^rgba\\(${Pm},${Pm},${Pm},${hg}\\)$`),pde=new RegExp(`^rgba\\(${fu},${fu},${fu},${hg}\\)$`),xde=new RegExp(`^hsl\\(${hg},${fu},${fu}\\)$`),gde=new RegExp(`^hsla\\(${hg},${fu},${fu},${hg}\\)$`),K8={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};ij(Ug,mg,{copy(e){return Object.assign(new this.constructor,this,e)},displayable(){return this.rgb().displayable()},hex:Y8,formatHex:Y8,formatHex8:vde,formatHsl:yde,formatRgb:X8,toString:X8});function Y8(){return this.rgb().formatHex()}function vde(){return this.rgb().formatHex8()}function yde(){return uR(this).formatHsl()}function X8(){return this.rgb().formatRgb()}function mg(e){var t,r;return e=(e+"").trim().toLowerCase(),(t=fde.exec(e))?(r=t[1].length,t=parseInt(t[1],16),r===6?Q8(t):r===3?new Al(t>>8&15|t>>4&240,t>>4&15|t&240,(t&15)<<4|t&15,1):r===8?xv(t>>24&255,t>>16&255,t>>8&255,(t&255)/255):r===4?xv(t>>12&15|t>>8&240,t>>8&15|t>>4&240,t>>4&15|t&240,((t&15)<<4|t&15)/255):null):(t=dde.exec(e))?new Al(t[1],t[2],t[3],1):(t=hde.exec(e))?new Al(t[1]*255/100,t[2]*255/100,t[3]*255/100,1):(t=mde.exec(e))?xv(t[1],t[2],t[3],t[4]):(t=pde.exec(e))?xv(t[1]*255/100,t[2]*255/100,t[3]*255/100,t[4]):(t=xde.exec(e))?eT(t[1],t[2]/100,t[3]/100,1):(t=gde.exec(e))?eT(t[1],t[2]/100,t[3]/100,t[4]):K8.hasOwnProperty(e)?Q8(K8[e]):e==="transparent"?new Al(NaN,NaN,NaN,0):null}function Q8(e){return new Al(e>>16&255,e>>8&255,e&255,1)}function xv(e,t,r,n){return n<=0&&(e=t=r=NaN),new Al(e,t,r,n)}function bde(e){return e instanceof Ug||(e=mg(e)),e?(e=e.rgb(),new Al(e.r,e.g,e.b,e.opacity)):new Al}function IN(e,t,r,n){return arguments.length===1?bde(e):new Al(e,t,r,n??1)}function Al(e,t,r,n){this.r=+e,this.g=+t,this.b=+r,this.opacity=+n}ij(Al,IN,cR(Ug,{brighter(e){return e=e==null?Ay:Math.pow(Ay,e),new Al(this.r*e,this.g*e,this.b*e,this.opacity)},darker(e){return e=e==null?dg:Math.pow(dg,e),new Al(this.r*e,this.g*e,this.b*e,this.opacity)},rgb(){return this},clamp(){return new Al(R0(this.r),R0(this.g),R0(this.b),Ey(this.opacity))},displayable(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:Z8,formatHex:Z8,formatHex8:wde,formatRgb:J8,toString:J8}));function Z8(){return`#${E0(this.r)}${E0(this.g)}${E0(this.b)}`}function wde(){return`#${E0(this.r)}${E0(this.g)}${E0(this.b)}${E0((isNaN(this.opacity)?1:this.opacity)*255)}`}function J8(){const e=Ey(this.opacity);return`${e===1?"rgb(":"rgba("}${R0(this.r)}, ${R0(this.g)}, ${R0(this.b)}${e===1?")":`, ${e})`}`}function Ey(e){return isNaN(e)?1:Math.max(0,Math.min(1,e))}function R0(e){return Math.max(0,Math.min(255,Math.round(e)||0))}function E0(e){return e=R0(e),(e<16?"0":"")+e.toString(16)}function eT(e,t,r,n){return n<=0?e=t=r=NaN:r<=0||r>=1?e=t=NaN:t<=0&&(e=NaN),new wc(e,t,r,n)}function uR(e){if(e instanceof wc)return new wc(e.h,e.s,e.l,e.opacity);if(e instanceof Ug||(e=mg(e)),!e)return new wc;if(e instanceof wc)return e;e=e.rgb();var t=e.r/255,r=e.g/255,n=e.b/255,a=Math.min(t,r,n),i=Math.max(t,r,n),l=NaN,o=i-a,u=(i+a)/2;return o?(t===i?l=(r-n)/o+(r<n)*6:r===i?l=(n-t)/o+2:l=(t-r)/o+4,o/=u<.5?i+a:2-i-a,l*=60):o=u>0&&u<1?0:l,new wc(l,o,u,e.opacity)}function Nde(e,t,r,n){return arguments.length===1?uR(e):new wc(e,t,r,n??1)}function wc(e,t,r,n){this.h=+e,this.s=+t,this.l=+r,this.opacity=+n}ij(wc,Nde,cR(Ug,{brighter(e){return e=e==null?Ay:Math.pow(Ay,e),new wc(this.h,this.s,this.l*e,this.opacity)},darker(e){return e=e==null?dg:Math.pow(dg,e),new wc(this.h,this.s,this.l*e,this.opacity)},rgb(){var e=this.h%360+(this.h<0)*360,t=isNaN(e)||isNaN(this.s)?0:this.s,r=this.l,n=r+(r<.5?r:1-r)*t,a=2*r-n;return new Al(G5(e>=240?e-240:e+120,a,n),G5(e,a,n),G5(e<120?e+240:e-120,a,n),this.opacity)},clamp(){return new wc(tT(this.h),gv(this.s),gv(this.l),Ey(this.opacity))},displayable(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl(){const e=Ey(this.opacity);return`${e===1?"hsl(":"hsla("}${tT(this.h)}, ${gv(this.s)*100}%, ${gv(this.l)*100}%${e===1?")":`, ${e})`}`}}));function tT(e){return e=(e||0)%360,e<0?e+360:e}function gv(e){return Math.max(0,Math.min(1,e||0))}function G5(e,t,r){return(e<60?t+(r-t)*e/60:e<180?r:e<240?t+(r-t)*(240-e)/60:t)*255}const sj=e=>()=>e;function _de(e,t){return function(r){return e+r*t}}function jde(e,t,r){return e=Math.pow(e,r),t=Math.pow(t,r)-e,r=1/r,function(n){return Math.pow(e+n*t,r)}}function Sde(e){return(e=+e)==1?fR:function(t,r){return r-t?jde(t,r,e):sj(isNaN(t)?r:t)}}function fR(e,t){var r=t-e;return r?_de(e,r):sj(isNaN(e)?t:e)}const rT=(function e(t){var r=Sde(t);function n(a,i){var l=r((a=IN(a)).r,(i=IN(i)).r),o=r(a.g,i.g),u=r(a.b,i.b),f=fR(a.opacity,i.opacity);return function(h){return a.r=l(h),a.g=o(h),a.b=u(h),a.opacity=f(h),a+""}}return n.gamma=e,n})(1);function Ade(e,t){t||(t=[]);var r=e?Math.min(t.length,e.length):0,n=t.slice(),a;return function(i){for(a=0;a<r;++a)n[a]=e[a]*(1-i)+t[a]*i;return n}}function Ede(e){return ArrayBuffer.isView(e)&&!(e instanceof DataView)}function kde(e,t){var r=t?t.length:0,n=e?Math.min(r,e.length):0,a=new Array(n),i=new Array(r),l;for(l=0;l<n;++l)a[l]=fp(e[l],t[l]);for(;l<r;++l)i[l]=t[l];return function(o){for(l=0;l<n;++l)i[l]=a[l](o);return i}}function Cde(e,t){var r=new Date;return e=+e,t=+t,function(n){return r.setTime(e*(1-n)+t*n),r}}function ky(e,t){return e=+e,t=+t,function(r){return e*(1-r)+t*r}}function Tde(e,t){var r={},n={},a;(e===null||typeof e!="object")&&(e={}),(t===null||typeof t!="object")&&(t={});for(a in t)a in e?r[a]=fp(e[a],t[a]):n[a]=t[a];return function(i){for(a in r)n[a]=r[a](i);return n}}var BN=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,K5=new RegExp(BN.source,"g");function Ode(e){return function(){return e}}function Dde(e){return function(t){return e(t)+""}}function Fde(e,t){var r=BN.lastIndex=K5.lastIndex=0,n,a,i,l=-1,o=[],u=[];for(e=e+"",t=t+"";(n=BN.exec(e))&&(a=K5.exec(t));)(i=a.index)>r&&(i=t.slice(r,i),o[l]?o[l]+=i:o[++l]=i),(n=n[0])===(a=a[0])?o[l]?o[l]+=a:o[++l]=a:(o[++l]=null,u.push({i:l,x:ky(n,a)})),r=K5.lastIndex;return r<t.length&&(i=t.slice(r),o[l]?o[l]+=i:o[++l]=i),o.length<2?u[0]?Dde(u[0].x):Ode(t):(t=u.length,function(f){for(var h=0,m;h<t;++h)o[(m=u[h]).i]=m.x(f);return o.join("")})}function fp(e,t){var r=typeof t,n;return t==null||r==="boolean"?sj(t):(r==="number"?ky:r==="string"?(n=mg(t))?(t=n,rT):Fde:t instanceof mg?rT:t instanceof Date?Cde:Ede(t)?Ade:Array.isArray(t)?kde:typeof t.valueOf!="function"&&typeof t.toString!="function"||isNaN(t)?Tde:ky)(e,t)}function lj(e,t){return e=+e,t=+t,function(r){return Math.round(e*(1-r)+t*r)}}function Pde(e,t){t===void 0&&(t=e,e=fp);for(var r=0,n=t.length-1,a=t[0],i=new Array(n<0?0:n);r<n;)i[r]=e(a,a=t[++r]);return function(l){var o=Math.max(0,Math.min(n-1,Math.floor(l*=n)));return i[o](l-o)}}function Lde(e){return function(){return e}}function Cy(e){return+e}var nT=[0,1];function el(e){return e}function UN(e,t){return(t-=e=+e)?function(r){return(r-e)/t}:Lde(isNaN(t)?NaN:.5)}function Mde(e,t){var r;return e>t&&(r=e,e=t,t=r),function(n){return Math.max(e,Math.min(t,n))}}function Rde(e,t,r){var n=e[0],a=e[1],i=t[0],l=t[1];return a<n?(n=UN(a,n),i=r(l,i)):(n=UN(n,a),i=r(i,l)),function(o){return i(n(o))}}function Ide(e,t,r){var n=Math.min(e.length,t.length)-1,a=new Array(n),i=new Array(n),l=-1;for(e[n]<e[0]&&(e=e.slice().reverse(),t=t.slice().reverse());++l<n;)a[l]=UN(e[l],e[l+1]),i[l]=r(t[l],t[l+1]);return function(o){var u=Bg(e,o,1,n)-1;return i[u](a[u](o))}}function zg(e,t){return t.domain(e.domain()).range(e.range()).interpolate(e.interpolate()).clamp(e.clamp()).unknown(e.unknown())}function T2(){var e=nT,t=nT,r=fp,n,a,i,l=el,o,u,f;function h(){var g=Math.min(e.length,t.length);return l!==el&&(l=Mde(e[0],e[g-1])),o=g>2?Ide:Rde,u=f=null,m}function m(g){return g==null||isNaN(g=+g)?i:(u||(u=o(e.map(n),t,r)))(n(l(g)))}return m.invert=function(g){return l(a((f||(f=o(t,e.map(n),ky)))(g)))},m.domain=function(g){return arguments.length?(e=Array.from(g,Cy),h()):e.slice()},m.range=function(g){return arguments.length?(t=Array.from(g),h()):t.slice()},m.rangeRound=function(g){return t=Array.from(g),r=lj,h()},m.clamp=function(g){return arguments.length?(l=g?!0:el,h()):l!==el},m.interpolate=function(g){return arguments.length?(r=g,h()):r},m.unknown=function(g){return arguments.length?(i=g,m):i},function(g,x){return n=g,a=x,h()}}function oj(){return T2()(el,el)}function Bde(e){return Math.abs(e=Math.round(e))>=1e21?e.toLocaleString("en").replace(/,/g,""):e.toString(10)}function Ty(e,t){if((r=(e=t?e.toExponential(t-1):e.toExponential()).indexOf("e"))<0)return null;var r,n=e.slice(0,r);return[n.length>1?n[0]+n.slice(2):n,+e.slice(r+1)]}function Km(e){return e=Ty(Math.abs(e)),e?e[1]:NaN}function Ude(e,t){return function(r,n){for(var a=r.length,i=[],l=0,o=e[0],u=0;a>0&&o>0&&(u+o+1>n&&(o=Math.max(1,n-u)),i.push(r.substring(a-=o,a+o)),!((u+=o+1)>n));)o=e[l=(l+1)%e.length];return i.reverse().join(t)}}function zde(e){return function(t){return t.replace(/[0-9]/g,function(r){return e[+r]})}}var qde=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i;function pg(e){if(!(t=qde.exec(e)))throw new Error("invalid format: "+e);var t;return new cj({fill:t[1],align:t[2],sign:t[3],symbol:t[4],zero:t[5],width:t[6],comma:t[7],precision:t[8]&&t[8].slice(1),trim:t[9],type:t[10]})}pg.prototype=cj.prototype;function cj(e){this.fill=e.fill===void 0?" ":e.fill+"",this.align=e.align===void 0?">":e.align+"",this.sign=e.sign===void 0?"-":e.sign+"",this.symbol=e.symbol===void 0?"":e.symbol+"",this.zero=!!e.zero,this.width=e.width===void 0?void 0:+e.width,this.comma=!!e.comma,this.precision=e.precision===void 0?void 0:+e.precision,this.trim=!!e.trim,this.type=e.type===void 0?"":e.type+""}cj.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(this.width===void 0?"":Math.max(1,this.width|0))+(this.comma?",":"")+(this.precision===void 0?"":"."+Math.max(0,this.precision|0))+(this.trim?"~":"")+this.type};function $de(e){e:for(var t=e.length,r=1,n=-1,a;r<t;++r)switch(e[r]){case".":n=a=r;break;case"0":n===0&&(n=r),a=r;break;default:if(!+e[r])break e;n>0&&(n=0);break}return n>0?e.slice(0,n)+e.slice(a+1):e}var dR;function Hde(e,t){var r=Ty(e,t);if(!r)return e+"";var n=r[0],a=r[1],i=a-(dR=Math.max(-8,Math.min(8,Math.floor(a/3)))*3)+1,l=n.length;return i===l?n:i>l?n+new Array(i-l+1).join("0"):i>0?n.slice(0,i)+"."+n.slice(i):"0."+new Array(1-i).join("0")+Ty(e,Math.max(0,t+i-1))[0]}function aT(e,t){var r=Ty(e,t);if(!r)return e+"";var n=r[0],a=r[1];return a<0?"0."+new Array(-a).join("0")+n:n.length>a+1?n.slice(0,a+1)+"."+n.slice(a+1):n+new Array(a-n.length+2).join("0")}const iT={"%":(e,t)=>(e*100).toFixed(t),b:e=>Math.round(e).toString(2),c:e=>e+"",d:Bde,e:(e,t)=>e.toExponential(t),f:(e,t)=>e.toFixed(t),g:(e,t)=>e.toPrecision(t),o:e=>Math.round(e).toString(8),p:(e,t)=>aT(e*100,t),r:aT,s:Hde,X:e=>Math.round(e).toString(16).toUpperCase(),x:e=>Math.round(e).toString(16)};function sT(e){return e}var lT=Array.prototype.map,oT=["y","z","a","f","p","n","","m","","k","M","G","T","P","E","Z","Y"];function Vde(e){var t=e.grouping===void 0||e.thousands===void 0?sT:Ude(lT.call(e.grouping,Number),e.thousands+""),r=e.currency===void 0?"":e.currency[0]+"",n=e.currency===void 0?"":e.currency[1]+"",a=e.decimal===void 0?".":e.decimal+"",i=e.numerals===void 0?sT:zde(lT.call(e.numerals,String)),l=e.percent===void 0?"%":e.percent+"",o=e.minus===void 0?"":e.minus+"",u=e.nan===void 0?"NaN":e.nan+"";function f(m){m=pg(m);var g=m.fill,x=m.align,b=m.sign,v=m.symbol,w=m.zero,N=m.width,E=m.comma,j=m.precision,T=m.trim,O=m.type;O==="n"?(E=!0,O="g"):iT[O]||(j===void 0&&(j=12),T=!0,O="g"),(w||g==="0"&&x==="=")&&(w=!0,g="0",x="=");var F=v==="$"?r:v==="#"&&/[boxX]/.test(O)?"0"+O.toLowerCase():"",D=v==="$"?n:/[%p]/.test(O)?l:"",L=iT[O],B=/[defgprs%]/.test(O);j=j===void 0?6:/[gprs]/.test(O)?Math.max(1,Math.min(21,j)):Math.max(0,Math.min(20,j));function H(P){var U=F,K=D,ee,me,ne;if(O==="c")K=L(P)+K,P="";else{P=+P;var se=P<0||1/P<0;if(P=isNaN(P)?u:L(Math.abs(P),j),T&&(P=$de(P)),se&&+P==0&&b!=="+"&&(se=!1),U=(se?b==="("?b:o:b==="-"||b==="("?"":b)+U,K=(O==="s"?oT[8+dR/3]:"")+K+(se&&b==="("?")":""),B){for(ee=-1,me=P.length;++ee<me;)if(ne=P.charCodeAt(ee),48>ne||ne>57){K=(ne===46?a+P.slice(ee+1):P.slice(ee))+K,P=P.slice(0,ee);break}}}E&&!w&&(P=t(P,1/0));var ye=U.length+P.length+K.length,ce=ye<N?new Array(N-ye+1).join(g):"";switch(E&&w&&(P=t(ce+P,ce.length?N-K.length:1/0),ce=""),x){case"<":P=U+P+K+ce;break;case"=":P=U+ce+P+K;break;case"^":P=ce.slice(0,ye=ce.length>>1)+U+P+K+ce.slice(ye);break;default:P=ce+U+P+K;break}return i(P)}return H.toString=function(){return m+""},H}function h(m,g){var x=f((m=pg(m),m.type="f",m)),b=Math.max(-8,Math.min(8,Math.floor(Km(g)/3)))*3,v=Math.pow(10,-b),w=oT[8+b/3];return function(N){return x(v*N)+w}}return{format:f,formatPrefix:h}}var vv,uj,hR;Wde({thousands:",",grouping:[3],currency:["$",""]});function Wde(e){return vv=Vde(e),uj=vv.format,hR=vv.formatPrefix,vv}function Gde(e){return Math.max(0,-Km(Math.abs(e)))}function Kde(e,t){return Math.max(0,Math.max(-8,Math.min(8,Math.floor(Km(t)/3)))*3-Km(Math.abs(e)))}function Yde(e,t){return e=Math.abs(e),t=Math.abs(t)-e,Math.max(0,Km(t)-Km(e))+1}function mR(e,t,r,n){var a=MN(e,t,r),i;switch(n=pg(n??",f"),n.type){case"s":{var l=Math.max(Math.abs(e),Math.abs(t));return n.precision==null&&!isNaN(i=Kde(a,l))&&(n.precision=i),hR(n,l)}case"":case"e":case"g":case"p":case"r":{n.precision==null&&!isNaN(i=Yde(a,Math.max(Math.abs(e),Math.abs(t))))&&(n.precision=i-(n.type==="e"));break}case"f":case"%":{n.precision==null&&!isNaN(i=Gde(a))&&(n.precision=i-(n.type==="%")*2);break}}return uj(n)}function $d(e){var t=e.domain;return e.ticks=function(r){var n=t();return PN(n[0],n[n.length-1],r??10)},e.tickFormat=function(r,n){var a=t();return mR(a[0],a[a.length-1],r??10,n)},e.nice=function(r){r==null&&(r=10);var n=t(),a=0,i=n.length-1,l=n[a],o=n[i],u,f,h=10;for(o<l&&(f=l,l=o,o=f,f=a,a=i,i=f);h-- >0;){if(f=LN(l,o,r),f===u)return n[a]=l,n[i]=o,t(n);if(f>0)l=Math.floor(l/f)*f,o=Math.ceil(o/f)*f;else if(f<0)l=Math.ceil(l*f)/f,o=Math.floor(o*f)/f;else break;u=f}return e},e}function pR(){var e=oj();return e.copy=function(){return zg(e,pR())},Go.apply(e,arguments),$d(e)}function xR(e){var t;function r(n){return n==null||isNaN(n=+n)?t:n}return r.invert=r,r.domain=r.range=function(n){return arguments.length?(e=Array.from(n,Cy),r):e.slice()},r.unknown=function(n){return arguments.length?(t=n,r):t},r.copy=function(){return xR(e).unknown(t)},e=arguments.length?Array.from(e,Cy):[0,1],$d(r)}function gR(e,t){e=e.slice();var r=0,n=e.length-1,a=e[r],i=e[n],l;return i<a&&(l=r,r=n,n=l,l=a,a=i,i=l),e[r]=t.floor(a),e[n]=t.ceil(i),e}function cT(e){return Math.log(e)}function uT(e){return Math.exp(e)}function Xde(e){return-Math.log(-e)}function Qde(e){return-Math.exp(-e)}function Zde(e){return isFinite(e)?+("1e"+e):e<0?0:e}function Jde(e){return e===10?Zde:e===Math.E?Math.exp:t=>Math.pow(e,t)}function e0e(e){return e===Math.E?Math.log:e===10&&Math.log10||e===2&&Math.log2||(e=Math.log(e),t=>Math.log(t)/e)}function fT(e){return(t,r)=>-e(-t,r)}function fj(e){const t=e(cT,uT),r=t.domain;let n=10,a,i;function l(){return a=e0e(n),i=Jde(n),r()[0]<0?(a=fT(a),i=fT(i),e(Xde,Qde)):e(cT,uT),t}return t.base=function(o){return arguments.length?(n=+o,l()):n},t.domain=function(o){return arguments.length?(r(o),l()):r()},t.ticks=o=>{const u=r();let f=u[0],h=u[u.length-1];const m=h<f;m&&([f,h]=[h,f]);let g=a(f),x=a(h),b,v;const w=o==null?10:+o;let N=[];if(!(n%1)&&x-g<w){if(g=Math.floor(g),x=Math.ceil(x),f>0){for(;g<=x;++g)for(b=1;b<n;++b)if(v=g<0?b/i(-g):b*i(g),!(v<f)){if(v>h)break;N.push(v)}}else for(;g<=x;++g)for(b=n-1;b>=1;--b)if(v=g>0?b/i(-g):b*i(g),!(v<f)){if(v>h)break;N.push(v)}N.length*2<w&&(N=PN(f,h,w))}else N=PN(g,x,Math.min(x-g,w)).map(i);return m?N.reverse():N},t.tickFormat=(o,u)=>{if(o==null&&(o=10),u==null&&(u=n===10?"s":","),typeof u!="function"&&(!(n%1)&&(u=pg(u)).precision==null&&(u.trim=!0),u=uj(u)),o===1/0)return u;const f=Math.max(1,n*o/t.ticks().length);return h=>{let m=h/i(Math.round(a(h)));return m*n<n-.5&&(m*=n),m<=f?u(h):""}},t.nice=()=>r(gR(r(),{floor:o=>i(Math.floor(a(o))),ceil:o=>i(Math.ceil(a(o)))})),t}function vR(){const e=fj(T2()).domain([1,10]);return e.copy=()=>zg(e,vR()).base(e.base()),Go.apply(e,arguments),e}function dT(e){return function(t){return Math.sign(t)*Math.log1p(Math.abs(t/e))}}function hT(e){return function(t){return Math.sign(t)*Math.expm1(Math.abs(t))*e}}function dj(e){var t=1,r=e(dT(t),hT(t));return r.constant=function(n){return arguments.length?e(dT(t=+n),hT(t)):t},$d(r)}function yR(){var e=dj(T2());return e.copy=function(){return zg(e,yR()).constant(e.constant())},Go.apply(e,arguments)}function mT(e){return function(t){return t<0?-Math.pow(-t,e):Math.pow(t,e)}}function t0e(e){return e<0?-Math.sqrt(-e):Math.sqrt(e)}function r0e(e){return e<0?-e*e:e*e}function hj(e){var t=e(el,el),r=1;function n(){return r===1?e(el,el):r===.5?e(t0e,r0e):e(mT(r),mT(1/r))}return t.exponent=function(a){return arguments.length?(r=+a,n()):r},$d(t)}function mj(){var e=hj(T2());return e.copy=function(){return zg(e,mj()).exponent(e.exponent())},Go.apply(e,arguments),e}function n0e(){return mj.apply(null,arguments).exponent(.5)}function pT(e){return Math.sign(e)*e*e}function a0e(e){return Math.sign(e)*Math.sqrt(Math.abs(e))}function bR(){var e=oj(),t=[0,1],r=!1,n;function a(i){var l=a0e(e(i));return isNaN(l)?n:r?Math.round(l):l}return a.invert=function(i){return e.invert(pT(i))},a.domain=function(i){return arguments.length?(e.domain(i),a):e.domain()},a.range=function(i){return arguments.length?(e.range((t=Array.from(i,Cy)).map(pT)),a):t.slice()},a.rangeRound=function(i){return a.range(i).round(!0)},a.round=function(i){return arguments.length?(r=!!i,a):r},a.clamp=function(i){return arguments.length?(e.clamp(i),a):e.clamp()},a.unknown=function(i){return arguments.length?(n=i,a):n},a.copy=function(){return bR(e.domain(),t).round(r).clamp(e.clamp()).unknown(n)},Go.apply(a,arguments),$d(a)}function wR(){var e=[],t=[],r=[],n;function a(){var l=0,o=Math.max(1,t.length);for(r=new Array(o-1);++l<o;)r[l-1]=ode(e,l/o);return i}function i(l){return l==null||isNaN(l=+l)?n:t[Bg(r,l)]}return i.invertExtent=function(l){var o=t.indexOf(l);return o<0?[NaN,NaN]:[o>0?r[o-1]:e[0],o<r.length?r[o]:e[e.length-1]]},i.domain=function(l){if(!arguments.length)return e.slice();e=[];for(let o of l)o!=null&&!isNaN(o=+o)&&e.push(o);return e.sort(jd),a()},i.range=function(l){return arguments.length?(t=Array.from(l),a()):t.slice()},i.unknown=function(l){return arguments.length?(n=l,i):n},i.quantiles=function(){return r.slice()},i.copy=function(){return wR().domain(e).range(t).unknown(n)},Go.apply(i,arguments)}function NR(){var e=0,t=1,r=1,n=[.5],a=[0,1],i;function l(u){return u!=null&&u<=u?a[Bg(n,u,0,r)]:i}function o(){var u=-1;for(n=new Array(r);++u<r;)n[u]=((u+1)*t-(u-r)*e)/(r+1);return l}return l.domain=function(u){return arguments.length?([e,t]=u,e=+e,t=+t,o()):[e,t]},l.range=function(u){return arguments.length?(r=(a=Array.from(u)).length-1,o()):a.slice()},l.invertExtent=function(u){var f=a.indexOf(u);return f<0?[NaN,NaN]:f<1?[e,n[0]]:f>=r?[n[r-1],t]:[n[f-1],n[f]]},l.unknown=function(u){return arguments.length&&(i=u),l},l.thresholds=function(){return n.slice()},l.copy=function(){return NR().domain([e,t]).range(a).unknown(i)},Go.apply($d(l),arguments)}function _R(){var e=[.5],t=[0,1],r,n=1;function a(i){return i!=null&&i<=i?t[Bg(e,i,0,n)]:r}return a.domain=function(i){return arguments.length?(e=Array.from(i),n=Math.min(e.length,t.length-1),a):e.slice()},a.range=function(i){return arguments.length?(t=Array.from(i),n=Math.min(e.length,t.length-1),a):t.slice()},a.invertExtent=function(i){var l=t.indexOf(i);return[e[l-1],e[l]]},a.unknown=function(i){return arguments.length?(r=i,a):r},a.copy=function(){return _R().domain(e).range(t).unknown(r)},Go.apply(a,arguments)}const Y5=new Date,X5=new Date;function Ei(e,t,r,n){function a(i){return e(i=arguments.length===0?new Date:new Date(+i)),i}return a.floor=i=>(e(i=new Date(+i)),i),a.ceil=i=>(e(i=new Date(i-1)),t(i,1),e(i),i),a.round=i=>{const l=a(i),o=a.ceil(i);return i-l<o-i?l:o},a.offset=(i,l)=>(t(i=new Date(+i),l==null?1:Math.floor(l)),i),a.range=(i,l,o)=>{const u=[];if(i=a.ceil(i),o=o==null?1:Math.floor(o),!(i<l)||!(o>0))return u;let f;do u.push(f=new Date(+i)),t(i,o),e(i);while(f<i&&i<l);return u},a.filter=i=>Ei(l=>{if(l>=l)for(;e(l),!i(l);)l.setTime(l-1)},(l,o)=>{if(l>=l)if(o<0)for(;++o<=0;)for(;t(l,-1),!i(l););else for(;--o>=0;)for(;t(l,1),!i(l););}),r&&(a.count=(i,l)=>(Y5.setTime(+i),X5.setTime(+l),e(Y5),e(X5),Math.floor(r(Y5,X5))),a.every=i=>(i=Math.floor(i),!isFinite(i)||!(i>0)?null:i>1?a.filter(n?l=>n(l)%i===0:l=>a.count(0,l)%i===0):a)),a}const Oy=Ei(()=>{},(e,t)=>{e.setTime(+e+t)},(e,t)=>t-e);Oy.every=e=>(e=Math.floor(e),!isFinite(e)||!(e>0)?null:e>1?Ei(t=>{t.setTime(Math.floor(t/e)*e)},(t,r)=>{t.setTime(+t+r*e)},(t,r)=>(r-t)/e):Oy);Oy.range;const ef=1e3,Ro=ef*60,tf=Ro*60,vf=tf*24,pj=vf*7,xT=vf*30,Q5=vf*365,k0=Ei(e=>{e.setTime(e-e.getMilliseconds())},(e,t)=>{e.setTime(+e+t*ef)},(e,t)=>(t-e)/ef,e=>e.getUTCSeconds());k0.range;const xj=Ei(e=>{e.setTime(e-e.getMilliseconds()-e.getSeconds()*ef)},(e,t)=>{e.setTime(+e+t*Ro)},(e,t)=>(t-e)/Ro,e=>e.getMinutes());xj.range;const gj=Ei(e=>{e.setUTCSeconds(0,0)},(e,t)=>{e.setTime(+e+t*Ro)},(e,t)=>(t-e)/Ro,e=>e.getUTCMinutes());gj.range;const vj=Ei(e=>{e.setTime(e-e.getMilliseconds()-e.getSeconds()*ef-e.getMinutes()*Ro)},(e,t)=>{e.setTime(+e+t*tf)},(e,t)=>(t-e)/tf,e=>e.getHours());vj.range;const yj=Ei(e=>{e.setUTCMinutes(0,0,0)},(e,t)=>{e.setTime(+e+t*tf)},(e,t)=>(t-e)/tf,e=>e.getUTCHours());yj.range;const qg=Ei(e=>e.setHours(0,0,0,0),(e,t)=>e.setDate(e.getDate()+t),(e,t)=>(t-e-(t.getTimezoneOffset()-e.getTimezoneOffset())*Ro)/vf,e=>e.getDate()-1);qg.range;const O2=Ei(e=>{e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCDate(e.getUTCDate()+t)},(e,t)=>(t-e)/vf,e=>e.getUTCDate()-1);O2.range;const jR=Ei(e=>{e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCDate(e.getUTCDate()+t)},(e,t)=>(t-e)/vf,e=>Math.floor(e/vf));jR.range;function xh(e){return Ei(t=>{t.setDate(t.getDate()-(t.getDay()+7-e)%7),t.setHours(0,0,0,0)},(t,r)=>{t.setDate(t.getDate()+r*7)},(t,r)=>(r-t-(r.getTimezoneOffset()-t.getTimezoneOffset())*Ro)/pj)}const D2=xh(0),Dy=xh(1),i0e=xh(2),s0e=xh(3),Ym=xh(4),l0e=xh(5),o0e=xh(6);D2.range;Dy.range;i0e.range;s0e.range;Ym.range;l0e.range;o0e.range;function gh(e){return Ei(t=>{t.setUTCDate(t.getUTCDate()-(t.getUTCDay()+7-e)%7),t.setUTCHours(0,0,0,0)},(t,r)=>{t.setUTCDate(t.getUTCDate()+r*7)},(t,r)=>(r-t)/pj)}const F2=gh(0),Fy=gh(1),c0e=gh(2),u0e=gh(3),Xm=gh(4),f0e=gh(5),d0e=gh(6);F2.range;Fy.range;c0e.range;u0e.range;Xm.range;f0e.range;d0e.range;const bj=Ei(e=>{e.setDate(1),e.setHours(0,0,0,0)},(e,t)=>{e.setMonth(e.getMonth()+t)},(e,t)=>t.getMonth()-e.getMonth()+(t.getFullYear()-e.getFullYear())*12,e=>e.getMonth());bj.range;const wj=Ei(e=>{e.setUTCDate(1),e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCMonth(e.getUTCMonth()+t)},(e,t)=>t.getUTCMonth()-e.getUTCMonth()+(t.getUTCFullYear()-e.getUTCFullYear())*12,e=>e.getUTCMonth());wj.range;const yf=Ei(e=>{e.setMonth(0,1),e.setHours(0,0,0,0)},(e,t)=>{e.setFullYear(e.getFullYear()+t)},(e,t)=>t.getFullYear()-e.getFullYear(),e=>e.getFullYear());yf.every=e=>!isFinite(e=Math.floor(e))||!(e>0)?null:Ei(t=>{t.setFullYear(Math.floor(t.getFullYear()/e)*e),t.setMonth(0,1),t.setHours(0,0,0,0)},(t,r)=>{t.setFullYear(t.getFullYear()+r*e)});yf.range;const bf=Ei(e=>{e.setUTCMonth(0,1),e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCFullYear(e.getUTCFullYear()+t)},(e,t)=>t.getUTCFullYear()-e.getUTCFullYear(),e=>e.getUTCFullYear());bf.every=e=>!isFinite(e=Math.floor(e))||!(e>0)?null:Ei(t=>{t.setUTCFullYear(Math.floor(t.getUTCFullYear()/e)*e),t.setUTCMonth(0,1),t.setUTCHours(0,0,0,0)},(t,r)=>{t.setUTCFullYear(t.getUTCFullYear()+r*e)});bf.range;function SR(e,t,r,n,a,i){const l=[[k0,1,ef],[k0,5,5*ef],[k0,15,15*ef],[k0,30,30*ef],[i,1,Ro],[i,5,5*Ro],[i,15,15*Ro],[i,30,30*Ro],[a,1,tf],[a,3,3*tf],[a,6,6*tf],[a,12,12*tf],[n,1,vf],[n,2,2*vf],[r,1,pj],[t,1,xT],[t,3,3*xT],[e,1,Q5]];function o(f,h,m){const g=h<f;g&&([f,h]=[h,f]);const x=m&&typeof m.range=="function"?m:u(f,h,m),b=x?x.range(f,+h+1):[];return g?b.reverse():b}function u(f,h,m){const g=Math.abs(h-f)/m,x=rj(([,,w])=>w).right(l,g);if(x===l.length)return e.every(MN(f/Q5,h/Q5,m));if(x===0)return Oy.every(Math.max(MN(f,h,m),1));const[b,v]=l[g/l[x-1][2]<l[x][2]/g?x-1:x];return b.every(v)}return[o,u]}const[h0e,m0e]=SR(bf,wj,F2,jR,yj,gj),[p0e,x0e]=SR(yf,bj,D2,qg,vj,xj);function Z5(e){if(0<=e.y&&e.y<100){var t=new Date(-1,e.m,e.d,e.H,e.M,e.S,e.L);return t.setFullYear(e.y),t}return new Date(e.y,e.m,e.d,e.H,e.M,e.S,e.L)}function J5(e){if(0<=e.y&&e.y<100){var t=new Date(Date.UTC(-1,e.m,e.d,e.H,e.M,e.S,e.L));return t.setUTCFullYear(e.y),t}return new Date(Date.UTC(e.y,e.m,e.d,e.H,e.M,e.S,e.L))}function fx(e,t,r){return{y:e,m:t,d:r,H:0,M:0,S:0,L:0}}function g0e(e){var t=e.dateTime,r=e.date,n=e.time,a=e.periods,i=e.days,l=e.shortDays,o=e.months,u=e.shortMonths,f=dx(a),h=hx(a),m=dx(i),g=hx(i),x=dx(l),b=hx(l),v=dx(o),w=hx(o),N=dx(u),E=hx(u),j={a:se,A:ye,b:ce,B:Se,c:null,d:NT,e:NT,f:U0e,g:X0e,G:Z0e,H:R0e,I:I0e,j:B0e,L:AR,m:z0e,M:q0e,p:te,q:M,Q:ST,s:AT,S:$0e,u:H0e,U:V0e,V:W0e,w:G0e,W:K0e,x:null,X:null,y:Y0e,Y:Q0e,Z:J0e,"%":jT},T={a:R,A:q,b:W,B:J,c:null,d:_T,e:_T,f:nhe,g:hhe,G:phe,H:ehe,I:the,j:rhe,L:kR,m:ahe,M:ihe,p:le,q:ue,Q:ST,s:AT,S:she,u:lhe,U:ohe,V:che,w:uhe,W:fhe,x:null,X:null,y:dhe,Y:mhe,Z:xhe,"%":jT},O={a:H,A:P,b:U,B:K,c:ee,d:bT,e:bT,f:F0e,g:yT,G:vT,H:wT,I:wT,j:C0e,L:D0e,m:k0e,M:T0e,p:B,q:E0e,Q:L0e,s:M0e,S:O0e,u:N0e,U:_0e,V:j0e,w:w0e,W:S0e,x:me,X:ne,y:yT,Y:vT,Z:A0e,"%":P0e};j.x=F(r,j),j.X=F(n,j),j.c=F(t,j),T.x=F(r,T),T.X=F(n,T),T.c=F(t,T);function F(X,ge){return function(Te){var Y=[],We=-1,Ee=0,xe=X.length,dt,Xe,bt;for(Te instanceof Date||(Te=new Date(+Te));++We<xe;)X.charCodeAt(We)===37&&(Y.push(X.slice(Ee,We)),(Xe=gT[dt=X.charAt(++We)])!=null?dt=X.charAt(++We):Xe=dt==="e"?" ":"0",(bt=ge[dt])&&(dt=bt(Te,Xe)),Y.push(dt),Ee=We+1);return Y.push(X.slice(Ee,We)),Y.join("")}}function D(X,ge){return function(Te){var Y=fx(1900,void 0,1),We=L(Y,X,Te+="",0),Ee,xe;if(We!=Te.length)return null;if("Q"in Y)return new Date(Y.Q);if("s"in Y)return new Date(Y.s*1e3+("L"in Y?Y.L:0));if(ge&&!("Z"in Y)&&(Y.Z=0),"p"in Y&&(Y.H=Y.H%12+Y.p*12),Y.m===void 0&&(Y.m="q"in Y?Y.q:0),"V"in Y){if(Y.V<1||Y.V>53)return null;"w"in Y||(Y.w=1),"Z"in Y?(Ee=J5(fx(Y.y,0,1)),xe=Ee.getUTCDay(),Ee=xe>4||xe===0?Fy.ceil(Ee):Fy(Ee),Ee=O2.offset(Ee,(Y.V-1)*7),Y.y=Ee.getUTCFullYear(),Y.m=Ee.getUTCMonth(),Y.d=Ee.getUTCDate()+(Y.w+6)%7):(Ee=Z5(fx(Y.y,0,1)),xe=Ee.getDay(),Ee=xe>4||xe===0?Dy.ceil(Ee):Dy(Ee),Ee=qg.offset(Ee,(Y.V-1)*7),Y.y=Ee.getFullYear(),Y.m=Ee.getMonth(),Y.d=Ee.getDate()+(Y.w+6)%7)}else("W"in Y||"U"in Y)&&("w"in Y||(Y.w="u"in Y?Y.u%7:"W"in Y?1:0),xe="Z"in Y?J5(fx(Y.y,0,1)).getUTCDay():Z5(fx(Y.y,0,1)).getDay(),Y.m=0,Y.d="W"in Y?(Y.w+6)%7+Y.W*7-(xe+5)%7:Y.w+Y.U*7-(xe+6)%7);return"Z"in Y?(Y.H+=Y.Z/100|0,Y.M+=Y.Z%100,J5(Y)):Z5(Y)}}function L(X,ge,Te,Y){for(var We=0,Ee=ge.length,xe=Te.length,dt,Xe;We<Ee;){if(Y>=xe)return-1;if(dt=ge.charCodeAt(We++),dt===37){if(dt=ge.charAt(We++),Xe=O[dt in gT?ge.charAt(We++):dt],!Xe||(Y=Xe(X,Te,Y))<0)return-1}else if(dt!=Te.charCodeAt(Y++))return-1}return Y}function B(X,ge,Te){var Y=f.exec(ge.slice(Te));return Y?(X.p=h.get(Y[0].toLowerCase()),Te+Y[0].length):-1}function H(X,ge,Te){var Y=x.exec(ge.slice(Te));return Y?(X.w=b.get(Y[0].toLowerCase()),Te+Y[0].length):-1}function P(X,ge,Te){var Y=m.exec(ge.slice(Te));return Y?(X.w=g.get(Y[0].toLowerCase()),Te+Y[0].length):-1}function U(X,ge,Te){var Y=N.exec(ge.slice(Te));return Y?(X.m=E.get(Y[0].toLowerCase()),Te+Y[0].length):-1}function K(X,ge,Te){var Y=v.exec(ge.slice(Te));return Y?(X.m=w.get(Y[0].toLowerCase()),Te+Y[0].length):-1}function ee(X,ge,Te){return L(X,t,ge,Te)}function me(X,ge,Te){return L(X,r,ge,Te)}function ne(X,ge,Te){return L(X,n,ge,Te)}function se(X){return l[X.getDay()]}function ye(X){return i[X.getDay()]}function ce(X){return u[X.getMonth()]}function Se(X){return o[X.getMonth()]}function te(X){return a[+(X.getHours()>=12)]}function M(X){return 1+~~(X.getMonth()/3)}function R(X){return l[X.getUTCDay()]}function q(X){return i[X.getUTCDay()]}function W(X){return u[X.getUTCMonth()]}function J(X){return o[X.getUTCMonth()]}function le(X){return a[+(X.getUTCHours()>=12)]}function ue(X){return 1+~~(X.getUTCMonth()/3)}return{format:function(X){var ge=F(X+="",j);return ge.toString=function(){return X},ge},parse:function(X){var ge=D(X+="",!1);return ge.toString=function(){return X},ge},utcFormat:function(X){var ge=F(X+="",T);return ge.toString=function(){return X},ge},utcParse:function(X){var ge=D(X+="",!0);return ge.toString=function(){return X},ge}}}var gT={"-":"",_:" ",0:"0"},Hi=/^\s*\d+/,v0e=/^%/,y0e=/[\\^$*+?|[\]().{}]/g;function sn(e,t,r){var n=e<0?"-":"",a=(n?-e:e)+"",i=a.length;return n+(i<r?new Array(r-i+1).join(t)+a:a)}function b0e(e){return e.replace(y0e,"\\$&")}function dx(e){return new RegExp("^(?:"+e.map(b0e).join("|")+")","i")}function hx(e){return new Map(e.map((t,r)=>[t.toLowerCase(),r]))}function w0e(e,t,r){var n=Hi.exec(t.slice(r,r+1));return n?(e.w=+n[0],r+n[0].length):-1}function N0e(e,t,r){var n=Hi.exec(t.slice(r,r+1));return n?(e.u=+n[0],r+n[0].length):-1}function _0e(e,t,r){var n=Hi.exec(t.slice(r,r+2));return n?(e.U=+n[0],r+n[0].length):-1}function j0e(e,t,r){var n=Hi.exec(t.slice(r,r+2));return n?(e.V=+n[0],r+n[0].length):-1}function S0e(e,t,r){var n=Hi.exec(t.slice(r,r+2));return n?(e.W=+n[0],r+n[0].length):-1}function vT(e,t,r){var n=Hi.exec(t.slice(r,r+4));return n?(e.y=+n[0],r+n[0].length):-1}function yT(e,t,r){var n=Hi.exec(t.slice(r,r+2));return n?(e.y=+n[0]+(+n[0]>68?1900:2e3),r+n[0].length):-1}function A0e(e,t,r){var n=/^(Z)|([+-]\d\d)(?::?(\d\d))?/.exec(t.slice(r,r+6));return n?(e.Z=n[1]?0:-(n[2]+(n[3]||"00")),r+n[0].length):-1}function E0e(e,t,r){var n=Hi.exec(t.slice(r,r+1));return n?(e.q=n[0]*3-3,r+n[0].length):-1}function k0e(e,t,r){var n=Hi.exec(t.slice(r,r+2));return n?(e.m=n[0]-1,r+n[0].length):-1}function bT(e,t,r){var n=Hi.exec(t.slice(r,r+2));return n?(e.d=+n[0],r+n[0].length):-1}function C0e(e,t,r){var n=Hi.exec(t.slice(r,r+3));return n?(e.m=0,e.d=+n[0],r+n[0].length):-1}function wT(e,t,r){var n=Hi.exec(t.slice(r,r+2));return n?(e.H=+n[0],r+n[0].length):-1}function T0e(e,t,r){var n=Hi.exec(t.slice(r,r+2));return n?(e.M=+n[0],r+n[0].length):-1}function O0e(e,t,r){var n=Hi.exec(t.slice(r,r+2));return n?(e.S=+n[0],r+n[0].length):-1}function D0e(e,t,r){var n=Hi.exec(t.slice(r,r+3));return n?(e.L=+n[0],r+n[0].length):-1}function F0e(e,t,r){var n=Hi.exec(t.slice(r,r+6));return n?(e.L=Math.floor(n[0]/1e3),r+n[0].length):-1}function P0e(e,t,r){var n=v0e.exec(t.slice(r,r+1));return n?r+n[0].length:-1}function L0e(e,t,r){var n=Hi.exec(t.slice(r));return n?(e.Q=+n[0],r+n[0].length):-1}function M0e(e,t,r){var n=Hi.exec(t.slice(r));return n?(e.s=+n[0],r+n[0].length):-1}function NT(e,t){return sn(e.getDate(),t,2)}function R0e(e,t){return sn(e.getHours(),t,2)}function I0e(e,t){return sn(e.getHours()%12||12,t,2)}function B0e(e,t){return sn(1+qg.count(yf(e),e),t,3)}function AR(e,t){return sn(e.getMilliseconds(),t,3)}function U0e(e,t){return AR(e,t)+"000"}function z0e(e,t){return sn(e.getMonth()+1,t,2)}function q0e(e,t){return sn(e.getMinutes(),t,2)}function $0e(e,t){return sn(e.getSeconds(),t,2)}function H0e(e){var t=e.getDay();return t===0?7:t}function V0e(e,t){return sn(D2.count(yf(e)-1,e),t,2)}function ER(e){var t=e.getDay();return t>=4||t===0?Ym(e):Ym.ceil(e)}function W0e(e,t){return e=ER(e),sn(Ym.count(yf(e),e)+(yf(e).getDay()===4),t,2)}function G0e(e){return e.getDay()}function K0e(e,t){return sn(Dy.count(yf(e)-1,e),t,2)}function Y0e(e,t){return sn(e.getFullYear()%100,t,2)}function X0e(e,t){return e=ER(e),sn(e.getFullYear()%100,t,2)}function Q0e(e,t){return sn(e.getFullYear()%1e4,t,4)}function Z0e(e,t){var r=e.getDay();return e=r>=4||r===0?Ym(e):Ym.ceil(e),sn(e.getFullYear()%1e4,t,4)}function J0e(e){var t=e.getTimezoneOffset();return(t>0?"-":(t*=-1,"+"))+sn(t/60|0,"0",2)+sn(t%60,"0",2)}function _T(e,t){return sn(e.getUTCDate(),t,2)}function ehe(e,t){return sn(e.getUTCHours(),t,2)}function the(e,t){return sn(e.getUTCHours()%12||12,t,2)}function rhe(e,t){return sn(1+O2.count(bf(e),e),t,3)}function kR(e,t){return sn(e.getUTCMilliseconds(),t,3)}function nhe(e,t){return kR(e,t)+"000"}function ahe(e,t){return sn(e.getUTCMonth()+1,t,2)}function ihe(e,t){return sn(e.getUTCMinutes(),t,2)}function she(e,t){return sn(e.getUTCSeconds(),t,2)}function lhe(e){var t=e.getUTCDay();return t===0?7:t}function ohe(e,t){return sn(F2.count(bf(e)-1,e),t,2)}function CR(e){var t=e.getUTCDay();return t>=4||t===0?Xm(e):Xm.ceil(e)}function che(e,t){return e=CR(e),sn(Xm.count(bf(e),e)+(bf(e).getUTCDay()===4),t,2)}function uhe(e){return e.getUTCDay()}function fhe(e,t){return sn(Fy.count(bf(e)-1,e),t,2)}function dhe(e,t){return sn(e.getUTCFullYear()%100,t,2)}function hhe(e,t){return e=CR(e),sn(e.getUTCFullYear()%100,t,2)}function mhe(e,t){return sn(e.getUTCFullYear()%1e4,t,4)}function phe(e,t){var r=e.getUTCDay();return e=r>=4||r===0?Xm(e):Xm.ceil(e),sn(e.getUTCFullYear()%1e4,t,4)}function xhe(){return"+0000"}function jT(){return"%"}function ST(e){return+e}function AT(e){return Math.floor(+e/1e3)}var mm,TR,OR;ghe({dateTime:"%x, %X",date:"%-m/%-d/%Y",time:"%-I:%M:%S %p",periods:["AM","PM"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]});function ghe(e){return mm=g0e(e),TR=mm.format,mm.parse,OR=mm.utcFormat,mm.utcParse,mm}function vhe(e){return new Date(e)}function yhe(e){return e instanceof Date?+e:+new Date(+e)}function Nj(e,t,r,n,a,i,l,o,u,f){var h=oj(),m=h.invert,g=h.domain,x=f(".%L"),b=f(":%S"),v=f("%I:%M"),w=f("%I %p"),N=f("%a %d"),E=f("%b %d"),j=f("%B"),T=f("%Y");function O(F){return(u(F)<F?x:o(F)<F?b:l(F)<F?v:i(F)<F?w:n(F)<F?a(F)<F?N:E:r(F)<F?j:T)(F)}return h.invert=function(F){return new Date(m(F))},h.domain=function(F){return arguments.length?g(Array.from(F,yhe)):g().map(vhe)},h.ticks=function(F){var D=g();return e(D[0],D[D.length-1],F??10)},h.tickFormat=function(F,D){return D==null?O:f(D)},h.nice=function(F){var D=g();return(!F||typeof F.range!="function")&&(F=t(D[0],D[D.length-1],F??10)),F?g(gR(D,F)):h},h.copy=function(){return zg(h,Nj(e,t,r,n,a,i,l,o,u,f))},h}function bhe(){return Go.apply(Nj(p0e,x0e,yf,bj,D2,qg,vj,xj,k0,TR).domain([new Date(2e3,0,1),new Date(2e3,0,2)]),arguments)}function whe(){return Go.apply(Nj(h0e,m0e,bf,wj,F2,O2,yj,gj,k0,OR).domain([Date.UTC(2e3,0,1),Date.UTC(2e3,0,2)]),arguments)}function P2(){var e=0,t=1,r,n,a,i,l=el,o=!1,u;function f(m){return m==null||isNaN(m=+m)?u:l(a===0?.5:(m=(i(m)-r)*a,o?Math.max(0,Math.min(1,m)):m))}f.domain=function(m){return arguments.length?([e,t]=m,r=i(e=+e),n=i(t=+t),a=r===n?0:1/(n-r),f):[e,t]},f.clamp=function(m){return arguments.length?(o=!!m,f):o},f.interpolator=function(m){return arguments.length?(l=m,f):l};function h(m){return function(g){var x,b;return arguments.length?([x,b]=g,l=m(x,b),f):[l(0),l(1)]}}return f.range=h(fp),f.rangeRound=h(lj),f.unknown=function(m){return arguments.length?(u=m,f):u},function(m){return i=m,r=m(e),n=m(t),a=r===n?0:1/(n-r),f}}function Hd(e,t){return t.domain(e.domain()).interpolator(e.interpolator()).clamp(e.clamp()).unknown(e.unknown())}function DR(){var e=$d(P2()(el));return e.copy=function(){return Hd(e,DR())},Cf.apply(e,arguments)}function FR(){var e=fj(P2()).domain([1,10]);return e.copy=function(){return Hd(e,FR()).base(e.base())},Cf.apply(e,arguments)}function PR(){var e=dj(P2());return e.copy=function(){return Hd(e,PR()).constant(e.constant())},Cf.apply(e,arguments)}function _j(){var e=hj(P2());return e.copy=function(){return Hd(e,_j()).exponent(e.exponent())},Cf.apply(e,arguments)}function Nhe(){return _j.apply(null,arguments).exponent(.5)}function LR(){var e=[],t=el;function r(n){if(n!=null&&!isNaN(n=+n))return t((Bg(e,n,1)-1)/(e.length-1))}return r.domain=function(n){if(!arguments.length)return e.slice();e=[];for(let a of n)a!=null&&!isNaN(a=+a)&&e.push(a);return e.sort(jd),r},r.interpolator=function(n){return arguments.length?(t=n,r):t},r.range=function(){return e.map((n,a)=>t(a/(e.length-1)))},r.quantiles=function(n){return Array.from({length:n+1},(a,i)=>lde(e,i/n))},r.copy=function(){return LR(t).domain(e)},Cf.apply(r,arguments)}function L2(){var e=0,t=.5,r=1,n=1,a,i,l,o,u,f=el,h,m=!1,g;function x(v){return isNaN(v=+v)?g:(v=.5+((v=+h(v))-i)*(n*v<n*i?o:u),f(m?Math.max(0,Math.min(1,v)):v))}x.domain=function(v){return arguments.length?([e,t,r]=v,a=h(e=+e),i=h(t=+t),l=h(r=+r),o=a===i?0:.5/(i-a),u=i===l?0:.5/(l-i),n=i<a?-1:1,x):[e,t,r]},x.clamp=function(v){return arguments.length?(m=!!v,x):m},x.interpolator=function(v){return arguments.length?(f=v,x):f};function b(v){return function(w){var N,E,j;return arguments.length?([N,E,j]=w,f=Pde(v,[N,E,j]),x):[f(0),f(.5),f(1)]}}return x.range=b(fp),x.rangeRound=b(lj),x.unknown=function(v){return arguments.length?(g=v,x):g},function(v){return h=v,a=v(e),i=v(t),l=v(r),o=a===i?0:.5/(i-a),u=i===l?0:.5/(l-i),n=i<a?-1:1,x}}function MR(){var e=$d(L2()(el));return e.copy=function(){return Hd(e,MR())},Cf.apply(e,arguments)}function RR(){var e=fj(L2()).domain([.1,1,10]);return e.copy=function(){return Hd(e,RR()).base(e.base())},Cf.apply(e,arguments)}function IR(){var e=dj(L2());return e.copy=function(){return Hd(e,IR()).constant(e.constant())},Cf.apply(e,arguments)}function jj(){var e=hj(L2());return e.copy=function(){return Hd(e,jj()).exponent(e.exponent())},Cf.apply(e,arguments)}function _he(){return jj.apply(null,arguments).exponent(.5)}const wx=Object.freeze(Object.defineProperty({__proto__:null,scaleBand:aj,scaleDiverging:MR,scaleDivergingLog:RR,scaleDivergingPow:jj,scaleDivergingSqrt:_he,scaleDivergingSymlog:IR,scaleIdentity:xR,scaleImplicit:RN,scaleLinear:pR,scaleLog:vR,scaleOrdinal:nj,scalePoint:ude,scalePow:mj,scaleQuantile:wR,scaleQuantize:NR,scaleRadial:bR,scaleSequential:DR,scaleSequentialLog:FR,scaleSequentialPow:_j,scaleSequentialQuantile:LR,scaleSequentialSqrt:Nhe,scaleSequentialSymlog:PR,scaleSqrt:n0e,scaleSymlog:yR,scaleThreshold:_R,scaleTime:bhe,scaleUtc:whe,tickFormat:mR},Symbol.toStringTag,{value:"Module"}));var Vd=e=>e.chartData,Sj=He([Vd],e=>{var t=e.chartData!=null?e.chartData.length-1:0;return{chartData:e.chartData,computedData:e.computedData,dataEndIndex:t,dataStartIndex:0}}),M2=(e,t,r,n)=>n?Sj(e):Vd(e);function th(e){if(Array.isArray(e)&&e.length===2){var[t,r]=e;if(Ps(t)&&Ps(r))return!0}return!1}function ET(e,t,r){return r?e:[Math.min(e[0],t[0]),Math.max(e[1],t[1])]}function BR(e,t){if(t&&typeof e!="function"&&Array.isArray(e)&&e.length===2){var[r,n]=e,a,i;if(Ps(r))a=r;else if(typeof r=="function")return;if(Ps(n))i=n;else if(typeof n=="function")return;var l=[a,i];if(th(l))return l}}function jhe(e,t,r){if(!(!r&&t==null)){if(typeof e=="function"&&t!=null)try{var n=e(t,r);if(th(n))return ET(n,t,r)}catch{}if(Array.isArray(e)&&e.length===2){var[a,i]=e,l,o;if(a==="auto")t!=null&&(l=Math.min(...t));else if(Qt(a))l=a;else if(typeof a=="function")try{t!=null&&(l=a(t?.[0]))}catch{}else if(typeof a=="string"&&u8.test(a)){var u=u8.exec(a);if(u==null||t==null)l=void 0;else{var f=+u[1];l=t[0]-f}}else l=t?.[0];if(i==="auto")t!=null&&(o=Math.max(...t));else if(Qt(i))o=i;else if(typeof i=="function")try{t!=null&&(o=i(t?.[1]))}catch{}else if(typeof i=="string"&&f8.test(i)){var h=f8.exec(i);if(h==null||t==null)o=void 0;else{var m=+h[1];o=t[1]+m}}else o=t?.[1];var g=[l,o];if(th(g))return t==null?g:ET(g,t,r)}}}var dp=1e9,She={precision:20,rounding:4,toExpNeg:-7,toExpPos:21,LN10:"2.302585092994045684017991454684364207601101488628772976033327900967572609677352480235997205089598298341967784042286"},Ej,ua=!0,$o="[DecimalError] ",I0=$o+"Invalid argument: ",Aj=$o+"Exponent out of range: ",hp=Math.floor,w0=Math.pow,Ahe=/^(\d+(\.\d*)?|\.\d+)(e[+-]?\d+)?$/i,Jl,Ii=1e7,Xn=7,UR=9007199254740991,Py=hp(UR/Xn),Rt={};Rt.absoluteValue=Rt.abs=function(){var e=new this.constructor(this);return e.s&&(e.s=1),e};Rt.comparedTo=Rt.cmp=function(e){var t,r,n,a,i=this;if(e=new i.constructor(e),i.s!==e.s)return i.s||-e.s;if(i.e!==e.e)return i.e>e.e^i.s<0?1:-1;for(n=i.d.length,a=e.d.length,t=0,r=n<a?n:a;t<r;++t)if(i.d[t]!==e.d[t])return i.d[t]>e.d[t]^i.s<0?1:-1;return n===a?0:n>a^i.s<0?1:-1};Rt.decimalPlaces=Rt.dp=function(){var e=this,t=e.d.length-1,r=(t-e.e)*Xn;if(t=e.d[t],t)for(;t%10==0;t/=10)r--;return r<0?0:r};Rt.dividedBy=Rt.div=function(e){return uf(this,new this.constructor(e))};Rt.dividedToIntegerBy=Rt.idiv=function(e){var t=this,r=t.constructor;return In(uf(t,new r(e),0,1),r.precision)};Rt.equals=Rt.eq=function(e){return!this.cmp(e)};Rt.exponent=function(){return li(this)};Rt.greaterThan=Rt.gt=function(e){return this.cmp(e)>0};Rt.greaterThanOrEqualTo=Rt.gte=function(e){return this.cmp(e)>=0};Rt.isInteger=Rt.isint=function(){return this.e>this.d.length-2};Rt.isNegative=Rt.isneg=function(){return this.s<0};Rt.isPositive=Rt.ispos=function(){return this.s>0};Rt.isZero=function(){return this.s===0};Rt.lessThan=Rt.lt=function(e){return this.cmp(e)<0};Rt.lessThanOrEqualTo=Rt.lte=function(e){return this.cmp(e)<1};Rt.logarithm=Rt.log=function(e){var t,r=this,n=r.constructor,a=n.precision,i=a+5;if(e===void 0)e=new n(10);else if(e=new n(e),e.s<1||e.eq(Jl))throw Error($o+"NaN");if(r.s<1)throw Error($o+(r.s?"NaN":"-Infinity"));return r.eq(Jl)?new n(0):(ua=!1,t=uf(xg(r,i),xg(e,i),i),ua=!0,In(t,a))};Rt.minus=Rt.sub=function(e){var t=this;return e=new t.constructor(e),t.s==e.s?$R(t,e):zR(t,(e.s=-e.s,e))};Rt.modulo=Rt.mod=function(e){var t,r=this,n=r.constructor,a=n.precision;if(e=new n(e),!e.s)throw Error($o+"NaN");return r.s?(ua=!1,t=uf(r,e,0,1).times(e),ua=!0,r.minus(t)):In(new n(r),a)};Rt.naturalExponential=Rt.exp=function(){return qR(this)};Rt.naturalLogarithm=Rt.ln=function(){return xg(this)};Rt.negated=Rt.neg=function(){var e=new this.constructor(this);return e.s=-e.s||0,e};Rt.plus=Rt.add=function(e){var t=this;return e=new t.constructor(e),t.s==e.s?zR(t,e):$R(t,(e.s=-e.s,e))};Rt.precision=Rt.sd=function(e){var t,r,n,a=this;if(e!==void 0&&e!==!!e&&e!==1&&e!==0)throw Error(I0+e);if(t=li(a)+1,n=a.d.length-1,r=n*Xn+1,n=a.d[n],n){for(;n%10==0;n/=10)r--;for(n=a.d[0];n>=10;n/=10)r++}return e&&t>r?t:r};Rt.squareRoot=Rt.sqrt=function(){var e,t,r,n,a,i,l,o=this,u=o.constructor;if(o.s<1){if(!o.s)return new u(0);throw Error($o+"NaN")}for(e=li(o),ua=!1,a=Math.sqrt(+o),a==0||a==1/0?(t=cu(o.d),(t.length+e)%2==0&&(t+="0"),a=Math.sqrt(t),e=hp((e+1)/2)-(e<0||e%2),a==1/0?t="5e"+e:(t=a.toExponential(),t=t.slice(0,t.indexOf("e")+1)+e),n=new u(t)):n=new u(a.toString()),r=u.precision,a=l=r+3;;)if(i=n,n=i.plus(uf(o,i,l+2)).times(.5),cu(i.d).slice(0,l)===(t=cu(n.d)).slice(0,l)){if(t=t.slice(l-3,l+1),a==l&&t=="4999"){if(In(i,r+1,0),i.times(i).eq(o)){n=i;break}}else if(t!="9999")break;l+=4}return ua=!0,In(n,r)};Rt.times=Rt.mul=function(e){var t,r,n,a,i,l,o,u,f,h=this,m=h.constructor,g=h.d,x=(e=new m(e)).d;if(!h.s||!e.s)return new m(0);for(e.s*=h.s,r=h.e+e.e,u=g.length,f=x.length,u<f&&(i=g,g=x,x=i,l=u,u=f,f=l),i=[],l=u+f,n=l;n--;)i.push(0);for(n=f;--n>=0;){for(t=0,a=u+n;a>n;)o=i[a]+x[n]*g[a-n-1]+t,i[a--]=o%Ii|0,t=o/Ii|0;i[a]=(i[a]+t)%Ii|0}for(;!i[--l];)i.pop();return t?++r:i.shift(),e.d=i,e.e=r,ua?In(e,m.precision):e};Rt.toDecimalPlaces=Rt.todp=function(e,t){var r=this,n=r.constructor;return r=new n(r),e===void 0?r:(mu(e,0,dp),t===void 0?t=n.rounding:mu(t,0,8),In(r,e+li(r)+1,t))};Rt.toExponential=function(e,t){var r,n=this,a=n.constructor;return e===void 0?r=rh(n,!0):(mu(e,0,dp),t===void 0?t=a.rounding:mu(t,0,8),n=In(new a(n),e+1,t),r=rh(n,!0,e+1)),r};Rt.toFixed=function(e,t){var r,n,a=this,i=a.constructor;return e===void 0?rh(a):(mu(e,0,dp),t===void 0?t=i.rounding:mu(t,0,8),n=In(new i(a),e+li(a)+1,t),r=rh(n.abs(),!1,e+li(n)+1),a.isneg()&&!a.isZero()?"-"+r:r)};Rt.toInteger=Rt.toint=function(){var e=this,t=e.constructor;return In(new t(e),li(e)+1,t.rounding)};Rt.toNumber=function(){return+this};Rt.toPower=Rt.pow=function(e){var t,r,n,a,i,l,o=this,u=o.constructor,f=12,h=+(e=new u(e));if(!e.s)return new u(Jl);if(o=new u(o),!o.s){if(e.s<1)throw Error($o+"Infinity");return o}if(o.eq(Jl))return o;if(n=u.precision,e.eq(Jl))return In(o,n);if(t=e.e,r=e.d.length-1,l=t>=r,i=o.s,l){if((r=h<0?-h:h)<=UR){for(a=new u(Jl),t=Math.ceil(n/Xn+4),ua=!1;r%2&&(a=a.times(o),CT(a.d,t)),r=hp(r/2),r!==0;)o=o.times(o),CT(o.d,t);return ua=!0,e.s<0?new u(Jl).div(a):In(a,n)}}else if(i<0)throw Error($o+"NaN");return i=i<0&&e.d[Math.max(t,r)]&1?-1:1,o.s=1,ua=!1,a=e.times(xg(o,n+f)),ua=!0,a=qR(a),a.s=i,a};Rt.toPrecision=function(e,t){var r,n,a=this,i=a.constructor;return e===void 0?(r=li(a),n=rh(a,r<=i.toExpNeg||r>=i.toExpPos)):(mu(e,1,dp),t===void 0?t=i.rounding:mu(t,0,8),a=In(new i(a),e,t),r=li(a),n=rh(a,e<=r||r<=i.toExpNeg,e)),n};Rt.toSignificantDigits=Rt.tosd=function(e,t){var r=this,n=r.constructor;return e===void 0?(e=n.precision,t=n.rounding):(mu(e,1,dp),t===void 0?t=n.rounding:mu(t,0,8)),In(new n(r),e,t)};Rt.toString=Rt.valueOf=Rt.val=Rt.toJSON=Rt[Symbol.for("nodejs.util.inspect.custom")]=function(){var e=this,t=li(e),r=e.constructor;return rh(e,t<=r.toExpNeg||t>=r.toExpPos)};function zR(e,t){var r,n,a,i,l,o,u,f,h=e.constructor,m=h.precision;if(!e.s||!t.s)return t.s||(t=new h(e)),ua?In(t,m):t;if(u=e.d,f=t.d,l=e.e,a=t.e,u=u.slice(),i=l-a,i){for(i<0?(n=u,i=-i,o=f.length):(n=f,a=l,o=u.length),l=Math.ceil(m/Xn),o=l>o?l+1:o+1,i>o&&(i=o,n.length=1),n.reverse();i--;)n.push(0);n.reverse()}for(o=u.length,i=f.length,o-i<0&&(i=o,n=f,f=u,u=n),r=0;i;)r=(u[--i]=u[i]+f[i]+r)/Ii|0,u[i]%=Ii;for(r&&(u.unshift(r),++a),o=u.length;u[--o]==0;)u.pop();return t.d=u,t.e=a,ua?In(t,m):t}function mu(e,t,r){if(e!==~~e||e<t||e>r)throw Error(I0+e)}function cu(e){var t,r,n,a=e.length-1,i="",l=e[0];if(a>0){for(i+=l,t=1;t<a;t++)n=e[t]+"",r=Xn-n.length,r&&(i+=gd(r)),i+=n;l=e[t],n=l+"",r=Xn-n.length,r&&(i+=gd(r))}else if(l===0)return"0";for(;l%10===0;)l/=10;return i+l}var uf=(function(){function e(n,a){var i,l=0,o=n.length;for(n=n.slice();o--;)i=n[o]*a+l,n[o]=i%Ii|0,l=i/Ii|0;return l&&n.unshift(l),n}function t(n,a,i,l){var o,u;if(i!=l)u=i>l?1:-1;else for(o=u=0;o<i;o++)if(n[o]!=a[o]){u=n[o]>a[o]?1:-1;break}return u}function r(n,a,i){for(var l=0;i--;)n[i]-=l,l=n[i]<a[i]?1:0,n[i]=l*Ii+n[i]-a[i];for(;!n[0]&&n.length>1;)n.shift()}return function(n,a,i,l){var o,u,f,h,m,g,x,b,v,w,N,E,j,T,O,F,D,L,B=n.constructor,H=n.s==a.s?1:-1,P=n.d,U=a.d;if(!n.s)return new B(n);if(!a.s)throw Error($o+"Division by zero");for(u=n.e-a.e,D=U.length,O=P.length,x=new B(H),b=x.d=[],f=0;U[f]==(P[f]||0);)++f;if(U[f]>(P[f]||0)&&--u,i==null?E=i=B.precision:l?E=i+(li(n)-li(a))+1:E=i,E<0)return new B(0);if(E=E/Xn+2|0,f=0,D==1)for(h=0,U=U[0],E++;(f<O||h)&&E--;f++)j=h*Ii+(P[f]||0),b[f]=j/U|0,h=j%U|0;else{for(h=Ii/(U[0]+1)|0,h>1&&(U=e(U,h),P=e(P,h),D=U.length,O=P.length),T=D,v=P.slice(0,D),w=v.length;w<D;)v[w++]=0;L=U.slice(),L.unshift(0),F=U[0],U[1]>=Ii/2&&++F;do h=0,o=t(U,v,D,w),o<0?(N=v[0],D!=w&&(N=N*Ii+(v[1]||0)),h=N/F|0,h>1?(h>=Ii&&(h=Ii-1),m=e(U,h),g=m.length,w=v.length,o=t(m,v,g,w),o==1&&(h--,r(m,D<g?L:U,g))):(h==0&&(o=h=1),m=U.slice()),g=m.length,g<w&&m.unshift(0),r(v,m,w),o==-1&&(w=v.length,o=t(U,v,D,w),o<1&&(h++,r(v,D<w?L:U,w))),w=v.length):o===0&&(h++,v=[0]),b[f++]=h,o&&v[0]?v[w++]=P[T]||0:(v=[P[T]],w=1);while((T++<O||v[0]!==void 0)&&E--)}return b[0]||b.shift(),x.e=u,In(x,l?i+li(x)+1:i)}})();function qR(e,t){var r,n,a,i,l,o,u=0,f=0,h=e.constructor,m=h.precision;if(li(e)>16)throw Error(Aj+li(e));if(!e.s)return new h(Jl);for(ua=!1,o=m,l=new h(.03125);e.abs().gte(.1);)e=e.times(l),f+=5;for(n=Math.log(w0(2,f))/Math.LN10*2+5|0,o+=n,r=a=i=new h(Jl),h.precision=o;;){if(a=In(a.times(e),o),r=r.times(++u),l=i.plus(uf(a,r,o)),cu(l.d).slice(0,o)===cu(i.d).slice(0,o)){for(;f--;)i=In(i.times(i),o);return h.precision=m,t==null?(ua=!0,In(i,m)):i}i=l}}function li(e){for(var t=e.e*Xn,r=e.d[0];r>=10;r/=10)t++;return t}function e4(e,t,r){if(t>e.LN10.sd())throw ua=!0,r&&(e.precision=r),Error($o+"LN10 precision limit exceeded");return In(new e(e.LN10),t)}function gd(e){for(var t="";e--;)t+="0";return t}function xg(e,t){var r,n,a,i,l,o,u,f,h,m=1,g=10,x=e,b=x.d,v=x.constructor,w=v.precision;if(x.s<1)throw Error($o+(x.s?"NaN":"-Infinity"));if(x.eq(Jl))return new v(0);if(t==null?(ua=!1,f=w):f=t,x.eq(10))return t==null&&(ua=!0),e4(v,f);if(f+=g,v.precision=f,r=cu(b),n=r.charAt(0),i=li(x),Math.abs(i)<15e14){for(;n<7&&n!=1||n==1&&r.charAt(1)>3;)x=x.times(e),r=cu(x.d),n=r.charAt(0),m++;i=li(x),n>1?(x=new v("0."+r),i++):x=new v(n+"."+r.slice(1))}else return u=e4(v,f+2,w).times(i+""),x=xg(new v(n+"."+r.slice(1)),f-g).plus(u),v.precision=w,t==null?(ua=!0,In(x,w)):x;for(o=l=x=uf(x.minus(Jl),x.plus(Jl),f),h=In(x.times(x),f),a=3;;){if(l=In(l.times(h),f),u=o.plus(uf(l,new v(a),f)),cu(u.d).slice(0,f)===cu(o.d).slice(0,f))return o=o.times(2),i!==0&&(o=o.plus(e4(v,f+2,w).times(i+""))),o=uf(o,new v(m),f),v.precision=w,t==null?(ua=!0,In(o,w)):o;o=u,a+=2}}function kT(e,t){var r,n,a;for((r=t.indexOf("."))>-1&&(t=t.replace(".","")),(n=t.search(/e/i))>0?(r<0&&(r=n),r+=+t.slice(n+1),t=t.substring(0,n)):r<0&&(r=t.length),n=0;t.charCodeAt(n)===48;)++n;for(a=t.length;t.charCodeAt(a-1)===48;)--a;if(t=t.slice(n,a),t){if(a-=n,r=r-n-1,e.e=hp(r/Xn),e.d=[],n=(r+1)%Xn,r<0&&(n+=Xn),n<a){for(n&&e.d.push(+t.slice(0,n)),a-=Xn;n<a;)e.d.push(+t.slice(n,n+=Xn));t=t.slice(n),n=Xn-t.length}else n-=a;for(;n--;)t+="0";if(e.d.push(+t),ua&&(e.e>Py||e.e<-Py))throw Error(Aj+r)}else e.s=0,e.e=0,e.d=[0];return e}function In(e,t,r){var n,a,i,l,o,u,f,h,m=e.d;for(l=1,i=m[0];i>=10;i/=10)l++;if(n=t-l,n<0)n+=Xn,a=t,f=m[h=0];else{if(h=Math.ceil((n+1)/Xn),i=m.length,h>=i)return e;for(f=i=m[h],l=1;i>=10;i/=10)l++;n%=Xn,a=n-Xn+l}if(r!==void 0&&(i=w0(10,l-a-1),o=f/i%10|0,u=t<0||m[h+1]!==void 0||f%i,u=r<4?(o||u)&&(r==0||r==(e.s<0?3:2)):o>5||o==5&&(r==4||u||r==6&&(n>0?a>0?f/w0(10,l-a):0:m[h-1])%10&1||r==(e.s<0?8:7))),t<1||!m[0])return u?(i=li(e),m.length=1,t=t-i-1,m[0]=w0(10,(Xn-t%Xn)%Xn),e.e=hp(-t/Xn)||0):(m.length=1,m[0]=e.e=e.s=0),e;if(n==0?(m.length=h,i=1,h--):(m.length=h+1,i=w0(10,Xn-n),m[h]=a>0?(f/w0(10,l-a)%w0(10,a)|0)*i:0),u)for(;;)if(h==0){(m[0]+=i)==Ii&&(m[0]=1,++e.e);break}else{if(m[h]+=i,m[h]!=Ii)break;m[h--]=0,i=1}for(n=m.length;m[--n]===0;)m.pop();if(ua&&(e.e>Py||e.e<-Py))throw Error(Aj+li(e));return e}function $R(e,t){var r,n,a,i,l,o,u,f,h,m,g=e.constructor,x=g.precision;if(!e.s||!t.s)return t.s?t.s=-t.s:t=new g(e),ua?In(t,x):t;if(u=e.d,m=t.d,n=t.e,f=e.e,u=u.slice(),l=f-n,l){for(h=l<0,h?(r=u,l=-l,o=m.length):(r=m,n=f,o=u.length),a=Math.max(Math.ceil(x/Xn),o)+2,l>a&&(l=a,r.length=1),r.reverse(),a=l;a--;)r.push(0);r.reverse()}else{for(a=u.length,o=m.length,h=a<o,h&&(o=a),a=0;a<o;a++)if(u[a]!=m[a]){h=u[a]<m[a];break}l=0}for(h&&(r=u,u=m,m=r,t.s=-t.s),o=u.length,a=m.length-o;a>0;--a)u[o++]=0;for(a=m.length;a>l;){if(u[--a]<m[a]){for(i=a;i&&u[--i]===0;)u[i]=Ii-1;--u[i],u[a]+=Ii}u[a]-=m[a]}for(;u[--o]===0;)u.pop();for(;u[0]===0;u.shift())--n;return u[0]?(t.d=u,t.e=n,ua?In(t,x):t):new g(0)}function rh(e,t,r){var n,a=li(e),i=cu(e.d),l=i.length;return t?(r&&(n=r-l)>0?i=i.charAt(0)+"."+i.slice(1)+gd(n):l>1&&(i=i.charAt(0)+"."+i.slice(1)),i=i+(a<0?"e":"e+")+a):a<0?(i="0."+gd(-a-1)+i,r&&(n=r-l)>0&&(i+=gd(n))):a>=l?(i+=gd(a+1-l),r&&(n=r-a-1)>0&&(i=i+"."+gd(n))):((n=a+1)<l&&(i=i.slice(0,n)+"."+i.slice(n)),r&&(n=r-l)>0&&(a+1===l&&(i+="."),i+=gd(n))),e.s<0?"-"+i:i}function CT(e,t){if(e.length>t)return e.length=t,!0}function HR(e){var t,r,n;function a(i){var l=this;if(!(l instanceof a))return new a(i);if(l.constructor=a,i instanceof a){l.s=i.s,l.e=i.e,l.d=(i=i.d)?i.slice():i;return}if(typeof i=="number"){if(i*0!==0)throw Error(I0+i);if(i>0)l.s=1;else if(i<0)i=-i,l.s=-1;else{l.s=0,l.e=0,l.d=[0];return}if(i===~~i&&i<1e7){l.e=0,l.d=[i];return}return kT(l,i.toString())}else if(typeof i!="string")throw Error(I0+i);if(i.charCodeAt(0)===45?(i=i.slice(1),l.s=-1):l.s=1,Ahe.test(i))kT(l,i);else throw Error(I0+i)}if(a.prototype=Rt,a.ROUND_UP=0,a.ROUND_DOWN=1,a.ROUND_CEIL=2,a.ROUND_FLOOR=3,a.ROUND_HALF_UP=4,a.ROUND_HALF_DOWN=5,a.ROUND_HALF_EVEN=6,a.ROUND_HALF_CEIL=7,a.ROUND_HALF_FLOOR=8,a.clone=HR,a.config=a.set=Ehe,e===void 0&&(e={}),e)for(n=["precision","rounding","toExpNeg","toExpPos","LN10"],t=0;t<n.length;)e.hasOwnProperty(r=n[t++])||(e[r]=this[r]);return a.config(e),a}function Ehe(e){if(!e||typeof e!="object")throw Error($o+"Object expected");var t,r,n,a=["precision",1,dp,"rounding",0,8,"toExpNeg",-1/0,0,"toExpPos",0,1/0];for(t=0;t<a.length;t+=3)if((n=e[r=a[t]])!==void 0)if(hp(n)===n&&n>=a[t+1]&&n<=a[t+2])this[r]=n;else throw Error(I0+r+": "+n);if((n=e[r="LN10"])!==void 0)if(n==Math.LN10)this[r]=new this(n);else throw Error(I0+r+": "+n);return this}var Ej=HR(She);Jl=new Ej(1);const wn=Ej;var khe=e=>e,VR={},WR=e=>e===VR,TT=e=>function t(){return arguments.length===0||arguments.length===1&&WR(arguments.length<=0?void 0:arguments[0])?t:e(...arguments)},GR=(e,t)=>e===1?t:TT(function(){for(var r=arguments.length,n=new Array(r),a=0;a<r;a++)n[a]=arguments[a];var i=n.filter(l=>l!==VR).length;return i>=e?t(...n):GR(e-i,TT(function(){for(var l=arguments.length,o=new Array(l),u=0;u<l;u++)o[u]=arguments[u];var f=n.map(h=>WR(h)?o.shift():h);return t(...f,...o)}))}),R2=e=>GR(e.length,e),zN=(e,t)=>{for(var r=[],n=e;n<t;++n)r[n-e]=n;return r},Che=R2((e,t)=>Array.isArray(t)?t.map(e):Object.keys(t).map(r=>t[r]).map(e)),The=function(){for(var t=arguments.length,r=new Array(t),n=0;n<t;n++)r[n]=arguments[n];if(!r.length)return khe;var a=r.reverse(),i=a[0],l=a.slice(1);return function(){return l.reduce((o,u)=>u(o),i(...arguments))}},qN=e=>Array.isArray(e)?e.reverse():e.split("").reverse().join(""),KR=e=>{var t=null,r=null;return function(){for(var n=arguments.length,a=new Array(n),i=0;i<n;i++)a[i]=arguments[i];return t&&a.every((l,o)=>{var u;return l===((u=t)===null||u===void 0?void 0:u[o])})||(t=a,r=e(...a)),r}};function YR(e){var t;return e===0?t=1:t=Math.floor(new wn(e).abs().log(10).toNumber())+1,t}function XR(e,t,r){for(var n=new wn(e),a=0,i=[];n.lt(t)&&a<1e5;)i.push(n.toNumber()),n=n.add(r),a++;return i}R2((e,t,r)=>{var n=+e,a=+t;return n+r*(a-n)});R2((e,t,r)=>{var n=t-+e;return n=n||1/0,(r-e)/n});R2((e,t,r)=>{var n=t-+e;return n=n||1/0,Math.max(0,Math.min(1,(r-e)/n))});var QR=e=>{var[t,r]=e,[n,a]=[t,r];return t>r&&([n,a]=[r,t]),[n,a]},ZR=(e,t,r)=>{if(e.lte(0))return new wn(0);var n=YR(e.toNumber()),a=new wn(10).pow(n),i=e.div(a),l=n!==1?.05:.1,o=new wn(Math.ceil(i.div(l).toNumber())).add(r).mul(l),u=o.mul(a);return t?new wn(u.toNumber()):new wn(Math.ceil(u.toNumber()))},Ohe=(e,t,r)=>{var n=new wn(1),a=new wn(e);if(!a.isint()&&r){var i=Math.abs(e);i<1?(n=new wn(10).pow(YR(e)-1),a=new wn(Math.floor(a.div(n).toNumber())).mul(n)):i>1&&(a=new wn(Math.floor(e)))}else e===0?a=new wn(Math.floor((t-1)/2)):r||(a=new wn(Math.floor(e)));var l=Math.floor((t-1)/2),o=The(Che(u=>a.add(new wn(u-l).mul(n)).toNumber()),zN);return o(0,t)},JR=function(t,r,n,a){var i=arguments.length>4&&arguments[4]!==void 0?arguments[4]:0;if(!Number.isFinite((r-t)/(n-1)))return{step:new wn(0),tickMin:new wn(0),tickMax:new wn(0)};var l=ZR(new wn(r).sub(t).div(n-1),a,i),o;t<=0&&r>=0?o=new wn(0):(o=new wn(t).add(r).div(2),o=o.sub(new wn(o).mod(l)));var u=Math.ceil(o.sub(t).div(l).toNumber()),f=Math.ceil(new wn(r).sub(o).div(l).toNumber()),h=u+f+1;return h>n?JR(t,r,n,a,i+1):(h<n&&(f=r>0?f+(n-h):f,u=r>0?u:u+(n-h)),{step:l,tickMin:o.sub(new wn(u).mul(l)),tickMax:o.add(new wn(f).mul(l))})};function Dhe(e){var[t,r]=e,n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:6,a=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,i=Math.max(n,2),[l,o]=QR([t,r]);if(l===-1/0||o===1/0){var u=o===1/0?[l,...zN(0,n-1).map(()=>1/0)]:[...zN(0,n-1).map(()=>-1/0),o];return t>r?qN(u):u}if(l===o)return Ohe(l,n,a);var{step:f,tickMin:h,tickMax:m}=JR(l,o,i,a,0),g=XR(h,m.add(new wn(.1).mul(f)),f);return t>r?qN(g):g}function Fhe(e,t){var[r,n]=e,a=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,[i,l]=QR([r,n]);if(i===-1/0||l===1/0)return[r,n];if(i===l)return[i];var o=Math.max(t,2),u=ZR(new wn(l).sub(i).div(o-1),a,0),f=[...XR(new wn(i),new wn(l),u),l];return a===!1&&(f=f.map(h=>Math.round(h))),r>n?qN(f):f}var Phe=KR(Dhe),Lhe=KR(Fhe),e9=e=>e.rootProps.maxBarSize,Mhe=e=>e.rootProps.barGap,t9=e=>e.rootProps.barCategoryGap,Rhe=e=>e.rootProps.barSize,$g=e=>e.rootProps.stackOffset,kj=e=>e.options.chartName,Cj=e=>e.rootProps.syncId,r9=e=>e.rootProps.syncMethod,Tj=e=>e.options.eventEmitter,Xu={allowDuplicatedCategory:!0,angleAxisId:0,reversed:!1,scale:"auto",tick:!0,type:"category"},Gl={allowDataOverflow:!1,allowDuplicatedCategory:!0,radiusAxisId:0,scale:"auto",tick:!0,tickCount:5,type:"number"},I2=(e,t)=>{if(!(!e||!t))return e!=null&&e.reversed?[t[1],t[0]]:t},Ihe={allowDataOverflow:!1,allowDecimals:!1,allowDuplicatedCategory:!1,dataKey:void 0,domain:void 0,id:Xu.angleAxisId,includeHidden:!1,name:void 0,reversed:Xu.reversed,scale:Xu.scale,tick:Xu.tick,tickCount:void 0,ticks:void 0,type:Xu.type,unit:void 0},Bhe={allowDataOverflow:Gl.allowDataOverflow,allowDecimals:!1,allowDuplicatedCategory:Gl.allowDuplicatedCategory,dataKey:void 0,domain:void 0,id:Gl.radiusAxisId,includeHidden:!1,name:void 0,reversed:!1,scale:Gl.scale,tick:Gl.tick,tickCount:Gl.tickCount,ticks:void 0,type:Gl.type,unit:void 0},Uhe={allowDataOverflow:!1,allowDecimals:!1,allowDuplicatedCategory:Xu.allowDuplicatedCategory,dataKey:void 0,domain:void 0,id:Xu.angleAxisId,includeHidden:!1,name:void 0,reversed:!1,scale:Xu.scale,tick:Xu.tick,tickCount:void 0,ticks:void 0,type:"number",unit:void 0},zhe={allowDataOverflow:Gl.allowDataOverflow,allowDecimals:!1,allowDuplicatedCategory:Gl.allowDuplicatedCategory,dataKey:void 0,domain:void 0,id:Gl.radiusAxisId,includeHidden:!1,name:void 0,reversed:!1,scale:Gl.scale,tick:Gl.tick,tickCount:Gl.tickCount,ticks:void 0,type:"category",unit:void 0},Oj=(e,t)=>e.polarAxis.angleAxis[t]!=null?e.polarAxis.angleAxis[t]:e.layout.layoutType==="radial"?Uhe:Ihe,Dj=(e,t)=>e.polarAxis.radiusAxis[t]!=null?e.polarAxis.radiusAxis[t]:e.layout.layoutType==="radial"?zhe:Bhe,B2=e=>e.polarOptions,Fj=He([Ef,kf,Ai],LM),n9=He([B2,Fj],(e,t)=>{if(e!=null)return Os(e.innerRadius,t,0)}),a9=He([B2,Fj],(e,t)=>{if(e!=null)return Os(e.outerRadius,t,t*.8)}),qhe=e=>{if(e==null)return[0,0];var{startAngle:t,endAngle:r}=e;return[t,r]},i9=He([B2],qhe);He([Oj,i9],I2);var s9=He([Fj,n9,a9],(e,t,r)=>{if(!(e==null||t==null||r==null))return[t,r]});He([Dj,s9],I2);var l9=He([Gr,B2,n9,a9,Ef,kf],(e,t,r,n,a,i)=>{if(!(e!=="centric"&&e!=="radial"||t==null||r==null||n==null)){var{cx:l,cy:o,startAngle:u,endAngle:f}=t;return{cx:Os(l,a,a/2),cy:Os(o,i,i/2),innerRadius:r,outerRadius:n,startAngle:u,endAngle:f,clockWise:!1}}}),xa=(e,t)=>t,Hg=(e,t,r)=>r;function Pj(e){return e?.id}var ki=e=>{var t=Gr(e);return t==="horizontal"?"xAxis":t==="vertical"?"yAxis":t==="centric"?"angleAxis":"radiusAxis"},mp=e=>e.tooltip.settings.axisId,Ci=e=>{var t=ki(e),r=mp(e);return Vg(e,t,r)},o9=He([Ci],e=>e?.dataKey);function c9(e,t,r){var{chartData:n=[]}=t,{allowDuplicatedCategory:a,dataKey:i}=r,l=new Map;return e.forEach(o=>{var u,f=(u=o.data)!==null&&u!==void 0?u:n;if(!(f==null||f.length===0)){var h=Pj(o);f.forEach((m,g)=>{var x=i==null||a?g:String(Hn(m,i,null)),b=Hn(m,o.dataKey,0),v;l.has(x)?v=l.get(x):v={},Object.assign(v,{[h]:b}),l.set(x,v)})}}),Array.from(l.values())}function U2(e){return e.stackId!=null&&e.dataKey!=null}var z2=(e,t)=>e===t?!0:e==null||t==null?!1:e[0]===t[0]&&e[1]===t[1];function q2(e,t){return Array.isArray(e)&&Array.isArray(t)&&e.length===0&&t.length===0?!0:e===t}function OT(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function Ly(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?OT(Object(r),!0).forEach(function(n){$he(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):OT(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function $he(e,t,r){return(t=Hhe(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Hhe(e){var t=Vhe(e,"string");return typeof t=="symbol"?t:t+""}function Vhe(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var $N=[0,"auto"],Vl={allowDataOverflow:!1,allowDecimals:!0,allowDuplicatedCategory:!0,angle:0,dataKey:void 0,domain:void 0,height:30,hide:!0,id:0,includeHidden:!1,interval:"preserveEnd",minTickGap:5,mirror:!1,name:void 0,orientation:"bottom",padding:{left:0,right:0},reversed:!1,scale:"auto",tick:!0,tickCount:5,tickFormatter:void 0,ticks:void 0,type:"category",unit:void 0},u9=(e,t)=>e.cartesianAxis.xAxis[t],Tf=(e,t)=>{var r=u9(e,t);return r??Vl},Wl={allowDataOverflow:!1,allowDecimals:!0,allowDuplicatedCategory:!0,angle:0,dataKey:void 0,domain:$N,hide:!0,id:0,includeHidden:!1,interval:"preserveEnd",minTickGap:5,mirror:!1,name:void 0,orientation:"left",padding:{top:0,bottom:0},reversed:!1,scale:"auto",tick:!0,tickCount:5,tickFormatter:void 0,ticks:void 0,type:"number",unit:void 0,width:Mg},f9=(e,t)=>e.cartesianAxis.yAxis[t],Of=(e,t)=>{var r=f9(e,t);return r??Wl},Whe={domain:[0,"auto"],includeHidden:!1,reversed:!1,allowDataOverflow:!1,allowDuplicatedCategory:!1,dataKey:void 0,id:0,name:"",range:[64,64],scale:"auto",type:"number",unit:""},Lj=(e,t)=>{var r=e.cartesianAxis.zAxis[t];return r??Whe},Sa=(e,t,r)=>{switch(t){case"xAxis":return Tf(e,r);case"yAxis":return Of(e,r);case"zAxis":return Lj(e,r);case"angleAxis":return Oj(e,r);case"radiusAxis":return Dj(e,r);default:throw new Error("Unexpected axis type: ".concat(t))}},Ghe=(e,t,r)=>{switch(t){case"xAxis":return Tf(e,r);case"yAxis":return Of(e,r);default:throw new Error("Unexpected axis type: ".concat(t))}},Vg=(e,t,r)=>{switch(t){case"xAxis":return Tf(e,r);case"yAxis":return Of(e,r);case"angleAxis":return Oj(e,r);case"radiusAxis":return Dj(e,r);default:throw new Error("Unexpected axis type: ".concat(t))}},d9=e=>e.graphicalItems.cartesianItems.some(t=>t.type==="bar")||e.graphicalItems.polarItems.some(t=>t.type==="radialBar");function Mj(e,t){return r=>{switch(e){case"xAxis":return"xAxisId"in r&&r.xAxisId===t;case"yAxis":return"yAxisId"in r&&r.yAxisId===t;case"zAxis":return"zAxisId"in r&&r.zAxisId===t;case"angleAxis":return"angleAxisId"in r&&r.angleAxisId===t;case"radiusAxis":return"radiusAxisId"in r&&r.radiusAxisId===t;default:return!1}}}var $2=e=>e.graphicalItems.cartesianItems,Khe=He([xa,Hg],Mj),Rj=(e,t,r)=>e.filter(r).filter(n=>t?.includeHidden===!0?!0:!n.hide),Wg=He([$2,Sa,Khe],Rj,{memoizeOptions:{resultEqualityCheck:q2}}),h9=He([Wg],e=>e.filter(t=>t.type==="area"||t.type==="bar").filter(U2)),m9=e=>e.filter(t=>!("stackId"in t)||t.stackId===void 0),Yhe=He([Wg],m9),Ij=e=>e.map(t=>t.data).filter(Boolean).flat(1),Xhe=He([Wg],Ij,{memoizeOptions:{resultEqualityCheck:q2}}),Bj=(e,t)=>{var{chartData:r=[],dataStartIndex:n,dataEndIndex:a}=t;return e.length>0?e:r.slice(n,a+1)},Uj=He([Xhe,M2],Bj),zj=(e,t,r)=>t?.dataKey!=null?e.map(n=>({value:Hn(n,t.dataKey)})):r.length>0?r.map(n=>n.dataKey).flatMap(n=>e.map(a=>({value:Hn(a,n)}))):e.map(n=>({value:n})),H2=He([Uj,Sa,Wg],zj);function p9(e,t){switch(e){case"xAxis":return t.direction==="x";case"yAxis":return t.direction==="y";default:return!1}}function Lv(e){if(hu(e)||e instanceof Date){var t=Number(e);if(Ps(t))return t}}function DT(e){if(Array.isArray(e)){var t=[Lv(e[0]),Lv(e[1])];return th(t)?t:void 0}var r=Lv(e);if(r!=null)return[r,r]}function pp(e){return e.map(Lv).filter(hfe)}function Qhe(e,t,r){return!r||typeof t!="number"||zo(t)?[]:r.length?pp(r.flatMap(n=>{var a=Hn(e,n.dataKey),i,l;if(Array.isArray(a)?[i,l]=a:i=l=a,!(!Ps(i)||!Ps(l)))return[t-i,t+l]})):[]}var Zhe=He([h9,M2,Ci],c9),x9=(e,t,r)=>{var n={},a=t.reduce((i,l)=>(l.stackId==null||(i[l.stackId]==null&&(i[l.stackId]=[]),i[l.stackId].push(l)),i),n);return Object.fromEntries(Object.entries(a).map(i=>{var[l,o]=i,u=o.map(Pj);return[l,{stackedData:Mce(e,u,r),graphicalItems:o}]}))},HN=He([Zhe,h9,$g],x9),g9=(e,t,r,n)=>{var{dataStartIndex:a,dataEndIndex:i}=t;if(n==null&&r!=="zAxis"){var l=zce(e,a,i);if(!(l!=null&&l[0]===0&&l[1]===0))return l}},Jhe=He([Sa],e=>e.allowDataOverflow),qj=e=>{var t;if(e==null||!("domain"in e))return $N;if(e.domain!=null)return e.domain;if(e.ticks!=null){if(e.type==="number"){var r=pp(e.ticks);return[Math.min(...r),Math.max(...r)]}if(e.type==="category")return e.ticks.map(String)}return(t=e?.domain)!==null&&t!==void 0?t:$N},$j=He([Sa],qj),Hj=He([$j,Jhe],BR),eme=He([HN,Vd,xa,Hj],g9,{memoizeOptions:{resultEqualityCheck:z2}}),V2=e=>e.errorBars,tme=(e,t,r)=>e.flatMap(n=>t[n.id]).filter(Boolean).filter(n=>p9(r,n)),My=function(){for(var t=arguments.length,r=new Array(t),n=0;n<t;n++)r[n]=arguments[n];var a=r.filter(Boolean);if(a.length!==0){var i=a.flat(),l=Math.min(...i),o=Math.max(...i);return[l,o]}},Vj=(e,t,r,n,a)=>{var i,l;if(r.length>0&&e.forEach(o=>{r.forEach(u=>{var f,h,m=(f=n[u.id])===null||f===void 0?void 0:f.filter(N=>p9(a,N)),g=Hn(o,(h=t.dataKey)!==null&&h!==void 0?h:u.dataKey),x=Qhe(o,g,m);if(x.length>=2){var b=Math.min(...x),v=Math.max(...x);(i==null||b<i)&&(i=b),(l==null||v>l)&&(l=v)}var w=DT(g);w!=null&&(i=i==null?w[0]:Math.min(i,w[0]),l=l==null?w[1]:Math.max(l,w[1]))})}),t?.dataKey!=null&&e.forEach(o=>{var u=DT(Hn(o,t.dataKey));u!=null&&(i=i==null?u[0]:Math.min(i,u[0]),l=l==null?u[1]:Math.max(l,u[1]))}),Ps(i)&&Ps(l))return[i,l]},rme=He([Uj,Sa,Yhe,V2,xa],Vj,{memoizeOptions:{resultEqualityCheck:z2}});function nme(e){var{value:t}=e;if(hu(t)||t instanceof Date)return t}var ame=(e,t,r)=>{var n=e.map(nme).filter(a=>a!=null);return r&&(t.dataKey==null||t.allowDuplicatedCategory&&VL(n))?aR(0,e.length):t.allowDuplicatedCategory?n:Array.from(new Set(n))},v9=e=>e.referenceElements.dots,xp=(e,t,r)=>e.filter(n=>n.ifOverflow==="extendDomain").filter(n=>t==="xAxis"?n.xAxisId===r:n.yAxisId===r),ime=He([v9,xa,Hg],xp),y9=e=>e.referenceElements.areas,sme=He([y9,xa,Hg],xp),b9=e=>e.referenceElements.lines,lme=He([b9,xa,Hg],xp),w9=(e,t)=>{var r=pp(e.map(n=>t==="xAxis"?n.x:n.y));if(r.length!==0)return[Math.min(...r),Math.max(...r)]},ome=He(ime,xa,w9),N9=(e,t)=>{var r=pp(e.flatMap(n=>[t==="xAxis"?n.x1:n.y1,t==="xAxis"?n.x2:n.y2]));if(r.length!==0)return[Math.min(...r),Math.max(...r)]},cme=He([sme,xa],N9),_9=(e,t)=>{var r=pp(e.map(n=>t==="xAxis"?n.x:n.y));if(r.length!==0)return[Math.min(...r),Math.max(...r)]},ume=He(lme,xa,_9),fme=He(ome,ume,cme,(e,t,r)=>My(e,r,t)),Wj=(e,t,r,n,a,i,l,o)=>{if(r!=null)return r;var u=l==="vertical"&&o==="xAxis"||l==="horizontal"&&o==="yAxis",f=u?My(n,i,a):My(i,a);return jhe(t,f,e.allowDataOverflow)},dme=He([Sa,$j,Hj,eme,rme,fme,Gr,xa],Wj,{memoizeOptions:{resultEqualityCheck:z2}}),hme=[0,1],Gj=(e,t,r,n,a,i,l)=>{if(!((e==null||r==null||r.length===0)&&l===void 0)){var{dataKey:o,type:u}=e,f=zd(t,i);return f&&o==null?aR(0,r.length):u==="category"?ame(n,e,f):a==="expand"?hme:l}},Kj=He([Sa,Gr,Uj,H2,$g,xa,dme],Gj),j9=(e,t,r,n,a)=>{if(e!=null){var{scale:i,type:l}=e;if(i==="auto")return t==="radial"&&a==="radiusAxis"?"band":t==="radial"&&a==="angleAxis"?"linear":l==="category"&&n&&(n.indexOf("LineChart")>=0||n.indexOf("AreaChart")>=0||n.indexOf("ComposedChart")>=0&&!r)?"point":l==="category"?"band":"linear";if(typeof i=="string"){var o="scale".concat(Dg(i));return o in wx?o:"point"}}},gp=He([Sa,Gr,d9,kj,xa],j9);function mme(e){if(e!=null){if(e in wx)return wx[e]();var t="scale".concat(Dg(e));if(t in wx)return wx[t]()}}function Yj(e,t,r,n){if(!(r==null||n==null)){if(typeof e.scale=="function")return e.scale.copy().domain(r).range(n);var a=mme(t);if(a!=null){var i=a.domain(r).range(n);return Oce(i),i}}}var Xj=(e,t,r)=>{var n=qj(t);if(!(r!=="auto"&&r!=="linear")){if(t!=null&&t.tickCount&&Array.isArray(n)&&(n[0]==="auto"||n[1]==="auto")&&th(e))return Phe(e,t.tickCount,t.allowDecimals);if(t!=null&&t.tickCount&&t.type==="number"&&th(e))return Lhe(e,t.tickCount,t.allowDecimals)}},Qj=He([Kj,Vg,gp],Xj),Zj=(e,t,r,n)=>{if(n!=="angleAxis"&&e?.type==="number"&&th(t)&&Array.isArray(r)&&r.length>0){var a=t[0],i=r[0],l=t[1],o=r[r.length-1];return[Math.min(a,i),Math.max(l,o)]}return t},pme=He([Sa,Kj,Qj,xa],Zj),xme=He(H2,Sa,(e,t)=>{if(!(!t||t.type!=="number")){var r=1/0,n=Array.from(pp(e.map(o=>o.value))).sort((o,u)=>o-u);if(n.length<2)return 1/0;var a=n[n.length-1]-n[0];if(a===0)return 1/0;for(var i=0;i<n.length-1;i++){var l=n[i+1]-n[i];r=Math.min(r,l)}return r/a}}),S9=He(xme,Gr,t9,Ai,(e,t,r,n)=>n,(e,t,r,n,a)=>{if(!Ps(e))return 0;var i=t==="vertical"?n.height:n.width;if(a==="gap")return e*i/2;if(a==="no-gap"){var l=Os(r,e*i),o=e*i/2;return o-l-(o-l)/i*l}return 0}),gme=(e,t)=>{var r=Tf(e,t);return r==null||typeof r.padding!="string"?0:S9(e,"xAxis",t,r.padding)},vme=(e,t)=>{var r=Of(e,t);return r==null||typeof r.padding!="string"?0:S9(e,"yAxis",t,r.padding)},yme=He(Tf,gme,(e,t)=>{var r,n;if(e==null)return{left:0,right:0};var{padding:a}=e;return typeof a=="string"?{left:t,right:t}:{left:((r=a.left)!==null&&r!==void 0?r:0)+t,right:((n=a.right)!==null&&n!==void 0?n:0)+t}}),bme=He(Of,vme,(e,t)=>{var r,n;if(e==null)return{top:0,bottom:0};var{padding:a}=e;return typeof a=="string"?{top:t,bottom:t}:{top:((r=a.top)!==null&&r!==void 0?r:0)+t,bottom:((n=a.bottom)!==null&&n!==void 0?n:0)+t}}),wme=He([Ai,yme,A2,S2,(e,t,r)=>r],(e,t,r,n,a)=>{var{padding:i}=n;return a?[i.left,r.width-i.right]:[e.left+t.left,e.left+e.width-t.right]}),Nme=He([Ai,Gr,bme,A2,S2,(e,t,r)=>r],(e,t,r,n,a,i)=>{var{padding:l}=a;return i?[n.height-l.bottom,l.top]:t==="horizontal"?[e.top+e.height-r.bottom,e.top+r.top]:[e.top+r.top,e.top+e.height-r.bottom]}),Gg=(e,t,r,n)=>{var a;switch(t){case"xAxis":return wme(e,r,n);case"yAxis":return Nme(e,r,n);case"zAxis":return(a=Lj(e,r))===null||a===void 0?void 0:a.range;case"angleAxis":return i9(e);case"radiusAxis":return s9(e,r);default:return}},A9=He([Sa,Gg],I2),vp=He([Sa,gp,pme,A9],Yj);He([Wg,V2,xa],tme);function E9(e,t){return e.id<t.id?-1:e.id>t.id?1:0}var W2=(e,t)=>t,G2=(e,t,r)=>r,_me=He(_2,W2,G2,(e,t,r)=>e.filter(n=>n.orientation===t).filter(n=>n.mirror===r).sort(E9)),jme=He(j2,W2,G2,(e,t,r)=>e.filter(n=>n.orientation===t).filter(n=>n.mirror===r).sort(E9)),k9=(e,t)=>({width:e.width,height:t.height}),Sme=(e,t)=>{var r=typeof t.width=="number"?t.width:Mg;return{width:r,height:e.height}},C9=He(Ai,Tf,k9),Ame=(e,t,r)=>{switch(t){case"top":return e.top;case"bottom":return r-e.bottom;default:return 0}},Eme=(e,t,r)=>{switch(t){case"left":return e.left;case"right":return r-e.right;default:return 0}},kme=He(kf,Ai,_me,W2,G2,(e,t,r,n,a)=>{var i={},l;return r.forEach(o=>{var u=k9(t,o);l==null&&(l=Ame(t,n,e));var f=n==="top"&&!a||n==="bottom"&&a;i[o.id]=l-Number(f)*u.height,l+=(f?-1:1)*u.height}),i}),Cme=He(Ef,Ai,jme,W2,G2,(e,t,r,n,a)=>{var i={},l;return r.forEach(o=>{var u=Sme(t,o);l==null&&(l=Eme(t,n,e));var f=n==="left"&&!a||n==="right"&&a;i[o.id]=l-Number(f)*u.width,l+=(f?-1:1)*u.width}),i}),Tme=(e,t)=>{var r=Tf(e,t);if(r!=null)return kme(e,r.orientation,r.mirror)},Ome=He([Ai,Tf,Tme,(e,t)=>t],(e,t,r,n)=>{if(t!=null){var a=r?.[n];return a==null?{x:e.left,y:0}:{x:e.left,y:a}}}),Dme=(e,t)=>{var r=Of(e,t);if(r!=null)return Cme(e,r.orientation,r.mirror)},Fme=He([Ai,Of,Dme,(e,t)=>t],(e,t,r,n)=>{if(t!=null){var a=r?.[n];return a==null?{x:0,y:e.top}:{x:a,y:e.top}}}),T9=He(Ai,Of,(e,t)=>{var r=typeof t.width=="number"?t.width:Mg;return{width:r,height:e.height}}),FT=(e,t,r)=>{switch(t){case"xAxis":return C9(e,r).width;case"yAxis":return T9(e,r).height;default:return}},O9=(e,t,r,n)=>{if(r!=null){var{allowDuplicatedCategory:a,type:i,dataKey:l}=r,o=zd(e,n),u=t.map(f=>f.value);if(l&&o&&i==="category"&&a&&VL(u))return u}},Jj=He([Gr,H2,Sa,xa],O9),D9=(e,t,r,n)=>{if(!(r==null||r.dataKey==null)){var{type:a,scale:i}=r,l=zd(e,n);if(l&&(a==="number"||i!=="auto"))return t.map(o=>o.value)}},eS=He([Gr,H2,Vg,xa],D9),PT=He([Gr,Ghe,gp,vp,Jj,eS,Gg,Qj,xa],(e,t,r,n,a,i,l,o,u)=>{if(t==null)return null;var f=zd(e,u);return{angle:t.angle,interval:t.interval,minTickGap:t.minTickGap,orientation:t.orientation,tick:t.tick,tickCount:t.tickCount,tickFormatter:t.tickFormatter,ticks:t.ticks,type:t.type,unit:t.unit,axisType:u,categoricalDomain:i,duplicateDomain:a,isCategorical:f,niceTicks:o,range:l,realScaleType:r,scale:n}}),Pme=(e,t,r,n,a,i,l,o,u)=>{if(!(t==null||n==null)){var f=zd(e,u),{type:h,ticks:m,tickCount:g}=t,x=r==="scaleBand"&&typeof n.bandwidth=="function"?n.bandwidth()/2:2,b=h==="category"&&n.bandwidth?n.bandwidth()/x:0;b=u==="angleAxis"&&i!=null&&i.length>=2?qi(i[0]-i[1])*2*b:b;var v=m||a;if(v){var w=v.map((N,E)=>{var j=l?l.indexOf(N):N;return{index:E,coordinate:n(j)+b,value:N,offset:b}});return w.filter(N=>!zo(N.coordinate))}return f&&o?o.map((N,E)=>({coordinate:n(N)+b,value:N,index:E,offset:b})):n.ticks?n.ticks(g).map(N=>({coordinate:n(N)+b,value:N,offset:b})):n.domain().map((N,E)=>({coordinate:n(N)+b,value:l?l[N]:N,index:E,offset:b}))}},F9=He([Gr,Vg,gp,vp,Qj,Gg,Jj,eS,xa],Pme),Lme=(e,t,r,n,a,i,l)=>{if(!(t==null||r==null||n==null||n[0]===n[1])){var o=zd(e,l),{tickCount:u}=t,f=0;return f=l==="angleAxis"&&n?.length>=2?qi(n[0]-n[1])*2*f:f,o&&i?i.map((h,m)=>({coordinate:r(h)+f,value:h,index:m,offset:f})):r.ticks?r.ticks(u).map(h=>({coordinate:r(h)+f,value:h,offset:f})):r.domain().map((h,m)=>({coordinate:r(h)+f,value:a?a[h]:h,index:m,offset:f}))}},Cd=He([Gr,Vg,vp,Gg,Jj,eS,xa],Lme),Td=He(Sa,vp,(e,t)=>{if(!(e==null||t==null))return Ly(Ly({},e),{},{scale:t})}),Mme=He([Sa,gp,Kj,A9],Yj);He((e,t,r)=>Lj(e,r),Mme,(e,t)=>{if(!(e==null||t==null))return Ly(Ly({},e),{},{scale:t})});var Rme=He([Gr,_2,j2],(e,t,r)=>{switch(e){case"horizontal":return t.some(n=>n.reversed)?"right-to-left":"left-to-right";case"vertical":return r.some(n=>n.reversed)?"bottom-to-top":"top-to-bottom";case"centric":case"radial":return"left-to-right";default:return}}),P9=e=>e.options.defaultTooltipEventType,L9=e=>e.options.validateTooltipEventTypes;function M9(e,t,r){if(e==null)return t;var n=e?"axis":"item";return r==null?t:r.includes(n)?n:t}function tS(e,t){var r=P9(e),n=L9(e);return M9(t,r,n)}function Ime(e){return Ht(t=>tS(t,e))}var R9=(e,t)=>{var r,n=Number(t);if(!(zo(n)||t==null))return n>=0?e==null||(r=e[n])===null||r===void 0?void 0:r.value:void 0},Bme=e=>e.tooltip.settings,yd={active:!1,index:null,dataKey:void 0,coordinate:void 0},Ume={itemInteraction:{click:yd,hover:yd},axisInteraction:{click:yd,hover:yd},keyboardInteraction:yd,syncInteraction:{active:!1,index:null,dataKey:void 0,label:void 0,coordinate:void 0,sourceViewBox:void 0},tooltipItemPayloads:[],settings:{shared:void 0,trigger:"hover",axisId:0,active:!1,defaultIndex:void 0}},I9=so({name:"tooltip",initialState:Ume,reducers:{addTooltipEntrySettings:{reducer(e,t){e.tooltipItemPayloads.push(t.payload)},prepare:Qs()},removeTooltipEntrySettings:{reducer(e,t){var r=cf(e).tooltipItemPayloads.indexOf(t.payload);r>-1&&e.tooltipItemPayloads.splice(r,1)},prepare:Qs()},setTooltipSettingsState(e,t){e.settings=t.payload},setActiveMouseOverItemIndex(e,t){e.syncInteraction.active=!1,e.keyboardInteraction.active=!1,e.itemInteraction.hover.active=!0,e.itemInteraction.hover.index=t.payload.activeIndex,e.itemInteraction.hover.dataKey=t.payload.activeDataKey,e.itemInteraction.hover.coordinate=t.payload.activeCoordinate},mouseLeaveChart(e){e.itemInteraction.hover.active=!1,e.axisInteraction.hover.active=!1},mouseLeaveItem(e){e.itemInteraction.hover.active=!1},setActiveClickItemIndex(e,t){e.syncInteraction.active=!1,e.itemInteraction.click.active=!0,e.keyboardInteraction.active=!1,e.itemInteraction.click.index=t.payload.activeIndex,e.itemInteraction.click.dataKey=t.payload.activeDataKey,e.itemInteraction.click.coordinate=t.payload.activeCoordinate},setMouseOverAxisIndex(e,t){e.syncInteraction.active=!1,e.axisInteraction.hover.active=!0,e.keyboardInteraction.active=!1,e.axisInteraction.hover.index=t.payload.activeIndex,e.axisInteraction.hover.dataKey=t.payload.activeDataKey,e.axisInteraction.hover.coordinate=t.payload.activeCoordinate},setMouseClickAxisIndex(e,t){e.syncInteraction.active=!1,e.keyboardInteraction.active=!1,e.axisInteraction.click.active=!0,e.axisInteraction.click.index=t.payload.activeIndex,e.axisInteraction.click.dataKey=t.payload.activeDataKey,e.axisInteraction.click.coordinate=t.payload.activeCoordinate},setSyncInteraction(e,t){e.syncInteraction=t.payload},setKeyboardInteraction(e,t){e.keyboardInteraction.active=t.payload.active,e.keyboardInteraction.index=t.payload.activeIndex,e.keyboardInteraction.coordinate=t.payload.activeCoordinate,e.keyboardInteraction.dataKey=t.payload.activeDataKey}}}),{addTooltipEntrySettings:zme,removeTooltipEntrySettings:qme,setTooltipSettingsState:$me,setActiveMouseOverItemIndex:B9,mouseLeaveItem:Hme,mouseLeaveChart:U9,setActiveClickItemIndex:Vme,setMouseOverAxisIndex:z9,setMouseClickAxisIndex:Wme,setSyncInteraction:VN,setKeyboardInteraction:WN}=I9.actions,Gme=I9.reducer;function LT(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function yv(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?LT(Object(r),!0).forEach(function(n){Kme(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):LT(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Kme(e,t,r){return(t=Yme(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Yme(e){var t=Xme(e,"string");return typeof t=="symbol"?t:t+""}function Xme(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Qme(e,t,r){return t==="axis"?r==="click"?e.axisInteraction.click:e.axisInteraction.hover:r==="click"?e.itemInteraction.click:e.itemInteraction.hover}function Zme(e){return e.index!=null}var q9=(e,t,r,n)=>{if(t==null)return yd;var a=Qme(e,t,r);if(a==null)return yd;if(a.active)return a;if(e.keyboardInteraction.active)return e.keyboardInteraction;if(e.syncInteraction.active&&e.syncInteraction.index!=null)return e.syncInteraction;var i=e.settings.active===!0;if(Zme(a)){if(i)return yv(yv({},a),{},{active:!0})}else if(n!=null)return{active:!0,coordinate:void 0,dataKey:void 0,index:n};return yv(yv({},yd),{},{coordinate:a.coordinate})},rS=(e,t)=>{var r=e?.index;if(r==null)return null;var n=Number(r);if(!Ps(n))return r;var a=0,i=1/0;return t.length>0&&(i=t.length-1),String(Math.max(a,Math.min(n,i)))},$9=(e,t,r,n,a,i,l,o)=>{if(!(i==null||o==null)){var u=l[0],f=u==null?void 0:o(u.positions,i);if(f!=null)return f;var h=a?.[Number(i)];if(h)switch(r){case"horizontal":return{x:h.coordinate,y:(n.top+t)/2};default:return{x:(n.left+e)/2,y:h.coordinate}}}},H9=(e,t,r,n)=>{if(t==="axis")return e.tooltipItemPayloads;if(e.tooltipItemPayloads.length===0)return[];var a;return r==="hover"?a=e.itemInteraction.hover.dataKey:a=e.itemInteraction.click.dataKey,a==null&&n!=null?[e.tooltipItemPayloads[0]]:e.tooltipItemPayloads.filter(i=>{var l;return((l=i.settings)===null||l===void 0?void 0:l.dataKey)===a})},Kg=e=>e.options.tooltipPayloadSearcher,yp=e=>e.tooltip;function MT(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function RT(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?MT(Object(r),!0).forEach(function(n){Jme(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):MT(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Jme(e,t,r){return(t=epe(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function epe(e){var t=tpe(e,"string");return typeof t=="symbol"?t:t+""}function tpe(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function rpe(e,t){return e??t}var V9=(e,t,r,n,a,i,l)=>{if(!(t==null||i==null)){var{chartData:o,computedData:u,dataStartIndex:f,dataEndIndex:h}=r,m=[];return e.reduce((g,x)=>{var b,{dataDefinedOnItem:v,settings:w}=x,N=rpe(v,o),E=Array.isArray(N)?MM(N,f,h):N,j=(b=w?.dataKey)!==null&&b!==void 0?b:n,T=w?.nameKey,O;if(n&&Array.isArray(E)&&!Array.isArray(E[0])&&l==="axis"?O=WL(E,n,a):O=i(E,t,u,T),Array.isArray(O))O.forEach(D=>{var L=RT(RT({},w),{},{name:D.name,unit:D.unit,color:void 0,fill:void 0});g.push(d8({tooltipEntrySettings:L,dataKey:D.dataKey,payload:D.payload,value:Hn(D.payload,D.dataKey),name:D.name}))});else{var F;g.push(d8({tooltipEntrySettings:w,dataKey:j,payload:O,value:Hn(O,j),name:(F=Hn(O,T))!==null&&F!==void 0?F:w?.name}))}return g},m)}},nS=He([Ci,Gr,d9,kj,ki],j9),npe=He([e=>e.graphicalItems.cartesianItems,e=>e.graphicalItems.polarItems],(e,t)=>[...e,...t]),ape=He([ki,mp],Mj),Yg=He([npe,Ci,ape],Rj,{memoizeOptions:{resultEqualityCheck:q2}}),ipe=He([Yg],e=>e.filter(U2)),spe=He([Yg],Ij,{memoizeOptions:{resultEqualityCheck:q2}}),bp=He([spe,Vd],Bj),lpe=He([ipe,Vd,Ci],c9),aS=He([bp,Ci,Yg],zj),W9=He([Ci],qj),ope=He([Ci],e=>e.allowDataOverflow),G9=He([W9,ope],BR),cpe=He([Yg],e=>e.filter(U2)),upe=He([lpe,cpe,$g],x9),fpe=He([upe,Vd,ki,G9],g9),dpe=He([Yg],m9),hpe=He([bp,Ci,dpe,V2,ki],Vj,{memoizeOptions:{resultEqualityCheck:z2}}),mpe=He([v9,ki,mp],xp),ppe=He([mpe,ki],w9),xpe=He([y9,ki,mp],xp),gpe=He([xpe,ki],N9),vpe=He([b9,ki,mp],xp),ype=He([vpe,ki],_9),bpe=He([ppe,ype,gpe],My),wpe=He([Ci,W9,G9,fpe,hpe,bpe,Gr,ki],Wj),K9=He([Ci,Gr,bp,aS,$g,ki,wpe],Gj),Npe=He([K9,Ci,nS],Xj),_pe=He([Ci,K9,Npe,ki],Zj),Y9=e=>{var t=ki(e),r=mp(e),n=!1;return Gg(e,t,r,n)},X9=He([Ci,Y9],I2),Q9=He([Ci,nS,_pe,X9],Yj),jpe=He([Gr,aS,Ci,ki],O9),Spe=He([Gr,aS,Ci,ki],D9),Ape=(e,t,r,n,a,i,l,o)=>{if(t){var{type:u}=t,f=zd(e,o);if(n){var h=r==="scaleBand"&&n.bandwidth?n.bandwidth()/2:2,m=u==="category"&&n.bandwidth?n.bandwidth()/h:0;return m=o==="angleAxis"&&a!=null&&a?.length>=2?qi(a[0]-a[1])*2*m:m,f&&l?l.map((g,x)=>({coordinate:n(g)+m,value:g,index:x,offset:m})):n.domain().map((g,x)=>({coordinate:n(g)+m,value:i?i[g]:g,index:x,offset:m}))}}},Df=He([Gr,Ci,nS,Q9,Y9,jpe,Spe,ki],Ape),iS=He([P9,L9,Bme],(e,t,r)=>M9(r.shared,e,t)),Z9=e=>e.tooltip.settings.trigger,sS=e=>e.tooltip.settings.defaultIndex,K2=He([yp,iS,Z9,sS],q9),Od=He([K2,bp],rS),J9=He([Df,Od],R9),eI=He([K2],e=>{if(e)return e.dataKey}),tI=He([yp,iS,Z9,sS],H9),Epe=He([Ef,kf,Gr,Ai,Df,sS,tI,Kg],$9),kpe=He([K2,Epe],(e,t)=>e!=null&&e.coordinate?e.coordinate:t),Cpe=He([K2],e=>e.active),Tpe=He([tI,Od,Vd,o9,J9,Kg,iS],V9),Ope=He([Tpe],e=>{if(e!=null){var t=e.map(r=>r.payload).filter(r=>r!=null);return Array.from(new Set(t))}});function IT(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function BT(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?IT(Object(r),!0).forEach(function(n){Dpe(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):IT(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Dpe(e,t,r){return(t=Fpe(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Fpe(e){var t=Ppe(e,"string");return typeof t=="symbol"?t:t+""}function Ppe(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Lpe=()=>Ht(Ci),Mpe=()=>{var e=Lpe(),t=Ht(Df),r=Ht(Q9);return cg(BT(BT({},e),{},{scale:r}),t)},Rpe=()=>Ht(kj),lS=(e,t)=>t,rI=(e,t,r)=>r,oS=(e,t,r,n)=>n,Ipe=He(Df,e=>g2(e,t=>t.coordinate)),cS=He([yp,lS,rI,oS],q9),nI=He([cS,bp],rS),Bpe=(e,t,r)=>{if(t!=null){var n=yp(e);return t==="axis"?r==="hover"?n.axisInteraction.hover.dataKey:n.axisInteraction.click.dataKey:r==="hover"?n.itemInteraction.hover.dataKey:n.itemInteraction.click.dataKey}},aI=He([yp,lS,rI,oS],H9),Ry=He([Ef,kf,Gr,Ai,Df,oS,aI,Kg],$9),Upe=He([cS,Ry],(e,t)=>{var r;return(r=e.coordinate)!==null&&r!==void 0?r:t}),iI=He(Df,nI,R9),zpe=He([aI,nI,Vd,o9,iI,Kg,lS],V9),qpe=He([cS],e=>({isActive:e.active,activeIndex:e.index})),$pe=(e,t,r,n,a,i,l,o)=>{if(!(!e||!t||!n||!a||!i)){var u=qce(e.chartX,e.chartY,t,r,o);if(u){var f=Hce(u,t),h=Cce(f,l,i,n,a),m=$ce(t,i,h,u);return{activeIndex:String(h),activeCoordinate:m}}}};function GN(){return GN=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},GN.apply(null,arguments)}function UT(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function bv(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?UT(Object(r),!0).forEach(function(n){Hpe(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):UT(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Hpe(e,t,r){return(t=Vpe(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Vpe(e){var t=Wpe(e,"string");return typeof t=="symbol"?t:t+""}function Wpe(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Gpe(e){var{coordinate:t,payload:r,index:n,offset:a,tooltipAxisBandSize:i,layout:l,cursor:o,tooltipEventType:u,chartName:f}=e,h=t,m=r,g=n;if(!o||!h||f!=="ScatterChart"&&u!=="axis")return null;var x,b;if(f==="ScatterChart")x=h,b=sfe;else if(f==="BarChart")x=lfe(l,h,a,i),b=eR;else if(l==="radial"){var{cx:v,cy:w,radius:N,startAngle:E,endAngle:j}=tR(h);x={cx:v,cy:w,startAngle:E,endAngle:j,innerRadius:N,outerRadius:N},b=nR}else x={points:Hfe(l,h,a)},b=tj;var T=typeof o=="object"&&"className"in o?o.className:void 0,O=bv(bv(bv(bv({stroke:"#ccc",pointerEvents:"none"},a),x),Q0(o)),{},{payload:m,payloadIndex:g,className:an("recharts-tooltip-cursor",T)});return k.isValidElement(o)?k.cloneElement(o,O):k.createElement(b,O)}function Kpe(e){var t=Mpe(),r=VM(),n=k2(),a=Rpe();return k.createElement(Gpe,GN({},e,{coordinate:e.coordinate,index:e.index,payload:e.payload,offset:r,layout:n,tooltipAxisBandSize:t,chartName:a}))}var sI=k.createContext(null),Ype=()=>k.useContext(sI),t4={exports:{}},zT;function Xpe(){return zT||(zT=1,(function(e){var t=Object.prototype.hasOwnProperty,r="~";function n(){}Object.create&&(n.prototype=Object.create(null),new n().__proto__||(r=!1));function a(u,f,h){this.fn=u,this.context=f,this.once=h||!1}function i(u,f,h,m,g){if(typeof h!="function")throw new TypeError("The listener must be a function");var x=new a(h,m||u,g),b=r?r+f:f;return u._events[b]?u._events[b].fn?u._events[b]=[u._events[b],x]:u._events[b].push(x):(u._events[b]=x,u._eventsCount++),u}function l(u,f){--u._eventsCount===0?u._events=new n:delete u._events[f]}function o(){this._events=new n,this._eventsCount=0}o.prototype.eventNames=function(){var f=[],h,m;if(this._eventsCount===0)return f;for(m in h=this._events)t.call(h,m)&&f.push(r?m.slice(1):m);return Object.getOwnPropertySymbols?f.concat(Object.getOwnPropertySymbols(h)):f},o.prototype.listeners=function(f){var h=r?r+f:f,m=this._events[h];if(!m)return[];if(m.fn)return[m.fn];for(var g=0,x=m.length,b=new Array(x);g<x;g++)b[g]=m[g].fn;return b},o.prototype.listenerCount=function(f){var h=r?r+f:f,m=this._events[h];return m?m.fn?1:m.length:0},o.prototype.emit=function(f,h,m,g,x,b){var v=r?r+f:f;if(!this._events[v])return!1;var w=this._events[v],N=arguments.length,E,j;if(w.fn){switch(w.once&&this.removeListener(f,w.fn,void 0,!0),N){case 1:return w.fn.call(w.context),!0;case 2:return w.fn.call(w.context,h),!0;case 3:return w.fn.call(w.context,h,m),!0;case 4:return w.fn.call(w.context,h,m,g),!0;case 5:return w.fn.call(w.context,h,m,g,x),!0;case 6:return w.fn.call(w.context,h,m,g,x,b),!0}for(j=1,E=new Array(N-1);j<N;j++)E[j-1]=arguments[j];w.fn.apply(w.context,E)}else{var T=w.length,O;for(j=0;j<T;j++)switch(w[j].once&&this.removeListener(f,w[j].fn,void 0,!0),N){case 1:w[j].fn.call(w[j].context);break;case 2:w[j].fn.call(w[j].context,h);break;case 3:w[j].fn.call(w[j].context,h,m);break;case 4:w[j].fn.call(w[j].context,h,m,g);break;default:if(!E)for(O=1,E=new Array(N-1);O<N;O++)E[O-1]=arguments[O];w[j].fn.apply(w[j].context,E)}}return!0},o.prototype.on=function(f,h,m){return i(this,f,h,m,!1)},o.prototype.once=function(f,h,m){return i(this,f,h,m,!0)},o.prototype.removeListener=function(f,h,m,g){var x=r?r+f:f;if(!this._events[x])return this;if(!h)return l(this,x),this;var b=this._events[x];if(b.fn)b.fn===h&&(!g||b.once)&&(!m||b.context===m)&&l(this,x);else{for(var v=0,w=[],N=b.length;v<N;v++)(b[v].fn!==h||g&&!b[v].once||m&&b[v].context!==m)&&w.push(b[v]);w.length?this._events[x]=w.length===1?w[0]:w:l(this,x)}return this},o.prototype.removeAllListeners=function(f){var h;return f?(h=r?r+f:f,this._events[h]&&l(this,h)):(this._events=new n,this._eventsCount=0),this},o.prototype.off=o.prototype.removeListener,o.prototype.addListener=o.prototype.on,o.prefixed=r,o.EventEmitter=o,e.exports=o})(t4)),t4.exports}var Qpe=Xpe();const Zpe=Nf(Qpe);var gg=new Zpe,KN="recharts.syncEvent.tooltip",qT="recharts.syncEvent.brush";function uS(e,t){if(t){var r=Number.parseInt(t,10);if(!zo(r))return e?.[r]}}var Jpe={chartName:"",tooltipPayloadSearcher:void 0,eventEmitter:void 0,defaultTooltipEventType:"axis"},lI=so({name:"options",initialState:Jpe,reducers:{createEventEmitter:e=>{e.eventEmitter==null&&(e.eventEmitter=Symbol("rechartsEventEmitter"))}}}),exe=lI.reducer,{createEventEmitter:txe}=lI.actions;function rxe(e){return e.tooltip.syncInteraction}var nxe={chartData:void 0,computedData:void 0,dataStartIndex:0,dataEndIndex:0},oI=so({name:"chartData",initialState:nxe,reducers:{setChartData(e,t){if(e.chartData=t.payload,t.payload==null){e.dataStartIndex=0,e.dataEndIndex=0;return}t.payload.length>0&&e.dataEndIndex!==t.payload.length-1&&(e.dataEndIndex=t.payload.length-1)},setComputedData(e,t){e.computedData=t.payload},setDataStartEndIndexes(e,t){var{startIndex:r,endIndex:n}=t.payload;r!=null&&(e.dataStartIndex=r),n!=null&&(e.dataEndIndex=n)}}}),{setChartData:$T,setDataStartEndIndexes:axe,setComputedData:i3e}=oI.actions,ixe=oI.reducer,sxe=["x","y"];function HT(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function pm(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?HT(Object(r),!0).forEach(function(n){lxe(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):HT(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function lxe(e,t,r){return(t=oxe(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function oxe(e){var t=cxe(e,"string");return typeof t=="symbol"?t:t+""}function cxe(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function uxe(e,t){if(e==null)return{};var r,n,a=fxe(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}function fxe(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}var cI=()=>{};function dxe(){var e=Ht(Cj),t=Ht(Tj),r=pa(),n=Ht(r9),a=Ht(Df),i=k2(),l=E2(),o=Ht(u=>u.rootProps.className);k.useEffect(()=>{if(e==null)return cI;var u=(f,h,m)=>{if(t!==m&&e===f){if(n==="index"){var g;if(l&&h!==null&&h!==void 0&&(g=h.payload)!==null&&g!==void 0&&g.coordinate&&h.payload.sourceViewBox){var x=h.payload.coordinate,{x:b,y:v}=x,w=uxe(x,sxe),{x:N,y:E,width:j,height:T}=h.payload.sourceViewBox,O=pm(pm({},w),{},{x:l.x+(j?(b-N)/j:0)*l.width,y:l.y+(T?(v-E)/T:0)*l.height});r(pm(pm({},h),{},{payload:pm(pm({},h.payload),{},{coordinate:O})}))}else r(h);return}if(a!=null){var F;if(typeof n=="function"){var D={activeTooltipIndex:h.payload.index==null?void 0:Number(h.payload.index),isTooltipActive:h.payload.active,activeIndex:h.payload.index==null?void 0:Number(h.payload.index),activeLabel:h.payload.label,activeDataKey:h.payload.dataKey,activeCoordinate:h.payload.coordinate},L=n(a,D);F=a[L]}else n==="value"&&(F=a.find(ne=>String(ne.value)===h.payload.label));var{coordinate:B}=h.payload;if(F==null||h.payload.active===!1||B==null||l==null){r(VN({active:!1,coordinate:void 0,dataKey:void 0,index:null,label:void 0,sourceViewBox:void 0}));return}var{x:H,y:P}=B,U=Math.min(H,l.x+l.width),K=Math.min(P,l.y+l.height),ee={x:i==="horizontal"?F.coordinate:U,y:i==="horizontal"?K:F.coordinate},me=VN({active:h.payload.active,coordinate:ee,dataKey:h.payload.dataKey,index:String(F.index),label:h.payload.label,sourceViewBox:h.payload.sourceViewBox});r(me)}}};return gg.on(KN,u),()=>{gg.off(KN,u)}},[o,r,t,e,n,a,i,l])}function hxe(){var e=Ht(Cj),t=Ht(Tj),r=pa();k.useEffect(()=>{if(e==null)return cI;var n=(a,i,l)=>{t!==l&&e===a&&r(axe(i))};return gg.on(qT,n),()=>{gg.off(qT,n)}},[r,t,e])}function mxe(){var e=pa();k.useEffect(()=>{e(txe())},[e]),dxe(),hxe()}function pxe(e,t,r,n,a,i){var l=Ht(x=>Bpe(x,e,t)),o=Ht(Tj),u=Ht(Cj),f=Ht(r9),h=Ht(rxe),m=h?.active,g=E2();k.useEffect(()=>{if(!m&&u!=null&&o!=null){var x=VN({active:i,coordinate:r,dataKey:l,index:a,label:typeof n=="number"?String(n):n,sourceViewBox:g});gg.emit(KN,u,x,o)}},[m,r,l,a,n,o,u,f,i,g])}function VT(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function WT(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?VT(Object(r),!0).forEach(function(n){xxe(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):VT(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function xxe(e,t,r){return(t=gxe(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function gxe(e){var t=vxe(e,"string");return typeof t=="symbol"?t:t+""}function vxe(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function yxe(e){return e.dataKey}function bxe(e,t){return k.isValidElement(e)?k.cloneElement(e,t):typeof e=="function"?k.createElement(e,t):k.createElement(Iue,t)}var GT=[],wxe={allowEscapeViewBox:{x:!1,y:!1},animationDuration:400,animationEasing:"ease",axisId:0,contentStyle:{},cursor:!0,filterNull:!0,isAnimationActive:!qd.isSsr,itemSorter:"name",itemStyle:{},labelStyle:{},offset:10,reverseDirection:{x:!1,y:!1},separator:" : ",trigger:"hover",useTranslate3d:!1,wrapperStyle:{}};function r4(e){var t=cs(e,wxe),{active:r,allowEscapeViewBox:n,animationDuration:a,animationEasing:i,content:l,filterNull:o,isAnimationActive:u,offset:f,payloadUniqBy:h,position:m,reverseDirection:g,useTranslate3d:x,wrapperStyle:b,cursor:v,shared:w,trigger:N,defaultIndex:E,portal:j,axisId:T}=t,O=pa(),F=typeof E=="number"?String(E):E;k.useEffect(()=>{O($me({shared:w,trigger:N,axisId:T,active:r,defaultIndex:F}))},[O,w,N,T,r,F]);var D=E2(),L=YM(),B=Ime(w),{activeIndex:H,isActive:P}=Ht(W=>qpe(W,B,N,F)),U=Ht(W=>zpe(W,B,N,F)),K=Ht(W=>iI(W,B,N,F)),ee=Ht(W=>Upe(W,B,N,F)),me=U,ne=Ype(),se=r??P,[ye,ce]=oM([me,se]),Se=B==="axis"?K:void 0;pxe(B,N,ee,Se,H,se);var te=j??ne;if(te==null)return null;var M=me??GT;se||(M=GT),o&&M.length&&(M=nM(me.filter(W=>W.value!=null&&(W.hide!==!0||t.includeHidden)),h,yxe));var R=M.length>0,q=k.createElement(Vue,{allowEscapeViewBox:n,animationDuration:a,animationEasing:i,isAnimationActive:u,active:se,coordinate:ee,hasPayload:R,offset:f,position:m,reverseDirection:g,useTranslate3d:x,viewBox:D,wrapperStyle:b,lastBoundingBox:ye,innerRef:ce,hasPortalFromProps:!!j},bxe(l,WT(WT({},t),{},{payload:M,label:Se,active:se,coordinate:ee,accessibilityLayer:L})));return k.createElement(k.Fragment,null,$D.createPortal(q,te),se&&k.createElement(Kpe,{cursor:v,tooltipEventType:B,coordinate:ee,payload:me,index:H}))}var Xg=e=>null;Xg.displayName="Cell";function Nxe(e,t,r){return(t=_xe(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function _xe(e){var t=jxe(e,"string");return typeof t=="symbol"?t:t+""}function jxe(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}class Sxe{constructor(t){Nxe(this,"cache",new Map),this.maxSize=t}get(t){var r=this.cache.get(t);return r!==void 0&&(this.cache.delete(t),this.cache.set(t,r)),r}set(t,r){if(this.cache.has(t))this.cache.delete(t);else if(this.cache.size>=this.maxSize){var n=this.cache.keys().next().value;this.cache.delete(n)}this.cache.set(t,r)}clear(){this.cache.clear()}size(){return this.cache.size}}function KT(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function Axe(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?KT(Object(r),!0).forEach(function(n){Exe(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):KT(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Exe(e,t,r){return(t=kxe(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function kxe(e){var t=Cxe(e,"string");return typeof t=="symbol"?t:t+""}function Cxe(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Txe={cacheSize:2e3,enableCache:!0},uI=Axe({},Txe),YT=new Sxe(uI.cacheSize),Oxe={position:"absolute",top:"-20000px",left:0,padding:0,margin:0,border:"none",whiteSpace:"pre"},XT="recharts_measurement_span";function Dxe(e,t){var r=t.fontSize||"",n=t.fontFamily||"",a=t.fontWeight||"",i=t.fontStyle||"",l=t.letterSpacing||"",o=t.textTransform||"";return"".concat(e,"|").concat(r,"|").concat(n,"|").concat(a,"|").concat(i,"|").concat(l,"|").concat(o)}var QT=(e,t)=>{try{var r=document.getElementById(XT);r||(r=document.createElement("span"),r.setAttribute("id",XT),r.setAttribute("aria-hidden","true"),document.body.appendChild(r)),Object.assign(r.style,Oxe,t),r.textContent="".concat(e);var n=r.getBoundingClientRect();return{width:n.width,height:n.height}}catch{return{width:0,height:0}}},Fx=function(t){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(t==null||qd.isSsr)return{width:0,height:0};if(!uI.enableCache)return QT(t,r);var n=Dxe(t,r),a=YT.get(n);if(a)return a;var i=QT(t,r);return YT.set(n,i),i},ZT=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([*/])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,JT=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([+-])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,Fxe=/^px|cm|vh|vw|em|rem|%|mm|in|pt|pc|ex|ch|vmin|vmax|Q$/,Pxe=/(-?\d+(?:\.\d+)?)([a-zA-Z%]+)?/,fI={cm:96/2.54,mm:96/25.4,pt:96/72,pc:96/6,in:96,Q:96/(2.54*40),px:1},Lxe=Object.keys(fI),_m="NaN";function Mxe(e,t){return e*fI[t]}class jl{static parse(t){var r,[,n,a]=(r=Pxe.exec(t))!==null&&r!==void 0?r:[];return new jl(parseFloat(n),a??"")}constructor(t,r){this.num=t,this.unit=r,this.num=t,this.unit=r,zo(t)&&(this.unit=""),r!==""&&!Fxe.test(r)&&(this.num=NaN,this.unit=""),Lxe.includes(r)&&(this.num=Mxe(t,r),this.unit="px")}add(t){return this.unit!==t.unit?new jl(NaN,""):new jl(this.num+t.num,this.unit)}subtract(t){return this.unit!==t.unit?new jl(NaN,""):new jl(this.num-t.num,this.unit)}multiply(t){return this.unit!==""&&t.unit!==""&&this.unit!==t.unit?new jl(NaN,""):new jl(this.num*t.num,this.unit||t.unit)}divide(t){return this.unit!==""&&t.unit!==""&&this.unit!==t.unit?new jl(NaN,""):new jl(this.num/t.num,this.unit||t.unit)}toString(){return"".concat(this.num).concat(this.unit)}isNaN(){return zo(this.num)}}function dI(e){if(e.includes(_m))return _m;for(var t=e;t.includes("*")||t.includes("/");){var r,[,n,a,i]=(r=ZT.exec(t))!==null&&r!==void 0?r:[],l=jl.parse(n??""),o=jl.parse(i??""),u=a==="*"?l.multiply(o):l.divide(o);if(u.isNaN())return _m;t=t.replace(ZT,u.toString())}for(;t.includes("+")||/.-\d+(?:\.\d+)?/.test(t);){var f,[,h,m,g]=(f=JT.exec(t))!==null&&f!==void 0?f:[],x=jl.parse(h??""),b=jl.parse(g??""),v=m==="+"?x.add(b):x.subtract(b);if(v.isNaN())return _m;t=t.replace(JT,v.toString())}return t}var eO=/\(([^()]*)\)/;function Rxe(e){for(var t=e,r;(r=eO.exec(t))!=null;){var[,n]=r;t=t.replace(eO,dI(n))}return t}function Ixe(e){var t=e.replace(/\s+/g,"");return t=Rxe(t),t=dI(t),t}function Bxe(e){try{return Ixe(e)}catch{return _m}}function n4(e){var t=Bxe(e.slice(5,-1));return t===_m?"":t}var Uxe=["x","y","lineHeight","capHeight","scaleToFit","textAnchor","verticalAnchor","fill"],zxe=["dx","dy","angle","className","breakAll"];function YN(){return YN=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},YN.apply(null,arguments)}function tO(e,t){if(e==null)return{};var r,n,a=qxe(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}function qxe(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}var hI=/[ \f\n\r\t\v\u2028\u2029]+/,mI=e=>{var{children:t,breakAll:r,style:n}=e;try{var a=[];ha(t)||(r?a=t.toString().split(""):a=t.toString().split(hI));var i=a.map(o=>({word:o,width:Fx(o,n).width})),l=r?0:Fx("",n).width;return{wordsWithComputedWidth:i,spaceWidth:l}}catch{return null}},$xe=(e,t,r,n,a)=>{var{maxLines:i,children:l,style:o,breakAll:u}=e,f=Qt(i),h=l,m=function(){var P=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[];return P.reduce((U,K)=>{var{word:ee,width:me}=K,ne=U[U.length-1];if(ne&&(n==null||a||ne.width+me+r<Number(n)))ne.words.push(ee),ne.width+=me+r;else{var se={words:[ee],width:me};U.push(se)}return U},[])},g=m(t),x=H=>H.reduce((P,U)=>P.width>U.width?P:U);if(!f||a)return g;var b=g.length>i||x(g).width>Number(n);if(!b)return g;for(var v="",w=H=>{var P=h.slice(0,H),U=mI({breakAll:u,style:o,children:P+v}).wordsWithComputedWidth,K=m(U),ee=K.length>i||x(K).width>Number(n);return[ee,K]},N=0,E=h.length-1,j=0,T;N<=E&&j<=h.length-1;){var O=Math.floor((N+E)/2),F=O-1,[D,L]=w(F),[B]=w(O);if(!D&&!B&&(N=O+1),D&&B&&(E=O-1),!D&&B){T=L;break}j++}return T||g},rO=e=>{var t=ha(e)?[]:e.toString().split(hI);return[{words:t}]},Hxe=e=>{var{width:t,scaleToFit:r,children:n,style:a,breakAll:i,maxLines:l}=e;if((t||r)&&!qd.isSsr){var o,u,f=mI({breakAll:i,children:n,style:a});if(f){var{wordsWithComputedWidth:h,spaceWidth:m}=f;o=h,u=m}else return rO(n);return $xe({breakAll:i,children:n,maxLines:l,style:a},o,u,t,r)}return rO(n)},nO="#808080",Y2=k.forwardRef((e,t)=>{var{x:r=0,y:n=0,lineHeight:a="1em",capHeight:i="0.71em",scaleToFit:l=!1,textAnchor:o="start",verticalAnchor:u="end",fill:f=nO}=e,h=tO(e,Uxe),m=k.useMemo(()=>Hxe({breakAll:h.breakAll,children:h.children,maxLines:h.maxLines,scaleToFit:l,style:h.style,width:h.width}),[h.breakAll,h.children,h.maxLines,l,h.style,h.width]),{dx:g,dy:x,angle:b,className:v,breakAll:w}=h,N=tO(h,zxe);if(!hu(r)||!hu(n)||m.length===0)return null;var E=r+(Qt(g)?g:0),j=n+(Qt(x)?x:0),T;switch(u){case"start":T=n4("calc(".concat(i,")"));break;case"middle":T=n4("calc(".concat((m.length-1)/2," * -").concat(a," + (").concat(i," / 2))"));break;default:T=n4("calc(".concat(m.length-1," * -").concat(a,")"));break}var O=[];if(l){var F=m[0].width,{width:D}=h;O.push("scale(".concat(Qt(D)?D/F:1,")"))}return b&&O.push("rotate(".concat(b,", ").concat(E,", ").concat(j,")")),O.length&&(N.transform=O.join(" ")),k.createElement("text",YN({},rl(N),{ref:t,x:E,y:j,className:an("recharts-text",v),textAnchor:o,fill:f.includes("url")?nO:f}),m.map((L,B)=>{var H=L.words.join(w?"":" ");return k.createElement("tspan",{x:E,dy:B===0?T:a,key:"".concat(H,"-").concat(B)},H)}))});Y2.displayName="Text";var Vxe=["labelRef"];function Wxe(e,t){if(e==null)return{};var r,n,a=Gxe(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}function Gxe(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}function aO(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function Ha(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?aO(Object(r),!0).forEach(function(n){Kxe(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):aO(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Kxe(e,t,r){return(t=Yxe(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Yxe(e){var t=Xxe(e,"string");return typeof t=="symbol"?t:t+""}function Xxe(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Qu(){return Qu=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Qu.apply(null,arguments)}var pI=k.createContext(null),Qxe=e=>{var{x:t,y:r,width:n,height:a,children:i}=e,l=k.useMemo(()=>({x:t,y:r,width:n,height:a}),[t,r,n,a]);return k.createElement(pI.Provider,{value:l},i)},xI=()=>{var e=k.useContext(pI),t=E2();return e||t},Zxe=k.createContext(null),Jxe=()=>{var e=k.useContext(Zxe),t=Ht(l9);return e||t},ege=e=>{var{value:t,formatter:r}=e,n=ha(e.children)?t:e.children;return typeof r=="function"?r(n):n},fS=e=>e!=null&&typeof e=="function",tge=(e,t)=>{var r=qi(t-e),n=Math.min(Math.abs(t-e),360);return r*n},rge=(e,t,r,n,a)=>{var{offset:i,className:l}=e,{cx:o,cy:u,innerRadius:f,outerRadius:h,startAngle:m,endAngle:g,clockWise:x}=a,b=(f+h)/2,v=tge(m,g),w=v>=0?1:-1,N,E;switch(t){case"insideStart":N=m+w*i,E=x;break;case"insideEnd":N=g-w*i,E=!x;break;case"end":N=g+w*i,E=x;break;default:throw new Error("Unsupported position ".concat(t))}E=v<=0?E:!E;var j=ii(o,u,b,N),T=ii(o,u,b,N+(E?1:-1)*359),O="M".concat(j.x,",").concat(j.y,`
    A`).concat(b,",").concat(b,",0,1,").concat(E?0:1,`,
    `).concat(T.x,",").concat(T.y),F=ha(e.id)?ig("recharts-radial-line-"):e.id;return k.createElement("text",Qu({},n,{dominantBaseline:"central",className:an("recharts-radial-bar-label",l)}),k.createElement("defs",null,k.createElement("path",{id:F,d:O})),k.createElement("textPath",{xlinkHref:"#".concat(F)},r))},nge=(e,t,r)=>{var{cx:n,cy:a,innerRadius:i,outerRadius:l,startAngle:o,endAngle:u}=e,f=(o+u)/2;if(r==="outside"){var{x:h,y:m}=ii(n,a,l+t,f);return{x:h,y:m,textAnchor:h>=n?"start":"end",verticalAnchor:"middle"}}if(r==="center")return{x:n,y:a,textAnchor:"middle",verticalAnchor:"middle"};if(r==="centerTop")return{x:n,y:a,textAnchor:"middle",verticalAnchor:"start"};if(r==="centerBottom")return{x:n,y:a,textAnchor:"middle",verticalAnchor:"end"};var g=(i+l)/2,{x,y:b}=ii(n,a,g,f);return{x,y:b,textAnchor:"middle",verticalAnchor:"middle"}},gI=e=>"cx"in e&&Qt(e.cx),age=(e,t)=>{var{parentViewBox:r,offset:n,position:a}=e,i;r!=null&&!gI(r)&&(i=r);var{x:l,y:o,width:u,height:f}=t,h=f>=0?1:-1,m=h*n,g=h>0?"end":"start",x=h>0?"start":"end",b=u>=0?1:-1,v=b*n,w=b>0?"end":"start",N=b>0?"start":"end";if(a==="top"){var E={x:l+u/2,y:o-h*n,textAnchor:"middle",verticalAnchor:g};return Ha(Ha({},E),i?{height:Math.max(o-i.y,0),width:u}:{})}if(a==="bottom"){var j={x:l+u/2,y:o+f+m,textAnchor:"middle",verticalAnchor:x};return Ha(Ha({},j),i?{height:Math.max(i.y+i.height-(o+f),0),width:u}:{})}if(a==="left"){var T={x:l-v,y:o+f/2,textAnchor:w,verticalAnchor:"middle"};return Ha(Ha({},T),i?{width:Math.max(T.x-i.x,0),height:f}:{})}if(a==="right"){var O={x:l+u+v,y:o+f/2,textAnchor:N,verticalAnchor:"middle"};return Ha(Ha({},O),i?{width:Math.max(i.x+i.width-O.x,0),height:f}:{})}var F=i?{width:u,height:f}:{};return a==="insideLeft"?Ha({x:l+v,y:o+f/2,textAnchor:N,verticalAnchor:"middle"},F):a==="insideRight"?Ha({x:l+u-v,y:o+f/2,textAnchor:w,verticalAnchor:"middle"},F):a==="insideTop"?Ha({x:l+u/2,y:o+m,textAnchor:"middle",verticalAnchor:x},F):a==="insideBottom"?Ha({x:l+u/2,y:o+f-m,textAnchor:"middle",verticalAnchor:g},F):a==="insideTopLeft"?Ha({x:l+v,y:o+m,textAnchor:N,verticalAnchor:x},F):a==="insideTopRight"?Ha({x:l+u-v,y:o+m,textAnchor:w,verticalAnchor:x},F):a==="insideBottomLeft"?Ha({x:l+v,y:o+f-m,textAnchor:N,verticalAnchor:g},F):a==="insideBottomRight"?Ha({x:l+u-v,y:o+f-m,textAnchor:w,verticalAnchor:g},F):a&&typeof a=="object"&&(Qt(a.x)||xf(a.x))&&(Qt(a.y)||xf(a.y))?Ha({x:l+Os(a.x,u),y:o+Os(a.y,f),textAnchor:"end",verticalAnchor:"end"},F):Ha({x:l+u/2,y:o+f/2,textAnchor:"middle",verticalAnchor:"middle"},F)},ige={offset:5};function vd(e){var t=cs(e,ige),{viewBox:r,position:n,value:a,children:i,content:l,className:o="",textBreakAll:u,labelRef:f}=t,h=Jxe(),m=xI(),g=n==="center"?m:h??m,x=r||g;if(!x||ha(a)&&ha(i)&&!k.isValidElement(l)&&typeof l!="function")return null;var b=Ha(Ha({},t),{},{viewBox:x});if(k.isValidElement(l)){var{labelRef:v}=b,w=Wxe(b,Vxe);return k.cloneElement(l,w)}var N;if(typeof l=="function"){if(N=k.createElement(l,b),k.isValidElement(N))return N}else N=ege(t);var E=gI(x),j=rl(t);if(E&&(n==="insideStart"||n==="insideEnd"||n==="end"))return rge(t,n,N,j,x);var T=E?nge(x,t.offset,t.position):age(t,x);return k.createElement(Y2,Qu({ref:f,className:an("recharts-label",o)},j,T,{breakAll:u}),N)}vd.displayName="Label";var sge=(e,t,r)=>{if(!e)return null;var n={viewBox:t,labelRef:r};return e===!0?k.createElement(vd,Qu({key:"label-implicit"},n)):hu(e)?k.createElement(vd,Qu({key:"label-implicit",value:e},n)):k.isValidElement(e)?e.type===vd?k.cloneElement(e,Ha({key:"label-implicit"},n)):k.createElement(vd,Qu({key:"label-implicit",content:e},n)):fS(e)?k.createElement(vd,Qu({key:"label-implicit",content:e},n)):e&&typeof e=="object"?k.createElement(vd,Qu({},e,{key:"label-implicit"},n)):null};function lge(e){var{label:t,labelRef:r}=e,n=xI();return sge(t,n,r)||null}var a4={},i4={},iO;function oge(){return iO||(iO=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){return r[r.length-1]}e.last=t})(i4)),i4}var s4={},sO;function cge(){return sO||(sO=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){return Array.isArray(r)?r:Array.from(r)}e.toArray=t})(s4)),s4}var lO;function uge(){return lO||(lO=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=oge(),r=cge(),n=$3();function a(i){if(n.isArrayLike(i))return t.last(r.toArray(i))}e.last=a})(a4)),a4}var l4,oO;function fge(){return oO||(oO=1,l4=uge().last),l4}var dge=fge();const hge=Nf(dge);var mge=["valueAccessor"],pge=["dataKey","clockWise","id","textBreakAll"];function Iy(){return Iy=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Iy.apply(null,arguments)}function cO(e,t){if(e==null)return{};var r,n,a=xge(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}function xge(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}var gge=e=>Array.isArray(e.value)?hge(e.value):e.value,vI=k.createContext(void 0),yI=vI.Provider,bI=k.createContext(void 0),vge=bI.Provider;function yge(){return k.useContext(vI)}function bge(){return k.useContext(bI)}function Mv(e){var{valueAccessor:t=gge}=e,r=cO(e,mge),{dataKey:n,clockWise:a,id:i,textBreakAll:l}=r,o=cO(r,pge),u=yge(),f=bge(),h=u||f;return!h||!h.length?null:k.createElement(os,{className:"recharts-label-list"},h.map((m,g)=>{var x,b=ha(n)?t(m,g):Hn(m&&m.payload,n),v=ha(i)?{}:{id:"".concat(i,"-").concat(g)};return k.createElement(vd,Iy({key:"label-".concat(g)},rl(m),o,v,{fill:(x=r.fill)!==null&&x!==void 0?x:m.fill,parentViewBox:m.parentViewBox,value:b,textBreakAll:l,viewBox:m.viewBox,index:g}))}))}Mv.displayName="LabelList";function dS(e){var{label:t}=e;return t?t===!0?k.createElement(Mv,{key:"labelList-implicit"}):k.isValidElement(t)||fS(t)?k.createElement(Mv,{key:"labelList-implicit",content:t}):typeof t=="object"?k.createElement(Mv,Iy({key:"labelList-implicit"},t,{type:String(t.type)})):null:null}function XN(){return XN=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},XN.apply(null,arguments)}var wI=e=>{var{cx:t,cy:r,r:n,className:a}=e,i=an("recharts-dot",a);return t===+t&&r===+r&&n===+n?k.createElement("circle",XN({},no(e),U3(e),{className:i,cx:t,cy:r,r:n})):null},NI=e=>e.graphicalItems.polarItems,wge=He([xa,Hg],Mj),X2=He([NI,Sa,wge],Rj),Nge=He([X2],Ij),Q2=He([Nge,Sj],Bj),_ge=He([Q2,Sa,X2],zj);He([Q2,Sa,X2],(e,t,r)=>r.length>0?e.flatMap(n=>r.flatMap(a=>{var i,l=Hn(n,(i=t.dataKey)!==null&&i!==void 0?i:a.dataKey);return{value:l,errorDomain:[]}})).filter(Boolean):t?.dataKey!=null?e.map(n=>({value:Hn(n,t.dataKey),errorDomain:[]})):e.map(n=>({value:n,errorDomain:[]})));var uO=()=>{},jge=He([Q2,Sa,X2,V2,xa],Vj),Sge=He([Sa,$j,Hj,uO,jge,uO,Gr,xa],Wj),_I=He([Sa,Gr,Q2,_ge,$g,xa,Sge],Gj),Age=He([_I,Sa,gp],Xj);He([Sa,_I,Age,xa],Zj);var Ege={radiusAxis:{},angleAxis:{}},jI=so({name:"polarAxis",initialState:Ege,reducers:{addRadiusAxis(e,t){e.radiusAxis[t.payload.id]=t.payload},removeRadiusAxis(e,t){delete e.radiusAxis[t.payload.id]},addAngleAxis(e,t){e.angleAxis[t.payload.id]=t.payload},removeAngleAxis(e,t){delete e.angleAxis[t.payload.id]}}}),{addRadiusAxis:s3e,removeRadiusAxis:l3e,addAngleAxis:o3e,removeAngleAxis:c3e}=jI.actions,kge=jI.reducer;function fO(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function dO(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?fO(Object(r),!0).forEach(function(n){Cge(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):fO(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Cge(e,t,r){return(t=Tge(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Tge(e){var t=Oge(e,"string");return typeof t=="symbol"?t:t+""}function Oge(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Dge=(e,t)=>t,hS=He([NI,Dge],(e,t)=>e.filter(r=>r.type==="pie").find(r=>r.id===t)),Fge=[],mS=(e,t,r)=>r?.length===0?Fge:r,SI=He([Sj,hS,mS],(e,t,r)=>{var{chartData:n}=e;if(t!=null){var a;if(t?.data!=null&&t.data.length>0?a=t.data:a=n,(!a||!a.length)&&r!=null&&(a=r.map(i=>dO(dO({},t.presentationProps),i.props))),a!=null)return a}}),Pge=He([SI,hS,mS],(e,t,r)=>{if(!(e==null||t==null))return e.map((n,a)=>{var i,l=Hn(n,t.nameKey,t.name),o;return r!=null&&(i=r[a])!==null&&i!==void 0&&(i=i.props)!==null&&i!==void 0&&i.fill?o=r[a].props.fill:typeof n=="object"&&n!=null&&"fill"in n?o=n.fill:o=t.fill,{value:up(l,t.dataKey),color:o,payload:n,type:t.legendType}})}),Lge=He([SI,hS,mS,Ai],(e,t,r,n)=>{if(!(t==null||e==null))return L1e({offset:n,pieSettings:t,displayedData:e,cells:r})}),o4={exports:{}},On={};/**
 * @license React
 * react-is.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var hO;function Mge(){if(hO)return On;hO=1;var e=Symbol.for("react.transitional.element"),t=Symbol.for("react.portal"),r=Symbol.for("react.fragment"),n=Symbol.for("react.strict_mode"),a=Symbol.for("react.profiler"),i=Symbol.for("react.consumer"),l=Symbol.for("react.context"),o=Symbol.for("react.forward_ref"),u=Symbol.for("react.suspense"),f=Symbol.for("react.suspense_list"),h=Symbol.for("react.memo"),m=Symbol.for("react.lazy"),g=Symbol.for("react.view_transition"),x=Symbol.for("react.client.reference");function b(v){if(typeof v=="object"&&v!==null){var w=v.$$typeof;switch(w){case e:switch(v=v.type,v){case r:case a:case n:case u:case f:case g:return v;default:switch(v=v&&v.$$typeof,v){case l:case o:case m:case h:return v;case i:return v;default:return w}}case t:return w}}}return On.ContextConsumer=i,On.ContextProvider=l,On.Element=e,On.ForwardRef=o,On.Fragment=r,On.Lazy=m,On.Memo=h,On.Portal=t,On.Profiler=a,On.StrictMode=n,On.Suspense=u,On.SuspenseList=f,On.isContextConsumer=function(v){return b(v)===i},On.isContextProvider=function(v){return b(v)===l},On.isElement=function(v){return typeof v=="object"&&v!==null&&v.$$typeof===e},On.isForwardRef=function(v){return b(v)===o},On.isFragment=function(v){return b(v)===r},On.isLazy=function(v){return b(v)===m},On.isMemo=function(v){return b(v)===h},On.isPortal=function(v){return b(v)===t},On.isProfiler=function(v){return b(v)===a},On.isStrictMode=function(v){return b(v)===n},On.isSuspense=function(v){return b(v)===u},On.isSuspenseList=function(v){return b(v)===f},On.isValidElementType=function(v){return typeof v=="string"||typeof v=="function"||v===r||v===a||v===n||v===u||v===f||typeof v=="object"&&v!==null&&(v.$$typeof===m||v.$$typeof===h||v.$$typeof===l||v.$$typeof===i||v.$$typeof===o||v.$$typeof===x||v.getModuleId!==void 0)},On.typeOf=b,On}var mO;function Rge(){return mO||(mO=1,o4.exports=Mge()),o4.exports}var Ige=Rge(),pO=e=>typeof e=="string"?e:e?e.displayName||e.name||"Component":"",xO=null,c4=null,AI=e=>{if(e===xO&&Array.isArray(c4))return c4;var t=[];return k.Children.forEach(e,r=>{ha(r)||(Ige.isFragment(r)?t=t.concat(AI(r.props.children)):t.push(r))}),c4=t,xO=e,t};function pS(e,t){var r=[],n=[];return Array.isArray(t)?n=t.map(a=>pO(a)):n=[pO(t)],AI(e).forEach(a=>{var i=Z0(a,"type.displayName")||Z0(a,"type.name");n.indexOf(i)!==-1&&r.push(a)}),r}var EI=e=>e&&typeof e=="object"&&"clipDot"in e?!!e.clipDot:!0,u4={},gO;function Bge(){return gO||(gO=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){if(typeof r!="object"||r==null)return!1;if(Object.getPrototypeOf(r)===null)return!0;if(Object.prototype.toString.call(r)!=="[object Object]"){const a=r[Symbol.toStringTag];return a==null||!Object.getOwnPropertyDescriptor(r,Symbol.toStringTag)?.writable?!1:r.toString()===`[object ${a}]`}let n=r;for(;Object.getPrototypeOf(n)!==null;)n=Object.getPrototypeOf(n);return Object.getPrototypeOf(r)===n}e.isPlainObject=t})(u4)),u4}var f4,vO;function Uge(){return vO||(vO=1,f4=Bge().isPlainObject),f4}var zge=Uge();const qge=Nf(zge);function yO(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function bO(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?yO(Object(r),!0).forEach(function(n){$ge(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):yO(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function $ge(e,t,r){return(t=Hge(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Hge(e){var t=Vge(e,"string");return typeof t=="symbol"?t:t+""}function Vge(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function By(){return By=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},By.apply(null,arguments)}var wO=(e,t,r,n,a)=>{var i=r-n,l;return l="M ".concat(e,",").concat(t),l+="L ".concat(e+r,",").concat(t),l+="L ".concat(e+r-i/2,",").concat(t+a),l+="L ".concat(e+r-i/2-n,",").concat(t+a),l+="L ".concat(e,",").concat(t," Z"),l},Wge={x:0,y:0,upperWidth:0,lowerWidth:0,height:0,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},Gge=e=>{var t=cs(e,Wge),{x:r,y:n,upperWidth:a,lowerWidth:i,height:l,className:o}=t,{animationEasing:u,animationDuration:f,animationBegin:h,isUpdateAnimationActive:m}=t,g=k.useRef(null),[x,b]=k.useState(-1),v=k.useRef(a),w=k.useRef(i),N=k.useRef(l),E=k.useRef(r),j=k.useRef(n),T=Ig(e,"trapezoid-");if(k.useEffect(()=>{if(g.current&&g.current.getTotalLength)try{var ee=g.current.getTotalLength();ee&&b(ee)}catch{}},[]),r!==+r||n!==+n||a!==+a||i!==+i||l!==+l||a===0&&i===0||l===0)return null;var O=an("recharts-trapezoid",o);if(!m)return k.createElement("g",null,k.createElement("path",By({},rl(t),{className:O,d:wO(r,n,a,i,l)})));var F=v.current,D=w.current,L=N.current,B=E.current,H=j.current,P="0px ".concat(x===-1?1:x,"px"),U="".concat(x,"px 0px"),K=XM(["strokeDasharray"],f,u);return k.createElement(Rg,{animationId:T,key:T,canBegin:x>0,duration:f,easing:u,isActive:m,begin:h},ee=>{var me=La(F,a,ee),ne=La(D,i,ee),se=La(L,l,ee),ye=La(B,r,ee),ce=La(H,n,ee);g.current&&(v.current=me,w.current=ne,N.current=se,E.current=ye,j.current=ce);var Se=ee>0?{transition:K,strokeDasharray:U}:{strokeDasharray:P};return k.createElement("path",By({},rl(t),{className:O,d:wO(ye,ce,me,ne,se),ref:g,style:bO(bO({},Se),t.style)}))})},Kge=["option","shapeType","propTransformer","activeClassName","isActive"];function Yge(e,t){if(e==null)return{};var r,n,a=Xge(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}function Xge(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}function NO(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function Uy(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?NO(Object(r),!0).forEach(function(n){Qge(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):NO(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Qge(e,t,r){return(t=Zge(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Zge(e){var t=Jge(e,"string");return typeof t=="symbol"?t:t+""}function Jge(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function e1e(e,t){return Uy(Uy({},t),e)}function t1e(e,t){return e==="symbols"}function _O(e){var{shapeType:t,elementProps:r}=e;switch(t){case"rectangle":return k.createElement(eR,r);case"trapezoid":return k.createElement(Gge,r);case"sector":return k.createElement(nR,r);case"symbols":if(t1e(t))return k.createElement(B3,r);break;default:return null}}function r1e(e){return k.isValidElement(e)?e.props:e}function kI(e){var{option:t,shapeType:r,propTransformer:n=e1e,activeClassName:a="recharts-active-shape",isActive:i}=e,l=Yge(e,Kge),o;if(k.isValidElement(t))o=k.cloneElement(t,Uy(Uy({},l),r1e(t)));else if(typeof t=="function")o=t(l);else if(qge(t)&&typeof t!="boolean"){var u=n(t,l);o=k.createElement(_O,{shapeType:r,elementProps:u})}else{var f=l;o=k.createElement(_O,{shapeType:r,elementProps:f})}return i?k.createElement(os,{className:a},o):o}var xS=(e,t)=>{var r=pa();return(n,a)=>i=>{e?.(n,a,i),r(B9({activeIndex:String(a),activeDataKey:t,activeCoordinate:n.tooltipPosition}))}},gS=e=>{var t=pa();return(r,n)=>a=>{e?.(r,n,a),t(Hme())}},vS=(e,t)=>{var r=pa();return(n,a)=>i=>{e?.(n,a,i),r(Vme({activeIndex:String(a),activeDataKey:t,activeCoordinate:n.tooltipPosition}))}};function yS(e){var{fn:t,args:r}=e,n=pa(),a=nl();return k.useLayoutEffect(()=>{if(!a){var i=t(r);return n(zme(i)),()=>{n(qme(i))}}},[t,r,n,a]),null}var CI=()=>{};function TI(e){var{legendPayload:t}=e,r=pa(),n=nl();return k.useLayoutEffect(()=>n?CI:(r(GM(t)),()=>{r(KM(t))}),[r,n,t]),null}function n1e(e){var{legendPayload:t}=e,r=pa(),n=Ht(Gr);return k.useLayoutEffect(()=>n!=="centric"&&n!=="radial"?CI:(r(GM(t)),()=>{r(KM(t))}),[r,n,t]),null}var d4,a1e=()=>{var[e]=k.useState(()=>ig("uid-"));return e},i1e=(d4=Oz.useId)!==null&&d4!==void 0?d4:a1e;function s1e(e,t){var r=i1e();return t||(e?"".concat(e,"-").concat(r):r)}var l1e=k.createContext(void 0),bS=e=>{var{id:t,type:r,children:n}=e,a=s1e("recharts-".concat(r),t);return k.createElement(l1e.Provider,{value:a},n(a))},o1e={cartesianItems:[],polarItems:[]},OI=so({name:"graphicalItems",initialState:o1e,reducers:{addCartesianGraphicalItem:{reducer(e,t){e.cartesianItems.push(t.payload)},prepare:Qs()},replaceCartesianGraphicalItem:{reducer(e,t){var{prev:r,next:n}=t.payload,a=cf(e).cartesianItems.indexOf(r);a>-1&&(e.cartesianItems[a]=n)},prepare:Qs()},removeCartesianGraphicalItem:{reducer(e,t){var r=cf(e).cartesianItems.indexOf(t.payload);r>-1&&e.cartesianItems.splice(r,1)},prepare:Qs()},addPolarGraphicalItem:{reducer(e,t){e.polarItems.push(t.payload)},prepare:Qs()},removePolarGraphicalItem:{reducer(e,t){var r=cf(e).polarItems.indexOf(t.payload);r>-1&&e.polarItems.splice(r,1)},prepare:Qs()}}}),{addCartesianGraphicalItem:c1e,replaceCartesianGraphicalItem:u1e,removeCartesianGraphicalItem:f1e,addPolarGraphicalItem:d1e,removePolarGraphicalItem:h1e}=OI.actions,m1e=OI.reducer;function DI(e){var t=pa(),r=k.useRef(null);return k.useLayoutEffect(()=>{r.current===null?t(c1e(e)):r.current!==e&&t(u1e({prev:r.current,next:e})),r.current=e},[t,e]),k.useLayoutEffect(()=>()=>{r.current&&(t(f1e(r.current)),r.current=null)},[t]),null}function p1e(e){var t=pa();return k.useLayoutEffect(()=>(t(d1e(e)),()=>{t(h1e(e))}),[t,e]),null}var x1e=["onMouseEnter","onClick","onMouseLeave"],g1e=["id"],v1e=["id"];function wS(e,t){if(e==null)return{};var r,n,a=y1e(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}function y1e(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}function jO(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function ca(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?jO(Object(r),!0).forEach(function(n){b1e(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):jO(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function b1e(e,t,r){return(t=w1e(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function w1e(e){var t=N1e(e,"string");return typeof t=="symbol"?t:t+""}function N1e(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Dd(){return Dd=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Dd.apply(null,arguments)}function _1e(e){var t=k.useMemo(()=>pS(e.children,Xg),[e.children]),r=Ht(n=>Pge(n,e.id,t));return r==null?null:k.createElement(n1e,{legendPayload:r})}function j1e(e){var{dataKey:t,nameKey:r,sectors:n,stroke:a,strokeWidth:i,fill:l,name:o,hide:u,tooltipType:f}=e;return{dataDefinedOnItem:n.map(h=>h.tooltipPayload),positions:n.map(h=>h.tooltipPosition),settings:{stroke:a,strokeWidth:i,fill:l,dataKey:t,nameKey:r,name:up(o,t),hide:u,type:f,color:l,unit:""}}}var S1e=(e,t)=>e>t?"start":e<t?"end":"middle",A1e=(e,t,r)=>Os(typeof t=="function"?t(e):t,r,r*.8),E1e=(e,t,r)=>{var{top:n,left:a,width:i,height:l}=t,o=LM(i,l),u=a+Os(e.cx,i,i/2),f=n+Os(e.cy,l,l/2),h=Os(e.innerRadius,o,0),m=A1e(r,e.outerRadius,o),g=e.maxRadius||Math.sqrt(i*i+l*l)/2;return{cx:u,cy:f,innerRadius:h,outerRadius:m,maxRadius:g}},k1e=(e,t)=>{var r=qi(t-e),n=Math.min(Math.abs(t-e),360);return r*n};function C1e(e){return e&&typeof e=="object"&&"className"in e&&typeof e.className=="string"?e.className:""}var T1e=(e,t)=>{if(k.isValidElement(e))return k.cloneElement(e,t);if(typeof e=="function")return e(t);var r=an("recharts-pie-label-line",typeof e!="boolean"?e.className:"");return k.createElement(tj,Dd({},t,{type:"linear",className:r}))},O1e=(e,t,r)=>{if(k.isValidElement(e))return k.cloneElement(e,t);var n=r;if(typeof e=="function"&&(n=e(t),k.isValidElement(n)))return n;var a=an("recharts-pie-label-text",C1e(e));return k.createElement(Y2,Dd({},t,{alignmentBaseline:"middle",className:a}),n)};function D1e(e){var{sectors:t,props:r,showLabels:n}=e,{label:a,labelLine:i,dataKey:l}=r;if(!n||!a||!t)return null;var o=no(r),u=Q0(a),f=Q0(i),h=typeof a=="object"&&"offsetRadius"in a&&typeof a.offsetRadius=="number"&&a.offsetRadius||20,m=t.map((g,x)=>{var b=(g.startAngle+g.endAngle)/2,v=ii(g.cx,g.cy,g.outerRadius+h,b),w=ca(ca(ca(ca({},o),g),{},{stroke:"none"},u),{},{index:x,textAnchor:S1e(v.x,g.cx)},v),N=ca(ca(ca(ca({},o),g),{},{fill:"none",stroke:g.fill},f),{},{index:x,points:[ii(g.cx,g.cy,g.outerRadius,b),v],key:"line"});return k.createElement(os,{key:"label-".concat(g.startAngle,"-").concat(g.endAngle,"-").concat(g.midAngle,"-").concat(x)},i&&T1e(i,N),O1e(a,w,Hn(g,l)))});return k.createElement(os,{className:"recharts-pie-labels"},m)}function F1e(e){var{sectors:t,props:r,showLabels:n}=e,{label:a}=r;return typeof a=="object"&&a!=null&&"position"in a?k.createElement(dS,{label:a}):k.createElement(D1e,{sectors:t,props:r,showLabels:n})}function P1e(e){var{sectors:t,activeShape:r,inactiveShape:n,allOtherPieProps:a}=e,i=Ht(Od),{onMouseEnter:l,onClick:o,onMouseLeave:u}=a,f=wS(a,x1e),h=xS(l,a.dataKey),m=gS(u),g=vS(o,a.dataKey);return t==null||t.length===0?null:k.createElement(k.Fragment,null,t.map((x,b)=>{if(x?.startAngle===0&&x?.endAngle===0&&t.length!==1)return null;var v=r&&String(b)===i,w=i?n:null,N=v?r:w,E=ca(ca({},x),{},{stroke:x.stroke,tabIndex:-1,[UM]:b,[zM]:a.dataKey});return k.createElement(os,Dd({key:"sector-".concat(x?.startAngle,"-").concat(x?.endAngle,"-").concat(x.midAngle,"-").concat(b),tabIndex:-1,className:"recharts-pie-sector"},Fg(f,x,b),{onMouseEnter:h(x,b),onMouseLeave:m(x,b),onClick:g(x,b)}),k.createElement(kI,Dd({option:N,isActive:v,shapeType:"sector"},E)))}))}function L1e(e){var t,{pieSettings:r,displayedData:n,cells:a,offset:i}=e,{cornerRadius:l,startAngle:o,endAngle:u,dataKey:f,nameKey:h,tooltipType:m}=r,g=Math.abs(r.minAngle),x=k1e(o,u),b=Math.abs(x),v=n.length<=1?0:(t=r.paddingAngle)!==null&&t!==void 0?t:0,w=n.filter(F=>Hn(F,f,0)!==0).length,N=(b>=360?w:w-1)*v,E=b-w*g-N,j=n.reduce((F,D)=>{var L=Hn(D,f,0);return F+(Qt(L)?L:0)},0),T;if(j>0){var O;T=n.map((F,D)=>{var L=Hn(F,f,0),B=Hn(F,h,D),H=E1e(r,i,F),P=(Qt(L)?L:0)/j,U,K=ca(ca({},F),a&&a[D]&&a[D].props);D?U=O.endAngle+qi(x)*v*(L!==0?1:0):U=o;var ee=U+qi(x)*((L!==0?g:0)+P*E),me=(U+ee)/2,ne=(H.innerRadius+H.outerRadius)/2,se=[{name:B,value:L,payload:K,dataKey:f,type:m}],ye=ii(H.cx,H.cy,ne,me);return O=ca(ca(ca(ca({},r.presentationProps),{},{percent:P,cornerRadius:l,name:B,tooltipPayload:se,midAngle:me,middleRadius:ne,tooltipPosition:ye},K),H),{},{value:L,startAngle:U,endAngle:ee,payload:K,paddingAngle:qi(x)*v}),O})}return T}function M1e(e){var{showLabels:t,sectors:r,children:n}=e,a=k.useMemo(()=>!t||!r?[]:r.map(i=>({value:i.value,payload:i.payload,clockWise:!1,parentViewBox:void 0,viewBox:{cx:i.cx,cy:i.cy,innerRadius:i.innerRadius,outerRadius:i.outerRadius,startAngle:i.startAngle,endAngle:i.endAngle,clockWise:!1},fill:i.fill})),[r,t]);return k.createElement(vge,{value:t?a:void 0},n)}function R1e(e){var{props:t,previousSectorsRef:r}=e,{sectors:n,isAnimationActive:a,animationBegin:i,animationDuration:l,animationEasing:o,activeShape:u,inactiveShape:f,onAnimationStart:h,onAnimationEnd:m}=t,g=Ig(t,"recharts-pie-"),x=r.current,[b,v]=k.useState(!1),w=k.useCallback(()=>{typeof m=="function"&&m(),v(!1)},[m]),N=k.useCallback(()=>{typeof h=="function"&&h(),v(!0)},[h]);return k.createElement(M1e,{showLabels:!b,sectors:n},k.createElement(Rg,{animationId:g,begin:i,duration:l,isActive:a,easing:o,onAnimationStart:N,onAnimationEnd:w,key:g},E=>{var j=[],T=n&&n[0],O=T?.startAngle;return n?.forEach((F,D)=>{var L=x&&x[D],B=D>0?Z0(F,"paddingAngle",0):0;if(L){var H=La(L.endAngle-L.startAngle,F.endAngle-F.startAngle,E),P=ca(ca({},F),{},{startAngle:O+B,endAngle:O+H+B});j.push(P),O=P.endAngle}else{var{endAngle:U,startAngle:K}=F,ee=La(0,U-K,E),me=ca(ca({},F),{},{startAngle:O+B,endAngle:O+ee+B});j.push(me),O=me.endAngle}}),r.current=j,k.createElement(os,null,k.createElement(P1e,{sectors:j,activeShape:u,inactiveShape:f,allOtherPieProps:t}))}),k.createElement(F1e,{showLabels:!b,sectors:n,props:t}),t.children)}var I1e={animationBegin:400,animationDuration:1500,animationEasing:"ease",cx:"50%",cy:"50%",dataKey:"value",endAngle:360,fill:"#808080",hide:!1,innerRadius:0,isAnimationActive:!qd.isSsr,labelLine:!0,legendType:"rect",minAngle:0,nameKey:"name",outerRadius:"80%",paddingAngle:0,rootTabIndex:0,startAngle:0,stroke:"#fff"};function B1e(e){var{id:t}=e,r=wS(e,g1e),{hide:n,className:a,rootTabIndex:i}=e,l=k.useMemo(()=>pS(e.children,Xg),[e.children]),o=Ht(h=>Lge(h,t,l)),u=k.useRef(null),f=an("recharts-pie",a);return n||o==null?(u.current=null,k.createElement(os,{tabIndex:i,className:f})):k.createElement(k.Fragment,null,k.createElement(yS,{fn:j1e,args:ca(ca({},e),{},{sectors:o})}),k.createElement(os,{tabIndex:i,className:f},k.createElement(R1e,{props:ca(ca({},r),{},{sectors:o}),previousSectorsRef:u})))}function FI(e){var t=cs(e,I1e),{id:r}=t,n=wS(t,v1e),a=no(n);return k.createElement(bS,{id:r,type:"pie"},i=>k.createElement(k.Fragment,null,k.createElement(p1e,{type:"pie",id:i,data:n.data,dataKey:n.dataKey,hide:n.hide,angleAxisId:0,radiusAxisId:0,name:n.name,nameKey:n.nameKey,tooltipType:n.tooltipType,legendType:n.legendType,fill:n.fill,cx:n.cx,cy:n.cy,startAngle:n.startAngle,endAngle:n.endAngle,paddingAngle:n.paddingAngle,minAngle:n.minAngle,innerRadius:n.innerRadius,outerRadius:n.outerRadius,cornerRadius:n.cornerRadius,presentationProps:a,maxRadius:t.maxRadius}),k.createElement(_1e,Dd({},n,{id:i})),k.createElement(B1e,Dd({},n,{id:i}))))}FI.displayName="Pie";function SO(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function AO(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?SO(Object(r),!0).forEach(function(n){U1e(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):SO(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function U1e(e,t,r){return(t=z1e(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function z1e(e){var t=q1e(e,"string");return typeof t=="symbol"?t:t+""}function q1e(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var $1e={xAxis:{},yAxis:{},zAxis:{}},PI=so({name:"cartesianAxis",initialState:$1e,reducers:{addXAxis:{reducer(e,t){e.xAxis[t.payload.id]=t.payload},prepare:Qs()},removeXAxis:{reducer(e,t){delete e.xAxis[t.payload.id]},prepare:Qs()},addYAxis:{reducer(e,t){e.yAxis[t.payload.id]=t.payload},prepare:Qs()},removeYAxis:{reducer(e,t){delete e.yAxis[t.payload.id]},prepare:Qs()},addZAxis:{reducer(e,t){e.zAxis[t.payload.id]=t.payload},prepare:Qs()},removeZAxis:{reducer(e,t){delete e.zAxis[t.payload.id]},prepare:Qs()},updateYAxisWidth(e,t){var{id:r,width:n}=t.payload,a=e.yAxis[r];if(a){var i=a.widthHistory||[];if(i.length===3&&i[0]===i[2]&&n===i[1]&&n!==a.width&&Math.abs(n-i[0])<=1)return;var l=[...i,n].slice(-3);e.yAxis[r]=AO(AO({},e.yAxis[r]),{},{width:n,widthHistory:l})}}}}),{addXAxis:H1e,removeXAxis:V1e,addYAxis:W1e,removeYAxis:G1e,addZAxis:u3e,removeZAxis:f3e,updateYAxisWidth:K1e}=PI.actions,Y1e=PI.reducer,X1e=He([Ai],e=>{if(e)return{top:e.top,bottom:e.bottom,left:e.left,right:e.right}}),Q1e=He([X1e,Ef,kf],(e,t,r)=>{if(!(!e||t==null||r==null))return{x:e.left,y:e.top,width:Math.max(0,t-e.left-e.right),height:Math.max(0,r-e.top-e.bottom)}}),NS=()=>Ht(Q1e),Z1e=()=>Ht(Ope);function EO(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function kO(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?EO(Object(r),!0).forEach(function(n){J1e(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):EO(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function J1e(e,t,r){return(t=eve(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function eve(e){var t=tve(e,"string");return typeof t=="symbol"?t:t+""}function tve(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var rve=e=>{var{point:t,childIndex:r,mainColor:n,activeDot:a,dataKey:i}=e;if(a===!1||t.x==null||t.y==null)return null;var l=kO(kO({index:r,dataKey:i,cx:t.x,cy:t.y,r:4,fill:n??"none",strokeWidth:2,stroke:"#fff",payload:t.payload,value:t.value},Q0(a)),U3(a)),o;return k.isValidElement(a)?o=k.cloneElement(a,l):typeof a=="function"?o=a(l):o=k.createElement(wI,l),k.createElement(os,{className:"recharts-active-dot"},o)};function nve(e){var{points:t,mainColor:r,activeDot:n,itemDataKey:a}=e,i=Ht(Od),l=Z1e();if(t==null||l==null)return null;var o=t.find(u=>l.includes(u.payload));return ha(o)?null:rve({point:o,childIndex:Number(i),mainColor:r,dataKey:a,activeDot:n})}var ave="Invariant failed";function ive(e,t){throw new Error(ave)}var sve=["x","y"];function QN(){return QN=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},QN.apply(null,arguments)}function CO(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function mx(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?CO(Object(r),!0).forEach(function(n){lve(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):CO(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function lve(e,t,r){return(t=ove(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function ove(e){var t=cve(e,"string");return typeof t=="symbol"?t:t+""}function cve(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function uve(e,t){if(e==null)return{};var r,n,a=fve(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}function fve(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}function dve(e,t){var{x:r,y:n}=e,a=uve(e,sve),i="".concat(r),l=parseInt(i,10),o="".concat(n),u=parseInt(o,10),f="".concat(t.height||a.height),h=parseInt(f,10),m="".concat(t.width||a.width),g=parseInt(m,10);return mx(mx(mx(mx(mx({},t),a),l?{x:l}:{}),u?{y:u}:{}),{},{height:h,width:g,name:t.name,radius:t.radius})}function _S(e){return k.createElement(kI,QN({shapeType:"rectangle",propTransformer:dve,activeClassName:"recharts-active-bar"},e))}var hve=function(t){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;return(n,a)=>{if(Qt(t))return t;var i=Qt(n)||ha(n);return i?t(n,a):(i||ive(),r)}},mve={},LI=so({name:"errorBars",initialState:mve,reducers:{addErrorBar:(e,t)=>{var{itemId:r,errorBar:n}=t.payload;e[r]||(e[r]=[]),e[r].push(n)},replaceErrorBar:(e,t)=>{var{itemId:r,prev:n,next:a}=t.payload;e[r]&&(e[r]=e[r].map(i=>i.dataKey===n.dataKey&&i.direction===n.direction?a:i))},removeErrorBar:(e,t)=>{var{itemId:r,errorBar:n}=t.payload;e[r]&&(e[r]=e[r].filter(a=>a.dataKey!==n.dataKey||a.direction!==n.direction))}}}),{addErrorBar:d3e,replaceErrorBar:h3e,removeErrorBar:m3e}=LI.actions,pve=LI.reducer,xve=["children"];function gve(e,t){if(e==null)return{};var r,n,a=vve(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}function vve(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}var yve={data:[],xAxisId:"xAxis-0",yAxisId:"yAxis-0",dataPointFormatter:()=>({x:0,y:0,value:0}),errorBarOffset:0},bve=k.createContext(yve);function MI(e){var{children:t}=e,r=gve(e,xve);return k.createElement(bve.Provider,{value:r},t)}function jS(e,t){var r,n,a=Ht(f=>Tf(f,e)),i=Ht(f=>Of(f,t)),l=(r=a?.allowDataOverflow)!==null&&r!==void 0?r:Vl.allowDataOverflow,o=(n=i?.allowDataOverflow)!==null&&n!==void 0?n:Wl.allowDataOverflow,u=l||o;return{needClip:u,needClipX:l,needClipY:o}}function RI(e){var{xAxisId:t,yAxisId:r,clipPathId:n}=e,a=NS(),{needClipX:i,needClipY:l,needClip:o}=jS(t,r);if(!o)return null;var{x:u,y:f,width:h,height:m}=a;return k.createElement("clipPath",{id:"clipPath-".concat(n)},k.createElement("rect",{x:i?u:u-h/2,y:l?f:f-m/2,width:i?h:h*2,height:l?m:m*2}))}var wve=["onMouseEnter","onMouseLeave","onClick"],Nve=["value","background","tooltipPosition"],_ve=["id"],jve=["onMouseEnter","onClick","onMouseLeave"];function Fd(){return Fd=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Fd.apply(null,arguments)}function TO(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function Zs(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?TO(Object(r),!0).forEach(function(n){Sve(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):TO(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Sve(e,t,r){return(t=Ave(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Ave(e){var t=Eve(e,"string");return typeof t=="symbol"?t:t+""}function Eve(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function zy(e,t){if(e==null)return{};var r,n,a=kve(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}function kve(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}var Cve=e=>{var{dataKey:t,name:r,fill:n,legendType:a,hide:i}=e;return[{inactive:i,dataKey:t,type:a,color:n,value:up(r,t),payload:e}]};function Tve(e){var{dataKey:t,stroke:r,strokeWidth:n,fill:a,name:i,hide:l,unit:o}=e;return{dataDefinedOnItem:void 0,positions:void 0,settings:{stroke:r,strokeWidth:n,fill:a,dataKey:t,nameKey:void 0,name:up(i,t),hide:l,type:e.tooltipType,color:e.fill,unit:o}}}function Ove(e){var t=Ht(Od),{data:r,dataKey:n,background:a,allOtherBarProps:i}=e,{onMouseEnter:l,onMouseLeave:o,onClick:u}=i,f=zy(i,wve),h=xS(l,n),m=gS(o),g=vS(u,n);if(!a||r==null)return null;var x=Q0(a);return k.createElement(k.Fragment,null,r.map((b,v)=>{var{value:w,background:N,tooltipPosition:E}=b,j=zy(b,Nve);if(!N)return null;var T=h(b,v),O=m(b,v),F=g(b,v),D=Zs(Zs(Zs(Zs(Zs({option:a,isActive:String(v)===t},j),{},{fill:"#eee"},N),x),Fg(f,b,v)),{},{onMouseEnter:T,onMouseLeave:O,onClick:F,dataKey:n,index:v,className:"recharts-bar-background-rectangle"});return k.createElement(_S,Fd({key:"background-bar-".concat(v)},D))}))}function Dve(e){var{showLabels:t,children:r,rects:n}=e,a=n?.map(i=>{var l={x:i.x,y:i.y,width:i.width,height:i.height};return Zs(Zs({},l),{},{value:i.value,payload:i.payload,parentViewBox:i.parentViewBox,viewBox:l,fill:i.fill})});return k.createElement(yI,{value:t?a:void 0},r)}function Fve(e){var{shape:t,activeBar:r,baseProps:n,entry:a,index:i,dataKey:l}=e,o=Ht(Od),u=Ht(eI),f=r&&String(i)===o&&(u==null||l===u),h=f?r:t;return k.createElement(_S,Fd({},n,{name:String(n.name)},a,{isActive:f,option:h,index:i,dataKey:l}))}function Pve(e){var{shape:t,baseProps:r,entry:n,index:a,dataKey:i}=e;return k.createElement(_S,Fd({},r,{name:String(r.name)},n,{isActive:!1,option:t,index:a,dataKey:i}))}function Lve(e){var{data:t,props:r}=e,n=no(r),{id:a}=n,i=zy(n,_ve),{shape:l,dataKey:o,activeBar:u}=r,{onMouseEnter:f,onClick:h,onMouseLeave:m}=r,g=zy(r,jve),x=xS(f,o),b=gS(m),v=vS(h,o);return t?k.createElement(k.Fragment,null,t.map((w,N)=>k.createElement(os,Fd({key:"rectangle-".concat(w?.x,"-").concat(w?.y,"-").concat(w?.value,"-").concat(N),className:"recharts-bar-rectangle"},Fg(g,w,N),{onMouseEnter:x(w,N),onMouseLeave:b(w,N),onClick:v(w,N)}),u?k.createElement(Fve,{shape:l,activeBar:u,baseProps:i,entry:w,index:N,dataKey:o}):k.createElement(Pve,{shape:l,baseProps:i,entry:w,index:N,dataKey:o})))):null}function Mve(e){var{props:t,previousRectanglesRef:r}=e,{data:n,layout:a,isAnimationActive:i,animationBegin:l,animationDuration:o,animationEasing:u,onAnimationEnd:f,onAnimationStart:h}=t,m=r.current,g=Ig(t,"recharts-bar-"),[x,b]=k.useState(!1),v=!x,w=k.useCallback(()=>{typeof f=="function"&&f(),b(!1)},[f]),N=k.useCallback(()=>{typeof h=="function"&&h(),b(!0)},[h]);return k.createElement(Dve,{showLabels:v,rects:n},k.createElement(Rg,{animationId:g,begin:l,duration:o,isActive:i,easing:u,onAnimationEnd:w,onAnimationStart:N,key:g},E=>{var j=E===1?n:n?.map((T,O)=>{var F=m&&m[O];if(F)return Zs(Zs({},T),{},{x:La(F.x,T.x,E),y:La(F.y,T.y,E),width:La(F.width,T.width,E),height:La(F.height,T.height,E)});if(a==="horizontal"){var D=La(0,T.height,E);return Zs(Zs({},T),{},{y:T.y+T.height-D,height:D})}var L=La(0,T.width,E);return Zs(Zs({},T),{},{width:L})});return E>0&&(r.current=j??null),j==null?null:k.createElement(os,null,k.createElement(Lve,{props:t,data:j}))}),k.createElement(dS,{label:t.label}),t.children)}function Rve(e){var t=k.useRef(null);return k.createElement(Mve,{previousRectanglesRef:t,props:e})}var II=0,Ive=(e,t)=>{var r=Array.isArray(e.value)?e.value[1]:e.value;return{x:e.x,y:e.y,value:r,errorVal:Hn(e,t)}};class Bve extends k.PureComponent{render(){var{hide:t,data:r,dataKey:n,className:a,xAxisId:i,yAxisId:l,needClip:o,background:u,id:f}=this.props;if(t||r==null)return null;var h=an("recharts-bar",a),m=f;return k.createElement(os,{className:h,id:f},o&&k.createElement("defs",null,k.createElement(RI,{clipPathId:m,xAxisId:i,yAxisId:l})),k.createElement(os,{className:"recharts-bar-rectangles",clipPath:o?"url(#clipPath-".concat(m,")"):void 0},k.createElement(Ove,{data:r,dataKey:n,background:u,allOtherBarProps:this.props}),k.createElement(Rve,this.props)))}}var Uve={activeBar:!1,animationBegin:0,animationDuration:400,animationEasing:"ease",hide:!1,isAnimationActive:!qd.isSsr,legendType:"rect",minPointSize:II,xAxisId:0,yAxisId:0};function zve(e){var{xAxisId:t,yAxisId:r,hide:n,legendType:a,minPointSize:i,activeBar:l,animationBegin:o,animationDuration:u,animationEasing:f,isAnimationActive:h}=e,{needClip:m}=jS(t,r),g=k2(),x=nl(),b=pS(e.children,Xg),v=Ht(E=>pye(E,t,r,x,e.id,b));if(g!=="vertical"&&g!=="horizontal")return null;var w,N=v?.[0];return N==null||N.height==null||N.width==null?w=0:w=g==="vertical"?N.height/2:N.width/2,k.createElement(MI,{xAxisId:t,yAxisId:r,data:v,dataPointFormatter:Ive,errorBarOffset:w},k.createElement(Bve,Fd({},e,{layout:g,needClip:m,data:v,xAxisId:t,yAxisId:r,hide:n,legendType:a,minPointSize:i,activeBar:l,animationBegin:o,animationDuration:u,animationEasing:f,isAnimationActive:h})))}function qve(e){var{layout:t,barSettings:{dataKey:r,minPointSize:n},pos:a,bandSize:i,xAxis:l,yAxis:o,xAxisTicks:u,yAxisTicks:f,stackedData:h,displayedData:m,offset:g,cells:x,parentViewBox:b}=e,v=t==="horizontal"?o:l,w=h?v.scale.domain():null,N=Ice({numericAxis:v});return m.map((E,j)=>{var T,O,F,D,L,B;h?T=Dce(h[j],w):(T=Hn(E,r),Array.isArray(T)||(T=[N,T]));var H=hve(n,II)(T[1],j);if(t==="horizontal"){var P,[U,K]=[o.scale(T[0]),o.scale(T[1])];O=c8({axis:l,ticks:u,bandSize:i,offset:a.offset,entry:E,index:j}),F=(P=K??U)!==null&&P!==void 0?P:void 0,D=a.size;var ee=U-K;if(L=zo(ee)?0:ee,B={x:O,y:g.top,width:D,height:g.height},Math.abs(H)>0&&Math.abs(L)<Math.abs(H)){var me=qi(L||H)*(Math.abs(H)-Math.abs(L));F-=me,L+=me}}else{var[ne,se]=[l.scale(T[0]),l.scale(T[1])];if(O=ne,F=c8({axis:o,ticks:f,bandSize:i,offset:a.offset,entry:E,index:j}),D=se-ne,L=a.size,B={x:g.left,y:F,width:g.width,height:L},Math.abs(H)>0&&Math.abs(D)<Math.abs(H)){var ye=qi(D||H)*(Math.abs(H)-Math.abs(D));D+=ye}}if(O==null||F==null||D==null||L==null)return null;var ce=Zs(Zs({},E),{},{x:O,y:F,width:D,height:L,value:h?T:T[1],payload:E,background:B,tooltipPosition:{x:O+D/2,y:F+L/2},parentViewBox:b},x&&x[j]&&x[j].props);return ce}).filter(Boolean)}function $ve(e){var t=cs(e,Uve),r=nl();return k.createElement(bS,{id:t.id,type:"bar"},n=>k.createElement(k.Fragment,null,k.createElement(TI,{legendPayload:Cve(t)}),k.createElement(yS,{fn:Tve,args:t}),k.createElement(DI,{type:"bar",id:n,data:void 0,xAxisId:t.xAxisId,yAxisId:t.yAxisId,zAxisId:0,dataKey:t.dataKey,stackId:Rce(t.stackId),hide:t.hide,barSize:t.barSize,minPointSize:t.minPointSize,maxBarSize:t.maxBarSize,isPanorama:r}),k.createElement(zve,Fd({},t,{id:n}))))}var ZN=k.memo($ve);ZN.displayName="Bar";function OO(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function wv(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?OO(Object(r),!0).forEach(function(n){Hve(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):OO(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Hve(e,t,r){return(t=Vve(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Vve(e){var t=Wve(e,"string");return typeof t=="symbol"?t:t+""}function Wve(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Gve=(e,t)=>t,Kve=(e,t,r)=>r,Yve=(e,t,r,n)=>n,Xve=(e,t,r,n,a)=>a,Qg=He([$2,Xve],(e,t)=>e.filter(r=>r.type==="bar").find(r=>r.id===t)),Qve=He([Qg],e=>e?.maxBarSize),Zve=(e,t,r,n,a,i)=>i,DO=(e,t,r)=>{var n=r??e;if(!ha(n))return Os(n,t,0)},Jve=He([Gr,$2,Gve,Kve,Yve],(e,t,r,n,a)=>t.filter(i=>e==="horizontal"?i.xAxisId===r:i.yAxisId===n).filter(i=>i.isPanorama===a).filter(i=>i.hide===!1).filter(i=>i.type==="bar")),eye=(e,t,r,n)=>{var a=Gr(e);return a==="horizontal"?HN(e,"yAxis",r,n):HN(e,"xAxis",t,n)},tye=(e,t,r)=>{var n=Gr(e);return n==="horizontal"?FT(e,"xAxis",t):FT(e,"yAxis",r)},rye=(e,t,r)=>{var n={},a=e.filter(U2),i=e.filter(f=>f.stackId==null),l=a.reduce((f,h)=>(f[h.stackId]||(f[h.stackId]=[]),f[h.stackId].push(h),f),n),o=Object.entries(l).map(f=>{var[h,m]=f,g=m.map(b=>b.dataKey),x=DO(t,r,m[0].barSize);return{stackId:h,dataKeys:g,barSize:x}}),u=i.map(f=>{var h=[f.dataKey].filter(g=>g!=null),m=DO(t,r,f.barSize);return{stackId:void 0,dataKeys:h,barSize:m}});return[...o,...u]},nye=He([Jve,Rhe,tye],rye),aye=(e,t,r,n,a)=>{var i,l,o=Qg(e,t,r,n,a);if(o!=null){var u=Gr(e),f=e9(e),{maxBarSize:h}=o,m=ha(h)?f:h,g,x;return u==="horizontal"?(g=Td(e,"xAxis",t,n),x=Cd(e,"xAxis",t,n)):(g=Td(e,"yAxis",r,n),x=Cd(e,"yAxis",r,n)),(i=(l=cg(g,x,!0))!==null&&l!==void 0?l:m)!==null&&i!==void 0?i:0}},BI=(e,t,r,n)=>{var a=Gr(e),i,l;return a==="horizontal"?(i=Td(e,"xAxis",t,n),l=Cd(e,"xAxis",t,n)):(i=Td(e,"yAxis",r,n),l=Cd(e,"yAxis",r,n)),cg(i,l)};function iye(e,t,r,n,a){var i=n.length;if(!(i<1)){var l=Os(e,r,0,!0),o,u=[];if(Ps(n[0].barSize)){var f=!1,h=r/i,m=n.reduce((N,E)=>N+(E.barSize||0),0);m+=(i-1)*l,m>=r&&(m-=(i-1)*l,l=0),m>=r&&h>0&&(f=!0,h*=.9,m=i*h);var g=(r-m)/2>>0,x={offset:g-l,size:0};o=n.reduce((N,E)=>{var j,T={stackId:E.stackId,dataKeys:E.dataKeys,position:{offset:x.offset+x.size+l,size:f?h:(j=E.barSize)!==null&&j!==void 0?j:0}},O=[...N,T];return x=O[O.length-1].position,O},u)}else{var b=Os(t,r,0,!0);r-2*b-(i-1)*l<=0&&(l=0);var v=(r-2*b-(i-1)*l)/i;v>1&&(v>>=0);var w=Ps(a)?Math.min(v,a):v;o=n.reduce((N,E,j)=>[...N,{stackId:E.stackId,dataKeys:E.dataKeys,position:{offset:b+(v+l)*j+(v-w)/2,size:w}}],u)}return o}}var sye=(e,t,r,n,a,i,l)=>{var o=ha(l)?t:l,u=iye(r,n,a!==i?a:i,e,o);return a!==i&&u!=null&&(u=u.map(f=>wv(wv({},f),{},{position:wv(wv({},f.position),{},{offset:f.position.offset-a/2})}))),u},lye=He([nye,e9,Mhe,t9,aye,BI,Qve],sye),oye=(e,t,r,n)=>Td(e,"xAxis",t,n),cye=(e,t,r,n)=>Td(e,"yAxis",r,n),uye=(e,t,r,n)=>Cd(e,"xAxis",t,n),fye=(e,t,r,n)=>Cd(e,"yAxis",r,n),dye=He([lye,Qg],(e,t)=>{if(!(e==null||t==null)){var r=e.find(n=>n.stackId===t.stackId&&t.dataKey!=null&&n.dataKeys.includes(t.dataKey));if(r!=null)return r.position}}),hye=(e,t)=>{var r=Pj(t);if(!(!e||r==null||t==null)){var{stackId:n}=t;if(n!=null){var a=e[n];if(a){var{stackedData:i}=a;if(i)return i.find(l=>l.key===r)}}}},mye=He([eye,Qg],hye),pye=He([Ai,X3,oye,cye,uye,fye,dye,Gr,M2,BI,mye,Qg,Zve],(e,t,r,n,a,i,l,o,u,f,h,m,g)=>{var{chartData:x,dataStartIndex:b,dataEndIndex:v}=u;if(!(m==null||l==null||t==null||o!=="horizontal"&&o!=="vertical"||r==null||n==null||a==null||i==null||f==null)){var{data:w}=m,N;if(w!=null&&w.length>0?N=w:N=x?.slice(b,v+1),N!=null)return qve({layout:o,barSettings:m,pos:l,parentViewBox:t,bandSize:f,xAxis:r,yAxis:n,xAxisTicks:a,yAxisTicks:i,stackedData:h,displayedData:N,offset:e,cells:g})}}),UI=e=>{var{chartData:t}=e,r=pa(),n=nl();return k.useEffect(()=>n?()=>{}:(r($T(t)),()=>{r($T(void 0))}),[t,r,n]),null},FO={x:0,y:0,width:0,height:0,padding:{top:0,right:0,bottom:0,left:0}},zI=so({name:"brush",initialState:FO,reducers:{setBrushSettings(e,t){return t.payload==null?FO:t.payload}}}),{setBrushSettings:p3e}=zI.actions,xye=zI.reducer;function gye(e,t,r){return(t=vye(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function vye(e){var t=yye(e,"string");return typeof t=="symbol"?t:t+""}function yye(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}class SS{static create(t){return new SS(t)}constructor(t){this.scale=t}get domain(){return this.scale.domain}get range(){return this.scale.range}get rangeMin(){return this.range()[0]}get rangeMax(){return this.range()[1]}get bandwidth(){return this.scale.bandwidth}apply(t){var{bandAware:r,position:n}=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(t!==void 0){if(n)switch(n){case"start":return this.scale(t);case"middle":{var a=this.bandwidth?this.bandwidth()/2:0;return this.scale(t)+a}case"end":{var i=this.bandwidth?this.bandwidth():0;return this.scale(t)+i}default:return this.scale(t)}if(r){var l=this.bandwidth?this.bandwidth()/2:0;return this.scale(t)+l}return this.scale(t)}}isInRange(t){var r=this.range(),n=r[0],a=r[r.length-1];return n<=a?t>=n&&t<=a:t>=a&&t<=n}}gye(SS,"EPS",1e-4);function bye(e){return(e%180+180)%180}var wye=function(t){var{width:r,height:n}=t,a=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,i=bye(a),l=i*Math.PI/180,o=Math.atan(n/r),u=l>o&&l<Math.PI-o?n/Math.sin(l):r/Math.cos(l);return Math.abs(u)},Nye={dots:[],areas:[],lines:[]},qI=so({name:"referenceElements",initialState:Nye,reducers:{addDot:(e,t)=>{e.dots.push(t.payload)},removeDot:(e,t)=>{var r=cf(e).dots.findIndex(n=>n===t.payload);r!==-1&&e.dots.splice(r,1)},addArea:(e,t)=>{e.areas.push(t.payload)},removeArea:(e,t)=>{var r=cf(e).areas.findIndex(n=>n===t.payload);r!==-1&&e.areas.splice(r,1)},addLine:(e,t)=>{e.lines.push(t.payload)},removeLine:(e,t)=>{var r=cf(e).lines.findIndex(n=>n===t.payload);r!==-1&&e.lines.splice(r,1)}}}),{addDot:x3e,removeDot:g3e,addArea:v3e,removeArea:y3e,addLine:b3e,removeLine:w3e}=qI.actions,_ye=qI.reducer,jye=k.createContext(void 0),Sye=e=>{var{children:t}=e,[r]=k.useState("".concat(ig("recharts"),"-clip")),n=NS();if(n==null)return null;var{x:a,y:i,width:l,height:o}=n;return k.createElement(jye.Provider,{value:r},k.createElement("defs",null,k.createElement("clipPath",{id:r},k.createElement("rect",{x:a,y:i,height:o,width:l}))),t)};function Qm(e,t){for(var r in e)if({}.hasOwnProperty.call(e,r)&&(!{}.hasOwnProperty.call(t,r)||e[r]!==t[r]))return!1;for(var n in t)if({}.hasOwnProperty.call(t,n)&&!{}.hasOwnProperty.call(e,n))return!1;return!0}function $I(e,t,r){if(t<1)return[];if(t===1&&r===void 0)return e;for(var n=[],a=0;a<e.length;a+=t)n.push(e[a]);return n}function Aye(e,t,r){var n={width:e.width+t.width,height:e.height+t.height};return wye(n,r)}function Eye(e,t,r){var n=r==="width",{x:a,y:i,width:l,height:o}=e;return t===1?{start:n?a:i,end:n?a+l:i+o}:{start:n?a+l:i+o,end:n?a:i}}function qy(e,t,r,n,a){if(e*t<e*n||e*t>e*a)return!1;var i=r();return e*(t-e*i/2-n)>=0&&e*(t+e*i/2-a)<=0}function kye(e,t){return $I(e,t+1)}function Cye(e,t,r,n,a){for(var i=(n||[]).slice(),{start:l,end:o}=t,u=0,f=1,h=l,m=function(){var b=n?.[u];if(b===void 0)return{v:$I(n,f)};var v=u,w,N=()=>(w===void 0&&(w=r(b,v)),w),E=b.coordinate,j=u===0||qy(e,E,N,h,o);j||(u=0,h=l,f+=1),j&&(h=E+e*(N()/2+a),u+=f)},g;f<=i.length;)if(g=m(),g)return g.v;return[]}function PO(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function bs(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?PO(Object(r),!0).forEach(function(n){Tye(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):PO(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Tye(e,t,r){return(t=Oye(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Oye(e){var t=Dye(e,"string");return typeof t=="symbol"?t:t+""}function Dye(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Fye(e,t,r,n,a){for(var i=(n||[]).slice(),l=i.length,{start:o}=t,{end:u}=t,f=function(g){var x=i[g],b,v=()=>(b===void 0&&(b=r(x,g)),b);if(g===l-1){var w=e*(x.coordinate+e*v()/2-u);i[g]=x=bs(bs({},x),{},{tickCoord:w>0?x.coordinate-w*e:x.coordinate})}else i[g]=x=bs(bs({},x),{},{tickCoord:x.coordinate});var N=qy(e,x.tickCoord,v,o,u);N&&(u=x.tickCoord-e*(v()/2+a),i[g]=bs(bs({},x),{},{isShow:!0}))},h=l-1;h>=0;h--)f(h);return i}function Pye(e,t,r,n,a,i){var l=(n||[]).slice(),o=l.length,{start:u,end:f}=t;if(i){var h=n[o-1],m=r(h,o-1),g=e*(h.coordinate+e*m/2-f);l[o-1]=h=bs(bs({},h),{},{tickCoord:g>0?h.coordinate-g*e:h.coordinate});var x=qy(e,h.tickCoord,()=>m,u,f);x&&(f=h.tickCoord-e*(m/2+a),l[o-1]=bs(bs({},h),{},{isShow:!0}))}for(var b=i?o-1:o,v=function(E){var j=l[E],T,O=()=>(T===void 0&&(T=r(j,E)),T);if(E===0){var F=e*(j.coordinate-e*O()/2-u);l[E]=j=bs(bs({},j),{},{tickCoord:F<0?j.coordinate-F*e:j.coordinate})}else l[E]=j=bs(bs({},j),{},{tickCoord:j.coordinate});var D=qy(e,j.tickCoord,O,u,f);D&&(u=j.tickCoord+e*(O()/2+a),l[E]=bs(bs({},j),{},{isShow:!0}))},w=0;w<b;w++)v(w);return l}function AS(e,t,r){var{tick:n,ticks:a,viewBox:i,minTickGap:l,orientation:o,interval:u,tickFormatter:f,unit:h,angle:m}=e;if(!a||!a.length||!n)return[];if(Qt(u)||qd.isSsr){var g;return(g=kye(a,Qt(u)?u:0))!==null&&g!==void 0?g:[]}var x=[],b=o==="top"||o==="bottom"?"width":"height",v=h&&b==="width"?Fx(h,{fontSize:t,letterSpacing:r}):{width:0,height:0},w=(j,T)=>{var O=typeof f=="function"?f(j.value,T):j.value;return b==="width"?Aye(Fx(O,{fontSize:t,letterSpacing:r}),v,m):Fx(O,{fontSize:t,letterSpacing:r})[b]},N=a.length>=2?qi(a[1].coordinate-a[0].coordinate):1,E=Eye(i,N,b);return u==="equidistantPreserveStart"?Cye(N,E,w,a,l):(u==="preserveStart"||u==="preserveStartEnd"?x=Pye(N,E,w,a,l,u==="preserveStartEnd"):x=Fye(N,E,w,a,l),x.filter(j=>j.isShow))}var Lye=e=>{var{ticks:t,label:r,labelGapWithTick:n=5,tickSize:a=0,tickMargin:i=0}=e,l=0;if(t){Array.from(t).forEach(h=>{if(h){var m=h.getBoundingClientRect();m.width>l&&(l=m.width)}});var o=r?r.getBoundingClientRect().width:0,u=a+i,f=l+u+o+(r?n:0);return Math.round(f)}return 0},Mye=["axisLine","width","height","className","hide","ticks"],Rye=["viewBox"],Iye=["viewBox"];function JN(e,t){if(e==null)return{};var r,n,a=Bye(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}function Bye(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}function nh(){return nh=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},nh.apply(null,arguments)}function LO(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function yi(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?LO(Object(r),!0).forEach(function(n){Uye(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):LO(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Uye(e,t,r){return(t=zye(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function zye(e){var t=qye(e,"string");return typeof t=="symbol"?t:t+""}function qye(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var ES={x:0,y:0,width:0,height:0,viewBox:{x:0,y:0,width:0,height:0},orientation:"bottom",ticks:[],stroke:"#666",tickLine:!0,axisLine:!0,tick:!0,mirror:!1,minTickGap:5,tickSize:6,tickMargin:2,interval:"preserveEnd"};function $ye(e){var{x:t,y:r,width:n,height:a,orientation:i,mirror:l,axisLine:o,otherSvgProps:u}=e;if(!o)return null;var f=yi(yi(yi({},u),no(o)),{},{fill:"none"});if(i==="top"||i==="bottom"){var h=+(i==="top"&&!l||i==="bottom"&&l);f=yi(yi({},f),{},{x1:t,y1:r+h*a,x2:t+n,y2:r+h*a})}else{var m=+(i==="left"&&!l||i==="right"&&l);f=yi(yi({},f),{},{x1:t+m*n,y1:r,x2:t+m*n,y2:r+a})}return k.createElement("line",nh({},f,{className:an("recharts-cartesian-axis-line",Z0(o,"className"))}))}function Hye(e,t,r,n,a,i,l,o,u){var f,h,m,g,x,b,v=o?-1:1,w=e.tickSize||l,N=Qt(e.tickCoord)?e.tickCoord:e.coordinate;switch(i){case"top":f=h=e.coordinate,g=r+ +!o*a,m=g-v*w,b=m-v*u,x=N;break;case"left":m=g=e.coordinate,h=t+ +!o*n,f=h-v*w,x=f-v*u,b=N;break;case"right":m=g=e.coordinate,h=t+ +o*n,f=h+v*w,x=f+v*u,b=N;break;default:f=h=e.coordinate,g=r+ +o*a,m=g+v*w,b=m+v*u,x=N;break}return{line:{x1:f,y1:m,x2:h,y2:g},tick:{x,y:b}}}function Vye(e,t){switch(e){case"left":return t?"start":"end";case"right":return t?"end":"start";default:return"middle"}}function Wye(e,t){switch(e){case"left":case"right":return"middle";case"top":return t?"start":"end";default:return t?"end":"start"}}function Gye(e){var{option:t,tickProps:r,value:n}=e,a,i=an(r.className,"recharts-cartesian-axis-tick-value");if(k.isValidElement(t))a=k.cloneElement(t,yi(yi({},r),{},{className:i}));else if(typeof t=="function")a=t(yi(yi({},r),{},{className:i}));else{var l="recharts-cartesian-axis-tick-value";typeof t!="boolean"&&(l=an(l,t?.className)),a=k.createElement(Y2,nh({},r,{className:l}),n)}return a}function Kye(e){var{ticks:t=[],tick:r,tickLine:n,stroke:a,tickFormatter:i,unit:l,padding:o,tickTextProps:u,orientation:f,mirror:h,x:m,y:g,width:x,height:b,tickSize:v,tickMargin:w,fontSize:N,letterSpacing:E,getTicksConfig:j,events:T}=e,O=AS(yi(yi({},j),{},{ticks:t}),N,E),F=Vye(f,h),D=Wye(f,h),L=no(j),B=Q0(r),H={};typeof n=="object"&&(H=n);var P=yi(yi({},L),{},{fill:"none"},H),U=O.map((K,ee)=>{var{line:me,tick:ne}=Hye(K,m,g,x,b,f,v,h,w),se=yi(yi(yi(yi({textAnchor:F,verticalAnchor:D},L),{},{stroke:"none",fill:a},B),ne),{},{index:ee,payload:K,visibleTicksCount:O.length,tickFormatter:i,padding:o},u);return k.createElement(os,nh({className:"recharts-cartesian-axis-tick",key:"tick-".concat(K.value,"-").concat(K.coordinate,"-").concat(K.tickCoord)},Fg(T,K,ee)),n&&k.createElement("line",nh({},P,me,{className:an("recharts-cartesian-axis-tick-line",Z0(n,"className"))})),r&&k.createElement(Gye,{option:r,tickProps:se,value:"".concat(typeof i=="function"?i(K.value,ee):K.value).concat(l||"")}))});return U.length>0?k.createElement("g",{className:"recharts-cartesian-axis-ticks"},U):null}var Yye=k.forwardRef((e,t)=>{var{axisLine:r,width:n,height:a,className:i,hide:l,ticks:o}=e,u=JN(e,Mye),[f,h]=k.useState(""),[m,g]=k.useState(""),x=k.useRef(null);k.useImperativeHandle(t,()=>({getCalculatedWidth:()=>{var v;return Lye({ticks:x.current,label:(v=e.labelRef)===null||v===void 0?void 0:v.current,labelGapWithTick:5,tickSize:e.tickSize,tickMargin:e.tickMargin})}}));var b=k.useCallback(v=>{if(v){var w=v.getElementsByClassName("recharts-cartesian-axis-tick-value");x.current=w;var N=w[0];if(N){var E=window.getComputedStyle(N),j=E.fontSize,T=E.letterSpacing;(j!==f||T!==m)&&(h(j),g(T))}}},[f,m]);return l||n!=null&&n<=0||a!=null&&a<=0?null:k.createElement(os,{className:an("recharts-cartesian-axis",i),ref:b},k.createElement($ye,{x:e.x,y:e.y,width:n,height:a,orientation:e.orientation,mirror:e.mirror,axisLine:r,otherSvgProps:no(e)}),k.createElement(Kye,{ticks:o,tick:e.tick,tickLine:e.tickLine,stroke:e.stroke,tickFormatter:e.tickFormatter,unit:e.unit,padding:e.padding,tickTextProps:e.tickTextProps,orientation:e.orientation,mirror:e.mirror,x:e.x,y:e.y,width:e.width,height:e.height,tickSize:e.tickSize,tickMargin:e.tickMargin,fontSize:f,letterSpacing:m,getTicksConfig:e,events:u}),k.createElement(Qxe,{x:e.x,y:e.y,width:e.width,height:e.height},k.createElement(lge,{label:e.label,labelRef:e.labelRef}),e.children))}),Xye=k.memo(Yye,(e,t)=>{var{viewBox:r}=e,n=JN(e,Rye),{viewBox:a}=t,i=JN(t,Iye);return Qm(r,a)&&Qm(n,i)}),kS=k.forwardRef((e,t)=>{var r=cs(e,ES);return k.createElement(Xye,nh({},r,{ref:t}))});kS.displayName="CartesianAxis";var Qye=["x1","y1","x2","y2","key"],Zye=["offset"],Jye=["xAxisId","yAxisId"],e2e=["xAxisId","yAxisId"];function MO(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function js(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?MO(Object(r),!0).forEach(function(n){t2e(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):MO(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function t2e(e,t,r){return(t=r2e(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function r2e(e){var t=n2e(e,"string");return typeof t=="symbol"?t:t+""}function n2e(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function C0(){return C0=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},C0.apply(null,arguments)}function $y(e,t){if(e==null)return{};var r,n,a=a2e(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}function a2e(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}var i2e=e=>{var{fill:t}=e;if(!t||t==="none")return null;var{fillOpacity:r,x:n,y:a,width:i,height:l,ry:o}=e;return k.createElement("rect",{x:n,y:a,ry:o,width:i,height:l,stroke:"none",fill:t,fillOpacity:r,className:"recharts-cartesian-grid-bg"})};function HI(e,t){var r;if(k.isValidElement(e))r=k.cloneElement(e,t);else if(typeof e=="function")r=e(t);else{var{x1:n,y1:a,x2:i,y2:l,key:o}=t,u=$y(t,Qye),f=no(u),{offset:h}=f,m=$y(f,Zye);r=k.createElement("line",C0({},m,{x1:n,y1:a,x2:i,y2:l,fill:"none",key:o}))}return r}function s2e(e){var{x:t,width:r,horizontal:n=!0,horizontalPoints:a}=e;if(!n||!a||!a.length)return null;var{xAxisId:i,yAxisId:l}=e,o=$y(e,Jye),u=a.map((f,h)=>{var m=js(js({},o),{},{x1:t,y1:f,x2:t+r,y2:f,key:"line-".concat(h),index:h});return HI(n,m)});return k.createElement("g",{className:"recharts-cartesian-grid-horizontal"},u)}function l2e(e){var{y:t,height:r,vertical:n=!0,verticalPoints:a}=e;if(!n||!a||!a.length)return null;var{xAxisId:i,yAxisId:l}=e,o=$y(e,e2e),u=a.map((f,h)=>{var m=js(js({},o),{},{x1:f,y1:t,x2:f,y2:t+r,key:"line-".concat(h),index:h});return HI(n,m)});return k.createElement("g",{className:"recharts-cartesian-grid-vertical"},u)}function o2e(e){var{horizontalFill:t,fillOpacity:r,x:n,y:a,width:i,height:l,horizontalPoints:o,horizontal:u=!0}=e;if(!u||!t||!t.length)return null;var f=o.map(m=>Math.round(m+a-a)).sort((m,g)=>m-g);a!==f[0]&&f.unshift(0);var h=f.map((m,g)=>{var x=!f[g+1],b=x?a+l-m:f[g+1]-m;if(b<=0)return null;var v=g%t.length;return k.createElement("rect",{key:"react-".concat(g),y:m,x:n,height:b,width:i,stroke:"none",fill:t[v],fillOpacity:r,className:"recharts-cartesian-grid-bg"})});return k.createElement("g",{className:"recharts-cartesian-gridstripes-horizontal"},h)}function c2e(e){var{vertical:t=!0,verticalFill:r,fillOpacity:n,x:a,y:i,width:l,height:o,verticalPoints:u}=e;if(!t||!r||!r.length)return null;var f=u.map(m=>Math.round(m+a-a)).sort((m,g)=>m-g);a!==f[0]&&f.unshift(0);var h=f.map((m,g)=>{var x=!f[g+1],b=x?a+l-m:f[g+1]-m;if(b<=0)return null;var v=g%r.length;return k.createElement("rect",{key:"react-".concat(g),x:m,y:i,width:b,height:o,stroke:"none",fill:r[v],fillOpacity:n,className:"recharts-cartesian-grid-bg"})});return k.createElement("g",{className:"recharts-cartesian-gridstripes-vertical"},h)}var u2e=(e,t)=>{var{xAxis:r,width:n,height:a,offset:i}=e;return RM(AS(js(js(js({},ES),r),{},{ticks:IM(r),viewBox:{x:0,y:0,width:n,height:a}})),i.left,i.left+i.width,t)},f2e=(e,t)=>{var{yAxis:r,width:n,height:a,offset:i}=e;return RM(AS(js(js(js({},ES),r),{},{ticks:IM(r),viewBox:{x:0,y:0,width:n,height:a}})),i.top,i.top+i.height,t)},d2e={horizontal:!0,vertical:!0,horizontalPoints:[],verticalPoints:[],stroke:"#ccc",fill:"none",verticalFill:[],horizontalFill:[],xAxisId:0,yAxisId:0};function e_(e){var t=Z3(),r=J3(),n=VM(),a=js(js({},cs(e,d2e)),{},{x:Qt(e.x)?e.x:n.left,y:Qt(e.y)?e.y:n.top,width:Qt(e.width)?e.width:n.width,height:Qt(e.height)?e.height:n.height}),{xAxisId:i,yAxisId:l,x:o,y:u,width:f,height:h,syncWithTicks:m,horizontalValues:g,verticalValues:x}=a,b=nl(),v=Ht(B=>PT(B,"xAxis",i,b)),w=Ht(B=>PT(B,"yAxis",l,b));if(!Qt(f)||f<=0||!Qt(h)||h<=0||!Qt(o)||o!==+o||!Qt(u)||u!==+u)return null;var N=a.verticalCoordinatesGenerator||u2e,E=a.horizontalCoordinatesGenerator||f2e,{horizontalPoints:j,verticalPoints:T}=a;if((!j||!j.length)&&typeof E=="function"){var O=g&&g.length,F=E({yAxis:w?js(js({},w),{},{ticks:O?g:w.ticks}):void 0,width:t,height:r,offset:n},O?!0:m);wy(Array.isArray(F),"horizontalCoordinatesGenerator should return Array but instead it returned [".concat(typeof F,"]")),Array.isArray(F)&&(j=F)}if((!T||!T.length)&&typeof N=="function"){var D=x&&x.length,L=N({xAxis:v?js(js({},v),{},{ticks:D?x:v.ticks}):void 0,width:t,height:r,offset:n},D?!0:m);wy(Array.isArray(L),"verticalCoordinatesGenerator should return Array but instead it returned [".concat(typeof L,"]")),Array.isArray(L)&&(T=L)}return k.createElement("g",{className:"recharts-cartesian-grid"},k.createElement(i2e,{fill:a.fill,fillOpacity:a.fillOpacity,x:a.x,y:a.y,width:a.width,height:a.height,ry:a.ry}),k.createElement(o2e,C0({},a,{horizontalPoints:j})),k.createElement(c2e,C0({},a,{verticalPoints:T})),k.createElement(s2e,C0({},a,{offset:n,horizontalPoints:j,xAxis:v,yAxis:w})),k.createElement(l2e,C0({},a,{offset:n,verticalPoints:T,xAxis:v,yAxis:w})))}e_.displayName="CartesianGrid";var VI=(e,t,r,n)=>Td(e,"xAxis",t,n),WI=(e,t,r,n)=>Cd(e,"xAxis",t,n),GI=(e,t,r,n)=>Td(e,"yAxis",r,n),KI=(e,t,r,n)=>Cd(e,"yAxis",r,n),h2e=He([Gr,VI,GI,WI,KI],(e,t,r,n,a)=>zd(e,"xAxis")?cg(t,n,!1):cg(r,a,!1)),m2e=(e,t,r,n,a)=>a;function p2e(e){return e.type==="line"}var x2e=He([$2,m2e],(e,t)=>e.filter(p2e).find(r=>r.id===t)),g2e=He([Gr,VI,GI,WI,KI,x2e,h2e,M2],(e,t,r,n,a,i,l,o)=>{var{chartData:u,dataStartIndex:f,dataEndIndex:h}=o;if(!(i==null||t==null||r==null||n==null||a==null||n.length===0||a.length===0||l==null)){var{dataKey:m,data:g}=i,x;if(g!=null&&g.length>0?x=g:x=u?.slice(f,h+1),x!=null)return U2e({layout:e,xAxis:t,yAxis:r,xAxisTicks:n,yAxisTicks:a,dataKey:m,bandSize:l,displayedData:x})}});function v2e(e){var t=Q0(e),r=3,n=2;if(t!=null){var{r:a,strokeWidth:i}=t,l=Number(a),o=Number(i);return(Number.isNaN(l)||l<0)&&(l=r),(Number.isNaN(o)||o<0)&&(o=n),{r:l,strokeWidth:o}}return{r,strokeWidth:n}}var y2e=["id"],b2e=["type","layout","connectNulls","needClip"],w2e=["activeDot","animateNewValues","animationBegin","animationDuration","animationEasing","connectNulls","dot","hide","isAnimationActive","label","legendType","xAxisId","yAxisId","id"];function RO(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function Xl(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?RO(Object(r),!0).forEach(function(n){N2e(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):RO(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function N2e(e,t,r){return(t=_2e(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function _2e(e){var t=j2e(e,"string");return typeof t=="symbol"?t:t+""}function j2e(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function CS(e,t){if(e==null)return{};var r,n,a=S2e(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}function S2e(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}function ah(){return ah=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},ah.apply(null,arguments)}var A2e=e=>{var{dataKey:t,name:r,stroke:n,legendType:a,hide:i}=e;return[{inactive:i,dataKey:t,type:a,color:n,value:up(r,t),payload:e}]};function E2e(e){var{dataKey:t,data:r,stroke:n,strokeWidth:a,fill:i,name:l,hide:o,unit:u}=e;return{dataDefinedOnItem:r,positions:void 0,settings:{stroke:n,strokeWidth:a,fill:i,dataKey:t,nameKey:void 0,name:up(l,t),hide:o,type:e.tooltipType,color:e.stroke,unit:u}}}var YI=(e,t)=>"".concat(t,"px ").concat(e-t,"px");function k2e(e,t){for(var r=e.length%2!==0?[...e,0]:e,n=[],a=0;a<t;++a)n=[...n,...r];return n}var C2e=(e,t,r)=>{var n=r.reduce((m,g)=>m+g);if(!n)return YI(t,e);for(var a=Math.floor(e/n),i=e%n,l=t-e,o=[],u=0,f=0;u<r.length;f+=r[u],++u)if(f+r[u]>i){o=[...r.slice(0,u),i-f];break}var h=o.length%2===0?[0,l]:[l];return[...k2e(r,a),...o,...h].map(m=>"".concat(m,"px")).join(", ")};function T2e(e,t){var r;if(k.isValidElement(e))r=k.cloneElement(e,t);else if(typeof e=="function")r=e(t);else{var n=an("recharts-line-dot",typeof e!="boolean"?e.className:"");r=k.createElement(wI,ah({},t,{className:n}))}return r}function O2e(e,t){return e==null?!1:t?!0:e.length===1}function D2e(e){var{clipPathId:t,points:r,props:n}=e,{dot:a,dataKey:i,needClip:l}=n;if(!O2e(r,a))return null;var{id:o}=n,u=CS(n,y2e),f=EI(a),h=no(u),m=wse(a),g=r.map((b,v)=>{var w=Xl(Xl(Xl({key:"dot-".concat(v),r:3},h),m),{},{index:v,cx:b.x,cy:b.y,dataKey:i,value:b.value,payload:b.payload,points:r});return T2e(a,w)}),x={clipPath:l?"url(#clipPath-".concat(f?"":"dots-").concat(t,")"):void 0};return k.createElement(os,ah({className:"recharts-line-dots",key:"dots"},x),g)}function F2e(e){var{showLabels:t,children:r,points:n}=e,a=k.useMemo(()=>n?.map(i=>{var l={x:i.x,y:i.y,width:0,height:0};return Xl(Xl({},l),{},{value:i.value,payload:i.payload,viewBox:l,parentViewBox:void 0,fill:void 0})}),[n]);return k.createElement(yI,{value:t?a:null},r)}function IO(e){var{clipPathId:t,pathRef:r,points:n,strokeDasharray:a,props:i}=e,{type:l,layout:o,connectNulls:u,needClip:f}=i,h=CS(i,b2e),m=Xl(Xl({},rl(h)),{},{fill:"none",className:"recharts-line-curve",clipPath:f?"url(#clipPath-".concat(t,")"):void 0,points:n,type:l,layout:o,connectNulls:u,strokeDasharray:a??i.strokeDasharray});return k.createElement(k.Fragment,null,n?.length>1&&k.createElement(tj,ah({},m,{pathRef:r})),k.createElement(D2e,{points:n,clipPathId:t,props:i}))}function P2e(e){try{return e&&e.getTotalLength&&e.getTotalLength()||0}catch{return 0}}function L2e(e){var{clipPathId:t,props:r,pathRef:n,previousPointsRef:a,longestAnimatedLengthRef:i}=e,{points:l,strokeDasharray:o,isAnimationActive:u,animationBegin:f,animationDuration:h,animationEasing:m,animateNewValues:g,width:x,height:b,onAnimationEnd:v,onAnimationStart:w}=r,N=a.current,E=Ig(r,"recharts-line-"),[j,T]=k.useState(!1),O=!j,F=k.useCallback(()=>{typeof v=="function"&&v(),T(!1)},[v]),D=k.useCallback(()=>{typeof w=="function"&&w(),T(!0)},[w]),L=P2e(n.current),B=i.current;return k.createElement(F2e,{points:l,showLabels:O},r.children,k.createElement(Rg,{animationId:E,begin:f,duration:h,isActive:u,easing:m,onAnimationEnd:F,onAnimationStart:D,key:E},H=>{var P=La(B,L+B,H),U=Math.min(P,L),K;if(u)if(o){var ee="".concat(o).split(/[,\s]+/gim).map(se=>parseFloat(se));K=C2e(U,L,ee)}else K=YI(L,U);else K=o==null?void 0:String(o);if(N){var me=N.length/l.length,ne=H===1?l:l.map((se,ye)=>{var ce=Math.floor(ye*me);if(N[ce]){var Se=N[ce];return Xl(Xl({},se),{},{x:La(Se.x,se.x,H),y:La(Se.y,se.y,H)})}return g?Xl(Xl({},se),{},{x:La(x*2,se.x,H),y:La(b/2,se.y,H)}):Xl(Xl({},se),{},{x:se.x,y:se.y})});return a.current=ne,k.createElement(IO,{props:r,points:ne,clipPathId:t,pathRef:n,strokeDasharray:K})}return H>0&&L>0&&(a.current=l,i.current=U),k.createElement(IO,{props:r,points:l,clipPathId:t,pathRef:n,strokeDasharray:K})}),k.createElement(dS,{label:r.label}))}function M2e(e){var{clipPathId:t,props:r}=e,n=k.useRef(null),a=k.useRef(0),i=k.useRef(null);return k.createElement(L2e,{props:r,clipPathId:t,previousPointsRef:n,longestAnimatedLengthRef:a,pathRef:i})}var R2e=(e,t)=>({x:e.x,y:e.y,value:e.value,errorVal:Hn(e.payload,t)});class I2e extends k.Component{render(){var{hide:t,dot:r,points:n,className:a,xAxisId:i,yAxisId:l,top:o,left:u,width:f,height:h,id:m,needClip:g}=this.props;if(t)return null;var x=an("recharts-line",a),b=m,{r:v,strokeWidth:w}=v2e(r),N=EI(r),E=v*2+w;return k.createElement(k.Fragment,null,k.createElement(os,{className:x},g&&k.createElement("defs",null,k.createElement(RI,{clipPathId:b,xAxisId:i,yAxisId:l}),!N&&k.createElement("clipPath",{id:"clipPath-dots-".concat(b)},k.createElement("rect",{x:u-E/2,y:o-E/2,width:f+E,height:h+E}))),k.createElement(MI,{xAxisId:i,yAxisId:l,data:n,dataPointFormatter:R2e,errorBarOffset:0},k.createElement(M2e,{props:this.props,clipPathId:b}))),k.createElement(nve,{activeDot:this.props.activeDot,points:n,mainColor:this.props.stroke,itemDataKey:this.props.dataKey}))}}var XI={activeDot:!0,animateNewValues:!0,animationBegin:0,animationDuration:1500,animationEasing:"ease",connectNulls:!1,dot:!0,fill:"#fff",hide:!1,isAnimationActive:!qd.isSsr,label:!1,legendType:"line",stroke:"#3182bd",strokeWidth:1,xAxisId:0,yAxisId:0};function B2e(e){var t=cs(e,XI),{activeDot:r,animateNewValues:n,animationBegin:a,animationDuration:i,animationEasing:l,connectNulls:o,dot:u,hide:f,isAnimationActive:h,label:m,legendType:g,xAxisId:x,yAxisId:b,id:v}=t,w=CS(t,w2e),{needClip:N}=jS(x,b),E=NS(),j=k2(),T=nl(),O=Ht(H=>g2e(H,x,b,T,v));if(j!=="horizontal"&&j!=="vertical"||O==null||E==null)return null;var{height:F,width:D,x:L,y:B}=E;return k.createElement(I2e,ah({},w,{id:v,connectNulls:o,dot:u,activeDot:r,animateNewValues:n,animationBegin:a,animationDuration:i,animationEasing:l,isAnimationActive:h,hide:f,label:m,legendType:g,xAxisId:x,yAxisId:b,points:O,layout:j,height:F,width:D,left:L,top:B,needClip:N}))}function U2e(e){var{layout:t,xAxis:r,yAxis:n,xAxisTicks:a,yAxisTicks:i,dataKey:l,bandSize:o,displayedData:u}=e;return u.map((f,h)=>{var m=Hn(f,l);if(t==="horizontal"){var g=o8({axis:r,ticks:a,bandSize:o,entry:f,index:h}),x=ha(m)?null:n.scale(m);return{x:g,y:x,value:m,payload:f}}var b=ha(m)?null:r.scale(m),v=o8({axis:n,ticks:i,bandSize:o,entry:f,index:h});return b==null||v==null?null:{x:b,y:v,value:m,payload:f}}).filter(Boolean)}function z2e(e){var t=cs(e,XI),r=nl();return k.createElement(bS,{id:t.id,type:"line"},n=>k.createElement(k.Fragment,null,k.createElement(TI,{legendPayload:A2e(t)}),k.createElement(yS,{fn:E2e,args:t}),k.createElement(DI,{type:"line",id:n,data:t.data,xAxisId:t.xAxisId,yAxisId:t.yAxisId,zAxisId:0,dataKey:t.dataKey,hide:t.hide,isPanorama:r}),k.createElement(B2e,ah({},t,{id:n}))))}var t_=k.memo(z2e);t_.displayName="Line";var q2e=["dangerouslySetInnerHTML","ticks"],$2e=["id"],H2e=["domain"],V2e=["domain"];function r_(){return r_=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},r_.apply(null,arguments)}function Hy(e,t){if(e==null)return{};var r,n,a=W2e(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}function W2e(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}function G2e(e){var t=pa();return k.useLayoutEffect(()=>(t(H1e(e)),()=>{t(V1e(e))}),[e,t]),null}var K2e=e=>{var{xAxisId:t,className:r}=e,n=Ht(X3),a=nl(),i="xAxis",l=Ht(w=>vp(w,i,t,a)),o=Ht(w=>F9(w,i,t,a)),u=Ht(w=>C9(w,t)),f=Ht(w=>Ome(w,t)),h=Ht(w=>u9(w,t));if(u==null||f==null||h==null)return null;var{dangerouslySetInnerHTML:m,ticks:g}=e,x=Hy(e,q2e),{id:b}=h,v=Hy(h,$2e);return k.createElement(kS,r_({},x,v,{scale:l,x:f.x,y:f.y,width:u.width,height:u.height,className:an("recharts-".concat(i," ").concat(i),r),viewBox:n,ticks:o}))},Y2e={allowDataOverflow:Vl.allowDataOverflow,allowDecimals:Vl.allowDecimals,allowDuplicatedCategory:Vl.allowDuplicatedCategory,height:Vl.height,hide:!1,mirror:Vl.mirror,orientation:Vl.orientation,padding:Vl.padding,reversed:Vl.reversed,scale:Vl.scale,tickCount:Vl.tickCount,type:Vl.type,xAxisId:0},X2e=e=>{var t,r,n,a,i,l=cs(e,Y2e);return k.createElement(k.Fragment,null,k.createElement(G2e,{interval:(t=l.interval)!==null&&t!==void 0?t:"preserveEnd",id:l.xAxisId,scale:l.scale,type:l.type,padding:l.padding,allowDataOverflow:l.allowDataOverflow,domain:l.domain,dataKey:l.dataKey,allowDuplicatedCategory:l.allowDuplicatedCategory,allowDecimals:l.allowDecimals,tickCount:l.tickCount,includeHidden:(r=l.includeHidden)!==null&&r!==void 0?r:!1,reversed:l.reversed,ticks:l.ticks,height:l.height,orientation:l.orientation,mirror:l.mirror,hide:l.hide,unit:l.unit,name:l.name,angle:(n=l.angle)!==null&&n!==void 0?n:0,minTickGap:(a=l.minTickGap)!==null&&a!==void 0?a:5,tick:(i=l.tick)!==null&&i!==void 0?i:!0,tickFormatter:l.tickFormatter}),k.createElement(K2e,l))},Q2e=(e,t)=>{var{domain:r}=e,n=Hy(e,H2e),{domain:a}=t,i=Hy(t,V2e);return Qm(n,i)?Array.isArray(r)&&r.length===2&&Array.isArray(a)&&a.length===2?r[0]===a[0]&&r[1]===a[1]:Qm({domain:r},{domain:a}):!1},n_=k.memo(X2e,Q2e);n_.displayName="XAxis";var Z2e=["dangerouslySetInnerHTML","ticks"],J2e=["id"],ebe=["domain"],tbe=["domain"];function a_(){return a_=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},a_.apply(null,arguments)}function Vy(e,t){if(e==null)return{};var r,n,a=rbe(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}function rbe(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}function nbe(e){var t=pa();return k.useLayoutEffect(()=>(t(W1e(e)),()=>{t(G1e(e))}),[e,t]),null}var abe=e=>{var{yAxisId:t,className:r,width:n,label:a}=e,i=k.useRef(null),l=k.useRef(null),o=Ht(X3),u=nl(),f=pa(),h="yAxis",m=Ht(O=>vp(O,h,t,u)),g=Ht(O=>T9(O,t)),x=Ht(O=>Fme(O,t)),b=Ht(O=>F9(O,h,t,u)),v=Ht(O=>f9(O,t));if(k.useLayoutEffect(()=>{if(!(n!=="auto"||!g||fS(a)||k.isValidElement(a)||v==null)){var O=i.current;if(O){var F=O.getCalculatedWidth();Math.round(g.width)!==Math.round(F)&&f(K1e({id:t,width:F}))}}},[b,g,f,a,t,n,v]),g==null||x==null||v==null)return null;var{dangerouslySetInnerHTML:w,ticks:N}=e,E=Vy(e,Z2e),{id:j}=v,T=Vy(v,J2e);return k.createElement(kS,a_({},E,T,{ref:i,labelRef:l,scale:m,x:x.x,y:x.y,tickTextProps:n==="auto"?{width:void 0}:{width:n},width:g.width,height:g.height,className:an("recharts-".concat(h," ").concat(h),r),viewBox:o,ticks:b}))},ibe={allowDataOverflow:Wl.allowDataOverflow,allowDecimals:Wl.allowDecimals,allowDuplicatedCategory:Wl.allowDuplicatedCategory,hide:!1,mirror:Wl.mirror,orientation:Wl.orientation,padding:Wl.padding,reversed:Wl.reversed,scale:Wl.scale,tickCount:Wl.tickCount,type:Wl.type,width:Wl.width,yAxisId:0},sbe=e=>{var t,r,n,a,i,l=cs(e,ibe);return k.createElement(k.Fragment,null,k.createElement(nbe,{interval:(t=l.interval)!==null&&t!==void 0?t:"preserveEnd",id:l.yAxisId,scale:l.scale,type:l.type,domain:l.domain,allowDataOverflow:l.allowDataOverflow,dataKey:l.dataKey,allowDuplicatedCategory:l.allowDuplicatedCategory,allowDecimals:l.allowDecimals,tickCount:l.tickCount,padding:l.padding,includeHidden:(r=l.includeHidden)!==null&&r!==void 0?r:!1,reversed:l.reversed,ticks:l.ticks,width:l.width,orientation:l.orientation,mirror:l.mirror,hide:l.hide,unit:l.unit,name:l.name,angle:(n=l.angle)!==null&&n!==void 0?n:0,minTickGap:(a=l.minTickGap)!==null&&a!==void 0?a:5,tick:(i=l.tick)!==null&&i!==void 0?i:!0,tickFormatter:l.tickFormatter}),k.createElement(abe,l))},lbe=(e,t)=>{var{domain:r}=e,n=Vy(e,ebe),{domain:a}=t,i=Vy(t,tbe);return Qm(n,i)?Array.isArray(r)&&r.length===2&&Array.isArray(a)&&a.length===2?r[0]===a[0]&&r[1]===a[1]:Qm({domain:r},{domain:a}):!1},i_=k.memo(sbe,lbe);i_.displayName="YAxis";var h4={exports:{}},m4={};/**
 * @license React
 * use-sync-external-store-with-selector.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var BO;function obe(){if(BO)return m4;BO=1;var e=Zm();function t(u,f){return u===f&&(u!==0||1/u===1/f)||u!==u&&f!==f}var r=typeof Object.is=="function"?Object.is:t,n=e.useSyncExternalStore,a=e.useRef,i=e.useEffect,l=e.useMemo,o=e.useDebugValue;return m4.useSyncExternalStoreWithSelector=function(u,f,h,m,g){var x=a(null);if(x.current===null){var b={hasValue:!1,value:null};x.current=b}else b=x.current;x=l(function(){function w(O){if(!N){if(N=!0,E=O,O=m(O),g!==void 0&&b.hasValue){var F=b.value;if(g(F,O))return j=F}return j=O}if(F=j,r(E,O))return F;var D=m(O);return g!==void 0&&g(F,D)?(E=O,F):(E=O,j=D)}var N=!1,E,j,T=h===void 0?null:h;return[function(){return w(f())},T===null?void 0:function(){return w(T())}]},[f,h,m,g]);var v=n(u,x[0],x[1]);return i(function(){b.hasValue=!0,b.value=v},[v]),o(v),v},m4}var UO;function cbe(){return UO||(UO=1,h4.exports=obe()),h4.exports}cbe();function ube(e){e()}function fbe(){let e=null,t=null;return{clear(){e=null,t=null},notify(){ube(()=>{let r=e;for(;r;)r.callback(),r=r.next})},get(){const r=[];let n=e;for(;n;)r.push(n),n=n.next;return r},subscribe(r){let n=!0;const a=t={callback:r,next:null,prev:t};return a.prev?a.prev.next=a:e=a,function(){!n||e===null||(n=!1,a.next?a.next.prev=a.prev:t=a.prev,a.prev?a.prev.next=a.next:e=a.next)}}}}var zO={notify(){},get:()=>[]};function dbe(e,t){let r,n=zO,a=0,i=!1;function l(v){h();const w=n.subscribe(v);let N=!1;return()=>{N||(N=!0,w(),m())}}function o(){n.notify()}function u(){b.onStateChange&&b.onStateChange()}function f(){return i}function h(){a++,r||(r=e.subscribe(u),n=fbe())}function m(){a--,r&&a===0&&(r(),r=void 0,n.clear(),n=zO)}function g(){i||(i=!0,h())}function x(){i&&(i=!1,m())}const b={addNestedSub:l,notifyNestedSubs:o,handleChangeWrapper:u,isSubscribed:f,trySubscribe:g,tryUnsubscribe:x,getListeners:()=>n};return b}var hbe=()=>typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",mbe=hbe(),pbe=()=>typeof navigator<"u"&&navigator.product==="ReactNative",xbe=pbe(),gbe=()=>mbe||xbe?k.useLayoutEffect:k.useEffect,vbe=gbe(),ybe=Symbol.for("react-redux-context"),bbe=typeof globalThis<"u"?globalThis:{};function wbe(){if(!k.createContext)return{};const e=bbe[ybe]??=new Map;let t=e.get(k.createContext);return t||(t=k.createContext(null),e.set(k.createContext,t)),t}var Nbe=wbe();function _be(e){const{children:t,context:r,serverState:n,store:a}=e,i=k.useMemo(()=>{const u=dbe(a);return{store:a,subscription:u,getServerState:n?()=>n:void 0}},[a,n]),l=k.useMemo(()=>a.getState(),[a]);vbe(()=>{const{subscription:u}=i;return u.onStateChange=u.notifyNestedSubs,u.trySubscribe(),l!==a.getState()&&u.notifyNestedSubs(),()=>{u.tryUnsubscribe(),u.onStateChange=void 0}},[i,l]);const o=r||Nbe;return k.createElement(o.Provider,{value:i},t)}var jbe=_be,Sbe=(e,t)=>t,TS=He([Sbe,Gr,l9,ki,X9,Df,Ipe,Ai],$pe),OS=e=>{var t=e.currentTarget.getBoundingClientRect(),r=t.width/e.currentTarget.offsetWidth,n=t.height/e.currentTarget.offsetHeight;return{chartX:Math.round((e.clientX-t.left)/r),chartY:Math.round((e.clientY-t.top)/n)}},QI=qo("mouseClick"),ZI=Lg();ZI.startListening({actionCreator:QI,effect:(e,t)=>{var r=e.payload,n=TS(t.getState(),OS(r));n?.activeIndex!=null&&t.dispatch(Wme({activeIndex:n.activeIndex,activeDataKey:void 0,activeCoordinate:n.activeCoordinate}))}});var s_=qo("mouseMove"),JI=Lg();JI.startListening({actionCreator:s_,effect:(e,t)=>{var r=e.payload,n=t.getState(),a=tS(n,n.tooltip.settings.shared),i=TS(n,OS(r));a==="axis"&&(i?.activeIndex!=null?t.dispatch(z9({activeIndex:i.activeIndex,activeDataKey:void 0,activeCoordinate:i.activeCoordinate})):t.dispatch(U9()))}});var qO={accessibilityLayer:!0,barCategoryGap:"10%",barGap:4,barSize:void 0,className:void 0,maxBarSize:void 0,stackOffset:"none",syncId:void 0,syncMethod:"index"},eB=so({name:"rootProps",initialState:qO,reducers:{updateOptions:(e,t)=>{var r;e.accessibilityLayer=t.payload.accessibilityLayer,e.barCategoryGap=t.payload.barCategoryGap,e.barGap=(r=t.payload.barGap)!==null&&r!==void 0?r:qO.barGap,e.barSize=t.payload.barSize,e.maxBarSize=t.payload.maxBarSize,e.stackOffset=t.payload.stackOffset,e.syncId=t.payload.syncId,e.syncMethod=t.payload.syncMethod,e.className=t.payload.className}}}),Abe=eB.reducer,{updateOptions:Ebe}=eB.actions,tB=so({name:"polarOptions",initialState:null,reducers:{updatePolarOptions:(e,t)=>t.payload}}),{updatePolarOptions:kbe}=tB.actions,Cbe=tB.reducer,rB=qo("keyDown"),nB=qo("focus"),DS=Lg();DS.startListening({actionCreator:rB,effect:(e,t)=>{var r=t.getState(),n=r.rootProps.accessibilityLayer!==!1;if(n){var{keyboardInteraction:a}=r.tooltip,i=e.payload;if(!(i!=="ArrowRight"&&i!=="ArrowLeft"&&i!=="Enter")){var l=Number(rS(a,bp(r))),o=Df(r);if(i==="Enter"){var u=Ry(r,"axis","hover",String(a.index));t.dispatch(WN({active:!a.active,activeIndex:a.index,activeDataKey:a.dataKey,activeCoordinate:u}));return}var f=Rme(r),h=f==="left-to-right"?1:-1,m=i==="ArrowRight"?1:-1,g=l+m*h;if(!(o==null||g>=o.length||g<0)){var x=Ry(r,"axis","hover",String(g));t.dispatch(WN({active:!0,activeIndex:g.toString(),activeDataKey:void 0,activeCoordinate:x}))}}}}});DS.startListening({actionCreator:nB,effect:(e,t)=>{var r=t.getState(),n=r.rootProps.accessibilityLayer!==!1;if(n){var{keyboardInteraction:a}=r.tooltip;if(!a.active&&a.index==null){var i="0",l=Ry(r,"axis","hover",String(i));t.dispatch(WN({activeDataKey:void 0,active:!0,activeIndex:i,activeCoordinate:l}))}}}});var Do=qo("externalEvent"),aB=Lg();aB.startListening({actionCreator:Do,effect:(e,t)=>{if(e.payload.handler!=null){var r=t.getState(),n={activeCoordinate:kpe(r),activeDataKey:eI(r),activeIndex:Od(r),activeLabel:J9(r),activeTooltipIndex:Od(r),isTooltipActive:Cpe(r)};e.payload.handler(n,e.payload.reactEvent)}}});var Tbe=He([yp],e=>e.tooltipItemPayloads),Obe=He([Tbe,Kg,(e,t,r)=>t,(e,t,r)=>r],(e,t,r,n)=>{var a=e.find(o=>o.settings.dataKey===n);if(a!=null){var{positions:i}=a;if(i!=null){var l=t(i,r);return l}}}),iB=qo("touchMove"),sB=Lg();sB.startListening({actionCreator:iB,effect:(e,t)=>{var r=e.payload,n=t.getState(),a=tS(n,n.tooltip.settings.shared);if(a==="axis"){var i=TS(n,OS({clientX:r.touches[0].clientX,clientY:r.touches[0].clientY,currentTarget:r.currentTarget}));i?.activeIndex!=null&&t.dispatch(z9({activeIndex:i.activeIndex,activeDataKey:void 0,activeCoordinate:i.activeCoordinate}))}else if(a==="item"){var l,o=r.touches[0],u=document.elementFromPoint(o.clientX,o.clientY);if(!u||!u.getAttribute)return;var f=u.getAttribute(UM),h=(l=u.getAttribute(zM))!==null&&l!==void 0?l:void 0,m=Obe(t.getState(),f,h);t.dispatch(B9({activeDataKey:h,activeIndex:f,activeCoordinate:m}))}}});var Dbe=uM({brush:xye,cartesianAxis:Y1e,chartData:ixe,errorBars:pve,graphicalItems:m1e,layout:xce,legend:Nue,options:exe,polarAxis:kge,polarOptions:Cbe,referenceElements:_ye,rootProps:Abe,tooltip:Gme}),Fbe=function(t){return zoe({reducer:Dbe,preloadedState:t,middleware:r=>r({serializableCheck:!1}).concat([ZI.middleware,JI.middleware,DS.middleware,aB.middleware,sB.middleware]),enhancers:r=>{var n=r;return typeof r=="function"&&(n=r()),n.concat(NM({type:"raf"}))},devTools:qd.devToolsEnabled})};function lB(e){var{preloadedState:t,children:r,reduxStoreName:n}=e,a=nl(),i=k.useRef(null);if(a)return r;i.current==null&&(i.current=Fbe(t));var l=H3;return k.createElement(jbe,{context:l,store:i.current},r)}function oB(e){var{layout:t,margin:r}=e,n=pa(),a=nl();return k.useEffect(()=>{a||(n(hce(t)),n(dce(r)))},[n,a,t,r]),null}function cB(e){var t=pa();return k.useEffect(()=>{t(Ebe(e))},[t,e]),null}var Pbe=["children"];function Lbe(e,t){if(e==null)return{};var r,n,a=Mbe(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}function Mbe(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}function Wy(){return Wy=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Wy.apply(null,arguments)}var Rbe={width:"100%",height:"100%",display:"block"},Ibe=k.forwardRef((e,t)=>{var r=Z3(),n=J3(),a=YM();if(!Wm(r)||!Wm(n))return null;var{children:i,otherAttributes:l,title:o,desc:u}=e,f,h;return typeof l.tabIndex=="number"?f=l.tabIndex:f=a?0:void 0,typeof l.role=="string"?h=l.role:h=a?"application":void 0,k.createElement(D3,Wy({},l,{title:o,desc:u,role:h,tabIndex:f,width:r,height:n,style:Rbe,ref:t}),i)}),Bbe=e=>{var{children:t}=e,r=Ht(A2);if(!r)return null;var{width:n,height:a,y:i,x:l}=r;return k.createElement(D3,{width:n,height:a,x:l,y:i},t)},$O=k.forwardRef((e,t)=>{var{children:r}=e,n=Lbe(e,Pbe),a=nl();return a?k.createElement(Bbe,null,r):k.createElement(Ibe,Wy({ref:t},n),r)});function Ube(){var e=pa(),[t,r]=k.useState(null),n=Ht(Vce);return k.useEffect(()=>{if(t!=null){var a=t.getBoundingClientRect(),i=a.width/t.offsetWidth;Ps(i)&&i!==n&&e(pce(i))}},[t,e,n]),r}function HO(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function zbe(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?HO(Object(r),!0).forEach(function(n){qbe(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):HO(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function qbe(e,t,r){return(t=$be(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function $be(e){var t=Hbe(e,"string");return typeof t=="symbol"?t:t+""}function Hbe(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function ih(){return ih=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},ih.apply(null,arguments)}var Vbe=()=>(mxe(),null);function Gy(e){if(typeof e=="number")return e;if(typeof e=="string"){var t=parseFloat(e);if(!Number.isNaN(t))return t}return 0}var Wbe=k.forwardRef((e,t)=>{var r,n,a=k.useRef(null),[i,l]=k.useState({containerWidth:Gy((r=e.style)===null||r===void 0?void 0:r.width),containerHeight:Gy((n=e.style)===null||n===void 0?void 0:n.height)}),o=k.useCallback((f,h)=>{l(m=>{var g=Math.round(f),x=Math.round(h);return m.containerWidth===g&&m.containerHeight===x?m:{containerWidth:g,containerHeight:x}})},[]),u=k.useCallback(f=>{if(typeof t=="function"&&t(f),f!=null){var{width:h,height:m}=f.getBoundingClientRect();o(h,m);var g=b=>{var{width:v,height:w}=b[0].contentRect;o(v,w)},x=new ResizeObserver(g);x.observe(f),a.current=x}},[t,o]);return k.useEffect(()=>()=>{var f=a.current;f?.disconnect()},[o]),k.createElement(k.Fragment,null,k.createElement(C2,{width:i.containerWidth,height:i.containerHeight}),k.createElement("div",ih({ref:u},e)))}),Gbe=k.forwardRef((e,t)=>{var{width:r,height:n}=e,[a,i]=k.useState({containerWidth:Gy(r),containerHeight:Gy(n)}),l=k.useCallback((u,f)=>{i(h=>{var m=Math.round(u),g=Math.round(f);return h.containerWidth===m&&h.containerHeight===g?h:{containerWidth:m,containerHeight:g}})},[]),o=k.useCallback(u=>{if(typeof t=="function"&&t(u),u!=null){var{width:f,height:h}=u.getBoundingClientRect();l(f,h)}},[t,l]);return k.createElement(k.Fragment,null,k.createElement(C2,{width:a.containerWidth,height:a.containerHeight}),k.createElement("div",ih({ref:o},e)))}),Kbe=k.forwardRef((e,t)=>{var{width:r,height:n}=e;return k.createElement(k.Fragment,null,k.createElement(C2,{width:r,height:n}),k.createElement("div",ih({ref:t},e)))}),Ybe=k.forwardRef((e,t)=>{var{width:r,height:n}=e;return xf(r)||xf(n)?k.createElement(Gbe,ih({},e,{ref:t})):k.createElement(Kbe,ih({},e,{ref:t}))});function Xbe(e){return e===!0?Wbe:Ybe}var Qbe=k.forwardRef((e,t)=>{var{children:r,className:n,height:a,onClick:i,onContextMenu:l,onDoubleClick:o,onMouseDown:u,onMouseEnter:f,onMouseLeave:h,onMouseMove:m,onMouseUp:g,onTouchEnd:x,onTouchMove:b,onTouchStart:v,style:w,width:N,responsive:E,dispatchTouchEvents:j=!0}=e,T=k.useRef(null),O=pa(),[F,D]=k.useState(null),[L,B]=k.useState(null),H=Ube(),P=Q3(),U=P?.width>0?P.width:N,K=P?.height>0?P.height:a,ee=k.useCallback(X=>{H(X),typeof t=="function"&&t(X),D(X),B(X),X!=null&&(T.current=X)},[H,t,D,B]),me=k.useCallback(X=>{O(QI(X)),O(Do({handler:i,reactEvent:X}))},[O,i]),ne=k.useCallback(X=>{O(s_(X)),O(Do({handler:f,reactEvent:X}))},[O,f]),se=k.useCallback(X=>{O(U9()),O(Do({handler:h,reactEvent:X}))},[O,h]),ye=k.useCallback(X=>{O(s_(X)),O(Do({handler:m,reactEvent:X}))},[O,m]),ce=k.useCallback(()=>{O(nB())},[O]),Se=k.useCallback(X=>{O(rB(X.key))},[O]),te=k.useCallback(X=>{O(Do({handler:l,reactEvent:X}))},[O,l]),M=k.useCallback(X=>{O(Do({handler:o,reactEvent:X}))},[O,o]),R=k.useCallback(X=>{O(Do({handler:u,reactEvent:X}))},[O,u]),q=k.useCallback(X=>{O(Do({handler:g,reactEvent:X}))},[O,g]),W=k.useCallback(X=>{O(Do({handler:v,reactEvent:X}))},[O,v]),J=k.useCallback(X=>{j&&O(iB(X)),O(Do({handler:b,reactEvent:X}))},[O,j,b]),le=k.useCallback(X=>{O(Do({handler:x,reactEvent:X}))},[O,x]),ue=Xbe(E);return k.createElement(sI.Provider,{value:F},k.createElement(EL.Provider,{value:L},k.createElement(ue,{width:U??w?.width,height:K??w?.height,className:an("recharts-wrapper",n),style:zbe({position:"relative",cursor:"default",width:U,height:K},w),onClick:me,onContextMenu:te,onDoubleClick:M,onFocus:ce,onKeyDown:Se,onMouseDown:R,onMouseEnter:ne,onMouseLeave:se,onMouseMove:ye,onMouseUp:q,onTouchEnd:le,onTouchMove:J,onTouchStart:W,ref:ee},k.createElement(Vbe,null),r)))}),Zbe=["width","height","responsive","children","className","style","compact","title","desc"];function Jbe(e,t){if(e==null)return{};var r,n,a=ewe(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}function ewe(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}var uB=k.forwardRef((e,t)=>{var{width:r,height:n,responsive:a,children:i,className:l,style:o,compact:u,title:f,desc:h}=e,m=Jbe(e,Zbe),g=no(m);return u?k.createElement(k.Fragment,null,k.createElement(C2,{width:r,height:n}),k.createElement($O,{otherAttributes:g,title:f,desc:h},i)):k.createElement(Qbe,{className:l,style:o,width:r,height:n,responsive:a,onClick:e.onClick,onMouseLeave:e.onMouseLeave,onMouseEnter:e.onMouseEnter,onMouseMove:e.onMouseMove,onMouseDown:e.onMouseDown,onMouseUp:e.onMouseUp,onContextMenu:e.onContextMenu,onDoubleClick:e.onDoubleClick,onTouchStart:e.onTouchStart,onTouchMove:e.onTouchMove,onTouchEnd:e.onTouchEnd},k.createElement($O,{otherAttributes:g,title:f,desc:h,ref:t},k.createElement(Sye,null,i)))});function l_(){return l_=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},l_.apply(null,arguments)}var twe={top:5,right:5,bottom:5,left:5},rwe={accessibilityLayer:!0,layout:"horizontal",stackOffset:"none",barCategoryGap:"10%",barGap:4,margin:twe,reverseStackOrder:!1,syncMethod:"index",responsive:!1},fB=k.forwardRef(function(t,r){var n,a=cs(t.categoricalChartProps,rwe),{chartName:i,defaultTooltipEventType:l,validateTooltipEventTypes:o,tooltipPayloadSearcher:u,categoricalChartProps:f}=t,h={chartName:i,defaultTooltipEventType:l,validateTooltipEventTypes:o,tooltipPayloadSearcher:u,eventEmitter:void 0};return k.createElement(lB,{preloadedState:{options:h},reduxStoreName:(n=f.id)!==null&&n!==void 0?n:i},k.createElement(UI,{chartData:f.data}),k.createElement(oB,{layout:a.layout,margin:a.margin}),k.createElement(cB,{accessibilityLayer:a.accessibilityLayer,barCategoryGap:a.barCategoryGap,maxBarSize:a.maxBarSize,stackOffset:a.stackOffset,barGap:a.barGap,barSize:a.barSize,syncId:a.syncId,syncMethod:a.syncMethod,className:a.className}),k.createElement(uB,l_({},a,{ref:r})))}),nwe=["axis"],awe=k.forwardRef((e,t)=>k.createElement(fB,{chartName:"LineChart",defaultTooltipEventType:"axis",validateTooltipEventTypes:nwe,tooltipPayloadSearcher:uS,categoricalChartProps:e,ref:t})),iwe=["axis","item"],swe=k.forwardRef((e,t)=>k.createElement(fB,{chartName:"BarChart",defaultTooltipEventType:"axis",validateTooltipEventTypes:iwe,tooltipPayloadSearcher:uS,categoricalChartProps:e,ref:t}));function lwe(e){var t=pa();return k.useEffect(()=>{t(kbe(e))},[t,e]),null}var owe=["layout"];function o_(){return o_=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},o_.apply(null,arguments)}function cwe(e,t){if(e==null)return{};var r,n,a=uwe(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}function uwe(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}var fwe={top:5,right:5,bottom:5,left:5},dwe={accessibilityLayer:!0,stackOffset:"none",barCategoryGap:"10%",barGap:4,margin:fwe,reverseStackOrder:!1,syncMethod:"index",layout:"radial",responsive:!1},hwe=k.forwardRef(function(t,r){var n,a=cs(t.categoricalChartProps,dwe),{layout:i}=a,l=cwe(a,owe),{chartName:o,defaultTooltipEventType:u,validateTooltipEventTypes:f,tooltipPayloadSearcher:h}=t,m={chartName:o,defaultTooltipEventType:u,validateTooltipEventTypes:f,tooltipPayloadSearcher:h,eventEmitter:void 0};return k.createElement(lB,{preloadedState:{options:m},reduxStoreName:(n=a.id)!==null&&n!==void 0?n:o},k.createElement(UI,{chartData:a.data}),k.createElement(oB,{layout:i,margin:a.margin}),k.createElement(cB,{accessibilityLayer:a.accessibilityLayer,barCategoryGap:a.barCategoryGap,maxBarSize:a.maxBarSize,stackOffset:a.stackOffset,barGap:a.barGap,barSize:a.barSize,syncId:a.syncId,syncMethod:a.syncMethod,className:a.className}),k.createElement(lwe,{cx:a.cx,cy:a.cy,startAngle:a.startAngle,endAngle:a.endAngle,innerRadius:a.innerRadius,outerRadius:a.outerRadius}),k.createElement(uB,o_({},l,{ref:r})))}),mwe=["item"],pwe={layout:"centric",startAngle:0,endAngle:360,cx:"50%",cy:"50%",innerRadius:0,outerRadius:"80%"},xwe=k.forwardRef((e,t)=>{var r=cs(e,pwe);return k.createElement(hwe,{chartName:"PieChart",defaultTooltipEventType:"item",validateTooltipEventTypes:mwe,tooltipPayloadSearcher:uS,categoricalChartProps:r,ref:t})});const md=({title:e,value:t,subtitle:r,icon:n,colorClass:a="bg-blue-500",trend:i})=>s.jsxs("div",{className:"bg-white rounded-lg shadow-sm border p-6 hover:shadow-md transition-shadow",children:[s.jsxs("div",{className:"flex items-center justify-between mb-4",children:[s.jsx("div",{className:`${a} p-3 rounded-lg`,children:s.jsx(n,{className:"h-6 w-6 text-white"})}),i&&s.jsxs("span",{className:`text-sm font-medium ${i.isPositive?"text-green-600":"text-red-600"}`,children:[i.isPositive?"+":"",i.value,"%"]})]}),s.jsxs("div",{children:[s.jsx("p",{className:"text-sm text-gray-600 mb-1",children:e}),s.jsx("p",{className:"text-3xl font-bold text-gray-900",children:t}),r&&s.jsx("p",{className:"text-xs text-gray-500 mt-1",children:r})]})]}),vh={getOverview:async()=>at.get("/analytics/overview"),getPopularFormations:async(e=10)=>at.get("/analytics/popular-formations",{limit:e.toString()}),getEnrollmentTrends:async(e=6)=>at.get("/analytics/enrollment-trends",{months:e.toString()}),getTestPerformance:async()=>at.get("/analytics/test-performance"),getActiveStudents:async(e=10)=>at.get("/analytics/active-students",{limit:e.toString()}),getStudentProgress:async e=>{const t=await at.get(`/analytics/student-progress/${e}`);return{student:t.student,enrollments:t.enrollments,test_history:t.test_history}},getFormationCompletionRates:async()=>at.get("/analytics/formation-completion-rates"),getPeriodStats:async(e=30)=>{const t=await at.get("/analytics/period-stats",{period:e.toString()});return{period_days:t.period_days,stats:t.stats}}},gwe=()=>or({queryKey:["analytics","overview"],queryFn:vh.getOverview,staleTime:1e3*60*5,refetchInterval:1e3*60*5}),vwe=(e=10)=>or({queryKey:["analytics","popular-formations",e],queryFn:()=>vh.getPopularFormations(e),staleTime:1e3*60*10}),ywe=(e=6)=>or({queryKey:["analytics","enrollment-trends",e],queryFn:()=>vh.getEnrollmentTrends(e),staleTime:1e3*60*10}),bwe=(e=10)=>or({queryKey:["analytics","active-students",e],queryFn:()=>vh.getActiveStudents(e),staleTime:1e3*60*5}),wwe=e=>or({queryKey:["analytics","student-progress",e],queryFn:()=>{if(!e)throw new Error("Student ID is required");return vh.getStudentProgress(e)},enabled:!!e,staleTime:1e3*60*5}),Nwe=()=>or({queryKey:["analytics","formation-completion-rates"],queryFn:vh.getFormationCompletionRates,staleTime:1e3*60*10}),_we=(e=30)=>or({queryKey:["analytics","period-stats",e],queryFn:()=>vh.getPeriodStats(e),staleTime:1e3*60*5,refetchInterval:1e3*60*5});function Nn(e){"@babel/helpers - typeof";return Nn=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Nn(e)}var Tc=Uint8Array,eo=Uint16Array,FS=Int32Array,PS=new Tc([0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0,0,0,0]),LS=new Tc([0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13,0,0]),VO=new Tc([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]),dB=function(e,t){for(var r=new eo(31),n=0;n<31;++n)r[n]=t+=1<<e[n-1];for(var a=new FS(r[30]),n=1;n<30;++n)for(var i=r[n];i<r[n+1];++i)a[i]=i-r[n]<<5|n;return{b:r,r:a}},hB=dB(PS,2),jwe=hB.b,c_=hB.r;jwe[28]=258,c_[258]=28;var Swe=dB(LS,0),WO=Swe.r,u_=new eo(32768);for(var Zn=0;Zn<32768;++Zn){var pd=(Zn&43690)>>1|(Zn&21845)<<1;pd=(pd&52428)>>2|(pd&13107)<<2,pd=(pd&61680)>>4|(pd&3855)<<4,u_[Zn]=((pd&65280)>>8|(pd&255)<<8)>>1}var Px=(function(e,t,r){for(var n=e.length,a=0,i=new eo(t);a<n;++a)e[a]&&++i[e[a]-1];var l=new eo(t);for(a=1;a<t;++a)l[a]=l[a-1]+i[a-1]<<1;var o;if(r){o=new eo(1<<t);var u=15-t;for(a=0;a<n;++a)if(e[a])for(var f=a<<4|e[a],h=t-e[a],m=l[e[a]-1]++<<h,g=m|(1<<h)-1;m<=g;++m)o[u_[m]>>u]=f}else for(o=new eo(n),a=0;a<n;++a)e[a]&&(o[a]=u_[l[e[a]-1]++]>>15-e[a]);return o}),sh=new Tc(288);for(var Zn=0;Zn<144;++Zn)sh[Zn]=8;for(var Zn=144;Zn<256;++Zn)sh[Zn]=9;for(var Zn=256;Zn<280;++Zn)sh[Zn]=7;for(var Zn=280;Zn<288;++Zn)sh[Zn]=8;var Ky=new Tc(32);for(var Zn=0;Zn<32;++Zn)Ky[Zn]=5;var Awe=Px(sh,9,0),Ewe=Px(Ky,5,0),mB=function(e){return(e+7)/8|0},kwe=function(e,t,r){return(r==null||r>e.length)&&(r=e.length),new Tc(e.subarray(t,r))},Gu=function(e,t,r){r<<=t&7;var n=t/8|0;e[n]|=r,e[n+1]|=r>>8},px=function(e,t,r){r<<=t&7;var n=t/8|0;e[n]|=r,e[n+1]|=r>>8,e[n+2]|=r>>16},p4=function(e,t){for(var r=[],n=0;n<e.length;++n)e[n]&&r.push({s:n,f:e[n]});var a=r.length,i=r.slice();if(!a)return{t:xB,l:0};if(a==1){var l=new Tc(r[0].s+1);return l[r[0].s]=1,{t:l,l:1}}r.sort(function(O,F){return O.f-F.f}),r.push({s:-1,f:25001});var o=r[0],u=r[1],f=0,h=1,m=2;for(r[0]={s:-1,f:o.f+u.f,l:o,r:u};h!=a-1;)o=r[r[f].f<r[m].f?f++:m++],u=r[f!=h&&r[f].f<r[m].f?f++:m++],r[h++]={s:-1,f:o.f+u.f,l:o,r:u};for(var g=i[0].s,n=1;n<a;++n)i[n].s>g&&(g=i[n].s);var x=new eo(g+1),b=f_(r[h-1],x,0);if(b>t){var n=0,v=0,w=b-t,N=1<<w;for(i.sort(function(F,D){return x[D.s]-x[F.s]||F.f-D.f});n<a;++n){var E=i[n].s;if(x[E]>t)v+=N-(1<<b-x[E]),x[E]=t;else break}for(v>>=w;v>0;){var j=i[n].s;x[j]<t?v-=1<<t-x[j]++-1:++n}for(;n>=0&&v;--n){var T=i[n].s;x[T]==t&&(--x[T],++v)}b=t}return{t:new Tc(x),l:b}},f_=function(e,t,r){return e.s==-1?Math.max(f_(e.l,t,r+1),f_(e.r,t,r+1)):t[e.s]=r},GO=function(e){for(var t=e.length;t&&!e[--t];);for(var r=new eo(++t),n=0,a=e[0],i=1,l=function(u){r[n++]=u},o=1;o<=t;++o)if(e[o]==a&&o!=t)++i;else{if(!a&&i>2){for(;i>138;i-=138)l(32754);i>2&&(l(i>10?i-11<<5|28690:i-3<<5|12305),i=0)}else if(i>3){for(l(a),--i;i>6;i-=6)l(8304);i>2&&(l(i-3<<5|8208),i=0)}for(;i--;)l(a);i=1,a=e[o]}return{c:r.subarray(0,n),n:t}},xx=function(e,t){for(var r=0,n=0;n<t.length;++n)r+=e[n]*t[n];return r},pB=function(e,t,r){var n=r.length,a=mB(t+2);e[a]=n&255,e[a+1]=n>>8,e[a+2]=e[a]^255,e[a+3]=e[a+1]^255;for(var i=0;i<n;++i)e[a+i+4]=r[i];return(a+4+n)*8},KO=function(e,t,r,n,a,i,l,o,u,f,h){Gu(t,h++,r),++a[256];for(var m=p4(a,15),g=m.t,x=m.l,b=p4(i,15),v=b.t,w=b.l,N=GO(g),E=N.c,j=N.n,T=GO(v),O=T.c,F=T.n,D=new eo(19),L=0;L<E.length;++L)++D[E[L]&31];for(var L=0;L<O.length;++L)++D[O[L]&31];for(var B=p4(D,7),H=B.t,P=B.l,U=19;U>4&&!H[VO[U-1]];--U);var K=f+5<<3,ee=xx(a,sh)+xx(i,Ky)+l,me=xx(a,g)+xx(i,v)+l+14+3*U+xx(D,H)+2*D[16]+3*D[17]+7*D[18];if(u>=0&&K<=ee&&K<=me)return pB(t,h,e.subarray(u,u+f));var ne,se,ye,ce;if(Gu(t,h,1+(me<ee)),h+=2,me<ee){ne=Px(g,x,0),se=g,ye=Px(v,w,0),ce=v;var Se=Px(H,P,0);Gu(t,h,j-257),Gu(t,h+5,F-1),Gu(t,h+10,U-4),h+=14;for(var L=0;L<U;++L)Gu(t,h+3*L,H[VO[L]]);h+=3*U;for(var te=[E,O],M=0;M<2;++M)for(var R=te[M],L=0;L<R.length;++L){var q=R[L]&31;Gu(t,h,Se[q]),h+=H[q],q>15&&(Gu(t,h,R[L]>>5&127),h+=R[L]>>12)}}else ne=Awe,se=sh,ye=Ewe,ce=Ky;for(var L=0;L<o;++L){var W=n[L];if(W>255){var q=W>>18&31;px(t,h,ne[q+257]),h+=se[q+257],q>7&&(Gu(t,h,W>>23&31),h+=PS[q]);var J=W&31;px(t,h,ye[J]),h+=ce[J],J>3&&(px(t,h,W>>5&8191),h+=LS[J])}else px(t,h,ne[W]),h+=se[W]}return px(t,h,ne[256]),h+se[256]},Cwe=new FS([65540,131080,131088,131104,262176,1048704,1048832,2114560,2117632]),xB=new Tc(0),Twe=function(e,t,r,n,a,i){var l=i.z||e.length,o=new Tc(n+l+5*(1+Math.ceil(l/7e3))+a),u=o.subarray(n,o.length-a),f=i.l,h=(i.r||0)&7;if(t){h&&(u[0]=i.r>>3);for(var m=Cwe[t-1],g=m>>13,x=m&8191,b=(1<<r)-1,v=i.p||new eo(32768),w=i.h||new eo(b+1),N=Math.ceil(r/3),E=2*N,j=function(Ee){return(e[Ee]^e[Ee+1]<<N^e[Ee+2]<<E)&b},T=new FS(25e3),O=new eo(288),F=new eo(32),D=0,L=0,B=i.i||0,H=0,P=i.w||0,U=0;B+2<l;++B){var K=j(B),ee=B&32767,me=w[K];if(v[ee]=me,w[K]=ee,P<=B){var ne=l-B;if((D>7e3||H>24576)&&(ne>423||!f)){h=KO(e,u,0,T,O,F,L,H,U,B-U,h),H=D=L=0,U=B;for(var se=0;se<286;++se)O[se]=0;for(var se=0;se<30;++se)F[se]=0}var ye=2,ce=0,Se=x,te=ee-me&32767;if(ne>2&&K==j(B-te))for(var M=Math.min(g,ne)-1,R=Math.min(32767,B),q=Math.min(258,ne);te<=R&&--Se&&ee!=me;){if(e[B+ye]==e[B+ye-te]){for(var W=0;W<q&&e[B+W]==e[B+W-te];++W);if(W>ye){if(ye=W,ce=te,W>M)break;for(var J=Math.min(te,W-2),le=0,se=0;se<J;++se){var ue=B-te+se&32767,X=v[ue],ge=ue-X&32767;ge>le&&(le=ge,me=ue)}}}ee=me,me=v[ee],te+=ee-me&32767}if(ce){T[H++]=268435456|c_[ye]<<18|WO[ce];var Te=c_[ye]&31,Y=WO[ce]&31;L+=PS[Te]+LS[Y],++O[257+Te],++F[Y],P=B+ye,++D}else T[H++]=e[B],++O[e[B]]}}for(B=Math.max(B,P);B<l;++B)T[H++]=e[B],++O[e[B]];h=KO(e,u,f,T,O,F,L,H,U,B-U,h),f||(i.r=h&7|u[h/8|0]<<3,h-=7,i.h=w,i.p=v,i.i=B,i.w=P)}else{for(var B=i.w||0;B<l+f;B+=65535){var We=B+65535;We>=l&&(u[h/8|0]=f,We=l),h=pB(u,h+1,e.subarray(B,We))}i.i=l}return kwe(o,0,n+mB(h)+a)},gB=function(){var e=1,t=0;return{p:function(r){for(var n=e,a=t,i=r.length|0,l=0;l!=i;){for(var o=Math.min(l+2655,i);l<o;++l)a+=n+=r[l];n=(n&65535)+15*(n>>16),a=(a&65535)+15*(a>>16)}e=n,t=a},d:function(){return e%=65521,t%=65521,(e&255)<<24|(e&65280)<<8|(t&255)<<8|t>>8}}},Owe=function(e,t,r,n,a){if(!a&&(a={l:1},t.dictionary)){var i=t.dictionary.subarray(-32768),l=new Tc(i.length+e.length);l.set(i),l.set(e,i.length),e=l,a.w=i.length}return Twe(e,t.level==null?6:t.level,t.mem==null?a.l?Math.ceil(Math.max(8,Math.min(13,Math.log(e.length)))*1.5):20:12+t.mem,r,n,a)},vB=function(e,t,r){for(;r;++t)e[t]=r,r>>>=8},Dwe=function(e,t){var r=t.level,n=r==0?0:r<6?1:r==9?3:2;if(e[0]=120,e[1]=n<<6|(t.dictionary&&32),e[1]|=31-(e[0]<<8|e[1])%31,t.dictionary){var a=gB();a.p(t.dictionary),vB(e,2,a.d())}};function d_(e,t){t||(t={});var r=gB();r.p(e);var n=Owe(e,t,t.dictionary?6:2,4);return Dwe(n,t),vB(n,n.length-4,r.d()),n}var Fwe=typeof TextDecoder<"u"&&new TextDecoder,Pwe=0;try{Fwe.decode(xB,{stream:!0}),Pwe=1}catch{}function Lwe(e){if(Array.isArray(e))return e}function Mwe(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n,a,i,l,o=[],u=!0,f=!1;try{if(i=(r=r.call(e)).next,t!==0)for(;!(u=(n=i.call(r)).done)&&(o.push(n.value),o.length!==t);u=!0);}catch(h){f=!0,a=h}finally{try{if(!u&&r.return!=null&&(l=r.return(),Object(l)!==l))return}finally{if(f)throw a}}return o}}function YO(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=Array(t);r<t;r++)n[r]=e[r];return n}function Rwe(e,t){if(e){if(typeof e=="string")return YO(e,t);var r={}.toString.call(e).slice(8,-1);return r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set"?Array.from(e):r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?YO(e,t):void 0}}function Iwe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function XO(e,t){return Lwe(e)||Mwe(e,t)||Rwe(e,t)||Iwe()}function QO(e,t="utf8"){return new TextDecoder(t).decode(e)}const Bwe=new TextEncoder;function Uwe(e){return Bwe.encode(e)}const zwe=1024*8,qwe=(()=>{const e=new Uint8Array(4),t=new Uint32Array(e.buffer);return!((t[0]=1)&e[0])})(),x4={int8:globalThis.Int8Array,uint8:globalThis.Uint8Array,int16:globalThis.Int16Array,uint16:globalThis.Uint16Array,int32:globalThis.Int32Array,uint32:globalThis.Uint32Array,uint64:globalThis.BigUint64Array,int64:globalThis.BigInt64Array,float32:globalThis.Float32Array,float64:globalThis.Float64Array};class MS{buffer;byteLength;byteOffset;length;offset;lastWrittenByte;littleEndian;_data;_mark;_marks;constructor(t=zwe,r={}){let n=!1;typeof t=="number"?t=new ArrayBuffer(t):(n=!0,this.lastWrittenByte=t.byteLength);const a=r.offset?r.offset>>>0:0,i=t.byteLength-a;let l=a;(ArrayBuffer.isView(t)||t instanceof MS)&&(t.byteLength!==t.buffer.byteLength&&(l=t.byteOffset+a),t=t.buffer),n?this.lastWrittenByte=i:this.lastWrittenByte=0,this.buffer=t,this.length=i,this.byteLength=i,this.byteOffset=l,this.offset=0,this.littleEndian=!0,this._data=new DataView(this.buffer,l,i),this._mark=0,this._marks=[]}available(t=1){return this.offset+t<=this.length}isLittleEndian(){return this.littleEndian}setLittleEndian(){return this.littleEndian=!0,this}isBigEndian(){return!this.littleEndian}setBigEndian(){return this.littleEndian=!1,this}skip(t=1){return this.offset+=t,this}back(t=1){return this.offset-=t,this}seek(t){return this.offset=t,this}mark(){return this._mark=this.offset,this}reset(){return this.offset=this._mark,this}pushMark(){return this._marks.push(this.offset),this}popMark(){const t=this._marks.pop();if(t===void 0)throw new Error("Mark stack empty");return this.seek(t),this}rewind(){return this.offset=0,this}ensureAvailable(t=1){if(!this.available(t)){const n=(this.offset+t)*2,a=new Uint8Array(n);a.set(new Uint8Array(this.buffer)),this.buffer=a.buffer,this.length=n,this.byteLength=n,this._data=new DataView(this.buffer)}return this}readBoolean(){return this.readUint8()!==0}readInt8(){return this._data.getInt8(this.offset++)}readUint8(){return this._data.getUint8(this.offset++)}readByte(){return this.readUint8()}readBytes(t=1){return this.readArray(t,"uint8")}readArray(t,r){const n=x4[r].BYTES_PER_ELEMENT*t,a=this.byteOffset+this.offset,i=this.buffer.slice(a,a+n);if(this.littleEndian===qwe&&r!=="uint8"&&r!=="int8"){const o=new Uint8Array(this.buffer.slice(a,a+n));o.reverse();const u=new x4[r](o.buffer);return this.offset+=n,u.reverse(),u}const l=new x4[r](i);return this.offset+=n,l}readInt16(){const t=this._data.getInt16(this.offset,this.littleEndian);return this.offset+=2,t}readUint16(){const t=this._data.getUint16(this.offset,this.littleEndian);return this.offset+=2,t}readInt32(){const t=this._data.getInt32(this.offset,this.littleEndian);return this.offset+=4,t}readUint32(){const t=this._data.getUint32(this.offset,this.littleEndian);return this.offset+=4,t}readFloat32(){const t=this._data.getFloat32(this.offset,this.littleEndian);return this.offset+=4,t}readFloat64(){const t=this._data.getFloat64(this.offset,this.littleEndian);return this.offset+=8,t}readBigInt64(){const t=this._data.getBigInt64(this.offset,this.littleEndian);return this.offset+=8,t}readBigUint64(){const t=this._data.getBigUint64(this.offset,this.littleEndian);return this.offset+=8,t}readChar(){return String.fromCharCode(this.readInt8())}readChars(t=1){let r="";for(let n=0;n<t;n++)r+=this.readChar();return r}readUtf8(t=1){return QO(this.readBytes(t))}decodeText(t=1,r="utf8"){return QO(this.readBytes(t),r)}writeBoolean(t){return this.writeUint8(t?255:0),this}writeInt8(t){return this.ensureAvailable(1),this._data.setInt8(this.offset++,t),this._updateLastWrittenByte(),this}writeUint8(t){return this.ensureAvailable(1),this._data.setUint8(this.offset++,t),this._updateLastWrittenByte(),this}writeByte(t){return this.writeUint8(t)}writeBytes(t){this.ensureAvailable(t.length);for(let r=0;r<t.length;r++)this._data.setUint8(this.offset++,t[r]);return this._updateLastWrittenByte(),this}writeInt16(t){return this.ensureAvailable(2),this._data.setInt16(this.offset,t,this.littleEndian),this.offset+=2,this._updateLastWrittenByte(),this}writeUint16(t){return this.ensureAvailable(2),this._data.setUint16(this.offset,t,this.littleEndian),this.offset+=2,this._updateLastWrittenByte(),this}writeInt32(t){return this.ensureAvailable(4),this._data.setInt32(this.offset,t,this.littleEndian),this.offset+=4,this._updateLastWrittenByte(),this}writeUint32(t){return this.ensureAvailable(4),this._data.setUint32(this.offset,t,this.littleEndian),this.offset+=4,this._updateLastWrittenByte(),this}writeFloat32(t){return this.ensureAvailable(4),this._data.setFloat32(this.offset,t,this.littleEndian),this.offset+=4,this._updateLastWrittenByte(),this}writeFloat64(t){return this.ensureAvailable(8),this._data.setFloat64(this.offset,t,this.littleEndian),this.offset+=8,this._updateLastWrittenByte(),this}writeBigInt64(t){return this.ensureAvailable(8),this._data.setBigInt64(this.offset,t,this.littleEndian),this.offset+=8,this._updateLastWrittenByte(),this}writeBigUint64(t){return this.ensureAvailable(8),this._data.setBigUint64(this.offset,t,this.littleEndian),this.offset+=8,this._updateLastWrittenByte(),this}writeChar(t){return this.writeUint8(t.charCodeAt(0))}writeChars(t){for(let r=0;r<t.length;r++)this.writeUint8(t.charCodeAt(r));return this}writeUtf8(t){return this.writeBytes(Uwe(t))}toArray(){return new Uint8Array(this.buffer,this.byteOffset,this.lastWrittenByte)}getWrittenByteLength(){return this.lastWrittenByte-this.byteOffset}_updateLastWrittenByte(){this.offset>this.lastWrittenByte&&(this.lastWrittenByte=this.offset)}}function wp(e){let t=e.length;for(;--t>=0;)e[t]=0}const $we=3,Hwe=258,yB=29,Vwe=256,Wwe=Vwe+1+yB,bB=30,Gwe=512,Kwe=new Array((Wwe+2)*2);wp(Kwe);const Ywe=new Array(bB*2);wp(Ywe);const Xwe=new Array(Gwe);wp(Xwe);const Qwe=new Array(Hwe-$we+1);wp(Qwe);const Zwe=new Array(yB);wp(Zwe);const Jwe=new Array(bB);wp(Jwe);const e5e=(e,t,r,n)=>{let a=e&65535|0,i=e>>>16&65535|0,l=0;for(;r!==0;){l=r>2e3?2e3:r,r-=l;do a=a+t[n++]|0,i=i+a|0;while(--l);a%=65521,i%=65521}return a|i<<16|0};var h_=e5e;const t5e=()=>{let e,t=[];for(var r=0;r<256;r++){e=r;for(var n=0;n<8;n++)e=e&1?3988292384^e>>>1:e>>>1;t[r]=e}return t},r5e=new Uint32Array(t5e()),n5e=(e,t,r,n)=>{const a=r5e,i=n+r;e^=-1;for(let l=n;l<i;l++)e=e>>>8^a[(e^t[l])&255];return e^-1};var au=n5e,m_={2:"need dictionary",1:"stream end",0:"","-1":"file error","-2":"stream error","-3":"data error","-4":"insufficient memory","-5":"buffer error","-6":"incompatible version"},wB={Z_NO_FLUSH:0,Z_FINISH:4,Z_BLOCK:5,Z_TREES:6,Z_OK:0,Z_STREAM_END:1,Z_NEED_DICT:2,Z_STREAM_ERROR:-2,Z_DATA_ERROR:-3,Z_MEM_ERROR:-4,Z_BUF_ERROR:-5,Z_DEFLATED:8};const a5e=(e,t)=>Object.prototype.hasOwnProperty.call(e,t);var i5e=function(e){const t=Array.prototype.slice.call(arguments,1);for(;t.length;){const r=t.shift();if(r){if(typeof r!="object")throw new TypeError(r+"must be non-object");for(const n in r)a5e(r,n)&&(e[n]=r[n])}}return e},s5e=e=>{let t=0;for(let n=0,a=e.length;n<a;n++)t+=e[n].length;const r=new Uint8Array(t);for(let n=0,a=0,i=e.length;n<i;n++){let l=e[n];r.set(l,a),a+=l.length}return r},NB={assign:i5e,flattenChunks:s5e};let _B=!0;try{String.fromCharCode.apply(null,new Uint8Array(1))}catch{_B=!1}const vg=new Uint8Array(256);for(let e=0;e<256;e++)vg[e]=e>=252?6:e>=248?5:e>=240?4:e>=224?3:e>=192?2:1;vg[254]=vg[254]=1;var l5e=e=>{if(typeof TextEncoder=="function"&&TextEncoder.prototype.encode)return new TextEncoder().encode(e);let t,r,n,a,i,l=e.length,o=0;for(a=0;a<l;a++)r=e.charCodeAt(a),(r&64512)===55296&&a+1<l&&(n=e.charCodeAt(a+1),(n&64512)===56320&&(r=65536+(r-55296<<10)+(n-56320),a++)),o+=r<128?1:r<2048?2:r<65536?3:4;for(t=new Uint8Array(o),i=0,a=0;i<o;a++)r=e.charCodeAt(a),(r&64512)===55296&&a+1<l&&(n=e.charCodeAt(a+1),(n&64512)===56320&&(r=65536+(r-55296<<10)+(n-56320),a++)),r<128?t[i++]=r:r<2048?(t[i++]=192|r>>>6,t[i++]=128|r&63):r<65536?(t[i++]=224|r>>>12,t[i++]=128|r>>>6&63,t[i++]=128|r&63):(t[i++]=240|r>>>18,t[i++]=128|r>>>12&63,t[i++]=128|r>>>6&63,t[i++]=128|r&63);return t};const o5e=(e,t)=>{if(t<65534&&e.subarray&&_B)return String.fromCharCode.apply(null,e.length===t?e:e.subarray(0,t));let r="";for(let n=0;n<t;n++)r+=String.fromCharCode(e[n]);return r};var c5e=(e,t)=>{const r=t||e.length;if(typeof TextDecoder=="function"&&TextDecoder.prototype.decode)return new TextDecoder().decode(e.subarray(0,t));let n,a;const i=new Array(r*2);for(a=0,n=0;n<r;){let l=e[n++];if(l<128){i[a++]=l;continue}let o=vg[l];if(o>4){i[a++]=65533,n+=o-1;continue}for(l&=o===2?31:o===3?15:7;o>1&&n<r;)l=l<<6|e[n++]&63,o--;if(o>1){i[a++]=65533;continue}l<65536?i[a++]=l:(l-=65536,i[a++]=55296|l>>10&1023,i[a++]=56320|l&1023)}return o5e(i,a)},u5e=(e,t)=>{t=t||e.length,t>e.length&&(t=e.length);let r=t-1;for(;r>=0&&(e[r]&192)===128;)r--;return r<0||r===0?t:r+vg[e[r]]>t?r:t},p_={string2buf:l5e,buf2string:c5e,utf8border:u5e};function f5e(){this.input=null,this.next_in=0,this.avail_in=0,this.total_in=0,this.output=null,this.next_out=0,this.avail_out=0,this.total_out=0,this.msg="",this.state=null,this.data_type=2,this.adler=0}var d5e=f5e;const Nv=16209,h5e=16191;var m5e=function(t,r){let n,a,i,l,o,u,f,h,m,g,x,b,v,w,N,E,j,T,O,F,D,L,B,H;const P=t.state;n=t.next_in,B=t.input,a=n+(t.avail_in-5),i=t.next_out,H=t.output,l=i-(r-t.avail_out),o=i+(t.avail_out-257),u=P.dmax,f=P.wsize,h=P.whave,m=P.wnext,g=P.window,x=P.hold,b=P.bits,v=P.lencode,w=P.distcode,N=(1<<P.lenbits)-1,E=(1<<P.distbits)-1;e:do{b<15&&(x+=B[n++]<<b,b+=8,x+=B[n++]<<b,b+=8),j=v[x&N];t:for(;;){if(T=j>>>24,x>>>=T,b-=T,T=j>>>16&255,T===0)H[i++]=j&65535;else if(T&16){O=j&65535,T&=15,T&&(b<T&&(x+=B[n++]<<b,b+=8),O+=x&(1<<T)-1,x>>>=T,b-=T),b<15&&(x+=B[n++]<<b,b+=8,x+=B[n++]<<b,b+=8),j=w[x&E];r:for(;;){if(T=j>>>24,x>>>=T,b-=T,T=j>>>16&255,T&16){if(F=j&65535,T&=15,b<T&&(x+=B[n++]<<b,b+=8,b<T&&(x+=B[n++]<<b,b+=8)),F+=x&(1<<T)-1,F>u){t.msg="invalid distance too far back",P.mode=Nv;break e}if(x>>>=T,b-=T,T=i-l,F>T){if(T=F-T,T>h&&P.sane){t.msg="invalid distance too far back",P.mode=Nv;break e}if(D=0,L=g,m===0){if(D+=f-T,T<O){O-=T;do H[i++]=g[D++];while(--T);D=i-F,L=H}}else if(m<T){if(D+=f+m-T,T-=m,T<O){O-=T;do H[i++]=g[D++];while(--T);if(D=0,m<O){T=m,O-=T;do H[i++]=g[D++];while(--T);D=i-F,L=H}}}else if(D+=m-T,T<O){O-=T;do H[i++]=g[D++];while(--T);D=i-F,L=H}for(;O>2;)H[i++]=L[D++],H[i++]=L[D++],H[i++]=L[D++],O-=3;O&&(H[i++]=L[D++],O>1&&(H[i++]=L[D++]))}else{D=i-F;do H[i++]=H[D++],H[i++]=H[D++],H[i++]=H[D++],O-=3;while(O>2);O&&(H[i++]=H[D++],O>1&&(H[i++]=H[D++]))}}else if((T&64)===0){j=w[(j&65535)+(x&(1<<T)-1)];continue r}else{t.msg="invalid distance code",P.mode=Nv;break e}break}}else if((T&64)===0){j=v[(j&65535)+(x&(1<<T)-1)];continue t}else if(T&32){P.mode=h5e;break e}else{t.msg="invalid literal/length code",P.mode=Nv;break e}break}}while(n<a&&i<o);O=b>>3,n-=O,b-=O<<3,x&=(1<<b)-1,t.next_in=n,t.next_out=i,t.avail_in=n<a?5+(a-n):5-(n-a),t.avail_out=i<o?257+(o-i):257-(i-o),P.hold=x,P.bits=b};const xm=15,ZO=852,JO=592,e7=0,g4=1,t7=2,p5e=new Uint16Array([3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258,0,0]),x5e=new Uint8Array([16,16,16,16,16,16,16,16,17,17,17,17,18,18,18,18,19,19,19,19,20,20,20,20,21,21,21,21,16,72,78]),g5e=new Uint16Array([1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577,0,0]),v5e=new Uint8Array([16,16,16,16,17,17,18,18,19,19,20,20,21,21,22,22,23,23,24,24,25,25,26,26,27,27,28,28,29,29,64,64]),y5e=(e,t,r,n,a,i,l,o)=>{const u=o.bits;let f=0,h=0,m=0,g=0,x=0,b=0,v=0,w=0,N=0,E=0,j,T,O,F,D,L=null,B;const H=new Uint16Array(xm+1),P=new Uint16Array(xm+1);let U=null,K,ee,me;for(f=0;f<=xm;f++)H[f]=0;for(h=0;h<n;h++)H[t[r+h]]++;for(x=u,g=xm;g>=1&&H[g]===0;g--);if(x>g&&(x=g),g===0)return a[i++]=1<<24|64<<16|0,a[i++]=1<<24|64<<16|0,o.bits=1,0;for(m=1;m<g&&H[m]===0;m++);for(x<m&&(x=m),w=1,f=1;f<=xm;f++)if(w<<=1,w-=H[f],w<0)return-1;if(w>0&&(e===e7||g!==1))return-1;for(P[1]=0,f=1;f<xm;f++)P[f+1]=P[f]+H[f];for(h=0;h<n;h++)t[r+h]!==0&&(l[P[t[r+h]]++]=h);if(e===e7?(L=U=l,B=20):e===g4?(L=p5e,U=x5e,B=257):(L=g5e,U=v5e,B=0),E=0,h=0,f=m,D=i,b=x,v=0,O=-1,N=1<<x,F=N-1,e===g4&&N>ZO||e===t7&&N>JO)return 1;for(;;){K=f-v,l[h]+1<B?(ee=0,me=l[h]):l[h]>=B?(ee=U[l[h]-B],me=L[l[h]-B]):(ee=96,me=0),j=1<<f-v,T=1<<b,m=T;do T-=j,a[D+(E>>v)+T]=K<<24|ee<<16|me|0;while(T!==0);for(j=1<<f-1;E&j;)j>>=1;if(j!==0?(E&=j-1,E+=j):E=0,h++,--H[f]===0){if(f===g)break;f=t[r+l[h]]}if(f>x&&(E&F)!==O){for(v===0&&(v=x),D+=m,b=f-v,w=1<<b;b+v<g&&(w-=H[b+v],!(w<=0));)b++,w<<=1;if(N+=1<<b,e===g4&&N>ZO||e===t7&&N>JO)return 1;O=E&F,a[O]=x<<24|b<<16|D-i|0}}return E!==0&&(a[D+E]=f-v<<24|64<<16|0),o.bits=x,0};var Lx=y5e;const b5e=0,jB=1,SB=2,{Z_FINISH:r7,Z_BLOCK:w5e,Z_TREES:_v,Z_OK:lh,Z_STREAM_END:N5e,Z_NEED_DICT:_5e,Z_STREAM_ERROR:Ho,Z_DATA_ERROR:AB,Z_MEM_ERROR:EB,Z_BUF_ERROR:j5e,Z_DEFLATED:n7}=wB,Z2=16180,a7=16181,i7=16182,s7=16183,l7=16184,o7=16185,c7=16186,u7=16187,f7=16188,d7=16189,Yy=16190,Ku=16191,v4=16192,h7=16193,y4=16194,m7=16195,p7=16196,x7=16197,g7=16198,jv=16199,Sv=16200,v7=16201,y7=16202,b7=16203,w7=16204,N7=16205,b4=16206,_7=16207,j7=16208,oa=16209,kB=16210,CB=16211,S5e=852,A5e=592,E5e=15,k5e=E5e,S7=e=>(e>>>24&255)+(e>>>8&65280)+((e&65280)<<8)+((e&255)<<24);function C5e(){this.strm=null,this.mode=0,this.last=!1,this.wrap=0,this.havedict=!1,this.flags=0,this.dmax=0,this.check=0,this.total=0,this.head=null,this.wbits=0,this.wsize=0,this.whave=0,this.wnext=0,this.window=null,this.hold=0,this.bits=0,this.length=0,this.offset=0,this.extra=0,this.lencode=null,this.distcode=null,this.lenbits=0,this.distbits=0,this.ncode=0,this.nlen=0,this.ndist=0,this.have=0,this.next=null,this.lens=new Uint16Array(320),this.work=new Uint16Array(288),this.lendyn=null,this.distdyn=null,this.sane=0,this.back=0,this.was=0}const yh=e=>{if(!e)return 1;const t=e.state;return!t||t.strm!==e||t.mode<Z2||t.mode>CB?1:0},TB=e=>{if(yh(e))return Ho;const t=e.state;return e.total_in=e.total_out=t.total=0,e.msg="",t.wrap&&(e.adler=t.wrap&1),t.mode=Z2,t.last=0,t.havedict=0,t.flags=-1,t.dmax=32768,t.head=null,t.hold=0,t.bits=0,t.lencode=t.lendyn=new Int32Array(S5e),t.distcode=t.distdyn=new Int32Array(A5e),t.sane=1,t.back=-1,lh},OB=e=>{if(yh(e))return Ho;const t=e.state;return t.wsize=0,t.whave=0,t.wnext=0,TB(e)},DB=(e,t)=>{let r;if(yh(e))return Ho;const n=e.state;return t<0?(r=0,t=-t):(r=(t>>4)+5,t<48&&(t&=15)),t&&(t<8||t>15)?Ho:(n.window!==null&&n.wbits!==t&&(n.window=null),n.wrap=r,n.wbits=t,OB(e))},FB=(e,t)=>{if(!e)return Ho;const r=new C5e;e.state=r,r.strm=e,r.window=null,r.mode=Z2;const n=DB(e,t);return n!==lh&&(e.state=null),n},T5e=e=>FB(e,k5e);let A7=!0,w4,N4;const O5e=e=>{if(A7){w4=new Int32Array(512),N4=new Int32Array(32);let t=0;for(;t<144;)e.lens[t++]=8;for(;t<256;)e.lens[t++]=9;for(;t<280;)e.lens[t++]=7;for(;t<288;)e.lens[t++]=8;for(Lx(jB,e.lens,0,288,w4,0,e.work,{bits:9}),t=0;t<32;)e.lens[t++]=5;Lx(SB,e.lens,0,32,N4,0,e.work,{bits:5}),A7=!1}e.lencode=w4,e.lenbits=9,e.distcode=N4,e.distbits=5},PB=(e,t,r,n)=>{let a;const i=e.state;return i.window===null&&(i.wsize=1<<i.wbits,i.wnext=0,i.whave=0,i.window=new Uint8Array(i.wsize)),n>=i.wsize?(i.window.set(t.subarray(r-i.wsize,r),0),i.wnext=0,i.whave=i.wsize):(a=i.wsize-i.wnext,a>n&&(a=n),i.window.set(t.subarray(r-n,r-n+a),i.wnext),n-=a,n?(i.window.set(t.subarray(r-n,r),0),i.wnext=n,i.whave=i.wsize):(i.wnext+=a,i.wnext===i.wsize&&(i.wnext=0),i.whave<i.wsize&&(i.whave+=a))),0},D5e=(e,t)=>{let r,n,a,i,l,o,u,f,h,m,g,x,b,v,w=0,N,E,j,T,O,F,D,L;const B=new Uint8Array(4);let H,P;const U=new Uint8Array([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]);if(yh(e)||!e.output||!e.input&&e.avail_in!==0)return Ho;r=e.state,r.mode===Ku&&(r.mode=v4),l=e.next_out,a=e.output,u=e.avail_out,i=e.next_in,n=e.input,o=e.avail_in,f=r.hold,h=r.bits,m=o,g=u,L=lh;e:for(;;)switch(r.mode){case Z2:if(r.wrap===0){r.mode=v4;break}for(;h<16;){if(o===0)break e;o--,f+=n[i++]<<h,h+=8}if(r.wrap&2&&f===35615){r.wbits===0&&(r.wbits=15),r.check=0,B[0]=f&255,B[1]=f>>>8&255,r.check=au(r.check,B,2,0),f=0,h=0,r.mode=a7;break}if(r.head&&(r.head.done=!1),!(r.wrap&1)||(((f&255)<<8)+(f>>8))%31){e.msg="incorrect header check",r.mode=oa;break}if((f&15)!==n7){e.msg="unknown compression method",r.mode=oa;break}if(f>>>=4,h-=4,D=(f&15)+8,r.wbits===0&&(r.wbits=D),D>15||D>r.wbits){e.msg="invalid window size",r.mode=oa;break}r.dmax=1<<r.wbits,r.flags=0,e.adler=r.check=1,r.mode=f&512?d7:Ku,f=0,h=0;break;case a7:for(;h<16;){if(o===0)break e;o--,f+=n[i++]<<h,h+=8}if(r.flags=f,(r.flags&255)!==n7){e.msg="unknown compression method",r.mode=oa;break}if(r.flags&57344){e.msg="unknown header flags set",r.mode=oa;break}r.head&&(r.head.text=f>>8&1),r.flags&512&&r.wrap&4&&(B[0]=f&255,B[1]=f>>>8&255,r.check=au(r.check,B,2,0)),f=0,h=0,r.mode=i7;case i7:for(;h<32;){if(o===0)break e;o--,f+=n[i++]<<h,h+=8}r.head&&(r.head.time=f),r.flags&512&&r.wrap&4&&(B[0]=f&255,B[1]=f>>>8&255,B[2]=f>>>16&255,B[3]=f>>>24&255,r.check=au(r.check,B,4,0)),f=0,h=0,r.mode=s7;case s7:for(;h<16;){if(o===0)break e;o--,f+=n[i++]<<h,h+=8}r.head&&(r.head.xflags=f&255,r.head.os=f>>8),r.flags&512&&r.wrap&4&&(B[0]=f&255,B[1]=f>>>8&255,r.check=au(r.check,B,2,0)),f=0,h=0,r.mode=l7;case l7:if(r.flags&1024){for(;h<16;){if(o===0)break e;o--,f+=n[i++]<<h,h+=8}r.length=f,r.head&&(r.head.extra_len=f),r.flags&512&&r.wrap&4&&(B[0]=f&255,B[1]=f>>>8&255,r.check=au(r.check,B,2,0)),f=0,h=0}else r.head&&(r.head.extra=null);r.mode=o7;case o7:if(r.flags&1024&&(x=r.length,x>o&&(x=o),x&&(r.head&&(D=r.head.extra_len-r.length,r.head.extra||(r.head.extra=new Uint8Array(r.head.extra_len)),r.head.extra.set(n.subarray(i,i+x),D)),r.flags&512&&r.wrap&4&&(r.check=au(r.check,n,x,i)),o-=x,i+=x,r.length-=x),r.length))break e;r.length=0,r.mode=c7;case c7:if(r.flags&2048){if(o===0)break e;x=0;do D=n[i+x++],r.head&&D&&r.length<65536&&(r.head.name+=String.fromCharCode(D));while(D&&x<o);if(r.flags&512&&r.wrap&4&&(r.check=au(r.check,n,x,i)),o-=x,i+=x,D)break e}else r.head&&(r.head.name=null);r.length=0,r.mode=u7;case u7:if(r.flags&4096){if(o===0)break e;x=0;do D=n[i+x++],r.head&&D&&r.length<65536&&(r.head.comment+=String.fromCharCode(D));while(D&&x<o);if(r.flags&512&&r.wrap&4&&(r.check=au(r.check,n,x,i)),o-=x,i+=x,D)break e}else r.head&&(r.head.comment=null);r.mode=f7;case f7:if(r.flags&512){for(;h<16;){if(o===0)break e;o--,f+=n[i++]<<h,h+=8}if(r.wrap&4&&f!==(r.check&65535)){e.msg="header crc mismatch",r.mode=oa;break}f=0,h=0}r.head&&(r.head.hcrc=r.flags>>9&1,r.head.done=!0),e.adler=r.check=0,r.mode=Ku;break;case d7:for(;h<32;){if(o===0)break e;o--,f+=n[i++]<<h,h+=8}e.adler=r.check=S7(f),f=0,h=0,r.mode=Yy;case Yy:if(r.havedict===0)return e.next_out=l,e.avail_out=u,e.next_in=i,e.avail_in=o,r.hold=f,r.bits=h,_5e;e.adler=r.check=1,r.mode=Ku;case Ku:if(t===w5e||t===_v)break e;case v4:if(r.last){f>>>=h&7,h-=h&7,r.mode=b4;break}for(;h<3;){if(o===0)break e;o--,f+=n[i++]<<h,h+=8}switch(r.last=f&1,f>>>=1,h-=1,f&3){case 0:r.mode=h7;break;case 1:if(O5e(r),r.mode=jv,t===_v){f>>>=2,h-=2;break e}break;case 2:r.mode=p7;break;case 3:e.msg="invalid block type",r.mode=oa}f>>>=2,h-=2;break;case h7:for(f>>>=h&7,h-=h&7;h<32;){if(o===0)break e;o--,f+=n[i++]<<h,h+=8}if((f&65535)!==(f>>>16^65535)){e.msg="invalid stored block lengths",r.mode=oa;break}if(r.length=f&65535,f=0,h=0,r.mode=y4,t===_v)break e;case y4:r.mode=m7;case m7:if(x=r.length,x){if(x>o&&(x=o),x>u&&(x=u),x===0)break e;a.set(n.subarray(i,i+x),l),o-=x,i+=x,u-=x,l+=x,r.length-=x;break}r.mode=Ku;break;case p7:for(;h<14;){if(o===0)break e;o--,f+=n[i++]<<h,h+=8}if(r.nlen=(f&31)+257,f>>>=5,h-=5,r.ndist=(f&31)+1,f>>>=5,h-=5,r.ncode=(f&15)+4,f>>>=4,h-=4,r.nlen>286||r.ndist>30){e.msg="too many length or distance symbols",r.mode=oa;break}r.have=0,r.mode=x7;case x7:for(;r.have<r.ncode;){for(;h<3;){if(o===0)break e;o--,f+=n[i++]<<h,h+=8}r.lens[U[r.have++]]=f&7,f>>>=3,h-=3}for(;r.have<19;)r.lens[U[r.have++]]=0;if(r.lencode=r.lendyn,r.lenbits=7,H={bits:r.lenbits},L=Lx(b5e,r.lens,0,19,r.lencode,0,r.work,H),r.lenbits=H.bits,L){e.msg="invalid code lengths set",r.mode=oa;break}r.have=0,r.mode=g7;case g7:for(;r.have<r.nlen+r.ndist;){for(;w=r.lencode[f&(1<<r.lenbits)-1],N=w>>>24,E=w>>>16&255,j=w&65535,!(N<=h);){if(o===0)break e;o--,f+=n[i++]<<h,h+=8}if(j<16)f>>>=N,h-=N,r.lens[r.have++]=j;else{if(j===16){for(P=N+2;h<P;){if(o===0)break e;o--,f+=n[i++]<<h,h+=8}if(f>>>=N,h-=N,r.have===0){e.msg="invalid bit length repeat",r.mode=oa;break}D=r.lens[r.have-1],x=3+(f&3),f>>>=2,h-=2}else if(j===17){for(P=N+3;h<P;){if(o===0)break e;o--,f+=n[i++]<<h,h+=8}f>>>=N,h-=N,D=0,x=3+(f&7),f>>>=3,h-=3}else{for(P=N+7;h<P;){if(o===0)break e;o--,f+=n[i++]<<h,h+=8}f>>>=N,h-=N,D=0,x=11+(f&127),f>>>=7,h-=7}if(r.have+x>r.nlen+r.ndist){e.msg="invalid bit length repeat",r.mode=oa;break}for(;x--;)r.lens[r.have++]=D}}if(r.mode===oa)break;if(r.lens[256]===0){e.msg="invalid code -- missing end-of-block",r.mode=oa;break}if(r.lenbits=9,H={bits:r.lenbits},L=Lx(jB,r.lens,0,r.nlen,r.lencode,0,r.work,H),r.lenbits=H.bits,L){e.msg="invalid literal/lengths set",r.mode=oa;break}if(r.distbits=6,r.distcode=r.distdyn,H={bits:r.distbits},L=Lx(SB,r.lens,r.nlen,r.ndist,r.distcode,0,r.work,H),r.distbits=H.bits,L){e.msg="invalid distances set",r.mode=oa;break}if(r.mode=jv,t===_v)break e;case jv:r.mode=Sv;case Sv:if(o>=6&&u>=258){e.next_out=l,e.avail_out=u,e.next_in=i,e.avail_in=o,r.hold=f,r.bits=h,m5e(e,g),l=e.next_out,a=e.output,u=e.avail_out,i=e.next_in,n=e.input,o=e.avail_in,f=r.hold,h=r.bits,r.mode===Ku&&(r.back=-1);break}for(r.back=0;w=r.lencode[f&(1<<r.lenbits)-1],N=w>>>24,E=w>>>16&255,j=w&65535,!(N<=h);){if(o===0)break e;o--,f+=n[i++]<<h,h+=8}if(E&&(E&240)===0){for(T=N,O=E,F=j;w=r.lencode[F+((f&(1<<T+O)-1)>>T)],N=w>>>24,E=w>>>16&255,j=w&65535,!(T+N<=h);){if(o===0)break e;o--,f+=n[i++]<<h,h+=8}f>>>=T,h-=T,r.back+=T}if(f>>>=N,h-=N,r.back+=N,r.length=j,E===0){r.mode=N7;break}if(E&32){r.back=-1,r.mode=Ku;break}if(E&64){e.msg="invalid literal/length code",r.mode=oa;break}r.extra=E&15,r.mode=v7;case v7:if(r.extra){for(P=r.extra;h<P;){if(o===0)break e;o--,f+=n[i++]<<h,h+=8}r.length+=f&(1<<r.extra)-1,f>>>=r.extra,h-=r.extra,r.back+=r.extra}r.was=r.length,r.mode=y7;case y7:for(;w=r.distcode[f&(1<<r.distbits)-1],N=w>>>24,E=w>>>16&255,j=w&65535,!(N<=h);){if(o===0)break e;o--,f+=n[i++]<<h,h+=8}if((E&240)===0){for(T=N,O=E,F=j;w=r.distcode[F+((f&(1<<T+O)-1)>>T)],N=w>>>24,E=w>>>16&255,j=w&65535,!(T+N<=h);){if(o===0)break e;o--,f+=n[i++]<<h,h+=8}f>>>=T,h-=T,r.back+=T}if(f>>>=N,h-=N,r.back+=N,E&64){e.msg="invalid distance code",r.mode=oa;break}r.offset=j,r.extra=E&15,r.mode=b7;case b7:if(r.extra){for(P=r.extra;h<P;){if(o===0)break e;o--,f+=n[i++]<<h,h+=8}r.offset+=f&(1<<r.extra)-1,f>>>=r.extra,h-=r.extra,r.back+=r.extra}if(r.offset>r.dmax){e.msg="invalid distance too far back",r.mode=oa;break}r.mode=w7;case w7:if(u===0)break e;if(x=g-u,r.offset>x){if(x=r.offset-x,x>r.whave&&r.sane){e.msg="invalid distance too far back",r.mode=oa;break}x>r.wnext?(x-=r.wnext,b=r.wsize-x):b=r.wnext-x,x>r.length&&(x=r.length),v=r.window}else v=a,b=l-r.offset,x=r.length;x>u&&(x=u),u-=x,r.length-=x;do a[l++]=v[b++];while(--x);r.length===0&&(r.mode=Sv);break;case N7:if(u===0)break e;a[l++]=r.length,u--,r.mode=Sv;break;case b4:if(r.wrap){for(;h<32;){if(o===0)break e;o--,f|=n[i++]<<h,h+=8}if(g-=u,e.total_out+=g,r.total+=g,r.wrap&4&&g&&(e.adler=r.check=r.flags?au(r.check,a,g,l-g):h_(r.check,a,g,l-g)),g=u,r.wrap&4&&(r.flags?f:S7(f))!==r.check){e.msg="incorrect data check",r.mode=oa;break}f=0,h=0}r.mode=_7;case _7:if(r.wrap&&r.flags){for(;h<32;){if(o===0)break e;o--,f+=n[i++]<<h,h+=8}if(r.wrap&4&&f!==(r.total&4294967295)){e.msg="incorrect length check",r.mode=oa;break}f=0,h=0}r.mode=j7;case j7:L=N5e;break e;case oa:L=AB;break e;case kB:return EB;case CB:default:return Ho}return e.next_out=l,e.avail_out=u,e.next_in=i,e.avail_in=o,r.hold=f,r.bits=h,(r.wsize||g!==e.avail_out&&r.mode<oa&&(r.mode<b4||t!==r7))&&PB(e,e.output,e.next_out,g-e.avail_out),m-=e.avail_in,g-=e.avail_out,e.total_in+=m,e.total_out+=g,r.total+=g,r.wrap&4&&g&&(e.adler=r.check=r.flags?au(r.check,a,g,e.next_out-g):h_(r.check,a,g,e.next_out-g)),e.data_type=r.bits+(r.last?64:0)+(r.mode===Ku?128:0)+(r.mode===jv||r.mode===y4?256:0),(m===0&&g===0||t===r7)&&L===lh&&(L=j5e),L},F5e=e=>{if(yh(e))return Ho;let t=e.state;return t.window&&(t.window=null),e.state=null,lh},P5e=(e,t)=>{if(yh(e))return Ho;const r=e.state;return(r.wrap&2)===0?Ho:(r.head=t,t.done=!1,lh)},L5e=(e,t)=>{const r=t.length;let n,a,i;return yh(e)||(n=e.state,n.wrap!==0&&n.mode!==Yy)?Ho:n.mode===Yy&&(a=1,a=h_(a,t,r,0),a!==n.check)?AB:(i=PB(e,t,r,r),i?(n.mode=kB,EB):(n.havedict=1,lh))};var M5e=OB,R5e=DB,I5e=TB,B5e=T5e,U5e=FB,z5e=D5e,q5e=F5e,$5e=P5e,H5e=L5e,V5e="pako inflate (from Nodeca project)",Yu={inflateReset:M5e,inflateReset2:R5e,inflateResetKeep:I5e,inflateInit:B5e,inflateInit2:U5e,inflate:z5e,inflateEnd:q5e,inflateGetHeader:$5e,inflateSetDictionary:H5e,inflateInfo:V5e};function W5e(){this.text=0,this.time=0,this.xflags=0,this.os=0,this.extra=null,this.extra_len=0,this.name="",this.comment="",this.hcrc=0,this.done=!1}var G5e=W5e;const LB=Object.prototype.toString,{Z_NO_FLUSH:K5e,Z_FINISH:Y5e,Z_OK:yg,Z_STREAM_END:_4,Z_NEED_DICT:j4,Z_STREAM_ERROR:X5e,Z_DATA_ERROR:E7,Z_MEM_ERROR:Q5e}=wB;function Zg(e){this.options=NB.assign({chunkSize:1024*64,windowBits:15,to:""},e||{});const t=this.options;t.raw&&t.windowBits>=0&&t.windowBits<16&&(t.windowBits=-t.windowBits,t.windowBits===0&&(t.windowBits=-15)),t.windowBits>=0&&t.windowBits<16&&!(e&&e.windowBits)&&(t.windowBits+=32),t.windowBits>15&&t.windowBits<48&&(t.windowBits&15)===0&&(t.windowBits|=15),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new d5e,this.strm.avail_out=0;let r=Yu.inflateInit2(this.strm,t.windowBits);if(r!==yg)throw new Error(m_[r]);if(this.header=new G5e,Yu.inflateGetHeader(this.strm,this.header),t.dictionary&&(typeof t.dictionary=="string"?t.dictionary=p_.string2buf(t.dictionary):LB.call(t.dictionary)==="[object ArrayBuffer]"&&(t.dictionary=new Uint8Array(t.dictionary)),t.raw&&(r=Yu.inflateSetDictionary(this.strm,t.dictionary),r!==yg)))throw new Error(m_[r])}Zg.prototype.push=function(e,t){const r=this.strm,n=this.options.chunkSize,a=this.options.dictionary;let i,l,o;if(this.ended)return!1;for(t===~~t?l=t:l=t===!0?Y5e:K5e,LB.call(e)==="[object ArrayBuffer]"?r.input=new Uint8Array(e):r.input=e,r.next_in=0,r.avail_in=r.input.length;;){for(r.avail_out===0&&(r.output=new Uint8Array(n),r.next_out=0,r.avail_out=n),i=Yu.inflate(r,l),i===j4&&a&&(i=Yu.inflateSetDictionary(r,a),i===yg?i=Yu.inflate(r,l):i===E7&&(i=j4));r.avail_in>0&&i===_4&&r.state.wrap>0&&e[r.next_in]!==0;)Yu.inflateReset(r),i=Yu.inflate(r,l);switch(i){case X5e:case E7:case j4:case Q5e:return this.onEnd(i),this.ended=!0,!1}if(o=r.avail_out,r.next_out&&(r.avail_out===0||i===_4))if(this.options.to==="string"){let u=p_.utf8border(r.output,r.next_out),f=r.next_out-u,h=p_.buf2string(r.output,u);r.next_out=f,r.avail_out=n-f,f&&r.output.set(r.output.subarray(u,u+f),0),this.onData(h)}else this.onData(r.output.length===r.next_out?r.output:r.output.subarray(0,r.next_out));if(!(i===yg&&o===0)){if(i===_4)return i=Yu.inflateEnd(this.strm),this.onEnd(i),this.ended=!0,!0;if(r.avail_in===0)break}}return!0};Zg.prototype.onData=function(e){this.chunks.push(e)};Zg.prototype.onEnd=function(e){e===yg&&(this.options.to==="string"?this.result=this.chunks.join(""):this.result=NB.flattenChunks(this.chunks)),this.chunks=[],this.err=e,this.msg=this.strm.msg};function Z5e(e,t){const r=new Zg(t);if(r.push(e),r.err)throw r.msg||m_[r.err];return r.result}var J5e=Zg,e4e=Z5e,t4e={Inflate:J5e,inflate:e4e};const{Inflate:r4e,inflate:n4e}=t4e;var k7=r4e,a4e=n4e;const MB=[];for(let e=0;e<256;e++){let t=e;for(let r=0;r<8;r++)t&1?t=3988292384^t>>>1:t=t>>>1;MB[e]=t}const C7=4294967295;function i4e(e,t,r){let n=e;for(let a=0;a<r;a++)n=MB[(n^t[a])&255]^n>>>8;return n}function s4e(e,t){return(i4e(C7,e,t)^C7)>>>0}function T7(e,t,r){const n=e.readUint32(),a=s4e(new Uint8Array(e.buffer,e.byteOffset+e.offset-t-4,t),t);if(a!==n)throw new Error(`CRC mismatch for chunk ${r}. Expected ${n}, found ${a}`)}function RB(e,t,r){for(let n=0;n<r;n++)t[n]=e[n]}function IB(e,t,r,n){let a=0;for(;a<n;a++)t[a]=e[a];for(;a<r;a++)t[a]=e[a]+t[a-n]&255}function BB(e,t,r,n){let a=0;if(r.length===0)for(;a<n;a++)t[a]=e[a];else for(;a<n;a++)t[a]=e[a]+r[a]&255}function UB(e,t,r,n,a){let i=0;if(r.length===0){for(;i<a;i++)t[i]=e[i];for(;i<n;i++)t[i]=e[i]+(t[i-a]>>1)&255}else{for(;i<a;i++)t[i]=e[i]+(r[i]>>1)&255;for(;i<n;i++)t[i]=e[i]+(t[i-a]+r[i]>>1)&255}}function zB(e,t,r,n,a){let i=0;if(r.length===0){for(;i<a;i++)t[i]=e[i];for(;i<n;i++)t[i]=e[i]+t[i-a]&255}else{for(;i<a;i++)t[i]=e[i]+r[i]&255;for(;i<n;i++)t[i]=e[i]+l4e(t[i-a],r[i],r[i-a])&255}}function l4e(e,t,r){const n=e+t-r,a=Math.abs(n-e),i=Math.abs(n-t),l=Math.abs(n-r);return a<=i&&a<=l?e:i<=l?t:r}function o4e(e,t,r,n,a,i){switch(e){case 0:RB(t,r,a);break;case 1:IB(t,r,a,i);break;case 2:BB(t,r,n,a);break;case 3:UB(t,r,n,a,i);break;case 4:zB(t,r,n,a,i);break;default:throw new Error(`Unsupported filter: ${e}`)}}const c4e=new Uint16Array([255]),u4e=new Uint8Array(c4e.buffer),f4e=u4e[0]===255;function d4e(e){const{data:t,width:r,height:n,channels:a,depth:i}=e,l=[{x:0,y:0,xStep:8,yStep:8},{x:4,y:0,xStep:8,yStep:8},{x:0,y:4,xStep:4,yStep:8},{x:2,y:0,xStep:4,yStep:4},{x:0,y:2,xStep:2,yStep:4},{x:1,y:0,xStep:2,yStep:2},{x:0,y:1,xStep:1,yStep:2}],o=Math.ceil(i/8)*a,u=new Uint8Array(n*r*o);let f=0;for(let h=0;h<7;h++){const m=l[h],g=Math.ceil((r-m.x)/m.xStep),x=Math.ceil((n-m.y)/m.yStep);if(g<=0||x<=0)continue;const b=g*o,v=new Uint8Array(b);for(let w=0;w<x;w++){const N=t[f++],E=t.subarray(f,f+b);f+=b;const j=new Uint8Array(b);o4e(N,E,j,v,b,o),v.set(j);for(let T=0;T<g;T++){const O=m.x+T*m.xStep,F=m.y+w*m.yStep;if(!(O>=r||F>=n))for(let D=0;D<o;D++)u[(F*r+O)*o+D]=j[T*o+D]}}}if(i===16){const h=new Uint16Array(u.buffer);if(f4e)for(let m=0;m<h.length;m++)h[m]=h4e(h[m]);return h}else return u}function h4e(e){return(e&255)<<8|e>>8&255}const m4e=new Uint16Array([255]),p4e=new Uint8Array(m4e.buffer),x4e=p4e[0]===255,g4e=new Uint8Array(0);function O7(e){const{data:t,width:r,height:n,channels:a,depth:i}=e,l=Math.ceil(i/8)*a,o=Math.ceil(i/8*a*r),u=new Uint8Array(n*o);let f=g4e,h=0,m,g;for(let x=0;x<n;x++){switch(m=t.subarray(h+1,h+1+o),g=u.subarray(x*o,(x+1)*o),t[h]){case 0:RB(m,g,o);break;case 1:IB(m,g,o,l);break;case 2:BB(m,g,f,o);break;case 3:UB(m,g,f,o,l);break;case 4:zB(m,g,f,o,l);break;default:throw new Error(`Unsupported filter: ${t[h]}`)}f=g,h+=o+1}if(i===16){const x=new Uint16Array(u.buffer);if(x4e)for(let b=0;b<x.length;b++)x[b]=v4e(x[b]);return x}else return u}function v4e(e){return(e&255)<<8|e>>8&255}const Rv=Uint8Array.of(137,80,78,71,13,10,26,10);function D7(e){if(!y4e(e.readBytes(Rv.length)))throw new Error("wrong PNG signature")}function y4e(e){if(e.length<Rv.length)return!1;for(let t=0;t<Rv.length;t++)if(e[t]!==Rv[t])return!1;return!0}const b4e="tEXt",w4e=0,qB=new TextDecoder("latin1");function N4e(e){if(j4e(e),e.length===0||e.length>79)throw new Error("keyword length must be between 1 and 79")}const _4e=/^[\u0000-\u00FF]*$/;function j4e(e){if(!_4e.test(e))throw new Error("invalid latin1 text")}function S4e(e,t,r){const n=$B(t);e[n]=A4e(t,r-n.length-1)}function $B(e){for(e.mark();e.readByte()!==w4e;);const t=e.offset;e.reset();const r=qB.decode(e.readBytes(t-e.offset-1));return e.skip(1),N4e(r),r}function A4e(e,t){return qB.decode(e.readBytes(t))}const Hl={UNKNOWN:-1,GREYSCALE:0,TRUECOLOUR:2,INDEXED_COLOUR:3,GREYSCALE_ALPHA:4,TRUECOLOUR_ALPHA:6},S4={UNKNOWN:-1,DEFLATE:0},F7={UNKNOWN:-1,ADAPTIVE:0},A4={UNKNOWN:-1,NO_INTERLACE:0,ADAM7:1},Av={NONE:0,BACKGROUND:1,PREVIOUS:2},E4={SOURCE:0,OVER:1};class E4e extends MS{_checkCrc;_inflator;_png;_apng;_end;_hasPalette;_palette;_hasTransparency;_transparency;_compressionMethod;_filterMethod;_interlaceMethod;_colorType;_isAnimated;_numberOfFrames;_numberOfPlays;_frames;_writingDataChunks;constructor(t,r={}){super(t);const{checkCrc:n=!1}=r;this._checkCrc=n,this._inflator=new k7,this._png={width:-1,height:-1,channels:-1,data:new Uint8Array(0),depth:1,text:{}},this._apng={width:-1,height:-1,channels:-1,depth:1,numberOfFrames:1,numberOfPlays:0,text:{},frames:[]},this._end=!1,this._hasPalette=!1,this._palette=[],this._hasTransparency=!1,this._transparency=new Uint16Array(0),this._compressionMethod=S4.UNKNOWN,this._filterMethod=F7.UNKNOWN,this._interlaceMethod=A4.UNKNOWN,this._colorType=Hl.UNKNOWN,this._isAnimated=!1,this._numberOfFrames=1,this._numberOfPlays=0,this._frames=[],this._writingDataChunks=!1,this.setBigEndian()}decode(){for(D7(this);!this._end;){const t=this.readUint32(),r=this.readChars(4);this.decodeChunk(t,r)}return this.decodeImage(),this._png}decodeApng(){for(D7(this);!this._end;){const t=this.readUint32(),r=this.readChars(4);this.decodeApngChunk(t,r)}return this.decodeApngImage(),this._apng}decodeChunk(t,r){const n=this.offset;switch(r){case"IHDR":this.decodeIHDR();break;case"PLTE":this.decodePLTE(t);break;case"IDAT":this.decodeIDAT(t);break;case"IEND":this._end=!0;break;case"tRNS":this.decodetRNS(t);break;case"iCCP":this.decodeiCCP(t);break;case b4e:S4e(this._png.text,this,t);break;case"pHYs":this.decodepHYs();break;default:this.skip(t);break}if(this.offset-n!==t)throw new Error(`Length mismatch while decoding chunk ${r}`);this._checkCrc?T7(this,t+4,r):this.skip(4)}decodeApngChunk(t,r){const n=this.offset;switch(r!=="fdAT"&&r!=="IDAT"&&this._writingDataChunks&&this.pushDataToFrame(),r){case"acTL":this.decodeACTL();break;case"fcTL":this.decodeFCTL();break;case"fdAT":this.decodeFDAT(t);break;default:this.decodeChunk(t,r),this.offset=n+t;break}if(this.offset-n!==t)throw new Error(`Length mismatch while decoding chunk ${r}`);this._checkCrc?T7(this,t+4,r):this.skip(4)}decodeIHDR(){const t=this._png;t.width=this.readUint32(),t.height=this.readUint32(),t.depth=k4e(this.readUint8());const r=this.readUint8();this._colorType=r;let n;switch(r){case Hl.GREYSCALE:n=1;break;case Hl.TRUECOLOUR:n=3;break;case Hl.INDEXED_COLOUR:n=1;break;case Hl.GREYSCALE_ALPHA:n=2;break;case Hl.TRUECOLOUR_ALPHA:n=4;break;case Hl.UNKNOWN:default:throw new Error(`Unknown color type: ${r}`)}if(this._png.channels=n,this._compressionMethod=this.readUint8(),this._compressionMethod!==S4.DEFLATE)throw new Error(`Unsupported compression method: ${this._compressionMethod}`);this._filterMethod=this.readUint8(),this._interlaceMethod=this.readUint8()}decodeACTL(){this._numberOfFrames=this.readUint32(),this._numberOfPlays=this.readUint32(),this._isAnimated=!0}decodeFCTL(){const t={sequenceNumber:this.readUint32(),width:this.readUint32(),height:this.readUint32(),xOffset:this.readUint32(),yOffset:this.readUint32(),delayNumber:this.readUint16(),delayDenominator:this.readUint16(),disposeOp:this.readUint8(),blendOp:this.readUint8(),data:new Uint8Array(0)};this._frames.push(t)}decodePLTE(t){if(t%3!==0)throw new RangeError(`PLTE field length must be a multiple of 3. Got ${t}`);const r=t/3;this._hasPalette=!0;const n=[];this._palette=n;for(let a=0;a<r;a++)n.push([this.readUint8(),this.readUint8(),this.readUint8()])}decodeIDAT(t){this._writingDataChunks=!0;const r=t,n=this.offset+this.byteOffset;if(this._inflator.push(new Uint8Array(this.buffer,n,r)),this._inflator.err)throw new Error(`Error while decompressing the data: ${this._inflator.err}`);this.skip(t)}decodeFDAT(t){this._writingDataChunks=!0;let r=t,n=this.offset+this.byteOffset;if(n+=4,r-=4,this._inflator.push(new Uint8Array(this.buffer,n,r)),this._inflator.err)throw new Error(`Error while decompressing the data: ${this._inflator.err}`);this.skip(t)}decodetRNS(t){switch(this._colorType){case Hl.GREYSCALE:case Hl.TRUECOLOUR:{if(t%2!==0)throw new RangeError(`tRNS chunk length must be a multiple of 2. Got ${t}`);if(t/2>this._png.width*this._png.height)throw new Error(`tRNS chunk contains more alpha values than there are pixels (${t/2} vs ${this._png.width*this._png.height})`);this._hasTransparency=!0,this._transparency=new Uint16Array(t/2);for(let r=0;r<t/2;r++)this._transparency[r]=this.readUint16();break}case Hl.INDEXED_COLOUR:{if(t>this._palette.length)throw new Error(`tRNS chunk contains more alpha values than there are palette colors (${t} vs ${this._palette.length})`);let r=0;for(;r<t;r++){const n=this.readByte();this._palette[r].push(n)}for(;r<this._palette.length;r++)this._palette[r].push(255);break}case Hl.UNKNOWN:case Hl.GREYSCALE_ALPHA:case Hl.TRUECOLOUR_ALPHA:default:throw new Error(`tRNS chunk is not supported for color type ${this._colorType}`)}}decodeiCCP(t){const r=$B(this),n=this.readUint8();if(n!==S4.DEFLATE)throw new Error(`Unsupported iCCP compression method: ${n}`);const a=this.readBytes(t-r.length-2);this._png.iccEmbeddedProfile={name:r,profile:a4e(a)}}decodepHYs(){const t=this.readUint32(),r=this.readUint32(),n=this.readByte();this._png.resolution={x:t,y:r,unit:n}}decodeApngImage(){this._apng.width=this._png.width,this._apng.height=this._png.height,this._apng.channels=this._png.channels,this._apng.depth=this._png.depth,this._apng.numberOfFrames=this._numberOfFrames,this._apng.numberOfPlays=this._numberOfPlays,this._apng.text=this._png.text,this._apng.resolution=this._png.resolution;for(let t=0;t<this._numberOfFrames;t++){const r={sequenceNumber:this._frames[t].sequenceNumber,delayNumber:this._frames[t].delayNumber,delayDenominator:this._frames[t].delayDenominator,data:this._apng.depth===8?new Uint8Array(this._apng.width*this._apng.height*this._apng.channels):new Uint16Array(this._apng.width*this._apng.height*this._apng.channels)},n=this._frames.at(t);if(n){if(n.data=O7({data:n.data,width:n.width,height:n.height,channels:this._apng.channels,depth:this._apng.depth}),this._hasPalette&&(this._apng.palette=this._palette),this._hasTransparency&&(this._apng.transparency=this._transparency),t===0||n.xOffset===0&&n.yOffset===0&&n.width===this._png.width&&n.height===this._png.height)r.data=n.data;else{const a=this._apng.frames.at(t-1);this.disposeFrame(n,a,r),this.addFrameDataToCanvas(r,n)}this._apng.frames.push(r)}}return this._apng}disposeFrame(t,r,n){switch(t.disposeOp){case Av.NONE:break;case Av.BACKGROUND:for(let a=0;a<this._png.height;a++)for(let i=0;i<this._png.width;i++){const l=(a*t.width+i)*this._png.channels;for(let o=0;o<this._png.channels;o++)n.data[l+o]=0}break;case Av.PREVIOUS:n.data.set(r.data);break;default:throw new Error("Unknown disposeOp")}}addFrameDataToCanvas(t,r){const n=1<<this._png.depth,a=(i,l)=>{const o=((i+r.yOffset)*this._png.width+r.xOffset+l)*this._png.channels,u=(i*r.width+l)*this._png.channels;return{index:o,frameIndex:u}};switch(r.blendOp){case E4.SOURCE:for(let i=0;i<r.height;i++)for(let l=0;l<r.width;l++){const{index:o,frameIndex:u}=a(i,l);for(let f=0;f<this._png.channels;f++)t.data[o+f]=r.data[u+f]}break;case E4.OVER:for(let i=0;i<r.height;i++)for(let l=0;l<r.width;l++){const{index:o,frameIndex:u}=a(i,l);for(let f=0;f<this._png.channels;f++){const h=r.data[u+this._png.channels-1]/n,m=f%(this._png.channels-1)===0?1:r.data[u+f],g=Math.floor(h*m+(1-h)*t.data[o+f]);t.data[o+f]+=g}}break;default:throw new Error("Unknown blendOp")}}decodeImage(){if(this._inflator.err)throw new Error(`Error while decompressing the data: ${this._inflator.err}`);const t=this._isAnimated?(this._frames?.at(0)).data:this._inflator.result;if(this._filterMethod!==F7.ADAPTIVE)throw new Error(`Filter method ${this._filterMethod} not supported`);if(this._interlaceMethod===A4.NO_INTERLACE)this._png.data=O7({data:t,width:this._png.width,height:this._png.height,channels:this._png.channels,depth:this._png.depth});else if(this._interlaceMethod===A4.ADAM7)this._png.data=d4e({data:t,width:this._png.width,height:this._png.height,channels:this._png.channels,depth:this._png.depth});else throw new Error(`Interlace method ${this._interlaceMethod} not supported`);this._hasPalette&&(this._png.palette=this._palette),this._hasTransparency&&(this._png.transparency=this._transparency)}pushDataToFrame(){const t=this._inflator.result,r=this._frames.at(-1);r?r.data=t:this._frames.push({sequenceNumber:0,width:this._png.width,height:this._png.height,xOffset:0,yOffset:0,delayNumber:0,delayDenominator:0,disposeOp:Av.NONE,blendOp:E4.SOURCE,data:t}),this._inflator=new k7,this._writingDataChunks=!1}}function k4e(e){if(e!==1&&e!==2&&e!==4&&e!==8&&e!==16)throw new Error(`invalid bit depth: ${e}`);return e}var P7;(function(e){e[e.UNKNOWN=0]="UNKNOWN",e[e.METRE=1]="METRE"})(P7||(P7={}));function C4e(e,t){return new E4e(e,t).decode()}var pr=(function(){return typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:this})();function k4(){pr.console&&typeof pr.console.log=="function"&&pr.console.log.apply(pr.console,arguments)}var Rn={log:k4,warn:function(e){pr.console&&(typeof pr.console.warn=="function"?pr.console.warn.apply(pr.console,arguments):k4.call(null,arguments))},error:function(e){pr.console&&(typeof pr.console.error=="function"?pr.console.error.apply(pr.console,arguments):k4(e))}};function C4(e,t,r){var n=new XMLHttpRequest;n.open("GET",e),n.responseType="blob",n.onload=function(){N0(n.response,t,r)},n.onerror=function(){Rn.error("could not download file")},n.send()}function L7(e){var t=new XMLHttpRequest;t.open("HEAD",e,!1);try{t.send()}catch{}return t.status>=200&&t.status<=299}function Ev(e){try{e.dispatchEvent(new MouseEvent("click"))}catch{var t=document.createEvent("MouseEvents");t.initMouseEvent("click",!0,!0,window,0,0,0,80,20,!1,!1,!1,!1,0,null),e.dispatchEvent(t)}}var N0=pr.saveAs||((typeof window>"u"?"undefined":Nn(window))!=="object"||window!==pr?function(){}:typeof HTMLAnchorElement<"u"&&"download"in HTMLAnchorElement.prototype?function(e,t,r){var n=pr.URL||pr.webkitURL,a=document.createElement("a");t=t||e.name||"download",a.download=t,a.rel="noopener",typeof e=="string"?(a.href=e,a.origin!==location.origin?L7(a.href)?C4(e,t,r):Ev(a,a.target="_blank"):Ev(a)):(a.href=n.createObjectURL(e),setTimeout(function(){n.revokeObjectURL(a.href)},4e4),setTimeout(function(){Ev(a)},0))}:"msSaveOrOpenBlob"in navigator?function(e,t,r){if(t=t||e.name||"download",typeof e=="string")if(L7(e))C4(e,t,r);else{var n=document.createElement("a");n.href=e,n.target="_blank",setTimeout(function(){Ev(n)})}else navigator.msSaveOrOpenBlob((function(a,i){return i===void 0?i={autoBom:!1}:Nn(i)!=="object"&&(Rn.warn("Deprecated: Expected third argument to be a object"),i={autoBom:!i}),i.autoBom&&/^\s*(?:text\/\S*|application\/xml|\S*\/\S*\+xml)\s*;.*charset\s*=\s*utf-8/i.test(a.type)?new Blob(["\uFEFF",a],{type:a.type}):a})(e,r),t)}:function(e,t,r,n){if((n=n||open("","_blank"))&&(n.document.title=n.document.body.innerText="downloading..."),typeof e=="string")return C4(e,t,r);var a=e.type==="application/octet-stream",i=/constructor/i.test(pr.HTMLElement)||pr.safari,l=/CriOS\/[\d]+/.test(navigator.userAgent);if((l||a&&i)&&(typeof FileReader>"u"?"undefined":Nn(FileReader))==="object"){var o=new FileReader;o.onloadend=function(){var h=o.result;h=l?h:h.replace(/^data:[^;]*;/,"data:attachment/file;"),n?n.location.href=h:location=h,n=null},o.readAsDataURL(e)}else{var u=pr.URL||pr.webkitURL,f=u.createObjectURL(e);n?n.location=f:location.href=f,n=null,setTimeout(function(){u.revokeObjectURL(f)},4e4)}});/**
 * A class to parse color values
 * @author Stoyan Stefanov <sstoo@gmail.com>
 * {@link   http://www.phpied.com/rgb-color-parser-in-javascript/}
 * @license Use it if you like it
 */function HB(e){var t;e=e||"",this.ok=!1,e.charAt(0)=="#"&&(e=e.substr(1,6)),e={aliceblue:"f0f8ff",antiquewhite:"faebd7",aqua:"00ffff",aquamarine:"7fffd4",azure:"f0ffff",beige:"f5f5dc",bisque:"ffe4c4",black:"000000",blanchedalmond:"ffebcd",blue:"0000ff",blueviolet:"8a2be2",brown:"a52a2a",burlywood:"deb887",cadetblue:"5f9ea0",chartreuse:"7fff00",chocolate:"d2691e",coral:"ff7f50",cornflowerblue:"6495ed",cornsilk:"fff8dc",crimson:"dc143c",cyan:"00ffff",darkblue:"00008b",darkcyan:"008b8b",darkgoldenrod:"b8860b",darkgray:"a9a9a9",darkgreen:"006400",darkkhaki:"bdb76b",darkmagenta:"8b008b",darkolivegreen:"556b2f",darkorange:"ff8c00",darkorchid:"9932cc",darkred:"8b0000",darksalmon:"e9967a",darkseagreen:"8fbc8f",darkslateblue:"483d8b",darkslategray:"2f4f4f",darkturquoise:"00ced1",darkviolet:"9400d3",deeppink:"ff1493",deepskyblue:"00bfff",dimgray:"696969",dodgerblue:"1e90ff",feldspar:"d19275",firebrick:"b22222",floralwhite:"fffaf0",forestgreen:"228b22",fuchsia:"ff00ff",gainsboro:"dcdcdc",ghostwhite:"f8f8ff",gold:"ffd700",goldenrod:"daa520",gray:"808080",green:"008000",greenyellow:"adff2f",honeydew:"f0fff0",hotpink:"ff69b4",indianred:"cd5c5c",indigo:"4b0082",ivory:"fffff0",khaki:"f0e68c",lavender:"e6e6fa",lavenderblush:"fff0f5",lawngreen:"7cfc00",lemonchiffon:"fffacd",lightblue:"add8e6",lightcoral:"f08080",lightcyan:"e0ffff",lightgoldenrodyellow:"fafad2",lightgrey:"d3d3d3",lightgreen:"90ee90",lightpink:"ffb6c1",lightsalmon:"ffa07a",lightseagreen:"20b2aa",lightskyblue:"87cefa",lightslateblue:"8470ff",lightslategray:"778899",lightsteelblue:"b0c4de",lightyellow:"ffffe0",lime:"00ff00",limegreen:"32cd32",linen:"faf0e6",magenta:"ff00ff",maroon:"800000",mediumaquamarine:"66cdaa",mediumblue:"0000cd",mediumorchid:"ba55d3",mediumpurple:"9370d8",mediumseagreen:"3cb371",mediumslateblue:"7b68ee",mediumspringgreen:"00fa9a",mediumturquoise:"48d1cc",mediumvioletred:"c71585",midnightblue:"191970",mintcream:"f5fffa",mistyrose:"ffe4e1",moccasin:"ffe4b5",navajowhite:"ffdead",navy:"000080",oldlace:"fdf5e6",olive:"808000",olivedrab:"6b8e23",orange:"ffa500",orangered:"ff4500",orchid:"da70d6",palegoldenrod:"eee8aa",palegreen:"98fb98",paleturquoise:"afeeee",palevioletred:"d87093",papayawhip:"ffefd5",peachpuff:"ffdab9",peru:"cd853f",pink:"ffc0cb",plum:"dda0dd",powderblue:"b0e0e6",purple:"800080",red:"ff0000",rosybrown:"bc8f8f",royalblue:"4169e1",saddlebrown:"8b4513",salmon:"fa8072",sandybrown:"f4a460",seagreen:"2e8b57",seashell:"fff5ee",sienna:"a0522d",silver:"c0c0c0",skyblue:"87ceeb",slateblue:"6a5acd",slategray:"708090",snow:"fffafa",springgreen:"00ff7f",steelblue:"4682b4",tan:"d2b48c",teal:"008080",thistle:"d8bfd8",tomato:"ff6347",turquoise:"40e0d0",violet:"ee82ee",violetred:"d02090",wheat:"f5deb3",white:"ffffff",whitesmoke:"f5f5f5",yellow:"ffff00",yellowgreen:"9acd32"}[e=(e=e.replace(/ /g,"")).toLowerCase()]||e;for(var r=[{re:/^rgb\((\d{1,3}),\s*(\d{1,3}),\s*(\d{1,3})\)$/,example:["rgb(123, 234, 45)","rgb(255,234,245)"],process:function(o){return[parseInt(o[1]),parseInt(o[2]),parseInt(o[3])]}},{re:/^(\w{2})(\w{2})(\w{2})$/,example:["#00ff00","336699"],process:function(o){return[parseInt(o[1],16),parseInt(o[2],16),parseInt(o[3],16)]}},{re:/^(\w{1})(\w{1})(\w{1})$/,example:["#fb0","f0f"],process:function(o){return[parseInt(o[1]+o[1],16),parseInt(o[2]+o[2],16),parseInt(o[3]+o[3],16)]}}],n=0;n<r.length;n++){var a=r[n].re,i=r[n].process,l=a.exec(e);l&&(t=i(l),this.r=t[0],this.g=t[1],this.b=t[2],this.ok=!0)}this.r=this.r<0||isNaN(this.r)?0:this.r>255?255:this.r,this.g=this.g<0||isNaN(this.g)?0:this.g>255?255:this.g,this.b=this.b<0||isNaN(this.b)?0:this.b>255?255:this.b,this.toRGB=function(){return"rgb("+this.r+", "+this.g+", "+this.b+")"},this.toHex=function(){var o=this.r.toString(16),u=this.g.toString(16),f=this.b.toString(16);return o.length==1&&(o="0"+o),u.length==1&&(u="0"+u),f.length==1&&(f="0"+f),"#"+o+u+f}}var Iv=pr.atob.bind(pr),M7=pr.btoa.bind(pr);/**
 * @license
 * Joseph Myers does not specify a particular license for his work.
 *
 * Author: Joseph Myers
 * Accessed from: http://www.myersdaily.org/joseph/javascript/md5.js
 *
 * Modified by: Owen Leong
 */function T4(e,t){var r=e[0],n=e[1],a=e[2],i=e[3];r=xs(r,n,a,i,t[0],7,-680876936),i=xs(i,r,n,a,t[1],12,-389564586),a=xs(a,i,r,n,t[2],17,606105819),n=xs(n,a,i,r,t[3],22,-1044525330),r=xs(r,n,a,i,t[4],7,-176418897),i=xs(i,r,n,a,t[5],12,1200080426),a=xs(a,i,r,n,t[6],17,-1473231341),n=xs(n,a,i,r,t[7],22,-45705983),r=xs(r,n,a,i,t[8],7,1770035416),i=xs(i,r,n,a,t[9],12,-1958414417),a=xs(a,i,r,n,t[10],17,-42063),n=xs(n,a,i,r,t[11],22,-1990404162),r=xs(r,n,a,i,t[12],7,1804603682),i=xs(i,r,n,a,t[13],12,-40341101),a=xs(a,i,r,n,t[14],17,-1502002290),r=gs(r,n=xs(n,a,i,r,t[15],22,1236535329),a,i,t[1],5,-165796510),i=gs(i,r,n,a,t[6],9,-1069501632),a=gs(a,i,r,n,t[11],14,643717713),n=gs(n,a,i,r,t[0],20,-373897302),r=gs(r,n,a,i,t[5],5,-701558691),i=gs(i,r,n,a,t[10],9,38016083),a=gs(a,i,r,n,t[15],14,-660478335),n=gs(n,a,i,r,t[4],20,-405537848),r=gs(r,n,a,i,t[9],5,568446438),i=gs(i,r,n,a,t[14],9,-1019803690),a=gs(a,i,r,n,t[3],14,-187363961),n=gs(n,a,i,r,t[8],20,1163531501),r=gs(r,n,a,i,t[13],5,-1444681467),i=gs(i,r,n,a,t[2],9,-51403784),a=gs(a,i,r,n,t[7],14,1735328473),r=vs(r,n=gs(n,a,i,r,t[12],20,-1926607734),a,i,t[5],4,-378558),i=vs(i,r,n,a,t[8],11,-2022574463),a=vs(a,i,r,n,t[11],16,1839030562),n=vs(n,a,i,r,t[14],23,-35309556),r=vs(r,n,a,i,t[1],4,-1530992060),i=vs(i,r,n,a,t[4],11,1272893353),a=vs(a,i,r,n,t[7],16,-155497632),n=vs(n,a,i,r,t[10],23,-1094730640),r=vs(r,n,a,i,t[13],4,681279174),i=vs(i,r,n,a,t[0],11,-358537222),a=vs(a,i,r,n,t[3],16,-722521979),n=vs(n,a,i,r,t[6],23,76029189),r=vs(r,n,a,i,t[9],4,-640364487),i=vs(i,r,n,a,t[12],11,-421815835),a=vs(a,i,r,n,t[15],16,530742520),r=ys(r,n=vs(n,a,i,r,t[2],23,-995338651),a,i,t[0],6,-198630844),i=ys(i,r,n,a,t[7],10,1126891415),a=ys(a,i,r,n,t[14],15,-1416354905),n=ys(n,a,i,r,t[5],21,-57434055),r=ys(r,n,a,i,t[12],6,1700485571),i=ys(i,r,n,a,t[3],10,-1894986606),a=ys(a,i,r,n,t[10],15,-1051523),n=ys(n,a,i,r,t[1],21,-2054922799),r=ys(r,n,a,i,t[8],6,1873313359),i=ys(i,r,n,a,t[15],10,-30611744),a=ys(a,i,r,n,t[6],15,-1560198380),n=ys(n,a,i,r,t[13],21,1309151649),r=ys(r,n,a,i,t[4],6,-145523070),i=ys(i,r,n,a,t[11],10,-1120210379),a=ys(a,i,r,n,t[2],15,718787259),n=ys(n,a,i,r,t[9],21,-343485551),e[0]=Nd(r,e[0]),e[1]=Nd(n,e[1]),e[2]=Nd(a,e[2]),e[3]=Nd(i,e[3])}function J2(e,t,r,n,a,i){return t=Nd(Nd(t,e),Nd(n,i)),Nd(t<<a|t>>>32-a,r)}function xs(e,t,r,n,a,i,l){return J2(t&r|~t&n,e,t,a,i,l)}function gs(e,t,r,n,a,i,l){return J2(t&n|r&~n,e,t,a,i,l)}function vs(e,t,r,n,a,i,l){return J2(t^r^n,e,t,a,i,l)}function ys(e,t,r,n,a,i,l){return J2(r^(t|~n),e,t,a,i,l)}function VB(e){var t,r=e.length,n=[1732584193,-271733879,-1732584194,271733878];for(t=64;t<=e.length;t+=64)T4(n,T4e(e.substring(t-64,t)));e=e.substring(t-64);var a=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0];for(t=0;t<e.length;t++)a[t>>2]|=e.charCodeAt(t)<<(t%4<<3);if(a[t>>2]|=128<<(t%4<<3),t>55)for(T4(n,a),t=0;t<16;t++)a[t]=0;return a[14]=8*r,T4(n,a),n}function T4e(e){var t,r=[];for(t=0;t<64;t+=4)r[t>>2]=e.charCodeAt(t)+(e.charCodeAt(t+1)<<8)+(e.charCodeAt(t+2)<<16)+(e.charCodeAt(t+3)<<24);return r}var R7="0123456789abcdef".split("");function O4e(e){for(var t="",r=0;r<4;r++)t+=R7[e>>8*r+4&15]+R7[e>>8*r&15];return t}function D4e(e){return String.fromCharCode(255&e,(65280&e)>>8,(16711680&e)>>16,(4278190080&e)>>24)}function x_(e){return VB(e).map(D4e).join("")}var F4e=(function(e){for(var t=0;t<e.length;t++)e[t]=O4e(e[t]);return e.join("")})(VB("hello"))!="5d41402abc4b2a76b9719d911017c592";function Nd(e,t){if(F4e){var r=(65535&e)+(65535&t);return(e>>16)+(t>>16)+(r>>16)<<16|65535&r}return e+t&4294967295}/**
 * @license
 * FPDF is released under a permissive license: there is no usage restriction.
 * You may embed it freely in your application (commercial or not), with or
 * without modifications.
 *
 * Reference: http://www.fpdf.org/en/script/script37.php
 */function g_(e,t){var r,n,a,i;if(e!==r){for(var l=(a=e,i=1+(256/e.length|0),new Array(i+1).join(a)),o=[],u=0;u<256;u++)o[u]=u;var f=0;for(u=0;u<256;u++){var h=o[u];f=(f+h+l.charCodeAt(u))%256,o[u]=o[f],o[f]=h}r=e,n=o}else o=n;var m=t.length,g=0,x=0,b="";for(u=0;u<m;u++)x=(x+(h=o[g=(g+1)%256]))%256,o[g]=o[x],o[x]=h,l=o[(o[g]+o[x])%256],b+=String.fromCharCode(t.charCodeAt(u)^l);return b}/**
 * @license
 * Licensed under the MIT License.
 * http://opensource.org/licenses/mit-license
 * Author: Owen Leong (@owenl131)
 * Date: 15 Oct 2020
 * References:
 * https://www.cs.cmu.edu/~dst/Adobe/Gallery/anon21jul01-pdf-encryption.txt
 * https://github.com/foliojs/pdfkit/blob/master/lib/security.js
 * http://www.fpdf.org/en/script/script37.php
 */var I7={print:4,modify:8,copy:16,"annot-forms":32};function bm(e,t,r,n){this.v=1,this.r=2;var a=192;e.forEach(function(o){if(I7.perm!==void 0)throw new Error("Invalid permission: "+o);a+=I7[o]}),this.padding="(N^NuAd\0NV\b..\0h>/\fdSiz";var i=(t+this.padding).substr(0,32),l=(r+this.padding).substr(0,32);this.O=this.processOwnerPassword(i,l),this.P=-(1+(255^a)),this.encryptionKey=x_(i+this.O+this.lsbFirstWord(this.P)+this.hexToBytes(n)).substr(0,5),this.U=g_(this.encryptionKey,this.padding)}function wm(e){if(/[^\u0000-\u00ff]/.test(e))throw new Error("Invalid PDF Name Object: "+e+", Only accept ASCII characters.");for(var t="",r=e.length,n=0;n<r;n++){var a=e.charCodeAt(n);t+=a<33||a===35||a===37||a===40||a===41||a===47||a===60||a===62||a===91||a===93||a===123||a===125||a>126?"#"+("0"+a.toString(16)).slice(-2):e[n]}return t}function B7(e){if(Nn(e)!=="object")throw new Error("Invalid Context passed to initialize PubSub (jsPDF-module)");var t={};this.subscribe=function(r,n,a){if(a=a||!1,typeof r!="string"||typeof n!="function"||typeof a!="boolean")throw new Error("Invalid arguments passed to PubSub.subscribe (jsPDF-module)");t.hasOwnProperty(r)||(t[r]={});var i=Math.random().toString(35);return t[r][i]=[n,!!a],i},this.unsubscribe=function(r){for(var n in t)if(t[n][r])return delete t[n][r],Object.keys(t[n]).length===0&&delete t[n],!0;return!1},this.publish=function(r){if(t.hasOwnProperty(r)){var n=Array.prototype.slice.call(arguments,1),a=[];for(var i in t[r]){var l=t[r][i];try{l[0].apply(e,n)}catch(o){pr.console&&Rn.error("jsPDF PubSub Error",o.message,o)}l[1]&&a.push(i)}a.length&&a.forEach(this.unsubscribe)}},this.getTopics=function(){return t}}function Xy(e){if(!(this instanceof Xy))return new Xy(e);var t="opacity,stroke-opacity".split(",");for(var r in e)e.hasOwnProperty(r)&&t.indexOf(r)>=0&&(this[r]=e[r]);this.id="",this.objectNumber=-1}function WB(e,t){this.gState=e,this.matrix=t,this.id="",this.objectNumber=-1}function j0(e,t,r,n,a){if(!(this instanceof j0))return new j0(e,t,r,n,a);this.type=e==="axial"?2:3,this.coords=t,this.colors=r,WB.call(this,n,a)}function jm(e,t,r,n,a){if(!(this instanceof jm))return new jm(e,t,r,n,a);this.boundingBox=e,this.xStep=t,this.yStep=r,this.stream="",this.cloneIndex=0,WB.call(this,n,a)}function Kt(e){var t,r=typeof arguments[0]=="string"?arguments[0]:"p",n=arguments[1],a=arguments[2],i=arguments[3],l=[],o=1,u=16,f="S",h=null;Nn(e=e||{})==="object"&&(r=e.orientation,n=e.unit||n,a=e.format||a,i=e.compress||e.compressPdf||i,(h=e.encryption||null)!==null&&(h.userPassword=h.userPassword||"",h.ownerPassword=h.ownerPassword||"",h.userPermissions=h.userPermissions||[]),o=typeof e.userUnit=="number"?Math.abs(e.userUnit):1,e.precision!==void 0&&(t=e.precision),e.floatPrecision!==void 0&&(u=e.floatPrecision),f=e.defaultPathOperation||"S"),l=e.filters||(i===!0?["FlateEncode"]:l),n=n||"mm",r=(""+(r||"P")).toLowerCase();var m=e.putOnlyUsedFonts||!1,g={},x={internal:{},__private__:{}};x.__private__.PubSub=B7;var b="1.3",v=x.__private__.getPdfVersion=function(){return b};x.__private__.setPdfVersion=function(I){b=I};var w={a0:[2383.94,3370.39],a1:[1683.78,2383.94],a2:[1190.55,1683.78],a3:[841.89,1190.55],a4:[595.28,841.89],a5:[419.53,595.28],a6:[297.64,419.53],a7:[209.76,297.64],a8:[147.4,209.76],a9:[104.88,147.4],a10:[73.7,104.88],b0:[2834.65,4008.19],b1:[2004.09,2834.65],b2:[1417.32,2004.09],b3:[1000.63,1417.32],b4:[708.66,1000.63],b5:[498.9,708.66],b6:[354.33,498.9],b7:[249.45,354.33],b8:[175.75,249.45],b9:[124.72,175.75],b10:[87.87,124.72],c0:[2599.37,3676.54],c1:[1836.85,2599.37],c2:[1298.27,1836.85],c3:[918.43,1298.27],c4:[649.13,918.43],c5:[459.21,649.13],c6:[323.15,459.21],c7:[229.61,323.15],c8:[161.57,229.61],c9:[113.39,161.57],c10:[79.37,113.39],dl:[311.81,623.62],letter:[612,792],"government-letter":[576,756],legal:[612,1008],"junior-legal":[576,360],ledger:[1224,792],tabloid:[792,1224],"credit-card":[153,243]};x.__private__.getPageFormats=function(){return w};var N=x.__private__.getPageFormat=function(I){return w[I]};a=a||"a4";var E="compat",j="advanced",T=E;function O(){this.saveGraphicsState(),xe(new Xt(yt,0,0,-yt,0,tc()*yt).toString()+" cm"),this.setFontSize(this.getFontSize()/yt),f="n",T=j}function F(){this.restoreGraphicsState(),f="S",T=E}var D=x.__private__.combineFontStyleAndFontWeight=function(I,Q){if(I=="bold"&&Q=="normal"||I=="bold"&&Q==400||I=="normal"&&Q=="italic"||I=="bold"&&Q=="italic")throw new Error("Invalid Combination of fontweight and fontstyle");return Q&&(I=Q==400||Q==="normal"?I==="italic"?"italic":"normal":Q!=700&&Q!=="bold"||I!=="normal"?(Q==700?"bold":Q)+""+I:"bold"),I};x.advancedAPI=function(I){var Q=T===E;return Q&&O.call(this),typeof I!="function"||(I(this),Q&&F.call(this)),this},x.compatAPI=function(I){var Q=T===j;return Q&&F.call(this),typeof I!="function"||(I(this),Q&&O.call(this)),this},x.isAdvancedAPI=function(){return T===j};var L,B=function(I){if(T!==j)throw new Error(I+" is only available in 'advanced' API mode. You need to call advancedAPI() first.")},H=x.roundToPrecision=x.__private__.roundToPrecision=function(I,Q){var _e=t||Q;if(isNaN(I)||isNaN(_e))throw new Error("Invalid argument passed to jsPDF.roundToPrecision");return I.toFixed(_e).replace(/0+$/,"")};L=x.hpf=x.__private__.hpf=typeof u=="number"?function(I){if(isNaN(I))throw new Error("Invalid argument passed to jsPDF.hpf");return H(I,u)}:u==="smart"?function(I){if(isNaN(I))throw new Error("Invalid argument passed to jsPDF.hpf");return H(I,I>-1&&I<1?16:5)}:function(I){if(isNaN(I))throw new Error("Invalid argument passed to jsPDF.hpf");return H(I,16)};var P=x.f2=x.__private__.f2=function(I){if(isNaN(I))throw new Error("Invalid argument passed to jsPDF.f2");return H(I,2)},U=x.__private__.f3=function(I){if(isNaN(I))throw new Error("Invalid argument passed to jsPDF.f3");return H(I,3)},K=x.scale=x.__private__.scale=function(I){if(isNaN(I))throw new Error("Invalid argument passed to jsPDF.scale");return T===E?I*yt:T===j?I:void 0},ee=function(I){return K((function(Q){return T===E?tc()-Q:T===j?Q:void 0})(I))};x.__private__.setPrecision=x.setPrecision=function(I){typeof parseInt(I,10)=="number"&&(t=parseInt(I,10))};var me,ne="00000000000000000000000000000000",se=x.__private__.getFileId=function(){return ne},ye=x.__private__.setFileId=function(I){return ne=I!==void 0&&/^[a-fA-F0-9]{32}$/.test(I)?I.toUpperCase():ne.split("").map(function(){return"ABCDEF0123456789".charAt(Math.floor(16*Math.random()))}).join(""),h!==null&&(ga=new bm(h.userPermissions,h.userPassword,h.ownerPassword,ne)),ne};x.setFileId=function(I){return ye(I),this},x.getFileId=function(){return se()};var ce=x.__private__.convertDateToPDFDate=function(I){var Q=I.getTimezoneOffset(),_e=Q<0?"+":"-",ke=Math.floor(Math.abs(Q/60)),Fe=Math.abs(Q%60),rt=[_e,q(ke),"'",q(Fe),"'"].join("");return["D:",I.getFullYear(),q(I.getMonth()+1),q(I.getDate()),q(I.getHours()),q(I.getMinutes()),q(I.getSeconds()),rt].join("")},Se=x.__private__.convertPDFDateToDate=function(I){var Q=parseInt(I.substr(2,4),10),_e=parseInt(I.substr(6,2),10)-1,ke=parseInt(I.substr(8,2),10),Fe=parseInt(I.substr(10,2),10),rt=parseInt(I.substr(12,2),10),ct=parseInt(I.substr(14,2),10);return new Date(Q,_e,ke,Fe,rt,ct,0)},te=x.__private__.setCreationDate=function(I){var Q;if(I===void 0&&(I=new Date),I instanceof Date)Q=ce(I);else{if(!/^D:(20[0-2][0-9]|203[0-7]|19[7-9][0-9])(0[0-9]|1[0-2])([0-2][0-9]|3[0-1])(0[0-9]|1[0-9]|2[0-3])(0[0-9]|[1-5][0-9])(0[0-9]|[1-5][0-9])(\+0[0-9]|\+1[0-4]|-0[0-9]|-1[0-1])'(0[0-9]|[1-5][0-9])'?$/.test(I))throw new Error("Invalid argument passed to jsPDF.setCreationDate");Q=I}return me=Q},M=x.__private__.getCreationDate=function(I){var Q=me;return I==="jsDate"&&(Q=Se(me)),Q};x.setCreationDate=function(I){return te(I),this},x.getCreationDate=function(I){return M(I)};var R,q=x.__private__.padd2=function(I){return("0"+parseInt(I)).slice(-2)},W=x.__private__.padd2Hex=function(I){return("00"+(I=I.toString())).substr(I.length)},J=0,le=[],ue=[],X=0,ge=[],Te=[],Y=!1,We=ue;x.__private__.setCustomOutputDestination=function(I){Y=!0,We=I};var Ee=function(I){Y||(We=I)};x.__private__.resetCustomOutputDestination=function(){Y=!1,We=ue};var xe=x.__private__.out=function(I){return I=I.toString(),X+=I.length+1,We.push(I),We},dt=x.__private__.write=function(I){return xe(arguments.length===1?I.toString():Array.prototype.join.call(arguments," "))},Xe=x.__private__.getArrayBuffer=function(I){for(var Q=I.length,_e=new ArrayBuffer(Q),ke=new Uint8Array(_e);Q--;)ke[Q]=I.charCodeAt(Q);return _e},bt=[["Helvetica","helvetica","normal","WinAnsiEncoding"],["Helvetica-Bold","helvetica","bold","WinAnsiEncoding"],["Helvetica-Oblique","helvetica","italic","WinAnsiEncoding"],["Helvetica-BoldOblique","helvetica","bolditalic","WinAnsiEncoding"],["Courier","courier","normal","WinAnsiEncoding"],["Courier-Bold","courier","bold","WinAnsiEncoding"],["Courier-Oblique","courier","italic","WinAnsiEncoding"],["Courier-BoldOblique","courier","bolditalic","WinAnsiEncoding"],["Times-Roman","times","normal","WinAnsiEncoding"],["Times-Bold","times","bold","WinAnsiEncoding"],["Times-Italic","times","italic","WinAnsiEncoding"],["Times-BoldItalic","times","bolditalic","WinAnsiEncoding"],["ZapfDingbats","zapfdingbats","normal",null],["Symbol","symbol","normal",null]];x.__private__.getStandardFonts=function(){return bt};var lt=e.fontSize||16;x.__private__.setFontSize=x.setFontSize=function(I){return lt=T===j?I/yt:I,this};var Ct,xt=x.__private__.getFontSize=x.getFontSize=function(){return T===E?lt:lt*yt},Ke=e.R2L||!1;x.__private__.setR2L=x.setR2L=function(I){return Ke=I,this},x.__private__.getR2L=x.getR2L=function(){return Ke};var pt,Et=x.__private__.setZoomMode=function(I){if(/^(?:\d+\.\d*|\d*\.\d+|\d+)%$/.test(I))Ct=I;else if(isNaN(I)){if([void 0,null,"fullwidth","fullheight","fullpage","original"].indexOf(I)===-1)throw new Error('zoom must be Integer (e.g. 2), a percentage Value (e.g. 300%) or fullwidth, fullheight, fullpage, original. "'+I+'" is not recognized.');Ct=I}else Ct=parseInt(I,10)};x.__private__.getZoomMode=function(){return Ct};var zt,Gt=x.__private__.setPageMode=function(I){if([void 0,null,"UseNone","UseOutlines","UseThumbs","FullScreen"].indexOf(I)==-1)throw new Error('Page mode must be one of UseNone, UseOutlines, UseThumbs, or FullScreen. "'+I+'" is not recognized.');pt=I};x.__private__.getPageMode=function(){return pt};var Ar=x.__private__.setLayoutMode=function(I){if([void 0,null,"continuous","single","twoleft","tworight","two"].indexOf(I)==-1)throw new Error('Layout mode must be one of continuous, single, twoleft, tworight. "'+I+'" is not recognized.');zt=I};x.__private__.getLayoutMode=function(){return zt},x.__private__.setDisplayMode=x.setDisplayMode=function(I,Q,_e){return Et(I),Ar(Q),Gt(_e),this};var Lt={title:"",subject:"",author:"",keywords:"",creator:""};x.__private__.getDocumentProperty=function(I){if(Object.keys(Lt).indexOf(I)===-1)throw new Error("Invalid argument passed to jsPDF.getDocumentProperty");return Lt[I]},x.__private__.getDocumentProperties=function(){return Lt},x.__private__.setDocumentProperties=x.setProperties=x.setDocumentProperties=function(I){for(var Q in Lt)Lt.hasOwnProperty(Q)&&I[Q]&&(Lt[Q]=I[Q]);return this},x.__private__.setDocumentProperty=function(I,Q){if(Object.keys(Lt).indexOf(I)===-1)throw new Error("Invalid arguments passed to jsPDF.setDocumentProperty");return Lt[I]=Q};var Dt,yt,kt,_r,Zt,At={},er={},br=[],ar={},Er={},dr={},pn={},Un=null,qr=0,Yt=[],Fr=new B7(x),Rs=e.hotfixes||[],Qa={},al={},us=[],Xt=function I(Q,_e,ke,Fe,rt,ct){if(!(this instanceof I))return new I(Q,_e,ke,Fe,rt,ct);isNaN(Q)&&(Q=1),isNaN(_e)&&(_e=0),isNaN(ke)&&(ke=0),isNaN(Fe)&&(Fe=1),isNaN(rt)&&(rt=0),isNaN(ct)&&(ct=0),this._matrix=[Q,_e,ke,Fe,rt,ct]};Object.defineProperty(Xt.prototype,"sx",{get:function(){return this._matrix[0]},set:function(I){this._matrix[0]=I}}),Object.defineProperty(Xt.prototype,"shy",{get:function(){return this._matrix[1]},set:function(I){this._matrix[1]=I}}),Object.defineProperty(Xt.prototype,"shx",{get:function(){return this._matrix[2]},set:function(I){this._matrix[2]=I}}),Object.defineProperty(Xt.prototype,"sy",{get:function(){return this._matrix[3]},set:function(I){this._matrix[3]=I}}),Object.defineProperty(Xt.prototype,"tx",{get:function(){return this._matrix[4]},set:function(I){this._matrix[4]=I}}),Object.defineProperty(Xt.prototype,"ty",{get:function(){return this._matrix[5]},set:function(I){this._matrix[5]=I}}),Object.defineProperty(Xt.prototype,"a",{get:function(){return this._matrix[0]},set:function(I){this._matrix[0]=I}}),Object.defineProperty(Xt.prototype,"b",{get:function(){return this._matrix[1]},set:function(I){this._matrix[1]=I}}),Object.defineProperty(Xt.prototype,"c",{get:function(){return this._matrix[2]},set:function(I){this._matrix[2]=I}}),Object.defineProperty(Xt.prototype,"d",{get:function(){return this._matrix[3]},set:function(I){this._matrix[3]=I}}),Object.defineProperty(Xt.prototype,"e",{get:function(){return this._matrix[4]},set:function(I){this._matrix[4]=I}}),Object.defineProperty(Xt.prototype,"f",{get:function(){return this._matrix[5]},set:function(I){this._matrix[5]=I}}),Object.defineProperty(Xt.prototype,"rotation",{get:function(){return Math.atan2(this.shx,this.sx)}}),Object.defineProperty(Xt.prototype,"scaleX",{get:function(){return this.decompose().scale.sx}}),Object.defineProperty(Xt.prototype,"scaleY",{get:function(){return this.decompose().scale.sy}}),Object.defineProperty(Xt.prototype,"isIdentity",{get:function(){return this.sx===1&&this.shy===0&&this.shx===0&&this.sy===1&&this.tx===0&&this.ty===0}}),Xt.prototype.join=function(I){return[this.sx,this.shy,this.shx,this.sy,this.tx,this.ty].map(L).join(I)},Xt.prototype.multiply=function(I){var Q=I.sx*this.sx+I.shy*this.shx,_e=I.sx*this.shy+I.shy*this.sy,ke=I.shx*this.sx+I.sy*this.shx,Fe=I.shx*this.shy+I.sy*this.sy,rt=I.tx*this.sx+I.ty*this.shx+this.tx,ct=I.tx*this.shy+I.ty*this.sy+this.ty;return new Xt(Q,_e,ke,Fe,rt,ct)},Xt.prototype.decompose=function(){var I=this.sx,Q=this.shy,_e=this.shx,ke=this.sy,Fe=this.tx,rt=this.ty,ct=Math.sqrt(I*I+Q*Q),Bt=(I/=ct)*_e+(Q/=ct)*ke;_e-=I*Bt,ke-=Q*Bt;var Vt=Math.sqrt(_e*_e+ke*ke);return Bt/=Vt,I*(ke/=Vt)<Q*(_e/=Vt)&&(I=-I,Q=-Q,Bt=-Bt,ct=-ct),{scale:new Xt(ct,0,0,Vt,0,0),translate:new Xt(1,0,0,1,Fe,rt),rotate:new Xt(I,Q,-Q,I,0,0),skew:new Xt(1,0,Bt,1,0,0)}},Xt.prototype.toString=function(I){return this.join(" ")},Xt.prototype.inversed=function(){var I=this.sx,Q=this.shy,_e=this.shx,ke=this.sy,Fe=this.tx,rt=this.ty,ct=1/(I*ke-Q*_e),Bt=ke*ct,Vt=-Q*ct,cr=-_e*ct,xr=I*ct;return new Xt(Bt,Vt,cr,xr,-Bt*Fe-cr*rt,-Vt*Fe-xr*rt)},Xt.prototype.applyToPoint=function(I){var Q=I.x*this.sx+I.y*this.shx+this.tx,_e=I.x*this.shy+I.y*this.sy+this.ty;return new co(Q,_e)},Xt.prototype.applyToRectangle=function(I){var Q=this.applyToPoint(I),_e=this.applyToPoint(new co(I.x+I.w,I.y+I.h));return new Zo(Q.x,Q.y,_e.x-Q.x,_e.y-Q.y)},Xt.prototype.clone=function(){var I=this.sx,Q=this.shy,_e=this.shx,ke=this.sy,Fe=this.tx,rt=this.ty;return new Xt(I,Q,_e,ke,Fe,rt)},x.Matrix=Xt;var Ol=x.matrixMult=function(I,Q){return Q.multiply(I)},il=new Xt(1,0,0,1,0,0);x.unitMatrix=x.identityMatrix=il;var oi=function(I,Q){if(!Er[I]){var _e=(Q instanceof j0?"Sh":"P")+(Object.keys(ar).length+1).toString(10);Q.id=_e,Er[I]=_e,ar[_e]=Q,Fr.publish("addPattern",Q)}};x.ShadingPattern=j0,x.TilingPattern=jm,x.addShadingPattern=function(I,Q){return B("addShadingPattern()"),oi(I,Q),this},x.beginTilingPattern=function(I){B("beginTilingPattern()"),ju(I.boundingBox[0],I.boundingBox[1],I.boundingBox[2]-I.boundingBox[0],I.boundingBox[3]-I.boundingBox[1],I.matrix)},x.endTilingPattern=function(I,Q){B("endTilingPattern()"),Q.stream=Te[R].join(`
`),oi(I,Q),Fr.publish("endTilingPattern",Q),us.pop().restore()};var Vi,jn=x.__private__.newObject=function(){var I=ra();return re(I,!0),I},ra=x.__private__.newObjectDeferred=function(){return J++,le[J]=function(){return X},J},re=function(I,Q){return Q=typeof Q=="boolean"&&Q,le[I]=X,Q&&xe(I+" 0 obj"),I},Ne=x.__private__.newAdditionalObject=function(){var I={objId:ra(),content:""};return ge.push(I),I},de=ra(),he=ra(),ve=x.__private__.decodeColorString=function(I){var Q=I.split(" ");if(Q.length!==2||Q[1]!=="g"&&Q[1]!=="G")Q.length!==5||Q[4]!=="k"&&Q[4]!=="K"||(Q=[(1-Q[0])*(1-Q[3]),(1-Q[1])*(1-Q[3]),(1-Q[2])*(1-Q[3]),"r"]);else{var _e=parseFloat(Q[0]);Q=[_e,_e,_e,"r"]}for(var ke="#",Fe=0;Fe<3;Fe++)ke+=("0"+Math.floor(255*parseFloat(Q[Fe])).toString(16)).slice(-2);return ke},je=x.__private__.encodeColorString=function(I){var Q;typeof I=="string"&&(I={ch1:I});var _e=I.ch1,ke=I.ch2,Fe=I.ch3,rt=I.ch4,ct=I.pdfColorType==="draw"?["G","RG","K"]:["g","rg","k"];if(typeof _e=="string"&&_e.charAt(0)!=="#"){var Bt=new HB(_e);if(Bt.ok)_e=Bt.toHex();else if(!/^\d*\.?\d*$/.test(_e))throw new Error('Invalid color "'+_e+'" passed to jsPDF.encodeColorString.')}if(typeof _e=="string"&&/^#[0-9A-Fa-f]{3}$/.test(_e)&&(_e="#"+_e[1]+_e[1]+_e[2]+_e[2]+_e[3]+_e[3]),typeof _e=="string"&&/^#[0-9A-Fa-f]{6}$/.test(_e)){var Vt=parseInt(_e.substr(1),16);_e=Vt>>16&255,ke=Vt>>8&255,Fe=255&Vt}if(ke===void 0||rt===void 0&&_e===ke&&ke===Fe)Q=typeof _e=="string"?_e+" "+ct[0]:I.precision===2?P(_e/255)+" "+ct[0]:U(_e/255)+" "+ct[0];else if(rt===void 0||Nn(rt)==="object"){if(rt&&!isNaN(rt.a)&&rt.a===0)return["1.","1.","1.",ct[1]].join(" ");Q=typeof _e=="string"?[_e,ke,Fe,ct[1]].join(" "):I.precision===2?[P(_e/255),P(ke/255),P(Fe/255),ct[1]].join(" "):[U(_e/255),U(ke/255),U(Fe/255),ct[1]].join(" ")}else Q=typeof _e=="string"?[_e,ke,Fe,rt,ct[2]].join(" "):I.precision===2?[P(_e),P(ke),P(Fe),P(rt),ct[2]].join(" "):[U(_e),U(ke),U(Fe),U(rt),ct[2]].join(" ");return Q},Me=x.__private__.getFilters=function(){return l},Ye=x.__private__.putStream=function(I){var Q=(I=I||{}).data||"",_e=I.filters||Me(),ke=I.alreadyAppliedFilters||[],Fe=I.addLength1||!1,rt=Q.length,ct=I.objectId,Bt=function(Ua){return Ua};if(h!==null&&ct===void 0)throw new Error("ObjectId must be passed to putStream for file encryption");h!==null&&(Bt=ga.encryptor(ct,0));var Vt={};_e===!0&&(_e=["FlateEncode"]);var cr=I.additionalKeyValues||[],xr=(Vt=Kt.API.processDataByFilters!==void 0?Kt.API.processDataByFilters(Q,_e):{data:Q,reverseChain:[]}).reverseChain+(Array.isArray(ke)?ke.join(" "):ke.toString());if(Vt.data.length!==0&&(cr.push({key:"Length",value:Vt.data.length}),Fe===!0&&cr.push({key:"Length1",value:rt})),xr.length!=0)if(xr.split("/").length-1==1)cr.push({key:"Filter",value:xr});else{cr.push({key:"Filter",value:"["+xr+"]"});for(var Kr=0;Kr<cr.length;Kr+=1)if(cr[Kr].key==="DecodeParms"){for(var Vn=[],va=0;va<Vt.reverseChain.split("/").length-1;va+=1)Vn.push("null");Vn.push(cr[Kr].value),cr[Kr].value="["+Vn.join(" ")+"]"}}xe("<<");for(var Sn=0;Sn<cr.length;Sn++)xe("/"+cr[Sn].key+" "+cr[Sn].value);xe(">>"),Vt.data.length!==0&&(xe("stream"),xe(Bt(Vt.data)),xe("endstream"))},Ie=x.__private__.putPage=function(I){var Q=I.number,_e=I.data,ke=I.objId,Fe=I.contentsObjId;re(ke,!0),xe("<</Type /Page"),xe("/Parent "+I.rootDictionaryObjId+" 0 R"),xe("/Resources "+I.resourceDictionaryObjId+" 0 R"),xe("/MediaBox ["+parseFloat(L(I.mediaBox.bottomLeftX))+" "+parseFloat(L(I.mediaBox.bottomLeftY))+" "+L(I.mediaBox.topRightX)+" "+L(I.mediaBox.topRightY)+"]"),I.cropBox!==null&&xe("/CropBox ["+L(I.cropBox.bottomLeftX)+" "+L(I.cropBox.bottomLeftY)+" "+L(I.cropBox.topRightX)+" "+L(I.cropBox.topRightY)+"]"),I.bleedBox!==null&&xe("/BleedBox ["+L(I.bleedBox.bottomLeftX)+" "+L(I.bleedBox.bottomLeftY)+" "+L(I.bleedBox.topRightX)+" "+L(I.bleedBox.topRightY)+"]"),I.trimBox!==null&&xe("/TrimBox ["+L(I.trimBox.bottomLeftX)+" "+L(I.trimBox.bottomLeftY)+" "+L(I.trimBox.topRightX)+" "+L(I.trimBox.topRightY)+"]"),I.artBox!==null&&xe("/ArtBox ["+L(I.artBox.bottomLeftX)+" "+L(I.artBox.bottomLeftY)+" "+L(I.artBox.topRightX)+" "+L(I.artBox.topRightY)+"]"),typeof I.userUnit=="number"&&I.userUnit!==1&&xe("/UserUnit "+I.userUnit),Fr.publish("putPage",{objId:ke,pageContext:Yt[Q],pageNumber:Q,page:_e}),xe("/Contents "+Fe+" 0 R"),xe(">>"),xe("endobj");var rt=_e.join(`
`);return T===j&&(rt+=`
Q`),re(Fe,!0),Ye({data:rt,filters:Me(),objectId:Fe}),xe("endobj"),ke},Be=x.__private__.putPages=function(){var I,Q,_e=[];for(I=1;I<=qr;I++)Yt[I].objId=ra(),Yt[I].contentsObjId=ra();for(I=1;I<=qr;I++)_e.push(Ie({number:I,data:Te[I],objId:Yt[I].objId,contentsObjId:Yt[I].contentsObjId,mediaBox:Yt[I].mediaBox,cropBox:Yt[I].cropBox,bleedBox:Yt[I].bleedBox,trimBox:Yt[I].trimBox,artBox:Yt[I].artBox,userUnit:Yt[I].userUnit,rootDictionaryObjId:de,resourceDictionaryObjId:he}));re(de,!0),xe("<</Type /Pages");var ke="/Kids [";for(Q=0;Q<qr;Q++)ke+=_e[Q]+" 0 R ";xe(ke+"]"),xe("/Count "+qr),xe(">>"),xe("endobj"),Fr.publish("postPutPages")},ze=function(I){Fr.publish("putFont",{font:I,out:xe,newObject:jn,putStream:Ye}),I.isAlreadyPutted!==!0&&(I.objectNumber=jn(),xe("<<"),xe("/Type /Font"),xe("/BaseFont /"+wm(I.postScriptName)),xe("/Subtype /Type1"),typeof I.encoding=="string"&&xe("/Encoding /"+I.encoding),xe("/FirstChar 32"),xe("/LastChar 255"),xe(">>"),xe("endobj"))},ft=function(I){I.objectNumber=jn();var Q=[];Q.push({key:"Type",value:"/XObject"}),Q.push({key:"Subtype",value:"/Form"}),Q.push({key:"BBox",value:"["+[L(I.x),L(I.y),L(I.x+I.width),L(I.y+I.height)].join(" ")+"]"}),Q.push({key:"Matrix",value:"["+I.matrix.toString()+"]"});var _e=I.pages[1].join(`
`);Ye({data:_e,additionalKeyValues:Q,objectId:I.objectNumber}),xe("endobj")},gt=function(I,Q){Q||(Q=21);var _e=jn(),ke=(function(ct,Bt){var Vt,cr=[],xr=1/(Bt-1);for(Vt=0;Vt<1;Vt+=xr)cr.push(Vt);if(cr.push(1),ct[0].offset!=0){var Kr={offset:0,color:ct[0].color};ct.unshift(Kr)}if(ct[ct.length-1].offset!=1){var Vn={offset:1,color:ct[ct.length-1].color};ct.push(Vn)}for(var va="",Sn=0,Ua=0;Ua<cr.length;Ua++){for(Vt=cr[Ua];Vt>ct[Sn+1].offset;)Sn++;var Aa=ct[Sn].offset,ui=(Vt-Aa)/(ct[Sn+1].offset-Aa),ll=ct[Sn].color,fs=ct[Sn+1].color;va+=W(Math.round((1-ui)*ll[0]+ui*fs[0]).toString(16))+W(Math.round((1-ui)*ll[1]+ui*fs[1]).toString(16))+W(Math.round((1-ui)*ll[2]+ui*fs[2]).toString(16))}return va.trim()})(I.colors,Q),Fe=[];Fe.push({key:"FunctionType",value:"0"}),Fe.push({key:"Domain",value:"[0.0 1.0]"}),Fe.push({key:"Size",value:"["+Q+"]"}),Fe.push({key:"BitsPerSample",value:"8"}),Fe.push({key:"Range",value:"[0.0 1.0 0.0 1.0 0.0 1.0]"}),Fe.push({key:"Decode",value:"[0.0 1.0 0.0 1.0 0.0 1.0]"}),Ye({data:ke,additionalKeyValues:Fe,alreadyAppliedFilters:["/ASCIIHexDecode"],objectId:_e}),xe("endobj"),I.objectNumber=jn(),xe("<< /ShadingType "+I.type),xe("/ColorSpace /DeviceRGB");var rt="/Coords ["+L(parseFloat(I.coords[0]))+" "+L(parseFloat(I.coords[1]))+" ";I.type===2?rt+=L(parseFloat(I.coords[2]))+" "+L(parseFloat(I.coords[3])):rt+=L(parseFloat(I.coords[2]))+" "+L(parseFloat(I.coords[3]))+" "+L(parseFloat(I.coords[4]))+" "+L(parseFloat(I.coords[5])),xe(rt+="]"),I.matrix&&xe("/Matrix ["+I.matrix.toString()+"]"),xe("/Function "+_e+" 0 R"),xe("/Extend [true true]"),xe(">>"),xe("endobj")},St=function(I,Q){var _e=ra(),ke=jn();Q.push({resourcesOid:_e,objectOid:ke}),I.objectNumber=ke;var Fe=[];Fe.push({key:"Type",value:"/Pattern"}),Fe.push({key:"PatternType",value:"1"}),Fe.push({key:"PaintType",value:"1"}),Fe.push({key:"TilingType",value:"1"}),Fe.push({key:"BBox",value:"["+I.boundingBox.map(L).join(" ")+"]"}),Fe.push({key:"XStep",value:L(I.xStep)}),Fe.push({key:"YStep",value:L(I.yStep)}),Fe.push({key:"Resources",value:_e+" 0 R"}),I.matrix&&Fe.push({key:"Matrix",value:"["+I.matrix.toString()+"]"}),Ye({data:I.stream,additionalKeyValues:Fe,objectId:I.objectNumber}),xe("endobj")},mt=function(I){for(var Q in I.objectNumber=jn(),xe("<<"),I)switch(Q){case"opacity":xe("/ca "+P(I[Q]));break;case"stroke-opacity":xe("/CA "+P(I[Q]))}xe(">>"),xe("endobj")},Nt=function(I){re(I.resourcesOid,!0),xe("<<"),xe("/ProcSet [/PDF /Text /ImageB /ImageC /ImageI]"),(function(){for(var Q in xe("/Font <<"),At)At.hasOwnProperty(Q)&&(m===!1||m===!0&&g.hasOwnProperty(Q))&&xe("/"+Q+" "+At[Q].objectNumber+" 0 R");xe(">>")})(),(function(){if(Object.keys(ar).length>0){for(var Q in xe("/Shading <<"),ar)ar.hasOwnProperty(Q)&&ar[Q]instanceof j0&&ar[Q].objectNumber>=0&&xe("/"+Q+" "+ar[Q].objectNumber+" 0 R");Fr.publish("putShadingPatternDict"),xe(">>")}})(),(function(Q){if(Object.keys(ar).length>0){for(var _e in xe("/Pattern <<"),ar)ar.hasOwnProperty(_e)&&ar[_e]instanceof x.TilingPattern&&ar[_e].objectNumber>=0&&ar[_e].objectNumber<Q&&xe("/"+_e+" "+ar[_e].objectNumber+" 0 R");Fr.publish("putTilingPatternDict"),xe(">>")}})(I.objectOid),(function(){if(Object.keys(dr).length>0){var Q;for(Q in xe("/ExtGState <<"),dr)dr.hasOwnProperty(Q)&&dr[Q].objectNumber>=0&&xe("/"+Q+" "+dr[Q].objectNumber+" 0 R");Fr.publish("putGStateDict"),xe(">>")}})(),(function(){for(var Q in xe("/XObject <<"),Qa)Qa.hasOwnProperty(Q)&&Qa[Q].objectNumber>=0&&xe("/"+Q+" "+Qa[Q].objectNumber+" 0 R");Fr.publish("putXobjectDict"),xe(">>")})(),xe(">>"),xe("endobj")},Ft=function(I){er[I.fontName]=er[I.fontName]||{},er[I.fontName][I.fontStyle]=I.id},ln=function(I,Q,_e,ke,Fe){var rt={id:"F"+(Object.keys(At).length+1).toString(10),postScriptName:I,fontName:Q,fontStyle:_e,encoding:ke,isStandardFont:Fe||!1,metadata:{}};return Fr.publish("addFont",{font:rt,instance:this}),At[rt.id]=rt,Ft(rt),rt.id},Cr=x.__private__.pdfEscape=x.pdfEscape=function(I,Q){return(function(_e,ke){var Fe,rt,ct,Bt,Vt,cr,xr,Kr,Vn;if(ct=(ke=ke||{}).sourceEncoding||"Unicode",Vt=ke.outputEncoding,(ke.autoencode||Vt)&&At[Dt].metadata&&At[Dt].metadata[ct]&&At[Dt].metadata[ct].encoding&&(Bt=At[Dt].metadata[ct].encoding,!Vt&&At[Dt].encoding&&(Vt=At[Dt].encoding),!Vt&&Bt.codePages&&(Vt=Bt.codePages[0]),typeof Vt=="string"&&(Vt=Bt[Vt]),Vt)){for(xr=!1,cr=[],Fe=0,rt=_e.length;Fe<rt;Fe++)(Kr=Vt[_e.charCodeAt(Fe)])?cr.push(String.fromCharCode(Kr)):cr.push(_e[Fe]),cr[Fe].charCodeAt(0)>>8&&(xr=!0);_e=cr.join("")}for(Fe=_e.length;xr===void 0&&Fe!==0;)_e.charCodeAt(Fe-1)>>8&&(xr=!0),Fe--;if(!xr)return _e;for(cr=ke.noBOM?[]:[254,255],Fe=0,rt=_e.length;Fe<rt;Fe++){if((Vn=(Kr=_e.charCodeAt(Fe))>>8)>>8)throw new Error("Character at position "+Fe+" of string '"+_e+"' exceeds 16bits. Cannot be encoded into UCS-2 BE");cr.push(Vn),cr.push(Kr-(Vn<<8))}return String.fromCharCode.apply(void 0,cr)})(I,Q).replace(/\\/g,"\\\\").replace(/\(/g,"\\(").replace(/\)/g,"\\)")},fn=x.__private__.beginPage=function(I){Te[++qr]=[],Yt[qr]={objId:0,contentsObjId:0,userUnit:Number(o),artBox:null,bleedBox:null,cropBox:null,trimBox:null,mediaBox:{bottomLeftX:0,bottomLeftY:0,topRightX:Number(I[0]),topRightY:Number(I[1])}},Fl(qr),Ee(Te[R])},Wi=function(I,Q){var _e,ke,Fe;switch(r=Q||r,typeof I=="string"&&(_e=N(I.toLowerCase()),Array.isArray(_e)&&(ke=_e[0],Fe=_e[1])),Array.isArray(I)&&(ke=I[0]*yt,Fe=I[1]*yt),isNaN(ke)&&(ke=a[0],Fe=a[1]),(ke>14400||Fe>14400)&&(Rn.warn("A page in a PDF can not be wider or taller than 14400 userUnit. jsPDF limits the width/height to 14400"),ke=Math.min(14400,ke),Fe=Math.min(14400,Fe)),a=[ke,Fe],r.substr(0,1)){case"l":Fe>ke&&(a=[Fe,ke]);break;case"p":ke>Fe&&(a=[Fe,ke])}fn(a),Ic(bu),xe(zs),Lf!==0&&xe(Lf+" J"),Za!==0&&xe(Za+" j"),Fr.publish("addPage",{pageNumber:qr})},Dl=function(I){I>0&&I<=qr&&(Te.splice(I,1),Yt.splice(I,1),qr--,R>qr&&(R=qr),this.setPage(R))},Fl=function(I){I>0&&I<=qr&&(R=I)},Is=x.__private__.getNumberOfPages=x.getNumberOfPages=function(){return Te.length-1},Rc=function(I,Q,_e){var ke,Fe=void 0;return _e=_e||{},I=I!==void 0?I:At[Dt].fontName,Q=Q!==void 0?Q:At[Dt].fontStyle,ke=I.toLowerCase(),er[ke]!==void 0&&er[ke][Q]!==void 0?Fe=er[ke][Q]:er[I]!==void 0&&er[I][Q]!==void 0?Fe=er[I][Q]:_e.disableWarning===!1&&Rn.warn("Unable to look up font label for font '"+I+"', '"+Q+"'. Refer to getFontList() for available fonts."),Fe||_e.noFallback||(Fe=er.times[Q])==null&&(Fe=er.times.normal),Fe},Ba=x.__private__.putInfo=function(){var I=jn(),Q=function(ke){return ke};for(var _e in h!==null&&(Q=ga.encryptor(I,0)),xe("<<"),xe("/Producer ("+Cr(Q("jsPDF "+Kt.version))+")"),Lt)Lt.hasOwnProperty(_e)&&Lt[_e]&&xe("/"+_e.substr(0,1).toUpperCase()+_e.substr(1)+" ("+Cr(Q(Lt[_e]))+")");xe("/CreationDate ("+Cr(Q(me))+")"),xe(">>"),xe("endobj")},Ff=x.__private__.putCatalog=function(I){var Q=(I=I||{}).rootDictionaryObjId||de;switch(jn(),xe("<<"),xe("/Type /Catalog"),xe("/Pages "+Q+" 0 R"),Ct||(Ct="fullwidth"),Ct){case"fullwidth":xe("/OpenAction [3 0 R /FitH null]");break;case"fullheight":xe("/OpenAction [3 0 R /FitV null]");break;case"fullpage":xe("/OpenAction [3 0 R /Fit]");break;case"original":xe("/OpenAction [3 0 R /XYZ null null 1]");break;default:var _e=""+Ct;_e.substr(_e.length-1)==="%"&&(Ct=parseInt(Ct)/100),typeof Ct=="number"&&xe("/OpenAction [3 0 R /XYZ null null "+P(Ct)+"]")}switch(zt||(zt="continuous"),zt){case"continuous":xe("/PageLayout /OneColumn");break;case"single":xe("/PageLayout /SinglePage");break;case"two":case"twoleft":xe("/PageLayout /TwoColumnLeft");break;case"tworight":xe("/PageLayout /TwoColumnRight")}pt&&xe("/PageMode /"+pt),Fr.publish("putCatalog"),xe(">>"),xe("endobj")},dn=x.__private__.putTrailer=function(){xe("trailer"),xe("<<"),xe("/Size "+(J+1)),xe("/Root "+J+" 0 R"),xe("/Info "+(J-1)+" 0 R"),h!==null&&xe("/Encrypt "+ga.oid+" 0 R"),xe("/ID [ <"+ne+"> <"+ne+"> ]"),xe(">>")},Gi=x.__private__.putHeader=function(){xe("%PDF-"+b),xe("%")},Wd=x.__private__.putXRef=function(){var I="0000000000";xe("xref"),xe("0 "+(J+1)),xe("0000000000 65535 f ");for(var Q=1;Q<=J;Q++)typeof le[Q]=="function"?xe((I+le[Q]()).slice(-10)+" 00000 n "):le[Q]!==void 0?xe((I+le[Q]).slice(-10)+" 00000 n "):xe("0000000000 00000 n ")},Ko=x.__private__.buildDocument=function(){var I;J=0,X=0,ue=[],le=[],ge=[],de=ra(),he=ra(),Ee(ue),Fr.publish("buildDocument"),Gi(),Be(),(function(){Fr.publish("putAdditionalObjects");for(var _e=0;_e<ge.length;_e++){var ke=ge[_e];re(ke.objId,!0),xe(ke.content),xe("endobj")}Fr.publish("postPutAdditionalObjects")})(),I=[],(function(){for(var _e in At)At.hasOwnProperty(_e)&&(m===!1||m===!0&&g.hasOwnProperty(_e))&&ze(At[_e])})(),(function(){var _e;for(_e in dr)dr.hasOwnProperty(_e)&&mt(dr[_e])})(),(function(){for(var _e in Qa)Qa.hasOwnProperty(_e)&&ft(Qa[_e])})(),(function(_e){var ke;for(ke in ar)ar.hasOwnProperty(ke)&&(ar[ke]instanceof j0?gt(ar[ke]):ar[ke]instanceof jm&&St(ar[ke],_e))})(I),Fr.publish("putResources"),I.forEach(Nt),Nt({resourcesOid:he,objectOid:Number.MAX_SAFE_INTEGER}),Fr.publish("postPutResources"),h!==null&&(ga.oid=jn(),xe("<<"),xe("/Filter /Standard"),xe("/V "+ga.v),xe("/R "+ga.r),xe("/U <"+ga.toHexString(ga.U)+">"),xe("/O <"+ga.toHexString(ga.O)+">"),xe("/P "+ga.P),xe(">>"),xe("endobj")),Ba(),Ff();var Q=X;return Wd(),dn(),xe("startxref"),xe(""+Q),xe("%%EOF"),Ee(Te[R]),ue.join(`
`)},Yo=x.__private__.getBlob=function(I){return new Blob([Xe(I)],{type:"application/pdf"})},sl=x.output=x.__private__.output=(Vi=function(I,Q){switch(typeof(Q=Q||{})=="string"?Q={filename:Q}:Q.filename=Q.filename||"generated.pdf",I){case void 0:return Ko();case"save":x.save(Q.filename);break;case"arraybuffer":return Xe(Ko());case"blob":return Yo(Ko());case"bloburi":case"bloburl":if(pr.URL!==void 0&&typeof pr.URL.createObjectURL=="function")return pr.URL&&pr.URL.createObjectURL(Yo(Ko()))||void 0;Rn.warn("bloburl is not supported by your system, because URL.createObjectURL is not supported by your browser.");break;case"datauristring":case"dataurlstring":var _e="",ke=Ko();try{_e=M7(ke)}catch{_e=M7(unescape(encodeURIComponent(ke)))}return"data:application/pdf;filename="+Q.filename+";base64,"+_e;case"pdfobjectnewwindow":if(Object.prototype.toString.call(pr)==="[object Window]"){var Fe="https://cdnjs.cloudflare.com/ajax/libs/pdfobject/2.1.1/pdfobject.min.js",rt=' integrity="sha512-4ze/a9/4jqu+tX9dfOqJYSvyYd5M6qum/3HpCLr+/Jqf0whc37VUbkpNGHR7/8pSnCFw47T1fmIpwBV7UySh3g==" crossorigin="anonymous"';Q.pdfObjectUrl&&(Fe=Q.pdfObjectUrl,rt="");var ct='<html><style>html, body { padding: 0; margin: 0; } iframe { width: 100%; height: 100%; border: 0;}  </style><body><script src="'+Fe+'"'+rt+'><\/script><script >PDFObject.embed("'+this.output("dataurlstring")+'", '+JSON.stringify(Q)+");<\/script></body></html>",Bt=pr.open();return Bt!==null&&Bt.document.write(ct),Bt}throw new Error("The option pdfobjectnewwindow just works in a browser-environment.");case"pdfjsnewwindow":if(Object.prototype.toString.call(pr)==="[object Window]"){var Vt='<html><style>html, body { padding: 0; margin: 0; } iframe { width: 100%; height: 100%; border: 0;}  </style><body><iframe id="pdfViewer" src="'+(Q.pdfJsUrl||"examples/PDF.js/web/viewer.html")+"?file=&downloadName="+Q.filename+'" width="500px" height="400px" /></body></html>',cr=pr.open();if(cr!==null){cr.document.write(Vt);var xr=this;cr.document.documentElement.querySelector("#pdfViewer").onload=function(){cr.document.title=Q.filename,cr.document.documentElement.querySelector("#pdfViewer").contentWindow.PDFViewerApplication.open(xr.output("bloburl"))}}return cr}throw new Error("The option pdfjsnewwindow just works in a browser-environment.");case"dataurlnewwindow":if(Object.prototype.toString.call(pr)!=="[object Window]")throw new Error("The option dataurlnewwindow just works in a browser-environment.");var Kr='<html><style>html, body { padding: 0; margin: 0; } iframe { width: 100%; height: 100%; border: 0;}  </style><body><iframe src="'+this.output("datauristring",Q)+'"></iframe></body></html>',Vn=pr.open();if(Vn!==null&&(Vn.document.write(Kr),Vn.document.title=Q.filename),Vn||typeof safari>"u")return Vn;break;case"datauri":case"dataurl":return pr.document.location.href=this.output("datauristring",Q);default:return null}},Vi.foo=function(){try{return Vi.apply(this,arguments)}catch(_e){var I=_e.stack||"";~I.indexOf(" at ")&&(I=I.split(" at ")[1]);var Q="Error in function "+I.split(`
`)[0].split("<")[0]+": "+_e.message;if(!pr.console)throw new Error(Q);pr.console.error(Q,_e),pr.alert&&alert(Q)}},Vi.foo.bar=Vi,Vi.foo),lo=function(I){return Array.isArray(Rs)===!0&&Rs.indexOf(I)>-1};switch(n){case"pt":yt=1;break;case"mm":yt=72/25.4;break;case"cm":yt=72/2.54;break;case"in":yt=72;break;case"px":yt=lo("px_scaling")==1?.75:96/72;break;case"pc":case"em":yt=12;break;case"ex":yt=6;break;default:if(typeof n!="number")throw new Error("Invalid unit: "+n);yt=n}var ga=null;te(),ye();var Ti=x.__private__.getPageInfo=x.getPageInfo=function(I){if(isNaN(I)||I%1!=0)throw new Error("Invalid argument passed to jsPDF.getPageInfo");return{objId:Yt[I].objId,pageNumber:I,pageContext:Yt[I]}},Gd=x.__private__.getPageInfoByObjId=function(I){if(isNaN(I)||I%1!=0)throw new Error("Invalid argument passed to jsPDF.getPageInfoByObjId");for(var Q in Yt)if(Yt[Q].objId===I)break;return Ti(Q)},wh=x.__private__.getCurrentPageInfo=x.getCurrentPageInfo=function(){return{objId:Yt[R].objId,pageNumber:R,pageContext:Yt[R]}};x.addPage=function(){return Wi.apply(this,arguments),this},x.setPage=function(){return Fl.apply(this,arguments),Ee.call(this,Te[R]),this},x.insertPage=function(I){return this.addPage(),this.movePage(R,I),this},x.movePage=function(I,Q){var _e,ke;if(I>Q){_e=Te[I],ke=Yt[I];for(var Fe=I;Fe>Q;Fe--)Te[Fe]=Te[Fe-1],Yt[Fe]=Yt[Fe-1];Te[Q]=_e,Yt[Q]=ke,this.setPage(Q)}else if(I<Q){_e=Te[I],ke=Yt[I];for(var rt=I;rt<Q;rt++)Te[rt]=Te[rt+1],Yt[rt]=Yt[rt+1];Te[Q]=_e,Yt[Q]=ke,this.setPage(Q)}return this},x.deletePage=function(){return Dl.apply(this,arguments),this},x.__private__.text=x.text=function(I,Q,_e,ke,Fe){var rt,ct,Bt,Vt,cr,xr,Kr,Vn,va,Sn=(ke=ke||{}).scope||this;if(typeof I=="number"&&typeof Q=="number"&&(typeof _e=="string"||Array.isArray(_e))){var Ua=_e;_e=Q,Q=I,I=Ua}if(arguments[3]instanceof Xt==0?(Bt=arguments[4],Vt=arguments[5],Nn(Kr=arguments[3])==="object"&&Kr!==null||(typeof Bt=="string"&&(Vt=Bt,Bt=null),typeof Kr=="string"&&(Vt=Kr,Kr=null),typeof Kr=="number"&&(Bt=Kr,Kr=null),ke={flags:Kr,angle:Bt,align:Vt})):(B("The transform parameter of text() with a Matrix value"),va=Fe),isNaN(Q)||isNaN(_e)||I==null)throw new Error("Invalid arguments passed to jsPDF.text");if(I.length===0)return Sn;var Aa,ui="",ll=typeof ke.lineHeightFactor=="number"?ke.lineHeightFactor:Xo,fs=Sn.internal.scaleFactor;function Ch(Yr){return Yr=Yr.split("	").join(Array(ke.TabLen||9).join(" ")),Cr(Yr,Kr)}function Rf(Yr){for(var Ur,An=Yr.concat(),ba=[],yo=An.length;yo--;)typeof(Ur=An.shift())=="string"?ba.push(Ur):Array.isArray(Yr)&&(Ur.length===1||Ur[1]===void 0&&Ur[2]===void 0)?ba.push(Ur[0]):ba.push([Ur[0],Ur[1],Ur[2]]);return ba}function Au(Yr,Ur){var An;if(typeof Yr=="string")An=Ur(Yr)[0];else if(Array.isArray(Yr)){for(var ba,yo,Bl=Yr.concat(),Cu=[],a0=Bl.length;a0--;)typeof(ba=Bl.shift())=="string"?Cu.push(Ur(ba)[0]):Array.isArray(ba)&&typeof ba[0]=="string"&&(yo=Ur(ba[0],ba[1],ba[2]),Cu.push([yo[0],yo[1],yo[2]]));An=Cu}return An}var fo=!1,Ml=!0;if(typeof I=="string")fo=!0;else if(Array.isArray(I)){var Eu=I.concat();ct=[];for(var Uc,fi=Eu.length;fi--;)(typeof(Uc=Eu.shift())!="string"||Array.isArray(Uc)&&typeof Uc[0]!="string")&&(Ml=!1);fo=Ml}if(fo===!1)throw new Error('Type of text must be string or Array. "'+I+'" is not recognized.');typeof I=="string"&&(I=I.match(/[\r?\n]/)?I.split(/\r\n|\r|\n/g):[I]);var zc=lt/Sn.internal.scaleFactor,qc=zc*(ll-1);switch(ke.baseline){case"bottom":_e-=qc;break;case"top":_e+=zc-qc;break;case"hanging":_e+=zc-2*qc;break;case"middle":_e+=zc/2-qc}if((xr=ke.maxWidth||0)>0&&(typeof I=="string"?I=Sn.splitTextToSize(I,xr):Object.prototype.toString.call(I)==="[object Array]"&&(I=I.reduce(function(Yr,Ur){return Yr.concat(Sn.splitTextToSize(Ur,xr))},[]))),rt={text:I,x:Q,y:_e,options:ke,mutex:{pdfEscape:Cr,activeFontKey:Dt,fonts:At,activeFontSize:lt}},Fr.publish("preProcessText",rt),I=rt.text,Bt=(ke=rt.options).angle,va instanceof Xt==0&&Bt&&typeof Bt=="number"){Bt*=Math.PI/180,ke.rotationDirection===0&&(Bt=-Bt),T===j&&(Bt=-Bt);var If=Math.cos(Bt),ho=Math.sin(Bt);va=new Xt(If,ho,-ho,If,0,0)}else Bt&&Bt instanceof Xt&&(va=Bt);T!==j||va||(va=il),(cr=ke.charSpace||Qo)!==void 0&&(ui+=L(K(cr))+` Tc
`,this.setCharSpace(this.getCharSpace()||0)),(Vn=ke.horizontalScale)!==void 0&&(ui+=L(100*Vn)+` Tz
`),ke.lang;var na=-1,rc=ke.renderingMode!==void 0?ke.renderingMode:ke.stroke,Bf=Sn.internal.getCurrentPageInfo().pageContext;switch(rc){case 0:case!1:case"fill":na=0;break;case 1:case!0:case"stroke":na=1;break;case 2:case"fillThenStroke":na=2;break;case 3:case"invisible":na=3;break;case 4:case"fillAndAddForClipping":na=4;break;case 5:case"strokeAndAddPathForClipping":na=5;break;case 6:case"fillThenStrokeAndAddToPathForClipping":na=6;break;case 7:case"addToPathForClipping":na=7}var r0=Bf.usedRenderingMode!==void 0?Bf.usedRenderingMode:-1;na!==-1?ui+=na+` Tr
`:r0!==-1&&(ui+=`0 Tr
`),na!==-1&&(Bf.usedRenderingMode=na),Vt=ke.align||"left";var $s,Rl=lt*ll,nc=Sn.internal.pageSize.getWidth(),n0=At[Dt];cr=ke.charSpace||Qo,xr=ke.maxWidth||0,Kr=Object.assign({autoencode:!0,noBOM:!0},ke.flags);var Il=[],$c=function(Yr){return Sn.getStringUnitWidth(Yr,{font:n0,charSpace:cr,fontSize:lt,doKerning:!1})*lt/fs};if(Object.prototype.toString.call(I)==="[object Array]"){var ds;ct=Rf(I),Vt!=="left"&&($s=ct.map($c));var Yi,mo=0;if(Vt==="right"){Q-=$s[0],I=[],fi=ct.length;for(var po=0;po<fi;po++)po===0?(Yi=Us(Q),ds=ci(_e)):(Yi=K(mo-$s[po]),ds=-Rl),I.push([ct[po],Yi,ds]),mo=$s[po]}else if(Vt==="center"){Q-=$s[0]/2,I=[],fi=ct.length;for(var ac=0;ac<fi;ac++)ac===0?(Yi=Us(Q),ds=ci(_e)):(Yi=K((mo-$s[ac])/2),ds=-Rl),I.push([ct[ac],Yi,ds]),mo=$s[ac]}else if(Vt==="left"){I=[],fi=ct.length;for(var Uf=0;Uf<fi;Uf++)I.push(ct[Uf])}else if(Vt==="justify"&&n0.encoding==="Identity-H"){I=[],fi=ct.length,xr=xr!==0?xr:nc;for(var zf=0,ya=0;ya<fi;ya++)if(ds=ya===0?ci(_e):-Rl,Yi=ya===0?Us(Q):zf,ya<fi-1){var Th=K((xr-$s[ya])/(ct[ya].split(" ").length-1)),xo=ct[ya].split(" ");I.push([xo[0]+" ",Yi,ds]),zf=0;for(var go=1;go<xo.length;go++){var di=($c(xo[go-1]+" "+xo[go])-$c(xo[go]))*fs+Th;go==xo.length-1?I.push([xo[go],di,0]):I.push([xo[go]+" ",di,0]),zf-=di}}else I.push([ct[ya],Yi,ds]);I.push(["",zf,0])}else{if(Vt!=="justify")throw new Error('Unrecognized alignment option, use "left", "center", "right" or "justify".');for(I=[],fi=ct.length,xr=xr!==0?xr:nc,ya=0;ya<fi;ya++){ds=ya===0?ci(_e):-Rl,Yi=ya===0?Us(Q):0;var ic=ct[ya].split(" ").length-1,qf=ic>0?(xr-$s[ya])/ic:0;ya<fi-1?Il.push(L(K(qf))):Il.push(0),I.push([ct[ya],Yi,ds])}}}(typeof ke.R2L=="boolean"?ke.R2L:Ke)===!0&&(I=Au(I,function(Yr,Ur,An){return[Yr.split("").reverse().join(""),Ur,An]})),rt={text:I,x:Q,y:_e,options:ke,mutex:{pdfEscape:Cr,activeFontKey:Dt,fonts:At,activeFontSize:lt}},Fr.publish("postProcessText",rt),I=rt.text,Aa=rt.mutex.isHex||!1;var $f=At[Dt].encoding;$f!=="WinAnsiEncoding"&&$f!=="StandardEncoding"||(I=Au(I,function(Yr,Ur,An){return[Ch(Yr),Ur,An]})),ct=Rf(I),I=[];for(var sc,lc,vo,ku=Array.isArray(ct[0])?1:0,Hs="",oc=function(Yr,Ur,An){var ba="";return An instanceof Xt?(An=typeof ke.angle=="number"?Ol(An,new Xt(1,0,0,1,Yr,Ur)):Ol(new Xt(1,0,0,1,Yr,Ur),An),T===j&&(An=Ol(new Xt(1,0,0,-1,0,0),An)),ba=An.join(" ")+` Tm
`):ba=L(Yr)+" "+L(Ur)+` Td
`,ba},Oi=0;Oi<ct.length;Oi++){switch(Hs="",ku){case 1:vo=(Aa?"<":"(")+ct[Oi][0]+(Aa?">":")"),sc=parseFloat(ct[Oi][1]),lc=parseFloat(ct[Oi][2]);break;case 0:vo=(Aa?"<":"(")+ct[Oi]+(Aa?">":")"),sc=Us(Q),lc=ci(_e)}Il!==void 0&&Il[Oi]!==void 0&&(Hs=Il[Oi]+` Tw
`),Oi===0?I.push(Hs+oc(sc,lc,va)+vo):ku===0?I.push(Hs+vo):ku===1&&I.push(Hs+oc(sc,lc,va)+vo)}I=ku===0?I.join(` Tj
T* `):I.join(` Tj
`),I+=` Tj
`;var ol=`BT
/`;return ol+=Dt+" "+lt+` Tf
`,ol+=L(lt*ll)+` TL
`,ol+=oo+`
`,ol+=ui,ol+=I,xe(ol+="ET"),g[Dt]=!0,Sn};var Kd=x.__private__.clip=x.clip=function(I){return xe(I==="evenodd"?"W*":"W"),this};x.clipEvenOdd=function(){return Kd("evenodd")},x.__private__.discardPath=x.discardPath=function(){return xe("n"),this};var Ki=x.__private__.isValidStyle=function(I){var Q=!1;return[void 0,null,"S","D","F","DF","FD","f","f*","B","B*","n"].indexOf(I)!==-1&&(Q=!0),Q};x.__private__.setDefaultPathOperation=x.setDefaultPathOperation=function(I){return Ki(I)&&(f=I),this};var Yd=x.__private__.getStyle=x.getStyle=function(I){var Q=f;switch(I){case"D":case"S":Q="S";break;case"F":Q="f";break;case"FD":case"DF":Q="B";break;case"f":case"f*":case"B":case"B*":Q=I}return Q},Xd=x.close=function(){return xe("h"),this};x.stroke=function(){return xe("S"),this},x.fill=function(I){return Bs("f",I),this},x.fillEvenOdd=function(I){return Bs("f*",I),this},x.fillStroke=function(I){return Bs("B",I),this},x.fillStrokeEvenOdd=function(I){return Bs("B*",I),this};var Bs=function(I,Q){Nn(Q)==="object"?_h(Q,I):xe(I)},Qd=function(I){I===null||T===j&&I===void 0||(I=Yd(I),xe(I))};function Nh(I,Q,_e,ke,Fe){var rt=new jm(Q||this.boundingBox,_e||this.xStep,ke||this.yStep,this.gState,Fe||this.matrix);rt.stream=this.stream;var ct=I+"$$"+this.cloneIndex+++"$$";return oi(ct,rt),rt}var _h=function(I,Q){var _e=Er[I.key],ke=ar[_e];if(ke instanceof j0)xe("q"),xe(Zd(Q)),ke.gState&&x.setGState(ke.gState),xe(I.matrix.toString()+" cm"),xe("/"+_e+" sh"),xe("Q");else if(ke instanceof jm){var Fe=new Xt(1,0,0,-1,0,tc());I.matrix&&(Fe=Fe.multiply(I.matrix||il),_e=Nh.call(ke,I.key,I.boundingBox,I.xStep,I.yStep,Fe).id),xe("q"),xe("/Pattern cs"),xe("/"+_e+" scn"),ke.gState&&x.setGState(ke.gState),xe(Q),xe("Q")}},Zd=function(I){switch(I){case"f":case"F":case"n":return"W n";case"f*":return"W* n";case"B":case"S":return"W S";case"B*":return"W* S"}},Jd=x.moveTo=function(I,Q){return xe(L(K(I))+" "+L(ee(Q))+" m"),this},yu=x.lineTo=function(I,Q){return xe(L(K(I))+" "+L(ee(Q))+" l"),this},Pl=x.curveTo=function(I,Q,_e,ke,Fe,rt){return xe([L(K(I)),L(ee(Q)),L(K(_e)),L(ee(ke)),L(K(Fe)),L(ee(rt)),"c"].join(" ")),this};x.__private__.line=x.line=function(I,Q,_e,ke,Fe){if(isNaN(I)||isNaN(Q)||isNaN(_e)||isNaN(ke)||!Ki(Fe))throw new Error("Invalid arguments passed to jsPDF.line");return T===E?this.lines([[_e-I,ke-Q]],I,Q,[1,1],Fe||"S"):this.lines([[_e-I,ke-Q]],I,Q,[1,1]).stroke()},x.__private__.lines=x.lines=function(I,Q,_e,ke,Fe,rt){var ct,Bt,Vt,cr,xr,Kr,Vn,va,Sn,Ua,Aa,ui;if(typeof I=="number"&&(ui=_e,_e=Q,Q=I,I=ui),ke=ke||[1,1],rt=rt||!1,isNaN(Q)||isNaN(_e)||!Array.isArray(I)||!Array.isArray(ke)||!Ki(Fe)||typeof rt!="boolean")throw new Error("Invalid arguments passed to jsPDF.lines");for(Jd(Q,_e),ct=ke[0],Bt=ke[1],cr=I.length,Ua=Q,Aa=_e,Vt=0;Vt<cr;Vt++)(xr=I[Vt]).length===2?(Ua=xr[0]*ct+Ua,Aa=xr[1]*Bt+Aa,yu(Ua,Aa)):(Kr=xr[0]*ct+Ua,Vn=xr[1]*Bt+Aa,va=xr[2]*ct+Ua,Sn=xr[3]*Bt+Aa,Ua=xr[4]*ct+Ua,Aa=xr[5]*Bt+Aa,Pl(Kr,Vn,va,Sn,Ua,Aa));return rt&&Xd(),Qd(Fe),this},x.path=function(I){for(var Q=0;Q<I.length;Q++){var _e=I[Q],ke=_e.c;switch(_e.op){case"m":Jd(ke[0],ke[1]);break;case"l":yu(ke[0],ke[1]);break;case"c":Pl.apply(this,ke);break;case"h":Xd()}}return this},x.__private__.rect=x.rect=function(I,Q,_e,ke,Fe){if(isNaN(I)||isNaN(Q)||isNaN(_e)||isNaN(ke)||!Ki(Fe))throw new Error("Invalid arguments passed to jsPDF.rect");return T===E&&(ke=-ke),xe([L(K(I)),L(ee(Q)),L(K(_e)),L(K(ke)),"re"].join(" ")),Qd(Fe),this},x.__private__.triangle=x.triangle=function(I,Q,_e,ke,Fe,rt,ct){if(isNaN(I)||isNaN(Q)||isNaN(_e)||isNaN(ke)||isNaN(Fe)||isNaN(rt)||!Ki(ct))throw new Error("Invalid arguments passed to jsPDF.triangle");return this.lines([[_e-I,ke-Q],[Fe-_e,rt-ke],[I-Fe,Q-rt]],I,Q,[1,1],ct,!0),this},x.__private__.roundedRect=x.roundedRect=function(I,Q,_e,ke,Fe,rt,ct){if(isNaN(I)||isNaN(Q)||isNaN(_e)||isNaN(ke)||isNaN(Fe)||isNaN(rt)||!Ki(ct))throw new Error("Invalid arguments passed to jsPDF.roundedRect");var Bt=4/3*(Math.SQRT2-1);return Fe=Math.min(Fe,.5*_e),rt=Math.min(rt,.5*ke),this.lines([[_e-2*Fe,0],[Fe*Bt,0,Fe,rt-rt*Bt,Fe,rt],[0,ke-2*rt],[0,rt*Bt,-Fe*Bt,rt,-Fe,rt],[2*Fe-_e,0],[-Fe*Bt,0,-Fe,-rt*Bt,-Fe,-rt],[0,2*rt-ke],[0,-rt*Bt,Fe*Bt,-rt,Fe,-rt]],I+Fe,Q,[1,1],ct,!0),this},x.__private__.ellipse=x.ellipse=function(I,Q,_e,ke,Fe){if(isNaN(I)||isNaN(Q)||isNaN(_e)||isNaN(ke)||!Ki(Fe))throw new Error("Invalid arguments passed to jsPDF.ellipse");var rt=4/3*(Math.SQRT2-1)*_e,ct=4/3*(Math.SQRT2-1)*ke;return Jd(I+_e,Q),Pl(I+_e,Q-ct,I+rt,Q-ke,I,Q-ke),Pl(I-rt,Q-ke,I-_e,Q-ct,I-_e,Q),Pl(I-_e,Q+ct,I-rt,Q+ke,I,Q+ke),Pl(I+rt,Q+ke,I+_e,Q+ct,I+_e,Q),Qd(Fe),this},x.__private__.circle=x.circle=function(I,Q,_e,ke){if(isNaN(I)||isNaN(Q)||isNaN(_e)||!Ki(ke))throw new Error("Invalid arguments passed to jsPDF.circle");return this.ellipse(I,Q,_e,_e,ke)},x.setFont=function(I,Q,_e){return _e&&(Q=D(Q,_e)),Dt=Rc(I,Q,{disableWarning:!1}),this};var Ll=x.__private__.getFont=x.getFont=function(){return At[Rc.apply(x,arguments)]};x.__private__.getFontList=x.getFontList=function(){var I,Q,_e={};for(I in er)if(er.hasOwnProperty(I))for(Q in _e[I]=[],er[I])er[I].hasOwnProperty(Q)&&_e[I].push(Q);return _e},x.addFont=function(I,Q,_e,ke,Fe){var rt=["StandardEncoding","MacRomanEncoding","Identity-H","WinAnsiEncoding"];return arguments[3]&&rt.indexOf(arguments[3])!==-1?Fe=arguments[3]:arguments[3]&&rt.indexOf(arguments[3])==-1&&(_e=D(_e,ke)),ln.call(this,I,Q,_e,Fe=Fe||"Identity-H")};var Xo,bu=e.lineWidth||.200025,ir=x.__private__.getLineWidth=x.getLineWidth=function(){return bu},Ic=x.__private__.setLineWidth=x.setLineWidth=function(I){return bu=I,xe(L(K(I))+" w"),this};x.__private__.setLineDash=Kt.API.setLineDash=Kt.API.setLineDashPattern=function(I,Q){if(I=I||[],Q=Q||0,isNaN(Q)||!Array.isArray(I))throw new Error("Invalid arguments passed to jsPDF.setLineDash");return I=I.map(function(_e){return L(K(_e))}).join(" "),Q=L(K(Q)),xe("["+I+"] "+Q+" d"),this};var jh=x.__private__.getLineHeight=x.getLineHeight=function(){return lt*Xo};x.__private__.getLineHeight=x.getLineHeight=function(){return lt*Xo};var e0=x.__private__.setLineHeightFactor=x.setLineHeightFactor=function(I){return typeof(I=I||1.15)=="number"&&(Xo=I),this},Sh=x.__private__.getLineHeightFactor=x.getLineHeightFactor=function(){return Xo};e0(e.lineHeight);var Us=x.__private__.getHorizontalCoordinate=function(I){return K(I)},ci=x.__private__.getVerticalCoordinate=function(I){return T===j?I:Yt[R].mediaBox.topRightY-Yt[R].mediaBox.bottomLeftY-K(I)},t0=x.__private__.getHorizontalCoordinateString=x.getHorizontalCoordinateString=function(I){return L(Us(I))},wu=x.__private__.getVerticalCoordinateString=x.getVerticalCoordinateString=function(I){return L(ci(I))},zs=e.strokeColor||"0 G";x.__private__.getStrokeColor=x.getDrawColor=function(){return ve(zs)},x.__private__.setStrokeColor=x.setDrawColor=function(I,Q,_e,ke){return zs=je({ch1:I,ch2:Q,ch3:_e,ch4:ke,pdfColorType:"draw",precision:2}),xe(zs),this};var Nu=e.fillColor||"0 g";x.__private__.getFillColor=x.getFillColor=function(){return ve(Nu)},x.__private__.setFillColor=x.setFillColor=function(I,Q,_e,ke){return Nu=je({ch1:I,ch2:Q,ch3:_e,ch4:ke,pdfColorType:"fill",precision:2}),xe(Nu),this};var oo=e.textColor||"0 g",_u=x.__private__.getTextColor=x.getTextColor=function(){return ve(oo)};x.__private__.setTextColor=x.setTextColor=function(I,Q,_e,ke){return oo=je({ch1:I,ch2:Q,ch3:_e,ch4:ke,pdfColorType:"text",precision:3}),this};var Qo=e.charSpace,Pf=x.__private__.getCharSpace=x.getCharSpace=function(){return parseFloat(Qo||0)};x.__private__.setCharSpace=x.setCharSpace=function(I){if(isNaN(I))throw new Error("Invalid argument passed to jsPDF.setCharSpace");return Qo=I,this};var Lf=0;x.CapJoinStyles={0:0,butt:0,but:0,miter:0,1:1,round:1,rounded:1,circle:1,2:2,projecting:2,project:2,square:2,bevel:2},x.__private__.setLineCap=x.setLineCap=function(I){var Q=x.CapJoinStyles[I];if(Q===void 0)throw new Error("Line cap style of '"+I+"' is not recognized. See or extend .CapJoinStyles property for valid styles");return Lf=Q,xe(Q+" J"),this};var Za=0;x.__private__.setLineJoin=x.setLineJoin=function(I){var Q=x.CapJoinStyles[I];if(Q===void 0)throw new Error("Line join style of '"+I+"' is not recognized. See or extend .CapJoinStyles property for valid styles");return Za=Q,xe(Q+" j"),this},x.__private__.setLineMiterLimit=x.__private__.setMiterLimit=x.setLineMiterLimit=x.setMiterLimit=function(I){if(I=I||0,isNaN(I))throw new Error("Invalid argument passed to jsPDF.setLineMiterLimit");return xe(L(K(I))+" M"),this},x.GState=Xy,x.setGState=function(I){(I=typeof I=="string"?dr[pn[I]]:qs(null,I)).equals(Un)||(xe("/"+I.id+" gs"),Un=I)};var qs=function(I,Q){if(!I||!pn[I]){var _e=!1;for(var ke in dr)if(dr.hasOwnProperty(ke)&&dr[ke].equals(Q)){_e=!0;break}if(_e)Q=dr[ke];else{var Fe="GS"+(Object.keys(dr).length+1).toString(10);dr[Fe]=Q,Q.id=Fe}return I&&(pn[I]=Q.id),Fr.publish("addGState",Q),Q}};x.addGState=function(I,Q){return qs(I,Q),this},x.saveGraphicsState=function(){return xe("q"),br.push({key:Dt,size:lt,color:oo}),this},x.restoreGraphicsState=function(){xe("Q");var I=br.pop();return Dt=I.key,lt=I.size,oo=I.color,Un=null,this},x.setCurrentTransformationMatrix=function(I){return xe(I.toString()+" cm"),this},x.comment=function(I){return xe("#"+I),this};var co=function(I,Q){var _e=I||0;Object.defineProperty(this,"x",{enumerable:!0,get:function(){return _e},set:function(rt){isNaN(rt)||(_e=parseFloat(rt))}});var ke=Q||0;Object.defineProperty(this,"y",{enumerable:!0,get:function(){return ke},set:function(rt){isNaN(rt)||(ke=parseFloat(rt))}});var Fe="pt";return Object.defineProperty(this,"type",{enumerable:!0,get:function(){return Fe},set:function(rt){Fe=rt.toString()}}),this},Zo=function(I,Q,_e,ke){co.call(this,I,Q),this.type="rect";var Fe=_e||0;Object.defineProperty(this,"w",{enumerable:!0,get:function(){return Fe},set:function(ct){isNaN(ct)||(Fe=parseFloat(ct))}});var rt=ke||0;return Object.defineProperty(this,"h",{enumerable:!0,get:function(){return rt},set:function(ct){isNaN(ct)||(rt=parseFloat(ct))}}),this},Mf=function(){this.page=qr,this.currentPage=R,this.pages=Te.slice(0),this.pagesContext=Yt.slice(0),this.x=kt,this.y=_r,this.matrix=Zt,this.width=Bc(R),this.height=uo(R),this.outputDestination=We,this.id="",this.objectNumber=-1};Mf.prototype.restore=function(){qr=this.page,R=this.currentPage,Yt=this.pagesContext,Te=this.pages,kt=this.x,_r=this.y,Zt=this.matrix,Su(R,this.width),ec(R,this.height),We=this.outputDestination};var ju=function(I,Q,_e,ke,Fe){us.push(new Mf),qr=R=0,Te=[],kt=I,_r=Q,Zt=Fe,fn([_e,ke])};for(var Jo in x.beginFormObject=function(I,Q,_e,ke,Fe){return ju(I,Q,_e,ke,Fe),this},x.endFormObject=function(I){return(function(Q){if(al[Q])us.pop().restore();else{var _e=new Mf,ke="Xo"+(Object.keys(Qa).length+1).toString(10);_e.id=ke,al[Q]=ke,Qa[ke]=_e,Fr.publish("addFormObject",_e),us.pop().restore()}})(I),this},x.doFormObject=function(I,Q){var _e=Qa[al[I]];return xe("q"),xe(Q.toString()+" cm"),xe("/"+_e.id+" Do"),xe("Q"),this},x.getFormObject=function(I){var Q=Qa[al[I]];return{x:Q.x,y:Q.y,width:Q.width,height:Q.height,matrix:Q.matrix}},x.save=function(I,Q){return I=I||"generated.pdf",(Q=Q||{}).returnPromise=Q.returnPromise||!1,Q.returnPromise===!1?(N0(Yo(Ko()),I),typeof N0.unload=="function"&&pr.setTimeout&&setTimeout(N0.unload,911),this):new Promise(function(_e,ke){try{var Fe=N0(Yo(Ko()),I);typeof N0.unload=="function"&&pr.setTimeout&&setTimeout(N0.unload,911),_e(Fe)}catch(rt){ke(rt.message)}})},Kt.API)Kt.API.hasOwnProperty(Jo)&&(Jo==="events"&&Kt.API.events.length?(function(I,Q){var _e,ke,Fe;for(Fe=Q.length-1;Fe!==-1;Fe--)_e=Q[Fe][0],ke=Q[Fe][1],I.subscribe.apply(I,[_e].concat(typeof ke=="function"?[ke]:ke))})(Fr,Kt.API.events):x[Jo]=Kt.API[Jo]);function Bc(I){return Yt[I].mediaBox.topRightX-Yt[I].mediaBox.bottomLeftX}function Su(I,Q){Yt[I].mediaBox.topRightX=Q+Yt[I].mediaBox.bottomLeftX}function uo(I){return Yt[I].mediaBox.topRightY-Yt[I].mediaBox.bottomLeftY}function ec(I,Q){Yt[I].mediaBox.topRightY=Q+Yt[I].mediaBox.bottomLeftY}var Ah=x.getPageWidth=function(I){return Bc(I=I||R)/yt},Eh=x.setPageWidth=function(I,Q){Su(I,Q*yt)},tc=x.getPageHeight=function(I){return uo(I=I||R)/yt},kh=x.setPageHeight=function(I,Q){ec(I,Q*yt)};return x.internal={pdfEscape:Cr,getStyle:Yd,getFont:Ll,getFontSize:xt,getCharSpace:Pf,getTextColor:_u,getLineHeight:jh,getLineHeightFactor:Sh,getLineWidth:ir,write:dt,getHorizontalCoordinate:Us,getVerticalCoordinate:ci,getCoordinateString:t0,getVerticalCoordinateString:wu,collections:{},newObject:jn,newAdditionalObject:Ne,newObjectDeferred:ra,newObjectDeferredBegin:re,getFilters:Me,putStream:Ye,events:Fr,scaleFactor:yt,pageSize:{getWidth:function(){return Ah(R)},setWidth:function(I){Eh(R,I)},getHeight:function(){return tc(R)},setHeight:function(I){kh(R,I)}},encryptionOptions:h,encryption:ga,getEncryptor:function(I){return h!==null?ga.encryptor(I,0):function(Q){return Q}},output:sl,getNumberOfPages:Is,pages:Te,out:xe,f2:P,f3:U,getPageInfo:Ti,getPageInfoByObjId:Gd,getCurrentPageInfo:wh,getPDFVersion:v,Point:co,Rectangle:Zo,Matrix:Xt,hasHotfix:lo},Object.defineProperty(x.internal.pageSize,"width",{get:function(){return Ah(R)},set:function(I){Eh(R,I)},enumerable:!0,configurable:!0}),Object.defineProperty(x.internal.pageSize,"height",{get:function(){return tc(R)},set:function(I){kh(R,I)},enumerable:!0,configurable:!0}),(function(I){for(var Q=0,_e=bt.length;Q<_e;Q++){var ke=ln.call(this,I[Q][0],I[Q][1],I[Q][2],bt[Q][3],!0);m===!1&&(g[ke]=!0);var Fe=I[Q][0].split("-");Ft({id:ke,fontName:Fe[0],fontStyle:Fe[1]||""})}Fr.publish("addFonts",{fonts:At,dictionary:er})}).call(x,bt),Dt="F1",Wi(a,r),Fr.publish("initialized"),x}bm.prototype.lsbFirstWord=function(e){return String.fromCharCode(255&e,e>>8&255,e>>16&255,e>>24&255)},bm.prototype.toHexString=function(e){return e.split("").map(function(t){return("0"+(255&t.charCodeAt(0)).toString(16)).slice(-2)}).join("")},bm.prototype.hexToBytes=function(e){for(var t=[],r=0;r<e.length;r+=2)t.push(String.fromCharCode(parseInt(e.substr(r,2),16)));return t.join("")},bm.prototype.processOwnerPassword=function(e,t){return g_(x_(t).substr(0,5),e)},bm.prototype.encryptor=function(e,t){var r=x_(this.encryptionKey+String.fromCharCode(255&e,e>>8&255,e>>16&255,255&t,t>>8&255)).substr(0,10);return function(n){return g_(r,n)}},Xy.prototype.equals=function(e){var t,r="id,objectNumber,equals";if(!e||Nn(e)!==Nn(this))return!1;var n=0;for(t in this)if(!(r.indexOf(t)>=0)){if(this.hasOwnProperty(t)&&!e.hasOwnProperty(t)||this[t]!==e[t])return!1;n++}for(t in e)e.hasOwnProperty(t)&&r.indexOf(t)<0&&n--;return n===0},Kt.API={events:[]},Kt.version="3.0.3";var Fa=Kt.API,RS=1,bh=function(e){return e.replace(/\\/g,"\\\\").replace(/\(/g,"\\(").replace(/\)/g,"\\)")},gm=function(e){return e.replace(/\\\\/g,"\\").replace(/\\\(/g,"(").replace(/\\\)/g,")")},yr=function(e){return e.toFixed(2)},xd=function(e){return e.toFixed(5)};Fa.__acroform__={};var Tl=function(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e},U7=function(e){return e*RS},lu=function(e){var t=new KB,r=$t.internal.getHeight(e)||0,n=$t.internal.getWidth(e)||0;return t.BBox=[0,0,Number(yr(n)),Number(yr(r))],t},P4e=Fa.__acroform__.setBit=function(e,t){if(e=e||0,t=t||0,isNaN(e)||isNaN(t))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.setBit");return e|1<<t},L4e=Fa.__acroform__.clearBit=function(e,t){if(e=e||0,t=t||0,isNaN(e)||isNaN(t))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.clearBit");return e&~(1<<t)},M4e=Fa.__acroform__.getBit=function(e,t){if(isNaN(e)||isNaN(t))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.getBit");return e&1<<t?1:0},Va=Fa.__acroform__.getBitForPdf=function(e,t){if(isNaN(e)||isNaN(t))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.getBitForPdf");return M4e(e,t-1)},Wa=Fa.__acroform__.setBitForPdf=function(e,t){if(isNaN(e)||isNaN(t))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.setBitForPdf");return P4e(e,t-1)},Ga=Fa.__acroform__.clearBitForPdf=function(e,t){if(isNaN(e)||isNaN(t))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.clearBitForPdf");return L4e(e,t-1)},R4e=Fa.__acroform__.calculateCoordinates=function(e,t){var r=t.internal.getHorizontalCoordinate,n=t.internal.getVerticalCoordinate,a=e[0],i=e[1],l=e[2],o=e[3],u={};return u.lowerLeft_X=r(a)||0,u.lowerLeft_Y=n(i+o)||0,u.upperRight_X=r(a+l)||0,u.upperRight_Y=n(i)||0,[Number(yr(u.lowerLeft_X)),Number(yr(u.lowerLeft_Y)),Number(yr(u.upperRight_X)),Number(yr(u.upperRight_Y))]},I4e=function(e){if(e.appearanceStreamContent)return e.appearanceStreamContent;if(e.V||e.DV){var t=[],r=e._V||e.DV,n=v_(e,r),a=e.scope.internal.getFont(e.fontName,e.fontStyle).id;t.push("/Tx BMC"),t.push("q"),t.push("BT"),t.push(e.scope.__private__.encodeColorString(e.color)),t.push("/"+a+" "+yr(n.fontSize)+" Tf"),t.push("1 0 0 1 0 0 Tm"),t.push(n.text),t.push("ET"),t.push("Q"),t.push("EMC");var i=lu(e);return i.scope=e.scope,i.stream=t.join(`
`),i}},v_=function(e,t){var r=e.fontSize===0?e.maxFontSize:e.fontSize,n={text:"",fontSize:""},a=(t=(t=t.substr(0,1)=="("?t.substr(1):t).substr(t.length-1)==")"?t.substr(0,t.length-1):t).split(" ");a=e.multiline?a.map(function(P){return P.split(`
`)}):a.map(function(P){return[P]});var i=r,l=$t.internal.getHeight(e)||0;l=l<0?-l:l;var o=$t.internal.getWidth(e)||0;o=o<0?-o:o;var u=function(P,U,K){if(P+1<a.length){var ee=U+" "+a[P+1][0];return kv(ee,e,K).width<=o-4}return!1};i++;e:for(;i>0;){t="",i--;var f,h,m=kv("3",e,i).height,g=e.multiline?l-i:(l-m)/2,x=g+=2,b=0,v=0,w=0;if(i<=0){t=`(...) Tj
`,t+="% Width of Text: "+kv(t,e,i=12).width+", FieldWidth:"+o+`
`;break}for(var N="",E=0,j=0;j<a.length;j++)if(a.hasOwnProperty(j)){var T=!1;if(a[j].length!==1&&w!==a[j].length-1){if((m+2)*(E+2)+2>l)continue e;N+=a[j][w],T=!0,v=j,j--}else{N=(N+=a[j][w]+" ").substr(N.length-1)==" "?N.substr(0,N.length-1):N;var O=parseInt(j),F=u(O,N,i),D=j>=a.length-1;if(F&&!D){N+=" ",w=0;continue}if(F||D){if(D)v=O;else if(e.multiline&&(m+2)*(E+2)+2>l)continue e}else{if(!e.multiline||(m+2)*(E+2)+2>l)continue e;v=O}}for(var L="",B=b;B<=v;B++){var H=a[B];if(e.multiline){if(B===v){L+=H[w]+" ",w=(w+1)%H.length;continue}if(B===b){L+=H[H.length-1]+" ";continue}}L+=H[0]+" "}switch(L=L.substr(L.length-1)==" "?L.substr(0,L.length-1):L,h=kv(L,e,i).width,e.textAlign){case"right":f=o-h-2;break;case"center":f=(o-h)/2;break;default:f=2}t+=yr(f)+" "+yr(x)+` Td
`,t+="("+bh(L)+`) Tj
`,t+=-yr(f)+` 0 Td
`,x=-(i+2),h=0,b=T?v:v+1,E++,N=""}break}return n.text=t,n.fontSize=i,n},kv=function(e,t,r){var n=t.scope.internal.getFont(t.fontName,t.fontStyle),a=t.scope.getStringUnitWidth(e,{font:n,fontSize:parseFloat(r),charSpace:0})*parseFloat(r);return{height:t.scope.getStringUnitWidth("3",{font:n,fontSize:parseFloat(r),charSpace:0})*parseFloat(r)*1.5,width:a}},B4e={fields:[],xForms:[],acroFormDictionaryRoot:null,printedOut:!1,internal:null,isInitialized:!1},U4e=function(e,t){var r={type:"reference",object:e};t.internal.getPageInfo(e.page).pageContext.annotations.find(function(n){return n.type===r.type&&n.object===r.object})===void 0&&t.internal.getPageInfo(e.page).pageContext.annotations.push(r)},z4e=function(e,t){if(t.scope=e,e.internal!==void 0&&(e.internal.acroformPlugin===void 0||e.internal.acroformPlugin.isInitialized===!1)){if(Lc.FieldNum=0,e.internal.acroformPlugin=JSON.parse(JSON.stringify(B4e)),e.internal.acroformPlugin.acroFormDictionaryRoot)throw new Error("Exception while creating AcroformDictionary");RS=e.internal.scaleFactor,e.internal.acroformPlugin.acroFormDictionaryRoot=new YB,e.internal.acroformPlugin.acroFormDictionaryRoot.scope=e,e.internal.acroformPlugin.acroFormDictionaryRoot._eventID=e.internal.events.subscribe("postPutResources",function(){(function(r){r.internal.events.unsubscribe(r.internal.acroformPlugin.acroFormDictionaryRoot._eventID),delete r.internal.acroformPlugin.acroFormDictionaryRoot._eventID,r.internal.acroformPlugin.printedOut=!0})(e)}),e.internal.events.subscribe("buildDocument",function(){(function(r){r.internal.acroformPlugin.acroFormDictionaryRoot.objId=void 0;var n=r.internal.acroformPlugin.acroFormDictionaryRoot.Fields;for(var a in n)if(n.hasOwnProperty(a)){var i=n[a];i.objId=void 0,i.hasAnnotation&&U4e(i,r)}})(e)}),e.internal.events.subscribe("putCatalog",function(){(function(r){if(r.internal.acroformPlugin.acroFormDictionaryRoot===void 0)throw new Error("putCatalogCallback: Root missing.");r.internal.write("/AcroForm "+r.internal.acroformPlugin.acroFormDictionaryRoot.objId+" 0 R")})(e)}),e.internal.events.subscribe("postPutPages",function(r){(function(n,a){var i=!n;for(var l in n||(a.internal.newObjectDeferredBegin(a.internal.acroformPlugin.acroFormDictionaryRoot.objId,!0),a.internal.acroformPlugin.acroFormDictionaryRoot.putStream()),n=n||a.internal.acroformPlugin.acroFormDictionaryRoot.Kids)if(n.hasOwnProperty(l)){var o=n[l],u=[],f=o.Rect;if(o.Rect&&(o.Rect=R4e(o.Rect,a)),a.internal.newObjectDeferredBegin(o.objId,!0),o.DA=$t.createDefaultAppearanceStream(o),Nn(o)==="object"&&typeof o.getKeyValueListForStream=="function"&&(u=o.getKeyValueListForStream()),o.Rect=f,o.hasAppearanceStream&&!o.appearanceStreamContent){var h=I4e(o);u.push({key:"AP",value:"<</N "+h+">>"}),a.internal.acroformPlugin.xForms.push(h)}if(o.appearanceStreamContent){var m="";for(var g in o.appearanceStreamContent)if(o.appearanceStreamContent.hasOwnProperty(g)){var x=o.appearanceStreamContent[g];if(m+="/"+g+" ",m+="<<",Object.keys(x).length>=1||Array.isArray(x)){for(var l in x)if(x.hasOwnProperty(l)){var b=x[l];typeof b=="function"&&(b=b.call(a,o)),m+="/"+l+" "+b+" ",a.internal.acroformPlugin.xForms.indexOf(b)>=0||a.internal.acroformPlugin.xForms.push(b)}}else typeof(b=x)=="function"&&(b=b.call(a,o)),m+="/"+l+" "+b,a.internal.acroformPlugin.xForms.indexOf(b)>=0||a.internal.acroformPlugin.xForms.push(b);m+=">>"}u.push({key:"AP",value:`<<
`+m+">>"})}a.internal.putStream({additionalKeyValues:u,objectId:o.objId}),a.internal.out("endobj")}i&&(function(v,w){for(var N in v)if(v.hasOwnProperty(N)){var E=N,j=v[N];w.internal.newObjectDeferredBegin(j.objId,!0),Nn(j)==="object"&&typeof j.putStream=="function"&&j.putStream(),delete v[E]}})(a.internal.acroformPlugin.xForms,a)})(r,e)}),e.internal.acroformPlugin.isInitialized=!0}},GB=Fa.__acroform__.arrayToPdfArray=function(e,t,r){var n=function(l){return l};if(Array.isArray(e)){for(var a="[",i=0;i<e.length;i++)switch(i!==0&&(a+=" "),Nn(e[i])){case"boolean":case"number":case"object":a+=e[i].toString();break;case"string":e[i].substr(0,1)!=="/"?(t!==void 0&&r&&(n=r.internal.getEncryptor(t)),a+="("+bh(n(e[i].toString()))+")"):a+=e[i].toString()}return a+"]"}throw new Error("Invalid argument passed to jsPDF.__acroform__.arrayToPdfArray")},O4=function(e,t,r){var n=function(a){return a};return t!==void 0&&r&&(n=r.internal.getEncryptor(t)),(e=e||"").toString(),"("+bh(n(e))+")"},uu=function(){this._objId=void 0,this._scope=void 0,Object.defineProperty(this,"objId",{get:function(){if(this._objId===void 0){if(this.scope===void 0)return;this._objId=this.scope.internal.newObjectDeferred()}return this._objId},set:function(e){this._objId=e}}),Object.defineProperty(this,"scope",{value:this._scope,writable:!0})};uu.prototype.toString=function(){return this.objId+" 0 R"},uu.prototype.putStream=function(){var e=this.getKeyValueListForStream();this.scope.internal.putStream({data:this.stream,additionalKeyValues:e,objectId:this.objId}),this.scope.internal.out("endobj")},uu.prototype.getKeyValueListForStream=function(){var e=[],t=Object.getOwnPropertyNames(this).filter(function(i){return i!="content"&&i!="appearanceStreamContent"&&i!="scope"&&i!="objId"&&i.substring(0,1)!="_"});for(var r in t)if(Object.getOwnPropertyDescriptor(this,t[r]).configurable===!1){var n=t[r],a=this[n];a&&(Array.isArray(a)?e.push({key:n,value:GB(a,this.objId,this.scope)}):a instanceof uu?(a.scope=this.scope,e.push({key:n,value:a.objId+" 0 R"})):typeof a!="function"&&e.push({key:n,value:a}))}return e};var KB=function(){uu.call(this),Object.defineProperty(this,"Type",{value:"/XObject",configurable:!1,writable:!0}),Object.defineProperty(this,"Subtype",{value:"/Form",configurable:!1,writable:!0}),Object.defineProperty(this,"FormType",{value:1,configurable:!1,writable:!0});var e,t=[];Object.defineProperty(this,"BBox",{configurable:!1,get:function(){return t},set:function(r){t=r}}),Object.defineProperty(this,"Resources",{value:"2 0 R",configurable:!1,writable:!0}),Object.defineProperty(this,"stream",{enumerable:!1,configurable:!0,set:function(r){e=r.trim()},get:function(){return e||null}})};Tl(KB,uu);var YB=function(){uu.call(this);var e,t=[];Object.defineProperty(this,"Kids",{enumerable:!1,configurable:!0,get:function(){return t.length>0?t:void 0}}),Object.defineProperty(this,"Fields",{enumerable:!1,configurable:!1,get:function(){return t}}),Object.defineProperty(this,"DA",{enumerable:!1,configurable:!1,get:function(){if(e){var r=function(n){return n};return this.scope&&(r=this.scope.internal.getEncryptor(this.objId)),"("+bh(r(e))+")"}},set:function(r){e=r}})};Tl(YB,uu);var Lc=function e(){uu.call(this);var t=4;Object.defineProperty(this,"F",{enumerable:!1,configurable:!1,get:function(){return t},set:function(N){if(isNaN(N))throw new Error('Invalid value "'+N+'" for attribute F supplied.');t=N}}),Object.defineProperty(this,"showWhenPrinted",{enumerable:!0,configurable:!0,get:function(){return!!Va(t,3)},set:function(N){N?this.F=Wa(t,3):this.F=Ga(t,3)}});var r=0;Object.defineProperty(this,"Ff",{enumerable:!1,configurable:!1,get:function(){return r},set:function(N){if(isNaN(N))throw new Error('Invalid value "'+N+'" for attribute Ff supplied.');r=N}});var n=[];Object.defineProperty(this,"Rect",{enumerable:!1,configurable:!1,get:function(){if(n.length!==0)return n},set:function(N){n=N!==void 0?N:[]}}),Object.defineProperty(this,"x",{enumerable:!0,configurable:!0,get:function(){return!n||isNaN(n[0])?0:n[0]},set:function(N){n[0]=N}}),Object.defineProperty(this,"y",{enumerable:!0,configurable:!0,get:function(){return!n||isNaN(n[1])?0:n[1]},set:function(N){n[1]=N}}),Object.defineProperty(this,"width",{enumerable:!0,configurable:!0,get:function(){return!n||isNaN(n[2])?0:n[2]},set:function(N){n[2]=N}}),Object.defineProperty(this,"height",{enumerable:!0,configurable:!0,get:function(){return!n||isNaN(n[3])?0:n[3]},set:function(N){n[3]=N}});var a="";Object.defineProperty(this,"FT",{enumerable:!0,configurable:!1,get:function(){return a},set:function(N){switch(N){case"/Btn":case"/Tx":case"/Ch":case"/Sig":a=N;break;default:throw new Error('Invalid value "'+N+'" for attribute FT supplied.')}}});var i=null;Object.defineProperty(this,"T",{enumerable:!0,configurable:!1,get:function(){if(!i||i.length<1){if(this instanceof Qy)return;i="FieldObject"+e.FieldNum++}var N=function(E){return E};return this.scope&&(N=this.scope.internal.getEncryptor(this.objId)),"("+bh(N(i))+")"},set:function(N){i=N.toString()}}),Object.defineProperty(this,"fieldName",{configurable:!0,enumerable:!0,get:function(){return i},set:function(N){i=N}});var l="helvetica";Object.defineProperty(this,"fontName",{enumerable:!0,configurable:!0,get:function(){return l},set:function(N){l=N}});var o="normal";Object.defineProperty(this,"fontStyle",{enumerable:!0,configurable:!0,get:function(){return o},set:function(N){o=N}});var u=0;Object.defineProperty(this,"fontSize",{enumerable:!0,configurable:!0,get:function(){return u},set:function(N){u=N}});var f=void 0;Object.defineProperty(this,"maxFontSize",{enumerable:!0,configurable:!0,get:function(){return f===void 0?50/RS:f},set:function(N){f=N}});var h="black";Object.defineProperty(this,"color",{enumerable:!0,configurable:!0,get:function(){return h},set:function(N){h=N}});var m="/F1 0 Tf 0 g";Object.defineProperty(this,"DA",{enumerable:!0,configurable:!1,get:function(){if(!(!m||this instanceof Qy||this instanceof B0))return O4(m,this.objId,this.scope)},set:function(N){N=N.toString(),m=N}});var g=null;Object.defineProperty(this,"DV",{enumerable:!1,configurable:!1,get:function(){if(g)return this instanceof Bi==0?O4(g,this.objId,this.scope):g},set:function(N){N=N.toString(),g=this instanceof Bi==0?N.substr(0,1)==="("?gm(N.substr(1,N.length-2)):gm(N):N}}),Object.defineProperty(this,"defaultValue",{enumerable:!0,configurable:!0,get:function(){return this instanceof Bi==1?gm(g.substr(1,g.length-1)):g},set:function(N){N=N.toString(),g=this instanceof Bi==1?"/"+N:N}});var x=null;Object.defineProperty(this,"_V",{enumerable:!1,configurable:!1,get:function(){if(x)return x},set:function(N){this.V=N}}),Object.defineProperty(this,"V",{enumerable:!1,configurable:!1,get:function(){if(x)return this instanceof Bi==0?O4(x,this.objId,this.scope):x},set:function(N){N=N.toString(),x=this instanceof Bi==0?N.substr(0,1)==="("?gm(N.substr(1,N.length-2)):gm(N):N}}),Object.defineProperty(this,"value",{enumerable:!0,configurable:!0,get:function(){return this instanceof Bi==1?gm(x.substr(1,x.length-1)):x},set:function(N){N=N.toString(),x=this instanceof Bi==1?"/"+N:N}}),Object.defineProperty(this,"hasAnnotation",{enumerable:!0,configurable:!0,get:function(){return this.Rect}}),Object.defineProperty(this,"Type",{enumerable:!0,configurable:!1,get:function(){return this.hasAnnotation?"/Annot":null}}),Object.defineProperty(this,"Subtype",{enumerable:!0,configurable:!1,get:function(){return this.hasAnnotation?"/Widget":null}});var b,v=!1;Object.defineProperty(this,"hasAppearanceStream",{enumerable:!0,configurable:!0,get:function(){return v},set:function(N){N=!!N,v=N}}),Object.defineProperty(this,"page",{enumerable:!0,configurable:!0,get:function(){if(b)return b},set:function(N){b=N}}),Object.defineProperty(this,"readOnly",{enumerable:!0,configurable:!0,get:function(){return!!Va(this.Ff,1)},set:function(N){N?this.Ff=Wa(this.Ff,1):this.Ff=Ga(this.Ff,1)}}),Object.defineProperty(this,"required",{enumerable:!0,configurable:!0,get:function(){return!!Va(this.Ff,2)},set:function(N){N?this.Ff=Wa(this.Ff,2):this.Ff=Ga(this.Ff,2)}}),Object.defineProperty(this,"noExport",{enumerable:!0,configurable:!0,get:function(){return!!Va(this.Ff,3)},set:function(N){N?this.Ff=Wa(this.Ff,3):this.Ff=Ga(this.Ff,3)}});var w=null;Object.defineProperty(this,"Q",{enumerable:!0,configurable:!1,get:function(){if(w!==null)return w},set:function(N){if([0,1,2].indexOf(N)===-1)throw new Error('Invalid value "'+N+'" for attribute Q supplied.');w=N}}),Object.defineProperty(this,"textAlign",{get:function(){var N;switch(w){case 0:default:N="left";break;case 1:N="center";break;case 2:N="right"}return N},configurable:!0,enumerable:!0,set:function(N){switch(N){case"right":case 2:w=2;break;case"center":case 1:w=1;break;default:w=0}}})};Tl(Lc,uu);var Lm=function(){Lc.call(this),this.FT="/Ch",this.V="()",this.fontName="zapfdingbats";var e=0;Object.defineProperty(this,"TI",{enumerable:!0,configurable:!1,get:function(){return e},set:function(r){e=r}}),Object.defineProperty(this,"topIndex",{enumerable:!0,configurable:!0,get:function(){return e},set:function(r){e=r}});var t=[];Object.defineProperty(this,"Opt",{enumerable:!0,configurable:!1,get:function(){return GB(t,this.objId,this.scope)},set:function(r){var n,a;a=[],typeof(n=r)=="string"&&(a=(function(i,l,o){o||(o=1);for(var u,f=[];u=l.exec(i);)f.push(u[o]);return f})(n,/\((.*?)\)/g)),t=a}}),this.getOptions=function(){return t},this.setOptions=function(r){t=r,this.sort&&t.sort()},this.addOption=function(r){r=(r=r||"").toString(),t.push(r),this.sort&&t.sort()},this.removeOption=function(r,n){for(n=n||!1,r=(r=r||"").toString();t.indexOf(r)!==-1&&(t.splice(t.indexOf(r),1),n!==!1););},Object.defineProperty(this,"combo",{enumerable:!0,configurable:!0,get:function(){return!!Va(this.Ff,18)},set:function(r){r?this.Ff=Wa(this.Ff,18):this.Ff=Ga(this.Ff,18)}}),Object.defineProperty(this,"edit",{enumerable:!0,configurable:!0,get:function(){return!!Va(this.Ff,19)},set:function(r){this.combo===!0&&(r?this.Ff=Wa(this.Ff,19):this.Ff=Ga(this.Ff,19))}}),Object.defineProperty(this,"sort",{enumerable:!0,configurable:!0,get:function(){return!!Va(this.Ff,20)},set:function(r){r?(this.Ff=Wa(this.Ff,20),t.sort()):this.Ff=Ga(this.Ff,20)}}),Object.defineProperty(this,"multiSelect",{enumerable:!0,configurable:!0,get:function(){return!!Va(this.Ff,22)},set:function(r){r?this.Ff=Wa(this.Ff,22):this.Ff=Ga(this.Ff,22)}}),Object.defineProperty(this,"doNotSpellCheck",{enumerable:!0,configurable:!0,get:function(){return!!Va(this.Ff,23)},set:function(r){r?this.Ff=Wa(this.Ff,23):this.Ff=Ga(this.Ff,23)}}),Object.defineProperty(this,"commitOnSelChange",{enumerable:!0,configurable:!0,get:function(){return!!Va(this.Ff,27)},set:function(r){r?this.Ff=Wa(this.Ff,27):this.Ff=Ga(this.Ff,27)}}),this.hasAppearanceStream=!1};Tl(Lm,Lc);var Mm=function(){Lm.call(this),this.fontName="helvetica",this.combo=!1};Tl(Mm,Lm);var Rm=function(){Mm.call(this),this.combo=!0};Tl(Rm,Mm);var Bv=function(){Rm.call(this),this.edit=!0};Tl(Bv,Rm);var Bi=function(){Lc.call(this),this.FT="/Btn",Object.defineProperty(this,"noToggleToOff",{enumerable:!0,configurable:!0,get:function(){return!!Va(this.Ff,15)},set:function(r){r?this.Ff=Wa(this.Ff,15):this.Ff=Ga(this.Ff,15)}}),Object.defineProperty(this,"radio",{enumerable:!0,configurable:!0,get:function(){return!!Va(this.Ff,16)},set:function(r){r?this.Ff=Wa(this.Ff,16):this.Ff=Ga(this.Ff,16)}}),Object.defineProperty(this,"pushButton",{enumerable:!0,configurable:!0,get:function(){return!!Va(this.Ff,17)},set:function(r){r?this.Ff=Wa(this.Ff,17):this.Ff=Ga(this.Ff,17)}}),Object.defineProperty(this,"radioIsUnison",{enumerable:!0,configurable:!0,get:function(){return!!Va(this.Ff,26)},set:function(r){r?this.Ff=Wa(this.Ff,26):this.Ff=Ga(this.Ff,26)}});var e,t={};Object.defineProperty(this,"MK",{enumerable:!1,configurable:!1,get:function(){var r=function(i){return i};if(this.scope&&(r=this.scope.internal.getEncryptor(this.objId)),Object.keys(t).length!==0){var n,a=[];for(n in a.push("<<"),t)a.push("/"+n+" ("+bh(r(t[n]))+")");return a.push(">>"),a.join(`
`)}},set:function(r){Nn(r)==="object"&&(t=r)}}),Object.defineProperty(this,"caption",{enumerable:!0,configurable:!0,get:function(){return t.CA||""},set:function(r){typeof r=="string"&&(t.CA=r)}}),Object.defineProperty(this,"AS",{enumerable:!1,configurable:!1,get:function(){return e},set:function(r){e=r}}),Object.defineProperty(this,"appearanceState",{enumerable:!0,configurable:!0,get:function(){return e.substr(1,e.length-1)},set:function(r){e="/"+r}})};Tl(Bi,Lc);var Uv=function(){Bi.call(this),this.pushButton=!0};Tl(Uv,Bi);var Im=function(){Bi.call(this),this.radio=!0,this.pushButton=!1;var e=[];Object.defineProperty(this,"Kids",{enumerable:!0,configurable:!1,get:function(){return e},set:function(t){e=t!==void 0?t:[]}})};Tl(Im,Bi);var Qy=function(){var e,t;Lc.call(this),Object.defineProperty(this,"Parent",{enumerable:!1,configurable:!1,get:function(){return e},set:function(a){e=a}}),Object.defineProperty(this,"optionName",{enumerable:!1,configurable:!0,get:function(){return t},set:function(a){t=a}});var r,n={};Object.defineProperty(this,"MK",{enumerable:!1,configurable:!1,get:function(){var a=function(o){return o};this.scope&&(a=this.scope.internal.getEncryptor(this.objId));var i,l=[];for(i in l.push("<<"),n)l.push("/"+i+" ("+bh(a(n[i]))+")");return l.push(">>"),l.join(`
`)},set:function(a){Nn(a)==="object"&&(n=a)}}),Object.defineProperty(this,"caption",{enumerable:!0,configurable:!0,get:function(){return n.CA||""},set:function(a){typeof a=="string"&&(n.CA=a)}}),Object.defineProperty(this,"AS",{enumerable:!1,configurable:!1,get:function(){return r},set:function(a){r=a}}),Object.defineProperty(this,"appearanceState",{enumerable:!0,configurable:!0,get:function(){return r.substr(1,r.length-1)},set:function(a){r="/"+a}}),this.caption="l",this.appearanceState="Off",this._AppearanceType=$t.RadioButton.Circle,this.appearanceStreamContent=this._AppearanceType.createAppearanceStream(this.optionName)};Tl(Qy,Lc),Im.prototype.setAppearance=function(e){if(!("createAppearanceStream"in e)||!("getCA"in e))throw new Error("Couldn't assign Appearance to RadioButton. Appearance was Invalid!");for(var t in this.Kids)if(this.Kids.hasOwnProperty(t)){var r=this.Kids[t];r.appearanceStreamContent=e.createAppearanceStream(r.optionName),r.caption=e.getCA()}},Im.prototype.createOption=function(e){var t=new Qy;return t.Parent=this,t.optionName=e,this.Kids.push(t),q4e.call(this.scope,t),t};var zv=function(){Bi.call(this),this.fontName="zapfdingbats",this.caption="3",this.appearanceState="On",this.value="On",this.textAlign="center",this.appearanceStreamContent=$t.CheckBox.createAppearanceStream()};Tl(zv,Bi);var B0=function(){Lc.call(this),this.FT="/Tx",Object.defineProperty(this,"multiline",{enumerable:!0,configurable:!0,get:function(){return!!Va(this.Ff,13)},set:function(t){t?this.Ff=Wa(this.Ff,13):this.Ff=Ga(this.Ff,13)}}),Object.defineProperty(this,"fileSelect",{enumerable:!0,configurable:!0,get:function(){return!!Va(this.Ff,21)},set:function(t){t?this.Ff=Wa(this.Ff,21):this.Ff=Ga(this.Ff,21)}}),Object.defineProperty(this,"doNotSpellCheck",{enumerable:!0,configurable:!0,get:function(){return!!Va(this.Ff,23)},set:function(t){t?this.Ff=Wa(this.Ff,23):this.Ff=Ga(this.Ff,23)}}),Object.defineProperty(this,"doNotScroll",{enumerable:!0,configurable:!0,get:function(){return!!Va(this.Ff,24)},set:function(t){t?this.Ff=Wa(this.Ff,24):this.Ff=Ga(this.Ff,24)}}),Object.defineProperty(this,"comb",{enumerable:!0,configurable:!0,get:function(){return!!Va(this.Ff,25)},set:function(t){t?this.Ff=Wa(this.Ff,25):this.Ff=Ga(this.Ff,25)}}),Object.defineProperty(this,"richText",{enumerable:!0,configurable:!0,get:function(){return!!Va(this.Ff,26)},set:function(t){t?this.Ff=Wa(this.Ff,26):this.Ff=Ga(this.Ff,26)}});var e=null;Object.defineProperty(this,"MaxLen",{enumerable:!0,configurable:!1,get:function(){return e},set:function(t){e=t}}),Object.defineProperty(this,"maxLength",{enumerable:!0,configurable:!0,get:function(){return e},set:function(t){Number.isInteger(t)&&(e=t)}}),Object.defineProperty(this,"hasAppearanceStream",{enumerable:!0,configurable:!0,get:function(){return this.V||this.DV}})};Tl(B0,Lc);var qv=function(){B0.call(this),Object.defineProperty(this,"password",{enumerable:!0,configurable:!0,get:function(){return!!Va(this.Ff,14)},set:function(e){e?this.Ff=Wa(this.Ff,14):this.Ff=Ga(this.Ff,14)}}),this.password=!0};Tl(qv,B0);var $t={CheckBox:{createAppearanceStream:function(){return{N:{On:$t.CheckBox.YesNormal},D:{On:$t.CheckBox.YesPushDown,Off:$t.CheckBox.OffPushDown}}},YesPushDown:function(e){var t=lu(e);t.scope=e.scope;var r=[],n=e.scope.internal.getFont(e.fontName,e.fontStyle).id,a=e.scope.__private__.encodeColorString(e.color),i=v_(e,e.caption);return r.push("0.749023 g"),r.push("0 0 "+yr($t.internal.getWidth(e))+" "+yr($t.internal.getHeight(e))+" re"),r.push("f"),r.push("BMC"),r.push("q"),r.push("0 0 1 rg"),r.push("/"+n+" "+yr(i.fontSize)+" Tf "+a),r.push("BT"),r.push(i.text),r.push("ET"),r.push("Q"),r.push("EMC"),t.stream=r.join(`
`),t},YesNormal:function(e){var t=lu(e);t.scope=e.scope;var r=e.scope.internal.getFont(e.fontName,e.fontStyle).id,n=e.scope.__private__.encodeColorString(e.color),a=[],i=$t.internal.getHeight(e),l=$t.internal.getWidth(e),o=v_(e,e.caption);return a.push("1 g"),a.push("0 0 "+yr(l)+" "+yr(i)+" re"),a.push("f"),a.push("q"),a.push("0 0 1 rg"),a.push("0 0 "+yr(l-1)+" "+yr(i-1)+" re"),a.push("W"),a.push("n"),a.push("0 g"),a.push("BT"),a.push("/"+r+" "+yr(o.fontSize)+" Tf "+n),a.push(o.text),a.push("ET"),a.push("Q"),t.stream=a.join(`
`),t},OffPushDown:function(e){var t=lu(e);t.scope=e.scope;var r=[];return r.push("0.749023 g"),r.push("0 0 "+yr($t.internal.getWidth(e))+" "+yr($t.internal.getHeight(e))+" re"),r.push("f"),t.stream=r.join(`
`),t}},RadioButton:{Circle:{createAppearanceStream:function(e){var t={D:{Off:$t.RadioButton.Circle.OffPushDown},N:{}};return t.N[e]=$t.RadioButton.Circle.YesNormal,t.D[e]=$t.RadioButton.Circle.YesPushDown,t},getCA:function(){return"l"},YesNormal:function(e){var t=lu(e);t.scope=e.scope;var r=[],n=$t.internal.getWidth(e)<=$t.internal.getHeight(e)?$t.internal.getWidth(e)/4:$t.internal.getHeight(e)/4;n=Number((.9*n).toFixed(5));var a=$t.internal.Bezier_C,i=Number((n*a).toFixed(5));return r.push("q"),r.push("1 0 0 1 "+xd($t.internal.getWidth(e)/2)+" "+xd($t.internal.getHeight(e)/2)+" cm"),r.push(n+" 0 m"),r.push(n+" "+i+" "+i+" "+n+" 0 "+n+" c"),r.push("-"+i+" "+n+" -"+n+" "+i+" -"+n+" 0 c"),r.push("-"+n+" -"+i+" -"+i+" -"+n+" 0 -"+n+" c"),r.push(i+" -"+n+" "+n+" -"+i+" "+n+" 0 c"),r.push("f"),r.push("Q"),t.stream=r.join(`
`),t},YesPushDown:function(e){var t=lu(e);t.scope=e.scope;var r=[],n=$t.internal.getWidth(e)<=$t.internal.getHeight(e)?$t.internal.getWidth(e)/4:$t.internal.getHeight(e)/4;n=Number((.9*n).toFixed(5));var a=Number((2*n).toFixed(5)),i=Number((a*$t.internal.Bezier_C).toFixed(5)),l=Number((n*$t.internal.Bezier_C).toFixed(5));return r.push("0.749023 g"),r.push("q"),r.push("1 0 0 1 "+xd($t.internal.getWidth(e)/2)+" "+xd($t.internal.getHeight(e)/2)+" cm"),r.push(a+" 0 m"),r.push(a+" "+i+" "+i+" "+a+" 0 "+a+" c"),r.push("-"+i+" "+a+" -"+a+" "+i+" -"+a+" 0 c"),r.push("-"+a+" -"+i+" -"+i+" -"+a+" 0 -"+a+" c"),r.push(i+" -"+a+" "+a+" -"+i+" "+a+" 0 c"),r.push("f"),r.push("Q"),r.push("0 g"),r.push("q"),r.push("1 0 0 1 "+xd($t.internal.getWidth(e)/2)+" "+xd($t.internal.getHeight(e)/2)+" cm"),r.push(n+" 0 m"),r.push(n+" "+l+" "+l+" "+n+" 0 "+n+" c"),r.push("-"+l+" "+n+" -"+n+" "+l+" -"+n+" 0 c"),r.push("-"+n+" -"+l+" -"+l+" -"+n+" 0 -"+n+" c"),r.push(l+" -"+n+" "+n+" -"+l+" "+n+" 0 c"),r.push("f"),r.push("Q"),t.stream=r.join(`
`),t},OffPushDown:function(e){var t=lu(e);t.scope=e.scope;var r=[],n=$t.internal.getWidth(e)<=$t.internal.getHeight(e)?$t.internal.getWidth(e)/4:$t.internal.getHeight(e)/4;n=Number((.9*n).toFixed(5));var a=Number((2*n).toFixed(5)),i=Number((a*$t.internal.Bezier_C).toFixed(5));return r.push("0.749023 g"),r.push("q"),r.push("1 0 0 1 "+xd($t.internal.getWidth(e)/2)+" "+xd($t.internal.getHeight(e)/2)+" cm"),r.push(a+" 0 m"),r.push(a+" "+i+" "+i+" "+a+" 0 "+a+" c"),r.push("-"+i+" "+a+" -"+a+" "+i+" -"+a+" 0 c"),r.push("-"+a+" -"+i+" -"+i+" -"+a+" 0 -"+a+" c"),r.push(i+" -"+a+" "+a+" -"+i+" "+a+" 0 c"),r.push("f"),r.push("Q"),t.stream=r.join(`
`),t}},Cross:{createAppearanceStream:function(e){var t={D:{Off:$t.RadioButton.Cross.OffPushDown},N:{}};return t.N[e]=$t.RadioButton.Cross.YesNormal,t.D[e]=$t.RadioButton.Cross.YesPushDown,t},getCA:function(){return"8"},YesNormal:function(e){var t=lu(e);t.scope=e.scope;var r=[],n=$t.internal.calculateCross(e);return r.push("q"),r.push("1 1 "+yr($t.internal.getWidth(e)-2)+" "+yr($t.internal.getHeight(e)-2)+" re"),r.push("W"),r.push("n"),r.push(yr(n.x1.x)+" "+yr(n.x1.y)+" m"),r.push(yr(n.x2.x)+" "+yr(n.x2.y)+" l"),r.push(yr(n.x4.x)+" "+yr(n.x4.y)+" m"),r.push(yr(n.x3.x)+" "+yr(n.x3.y)+" l"),r.push("s"),r.push("Q"),t.stream=r.join(`
`),t},YesPushDown:function(e){var t=lu(e);t.scope=e.scope;var r=$t.internal.calculateCross(e),n=[];return n.push("0.749023 g"),n.push("0 0 "+yr($t.internal.getWidth(e))+" "+yr($t.internal.getHeight(e))+" re"),n.push("f"),n.push("q"),n.push("1 1 "+yr($t.internal.getWidth(e)-2)+" "+yr($t.internal.getHeight(e)-2)+" re"),n.push("W"),n.push("n"),n.push(yr(r.x1.x)+" "+yr(r.x1.y)+" m"),n.push(yr(r.x2.x)+" "+yr(r.x2.y)+" l"),n.push(yr(r.x4.x)+" "+yr(r.x4.y)+" m"),n.push(yr(r.x3.x)+" "+yr(r.x3.y)+" l"),n.push("s"),n.push("Q"),t.stream=n.join(`
`),t},OffPushDown:function(e){var t=lu(e);t.scope=e.scope;var r=[];return r.push("0.749023 g"),r.push("0 0 "+yr($t.internal.getWidth(e))+" "+yr($t.internal.getHeight(e))+" re"),r.push("f"),t.stream=r.join(`
`),t}}},createDefaultAppearanceStream:function(e){var t=e.scope.internal.getFont(e.fontName,e.fontStyle).id,r=e.scope.__private__.encodeColorString(e.color);return"/"+t+" "+e.fontSize+" Tf "+r}};$t.internal={Bezier_C:.551915024494,calculateCross:function(e){var t=$t.internal.getWidth(e),r=$t.internal.getHeight(e),n=Math.min(t,r);return{x1:{x:(t-n)/2,y:(r-n)/2+n},x2:{x:(t-n)/2+n,y:(r-n)/2},x3:{x:(t-n)/2,y:(r-n)/2},x4:{x:(t-n)/2+n,y:(r-n)/2+n}}}},$t.internal.getWidth=function(e){var t=0;return Nn(e)==="object"&&(t=U7(e.Rect[2])),t},$t.internal.getHeight=function(e){var t=0;return Nn(e)==="object"&&(t=U7(e.Rect[3])),t};var q4e=Fa.addField=function(e){if(z4e(this,e),!(e instanceof Lc))throw new Error("Invalid argument passed to jsPDF.addField.");var t;return(t=e).scope.internal.acroformPlugin.printedOut&&(t.scope.internal.acroformPlugin.printedOut=!1,t.scope.internal.acroformPlugin.acroFormDictionaryRoot=null),t.scope.internal.acroformPlugin.acroFormDictionaryRoot.Fields.push(t),e.page=e.scope.internal.getCurrentPageInfo().pageNumber,this};Fa.AcroFormChoiceField=Lm,Fa.AcroFormListBox=Mm,Fa.AcroFormComboBox=Rm,Fa.AcroFormEditBox=Bv,Fa.AcroFormButton=Bi,Fa.AcroFormPushButton=Uv,Fa.AcroFormRadioButton=Im,Fa.AcroFormCheckBox=zv,Fa.AcroFormTextField=B0,Fa.AcroFormPasswordField=qv,Fa.AcroFormAppearance=$t,Fa.AcroForm={ChoiceField:Lm,ListBox:Mm,ComboBox:Rm,EditBox:Bv,Button:Bi,PushButton:Uv,RadioButton:Im,CheckBox:zv,TextField:B0,PasswordField:qv,Appearance:$t},Kt.AcroForm={ChoiceField:Lm,ListBox:Mm,ComboBox:Rm,EditBox:Bv,Button:Bi,PushButton:Uv,RadioButton:Im,CheckBox:zv,TextField:B0,PasswordField:qv,Appearance:$t};Kt.AcroForm;function XB(e){return e.reduce(function(t,r,n){return t[r]=n,t},{})}(function(e){var t="addImage_";e.__addimage__={};var r="UNKNOWN",n={PNG:[[137,80,78,71]],TIFF:[[77,77,0,42],[73,73,42,0]],JPEG:[[255,216,255,224,void 0,void 0,74,70,73,70,0],[255,216,255,225,void 0,void 0,69,120,105,102,0,0],[255,216,255,219],[255,216,255,238]],JPEG2000:[[0,0,0,12,106,80,32,32]],GIF87a:[[71,73,70,56,55,97]],GIF89a:[[71,73,70,56,57,97]],WEBP:[[82,73,70,70,void 0,void 0,void 0,void 0,87,69,66,80]],BMP:[[66,77],[66,65],[67,73],[67,80],[73,67],[80,84]]},a=e.__addimage__.getImageFileTypeByImageData=function(P,U){var K,ee,me,ne,se,ye=r;if((U=U||r)==="RGBA"||P.data!==void 0&&P.data instanceof Uint8ClampedArray&&"height"in P&&"width"in P)return"RGBA";if(F(P))for(se in n)for(me=n[se],K=0;K<me.length;K+=1){for(ne=!0,ee=0;ee<me[K].length;ee+=1)if(me[K][ee]!==void 0&&me[K][ee]!==P[ee]){ne=!1;break}if(ne===!0){ye=se;break}}else for(se in n)for(me=n[se],K=0;K<me.length;K+=1){for(ne=!0,ee=0;ee<me[K].length;ee+=1)if(me[K][ee]!==void 0&&me[K][ee]!==P.charCodeAt(ee)){ne=!1;break}if(ne===!0){ye=se;break}}return ye===r&&U!==r&&(ye=U),ye},i=function P(U){for(var K=this.internal.write,ee=this.internal.putStream,me=(0,this.internal.getFilters)();me.indexOf("FlateEncode")!==-1;)me.splice(me.indexOf("FlateEncode"),1);U.objectId=this.internal.newObject();var ne=[];if(ne.push({key:"Type",value:"/XObject"}),ne.push({key:"Subtype",value:"/Image"}),ne.push({key:"Width",value:U.width}),ne.push({key:"Height",value:U.height}),U.colorSpace===N.INDEXED?ne.push({key:"ColorSpace",value:"[/Indexed /DeviceRGB "+(U.palette.length/3-1)+" "+("sMask"in U&&U.sMask!==void 0?U.objectId+2:U.objectId+1)+" 0 R]"}):(ne.push({key:"ColorSpace",value:"/"+U.colorSpace}),U.colorSpace===N.DEVICE_CMYK&&ne.push({key:"Decode",value:"[1 0 1 0 1 0 1 0]"})),ne.push({key:"BitsPerComponent",value:U.bitsPerComponent}),"decodeParameters"in U&&U.decodeParameters!==void 0&&ne.push({key:"DecodeParms",value:"<<"+U.decodeParameters+">>"}),"transparency"in U&&Array.isArray(U.transparency)&&U.transparency.length>0){for(var se="",ye=0,ce=U.transparency.length;ye<ce;ye++)se+=U.transparency[ye]+" "+U.transparency[ye]+" ";ne.push({key:"Mask",value:"["+se+"]"})}U.sMask!==void 0&&ne.push({key:"SMask",value:U.objectId+1+" 0 R"});var Se=U.filter!==void 0?["/"+U.filter]:void 0;if(ee({data:U.data,additionalKeyValues:ne,alreadyAppliedFilters:Se,objectId:U.objectId}),K("endobj"),"sMask"in U&&U.sMask!==void 0){var te,M=(te=U.sMaskBitsPerComponent)!==null&&te!==void 0?te:U.bitsPerComponent,R={width:U.width,height:U.height,colorSpace:"DeviceGray",bitsPerComponent:M,data:U.sMask};"filter"in U&&(R.decodeParameters="/Predictor ".concat(U.predictor," /Colors 1 /BitsPerComponent ").concat(M," /Columns ").concat(U.width),R.filter=U.filter),P.call(this,R)}if(U.colorSpace===N.INDEXED){var q=this.internal.newObject();ee({data:L(new Uint8Array(U.palette)),objectId:q}),K("endobj")}},l=function(){var P=this.internal.collections[t+"images"];for(var U in P)i.call(this,P[U])},o=function(){var P,U=this.internal.collections[t+"images"],K=this.internal.write;for(var ee in U)K("/I"+(P=U[ee]).index,P.objectId,"0","R")},u=function(){this.internal.collections[t+"images"]||(this.internal.collections[t+"images"]={},this.internal.events.subscribe("putResources",l),this.internal.events.subscribe("putXobjectDict",o))},f=function(){var P=this.internal.collections[t+"images"];return u.call(this),P},h=function(){return Object.keys(this.internal.collections[t+"images"]).length},m=function(P){return typeof e["process"+P.toUpperCase()]=="function"},g=function(P){return Nn(P)==="object"&&P.nodeType===1},x=function(P,U){if(P.nodeName==="IMG"&&P.hasAttribute("src")){var K=""+P.getAttribute("src");if(K.indexOf("data:image/")===0)return Iv(unescape(K).split("base64,").pop());var ee=e.loadFile(K,!0);if(ee!==void 0)return ee}if(P.nodeName==="CANVAS"){if(P.width===0||P.height===0)throw new Error("Given canvas must have data. Canvas width: "+P.width+", height: "+P.height);var me;switch(U){case"PNG":me="image/png";break;case"WEBP":me="image/webp";break;default:me="image/jpeg"}return Iv(P.toDataURL(me,1).split("base64,").pop())}},b=function(P){var U=this.internal.collections[t+"images"];if(U){for(var K in U)if(P===U[K].alias)return U[K]}},v=function(P,U,K){return P||U||(P=-96,U=-96),P<0&&(P=-1*K.width*72/P/this.internal.scaleFactor),U<0&&(U=-1*K.height*72/U/this.internal.scaleFactor),P===0&&(P=U*K.width/K.height),U===0&&(U=P*K.height/K.width),[P,U]},w=function(P,U,K,ee,me,ne){var se=v.call(this,K,ee,me),ye=this.internal.getCoordinateString,ce=this.internal.getVerticalCoordinateString,Se=f.call(this);if(K=se[0],ee=se[1],Se[me.index]=me,ne){ne*=Math.PI/180;var te=Math.cos(ne),M=Math.sin(ne),R=function(W){return W.toFixed(4)},q=[R(te),R(M),R(-1*M),R(te),0,0,"cm"]}this.internal.write("q"),ne?(this.internal.write([1,"0","0",1,ye(P),ce(U+ee),"cm"].join(" ")),this.internal.write(q.join(" ")),this.internal.write([ye(K),"0","0",ye(ee),"0","0","cm"].join(" "))):this.internal.write([ye(K),"0","0",ye(ee),ye(P),ce(U+ee),"cm"].join(" ")),this.isAdvancedAPI()&&this.internal.write([1,0,0,-1,0,0,"cm"].join(" ")),this.internal.write("/I"+me.index+" Do"),this.internal.write("Q")},N=e.color_spaces={DEVICE_RGB:"DeviceRGB",DEVICE_GRAY:"DeviceGray",DEVICE_CMYK:"DeviceCMYK",CAL_GREY:"CalGray",CAL_RGB:"CalRGB",LAB:"Lab",ICC_BASED:"ICCBased",INDEXED:"Indexed",PATTERN:"Pattern",SEPARATION:"Separation",DEVICE_N:"DeviceN"};e.decode={DCT_DECODE:"DCTDecode",FLATE_DECODE:"FlateDecode",LZW_DECODE:"LZWDecode",JPX_DECODE:"JPXDecode",JBIG2_DECODE:"JBIG2Decode",ASCII85_DECODE:"ASCII85Decode",ASCII_HEX_DECODE:"ASCIIHexDecode",RUN_LENGTH_DECODE:"RunLengthDecode",CCITT_FAX_DECODE:"CCITTFaxDecode"};var E=e.image_compression={NONE:"NONE",FAST:"FAST",MEDIUM:"MEDIUM",SLOW:"SLOW"},j=e.__addimage__.sHashCode=function(P){var U,K,ee=0;if(typeof P=="string")for(K=P.length,U=0;U<K;U++)ee=(ee<<5)-ee+P.charCodeAt(U),ee|=0;else if(F(P))for(K=P.byteLength/2,U=0;U<K;U++)ee=(ee<<5)-ee+P[U],ee|=0;return ee},T=e.__addimage__.validateStringAsBase64=function(P){(P=P||"").toString().trim();var U=!0;return P.length===0&&(U=!1),P.length%4!=0&&(U=!1),/^[A-Za-z0-9+/]+$/.test(P.substr(0,P.length-2))===!1&&(U=!1),/^[A-Za-z0-9/][A-Za-z0-9+/]|[A-Za-z0-9+/]=|==$/.test(P.substr(-2))===!1&&(U=!1),U},O=e.__addimage__.extractImageFromDataUrl=function(P){if(P==null||!(P=P.trim()).startsWith("data:"))return null;var U=P.indexOf(",");return U<0?null:P.substring(0,U).trim().endsWith("base64")?P.substring(U+1):null};e.__addimage__.isArrayBuffer=function(P){return P instanceof ArrayBuffer};var F=e.__addimage__.isArrayBufferView=function(P){return P instanceof Int8Array||P instanceof Uint8Array||P instanceof Uint8ClampedArray||P instanceof Int16Array||P instanceof Uint16Array||P instanceof Int32Array||P instanceof Uint32Array||P instanceof Float32Array||P instanceof Float64Array},D=e.__addimage__.binaryStringToUint8Array=function(P){for(var U=P.length,K=new Uint8Array(U),ee=0;ee<U;ee++)K[ee]=P.charCodeAt(ee);return K},L=e.__addimage__.arrayBufferToBinaryString=function(P){for(var U="",K=F(P)?P:new Uint8Array(P),ee=0;ee<K.length;ee+=8192)U+=String.fromCharCode.apply(null,K.subarray(ee,ee+8192));return U};e.addImage=function(){var P,U,K,ee,me,ne,se,ye,ce;if(typeof arguments[1]=="number"?(U=r,K=arguments[1],ee=arguments[2],me=arguments[3],ne=arguments[4],se=arguments[5],ye=arguments[6],ce=arguments[7]):(U=arguments[1],K=arguments[2],ee=arguments[3],me=arguments[4],ne=arguments[5],se=arguments[6],ye=arguments[7],ce=arguments[8]),Nn(P=arguments[0])==="object"&&!g(P)&&"imageData"in P){var Se=P;P=Se.imageData,U=Se.format||U||r,K=Se.x||K||0,ee=Se.y||ee||0,me=Se.w||Se.width||me,ne=Se.h||Se.height||ne,se=Se.alias||se,ye=Se.compression||ye,ce=Se.rotation||Se.angle||ce}var te=this.internal.getFilters();if(ye===void 0&&te.indexOf("FlateEncode")!==-1&&(ye="SLOW"),isNaN(K)||isNaN(ee))throw new Error("Invalid coordinates passed to jsPDF.addImage");u.call(this);var M=B.call(this,P,U,se,ye);return w.call(this,K,ee,me,ne,M,ce),this};var B=function(P,U,K,ee){var me,ne,se;if(typeof P=="string"&&a(P)===r){P=unescape(P);var ye=H(P,!1);(ye!==""||(ye=e.loadFile(P,!0))!==void 0)&&(P=ye)}if(g(P)&&(P=x(P,U)),U=a(P,U),!m(U))throw new Error("addImage does not support files of type '"+U+"', please ensure that a plugin for '"+U+"' support is added.");if(((se=K)==null||se.length===0)&&(K=(function(ce){return typeof ce=="string"||F(ce)?j(ce):F(ce.data)?j(ce.data):null})(P)),(me=b.call(this,K))||(P instanceof Uint8Array||U==="RGBA"||(ne=P,P=D(P)),me=this["process"+U.toUpperCase()](P,h.call(this),K,(function(ce){return ce&&typeof ce=="string"&&(ce=ce.toUpperCase()),ce in e.image_compression?ce:E.NONE})(ee),ne)),!me)throw new Error("An unknown error occurred whilst processing the image.");return me},H=e.__addimage__.convertBase64ToBinaryString=function(P,U){U=typeof U!="boolean"||U;var K,ee="";if(typeof P=="string"){var me;K=(me=O(P))!==null&&me!==void 0?me:P;try{ee=Iv(K)}catch(ne){if(U)throw T(K)?new Error("atob-Error in jsPDF.convertBase64ToBinaryString "+ne.message):new Error("Supplied Data is not a valid base64-String jsPDF.convertBase64ToBinaryString ")}}return ee};e.getImageProperties=function(P){var U,K,ee="";if(g(P)&&(P=x(P)),typeof P=="string"&&a(P)===r&&((ee=H(P,!1))===""&&(ee=e.loadFile(P)||""),P=ee),K=a(P),!m(K))throw new Error("addImage does not support files of type '"+K+"', please ensure that a plugin for '"+K+"' support is added.");if(P instanceof Uint8Array||(P=D(P)),!(U=this["process"+K.toUpperCase()](P)))throw new Error("An unknown error occurred whilst processing the image");return U.fileType=K,U}})(Kt.API),(function(e){var t=function(r){if(r!==void 0&&r!="")return!0};Kt.API.events.push(["addPage",function(r){this.internal.getPageInfo(r.pageNumber).pageContext.annotations=[]}]),e.events.push(["putPage",function(r){for(var n,a,i,l=this.internal.getCoordinateString,o=this.internal.getVerticalCoordinateString,u=this.internal.getPageInfoByObjId(r.objId),f=r.pageContext.annotations,h=!1,m=0;m<f.length&&!h;m++)switch((n=f[m]).type){case"link":(t(n.options.url)||t(n.options.pageNumber))&&(h=!0);break;case"reference":case"text":case"freetext":h=!0}if(h!=0){this.internal.write("/Annots [");for(var g=0;g<f.length;g++){n=f[g];var x=this.internal.pdfEscape,b=this.internal.getEncryptor(r.objId);switch(n.type){case"reference":this.internal.write(" "+n.object.objId+" 0 R ");break;case"text":var v=this.internal.newAdditionalObject(),w=this.internal.newAdditionalObject(),N=this.internal.getEncryptor(v.objId),E=n.title||"Note";i="<</Type /Annot /Subtype /Text "+(a="/Rect ["+l(n.bounds.x)+" "+o(n.bounds.y+n.bounds.h)+" "+l(n.bounds.x+n.bounds.w)+" "+o(n.bounds.y)+"] ")+"/Contents ("+x(N(n.contents))+")",i+=" /Popup "+w.objId+" 0 R",i+=" /P "+u.objId+" 0 R",i+=" /T ("+x(N(E))+") >>",v.content=i;var j=v.objId+" 0 R";i="<</Type /Annot /Subtype /Popup "+(a="/Rect ["+l(n.bounds.x+30)+" "+o(n.bounds.y+n.bounds.h)+" "+l(n.bounds.x+n.bounds.w+30)+" "+o(n.bounds.y)+"] ")+" /Parent "+j,n.open&&(i+=" /Open true"),i+=" >>",w.content=i,this.internal.write(v.objId,"0 R",w.objId,"0 R");break;case"freetext":a="/Rect ["+l(n.bounds.x)+" "+o(n.bounds.y)+" "+l(n.bounds.x+n.bounds.w)+" "+o(n.bounds.y+n.bounds.h)+"] ";var T=n.color||"#000000";i="<</Type /Annot /Subtype /FreeText "+a+"/Contents ("+x(b(n.contents))+")",i+=" /DS(font: Helvetica,sans-serif 12.0pt; text-align:left; color:#"+T+")",i+=" /Border [0 0 0]",i+=" >>",this.internal.write(i);break;case"link":if(n.options.name){var O=this.annotations._nameMap[n.options.name];n.options.pageNumber=O.page,n.options.top=O.y}else n.options.top||(n.options.top=0);if(a="/Rect ["+n.finalBounds.x+" "+n.finalBounds.y+" "+n.finalBounds.w+" "+n.finalBounds.h+"] ",i="",n.options.url)i="<</Type /Annot /Subtype /Link "+a+"/Border [0 0 0] /A <</S /URI /URI ("+x(b(n.options.url))+") >>";else if(n.options.pageNumber)switch(i="<</Type /Annot /Subtype /Link "+a+"/Border [0 0 0] /Dest ["+this.internal.getPageInfo(n.options.pageNumber).objId+" 0 R",n.options.magFactor=n.options.magFactor||"XYZ",n.options.magFactor){case"Fit":i+=" /Fit]";break;case"FitH":i+=" /FitH "+n.options.top+"]";break;case"FitV":n.options.left=n.options.left||0,i+=" /FitV "+n.options.left+"]";break;default:var F=o(n.options.top);n.options.left=n.options.left||0,n.options.zoom===void 0&&(n.options.zoom=0),i+=" /XYZ "+n.options.left+" "+F+" "+n.options.zoom+"]"}i!=""&&(i+=" >>",this.internal.write(i))}}this.internal.write("]")}}]),e.createAnnotation=function(r){var n=this.internal.getCurrentPageInfo();switch(r.type){case"link":this.link(r.bounds.x,r.bounds.y,r.bounds.w,r.bounds.h,r);break;case"text":case"freetext":n.pageContext.annotations.push(r)}},e.link=function(r,n,a,i,l){var o=this.internal.getCurrentPageInfo(),u=this.internal.getCoordinateString,f=this.internal.getVerticalCoordinateString;o.pageContext.annotations.push({finalBounds:{x:u(r),y:f(n),w:u(r+a),h:f(n+i)},options:l,type:"link"})},e.textWithLink=function(r,n,a,i){var l,o,u=this.getTextWidth(r),f=this.internal.getLineHeight()/this.internal.scaleFactor;if(i.maxWidth!==void 0){o=i.maxWidth;var h=this.splitTextToSize(r,o).length;l=Math.ceil(f*h)}else o=u,l=f;return this.text(r,n,a,i),a+=.2*f,i.align==="center"&&(n-=u/2),i.align==="right"&&(n-=u),this.link(n,a-f,o,l,i),u},e.getTextWidth=function(r){var n=this.internal.getFontSize();return this.getStringUnitWidth(r)*n/this.internal.scaleFactor}})(Kt.API),(function(e){var t={1569:[65152],1570:[65153,65154],1571:[65155,65156],1572:[65157,65158],1573:[65159,65160],1574:[65161,65162,65163,65164],1575:[65165,65166],1576:[65167,65168,65169,65170],1577:[65171,65172],1578:[65173,65174,65175,65176],1579:[65177,65178,65179,65180],1580:[65181,65182,65183,65184],1581:[65185,65186,65187,65188],1582:[65189,65190,65191,65192],1583:[65193,65194],1584:[65195,65196],1585:[65197,65198],1586:[65199,65200],1587:[65201,65202,65203,65204],1588:[65205,65206,65207,65208],1589:[65209,65210,65211,65212],1590:[65213,65214,65215,65216],1591:[65217,65218,65219,65220],1592:[65221,65222,65223,65224],1593:[65225,65226,65227,65228],1594:[65229,65230,65231,65232],1601:[65233,65234,65235,65236],1602:[65237,65238,65239,65240],1603:[65241,65242,65243,65244],1604:[65245,65246,65247,65248],1605:[65249,65250,65251,65252],1606:[65253,65254,65255,65256],1607:[65257,65258,65259,65260],1608:[65261,65262],1609:[65263,65264,64488,64489],1610:[65265,65266,65267,65268],1649:[64336,64337],1655:[64477],1657:[64358,64359,64360,64361],1658:[64350,64351,64352,64353],1659:[64338,64339,64340,64341],1662:[64342,64343,64344,64345],1663:[64354,64355,64356,64357],1664:[64346,64347,64348,64349],1667:[64374,64375,64376,64377],1668:[64370,64371,64372,64373],1670:[64378,64379,64380,64381],1671:[64382,64383,64384,64385],1672:[64392,64393],1676:[64388,64389],1677:[64386,64387],1678:[64390,64391],1681:[64396,64397],1688:[64394,64395],1700:[64362,64363,64364,64365],1702:[64366,64367,64368,64369],1705:[64398,64399,64400,64401],1709:[64467,64468,64469,64470],1711:[64402,64403,64404,64405],1713:[64410,64411,64412,64413],1715:[64406,64407,64408,64409],1722:[64414,64415],1723:[64416,64417,64418,64419],1726:[64426,64427,64428,64429],1728:[64420,64421],1729:[64422,64423,64424,64425],1733:[64480,64481],1734:[64473,64474],1735:[64471,64472],1736:[64475,64476],1737:[64482,64483],1739:[64478,64479],1740:[64508,64509,64510,64511],1744:[64484,64485,64486,64487],1746:[64430,64431],1747:[64432,64433]},r={65247:{65154:65269,65156:65271,65160:65273,65166:65275},65248:{65154:65270,65156:65272,65160:65274,65166:65276},65165:{65247:{65248:{65258:65010}}},1617:{1612:64606,1613:64607,1614:64608,1615:64609,1616:64610}},n={1612:64606,1613:64607,1614:64608,1615:64609,1616:64610},a=[1570,1571,1573,1575];e.__arabicParser__={};var i=e.__arabicParser__.isInArabicSubstitutionA=function(v){return t[v.charCodeAt(0)]!==void 0},l=e.__arabicParser__.isArabicLetter=function(v){return typeof v=="string"&&/^[\u0600-\u06FF\u0750-\u077F\u08A0-\u08FF\uFB50-\uFDFF\uFE70-\uFEFF]+$/.test(v)},o=e.__arabicParser__.isArabicEndLetter=function(v){return l(v)&&i(v)&&t[v.charCodeAt(0)].length<=2},u=e.__arabicParser__.isArabicAlfLetter=function(v){return l(v)&&a.indexOf(v.charCodeAt(0))>=0};e.__arabicParser__.arabicLetterHasIsolatedForm=function(v){return l(v)&&i(v)&&t[v.charCodeAt(0)].length>=1};var f=e.__arabicParser__.arabicLetterHasFinalForm=function(v){return l(v)&&i(v)&&t[v.charCodeAt(0)].length>=2};e.__arabicParser__.arabicLetterHasInitialForm=function(v){return l(v)&&i(v)&&t[v.charCodeAt(0)].length>=3};var h=e.__arabicParser__.arabicLetterHasMedialForm=function(v){return l(v)&&i(v)&&t[v.charCodeAt(0)].length==4},m=e.__arabicParser__.resolveLigatures=function(v){var w=0,N=r,E="",j=0;for(w=0;w<v.length;w+=1)N[v.charCodeAt(w)]!==void 0?(j++,typeof(N=N[v.charCodeAt(w)])=="number"&&(E+=String.fromCharCode(N),N=r,j=0),w===v.length-1&&(N=r,E+=v.charAt(w-(j-1)),w-=j-1,j=0)):(N=r,E+=v.charAt(w-j),w-=j,j=0);return E};e.__arabicParser__.isArabicDiacritic=function(v){return v!==void 0&&n[v.charCodeAt(0)]!==void 0};var g=e.__arabicParser__.getCorrectForm=function(v,w,N){return l(v)?i(v)===!1?-1:!f(v)||!l(w)&&!l(N)||!l(N)&&o(w)||o(v)&&!l(w)||o(v)&&u(w)||o(v)&&o(w)?0:h(v)&&l(w)&&!o(w)&&l(N)&&f(N)?3:o(v)||!l(N)?1:2:-1},x=function(v){var w=0,N=0,E=0,j="",T="",O="",F=(v=v||"").split("\\s+"),D=[];for(w=0;w<F.length;w+=1){for(D.push(""),N=0;N<F[w].length;N+=1)j=F[w][N],T=F[w][N-1],O=F[w][N+1],l(j)?(E=g(j,T,O),D[w]+=E!==-1?String.fromCharCode(t[j.charCodeAt(0)][E]):j):D[w]+=j;D[w]=m(D[w])}return D.join(" ")},b=e.__arabicParser__.processArabic=e.processArabic=function(){var v,w=typeof arguments[0]=="string"?arguments[0]:arguments[0].text,N=[];if(Array.isArray(w)){var E=0;for(N=[],E=0;E<w.length;E+=1)Array.isArray(w[E])?N.push([x(w[E][0]),w[E][1],w[E][2]]):N.push([x(w[E])]);v=N}else v=x(w);return typeof arguments[0]=="string"?v:(arguments[0].text=v,arguments[0])};e.events.push(["preProcessText",b])})(Kt.API),Kt.API.autoPrint=function(e){var t;return(e=e||{}).variant=e.variant||"non-conform",e.variant==="javascript"?this.addJS("print({});"):(this.internal.events.subscribe("postPutResources",function(){t=this.internal.newObject(),this.internal.out("<<"),this.internal.out("/S /Named"),this.internal.out("/Type /Action"),this.internal.out("/N /Print"),this.internal.out(">>"),this.internal.out("endobj")}),this.internal.events.subscribe("putCatalog",function(){this.internal.out("/OpenAction "+t+" 0 R")})),this},(function(e){var t=function(){var r=void 0;Object.defineProperty(this,"pdf",{get:function(){return r},set:function(o){r=o}});var n=150;Object.defineProperty(this,"width",{get:function(){return n},set:function(o){n=isNaN(o)||Number.isInteger(o)===!1||o<0?150:o,this.getContext("2d").pageWrapXEnabled&&(this.getContext("2d").pageWrapX=n+1)}});var a=300;Object.defineProperty(this,"height",{get:function(){return a},set:function(o){a=isNaN(o)||Number.isInteger(o)===!1||o<0?300:o,this.getContext("2d").pageWrapYEnabled&&(this.getContext("2d").pageWrapY=a+1)}});var i=[];Object.defineProperty(this,"childNodes",{get:function(){return i},set:function(o){i=o}});var l={};Object.defineProperty(this,"style",{get:function(){return l},set:function(o){l=o}}),Object.defineProperty(this,"parentNode",{})};t.prototype.getContext=function(r,n){var a;if((r=r||"2d")!=="2d")return null;for(a in n)this.pdf.context2d.hasOwnProperty(a)&&(this.pdf.context2d[a]=n[a]);return this.pdf.context2d._canvas=this,this.pdf.context2d},t.prototype.toDataURL=function(){throw new Error("toDataURL is not implemented.")},e.events.push(["initialized",function(){this.canvas=new t,this.canvas.pdf=this}])})(Kt.API),(function(e){var t={left:0,top:0,bottom:0,right:0},r=!1,n=function(){this.internal.__cell__===void 0&&(this.internal.__cell__={},this.internal.__cell__.padding=3,this.internal.__cell__.headerFunction=void 0,this.internal.__cell__.margins=Object.assign({},t),this.internal.__cell__.margins.width=this.getPageWidth(),a.call(this))},a=function(){this.internal.__cell__.lastCell=new i,this.internal.__cell__.pages=1},i=function(){var u=arguments[0];Object.defineProperty(this,"x",{enumerable:!0,get:function(){return u},set:function(v){u=v}});var f=arguments[1];Object.defineProperty(this,"y",{enumerable:!0,get:function(){return f},set:function(v){f=v}});var h=arguments[2];Object.defineProperty(this,"width",{enumerable:!0,get:function(){return h},set:function(v){h=v}});var m=arguments[3];Object.defineProperty(this,"height",{enumerable:!0,get:function(){return m},set:function(v){m=v}});var g=arguments[4];Object.defineProperty(this,"text",{enumerable:!0,get:function(){return g},set:function(v){g=v}});var x=arguments[5];Object.defineProperty(this,"lineNumber",{enumerable:!0,get:function(){return x},set:function(v){x=v}});var b=arguments[6];return Object.defineProperty(this,"align",{enumerable:!0,get:function(){return b},set:function(v){b=v}}),this};i.prototype.clone=function(){return new i(this.x,this.y,this.width,this.height,this.text,this.lineNumber,this.align)},i.prototype.toArray=function(){return[this.x,this.y,this.width,this.height,this.text,this.lineNumber,this.align]},e.setHeaderFunction=function(u){return n.call(this),this.internal.__cell__.headerFunction=typeof u=="function"?u:void 0,this},e.getTextDimensions=function(u,f){n.call(this);var h=(f=f||{}).fontSize||this.getFontSize(),m=f.font||this.getFont(),g=f.scaleFactor||this.internal.scaleFactor,x=0,b=0,v=0,w=this;if(!Array.isArray(u)&&typeof u!="string"){if(typeof u!="number")throw new Error("getTextDimensions expects text-parameter to be of type String or type Number or an Array of Strings.");u=String(u)}var N=f.maxWidth;N>0?typeof u=="string"?u=this.splitTextToSize(u,N):Object.prototype.toString.call(u)==="[object Array]"&&(u=u.reduce(function(j,T){return j.concat(w.splitTextToSize(T,N))},[])):u=Array.isArray(u)?u:[u];for(var E=0;E<u.length;E++)x<(v=this.getStringUnitWidth(u[E],{font:m})*h)&&(x=v);return x!==0&&(b=u.length),{w:x/=g,h:Math.max((b*h*this.getLineHeightFactor()-h*(this.getLineHeightFactor()-1))/g,0)}},e.cellAddPage=function(){n.call(this),this.addPage();var u=this.internal.__cell__.margins||t;return this.internal.__cell__.lastCell=new i(u.left,u.top,void 0,void 0),this.internal.__cell__.pages+=1,this};var l=e.cell=function(){var u;u=arguments[0]instanceof i?arguments[0]:new i(arguments[0],arguments[1],arguments[2],arguments[3],arguments[4],arguments[5]),n.call(this);var f=this.internal.__cell__.lastCell,h=this.internal.__cell__.padding,m=this.internal.__cell__.margins||t,g=this.internal.__cell__.tableHeaderRow,x=this.internal.__cell__.printHeaders;return f.lineNumber!==void 0&&(f.lineNumber===u.lineNumber?(u.x=(f.x||0)+(f.width||0),u.y=f.y||0):f.y+f.height+u.height+m.bottom>this.getPageHeight()?(this.cellAddPage(),u.y=m.top,x&&g&&(this.printHeaderRow(u.lineNumber,!0),u.y+=g[0].height)):u.y=f.y+f.height||u.y),u.text[0]!==void 0&&(this.rect(u.x,u.y,u.width,u.height,r===!0?"FD":void 0),u.align==="right"?this.text(u.text,u.x+u.width-h,u.y+h,{align:"right",baseline:"top"}):u.align==="center"?this.text(u.text,u.x+u.width/2,u.y+h,{align:"center",baseline:"top",maxWidth:u.width-h-h}):this.text(u.text,u.x+h,u.y+h,{align:"left",baseline:"top",maxWidth:u.width-h-h})),this.internal.__cell__.lastCell=u,this};e.table=function(u,f,h,m,g){if(n.call(this),!h)throw new Error("No data for PDF table.");var x,b,v,w,N=[],E=[],j=[],T={},O={},F=[],D=[],L=(g=g||{}).autoSize||!1,B=g.printHeaders!==!1,H=g.css&&g.css["font-size"]!==void 0?16*g.css["font-size"]:g.fontSize||12,P=g.margins||Object.assign({width:this.getPageWidth()},t),U=typeof g.padding=="number"?g.padding:3,K=g.headerBackgroundColor||"#c8c8c8",ee=g.headerTextColor||"#000";if(a.call(this),this.internal.__cell__.printHeaders=B,this.internal.__cell__.margins=P,this.internal.__cell__.table_font_size=H,this.internal.__cell__.padding=U,this.internal.__cell__.headerBackgroundColor=K,this.internal.__cell__.headerTextColor=ee,this.setFontSize(H),m==null)E=N=Object.keys(h[0]),j=N.map(function(){return"left"});else if(Array.isArray(m)&&Nn(m[0])==="object")for(N=m.map(function(Se){return Se.name}),E=m.map(function(Se){return Se.prompt||Se.name||""}),j=m.map(function(Se){return Se.align||"left"}),x=0;x<m.length;x+=1)O[m[x].name]=.7499990551181103*m[x].width;else Array.isArray(m)&&typeof m[0]=="string"&&(E=N=m,j=N.map(function(){return"left"}));if(L||Array.isArray(m)&&typeof m[0]=="string")for(x=0;x<N.length;x+=1){for(T[w=N[x]]=h.map(function(Se){return Se[w]}),this.setFont(void 0,"bold"),F.push(this.getTextDimensions(E[x],{fontSize:this.internal.__cell__.table_font_size,scaleFactor:this.internal.scaleFactor}).w),b=T[w],this.setFont(void 0,"normal"),v=0;v<b.length;v+=1)F.push(this.getTextDimensions(b[v],{fontSize:this.internal.__cell__.table_font_size,scaleFactor:this.internal.scaleFactor}).w);O[w]=Math.max.apply(null,F)+U+U,F=[]}if(B){var me={};for(x=0;x<N.length;x+=1)me[N[x]]={},me[N[x]].text=E[x],me[N[x]].align=j[x];var ne=o.call(this,me,O);D=N.map(function(Se){return new i(u,f,O[Se],ne,me[Se].text,void 0,me[Se].align)}),this.setTableHeaderRow(D),this.printHeaderRow(1,!1)}var se=m.reduce(function(Se,te){return Se[te.name]=te.align,Se},{});for(x=0;x<h.length;x+=1){"rowStart"in g&&g.rowStart instanceof Function&&g.rowStart({row:x,data:h[x]},this);var ye=o.call(this,h[x],O);for(v=0;v<N.length;v+=1){var ce=h[x][N[v]];"cellStart"in g&&g.cellStart instanceof Function&&g.cellStart({row:x,col:v,data:ce},this),l.call(this,new i(u,f,O[N[v]],ye,ce,x+2,se[N[v]]))}}return this.internal.__cell__.table_x=u,this.internal.__cell__.table_y=f,this};var o=function(u,f){var h=this.internal.__cell__.padding,m=this.internal.__cell__.table_font_size,g=this.internal.scaleFactor;return Object.keys(u).map(function(x){var b=u[x];return this.splitTextToSize(b.hasOwnProperty("text")?b.text:b,f[x]-h-h)},this).map(function(x){return this.getLineHeightFactor()*x.length*m/g+h+h},this).reduce(function(x,b){return Math.max(x,b)},0)};e.setTableHeaderRow=function(u){n.call(this),this.internal.__cell__.tableHeaderRow=u},e.printHeaderRow=function(u,f){if(n.call(this),!this.internal.__cell__.tableHeaderRow)throw new Error("Property tableHeaderRow does not exist.");var h;if(r=!0,typeof this.internal.__cell__.headerFunction=="function"){var m=this.internal.__cell__.headerFunction(this,this.internal.__cell__.pages);this.internal.__cell__.lastCell=new i(m[0],m[1],m[2],m[3],void 0,-1)}this.setFont(void 0,"bold");for(var g=[],x=0;x<this.internal.__cell__.tableHeaderRow.length;x+=1){h=this.internal.__cell__.tableHeaderRow[x].clone(),f&&(h.y=this.internal.__cell__.margins.top||0,g.push(h)),h.lineNumber=u;var b=this.getTextColor();this.setTextColor(this.internal.__cell__.headerTextColor),this.setFillColor(this.internal.__cell__.headerBackgroundColor),l.call(this,h),this.setTextColor(b)}g.length>0&&this.setTableHeaderRow(g),this.setFont(void 0,"normal"),r=!1}})(Kt.API);var QB={italic:["italic","oblique","normal"],oblique:["oblique","italic","normal"],normal:["normal","oblique","italic"]},ZB=["ultra-condensed","extra-condensed","condensed","semi-condensed","normal","semi-expanded","expanded","extra-expanded","ultra-expanded"],y_=XB(ZB),JB=[100,200,300,400,500,600,700,800,900],$4e=XB(JB);function D4(e){var t=e.family.replace(/"|'/g,"").toLowerCase(),r=(function(i){return QB[i=i||"normal"]?i:"normal"})(e.style),n=(function(i){return i?typeof i=="number"?i>=100&&i<=900&&i%100==0?i:400:/^\d00$/.test(i)?parseInt(i):i==="bold"?700:400:400})(e.weight),a=(function(i){return typeof y_[i=i||"normal"]=="number"?i:"normal"})(e.stretch);return{family:t,style:r,weight:n,stretch:a,src:e.src||[],ref:e.ref||{name:t,style:[a,r,n].join(" ")}}}function z7(e,t,r,n){var a;for(a=r;a>=0&&a<t.length;a+=n)if(e[t[a]])return e[t[a]];for(a=r;a>=0&&a<t.length;a-=n)if(e[t[a]])return e[t[a]]}var H4e={"sans-serif":"helvetica",fixed:"courier",monospace:"courier",terminal:"courier",cursive:"times",fantasy:"times",serif:"times"},q7={caption:"times",icon:"times",menu:"times","message-box":"times","small-caption":"times","status-bar":"times"};function $7(e){return[e.stretch,e.style,e.weight,e.family].join(" ")}function H7(e){return e.trimLeft()}function V4e(e,t){for(var r=0;r<e.length;){if(e.charAt(r)===t)return[e.substring(0,r),e.substring(r+1)];r+=1}return null}function W4e(e){var t=e.match(/^(-[a-z_]|[a-z_])[a-z0-9_-]*/i);return t===null?null:[t[0],e.substring(t[0].length)]}var Cv,V7,W7,vm,Tv,G7,K7,Y7,F4=["times"];function X7(e,t,r,n,a){var i=4,l=Z7;switch(a){case Kt.API.image_compression.FAST:i=1,l=Q7;break;case Kt.API.image_compression.MEDIUM:i=6,l=J7;break;case Kt.API.image_compression.SLOW:i=9,l=eD}e=(function(u,f,h,m){for(var g,x=u.length/f,b=new Uint8Array(u.length+x),v=[G4e,Q7,Z7,J7,eD],w=0;w<x;w+=1){var N=w*f,E=u.subarray(N,N+f);if(m)b.set(m(E,h,g),N+w);else{for(var j=v.length,T=[],O=0;O<j;O+=1)T[O]=v[O](E,h,g);var F=Y4e(T.concat());b.set(T[F],N+w)}g=E}return b})(e,t,Math.ceil(r*n/8),l);var o=d_(e,{level:i});return Kt.API.__addimage__.arrayBufferToBinaryString(o)}function G4e(e){var t=Array.apply([],e);return t.unshift(0),t}function Q7(e,t){var r=e.length,n=[];n[0]=1;for(var a=0;a<r;a+=1){var i=e[a-t]||0;n[a+1]=e[a]-i+256&255}return n}function Z7(e,t,r){var n=e.length,a=[];a[0]=2;for(var i=0;i<n;i+=1){var l=r&&r[i]||0;a[i+1]=e[i]-l+256&255}return a}function J7(e,t,r){var n=e.length,a=[];a[0]=3;for(var i=0;i<n;i+=1){var l=e[i-t]||0,o=r&&r[i]||0;a[i+1]=e[i]+256-(l+o>>>1)&255}return a}function eD(e,t,r){var n=e.length,a=[];a[0]=4;for(var i=0;i<n;i+=1){var l=K4e(e[i-t]||0,r&&r[i]||0,r&&r[i-t]||0);a[i+1]=e[i]-l+256&255}return a}function K4e(e,t,r){if(e===t&&t===r)return e;var n=Math.abs(t-r),a=Math.abs(e-r),i=Math.abs(e+t-r-r);return n<=a&&n<=i?e:a<=i?t:r}function Y4e(e){var t=e.map(function(r){return r.reduce(function(n,a){return n+Math.abs(a)},0)});return t.indexOf(Math.min.apply(null,t))}function P4(e,t,r){var n=t*r,a=Math.floor(n/8),i=16-(n-8*a+r),l=(1<<r)-1;return eU(e,a)>>i&l}function tD(e,t,r,n){var a=r*n,i=Math.floor(a/8),l=16-(a-8*i+n),o=(1<<n)-1,u=(t&o)<<l;(function(f,h,m){if(h+1<f.byteLength)f.setUint16(h,m,!1);else{var g=m>>8&255;f.setUint8(h,g)}})(e,i,eU(e,i)&~(o<<l)&65535|u)}function eU(e,t){return t+1<e.byteLength?e.getUint16(t,!1):e.getUint8(t)<<8}function X4e(e){var t=0;if(e[t++]!==71||e[t++]!==73||e[t++]!==70||e[t++]!==56||(e[t++]+1&253)!=56||e[t++]!==97)throw new Error("Invalid GIF 87a/89a header.");var r=e[t++]|e[t++]<<8,n=e[t++]|e[t++]<<8,a=e[t++],i=a>>7,l=1<<1+(7&a);e[t++],e[t++];var o=null,u=null;i&&(o=t,u=l,t+=3*l);var f=!0,h=[],m=0,g=null,x=0,b=null;for(this.width=r,this.height=n;f&&t<e.length;)switch(e[t++]){case 33:switch(e[t++]){case 255:if(e[t]!==11||e[t+1]==78&&e[t+2]==69&&e[t+3]==84&&e[t+4]==83&&e[t+5]==67&&e[t+6]==65&&e[t+7]==80&&e[t+8]==69&&e[t+9]==50&&e[t+10]==46&&e[t+11]==48&&e[t+12]==3&&e[t+13]==1&&e[t+16]==0)t+=14,b=e[t++]|e[t++]<<8,t++;else for(t+=12;;){if(!((P=e[t++])>=0))throw Error("Invalid block size");if(P===0)break;t+=P}break;case 249:if(e[t++]!==4||e[t+4]!==0)throw new Error("Invalid graphics extension block.");var v=e[t++];m=e[t++]|e[t++]<<8,g=e[t++],1&v||(g=null),x=v>>2&7,t++;break;case 254:for(;;){if(!((P=e[t++])>=0))throw Error("Invalid block size");if(P===0)break;t+=P}break;default:throw new Error("Unknown graphic control label: 0x"+e[t-1].toString(16))}break;case 44:var w=e[t++]|e[t++]<<8,N=e[t++]|e[t++]<<8,E=e[t++]|e[t++]<<8,j=e[t++]|e[t++]<<8,T=e[t++],O=T>>6&1,F=1<<1+(7&T),D=o,L=u,B=!1;T>>7&&(B=!0,D=t,L=F,t+=3*F);var H=t;for(t++;;){var P;if(!((P=e[t++])>=0))throw Error("Invalid block size");if(P===0)break;t+=P}h.push({x:w,y:N,width:E,height:j,has_local_palette:B,palette_offset:D,palette_size:L,data_offset:H,data_length:t-H,transparent_index:g,interlaced:!!O,delay:m,disposal:x});break;case 59:f=!1;break;default:throw new Error("Unknown gif block: 0x"+e[t-1].toString(16))}this.numFrames=function(){return h.length},this.loopCount=function(){return b},this.frameInfo=function(U){if(U<0||U>=h.length)throw new Error("Frame index out of range.");return h[U]},this.decodeAndBlitFrameBGRA=function(U,K){var ee=this.frameInfo(U),me=ee.width*ee.height,ne=new Uint8Array(me);rD(e,ee.data_offset,ne,me);var se=ee.palette_offset,ye=ee.transparent_index;ye===null&&(ye=256);var ce=ee.width,Se=r-ce,te=ce,M=4*(ee.y*r+ee.x),R=4*((ee.y+ee.height)*r+ee.x),q=M,W=4*Se;ee.interlaced===!0&&(W+=4*r*7);for(var J=8,le=0,ue=ne.length;le<ue;++le){var X=ne[le];if(te===0&&(te=ce,(q+=W)>=R&&(W=4*Se+4*r*(J-1),q=M+(ce+Se)*(J<<1),J>>=1)),X===ye)q+=4;else{var ge=e[se+3*X],Te=e[se+3*X+1],Y=e[se+3*X+2];K[q++]=Y,K[q++]=Te,K[q++]=ge,K[q++]=255}--te}},this.decodeAndBlitFrameRGBA=function(U,K){var ee=this.frameInfo(U),me=ee.width*ee.height,ne=new Uint8Array(me);rD(e,ee.data_offset,ne,me);var se=ee.palette_offset,ye=ee.transparent_index;ye===null&&(ye=256);var ce=ee.width,Se=r-ce,te=ce,M=4*(ee.y*r+ee.x),R=4*((ee.y+ee.height)*r+ee.x),q=M,W=4*Se;ee.interlaced===!0&&(W+=4*r*7);for(var J=8,le=0,ue=ne.length;le<ue;++le){var X=ne[le];if(te===0&&(te=ce,(q+=W)>=R&&(W=4*Se+4*r*(J-1),q=M+(ce+Se)*(J<<1),J>>=1)),X===ye)q+=4;else{var ge=e[se+3*X],Te=e[se+3*X+1],Y=e[se+3*X+2];K[q++]=ge,K[q++]=Te,K[q++]=Y,K[q++]=255}--te}}}function rD(e,t,r,n){for(var a=e[t++],i=1<<a,l=i+1,o=l+1,u=a+1,f=(1<<u)-1,h=0,m=0,g=0,x=e[t++],b=new Int32Array(4096),v=null;;){for(;h<16&&x!==0;)m|=e[t++]<<h,h+=8,x===1?x=e[t++]:--x;if(h<u)break;var w=m&f;if(m>>=u,h-=u,w!==i){if(w===l)break;for(var N=w<o?w:v,E=0,j=N;j>i;)j=b[j]>>8,++E;var T=j;if(g+E+(N!==w?1:0)>n)return void Rn.log("Warning, gif stream longer than expected.");r[g++]=T;var O=g+=E;for(N!==w&&(r[g++]=T),j=N;E--;)j=b[j],r[--O]=255&j,j>>=8;v!==null&&o<4096&&(b[o++]=v<<8|T,o>=f+1&&u<12&&(++u,f=f<<1|1)),v=w}else o=l+1,f=(1<<(u=a+1))-1,v=null}return g!==n&&Rn.log("Warning, gif stream shorter than expected."),r}/**
 * @license
  Copyright (c) 2008, Adobe Systems Incorporated
  All rights reserved.

  Redistribution and use in source and binary forms, with or without 
  modification, are permitted provided that the following conditions are
  met:

  * Redistributions of source code must retain the above copyright notice, 
    this list of conditions and the following disclaimer.
  
  * Redistributions in binary form must reproduce the above copyright
    notice, this list of conditions and the following disclaimer in the 
    documentation and/or other materials provided with the distribution.
  
  * Neither the name of Adobe Systems Incorporated nor the names of its 
    contributors may be used to endorse or promote products derived from 
    this software without specific prior written permission.

  THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS "AS
  IS" AND ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO,
  THE IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR
  PURPOSE ARE DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT OWNER OR 
  CONTRIBUTORS BE LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL,
  EXEMPLARY, OR CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT LIMITED TO,
  PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES; LOSS OF USE, DATA, OR
  PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND ON ANY THEORY OF
  LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT (INCLUDING
  NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE OF THIS
  SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.
*/function L4(e){var t,r,n,a,i,l=Math.floor,o=new Array(64),u=new Array(64),f=new Array(64),h=new Array(64),m=new Array(65535),g=new Array(65535),x=new Array(64),b=new Array(64),v=[],w=0,N=7,E=new Array(64),j=new Array(64),T=new Array(64),O=new Array(256),F=new Array(2048),D=[0,1,5,6,14,15,27,28,2,4,7,13,16,26,29,42,3,8,12,17,25,30,41,43,9,11,18,24,31,40,44,53,10,19,23,32,39,45,52,54,20,22,33,38,46,51,55,60,21,34,37,47,50,56,59,61,35,36,48,49,57,58,62,63],L=[0,0,1,5,1,1,1,1,1,1,0,0,0,0,0,0,0],B=[0,1,2,3,4,5,6,7,8,9,10,11],H=[0,0,2,1,3,3,2,4,3,5,5,4,4,0,0,1,125],P=[1,2,3,0,4,17,5,18,33,49,65,6,19,81,97,7,34,113,20,50,129,145,161,8,35,66,177,193,21,82,209,240,36,51,98,114,130,9,10,22,23,24,25,26,37,38,39,40,41,42,52,53,54,55,56,57,58,67,68,69,70,71,72,73,74,83,84,85,86,87,88,89,90,99,100,101,102,103,104,105,106,115,116,117,118,119,120,121,122,131,132,133,134,135,136,137,138,146,147,148,149,150,151,152,153,154,162,163,164,165,166,167,168,169,170,178,179,180,181,182,183,184,185,186,194,195,196,197,198,199,200,201,202,210,211,212,213,214,215,216,217,218,225,226,227,228,229,230,231,232,233,234,241,242,243,244,245,246,247,248,249,250],U=[0,0,3,1,1,1,1,1,1,1,1,1,0,0,0,0,0],K=[0,1,2,3,4,5,6,7,8,9,10,11],ee=[0,0,2,1,2,4,4,3,4,7,5,4,4,0,1,2,119],me=[0,1,2,3,17,4,5,33,49,6,18,65,81,7,97,113,19,34,50,129,8,20,66,145,161,177,193,9,35,51,82,240,21,98,114,209,10,22,36,52,225,37,241,23,24,25,26,38,39,40,41,42,53,54,55,56,57,58,67,68,69,70,71,72,73,74,83,84,85,86,87,88,89,90,99,100,101,102,103,104,105,106,115,116,117,118,119,120,121,122,130,131,132,133,134,135,136,137,138,146,147,148,149,150,151,152,153,154,162,163,164,165,166,167,168,169,170,178,179,180,181,182,183,184,185,186,194,195,196,197,198,199,200,201,202,210,211,212,213,214,215,216,217,218,226,227,228,229,230,231,232,233,234,242,243,244,245,246,247,248,249,250];function ne(M,R){for(var q=0,W=0,J=new Array,le=1;le<=16;le++){for(var ue=1;ue<=M[le];ue++)J[R[W]]=[],J[R[W]][0]=q,J[R[W]][1]=le,W++,q++;q*=2}return J}function se(M){for(var R=M[0],q=M[1]-1;q>=0;)R&1<<q&&(w|=1<<N),q--,--N<0&&(w==255?(ye(255),ye(0)):ye(w),N=7,w=0)}function ye(M){v.push(M)}function ce(M){ye(M>>8&255),ye(255&M)}function Se(M,R,q,W,J){for(var le,ue=J[0],X=J[240],ge=(function(lt,Ct){var xt,Ke,pt,Et,zt,Gt,Ar,Lt,Dt,yt,kt=0;for(Dt=0;Dt<8;++Dt){xt=lt[kt],Ke=lt[kt+1],pt=lt[kt+2],Et=lt[kt+3],zt=lt[kt+4],Gt=lt[kt+5],Ar=lt[kt+6];var _r=xt+(Lt=lt[kt+7]),Zt=xt-Lt,At=Ke+Ar,er=Ke-Ar,br=pt+Gt,ar=pt-Gt,Er=Et+zt,dr=Et-zt,pn=_r+Er,Un=_r-Er,qr=At+br,Yt=At-br;lt[kt]=pn+qr,lt[kt+4]=pn-qr;var Fr=.707106781*(Yt+Un);lt[kt+2]=Un+Fr,lt[kt+6]=Un-Fr;var Rs=.382683433*((pn=dr+ar)-(Yt=er+Zt)),Qa=.5411961*pn+Rs,al=1.306562965*Yt+Rs,us=.707106781*(qr=ar+er),Xt=Zt+us,Ol=Zt-us;lt[kt+5]=Ol+Qa,lt[kt+3]=Ol-Qa,lt[kt+1]=Xt+al,lt[kt+7]=Xt-al,kt+=8}for(kt=0,Dt=0;Dt<8;++Dt){xt=lt[kt],Ke=lt[kt+8],pt=lt[kt+16],Et=lt[kt+24],zt=lt[kt+32],Gt=lt[kt+40],Ar=lt[kt+48];var il=xt+(Lt=lt[kt+56]),oi=xt-Lt,Vi=Ke+Ar,jn=Ke-Ar,ra=pt+Gt,re=pt-Gt,Ne=Et+zt,de=Et-zt,he=il+Ne,ve=il-Ne,je=Vi+ra,Me=Vi-ra;lt[kt]=he+je,lt[kt+32]=he-je;var Ye=.707106781*(Me+ve);lt[kt+16]=ve+Ye,lt[kt+48]=ve-Ye;var Ie=.382683433*((he=de+re)-(Me=jn+oi)),Be=.5411961*he+Ie,ze=1.306562965*Me+Ie,ft=.707106781*(je=re+jn),gt=oi+ft,St=oi-ft;lt[kt+40]=St+Be,lt[kt+24]=St-Be,lt[kt+8]=gt+ze,lt[kt+56]=gt-ze,kt++}for(Dt=0;Dt<64;++Dt)yt=lt[Dt]*Ct[Dt],x[Dt]=yt>0?yt+.5|0:yt-.5|0;return x})(M,R),Te=0;Te<64;++Te)b[D[Te]]=ge[Te];var Y=b[0]-q;q=b[0],Y==0?se(W[0]):(se(W[g[le=32767+Y]]),se(m[le]));for(var We=63;We>0&&b[We]==0;)We--;if(We==0)return se(ue),q;for(var Ee,xe=1;xe<=We;){for(var dt=xe;b[xe]==0&&xe<=We;)++xe;var Xe=xe-dt;if(Xe>=16){Ee=Xe>>4;for(var bt=1;bt<=Ee;++bt)se(X);Xe&=15}le=32767+b[xe],se(J[(Xe<<4)+g[le]]),se(m[le]),xe++}return We!=63&&se(ue),q}function te(M){M=Math.min(Math.max(M,1),100),i!=M&&((function(R){for(var q=[16,11,10,16,24,40,51,61,12,12,14,19,26,58,60,55,14,13,16,24,40,57,69,56,14,17,22,29,51,87,80,62,18,22,37,56,68,109,103,77,24,35,55,64,81,104,113,92,49,64,78,87,103,121,120,101,72,92,95,98,112,100,103,99],W=0;W<64;W++){var J=l((q[W]*R+50)/100);J=Math.min(Math.max(J,1),255),o[D[W]]=J}for(var le=[17,18,24,47,99,99,99,99,18,21,26,66,99,99,99,99,24,26,56,99,99,99,99,99,47,66,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99],ue=0;ue<64;ue++){var X=l((le[ue]*R+50)/100);X=Math.min(Math.max(X,1),255),u[D[ue]]=X}for(var ge=[1,1.387039845,1.306562965,1.175875602,1,.785694958,.5411961,.275899379],Te=0,Y=0;Y<8;Y++)for(var We=0;We<8;We++)f[Te]=1/(o[D[Te]]*ge[Y]*ge[We]*8),h[Te]=1/(u[D[Te]]*ge[Y]*ge[We]*8),Te++})(M<50?Math.floor(5e3/M):Math.floor(200-2*M)),i=M)}this.encode=function(M,R){R&&te(R),v=new Array,w=0,N=7,ce(65496),ce(65504),ce(16),ye(74),ye(70),ye(73),ye(70),ye(0),ye(1),ye(1),ye(0),ce(1),ce(1),ye(0),ye(0),(function(){ce(65499),ce(132),ye(0);for(var Ke=0;Ke<64;Ke++)ye(o[Ke]);ye(1);for(var pt=0;pt<64;pt++)ye(u[pt])})(),(function(Ke,pt){ce(65472),ce(17),ye(8),ce(pt),ce(Ke),ye(3),ye(1),ye(17),ye(0),ye(2),ye(17),ye(1),ye(3),ye(17),ye(1)})(M.width,M.height),(function(){ce(65476),ce(418),ye(0);for(var Ke=0;Ke<16;Ke++)ye(L[Ke+1]);for(var pt=0;pt<=11;pt++)ye(B[pt]);ye(16);for(var Et=0;Et<16;Et++)ye(H[Et+1]);for(var zt=0;zt<=161;zt++)ye(P[zt]);ye(1);for(var Gt=0;Gt<16;Gt++)ye(U[Gt+1]);for(var Ar=0;Ar<=11;Ar++)ye(K[Ar]);ye(17);for(var Lt=0;Lt<16;Lt++)ye(ee[Lt+1]);for(var Dt=0;Dt<=161;Dt++)ye(me[Dt])})(),ce(65498),ce(12),ye(3),ye(1),ye(0),ye(2),ye(17),ye(3),ye(17),ye(0),ye(63),ye(0);var q=0,W=0,J=0;w=0,N=7,this.encode.displayName="_encode_";for(var le,ue,X,ge,Te,Y,We,Ee,xe,dt=M.data,Xe=M.width,bt=M.height,lt=4*Xe,Ct=0;Ct<bt;){for(le=0;le<lt;){for(Te=lt*Ct+le,We=-1,Ee=0,xe=0;xe<64;xe++)Y=Te+(Ee=xe>>3)*lt+(We=4*(7&xe)),Ct+Ee>=bt&&(Y-=lt*(Ct+1+Ee-bt)),le+We>=lt&&(Y-=le+We-lt+4),ue=dt[Y++],X=dt[Y++],ge=dt[Y++],E[xe]=(F[ue]+F[X+256|0]+F[ge+512|0]>>16)-128,j[xe]=(F[ue+768|0]+F[X+1024|0]+F[ge+1280|0]>>16)-128,T[xe]=(F[ue+1280|0]+F[X+1536|0]+F[ge+1792|0]>>16)-128;q=Se(E,f,q,t,n),W=Se(j,h,W,r,a),J=Se(T,h,J,r,a),le+=32}Ct+=8}if(N>=0){var xt=[];xt[1]=N+1,xt[0]=(1<<N+1)-1,se(xt)}return ce(65497),new Uint8Array(v)},e=e||50,(function(){for(var M=String.fromCharCode,R=0;R<256;R++)O[R]=M(R)})(),t=ne(L,B),r=ne(U,K),n=ne(H,P),a=ne(ee,me),(function(){for(var M=1,R=2,q=1;q<=15;q++){for(var W=M;W<R;W++)g[32767+W]=q,m[32767+W]=[],m[32767+W][1]=q,m[32767+W][0]=W;for(var J=-(R-1);J<=-M;J++)g[32767+J]=q,m[32767+J]=[],m[32767+J][1]=q,m[32767+J][0]=R-1+J;M<<=1,R<<=1}})(),(function(){for(var M=0;M<256;M++)F[M]=19595*M,F[M+256|0]=38470*M,F[M+512|0]=7471*M+32768,F[M+768|0]=-11059*M,F[M+1024|0]=-21709*M,F[M+1280|0]=32768*M+8421375,F[M+1536|0]=-27439*M,F[M+1792|0]=-5329*M})(),te(e)}/**
 * @license
 * Copyright (c) 2017 Aras Abbasi
 *
 * Licensed under the MIT License.
 * http://opensource.org/licenses/mit-license
 */function vc(e,t){if(this.pos=0,this.buffer=e,this.datav=new DataView(e.buffer),this.is_with_alpha=!!t,this.bottom_up=!0,this.flag=String.fromCharCode(this.buffer[0])+String.fromCharCode(this.buffer[1]),this.pos+=2,["BM","BA","CI","CP","IC","PT"].indexOf(this.flag)===-1)throw new Error("Invalid BMP File");this.parseHeader(),this.parseBGR()}function nD(e){function t(B){if(!B)throw Error("assert :P")}function r(B,H,P){for(var U=0;4>U;U++)if(B[H+U]!=P.charCodeAt(U))return!0;return!1}function n(B,H,P,U,K){for(var ee=0;ee<K;ee++)B[H+ee]=P[U+ee]}function a(B,H,P,U){for(var K=0;K<U;K++)B[H+K]=P}function i(B){return new Int32Array(B)}function l(B,H){for(var P=[],U=0;U<B;U++)P.push(new H);return P}function o(B,H){var P=[];return(function U(K,ee,me){for(var ne=me[ee],se=0;se<ne&&(K.push(me.length>ee+1?[]:new H),!(me.length<ee+1));se++)U(K[se],ee+1,me)})(P,0,B),P}var u=function(){var B=this;function H(_,A){for(var z=1<<A-1>>>0;_&z;)z>>>=1;return z?(_&z-1)+z:_}function P(_,A,z,V,Z){t(!(V%z));do _[A+(V-=z)]=Z;while(0<V)}function U(_,A,z,V,Z){if(t(2328>=Z),512>=Z)var ae=i(512);else if((ae=i(Z))==null)return 0;return(function(ie,fe,pe,we,Ce,Ue){var be,De,Le=fe,Ze=1<<pe,Re=i(16),Qe=i(16);for(t(Ce!=0),t(we!=null),t(ie!=null),t(0<pe),De=0;De<Ce;++De){if(15<we[De])return 0;++Re[we[De]]}if(Re[0]==Ce)return 0;for(Qe[1]=0,be=1;15>be;++be){if(Re[be]>1<<be)return 0;Qe[be+1]=Qe[be]+Re[be]}for(De=0;De<Ce;++De)be=we[De],0<we[De]&&(Ue[Qe[be]++]=De);if(Qe[15]==1)return(we=new K).g=0,we.value=Ue[0],P(ie,Le,1,Ze,we),Ze;var nt,ht=-1,ot=Ze-1,qt=0,Tt=1,mr=1,Mt=1<<pe;for(De=0,be=1,Ce=2;be<=pe;++be,Ce<<=1){if(Tt+=mr<<=1,0>(mr-=Re[be]))return 0;for(;0<Re[be];--Re[be])(we=new K).g=be,we.value=Ue[De++],P(ie,Le+qt,Ce,Mt,we),qt=H(qt,be)}for(be=pe+1,Ce=2;15>=be;++be,Ce<<=1){if(Tt+=mr<<=1,0>(mr-=Re[be]))return 0;for(;0<Re[be];--Re[be]){if(we=new K,(qt&ot)!=ht){for(Le+=Mt,nt=1<<(ht=be)-pe;15>ht&&!(0>=(nt-=Re[ht]));)++ht,nt<<=1;Ze+=Mt=1<<(nt=ht-pe),ie[fe+(ht=qt&ot)].g=nt+pe,ie[fe+ht].value=Le-fe-ht}we.g=be-pe,we.value=Ue[De++],P(ie,Le+(qt>>pe),Ce,Mt,we),qt=H(qt,be)}}return Tt!=2*Qe[15]-1?0:Ze})(_,A,z,V,Z,ae)}function K(){this.value=this.g=0}function ee(){this.value=this.g=0}function me(){this.G=l(5,K),this.H=i(5),this.jc=this.Qb=this.qb=this.nd=0,this.pd=l($c,ee)}function ne(_,A,z,V){t(_!=null),t(A!=null),t(2147483648>V),_.Ca=254,_.I=0,_.b=-8,_.Ka=0,_.oa=A,_.pa=z,_.Jd=A,_.Yc=z+V,_.Zc=4<=V?z+V-4+1:z,ue(_)}function se(_,A){for(var z=0;0<A--;)z|=ge(_,128)<<A;return z}function ye(_,A){var z=se(_,A);return X(_)?-z:z}function ce(_,A,z,V){var Z,ae=0;for(t(_!=null),t(A!=null),t(4294967288>V),_.Sb=V,_.Ra=0,_.u=0,_.h=0,4<V&&(V=4),Z=0;Z<V;++Z)ae+=A[z+Z]<<8*Z;_.Ra=ae,_.bb=V,_.oa=A,_.pa=z}function Se(_){for(;8<=_.u&&_.bb<_.Sb;)_.Ra>>>=8,_.Ra+=_.oa[_.pa+_.bb]<<mo-8>>>0,++_.bb,_.u-=8;W(_)&&(_.h=1,_.u=0)}function te(_,A){if(t(0<=A),!_.h&&A<=Yi){var z=q(_)&ds[A];return _.u+=A,Se(_),z}return _.h=1,_.u=0}function M(){this.b=this.Ca=this.I=0,this.oa=[],this.pa=0,this.Jd=[],this.Yc=0,this.Zc=[],this.Ka=0}function R(){this.Ra=0,this.oa=[],this.h=this.u=this.bb=this.Sb=this.pa=0}function q(_){return _.Ra>>>(_.u&mo-1)>>>0}function W(_){return t(_.bb<=_.Sb),_.h||_.bb==_.Sb&&_.u>mo}function J(_,A){_.u=A,_.h=W(_)}function le(_){_.u>=po&&(t(_.u>=po),Se(_))}function ue(_){t(_!=null&&_.oa!=null),_.pa<_.Zc?(_.I=(_.oa[_.pa++]|_.I<<8)>>>0,_.b+=8):(t(_!=null&&_.oa!=null),_.pa<_.Yc?(_.b+=8,_.I=_.oa[_.pa++]|_.I<<8):_.Ka?_.b=0:(_.I<<=8,_.b+=8,_.Ka=1))}function X(_){return se(_,1)}function ge(_,A){var z=_.Ca;0>_.b&&ue(_);var V=_.b,Z=z*A>>>8,ae=(_.I>>>V>Z)+0;for(ae?(z-=Z,_.I-=Z+1<<V>>>0):z=Z+1,V=z,Z=0;256<=V;)Z+=8,V>>=8;return V=7^Z+ac[V],_.b-=V,_.Ca=(z<<V)-1,ae}function Te(_,A,z){_[A+0]=z>>24&255,_[A+1]=z>>16&255,_[A+2]=z>>8&255,_[A+3]=255&z}function Y(_,A){return _[A+0]|_[A+1]<<8}function We(_,A){return Y(_,A)|_[A+2]<<16}function Ee(_,A){return Y(_,A)|Y(_,A+2)<<16}function xe(_,A){var z=1<<A;return t(_!=null),t(0<A),_.X=i(z),_.X==null?0:(_.Mb=32-A,_.Xa=A,1)}function dt(_,A){t(_!=null),t(A!=null),t(_.Xa==A.Xa),n(A.X,0,_.X,0,1<<A.Xa)}function Xe(){this.X=[],this.Xa=this.Mb=0}function bt(_,A,z,V){t(z!=null),t(V!=null);var Z=z[0],ae=V[0];return Z==0&&(Z=(_*ae+A/2)/A),ae==0&&(ae=(A*Z+_/2)/_),0>=Z||0>=ae?0:(z[0]=Z,V[0]=ae,1)}function lt(_,A){return _+(1<<A)-1>>>A}function Ct(_,A){return((4278255360&_)+(4278255360&A)>>>0&4278255360)+((16711935&_)+(16711935&A)>>>0&16711935)>>>0}function xt(_,A){B[A]=function(z,V,Z,ae,ie,fe,pe){var we;for(we=0;we<ie;++we){var Ce=B[_](fe[pe+we-1],Z,ae+we);fe[pe+we]=Ct(z[V+we],Ce)}}}function Ke(){this.ud=this.hd=this.jd=0}function pt(_,A){return((4278124286&(_^A))>>>1)+(_&A)>>>0}function Et(_){return 0<=_&&256>_?_:0>_?0:255<_?255:void 0}function zt(_,A){return Et(_+(_-A+.5>>1))}function Gt(_,A,z){return Math.abs(A-z)-Math.abs(_-z)}function Ar(_,A,z,V,Z,ae,ie){for(V=ae[ie-1],z=0;z<Z;++z)ae[ie+z]=V=Ct(_[A+z],V)}function Lt(_,A,z,V,Z){var ae;for(ae=0;ae<z;++ae){var ie=_[A+ae],fe=ie>>8&255,pe=16711935&(pe=(pe=16711935&ie)+((fe<<16)+fe));V[Z+ae]=(4278255360&ie)+pe>>>0}}function Dt(_,A){A.jd=255&_,A.hd=_>>8&255,A.ud=_>>16&255}function yt(_,A,z,V,Z,ae){var ie;for(ie=0;ie<V;++ie){var fe=A[z+ie],pe=fe>>>8,we=fe,Ce=255&(Ce=(Ce=fe>>>16)+((_.jd<<24>>24)*(pe<<24>>24)>>>5));we=255&(we=(we+=(_.hd<<24>>24)*(pe<<24>>24)>>>5)+((_.ud<<24>>24)*(Ce<<24>>24)>>>5)),Z[ae+ie]=(4278255360&fe)+(Ce<<16)+we}}function kt(_,A,z,V,Z){B[A]=function(ae,ie,fe,pe,we,Ce,Ue,be,De){for(pe=Ue;pe<be;++pe)for(Ue=0;Ue<De;++Ue)we[Ce++]=Z(fe[V(ae[ie++])])},B[_]=function(ae,ie,fe,pe,we,Ce,Ue){var be=8>>ae.b,De=ae.Ea,Le=ae.K[0],Ze=ae.w;if(8>be)for(ae=(1<<ae.b)-1,Ze=(1<<be)-1;ie<fe;++ie){var Re,Qe=0;for(Re=0;Re<De;++Re)Re&ae||(Qe=V(pe[we++])),Ce[Ue++]=Z(Le[Qe&Ze]),Qe>>=be}else B["VP8LMapColor"+z](pe,we,Le,Ze,Ce,Ue,ie,fe,De)}}function _r(_,A,z,V,Z){for(z=A+z;A<z;){var ae=_[A++];V[Z++]=ae>>16&255,V[Z++]=ae>>8&255,V[Z++]=255&ae}}function Zt(_,A,z,V,Z){for(z=A+z;A<z;){var ae=_[A++];V[Z++]=ae>>16&255,V[Z++]=ae>>8&255,V[Z++]=255&ae,V[Z++]=ae>>24&255}}function At(_,A,z,V,Z){for(z=A+z;A<z;){var ae=(ie=_[A++])>>16&240|ie>>12&15,ie=240&ie|ie>>28&15;V[Z++]=ae,V[Z++]=ie}}function er(_,A,z,V,Z){for(z=A+z;A<z;){var ae=(ie=_[A++])>>16&248|ie>>13&7,ie=ie>>5&224|ie>>3&31;V[Z++]=ae,V[Z++]=ie}}function br(_,A,z,V,Z){for(z=A+z;A<z;){var ae=_[A++];V[Z++]=255&ae,V[Z++]=ae>>8&255,V[Z++]=ae>>16&255}}function ar(_,A,z,V,Z,ae){if(ae==0)for(z=A+z;A<z;)Te(V,((ae=_[A++])[0]>>24|ae[1]>>8&65280|ae[2]<<8&16711680|ae[3]<<24)>>>0),Z+=32;else n(V,Z,_,A,z)}function Er(_,A){B[A][0]=B[_+"0"],B[A][1]=B[_+"1"],B[A][2]=B[_+"2"],B[A][3]=B[_+"3"],B[A][4]=B[_+"4"],B[A][5]=B[_+"5"],B[A][6]=B[_+"6"],B[A][7]=B[_+"7"],B[A][8]=B[_+"8"],B[A][9]=B[_+"9"],B[A][10]=B[_+"10"],B[A][11]=B[_+"11"],B[A][12]=B[_+"12"],B[A][13]=B[_+"13"],B[A][14]=B[_+"0"],B[A][15]=B[_+"0"]}function dr(_){return _==u0||_==Lh||_==Vf||_==Mh}function pn(){this.eb=[],this.size=this.A=this.fb=0}function Un(){this.y=[],this.f=[],this.ea=[],this.F=[],this.Tc=this.Ed=this.Cd=this.Fd=this.lb=this.Db=this.Ab=this.fa=this.J=this.W=this.N=this.O=0}function qr(){this.Rd=this.height=this.width=this.S=0,this.f={},this.f.RGBA=new pn,this.f.kb=new Un,this.sd=null}function Yt(){this.width=[0],this.height=[0],this.Pd=[0],this.Qd=[0],this.format=[0]}function Fr(){this.Id=this.fd=this.Md=this.hb=this.ib=this.da=this.bd=this.cd=this.j=this.v=this.Da=this.Sd=this.ob=0}function Rs(_){return alert("todo:WebPSamplerProcessPlane"),_.T}function Qa(_,A){var z=_.T,V=A.ba.f.RGBA,Z=V.eb,ae=V.fb+_.ka*V.A,ie=pi[A.ba.S],fe=_.y,pe=_.O,we=_.f,Ce=_.N,Ue=_.ea,be=_.W,De=A.cc,Le=A.dc,Ze=A.Mc,Re=A.Nc,Qe=_.ka,nt=_.ka+_.T,ht=_.U,ot=ht+1>>1;for(Qe==0?ie(fe,pe,null,null,we,Ce,Ue,be,we,Ce,Ue,be,Z,ae,null,null,ht):(ie(A.ec,A.fc,fe,pe,De,Le,Ze,Re,we,Ce,Ue,be,Z,ae-V.A,Z,ae,ht),++z);Qe+2<nt;Qe+=2)De=we,Le=Ce,Ze=Ue,Re=be,Ce+=_.Rc,be+=_.Rc,ae+=2*V.A,ie(fe,(pe+=2*_.fa)-_.fa,fe,pe,De,Le,Ze,Re,we,Ce,Ue,be,Z,ae-V.A,Z,ae,ht);return pe+=_.fa,_.j+nt<_.o?(n(A.ec,A.fc,fe,pe,ht),n(A.cc,A.dc,we,Ce,ot),n(A.Mc,A.Nc,Ue,be,ot),z--):1&nt||ie(fe,pe,null,null,we,Ce,Ue,be,we,Ce,Ue,be,Z,ae+V.A,null,null,ht),z}function al(_,A,z){var V=_.F,Z=[_.J];if(V!=null){var ae=_.U,ie=A.ba.S,fe=ie==c0||ie==Vf;A=A.ba.f.RGBA;var pe=[0],we=_.ka;pe[0]=_.T,_.Kb&&(we==0?--pe[0]:(--we,Z[0]-=_.width),_.j+_.ka+_.T==_.o&&(pe[0]=_.o-_.j-we));var Ce=A.eb;we=A.fb+we*A.A,_=i0(V,Z[0],_.width,ae,pe,Ce,we+(fe?0:3),A.A),t(z==pe),_&&dr(ie)&&Tu(Ce,we,fe,ae,pe,A.A)}return 0}function us(_){var A=_.ma,z=A.ba.S,V=11>z,Z=z==Fi||z==ul||z==c0||z==Hf||z==12||dr(z);if(A.memory=null,A.Ib=null,A.Jb=null,A.Nd=null,!nc(A.Oa,_,Z?11:12))return 0;if(Z&&dr(z)&&Ch(),_.da)alert("todo:use_scaling");else{if(V){if(A.Ib=Rs,_.Kb){if(z=_.U+1>>1,A.memory=i(_.U+2*z),A.memory==null)return 0;A.ec=A.memory,A.fc=0,A.cc=A.ec,A.dc=A.fc+_.U,A.Mc=A.cc,A.Nc=A.dc+z,A.Ib=Qa,Ch()}}else alert("todo:EmitYUV");Z&&(A.Jb=al,V&&ll())}if(V&&!Xc){for(_=0;256>_;++_)xi[_]=89858*(_-128)+Kf>>xl,nb[_]=-22014*(_-128)+Kf,a1[_]=-45773*(_-128),zh[_]=113618*(_-128)+Kf>>xl;for(_=Pu;_<Yc;++_)A=76283*(_-16)+Kf>>xl,ab[_-Pu]=na(A,255),ib[_-Pu]=na(A+8>>4,15);Xc=1}return 1}function Xt(_){var A=_.ma,z=_.U,V=_.T;return t(!(1&_.ka)),0>=z||0>=V?0:(z=A.Ib(_,A),A.Jb!=null&&A.Jb(_,A,z),A.Dc+=z,1)}function Ol(_){_.ma.memory=null}function il(_,A,z,V){return te(_,8)!=47?0:(A[0]=te(_,14)+1,z[0]=te(_,14)+1,V[0]=te(_,1),te(_,3)!=0?0:!_.h)}function oi(_,A){if(4>_)return _+1;var z=_-2>>1;return(2+(1&_)<<z)+te(A,z)+1}function Vi(_,A){return 120<A?A-120:1<=(z=((z=dl[A-1])>>4)*_+(8-(15&z)))?z:1;var z}function jn(_,A,z){var V=q(z),Z=_[A+=255&V].g-8;return 0<Z&&(J(z,z.u+8),V=q(z),A+=_[A].value,A+=V&(1<<Z)-1),J(z,z.u+_[A].g),_[A].value}function ra(_,A,z){return z.g+=_.g,z.value+=_.value<<A>>>0,t(8>=z.g),_.g}function re(_,A,z){var V=_.xc;return t((A=V==0?0:_.vc[_.md*(z>>V)+(A>>V)])<_.Wb),_.Ya[A]}function Ne(_,A,z,V){var Z=_.ab,ae=_.c*A,ie=_.C;A=ie+A;var fe=z,pe=V;for(V=_.Ta,z=_.Ua;0<Z--;){var we=_.gc[Z],Ce=ie,Ue=A,be=fe,De=pe,Le=(pe=V,fe=z,we.Ea);switch(t(Ce<Ue),t(Ue<=we.nc),we.hc){case 2:ya(be,De,(Ue-Ce)*Le,pe,fe);break;case 0:var Ze=Ce,Re=Ue,Qe=pe,nt=fe,ht=(Mt=we).Ea;Ze==0&&(Uf(be,De,null,null,1,Qe,nt),Ar(be,De+1,0,0,ht-1,Qe,nt+1),De+=ht,nt+=ht,++Ze);for(var ot=1<<Mt.b,qt=ot-1,Tt=lt(ht,Mt.b),mr=Mt.K,Mt=Mt.w+(Ze>>Mt.b)*Tt;Ze<Re;){var Or=mr,Ln=Mt,gr=1;for(zf(be,De,Qe,nt-ht,1,Qe,nt);gr<ht;){var Ot=(gr&~qt)+ot;Ot>ht&&(Ot=ht),(0,ic[Or[Ln++]>>8&15])(be,De+ +gr,Qe,nt+gr-ht,Ot-gr,Qe,nt+gr),gr=Ot}De+=ht,nt+=ht,++Ze&qt||(Mt+=Tt)}Ue!=we.nc&&n(pe,fe-Le,pe,fe+(Ue-Ce-1)*Le,Le);break;case 1:for(Le=be,Re=De,ht=(be=we.Ea)-(nt=be&~(Qe=(De=1<<we.b)-1)),Ze=lt(be,we.b),ot=we.K,we=we.w+(Ce>>we.b)*Ze;Ce<Ue;){for(qt=ot,Tt=we,mr=new Ke,Mt=Re+nt,Or=Re+be;Re<Mt;)Dt(qt[Tt++],mr),qf(mr,Le,Re,De,pe,fe),Re+=De,fe+=De;Re<Or&&(Dt(qt[Tt++],mr),qf(mr,Le,Re,ht,pe,fe),Re+=ht,fe+=ht),++Ce&Qe||(we+=Ze)}break;case 3:if(be==pe&&De==fe&&0<we.b){for(Re=pe,be=Le=fe+(Ue-Ce)*Le-(nt=(Ue-Ce)*lt(we.Ea,we.b)),De=pe,Qe=fe,Ze=[],nt=(ht=nt)-1;0<=nt;--nt)Ze[nt]=De[Qe+nt];for(nt=ht-1;0<=nt;--nt)Re[be+nt]=Ze[nt];Th(we,Ce,Ue,pe,Le,pe,fe)}else Th(we,Ce,Ue,be,De,pe,fe)}fe=V,pe=z}pe!=z&&n(V,z,fe,pe,ae)}function de(_,A){var z=_.V,V=_.Ba+_.c*_.C,Z=A-_.C;if(t(A<=_.l.o),t(16>=Z),0<Z){var ae=_.l,ie=_.Ta,fe=_.Ua,pe=ae.width;if(Ne(_,Z,z,V),Z=fe=[fe],t((z=_.C)<(V=A)),t(ae.v<ae.va),V>ae.o&&(V=ae.o),z<ae.j){var we=ae.j-z;z=ae.j,Z[0]+=we*pe}if(z>=V?z=0:(Z[0]+=4*ae.v,ae.ka=z-ae.j,ae.U=ae.va-ae.v,ae.T=V-z,z=1),z){if(fe=fe[0],11>(z=_.ca).S){var Ce=z.f.RGBA,Ue=(V=z.S,Z=ae.U,ae=ae.T,we=Ce.eb,Ce.A),be=ae;for(Ce=Ce.fb+_.Ma*Ce.A;0<be--;){var De=ie,Le=fe,Ze=Z,Re=we,Qe=Ce;switch(V){case Fh:$f(De,Le,Ze,Re,Qe);break;case Fi:sc(De,Le,Ze,Re,Qe);break;case u0:sc(De,Le,Ze,Re,Qe),Tu(Re,Qe,0,Ze,1,0);break;case Ph:ku(De,Le,Ze,Re,Qe);break;case ul:ar(De,Le,Ze,Re,Qe,1);break;case Lh:ar(De,Le,Ze,Re,Qe,1),Tu(Re,Qe,0,Ze,1,0);break;case c0:ar(De,Le,Ze,Re,Qe,0);break;case Vf:ar(De,Le,Ze,Re,Qe,0),Tu(Re,Qe,1,Ze,1,0);break;case Hf:lc(De,Le,Ze,Re,Qe);break;case Mh:lc(De,Le,Ze,Re,Qe),cl(Re,Qe,Ze,1,0);break;case Hc:vo(De,Le,Ze,Re,Qe);break;default:t(0)}fe+=pe,Ce+=Ue}_.Ma+=ae}else alert("todo:EmitRescaledRowsYUVA");t(_.Ma<=z.height)}}_.C=A,t(_.C<=_.i)}function he(_){var A;if(0<_.ua)return 0;for(A=0;A<_.Wb;++A){var z=_.Ya[A].G,V=_.Ya[A].H;if(0<z[1][V[1]+0].g||0<z[2][V[2]+0].g||0<z[3][V[3]+0].g)return 0}return 1}function ve(_,A,z,V,Z,ae){if(_.Z!=0){var ie=_.qd,fe=_.rd;for(t(uc[_.Z]!=null);A<z;++A)uc[_.Z](ie,fe,V,Z,V,Z,ae),ie=V,fe=Z,Z+=ae;_.qd=ie,_.rd=fe}}function je(_,A){var z=_.l.ma,V=z.Z==0||z.Z==1?_.l.j:_.C;if(V=_.C<V?V:_.C,t(A<=_.l.o),A>V){var Z=_.l.width,ae=z.ca,ie=z.tb+Z*V,fe=_.V,pe=_.Ba+_.c*V,we=_.gc;t(_.ab==1),t(we[0].hc==3),go(we[0],V,A,fe,pe,ae,ie),ve(z,V,A,ae,ie,Z)}_.C=_.Ma=A}function Me(_,A,z,V,Z,ae,ie){var fe=_.$/V,pe=_.$%V,we=_.m,Ce=_.s,Ue=z+_.$,be=Ue;Z=z+V*Z;var De=z+V*ae,Le=280+Ce.ua,Ze=_.Pb?fe:16777216,Re=0<Ce.ua?Ce.Wa:null,Qe=Ce.wc,nt=Ue<De?re(Ce,pe,fe):null;t(_.C<ae),t(De<=Z);var ht=!1;e:for(;;){for(;ht||Ue<De;){var ot=0;if(fe>=Ze){var qt=Ue-z;t((Ze=_).Pb),Ze.wd=Ze.m,Ze.xd=qt,0<Ze.s.ua&&dt(Ze.s.Wa,Ze.s.vb),Ze=fe+Vc}if(pe&Qe||(nt=re(Ce,pe,fe)),t(nt!=null),nt.Qb&&(A[Ue]=nt.qb,ht=!0),!ht)if(le(we),nt.jc){ot=we,qt=A;var Tt=Ue,mr=nt.pd[q(ot)&$c-1];t(nt.jc),256>mr.g?(J(ot,ot.u+mr.g),qt[Tt]=mr.value,ot=0):(J(ot,ot.u+mr.g-256),t(256<=mr.value),ot=mr.value),ot==0&&(ht=!0)}else ot=jn(nt.G[0],nt.H[0],we);if(we.h)break;if(ht||256>ot){if(!ht)if(nt.nd)A[Ue]=(nt.qb|ot<<8)>>>0;else{if(le(we),ht=jn(nt.G[1],nt.H[1],we),le(we),qt=jn(nt.G[2],nt.H[2],we),Tt=jn(nt.G[3],nt.H[3],we),we.h)break;A[Ue]=(Tt<<24|ht<<16|ot<<8|qt)>>>0}if(ht=!1,++Ue,++pe>=V&&(pe=0,++fe,ie!=null&&fe<=ae&&!(fe%16)&&ie(_,fe),Re!=null))for(;be<Ue;)ot=A[be++],Re.X[(506832829*ot&4294967295)>>>Re.Mb]=ot}else if(280>ot){if(ot=oi(ot-256,we),qt=jn(nt.G[4],nt.H[4],we),le(we),qt=Vi(V,qt=oi(qt,we)),we.h)break;if(Ue-z<qt||Z-Ue<ot)break e;for(Tt=0;Tt<ot;++Tt)A[Ue+Tt]=A[Ue+Tt-qt];for(Ue+=ot,pe+=ot;pe>=V;)pe-=V,++fe,ie!=null&&fe<=ae&&!(fe%16)&&ie(_,fe);if(t(Ue<=Z),pe&Qe&&(nt=re(Ce,pe,fe)),Re!=null)for(;be<Ue;)ot=A[be++],Re.X[(506832829*ot&4294967295)>>>Re.Mb]=ot}else{if(!(ot<Le))break e;for(ht=ot-280,t(Re!=null);be<Ue;)ot=A[be++],Re.X[(506832829*ot&4294967295)>>>Re.Mb]=ot;ot=Ue,t(!(ht>>>(qt=Re).Xa)),A[ot]=qt.X[ht],ht=!0}ht||t(we.h==W(we))}if(_.Pb&&we.h&&Ue<Z)t(_.m.h),_.a=5,_.m=_.wd,_.$=_.xd,0<_.s.ua&&dt(_.s.vb,_.s.Wa);else{if(we.h)break e;ie?.(_,fe>ae?ae:fe),_.a=0,_.$=Ue-z}return 1}return _.a=3,0}function Ye(_){t(_!=null),_.vc=null,_.yc=null,_.Ya=null;var A=_.Wa;A!=null&&(A.X=null),_.vb=null,t(_!=null)}function Ie(){var _=new Vt;return _==null?null:(_.a=0,_.xb=Ap,Er("Predictor","VP8LPredictors"),Er("Predictor","VP8LPredictors_C"),Er("PredictorAdd","VP8LPredictorsAdd"),Er("PredictorAdd","VP8LPredictorsAdd_C"),ya=Lt,qf=yt,$f=_r,sc=Zt,lc=At,vo=er,ku=br,B.VP8LMapColor32b=xo,B.VP8LMapColor8b=di,_)}function Be(_,A,z,V,Z){var ae=1,ie=[_],fe=[A],pe=V.m,we=V.s,Ce=null,Ue=0;e:for(;;){if(z)for(;ae&&te(pe,1);){var be=ie,De=fe,Le=V,Ze=1,Re=Le.m,Qe=Le.gc[Le.ab],nt=te(Re,2);if(Le.Oc&1<<nt)ae=0;else{switch(Le.Oc|=1<<nt,Qe.hc=nt,Qe.Ea=be[0],Qe.nc=De[0],Qe.K=[null],++Le.ab,t(4>=Le.ab),nt){case 0:case 1:Qe.b=te(Re,3)+2,Ze=Be(lt(Qe.Ea,Qe.b),lt(Qe.nc,Qe.b),0,Le,Qe.K),Qe.K=Qe.K[0];break;case 3:var ht,ot=te(Re,8)+1,qt=16<ot?0:4<ot?1:2<ot?2:3;if(be[0]=lt(Qe.Ea,qt),Qe.b=qt,ht=Ze=Be(ot,1,0,Le,Qe.K)){var Tt,mr=ot,Mt=Qe,Or=1<<(8>>Mt.b),Ln=i(Or);if(Ln==null)ht=0;else{var gr=Mt.K[0],Ot=Mt.w;for(Ln[0]=Mt.K[0][0],Tt=1;Tt<1*mr;++Tt)Ln[Tt]=Ct(gr[Ot+Tt],Ln[Tt-1]);for(;Tt<4*Or;++Tt)Ln[Tt]=0;Mt.K[0]=null,Mt.K[0]=Ln,ht=1}}Ze=ht;break;case 2:break;default:t(0)}ae=Ze}}if(ie=ie[0],fe=fe[0],ae&&te(pe,1)&&!(ae=1<=(Ue=te(pe,4))&&11>=Ue)){V.a=3;break e}var jt;if(jt=ae)t:{var Wn,sr,wr,on=V,za=ie,gi=fe,En=Ue,Ea=z,Pi=on.m,ka=on.s,kr=[null],$r=1,Gn=0,Xr=hl[En];r:for(;;){if(Ea&&te(Pi,1)){var qa=te(Pi,3)+2,Kn=lt(za,qa),Hr=lt(gi,qa),Na=Kn*Hr;if(!Be(Kn,Hr,0,on,kr))break r;for(kr=kr[0],ka.xc=qa,Wn=0;Wn<Na;++Wn){var cn=kr[Wn]>>8&65535;kr[Wn]=cn,cn>=$r&&($r=cn+1)}}if(Pi.h)break r;for(sr=0;5>sr;++sr){var Ca=Du[sr];!sr&&0<En&&(Ca+=1<<En),Gn<Ca&&(Gn=Ca)}var Ta=l($r*Xr,K),xn=$r,zr=l(xn,me);if(zr==null)var Li=null;else t(65536>=xn),Li=zr;var ia=i(Gn);if(Li==null||ia==null||Ta==null){on.a=1;break r}var Jt=Ta;for(Wn=wr=0;Wn<$r;++Wn){var tr=Li[Wn],Vr=tr.G,hs=tr.H,gl=0,Qi=1,Oa=0;for(sr=0;5>sr;++sr){Ca=Du[sr],Vr[sr]=Jt,hs[sr]=wr,!sr&&0<En&&(Ca+=1<<En);a:{var Qc,Zc=Ca,$h=on,kn=ia,kp=Jt,Cp=wr,Hh=0,fc=$h.m,sb=te(fc,1);if(a(kn,0,0,Zc),sb){var Tp=te(fc,1)+1,Op=te(fc,1),Vh=te(fc,Op==0?1:8);kn[Vh]=1,Tp==2&&(kn[Vh=te(fc,8)]=1);var Ja=1}else{var sa=i(19),m0=te(fc,4)+4;if(19<m0){$h.a=3;var Jc=0;break a}for(Qc=0;Qc<m0;++Qc)sa[f0[Qc]]=te(fc,3);var Xf=void 0,Lu=void 0,wo=$h,Wh=sa,Qf=Zc,Gh=kn,Kh=0,dc=wo.m,Dp=8,Fp=l(128,K);n:for(;U(Fp,0,7,Wh,19);){if(te(dc,1)){var i1=2+2*te(dc,3);if((Xf=2+te(dc,i1))>Qf)break n}else Xf=Qf;for(Lu=0;Lu<Qf&&Xf--;){le(dc);var Pp=Fp[0+(127&q(dc))];J(dc,dc.u+Pp.g);var eu=Pp.value;if(16>eu)Gh[Lu++]=eu,eu!=0&&(Dp=eu);else{var s1=eu==16,l1=eu-16,o1=Wf[l1],Lp=te(dc,fl[l1])+o1;if(Lu+Lp>Qf)break n;for(var c1=s1?Dp:0;0<Lp--;)Gh[Lu++]=c1}}Kh=1;break n}Kh||(wo.a=3),Ja=Kh}(Ja=Ja&&!fc.h)&&(Hh=U(kp,Cp,8,kn,Zc)),Ja&&Hh!=0?Jc=Hh:($h.a=3,Jc=0)}if(Jc==0)break r;if(Qi&&Rh[sr]==1&&(Qi=Jt[wr].g==0),gl+=Jt[wr].g,wr+=Jc,3>=sr){var Mu,Yh=ia[0];for(Mu=1;Mu<Ca;++Mu)ia[Mu]>Yh&&(Yh=ia[Mu]);Oa+=Yh}}if(tr.nd=Qi,tr.Qb=0,Qi&&(tr.qb=(Vr[3][hs[3]+0].value<<24|Vr[1][hs[1]+0].value<<16|Vr[2][hs[2]+0].value)>>>0,gl==0&&256>Vr[0][hs[0]+0].value&&(tr.Qb=1,tr.qb+=Vr[0][hs[0]+0].value<<8)),tr.jc=!tr.Qb&&6>Oa,tr.jc){var p0,No=tr;for(p0=0;p0<$c;++p0){var hc=p0,mc=No.pd[hc],Xh=No.G[0][No.H[0]+hc];256<=Xh.value?(mc.g=Xh.g+256,mc.value=Xh.value):(mc.g=0,mc.value=0,hc>>=ra(Xh,8,mc),hc>>=ra(No.G[1][No.H[1]+hc],16,mc),hc>>=ra(No.G[2][No.H[2]+hc],0,mc),ra(No.G[3][No.H[3]+hc],24,mc))}}}ka.vc=kr,ka.Wb=$r,ka.Ya=Li,ka.yc=Ta,jt=1;break t}jt=0}if(!(ae=jt)){V.a=3;break e}if(0<Ue){if(we.ua=1<<Ue,!xe(we.Wa,Ue)){V.a=1,ae=0;break e}}else we.ua=0;var Qh=V,Ru=ie,u1=fe,Zf=Qh.s,Jf=Zf.xc;if(Qh.c=Ru,Qh.i=u1,Zf.md=lt(Ru,Jf),Zf.wc=Jf==0?-1:(1<<Jf)-1,z){V.xb=Wc;break e}if((Ce=i(ie*fe))==null){V.a=1,ae=0;break e}ae=(ae=Me(V,Ce,0,ie,fe,fe,null))&&!pe.h;break e}return ae?(Z!=null?Z[0]=Ce:(t(Ce==null),t(z)),V.$=0,z||Ye(we)):Ye(we),ae}function ze(_,A){var z=_.c*_.i,V=z+A+16*A;return t(_.c<=A),_.V=i(V),_.V==null?(_.Ta=null,_.Ua=0,_.a=1,0):(_.Ta=_.V,_.Ua=_.Ba+z+A,1)}function ft(_,A){var z=_.C,V=A-z,Z=_.V,ae=_.Ba+_.c*z;for(t(A<=_.l.o);0<V;){var ie=16<V?16:V,fe=_.l.ma,pe=_.l.width,we=pe*ie,Ce=fe.ca,Ue=fe.tb+pe*z,be=_.Ta,De=_.Ua;Ne(_,ie,Z,ae),Vs(be,De,Ce,Ue,we),ve(fe,z,z+ie,Ce,Ue,pe),V-=ie,Z+=ie*_.c,z+=ie}t(z==A),_.C=_.Ma=A}function gt(){this.ub=this.yd=this.td=this.Rb=0}function St(){this.Kd=this.Ld=this.Ud=this.Td=this.i=this.c=0}function mt(){this.Fb=this.Bb=this.Cb=0,this.Zb=i(4),this.Lb=i(4)}function Nt(){this.Yb=(function(){var _=[];return(function A(z,V,Z){for(var ae=Z[V],ie=0;ie<ae&&(z.push(Z.length>V+1?[]:0),!(Z.length<V+1));ie++)A(z[ie],V+1,Z)})(_,0,[3,11]),_})()}function Ft(){this.jb=i(3),this.Wc=o([4,8],Nt),this.Xc=o([4,17],Nt)}function ln(){this.Pc=this.wb=this.Tb=this.zd=0,this.vd=new i(4),this.od=new i(4)}function Cr(){this.ld=this.La=this.dd=this.tc=0}function fn(){this.Na=this.la=0}function Wi(){this.Sc=[0,0],this.Eb=[0,0],this.Qc=[0,0],this.ia=this.lc=0}function Dl(){this.ad=i(384),this.Za=0,this.Ob=i(16),this.$b=this.Ad=this.ia=this.Gc=this.Hc=this.Dd=0}function Fl(){this.uc=this.M=this.Nb=0,this.wa=Array(new Cr),this.Y=0,this.ya=Array(new Dl),this.aa=0,this.l=new Ba}function Is(){this.y=i(16),this.f=i(8),this.ea=i(8)}function Rc(){this.cb=this.a=0,this.sc="",this.m=new M,this.Od=new gt,this.Kc=new St,this.ed=new ln,this.Qa=new mt,this.Ic=this.$c=this.Aa=0,this.D=new Fl,this.Xb=this.Va=this.Hb=this.zb=this.yb=this.Ub=this.za=0,this.Jc=l(8,M),this.ia=0,this.pb=l(4,Wi),this.Pa=new Ft,this.Bd=this.kc=0,this.Ac=[],this.Bc=0,this.zc=[0,0,0,0],this.Gd=Array(new Is),this.Hd=0,this.rb=Array(new fn),this.sb=0,this.wa=Array(new Cr),this.Y=0,this.oc=[],this.pc=0,this.sa=[],this.ta=0,this.qa=[],this.ra=0,this.Ha=[],this.B=this.R=this.Ia=0,this.Ec=[],this.M=this.ja=this.Vb=this.Fc=0,this.ya=Array(new Dl),this.L=this.aa=0,this.gd=o([4,2],Cr),this.ga=null,this.Fa=[],this.Cc=this.qc=this.P=0,this.Gb=[],this.Uc=0,this.mb=[],this.nb=0,this.rc=[],this.Ga=this.Vc=0}function Ba(){this.T=this.U=this.ka=this.height=this.width=0,this.y=[],this.f=[],this.ea=[],this.Rc=this.fa=this.W=this.N=this.O=0,this.ma="void",this.put="VP8IoPutHook",this.ac="VP8IoSetupHook",this.bc="VP8IoTeardownHook",this.ha=this.Kb=0,this.data=[],this.hb=this.ib=this.da=this.o=this.j=this.va=this.v=this.Da=this.ob=this.w=0,this.F=[],this.J=0}function Ff(){var _=new Rc;return _!=null&&(_.a=0,_.sc="OK",_.cb=0,_.Xb=0,Ws||(Ws=Ko)),_}function dn(_,A,z){return _.a==0&&(_.a=A,_.sc=z,_.cb=0),0}function Gi(_,A,z){return 3<=z&&_[A+0]==157&&_[A+1]==1&&_[A+2]==42}function Wd(_,A){if(_==null)return 0;if(_.a=0,_.sc="OK",A==null)return dn(_,2,"null VP8Io passed to VP8GetHeaders()");var z=A.data,V=A.w,Z=A.ha;if(4>Z)return dn(_,7,"Truncated header.");var ae=z[V+0]|z[V+1]<<8|z[V+2]<<16,ie=_.Od;if(ie.Rb=!(1&ae),ie.td=ae>>1&7,ie.yd=ae>>4&1,ie.ub=ae>>5,3<ie.td)return dn(_,3,"Incorrect keyframe parameters.");if(!ie.yd)return dn(_,4,"Frame not displayable.");V+=3,Z-=3;var fe=_.Kc;if(ie.Rb){if(7>Z)return dn(_,7,"cannot parse picture header");if(!Gi(z,V,Z))return dn(_,3,"Bad code word");fe.c=16383&(z[V+4]<<8|z[V+3]),fe.Td=z[V+4]>>6,fe.i=16383&(z[V+6]<<8|z[V+5]),fe.Ud=z[V+6]>>6,V+=7,Z-=7,_.za=fe.c+15>>4,_.Ub=fe.i+15>>4,A.width=fe.c,A.height=fe.i,A.Da=0,A.j=0,A.v=0,A.va=A.width,A.o=A.height,A.da=0,A.ib=A.width,A.hb=A.height,A.U=A.width,A.T=A.height,a((ae=_.Pa).jb,0,255,ae.jb.length),t((ae=_.Qa)!=null),ae.Cb=0,ae.Bb=0,ae.Fb=1,a(ae.Zb,0,0,ae.Zb.length),a(ae.Lb,0,0,ae.Lb)}if(ie.ub>Z)return dn(_,7,"bad partition length");ne(ae=_.m,z,V,ie.ub),V+=ie.ub,Z-=ie.ub,ie.Rb&&(fe.Ld=X(ae),fe.Kd=X(ae)),fe=_.Qa;var pe,we=_.Pa;if(t(ae!=null),t(fe!=null),fe.Cb=X(ae),fe.Cb){if(fe.Bb=X(ae),X(ae)){for(fe.Fb=X(ae),pe=0;4>pe;++pe)fe.Zb[pe]=X(ae)?ye(ae,7):0;for(pe=0;4>pe;++pe)fe.Lb[pe]=X(ae)?ye(ae,6):0}if(fe.Bb)for(pe=0;3>pe;++pe)we.jb[pe]=X(ae)?se(ae,8):255}else fe.Bb=0;if(ae.Ka)return dn(_,3,"cannot parse segment header");if((fe=_.ed).zd=X(ae),fe.Tb=se(ae,6),fe.wb=se(ae,3),fe.Pc=X(ae),fe.Pc&&X(ae)){for(we=0;4>we;++we)X(ae)&&(fe.vd[we]=ye(ae,6));for(we=0;4>we;++we)X(ae)&&(fe.od[we]=ye(ae,6))}if(_.L=fe.Tb==0?0:fe.zd?1:2,ae.Ka)return dn(_,3,"cannot parse filter header");var Ce=Z;if(Z=pe=V,V=pe+Ce,fe=Ce,_.Xb=(1<<se(_.m,2))-1,Ce<3*(we=_.Xb))z=7;else{for(pe+=3*we,fe-=3*we,Ce=0;Ce<we;++Ce){var Ue=z[Z+0]|z[Z+1]<<8|z[Z+2]<<16;Ue>fe&&(Ue=fe),ne(_.Jc[+Ce],z,pe,Ue),pe+=Ue,fe-=Ue,Z+=3}ne(_.Jc[+we],z,pe,fe),z=pe<V?0:5}if(z!=0)return dn(_,z,"cannot parse partitions");for(z=se(pe=_.m,7),Z=X(pe)?ye(pe,4):0,V=X(pe)?ye(pe,4):0,fe=X(pe)?ye(pe,4):0,we=X(pe)?ye(pe,4):0,pe=X(pe)?ye(pe,4):0,Ce=_.Qa,Ue=0;4>Ue;++Ue){if(Ce.Cb){var be=Ce.Zb[Ue];Ce.Fb||(be+=z)}else{if(0<Ue){_.pb[Ue]=_.pb[0];continue}be=z}var De=_.pb[Ue];De.Sc[0]=ml[na(be+Z,127)],De.Sc[1]=pl[na(be+0,127)],De.Eb[0]=2*ml[na(be+V,127)],De.Eb[1]=101581*pl[na(be+fe,127)]>>16,8>De.Eb[1]&&(De.Eb[1]=8),De.Qc[0]=ml[na(be+we,117)],De.Qc[1]=pl[na(be+pe,127)],De.lc=be+pe}if(!ie.Rb)return dn(_,4,"Not a key frame.");for(X(ae),ie=_.Pa,z=0;4>z;++z){for(Z=0;8>Z;++Z)for(V=0;3>V;++V)for(fe=0;11>fe;++fe)we=ge(ae,Pn[z][Z][V][fe])?se(ae,8):n1[z][Z][V][fe],ie.Wc[z][Z].Yb[V][fe]=we;for(Z=0;17>Z;++Z)ie.Xc[z][Z]=ie.Wc[z][Pr[Z]]}return _.kc=X(ae),_.kc&&(_.Bd=se(ae,8)),_.cb=1}function Ko(_,A,z,V,Z,ae,ie){var fe=A[Z].Yb[z];for(z=0;16>Z;++Z){if(!ge(_,fe[z+0]))return Z;for(;!ge(_,fe[z+1]);)if(fe=A[++Z].Yb[0],z=0,Z==16)return 16;var pe=A[Z+1].Yb;if(ge(_,fe[z+2])){var we=_,Ce=0;if(ge(we,(be=fe)[(Ue=z)+3]))if(ge(we,be[Ue+6])){for(fe=0,Ue=2*(Ce=ge(we,be[Ue+8]))+(be=ge(we,be[Ue+9+Ce])),Ce=0,be=r1[Ue];be[fe];++fe)Ce+=Ce+ge(we,be[fe]);Ce+=3+(8<<Ue)}else ge(we,be[Ue+7])?(Ce=7+2*ge(we,165),Ce+=ge(we,145)):Ce=5+ge(we,159);else Ce=ge(we,be[Ue+4])?3+ge(we,be[Ue+5]):2;fe=pe[2]}else Ce=1,fe=pe[1];pe=ie+Sp[Z],0>(we=_).b&&ue(we);var Ue,be=we.b,De=(Ue=we.Ca>>1)-(we.I>>be)>>31;--we.b,we.Ca+=De,we.Ca|=1,we.I-=(Ue+1&De)<<be,ae[pe]=((Ce^De)-De)*V[(0<Z)+0]}return 16}function Yo(_){var A=_.rb[_.sb-1];A.la=0,A.Na=0,a(_.zc,0,0,_.zc.length),_.ja=0}function sl(_,A,z,V,Z){Z=_[A+z+32*V]+(Z>>3),_[A+z+32*V]=-256&Z?0>Z?0:255:Z}function lo(_,A,z,V,Z,ae){sl(_,A,0,z,V+Z),sl(_,A,1,z,V+ae),sl(_,A,2,z,V-ae),sl(_,A,3,z,V-Z)}function ga(_){return(20091*_>>16)+_}function Ti(_,A,z,V){var Z,ae=0,ie=i(16);for(Z=0;4>Z;++Z){var fe=_[A+0]+_[A+8],pe=_[A+0]-_[A+8],we=(35468*_[A+4]>>16)-ga(_[A+12]),Ce=ga(_[A+4])+(35468*_[A+12]>>16);ie[ae+0]=fe+Ce,ie[ae+1]=pe+we,ie[ae+2]=pe-we,ie[ae+3]=fe-Ce,ae+=4,A++}for(Z=ae=0;4>Z;++Z)fe=(_=ie[ae+0]+4)+ie[ae+8],pe=_-ie[ae+8],we=(35468*ie[ae+4]>>16)-ga(ie[ae+12]),sl(z,V,0,0,fe+(Ce=ga(ie[ae+4])+(35468*ie[ae+12]>>16))),sl(z,V,1,0,pe+we),sl(z,V,2,0,pe-we),sl(z,V,3,0,fe-Ce),ae++,V+=32}function Gd(_,A,z,V){var Z=_[A+0]+4,ae=35468*_[A+4]>>16,ie=ga(_[A+4]),fe=35468*_[A+1]>>16;lo(z,V,0,Z+ie,_=ga(_[A+1]),fe),lo(z,V,1,Z+ae,_,fe),lo(z,V,2,Z-ae,_,fe),lo(z,V,3,Z-ie,_,fe)}function wh(_,A,z,V,Z){Ti(_,A,z,V),Z&&Ti(_,A+16,z,V+4)}function Kd(_,A,z,V){oc(_,A+0,z,V,1),oc(_,A+32,z,V+128,1)}function Ki(_,A,z,V){var Z;for(_=_[A+0]+4,Z=0;4>Z;++Z)for(A=0;4>A;++A)sl(z,V,A,Z,_)}function Yd(_,A,z,V){_[A+0]&&Yr(_,A+0,z,V),_[A+16]&&Yr(_,A+16,z,V+4),_[A+32]&&Yr(_,A+32,z,V+128),_[A+48]&&Yr(_,A+48,z,V+128+4)}function Xd(_,A,z,V){var Z,ae=i(16);for(Z=0;4>Z;++Z){var ie=_[A+0+Z]+_[A+12+Z],fe=_[A+4+Z]+_[A+8+Z],pe=_[A+4+Z]-_[A+8+Z],we=_[A+0+Z]-_[A+12+Z];ae[0+Z]=ie+fe,ae[8+Z]=ie-fe,ae[4+Z]=we+pe,ae[12+Z]=we-pe}for(Z=0;4>Z;++Z)ie=(_=ae[0+4*Z]+3)+ae[3+4*Z],fe=ae[1+4*Z]+ae[2+4*Z],pe=ae[1+4*Z]-ae[2+4*Z],we=_-ae[3+4*Z],z[V+0]=ie+fe>>3,z[V+16]=we+pe>>3,z[V+32]=ie-fe>>3,z[V+48]=we-pe>>3,V+=64}function Bs(_,A,z){var V,Z=A-32,ae=Di,ie=255-_[Z-1];for(V=0;V<z;++V){var fe,pe=ae,we=ie+_[A-1];for(fe=0;fe<z;++fe)_[A+fe]=pe[we+_[Z+fe]];A+=32}}function Qd(_,A){Bs(_,A,4)}function Nh(_,A){Bs(_,A,8)}function _h(_,A){Bs(_,A,16)}function Zd(_,A){var z;for(z=0;16>z;++z)n(_,A+32*z,_,A-32,16)}function Jd(_,A){var z;for(z=16;0<z;--z)a(_,A,_[A-1],16),A+=32}function yu(_,A,z){var V;for(V=0;16>V;++V)a(A,z+32*V,_,16)}function Pl(_,A){var z,V=16;for(z=0;16>z;++z)V+=_[A-1+32*z]+_[A+z-32];yu(V>>5,_,A)}function Ll(_,A){var z,V=8;for(z=0;16>z;++z)V+=_[A-1+32*z];yu(V>>4,_,A)}function Xo(_,A){var z,V=8;for(z=0;16>z;++z)V+=_[A+z-32];yu(V>>4,_,A)}function bu(_,A){yu(128,_,A)}function ir(_,A,z){return _+2*A+z+2>>2}function Ic(_,A){var z,V=A-32;for(V=new Uint8Array([ir(_[V-1],_[V+0],_[V+1]),ir(_[V+0],_[V+1],_[V+2]),ir(_[V+1],_[V+2],_[V+3]),ir(_[V+2],_[V+3],_[V+4])]),z=0;4>z;++z)n(_,A+32*z,V,0,V.length)}function jh(_,A){var z=_[A-1],V=_[A-1+32],Z=_[A-1+64],ae=_[A-1+96];Te(_,A+0,16843009*ir(_[A-1-32],z,V)),Te(_,A+32,16843009*ir(z,V,Z)),Te(_,A+64,16843009*ir(V,Z,ae)),Te(_,A+96,16843009*ir(Z,ae,ae))}function e0(_,A){var z,V=4;for(z=0;4>z;++z)V+=_[A+z-32]+_[A-1+32*z];for(V>>=3,z=0;4>z;++z)a(_,A+32*z,V,4)}function Sh(_,A){var z=_[A-1+0],V=_[A-1+32],Z=_[A-1+64],ae=_[A-1-32],ie=_[A+0-32],fe=_[A+1-32],pe=_[A+2-32],we=_[A+3-32];_[A+0+96]=ir(V,Z,_[A-1+96]),_[A+1+96]=_[A+0+64]=ir(z,V,Z),_[A+2+96]=_[A+1+64]=_[A+0+32]=ir(ae,z,V),_[A+3+96]=_[A+2+64]=_[A+1+32]=_[A+0+0]=ir(ie,ae,z),_[A+3+64]=_[A+2+32]=_[A+1+0]=ir(fe,ie,ae),_[A+3+32]=_[A+2+0]=ir(pe,fe,ie),_[A+3+0]=ir(we,pe,fe)}function Us(_,A){var z=_[A+1-32],V=_[A+2-32],Z=_[A+3-32],ae=_[A+4-32],ie=_[A+5-32],fe=_[A+6-32],pe=_[A+7-32];_[A+0+0]=ir(_[A+0-32],z,V),_[A+1+0]=_[A+0+32]=ir(z,V,Z),_[A+2+0]=_[A+1+32]=_[A+0+64]=ir(V,Z,ae),_[A+3+0]=_[A+2+32]=_[A+1+64]=_[A+0+96]=ir(Z,ae,ie),_[A+3+32]=_[A+2+64]=_[A+1+96]=ir(ae,ie,fe),_[A+3+64]=_[A+2+96]=ir(ie,fe,pe),_[A+3+96]=ir(fe,pe,pe)}function ci(_,A){var z=_[A-1+0],V=_[A-1+32],Z=_[A-1+64],ae=_[A-1-32],ie=_[A+0-32],fe=_[A+1-32],pe=_[A+2-32],we=_[A+3-32];_[A+0+0]=_[A+1+64]=ae+ie+1>>1,_[A+1+0]=_[A+2+64]=ie+fe+1>>1,_[A+2+0]=_[A+3+64]=fe+pe+1>>1,_[A+3+0]=pe+we+1>>1,_[A+0+96]=ir(Z,V,z),_[A+0+64]=ir(V,z,ae),_[A+0+32]=_[A+1+96]=ir(z,ae,ie),_[A+1+32]=_[A+2+96]=ir(ae,ie,fe),_[A+2+32]=_[A+3+96]=ir(ie,fe,pe),_[A+3+32]=ir(fe,pe,we)}function t0(_,A){var z=_[A+0-32],V=_[A+1-32],Z=_[A+2-32],ae=_[A+3-32],ie=_[A+4-32],fe=_[A+5-32],pe=_[A+6-32],we=_[A+7-32];_[A+0+0]=z+V+1>>1,_[A+1+0]=_[A+0+64]=V+Z+1>>1,_[A+2+0]=_[A+1+64]=Z+ae+1>>1,_[A+3+0]=_[A+2+64]=ae+ie+1>>1,_[A+0+32]=ir(z,V,Z),_[A+1+32]=_[A+0+96]=ir(V,Z,ae),_[A+2+32]=_[A+1+96]=ir(Z,ae,ie),_[A+3+32]=_[A+2+96]=ir(ae,ie,fe),_[A+3+64]=ir(ie,fe,pe),_[A+3+96]=ir(fe,pe,we)}function wu(_,A){var z=_[A-1+0],V=_[A-1+32],Z=_[A-1+64],ae=_[A-1+96];_[A+0+0]=z+V+1>>1,_[A+2+0]=_[A+0+32]=V+Z+1>>1,_[A+2+32]=_[A+0+64]=Z+ae+1>>1,_[A+1+0]=ir(z,V,Z),_[A+3+0]=_[A+1+32]=ir(V,Z,ae),_[A+3+32]=_[A+1+64]=ir(Z,ae,ae),_[A+3+64]=_[A+2+64]=_[A+0+96]=_[A+1+96]=_[A+2+96]=_[A+3+96]=ae}function zs(_,A){var z=_[A-1+0],V=_[A-1+32],Z=_[A-1+64],ae=_[A-1+96],ie=_[A-1-32],fe=_[A+0-32],pe=_[A+1-32],we=_[A+2-32];_[A+0+0]=_[A+2+32]=z+ie+1>>1,_[A+0+32]=_[A+2+64]=V+z+1>>1,_[A+0+64]=_[A+2+96]=Z+V+1>>1,_[A+0+96]=ae+Z+1>>1,_[A+3+0]=ir(fe,pe,we),_[A+2+0]=ir(ie,fe,pe),_[A+1+0]=_[A+3+32]=ir(z,ie,fe),_[A+1+32]=_[A+3+64]=ir(V,z,ie),_[A+1+64]=_[A+3+96]=ir(Z,V,z),_[A+1+96]=ir(ae,Z,V)}function Nu(_,A){var z;for(z=0;8>z;++z)n(_,A+32*z,_,A-32,8)}function oo(_,A){var z;for(z=0;8>z;++z)a(_,A,_[A-1],8),A+=32}function _u(_,A,z){var V;for(V=0;8>V;++V)a(A,z+32*V,_,8)}function Qo(_,A){var z,V=8;for(z=0;8>z;++z)V+=_[A+z-32]+_[A-1+32*z];_u(V>>4,_,A)}function Pf(_,A){var z,V=4;for(z=0;8>z;++z)V+=_[A+z-32];_u(V>>3,_,A)}function Lf(_,A){var z,V=4;for(z=0;8>z;++z)V+=_[A-1+32*z];_u(V>>3,_,A)}function Za(_,A){_u(128,_,A)}function qs(_,A,z){var V=_[A-z],Z=_[A+0],ae=3*(Z-V)+cc[1020+_[A-2*z]-_[A+z]],ie=o0[112+(ae+4>>3)];_[A-z]=Di[255+V+o0[112+(ae+3>>3)]],_[A+0]=Di[255+Z-ie]}function co(_,A,z,V){var Z=_[A+0],ae=_[A+z];return hi[255+_[A-2*z]-_[A-z]]>V||hi[255+ae-Z]>V}function Zo(_,A,z,V){return 4*hi[255+_[A-z]-_[A+0]]+hi[255+_[A-2*z]-_[A+z]]<=V}function Mf(_,A,z,V,Z){var ae=_[A-3*z],ie=_[A-2*z],fe=_[A-z],pe=_[A+0],we=_[A+z],Ce=_[A+2*z],Ue=_[A+3*z];return 4*hi[255+fe-pe]+hi[255+ie-we]>V?0:hi[255+_[A-4*z]-ae]<=Z&&hi[255+ae-ie]<=Z&&hi[255+ie-fe]<=Z&&hi[255+Ue-Ce]<=Z&&hi[255+Ce-we]<=Z&&hi[255+we-pe]<=Z}function ju(_,A,z,V){var Z=2*V+1;for(V=0;16>V;++V)Zo(_,A+V,z,Z)&&qs(_,A+V,z)}function Jo(_,A,z,V){var Z=2*V+1;for(V=0;16>V;++V)Zo(_,A+V*z,1,Z)&&qs(_,A+V*z,1)}function Bc(_,A,z,V){var Z;for(Z=3;0<Z;--Z)ju(_,A+=4*z,z,V)}function Su(_,A,z,V){var Z;for(Z=3;0<Z;--Z)Jo(_,A+=4,z,V)}function uo(_,A,z,V,Z,ae,ie,fe){for(ae=2*ae+1;0<Z--;){if(Mf(_,A,z,ae,ie))if(co(_,A,z,fe))qs(_,A,z);else{var pe=_,we=A,Ce=z,Ue=pe[we-2*Ce],be=pe[we-Ce],De=pe[we+0],Le=pe[we+Ce],Ze=pe[we+2*Ce],Re=27*(nt=cc[1020+3*(De-be)+cc[1020+Ue-Le]])+63>>7,Qe=18*nt+63>>7,nt=9*nt+63>>7;pe[we-3*Ce]=Di[255+pe[we-3*Ce]+nt],pe[we-2*Ce]=Di[255+Ue+Qe],pe[we-Ce]=Di[255+be+Re],pe[we+0]=Di[255+De-Re],pe[we+Ce]=Di[255+Le-Qe],pe[we+2*Ce]=Di[255+Ze-nt]}A+=V}}function ec(_,A,z,V,Z,ae,ie,fe){for(ae=2*ae+1;0<Z--;){if(Mf(_,A,z,ae,ie))if(co(_,A,z,fe))qs(_,A,z);else{var pe=_,we=A,Ce=z,Ue=pe[we-Ce],be=pe[we+0],De=pe[we+Ce],Le=o0[112+(4+(Ze=3*(be-Ue))>>3)],Ze=o0[112+(Ze+3>>3)],Re=Le+1>>1;pe[we-2*Ce]=Di[255+pe[we-2*Ce]+Re],pe[we-Ce]=Di[255+Ue+Ze],pe[we+0]=Di[255+be-Le],pe[we+Ce]=Di[255+De-Re]}A+=V}}function Ah(_,A,z,V,Z,ae){uo(_,A,z,1,16,V,Z,ae)}function Eh(_,A,z,V,Z,ae){uo(_,A,1,z,16,V,Z,ae)}function tc(_,A,z,V,Z,ae){var ie;for(ie=3;0<ie;--ie)ec(_,A+=4*z,z,1,16,V,Z,ae)}function kh(_,A,z,V,Z,ae){var ie;for(ie=3;0<ie;--ie)ec(_,A+=4,1,z,16,V,Z,ae)}function I(_,A,z,V,Z,ae,ie,fe){uo(_,A,Z,1,8,ae,ie,fe),uo(z,V,Z,1,8,ae,ie,fe)}function Q(_,A,z,V,Z,ae,ie,fe){uo(_,A,1,Z,8,ae,ie,fe),uo(z,V,1,Z,8,ae,ie,fe)}function _e(_,A,z,V,Z,ae,ie,fe){ec(_,A+4*Z,Z,1,8,ae,ie,fe),ec(z,V+4*Z,Z,1,8,ae,ie,fe)}function ke(_,A,z,V,Z,ae,ie,fe){ec(_,A+4,1,Z,8,ae,ie,fe),ec(z,V+4,1,Z,8,ae,ie,fe)}function Fe(){this.ba=new qr,this.ec=[],this.cc=[],this.Mc=[],this.Dc=this.Nc=this.dc=this.fc=0,this.Oa=new Fr,this.memory=0,this.Ib="OutputFunc",this.Jb="OutputAlphaFunc",this.Nd="OutputRowFunc"}function rt(){this.data=[],this.offset=this.kd=this.ha=this.w=0,this.na=[],this.xa=this.gb=this.Ja=this.Sa=this.P=0}function ct(){this.nc=this.Ea=this.b=this.hc=0,this.K=[],this.w=0}function Bt(){this.ua=0,this.Wa=new Xe,this.vb=new Xe,this.md=this.xc=this.wc=0,this.vc=[],this.Wb=0,this.Ya=new me,this.yc=new K}function Vt(){this.xb=this.a=0,this.l=new Ba,this.ca=new qr,this.V=[],this.Ba=0,this.Ta=[],this.Ua=0,this.m=new R,this.Pb=0,this.wd=new R,this.Ma=this.$=this.C=this.i=this.c=this.xd=0,this.s=new Bt,this.ab=0,this.gc=l(4,ct),this.Oc=0}function cr(){this.Lc=this.Z=this.$a=this.i=this.c=0,this.l=new Ba,this.ic=0,this.ca=[],this.tb=0,this.qd=null,this.rd=0}function xr(_,A,z,V,Z,ae,ie){for(_=_==null?0:_[A+0],A=0;A<ie;++A)Z[ae+A]=_+z[V+A]&255,_=Z[ae+A]}function Kr(_,A,z,V,Z,ae,ie){var fe;if(_==null)xr(null,null,z,V,Z,ae,ie);else for(fe=0;fe<ie;++fe)Z[ae+fe]=_[A+fe]+z[V+fe]&255}function Vn(_,A,z,V,Z,ae,ie){if(_==null)xr(null,null,z,V,Z,ae,ie);else{var fe,pe=_[A+0],we=pe,Ce=pe;for(fe=0;fe<ie;++fe)we=Ce+(pe=_[A+fe])-we,Ce=z[V+fe]+(-256&we?0>we?0:255:we)&255,we=pe,Z[ae+fe]=Ce}}function va(_,A,z,V){var Z=A.width,ae=A.o;if(t(_!=null&&A!=null),0>z||0>=V||z+V>ae)return null;if(!_.Cc){if(_.ga==null){var ie;if(_.ga=new cr,(ie=_.ga==null)||(ie=A.width*A.o,t(_.Gb.length==0),_.Gb=i(ie),_.Uc=0,_.Gb==null?ie=0:(_.mb=_.Gb,_.nb=_.Uc,_.rc=null,ie=1),ie=!ie),!ie){ie=_.ga;var fe=_.Fa,pe=_.P,we=_.qc,Ce=_.mb,Ue=_.nb,be=pe+1,De=we-1,Le=ie.l;if(t(fe!=null&&Ce!=null&&A!=null),uc[0]=null,uc[1]=xr,uc[2]=Kr,uc[3]=Vn,ie.ca=Ce,ie.tb=Ue,ie.c=A.width,ie.i=A.height,t(0<ie.c&&0<ie.i),1>=we)A=0;else if(ie.$a=3&fe[pe+0],ie.Z=fe[pe+0]>>2&3,ie.Lc=fe[pe+0]>>4&3,pe=fe[pe+0]>>6&3,0>ie.$a||1<ie.$a||4<=ie.Z||1<ie.Lc||pe)A=0;else if(Le.put=Xt,Le.ac=us,Le.bc=Ol,Le.ma=ie,Le.width=A.width,Le.height=A.height,Le.Da=A.Da,Le.v=A.v,Le.va=A.va,Le.j=A.j,Le.o=A.o,ie.$a)e:{t(ie.$a==1),A=Ie();t:for(;;){if(A==null){A=0;break e}if(t(ie!=null),ie.mc=A,A.c=ie.c,A.i=ie.i,A.l=ie.l,A.l.ma=ie,A.l.width=ie.c,A.l.height=ie.i,A.a=0,ce(A.m,fe,be,De),!Be(ie.c,ie.i,1,A,null)||(A.ab==1&&A.gc[0].hc==3&&he(A.s)?(ie.ic=1,fe=A.c*A.i,A.Ta=null,A.Ua=0,A.V=i(fe),A.Ba=0,A.V==null?(A.a=1,A=0):A=1):(ie.ic=0,A=ze(A,ie.c)),!A))break t;A=1;break e}ie.mc=null,A=0}else A=De>=ie.c*ie.i;ie=!A}if(ie)return null;_.ga.Lc!=1?_.Ga=0:V=ae-z}t(_.ga!=null),t(z+V<=ae);e:{if(A=(fe=_.ga).c,ae=fe.l.o,fe.$a==0){if(be=_.rc,De=_.Vc,Le=_.Fa,pe=_.P+1+z*A,we=_.mb,Ce=_.nb+z*A,t(pe<=_.P+_.qc),fe.Z!=0)for(t(uc[fe.Z]!=null),ie=0;ie<V;++ie)uc[fe.Z](be,De,Le,pe,we,Ce,A),be=we,De=Ce,Ce+=A,pe+=A;else for(ie=0;ie<V;++ie)n(we,Ce,Le,pe,A),be=we,De=Ce,Ce+=A,pe+=A;_.rc=be,_.Vc=De}else{if(t(fe.mc!=null),A=z+V,t((ie=fe.mc)!=null),t(A<=ie.i),ie.C>=A)A=1;else if(fe.ic||ll(),fe.ic){fe=ie.V,be=ie.Ba,De=ie.c;var Ze=ie.i,Re=(Le=1,pe=ie.$/De,we=ie.$%De,Ce=ie.m,Ue=ie.s,ie.$),Qe=De*Ze,nt=De*A,ht=Ue.wc,ot=Re<nt?re(Ue,we,pe):null;t(Re<=Qe),t(A<=Ze),t(he(Ue));t:for(;;){for(;!Ce.h&&Re<nt;){if(we&ht||(ot=re(Ue,we,pe)),t(ot!=null),le(Ce),256>(Ze=jn(ot.G[0],ot.H[0],Ce)))fe[be+Re]=Ze,++Re,++we>=De&&(we=0,++pe<=A&&!(pe%16)&&je(ie,pe));else{if(!(280>Ze)){Le=0;break t}Ze=oi(Ze-256,Ce);var qt,Tt=jn(ot.G[4],ot.H[4],Ce);if(le(Ce),!(Re>=(Tt=Vi(De,Tt=oi(Tt,Ce)))&&Qe-Re>=Ze)){Le=0;break t}for(qt=0;qt<Ze;++qt)fe[be+Re+qt]=fe[be+Re+qt-Tt];for(Re+=Ze,we+=Ze;we>=De;)we-=De,++pe<=A&&!(pe%16)&&je(ie,pe);Re<nt&&we&ht&&(ot=re(Ue,we,pe))}t(Ce.h==W(Ce))}je(ie,pe>A?A:pe);break t}!Le||Ce.h&&Re<Qe?(Le=0,ie.a=Ce.h?5:3):ie.$=Re,A=Le}else A=Me(ie,ie.V,ie.Ba,ie.c,ie.i,A,ft);if(!A){V=0;break e}}z+V>=ae&&(_.Cc=1),V=1}if(!V)return null;if(_.Cc&&((V=_.ga)!=null&&(V.mc=null),_.ga=null,0<_.Ga))return alert("todo:WebPDequantizeLevels"),null}return _.nb+z*Z}function Sn(_,A,z,V,Z,ae){for(;0<Z--;){var ie,fe=_,pe=A+(z?1:0),we=_,Ce=A+(z?0:3);for(ie=0;ie<V;++ie){var Ue=we[Ce+4*ie];Ue!=255&&(Ue*=32897,fe[pe+4*ie+0]=fe[pe+4*ie+0]*Ue>>23,fe[pe+4*ie+1]=fe[pe+4*ie+1]*Ue>>23,fe[pe+4*ie+2]=fe[pe+4*ie+2]*Ue>>23)}A+=ae}}function Ua(_,A,z,V,Z){for(;0<V--;){var ae;for(ae=0;ae<z;++ae){var ie=_[A+2*ae+0],fe=15&(we=_[A+2*ae+1]),pe=4369*fe,we=(240&we|we>>4)*pe>>16;_[A+2*ae+0]=(240&ie|ie>>4)*pe>>16&240|(15&ie|ie<<4)*pe>>16>>4&15,_[A+2*ae+1]=240&we|fe}A+=Z}}function Aa(_,A,z,V,Z,ae,ie,fe){var pe,we,Ce=255;for(we=0;we<Z;++we){for(pe=0;pe<V;++pe){var Ue=_[A+pe];ae[ie+4*pe]=Ue,Ce&=Ue}A+=z,ie+=fe}return Ce!=255}function ui(_,A,z,V,Z){var ae;for(ae=0;ae<Z;++ae)z[V+ae]=_[A+ae]>>8}function ll(){Tu=Sn,cl=Ua,i0=Aa,Vs=ui}function fs(_,A,z){B[_]=function(V,Z,ae,ie,fe,pe,we,Ce,Ue,be,De,Le,Ze,Re,Qe,nt,ht){var ot,qt=ht-1>>1,Tt=fe[pe+0]|we[Ce+0]<<16,mr=Ue[be+0]|De[Le+0]<<16;t(V!=null);var Mt=3*Tt+mr+131074>>2;for(A(V[Z+0],255&Mt,Mt>>16,Ze,Re),ae!=null&&(Mt=3*mr+Tt+131074>>2,A(ae[ie+0],255&Mt,Mt>>16,Qe,nt)),ot=1;ot<=qt;++ot){var Or=fe[pe+ot]|we[Ce+ot]<<16,Ln=Ue[be+ot]|De[Le+ot]<<16,gr=Tt+Or+mr+Ln+524296,Ot=gr+2*(Or+mr)>>3;Mt=Ot+Tt>>1,Tt=(gr=gr+2*(Tt+Ln)>>3)+Or>>1,A(V[Z+2*ot-1],255&Mt,Mt>>16,Ze,Re+(2*ot-1)*z),A(V[Z+2*ot-0],255&Tt,Tt>>16,Ze,Re+(2*ot-0)*z),ae!=null&&(Mt=gr+mr>>1,Tt=Ot+Ln>>1,A(ae[ie+2*ot-1],255&Mt,Mt>>16,Qe,nt+(2*ot-1)*z),A(ae[ie+2*ot+0],255&Tt,Tt>>16,Qe,nt+(2*ot+0)*z)),Tt=Or,mr=Ln}1&ht||(Mt=3*Tt+mr+131074>>2,A(V[Z+ht-1],255&Mt,Mt>>16,Ze,Re+(ht-1)*z),ae!=null&&(Mt=3*mr+Tt+131074>>2,A(ae[ie+ht-1],255&Mt,Mt>>16,Qe,nt+(ht-1)*z)))}}function Ch(){pi[Fh]=Fu,pi[Fi]=Gf,pi[Ph]=Ep,pi[ul]=Bh,pi[c0]=Gc,pi[Hf]=bo,pi[Hc]=Kc,pi[u0]=Gf,pi[Lh]=Bh,pi[Vf]=Gc,pi[Mh]=bo}function Rf(_){return _&-16384?0>_?0:255:_>>Uh}function Au(_,A){return Rf((19077*_>>8)+(26149*A>>8)-14234)}function fo(_,A,z){return Rf((19077*_>>8)-(6419*A>>8)-(13320*z>>8)+8708)}function Ml(_,A){return Rf((19077*_>>8)+(33050*A>>8)-17685)}function Eu(_,A,z,V,Z){V[Z+0]=Au(_,z),V[Z+1]=fo(_,A,z),V[Z+2]=Ml(_,A)}function Uc(_,A,z,V,Z){V[Z+0]=Ml(_,A),V[Z+1]=fo(_,A,z),V[Z+2]=Au(_,z)}function fi(_,A,z,V,Z){var ae=fo(_,A,z);A=ae<<3&224|Ml(_,A)>>3,V[Z+0]=248&Au(_,z)|ae>>5,V[Z+1]=A}function zc(_,A,z,V,Z){var ae=240&Ml(_,A)|15;V[Z+0]=240&Au(_,z)|fo(_,A,z)>>4,V[Z+1]=ae}function qc(_,A,z,V,Z){V[Z+0]=255,Eu(_,A,z,V,Z+1)}function If(_,A,z,V,Z){Uc(_,A,z,V,Z),V[Z+3]=255}function ho(_,A,z,V,Z){Eu(_,A,z,V,Z),V[Z+3]=255}function na(_,A){return 0>_?0:_>A?A:_}function rc(_,A,z){B[_]=function(V,Z,ae,ie,fe,pe,we,Ce,Ue){for(var be=Ce+(-2&Ue)*z;Ce!=be;)A(V[Z+0],ae[ie+0],fe[pe+0],we,Ce),A(V[Z+1],ae[ie+0],fe[pe+0],we,Ce+z),Z+=2,++ie,++pe,Ce+=2*z;1&Ue&&A(V[Z+0],ae[ie+0],fe[pe+0],we,Ce)}}function Bf(_,A,z){return z==0?_==0?A==0?6:5:A==0?4:0:z}function r0(_,A,z,V,Z){switch(_>>>30){case 3:oc(A,z,V,Z,0);break;case 2:Oi(A,z,V,Z);break;case 1:Yr(A,z,V,Z)}}function $s(_,A){var z,V,Z=A.M,ae=A.Nb,ie=_.oc,fe=_.pc+40,pe=_.oc,we=_.pc+584,Ce=_.oc,Ue=_.pc+600;for(z=0;16>z;++z)ie[fe+32*z-1]=129;for(z=0;8>z;++z)pe[we+32*z-1]=129,Ce[Ue+32*z-1]=129;for(0<Z?ie[fe-1-32]=pe[we-1-32]=Ce[Ue-1-32]=129:(a(ie,fe-32-1,127,21),a(pe,we-32-1,127,9),a(Ce,Ue-32-1,127,9)),V=0;V<_.za;++V){var be=A.ya[A.aa+V];if(0<V){for(z=-1;16>z;++z)n(ie,fe+32*z-4,ie,fe+32*z+12,4);for(z=-1;8>z;++z)n(pe,we+32*z-4,pe,we+32*z+4,4),n(Ce,Ue+32*z-4,Ce,Ue+32*z+4,4)}var De=_.Gd,Le=_.Hd+V,Ze=be.ad,Re=be.Hc;if(0<Z&&(n(ie,fe-32,De[Le].y,0,16),n(pe,we-32,De[Le].f,0,8),n(Ce,Ue-32,De[Le].ea,0,8)),be.Za){var Qe=ie,nt=fe-32+16;for(0<Z&&(V>=_.za-1?a(Qe,nt,De[Le].y[15],4):n(Qe,nt,De[Le+1].y,0,4)),z=0;4>z;z++)Qe[nt+128+z]=Qe[nt+256+z]=Qe[nt+384+z]=Qe[nt+0+z];for(z=0;16>z;++z,Re<<=2)Qe=ie,nt=fe+wa[z],aa[be.Ob[z]](Qe,nt),r0(Re,Ze,16*+z,Qe,nt)}else if(Qe=Bf(V,Z,be.Ob[0]),Xi[Qe](ie,fe),Re!=0)for(z=0;16>z;++z,Re<<=2)r0(Re,Ze,16*+z,ie,fe+wa[z]);for(z=be.Gc,Qe=Bf(V,Z,be.Dd),Ul[Qe](pe,we),Ul[Qe](Ce,Ue),Re=Ze,Qe=pe,nt=we,255&(be=0|z)&&(170&be?ol(Re,256,Qe,nt):Ur(Re,256,Qe,nt)),be=Ce,Re=Ue,255&(z>>=8)&&(170&z?ol(Ze,320,be,Re):Ur(Ze,320,be,Re)),Z<_.Ub-1&&(n(De[Le].y,0,ie,fe+480,16),n(De[Le].f,0,pe,we+224,8),n(De[Le].ea,0,Ce,Ue+224,8)),z=8*ae*_.B,De=_.sa,Le=_.ta+16*V+16*ae*_.R,Ze=_.qa,be=_.ra+8*V+z,Re=_.Ha,Qe=_.Ia+8*V+z,z=0;16>z;++z)n(De,Le+z*_.R,ie,fe+32*z,16);for(z=0;8>z;++z)n(Ze,be+z*_.B,pe,we+32*z,8),n(Re,Qe+z*_.B,Ce,Ue+32*z,8)}}function Rl(_,A,z,V,Z,ae,ie,fe,pe){var we=[0],Ce=[0],Ue=0,be=pe!=null?pe.kd:0,De=pe??new rt;if(_==null||12>z)return 7;De.data=_,De.w=A,De.ha=z,A=[A],z=[z],De.gb=[De.gb];e:{var Le=A,Ze=z,Re=De.gb;if(t(_!=null),t(Ze!=null),t(Re!=null),Re[0]=0,12<=Ze[0]&&!r(_,Le[0],"RIFF")){if(r(_,Le[0]+8,"WEBP")){Re=3;break e}var Qe=Ee(_,Le[0]+4);if(12>Qe||4294967286<Qe){Re=3;break e}if(be&&Qe>Ze[0]-8){Re=7;break e}Re[0]=Qe,Le[0]+=12,Ze[0]-=12}Re=0}if(Re!=0)return Re;for(Qe=0<De.gb[0],z=z[0];;){e:{var nt=_;Ze=A,Re=z;var ht=we,ot=Ce,qt=Le=[0];if((Mt=Ue=[Ue])[0]=0,8>Re[0])Re=7;else{if(!r(nt,Ze[0],"VP8X")){if(Ee(nt,Ze[0]+4)!=10){Re=3;break e}if(18>Re[0]){Re=7;break e}var Tt=Ee(nt,Ze[0]+8),mr=1+We(nt,Ze[0]+12);if(2147483648<=mr*(nt=1+We(nt,Ze[0]+15))){Re=3;break e}qt!=null&&(qt[0]=Tt),ht!=null&&(ht[0]=mr),ot!=null&&(ot[0]=nt),Ze[0]+=18,Re[0]-=18,Mt[0]=1}Re=0}}if(Ue=Ue[0],Le=Le[0],Re!=0)return Re;if(Ze=!!(2&Le),!Qe&&Ue)return 3;if(ae!=null&&(ae[0]=!!(16&Le)),ie!=null&&(ie[0]=Ze),fe!=null&&(fe[0]=0),ie=we[0],Le=Ce[0],Ue&&Ze&&pe==null){Re=0;break}if(4>z){Re=7;break}if(Qe&&Ue||!Qe&&!Ue&&!r(_,A[0],"ALPH")){z=[z],De.na=[De.na],De.P=[De.P],De.Sa=[De.Sa];e:{Tt=_,Re=A,Qe=z;var Mt=De.gb;ht=De.na,ot=De.P,qt=De.Sa,mr=22,t(Tt!=null),t(Qe!=null),nt=Re[0];var Or=Qe[0];for(t(ht!=null),t(qt!=null),ht[0]=null,ot[0]=null,qt[0]=0;;){if(Re[0]=nt,Qe[0]=Or,8>Or){Re=7;break e}var Ln=Ee(Tt,nt+4);if(4294967286<Ln){Re=3;break e}var gr=8+Ln+1&-2;if(mr+=gr,0<Mt&&mr>Mt){Re=3;break e}if(!r(Tt,nt,"VP8 ")||!r(Tt,nt,"VP8L")){Re=0;break e}if(Or[0]<gr){Re=7;break e}r(Tt,nt,"ALPH")||(ht[0]=Tt,ot[0]=nt+8,qt[0]=Ln),nt+=gr,Or-=gr}}if(z=z[0],De.na=De.na[0],De.P=De.P[0],De.Sa=De.Sa[0],Re!=0)break}z=[z],De.Ja=[De.Ja],De.xa=[De.xa];e:if(Mt=_,Re=A,Qe=z,ht=De.gb[0],ot=De.Ja,qt=De.xa,Tt=Re[0],nt=!r(Mt,Tt,"VP8 "),mr=!r(Mt,Tt,"VP8L"),t(Mt!=null),t(Qe!=null),t(ot!=null),t(qt!=null),8>Qe[0])Re=7;else{if(nt||mr){if(Mt=Ee(Mt,Tt+4),12<=ht&&Mt>ht-12){Re=3;break e}if(be&&Mt>Qe[0]-8){Re=7;break e}ot[0]=Mt,Re[0]+=8,Qe[0]-=8,qt[0]=mr}else qt[0]=5<=Qe[0]&&Mt[Tt+0]==47&&!(Mt[Tt+4]>>5),ot[0]=Qe[0];Re=0}if(z=z[0],De.Ja=De.Ja[0],De.xa=De.xa[0],A=A[0],Re!=0)break;if(4294967286<De.Ja)return 3;if(fe==null||Ze||(fe[0]=De.xa?2:1),ie=[ie],Le=[Le],De.xa){if(5>z){Re=7;break}fe=ie,be=Le,Ze=ae,_==null||5>z?_=0:5<=z&&_[A+0]==47&&!(_[A+4]>>5)?(Qe=[0],Mt=[0],ht=[0],ce(ot=new R,_,A,z),il(ot,Qe,Mt,ht)?(fe!=null&&(fe[0]=Qe[0]),be!=null&&(be[0]=Mt[0]),Ze!=null&&(Ze[0]=ht[0]),_=1):_=0):_=0}else{if(10>z){Re=7;break}fe=Le,_==null||10>z||!Gi(_,A+3,z-3)?_=0:(be=_[A+0]|_[A+1]<<8|_[A+2]<<16,Ze=16383&(_[A+7]<<8|_[A+6]),_=16383&(_[A+9]<<8|_[A+8]),1&be||3<(be>>1&7)||!(be>>4&1)||be>>5>=De.Ja||!Ze||!_?_=0:(ie&&(ie[0]=Ze),fe&&(fe[0]=_),_=1))}if(!_||(ie=ie[0],Le=Le[0],Ue&&(we[0]!=ie||Ce[0]!=Le)))return 3;pe!=null&&(pe[0]=De,pe.offset=A-pe.w,t(4294967286>A-pe.w),t(pe.offset==pe.ha-z));break}return Re==0||Re==7&&Ue&&pe==null?(ae!=null&&(ae[0]|=De.na!=null&&0<De.na.length),V!=null&&(V[0]=ie),Z!=null&&(Z[0]=Le),0):Re}function nc(_,A,z){var V=A.width,Z=A.height,ae=0,ie=0,fe=V,pe=Z;if(A.Da=_!=null&&0<_.Da,A.Da&&(fe=_.cd,pe=_.bd,ae=_.v,ie=_.j,11>z||(ae&=-2,ie&=-2),0>ae||0>ie||0>=fe||0>=pe||ae+fe>V||ie+pe>Z))return 0;if(A.v=ae,A.j=ie,A.va=ae+fe,A.o=ie+pe,A.U=fe,A.T=pe,A.da=_!=null&&0<_.da,A.da){if(!bt(fe,pe,z=[_.ib],ae=[_.hb]))return 0;A.ib=z[0],A.hb=ae[0]}return A.ob=_!=null&&_.ob,A.Kb=_==null||!_.Sd,A.da&&(A.ob=A.ib<3*V/4&&A.hb<3*Z/4,A.Kb=0),1}function n0(_){if(_==null)return 2;if(11>_.S){var A=_.f.RGBA;A.fb+=(_.height-1)*A.A,A.A=-A.A}else A=_.f.kb,_=_.height,A.O+=(_-1)*A.fa,A.fa=-A.fa,A.N+=(_-1>>1)*A.Ab,A.Ab=-A.Ab,A.W+=(_-1>>1)*A.Db,A.Db=-A.Db,A.F!=null&&(A.J+=(_-1)*A.lb,A.lb=-A.lb);return 0}function Il(_,A,z,V){if(V==null||0>=_||0>=A)return 2;if(z!=null){if(z.Da){var Z=z.cd,ae=z.bd,ie=-2&z.v,fe=-2&z.j;if(0>ie||0>fe||0>=Z||0>=ae||ie+Z>_||fe+ae>A)return 2;_=Z,A=ae}if(z.da){if(!bt(_,A,Z=[z.ib],ae=[z.hb]))return 2;_=Z[0],A=ae[0]}}V.width=_,V.height=A;e:{var pe=V.width,we=V.height;if(_=V.S,0>=pe||0>=we||!(_>=Fh&&13>_))_=2;else{if(0>=V.Rd&&V.sd==null){ie=ae=Z=A=0;var Ce=(fe=pe*qh[_])*we;if(11>_||(ae=(we+1)/2*(A=(pe+1)/2),_==12&&(ie=(Z=pe)*we)),(we=i(Ce+2*ae+ie))==null){_=1;break e}V.sd=we,11>_?((pe=V.f.RGBA).eb=we,pe.fb=0,pe.A=fe,pe.size=Ce):((pe=V.f.kb).y=we,pe.O=0,pe.fa=fe,pe.Fd=Ce,pe.f=we,pe.N=0+Ce,pe.Ab=A,pe.Cd=ae,pe.ea=we,pe.W=0+Ce+ae,pe.Db=A,pe.Ed=ae,_==12&&(pe.F=we,pe.J=0+Ce+2*ae),pe.Tc=ie,pe.lb=Z)}if(A=1,Z=V.S,ae=V.width,ie=V.height,Z>=Fh&&13>Z)if(11>Z)_=V.f.RGBA,A&=(fe=Math.abs(_.A))*(ie-1)+ae<=_.size,A&=fe>=ae*qh[Z],A&=_.eb!=null;else{_=V.f.kb,fe=(ae+1)/2,Ce=(ie+1)/2,pe=Math.abs(_.fa),we=Math.abs(_.Ab);var Ue=Math.abs(_.Db),be=Math.abs(_.lb),De=be*(ie-1)+ae;A&=pe*(ie-1)+ae<=_.Fd,A&=we*(Ce-1)+fe<=_.Cd,A=(A&=Ue*(Ce-1)+fe<=_.Ed)&pe>=ae&we>=fe&Ue>=fe,A&=_.y!=null,A&=_.f!=null,A&=_.ea!=null,Z==12&&(A&=be>=ae,A&=De<=_.Tc,A&=_.F!=null)}else A=0;_=A?0:2}}return _!=0||z!=null&&z.fd&&(_=n0(V)),_}var $c=64,ds=[0,1,3,7,15,31,63,127,255,511,1023,2047,4095,8191,16383,32767,65535,131071,262143,524287,1048575,2097151,4194303,8388607,16777215],Yi=24,mo=32,po=8,ac=[0,0,1,1,2,2,2,2,3,3,3,3,3,3,3,3,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7];xt("Predictor0","PredictorAdd0"),B.Predictor0=function(){return 4278190080},B.Predictor1=function(_){return _},B.Predictor2=function(_,A,z){return A[z+0]},B.Predictor3=function(_,A,z){return A[z+1]},B.Predictor4=function(_,A,z){return A[z-1]},B.Predictor5=function(_,A,z){return pt(pt(_,A[z+1]),A[z+0])},B.Predictor6=function(_,A,z){return pt(_,A[z-1])},B.Predictor7=function(_,A,z){return pt(_,A[z+0])},B.Predictor8=function(_,A,z){return pt(A[z-1],A[z+0])},B.Predictor9=function(_,A,z){return pt(A[z+0],A[z+1])},B.Predictor10=function(_,A,z){return pt(pt(_,A[z-1]),pt(A[z+0],A[z+1]))},B.Predictor11=function(_,A,z){var V=A[z+0];return 0>=Gt(V>>24&255,_>>24&255,(A=A[z-1])>>24&255)+Gt(V>>16&255,_>>16&255,A>>16&255)+Gt(V>>8&255,_>>8&255,A>>8&255)+Gt(255&V,255&_,255&A)?V:_},B.Predictor12=function(_,A,z){var V=A[z+0];return(Et((_>>24&255)+(V>>24&255)-((A=A[z-1])>>24&255))<<24|Et((_>>16&255)+(V>>16&255)-(A>>16&255))<<16|Et((_>>8&255)+(V>>8&255)-(A>>8&255))<<8|Et((255&_)+(255&V)-(255&A)))>>>0},B.Predictor13=function(_,A,z){var V=A[z-1];return(zt((_=pt(_,A[z+0]))>>24&255,V>>24&255)<<24|zt(_>>16&255,V>>16&255)<<16|zt(_>>8&255,V>>8&255)<<8|zt(255&_,255&V))>>>0};var Uf=B.PredictorAdd0;B.PredictorAdd1=Ar,xt("Predictor2","PredictorAdd2"),xt("Predictor3","PredictorAdd3"),xt("Predictor4","PredictorAdd4"),xt("Predictor5","PredictorAdd5"),xt("Predictor6","PredictorAdd6"),xt("Predictor7","PredictorAdd7"),xt("Predictor8","PredictorAdd8"),xt("Predictor9","PredictorAdd9"),xt("Predictor10","PredictorAdd10"),xt("Predictor11","PredictorAdd11"),xt("Predictor12","PredictorAdd12"),xt("Predictor13","PredictorAdd13");var zf=B.PredictorAdd2;kt("ColorIndexInverseTransform","MapARGB","32b",function(_){return _>>8&255},function(_){return _}),kt("VP8LColorIndexInverseTransformAlpha","MapAlpha","8b",function(_){return _},function(_){return _>>8&255});var ya,Th=B.ColorIndexInverseTransform,xo=B.MapARGB,go=B.VP8LColorIndexInverseTransformAlpha,di=B.MapAlpha,ic=B.VP8LPredictorsAdd=[];ic.length=16,(B.VP8LPredictors=[]).length=16,(B.VP8LPredictorsAdd_C=[]).length=16,(B.VP8LPredictors_C=[]).length=16;var qf,$f,sc,lc,vo,ku,Hs,oc,Oi,ol,Yr,Ur,An,ba,yo,Bl,Cu,a0,Np,Jg,e1,t1,_p,jp,Tu,cl,i0,Vs,Ou=i(511),Oh=i(2041),s0=i(225),l0=i(767),Dh=0,cc=Oh,o0=s0,Di=l0,hi=Ou,Fh=0,Fi=1,Ph=2,ul=3,c0=4,Hf=5,Hc=6,u0=7,Lh=8,Vf=9,Mh=10,fl=[2,3,7],Wf=[3,3,11],Du=[280,256,256,256,40],Rh=[0,1,1,1,0],f0=[17,18,0,1,2,3,4,5,16,6,7,8,9,10,11,12,13,14,15],dl=[24,7,23,25,40,6,39,41,22,26,38,42,56,5,55,57,21,27,54,58,37,43,72,4,71,73,20,28,53,59,70,74,36,44,88,69,75,52,60,3,87,89,19,29,86,90,35,45,68,76,85,91,51,61,104,2,103,105,18,30,102,106,34,46,84,92,67,77,101,107,50,62,120,1,119,121,83,93,17,31,100,108,66,78,118,122,33,47,117,123,49,63,99,109,82,94,0,116,124,65,79,16,32,98,110,48,115,125,81,95,64,114,126,97,111,80,113,127,96,112],hl=[2954,2956,2958,2962,2970,2986,3018,3082,3212,3468,3980,5004],Vc=8,ml=[4,5,6,7,8,9,10,10,11,12,13,14,15,16,17,17,18,19,20,20,21,21,22,22,23,23,24,25,25,26,27,28,29,30,31,32,33,34,35,36,37,37,38,39,40,41,42,43,44,45,46,46,47,48,49,50,51,52,53,54,55,56,57,58,59,60,61,62,63,64,65,66,67,68,69,70,71,72,73,74,75,76,76,77,78,79,80,81,82,83,84,85,86,87,88,89,91,93,95,96,98,100,101,102,104,106,108,110,112,114,116,118,122,124,126,128,130,132,134,136,138,140,143,145,148,151,154,157],pl=[4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33,34,35,36,37,38,39,40,41,42,43,44,45,46,47,48,49,50,51,52,53,54,55,56,57,58,60,62,64,66,68,70,72,74,76,78,80,82,84,86,88,90,92,94,96,98,100,102,104,106,108,110,112,114,116,119,122,125,128,131,134,137,140,143,146,149,152,155,158,161,164,167,170,173,177,181,185,189,193,197,201,205,209,213,217,221,225,229,234,239,245,249,254,259,264,269,274,279,284],Ws=null,r1=[[173,148,140,0],[176,155,140,135,0],[180,157,141,134,130,0],[254,254,243,230,196,177,153,140,133,130,129,0]],Sp=[0,1,4,8,5,2,3,6,9,12,13,10,7,11,14,15],Ih=[-0,1,-1,2,-2,3,4,6,-3,5,-4,-5,-6,7,-7,8,-8,-9],n1=[[[[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128]],[[253,136,254,255,228,219,128,128,128,128,128],[189,129,242,255,227,213,255,219,128,128,128],[106,126,227,252,214,209,255,255,128,128,128]],[[1,98,248,255,236,226,255,255,128,128,128],[181,133,238,254,221,234,255,154,128,128,128],[78,134,202,247,198,180,255,219,128,128,128]],[[1,185,249,255,243,255,128,128,128,128,128],[184,150,247,255,236,224,128,128,128,128,128],[77,110,216,255,236,230,128,128,128,128,128]],[[1,101,251,255,241,255,128,128,128,128,128],[170,139,241,252,236,209,255,255,128,128,128],[37,116,196,243,228,255,255,255,128,128,128]],[[1,204,254,255,245,255,128,128,128,128,128],[207,160,250,255,238,128,128,128,128,128,128],[102,103,231,255,211,171,128,128,128,128,128]],[[1,152,252,255,240,255,128,128,128,128,128],[177,135,243,255,234,225,128,128,128,128,128],[80,129,211,255,194,224,128,128,128,128,128]],[[1,1,255,128,128,128,128,128,128,128,128],[246,1,255,128,128,128,128,128,128,128,128],[255,128,128,128,128,128,128,128,128,128,128]]],[[[198,35,237,223,193,187,162,160,145,155,62],[131,45,198,221,172,176,220,157,252,221,1],[68,47,146,208,149,167,221,162,255,223,128]],[[1,149,241,255,221,224,255,255,128,128,128],[184,141,234,253,222,220,255,199,128,128,128],[81,99,181,242,176,190,249,202,255,255,128]],[[1,129,232,253,214,197,242,196,255,255,128],[99,121,210,250,201,198,255,202,128,128,128],[23,91,163,242,170,187,247,210,255,255,128]],[[1,200,246,255,234,255,128,128,128,128,128],[109,178,241,255,231,245,255,255,128,128,128],[44,130,201,253,205,192,255,255,128,128,128]],[[1,132,239,251,219,209,255,165,128,128,128],[94,136,225,251,218,190,255,255,128,128,128],[22,100,174,245,186,161,255,199,128,128,128]],[[1,182,249,255,232,235,128,128,128,128,128],[124,143,241,255,227,234,128,128,128,128,128],[35,77,181,251,193,211,255,205,128,128,128]],[[1,157,247,255,236,231,255,255,128,128,128],[121,141,235,255,225,227,255,255,128,128,128],[45,99,188,251,195,217,255,224,128,128,128]],[[1,1,251,255,213,255,128,128,128,128,128],[203,1,248,255,255,128,128,128,128,128,128],[137,1,177,255,224,255,128,128,128,128,128]]],[[[253,9,248,251,207,208,255,192,128,128,128],[175,13,224,243,193,185,249,198,255,255,128],[73,17,171,221,161,179,236,167,255,234,128]],[[1,95,247,253,212,183,255,255,128,128,128],[239,90,244,250,211,209,255,255,128,128,128],[155,77,195,248,188,195,255,255,128,128,128]],[[1,24,239,251,218,219,255,205,128,128,128],[201,51,219,255,196,186,128,128,128,128,128],[69,46,190,239,201,218,255,228,128,128,128]],[[1,191,251,255,255,128,128,128,128,128,128],[223,165,249,255,213,255,128,128,128,128,128],[141,124,248,255,255,128,128,128,128,128,128]],[[1,16,248,255,255,128,128,128,128,128,128],[190,36,230,255,236,255,128,128,128,128,128],[149,1,255,128,128,128,128,128,128,128,128]],[[1,226,255,128,128,128,128,128,128,128,128],[247,192,255,128,128,128,128,128,128,128,128],[240,128,255,128,128,128,128,128,128,128,128]],[[1,134,252,255,255,128,128,128,128,128,128],[213,62,250,255,255,128,128,128,128,128,128],[55,93,255,128,128,128,128,128,128,128,128]],[[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128]]],[[[202,24,213,235,186,191,220,160,240,175,255],[126,38,182,232,169,184,228,174,255,187,128],[61,46,138,219,151,178,240,170,255,216,128]],[[1,112,230,250,199,191,247,159,255,255,128],[166,109,228,252,211,215,255,174,128,128,128],[39,77,162,232,172,180,245,178,255,255,128]],[[1,52,220,246,198,199,249,220,255,255,128],[124,74,191,243,183,193,250,221,255,255,128],[24,71,130,219,154,170,243,182,255,255,128]],[[1,182,225,249,219,240,255,224,128,128,128],[149,150,226,252,216,205,255,171,128,128,128],[28,108,170,242,183,194,254,223,255,255,128]],[[1,81,230,252,204,203,255,192,128,128,128],[123,102,209,247,188,196,255,233,128,128,128],[20,95,153,243,164,173,255,203,128,128,128]],[[1,222,248,255,216,213,128,128,128,128,128],[168,175,246,252,235,205,255,255,128,128,128],[47,116,215,255,211,212,255,255,128,128,128]],[[1,121,236,253,212,214,255,255,128,128,128],[141,84,213,252,201,202,255,219,128,128,128],[42,80,160,240,162,185,255,205,128,128,128]],[[1,1,255,128,128,128,128,128,128,128,128],[244,1,255,128,128,128,128,128,128,128,128],[238,1,255,128,128,128,128,128,128,128,128]]]],mi=[[[231,120,48,89,115,113,120,152,112],[152,179,64,126,170,118,46,70,95],[175,69,143,80,85,82,72,155,103],[56,58,10,171,218,189,17,13,152],[114,26,17,163,44,195,21,10,173],[121,24,80,195,26,62,44,64,85],[144,71,10,38,171,213,144,34,26],[170,46,55,19,136,160,33,206,71],[63,20,8,114,114,208,12,9,226],[81,40,11,96,182,84,29,16,36]],[[134,183,89,137,98,101,106,165,148],[72,187,100,130,157,111,32,75,80],[66,102,167,99,74,62,40,234,128],[41,53,9,178,241,141,26,8,107],[74,43,26,146,73,166,49,23,157],[65,38,105,160,51,52,31,115,128],[104,79,12,27,217,255,87,17,7],[87,68,71,44,114,51,15,186,23],[47,41,14,110,182,183,21,17,194],[66,45,25,102,197,189,23,18,22]],[[88,88,147,150,42,46,45,196,205],[43,97,183,117,85,38,35,179,61],[39,53,200,87,26,21,43,232,171],[56,34,51,104,114,102,29,93,77],[39,28,85,171,58,165,90,98,64],[34,22,116,206,23,34,43,166,73],[107,54,32,26,51,1,81,43,31],[68,25,106,22,64,171,36,225,114],[34,19,21,102,132,188,16,76,124],[62,18,78,95,85,57,50,48,51]],[[193,101,35,159,215,111,89,46,111],[60,148,31,172,219,228,21,18,111],[112,113,77,85,179,255,38,120,114],[40,42,1,196,245,209,10,25,109],[88,43,29,140,166,213,37,43,154],[61,63,30,155,67,45,68,1,209],[100,80,8,43,154,1,51,26,71],[142,78,78,16,255,128,34,197,171],[41,40,5,102,211,183,4,1,221],[51,50,17,168,209,192,23,25,82]],[[138,31,36,171,27,166,38,44,229],[67,87,58,169,82,115,26,59,179],[63,59,90,180,59,166,93,73,154],[40,40,21,116,143,209,34,39,175],[47,15,16,183,34,223,49,45,183],[46,17,33,183,6,98,15,32,183],[57,46,22,24,128,1,54,17,37],[65,32,73,115,28,128,23,128,205],[40,3,9,115,51,192,18,6,223],[87,37,9,115,59,77,64,21,47]],[[104,55,44,218,9,54,53,130,226],[64,90,70,205,40,41,23,26,57],[54,57,112,184,5,41,38,166,213],[30,34,26,133,152,116,10,32,134],[39,19,53,221,26,114,32,73,255],[31,9,65,234,2,15,1,118,73],[75,32,12,51,192,255,160,43,51],[88,31,35,67,102,85,55,186,85],[56,21,23,111,59,205,45,37,192],[55,38,70,124,73,102,1,34,98]],[[125,98,42,88,104,85,117,175,82],[95,84,53,89,128,100,113,101,45],[75,79,123,47,51,128,81,171,1],[57,17,5,71,102,57,53,41,49],[38,33,13,121,57,73,26,1,85],[41,10,67,138,77,110,90,47,114],[115,21,2,10,102,255,166,23,6],[101,29,16,10,85,128,101,196,26],[57,18,10,102,102,213,34,20,43],[117,20,15,36,163,128,68,1,26]],[[102,61,71,37,34,53,31,243,192],[69,60,71,38,73,119,28,222,37],[68,45,128,34,1,47,11,245,171],[62,17,19,70,146,85,55,62,70],[37,43,37,154,100,163,85,160,1],[63,9,92,136,28,64,32,201,85],[75,15,9,9,64,255,184,119,16],[86,6,28,5,64,255,25,248,1],[56,8,17,132,137,255,55,116,128],[58,15,20,82,135,57,26,121,40]],[[164,50,31,137,154,133,25,35,218],[51,103,44,131,131,123,31,6,158],[86,40,64,135,148,224,45,183,128],[22,26,17,131,240,154,14,1,209],[45,16,21,91,64,222,7,1,197],[56,21,39,155,60,138,23,102,213],[83,12,13,54,192,255,68,47,28],[85,26,85,85,128,128,32,146,171],[18,11,7,63,144,171,4,4,246],[35,27,10,146,174,171,12,26,128]],[[190,80,35,99,180,80,126,54,45],[85,126,47,87,176,51,41,20,32],[101,75,128,139,118,146,116,128,85],[56,41,15,176,236,85,37,9,62],[71,30,17,119,118,255,17,18,138],[101,38,60,138,55,70,43,26,142],[146,36,19,30,171,255,97,27,20],[138,45,61,62,219,1,81,188,64],[32,41,20,117,151,142,20,21,163],[112,19,12,61,195,128,48,4,24]]],Pn=[[[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[176,246,255,255,255,255,255,255,255,255,255],[223,241,252,255,255,255,255,255,255,255,255],[249,253,253,255,255,255,255,255,255,255,255]],[[255,244,252,255,255,255,255,255,255,255,255],[234,254,254,255,255,255,255,255,255,255,255],[253,255,255,255,255,255,255,255,255,255,255]],[[255,246,254,255,255,255,255,255,255,255,255],[239,253,254,255,255,255,255,255,255,255,255],[254,255,254,255,255,255,255,255,255,255,255]],[[255,248,254,255,255,255,255,255,255,255,255],[251,255,254,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,253,254,255,255,255,255,255,255,255,255],[251,254,254,255,255,255,255,255,255,255,255],[254,255,254,255,255,255,255,255,255,255,255]],[[255,254,253,255,254,255,255,255,255,255,255],[250,255,254,255,254,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]],[[[217,255,255,255,255,255,255,255,255,255,255],[225,252,241,253,255,255,254,255,255,255,255],[234,250,241,250,253,255,253,254,255,255,255]],[[255,254,255,255,255,255,255,255,255,255,255],[223,254,254,255,255,255,255,255,255,255,255],[238,253,254,254,255,255,255,255,255,255,255]],[[255,248,254,255,255,255,255,255,255,255,255],[249,254,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,253,255,255,255,255,255,255,255,255,255],[247,254,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,253,254,255,255,255,255,255,255,255,255],[252,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,254,254,255,255,255,255,255,255,255,255],[253,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,254,253,255,255,255,255,255,255,255,255],[250,255,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]],[[[186,251,250,255,255,255,255,255,255,255,255],[234,251,244,254,255,255,255,255,255,255,255],[251,251,243,253,254,255,254,255,255,255,255]],[[255,253,254,255,255,255,255,255,255,255,255],[236,253,254,255,255,255,255,255,255,255,255],[251,253,253,254,254,255,255,255,255,255,255]],[[255,254,254,255,255,255,255,255,255,255,255],[254,254,254,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,254,255,255,255,255,255,255,255,255,255],[254,254,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]],[[[248,255,255,255,255,255,255,255,255,255,255],[250,254,252,254,255,255,255,255,255,255,255],[248,254,249,253,255,255,255,255,255,255,255]],[[255,253,253,255,255,255,255,255,255,255,255],[246,253,253,255,255,255,255,255,255,255,255],[252,254,251,254,254,255,255,255,255,255,255]],[[255,254,252,255,255,255,255,255,255,255,255],[248,254,253,255,255,255,255,255,255,255,255],[253,255,254,254,255,255,255,255,255,255,255]],[[255,251,254,255,255,255,255,255,255,255,255],[245,251,254,255,255,255,255,255,255,255,255],[253,253,254,255,255,255,255,255,255,255,255]],[[255,251,253,255,255,255,255,255,255,255,255],[252,253,254,255,255,255,255,255,255,255,255],[255,254,255,255,255,255,255,255,255,255,255]],[[255,252,255,255,255,255,255,255,255,255,255],[249,255,254,255,255,255,255,255,255,255,255],[255,255,254,255,255,255,255,255,255,255,255]],[[255,255,253,255,255,255,255,255,255,255,255],[250,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]]],Pr=[0,1,2,3,6,4,5,6,6,6,6,6,6,6,6,7,0],Xi=[],aa=[],Ul=[],Wc=1,Ap=2,uc=[],pi=[];fs("UpsampleRgbLinePair",Eu,3),fs("UpsampleBgrLinePair",Uc,3),fs("UpsampleRgbaLinePair",ho,4),fs("UpsampleBgraLinePair",If,4),fs("UpsampleArgbLinePair",qc,4),fs("UpsampleRgba4444LinePair",zc,2),fs("UpsampleRgb565LinePair",fi,2);var Fu=B.UpsampleRgbLinePair,Ep=B.UpsampleBgrLinePair,Gf=B.UpsampleRgbaLinePair,Bh=B.UpsampleBgraLinePair,Gc=B.UpsampleArgbLinePair,bo=B.UpsampleRgba4444LinePair,Kc=B.UpsampleRgb565LinePair,xl=16,Kf=1<<xl-1,Pu=-227,Yc=482,Uh=6,Xc=0,xi=i(256),zh=i(256),a1=i(256),nb=i(256),ab=i(Yc-Pu),ib=i(Yc-Pu);rc("YuvToRgbRow",Eu,3),rc("YuvToBgrRow",Uc,3),rc("YuvToRgbaRow",ho,4),rc("YuvToBgraRow",If,4),rc("YuvToArgbRow",qc,4),rc("YuvToRgba4444Row",zc,2),rc("YuvToRgb565Row",fi,2);var wa=[0,4,8,12,128,132,136,140,256,260,264,268,384,388,392,396],Yf=[0,2,8],d0=[8,7,6,4,4,2,2,2,1,1,1,1],h0=1;this.WebPDecodeRGBA=function(_,A,z,V,Z){var ae=Fi,ie=new Fe,fe=new qr;ie.ba=fe,fe.S=ae,fe.width=[fe.width],fe.height=[fe.height];var pe=fe.width,we=fe.height,Ce=new Yt;if(Ce==null||_==null)var Ue=2;else t(Ce!=null),Ue=Rl(_,A,z,Ce.width,Ce.height,Ce.Pd,Ce.Qd,Ce.format,null);if(Ue!=0?pe=0:(pe!=null&&(pe[0]=Ce.width[0]),we!=null&&(we[0]=Ce.height[0]),pe=1),pe){fe.width=fe.width[0],fe.height=fe.height[0],V!=null&&(V[0]=fe.width),Z!=null&&(Z[0]=fe.height);e:{if(V=new Ba,(Z=new rt).data=_,Z.w=A,Z.ha=z,Z.kd=1,A=[0],t(Z!=null),((_=Rl(Z.data,Z.w,Z.ha,null,null,null,A,null,Z))==0||_==7)&&A[0]&&(_=4),(A=_)==0){if(t(ie!=null),V.data=Z.data,V.w=Z.w+Z.offset,V.ha=Z.ha-Z.offset,V.put=Xt,V.ac=us,V.bc=Ol,V.ma=ie,Z.xa){if((_=Ie())==null){ie=1;break e}if((function(be,De){var Le=[0],Ze=[0],Re=[0];t:for(;;){if(be==null)return 0;if(De==null)return be.a=2,0;if(be.l=De,be.a=0,ce(be.m,De.data,De.w,De.ha),!il(be.m,Le,Ze,Re)){be.a=3;break t}if(be.xb=Ap,De.width=Le[0],De.height=Ze[0],!Be(Le[0],Ze[0],1,be,null))break t;return 1}return t(be.a!=0),0})(_,V)){if(V=(A=Il(V.width,V.height,ie.Oa,ie.ba))==0){t:{V=_;r:for(;;){if(V==null){V=0;break t}if(t(V.s.yc!=null),t(V.s.Ya!=null),t(0<V.s.Wb),t((z=V.l)!=null),t((Z=z.ma)!=null),V.xb!=0){if(V.ca=Z.ba,V.tb=Z.tb,t(V.ca!=null),!nc(Z.Oa,z,ul)){V.a=2;break r}if(!ze(V,z.width)||z.da)break r;if((z.da||dr(V.ca.S))&&ll(),11>V.ca.S||(alert("todo:WebPInitConvertARGBToYUV"),V.ca.f.kb.F!=null&&ll()),V.Pb&&0<V.s.ua&&V.s.vb.X==null&&!xe(V.s.vb,V.s.Wa.Xa)){V.a=1;break r}V.xb=0}if(!Me(V,V.V,V.Ba,V.c,V.i,z.o,de))break r;Z.Dc=V.Ma,V=1;break t}t(V.a!=0),V=0}V=!V}V&&(A=_.a)}else A=_.a}else{if((_=new Ff)==null){ie=1;break e}if(_.Fa=Z.na,_.P=Z.P,_.qc=Z.Sa,Wd(_,V)){if((A=Il(V.width,V.height,ie.Oa,ie.ba))==0){if(_.Aa=0,z=ie.Oa,t((Z=_)!=null),z!=null){if(0<(pe=0>(pe=z.Md)?0:100<pe?255:255*pe/100)){for(we=Ce=0;4>we;++we)12>(Ue=Z.pb[we]).lc&&(Ue.ia=pe*d0[0>Ue.lc?0:Ue.lc]>>3),Ce|=Ue.ia;Ce&&(alert("todo:VP8InitRandom"),Z.ia=1)}Z.Ga=z.Id,100<Z.Ga?Z.Ga=100:0>Z.Ga&&(Z.Ga=0)}(function(be,De){if(be==null)return 0;if(De==null)return dn(be,2,"NULL VP8Io parameter in VP8Decode().");if(!be.cb&&!Wd(be,De))return 0;if(t(be.cb),De.ac==null||De.ac(De)){De.ob&&(be.L=0);var Le=Yf[be.L];if(be.L==2?(be.yb=0,be.zb=0):(be.yb=De.v-Le>>4,be.zb=De.j-Le>>4,0>be.yb&&(be.yb=0),0>be.zb&&(be.zb=0)),be.Va=De.o+15+Le>>4,be.Hb=De.va+15+Le>>4,be.Hb>be.za&&(be.Hb=be.za),be.Va>be.Ub&&(be.Va=be.Ub),0<be.L){var Ze=be.ed;for(Le=0;4>Le;++Le){var Re;if(be.Qa.Cb){var Qe=be.Qa.Lb[Le];be.Qa.Fb||(Qe+=Ze.Tb)}else Qe=Ze.Tb;for(Re=0;1>=Re;++Re){var nt=be.gd[Le][Re],ht=Qe;if(Ze.Pc&&(ht+=Ze.vd[0],Re&&(ht+=Ze.od[0])),0<(ht=0>ht?0:63<ht?63:ht)){var ot=ht;0<Ze.wb&&(ot=4<Ze.wb?ot>>2:ot>>1)>9-Ze.wb&&(ot=9-Ze.wb),1>ot&&(ot=1),nt.dd=ot,nt.tc=2*ht+ot,nt.ld=40<=ht?2:15<=ht?1:0}else nt.tc=0;nt.La=Re}}}Le=0}else dn(be,6,"Frame setup failed"),Le=be.a;if(Le=Le==0){if(Le){be.$c=0,0<be.Aa||(be.Ic=h0);t:{Le=be.Ic,Ze=4*(ot=be.za);var qt=32*ot,Tt=ot+1,mr=0<be.L?ot*(0<be.Aa?2:1):0,Mt=(be.Aa==2?2:1)*ot;if((nt=Ze+832+(Re=3*(16*Le+Yf[be.L])/2*qt)+(Qe=be.Fa!=null&&0<be.Fa.length?be.Kc.c*be.Kc.i:0))!=nt)Le=0;else{if(nt>be.Vb){if(be.Vb=0,be.Ec=i(nt),be.Fc=0,be.Ec==null){Le=dn(be,1,"no memory during frame initialization.");break t}be.Vb=nt}nt=be.Ec,ht=be.Fc,be.Ac=nt,be.Bc=ht,ht+=Ze,be.Gd=l(qt,Is),be.Hd=0,be.rb=l(Tt+1,fn),be.sb=1,be.wa=mr?l(mr,Cr):null,be.Y=0,be.D.Nb=0,be.D.wa=be.wa,be.D.Y=be.Y,0<be.Aa&&(be.D.Y+=ot),t(!0),be.oc=nt,be.pc=ht,ht+=832,be.ya=l(Mt,Dl),be.aa=0,be.D.ya=be.ya,be.D.aa=be.aa,be.Aa==2&&(be.D.aa+=ot),be.R=16*ot,be.B=8*ot,ot=(qt=Yf[be.L])*be.R,qt=qt/2*be.B,be.sa=nt,be.ta=ht+ot,be.qa=be.sa,be.ra=be.ta+16*Le*be.R+qt,be.Ha=be.qa,be.Ia=be.ra+8*Le*be.B+qt,be.$c=0,ht+=Re,be.mb=Qe?nt:null,be.nb=Qe?ht:null,t(ht+Qe<=be.Fc+be.Vb),Yo(be),a(be.Ac,be.Bc,0,Ze),Le=1}}if(Le){if(De.ka=0,De.y=be.sa,De.O=be.ta,De.f=be.qa,De.N=be.ra,De.ea=be.Ha,De.Vd=be.Ia,De.fa=be.R,De.Rc=be.B,De.F=null,De.J=0,!Dh){for(Le=-255;255>=Le;++Le)Ou[255+Le]=0>Le?-Le:Le;for(Le=-1020;1020>=Le;++Le)Oh[1020+Le]=-128>Le?-128:127<Le?127:Le;for(Le=-112;112>=Le;++Le)s0[112+Le]=-16>Le?-16:15<Le?15:Le;for(Le=-255;510>=Le;++Le)l0[255+Le]=0>Le?0:255<Le?255:Le;Dh=1}Hs=Xd,oc=wh,ol=Kd,Yr=Ki,Ur=Yd,Oi=Gd,An=Ah,ba=Eh,yo=I,Bl=Q,Cu=tc,a0=kh,Np=_e,Jg=ke,e1=ju,t1=Jo,_p=Bc,jp=Su,aa[0]=e0,aa[1]=Qd,aa[2]=Ic,aa[3]=jh,aa[4]=Sh,aa[5]=ci,aa[6]=Us,aa[7]=t0,aa[8]=zs,aa[9]=wu,Xi[0]=Pl,Xi[1]=_h,Xi[2]=Zd,Xi[3]=Jd,Xi[4]=Ll,Xi[5]=Xo,Xi[6]=bu,Ul[0]=Qo,Ul[1]=Nh,Ul[2]=Nu,Ul[3]=oo,Ul[4]=Lf,Ul[5]=Pf,Ul[6]=Za,Le=1}else Le=0}Le&&(Le=(function(Or,Ln){for(Or.M=0;Or.M<Or.Va;++Or.M){var gr,Ot=Or.Jc[Or.M&Or.Xb],jt=Or.m,Wn=Or;for(gr=0;gr<Wn.za;++gr){var sr=jt,wr=Wn,on=wr.Ac,za=wr.Bc+4*gr,gi=wr.zc,En=wr.ya[wr.aa+gr];if(wr.Qa.Bb?En.$b=ge(sr,wr.Pa.jb[0])?2+ge(sr,wr.Pa.jb[2]):ge(sr,wr.Pa.jb[1]):En.$b=0,wr.kc&&(En.Ad=ge(sr,wr.Bd)),En.Za=!ge(sr,145)+0,En.Za){var Ea=En.Ob,Pi=0;for(wr=0;4>wr;++wr){var ka,kr=gi[0+wr];for(ka=0;4>ka;++ka){kr=mi[on[za+ka]][kr];for(var $r=Ih[ge(sr,kr[0])];0<$r;)$r=Ih[2*$r+ge(sr,kr[$r])];kr=-$r,on[za+ka]=kr}n(Ea,Pi,on,za,4),Pi+=4,gi[0+wr]=kr}}else kr=ge(sr,156)?ge(sr,128)?1:3:ge(sr,163)?2:0,En.Ob[0]=kr,a(on,za,kr,4),a(gi,0,kr,4);En.Dd=ge(sr,142)?ge(sr,114)?ge(sr,183)?1:3:2:0}if(Wn.m.Ka)return dn(Or,7,"Premature end-of-partition0 encountered.");for(;Or.ja<Or.za;++Or.ja){if(Wn=Ot,sr=(jt=Or).rb[jt.sb-1],on=jt.rb[jt.sb+jt.ja],gr=jt.ya[jt.aa+jt.ja],za=jt.kc?gr.Ad:0)sr.la=on.la=0,gr.Za||(sr.Na=on.Na=0),gr.Hc=0,gr.Gc=0,gr.ia=0;else{var Gn,Xr;if(sr=on,on=Wn,za=jt.Pa.Xc,gi=jt.ya[jt.aa+jt.ja],En=jt.pb[gi.$b],wr=gi.ad,Ea=0,Pi=jt.rb[jt.sb-1],kr=ka=0,a(wr,Ea,0,384),gi.Za)var qa=0,Kn=za[3];else{$r=i(16);var Hr=sr.Na+Pi.Na;if(Hr=Ws(on,za[1],Hr,En.Eb,0,$r,0),sr.Na=Pi.Na=(0<Hr)+0,1<Hr)Hs($r,0,wr,Ea);else{var Na=$r[0]+3>>3;for($r=0;256>$r;$r+=16)wr[Ea+$r]=Na}qa=1,Kn=za[0]}var cn=15&sr.la,Ca=15&Pi.la;for($r=0;4>$r;++$r){var Ta=1&Ca;for(Na=Xr=0;4>Na;++Na)cn=cn>>1|(Ta=(Hr=Ws(on,Kn,Hr=Ta+(1&cn),En.Sc,qa,wr,Ea))>qa)<<7,Xr=Xr<<2|(3<Hr?3:1<Hr?2:wr[Ea+0]!=0),Ea+=16;cn>>=4,Ca=Ca>>1|Ta<<7,ka=(ka<<8|Xr)>>>0}for(Kn=cn,qa=Ca>>4,Gn=0;4>Gn;Gn+=2){for(Xr=0,cn=sr.la>>4+Gn,Ca=Pi.la>>4+Gn,$r=0;2>$r;++$r){for(Ta=1&Ca,Na=0;2>Na;++Na)Hr=Ta+(1&cn),cn=cn>>1|(Ta=0<(Hr=Ws(on,za[2],Hr,En.Qc,0,wr,Ea)))<<3,Xr=Xr<<2|(3<Hr?3:1<Hr?2:wr[Ea+0]!=0),Ea+=16;cn>>=2,Ca=Ca>>1|Ta<<5}kr|=Xr<<4*Gn,Kn|=cn<<4<<Gn,qa|=(240&Ca)<<Gn}sr.la=Kn,Pi.la=qa,gi.Hc=ka,gi.Gc=kr,gi.ia=43690&kr?0:En.ia,za=!(ka|kr)}if(0<jt.L&&(jt.wa[jt.Y+jt.ja]=jt.gd[gr.$b][gr.Za],jt.wa[jt.Y+jt.ja].La|=!za),Wn.Ka)return dn(Or,7,"Premature end-of-file encountered.")}if(Yo(Or),jt=Ln,Wn=1,gr=(Ot=Or).D,sr=0<Ot.L&&Ot.M>=Ot.zb&&Ot.M<=Ot.Va,Ot.Aa==0)t:{if(gr.M=Ot.M,gr.uc=sr,$s(Ot,gr),Wn=1,gr=(Xr=Ot.D).Nb,sr=(kr=Yf[Ot.L])*Ot.R,on=kr/2*Ot.B,$r=16*gr*Ot.R,Na=8*gr*Ot.B,za=Ot.sa,gi=Ot.ta-sr+$r,En=Ot.qa,wr=Ot.ra-on+Na,Ea=Ot.Ha,Pi=Ot.Ia-on+Na,Ca=(cn=Xr.M)==0,ka=cn>=Ot.Va-1,Ot.Aa==2&&$s(Ot,Xr),Xr.uc)for(Ta=(Hr=Ot).D.M,t(Hr.D.uc),Xr=Hr.yb;Xr<Hr.Hb;++Xr){qa=Xr,Kn=Ta;var xn=(zr=(Oa=Hr).D).Nb;Gn=Oa.R;var zr=zr.wa[zr.Y+qa],Li=Oa.sa,ia=Oa.ta+16*xn*Gn+16*qa,Jt=zr.dd,tr=zr.tc;if(tr!=0)if(t(3<=tr),Oa.L==1)0<qa&&t1(Li,ia,Gn,tr+4),zr.La&&jp(Li,ia,Gn,tr),0<Kn&&e1(Li,ia,Gn,tr+4),zr.La&&_p(Li,ia,Gn,tr);else{var Vr=Oa.B,hs=Oa.qa,gl=Oa.ra+8*xn*Vr+8*qa,Qi=Oa.Ha,Oa=Oa.Ia+8*xn*Vr+8*qa;xn=zr.ld,0<qa&&(ba(Li,ia,Gn,tr+4,Jt,xn),Bl(hs,gl,Qi,Oa,Vr,tr+4,Jt,xn)),zr.La&&(a0(Li,ia,Gn,tr,Jt,xn),Jg(hs,gl,Qi,Oa,Vr,tr,Jt,xn)),0<Kn&&(An(Li,ia,Gn,tr+4,Jt,xn),yo(hs,gl,Qi,Oa,Vr,tr+4,Jt,xn)),zr.La&&(Cu(Li,ia,Gn,tr,Jt,xn),Np(hs,gl,Qi,Oa,Vr,tr,Jt,xn))}}if(Ot.ia&&alert("todo:DitherRow"),jt.put!=null){if(Xr=16*cn,cn=16*(cn+1),Ca?(jt.y=Ot.sa,jt.O=Ot.ta+$r,jt.f=Ot.qa,jt.N=Ot.ra+Na,jt.ea=Ot.Ha,jt.W=Ot.Ia+Na):(Xr-=kr,jt.y=za,jt.O=gi,jt.f=En,jt.N=wr,jt.ea=Ea,jt.W=Pi),ka||(cn-=kr),cn>jt.o&&(cn=jt.o),jt.F=null,jt.J=null,Ot.Fa!=null&&0<Ot.Fa.length&&Xr<cn&&(jt.J=va(Ot,jt,Xr,cn-Xr),jt.F=Ot.mb,jt.F==null&&jt.F.length==0)){Wn=dn(Ot,3,"Could not decode alpha data.");break t}Xr<jt.j&&(kr=jt.j-Xr,Xr=jt.j,t(!(1&kr)),jt.O+=Ot.R*kr,jt.N+=Ot.B*(kr>>1),jt.W+=Ot.B*(kr>>1),jt.F!=null&&(jt.J+=jt.width*kr)),Xr<cn&&(jt.O+=jt.v,jt.N+=jt.v>>1,jt.W+=jt.v>>1,jt.F!=null&&(jt.J+=jt.v),jt.ka=Xr-jt.j,jt.U=jt.va-jt.v,jt.T=cn-Xr,Wn=jt.put(jt))}gr+1!=Ot.Ic||ka||(n(Ot.sa,Ot.ta-sr,za,gi+16*Ot.R,sr),n(Ot.qa,Ot.ra-on,En,wr+8*Ot.B,on),n(Ot.Ha,Ot.Ia-on,Ea,Pi+8*Ot.B,on))}if(!Wn)return dn(Or,6,"Output aborted.")}return 1})(be,De)),De.bc!=null&&De.bc(De),Le&=1}return Le?(be.cb=0,Le):0})(_,V)||(A=_.a)}}else A=_.a}A==0&&ie.Oa!=null&&ie.Oa.fd&&(A=n0(ie.ba))}ie=A}ae=ie!=0?null:11>ae?fe.f.RGBA.eb:fe.f.kb.y}else ae=null;return ae};var qh=[3,4,3,4,4,2,2,4,4,4,2,1,1]};function f(B,H){for(var P="",U=0;U<4;U++)P+=String.fromCharCode(B[H++]);return P}function h(B,H){return B[H+0]|B[H+1]<<8}function m(B,H){return(B[H+0]|B[H+1]<<8|B[H+2]<<16)>>>0}function g(B,H){return(B[H+0]|B[H+1]<<8|B[H+2]<<16|B[H+3]<<24)>>>0}new u;var x=[0],b=[0],v=[],w=new u,N=e,E=(function(B,H){var P={},U=0,K=!1,ee=0,me=0;if(P.frames=[],!(function(M,R){for(var q=0;q<4;q++)if(M[R+q]!="RIFF".charCodeAt(q))return!0;return!1})(B,H)){for(g(B,H+=4),H+=8;H<B.length;){var ne=f(B,H),se=g(B,H+=4);H+=4;var ye=se+(1&se);switch(ne){case"VP8 ":case"VP8L":P.frames[U]===void 0&&(P.frames[U]={}),(te=P.frames[U]).src_off=K?me:H-8,te.src_size=ee+se+8,U++,K&&(K=!1,ee=0,me=0);break;case"VP8X":(te=P.header={}).feature_flags=B[H];var ce=H+4;te.canvas_width=1+m(B,ce),ce+=3,te.canvas_height=1+m(B,ce),ce+=3;break;case"ALPH":K=!0,ee=ye+8,me=H-8;break;case"ANIM":(te=P.header).bgcolor=g(B,H),ce=H+4,te.loop_count=h(B,ce),ce+=2;break;case"ANMF":var Se,te;(te=P.frames[U]={}).offset_x=2*m(B,H),H+=3,te.offset_y=2*m(B,H),H+=3,te.width=1+m(B,H),H+=3,te.height=1+m(B,H),H+=3,te.duration=m(B,H),H+=3,Se=B[H++],te.dispose=1&Se,te.blend=Se>>1&1}ne!="ANMF"&&(H+=ye)}return P}})(N,0);E.response=N,E.rgbaoutput=!0,E.dataurl=!1;var j=E.header?E.header:null,T=E.frames?E.frames:null;if(j){j.loop_counter=j.loop_count,x=[j.canvas_height],b=[j.canvas_width];for(var O=0;O<T.length&&T[O].blend!=0;O++);}var F=T[0],D=w.WebPDecodeRGBA(N,F.src_off,F.src_size,b,x);F.rgba=D,F.imgwidth=b[0],F.imgheight=x[0];for(var L=0;L<b[0]*x[0]*4;L++)v[L]=D[L];return this.width=b,this.height=x,this.data=v,this}(function(e){var t,r,n,a,i,l,o,u,f,h=function(M){return M=M||{},this.isStrokeTransparent=M.isStrokeTransparent||!1,this.strokeOpacity=M.strokeOpacity||1,this.strokeStyle=M.strokeStyle||"#000000",this.fillStyle=M.fillStyle||"#000000",this.isFillTransparent=M.isFillTransparent||!1,this.fillOpacity=M.fillOpacity||1,this.font=M.font||"10px sans-serif",this.textBaseline=M.textBaseline||"alphabetic",this.textAlign=M.textAlign||"left",this.lineWidth=M.lineWidth||1,this.lineJoin=M.lineJoin||"miter",this.lineCap=M.lineCap||"butt",this.path=M.path||[],this.transform=M.transform!==void 0?M.transform.clone():new u,this.globalCompositeOperation=M.globalCompositeOperation||"normal",this.globalAlpha=M.globalAlpha||1,this.clip_path=M.clip_path||[],this.currentPoint=M.currentPoint||new l,this.miterLimit=M.miterLimit||10,this.lastPoint=M.lastPoint||new l,this.lineDashOffset=M.lineDashOffset||0,this.lineDash=M.lineDash||[],this.margin=M.margin||[0,0,0,0],this.prevPageLastElemOffset=M.prevPageLastElemOffset||0,this.ignoreClearRect=typeof M.ignoreClearRect!="boolean"||M.ignoreClearRect,this};e.events.push(["initialized",function(){this.context2d=new m(this),t=this.internal.f2,r=this.internal.getCoordinateString,n=this.internal.getVerticalCoordinateString,a=this.internal.getHorizontalCoordinate,i=this.internal.getVerticalCoordinate,l=this.internal.Point,o=this.internal.Rectangle,u=this.internal.Matrix,f=new h}]);var m=function(M){Object.defineProperty(this,"canvas",{get:function(){return{parentNode:!1,style:!1}}});var R=M;Object.defineProperty(this,"pdf",{get:function(){return R}});var q=!1;Object.defineProperty(this,"pageWrapXEnabled",{get:function(){return q},set:function(Ee){q=!!Ee}});var W=!1;Object.defineProperty(this,"pageWrapYEnabled",{get:function(){return W},set:function(Ee){W=!!Ee}});var J=0;Object.defineProperty(this,"posX",{get:function(){return J},set:function(Ee){isNaN(Ee)||(J=Ee)}});var le=0;Object.defineProperty(this,"posY",{get:function(){return le},set:function(Ee){isNaN(Ee)||(le=Ee)}}),Object.defineProperty(this,"margin",{get:function(){return f.margin},set:function(Ee){var xe;typeof Ee=="number"?xe=[Ee,Ee,Ee,Ee]:((xe=new Array(4))[0]=Ee[0],xe[1]=Ee.length>=2?Ee[1]:xe[0],xe[2]=Ee.length>=3?Ee[2]:xe[0],xe[3]=Ee.length>=4?Ee[3]:xe[1]),f.margin=xe}});var ue=!1;Object.defineProperty(this,"autoPaging",{get:function(){return ue},set:function(Ee){ue=Ee}});var X=0;Object.defineProperty(this,"lastBreak",{get:function(){return X},set:function(Ee){X=Ee}});var ge=[];Object.defineProperty(this,"pageBreaks",{get:function(){return ge},set:function(Ee){ge=Ee}}),Object.defineProperty(this,"ctx",{get:function(){return f},set:function(Ee){Ee instanceof h&&(f=Ee)}}),Object.defineProperty(this,"path",{get:function(){return f.path},set:function(Ee){f.path=Ee}});var Te=[];Object.defineProperty(this,"ctxStack",{get:function(){return Te},set:function(Ee){Te=Ee}}),Object.defineProperty(this,"fillStyle",{get:function(){return this.ctx.fillStyle},set:function(Ee){var xe;xe=g(Ee),this.ctx.fillStyle=xe.style,this.ctx.isFillTransparent=xe.a===0,this.ctx.fillOpacity=xe.a,this.pdf.setFillColor(xe.r,xe.g,xe.b,{a:xe.a}),this.pdf.setTextColor(xe.r,xe.g,xe.b,{a:xe.a})}}),Object.defineProperty(this,"strokeStyle",{get:function(){return this.ctx.strokeStyle},set:function(Ee){var xe=g(Ee);this.ctx.strokeStyle=xe.style,this.ctx.isStrokeTransparent=xe.a===0,this.ctx.strokeOpacity=xe.a,xe.a===0?this.pdf.setDrawColor(255,255,255):(xe.a,this.pdf.setDrawColor(xe.r,xe.g,xe.b))}}),Object.defineProperty(this,"lineCap",{get:function(){return this.ctx.lineCap},set:function(Ee){["butt","round","square"].indexOf(Ee)!==-1&&(this.ctx.lineCap=Ee,this.pdf.setLineCap(Ee))}}),Object.defineProperty(this,"lineWidth",{get:function(){return this.ctx.lineWidth},set:function(Ee){isNaN(Ee)||(this.ctx.lineWidth=Ee,this.pdf.setLineWidth(Ee))}}),Object.defineProperty(this,"lineJoin",{get:function(){return this.ctx.lineJoin},set:function(Ee){["bevel","round","miter"].indexOf(Ee)!==-1&&(this.ctx.lineJoin=Ee,this.pdf.setLineJoin(Ee))}}),Object.defineProperty(this,"miterLimit",{get:function(){return this.ctx.miterLimit},set:function(Ee){isNaN(Ee)||(this.ctx.miterLimit=Ee,this.pdf.setMiterLimit(Ee))}}),Object.defineProperty(this,"textBaseline",{get:function(){return this.ctx.textBaseline},set:function(Ee){this.ctx.textBaseline=Ee}}),Object.defineProperty(this,"textAlign",{get:function(){return this.ctx.textAlign},set:function(Ee){["right","end","center","left","start"].indexOf(Ee)!==-1&&(this.ctx.textAlign=Ee)}});var Y=null,We=null;Object.defineProperty(this,"fontFaces",{get:function(){return We},set:function(Ee){Y=null,We=Ee}}),Object.defineProperty(this,"font",{get:function(){return this.ctx.font},set:function(Ee){var xe;if(this.ctx.font=Ee,(xe=/^\s*(?=(?:(?:[-a-z]+\s*){0,2}(italic|oblique))?)(?=(?:(?:[-a-z]+\s*){0,2}(small-caps))?)(?=(?:(?:[-a-z]+\s*){0,2}(bold(?:er)?|lighter|[1-9]00))?)(?:(?:normal|\1|\2|\3)\s*){0,3}((?:xx?-)?(?:small|large)|medium|smaller|larger|[.\d]+(?:\%|in|[cem]m|ex|p[ctx]))(?:\s*\/\s*(normal|[.\d]+(?:\%|in|[cem]m|ex|p[ctx])))?\s*([-_,\"\'\sa-z]+?)\s*$/i.exec(Ee))!==null){var dt=xe[1];xe[2];var Xe=xe[3],bt=xe[4];xe[5];var lt=xe[6],Ct=/^([.\d]+)((?:%|in|[cem]m|ex|p[ctx]))$/i.exec(bt)[2];bt=Math.floor(Ct==="px"?parseFloat(bt)*this.pdf.internal.scaleFactor:Ct==="em"?parseFloat(bt)*this.pdf.getFontSize():parseFloat(bt)*this.pdf.internal.scaleFactor),this.pdf.setFontSize(bt);var xt=(function(yt){var kt,_r,Zt=[],At=yt.trim();if(At==="")return F4;if(At in q7)return[q7[At]];for(;At!=="";){switch(_r=null,kt=(At=H7(At)).charAt(0)){case'"':case"'":_r=V4e(At.substring(1),kt);break;default:_r=W4e(At)}if(_r===null||(Zt.push(_r[0]),(At=H7(_r[1]))!==""&&At.charAt(0)!==","))return F4;At=At.replace(/^,/,"")}return Zt})(lt);if(this.fontFaces){var Ke=(function(yt,kt){if(Y===null){var _r=(function(Zt){var At=[];return Object.keys(Zt).forEach(function(er){Zt[er].forEach(function(br){var ar=null;switch(br){case"bold":ar={family:er,weight:"bold"};break;case"italic":ar={family:er,style:"italic"};break;case"bolditalic":ar={family:er,weight:"bold",style:"italic"};break;case"":case"normal":ar={family:er}}ar!==null&&(ar.ref={name:er,style:br},At.push(ar))})}),At})(yt.getFontList());Y=(function(Zt){for(var At={},er=0;er<Zt.length;++er){var br=D4(Zt[er]),ar=br.family,Er=br.stretch,dr=br.style,pn=br.weight;At[ar]=At[ar]||{},At[ar][Er]=At[ar][Er]||{},At[ar][Er][dr]=At[ar][Er][dr]||{},At[ar][Er][dr][pn]=br}return At})(_r.concat(kt))}return Y})(this.pdf,this.fontFaces),pt=xt.map(function(yt){return{family:yt,stretch:"normal",weight:Xe,style:dt}}),Et=(function(yt,kt,_r){for(var Zt=(_r=_r||{}).defaultFontFamily||"times",At=Object.assign({},H4e,_r.genericFontFamilies||{}),er=null,br=null,ar=0;ar<kt.length;++ar)if(At[(er=D4(kt[ar])).family]&&(er.family=At[er.family]),yt.hasOwnProperty(er.family)){br=yt[er.family];break}if(!(br=br||yt[Zt]))throw new Error("Could not find a font-family for the rule '"+$7(er)+"' and default family '"+Zt+"'.");if(br=(function(Er,dr){if(dr[Er])return dr[Er];var pn=y_[Er],Un=pn<=y_.normal?-1:1,qr=z7(dr,ZB,pn,Un);if(!qr)throw new Error("Could not find a matching font-stretch value for "+Er);return qr})(er.stretch,br),br=(function(Er,dr){if(dr[Er])return dr[Er];for(var pn=QB[Er],Un=0;Un<pn.length;++Un)if(dr[pn[Un]])return dr[pn[Un]];throw new Error("Could not find a matching font-style for "+Er)})(er.style,br),!(br=(function(Er,dr){if(dr[Er])return dr[Er];if(Er===400&&dr[500])return dr[500];if(Er===500&&dr[400])return dr[400];var pn=$4e[Er],Un=z7(dr,JB,pn,Er<400?-1:1);if(!Un)throw new Error("Could not find a matching font-weight for value "+Er);return Un})(er.weight,br)))throw new Error("Failed to resolve a font for the rule '"+$7(er)+"'.");return br})(Ke,pt);this.pdf.setFont(Et.ref.name,Et.ref.style)}else{var zt="";(Xe==="bold"||parseInt(Xe,10)>=700||dt==="bold")&&(zt="bold"),dt==="italic"&&(zt+="italic"),zt.length===0&&(zt="normal");for(var Gt="",Ar={arial:"Helvetica",Arial:"Helvetica",verdana:"Helvetica",Verdana:"Helvetica",helvetica:"Helvetica",Helvetica:"Helvetica","sans-serif":"Helvetica",fixed:"Courier",monospace:"Courier",terminal:"Courier",cursive:"Times",fantasy:"Times",serif:"Times"},Lt=0;Lt<xt.length;Lt++){if(this.pdf.internal.getFont(xt[Lt],zt,{noFallback:!0,disableWarning:!0})!==void 0){Gt=xt[Lt];break}if(zt==="bolditalic"&&this.pdf.internal.getFont(xt[Lt],"bold",{noFallback:!0,disableWarning:!0})!==void 0)Gt=xt[Lt],zt="bold";else if(this.pdf.internal.getFont(xt[Lt],"normal",{noFallback:!0,disableWarning:!0})!==void 0){Gt=xt[Lt],zt="normal";break}}if(Gt===""){for(var Dt=0;Dt<xt.length;Dt++)if(Ar[xt[Dt]]){Gt=Ar[xt[Dt]];break}}Gt=Gt===""?"Times":Gt,this.pdf.setFont(Gt,zt)}}}}),Object.defineProperty(this,"globalCompositeOperation",{get:function(){return this.ctx.globalCompositeOperation},set:function(Ee){this.ctx.globalCompositeOperation=Ee}}),Object.defineProperty(this,"globalAlpha",{get:function(){return this.ctx.globalAlpha},set:function(Ee){this.ctx.globalAlpha=Ee}}),Object.defineProperty(this,"lineDashOffset",{get:function(){return this.ctx.lineDashOffset},set:function(Ee){this.ctx.lineDashOffset=Ee,te.call(this)}}),Object.defineProperty(this,"lineDash",{get:function(){return this.ctx.lineDash},set:function(Ee){this.ctx.lineDash=Ee,te.call(this)}}),Object.defineProperty(this,"ignoreClearRect",{get:function(){return this.ctx.ignoreClearRect},set:function(Ee){this.ctx.ignoreClearRect=!!Ee}})};m.prototype.setLineDash=function(M){this.lineDash=M},m.prototype.getLineDash=function(){return this.lineDash.length%2?this.lineDash.concat(this.lineDash):this.lineDash.slice()},m.prototype.fill=function(){T.call(this,"fill",!1)},m.prototype.stroke=function(){T.call(this,"stroke",!1)},m.prototype.beginPath=function(){this.path=[{type:"begin"}]},m.prototype.moveTo=function(M,R){if(isNaN(M)||isNaN(R))throw Rn.error("jsPDF.context2d.moveTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.moveTo");var q=this.ctx.transform.applyToPoint(new l(M,R));this.path.push({type:"mt",x:q.x,y:q.y}),this.ctx.lastPoint=new l(M,R)},m.prototype.closePath=function(){var M=new l(0,0),R=0;for(R=this.path.length-1;R!==-1;R--)if(this.path[R].type==="begin"&&Nn(this.path[R+1])==="object"&&typeof this.path[R+1].x=="number"){M=new l(this.path[R+1].x,this.path[R+1].y);break}this.path.push({type:"close"}),this.ctx.lastPoint=new l(M.x,M.y)},m.prototype.lineTo=function(M,R){if(isNaN(M)||isNaN(R))throw Rn.error("jsPDF.context2d.lineTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.lineTo");var q=this.ctx.transform.applyToPoint(new l(M,R));this.path.push({type:"lt",x:q.x,y:q.y}),this.ctx.lastPoint=new l(q.x,q.y)},m.prototype.clip=function(){this.ctx.clip_path=JSON.parse(JSON.stringify(this.path)),T.call(this,null,!0)},m.prototype.quadraticCurveTo=function(M,R,q,W){if(isNaN(q)||isNaN(W)||isNaN(M)||isNaN(R))throw Rn.error("jsPDF.context2d.quadraticCurveTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.quadraticCurveTo");var J=this.ctx.transform.applyToPoint(new l(q,W)),le=this.ctx.transform.applyToPoint(new l(M,R));this.path.push({type:"qct",x1:le.x,y1:le.y,x:J.x,y:J.y}),this.ctx.lastPoint=new l(J.x,J.y)},m.prototype.bezierCurveTo=function(M,R,q,W,J,le){if(isNaN(J)||isNaN(le)||isNaN(M)||isNaN(R)||isNaN(q)||isNaN(W))throw Rn.error("jsPDF.context2d.bezierCurveTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.bezierCurveTo");var ue=this.ctx.transform.applyToPoint(new l(J,le)),X=this.ctx.transform.applyToPoint(new l(M,R)),ge=this.ctx.transform.applyToPoint(new l(q,W));this.path.push({type:"bct",x1:X.x,y1:X.y,x2:ge.x,y2:ge.y,x:ue.x,y:ue.y}),this.ctx.lastPoint=new l(ue.x,ue.y)},m.prototype.arc=function(M,R,q,W,J,le){if(isNaN(M)||isNaN(R)||isNaN(q)||isNaN(W)||isNaN(J))throw Rn.error("jsPDF.context2d.arc: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.arc");if(le=!!le,!this.ctx.transform.isIdentity){var ue=this.ctx.transform.applyToPoint(new l(M,R));M=ue.x,R=ue.y;var X=this.ctx.transform.applyToPoint(new l(0,q)),ge=this.ctx.transform.applyToPoint(new l(0,0));q=Math.sqrt(Math.pow(X.x-ge.x,2)+Math.pow(X.y-ge.y,2))}Math.abs(J-W)>=2*Math.PI&&(W=0,J=2*Math.PI),this.path.push({type:"arc",x:M,y:R,radius:q,startAngle:W,endAngle:J,counterclockwise:le})},m.prototype.arcTo=function(M,R,q,W,J){throw new Error("arcTo not implemented.")},m.prototype.rect=function(M,R,q,W){if(isNaN(M)||isNaN(R)||isNaN(q)||isNaN(W))throw Rn.error("jsPDF.context2d.rect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.rect");this.moveTo(M,R),this.lineTo(M+q,R),this.lineTo(M+q,R+W),this.lineTo(M,R+W),this.lineTo(M,R),this.lineTo(M+q,R),this.lineTo(M,R)},m.prototype.fillRect=function(M,R,q,W){if(isNaN(M)||isNaN(R)||isNaN(q)||isNaN(W))throw Rn.error("jsPDF.context2d.fillRect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.fillRect");if(!x.call(this)){var J={};this.lineCap!=="butt"&&(J.lineCap=this.lineCap,this.lineCap="butt"),this.lineJoin!=="miter"&&(J.lineJoin=this.lineJoin,this.lineJoin="miter"),this.beginPath(),this.rect(M,R,q,W),this.fill(),J.hasOwnProperty("lineCap")&&(this.lineCap=J.lineCap),J.hasOwnProperty("lineJoin")&&(this.lineJoin=J.lineJoin)}},m.prototype.strokeRect=function(M,R,q,W){if(isNaN(M)||isNaN(R)||isNaN(q)||isNaN(W))throw Rn.error("jsPDF.context2d.strokeRect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.strokeRect");b.call(this)||(this.beginPath(),this.rect(M,R,q,W),this.stroke())},m.prototype.clearRect=function(M,R,q,W){if(isNaN(M)||isNaN(R)||isNaN(q)||isNaN(W))throw Rn.error("jsPDF.context2d.clearRect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.clearRect");this.ignoreClearRect||(this.fillStyle="#ffffff",this.fillRect(M,R,q,W))},m.prototype.save=function(M){M=typeof M!="boolean"||M;for(var R=this.pdf.internal.getCurrentPageInfo().pageNumber,q=0;q<this.pdf.internal.getNumberOfPages();q++)this.pdf.setPage(q+1),this.pdf.internal.out("q");if(this.pdf.setPage(R),M){this.ctx.fontSize=this.pdf.internal.getFontSize();var W=new h(this.ctx);this.ctxStack.push(this.ctx),this.ctx=W}},m.prototype.restore=function(M){M=typeof M!="boolean"||M;for(var R=this.pdf.internal.getCurrentPageInfo().pageNumber,q=0;q<this.pdf.internal.getNumberOfPages();q++)this.pdf.setPage(q+1),this.pdf.internal.out("Q");this.pdf.setPage(R),M&&this.ctxStack.length!==0&&(this.ctx=this.ctxStack.pop(),this.fillStyle=this.ctx.fillStyle,this.strokeStyle=this.ctx.strokeStyle,this.font=this.ctx.font,this.lineCap=this.ctx.lineCap,this.lineWidth=this.ctx.lineWidth,this.lineJoin=this.ctx.lineJoin,this.lineDash=this.ctx.lineDash,this.lineDashOffset=this.ctx.lineDashOffset)},m.prototype.toDataURL=function(){throw new Error("toDataUrl not implemented.")};var g=function(M){var R,q,W,J;if(M.isCanvasGradient===!0&&(M=M.getColor()),!M)return{r:0,g:0,b:0,a:0,style:M};if(/transparent|rgba\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*,\s*0+\s*\)/.test(M))R=0,q=0,W=0,J=0;else{var le=/rgb\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*\)/.exec(M);if(le!==null)R=parseInt(le[1]),q=parseInt(le[2]),W=parseInt(le[3]),J=1;else if((le=/rgba\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*,\s*([\d.]+)\s*\)/.exec(M))!==null)R=parseInt(le[1]),q=parseInt(le[2]),W=parseInt(le[3]),J=parseFloat(le[4]);else{if(J=1,typeof M=="string"&&M.charAt(0)!=="#"){var ue=new HB(M);M=ue.ok?ue.toHex():"#000000"}M.length===4?(R=M.substring(1,2),R+=R,q=M.substring(2,3),q+=q,W=M.substring(3,4),W+=W):(R=M.substring(1,3),q=M.substring(3,5),W=M.substring(5,7)),R=parseInt(R,16),q=parseInt(q,16),W=parseInt(W,16)}}return{r:R,g:q,b:W,a:J,style:M}},x=function(){return this.ctx.isFillTransparent||this.globalAlpha==0},b=function(){return!!(this.ctx.isStrokeTransparent||this.globalAlpha==0)};m.prototype.fillText=function(M,R,q,W){if(isNaN(R)||isNaN(q)||typeof M!="string")throw Rn.error("jsPDF.context2d.fillText: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.fillText");if(W=isNaN(W)?void 0:W,!x.call(this)){var J=ye(this.ctx.transform.rotation),le=this.ctx.transform.scaleX;U.call(this,{text:M,x:R,y:q,scale:le,angle:J,align:this.textAlign,maxWidth:W})}},m.prototype.strokeText=function(M,R,q,W){if(isNaN(R)||isNaN(q)||typeof M!="string")throw Rn.error("jsPDF.context2d.strokeText: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.strokeText");if(!b.call(this)){W=isNaN(W)?void 0:W;var J=ye(this.ctx.transform.rotation),le=this.ctx.transform.scaleX;U.call(this,{text:M,x:R,y:q,scale:le,renderingMode:"stroke",angle:J,align:this.textAlign,maxWidth:W})}},m.prototype.measureText=function(M){if(typeof M!="string")throw Rn.error("jsPDF.context2d.measureText: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.measureText");var R=this.pdf,q=this.pdf.internal.scaleFactor,W=R.internal.getFontSize(),J=R.getStringUnitWidth(M)*W/R.internal.scaleFactor;return new function(le){var ue=(le=le||{}).width||0;return Object.defineProperty(this,"width",{get:function(){return ue}}),this}({width:J*=Math.round(96*q/72*1e4)/1e4})},m.prototype.scale=function(M,R){if(isNaN(M)||isNaN(R))throw Rn.error("jsPDF.context2d.scale: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.scale");var q=new u(M,0,0,R,0,0);this.ctx.transform=this.ctx.transform.multiply(q)},m.prototype.rotate=function(M){if(isNaN(M))throw Rn.error("jsPDF.context2d.rotate: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.rotate");var R=new u(Math.cos(M),Math.sin(M),-Math.sin(M),Math.cos(M),0,0);this.ctx.transform=this.ctx.transform.multiply(R)},m.prototype.translate=function(M,R){if(isNaN(M)||isNaN(R))throw Rn.error("jsPDF.context2d.translate: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.translate");var q=new u(1,0,0,1,M,R);this.ctx.transform=this.ctx.transform.multiply(q)},m.prototype.transform=function(M,R,q,W,J,le){if(isNaN(M)||isNaN(R)||isNaN(q)||isNaN(W)||isNaN(J)||isNaN(le))throw Rn.error("jsPDF.context2d.transform: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.transform");var ue=new u(M,R,q,W,J,le);this.ctx.transform=this.ctx.transform.multiply(ue)},m.prototype.setTransform=function(M,R,q,W,J,le){M=isNaN(M)?1:M,R=isNaN(R)?0:R,q=isNaN(q)?0:q,W=isNaN(W)?1:W,J=isNaN(J)?0:J,le=isNaN(le)?0:le,this.ctx.transform=new u(M,R,q,W,J,le)};var v=function(){return this.margin[0]>0||this.margin[1]>0||this.margin[2]>0||this.margin[3]>0};m.prototype.drawImage=function(M,R,q,W,J,le,ue,X,ge){var Te=this.pdf.getImageProperties(M),Y=1,We=1,Ee=1,xe=1;W!==void 0&&X!==void 0&&(Ee=X/W,xe=ge/J,Y=Te.width/W*X/W,We=Te.height/J*ge/J),le===void 0&&(le=R,ue=q,R=0,q=0),W!==void 0&&X===void 0&&(X=W,ge=J),W===void 0&&X===void 0&&(X=Te.width,ge=Te.height);for(var dt,Xe=this.ctx.transform.decompose(),bt=ye(Xe.rotate.shx),lt=new u,Ct=(lt=(lt=(lt=lt.multiply(Xe.translate)).multiply(Xe.skew)).multiply(Xe.scale)).applyToRectangle(new o(le-R*Ee,ue-q*xe,W*Y,J*We)),xt=w.call(this,Ct),Ke=[],pt=0;pt<xt.length;pt+=1)Ke.indexOf(xt[pt])===-1&&Ke.push(xt[pt]);if(j(Ke),this.autoPaging)for(var Et=Ke[0],zt=Ke[Ke.length-1],Gt=Et;Gt<zt+1;Gt++){this.pdf.setPage(Gt);var Ar=this.pdf.internal.pageSize.width-this.margin[3]-this.margin[1],Lt=Gt===1?this.posY+this.margin[0]:this.margin[0],Dt=this.pdf.internal.pageSize.height-this.posY-this.margin[0]-this.margin[2],yt=this.pdf.internal.pageSize.height-this.margin[0]-this.margin[2],kt=Gt===1?0:Dt+(Gt-2)*yt;if(this.ctx.clip_path.length!==0){var _r=this.path;dt=JSON.parse(JSON.stringify(this.ctx.clip_path)),this.path=E(dt,this.posX+this.margin[3],-kt+Lt+this.ctx.prevPageLastElemOffset),O.call(this,"fill",!0),this.path=_r}var Zt=JSON.parse(JSON.stringify(Ct));Zt=E([Zt],this.posX+this.margin[3],-kt+Lt+this.ctx.prevPageLastElemOffset)[0];var At=(Gt>Et||Gt<zt)&&v.call(this);At&&(this.pdf.saveGraphicsState(),this.pdf.rect(this.margin[3],this.margin[0],Ar,yt,null).clip().discardPath()),this.pdf.addImage(M,"JPEG",Zt.x,Zt.y,Zt.w,Zt.h,null,null,bt),At&&this.pdf.restoreGraphicsState()}else this.pdf.addImage(M,"JPEG",Ct.x,Ct.y,Ct.w,Ct.h,null,null,bt)};var w=function(M,R,q){var W=[];R=R||this.pdf.internal.pageSize.width,q=q||this.pdf.internal.pageSize.height-this.margin[0]-this.margin[2];var J=this.posY+this.ctx.prevPageLastElemOffset;switch(M.type){default:case"mt":case"lt":W.push(Math.floor((M.y+J)/q)+1);break;case"arc":W.push(Math.floor((M.y+J-M.radius)/q)+1),W.push(Math.floor((M.y+J+M.radius)/q)+1);break;case"qct":var le=ce(this.ctx.lastPoint.x,this.ctx.lastPoint.y,M.x1,M.y1,M.x,M.y);W.push(Math.floor((le.y+J)/q)+1),W.push(Math.floor((le.y+le.h+J)/q)+1);break;case"bct":var ue=Se(this.ctx.lastPoint.x,this.ctx.lastPoint.y,M.x1,M.y1,M.x2,M.y2,M.x,M.y);W.push(Math.floor((ue.y+J)/q)+1),W.push(Math.floor((ue.y+ue.h+J)/q)+1);break;case"rect":W.push(Math.floor((M.y+J)/q)+1),W.push(Math.floor((M.y+M.h+J)/q)+1)}for(var X=0;X<W.length;X+=1)for(;this.pdf.internal.getNumberOfPages()<W[X];)N.call(this);return W},N=function(){var M=this.fillStyle,R=this.strokeStyle,q=this.font,W=this.lineCap,J=this.lineWidth,le=this.lineJoin;this.pdf.addPage(),this.fillStyle=M,this.strokeStyle=R,this.font=q,this.lineCap=W,this.lineWidth=J,this.lineJoin=le},E=function(M,R,q){for(var W=0;W<M.length;W++)switch(M[W].type){case"bct":M[W].x2+=R,M[W].y2+=q;case"qct":M[W].x1+=R,M[W].y1+=q;default:M[W].x+=R,M[W].y+=q}return M},j=function(M){return M.sort(function(R,q){return R-q})},T=function(M,R){for(var q,W,J=this.fillStyle,le=this.strokeStyle,ue=this.lineCap,X=this.lineWidth,ge=Math.abs(X*this.ctx.transform.scaleX),Te=this.lineJoin,Y=JSON.parse(JSON.stringify(this.path)),We=JSON.parse(JSON.stringify(this.path)),Ee=[],xe=0;xe<We.length;xe++)if(We[xe].x!==void 0)for(var dt=w.call(this,We[xe]),Xe=0;Xe<dt.length;Xe+=1)Ee.indexOf(dt[Xe])===-1&&Ee.push(dt[Xe]);for(var bt=0;bt<Ee.length;bt++)for(;this.pdf.internal.getNumberOfPages()<Ee[bt];)N.call(this);if(j(Ee),this.autoPaging)for(var lt=Ee[0],Ct=Ee[Ee.length-1],xt=lt;xt<Ct+1;xt++){this.pdf.setPage(xt),this.fillStyle=J,this.strokeStyle=le,this.lineCap=ue,this.lineWidth=ge,this.lineJoin=Te;var Ke=this.pdf.internal.pageSize.width-this.margin[3]-this.margin[1],pt=xt===1?this.posY+this.margin[0]:this.margin[0],Et=this.pdf.internal.pageSize.height-this.posY-this.margin[0]-this.margin[2],zt=this.pdf.internal.pageSize.height-this.margin[0]-this.margin[2],Gt=xt===1?0:Et+(xt-2)*zt;if(this.ctx.clip_path.length!==0){var Ar=this.path;q=JSON.parse(JSON.stringify(this.ctx.clip_path)),this.path=E(q,this.posX+this.margin[3],-Gt+pt+this.ctx.prevPageLastElemOffset),O.call(this,M,!0),this.path=Ar}if(W=JSON.parse(JSON.stringify(Y)),this.path=E(W,this.posX+this.margin[3],-Gt+pt+this.ctx.prevPageLastElemOffset),R===!1||xt===0){var Lt=(xt>lt||xt<Ct)&&v.call(this);Lt&&(this.pdf.saveGraphicsState(),this.pdf.rect(this.margin[3],this.margin[0],Ke,zt,null).clip().discardPath()),O.call(this,M,R),Lt&&this.pdf.restoreGraphicsState()}this.lineWidth=X}else this.lineWidth=ge,O.call(this,M,R),this.lineWidth=X;this.path=Y},O=function(M,R){if((M!=="stroke"||R||!b.call(this))&&(M==="stroke"||R||!x.call(this))){for(var q,W,J=[],le=this.path,ue=0;ue<le.length;ue++){var X=le[ue];switch(X.type){case"begin":J.push({begin:!0});break;case"close":J.push({close:!0});break;case"mt":J.push({start:X,deltas:[],abs:[]});break;case"lt":var ge=J.length;if(le[ue-1]&&!isNaN(le[ue-1].x)&&(q=[X.x-le[ue-1].x,X.y-le[ue-1].y],ge>0)){for(;ge>=0;ge--)if(J[ge-1].close!==!0&&J[ge-1].begin!==!0){J[ge-1].deltas.push(q),J[ge-1].abs.push(X);break}}break;case"bct":q=[X.x1-le[ue-1].x,X.y1-le[ue-1].y,X.x2-le[ue-1].x,X.y2-le[ue-1].y,X.x-le[ue-1].x,X.y-le[ue-1].y],J[J.length-1].deltas.push(q);break;case"qct":var Te=le[ue-1].x+2/3*(X.x1-le[ue-1].x),Y=le[ue-1].y+2/3*(X.y1-le[ue-1].y),We=X.x+2/3*(X.x1-X.x),Ee=X.y+2/3*(X.y1-X.y),xe=X.x,dt=X.y;q=[Te-le[ue-1].x,Y-le[ue-1].y,We-le[ue-1].x,Ee-le[ue-1].y,xe-le[ue-1].x,dt-le[ue-1].y],J[J.length-1].deltas.push(q);break;case"arc":J.push({deltas:[],abs:[],arc:!0}),Array.isArray(J[J.length-1].abs)&&J[J.length-1].abs.push(X)}}W=R?null:M==="stroke"?"stroke":"fill";for(var Xe=!1,bt=0;bt<J.length;bt++)if(J[bt].arc)for(var lt=J[bt].abs,Ct=0;Ct<lt.length;Ct++){var xt=lt[Ct];xt.type==="arc"?L.call(this,xt.x,xt.y,xt.radius,xt.startAngle,xt.endAngle,xt.counterclockwise,void 0,R,!Xe):K.call(this,xt.x,xt.y),Xe=!0}else if(J[bt].close===!0)this.pdf.internal.out("h"),Xe=!1;else if(J[bt].begin!==!0){var Ke=J[bt].start.x,pt=J[bt].start.y;ee.call(this,J[bt].deltas,Ke,pt),Xe=!0}W&&B.call(this,W),R&&H.call(this)}},F=function(M){var R=this.pdf.internal.getFontSize()/this.pdf.internal.scaleFactor,q=R*(this.pdf.internal.getLineHeightFactor()-1);switch(this.ctx.textBaseline){case"bottom":return M-q;case"top":return M+R-q;case"hanging":return M+R-2*q;case"middle":return M+R/2-q;default:return M}},D=function(M){return M+this.pdf.internal.getFontSize()/this.pdf.internal.scaleFactor*(this.pdf.internal.getLineHeightFactor()-1)};m.prototype.createLinearGradient=function(){var M=function(){};return M.colorStops=[],M.addColorStop=function(R,q){this.colorStops.push([R,q])},M.getColor=function(){return this.colorStops.length===0?"#000000":this.colorStops[0][1]},M.isCanvasGradient=!0,M},m.prototype.createPattern=function(){return this.createLinearGradient()},m.prototype.createRadialGradient=function(){return this.createLinearGradient()};var L=function(M,R,q,W,J,le,ue,X,ge){for(var Te=ne.call(this,q,W,J,le),Y=0;Y<Te.length;Y++){var We=Te[Y];Y===0&&(ge?P.call(this,We.x1+M,We.y1+R):K.call(this,We.x1+M,We.y1+R)),me.call(this,M,R,We.x2,We.y2,We.x3,We.y3,We.x4,We.y4)}X?H.call(this):B.call(this,ue)},B=function(M){switch(M){case"stroke":this.pdf.internal.out("S");break;case"fill":this.pdf.internal.out("f")}},H=function(){this.pdf.clip(),this.pdf.discardPath()},P=function(M,R){this.pdf.internal.out(r(M)+" "+n(R)+" m")},U=function(M){var R;switch(M.align){case"right":case"end":R="right";break;case"center":R="center";break;default:R="left"}var q=this.pdf.getTextDimensions(M.text),W=F.call(this,M.y),J=D.call(this,W)-q.h,le=this.ctx.transform.applyToPoint(new l(M.x,W)),ue=this.ctx.transform.decompose(),X=new u;X=(X=(X=X.multiply(ue.translate)).multiply(ue.skew)).multiply(ue.scale);for(var ge,Te,Y,We=this.ctx.transform.applyToRectangle(new o(M.x,W,q.w,q.h)),Ee=X.applyToRectangle(new o(M.x,J,q.w,q.h)),xe=w.call(this,Ee),dt=[],Xe=0;Xe<xe.length;Xe+=1)dt.indexOf(xe[Xe])===-1&&dt.push(xe[Xe]);if(j(dt),this.autoPaging)for(var bt=dt[0],lt=dt[dt.length-1],Ct=bt;Ct<lt+1;Ct++){this.pdf.setPage(Ct);var xt=Ct===1?this.posY+this.margin[0]:this.margin[0],Ke=this.pdf.internal.pageSize.height-this.posY-this.margin[0]-this.margin[2],pt=this.pdf.internal.pageSize.height-this.margin[2],Et=pt-this.margin[0],zt=this.pdf.internal.pageSize.width-this.margin[1],Gt=zt-this.margin[3],Ar=Ct===1?0:Ke+(Ct-2)*Et;if(this.ctx.clip_path.length!==0){var Lt=this.path;ge=JSON.parse(JSON.stringify(this.ctx.clip_path)),this.path=E(ge,this.posX+this.margin[3],-1*Ar+xt),O.call(this,"fill",!0),this.path=Lt}var Dt=E([JSON.parse(JSON.stringify(Ee))],this.posX+this.margin[3],-Ar+xt+this.ctx.prevPageLastElemOffset)[0];M.scale>=.01&&(Te=this.pdf.internal.getFontSize(),this.pdf.setFontSize(Te*M.scale),Y=this.lineWidth,this.lineWidth=Y*M.scale);var yt=this.autoPaging!=="text";if(yt||Dt.y+Dt.h<=pt){if(yt||Dt.y>=xt&&Dt.x<=zt){var kt=yt?M.text:this.pdf.splitTextToSize(M.text,M.maxWidth||zt-Dt.x)[0],_r=E([JSON.parse(JSON.stringify(We))],this.posX+this.margin[3],-Ar+xt+this.ctx.prevPageLastElemOffset)[0],Zt=yt&&(Ct>bt||Ct<lt)&&v.call(this);Zt&&(this.pdf.saveGraphicsState(),this.pdf.rect(this.margin[3],this.margin[0],Gt,Et,null).clip().discardPath()),this.pdf.text(kt,_r.x,_r.y,{angle:M.angle,align:R,renderingMode:M.renderingMode}),Zt&&this.pdf.restoreGraphicsState()}}else Dt.y<pt&&(this.ctx.prevPageLastElemOffset+=pt-Dt.y);M.scale>=.01&&(this.pdf.setFontSize(Te),this.lineWidth=Y)}else M.scale>=.01&&(Te=this.pdf.internal.getFontSize(),this.pdf.setFontSize(Te*M.scale),Y=this.lineWidth,this.lineWidth=Y*M.scale),this.pdf.text(M.text,le.x+this.posX,le.y+this.posY,{angle:M.angle,align:R,renderingMode:M.renderingMode,maxWidth:M.maxWidth}),M.scale>=.01&&(this.pdf.setFontSize(Te),this.lineWidth=Y)},K=function(M,R,q,W){q=q||0,W=W||0,this.pdf.internal.out(r(M+q)+" "+n(R+W)+" l")},ee=function(M,R,q){return this.pdf.lines(M,R,q,null,null)},me=function(M,R,q,W,J,le,ue,X){this.pdf.internal.out([t(a(q+M)),t(i(W+R)),t(a(J+M)),t(i(le+R)),t(a(ue+M)),t(i(X+R)),"c"].join(" "))},ne=function(M,R,q,W){for(var J=2*Math.PI,le=Math.PI/2;R>q;)R-=J;var ue=Math.abs(q-R);ue<J&&W&&(ue=J-ue);for(var X=[],ge=W?-1:1,Te=R;ue>1e-5;){var Y=Te+ge*Math.min(ue,le);X.push(se.call(this,M,Te,Y)),ue-=Math.abs(Y-Te),Te=Y}return X},se=function(M,R,q){var W=(q-R)/2,J=M*Math.cos(W),le=M*Math.sin(W),ue=J,X=-le,ge=ue*ue+X*X,Te=ge+ue*J+X*le,Y=4/3*(Math.sqrt(2*ge*Te)-Te)/(ue*le-X*J),We=ue-Y*X,Ee=X+Y*ue,xe=We,dt=-Ee,Xe=W+R,bt=Math.cos(Xe),lt=Math.sin(Xe);return{x1:M*Math.cos(R),y1:M*Math.sin(R),x2:We*bt-Ee*lt,y2:We*lt+Ee*bt,x3:xe*bt-dt*lt,y3:xe*lt+dt*bt,x4:M*Math.cos(q),y4:M*Math.sin(q)}},ye=function(M){return 180*M/Math.PI},ce=function(M,R,q,W,J,le){var ue=M+.5*(q-M),X=R+.5*(W-R),ge=J+.5*(q-J),Te=le+.5*(W-le),Y=Math.min(M,J,ue,ge),We=Math.max(M,J,ue,ge),Ee=Math.min(R,le,X,Te),xe=Math.max(R,le,X,Te);return new o(Y,Ee,We-Y,xe-Ee)},Se=function(M,R,q,W,J,le,ue,X){var ge,Te,Y,We,Ee,xe,dt,Xe,bt,lt,Ct,xt,Ke,pt,Et=q-M,zt=W-R,Gt=J-q,Ar=le-W,Lt=ue-J,Dt=X-le;for(Te=0;Te<41;Te++)bt=(dt=(Y=M+(ge=Te/40)*Et)+ge*((Ee=q+ge*Gt)-Y))+ge*(Ee+ge*(J+ge*Lt-Ee)-dt),lt=(Xe=(We=R+ge*zt)+ge*((xe=W+ge*Ar)-We))+ge*(xe+ge*(le+ge*Dt-xe)-Xe),Te==0?(Ct=bt,xt=lt,Ke=bt,pt=lt):(Ct=Math.min(Ct,bt),xt=Math.min(xt,lt),Ke=Math.max(Ke,bt),pt=Math.max(pt,lt));return new o(Math.round(Ct),Math.round(xt),Math.round(Ke-Ct),Math.round(pt-xt))},te=function(){if(this.prevLineDash||this.ctx.lineDash.length||this.ctx.lineDashOffset){var M,R,q=(M=this.ctx.lineDash,R=this.ctx.lineDashOffset,JSON.stringify({lineDash:M,lineDashOffset:R}));this.prevLineDash!==q&&(this.pdf.setLineDash(this.ctx.lineDash,this.ctx.lineDashOffset),this.prevLineDash=q)}}})(Kt.API),(function(e){var t=function(l){var o,u,f,h,m,g,x,b,v,w;for(u=[],f=0,h=(l+=o="\0\0\0\0".slice(l.length%4||4)).length;h>f;f+=4)(m=(l.charCodeAt(f)<<24)+(l.charCodeAt(f+1)<<16)+(l.charCodeAt(f+2)<<8)+l.charCodeAt(f+3))!==0?(g=(m=((m=((m=((m=(m-(w=m%85))/85)-(v=m%85))/85)-(b=m%85))/85)-(x=m%85))/85)%85,u.push(g+33,x+33,b+33,v+33,w+33)):u.push(122);return(function(N,E){for(var j=E;j>0;j--)N.pop()})(u,o.length),String.fromCharCode.apply(String,u)+"~>"},r=function(l){var o,u,f,h,m,g=String,x="length",b=255,v="charCodeAt",w="slice",N="replace";for(l[w](-2),l=l[w](0,-2)[N](/\s/g,"")[N]("z","!!!!!"),f=[],h=0,m=(l+=o="uuuuu"[w](l[x]%5||5))[x];m>h;h+=5)u=52200625*(l[v](h)-33)+614125*(l[v](h+1)-33)+7225*(l[v](h+2)-33)+85*(l[v](h+3)-33)+(l[v](h+4)-33),f.push(b&u>>24,b&u>>16,b&u>>8,b&u);return(function(E,j){for(var T=j;T>0;T--)E.pop()})(f,o[x]),g.fromCharCode.apply(g,f)},n=function(l){return l.split("").map(function(o){return("0"+o.charCodeAt().toString(16)).slice(-2)}).join("")+">"},a=function(l){var o=new RegExp(/^([0-9A-Fa-f]{2})+$/);if((l=l.replace(/\s/g,"")).indexOf(">")!==-1&&(l=l.substr(0,l.indexOf(">"))),l.length%2&&(l+="0"),o.test(l)===!1)return"";for(var u="",f=0;f<l.length;f+=2)u+=String.fromCharCode("0x"+(l[f]+l[f+1]));return u},i=function(l){for(var o=new Uint8Array(l.length),u=l.length;u--;)o[u]=l.charCodeAt(u);return(o=d_(o)).reduce(function(f,h){return f+String.fromCharCode(h)},"")};e.processDataByFilters=function(l,o){var u=0,f=l||"",h=[];for(typeof(o=o||[])=="string"&&(o=[o]),u=0;u<o.length;u+=1)switch(o[u]){case"ASCII85Decode":case"/ASCII85Decode":f=r(f),h.push("/ASCII85Encode");break;case"ASCII85Encode":case"/ASCII85Encode":f=t(f),h.push("/ASCII85Decode");break;case"ASCIIHexDecode":case"/ASCIIHexDecode":f=a(f),h.push("/ASCIIHexEncode");break;case"ASCIIHexEncode":case"/ASCIIHexEncode":f=n(f),h.push("/ASCIIHexDecode");break;case"FlateEncode":case"/FlateEncode":f=i(f),h.push("/FlateDecode");break;default:throw new Error('The filter: "'+o[u]+'" is not implemented')}return{data:f,reverseChain:h.reverse().join(" ")}}})(Kt.API),(function(e){e.loadFile=function(t,r,n){return(function(a,i,l){i=i!==!1,l=typeof l=="function"?l:function(){};var o=void 0;try{o=(function(u,f,h){var m=new XMLHttpRequest,g=0,x=function(b){var v=b.length,w=[],N=String.fromCharCode;for(g=0;g<v;g+=1)w.push(N(255&b.charCodeAt(g)));return w.join("")};if(m.open("GET",u,!f),m.overrideMimeType("text/plain; charset=x-user-defined"),f===!1&&(m.onload=function(){m.status===200?h(x(this.responseText)):h(void 0)}),m.send(null),f&&m.status===200)return x(m.responseText)})(a,i,l)}catch{}return o})(t,r,n)},e.loadImageFile=e.loadFile})(Kt.API),(function(e){function t(){return(pr.html2canvas?Promise.resolve(pr.html2canvas):bw(()=>import("./html2canvas.esm-B0tyYwQk.js"),[])).catch(function(o){return Promise.reject(new Error("Could not load html2canvas: "+o))}).then(function(o){return o.default?o.default:o})}function r(){return(pr.DOMPurify?Promise.resolve(pr.DOMPurify):bw(()=>import("./purify.es-B6FQ9oRL.js"),[])).catch(function(o){return Promise.reject(new Error("Could not load dompurify: "+o))}).then(function(o){return o.default?o.default:o})}var n=function(o){var u=Nn(o);return u==="undefined"?"undefined":u==="string"||o instanceof String?"string":u==="number"||o instanceof Number?"number":u==="function"||o instanceof Function?"function":o&&o.constructor===Array?"array":o&&o.nodeType===1?"element":u==="object"?"object":"unknown"},a=function(o,u){var f=document.createElement(o);for(var h in u.className&&(f.className=u.className),u.innerHTML&&u.dompurify&&(f.innerHTML=u.dompurify.sanitize(u.innerHTML)),u.style)f.style[h]=u.style[h];return f},i=function o(u,f){for(var h=u.nodeType===3?document.createTextNode(u.nodeValue):u.cloneNode(!1),m=u.firstChild;m;m=m.nextSibling)f!==!0&&m.nodeType===1&&m.nodeName==="SCRIPT"||h.appendChild(o(m,f));return u.nodeType===1&&(u.nodeName==="CANVAS"?(h.width=u.width,h.height=u.height,h.getContext("2d").drawImage(u,0,0)):u.nodeName!=="TEXTAREA"&&u.nodeName!=="SELECT"||(h.value=u.value),h.addEventListener("load",function(){h.scrollTop=u.scrollTop,h.scrollLeft=u.scrollLeft},!0)),h},l=function o(u){var f=Object.assign(o.convert(Promise.resolve()),JSON.parse(JSON.stringify(o.template))),h=o.convert(Promise.resolve(),f);return(h=h.setProgress(1,o,1,[o])).set(u)};(l.prototype=Object.create(Promise.prototype)).constructor=l,l.convert=function(o,u){return o.__proto__=u||l.prototype,o},l.template={prop:{src:null,container:null,overlay:null,canvas:null,img:null,pdf:null,pageSize:null,callback:function(){}},progress:{val:0,state:null,n:0,stack:[]},opt:{filename:"file.pdf",margin:[0,0,0,0],enableLinks:!0,x:0,y:0,html2canvas:{},jsPDF:{},backgroundColor:"transparent"}},l.prototype.from=function(o,u){return this.then(function(){switch(u=u||(function(f){switch(n(f)){case"string":return"string";case"element":return f.nodeName.toLowerCase()==="canvas"?"canvas":"element";default:return"unknown"}})(o),u){case"string":return this.then(r).then(function(f){return this.set({src:a("div",{innerHTML:o,dompurify:f})})});case"element":return this.set({src:o});case"canvas":return this.set({canvas:o});case"img":return this.set({img:o});default:return this.error("Unknown source type.")}})},l.prototype.to=function(o){switch(o){case"container":return this.toContainer();case"canvas":return this.toCanvas();case"img":return this.toImg();case"pdf":return this.toPdf();default:return this.error("Invalid target.")}},l.prototype.toContainer=function(){return this.thenList([function(){return this.prop.src||this.error("Cannot duplicate - no source HTML.")},function(){return this.prop.pageSize||this.setPageSize()}]).then(function(){var o={position:"relative",display:"inline-block",width:(typeof this.opt.width!="number"||isNaN(this.opt.width)||typeof this.opt.windowWidth!="number"||isNaN(this.opt.windowWidth)?Math.max(this.prop.src.clientWidth,this.prop.src.scrollWidth,this.prop.src.offsetWidth):this.opt.windowWidth)+"px",left:0,right:0,top:0,margin:"auto",backgroundColor:this.opt.backgroundColor},u=i(this.prop.src,this.opt.html2canvas.javascriptEnabled);u.tagName==="BODY"&&(o.height=Math.max(document.body.scrollHeight,document.body.offsetHeight,document.documentElement.clientHeight,document.documentElement.scrollHeight,document.documentElement.offsetHeight)+"px"),this.prop.overlay=a("div",{className:"html2pdf__overlay",style:{position:"fixed",overflow:"hidden",zIndex:1e3,left:"-100000px",right:0,bottom:0,top:0}}),this.prop.container=a("div",{className:"html2pdf__container",style:o}),this.prop.container.appendChild(u),this.prop.container.firstChild.appendChild(a("div",{style:{clear:"both",border:"0 none transparent",margin:0,padding:0,height:0}})),this.prop.container.style.float="none",this.prop.overlay.appendChild(this.prop.container),document.body.appendChild(this.prop.overlay),this.prop.container.firstChild.style.position="relative",this.prop.container.height=Math.max(this.prop.container.firstChild.clientHeight,this.prop.container.firstChild.scrollHeight,this.prop.container.firstChild.offsetHeight)+"px"})},l.prototype.toCanvas=function(){var o=[function(){return document.body.contains(this.prop.container)||this.toContainer()}];return this.thenList(o).then(t).then(function(u){var f=Object.assign({},this.opt.html2canvas);return delete f.onrendered,u(this.prop.container,f)}).then(function(u){(this.opt.html2canvas.onrendered||function(){})(u),this.prop.canvas=u,document.body.removeChild(this.prop.overlay)})},l.prototype.toContext2d=function(){var o=[function(){return document.body.contains(this.prop.container)||this.toContainer()}];return this.thenList(o).then(t).then(function(u){var f=this.opt.jsPDF,h=this.opt.fontFaces,m=typeof this.opt.width!="number"||isNaN(this.opt.width)||typeof this.opt.windowWidth!="number"||isNaN(this.opt.windowWidth)?1:this.opt.width/this.opt.windowWidth,g=Object.assign({async:!0,allowTaint:!0,scale:m,scrollX:this.opt.scrollX||0,scrollY:this.opt.scrollY||0,backgroundColor:"#ffffff",imageTimeout:15e3,logging:!0,proxy:null,removeContainer:!0,foreignObjectRendering:!1,useCORS:!1},this.opt.html2canvas);if(delete g.onrendered,f.context2d.autoPaging=this.opt.autoPaging===void 0||this.opt.autoPaging,f.context2d.posX=this.opt.x,f.context2d.posY=this.opt.y,f.context2d.margin=this.opt.margin,f.context2d.fontFaces=h,h)for(var x=0;x<h.length;++x){var b=h[x],v=b.src.find(function(w){return w.format==="truetype"});v&&f.addFont(v.url,b.ref.name,b.ref.style)}return g.windowHeight=g.windowHeight||0,g.windowHeight=g.windowHeight==0?Math.max(this.prop.container.clientHeight,this.prop.container.scrollHeight,this.prop.container.offsetHeight):g.windowHeight,f.context2d.save(!0),u(this.prop.container,g)}).then(function(u){this.opt.jsPDF.context2d.restore(!0),(this.opt.html2canvas.onrendered||function(){})(u),this.prop.canvas=u,document.body.removeChild(this.prop.overlay)})},l.prototype.toImg=function(){return this.thenList([function(){return this.prop.canvas||this.toCanvas()}]).then(function(){var o=this.prop.canvas.toDataURL("image/"+this.opt.image.type,this.opt.image.quality);this.prop.img=document.createElement("img"),this.prop.img.src=o})},l.prototype.toPdf=function(){return this.thenList([function(){return this.toContext2d()}]).then(function(){this.prop.pdf=this.prop.pdf||this.opt.jsPDF})},l.prototype.output=function(o,u,f){return(f=f||"pdf").toLowerCase()==="img"||f.toLowerCase()==="image"?this.outputImg(o,u):this.outputPdf(o,u)},l.prototype.outputPdf=function(o,u){return this.thenList([function(){return this.prop.pdf||this.toPdf()}]).then(function(){return this.prop.pdf.output(o,u)})},l.prototype.outputImg=function(o){return this.thenList([function(){return this.prop.img||this.toImg()}]).then(function(){switch(o){case void 0:case"img":return this.prop.img;case"datauristring":case"dataurlstring":return this.prop.img.src;case"datauri":case"dataurl":return document.location.href=this.prop.img.src;default:throw'Image output type "'+o+'" is not supported.'}})},l.prototype.save=function(o){return this.thenList([function(){return this.prop.pdf||this.toPdf()}]).set(o?{filename:o}:null).then(function(){this.prop.pdf.save(this.opt.filename)})},l.prototype.doCallback=function(){return this.thenList([function(){return this.prop.pdf||this.toPdf()}]).then(function(){this.prop.callback(this.prop.pdf)})},l.prototype.set=function(o){if(n(o)!=="object")return this;var u=Object.keys(o||{}).map(function(f){if(f in l.template.prop)return function(){this.prop[f]=o[f]};switch(f){case"margin":return this.setMargin.bind(this,o.margin);case"jsPDF":return function(){return this.opt.jsPDF=o.jsPDF,this.setPageSize()};case"pageSize":return this.setPageSize.bind(this,o.pageSize);default:return function(){this.opt[f]=o[f]}}},this);return this.then(function(){return this.thenList(u)})},l.prototype.get=function(o,u){return this.then(function(){var f=o in l.template.prop?this.prop[o]:this.opt[o];return u?u(f):f})},l.prototype.setMargin=function(o){return this.then(function(){switch(n(o)){case"number":o=[o,o,o,o];case"array":if(o.length===2&&(o=[o[0],o[1],o[0],o[1]]),o.length===4)break;default:return this.error("Invalid margin array.")}this.opt.margin=o}).then(this.setPageSize)},l.prototype.setPageSize=function(o){function u(f,h){return Math.floor(f*h/72*96)}return this.then(function(){(o=o||Kt.getPageSize(this.opt.jsPDF)).hasOwnProperty("inner")||(o.inner={width:o.width-this.opt.margin[1]-this.opt.margin[3],height:o.height-this.opt.margin[0]-this.opt.margin[2]},o.inner.px={width:u(o.inner.width,o.k),height:u(o.inner.height,o.k)},o.inner.ratio=o.inner.height/o.inner.width),this.prop.pageSize=o})},l.prototype.setProgress=function(o,u,f,h){return o!=null&&(this.progress.val=o),u!=null&&(this.progress.state=u),f!=null&&(this.progress.n=f),h!=null&&(this.progress.stack=h),this.progress.ratio=this.progress.val/this.progress.state,this},l.prototype.updateProgress=function(o,u,f,h){return this.setProgress(o?this.progress.val+o:null,u||null,f?this.progress.n+f:null,h?this.progress.stack.concat(h):null)},l.prototype.then=function(o,u){var f=this;return this.thenCore(o,u,function(h,m){return f.updateProgress(null,null,1,[h]),Promise.prototype.then.call(this,function(g){return f.updateProgress(null,h),g}).then(h,m).then(function(g){return f.updateProgress(1),g})})},l.prototype.thenCore=function(o,u,f){f=f||Promise.prototype.then;var h=this;o&&(o=o.bind(h)),u&&(u=u.bind(h));var m=Promise.toString().indexOf("[native code]")!==-1&&Promise.name==="Promise"?h:l.convert(Object.assign({},h),Promise.prototype),g=f.call(m,o,u);return l.convert(g,h.__proto__)},l.prototype.thenExternal=function(o,u){return Promise.prototype.then.call(this,o,u)},l.prototype.thenList=function(o){var u=this;return o.forEach(function(f){u=u.thenCore(f)}),u},l.prototype.catch=function(o){o&&(o=o.bind(this));var u=Promise.prototype.catch.call(this,o);return l.convert(u,this)},l.prototype.catchExternal=function(o){return Promise.prototype.catch.call(this,o)},l.prototype.error=function(o){return this.then(function(){throw new Error(o)})},l.prototype.using=l.prototype.set,l.prototype.saveAs=l.prototype.save,l.prototype.export=l.prototype.output,l.prototype.run=l.prototype.then,Kt.getPageSize=function(o,u,f){if(Nn(o)==="object"){var h=o;o=h.orientation,u=h.unit||u,f=h.format||f}u=u||"mm",f=f||"a4",o=(""+(o||"P")).toLowerCase();var m,g=(""+f).toLowerCase(),x={a0:[2383.94,3370.39],a1:[1683.78,2383.94],a2:[1190.55,1683.78],a3:[841.89,1190.55],a4:[595.28,841.89],a5:[419.53,595.28],a6:[297.64,419.53],a7:[209.76,297.64],a8:[147.4,209.76],a9:[104.88,147.4],a10:[73.7,104.88],b0:[2834.65,4008.19],b1:[2004.09,2834.65],b2:[1417.32,2004.09],b3:[1000.63,1417.32],b4:[708.66,1000.63],b5:[498.9,708.66],b6:[354.33,498.9],b7:[249.45,354.33],b8:[175.75,249.45],b9:[124.72,175.75],b10:[87.87,124.72],c0:[2599.37,3676.54],c1:[1836.85,2599.37],c2:[1298.27,1836.85],c3:[918.43,1298.27],c4:[649.13,918.43],c5:[459.21,649.13],c6:[323.15,459.21],c7:[229.61,323.15],c8:[161.57,229.61],c9:[113.39,161.57],c10:[79.37,113.39],dl:[311.81,623.62],letter:[612,792],"government-letter":[576,756],legal:[612,1008],"junior-legal":[576,360],ledger:[1224,792],tabloid:[792,1224],"credit-card":[153,243]};switch(u){case"pt":m=1;break;case"mm":m=72/25.4;break;case"cm":m=72/2.54;break;case"in":m=72;break;case"px":m=.75;break;case"pc":case"em":m=12;break;case"ex":m=6;break;default:throw"Invalid unit: "+u}var b,v=0,w=0;if(x.hasOwnProperty(g))v=x[g][1]/m,w=x[g][0]/m;else try{v=f[1],w=f[0]}catch{throw new Error("Invalid format: "+f)}if(o==="p"||o==="portrait")o="p",w>v&&(b=w,w=v,v=b);else{if(o!=="l"&&o!=="landscape")throw"Invalid orientation: "+o;o="l",v>w&&(b=w,w=v,v=b)}return{width:w,height:v,unit:u,k:m,orientation:o}},e.html=function(o,u){(u=u||{}).callback=u.callback||function(){},u.html2canvas=u.html2canvas||{},u.html2canvas.canvas=u.html2canvas.canvas||this.canvas,u.jsPDF=u.jsPDF||this,u.fontFaces=u.fontFaces?u.fontFaces.map(D4):null;var f=new l(u);return u.worker?f:f.from(o).doCallback()}})(Kt.API),Kt.API.addJS=function(e){return W7=e,this.internal.events.subscribe("postPutResources",function(){Cv=this.internal.newObject(),this.internal.out("<<"),this.internal.out("/Names [(EmbeddedJS) "+(Cv+1)+" 0 R]"),this.internal.out(">>"),this.internal.out("endobj"),V7=this.internal.newObject(),this.internal.out("<<"),this.internal.out("/S /JavaScript"),this.internal.out("/JS ("+W7+")"),this.internal.out(">>"),this.internal.out("endobj")}),this.internal.events.subscribe("putCatalog",function(){Cv!==void 0&&V7!==void 0&&this.internal.out("/Names <</JavaScript "+Cv+" 0 R>>")}),this},(function(e){var t;e.events.push(["postPutResources",function(){var r=this,n=/^(\d+) 0 obj$/;if(this.outline.root.children.length>0)for(var a=r.outline.render().split(/\r\n/),i=0;i<a.length;i++){var l=a[i],o=n.exec(l);if(o!=null){var u=o[1];r.internal.newObjectDeferredBegin(u,!1)}r.internal.write(l)}if(this.outline.createNamedDestinations){var f=this.internal.pages.length,h=[];for(i=0;i<f;i++){var m=r.internal.newObject();h.push(m);var g=r.internal.getPageInfo(i+1);r.internal.write("<< /D["+g.objId+" 0 R /XYZ null null null]>> endobj")}var x=r.internal.newObject();for(r.internal.write("<< /Names [ "),i=0;i<h.length;i++)r.internal.write("(page_"+(i+1)+")"+h[i]+" 0 R");r.internal.write(" ] >>","endobj"),t=r.internal.newObject(),r.internal.write("<< /Dests "+x+" 0 R"),r.internal.write(">>","endobj")}}]),e.events.push(["putCatalog",function(){var r=this;r.outline.root.children.length>0&&(r.internal.write("/Outlines",this.outline.makeRef(this.outline.root)),this.outline.createNamedDestinations&&r.internal.write("/Names "+t+" 0 R"))}]),e.events.push(["initialized",function(){var r=this;r.outline={createNamedDestinations:!1,root:{children:[]}},r.outline.add=function(n,a,i){var l={title:a,options:i,children:[]};return n==null&&(n=this.root),n.children.push(l),l},r.outline.render=function(){return this.ctx={},this.ctx.val="",this.ctx.pdf=r,this.genIds_r(this.root),this.renderRoot(this.root),this.renderItems(this.root),this.ctx.val},r.outline.genIds_r=function(n){n.id=r.internal.newObjectDeferred();for(var a=0;a<n.children.length;a++)this.genIds_r(n.children[a])},r.outline.renderRoot=function(n){this.objStart(n),this.line("/Type /Outlines"),n.children.length>0&&(this.line("/First "+this.makeRef(n.children[0])),this.line("/Last "+this.makeRef(n.children[n.children.length-1]))),this.line("/Count "+this.count_r({count:0},n)),this.objEnd()},r.outline.renderItems=function(n){for(var a=this.ctx.pdf.internal.getVerticalCoordinateString,i=0;i<n.children.length;i++){var l=n.children[i];this.objStart(l),this.line("/Title "+this.makeString(l.title)),this.line("/Parent "+this.makeRef(n)),i>0&&this.line("/Prev "+this.makeRef(n.children[i-1])),i<n.children.length-1&&this.line("/Next "+this.makeRef(n.children[i+1])),l.children.length>0&&(this.line("/First "+this.makeRef(l.children[0])),this.line("/Last "+this.makeRef(l.children[l.children.length-1])));var o=this.count=this.count_r({count:0},l);if(o>0&&this.line("/Count "+o),l.options&&l.options.pageNumber){var u=r.internal.getPageInfo(l.options.pageNumber);this.line("/Dest ["+u.objId+" 0 R /XYZ 0 "+a(0)+" 0]")}this.objEnd()}for(var f=0;f<n.children.length;f++)this.renderItems(n.children[f])},r.outline.line=function(n){this.ctx.val+=n+`\r
`},r.outline.makeRef=function(n){return n.id+" 0 R"},r.outline.makeString=function(n){return"("+r.internal.pdfEscape(n)+")"},r.outline.objStart=function(n){this.ctx.val+=`\r
`+n.id+` 0 obj\r
<<\r
`},r.outline.objEnd=function(){this.ctx.val+=`>> \r
endobj\r
`},r.outline.count_r=function(n,a){for(var i=0;i<a.children.length;i++)n.count++,this.count_r(n,a.children[i]);return n.count}}])})(Kt.API),(function(e){var t=[192,193,194,195,196,197,198,199];e.processJPEG=function(r,n,a,i,l,o){var u,f=this.decode.DCT_DECODE,h=null;if(typeof r=="string"||this.__addimage__.isArrayBuffer(r)||this.__addimage__.isArrayBufferView(r)){switch(r=l||r,r=this.__addimage__.isArrayBuffer(r)?new Uint8Array(r):r,u=(function(m){for(var g,x=256*m.charCodeAt(4)+m.charCodeAt(5),b=m.length,v={width:0,height:0,numcomponents:1},w=4;w<b;w+=2){if(w+=x,t.indexOf(m.charCodeAt(w+1))!==-1){g=256*m.charCodeAt(w+5)+m.charCodeAt(w+6),v={width:256*m.charCodeAt(w+7)+m.charCodeAt(w+8),height:g,numcomponents:m.charCodeAt(w+9)};break}x=256*m.charCodeAt(w+2)+m.charCodeAt(w+3)}return v})(r=this.__addimage__.isArrayBufferView(r)?this.__addimage__.arrayBufferToBinaryString(r):r),u.numcomponents){case 1:o=this.color_spaces.DEVICE_GRAY;break;case 4:o=this.color_spaces.DEVICE_CMYK;break;case 3:o=this.color_spaces.DEVICE_RGB}h={data:r,width:u.width,height:u.height,colorSpace:o,bitsPerComponent:8,filter:f,index:n,alias:a}}return h}})(Kt.API),Kt.API.processPNG=function(e,t,r,n){if(this.__addimage__.isArrayBuffer(e)&&(e=new Uint8Array(e)),this.__addimage__.isArrayBufferView(e)){var a,i=C4e(e,{checkCrc:!0}),l=i.width,o=i.height,u=i.channels,f=i.palette,h=i.depth;a=f&&u===1?(function(L){for(var B=L.width,H=L.height,P=L.data,U=L.palette,K=L.depth,ee=!1,me=[],ne=[],se=void 0,ye=!1,ce=0,Se=0;Se<U.length;Se++){var te=XO(U[Se],4),M=te[0],R=te[1],q=te[2],W=te[3];me.push(M,R,q),W!=null&&(W===0?(ce++,ne.length<1&&ne.push(Se)):W<255&&(ye=!0))}if(ye||ce>1){ee=!0,ne=void 0;var J=B*H;se=new Uint8Array(J);for(var le=new DataView(P.buffer),ue=0;ue<J;ue++){var X=P4(le,ue,K),ge=XO(U[X],4)[3];se[ue]=ge}}else ce===0&&(ne=void 0);return{colorSpace:"Indexed",colorsPerPixel:1,sMaskBitsPerComponent:ee?8:void 0,colorBytes:P,alphaBytes:se,needSMask:ee,palette:me,mask:ne}})(i):u===2||u===4?(function(L){for(var B=L.data,H=L.width,P=L.height,U=L.channels,K=L.depth,ee=U===2?"DeviceGray":"DeviceRGB",me=U-1,ne=H*P,se=me,ye=ne*se,ce=1*ne,Se=Math.ceil(ye*K/8),te=Math.ceil(ce*K/8),M=new Uint8Array(Se),R=new Uint8Array(te),q=new DataView(B.buffer),W=new DataView(M.buffer),J=new DataView(R.buffer),le=!1,ue=0;ue<ne;ue++){for(var X=ue*U,ge=0;ge<se;ge++)tD(W,P4(q,X+ge,K),ue*se+ge,K);var Te=P4(q,X+se,K);Te<(1<<K)-1&&(le=!0),tD(J,Te,1*ue,K)}return{colorSpace:ee,colorsPerPixel:me,sMaskBitsPerComponent:le?K:void 0,colorBytes:M,alphaBytes:R,needSMask:le}})(i):(function(L){var B=L.data,H=L.channels===1?"DeviceGray":"DeviceRGB";return{colorSpace:H,colorsPerPixel:H==="DeviceGray"?1:3,colorBytes:B instanceof Uint16Array?(function(P){for(var U=P.length,K=new Uint8Array(2*U),ee=new DataView(K.buffer,K.byteOffset,K.byteLength),me=0;me<U;me++)ee.setUint16(2*me,P[me],!1);return K})(B):B,needSMask:!1}})(i);var m,g,x,b=a,v=b.colorSpace,w=b.colorsPerPixel,N=b.sMaskBitsPerComponent,E=b.colorBytes,j=b.alphaBytes,T=b.needSMask,O=b.palette,F=b.mask,D=null;return n!==Kt.API.image_compression.NONE&&typeof d_=="function"?(D=(function(L){var B;switch(L){case Kt.API.image_compression.FAST:B=11;break;case Kt.API.image_compression.MEDIUM:B=13;break;case Kt.API.image_compression.SLOW:B=14;break;default:B=12}return B})(n),m=this.decode.FLATE_DECODE,g="/Predictor ".concat(D," /Colors ").concat(w," /BitsPerComponent ").concat(h," /Columns ").concat(l),e=X7(E,Math.ceil(l*w*h/8),w,h,n),T&&(x=X7(j,Math.ceil(l*N/8),1,N,n))):(m=void 0,g=void 0,e=E,T&&(x=j)),(this.__addimage__.isArrayBuffer(e)||this.__addimage__.isArrayBufferView(e))&&(e=this.__addimage__.arrayBufferToBinaryString(e)),(x&&this.__addimage__.isArrayBuffer(x)||this.__addimage__.isArrayBufferView(x))&&(x=this.__addimage__.arrayBufferToBinaryString(x)),{alias:r,data:e,index:t,filter:m,decodeParameters:g,transparency:F,palette:O,sMask:x,predictor:D,width:l,height:o,bitsPerComponent:h,sMaskBitsPerComponent:N,colorSpace:v}}},(function(e){e.processGIF89A=function(t,r,n,a){var i=new X4e(t),l=i.width,o=i.height,u=[];i.decodeAndBlitFrameRGBA(0,u);var f={data:u,width:l,height:o},h=new L4(100).encode(f,100);return e.processJPEG.call(this,h,r,n,a)},e.processGIF87A=e.processGIF89A})(Kt.API),vc.prototype.parseHeader=function(){if(this.fileSize=this.datav.getUint32(this.pos,!0),this.pos+=4,this.reserved=this.datav.getUint32(this.pos,!0),this.pos+=4,this.offset=this.datav.getUint32(this.pos,!0),this.pos+=4,this.headerSize=this.datav.getUint32(this.pos,!0),this.pos+=4,this.width=this.datav.getUint32(this.pos,!0),this.pos+=4,this.height=this.datav.getInt32(this.pos,!0),this.pos+=4,this.planes=this.datav.getUint16(this.pos,!0),this.pos+=2,this.bitPP=this.datav.getUint16(this.pos,!0),this.pos+=2,this.compress=this.datav.getUint32(this.pos,!0),this.pos+=4,this.rawSize=this.datav.getUint32(this.pos,!0),this.pos+=4,this.hr=this.datav.getUint32(this.pos,!0),this.pos+=4,this.vr=this.datav.getUint32(this.pos,!0),this.pos+=4,this.colors=this.datav.getUint32(this.pos,!0),this.pos+=4,this.importantColors=this.datav.getUint32(this.pos,!0),this.pos+=4,this.bitPP===16&&this.is_with_alpha&&(this.bitPP=15),this.bitPP<15){var e=this.colors===0?1<<this.bitPP:this.colors;this.palette=new Array(e);for(var t=0;t<e;t++){var r=this.datav.getUint8(this.pos++,!0),n=this.datav.getUint8(this.pos++,!0),a=this.datav.getUint8(this.pos++,!0),i=this.datav.getUint8(this.pos++,!0);this.palette[t]={red:a,green:n,blue:r,quad:i}}}this.height<0&&(this.height*=-1,this.bottom_up=!1)},vc.prototype.parseBGR=function(){this.pos=this.offset;try{var e="bit"+this.bitPP,t=this.width*this.height*4;this.data=new Uint8Array(t),this[e]()}catch(r){Rn.log("bit decode error:"+r)}},vc.prototype.bit1=function(){var e,t=Math.ceil(this.width/8),r=t%4;for(e=this.height-1;e>=0;e--){for(var n=this.bottom_up?e:this.height-1-e,a=0;a<t;a++)for(var i=this.datav.getUint8(this.pos++,!0),l=n*this.width*4+8*a*4,o=0;o<8&&8*a+o<this.width;o++){var u=this.palette[i>>7-o&1];this.data[l+4*o]=u.blue,this.data[l+4*o+1]=u.green,this.data[l+4*o+2]=u.red,this.data[l+4*o+3]=255}r!==0&&(this.pos+=4-r)}},vc.prototype.bit4=function(){for(var e=Math.ceil(this.width/2),t=e%4,r=this.height-1;r>=0;r--){for(var n=this.bottom_up?r:this.height-1-r,a=0;a<e;a++){var i=this.datav.getUint8(this.pos++,!0),l=n*this.width*4+2*a*4,o=i>>4,u=15&i,f=this.palette[o];if(this.data[l]=f.blue,this.data[l+1]=f.green,this.data[l+2]=f.red,this.data[l+3]=255,2*a+1>=this.width)break;f=this.palette[u],this.data[l+4]=f.blue,this.data[l+4+1]=f.green,this.data[l+4+2]=f.red,this.data[l+4+3]=255}t!==0&&(this.pos+=4-t)}},vc.prototype.bit8=function(){for(var e=this.width%4,t=this.height-1;t>=0;t--){for(var r=this.bottom_up?t:this.height-1-t,n=0;n<this.width;n++){var a=this.datav.getUint8(this.pos++,!0),i=r*this.width*4+4*n;if(a<this.palette.length){var l=this.palette[a];this.data[i]=l.red,this.data[i+1]=l.green,this.data[i+2]=l.blue,this.data[i+3]=255}else this.data[i]=255,this.data[i+1]=255,this.data[i+2]=255,this.data[i+3]=255}e!==0&&(this.pos+=4-e)}},vc.prototype.bit15=function(){for(var e=this.width%3,t=parseInt("11111",2),r=this.height-1;r>=0;r--){for(var n=this.bottom_up?r:this.height-1-r,a=0;a<this.width;a++){var i=this.datav.getUint16(this.pos,!0);this.pos+=2;var l=(i&t)/t*255|0,o=(i>>5&t)/t*255|0,u=(i>>10&t)/t*255|0,f=i>>15?255:0,h=n*this.width*4+4*a;this.data[h]=u,this.data[h+1]=o,this.data[h+2]=l,this.data[h+3]=f}this.pos+=e}},vc.prototype.bit16=function(){for(var e=this.width%3,t=parseInt("11111",2),r=parseInt("111111",2),n=this.height-1;n>=0;n--){for(var a=this.bottom_up?n:this.height-1-n,i=0;i<this.width;i++){var l=this.datav.getUint16(this.pos,!0);this.pos+=2;var o=(l&t)/t*255|0,u=(l>>5&r)/r*255|0,f=(l>>11)/t*255|0,h=a*this.width*4+4*i;this.data[h]=f,this.data[h+1]=u,this.data[h+2]=o,this.data[h+3]=255}this.pos+=e}},vc.prototype.bit24=function(){for(var e=this.height-1;e>=0;e--){for(var t=this.bottom_up?e:this.height-1-e,r=0;r<this.width;r++){var n=this.datav.getUint8(this.pos++,!0),a=this.datav.getUint8(this.pos++,!0),i=this.datav.getUint8(this.pos++,!0),l=t*this.width*4+4*r;this.data[l]=i,this.data[l+1]=a,this.data[l+2]=n,this.data[l+3]=255}this.pos+=this.width%4}},vc.prototype.bit32=function(){for(var e=this.height-1;e>=0;e--)for(var t=this.bottom_up?e:this.height-1-e,r=0;r<this.width;r++){var n=this.datav.getUint8(this.pos++,!0),a=this.datav.getUint8(this.pos++,!0),i=this.datav.getUint8(this.pos++,!0),l=this.datav.getUint8(this.pos++,!0),o=t*this.width*4+4*r;this.data[o]=i,this.data[o+1]=a,this.data[o+2]=n,this.data[o+3]=l}},vc.prototype.getData=function(){return this.data},(function(e){e.processBMP=function(t,r,n,a){var i=new vc(t,!1),l=i.width,o=i.height,u={data:i.getData(),width:l,height:o},f=new L4(100).encode(u,100);return e.processJPEG.call(this,f,r,n,a)}})(Kt.API),nD.prototype.getData=function(){return this.data},(function(e){e.processWEBP=function(t,r,n,a){var i=new nD(t),l=i.width,o=i.height,u={data:i.getData(),width:l,height:o},f=new L4(100).encode(u,100);return e.processJPEG.call(this,f,r,n,a)}})(Kt.API),Kt.API.processRGBA=function(e,t,r){for(var n=e.data,a=n.length,i=new Uint8Array(a/4*3),l=new Uint8Array(a/4),o=0,u=0,f=0;f<a;f+=4){var h=n[f],m=n[f+1],g=n[f+2],x=n[f+3];i[o++]=h,i[o++]=m,i[o++]=g,l[u++]=x}var b=this.__addimage__.arrayBufferToBinaryString(i);return{alpha:this.__addimage__.arrayBufferToBinaryString(l),data:b,index:t,alias:r,colorSpace:"DeviceRGB",bitsPerComponent:8,width:e.width,height:e.height}},Kt.API.setLanguage=function(e){return this.internal.languageSettings===void 0&&(this.internal.languageSettings={},this.internal.languageSettings.isSubscribed=!1),{af:"Afrikaans",sq:"Albanian",ar:"Arabic (Standard)","ar-DZ":"Arabic (Algeria)","ar-BH":"Arabic (Bahrain)","ar-EG":"Arabic (Egypt)","ar-IQ":"Arabic (Iraq)","ar-JO":"Arabic (Jordan)","ar-KW":"Arabic (Kuwait)","ar-LB":"Arabic (Lebanon)","ar-LY":"Arabic (Libya)","ar-MA":"Arabic (Morocco)","ar-OM":"Arabic (Oman)","ar-QA":"Arabic (Qatar)","ar-SA":"Arabic (Saudi Arabia)","ar-SY":"Arabic (Syria)","ar-TN":"Arabic (Tunisia)","ar-AE":"Arabic (U.A.E.)","ar-YE":"Arabic (Yemen)",an:"Aragonese",hy:"Armenian",as:"Assamese",ast:"Asturian",az:"Azerbaijani",eu:"Basque",be:"Belarusian",bn:"Bengali",bs:"Bosnian",br:"Breton",bg:"Bulgarian",my:"Burmese",ca:"Catalan",ch:"Chamorro",ce:"Chechen",zh:"Chinese","zh-HK":"Chinese (Hong Kong)","zh-CN":"Chinese (PRC)","zh-SG":"Chinese (Singapore)","zh-TW":"Chinese (Taiwan)",cv:"Chuvash",co:"Corsican",cr:"Cree",hr:"Croatian",cs:"Czech",da:"Danish",nl:"Dutch (Standard)","nl-BE":"Dutch (Belgian)",en:"English","en-AU":"English (Australia)","en-BZ":"English (Belize)","en-CA":"English (Canada)","en-IE":"English (Ireland)","en-JM":"English (Jamaica)","en-NZ":"English (New Zealand)","en-PH":"English (Philippines)","en-ZA":"English (South Africa)","en-TT":"English (Trinidad & Tobago)","en-GB":"English (United Kingdom)","en-US":"English (United States)","en-ZW":"English (Zimbabwe)",eo:"Esperanto",et:"Estonian",fo:"Faeroese",fj:"Fijian",fi:"Finnish",fr:"French (Standard)","fr-BE":"French (Belgium)","fr-CA":"French (Canada)","fr-FR":"French (France)","fr-LU":"French (Luxembourg)","fr-MC":"French (Monaco)","fr-CH":"French (Switzerland)",fy:"Frisian",fur:"Friulian",gd:"Gaelic (Scots)","gd-IE":"Gaelic (Irish)",gl:"Galacian",ka:"Georgian",de:"German (Standard)","de-AT":"German (Austria)","de-DE":"German (Germany)","de-LI":"German (Liechtenstein)","de-LU":"German (Luxembourg)","de-CH":"German (Switzerland)",el:"Greek",gu:"Gujurati",ht:"Haitian",he:"Hebrew",hi:"Hindi",hu:"Hungarian",is:"Icelandic",id:"Indonesian",iu:"Inuktitut",ga:"Irish",it:"Italian (Standard)","it-CH":"Italian (Switzerland)",ja:"Japanese",kn:"Kannada",ks:"Kashmiri",kk:"Kazakh",km:"Khmer",ky:"Kirghiz",tlh:"Klingon",ko:"Korean","ko-KP":"Korean (North Korea)","ko-KR":"Korean (South Korea)",la:"Latin",lv:"Latvian",lt:"Lithuanian",lb:"Luxembourgish",mk:"North Macedonia",ms:"Malay",ml:"Malayalam",mt:"Maltese",mi:"Maori",mr:"Marathi",mo:"Moldavian",nv:"Navajo",ng:"Ndonga",ne:"Nepali",no:"Norwegian",nb:"Norwegian (Bokmal)",nn:"Norwegian (Nynorsk)",oc:"Occitan",or:"Oriya",om:"Oromo",fa:"Persian","fa-IR":"Persian/Iran",pl:"Polish",pt:"Portuguese","pt-BR":"Portuguese (Brazil)",pa:"Punjabi","pa-IN":"Punjabi (India)","pa-PK":"Punjabi (Pakistan)",qu:"Quechua",rm:"Rhaeto-Romanic",ro:"Romanian","ro-MO":"Romanian (Moldavia)",ru:"Russian","ru-MO":"Russian (Moldavia)",sz:"Sami (Lappish)",sg:"Sango",sa:"Sanskrit",sc:"Sardinian",sd:"Sindhi",si:"Singhalese",sr:"Serbian",sk:"Slovak",sl:"Slovenian",so:"Somani",sb:"Sorbian",es:"Spanish","es-AR":"Spanish (Argentina)","es-BO":"Spanish (Bolivia)","es-CL":"Spanish (Chile)","es-CO":"Spanish (Colombia)","es-CR":"Spanish (Costa Rica)","es-DO":"Spanish (Dominican Republic)","es-EC":"Spanish (Ecuador)","es-SV":"Spanish (El Salvador)","es-GT":"Spanish (Guatemala)","es-HN":"Spanish (Honduras)","es-MX":"Spanish (Mexico)","es-NI":"Spanish (Nicaragua)","es-PA":"Spanish (Panama)","es-PY":"Spanish (Paraguay)","es-PE":"Spanish (Peru)","es-PR":"Spanish (Puerto Rico)","es-ES":"Spanish (Spain)","es-UY":"Spanish (Uruguay)","es-VE":"Spanish (Venezuela)",sx:"Sutu",sw:"Swahili",sv:"Swedish","sv-FI":"Swedish (Finland)","sv-SV":"Swedish (Sweden)",ta:"Tamil",tt:"Tatar",te:"Teluga",th:"Thai",tig:"Tigre",ts:"Tsonga",tn:"Tswana",tr:"Turkish",tk:"Turkmen",uk:"Ukrainian",hsb:"Upper Sorbian",ur:"Urdu",ve:"Venda",vi:"Vietnamese",vo:"Volapuk",wa:"Walloon",cy:"Welsh",xh:"Xhosa",ji:"Yiddish",zu:"Zulu"}[e]!==void 0&&(this.internal.languageSettings.languageCode=e,this.internal.languageSettings.isSubscribed===!1&&(this.internal.events.subscribe("putCatalog",function(){this.internal.write("/Lang ("+this.internal.languageSettings.languageCode+")")}),this.internal.languageSettings.isSubscribed=!0)),this},vm=Kt.API,Tv=vm.getCharWidthsArray=function(e,t){var r,n,a=(t=t||{}).font||this.internal.getFont(),i=t.fontSize||this.internal.getFontSize(),l=t.charSpace||this.internal.getCharSpace(),o=t.widths?t.widths:a.metadata.Unicode.widths,u=o.fof?o.fof:1,f=t.kerning?t.kerning:a.metadata.Unicode.kerning,h=f.fof?f.fof:1,m=t.doKerning!==!1,g=0,x=e.length,b=0,v=o[0]||u,w=[];for(r=0;r<x;r++)n=e.charCodeAt(r),typeof a.metadata.widthOfString=="function"?w.push((a.metadata.widthOfGlyph(a.metadata.characterToGlyph(n))+l*(1e3/i)||0)/1e3):(g=m&&Nn(f[n])==="object"&&!isNaN(parseInt(f[n][b],10))?f[n][b]/h:0,w.push((o[n]||v)/u+g)),b=n;return w},G7=vm.getStringUnitWidth=function(e,t){var r=(t=t||{}).fontSize||this.internal.getFontSize(),n=t.font||this.internal.getFont(),a=t.charSpace||this.internal.getCharSpace();return vm.processArabic&&(e=vm.processArabic(e)),typeof n.metadata.widthOfString=="function"?n.metadata.widthOfString(e,r,a)/r:Tv.apply(this,arguments).reduce(function(i,l){return i+l},0)},K7=function(e,t,r,n){for(var a=[],i=0,l=e.length,o=0;i!==l&&o+t[i]<r;)o+=t[i],i++;a.push(e.slice(0,i));var u=i;for(o=0;i!==l;)o+t[i]>n&&(a.push(e.slice(u,i)),o=0,u=i),o+=t[i],i++;return u!==i&&a.push(e.slice(u,i)),a},Y7=function(e,t,r){r||(r={});var n,a,i,l,o,u,f,h=[],m=[h],g=r.textIndent||0,x=0,b=0,v=e.split(" "),w=Tv.apply(this,[" ",r])[0];if(u=r.lineIndent===-1?v[0].length+2:r.lineIndent||0){var N=Array(u).join(" "),E=[];v.map(function(T){(T=T.split(/\s*\n/)).length>1?E=E.concat(T.map(function(O,F){return(F&&O.length?`
`:"")+O})):E.push(T[0])}),v=E,u=G7.apply(this,[N,r])}for(i=0,l=v.length;i<l;i++){var j=0;if(n=v[i],u&&n[0]==`
`&&(n=n.substr(1),j=1),g+x+(b=(a=Tv.apply(this,[n,r])).reduce(function(T,O){return T+O},0))>t||j){if(b>t){for(o=K7.apply(this,[n,a,t-(g+x),t]),h.push(o.shift()),h=[o.pop()];o.length;)m.push([o.shift()]);b=a.slice(n.length-(h[0]?h[0].length:0)).reduce(function(T,O){return T+O},0)}else h=[n];m.push(h),g=b+u,x=w}else h.push(n),g+=x+b,x=w}return f=u?function(T,O){return(O?N:"")+T.join(" ")}:function(T){return T.join(" ")},m.map(f)},vm.splitTextToSize=function(e,t,r){var n,a=(r=r||{}).fontSize||this.internal.getFontSize(),i=(function(h){if(h.widths&&h.kerning)return{widths:h.widths,kerning:h.kerning};var m=this.internal.getFont(h.fontName,h.fontStyle),g="Unicode";return m.metadata[g]?{widths:m.metadata[g].widths||{0:1},kerning:m.metadata[g].kerning||{}}:{font:m.metadata,fontSize:this.internal.getFontSize(),charSpace:this.internal.getCharSpace()}}).call(this,r);n=Array.isArray(e)?e:String(e).split(/\r?\n/);var l=1*this.internal.scaleFactor*t/a;i.textIndent=r.textIndent?1*r.textIndent*this.internal.scaleFactor/a:0,i.lineIndent=r.lineIndent;var o,u,f=[];for(o=0,u=n.length;o<u;o++)f=f.concat(Y7.apply(this,[n[o],l,i]));return f},(function(e){e.__fontmetrics__=e.__fontmetrics__||{};for(var t="0123456789abcdef",r="klmnopqrstuvwxyz",n={},a={},i=0;i<16;i++)n[r[i]]=t[i],a[t[i]]=r[i];var l=function(g){return"0x"+parseInt(g,10).toString(16)},o=e.__fontmetrics__.compress=function(g){var x,b,v,w,N=["{"];for(var E in g){if(x=g[E],isNaN(parseInt(E,10))?b="'"+E+"'":(E=parseInt(E,10),b=(b=l(E).slice(2)).slice(0,-1)+a[b.slice(-1)]),typeof x=="number")x<0?(v=l(x).slice(3),w="-"):(v=l(x).slice(2),w=""),v=w+v.slice(0,-1)+a[v.slice(-1)];else{if(Nn(x)!=="object")throw new Error("Don't know what to do with value type "+Nn(x)+".");v=o(x)}N.push(b+v)}return N.push("}"),N.join("")},u=e.__fontmetrics__.uncompress=function(g){if(typeof g!="string")throw new Error("Invalid argument passed to uncompress.");for(var x,b,v,w,N={},E=1,j=N,T=[],O="",F="",D=g.length-1,L=1;L<D;L+=1)(w=g[L])=="'"?x?(v=x.join(""),x=void 0):x=[]:x?x.push(w):w=="{"?(T.push([j,v]),j={},v=void 0):w=="}"?((b=T.pop())[0][b[1]]=j,v=void 0,j=b[0]):w=="-"?E=-1:v===void 0?n.hasOwnProperty(w)?(O+=n[w],v=parseInt(O,16)*E,E=1,O=""):O+=w:n.hasOwnProperty(w)?(F+=n[w],j[v]=parseInt(F,16)*E,E=1,v=void 0,F=""):F+=w;return N},f={codePages:["WinAnsiEncoding"],WinAnsiEncoding:u("{19m8n201n9q201o9r201s9l201t9m201u8m201w9n201x9o201y8o202k8q202l8r202m9p202q8p20aw8k203k8t203t8v203u9v2cq8s212m9t15m8w15n9w2dw9s16k8u16l9u17s9z17x8y17y9y}")},h={Unicode:{Courier:f,"Courier-Bold":f,"Courier-BoldOblique":f,"Courier-Oblique":f,Helvetica:f,"Helvetica-Bold":f,"Helvetica-BoldOblique":f,"Helvetica-Oblique":f,"Times-Roman":f,"Times-Bold":f,"Times-BoldItalic":f,"Times-Italic":f}},m={Unicode:{"Courier-Oblique":u("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Times-BoldItalic":u("{'widths'{k3o2q4ycx2r201n3m201o6o201s2l201t2l201u2l201w3m201x3m201y3m2k1t2l2r202m2n2n3m2o3m2p5n202q6o2r1w2s2l2t2l2u3m2v3t2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v2l3w3t3x3t3y3t3z3m4k5n4l4m4m4m4n4m4o4s4p4m4q4m4r4s4s4y4t2r4u3m4v4m4w3x4x5t4y4s4z4s5k3x5l4s5m4m5n3r5o3x5p4s5q4m5r5t5s4m5t3x5u3x5v2l5w1w5x2l5y3t5z3m6k2l6l3m6m3m6n2w6o3m6p2w6q2l6r3m6s3r6t1w6u1w6v3m6w1w6x4y6y3r6z3m7k3m7l3m7m2r7n2r7o1w7p3r7q2w7r4m7s3m7t2w7u2r7v2n7w1q7x2n7y3t202l3mcl4mal2ram3man3mao3map3mar3mas2lat4uau1uav3maw3way4uaz2lbk2sbl3t'fof'6obo2lbp3tbq3mbr1tbs2lbu1ybv3mbz3mck4m202k3mcm4mcn4mco4mcp4mcq5ycr4mcs4mct4mcu4mcv4mcw2r2m3rcy2rcz2rdl4sdm4sdn4sdo4sdp4sdq4sds4sdt4sdu4sdv4sdw4sdz3mek3mel3mem3men3meo3mep3meq4ser2wes2wet2weu2wev2wew1wex1wey1wez1wfl3rfm3mfn3mfo3mfp3mfq3mfr3tfs3mft3rfu3rfv3rfw3rfz2w203k6o212m6o2dw2l2cq2l3t3m3u2l17s3x19m3m}'kerning'{cl{4qu5kt5qt5rs17ss5ts}201s{201ss}201t{cks4lscmscnscoscpscls2wu2yu201ts}201x{2wu2yu}2k{201ts}2w{4qx5kx5ou5qx5rs17su5tu}2x{17su5tu5ou}2y{4qx5kx5ou5qx5rs17ss5ts}'fof'-6ofn{17sw5tw5ou5qw5rs}7t{cksclscmscnscoscps4ls}3u{17su5tu5os5qs}3v{17su5tu5os5qs}7p{17su5tu}ck{4qu5kt5qt5rs17ss5ts}4l{4qu5kt5qt5rs17ss5ts}cm{4qu5kt5qt5rs17ss5ts}cn{4qu5kt5qt5rs17ss5ts}co{4qu5kt5qt5rs17ss5ts}cp{4qu5kt5qt5rs17ss5ts}6l{4qu5ou5qw5rt17su5tu}5q{ckuclucmucnucoucpu4lu}5r{ckuclucmucnucoucpu4lu}7q{cksclscmscnscoscps4ls}6p{4qu5ou5qw5rt17sw5tw}ek{4qu5ou5qw5rt17su5tu}el{4qu5ou5qw5rt17su5tu}em{4qu5ou5qw5rt17su5tu}en{4qu5ou5qw5rt17su5tu}eo{4qu5ou5qw5rt17su5tu}ep{4qu5ou5qw5rt17su5tu}es{17ss5ts5qs4qu}et{4qu5ou5qw5rt17sw5tw}eu{4qu5ou5qw5rt17ss5ts}ev{17ss5ts5qs4qu}6z{17sw5tw5ou5qw5rs}fm{17sw5tw5ou5qw5rs}7n{201ts}fo{17sw5tw5ou5qw5rs}fp{17sw5tw5ou5qw5rs}fq{17sw5tw5ou5qw5rs}7r{cksclscmscnscoscps4ls}fs{17sw5tw5ou5qw5rs}ft{17su5tu}fu{17su5tu}fv{17su5tu}fw{17su5tu}fz{cksclscmscnscoscps4ls}}}"),"Helvetica-Bold":u("{'widths'{k3s2q4scx1w201n3r201o6o201s1w201t1w201u1w201w3m201x3m201y3m2k1w2l2l202m2n2n3r2o3r2p5t202q6o2r1s2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v2l3w3u3x3u3y3u3z3x4k6l4l4s4m4s4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3r4v4s4w3x4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v2l5w1w5x2l5y3u5z3r6k2l6l3r6m3x6n3r6o3x6p3r6q2l6r3x6s3x6t1w6u1w6v3r6w1w6x5t6y3x6z3x7k3x7l3x7m2r7n3r7o2l7p3x7q3r7r4y7s3r7t3r7u3m7v2r7w1w7x2r7y3u202l3rcl4sal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3xbq3rbr1wbs2lbu2obv3rbz3xck4s202k3rcm4scn4sco4scp4scq6ocr4scs4mct4mcu4mcv4mcw1w2m2zcy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3res3ret3reu3rev3rew1wex1wey1wez1wfl3xfm3xfn3xfo3xfp3xfq3xfr3ufs3xft3xfu3xfv3xfw3xfz3r203k6o212m6o2dw2l2cq2l3t3r3u2l17s4m19m3r}'kerning'{cl{4qs5ku5ot5qs17sv5tv}201t{2ww4wy2yw}201w{2ks}201x{2ww4wy2yw}2k{201ts201xs}2w{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}2x{5ow5qs}2y{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}'fof'-6o7p{17su5tu5ot}ck{4qs5ku5ot5qs17sv5tv}4l{4qs5ku5ot5qs17sv5tv}cm{4qs5ku5ot5qs17sv5tv}cn{4qs5ku5ot5qs17sv5tv}co{4qs5ku5ot5qs17sv5tv}cp{4qs5ku5ot5qs17sv5tv}6l{17st5tt5os}17s{2kwclvcmvcnvcovcpv4lv4wwckv}5o{2kucltcmtcntcotcpt4lt4wtckt}5q{2ksclscmscnscoscps4ls4wvcks}5r{2ks4ws}5t{2kwclvcmvcnvcovcpv4lv4wwckv}eo{17st5tt5os}fu{17su5tu5ot}6p{17ss5ts}ek{17st5tt5os}el{17st5tt5os}em{17st5tt5os}en{17st5tt5os}6o{201ts}ep{17st5tt5os}es{17ss5ts}et{17ss5ts}eu{17ss5ts}ev{17ss5ts}6z{17su5tu5os5qt}fm{17su5tu5os5qt}fn{17su5tu5os5qt}fo{17su5tu5os5qt}fp{17su5tu5os5qt}fq{17su5tu5os5qt}fs{17su5tu5os5qt}ft{17su5tu5ot}7m{5os}fv{17su5tu5ot}fw{17su5tu5ot}}}"),Courier:u("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Courier-BoldOblique":u("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Times-Bold":u("{'widths'{k3q2q5ncx2r201n3m201o6o201s2l201t2l201u2l201w3m201x3m201y3m2k1t2l2l202m2n2n3m2o3m2p6o202q6o2r1w2s2l2t2l2u3m2v3t2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v2l3w3t3x3t3y3t3z3m4k5x4l4s4m4m4n4s4o4s4p4m4q3x4r4y4s4y4t2r4u3m4v4y4w4m4x5y4y4s4z4y5k3x5l4y5m4s5n3r5o4m5p4s5q4s5r6o5s4s5t4s5u4m5v2l5w1w5x2l5y3u5z3m6k2l6l3m6m3r6n2w6o3r6p2w6q2l6r3m6s3r6t1w6u2l6v3r6w1w6x5n6y3r6z3m7k3r7l3r7m2w7n2r7o2l7p3r7q3m7r4s7s3m7t3m7u2w7v2r7w1q7x2r7y3o202l3mcl4sal2lam3man3mao3map3mar3mas2lat4uau1yav3maw3tay4uaz2lbk2sbl3t'fof'6obo2lbp3rbr1tbs2lbu2lbv3mbz3mck4s202k3mcm4scn4sco4scp4scq6ocr4scs4mct4mcu4mcv4mcw2r2m3rcy2rcz2rdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3rek3mel3mem3men3meo3mep3meq4ser2wes2wet2weu2wev2wew1wex1wey1wez1wfl3rfm3mfn3mfo3mfp3mfq3mfr3tfs3mft3rfu3rfv3rfw3rfz3m203k6o212m6o2dw2l2cq2l3t3m3u2l17s4s19m3m}'kerning'{cl{4qt5ks5ot5qy5rw17sv5tv}201t{cks4lscmscnscoscpscls4wv}2k{201ts}2w{4qu5ku7mu5os5qx5ru17su5tu}2x{17su5tu5ou5qs}2y{4qv5kv7mu5ot5qz5ru17su5tu}'fof'-6o7t{cksclscmscnscoscps4ls}3u{17su5tu5os5qu}3v{17su5tu5os5qu}fu{17su5tu5ou5qu}7p{17su5tu5ou5qu}ck{4qt5ks5ot5qy5rw17sv5tv}4l{4qt5ks5ot5qy5rw17sv5tv}cm{4qt5ks5ot5qy5rw17sv5tv}cn{4qt5ks5ot5qy5rw17sv5tv}co{4qt5ks5ot5qy5rw17sv5tv}cp{4qt5ks5ot5qy5rw17sv5tv}6l{17st5tt5ou5qu}17s{ckuclucmucnucoucpu4lu4wu}5o{ckuclucmucnucoucpu4lu4wu}5q{ckzclzcmzcnzcozcpz4lz4wu}5r{ckxclxcmxcnxcoxcpx4lx4wu}5t{ckuclucmucnucoucpu4lu4wu}7q{ckuclucmucnucoucpu4lu}6p{17sw5tw5ou5qu}ek{17st5tt5qu}el{17st5tt5ou5qu}em{17st5tt5qu}en{17st5tt5qu}eo{17st5tt5qu}ep{17st5tt5ou5qu}es{17ss5ts5qu}et{17sw5tw5ou5qu}eu{17sw5tw5ou5qu}ev{17ss5ts5qu}6z{17sw5tw5ou5qu5rs}fm{17sw5tw5ou5qu5rs}fn{17sw5tw5ou5qu5rs}fo{17sw5tw5ou5qu5rs}fp{17sw5tw5ou5qu5rs}fq{17sw5tw5ou5qu5rs}7r{cktcltcmtcntcotcpt4lt5os}fs{17sw5tw5ou5qu5rs}ft{17su5tu5ou5qu}7m{5os}fv{17su5tu5ou5qu}fw{17su5tu5ou5qu}fz{cksclscmscnscoscps4ls}}}"),Symbol:u("{'widths'{k3uaw4r19m3m2k1t2l2l202m2y2n3m2p5n202q6o3k3m2s2l2t2l2v3r2w1t3m3m2y1t2z1wbk2sbl3r'fof'6o3n3m3o3m3p3m3q3m3r3m3s3m3t3m3u1w3v1w3w3r3x3r3y3r3z2wbp3t3l3m5v2l5x2l5z3m2q4yfr3r7v3k7w1o7x3k}'kerning'{'fof'-6o}}"),Helvetica:u("{'widths'{k3p2q4mcx1w201n3r201o6o201s1q201t1q201u1q201w2l201x2l201y2l2k1w2l1w202m2n2n3r2o3r2p5t202q6o2r1n2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v1w3w3u3x3u3y3u3z3r4k6p4l4m4m4m4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3m4v4m4w3r4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v1w5w1w5x1w5y2z5z3r6k2l6l3r6m3r6n3m6o3r6p3r6q1w6r3r6s3r6t1q6u1q6v3m6w1q6x5n6y3r6z3r7k3r7l3r7m2l7n3m7o1w7p3r7q3m7r4s7s3m7t3m7u3m7v2l7w1u7x2l7y3u202l3rcl4mal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3rbr1wbs2lbu2obv3rbz3xck4m202k3rcm4mcn4mco4mcp4mcq6ocr4scs4mct4mcu4mcv4mcw1w2m2ncy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3mes3ret3reu3rev3rew1wex1wey1wez1wfl3rfm3rfn3rfo3rfp3rfq3rfr3ufs3xft3rfu3rfv3rfw3rfz3m203k6o212m6o2dw2l2cq2l3t3r3u1w17s4m19m3r}'kerning'{5q{4wv}cl{4qs5kw5ow5qs17sv5tv}201t{2wu4w1k2yu}201x{2wu4wy2yu}17s{2ktclucmucnu4otcpu4lu4wycoucku}2w{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}2x{17sy5ty5oy5qs}2y{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}'fof'-6o7p{17sv5tv5ow}ck{4qs5kw5ow5qs17sv5tv}4l{4qs5kw5ow5qs17sv5tv}cm{4qs5kw5ow5qs17sv5tv}cn{4qs5kw5ow5qs17sv5tv}co{4qs5kw5ow5qs17sv5tv}cp{4qs5kw5ow5qs17sv5tv}6l{17sy5ty5ow}do{17st5tt}4z{17st5tt}7s{fst}dm{17st5tt}dn{17st5tt}5o{ckwclwcmwcnwcowcpw4lw4wv}dp{17st5tt}dq{17st5tt}7t{5ow}ds{17st5tt}5t{2ktclucmucnu4otcpu4lu4wycoucku}fu{17sv5tv5ow}6p{17sy5ty5ow5qs}ek{17sy5ty5ow}el{17sy5ty5ow}em{17sy5ty5ow}en{5ty}eo{17sy5ty5ow}ep{17sy5ty5ow}es{17sy5ty5qs}et{17sy5ty5ow5qs}eu{17sy5ty5ow5qs}ev{17sy5ty5ow5qs}6z{17sy5ty5ow5qs}fm{17sy5ty5ow5qs}fn{17sy5ty5ow5qs}fo{17sy5ty5ow5qs}fp{17sy5ty5qs}fq{17sy5ty5ow5qs}7r{5ow}fs{17sy5ty5ow5qs}ft{17sv5tv5ow}7m{5ow}fv{17sv5tv5ow}fw{17sv5tv5ow}}}"),"Helvetica-BoldOblique":u("{'widths'{k3s2q4scx1w201n3r201o6o201s1w201t1w201u1w201w3m201x3m201y3m2k1w2l2l202m2n2n3r2o3r2p5t202q6o2r1s2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v2l3w3u3x3u3y3u3z3x4k6l4l4s4m4s4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3r4v4s4w3x4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v2l5w1w5x2l5y3u5z3r6k2l6l3r6m3x6n3r6o3x6p3r6q2l6r3x6s3x6t1w6u1w6v3r6w1w6x5t6y3x6z3x7k3x7l3x7m2r7n3r7o2l7p3x7q3r7r4y7s3r7t3r7u3m7v2r7w1w7x2r7y3u202l3rcl4sal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3xbq3rbr1wbs2lbu2obv3rbz3xck4s202k3rcm4scn4sco4scp4scq6ocr4scs4mct4mcu4mcv4mcw1w2m2zcy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3res3ret3reu3rev3rew1wex1wey1wez1wfl3xfm3xfn3xfo3xfp3xfq3xfr3ufs3xft3xfu3xfv3xfw3xfz3r203k6o212m6o2dw2l2cq2l3t3r3u2l17s4m19m3r}'kerning'{cl{4qs5ku5ot5qs17sv5tv}201t{2ww4wy2yw}201w{2ks}201x{2ww4wy2yw}2k{201ts201xs}2w{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}2x{5ow5qs}2y{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}'fof'-6o7p{17su5tu5ot}ck{4qs5ku5ot5qs17sv5tv}4l{4qs5ku5ot5qs17sv5tv}cm{4qs5ku5ot5qs17sv5tv}cn{4qs5ku5ot5qs17sv5tv}co{4qs5ku5ot5qs17sv5tv}cp{4qs5ku5ot5qs17sv5tv}6l{17st5tt5os}17s{2kwclvcmvcnvcovcpv4lv4wwckv}5o{2kucltcmtcntcotcpt4lt4wtckt}5q{2ksclscmscnscoscps4ls4wvcks}5r{2ks4ws}5t{2kwclvcmvcnvcovcpv4lv4wwckv}eo{17st5tt5os}fu{17su5tu5ot}6p{17ss5ts}ek{17st5tt5os}el{17st5tt5os}em{17st5tt5os}en{17st5tt5os}6o{201ts}ep{17st5tt5os}es{17ss5ts}et{17ss5ts}eu{17ss5ts}ev{17ss5ts}6z{17su5tu5os5qt}fm{17su5tu5os5qt}fn{17su5tu5os5qt}fo{17su5tu5os5qt}fp{17su5tu5os5qt}fq{17su5tu5os5qt}fs{17su5tu5os5qt}ft{17su5tu5ot}7m{5os}fv{17su5tu5ot}fw{17su5tu5ot}}}"),ZapfDingbats:u("{'widths'{k4u2k1w'fof'6o}'kerning'{'fof'-6o}}"),"Courier-Bold":u("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Times-Italic":u("{'widths'{k3n2q4ycx2l201n3m201o5t201s2l201t2l201u2l201w3r201x3r201y3r2k1t2l2l202m2n2n3m2o3m2p5n202q5t2r1p2s2l2t2l2u3m2v4n2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v2l3w4n3x4n3y4n3z3m4k5w4l3x4m3x4n4m4o4s4p3x4q3x4r4s4s4s4t2l4u2w4v4m4w3r4x5n4y4m4z4s5k3x5l4s5m3x5n3m5o3r5p4s5q3x5r5n5s3x5t3r5u3r5v2r5w1w5x2r5y2u5z3m6k2l6l3m6m3m6n2w6o3m6p2w6q1w6r3m6s3m6t1w6u1w6v2w6w1w6x4s6y3m6z3m7k3m7l3m7m2r7n2r7o1w7p3m7q2w7r4m7s2w7t2w7u2r7v2s7w1v7x2s7y3q202l3mcl3xal2ram3man3mao3map3mar3mas2lat4wau1vav3maw4nay4waz2lbk2sbl4n'fof'6obo2lbp3mbq3obr1tbs2lbu1zbv3mbz3mck3x202k3mcm3xcn3xco3xcp3xcq5tcr4mcs3xct3xcu3xcv3xcw2l2m2ucy2lcz2ldl4mdm4sdn4sdo4sdp4sdq4sds4sdt4sdu4sdv4sdw4sdz3mek3mel3mem3men3meo3mep3meq4mer2wes2wet2weu2wev2wew1wex1wey1wez1wfl3mfm3mfn3mfo3mfp3mfq3mfr4nfs3mft3mfu3mfv3mfw3mfz2w203k6o212m6m2dw2l2cq2l3t3m3u2l17s3r19m3m}'kerning'{cl{5kt4qw}201s{201sw}201t{201tw2wy2yy6q-t}201x{2wy2yy}2k{201tw}2w{7qs4qy7rs5ky7mw5os5qx5ru17su5tu}2x{17ss5ts5os}2y{7qs4qy7rs5ky7mw5os5qx5ru17su5tu}'fof'-6o6t{17ss5ts5qs}7t{5os}3v{5qs}7p{17su5tu5qs}ck{5kt4qw}4l{5kt4qw}cm{5kt4qw}cn{5kt4qw}co{5kt4qw}cp{5kt4qw}6l{4qs5ks5ou5qw5ru17su5tu}17s{2ks}5q{ckvclvcmvcnvcovcpv4lv}5r{ckuclucmucnucoucpu4lu}5t{2ks}6p{4qs5ks5ou5qw5ru17su5tu}ek{4qs5ks5ou5qw5ru17su5tu}el{4qs5ks5ou5qw5ru17su5tu}em{4qs5ks5ou5qw5ru17su5tu}en{4qs5ks5ou5qw5ru17su5tu}eo{4qs5ks5ou5qw5ru17su5tu}ep{4qs5ks5ou5qw5ru17su5tu}es{5ks5qs4qs}et{4qs5ks5ou5qw5ru17su5tu}eu{4qs5ks5qw5ru17su5tu}ev{5ks5qs4qs}ex{17ss5ts5qs}6z{4qv5ks5ou5qw5ru17su5tu}fm{4qv5ks5ou5qw5ru17su5tu}fn{4qv5ks5ou5qw5ru17su5tu}fo{4qv5ks5ou5qw5ru17su5tu}fp{4qv5ks5ou5qw5ru17su5tu}fq{4qv5ks5ou5qw5ru17su5tu}7r{5os}fs{4qv5ks5ou5qw5ru17su5tu}ft{17su5tu5qs}fu{17su5tu5qs}fv{17su5tu5qs}fw{17su5tu5qs}}}"),"Times-Roman":u("{'widths'{k3n2q4ycx2l201n3m201o6o201s2l201t2l201u2l201w2w201x2w201y2w2k1t2l2l202m2n2n3m2o3m2p5n202q6o2r1m2s2l2t2l2u3m2v3s2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v1w3w3s3x3s3y3s3z2w4k5w4l4s4m4m4n4m4o4s4p3x4q3r4r4s4s4s4t2l4u2r4v4s4w3x4x5t4y4s4z4s5k3r5l4s5m4m5n3r5o3x5p4s5q4s5r5y5s4s5t4s5u3x5v2l5w1w5x2l5y2z5z3m6k2l6l2w6m3m6n2w6o3m6p2w6q2l6r3m6s3m6t1w6u1w6v3m6w1w6x4y6y3m6z3m7k3m7l3m7m2l7n2r7o1w7p3m7q3m7r4s7s3m7t3m7u2w7v3k7w1o7x3k7y3q202l3mcl4sal2lam3man3mao3map3mar3mas2lat4wau1vav3maw3say4waz2lbk2sbl3s'fof'6obo2lbp3mbq2xbr1tbs2lbu1zbv3mbz2wck4s202k3mcm4scn4sco4scp4scq5tcr4mcs3xct3xcu3xcv3xcw2l2m2tcy2lcz2ldl4sdm4sdn4sdo4sdp4sdq4sds4sdt4sdu4sdv4sdw4sdz3mek2wel2wem2wen2weo2wep2weq4mer2wes2wet2weu2wev2wew1wex1wey1wez1wfl3mfm3mfn3mfo3mfp3mfq3mfr3sfs3mft3mfu3mfv3mfw3mfz3m203k6o212m6m2dw2l2cq2l3t3m3u1w17s4s19m3m}'kerning'{cl{4qs5ku17sw5ou5qy5rw201ss5tw201ws}201s{201ss}201t{ckw4lwcmwcnwcowcpwclw4wu201ts}2k{201ts}2w{4qs5kw5os5qx5ru17sx5tx}2x{17sw5tw5ou5qu}2y{4qs5kw5os5qx5ru17sx5tx}'fof'-6o7t{ckuclucmucnucoucpu4lu5os5rs}3u{17su5tu5qs}3v{17su5tu5qs}7p{17sw5tw5qs}ck{4qs5ku17sw5ou5qy5rw201ss5tw201ws}4l{4qs5ku17sw5ou5qy5rw201ss5tw201ws}cm{4qs5ku17sw5ou5qy5rw201ss5tw201ws}cn{4qs5ku17sw5ou5qy5rw201ss5tw201ws}co{4qs5ku17sw5ou5qy5rw201ss5tw201ws}cp{4qs5ku17sw5ou5qy5rw201ss5tw201ws}6l{17su5tu5os5qw5rs}17s{2ktclvcmvcnvcovcpv4lv4wuckv}5o{ckwclwcmwcnwcowcpw4lw4wu}5q{ckyclycmycnycoycpy4ly4wu5ms}5r{cktcltcmtcntcotcpt4lt4ws}5t{2ktclvcmvcnvcovcpv4lv4wuckv}7q{cksclscmscnscoscps4ls}6p{17su5tu5qw5rs}ek{5qs5rs}el{17su5tu5os5qw5rs}em{17su5tu5os5qs5rs}en{17su5qs5rs}eo{5qs5rs}ep{17su5tu5os5qw5rs}es{5qs}et{17su5tu5qw5rs}eu{17su5tu5qs5rs}ev{5qs}6z{17sv5tv5os5qx5rs}fm{5os5qt5rs}fn{17sv5tv5os5qx5rs}fo{17sv5tv5os5qx5rs}fp{5os5qt5rs}fq{5os5qt5rs}7r{ckuclucmucnucoucpu4lu5os}fs{17sv5tv5os5qx5rs}ft{17ss5ts5qs}fu{17sw5tw5qs}fv{17sw5tw5qs}fw{17ss5ts5qs}fz{ckuclucmucnucoucpu4lu5os5rs}}}"),"Helvetica-Oblique":u("{'widths'{k3p2q4mcx1w201n3r201o6o201s1q201t1q201u1q201w2l201x2l201y2l2k1w2l1w202m2n2n3r2o3r2p5t202q6o2r1n2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v1w3w3u3x3u3y3u3z3r4k6p4l4m4m4m4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3m4v4m4w3r4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v1w5w1w5x1w5y2z5z3r6k2l6l3r6m3r6n3m6o3r6p3r6q1w6r3r6s3r6t1q6u1q6v3m6w1q6x5n6y3r6z3r7k3r7l3r7m2l7n3m7o1w7p3r7q3m7r4s7s3m7t3m7u3m7v2l7w1u7x2l7y3u202l3rcl4mal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3rbr1wbs2lbu2obv3rbz3xck4m202k3rcm4mcn4mco4mcp4mcq6ocr4scs4mct4mcu4mcv4mcw1w2m2ncy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3mes3ret3reu3rev3rew1wex1wey1wez1wfl3rfm3rfn3rfo3rfp3rfq3rfr3ufs3xft3rfu3rfv3rfw3rfz3m203k6o212m6o2dw2l2cq2l3t3r3u1w17s4m19m3r}'kerning'{5q{4wv}cl{4qs5kw5ow5qs17sv5tv}201t{2wu4w1k2yu}201x{2wu4wy2yu}17s{2ktclucmucnu4otcpu4lu4wycoucku}2w{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}2x{17sy5ty5oy5qs}2y{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}'fof'-6o7p{17sv5tv5ow}ck{4qs5kw5ow5qs17sv5tv}4l{4qs5kw5ow5qs17sv5tv}cm{4qs5kw5ow5qs17sv5tv}cn{4qs5kw5ow5qs17sv5tv}co{4qs5kw5ow5qs17sv5tv}cp{4qs5kw5ow5qs17sv5tv}6l{17sy5ty5ow}do{17st5tt}4z{17st5tt}7s{fst}dm{17st5tt}dn{17st5tt}5o{ckwclwcmwcnwcowcpw4lw4wv}dp{17st5tt}dq{17st5tt}7t{5ow}ds{17st5tt}5t{2ktclucmucnu4otcpu4lu4wycoucku}fu{17sv5tv5ow}6p{17sy5ty5ow5qs}ek{17sy5ty5ow}el{17sy5ty5ow}em{17sy5ty5ow}en{5ty}eo{17sy5ty5ow}ep{17sy5ty5ow}es{17sy5ty5qs}et{17sy5ty5ow5qs}eu{17sy5ty5ow5qs}ev{17sy5ty5ow5qs}6z{17sy5ty5ow5qs}fm{17sy5ty5ow5qs}fn{17sy5ty5ow5qs}fo{17sy5ty5ow5qs}fp{17sy5ty5qs}fq{17sy5ty5ow5qs}7r{5ow}fs{17sy5ty5ow5qs}ft{17sv5tv5ow}7m{5ow}fv{17sv5tv5ow}fw{17sv5tv5ow}}}")}};e.events.push(["addFont",function(g){var x=g.font,b=m.Unicode[x.postScriptName];b&&(x.metadata.Unicode={},x.metadata.Unicode.widths=b.widths,x.metadata.Unicode.kerning=b.kerning);var v=h.Unicode[x.postScriptName];v&&(x.metadata.Unicode.encoding=v,x.encoding=v.codePages[0])}])})(Kt.API),(function(e){var t=function(r){for(var n=r.length,a=new Uint8Array(n),i=0;i<n;i++)a[i]=r.charCodeAt(i);return a};e.API.events.push(["addFont",function(r){var n=void 0,a=r.font,i=r.instance;if(!a.isStandardFont){if(i===void 0)throw new Error("Font does not exist in vFS, import fonts or remove declaration doc.addFont('"+a.postScriptName+"').");if(typeof(n=i.existsFileInVFS(a.postScriptName)===!1?i.loadFile(a.postScriptName):i.getFileFromVFS(a.postScriptName))!="string")throw new Error("Font is not stored as string-data in vFS, import fonts or remove declaration doc.addFont('"+a.postScriptName+"').");(function(l,o){o=/^\x00\x01\x00\x00/.test(o)?t(o):t(Iv(o)),l.metadata=e.API.TTFFont.open(o),l.metadata.Unicode=l.metadata.Unicode||{encoding:{},kerning:{},widths:[]},l.metadata.glyIdsUsed=[0]})(a,n)}}])})(Kt),Kt.API.addSvgAsImage=function(e,t,r,n,a,i,l,o){if(isNaN(t)||isNaN(r))throw Rn.error("jsPDF.addSvgAsImage: Invalid coordinates",arguments),new Error("Invalid coordinates passed to jsPDF.addSvgAsImage");if(isNaN(n)||isNaN(a))throw Rn.error("jsPDF.addSvgAsImage: Invalid measurements",arguments),new Error("Invalid measurements (width and/or height) passed to jsPDF.addSvgAsImage");var u=document.createElement("canvas");u.width=n,u.height=a;var f=u.getContext("2d");f.fillStyle="#fff",f.fillRect(0,0,u.width,u.height);var h={ignoreMouse:!0,ignoreAnimation:!0,ignoreDimensions:!0},m=this;return(pr.canvg?Promise.resolve(pr.canvg):bw(()=>import("./index.es-DKecXKAB.js"),[])).catch(function(g){return Promise.reject(new Error("Could not load canvg: "+g))}).then(function(g){return g.default?g.default:g}).then(function(g){return g.fromString(f,e,h)},function(){return Promise.reject(new Error("Could not load canvg."))}).then(function(g){return g.render(h)}).then(function(){m.addImage(u.toDataURL("image/jpeg",1),t,r,n,a,l,o)})},Kt.API.putTotalPages=function(e){var t,r=0;parseInt(this.internal.getFont().id.substr(1),10)<15?(t=new RegExp(e,"g"),r=this.internal.getNumberOfPages()):(t=new RegExp(this.pdfEscape16(e,this.internal.getFont()),"g"),r=this.pdfEscape16(this.internal.getNumberOfPages()+"",this.internal.getFont()));for(var n=1;n<=this.internal.getNumberOfPages();n++)for(var a=0;a<this.internal.pages[n].length;a++)this.internal.pages[n][a]=this.internal.pages[n][a].replace(t,r);return this},Kt.API.viewerPreferences=function(e,t){var r;e=e||{},t=t||!1;var n,a,i,l={HideToolbar:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},HideMenubar:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},HideWindowUI:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},FitWindow:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},CenterWindow:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},DisplayDocTitle:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.4},NonFullScreenPageMode:{defaultValue:"UseNone",value:"UseNone",type:"name",explicitSet:!1,valueSet:["UseNone","UseOutlines","UseThumbs","UseOC"],pdfVersion:1.3},Direction:{defaultValue:"L2R",value:"L2R",type:"name",explicitSet:!1,valueSet:["L2R","R2L"],pdfVersion:1.3},ViewArea:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},ViewClip:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},PrintArea:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},PrintClip:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},PrintScaling:{defaultValue:"AppDefault",value:"AppDefault",type:"name",explicitSet:!1,valueSet:["AppDefault","None"],pdfVersion:1.6},Duplex:{defaultValue:"",value:"none",type:"name",explicitSet:!1,valueSet:["Simplex","DuplexFlipShortEdge","DuplexFlipLongEdge","none"],pdfVersion:1.7},PickTrayByPDFSize:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.7},PrintPageRange:{defaultValue:"",value:"",type:"array",explicitSet:!1,valueSet:null,pdfVersion:1.7},NumCopies:{defaultValue:1,value:1,type:"integer",explicitSet:!1,valueSet:null,pdfVersion:1.7}},o=Object.keys(l),u=[],f=0,h=0,m=0;function g(b,v){var w,N=!1;for(w=0;w<b.length;w+=1)b[w]===v&&(N=!0);return N}if(this.internal.viewerpreferences===void 0&&(this.internal.viewerpreferences={},this.internal.viewerpreferences.configuration=JSON.parse(JSON.stringify(l)),this.internal.viewerpreferences.isSubscribed=!1),r=this.internal.viewerpreferences.configuration,e==="reset"||t===!0){var x=o.length;for(m=0;m<x;m+=1)r[o[m]].value=r[o[m]].defaultValue,r[o[m]].explicitSet=!1}if(Nn(e)==="object"){for(a in e)if(i=e[a],g(o,a)&&i!==void 0){if(r[a].type==="boolean"&&typeof i=="boolean")r[a].value=i;else if(r[a].type==="name"&&g(r[a].valueSet,i))r[a].value=i;else if(r[a].type==="integer"&&Number.isInteger(i))r[a].value=i;else if(r[a].type==="array"){for(f=0;f<i.length;f+=1)if(n=!0,i[f].length===1&&typeof i[f][0]=="number")u.push(String(i[f]-1));else if(i[f].length>1){for(h=0;h<i[f].length;h+=1)typeof i[f][h]!="number"&&(n=!1);n===!0&&u.push([i[f][0]-1,i[f][1]-1].join(" "))}r[a].value="["+u.join(" ")+"]"}else r[a].value=r[a].defaultValue;r[a].explicitSet=!0}}return this.internal.viewerpreferences.isSubscribed===!1&&(this.internal.events.subscribe("putCatalog",function(){var b,v=[];for(b in r)r[b].explicitSet===!0&&(r[b].type==="name"?v.push("/"+b+" /"+r[b].value):v.push("/"+b+" "+r[b].value));v.length!==0&&this.internal.write(`/ViewerPreferences
<<
`+v.join(`
`)+`
>>`)}),this.internal.viewerpreferences.isSubscribed=!0),this.internal.viewerpreferences.configuration=r,this},(function(e){var t=function(){var n='<rdf:RDF xmlns:rdf="http://www.w3.org/1999/02/22-rdf-syntax-ns#"><rdf:Description rdf:about="" xmlns:jspdf="'+this.internal.__metadata__.namespaceuri+'"><jspdf:metadata>',a=unescape(encodeURIComponent('<x:xmpmeta xmlns:x="adobe:ns:meta/">')),i=unescape(encodeURIComponent(n)),l=unescape(encodeURIComponent(this.internal.__metadata__.metadata)),o=unescape(encodeURIComponent("</jspdf:metadata></rdf:Description></rdf:RDF>")),u=unescape(encodeURIComponent("</x:xmpmeta>")),f=i.length+l.length+o.length+a.length+u.length;this.internal.__metadata__.metadata_object_number=this.internal.newObject(),this.internal.write("<< /Type /Metadata /Subtype /XML /Length "+f+" >>"),this.internal.write("stream"),this.internal.write(a+i+l+o+u),this.internal.write("endstream"),this.internal.write("endobj")},r=function(){this.internal.__metadata__.metadata_object_number&&this.internal.write("/Metadata "+this.internal.__metadata__.metadata_object_number+" 0 R")};e.addMetadata=function(n,a){return this.internal.__metadata__===void 0&&(this.internal.__metadata__={metadata:n,namespaceuri:a||"http://jspdf.default.namespaceuri/"},this.internal.events.subscribe("putCatalog",r),this.internal.events.subscribe("postPutResources",t)),this}})(Kt.API),(function(e){var t=e.API,r=t.pdfEscape16=function(i,l){for(var o,u=l.metadata.Unicode.widths,f=["","0","00","000","0000"],h=[""],m=0,g=i.length;m<g;++m){if(o=l.metadata.characterToGlyph(i.charCodeAt(m)),l.metadata.glyIdsUsed.push(o),l.metadata.toUnicode[o]=i.charCodeAt(m),u.indexOf(o)==-1&&(u.push(o),u.push([parseInt(l.metadata.widthOfGlyph(o),10)])),o=="0")return h.join("");o=o.toString(16),h.push(f[4-o.length],o)}return h.join("")},n=function(i){var l,o,u,f,h,m,g;for(h=`/CIDInit /ProcSet findresource begin
12 dict begin
begincmap
/CIDSystemInfo <<
  /Registry (Adobe)
  /Ordering (UCS)
  /Supplement 0
>> def
/CMapName /Adobe-Identity-UCS def
/CMapType 2 def
1 begincodespacerange
<0000><ffff>
endcodespacerange`,u=[],m=0,g=(o=Object.keys(i).sort(function(x,b){return x-b})).length;m<g;m++)l=o[m],u.length>=100&&(h+=`
`+u.length+` beginbfchar
`+u.join(`
`)+`
endbfchar`,u=[]),i[l]!==void 0&&i[l]!==null&&typeof i[l].toString=="function"&&(f=("0000"+i[l].toString(16)).slice(-4),l=("0000"+(+l).toString(16)).slice(-4),u.push("<"+l+"><"+f+">"));return u.length&&(h+=`
`+u.length+` beginbfchar
`+u.join(`
`)+`
endbfchar
`),h+`endcmap
CMapName currentdict /CMap defineresource pop
end
end`};t.events.push(["putFont",function(i){(function(l){var o=l.font,u=l.out,f=l.newObject,h=l.putStream;if(o.metadata instanceof e.API.TTFFont&&o.encoding==="Identity-H"){for(var m=o.metadata.Unicode.widths,g=o.metadata.subset.encode(o.metadata.glyIdsUsed,1),x="",b=0;b<g.length;b++)x+=String.fromCharCode(g[b]);var v=f();h({data:x,addLength1:!0,objectId:v}),u("endobj");var w=f();h({data:n(o.metadata.toUnicode),addLength1:!0,objectId:w}),u("endobj");var N=f();u("<<"),u("/Type /FontDescriptor"),u("/FontName /"+wm(o.fontName)),u("/FontFile2 "+v+" 0 R"),u("/FontBBox "+e.API.PDFObject.convert(o.metadata.bbox)),u("/Flags "+o.metadata.flags),u("/StemV "+o.metadata.stemV),u("/ItalicAngle "+o.metadata.italicAngle),u("/Ascent "+o.metadata.ascender),u("/Descent "+o.metadata.decender),u("/CapHeight "+o.metadata.capHeight),u(">>"),u("endobj");var E=f();u("<<"),u("/Type /Font"),u("/BaseFont /"+wm(o.fontName)),u("/FontDescriptor "+N+" 0 R"),u("/W "+e.API.PDFObject.convert(m)),u("/CIDToGIDMap /Identity"),u("/DW 1000"),u("/Subtype /CIDFontType2"),u("/CIDSystemInfo"),u("<<"),u("/Supplement 0"),u("/Registry (Adobe)"),u("/Ordering ("+o.encoding+")"),u(">>"),u(">>"),u("endobj"),o.objectNumber=f(),u("<<"),u("/Type /Font"),u("/Subtype /Type0"),u("/ToUnicode "+w+" 0 R"),u("/BaseFont /"+wm(o.fontName)),u("/Encoding /"+o.encoding),u("/DescendantFonts ["+E+" 0 R]"),u(">>"),u("endobj"),o.isAlreadyPutted=!0}})(i)}]),t.events.push(["putFont",function(i){(function(l){var o=l.font,u=l.out,f=l.newObject,h=l.putStream;if(o.metadata instanceof e.API.TTFFont&&o.encoding==="WinAnsiEncoding"){for(var m=o.metadata.rawData,g="",x=0;x<m.length;x++)g+=String.fromCharCode(m[x]);var b=f();h({data:g,addLength1:!0,objectId:b}),u("endobj");var v=f();h({data:n(o.metadata.toUnicode),addLength1:!0,objectId:v}),u("endobj");var w=f();u("<<"),u("/Descent "+o.metadata.decender),u("/CapHeight "+o.metadata.capHeight),u("/StemV "+o.metadata.stemV),u("/Type /FontDescriptor"),u("/FontFile2 "+b+" 0 R"),u("/Flags 96"),u("/FontBBox "+e.API.PDFObject.convert(o.metadata.bbox)),u("/FontName /"+wm(o.fontName)),u("/ItalicAngle "+o.metadata.italicAngle),u("/Ascent "+o.metadata.ascender),u(">>"),u("endobj"),o.objectNumber=f();for(var N=0;N<o.metadata.hmtx.widths.length;N++)o.metadata.hmtx.widths[N]=parseInt(o.metadata.hmtx.widths[N]*(1e3/o.metadata.head.unitsPerEm));u("<</Subtype/TrueType/Type/Font/ToUnicode "+v+" 0 R/BaseFont/"+wm(o.fontName)+"/FontDescriptor "+w+" 0 R/Encoding/"+o.encoding+" /FirstChar 29 /LastChar 255 /Widths "+e.API.PDFObject.convert(o.metadata.hmtx.widths)+">>"),u("endobj"),o.isAlreadyPutted=!0}})(i)}]);var a=function(i){var l,o=i.text||"",u=i.x,f=i.y,h=i.options||{},m=i.mutex||{},g=m.pdfEscape,x=m.activeFontKey,b=m.fonts,v=x,w="",N=0,E="",j=b[v].encoding;if(b[v].encoding!=="Identity-H")return{text:o,x:u,y:f,options:h,mutex:m};for(E=o,v=x,Array.isArray(o)&&(E=o[0]),N=0;N<E.length;N+=1)b[v].metadata.hasOwnProperty("cmap")&&(l=b[v].metadata.cmap.unicode.codeMap[E[N].charCodeAt(0)]),l||E[N].charCodeAt(0)<256&&b[v].metadata.hasOwnProperty("Unicode")?w+=E[N]:w+="";var T="";return parseInt(v.slice(1))<14||j==="WinAnsiEncoding"?T=g(w,v).split("").map(function(O){return O.charCodeAt(0).toString(16)}).join(""):j==="Identity-H"&&(T=r(w,b[v])),m.isHex=!0,{text:T,x:u,y:f,options:h,mutex:m}};t.events.push(["postProcessText",function(i){var l=i.text||"",o=[],u={text:l,x:i.x,y:i.y,options:i.options,mutex:i.mutex};if(Array.isArray(l)){var f=0;for(f=0;f<l.length;f+=1)Array.isArray(l[f])&&l[f].length===3?o.push([a(Object.assign({},u,{text:l[f][0]})).text,l[f][1],l[f][2]]):o.push(a(Object.assign({},u,{text:l[f]})).text);i.text=o}else i.text=a(Object.assign({},u,{text:l})).text}])})(Kt),(function(e){var t=function(){return this.internal.vFS===void 0&&(this.internal.vFS={}),!0};e.existsFileInVFS=function(r){return t.call(this),this.internal.vFS[r]!==void 0},e.addFileToVFS=function(r,n){return t.call(this),this.internal.vFS[r]=n,this},e.getFileFromVFS=function(r){return t.call(this),this.internal.vFS[r]!==void 0?this.internal.vFS[r]:null}})(Kt.API),(function(e){e.__bidiEngine__=e.prototype.__bidiEngine__=function(n){var a,i,l,o,u,f,h,m=t,g=[[0,3,0,1,0,0,0],[0,3,0,1,2,2,0],[0,3,0,17,2,0,1],[0,3,5,5,4,1,0],[0,3,21,21,4,0,1],[0,3,5,5,4,2,0]],x=[[2,0,1,1,0,1,0],[2,0,1,1,0,2,0],[2,0,2,1,3,2,0],[2,0,2,33,3,1,1]],b={L:0,R:1,EN:2,AN:3,N:4,B:5,S:6},v={0:0,5:1,6:2,7:3,32:4,251:5,254:6,255:7},w=["(",")","(","<",">","<","[","]","[","{","}","{","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","",""],N=new RegExp(/^([1-4|9]|1[0-9]|2[0-9]|3[0168]|4[04589]|5[012]|7[78]|159|16[0-9]|17[0-2]|21[569]|22[03489]|250)$/),E=!1,j=0;this.__bidiEngine__={};var T=function(P){var U=P.charCodeAt(),K=U>>8,ee=v[K];return ee!==void 0?m[256*ee+(255&U)]:K===252||K===253?"AL":N.test(K)?"L":K===8?"R":"N"},O=function(P){for(var U,K=0;K<P.length;K++){if((U=T(P.charAt(K)))==="L")return!1;if(U==="R")return!0}return!1},F=function(P,U,K,ee){var me,ne,se,ye,ce=U[ee];switch(ce){case"L":case"R":case"LRE":case"RLE":case"LRO":case"RLO":case"PDF":E=!1;break;case"N":case"AN":break;case"EN":E&&(ce="AN");break;case"AL":E=!0,ce="R";break;case"WS":case"BN":ce="N";break;case"CS":ee<1||ee+1>=U.length||(me=K[ee-1])!=="EN"&&me!=="AN"||(ne=U[ee+1])!=="EN"&&ne!=="AN"?ce="N":E&&(ne="AN"),ce=ne===me?ne:"N";break;case"ES":ce=(me=ee>0?K[ee-1]:"B")==="EN"&&ee+1<U.length&&U[ee+1]==="EN"?"EN":"N";break;case"ET":if(ee>0&&K[ee-1]==="EN"){ce="EN";break}if(E){ce="N";break}for(se=ee+1,ye=U.length;se<ye&&U[se]==="ET";)se++;ce=se<ye&&U[se]==="EN"?"EN":"N";break;case"NSM":if(l&&!o){for(ye=U.length,se=ee+1;se<ye&&U[se]==="NSM";)se++;if(se<ye){var Se=P[ee],te=Se>=1425&&Se<=2303||Se===64286;if(me=U[se],te&&(me==="R"||me==="AL")){ce="R";break}}}ce=ee<1||(me=U[ee-1])==="B"?"N":K[ee-1];break;case"B":E=!1,a=!0,ce=j;break;case"S":i=!0,ce="N"}return ce},D=function(P,U,K){var ee=P.split("");return K&&L(ee,K,{hiLevel:j}),ee.reverse(),U&&U.reverse(),ee.join("")},L=function(P,U,K){var ee,me,ne,se,ye,ce=-1,Se=P.length,te=0,M=[],R=j?x:g,q=[];for(E=!1,a=!1,i=!1,me=0;me<Se;me++)q[me]=T(P[me]);for(ne=0;ne<Se;ne++){if(ye=te,M[ne]=F(P,q,M,ne),ee=240&(te=R[ye][b[M[ne]]]),te&=15,U[ne]=se=R[te][5],ee>0)if(ee===16){for(me=ce;me<ne;me++)U[me]=1;ce=-1}else ce=-1;if(R[te][6])ce===-1&&(ce=ne);else if(ce>-1){for(me=ce;me<ne;me++)U[me]=se;ce=-1}q[ne]==="B"&&(U[ne]=0),K.hiLevel|=se}i&&(function(W,J,le){for(var ue=0;ue<le;ue++)if(W[ue]==="S"){J[ue]=j;for(var X=ue-1;X>=0&&W[X]==="WS";X--)J[X]=j}})(q,U,Se)},B=function(P,U,K,ee,me){if(!(me.hiLevel<P)){if(P===1&&j===1&&!a)return U.reverse(),void(K&&K.reverse());for(var ne,se,ye,ce,Se=U.length,te=0;te<Se;){if(ee[te]>=P){for(ye=te+1;ye<Se&&ee[ye]>=P;)ye++;for(ce=te,se=ye-1;ce<se;ce++,se--)ne=U[ce],U[ce]=U[se],U[se]=ne,K&&(ne=K[ce],K[ce]=K[se],K[se]=ne);te=ye}te++}}},H=function(P,U,K){var ee=P.split(""),me={hiLevel:j};return K||(K=[]),L(ee,K,me),(function(ne,se,ye){if(ye.hiLevel!==0&&h)for(var ce,Se=0;Se<ne.length;Se++)se[Se]===1&&(ce=w.indexOf(ne[Se]))>=0&&(ne[Se]=w[ce+1])})(ee,K,me),B(2,ee,U,K,me),B(1,ee,U,K,me),ee.join("")};return this.__bidiEngine__.doBidiReorder=function(P,U,K){if((function(me,ne){if(ne)for(var se=0;se<me.length;se++)ne[se]=se;o===void 0&&(o=O(me)),f===void 0&&(f=O(me))})(P,U),l||!u||f)if(l&&u&&o^f)j=o?1:0,P=D(P,U,K);else if(!l&&u&&f)j=o?1:0,P=H(P,U,K),P=D(P,U);else if(!l||o||u||f){if(l&&!u&&o^f)P=D(P,U),o?(j=0,P=H(P,U,K)):(j=1,P=H(P,U,K),P=D(P,U));else if(l&&o&&!u&&f)j=1,P=H(P,U,K),P=D(P,U);else if(!l&&!u&&o^f){var ee=h;o?(j=1,P=H(P,U,K),j=0,h=!1,P=H(P,U,K),h=ee):(j=0,P=H(P,U,K),P=D(P,U),j=1,h=!1,P=H(P,U,K),h=ee,P=D(P,U))}}else j=0,P=H(P,U,K);else j=o?1:0,P=H(P,U,K);return P},this.__bidiEngine__.setOptions=function(P){P&&(l=P.isInputVisual,u=P.isOutputVisual,o=P.isInputRtl,f=P.isOutputRtl,h=P.isSymmetricSwapping)},this.__bidiEngine__.setOptions(n),this.__bidiEngine__};var t=["BN","BN","BN","BN","BN","BN","BN","BN","BN","S","B","S","WS","B","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","B","B","B","S","WS","N","N","ET","ET","ET","N","N","N","N","N","ES","CS","ES","CS","CS","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","CS","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","BN","BN","BN","BN","BN","BN","B","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","CS","N","ET","ET","ET","ET","N","N","N","N","L","N","N","BN","N","N","ET","ET","EN","EN","N","L","N","N","N","EN","L","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","N","N","N","N","N","ET","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","R","NSM","R","NSM","NSM","R","NSM","NSM","R","NSM","N","N","N","N","N","N","N","N","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","N","N","N","N","N","R","R","R","R","R","N","N","N","N","N","N","N","N","N","N","N","AN","AN","AN","AN","AN","AN","N","N","AL","ET","ET","AL","CS","AL","N","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AL","AL","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AN","AN","AN","AN","AN","AN","AN","AN","AN","AN","ET","AN","AN","AL","AL","AL","NSM","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AN","N","NSM","NSM","NSM","NSM","NSM","NSM","AL","AL","NSM","NSM","N","NSM","NSM","NSM","NSM","AL","AL","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","N","AL","AL","NSM","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AL","N","N","N","N","N","N","N","N","N","N","N","N","N","N","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","R","R","N","N","N","N","R","N","N","N","N","N","WS","WS","WS","WS","WS","WS","WS","WS","WS","WS","WS","BN","BN","BN","L","R","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","WS","B","LRE","RLE","PDF","LRO","RLO","CS","ET","ET","ET","ET","ET","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","CS","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","WS","BN","BN","BN","BN","BN","N","LRI","RLI","FSI","PDI","BN","BN","BN","BN","BN","BN","EN","L","N","N","EN","EN","EN","EN","EN","EN","ES","ES","N","N","N","L","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","ES","ES","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","L","L","L","L","L","L","L","N","N","N","N","N","N","N","N","N","N","N","N","L","L","L","L","L","N","N","N","N","N","R","NSM","R","R","R","R","R","R","R","R","R","R","ES","R","R","R","R","R","R","R","R","R","R","R","R","R","N","R","R","R","R","R","N","R","N","R","R","N","R","R","N","R","R","R","R","R","R","R","R","R","R","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","CS","N","CS","N","N","CS","N","N","N","N","N","N","N","N","N","ET","N","N","ES","ES","N","N","N","N","N","ET","ET","N","N","N","N","N","AL","AL","AL","AL","AL","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","N","N","BN","N","N","N","ET","ET","ET","N","N","N","N","N","ES","CS","ES","CS","CS","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","CS","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","N","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","L","L","L","L","L","L","N","N","L","L","L","L","L","L","N","N","L","L","L","L","L","L","N","N","L","L","L","N","N","N","ET","ET","N","N","N","ET","ET","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N"],r=new e.__bidiEngine__({isInputVisual:!0});e.API.events.push(["postProcessText",function(n){var a=n.text;n.x,n.y;var i=n.options||{};n.mutex,i.lang;var l=[];if(i.isInputVisual=typeof i.isInputVisual!="boolean"||i.isInputVisual,r.setOptions(i),Object.prototype.toString.call(a)==="[object Array]"){var o=0;for(l=[],o=0;o<a.length;o+=1)Object.prototype.toString.call(a[o])==="[object Array]"?l.push([r.doBidiReorder(a[o][0]),a[o][1],a[o][2]]):l.push([r.doBidiReorder(a[o])]);n.text=l}else n.text=r.doBidiReorder(a);r.setOptions({isInputVisual:!0})}])})(Kt),Kt.API.TTFFont=(function(){function e(t){var r;if(this.rawData=t,r=this.contents=new Pd(t),this.contents.pos=4,r.readString(4)==="ttcf")throw new Error("TTCF not supported.");r.pos=0,this.parse(),this.subset=new fNe(this),this.registerTTF()}return e.open=function(t){return new e(t)},e.prototype.parse=function(){return this.directory=new Q4e(this.contents),this.head=new J4e(this),this.name=new aNe(this),this.cmap=new tU(this),this.toUnicode={},this.hhea=new eNe(this),this.maxp=new iNe(this),this.hmtx=new sNe(this),this.post=new rNe(this),this.os2=new tNe(this),this.loca=new uNe(this),this.glyf=new lNe(this),this.ascender=this.os2.exists&&this.os2.ascender||this.hhea.ascender,this.decender=this.os2.exists&&this.os2.decender||this.hhea.decender,this.lineGap=this.os2.exists&&this.os2.lineGap||this.hhea.lineGap,this.bbox=[this.head.xMin,this.head.yMin,this.head.xMax,this.head.yMax]},e.prototype.registerTTF=function(){var t,r,n,a,i;if(this.scaleFactor=1e3/this.head.unitsPerEm,this.bbox=(function(){var l,o,u,f;for(f=[],l=0,o=(u=this.bbox).length;l<o;l++)t=u[l],f.push(Math.round(t*this.scaleFactor));return f}).call(this),this.stemV=0,this.post.exists?(n=255&(a=this.post.italic_angle),32768&(r=a>>16)&&(r=-(1+(65535^r))),this.italicAngle=+(r+"."+n)):this.italicAngle=0,this.ascender=Math.round(this.ascender*this.scaleFactor),this.decender=Math.round(this.decender*this.scaleFactor),this.lineGap=Math.round(this.lineGap*this.scaleFactor),this.capHeight=this.os2.exists&&this.os2.capHeight||this.ascender,this.xHeight=this.os2.exists&&this.os2.xHeight||0,this.familyClass=(this.os2.exists&&this.os2.familyClass||0)>>8,this.isSerif=(i=this.familyClass)===1||i===2||i===3||i===4||i===5||i===7,this.isScript=this.familyClass===10,this.flags=0,this.post.isFixedPitch&&(this.flags|=1),this.isSerif&&(this.flags|=2),this.isScript&&(this.flags|=8),this.italicAngle!==0&&(this.flags|=64),this.flags|=32,!this.cmap.unicode)throw new Error("No unicode cmap for font")},e.prototype.characterToGlyph=function(t){var r;return((r=this.cmap.unicode)!=null?r.codeMap[t]:void 0)||0},e.prototype.widthOfGlyph=function(t){var r;return r=1e3/this.head.unitsPerEm,this.hmtx.forGlyph(t).advance*r},e.prototype.widthOfString=function(t,r,n){var a,i,l,o;for(l=0,i=0,o=(t=""+t).length;0<=o?i<o:i>o;i=0<=o?++i:--i)a=t.charCodeAt(i),l+=this.widthOfGlyph(this.characterToGlyph(a))+n*(1e3/r)||0;return l*(r/1e3)},e.prototype.lineHeight=function(t,r){var n;return r==null&&(r=!1),n=r?this.lineGap:0,(this.ascender+n-this.decender)/1e3*t},e})();var Mc,Pd=(function(){function e(t){this.data=t??[],this.pos=0,this.length=this.data.length}return e.prototype.readByte=function(){return this.data[this.pos++]},e.prototype.writeByte=function(t){return this.data[this.pos++]=t},e.prototype.readUInt32=function(){return 16777216*this.readByte()+(this.readByte()<<16)+(this.readByte()<<8)+this.readByte()},e.prototype.writeUInt32=function(t){return this.writeByte(t>>>24&255),this.writeByte(t>>16&255),this.writeByte(t>>8&255),this.writeByte(255&t)},e.prototype.readInt32=function(){var t;return(t=this.readUInt32())>=2147483648?t-4294967296:t},e.prototype.writeInt32=function(t){return t<0&&(t+=4294967296),this.writeUInt32(t)},e.prototype.readUInt16=function(){return this.readByte()<<8|this.readByte()},e.prototype.writeUInt16=function(t){return this.writeByte(t>>8&255),this.writeByte(255&t)},e.prototype.readInt16=function(){var t;return(t=this.readUInt16())>=32768?t-65536:t},e.prototype.writeInt16=function(t){return t<0&&(t+=65536),this.writeUInt16(t)},e.prototype.readString=function(t){var r,n;for(n=[],r=0;0<=t?r<t:r>t;r=0<=t?++r:--r)n[r]=String.fromCharCode(this.readByte());return n.join("")},e.prototype.writeString=function(t){var r,n,a;for(a=[],r=0,n=t.length;0<=n?r<n:r>n;r=0<=n?++r:--r)a.push(this.writeByte(t.charCodeAt(r)));return a},e.prototype.readShort=function(){return this.readInt16()},e.prototype.writeShort=function(t){return this.writeInt16(t)},e.prototype.readLongLong=function(){var t,r,n,a,i,l,o,u;return t=this.readByte(),r=this.readByte(),n=this.readByte(),a=this.readByte(),i=this.readByte(),l=this.readByte(),o=this.readByte(),u=this.readByte(),128&t?-1*(72057594037927940*(255^t)+281474976710656*(255^r)+1099511627776*(255^n)+4294967296*(255^a)+16777216*(255^i)+65536*(255^l)+256*(255^o)+(255^u)+1):72057594037927940*t+281474976710656*r+1099511627776*n+4294967296*a+16777216*i+65536*l+256*o+u},e.prototype.writeLongLong=function(t){var r,n;return r=Math.floor(t/4294967296),n=4294967295&t,this.writeByte(r>>24&255),this.writeByte(r>>16&255),this.writeByte(r>>8&255),this.writeByte(255&r),this.writeByte(n>>24&255),this.writeByte(n>>16&255),this.writeByte(n>>8&255),this.writeByte(255&n)},e.prototype.readInt=function(){return this.readInt32()},e.prototype.writeInt=function(t){return this.writeInt32(t)},e.prototype.read=function(t){var r,n;for(r=[],n=0;0<=t?n<t:n>t;n=0<=t?++n:--n)r.push(this.readByte());return r},e.prototype.write=function(t){var r,n,a,i;for(i=[],n=0,a=t.length;n<a;n++)r=t[n],i.push(this.writeByte(r));return i},e})(),Q4e=(function(){var e;function t(r){var n,a,i;for(this.scalarType=r.readInt(),this.tableCount=r.readShort(),this.searchRange=r.readShort(),this.entrySelector=r.readShort(),this.rangeShift=r.readShort(),this.tables={},a=0,i=this.tableCount;0<=i?a<i:a>i;a=0<=i?++a:--a)n={tag:r.readString(4),checksum:r.readInt(),offset:r.readInt(),length:r.readInt()},this.tables[n.tag]=n}return t.prototype.encode=function(r){var n,a,i,l,o,u,f,h,m,g,x,b,v;for(v in x=Object.keys(r).length,u=Math.log(2),m=16*Math.floor(Math.log(x)/u),l=Math.floor(m/u),h=16*x-m,(a=new Pd).writeInt(this.scalarType),a.writeShort(x),a.writeShort(m),a.writeShort(l),a.writeShort(h),i=16*x,f=a.pos+i,o=null,b=[],r)for(g=r[v],a.writeString(v),a.writeInt(e(g)),a.writeInt(f),a.writeInt(g.length),b=b.concat(g),v==="head"&&(o=f),f+=g.length;f%4;)b.push(0),f++;return a.write(b),n=2981146554-e(a.data),a.pos=o+8,a.writeUInt32(n),a.data},e=function(r){var n,a,i,l;for(r=rU.call(r);r.length%4;)r.push(0);for(i=new Pd(r),a=0,n=0,l=r.length;n<l;n=n+=4)a+=i.readUInt32();return 4294967295&a},t})(),Z4e={}.hasOwnProperty,gu=function(e,t){for(var r in t)Z4e.call(t,r)&&(e[r]=t[r]);function n(){this.constructor=e}return n.prototype=t.prototype,e.prototype=new n,e.__super__=t.prototype,e};Mc=(function(){function e(t){var r;this.file=t,r=this.file.directory.tables[this.tag],this.exists=!!r,r&&(this.offset=r.offset,this.length=r.length,this.parse(this.file.contents))}return e.prototype.parse=function(){},e.prototype.encode=function(){},e.prototype.raw=function(){return this.exists?(this.file.contents.pos=this.offset,this.file.contents.read(this.length)):null},e})();var J4e=(function(){function e(){return e.__super__.constructor.apply(this,arguments)}return gu(e,Mc),e.prototype.tag="head",e.prototype.parse=function(t){return t.pos=this.offset,this.version=t.readInt(),this.revision=t.readInt(),this.checkSumAdjustment=t.readInt(),this.magicNumber=t.readInt(),this.flags=t.readShort(),this.unitsPerEm=t.readShort(),this.created=t.readLongLong(),this.modified=t.readLongLong(),this.xMin=t.readShort(),this.yMin=t.readShort(),this.xMax=t.readShort(),this.yMax=t.readShort(),this.macStyle=t.readShort(),this.lowestRecPPEM=t.readShort(),this.fontDirectionHint=t.readShort(),this.indexToLocFormat=t.readShort(),this.glyphDataFormat=t.readShort()},e.prototype.encode=function(t){var r;return(r=new Pd).writeInt(this.version),r.writeInt(this.revision),r.writeInt(this.checkSumAdjustment),r.writeInt(this.magicNumber),r.writeShort(this.flags),r.writeShort(this.unitsPerEm),r.writeLongLong(this.created),r.writeLongLong(this.modified),r.writeShort(this.xMin),r.writeShort(this.yMin),r.writeShort(this.xMax),r.writeShort(this.yMax),r.writeShort(this.macStyle),r.writeShort(this.lowestRecPPEM),r.writeShort(this.fontDirectionHint),r.writeShort(t),r.writeShort(this.glyphDataFormat),r.data},e})(),aD=(function(){function e(t,r){var n,a,i,l,o,u,f,h,m,g,x,b,v,w,N,E,j;switch(this.platformID=t.readUInt16(),this.encodingID=t.readShort(),this.offset=r+t.readInt(),m=t.pos,t.pos=this.offset,this.format=t.readUInt16(),this.length=t.readUInt16(),this.language=t.readUInt16(),this.isUnicode=this.platformID===3&&this.encodingID===1&&this.format===4||this.platformID===0&&this.format===4,this.codeMap={},this.format){case 0:for(u=0;u<256;++u)this.codeMap[u]=t.readByte();break;case 4:for(x=t.readUInt16(),g=x/2,t.pos+=6,i=(function(){var T,O;for(O=[],u=T=0;0<=g?T<g:T>g;u=0<=g?++T:--T)O.push(t.readUInt16());return O})(),t.pos+=2,v=(function(){var T,O;for(O=[],u=T=0;0<=g?T<g:T>g;u=0<=g?++T:--T)O.push(t.readUInt16());return O})(),f=(function(){var T,O;for(O=[],u=T=0;0<=g?T<g:T>g;u=0<=g?++T:--T)O.push(t.readUInt16());return O})(),h=(function(){var T,O;for(O=[],u=T=0;0<=g?T<g:T>g;u=0<=g?++T:--T)O.push(t.readUInt16());return O})(),a=(this.length-t.pos+this.offset)/2,o=(function(){var T,O;for(O=[],u=T=0;0<=a?T<a:T>a;u=0<=a?++T:--T)O.push(t.readUInt16());return O})(),u=N=0,j=i.length;N<j;u=++N)for(w=i[u],n=E=b=v[u];b<=w?E<=w:E>=w;n=b<=w?++E:--E)h[u]===0?l=n+f[u]:(l=o[h[u]/2+(n-b)-(g-u)]||0)!==0&&(l+=f[u]),this.codeMap[n]=65535&l}t.pos=m}return e.encode=function(t,r){var n,a,i,l,o,u,f,h,m,g,x,b,v,w,N,E,j,T,O,F,D,L,B,H,P,U,K,ee,me,ne,se,ye,ce,Se,te,M,R,q,W,J,le,ue,X,ge,Te,Y;switch(ee=new Pd,l=Object.keys(t).sort(function(We,Ee){return We-Ee}),r){case"macroman":for(v=0,w=(function(){var We=[];for(b=0;b<256;++b)We.push(0);return We})(),E={0:0},i={},me=0,ce=l.length;me<ce;me++)E[X=t[a=l[me]]]==null&&(E[X]=++v),i[a]={old:t[a],new:E[t[a]]},w[a]=E[t[a]];return ee.writeUInt16(1),ee.writeUInt16(0),ee.writeUInt32(12),ee.writeUInt16(0),ee.writeUInt16(262),ee.writeUInt16(0),ee.write(w),{charMap:i,subtable:ee.data,maxGlyphID:v+1};case"unicode":for(U=[],m=[],j=0,E={},n={},N=f=null,ne=0,Se=l.length;ne<Se;ne++)E[O=t[a=l[ne]]]==null&&(E[O]=++j),n[a]={old:O,new:E[O]},o=E[O]-a,N!=null&&o===f||(N&&m.push(N),U.push(a),f=o),N=a;for(N&&m.push(N),m.push(65535),U.push(65535),H=2*(B=U.length),L=2*Math.pow(Math.log(B)/Math.LN2,2),g=Math.log(L/2)/Math.LN2,D=2*B-L,u=[],F=[],x=[],b=se=0,te=U.length;se<te;b=++se){if(P=U[b],h=m[b],P===65535){u.push(0),F.push(0);break}if(P-(K=n[P].new)>=32768)for(u.push(0),F.push(2*(x.length+B-b)),a=ye=P;P<=h?ye<=h:ye>=h;a=P<=h?++ye:--ye)x.push(n[a].new);else u.push(K-P),F.push(0)}for(ee.writeUInt16(3),ee.writeUInt16(1),ee.writeUInt32(12),ee.writeUInt16(4),ee.writeUInt16(16+8*B+2*x.length),ee.writeUInt16(0),ee.writeUInt16(H),ee.writeUInt16(L),ee.writeUInt16(g),ee.writeUInt16(D),le=0,M=m.length;le<M;le++)a=m[le],ee.writeUInt16(a);for(ee.writeUInt16(0),ue=0,R=U.length;ue<R;ue++)a=U[ue],ee.writeUInt16(a);for(ge=0,q=u.length;ge<q;ge++)o=u[ge],ee.writeUInt16(o);for(Te=0,W=F.length;Te<W;Te++)T=F[Te],ee.writeUInt16(T);for(Y=0,J=x.length;Y<J;Y++)v=x[Y],ee.writeUInt16(v);return{charMap:n,subtable:ee.data,maxGlyphID:j+1}}},e})(),tU=(function(){function e(){return e.__super__.constructor.apply(this,arguments)}return gu(e,Mc),e.prototype.tag="cmap",e.prototype.parse=function(t){var r,n,a;for(t.pos=this.offset,this.version=t.readUInt16(),a=t.readUInt16(),this.tables=[],this.unicode=null,n=0;0<=a?n<a:n>a;n=0<=a?++n:--n)r=new aD(t,this.offset),this.tables.push(r),r.isUnicode&&this.unicode==null&&(this.unicode=r);return!0},e.encode=function(t,r){var n,a;return r==null&&(r="macroman"),n=aD.encode(t,r),(a=new Pd).writeUInt16(0),a.writeUInt16(1),n.table=a.data.concat(n.subtable),n},e})(),eNe=(function(){function e(){return e.__super__.constructor.apply(this,arguments)}return gu(e,Mc),e.prototype.tag="hhea",e.prototype.parse=function(t){return t.pos=this.offset,this.version=t.readInt(),this.ascender=t.readShort(),this.decender=t.readShort(),this.lineGap=t.readShort(),this.advanceWidthMax=t.readShort(),this.minLeftSideBearing=t.readShort(),this.minRightSideBearing=t.readShort(),this.xMaxExtent=t.readShort(),this.caretSlopeRise=t.readShort(),this.caretSlopeRun=t.readShort(),this.caretOffset=t.readShort(),t.pos+=8,this.metricDataFormat=t.readShort(),this.numberOfMetrics=t.readUInt16()},e})(),tNe=(function(){function e(){return e.__super__.constructor.apply(this,arguments)}return gu(e,Mc),e.prototype.tag="OS/2",e.prototype.parse=function(t){if(t.pos=this.offset,this.version=t.readUInt16(),this.averageCharWidth=t.readShort(),this.weightClass=t.readUInt16(),this.widthClass=t.readUInt16(),this.type=t.readShort(),this.ySubscriptXSize=t.readShort(),this.ySubscriptYSize=t.readShort(),this.ySubscriptXOffset=t.readShort(),this.ySubscriptYOffset=t.readShort(),this.ySuperscriptXSize=t.readShort(),this.ySuperscriptYSize=t.readShort(),this.ySuperscriptXOffset=t.readShort(),this.ySuperscriptYOffset=t.readShort(),this.yStrikeoutSize=t.readShort(),this.yStrikeoutPosition=t.readShort(),this.familyClass=t.readShort(),this.panose=(function(){var r,n;for(n=[],r=0;r<10;++r)n.push(t.readByte());return n})(),this.charRange=(function(){var r,n;for(n=[],r=0;r<4;++r)n.push(t.readInt());return n})(),this.vendorID=t.readString(4),this.selection=t.readShort(),this.firstCharIndex=t.readShort(),this.lastCharIndex=t.readShort(),this.version>0&&(this.ascent=t.readShort(),this.descent=t.readShort(),this.lineGap=t.readShort(),this.winAscent=t.readShort(),this.winDescent=t.readShort(),this.codePageRange=(function(){var r,n;for(n=[],r=0;r<2;r=++r)n.push(t.readInt());return n})(),this.version>1))return this.xHeight=t.readShort(),this.capHeight=t.readShort(),this.defaultChar=t.readShort(),this.breakChar=t.readShort(),this.maxContext=t.readShort()},e})(),rNe=(function(){function e(){return e.__super__.constructor.apply(this,arguments)}return gu(e,Mc),e.prototype.tag="post",e.prototype.parse=function(t){var r,n,a;switch(t.pos=this.offset,this.format=t.readInt(),this.italicAngle=t.readInt(),this.underlinePosition=t.readShort(),this.underlineThickness=t.readShort(),this.isFixedPitch=t.readInt(),this.minMemType42=t.readInt(),this.maxMemType42=t.readInt(),this.minMemType1=t.readInt(),this.maxMemType1=t.readInt(),this.format){case 65536:case 196608:break;case 131072:var i;for(n=t.readUInt16(),this.glyphNameIndex=[],i=0;0<=n?i<n:i>n;i=0<=n?++i:--i)this.glyphNameIndex.push(t.readUInt16());for(this.names=[],a=[];t.pos<this.offset+this.length;)r=t.readByte(),a.push(this.names.push(t.readString(r)));return a;case 151552:return n=t.readUInt16(),this.offsets=t.read(n);case 262144:return this.map=(function(){var l,o,u;for(u=[],i=l=0,o=this.file.maxp.numGlyphs;0<=o?l<o:l>o;i=0<=o?++l:--l)u.push(t.readUInt32());return u}).call(this)}},e})(),nNe=function(e,t){this.raw=e,this.length=e.length,this.platformID=t.platformID,this.encodingID=t.encodingID,this.languageID=t.languageID},aNe=(function(){function e(){return e.__super__.constructor.apply(this,arguments)}return gu(e,Mc),e.prototype.tag="name",e.prototype.parse=function(t){var r,n,a,i,l,o,u,f,h,m,g;for(t.pos=this.offset,t.readShort(),r=t.readShort(),o=t.readShort(),n=[],i=0;0<=r?i<r:i>r;i=0<=r?++i:--i)n.push({platformID:t.readShort(),encodingID:t.readShort(),languageID:t.readShort(),nameID:t.readShort(),length:t.readShort(),offset:this.offset+o+t.readShort()});for(u={},i=h=0,m=n.length;h<m;i=++h)a=n[i],t.pos=a.offset,f=t.readString(a.length),l=new nNe(f,a),u[g=a.nameID]==null&&(u[g]=[]),u[a.nameID].push(l);this.strings=u,this.copyright=u[0],this.fontFamily=u[1],this.fontSubfamily=u[2],this.uniqueSubfamily=u[3],this.fontName=u[4],this.version=u[5];try{this.postscriptName=u[6][0].raw.replace(/[\x00-\x19\x80-\xff]/g,"")}catch{this.postscriptName=u[4][0].raw.replace(/[\x00-\x19\x80-\xff]/g,"")}return this.trademark=u[7],this.manufacturer=u[8],this.designer=u[9],this.description=u[10],this.vendorUrl=u[11],this.designerUrl=u[12],this.license=u[13],this.licenseUrl=u[14],this.preferredFamily=u[15],this.preferredSubfamily=u[17],this.compatibleFull=u[18],this.sampleText=u[19]},e})(),iNe=(function(){function e(){return e.__super__.constructor.apply(this,arguments)}return gu(e,Mc),e.prototype.tag="maxp",e.prototype.parse=function(t){return t.pos=this.offset,this.version=t.readInt(),this.numGlyphs=t.readUInt16(),this.maxPoints=t.readUInt16(),this.maxContours=t.readUInt16(),this.maxCompositePoints=t.readUInt16(),this.maxComponentContours=t.readUInt16(),this.maxZones=t.readUInt16(),this.maxTwilightPoints=t.readUInt16(),this.maxStorage=t.readUInt16(),this.maxFunctionDefs=t.readUInt16(),this.maxInstructionDefs=t.readUInt16(),this.maxStackElements=t.readUInt16(),this.maxSizeOfInstructions=t.readUInt16(),this.maxComponentElements=t.readUInt16(),this.maxComponentDepth=t.readUInt16()},e})(),sNe=(function(){function e(){return e.__super__.constructor.apply(this,arguments)}return gu(e,Mc),e.prototype.tag="hmtx",e.prototype.parse=function(t){var r,n,a,i,l,o,u;for(t.pos=this.offset,this.metrics=[],r=0,o=this.file.hhea.numberOfMetrics;0<=o?r<o:r>o;r=0<=o?++r:--r)this.metrics.push({advance:t.readUInt16(),lsb:t.readInt16()});for(a=this.file.maxp.numGlyphs-this.file.hhea.numberOfMetrics,this.leftSideBearings=(function(){var f,h;for(h=[],r=f=0;0<=a?f<a:f>a;r=0<=a?++f:--f)h.push(t.readInt16());return h})(),this.widths=(function(){var f,h,m,g;for(g=[],f=0,h=(m=this.metrics).length;f<h;f++)i=m[f],g.push(i.advance);return g}).call(this),n=this.widths[this.widths.length-1],u=[],r=l=0;0<=a?l<a:l>a;r=0<=a?++l:--l)u.push(this.widths.push(n));return u},e.prototype.forGlyph=function(t){return t in this.metrics?this.metrics[t]:{advance:this.metrics[this.metrics.length-1].advance,lsb:this.leftSideBearings[t-this.metrics.length]}},e})(),rU=[].slice,lNe=(function(){function e(){return e.__super__.constructor.apply(this,arguments)}return gu(e,Mc),e.prototype.tag="glyf",e.prototype.parse=function(){return this.cache={}},e.prototype.glyphFor=function(t){var r,n,a,i,l,o,u,f,h,m;return t in this.cache?this.cache[t]:(i=this.file.loca,r=this.file.contents,n=i.indexOf(t),(a=i.lengthOf(t))===0?this.cache[t]=null:(r.pos=this.offset+n,l=(o=new Pd(r.read(a))).readShort(),f=o.readShort(),m=o.readShort(),u=o.readShort(),h=o.readShort(),this.cache[t]=l===-1?new cNe(o,f,m,u,h):new oNe(o,l,f,m,u,h),this.cache[t]))},e.prototype.encode=function(t,r,n){var a,i,l,o,u;for(l=[],i=[],o=0,u=r.length;o<u;o++)a=t[r[o]],i.push(l.length),a&&(l=l.concat(a.encode(n)));return i.push(l.length),{table:l,offsets:i}},e})(),oNe=(function(){function e(t,r,n,a,i,l){this.raw=t,this.numberOfContours=r,this.xMin=n,this.yMin=a,this.xMax=i,this.yMax=l,this.compound=!1}return e.prototype.encode=function(){return this.raw.data},e})(),cNe=(function(){function e(t,r,n,a,i){var l,o;for(this.raw=t,this.xMin=r,this.yMin=n,this.xMax=a,this.yMax=i,this.compound=!0,this.glyphIDs=[],this.glyphOffsets=[],l=this.raw;o=l.readShort(),this.glyphOffsets.push(l.pos),this.glyphIDs.push(l.readUInt16()),32&o;)l.pos+=1&o?4:2,128&o?l.pos+=8:64&o?l.pos+=4:8&o&&(l.pos+=2)}return e.prototype.encode=function(){var t,r,n;for(r=new Pd(rU.call(this.raw.data)),t=0,n=this.glyphIDs.length;t<n;++t)r.pos=this.glyphOffsets[t];return r.data},e})(),uNe=(function(){function e(){return e.__super__.constructor.apply(this,arguments)}return gu(e,Mc),e.prototype.tag="loca",e.prototype.parse=function(t){var r,n;return t.pos=this.offset,r=this.file.head.indexToLocFormat,this.offsets=r===0?(function(){var a,i;for(i=[],n=0,a=this.length;n<a;n+=2)i.push(2*t.readUInt16());return i}).call(this):(function(){var a,i;for(i=[],n=0,a=this.length;n<a;n+=4)i.push(t.readUInt32());return i}).call(this)},e.prototype.indexOf=function(t){return this.offsets[t]},e.prototype.lengthOf=function(t){return this.offsets[t+1]-this.offsets[t]},e.prototype.encode=function(t,r){for(var n=new Uint32Array(this.offsets.length),a=0,i=0,l=0;l<n.length;++l)if(n[l]=a,i<r.length&&r[i]==l){++i,n[l]=a;var o=this.offsets[l],u=this.offsets[l+1]-o;u>0&&(a+=u)}for(var f=new Array(4*n.length),h=0;h<n.length;++h)f[4*h+3]=255&n[h],f[4*h+2]=(65280&n[h])>>8,f[4*h+1]=(16711680&n[h])>>16,f[4*h]=(4278190080&n[h])>>24;return f},e})(),fNe=(function(){function e(t){this.font=t,this.subset={},this.unicodes={},this.next=33}return e.prototype.generateCmap=function(){var t,r,n,a,i;for(r in a=this.font.cmap.tables[0].codeMap,t={},i=this.subset)n=i[r],t[r]=a[n];return t},e.prototype.glyphsFor=function(t){var r,n,a,i,l,o,u;for(a={},l=0,o=t.length;l<o;l++)a[i=t[l]]=this.font.glyf.glyphFor(i);for(i in r=[],a)(n=a[i])!=null&&n.compound&&r.push.apply(r,n.glyphIDs);if(r.length>0)for(i in u=this.glyphsFor(r))n=u[i],a[i]=n;return a},e.prototype.encode=function(t,r){var n,a,i,l,o,u,f,h,m,g,x,b,v,w,N;for(a in n=tU.encode(this.generateCmap(),"unicode"),l=this.glyphsFor(t),x={0:0},N=n.charMap)x[(u=N[a]).old]=u.new;for(b in g=n.maxGlyphID,l)b in x||(x[b]=g++);return h=(function(E){var j,T;for(j in T={},E)T[E[j]]=j;return T})(x),m=Object.keys(h).sort(function(E,j){return E-j}),v=(function(){var E,j,T;for(T=[],E=0,j=m.length;E<j;E++)o=m[E],T.push(h[o]);return T})(),i=this.font.glyf.encode(l,v,x),f=this.font.loca.encode(i.offsets,v),w={cmap:this.font.cmap.raw(),glyf:i.table,loca:f,hmtx:this.font.hmtx.raw(),hhea:this.font.hhea.raw(),maxp:this.font.maxp.raw(),post:this.font.post.raw(),name:this.font.name.raw(),head:this.font.head.encode(r)},this.font.os2.exists&&(w["OS/2"]=this.font.os2.raw()),this.font.directory.encode(w)},e})();Kt.API.PDFObject=(function(){var e;function t(){}return e=function(r,n){return(Array(n+1).join("0")+r).slice(-n)},t.convert=function(r){var n,a,i,l;if(Array.isArray(r))return"["+(function(){var o,u,f;for(f=[],o=0,u=r.length;o<u;o++)n=r[o],f.push(t.convert(n));return f})().join(" ")+"]";if(typeof r=="string")return"/"+r;if(r?.isString)return"("+r+")";if(r instanceof Date)return"(D:"+e(r.getUTCFullYear(),4)+e(r.getUTCMonth(),2)+e(r.getUTCDate(),2)+e(r.getUTCHours(),2)+e(r.getUTCMinutes(),2)+e(r.getUTCSeconds(),2)+"Z)";if({}.toString.call(r)==="[object Object]"){for(a in i=["<<"],r)l=r[a],i.push("/"+a+" "+t.convert(l));return i.push(">>"),i.join(`
`)}return""+r},t})();function nU(e,t,r,n,a){n=n||{};var i=1.15,l=a.internal.scaleFactor,o=a.internal.getFontSize()/l,u=a.getLineHeightFactor?a.getLineHeightFactor():i,f=o*u,h=/\r\n|\r|\n/g,m="",g=1;if((n.valign==="middle"||n.valign==="bottom"||n.halign==="center"||n.halign==="right")&&(m=typeof e=="string"?e.split(h):e,g=m.length||1),r+=o*(2-i),n.valign==="middle"?r-=g/2*f:n.valign==="bottom"&&(r-=g*f),n.halign==="center"||n.halign==="right"){var x=o;if(n.halign==="center"&&(x*=.5),m&&g>=1){for(var b=0;b<m.length;b++)a.text(m[b],t-a.getStringUnitWidth(m[b])*x,r),r+=f;return a}t-=a.getStringUnitWidth(e)*x}return n.halign==="justify"?a.text(e,t,r,{maxWidth:n.maxWidth||100,align:"justify"}):a.text(e,t,r),a}var iD={},Bm=(function(){function e(t){this.jsPDFDocument=t,this.userStyles={textColor:t.getTextColor?this.jsPDFDocument.getTextColor():0,fontSize:t.internal.getFontSize(),fontStyle:t.internal.getFont().fontStyle,font:t.internal.getFont().fontName,lineWidth:t.getLineWidth?this.jsPDFDocument.getLineWidth():0,lineColor:t.getDrawColor?this.jsPDFDocument.getDrawColor():0}}return e.setDefaults=function(t,r){r===void 0&&(r=null),r?r.__autoTableDocumentDefaults=t:iD=t},e.unifyColor=function(t){return Array.isArray(t)?t:typeof t=="number"?[t,t,t]:typeof t=="string"?[t]:null},e.prototype.applyStyles=function(t,r){var n,a,i;r===void 0&&(r=!1),t.fontStyle&&this.jsPDFDocument.setFontStyle&&this.jsPDFDocument.setFontStyle(t.fontStyle);var l=this.jsPDFDocument.internal.getFont(),o=l.fontStyle,u=l.fontName;if(t.font&&(u=t.font),t.fontStyle){o=t.fontStyle;var f=this.getFontList()[u];f&&f.indexOf(o)===-1&&this.jsPDFDocument.setFontStyle&&(this.jsPDFDocument.setFontStyle(f[0]),o=f[0])}if(this.jsPDFDocument.setFont(u,o),t.fontSize&&this.jsPDFDocument.setFontSize(t.fontSize),!r){var h=e.unifyColor(t.fillColor);h&&(n=this.jsPDFDocument).setFillColor.apply(n,h),h=e.unifyColor(t.textColor),h&&(a=this.jsPDFDocument).setTextColor.apply(a,h),h=e.unifyColor(t.lineColor),h&&(i=this.jsPDFDocument).setDrawColor.apply(i,h),typeof t.lineWidth=="number"&&this.jsPDFDocument.setLineWidth(t.lineWidth)}},e.prototype.splitTextToSize=function(t,r,n){return this.jsPDFDocument.splitTextToSize(t,r,n)},e.prototype.rect=function(t,r,n,a,i){return this.jsPDFDocument.rect(t,r,n,a,i)},e.prototype.getLastAutoTable=function(){return this.jsPDFDocument.lastAutoTable||null},e.prototype.getTextWidth=function(t){return this.jsPDFDocument.getTextWidth(t)},e.prototype.getDocument=function(){return this.jsPDFDocument},e.prototype.setPage=function(t){this.jsPDFDocument.setPage(t)},e.prototype.addPage=function(){return this.jsPDFDocument.addPage()},e.prototype.getFontList=function(){return this.jsPDFDocument.getFontList()},e.prototype.getGlobalOptions=function(){return iD||{}},e.prototype.getDocumentOptions=function(){return this.jsPDFDocument.__autoTableDocumentDefaults||{}},e.prototype.pageSize=function(){var t=this.jsPDFDocument.internal.pageSize;return t.width==null&&(t={width:t.getWidth(),height:t.getHeight()}),t},e.prototype.scaleFactor=function(){return this.jsPDFDocument.internal.scaleFactor},e.prototype.getLineHeightFactor=function(){var t=this.jsPDFDocument;return t.getLineHeightFactor?t.getLineHeightFactor():1.15},e.prototype.getLineHeight=function(t){return t/this.scaleFactor()*this.getLineHeightFactor()},e.prototype.pageNumber=function(){var t=this.jsPDFDocument.internal.getCurrentPageInfo();return t?t.pageNumber:this.jsPDFDocument.internal.getNumberOfPages()},e})(),b_=function(e,t){return b_=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,n){r.__proto__=n}||function(r,n){for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(r[a]=n[a])},b_(e,t)};function aU(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");b_(e,t);function r(){this.constructor=e}e.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}var iU=(function(e){aU(t,e);function t(r){var n=e.call(this)||this;return n._element=r,n}return t})(Array);function dNe(e){return{font:"helvetica",fontStyle:"normal",overflow:"linebreak",fillColor:!1,textColor:20,halign:"left",valign:"top",fontSize:10,cellPadding:5/e,lineColor:200,lineWidth:0,cellWidth:"auto",minCellHeight:0,minCellWidth:0}}function hNe(e){var t={striped:{table:{fillColor:255,textColor:80,fontStyle:"normal"},head:{textColor:255,fillColor:[41,128,185],fontStyle:"bold"},body:{},foot:{textColor:255,fillColor:[41,128,185],fontStyle:"bold"},alternateRow:{fillColor:245}},grid:{table:{fillColor:255,textColor:80,fontStyle:"normal",lineWidth:.1},head:{textColor:255,fillColor:[26,188,156],fontStyle:"bold",lineWidth:0},body:{},foot:{textColor:255,fillColor:[26,188,156],fontStyle:"bold",lineWidth:0},alternateRow:{}},plain:{head:{fontStyle:"bold"},foot:{fontStyle:"bold"}}};return t[e]}function Zy(e,t,r){r.applyStyles(t,!0);var n=Array.isArray(e)?e:[e],a=n.map(function(i){return r.getTextWidth(i)}).reduce(function(i,l){return Math.max(i,l)},0);return a}function sU(e,t,r,n){var a=t.settings.tableLineWidth,i=t.settings.tableLineColor;e.applyStyles({lineWidth:a,lineColor:i});var l=lU(a,!1);l&&e.rect(r.x,r.y,t.getWidth(e.pageSize().width),n.y-r.y,l)}function lU(e,t){var r=e>0,n=t||t===0;return r&&n?"DF":r?"S":n?"F":null}function eb(e,t){var r,n,a,i;if(e=e||t,Array.isArray(e)){if(e.length>=4)return{top:e[0],right:e[1],bottom:e[2],left:e[3]};if(e.length===3)return{top:e[0],right:e[1],bottom:e[2],left:e[1]};if(e.length===2)return{top:e[0],right:e[1],bottom:e[0],left:e[1]};e.length===1?e=e[0]:e=t}return typeof e=="object"?(typeof e.vertical=="number"&&(e.top=e.vertical,e.bottom=e.vertical),typeof e.horizontal=="number"&&(e.right=e.horizontal,e.left=e.horizontal),{left:(r=e.left)!==null&&r!==void 0?r:t,top:(n=e.top)!==null&&n!==void 0?n:t,right:(a=e.right)!==null&&a!==void 0?a:t,bottom:(i=e.bottom)!==null&&i!==void 0?i:t}):(typeof e!="number"&&(e=t),{top:e,right:e,bottom:e,left:e})}function oU(e,t){var r=eb(t.settings.margin,0);return e.pageSize().width-(r.left+r.right)}function mNe(e,t,r,n,a){var i={},l=1.3333333333333333,o=M4(t,function(j){return a.getComputedStyle(j).backgroundColor});o!=null&&(i.fillColor=o);var u=M4(t,function(j){return a.getComputedStyle(j).color});u!=null&&(i.textColor=u);var f=xNe(n,r);f&&(i.cellPadding=f);var h="borderTopColor",m=l*r,g=n.borderTopWidth;if(n.borderBottomWidth===g&&n.borderRightWidth===g&&n.borderLeftWidth===g){var x=(parseFloat(g)||0)/m;x&&(i.lineWidth=x)}else i.lineWidth={top:(parseFloat(n.borderTopWidth)||0)/m,right:(parseFloat(n.borderRightWidth)||0)/m,bottom:(parseFloat(n.borderBottomWidth)||0)/m,left:(parseFloat(n.borderLeftWidth)||0)/m},i.lineWidth.top||(i.lineWidth.right?h="borderRightColor":i.lineWidth.bottom?h="borderBottomColor":i.lineWidth.left&&(h="borderLeftColor"));var b=M4(t,function(j){return a.getComputedStyle(j)[h]});b!=null&&(i.lineColor=b);var v=["left","right","center","justify"];v.indexOf(n.textAlign)!==-1&&(i.halign=n.textAlign),v=["middle","bottom","top"],v.indexOf(n.verticalAlign)!==-1&&(i.valign=n.verticalAlign);var w=parseInt(n.fontSize||"");isNaN(w)||(i.fontSize=w/l);var N=pNe(n);N&&(i.fontStyle=N);var E=(n.fontFamily||"").toLowerCase();return e.indexOf(E)!==-1&&(i.font=E),i}function pNe(e){var t="";return(e.fontWeight==="bold"||e.fontWeight==="bolder"||parseInt(e.fontWeight)>=700)&&(t="bold"),(e.fontStyle==="italic"||e.fontStyle==="oblique")&&(t+="italic"),t}function M4(e,t){var r=cU(e,t);if(!r)return null;var n=r.match(/^rgba?\((\d+),\s*(\d+),\s*(\d+)(?:,\s*(\d*\.?\d*))?\)$/);if(!n||!Array.isArray(n))return null;var a=[parseInt(n[1]),parseInt(n[2]),parseInt(n[3])],i=parseInt(n[4]);return i===0||isNaN(a[0])||isNaN(a[1])||isNaN(a[2])?null:a}function cU(e,t){var r=t(e);return r==="rgba(0, 0, 0, 0)"||r==="transparent"||r==="initial"||r==="inherit"?e.parentElement==null?null:cU(e.parentElement,t):r}function xNe(e,t){var r=[e.paddingTop,e.paddingRight,e.paddingBottom,e.paddingLeft],n=96/(72/t),a=(parseInt(e.lineHeight)-parseInt(e.fontSize))/t/2,i=r.map(function(o){return parseInt(o||"0")/n}),l=eb(i,0);return a>l.top&&(l.top=a),a>l.bottom&&(l.bottom=a),l}function uU(e,t,r,n,a){var i,l;n===void 0&&(n=!1),a===void 0&&(a=!1);var o;typeof t=="string"?o=r.document.querySelector(t):o=t;var u=Object.keys(e.getFontList()),f=e.scaleFactor(),h=[],m=[],g=[];if(!o)return console.error("Html table could not be found with input: ",t),{head:h,body:m,foot:g};for(var x=0;x<o.rows.length;x++){var b=o.rows[x],v=(l=(i=b?.parentElement)===null||i===void 0?void 0:i.tagName)===null||l===void 0?void 0:l.toLowerCase(),w=gNe(u,f,r,b,n,a);w&&(v==="thead"?h.push(w):v==="tfoot"?g.push(w):m.push(w))}return{head:h,body:m,foot:g}}function gNe(e,t,r,n,a,i){for(var l=new iU(n),o=0;o<n.cells.length;o++){var u=n.cells[o],f=r.getComputedStyle(u);if(a||f.display!=="none"){var h=void 0;i&&(h=mNe(e,u,t,f,r)),l.push({rowSpan:u.rowSpan,colSpan:u.colSpan,styles:h,_element:u,content:vNe(u)})}}var m=r.getComputedStyle(n);if(l.length>0&&(a||m.display!=="none"))return l}function vNe(e){var t=e.cloneNode(!0);return t.innerHTML=t.innerHTML.replace(/\n/g,"").replace(/ +/g," "),t.innerHTML=t.innerHTML.split(/<br.*?>/).map(function(r){return r.trim()}).join(`
`),t.innerText||t.textContent||""}function yNe(e,t,r){for(var n=0,a=[e,t,r];n<a.length;n++){var i=a[n];i&&typeof i!="object"&&console.error("The options parameter should be of type object, is: "+typeof i),i.startY&&typeof i.startY!="number"&&(console.error("Invalid value for startY option",i.startY),delete i.startY)}}function rf(e,t,r,n,a){if(e==null)throw new TypeError("Cannot convert undefined or null to object");for(var i=Object(e),l=1;l<arguments.length;l++){var o=arguments[l];if(o!=null)for(var u in o)Object.prototype.hasOwnProperty.call(o,u)&&(i[u]=o[u])}return i}function fU(e,t){var r=new Bm(e),n=r.getDocumentOptions(),a=r.getGlobalOptions();yNe(a,n,t);var i=rf({},a,n,t),l;typeof window<"u"&&(l=window);var o=bNe(a,n,t),u=wNe(a,n,t),f=NNe(r,i),h=jNe(r,i,l);return{id:t.tableId,content:h,hooks:u,styles:o,settings:f}}function bNe(e,t,r){for(var n={styles:{},headStyles:{},bodyStyles:{},footStyles:{},alternateRowStyles:{},columnStyles:{}},a=function(u){if(u==="columnStyles"){var f=e[u],h=t[u],m=r[u];n.columnStyles=rf({},f,h,m)}else{var g=[e,t,r],x=g.map(function(b){return b[u]||{}});n[u]=rf({},x[0],x[1],x[2])}},i=0,l=Object.keys(n);i<l.length;i++){var o=l[i];a(o)}return n}function wNe(e,t,r){for(var n=[e,t,r],a={didParseCell:[],willDrawCell:[],didDrawCell:[],willDrawPage:[],didDrawPage:[]},i=0,l=n;i<l.length;i++){var o=l[i];o.didParseCell&&a.didParseCell.push(o.didParseCell),o.willDrawCell&&a.willDrawCell.push(o.willDrawCell),o.didDrawCell&&a.didDrawCell.push(o.didDrawCell),o.willDrawPage&&a.willDrawPage.push(o.willDrawPage),o.didDrawPage&&a.didDrawPage.push(o.didDrawPage)}return a}function NNe(e,t){var r,n,a,i,l,o,u,f,h,m,g,x,b=eb(t.margin,40/e.scaleFactor()),v=(r=_Ne(e,t.startY))!==null&&r!==void 0?r:b.top,w;t.showFoot===!0?w="everyPage":t.showFoot===!1?w="never":w=(n=t.showFoot)!==null&&n!==void 0?n:"everyPage";var N;t.showHead===!0?N="everyPage":t.showHead===!1?N="never":N=(a=t.showHead)!==null&&a!==void 0?a:"everyPage";var E=(i=t.useCss)!==null&&i!==void 0?i:!1,j=t.theme||(E?"plain":"striped"),T=!!t.horizontalPageBreak,O=(l=t.horizontalPageBreakRepeat)!==null&&l!==void 0?l:null;return{includeHiddenHtml:(o=t.includeHiddenHtml)!==null&&o!==void 0?o:!1,useCss:E,theme:j,startY:v,margin:b,pageBreak:(u=t.pageBreak)!==null&&u!==void 0?u:"auto",rowPageBreak:(f=t.rowPageBreak)!==null&&f!==void 0?f:"auto",tableWidth:(h=t.tableWidth)!==null&&h!==void 0?h:"auto",showHead:N,showFoot:w,tableLineWidth:(m=t.tableLineWidth)!==null&&m!==void 0?m:0,tableLineColor:(g=t.tableLineColor)!==null&&g!==void 0?g:200,horizontalPageBreak:T,horizontalPageBreakRepeat:O,horizontalPageBreakBehaviour:(x=t.horizontalPageBreakBehaviour)!==null&&x!==void 0?x:"afterAllRows"}}function _Ne(e,t){var r=e.getLastAutoTable(),n=e.scaleFactor(),a=e.pageNumber(),i=!1;if(r&&r.startPageNumber){var l=r.startPageNumber+r.pageNumber-1;i=l===a}return typeof t=="number"?t:(t==null||t===!1)&&i&&r?.finalY!=null?r.finalY+20/n:null}function jNe(e,t,r){var n=t.head||[],a=t.body||[],i=t.foot||[];if(t.html){var l=t.includeHiddenHtml;if(r){var o=uU(e,t.html,r,l,t.useCss)||{};n=o.head||n,a=o.body||n,i=o.foot||n}else console.error("Cannot parse html in non browser environment")}var u=t.columns||SNe(n,a,i);return{columns:u,head:n,body:a,foot:i}}function SNe(e,t,r){var n=e[0]||t[0]||r[0]||[],a=[];return Object.keys(n).filter(function(i){return i!=="_element"}).forEach(function(i){var l=1,o;Array.isArray(n)?o=n[parseInt(i)]:o=n[i],typeof o=="object"&&!Array.isArray(o)&&(l=o?.colSpan||1);for(var u=0;u<l;u++){var f=void 0;Array.isArray(n)?f=a.length:f=i+(u>0?"_".concat(u):"");var h={dataKey:f};a.push(h)}}),a}var w_=(function(){function e(t,r,n){this.table=r,this.pageNumber=r.pageNumber,this.settings=r.settings,this.cursor=n,this.doc=t.getDocument()}return e})(),ANe=(function(e){aU(t,e);function t(r,n,a,i,l,o){var u=e.call(this,r,n,o)||this;return u.cell=a,u.row=i,u.column=l,u.section=i.section,u}return t})(w_),ENe=(function(){function e(t,r){this.pageNumber=1,this.id=t.id,this.settings=t.settings,this.styles=t.styles,this.hooks=t.hooks,this.columns=r.columns,this.head=r.head,this.body=r.body,this.foot=r.foot}return e.prototype.getHeadHeight=function(t){return this.head.reduce(function(r,n){return r+n.getMaxCellHeight(t)},0)},e.prototype.getFootHeight=function(t){return this.foot.reduce(function(r,n){return r+n.getMaxCellHeight(t)},0)},e.prototype.allRows=function(){return this.head.concat(this.body).concat(this.foot)},e.prototype.callCellHooks=function(t,r,n,a,i,l){for(var o=0,u=r;o<u.length;o++){var f=u[o],h=new ANe(t,this,n,a,i,l),m=f(h)===!1;if(n.text=Array.isArray(n.text)?n.text:[n.text],m)return!1}return!0},e.prototype.callEndPageHooks=function(t,r){t.applyStyles(t.userStyles);for(var n=0,a=this.hooks.didDrawPage;n<a.length;n++){var i=a[n];i(new w_(t,this,r))}},e.prototype.callWillDrawPageHooks=function(t,r){for(var n=0,a=this.hooks.willDrawPage;n<a.length;n++){var i=a[n];i(new w_(t,this,r))}},e.prototype.getWidth=function(t){if(typeof this.settings.tableWidth=="number")return this.settings.tableWidth;if(this.settings.tableWidth==="wrap"){var r=this.columns.reduce(function(a,i){return a+i.wrappedWidth},0);return r}else{var n=this.settings.margin;return t-n.left-n.right}},e})(),dU=(function(){function e(t,r,n,a,i){i===void 0&&(i=!1),this.height=0,this.raw=t,t instanceof iU&&(this.raw=t._element,this.element=t._element),this.index=r,this.section=n,this.cells=a,this.spansMultiplePages=i}return e.prototype.getMaxCellHeight=function(t){var r=this;return t.reduce(function(n,a){var i;return Math.max(n,((i=r.cells[a.index])===null||i===void 0?void 0:i.height)||0)},0)},e.prototype.hasRowSpan=function(t){var r=this;return t.filter(function(n){var a=r.cells[n.index];return a?a.rowSpan>1:!1}).length>0},e.prototype.canEntireRowFit=function(t,r){return this.getMaxCellHeight(r)<=t},e.prototype.getMinimumRowHeight=function(t,r){var n=this;return t.reduce(function(a,i){var l=n.cells[i.index];if(!l)return 0;var o=r.getLineHeight(l.styles.fontSize),u=l.padding("vertical"),f=u+o;return f>a?f:a},0)},e})(),hU=(function(){function e(t,r,n){var a;this.contentHeight=0,this.contentWidth=0,this.wrappedWidth=0,this.minReadableWidth=0,this.minWidth=0,this.width=0,this.height=0,this.x=0,this.y=0,this.styles=r,this.section=n,this.raw=t;var i=t;t!=null&&typeof t=="object"&&!Array.isArray(t)?(this.rowSpan=t.rowSpan||1,this.colSpan=t.colSpan||1,i=(a=t.content)!==null&&a!==void 0?a:t,t._element&&(this.raw=t._element)):(this.rowSpan=1,this.colSpan=1);var l=i!=null?""+i:"",o=/\r\n|\r|\n/g;this.text=l.split(o)}return e.prototype.getTextPos=function(){var t;if(this.styles.valign==="top")t=this.y+this.padding("top");else if(this.styles.valign==="bottom")t=this.y+this.height-this.padding("bottom");else{var r=this.height-this.padding("vertical");t=this.y+r/2+this.padding("top")}var n;if(this.styles.halign==="right")n=this.x+this.width-this.padding("right");else if(this.styles.halign==="center"){var a=this.width-this.padding("horizontal");n=this.x+a/2+this.padding("left")}else n=this.x+this.padding("left");return{x:n,y:t}},e.prototype.getContentHeight=function(t,r){r===void 0&&(r=1.15);var n=Array.isArray(this.text)?this.text.length:1,a=this.styles.fontSize/t*r,i=n*a+this.padding("vertical");return Math.max(i,this.styles.minCellHeight)},e.prototype.padding=function(t){var r=eb(this.styles.cellPadding,0);return t==="vertical"?r.top+r.bottom:t==="horizontal"?r.left+r.right:r[t]},e})(),kNe=(function(){function e(t,r,n){this.wrappedWidth=0,this.minReadableWidth=0,this.minWidth=0,this.width=0,this.dataKey=t,this.raw=r,this.index=n}return e.prototype.getMaxCustomCellWidth=function(t){for(var r=0,n=0,a=t.allRows();n<a.length;n++){var i=a[n],l=i.cells[this.index];l&&typeof l.styles.cellWidth=="number"&&(r=Math.max(r,l.styles.cellWidth))}return r},e})();function CNe(e,t){TNe(e,t);var r=[],n=0;t.columns.forEach(function(i){var l=i.getMaxCustomCellWidth(t);l?i.width=l:(i.width=i.wrappedWidth,r.push(i)),n+=i.width});var a=t.getWidth(e.pageSize().width)-n;a&&(a=N_(r,a,function(i){return Math.max(i.minReadableWidth,i.minWidth)})),a&&(a=N_(r,a,function(i){return i.minWidth})),a=Math.abs(a),!t.settings.horizontalPageBreak&&a>.1/e.scaleFactor()&&(a=a<1?a:Math.round(a),console.warn("Of the table content, ".concat(a," units width could not fit page"))),DNe(t),FNe(t,e),ONe(t)}function TNe(e,t){var r=e.scaleFactor(),n=t.settings.horizontalPageBreak,a=oU(e,t);t.allRows().forEach(function(i){for(var l=0,o=t.columns;l<o.length;l++){var u=o[l],f=i.cells[u.index];if(f){var h=t.hooks.didParseCell;t.callCellHooks(e,h,f,i,u,null);var m=f.padding("horizontal");f.contentWidth=Zy(f.text,f.styles,e)+m;var g=Zy(f.text.join(" ").split(/[^\S\u00A0]+/),f.styles,e);if(f.minReadableWidth=g+f.padding("horizontal"),typeof f.styles.cellWidth=="number")f.minWidth=f.styles.cellWidth,f.wrappedWidth=f.styles.cellWidth;else if(f.styles.cellWidth==="wrap"||n===!0)f.contentWidth>a?(f.minWidth=a,f.wrappedWidth=a):(f.minWidth=f.contentWidth,f.wrappedWidth=f.contentWidth);else{var x=10/r;f.minWidth=f.styles.minCellWidth||x,f.wrappedWidth=f.contentWidth,f.minWidth>f.wrappedWidth&&(f.wrappedWidth=f.minWidth)}}}}),t.allRows().forEach(function(i){for(var l=0,o=t.columns;l<o.length;l++){var u=o[l],f=i.cells[u.index];if(f&&f.colSpan===1)u.wrappedWidth=Math.max(u.wrappedWidth,f.wrappedWidth),u.minWidth=Math.max(u.minWidth,f.minWidth),u.minReadableWidth=Math.max(u.minReadableWidth,f.minReadableWidth);else{var h=t.styles.columnStyles[u.dataKey]||t.styles.columnStyles[u.index]||{},m=h.cellWidth||h.minCellWidth;m&&typeof m=="number"&&(u.minWidth=m,u.wrappedWidth=m)}f&&(f.colSpan>1&&!u.minWidth&&(u.minWidth=f.minWidth),f.colSpan>1&&!u.wrappedWidth&&(u.wrappedWidth=f.minWidth))}})}function N_(e,t,r){for(var n=t,a=e.reduce(function(x,b){return x+b.wrappedWidth},0),i=0;i<e.length;i++){var l=e[i],o=l.wrappedWidth/a,u=n*o,f=l.width+u,h=r(l),m=f<h?h:f;t-=m-l.width,l.width=m}if(t=Math.round(t*1e10)/1e10,t){var g=e.filter(function(x){return t<0?x.width>r(x):!0});g.length&&(t=N_(g,t,r))}return t}function ONe(e){for(var t={},r=1,n=e.allRows(),a=0;a<n.length;a++)for(var i=n[a],l=0,o=e.columns;l<o.length;l++){var u=o[l],f=t[u.index];if(r>1)r--,delete i.cells[u.index];else if(f)f.cell.height+=i.height,r=f.cell.colSpan,delete i.cells[u.index],f.left--,f.left<=1&&delete t[u.index];else{var h=i.cells[u.index];if(!h)continue;if(h.height=i.height,h.rowSpan>1){var m=n.length-a,g=h.rowSpan>m?m:h.rowSpan;t[u.index]={cell:h,left:g,row:i}}}}}function DNe(e){for(var t=e.allRows(),r=0;r<t.length;r++)for(var n=t[r],a=null,i=0,l=0,o=0;o<e.columns.length;o++){var u=e.columns[o];if(l-=1,l>1&&e.columns[o+1])i+=u.width,delete n.cells[u.index];else if(a){var f=a;delete n.cells[u.index],a=null,f.width=u.width+i}else{var f=n.cells[u.index];if(!f)continue;if(l=f.colSpan,i=0,f.colSpan>1){a=f,i+=u.width;continue}f.width=u.width+i}}}function FNe(e,t){for(var r={count:0,height:0},n=0,a=e.allRows();n<a.length;n++){for(var i=a[n],l=0,o=e.columns;l<o.length;l++){var u=o[l],f=i.cells[u.index];if(f){t.applyStyles(f.styles,!0);var h=f.width-f.padding("horizontal");if(f.styles.overflow==="linebreak")f.text=t.splitTextToSize(f.text,h+1/t.scaleFactor(),{fontSize:f.styles.fontSize});else if(f.styles.overflow==="ellipsize")f.text=sD(f.text,h,f.styles,t,"...");else if(f.styles.overflow==="hidden")f.text=sD(f.text,h,f.styles,t,"");else if(typeof f.styles.overflow=="function"){var m=f.styles.overflow(f.text,h);typeof m=="string"?f.text=[m]:f.text=m}f.contentHeight=f.getContentHeight(t.scaleFactor(),t.getLineHeightFactor());var g=f.contentHeight/f.rowSpan;f.rowSpan>1&&r.count*r.height<g*f.rowSpan?r={height:g,count:f.rowSpan}:r&&r.count>0&&r.height>g&&(g=r.height),g>i.height&&(i.height=g)}}r.count--}}function sD(e,t,r,n,a){return e.map(function(i){return PNe(i,t,r,n,a)})}function PNe(e,t,r,n,a){var i=1e4*n.scaleFactor();if(t=Math.ceil(t*i)/i,t>=Zy(e,r,n))return e;for(;t<Zy(e+a,r,n)&&!(e.length<=1);)e=e.substring(0,e.length-1);return e.trim()+a}function mU(e,t){var r=new Bm(e),n=LNe(t,r.scaleFactor()),a=new ENe(t,n);return CNe(r,a),r.applyStyles(r.userStyles),a}function LNe(e,t){var r=e.content,n=RNe(r.columns);if(r.head.length===0){var a=lD(n,"head");a&&r.head.push(a)}if(r.foot.length===0){var a=lD(n,"foot");a&&r.foot.push(a)}var i=e.settings.theme,l=e.styles;return{columns:n,head:R4("head",r.head,n,l,i,t),body:R4("body",r.body,n,l,i,t),foot:R4("foot",r.foot,n,l,i,t)}}function R4(e,t,r,n,a,i){var l={},o=t.map(function(u,f){for(var h=0,m={},g=0,x=0,b=0,v=r;b<v.length;b++){var w=v[b];if(l[w.index]==null||l[w.index].left===0)if(x===0){var N=void 0;Array.isArray(u)?N=u[w.index-g-h]:N=u[w.dataKey];var E={};typeof N=="object"&&!Array.isArray(N)&&(E=N?.styles||{});var j=INe(e,w,f,a,n,i,E),T=new hU(N,j,e);m[w.dataKey]=T,m[w.index]=T,x=T.colSpan-1,l[w.index]={left:T.rowSpan-1,times:x}}else x--,g++;else l[w.index].left--,x=l[w.index].times,h++}return new dU(u,f,e,m)});return o}function lD(e,t){var r={};return e.forEach(function(n){if(n.raw!=null){var a=MNe(t,n.raw);a!=null&&(r[n.dataKey]=a)}}),Object.keys(r).length>0?r:null}function MNe(e,t){if(e==="head"){if(typeof t=="object")return t.header||null;if(typeof t=="string"||typeof t=="number")return t}else if(e==="foot"&&typeof t=="object")return t.footer;return null}function RNe(e){return e.map(function(t,r){var n,a;return typeof t=="object"?a=(n=t.dataKey)!==null&&n!==void 0?n:r:a=r,new kNe(a,t,r)})}function INe(e,t,r,n,a,i,l){var o=hNe(n),u;e==="head"?u=a.headStyles:e==="body"?u=a.bodyStyles:e==="foot"&&(u=a.footStyles);var f=rf({},o.table,o[e],a.styles,u),h=a.columnStyles[t.dataKey]||a.columnStyles[t.index]||{},m=e==="body"?h:{},g=e==="body"&&r%2===0?rf({},o.alternateRow,a.alternateRowStyles):{},x=dNe(i),b=rf({},x,f,g,m);return rf(b,l)}function BNe(e,t,r){var n;r===void 0&&(r={});var a=oU(e,t),i=new Map,l=[],o=[],u=[];Array.isArray(t.settings.horizontalPageBreakRepeat)?u=t.settings.horizontalPageBreakRepeat:(typeof t.settings.horizontalPageBreakRepeat=="string"||typeof t.settings.horizontalPageBreakRepeat=="number")&&(u=[t.settings.horizontalPageBreakRepeat]),u.forEach(function(g){var x=t.columns.find(function(b){return b.dataKey===g||b.index===g});x&&!i.has(x.index)&&(i.set(x.index,!0),l.push(x.index),o.push(t.columns[x.index]),a-=x.wrappedWidth)});for(var f=!0,h=(n=r?.start)!==null&&n!==void 0?n:0;h<t.columns.length;){if(i.has(h)){h++;continue}var m=t.columns[h].wrappedWidth;if(f||a>=m)f=!1,l.push(h),o.push(t.columns[h]),a-=m;else break;h++}return{colIndexes:l,columns:o,lastIndex:h-1}}function UNe(e,t){for(var r=[],n=0;n<t.columns.length;n++){var a=BNe(e,t,{start:n});a.columns.length&&(r.push(a),n=a.lastIndex)}return r}function pU(e,t){var r=t.settings,n=r.startY,a=r.margin,i={x:a.left,y:n},l=t.getHeadHeight(t.columns)+t.getFootHeight(t.columns),o=n+a.bottom+l;if(r.pageBreak==="avoid"){var u=t.body,f=u.reduce(function(g,x){return g+x.height},0);o+=f}var h=new Bm(e);(r.pageBreak==="always"||r.startY!=null&&o>h.pageSize().height)&&(gU(h),i.y=a.top),t.callWillDrawPageHooks(h,i);var m=rf({},i);t.startPageNumber=h.pageNumber(),r.horizontalPageBreak?zNe(h,t,m,i):(h.applyStyles(h.userStyles),(r.showHead==="firstPage"||r.showHead==="everyPage")&&t.head.forEach(function(g){return wf(h,t,g,i,t.columns)}),h.applyStyles(h.userStyles),t.body.forEach(function(g,x){var b=x===t.body.length-1;Jy(h,t,g,b,m,i,t.columns)}),h.applyStyles(h.userStyles),(r.showFoot==="lastPage"||r.showFoot==="everyPage")&&t.foot.forEach(function(g){return wf(h,t,g,i,t.columns)})),sU(h,t,m,i),t.callEndPageHooks(h,i),t.finalY=i.y,e.lastAutoTable=t,h.applyStyles(h.userStyles)}function zNe(e,t,r,n){var a=UNe(e,t),i=t.settings;if(i.horizontalPageBreakBehaviour==="afterAllRows")a.forEach(function(f,h){e.applyStyles(e.userStyles),h>0?Mx(e,t,r,n,f.columns,!0):oD(e,t,n,f.columns),qNe(e,t,r,n,f.columns),I4(e,t,n,f.columns)});else for(var l=-1,o=a[0],u=function(){var f=l;if(o){e.applyStyles(e.userStyles);var h=o.columns;l>=0?Mx(e,t,r,n,h,!0):oD(e,t,n,h),f=cD(e,t,l+1,n,h),I4(e,t,n,h)}var m=f-l;a.slice(1).forEach(function(g){e.applyStyles(e.userStyles),Mx(e,t,r,n,g.columns,!0),cD(e,t,l+1,n,g.columns,m),I4(e,t,n,g.columns)}),l=f};l<t.body.length-1;)u()}function oD(e,t,r,n){var a=t.settings;e.applyStyles(e.userStyles),(a.showHead==="firstPage"||a.showHead==="everyPage")&&t.head.forEach(function(i){return wf(e,t,i,r,n)})}function qNe(e,t,r,n,a){e.applyStyles(e.userStyles),t.body.forEach(function(i,l){var o=l===t.body.length-1;Jy(e,t,i,o,r,n,a)})}function cD(e,t,r,n,a,i){e.applyStyles(e.userStyles),i=i??t.body.length;var l=Math.min(r+i,t.body.length),o=-1;return t.body.slice(r,l).forEach(function(u,f){var h=r+f===t.body.length-1,m=xU(e,t,h,n);u.canEntireRowFit(m,a)&&(wf(e,t,u,n,a),o=r+f)}),o}function I4(e,t,r,n){var a=t.settings;e.applyStyles(e.userStyles),(a.showFoot==="lastPage"||a.showFoot==="everyPage")&&t.foot.forEach(function(i){return wf(e,t,i,r,n)})}function $Ne(e,t,r){var n=r.getLineHeight(e.styles.fontSize),a=e.padding("vertical"),i=Math.floor((t-a)/n);return Math.max(0,i)}function HNe(e,t,r,n){var a={};e.spansMultiplePages=!0,e.height=0;for(var i=0,l=0,o=r.columns;l<o.length;l++){var u=o[l],f=e.cells[u.index];if(f){Array.isArray(f.text)||(f.text=[f.text]);var h=new hU(f.raw,f.styles,f.section);h=rf(h,f),h.text=[];var m=$Ne(f,t,n);f.text.length>m&&(h.text=f.text.splice(m,f.text.length));var g=n.scaleFactor(),x=n.getLineHeightFactor();f.contentHeight=f.getContentHeight(g,x),f.contentHeight>=t&&(f.contentHeight=t,h.styles.minCellHeight-=t),f.contentHeight>e.height&&(e.height=f.contentHeight),h.contentHeight=h.getContentHeight(g,x),h.contentHeight>i&&(i=h.contentHeight),a[u.index]=h}}var b=new dU(e.raw,-1,e.section,a,!0);b.height=i;for(var v=0,w=r.columns;v<w.length;v++){var u=w[v],h=b.cells[u.index];h&&(h.height=b.height);var f=e.cells[u.index];f&&(f.height=e.height)}return b}function VNe(e,t,r,n){var a=e.pageSize().height,i=n.settings.margin,l=i.top+i.bottom,o=a-l;t.section==="body"&&(o-=n.getHeadHeight(n.columns)+n.getFootHeight(n.columns));var u=t.getMinimumRowHeight(n.columns,e),f=u<r;if(u>o)return console.error("Will not be able to print row ".concat(t.index," correctly since it's minimum height is larger than page height")),!0;if(!f)return!1;var h=t.hasRowSpan(n.columns),m=t.getMaxCellHeight(n.columns)>o;return m?(h&&console.error("The content of row ".concat(t.index," will not be drawn correctly since drawing rows with a height larger than the page height and has cells with rowspans is not supported.")),!0):!(h||n.settings.rowPageBreak==="avoid")}function Jy(e,t,r,n,a,i,l){var o=xU(e,t,n,i);if(r.canEntireRowFit(o,l))wf(e,t,r,i,l);else if(VNe(e,r,o,t)){var u=HNe(r,o,t,e);wf(e,t,r,i,l),Mx(e,t,a,i,l),Jy(e,t,u,n,a,i,l)}else Mx(e,t,a,i,l),Jy(e,t,r,n,a,i,l)}function wf(e,t,r,n,a){n.x=t.settings.margin.left;for(var i=0,l=a;i<l.length;i++){var o=l[i],u=r.cells[o.index];if(!u){n.x+=o.width;continue}e.applyStyles(u.styles),u.x=n.x,u.y=n.y;var f=t.callCellHooks(e,t.hooks.willDrawCell,u,r,o,n);if(f===!1){n.x+=o.width;continue}WNe(e,u,n);var h=u.getTextPos();nU(u.text,h.x,h.y,{halign:u.styles.halign,valign:u.styles.valign,maxWidth:Math.ceil(u.width-u.padding("left")-u.padding("right"))},e.getDocument()),t.callCellHooks(e,t.hooks.didDrawCell,u,r,o,n),n.x+=o.width}n.y+=r.height}function WNe(e,t,r){var n=t.styles;if(e.getDocument().setFillColor(e.getDocument().getFillColor()),typeof n.lineWidth=="number"){var a=lU(n.lineWidth,n.fillColor);a&&e.rect(t.x,r.y,t.width,t.height,a)}else typeof n.lineWidth=="object"&&(n.fillColor&&e.rect(t.x,r.y,t.width,t.height,"F"),GNe(e,t,r,n.lineWidth))}function GNe(e,t,r,n){var a,i,l,o;n.top&&(a=r.x,i=r.y,l=r.x+t.width,o=r.y,n.right&&(l+=.5*n.right),n.left&&(a-=.5*n.left),u(n.top,a,i,l,o)),n.bottom&&(a=r.x,i=r.y+t.height,l=r.x+t.width,o=r.y+t.height,n.right&&(l+=.5*n.right),n.left&&(a-=.5*n.left),u(n.bottom,a,i,l,o)),n.left&&(a=r.x,i=r.y,l=r.x,o=r.y+t.height,n.top&&(i-=.5*n.top),n.bottom&&(o+=.5*n.bottom),u(n.left,a,i,l,o)),n.right&&(a=r.x+t.width,i=r.y,l=r.x+t.width,o=r.y+t.height,n.top&&(i-=.5*n.top),n.bottom&&(o+=.5*n.bottom),u(n.right,a,i,l,o));function u(f,h,m,g,x){e.getDocument().setLineWidth(f),e.getDocument().line(h,m,g,x,"S")}}function xU(e,t,r,n){var a=t.settings.margin.bottom,i=t.settings.showFoot;return(i==="everyPage"||i==="lastPage"&&r)&&(a+=t.getFootHeight(t.columns)),e.pageSize().height-n.y-a}function Mx(e,t,r,n,a,i){a===void 0&&(a=[]),i===void 0&&(i=!1),e.applyStyles(e.userStyles),t.settings.showFoot==="everyPage"&&!i&&t.foot.forEach(function(o){return wf(e,t,o,n,a)}),t.callEndPageHooks(e,n);var l=t.settings.margin;sU(e,t,r,n),gU(e),t.pageNumber++,n.x=l.left,n.y=l.top,r.y=l.top,t.callWillDrawPageHooks(e,n),t.settings.showHead==="everyPage"&&(t.head.forEach(function(o){return wf(e,t,o,n,a)}),e.applyStyles(e.userStyles))}function gU(e){var t=e.pageNumber();e.setPage(t+1);var r=e.pageNumber();return r===t?(e.addPage(),!0):!1}function KNe(e){e.API.autoTable=function(){for(var t=[],r=0;r<arguments.length;r++)t[r]=arguments[r];var n=t[0],a=fU(this,n),i=mU(this,a);return pU(this,i),this},e.API.lastAutoTable=!1,e.API.autoTableText=function(t,r,n,a){nU(t,r,n,a,this)},e.API.autoTableSetDefaults=function(t){return Bm.setDefaults(t,this),this},e.autoTableSetDefaults=function(t,r){Bm.setDefaults(t,r)},e.API.autoTableHtmlToJson=function(t,r){var n;if(r===void 0&&(r=!1),typeof window>"u")return console.error("Cannot run autoTableHtmlToJson in non browser environment"),null;var a=new Bm(this),i=uU(a,t,window,r,!1),l=i.head,o=i.body,u=((n=l[0])===null||n===void 0?void 0:n.map(function(f){return f.content}))||[];return{columns:u,rows:o,data:o}}}var B4;function uD(e,t){var r=fU(e,t),n=mU(e,r);pU(e,n)}try{if(typeof window<"u"&&window){var fD=window,dD=fD.jsPDF||((B4=fD.jspdf)===null||B4===void 0?void 0:B4.jsPDF);dD&&KNe(dD)}}catch(e){console.error("Could not apply autoTable plugin",e)}const bg=(e,t)=>{if(!e||e.length===0){alert("Aucune donne  exporter");return}const r=Object.keys(e[0]),n=[r.join(","),...e.map(o=>r.map(u=>{const f=o[u];return typeof f=="string"&&(f.includes(",")||f.includes('"'))?`"${f.replace(/"/g,'""')}"`:f}).join(","))].join(`
`),a=new Blob([n],{type:"text/csv;charset=utf-8;"}),i=document.createElement("a"),l=URL.createObjectURL(a);i.setAttribute("href",l),i.setAttribute("download",`${t}.csv`),i.style.visibility="hidden",document.body.appendChild(i),i.click(),document.body.removeChild(i)},YNe=e=>{const t=new Kt,r=e.student;t.setFontSize(20),t.setTextColor(59,130,246),t.text("Rapport de Progression",14,20),t.setFontSize(12),t.setTextColor(0,0,0),t.text(`tudiant: ${r.full_name}`,14,35),t.text(`Email: ${r.email}`,14,42),t.text(`Inscrit le: ${new Date(r.created_at).toLocaleDateString("fr-FR")}`,14,49),t.text(`Date du rapport: ${new Date().toLocaleDateString("fr-FR")}`,14,56),t.setDrawColor(229,231,235),t.line(14,60,196,60),t.setFontSize(14),t.setTextColor(59,130,246),t.text("Statistiques Globales",14,70);const n=e.enrollments.reduce((f,h)=>f+h.total_videos,0),a=e.enrollments.reduce((f,h)=>f+h.completed_videos,0),i=e.enrollments.reduce((f,h)=>f+h.total_tests,0),l=e.enrollments.reduce((f,h)=>f+h.passed_tests,0);if(t.setFontSize(10),t.setTextColor(0,0,0),t.text(`Formations inscrites: ${e.enrollments.length}`,14,80),t.text(`Formations compltes: ${e.enrollments.filter(f=>f.completed_at).length}`,14,87),t.text(`Vidos compltes: ${a} / ${n}`,14,94),t.text(`Tests russis: ${l} / ${i}`,14,101),e.enrollments.length>0){t.setFontSize(14),t.setTextColor(59,130,246),t.text("Formations Inscrites",14,115);const f=e.enrollments.map(h=>[h.formation_title,new Date(h.enrolled_at).toLocaleDateString("fr-FR"),h.completed_at?new Date(h.completed_at).toLocaleDateString("fr-FR"):"-",`${h.completed_videos}/${h.total_videos}`,`${h.passed_tests}/${h.total_tests}`,h.status==="completed"?"Complt":h.status==="active"?"En cours":"Inactif"]);uD(t,{head:[["Formation","Date Inscription","Date Compltion","Vidos","Tests","Statut"]],body:f,startY:120,theme:"grid",headStyles:{fillColor:[59,130,246]},styles:{fontSize:8}})}if(e.test_history.length>0){const f=t.lastAutoTable?.finalY||120;let h;f>220?(t.addPage(),t.setFontSize(14),t.setTextColor(59,130,246),t.text("Historique des Tests",14,20),h=25):(t.setFontSize(14),t.setTextColor(59,130,246),t.text("Historique des Tests",14,f+15),h=f+20);const m=e.test_history.map(g=>{const x=g.total_points>0?(g.score/g.total_points*100).toFixed(1):"0";return[g.formation_title,g.test_title,`${g.score}/${g.total_points}`,`${x}%`,g.passed?"Russi":"chou",new Date(g.submitted_at).toLocaleDateString("fr-FR")]});uD(t,{head:[["Formation","Test","Score","%","Rsultat","Date"]],body:m,startY:h,theme:"grid",headStyles:{fillColor:[59,130,246]},styles:{fontSize:8}})}const o=t.getNumberOfPages();for(let f=1;f<=o;f++)t.setPage(f),t.setFontSize(8),t.setTextColor(156,163,175),t.text(`Page ${f} sur ${o}`,t.internal.pageSize.getWidth()/2,t.internal.pageSize.getHeight()-10,{align:"center"});const u=`rapport_${r.full_name.replace(/\s+/g,"_")}_${new Date().toISOString().split("T")[0]}.pdf`;t.save(u)},XNe=e=>{const t=e.map(r=>({ID:r.id,Titre:r.title,Inscriptions:r.enrollment_count,Complts:r.completed_count,"Taux de Compltion (%)":r.completion_rate,Prix:r.price||0}));bg(t,`formations_${new Date().toISOString().split("T")[0]}`)},QNe=e=>{const t=e.map(r=>({ID:r.id,Nom:r.full_name,Email:r.email,Inscriptions:r.enrollments_count,"Vidos Vues":r.videos_watched,"Vidos Compltes":r.videos_completed,"Tests Passs":r.tests_taken,"Tests Russis":r.tests_passed}));bg(t,`etudiants_actifs_${new Date().toISOString().split("T")[0]}`)},ZNe=e=>{const t=e.map(r=>({Mois:r.month,Inscriptions:r.enrollment_count,Complts:r.completed_count}));bg(t,`tendances_inscriptions_${new Date().toISOString().split("T")[0]}`)},JNe=e=>{const t=e.student,r=e.enrollments.map(n=>({Formation:n.formation_title,"Date Inscription":new Date(n.enrolled_at).toLocaleDateString("fr-FR"),"Date Compltion":n.completed_at?new Date(n.completed_at).toLocaleDateString("fr-FR"):"-","Vidos Compltes":n.completed_videos,"Total Vidos":n.total_videos,"Tests Russis":n.passed_tests,"Total Tests":n.total_tests,Statut:n.status==="completed"?"Complt":n.status==="active"?"En cours":"Inactif"}));if(bg(r,`rapport_formations_${t.full_name.replace(/\s+/g,"_")}_${new Date().toISOString().split("T")[0]}`),e.test_history.length>0){const n=e.test_history.map(a=>{const i=a.total_points>0?(a.score/a.total_points*100).toFixed(1):"0";return{Formation:a.formation_title,Test:a.test_title,Score:a.score,"Total Points":a.total_points,"Pourcentage (%)":i,Rsultat:a.passed?"Russi":"chou",Date:new Date(a.submitted_at).toLocaleDateString("fr-FR")}});bg(n,`rapport_tests_${t.full_name.replace(/\s+/g,"_")}_${new Date().toISOString().split("T")[0]}`)}},Ov=["#3B82F6","#10B981","#8B5CF6","#F59E0B","#EF4444","#06B6D4"],e_e=()=>{const[e,t]=k.useState(30),{data:r,isLoading:n}=gwe(),{data:a,isLoading:i}=vwe(10),{data:l,isLoading:o}=ywe(6),{data:u,isLoading:f}=bwe(10),{data:h,isLoading:m}=Nwe(),{data:g,isLoading:x}=_we(e),b=r?.overview;return n||i||o||f||m||x?s.jsx("div",{className:"p-8",children:s.jsx("div",{className:"flex items-center justify-center h-64",children:s.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-600"})})}):s.jsxs("div",{className:"p-8 space-y-8",children:[s.jsxs("div",{children:[s.jsx("h1",{className:"text-3xl font-bold text-gray-900",children:"Tableau de bord Analytics"}),s.jsx("p",{className:"text-gray-600 mt-2",children:"Vue d'ensemble des performances de votre plateforme de formation"})]}),g&&s.jsxs("div",{className:"bg-gradient-to-r from-blue-600 to-purple-600 rounded-lg shadow-lg p-6 text-white",children:[s.jsxs("div",{className:"flex items-center justify-between mb-4",children:[s.jsxs("h2",{className:"text-xl font-bold",children:["Statistiques des ",g.period_days," derniers jours"]}),s.jsx("div",{className:"flex gap-2",children:[7,30,90].map(w=>s.jsxs("button",{onClick:()=>t(w),className:`px-4 py-2 rounded-lg font-medium transition-colors ${e===w?"bg-white text-blue-600":"bg-white/20 hover:bg-white/30"}`,children:[w,"j"]},w))})]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-5 gap-4",children:[s.jsxs("div",{className:"bg-white/10 rounded-lg p-4",children:[s.jsx("p",{className:"text-sm opacity-90",children:"Nouvelles inscriptions"}),s.jsx("p",{className:"text-3xl font-bold mt-1",children:g.stats.new_enrollments})]}),s.jsxs("div",{className:"bg-white/10 rounded-lg p-4",children:[s.jsx("p",{className:"text-sm opacity-90",children:"Formations compltes"}),s.jsx("p",{className:"text-3xl font-bold mt-1",children:g.stats.completed_formations})]}),s.jsxs("div",{className:"bg-white/10 rounded-lg p-4",children:[s.jsx("p",{className:"text-sm opacity-90",children:"Vidos termines"}),s.jsx("p",{className:"text-3xl font-bold mt-1",children:g.stats.videos_completed})]}),s.jsxs("div",{className:"bg-white/10 rounded-lg p-4",children:[s.jsx("p",{className:"text-sm opacity-90",children:"Tests passs"}),s.jsx("p",{className:"text-3xl font-bold mt-1",children:g.stats.tests_total})]}),s.jsxs("div",{className:"bg-white/10 rounded-lg p-4",children:[s.jsx("p",{className:"text-sm opacity-90",children:"Tests russis"}),s.jsx("p",{className:"text-3xl font-bold mt-1",children:g.stats.tests_passed})]})]})]}),b&&s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6",children:[s.jsx(md,{title:"Total tudiants",value:b.students.total,icon:ls,colorClass:"bg-blue-500"}),s.jsx(md,{title:"Total Formations",value:b.formations.total,icon:$n,colorClass:"bg-green-500"}),s.jsx(md,{title:"Sessions Actives",value:b.sessions.active,subtitle:`Sur ${b.sessions.total} sessions`,icon:wi,colorClass:"bg-purple-500"}),s.jsx(md,{title:"Taux de Compltion",value:`${b.enrollments.completion_rate.toFixed(1)}%`,subtitle:`${b.enrollments.completed}/${b.enrollments.total} inscriptions`,icon:Ka,colorClass:"bg-orange-500"}),s.jsx(md,{title:"Vidos Compltes",value:`${b.videos.completion_rate.toFixed(1)}%`,subtitle:`${b.videos.completed}/${b.videos.total} vidos`,icon:Hx,colorClass:"bg-cyan-500"}),s.jsx(md,{title:"Taux de Russite Tests",value:`${b.tests.success_rate.toFixed(1)}%`,subtitle:`${b.tests.passed}/${b.tests.total} tests`,icon:Ux,colorClass:"bg-pink-500"}),s.jsx(md,{title:"Inscriptions Totales",value:b.enrollments.total,icon:$0,colorClass:"bg-indigo-500"}),s.jsx(md,{title:"Formations Compltes",value:b.enrollments.completed,icon:si,colorClass:"bg-emerald-500"})]}),s.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[a?.formations&&a.formations.length>0&&s.jsxs("div",{className:"bg-white rounded-lg shadow-sm border p-6",children:[s.jsxs("div",{className:"flex items-center justify-between mb-4",children:[s.jsx("h2",{className:"text-lg font-semibold text-gray-900",children:"Formations les Plus Populaires"}),s.jsxs("button",{onClick:()=>XNe(a.formations),className:"flex items-center gap-2 px-3 py-1.5 text-sm bg-green-600 text-white rounded-lg hover:bg-green-700 transition-colors",children:[s.jsx(Es,{className:"h-4 w-4"}),"CSV"]})]}),s.jsx(U5,{width:"100%",height:300,children:s.jsxs(swe,{data:a.formations.slice(0,8),children:[s.jsx(e_,{strokeDasharray:"3 3"}),s.jsx(n_,{dataKey:"title",angle:-45,textAnchor:"end",height:120,interval:0,tick:{fontSize:11}}),s.jsx(i_,{}),s.jsx(r4,{content:({active:w,payload:N})=>{if(w&&N&&N.length){const E=N[0].payload;return s.jsxs("div",{className:"bg-white p-3 border rounded-lg shadow-lg",children:[s.jsx("p",{className:"font-semibold text-sm mb-1",children:E.title}),s.jsxs("p",{className:"text-xs text-gray-600",children:["Inscriptions: ",s.jsx("span",{className:"font-medium",children:E.enrollment_count})]}),s.jsxs("p",{className:"text-xs text-gray-600",children:["Complts: ",s.jsx("span",{className:"font-medium",children:E.completed_count})]}),s.jsxs("p",{className:"text-xs text-gray-600",children:["Taux: ",s.jsxs("span",{className:"font-medium",children:[E.completion_rate,"%"]})]})]})}return null}}),s.jsx(ug,{}),s.jsx(ZN,{dataKey:"enrollment_count",name:"Inscriptions",fill:"#3B82F6"}),s.jsx(ZN,{dataKey:"completed_count",name:"Complts",fill:"#10B981"})]})})]}),l?.trends&&l.trends.length>0&&s.jsxs("div",{className:"bg-white rounded-lg shadow-sm border p-6",children:[s.jsxs("div",{className:"flex items-center justify-between mb-4",children:[s.jsx("h2",{className:"text-lg font-semibold text-gray-900",children:"Tendances d'Inscriptions (6 mois)"}),s.jsxs("button",{onClick:()=>ZNe(l.trends),className:"flex items-center gap-2 px-3 py-1.5 text-sm bg-green-600 text-white rounded-lg hover:bg-green-700 transition-colors",children:[s.jsx(Es,{className:"h-4 w-4"}),"CSV"]})]}),s.jsx(U5,{width:"100%",height:300,children:s.jsxs(awe,{data:l.trends,children:[s.jsx(e_,{strokeDasharray:"3 3"}),s.jsx(n_,{dataKey:"month"}),s.jsx(i_,{}),s.jsx(r4,{content:({active:w,payload:N})=>{if(w&&N&&N.length){const E=N[0].payload;return s.jsxs("div",{className:"bg-white p-3 border rounded-lg shadow-lg",children:[s.jsx("p",{className:"font-semibold text-sm mb-1",children:E.month}),s.jsxs("p",{className:"text-xs text-blue-600",children:["Inscriptions: ",s.jsx("span",{className:"font-medium",children:E.enrollment_count})]}),s.jsxs("p",{className:"text-xs text-green-600",children:["Complts: ",s.jsx("span",{className:"font-medium",children:E.completed_count})]})]})}return null}}),s.jsx(ug,{}),s.jsx(t_,{type:"monotone",dataKey:"enrollment_count",name:"Inscriptions",stroke:"#3B82F6",strokeWidth:2,dot:{r:4}}),s.jsx(t_,{type:"monotone",dataKey:"completed_count",name:"Complts",stroke:"#10B981",strokeWidth:2,dot:{r:4}})]})})]})]}),h?.data&&h.data.length>0&&s.jsxs("div",{className:"bg-white rounded-lg shadow-sm border p-6",children:[s.jsx("h2",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Rpartition des Taux de Compltion"}),s.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[s.jsx(U5,{width:"100%",height:300,children:s.jsxs(xwe,{children:[s.jsx(FI,{data:h.data.slice(0,6),dataKey:"completion_rate",nameKey:"title",cx:"50%",cy:"50%",outerRadius:100,label:w=>`${w.title}: ${w.completion_rate}%`,children:h.data.slice(0,6).map((w,N)=>s.jsx(Xg,{fill:Ov[N%Ov.length]},`cell-${N}`))}),s.jsx(r4,{content:({active:w,payload:N})=>{if(w&&N&&N.length){const E=N[0].payload;return s.jsxs("div",{className:"bg-white p-3 border rounded-lg shadow-lg",children:[s.jsx("p",{className:"font-semibold text-sm mb-1",children:E.title}),s.jsxs("p",{className:"text-xs text-gray-600",children:["Taux: ",s.jsxs("span",{className:"font-medium",children:[E.completion_rate,"%"]})]}),s.jsxs("p",{className:"text-xs text-gray-600",children:["Complts: ",s.jsxs("span",{className:"font-medium",children:[E.completed_enrollments,"/",E.total_enrollments]})]})]})}return null}})]})}),s.jsxs("div",{className:"space-y-2",children:[s.jsx("h3",{className:"font-medium text-gray-900 mb-3",children:"Dtails par Formation"}),s.jsx("div",{className:"space-y-2 max-h-[280px] overflow-y-auto",children:h.data.map((w,N)=>s.jsxs("div",{className:"flex items-center justify-between p-3 bg-gray-50 rounded-lg",children:[s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx("div",{className:"w-3 h-3 rounded-full",style:{backgroundColor:Ov[N%Ov.length]}}),s.jsx("span",{className:"text-sm font-medium text-gray-900",children:w.title})]}),s.jsxs("div",{className:"text-right",children:[s.jsxs("p",{className:"text-sm font-semibold text-gray-900",children:[w.completion_rate,"%"]}),s.jsxs("p",{className:"text-xs text-gray-500",children:[w.completed_enrollments,"/",w.total_enrollments]})]})]},w.id))})]})]})]}),u?.students&&u.students.length>0&&s.jsxs("div",{className:"bg-white rounded-lg shadow-sm border overflow-hidden",children:[s.jsxs("div",{className:"p-6 border-b flex items-center justify-between",children:[s.jsx("h2",{className:"text-lg font-semibold text-gray-900",children:"tudiants les Plus Actifs"}),s.jsxs("button",{onClick:()=>QNe(u.students),className:"flex items-center gap-2 px-3 py-1.5 text-sm bg-green-600 text-white rounded-lg hover:bg-green-700 transition-colors",children:[s.jsx(Es,{className:"h-4 w-4"}),"Export CSV"]})]}),s.jsx("div",{className:"overflow-x-auto",children:s.jsxs("table",{className:"w-full",children:[s.jsx("thead",{className:"bg-gray-50",children:s.jsxs("tr",{children:[s.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"tudiant"}),s.jsx("th",{className:"px-6 py-3 text-center text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Inscriptions"}),s.jsx("th",{className:"px-6 py-3 text-center text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Vidos Vues"}),s.jsx("th",{className:"px-6 py-3 text-center text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Vidos Compltes"}),s.jsx("th",{className:"px-6 py-3 text-center text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Tests Passs"}),s.jsx("th",{className:"px-6 py-3 text-center text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Tests Russis"})]})}),s.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:u.students.map(w=>s.jsxs("tr",{className:"hover:bg-gray-50",children:[s.jsx("td",{className:"px-6 py-4",children:s.jsxs("div",{children:[s.jsx("p",{className:"font-medium text-gray-900",children:w.full_name}),s.jsx("p",{className:"text-sm text-gray-500",children:w.email})]})}),s.jsx("td",{className:"px-6 py-4 text-center",children:s.jsx("span",{className:"inline-flex items-center px-3 py-1 rounded-full text-sm font-medium bg-blue-100 text-blue-800",children:w.enrollments_count})}),s.jsx("td",{className:"px-6 py-4 text-center text-gray-900",children:w.videos_watched}),s.jsx("td",{className:"px-6 py-4 text-center",children:s.jsx("span",{className:"inline-flex items-center px-3 py-1 rounded-full text-sm font-medium bg-green-100 text-green-800",children:w.videos_completed})}),s.jsx("td",{className:"px-6 py-4 text-center text-gray-900",children:w.tests_taken}),s.jsx("td",{className:"px-6 py-4 text-center",children:s.jsx("span",{className:"inline-flex items-center px-3 py-1 rounded-full text-sm font-medium bg-purple-100 text-purple-800",children:w.tests_passed})})]},w.id))})]})})]})]})},e2=({progress:e,label:t,showPercentage:r=!0,size:n="md",color:a="blue"})=>{const i=Math.min(Math.max(e,0),100),l=i>=100,o={sm:"h-1.5",md:"h-2",lg:"h-3"},u={blue:"bg-blue-600",green:"bg-green-600",purple:"bg-purple-600",orange:"bg-orange-600"};return s.jsxs("div",{className:"w-full",children:[(t||r)&&s.jsxs("div",{className:"flex items-center justify-between mb-1.5",children:[t&&s.jsx("span",{className:"text-sm font-medium text-gray-700",children:t}),r&&s.jsxs("div",{className:"flex items-center gap-1.5",children:[l&&s.jsx(Ka,{className:"h-4 w-4 text-green-600"}),s.jsxs("span",{className:`text-sm font-semibold ${l?"text-green-600":"text-gray-600"}`,children:[Math.round(i),"%"]})]})]}),s.jsx("div",{className:`w-full bg-gray-200 rounded-full overflow-hidden ${o[n]}`,children:s.jsx("div",{className:`${o[n]} ${u[a]} rounded-full transition-all duration-500 ease-out`,style:{width:`${i}%`}})})]})},hD=({completed:e,total:t,label:r,color:n="blue"})=>{const a=t>0?e/t*100:0;return s.jsxs("div",{children:[s.jsxs("div",{className:"flex items-center justify-between mb-1.5",children:[s.jsx("span",{className:"text-sm text-gray-600",children:r}),s.jsxs("span",{className:"text-sm font-medium text-gray-900",children:[e,"/",t]})]}),s.jsx(e2,{progress:a,showPercentage:!1,color:n})]})},t_e=()=>{const[e,t]=k.useState(null),[r,n]=k.useState(""),{data:a,isLoading:i}=wwe(e),l=f=>{t(f)},o=()=>{a&&YNe(a)},u=()=>{a&&JNe(a)};return s.jsxs("div",{className:"p-8 space-y-6",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx("h1",{className:"text-3xl font-bold text-gray-900",children:"Rapports tudiants"}),s.jsx("p",{className:"text-gray-600 mt-2",children:"Consulter les rapports dtaills de progression des tudiants"})]}),e&&s.jsxs("div",{className:"flex gap-2",children:[s.jsxs("button",{onClick:u,className:"flex items-center gap-2 px-4 py-2 bg-green-600 text-white rounded-lg hover:bg-green-700 transition-colors",children:[s.jsx(Es,{className:"h-4 w-4"}),"Export CSV"]}),s.jsxs("button",{onClick:o,className:"flex items-center gap-2 px-4 py-2 bg-red-600 text-white rounded-lg hover:bg-red-700 transition-colors",children:[s.jsx(Es,{className:"h-4 w-4"}),"Export PDF"]})]})]}),s.jsxs("div",{className:"bg-white rounded-lg shadow-sm border p-6",children:[s.jsxs("div",{className:"relative",children:[s.jsx(ap,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 h-5 w-5 text-gray-400"}),s.jsx("input",{type:"text",placeholder:"Rechercher un tudiant par ID (pour test, utilisez un ID existant)...",value:r,onChange:f=>n(f.target.value),onKeyDown:f=>{f.key==="Enter"&&r.trim()&&l(r.trim())},className:"w-full pl-10 pr-4 py-3 border rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500"})]}),s.jsx("p",{className:"text-sm text-gray-500 mt-2",children:"Appuyez sur Entre pour charger le rapport d'un tudiant"})]}),i&&s.jsx("div",{className:"flex items-center justify-center h-64",children:s.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-600"})}),!i&&!e&&s.jsxs("div",{className:"bg-white rounded-lg shadow-sm border p-12 text-center",children:[s.jsx(Ds,{className:"h-16 w-16 text-gray-300 mx-auto mb-4"}),s.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"Aucun tudiant slectionn"}),s.jsx("p",{className:"text-gray-600",children:"Entrez l'ID d'un tudiant dans la barre de recherche pour afficher son rapport dtaill"})]}),!i&&e&&a&&s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{className:"bg-white rounded-lg shadow-sm border p-6",children:[s.jsxs("div",{className:"flex items-center gap-4 mb-4",children:[s.jsx("div",{className:"bg-blue-500 p-4 rounded-full",children:s.jsx($x,{className:"h-8 w-8 text-white"})}),s.jsxs("div",{className:"flex-1",children:[s.jsx("h2",{className:"text-2xl font-bold text-gray-900",children:a.student.full_name}),s.jsxs("div",{className:"flex items-center gap-4 mt-2 text-sm text-gray-600",children:[s.jsxs("div",{className:"flex items-center gap-1",children:[s.jsx(gV,{className:"h-4 w-4"}),a.student.email]}),s.jsxs("div",{className:"flex items-center gap-1",children:[s.jsx(wi,{className:"h-4 w-4"}),"Inscrit le ",new Date(a.student.created_at).toLocaleDateString("fr-FR")]})]})]})]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4 mt-6",children:[s.jsxs("div",{className:"bg-blue-50 rounded-lg p-4",children:[s.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[s.jsx($n,{className:"h-5 w-5 text-blue-600"}),s.jsx("span",{className:"text-sm font-medium text-blue-900",children:"Formations"})]}),s.jsx("p",{className:"text-3xl font-bold text-blue-600",children:a.enrollments.length})]}),s.jsxs("div",{className:"bg-green-50 rounded-lg p-4",children:[s.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[s.jsx(Ka,{className:"h-5 w-5 text-green-600"}),s.jsx("span",{className:"text-sm font-medium text-green-900",children:"Compltes"})]}),s.jsx("p",{className:"text-3xl font-bold text-green-600",children:a.enrollments.filter(f=>f.completed_at).length})]}),s.jsxs("div",{className:"bg-purple-50 rounded-lg p-4",children:[s.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[s.jsx(Hx,{className:"h-5 w-5 text-purple-600"}),s.jsx("span",{className:"text-sm font-medium text-purple-900",children:"Vidos"})]}),s.jsxs("p",{className:"text-3xl font-bold text-purple-600",children:[a.enrollments.reduce((f,h)=>f+h.completed_videos,0)," /"," ",a.enrollments.reduce((f,h)=>f+h.total_videos,0)]})]}),s.jsxs("div",{className:"bg-orange-50 rounded-lg p-4",children:[s.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[s.jsx(Ux,{className:"h-5 w-5 text-orange-600"}),s.jsx("span",{className:"text-sm font-medium text-orange-900",children:"Tests Russis"})]}),s.jsxs("p",{className:"text-3xl font-bold text-orange-600",children:[a.enrollments.reduce((f,h)=>f+h.passed_tests,0)," /"," ",a.enrollments.reduce((f,h)=>f+h.total_tests,0)]})]})]})]}),s.jsxs("div",{className:"bg-white rounded-lg shadow-sm border overflow-hidden",children:[s.jsx("div",{className:"p-6 border-b",children:s.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:"Formations Inscrites"})}),s.jsx("div",{className:"divide-y",children:a.enrollments.length===0?s.jsxs("div",{className:"p-12 text-center text-gray-500",children:[s.jsx($n,{className:"h-12 w-12 text-gray-300 mx-auto mb-3"}),s.jsx("p",{children:"Aucune formation inscrite"})]}):a.enrollments.map(f=>{const h=f.total_videos>0?f.completed_videos/f.total_videos*100:0,m=f.total_tests>0?f.passed_tests/f.total_tests*100:0;return s.jsxs("div",{className:"p-6 hover:bg-gray-50",children:[s.jsxs("div",{className:"flex items-start justify-between mb-4",children:[s.jsxs("div",{className:"flex-1",children:[s.jsx("h4",{className:"font-semibold text-gray-900 mb-2",children:f.formation_title}),s.jsxs("div",{className:"flex items-center gap-4 text-sm text-gray-600",children:[s.jsxs("span",{children:["Inscrit le ",new Date(f.enrolled_at).toLocaleDateString("fr-FR")]}),f.completed_at&&s.jsxs("span",{className:"flex items-center gap-1 text-green-600",children:[s.jsx(Ka,{className:"h-4 w-4"}),"Complt le ",new Date(f.completed_at).toLocaleDateString("fr-FR")]})]})]}),s.jsx("span",{className:`px-3 py-1 rounded-full text-sm font-medium ${f.status==="completed"?"bg-green-100 text-green-800":f.status==="active"?"bg-blue-100 text-blue-800":"bg-gray-100 text-gray-800"}`,children:f.status==="completed"?"Complt":f.status==="active"?"En cours":"Inactif"})]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[s.jsx("div",{children:s.jsx(e2,{progress:h,label:`Vidos (${f.completed_videos}/${f.total_videos})`,color:"purple",size:"sm"})}),s.jsx("div",{children:s.jsx(e2,{progress:m,label:`Tests russis (${f.passed_tests}/${f.total_tests})`,color:"orange",size:"sm"})})]})]},f.formation_id)})})]}),s.jsxs("div",{className:"bg-white rounded-lg shadow-sm border overflow-hidden",children:[s.jsx("div",{className:"p-6 border-b",children:s.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:"Historique des Tests"})}),a.test_history.length===0?s.jsxs("div",{className:"p-12 text-center text-gray-500",children:[s.jsx(Ux,{className:"h-12 w-12 text-gray-300 mx-auto mb-3"}),s.jsx("p",{children:"Aucun test pass"})]}):s.jsx("div",{className:"overflow-x-auto",children:s.jsxs("table",{className:"w-full",children:[s.jsx("thead",{className:"bg-gray-50",children:s.jsxs("tr",{children:[s.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase",children:"Formation"}),s.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase",children:"Test"}),s.jsx("th",{className:"px-6 py-3 text-center text-xs font-medium text-gray-500 uppercase",children:"Score"}),s.jsx("th",{className:"px-6 py-3 text-center text-xs font-medium text-gray-500 uppercase",children:"Rsultat"}),s.jsx("th",{className:"px-6 py-3 text-center text-xs font-medium text-gray-500 uppercase",children:"Date"})]})}),s.jsx("tbody",{className:"divide-y",children:a.test_history.map(f=>{const h=f.total_points>0?(f.score/f.total_points*100).toFixed(1):0;return s.jsxs("tr",{className:"hover:bg-gray-50",children:[s.jsx("td",{className:"px-6 py-4 text-sm text-gray-900",children:f.formation_title}),s.jsx("td",{className:"px-6 py-4 text-sm text-gray-900",children:f.test_title}),s.jsxs("td",{className:"px-6 py-4 text-center",children:[s.jsxs("div",{className:"text-sm font-medium text-gray-900",children:[f.score," / ",f.total_points]}),s.jsxs("div",{className:"text-xs text-gray-500",children:[h,"%"]})]}),s.jsx("td",{className:"px-6 py-4 text-center",children:f.passed?s.jsxs("span",{className:"inline-flex items-center gap-1 px-3 py-1 rounded-full text-sm font-medium bg-green-100 text-green-800",children:[s.jsx(Ka,{className:"h-4 w-4"}),"Russi"]}):s.jsxs("span",{className:"inline-flex items-center gap-1 px-3 py-1 rounded-full text-sm font-medium bg-red-100 text-red-800",children:[s.jsx(mf,{className:"h-4 w-4"}),"chou"]})}),s.jsx("td",{className:"px-6 py-4 text-center text-sm text-gray-600",children:new Date(f.submitted_at).toLocaleDateString("fr-FR")})]},f.id)})})]})})]})]})]})},IS={generate:async e=>at.post("/certificates/generate",e),getByStudent:async e=>at.get(`/certificates/student/${e}`),getById:async e=>at.get(`/certificates/${e}`),verify:async e=>at.get(`/certificates/verify/${e}`),getAll:async e=>{const t={};return e?.limit&&(t.limit=e.limit.toString()),e?.offset&&(t.offset=e.offset.toString()),e?.formation_id&&(t.formation_id=e.formation_id),at.get("/certificates",t)},delete:async e=>at.delete(`/certificates/${e}`),updateMetadata:async(e,t)=>at.patch(`/certificates/${e}/metadata`,{metadata:t})},vU=e=>or({queryKey:["certificates","student",e],queryFn:()=>{if(!e)throw new Error("Student ID is required");return IS.getByStudent(e)},enabled:!!e,staleTime:1e3*60*5}),r_e=e=>or({queryKey:["certificates","all",e],queryFn:()=>IS.getAll(e),staleTime:1e3*60*5}),n_e=()=>{const e=Pt();return It({mutationFn:IS.delete,onSuccess:()=>{e.invalidateQueries({queryKey:["certificates"]})}})},a_e={a4:{width:1122,height:794},letter:{width:1056,height:816},badge:{width:323,height:204}},BS=(e,t,r,n)=>{if(e==="custom"){const i=r?mD(r):1122,l=n?mD(n):794;return t==="portrait"?{width:l,height:i}:{width:i,height:l}}const a=a_e[e];return t==="portrait"?{width:a.height,height:a.width}:{...a}},i_e=(e,t,r,n)=>{const{width:a,height:i}=BS(e,t,r,n),l=$v[e]||"Personnalis";return`${a}  ${i} px (${l} ${t==="portrait"?"Portrait":"Paysage"})`},$v={a4:"A4",letter:"Letter",badge:"Badge",custom:"Personnalis"},mD=e=>e*96/25.4,yU=async(e,t)=>{const r=new Kt({orientation:"landscape",unit:"mm",format:"a4"}),n=r.internal.pageSize.getWidth(),a=r.internal.pageSize.getHeight(),i=[59,130,246],l=[251,191,36],o=[31,41,55];r.setDrawColor(...l),r.setLineWidth(1),r.rect(10,10,n-20,a-20),r.setDrawColor(...i),r.setLineWidth(.5),r.rect(15,15,n-30,a-30),r.setLineWidth(2),r.line(20,20,40,20),r.line(20,20,20,40),r.line(n-40,20,n-20,20),r.line(n-20,20,n-20,40),r.line(20,a-20,40,a-20),r.line(20,a-40,20,a-20),r.line(n-40,a-20,n-20,a-20),r.line(n-20,a-40,n-20,a-20),r.setTextColor(...l),r.setFontSize(32),r.setFont("helvetica","bold"),r.text("CERTIFICAT DE RUSSITE",n/2,40,{align:"center"}),r.setDrawColor(...l),r.setLineWidth(.5),r.line(n/2-50,45,n/2+50,45),r.setTextColor(...o),r.setFontSize(14),r.setFont("helvetica","normal"),r.text("Ce certificat est dcern ",n/2,60,{align:"center"}),r.setTextColor(...i),r.setFontSize(28),r.setFont("helvetica","bold"),r.text(e.student_name||"tudiant",n/2,75,{align:"center"}),r.setDrawColor(...i),r.setLineWidth(.3);const u=r.getTextWidth(e.student_name||"tudiant");r.line(n/2-u/2-10,78,n/2+u/2+10,78),r.setTextColor(...o),r.setFontSize(13),r.setFont("helvetica","normal"),r.text("Pour avoir complt avec succs la formation",n/2,92,{align:"center"}),r.setTextColor(0,0,0),r.setFontSize(18),r.setFont("helvetica","bold");const f=e.formation_title||"Formation",h=n-80,m=r.splitTextToSize(f,h);m.length===1?r.text(m[0],n/2,105,{align:"center"}):(r.text(m[0],n/2,102,{align:"center"}),m[1]&&r.text(m[1],n/2,110,{align:"center"}));const g=m.length>1?120:115;r.setTextColor(...o),r.setFontSize(11),r.setFont("helvetica","normal");const x=new Date(e.completion_date).toLocaleDateString("fr-FR",{day:"numeric",month:"long",year:"numeric"});r.text(`Date de compltion : ${x}`,n/2,g+10,{align:"center"}),e.duration_hours&&r.text(`Dure de la formation : ${e.duration_hours} heures`,n/2,g+17,{align:"center"}),e.grade!==null&&e.grade!==void 0&&(r.setTextColor(...i),r.setFont("helvetica","bold"),r.text(`Note obtenue : ${e.grade}%`,n/2,g+24,{align:"center"}));const b=a-40;r.setTextColor(...o),r.setFontSize(9),r.setFont("helvetica","italic"),r.text(`Numro de certificat : ${e.certificate_number}`,n/2,b,{align:"center"});const v=new Date(e.issued_at).toLocaleDateString("fr-FR");r.text(`Dlivr le : ${v}`,n/2,b+5,{align:"center"});const w=b-20;r.setDrawColor(...o),r.setLineWidth(.3),r.line(n/2-30,w,n/2+30,w),r.setTextColor(...o),r.setFontSize(10),r.setFont("helvetica","normal"),r.text("Directeur de Formation",n/2,w+5,{align:"center"}),r.setFillColor(...l),r.circle(n-35,a-35,15,"F"),r.setTextColor(255,255,255),r.setFontSize(8),r.setFont("helvetica","bold"),r.text("CERTIFI",n-35,a-38,{align:"center"}),r.text("RUSSITE",n-35,a-32,{align:"center"});const N=`certificat_${e.certificate_number}_${e.student_name?.replace(/\s+/g,"_")||"etudiant"}.pdf`;r.save(N)},s_e=()=>{const[e,t]=k.useState(""),[r,n]=k.useState(""),{data:a,isLoading:i}=r_e({limit:100,formation_id:r||void 0}),{data:l}=h2(),o=n_e(),u=a?.certificates||[],f=l||[],h=u.filter(w=>{const N=e.toLowerCase();return w.student_name?.toLowerCase().includes(N)||w.formation_title?.toLowerCase().includes(N)||w.certificate_number.toLowerCase().includes(N)}),m=async w=>{await yU(w)},g=async w=>{if(confirm("tes-vous sr de vouloir supprimer ce certificat ?"))try{await o.mutateAsync(w)}catch(N){console.error("Erreur lors de la suppression:",N),alert("Erreur lors de la suppression du certificat")}},x=u.length,b=u.filter(w=>{const N=new Date(w.issued_at),E=new Date;return N.getMonth()===E.getMonth()&&N.getFullYear()===E.getFullYear()}).length,v=u.length>0?(u.filter(w=>w.grade!==null).reduce((w,N)=>w+(N.grade||0),0)/u.filter(w=>w.grade!==null).length).toFixed(1):"0";return s.jsx(da,{title:"Gestion des Certificats",subtitle:"Consulter et grer tous les certificats mis",children:s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-6",children:[s.jsx("div",{className:"bg-gradient-to-br from-blue-500 to-blue-600 rounded-lg p-6 text-white",children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx("p",{className:"text-sm opacity-90",children:"Total Certificats"}),s.jsx("p",{className:"text-4xl font-bold mt-2",children:x})]}),s.jsx(si,{className:"h-12 w-12 opacity-80"})]})}),s.jsx("div",{className:"bg-gradient-to-br from-green-500 to-green-600 rounded-lg p-6 text-white",children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx("p",{className:"text-sm opacity-90",children:"Ce mois-ci"}),s.jsx("p",{className:"text-4xl font-bold mt-2",children:b})]}),s.jsx(wi,{className:"h-12 w-12 opacity-80"})]})}),s.jsx("div",{className:"bg-gradient-to-br from-amber-500 to-amber-600 rounded-lg p-6 text-white",children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx("p",{className:"text-sm opacity-90",children:"Note Moyenne"}),s.jsxs("p",{className:"text-4xl font-bold mt-2",children:[v,"%"]})]}),s.jsx(Ka,{className:"h-12 w-12 opacity-80"})]})}),s.jsx("div",{className:"bg-gradient-to-br from-purple-500 to-purple-600 rounded-lg p-6 text-white",children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx("p",{className:"text-sm opacity-90",children:"Formations"}),s.jsx("p",{className:"text-4xl font-bold mt-2",children:new Set(u.map(w=>w.formation_id)).size})]}),s.jsx($n,{className:"h-12 w-12 opacity-80"})]})})]}),s.jsx("div",{className:"bg-white rounded-lg shadow-sm border p-6",children:s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[s.jsx("div",{className:"md:col-span-2",children:s.jsxs("div",{className:"relative",children:[s.jsx(ap,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 h-5 w-5 text-gray-400"}),s.jsx("input",{type:"text",placeholder:"Rechercher par tudiant, formation ou numro...",value:e,onChange:w=>t(w.target.value),className:"w-full pl-10 pr-4 py-2 border rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500"})]})}),s.jsx("div",{children:s.jsxs("div",{className:"relative",children:[s.jsx(L_,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 h-5 w-5 text-gray-400"}),s.jsxs("select",{value:r,onChange:w=>n(w.target.value),className:"w-full pl-10 pr-4 py-2 border rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500 appearance-none",children:[s.jsx("option",{value:"",children:"Toutes les formations"}),f.map(w=>s.jsx("option",{value:w.id,children:w.title},w.id))]})]})})]})}),s.jsxs("div",{className:"bg-white rounded-lg shadow-sm border overflow-hidden",children:[s.jsx("div",{className:"p-6 border-b",children:s.jsxs("h2",{className:"text-lg font-semibold text-gray-900",children:["Certificats (",h.length,")"]})}),i?s.jsx("div",{className:"flex items-center justify-center h-64",children:s.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-600"})}):h.length===0?s.jsxs("div",{className:"p-12 text-center",children:[s.jsx(si,{className:"h-16 w-16 text-gray-300 mx-auto mb-4"}),s.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"Aucun certificat trouv"}),s.jsx("p",{className:"text-gray-600",children:e||r?"Essayez de modifier vos critres de recherche":"Aucun certificat n'a encore t gnr"})]}):s.jsx("div",{className:"overflow-x-auto",children:s.jsxs("table",{className:"w-full",children:[s.jsx("thead",{className:"bg-gray-50",children:s.jsxs("tr",{children:[s.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Numro"}),s.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"tudiant"}),s.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Formation"}),s.jsx("th",{className:"px-6 py-3 text-center text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Note"}),s.jsx("th",{className:"px-6 py-3 text-center text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Date mission"}),s.jsx("th",{className:"px-6 py-3 text-center text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Actions"})]})}),s.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:h.map(w=>s.jsxs("tr",{className:"hover:bg-gray-50",children:[s.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:s.jsx("span",{className:"text-sm font-mono text-gray-900",children:w.certificate_number})}),s.jsx("td",{className:"px-6 py-4",children:s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx($x,{className:"h-4 w-4 text-gray-400"}),s.jsxs("div",{children:[s.jsx("p",{className:"text-sm font-medium text-gray-900",children:w.student_name}),s.jsx("p",{className:"text-xs text-gray-500",children:w.student_email})]})]})}),s.jsx("td",{className:"px-6 py-4",children:s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx($n,{className:"h-4 w-4 text-gray-400"}),s.jsx("span",{className:"text-sm text-gray-900",children:w.formation_title})]})}),s.jsx("td",{className:"px-6 py-4 text-center",children:w.grade!==null&&w.grade!==void 0?s.jsxs("span",{className:"inline-flex items-center px-3 py-1 rounded-full text-sm font-medium bg-green-100 text-green-800",children:[w.grade,"%"]}):s.jsx("span",{className:"text-sm text-gray-400",children:"-"})}),s.jsx("td",{className:"px-6 py-4 text-center text-sm text-gray-600",children:new Date(w.issued_at).toLocaleDateString("fr-FR")}),s.jsx("td",{className:"px-6 py-4",children:s.jsxs("div",{className:"flex items-center justify-center gap-2",children:[s.jsx("button",{onClick:()=>m(w),className:"p-2 text-blue-600 hover:bg-blue-50 rounded-lg transition-colors",title:"Tlcharger",children:s.jsx(Es,{className:"h-4 w-4"})}),s.jsx("button",{onClick:()=>g(w.id),className:"p-2 text-red-600 hover:bg-red-50 rounded-lg transition-colors",title:"Supprimer",disabled:o.isPending,children:s.jsx(Bn,{className:"h-4 w-4"})})]})})]},w.id))})]})})]}),s.jsx("div",{className:"bg-blue-50 border border-blue-200 rounded-lg p-6",children:s.jsxs("div",{className:"flex items-start gap-4",children:[s.jsx("div",{className:"bg-blue-100 p-3 rounded-lg",children:s.jsx(Wr,{className:"h-6 w-6 text-blue-600"})}),s.jsxs("div",{children:[s.jsx("h3",{className:"font-semibold text-blue-900 mb-2",children:" propos des certificats"}),s.jsxs("ul",{className:"text-sm text-blue-800 space-y-1",children:[s.jsx("li",{children:" Les certificats sont gnrs automatiquement quand un tudiant complte une formation"}),s.jsx("li",{children:" Chaque certificat possde un numro unique pour vrification"}),s.jsx("li",{children:" La suppression d'un certificat est dfinitive"}),s.jsx("li",{children:" Les certificats peuvent tre tlchargs en PDF  tout moment"})]})]})]})})]})})},tb={getAll:async()=>(await at.get("/template-folders")).folders,getTree:async()=>(await at.get("/template-folders/tree")).tree,getById:async e=>(await at.get(`/template-folders/${e}`)).folder,create:async e=>(await at.post("/template-folders",e)).folder,update:async(e,t)=>(await at.put(`/template-folders/${e}`,t)).folder,delete:async e=>{await at.delete(`/template-folders/${e}`)},move:async(e,t)=>(await at.post(`/template-folders/${e}/move`,t)).folder},l_e=()=>or({queryKey:["template-folders-tree"],queryFn:()=>tb.getTree()}),o_e=()=>{const e=Pt();return It({mutationFn:t=>tb.create(t),onSuccess:()=>{e.invalidateQueries({queryKey:["template-folders"]}),e.invalidateQueries({queryKey:["template-folders-tree"]}),e.invalidateQueries({queryKey:["certificate-templates"]})}})},c_e=()=>{const e=Pt();return It({mutationFn:({id:t,data:r})=>tb.update(t,r),onSuccess:(t,r)=>{e.invalidateQueries({queryKey:["template-folders"]}),e.invalidateQueries({queryKey:["template-folders-tree"]}),e.invalidateQueries({queryKey:["template-folder",r.id]})}})},u_e=()=>{const e=Pt();return It({mutationFn:t=>tb.delete(t),onSuccess:()=>{e.invalidateQueries({queryKey:["template-folders"]}),e.invalidateQueries({queryKey:["template-folders-tree"]}),e.invalidateQueries({queryKey:["certificate-templates"]})}})},f_e=({isOpen:e,onClose:t,onSubmit:r,folder:n,folders:a,isLoading:i=!1,mode:l})=>{const[o,u]=k.useState(""),[f,h]=k.useState(null);k.useEffect(()=>{e&&(l==="edit"&&n?(u(n.name),h(n.parent_id)):(u(""),h(null)))},[e,l,n]);const m=x=>{x.preventDefault(),o.trim()&&r(o.trim(),l==="create"?f:void 0)};if(!e)return null;const g=a.filter(x=>l==="edit"&&n?x.id!==n.id:!0);return s.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:s.jsxs("div",{className:"bg-white rounded-lg shadow-xl max-w-md w-full mx-4",children:[s.jsxs("div",{className:"flex items-center justify-between p-4 border-b border-gray-200",children:[s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(Am,{className:"h-5 w-5 text-blue-600"}),s.jsx("h2",{className:"text-lg font-semibold text-gray-900",children:l==="create"?"Nouveau Dossier":"Renommer le Dossier"})]}),s.jsx("button",{onClick:t,className:"p-1 hover:bg-gray-100 rounded transition-colors",disabled:i,children:s.jsx(ma,{className:"h-5 w-5 text-gray-500"})})]}),s.jsxs("form",{onSubmit:m,className:"p-4 space-y-4",children:[s.jsxs("div",{children:[s.jsxs("label",{htmlFor:"folder-name",className:"block text-sm font-medium text-gray-700 mb-1",children:["Nom du dossier ",s.jsx("span",{className:"text-red-500",children:"*"})]}),s.jsx("input",{id:"folder-name",type:"text",value:o,onChange:x=>u(x.target.value),placeholder:"Ex: Formation KSS",className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500",required:!0,disabled:i,autoFocus:!0})]}),l==="create"&&s.jsxs("div",{children:[s.jsx("label",{htmlFor:"parent-folder",className:"block text-sm font-medium text-gray-700 mb-1",children:"Dossier parent (optionnel)"}),s.jsxs("select",{id:"parent-folder",value:f||"",onChange:x=>h(x.target.value||null),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500",disabled:i,children:[s.jsx("option",{value:"",children:" Racine (aucun parent)"}),g.map(x=>s.jsxs("option",{value:x.id,children:[" ",x.name]},x.id))]}),s.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"Laissez vide pour crer un dossier  la racine"})]}),s.jsxs("div",{className:"flex items-center justify-end gap-2 pt-2",children:[s.jsx("button",{type:"button",onClick:t,className:"px-4 py-2 text-sm text-gray-700 bg-gray-100 hover:bg-gray-200 rounded-lg transition-colors",disabled:i,children:"Annuler"}),s.jsx("button",{type:"submit",className:"px-4 py-2 text-sm text-white bg-blue-600 hover:bg-blue-700 rounded-lg transition-colors disabled:opacity-50",disabled:i||!o.trim(),children:i?"Enregistrement...":l==="create"?"Crer":"Enregistrer"})]})]})]})})},d_e=({currentPath:e,onNavigate:t})=>s.jsxs("div",{className:"flex items-center gap-1 px-4 py-3 bg-white border border-gray-200 rounded-lg shadow-sm",children:[s.jsxs("button",{onClick:()=>t(null),className:"flex items-center gap-1.5 px-3 py-1.5 text-sm text-gray-700 hover:bg-blue-50 hover:text-blue-700 rounded transition-colors",title:"Accueil",children:[s.jsx(_x,{className:"h-4 w-4"}),s.jsx("span",{className:"font-medium",children:"Accueil"})]}),e.map((r,n)=>s.jsxs(Zu.Fragment,{children:[s.jsx(yc,{className:"h-4 w-4 text-gray-400 flex-shrink-0"}),s.jsxs("button",{onClick:()=>t(r.id),className:`flex items-center gap-1.5 px-3 py-1.5 text-sm rounded transition-colors ${n===e.length-1?"bg-blue-100 text-blue-800 font-semibold":"text-gray-700 hover:bg-blue-50 hover:text-blue-700"}`,title:r.name,children:[s.jsx(Am,{className:"h-4 w-4"}),s.jsx("span",{className:"max-w-[200px] truncate",children:r.name})]})]},r.id))]}),h_e={A4:{width:210,height:297,label:"A4 (210 x 297 mm)"},Letter:{width:216,height:279,label:"Letter (216 x 279 mm)"},Badge:{width:85,height:55,label:"Badge (85 x 55 mm)"},Custom:{width:210,height:297,label:"Personnalis"}},m_e=({isOpen:e,onClose:t,onSubmit:r,currentFolderName:n})=>{const[a,i]=k.useState(""),[l,o]=k.useState("A4"),[u,f]=k.useState("portrait"),[h,m]=k.useState(10),[g,x]=k.useState(210),[b,v]=k.useState(297),[w,N]=k.useState("");if(!e)return null;const E=T=>{if(T.preventDefault(),!a.trim()){N("Le nom du template est requis");return}if(h<0||h>50){N("Les marges doivent tre entre 0 et 50 mm");return}if(l==="Custom"&&(g<10||g>500||b<10||b>500)){N("Les dimensions personnalises doivent tre entre 10 et 500 mm");return}const O={name:a.trim(),format:l,orientation:u,margins:h};l==="Custom"&&(O.customWidth=g,O.customHeight=b),r(O),j()},j=()=>{i(""),o("A4"),f("portrait"),m(10),x(210),v(297),N(""),t()};return s.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:s.jsxs("div",{className:"bg-white rounded-xl shadow-2xl max-w-md w-full max-h-[90vh] overflow-y-auto",children:[s.jsxs("div",{className:"flex items-center justify-between p-6 border-b border-gray-200 bg-gradient-to-r from-blue-50 to-blue-100",children:[s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx("div",{className:"p-2 bg-blue-600 rounded-lg",children:s.jsx(ks,{className:"h-5 w-5 text-white"})}),s.jsxs("div",{children:[s.jsx("h2",{className:"text-xl font-bold text-gray-900",children:"Nouveau Template Canvas"}),n&&s.jsxs("p",{className:"text-sm text-gray-600 mt-0.5",children:["Dossier: ",s.jsx("span",{className:"font-medium",children:n})]})]})]}),s.jsx("button",{onClick:j,className:"p-2 hover:bg-blue-200 rounded-lg transition-colors",type:"button",children:s.jsx(ma,{className:"h-5 w-5 text-gray-600"})})]}),s.jsxs("form",{onSubmit:E,className:"p-6 space-y-5",children:[w&&s.jsx("div",{className:"bg-red-50 border border-red-200 text-red-700 px-4 py-3 rounded-lg text-sm",children:w}),s.jsxs("div",{children:[s.jsxs("label",{className:"block text-sm font-semibold text-gray-700 mb-2",children:["Nom du template ",s.jsx("span",{className:"text-red-500",children:"*"})]}),s.jsx("input",{type:"text",value:a,onChange:T=>{i(T.target.value),N("")},className:"w-full px-4 py-2.5 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500 outline-none transition-all",placeholder:"Ex: Certificat de Formation",autoFocus:!0})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-semibold text-gray-700 mb-2",children:"Format"}),s.jsx("select",{value:l,onChange:T=>o(T.target.value),className:"w-full px-4 py-2.5 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500 outline-none transition-all",children:Object.entries(h_e).map(([T,{label:O}])=>s.jsx("option",{value:T,children:O},T))})]}),l==="Custom"&&s.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-semibold text-gray-700 mb-2",children:"Largeur (mm)"}),s.jsx("input",{type:"number",value:g,onChange:T=>x(parseInt(T.target.value)||0),className:"w-full px-4 py-2.5 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500 outline-none transition-all",min:"10",max:"500"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-semibold text-gray-700 mb-2",children:"Hauteur (mm)"}),s.jsx("input",{type:"number",value:b,onChange:T=>v(parseInt(T.target.value)||0),className:"w-full px-4 py-2.5 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500 outline-none transition-all",min:"10",max:"500"})]})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-semibold text-gray-700 mb-2",children:"Orientation"}),s.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[s.jsx("button",{type:"button",onClick:()=>f("portrait"),className:`px-4 py-3 border-2 rounded-lg font-medium transition-all ${u==="portrait"?"border-blue-500 bg-blue-50 text-blue-700":"border-gray-300 bg-white text-gray-700 hover:border-gray-400"}`,children:"Portrait"}),s.jsx("button",{type:"button",onClick:()=>f("landscape"),className:`px-4 py-3 border-2 rounded-lg font-medium transition-all ${u==="landscape"?"border-blue-500 bg-blue-50 text-blue-700":"border-gray-300 bg-white text-gray-700 hover:border-gray-400"}`,children:"Paysage"})]})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-semibold text-gray-700 mb-2",children:"Marges (mm)"}),s.jsx("input",{type:"number",value:h,onChange:T=>m(parseInt(T.target.value)||0),className:"w-full px-4 py-2.5 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500 outline-none transition-all",min:"0",max:"50"}),s.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"Valeur par dfaut: 10mm"})]}),s.jsxs("div",{className:"flex gap-3 pt-4",children:[s.jsx("button",{type:"button",onClick:j,className:"flex-1 px-5 py-2.5 border border-gray-300 text-gray-700 rounded-lg hover:bg-gray-50 transition-colors font-medium",children:"Annuler"}),s.jsx("button",{type:"submit",className:"flex-1 px-5 py-2.5 bg-gradient-to-r from-blue-600 to-blue-700 text-white rounded-lg hover:from-blue-700 hover:to-blue-800 transition-all shadow-md hover:shadow-lg font-medium",children:"Crer et Modifier"})]})]})]})})},p_e=({isOpen:e,onClose:t,onSubmit:r,currentName:n,isLoading:a=!1})=>{const[i,l]=k.useState(n),[o,u]=k.useState("");k.useEffect(()=>{e&&(l(n),u(""))},[e,n]);const f=m=>{m.preventDefault();const g=i.trim();if(!g){u("Le nom du template est requis");return}if(g===n){u("Le nouveau nom doit tre diffrent de l'ancien");return}if(g.length<3){u("Le nom doit contenir au moins 3 caractres");return}if(g.length>100){u("Le nom ne peut pas dpasser 100 caractres");return}r(g)},h=()=>{a||(l(n),u(""),t())};return e?s.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:s.jsxs("div",{className:"bg-white rounded-xl shadow-2xl max-w-md w-full",children:[s.jsxs("div",{className:"flex items-center justify-between p-6 border-b border-gray-200 bg-gradient-to-r from-blue-50 to-blue-100",children:[s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx("div",{className:"p-2 bg-blue-600 rounded-lg",children:s.jsx(oh,{className:"h-5 w-5 text-white"})}),s.jsx("h2",{className:"text-xl font-bold text-gray-900",children:"Renommer le Template"})]}),s.jsx("button",{onClick:h,disabled:a,className:"p-2 hover:bg-blue-200 rounded-lg transition-colors disabled:opacity-50",type:"button",children:s.jsx(ma,{className:"h-5 w-5 text-gray-600"})})]}),s.jsxs("form",{onSubmit:f,className:"p-6 space-y-5",children:[o&&s.jsx("div",{className:"bg-red-50 border border-red-200 text-red-700 px-4 py-3 rounded-lg text-sm",children:o}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-600 mb-1",children:"Nom actuel"}),s.jsx("div",{className:"px-4 py-2.5 bg-gray-50 border border-gray-200 rounded-lg text-sm text-gray-700",children:n})]}),s.jsxs("div",{children:[s.jsxs("label",{className:"block text-sm font-semibold text-gray-700 mb-2",children:["Nouveau nom ",s.jsx("span",{className:"text-red-500",children:"*"})]}),s.jsx("input",{type:"text",value:i,onChange:m=>{l(m.target.value),u("")},className:"w-full px-4 py-2.5 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500 outline-none transition-all",placeholder:"Entrez le nouveau nom",autoFocus:!0,disabled:a}),s.jsx("p",{className:"text-xs text-gray-500 mt-1.5",children:"Minimum 3 caractres, maximum 100"})]}),s.jsxs("div",{className:"flex gap-3 pt-4",children:[s.jsx("button",{type:"button",onClick:h,disabled:a,className:"flex-1 px-5 py-2.5 border border-gray-300 text-gray-700 rounded-lg hover:bg-gray-50 transition-colors font-medium disabled:opacity-50",children:"Annuler"}),s.jsx("button",{type:"submit",disabled:a,className:"flex-1 px-5 py-2.5 bg-gradient-to-r from-blue-600 to-blue-700 text-white rounded-lg hover:from-blue-700 hover:to-blue-800 transition-all shadow-md hover:shadow-lg font-medium disabled:opacity-50 disabled:cursor-not-allowed",children:a?"Renommage...":"Renommer"})]})]})]})}):null},x_e=({isOpen:e,onClose:t,onSubmit:r,currentName:n,isLoading:a=!1})=>{const[i,l]=k.useState(n),[o,u]=k.useState("");k.useEffect(()=>{e&&(l(n),u(""))},[e,n]);const f=m=>{m.preventDefault();const g=i.trim();if(!g){u("Le nom du dossier est requis");return}if(g===n){u("Le nouveau nom doit tre diffrent de l'ancien");return}if(g.length<3){u("Le nom doit contenir au moins 3 caractres");return}if(g.length>100){u("Le nom ne peut pas dpasser 100 caractres");return}r(g)},h=()=>{a||(l(n),u(""),t())};return e?s.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:s.jsxs("div",{className:"bg-white rounded-xl shadow-2xl max-w-md w-full",children:[s.jsxs("div",{className:"flex items-center justify-between p-6 border-b border-gray-200 bg-gradient-to-r from-purple-50 to-purple-100",children:[s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx("div",{className:"p-2 bg-purple-600 rounded-lg",children:s.jsx(JH,{className:"h-5 w-5 text-white"})}),s.jsx("h2",{className:"text-xl font-bold text-gray-900",children:"Renommer le Dossier"})]}),s.jsx("button",{onClick:h,disabled:a,className:"p-2 hover:bg-purple-200 rounded-lg transition-colors disabled:opacity-50",type:"button",children:s.jsx(ma,{className:"h-5 w-5 text-gray-600"})})]}),s.jsxs("form",{onSubmit:f,className:"p-6 space-y-5",children:[o&&s.jsx("div",{className:"bg-red-50 border border-red-200 text-red-700 px-4 py-3 rounded-lg text-sm",children:o}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-600 mb-1",children:"Nom actuel"}),s.jsx("div",{className:"px-4 py-2.5 bg-gray-50 border border-gray-200 rounded-lg text-sm text-gray-700",children:n})]}),s.jsxs("div",{children:[s.jsxs("label",{className:"block text-sm font-semibold text-gray-700 mb-2",children:["Nouveau nom ",s.jsx("span",{className:"text-red-500",children:"*"})]}),s.jsx("input",{type:"text",value:i,onChange:m=>{l(m.target.value),u("")},className:"w-full px-4 py-2.5 border border-gray-300 rounded-lg focus:ring-2 focus:ring-purple-500 focus:border-purple-500 outline-none transition-all",placeholder:"Entrez le nouveau nom",autoFocus:!0,disabled:a}),s.jsx("p",{className:"text-xs text-gray-500 mt-1.5",children:"Minimum 3 caractres, maximum 100"})]}),s.jsxs("div",{className:"flex gap-3 pt-4",children:[s.jsx("button",{type:"button",onClick:h,disabled:a,className:"flex-1 px-5 py-2.5 border border-gray-300 text-gray-700 rounded-lg hover:bg-gray-50 transition-colors font-medium disabled:opacity-50",children:"Annuler"}),s.jsx("button",{type:"submit",disabled:a,className:"flex-1 px-5 py-2.5 bg-gradient-to-r from-purple-600 to-purple-700 text-white rounded-lg hover:from-purple-700 hover:to-purple-800 transition-all shadow-md hover:shadow-lg font-medium disabled:opacity-50 disabled:cursor-not-allowed",children:a?"Renommage...":"Renommer"})]})]})]})}):null},g_e=({isOpen:e,onClose:t,onSubmit:r,folders:n,currentFolderId:a,templateName:i,isLoading:l=!1})=>{const[o,u]=k.useState(""),[f,h]=k.useState(""),m=b=>{if(b.preventDefault(),!o){h("Veuillez slectionner un dossier de destination");return}if(o===a){h("Veuillez choisir un dossier diffrent du dossier actuel");return}r(o)},g=()=>{l||(u(""),h(""),t())},x=n.find(b=>b.id===a);return e?s.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:s.jsxs("div",{className:"bg-white rounded-xl shadow-2xl max-w-md w-full",children:[s.jsxs("div",{className:"flex items-center justify-between p-6 border-b border-gray-200 bg-gradient-to-r from-blue-50 to-blue-100",children:[s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx("div",{className:"p-2 bg-blue-600 rounded-lg",children:s.jsx(T0,{className:"h-5 w-5 text-white"})}),s.jsx("h2",{className:"text-xl font-bold text-gray-900",children:"Dupliquer vers un dossier"})]}),s.jsx("button",{onClick:g,disabled:l,className:"p-2 hover:bg-blue-200 rounded-lg transition-colors disabled:opacity-50",type:"button",children:s.jsx(ma,{className:"h-5 w-5 text-gray-600"})})]}),s.jsxs("form",{onSubmit:m,className:"p-6 space-y-5",children:[f&&s.jsx("div",{className:"bg-red-50 border border-red-200 text-red-700 px-4 py-3 rounded-lg text-sm",children:f}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-600 mb-1",children:"Template  dupliquer"}),s.jsx("div",{className:"px-4 py-2.5 bg-gray-50 border border-gray-200 rounded-lg text-sm text-gray-700 font-medium",children:i})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-600 mb-1",children:"Dossier actuel"}),s.jsxs("div",{className:"px-4 py-2.5 bg-gray-50 border border-gray-200 rounded-lg text-sm text-gray-700 flex items-center gap-2",children:[s.jsx(Am,{className:"h-4 w-4 text-gray-500"}),x?.name||"Tous les dossiers"]})]}),s.jsxs("div",{children:[s.jsxs("label",{className:"block text-sm font-semibold text-gray-700 mb-2",children:["Dossier de destination ",s.jsx("span",{className:"text-red-500",children:"*"})]}),s.jsxs("select",{value:o,onChange:b=>{u(b.target.value),h("")},className:"w-full px-4 py-2.5 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500 outline-none transition-all",disabled:l,children:[s.jsx("option",{value:"",children:"Slectionnez un dossier"}),n.filter(b=>b.id!==a).map(b=>s.jsx("option",{value:b.id,children:b.name},b.id))]}),s.jsx("p",{className:"text-xs text-gray-500 mt-1.5",children:'Le template sera dupliqu avec le suffixe " - Copie"'})]}),s.jsxs("div",{className:"flex gap-3 pt-4",children:[s.jsx("button",{type:"button",onClick:g,disabled:l,className:"flex-1 px-5 py-2.5 border border-gray-300 text-gray-700 rounded-lg hover:bg-gray-50 transition-colors font-medium disabled:opacity-50",children:"Annuler"}),s.jsx("button",{type:"submit",disabled:l,className:"flex-1 px-5 py-2.5 bg-gradient-to-r from-blue-600 to-blue-700 text-white rounded-lg hover:from-blue-700 hover:to-blue-800 transition-all shadow-md hover:shadow-lg font-medium disabled:opacity-50 disabled:cursor-not-allowed",children:l?"Duplication...":"Dupliquer"})]})]})]})}):null},v_e=()=>{const e=Fn(),{data:t,isLoading:r,error:n}=NL(),{data:a,isLoading:i}=l_e(),l=ose(),o=cse(),u=use(),f=_L(),h=o_e(),m=c_e(),g=u_e(),[x,b]=k.useState(null),[v,w]=k.useState(null),[N,E]=k.useState(!1),[j,T]=k.useState("create"),[O,F]=k.useState(null),[D,L]=k.useState(!1),[B,H]=k.useState(!1),[P,U]=k.useState(null),[K,ee]=k.useState(!1),[me,ne]=k.useState(null),[se,ye]=k.useState(!1),[ce,Se]=k.useState(null),[te,M]=k.useState(null),R=k.useMemo(()=>t?v?t.filter(Ke=>Ke.folder_id===v):t:[],[t,v]),q=k.useMemo(()=>{if(!v||!a)return null;const Ke=pt=>{for(const Et of pt){if(Et.id===v)return Et;if(Et.children){const zt=Ke(Et.children);if(zt)return zt}}return null};return Ke(a)},[v,a]),W=k.useMemo(()=>a?v?q&&q.children?q.children:[]:a:[],[v,q,a]),J=k.useMemo(()=>{if(!v||!a)return[];const Ke=(pt,Et,zt=[])=>{for(const Gt of pt){const Ar=[...zt,Gt];if(Gt.id===Et)return Ar;if(Gt.children){const Lt=Ke(Gt.children,Et,Ar);if(Lt)return Lt}}return null};return Ke(a,v)||[]},[v,a]),le=k.useMemo(()=>{if(!a)return[];const Ke=(pt,Et=[])=>{for(const zt of pt)Et.push(zt),zt.children&&Ke(zt.children,Et);return Et};return Ke(a)},[a]),ue=async Ke=>{try{await l.mutateAsync(Ke),b(null)}catch(pt){alert("Erreur: "+(pt.message||"Impossible de supprimer ce template"))}},X=async Ke=>{try{await o.mutateAsync(Ke)}catch(pt){alert("Erreur: "+(pt.message||"Impossible de dupliquer ce template"))}},ge=(Ke,pt)=>{U({id:Ke,name:pt}),H(!0)},Te=async Ke=>{if(P)try{await f.mutateAsync({id:P.id,data:{name:Ke}}),H(!1),U(null)}catch(pt){alert("Erreur: "+(pt.message||"Impossible de renommer ce template"))}},Y=(Ke,pt,Et)=>{Se({id:Ke,name:pt,folderId:Et}),ye(!0)},We=async Ke=>{if(ce)try{await u.mutateAsync({id:ce.id,targetFolderId:Ke}),ye(!1),Se(null)}catch(pt){alert("Erreur: "+(pt.message||"Impossible de dupliquer ce template"))}},Ee=(Ke,pt)=>{ne({id:Ke,name:pt}),ee(!0)},xe=async Ke=>{if(me)try{await m.mutateAsync({id:me.id,data:{name:Ke}}),ee(!1),ne(null)}catch(pt){alert("Erreur: "+(pt.message||"Impossible de renommer ce dossier"))}},dt=Ke=>{M(Ke)},Xe=async()=>{if(te)try{await g.mutateAsync(te),v===te&&w(null),M(null)}catch(Ke){alert("Erreur: "+(Ke.message||"Impossible de supprimer ce dossier")),M(null)}},bt=()=>{T("create"),F(null),E(!0)},lt=async(Ke,pt)=>{try{j==="create"?await h.mutateAsync({name:Ke,parent_id:pt!==void 0?pt:v}):O&&await m.mutateAsync({id:O.id,data:{name:Ke}}),E(!1)}catch(Et){alert("Erreur: "+(Et.message||"Impossible d'enregistrer le dossier"))}},Ct=()=>{if(le.length===0){alert("Veuillez d'abord crer au moins un dossier avant de crer un template."),bt();return}L(!0)},xt=Ke=>{const pt=v||le[0]?.id,Et=new URLSearchParams({folderId:pt,name:Ke.name,format:Ke.format,orientation:Ke.orientation,margins:Ke.margins.toString()});Ke.format==="Custom"&&Ke.customWidth&&Ke.customHeight&&(Et.set("customWidth",Ke.customWidth.toString()),Et.set("customHeight",Ke.customHeight.toString())),e(`/admin/certificate-templates/new/canvas-edit?${Et.toString()}`)};return r||i?s.jsx(da,{children:s.jsx("div",{className:"flex items-center justify-center h-64",children:s.jsx("div",{className:"text-gray-500",children:"Chargement des templates..."})})}):n?s.jsx(da,{children:s.jsx("div",{className:"bg-red-50 border border-red-200 rounded-lg p-4",children:s.jsxs("div",{className:"flex items-center gap-2 text-red-800",children:[s.jsx(Wr,{className:"h-5 w-5"}),s.jsx("span",{children:"Erreur lors du chargement des templates"})]})})}):s.jsx(da,{children:s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsxs("h1",{className:"text-2xl font-bold text-gray-900 flex items-center gap-2",children:[s.jsx(si,{className:"h-7 w-7 text-blue-600"}),"Templates de Certificats"]}),s.jsx("p",{className:"text-sm text-gray-600 mt-1",children:"Grez les templates utiliss pour gnrer les certificats"})]}),s.jsxs("div",{className:"flex gap-3",children:[s.jsxs("button",{onClick:bt,className:"px-5 py-2.5 bg-gradient-to-r from-purple-600 to-purple-700 text-white rounded-lg hover:from-purple-700 hover:to-purple-800 transition-all shadow-md hover:shadow-lg flex items-center gap-2 font-medium",children:[s.jsx(CE,{className:"h-5 w-5"}),"Nouveau Dossier"]}),s.jsxs("button",{onClick:Ct,className:"px-5 py-2.5 bg-gradient-to-r from-blue-600 to-blue-700 text-white rounded-lg hover:from-blue-700 hover:to-blue-800 transition-all shadow-md hover:shadow-lg flex items-center gap-2 font-medium",children:[s.jsx(eF,{className:"h-5 w-5"}),"Ajouter Template Canvas"]})]})]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[s.jsxs("div",{className:"bg-gradient-to-br from-blue-50 to-blue-100 rounded-lg p-4 border border-blue-200",children:[s.jsx("div",{className:"text-sm text-blue-600 font-medium",children:"Total Templates"}),s.jsx("div",{className:"text-3xl font-bold text-blue-900 mt-1",children:t?.length||0})]}),s.jsxs("div",{className:"bg-gradient-to-br from-purple-50 to-purple-100 rounded-lg p-4 border border-purple-200",children:[s.jsx("div",{className:"text-sm text-purple-600 font-medium",children:"Dossiers"}),s.jsx("div",{className:"text-3xl font-bold text-purple-900 mt-1",children:le?.length||0})]}),s.jsxs("div",{className:"bg-gradient-to-br from-green-50 to-green-100 rounded-lg p-4 border border-green-200",children:[s.jsx("div",{className:"text-sm text-green-600 font-medium",children:"Dossier Actuel"}),s.jsx("div",{className:"text-lg font-bold text-green-900 mt-1 truncate",children:q?q.name:"Tous"})]})]}),s.jsx(d_e,{currentPath:J,onNavigate:w}),s.jsx("div",{children:W.length===0&&R.length===0?s.jsxs("div",{className:"bg-white rounded-lg border border-gray-200 p-12 text-center",children:[s.jsx(Am,{className:"h-16 w-16 text-gray-300 mx-auto mb-4"}),s.jsx("p",{className:"text-gray-600 text-sm",children:le.length===0?'Aucun dossier. Utilisez le bouton "Nouveau Dossier" pour commencer.':q?"Ce dossier est vide":"Aucun contenu"})]}):s.jsxs("div",{className:"space-y-6",children:[W.length>0&&s.jsxs("div",{children:[s.jsxs("h3",{className:"text-sm font-semibold text-gray-700 mb-3 flex items-center gap-2",children:[s.jsx(Am,{className:"h-4 w-4"}),"Dossiers (",W.length,")"]}),s.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 xl:grid-cols-5 gap-3",children:W.map(Ke=>s.jsxs("div",{className:"relative bg-white rounded-lg border-2 border-gray-200 hover:border-purple-300 hover:shadow-lg transition-all duration-200",children:[s.jsxs("button",{onClick:()=>w(Ke.id),className:"group w-full p-5 text-left",children:[s.jsxs("div",{className:"flex items-center gap-3 mb-3",children:[s.jsx("div",{className:"p-3 bg-gradient-to-br from-purple-100 to-purple-200 rounded-lg group-hover:from-purple-200 group-hover:to-purple-300 transition-all",children:s.jsx(QH,{className:"h-8 w-8 text-purple-600"})}),s.jsx(yc,{className:"h-5 w-5 text-gray-400 group-hover:text-purple-600 transition-colors"})]}),s.jsxs("div",{children:[s.jsx("h4",{className:"font-bold text-gray-900 text-sm mb-1 truncate group-hover:text-purple-700 transition-colors",children:Ke.name}),s.jsxs("p",{className:"text-xs text-gray-500",children:[Ke.template_count||0," template",(Ke.template_count||0)!==1?"s":"",Ke.children&&Ke.children.length>0&&s.jsxs(s.Fragment,{children:["  ",Ke.children.length," sous-dossier",Ke.children.length!==1?"s":""]})]})]})]}),s.jsxs("div",{className:"px-5 pb-4 flex gap-2",children:[s.jsxs("button",{onClick:pt=>{pt.stopPropagation(),Ee(Ke.id,Ke.name)},className:"flex-1 px-2 py-1.5 bg-green-50 text-green-700 rounded border border-green-300 hover:bg-green-100 transition-colors text-xs font-medium flex items-center justify-center gap-1",title:"Renommer le dossier",children:[s.jsx(zm,{className:"h-3 w-3"}),"Renommer"]}),s.jsxs("button",{onClick:pt=>{pt.stopPropagation(),dt(Ke.id)},disabled:g.isPending&&te===Ke.id,className:"flex-1 px-2 py-1.5 bg-red-50 text-red-700 rounded border border-red-300 hover:bg-red-100 transition-colors text-xs font-medium flex items-center justify-center gap-1 disabled:opacity-50",title:"Supprimer le dossier",children:[s.jsx(Bn,{className:"h-3 w-3"}),"Supprimer"]})]}),te===Ke.id&&s.jsx("div",{className:"absolute inset-0 bg-black bg-opacity-50 flex items-center justify-center rounded-lg",children:s.jsxs("div",{className:"bg-white p-4 rounded-lg shadow-xl max-w-xs mx-4",children:[s.jsx("h4",{className:"font-bold text-gray-900 text-sm mb-2",children:"Confirmer la suppression"}),s.jsxs("p",{className:"text-xs text-gray-600 mb-4",children:['Supprimer le dossier "',Ke.name,'" ?',s.jsx("br",{}),s.jsx("span",{className:"text-red-600 font-medium",children:"Le dossier doit tre vide."})]}),s.jsxs("div",{className:"flex gap-2",children:[s.jsx("button",{onClick:()=>M(null),className:"flex-1 px-3 py-1.5 bg-gray-100 text-gray-700 rounded hover:bg-gray-200 transition-colors text-xs font-medium",children:"Annuler"}),s.jsx("button",{onClick:Xe,className:"flex-1 px-3 py-1.5 bg-red-600 text-white rounded hover:bg-red-700 transition-colors text-xs font-medium",children:"Supprimer"})]})]})})]},Ke.id))})]}),R.length>0&&s.jsxs("div",{children:[s.jsxs("h3",{className:"text-sm font-semibold text-gray-700 mb-3 flex items-center gap-2",children:[s.jsx(si,{className:"h-4 w-4"}),"Templates (",R.length,")"]}),s.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 gap-4",children:R.map(Ke=>s.jsxs("div",{className:"bg-white rounded-lg border-2 border-gray-200 hover:border-blue-300 hover:shadow-lg transition-all duration-200 relative",children:[s.jsx("div",{className:"h-40 bg-gradient-to-br from-gray-50 to-gray-100 rounded-t-lg flex items-center justify-center relative overflow-hidden",children:s.jsxs("div",{className:"text-center p-4",children:[s.jsx(si,{className:"h-16 w-16 text-gray-300 mx-auto mb-2"}),s.jsxs("div",{className:"text-xs text-gray-500 font-mono",children:[Ke.template_config.layout.orientation==="landscape"?"Paysage":"Portrait"," "," ",Ke.template_config.layout.format.toUpperCase()]})]})}),s.jsxs("div",{className:"p-4",children:[s.jsx("h3",{className:"font-bold text-gray-900 text-base mb-1",children:Ke.name}),s.jsx("p",{className:"text-xs text-gray-600 mb-2 line-clamp-2",children:Ke.description||"Aucune description"}),Ke.folder_name&&s.jsx("div",{className:"mb-3",children:s.jsxs("span",{className:"inline-flex items-center gap-1 px-2 py-1 bg-purple-50 text-purple-700 rounded text-xs",children:[s.jsx(Am,{className:"h-3 w-3"}),Ke.folder_name]})}),s.jsxs("div",{className:"flex gap-1 mb-3",children:[s.jsx("div",{className:"w-6 h-6 rounded border border-gray-300",style:{backgroundColor:Ke.template_config.colors.primary},title:"Couleur primaire"}),s.jsx("div",{className:"w-6 h-6 rounded border border-gray-300",style:{backgroundColor:Ke.template_config.colors.secondary},title:"Couleur secondaire"}),s.jsx("div",{className:"w-6 h-6 rounded border border-gray-300",style:{backgroundColor:Ke.template_config.colors.text},title:"Couleur du texte"})]}),s.jsxs("div",{className:"grid grid-cols-3 gap-2",children:[s.jsxs("button",{onClick:()=>ge(Ke.id,Ke.name),className:"px-2 py-1.5 bg-green-50 text-green-700 rounded border border-green-300 hover:bg-green-100 transition-colors text-xs font-medium flex items-center justify-center gap-1",title:"Renommer le template",children:[s.jsx(zm,{className:"h-3 w-3"}),"Renommer"]}),s.jsxs("button",{onClick:()=>X(Ke.id),disabled:o.isPending,className:"px-2 py-1.5 bg-blue-50 text-blue-700 rounded border border-blue-300 hover:bg-blue-100 transition-colors text-xs font-medium flex items-center justify-center gap-1 disabled:opacity-50",children:[s.jsx(T0,{className:"h-3 w-3"}),"Dupliquer"]}),s.jsxs("button",{onClick:()=>Y(Ke.id,Ke.name,Ke.folder_id),disabled:u.isPending,className:"px-2 py-1.5 bg-cyan-50 text-cyan-700 rounded border border-cyan-300 hover:bg-cyan-100 transition-colors text-xs font-medium flex items-center justify-center gap-1 disabled:opacity-50",title:"Dupliquer vers un autre dossier",children:[s.jsx(CE,{className:"h-3 w-3"}),"Vers dossier"]}),s.jsxs("button",{onClick:()=>e(`/admin/certificate-templates/${Ke.id}/canvas-edit`),className:"px-2 py-1.5 bg-purple-50 text-purple-700 rounded border border-purple-300 hover:bg-purple-100 transition-colors text-xs font-medium flex items-center justify-center gap-1",title:"Modifier avec l'diteur Canvas",children:[s.jsx(oh,{className:"h-3 w-3"}),"Modifier"]}),s.jsxs("button",{onClick:()=>b(Ke.id),disabled:l.isPending,className:"px-2 py-1.5 bg-red-50 text-red-700 rounded border border-red-300 hover:bg-red-100 transition-colors text-xs font-medium flex items-center justify-center gap-1 disabled:opacity-50 col-span-2",children:[s.jsx(Bn,{className:"h-3 w-3"}),"Supprimer"]})]})]}),x===Ke.id&&s.jsx("div",{className:"absolute inset-0 bg-black bg-opacity-50 flex items-center justify-center rounded-lg",children:s.jsxs("div",{className:"bg-white p-4 rounded-lg shadow-xl max-w-xs mx-4",children:[s.jsx("h4",{className:"font-bold text-gray-900 text-sm mb-2",children:"Confirmer la suppression"}),s.jsxs("p",{className:"text-xs text-gray-600 mb-4",children:['tes-vous sr de vouloir supprimer le template "',Ke.name,'" ?']}),s.jsxs("div",{className:"flex gap-2",children:[s.jsx("button",{onClick:()=>b(null),className:"flex-1 px-3 py-1.5 bg-gray-100 text-gray-700 rounded hover:bg-gray-200 transition-colors text-xs font-medium",children:"Annuler"}),s.jsx("button",{onClick:()=>ue(Ke.id),className:"flex-1 px-3 py-1.5 bg-red-600 text-white rounded hover:bg-red-700 transition-colors text-xs font-medium",children:"Supprimer"})]})]})})]},Ke.id))})]})]})}),s.jsx(f_e,{isOpen:N,onClose:()=>E(!1),onSubmit:lt,folder:O,folders:le,isLoading:h.isPending||m.isPending,mode:j}),s.jsx(m_e,{isOpen:D,onClose:()=>L(!1),onSubmit:xt,currentFolderName:q?.name||"Tous les dossiers"}),P&&s.jsx(p_e,{isOpen:B,onClose:()=>{H(!1),U(null)},onSubmit:Te,currentName:P.name,isLoading:f.isPending}),me&&s.jsx(x_e,{isOpen:K,onClose:()=>{ee(!1),ne(null)},onSubmit:xe,currentName:me.name,isLoading:m.isPending}),ce&&s.jsx(g_e,{isOpen:se,onClose:()=>{ye(!1),Se(null)},onSubmit:We,folders:le,currentFolderId:ce.folderId,templateName:ce.name,isLoading:u.isPending})]})})},y_e=({onDragStart:e})=>{const t=[{type:"text",icon:km,label:"Nom tudiant",variable:"{student_name}",category:"tudiant",color:"blue"},{type:"text",icon:oH,label:"Email tudiant",variable:"{student_email}",category:"tudiant",color:"blue"},{type:"text",icon:IH,label:"CIN/ID tudiant",variable:"{student_id}",category:"tudiant",color:"blue"},{type:"text",icon:M_,label:"Nom formation",variable:"{formation_title}",category:"Formation",color:"green"},{type:"text",icon:km,label:"Description formation",variable:"{formation_description}",category:"Formation",color:"green"},{type:"text",icon:As,label:"Dure (heures)",variable:"{duration_hours}",category:"Formation",color:"green"},{type:"text",icon:I_,label:"Numro certificat",variable:"{certificate_number}",category:"Certificat",color:"purple"},{type:"text",icon:gH,label:"Date compltion",variable:"{completion_date}",category:"Certificat",color:"purple"},{type:"text",icon:wi,label:"Date mission",variable:"{issued_date}",category:"Certificat",color:"purple"},{type:"text",icon:si,label:"Note/Grade",variable:"{grade}",category:"Certificat",color:"purple"},{type:"text",icon:mH,label:"Nom organisation",variable:"{organization_name}",category:"Organisation",color:"orange"},{type:"text",icon:TH,label:"Nom directeur",variable:"{director_name}",category:"Organisation",color:"orange"},{type:"text",icon:Cs,label:"Adresse organisation",variable:"{organization_address}",category:"Organisation",color:"orange"}],r=[{type:"image",icon:jx,label:"Logo",source:"{logo_url}",color:"indigo"},{type:"image",icon:jx,label:"Signature",source:"{signature_url}",color:"indigo"},{type:"image",icon:jx,label:"Image personnalise",source:"",color:"indigo"}],n=[{type:"rectangle",icon:IV,label:"Rectangle",color:"gray"},{type:"line",icon:_V,label:"Ligne",color:"gray"},{type:"circle",icon:FH,label:"Cercle",color:"gray"}],a=[{type:"text",icon:km,label:"Texte libre",content:"Nouveau texte",color:"slate"}],i=(f,h)=>{f.dataTransfer.effectAllowed="copy",e(h.type,h)},l={blue:{bg:"bg-blue-50",text:"text-blue-700",border:"border-blue-200"},green:{bg:"bg-green-50",text:"text-green-700",border:"border-green-200"},purple:{bg:"bg-purple-50",text:"text-purple-700",border:"border-purple-200"},orange:{bg:"bg-orange-50",text:"text-orange-700",border:"border-orange-200"},indigo:{bg:"bg-indigo-50",text:"text-indigo-700",border:"border-indigo-200"},gray:{bg:"bg-gray-50",text:"text-gray-700",border:"border-gray-200"},slate:{bg:"bg-slate-50",text:"text-slate-700",border:"border-slate-200"}},o=(f,h)=>{const m=f.icon,g=l[f.color]||l.gray;return s.jsxs("div",{draggable:!0,onDragStart:x=>i(x,f),className:`${g.bg} ${g.text} border ${g.border} rounded-lg p-2 cursor-grab active:cursor-grabbing hover:shadow-md transition-shadow flex items-center gap-2 text-sm`,title:`Glisser pour ajouter: ${f.label}`,children:[s.jsx(m,{className:"h-4 w-4 flex-shrink-0"}),s.jsx("span",{className:"truncate flex-1",children:f.label})]},`${f.type}-${h}`)},u=Array.from(new Set(t.map(f=>f.category)));return s.jsx("div",{className:"h-full overflow-y-auto bg-white border-r border-gray-200",children:s.jsxs("div",{className:"p-4 space-y-4",children:[s.jsxs("div",{children:[s.jsx("h3",{className:"text-sm font-semibold text-gray-700 mb-2 uppercase tracking-wide",children:"lments"}),s.jsx("p",{className:"text-xs text-gray-500 mb-4",children:"Glissez-dposez les lments sur le canvas"})]}),u.map(f=>s.jsxs("div",{children:[s.jsx("h4",{className:"text-xs font-semibold text-gray-600 mb-2 uppercase tracking-wide",children:f}),s.jsx("div",{className:"space-y-2",children:t.filter(h=>h.category===f).map((h,m)=>o(h,m))})]},f)),s.jsxs("div",{children:[s.jsx("h4",{className:"text-xs font-semibold text-gray-600 mb-2 uppercase tracking-wide",children:"Images"}),s.jsx("div",{className:"space-y-2",children:r.map((f,h)=>o(f,h))})]}),s.jsxs("div",{children:[s.jsx("h4",{className:"text-xs font-semibold text-gray-600 mb-2 uppercase tracking-wide",children:"Formes"}),s.jsx("div",{className:"space-y-2",children:n.map((f,h)=>o(f,h))})]}),s.jsxs("div",{children:[s.jsx("h4",{className:"text-xs font-semibold text-gray-600 mb-2 uppercase tracking-wide",children:"Texte"}),s.jsx("div",{className:"space-y-2",children:a.map((f,h)=>o(f,h))})]})]})})},b_e=({elements:e,selectedId:t,backgroundImage:r,canvasSize:n,showGrid:a,onElementMove:i,onElementResize:l,onElementSelect:o,onElementDrop:u})=>{const f=k.useRef(null),[h,m]=k.useState(null),[g,x]=k.useState(null),[b,v]=k.useState(!1),w=(F,D)=>{if(F.stopPropagation(),o(D.id),F.target.classList.contains("resize-handle"))return;const L=typeof D.x=="number"?D.x:0,B=typeof D.y=="number"?D.y:0;m({id:D.id,startX:F.clientX,startY:F.clientY,offsetX:F.clientX-L,offsetY:F.clientY-B})},N=(F,D)=>{F.stopPropagation(),o(D.id);const L=typeof D.width=="number"?D.width:100,B=typeof D.height=="number"?D.height:50;x({id:D.id,startX:F.clientX,startY:F.clientY,startW:L,startH:B})},E=F=>{F.preventDefault(),F.dataTransfer.dropEffect="copy",v(!0)},j=F=>{F.preventDefault(),v(!1)},T=F=>{if(F.preventDefault(),v(!1),!f.current)return;const D=f.current.getBoundingClientRect(),L=F.clientX-D.left,B=F.clientY-D.top;try{const H=JSON.parse(F.dataTransfer.getData("application/json"));u(H.type,L,B,H)}catch(H){console.error("Error parsing drop data:",H)}};k.useEffect(()=>{const F=L=>{if(h&&f.current){const B=f.current.getBoundingClientRect(),H=Math.max(0,Math.min(n.width,L.clientX-B.left)),P=Math.max(0,Math.min(n.height,L.clientY-B.top));i(h.id,H,P)}if(g){const B=L.clientX-g.startX,H=L.clientY-g.startY,P=Math.max(10,g.startW+B),U=Math.max(10,g.startH+H);l(g.id,P,U)}},D=()=>{m(null),x(null)};if(h||g)return window.addEventListener("mousemove",F),window.addEventListener("mouseup",D),()=>{window.removeEventListener("mousemove",F),window.removeEventListener("mouseup",D)}},[h,g,n,i,l]);const O=F=>{const D=F.id===t,L=typeof F.x=="number"?F.x:0,B=typeof F.y=="number"?F.y:0,H={position:"absolute",left:`${L}px`,top:`${B}px`,cursor:h?.id===F.id?"grabbing":"grab",border:D?"2px solid #3B82F6":"1px dashed rgba(0,0,0,0.2)",boxShadow:D?"0 0 0 1px rgba(59, 130, 246, 0.3)":"none"};if(F.type==="text")return s.jsx("div",{style:{...H,padding:"4px 8px",fontSize:`${F.fontSize||12}px`,fontFamily:F.fontFamily||"helvetica",fontWeight:F.fontStyle?.includes("bold")?"bold":"normal",fontStyle:F.fontStyle?.includes("italic")?"italic":"normal",color:F.color||"#000000",textAlign:F.align||"left",whiteSpace:"nowrap",backgroundColor:D?"rgba(59, 130, 246, 0.05)":"transparent"},onMouseDown:P=>w(P,F),children:F.content||"Texte vide"},F.id);if(F.type==="rectangle"||F.type==="border"){const P=typeof F.width=="number"?F.width:100,U=typeof F.height=="number"?F.height:50;return s.jsxs("div",{children:[s.jsx("div",{style:{...H,width:`${P}px`,height:`${U}px`,border:`${F.lineWidth||1}px solid ${F.color||"#000000"}`,backgroundColor:F.fillColor||"transparent"},onMouseDown:K=>w(K,F)}),D&&s.jsx("div",{className:"resize-handle",style:{position:"absolute",left:`${L+P-8}px`,top:`${B+U-8}px`,width:"16px",height:"16px",backgroundColor:"#3B82F6",border:"2px solid white",borderRadius:"50%",cursor:"se-resize",zIndex:1e3},onMouseDown:K=>N(K,F)})]},F.id)}if(F.type==="circle"){const P=F.radius||20;return s.jsx("div",{style:{...H,width:`${P*2}px`,height:`${P*2}px`,borderRadius:"50%",border:`${F.lineWidth||1}px solid ${F.color||"#000000"}`,backgroundColor:F.fillColor||"transparent"},onMouseDown:U=>w(U,F)},F.id)}if(F.type==="line"){const P=typeof F.x1=="number"?F.x1:0,U=typeof F.y1=="number"?F.y1:0,K=typeof F.x2=="number"?F.x2:100,ee=typeof F.y2=="number"?F.y2:0,me=Math.sqrt(Math.pow(K-P,2)+Math.pow(ee-U,2)),ne=Math.atan2(ee-U,K-P)*(180/Math.PI);return s.jsx("div",{style:{position:"absolute",left:`${P}px`,top:`${U}px`,width:`${me}px`,height:`${F.lineWidth||1}px`,backgroundColor:F.color||"#000000",transform:`rotate(${ne}deg)`,transformOrigin:"0 0",cursor:"grab",border:D?"2px solid #3B82F6":"none"},onMouseDown:se=>w(se,F)},F.id)}if(F.type==="image"){const P=typeof F.width=="number"?F.width:100,U=typeof F.height=="number"?F.height:100;return s.jsxs("div",{children:[s.jsx("div",{style:{...H,width:`${P}px`,height:`${U}px`,border:D?"2px solid #3B82F6":"1px dashed rgba(0,0,0,0.2)",display:"flex",alignItems:"center",justifyContent:"center",backgroundColor:"rgba(0,0,0,0.05)"},onMouseDown:K=>w(K,F),children:s.jsx("span",{className:"text-xs text-gray-400",children:F.source?F.source.substring(0,20)+"...":"Image"})}),D&&s.jsx("div",{className:"resize-handle",style:{position:"absolute",left:`${L+P-8}px`,top:`${B+U-8}px`,width:"16px",height:"16px",backgroundColor:"#3B82F6",border:"2px solid white",borderRadius:"50%",cursor:"se-resize",zIndex:1e3},onMouseDown:K=>N(K,F)})]},F.id)}return null};return s.jsx("div",{className:"h-full flex flex-col bg-gray-100",children:s.jsx("div",{className:"flex-1 overflow-auto p-8 flex items-center justify-center",children:s.jsxs("div",{ref:f,style:{width:`${n.width}px`,height:`${n.height}px`,position:"relative",backgroundColor:"#ffffff",backgroundImage:r?`url(${r})`:a?"repeating-linear-gradient(0deg, #e5e7eb 0px, #e5e7eb 1px, transparent 1px, transparent 20px), repeating-linear-gradient(90deg, #e5e7eb 0px, #e5e7eb 1px, transparent 1px, transparent 20px)":"none",backgroundSize:r?"cover":"20px 20px",backgroundPosition:r?"center":"0 0",boxShadow:"0 4px 6px -1px rgba(0, 0, 0, 0.1), 0 2px 4px -1px rgba(0, 0, 0, 0.06)",border:b?"3px dashed #3B82F6":"1px solid #d1d5db"},onDragOver:E,onDragLeave:j,onDrop:T,onClick:()=>o(null),children:[e.length===0&&s.jsx("div",{className:"absolute inset-0 flex items-center justify-center pointer-events-none",children:s.jsxs("div",{className:"text-center text-gray-400",children:[s.jsx(R_,{className:"h-16 w-16 mx-auto mb-3 opacity-50"}),s.jsx("p",{className:"text-sm",children:"Glissez-dposez des lments ici"})]})}),e.map(O)]})})})},w_e=["helvetica","times","courier","arial","verdana","georgia","palatino","garamond","bookman","trebuchet","impact"],N_e=["normal","bold","italic","bolditalic"],pD=({label:e,value:t,onChange:r,description:n})=>s.jsxs("div",{className:"space-y-1",children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700",children:e}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("input",{type:"color",value:t,onChange:a=>r(a.target.value),className:"h-10 w-20 rounded border border-gray-300 cursor-pointer"}),s.jsx("input",{type:"text",value:t,onChange:a=>r(a.target.value),className:"flex-1 px-3 py-2 border border-gray-300 rounded-md text-sm font-mono",placeholder:"#000000"})]}),n&&s.jsx("p",{className:"text-xs text-gray-500 mt-1",children:n})]}),__e=({element:e,customFonts:t,onChange:r,onDelete:n,onDuplicate:a})=>{if(!e)return s.jsx("div",{className:"h-full bg-white border-l border-gray-200 p-6 flex items-center justify-center",children:s.jsxs("div",{className:"text-center text-gray-400",children:[s.jsx(Wr,{className:"h-12 w-12 mx-auto mb-3 opacity-50"}),s.jsx("p",{className:"text-sm",children:"Slectionnez un lment pour modifier ses proprits"})]})});const i=(o,u)=>{r({...e,[o]:u})},l=[...w_e.map(o=>({value:o,label:o.charAt(0).toUpperCase()+o.slice(1),isCustom:!1})),...t.map(o=>({value:o.name,label:o.name,isCustom:!0}))];return s.jsx("div",{className:"h-full overflow-y-auto bg-white border-l border-gray-200",children:s.jsxs("div",{className:"p-4 space-y-6",children:[s.jsxs("div",{className:"border-b border-gray-200 pb-4",children:[s.jsx("h3",{className:"text-sm font-semibold text-gray-700 mb-1",children:"Proprits de l'lment"}),s.jsx("p",{className:"text-xs text-gray-500 capitalize",children:e.type})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-xs font-medium text-gray-600 mb-1",children:"ID"}),s.jsx("input",{type:"text",value:e.id,disabled:!0,className:"w-full px-2 py-1.5 text-xs bg-gray-50 border border-gray-200 rounded"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-xs font-medium text-gray-600 mb-2",children:"Position"}),s.jsxs("div",{className:"grid grid-cols-2 gap-2",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-xs text-gray-500 mb-1",children:"X"}),s.jsx("input",{type:"number",value:e.x||0,onChange:o=>i("x",parseFloat(o.target.value)||0),className:"w-full px-2 py-1.5 text-sm border border-gray-300 rounded focus:ring-2 focus:ring-blue-500 focus:border-transparent"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-xs text-gray-500 mb-1",children:"Y"}),s.jsx("input",{type:"number",value:e.y||0,onChange:o=>i("y",parseFloat(o.target.value)||0),className:"w-full px-2 py-1.5 text-sm border border-gray-300 rounded focus:ring-2 focus:ring-blue-500 focus:border-transparent"})]})]})]}),(e.type==="rectangle"||e.type==="border"||e.type==="image"||e.type==="circle")&&s.jsxs("div",{children:[s.jsx("label",{className:"block text-xs font-medium text-gray-600 mb-2",children:"Dimensions"}),e.type==="circle"?s.jsxs("div",{children:[s.jsx("label",{className:"block text-xs text-gray-500 mb-1",children:"Rayon"}),s.jsx("input",{type:"number",value:e.radius||20,onChange:o=>i("radius",parseFloat(o.target.value)||20),className:"w-full px-2 py-1.5 text-sm border border-gray-300 rounded focus:ring-2 focus:ring-blue-500 focus:border-transparent"})]}):s.jsxs("div",{className:"grid grid-cols-2 gap-2",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-xs text-gray-500 mb-1",children:"Largeur"}),s.jsx("input",{type:"number",value:e.width||100,onChange:o=>i("width",parseFloat(o.target.value)||100),className:"w-full px-2 py-1.5 text-sm border border-gray-300 rounded focus:ring-2 focus:ring-blue-500 focus:border-transparent"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-xs text-gray-500 mb-1",children:"Hauteur"}),s.jsx("input",{type:"number",value:e.height||50,onChange:o=>i("height",parseFloat(o.target.value)||50),className:"w-full px-2 py-1.5 text-sm border border-gray-300 rounded focus:ring-2 focus:ring-blue-500 focus:border-transparent"})]})]})]}),e.type==="line"&&s.jsxs("div",{children:[s.jsx("label",{className:"block text-xs font-medium text-gray-600 mb-2",children:"Coordonnes"}),s.jsxs("div",{className:"grid grid-cols-2 gap-2",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-xs text-gray-500 mb-1",children:"X1"}),s.jsx("input",{type:"number",value:e.x1||0,onChange:o=>i("x1",parseFloat(o.target.value)||0),className:"w-full px-2 py-1.5 text-sm border border-gray-300 rounded"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-xs text-gray-500 mb-1",children:"Y1"}),s.jsx("input",{type:"number",value:e.y1||0,onChange:o=>i("y1",parseFloat(o.target.value)||0),className:"w-full px-2 py-1.5 text-sm border border-gray-300 rounded"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-xs text-gray-500 mb-1",children:"X2"}),s.jsx("input",{type:"number",value:e.x2||100,onChange:o=>i("x2",parseFloat(o.target.value)||100),className:"w-full px-2 py-1.5 text-sm border border-gray-300 rounded"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-xs text-gray-500 mb-1",children:"Y2"}),s.jsx("input",{type:"number",value:e.y2||0,onChange:o=>i("y2",parseFloat(o.target.value)||0),className:"w-full px-2 py-1.5 text-sm border border-gray-300 rounded"})]})]})]}),e.type==="text"&&s.jsxs(s.Fragment,{children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-xs font-medium text-gray-600 mb-1",children:"Contenu"}),s.jsx("textarea",{value:e.content||"",onChange:o=>i("content",o.target.value),rows:3,className:"w-full px-2 py-1.5 text-sm border border-gray-300 rounded focus:ring-2 focus:ring-blue-500 focus:border-transparent font-mono",placeholder:"Texte ou variable {student_name}"}),s.jsxs("p",{className:"text-xs text-gray-500 mt-1",children:["Variables: ","{","student_name","}",", ","{","formation_title","}",", ","{","grade","}","..."]})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-xs font-medium text-gray-600 mb-1",children:"Police"}),s.jsx("select",{value:e.fontFamily||"helvetica",onChange:o=>i("fontFamily",o.target.value),className:"w-full px-2 py-1.5 text-sm border border-gray-300 rounded focus:ring-2 focus:ring-blue-500 focus:border-transparent",children:l.map(o=>s.jsxs("option",{value:o.value,children:[o.label," ",o.isCustom&&"(Custom)"]},o.value))})]}),s.jsxs("div",{className:"grid grid-cols-2 gap-2",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-xs font-medium text-gray-600 mb-1",children:"Taille"}),s.jsx("input",{type:"number",min:"8",max:"100",value:e.fontSize||12,onChange:o=>i("fontSize",parseInt(o.target.value)||12),className:"w-full px-2 py-1.5 text-sm border border-gray-300 rounded focus:ring-2 focus:ring-blue-500 focus:border-transparent"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-xs font-medium text-gray-600 mb-1",children:"Style"}),s.jsx("select",{value:e.fontStyle||"normal",onChange:o=>i("fontStyle",o.target.value),className:"w-full px-2 py-1.5 text-sm border border-gray-300 rounded focus:ring-2 focus:ring-blue-500 focus:border-transparent",children:N_e.map(o=>s.jsxs("option",{value:o,children:[o==="normal"&&"Normal",o==="bold"&&"Gras",o==="italic"&&"Italique",o==="bolditalic"&&"Gras Italique"]},o))})]})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-xs font-medium text-gray-600 mb-1",children:"Alignement"}),s.jsx("div",{className:"flex gap-1",children:["left","center","right"].map(o=>s.jsxs("button",{onClick:()=>i("align",o),className:`flex-1 px-2 py-1.5 text-xs rounded border transition-colors ${(e.align||"left")===o?"bg-blue-100 border-blue-500 text-blue-700":"bg-white border-gray-300 text-gray-600 hover:bg-gray-50"}`,children:[o==="left"&&"Gauche",o==="center"&&"Centre",o==="right"&&"Droite"]},o))})]})]}),e.type==="image"&&s.jsxs("div",{children:[s.jsx("label",{className:"block text-xs font-medium text-gray-600 mb-1",children:"Source"}),s.jsx("input",{type:"text",value:e.source||"",onChange:o=>i("source",o.target.value),placeholder:"URL ou variable {logo_url}",className:"w-full px-2 py-1.5 text-sm border border-gray-300 rounded focus:ring-2 focus:ring-blue-500 focus:border-transparent font-mono"})]}),e.type!=="image"&&s.jsx(pD,{label:"Couleur",value:e.color||"#000000",onChange:o=>i("color",o)}),(e.type==="rectangle"||e.type==="circle")&&s.jsx(pD,{label:"Couleur de remplissage (optionnel)",value:e.fillColor||"#ffffff",onChange:o=>i("fillColor",o),description:"Laissez transparent pour pas de remplissage"}),(e.type==="line"||e.type==="rectangle"||e.type==="border"||e.type==="circle")&&s.jsxs("div",{children:[s.jsx("label",{className:"block text-xs font-medium text-gray-600 mb-1",children:"paisseur du trait"}),s.jsx("input",{type:"number",min:"0.1",max:"20",step:"0.5",value:e.lineWidth||1,onChange:o=>i("lineWidth",parseFloat(o.target.value)||1),className:"w-full px-2 py-1.5 text-sm border border-gray-300 rounded focus:ring-2 focus:ring-blue-500 focus:border-transparent"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-xs font-medium text-gray-600 mb-1",children:"Condition d'affichage (optionnel)"}),s.jsx("input",{type:"text",value:e.condition||"",onChange:o=>i("condition",o.target.value),placeholder:"grade",className:"w-full px-2 py-1.5 text-sm border border-gray-300 rounded focus:ring-2 focus:ring-blue-500 focus:border-transparent font-mono"}),s.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"L'lment s'affiche seulement si cette variable existe"})]}),s.jsxs("div",{className:"pt-4 border-t border-gray-200 space-y-2",children:[s.jsxs("button",{onClick:a,className:"w-full px-3 py-2 bg-blue-50 text-blue-700 rounded border border-blue-300 hover:bg-blue-100 transition-colors text-sm font-medium flex items-center justify-center gap-2",children:[s.jsx(T0,{className:"h-4 w-4"}),"Dupliquer l'lment"]}),s.jsxs("button",{onClick:n,className:"w-full px-3 py-2 bg-red-50 text-red-700 rounded border border-red-300 hover:bg-red-100 transition-colors text-sm font-medium flex items-center justify-center gap-2",children:[s.jsx(Bn,{className:"h-4 w-4"}),"Supprimer l'lment"]})]})]})})},j_e=({template:e,onUpdate:t})=>{const[r,n]=k.useState("upload"),[a,i]=k.useState(""),[l,o]=k.useState(!1),[u,f]=k.useState(null),[h,m]=k.useState(!1),g=k.useRef(null),x=i_e(e.template_config.layout.format,e.template_config.layout.orientation,e.template_config.layout.customWidth,e.template_config.layout.customHeight),b=async T=>{const O=T.target.files?.[0];if(O){if(!O.type.startsWith("image/")){f("Veuillez slectionner une image (JPG, PNG, WEBP ou SVG)");return}if(O.size>5*1024*1024){f("L'image ne doit pas dpasser 5 MB");return}o(!0),f(null);try{const F=await Sl.uploadBackground(e.id,O);F.template?t(F.template):F.background_url&&t({...e,background_image_url:F.background_url,background_image_type:"upload"})}catch(F){f(F.message||"Erreur lors de l'upload de l'image")}finally{o(!1),g.current&&(g.current.value="")}}},v=async()=>{if(!a.trim()){f("Veuillez saisir une URL");return}o(!0),f(null);try{const T=await Sl.setBackgroundUrl(e.id,a.trim());T.template?t(T.template):T.background_url&&t({...e,background_image_url:T.background_url,background_image_type:"url"}),i("")}catch(T){f(T.message||"Erreur lors de la dfinition de l'URL")}finally{o(!1)}},w=async()=>{if(confirm("Supprimer l'arrire-plan ?")){o(!0),f(null);try{const T=await Sl.deleteBackground(e.id);T.template?t(T.template):t({...e,background_image_url:void 0,background_image_type:void 0})}catch(T){f(T.message||"Erreur lors de la suppression de l'arrire-plan")}finally{o(!1)}}},N=T=>{T.preventDefault(),T.stopPropagation(),m(!0)},E=T=>{T.preventDefault(),T.stopPropagation(),m(!1)},j=async T=>{T.preventDefault(),T.stopPropagation(),m(!1);const O=T.dataTransfer.files?.[0];if(O){if(!O.type.startsWith("image/")){f("Veuillez dposer une image (JPG, PNG, WEBP ou SVG)");return}if(O.size>5*1024*1024){f("L'image ne doit pas dpasser 5 MB");return}o(!0),f(null);try{const F=await Sl.uploadBackground(e.id,O);F.template?t(F.template):F.background_url&&t({...e,background_image_url:F.background_url,background_image_type:"upload"})}catch(F){f(F.message||"Erreur lors de l'upload de l'image")}finally{o(!1)}}};return s.jsx("div",{className:"h-full overflow-y-auto bg-white",children:s.jsxs("div",{className:"p-4 space-y-6",children:[s.jsxs("div",{className:"border-b border-gray-200 pb-4",children:[s.jsx("h3",{className:"text-sm font-semibold text-gray-700 mb-1",children:"Image d'arrire-plan"}),s.jsx("p",{className:"text-xs text-gray-500",children:"Uploadez une image ou dfinissez une URL pour le fond du certificat"})]}),e.background_image_url&&s.jsxs("div",{className:"space-y-2",children:[s.jsx("label",{className:"block text-xs font-medium text-gray-600",children:"Arrire-plan actuel"}),s.jsxs("div",{className:"border border-gray-200 rounded-lg p-3 bg-gray-50",children:[s.jsxs("div",{className:"flex items-start justify-between gap-2",children:[s.jsxs("div",{className:"flex items-center gap-2 min-w-0",children:[s.jsx(jx,{className:"h-4 w-4 text-blue-600 flex-shrink-0"}),s.jsxs("div",{className:"min-w-0",children:[s.jsx("p",{className:"text-xs text-gray-700 truncate font-mono",children:e.background_image_url}),s.jsxs("p",{className:"text-xs text-gray-500 mt-0.5",children:["Type: ",e.background_image_type==="upload"?"Fichier upload":"URL externe"]})]})]}),s.jsx("button",{onClick:w,disabled:l,className:"p-1 text-red-600 hover:bg-red-50 rounded transition-colors disabled:opacity-50",title:"Supprimer l'arrire-plan",children:s.jsx(ma,{className:"h-4 w-4"})})]}),s.jsx("div",{className:"mt-3",children:s.jsx("img",{src:e.background_image_url,alt:"Aperu arrire-plan",className:"w-full h-32 object-cover rounded border border-gray-200",onError:T=>{T.target.style.display="none"}})})]})]}),s.jsxs("div",{className:"flex border-b border-gray-200",children:[s.jsxs("button",{onClick:()=>n("upload"),className:`flex-1 px-4 py-2 text-sm font-medium transition-colors ${r==="upload"?"text-blue-600 border-b-2 border-blue-600":"text-gray-600 hover:text-gray-900"}`,children:[s.jsx(H0,{className:"h-4 w-4 inline mr-1"}),"Upload"]}),s.jsxs("button",{onClick:()=>n("url"),className:`flex-1 px-4 py-2 text-sm font-medium transition-colors ${r==="url"?"text-blue-600 border-b-2 border-blue-600":"text-gray-600 hover:text-gray-900"}`,children:[s.jsx(zx,{className:"h-4 w-4 inline mr-1"}),"URL"]})]}),r==="upload"&&s.jsxs("div",{className:"space-y-4",children:[s.jsx("input",{ref:g,type:"file",accept:"image/*",onChange:b,disabled:l,className:"hidden"}),s.jsxs("div",{onDragOver:N,onDragLeave:E,onDrop:j,onClick:()=>g.current?.click(),className:`border-2 border-dashed rounded-lg p-8 text-center cursor-pointer transition-all ${h?"border-blue-500 bg-blue-50":"border-gray-300 hover:border-blue-400 hover:bg-blue-50/50"} ${l?"opacity-50 pointer-events-none":""}`,children:[s.jsx(H0,{className:`h-12 w-12 mx-auto mb-3 ${h?"text-blue-600":"text-gray-400"}`}),s.jsx("p",{className:"text-sm font-medium text-gray-700 mb-1",children:h?"Dposez l'image ici":"Glissez-dposez une image ou cliquez pour parcourir"}),s.jsx("p",{className:"text-xs text-gray-500",children:"JPG, PNG, WEBP ou SVG  Max 5 MB"}),s.jsxs("p",{className:"text-xs text-blue-600 font-medium mt-2",children:["Recommand: ",x]}),l&&s.jsxs("div",{className:"mt-4",children:[s.jsx("div",{className:"animate-spin rounded-full h-6 w-6 border-b-2 border-blue-600 mx-auto"}),s.jsx("p",{className:"text-xs text-gray-600 mt-2",children:"Upload en cours..."})]})]})]}),r==="url"&&s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-xs font-medium text-gray-600 mb-2",children:"URL de l'image"}),s.jsx("input",{type:"url",value:a,onChange:T=>i(T.target.value),placeholder:"https://exemple.com/image.jpg",disabled:l,className:"w-full px-3 py-2 text-sm border border-gray-300 rounded focus:ring-2 focus:ring-blue-500 focus:border-transparent disabled:opacity-50"})]}),s.jsx("button",{onClick:v,disabled:l||!a.trim(),className:"w-full px-4 py-2 bg-blue-600 text-white rounded hover:bg-blue-700 transition-colors disabled:opacity-50 text-sm font-medium",children:l?"Application...":"Appliquer l'URL"})]}),u&&s.jsxs("div",{className:"bg-red-50 border border-red-200 rounded-lg p-3 flex items-start gap-2",children:[s.jsx(Wr,{className:"h-4 w-4 text-red-600 flex-shrink-0 mt-0.5"}),s.jsx("p",{className:"text-xs text-red-700",children:u})]}),s.jsx("div",{className:"bg-blue-50 border border-blue-200 rounded-lg p-3",children:s.jsxs("p",{className:"text-xs text-blue-700",children:[s.jsx("strong",{children:"Astuce:"})," L'image d'arrire-plan sera affiche en plein cran sur le canvas. Vous pourrez ensuite placer vos lments texte par-dessus."]})})]})})},S_e=()=>{const[e,t]=k.useState(""),[r,n]=k.useState(null),a=k.useRef(null),{data:i,isLoading:l}=fse(),o=dse(),u=hse(),f=async m=>{const g=m.target.files?.[0];if(!g)return;if(!e.trim()){n("Veuillez saisir un nom pour la police");return}const x=[".ttf",".otf",".woff",".woff2"],b=g.name.toLowerCase().slice(g.name.lastIndexOf("."));if(!x.includes(b)){n("Format de fichier non valide. Utilisez TTF, OTF, WOFF ou WOFF2");return}if(g.size>2*1024*1024){n("La police ne doit pas dpasser 2 MB");return}n(null);try{await o.mutateAsync({file:g,fontName:e.trim()}),t(""),a.current&&(a.current.value="")}catch(v){n(v.message||"Erreur lors de l'upload de la police")}},h=async(m,g)=>{if(confirm(`Supprimer la police "${g}" ?`))try{await u.mutateAsync(m)}catch(x){n(x.message||"Erreur lors de la suppression de la police")}};return s.jsx("div",{className:"h-full overflow-y-auto bg-white",children:s.jsxs("div",{className:"p-4 space-y-6",children:[s.jsxs("div",{className:"border-b border-gray-200 pb-4",children:[s.jsx("h3",{className:"text-sm font-semibold text-gray-700 mb-1",children:"Polices personnalises"}),s.jsx("p",{className:"text-xs text-gray-500",children:"Uploadez des polices personnalises pour les utiliser dans vos certificats"})]}),s.jsxs("div",{className:"space-y-4 border border-gray-200 rounded-lg p-4 bg-gray-50",children:[s.jsx("h4",{className:"text-xs font-medium text-gray-700",children:"Ajouter une police"}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-xs font-medium text-gray-600 mb-2",children:"Nom de la police"}),s.jsx("input",{type:"text",value:e,onChange:m=>t(m.target.value),placeholder:"ex: Ma Police Custom",disabled:o.isPending,className:"w-full px-3 py-2 text-sm border border-gray-300 rounded focus:ring-2 focus:ring-blue-500 focus:border-transparent disabled:opacity-50"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-xs font-medium text-gray-600 mb-2",children:"Fichier de police"}),s.jsx("input",{ref:a,type:"file",accept:".ttf,.otf,.woff,.woff2",onChange:f,disabled:o.isPending,className:"w-full text-sm text-gray-500 file:mr-4 file:py-2 file:px-4 file:rounded file:border-0 file:text-sm file:font-medium file:bg-blue-50 file:text-blue-700 hover:file:bg-blue-100 disabled:opacity-50"}),s.jsx("p",{className:"text-xs text-gray-500 mt-2",children:"TTF, OTF, WOFF ou WOFF2  Max 2 MB"})]}),o.isPending&&s.jsxs("div",{className:"text-xs text-blue-600 flex items-center gap-2",children:[s.jsx("div",{className:"animate-spin rounded-full h-3 w-3 border-b-2 border-blue-600"}),"Upload en cours..."]})]}),r&&s.jsxs("div",{className:"bg-red-50 border border-red-200 rounded-lg p-3 flex items-start gap-2",children:[s.jsx(Wr,{className:"h-4 w-4 text-red-600 flex-shrink-0 mt-0.5"}),s.jsx("p",{className:"text-xs text-red-700",children:r})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsxs("label",{className:"block text-xs font-medium text-gray-600",children:["Polices disponibles (",i?.length||0,")"]}),l?s.jsxs("div",{className:"text-center py-8",children:[s.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-blue-600 mx-auto mb-2"}),s.jsx("p",{className:"text-xs text-gray-500",children:"Chargement des polices..."})]}):i&&i.length>0?s.jsx("div",{className:"space-y-2",children:i.map(m=>s.jsx("div",{className:"border border-gray-200 rounded-lg p-3 bg-white hover:bg-gray-50 transition-colors",children:s.jsxs("div",{className:"flex items-start justify-between gap-2",children:[s.jsxs("div",{className:"flex items-center gap-2 min-w-0 flex-1",children:[s.jsx(km,{className:"h-4 w-4 text-indigo-600 flex-shrink-0"}),s.jsxs("div",{className:"min-w-0 flex-1",children:[s.jsx("p",{className:"text-sm font-medium text-gray-900 truncate",children:m.name}),s.jsxs("p",{className:"text-xs text-gray-500 mt-0.5",children:["Format: ",m.file_format.toUpperCase(),m.file_size&&`  ${(m.file_size/1024).toFixed(1)} KB`]}),s.jsx("style",{children:`
                            @font-face {
                              font-family: 'custom-${m.id}';
                              src: url('${m.file_url}');
                            }
                          `}),s.jsxs("p",{className:"text-xs text-gray-700 mt-2 italic",style:{fontFamily:`'custom-${m.id}', sans-serif`},children:["Aperu: ",m.name]})]})]}),s.jsx("button",{onClick:()=>h(m.id,m.name),disabled:u.isPending,className:"p-1 text-red-600 hover:bg-red-50 rounded transition-colors disabled:opacity-50",title:"Supprimer la police",children:s.jsx(Bn,{className:"h-4 w-4"})})]})},m.id))}):s.jsxs("div",{className:"text-center py-8 border border-gray-200 rounded-lg bg-gray-50",children:[s.jsx(km,{className:"h-8 w-8 text-gray-400 mx-auto mb-2"}),s.jsx("p",{className:"text-xs text-gray-500",children:"Aucune police personnalise"}),s.jsx("p",{className:"text-xs text-gray-400 mt-1",children:"Uploadez une police pour la rendre disponible dans l'diteur"})]})]}),s.jsx("div",{className:"bg-blue-50 border border-blue-200 rounded-lg p-3",children:s.jsxs("p",{className:"text-xs text-blue-700",children:[s.jsx("strong",{children:"Info:"})," Les polices personnalises seront disponibles dans la liste des polices lors de l'dition d'lments texte. Assurez-vous d'avoir les droits d'utilisation pour les polices que vous uploadez."]})})]})})},A_e=({isOpen:e,onClose:t,template:r})=>{const n=k.useRef(null),[a,i]=k.useState(!0);k.useEffect(()=>{if(!e||!n.current)return;const o=n.current,u=o.getContext("2d");if(!u)return;i(!0);const{format:f,orientation:h,customWidth:m,customHeight:g}=r.template_config.layout,x=BS(f,h,m,g);o.width=x.width,o.height=x.height,u.fillStyle=r.template_config.colors.background,u.fillRect(0,0,o.width,o.height);const b=async()=>{if(r.background_image_url)try{const w=new Image;w.crossOrigin="anonymous",await new Promise((N,E)=>{w.onload=N,w.onerror=E,w.src=r.background_image_url}),u.drawImage(w,0,0,o.width,o.height)}catch(w){console.error("Erreur lors du chargement de l'image de fond:",w)}},v=()=>{const w={studentName:"Jean Dupont",courseName:"Formation en Dveloppement Web",date:new Date().toLocaleDateString("fr-FR",{day:"numeric",month:"long",year:"numeric"}),instructor:"Marie Martin",duration:"40 heures"};r.template_config.elements.forEach(N=>{u.save();const E=typeof N.x=="string"?parseFloat(N.x):N.x||0,j=typeof N.y=="string"?parseFloat(N.y):N.y||0,T=typeof N.width=="string"?parseFloat(N.width):N.width||0,O=typeof N.height=="string"?parseFloat(N.height):N.height||0;switch(N.type){case"text":const D=(N.fontStyle||"normal")==="bold"?"bold":"normal",L=N.fontFamily||"Arial",B=N.fontSize||16;u.font=`${D} ${B}px ${L}`,u.fillStyle=N.color||"#000000",u.textAlign=N.textAlign||"left";let H=N.content||"";H=H.replace(/\{studentName\}/g,w.studentName),H=H.replace(/\{courseName\}/g,w.courseName),H=H.replace(/\{date\}/g,w.date),H=H.replace(/\{instructor\}/g,w.instructor),H=H.replace(/\{duration\}/g,w.duration),u.fillText(H,E,j);break;case"rectangle":u.strokeStyle=N.color||"#000000",u.lineWidth=N.borderWidth||1,N.fillColor&&(u.fillStyle=N.fillColor,u.fillRect(E,j,T,O)),u.strokeRect(E,j,T,O);break;case"circle":const P=T/2;u.strokeStyle=N.color||"#000000",u.lineWidth=N.borderWidth||1,u.beginPath(),u.arc(E+P,j+P,P,0,Math.PI*2),N.fillColor&&(u.fillStyle=N.fillColor,u.fill()),u.stroke();break;case"line":u.strokeStyle=N.color||"#000000",u.lineWidth=N.borderWidth||1,u.beginPath(),u.moveTo(E,j),u.lineTo(E+T,j+O),u.stroke();break;case"image":if(N.imageUrl){const U=new Image;U.crossOrigin="anonymous",U.onload=()=>{u.drawImage(U,E,j,T,O)},U.src=N.imageUrl}break}u.restore()}),i(!1)};b().then(v)},[e,r]);const l=()=>{if(!n.current)return;const o=document.createElement("a");o.download=`preview-${r.name}.png`,o.href=n.current.toDataURL("image/png"),o.click()};return e?s.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-60 flex items-center justify-center z-50 p-4",children:s.jsxs("div",{className:"bg-white rounded-xl shadow-2xl max-w-6xl w-full max-h-[95vh] overflow-hidden flex flex-col",children:[s.jsxs("div",{className:"flex items-center justify-between p-6 border-b border-gray-200 bg-gradient-to-r from-purple-50 to-purple-100",children:[s.jsxs("div",{children:[s.jsx("h2",{className:"text-xl font-bold text-gray-900",children:"Prvisualisation du Template"}),s.jsx("p",{className:"text-sm text-gray-600 mt-0.5",children:r.name})]}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsxs("button",{onClick:l,className:"px-4 py-2 bg-purple-600 hover:bg-purple-700 text-white rounded-lg flex items-center gap-2 transition-colors text-sm font-medium",title:"Tlcharger l'aperu",children:[s.jsx(Es,{className:"h-4 w-4"}),"Tlcharger"]}),s.jsx("button",{onClick:t,className:"p-2 hover:bg-purple-200 rounded-lg transition-colors",children:s.jsx(ma,{className:"h-5 w-5 text-gray-600"})})]})]}),s.jsxs("div",{className:"flex-1 overflow-auto p-6 bg-gray-50 relative",children:[a&&s.jsx("div",{className:"absolute inset-0 flex items-center justify-center bg-white bg-opacity-75 z-10",children:s.jsxs("div",{className:"text-center",children:[s.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-purple-600 mx-auto mb-3"}),s.jsx("p",{className:"text-sm text-gray-600",children:"Gnration de l'aperu..."})]})}),s.jsx("div",{className:"flex items-center justify-center min-h-full",children:s.jsx("div",{className:"bg-white p-4 rounded-lg shadow-lg",children:s.jsx("canvas",{ref:n,className:"border border-gray-300 max-w-full h-auto",style:{maxHeight:"calc(95vh - 200px)"}})})})]}),s.jsx("div",{className:"p-4 border-t border-gray-200 bg-gray-50",children:s.jsxs("p",{className:"text-xs text-gray-600 text-center",children:[s.jsx("span",{className:"font-semibold",children:"Note:"})," Cette prvisualisation utilise des donnes de test. Les placeholders ","{studentName}",", ","{courseName}",", ","{date}",", etc. sont remplacs par des valeurs fictives."]})})]})}):null},E_e=e=>({name:"Nouveau Template Canvas",description:"",folder_id:e||"",template_config:{layout:{orientation:"landscape",format:"a4",margins:{top:10,right:10,bottom:10,left:10}},colors:{primary:"#1e40af",secondary:"#3b82f6",text:"#1f2937",background:"#ffffff"},fonts:{title:{family:"times",size:28,style:"bold"},subtitle:{family:"times",size:18,style:"normal"},body:{family:"helvetica",size:12,style:"normal"},studentName:{family:"times",size:24,style:"bold"}},elements:[]}}),k_e=()=>{const{id:e}=Vo(),t=Fn(),[r]=qD(),n=r.get("folderId"),a=e==="new",i=r.get("name"),l=r.get("format"),o=r.get("orientation"),u=r.get("margins"),f=r.get("customWidth"),h=r.get("customHeight"),{data:m,isLoading:g}=sse(a?null:e||""),x=_L(),b=lse(),[v,w]=k.useState(null),[N,E]=k.useState([]),[j,T]=k.useState(null),[O,F]=k.useState(1),[D,L]=k.useState(!0),[B,H]=k.useState(!1),[P,U]=k.useState("elements"),[K,ee]=k.useState(!1),me=k.useMemo(()=>{if(!v)return{width:1122,height:794};const{format:X,orientation:ge,customWidth:Te,customHeight:Y}=v.template_config.layout;return BS(X,ge,Te,Y)},[v?.template_config.layout.format,v?.template_config.layout.orientation,v?.template_config.layout.customWidth,v?.template_config.layout.customHeight]);k.useEffect(()=>{if(a){const X=E_e(n||void 0),ge=u?parseInt(u):10,Te={...X,id:"new",name:i||"Nouveau Template Canvas",template_config:{...X.template_config,layout:{...X.template_config.layout,format:l?.toLowerCase()||"a4",orientation:o||"landscape",margins:{top:ge,right:ge,bottom:ge,left:ge}}},created_at:new Date().toISOString(),updated_at:new Date().toISOString()};l?.toLowerCase()==="custom"&&f&&h&&(Te.template_config.layout.customWidth=parseInt(f),Te.template_config.layout.customHeight=parseInt(h)),w(Te),E([])}else if(m&&(w(m),E(m.template_config.elements||[]),m.template_config.elements.length>0)){const X=Math.max(...m.template_config.elements.map(ge=>{const Te=ge.id.match(/element-(\d+)/);return Te?parseInt(Te[1]):0}));F(X+1)}},[m,a,n,i,l,o,u,f,h]);const ne=async()=>{if(v){H(!0);try{const X={...v,template_config:{...v.template_config,elements:N}};if(a){const{id:ge,created_at:Te,updated_at:Y,...We}=X;await b.mutateAsync(We)}else{const{id:ge,created_at:Te,updated_at:Y,...We}=X;await x.mutateAsync({id:v.id,data:We})}t("/admin/certificate-templates")}catch(X){console.error("Error saving template:",X),alert("Erreur lors de la sauvegarde: "+(X.message||"Erreur inconnue"))}finally{H(!1)}}},se=()=>{confirm("Annuler les modifications ?")&&t("/admin/certificate-templates")},ye=(X,ge,Te,Y)=>{const We=`element-${O}`;F(O+1);let Ee={id:We,type:X,x:ge,y:Te,color:"#000000"};X==="text"?Ee={...Ee,content:Y.variable||Y.content||"Nouveau texte",fontSize:14,fontFamily:"helvetica",fontStyle:"normal",align:"left"}:X==="image"?Ee={...Ee,source:Y.source||"",width:100,height:100}:X==="rectangle"||X==="border"?Ee={...Ee,width:150,height:80,lineWidth:1}:X==="circle"?Ee={...Ee,radius:30,lineWidth:1}:X==="line"&&(Ee={...Ee,x1:ge,y1:Te,x2:ge+100,y2:Te,lineWidth:1},delete Ee.x,delete Ee.y),E([...N,Ee]),T(We)},ce=(X,ge,Te)=>{E(N.map(Y=>Y.id===X?{...Y,x:ge,y:Te}:Y))},Se=(X,ge,Te)=>{E(N.map(Y=>Y.id===X?{...Y,width:ge,height:Te}:Y))},te=X=>{E(N.map(ge=>ge.id===X.id?X:ge))},M=()=>{j&&confirm("Supprimer cet lment ?")&&(E(N.filter(X=>X.id!==j)),T(null))},R=()=>{if(!j)return;const X=N.find(Y=>Y.id===j);if(!X)return;const ge=`element-${O}`;F(O+1);const Te={...X,id:ge,x:typeof X.x=="number"?X.x+20:X.x,y:typeof X.y=="number"?X.y+20:X.y};E([...N,Te]),T(ge)},q=(X,ge)=>{const Te={type:X,...ge};window.__dragData=Te},W=X=>{w(X)},J=X=>{v&&w({...v,template_config:{...v.template_config,layout:{...v.template_config.layout,format:X}}})},le=X=>{v&&w({...v,template_config:{...v.template_config,layout:{...v.template_config.layout,orientation:X}}})};if(g||!v)return s.jsx("div",{className:"flex items-center justify-center h-screen",children:s.jsxs("div",{className:"text-center",children:[s.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-600 mx-auto mb-4"}),s.jsx("p",{className:"text-gray-600",children:"Chargement du template..."})]})});const ue=j&&N.find(X=>X.id===j)||null;return s.jsxs("div",{className:"min-h-screen bg-gray-50 flex flex-col",children:[s.jsx("div",{className:"bg-white border-b border-gray-200 sticky top-0 z-10",children:s.jsx("div",{className:"max-w-screen-2xl mx-auto px-6 py-4",children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{className:"flex items-center gap-4",children:[s.jsx("button",{onClick:()=>t("/admin/certificate-templates"),className:"p-2 hover:bg-gray-100 rounded-lg transition-colors",title:"Retour",children:s.jsx(ta,{className:"h-5 w-5 text-gray-600"})}),s.jsxs("div",{children:[s.jsx("input",{type:"text",value:v.name,onChange:X=>w({...v,name:X.target.value}),className:"text-xl font-bold text-gray-900 border-none focus:ring-2 focus:ring-blue-500 rounded px-2 py-1"}),s.jsx("p",{className:"text-sm text-gray-500",children:"diteur Canvas Drag-and-Drop"})]})]}),s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("label",{className:"text-sm text-gray-600 font-medium",children:"Format:"}),s.jsxs("select",{value:v.template_config.layout.format,onChange:X=>J(X.target.value),className:"px-3 py-2 text-sm border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500",children:[s.jsxs("option",{value:"a4",children:[$v.a4," (297210mm)"]}),s.jsxs("option",{value:"letter",children:[$v.letter," (279216mm)"]}),s.jsxs("option",{value:"badge",children:[$v.badge," (8654mm)"]})]})]}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("label",{className:"text-sm text-gray-600 font-medium",children:"Orientation:"}),s.jsxs("select",{value:v.template_config.layout.orientation,onChange:X=>le(X.target.value),className:"px-3 py-2 text-sm border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500",children:[s.jsx("option",{value:"landscape",children:"Paysage"}),s.jsx("option",{value:"portrait",children:"Portrait"})]})]}),s.jsxs("div",{className:"px-3 py-2 text-xs bg-gray-50 text-gray-600 rounded-lg border border-gray-200",children:[me.width,"  ",me.height," px"]}),s.jsxs("button",{onClick:()=>L(!D),className:`px-3 py-2 text-sm rounded-lg flex items-center gap-2 transition-colors ${D?"bg-blue-100 text-blue-700":"bg-gray-100 hover:bg-gray-200 text-gray-700"}`,title:"Afficher/Masquer la grille",children:[s.jsx(R_,{className:"h-4 w-4"}),"Grille"]}),s.jsxs("button",{onClick:()=>ee(!0),className:"px-4 py-2 text-sm bg-purple-600 hover:bg-purple-700 text-white rounded-lg flex items-center gap-2 transition-colors",title:"Prvisualiser le certificat",children:[s.jsx(Ds,{className:"h-4 w-4"}),"Visualiser"]}),s.jsxs("button",{onClick:se,disabled:B,className:"px-4 py-2 text-sm bg-gray-100 hover:bg-gray-200 text-gray-700 rounded-lg flex items-center gap-2 transition-colors disabled:opacity-50",children:[s.jsx(ma,{className:"h-4 w-4"}),"Annuler"]}),s.jsxs("button",{onClick:ne,disabled:B,className:"px-4 py-2 text-sm bg-blue-600 hover:bg-blue-700 text-white rounded-lg flex items-center gap-2 transition-colors disabled:opacity-50",children:[s.jsx(np,{className:"h-4 w-4"}),B?"Sauvegarde...":"Enregistrer"]})]})]})})}),s.jsxs("div",{className:"flex-1 flex overflow-hidden",children:[s.jsx("div",{className:"w-64 flex-shrink-0",children:s.jsxs("div",{className:"h-full flex flex-col",children:[s.jsx("div",{className:"flex border-b border-gray-200 bg-white",children:s.jsx("button",{onClick:()=>U("elements"),className:`flex-1 px-4 py-3 text-sm font-medium transition-colors ${P==="elements"?"bg-blue-50 text-blue-600 border-b-2 border-blue-600":"text-gray-600 hover:bg-gray-50"}`,children:"lments"})}),P==="elements"&&s.jsx(y_e,{onDragStart:q})]})}),s.jsx("div",{className:"flex-1",children:s.jsx(b_e,{elements:N,selectedId:j,backgroundImage:v.background_image_url||null,canvasSize:me,showGrid:D&&!v.background_image_url,onElementMove:ce,onElementResize:Se,onElementSelect:T,onElementDrop:(X,ge,Te)=>{const Y=window.__dragData||{};ye(X,ge,Te,Y),delete window.__dragData}})}),s.jsx("div",{className:"w-80 flex-shrink-0",children:s.jsxs("div",{className:"h-full flex flex-col",children:[s.jsxs("div",{className:"flex border-b border-gray-200 bg-white",children:[s.jsx("button",{onClick:()=>U("elements"),className:`flex-1 px-3 py-3 text-sm font-medium transition-colors ${P==="elements"?"bg-blue-50 text-blue-600 border-b-2 border-blue-600":"text-gray-600 hover:bg-gray-50"}`,children:"Proprits"}),s.jsx("button",{onClick:()=>U("background"),className:`flex-1 px-3 py-3 text-sm font-medium transition-colors ${P==="background"?"bg-blue-50 text-blue-600 border-b-2 border-blue-600":"text-gray-600 hover:bg-gray-50"}`,children:"Arrire-plan"}),s.jsx("button",{onClick:()=>U("fonts"),className:`flex-1 px-3 py-3 text-sm font-medium transition-colors ${P==="fonts"?"bg-blue-50 text-blue-600 border-b-2 border-blue-600":"text-gray-600 hover:bg-gray-50"}`,children:"Polices"})]}),P==="elements"&&s.jsx(__e,{element:ue,customFonts:[],onChange:te,onDelete:M,onDuplicate:R}),P==="background"&&v&&s.jsx(j_e,{template:v,onUpdate:W}),P==="fonts"&&s.jsx(S_e,{})]})})]}),v&&s.jsx(A_e,{isOpen:K,onClose:()=>ee(!1),template:v})]})},vu={getThreads:async(e,t)=>{const r=new URLSearchParams;t?.sort&&r.append("sort",t.sort),t?.pinned&&r.append("pinned",t.pinned);const n=`/forums/${e}/threads${r.toString()?`?${r.toString()}`:""}`;return at.get(n)},createThread:async(e,t)=>at.post(`/forums/${e}/threads`,t),getThread:async e=>at.get(`/forums/threads/${e}`),updateThread:async(e,t)=>at.put(`/forums/threads/${e}`,t),deleteThread:async(e,t,r=!1)=>at.delete(`/forums/threads/${e}?user_id=${t}&is_admin=${r}`),pinThread:async(e,t)=>at.patch(`/forums/threads/${e}/pin`,{is_pinned:t}),lockThread:async(e,t)=>at.patch(`/forums/threads/${e}/lock`,{is_locked:t}),incrementViewCount:async e=>at.patch(`/forums/threads/${e}/view`,{}),getPosts:async e=>at.get(`/forums/threads/${e}/posts`),createPost:async(e,t)=>at.post(`/forums/threads/${e}/posts`,t),updatePost:async(e,t)=>at.put(`/forums/posts/${e}`,t),deletePost:async(e,t,r=!1)=>at.delete(`/forums/posts/${e}?user_id=${t}&is_admin=${r}`),addReaction:async(e,t)=>at.post(`/forums/posts/${e}/reactions`,t),removeReaction:async(e,t,r)=>at.delete(`/forums/posts/${e}/reactions/${r}?user_id=${t}`),getReactions:async e=>at.get(`/forums/posts/${e}/reactions`),getStats:async()=>at.get("/forums/stats")},kl={all:["forums"],threads:e=>["forums","threads",e],thread:e=>["forums","thread",e],posts:e=>["forums","posts",e],reactions:e=>["forums","reactions",e],stats:()=>["forums","stats"]},C_e=(e,t)=>or({queryKey:[...kl.threads(e||""),t],queryFn:()=>{if(!e)throw new Error("Formation ID is required");return vu.getThreads(e,t)},enabled:!!e,staleTime:120*1e3}),T_e=e=>or({queryKey:kl.thread(e||""),queryFn:()=>{if(!e)throw new Error("Thread ID is required");return vu.getThread(e)},enabled:!!e,staleTime:300*1e3}),O_e=()=>{const e=Pt();return It({mutationFn:({formationId:t,data:r})=>vu.createThread(t,r),onSuccess:(t,r)=>{e.invalidateQueries({queryKey:kl.threads(r.formationId)})}})},D_e=()=>{const e=Pt();return It({mutationFn:t=>vu.incrementViewCount(t),onSuccess:(t,r)=>{e.invalidateQueries({queryKey:kl.thread(r)})}})},F_e=e=>or({queryKey:kl.posts(e||""),queryFn:()=>{if(!e)throw new Error("Thread ID is required");return vu.getPosts(e)},enabled:!!e,staleTime:60*1e3}),P_e=()=>{const e=Pt();return It({mutationFn:({threadId:t,data:r})=>vu.createPost(t,r),onSuccess:(t,r)=>{e.invalidateQueries({queryKey:kl.posts(r.threadId)}),e.invalidateQueries({queryKey:kl.thread(r.threadId)}),e.invalidateQueries({queryKey:kl.all})}})},L_e=()=>{const e=Pt();return It({mutationFn:({postId:t,userId:r,isAdmin:n})=>vu.deletePost(t,r,n),onSuccess:()=>{e.invalidateQueries({queryKey:kl.all})}})},M_e=()=>{const e=Pt();return It({mutationFn:({postId:t,data:r})=>vu.addReaction(t,r),onSuccess:(t,r)=>{e.invalidateQueries({queryKey:kl.reactions(r.postId)}),e.invalidateQueries({queryKey:kl.all})}})},R_e=()=>{const e=Pt();return It({mutationFn:({postId:t,userId:r,reactionType:n})=>vu.removeReaction(t,r,n),onSuccess:(t,r)=>{e.invalidateQueries({queryKey:kl.reactions(r.postId)}),e.invalidateQueries({queryKey:kl.all})}})},I_e=()=>or({queryKey:kl.stats(),queryFn:()=>vu.getStats(),staleTime:300*1e3}),B_e=()=>{const e=Fn(),[t,r]=k.useState(""),[n,a]=k.useState(""),{data:i}=I_e(),{data:l}=h2(),o=i?.stats,u=l||[],f=n?u.filter(h=>h.id===n):u;return s.jsxs("div",{className:"p-6",children:[s.jsxs("div",{className:"mb-6",children:[s.jsx("h1",{className:"text-3xl font-bold text-gray-900",children:"Modration des Forums"}),s.jsx("p",{className:"text-gray-600 mt-1",children:"Grez les discussions et modrez le contenu des forums"})]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4 mb-6",children:[s.jsxs("div",{className:"bg-gradient-to-br from-blue-500 to-blue-600 rounded-lg p-5 text-white",children:[s.jsx("div",{className:"flex items-center justify-between mb-2",children:s.jsx(Js,{className:"h-8 w-8 opacity-80"})}),s.jsx("div",{className:"text-3xl font-bold",children:o?.total_threads||0}),s.jsx("div",{className:"text-blue-100 text-sm",children:"Total discussions"})]}),s.jsxs("div",{className:"bg-gradient-to-br from-green-500 to-green-600 rounded-lg p-5 text-white",children:[s.jsx("div",{className:"flex items-center justify-between mb-2",children:s.jsx(GD,{className:"h-8 w-8 opacity-80"})}),s.jsx("div",{className:"text-3xl font-bold",children:o?.total_posts||0}),s.jsx("div",{className:"text-green-100 text-sm",children:"Total rponses"})]}),s.jsxs("div",{className:"bg-gradient-to-br from-purple-500 to-purple-600 rounded-lg p-5 text-white",children:[s.jsx("div",{className:"flex items-center justify-between mb-2",children:s.jsx($0,{className:"h-8 w-8 opacity-80"})}),s.jsx("div",{className:"text-3xl font-bold",children:o?.total_reactions||0}),s.jsx("div",{className:"text-purple-100 text-sm",children:"Total ractions"})]}),s.jsxs("div",{className:"bg-gradient-to-br from-amber-500 to-amber-600 rounded-lg p-5 text-white",children:[s.jsx("div",{className:"flex items-center justify-between mb-2",children:s.jsx(ls,{className:"h-8 w-8 opacity-80"})}),s.jsx("div",{className:"text-3xl font-bold",children:o?.active_posters||0}),s.jsx("div",{className:"text-amber-100 text-sm",children:"Participants actifs"})]})]}),s.jsx("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 p-4 mb-6",children:s.jsxs("div",{className:"flex items-center gap-4",children:[s.jsxs("div",{className:"flex-1 relative",children:[s.jsx(ap,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 h-5 w-5 text-gray-400"}),s.jsx("input",{type:"text",placeholder:"Rechercher une discussion...",value:t,onChange:h=>r(h.target.value),className:"w-full pl-10 pr-4 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500"})]}),s.jsxs("select",{value:n,onChange:h=>a(h.target.value),className:"border border-gray-300 rounded-lg px-4 py-2 focus:outline-none focus:ring-2 focus:ring-blue-500",children:[s.jsx("option",{value:"",children:"Toutes les formations"}),u.map(h=>s.jsx("option",{value:h.id,children:h.title},h.id))]})]})}),s.jsx("div",{className:"space-y-4",children:f.length===0?s.jsxs("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 p-12 text-center",children:[s.jsx(Js,{className:"h-16 w-16 text-gray-300 mx-auto mb-4"}),s.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-2",children:"Aucune formation trouve"}),s.jsx("p",{className:"text-gray-600",children:"Crez des formations pour activer les forums"})]}):f.map(h=>s.jsx("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 p-5",children:s.jsxs("div",{className:"flex items-start justify-between",children:[s.jsxs("div",{className:"flex-1",children:[s.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-2",children:h.title}),s.jsx("p",{className:"text-sm text-gray-600 mb-4 line-clamp-2",children:h.description}),s.jsxs("div",{className:"flex items-center gap-4 text-sm text-gray-600",children:[s.jsxs("span",{className:"flex items-center gap-1",children:[s.jsx(Js,{className:"h-4 w-4"}),"Forum actif"]}),s.jsxs("span",{className:"flex items-center gap-1",children:[s.jsx(ls,{className:"h-4 w-4"}),h.enrolled_count||0," tudiants"]})]})]}),s.jsx("div",{className:"flex items-center gap-2",children:s.jsxs(et,{onClick:()=>e(`/student/forums/${h.id}`),className:"bg-gradient-to-r from-blue-600 to-blue-700 text-white",children:[s.jsx(Ds,{className:"h-4 w-4 mr-2"}),"Voir le forum"]})})]})},h.id))}),s.jsxs("div",{className:"mt-6 bg-blue-50 border border-blue-200 rounded-lg p-4",children:[s.jsx("h3",{className:"font-semibold text-blue-900 mb-2",children:"Actions de modration disponibles"}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-3 text-sm text-blue-800",children:[s.jsxs("div",{className:"flex items-start gap-2",children:[s.jsx(U_,{className:"h-4 w-4 mt-0.5 text-yellow-600"}),s.jsxs("span",{children:[s.jsx("strong",{children:"pingler:"})," Mettre en avant les discussions importantes"]})]}),s.jsxs("div",{className:"flex items-start gap-2",children:[s.jsx(qx,{className:"h-4 w-4 mt-0.5 text-gray-600"}),s.jsxs("span",{children:[s.jsx("strong",{children:"Verrouiller:"})," Empcher de nouvelles rponses"]})]}),s.jsxs("div",{className:"flex items-start gap-2",children:[s.jsx(Bn,{className:"h-4 w-4 mt-0.5 text-red-600"}),s.jsxs("span",{children:[s.jsx("strong",{children:"Supprimer:"})," Retirer du contenu inappropri"]})]}),s.jsxs("div",{className:"flex items-start gap-2",children:[s.jsx(Ds,{className:"h-4 w-4 mt-0.5 text-blue-600"}),s.jsxs("span",{children:[s.jsx("strong",{children:"Surveiller:"})," Suivre l'activit des discussions"]})]})]}),s.jsx("p",{className:"mt-3 text-sm text-blue-700",children:" Accdez  un forum spcifique pour utiliser ces actions de modration."})]}),o&&s.jsxs("div",{className:"mt-6 bg-gradient-to-r from-gray-50 to-gray-100 border border-gray-200 rounded-lg p-5",children:[s.jsx("h3",{className:"font-semibold text-gray-900 mb-3",children:"Statistiques gnrales"}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4 text-sm",children:[s.jsxs("div",{children:[s.jsx("span",{className:"text-gray-600",children:"Crateurs de discussions:"}),s.jsx("span",{className:"ml-2 font-semibold text-gray-900",children:o.active_thread_creators})]}),s.jsxs("div",{children:[s.jsx("span",{className:"text-gray-600",children:"Participants actifs:"}),s.jsx("span",{className:"ml-2 font-semibold text-gray-900",children:o.active_posters})]}),s.jsxs("div",{children:[s.jsx("span",{className:"text-gray-600",children:"Taux d'engagement:"}),s.jsxs("span",{className:"ml-2 font-semibold text-gray-900",children:[o.total_threads>0?(o.total_posts/o.total_threads*100).toFixed(1):0,"% rponses/thread"]})]})]})]})]})},U_e=()=>{const e=Fn(),{user:t}=Si(),{data:r=[],isLoading:n}=wL(),a=r.filter(g=>g.students?.some(x=>x.student_id===t?.id)),i=g=>({planned:"bg-blue-100 text-blue-700",active:"bg-green-100 text-green-700",completed:"bg-gray-100 text-gray-700",cancelled:"bg-red-100 text-red-700"})[g]||"bg-gray-100 text-gray-700",l=g=>({planned:"Planifie",active:"En cours",completed:"Termine",cancelled:"Annule"})[g]||g,o=g=>new Date(g).toLocaleDateString("fr-FR",{day:"numeric",month:"long",year:"numeric"}),u=g=>{const x=new Date,b=new Date(g.start_date),v=new Date(g.end_date);return x>=b&&x<=v},f=a.filter(g=>g.status==="active"||u(g)),h=a.filter(g=>g.status==="planned"&&!u(g)),m=a.filter(g=>g.status==="completed");return s.jsx(da,{title:`Bonjour ${t?.full_name||"tudiant"}`,subtitle:"Bienvenue sur votre portail de formation",children:s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-6",children:[s.jsx("div",{className:"bg-gradient-to-br from-blue-500 to-blue-600 rounded-lg shadow-lg p-6 text-white",children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx("p",{className:"text-blue-100 text-sm font-medium",children:"Sessions inscrites"}),s.jsx("p",{className:"text-3xl font-bold mt-2",children:a.length})]}),s.jsx($n,{className:"h-12 w-12 text-blue-200"})]})}),s.jsx("div",{className:"bg-gradient-to-br from-green-500 to-green-600 rounded-lg shadow-lg p-6 text-white",children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx("p",{className:"text-green-100 text-sm font-medium",children:"Sessions actives"}),s.jsx("p",{className:"text-3xl font-bold mt-2",children:f.length})]}),s.jsx($0,{className:"h-12 w-12 text-green-200"})]})}),s.jsx("div",{className:"bg-gradient-to-br from-purple-500 to-purple-600 rounded-lg shadow-lg p-6 text-white",children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx("p",{className:"text-purple-100 text-sm font-medium",children:" venir"}),s.jsx("p",{className:"text-3xl font-bold mt-2",children:h.length})]}),s.jsx(wi,{className:"h-12 w-12 text-purple-200"})]})}),s.jsx("div",{className:"bg-gradient-to-br from-orange-500 to-orange-600 rounded-lg shadow-lg p-6 text-white",children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx("p",{className:"text-orange-100 text-sm font-medium",children:"Termines"}),s.jsx("p",{className:"text-3xl font-bold mt-2",children:m.length})]}),s.jsx(si,{className:"h-12 w-12 text-orange-200"})]})})]}),s.jsxs("div",{className:"bg-white rounded-lg shadow-sm border p-6",children:[s.jsx("h2",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Accs Rapide"}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[s.jsxs(et,{onClick:()=>e("/student/catalog"),className:"flex items-center justify-center gap-2 h-16 bg-gradient-to-r from-blue-500 to-blue-600 hover:from-blue-600 hover:to-blue-700 text-white",children:[s.jsx($n,{className:"h-5 w-5"}),s.jsx("span",{className:"font-medium",children:"Catalogue de Formations"})]}),s.jsxs(et,{onClick:()=>e("/student/certificates"),className:"flex items-center justify-center gap-2 h-16 bg-gradient-to-r from-amber-500 to-amber-600 hover:from-amber-600 hover:to-amber-700 text-white",children:[s.jsx(si,{className:"h-5 w-5"}),s.jsx("span",{className:"font-medium",children:"Mes Certificats"})]}),f.length>0&&f[0].formation_id&&s.jsxs(et,{onClick:()=>e(`/student/formations/${f[0].formation_id}`),className:"flex items-center justify-center gap-2 h-16 bg-gradient-to-r from-green-500 to-green-600 hover:from-green-600 hover:to-green-700 text-white",children:[s.jsx(jc,{className:"h-5 w-5"}),s.jsx("span",{className:"font-medium",children:"Continuer ma formation"})]})]})]}),f.length>0&&s.jsxs("div",{className:"bg-white rounded-lg shadow-sm border p-6",children:[s.jsx("div",{className:"flex items-center justify-between mb-6",children:s.jsxs("h2",{className:"text-xl font-bold text-gray-900 flex items-center gap-2",children:[s.jsx(jc,{className:"h-6 w-6 text-green-600"}),"Sessions en cours"]})}),s.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:f.map(g=>s.jsxs("div",{className:"border border-green-200 rounded-lg p-4 hover:shadow-md transition-shadow bg-green-50",children:[s.jsxs("div",{className:"flex items-start justify-between mb-3",children:[s.jsxs("div",{className:"flex-1",children:[s.jsx("h3",{className:"font-semibold text-gray-900 mb-1",children:g.name}),g.formation_title&&s.jsxs("p",{className:"text-sm text-green-700 font-medium",children:[" ",g.formation_title]})]}),s.jsx("span",{className:`px-2 py-1 text-xs font-semibold rounded-full ${i(g.status)}`,children:l(g.status)})]}),s.jsxs("div",{className:"space-y-2 text-sm text-gray-600",children:[g.segment_name&&s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(ls,{className:"h-4 w-4 text-gray-400"}),s.jsx("span",{children:g.segment_name})]}),g.city_name&&s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(Cs,{className:"h-4 w-4 text-gray-400"}),s.jsx("span",{children:g.city_name})]}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(wi,{className:"h-4 w-4 text-gray-400"}),s.jsxs("span",{children:[o(g.start_date)," - ",o(g.end_date)]})]})]}),g.formation_id&&s.jsx("div",{className:"mt-4",children:s.jsxs(et,{onClick:()=>e(`/student/formations/${g.formation_id}`),className:"w-full bg-green-600 hover:bg-green-700",size:"sm",children:[s.jsx(jc,{className:"h-4 w-4 mr-2"}),"Accder  la formation"]})})]},g.id))})]}),h.length>0&&s.jsxs("div",{className:"bg-white rounded-lg shadow-sm border p-6",children:[s.jsxs("h2",{className:"text-xl font-bold text-gray-900 mb-6 flex items-center gap-2",children:[s.jsx(As,{className:"h-6 w-6 text-purple-600"}),"Sessions  venir"]}),s.jsx("div",{className:"space-y-4",children:h.map(g=>s.jsx("div",{className:"border rounded-lg p-4 hover:shadow-md transition-shadow",children:s.jsxs("div",{className:"flex items-start justify-between",children:[s.jsxs("div",{className:"flex-1",children:[s.jsx("h3",{className:"font-semibold text-gray-900 mb-2",children:g.name}),g.formation_title&&s.jsxs("p",{className:"text-sm text-gray-600 mb-2",children:[" ",g.formation_title]}),s.jsxs("div",{className:"flex flex-wrap gap-4 text-sm text-gray-600",children:[g.segment_name&&s.jsxs("div",{className:"flex items-center gap-1",children:[s.jsx(ls,{className:"h-4 w-4 text-gray-400"}),s.jsx("span",{children:g.segment_name})]}),g.city_name&&s.jsxs("div",{className:"flex items-center gap-1",children:[s.jsx(Cs,{className:"h-4 w-4 text-gray-400"}),s.jsx("span",{children:g.city_name})]}),s.jsxs("div",{className:"flex items-center gap-1",children:[s.jsx(wi,{className:"h-4 w-4 text-gray-400"}),s.jsxs("span",{children:["Dbut: ",o(g.start_date)]})]})]})]}),s.jsx("span",{className:`px-2 py-1 text-xs font-semibold rounded-full ${i(g.status)}`,children:l(g.status)})]})},g.id))})]}),m.length>0&&s.jsxs("div",{className:"bg-white rounded-lg shadow-sm border p-6",children:[s.jsxs("h2",{className:"text-xl font-bold text-gray-900 mb-6 flex items-center gap-2",children:[s.jsx(si,{className:"h-6 w-6 text-gray-600"}),"Sessions termines"]}),s.jsx("div",{className:"space-y-4",children:m.map(g=>s.jsx("div",{className:"border rounded-lg p-4 bg-gray-50 hover:shadow-md transition-shadow",children:s.jsxs("div",{className:"flex items-start justify-between",children:[s.jsxs("div",{className:"flex-1",children:[s.jsx("h3",{className:"font-semibold text-gray-900 mb-2",children:g.name}),g.formation_title&&s.jsxs("p",{className:"text-sm text-gray-600",children:[" ",g.formation_title]})]}),s.jsx("span",{className:`px-2 py-1 text-xs font-semibold rounded-full ${i(g.status)}`,children:l(g.status)})]})},g.id))})]}),!n&&a.length===0&&s.jsxs("div",{className:"bg-white rounded-lg shadow-sm border p-12 text-center",children:[s.jsx($n,{className:"h-16 w-16 text-gray-400 mx-auto mb-4"}),s.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"Aucune session inscrite"}),s.jsx("p",{className:"text-gray-500 mb-6",children:"Vous n'tes inscrit  aucune session de formation pour le moment."}),s.jsx(et,{onClick:()=>e("/student/catalog"),children:"Parcourir le catalogue"})]}),n&&s.jsx("div",{className:"flex justify-center items-center py-12",children:s.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-blue-600"})})]})})},z_e=()=>{const e=Fn(),{data:t=[],isLoading:r}=h2(),[n,a]=k.useState(""),[i,l]=k.useState("all"),o=t.filter(m=>m.status==="published"),u=k.useMemo(()=>o.filter(m=>{const g=m.title.toLowerCase().includes(n.toLowerCase())||m.description?.toLowerCase().includes(n.toLowerCase()),x=i==="all"||m.level===i;return g&&x}),[o,n,i]),f=m=>{const x=m?{debutant:{bg:"bg-green-100",text:"text-green-700",label:"Dbutant"},intermediaire:{bg:"bg-yellow-100",text:"text-yellow-700",label:"Intermdiaire"},avance:{bg:"bg-red-100",text:"text-red-700",label:"Avanc"}}[m]:{bg:"bg-gray-100",text:"text-gray-700",label:"N/A"};return s.jsx("span",{className:`px-2 py-1 inline-flex text-xs leading-5 font-semibold rounded-full ${x.bg} ${x.text}`,children:x.label})},h=m=>m==="debutant"?s.jsx($0,{className:"h-4 w-4 text-green-600"}):m==="intermediaire"?s.jsx($0,{className:"h-4 w-4 text-yellow-600"}):m==="avance"?s.jsx(si,{className:"h-4 w-4 text-red-600"}):s.jsx($n,{className:"h-4 w-4 text-gray-400"});return s.jsx(da,{title:"Catalogue de formations",subtitle:"Explorez nos formations disponibles",children:s.jsxs("div",{className:"space-y-6",children:[s.jsx("div",{className:"bg-gradient-to-r from-blue-500 to-purple-600 rounded-lg shadow-lg p-6 text-white",children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsxs("h2",{className:"text-2xl font-bold mb-2",children:[o.length," formations disponibles"]}),s.jsx("p",{className:"text-blue-100",children:"Dveloppez vos comptences avec nos formations en ligne"})]}),s.jsx($n,{className:"h-16 w-16 text-blue-200 opacity-50"})]})}),s.jsxs("div",{className:"bg-white rounded-lg shadow-sm border p-6",children:[s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[s.jsxs("div",{children:[s.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:[s.jsx(ap,{className:"h-4 w-4 inline mr-2"}),"Rechercher"]}),s.jsx("input",{type:"text",value:n,onChange:m=>a(m.target.value),placeholder:"Titre ou description...",className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent"})]}),s.jsxs("div",{children:[s.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:[s.jsx(L_,{className:"h-4 w-4 inline mr-2"}),"Niveau"]}),s.jsxs("select",{value:i,onChange:m=>l(m.target.value),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",children:[s.jsx("option",{value:"all",children:"Tous les niveaux"}),s.jsx("option",{value:"debutant",children:"Dbutant"}),s.jsx("option",{value:"intermediaire",children:"Intermdiaire"}),s.jsx("option",{value:"avance",children:"Avanc"})]})]})]}),(n||i!=="all")&&s.jsxs("div",{className:"mt-4 flex items-center gap-2",children:[s.jsx("span",{className:"text-sm text-gray-600",children:"Filtres actifs:"}),n&&s.jsxs("span",{className:"px-2 py-1 bg-blue-100 text-blue-700 rounded text-xs",children:['Recherche: "',n,'"']}),i!=="all"&&s.jsxs("span",{className:"px-2 py-1 bg-purple-100 text-purple-700 rounded text-xs",children:["Niveau: ",f(i).props.children]}),s.jsx("button",{onClick:()=>{a(""),l("all")},className:"text-xs text-red-600 hover:text-red-700",children:"Effacer les filtres"})]})]}),s.jsx("div",{className:"flex items-center justify-between",children:s.jsxs("p",{className:"text-sm text-gray-600",children:[u.length," formation(s) trouve(s)"]})}),r?s.jsx("div",{className:"flex justify-center items-center py-12",children:s.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-blue-600"})}):u.length===0?s.jsxs("div",{className:"bg-white rounded-lg shadow-sm border p-12 text-center",children:[s.jsx($n,{className:"h-16 w-16 text-gray-400 mx-auto mb-4"}),s.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"Aucune formation trouve"}),s.jsx("p",{className:"text-gray-500 mb-6",children:n||i!=="all"?"Essayez de modifier vos critres de recherche":"Aucune formation publie pour le moment"}),(n||i!=="all")&&s.jsx(et,{onClick:()=>{a(""),l("all")},variant:"outline",children:"Effacer les filtres"})]}):s.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:u.map(m=>s.jsxs("div",{className:"bg-white rounded-lg shadow-sm border hover:shadow-lg transition-all duration-200 overflow-hidden group",children:[s.jsxs("div",{className:"h-48 bg-gradient-to-br from-blue-500 to-purple-600 relative overflow-hidden",children:[m.thumbnail_url?s.jsx("img",{src:m.thumbnail_url,alt:m.title,className:"w-full h-full object-cover group-hover:scale-105 transition-transform duration-200"}):s.jsx("div",{className:"flex items-center justify-center h-full",children:s.jsx($n,{className:"h-16 w-16 text-white opacity-50"})}),s.jsx("div",{className:"absolute top-3 right-3",children:f(m.level)})]}),s.jsxs("div",{className:"p-6",children:[s.jsx("h3",{className:"text-lg font-bold text-gray-900 mb-2 line-clamp-2 group-hover:text-blue-600 transition-colors",children:m.title}),m.description&&s.jsx("p",{className:"text-sm text-gray-600 mb-4 line-clamp-3",children:m.description}),s.jsxs("div",{className:"space-y-2 mb-4",children:[m.duration_hours&&s.jsxs("div",{className:"flex items-center gap-2 text-sm text-gray-600",children:[s.jsx(As,{className:"h-4 w-4 text-gray-400"}),s.jsxs("span",{children:[m.duration_hours,"h de contenu"]})]}),s.jsxs("div",{className:"flex items-center gap-2 text-sm text-gray-600",children:[h(m.level),s.jsxs("span",{children:["Niveau ",m.level||"N/A"]})]}),m.module_count!==void 0&&s.jsxs("div",{className:"flex items-center gap-2 text-sm text-gray-600",children:[s.jsx(jc,{className:"h-4 w-4 text-gray-400"}),s.jsxs("span",{children:[m.module_count," module(s)"]})]}),m.passing_score_percentage!==void 0&&s.jsxs("div",{className:"flex items-center gap-2 text-sm text-gray-600",children:[s.jsx(Ka,{className:"h-4 w-4 text-gray-400"}),s.jsxs("span",{children:["Score de russite: ",m.passing_score_percentage,"%"]})]})]}),m.price!==void 0&&m.price!==null&&Number(m.price)>0&&s.jsx("div",{className:"mb-4 pb-4 border-b",children:s.jsx("p",{className:"text-2xl font-bold text-blue-600",children:T3(m.price)})}),s.jsxs(et,{onClick:()=>e(`/student/formations/${m.id}`),className:"w-full bg-blue-600 hover:bg-blue-700",children:[s.jsx(jc,{className:"h-4 w-4 mr-2"}),"Voir la formation"]})]})]},m.id))})]})})},rb={async markVideoComplete(e){return at.post(`/progress/videos/${e}/complete`,{})},async recordVideoWatch(e){return at.post(`/progress/videos/${e}/watch`,{})},async getFormationVideoProgress(e){return at.get(`/progress/formations/${e}/videos`)},async submitTestAttempt(e,t){return at.post(`/progress/tests/${e}/attempts`,t)},async getTestAttempts(e){return at.get(`/progress/tests/${e}/attempts`)},async getFormationTestAttempts(e){return at.get(`/progress/formations/${e}/tests`)},async getFormationProgress(e){return at.get(`/progress/formations/${e}`)},async getStudentTranscript(e){return at.get(`/progress/student/${e}/transcript`)}};function q_e(){const e=Pt();return It({mutationFn:t=>rb.markVideoComplete(t),onSuccess:()=>{e.invalidateQueries({queryKey:["video-progress"]}),e.invalidateQueries({queryKey:["formation-progress"]})}})}function $_e(e){return or({queryKey:["video-progress",e],queryFn:()=>{if(!e)throw new Error("Formation ID required");return rb.getFormationVideoProgress(e)},enabled:!!e})}function H_e(){const e=Pt();return It({mutationFn:({testId:t,data:r})=>rb.submitTestAttempt(t,r),onSuccess:(t,r)=>{e.invalidateQueries({queryKey:["test-attempts",r.testId]}),e.invalidateQueries({queryKey:["test-attempts-formation"]}),e.invalidateQueries({queryKey:["formation-progress"]}),e.invalidateQueries({queryKey:["transcript"]})}})}function V_e(e){return or({queryKey:["formation-progress",e],queryFn:()=>{if(!e)throw new Error("Formation ID required");return rb.getFormationProgress(e)},enabled:!!e,staleTime:1e3*60*5})}const W_e=()=>{const{id:e}=Vo(),t=Fn(),{user:r}=Si(),{data:n,isLoading:a,error:i}=cp(e),{data:l}=V_e(e),{data:o}=vU(r?.id||null),[u,f]=k.useState(new Set),h=o?.certificates.some(T=>T.formation_id===e)||!1,m=T=>{const O=new Set(u);O.has(T)?O.delete(T):O.add(T),f(O)},g=T=>l?.video_progress.some(O=>O.video_id===T&&O.completed_at)||!1,x=T=>l?.test_attempts.some(O=>O.test_id===T&&O.passed)||!1,b=T=>{const O={debutant:{bg:"bg-green-100",text:"text-green-700",label:"Dbutant"},intermediaire:{bg:"bg-yellow-100",text:"text-yellow-700",label:"Intermdiaire"},avance:{bg:"bg-red-100",text:"text-red-700",label:"Avanc"}},F=T&&T in O?O[T]:{bg:"bg-gray-100",text:"text-gray-700",label:"N/A"};return s.jsx("span",{className:`px-2 py-1 inline-flex text-xs leading-5 font-semibold rounded-full ${F.bg} ${F.text}`,children:F.label})},v=T=>T==="video"?s.jsx(jc,{className:"h-5 w-5 text-purple-600"}):T==="test"?s.jsx(af,{className:"h-5 w-5 text-orange-600"}):s.jsx($n,{className:"h-5 w-5 text-blue-600"}),w=(T,O)=>(!T.prerequisite_module_id||!O.find(D=>D.id===T.prerequisite_module_id),!0);if(a)return s.jsx(da,{title:"Chargement...",subtitle:"Chargement de la formation",children:s.jsx("div",{className:"flex justify-center items-center py-12",children:s.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-blue-600"})})});if(i||!n)return s.jsx(da,{title:"Erreur",subtitle:"Formation introuvable",children:s.jsxs("div",{className:"bg-red-50 border border-red-200 rounded-lg p-6 text-center",children:[s.jsx("p",{className:"text-red-800 mb-4",children:i?.message||"Cette formation n'existe pas ou n'est pas disponible."}),s.jsxs(et,{onClick:()=>t("/student/catalog"),variant:"outline",children:[s.jsx(ta,{className:"h-4 w-4 mr-2"}),"Retour au catalogue"]})]})});const N=n.modules||[],E=N.reduce((T,O)=>T+(O.videos?.length||0),0),j=N.reduce((T,O)=>T+(O.tests?.length||0),0);return s.jsx(da,{title:n.title,subtitle:"Contenu de la formation",children:s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{className:"bg-white rounded-lg shadow-sm border p-6",children:[s.jsxs(et,{variant:"ghost",size:"sm",onClick:()=>t("/student/catalog"),className:"mb-4",children:[s.jsx(ta,{className:"h-4 w-4 mr-2"}),"Retour au catalogue"]}),s.jsxs("div",{className:"flex items-start gap-6",children:[s.jsx("div",{className:"hidden md:block",children:n.thumbnail_url?s.jsx("img",{src:n.thumbnail_url,alt:n.title,className:"w-48 h-32 object-cover rounded-lg"}):s.jsx("div",{className:"w-48 h-32 bg-gradient-to-br from-blue-500 to-purple-600 rounded-lg flex items-center justify-center",children:s.jsx($n,{className:"h-12 w-12 text-white opacity-50"})})}),s.jsxs("div",{className:"flex-1",children:[s.jsxs("div",{className:"flex items-center gap-3 mb-3",children:[s.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:n.title}),b(n.level)]}),n.description&&s.jsx("p",{className:"text-gray-600 mb-4",children:n.description}),s.jsxs("div",{className:"flex flex-wrap gap-6 text-sm text-gray-600",children:[n.duration_hours&&s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(As,{className:"h-4 w-4 text-gray-400"}),s.jsxs("span",{children:[n.duration_hours,"h de contenu"]})]}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx($n,{className:"h-4 w-4 text-gray-400"}),s.jsxs("span",{children:[N.length," module(s)"]})]}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(jc,{className:"h-4 w-4 text-gray-400"}),s.jsxs("span",{children:[E," vido(s)"]})]}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(af,{className:"h-4 w-4 text-gray-400"}),s.jsxs("span",{children:[j," test(s)"]})]}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(si,{className:"h-4 w-4 text-gray-400"}),s.jsxs("span",{children:["Score de russite: ",n.passing_score_percentage,"%"]})]})]})]})]})]}),l&&s.jsxs("div",{className:"bg-white rounded-lg shadow-sm border p-6",children:[s.jsx("h2",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Votre progression"}),s.jsx("div",{className:"mb-6",children:s.jsx(e2,{progress:l.summary.overall_progress,label:"Progression globale",color:"purple",size:"lg"})}),h&&s.jsx("div",{className:"mb-6",children:s.jsx("div",{onClick:()=>t("/student/certificates"),className:"bg-gradient-to-r from-amber-50 to-amber-100 border-2 border-amber-300 rounded-lg p-4 cursor-pointer hover:shadow-md transition-all",children:s.jsxs("div",{className:"flex items-center gap-4",children:[s.jsx("div",{className:"bg-amber-500 p-3 rounded-full",children:s.jsx(si,{className:"h-6 w-6 text-white"})}),s.jsxs("div",{className:"flex-1",children:[s.jsx("h3",{className:"font-semibold text-amber-900 mb-1",children:" Certificat disponible !"}),s.jsx("p",{className:"text-sm text-amber-700",children:"Flicitations ! Vous avez termin cette formation. Cliquez ici pour tlcharger votre certificat."})]}),s.jsx(yc,{className:"h-5 w-5 text-amber-600"})]})})}),s.jsx("div",{className:"mb-6",children:s.jsx("div",{onClick:()=>t(`/student/forums/${e}`),className:"bg-gradient-to-r from-blue-50 to-purple-50 border-2 border-blue-300 rounded-lg p-4 cursor-pointer hover:shadow-md transition-all",children:s.jsxs("div",{className:"flex items-center gap-4",children:[s.jsx("div",{className:"bg-gradient-to-br from-blue-500 to-purple-600 p-3 rounded-full",children:s.jsx(Js,{className:"h-6 w-6 text-white"})}),s.jsxs("div",{className:"flex-1",children:[s.jsx("h3",{className:"font-semibold text-blue-900 mb-1",children:" Forum de discussion"}),s.jsx("p",{className:"text-sm text-blue-700",children:"Posez vos questions, partagez vos ides et discutez avec les autres tudiants."})]}),s.jsx(yc,{className:"h-5 w-5 text-blue-600"})]})})}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[s.jsx(hD,{completed:l.summary.completed_videos,total:l.summary.total_videos,label:"Vidos termines",color:"blue"}),s.jsx(hD,{completed:l.summary.passed_tests,total:l.summary.total_tests,label:"Tests russis",color:"green"})]})]}),N.length===0?s.jsxs("div",{className:"bg-white rounded-lg shadow-sm border p-12 text-center",children:[s.jsx($n,{className:"h-16 w-16 text-gray-400 mx-auto mb-4"}),s.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"Aucun contenu disponible"}),s.jsx("p",{className:"text-gray-500",children:"Cette formation n'a pas encore de contenu. Revenez plus tard."})]}):s.jsxs("div",{className:"bg-white rounded-lg shadow-sm border",children:[s.jsxs("div",{className:"p-6 border-b",children:[s.jsx("h2",{className:"text-xl font-bold text-gray-900",children:"Contenu de la formation"}),s.jsx("p",{className:"text-sm text-gray-600 mt-1",children:"Cliquez sur un module pour voir son contenu"})]}),s.jsx("div",{className:"divide-y",children:N.map((T,O)=>{const F=u.has(T.id),D=w(T,N),L=T.videos||[],B=T.tests||[],H=L.length>0||B.length>0;return s.jsxs("div",{children:[s.jsx("div",{className:`p-4 hover:bg-gray-50 transition-colors ${D?"cursor-pointer":"opacity-60"}`,onClick:()=>D&&H&&m(T.id),children:s.jsxs("div",{className:"flex items-center gap-3",children:[H?s.jsx("button",{className:"text-gray-400 hover:text-gray-600",children:F?s.jsx(Um,{className:"h-5 w-5"}):s.jsx(yc,{className:"h-5 w-5"})}):s.jsx("div",{className:"w-5"}),v(T.module_type),s.jsxs("div",{className:"flex-1 min-w-0",children:[s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsxs("span",{className:"text-sm font-medium text-gray-500",children:["Module ",O+1]}),!D&&s.jsx(qx,{className:"h-4 w-4 text-gray-400"})]}),s.jsx("h3",{className:"text-base font-semibold text-gray-900",children:T.title}),T.description&&s.jsx("p",{className:"text-sm text-gray-600 mt-1 line-clamp-2",children:T.description})]}),s.jsxs("div",{className:"text-sm text-gray-500",children:[L.length>0&&s.jsxs("span",{className:"mr-3",children:[L.length," vido(s)"]}),B.length>0&&s.jsxs("span",{children:[B.length," test(s)"]})]})]})}),F&&H&&s.jsxs("div",{className:"bg-gray-50 px-4 py-3 space-y-2",children:[L.map((P,U)=>{const K=g(P.id);return s.jsx("div",{className:`bg-white rounded-lg border p-3 hover:shadow-md transition-shadow cursor-pointer ${K?"border-green-300 bg-green-50":"border-purple-200"}`,onClick:()=>t(`/student/formations/${n.id}/videos/${P.id}`),children:s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx(jc,{className:`h-5 w-5 flex-shrink-0 ${K?"text-green-600":"text-purple-600"}`}),s.jsxs("div",{className:"flex-1 min-w-0",children:[s.jsxs("p",{className:"text-sm font-medium text-gray-900",children:["Vido ",U+1,": ",P.title]}),P.duration_seconds&&s.jsxs("p",{className:"text-xs text-gray-500",children:["Dure: ",Math.floor(P.duration_seconds/60)," min"," ",P.duration_seconds%60," sec"]})]}),K?s.jsx(Ka,{className:"h-5 w-5 text-green-600 flex-shrink-0"}):s.jsx(yc,{className:"h-5 w-5 text-gray-400"})]})},P.id)}),B.map((P,U)=>{const K=x(P.id);return s.jsx("div",{className:`bg-white rounded-lg border p-3 hover:shadow-md transition-shadow cursor-pointer ${K?"border-green-300 bg-green-50":"border-orange-200"}`,onClick:()=>t(`/student/formations/${n.id}/tests/${P.id}`),children:s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx(af,{className:`h-5 w-5 flex-shrink-0 ${K?"text-green-600":"text-orange-600"}`}),s.jsxs("div",{className:"flex-1 min-w-0",children:[s.jsxs("p",{className:"text-sm font-medium text-gray-900",children:["Test ",U+1,": ",P.title]}),s.jsxs("div",{className:"flex items-center gap-3 text-xs text-gray-500 mt-1",children:[P.questions&&s.jsxs("span",{children:[P.questions.length," question(s)"]}),P.time_limit_minutes&&s.jsxs("span",{children:[" ",P.time_limit_minutes," min"]}),s.jsxs("span",{children:["Score min: ",P.passing_score,"%"]})]})]}),K?s.jsx(Ka,{className:"h-5 w-5 text-green-600 flex-shrink-0"}):s.jsx(yc,{className:"h-5 w-5 text-gray-400"})]})},P.id)})]})]},T.id)})})]})]})})},G_e=()=>{const{id:e,videoId:t}=Vo(),r=Fn(),{data:n,isLoading:a,error:i}=cp(e),{data:l}=$_e(e),o=q_e(),u=n?.modules?.flatMap(j=>j.videos||[]).find(j=>j.id===t),f=n?.modules?.find(j=>j.videos?.some(T=>T.id===t)),h=[];n?.modules?.forEach(j=>{j.videos?.forEach(T=>{h.push({video:T,module:j})})});const m=h.findIndex(j=>j.video.id===t),g=m>0?h[m-1]:null,x=m<h.length-1?h[m+1]:null,b=j=>{if(!j)return null;const T=[/(?:youtube\.com\/watch\?v=)([^&]+)/,/(?:youtu\.be\/)([^?]+)/,/(?:youtube\.com\/embed\/)([^?]+)/];for(const O of T){const F=j.match(O);if(F)return F[1]}return null},v=u?.youtube_url?b(u.youtube_url):null,w=j=>{const T=Math.floor(j/60),O=j%60;return`${T}:${O.toString().padStart(2,"0")}`},N=l?.some(j=>j.video_id===t&&j.completed_at)||!1,E=async()=>{if(!(!t||N))try{await o.mutateAsync(t)}catch(j){console.error("Erreur lors du marquage de la vido:",j)}};return k.useEffect(()=>{t&&console.log("Vido en cours de visionnage:",t)},[t]),a?s.jsx(da,{title:"Chargement...",subtitle:"Chargement de la vido",children:s.jsx("div",{className:"flex justify-center items-center py-12",children:s.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-blue-600"})})}):i||!n||!u?s.jsx(da,{title:"Erreur",subtitle:"Vido introuvable",children:s.jsxs("div",{className:"bg-red-50 border border-red-200 rounded-lg p-6 text-center",children:[s.jsx("p",{className:"text-red-800 mb-4",children:i?.message||"Cette vido n'existe pas ou n'est pas disponible."}),s.jsxs(et,{onClick:()=>r(e?`/student/formations/${e}`:"/student/catalog"),variant:"outline",children:[s.jsx(ta,{className:"h-4 w-4 mr-2"}),"Retour"]})]})}):s.jsx(da,{title:u.title,subtitle:n.title,children:s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs(et,{variant:"ghost",size:"sm",onClick:()=>r(`/student/formations/${e}`),children:[s.jsx(ta,{className:"h-4 w-4 mr-2"}),"Retour  la formation"]}),N?s.jsxs("div",{className:"flex items-center gap-2 text-green-600 font-medium text-sm",children:[s.jsx(Ka,{className:"h-5 w-5"}),s.jsx("span",{children:"Vido termine"})]}):s.jsxs(et,{onClick:E,disabled:o.isPending,className:"bg-green-600 hover:bg-green-700",children:[s.jsx(Ka,{className:"h-4 w-4 mr-2"}),o.isPending?"Enregistrement...":"Marquer comme termin"]})]}),s.jsx("div",{className:"bg-white rounded-lg shadow-sm border overflow-hidden",children:v?s.jsx("div",{className:"relative",style:{paddingBottom:"56.25%"},children:s.jsx("iframe",{className:"absolute top-0 left-0 w-full h-full",src:`https://www.youtube.com/embed/${v}?rel=0`,title:u.title,allow:"accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture",allowFullScreen:!0})}):s.jsx("div",{className:"aspect-video bg-gray-900 flex items-center justify-center",children:s.jsxs("div",{className:"text-center text-white",children:[s.jsx(jc,{className:"h-16 w-16 mx-auto mb-4 opacity-50"}),s.jsx("p",{className:"text-lg font-medium",children:"URL de vido non disponible"}),s.jsx("p",{className:"text-sm text-gray-400 mt-2",children:u.youtube_url||"Aucune URL configure"})]})})}),s.jsxs("div",{className:"bg-white rounded-lg shadow-sm border p-6",children:[s.jsxs("div",{className:"flex items-start justify-between mb-4",children:[s.jsxs("div",{className:"flex-1",children:[s.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[s.jsx(jc,{className:"h-5 w-5 text-purple-600"}),s.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:u.title})]}),f&&s.jsxs("div",{className:"flex items-center gap-2 text-sm text-gray-600",children:[s.jsx($n,{className:"h-4 w-4 text-gray-400"}),s.jsx("span",{children:f.title})]})]}),u.duration_seconds&&s.jsxs("div",{className:"flex items-center gap-2 text-sm text-gray-600 bg-gray-100 px-3 py-2 rounded-lg",children:[s.jsx(As,{className:"h-4 w-4 text-gray-400"}),s.jsx("span",{children:w(u.duration_seconds)})]})]}),u.description&&s.jsxs("div",{className:"border-t pt-4",children:[s.jsx("h3",{className:"text-sm font-semibold text-gray-900 mb-2",children:"Description"}),s.jsx("p",{className:"text-gray-600 whitespace-pre-wrap",children:u.description})]})]}),(g||x)&&s.jsxs("div",{className:"bg-white rounded-lg shadow-sm border p-6",children:[s.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Navigation"}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[g?s.jsxs("button",{onClick:()=>r(`/student/formations/${e}/videos/${g.video.id}`),className:"flex items-center gap-3 p-4 border border-gray-300 rounded-lg hover:bg-gray-50 hover:border-gray-400 transition-all text-left",children:[s.jsx(P_,{className:"h-5 w-5 text-gray-400 flex-shrink-0"}),s.jsxs("div",{className:"flex-1 min-w-0",children:[s.jsx("p",{className:"text-xs text-gray-500 mb-1",children:"Vido prcdente"}),s.jsx("p",{className:"text-sm font-medium text-gray-900 truncate",children:g.video.title}),s.jsx("p",{className:"text-xs text-gray-500 mt-1",children:g.module.title})]})]}):s.jsx("div",{className:"p-4 border border-gray-200 rounded-lg bg-gray-50 flex items-center justify-center",children:s.jsx("p",{className:"text-sm text-gray-400",children:"Premire vido"})}),x?s.jsxs("button",{onClick:()=>r(`/student/formations/${e}/videos/${x.video.id}`),className:"flex items-center gap-3 p-4 border border-gray-300 rounded-lg hover:bg-gray-50 hover:border-gray-400 transition-all text-left",children:[s.jsxs("div",{className:"flex-1 min-w-0",children:[s.jsx("p",{className:"text-xs text-gray-500 mb-1",children:"Vido suivante"}),s.jsx("p",{className:"text-sm font-medium text-gray-900 truncate",children:x.video.title}),s.jsx("p",{className:"text-xs text-gray-500 mt-1",children:x.module.title})]}),s.jsx(yc,{className:"h-5 w-5 text-gray-400 flex-shrink-0"})]}):s.jsx("div",{className:"p-4 border border-gray-200 rounded-lg bg-gray-50 flex items-center justify-center",children:s.jsx("p",{className:"text-sm text-gray-400",children:"Dernire vido"})})]})]}),s.jsxs("div",{className:"bg-white rounded-lg shadow-sm border p-6",children:[s.jsxs("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:["Toutes les vidos (",h.length,")"]}),s.jsx("div",{className:"space-y-2",children:h.map(({video:j,module:T},O)=>s.jsxs("button",{onClick:()=>r(`/student/formations/${e}/videos/${j.id}`),className:`w-full flex items-center gap-3 p-3 rounded-lg border transition-all text-left ${j.id===t?"bg-purple-50 border-purple-300 shadow-sm":"border-gray-200 hover:bg-gray-50 hover:border-gray-300"}`,children:[s.jsx("div",{className:`flex items-center justify-center w-8 h-8 rounded-full flex-shrink-0 ${j.id===t?"bg-purple-600 text-white":"bg-gray-100 text-gray-600"}`,children:j.id===t?s.jsx(jc,{className:"h-4 w-4"}):s.jsx("span",{className:"text-sm font-medium",children:O+1})}),s.jsxs("div",{className:"flex-1 min-w-0",children:[s.jsx("p",{className:`text-sm font-medium truncate ${j.id===t?"text-purple-900":"text-gray-900"}`,children:j.title}),s.jsx("p",{className:"text-xs text-gray-500 mt-0.5",children:T.title})]}),j.duration_seconds&&s.jsxs("div",{className:"text-xs text-gray-500 flex items-center gap-1",children:[s.jsx(As,{className:"h-3 w-3"}),w(j.duration_seconds)]})]},j.id))})]})]})})},K_e=()=>{const{id:e,testId:t}=Vo(),r=Fn(),{data:n,isLoading:a,error:i}=cp(e),l=H_e(),[o,u]=k.useState({}),[f,h]=k.useState(!1),[m,g]=k.useState(null),[x]=k.useState(new Date),b=n?.modules?.flatMap(D=>D.tests||[]).find(D=>D.id===t),v=n?.modules?.find(D=>D.tests?.some(L=>L.id===t)),w=b?.questions||[];k.useEffect(()=>{if(b?.time_limit_minutes&&!f){g(b.time_limit_minutes*60);const D=setInterval(()=>{g(L=>L===null||L<=0?(clearInterval(D),f||E(),0):L-1)},1e3);return()=>clearInterval(D)}},[b,f]);const N=(D,L)=>{f||u(B=>({...B,[D]:L}))},E=async()=>{if(f||!t)return;const D=w.filter(U=>!o[U.id]).length;if(D>0&&!window.confirm(`${D} question(s) non rpondue(s). Voulez-vous vraiment soumettre le test ?`))return;h(!0);let L=0,B=0;w.forEach(U=>{L+=U.points;const K=o[U.id];K&&U.choices.find(me=>me.id===K)?.is_correct&&(B+=U.points)});const P=(L>0?B/L*100:0)>=(b?.passing_score||70);try{await l.mutateAsync({testId:t,data:{answers:o,score:B,total_points:L,passed:P}})}catch(U){console.error("Erreur lors de l'enregistrement de la tentative:",U)}},j=()=>{let D=0,L=0,B=0;w.forEach(U=>{L+=U.points;const K=o[U.id];K&&U.choices.find(me=>me.id===K)?.is_correct&&(D++,B+=U.points)});const H=w.length>0?D/w.length*100:0,P=L>0?B/L*100:0;return{correctCount:D,totalQuestions:w.length,percentage:Math.round(H),earnedPoints:B,totalPoints:L,pointsPercentage:Math.round(P),passed:P>=(b?.passing_score||70)}},T=D=>{const L=Math.floor(D/60),B=D%60;return`${L}:${B.toString().padStart(2,"0")}`},O=()=>{if(!f)return"";const L=Math.floor((new Date().getTime()-x.getTime())/1e3);return T(L)},F=f?j():null;return a?s.jsx(da,{title:"Chargement...",subtitle:"Chargement du test",children:s.jsx("div",{className:"flex justify-center items-center py-12",children:s.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-blue-600"})})}):i||!n||!b?s.jsx(da,{title:"Erreur",subtitle:"Test introuvable",children:s.jsxs("div",{className:"bg-red-50 border border-red-200 rounded-lg p-6 text-center",children:[s.jsx("p",{className:"text-red-800 mb-4",children:i?.message||"Ce test n'existe pas ou n'est pas disponible."}),s.jsxs(et,{onClick:()=>r(e?`/student/formations/${e}`:"/student/catalog"),variant:"outline",children:[s.jsx(ta,{className:"h-4 w-4 mr-2"}),"Retour"]})]})}):s.jsx(da,{title:b.title,subtitle:n.title,children:s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{className:"bg-white rounded-lg shadow-sm border p-6",children:[s.jsxs("div",{className:"flex items-center justify-between mb-4",children:[s.jsxs(et,{variant:"ghost",size:"sm",onClick:()=>r(`/student/formations/${e}`),disabled:!f,children:[s.jsx(ta,{className:"h-4 w-4 mr-2"}),"Retour  la formation"]}),!f&&m!==null&&s.jsxs("div",{className:`flex items-center gap-2 px-4 py-2 rounded-lg font-medium ${m<60?"bg-red-100 text-red-700":m<300?"bg-yellow-100 text-yellow-700":"bg-blue-100 text-blue-700"}`,children:[s.jsx(As,{className:"h-4 w-4"}),s.jsx("span",{children:T(m)})]})]}),s.jsxs("div",{className:"flex items-start gap-4",children:[s.jsx(af,{className:"h-6 w-6 text-orange-600 flex-shrink-0 mt-1"}),s.jsxs("div",{className:"flex-1",children:[s.jsx("h1",{className:"text-2xl font-bold text-gray-900 mb-2",children:b.title}),v&&s.jsxs("div",{className:"flex items-center gap-2 text-sm text-gray-600 mb-3",children:[s.jsx($n,{className:"h-4 w-4 text-gray-400"}),s.jsx("span",{children:v.title})]}),b.description&&s.jsx("p",{className:"text-gray-600 mb-3",children:b.description}),s.jsxs("div",{className:"flex flex-wrap gap-4 text-sm text-gray-600",children:[s.jsxs("div",{className:"flex items-center gap-1",children:[s.jsx(af,{className:"h-4 w-4 text-gray-400"}),s.jsxs("span",{children:[w.length," questions"]})]}),b.time_limit_minutes&&s.jsxs("div",{className:"flex items-center gap-1",children:[s.jsx(As,{className:"h-4 w-4 text-gray-400"}),s.jsxs("span",{children:[b.time_limit_minutes," min"]})]}),s.jsxs("div",{className:"flex items-center gap-1",children:[s.jsx(si,{className:"h-4 w-4 text-gray-400"}),s.jsxs("span",{children:["Score minimum: ",b.passing_score,"%"]})]})]})]})]})]}),f&&F&&s.jsxs("div",{className:`rounded-lg shadow-sm border p-6 ${F.passed?"bg-green-50 border-green-200":"bg-red-50 border-red-200"}`,children:[s.jsxs("div",{className:"flex items-center gap-3 mb-4",children:[F.passed?s.jsx(Ka,{className:"h-8 w-8 text-green-600"}):s.jsx(mf,{className:"h-8 w-8 text-red-600"}),s.jsxs("div",{children:[s.jsx("h2",{className:`text-xl font-bold ${F.passed?"text-green-900":"text-red-900"}`,children:F.passed?"Test russi !":"Test chou"}),s.jsxs("p",{className:F.passed?"text-green-700":"text-red-700",children:["Score: ",F.pointsPercentage,"% (",F.earnedPoints,"/",F.totalPoints," points)"]})]})]}),s.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4 mt-4",children:[s.jsxs("div",{className:"bg-white rounded-lg p-3 border border-gray-200",children:[s.jsx("p",{className:"text-xs text-gray-500 mb-1",children:"Bonnes rponses"}),s.jsxs("p",{className:"text-lg font-semibold text-gray-900",children:[F.correctCount,"/",F.totalQuestions]})]}),s.jsxs("div",{className:"bg-white rounded-lg p-3 border border-gray-200",children:[s.jsx("p",{className:"text-xs text-gray-500 mb-1",children:"Pourcentage"}),s.jsxs("p",{className:"text-lg font-semibold text-gray-900",children:[F.percentage,"%"]})]}),s.jsxs("div",{className:"bg-white rounded-lg p-3 border border-gray-200",children:[s.jsx("p",{className:"text-xs text-gray-500 mb-1",children:"Points obtenus"}),s.jsxs("p",{className:"text-lg font-semibold text-gray-900",children:[F.earnedPoints,"/",F.totalPoints]})]}),s.jsxs("div",{className:"bg-white rounded-lg p-3 border border-gray-200",children:[s.jsx("p",{className:"text-xs text-gray-500 mb-1",children:"Temps coul"}),s.jsx("p",{className:"text-lg font-semibold text-gray-900",children:O()})]})]})]}),w.length===0?s.jsxs("div",{className:"bg-white rounded-lg shadow-sm border p-12 text-center",children:[s.jsx(af,{className:"h-16 w-16 text-gray-400 mx-auto mb-4"}),s.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"Aucune question"}),s.jsx("p",{className:"text-gray-500",children:"Ce test n'a pas encore de questions."})]}):s.jsx("div",{className:"space-y-6",children:w.map((D,L)=>{const B=o[D.id],P=D.choices.find(U=>U.id===B)?.is_correct||!1;return s.jsxs("div",{className:"bg-white rounded-lg shadow-sm border p-6",children:[s.jsxs("div",{className:"flex items-start gap-3 mb-4",children:[s.jsx("div",{className:`flex items-center justify-center w-8 h-8 rounded-full flex-shrink-0 ${f?P?"bg-green-100 text-green-700":B?"bg-red-100 text-red-700":"bg-gray-100 text-gray-700":"bg-blue-100 text-blue-700"}`,children:f?P?s.jsx(Ka,{className:"h-4 w-4"}):B?s.jsx(mf,{className:"h-4 w-4"}):s.jsx(X4,{className:"h-4 w-4"}):s.jsx("span",{className:"text-sm font-medium",children:L+1})}),s.jsxs("div",{className:"flex-1",children:[s.jsxs("div",{className:"flex items-center justify-between mb-2",children:[s.jsxs("h3",{className:"text-base font-semibold text-gray-900",children:["Question ",L+1]}),s.jsxs("span",{className:"text-sm text-gray-500",children:[D.points," pts"]})]}),s.jsx("p",{className:"text-gray-700",children:D.question_text})]})]}),s.jsx("div",{className:"space-y-2 ml-11",children:D.choices.map(U=>{const K=B===U.id,ee=f&&U.is_correct,me=f&&K&&!U.is_correct;return s.jsxs("label",{className:`flex items-start gap-3 p-3 rounded-lg border transition-all cursor-pointer ${f?ee?"bg-green-50 border-green-300":me?"bg-red-50 border-red-300":"border-gray-200 bg-gray-50":K?"bg-blue-50 border-blue-300":"border-gray-200 hover:bg-gray-50 hover:border-gray-300"} ${f?"cursor-default":""}`,children:[s.jsx("input",{type:"radio",name:`question-${D.id}`,value:U.id,checked:K,onChange:()=>N(D.id,U.id),disabled:f,className:"mt-1 h-4 w-4 text-blue-600 border-gray-300 focus:ring-blue-500"}),s.jsxs("div",{className:"flex-1",children:[s.jsx("p",{className:`text-sm ${ee?"text-green-900 font-medium":me?"text-red-900":"text-gray-900"}`,children:U.choice_text}),f&&U.is_correct&&s.jsx("p",{className:"text-xs text-green-700 mt-1",children:" Bonne rponse"}),f&&me&&s.jsx("p",{className:"text-xs text-red-700 mt-1",children:" Mauvaise rponse"})]})]},U.id)})}),!f&&!B&&s.jsxs("div",{className:"mt-3 ml-11 text-sm text-amber-600 flex items-center gap-2",children:[s.jsx(X4,{className:"h-4 w-4"}),s.jsx("span",{children:"Question non rpondue"})]})]},D.id)})}),!f&&w.length>0&&s.jsx("div",{className:"bg-white rounded-lg shadow-sm border p-6",children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{className:"text-sm text-gray-600",children:[s.jsxs("p",{children:[Object.keys(o).length," / ",w.length," questions rpondues"]}),b.show_correct_answers&&s.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"Les rponses correctes seront affiches aprs la soumission"})]}),s.jsxs(et,{onClick:E,size:"lg",className:"min-w-[200px]",children:[s.jsx(Ka,{className:"h-5 w-5 mr-2"}),"Soumettre le test"]})]})})]})})},Y_e=()=>{const{user:e}=Si(),{data:t,isLoading:r,error:n}=vU(e?.id||null),a=async l=>{await yU(l)};if(r)return s.jsx(da,{title:"Mes Certificats",subtitle:"Consultez et tlchargez vos certificats",children:s.jsx("div",{className:"flex items-center justify-center h-64",children:s.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-600"})})});if(n)return s.jsx(da,{title:"Mes Certificats",subtitle:"Consultez et tlchargez vos certificats",children:s.jsx("div",{className:"bg-red-50 border border-red-200 rounded-lg p-4",children:s.jsx("p",{className:"text-red-800",children:"Erreur lors du chargement des certificats"})})});const i=t?.certificates||[];return s.jsx(da,{title:"Mes Certificats",subtitle:"Consultez et tlchargez vos certificats",children:s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[s.jsx("div",{className:"bg-gradient-to-br from-blue-500 to-blue-600 rounded-lg p-6 text-white",children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx("p",{className:"text-sm opacity-90",children:"Total Certificats"}),s.jsx("p",{className:"text-4xl font-bold mt-2",children:i.length})]}),s.jsx(si,{className:"h-12 w-12 opacity-80"})]})}),s.jsx("div",{className:"bg-gradient-to-br from-green-500 to-green-600 rounded-lg p-6 text-white",children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx("p",{className:"text-sm opacity-90",children:"Formations Compltes"}),s.jsx("p",{className:"text-4xl font-bold mt-2",children:i.length})]}),s.jsx(Ka,{className:"h-12 w-12 opacity-80"})]})}),s.jsx("div",{className:"bg-gradient-to-br from-amber-500 to-amber-600 rounded-lg p-6 text-white",children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx("p",{className:"text-sm opacity-90",children:"Note Moyenne"}),s.jsxs("p",{className:"text-4xl font-bold mt-2",children:[i.length>0?(i.filter(l=>l.grade!==null).reduce((l,o)=>l+(o.grade||0),0)/i.filter(l=>l.grade!==null).length).toFixed(1):"0","%"]})]}),s.jsx(UV,{className:"h-12 w-12 opacity-80"})]})})]}),i.length===0?s.jsxs("div",{className:"bg-white rounded-lg shadow-sm border p-12 text-center",children:[s.jsx(Ux,{className:"h-16 w-16 text-gray-300 mx-auto mb-4"}),s.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"Aucun certificat disponible"}),s.jsx("p",{className:"text-gray-600",children:"Compltez vos formations pour obtenir vos certificats de russite !"})]}):s.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:i.map(l=>{const o=new Date(l.completion_date).toLocaleDateString("fr-FR",{day:"numeric",month:"long",year:"numeric"}),u=new Date(l.issued_at).toLocaleDateString("fr-FR");return s.jsxs("div",{className:"bg-white rounded-lg shadow-sm border hover:shadow-md transition-shadow overflow-hidden",children:[s.jsx("div",{className:"bg-gradient-to-r from-blue-600 to-purple-600 p-6 text-white",children:s.jsxs("div",{className:"flex items-start justify-between",children:[s.jsxs("div",{className:"flex-1",children:[s.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[s.jsx(si,{className:"h-5 w-5"}),s.jsx("span",{className:"text-sm font-medium opacity-90",children:"Certificat de Russite"})]}),s.jsx("h3",{className:"text-xl font-bold mb-2",children:l.formation_title})]}),l.grade!==null&&l.grade!==void 0&&s.jsxs("div",{className:"bg-white/20 rounded-lg px-3 py-2 text-center backdrop-blur-sm",children:[s.jsxs("p",{className:"text-2xl font-bold",children:[l.grade,"%"]}),s.jsx("p",{className:"text-xs opacity-90",children:"Note"})]})]})}),s.jsxs("div",{className:"p-6 space-y-4",children:[s.jsxs("div",{className:"space-y-3",children:[s.jsxs("div",{className:"flex items-center gap-3 text-sm text-gray-600",children:[s.jsx(wi,{className:"h-4 w-4 text-blue-500"}),s.jsxs("span",{children:["Complt le ",o]})]}),s.jsxs("div",{className:"flex items-center gap-3 text-sm text-gray-600",children:[s.jsx($n,{className:"h-4 w-4 text-green-500"}),s.jsxs("span",{children:["Dlivr le ",u]})]}),s.jsxs("div",{className:"flex items-center gap-3 text-sm text-gray-600",children:[s.jsx(Ux,{className:"h-4 w-4 text-purple-500"}),s.jsxs("span",{className:"font-mono text-xs",children:["N ",l.certificate_number]})]})]}),s.jsxs("button",{onClick:()=>a(l),className:"w-full flex items-center justify-center gap-2 px-4 py-3 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors font-medium",children:[s.jsx(Es,{className:"h-5 w-5"}),"Tlcharger le Certificat"]})]}),s.jsx("div",{className:"bg-green-50 border-t border-green-100 px-6 py-3",children:s.jsxs("div",{className:"flex items-center gap-2 text-green-700 text-sm font-medium",children:[s.jsx(Ka,{className:"h-4 w-4"}),"Formation complte avec succs"]})})]},l.id)})}),s.jsx("div",{className:"bg-blue-50 border border-blue-200 rounded-lg p-6",children:s.jsxs("div",{className:"flex items-start gap-4",children:[s.jsx("div",{className:"bg-blue-100 p-3 rounded-lg",children:s.jsx(si,{className:"h-6 w-6 text-blue-600"})}),s.jsxs("div",{children:[s.jsx("h3",{className:"font-semibold text-blue-900 mb-2",children:" propos de vos certificats"}),s.jsxs("ul",{className:"text-sm text-blue-800 space-y-1",children:[s.jsx("li",{children:" Les certificats sont gnrs automatiquement aprs compltion d'une formation"}),s.jsx("li",{children:" Chaque certificat contient un numro unique pour vrification"}),s.jsx("li",{children:" Vous pouvez tlcharger vos certificats  tout moment"}),s.jsx("li",{children:" Les certificats sont au format PDF professionnel"})]})]})]})})]})})},X_e=()=>{const{formationId:e}=Vo(),t=Fn(),[r,n]=k.useState("recent"),{data:a,isLoading:i}=cp(e||void 0),{data:l,isLoading:o}=C_e(e||null,{sort:r,pinned:"true"}),u=a,f=l?.threads||[],h=m=>{const g=new Date(m),b=new Date().getTime()-g.getTime(),v=Math.floor(b/6e4),w=Math.floor(v/60),N=Math.floor(w/24);return v<1?" l'instant":v<60?`Il y a ${v} min`:w<24?`Il y a ${w}h`:N<7?`Il y a ${N}j`:g.toLocaleDateString("fr-FR",{day:"numeric",month:"short",year:"numeric"})};return i||o?s.jsx("div",{className:"flex items-center justify-center h-64",children:s.jsxs("div",{className:"text-center",children:[s.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-600 mx-auto"}),s.jsx("p",{className:"mt-4 text-gray-600",children:"Chargement du forum..."})]})}):u?s.jsxs("div",{className:"max-w-6xl mx-auto p-6",children:[s.jsx("div",{className:"mb-6",children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsxs("h1",{className:"text-3xl font-bold text-gray-900",children:["Forum - ",u.title]}),s.jsx("p",{className:"text-gray-600 mt-1",children:"Posez vos questions et discutez avec les autres tudiants"})]}),s.jsxs(et,{onClick:()=>t(`/student/forums/${e}/new`),className:"bg-gradient-to-r from-blue-600 to-blue-700 text-white",children:[s.jsx(_i,{className:"h-4 w-4 mr-2"}),"Nouvelle discussion"]})]})}),s.jsx("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 p-4 mb-6",children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{className:"flex items-center gap-6 text-sm",children:[s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(Js,{className:"h-4 w-4 text-blue-600"}),s.jsxs("span",{className:"text-gray-600",children:[s.jsx("span",{className:"font-semibold text-gray-900",children:f.length})," ","discussions"]})]}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(GD,{className:"h-4 w-4 text-green-600"}),s.jsxs("span",{className:"text-gray-600",children:[s.jsx("span",{className:"font-semibold text-gray-900",children:f.reduce((m,g)=>m+(g.post_count||0),0)})," ","rponses"]})]})]}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("span",{className:"text-sm text-gray-600",children:"Trier par:"}),s.jsxs("select",{value:r,onChange:m=>n(m.target.value),className:"text-sm border border-gray-300 rounded-md px-3 py-1.5 focus:outline-none focus:ring-2 focus:ring-blue-500",children:[s.jsx("option",{value:"recent",children:"Plus rcent"}),s.jsx("option",{value:"popular",children:"Plus populaire"}),s.jsx("option",{value:"active",children:"Plus actif"})]})]})]})}),f.length===0?s.jsxs("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 p-12 text-center",children:[s.jsx(Js,{className:"h-16 w-16 text-gray-300 mx-auto mb-4"}),s.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-2",children:"Aucune discussion pour le moment"}),s.jsx("p",{className:"text-gray-600 mb-6",children:"Soyez le premier  poser une question ou partager une ide"}),s.jsxs(et,{onClick:()=>t(`/student/forums/${e}/new`),className:"bg-gradient-to-r from-blue-600 to-blue-700 text-white",children:[s.jsx(_i,{className:"h-4 w-4 mr-2"}),"Crer une discussion"]})]}):s.jsx("div",{className:"space-y-3",children:f.map(m=>s.jsx("div",{onClick:()=>t(`/student/forums/thread/${m.id}`),className:"bg-white rounded-lg shadow-sm border border-gray-200 p-5 hover:border-blue-300 hover:shadow-md transition-all cursor-pointer",children:s.jsxs("div",{className:"flex items-start gap-4",children:[s.jsx("div",{className:"flex-shrink-0",children:s.jsx("div",{className:"w-12 h-12 rounded-full bg-gradient-to-br from-blue-500 to-purple-600 flex items-center justify-center",children:s.jsx(Js,{className:"h-6 w-6 text-white"})})}),s.jsx("div",{className:"flex-1 min-w-0",children:s.jsxs("div",{className:"flex items-start justify-between gap-4",children:[s.jsxs("div",{className:"flex-1",children:[s.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[m.is_pinned&&s.jsx(U_,{className:"h-4 w-4 text-yellow-600 flex-shrink-0"}),m.is_locked&&s.jsx(qx,{className:"h-4 w-4 text-gray-500 flex-shrink-0"}),s.jsx("h3",{className:"text-lg font-semibold text-gray-900 hover:text-blue-600",children:m.title})]}),m.content&&s.jsx("p",{className:"text-sm text-gray-600 line-clamp-2 mb-3",children:m.content}),s.jsxs("div",{className:"flex items-center gap-4 text-xs text-gray-500",children:[s.jsxs("span",{children:["Par ",m.author_name]}),s.jsxs("span",{className:"flex items-center gap-1",children:[s.jsx(As,{className:"h-3 w-3"}),h(m.created_at)]}),m.last_post_at&&s.jsxs("span",{children:["Dernire rponse: ",h(m.last_post_at)]})]})]}),s.jsxs("div",{className:"flex items-center gap-4 text-sm",children:[s.jsxs("div",{className:"text-center",children:[s.jsxs("div",{className:"flex items-center gap-1 text-gray-600",children:[s.jsx(Ds,{className:"h-4 w-4"}),s.jsx("span",{className:"font-semibold",children:m.view_count})]}),s.jsx("div",{className:"text-xs text-gray-500",children:"vues"})]}),s.jsxs("div",{className:"text-center",children:[s.jsxs("div",{className:"flex items-center gap-1 text-blue-600",children:[s.jsx(Js,{className:"h-4 w-4"}),s.jsx("span",{className:"font-semibold",children:m.post_count||0})]}),s.jsx("div",{className:"text-xs text-gray-500",children:"rponses"})]})]})]})})]})},m.id))}),r==="popular"&&f.length>0&&s.jsx("div",{className:"mt-6 bg-gradient-to-r from-yellow-50 to-orange-50 border border-yellow-200 rounded-lg p-4",children:s.jsxs("div",{className:"flex items-center gap-2 text-yellow-800",children:[s.jsx($0,{className:"h-5 w-5"}),s.jsx("span",{className:"font-semibold",children:"Discussions les plus populaires en ce moment"})]})})]}):s.jsx("div",{className:"text-center py-12",children:s.jsx("p",{className:"text-gray-600",children:"Formation non trouve"})})},Q_e=()=>{const{threadId:e}=Vo(),t=Fn(),{user:r}=Si(),[n,a]=k.useState(""),{data:i,isLoading:l}=T_e(e||null),{data:o,isLoading:u}=F_e(e||null),f=D_e(),h=P_e(),m=M_e(),g=R_e(),x=L_e(),b=i?.thread,v=o?.posts||[];k.useEffect(()=>{e&&f.mutate(e)},[e]);const w=async()=>{if(!(!n.trim()||!e||!r))try{await h.mutateAsync({threadId:e,data:{author_id:r.id,content:n.trim()}}),a("")}catch(O){console.error("Error posting reply:",O),alert("Erreur lors de l'envoi de la rponse")}},N=async(O,F,D)=>{if(r)try{D||await m.mutateAsync({postId:O,data:{user_id:r.id,reaction_type:F}})}catch(L){console.error("Error toggling reaction:",L)}},E=async O=>{if(r&&confirm("tes-vous sr de vouloir supprimer cette rponse ?"))try{await x.mutateAsync({postId:O,userId:r.id,isAdmin:r.role==="admin"})}catch(F){console.error("Error deleting post:",F),alert("Erreur lors de la suppression")}},j=(O,F)=>{if(!O.reactions)return 0;const D=O.reactions.find(L=>L.reaction_type===F);return D?D.count:0},T=O=>new Date(O).toLocaleDateString("fr-FR",{day:"numeric",month:"long",year:"numeric",hour:"2-digit",minute:"2-digit"});return l||u?s.jsx("div",{className:"flex items-center justify-center h-64",children:s.jsxs("div",{className:"text-center",children:[s.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-600 mx-auto"}),s.jsx("p",{className:"mt-4 text-gray-600",children:"Chargement de la discussion..."})]})}):b?s.jsxs("div",{className:"max-w-5xl mx-auto p-6",children:[s.jsxs(et,{onClick:()=>t(`/student/forums/${b.formation_id}`),variant:"ghost",className:"mb-4",children:[s.jsx(ta,{className:"h-4 w-4 mr-2"}),"Retour au forum"]}),s.jsx("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 p-6 mb-6",children:s.jsxs("div",{className:"flex items-start gap-4",children:[s.jsx("div",{className:"w-16 h-16 rounded-full bg-gradient-to-br from-blue-500 to-purple-600 flex items-center justify-center flex-shrink-0",children:s.jsx(Js,{className:"h-8 w-8 text-white"})}),s.jsxs("div",{className:"flex-1",children:[s.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[b.is_pinned&&s.jsx(U_,{className:"h-5 w-5 text-yellow-600"}),b.is_locked&&s.jsx(qx,{className:"h-5 w-5 text-gray-500"}),s.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:b.title})]}),b.content&&s.jsx("p",{className:"text-gray-700 mb-4 whitespace-pre-wrap",children:b.content}),s.jsxs("div",{className:"flex items-center gap-4 text-sm text-gray-600",children:[s.jsx("span",{className:"font-medium",children:b.author_name}),s.jsxs("span",{className:"flex items-center gap-1",children:[s.jsx(As,{className:"h-4 w-4"}),T(b.created_at)]}),s.jsxs("span",{className:"flex items-center gap-1",children:[s.jsx(Ds,{className:"h-4 w-4"}),b.view_count," vues"]}),s.jsxs("span",{className:"flex items-center gap-1",children:[s.jsx(Js,{className:"h-4 w-4"}),b.post_count||0," rponses"]})]})]})]})}),s.jsx("div",{className:"space-y-4 mb-6",children:v.map(O=>{const F=r?.id===O.author_id,D=r?.role==="admin",L=F||D;return s.jsx("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 p-5",children:s.jsxs("div",{className:"flex items-start gap-4",children:[s.jsx("div",{className:"w-12 h-12 rounded-full bg-gradient-to-br from-green-500 to-teal-600 flex items-center justify-center flex-shrink-0",children:s.jsx("span",{className:"text-white font-semibold text-sm",children:O.author_name?.charAt(0).toUpperCase()})}),s.jsxs("div",{className:"flex-1",children:[s.jsxs("div",{className:"flex items-center justify-between mb-2",children:[s.jsxs("div",{children:[s.jsx("span",{className:"font-semibold text-gray-900",children:O.author_name}),O.author_role==="admin"&&s.jsx("span",{className:"ml-2 px-2 py-0.5 bg-red-100 text-red-700 text-xs font-medium rounded",children:"Admin"}),O.author_role==="gerant"&&s.jsx("span",{className:"ml-2 px-2 py-0.5 bg-blue-100 text-blue-700 text-xs font-medium rounded",children:"Formateur"}),s.jsx("span",{className:"ml-3 text-sm text-gray-500",children:T(O.created_at)}),O.is_edited&&s.jsx("span",{className:"ml-2 text-xs text-gray-400",children:"(modifi)"})]}),L&&s.jsx("button",{onClick:()=>E(O.id),className:"text-red-600 hover:text-red-700 p-1",children:s.jsx(Bn,{className:"h-4 w-4"})})]}),s.jsx("p",{className:"text-gray-700 mb-3 whitespace-pre-wrap",children:O.content}),s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsxs("button",{onClick:()=>N(O.id,"like",!1),className:"flex items-center gap-1 text-sm text-gray-600 hover:text-blue-600 transition-colors",children:[s.jsx(WV,{className:"h-4 w-4"}),s.jsx("span",{children:j(O,"like")})]}),s.jsxs("button",{onClick:()=>N(O.id,"helpful",!1),className:"flex items-center gap-1 text-sm text-gray-600 hover:text-green-600 transition-colors",children:[s.jsx(Js,{className:"h-4 w-4"}),s.jsx("span",{children:j(O,"helpful")})]}),s.jsxs("button",{onClick:()=>N(O.id,"insightful",!1),className:"flex items-center gap-1 text-sm text-gray-600 hover:text-purple-600 transition-colors",children:[s.jsx(fV,{className:"h-4 w-4"}),s.jsx("span",{children:j(O,"insightful")})]})]})]})]})},O.id)})}),b.is_locked?s.jsxs("div",{className:"bg-yellow-50 border border-yellow-200 rounded-lg p-4 text-center",children:[s.jsx(qx,{className:"h-8 w-8 text-yellow-600 mx-auto mb-2"}),s.jsx("p",{className:"text-yellow-800 font-medium",children:"Cette discussion est verrouille. Vous ne pouvez plus y rpondre."})]}):s.jsxs("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 p-5",children:[s.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-3",children:"Votre rponse"}),s.jsx("textarea",{value:n,onChange:O=>a(O.target.value),placeholder:"crivez votre rponse ici...",rows:4,className:"w-full border border-gray-300 rounded-lg p-3 focus:outline-none focus:ring-2 focus:ring-blue-500 resize-none"}),s.jsxs("div",{className:"flex items-center justify-between mt-3",children:[s.jsx("p",{className:"text-sm text-gray-500",children:"Soyez respectueux et constructif dans vos rponses"}),s.jsx(et,{onClick:w,disabled:!n.trim()||h.isPending,className:"bg-gradient-to-r from-blue-600 to-blue-700 text-white",children:h.isPending?"Envoi...":s.jsxs(s.Fragment,{children:[s.jsx(Em,{className:"h-4 w-4 mr-2"}),"Envoyer"]})})]})]})]}):s.jsx("div",{className:"text-center py-12",children:s.jsx("p",{className:"text-gray-600",children:"Discussion non trouve"})})},Z_e=()=>{const{formationId:e}=Vo(),t=Fn(),{user:r}=Si(),[n,a]=k.useState(""),[i,l]=k.useState(""),[o,u]=k.useState(""),{data:f}=cp(e||void 0),h=O_e(),m=f,g=async x=>{if(x.preventDefault(),u(""),!n.trim()){u("Le titre est requis");return}if(!e||!r){u("Erreur: Formation ou utilisateur non trouv");return}try{const b=await h.mutateAsync({formationId:e,data:{author_id:r.id,title:n.trim(),content:i.trim()||void 0}});t(`/student/forums/thread/${b.thread.id}`)}catch(b){console.error("Error creating thread:",b),u("Erreur lors de la cration de la discussion")}};return s.jsxs("div",{className:"max-w-4xl mx-auto p-6",children:[s.jsxs(et,{onClick:()=>t(`/student/forums/${e}`),variant:"ghost",className:"mb-4",children:[s.jsx(ta,{className:"h-4 w-4 mr-2"}),"Retour au forum"]}),s.jsxs("div",{className:"bg-gradient-to-r from-blue-600 to-purple-600 rounded-lg p-6 mb-6 text-white",children:[s.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[s.jsx(Js,{className:"h-8 w-8"}),s.jsx("h1",{className:"text-3xl font-bold",children:"Nouvelle discussion"})]}),s.jsxs("p",{className:"text-blue-100",children:["Formation: ",m?.title||"Chargement..."]})]}),s.jsxs("div",{className:"bg-blue-50 border border-blue-200 rounded-lg p-4 mb-6",children:[s.jsx("h3",{className:"font-semibold text-blue-900 mb-2",children:"Conseils pour crer une bonne discussion"}),s.jsxs("ul",{className:"text-sm text-blue-800 space-y-1",children:[s.jsx("li",{children:" Choisissez un titre clair et descriptif"}),s.jsx("li",{children:" Expliquez votre question ou sujet en dtail"}),s.jsx("li",{children:" Soyez respectueux et constructif"}),s.jsx("li",{children:" Vrifiez qu'une discussion similaire n'existe pas dj"})]})]}),o&&s.jsx("div",{className:"bg-red-50 border border-red-200 rounded-lg p-4 mb-6",children:s.jsxs("div",{className:"flex items-center gap-2 text-red-800",children:[s.jsx(Wr,{className:"h-5 w-5"}),s.jsx("span",{children:o})]})}),s.jsxs("form",{onSubmit:g,className:"space-y-6",children:[s.jsxs("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 p-6",children:[s.jsx("label",{htmlFor:"title",className:"block text-sm font-semibold text-gray-900 mb-2",children:"Titre de la discussion *"}),s.jsx("input",{type:"text",id:"title",value:n,onChange:x=>a(x.target.value),placeholder:"Ex: Comment configurer l'environnement de dveloppement ?",className:"w-full border border-gray-300 rounded-lg px-4 py-2.5 focus:outline-none focus:ring-2 focus:ring-blue-500",maxLength:200}),s.jsxs("p",{className:"mt-2 text-sm text-gray-500",children:[n.length,"/200 caractres"]})]}),s.jsxs("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 p-6",children:[s.jsx("label",{htmlFor:"content",className:"block text-sm font-semibold text-gray-900 mb-2",children:"Description (optionnelle)"}),s.jsx("textarea",{id:"content",value:i,onChange:x=>l(x.target.value),placeholder:"Dcrivez votre question ou sujet en dtail...",rows:10,className:"w-full border border-gray-300 rounded-lg px-4 py-3 focus:outline-none focus:ring-2 focus:ring-blue-500 resize-none",maxLength:5e3}),s.jsxs("p",{className:"mt-2 text-sm text-gray-500",children:[i.length,"/5000 caractres"]})]}),s.jsxs("div",{className:"flex items-center justify-end gap-3",children:[s.jsx(et,{type:"button",onClick:()=>t(`/student/forums/${e}`),variant:"outline",children:"Annuler"}),s.jsx(et,{type:"submit",disabled:!n.trim()||h.isPending,className:"bg-gradient-to-r from-blue-600 to-blue-700 text-white",children:h.isPending?"Cration...":s.jsxs(s.Fragment,{children:[s.jsx(Js,{className:"h-4 w-4 mr-2"}),"Crer la discussion"]})})]})]}),s.jsx("div",{className:"mt-6 bg-gray-50 border border-gray-200 rounded-lg p-4",children:s.jsxs("p",{className:"text-sm text-gray-600",children:[" ",s.jsx("strong",{children:"Note:"})," Votre discussion sera visible par tous les tudiants de cette formation. Vous pourrez la modifier ou la supprimer aprs sa cration."]})})]})},rn=({children:e,adminOnly:t=!1,gerantOnly:r=!1})=>{const{isAuthenticated:n,isAdmin:a,isGerant:i}=Si();return n?t&&!a?s.jsx(Sm,{to:"/dashboard",replace:!0}):r&&!i?s.jsx(Sm,{to:"/dashboard",replace:!0}):s.jsx(s.Fragment,{children:e}):s.jsx(Sm,{to:"/login",replace:!0})},J_e=({children:e})=>{const{isAuthenticated:t}=Si();return t?s.jsx(Sm,{to:"/dashboard",replace:!0}):s.jsx(s.Fragment,{children:e})},e3e=()=>{const{isLoading:e}=Si();return e?s.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gray-50",children:s.jsxs("div",{className:"text-center",children:[s.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-600 mx-auto mb-4"}),s.jsx("p",{className:"text-gray-600",children:"Chargement..."})]})}):s.jsxs(f$,{children:[s.jsx(Br,{path:"/login",element:s.jsx(J_e,{children:s.jsx(sW,{})})}),s.jsx(Br,{path:"/dashboard",element:s.jsx(rn,{children:s.jsx(dW,{})})}),s.jsx(Br,{path:"/admin/segments",element:s.jsx(rn,{adminOnly:!0,children:s.jsx(kae,{})})}),s.jsx(Br,{path:"/admin/cities",element:s.jsx(rn,{adminOnly:!0,children:s.jsx(Tae,{})})}),s.jsx(Br,{path:"/admin/users",element:s.jsx(rn,{adminOnly:!0,children:s.jsx(Uae,{})})}),s.jsx(Br,{path:"/admin/calculation-sheets",element:s.jsx(rn,{adminOnly:!0,children:s.jsx(rie,{})})}),s.jsx(Br,{path:"/admin/calculation-sheets/:id",element:s.jsx(rn,{adminOnly:!0,children:s.jsx(tie,{})})}),s.jsx(Br,{path:"/admin/calculation-sheets/:id/editor",element:s.jsx(rn,{adminOnly:!0,children:s.jsx(iie,{})})}),s.jsx(Br,{path:"/admin/declarations",element:s.jsx(rn,{adminOnly:!0,children:s.jsx(hie,{})})}),s.jsx(Br,{path:"/admin/declarations/:id",element:s.jsx(rn,{adminOnly:!0,children:s.jsx(Nie,{})})}),s.jsx(Br,{path:"/admin/create-declaration",element:s.jsx(rn,{adminOnly:!0,children:s.jsx(Uk,{})})}),s.jsx(Br,{path:"/admin/formations/sessions",element:s.jsx(rn,{adminOnly:!0,children:s.jsx(Vie,{})})}),s.jsx(Br,{path:"/admin/formations/cours",element:s.jsx(rn,{adminOnly:!0,children:s.jsx(mse,{})})}),s.jsx(Br,{path:"/admin/formations/cours/:id/editor",element:s.jsx(rn,{adminOnly:!0,children:s.jsx(vse,{})})}),s.jsx(Br,{path:"/admin/analytics",element:s.jsx(rn,{adminOnly:!0,children:s.jsx(e_e,{})})}),s.jsx(Br,{path:"/admin/student-reports",element:s.jsx(rn,{adminOnly:!0,children:s.jsx(t_e,{})})}),s.jsx(Br,{path:"/admin/certificates",element:s.jsx(rn,{adminOnly:!0,children:s.jsx(s_e,{})})}),s.jsx(Br,{path:"/admin/certificate-templates",element:s.jsx(rn,{adminOnly:!0,children:s.jsx(v_e,{})})}),s.jsx(Br,{path:"/admin/certificate-templates/:id/canvas-edit",element:s.jsx(rn,{adminOnly:!0,children:s.jsx(k_e,{})})}),s.jsx(Br,{path:"/admin/forums",element:s.jsx(rn,{adminOnly:!0,children:s.jsx(B_e,{})})}),s.jsx(Br,{path:"/professor/declarations",element:s.jsx(rn,{children:s.jsx(Sie,{})})}),s.jsx(Br,{path:"/professor/declarations/:id/fill",element:s.jsx(rn,{children:s.jsx(Aie,{})})}),s.jsx(Br,{path:"/student/dashboard",element:s.jsx(rn,{children:s.jsx(U_e,{})})}),s.jsx(Br,{path:"/student/catalog",element:s.jsx(rn,{children:s.jsx(z_e,{})})}),s.jsx(Br,{path:"/student/formations/:id",element:s.jsx(rn,{children:s.jsx(W_e,{})})}),s.jsx(Br,{path:"/student/formations/:id/videos/:videoId",element:s.jsx(rn,{children:s.jsx(G_e,{})})}),s.jsx(Br,{path:"/student/formations/:id/tests/:testId",element:s.jsx(rn,{children:s.jsx(K_e,{})})}),s.jsx(Br,{path:"/student/certificates",element:s.jsx(rn,{children:s.jsx(Y_e,{})})}),s.jsx(Br,{path:"/student/forums/:formationId",element:s.jsx(rn,{children:s.jsx(X_e,{})})}),s.jsx(Br,{path:"/student/forums/:formationId/new",element:s.jsx(rn,{children:s.jsx(Z_e,{})})}),s.jsx(Br,{path:"/student/forums/thread/:threadId",element:s.jsx(rn,{children:s.jsx(Q_e,{})})}),s.jsx(Br,{path:"/gerant/declarations",element:s.jsx(rn,{gerantOnly:!0,children:s.jsx(Fie,{})})}),s.jsx(Br,{path:"/gerant/create-declaration",element:s.jsx(rn,{gerantOnly:!0,children:s.jsx(Uk,{})})}),s.jsx(Br,{path:"/",element:s.jsx(Sm,{to:"/login",replace:!0})}),s.jsx(Br,{path:"*",element:s.jsx(Sm,{to:"/login",replace:!0})})]})},t3e=()=>s.jsx(L$,{children:s.jsx(K$,{children:s.jsx(e3e,{})})}),r3e=new sq({defaultOptions:{queries:{refetchOnWindowFocus:!1,retry:1,staleTime:300*1e3}}});Rz.createRoot(document.getElementById("root")).render(s.jsx(k.StrictMode,{children:s.jsxs(lq,{client:r3e,children:[s.jsx(t3e,{}),s.jsx(wq,{initialIsOpen:!1})]})}));export{Nn as _,n3e as c,Nf as g};
