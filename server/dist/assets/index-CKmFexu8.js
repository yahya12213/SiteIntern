function Tz(e,t){for(var r=0;r<t.length;r++){const n=t[r];if(typeof n!="string"&&!Array.isArray(n)){for(const a in n)if(a!=="default"&&!(a in e)){const i=Object.getOwnPropertyDescriptor(n,a);i&&Object.defineProperty(e,a,i.get?i:{enumerable:!0,get:()=>n[a]})}}}return Object.freeze(Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}))}(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const a of document.querySelectorAll('link[rel="modulepreload"]'))n(a);new MutationObserver(a=>{for(const i of a)if(i.type==="childList")for(const l of i.addedNodes)l.tagName==="LINK"&&l.rel==="modulepreload"&&n(l)}).observe(document,{childList:!0,subtree:!0});function r(a){const i={};return a.integrity&&(i.integrity=a.integrity),a.referrerPolicy&&(i.referrerPolicy=a.referrerPolicy),a.crossOrigin==="use-credentials"?i.credentials="include":a.crossOrigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function n(a){if(a.ep)return;a.ep=!0;const i=r(a);fetch(a.href,i)}})();var m3e=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function _f(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}var yw={exports:{}},nx={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var sE;function Oz(){if(sE)return nx;sE=1;var e=Symbol.for("react.transitional.element"),t=Symbol.for("react.fragment");function r(n,a,i){var l=null;if(i!==void 0&&(l=""+i),a.key!==void 0&&(l=""+a.key),"key"in a){i={};for(var o in a)o!=="key"&&(i[o]=a[o])}else i=a;return a=i.ref,{$$typeof:e,type:n,key:l,ref:a!==void 0?a:null,props:i}}return nx.Fragment=t,nx.jsx=r,nx.jsxs=r,nx}var lE;function Dz(){return lE||(lE=1,yw.exports=Oz()),yw.exports}var s=Dz(),bw={exports:{}},vr={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var oE;function Fz(){if(oE)return vr;oE=1;var e=Symbol.for("react.transitional.element"),t=Symbol.for("react.portal"),r=Symbol.for("react.fragment"),n=Symbol.for("react.strict_mode"),a=Symbol.for("react.profiler"),i=Symbol.for("react.consumer"),l=Symbol.for("react.context"),o=Symbol.for("react.forward_ref"),u=Symbol.for("react.suspense"),f=Symbol.for("react.memo"),h=Symbol.for("react.lazy"),m=Symbol.for("react.activity"),g=Symbol.iterator;function x(re){return re===null||typeof re!="object"?null:(re=g&&re[g]||re["@@iterator"],typeof re=="function"?re:null)}var b={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},v=Object.assign,w={};function N(re,R,F){this.props=re,this.context=R,this.refs=w,this.updater=F||b}N.prototype.isReactComponent={},N.prototype.setState=function(re,R){if(typeof re!="object"&&typeof re!="function"&&re!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,re,R,"setState")},N.prototype.forceUpdate=function(re){this.updater.enqueueForceUpdate(this,re,"forceUpdate")};function E(){}E.prototype=N.prototype;function j(re,R,F){this.props=re,this.context=R,this.refs=w,this.updater=F||b}var T=j.prototype=new E;T.constructor=j,v(T,N.prototype),T.isPureReactComponent=!0;var O=Array.isArray;function P(){}var D={H:null,A:null,T:null,S:null},M=Object.prototype.hasOwnProperty;function B(re,R,F){var q=F.ref;return{$$typeof:e,type:re,key:R,ref:q!==void 0?q:null,props:F}}function H(re,R){return B(re.type,R,re.props)}function L(re){return typeof re=="object"&&re!==null&&re.$$typeof===e}function U(re){var R={"=":"=0",":":"=2"};return"$"+re.replace(/[=:]/g,function(F){return R[F]})}var G=/\/+/g;function te(re,R){return typeof re=="object"&&re!==null&&re.key!=null?U(""+re.key):R.toString(36)}function de(re){switch(re.status){case"fulfilled":return re.value;case"rejected":throw re.reason;default:switch(typeof re.status=="string"?re.then(P,P):(re.status="pending",re.then(function(R){re.status==="pending"&&(re.status="fulfilled",re.value=R)},function(R){re.status==="pending"&&(re.status="rejected",re.reason=R)})),re.status){case"fulfilled":return re.value;case"rejected":throw re.reason}}throw re}function ne(re,R,F,q,W){var Q=typeof re;(Q==="undefined"||Q==="boolean")&&(re=null);var oe=!1;if(re===null)oe=!0;else switch(Q){case"bigint":case"string":case"number":oe=!0;break;case"object":switch(re.$$typeof){case e:case t:oe=!0;break;case h:return oe=re._init,ne(oe(re._payload),R,F,q,W)}}if(oe)return W=W(re),oe=q===""?"."+te(re,0):q,O(W)?(F="",oe!=null&&(F=oe.replace(G,"$&/")+"/"),ne(W,R,F,"",function(ve){return ve})):W!=null&&(L(W)&&(W=H(W,F+(W.key==null||re&&re.key===W.key?"":(""+W.key).replace(G,"$&/")+"/")+oe)),R.push(W)),1;oe=0;var ue=q===""?".":q+":";if(O(re))for(var X=0;X<re.length;X++)q=re[X],Q=ue+te(q,X),oe+=ne(q,R,F,Q,W);else if(X=x(re),typeof X=="function")for(re=X.call(re),X=0;!(q=re.next()).done;)q=q.value,Q=ue+te(q,X++),oe+=ne(q,R,F,Q,W);else if(Q==="object"){if(typeof re.then=="function")return ne(de(re),R,F,q,W);throw R=String(re),Error("Objects are not valid as a React child (found: "+(R==="[object Object]"?"object with keys {"+Object.keys(re).join(", ")+"}":R)+"). If you meant to render a collection of children, use an array instead.")}return oe}function Z(re,R,F){if(re==null)return re;var q=[],W=0;return ne(re,q,"","",function(Q){return R.call(F,Q,W++)}),q}function xe(re){if(re._status===-1){var R=re._result;R=R(),R.then(function(F){(re._status===0||re._status===-1)&&(re._status=1,re._result=F)},function(F){(re._status===0||re._status===-1)&&(re._status=2,re._result=F)}),re._status===-1&&(re._status=0,re._result=R)}if(re._status===1)return re._result.default;throw re._result}var le=typeof reportError=="function"?reportError:function(re){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var R=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof re=="object"&&re!==null&&typeof re.message=="string"?String(re.message):String(re),error:re});if(!window.dispatchEvent(R))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",re);return}console.error(re)},Se={map:Z,forEach:function(re,R,F){Z(re,function(){R.apply(this,arguments)},F)},count:function(re){var R=0;return Z(re,function(){R++}),R},toArray:function(re){return Z(re,function(R){return R})||[]},only:function(re){if(!L(re))throw Error("React.Children.only expected to receive a single React element child.");return re}};return vr.Activity=m,vr.Children=Se,vr.Component=N,vr.Fragment=r,vr.Profiler=a,vr.PureComponent=j,vr.StrictMode=n,vr.Suspense=u,vr.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=D,vr.__COMPILER_RUNTIME={__proto__:null,c:function(re){return D.H.useMemoCache(re)}},vr.cache=function(re){return function(){return re.apply(null,arguments)}},vr.cacheSignal=function(){return null},vr.cloneElement=function(re,R,F){if(re==null)throw Error("The argument must be a React element, but you passed "+re+".");var q=v({},re.props),W=re.key;if(R!=null)for(Q in R.key!==void 0&&(W=""+R.key),R)!M.call(R,Q)||Q==="key"||Q==="__self"||Q==="__source"||Q==="ref"&&R.ref===void 0||(q[Q]=R[Q]);var Q=arguments.length-2;if(Q===1)q.children=F;else if(1<Q){for(var oe=Array(Q),ue=0;ue<Q;ue++)oe[ue]=arguments[ue+2];q.children=oe}return B(re.type,W,q)},vr.createContext=function(re){return re={$$typeof:l,_currentValue:re,_currentValue2:re,_threadCount:0,Provider:null,Consumer:null},re.Provider=re,re.Consumer={$$typeof:i,_context:re},re},vr.createElement=function(re,R,F){var q,W={},Q=null;if(R!=null)for(q in R.key!==void 0&&(Q=""+R.key),R)M.call(R,q)&&q!=="key"&&q!=="__self"&&q!=="__source"&&(W[q]=R[q]);var oe=arguments.length-2;if(oe===1)W.children=F;else if(1<oe){for(var ue=Array(oe),X=0;X<oe;X++)ue[X]=arguments[X+2];W.children=ue}if(re&&re.defaultProps)for(q in oe=re.defaultProps,oe)W[q]===void 0&&(W[q]=oe[q]);return B(re,Q,W)},vr.createRef=function(){return{current:null}},vr.forwardRef=function(re){return{$$typeof:o,render:re}},vr.isValidElement=L,vr.lazy=function(re){return{$$typeof:h,_payload:{_status:-1,_result:re},_init:xe}},vr.memo=function(re,R){return{$$typeof:f,type:re,compare:R===void 0?null:R}},vr.startTransition=function(re){var R=D.T,F={};D.T=F;try{var q=re(),W=D.S;W!==null&&W(F,q),typeof q=="object"&&q!==null&&typeof q.then=="function"&&q.then(P,le)}catch(Q){le(Q)}finally{R!==null&&F.types!==null&&(R.types=F.types),D.T=R}},vr.unstable_useCacheRefresh=function(){return D.H.useCacheRefresh()},vr.use=function(re){return D.H.use(re)},vr.useActionState=function(re,R,F){return D.H.useActionState(re,R,F)},vr.useCallback=function(re,R){return D.H.useCallback(re,R)},vr.useContext=function(re){return D.H.useContext(re)},vr.useDebugValue=function(){},vr.useDeferredValue=function(re,R){return D.H.useDeferredValue(re,R)},vr.useEffect=function(re,R){return D.H.useEffect(re,R)},vr.useEffectEvent=function(re){return D.H.useEffectEvent(re)},vr.useId=function(){return D.H.useId()},vr.useImperativeHandle=function(re,R,F){return D.H.useImperativeHandle(re,R,F)},vr.useInsertionEffect=function(re,R){return D.H.useInsertionEffect(re,R)},vr.useLayoutEffect=function(re,R){return D.H.useLayoutEffect(re,R)},vr.useMemo=function(re,R){return D.H.useMemo(re,R)},vr.useOptimistic=function(re,R){return D.H.useOptimistic(re,R)},vr.useReducer=function(re,R,F){return D.H.useReducer(re,R,F)},vr.useRef=function(re){return D.H.useRef(re)},vr.useState=function(re){return D.H.useState(re)},vr.useSyncExternalStore=function(re,R,F){return D.H.useSyncExternalStore(re,R,F)},vr.useTransition=function(){return D.H.useTransition()},vr.version="19.2.0",vr}var cE;function Zm(){return cE||(cE=1,bw.exports=Fz()),bw.exports}var k=Zm();const Ju=_f(k),Pz=Tz({__proto__:null,default:Ju},[k]);var ww={exports:{}},ax={},Nw={exports:{}},_w={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var uE;function Lz(){return uE||(uE=1,(function(e){function t(ne,Z){var xe=ne.length;ne.push(Z);e:for(;0<xe;){var le=xe-1>>>1,Se=ne[le];if(0<a(Se,Z))ne[le]=Z,ne[xe]=Se,xe=le;else break e}}function r(ne){return ne.length===0?null:ne[0]}function n(ne){if(ne.length===0)return null;var Z=ne[0],xe=ne.pop();if(xe!==Z){ne[0]=xe;e:for(var le=0,Se=ne.length,re=Se>>>1;le<re;){var R=2*(le+1)-1,F=ne[R],q=R+1,W=ne[q];if(0>a(F,xe))q<Se&&0>a(W,F)?(ne[le]=W,ne[q]=xe,le=q):(ne[le]=F,ne[R]=xe,le=R);else if(q<Se&&0>a(W,xe))ne[le]=W,ne[q]=xe,le=q;else break e}}return Z}function a(ne,Z){var xe=ne.sortIndex-Z.sortIndex;return xe!==0?xe:ne.id-Z.id}if(e.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var i=performance;e.unstable_now=function(){return i.now()}}else{var l=Date,o=l.now();e.unstable_now=function(){return l.now()-o}}var u=[],f=[],h=1,m=null,g=3,x=!1,b=!1,v=!1,w=!1,N=typeof setTimeout=="function"?setTimeout:null,E=typeof clearTimeout=="function"?clearTimeout:null,j=typeof setImmediate<"u"?setImmediate:null;function T(ne){for(var Z=r(f);Z!==null;){if(Z.callback===null)n(f);else if(Z.startTime<=ne)n(f),Z.sortIndex=Z.expirationTime,t(u,Z);else break;Z=r(f)}}function O(ne){if(v=!1,T(ne),!b)if(r(u)!==null)b=!0,P||(P=!0,U());else{var Z=r(f);Z!==null&&de(O,Z.startTime-ne)}}var P=!1,D=-1,M=5,B=-1;function H(){return w?!0:!(e.unstable_now()-B<M)}function L(){if(w=!1,P){var ne=e.unstable_now();B=ne;var Z=!0;try{e:{b=!1,v&&(v=!1,E(D),D=-1),x=!0;var xe=g;try{t:{for(T(ne),m=r(u);m!==null&&!(m.expirationTime>ne&&H());){var le=m.callback;if(typeof le=="function"){m.callback=null,g=m.priorityLevel;var Se=le(m.expirationTime<=ne);if(ne=e.unstable_now(),typeof Se=="function"){m.callback=Se,T(ne),Z=!0;break t}m===r(u)&&n(u),T(ne)}else n(u);m=r(u)}if(m!==null)Z=!0;else{var re=r(f);re!==null&&de(O,re.startTime-ne),Z=!1}}break e}finally{m=null,g=xe,x=!1}Z=void 0}}finally{Z?U():P=!1}}}var U;if(typeof j=="function")U=function(){j(L)};else if(typeof MessageChannel<"u"){var G=new MessageChannel,te=G.port2;G.port1.onmessage=L,U=function(){te.postMessage(null)}}else U=function(){N(L,0)};function de(ne,Z){D=N(function(){ne(e.unstable_now())},Z)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(ne){ne.callback=null},e.unstable_forceFrameRate=function(ne){0>ne||125<ne?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):M=0<ne?Math.floor(1e3/ne):5},e.unstable_getCurrentPriorityLevel=function(){return g},e.unstable_next=function(ne){switch(g){case 1:case 2:case 3:var Z=3;break;default:Z=g}var xe=g;g=Z;try{return ne()}finally{g=xe}},e.unstable_requestPaint=function(){w=!0},e.unstable_runWithPriority=function(ne,Z){switch(ne){case 1:case 2:case 3:case 4:case 5:break;default:ne=3}var xe=g;g=ne;try{return Z()}finally{g=xe}},e.unstable_scheduleCallback=function(ne,Z,xe){var le=e.unstable_now();switch(typeof xe=="object"&&xe!==null?(xe=xe.delay,xe=typeof xe=="number"&&0<xe?le+xe:le):xe=le,ne){case 1:var Se=-1;break;case 2:Se=250;break;case 5:Se=1073741823;break;case 4:Se=1e4;break;default:Se=5e3}return Se=xe+Se,ne={id:h++,callback:Z,priorityLevel:ne,startTime:xe,expirationTime:Se,sortIndex:-1},xe>le?(ne.sortIndex=xe,t(f,ne),r(u)===null&&ne===r(f)&&(v?(E(D),D=-1):v=!0,de(O,xe-le))):(ne.sortIndex=Se,t(u,ne),b||x||(b=!0,P||(P=!0,U()))),ne},e.unstable_shouldYield=H,e.unstable_wrapCallback=function(ne){var Z=g;return function(){var xe=g;g=Z;try{return ne.apply(this,arguments)}finally{g=xe}}}})(_w)),_w}var fE;function Mz(){return fE||(fE=1,Nw.exports=Lz()),Nw.exports}var jw={exports:{}},ms={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var dE;function Rz(){if(dE)return ms;dE=1;var e=Zm();function t(u){var f="https://react.dev/errors/"+u;if(1<arguments.length){f+="?args[]="+encodeURIComponent(arguments[1]);for(var h=2;h<arguments.length;h++)f+="&args[]="+encodeURIComponent(arguments[h])}return"Minified React error #"+u+"; visit "+f+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function r(){}var n={d:{f:r,r:function(){throw Error(t(522))},D:r,C:r,L:r,m:r,X:r,S:r,M:r},p:0,findDOMNode:null},a=Symbol.for("react.portal");function i(u,f,h){var m=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:a,key:m==null?null:""+m,children:u,containerInfo:f,implementation:h}}var l=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function o(u,f){if(u==="font")return"";if(typeof f=="string")return f==="use-credentials"?f:""}return ms.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=n,ms.createPortal=function(u,f){var h=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!f||f.nodeType!==1&&f.nodeType!==9&&f.nodeType!==11)throw Error(t(299));return i(u,f,null,h)},ms.flushSync=function(u){var f=l.T,h=n.p;try{if(l.T=null,n.p=2,u)return u()}finally{l.T=f,n.p=h,n.d.f()}},ms.preconnect=function(u,f){typeof u=="string"&&(f?(f=f.crossOrigin,f=typeof f=="string"?f==="use-credentials"?f:"":void 0):f=null,n.d.C(u,f))},ms.prefetchDNS=function(u){typeof u=="string"&&n.d.D(u)},ms.preinit=function(u,f){if(typeof u=="string"&&f&&typeof f.as=="string"){var h=f.as,m=o(h,f.crossOrigin),g=typeof f.integrity=="string"?f.integrity:void 0,x=typeof f.fetchPriority=="string"?f.fetchPriority:void 0;h==="style"?n.d.S(u,typeof f.precedence=="string"?f.precedence:void 0,{crossOrigin:m,integrity:g,fetchPriority:x}):h==="script"&&n.d.X(u,{crossOrigin:m,integrity:g,fetchPriority:x,nonce:typeof f.nonce=="string"?f.nonce:void 0})}},ms.preinitModule=function(u,f){if(typeof u=="string")if(typeof f=="object"&&f!==null){if(f.as==null||f.as==="script"){var h=o(f.as,f.crossOrigin);n.d.M(u,{crossOrigin:h,integrity:typeof f.integrity=="string"?f.integrity:void 0,nonce:typeof f.nonce=="string"?f.nonce:void 0})}}else f==null&&n.d.M(u)},ms.preload=function(u,f){if(typeof u=="string"&&typeof f=="object"&&f!==null&&typeof f.as=="string"){var h=f.as,m=o(h,f.crossOrigin);n.d.L(u,h,{crossOrigin:m,integrity:typeof f.integrity=="string"?f.integrity:void 0,nonce:typeof f.nonce=="string"?f.nonce:void 0,type:typeof f.type=="string"?f.type:void 0,fetchPriority:typeof f.fetchPriority=="string"?f.fetchPriority:void 0,referrerPolicy:typeof f.referrerPolicy=="string"?f.referrerPolicy:void 0,imageSrcSet:typeof f.imageSrcSet=="string"?f.imageSrcSet:void 0,imageSizes:typeof f.imageSizes=="string"?f.imageSizes:void 0,media:typeof f.media=="string"?f.media:void 0})}},ms.preloadModule=function(u,f){if(typeof u=="string")if(f){var h=o(f.as,f.crossOrigin);n.d.m(u,{as:typeof f.as=="string"&&f.as!=="script"?f.as:void 0,crossOrigin:h,integrity:typeof f.integrity=="string"?f.integrity:void 0})}else n.d.m(u)},ms.requestFormReset=function(u){n.d.r(u)},ms.unstable_batchedUpdates=function(u,f){return u(f)},ms.useFormState=function(u,f,h){return l.H.useFormState(u,f,h)},ms.useFormStatus=function(){return l.H.useHostTransitionStatus()},ms.version="19.2.0",ms}var hE;function bD(){if(hE)return jw.exports;hE=1;function e(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(t){console.error(t)}}return e(),jw.exports=Rz(),jw.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var mE;function Iz(){if(mE)return ax;mE=1;var e=Mz(),t=Zm(),r=bD();function n(c){var d="https://react.dev/errors/"+c;if(1<arguments.length){d+="?args[]="+encodeURIComponent(arguments[1]);for(var p=2;p<arguments.length;p++)d+="&args[]="+encodeURIComponent(arguments[p])}return"Minified React error #"+c+"; visit "+d+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function a(c){return!(!c||c.nodeType!==1&&c.nodeType!==9&&c.nodeType!==11)}function i(c){var d=c,p=c;if(c.alternate)for(;d.return;)d=d.return;else{c=d;do d=c,(d.flags&4098)!==0&&(p=d.return),c=d.return;while(c)}return d.tag===3?p:null}function l(c){if(c.tag===13){var d=c.memoizedState;if(d===null&&(c=c.alternate,c!==null&&(d=c.memoizedState)),d!==null)return d.dehydrated}return null}function o(c){if(c.tag===31){var d=c.memoizedState;if(d===null&&(c=c.alternate,c!==null&&(d=c.memoizedState)),d!==null)return d.dehydrated}return null}function u(c){if(i(c)!==c)throw Error(n(188))}function f(c){var d=c.alternate;if(!d){if(d=i(c),d===null)throw Error(n(188));return d!==c?null:c}for(var p=c,y=d;;){var S=p.return;if(S===null)break;var C=S.alternate;if(C===null){if(y=S.return,y!==null){p=y;continue}break}if(S.child===C.child){for(C=S.child;C;){if(C===p)return u(S),c;if(C===y)return u(S),d;C=C.sibling}throw Error(n(188))}if(p.return!==y.return)p=S,y=C;else{for(var K=!1,ce=S.child;ce;){if(ce===p){K=!0,p=S,y=C;break}if(ce===y){K=!0,y=S,p=C;break}ce=ce.sibling}if(!K){for(ce=C.child;ce;){if(ce===p){K=!0,p=C,y=S;break}if(ce===y){K=!0,y=C,p=S;break}ce=ce.sibling}if(!K)throw Error(n(189))}}if(p.alternate!==y)throw Error(n(190))}if(p.tag!==3)throw Error(n(188));return p.stateNode.current===p?c:d}function h(c){var d=c.tag;if(d===5||d===26||d===27||d===6)return c;for(c=c.child;c!==null;){if(d=h(c),d!==null)return d;c=c.sibling}return null}var m=Object.assign,g=Symbol.for("react.element"),x=Symbol.for("react.transitional.element"),b=Symbol.for("react.portal"),v=Symbol.for("react.fragment"),w=Symbol.for("react.strict_mode"),N=Symbol.for("react.profiler"),E=Symbol.for("react.consumer"),j=Symbol.for("react.context"),T=Symbol.for("react.forward_ref"),O=Symbol.for("react.suspense"),P=Symbol.for("react.suspense_list"),D=Symbol.for("react.memo"),M=Symbol.for("react.lazy"),B=Symbol.for("react.activity"),H=Symbol.for("react.memo_cache_sentinel"),L=Symbol.iterator;function U(c){return c===null||typeof c!="object"?null:(c=L&&c[L]||c["@@iterator"],typeof c=="function"?c:null)}var G=Symbol.for("react.client.reference");function te(c){if(c==null)return null;if(typeof c=="function")return c.$$typeof===G?null:c.displayName||c.name||null;if(typeof c=="string")return c;switch(c){case v:return"Fragment";case N:return"Profiler";case w:return"StrictMode";case O:return"Suspense";case P:return"SuspenseList";case B:return"Activity"}if(typeof c=="object")switch(c.$$typeof){case b:return"Portal";case j:return c.displayName||"Context";case E:return(c._context.displayName||"Context")+".Consumer";case T:var d=c.render;return c=c.displayName,c||(c=d.displayName||d.name||"",c=c!==""?"ForwardRef("+c+")":"ForwardRef"),c;case D:return d=c.displayName||null,d!==null?d:te(c.type)||"Memo";case M:d=c._payload,c=c._init;try{return te(c(d))}catch{}}return null}var de=Array.isArray,ne=t.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,Z=r.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,xe={pending:!1,data:null,method:null,action:null},le=[],Se=-1;function re(c){return{current:c}}function R(c){0>Se||(c.current=le[Se],le[Se]=null,Se--)}function F(c,d){Se++,le[Se]=c.current,c.current=d}var q=re(null),W=re(null),Q=re(null),oe=re(null);function ue(c,d){switch(F(Q,d),F(W,c),F(q,null),d.nodeType){case 9:case 11:c=(c=d.documentElement)&&(c=c.namespaceURI)?CA(c):0;break;default:if(c=d.tagName,d=d.namespaceURI)d=CA(d),c=TA(d,c);else switch(c){case"svg":c=1;break;case"math":c=2;break;default:c=0}}R(q),F(q,c)}function X(){R(q),R(W),R(Q)}function ve(c){c.memoizedState!==null&&F(oe,c);var d=q.current,p=TA(d,c.type);d!==p&&(F(W,c),F(q,p))}function Te(c){W.current===c&&(R(q),R(W)),oe.current===c&&(R(oe),Jp._currentValue=xe)}var Y,We;function Ee(c){if(Y===void 0)try{throw Error()}catch(p){var d=p.stack.trim().match(/\n( *(at )?)/);Y=d&&d[1]||"",We=-1<p.stack.indexOf(`
    at`)?" (<anonymous>)":-1<p.stack.indexOf("@")?"@unknown:0:0":""}return`
`+Y+c+We}var ge=!1;function dt(c,d){if(!c||ge)return"";ge=!0;var p=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var y={DetermineComponentFrameRoot:function(){try{if(d){var st=function(){throw Error()};if(Object.defineProperty(st.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(st,[])}catch(Ke){var Ve=Ke}Reflect.construct(c,[],st)}else{try{st.call()}catch(Ke){Ve=Ke}c.call(st.prototype)}}else{try{throw Error()}catch(Ke){Ve=Ke}(st=c())&&typeof st.catch=="function"&&st.catch(function(){})}}catch(Ke){if(Ke&&Ve&&typeof Ke.stack=="string")return[Ke.stack,Ve.stack]}return[null,null]}};y.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var S=Object.getOwnPropertyDescriptor(y.DetermineComponentFrameRoot,"name");S&&S.configurable&&Object.defineProperty(y.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var C=y.DetermineComponentFrameRoot(),K=C[0],ce=C[1];if(K&&ce){var Ae=K.split(`
`),$e=ce.split(`
`);for(S=y=0;y<Ae.length&&!Ae[y].includes("DetermineComponentFrameRoot");)y++;for(;S<$e.length&&!$e[S].includes("DetermineComponentFrameRoot");)S++;if(y===Ae.length||S===$e.length)for(y=Ae.length-1,S=$e.length-1;1<=y&&0<=S&&Ae[y]!==$e[S];)S--;for(;1<=y&&0<=S;y--,S--)if(Ae[y]!==$e[S]){if(y!==1||S!==1)do if(y--,S--,0>S||Ae[y]!==$e[S]){var rt=`
`+Ae[y].replace(" at new "," at ");return c.displayName&&rt.includes("<anonymous>")&&(rt=rt.replace("<anonymous>",c.displayName)),rt}while(1<=y&&0<=S);break}}}finally{ge=!1,Error.prepareStackTrace=p}return(p=c?c.displayName||c.name:"")?Ee(p):""}function Ze(c,d){switch(c.tag){case 26:case 27:case 5:return Ee(c.type);case 16:return Ee("Lazy");case 13:return c.child!==d&&d!==null?Ee("Suspense Fallback"):Ee("Suspense");case 19:return Ee("SuspenseList");case 0:case 15:return dt(c.type,!1);case 11:return dt(c.type.render,!1);case 1:return dt(c.type,!0);case 31:return Ee("Activity");default:return""}}function bt(c){try{var d="",p=null;do d+=Ze(c,p),p=c,c=c.return;while(c);return d}catch(y){return`
Error generating stack: `+y.message+`
`+y.stack}}var lt=Object.prototype.hasOwnProperty,Ct=e.unstable_scheduleCallback,xt=e.unstable_cancelCallback,Ye=e.unstable_shouldYield,pt=e.unstable_requestPaint,Et=e.unstable_now,zt=e.unstable_getCurrentPriorityLevel,Kt=e.unstable_ImmediatePriority,Ar=e.unstable_UserBlockingPriority,Mt=e.unstable_NormalPriority,Pt=e.unstable_LowPriority,yt=e.unstable_IdlePriority,kt=e.log,_r=e.unstable_setDisableYieldValue,Zt=null,At=null;function er(c){if(typeof kt=="function"&&_r(c),At&&typeof At.setStrictMode=="function")try{At.setStrictMode(Zt,c)}catch{}}var br=Math.clz32?Math.clz32:dr,ar=Math.log,Er=Math.LN2;function dr(c){return c>>>=0,c===0?32:31-(ar(c)/Er|0)|0}var pn=256,Un=262144,Hr=4194304;function Yt(c){var d=c&42;if(d!==0)return d;switch(c&-c){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return c&261888;case 262144:case 524288:case 1048576:case 2097152:return c&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return c&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return c}}function Fr(c,d,p){var y=c.pendingLanes;if(y===0)return 0;var S=0,C=c.suspendedLanes,K=c.pingedLanes;c=c.warmLanes;var ce=y&134217727;return ce!==0?(y=ce&~C,y!==0?S=Yt(y):(K&=ce,K!==0?S=Yt(K):p||(p=ce&~c,p!==0&&(S=Yt(p))))):(ce=y&~C,ce!==0?S=Yt(ce):K!==0?S=Yt(K):p||(p=y&~c,p!==0&&(S=Yt(p)))),S===0?0:d!==0&&d!==S&&(d&C)===0&&(C=S&-S,p=d&-d,C>=p||C===32&&(p&4194048)!==0)?d:S}function Rs(c,d){return(c.pendingLanes&~(c.suspendedLanes&~c.pingedLanes)&d)===0}function Ja(c,d){switch(c){case 1:case 2:case 4:case 8:case 64:return d+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return d+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function il(){var c=Hr;return Hr<<=1,(Hr&62914560)===0&&(Hr=4194304),c}function us(c){for(var d=[],p=0;31>p;p++)d.push(c);return d}function Xt(c,d){c.pendingLanes|=d,d!==268435456&&(c.suspendedLanes=0,c.pingedLanes=0,c.warmLanes=0)}function Dl(c,d,p,y,S,C){var K=c.pendingLanes;c.pendingLanes=p,c.suspendedLanes=0,c.pingedLanes=0,c.warmLanes=0,c.expiredLanes&=p,c.entangledLanes&=p,c.errorRecoveryDisabledLanes&=p,c.shellSuspendCounter=0;var ce=c.entanglements,Ae=c.expirationTimes,$e=c.hiddenUpdates;for(p=K&~p;0<p;){var rt=31-br(p),st=1<<rt;ce[rt]=0,Ae[rt]=-1;var Ve=$e[rt];if(Ve!==null)for($e[rt]=null,rt=0;rt<Ve.length;rt++){var Ke=Ve[rt];Ke!==null&&(Ke.lane&=-536870913)}p&=~st}y!==0&&sl(c,y,0),C!==0&&S===0&&c.tag!==0&&(c.suspendedLanes|=C&~(K&~d))}function sl(c,d,p){c.pendingLanes|=d,c.suspendedLanes&=~d;var y=31-br(d);c.entangledLanes|=d,c.entanglements[y]=c.entanglements[y]|1073741824|p&261930}function ui(c,d){var p=c.entangledLanes|=d;for(c=c.entanglements;p;){var y=31-br(p),S=1<<y;S&d|c[y]&d&&(c[y]|=d),p&=~S}}function Wi(c,d){var p=d&-d;return p=(p&42)!==0?1:jn(p),(p&(c.suspendedLanes|d))!==0?0:p}function jn(c){switch(c){case 2:c=1;break;case 8:c=4;break;case 32:c=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:c=128;break;case 268435456:c=134217728;break;default:c=0}return c}function ra(c){return c&=-c,2<c?8<c?(c&134217727)!==0?32:268435456:8:2}function ae(){var c=Z.p;return c!==0?c:(c=window.event,c===void 0?32:JA(c.type))}function Ne(c,d){var p=Z.p;try{return Z.p=c,d()}finally{Z.p=p}}var he=Math.random().toString(36).slice(2),me="__reactFiber$"+he,ye="__reactProps$"+he,je="__reactContainer$"+he,Me="__reactEvents$"+he,Xe="__reactListeners$"+he,Ie="__reactHandles$"+he,Be="__reactResources$"+he,ze="__reactMarker$"+he;function ft(c){delete c[me],delete c[ye],delete c[Me],delete c[Xe],delete c[Ie]}function gt(c){var d=c[me];if(d)return d;for(var p=c.parentNode;p;){if(d=p[je]||p[me]){if(p=d.alternate,d.child!==null||p!==null&&p.child!==null)for(c=RA(c);c!==null;){if(p=c[me])return p;c=RA(c)}return d}c=p,p=c.parentNode}return null}function St(c){if(c=c[me]||c[je]){var d=c.tag;if(d===5||d===6||d===13||d===31||d===26||d===27||d===3)return c}return null}function mt(c){var d=c.tag;if(d===5||d===26||d===27||d===6)return c.stateNode;throw Error(n(33))}function Nt(c){var d=c[Be];return d||(d=c[Be]={hoistableStyles:new Map,hoistableScripts:new Map}),d}function Lt(c){c[ze]=!0}var cn=new Set,Cr={};function hn(c,d){Ki(c,d),Ki(c+"Capture",d)}function Ki(c,d){for(Cr[c]=d,c=0;c<d.length;c++)cn.add(d[c])}var Fl=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),Pl={},Is={};function Ic(c){return lt.call(Is,c)?!0:lt.call(Pl,c)?!1:Fl.test(c)?Is[c]=!0:(Pl[c]=!0,!1)}function Ua(c,d,p){if(Ic(d))if(p===null)c.removeAttribute(d);else{switch(typeof p){case"undefined":case"function":case"symbol":c.removeAttribute(d);return;case"boolean":var y=d.toLowerCase().slice(0,5);if(y!=="data-"&&y!=="aria-"){c.removeAttribute(d);return}}c.setAttribute(d,""+p)}}function Pf(c,d,p){if(p===null)c.removeAttribute(d);else{switch(typeof p){case"undefined":case"function":case"symbol":case"boolean":c.removeAttribute(d);return}c.setAttribute(d,""+p)}}function mn(c,d,p,y){if(y===null)c.removeAttribute(p);else{switch(typeof y){case"undefined":case"function":case"symbol":case"boolean":c.removeAttribute(p);return}c.setAttributeNS(d,p,""+y)}}function Gi(c){switch(typeof c){case"bigint":case"boolean":case"number":case"string":case"undefined":return c;case"object":return c;default:return""}}function Gd(c){var d=c.type;return(c=c.nodeName)&&c.toLowerCase()==="input"&&(d==="checkbox"||d==="radio")}function Xo(c,d,p){var y=Object.getOwnPropertyDescriptor(c.constructor.prototype,d);if(!c.hasOwnProperty(d)&&typeof y<"u"&&typeof y.get=="function"&&typeof y.set=="function"){var S=y.get,C=y.set;return Object.defineProperty(c,d,{configurable:!0,get:function(){return S.call(this)},set:function(K){p=""+K,C.call(this,K)}}),Object.defineProperty(c,d,{enumerable:y.enumerable}),{getValue:function(){return p},setValue:function(K){p=""+K},stopTracking:function(){c._valueTracker=null,delete c[d]}}}}function Qo(c){if(!c._valueTracker){var d=Gd(c)?"checked":"value";c._valueTracker=Xo(c,d,""+c[d])}}function ll(c){if(!c)return!1;var d=c._valueTracker;if(!d)return!0;var p=d.getValue(),y="";return c&&(y=Gd(c)?c.checked?"true":"false":c.value),c=y,c!==p?(d.setValue(c),!0):!1}function oo(c){if(c=c||(typeof document<"u"?document:void 0),typeof c>"u")return null;try{return c.activeElement||c.body}catch{return c.body}}var xa=/[\n"\\]/g;function Oi(c){return c.replace(xa,function(d){return"\\"+d.charCodeAt(0).toString(16)+" "})}function Yd(c,d,p,y,S,C,K,ce){c.name="",K!=null&&typeof K!="function"&&typeof K!="symbol"&&typeof K!="boolean"?c.type=K:c.removeAttribute("type"),d!=null?K==="number"?(d===0&&c.value===""||c.value!=d)&&(c.value=""+Gi(d)):c.value!==""+Gi(d)&&(c.value=""+Gi(d)):K!=="submit"&&K!=="reset"||c.removeAttribute("value"),d!=null?Xd(c,K,Gi(d)):p!=null?Xd(c,K,Gi(p)):y!=null&&c.removeAttribute("value"),S==null&&C!=null&&(c.defaultChecked=!!C),S!=null&&(c.checked=S&&typeof S!="function"&&typeof S!="symbol"),ce!=null&&typeof ce!="function"&&typeof ce!="symbol"&&typeof ce!="boolean"?c.name=""+Gi(ce):c.removeAttribute("name")}function _h(c,d,p,y,S,C,K,ce){if(C!=null&&typeof C!="function"&&typeof C!="symbol"&&typeof C!="boolean"&&(c.type=C),d!=null||p!=null){if(!(C!=="submit"&&C!=="reset"||d!=null)){Qo(c);return}p=p!=null?""+Gi(p):"",d=d!=null?""+Gi(d):p,ce||d===c.value||(c.value=d),c.defaultValue=d}y=y??S,y=typeof y!="function"&&typeof y!="symbol"&&!!y,c.checked=ce?c.checked:!!y,c.defaultChecked=!!y,K!=null&&typeof K!="function"&&typeof K!="symbol"&&typeof K!="boolean"&&(c.name=K),Qo(c)}function Xd(c,d,p){d==="number"&&oo(c.ownerDocument)===c||c.defaultValue===""+p||(c.defaultValue=""+p)}function Yi(c,d,p,y){if(c=c.options,d){d={};for(var S=0;S<p.length;S++)d["$"+p[S]]=!0;for(p=0;p<c.length;p++)S=d.hasOwnProperty("$"+c[p].value),c[p].selected!==S&&(c[p].selected=S),S&&y&&(c[p].defaultSelected=!0)}else{for(p=""+Gi(p),d=null,S=0;S<c.length;S++){if(c[S].value===p){c[S].selected=!0,y&&(c[S].defaultSelected=!0);return}d!==null||c[S].disabled||(d=c[S])}d!==null&&(d.selected=!0)}}function Qd(c,d,p){if(d!=null&&(d=""+Gi(d),d!==c.value&&(c.value=d),p==null)){c.defaultValue!==d&&(c.defaultValue=d);return}c.defaultValue=p!=null?""+Gi(p):""}function Zd(c,d,p,y){if(d==null){if(y!=null){if(p!=null)throw Error(n(92));if(de(y)){if(1<y.length)throw Error(n(93));y=y[0]}p=y}p==null&&(p=""),d=p}p=Gi(d),c.defaultValue=p,y=c.textContent,y===p&&y!==""&&y!==null&&(c.value=y),Qo(c)}function Bs(c,d){if(d){var p=c.firstChild;if(p&&p===c.lastChild&&p.nodeType===3){p.nodeValue=d;return}}c.textContent=d}var Jd=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function jh(c,d,p){var y=d.indexOf("--")===0;p==null||typeof p=="boolean"||p===""?y?c.setProperty(d,""):d==="float"?c.cssFloat="":c[d]="":y?c.setProperty(d,p):typeof p!="number"||p===0||Jd.has(d)?d==="float"?c.cssFloat=p:c[d]=(""+p).trim():c[d]=p+"px"}function Sh(c,d,p){if(d!=null&&typeof d!="object")throw Error(n(62));if(c=c.style,p!=null){for(var y in p)!p.hasOwnProperty(y)||d!=null&&d.hasOwnProperty(y)||(y.indexOf("--")===0?c.setProperty(y,""):y==="float"?c.cssFloat="":c[y]="");for(var S in d)y=d[S],d.hasOwnProperty(S)&&p[S]!==y&&jh(c,S,y)}else for(var C in d)d.hasOwnProperty(C)&&jh(c,C,d[C])}function e0(c){if(c.indexOf("-")===-1)return!1;switch(c){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var t0=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),bu=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function Ll(c){return bu.test(""+c)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":c}function Ml(){}var Zo=null;function wu(c){return c=c.target||c.srcElement||window,c.correspondingUseElement&&(c=c.correspondingUseElement),c.nodeType===3?c.parentNode:c}var sr=null,Bc=null;function Ah(c){var d=St(c);if(d&&(c=d.stateNode)){var p=c[ye]||null;e:switch(c=d.stateNode,d.type){case"input":if(Yd(c,p.value,p.defaultValue,p.defaultValue,p.checked,p.defaultChecked,p.type,p.name),d=p.name,p.type==="radio"&&d!=null){for(p=c;p.parentNode;)p=p.parentNode;for(p=p.querySelectorAll('input[name="'+Oi(""+d)+'"][type="radio"]'),d=0;d<p.length;d++){var y=p[d];if(y!==c&&y.form===c.form){var S=y[ye]||null;if(!S)throw Error(n(90));Yd(y,S.value,S.defaultValue,S.defaultValue,S.checked,S.defaultChecked,S.type,S.name)}}for(d=0;d<p.length;d++)y=p[d],y.form===c.form&&ll(y)}break e;case"textarea":Qd(c,p.value,p.defaultValue);break e;case"select":d=p.value,d!=null&&Yi(c,!!p.multiple,d,!1)}}}var r0=!1;function Eh(c,d,p){if(r0)return c(d,p);r0=!0;try{var y=c(d);return y}finally{if(r0=!1,(sr!==null||Bc!==null)&&(A1(),sr&&(d=sr,c=Bc,Bc=sr=null,Ah(d),c)))for(d=0;d<c.length;d++)Ah(c[d])}}function Us(c,d){var p=c.stateNode;if(p===null)return null;var y=p[ye]||null;if(y===null)return null;p=y[d];e:switch(d){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(y=!y.disabled)||(c=c.type,y=!(c==="button"||c==="input"||c==="select"||c==="textarea")),c=!y;break e;default:c=!1}if(c)return null;if(p&&typeof p!="function")throw Error(n(231,d,typeof p));return p}var fi=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),n0=!1;if(fi)try{var Nu={};Object.defineProperty(Nu,"passive",{get:function(){n0=!0}}),window.addEventListener("test",Nu,Nu),window.removeEventListener("test",Nu,Nu)}catch{n0=!1}var zs=null,_u=null,co=null;function ju(){if(co)return co;var c,d=_u,p=d.length,y,S="value"in zs?zs.value:zs.textContent,C=S.length;for(c=0;c<p&&d[c]===S[c];c++);var K=p-c;for(y=1;y<=K&&d[p-y]===S[C-y];y++);return co=S.slice(c,1<y?1-y:void 0)}function Jo(c){var d=c.keyCode;return"charCode"in c?(c=c.charCode,c===0&&d===13&&(c=13)):c=d,c===10&&(c=13),32<=c||c===13?c:0}function Lf(){return!0}function Mf(){return!1}function ei(c){function d(p,y,S,C,K){this._reactName=p,this._targetInst=S,this.type=y,this.nativeEvent=C,this.target=K,this.currentTarget=null;for(var ce in c)c.hasOwnProperty(ce)&&(p=c[ce],this[ce]=p?p(C):C[ce]);return this.isDefaultPrevented=(C.defaultPrevented!=null?C.defaultPrevented:C.returnValue===!1)?Lf:Mf,this.isPropagationStopped=Mf,this}return m(d.prototype,{preventDefault:function(){this.defaultPrevented=!0;var p=this.nativeEvent;p&&(p.preventDefault?p.preventDefault():typeof p.returnValue!="unknown"&&(p.returnValue=!1),this.isDefaultPrevented=Lf)},stopPropagation:function(){var p=this.nativeEvent;p&&(p.stopPropagation?p.stopPropagation():typeof p.cancelBubble!="unknown"&&(p.cancelBubble=!0),this.isPropagationStopped=Lf)},persist:function(){},isPersistent:Lf}),d}var qs={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(c){return c.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},uo=ei(qs),ec=m({},qs,{view:0,detail:0}),Rf=ei(ec),Su,tc,Uc,Au=m({},ec,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:cr,button:0,buttons:0,relatedTarget:function(c){return c.relatedTarget===void 0?c.fromElement===c.srcElement?c.toElement:c.fromElement:c.relatedTarget},movementX:function(c){return"movementX"in c?c.movementX:(c!==Uc&&(Uc&&c.type==="mousemove"?(Su=c.screenX-Uc.screenX,tc=c.screenY-Uc.screenY):tc=Su=0,Uc=c),Su)},movementY:function(c){return"movementY"in c?c.movementY:tc}}),fo=ei(Au),rc=m({},Au,{dataTransfer:0}),kh=ei(rc),Ch=m({},ec,{relatedTarget:0}),nc=ei(Ch),Th=m({},qs,{animationName:0,elapsedTime:0,pseudoElement:0}),I=ei(Th),J=m({},qs,{clipboardData:function(c){return"clipboardData"in c?c.clipboardData:window.clipboardData}}),_e=ei(J),ke=m({},qs,{data:0}),Fe=ei(ke),nt={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},ct={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Bt={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Vt(c){var d=this.nativeEvent;return d.getModifierState?d.getModifierState(c):(c=Bt[c])?!!d[c]:!1}function cr(){return Vt}var xr=m({},ec,{key:function(c){if(c.key){var d=nt[c.key]||c.key;if(d!=="Unidentified")return d}return c.type==="keypress"?(c=Jo(c),c===13?"Enter":String.fromCharCode(c)):c.type==="keydown"||c.type==="keyup"?ct[c.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:cr,charCode:function(c){return c.type==="keypress"?Jo(c):0},keyCode:function(c){return c.type==="keydown"||c.type==="keyup"?c.keyCode:0},which:function(c){return c.type==="keypress"?Jo(c):c.type==="keydown"||c.type==="keyup"?c.keyCode:0}}),Yr=ei(xr),Vn=m({},Au,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),ga=ei(Vn),Sn=m({},ec,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:cr}),za=ei(Sn),ka=m({},qs,{propertyName:0,elapsedTime:0,pseudoElement:0}),di=ei(ka),ol=m({},Au,{deltaX:function(c){return"deltaX"in c?c.deltaX:"wheelDeltaX"in c?-c.wheelDeltaX:0},deltaY:function(c){return"deltaY"in c?c.deltaY:"wheelDeltaY"in c?-c.wheelDeltaY:"wheelDelta"in c?-c.wheelDelta:0},deltaZ:0,deltaMode:0}),fs=ei(ol),Oh=m({},qs,{newState:0,oldState:0}),If=ei(Oh),Eu=[9,13,27,32],ho=fi&&"CompositionEvent"in window,Rl=null;fi&&"documentMode"in document&&(Rl=document.documentMode);var ku=fi&&"TextEvent"in window&&!Rl,zc=fi&&(!ho||Rl&&8<Rl&&11>=Rl),hi=" ",qc=!1;function $c(c,d){switch(c){case"keyup":return Eu.indexOf(d.keyCode)!==-1;case"keydown":return d.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Bf(c){return c=c.detail,typeof c=="object"&&"data"in c?c.data:null}var mo=!1;function na(c,d){switch(c){case"compositionend":return Bf(d);case"keypress":return d.which!==32?null:(qc=!0,hi);case"textInput":return c=d.data,c===hi&&qc?null:c;default:return null}}function ac(c,d){if(mo)return c==="compositionend"||!ho&&$c(c,d)?(c=ju(),co=_u=zs=null,mo=!1,c):null;switch(c){case"paste":return null;case"keypress":if(!(d.ctrlKey||d.altKey||d.metaKey)||d.ctrlKey&&d.altKey){if(d.char&&1<d.char.length)return d.char;if(d.which)return String.fromCharCode(d.which)}return null;case"compositionend":return zc&&d.locale!=="ko"?null:d.data;default:return null}}var Uf={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function a0(c){var d=c&&c.nodeName&&c.nodeName.toLowerCase();return d==="input"?!!Uf[c.type]:d==="textarea"}function $s(c,d,p,y){sr?Bc?Bc.push(y):Bc=[y]:sr=y,d=F1(d,"onChange"),0<d.length&&(p=new uo("onChange","change",null,p,y),c.push({event:p,listeners:d}))}var Il=null,ic=null;function i0(c){_A(c,0)}function Bl(c){var d=mt(c);if(ll(d))return c}function Hc(c,d){if(c==="change")return d}var ds=!1;if(fi){var Xi;if(fi){var po="oninput"in document;if(!po){var xo=document.createElement("div");xo.setAttribute("oninput","return;"),po=typeof xo.oninput=="function"}Xi=po}else Xi=!1;ds=Xi&&(!document.documentMode||9<document.documentMode)}function sc(){Il&&(Il.detachEvent("onpropertychange",zf),ic=Il=null)}function zf(c){if(c.propertyName==="value"&&Bl(ic)){var d=[];$s(d,ic,c,wu(c)),Eh(i0,d)}}function qf(c,d,p){c==="focusin"?(sc(),Il=d,ic=p,Il.attachEvent("onpropertychange",zf)):c==="focusout"&&sc()}function va(c){if(c==="selectionchange"||c==="keyup"||c==="keydown")return Bl(ic)}function Dh(c,d){if(c==="click")return Bl(d)}function go(c,d){if(c==="input"||c==="change")return Bl(d)}function vo(c,d){return c===d&&(c!==0||1/c===1/d)||c!==c&&d!==d}var mi=typeof Object.is=="function"?Object.is:vo;function lc(c,d){if(mi(c,d))return!0;if(typeof c!="object"||c===null||typeof d!="object"||d===null)return!1;var p=Object.keys(c),y=Object.keys(d);if(p.length!==y.length)return!1;for(y=0;y<p.length;y++){var S=p[y];if(!lt.call(d,S)||!mi(c[S],d[S]))return!1}return!0}function $f(c){for(;c&&c.firstChild;)c=c.firstChild;return c}function Hf(c,d){var p=$f(c);c=0;for(var y;p;){if(p.nodeType===3){if(y=c+p.textContent.length,c<=d&&y>=d)return{node:p,offset:d-c};c=y}e:{for(;p;){if(p.nextSibling){p=p.nextSibling;break e}p=p.parentNode}p=void 0}p=$f(p)}}function oc(c,d){return c&&d?c===d?!0:c&&c.nodeType===3?!1:d&&d.nodeType===3?oc(c,d.parentNode):"contains"in c?c.contains(d):c.compareDocumentPosition?!!(c.compareDocumentPosition(d)&16):!1:!1}function cc(c){c=c!=null&&c.ownerDocument!=null&&c.ownerDocument.defaultView!=null?c.ownerDocument.defaultView:window;for(var d=oo(c.document);d instanceof c.HTMLIFrameElement;){try{var p=typeof d.contentWindow.location.href=="string"}catch{p=!1}if(p)c=d.contentWindow;else break;d=oo(c.document)}return d}function yo(c){var d=c&&c.nodeName&&c.nodeName.toLowerCase();return d&&(d==="input"&&(c.type==="text"||c.type==="search"||c.type==="tel"||c.type==="url"||c.type==="password")||d==="textarea"||c.contentEditable==="true")}var Cu=fi&&"documentMode"in document&&11>=document.documentMode,Hs=null,uc=null,Di=null,cl=!1;function Xr(c,d,p){var y=p.window===p?p.document:p.nodeType===9?p:p.ownerDocument;cl||Hs==null||Hs!==oo(y)||(y=Hs,"selectionStart"in y&&yo(y)?y={start:y.selectionStart,end:y.selectionEnd}:(y=(y.ownerDocument&&y.ownerDocument.defaultView||window).getSelection(),y={anchorNode:y.anchorNode,anchorOffset:y.anchorOffset,focusNode:y.focusNode,focusOffset:y.focusOffset}),Di&&lc(Di,y)||(Di=y,y=F1(uc,"onSelect"),0<y.length&&(d=new uo("onSelect","select",null,d,p),c.push({event:d,listeners:y}),d.target=Hs)))}function qr(c,d){var p={};return p[c.toLowerCase()]=d.toLowerCase(),p["Webkit"+c]="webkit"+d,p["Moz"+c]="moz"+d,p}var An={animationend:qr("Animation","AnimationEnd"),animationiteration:qr("Animation","AnimationIteration"),animationstart:qr("Animation","AnimationStart"),transitionrun:qr("Transition","TransitionRun"),transitionstart:qr("Transition","TransitionStart"),transitioncancel:qr("Transition","TransitionCancel"),transitionend:qr("Transition","TransitionEnd")},ya={},bo={};fi&&(bo=document.createElement("div").style,"AnimationEvent"in window||(delete An.animationend.animation,delete An.animationiteration.animation,delete An.animationstart.animation),"TransitionEvent"in window||delete An.transitionend.transition);function Ul(c){if(ya[c])return ya[c];if(!An[c])return c;var d=An[c],p;for(p in d)if(d.hasOwnProperty(p)&&p in bo)return ya[c]=d[p];return c}var Tu=Ul("animationend"),s0=Ul("animationiteration"),Np=Ul("animationstart"),r1=Ul("transitionrun"),n1=Ul("transitionstart"),a1=Ul("transitioncancel"),_p=Ul("transitionend"),jp=new Map,Ou="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");Ou.push("scrollEnd");function ul(c,d){jp.set(c,d),hn(d,[c])}var l0=typeof reportError=="function"?reportError:function(c){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var d=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof c=="object"&&c!==null&&typeof c.message=="string"?String(c.message):String(c),error:c});if(!window.dispatchEvent(d))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",c);return}console.error(c)},Vs=[],Du=0,Fh=0;function o0(){for(var c=Du,d=Fh=Du=0;d<c;){var p=Vs[d];Vs[d++]=null;var y=Vs[d];Vs[d++]=null;var S=Vs[d];Vs[d++]=null;var C=Vs[d];if(Vs[d++]=null,y!==null&&S!==null){var K=y.pending;K===null?S.next=S:(S.next=K.next,K.next=S),y.pending=S}C!==0&&u0(p,S,C)}}function c0(c,d,p,y){Vs[Du++]=c,Vs[Du++]=d,Vs[Du++]=p,Vs[Du++]=y,Fh|=y,c.lanes|=y,c=c.alternate,c!==null&&(c.lanes|=y)}function Ph(c,d,p,y){return c0(c,d,p,y),Fi(c)}function fc(c,d){return c0(c,null,null,d),Fi(c)}function u0(c,d,p){c.lanes|=p;var y=c.alternate;y!==null&&(y.lanes|=p);for(var S=!1,C=c.return;C!==null;)C.childLanes|=p,y=C.alternate,y!==null&&(y.childLanes|=p),C.tag===22&&(c=C.stateNode,c===null||c._visibility&1||(S=!0)),c=C,C=C.return;return c.tag===3?(C=c.stateNode,S&&d!==null&&(S=31-br(p),c=C.hiddenUpdates,y=c[S],y===null?c[S]=[d]:y.push(d),d.lane=p|536870912),C):null}function Fi(c){if(50<Wp)throw Wp=0,$b=null,Error(n(185));for(var d=c.return;d!==null;)c=d,d=c.return;return c.tag===3?c.stateNode:null}var pi={};function Lh(c,d,p,y){this.tag=c,this.key=p,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=d,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=y,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Pi(c,d,p,y){return new Lh(c,d,p,y)}function Mh(c){return c=c.prototype,!(!c||!c.isReactComponent)}function fl(c,d){var p=c.alternate;return p===null?(p=Pi(c.tag,d,c.key,c.mode),p.elementType=c.elementType,p.type=c.type,p.stateNode=c.stateNode,p.alternate=c,c.alternate=p):(p.pendingProps=d,p.type=c.type,p.flags=0,p.subtreeFlags=0,p.deletions=null),p.flags=c.flags&65011712,p.childLanes=c.childLanes,p.lanes=c.lanes,p.child=c.child,p.memoizedProps=c.memoizedProps,p.memoizedState=c.memoizedState,p.updateQueue=c.updateQueue,d=c.dependencies,p.dependencies=d===null?null:{lanes:d.lanes,firstContext:d.firstContext},p.sibling=c.sibling,p.index=c.index,p.ref=c.ref,p.refCleanup=c.refCleanup,p}function f0(c,d){c.flags&=65011714;var p=c.alternate;return p===null?(c.childLanes=0,c.lanes=d,c.child=null,c.subtreeFlags=0,c.memoizedProps=null,c.memoizedState=null,c.updateQueue=null,c.dependencies=null,c.stateNode=null):(c.childLanes=p.childLanes,c.lanes=p.lanes,c.child=p.child,c.subtreeFlags=0,c.deletions=null,c.memoizedProps=p.memoizedProps,c.memoizedState=p.memoizedState,c.updateQueue=p.updateQueue,c.type=p.type,d=p.dependencies,c.dependencies=d===null?null:{lanes:d.lanes,firstContext:d.firstContext}),c}function Vf(c,d,p,y,S,C){var K=0;if(y=c,typeof c=="function")Mh(c)&&(K=1);else if(typeof c=="string")K=vz(c,p,q.current)?26:c==="html"||c==="head"||c==="body"?27:5;else e:switch(c){case B:return c=Pi(31,p,d,S),c.elementType=B,c.lanes=C,c;case v:return Vc(p.children,S,C,d);case w:K=8,S|=24;break;case N:return c=Pi(12,p,d,S|2),c.elementType=N,c.lanes=C,c;case O:return c=Pi(13,p,d,S),c.elementType=O,c.lanes=C,c;case P:return c=Pi(19,p,d,S),c.elementType=P,c.lanes=C,c;default:if(typeof c=="object"&&c!==null)switch(c.$$typeof){case j:K=10;break e;case E:K=9;break e;case T:K=11;break e;case D:K=14;break e;case M:K=16,y=null;break e}K=29,p=Error(n(130,c===null?"null":typeof c,"")),y=null}return d=Pi(K,p,d,S),d.elementType=c,d.type=y,d.lanes=C,d}function Vc(c,d,p,y){return c=Pi(7,c,y,d),c.lanes=p,c}function d0(c,d,p){return c=Pi(6,c,null,d),c.lanes=p,c}function Rh(c){var d=Pi(18,null,null,0);return d.stateNode=c,d}function Wf(c,d,p){return d=Pi(4,c.children!==null?c.children:[],c.key,d),d.lanes=p,d.stateNode={containerInfo:c.containerInfo,pendingChildren:null,implementation:c.implementation},d}var Ih=new WeakMap;function dl(c,d){if(typeof c=="object"&&c!==null){var p=Ih.get(c);return p!==void 0?p:(d={value:c,source:d,stack:bt(d)},Ih.set(c,d),d)}return{value:c,source:d,stack:bt(d)}}var Kf=[],Fu=0,Bh=null,h0=0,hl=[],ml=0,Wc=null,pl=1,xl="";function Ws(c,d){Kf[Fu++]=h0,Kf[Fu++]=Bh,Bh=c,h0=d}function i1(c,d,p){hl[ml++]=pl,hl[ml++]=xl,hl[ml++]=Wc,Wc=c;var y=pl;c=xl;var S=32-br(y)-1;y&=~(1<<S),p+=1;var C=32-br(d)+S;if(30<C){var K=S-S%5;C=(y&(1<<K)-1).toString(32),y>>=K,S-=K,pl=1<<32-br(d)+S|p<<S|y,xl=C+c}else pl=1<<C|p<<S|y,xl=c}function Sp(c){c.return!==null&&(Ws(c,1),i1(c,1,0))}function Uh(c){for(;c===Bh;)Bh=Kf[--Fu],Kf[Fu]=null,h0=Kf[--Fu],Kf[Fu]=null;for(;c===Wc;)Wc=hl[--ml],hl[ml]=null,xl=hl[--ml],hl[ml]=null,pl=hl[--ml],hl[ml]=null}function s1(c,d){hl[ml++]=pl,hl[ml++]=xl,hl[ml++]=Wc,pl=d.id,xl=d.overflow,Wc=c}var xi=null,Ln=null,Pr=!1,Qi=null,aa=!1,zl=Error(n(519));function Kc(c){var d=Error(n(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw Gf(dl(d,c)),zl}function Ap(c){var d=c.stateNode,p=c.type,y=c.memoizedProps;switch(d[me]=c,d[ye]=y,p){case"dialog":Mr("cancel",d),Mr("close",d);break;case"iframe":case"object":case"embed":Mr("load",d);break;case"video":case"audio":for(p=0;p<Gp.length;p++)Mr(Gp[p],d);break;case"source":Mr("error",d);break;case"img":case"image":case"link":Mr("error",d),Mr("load",d);break;case"details":Mr("toggle",d);break;case"input":Mr("invalid",d),_h(d,y.value,y.defaultValue,y.checked,y.defaultChecked,y.type,y.name,!0);break;case"select":Mr("invalid",d);break;case"textarea":Mr("invalid",d),Zd(d,y.value,y.defaultValue,y.children)}p=y.children,typeof p!="string"&&typeof p!="number"&&typeof p!="bigint"||d.textContent===""+p||y.suppressHydrationWarning===!0||EA(d.textContent,p)?(y.popover!=null&&(Mr("beforetoggle",d),Mr("toggle",d)),y.onScroll!=null&&Mr("scroll",d),y.onScrollEnd!=null&&Mr("scrollend",d),y.onClick!=null&&(d.onclick=Ml),d=!0):d=!1,d||Kc(c,!0)}function dc(c){for(xi=c.return;xi;)switch(xi.tag){case 5:case 31:case 13:aa=!1;return;case 27:case 3:aa=!0;return;default:xi=xi.return}}function gi(c){if(c!==xi)return!1;if(!Pr)return dc(c),Pr=!0,!1;var d=c.tag,p;if((p=d!==3&&d!==27)&&((p=d===5)&&(p=c.type,p=!(p!=="form"&&p!=="button")||aw(c.type,c.memoizedProps)),p=!p),p&&Ln&&Kc(c),dc(c),d===13){if(c=c.memoizedState,c=c!==null?c.dehydrated:null,!c)throw Error(n(317));Ln=MA(c)}else if(d===31){if(c=c.memoizedState,c=c!==null?c.dehydrated:null,!c)throw Error(n(317));Ln=MA(c)}else d===27?(d=Ln,od(c.type)?(c=cw,cw=null,Ln=c):Ln=d):Ln=xi?jo(c.stateNode.nextSibling):null;return!0}function Pu(){Ln=xi=null,Pr=!1}function Ep(){var c=Qi;return c!==null&&(Nl===null?Nl=c:Nl.push.apply(Nl,c),Qi=null),c}function Gf(c){Qi===null?Qi=[c]:Qi.push(c)}var zh=re(null),Gc=null,wo=null;function Yc(c,d,p){F(zh,d._currentValue),d._currentValue=p}function gl(c){c._currentValue=zh.current,R(zh)}function Yf(c,d,p){for(;c!==null;){var y=c.alternate;if((c.childLanes&d)!==d?(c.childLanes|=d,y!==null&&(y.childLanes|=d)):y!==null&&(y.childLanes&d)!==d&&(y.childLanes|=d),c===p)break;c=c.return}}function Lu(c,d,p,y){var S=c.child;for(S!==null&&(S.return=c);S!==null;){var C=S.dependencies;if(C!==null){var K=S.child;C=C.firstContext;e:for(;C!==null;){var ce=C;C=S;for(var Ae=0;Ae<d.length;Ae++)if(ce.context===d[Ae]){C.lanes|=p,ce=C.alternate,ce!==null&&(ce.lanes|=p),Yf(C.return,p,c),y||(K=null);break e}C=ce.next}}else if(S.tag===18){if(K=S.return,K===null)throw Error(n(341));K.lanes|=p,C=K.alternate,C!==null&&(C.lanes|=p),Yf(K,p,c),K=null}else K=S.child;if(K!==null)K.return=S;else for(K=S;K!==null;){if(K===c){K=null;break}if(S=K.sibling,S!==null){S.return=K.return,K=S;break}K=K.return}S=K}}function Xc(c,d,p,y){c=null;for(var S=d,C=!1;S!==null;){if(!C){if((S.flags&524288)!==0)C=!0;else if((S.flags&262144)!==0)break}if(S.tag===10){var K=S.alternate;if(K===null)throw Error(n(387));if(K=K.memoizedProps,K!==null){var ce=S.type;mi(S.pendingProps.value,K.value)||(c!==null?c.push(ce):c=[ce])}}else if(S===oe.current){if(K=S.alternate,K===null)throw Error(n(387));K.memoizedState.memoizedState!==S.memoizedState.memoizedState&&(c!==null?c.push(Jp):c=[Jp])}S=S.return}c!==null&&Lu(d,c,p,y),d.flags|=262144}function qh(c){for(c=c.firstContext;c!==null;){if(!mi(c.context._currentValue,c.memoizedValue))return!0;c=c.next}return!1}function Qc(c){Gc=c,wo=null,c=c.dependencies,c!==null&&(c.firstContext=null)}function vi(c){return l1(Gc,c)}function $h(c,d){return Gc===null&&Qc(c),l1(c,d)}function l1(c,d){var p=d._currentValue;if(d={context:d,memoizedValue:p,next:null},wo===null){if(c===null)throw Error(n(308));wo=d,c.dependencies={lanes:0,firstContext:d},c.flags|=524288}else wo=wo.next=d;return p}var ob=typeof AbortController<"u"?AbortController:function(){var c=[],d=this.signal={aborted:!1,addEventListener:function(p,y){c.push(y)}};this.abort=function(){d.aborted=!0,c.forEach(function(p){return p()})}},cb=e.unstable_scheduleCallback,ub=e.unstable_NormalPriority,ba={$$typeof:j,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function Xf(){return{controller:new ob,data:new Map,refCount:0}}function m0(c){c.refCount--,c.refCount===0&&cb(ub,function(){c.controller.abort()})}var p0=null,Hh=0,_=0,A=null;function z(c,d){if(p0===null){var p=p0=[];Hh=0,_=Yb(),A={status:"pending",value:void 0,then:function(y){p.push(y)}}}return Hh++,d.then(V,V),d}function V(){if(--Hh===0&&p0!==null){A!==null&&(A.status="fulfilled");var c=p0;p0=null,_=0,A=null;for(var d=0;d<c.length;d++)(0,c[d])()}}function ee(c,d){var p=[],y={status:"pending",value:null,reason:null,then:function(S){p.push(S)}};return c.then(function(){y.status="fulfilled",y.value=d;for(var S=0;S<p.length;S++)(0,p[S])(d)},function(S){for(y.status="rejected",y.reason=S,S=0;S<p.length;S++)(0,p[S])(void 0)}),y}var ie=ne.S;ne.S=function(c,d){Q6=Et(),typeof d=="object"&&d!==null&&typeof d.then=="function"&&z(c,d),ie!==null&&ie(c,d)};var se=re(null);function fe(){var c=se.current;return c!==null?c:Rn.pooledCache}function pe(c,d){d===null?F(se,se.current):F(se,d.pool)}function we(){var c=fe();return c===null?null:{parent:ba._currentValue,pool:c}}var Ce=Error(n(460)),Ue=Error(n(474)),be=Error(n(542)),De={then:function(){}};function Le(c){return c=c.status,c==="fulfilled"||c==="rejected"}function et(c,d,p){switch(p=c[p],p===void 0?c.push(d):p!==d&&(d.then(Ml,Ml),d=p),d.status){case"fulfilled":return d.value;case"rejected":throw c=d.reason,ht(c),c;default:if(typeof d.status=="string")d.then(Ml,Ml);else{if(c=Rn,c!==null&&100<c.shellSuspendCounter)throw Error(n(482));c=d,c.status="pending",c.then(function(y){if(d.status==="pending"){var S=d;S.status="fulfilled",S.value=y}},function(y){if(d.status==="pending"){var S=d;S.status="rejected",S.reason=y}})}switch(d.status){case"fulfilled":return d.value;case"rejected":throw c=d.reason,ht(c),c}throw Je=d,Ce}}function Re(c){try{var d=c._init;return d(c._payload)}catch(p){throw p!==null&&typeof p=="object"&&typeof p.then=="function"?(Je=p,Ce):p}}var Je=null;function at(){if(Je===null)throw Error(n(459));var c=Je;return Je=null,c}function ht(c){if(c===Ce||c===be)throw Error(n(483))}var ot=null,qt=0;function Tt(c){var d=qt;return qt+=1,ot===null&&(ot=[]),et(ot,c,d)}function mr(c,d){d=d.props.ref,c.ref=d!==void 0?d:null}function Rt(c,d){throw d.$$typeof===g?Error(n(525)):(c=Object.prototype.toString.call(d),Error(n(31,c==="[object Object]"?"object with keys {"+Object.keys(d).join(", ")+"}":c)))}function Or(c){function d(Pe,Oe){if(c){var qe=Pe.deletions;qe===null?(Pe.deletions=[Oe],Pe.flags|=16):qe.push(Oe)}}function p(Pe,Oe){if(!c)return null;for(;Oe!==null;)d(Pe,Oe),Oe=Oe.sibling;return null}function y(Pe){for(var Oe=new Map;Pe!==null;)Pe.key!==null?Oe.set(Pe.key,Pe):Oe.set(Pe.index,Pe),Pe=Pe.sibling;return Oe}function S(Pe,Oe){return Pe=fl(Pe,Oe),Pe.index=0,Pe.sibling=null,Pe}function C(Pe,Oe,qe){return Pe.index=qe,c?(qe=Pe.alternate,qe!==null?(qe=qe.index,qe<Oe?(Pe.flags|=67108866,Oe):qe):(Pe.flags|=67108866,Oe)):(Pe.flags|=1048576,Oe)}function K(Pe){return c&&Pe.alternate===null&&(Pe.flags|=67108866),Pe}function ce(Pe,Oe,qe,it){return Oe===null||Oe.tag!==6?(Oe=d0(qe,Pe.mode,it),Oe.return=Pe,Oe):(Oe=S(Oe,qe),Oe.return=Pe,Oe)}function Ae(Pe,Oe,qe,it){var rr=qe.type;return rr===v?rt(Pe,Oe,qe.props.children,it,qe.key):Oe!==null&&(Oe.elementType===rr||typeof rr=="object"&&rr!==null&&rr.$$typeof===M&&Re(rr)===Oe.type)?(Oe=S(Oe,qe.props),mr(Oe,qe),Oe.return=Pe,Oe):(Oe=Vf(qe.type,qe.key,qe.props,null,Pe.mode,it),mr(Oe,qe),Oe.return=Pe,Oe)}function $e(Pe,Oe,qe,it){return Oe===null||Oe.tag!==4||Oe.stateNode.containerInfo!==qe.containerInfo||Oe.stateNode.implementation!==qe.implementation?(Oe=Wf(qe,Pe.mode,it),Oe.return=Pe,Oe):(Oe=S(Oe,qe.children||[]),Oe.return=Pe,Oe)}function rt(Pe,Oe,qe,it,rr){return Oe===null||Oe.tag!==7?(Oe=Vc(qe,Pe.mode,it,rr),Oe.return=Pe,Oe):(Oe=S(Oe,qe),Oe.return=Pe,Oe)}function st(Pe,Oe,qe){if(typeof Oe=="string"&&Oe!==""||typeof Oe=="number"||typeof Oe=="bigint")return Oe=d0(""+Oe,Pe.mode,qe),Oe.return=Pe,Oe;if(typeof Oe=="object"&&Oe!==null){switch(Oe.$$typeof){case x:return qe=Vf(Oe.type,Oe.key,Oe.props,null,Pe.mode,qe),mr(qe,Oe),qe.return=Pe,qe;case b:return Oe=Wf(Oe,Pe.mode,qe),Oe.return=Pe,Oe;case M:return Oe=Re(Oe),st(Pe,Oe,qe)}if(de(Oe)||U(Oe))return Oe=Vc(Oe,Pe.mode,qe,null),Oe.return=Pe,Oe;if(typeof Oe.then=="function")return st(Pe,Tt(Oe),qe);if(Oe.$$typeof===j)return st(Pe,$h(Pe,Oe),qe);Rt(Pe,Oe)}return null}function Ve(Pe,Oe,qe,it){var rr=Oe!==null?Oe.key:null;if(typeof qe=="string"&&qe!==""||typeof qe=="number"||typeof qe=="bigint")return rr!==null?null:ce(Pe,Oe,""+qe,it);if(typeof qe=="object"&&qe!==null){switch(qe.$$typeof){case x:return qe.key===rr?Ae(Pe,Oe,qe,it):null;case b:return qe.key===rr?$e(Pe,Oe,qe,it):null;case M:return qe=Re(qe),Ve(Pe,Oe,qe,it)}if(de(qe)||U(qe))return rr!==null?null:rt(Pe,Oe,qe,it,null);if(typeof qe.then=="function")return Ve(Pe,Oe,Tt(qe),it);if(qe.$$typeof===j)return Ve(Pe,Oe,$h(Pe,qe),it);Rt(Pe,qe)}return null}function Ke(Pe,Oe,qe,it,rr){if(typeof it=="string"&&it!==""||typeof it=="number"||typeof it=="bigint")return Pe=Pe.get(qe)||null,ce(Oe,Pe,""+it,rr);if(typeof it=="object"&&it!==null){switch(it.$$typeof){case x:return Pe=Pe.get(it.key===null?qe:it.key)||null,Ae(Oe,Pe,it,rr);case b:return Pe=Pe.get(it.key===null?qe:it.key)||null,$e(Oe,Pe,it,rr);case M:return it=Re(it),Ke(Pe,Oe,qe,it,rr)}if(de(it)||U(it))return Pe=Pe.get(qe)||null,rt(Oe,Pe,it,rr,null);if(typeof it.then=="function")return Ke(Pe,Oe,qe,Tt(it),rr);if(it.$$typeof===j)return Ke(Pe,Oe,qe,$h(Oe,it),rr);Rt(Oe,it)}return null}function Ut(Pe,Oe,qe,it){for(var rr=null,rn=null,Wt=Oe,jr=Oe=0,Ir=null;Wt!==null&&jr<qe.length;jr++){Wt.index>jr?(Ir=Wt,Wt=null):Ir=Wt.sibling;var nn=Ve(Pe,Wt,qe[jr],it);if(nn===null){Wt===null&&(Wt=Ir);break}c&&Wt&&nn.alternate===null&&d(Pe,Wt),Oe=C(nn,Oe,jr),rn===null?rr=nn:rn.sibling=nn,rn=nn,Wt=Ir}if(jr===qe.length)return p(Pe,Wt),Pr&&Ws(Pe,jr),rr;if(Wt===null){for(;jr<qe.length;jr++)Wt=st(Pe,qe[jr],it),Wt!==null&&(Oe=C(Wt,Oe,jr),rn===null?rr=Wt:rn.sibling=Wt,rn=Wt);return Pr&&Ws(Pe,jr),rr}for(Wt=y(Wt);jr<qe.length;jr++)Ir=Ke(Wt,Pe,jr,qe[jr],it),Ir!==null&&(c&&Ir.alternate!==null&&Wt.delete(Ir.key===null?jr:Ir.key),Oe=C(Ir,Oe,jr),rn===null?rr=Ir:rn.sibling=Ir,rn=Ir);return c&&Wt.forEach(function(hd){return d(Pe,hd)}),Pr&&Ws(Pe,jr),rr}function or(Pe,Oe,qe,it){if(qe==null)throw Error(n(151));for(var rr=null,rn=null,Wt=Oe,jr=Oe=0,Ir=null,nn=qe.next();Wt!==null&&!nn.done;jr++,nn=qe.next()){Wt.index>jr?(Ir=Wt,Wt=null):Ir=Wt.sibling;var hd=Ve(Pe,Wt,nn.value,it);if(hd===null){Wt===null&&(Wt=Ir);break}c&&Wt&&hd.alternate===null&&d(Pe,Wt),Oe=C(hd,Oe,jr),rn===null?rr=hd:rn.sibling=hd,rn=hd,Wt=Ir}if(nn.done)return p(Pe,Wt),Pr&&Ws(Pe,jr),rr;if(Wt===null){for(;!nn.done;jr++,nn=qe.next())nn=st(Pe,nn.value,it),nn!==null&&(Oe=C(nn,Oe,jr),rn===null?rr=nn:rn.sibling=nn,rn=nn);return Pr&&Ws(Pe,jr),rr}for(Wt=y(Wt);!nn.done;jr++,nn=qe.next())nn=Ke(Wt,Pe,jr,nn.value,it),nn!==null&&(c&&nn.alternate!==null&&Wt.delete(nn.key===null?jr:nn.key),Oe=C(nn,Oe,jr),rn===null?rr=nn:rn.sibling=nn,rn=nn);return c&&Wt.forEach(function(Cz){return d(Pe,Cz)}),Pr&&Ws(Pe,jr),rr}function Tn(Pe,Oe,qe,it){if(typeof qe=="object"&&qe!==null&&qe.type===v&&qe.key===null&&(qe=qe.props.children),typeof qe=="object"&&qe!==null){switch(qe.$$typeof){case x:e:{for(var rr=qe.key;Oe!==null;){if(Oe.key===rr){if(rr=qe.type,rr===v){if(Oe.tag===7){p(Pe,Oe.sibling),it=S(Oe,qe.props.children),it.return=Pe,Pe=it;break e}}else if(Oe.elementType===rr||typeof rr=="object"&&rr!==null&&rr.$$typeof===M&&Re(rr)===Oe.type){p(Pe,Oe.sibling),it=S(Oe,qe.props),mr(it,qe),it.return=Pe,Pe=it;break e}p(Pe,Oe);break}else d(Pe,Oe);Oe=Oe.sibling}qe.type===v?(it=Vc(qe.props.children,Pe.mode,it,qe.key),it.return=Pe,Pe=it):(it=Vf(qe.type,qe.key,qe.props,null,Pe.mode,it),mr(it,qe),it.return=Pe,Pe=it)}return K(Pe);case b:e:{for(rr=qe.key;Oe!==null;){if(Oe.key===rr)if(Oe.tag===4&&Oe.stateNode.containerInfo===qe.containerInfo&&Oe.stateNode.implementation===qe.implementation){p(Pe,Oe.sibling),it=S(Oe,qe.children||[]),it.return=Pe,Pe=it;break e}else{p(Pe,Oe);break}else d(Pe,Oe);Oe=Oe.sibling}it=Wf(qe,Pe.mode,it),it.return=Pe,Pe=it}return K(Pe);case M:return qe=Re(qe),Tn(Pe,Oe,qe,it)}if(de(qe))return Ut(Pe,Oe,qe,it);if(U(qe)){if(rr=U(qe),typeof rr!="function")throw Error(n(150));return qe=rr.call(qe),or(Pe,Oe,qe,it)}if(typeof qe.then=="function")return Tn(Pe,Oe,Tt(qe),it);if(qe.$$typeof===j)return Tn(Pe,Oe,$h(Pe,qe),it);Rt(Pe,qe)}return typeof qe=="string"&&qe!==""||typeof qe=="number"||typeof qe=="bigint"?(qe=""+qe,Oe!==null&&Oe.tag===6?(p(Pe,Oe.sibling),it=S(Oe,qe),it.return=Pe,Pe=it):(p(Pe,Oe),it=d0(qe,Pe.mode,it),it.return=Pe,Pe=it),K(Pe)):p(Pe,Oe)}return function(Pe,Oe,qe,it){try{qt=0;var rr=Tn(Pe,Oe,qe,it);return ot=null,rr}catch(Wt){if(Wt===Ce||Wt===be)throw Wt;var rn=Pi(29,Wt,null,Pe.mode);return rn.lanes=it,rn.return=Pe,rn}finally{}}}var Mn=Or(!0),gr=Or(!1),Ot=!1;function jt(c){c.updateQueue={baseState:c.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function Wn(c,d){c=c.updateQueue,d.updateQueue===c&&(d.updateQueue={baseState:c.baseState,firstBaseUpdate:c.firstBaseUpdate,lastBaseUpdate:c.lastBaseUpdate,shared:c.shared,callbacks:null})}function lr(c){return{lane:c,tag:0,payload:null,callback:null,next:null}}function wr(c,d,p){var y=c.updateQueue;if(y===null)return null;if(y=y.shared,(dn&2)!==0){var S=y.pending;return S===null?d.next=d:(d.next=S.next,S.next=d),y.pending=d,d=Fi(c),u0(c,null,p),d}return c0(c,y,d,p),Fi(c)}function un(c,d,p){if(d=d.updateQueue,d!==null&&(d=d.shared,(p&4194048)!==0)){var y=d.lanes;y&=c.pendingLanes,p|=y,d.lanes=p,ui(c,p)}}function qa(c,d){var p=c.updateQueue,y=c.alternate;if(y!==null&&(y=y.updateQueue,p===y)){var S=null,C=null;if(p=p.firstBaseUpdate,p!==null){do{var K={lane:p.lane,tag:p.tag,payload:p.payload,callback:null,next:null};C===null?S=C=K:C=C.next=K,p=p.next}while(p!==null);C===null?S=C=d:C=C.next=d}else S=C=d;p={baseState:y.baseState,firstBaseUpdate:S,lastBaseUpdate:C,shared:y.shared,callbacks:y.callbacks},c.updateQueue=p;return}c=p.lastBaseUpdate,c===null?p.firstBaseUpdate=d:c.next=d,p.lastBaseUpdate=d}var yi=!1;function En(){if(yi){var c=A;if(c!==null)throw c}}function Ca(c,d,p,y){yi=!1;var S=c.updateQueue;Ot=!1;var C=S.firstBaseUpdate,K=S.lastBaseUpdate,ce=S.shared.pending;if(ce!==null){S.shared.pending=null;var Ae=ce,$e=Ae.next;Ae.next=null,K===null?C=$e:K.next=$e,K=Ae;var rt=c.alternate;rt!==null&&(rt=rt.updateQueue,ce=rt.lastBaseUpdate,ce!==K&&(ce===null?rt.firstBaseUpdate=$e:ce.next=$e,rt.lastBaseUpdate=Ae))}if(C!==null){var st=S.baseState;K=0,rt=$e=Ae=null,ce=C;do{var Ve=ce.lane&-536870913,Ke=Ve!==ce.lane;if(Ke?(Rr&Ve)===Ve:(y&Ve)===Ve){Ve!==0&&Ve===_&&(yi=!0),rt!==null&&(rt=rt.next={lane:0,tag:ce.tag,payload:ce.payload,callback:null,next:null});e:{var Ut=c,or=ce;Ve=d;var Tn=p;switch(or.tag){case 1:if(Ut=or.payload,typeof Ut=="function"){st=Ut.call(Tn,st,Ve);break e}st=Ut;break e;case 3:Ut.flags=Ut.flags&-65537|128;case 0:if(Ut=or.payload,Ve=typeof Ut=="function"?Ut.call(Tn,st,Ve):Ut,Ve==null)break e;st=m({},st,Ve);break e;case 2:Ot=!0}}Ve=ce.callback,Ve!==null&&(c.flags|=64,Ke&&(c.flags|=8192),Ke=S.callbacks,Ke===null?S.callbacks=[Ve]:Ke.push(Ve))}else Ke={lane:Ve,tag:ce.tag,payload:ce.payload,callback:ce.callback,next:null},rt===null?($e=rt=Ke,Ae=st):rt=rt.next=Ke,K|=Ve;if(ce=ce.next,ce===null){if(ce=S.shared.pending,ce===null)break;Ke=ce,ce=Ke.next,Ke.next=null,S.lastBaseUpdate=Ke,S.shared.pending=null}}while(!0);rt===null&&(Ae=st),S.baseState=Ae,S.firstBaseUpdate=$e,S.lastBaseUpdate=rt,C===null&&(S.shared.lanes=0),nd|=K,c.lanes=K,c.memoizedState=st}}function Li(c,d){if(typeof c!="function")throw Error(n(191,c));c.call(d)}function Ta(c,d){var p=c.callbacks;if(p!==null)for(c.callbacks=null,c=0;c<p.length;c++)Li(p[c],d)}var kr=re(null),Vr=re(0);function Kn(c,d){c=Vu,F(Vr,c),F(kr,d),Vu=c|d.baseLanes}function Qr(){F(Vr,Vu),F(kr,kr.current)}function $a(){Vu=Vr.current,R(kr),R(Vr)}var Gn=re(null),Wr=null;function wa(c){var d=c.alternate;F($r,$r.current&1),F(Gn,c),Wr===null&&(d===null||kr.current!==null||d.memoizedState!==null)&&(Wr=c)}function fn(c){F($r,$r.current),F(Gn,c),Wr===null&&(Wr=c)}function Oa(c){c.tag===22?(F($r,$r.current),F(Gn,c),Wr===null&&(Wr=c)):Da()}function Da(){F($r,$r.current),F(Gn,Gn.current)}function xn(c){R(Gn),Wr===c&&(Wr=null),R($r)}var $r=re(0);function Mi(c){for(var d=c;d!==null;){if(d.tag===13){var p=d.memoizedState;if(p!==null&&(p=p.dehydrated,p===null||lw(p)||ow(p)))return d}else if(d.tag===19&&(d.memoizedProps.revealOrder==="forwards"||d.memoizedProps.revealOrder==="backwards"||d.memoizedProps.revealOrder==="unstable_legacy-backwards"||d.memoizedProps.revealOrder==="together")){if((d.flags&128)!==0)return d}else if(d.child!==null){d.child.return=d,d=d.child;continue}if(d===c)break;for(;d.sibling===null;){if(d.return===null||d.return===c)return null;d=d.return}d.sibling.return=d.return,d=d.sibling}return null}var ia=0,Jt=null,tr=null,Kr=null,hs=!1,vl=!1,Zi=!1,Fa=0,Zc=0,Jc=null,Vh=0;function kn(){throw Error(n(321))}function kp(c,d){if(d===null)return!1;for(var p=0;p<d.length&&p<c.length;p++)if(!mi(c[p],d[p]))return!1;return!0}function Cp(c,d,p,y,S,C){return ia=C,Jt=d,d.memoizedState=null,d.updateQueue=null,d.lanes=0,ne.H=c===null||c.memoizedState===null?o6:vb,Zi=!1,C=p(y,S),Zi=!1,vl&&(C=hc(d,p,y,S)),Wh(c),C}function Wh(c){ne.H=Rp;var d=tr!==null&&tr.next!==null;if(ia=0,Kr=tr=Jt=null,hs=!1,Zc=0,Jc=null,d)throw Error(n(300));c===null||ri||(c=c.dependencies,c!==null&&qh(c)&&(ri=!0))}function hc(c,d,p,y){Jt=c;var S=0;do{if(vl&&(Jc=null),Zc=0,vl=!1,25<=S)throw Error(n(301));if(S+=1,Kr=tr=null,c.updateQueue!=null){var C=c.updateQueue;C.lastEffect=null,C.events=null,C.stores=null,C.memoCache!=null&&(C.memoCache.index=0)}ne.H=c6,C=d(p,y)}while(vl);return C}function fb(){var c=ne.H,d=c.useState()[0];return d=typeof d.then=="function"?eu(d):d,c=c.useState()[0],(tr!==null?tr.memoizedState:null)!==c&&(Jt.flags|=1024),d}function Tp(){var c=Fa!==0;return Fa=0,c}function Op(c,d,p){d.updateQueue=c.updateQueue,d.flags&=-2053,c.lanes&=~p}function Kh(c){if(hs){for(c=c.memoizedState;c!==null;){var d=c.queue;d!==null&&(d.pending=null),c=c.next}hs=!1}ia=0,Kr=tr=Jt=null,vl=!1,Zc=Fa=0,Jc=null}function ti(){var c={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Kr===null?Jt.memoizedState=Kr=c:Kr=Kr.next=c,Kr}function sa(){if(tr===null){var c=Jt.alternate;c=c!==null?c.memoizedState:null}else c=tr.next;var d=Kr===null?Jt.memoizedState:Kr.next;if(d!==null)Kr=d,tr=c;else{if(c===null)throw Jt.alternate===null?Error(n(467)):Error(n(310));tr=c,c={memoizedState:tr.memoizedState,baseState:tr.baseState,baseQueue:tr.baseQueue,queue:tr.queue,next:null},Kr===null?Jt.memoizedState=Kr=c:Kr=Kr.next=c}return Kr}function x0(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function eu(c){var d=Zc;return Zc+=1,Jc===null&&(Jc=[]),c=et(Jc,c,d),d=Jt,(Kr===null?d.memoizedState:Kr.next)===null&&(d=d.alternate,ne.H=d===null||d.memoizedState===null?o6:vb),c}function Qf(c){if(c!==null&&typeof c=="object"){if(typeof c.then=="function")return eu(c);if(c.$$typeof===j)return vi(c)}throw Error(n(438,String(c)))}function Mu(c){var d=null,p=Jt.updateQueue;if(p!==null&&(d=p.memoCache),d==null){var y=Jt.alternate;y!==null&&(y=y.updateQueue,y!==null&&(y=y.memoCache,y!=null&&(d={data:y.data.map(function(S){return S.slice()}),index:0})))}if(d==null&&(d={data:[],index:0}),p===null&&(p=x0(),Jt.updateQueue=p),p.memoCache=d,p=d.data[d.index],p===void 0)for(p=d.data[d.index]=Array(c),y=0;y<c;y++)p[y]=H;return d.index++,p}function No(c,d){return typeof d=="function"?d(c):d}function Gh(c){var d=sa();return Zf(d,tr,c)}function Zf(c,d,p){var y=c.queue;if(y===null)throw Error(n(311));y.lastRenderedReducer=p;var S=c.baseQueue,C=y.pending;if(C!==null){if(S!==null){var K=S.next;S.next=C.next,C.next=K}d.baseQueue=S=C,y.pending=null}if(C=c.baseState,S===null)c.memoizedState=C;else{d=S.next;var ce=K=null,Ae=null,$e=d,rt=!1;do{var st=$e.lane&-536870913;if(st!==$e.lane?(Rr&st)===st:(ia&st)===st){var Ve=$e.revertLane;if(Ve===0)Ae!==null&&(Ae=Ae.next={lane:0,revertLane:0,gesture:null,action:$e.action,hasEagerState:$e.hasEagerState,eagerState:$e.eagerState,next:null}),st===_&&(rt=!0);else if((ia&Ve)===Ve){$e=$e.next,Ve===_&&(rt=!0);continue}else st={lane:0,revertLane:$e.revertLane,gesture:null,action:$e.action,hasEagerState:$e.hasEagerState,eagerState:$e.eagerState,next:null},Ae===null?(ce=Ae=st,K=C):Ae=Ae.next=st,Jt.lanes|=Ve,nd|=Ve;st=$e.action,Zi&&p(C,st),C=$e.hasEagerState?$e.eagerState:p(C,st)}else Ve={lane:st,revertLane:$e.revertLane,gesture:$e.gesture,action:$e.action,hasEagerState:$e.hasEagerState,eagerState:$e.eagerState,next:null},Ae===null?(ce=Ae=Ve,K=C):Ae=Ae.next=Ve,Jt.lanes|=st,nd|=st;$e=$e.next}while($e!==null&&$e!==d);if(Ae===null?K=C:Ae.next=ce,!mi(C,c.memoizedState)&&(ri=!0,rt&&(p=A,p!==null)))throw p;c.memoizedState=C,c.baseState=K,c.baseQueue=Ae,y.lastRenderedState=C}return S===null&&(y.lanes=0),[c.memoizedState,y.dispatch]}function Yh(c){var d=sa(),p=d.queue;if(p===null)throw Error(n(311));p.lastRenderedReducer=c;var y=p.dispatch,S=p.pending,C=d.memoizedState;if(S!==null){p.pending=null;var K=S=S.next;do C=c(C,K.action),K=K.next;while(K!==S);mi(C,d.memoizedState)||(ri=!0),d.memoizedState=C,d.baseQueue===null&&(d.baseState=C),p.lastRenderedState=C}return[C,y]}function Xh(c,d,p){var y=Jt,S=sa(),C=Pr;if(C){if(p===void 0)throw Error(n(407));p=p()}else p=d();var K=!mi((tr||S).memoizedState,p);if(K&&(S.memoizedState=p,ri=!0),S=S.queue,db(Fp.bind(null,y,S,c),[c]),S.getSnapshot!==d||K||Kr!==null&&Kr.memoizedState.tag&1){if(y.flags|=2048,Iu(9,{destroy:void 0},Dp.bind(null,y,S,p,d),null),Rn===null)throw Error(n(349));C||(ia&127)!==0||mc(y,d,p)}return p}function mc(c,d,p){c.flags|=16384,c={getSnapshot:d,value:p},d=Jt.updateQueue,d===null?(d=x0(),Jt.updateQueue=d,d.stores=[c]):(p=d.stores,p===null?d.stores=[c]:p.push(c))}function Dp(c,d,p,y){d.value=p,d.getSnapshot=y,o1(d)&&Pp(c)}function Fp(c,d,p){return p(function(){o1(d)&&Pp(c)})}function o1(c){var d=c.getSnapshot;c=c.value;try{var p=d();return!mi(c,p)}catch{return!0}}function Pp(c){var d=fc(c,2);d!==null&&_l(d,c,2)}function tu(c){var d=ti();if(typeof c=="function"){var p=c;if(c=p(),Zi){er(!0);try{p()}finally{er(!1)}}}return d.memoizedState=d.baseState=c,d.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:No,lastRenderedState:c},d}function c1(c,d,p,y){return c.baseState=p,Zf(c,tr,typeof y=="function"?y:No)}function u1(c,d,p,y,S){if(m1(c))throw Error(n(485));if(c=d.action,c!==null){var C={payload:S,action:c,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(K){C.listeners.push(K)}};ne.T!==null?p(!0):C.isTransition=!1,y(C),p=d.pending,p===null?(C.next=d.pending=C,f1(d,C)):(C.next=p.next,d.pending=p.next=C)}}function f1(c,d){var p=d.action,y=d.payload,S=c.state;if(d.isTransition){var C=ne.T,K={};ne.T=K;try{var ce=p(S,y),Ae=ne.S;Ae!==null&&Ae(K,ce),Lp(c,d,ce)}catch($e){Ru(c,d,$e)}finally{C!==null&&K.types!==null&&(C.types=K.types),ne.T=C}}else try{C=p(S,y),Lp(c,d,C)}catch($e){Ru(c,d,$e)}}function Lp(c,d,p){p!==null&&typeof p=="object"&&typeof p.then=="function"?p.then(function(y){d1(c,d,y)},function(y){return Ru(c,d,y)}):d1(c,d,p)}function d1(c,d,p){d.status="fulfilled",d.value=p,Qh(d),c.state=p,d=c.pending,d!==null&&(p=d.next,p===d?c.pending=null:(p=p.next,d.next=p,f1(c,p)))}function Ru(c,d,p){var y=c.pending;if(c.pending=null,y!==null){y=y.next;do d.status="rejected",d.reason=p,Qh(d),d=d.next;while(d!==y)}c.action=null}function Qh(c){c=c.listeners;for(var d=0;d<c.length;d++)(0,c[d])()}function g0(c,d){return d}function _o(c,d){if(Pr){var p=Rn.formState;if(p!==null){e:{var y=Jt;if(Pr){if(Ln){t:{for(var S=Ln,C=aa;S.nodeType!==8;){if(!C){S=null;break t}if(S=jo(S.nextSibling),S===null){S=null;break t}}C=S.data,S=C==="F!"||C==="F"?S:null}if(S){Ln=jo(S.nextSibling),y=S.data==="F!";break e}}Kc(y)}y=!1}y&&(d=p[0])}}return p=ti(),p.memoizedState=p.baseState=d,y={pending:null,lanes:0,dispatch:null,lastRenderedReducer:g0,lastRenderedState:d},p.queue=y,p=i6.bind(null,Jt,y),y.dispatch=p,y=tu(!1),C=gb.bind(null,Jt,!1,y.queue),y=ti(),S={state:d,dispatch:null,action:c,pending:null},y.queue=S,p=u1.bind(null,Jt,S,C,p),S.dispatch=p,y.memoizedState=c,[d,p,!1]}function pc(c){var d=sa();return xc(d,tr,c)}function xc(c,d,p){if(d=Zf(c,d,g0)[0],c=Gh(No)[0],typeof d=="object"&&d!==null&&typeof d.then=="function")try{var y=eu(d)}catch(K){throw K===Ce?be:K}else y=d;d=sa();var S=d.queue,C=S.dispatch;return p!==d.memoizedState&&(Jt.flags|=2048,Iu(9,{destroy:void 0},Zh.bind(null,S,p),null)),[y,C,c]}function Zh(c,d){c.action=d}function Jh(c){var d=sa(),p=tr;if(p!==null)return xc(d,p,c);sa(),d=d.memoizedState,p=sa();var y=p.queue.dispatch;return p.memoizedState=c,[d,y,!1]}function Iu(c,d,p,y){return c={tag:c,create:p,deps:y,inst:d,next:null},d=Jt.updateQueue,d===null&&(d=x0(),Jt.updateQueue=d),p=d.lastEffect,p===null?d.lastEffect=c.next=c:(y=p.next,p.next=c,c.next=y,d.lastEffect=c),c}function h1(){return sa().memoizedState}function Jf(c,d,p,y){var S=ti();Jt.flags|=c,S.memoizedState=Iu(1|d,{destroy:void 0},p,y===void 0?null:y)}function ed(c,d,p,y){var S=sa();y=y===void 0?null:y;var C=S.memoizedState.inst;tr!==null&&y!==null&&kp(y,tr.memoizedState.deps)?S.memoizedState=Iu(d,C,p,y):(Jt.flags|=c,S.memoizedState=Iu(1|d,C,p,y))}function VS(c,d){Jf(8390656,8,c,d)}function db(c,d){ed(2048,8,c,d)}function _U(c){Jt.flags|=4;var d=Jt.updateQueue;if(d===null)d=x0(),Jt.updateQueue=d,d.events=[c];else{var p=d.events;p===null?d.events=[c]:p.push(c)}}function WS(c){var d=sa().memoizedState;return _U({ref:d,nextImpl:c}),function(){if((dn&2)!==0)throw Error(n(440));return d.impl.apply(void 0,arguments)}}function KS(c,d){return ed(4,2,c,d)}function GS(c,d){return ed(4,4,c,d)}function YS(c,d){if(typeof d=="function"){c=c();var p=d(c);return function(){typeof p=="function"?p():d(null)}}if(d!=null)return c=c(),d.current=c,function(){d.current=null}}function XS(c,d,p){p=p!=null?p.concat([c]):null,ed(4,4,YS.bind(null,d,c),p)}function hb(){}function QS(c,d){var p=sa();d=d===void 0?null:d;var y=p.memoizedState;return d!==null&&kp(d,y[1])?y[0]:(p.memoizedState=[c,d],c)}function ZS(c,d){var p=sa();d=d===void 0?null:d;var y=p.memoizedState;if(d!==null&&kp(d,y[1]))return y[0];if(y=c(),Zi){er(!0);try{c()}finally{er(!1)}}return p.memoizedState=[y,d],y}function mb(c,d,p){return p===void 0||(ia&1073741824)!==0&&(Rr&261930)===0?c.memoizedState=d:(c.memoizedState=p,c=J6(),Jt.lanes|=c,nd|=c,p)}function JS(c,d,p,y){return mi(p,d)?p:kr.current!==null?(c=mb(c,p,y),mi(c,d)||(ri=!0),c):(ia&42)===0||(ia&1073741824)!==0&&(Rr&261930)===0?(ri=!0,c.memoizedState=p):(c=J6(),Jt.lanes|=c,nd|=c,d)}function e6(c,d,p,y,S){var C=Z.p;Z.p=C!==0&&8>C?C:8;var K=ne.T,ce={};ne.T=ce,gb(c,!1,d,p);try{var Ae=S(),$e=ne.S;if($e!==null&&$e(ce,Ae),Ae!==null&&typeof Ae=="object"&&typeof Ae.then=="function"){var rt=ee(Ae,y);Mp(c,d,rt,Hl(c))}else Mp(c,d,y,Hl(c))}catch(st){Mp(c,d,{then:function(){},status:"rejected",reason:st},Hl())}finally{Z.p=C,K!==null&&ce.types!==null&&(K.types=ce.types),ne.T=K}}function jU(){}function pb(c,d,p,y){if(c.tag!==5)throw Error(n(476));var S=t6(c).queue;e6(c,S,d,xe,p===null?jU:function(){return r6(c),p(y)})}function t6(c){var d=c.memoizedState;if(d!==null)return d;d={memoizedState:xe,baseState:xe,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:No,lastRenderedState:xe},next:null};var p={};return d.next={memoizedState:p,baseState:p,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:No,lastRenderedState:p},next:null},c.memoizedState=d,c=c.alternate,c!==null&&(c.memoizedState=d),d}function r6(c){var d=t6(c);d.next===null&&(d=c.alternate.memoizedState),Mp(c,d.next.queue,{},Hl())}function xb(){return vi(Jp)}function n6(){return sa().memoizedState}function a6(){return sa().memoizedState}function SU(c){for(var d=c.return;d!==null;){switch(d.tag){case 24:case 3:var p=Hl();c=lr(p);var y=wr(d,c,p);y!==null&&(_l(y,d,p),un(y,d,p)),d={cache:Xf()},c.payload=d;return}d=d.return}}function AU(c,d,p){var y=Hl();p={lane:y,revertLane:0,gesture:null,action:p,hasEagerState:!1,eagerState:null,next:null},m1(c)?s6(d,p):(p=Ph(c,d,p,y),p!==null&&(_l(p,c,y),l6(p,d,y)))}function i6(c,d,p){var y=Hl();Mp(c,d,p,y)}function Mp(c,d,p,y){var S={lane:y,revertLane:0,gesture:null,action:p,hasEagerState:!1,eagerState:null,next:null};if(m1(c))s6(d,S);else{var C=c.alternate;if(c.lanes===0&&(C===null||C.lanes===0)&&(C=d.lastRenderedReducer,C!==null))try{var K=d.lastRenderedState,ce=C(K,p);if(S.hasEagerState=!0,S.eagerState=ce,mi(ce,K))return c0(c,d,S,0),Rn===null&&o0(),!1}catch{}finally{}if(p=Ph(c,d,S,y),p!==null)return _l(p,c,y),l6(p,d,y),!0}return!1}function gb(c,d,p,y){if(y={lane:2,revertLane:Yb(),gesture:null,action:y,hasEagerState:!1,eagerState:null,next:null},m1(c)){if(d)throw Error(n(479))}else d=Ph(c,p,y,2),d!==null&&_l(d,c,2)}function m1(c){var d=c.alternate;return c===Jt||d!==null&&d===Jt}function s6(c,d){vl=hs=!0;var p=c.pending;p===null?d.next=d:(d.next=p.next,p.next=d),c.pending=d}function l6(c,d,p){if((p&4194048)!==0){var y=d.lanes;y&=c.pendingLanes,p|=y,d.lanes=p,ui(c,p)}}var Rp={readContext:vi,use:Qf,useCallback:kn,useContext:kn,useEffect:kn,useImperativeHandle:kn,useLayoutEffect:kn,useInsertionEffect:kn,useMemo:kn,useReducer:kn,useRef:kn,useState:kn,useDebugValue:kn,useDeferredValue:kn,useTransition:kn,useSyncExternalStore:kn,useId:kn,useHostTransitionStatus:kn,useFormState:kn,useActionState:kn,useOptimistic:kn,useMemoCache:kn,useCacheRefresh:kn};Rp.useEffectEvent=kn;var o6={readContext:vi,use:Qf,useCallback:function(c,d){return ti().memoizedState=[c,d===void 0?null:d],c},useContext:vi,useEffect:VS,useImperativeHandle:function(c,d,p){p=p!=null?p.concat([c]):null,Jf(4194308,4,YS.bind(null,d,c),p)},useLayoutEffect:function(c,d){return Jf(4194308,4,c,d)},useInsertionEffect:function(c,d){Jf(4,2,c,d)},useMemo:function(c,d){var p=ti();d=d===void 0?null:d;var y=c();if(Zi){er(!0);try{c()}finally{er(!1)}}return p.memoizedState=[y,d],y},useReducer:function(c,d,p){var y=ti();if(p!==void 0){var S=p(d);if(Zi){er(!0);try{p(d)}finally{er(!1)}}}else S=d;return y.memoizedState=y.baseState=S,c={pending:null,lanes:0,dispatch:null,lastRenderedReducer:c,lastRenderedState:S},y.queue=c,c=c.dispatch=AU.bind(null,Jt,c),[y.memoizedState,c]},useRef:function(c){var d=ti();return c={current:c},d.memoizedState=c},useState:function(c){c=tu(c);var d=c.queue,p=i6.bind(null,Jt,d);return d.dispatch=p,[c.memoizedState,p]},useDebugValue:hb,useDeferredValue:function(c,d){var p=ti();return mb(p,c,d)},useTransition:function(){var c=tu(!1);return c=e6.bind(null,Jt,c.queue,!0,!1),ti().memoizedState=c,[!1,c]},useSyncExternalStore:function(c,d,p){var y=Jt,S=ti();if(Pr){if(p===void 0)throw Error(n(407));p=p()}else{if(p=d(),Rn===null)throw Error(n(349));(Rr&127)!==0||mc(y,d,p)}S.memoizedState=p;var C={value:p,getSnapshot:d};return S.queue=C,VS(Fp.bind(null,y,C,c),[c]),y.flags|=2048,Iu(9,{destroy:void 0},Dp.bind(null,y,C,p,d),null),p},useId:function(){var c=ti(),d=Rn.identifierPrefix;if(Pr){var p=xl,y=pl;p=(y&~(1<<32-br(y)-1)).toString(32)+p,d="_"+d+"R_"+p,p=Fa++,0<p&&(d+="H"+p.toString(32)),d+="_"}else p=Vh++,d="_"+d+"r_"+p.toString(32)+"_";return c.memoizedState=d},useHostTransitionStatus:xb,useFormState:_o,useActionState:_o,useOptimistic:function(c){var d=ti();d.memoizedState=d.baseState=c;var p={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return d.queue=p,d=gb.bind(null,Jt,!0,p),p.dispatch=d,[c,d]},useMemoCache:Mu,useCacheRefresh:function(){return ti().memoizedState=SU.bind(null,Jt)},useEffectEvent:function(c){var d=ti(),p={impl:c};return d.memoizedState=p,function(){if((dn&2)!==0)throw Error(n(440));return p.impl.apply(void 0,arguments)}}},vb={readContext:vi,use:Qf,useCallback:QS,useContext:vi,useEffect:db,useImperativeHandle:XS,useInsertionEffect:KS,useLayoutEffect:GS,useMemo:ZS,useReducer:Gh,useRef:h1,useState:function(){return Gh(No)},useDebugValue:hb,useDeferredValue:function(c,d){var p=sa();return JS(p,tr.memoizedState,c,d)},useTransition:function(){var c=Gh(No)[0],d=sa().memoizedState;return[typeof c=="boolean"?c:eu(c),d]},useSyncExternalStore:Xh,useId:n6,useHostTransitionStatus:xb,useFormState:pc,useActionState:pc,useOptimistic:function(c,d){var p=sa();return c1(p,tr,c,d)},useMemoCache:Mu,useCacheRefresh:a6};vb.useEffectEvent=WS;var c6={readContext:vi,use:Qf,useCallback:QS,useContext:vi,useEffect:db,useImperativeHandle:XS,useInsertionEffect:KS,useLayoutEffect:GS,useMemo:ZS,useReducer:Yh,useRef:h1,useState:function(){return Yh(No)},useDebugValue:hb,useDeferredValue:function(c,d){var p=sa();return tr===null?mb(p,c,d):JS(p,tr.memoizedState,c,d)},useTransition:function(){var c=Yh(No)[0],d=sa().memoizedState;return[typeof c=="boolean"?c:eu(c),d]},useSyncExternalStore:Xh,useId:n6,useHostTransitionStatus:xb,useFormState:Jh,useActionState:Jh,useOptimistic:function(c,d){var p=sa();return tr!==null?c1(p,tr,c,d):(p.baseState=c,[c,p.queue.dispatch])},useMemoCache:Mu,useCacheRefresh:a6};c6.useEffectEvent=WS;function yb(c,d,p,y){d=c.memoizedState,p=p(y,d),p=p==null?d:m({},d,p),c.memoizedState=p,c.lanes===0&&(c.updateQueue.baseState=p)}var bb={enqueueSetState:function(c,d,p){c=c._reactInternals;var y=Hl(),S=lr(y);S.payload=d,p!=null&&(S.callback=p),d=wr(c,S,y),d!==null&&(_l(d,c,y),un(d,c,y))},enqueueReplaceState:function(c,d,p){c=c._reactInternals;var y=Hl(),S=lr(y);S.tag=1,S.payload=d,p!=null&&(S.callback=p),d=wr(c,S,y),d!==null&&(_l(d,c,y),un(d,c,y))},enqueueForceUpdate:function(c,d){c=c._reactInternals;var p=Hl(),y=lr(p);y.tag=2,d!=null&&(y.callback=d),d=wr(c,y,p),d!==null&&(_l(d,c,p),un(d,c,p))}};function u6(c,d,p,y,S,C,K){return c=c.stateNode,typeof c.shouldComponentUpdate=="function"?c.shouldComponentUpdate(y,C,K):d.prototype&&d.prototype.isPureReactComponent?!lc(p,y)||!lc(S,C):!0}function f6(c,d,p,y){c=d.state,typeof d.componentWillReceiveProps=="function"&&d.componentWillReceiveProps(p,y),typeof d.UNSAFE_componentWillReceiveProps=="function"&&d.UNSAFE_componentWillReceiveProps(p,y),d.state!==c&&bb.enqueueReplaceState(d,d.state,null)}function v0(c,d){var p=d;if("ref"in d){p={};for(var y in d)y!=="ref"&&(p[y]=d[y])}if(c=c.defaultProps){p===d&&(p=m({},p));for(var S in c)p[S]===void 0&&(p[S]=c[S])}return p}function d6(c){l0(c)}function h6(c){console.error(c)}function m6(c){l0(c)}function p1(c,d){try{var p=c.onUncaughtError;p(d.value,{componentStack:d.stack})}catch(y){setTimeout(function(){throw y})}}function p6(c,d,p){try{var y=c.onCaughtError;y(p.value,{componentStack:p.stack,errorBoundary:d.tag===1?d.stateNode:null})}catch(S){setTimeout(function(){throw S})}}function wb(c,d,p){return p=lr(p),p.tag=3,p.payload={element:null},p.callback=function(){p1(c,d)},p}function x6(c){return c=lr(c),c.tag=3,c}function g6(c,d,p,y){var S=p.type.getDerivedStateFromError;if(typeof S=="function"){var C=y.value;c.payload=function(){return S(C)},c.callback=function(){p6(d,p,y)}}var K=p.stateNode;K!==null&&typeof K.componentDidCatch=="function"&&(c.callback=function(){p6(d,p,y),typeof S!="function"&&(ad===null?ad=new Set([this]):ad.add(this));var ce=y.stack;this.componentDidCatch(y.value,{componentStack:ce!==null?ce:""})})}function EU(c,d,p,y,S){if(p.flags|=32768,y!==null&&typeof y=="object"&&typeof y.then=="function"){if(d=p.alternate,d!==null&&Xc(d,p,S,!0),p=Gn.current,p!==null){switch(p.tag){case 31:case 13:return Wr===null?E1():p.alternate===null&&Pa===0&&(Pa=3),p.flags&=-257,p.flags|=65536,p.lanes=S,y===De?p.flags|=16384:(d=p.updateQueue,d===null?p.updateQueue=new Set([y]):d.add(y),Wb(c,y,S)),!1;case 22:return p.flags|=65536,y===De?p.flags|=16384:(d=p.updateQueue,d===null?(d={transitions:null,markerInstances:null,retryQueue:new Set([y])},p.updateQueue=d):(p=d.retryQueue,p===null?d.retryQueue=new Set([y]):p.add(y)),Wb(c,y,S)),!1}throw Error(n(435,p.tag))}return Wb(c,y,S),E1(),!1}if(Pr)return d=Gn.current,d!==null?((d.flags&65536)===0&&(d.flags|=256),d.flags|=65536,d.lanes=S,y!==zl&&(c=Error(n(422),{cause:y}),Gf(dl(c,p)))):(y!==zl&&(d=Error(n(423),{cause:y}),Gf(dl(d,p))),c=c.current.alternate,c.flags|=65536,S&=-S,c.lanes|=S,y=dl(y,p),S=wb(c.stateNode,y,S),qa(c,S),Pa!==4&&(Pa=2)),!1;var C=Error(n(520),{cause:y});if(C=dl(C,p),Vp===null?Vp=[C]:Vp.push(C),Pa!==4&&(Pa=2),d===null)return!0;y=dl(y,p),p=d;do{switch(p.tag){case 3:return p.flags|=65536,c=S&-S,p.lanes|=c,c=wb(p.stateNode,y,c),qa(p,c),!1;case 1:if(d=p.type,C=p.stateNode,(p.flags&128)===0&&(typeof d.getDerivedStateFromError=="function"||C!==null&&typeof C.componentDidCatch=="function"&&(ad===null||!ad.has(C))))return p.flags|=65536,S&=-S,p.lanes|=S,S=x6(S),g6(S,c,p,y),qa(p,S),!1}p=p.return}while(p!==null);return!1}var Nb=Error(n(461)),ri=!1;function Ji(c,d,p,y){d.child=c===null?gr(d,null,p,y):Mn(d,c.child,p,y)}function v6(c,d,p,y,S){p=p.render;var C=d.ref;if("ref"in y){var K={};for(var ce in y)ce!=="ref"&&(K[ce]=y[ce])}else K=y;return Qc(d),y=Cp(c,d,p,K,C,S),ce=Tp(),c!==null&&!ri?(Op(c,d,S),Bu(c,d,S)):(Pr&&ce&&Sp(d),d.flags|=1,Ji(c,d,y,S),d.child)}function y6(c,d,p,y,S){if(c===null){var C=p.type;return typeof C=="function"&&!Mh(C)&&C.defaultProps===void 0&&p.compare===null?(d.tag=15,d.type=C,b6(c,d,C,y,S)):(c=Vf(p.type,null,y,d,d.mode,S),c.ref=d.ref,c.return=d,d.child=c)}if(C=c.child,!Tb(c,S)){var K=C.memoizedProps;if(p=p.compare,p=p!==null?p:lc,p(K,y)&&c.ref===d.ref)return Bu(c,d,S)}return d.flags|=1,c=fl(C,y),c.ref=d.ref,c.return=d,d.child=c}function b6(c,d,p,y,S){if(c!==null){var C=c.memoizedProps;if(lc(C,y)&&c.ref===d.ref)if(ri=!1,d.pendingProps=y=C,Tb(c,S))(c.flags&131072)!==0&&(ri=!0);else return d.lanes=c.lanes,Bu(c,d,S)}return _b(c,d,p,y,S)}function w6(c,d,p,y){var S=y.children,C=c!==null?c.memoizedState:null;if(c===null&&d.stateNode===null&&(d.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),y.mode==="hidden"){if((d.flags&128)!==0){if(C=C!==null?C.baseLanes|p:p,c!==null){for(y=d.child=c.child,S=0;y!==null;)S=S|y.lanes|y.childLanes,y=y.sibling;y=S&~C}else y=0,d.child=null;return N6(c,d,C,p,y)}if((p&536870912)!==0)d.memoizedState={baseLanes:0,cachePool:null},c!==null&&pe(d,C!==null?C.cachePool:null),C!==null?Kn(d,C):Qr(),Oa(d);else return y=d.lanes=536870912,N6(c,d,C!==null?C.baseLanes|p:p,p,y)}else C!==null?(pe(d,C.cachePool),Kn(d,C),Da(),d.memoizedState=null):(c!==null&&pe(d,null),Qr(),Da());return Ji(c,d,S,p),d.child}function Ip(c,d){return c!==null&&c.tag===22||d.stateNode!==null||(d.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),d.sibling}function N6(c,d,p,y,S){var C=fe();return C=C===null?null:{parent:ba._currentValue,pool:C},d.memoizedState={baseLanes:p,cachePool:C},c!==null&&pe(d,null),Qr(),Oa(d),c!==null&&Xc(c,d,y,!0),d.childLanes=S,null}function x1(c,d){return d=v1({mode:d.mode,children:d.children},c.mode),d.ref=c.ref,c.child=d,d.return=c,d}function _6(c,d,p){return Mn(d,c.child,null,p),c=x1(d,d.pendingProps),c.flags|=2,xn(d),d.memoizedState=null,c}function kU(c,d,p){var y=d.pendingProps,S=(d.flags&128)!==0;if(d.flags&=-129,c===null){if(Pr){if(y.mode==="hidden")return c=x1(d,y),d.lanes=536870912,Ip(null,c);if(fn(d),(c=Ln)?(c=LA(c,aa),c=c!==null&&c.data==="&"?c:null,c!==null&&(d.memoizedState={dehydrated:c,treeContext:Wc!==null?{id:pl,overflow:xl}:null,retryLane:536870912,hydrationErrors:null},p=Rh(c),p.return=d,d.child=p,xi=d,Ln=null)):c=null,c===null)throw Kc(d);return d.lanes=536870912,null}return x1(d,y)}var C=c.memoizedState;if(C!==null){var K=C.dehydrated;if(fn(d),S)if(d.flags&256)d.flags&=-257,d=_6(c,d,p);else if(d.memoizedState!==null)d.child=c.child,d.flags|=128,d=null;else throw Error(n(558));else if(ri||Xc(c,d,p,!1),S=(p&c.childLanes)!==0,ri||S){if(y=Rn,y!==null&&(K=Wi(y,p),K!==0&&K!==C.retryLane))throw C.retryLane=K,fc(c,K),_l(y,c,K),Nb;E1(),d=_6(c,d,p)}else c=C.treeContext,Ln=jo(K.nextSibling),xi=d,Pr=!0,Qi=null,aa=!1,c!==null&&s1(d,c),d=x1(d,y),d.flags|=4096;return d}return c=fl(c.child,{mode:y.mode,children:y.children}),c.ref=d.ref,d.child=c,c.return=d,c}function g1(c,d){var p=d.ref;if(p===null)c!==null&&c.ref!==null&&(d.flags|=4194816);else{if(typeof p!="function"&&typeof p!="object")throw Error(n(284));(c===null||c.ref!==p)&&(d.flags|=4194816)}}function _b(c,d,p,y,S){return Qc(d),p=Cp(c,d,p,y,void 0,S),y=Tp(),c!==null&&!ri?(Op(c,d,S),Bu(c,d,S)):(Pr&&y&&Sp(d),d.flags|=1,Ji(c,d,p,S),d.child)}function j6(c,d,p,y,S,C){return Qc(d),d.updateQueue=null,p=hc(d,y,p,S),Wh(c),y=Tp(),c!==null&&!ri?(Op(c,d,C),Bu(c,d,C)):(Pr&&y&&Sp(d),d.flags|=1,Ji(c,d,p,C),d.child)}function S6(c,d,p,y,S){if(Qc(d),d.stateNode===null){var C=pi,K=p.contextType;typeof K=="object"&&K!==null&&(C=vi(K)),C=new p(y,C),d.memoizedState=C.state!==null&&C.state!==void 0?C.state:null,C.updater=bb,d.stateNode=C,C._reactInternals=d,C=d.stateNode,C.props=y,C.state=d.memoizedState,C.refs={},jt(d),K=p.contextType,C.context=typeof K=="object"&&K!==null?vi(K):pi,C.state=d.memoizedState,K=p.getDerivedStateFromProps,typeof K=="function"&&(yb(d,p,K,y),C.state=d.memoizedState),typeof p.getDerivedStateFromProps=="function"||typeof C.getSnapshotBeforeUpdate=="function"||typeof C.UNSAFE_componentWillMount!="function"&&typeof C.componentWillMount!="function"||(K=C.state,typeof C.componentWillMount=="function"&&C.componentWillMount(),typeof C.UNSAFE_componentWillMount=="function"&&C.UNSAFE_componentWillMount(),K!==C.state&&bb.enqueueReplaceState(C,C.state,null),Ca(d,y,C,S),En(),C.state=d.memoizedState),typeof C.componentDidMount=="function"&&(d.flags|=4194308),y=!0}else if(c===null){C=d.stateNode;var ce=d.memoizedProps,Ae=v0(p,ce);C.props=Ae;var $e=C.context,rt=p.contextType;K=pi,typeof rt=="object"&&rt!==null&&(K=vi(rt));var st=p.getDerivedStateFromProps;rt=typeof st=="function"||typeof C.getSnapshotBeforeUpdate=="function",ce=d.pendingProps!==ce,rt||typeof C.UNSAFE_componentWillReceiveProps!="function"&&typeof C.componentWillReceiveProps!="function"||(ce||$e!==K)&&f6(d,C,y,K),Ot=!1;var Ve=d.memoizedState;C.state=Ve,Ca(d,y,C,S),En(),$e=d.memoizedState,ce||Ve!==$e||Ot?(typeof st=="function"&&(yb(d,p,st,y),$e=d.memoizedState),(Ae=Ot||u6(d,p,Ae,y,Ve,$e,K))?(rt||typeof C.UNSAFE_componentWillMount!="function"&&typeof C.componentWillMount!="function"||(typeof C.componentWillMount=="function"&&C.componentWillMount(),typeof C.UNSAFE_componentWillMount=="function"&&C.UNSAFE_componentWillMount()),typeof C.componentDidMount=="function"&&(d.flags|=4194308)):(typeof C.componentDidMount=="function"&&(d.flags|=4194308),d.memoizedProps=y,d.memoizedState=$e),C.props=y,C.state=$e,C.context=K,y=Ae):(typeof C.componentDidMount=="function"&&(d.flags|=4194308),y=!1)}else{C=d.stateNode,Wn(c,d),K=d.memoizedProps,rt=v0(p,K),C.props=rt,st=d.pendingProps,Ve=C.context,$e=p.contextType,Ae=pi,typeof $e=="object"&&$e!==null&&(Ae=vi($e)),ce=p.getDerivedStateFromProps,($e=typeof ce=="function"||typeof C.getSnapshotBeforeUpdate=="function")||typeof C.UNSAFE_componentWillReceiveProps!="function"&&typeof C.componentWillReceiveProps!="function"||(K!==st||Ve!==Ae)&&f6(d,C,y,Ae),Ot=!1,Ve=d.memoizedState,C.state=Ve,Ca(d,y,C,S),En();var Ke=d.memoizedState;K!==st||Ve!==Ke||Ot||c!==null&&c.dependencies!==null&&qh(c.dependencies)?(typeof ce=="function"&&(yb(d,p,ce,y),Ke=d.memoizedState),(rt=Ot||u6(d,p,rt,y,Ve,Ke,Ae)||c!==null&&c.dependencies!==null&&qh(c.dependencies))?($e||typeof C.UNSAFE_componentWillUpdate!="function"&&typeof C.componentWillUpdate!="function"||(typeof C.componentWillUpdate=="function"&&C.componentWillUpdate(y,Ke,Ae),typeof C.UNSAFE_componentWillUpdate=="function"&&C.UNSAFE_componentWillUpdate(y,Ke,Ae)),typeof C.componentDidUpdate=="function"&&(d.flags|=4),typeof C.getSnapshotBeforeUpdate=="function"&&(d.flags|=1024)):(typeof C.componentDidUpdate!="function"||K===c.memoizedProps&&Ve===c.memoizedState||(d.flags|=4),typeof C.getSnapshotBeforeUpdate!="function"||K===c.memoizedProps&&Ve===c.memoizedState||(d.flags|=1024),d.memoizedProps=y,d.memoizedState=Ke),C.props=y,C.state=Ke,C.context=Ae,y=rt):(typeof C.componentDidUpdate!="function"||K===c.memoizedProps&&Ve===c.memoizedState||(d.flags|=4),typeof C.getSnapshotBeforeUpdate!="function"||K===c.memoizedProps&&Ve===c.memoizedState||(d.flags|=1024),y=!1)}return C=y,g1(c,d),y=(d.flags&128)!==0,C||y?(C=d.stateNode,p=y&&typeof p.getDerivedStateFromError!="function"?null:C.render(),d.flags|=1,c!==null&&y?(d.child=Mn(d,c.child,null,S),d.child=Mn(d,null,p,S)):Ji(c,d,p,S),d.memoizedState=C.state,c=d.child):c=Bu(c,d,S),c}function A6(c,d,p,y){return Pu(),d.flags|=256,Ji(c,d,p,y),d.child}var jb={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function Sb(c){return{baseLanes:c,cachePool:we()}}function Ab(c,d,p){return c=c!==null?c.childLanes&~p:0,d&&(c|=$l),c}function E6(c,d,p){var y=d.pendingProps,S=!1,C=(d.flags&128)!==0,K;if((K=C)||(K=c!==null&&c.memoizedState===null?!1:($r.current&2)!==0),K&&(S=!0,d.flags&=-129),K=(d.flags&32)!==0,d.flags&=-33,c===null){if(Pr){if(S?wa(d):Da(),(c=Ln)?(c=LA(c,aa),c=c!==null&&c.data!=="&"?c:null,c!==null&&(d.memoizedState={dehydrated:c,treeContext:Wc!==null?{id:pl,overflow:xl}:null,retryLane:536870912,hydrationErrors:null},p=Rh(c),p.return=d,d.child=p,xi=d,Ln=null)):c=null,c===null)throw Kc(d);return ow(c)?d.lanes=32:d.lanes=536870912,null}var ce=y.children;return y=y.fallback,S?(Da(),S=d.mode,ce=v1({mode:"hidden",children:ce},S),y=Vc(y,S,p,null),ce.return=d,y.return=d,ce.sibling=y,d.child=ce,y=d.child,y.memoizedState=Sb(p),y.childLanes=Ab(c,K,p),d.memoizedState=jb,Ip(null,y)):(wa(d),Eb(d,ce))}var Ae=c.memoizedState;if(Ae!==null&&(ce=Ae.dehydrated,ce!==null)){if(C)d.flags&256?(wa(d),d.flags&=-257,d=kb(c,d,p)):d.memoizedState!==null?(Da(),d.child=c.child,d.flags|=128,d=null):(Da(),ce=y.fallback,S=d.mode,y=v1({mode:"visible",children:y.children},S),ce=Vc(ce,S,p,null),ce.flags|=2,y.return=d,ce.return=d,y.sibling=ce,d.child=y,Mn(d,c.child,null,p),y=d.child,y.memoizedState=Sb(p),y.childLanes=Ab(c,K,p),d.memoizedState=jb,d=Ip(null,y));else if(wa(d),ow(ce)){if(K=ce.nextSibling&&ce.nextSibling.dataset,K)var $e=K.dgst;K=$e,y=Error(n(419)),y.stack="",y.digest=K,Gf({value:y,source:null,stack:null}),d=kb(c,d,p)}else if(ri||Xc(c,d,p,!1),K=(p&c.childLanes)!==0,ri||K){if(K=Rn,K!==null&&(y=Wi(K,p),y!==0&&y!==Ae.retryLane))throw Ae.retryLane=y,fc(c,y),_l(K,c,y),Nb;lw(ce)||E1(),d=kb(c,d,p)}else lw(ce)?(d.flags|=192,d.child=c.child,d=null):(c=Ae.treeContext,Ln=jo(ce.nextSibling),xi=d,Pr=!0,Qi=null,aa=!1,c!==null&&s1(d,c),d=Eb(d,y.children),d.flags|=4096);return d}return S?(Da(),ce=y.fallback,S=d.mode,Ae=c.child,$e=Ae.sibling,y=fl(Ae,{mode:"hidden",children:y.children}),y.subtreeFlags=Ae.subtreeFlags&65011712,$e!==null?ce=fl($e,ce):(ce=Vc(ce,S,p,null),ce.flags|=2),ce.return=d,y.return=d,y.sibling=ce,d.child=y,Ip(null,y),y=d.child,ce=c.child.memoizedState,ce===null?ce=Sb(p):(S=ce.cachePool,S!==null?(Ae=ba._currentValue,S=S.parent!==Ae?{parent:Ae,pool:Ae}:S):S=we(),ce={baseLanes:ce.baseLanes|p,cachePool:S}),y.memoizedState=ce,y.childLanes=Ab(c,K,p),d.memoizedState=jb,Ip(c.child,y)):(wa(d),p=c.child,c=p.sibling,p=fl(p,{mode:"visible",children:y.children}),p.return=d,p.sibling=null,c!==null&&(K=d.deletions,K===null?(d.deletions=[c],d.flags|=16):K.push(c)),d.child=p,d.memoizedState=null,p)}function Eb(c,d){return d=v1({mode:"visible",children:d},c.mode),d.return=c,c.child=d}function v1(c,d){return c=Pi(22,c,null,d),c.lanes=0,c}function kb(c,d,p){return Mn(d,c.child,null,p),c=Eb(d,d.pendingProps.children),c.flags|=2,d.memoizedState=null,c}function k6(c,d,p){c.lanes|=d;var y=c.alternate;y!==null&&(y.lanes|=d),Yf(c.return,d,p)}function Cb(c,d,p,y,S,C){var K=c.memoizedState;K===null?c.memoizedState={isBackwards:d,rendering:null,renderingStartTime:0,last:y,tail:p,tailMode:S,treeForkCount:C}:(K.isBackwards=d,K.rendering=null,K.renderingStartTime=0,K.last=y,K.tail=p,K.tailMode=S,K.treeForkCount=C)}function C6(c,d,p){var y=d.pendingProps,S=y.revealOrder,C=y.tail;y=y.children;var K=$r.current,ce=(K&2)!==0;if(ce?(K=K&1|2,d.flags|=128):K&=1,F($r,K),Ji(c,d,y,p),y=Pr?h0:0,!ce&&c!==null&&(c.flags&128)!==0)e:for(c=d.child;c!==null;){if(c.tag===13)c.memoizedState!==null&&k6(c,p,d);else if(c.tag===19)k6(c,p,d);else if(c.child!==null){c.child.return=c,c=c.child;continue}if(c===d)break e;for(;c.sibling===null;){if(c.return===null||c.return===d)break e;c=c.return}c.sibling.return=c.return,c=c.sibling}switch(S){case"forwards":for(p=d.child,S=null;p!==null;)c=p.alternate,c!==null&&Mi(c)===null&&(S=p),p=p.sibling;p=S,p===null?(S=d.child,d.child=null):(S=p.sibling,p.sibling=null),Cb(d,!1,S,p,C,y);break;case"backwards":case"unstable_legacy-backwards":for(p=null,S=d.child,d.child=null;S!==null;){if(c=S.alternate,c!==null&&Mi(c)===null){d.child=S;break}c=S.sibling,S.sibling=p,p=S,S=c}Cb(d,!0,p,null,C,y);break;case"together":Cb(d,!1,null,null,void 0,y);break;default:d.memoizedState=null}return d.child}function Bu(c,d,p){if(c!==null&&(d.dependencies=c.dependencies),nd|=d.lanes,(p&d.childLanes)===0)if(c!==null){if(Xc(c,d,p,!1),(p&d.childLanes)===0)return null}else return null;if(c!==null&&d.child!==c.child)throw Error(n(153));if(d.child!==null){for(c=d.child,p=fl(c,c.pendingProps),d.child=p,p.return=d;c.sibling!==null;)c=c.sibling,p=p.sibling=fl(c,c.pendingProps),p.return=d;p.sibling=null}return d.child}function Tb(c,d){return(c.lanes&d)!==0?!0:(c=c.dependencies,!!(c!==null&&qh(c)))}function CU(c,d,p){switch(d.tag){case 3:ue(d,d.stateNode.containerInfo),Yc(d,ba,c.memoizedState.cache),Pu();break;case 27:case 5:ve(d);break;case 4:ue(d,d.stateNode.containerInfo);break;case 10:Yc(d,d.type,d.memoizedProps.value);break;case 31:if(d.memoizedState!==null)return d.flags|=128,fn(d),null;break;case 13:var y=d.memoizedState;if(y!==null)return y.dehydrated!==null?(wa(d),d.flags|=128,null):(p&d.child.childLanes)!==0?E6(c,d,p):(wa(d),c=Bu(c,d,p),c!==null?c.sibling:null);wa(d);break;case 19:var S=(c.flags&128)!==0;if(y=(p&d.childLanes)!==0,y||(Xc(c,d,p,!1),y=(p&d.childLanes)!==0),S){if(y)return C6(c,d,p);d.flags|=128}if(S=d.memoizedState,S!==null&&(S.rendering=null,S.tail=null,S.lastEffect=null),F($r,$r.current),y)break;return null;case 22:return d.lanes=0,w6(c,d,p,d.pendingProps);case 24:Yc(d,ba,c.memoizedState.cache)}return Bu(c,d,p)}function T6(c,d,p){if(c!==null)if(c.memoizedProps!==d.pendingProps)ri=!0;else{if(!Tb(c,p)&&(d.flags&128)===0)return ri=!1,CU(c,d,p);ri=(c.flags&131072)!==0}else ri=!1,Pr&&(d.flags&1048576)!==0&&i1(d,h0,d.index);switch(d.lanes=0,d.tag){case 16:e:{var y=d.pendingProps;if(c=Re(d.elementType),d.type=c,typeof c=="function")Mh(c)?(y=v0(c,y),d.tag=1,d=S6(null,d,c,y,p)):(d.tag=0,d=_b(null,d,c,y,p));else{if(c!=null){var S=c.$$typeof;if(S===T){d.tag=11,d=v6(null,d,c,y,p);break e}else if(S===D){d.tag=14,d=y6(null,d,c,y,p);break e}}throw d=te(c)||c,Error(n(306,d,""))}}return d;case 0:return _b(c,d,d.type,d.pendingProps,p);case 1:return y=d.type,S=v0(y,d.pendingProps),S6(c,d,y,S,p);case 3:e:{if(ue(d,d.stateNode.containerInfo),c===null)throw Error(n(387));y=d.pendingProps;var C=d.memoizedState;S=C.element,Wn(c,d),Ca(d,y,null,p);var K=d.memoizedState;if(y=K.cache,Yc(d,ba,y),y!==C.cache&&Lu(d,[ba],p,!0),En(),y=K.element,C.isDehydrated)if(C={element:y,isDehydrated:!1,cache:K.cache},d.updateQueue.baseState=C,d.memoizedState=C,d.flags&256){d=A6(c,d,y,p);break e}else if(y!==S){S=dl(Error(n(424)),d),Gf(S),d=A6(c,d,y,p);break e}else{switch(c=d.stateNode.containerInfo,c.nodeType){case 9:c=c.body;break;default:c=c.nodeName==="HTML"?c.ownerDocument.body:c}for(Ln=jo(c.firstChild),xi=d,Pr=!0,Qi=null,aa=!0,p=gr(d,null,y,p),d.child=p;p;)p.flags=p.flags&-3|4096,p=p.sibling}else{if(Pu(),y===S){d=Bu(c,d,p);break e}Ji(c,d,y,p)}d=d.child}return d;case 26:return g1(c,d),c===null?(p=zA(d.type,null,d.pendingProps,null))?d.memoizedState=p:Pr||(p=d.type,c=d.pendingProps,y=P1(Q.current).createElement(p),y[me]=d,y[ye]=c,es(y,p,c),Lt(y),d.stateNode=y):d.memoizedState=zA(d.type,c.memoizedProps,d.pendingProps,c.memoizedState),null;case 27:return ve(d),c===null&&Pr&&(y=d.stateNode=IA(d.type,d.pendingProps,Q.current),xi=d,aa=!0,S=Ln,od(d.type)?(cw=S,Ln=jo(y.firstChild)):Ln=S),Ji(c,d,d.pendingProps.children,p),g1(c,d),c===null&&(d.flags|=4194304),d.child;case 5:return c===null&&Pr&&((S=y=Ln)&&(y=iz(y,d.type,d.pendingProps,aa),y!==null?(d.stateNode=y,xi=d,Ln=jo(y.firstChild),aa=!1,S=!0):S=!1),S||Kc(d)),ve(d),S=d.type,C=d.pendingProps,K=c!==null?c.memoizedProps:null,y=C.children,aw(S,C)?y=null:K!==null&&aw(S,K)&&(d.flags|=32),d.memoizedState!==null&&(S=Cp(c,d,fb,null,null,p),Jp._currentValue=S),g1(c,d),Ji(c,d,y,p),d.child;case 6:return c===null&&Pr&&((c=p=Ln)&&(p=sz(p,d.pendingProps,aa),p!==null?(d.stateNode=p,xi=d,Ln=null,c=!0):c=!1),c||Kc(d)),null;case 13:return E6(c,d,p);case 4:return ue(d,d.stateNode.containerInfo),y=d.pendingProps,c===null?d.child=Mn(d,null,y,p):Ji(c,d,y,p),d.child;case 11:return v6(c,d,d.type,d.pendingProps,p);case 7:return Ji(c,d,d.pendingProps,p),d.child;case 8:return Ji(c,d,d.pendingProps.children,p),d.child;case 12:return Ji(c,d,d.pendingProps.children,p),d.child;case 10:return y=d.pendingProps,Yc(d,d.type,y.value),Ji(c,d,y.children,p),d.child;case 9:return S=d.type._context,y=d.pendingProps.children,Qc(d),S=vi(S),y=y(S),d.flags|=1,Ji(c,d,y,p),d.child;case 14:return y6(c,d,d.type,d.pendingProps,p);case 15:return b6(c,d,d.type,d.pendingProps,p);case 19:return C6(c,d,p);case 31:return kU(c,d,p);case 22:return w6(c,d,p,d.pendingProps);case 24:return Qc(d),y=vi(ba),c===null?(S=fe(),S===null&&(S=Rn,C=Xf(),S.pooledCache=C,C.refCount++,C!==null&&(S.pooledCacheLanes|=p),S=C),d.memoizedState={parent:y,cache:S},jt(d),Yc(d,ba,S)):((c.lanes&p)!==0&&(Wn(c,d),Ca(d,null,null,p),En()),S=c.memoizedState,C=d.memoizedState,S.parent!==y?(S={parent:y,cache:y},d.memoizedState=S,d.lanes===0&&(d.memoizedState=d.updateQueue.baseState=S),Yc(d,ba,y)):(y=C.cache,Yc(d,ba,y),y!==S.cache&&Lu(d,[ba],p,!0))),Ji(c,d,d.pendingProps.children,p),d.child;case 29:throw d.pendingProps}throw Error(n(156,d.tag))}function Uu(c){c.flags|=4}function Ob(c,d,p,y,S){if((d=(c.mode&32)!==0)&&(d=!1),d){if(c.flags|=16777216,(S&335544128)===S)if(c.stateNode.complete)c.flags|=8192;else if(nA())c.flags|=8192;else throw Je=De,Ue}else c.flags&=-16777217}function O6(c,d){if(d.type!=="stylesheet"||(d.state.loading&4)!==0)c.flags&=-16777217;else if(c.flags|=16777216,!WA(d))if(nA())c.flags|=8192;else throw Je=De,Ue}function y1(c,d){d!==null&&(c.flags|=4),c.flags&16384&&(d=c.tag!==22?il():536870912,c.lanes|=d,nm|=d)}function Bp(c,d){if(!Pr)switch(c.tailMode){case"hidden":d=c.tail;for(var p=null;d!==null;)d.alternate!==null&&(p=d),d=d.sibling;p===null?c.tail=null:p.sibling=null;break;case"collapsed":p=c.tail;for(var y=null;p!==null;)p.alternate!==null&&(y=p),p=p.sibling;y===null?d||c.tail===null?c.tail=null:c.tail.sibling=null:y.sibling=null}}function Yn(c){var d=c.alternate!==null&&c.alternate.child===c.child,p=0,y=0;if(d)for(var S=c.child;S!==null;)p|=S.lanes|S.childLanes,y|=S.subtreeFlags&65011712,y|=S.flags&65011712,S.return=c,S=S.sibling;else for(S=c.child;S!==null;)p|=S.lanes|S.childLanes,y|=S.subtreeFlags,y|=S.flags,S.return=c,S=S.sibling;return c.subtreeFlags|=y,c.childLanes=p,d}function TU(c,d,p){var y=d.pendingProps;switch(Uh(d),d.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Yn(d),null;case 1:return Yn(d),null;case 3:return p=d.stateNode,y=null,c!==null&&(y=c.memoizedState.cache),d.memoizedState.cache!==y&&(d.flags|=2048),gl(ba),X(),p.pendingContext&&(p.context=p.pendingContext,p.pendingContext=null),(c===null||c.child===null)&&(gi(d)?Uu(d):c===null||c.memoizedState.isDehydrated&&(d.flags&256)===0||(d.flags|=1024,Ep())),Yn(d),null;case 26:var S=d.type,C=d.memoizedState;return c===null?(Uu(d),C!==null?(Yn(d),O6(d,C)):(Yn(d),Ob(d,S,null,y,p))):C?C!==c.memoizedState?(Uu(d),Yn(d),O6(d,C)):(Yn(d),d.flags&=-16777217):(c=c.memoizedProps,c!==y&&Uu(d),Yn(d),Ob(d,S,c,y,p)),null;case 27:if(Te(d),p=Q.current,S=d.type,c!==null&&d.stateNode!=null)c.memoizedProps!==y&&Uu(d);else{if(!y){if(d.stateNode===null)throw Error(n(166));return Yn(d),null}c=q.current,gi(d)?Ap(d):(c=IA(S,y,p),d.stateNode=c,Uu(d))}return Yn(d),null;case 5:if(Te(d),S=d.type,c!==null&&d.stateNode!=null)c.memoizedProps!==y&&Uu(d);else{if(!y){if(d.stateNode===null)throw Error(n(166));return Yn(d),null}if(C=q.current,gi(d))Ap(d);else{var K=P1(Q.current);switch(C){case 1:C=K.createElementNS("http://www.w3.org/2000/svg",S);break;case 2:C=K.createElementNS("http://www.w3.org/1998/Math/MathML",S);break;default:switch(S){case"svg":C=K.createElementNS("http://www.w3.org/2000/svg",S);break;case"math":C=K.createElementNS("http://www.w3.org/1998/Math/MathML",S);break;case"script":C=K.createElement("div"),C.innerHTML="<script><\/script>",C=C.removeChild(C.firstChild);break;case"select":C=typeof y.is=="string"?K.createElement("select",{is:y.is}):K.createElement("select"),y.multiple?C.multiple=!0:y.size&&(C.size=y.size);break;default:C=typeof y.is=="string"?K.createElement(S,{is:y.is}):K.createElement(S)}}C[me]=d,C[ye]=y;e:for(K=d.child;K!==null;){if(K.tag===5||K.tag===6)C.appendChild(K.stateNode);else if(K.tag!==4&&K.tag!==27&&K.child!==null){K.child.return=K,K=K.child;continue}if(K===d)break e;for(;K.sibling===null;){if(K.return===null||K.return===d)break e;K=K.return}K.sibling.return=K.return,K=K.sibling}d.stateNode=C;e:switch(es(C,S,y),S){case"button":case"input":case"select":case"textarea":y=!!y.autoFocus;break e;case"img":y=!0;break e;default:y=!1}y&&Uu(d)}}return Yn(d),Ob(d,d.type,c===null?null:c.memoizedProps,d.pendingProps,p),null;case 6:if(c&&d.stateNode!=null)c.memoizedProps!==y&&Uu(d);else{if(typeof y!="string"&&d.stateNode===null)throw Error(n(166));if(c=Q.current,gi(d)){if(c=d.stateNode,p=d.memoizedProps,y=null,S=xi,S!==null)switch(S.tag){case 27:case 5:y=S.memoizedProps}c[me]=d,c=!!(c.nodeValue===p||y!==null&&y.suppressHydrationWarning===!0||EA(c.nodeValue,p)),c||Kc(d,!0)}else c=P1(c).createTextNode(y),c[me]=d,d.stateNode=c}return Yn(d),null;case 31:if(p=d.memoizedState,c===null||c.memoizedState!==null){if(y=gi(d),p!==null){if(c===null){if(!y)throw Error(n(318));if(c=d.memoizedState,c=c!==null?c.dehydrated:null,!c)throw Error(n(557));c[me]=d}else Pu(),(d.flags&128)===0&&(d.memoizedState=null),d.flags|=4;Yn(d),c=!1}else p=Ep(),c!==null&&c.memoizedState!==null&&(c.memoizedState.hydrationErrors=p),c=!0;if(!c)return d.flags&256?(xn(d),d):(xn(d),null);if((d.flags&128)!==0)throw Error(n(558))}return Yn(d),null;case 13:if(y=d.memoizedState,c===null||c.memoizedState!==null&&c.memoizedState.dehydrated!==null){if(S=gi(d),y!==null&&y.dehydrated!==null){if(c===null){if(!S)throw Error(n(318));if(S=d.memoizedState,S=S!==null?S.dehydrated:null,!S)throw Error(n(317));S[me]=d}else Pu(),(d.flags&128)===0&&(d.memoizedState=null),d.flags|=4;Yn(d),S=!1}else S=Ep(),c!==null&&c.memoizedState!==null&&(c.memoizedState.hydrationErrors=S),S=!0;if(!S)return d.flags&256?(xn(d),d):(xn(d),null)}return xn(d),(d.flags&128)!==0?(d.lanes=p,d):(p=y!==null,c=c!==null&&c.memoizedState!==null,p&&(y=d.child,S=null,y.alternate!==null&&y.alternate.memoizedState!==null&&y.alternate.memoizedState.cachePool!==null&&(S=y.alternate.memoizedState.cachePool.pool),C=null,y.memoizedState!==null&&y.memoizedState.cachePool!==null&&(C=y.memoizedState.cachePool.pool),C!==S&&(y.flags|=2048)),p!==c&&p&&(d.child.flags|=8192),y1(d,d.updateQueue),Yn(d),null);case 4:return X(),c===null&&Jb(d.stateNode.containerInfo),Yn(d),null;case 10:return gl(d.type),Yn(d),null;case 19:if(R($r),y=d.memoizedState,y===null)return Yn(d),null;if(S=(d.flags&128)!==0,C=y.rendering,C===null)if(S)Bp(y,!1);else{if(Pa!==0||c!==null&&(c.flags&128)!==0)for(c=d.child;c!==null;){if(C=Mi(c),C!==null){for(d.flags|=128,Bp(y,!1),c=C.updateQueue,d.updateQueue=c,y1(d,c),d.subtreeFlags=0,c=p,p=d.child;p!==null;)f0(p,c),p=p.sibling;return F($r,$r.current&1|2),Pr&&Ws(d,y.treeForkCount),d.child}c=c.sibling}y.tail!==null&&Et()>j1&&(d.flags|=128,S=!0,Bp(y,!1),d.lanes=4194304)}else{if(!S)if(c=Mi(C),c!==null){if(d.flags|=128,S=!0,c=c.updateQueue,d.updateQueue=c,y1(d,c),Bp(y,!0),y.tail===null&&y.tailMode==="hidden"&&!C.alternate&&!Pr)return Yn(d),null}else 2*Et()-y.renderingStartTime>j1&&p!==536870912&&(d.flags|=128,S=!0,Bp(y,!1),d.lanes=4194304);y.isBackwards?(C.sibling=d.child,d.child=C):(c=y.last,c!==null?c.sibling=C:d.child=C,y.last=C)}return y.tail!==null?(c=y.tail,y.rendering=c,y.tail=c.sibling,y.renderingStartTime=Et(),c.sibling=null,p=$r.current,F($r,S?p&1|2:p&1),Pr&&Ws(d,y.treeForkCount),c):(Yn(d),null);case 22:case 23:return xn(d),$a(),y=d.memoizedState!==null,c!==null?c.memoizedState!==null!==y&&(d.flags|=8192):y&&(d.flags|=8192),y?(p&536870912)!==0&&(d.flags&128)===0&&(Yn(d),d.subtreeFlags&6&&(d.flags|=8192)):Yn(d),p=d.updateQueue,p!==null&&y1(d,p.retryQueue),p=null,c!==null&&c.memoizedState!==null&&c.memoizedState.cachePool!==null&&(p=c.memoizedState.cachePool.pool),y=null,d.memoizedState!==null&&d.memoizedState.cachePool!==null&&(y=d.memoizedState.cachePool.pool),y!==p&&(d.flags|=2048),c!==null&&R(se),null;case 24:return p=null,c!==null&&(p=c.memoizedState.cache),d.memoizedState.cache!==p&&(d.flags|=2048),gl(ba),Yn(d),null;case 25:return null;case 30:return null}throw Error(n(156,d.tag))}function OU(c,d){switch(Uh(d),d.tag){case 1:return c=d.flags,c&65536?(d.flags=c&-65537|128,d):null;case 3:return gl(ba),X(),c=d.flags,(c&65536)!==0&&(c&128)===0?(d.flags=c&-65537|128,d):null;case 26:case 27:case 5:return Te(d),null;case 31:if(d.memoizedState!==null){if(xn(d),d.alternate===null)throw Error(n(340));Pu()}return c=d.flags,c&65536?(d.flags=c&-65537|128,d):null;case 13:if(xn(d),c=d.memoizedState,c!==null&&c.dehydrated!==null){if(d.alternate===null)throw Error(n(340));Pu()}return c=d.flags,c&65536?(d.flags=c&-65537|128,d):null;case 19:return R($r),null;case 4:return X(),null;case 10:return gl(d.type),null;case 22:case 23:return xn(d),$a(),c!==null&&R(se),c=d.flags,c&65536?(d.flags=c&-65537|128,d):null;case 24:return gl(ba),null;case 25:return null;default:return null}}function D6(c,d){switch(Uh(d),d.tag){case 3:gl(ba),X();break;case 26:case 27:case 5:Te(d);break;case 4:X();break;case 31:d.memoizedState!==null&&xn(d);break;case 13:xn(d);break;case 19:R($r);break;case 10:gl(d.type);break;case 22:case 23:xn(d),$a(),c!==null&&R(se);break;case 24:gl(ba)}}function Up(c,d){try{var p=d.updateQueue,y=p!==null?p.lastEffect:null;if(y!==null){var S=y.next;p=S;do{if((p.tag&c)===c){y=void 0;var C=p.create,K=p.inst;y=C(),K.destroy=y}p=p.next}while(p!==S)}}catch(ce){vn(d,d.return,ce)}}function td(c,d,p){try{var y=d.updateQueue,S=y!==null?y.lastEffect:null;if(S!==null){var C=S.next;y=C;do{if((y.tag&c)===c){var K=y.inst,ce=K.destroy;if(ce!==void 0){K.destroy=void 0,S=d;var Ae=p,$e=ce;try{$e()}catch(rt){vn(S,Ae,rt)}}}y=y.next}while(y!==C)}}catch(rt){vn(d,d.return,rt)}}function F6(c){var d=c.updateQueue;if(d!==null){var p=c.stateNode;try{Ta(d,p)}catch(y){vn(c,c.return,y)}}}function P6(c,d,p){p.props=v0(c.type,c.memoizedProps),p.state=c.memoizedState;try{p.componentWillUnmount()}catch(y){vn(c,d,y)}}function zp(c,d){try{var p=c.ref;if(p!==null){switch(c.tag){case 26:case 27:case 5:var y=c.stateNode;break;case 30:y=c.stateNode;break;default:y=c.stateNode}typeof p=="function"?c.refCleanup=p(y):p.current=y}}catch(S){vn(c,d,S)}}function ru(c,d){var p=c.ref,y=c.refCleanup;if(p!==null)if(typeof y=="function")try{y()}catch(S){vn(c,d,S)}finally{c.refCleanup=null,c=c.alternate,c!=null&&(c.refCleanup=null)}else if(typeof p=="function")try{p(null)}catch(S){vn(c,d,S)}else p.current=null}function L6(c){var d=c.type,p=c.memoizedProps,y=c.stateNode;try{e:switch(d){case"button":case"input":case"select":case"textarea":p.autoFocus&&y.focus();break e;case"img":p.src?y.src=p.src:p.srcSet&&(y.srcset=p.srcSet)}}catch(S){vn(c,c.return,S)}}function Db(c,d,p){try{var y=c.stateNode;JU(y,c.type,p,d),y[ye]=d}catch(S){vn(c,c.return,S)}}function M6(c){return c.tag===5||c.tag===3||c.tag===26||c.tag===27&&od(c.type)||c.tag===4}function Fb(c){e:for(;;){for(;c.sibling===null;){if(c.return===null||M6(c.return))return null;c=c.return}for(c.sibling.return=c.return,c=c.sibling;c.tag!==5&&c.tag!==6&&c.tag!==18;){if(c.tag===27&&od(c.type)||c.flags&2||c.child===null||c.tag===4)continue e;c.child.return=c,c=c.child}if(!(c.flags&2))return c.stateNode}}function Pb(c,d,p){var y=c.tag;if(y===5||y===6)c=c.stateNode,d?(p.nodeType===9?p.body:p.nodeName==="HTML"?p.ownerDocument.body:p).insertBefore(c,d):(d=p.nodeType===9?p.body:p.nodeName==="HTML"?p.ownerDocument.body:p,d.appendChild(c),p=p._reactRootContainer,p!=null||d.onclick!==null||(d.onclick=Ml));else if(y!==4&&(y===27&&od(c.type)&&(p=c.stateNode,d=null),c=c.child,c!==null))for(Pb(c,d,p),c=c.sibling;c!==null;)Pb(c,d,p),c=c.sibling}function b1(c,d,p){var y=c.tag;if(y===5||y===6)c=c.stateNode,d?p.insertBefore(c,d):p.appendChild(c);else if(y!==4&&(y===27&&od(c.type)&&(p=c.stateNode),c=c.child,c!==null))for(b1(c,d,p),c=c.sibling;c!==null;)b1(c,d,p),c=c.sibling}function R6(c){var d=c.stateNode,p=c.memoizedProps;try{for(var y=c.type,S=d.attributes;S.length;)d.removeAttributeNode(S[0]);es(d,y,p),d[me]=c,d[ye]=p}catch(C){vn(c,c.return,C)}}var zu=!1,ni=!1,Lb=!1,I6=typeof WeakSet=="function"?WeakSet:Set,Ri=null;function DU(c,d){if(c=c.containerInfo,rw=z1,c=cc(c),yo(c)){if("selectionStart"in c)var p={start:c.selectionStart,end:c.selectionEnd};else e:{p=(p=c.ownerDocument)&&p.defaultView||window;var y=p.getSelection&&p.getSelection();if(y&&y.rangeCount!==0){p=y.anchorNode;var S=y.anchorOffset,C=y.focusNode;y=y.focusOffset;try{p.nodeType,C.nodeType}catch{p=null;break e}var K=0,ce=-1,Ae=-1,$e=0,rt=0,st=c,Ve=null;t:for(;;){for(var Ke;st!==p||S!==0&&st.nodeType!==3||(ce=K+S),st!==C||y!==0&&st.nodeType!==3||(Ae=K+y),st.nodeType===3&&(K+=st.nodeValue.length),(Ke=st.firstChild)!==null;)Ve=st,st=Ke;for(;;){if(st===c)break t;if(Ve===p&&++$e===S&&(ce=K),Ve===C&&++rt===y&&(Ae=K),(Ke=st.nextSibling)!==null)break;st=Ve,Ve=st.parentNode}st=Ke}p=ce===-1||Ae===-1?null:{start:ce,end:Ae}}else p=null}p=p||{start:0,end:0}}else p=null;for(nw={focusedElem:c,selectionRange:p},z1=!1,Ri=d;Ri!==null;)if(d=Ri,c=d.child,(d.subtreeFlags&1028)!==0&&c!==null)c.return=d,Ri=c;else for(;Ri!==null;){switch(d=Ri,C=d.alternate,c=d.flags,d.tag){case 0:if((c&4)!==0&&(c=d.updateQueue,c=c!==null?c.events:null,c!==null))for(p=0;p<c.length;p++)S=c[p],S.ref.impl=S.nextImpl;break;case 11:case 15:break;case 1:if((c&1024)!==0&&C!==null){c=void 0,p=d,S=C.memoizedProps,C=C.memoizedState,y=p.stateNode;try{var Ut=v0(p.type,S);c=y.getSnapshotBeforeUpdate(Ut,C),y.__reactInternalSnapshotBeforeUpdate=c}catch(or){vn(p,p.return,or)}}break;case 3:if((c&1024)!==0){if(c=d.stateNode.containerInfo,p=c.nodeType,p===9)sw(c);else if(p===1)switch(c.nodeName){case"HEAD":case"HTML":case"BODY":sw(c);break;default:c.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((c&1024)!==0)throw Error(n(163))}if(c=d.sibling,c!==null){c.return=d.return,Ri=c;break}Ri=d.return}}function B6(c,d,p){var y=p.flags;switch(p.tag){case 0:case 11:case 15:$u(c,p),y&4&&Up(5,p);break;case 1:if($u(c,p),y&4)if(c=p.stateNode,d===null)try{c.componentDidMount()}catch(K){vn(p,p.return,K)}else{var S=v0(p.type,d.memoizedProps);d=d.memoizedState;try{c.componentDidUpdate(S,d,c.__reactInternalSnapshotBeforeUpdate)}catch(K){vn(p,p.return,K)}}y&64&&F6(p),y&512&&zp(p,p.return);break;case 3:if($u(c,p),y&64&&(c=p.updateQueue,c!==null)){if(d=null,p.child!==null)switch(p.child.tag){case 27:case 5:d=p.child.stateNode;break;case 1:d=p.child.stateNode}try{Ta(c,d)}catch(K){vn(p,p.return,K)}}break;case 27:d===null&&y&4&&R6(p);case 26:case 5:$u(c,p),d===null&&y&4&&L6(p),y&512&&zp(p,p.return);break;case 12:$u(c,p);break;case 31:$u(c,p),y&4&&q6(c,p);break;case 13:$u(c,p),y&4&&$6(c,p),y&64&&(c=p.memoizedState,c!==null&&(c=c.dehydrated,c!==null&&(p=zU.bind(null,p),lz(c,p))));break;case 22:if(y=p.memoizedState!==null||zu,!y){d=d!==null&&d.memoizedState!==null||ni,S=zu;var C=ni;zu=y,(ni=d)&&!C?Hu(c,p,(p.subtreeFlags&8772)!==0):$u(c,p),zu=S,ni=C}break;case 30:break;default:$u(c,p)}}function U6(c){var d=c.alternate;d!==null&&(c.alternate=null,U6(d)),c.child=null,c.deletions=null,c.sibling=null,c.tag===5&&(d=c.stateNode,d!==null&&ft(d)),c.stateNode=null,c.return=null,c.dependencies=null,c.memoizedProps=null,c.memoizedState=null,c.pendingProps=null,c.stateNode=null,c.updateQueue=null}var la=null,yl=!1;function qu(c,d,p){for(p=p.child;p!==null;)z6(c,d,p),p=p.sibling}function z6(c,d,p){if(At&&typeof At.onCommitFiberUnmount=="function")try{At.onCommitFiberUnmount(Zt,p)}catch{}switch(p.tag){case 26:ni||ru(p,d),qu(c,d,p),p.memoizedState?p.memoizedState.count--:p.stateNode&&(p=p.stateNode,p.parentNode.removeChild(p));break;case 27:ni||ru(p,d);var y=la,S=yl;od(p.type)&&(la=p.stateNode,yl=!1),qu(c,d,p),Xp(p.stateNode),la=y,yl=S;break;case 5:ni||ru(p,d);case 6:if(y=la,S=yl,la=null,qu(c,d,p),la=y,yl=S,la!==null)if(yl)try{(la.nodeType===9?la.body:la.nodeName==="HTML"?la.ownerDocument.body:la).removeChild(p.stateNode)}catch(C){vn(p,d,C)}else try{la.removeChild(p.stateNode)}catch(C){vn(p,d,C)}break;case 18:la!==null&&(yl?(c=la,FA(c.nodeType===9?c.body:c.nodeName==="HTML"?c.ownerDocument.body:c,p.stateNode),fm(c)):FA(la,p.stateNode));break;case 4:y=la,S=yl,la=p.stateNode.containerInfo,yl=!0,qu(c,d,p),la=y,yl=S;break;case 0:case 11:case 14:case 15:td(2,p,d),ni||td(4,p,d),qu(c,d,p);break;case 1:ni||(ru(p,d),y=p.stateNode,typeof y.componentWillUnmount=="function"&&P6(p,d,y)),qu(c,d,p);break;case 21:qu(c,d,p);break;case 22:ni=(y=ni)||p.memoizedState!==null,qu(c,d,p),ni=y;break;default:qu(c,d,p)}}function q6(c,d){if(d.memoizedState===null&&(c=d.alternate,c!==null&&(c=c.memoizedState,c!==null))){c=c.dehydrated;try{fm(c)}catch(p){vn(d,d.return,p)}}}function $6(c,d){if(d.memoizedState===null&&(c=d.alternate,c!==null&&(c=c.memoizedState,c!==null&&(c=c.dehydrated,c!==null))))try{fm(c)}catch(p){vn(d,d.return,p)}}function FU(c){switch(c.tag){case 31:case 13:case 19:var d=c.stateNode;return d===null&&(d=c.stateNode=new I6),d;case 22:return c=c.stateNode,d=c._retryCache,d===null&&(d=c._retryCache=new I6),d;default:throw Error(n(435,c.tag))}}function w1(c,d){var p=FU(c);d.forEach(function(y){if(!p.has(y)){p.add(y);var S=qU.bind(null,c,y);y.then(S,S)}})}function bl(c,d){var p=d.deletions;if(p!==null)for(var y=0;y<p.length;y++){var S=p[y],C=c,K=d,ce=K;e:for(;ce!==null;){switch(ce.tag){case 27:if(od(ce.type)){la=ce.stateNode,yl=!1;break e}break;case 5:la=ce.stateNode,yl=!1;break e;case 3:case 4:la=ce.stateNode.containerInfo,yl=!0;break e}ce=ce.return}if(la===null)throw Error(n(160));z6(C,K,S),la=null,yl=!1,C=S.alternate,C!==null&&(C.return=null),S.return=null}if(d.subtreeFlags&13886)for(d=d.child;d!==null;)H6(d,c),d=d.sibling}var gc=null;function H6(c,d){var p=c.alternate,y=c.flags;switch(c.tag){case 0:case 11:case 14:case 15:bl(d,c),wl(c),y&4&&(td(3,c,c.return),Up(3,c),td(5,c,c.return));break;case 1:bl(d,c),wl(c),y&512&&(ni||p===null||ru(p,p.return)),y&64&&zu&&(c=c.updateQueue,c!==null&&(y=c.callbacks,y!==null&&(p=c.shared.hiddenCallbacks,c.shared.hiddenCallbacks=p===null?y:p.concat(y))));break;case 26:var S=gc;if(bl(d,c),wl(c),y&512&&(ni||p===null||ru(p,p.return)),y&4){var C=p!==null?p.memoizedState:null;if(y=c.memoizedState,p===null)if(y===null)if(c.stateNode===null){e:{y=c.type,p=c.memoizedProps,S=S.ownerDocument||S;t:switch(y){case"title":C=S.getElementsByTagName("title")[0],(!C||C[ze]||C[me]||C.namespaceURI==="http://www.w3.org/2000/svg"||C.hasAttribute("itemprop"))&&(C=S.createElement(y),S.head.insertBefore(C,S.querySelector("head > title"))),es(C,y,p),C[me]=c,Lt(C),y=C;break e;case"link":var K=HA("link","href",S).get(y+(p.href||""));if(K){for(var ce=0;ce<K.length;ce++)if(C=K[ce],C.getAttribute("href")===(p.href==null||p.href===""?null:p.href)&&C.getAttribute("rel")===(p.rel==null?null:p.rel)&&C.getAttribute("title")===(p.title==null?null:p.title)&&C.getAttribute("crossorigin")===(p.crossOrigin==null?null:p.crossOrigin)){K.splice(ce,1);break t}}C=S.createElement(y),es(C,y,p),S.head.appendChild(C);break;case"meta":if(K=HA("meta","content",S).get(y+(p.content||""))){for(ce=0;ce<K.length;ce++)if(C=K[ce],C.getAttribute("content")===(p.content==null?null:""+p.content)&&C.getAttribute("name")===(p.name==null?null:p.name)&&C.getAttribute("property")===(p.property==null?null:p.property)&&C.getAttribute("http-equiv")===(p.httpEquiv==null?null:p.httpEquiv)&&C.getAttribute("charset")===(p.charSet==null?null:p.charSet)){K.splice(ce,1);break t}}C=S.createElement(y),es(C,y,p),S.head.appendChild(C);break;default:throw Error(n(468,y))}C[me]=c,Lt(C),y=C}c.stateNode=y}else VA(S,c.type,c.stateNode);else c.stateNode=$A(S,y,c.memoizedProps);else C!==y?(C===null?p.stateNode!==null&&(p=p.stateNode,p.parentNode.removeChild(p)):C.count--,y===null?VA(S,c.type,c.stateNode):$A(S,y,c.memoizedProps)):y===null&&c.stateNode!==null&&Db(c,c.memoizedProps,p.memoizedProps)}break;case 27:bl(d,c),wl(c),y&512&&(ni||p===null||ru(p,p.return)),p!==null&&y&4&&Db(c,c.memoizedProps,p.memoizedProps);break;case 5:if(bl(d,c),wl(c),y&512&&(ni||p===null||ru(p,p.return)),c.flags&32){S=c.stateNode;try{Bs(S,"")}catch(Ut){vn(c,c.return,Ut)}}y&4&&c.stateNode!=null&&(S=c.memoizedProps,Db(c,S,p!==null?p.memoizedProps:S)),y&1024&&(Lb=!0);break;case 6:if(bl(d,c),wl(c),y&4){if(c.stateNode===null)throw Error(n(162));y=c.memoizedProps,p=c.stateNode;try{p.nodeValue=y}catch(Ut){vn(c,c.return,Ut)}}break;case 3:if(R1=null,S=gc,gc=L1(d.containerInfo),bl(d,c),gc=S,wl(c),y&4&&p!==null&&p.memoizedState.isDehydrated)try{fm(d.containerInfo)}catch(Ut){vn(c,c.return,Ut)}Lb&&(Lb=!1,V6(c));break;case 4:y=gc,gc=L1(c.stateNode.containerInfo),bl(d,c),wl(c),gc=y;break;case 12:bl(d,c),wl(c);break;case 31:bl(d,c),wl(c),y&4&&(y=c.updateQueue,y!==null&&(c.updateQueue=null,w1(c,y)));break;case 13:bl(d,c),wl(c),c.child.flags&8192&&c.memoizedState!==null!=(p!==null&&p.memoizedState!==null)&&(_1=Et()),y&4&&(y=c.updateQueue,y!==null&&(c.updateQueue=null,w1(c,y)));break;case 22:S=c.memoizedState!==null;var Ae=p!==null&&p.memoizedState!==null,$e=zu,rt=ni;if(zu=$e||S,ni=rt||Ae,bl(d,c),ni=rt,zu=$e,wl(c),y&8192)e:for(d=c.stateNode,d._visibility=S?d._visibility&-2:d._visibility|1,S&&(p===null||Ae||zu||ni||y0(c)),p=null,d=c;;){if(d.tag===5||d.tag===26){if(p===null){Ae=p=d;try{if(C=Ae.stateNode,S)K=C.style,typeof K.setProperty=="function"?K.setProperty("display","none","important"):K.display="none";else{ce=Ae.stateNode;var st=Ae.memoizedProps.style,Ve=st!=null&&st.hasOwnProperty("display")?st.display:null;ce.style.display=Ve==null||typeof Ve=="boolean"?"":(""+Ve).trim()}}catch(Ut){vn(Ae,Ae.return,Ut)}}}else if(d.tag===6){if(p===null){Ae=d;try{Ae.stateNode.nodeValue=S?"":Ae.memoizedProps}catch(Ut){vn(Ae,Ae.return,Ut)}}}else if(d.tag===18){if(p===null){Ae=d;try{var Ke=Ae.stateNode;S?PA(Ke,!0):PA(Ae.stateNode,!1)}catch(Ut){vn(Ae,Ae.return,Ut)}}}else if((d.tag!==22&&d.tag!==23||d.memoizedState===null||d===c)&&d.child!==null){d.child.return=d,d=d.child;continue}if(d===c)break e;for(;d.sibling===null;){if(d.return===null||d.return===c)break e;p===d&&(p=null),d=d.return}p===d&&(p=null),d.sibling.return=d.return,d=d.sibling}y&4&&(y=c.updateQueue,y!==null&&(p=y.retryQueue,p!==null&&(y.retryQueue=null,w1(c,p))));break;case 19:bl(d,c),wl(c),y&4&&(y=c.updateQueue,y!==null&&(c.updateQueue=null,w1(c,y)));break;case 30:break;case 21:break;default:bl(d,c),wl(c)}}function wl(c){var d=c.flags;if(d&2){try{for(var p,y=c.return;y!==null;){if(M6(y)){p=y;break}y=y.return}if(p==null)throw Error(n(160));switch(p.tag){case 27:var S=p.stateNode,C=Fb(c);b1(c,C,S);break;case 5:var K=p.stateNode;p.flags&32&&(Bs(K,""),p.flags&=-33);var ce=Fb(c);b1(c,ce,K);break;case 3:case 4:var Ae=p.stateNode.containerInfo,$e=Fb(c);Pb(c,$e,Ae);break;default:throw Error(n(161))}}catch(rt){vn(c,c.return,rt)}c.flags&=-3}d&4096&&(c.flags&=-4097)}function V6(c){if(c.subtreeFlags&1024)for(c=c.child;c!==null;){var d=c;V6(d),d.tag===5&&d.flags&1024&&d.stateNode.reset(),c=c.sibling}}function $u(c,d){if(d.subtreeFlags&8772)for(d=d.child;d!==null;)B6(c,d.alternate,d),d=d.sibling}function y0(c){for(c=c.child;c!==null;){var d=c;switch(d.tag){case 0:case 11:case 14:case 15:td(4,d,d.return),y0(d);break;case 1:ru(d,d.return);var p=d.stateNode;typeof p.componentWillUnmount=="function"&&P6(d,d.return,p),y0(d);break;case 27:Xp(d.stateNode);case 26:case 5:ru(d,d.return),y0(d);break;case 22:d.memoizedState===null&&y0(d);break;case 30:y0(d);break;default:y0(d)}c=c.sibling}}function Hu(c,d,p){for(p=p&&(d.subtreeFlags&8772)!==0,d=d.child;d!==null;){var y=d.alternate,S=c,C=d,K=C.flags;switch(C.tag){case 0:case 11:case 15:Hu(S,C,p),Up(4,C);break;case 1:if(Hu(S,C,p),y=C,S=y.stateNode,typeof S.componentDidMount=="function")try{S.componentDidMount()}catch($e){vn(y,y.return,$e)}if(y=C,S=y.updateQueue,S!==null){var ce=y.stateNode;try{var Ae=S.shared.hiddenCallbacks;if(Ae!==null)for(S.shared.hiddenCallbacks=null,S=0;S<Ae.length;S++)Li(Ae[S],ce)}catch($e){vn(y,y.return,$e)}}p&&K&64&&F6(C),zp(C,C.return);break;case 27:R6(C);case 26:case 5:Hu(S,C,p),p&&y===null&&K&4&&L6(C),zp(C,C.return);break;case 12:Hu(S,C,p);break;case 31:Hu(S,C,p),p&&K&4&&q6(S,C);break;case 13:Hu(S,C,p),p&&K&4&&$6(S,C);break;case 22:C.memoizedState===null&&Hu(S,C,p),zp(C,C.return);break;case 30:break;default:Hu(S,C,p)}d=d.sibling}}function Mb(c,d){var p=null;c!==null&&c.memoizedState!==null&&c.memoizedState.cachePool!==null&&(p=c.memoizedState.cachePool.pool),c=null,d.memoizedState!==null&&d.memoizedState.cachePool!==null&&(c=d.memoizedState.cachePool.pool),c!==p&&(c!=null&&c.refCount++,p!=null&&m0(p))}function Rb(c,d){c=null,d.alternate!==null&&(c=d.alternate.memoizedState.cache),d=d.memoizedState.cache,d!==c&&(d.refCount++,c!=null&&m0(c))}function vc(c,d,p,y){if(d.subtreeFlags&10256)for(d=d.child;d!==null;)W6(c,d,p,y),d=d.sibling}function W6(c,d,p,y){var S=d.flags;switch(d.tag){case 0:case 11:case 15:vc(c,d,p,y),S&2048&&Up(9,d);break;case 1:vc(c,d,p,y);break;case 3:vc(c,d,p,y),S&2048&&(c=null,d.alternate!==null&&(c=d.alternate.memoizedState.cache),d=d.memoizedState.cache,d!==c&&(d.refCount++,c!=null&&m0(c)));break;case 12:if(S&2048){vc(c,d,p,y),c=d.stateNode;try{var C=d.memoizedProps,K=C.id,ce=C.onPostCommit;typeof ce=="function"&&ce(K,d.alternate===null?"mount":"update",c.passiveEffectDuration,-0)}catch(Ae){vn(d,d.return,Ae)}}else vc(c,d,p,y);break;case 31:vc(c,d,p,y);break;case 13:vc(c,d,p,y);break;case 23:break;case 22:C=d.stateNode,K=d.alternate,d.memoizedState!==null?C._visibility&2?vc(c,d,p,y):qp(c,d):C._visibility&2?vc(c,d,p,y):(C._visibility|=2,em(c,d,p,y,(d.subtreeFlags&10256)!==0||!1)),S&2048&&Mb(K,d);break;case 24:vc(c,d,p,y),S&2048&&Rb(d.alternate,d);break;default:vc(c,d,p,y)}}function em(c,d,p,y,S){for(S=S&&((d.subtreeFlags&10256)!==0||!1),d=d.child;d!==null;){var C=c,K=d,ce=p,Ae=y,$e=K.flags;switch(K.tag){case 0:case 11:case 15:em(C,K,ce,Ae,S),Up(8,K);break;case 23:break;case 22:var rt=K.stateNode;K.memoizedState!==null?rt._visibility&2?em(C,K,ce,Ae,S):qp(C,K):(rt._visibility|=2,em(C,K,ce,Ae,S)),S&&$e&2048&&Mb(K.alternate,K);break;case 24:em(C,K,ce,Ae,S),S&&$e&2048&&Rb(K.alternate,K);break;default:em(C,K,ce,Ae,S)}d=d.sibling}}function qp(c,d){if(d.subtreeFlags&10256)for(d=d.child;d!==null;){var p=c,y=d,S=y.flags;switch(y.tag){case 22:qp(p,y),S&2048&&Mb(y.alternate,y);break;case 24:qp(p,y),S&2048&&Rb(y.alternate,y);break;default:qp(p,y)}d=d.sibling}}var $p=8192;function tm(c,d,p){if(c.subtreeFlags&$p)for(c=c.child;c!==null;)K6(c,d,p),c=c.sibling}function K6(c,d,p){switch(c.tag){case 26:tm(c,d,p),c.flags&$p&&c.memoizedState!==null&&yz(p,gc,c.memoizedState,c.memoizedProps);break;case 5:tm(c,d,p);break;case 3:case 4:var y=gc;gc=L1(c.stateNode.containerInfo),tm(c,d,p),gc=y;break;case 22:c.memoizedState===null&&(y=c.alternate,y!==null&&y.memoizedState!==null?(y=$p,$p=16777216,tm(c,d,p),$p=y):tm(c,d,p));break;default:tm(c,d,p)}}function G6(c){var d=c.alternate;if(d!==null&&(c=d.child,c!==null)){d.child=null;do d=c.sibling,c.sibling=null,c=d;while(c!==null)}}function Hp(c){var d=c.deletions;if((c.flags&16)!==0){if(d!==null)for(var p=0;p<d.length;p++){var y=d[p];Ri=y,X6(y,c)}G6(c)}if(c.subtreeFlags&10256)for(c=c.child;c!==null;)Y6(c),c=c.sibling}function Y6(c){switch(c.tag){case 0:case 11:case 15:Hp(c),c.flags&2048&&td(9,c,c.return);break;case 3:Hp(c);break;case 12:Hp(c);break;case 22:var d=c.stateNode;c.memoizedState!==null&&d._visibility&2&&(c.return===null||c.return.tag!==13)?(d._visibility&=-3,N1(c)):Hp(c);break;default:Hp(c)}}function N1(c){var d=c.deletions;if((c.flags&16)!==0){if(d!==null)for(var p=0;p<d.length;p++){var y=d[p];Ri=y,X6(y,c)}G6(c)}for(c=c.child;c!==null;){switch(d=c,d.tag){case 0:case 11:case 15:td(8,d,d.return),N1(d);break;case 22:p=d.stateNode,p._visibility&2&&(p._visibility&=-3,N1(d));break;default:N1(d)}c=c.sibling}}function X6(c,d){for(;Ri!==null;){var p=Ri;switch(p.tag){case 0:case 11:case 15:td(8,p,d);break;case 23:case 22:if(p.memoizedState!==null&&p.memoizedState.cachePool!==null){var y=p.memoizedState.cachePool.pool;y!=null&&y.refCount++}break;case 24:m0(p.memoizedState.cache)}if(y=p.child,y!==null)y.return=p,Ri=y;else e:for(p=c;Ri!==null;){y=Ri;var S=y.sibling,C=y.return;if(U6(y),y===p){Ri=null;break e}if(S!==null){S.return=C,Ri=S;break e}Ri=C}}}var PU={getCacheForType:function(c){var d=vi(ba),p=d.data.get(c);return p===void 0&&(p=c(),d.data.set(c,p)),p},cacheSignal:function(){return vi(ba).controller.signal}},LU=typeof WeakMap=="function"?WeakMap:Map,dn=0,Rn=null,Lr=null,Rr=0,gn=0,ql=null,rd=!1,rm=!1,Ib=!1,Vu=0,Pa=0,nd=0,b0=0,Bb=0,$l=0,nm=0,Vp=null,Nl=null,Ub=!1,_1=0,Q6=0,j1=1/0,S1=null,ad=null,bi=0,id=null,am=null,Wu=0,zb=0,qb=null,Z6=null,Wp=0,$b=null;function Hl(){return(dn&2)!==0&&Rr!==0?Rr&-Rr:ne.T!==null?Yb():ae()}function J6(){if($l===0)if((Rr&536870912)===0||Pr){var c=Un;Un<<=1,(Un&3932160)===0&&(Un=262144),$l=c}else $l=536870912;return c=Gn.current,c!==null&&(c.flags|=32),$l}function _l(c,d,p){(c===Rn&&(gn===2||gn===9)||c.cancelPendingCommit!==null)&&(im(c,0),sd(c,Rr,$l,!1)),Xt(c,p),((dn&2)===0||c!==Rn)&&(c===Rn&&((dn&2)===0&&(b0|=p),Pa===4&&sd(c,Rr,$l,!1)),nu(c))}function eA(c,d,p){if((dn&6)!==0)throw Error(n(327));var y=!p&&(d&127)===0&&(d&c.expiredLanes)===0||Rs(c,d),S=y?IU(c,d):Vb(c,d,!0),C=y;do{if(S===0){rm&&!y&&sd(c,d,0,!1);break}else{if(p=c.current.alternate,C&&!MU(p)){S=Vb(c,d,!1),C=!1;continue}if(S===2){if(C=d,c.errorRecoveryDisabledLanes&C)var K=0;else K=c.pendingLanes&-536870913,K=K!==0?K:K&536870912?536870912:0;if(K!==0){d=K;e:{var ce=c;S=Vp;var Ae=ce.current.memoizedState.isDehydrated;if(Ae&&(im(ce,K).flags|=256),K=Vb(ce,K,!1),K!==2){if(Ib&&!Ae){ce.errorRecoveryDisabledLanes|=C,b0|=C,S=4;break e}C=Nl,Nl=S,C!==null&&(Nl===null?Nl=C:Nl.push.apply(Nl,C))}S=K}if(C=!1,S!==2)continue}}if(S===1){im(c,0),sd(c,d,0,!0);break}e:{switch(y=c,C=S,C){case 0:case 1:throw Error(n(345));case 4:if((d&4194048)!==d)break;case 6:sd(y,d,$l,!rd);break e;case 2:Nl=null;break;case 3:case 5:break;default:throw Error(n(329))}if((d&62914560)===d&&(S=_1+300-Et(),10<S)){if(sd(y,d,$l,!rd),Fr(y,0,!0)!==0)break e;Wu=d,y.timeoutHandle=OA(tA.bind(null,y,p,Nl,S1,Ub,d,$l,b0,nm,rd,C,"Throttled",-0,0),S);break e}tA(y,p,Nl,S1,Ub,d,$l,b0,nm,rd,C,null,-0,0)}}break}while(!0);nu(c)}function tA(c,d,p,y,S,C,K,ce,Ae,$e,rt,st,Ve,Ke){if(c.timeoutHandle=-1,st=d.subtreeFlags,st&8192||(st&16785408)===16785408){st={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:Ml},K6(d,C,st);var Ut=(C&62914560)===C?_1-Et():(C&4194048)===C?Q6-Et():0;if(Ut=bz(st,Ut),Ut!==null){Wu=C,c.cancelPendingCommit=Ut(cA.bind(null,c,d,C,p,y,S,K,ce,Ae,rt,st,null,Ve,Ke)),sd(c,C,K,!$e);return}}cA(c,d,C,p,y,S,K,ce,Ae)}function MU(c){for(var d=c;;){var p=d.tag;if((p===0||p===11||p===15)&&d.flags&16384&&(p=d.updateQueue,p!==null&&(p=p.stores,p!==null)))for(var y=0;y<p.length;y++){var S=p[y],C=S.getSnapshot;S=S.value;try{if(!mi(C(),S))return!1}catch{return!1}}if(p=d.child,d.subtreeFlags&16384&&p!==null)p.return=d,d=p;else{if(d===c)break;for(;d.sibling===null;){if(d.return===null||d.return===c)return!0;d=d.return}d.sibling.return=d.return,d=d.sibling}}return!0}function sd(c,d,p,y){d&=~Bb,d&=~b0,c.suspendedLanes|=d,c.pingedLanes&=~d,y&&(c.warmLanes|=d),y=c.expirationTimes;for(var S=d;0<S;){var C=31-br(S),K=1<<C;y[C]=-1,S&=~K}p!==0&&sl(c,p,d)}function A1(){return(dn&6)===0?(Kp(0),!1):!0}function Hb(){if(Lr!==null){if(gn===0)var c=Lr.return;else c=Lr,wo=Gc=null,Kh(c),ot=null,qt=0,c=Lr;for(;c!==null;)D6(c.alternate,c),c=c.return;Lr=null}}function im(c,d){var p=c.timeoutHandle;p!==-1&&(c.timeoutHandle=-1,rz(p)),p=c.cancelPendingCommit,p!==null&&(c.cancelPendingCommit=null,p()),Wu=0,Hb(),Rn=c,Lr=p=fl(c.current,null),Rr=d,gn=0,ql=null,rd=!1,rm=Rs(c,d),Ib=!1,nm=$l=Bb=b0=nd=Pa=0,Nl=Vp=null,Ub=!1,(d&8)!==0&&(d|=d&32);var y=c.entangledLanes;if(y!==0)for(c=c.entanglements,y&=d;0<y;){var S=31-br(y),C=1<<S;d|=c[S],y&=~C}return Vu=d,o0(),p}function rA(c,d){Jt=null,ne.H=Rp,d===Ce||d===be?(d=at(),gn=3):d===Ue?(d=at(),gn=4):gn=d===Nb?8:d!==null&&typeof d=="object"&&typeof d.then=="function"?6:1,ql=d,Lr===null&&(Pa=1,p1(c,dl(d,c.current)))}function nA(){var c=Gn.current;return c===null?!0:(Rr&4194048)===Rr?Wr===null:(Rr&62914560)===Rr||(Rr&536870912)!==0?c===Wr:!1}function aA(){var c=ne.H;return ne.H=Rp,c===null?Rp:c}function iA(){var c=ne.A;return ne.A=PU,c}function E1(){Pa=4,rd||(Rr&4194048)!==Rr&&Gn.current!==null||(rm=!0),(nd&134217727)===0&&(b0&134217727)===0||Rn===null||sd(Rn,Rr,$l,!1)}function Vb(c,d,p){var y=dn;dn|=2;var S=aA(),C=iA();(Rn!==c||Rr!==d)&&(S1=null,im(c,d)),d=!1;var K=Pa;e:do try{if(gn!==0&&Lr!==null){var ce=Lr,Ae=ql;switch(gn){case 8:Hb(),K=6;break e;case 3:case 2:case 9:case 6:Gn.current===null&&(d=!0);var $e=gn;if(gn=0,ql=null,sm(c,ce,Ae,$e),p&&rm){K=0;break e}break;default:$e=gn,gn=0,ql=null,sm(c,ce,Ae,$e)}}RU(),K=Pa;break}catch(rt){rA(c,rt)}while(!0);return d&&c.shellSuspendCounter++,wo=Gc=null,dn=y,ne.H=S,ne.A=C,Lr===null&&(Rn=null,Rr=0,o0()),K}function RU(){for(;Lr!==null;)sA(Lr)}function IU(c,d){var p=dn;dn|=2;var y=aA(),S=iA();Rn!==c||Rr!==d?(S1=null,j1=Et()+500,im(c,d)):rm=Rs(c,d);e:do try{if(gn!==0&&Lr!==null){d=Lr;var C=ql;t:switch(gn){case 1:gn=0,ql=null,sm(c,d,C,1);break;case 2:case 9:if(Le(C)){gn=0,ql=null,lA(d);break}d=function(){gn!==2&&gn!==9||Rn!==c||(gn=7),nu(c)},C.then(d,d);break e;case 3:gn=7;break e;case 4:gn=5;break e;case 7:Le(C)?(gn=0,ql=null,lA(d)):(gn=0,ql=null,sm(c,d,C,7));break;case 5:var K=null;switch(Lr.tag){case 26:K=Lr.memoizedState;case 5:case 27:var ce=Lr;if(K?WA(K):ce.stateNode.complete){gn=0,ql=null;var Ae=ce.sibling;if(Ae!==null)Lr=Ae;else{var $e=ce.return;$e!==null?(Lr=$e,k1($e)):Lr=null}break t}}gn=0,ql=null,sm(c,d,C,5);break;case 6:gn=0,ql=null,sm(c,d,C,6);break;case 8:Hb(),Pa=6;break e;default:throw Error(n(462))}}BU();break}catch(rt){rA(c,rt)}while(!0);return wo=Gc=null,ne.H=y,ne.A=S,dn=p,Lr!==null?0:(Rn=null,Rr=0,o0(),Pa)}function BU(){for(;Lr!==null&&!Ye();)sA(Lr)}function sA(c){var d=T6(c.alternate,c,Vu);c.memoizedProps=c.pendingProps,d===null?k1(c):Lr=d}function lA(c){var d=c,p=d.alternate;switch(d.tag){case 15:case 0:d=j6(p,d,d.pendingProps,d.type,void 0,Rr);break;case 11:d=j6(p,d,d.pendingProps,d.type.render,d.ref,Rr);break;case 5:Kh(d);default:D6(p,d),d=Lr=f0(d,Vu),d=T6(p,d,Vu)}c.memoizedProps=c.pendingProps,d===null?k1(c):Lr=d}function sm(c,d,p,y){wo=Gc=null,Kh(d),ot=null,qt=0;var S=d.return;try{if(EU(c,S,d,p,Rr)){Pa=1,p1(c,dl(p,c.current)),Lr=null;return}}catch(C){if(S!==null)throw Lr=S,C;Pa=1,p1(c,dl(p,c.current)),Lr=null;return}d.flags&32768?(Pr||y===1?c=!0:rm||(Rr&536870912)!==0?c=!1:(rd=c=!0,(y===2||y===9||y===3||y===6)&&(y=Gn.current,y!==null&&y.tag===13&&(y.flags|=16384))),oA(d,c)):k1(d)}function k1(c){var d=c;do{if((d.flags&32768)!==0){oA(d,rd);return}c=d.return;var p=TU(d.alternate,d,Vu);if(p!==null){Lr=p;return}if(d=d.sibling,d!==null){Lr=d;return}Lr=d=c}while(d!==null);Pa===0&&(Pa=5)}function oA(c,d){do{var p=OU(c.alternate,c);if(p!==null){p.flags&=32767,Lr=p;return}if(p=c.return,p!==null&&(p.flags|=32768,p.subtreeFlags=0,p.deletions=null),!d&&(c=c.sibling,c!==null)){Lr=c;return}Lr=c=p}while(c!==null);Pa=6,Lr=null}function cA(c,d,p,y,S,C,K,ce,Ae){c.cancelPendingCommit=null;do C1();while(bi!==0);if((dn&6)!==0)throw Error(n(327));if(d!==null){if(d===c.current)throw Error(n(177));if(C=d.lanes|d.childLanes,C|=Fh,Dl(c,p,C,K,ce,Ae),c===Rn&&(Lr=Rn=null,Rr=0),am=d,id=c,Wu=p,zb=C,qb=S,Z6=y,(d.subtreeFlags&10256)!==0||(d.flags&10256)!==0?(c.callbackNode=null,c.callbackPriority=0,$U(Mt,function(){return mA(),null})):(c.callbackNode=null,c.callbackPriority=0),y=(d.flags&13878)!==0,(d.subtreeFlags&13878)!==0||y){y=ne.T,ne.T=null,S=Z.p,Z.p=2,K=dn,dn|=4;try{DU(c,d,p)}finally{dn=K,Z.p=S,ne.T=y}}bi=1,uA(),fA(),dA()}}function uA(){if(bi===1){bi=0;var c=id,d=am,p=(d.flags&13878)!==0;if((d.subtreeFlags&13878)!==0||p){p=ne.T,ne.T=null;var y=Z.p;Z.p=2;var S=dn;dn|=4;try{H6(d,c);var C=nw,K=cc(c.containerInfo),ce=C.focusedElem,Ae=C.selectionRange;if(K!==ce&&ce&&ce.ownerDocument&&oc(ce.ownerDocument.documentElement,ce)){if(Ae!==null&&yo(ce)){var $e=Ae.start,rt=Ae.end;if(rt===void 0&&(rt=$e),"selectionStart"in ce)ce.selectionStart=$e,ce.selectionEnd=Math.min(rt,ce.value.length);else{var st=ce.ownerDocument||document,Ve=st&&st.defaultView||window;if(Ve.getSelection){var Ke=Ve.getSelection(),Ut=ce.textContent.length,or=Math.min(Ae.start,Ut),Tn=Ae.end===void 0?or:Math.min(Ae.end,Ut);!Ke.extend&&or>Tn&&(K=Tn,Tn=or,or=K);var Pe=Hf(ce,or),Oe=Hf(ce,Tn);if(Pe&&Oe&&(Ke.rangeCount!==1||Ke.anchorNode!==Pe.node||Ke.anchorOffset!==Pe.offset||Ke.focusNode!==Oe.node||Ke.focusOffset!==Oe.offset)){var qe=st.createRange();qe.setStart(Pe.node,Pe.offset),Ke.removeAllRanges(),or>Tn?(Ke.addRange(qe),Ke.extend(Oe.node,Oe.offset)):(qe.setEnd(Oe.node,Oe.offset),Ke.addRange(qe))}}}}for(st=[],Ke=ce;Ke=Ke.parentNode;)Ke.nodeType===1&&st.push({element:Ke,left:Ke.scrollLeft,top:Ke.scrollTop});for(typeof ce.focus=="function"&&ce.focus(),ce=0;ce<st.length;ce++){var it=st[ce];it.element.scrollLeft=it.left,it.element.scrollTop=it.top}}z1=!!rw,nw=rw=null}finally{dn=S,Z.p=y,ne.T=p}}c.current=d,bi=2}}function fA(){if(bi===2){bi=0;var c=id,d=am,p=(d.flags&8772)!==0;if((d.subtreeFlags&8772)!==0||p){p=ne.T,ne.T=null;var y=Z.p;Z.p=2;var S=dn;dn|=4;try{B6(c,d.alternate,d)}finally{dn=S,Z.p=y,ne.T=p}}bi=3}}function dA(){if(bi===4||bi===3){bi=0,pt();var c=id,d=am,p=Wu,y=Z6;(d.subtreeFlags&10256)!==0||(d.flags&10256)!==0?bi=5:(bi=0,am=id=null,hA(c,c.pendingLanes));var S=c.pendingLanes;if(S===0&&(ad=null),ra(p),d=d.stateNode,At&&typeof At.onCommitFiberRoot=="function")try{At.onCommitFiberRoot(Zt,d,void 0,(d.current.flags&128)===128)}catch{}if(y!==null){d=ne.T,S=Z.p,Z.p=2,ne.T=null;try{for(var C=c.onRecoverableError,K=0;K<y.length;K++){var ce=y[K];C(ce.value,{componentStack:ce.stack})}}finally{ne.T=d,Z.p=S}}(Wu&3)!==0&&C1(),nu(c),S=c.pendingLanes,(p&261930)!==0&&(S&42)!==0?c===$b?Wp++:(Wp=0,$b=c):Wp=0,Kp(0)}}function hA(c,d){(c.pooledCacheLanes&=d)===0&&(d=c.pooledCache,d!=null&&(c.pooledCache=null,m0(d)))}function C1(){return uA(),fA(),dA(),mA()}function mA(){if(bi!==5)return!1;var c=id,d=zb;zb=0;var p=ra(Wu),y=ne.T,S=Z.p;try{Z.p=32>p?32:p,ne.T=null,p=qb,qb=null;var C=id,K=Wu;if(bi=0,am=id=null,Wu=0,(dn&6)!==0)throw Error(n(331));var ce=dn;if(dn|=4,Y6(C.current),W6(C,C.current,K,p),dn=ce,Kp(0,!1),At&&typeof At.onPostCommitFiberRoot=="function")try{At.onPostCommitFiberRoot(Zt,C)}catch{}return!0}finally{Z.p=S,ne.T=y,hA(c,d)}}function pA(c,d,p){d=dl(p,d),d=wb(c.stateNode,d,2),c=wr(c,d,2),c!==null&&(Xt(c,2),nu(c))}function vn(c,d,p){if(c.tag===3)pA(c,c,p);else for(;d!==null;){if(d.tag===3){pA(d,c,p);break}else if(d.tag===1){var y=d.stateNode;if(typeof d.type.getDerivedStateFromError=="function"||typeof y.componentDidCatch=="function"&&(ad===null||!ad.has(y))){c=dl(p,c),p=x6(2),y=wr(d,p,2),y!==null&&(g6(p,y,d,c),Xt(y,2),nu(y));break}}d=d.return}}function Wb(c,d,p){var y=c.pingCache;if(y===null){y=c.pingCache=new LU;var S=new Set;y.set(d,S)}else S=y.get(d),S===void 0&&(S=new Set,y.set(d,S));S.has(p)||(Ib=!0,S.add(p),c=UU.bind(null,c,d,p),d.then(c,c))}function UU(c,d,p){var y=c.pingCache;y!==null&&y.delete(d),c.pingedLanes|=c.suspendedLanes&p,c.warmLanes&=~p,Rn===c&&(Rr&p)===p&&(Pa===4||Pa===3&&(Rr&62914560)===Rr&&300>Et()-_1?(dn&2)===0&&im(c,0):Bb|=p,nm===Rr&&(nm=0)),nu(c)}function xA(c,d){d===0&&(d=il()),c=fc(c,d),c!==null&&(Xt(c,d),nu(c))}function zU(c){var d=c.memoizedState,p=0;d!==null&&(p=d.retryLane),xA(c,p)}function qU(c,d){var p=0;switch(c.tag){case 31:case 13:var y=c.stateNode,S=c.memoizedState;S!==null&&(p=S.retryLane);break;case 19:y=c.stateNode;break;case 22:y=c.stateNode._retryCache;break;default:throw Error(n(314))}y!==null&&y.delete(d),xA(c,p)}function $U(c,d){return Ct(c,d)}var T1=null,lm=null,Kb=!1,O1=!1,Gb=!1,ld=0;function nu(c){c!==lm&&c.next===null&&(lm===null?T1=lm=c:lm=lm.next=c),O1=!0,Kb||(Kb=!0,VU())}function Kp(c,d){if(!Gb&&O1){Gb=!0;do for(var p=!1,y=T1;y!==null;){if(c!==0){var S=y.pendingLanes;if(S===0)var C=0;else{var K=y.suspendedLanes,ce=y.pingedLanes;C=(1<<31-br(42|c)+1)-1,C&=S&~(K&~ce),C=C&201326741?C&201326741|1:C?C|2:0}C!==0&&(p=!0,bA(y,C))}else C=Rr,C=Fr(y,y===Rn?C:0,y.cancelPendingCommit!==null||y.timeoutHandle!==-1),(C&3)===0||Rs(y,C)||(p=!0,bA(y,C));y=y.next}while(p);Gb=!1}}function HU(){gA()}function gA(){O1=Kb=!1;var c=0;ld!==0&&tz()&&(c=ld);for(var d=Et(),p=null,y=T1;y!==null;){var S=y.next,C=vA(y,d);C===0?(y.next=null,p===null?T1=S:p.next=S,S===null&&(lm=p)):(p=y,(c!==0||(C&3)!==0)&&(O1=!0)),y=S}bi!==0&&bi!==5||Kp(c),ld!==0&&(ld=0)}function vA(c,d){for(var p=c.suspendedLanes,y=c.pingedLanes,S=c.expirationTimes,C=c.pendingLanes&-62914561;0<C;){var K=31-br(C),ce=1<<K,Ae=S[K];Ae===-1?((ce&p)===0||(ce&y)!==0)&&(S[K]=Ja(ce,d)):Ae<=d&&(c.expiredLanes|=ce),C&=~ce}if(d=Rn,p=Rr,p=Fr(c,c===d?p:0,c.cancelPendingCommit!==null||c.timeoutHandle!==-1),y=c.callbackNode,p===0||c===d&&(gn===2||gn===9)||c.cancelPendingCommit!==null)return y!==null&&y!==null&&xt(y),c.callbackNode=null,c.callbackPriority=0;if((p&3)===0||Rs(c,p)){if(d=p&-p,d===c.callbackPriority)return d;switch(y!==null&&xt(y),ra(p)){case 2:case 8:p=Ar;break;case 32:p=Mt;break;case 268435456:p=yt;break;default:p=Mt}return y=yA.bind(null,c),p=Ct(p,y),c.callbackPriority=d,c.callbackNode=p,d}return y!==null&&y!==null&&xt(y),c.callbackPriority=2,c.callbackNode=null,2}function yA(c,d){if(bi!==0&&bi!==5)return c.callbackNode=null,c.callbackPriority=0,null;var p=c.callbackNode;if(C1()&&c.callbackNode!==p)return null;var y=Rr;return y=Fr(c,c===Rn?y:0,c.cancelPendingCommit!==null||c.timeoutHandle!==-1),y===0?null:(eA(c,y,d),vA(c,Et()),c.callbackNode!=null&&c.callbackNode===p?yA.bind(null,c):null)}function bA(c,d){if(C1())return null;eA(c,d,!0)}function VU(){nz(function(){(dn&6)!==0?Ct(Kt,HU):gA()})}function Yb(){if(ld===0){var c=_;c===0&&(c=pn,pn<<=1,(pn&261888)===0&&(pn=256)),ld=c}return ld}function wA(c){return c==null||typeof c=="symbol"||typeof c=="boolean"?null:typeof c=="function"?c:Ll(""+c)}function NA(c,d){var p=d.ownerDocument.createElement("input");return p.name=d.name,p.value=d.value,c.id&&p.setAttribute("form",c.id),d.parentNode.insertBefore(p,d),c=new FormData(c),p.parentNode.removeChild(p),c}function WU(c,d,p,y,S){if(d==="submit"&&p&&p.stateNode===S){var C=wA((S[ye]||null).action),K=y.submitter;K&&(d=(d=K[ye]||null)?wA(d.formAction):K.getAttribute("formAction"),d!==null&&(C=d,K=null));var ce=new uo("action","action",null,y,S);c.push({event:ce,listeners:[{instance:null,listener:function(){if(y.defaultPrevented){if(ld!==0){var Ae=K?NA(S,K):new FormData(S);pb(p,{pending:!0,data:Ae,method:S.method,action:C},null,Ae)}}else typeof C=="function"&&(ce.preventDefault(),Ae=K?NA(S,K):new FormData(S),pb(p,{pending:!0,data:Ae,method:S.method,action:C},C,Ae))},currentTarget:S}]})}}for(var Xb=0;Xb<Ou.length;Xb++){var Qb=Ou[Xb],KU=Qb.toLowerCase(),GU=Qb[0].toUpperCase()+Qb.slice(1);ul(KU,"on"+GU)}ul(Tu,"onAnimationEnd"),ul(s0,"onAnimationIteration"),ul(Np,"onAnimationStart"),ul("dblclick","onDoubleClick"),ul("focusin","onFocus"),ul("focusout","onBlur"),ul(r1,"onTransitionRun"),ul(n1,"onTransitionStart"),ul(a1,"onTransitionCancel"),ul(_p,"onTransitionEnd"),Ki("onMouseEnter",["mouseout","mouseover"]),Ki("onMouseLeave",["mouseout","mouseover"]),Ki("onPointerEnter",["pointerout","pointerover"]),Ki("onPointerLeave",["pointerout","pointerover"]),hn("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),hn("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),hn("onBeforeInput",["compositionend","keypress","textInput","paste"]),hn("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),hn("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),hn("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Gp="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),YU=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(Gp));function _A(c,d){d=(d&4)!==0;for(var p=0;p<c.length;p++){var y=c[p],S=y.event;y=y.listeners;e:{var C=void 0;if(d)for(var K=y.length-1;0<=K;K--){var ce=y[K],Ae=ce.instance,$e=ce.currentTarget;if(ce=ce.listener,Ae!==C&&S.isPropagationStopped())break e;C=ce,S.currentTarget=$e;try{C(S)}catch(rt){l0(rt)}S.currentTarget=null,C=Ae}else for(K=0;K<y.length;K++){if(ce=y[K],Ae=ce.instance,$e=ce.currentTarget,ce=ce.listener,Ae!==C&&S.isPropagationStopped())break e;C=ce,S.currentTarget=$e;try{C(S)}catch(rt){l0(rt)}S.currentTarget=null,C=Ae}}}}function Mr(c,d){var p=d[Me];p===void 0&&(p=d[Me]=new Set);var y=c+"__bubble";p.has(y)||(jA(d,c,2,!1),p.add(y))}function Zb(c,d,p){var y=0;d&&(y|=4),jA(p,c,y,d)}var D1="_reactListening"+Math.random().toString(36).slice(2);function Jb(c){if(!c[D1]){c[D1]=!0,cn.forEach(function(p){p!=="selectionchange"&&(YU.has(p)||Zb(p,!1,c),Zb(p,!0,c))});var d=c.nodeType===9?c:c.ownerDocument;d===null||d[D1]||(d[D1]=!0,Zb("selectionchange",!1,d))}}function jA(c,d,p,y){switch(JA(d)){case 2:var S=_z;break;case 8:S=jz;break;default:S=mw}p=S.bind(null,d,p,c),S=void 0,!n0||d!=="touchstart"&&d!=="touchmove"&&d!=="wheel"||(S=!0),y?S!==void 0?c.addEventListener(d,p,{capture:!0,passive:S}):c.addEventListener(d,p,!0):S!==void 0?c.addEventListener(d,p,{passive:S}):c.addEventListener(d,p,!1)}function ew(c,d,p,y,S){var C=y;if((d&1)===0&&(d&2)===0&&y!==null)e:for(;;){if(y===null)return;var K=y.tag;if(K===3||K===4){var ce=y.stateNode.containerInfo;if(ce===S)break;if(K===4)for(K=y.return;K!==null;){var Ae=K.tag;if((Ae===3||Ae===4)&&K.stateNode.containerInfo===S)return;K=K.return}for(;ce!==null;){if(K=gt(ce),K===null)return;if(Ae=K.tag,Ae===5||Ae===6||Ae===26||Ae===27){y=C=K;continue e}ce=ce.parentNode}}y=y.return}Eh(function(){var $e=C,rt=wu(p),st=[];e:{var Ve=jp.get(c);if(Ve!==void 0){var Ke=uo,Ut=c;switch(c){case"keypress":if(Jo(p)===0)break e;case"keydown":case"keyup":Ke=Yr;break;case"focusin":Ut="focus",Ke=nc;break;case"focusout":Ut="blur",Ke=nc;break;case"beforeblur":case"afterblur":Ke=nc;break;case"click":if(p.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":Ke=fo;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":Ke=kh;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":Ke=za;break;case Tu:case s0:case Np:Ke=I;break;case _p:Ke=di;break;case"scroll":case"scrollend":Ke=Rf;break;case"wheel":Ke=fs;break;case"copy":case"cut":case"paste":Ke=_e;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":Ke=ga;break;case"toggle":case"beforetoggle":Ke=If}var or=(d&4)!==0,Tn=!or&&(c==="scroll"||c==="scrollend"),Pe=or?Ve!==null?Ve+"Capture":null:Ve;or=[];for(var Oe=$e,qe;Oe!==null;){var it=Oe;if(qe=it.stateNode,it=it.tag,it!==5&&it!==26&&it!==27||qe===null||Pe===null||(it=Us(Oe,Pe),it!=null&&or.push(Yp(Oe,it,qe))),Tn)break;Oe=Oe.return}0<or.length&&(Ve=new Ke(Ve,Ut,null,p,rt),st.push({event:Ve,listeners:or}))}}if((d&7)===0){e:{if(Ve=c==="mouseover"||c==="pointerover",Ke=c==="mouseout"||c==="pointerout",Ve&&p!==Zo&&(Ut=p.relatedTarget||p.fromElement)&&(gt(Ut)||Ut[je]))break e;if((Ke||Ve)&&(Ve=rt.window===rt?rt:(Ve=rt.ownerDocument)?Ve.defaultView||Ve.parentWindow:window,Ke?(Ut=p.relatedTarget||p.toElement,Ke=$e,Ut=Ut?gt(Ut):null,Ut!==null&&(Tn=i(Ut),or=Ut.tag,Ut!==Tn||or!==5&&or!==27&&or!==6)&&(Ut=null)):(Ke=null,Ut=$e),Ke!==Ut)){if(or=fo,it="onMouseLeave",Pe="onMouseEnter",Oe="mouse",(c==="pointerout"||c==="pointerover")&&(or=ga,it="onPointerLeave",Pe="onPointerEnter",Oe="pointer"),Tn=Ke==null?Ve:mt(Ke),qe=Ut==null?Ve:mt(Ut),Ve=new or(it,Oe+"leave",Ke,p,rt),Ve.target=Tn,Ve.relatedTarget=qe,it=null,gt(rt)===$e&&(or=new or(Pe,Oe+"enter",Ut,p,rt),or.target=qe,or.relatedTarget=Tn,it=or),Tn=it,Ke&&Ut)t:{for(or=XU,Pe=Ke,Oe=Ut,qe=0,it=Pe;it;it=or(it))qe++;it=0;for(var rr=Oe;rr;rr=or(rr))it++;for(;0<qe-it;)Pe=or(Pe),qe--;for(;0<it-qe;)Oe=or(Oe),it--;for(;qe--;){if(Pe===Oe||Oe!==null&&Pe===Oe.alternate){or=Pe;break t}Pe=or(Pe),Oe=or(Oe)}or=null}else or=null;Ke!==null&&SA(st,Ve,Ke,or,!1),Ut!==null&&Tn!==null&&SA(st,Tn,Ut,or,!0)}}e:{if(Ve=$e?mt($e):window,Ke=Ve.nodeName&&Ve.nodeName.toLowerCase(),Ke==="select"||Ke==="input"&&Ve.type==="file")var rn=Hc;else if(a0(Ve))if(ds)rn=go;else{rn=va;var Wt=qf}else Ke=Ve.nodeName,!Ke||Ke.toLowerCase()!=="input"||Ve.type!=="checkbox"&&Ve.type!=="radio"?$e&&e0($e.elementType)&&(rn=Hc):rn=Dh;if(rn&&(rn=rn(c,$e))){$s(st,rn,p,rt);break e}Wt&&Wt(c,Ve,$e),c==="focusout"&&$e&&Ve.type==="number"&&$e.memoizedProps.value!=null&&Xd(Ve,"number",Ve.value)}switch(Wt=$e?mt($e):window,c){case"focusin":(a0(Wt)||Wt.contentEditable==="true")&&(Hs=Wt,uc=$e,Di=null);break;case"focusout":Di=uc=Hs=null;break;case"mousedown":cl=!0;break;case"contextmenu":case"mouseup":case"dragend":cl=!1,Xr(st,p,rt);break;case"selectionchange":if(Cu)break;case"keydown":case"keyup":Xr(st,p,rt)}var jr;if(ho)e:{switch(c){case"compositionstart":var Ir="onCompositionStart";break e;case"compositionend":Ir="onCompositionEnd";break e;case"compositionupdate":Ir="onCompositionUpdate";break e}Ir=void 0}else mo?$c(c,p)&&(Ir="onCompositionEnd"):c==="keydown"&&p.keyCode===229&&(Ir="onCompositionStart");Ir&&(zc&&p.locale!=="ko"&&(mo||Ir!=="onCompositionStart"?Ir==="onCompositionEnd"&&mo&&(jr=ju()):(zs=rt,_u="value"in zs?zs.value:zs.textContent,mo=!0)),Wt=F1($e,Ir),0<Wt.length&&(Ir=new Fe(Ir,c,null,p,rt),st.push({event:Ir,listeners:Wt}),jr?Ir.data=jr:(jr=Bf(p),jr!==null&&(Ir.data=jr)))),(jr=ku?na(c,p):ac(c,p))&&(Ir=F1($e,"onBeforeInput"),0<Ir.length&&(Wt=new Fe("onBeforeInput","beforeinput",null,p,rt),st.push({event:Wt,listeners:Ir}),Wt.data=jr)),WU(st,c,$e,p,rt)}_A(st,d)})}function Yp(c,d,p){return{instance:c,listener:d,currentTarget:p}}function F1(c,d){for(var p=d+"Capture",y=[];c!==null;){var S=c,C=S.stateNode;if(S=S.tag,S!==5&&S!==26&&S!==27||C===null||(S=Us(c,p),S!=null&&y.unshift(Yp(c,S,C)),S=Us(c,d),S!=null&&y.push(Yp(c,S,C))),c.tag===3)return y;c=c.return}return[]}function XU(c){if(c===null)return null;do c=c.return;while(c&&c.tag!==5&&c.tag!==27);return c||null}function SA(c,d,p,y,S){for(var C=d._reactName,K=[];p!==null&&p!==y;){var ce=p,Ae=ce.alternate,$e=ce.stateNode;if(ce=ce.tag,Ae!==null&&Ae===y)break;ce!==5&&ce!==26&&ce!==27||$e===null||(Ae=$e,S?($e=Us(p,C),$e!=null&&K.unshift(Yp(p,$e,Ae))):S||($e=Us(p,C),$e!=null&&K.push(Yp(p,$e,Ae)))),p=p.return}K.length!==0&&c.push({event:d,listeners:K})}var QU=/\r\n?/g,ZU=/\u0000|\uFFFD/g;function AA(c){return(typeof c=="string"?c:""+c).replace(QU,`
`).replace(ZU,"")}function EA(c,d){return d=AA(d),AA(c)===d}function Cn(c,d,p,y,S,C){switch(p){case"children":typeof y=="string"?d==="body"||d==="textarea"&&y===""||Bs(c,y):(typeof y=="number"||typeof y=="bigint")&&d!=="body"&&Bs(c,""+y);break;case"className":Pf(c,"class",y);break;case"tabIndex":Pf(c,"tabindex",y);break;case"dir":case"role":case"viewBox":case"width":case"height":Pf(c,p,y);break;case"style":Sh(c,y,C);break;case"data":if(d!=="object"){Pf(c,"data",y);break}case"src":case"href":if(y===""&&(d!=="a"||p!=="href")){c.removeAttribute(p);break}if(y==null||typeof y=="function"||typeof y=="symbol"||typeof y=="boolean"){c.removeAttribute(p);break}y=Ll(""+y),c.setAttribute(p,y);break;case"action":case"formAction":if(typeof y=="function"){c.setAttribute(p,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof C=="function"&&(p==="formAction"?(d!=="input"&&Cn(c,d,"name",S.name,S,null),Cn(c,d,"formEncType",S.formEncType,S,null),Cn(c,d,"formMethod",S.formMethod,S,null),Cn(c,d,"formTarget",S.formTarget,S,null)):(Cn(c,d,"encType",S.encType,S,null),Cn(c,d,"method",S.method,S,null),Cn(c,d,"target",S.target,S,null)));if(y==null||typeof y=="symbol"||typeof y=="boolean"){c.removeAttribute(p);break}y=Ll(""+y),c.setAttribute(p,y);break;case"onClick":y!=null&&(c.onclick=Ml);break;case"onScroll":y!=null&&Mr("scroll",c);break;case"onScrollEnd":y!=null&&Mr("scrollend",c);break;case"dangerouslySetInnerHTML":if(y!=null){if(typeof y!="object"||!("__html"in y))throw Error(n(61));if(p=y.__html,p!=null){if(S.children!=null)throw Error(n(60));c.innerHTML=p}}break;case"multiple":c.multiple=y&&typeof y!="function"&&typeof y!="symbol";break;case"muted":c.muted=y&&typeof y!="function"&&typeof y!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(y==null||typeof y=="function"||typeof y=="boolean"||typeof y=="symbol"){c.removeAttribute("xlink:href");break}p=Ll(""+y),c.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",p);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":y!=null&&typeof y!="function"&&typeof y!="symbol"?c.setAttribute(p,""+y):c.removeAttribute(p);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":y&&typeof y!="function"&&typeof y!="symbol"?c.setAttribute(p,""):c.removeAttribute(p);break;case"capture":case"download":y===!0?c.setAttribute(p,""):y!==!1&&y!=null&&typeof y!="function"&&typeof y!="symbol"?c.setAttribute(p,y):c.removeAttribute(p);break;case"cols":case"rows":case"size":case"span":y!=null&&typeof y!="function"&&typeof y!="symbol"&&!isNaN(y)&&1<=y?c.setAttribute(p,y):c.removeAttribute(p);break;case"rowSpan":case"start":y==null||typeof y=="function"||typeof y=="symbol"||isNaN(y)?c.removeAttribute(p):c.setAttribute(p,y);break;case"popover":Mr("beforetoggle",c),Mr("toggle",c),Ua(c,"popover",y);break;case"xlinkActuate":mn(c,"http://www.w3.org/1999/xlink","xlink:actuate",y);break;case"xlinkArcrole":mn(c,"http://www.w3.org/1999/xlink","xlink:arcrole",y);break;case"xlinkRole":mn(c,"http://www.w3.org/1999/xlink","xlink:role",y);break;case"xlinkShow":mn(c,"http://www.w3.org/1999/xlink","xlink:show",y);break;case"xlinkTitle":mn(c,"http://www.w3.org/1999/xlink","xlink:title",y);break;case"xlinkType":mn(c,"http://www.w3.org/1999/xlink","xlink:type",y);break;case"xmlBase":mn(c,"http://www.w3.org/XML/1998/namespace","xml:base",y);break;case"xmlLang":mn(c,"http://www.w3.org/XML/1998/namespace","xml:lang",y);break;case"xmlSpace":mn(c,"http://www.w3.org/XML/1998/namespace","xml:space",y);break;case"is":Ua(c,"is",y);break;case"innerText":case"textContent":break;default:(!(2<p.length)||p[0]!=="o"&&p[0]!=="O"||p[1]!=="n"&&p[1]!=="N")&&(p=t0.get(p)||p,Ua(c,p,y))}}function tw(c,d,p,y,S,C){switch(p){case"style":Sh(c,y,C);break;case"dangerouslySetInnerHTML":if(y!=null){if(typeof y!="object"||!("__html"in y))throw Error(n(61));if(p=y.__html,p!=null){if(S.children!=null)throw Error(n(60));c.innerHTML=p}}break;case"children":typeof y=="string"?Bs(c,y):(typeof y=="number"||typeof y=="bigint")&&Bs(c,""+y);break;case"onScroll":y!=null&&Mr("scroll",c);break;case"onScrollEnd":y!=null&&Mr("scrollend",c);break;case"onClick":y!=null&&(c.onclick=Ml);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!Cr.hasOwnProperty(p))e:{if(p[0]==="o"&&p[1]==="n"&&(S=p.endsWith("Capture"),d=p.slice(2,S?p.length-7:void 0),C=c[ye]||null,C=C!=null?C[p]:null,typeof C=="function"&&c.removeEventListener(d,C,S),typeof y=="function")){typeof C!="function"&&C!==null&&(p in c?c[p]=null:c.hasAttribute(p)&&c.removeAttribute(p)),c.addEventListener(d,y,S);break e}p in c?c[p]=y:y===!0?c.setAttribute(p,""):Ua(c,p,y)}}}function es(c,d,p){switch(d){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":Mr("error",c),Mr("load",c);var y=!1,S=!1,C;for(C in p)if(p.hasOwnProperty(C)){var K=p[C];if(K!=null)switch(C){case"src":y=!0;break;case"srcSet":S=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(n(137,d));default:Cn(c,d,C,K,p,null)}}S&&Cn(c,d,"srcSet",p.srcSet,p,null),y&&Cn(c,d,"src",p.src,p,null);return;case"input":Mr("invalid",c);var ce=C=K=S=null,Ae=null,$e=null;for(y in p)if(p.hasOwnProperty(y)){var rt=p[y];if(rt!=null)switch(y){case"name":S=rt;break;case"type":K=rt;break;case"checked":Ae=rt;break;case"defaultChecked":$e=rt;break;case"value":C=rt;break;case"defaultValue":ce=rt;break;case"children":case"dangerouslySetInnerHTML":if(rt!=null)throw Error(n(137,d));break;default:Cn(c,d,y,rt,p,null)}}_h(c,C,ce,Ae,$e,K,S,!1);return;case"select":Mr("invalid",c),y=K=C=null;for(S in p)if(p.hasOwnProperty(S)&&(ce=p[S],ce!=null))switch(S){case"value":C=ce;break;case"defaultValue":K=ce;break;case"multiple":y=ce;default:Cn(c,d,S,ce,p,null)}d=C,p=K,c.multiple=!!y,d!=null?Yi(c,!!y,d,!1):p!=null&&Yi(c,!!y,p,!0);return;case"textarea":Mr("invalid",c),C=S=y=null;for(K in p)if(p.hasOwnProperty(K)&&(ce=p[K],ce!=null))switch(K){case"value":y=ce;break;case"defaultValue":S=ce;break;case"children":C=ce;break;case"dangerouslySetInnerHTML":if(ce!=null)throw Error(n(91));break;default:Cn(c,d,K,ce,p,null)}Zd(c,y,S,C);return;case"option":for(Ae in p)if(p.hasOwnProperty(Ae)&&(y=p[Ae],y!=null))switch(Ae){case"selected":c.selected=y&&typeof y!="function"&&typeof y!="symbol";break;default:Cn(c,d,Ae,y,p,null)}return;case"dialog":Mr("beforetoggle",c),Mr("toggle",c),Mr("cancel",c),Mr("close",c);break;case"iframe":case"object":Mr("load",c);break;case"video":case"audio":for(y=0;y<Gp.length;y++)Mr(Gp[y],c);break;case"image":Mr("error",c),Mr("load",c);break;case"details":Mr("toggle",c);break;case"embed":case"source":case"link":Mr("error",c),Mr("load",c);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for($e in p)if(p.hasOwnProperty($e)&&(y=p[$e],y!=null))switch($e){case"children":case"dangerouslySetInnerHTML":throw Error(n(137,d));default:Cn(c,d,$e,y,p,null)}return;default:if(e0(d)){for(rt in p)p.hasOwnProperty(rt)&&(y=p[rt],y!==void 0&&tw(c,d,rt,y,p,void 0));return}}for(ce in p)p.hasOwnProperty(ce)&&(y=p[ce],y!=null&&Cn(c,d,ce,y,p,null))}function JU(c,d,p,y){switch(d){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var S=null,C=null,K=null,ce=null,Ae=null,$e=null,rt=null;for(Ke in p){var st=p[Ke];if(p.hasOwnProperty(Ke)&&st!=null)switch(Ke){case"checked":break;case"value":break;case"defaultValue":Ae=st;default:y.hasOwnProperty(Ke)||Cn(c,d,Ke,null,y,st)}}for(var Ve in y){var Ke=y[Ve];if(st=p[Ve],y.hasOwnProperty(Ve)&&(Ke!=null||st!=null))switch(Ve){case"type":C=Ke;break;case"name":S=Ke;break;case"checked":$e=Ke;break;case"defaultChecked":rt=Ke;break;case"value":K=Ke;break;case"defaultValue":ce=Ke;break;case"children":case"dangerouslySetInnerHTML":if(Ke!=null)throw Error(n(137,d));break;default:Ke!==st&&Cn(c,d,Ve,Ke,y,st)}}Yd(c,K,ce,Ae,$e,rt,C,S);return;case"select":Ke=K=ce=Ve=null;for(C in p)if(Ae=p[C],p.hasOwnProperty(C)&&Ae!=null)switch(C){case"value":break;case"multiple":Ke=Ae;default:y.hasOwnProperty(C)||Cn(c,d,C,null,y,Ae)}for(S in y)if(C=y[S],Ae=p[S],y.hasOwnProperty(S)&&(C!=null||Ae!=null))switch(S){case"value":Ve=C;break;case"defaultValue":ce=C;break;case"multiple":K=C;default:C!==Ae&&Cn(c,d,S,C,y,Ae)}d=ce,p=K,y=Ke,Ve!=null?Yi(c,!!p,Ve,!1):!!y!=!!p&&(d!=null?Yi(c,!!p,d,!0):Yi(c,!!p,p?[]:"",!1));return;case"textarea":Ke=Ve=null;for(ce in p)if(S=p[ce],p.hasOwnProperty(ce)&&S!=null&&!y.hasOwnProperty(ce))switch(ce){case"value":break;case"children":break;default:Cn(c,d,ce,null,y,S)}for(K in y)if(S=y[K],C=p[K],y.hasOwnProperty(K)&&(S!=null||C!=null))switch(K){case"value":Ve=S;break;case"defaultValue":Ke=S;break;case"children":break;case"dangerouslySetInnerHTML":if(S!=null)throw Error(n(91));break;default:S!==C&&Cn(c,d,K,S,y,C)}Qd(c,Ve,Ke);return;case"option":for(var Ut in p)if(Ve=p[Ut],p.hasOwnProperty(Ut)&&Ve!=null&&!y.hasOwnProperty(Ut))switch(Ut){case"selected":c.selected=!1;break;default:Cn(c,d,Ut,null,y,Ve)}for(Ae in y)if(Ve=y[Ae],Ke=p[Ae],y.hasOwnProperty(Ae)&&Ve!==Ke&&(Ve!=null||Ke!=null))switch(Ae){case"selected":c.selected=Ve&&typeof Ve!="function"&&typeof Ve!="symbol";break;default:Cn(c,d,Ae,Ve,y,Ke)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var or in p)Ve=p[or],p.hasOwnProperty(or)&&Ve!=null&&!y.hasOwnProperty(or)&&Cn(c,d,or,null,y,Ve);for($e in y)if(Ve=y[$e],Ke=p[$e],y.hasOwnProperty($e)&&Ve!==Ke&&(Ve!=null||Ke!=null))switch($e){case"children":case"dangerouslySetInnerHTML":if(Ve!=null)throw Error(n(137,d));break;default:Cn(c,d,$e,Ve,y,Ke)}return;default:if(e0(d)){for(var Tn in p)Ve=p[Tn],p.hasOwnProperty(Tn)&&Ve!==void 0&&!y.hasOwnProperty(Tn)&&tw(c,d,Tn,void 0,y,Ve);for(rt in y)Ve=y[rt],Ke=p[rt],!y.hasOwnProperty(rt)||Ve===Ke||Ve===void 0&&Ke===void 0||tw(c,d,rt,Ve,y,Ke);return}}for(var Pe in p)Ve=p[Pe],p.hasOwnProperty(Pe)&&Ve!=null&&!y.hasOwnProperty(Pe)&&Cn(c,d,Pe,null,y,Ve);for(st in y)Ve=y[st],Ke=p[st],!y.hasOwnProperty(st)||Ve===Ke||Ve==null&&Ke==null||Cn(c,d,st,Ve,y,Ke)}function kA(c){switch(c){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function ez(){if(typeof performance.getEntriesByType=="function"){for(var c=0,d=0,p=performance.getEntriesByType("resource"),y=0;y<p.length;y++){var S=p[y],C=S.transferSize,K=S.initiatorType,ce=S.duration;if(C&&ce&&kA(K)){for(K=0,ce=S.responseEnd,y+=1;y<p.length;y++){var Ae=p[y],$e=Ae.startTime;if($e>ce)break;var rt=Ae.transferSize,st=Ae.initiatorType;rt&&kA(st)&&(Ae=Ae.responseEnd,K+=rt*(Ae<ce?1:(ce-$e)/(Ae-$e)))}if(--y,d+=8*(C+K)/(S.duration/1e3),c++,10<c)break}}if(0<c)return d/c/1e6}return navigator.connection&&(c=navigator.connection.downlink,typeof c=="number")?c:5}var rw=null,nw=null;function P1(c){return c.nodeType===9?c:c.ownerDocument}function CA(c){switch(c){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function TA(c,d){if(c===0)switch(d){case"svg":return 1;case"math":return 2;default:return 0}return c===1&&d==="foreignObject"?0:c}function aw(c,d){return c==="textarea"||c==="noscript"||typeof d.children=="string"||typeof d.children=="number"||typeof d.children=="bigint"||typeof d.dangerouslySetInnerHTML=="object"&&d.dangerouslySetInnerHTML!==null&&d.dangerouslySetInnerHTML.__html!=null}var iw=null;function tz(){var c=window.event;return c&&c.type==="popstate"?c===iw?!1:(iw=c,!0):(iw=null,!1)}var OA=typeof setTimeout=="function"?setTimeout:void 0,rz=typeof clearTimeout=="function"?clearTimeout:void 0,DA=typeof Promise=="function"?Promise:void 0,nz=typeof queueMicrotask=="function"?queueMicrotask:typeof DA<"u"?function(c){return DA.resolve(null).then(c).catch(az)}:OA;function az(c){setTimeout(function(){throw c})}function od(c){return c==="head"}function FA(c,d){var p=d,y=0;do{var S=p.nextSibling;if(c.removeChild(p),S&&S.nodeType===8)if(p=S.data,p==="/$"||p==="/&"){if(y===0){c.removeChild(S),fm(d);return}y--}else if(p==="$"||p==="$?"||p==="$~"||p==="$!"||p==="&")y++;else if(p==="html")Xp(c.ownerDocument.documentElement);else if(p==="head"){p=c.ownerDocument.head,Xp(p);for(var C=p.firstChild;C;){var K=C.nextSibling,ce=C.nodeName;C[ze]||ce==="SCRIPT"||ce==="STYLE"||ce==="LINK"&&C.rel.toLowerCase()==="stylesheet"||p.removeChild(C),C=K}}else p==="body"&&Xp(c.ownerDocument.body);p=S}while(p);fm(d)}function PA(c,d){var p=c;c=0;do{var y=p.nextSibling;if(p.nodeType===1?d?(p._stashedDisplay=p.style.display,p.style.display="none"):(p.style.display=p._stashedDisplay||"",p.getAttribute("style")===""&&p.removeAttribute("style")):p.nodeType===3&&(d?(p._stashedText=p.nodeValue,p.nodeValue=""):p.nodeValue=p._stashedText||""),y&&y.nodeType===8)if(p=y.data,p==="/$"){if(c===0)break;c--}else p!=="$"&&p!=="$?"&&p!=="$~"&&p!=="$!"||c++;p=y}while(p)}function sw(c){var d=c.firstChild;for(d&&d.nodeType===10&&(d=d.nextSibling);d;){var p=d;switch(d=d.nextSibling,p.nodeName){case"HTML":case"HEAD":case"BODY":sw(p),ft(p);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(p.rel.toLowerCase()==="stylesheet")continue}c.removeChild(p)}}function iz(c,d,p,y){for(;c.nodeType===1;){var S=p;if(c.nodeName.toLowerCase()!==d.toLowerCase()){if(!y&&(c.nodeName!=="INPUT"||c.type!=="hidden"))break}else if(y){if(!c[ze])switch(d){case"meta":if(!c.hasAttribute("itemprop"))break;return c;case"link":if(C=c.getAttribute("rel"),C==="stylesheet"&&c.hasAttribute("data-precedence"))break;if(C!==S.rel||c.getAttribute("href")!==(S.href==null||S.href===""?null:S.href)||c.getAttribute("crossorigin")!==(S.crossOrigin==null?null:S.crossOrigin)||c.getAttribute("title")!==(S.title==null?null:S.title))break;return c;case"style":if(c.hasAttribute("data-precedence"))break;return c;case"script":if(C=c.getAttribute("src"),(C!==(S.src==null?null:S.src)||c.getAttribute("type")!==(S.type==null?null:S.type)||c.getAttribute("crossorigin")!==(S.crossOrigin==null?null:S.crossOrigin))&&C&&c.hasAttribute("async")&&!c.hasAttribute("itemprop"))break;return c;default:return c}}else if(d==="input"&&c.type==="hidden"){var C=S.name==null?null:""+S.name;if(S.type==="hidden"&&c.getAttribute("name")===C)return c}else return c;if(c=jo(c.nextSibling),c===null)break}return null}function sz(c,d,p){if(d==="")return null;for(;c.nodeType!==3;)if((c.nodeType!==1||c.nodeName!=="INPUT"||c.type!=="hidden")&&!p||(c=jo(c.nextSibling),c===null))return null;return c}function LA(c,d){for(;c.nodeType!==8;)if((c.nodeType!==1||c.nodeName!=="INPUT"||c.type!=="hidden")&&!d||(c=jo(c.nextSibling),c===null))return null;return c}function lw(c){return c.data==="$?"||c.data==="$~"}function ow(c){return c.data==="$!"||c.data==="$?"&&c.ownerDocument.readyState!=="loading"}function lz(c,d){var p=c.ownerDocument;if(c.data==="$~")c._reactRetry=d;else if(c.data!=="$?"||p.readyState!=="loading")d();else{var y=function(){d(),p.removeEventListener("DOMContentLoaded",y)};p.addEventListener("DOMContentLoaded",y),c._reactRetry=y}}function jo(c){for(;c!=null;c=c.nextSibling){var d=c.nodeType;if(d===1||d===3)break;if(d===8){if(d=c.data,d==="$"||d==="$!"||d==="$?"||d==="$~"||d==="&"||d==="F!"||d==="F")break;if(d==="/$"||d==="/&")return null}}return c}var cw=null;function MA(c){c=c.nextSibling;for(var d=0;c;){if(c.nodeType===8){var p=c.data;if(p==="/$"||p==="/&"){if(d===0)return jo(c.nextSibling);d--}else p!=="$"&&p!=="$!"&&p!=="$?"&&p!=="$~"&&p!=="&"||d++}c=c.nextSibling}return null}function RA(c){c=c.previousSibling;for(var d=0;c;){if(c.nodeType===8){var p=c.data;if(p==="$"||p==="$!"||p==="$?"||p==="$~"||p==="&"){if(d===0)return c;d--}else p!=="/$"&&p!=="/&"||d++}c=c.previousSibling}return null}function IA(c,d,p){switch(d=P1(p),c){case"html":if(c=d.documentElement,!c)throw Error(n(452));return c;case"head":if(c=d.head,!c)throw Error(n(453));return c;case"body":if(c=d.body,!c)throw Error(n(454));return c;default:throw Error(n(451))}}function Xp(c){for(var d=c.attributes;d.length;)c.removeAttributeNode(d[0]);ft(c)}var So=new Map,BA=new Set;function L1(c){return typeof c.getRootNode=="function"?c.getRootNode():c.nodeType===9?c:c.ownerDocument}var Ku=Z.d;Z.d={f:oz,r:cz,D:uz,C:fz,L:dz,m:hz,X:pz,S:mz,M:xz};function oz(){var c=Ku.f(),d=A1();return c||d}function cz(c){var d=St(c);d!==null&&d.tag===5&&d.type==="form"?r6(d):Ku.r(c)}var om=typeof document>"u"?null:document;function UA(c,d,p){var y=om;if(y&&typeof d=="string"&&d){var S=Oi(d);S='link[rel="'+c+'"][href="'+S+'"]',typeof p=="string"&&(S+='[crossorigin="'+p+'"]'),BA.has(S)||(BA.add(S),c={rel:c,crossOrigin:p,href:d},y.querySelector(S)===null&&(d=y.createElement("link"),es(d,"link",c),Lt(d),y.head.appendChild(d)))}}function uz(c){Ku.D(c),UA("dns-prefetch",c,null)}function fz(c,d){Ku.C(c,d),UA("preconnect",c,d)}function dz(c,d,p){Ku.L(c,d,p);var y=om;if(y&&c&&d){var S='link[rel="preload"][as="'+Oi(d)+'"]';d==="image"&&p&&p.imageSrcSet?(S+='[imagesrcset="'+Oi(p.imageSrcSet)+'"]',typeof p.imageSizes=="string"&&(S+='[imagesizes="'+Oi(p.imageSizes)+'"]')):S+='[href="'+Oi(c)+'"]';var C=S;switch(d){case"style":C=cm(c);break;case"script":C=um(c)}So.has(C)||(c=m({rel:"preload",href:d==="image"&&p&&p.imageSrcSet?void 0:c,as:d},p),So.set(C,c),y.querySelector(S)!==null||d==="style"&&y.querySelector(Qp(C))||d==="script"&&y.querySelector(Zp(C))||(d=y.createElement("link"),es(d,"link",c),Lt(d),y.head.appendChild(d)))}}function hz(c,d){Ku.m(c,d);var p=om;if(p&&c){var y=d&&typeof d.as=="string"?d.as:"script",S='link[rel="modulepreload"][as="'+Oi(y)+'"][href="'+Oi(c)+'"]',C=S;switch(y){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":C=um(c)}if(!So.has(C)&&(c=m({rel:"modulepreload",href:c},d),So.set(C,c),p.querySelector(S)===null)){switch(y){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(p.querySelector(Zp(C)))return}y=p.createElement("link"),es(y,"link",c),Lt(y),p.head.appendChild(y)}}}function mz(c,d,p){Ku.S(c,d,p);var y=om;if(y&&c){var S=Nt(y).hoistableStyles,C=cm(c);d=d||"default";var K=S.get(C);if(!K){var ce={loading:0,preload:null};if(K=y.querySelector(Qp(C)))ce.loading=5;else{c=m({rel:"stylesheet",href:c,"data-precedence":d},p),(p=So.get(C))&&uw(c,p);var Ae=K=y.createElement("link");Lt(Ae),es(Ae,"link",c),Ae._p=new Promise(function($e,rt){Ae.onload=$e,Ae.onerror=rt}),Ae.addEventListener("load",function(){ce.loading|=1}),Ae.addEventListener("error",function(){ce.loading|=2}),ce.loading|=4,M1(K,d,y)}K={type:"stylesheet",instance:K,count:1,state:ce},S.set(C,K)}}}function pz(c,d){Ku.X(c,d);var p=om;if(p&&c){var y=Nt(p).hoistableScripts,S=um(c),C=y.get(S);C||(C=p.querySelector(Zp(S)),C||(c=m({src:c,async:!0},d),(d=So.get(S))&&fw(c,d),C=p.createElement("script"),Lt(C),es(C,"link",c),p.head.appendChild(C)),C={type:"script",instance:C,count:1,state:null},y.set(S,C))}}function xz(c,d){Ku.M(c,d);var p=om;if(p&&c){var y=Nt(p).hoistableScripts,S=um(c),C=y.get(S);C||(C=p.querySelector(Zp(S)),C||(c=m({src:c,async:!0,type:"module"},d),(d=So.get(S))&&fw(c,d),C=p.createElement("script"),Lt(C),es(C,"link",c),p.head.appendChild(C)),C={type:"script",instance:C,count:1,state:null},y.set(S,C))}}function zA(c,d,p,y){var S=(S=Q.current)?L1(S):null;if(!S)throw Error(n(446));switch(c){case"meta":case"title":return null;case"style":return typeof p.precedence=="string"&&typeof p.href=="string"?(d=cm(p.href),p=Nt(S).hoistableStyles,y=p.get(d),y||(y={type:"style",instance:null,count:0,state:null},p.set(d,y)),y):{type:"void",instance:null,count:0,state:null};case"link":if(p.rel==="stylesheet"&&typeof p.href=="string"&&typeof p.precedence=="string"){c=cm(p.href);var C=Nt(S).hoistableStyles,K=C.get(c);if(K||(S=S.ownerDocument||S,K={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},C.set(c,K),(C=S.querySelector(Qp(c)))&&!C._p&&(K.instance=C,K.state.loading=5),So.has(c)||(p={rel:"preload",as:"style",href:p.href,crossOrigin:p.crossOrigin,integrity:p.integrity,media:p.media,hrefLang:p.hrefLang,referrerPolicy:p.referrerPolicy},So.set(c,p),C||gz(S,c,p,K.state))),d&&y===null)throw Error(n(528,""));return K}if(d&&y!==null)throw Error(n(529,""));return null;case"script":return d=p.async,p=p.src,typeof p=="string"&&d&&typeof d!="function"&&typeof d!="symbol"?(d=um(p),p=Nt(S).hoistableScripts,y=p.get(d),y||(y={type:"script",instance:null,count:0,state:null},p.set(d,y)),y):{type:"void",instance:null,count:0,state:null};default:throw Error(n(444,c))}}function cm(c){return'href="'+Oi(c)+'"'}function Qp(c){return'link[rel="stylesheet"]['+c+"]"}function qA(c){return m({},c,{"data-precedence":c.precedence,precedence:null})}function gz(c,d,p,y){c.querySelector('link[rel="preload"][as="style"]['+d+"]")?y.loading=1:(d=c.createElement("link"),y.preload=d,d.addEventListener("load",function(){return y.loading|=1}),d.addEventListener("error",function(){return y.loading|=2}),es(d,"link",p),Lt(d),c.head.appendChild(d))}function um(c){return'[src="'+Oi(c)+'"]'}function Zp(c){return"script[async]"+c}function $A(c,d,p){if(d.count++,d.instance===null)switch(d.type){case"style":var y=c.querySelector('style[data-href~="'+Oi(p.href)+'"]');if(y)return d.instance=y,Lt(y),y;var S=m({},p,{"data-href":p.href,"data-precedence":p.precedence,href:null,precedence:null});return y=(c.ownerDocument||c).createElement("style"),Lt(y),es(y,"style",S),M1(y,p.precedence,c),d.instance=y;case"stylesheet":S=cm(p.href);var C=c.querySelector(Qp(S));if(C)return d.state.loading|=4,d.instance=C,Lt(C),C;y=qA(p),(S=So.get(S))&&uw(y,S),C=(c.ownerDocument||c).createElement("link"),Lt(C);var K=C;return K._p=new Promise(function(ce,Ae){K.onload=ce,K.onerror=Ae}),es(C,"link",y),d.state.loading|=4,M1(C,p.precedence,c),d.instance=C;case"script":return C=um(p.src),(S=c.querySelector(Zp(C)))?(d.instance=S,Lt(S),S):(y=p,(S=So.get(C))&&(y=m({},p),fw(y,S)),c=c.ownerDocument||c,S=c.createElement("script"),Lt(S),es(S,"link",y),c.head.appendChild(S),d.instance=S);case"void":return null;default:throw Error(n(443,d.type))}else d.type==="stylesheet"&&(d.state.loading&4)===0&&(y=d.instance,d.state.loading|=4,M1(y,p.precedence,c));return d.instance}function M1(c,d,p){for(var y=p.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),S=y.length?y[y.length-1]:null,C=S,K=0;K<y.length;K++){var ce=y[K];if(ce.dataset.precedence===d)C=ce;else if(C!==S)break}C?C.parentNode.insertBefore(c,C.nextSibling):(d=p.nodeType===9?p.head:p,d.insertBefore(c,d.firstChild))}function uw(c,d){c.crossOrigin==null&&(c.crossOrigin=d.crossOrigin),c.referrerPolicy==null&&(c.referrerPolicy=d.referrerPolicy),c.title==null&&(c.title=d.title)}function fw(c,d){c.crossOrigin==null&&(c.crossOrigin=d.crossOrigin),c.referrerPolicy==null&&(c.referrerPolicy=d.referrerPolicy),c.integrity==null&&(c.integrity=d.integrity)}var R1=null;function HA(c,d,p){if(R1===null){var y=new Map,S=R1=new Map;S.set(p,y)}else S=R1,y=S.get(p),y||(y=new Map,S.set(p,y));if(y.has(c))return y;for(y.set(c,null),p=p.getElementsByTagName(c),S=0;S<p.length;S++){var C=p[S];if(!(C[ze]||C[me]||c==="link"&&C.getAttribute("rel")==="stylesheet")&&C.namespaceURI!=="http://www.w3.org/2000/svg"){var K=C.getAttribute(d)||"";K=c+K;var ce=y.get(K);ce?ce.push(C):y.set(K,[C])}}return y}function VA(c,d,p){c=c.ownerDocument||c,c.head.insertBefore(p,d==="title"?c.querySelector("head > title"):null)}function vz(c,d,p){if(p===1||d.itemProp!=null)return!1;switch(c){case"meta":case"title":return!0;case"style":if(typeof d.precedence!="string"||typeof d.href!="string"||d.href==="")break;return!0;case"link":if(typeof d.rel!="string"||typeof d.href!="string"||d.href===""||d.onLoad||d.onError)break;switch(d.rel){case"stylesheet":return c=d.disabled,typeof d.precedence=="string"&&c==null;default:return!0}case"script":if(d.async&&typeof d.async!="function"&&typeof d.async!="symbol"&&!d.onLoad&&!d.onError&&d.src&&typeof d.src=="string")return!0}return!1}function WA(c){return!(c.type==="stylesheet"&&(c.state.loading&3)===0)}function yz(c,d,p,y){if(p.type==="stylesheet"&&(typeof y.media!="string"||matchMedia(y.media).matches!==!1)&&(p.state.loading&4)===0){if(p.instance===null){var S=cm(y.href),C=d.querySelector(Qp(S));if(C){d=C._p,d!==null&&typeof d=="object"&&typeof d.then=="function"&&(c.count++,c=I1.bind(c),d.then(c,c)),p.state.loading|=4,p.instance=C,Lt(C);return}C=d.ownerDocument||d,y=qA(y),(S=So.get(S))&&uw(y,S),C=C.createElement("link"),Lt(C);var K=C;K._p=new Promise(function(ce,Ae){K.onload=ce,K.onerror=Ae}),es(C,"link",y),p.instance=C}c.stylesheets===null&&(c.stylesheets=new Map),c.stylesheets.set(p,d),(d=p.state.preload)&&(p.state.loading&3)===0&&(c.count++,p=I1.bind(c),d.addEventListener("load",p),d.addEventListener("error",p))}}var dw=0;function bz(c,d){return c.stylesheets&&c.count===0&&U1(c,c.stylesheets),0<c.count||0<c.imgCount?function(p){var y=setTimeout(function(){if(c.stylesheets&&U1(c,c.stylesheets),c.unsuspend){var C=c.unsuspend;c.unsuspend=null,C()}},6e4+d);0<c.imgBytes&&dw===0&&(dw=62500*ez());var S=setTimeout(function(){if(c.waitingForImages=!1,c.count===0&&(c.stylesheets&&U1(c,c.stylesheets),c.unsuspend)){var C=c.unsuspend;c.unsuspend=null,C()}},(c.imgBytes>dw?50:800)+d);return c.unsuspend=p,function(){c.unsuspend=null,clearTimeout(y),clearTimeout(S)}}:null}function I1(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)U1(this,this.stylesheets);else if(this.unsuspend){var c=this.unsuspend;this.unsuspend=null,c()}}}var B1=null;function U1(c,d){c.stylesheets=null,c.unsuspend!==null&&(c.count++,B1=new Map,d.forEach(wz,c),B1=null,I1.call(c))}function wz(c,d){if(!(d.state.loading&4)){var p=B1.get(c);if(p)var y=p.get(null);else{p=new Map,B1.set(c,p);for(var S=c.querySelectorAll("link[data-precedence],style[data-precedence]"),C=0;C<S.length;C++){var K=S[C];(K.nodeName==="LINK"||K.getAttribute("media")!=="not all")&&(p.set(K.dataset.precedence,K),y=K)}y&&p.set(null,y)}S=d.instance,K=S.getAttribute("data-precedence"),C=p.get(K)||y,C===y&&p.set(null,S),p.set(K,S),this.count++,y=I1.bind(this),S.addEventListener("load",y),S.addEventListener("error",y),C?C.parentNode.insertBefore(S,C.nextSibling):(c=c.nodeType===9?c.head:c,c.insertBefore(S,c.firstChild)),d.state.loading|=4}}var Jp={$$typeof:j,Provider:null,Consumer:null,_currentValue:xe,_currentValue2:xe,_threadCount:0};function Nz(c,d,p,y,S,C,K,ce,Ae){this.tag=1,this.containerInfo=c,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=us(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=us(0),this.hiddenUpdates=us(null),this.identifierPrefix=y,this.onUncaughtError=S,this.onCaughtError=C,this.onRecoverableError=K,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=Ae,this.incompleteTransitions=new Map}function KA(c,d,p,y,S,C,K,ce,Ae,$e,rt,st){return c=new Nz(c,d,p,K,Ae,$e,rt,st,ce),d=1,C===!0&&(d|=24),C=Pi(3,null,null,d),c.current=C,C.stateNode=c,d=Xf(),d.refCount++,c.pooledCache=d,d.refCount++,C.memoizedState={element:y,isDehydrated:p,cache:d},jt(C),c}function GA(c){return c?(c=pi,c):pi}function YA(c,d,p,y,S,C){S=GA(S),y.context===null?y.context=S:y.pendingContext=S,y=lr(d),y.payload={element:p},C=C===void 0?null:C,C!==null&&(y.callback=C),p=wr(c,y,d),p!==null&&(_l(p,c,d),un(p,c,d))}function XA(c,d){if(c=c.memoizedState,c!==null&&c.dehydrated!==null){var p=c.retryLane;c.retryLane=p!==0&&p<d?p:d}}function hw(c,d){XA(c,d),(c=c.alternate)&&XA(c,d)}function QA(c){if(c.tag===13||c.tag===31){var d=fc(c,67108864);d!==null&&_l(d,c,67108864),hw(c,67108864)}}function ZA(c){if(c.tag===13||c.tag===31){var d=Hl();d=jn(d);var p=fc(c,d);p!==null&&_l(p,c,d),hw(c,d)}}var z1=!0;function _z(c,d,p,y){var S=ne.T;ne.T=null;var C=Z.p;try{Z.p=2,mw(c,d,p,y)}finally{Z.p=C,ne.T=S}}function jz(c,d,p,y){var S=ne.T;ne.T=null;var C=Z.p;try{Z.p=8,mw(c,d,p,y)}finally{Z.p=C,ne.T=S}}function mw(c,d,p,y){if(z1){var S=pw(y);if(S===null)ew(c,d,y,q1,p),eE(c,y);else if(Az(S,c,d,p,y))y.stopPropagation();else if(eE(c,y),d&4&&-1<Sz.indexOf(c)){for(;S!==null;){var C=St(S);if(C!==null)switch(C.tag){case 3:if(C=C.stateNode,C.current.memoizedState.isDehydrated){var K=Yt(C.pendingLanes);if(K!==0){var ce=C;for(ce.pendingLanes|=2,ce.entangledLanes|=2;K;){var Ae=1<<31-br(K);ce.entanglements[1]|=Ae,K&=~Ae}nu(C),(dn&6)===0&&(j1=Et()+500,Kp(0))}}break;case 31:case 13:ce=fc(C,2),ce!==null&&_l(ce,C,2),A1(),hw(C,2)}if(C=pw(y),C===null&&ew(c,d,y,q1,p),C===S)break;S=C}S!==null&&y.stopPropagation()}else ew(c,d,y,null,p)}}function pw(c){return c=wu(c),xw(c)}var q1=null;function xw(c){if(q1=null,c=gt(c),c!==null){var d=i(c);if(d===null)c=null;else{var p=d.tag;if(p===13){if(c=l(d),c!==null)return c;c=null}else if(p===31){if(c=o(d),c!==null)return c;c=null}else if(p===3){if(d.stateNode.current.memoizedState.isDehydrated)return d.tag===3?d.stateNode.containerInfo:null;c=null}else d!==c&&(c=null)}}return q1=c,null}function JA(c){switch(c){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(zt()){case Kt:return 2;case Ar:return 8;case Mt:case Pt:return 32;case yt:return 268435456;default:return 32}default:return 32}}var gw=!1,cd=null,ud=null,fd=null,ex=new Map,tx=new Map,dd=[],Sz="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function eE(c,d){switch(c){case"focusin":case"focusout":cd=null;break;case"dragenter":case"dragleave":ud=null;break;case"mouseover":case"mouseout":fd=null;break;case"pointerover":case"pointerout":ex.delete(d.pointerId);break;case"gotpointercapture":case"lostpointercapture":tx.delete(d.pointerId)}}function rx(c,d,p,y,S,C){return c===null||c.nativeEvent!==C?(c={blockedOn:d,domEventName:p,eventSystemFlags:y,nativeEvent:C,targetContainers:[S]},d!==null&&(d=St(d),d!==null&&QA(d)),c):(c.eventSystemFlags|=y,d=c.targetContainers,S!==null&&d.indexOf(S)===-1&&d.push(S),c)}function Az(c,d,p,y,S){switch(d){case"focusin":return cd=rx(cd,c,d,p,y,S),!0;case"dragenter":return ud=rx(ud,c,d,p,y,S),!0;case"mouseover":return fd=rx(fd,c,d,p,y,S),!0;case"pointerover":var C=S.pointerId;return ex.set(C,rx(ex.get(C)||null,c,d,p,y,S)),!0;case"gotpointercapture":return C=S.pointerId,tx.set(C,rx(tx.get(C)||null,c,d,p,y,S)),!0}return!1}function tE(c){var d=gt(c.target);if(d!==null){var p=i(d);if(p!==null){if(d=p.tag,d===13){if(d=l(p),d!==null){c.blockedOn=d,Ne(c.priority,function(){ZA(p)});return}}else if(d===31){if(d=o(p),d!==null){c.blockedOn=d,Ne(c.priority,function(){ZA(p)});return}}else if(d===3&&p.stateNode.current.memoizedState.isDehydrated){c.blockedOn=p.tag===3?p.stateNode.containerInfo:null;return}}}c.blockedOn=null}function $1(c){if(c.blockedOn!==null)return!1;for(var d=c.targetContainers;0<d.length;){var p=pw(c.nativeEvent);if(p===null){p=c.nativeEvent;var y=new p.constructor(p.type,p);Zo=y,p.target.dispatchEvent(y),Zo=null}else return d=St(p),d!==null&&QA(d),c.blockedOn=p,!1;d.shift()}return!0}function rE(c,d,p){$1(c)&&p.delete(d)}function Ez(){gw=!1,cd!==null&&$1(cd)&&(cd=null),ud!==null&&$1(ud)&&(ud=null),fd!==null&&$1(fd)&&(fd=null),ex.forEach(rE),tx.forEach(rE)}function H1(c,d){c.blockedOn===d&&(c.blockedOn=null,gw||(gw=!0,e.unstable_scheduleCallback(e.unstable_NormalPriority,Ez)))}var V1=null;function nE(c){V1!==c&&(V1=c,e.unstable_scheduleCallback(e.unstable_NormalPriority,function(){V1===c&&(V1=null);for(var d=0;d<c.length;d+=3){var p=c[d],y=c[d+1],S=c[d+2];if(typeof y!="function"){if(xw(y||p)===null)continue;break}var C=St(p);C!==null&&(c.splice(d,3),d-=3,pb(C,{pending:!0,data:S,method:p.method,action:y},y,S))}}))}function fm(c){function d(Ae){return H1(Ae,c)}cd!==null&&H1(cd,c),ud!==null&&H1(ud,c),fd!==null&&H1(fd,c),ex.forEach(d),tx.forEach(d);for(var p=0;p<dd.length;p++){var y=dd[p];y.blockedOn===c&&(y.blockedOn=null)}for(;0<dd.length&&(p=dd[0],p.blockedOn===null);)tE(p),p.blockedOn===null&&dd.shift();if(p=(c.ownerDocument||c).$$reactFormReplay,p!=null)for(y=0;y<p.length;y+=3){var S=p[y],C=p[y+1],K=S[ye]||null;if(typeof C=="function")K||nE(p);else if(K){var ce=null;if(C&&C.hasAttribute("formAction")){if(S=C,K=C[ye]||null)ce=K.formAction;else if(xw(S)!==null)continue}else ce=K.action;typeof ce=="function"?p[y+1]=ce:(p.splice(y,3),y-=3),nE(p)}}}function aE(){function c(C){C.canIntercept&&C.info==="react-transition"&&C.intercept({handler:function(){return new Promise(function(K){return S=K})},focusReset:"manual",scroll:"manual"})}function d(){S!==null&&(S(),S=null),y||setTimeout(p,20)}function p(){if(!y&&!navigation.transition){var C=navigation.currentEntry;C&&C.url!=null&&navigation.navigate(C.url,{state:C.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var y=!1,S=null;return navigation.addEventListener("navigate",c),navigation.addEventListener("navigatesuccess",d),navigation.addEventListener("navigateerror",d),setTimeout(p,100),function(){y=!0,navigation.removeEventListener("navigate",c),navigation.removeEventListener("navigatesuccess",d),navigation.removeEventListener("navigateerror",d),S!==null&&(S(),S=null)}}}function vw(c){this._internalRoot=c}W1.prototype.render=vw.prototype.render=function(c){var d=this._internalRoot;if(d===null)throw Error(n(409));var p=d.current,y=Hl();YA(p,y,c,d,null,null)},W1.prototype.unmount=vw.prototype.unmount=function(){var c=this._internalRoot;if(c!==null){this._internalRoot=null;var d=c.containerInfo;YA(c.current,2,null,c,null,null),A1(),d[je]=null}};function W1(c){this._internalRoot=c}W1.prototype.unstable_scheduleHydration=function(c){if(c){var d=ae();c={blockedOn:null,target:c,priority:d};for(var p=0;p<dd.length&&d!==0&&d<dd[p].priority;p++);dd.splice(p,0,c),p===0&&tE(c)}};var iE=t.version;if(iE!=="19.2.0")throw Error(n(527,iE,"19.2.0"));Z.findDOMNode=function(c){var d=c._reactInternals;if(d===void 0)throw typeof c.render=="function"?Error(n(188)):(c=Object.keys(c).join(","),Error(n(268,c)));return c=f(d),c=c!==null?h(c):null,c=c===null?null:c.stateNode,c};var kz={bundleType:0,version:"19.2.0",rendererPackageName:"react-dom",currentDispatcherRef:ne,reconcilerVersion:"19.2.0"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var K1=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!K1.isDisabled&&K1.supportsFiber)try{Zt=K1.inject(kz),At=K1}catch{}}return ax.createRoot=function(c,d){if(!a(c))throw Error(n(299));var p=!1,y="",S=d6,C=h6,K=m6;return d!=null&&(d.unstable_strictMode===!0&&(p=!0),d.identifierPrefix!==void 0&&(y=d.identifierPrefix),d.onUncaughtError!==void 0&&(S=d.onUncaughtError),d.onCaughtError!==void 0&&(C=d.onCaughtError),d.onRecoverableError!==void 0&&(K=d.onRecoverableError)),d=KA(c,1,!1,null,null,p,y,null,S,C,K,aE),c[je]=d.current,Jb(c),new vw(d)},ax.hydrateRoot=function(c,d,p){if(!a(c))throw Error(n(299));var y=!1,S="",C=d6,K=h6,ce=m6,Ae=null;return p!=null&&(p.unstable_strictMode===!0&&(y=!0),p.identifierPrefix!==void 0&&(S=p.identifierPrefix),p.onUncaughtError!==void 0&&(C=p.onUncaughtError),p.onCaughtError!==void 0&&(K=p.onCaughtError),p.onRecoverableError!==void 0&&(ce=p.onRecoverableError),p.formState!==void 0&&(Ae=p.formState)),d=KA(c,1,!0,d,p??null,y,S,Ae,C,K,ce,aE),d.context=GA(null),p=d.current,y=Hl(),y=jn(y),S=lr(y),S.callback=null,wr(p,S,y),p=y,d.current.lanes=p,Xt(d,p),nu(d),c[je]=d.current,Jb(c),new W1(d)},ax.version="19.2.0",ax}var pE;function Bz(){if(pE)return ww.exports;pE=1;function e(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(t){console.error(t)}}return e(),ww.exports=Iz(),ww.exports}var Uz=Bz(),Jm=class{constructor(){this.listeners=new Set,this.subscribe=this.subscribe.bind(this)}subscribe(e){return this.listeners.add(e),this.onSubscribe(),()=>{this.listeners.delete(e),this.onUnsubscribe()}}hasListeners(){return this.listeners.size>0}onSubscribe(){}onUnsubscribe(){}},zz={setTimeout:(e,t)=>setTimeout(e,t),clearTimeout:e=>clearTimeout(e),setInterval:(e,t)=>setInterval(e,t),clearInterval:e=>clearInterval(e)},qz=class{#e=zz;#t=!1;setTimeoutProvider(e){this.#e=e}setTimeout(e,t){return this.#e.setTimeout(e,t)}clearTimeout(e){this.#e.clearTimeout(e)}setInterval(e,t){return this.#e.setInterval(e,t)}clearInterval(e){this.#e.clearInterval(e)}},E0=new qz;function $z(e){setTimeout(e,0)}var q0=typeof window>"u"||"Deno"in globalThis;function Ks(){}function Hz(e,t){return typeof e=="function"?e(t):e}function V4(e){return typeof e=="number"&&e>=0&&e!==1/0}function wD(e,t){return Math.max(e+(t||0)-Date.now(),0)}function jd(e,t){return typeof e=="function"?e(t):e}function Mo(e,t){return typeof e=="function"?e(t):e}function xE(e,t){const{type:r="all",exact:n,fetchStatus:a,predicate:i,queryKey:l,stale:o}=e;if(l){if(n){if(t.queryHash!==k_(l,t.options))return!1}else if(!Ix(t.queryKey,l))return!1}if(r!=="all"){const u=t.isActive();if(r==="active"&&!u||r==="inactive"&&u)return!1}return!(typeof o=="boolean"&&t.isStale()!==o||a&&a!==t.state.fetchStatus||i&&!i(t))}function gE(e,t){const{exact:r,status:n,predicate:a,mutationKey:i}=e;if(i){if(!t.options.mutationKey)return!1;if(r){if($0(t.options.mutationKey)!==$0(i))return!1}else if(!Ix(t.options.mutationKey,i))return!1}return!(n&&t.state.status!==n||a&&!a(t))}function k_(e,t){return(t?.queryKeyHashFn||$0)(e)}function $0(e){return JSON.stringify(e,(t,r)=>W4(r)?Object.keys(r).sort().reduce((n,a)=>(n[a]=r[a],n),{}):r)}function Ix(e,t){return e===t?!0:typeof e!=typeof t?!1:e&&t&&typeof e=="object"&&typeof t=="object"?Object.keys(t).every(r=>Ix(e[r],t[r])):!1}var Vz=Object.prototype.hasOwnProperty;function ND(e,t){if(e===t)return e;const r=vE(e)&&vE(t);if(!r&&!(W4(e)&&W4(t)))return t;const a=(r?e:Object.keys(e)).length,i=r?t:Object.keys(t),l=i.length,o=r?new Array(l):{};let u=0;for(let f=0;f<l;f++){const h=r?f:i[f],m=e[h],g=t[h];if(m===g){o[h]=m,(r?f<a:Vz.call(e,h))&&u++;continue}if(m===null||g===null||typeof m!="object"||typeof g!="object"){o[h]=g;continue}const x=ND(m,g);o[h]=x,x===m&&u++}return a===l&&u===a?e:o}function Kv(e,t){if(!t||Object.keys(e).length!==Object.keys(t).length)return!1;for(const r in e)if(e[r]!==t[r])return!1;return!0}function vE(e){return Array.isArray(e)&&e.length===Object.keys(e).length}function W4(e){if(!yE(e))return!1;const t=e.constructor;if(t===void 0)return!0;const r=t.prototype;return!(!yE(r)||!r.hasOwnProperty("isPrototypeOf")||Object.getPrototypeOf(e)!==Object.prototype)}function yE(e){return Object.prototype.toString.call(e)==="[object Object]"}function Wz(e){return new Promise(t=>{E0.setTimeout(t,e)})}function K4(e,t,r){return typeof r.structuralSharing=="function"?r.structuralSharing(e,t):r.structuralSharing!==!1?ND(e,t):t}function Kz(e,t,r=0){const n=[...e,t];return r&&n.length>r?n.slice(1):n}function Gz(e,t,r=0){const n=[t,...e];return r&&n.length>r?n.slice(0,-1):n}var C_=Symbol();function _D(e,t){return!e.queryFn&&t?.initialPromise?()=>t.initialPromise:!e.queryFn||e.queryFn===C_?()=>Promise.reject(new Error(`Missing queryFn: '${e.queryHash}'`)):e.queryFn}function jD(e,t){return typeof e=="function"?e(...t):!!e}var Yz=class extends Jm{#e;#t;#r;constructor(){super(),this.#r=e=>{if(!q0&&window.addEventListener){const t=()=>e();return window.addEventListener("visibilitychange",t,!1),()=>{window.removeEventListener("visibilitychange",t)}}}}onSubscribe(){this.#t||this.setEventListener(this.#r)}onUnsubscribe(){this.hasListeners()||(this.#t?.(),this.#t=void 0)}setEventListener(e){this.#r=e,this.#t?.(),this.#t=e(t=>{typeof t=="boolean"?this.setFocused(t):this.onFocus()})}setFocused(e){this.#e!==e&&(this.#e=e,this.onFocus())}onFocus(){const e=this.isFocused();this.listeners.forEach(t=>{t(e)})}isFocused(){return typeof this.#e=="boolean"?this.#e:globalThis.document?.visibilityState!=="hidden"}},T_=new Yz;function G4(){let e,t;const r=new Promise((a,i)=>{e=a,t=i});r.status="pending",r.catch(()=>{});function n(a){Object.assign(r,a),delete r.resolve,delete r.reject}return r.resolve=a=>{n({status:"fulfilled",value:a}),e(a)},r.reject=a=>{n({status:"rejected",reason:a}),t(a)},r}var Xz=$z;function Qz(){let e=[],t=0,r=o=>{o()},n=o=>{o()},a=Xz;const i=o=>{t?e.push(o):a(()=>{r(o)})},l=()=>{const o=e;e=[],o.length&&a(()=>{n(()=>{o.forEach(u=>{r(u)})})})};return{batch:o=>{let u;t++;try{u=o()}finally{t--,t||l()}return u},batchCalls:o=>(...u)=>{i(()=>{o(...u)})},schedule:i,setNotifyFunction:o=>{r=o},setBatchNotifyFunction:o=>{n=o},setScheduler:o=>{a=o}}}var Ni=Qz(),Zz=class extends Jm{#e=!0;#t;#r;constructor(){super(),this.#r=e=>{if(!q0&&window.addEventListener){const t=()=>e(!0),r=()=>e(!1);return window.addEventListener("online",t,!1),window.addEventListener("offline",r,!1),()=>{window.removeEventListener("online",t),window.removeEventListener("offline",r)}}}}onSubscribe(){this.#t||this.setEventListener(this.#r)}onUnsubscribe(){this.hasListeners()||(this.#t?.(),this.#t=void 0)}setEventListener(e){this.#r=e,this.#t?.(),this.#t=e(this.setOnline.bind(this))}setOnline(e){this.#e!==e&&(this.#e=e,this.listeners.forEach(r=>{r(e)}))}isOnline(){return this.#e}},Gv=new Zz;function Jz(e){return Math.min(1e3*2**e,3e4)}function SD(e){return(e??"online")==="online"?Gv.isOnline():!0}var Y4=class extends Error{constructor(e){super("CancelledError"),this.revert=e?.revert,this.silent=e?.silent}};function AD(e){let t=!1,r=0,n;const a=G4(),i=()=>a.status!=="pending",l=v=>{if(!i()){const w=new Y4(v);g(w),e.onCancel?.(w)}},o=()=>{t=!0},u=()=>{t=!1},f=()=>T_.isFocused()&&(e.networkMode==="always"||Gv.isOnline())&&e.canRun(),h=()=>SD(e.networkMode)&&e.canRun(),m=v=>{i()||(n?.(),a.resolve(v))},g=v=>{i()||(n?.(),a.reject(v))},x=()=>new Promise(v=>{n=w=>{(i()||f())&&v(w)},e.onPause?.()}).then(()=>{n=void 0,i()||e.onContinue?.()}),b=()=>{if(i())return;let v;const w=r===0?e.initialPromise:void 0;try{v=w??e.fn()}catch(N){v=Promise.reject(N)}Promise.resolve(v).then(m).catch(N=>{if(i())return;const E=e.retry??(q0?0:3),j=e.retryDelay??Jz,T=typeof j=="function"?j(r,N):j,O=E===!0||typeof E=="number"&&r<E||typeof E=="function"&&E(r,N);if(t||!O){g(N);return}r++,e.onFail?.(r,N),Wz(T).then(()=>f()?void 0:x()).then(()=>{t?g(N):b()})})};return{promise:a,status:()=>a.status,cancel:l,continue:()=>(n?.(),a),cancelRetry:o,continueRetry:u,canStart:h,start:()=>(h()?b():x().then(b),a)}}var ED=class{#e;destroy(){this.clearGcTimeout()}scheduleGc(){this.clearGcTimeout(),V4(this.gcTime)&&(this.#e=E0.setTimeout(()=>{this.optionalRemove()},this.gcTime))}updateGcTime(e){this.gcTime=Math.max(this.gcTime||0,e??(q0?1/0:300*1e3))}clearGcTimeout(){this.#e&&(E0.clearTimeout(this.#e),this.#e=void 0)}},eq=class extends ED{#e;#t;#r;#a;#n;#s;#l;constructor(e){super(),this.#l=!1,this.#s=e.defaultOptions,this.setOptions(e.options),this.observers=[],this.#a=e.client,this.#r=this.#a.getQueryCache(),this.queryKey=e.queryKey,this.queryHash=e.queryHash,this.#e=bE(this.options),this.state=e.state??this.#e,this.scheduleGc()}get meta(){return this.options.meta}get promise(){return this.#n?.promise}setOptions(e){if(this.options={...this.#s,...e},this.updateGcTime(this.options.gcTime),this.state&&this.state.data===void 0){const t=bE(this.options);t.data!==void 0&&(this.setData(t.data,{updatedAt:t.dataUpdatedAt,manual:!0}),this.#e=t)}}optionalRemove(){!this.observers.length&&this.state.fetchStatus==="idle"&&this.#r.remove(this)}setData(e,t){const r=K4(this.state.data,e,this.options);return this.#i({data:r,type:"success",dataUpdatedAt:t?.updatedAt,manual:t?.manual}),r}setState(e,t){this.#i({type:"setState",state:e,setStateOptions:t})}cancel(e){const t=this.#n?.promise;return this.#n?.cancel(e),t?t.then(Ks).catch(Ks):Promise.resolve()}destroy(){super.destroy(),this.cancel({silent:!0})}reset(){this.destroy(),this.setState(this.#e)}isActive(){return this.observers.some(e=>Mo(e.options.enabled,this)!==!1)}isDisabled(){return this.getObserversCount()>0?!this.isActive():this.options.queryFn===C_||this.state.dataUpdateCount+this.state.errorUpdateCount===0}isStatic(){return this.getObserversCount()>0?this.observers.some(e=>jd(e.options.staleTime,this)==="static"):!1}isStale(){return this.getObserversCount()>0?this.observers.some(e=>e.getCurrentResult().isStale):this.state.data===void 0||this.state.isInvalidated}isStaleByTime(e=0){return this.state.data===void 0?!0:e==="static"?!1:this.state.isInvalidated?!0:!wD(this.state.dataUpdatedAt,e)}onFocus(){this.observers.find(t=>t.shouldFetchOnWindowFocus())?.refetch({cancelRefetch:!1}),this.#n?.continue()}onOnline(){this.observers.find(t=>t.shouldFetchOnReconnect())?.refetch({cancelRefetch:!1}),this.#n?.continue()}addObserver(e){this.observers.includes(e)||(this.observers.push(e),this.clearGcTimeout(),this.#r.notify({type:"observerAdded",query:this,observer:e}))}removeObserver(e){this.observers.includes(e)&&(this.observers=this.observers.filter(t=>t!==e),this.observers.length||(this.#n&&(this.#l?this.#n.cancel({revert:!0}):this.#n.cancelRetry()),this.scheduleGc()),this.#r.notify({type:"observerRemoved",query:this,observer:e}))}getObserversCount(){return this.observers.length}invalidate(){this.state.isInvalidated||this.#i({type:"invalidate"})}async fetch(e,t){if(this.state.fetchStatus!=="idle"&&this.#n?.status()!=="rejected"){if(this.state.data!==void 0&&t?.cancelRefetch)this.cancel({silent:!0});else if(this.#n)return this.#n.continueRetry(),this.#n.promise}if(e&&this.setOptions(e),!this.options.queryFn){const o=this.observers.find(u=>u.options.queryFn);o&&this.setOptions(o.options)}const r=new AbortController,n=o=>{Object.defineProperty(o,"signal",{enumerable:!0,get:()=>(this.#l=!0,r.signal)})},a=()=>{const o=_D(this.options,t),f=(()=>{const h={client:this.#a,queryKey:this.queryKey,meta:this.meta};return n(h),h})();return this.#l=!1,this.options.persister?this.options.persister(o,f,this):o(f)},l=(()=>{const o={fetchOptions:t,options:this.options,queryKey:this.queryKey,client:this.#a,state:this.state,fetchFn:a};return n(o),o})();this.options.behavior?.onFetch(l,this),this.#t=this.state,(this.state.fetchStatus==="idle"||this.state.fetchMeta!==l.fetchOptions?.meta)&&this.#i({type:"fetch",meta:l.fetchOptions?.meta}),this.#n=AD({initialPromise:t?.initialPromise,fn:l.fetchFn,onCancel:o=>{o instanceof Y4&&o.revert&&this.setState({...this.#t,fetchStatus:"idle"}),r.abort()},onFail:(o,u)=>{this.#i({type:"failed",failureCount:o,error:u})},onPause:()=>{this.#i({type:"pause"})},onContinue:()=>{this.#i({type:"continue"})},retry:l.options.retry,retryDelay:l.options.retryDelay,networkMode:l.options.networkMode,canRun:()=>!0});try{const o=await this.#n.start();if(o===void 0)throw new Error(`${this.queryHash} data is undefined`);return this.setData(o),this.#r.config.onSuccess?.(o,this),this.#r.config.onSettled?.(o,this.state.error,this),o}catch(o){if(o instanceof Y4){if(o.silent)return this.#n.promise;if(o.revert){if(this.state.data===void 0)throw o;return this.state.data}}throw this.#i({type:"error",error:o}),this.#r.config.onError?.(o,this),this.#r.config.onSettled?.(this.state.data,o,this),o}finally{this.scheduleGc()}}#i(e){const t=r=>{switch(e.type){case"failed":return{...r,fetchFailureCount:e.failureCount,fetchFailureReason:e.error};case"pause":return{...r,fetchStatus:"paused"};case"continue":return{...r,fetchStatus:"fetching"};case"fetch":return{...r,...kD(r.data,this.options),fetchMeta:e.meta??null};case"success":const n={...r,data:e.data,dataUpdateCount:r.dataUpdateCount+1,dataUpdatedAt:e.dataUpdatedAt??Date.now(),error:null,isInvalidated:!1,status:"success",...!e.manual&&{fetchStatus:"idle",fetchFailureCount:0,fetchFailureReason:null}};return this.#t=e.manual?n:void 0,n;case"error":const a=e.error;return{...r,error:a,errorUpdateCount:r.errorUpdateCount+1,errorUpdatedAt:Date.now(),fetchFailureCount:r.fetchFailureCount+1,fetchFailureReason:a,fetchStatus:"idle",status:"error"};case"invalidate":return{...r,isInvalidated:!0};case"setState":return{...r,...e.state}}};this.state=t(this.state),Ni.batch(()=>{this.observers.forEach(r=>{r.onQueryUpdate()}),this.#r.notify({query:this,type:"updated",action:e})})}};function kD(e,t){return{fetchFailureCount:0,fetchFailureReason:null,fetchStatus:SD(t.networkMode)?"fetching":"paused",...e===void 0&&{error:null,status:"pending"}}}function bE(e){const t=typeof e.initialData=="function"?e.initialData():e.initialData,r=t!==void 0,n=r?typeof e.initialDataUpdatedAt=="function"?e.initialDataUpdatedAt():e.initialDataUpdatedAt:0;return{data:t,dataUpdateCount:0,dataUpdatedAt:r?n??Date.now():0,error:null,errorUpdateCount:0,errorUpdatedAt:0,fetchFailureCount:0,fetchFailureReason:null,fetchMeta:null,isInvalidated:!1,status:r?"success":"pending",fetchStatus:"idle"}}var tq=class extends Jm{constructor(e,t){super(),this.options=t,this.#e=e,this.#i=null,this.#l=G4(),this.bindMethods(),this.setOptions(t)}#e;#t=void 0;#r=void 0;#a=void 0;#n;#s;#l;#i;#p;#d;#h;#c;#u;#o;#m=new Set;bindMethods(){this.refetch=this.refetch.bind(this)}onSubscribe(){this.listeners.size===1&&(this.#t.addObserver(this),wE(this.#t,this.options)?this.#f():this.updateResult(),this.#y())}onUnsubscribe(){this.hasListeners()||this.destroy()}shouldFetchOnReconnect(){return X4(this.#t,this.options,this.options.refetchOnReconnect)}shouldFetchOnWindowFocus(){return X4(this.#t,this.options,this.options.refetchOnWindowFocus)}destroy(){this.listeners=new Set,this.#b(),this.#w(),this.#t.removeObserver(this)}setOptions(e){const t=this.options,r=this.#t;if(this.options=this.#e.defaultQueryOptions(e),this.options.enabled!==void 0&&typeof this.options.enabled!="boolean"&&typeof this.options.enabled!="function"&&typeof Mo(this.options.enabled,this.#t)!="boolean")throw new Error("Expected enabled to be a boolean or a callback that returns a boolean");this.#N(),this.#t.setOptions(this.options),t._defaulted&&!Kv(this.options,t)&&this.#e.getQueryCache().notify({type:"observerOptionsUpdated",query:this.#t,observer:this});const n=this.hasListeners();n&&NE(this.#t,r,this.options,t)&&this.#f(),this.updateResult(),n&&(this.#t!==r||Mo(this.options.enabled,this.#t)!==Mo(t.enabled,this.#t)||jd(this.options.staleTime,this.#t)!==jd(t.staleTime,this.#t))&&this.#x();const a=this.#g();n&&(this.#t!==r||Mo(this.options.enabled,this.#t)!==Mo(t.enabled,this.#t)||a!==this.#o)&&this.#v(a)}getOptimisticResult(e){const t=this.#e.getQueryCache().build(this.#e,e),r=this.createResult(t,e);return nq(this,r)&&(this.#a=r,this.#s=this.options,this.#n=this.#t.state),r}getCurrentResult(){return this.#a}trackResult(e,t){return new Proxy(e,{get:(r,n)=>(this.trackProp(n),t?.(n),n==="promise"&&(this.trackProp("data"),!this.options.experimental_prefetchInRender&&this.#l.status==="pending"&&this.#l.reject(new Error("experimental_prefetchInRender feature flag is not enabled"))),Reflect.get(r,n))})}trackProp(e){this.#m.add(e)}getCurrentQuery(){return this.#t}refetch({...e}={}){return this.fetch({...e})}fetchOptimistic(e){const t=this.#e.defaultQueryOptions(e),r=this.#e.getQueryCache().build(this.#e,t);return r.fetch().then(()=>this.createResult(r,t))}fetch(e){return this.#f({...e,cancelRefetch:e.cancelRefetch??!0}).then(()=>(this.updateResult(),this.#a))}#f(e){this.#N();let t=this.#t.fetch(this.options,e);return e?.throwOnError||(t=t.catch(Ks)),t}#x(){this.#b();const e=jd(this.options.staleTime,this.#t);if(q0||this.#a.isStale||!V4(e))return;const r=wD(this.#a.dataUpdatedAt,e)+1;this.#c=E0.setTimeout(()=>{this.#a.isStale||this.updateResult()},r)}#g(){return(typeof this.options.refetchInterval=="function"?this.options.refetchInterval(this.#t):this.options.refetchInterval)??!1}#v(e){this.#w(),this.#o=e,!(q0||Mo(this.options.enabled,this.#t)===!1||!V4(this.#o)||this.#o===0)&&(this.#u=E0.setInterval(()=>{(this.options.refetchIntervalInBackground||T_.isFocused())&&this.#f()},this.#o))}#y(){this.#x(),this.#v(this.#g())}#b(){this.#c&&(E0.clearTimeout(this.#c),this.#c=void 0)}#w(){this.#u&&(E0.clearInterval(this.#u),this.#u=void 0)}createResult(e,t){const r=this.#t,n=this.options,a=this.#a,i=this.#n,l=this.#s,u=e!==r?e.state:this.#r,{state:f}=e;let h={...f},m=!1,g;if(t._optimisticResults){const M=this.hasListeners(),B=!M&&wE(e,t),H=M&&NE(e,r,t,n);(B||H)&&(h={...h,...kD(f.data,e.options)}),t._optimisticResults==="isRestoring"&&(h.fetchStatus="idle")}let{error:x,errorUpdatedAt:b,status:v}=h;g=h.data;let w=!1;if(t.placeholderData!==void 0&&g===void 0&&v==="pending"){let M;a?.isPlaceholderData&&t.placeholderData===l?.placeholderData?(M=a.data,w=!0):M=typeof t.placeholderData=="function"?t.placeholderData(this.#h?.state.data,this.#h):t.placeholderData,M!==void 0&&(v="success",g=K4(a?.data,M,t),m=!0)}if(t.select&&g!==void 0&&!w)if(a&&g===i?.data&&t.select===this.#p)g=this.#d;else try{this.#p=t.select,g=t.select(g),g=K4(a?.data,g,t),this.#d=g,this.#i=null}catch(M){this.#i=M}this.#i&&(x=this.#i,g=this.#d,b=Date.now(),v="error");const N=h.fetchStatus==="fetching",E=v==="pending",j=v==="error",T=E&&N,O=g!==void 0,D={status:v,fetchStatus:h.fetchStatus,isPending:E,isSuccess:v==="success",isError:j,isInitialLoading:T,isLoading:T,data:g,dataUpdatedAt:h.dataUpdatedAt,error:x,errorUpdatedAt:b,failureCount:h.fetchFailureCount,failureReason:h.fetchFailureReason,errorUpdateCount:h.errorUpdateCount,isFetched:h.dataUpdateCount>0||h.errorUpdateCount>0,isFetchedAfterMount:h.dataUpdateCount>u.dataUpdateCount||h.errorUpdateCount>u.errorUpdateCount,isFetching:N,isRefetching:N&&!E,isLoadingError:j&&!O,isPaused:h.fetchStatus==="paused",isPlaceholderData:m,isRefetchError:j&&O,isStale:O_(e,t),refetch:this.refetch,promise:this.#l,isEnabled:Mo(t.enabled,e)!==!1};if(this.options.experimental_prefetchInRender){const M=L=>{D.status==="error"?L.reject(D.error):D.data!==void 0&&L.resolve(D.data)},B=()=>{const L=this.#l=D.promise=G4();M(L)},H=this.#l;switch(H.status){case"pending":e.queryHash===r.queryHash&&M(H);break;case"fulfilled":(D.status==="error"||D.data!==H.value)&&B();break;case"rejected":(D.status!=="error"||D.error!==H.reason)&&B();break}}return D}updateResult(){const e=this.#a,t=this.createResult(this.#t,this.options);if(this.#n=this.#t.state,this.#s=this.options,this.#n.data!==void 0&&(this.#h=this.#t),Kv(t,e))return;this.#a=t;const r=()=>{if(!e)return!0;const{notifyOnChangeProps:n}=this.options,a=typeof n=="function"?n():n;if(a==="all"||!a&&!this.#m.size)return!0;const i=new Set(a??this.#m);return this.options.throwOnError&&i.add("error"),Object.keys(this.#a).some(l=>{const o=l;return this.#a[o]!==e[o]&&i.has(o)})};this.#_({listeners:r()})}#N(){const e=this.#e.getQueryCache().build(this.#e,this.options);if(e===this.#t)return;const t=this.#t;this.#t=e,this.#r=e.state,this.hasListeners()&&(t?.removeObserver(this),e.addObserver(this))}onQueryUpdate(){this.updateResult(),this.hasListeners()&&this.#y()}#_(e){Ni.batch(()=>{e.listeners&&this.listeners.forEach(t=>{t(this.#a)}),this.#e.getQueryCache().notify({query:this.#t,type:"observerResultsUpdated"})})}};function rq(e,t){return Mo(t.enabled,e)!==!1&&e.state.data===void 0&&!(e.state.status==="error"&&t.retryOnMount===!1)}function wE(e,t){return rq(e,t)||e.state.data!==void 0&&X4(e,t,t.refetchOnMount)}function X4(e,t,r){if(Mo(t.enabled,e)!==!1&&jd(t.staleTime,e)!=="static"){const n=typeof r=="function"?r(e):r;return n==="always"||n!==!1&&O_(e,t)}return!1}function NE(e,t,r,n){return(e!==t||Mo(n.enabled,e)===!1)&&(!r.suspense||e.state.status!=="error")&&O_(e,r)}function O_(e,t){return Mo(t.enabled,e)!==!1&&e.isStaleByTime(jd(t.staleTime,e))}function nq(e,t){return!Kv(e.getCurrentResult(),t)}function _E(e){return{onFetch:(t,r)=>{const n=t.options,a=t.fetchOptions?.meta?.fetchMore?.direction,i=t.state.data?.pages||[],l=t.state.data?.pageParams||[];let o={pages:[],pageParams:[]},u=0;const f=async()=>{let h=!1;const m=b=>{Object.defineProperty(b,"signal",{enumerable:!0,get:()=>(t.signal.aborted?h=!0:t.signal.addEventListener("abort",()=>{h=!0}),t.signal)})},g=_D(t.options,t.fetchOptions),x=async(b,v,w)=>{if(h)return Promise.reject();if(v==null&&b.pages.length)return Promise.resolve(b);const E=(()=>{const P={client:t.client,queryKey:t.queryKey,pageParam:v,direction:w?"backward":"forward",meta:t.options.meta};return m(P),P})(),j=await g(E),{maxPages:T}=t.options,O=w?Gz:Kz;return{pages:O(b.pages,j,T),pageParams:O(b.pageParams,v,T)}};if(a&&i.length){const b=a==="backward",v=b?aq:jE,w={pages:i,pageParams:l},N=v(n,w);o=await x(w,N,b)}else{const b=e??i.length;do{const v=u===0?l[0]??n.initialPageParam:jE(n,o);if(u>0&&v==null)break;o=await x(o,v),u++}while(u<b)}return o};t.options.persister?t.fetchFn=()=>t.options.persister?.(f,{client:t.client,queryKey:t.queryKey,meta:t.options.meta,signal:t.signal},r):t.fetchFn=f}}}function jE(e,{pages:t,pageParams:r}){const n=t.length-1;return t.length>0?e.getNextPageParam(t[n],t,r[n],r):void 0}function aq(e,{pages:t,pageParams:r}){return t.length>0?e.getPreviousPageParam?.(t[0],t,r[0],r):void 0}var iq=class extends ED{#e;#t;#r;#a;constructor(e){super(),this.#e=e.client,this.mutationId=e.mutationId,this.#r=e.mutationCache,this.#t=[],this.state=e.state||CD(),this.setOptions(e.options),this.scheduleGc()}setOptions(e){this.options=e,this.updateGcTime(this.options.gcTime)}get meta(){return this.options.meta}addObserver(e){this.#t.includes(e)||(this.#t.push(e),this.clearGcTimeout(),this.#r.notify({type:"observerAdded",mutation:this,observer:e}))}removeObserver(e){this.#t=this.#t.filter(t=>t!==e),this.scheduleGc(),this.#r.notify({type:"observerRemoved",mutation:this,observer:e})}optionalRemove(){this.#t.length||(this.state.status==="pending"?this.scheduleGc():this.#r.remove(this))}continue(){return this.#a?.continue()??this.execute(this.state.variables)}async execute(e){const t=()=>{this.#n({type:"continue"})},r={client:this.#e,meta:this.options.meta,mutationKey:this.options.mutationKey};this.#a=AD({fn:()=>this.options.mutationFn?this.options.mutationFn(e,r):Promise.reject(new Error("No mutationFn found")),onFail:(i,l)=>{this.#n({type:"failed",failureCount:i,error:l})},onPause:()=>{this.#n({type:"pause"})},onContinue:t,retry:this.options.retry??0,retryDelay:this.options.retryDelay,networkMode:this.options.networkMode,canRun:()=>this.#r.canRun(this)});const n=this.state.status==="pending",a=!this.#a.canStart();try{if(n)t();else{this.#n({type:"pending",variables:e,isPaused:a}),await this.#r.config.onMutate?.(e,this,r);const l=await this.options.onMutate?.(e,r);l!==this.state.context&&this.#n({type:"pending",context:l,variables:e,isPaused:a})}const i=await this.#a.start();return await this.#r.config.onSuccess?.(i,e,this.state.context,this,r),await this.options.onSuccess?.(i,e,this.state.context,r),await this.#r.config.onSettled?.(i,null,this.state.variables,this.state.context,this,r),await this.options.onSettled?.(i,null,e,this.state.context,r),this.#n({type:"success",data:i}),i}catch(i){try{throw await this.#r.config.onError?.(i,e,this.state.context,this,r),await this.options.onError?.(i,e,this.state.context,r),await this.#r.config.onSettled?.(void 0,i,this.state.variables,this.state.context,this,r),await this.options.onSettled?.(void 0,i,e,this.state.context,r),i}finally{this.#n({type:"error",error:i})}}finally{this.#r.runNext(this)}}#n(e){const t=r=>{switch(e.type){case"failed":return{...r,failureCount:e.failureCount,failureReason:e.error};case"pause":return{...r,isPaused:!0};case"continue":return{...r,isPaused:!1};case"pending":return{...r,context:e.context,data:void 0,failureCount:0,failureReason:null,error:null,isPaused:e.isPaused,status:"pending",variables:e.variables,submittedAt:Date.now()};case"success":return{...r,data:e.data,failureCount:0,failureReason:null,error:null,status:"success",isPaused:!1};case"error":return{...r,data:void 0,error:e.error,failureCount:r.failureCount+1,failureReason:e.error,isPaused:!1,status:"error"}}};this.state=t(this.state),Ni.batch(()=>{this.#t.forEach(r=>{r.onMutationUpdate(e)}),this.#r.notify({mutation:this,type:"updated",action:e})})}};function CD(){return{context:void 0,data:void 0,error:null,failureCount:0,failureReason:null,isPaused:!1,status:"idle",variables:void 0,submittedAt:0}}var sq=class extends Jm{constructor(e={}){super(),this.config=e,this.#e=new Set,this.#t=new Map,this.#r=0}#e;#t;#r;build(e,t,r){const n=new iq({client:e,mutationCache:this,mutationId:++this.#r,options:e.defaultMutationOptions(t),state:r});return this.add(n),n}add(e){this.#e.add(e);const t=G1(e);if(typeof t=="string"){const r=this.#t.get(t);r?r.push(e):this.#t.set(t,[e])}this.notify({type:"added",mutation:e})}remove(e){if(this.#e.delete(e)){const t=G1(e);if(typeof t=="string"){const r=this.#t.get(t);if(r)if(r.length>1){const n=r.indexOf(e);n!==-1&&r.splice(n,1)}else r[0]===e&&this.#t.delete(t)}}this.notify({type:"removed",mutation:e})}canRun(e){const t=G1(e);if(typeof t=="string"){const n=this.#t.get(t)?.find(a=>a.state.status==="pending");return!n||n===e}else return!0}runNext(e){const t=G1(e);return typeof t=="string"?this.#t.get(t)?.find(n=>n!==e&&n.state.isPaused)?.continue()??Promise.resolve():Promise.resolve()}clear(){Ni.batch(()=>{this.#e.forEach(e=>{this.notify({type:"removed",mutation:e})}),this.#e.clear(),this.#t.clear()})}getAll(){return Array.from(this.#e)}find(e){const t={exact:!0,...e};return this.getAll().find(r=>gE(t,r))}findAll(e={}){return this.getAll().filter(t=>gE(e,t))}notify(e){Ni.batch(()=>{this.listeners.forEach(t=>{t(e)})})}resumePausedMutations(){const e=this.getAll().filter(t=>t.state.isPaused);return Ni.batch(()=>Promise.all(e.map(t=>t.continue().catch(Ks))))}};function G1(e){return e.options.scope?.id}var lq=class extends Jm{#e;#t=void 0;#r;#a;constructor(t,r){super(),this.#e=t,this.setOptions(r),this.bindMethods(),this.#n()}bindMethods(){this.mutate=this.mutate.bind(this),this.reset=this.reset.bind(this)}setOptions(t){const r=this.options;this.options=this.#e.defaultMutationOptions(t),Kv(this.options,r)||this.#e.getMutationCache().notify({type:"observerOptionsUpdated",mutation:this.#r,observer:this}),r?.mutationKey&&this.options.mutationKey&&$0(r.mutationKey)!==$0(this.options.mutationKey)?this.reset():this.#r?.state.status==="pending"&&this.#r.setOptions(this.options)}onUnsubscribe(){this.hasListeners()||this.#r?.removeObserver(this)}onMutationUpdate(t){this.#n(),this.#s(t)}getCurrentResult(){return this.#t}reset(){this.#r?.removeObserver(this),this.#r=void 0,this.#n(),this.#s()}mutate(t,r){return this.#a=r,this.#r?.removeObserver(this),this.#r=this.#e.getMutationCache().build(this.#e,this.options),this.#r.addObserver(this),this.#r.execute(t)}#n(){const t=this.#r?.state??CD();this.#t={...t,isPending:t.status==="pending",isSuccess:t.status==="success",isError:t.status==="error",isIdle:t.status==="idle",mutate:this.mutate,reset:this.reset}}#s(t){Ni.batch(()=>{if(this.#a&&this.hasListeners()){const r=this.#t.variables,n=this.#t.context,a={client:this.#e,meta:this.options.meta,mutationKey:this.options.mutationKey};t?.type==="success"?(this.#a.onSuccess?.(t.data,r,n,a),this.#a.onSettled?.(t.data,null,r,n,a)):t?.type==="error"&&(this.#a.onError?.(t.error,r,n,a),this.#a.onSettled?.(void 0,t.error,r,n,a))}this.listeners.forEach(r=>{r(this.#t)})})}},oq=class extends Jm{constructor(e={}){super(),this.config=e,this.#e=new Map}#e;build(e,t,r){const n=t.queryKey,a=t.queryHash??k_(n,t);let i=this.get(a);return i||(i=new eq({client:e,queryKey:n,queryHash:a,options:e.defaultQueryOptions(t),state:r,defaultOptions:e.getQueryDefaults(n)}),this.add(i)),i}add(e){this.#e.has(e.queryHash)||(this.#e.set(e.queryHash,e),this.notify({type:"added",query:e}))}remove(e){const t=this.#e.get(e.queryHash);t&&(e.destroy(),t===e&&this.#e.delete(e.queryHash),this.notify({type:"removed",query:e}))}clear(){Ni.batch(()=>{this.getAll().forEach(e=>{this.remove(e)})})}get(e){return this.#e.get(e)}getAll(){return[...this.#e.values()]}find(e){const t={exact:!0,...e};return this.getAll().find(r=>xE(t,r))}findAll(e={}){const t=this.getAll();return Object.keys(e).length>0?t.filter(r=>xE(e,r)):t}notify(e){Ni.batch(()=>{this.listeners.forEach(t=>{t(e)})})}onFocus(){Ni.batch(()=>{this.getAll().forEach(e=>{e.onFocus()})})}onOnline(){Ni.batch(()=>{this.getAll().forEach(e=>{e.onOnline()})})}},cq=class{#e;#t;#r;#a;#n;#s;#l;#i;constructor(e={}){this.#e=e.queryCache||new oq,this.#t=e.mutationCache||new sq,this.#r=e.defaultOptions||{},this.#a=new Map,this.#n=new Map,this.#s=0}mount(){this.#s++,this.#s===1&&(this.#l=T_.subscribe(async e=>{e&&(await this.resumePausedMutations(),this.#e.onFocus())}),this.#i=Gv.subscribe(async e=>{e&&(await this.resumePausedMutations(),this.#e.onOnline())}))}unmount(){this.#s--,this.#s===0&&(this.#l?.(),this.#l=void 0,this.#i?.(),this.#i=void 0)}isFetching(e){return this.#e.findAll({...e,fetchStatus:"fetching"}).length}isMutating(e){return this.#t.findAll({...e,status:"pending"}).length}getQueryData(e){const t=this.defaultQueryOptions({queryKey:e});return this.#e.get(t.queryHash)?.state.data}ensureQueryData(e){const t=this.defaultQueryOptions(e),r=this.#e.build(this,t),n=r.state.data;return n===void 0?this.fetchQuery(e):(e.revalidateIfStale&&r.isStaleByTime(jd(t.staleTime,r))&&this.prefetchQuery(t),Promise.resolve(n))}getQueriesData(e){return this.#e.findAll(e).map(({queryKey:t,state:r})=>{const n=r.data;return[t,n]})}setQueryData(e,t,r){const n=this.defaultQueryOptions({queryKey:e}),i=this.#e.get(n.queryHash)?.state.data,l=Hz(t,i);if(l!==void 0)return this.#e.build(this,n).setData(l,{...r,manual:!0})}setQueriesData(e,t,r){return Ni.batch(()=>this.#e.findAll(e).map(({queryKey:n})=>[n,this.setQueryData(n,t,r)]))}getQueryState(e){const t=this.defaultQueryOptions({queryKey:e});return this.#e.get(t.queryHash)?.state}removeQueries(e){const t=this.#e;Ni.batch(()=>{t.findAll(e).forEach(r=>{t.remove(r)})})}resetQueries(e,t){const r=this.#e;return Ni.batch(()=>(r.findAll(e).forEach(n=>{n.reset()}),this.refetchQueries({type:"active",...e},t)))}cancelQueries(e,t={}){const r={revert:!0,...t},n=Ni.batch(()=>this.#e.findAll(e).map(a=>a.cancel(r)));return Promise.all(n).then(Ks).catch(Ks)}invalidateQueries(e,t={}){return Ni.batch(()=>(this.#e.findAll(e).forEach(r=>{r.invalidate()}),e?.refetchType==="none"?Promise.resolve():this.refetchQueries({...e,type:e?.refetchType??e?.type??"active"},t)))}refetchQueries(e,t={}){const r={...t,cancelRefetch:t.cancelRefetch??!0},n=Ni.batch(()=>this.#e.findAll(e).filter(a=>!a.isDisabled()&&!a.isStatic()).map(a=>{let i=a.fetch(void 0,r);return r.throwOnError||(i=i.catch(Ks)),a.state.fetchStatus==="paused"?Promise.resolve():i}));return Promise.all(n).then(Ks)}fetchQuery(e){const t=this.defaultQueryOptions(e);t.retry===void 0&&(t.retry=!1);const r=this.#e.build(this,t);return r.isStaleByTime(jd(t.staleTime,r))?r.fetch(t):Promise.resolve(r.state.data)}prefetchQuery(e){return this.fetchQuery(e).then(Ks).catch(Ks)}fetchInfiniteQuery(e){return e.behavior=_E(e.pages),this.fetchQuery(e)}prefetchInfiniteQuery(e){return this.fetchInfiniteQuery(e).then(Ks).catch(Ks)}ensureInfiniteQueryData(e){return e.behavior=_E(e.pages),this.ensureQueryData(e)}resumePausedMutations(){return Gv.isOnline()?this.#t.resumePausedMutations():Promise.resolve()}getQueryCache(){return this.#e}getMutationCache(){return this.#t}getDefaultOptions(){return this.#r}setDefaultOptions(e){this.#r=e}setQueryDefaults(e,t){this.#a.set($0(e),{queryKey:e,defaultOptions:t})}getQueryDefaults(e){const t=[...this.#a.values()],r={};return t.forEach(n=>{Ix(e,n.queryKey)&&Object.assign(r,n.defaultOptions)}),r}setMutationDefaults(e,t){this.#n.set($0(e),{mutationKey:e,defaultOptions:t})}getMutationDefaults(e){const t=[...this.#n.values()],r={};return t.forEach(n=>{Ix(e,n.mutationKey)&&Object.assign(r,n.defaultOptions)}),r}defaultQueryOptions(e){if(e._defaulted)return e;const t={...this.#r.queries,...this.getQueryDefaults(e.queryKey),...e,_defaulted:!0};return t.queryHash||(t.queryHash=k_(t.queryKey,t)),t.refetchOnReconnect===void 0&&(t.refetchOnReconnect=t.networkMode!=="always"),t.throwOnError===void 0&&(t.throwOnError=!!t.suspense),!t.networkMode&&t.persister&&(t.networkMode="offlineFirst"),t.queryFn===C_&&(t.enabled=!1),t}defaultMutationOptions(e){return e?._defaulted?e:{...this.#r.mutations,...e?.mutationKey&&this.getMutationDefaults(e.mutationKey),...e,_defaulted:!0}}clear(){this.#e.clear(),this.#t.clear()}},TD=k.createContext(void 0),Dt=e=>{const t=k.useContext(TD);if(!t)throw new Error("No QueryClient set, use QueryClientProvider to set one");return t},uq=({client:e,children:t})=>(k.useEffect(()=>(e.mount(),()=>{e.unmount()}),[e]),s.jsx(TD.Provider,{value:e,children:t})),OD=k.createContext(!1),fq=()=>k.useContext(OD);OD.Provider;function dq(){let e=!1;return{clearReset:()=>{e=!1},reset:()=>{e=!0},isReset:()=>e}}var hq=k.createContext(dq()),mq=()=>k.useContext(hq),pq=(e,t)=>{(e.suspense||e.throwOnError||e.experimental_prefetchInRender)&&(t.isReset()||(e.retryOnMount=!1))},xq=e=>{k.useEffect(()=>{e.clearReset()},[e])},gq=({result:e,errorResetBoundary:t,throwOnError:r,query:n,suspense:a})=>e.isError&&!t.isReset()&&!e.isFetching&&n&&(a&&e.data===void 0||jD(r,[e.error,n])),vq=e=>{if(e.suspense){const r=a=>a==="static"?a:Math.max(a??1e3,1e3),n=e.staleTime;e.staleTime=typeof n=="function"?(...a)=>r(n(...a)):r(n),typeof e.gcTime=="number"&&(e.gcTime=Math.max(e.gcTime,1e3))}},yq=(e,t)=>e.isLoading&&e.isFetching&&!t,bq=(e,t)=>e?.suspense&&t.isPending,SE=(e,t,r)=>t.fetchOptimistic(e).catch(()=>{r.clearReset()});function wq(e,t,r){const n=fq(),a=mq(),i=Dt(),l=i.defaultQueryOptions(e);i.getDefaultOptions().queries?._experimental_beforeQuery?.(l),l._optimisticResults=n?"isRestoring":"optimistic",vq(l),pq(l,a),xq(a);const o=!i.getQueryCache().get(l.queryHash),[u]=k.useState(()=>new t(i,l)),f=u.getOptimisticResult(l),h=!n&&e.subscribed!==!1;if(k.useSyncExternalStore(k.useCallback(m=>{const g=h?u.subscribe(Ni.batchCalls(m)):Ks;return u.updateResult(),g},[u,h]),()=>u.getCurrentResult(),()=>u.getCurrentResult()),k.useEffect(()=>{u.setOptions(l)},[l,u]),bq(l,f))throw SE(l,u,a);if(gq({result:f,errorResetBoundary:a,throwOnError:l.throwOnError,query:i.getQueryCache().get(l.queryHash),suspense:l.suspense}))throw f.error;return i.getDefaultOptions().queries?._experimental_afterQuery?.(l,f),l.experimental_prefetchInRender&&!q0&&yq(f,n)&&(o?SE(l,u,a):i.getQueryCache().get(l.queryHash)?.promise)?.catch(Ks).finally(()=>{u.updateResult()}),l.notifyOnChangeProps?f:u.trackResult(f)}function ir(e,t){return wq(e,tq)}function Ft(e,t){const r=Dt(),[n]=k.useState(()=>new lq(r,e));k.useEffect(()=>{n.setOptions(e)},[n,e]);const a=k.useSyncExternalStore(k.useCallback(l=>n.subscribe(Ni.batchCalls(l)),[n]),()=>n.getCurrentResult(),()=>n.getCurrentResult()),i=k.useCallback((l,o)=>{n.mutate(l,o).catch(Ks)},[n]);if(a.error&&jD(n.options.throwOnError,[a.error]))throw a.error;return{...a,mutate:i,mutateAsync:a.mutate}}const Nq="modulepreload",_q=function(e){return"/"+e},AE={},Sw=function(t,r,n){let a=Promise.resolve();if(r&&r.length>0){let u=function(f){return Promise.all(f.map(h=>Promise.resolve(h).then(m=>({status:"fulfilled",value:m}),m=>({status:"rejected",reason:m}))))};document.getElementsByTagName("link");const l=document.querySelector("meta[property=csp-nonce]"),o=l?.nonce||l?.getAttribute("nonce");a=u(r.map(f=>{if(f=_q(f),f in AE)return;AE[f]=!0;const h=f.endsWith(".css"),m=h?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${f}"]${m}`))return;const g=document.createElement("link");if(g.rel=h?"stylesheet":Nq,h||(g.as="script"),g.crossOrigin="",g.href=f,o&&g.setAttribute("nonce",o),document.head.appendChild(g),h)return new Promise((x,b)=>{g.addEventListener("load",x),g.addEventListener("error",()=>b(new Error(`Unable to preload CSS for ${f}`)))})}))}function i(l){const o=new Event("vite:preloadError",{cancelable:!0});if(o.payload=l,window.dispatchEvent(o),!o.defaultPrevented)throw l}return a.then(l=>{for(const o of l||[])o.status==="rejected"&&i(o.reason);return t().catch(i)})};var jq=function(){return null};/**
 * react-router v7.9.4
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */var EE="popstate";function Sq(e={}){function t(n,a){let{pathname:i,search:l,hash:o}=n.location;return Q4("",{pathname:i,search:l,hash:o},a.state&&a.state.usr||null,a.state&&a.state.key||"default")}function r(n,a){return typeof a=="string"?a:Bx(a)}return Eq(t,r,null,e)}function da(e,t){if(e===!1||e===null||typeof e>"u")throw new Error(t)}function zo(e,t){if(!e){typeof console<"u"&&console.warn(t);try{throw new Error(t)}catch{}}}function Aq(){return Math.random().toString(36).substring(2,10)}function kE(e,t){return{usr:e.state,key:e.key,idx:t}}function Q4(e,t,r=null,n){return{pathname:typeof e=="string"?e:e.pathname,search:"",hash:"",...typeof t=="string"?ep(t):t,state:r,key:t&&t.key||n||Aq()}}function Bx({pathname:e="/",search:t="",hash:r=""}){return t&&t!=="?"&&(e+=t.charAt(0)==="?"?t:"?"+t),r&&r!=="#"&&(e+=r.charAt(0)==="#"?r:"#"+r),e}function ep(e){let t={};if(e){let r=e.indexOf("#");r>=0&&(t.hash=e.substring(r),e=e.substring(0,r));let n=e.indexOf("?");n>=0&&(t.search=e.substring(n),e=e.substring(0,n)),e&&(t.pathname=e)}return t}function Eq(e,t,r,n={}){let{window:a=document.defaultView,v5Compat:i=!1}=n,l=a.history,o="POP",u=null,f=h();f==null&&(f=0,l.replaceState({...l.state,idx:f},""));function h(){return(l.state||{idx:null}).idx}function m(){o="POP";let w=h(),N=w==null?null:w-f;f=w,u&&u({action:o,location:v.location,delta:N})}function g(w,N){o="PUSH";let E=Q4(v.location,w,N);f=h()+1;let j=kE(E,f),T=v.createHref(E);try{l.pushState(j,"",T)}catch(O){if(O instanceof DOMException&&O.name==="DataCloneError")throw O;a.location.assign(T)}i&&u&&u({action:o,location:v.location,delta:1})}function x(w,N){o="REPLACE";let E=Q4(v.location,w,N);f=h();let j=kE(E,f),T=v.createHref(E);l.replaceState(j,"",T),i&&u&&u({action:o,location:v.location,delta:0})}function b(w){return kq(w)}let v={get action(){return o},get location(){return e(a,l)},listen(w){if(u)throw new Error("A history only accepts one active listener");return a.addEventListener(EE,m),u=w,()=>{a.removeEventListener(EE,m),u=null}},createHref(w){return t(a,w)},createURL:b,encodeLocation(w){let N=b(w);return{pathname:N.pathname,search:N.search,hash:N.hash}},push:g,replace:x,go(w){return l.go(w)}};return v}function kq(e,t=!1){let r="http://localhost";typeof window<"u"&&(r=window.location.origin!=="null"?window.location.origin:window.location.href),da(r,"No window.location.(origin|href) available to create URL");let n=typeof e=="string"?e:Bx(e);return n=n.replace(/ $/,"%20"),!t&&n.startsWith("//")&&(n=r+n),new URL(n,r)}function DD(e,t,r="/"){return Cq(e,t,r,!1)}function Cq(e,t,r,n){let a=typeof t=="string"?ep(t):t,i=df(a.pathname||"/",r);if(i==null)return null;let l=FD(e);Tq(l);let o=null;for(let u=0;o==null&&u<l.length;++u){let f=zq(i);o=Bq(l[u],f,n)}return o}function FD(e,t=[],r=[],n="",a=!1){let i=(l,o,u=a,f)=>{let h={relativePath:f===void 0?l.path||"":f,caseSensitive:l.caseSensitive===!0,childrenIndex:o,route:l};if(h.relativePath.startsWith("/")){if(!h.relativePath.startsWith(n)&&u)return;da(h.relativePath.startsWith(n),`Absolute route path "${h.relativePath}" nested under path "${n}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),h.relativePath=h.relativePath.slice(n.length)}let m=af([n,h.relativePath]),g=r.concat(h);l.children&&l.children.length>0&&(da(l.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${m}".`),FD(l.children,t,g,m,u)),!(l.path==null&&!l.index)&&t.push({path:m,score:Rq(m,l.index),routesMeta:g})};return e.forEach((l,o)=>{if(l.path===""||!l.path?.includes("?"))i(l,o);else for(let u of PD(l.path))i(l,o,!0,u)}),t}function PD(e){let t=e.split("/");if(t.length===0)return[];let[r,...n]=t,a=r.endsWith("?"),i=r.replace(/\?$/,"");if(n.length===0)return a?[i,""]:[i];let l=PD(n.join("/")),o=[];return o.push(...l.map(u=>u===""?i:[i,u].join("/"))),a&&o.push(...l),o.map(u=>e.startsWith("/")&&u===""?"/":u)}function Tq(e){e.sort((t,r)=>t.score!==r.score?r.score-t.score:Iq(t.routesMeta.map(n=>n.childrenIndex),r.routesMeta.map(n=>n.childrenIndex)))}var Oq=/^:[\w-]+$/,Dq=3,Fq=2,Pq=1,Lq=10,Mq=-2,CE=e=>e==="*";function Rq(e,t){let r=e.split("/"),n=r.length;return r.some(CE)&&(n+=Mq),t&&(n+=Fq),r.filter(a=>!CE(a)).reduce((a,i)=>a+(Oq.test(i)?Dq:i===""?Pq:Lq),n)}function Iq(e,t){return e.length===t.length&&e.slice(0,-1).every((n,a)=>n===t[a])?e[e.length-1]-t[t.length-1]:0}function Bq(e,t,r=!1){let{routesMeta:n}=e,a={},i="/",l=[];for(let o=0;o<n.length;++o){let u=n[o],f=o===n.length-1,h=i==="/"?t:t.slice(i.length)||"/",m=Yv({path:u.relativePath,caseSensitive:u.caseSensitive,end:f},h),g=u.route;if(!m&&f&&r&&!n[n.length-1].route.index&&(m=Yv({path:u.relativePath,caseSensitive:u.caseSensitive,end:!1},h)),!m)return null;Object.assign(a,m.params),l.push({params:a,pathname:af([i,m.pathname]),pathnameBase:Vq(af([i,m.pathnameBase])),route:g}),m.pathnameBase!=="/"&&(i=af([i,m.pathnameBase]))}return l}function Yv(e,t){typeof e=="string"&&(e={path:e,caseSensitive:!1,end:!0});let[r,n]=Uq(e.path,e.caseSensitive,e.end),a=t.match(r);if(!a)return null;let i=a[0],l=i.replace(/(.)\/+$/,"$1"),o=a.slice(1);return{params:n.reduce((f,{paramName:h,isOptional:m},g)=>{if(h==="*"){let b=o[g]||"";l=i.slice(0,i.length-b.length).replace(/(.)\/+$/,"$1")}const x=o[g];return m&&!x?f[h]=void 0:f[h]=(x||"").replace(/%2F/g,"/"),f},{}),pathname:i,pathnameBase:l,pattern:e}}function Uq(e,t=!1,r=!0){zo(e==="*"||!e.endsWith("*")||e.endsWith("/*"),`Route path "${e}" will be treated as if it were "${e.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${e.replace(/\*$/,"/*")}".`);let n=[],a="^"+e.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(l,o,u)=>(n.push({paramName:o,isOptional:u!=null}),u?"/?([^\\/]+)?":"/([^\\/]+)")).replace(/\/([\w-]+)\?(\/|$)/g,"(/$1)?$2");return e.endsWith("*")?(n.push({paramName:"*"}),a+=e==="*"||e==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):r?a+="\\/*$":e!==""&&e!=="/"&&(a+="(?:(?=\\/|$))"),[new RegExp(a,t?void 0:"i"),n]}function zq(e){try{return e.split("/").map(t=>decodeURIComponent(t).replace(/\//g,"%2F")).join("/")}catch(t){return zo(!1,`The URL path "${e}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${t}).`),e}}function df(e,t){if(t==="/")return e;if(!e.toLowerCase().startsWith(t.toLowerCase()))return null;let r=t.endsWith("/")?t.length-1:t.length,n=e.charAt(r);return n&&n!=="/"?null:e.slice(r)||"/"}function qq(e,t="/"){let{pathname:r,search:n="",hash:a=""}=typeof e=="string"?ep(e):e;return{pathname:r?r.startsWith("/")?r:$q(r,t):t,search:Wq(n),hash:Kq(a)}}function $q(e,t){let r=t.replace(/\/+$/,"").split("/");return e.split("/").forEach(a=>{a===".."?r.length>1&&r.pop():a!=="."&&r.push(a)}),r.length>1?r.join("/"):"/"}function Aw(e,t,r,n){return`Cannot include a '${e}' character in a manually specified \`to.${t}\` field [${JSON.stringify(n)}].  Please separate it out to the \`to.${r}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function Hq(e){return e.filter((t,r)=>r===0||t.route.path&&t.route.path.length>0)}function D_(e){let t=Hq(e);return t.map((r,n)=>n===t.length-1?r.pathname:r.pathnameBase)}function F_(e,t,r,n=!1){let a;typeof e=="string"?a=ep(e):(a={...e},da(!a.pathname||!a.pathname.includes("?"),Aw("?","pathname","search",a)),da(!a.pathname||!a.pathname.includes("#"),Aw("#","pathname","hash",a)),da(!a.search||!a.search.includes("#"),Aw("#","search","hash",a)));let i=e===""||a.pathname==="",l=i?"/":a.pathname,o;if(l==null)o=r;else{let m=t.length-1;if(!n&&l.startsWith("..")){let g=l.split("/");for(;g[0]==="..";)g.shift(),m-=1;a.pathname=g.join("/")}o=m>=0?t[m]:"/"}let u=qq(a,o),f=l&&l!=="/"&&l.endsWith("/"),h=(i||l===".")&&r.endsWith("/");return!u.pathname.endsWith("/")&&(f||h)&&(u.pathname+="/"),u}var af=e=>e.join("/").replace(/\/\/+/g,"/"),Vq=e=>e.replace(/\/+$/,"").replace(/^\/*/,"/"),Wq=e=>!e||e==="?"?"":e.startsWith("?")?e:"?"+e,Kq=e=>!e||e==="#"?"":e.startsWith("#")?e:"#"+e;function Gq(e){return e!=null&&typeof e.status=="number"&&typeof e.statusText=="string"&&typeof e.internal=="boolean"&&"data"in e}var LD=["POST","PUT","PATCH","DELETE"];new Set(LD);var Yq=["GET",...LD];new Set(Yq);var tp=k.createContext(null);tp.displayName="DataRouter";var s2=k.createContext(null);s2.displayName="DataRouterState";k.createContext(!1);var MD=k.createContext({isTransitioning:!1});MD.displayName="ViewTransition";var Xq=k.createContext(new Map);Xq.displayName="Fetchers";var Qq=k.createContext(null);Qq.displayName="Await";var Dc=k.createContext(null);Dc.displayName="Navigation";var _g=k.createContext(null);_g.displayName="Location";var Fc=k.createContext({outlet:null,matches:[],isDataRoute:!1});Fc.displayName="Route";var P_=k.createContext(null);P_.displayName="RouteError";function Zq(e,{relative:t}={}){da(rp(),"useHref() may be used only in the context of a <Router> component.");let{basename:r,navigator:n}=k.useContext(Dc),{hash:a,pathname:i,search:l}=jg(e,{relative:t}),o=i;return r!=="/"&&(o=i==="/"?r:af([r,i])),n.createHref({pathname:o,search:l,hash:a})}function rp(){return k.useContext(_g)!=null}function Pc(){return da(rp(),"useLocation() may be used only in the context of a <Router> component."),k.useContext(_g).location}var RD="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function ID(e){k.useContext(Dc).static||k.useLayoutEffect(e)}function Pn(){let{isDataRoute:e}=k.useContext(Fc);return e?f$():Jq()}function Jq(){da(rp(),"useNavigate() may be used only in the context of a <Router> component.");let e=k.useContext(tp),{basename:t,navigator:r}=k.useContext(Dc),{matches:n}=k.useContext(Fc),{pathname:a}=Pc(),i=JSON.stringify(D_(n)),l=k.useRef(!1);return ID(()=>{l.current=!0}),k.useCallback((u,f={})=>{if(zo(l.current,RD),!l.current)return;if(typeof u=="number"){r.go(u);return}let h=F_(u,JSON.parse(i),a,f.relative==="path");e==null&&t!=="/"&&(h.pathname=h.pathname==="/"?t:af([t,h.pathname])),(f.replace?r.replace:r.push)(h,f.state,f)},[t,r,i,a,e])}k.createContext(null);function Ko(){let{matches:e}=k.useContext(Fc),t=e[e.length-1];return t?t.params:{}}function jg(e,{relative:t}={}){let{matches:r}=k.useContext(Fc),{pathname:n}=Pc(),a=JSON.stringify(D_(r));return k.useMemo(()=>F_(e,JSON.parse(a),n,t==="path"),[e,a,n,t])}function e$(e,t){return BD(e,t)}function BD(e,t,r,n,a){da(rp(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:i}=k.useContext(Dc),{matches:l}=k.useContext(Fc),o=l[l.length-1],u=o?o.params:{},f=o?o.pathname:"/",h=o?o.pathnameBase:"/",m=o&&o.route;{let E=m&&m.path||"";UD(f,!m||E.endsWith("*")||E.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${f}" (under <Route path="${E}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${E}"> to <Route path="${E==="/"?"*":`${E}/*`}">.`)}let g=Pc(),x;if(t){let E=typeof t=="string"?ep(t):t;da(h==="/"||E.pathname?.startsWith(h),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${h}" but pathname "${E.pathname}" was given in the \`location\` prop.`),x=E}else x=g;let b=x.pathname||"/",v=b;if(h!=="/"){let E=h.replace(/^\//,"").split("/");v="/"+b.replace(/^\//,"").split("/").slice(E.length).join("/")}let w=DD(e,{pathname:v});zo(m||w!=null,`No routes matched location "${x.pathname}${x.search}${x.hash}" `),zo(w==null||w[w.length-1].route.element!==void 0||w[w.length-1].route.Component!==void 0||w[w.length-1].route.lazy!==void 0,`Matched leaf route at location "${x.pathname}${x.search}${x.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let N=i$(w&&w.map(E=>Object.assign({},E,{params:Object.assign({},u,E.params),pathname:af([h,i.encodeLocation?i.encodeLocation(E.pathname.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:E.pathname]),pathnameBase:E.pathnameBase==="/"?h:af([h,i.encodeLocation?i.encodeLocation(E.pathnameBase.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:E.pathnameBase])})),l,r,n,a);return t&&N?k.createElement(_g.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...x},navigationType:"POP"}},N):N}function t$(){let e=u$(),t=Gq(e)?`${e.status} ${e.statusText}`:e instanceof Error?e.message:JSON.stringify(e),r=e instanceof Error?e.stack:null,n="rgba(200,200,200, 0.5)",a={padding:"0.5rem",backgroundColor:n},i={padding:"2px 4px",backgroundColor:n},l=null;return console.error("Error handled by React Router default ErrorBoundary:",e),l=k.createElement(k.Fragment,null,k.createElement("p",null," Hey developer "),k.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",k.createElement("code",{style:i},"ErrorBoundary")," or"," ",k.createElement("code",{style:i},"errorElement")," prop on your route.")),k.createElement(k.Fragment,null,k.createElement("h2",null,"Unexpected Application Error!"),k.createElement("h3",{style:{fontStyle:"italic"}},t),r?k.createElement("pre",{style:a},r):null,l)}var r$=k.createElement(t$,null),n$=class extends k.Component{constructor(e){super(e),this.state={location:e.location,revalidation:e.revalidation,error:e.error}}static getDerivedStateFromError(e){return{error:e}}static getDerivedStateFromProps(e,t){return t.location!==e.location||t.revalidation!=="idle"&&e.revalidation==="idle"?{error:e.error,location:e.location,revalidation:e.revalidation}:{error:e.error!==void 0?e.error:t.error,location:t.location,revalidation:e.revalidation||t.revalidation}}componentDidCatch(e,t){this.props.unstable_onError?this.props.unstable_onError(e,t):console.error("React Router caught the following error during render",e)}render(){return this.state.error!==void 0?k.createElement(Fc.Provider,{value:this.props.routeContext},k.createElement(P_.Provider,{value:this.state.error,children:this.props.component})):this.props.children}};function a$({routeContext:e,match:t,children:r}){let n=k.useContext(tp);return n&&n.static&&n.staticContext&&(t.route.errorElement||t.route.ErrorBoundary)&&(n.staticContext._deepestRenderedBoundaryId=t.route.id),k.createElement(Fc.Provider,{value:e},r)}function i$(e,t=[],r=null,n=null,a=null){if(e==null){if(!r)return null;if(r.errors)e=r.matches;else if(t.length===0&&!r.initialized&&r.matches.length>0)e=r.matches;else return null}let i=e,l=r?.errors;if(l!=null){let f=i.findIndex(h=>h.route.id&&l?.[h.route.id]!==void 0);da(f>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(l).join(",")}`),i=i.slice(0,Math.min(i.length,f+1))}let o=!1,u=-1;if(r)for(let f=0;f<i.length;f++){let h=i[f];if((h.route.HydrateFallback||h.route.hydrateFallbackElement)&&(u=f),h.route.id){let{loaderData:m,errors:g}=r,x=h.route.loader&&!m.hasOwnProperty(h.route.id)&&(!g||g[h.route.id]===void 0);if(h.route.lazy||x){o=!0,u>=0?i=i.slice(0,u+1):i=[i[0]];break}}}return i.reduceRight((f,h,m)=>{let g,x=!1,b=null,v=null;r&&(g=l&&h.route.id?l[h.route.id]:void 0,b=h.route.errorElement||r$,o&&(u<0&&m===0?(UD("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),x=!0,v=null):u===m&&(x=!0,v=h.route.hydrateFallbackElement||null)));let w=t.concat(i.slice(0,m+1)),N=()=>{let E;return g?E=b:x?E=v:h.route.Component?E=k.createElement(h.route.Component,null):h.route.element?E=h.route.element:E=f,k.createElement(a$,{match:h,routeContext:{outlet:f,matches:w,isDataRoute:r!=null},children:E})};return r&&(h.route.ErrorBoundary||h.route.errorElement||m===0)?k.createElement(n$,{location:r.location,revalidation:r.revalidation,component:b,error:g,children:N(),routeContext:{outlet:null,matches:w,isDataRoute:!0},unstable_onError:n}):N()},null)}function L_(e){return`${e} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function s$(e){let t=k.useContext(tp);return da(t,L_(e)),t}function l$(e){let t=k.useContext(s2);return da(t,L_(e)),t}function o$(e){let t=k.useContext(Fc);return da(t,L_(e)),t}function M_(e){let t=o$(e),r=t.matches[t.matches.length-1];return da(r.route.id,`${e} can only be used on routes that contain a unique "id"`),r.route.id}function c$(){return M_("useRouteId")}function u$(){let e=k.useContext(P_),t=l$("useRouteError"),r=M_("useRouteError");return e!==void 0?e:t.errors?.[r]}function f$(){let{router:e}=s$("useNavigate"),t=M_("useNavigate"),r=k.useRef(!1);return ID(()=>{r.current=!0}),k.useCallback(async(a,i={})=>{zo(r.current,RD),r.current&&(typeof a=="number"?e.navigate(a):await e.navigate(a,{fromRouteId:t,...i}))},[e,t])}var TE={};function UD(e,t,r){!t&&!TE[e]&&(TE[e]=!0,zo(!1,r))}k.memo(d$);function d$({routes:e,future:t,state:r,unstable_onError:n}){return BD(e,void 0,r,n,t)}function Em({to:e,replace:t,state:r,relative:n}){da(rp(),"<Navigate> may be used only in the context of a <Router> component.");let{static:a}=k.useContext(Dc);zo(!a,"<Navigate> must not be used on the initial render in a <StaticRouter>. This is a no-op, but you should modify your code so the <Navigate> is only ever rendered in response to some user interaction or state change.");let{matches:i}=k.useContext(Fc),{pathname:l}=Pc(),o=Pn(),u=F_(e,D_(i),l,n==="path"),f=JSON.stringify(u);return k.useEffect(()=>{o(JSON.parse(f),{replace:t,state:r,relative:n})},[o,f,n,t,r]),null}function Br(e){da(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function h$({basename:e="/",children:t=null,location:r,navigationType:n="POP",navigator:a,static:i=!1}){da(!rp(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let l=e.replace(/^\/*/,"/"),o=k.useMemo(()=>({basename:l,navigator:a,static:i,future:{}}),[l,a,i]);typeof r=="string"&&(r=ep(r));let{pathname:u="/",search:f="",hash:h="",state:m=null,key:g="default"}=r,x=k.useMemo(()=>{let b=df(u,l);return b==null?null:{location:{pathname:b,search:f,hash:h,state:m,key:g},navigationType:n}},[l,u,f,h,m,g,n]);return zo(x!=null,`<Router basename="${l}"> is not able to match the URL "${u}${f}${h}" because it does not start with the basename, so the <Router> won't render anything.`),x==null?null:k.createElement(Dc.Provider,{value:o},k.createElement(_g.Provider,{children:t,value:x}))}function m$({children:e,location:t}){return e$(Z4(e),t)}function Z4(e,t=[]){let r=[];return k.Children.forEach(e,(n,a)=>{if(!k.isValidElement(n))return;let i=[...t,a];if(n.type===k.Fragment){r.push.apply(r,Z4(n.props.children,i));return}da(n.type===Br,`[${typeof n.type=="string"?n.type:n.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),da(!n.props.index||!n.props.children,"An index route cannot have child routes.");let l={id:n.props.id||i.join("-"),caseSensitive:n.props.caseSensitive,element:n.props.element,Component:n.props.Component,index:n.props.index,path:n.props.path,middleware:n.props.middleware,loader:n.props.loader,action:n.props.action,hydrateFallbackElement:n.props.hydrateFallbackElement,HydrateFallback:n.props.HydrateFallback,errorElement:n.props.errorElement,ErrorBoundary:n.props.ErrorBoundary,hasErrorBoundary:n.props.hasErrorBoundary===!0||n.props.ErrorBoundary!=null||n.props.errorElement!=null,shouldRevalidate:n.props.shouldRevalidate,handle:n.props.handle,lazy:n.props.lazy};n.props.children&&(l.children=Z4(n.props.children,i)),r.push(l)}),r}var Lv="get",Mv="application/x-www-form-urlencoded";function l2(e){return e!=null&&typeof e.tagName=="string"}function p$(e){return l2(e)&&e.tagName.toLowerCase()==="button"}function x$(e){return l2(e)&&e.tagName.toLowerCase()==="form"}function g$(e){return l2(e)&&e.tagName.toLowerCase()==="input"}function v$(e){return!!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)}function y$(e,t){return e.button===0&&(!t||t==="_self")&&!v$(e)}function J4(e=""){return new URLSearchParams(typeof e=="string"||Array.isArray(e)||e instanceof URLSearchParams?e:Object.keys(e).reduce((t,r)=>{let n=e[r];return t.concat(Array.isArray(n)?n.map(a=>[r,a]):[[r,n]])},[]))}function b$(e,t){let r=J4(e);return t&&t.forEach((n,a)=>{r.has(a)||t.getAll(a).forEach(i=>{r.append(a,i)})}),r}var Y1=null;function w$(){if(Y1===null)try{new FormData(document.createElement("form"),0),Y1=!1}catch{Y1=!0}return Y1}var N$=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function Ew(e){return e!=null&&!N$.has(e)?(zo(!1,`"${e}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${Mv}"`),null):e}function _$(e,t){let r,n,a,i,l;if(x$(e)){let o=e.getAttribute("action");n=o?df(o,t):null,r=e.getAttribute("method")||Lv,a=Ew(e.getAttribute("enctype"))||Mv,i=new FormData(e)}else if(p$(e)||g$(e)&&(e.type==="submit"||e.type==="image")){let o=e.form;if(o==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let u=e.getAttribute("formaction")||o.getAttribute("action");if(n=u?df(u,t):null,r=e.getAttribute("formmethod")||o.getAttribute("method")||Lv,a=Ew(e.getAttribute("formenctype"))||Ew(o.getAttribute("enctype"))||Mv,i=new FormData(o,e),!w$()){let{name:f,type:h,value:m}=e;if(h==="image"){let g=f?`${f}.`:"";i.append(`${g}x`,"0"),i.append(`${g}y`,"0")}else f&&i.append(f,m)}}else{if(l2(e))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');r=Lv,n=null,a=Mv,l=e}return i&&a==="text/plain"&&(l=i,i=void 0),{action:n,method:r.toLowerCase(),encType:a,formData:i,body:l}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");function R_(e,t){if(e===!1||e===null||typeof e>"u")throw new Error(t)}function j$(e,t,r){let n=typeof e=="string"?new URL(e,typeof window>"u"?"server://singlefetch/":window.location.origin):e;return n.pathname==="/"?n.pathname=`_root.${r}`:t&&df(n.pathname,t)==="/"?n.pathname=`${t.replace(/\/$/,"")}/_root.${r}`:n.pathname=`${n.pathname.replace(/\/$/,"")}.${r}`,n}async function S$(e,t){if(e.id in t)return t[e.id];try{let r=await import(e.module);return t[e.id]=r,r}catch(r){return console.error(`Error loading route module \`${e.module}\`, reloading page...`),console.error(r),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function A$(e){return e==null?!1:e.href==null?e.rel==="preload"&&typeof e.imageSrcSet=="string"&&typeof e.imageSizes=="string":typeof e.rel=="string"&&typeof e.href=="string"}async function E$(e,t,r){let n=await Promise.all(e.map(async a=>{let i=t.routes[a.route.id];if(i){let l=await S$(i,r);return l.links?l.links():[]}return[]}));return O$(n.flat(1).filter(A$).filter(a=>a.rel==="stylesheet"||a.rel==="preload").map(a=>a.rel==="stylesheet"?{...a,rel:"prefetch",as:"style"}:{...a,rel:"prefetch"}))}function OE(e,t,r,n,a,i){let l=(u,f)=>r[f]?u.route.id!==r[f].route.id:!0,o=(u,f)=>r[f].pathname!==u.pathname||r[f].route.path?.endsWith("*")&&r[f].params["*"]!==u.params["*"];return i==="assets"?t.filter((u,f)=>l(u,f)||o(u,f)):i==="data"?t.filter((u,f)=>{let h=n.routes[u.route.id];if(!h||!h.hasLoader)return!1;if(l(u,f)||o(u,f))return!0;if(u.route.shouldRevalidate){let m=u.route.shouldRevalidate({currentUrl:new URL(a.pathname+a.search+a.hash,window.origin),currentParams:r[0]?.params||{},nextUrl:new URL(e,window.origin),nextParams:u.params,defaultShouldRevalidate:!0});if(typeof m=="boolean")return m}return!0}):[]}function k$(e,t,{includeHydrateFallback:r}={}){return C$(e.map(n=>{let a=t.routes[n.route.id];if(!a)return[];let i=[a.module];return a.clientActionModule&&(i=i.concat(a.clientActionModule)),a.clientLoaderModule&&(i=i.concat(a.clientLoaderModule)),r&&a.hydrateFallbackModule&&(i=i.concat(a.hydrateFallbackModule)),a.imports&&(i=i.concat(a.imports)),i}).flat(1))}function C$(e){return[...new Set(e)]}function T$(e){let t={},r=Object.keys(e).sort();for(let n of r)t[n]=e[n];return t}function O$(e,t){let r=new Set;return new Set(t),e.reduce((n,a)=>{let i=JSON.stringify(T$(a));return r.has(i)||(r.add(i),n.push({key:i,link:a})),n},[])}function zD(){let e=k.useContext(tp);return R_(e,"You must render this element inside a <DataRouterContext.Provider> element"),e}function D$(){let e=k.useContext(s2);return R_(e,"You must render this element inside a <DataRouterStateContext.Provider> element"),e}var I_=k.createContext(void 0);I_.displayName="FrameworkContext";function qD(){let e=k.useContext(I_);return R_(e,"You must render this element inside a <HydratedRouter> element"),e}function F$(e,t){let r=k.useContext(I_),[n,a]=k.useState(!1),[i,l]=k.useState(!1),{onFocus:o,onBlur:u,onMouseEnter:f,onMouseLeave:h,onTouchStart:m}=t,g=k.useRef(null);k.useEffect(()=>{if(e==="render"&&l(!0),e==="viewport"){let v=N=>{N.forEach(E=>{l(E.isIntersecting)})},w=new IntersectionObserver(v,{threshold:.5});return g.current&&w.observe(g.current),()=>{w.disconnect()}}},[e]),k.useEffect(()=>{if(n){let v=setTimeout(()=>{l(!0)},100);return()=>{clearTimeout(v)}}},[n]);let x=()=>{a(!0)},b=()=>{a(!1),l(!1)};return r?e!=="intent"?[i,g,{}]:[i,g,{onFocus:ix(o,x),onBlur:ix(u,b),onMouseEnter:ix(f,x),onMouseLeave:ix(h,b),onTouchStart:ix(m,x)}]:[!1,g,{}]}function ix(e,t){return r=>{e&&e(r),r.defaultPrevented||t(r)}}function P$({page:e,...t}){let{router:r}=zD(),n=k.useMemo(()=>DD(r.routes,e,r.basename),[r.routes,e,r.basename]);return n?k.createElement(M$,{page:e,matches:n,...t}):null}function L$(e){let{manifest:t,routeModules:r}=qD(),[n,a]=k.useState([]);return k.useEffect(()=>{let i=!1;return E$(e,t,r).then(l=>{i||a(l)}),()=>{i=!0}},[e,t,r]),n}function M$({page:e,matches:t,...r}){let n=Pc(),{manifest:a,routeModules:i}=qD(),{basename:l}=zD(),{loaderData:o,matches:u}=D$(),f=k.useMemo(()=>OE(e,t,u,a,n,"data"),[e,t,u,a,n]),h=k.useMemo(()=>OE(e,t,u,a,n,"assets"),[e,t,u,a,n]),m=k.useMemo(()=>{if(e===n.pathname+n.search+n.hash)return[];let b=new Set,v=!1;if(t.forEach(N=>{let E=a.routes[N.route.id];!E||!E.hasLoader||(!f.some(j=>j.route.id===N.route.id)&&N.route.id in o&&i[N.route.id]?.shouldRevalidate||E.hasClientLoader?v=!0:b.add(N.route.id))}),b.size===0)return[];let w=j$(e,l,"data");return v&&b.size>0&&w.searchParams.set("_routes",t.filter(N=>b.has(N.route.id)).map(N=>N.route.id).join(",")),[w.pathname+w.search]},[l,o,n,a,f,t,e,i]),g=k.useMemo(()=>k$(h,a),[h,a]),x=L$(h);return k.createElement(k.Fragment,null,m.map(b=>k.createElement("link",{key:b,rel:"prefetch",as:"fetch",href:b,...r})),g.map(b=>k.createElement("link",{key:b,rel:"modulepreload",href:b,...r})),x.map(({key:b,link:v})=>k.createElement("link",{key:b,nonce:r.nonce,...v})))}function R$(...e){return t=>{e.forEach(r=>{typeof r=="function"?r(t):r!=null&&(r.current=t)})}}var $D=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{$D&&(window.__reactRouterVersion="7.9.4")}catch{}function I$({basename:e,children:t,window:r}){let n=k.useRef();n.current==null&&(n.current=Sq({window:r,v5Compat:!0}));let a=n.current,[i,l]=k.useState({action:a.action,location:a.location}),o=k.useCallback(u=>{k.startTransition(()=>l(u))},[l]);return k.useLayoutEffect(()=>a.listen(o),[a,o]),k.createElement(h$,{basename:e,children:t,location:i.location,navigationType:i.action,navigator:a})}var HD=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,Sa=k.forwardRef(function({onClick:t,discover:r="render",prefetch:n="none",relative:a,reloadDocument:i,replace:l,state:o,target:u,to:f,preventScrollReset:h,viewTransition:m,...g},x){let{basename:b}=k.useContext(Dc),v=typeof f=="string"&&HD.test(f),w,N=!1;if(typeof f=="string"&&v&&(w=f,$D))try{let B=new URL(window.location.href),H=f.startsWith("//")?new URL(B.protocol+f):new URL(f),L=df(H.pathname,b);H.origin===B.origin&&L!=null?f=L+H.search+H.hash:N=!0}catch{zo(!1,`<Link to="${f}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}let E=Zq(f,{relative:a}),[j,T,O]=F$(n,g),P=q$(f,{replace:l,state:o,target:u,preventScrollReset:h,relative:a,viewTransition:m});function D(B){t&&t(B),B.defaultPrevented||P(B)}let M=k.createElement("a",{...g,...O,href:w||E,onClick:N||i?t:D,ref:R$(x,T),target:u,"data-discover":!v&&r==="render"?"true":void 0});return j&&!v?k.createElement(k.Fragment,null,M,k.createElement(P$,{page:E})):M});Sa.displayName="Link";var B$=k.forwardRef(function({"aria-current":t="page",caseSensitive:r=!1,className:n="",end:a=!1,style:i,to:l,viewTransition:o,children:u,...f},h){let m=jg(l,{relative:f.relative}),g=Pc(),x=k.useContext(s2),{navigator:b,basename:v}=k.useContext(Dc),w=x!=null&&K$(m)&&o===!0,N=b.encodeLocation?b.encodeLocation(m).pathname:m.pathname,E=g.pathname,j=x&&x.navigation&&x.navigation.location?x.navigation.location.pathname:null;r||(E=E.toLowerCase(),j=j?j.toLowerCase():null,N=N.toLowerCase()),j&&v&&(j=df(j,v)||j);const T=N!=="/"&&N.endsWith("/")?N.length-1:N.length;let O=E===N||!a&&E.startsWith(N)&&E.charAt(T)==="/",P=j!=null&&(j===N||!a&&j.startsWith(N)&&j.charAt(N.length)==="/"),D={isActive:O,isPending:P,isTransitioning:w},M=O?t:void 0,B;typeof n=="function"?B=n(D):B=[n,O?"active":null,P?"pending":null,w?"transitioning":null].filter(Boolean).join(" ");let H=typeof i=="function"?i(D):i;return k.createElement(Sa,{...f,"aria-current":M,className:B,ref:h,style:H,to:l,viewTransition:o},typeof u=="function"?u(D):u)});B$.displayName="NavLink";var U$=k.forwardRef(({discover:e="render",fetcherKey:t,navigate:r,reloadDocument:n,replace:a,state:i,method:l=Lv,action:o,onSubmit:u,relative:f,preventScrollReset:h,viewTransition:m,...g},x)=>{let b=V$(),v=W$(o,{relative:f}),w=l.toLowerCase()==="get"?"get":"post",N=typeof o=="string"&&HD.test(o),E=j=>{if(u&&u(j),j.defaultPrevented)return;j.preventDefault();let T=j.nativeEvent.submitter,O=T?.getAttribute("formmethod")||l;b(T||j.currentTarget,{fetcherKey:t,method:O,navigate:r,replace:a,state:i,relative:f,preventScrollReset:h,viewTransition:m})};return k.createElement("form",{ref:x,method:w,action:v,onSubmit:n?u:E,...g,"data-discover":!N&&e==="render"?"true":void 0})});U$.displayName="Form";function z$(e){return`${e} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function VD(e){let t=k.useContext(tp);return da(t,z$(e)),t}function q$(e,{target:t,replace:r,state:n,preventScrollReset:a,relative:i,viewTransition:l}={}){let o=Pn(),u=Pc(),f=jg(e,{relative:i});return k.useCallback(h=>{if(y$(h,t)){h.preventDefault();let m=r!==void 0?r:Bx(u)===Bx(f);o(e,{replace:m,state:n,preventScrollReset:a,relative:i,viewTransition:l})}},[u,o,f,r,n,t,e,a,i,l])}function WD(e){zo(typeof URLSearchParams<"u","You cannot use the `useSearchParams` hook in a browser that does not support the URLSearchParams API. If you need to support Internet Explorer 11, we recommend you load a polyfill such as https://github.com/ungap/url-search-params.");let t=k.useRef(J4(e)),r=k.useRef(!1),n=Pc(),a=k.useMemo(()=>b$(n.search,r.current?null:t.current),[n.search]),i=Pn(),l=k.useCallback((o,u)=>{const f=J4(typeof o=="function"?o(new URLSearchParams(a)):o);r.current=!0,i("?"+f,u)},[i,a]);return[a,l]}var $$=0,H$=()=>`__${String(++$$)}__`;function V$(){let{router:e}=VD("useSubmit"),{basename:t}=k.useContext(Dc),r=c$();return k.useCallback(async(n,a={})=>{let{action:i,method:l,encType:o,formData:u,body:f}=_$(n,t);if(a.navigate===!1){let h=a.fetcherKey||H$();await e.fetch(h,r,a.action||i,{preventScrollReset:a.preventScrollReset,formData:u,body:f,formMethod:a.method||l,formEncType:a.encType||o,flushSync:a.flushSync})}else await e.navigate(a.action||i,{preventScrollReset:a.preventScrollReset,formData:u,body:f,formMethod:a.method||l,formEncType:a.encType||o,replace:a.replace,state:a.state,fromRouteId:r,flushSync:a.flushSync,viewTransition:a.viewTransition})},[e,t,r])}function W$(e,{relative:t}={}){let{basename:r}=k.useContext(Dc),n=k.useContext(Fc);da(n,"useFormAction must be used inside a RouteContext");let[a]=n.matches.slice(-1),i={...jg(e||".",{relative:t})},l=Pc();if(e==null){i.search=l.search;let o=new URLSearchParams(i.search),u=o.getAll("index");if(u.some(h=>h==="")){o.delete("index"),u.filter(m=>m).forEach(m=>o.append("index",m));let h=o.toString();i.search=h?`?${h}`:""}}return(!e||e===".")&&a.route.index&&(i.search=i.search?i.search.replace(/^\?/,"?index&"):"?index"),r!=="/"&&(i.pathname=i.pathname==="/"?r:af([r,i.pathname])),Bx(i)}function K$(e,{relative:t}={}){let r=k.useContext(MD);da(r!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:n}=VD("useViewTransitionState"),a=jg(e,{relative:t});if(!r.isTransitioning)return!1;let i=df(r.currentLocation.pathname,n)||r.currentLocation.pathname,l=df(r.nextLocation.pathname,n)||r.nextLocation.pathname;return Yv(a.pathname,l)!=null||Yv(a.pathname,i)!=null}var KD=bD();const G$="http://localhost:3001/api";class X1 extends Error{status;code;constructor(t,r,n){super(t),this.name="ApiError",this.status=r,this.code=n}}class Y${baseURL;constructor(t){this.baseURL=t}async request(t,r={}){const{params:n,...a}=r;let i=`${this.baseURL}${t}`;if(n){const o=new URLSearchParams(n).toString();i+=`?${o}`}const l={"Content-Type":"application/json",...a.headers};try{const o=await fetch(i,{...a,headers:l});if(!o.ok){const f=await o.json().catch(()=>({}));throw new X1(f.error||f.message||"Une erreur est survenue",o.status,f.code)}return await o.json()}catch(o){throw o instanceof X1?o:o instanceof Error?new X1(`Erreur de connexion: ${o.message}`,void 0,"NETWORK_ERROR"):new X1("Une erreur inconnue est survenue")}}async get(t,r){return this.request(t,{method:"GET",params:r})}async post(t,r){return this.request(t,{method:"POST",body:JSON.stringify(r)})}async put(t,r){return this.request(t,{method:"PUT",body:JSON.stringify(r)})}async patch(t,r){return this.request(t,{method:"PATCH",body:JSON.stringify(r)})}async delete(t){return this.request(t,{method:"DELETE"})}}const Qe=new Y$(G$),X$={async login(e,t){return(await Qe.post("/auth/login",{username:e,password:t})).user}},GD=k.createContext(void 0),Q$=({children:e})=>{const[t,r]=k.useState(null),[n,a]=k.useState(!0);k.useEffect(()=>{const f=localStorage.getItem("current_user");f&&r(JSON.parse(f)),a(!1)},[]);const i=async(f,h)=>{try{const m=await X$.login(f,h);return r(m),localStorage.setItem("current_user",JSON.stringify(m)),!0}catch(m){return console.error("Erreur de connexion:",m),!1}},l=()=>{r(null),localStorage.removeItem("current_user")},o=t?.role==="admin",u=t?.role==="gerant";return s.jsx(GD.Provider,{value:{user:t,isAuthenticated:!!t,isLoading:n,login:i,logout:l,isAdmin:o,isGerant:u},children:e})},Ai=()=>{const e=k.useContext(GD);if(!e)throw new Error("useAuth must be used within an AuthProvider");return e};function Rd(...e){return e.filter(Boolean).join(" ")}const Ge=k.forwardRef(({className:e,variant:t="default",size:r="default",...n},a)=>{const i="inline-flex items-center justify-center rounded-md text-sm font-medium transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-offset-2 disabled:opacity-50 disabled:pointer-events-none",l={default:"bg-blue-600 text-white hover:bg-blue-700",destructive:"bg-red-600 text-white hover:bg-red-700",outline:"border border-gray-300 bg-transparent hover:bg-gray-100",secondary:"bg-gray-200 text-gray-900 hover:bg-gray-300",ghost:"hover:bg-gray-100 hover:text-gray-900",link:"underline-offset-4 hover:underline text-blue-600"},o={default:"h-10 py-2 px-4",sm:"h-9 px-3 rounded-md",lg:"h-11 px-8 rounded-md",icon:"h-10 w-10"};return s.jsx("button",{className:Rd(i,l[t],o[r],e),ref:a,...n})});Ge.displayName="Button";const Na=k.forwardRef(({className:e,type:t,...r},n)=>s.jsx("input",{type:t,className:Rd("flex h-10 w-full rounded-md border border-gray-300 bg-white px-3 py-2 text-sm ring-offset-white file:border-0 file:bg-transparent file:text-sm file:font-medium placeholder:text-gray-400 focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-blue-500 focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",e),ref:n,...r}));Na.displayName="Input";const Ur=k.forwardRef(({className:e,...t},r)=>s.jsx("div",{ref:r,className:Rd("rounded-lg border border-gray-200 bg-white text-gray-950 shadow-sm",e),...t}));Ur.displayName="Card";const hf=k.forwardRef(({className:e,...t},r)=>s.jsx("div",{ref:r,className:Rd("flex flex-col space-y-1.5 p-6",e),...t}));hf.displayName="CardHeader";const mf=k.forwardRef(({className:e,...t},r)=>s.jsx("h3",{ref:r,className:Rd("text-2xl font-semibold leading-none tracking-tight",e),...t}));mf.displayName="CardTitle";const YD=k.forwardRef(({className:e,...t},r)=>s.jsx("p",{ref:r,className:Rd("text-sm text-gray-500",e),...t}));YD.displayName="CardDescription";const zr=k.forwardRef(({className:e,...t},r)=>s.jsx("div",{ref:r,className:Rd("p-6 pt-0",e),...t}));zr.displayName="CardContent";const Z$=k.forwardRef(({className:e,...t},r)=>s.jsx("div",{ref:r,className:Rd("flex items-center p-6 pt-0",e),...t}));Z$.displayName="CardFooter";/**
 * @license lucide-react v0.546.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const J$=e=>e.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),eH=e=>e.replace(/^([A-Z])|[\s-_]+(\w)/g,(t,r,n)=>n?n.toUpperCase():r.toLowerCase()),DE=e=>{const t=eH(e);return t.charAt(0).toUpperCase()+t.slice(1)},XD=(...e)=>e.filter((t,r,n)=>!!t&&t.trim()!==""&&n.indexOf(t)===r).join(" ").trim(),tH=e=>{for(const t in e)if(t.startsWith("aria-")||t==="role"||t==="title")return!0};/**
 * @license lucide-react v0.546.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var rH={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.546.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const nH=k.forwardRef(({color:e="currentColor",size:t=24,strokeWidth:r=2,absoluteStrokeWidth:n,className:a="",children:i,iconNode:l,...o},u)=>k.createElement("svg",{ref:u,...rH,width:t,height:t,stroke:e,strokeWidth:n?Number(r)*24/Number(t):r,className:XD("lucide",a),...!i&&!tH(o)&&{"aria-hidden":"true"},...o},[...l.map(([f,h])=>k.createElement(f,h)),...Array.isArray(i)?i:[i]]));/**
 * @license lucide-react v0.546.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const vt=(e,t)=>{const r=k.forwardRef(({className:n,...a},i)=>k.createElement(nH,{ref:i,iconNode:t,className:XD(`lucide-${J$(DE(e))}`,`lucide-${e}`,n),...a}));return r.displayName=DE(e),r};/**
 * @license lucide-react v0.546.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const aH=[["path",{d:"M22 12h-2.48a2 2 0 0 0-1.93 1.46l-2.35 8.36a.25.25 0 0 1-.48 0L9.24 2.18a.25.25 0 0 0-.48 0l-2.35 8.36A2 2 0 0 1 4.49 12H2",key:"169zse"}]],QD=vt("activity",aH);/**
 * @license lucide-react v0.546.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const iH=[["path",{d:"M12 5v14",key:"s699le"}],["path",{d:"m19 12-7 7-7-7",key:"1idqje"}]],sH=vt("arrow-down",iH);/**
 * @license lucide-react v0.546.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const lH=[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]],Hn=vt("arrow-left",lH);/**
 * @license lucide-react v0.546.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const oH=[["path",{d:"m5 12 7-7 7 7",key:"hav0vg"}],["path",{d:"M12 19V5",key:"x0mq9r"}]],cH=vt("arrow-up",oH);/**
 * @license lucide-react v0.546.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const uH=[["circle",{cx:"12",cy:"12",r:"4",key:"4exip2"}],["path",{d:"M16 8v5a3 3 0 0 0 6 0v-1a10 10 0 1 0-4 8",key:"7n84p3"}]],fH=vt("at-sign",uH);/**
 * @license lucide-react v0.546.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const dH=[["path",{d:"m15.477 12.89 1.515 8.526a.5.5 0 0 1-.81.47l-3.58-2.687a1 1 0 0 0-1.197 0l-3.586 2.686a.5.5 0 0 1-.81-.469l1.514-8.526",key:"1yiouv"}],["circle",{cx:"12",cy:"8",r:"6",key:"1vp47v"}]],oi=vt("award",dH);/**
 * @license lucide-react v0.546.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const hH=[["path",{d:"M12 7v14",key:"1akyts"}],["path",{d:"M3 18a1 1 0 0 1-1-1V4a1 1 0 0 1 1-1h5a4 4 0 0 1 4 4 4 4 0 0 1 4-4h5a1 1 0 0 1 1 1v13a1 1 0 0 1-1 1h-6a3 3 0 0 0-3 3 3 3 0 0 0-3-3z",key:"ruj8y"}]],ua=vt("book-open",hH);/**
 * @license lucide-react v0.546.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const mH=[["path",{d:"M21 8a2 2 0 0 0-1-1.73l-7-4a2 2 0 0 0-2 0l-7 4A2 2 0 0 0 3 8v8a2 2 0 0 0 1 1.73l7 4a2 2 0 0 0 2 0l7-4A2 2 0 0 0 21 16Z",key:"hh9hay"}],["path",{d:"m3.3 7 8.7 5 8.7-5",key:"g66t2b"}],["path",{d:"M12 22V12",key:"d0xqtd"}]],pH=vt("box",mH);/**
 * @license lucide-react v0.546.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xH=[["path",{d:"M10 12h4",key:"a56b0p"}],["path",{d:"M10 8h4",key:"1sr2af"}],["path",{d:"M14 21v-3a2 2 0 0 0-4 0v3",key:"1rgiei"}],["path",{d:"M6 10H4a2 2 0 0 0-2 2v7a2 2 0 0 0 2 2h16a2 2 0 0 0 2-2V9a2 2 0 0 0-2-2h-2",key:"secmi2"}],["path",{d:"M6 21V5a2 2 0 0 1 2-2h8a2 2 0 0 1 2 2v16",key:"16ra0t"}]],gH=vt("building-2",xH);/**
 * @license lucide-react v0.546.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const vH=[["rect",{width:"16",height:"20",x:"4",y:"2",rx:"2",key:"1nb95v"}],["line",{x1:"8",x2:"16",y1:"6",y2:"6",key:"x4nwl0"}],["line",{x1:"16",x2:"16",y1:"14",y2:"18",key:"wjye3r"}],["path",{d:"M16 10h.01",key:"1m94wz"}],["path",{d:"M12 10h.01",key:"1nrarc"}],["path",{d:"M8 10h.01",key:"19clt8"}],["path",{d:"M12 14h.01",key:"1etili"}],["path",{d:"M8 14h.01",key:"6423bh"}],["path",{d:"M12 18h.01",key:"mhygvu"}],["path",{d:"M8 18h.01",key:"lrp35t"}]],hu=vt("calculator",vH);/**
 * @license lucide-react v0.546.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const yH=[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}],["path",{d:"m9 16 2 2 4-4",key:"19s6y9"}]],bH=vt("calendar-check",yH);/**
 * @license lucide-react v0.546.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const wH=[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]],_i=vt("calendar",wH);/**
 * @license lucide-react v0.546.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const NH=[["path",{d:"M3 3v16a2 2 0 0 0 2 2h16",key:"c24i48"}],["path",{d:"M18 17V9",key:"2bz60n"}],["path",{d:"M13 17V5",key:"1frdt8"}],["path",{d:"M8 17v-3",key:"17ska0"}]],ZD=vt("chart-column",NH);/**
 * @license lucide-react v0.546.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _H=[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]],B_=vt("check",_H);/**
 * @license lucide-react v0.546.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const jH=[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]],Sd=vt("chevron-down",jH);/**
 * @license lucide-react v0.546.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const SH=[["path",{d:"m15 18-6-6 6-6",key:"1wnfg3"}]],U_=vt("chevron-left",SH);/**
 * @license lucide-react v0.546.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const AH=[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]],Io=vt("chevron-right",AH);/**
 * @license lucide-react v0.546.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const EH=[["path",{d:"m18 15-6-6-6 6",key:"153udz"}]],JD=vt("chevron-up",EH);/**
 * @license lucide-react v0.546.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const kH=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]],en=vt("circle-alert",kH);/**
 * @license lucide-react v0.546.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const CH=[["path",{d:"M21.801 10A10 10 0 1 1 17 3.335",key:"yps3ct"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]],Xa=vt("circle-check-big",CH);/**
 * @license lucide-react v0.546.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const TH=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]],eF=vt("circle-check",TH);/**
 * @license lucide-react v0.546.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const OH=[["path",{d:"M9 9.003a1 1 0 0 1 1.517-.859l4.997 2.997a1 1 0 0 1 0 1.718l-4.997 2.997A1 1 0 0 1 9 14.996z",key:"kmsa83"}],["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]],Sc=vt("circle-play",OH);/**
 * @license lucide-react v0.546.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const DH=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}],["path",{d:"M7 20.662V19a2 2 0 0 1 2-2h6a2 2 0 0 1 2 2v1.662",key:"154egf"}]],FH=vt("circle-user",DH);/**
 * @license lucide-react v0.546.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const PH=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m15 9-6 6",key:"1uzhvr"}],["path",{d:"m9 9 6 6",key:"z0biqf"}]],pf=vt("circle-x",PH);/**
 * @license lucide-react v0.546.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const LH=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]],MH=vt("circle",LH);/**
 * @license lucide-react v0.546.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const RH=[["rect",{width:"8",height:"4",x:"8",y:"2",rx:"1",ry:"1",key:"tgr4d6"}],["path",{d:"M16 4h2a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2H6a2 2 0 0 1-2-2V6a2 2 0 0 1 2-2h2",key:"116196"}],["path",{d:"m9 14 2 2 4-4",key:"df797q"}]],Xv=vt("clipboard-check",RH);/**
 * @license lucide-react v0.546.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const IH=[["path",{d:"M12 6v6l4 2",key:"mmk7yg"}],["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]],As=vt("clock",IH);/**
 * @license lucide-react v0.546.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const BH=[["rect",{width:"14",height:"14",x:"8",y:"8",rx:"2",ry:"2",key:"17jyea"}],["path",{d:"M4 16c-1.1 0-2-.9-2-2V4c0-1.1.9-2 2-2h10c1.1 0 2 .9 2 2",key:"zix9uf"}]],D0=vt("copy",BH);/**
 * @license lucide-react v0.546.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const UH=[["rect",{width:"20",height:"14",x:"2",y:"5",rx:"2",key:"ynyp8z"}],["line",{x1:"2",x2:"22",y1:"10",y2:"10",key:"1b3vmo"}]],zH=vt("credit-card",UH);/**
 * @license lucide-react v0.546.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qH=[["line",{x1:"12",x2:"12",y1:"2",y2:"22",key:"7eqyqh"}],["path",{d:"M17 5H9.5a3.5 3.5 0 0 0 0 7h5a3.5 3.5 0 0 1 0 7H6",key:"1b0p4s"}]],Qv=vt("dollar-sign",qH);/**
 * @license lucide-react v0.546.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $H=[["path",{d:"M12 15V3",key:"m9g1x1"}],["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["path",{d:"m7 10 5 5 5-5",key:"brsn70"}]],Es=vt("download",$H);/**
 * @license lucide-react v0.546.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const HH=[["path",{d:"M15 3h6v6",key:"1q9fwt"}],["path",{d:"M10 14 21 3",key:"gplh6r"}],["path",{d:"M18 13v6a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h6",key:"a6xqqp"}]],o2=vt("external-link",HH);/**
 * @license lucide-react v0.546.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const VH=[["path",{d:"M10.733 5.076a10.744 10.744 0 0 1 11.205 6.575 1 1 0 0 1 0 .696 10.747 10.747 0 0 1-1.444 2.49",key:"ct8e1f"}],["path",{d:"M14.084 14.158a3 3 0 0 1-4.242-4.242",key:"151rxh"}],["path",{d:"M17.479 17.499a10.75 10.75 0 0 1-15.417-5.151 1 1 0 0 1 0-.696 10.75 10.75 0 0 1 4.446-5.143",key:"13bj9a"}],["path",{d:"m2 2 20 20",key:"1ooewy"}]],Xs=vt("eye-off",VH);/**
 * @license lucide-react v0.546.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const WH=[["path",{d:"M2.062 12.348a1 1 0 0 1 0-.696 10.75 10.75 0 0 1 19.876 0 1 1 0 0 1 0 .696 10.75 10.75 0 0 1-19.876 0",key:"1nclc0"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]],Ds=vt("eye",WH);/**
 * @license lucide-react v0.546.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const KH=[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"m9 15 2 2 4-4",key:"1grp1n"}]],Ux=vt("file-check",KH);/**
 * @license lucide-react v0.546.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const GH=[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M9 15h6",key:"cctwl0"}],["path",{d:"M12 18v-6",key:"17g6i2"}]],Zv=vt("file-plus",GH);/**
 * @license lucide-react v0.546.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const YH=[["path",{d:"M12 17h.01",key:"p32p05"}],["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7z",key:"1mlx9k"}],["path",{d:"M9.1 9a3 3 0 0 1 5.82 1c0 2-3 3-3 3",key:"mhlwft"}]],sf=vt("file-question-mark",YH);/**
 * @license lucide-react v0.546.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const XH=[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M8 13h2",key:"yr2amv"}],["path",{d:"M14 13h2",key:"un5t4a"}],["path",{d:"M8 17h2",key:"2yhykz"}],["path",{d:"M14 17h2",key:"10kma7"}]],H0=vt("file-spreadsheet",XH);/**
 * @license lucide-react v0.546.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const QH=[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M10 9H8",key:"b1mrlr"}],["path",{d:"M16 13H8",key:"t4e002"}],["path",{d:"M16 17H8",key:"z1uh3a"}]],ks=vt("file-text",QH);/**
 * @license lucide-react v0.546.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ZH=[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]],FE=vt("file-warning",ZH);/**
 * @license lucide-react v0.546.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const JH=[["path",{d:"m6 14 1.5-2.9A2 2 0 0 1 9.24 10H20a2 2 0 0 1 1.94 2.5l-1.54 6a2 2 0 0 1-1.95 1.5H4a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h3.9a2 2 0 0 1 1.69.9l.81 1.2a2 2 0 0 0 1.67.9H18a2 2 0 0 1 2 2v2",key:"usdka0"}]],eV=vt("folder-open",JH);/**
 * @license lucide-react v0.546.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const tV=[["path",{d:"M2 11.5V5a2 2 0 0 1 2-2h3.9c.7 0 1.3.3 1.7.9l.8 1.2c.4.6 1 .9 1.7.9H20a2 2 0 0 1 2 2v10a2 2 0 0 1-2 2h-9.5",key:"a8xqs0"}],["path",{d:"M11.378 13.626a1 1 0 1 0-3.004-3.004l-5.01 5.012a2 2 0 0 0-.506.854l-.837 2.87a.5.5 0 0 0 .62.62l2.87-.837a2 2 0 0 0 .854-.506z",key:"1saktj"}]],rV=vt("folder-pen",tV);/**
 * @license lucide-react v0.546.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const nV=[["path",{d:"M12 10v6",key:"1bos4e"}],["path",{d:"M9 13h6",key:"1uhe8q"}],["path",{d:"M20 20a2 2 0 0 0 2-2V8a2 2 0 0 0-2-2h-7.9a2 2 0 0 1-1.69-.9L9.6 3.9A2 2 0 0 0 7.93 3H4a2 2 0 0 0-2 2v13a2 2 0 0 0 2 2Z",key:"1kt360"}]],PE=vt("folder-plus",nV);/**
 * @license lucide-react v0.546.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const aV=[["path",{d:"M20 20a2 2 0 0 0 2-2V8a2 2 0 0 0-2-2h-7.9a2 2 0 0 1-1.69-.9L9.6 3.9A2 2 0 0 0 7.93 3H4a2 2 0 0 0-2 2v13a2 2 0 0 0 2 2Z",key:"1kt360"}]],km=vt("folder",aV);/**
 * @license lucide-react v0.546.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const iV=[["path",{d:"M10 20a1 1 0 0 0 .553.895l2 1A1 1 0 0 0 14 21v-7a2 2 0 0 1 .517-1.341L21.74 4.67A1 1 0 0 0 21 3H3a1 1 0 0 0-.742 1.67l7.225 7.989A2 2 0 0 1 10 14z",key:"sc7q7i"}]],z_=vt("funnel",iV);/**
 * @license lucide-react v0.546.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const sV=[["path",{d:"M21.42 10.922a1 1 0 0 0-.019-1.838L12.83 5.18a2 2 0 0 0-1.66 0L2.6 9.08a1 1 0 0 0 0 1.832l8.57 3.908a2 2 0 0 0 1.66 0z",key:"j76jl0"}],["path",{d:"M22 10v6",key:"1lu8f3"}],["path",{d:"M6 12.5V16a6 3 0 0 0 12 0v-3.5",key:"1r8lef"}]],q_=vt("graduation-cap",sV);/**
 * @license lucide-react v0.546.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const lV=[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}],["path",{d:"M3 9h18",key:"1pudct"}],["path",{d:"M3 15h18",key:"5xshup"}],["path",{d:"M9 3v18",key:"fh3hqa"}],["path",{d:"M15 3v18",key:"14nvp0"}]],$_=vt("grid-3x3",lV);/**
 * @license lucide-react v0.546.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const oV=[["path",{d:"M10 10V5a1 1 0 0 1 1-1h2a1 1 0 0 1 1 1v5",key:"1p9q5i"}],["path",{d:"M14 6a6 6 0 0 1 6 6v3",key:"1hnv84"}],["path",{d:"M4 15v-3a6 6 0 0 1 6-6",key:"9ciidu"}],["rect",{x:"2",y:"15",width:"20",height:"4",rx:"1",key:"g3x8cw"}]],Nx=vt("hard-hat",oV);/**
 * @license lucide-react v0.546.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const cV=[["line",{x1:"4",x2:"20",y1:"9",y2:"9",key:"4lhtct"}],["line",{x1:"4",x2:"20",y1:"15",y2:"15",key:"vyu0kd"}],["line",{x1:"10",x2:"8",y1:"3",y2:"21",key:"1ggp8o"}],["line",{x1:"16",x2:"14",y1:"3",y2:"21",key:"weycgp"}]],H_=vt("hash",cV);/**
 * @license lucide-react v0.546.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const uV=[["path",{d:"M15 21v-8a1 1 0 0 0-1-1h-4a1 1 0 0 0-1 1v8",key:"5wwlr5"}],["path",{d:"M3 10a2 2 0 0 1 .709-1.528l7-6a2 2 0 0 1 2.582 0l7 6A2 2 0 0 1 21 10v9a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z",key:"r6nss1"}]],_x=vt("house",uV);/**
 * @license lucide-react v0.546.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fV=[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",ry:"2",key:"1m3agn"}],["circle",{cx:"9",cy:"9",r:"2",key:"af1f0g"}],["path",{d:"m21 15-3.086-3.086a2 2 0 0 0-2.828 0L6 21",key:"1xmnt7"}]],jx=vt("image",fV);/**
 * @license lucide-react v0.546.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const dV=[["path",{d:"M12.83 2.18a2 2 0 0 0-1.66 0L2.6 6.08a1 1 0 0 0 0 1.83l8.58 3.91a2 2 0 0 0 1.66 0l8.58-3.9a1 1 0 0 0 0-1.83z",key:"zw3jo"}],["path",{d:"M2 12a1 1 0 0 0 .58.91l8.6 3.91a2 2 0 0 0 1.65 0l8.58-3.9A1 1 0 0 0 22 12",key:"1wduqc"}],["path",{d:"M2 17a1 1 0 0 0 .58.91l8.6 3.91a2 2 0 0 0 1.65 0l8.58-3.9A1 1 0 0 0 22 17",key:"kqbvx6"}]],zx=vt("layers",dV);/**
 * @license lucide-react v0.546.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const hV=[["path",{d:"M15 14c.2-1 .7-1.7 1.5-2.5 1-.9 1.5-2.2 1.5-3.5A6 6 0 0 0 6 8c0 1 .2 2.2 1.5 3.5.7.7 1.3 1.5 1.5 2.5",key:"1gvzjb"}],["path",{d:"M9 18h6",key:"x1upvd"}],["path",{d:"M10 22h4",key:"ceow96"}]],mV=vt("lightbulb",hV);/**
 * @license lucide-react v0.546.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const pV=[["path",{d:"M10 13a5 5 0 0 0 7.54.54l3-3a5 5 0 0 0-7.07-7.07l-1.72 1.71",key:"1cjeqo"}],["path",{d:"M14 11a5 5 0 0 0-7.54-.54l-3 3a5 5 0 0 0 7.07 7.07l1.71-1.71",key:"19qd67"}]],qx=vt("link",pV);/**
 * @license lucide-react v0.546.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xV=[["path",{d:"M3 5h.01",key:"18ugdj"}],["path",{d:"M3 12h.01",key:"nlz23k"}],["path",{d:"M3 19h.01",key:"noohij"}],["path",{d:"M8 5h13",key:"1pao27"}],["path",{d:"M8 12h13",key:"1za7za"}],["path",{d:"M8 19h13",key:"m83p4d"}]],tF=vt("list",xV);/**
 * @license lucide-react v0.546.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const gV=[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 10 0v4",key:"fwvmzm"}]],$x=vt("lock",gV);/**
 * @license lucide-react v0.546.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const vV=[["path",{d:"m16 17 5-5-5-5",key:"1bji2h"}],["path",{d:"M21 12H9",key:"dn1m92"}],["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}]],rF=vt("log-out",vV);/**
 * @license lucide-react v0.546.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const yV=[["path",{d:"m22 7-8.991 5.727a2 2 0 0 1-2.009 0L2 7",key:"132q7q"}],["rect",{x:"2",y:"4",width:"20",height:"16",rx:"2",key:"izxlao"}]],bV=vt("mail",yV);/**
 * @license lucide-react v0.546.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const wV=[["path",{d:"M20 10c0 4.993-5.539 10.193-7.399 11.799a1 1 0 0 1-1.202 0C9.539 20.193 4 14.993 4 10a8 8 0 0 1 16 0",key:"1r0f0z"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}]],Cs=vt("map-pin",wV);/**
 * @license lucide-react v0.546.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const NV=[["path",{d:"M4 5h16",key:"1tepv9"}],["path",{d:"M4 12h16",key:"1lakjw"}],["path",{d:"M4 19h16",key:"1djgab"}]],_V=vt("menu",NV);/**
 * @license lucide-react v0.546.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const jV=[["path",{d:"M22 17a2 2 0 0 1-2 2H6.828a2 2 0 0 0-1.414.586l-2.202 2.202A.71.71 0 0 1 2 21.286V5a2 2 0 0 1 2-2h16a2 2 0 0 1 2 2z",key:"18887p"}]],el=vt("message-square",jV);/**
 * @license lucide-react v0.546.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const SV=[["path",{d:"M5 12h14",key:"1ays0h"}]],AV=vt("minus",SV);/**
 * @license lucide-react v0.546.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const EV=[["path",{d:"M11 21.73a2 2 0 0 0 2 0l7-4A2 2 0 0 0 21 16V8a2 2 0 0 0-1-1.73l-7-4a2 2 0 0 0-2 0l-7 4A2 2 0 0 0 3 8v8a2 2 0 0 0 1 1.73z",key:"1a0edw"}],["path",{d:"M12 22V12",key:"d0xqtd"}],["polyline",{points:"3.29 7 12 12 20.71 7",key:"ousv84"}],["path",{d:"m7.5 4.27 9 5.15",key:"1c824w"}]],Sx=vt("package",EV);/**
 * @license lucide-react v0.546.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const kV=[["path",{d:"M12 22a1 1 0 0 1 0-20 10 9 0 0 1 10 9 5 5 0 0 1-5 5h-2.25a1.75 1.75 0 0 0-1.4 2.8l.3.4a1.75 1.75 0 0 1-1.4 2.8z",key:"e79jfc"}],["circle",{cx:"13.5",cy:"6.5",r:".5",fill:"currentColor",key:"1okk4w"}],["circle",{cx:"17.5",cy:"10.5",r:".5",fill:"currentColor",key:"f64h9f"}],["circle",{cx:"6.5",cy:"12.5",r:".5",fill:"currentColor",key:"qy21gx"}],["circle",{cx:"8.5",cy:"7.5",r:".5",fill:"currentColor",key:"fotxhn"}]],nF=vt("palette",kV);/**
 * @license lucide-react v0.546.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const CV=[["path",{d:"m16 6-8.414 8.586a2 2 0 0 0 2.829 2.829l8.414-8.586a4 4 0 1 0-5.657-5.657l-8.379 8.551a6 6 0 1 0 8.485 8.485l8.379-8.551",key:"1miecu"}]],TV=vt("paperclip",CV);/**
 * @license lucide-react v0.546.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const OV=[["path",{d:"M13 21h8",key:"1jsn5i"}],["path",{d:"M21.174 6.812a1 1 0 0 0-3.986-3.987L3.842 16.174a2 2 0 0 0-.5.83l-1.321 4.352a.5.5 0 0 0 .623.622l4.353-1.32a2 2 0 0 0 .83-.497z",key:"1a8usu"}]],uh=vt("pen-line",OV);/**
 * @license lucide-react v0.546.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const DV=[["path",{d:"M21.174 6.812a1 1 0 0 0-3.986-3.987L3.842 16.174a2 2 0 0 0-.5.83l-1.321 4.352a.5.5 0 0 0 .623.622l4.353-1.32a2 2 0 0 0 .83-.497z",key:"1a8usu"}]],Hx=vt("pen",DV);/**
 * @license lucide-react v0.546.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const FV=[["path",{d:"M12 17v5",key:"bb1du9"}],["path",{d:"M9 10.76a2 2 0 0 1-1.11 1.79l-1.78.9A2 2 0 0 0 5 15.24V16a1 1 0 0 0 1 1h12a1 1 0 0 0 1-1v-.76a2 2 0 0 0-1.11-1.79l-1.78-.9A2 2 0 0 1 15 10.76V7a1 1 0 0 1 1-1 2 2 0 0 0 0-4H8a2 2 0 0 0 0 4 1 1 0 0 1 1 1z",key:"1nkz8b"}]],V_=vt("pin",FV);/**
 * @license lucide-react v0.546.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const PV=[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]],Ya=vt("plus",PV);/**
 * @license lucide-react v0.546.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const LV=[["path",{d:"M15.2 3a2 2 0 0 1 1.4.6l3.8 3.8a2 2 0 0 1 .6 1.4V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2z",key:"1c8476"}],["path",{d:"M17 21v-7a1 1 0 0 0-1-1H8a1 1 0 0 0-1 1v7",key:"1ydtos"}],["path",{d:"M7 3v4a1 1 0 0 0 1 1h7",key:"t51u73"}]],np=vt("save",LV);/**
 * @license lucide-react v0.546.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const MV=[["path",{d:"m21 21-4.34-4.34",key:"14j7rj"}],["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}]],ap=vt("search",MV);/**
 * @license lucide-react v0.546.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const RV=[["path",{d:"M14.536 21.686a.5.5 0 0 0 .937-.024l6.5-19a.496.496 0 0 0-.635-.635l-19 6.5a.5.5 0 0 0-.024.937l7.93 3.18a2 2 0 0 1 1.112 1.11z",key:"1ffxy3"}],["path",{d:"m21.854 2.147-10.94 10.939",key:"12cjpa"}]],Cm=vt("send",RV);/**
 * @license lucide-react v0.546.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const IV=[["path",{d:"M9.671 4.136a2.34 2.34 0 0 1 4.659 0 2.34 2.34 0 0 0 3.319 1.915 2.34 2.34 0 0 1 2.33 4.033 2.34 2.34 0 0 0 0 3.831 2.34 2.34 0 0 1-2.33 4.033 2.34 2.34 0 0 0-3.319 1.915 2.34 2.34 0 0 1-4.659 0 2.34 2.34 0 0 0-3.32-1.915 2.34 2.34 0 0 1-2.33-4.033 2.34 2.34 0 0 0 0-3.831A2.34 2.34 0 0 1 6.35 6.051a2.34 2.34 0 0 0 3.319-1.915",key:"1i5ecw"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]],aF=vt("settings",IV);/**
 * @license lucide-react v0.546.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const BV=[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}]],eN=vt("shield",BV);/**
 * @license lucide-react v0.546.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const UV=[["path",{d:"M12 3H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7",key:"1m0v6g"}],["path",{d:"M18.375 2.625a1 1 0 0 1 3 3l-9.013 9.014a2 2 0 0 1-.853.505l-2.873.84a.5.5 0 0 1-.62-.62l.84-2.873a2 2 0 0 1 .506-.852z",key:"ohrbg2"}]],Jv=vt("square-pen",UV);/**
 * @license lucide-react v0.546.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const zV=[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}]],qV=vt("square",zV);/**
 * @license lucide-react v0.546.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $V=[["path",{d:"M11.525 2.295a.53.53 0 0 1 .95 0l2.31 4.679a2.123 2.123 0 0 0 1.595 1.16l5.166.756a.53.53 0 0 1 .294.904l-3.736 3.638a2.123 2.123 0 0 0-.611 1.878l.882 5.14a.53.53 0 0 1-.771.56l-4.618-2.428a2.122 2.122 0 0 0-1.973 0L6.396 21.01a.53.53 0 0 1-.77-.56l.881-5.139a2.122 2.122 0 0 0-.611-1.879L2.16 9.795a.53.53 0 0 1 .294-.906l5.165-.755a2.122 2.122 0 0 0 1.597-1.16z",key:"r04s7s"}]],HV=vt("star",$V);/**
 * @license lucide-react v0.546.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const VV=[["path",{d:"M12.586 2.586A2 2 0 0 0 11.172 2H4a2 2 0 0 0-2 2v7.172a2 2 0 0 0 .586 1.414l8.704 8.704a2.426 2.426 0 0 0 3.42 0l6.58-6.58a2.426 2.426 0 0 0 0-3.42z",key:"vktsd0"}],["circle",{cx:"7.5",cy:"7.5",r:".5",fill:"currentColor",key:"kqv944"}]],WV=vt("tag",VV);/**
 * @license lucide-react v0.546.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const KV=[["path",{d:"M21 5H3",key:"1fi0y6"}],["path",{d:"M15 12H3",key:"6jk70r"}],["path",{d:"M17 19H3",key:"z6ezky"}]],GV=vt("text-align-start",KV);/**
 * @license lucide-react v0.546.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const YV=[["path",{d:"M7 10v12",key:"1qc93n"}],["path",{d:"M15 5.88 14 10h5.83a2 2 0 0 1 1.92 2.56l-2.33 8A2 2 0 0 1 17.5 22H4a2 2 0 0 1-2-2v-8a2 2 0 0 1 2-2h2.76a2 2 0 0 0 1.79-1.11L12 2a3.13 3.13 0 0 1 3 3.88Z",key:"emmmcr"}]],XV=vt("thumbs-up",YV);/**
 * @license lucide-react v0.546.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const QV=[["path",{d:"M10 11v6",key:"nco0om"}],["path",{d:"M14 11v6",key:"outv1u"}],["path",{d:"M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6",key:"miytrc"}],["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M8 6V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2",key:"e791ji"}]],Fn=vt("trash-2",QV);/**
 * @license lucide-react v0.546.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ZV=[["path",{d:"M16 7h6v6",key:"box55l"}],["path",{d:"m22 7-8.5 8.5-5-5L2 17",key:"1t1m79"}]],V0=vt("trending-up",ZV);/**
 * @license lucide-react v0.546.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const JV=[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3",key:"wmoenq"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]],tN=vt("triangle-alert",JV);/**
 * @license lucide-react v0.546.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const eW=[["path",{d:"M14 18V6a2 2 0 0 0-2-2H4a2 2 0 0 0-2 2v11a1 1 0 0 0 1 1h2",key:"wrbu53"}],["path",{d:"M15 18H9",key:"1lyqi6"}],["path",{d:"M19 18h2a1 1 0 0 0 1-1v-3.65a1 1 0 0 0-.22-.624l-3.48-4.35A1 1 0 0 0 17.52 8H14",key:"lysw3i"}],["circle",{cx:"17",cy:"18",r:"2",key:"332jqn"}],["circle",{cx:"7",cy:"18",r:"2",key:"19iecd"}]],tW=vt("truck",eW);/**
 * @license lucide-react v0.546.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const rW=[["path",{d:"M12 4v16",key:"1654pz"}],["path",{d:"M4 7V5a1 1 0 0 1 1-1h14a1 1 0 0 1 1 1v2",key:"e0r10z"}],["path",{d:"M9 20h6",key:"s66wpe"}]],Tm=vt("type",rW);/**
 * @license lucide-react v0.546.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const nW=[["path",{d:"M12 3v12",key:"1x0j5s"}],["path",{d:"m17 8-5-5-5 5",key:"7q97r8"}],["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}]],W0=vt("upload",nW);/**
 * @license lucide-react v0.546.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const aW=[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["line",{x1:"19",x2:"19",y1:"8",y2:"14",key:"1bvyxn"}],["line",{x1:"22",x2:"16",y1:"11",y2:"11",key:"1shjgl"}]],iW=vt("user-plus",aW);/**
 * @license lucide-react v0.546.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const sW=[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]],Vx=vt("user",sW);/**
 * @license lucide-react v0.546.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const lW=[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["path",{d:"M16 3.128a4 4 0 0 1 0 7.744",key:"16gr8j"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}]],ls=vt("users",lW);/**
 * @license lucide-react v0.546.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const oW=[["path",{d:"m16 13 5.223 3.482a.5.5 0 0 0 .777-.416V7.87a.5.5 0 0 0-.752-.432L16 10.5",key:"ftymec"}],["rect",{x:"2",y:"6",width:"14",height:"12",rx:"2",key:"158x01"}]],Wx=vt("video",oW);/**
 * @license lucide-react v0.546.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const cW=[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]],ta=vt("x",cW),dm=[{url:"https://images.unsplash.com/photo-1581092160562-40aa08e78837?auto=format&fit=crop&w=1200&q=80",caption:"Oprateur de chariot lvateur"},{url:"https://images.unsplash.com/photo-1504917595217-d4dc5ebe6122?auto=format&fit=crop&w=1200&q=80",caption:"Gestion des engins de chantier"},{url:"https://images.unsplash.com/photo-1581092162384-8987c1d64718?auto=format&fit=crop&w=1200&q=80",caption:"Manutention professionnelle"},{url:"https://images.unsplash.com/photo-1513828583688-c52646db42da?auto=format&fit=crop&w=1200&q=80",caption:"quipe de travaux"}],uW=()=>{const[e,t]=k.useState(""),[r,n]=k.useState(""),[a,i]=k.useState(""),[l,o]=k.useState(!1),[u,f]=k.useState(0),[h,m]=k.useState(!1),{login:g}=Ai(),x=Pn();k.useEffect(()=>{const N=setInterval(()=>{f(E=>E===dm.length-1?0:E+1)},4e3);return()=>clearInterval(N)},[]);const b=async N=>{N.preventDefault(),i(""),o(!0),await g(e,r)?x("/dashboard"):i("Nom d'utilisateur ou mot de passe incorrect"),o(!1)},v=()=>{f(N=>N===0?dm.length-1:N-1)},w=()=>{f(N=>N===dm.length-1?0:N+1)};return s.jsxs("div",{className:"min-h-screen flex",children:[s.jsx("div",{className:"hidden lg:flex lg:w-1/2 relative bg-gradient-to-br from-orange-600 to-blue-900 overflow-hidden",children:s.jsxs("div",{className:"relative w-full h-full",children:[dm.map((N,E)=>s.jsxs("div",{className:`absolute inset-0 transition-opacity duration-1000 ${E===u?"opacity-100":"opacity-0"}`,children:[s.jsx("img",{src:N.url,alt:N.caption,className:"w-full h-full object-cover"}),s.jsx("div",{className:"absolute inset-0 bg-gradient-to-t from-black/70 via-black/30 to-transparent"})]},E)),s.jsxs("div",{className:"absolute inset-0 flex flex-col justify-end p-12 text-white z-10",children:[s.jsxs("div",{className:"mb-8",children:[s.jsxs("div",{className:"flex items-center gap-3 mb-4",children:[s.jsx(Nx,{className:"w-12 h-12"}),s.jsxs("h1",{className:"text-4xl font-bold",children:["Systme de Gestion",s.jsx("br",{}),"Comptable"]})]}),s.jsx("p",{className:"text-xl text-gray-200 max-w-md",children:"Solution professionnelle pour la gestion des dclarations de sessions"})]}),s.jsx("div",{className:"mb-4",children:s.jsx("p",{className:"text-lg font-medium text-gray-100",children:dm[u].caption})}),s.jsxs("div",{className:"flex items-center gap-4",children:[s.jsx("button",{onClick:v,className:"p-2 rounded-full bg-white/20 hover:bg-white/30 transition-colors backdrop-blur-sm","aria-label":"Image prcdente",children:s.jsx(U_,{className:"w-5 h-5"})}),s.jsx("div",{className:"flex gap-2",children:dm.map((N,E)=>s.jsx("button",{onClick:()=>f(E),className:`h-2 rounded-full transition-all ${E===u?"w-8 bg-white":"w-2 bg-white/50 hover:bg-white/70"}`,"aria-label":`Aller  l'image ${E+1}`},E))}),s.jsx("button",{onClick:w,className:"p-2 rounded-full bg-white/20 hover:bg-white/30 transition-colors backdrop-blur-sm","aria-label":"Image suivante",children:s.jsx(Io,{className:"w-5 h-5"})})]}),s.jsxs("div",{className:"mt-8 flex flex-wrap gap-3",children:[s.jsxs("div",{className:"flex items-center gap-2 px-3 py-2 rounded-full bg-white/10 backdrop-blur-sm",children:[s.jsx(tW,{className:"w-4 h-4"}),s.jsx("span",{className:"text-sm font-medium",children:"Engins de chantier"})]}),s.jsxs("div",{className:"flex items-center gap-2 px-3 py-2 rounded-full bg-white/10 backdrop-blur-sm",children:[s.jsx(ls,{className:"w-4 h-4"}),s.jsx("span",{className:"text-sm font-medium",children:"Gestion d'quipes"})]}),s.jsxs("div",{className:"flex items-center gap-2 px-3 py-2 rounded-full bg-white/10 backdrop-blur-sm",children:[s.jsx(Nx,{className:"w-4 h-4"}),s.jsx("span",{className:"text-sm font-medium",children:"Manutention"})]})]})]})]})}),s.jsx("div",{className:"w-full lg:w-1/2 flex items-center justify-center bg-gradient-to-br from-gray-50 to-gray-100 p-4",children:s.jsxs("div",{className:"w-full max-w-md",children:[s.jsxs("div",{className:"lg:hidden mb-8 text-center",children:[s.jsxs("div",{className:"flex items-center justify-center gap-3 mb-3",children:[s.jsx(Nx,{className:"w-10 h-10 text-orange-600"}),s.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"Gestion Comptable"})]}),s.jsx("p",{className:"text-gray-600",children:"Solution pour vos dclarations de sessions"})]}),s.jsxs(Ur,{className:"shadow-xl border-0",children:[s.jsxs(hf,{className:"space-y-1 pb-6",children:[s.jsx(mf,{className:"text-2xl font-bold text-center text-gray-900",children:"Connexion"}),s.jsx(YD,{className:"text-center text-gray-600",children:"Accdez  votre espace personnel"})]}),s.jsxs(zr,{children:[s.jsxs("form",{onSubmit:b,className:"space-y-5",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx("label",{htmlFor:"username",className:"text-sm font-medium text-gray-700",children:"Nom d'utilisateur"}),s.jsx(Na,{id:"username",type:"text",placeholder:"Votre identifiant",value:e,onChange:N=>t(N.target.value),required:!0,className:"h-11"})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx("label",{htmlFor:"password",className:"text-sm font-medium text-gray-700",children:"Mot de passe"}),s.jsxs("div",{className:"relative",children:[s.jsx(Na,{id:"password",type:h?"text":"password",placeholder:"Votre mot de passe",value:r,onChange:N=>n(N.target.value),required:!0,className:"h-11 pr-10"}),s.jsx("button",{type:"button",onClick:()=>m(!h),className:"absolute right-3 top-1/2 -translate-y-1/2 text-gray-500 hover:text-gray-700 transition-colors","aria-label":h?"Masquer le mot de passe":"Afficher le mot de passe",children:h?s.jsx(Xs,{className:"w-5 h-5"}):s.jsx(Ds,{className:"w-5 h-5"})})]})]}),a&&s.jsxs("div",{className:"bg-red-50 border border-red-200 text-red-700 p-3 rounded-lg text-sm flex items-start gap-2",children:[s.jsx("svg",{className:"w-5 h-5 flex-shrink-0 mt-0.5",fill:"currentColor",viewBox:"0 0 20 20",children:s.jsx("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zM8.707 7.293a1 1 0 00-1.414 1.414L8.586 10l-1.293 1.293a1 1 0 101.414 1.414L10 11.414l1.293 1.293a1 1 0 001.414-1.414L11.414 10l1.293-1.293a1 1 0 00-1.414-1.414L10 8.586 8.707 7.293z",clipRule:"evenodd"})}),s.jsx("span",{children:a})]}),s.jsx(Ge,{type:"submit",className:"w-full h-11 bg-gradient-to-r from-orange-600 to-orange-500 hover:from-orange-700 hover:to-orange-600 text-white font-medium shadow-lg",disabled:l,children:l?s.jsxs("span",{className:"flex items-center gap-2",children:[s.jsxs("svg",{className:"animate-spin h-4 w-4",viewBox:"0 0 24 24",children:[s.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4",fill:"none"}),s.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}),"Connexion..."]}):"Se connecter"})]}),s.jsxs("div",{className:"mt-6 pt-6 border-t border-gray-200 text-center text-sm text-gray-500",children:[s.jsx("p",{children:" 2025 Systme de Gestion Comptable"}),s.jsx("p",{className:"mt-1",children:"Tous droits rservs"})]})]})]})]})})]})},fW=({className:e=""})=>{const[t,r]=k.useState(!1),[n,a]=k.useState(["gestion-comptable","formation-en-ligne"]),{user:i,isAdmin:l,isGerant:o,logout:u}=Ai(),f=Pn(),h=Pc(),m=()=>{u(),f("/login"),r(!1)},g=j=>{a(T=>T.includes(j)?T.filter(O=>O!==j):[...T,j])},x=[{id:"gestion-comptable",title:"Gestion Comptable",icon:hu,items:[{to:"/dashboard",icon:_x,label:"Tableau de bord"},{to:"/admin/segments",icon:hu,label:"Segments"},{to:"/admin/cities",icon:Cs,label:"Villes"},{to:"/admin/users",icon:ls,label:"Utilisateurs"},{to:"/admin/calculation-sheets",icon:H0,label:"Fiches de calcul"},{to:"/admin/create-declaration",icon:Zv,label:"Crer dclaration"},{to:"/admin/declarations",icon:Xv,label:"Grer dclarations"}]},{id:"formation-en-ligne",title:"Formation en Ligne",icon:q_,items:[{to:"/admin/formations/sessions",icon:_i,label:"Sessions"}]}],b=[{to:"/dashboard",icon:_x,label:"Tableau de bord"},{to:"/professor/declarations",icon:tF,label:"Mes dclarations"}],v=[{to:"/dashboard",icon:_x,label:"Tableau de bord"},{to:"/gerant/view-declarations",icon:Xv,label:"Voir dclarations"}],w=l?x:[],N=l?[]:o?v:b,E=j=>h.pathname===j;return s.jsxs(s.Fragment,{children:[s.jsx(Ge,{variant:"ghost",size:"icon",onClick:()=>r(!0),className:`lg:hidden ${e}`,"aria-label":"Open menu",children:s.jsx(_V,{className:"h-6 w-6"})}),t&&s.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 z-40 lg:hidden",onClick:()=>r(!1)}),s.jsxs("div",{className:`fixed top-0 left-0 h-full w-64 bg-white shadow-xl z-50 transform transition-transform duration-300 ease-in-out lg:hidden ${t?"translate-x-0":"-translate-x-full"}`,children:[s.jsxs("div",{className:"flex items-center justify-between p-4 border-b",children:[s.jsx("h2",{className:"text-lg font-semibold text-gray-800",children:"Menu"}),s.jsx(Ge,{variant:"ghost",size:"icon",onClick:()=>r(!1),"aria-label":"Close menu",children:s.jsx(ta,{className:"h-6 w-6"})})]}),s.jsxs("div",{className:"p-4 bg-gray-50 border-b",children:[s.jsx("p",{className:"text-sm font-medium text-gray-800",children:i?.full_name||i?.username}),s.jsx("p",{className:"text-xs text-gray-500 capitalize",children:i?.role})]}),s.jsxs("nav",{className:"flex flex-col p-2 space-y-2 overflow-y-auto flex-1",children:[w.map(j=>{const T=n.includes(j.id),O=j.icon;return s.jsxs("div",{className:"space-y-1",children:[s.jsxs("button",{onClick:()=>g(j.id),className:"w-full flex items-center justify-between px-3 py-2.5 text-sm font-semibold text-gray-700 hover:bg-gray-50 rounded-lg transition-colors",children:[s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx(O,{className:"h-5 w-5 text-gray-600"}),s.jsx("span",{children:j.title})]}),T?s.jsx(JD,{className:"h-4 w-4 text-gray-400"}):s.jsx(Sd,{className:"h-4 w-4 text-gray-400"})]}),T&&s.jsx("div",{className:"ml-6 space-y-0.5",children:j.items.map(P=>{const D=P.icon,M=E(P.to);return s.jsxs(Sa,{to:P.to,onClick:()=>r(!1),className:`flex items-center gap-3 px-3 py-2 rounded-lg text-sm transition-colors ${M?"bg-blue-50 text-blue-700 font-medium":"text-gray-600 hover:bg-gray-50"}`,children:[s.jsx(D,{className:`h-4 w-4 ${M?"text-blue-600":"text-gray-400"}`}),s.jsx("span",{children:P.label})]},P.to)})})]},j.id)}),N.map(j=>s.jsxs(Sa,{to:j.to,onClick:()=>r(!1),className:`flex items-center gap-3 px-4 py-3 rounded-lg text-sm transition-colors ${E(j.to)?"bg-blue-50 text-blue-700 font-medium":"text-gray-700 hover:bg-gray-100"}`,children:[s.jsx(j.icon,{className:`h-5 w-5 ${E(j.to)?"text-blue-600":"text-gray-400"}`}),s.jsx("span",{className:"font-medium",children:j.label})]},j.to))]}),s.jsx("div",{className:"absolute bottom-0 left-0 right-0 p-4 border-t bg-white",children:s.jsxs(Ge,{onClick:m,variant:"outline",className:"w-full flex items-center justify-center gap-2",children:[s.jsx(rF,{className:"h-4 w-4"}),"Dconnexion"]})})]})]})},dW=({title:e,subtitle:t})=>{const{user:r,logout:n}=Ai(),a=Pn(),i=()=>{n(),a("/login")};return s.jsx("header",{className:"bg-white shadow-sm border-b sticky top-0 z-30",children:s.jsx("div",{className:"px-4 sm:px-6 lg:px-8 py-3 sm:py-4",children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{className:"flex items-center gap-3 sm:gap-4",children:[s.jsx(fW,{}),s.jsxs("div",{className:"hidden lg:flex items-center gap-2",children:[s.jsx(Nx,{className:"h-6 w-6 sm:h-7 sm:w-7 text-orange-600"}),s.jsx("span",{className:"text-lg sm:text-xl font-bold text-gray-800",children:"Comptabilit PL"})]}),e&&s.jsxs("div",{className:"flex flex-col",children:[s.jsx("h1",{className:"text-base sm:text-lg lg:text-xl font-semibold text-gray-800 truncate max-w-[150px] sm:max-w-none",children:e}),t&&s.jsx("p",{className:"text-xs sm:text-sm text-gray-500 hidden sm:block",children:t})]})]}),s.jsxs("div",{className:"hidden lg:flex items-center gap-4",children:[s.jsxs("div",{className:"text-right",children:[s.jsx("p",{className:"text-sm font-medium text-gray-800",children:r?.full_name||r?.username}),s.jsx("p",{className:"text-xs text-gray-500 capitalize",children:r?.role})]}),s.jsxs(Ge,{onClick:i,variant:"outline",size:"sm",className:"flex items-center gap-2",children:[s.jsx(rF,{className:"h-4 w-4"}),s.jsx("span",{className:"hidden xl:inline",children:"Dconnexion"})]})]}),!e&&s.jsxs("div",{className:"lg:hidden flex items-center gap-2",children:[s.jsx(Nx,{className:"h-6 w-6 text-orange-600"}),s.jsx("span",{className:"text-base font-bold text-gray-800",children:"Comptabilit PL"})]})]})})})},hW=()=>{const e=Pc(),[t,r]=k.useState(["gestion-comptable","formation-en-ligne"]),n=l=>{r(o=>o.includes(l)?o.filter(u=>u!==l):[...o,l])},a=[{id:"gestion-comptable",title:"Gestion Comptable",icon:hu,items:[{to:"/dashboard",icon:_x,label:"Tableau de bord"},{to:"/admin/segments",icon:hu,label:"Segments"},{to:"/admin/cities",icon:Cs,label:"Villes"},{to:"/admin/users",icon:ls,label:"Utilisateurs"},{to:"/admin/calculation-sheets",icon:H0,label:"Fiches de calcul"},{to:"/admin/create-declaration",icon:Zv,label:"Crer dclaration"},{to:"/admin/declarations",icon:Xv,label:"Grer dclarations"}]},{id:"formation-en-ligne",title:"Formation en Ligne",icon:q_,items:[{to:"/admin/formations-management",icon:ua,label:"Gestion des Formations"},{to:"/admin/formations/sessions",icon:_i,label:"Sessions"},{to:"/admin/analytics",icon:ZD,label:"Analytics"},{to:"/admin/student-reports",icon:ks,label:"Rapports tudiants"},{to:"/admin/certificates",icon:oi,label:"Certificats"},{to:"/admin/certificate-templates",icon:nF,label:"Templates de Certificats"},{to:"/admin/forums",icon:el,label:"Forums"}]}],i=l=>e.pathname===l;return s.jsxs("aside",{className:"hidden lg:flex lg:flex-col lg:w-72 bg-white border-r border-gray-200 h-[calc(100vh-64px)] sticky top-16 overflow-y-auto",children:[s.jsx("nav",{className:"flex-1 px-3 py-4 space-y-2",children:a.map(l=>{const o=t.includes(l.id),u=l.icon;return s.jsxs("div",{className:"space-y-1",children:[s.jsxs("button",{onClick:()=>n(l.id),className:"w-full flex items-center justify-between px-3 py-2.5 text-sm font-semibold text-gray-700 hover:bg-gray-50 rounded-lg transition-colors group",children:[s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx(u,{className:"h-5 w-5 text-gray-600 group-hover:text-blue-600"}),s.jsx("span",{className:"group-hover:text-blue-600",children:l.title})]}),o?s.jsx(JD,{className:"h-4 w-4 text-gray-400"}):s.jsx(Sd,{className:"h-4 w-4 text-gray-400"})]}),o&&s.jsx("div",{className:"ml-3 space-y-0.5 border-l-2 border-gray-200 pl-3",children:l.items.map(f=>{const h=f.icon,m=i(f.to);return s.jsxs(Sa,{to:f.to,className:`flex items-center gap-3 px-3 py-2 text-sm rounded-lg transition-all ${m?"bg-blue-50 text-blue-700 font-medium border-l-2 border-blue-600 -ml-[2px]":"text-gray-600 hover:bg-gray-50 hover:text-gray-900"}`,children:[s.jsx(h,{className:`h-4 w-4 ${m?"text-blue-600":"text-gray-400"}`}),s.jsx("span",{children:f.label})]},f.to)})})]},l.id)})}),s.jsx("div",{className:"px-6 py-4 border-t border-gray-200",children:s.jsx("p",{className:"text-xs text-gray-500 text-center",children:"Comptabilit PL  2025"})})]})},Aa=({children:e,title:t,subtitle:r})=>s.jsxs("div",{className:"min-h-screen bg-gray-50",children:[s.jsx(dW,{title:t,subtitle:r}),s.jsxs("div",{className:"flex",children:[s.jsx(hW,{}),s.jsx("main",{className:"flex-1 p-4 sm:p-6 lg:p-8",children:s.jsx("div",{className:"max-w-7xl mx-auto",children:e})})]})]});function mW(){return ir({queryKey:["dashboard-stats"],queryFn:async()=>Qe.get("/admin/dashboard-stats"),refetchInterval:3e4})}const pW=()=>{const{data:e,isLoading:t,error:r}=mW();if(t)return s.jsx("div",{className:"flex items-center justify-center py-12",children:s.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-600"})});if(r||!e)return s.jsx("div",{className:"bg-red-50 border border-red-200 rounded-lg p-4",children:s.jsx("p",{className:"text-red-800",children:"Erreur lors du chargement des statistiques"})});const{statusStats:n,alerts:a,metrics:i,rankings:l}=e;return s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{children:[s.jsx("h2",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Statistiques Rapides"}),s.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 xl:grid-cols-6 gap-4",children:[s.jsx("div",{className:"bg-gradient-to-br from-blue-50 to-blue-100 rounded-lg shadow-sm p-4 border border-blue-200",children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx("p",{className:"text-sm font-medium text-blue-600",children:"Total Fiches"}),s.jsx("p",{className:"text-3xl font-bold text-blue-900 mt-1",children:n.total})]}),s.jsx(ks,{className:"w-10 h-10 text-blue-500 opacity-50"})]})}),s.jsx("div",{className:`rounded-lg shadow-sm p-4 border ${n.soumise>5?"bg-gradient-to-br from-red-50 to-red-100 border-red-300 animate-pulse":"bg-gradient-to-br from-blue-50 to-blue-100 border-blue-200"}`,children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx("p",{className:`text-sm font-medium ${n.soumise>5?"text-red-600":"text-blue-600"}`,children:"Soumises"}),s.jsx("p",{className:`text-3xl font-bold mt-1 ${n.soumise>5?"text-red-900":"text-blue-900"}`,children:n.soumise}),n.soumise>5&&s.jsx("p",{className:"text-xs text-red-700 mt-1",children:"  traiter rapidement"})]}),s.jsx(Cm,{className:`w-10 h-10 opacity-50 ${n.soumise>5?"text-red-500":"text-blue-500"}`})]})}),s.jsx("div",{className:`rounded-lg shadow-sm p-4 border ${n.a_declarer>3?"bg-gradient-to-br from-orange-50 to-orange-100 border-orange-300 animate-pulse":"bg-gradient-to-br from-orange-50 to-orange-100 border-orange-200"}`,children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx("p",{className:"text-sm font-medium text-orange-600",children:" dclarer"}),s.jsx("p",{className:"text-3xl font-bold text-orange-900 mt-1",children:n.a_declarer}),n.a_declarer>3&&s.jsx("p",{className:"text-xs text-orange-700 mt-1",children:" Attente prof"})]}),s.jsx(en,{className:"w-10 h-10 text-orange-500 opacity-50"})]})}),s.jsx("div",{className:`rounded-lg shadow-sm p-4 border ${a.expired.total>0?"bg-gradient-to-br from-red-50 to-red-100 border-red-300":"bg-gradient-to-br from-gray-50 to-gray-100 border-gray-200"}`,children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx("p",{className:`text-sm font-medium ${a.expired.total>0?"text-red-600":"text-gray-600"}`,children:"Expires"}),s.jsx("p",{className:`text-3xl font-bold mt-1 ${a.expired.total>0?"text-red-900":"text-gray-900"}`,children:a.expired.total}),a.expired.critical>0&&s.jsxs("p",{className:"text-xs text-red-700 mt-1",children:[" ",a.expired.critical," critique"]})]}),s.jsx(FE,{className:`w-10 h-10 opacity-50 ${a.expired.total>0?"text-red-500":"text-gray-400"}`})]})}),s.jsx("div",{className:"bg-gradient-to-br from-green-50 to-green-100 rounded-lg shadow-sm p-4 border border-green-200",children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx("p",{className:"text-sm font-medium text-green-600",children:"Revenus Total"}),s.jsxs("p",{className:"text-2xl font-bold text-green-900 mt-1",children:[new Intl.NumberFormat("fr-FR").format(i.totalRevenue)," MAD"]})]}),s.jsx(Qv,{className:"w-10 h-10 text-green-500 opacity-50"})]})}),s.jsx("div",{className:"bg-gradient-to-br from-purple-50 to-purple-100 rounded-lg shadow-sm p-4 border border-purple-200",children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx("p",{className:"text-sm font-medium text-purple-600",children:"Dlai Moyen"}),s.jsxs("p",{className:"text-3xl font-bold text-purple-900 mt-1",children:[i.avgProcessingTime,s.jsx("span",{className:"text-lg ml-1",children:"j"})]}),s.jsx("p",{className:"text-xs text-purple-700 mt-1",children:"de traitement"})]}),s.jsx(As,{className:"w-10 h-10 text-purple-500 opacity-50"})]})})]})]}),(n.soumise>0||a.expired.total>0||a.expiring>0||a.lateProcessing>0)&&s.jsxs("div",{children:[s.jsx("h2",{className:"text-lg font-semibold text-gray-900 mb-4",children:" Alertes Urgentes"}),s.jsxs("div",{className:"space-y-3",children:[n.soumise>0&&s.jsx("div",{className:"bg-blue-50 border-l-4 border-blue-500 rounded-r-lg p-4",children:s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx(Cm,{className:"w-5 h-5 text-blue-600 flex-shrink-0"}),s.jsxs("p",{className:"text-sm font-medium text-blue-900",children:[n.soumise," dclaration",n.soumise>1?"s":""," soumise",n.soumise>1?"s":"","  traiter"]})]})}),a.expired.critical>0&&s.jsx("div",{className:"bg-red-50 border-l-4 border-red-600 rounded-r-lg p-4",children:s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx(tN,{className:"w-5 h-5 text-red-600 flex-shrink-0"}),s.jsxs("p",{className:"text-sm font-medium text-red-900",children:[" ",a.expired.critical," dclaration",a.expired.critical>1?"s":""," expire",a.expired.critical>1?"s":""," depuis > 30 jours (CRITIQUE)"]})]})}),a.expired.warning>0&&s.jsx("div",{className:"bg-orange-50 border-l-4 border-orange-500 rounded-r-lg p-4",children:s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx(en,{className:"w-5 h-5 text-orange-600 flex-shrink-0"}),s.jsxs("p",{className:"text-sm font-medium text-orange-900",children:[" ",a.expired.warning," dclaration",a.expired.warning>1?"s":""," expire",a.expired.warning>1?"s":""," depuis 7-30 jours"]})]})}),a.expiring>0&&s.jsx("div",{className:"bg-yellow-50 border-l-4 border-yellow-500 rounded-r-lg p-4",children:s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx(As,{className:"w-5 h-5 text-yellow-600 flex-shrink-0"}),s.jsxs("p",{className:"text-sm font-medium text-yellow-900",children:[" ",a.expiring," dclaration",a.expiring>1?"s":""," arrivant  chance dans 7 jours"]})]})}),a.lateProcessing>0&&s.jsx("div",{className:"bg-orange-50 border-l-4 border-orange-600 rounded-r-lg p-4",children:s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx(FE,{className:"w-5 h-5 text-orange-600 flex-shrink-0"}),s.jsxs("p",{className:"text-sm font-medium text-orange-900",children:[" ",a.lateProcessing," dclaration",a.lateProcessing>1?"s":""," en retard de traitement (> 7 jours)"]})]})})]})]}),s.jsxs("div",{children:[s.jsx("h2",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Dtails par Statut"}),s.jsxs("div",{className:"grid grid-cols-2 sm:grid-cols-3 lg:grid-cols-6 gap-4",children:[s.jsxs("div",{className:"bg-white rounded-lg shadow-sm p-4 border border-gray-200",children:[s.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[s.jsx(ks,{className:"w-4 h-4 text-gray-500"}),s.jsx("p",{className:"text-xs font-medium text-gray-600",children:"Brouillon"})]}),s.jsx("p",{className:"text-2xl font-bold text-gray-900",children:n.brouillon})]}),s.jsxs("div",{className:"bg-white rounded-lg shadow-sm p-4 border border-orange-300",children:[s.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[s.jsx(en,{className:"w-4 h-4 text-orange-500"}),s.jsx("p",{className:"text-xs font-medium text-orange-600",children:" dclarer"})]}),s.jsx("p",{className:"text-2xl font-bold text-orange-900",children:n.a_declarer})]}),s.jsxs("div",{className:"bg-white rounded-lg shadow-sm p-4 border border-blue-300",children:[s.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[s.jsx(Cm,{className:"w-4 h-4 text-blue-500"}),s.jsx("p",{className:"text-xs font-medium text-blue-600",children:"Soumise"})]}),s.jsx("p",{className:"text-2xl font-bold text-blue-900",children:n.soumise})]}),s.jsxs("div",{className:"bg-white rounded-lg shadow-sm p-4 border border-yellow-300",children:[s.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[s.jsx(As,{className:"w-4 h-4 text-yellow-500"}),s.jsx("p",{className:"text-xs font-medium text-yellow-600",children:"En cours"})]}),s.jsx("p",{className:"text-2xl font-bold text-yellow-900",children:n.en_cours})]}),s.jsxs("div",{className:"bg-white rounded-lg shadow-sm p-4 border border-green-300",children:[s.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[s.jsx(Xa,{className:"w-4 h-4 text-green-500"}),s.jsx("p",{className:"text-xs font-medium text-green-600",children:"Approuve"})]}),s.jsx("p",{className:"text-2xl font-bold text-green-900",children:n.approuvee})]}),s.jsxs("div",{className:"bg-white rounded-lg shadow-sm p-4 border border-red-300",children:[s.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[s.jsx(pf,{className:"w-4 h-4 text-red-500"}),s.jsx("p",{className:"text-xs font-medium text-red-600",children:"Refuse"})]}),s.jsx("p",{className:"text-2xl font-bold text-red-900",children:n.refusee})]})]})]}),s.jsxs("div",{children:[s.jsx("h2",{className:"text-lg font-semibold text-gray-900 mb-4",children:" Mtriques de Performance"}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[s.jsxs("div",{className:"bg-gradient-to-br from-green-50 to-green-100 rounded-lg shadow-sm p-6 border border-green-200",children:[s.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[s.jsx(V0,{className:"w-6 h-6 text-green-600"}),s.jsx("p",{className:"text-sm font-medium text-green-700",children:"Taux d'Approbation"})]}),s.jsxs("p",{className:"text-4xl font-bold text-green-900",children:[i.approvalRate.toFixed(1),"%"]}),s.jsx("div",{className:"mt-3 bg-green-200 rounded-full h-2 overflow-hidden",children:s.jsx("div",{className:"bg-green-600 h-full transition-all duration-500",style:{width:`${i.approvalRate}%`}})})]}),s.jsxs("div",{className:"bg-gradient-to-br from-purple-50 to-purple-100 rounded-lg shadow-sm p-6 border border-purple-200",children:[s.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[s.jsx(As,{className:"w-6 h-6 text-purple-600"}),s.jsx("p",{className:"text-sm font-medium text-purple-700",children:"Dlai Moyen de Traitement"})]}),s.jsxs("p",{className:"text-4xl font-bold text-purple-900",children:[i.avgProcessingTime,s.jsx("span",{className:"text-2xl ml-1",children:"jours"})]}),s.jsx("p",{className:"text-xs text-purple-700 mt-2",children:"Entre soumission et validation"})]}),s.jsxs("div",{className:"bg-gradient-to-br from-blue-50 to-blue-100 rounded-lg shadow-sm p-6 border border-blue-200",children:[s.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[s.jsx(Qv,{className:"w-6 h-6 text-blue-600"}),s.jsx("p",{className:"text-sm font-medium text-blue-700",children:"Revenus Totaux (Approuves)"})]}),s.jsx("p",{className:"text-3xl font-bold text-blue-900",children:new Intl.NumberFormat("fr-FR",{style:"currency",currency:"MAD",minimumFractionDigits:0}).format(i.totalRevenue)}),s.jsx("p",{className:"text-xs text-blue-700 mt-2",children:"Bas sur les fiches approuves"})]})]})]}),s.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6",children:[s.jsxs("div",{className:"bg-white rounded-lg shadow-sm p-4 border border-gray-200",children:[s.jsxs("h3",{className:"text-sm font-semibold text-gray-900 mb-3 flex items-center gap-2",children:[s.jsx(ks,{className:"w-4 h-4"}),"Top 3 Segments"]}),s.jsx("div",{className:"space-y-2",children:l.topSegments.length>0?l.topSegments.map((o,u)=>s.jsxs("div",{className:"flex items-center justify-between p-2 bg-gray-50 rounded",children:[s.jsx("span",{className:"text-sm text-gray-700 truncate",children:o.name}),s.jsx("span",{className:"text-sm font-semibold text-gray-900",children:o.count})]},u)):s.jsx("p",{className:"text-xs text-gray-500 italic",children:"Aucune donne"})})]}),s.jsxs("div",{className:"bg-white rounded-lg shadow-sm p-4 border border-gray-200",children:[s.jsxs("h3",{className:"text-sm font-semibold text-gray-900 mb-3 flex items-center gap-2",children:[s.jsx(en,{className:"w-4 h-4"}),"Top 5 Villes"]}),s.jsx("div",{className:"space-y-2",children:l.topCities.length>0?l.topCities.map((o,u)=>s.jsxs("div",{className:"flex items-center justify-between p-2 bg-gray-50 rounded",children:[s.jsx("span",{className:"text-sm text-gray-700 truncate",children:o.name}),s.jsx("span",{className:"text-sm font-semibold text-gray-900",children:o.count})]},u)):s.jsx("p",{className:"text-xs text-gray-500 italic",children:"Aucune donne"})})]}),s.jsxs("div",{className:"bg-white rounded-lg shadow-sm p-4 border border-gray-200",children:[s.jsxs("h3",{className:"text-sm font-semibold text-gray-900 mb-3 flex items-center gap-2",children:[s.jsx(ls,{className:"w-4 h-4"}),"Top 5 Professeurs Actifs"]}),s.jsx("div",{className:"space-y-2",children:l.topProfessors.length>0?l.topProfessors.map((o,u)=>s.jsxs("div",{className:"flex items-center justify-between p-2 bg-gray-50 rounded",children:[s.jsx("span",{className:"text-sm text-gray-700 truncate",children:o.full_name}),s.jsx("span",{className:"text-sm font-semibold text-gray-900",children:o.count})]},u)):s.jsx("p",{className:"text-xs text-gray-500 italic",children:"Aucune donne"})})]})]})]})},xW=()=>{const{user:e,isAdmin:t,isGerant:r}=Ai(),l=t?[{title:"Gestion des Segments",description:"Crer et grer les segments de formation",icon:hu,link:"/admin/segments",color:"bg-blue-500"},{title:"Gestion des Villes",description:"Grer les villes et leur affectation",icon:Cs,link:"/admin/cities",color:"bg-green-500"},{title:"Gestion des Utilisateurs",description:"Crer et grer les comptes (admin, professeur, grant)",icon:ls,link:"/admin/users",color:"bg-purple-500"},{title:"Fiches de Calcul",description:"Crer des templates de fiches de calcul",icon:H0,link:"/admin/calculation-sheets",color:"bg-orange-500"},{title:"Crer des Dclarations",description:"Assigner des fiches de sessions aux professeurs",icon:Zv,link:"/admin/create-declaration",color:"bg-teal-500"},{title:"Gestion des Dclarations",description:"Valider et grer les dclarations des professeurs",icon:Xv,link:"/admin/declarations",color:"bg-indigo-500"},{title:"Analytics & Rapports",description:"Statistiques et analyses de performance des formations",icon:ZD,link:"/admin/analytics",color:"bg-pink-500"},{title:"Rapports tudiants",description:"Consulter les rapports dtaills de progression des tudiants",icon:ks,link:"/admin/student-reports",color:"bg-cyan-500"}]:r?[{title:"Crer des Dclarations",description:"Assigner des fiches de sessions aux professeurs",icon:Zv,link:"/gerant/create-declaration",color:"bg-blue-500"},{title:"Mes Dclarations Cres",description:"Suivre les dclarations que j'ai assignes",icon:tF,link:"/gerant/declarations",color:"bg-green-500"}]:[{title:"Mes Dclarations",description:"Crer et grer mes dclarations de sessions",icon:H0,link:"/professor/declarations",color:"bg-blue-500"}];return s.jsxs(Aa,{title:"Tableau de Bord",subtitle:`Bienvenue, ${e?.full_name} (${t?"Administrateur":r?"Grant":"Professeur"})`,children:[s.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-2 gap-6",children:l.map((o,u)=>s.jsx(Sa,{to:o.link,children:s.jsxs(Ur,{className:"hover:shadow-lg transition-shadow cursor-pointer h-full",children:[s.jsxs(hf,{children:[s.jsx("div",{className:`${o.color} w-12 h-12 rounded-lg flex items-center justify-center mb-4`,children:s.jsx(o.icon,{className:"h-6 w-6 text-white"})}),s.jsx(mf,{className:"text-xl",children:o.title})]}),s.jsx(zr,{children:s.jsx("p",{className:"text-gray-600",children:o.description})})]})},u))}),t&&s.jsx("div",{className:"mt-6 sm:mt-8",children:s.jsx(pW,{})}),!t&&s.jsxs("div",{className:"mt-6 sm:mt-8",children:[s.jsx("h2",{className:"text-lg sm:text-xl font-semibold mb-3 sm:mb-4",children:"Statistiques Rapides"}),s.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 md:grid-cols-3 gap-4",children:[s.jsx(Ur,{children:s.jsx(zr,{className:"pt-6",children:s.jsxs("div",{className:"text-center",children:[s.jsx("p",{className:"text-3xl font-bold text-blue-600",children:"0"}),s.jsx("p",{className:"text-sm text-gray-600 mt-1",children:r?"Dclarations cres":"Mes Fiches"})]})})}),s.jsx(Ur,{children:s.jsx(zr,{className:"pt-6",children:s.jsxs("div",{className:"text-center",children:[s.jsx("p",{className:"text-3xl font-bold text-green-600",children:"0 MAD"}),s.jsx("p",{className:"text-sm text-gray-600 mt-1",children:"Revenus Total"})]})})}),s.jsx(Ur,{children:s.jsx(zr,{className:"pt-6",children:s.jsxs("div",{className:"text-center",children:[s.jsx("p",{className:"text-3xl font-bold text-orange-600",children:"0 MAD"}),s.jsx("p",{className:"text-sm text-gray-600 mt-1",children:"Charges Total"})]})})})]})]})]})};/*! xlsx.js (C) 2013-present SheetJS -- http://sheetjs.com */var ey={};ey.version="0.18.5";var iF=1252,gW=[874,932,936,949,950,1250,1251,1252,1253,1254,1255,1256,1257,1258,1e4],W_={0:1252,1:65001,2:65001,77:1e4,128:932,129:949,130:1361,134:936,136:950,161:1253,162:1254,163:1258,177:1255,178:1256,186:1257,204:1251,222:874,238:1250,255:1252,69:6969},K_=function(e){gW.indexOf(e)!=-1&&(iF=W_[0]=e)};function vW(){K_(1252)}var _c=function(e){K_(e)};function G_(){_c(1200),vW()}function LE(e){for(var t=[],r=0,n=e.length;r<n;++r)t[r]=e.charCodeAt(r);return t}function yW(e){for(var t=[],r=0;r<e.length>>1;++r)t[r]=String.fromCharCode(e.charCodeAt(2*r)+(e.charCodeAt(2*r+1)<<8));return t.join("")}function sF(e){for(var t=[],r=0;r<e.length>>1;++r)t[r]=String.fromCharCode(e.charCodeAt(2*r+1)+(e.charCodeAt(2*r)<<8));return t.join("")}var gx=function(e){var t=e.charCodeAt(0),r=e.charCodeAt(1);return t==255&&r==254?yW(e.slice(2)):t==254&&r==255?sF(e.slice(2)):t==65279?e.slice(1):e},Q1=function(t){return String.fromCharCode(t)},ME=function(t){return String.fromCharCode(t)},Kx,wd="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=";function Gx(e){for(var t="",r=0,n=0,a=0,i=0,l=0,o=0,u=0,f=0;f<e.length;)r=e.charCodeAt(f++),i=r>>2,n=e.charCodeAt(f++),l=(r&3)<<4|n>>4,a=e.charCodeAt(f++),o=(n&15)<<2|a>>6,u=a&63,isNaN(n)?o=u=64:isNaN(a)&&(u=64),t+=wd.charAt(i)+wd.charAt(l)+wd.charAt(o)+wd.charAt(u);return t}function no(e){var t="",r=0,n=0,a=0,i=0,l=0,o=0,u=0;e=e.replace(/[^\w\+\/\=]/g,"");for(var f=0;f<e.length;)i=wd.indexOf(e.charAt(f++)),l=wd.indexOf(e.charAt(f++)),r=i<<2|l>>4,t+=String.fromCharCode(r),o=wd.indexOf(e.charAt(f++)),n=(l&15)<<4|o>>2,o!==64&&(t+=String.fromCharCode(n)),u=wd.indexOf(e.charAt(f++)),a=(o&3)<<6|u,u!==64&&(t+=String.fromCharCode(a));return t}var Tr=(function(){return typeof Buffer<"u"&&typeof process<"u"&&typeof process.versions<"u"&&!!process.versions.node})(),jf=(function(){if(typeof Buffer<"u"){var e=!Buffer.from;if(!e)try{Buffer.from("foo","utf8")}catch{e=!0}return e?function(t,r){return r?new Buffer(t,r):new Buffer(t)}:Buffer.from.bind(Buffer)}return function(){}})();function Ed(e){return Tr?Buffer.alloc?Buffer.alloc(e):new Buffer(e):typeof Uint8Array<"u"?new Uint8Array(e):new Array(e)}function RE(e){return Tr?Buffer.allocUnsafe?Buffer.allocUnsafe(e):new Buffer(e):typeof Uint8Array<"u"?new Uint8Array(e):new Array(e)}var Zl=function(t){return Tr?jf(t,"binary"):t.split("").map(function(r){return r.charCodeAt(0)&255})};function c2(e){if(typeof ArrayBuffer>"u")return Zl(e);for(var t=new ArrayBuffer(e.length),r=new Uint8Array(t),n=0;n!=e.length;++n)r[n]=e.charCodeAt(n)&255;return t}function Id(e){if(Array.isArray(e))return e.map(function(n){return String.fromCharCode(n)}).join("");for(var t=[],r=0;r<e.length;++r)t[r]=String.fromCharCode(e[r]);return t.join("")}function bW(e){if(typeof Uint8Array>"u")throw new Error("Unsupported");return new Uint8Array(e)}function Y_(e){if(typeof ArrayBuffer>"u")throw new Error("Unsupported");if(e instanceof ArrayBuffer)return Y_(new Uint8Array(e));for(var t=new Array(e.length),r=0;r<e.length;++r)t[r]=e[r];return t}var zi=Tr?function(e){return Buffer.concat(e.map(function(t){return Buffer.isBuffer(t)?t:jf(t)}))}:function(e){if(typeof Uint8Array<"u"){var t=0,r=0;for(t=0;t<e.length;++t)r+=e[t].length;var n=new Uint8Array(r),a=0;for(t=0,r=0;t<e.length;r+=a,++t)if(a=e[t].length,e[t]instanceof Uint8Array)n.set(e[t],r);else{if(typeof e[t]=="string")throw"wtf";n.set(new Uint8Array(e[t]),r)}return n}return[].concat.apply([],e.map(function(i){return Array.isArray(i)?i:[].slice.call(i)}))};function wW(e){for(var t=[],r=0,n=e.length+250,a=Ed(e.length+255),i=0;i<e.length;++i){var l=e.charCodeAt(i);if(l<128)a[r++]=l;else if(l<2048)a[r++]=192|l>>6&31,a[r++]=128|l&63;else if(l>=55296&&l<57344){l=(l&1023)+64;var o=e.charCodeAt(++i)&1023;a[r++]=240|l>>8&7,a[r++]=128|l>>2&63,a[r++]=128|o>>6&15|(l&3)<<4,a[r++]=128|o&63}else a[r++]=224|l>>12&15,a[r++]=128|l>>6&63,a[r++]=128|l&63;r>n&&(t.push(a.slice(0,r)),r=0,a=Ed(65535),n=65530)}return t.push(a.slice(0,r)),zi(t)}var rl=/\u0000/g,vx=/[\u0001-\u0006]/g;function Om(e){for(var t="",r=e.length-1;r>=0;)t+=e.charAt(r--);return t}function jc(e,t){var r=""+e;return r.length>=t?r:Ma("0",t-r.length)+r}function X_(e,t){var r=""+e;return r.length>=t?r:Ma(" ",t-r.length)+r}function ty(e,t){var r=""+e;return r.length>=t?r:r+Ma(" ",t-r.length)}function NW(e,t){var r=""+Math.round(e);return r.length>=t?r:Ma("0",t-r.length)+r}function _W(e,t){var r=""+e;return r.length>=t?r:Ma("0",t-r.length)+r}var IE=Math.pow(2,32);function hm(e,t){if(e>IE||e<-IE)return NW(e,t);var r=Math.round(e);return _W(r,t)}function ry(e,t){return t=t||0,e.length>=7+t&&(e.charCodeAt(t)|32)===103&&(e.charCodeAt(t+1)|32)===101&&(e.charCodeAt(t+2)|32)===110&&(e.charCodeAt(t+3)|32)===101&&(e.charCodeAt(t+4)|32)===114&&(e.charCodeAt(t+5)|32)===97&&(e.charCodeAt(t+6)|32)===108}var BE=[["Sun","Sunday"],["Mon","Monday"],["Tue","Tuesday"],["Wed","Wednesday"],["Thu","Thursday"],["Fri","Friday"],["Sat","Saturday"]],kw=[["J","Jan","January"],["F","Feb","February"],["M","Mar","March"],["A","Apr","April"],["M","May","May"],["J","Jun","June"],["J","Jul","July"],["A","Aug","August"],["S","Sep","September"],["O","Oct","October"],["N","Nov","November"],["D","Dec","December"]];function jW(e){return e||(e={}),e[0]="General",e[1]="0",e[2]="0.00",e[3]="#,##0",e[4]="#,##0.00",e[9]="0%",e[10]="0.00%",e[11]="0.00E+00",e[12]="# ?/?",e[13]="# ??/??",e[14]="m/d/yy",e[15]="d-mmm-yy",e[16]="d-mmm",e[17]="mmm-yy",e[18]="h:mm AM/PM",e[19]="h:mm:ss AM/PM",e[20]="h:mm",e[21]="h:mm:ss",e[22]="m/d/yy h:mm",e[37]="#,##0 ;(#,##0)",e[38]="#,##0 ;[Red](#,##0)",e[39]="#,##0.00;(#,##0.00)",e[40]="#,##0.00;[Red](#,##0.00)",e[45]="mm:ss",e[46]="[h]:mm:ss",e[47]="mmss.0",e[48]="##0.0E+0",e[49]="@",e[56]='"/ "hh""mm""ss" "',e}var ur={0:"General",1:"0",2:"0.00",3:"#,##0",4:"#,##0.00",9:"0%",10:"0.00%",11:"0.00E+00",12:"# ?/?",13:"# ??/??",14:"m/d/yy",15:"d-mmm-yy",16:"d-mmm",17:"mmm-yy",18:"h:mm AM/PM",19:"h:mm:ss AM/PM",20:"h:mm",21:"h:mm:ss",22:"m/d/yy h:mm",37:"#,##0 ;(#,##0)",38:"#,##0 ;[Red](#,##0)",39:"#,##0.00;(#,##0.00)",40:"#,##0.00;[Red](#,##0.00)",45:"mm:ss",46:"[h]:mm:ss",47:"mmss.0",48:"##0.0E+0",49:"@",56:'"/ "hh""mm""ss" "'},UE={5:37,6:38,7:39,8:40,23:0,24:0,25:0,26:0,27:14,28:14,29:14,30:14,31:14,50:14,51:14,52:14,53:14,54:14,55:14,56:14,57:14,58:14,59:1,60:2,61:3,62:4,67:9,68:10,69:12,70:13,71:14,72:14,73:15,74:16,75:17,76:20,77:21,78:22,79:45,80:46,81:47,82:0},SW={5:'"$"#,##0_);\\("$"#,##0\\)',63:'"$"#,##0_);\\("$"#,##0\\)',6:'"$"#,##0_);[Red]\\("$"#,##0\\)',64:'"$"#,##0_);[Red]\\("$"#,##0\\)',7:'"$"#,##0.00_);\\("$"#,##0.00\\)',65:'"$"#,##0.00_);\\("$"#,##0.00\\)',8:'"$"#,##0.00_);[Red]\\("$"#,##0.00\\)',66:'"$"#,##0.00_);[Red]\\("$"#,##0.00\\)',41:'_(* #,##0_);_(* \\(#,##0\\);_(* "-"_);_(@_)',42:'_("$"* #,##0_);_("$"* \\(#,##0\\);_("$"* "-"_);_(@_)',43:'_(* #,##0.00_);_(* \\(#,##0.00\\);_(* "-"??_);_(@_)',44:'_("$"* #,##0.00_);_("$"* \\(#,##0.00\\);_("$"* "-"??_);_(@_)'};function ny(e,t,r){for(var n=e<0?-1:1,a=e*n,i=0,l=1,o=0,u=1,f=0,h=0,m=Math.floor(a);f<t&&(m=Math.floor(a),o=m*l+i,h=m*f+u,!(a-m<5e-8));)a=1/(a-m),i=l,l=o,u=f,f=h;if(h>t&&(f>t?(h=u,o=i):(h=f,o=l)),!r)return[0,n*o,h];var g=Math.floor(n*o/h);return[g,n*o-g*h,h]}function k0(e,t,r){if(e>2958465||e<0)return null;var n=e|0,a=Math.floor(86400*(e-n)),i=0,l=[],o={D:n,T:a,u:86400*(e-n)-a,y:0,m:0,d:0,H:0,M:0,S:0,q:0};if(Math.abs(o.u)<1e-6&&(o.u=0),t&&t.date1904&&(n+=1462),o.u>.9999&&(o.u=0,++a==86400&&(o.T=a=0,++n,++o.D)),n===60)l=r?[1317,10,29]:[1900,2,29],i=3;else if(n===0)l=r?[1317,8,29]:[1900,1,0],i=6;else{n>60&&--n;var u=new Date(1900,0,1);u.setDate(u.getDate()+n-1),l=[u.getFullYear(),u.getMonth()+1,u.getDate()],i=u.getDay(),n<60&&(i=(i+6)%7),r&&(i=OW(u,l))}return o.y=l[0],o.m=l[1],o.d=l[2],o.S=a%60,a=Math.floor(a/60),o.M=a%60,a=Math.floor(a/60),o.H=a,o.q=i,o}var lF=new Date(1899,11,31,0,0,0),AW=lF.getTime(),EW=new Date(1900,2,1,0,0,0);function oF(e,t){var r=e.getTime();return t?r-=1461*24*60*60*1e3:e>=EW&&(r+=1440*60*1e3),(r-(AW+(e.getTimezoneOffset()-lF.getTimezoneOffset())*6e4))/(1440*60*1e3)}function Q_(e){return e.indexOf(".")==-1?e:e.replace(/(?:\.0*|(\.\d*[1-9])0+)$/,"$1")}function kW(e){return e.indexOf("E")==-1?e:e.replace(/(?:\.0*|(\.\d*[1-9])0+)[Ee]/,"$1E").replace(/(E[+-])(\d)$/,"$10$2")}function CW(e){var t=e<0?12:11,r=Q_(e.toFixed(12));return r.length<=t||(r=e.toPrecision(10),r.length<=t)?r:e.toExponential(5)}function TW(e){var t=Q_(e.toFixed(11));return t.length>(e<0?12:11)||t==="0"||t==="-0"?e.toPrecision(6):t}function Yx(e){var t=Math.floor(Math.log(Math.abs(e))*Math.LOG10E),r;return t>=-4&&t<=-1?r=e.toPrecision(10+t):Math.abs(t)<=9?r=CW(e):t===10?r=e.toFixed(10).substr(0,12):r=TW(e),Q_(kW(r.toUpperCase()))}function K0(e,t){switch(typeof e){case"string":return e;case"boolean":return e?"TRUE":"FALSE";case"number":return(e|0)===e?e.toString(10):Yx(e);case"undefined":return"";case"object":if(e==null)return"";if(e instanceof Date)return qo(14,oF(e,t&&t.date1904),t)}throw new Error("unsupported value in General format: "+e)}function OW(e,t){t[0]-=581;var r=e.getDay();return e<60&&(r=(r+6)%7),r}function DW(e,t,r,n){var a="",i=0,l=0,o=r.y,u,f=0;switch(e){case 98:o=r.y+543;case 121:switch(t.length){case 1:case 2:u=o%100,f=2;break;default:u=o%1e4,f=4;break}break;case 109:switch(t.length){case 1:case 2:u=r.m,f=t.length;break;case 3:return kw[r.m-1][1];case 5:return kw[r.m-1][0];default:return kw[r.m-1][2]}break;case 100:switch(t.length){case 1:case 2:u=r.d,f=t.length;break;case 3:return BE[r.q][0];default:return BE[r.q][1]}break;case 104:switch(t.length){case 1:case 2:u=1+(r.H+11)%12,f=t.length;break;default:throw"bad hour format: "+t}break;case 72:switch(t.length){case 1:case 2:u=r.H,f=t.length;break;default:throw"bad hour format: "+t}break;case 77:switch(t.length){case 1:case 2:u=r.M,f=t.length;break;default:throw"bad minute format: "+t}break;case 115:if(t!="s"&&t!="ss"&&t!=".0"&&t!=".00"&&t!=".000")throw"bad second format: "+t;return r.u===0&&(t=="s"||t=="ss")?jc(r.S,t.length):(n>=2?l=n===3?1e3:100:l=n===1?10:1,i=Math.round(l*(r.S+r.u)),i>=60*l&&(i=0),t==="s"?i===0?"0":""+i/l:(a=jc(i,2+n),t==="ss"?a.substr(0,2):"."+a.substr(2,t.length-1)));case 90:switch(t){case"[h]":case"[hh]":u=r.D*24+r.H;break;case"[m]":case"[mm]":u=(r.D*24+r.H)*60+r.M;break;case"[s]":case"[ss]":u=((r.D*24+r.H)*60+r.M)*60+Math.round(r.S+r.u);break;default:throw"bad abstime format: "+t}f=t.length===3?1:2;break;case 101:u=o,f=1;break}var h=f>0?jc(u,f):"";return h}function Nd(e){var t=3;if(e.length<=t)return e;for(var r=e.length%t,n=e.substr(0,r);r!=e.length;r+=t)n+=(n.length>0?",":"")+e.substr(r,t);return n}var cF=/%/g;function FW(e,t,r){var n=t.replace(cF,""),a=t.length-n.length;return lf(e,n,r*Math.pow(10,2*a))+Ma("%",a)}function PW(e,t,r){for(var n=t.length-1;t.charCodeAt(n-1)===44;)--n;return lf(e,t.substr(0,n),r/Math.pow(10,3*(t.length-n)))}function uF(e,t){var r,n=e.indexOf("E")-e.indexOf(".")-1;if(e.match(/^#+0.0E\+0$/)){if(t==0)return"0.0E+0";if(t<0)return"-"+uF(e,-t);var a=e.indexOf(".");a===-1&&(a=e.indexOf("E"));var i=Math.floor(Math.log(t)*Math.LOG10E)%a;if(i<0&&(i+=a),r=(t/Math.pow(10,i)).toPrecision(n+1+(a+i)%a),r.indexOf("e")===-1){var l=Math.floor(Math.log(t)*Math.LOG10E);for(r.indexOf(".")===-1?r=r.charAt(0)+"."+r.substr(1)+"E+"+(l-r.length+i):r+="E+"+(l-i);r.substr(0,2)==="0.";)r=r.charAt(0)+r.substr(2,a)+"."+r.substr(2+a),r=r.replace(/^0+([1-9])/,"$1").replace(/^0+\./,"0.");r=r.replace(/\+-/,"-")}r=r.replace(/^([+-]?)(\d*)\.(\d*)[Ee]/,function(o,u,f,h){return u+f+h.substr(0,(a+i)%a)+"."+h.substr(i)+"E"})}else r=t.toExponential(n);return e.match(/E\+00$/)&&r.match(/e[+-]\d$/)&&(r=r.substr(0,r.length-1)+"0"+r.charAt(r.length-1)),e.match(/E\-/)&&r.match(/e\+/)&&(r=r.replace(/e\+/,"e")),r.replace("e","E")}var fF=/# (\?+)( ?)\/( ?)(\d+)/;function LW(e,t,r){var n=parseInt(e[4],10),a=Math.round(t*n),i=Math.floor(a/n),l=a-i*n,o=n;return r+(i===0?"":""+i)+" "+(l===0?Ma(" ",e[1].length+1+e[4].length):X_(l,e[1].length)+e[2]+"/"+e[3]+jc(o,e[4].length))}function MW(e,t,r){return r+(t===0?"":""+t)+Ma(" ",e[1].length+2+e[4].length)}var dF=/^#*0*\.([0#]+)/,hF=/\).*[0#]/,mF=/\(###\) ###\\?-####/;function Gs(e){for(var t="",r,n=0;n!=e.length;++n)switch(r=e.charCodeAt(n)){case 35:break;case 63:t+=" ";break;case 48:t+="0";break;default:t+=String.fromCharCode(r)}return t}function zE(e,t){var r=Math.pow(10,t);return""+Math.round(e*r)/r}function qE(e,t){var r=e-Math.floor(e),n=Math.pow(10,t);return t<(""+Math.round(r*n)).length?0:Math.round(r*n)}function RW(e,t){return t<(""+Math.round((e-Math.floor(e))*Math.pow(10,t))).length?1:0}function IW(e){return e<2147483647&&e>-2147483648?""+(e>=0?e|0:e-1|0):""+Math.floor(e)}function To(e,t,r){if(e.charCodeAt(0)===40&&!t.match(hF)){var n=t.replace(/\( */,"").replace(/ \)/,"").replace(/\)/,"");return r>=0?To("n",n,r):"("+To("n",n,-r)+")"}if(t.charCodeAt(t.length-1)===44)return PW(e,t,r);if(t.indexOf("%")!==-1)return FW(e,t,r);if(t.indexOf("E")!==-1)return uF(t,r);if(t.charCodeAt(0)===36)return"$"+To(e,t.substr(t.charAt(1)==" "?2:1),r);var a,i,l,o,u=Math.abs(r),f=r<0?"-":"";if(t.match(/^00+$/))return f+hm(u,t.length);if(t.match(/^[#?]+$/))return a=hm(r,0),a==="0"&&(a=""),a.length>t.length?a:Gs(t.substr(0,t.length-a.length))+a;if(i=t.match(fF))return LW(i,u,f);if(t.match(/^#+0+$/))return f+hm(u,t.length-t.indexOf("0"));if(i=t.match(dF))return a=zE(r,i[1].length).replace(/^([^\.]+)$/,"$1."+Gs(i[1])).replace(/\.$/,"."+Gs(i[1])).replace(/\.(\d*)$/,function(b,v){return"."+v+Ma("0",Gs(i[1]).length-v.length)}),t.indexOf("0.")!==-1?a:a.replace(/^0\./,".");if(t=t.replace(/^#+([0.])/,"$1"),i=t.match(/^(0*)\.(#*)$/))return f+zE(u,i[2].length).replace(/\.(\d*[1-9])0*$/,".$1").replace(/^(-?\d*)$/,"$1.").replace(/^0\./,i[1].length?"0.":".");if(i=t.match(/^#{1,3},##0(\.?)$/))return f+Nd(hm(u,0));if(i=t.match(/^#,##0\.([#0]*0)$/))return r<0?"-"+To(e,t,-r):Nd(""+(Math.floor(r)+RW(r,i[1].length)))+"."+jc(qE(r,i[1].length),i[1].length);if(i=t.match(/^#,#*,#0/))return To(e,t.replace(/^#,#*,/,""),r);if(i=t.match(/^([0#]+)(\\?-([0#]+))+$/))return a=Om(To(e,t.replace(/[\\-]/g,""),r)),l=0,Om(Om(t.replace(/\\/g,"")).replace(/[0#]/g,function(b){return l<a.length?a.charAt(l++):b==="0"?"0":""}));if(t.match(mF))return a=To(e,"##########",r),"("+a.substr(0,3)+") "+a.substr(3,3)+"-"+a.substr(6);var h="";if(i=t.match(/^([#0?]+)( ?)\/( ?)([#0?]+)/))return l=Math.min(i[4].length,7),o=ny(u,Math.pow(10,l)-1,!1),a=""+f,h=lf("n",i[1],o[1]),h.charAt(h.length-1)==" "&&(h=h.substr(0,h.length-1)+"0"),a+=h+i[2]+"/"+i[3],h=ty(o[2],l),h.length<i[4].length&&(h=Gs(i[4].substr(i[4].length-h.length))+h),a+=h,a;if(i=t.match(/^# ([#0?]+)( ?)\/( ?)([#0?]+)/))return l=Math.min(Math.max(i[1].length,i[4].length),7),o=ny(u,Math.pow(10,l)-1,!0),f+(o[0]||(o[1]?"":"0"))+" "+(o[1]?X_(o[1],l)+i[2]+"/"+i[3]+ty(o[2],l):Ma(" ",2*l+1+i[2].length+i[3].length));if(i=t.match(/^[#0?]+$/))return a=hm(r,0),t.length<=a.length?a:Gs(t.substr(0,t.length-a.length))+a;if(i=t.match(/^([#0?]+)\.([#0]+)$/)){a=""+r.toFixed(Math.min(i[2].length,10)).replace(/([^0])0+$/,"$1"),l=a.indexOf(".");var m=t.indexOf(".")-l,g=t.length-a.length-m;return Gs(t.substr(0,m)+a+t.substr(t.length-g))}if(i=t.match(/^00,000\.([#0]*0)$/))return l=qE(r,i[1].length),r<0?"-"+To(e,t,-r):Nd(IW(r)).replace(/^\d,\d{3}$/,"0$&").replace(/^\d*$/,function(b){return"00,"+(b.length<3?jc(0,3-b.length):"")+b})+"."+jc(l,i[1].length);switch(t){case"###,##0.00":return To(e,"#,##0.00",r);case"###,###":case"##,###":case"#,###":var x=Nd(hm(u,0));return x!=="0"?f+x:"";case"###,###.00":return To(e,"###,##0.00",r).replace(/^0\./,".");case"#,###.00":return To(e,"#,##0.00",r).replace(/^0\./,".")}throw new Error("unsupported format |"+t+"|")}function BW(e,t,r){for(var n=t.length-1;t.charCodeAt(n-1)===44;)--n;return lf(e,t.substr(0,n),r/Math.pow(10,3*(t.length-n)))}function UW(e,t,r){var n=t.replace(cF,""),a=t.length-n.length;return lf(e,n,r*Math.pow(10,2*a))+Ma("%",a)}function pF(e,t){var r,n=e.indexOf("E")-e.indexOf(".")-1;if(e.match(/^#+0.0E\+0$/)){if(t==0)return"0.0E+0";if(t<0)return"-"+pF(e,-t);var a=e.indexOf(".");a===-1&&(a=e.indexOf("E"));var i=Math.floor(Math.log(t)*Math.LOG10E)%a;if(i<0&&(i+=a),r=(t/Math.pow(10,i)).toPrecision(n+1+(a+i)%a),!r.match(/[Ee]/)){var l=Math.floor(Math.log(t)*Math.LOG10E);r.indexOf(".")===-1?r=r.charAt(0)+"."+r.substr(1)+"E+"+(l-r.length+i):r+="E+"+(l-i),r=r.replace(/\+-/,"-")}r=r.replace(/^([+-]?)(\d*)\.(\d*)[Ee]/,function(o,u,f,h){return u+f+h.substr(0,(a+i)%a)+"."+h.substr(i)+"E"})}else r=t.toExponential(n);return e.match(/E\+00$/)&&r.match(/e[+-]\d$/)&&(r=r.substr(0,r.length-1)+"0"+r.charAt(r.length-1)),e.match(/E\-/)&&r.match(/e\+/)&&(r=r.replace(/e\+/,"e")),r.replace("e","E")}function su(e,t,r){if(e.charCodeAt(0)===40&&!t.match(hF)){var n=t.replace(/\( */,"").replace(/ \)/,"").replace(/\)/,"");return r>=0?su("n",n,r):"("+su("n",n,-r)+")"}if(t.charCodeAt(t.length-1)===44)return BW(e,t,r);if(t.indexOf("%")!==-1)return UW(e,t,r);if(t.indexOf("E")!==-1)return pF(t,r);if(t.charCodeAt(0)===36)return"$"+su(e,t.substr(t.charAt(1)==" "?2:1),r);var a,i,l,o,u=Math.abs(r),f=r<0?"-":"";if(t.match(/^00+$/))return f+jc(u,t.length);if(t.match(/^[#?]+$/))return a=""+r,r===0&&(a=""),a.length>t.length?a:Gs(t.substr(0,t.length-a.length))+a;if(i=t.match(fF))return MW(i,u,f);if(t.match(/^#+0+$/))return f+jc(u,t.length-t.indexOf("0"));if(i=t.match(dF))return a=(""+r).replace(/^([^\.]+)$/,"$1."+Gs(i[1])).replace(/\.$/,"."+Gs(i[1])),a=a.replace(/\.(\d*)$/,function(b,v){return"."+v+Ma("0",Gs(i[1]).length-v.length)}),t.indexOf("0.")!==-1?a:a.replace(/^0\./,".");if(t=t.replace(/^#+([0.])/,"$1"),i=t.match(/^(0*)\.(#*)$/))return f+(""+u).replace(/\.(\d*[1-9])0*$/,".$1").replace(/^(-?\d*)$/,"$1.").replace(/^0\./,i[1].length?"0.":".");if(i=t.match(/^#{1,3},##0(\.?)$/))return f+Nd(""+u);if(i=t.match(/^#,##0\.([#0]*0)$/))return r<0?"-"+su(e,t,-r):Nd(""+r)+"."+Ma("0",i[1].length);if(i=t.match(/^#,#*,#0/))return su(e,t.replace(/^#,#*,/,""),r);if(i=t.match(/^([0#]+)(\\?-([0#]+))+$/))return a=Om(su(e,t.replace(/[\\-]/g,""),r)),l=0,Om(Om(t.replace(/\\/g,"")).replace(/[0#]/g,function(b){return l<a.length?a.charAt(l++):b==="0"?"0":""}));if(t.match(mF))return a=su(e,"##########",r),"("+a.substr(0,3)+") "+a.substr(3,3)+"-"+a.substr(6);var h="";if(i=t.match(/^([#0?]+)( ?)\/( ?)([#0?]+)/))return l=Math.min(i[4].length,7),o=ny(u,Math.pow(10,l)-1,!1),a=""+f,h=lf("n",i[1],o[1]),h.charAt(h.length-1)==" "&&(h=h.substr(0,h.length-1)+"0"),a+=h+i[2]+"/"+i[3],h=ty(o[2],l),h.length<i[4].length&&(h=Gs(i[4].substr(i[4].length-h.length))+h),a+=h,a;if(i=t.match(/^# ([#0?]+)( ?)\/( ?)([#0?]+)/))return l=Math.min(Math.max(i[1].length,i[4].length),7),o=ny(u,Math.pow(10,l)-1,!0),f+(o[0]||(o[1]?"":"0"))+" "+(o[1]?X_(o[1],l)+i[2]+"/"+i[3]+ty(o[2],l):Ma(" ",2*l+1+i[2].length+i[3].length));if(i=t.match(/^[#0?]+$/))return a=""+r,t.length<=a.length?a:Gs(t.substr(0,t.length-a.length))+a;if(i=t.match(/^([#0]+)\.([#0]+)$/)){a=""+r.toFixed(Math.min(i[2].length,10)).replace(/([^0])0+$/,"$1"),l=a.indexOf(".");var m=t.indexOf(".")-l,g=t.length-a.length-m;return Gs(t.substr(0,m)+a+t.substr(t.length-g))}if(i=t.match(/^00,000\.([#0]*0)$/))return r<0?"-"+su(e,t,-r):Nd(""+r).replace(/^\d,\d{3}$/,"0$&").replace(/^\d*$/,function(b){return"00,"+(b.length<3?jc(0,3-b.length):"")+b})+"."+jc(0,i[1].length);switch(t){case"###,###":case"##,###":case"#,###":var x=Nd(""+u);return x!=="0"?f+x:"";default:if(t.match(/\.[0#?]*$/))return su(e,t.slice(0,t.lastIndexOf(".")),r)+Gs(t.slice(t.lastIndexOf(".")))}throw new Error("unsupported format |"+t+"|")}function lf(e,t,r){return(r|0)===r?su(e,t,r):To(e,t,r)}function zW(e){for(var t=[],r=!1,n=0,a=0;n<e.length;++n)switch(e.charCodeAt(n)){case 34:r=!r;break;case 95:case 42:case 92:++n;break;case 59:t[t.length]=e.substr(a,n-a),a=n+1}if(t[t.length]=e.substr(a),r===!0)throw new Error("Format |"+e+"| unterminated string ");return t}var xF=/\[[HhMmSs\u0E0A\u0E19\u0E17]*\]/;function ip(e){for(var t=0,r="",n="";t<e.length;)switch(r=e.charAt(t)){case"G":ry(e,t)&&(t+=6),t++;break;case'"':for(;e.charCodeAt(++t)!==34&&t<e.length;);++t;break;case"\\":t+=2;break;case"_":t+=2;break;case"@":++t;break;case"B":case"b":if(e.charAt(t+1)==="1"||e.charAt(t+1)==="2")return!0;case"M":case"D":case"Y":case"H":case"S":case"E":case"m":case"d":case"y":case"h":case"s":case"e":case"g":return!0;case"A":case"a":case"":if(e.substr(t,3).toUpperCase()==="A/P"||e.substr(t,5).toUpperCase()==="AM/PM"||e.substr(t,5).toUpperCase()==="/")return!0;++t;break;case"[":for(n=r;e.charAt(t++)!=="]"&&t<e.length;)n+=e.charAt(t);if(n.match(xF))return!0;break;case".":case"0":case"#":for(;t<e.length&&("0#?.,E+-%".indexOf(r=e.charAt(++t))>-1||r=="\\"&&e.charAt(t+1)=="-"&&"0#".indexOf(e.charAt(t+2))>-1););break;case"?":for(;e.charAt(++t)===r;);break;case"*":++t,(e.charAt(t)==" "||e.charAt(t)=="*")&&++t;break;case"(":case")":++t;break;case"1":case"2":case"3":case"4":case"5":case"6":case"7":case"8":case"9":for(;t<e.length&&"0123456789".indexOf(e.charAt(++t))>-1;);break;case" ":++t;break;default:++t;break}return!1}function qW(e,t,r,n){for(var a=[],i="",l=0,o="",u="t",f,h,m,g="H";l<e.length;)switch(o=e.charAt(l)){case"G":if(!ry(e,l))throw new Error("unrecognized character "+o+" in "+e);a[a.length]={t:"G",v:"General"},l+=7;break;case'"':for(i="";(m=e.charCodeAt(++l))!==34&&l<e.length;)i+=String.fromCharCode(m);a[a.length]={t:"t",v:i},++l;break;case"\\":var x=e.charAt(++l),b=x==="("||x===")"?x:"t";a[a.length]={t:b,v:x},++l;break;case"_":a[a.length]={t:"t",v:" "},l+=2;break;case"@":a[a.length]={t:"T",v:t},++l;break;case"B":case"b":if(e.charAt(l+1)==="1"||e.charAt(l+1)==="2"){if(f==null&&(f=k0(t,r,e.charAt(l+1)==="2"),f==null))return"";a[a.length]={t:"X",v:e.substr(l,2)},u=o,l+=2;break}case"M":case"D":case"Y":case"H":case"S":case"E":o=o.toLowerCase();case"m":case"d":case"y":case"h":case"s":case"e":case"g":if(t<0||f==null&&(f=k0(t,r),f==null))return"";for(i=o;++l<e.length&&e.charAt(l).toLowerCase()===o;)i+=o;o==="m"&&u.toLowerCase()==="h"&&(o="M"),o==="h"&&(o=g),a[a.length]={t:o,v:i},u=o;break;case"A":case"a":case"":var v={t:o,v:o};if(f==null&&(f=k0(t,r)),e.substr(l,3).toUpperCase()==="A/P"?(f!=null&&(v.v=f.H>=12?"P":"A"),v.t="T",g="h",l+=3):e.substr(l,5).toUpperCase()==="AM/PM"?(f!=null&&(v.v=f.H>=12?"PM":"AM"),v.t="T",l+=5,g="h"):e.substr(l,5).toUpperCase()==="/"?(f!=null&&(v.v=f.H>=12?"":""),v.t="T",l+=5,g="h"):(v.t="t",++l),f==null&&v.t==="T")return"";a[a.length]=v,u=o;break;case"[":for(i=o;e.charAt(l++)!=="]"&&l<e.length;)i+=e.charAt(l);if(i.slice(-1)!=="]")throw'unterminated "[" block: |'+i+"|";if(i.match(xF)){if(f==null&&(f=k0(t,r),f==null))return"";a[a.length]={t:"Z",v:i.toLowerCase()},u=i.charAt(1)}else i.indexOf("$")>-1&&(i=(i.match(/\$([^-\[\]]*)/)||[])[1]||"$",ip(e)||(a[a.length]={t:"t",v:i}));break;case".":if(f!=null){for(i=o;++l<e.length&&(o=e.charAt(l))==="0";)i+=o;a[a.length]={t:"s",v:i};break}case"0":case"#":for(i=o;++l<e.length&&"0#?.,E+-%".indexOf(o=e.charAt(l))>-1;)i+=o;a[a.length]={t:"n",v:i};break;case"?":for(i=o;e.charAt(++l)===o;)i+=o;a[a.length]={t:o,v:i},u=o;break;case"*":++l,(e.charAt(l)==" "||e.charAt(l)=="*")&&++l;break;case"(":case")":a[a.length]={t:n===1?"t":o,v:o},++l;break;case"1":case"2":case"3":case"4":case"5":case"6":case"7":case"8":case"9":for(i=o;l<e.length&&"0123456789".indexOf(e.charAt(++l))>-1;)i+=e.charAt(l);a[a.length]={t:"D",v:i};break;case" ":a[a.length]={t:o,v:o},++l;break;case"$":a[a.length]={t:"t",v:"$"},++l;break;default:if(",$-+/():!^&'~{}<>=acfijklopqrtuvwxzP".indexOf(o)===-1)throw new Error("unrecognized character "+o+" in "+e);a[a.length]={t:"t",v:o},++l;break}var w=0,N=0,E;for(l=a.length-1,u="t";l>=0;--l)switch(a[l].t){case"h":case"H":a[l].t=g,u="h",w<1&&(w=1);break;case"s":(E=a[l].v.match(/\.0+$/))&&(N=Math.max(N,E[0].length-1)),w<3&&(w=3);case"d":case"y":case"M":case"e":u=a[l].t;break;case"m":u==="s"&&(a[l].t="M",w<2&&(w=2));break;case"X":break;case"Z":w<1&&a[l].v.match(/[Hh]/)&&(w=1),w<2&&a[l].v.match(/[Mm]/)&&(w=2),w<3&&a[l].v.match(/[Ss]/)&&(w=3)}switch(w){case 0:break;case 1:f.u>=.5&&(f.u=0,++f.S),f.S>=60&&(f.S=0,++f.M),f.M>=60&&(f.M=0,++f.H);break;case 2:f.u>=.5&&(f.u=0,++f.S),f.S>=60&&(f.S=0,++f.M);break}var j="",T;for(l=0;l<a.length;++l)switch(a[l].t){case"t":case"T":case" ":case"D":break;case"X":a[l].v="",a[l].t=";";break;case"d":case"m":case"y":case"h":case"H":case"M":case"s":case"e":case"b":case"Z":a[l].v=DW(a[l].t.charCodeAt(0),a[l].v,f,N),a[l].t="t";break;case"n":case"?":for(T=l+1;a[T]!=null&&((o=a[T].t)==="?"||o==="D"||(o===" "||o==="t")&&a[T+1]!=null&&(a[T+1].t==="?"||a[T+1].t==="t"&&a[T+1].v==="/")||a[l].t==="("&&(o===" "||o==="n"||o===")")||o==="t"&&(a[T].v==="/"||a[T].v===" "&&a[T+1]!=null&&a[T+1].t=="?"));)a[l].v+=a[T].v,a[T]={v:"",t:";"},++T;j+=a[l].v,l=T-1;break;case"G":a[l].t="t",a[l].v=K0(t,r);break}var O="",P,D;if(j.length>0){j.charCodeAt(0)==40?(P=t<0&&j.charCodeAt(0)===45?-t:t,D=lf("n",j,P)):(P=t<0&&n>1?-t:t,D=lf("n",j,P),P<0&&a[0]&&a[0].t=="t"&&(D=D.substr(1),a[0].v="-"+a[0].v)),T=D.length-1;var M=a.length;for(l=0;l<a.length;++l)if(a[l]!=null&&a[l].t!="t"&&a[l].v.indexOf(".")>-1){M=l;break}var B=a.length;if(M===a.length&&D.indexOf("E")===-1){for(l=a.length-1;l>=0;--l)a[l]==null||"n?".indexOf(a[l].t)===-1||(T>=a[l].v.length-1?(T-=a[l].v.length,a[l].v=D.substr(T+1,a[l].v.length)):T<0?a[l].v="":(a[l].v=D.substr(0,T+1),T=-1),a[l].t="t",B=l);T>=0&&B<a.length&&(a[B].v=D.substr(0,T+1)+a[B].v)}else if(M!==a.length&&D.indexOf("E")===-1){for(T=D.indexOf(".")-1,l=M;l>=0;--l)if(!(a[l]==null||"n?".indexOf(a[l].t)===-1)){for(h=a[l].v.indexOf(".")>-1&&l===M?a[l].v.indexOf(".")-1:a[l].v.length-1,O=a[l].v.substr(h+1);h>=0;--h)T>=0&&(a[l].v.charAt(h)==="0"||a[l].v.charAt(h)==="#")&&(O=D.charAt(T--)+O);a[l].v=O,a[l].t="t",B=l}for(T>=0&&B<a.length&&(a[B].v=D.substr(0,T+1)+a[B].v),T=D.indexOf(".")+1,l=M;l<a.length;++l)if(!(a[l]==null||"n?(".indexOf(a[l].t)===-1&&l!==M)){for(h=a[l].v.indexOf(".")>-1&&l===M?a[l].v.indexOf(".")+1:0,O=a[l].v.substr(0,h);h<a[l].v.length;++h)T<D.length&&(O+=D.charAt(T++));a[l].v=O,a[l].t="t",B=l}}}for(l=0;l<a.length;++l)a[l]!=null&&"n?".indexOf(a[l].t)>-1&&(P=n>1&&t<0&&l>0&&a[l-1].v==="-"?-t:t,a[l].v=lf(a[l].t,a[l].v,P),a[l].t="t");var H="";for(l=0;l!==a.length;++l)a[l]!=null&&(H+=a[l].v);return H}var $E=/\[(=|>[=]?|<[>=]?)(-?\d+(?:\.\d*)?)\]/;function HE(e,t){if(t==null)return!1;var r=parseFloat(t[2]);switch(t[1]){case"=":if(e==r)return!0;break;case">":if(e>r)return!0;break;case"<":if(e<r)return!0;break;case"<>":if(e!=r)return!0;break;case">=":if(e>=r)return!0;break;case"<=":if(e<=r)return!0;break}return!1}function $W(e,t){var r=zW(e),n=r.length,a=r[n-1].indexOf("@");if(n<4&&a>-1&&--n,r.length>4)throw new Error("cannot find right format for |"+r.join("|")+"|");if(typeof t!="number")return[4,r.length===4||a>-1?r[r.length-1]:"@"];switch(r.length){case 1:r=a>-1?["General","General","General",r[0]]:[r[0],r[0],r[0],"@"];break;case 2:r=a>-1?[r[0],r[0],r[0],r[1]]:[r[0],r[1],r[0],"@"];break;case 3:r=a>-1?[r[0],r[1],r[0],r[2]]:[r[0],r[1],r[2],"@"];break}var i=t>0?r[0]:t<0?r[1]:r[2];if(r[0].indexOf("[")===-1&&r[1].indexOf("[")===-1)return[n,i];if(r[0].match(/\[[=<>]/)!=null||r[1].match(/\[[=<>]/)!=null){var l=r[0].match($E),o=r[1].match($E);return HE(t,l)?[n,r[0]]:HE(t,o)?[n,r[1]]:[n,r[l!=null&&o!=null?2:1]]}return[n,i]}function qo(e,t,r){r==null&&(r={});var n="";switch(typeof e){case"string":e=="m/d/yy"&&r.dateNF?n=r.dateNF:n=e;break;case"number":e==14&&r.dateNF?n=r.dateNF:n=(r.table!=null?r.table:ur)[e],n==null&&(n=r.table&&r.table[UE[e]]||ur[UE[e]]),n==null&&(n=SW[e]||"General");break}if(ry(n,0))return K0(t,r);t instanceof Date&&(t=oF(t,r.date1904));var a=$W(n,t);if(ry(a[1]))return K0(t,r);if(t===!0)t="TRUE";else if(t===!1)t="FALSE";else if(t===""||t==null)return"";return qW(a[1],t,r,a[0])}function of(e,t){if(typeof t!="number"){t=+t||-1;for(var r=0;r<392;++r){if(ur[r]==null){t<0&&(t=r);continue}if(ur[r]==e){t=r;break}}t<0&&(t=391)}return ur[t]=e,t}function u2(e){for(var t=0;t!=392;++t)e[t]!==void 0&&of(e[t],t)}function sp(){ur=jW()}var HW={5:'"$"#,##0_);\\("$"#,##0\\)',6:'"$"#,##0_);[Red]\\("$"#,##0\\)',7:'"$"#,##0.00_);\\("$"#,##0.00\\)',8:'"$"#,##0.00_);[Red]\\("$"#,##0.00\\)',23:"General",24:"General",25:"General",26:"General",27:"m/d/yy",28:"m/d/yy",29:"m/d/yy",30:"m/d/yy",31:"m/d/yy",32:"h:mm:ss",33:"h:mm:ss",34:"h:mm:ss",35:"h:mm:ss",36:"m/d/yy",41:'_(* #,##0_);_(* (#,##0);_(* "-"_);_(@_)',42:'_("$"* #,##0_);_("$"* (#,##0);_("$"* "-"_);_(@_)',43:'_(* #,##0.00_);_(* (#,##0.00);_(* "-"??_);_(@_)',44:'_("$"* #,##0.00_);_("$"* (#,##0.00);_("$"* "-"??_);_(@_)',50:"m/d/yy",51:"m/d/yy",52:"m/d/yy",53:"m/d/yy",54:"m/d/yy",55:"m/d/yy",56:"m/d/yy",57:"m/d/yy",58:"m/d/yy",59:"0",60:"0.00",61:"#,##0",62:"#,##0.00",63:'"$"#,##0_);\\("$"#,##0\\)',64:'"$"#,##0_);[Red]\\("$"#,##0\\)',65:'"$"#,##0.00_);\\("$"#,##0.00\\)',66:'"$"#,##0.00_);[Red]\\("$"#,##0.00\\)',67:"0%",68:"0.00%",69:"# ?/?",70:"# ??/??",71:"m/d/yy",72:"m/d/yy",73:"d-mmm-yy",74:"d-mmm",75:"mmm-yy",76:"h:mm",77:"h:mm:ss",78:"m/d/yy h:mm",79:"mm:ss",80:"[h]:mm:ss",81:"mmss.0"},gF=/[dD]+|[mM]+|[yYeE]+|[Hh]+|[Ss]+/g;function VW(e){var t=typeof e=="number"?ur[e]:e;return t=t.replace(gF,"(\\d+)"),new RegExp("^"+t+"$")}function WW(e,t,r){var n=-1,a=-1,i=-1,l=-1,o=-1,u=-1;(t.match(gF)||[]).forEach(function(m,g){var x=parseInt(r[g+1],10);switch(m.toLowerCase().charAt(0)){case"y":n=x;break;case"d":i=x;break;case"h":l=x;break;case"s":u=x;break;case"m":l>=0?o=x:a=x;break}}),u>=0&&o==-1&&a>=0&&(o=a,a=-1);var f=(""+(n>=0?n:new Date().getFullYear())).slice(-4)+"-"+("00"+(a>=1?a:1)).slice(-2)+"-"+("00"+(i>=1?i:1)).slice(-2);f.length==7&&(f="0"+f),f.length==8&&(f="20"+f);var h=("00"+(l>=0?l:0)).slice(-2)+":"+("00"+(o>=0?o:0)).slice(-2)+":"+("00"+(u>=0?u:0)).slice(-2);return l==-1&&o==-1&&u==-1?f:n==-1&&a==-1&&i==-1?h:f+"T"+h}var KW=(function(){var e={};e.version="1.2.0";function t(){for(var D=0,M=new Array(256),B=0;B!=256;++B)D=B,D=D&1?-306674912^D>>>1:D>>>1,D=D&1?-306674912^D>>>1:D>>>1,D=D&1?-306674912^D>>>1:D>>>1,D=D&1?-306674912^D>>>1:D>>>1,D=D&1?-306674912^D>>>1:D>>>1,D=D&1?-306674912^D>>>1:D>>>1,D=D&1?-306674912^D>>>1:D>>>1,D=D&1?-306674912^D>>>1:D>>>1,M[B]=D;return typeof Int32Array<"u"?new Int32Array(M):M}var r=t();function n(D){var M=0,B=0,H=0,L=typeof Int32Array<"u"?new Int32Array(4096):new Array(4096);for(H=0;H!=256;++H)L[H]=D[H];for(H=0;H!=256;++H)for(B=D[H],M=256+H;M<4096;M+=256)B=L[M]=B>>>8^D[B&255];var U=[];for(H=1;H!=16;++H)U[H-1]=typeof Int32Array<"u"?L.subarray(H*256,H*256+256):L.slice(H*256,H*256+256);return U}var a=n(r),i=a[0],l=a[1],o=a[2],u=a[3],f=a[4],h=a[5],m=a[6],g=a[7],x=a[8],b=a[9],v=a[10],w=a[11],N=a[12],E=a[13],j=a[14];function T(D,M){for(var B=M^-1,H=0,L=D.length;H<L;)B=B>>>8^r[(B^D.charCodeAt(H++))&255];return~B}function O(D,M){for(var B=M^-1,H=D.length-15,L=0;L<H;)B=j[D[L++]^B&255]^E[D[L++]^B>>8&255]^N[D[L++]^B>>16&255]^w[D[L++]^B>>>24]^v[D[L++]]^b[D[L++]]^x[D[L++]]^g[D[L++]]^m[D[L++]]^h[D[L++]]^f[D[L++]]^u[D[L++]]^o[D[L++]]^l[D[L++]]^i[D[L++]]^r[D[L++]];for(H+=15;L<H;)B=B>>>8^r[(B^D[L++])&255];return~B}function P(D,M){for(var B=M^-1,H=0,L=D.length,U=0,G=0;H<L;)U=D.charCodeAt(H++),U<128?B=B>>>8^r[(B^U)&255]:U<2048?(B=B>>>8^r[(B^(192|U>>6&31))&255],B=B>>>8^r[(B^(128|U&63))&255]):U>=55296&&U<57344?(U=(U&1023)+64,G=D.charCodeAt(H++)&1023,B=B>>>8^r[(B^(240|U>>8&7))&255],B=B>>>8^r[(B^(128|U>>2&63))&255],B=B>>>8^r[(B^(128|G>>6&15|(U&3)<<4))&255],B=B>>>8^r[(B^(128|G&63))&255]):(B=B>>>8^r[(B^(224|U>>12&15))&255],B=B>>>8^r[(B^(128|U>>6&63))&255],B=B>>>8^r[(B^(128|U&63))&255]);return~B}return e.table=r,e.bstr=T,e.buf=O,e.str=P,e})(),nr=(function(){var t={};t.version="1.2.1";function r(ae,Ne){for(var he=ae.split("/"),me=Ne.split("/"),ye=0,je=0,Me=Math.min(he.length,me.length);ye<Me;++ye){if(je=he[ye].length-me[ye].length)return je;if(he[ye]!=me[ye])return he[ye]<me[ye]?-1:1}return he.length-me.length}function n(ae){if(ae.charAt(ae.length-1)=="/")return ae.slice(0,-1).indexOf("/")===-1?ae:n(ae.slice(0,-1));var Ne=ae.lastIndexOf("/");return Ne===-1?ae:ae.slice(0,Ne+1)}function a(ae){if(ae.charAt(ae.length-1)=="/")return a(ae.slice(0,-1));var Ne=ae.lastIndexOf("/");return Ne===-1?ae:ae.slice(Ne+1)}function i(ae,Ne){typeof Ne=="string"&&(Ne=new Date(Ne));var he=Ne.getHours();he=he<<6|Ne.getMinutes(),he=he<<5|Ne.getSeconds()>>>1,ae.write_shift(2,he);var me=Ne.getFullYear()-1980;me=me<<4|Ne.getMonth()+1,me=me<<5|Ne.getDate(),ae.write_shift(2,me)}function l(ae){var Ne=ae.read_shift(2)&65535,he=ae.read_shift(2)&65535,me=new Date,ye=he&31;he>>>=5;var je=he&15;he>>>=4,me.setMilliseconds(0),me.setFullYear(he+1980),me.setMonth(je-1),me.setDate(ye);var Me=Ne&31;Ne>>>=5;var Xe=Ne&63;return Ne>>>=6,me.setHours(Ne),me.setMinutes(Xe),me.setSeconds(Me<<1),me}function o(ae){is(ae,0);for(var Ne={},he=0;ae.l<=ae.length-4;){var me=ae.read_shift(2),ye=ae.read_shift(2),je=ae.l+ye,Me={};switch(me){case 21589:he=ae.read_shift(1),he&1&&(Me.mtime=ae.read_shift(4)),ye>5&&(he&2&&(Me.atime=ae.read_shift(4)),he&4&&(Me.ctime=ae.read_shift(4))),Me.mtime&&(Me.mt=new Date(Me.mtime*1e3));break}ae.l=je,Ne[me]=Me}return Ne}var u;function f(){return u||(u={})}function h(ae,Ne){if(ae[0]==80&&ae[1]==75)return pn(ae,Ne);if((ae[0]|32)==109&&(ae[1]|32)==105)return Xt(ae,Ne);if(ae.length<512)throw new Error("CFB file size "+ae.length+" < 512");var he=3,me=512,ye=0,je=0,Me=0,Xe=0,Ie=0,Be=[],ze=ae.slice(0,512);is(ze,0);var ft=m(ze);switch(he=ft[0],he){case 3:me=512;break;case 4:me=4096;break;case 0:if(ft[1]==0)return pn(ae,Ne);default:throw new Error("Major Version: Expected 3 or 4 saw "+he)}me!==512&&(ze=ae.slice(0,me),is(ze,28));var gt=ae.slice(0,me);g(ze,he);var St=ze.read_shift(4,"i");if(he===3&&St!==0)throw new Error("# Directory Sectors: Expected 0 saw "+St);ze.l+=4,Me=ze.read_shift(4,"i"),ze.l+=4,ze.chk("00100000","Mini Stream Cutoff Size: "),Xe=ze.read_shift(4,"i"),ye=ze.read_shift(4,"i"),Ie=ze.read_shift(4,"i"),je=ze.read_shift(4,"i");for(var mt=-1,Nt=0;Nt<109&&(mt=ze.read_shift(4,"i"),!(mt<0));++Nt)Be[Nt]=mt;var Lt=x(ae,me);w(Ie,je,Lt,me,Be);var cn=E(Lt,Me,Be,me);cn[Me].name="!Directory",ye>0&&Xe!==G&&(cn[Xe].name="!MiniFAT"),cn[Be[0]].name="!FAT",cn.fat_addrs=Be,cn.ssz=me;var Cr={},hn=[],Ki=[],Fl=[];j(Me,cn,Lt,hn,ye,Cr,Ki,Xe),b(Ki,Fl,hn),hn.shift();var Pl={FileIndex:Ki,FullPaths:Fl};return Ne&&Ne.raw&&(Pl.raw={header:gt,sectors:Lt}),Pl}function m(ae){if(ae[ae.l]==80&&ae[ae.l+1]==75)return[0,0];ae.chk(te,"Header Signature: "),ae.l+=16;var Ne=ae.read_shift(2,"u");return[ae.read_shift(2,"u"),Ne]}function g(ae,Ne){var he=9;switch(ae.l+=2,he=ae.read_shift(2)){case 9:if(Ne!=3)throw new Error("Sector Shift: Expected 9 saw "+he);break;case 12:if(Ne!=4)throw new Error("Sector Shift: Expected 12 saw "+he);break;default:throw new Error("Sector Shift: Expected 9 or 12 saw "+he)}ae.chk("0600","Mini Sector Shift: "),ae.chk("000000000000","Reserved: ")}function x(ae,Ne){for(var he=Math.ceil(ae.length/Ne)-1,me=[],ye=1;ye<he;++ye)me[ye-1]=ae.slice(ye*Ne,(ye+1)*Ne);return me[he-1]=ae.slice(he*Ne),me}function b(ae,Ne,he){for(var me=0,ye=0,je=0,Me=0,Xe=0,Ie=he.length,Be=[],ze=[];me<Ie;++me)Be[me]=ze[me]=me,Ne[me]=he[me];for(;Xe<ze.length;++Xe)me=ze[Xe],ye=ae[me].L,je=ae[me].R,Me=ae[me].C,Be[me]===me&&(ye!==-1&&Be[ye]!==ye&&(Be[me]=Be[ye]),je!==-1&&Be[je]!==je&&(Be[me]=Be[je])),Me!==-1&&(Be[Me]=me),ye!==-1&&me!=Be[me]&&(Be[ye]=Be[me],ze.lastIndexOf(ye)<Xe&&ze.push(ye)),je!==-1&&me!=Be[me]&&(Be[je]=Be[me],ze.lastIndexOf(je)<Xe&&ze.push(je));for(me=1;me<Ie;++me)Be[me]===me&&(je!==-1&&Be[je]!==je?Be[me]=Be[je]:ye!==-1&&Be[ye]!==ye&&(Be[me]=Be[ye]));for(me=1;me<Ie;++me)if(ae[me].type!==0){if(Xe=me,Xe!=Be[Xe])do Xe=Be[Xe],Ne[me]=Ne[Xe]+"/"+Ne[me];while(Xe!==0&&Be[Xe]!==-1&&Xe!=Be[Xe]);Be[me]=-1}for(Ne[0]+="/",me=1;me<Ie;++me)ae[me].type!==2&&(Ne[me]+="/")}function v(ae,Ne,he){for(var me=ae.start,ye=ae.size,je=[],Me=me;he&&ye>0&&Me>=0;)je.push(Ne.slice(Me*U,Me*U+U)),ye-=U,Me=S0(he,Me*4);return je.length===0?tt(0):zi(je).slice(0,ae.size)}function w(ae,Ne,he,me,ye){var je=G;if(ae===G){if(Ne!==0)throw new Error("DIFAT chain shorter than expected")}else if(ae!==-1){var Me=he[ae],Xe=(me>>>2)-1;if(!Me)return;for(var Ie=0;Ie<Xe&&(je=S0(Me,Ie*4))!==G;++Ie)ye.push(je);w(S0(Me,me-4),Ne-1,he,me,ye)}}function N(ae,Ne,he,me,ye){var je=[],Me=[];ye||(ye=[]);var Xe=me-1,Ie=0,Be=0;for(Ie=Ne;Ie>=0;){ye[Ie]=!0,je[je.length]=Ie,Me.push(ae[Ie]);var ze=he[Math.floor(Ie*4/me)];if(Be=Ie*4&Xe,me<4+Be)throw new Error("FAT boundary crossed: "+Ie+" 4 "+me);if(!ae[ze])break;Ie=S0(ae[ze],Be)}return{nodes:je,data:rk([Me])}}function E(ae,Ne,he,me){var ye=ae.length,je=[],Me=[],Xe=[],Ie=[],Be=me-1,ze=0,ft=0,gt=0,St=0;for(ze=0;ze<ye;++ze)if(Xe=[],gt=ze+Ne,gt>=ye&&(gt-=ye),!Me[gt]){Ie=[];var mt=[];for(ft=gt;ft>=0;){mt[ft]=!0,Me[ft]=!0,Xe[Xe.length]=ft,Ie.push(ae[ft]);var Nt=he[Math.floor(ft*4/me)];if(St=ft*4&Be,me<4+St)throw new Error("FAT boundary crossed: "+ft+" 4 "+me);if(!ae[Nt]||(ft=S0(ae[Nt],St),mt[ft]))break}je[gt]={nodes:Xe,data:rk([Ie])}}return je}function j(ae,Ne,he,me,ye,je,Me,Xe){for(var Ie=0,Be=me.length?2:0,ze=Ne[ae].data,ft=0,gt=0,St;ft<ze.length;ft+=128){var mt=ze.slice(ft,ft+128);is(mt,64),gt=mt.read_shift(2),St=a3(mt,0,gt-Be),me.push(St);var Nt={name:St,type:mt.read_shift(1),color:mt.read_shift(1),L:mt.read_shift(4,"i"),R:mt.read_shift(4,"i"),C:mt.read_shift(4,"i"),clsid:mt.read_shift(16),state:mt.read_shift(4,"i"),start:0,size:0},Lt=mt.read_shift(2)+mt.read_shift(2)+mt.read_shift(2)+mt.read_shift(2);Lt!==0&&(Nt.ct=T(mt,mt.l-8));var cn=mt.read_shift(2)+mt.read_shift(2)+mt.read_shift(2)+mt.read_shift(2);cn!==0&&(Nt.mt=T(mt,mt.l-8)),Nt.start=mt.read_shift(4,"i"),Nt.size=mt.read_shift(4,"i"),Nt.size<0&&Nt.start<0&&(Nt.size=Nt.type=0,Nt.start=G,Nt.name=""),Nt.type===5?(Ie=Nt.start,ye>0&&Ie!==G&&(Ne[Ie].name="!StreamData")):Nt.size>=4096?(Nt.storage="fat",Ne[Nt.start]===void 0&&(Ne[Nt.start]=N(he,Nt.start,Ne.fat_addrs,Ne.ssz)),Ne[Nt.start].name=Nt.name,Nt.content=Ne[Nt.start].data.slice(0,Nt.size)):(Nt.storage="minifat",Nt.size<0?Nt.size=0:Ie!==G&&Nt.start!==G&&Ne[Ie]&&(Nt.content=v(Nt,Ne[Ie].data,(Ne[Xe]||{}).data))),Nt.content&&is(Nt.content,0),je[St]=Nt,Me.push(Nt)}}function T(ae,Ne){return new Date((Xl(ae,Ne+4)/1e7*Math.pow(2,32)+Xl(ae,Ne)/1e7-11644473600)*1e3)}function O(ae,Ne){return f(),h(u.readFileSync(ae),Ne)}function P(ae,Ne){var he=Ne&&Ne.type;switch(he||Tr&&Buffer.isBuffer(ae)&&(he="buffer"),he||"base64"){case"file":return O(ae,Ne);case"base64":return h(Zl(no(ae)),Ne);case"binary":return h(Zl(ae),Ne)}return h(ae,Ne)}function D(ae,Ne){var he=Ne||{},me=he.root||"Root Entry";if(ae.FullPaths||(ae.FullPaths=[]),ae.FileIndex||(ae.FileIndex=[]),ae.FullPaths.length!==ae.FileIndex.length)throw new Error("inconsistent CFB structure");ae.FullPaths.length===0&&(ae.FullPaths[0]=me+"/",ae.FileIndex[0]={name:me,type:5}),he.CLSID&&(ae.FileIndex[0].clsid=he.CLSID),M(ae)}function M(ae){var Ne="Sh33tJ5";if(!nr.find(ae,"/"+Ne)){var he=tt(4);he[0]=55,he[1]=he[3]=50,he[2]=54,ae.FileIndex.push({name:Ne,type:2,content:he,size:4,L:69,R:69,C:69}),ae.FullPaths.push(ae.FullPaths[0]+Ne),B(ae)}}function B(ae,Ne){D(ae);for(var he=!1,me=!1,ye=ae.FullPaths.length-1;ye>=0;--ye){var je=ae.FileIndex[ye];switch(je.type){case 0:me?he=!0:(ae.FileIndex.pop(),ae.FullPaths.pop());break;case 1:case 2:case 5:me=!0,isNaN(je.R*je.L*je.C)&&(he=!0),je.R>-1&&je.L>-1&&je.R==je.L&&(he=!0);break;default:he=!0;break}}if(!(!he&&!Ne)){var Me=new Date(1987,1,19),Xe=0,Ie=Object.create?Object.create(null):{},Be=[];for(ye=0;ye<ae.FullPaths.length;++ye)Ie[ae.FullPaths[ye]]=!0,ae.FileIndex[ye].type!==0&&Be.push([ae.FullPaths[ye],ae.FileIndex[ye]]);for(ye=0;ye<Be.length;++ye){var ze=n(Be[ye][0]);me=Ie[ze],me||(Be.push([ze,{name:a(ze).replace("/",""),type:1,clsid:ne,ct:Me,mt:Me,content:null}]),Ie[ze]=!0)}for(Be.sort(function(St,mt){return r(St[0],mt[0])}),ae.FullPaths=[],ae.FileIndex=[],ye=0;ye<Be.length;++ye)ae.FullPaths[ye]=Be[ye][0],ae.FileIndex[ye]=Be[ye][1];for(ye=0;ye<Be.length;++ye){var ft=ae.FileIndex[ye],gt=ae.FullPaths[ye];if(ft.name=a(gt).replace("/",""),ft.L=ft.R=ft.C=-(ft.color=1),ft.size=ft.content?ft.content.length:0,ft.start=0,ft.clsid=ft.clsid||ne,ye===0)ft.C=Be.length>1?1:-1,ft.size=0,ft.type=5;else if(gt.slice(-1)=="/"){for(Xe=ye+1;Xe<Be.length&&n(ae.FullPaths[Xe])!=gt;++Xe);for(ft.C=Xe>=Be.length?-1:Xe,Xe=ye+1;Xe<Be.length&&n(ae.FullPaths[Xe])!=n(gt);++Xe);ft.R=Xe>=Be.length?-1:Xe,ft.type=1}else n(ae.FullPaths[ye+1]||"")==n(gt)&&(ft.R=ye+1),ft.type=2}}}function H(ae,Ne){var he=Ne||{};if(he.fileType=="mad")return Dl(ae,he);switch(B(ae),he.fileType){case"zip":return Hr(ae,he)}var me=(function(St){for(var mt=0,Nt=0,Lt=0;Lt<St.FileIndex.length;++Lt){var cn=St.FileIndex[Lt];if(cn.content){var Cr=cn.content.length;Cr>0&&(Cr<4096?mt+=Cr+63>>6:Nt+=Cr+511>>9)}}for(var hn=St.FullPaths.length+3>>2,Ki=mt+7>>3,Fl=mt+127>>7,Pl=Ki+Nt+hn+Fl,Is=Pl+127>>7,Ic=Is<=109?0:Math.ceil((Is-109)/127);Pl+Is+Ic+127>>7>Is;)Ic=++Is<=109?0:Math.ceil((Is-109)/127);var Ua=[1,Ic,Is,Fl,hn,Nt,mt,0];return St.FileIndex[0].size=mt<<6,Ua[7]=(St.FileIndex[0].start=Ua[0]+Ua[1]+Ua[2]+Ua[3]+Ua[4]+Ua[5])+(Ua[6]+7>>3),Ua})(ae),ye=tt(me[7]<<9),je=0,Me=0;{for(je=0;je<8;++je)ye.write_shift(1,de[je]);for(je=0;je<8;++je)ye.write_shift(2,0);for(ye.write_shift(2,62),ye.write_shift(2,3),ye.write_shift(2,65534),ye.write_shift(2,9),ye.write_shift(2,6),je=0;je<3;++je)ye.write_shift(2,0);for(ye.write_shift(4,0),ye.write_shift(4,me[2]),ye.write_shift(4,me[0]+me[1]+me[2]+me[3]-1),ye.write_shift(4,0),ye.write_shift(4,4096),ye.write_shift(4,me[3]?me[0]+me[1]+me[2]-1:G),ye.write_shift(4,me[3]),ye.write_shift(-4,me[1]?me[0]-1:G),ye.write_shift(4,me[1]),je=0;je<109;++je)ye.write_shift(-4,je<me[2]?me[1]+je:-1)}if(me[1])for(Me=0;Me<me[1];++Me){for(;je<236+Me*127;++je)ye.write_shift(-4,je<me[2]?me[1]+je:-1);ye.write_shift(-4,Me===me[1]-1?G:Me+1)}var Xe=function(St){for(Me+=St;je<Me-1;++je)ye.write_shift(-4,je+1);St&&(++je,ye.write_shift(-4,G))};for(Me=je=0,Me+=me[1];je<Me;++je)ye.write_shift(-4,Z.DIFSECT);for(Me+=me[2];je<Me;++je)ye.write_shift(-4,Z.FATSECT);Xe(me[3]),Xe(me[4]);for(var Ie=0,Be=0,ze=ae.FileIndex[0];Ie<ae.FileIndex.length;++Ie)ze=ae.FileIndex[Ie],ze.content&&(Be=ze.content.length,!(Be<4096)&&(ze.start=Me,Xe(Be+511>>9)));for(Xe(me[6]+7>>3);ye.l&511;)ye.write_shift(-4,Z.ENDOFCHAIN);for(Me=je=0,Ie=0;Ie<ae.FileIndex.length;++Ie)ze=ae.FileIndex[Ie],ze.content&&(Be=ze.content.length,!(!Be||Be>=4096)&&(ze.start=Me,Xe(Be+63>>6)));for(;ye.l&511;)ye.write_shift(-4,Z.ENDOFCHAIN);for(je=0;je<me[4]<<2;++je){var ft=ae.FullPaths[je];if(!ft||ft.length===0){for(Ie=0;Ie<17;++Ie)ye.write_shift(4,0);for(Ie=0;Ie<3;++Ie)ye.write_shift(4,-1);for(Ie=0;Ie<12;++Ie)ye.write_shift(4,0);continue}ze=ae.FileIndex[je],je===0&&(ze.start=ze.size?ze.start-1:G);var gt=je===0&&he.root||ze.name;if(Be=2*(gt.length+1),ye.write_shift(64,gt,"utf16le"),ye.write_shift(2,Be),ye.write_shift(1,ze.type),ye.write_shift(1,ze.color),ye.write_shift(-4,ze.L),ye.write_shift(-4,ze.R),ye.write_shift(-4,ze.C),ze.clsid)ye.write_shift(16,ze.clsid,"hex");else for(Ie=0;Ie<4;++Ie)ye.write_shift(4,0);ye.write_shift(4,ze.state||0),ye.write_shift(4,0),ye.write_shift(4,0),ye.write_shift(4,0),ye.write_shift(4,0),ye.write_shift(4,ze.start),ye.write_shift(4,ze.size),ye.write_shift(4,0)}for(je=1;je<ae.FileIndex.length;++je)if(ze=ae.FileIndex[je],ze.size>=4096)if(ye.l=ze.start+1<<9,Tr&&Buffer.isBuffer(ze.content))ze.content.copy(ye,ye.l,0,ze.size),ye.l+=ze.size+511&-512;else{for(Ie=0;Ie<ze.size;++Ie)ye.write_shift(1,ze.content[Ie]);for(;Ie&511;++Ie)ye.write_shift(1,0)}for(je=1;je<ae.FileIndex.length;++je)if(ze=ae.FileIndex[je],ze.size>0&&ze.size<4096)if(Tr&&Buffer.isBuffer(ze.content))ze.content.copy(ye,ye.l,0,ze.size),ye.l+=ze.size+63&-64;else{for(Ie=0;Ie<ze.size;++Ie)ye.write_shift(1,ze.content[Ie]);for(;Ie&63;++Ie)ye.write_shift(1,0)}if(Tr)ye.l=ye.length;else for(;ye.l<ye.length;)ye.write_shift(1,0);return ye}function L(ae,Ne){var he=ae.FullPaths.map(function(Ie){return Ie.toUpperCase()}),me=he.map(function(Ie){var Be=Ie.split("/");return Be[Be.length-(Ie.slice(-1)=="/"?2:1)]}),ye=!1;Ne.charCodeAt(0)===47?(ye=!0,Ne=he[0].slice(0,-1)+Ne):ye=Ne.indexOf("/")!==-1;var je=Ne.toUpperCase(),Me=ye===!0?he.indexOf(je):me.indexOf(je);if(Me!==-1)return ae.FileIndex[Me];var Xe=!je.match(vx);for(je=je.replace(rl,""),Xe&&(je=je.replace(vx,"!")),Me=0;Me<he.length;++Me)if((Xe?he[Me].replace(vx,"!"):he[Me]).replace(rl,"")==je||(Xe?me[Me].replace(vx,"!"):me[Me]).replace(rl,"")==je)return ae.FileIndex[Me];return null}var U=64,G=-2,te="d0cf11e0a1b11ae1",de=[208,207,17,224,161,177,26,225],ne="00000000000000000000000000000000",Z={MAXREGSECT:-6,DIFSECT:-4,FATSECT:-3,ENDOFCHAIN:G,FREESECT:-1,HEADER_SIGNATURE:te,HEADER_MINOR_VERSION:"3e00",MAXREGSID:-6,NOSTREAM:-1,HEADER_CLSID:ne,EntryTypes:["unknown","storage","stream","lockbytes","property","root"]};function xe(ae,Ne,he){f();var me=H(ae,he);u.writeFileSync(Ne,me)}function le(ae){for(var Ne=new Array(ae.length),he=0;he<ae.length;++he)Ne[he]=String.fromCharCode(ae[he]);return Ne.join("")}function Se(ae,Ne){var he=H(ae,Ne);switch(Ne&&Ne.type||"buffer"){case"file":return f(),u.writeFileSync(Ne.filename,he),he;case"binary":return typeof he=="string"?he:le(he);case"base64":return Gx(typeof he=="string"?he:le(he));case"buffer":if(Tr)return Buffer.isBuffer(he)?he:jf(he);case"array":return typeof he=="string"?Zl(he):he}return he}var re;function R(ae){try{var Ne=ae.InflateRaw,he=new Ne;if(he._processChunk(new Uint8Array([3,0]),he._finishFlushFlag),he.bytesRead)re=ae;else throw new Error("zlib does not expose bytesRead")}catch(me){console.error("cannot use native zlib: "+(me.message||me))}}function F(ae,Ne){if(!re)return Er(ae,Ne);var he=re.InflateRaw,me=new he,ye=me._processChunk(ae.slice(ae.l),me._finishFlushFlag);return ae.l+=me.bytesRead,ye}function q(ae){return re?re.deflateRawSync(ae):yt(ae)}var W=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15],Q=[3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258],oe=[1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577];function ue(ae){var Ne=(ae<<1|ae<<11)&139536|(ae<<5|ae<<15)&558144;return(Ne>>16|Ne>>8|Ne)&255}for(var X=typeof Uint8Array<"u",ve=X?new Uint8Array(256):[],Te=0;Te<256;++Te)ve[Te]=ue(Te);function Y(ae,Ne){var he=ve[ae&255];return Ne<=8?he>>>8-Ne:(he=he<<8|ve[ae>>8&255],Ne<=16?he>>>16-Ne:(he=he<<8|ve[ae>>16&255],he>>>24-Ne))}function We(ae,Ne){var he=Ne&7,me=Ne>>>3;return(ae[me]|(he<=6?0:ae[me+1]<<8))>>>he&3}function Ee(ae,Ne){var he=Ne&7,me=Ne>>>3;return(ae[me]|(he<=5?0:ae[me+1]<<8))>>>he&7}function ge(ae,Ne){var he=Ne&7,me=Ne>>>3;return(ae[me]|(he<=4?0:ae[me+1]<<8))>>>he&15}function dt(ae,Ne){var he=Ne&7,me=Ne>>>3;return(ae[me]|(he<=3?0:ae[me+1]<<8))>>>he&31}function Ze(ae,Ne){var he=Ne&7,me=Ne>>>3;return(ae[me]|(he<=1?0:ae[me+1]<<8))>>>he&127}function bt(ae,Ne,he){var me=Ne&7,ye=Ne>>>3,je=(1<<he)-1,Me=ae[ye]>>>me;return he<8-me||(Me|=ae[ye+1]<<8-me,he<16-me)||(Me|=ae[ye+2]<<16-me,he<24-me)||(Me|=ae[ye+3]<<24-me),Me&je}function lt(ae,Ne,he){var me=Ne&7,ye=Ne>>>3;return me<=5?ae[ye]|=(he&7)<<me:(ae[ye]|=he<<me&255,ae[ye+1]=(he&7)>>8-me),Ne+3}function Ct(ae,Ne,he){var me=Ne&7,ye=Ne>>>3;return he=(he&1)<<me,ae[ye]|=he,Ne+1}function xt(ae,Ne,he){var me=Ne&7,ye=Ne>>>3;return he<<=me,ae[ye]|=he&255,he>>>=8,ae[ye+1]=he,Ne+8}function Ye(ae,Ne,he){var me=Ne&7,ye=Ne>>>3;return he<<=me,ae[ye]|=he&255,he>>>=8,ae[ye+1]=he&255,ae[ye+2]=he>>>8,Ne+16}function pt(ae,Ne){var he=ae.length,me=2*he>Ne?2*he:Ne+5,ye=0;if(he>=Ne)return ae;if(Tr){var je=RE(me);if(ae.copy)ae.copy(je);else for(;ye<ae.length;++ye)je[ye]=ae[ye];return je}else if(X){var Me=new Uint8Array(me);if(Me.set)Me.set(ae);else for(;ye<he;++ye)Me[ye]=ae[ye];return Me}return ae.length=me,ae}function Et(ae){for(var Ne=new Array(ae),he=0;he<ae;++he)Ne[he]=0;return Ne}function zt(ae,Ne,he){var me=1,ye=0,je=0,Me=0,Xe=0,Ie=ae.length,Be=X?new Uint16Array(32):Et(32);for(je=0;je<32;++je)Be[je]=0;for(je=Ie;je<he;++je)ae[je]=0;Ie=ae.length;var ze=X?new Uint16Array(Ie):Et(Ie);for(je=0;je<Ie;++je)Be[ye=ae[je]]++,me<ye&&(me=ye),ze[je]=0;for(Be[0]=0,je=1;je<=me;++je)Be[je+16]=Xe=Xe+Be[je-1]<<1;for(je=0;je<Ie;++je)Xe=ae[je],Xe!=0&&(ze[je]=Be[Xe+16]++);var ft=0;for(je=0;je<Ie;++je)if(ft=ae[je],ft!=0)for(Xe=Y(ze[je],me)>>me-ft,Me=(1<<me+4-ft)-1;Me>=0;--Me)Ne[Xe|Me<<ft]=ft&15|je<<4;return me}var Kt=X?new Uint16Array(512):Et(512),Ar=X?new Uint16Array(32):Et(32);if(!X){for(var Mt=0;Mt<512;++Mt)Kt[Mt]=0;for(Mt=0;Mt<32;++Mt)Ar[Mt]=0}(function(){for(var ae=[],Ne=0;Ne<32;Ne++)ae.push(5);zt(ae,Ar,32);var he=[];for(Ne=0;Ne<=143;Ne++)he.push(8);for(;Ne<=255;Ne++)he.push(9);for(;Ne<=279;Ne++)he.push(7);for(;Ne<=287;Ne++)he.push(8);zt(he,Kt,288)})();var Pt=(function(){for(var Ne=X?new Uint8Array(32768):[],he=0,me=0;he<oe.length-1;++he)for(;me<oe[he+1];++me)Ne[me]=he;for(;me<32768;++me)Ne[me]=29;var ye=X?new Uint8Array(259):[];for(he=0,me=0;he<Q.length-1;++he)for(;me<Q[he+1];++me)ye[me]=he;function je(Xe,Ie){for(var Be=0;Be<Xe.length;){var ze=Math.min(65535,Xe.length-Be),ft=Be+ze==Xe.length;for(Ie.write_shift(1,+ft),Ie.write_shift(2,ze),Ie.write_shift(2,~ze&65535);ze-- >0;)Ie[Ie.l++]=Xe[Be++]}return Ie.l}function Me(Xe,Ie){for(var Be=0,ze=0,ft=X?new Uint16Array(32768):[];ze<Xe.length;){var gt=Math.min(65535,Xe.length-ze);if(gt<10){for(Be=lt(Ie,Be,+(ze+gt==Xe.length)),Be&7&&(Be+=8-(Be&7)),Ie.l=Be/8|0,Ie.write_shift(2,gt),Ie.write_shift(2,~gt&65535);gt-- >0;)Ie[Ie.l++]=Xe[ze++];Be=Ie.l*8;continue}Be=lt(Ie,Be,+(ze+gt==Xe.length)+2);for(var St=0;gt-- >0;){var mt=Xe[ze];St=(St<<5^mt)&32767;var Nt=-1,Lt=0;if((Nt=ft[St])&&(Nt|=ze&-32768,Nt>ze&&(Nt-=32768),Nt<ze))for(;Xe[Nt+Lt]==Xe[ze+Lt]&&Lt<250;)++Lt;if(Lt>2){mt=ye[Lt],mt<=22?Be=xt(Ie,Be,ve[mt+1]>>1)-1:(xt(Ie,Be,3),Be+=5,xt(Ie,Be,ve[mt-23]>>5),Be+=3);var cn=mt<8?0:mt-4>>2;cn>0&&(Ye(Ie,Be,Lt-Q[mt]),Be+=cn),mt=Ne[ze-Nt],Be=xt(Ie,Be,ve[mt]>>3),Be-=3;var Cr=mt<4?0:mt-2>>1;Cr>0&&(Ye(Ie,Be,ze-Nt-oe[mt]),Be+=Cr);for(var hn=0;hn<Lt;++hn)ft[St]=ze&32767,St=(St<<5^Xe[ze])&32767,++ze;gt-=Lt-1}else mt<=143?mt=mt+48:Be=Ct(Ie,Be,1),Be=xt(Ie,Be,ve[mt]),ft[St]=ze&32767,++ze}Be=xt(Ie,Be,0)-1}return Ie.l=(Be+7)/8|0,Ie.l}return function(Ie,Be){return Ie.length<8?je(Ie,Be):Me(Ie,Be)}})();function yt(ae){var Ne=tt(50+Math.floor(ae.length*1.1)),he=Pt(ae,Ne);return Ne.slice(0,he)}var kt=X?new Uint16Array(32768):Et(32768),_r=X?new Uint16Array(32768):Et(32768),Zt=X?new Uint16Array(128):Et(128),At=1,er=1;function br(ae,Ne){var he=dt(ae,Ne)+257;Ne+=5;var me=dt(ae,Ne)+1;Ne+=5;var ye=ge(ae,Ne)+4;Ne+=4;for(var je=0,Me=X?new Uint8Array(19):Et(19),Xe=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],Ie=1,Be=X?new Uint8Array(8):Et(8),ze=X?new Uint8Array(8):Et(8),ft=Me.length,gt=0;gt<ye;++gt)Me[W[gt]]=je=Ee(ae,Ne),Ie<je&&(Ie=je),Be[je]++,Ne+=3;var St=0;for(Be[0]=0,gt=1;gt<=Ie;++gt)ze[gt]=St=St+Be[gt-1]<<1;for(gt=0;gt<ft;++gt)(St=Me[gt])!=0&&(Xe[gt]=ze[St]++);var mt=0;for(gt=0;gt<ft;++gt)if(mt=Me[gt],mt!=0){St=ve[Xe[gt]]>>8-mt;for(var Nt=(1<<7-mt)-1;Nt>=0;--Nt)Zt[St|Nt<<mt]=mt&7|gt<<3}var Lt=[];for(Ie=1;Lt.length<he+me;)switch(St=Zt[Ze(ae,Ne)],Ne+=St&7,St>>>=3){case 16:for(je=3+We(ae,Ne),Ne+=2,St=Lt[Lt.length-1];je-- >0;)Lt.push(St);break;case 17:for(je=3+Ee(ae,Ne),Ne+=3;je-- >0;)Lt.push(0);break;case 18:for(je=11+Ze(ae,Ne),Ne+=7;je-- >0;)Lt.push(0);break;default:Lt.push(St),Ie<St&&(Ie=St);break}var cn=Lt.slice(0,he),Cr=Lt.slice(he);for(gt=he;gt<286;++gt)cn[gt]=0;for(gt=me;gt<30;++gt)Cr[gt]=0;return At=zt(cn,kt,286),er=zt(Cr,_r,30),Ne}function ar(ae,Ne){if(ae[0]==3&&!(ae[1]&3))return[Ed(Ne),2];for(var he=0,me=0,ye=RE(Ne||1<<18),je=0,Me=ye.length>>>0,Xe=0,Ie=0;(me&1)==0;){if(me=Ee(ae,he),he+=3,me>>>1)me>>1==1?(Xe=9,Ie=5):(he=br(ae,he),Xe=At,Ie=er);else{he&7&&(he+=8-(he&7));var Be=ae[he>>>3]|ae[(he>>>3)+1]<<8;if(he+=32,Be>0)for(!Ne&&Me<je+Be&&(ye=pt(ye,je+Be),Me=ye.length);Be-- >0;)ye[je++]=ae[he>>>3],he+=8;continue}for(;;){!Ne&&Me<je+32767&&(ye=pt(ye,je+32767),Me=ye.length);var ze=bt(ae,he,Xe),ft=me>>>1==1?Kt[ze]:kt[ze];if(he+=ft&15,ft>>>=4,(ft>>>8&255)===0)ye[je++]=ft;else{if(ft==256)break;ft-=257;var gt=ft<8?0:ft-4>>2;gt>5&&(gt=0);var St=je+Q[ft];gt>0&&(St+=bt(ae,he,gt),he+=gt),ze=bt(ae,he,Ie),ft=me>>>1==1?Ar[ze]:_r[ze],he+=ft&15,ft>>>=4;var mt=ft<4?0:ft-2>>1,Nt=oe[ft];for(mt>0&&(Nt+=bt(ae,he,mt),he+=mt),!Ne&&Me<St&&(ye=pt(ye,St+100),Me=ye.length);je<St;)ye[je]=ye[je-Nt],++je}}}return Ne?[ye,he+7>>>3]:[ye.slice(0,je),he+7>>>3]}function Er(ae,Ne){var he=ae.slice(ae.l||0),me=ar(he,Ne);return ae.l+=me[1],me[0]}function dr(ae,Ne){if(ae)typeof console<"u"&&console.error(Ne);else throw new Error(Ne)}function pn(ae,Ne){var he=ae;is(he,0);var me=[],ye=[],je={FileIndex:me,FullPaths:ye};D(je,{root:Ne.root});for(var Me=he.length-4;(he[Me]!=80||he[Me+1]!=75||he[Me+2]!=5||he[Me+3]!=6)&&Me>=0;)--Me;he.l=Me+4,he.l+=4;var Xe=he.read_shift(2);he.l+=6;var Ie=he.read_shift(4);for(he.l=Ie,Me=0;Me<Xe;++Me){he.l+=20;var Be=he.read_shift(4),ze=he.read_shift(4),ft=he.read_shift(2),gt=he.read_shift(2),St=he.read_shift(2);he.l+=8;var mt=he.read_shift(4),Nt=o(he.slice(he.l+ft,he.l+ft+gt));he.l+=ft+gt+St;var Lt=he.l;he.l=mt+4,Un(he,Be,ze,je,Nt),he.l=Lt}return je}function Un(ae,Ne,he,me,ye){ae.l+=2;var je=ae.read_shift(2),Me=ae.read_shift(2),Xe=l(ae);if(je&8257)throw new Error("Unsupported ZIP encryption");for(var Ie=ae.read_shift(4),Be=ae.read_shift(4),ze=ae.read_shift(4),ft=ae.read_shift(2),gt=ae.read_shift(2),St="",mt=0;mt<ft;++mt)St+=String.fromCharCode(ae[ae.l++]);if(gt){var Nt=o(ae.slice(ae.l,ae.l+gt));(Nt[21589]||{}).mt&&(Xe=Nt[21589].mt),((ye||{})[21589]||{}).mt&&(Xe=ye[21589].mt)}ae.l+=gt;var Lt=ae.slice(ae.l,ae.l+Be);switch(Me){case 8:Lt=F(ae,ze);break;case 0:break;default:throw new Error("Unsupported ZIP Compression method "+Me)}var cn=!1;je&8&&(Ie=ae.read_shift(4),Ie==134695760&&(Ie=ae.read_shift(4),cn=!0),Be=ae.read_shift(4),ze=ae.read_shift(4)),Be!=Ne&&dr(cn,"Bad compressed size: "+Ne+" != "+Be),ze!=he&&dr(cn,"Bad uncompressed size: "+he+" != "+ze),ui(me,St,Lt,{unsafe:!0,mt:Xe})}function Hr(ae,Ne){var he=Ne||{},me=[],ye=[],je=tt(1),Me=he.compression?8:0,Xe=0,Ie=0,Be=0,ze=0,ft=0,gt=ae.FullPaths[0],St=gt,mt=ae.FileIndex[0],Nt=[],Lt=0;for(Ie=1;Ie<ae.FullPaths.length;++Ie)if(St=ae.FullPaths[Ie].slice(gt.length),mt=ae.FileIndex[Ie],!(!mt.size||!mt.content||St=="Sh33tJ5")){var cn=ze,Cr=tt(St.length);for(Be=0;Be<St.length;++Be)Cr.write_shift(1,St.charCodeAt(Be)&127);Cr=Cr.slice(0,Cr.l),Nt[ft]=KW.buf(mt.content,0);var hn=mt.content;Me==8&&(hn=q(hn)),je=tt(30),je.write_shift(4,67324752),je.write_shift(2,20),je.write_shift(2,Xe),je.write_shift(2,Me),mt.mt?i(je,mt.mt):je.write_shift(4,0),je.write_shift(-4,Nt[ft]),je.write_shift(4,hn.length),je.write_shift(4,mt.content.length),je.write_shift(2,Cr.length),je.write_shift(2,0),ze+=je.length,me.push(je),ze+=Cr.length,me.push(Cr),ze+=hn.length,me.push(hn),je=tt(46),je.write_shift(4,33639248),je.write_shift(2,0),je.write_shift(2,20),je.write_shift(2,Xe),je.write_shift(2,Me),je.write_shift(4,0),je.write_shift(-4,Nt[ft]),je.write_shift(4,hn.length),je.write_shift(4,mt.content.length),je.write_shift(2,Cr.length),je.write_shift(2,0),je.write_shift(2,0),je.write_shift(2,0),je.write_shift(2,0),je.write_shift(4,0),je.write_shift(4,cn),Lt+=je.l,ye.push(je),Lt+=Cr.length,ye.push(Cr),++ft}return je=tt(22),je.write_shift(4,101010256),je.write_shift(2,0),je.write_shift(2,0),je.write_shift(2,ft),je.write_shift(2,ft),je.write_shift(4,Lt),je.write_shift(4,ze),je.write_shift(2,0),zi([zi(me),zi(ye),je])}var Yt={htm:"text/html",xml:"text/xml",gif:"image/gif",jpg:"image/jpeg",png:"image/png",mso:"application/x-mso",thmx:"application/vnd.ms-officetheme",sh33tj5:"application/octet-stream"};function Fr(ae,Ne){if(ae.ctype)return ae.ctype;var he=ae.name||"",me=he.match(/\.([^\.]+)$/);return me&&Yt[me[1]]||Ne&&(me=(he=Ne).match(/[\.\\]([^\.\\])+$/),me&&Yt[me[1]])?Yt[me[1]]:"application/octet-stream"}function Rs(ae){for(var Ne=Gx(ae),he=[],me=0;me<Ne.length;me+=76)he.push(Ne.slice(me,me+76));return he.join(`\r
`)+`\r
`}function Ja(ae){var Ne=ae.replace(/[\x00-\x08\x0B\x0C\x0E-\x1F\x7E-\xFF=]/g,function(Be){var ze=Be.charCodeAt(0).toString(16).toUpperCase();return"="+(ze.length==1?"0"+ze:ze)});Ne=Ne.replace(/ $/mg,"=20").replace(/\t$/mg,"=09"),Ne.charAt(0)==`
`&&(Ne="=0D"+Ne.slice(1)),Ne=Ne.replace(/\r(?!\n)/mg,"=0D").replace(/\n\n/mg,`
=0A`).replace(/([^\r\n])\n/mg,"$1=0A");for(var he=[],me=Ne.split(`\r
`),ye=0;ye<me.length;++ye){var je=me[ye];if(je.length==0){he.push("");continue}for(var Me=0;Me<je.length;){var Xe=76,Ie=je.slice(Me,Me+Xe);Ie.charAt(Xe-1)=="="?Xe--:Ie.charAt(Xe-2)=="="?Xe-=2:Ie.charAt(Xe-3)=="="&&(Xe-=3),Ie=je.slice(Me,Me+Xe),Me+=Xe,Me<je.length&&(Ie+="="),he.push(Ie)}}return he.join(`\r
`)}function il(ae){for(var Ne=[],he=0;he<ae.length;++he){for(var me=ae[he];he<=ae.length&&me.charAt(me.length-1)=="=";)me=me.slice(0,me.length-1)+ae[++he];Ne.push(me)}for(var ye=0;ye<Ne.length;++ye)Ne[ye]=Ne[ye].replace(/[=][0-9A-Fa-f]{2}/g,function(je){return String.fromCharCode(parseInt(je.slice(1),16))});return Zl(Ne.join(`\r
`))}function us(ae,Ne,he){for(var me="",ye="",je="",Me,Xe=0;Xe<10;++Xe){var Ie=Ne[Xe];if(!Ie||Ie.match(/^\s*$/))break;var Be=Ie.match(/^(.*?):\s*([^\s].*)$/);if(Be)switch(Be[1].toLowerCase()){case"content-location":me=Be[2].trim();break;case"content-type":je=Be[2].trim();break;case"content-transfer-encoding":ye=Be[2].trim();break}}switch(++Xe,ye.toLowerCase()){case"base64":Me=Zl(no(Ne.slice(Xe).join("")));break;case"quoted-printable":Me=il(Ne.slice(Xe));break;default:throw new Error("Unsupported Content-Transfer-Encoding "+ye)}var ze=ui(ae,me.slice(he.length),Me,{unsafe:!0});je&&(ze.ctype=je)}function Xt(ae,Ne){if(le(ae.slice(0,13)).toLowerCase()!="mime-version:")throw new Error("Unsupported MAD header");var he=Ne&&Ne.root||"",me=(Tr&&Buffer.isBuffer(ae)?ae.toString("binary"):le(ae)).split(`\r
`),ye=0,je="";for(ye=0;ye<me.length;++ye)if(je=me[ye],!!/^Content-Location:/i.test(je)&&(je=je.slice(je.indexOf("file")),he||(he=je.slice(0,je.lastIndexOf("/")+1)),je.slice(0,he.length)!=he))for(;he.length>0&&(he=he.slice(0,he.length-1),he=he.slice(0,he.lastIndexOf("/")+1),je.slice(0,he.length)!=he););var Me=(me[1]||"").match(/boundary="(.*?)"/);if(!Me)throw new Error("MAD cannot find boundary");var Xe="--"+(Me[1]||""),Ie=[],Be=[],ze={FileIndex:Ie,FullPaths:Be};D(ze);var ft,gt=0;for(ye=0;ye<me.length;++ye){var St=me[ye];St!==Xe&&St!==Xe+"--"||(gt++&&us(ze,me.slice(ft,ye),he),ft=ye)}return ze}function Dl(ae,Ne){var he=Ne||{},me=he.boundary||"SheetJS";me="------="+me;for(var ye=["MIME-Version: 1.0",'Content-Type: multipart/related; boundary="'+me.slice(2)+'"',"","",""],je=ae.FullPaths[0],Me=je,Xe=ae.FileIndex[0],Ie=1;Ie<ae.FullPaths.length;++Ie)if(Me=ae.FullPaths[Ie].slice(je.length),Xe=ae.FileIndex[Ie],!(!Xe.size||!Xe.content||Me=="Sh33tJ5")){Me=Me.replace(/[\x00-\x08\x0B\x0C\x0E-\x1F\x7E-\xFF]/g,function(Lt){return"_x"+Lt.charCodeAt(0).toString(16)+"_"}).replace(/[\u0080-\uFFFF]/g,function(Lt){return"_u"+Lt.charCodeAt(0).toString(16)+"_"});for(var Be=Xe.content,ze=Tr&&Buffer.isBuffer(Be)?Be.toString("binary"):le(Be),ft=0,gt=Math.min(1024,ze.length),St=0,mt=0;mt<=gt;++mt)(St=ze.charCodeAt(mt))>=32&&St<128&&++ft;var Nt=ft>=gt*4/5;ye.push(me),ye.push("Content-Location: "+(he.root||"file:///C:/SheetJS/")+Me),ye.push("Content-Transfer-Encoding: "+(Nt?"quoted-printable":"base64")),ye.push("Content-Type: "+Fr(Xe,Me)),ye.push(""),ye.push(Nt?Ja(ze):Rs(ze))}return ye.push(me+`--\r
`),ye.join(`\r
`)}function sl(ae){var Ne={};return D(Ne,ae),Ne}function ui(ae,Ne,he,me){var ye=me&&me.unsafe;ye||D(ae);var je=!ye&&nr.find(ae,Ne);if(!je){var Me=ae.FullPaths[0];Ne.slice(0,Me.length)==Me?Me=Ne:(Me.slice(-1)!="/"&&(Me+="/"),Me=(Me+Ne).replace("//","/")),je={name:a(Ne),type:2},ae.FileIndex.push(je),ae.FullPaths.push(Me),ye||nr.utils.cfb_gc(ae)}return je.content=he,je.size=he?he.length:0,me&&(me.CLSID&&(je.clsid=me.CLSID),me.mt&&(je.mt=me.mt),me.ct&&(je.ct=me.ct)),je}function Wi(ae,Ne){D(ae);var he=nr.find(ae,Ne);if(he){for(var me=0;me<ae.FileIndex.length;++me)if(ae.FileIndex[me]==he)return ae.FileIndex.splice(me,1),ae.FullPaths.splice(me,1),!0}return!1}function jn(ae,Ne,he){D(ae);var me=nr.find(ae,Ne);if(me){for(var ye=0;ye<ae.FileIndex.length;++ye)if(ae.FileIndex[ye]==me)return ae.FileIndex[ye].name=a(he),ae.FullPaths[ye]=he,!0}return!1}function ra(ae){B(ae,!0)}return t.find=L,t.read=P,t.parse=h,t.write=Se,t.writeFile=xe,t.utils={cfb_new:sl,cfb_add:ui,cfb_del:Wi,cfb_mov:jn,cfb_gc:ra,ReadShift:Ax,CheckField:BF,prep_blob:is,bconcat:zi,use_zlib:R,_deflateRaw:yt,_inflateRaw:Er,consts:Z},t})();function GW(e){return typeof e=="string"?c2(e):Array.isArray(e)?bW(e):e}function Sg(e,t,r){if(typeof Deno<"u"){if(r&&typeof t=="string")switch(r){case"utf8":t=new TextEncoder(r).encode(t);break;case"binary":t=c2(t);break;default:throw new Error("Unsupported encoding "+r)}return Deno.writeFileSync(e,t)}var n=r=="utf8"?cu(t):t;if(typeof IE_SaveFile<"u")return IE_SaveFile(n,e);if(typeof Blob<"u"){var a=new Blob([GW(n)],{type:"application/octet-stream"});if(typeof navigator<"u"&&navigator.msSaveBlob)return navigator.msSaveBlob(a,e);if(typeof saveAs<"u")return saveAs(a,e);if(typeof URL<"u"&&typeof document<"u"&&document.createElement&&URL.createObjectURL){var i=URL.createObjectURL(a);if(typeof chrome=="object"&&typeof(chrome.downloads||{}).download=="function")return URL.revokeObjectURL&&typeof setTimeout<"u"&&setTimeout(function(){URL.revokeObjectURL(i)},6e4),chrome.downloads.download({url:i,filename:e,saveAs:!0});var l=document.createElement("a");if(l.download!=null)return l.download=e,l.href=i,document.body.appendChild(l),l.click(),document.body.removeChild(l),URL.revokeObjectURL&&typeof setTimeout<"u"&&setTimeout(function(){URL.revokeObjectURL(i)},6e4),i}}if(typeof $<"u"&&typeof File<"u"&&typeof Folder<"u")try{var o=File(e);return o.open("w"),o.encoding="binary",Array.isArray(t)&&(t=Id(t)),o.write(t),o.close(),t}catch(u){if(!u.message||!u.message.match(/onstruct/))throw u}throw new Error("cannot save file "+e)}function YW(e){if(typeof Deno<"u")return Deno.readFileSync(e);if(typeof $<"u"&&typeof File<"u"&&typeof Folder<"u")try{var t=File(e);t.open("r"),t.encoding="binary";var r=t.read();return t.close(),r}catch(n){if(!n.message||!n.message.match(/onstruct/))throw n}throw new Error("Cannot access file "+e)}function Ba(e){for(var t=Object.keys(e),r=[],n=0;n<t.length;++n)Object.prototype.hasOwnProperty.call(e,t[n])&&r.push(t[n]);return r}function VE(e,t){for(var r=[],n=Ba(e),a=0;a!==n.length;++a)r[e[n[a]][t]]==null&&(r[e[n[a]][t]]=n[a]);return r}function f2(e){for(var t=[],r=Ba(e),n=0;n!==r.length;++n)t[e[r[n]]]=r[n];return t}function d2(e){for(var t=[],r=Ba(e),n=0;n!==r.length;++n)t[e[r[n]]]=parseInt(r[n],10);return t}function XW(e){for(var t=[],r=Ba(e),n=0;n!==r.length;++n)t[e[r[n]]]==null&&(t[e[r[n]]]=[]),t[e[r[n]]].push(r[n]);return t}var ay=new Date(1899,11,30,0,0,0);function Si(e,t){var r=e.getTime(),n=ay.getTime()+(e.getTimezoneOffset()-ay.getTimezoneOffset())*6e4;return(r-n)/(1440*60*1e3)}var vF=new Date,QW=ay.getTime()+(vF.getTimezoneOffset()-ay.getTimezoneOffset())*6e4,WE=vF.getTimezoneOffset();function h2(e){var t=new Date;return t.setTime(e*24*60*60*1e3+QW),t.getTimezoneOffset()!==WE&&t.setTime(t.getTime()+(t.getTimezoneOffset()-WE)*6e4),t}function ZW(e){var t=0,r=0,n=!1,a=e.match(/P([0-9\.]+Y)?([0-9\.]+M)?([0-9\.]+D)?T([0-9\.]+H)?([0-9\.]+M)?([0-9\.]+S)?/);if(!a)throw new Error("|"+e+"| is not an ISO8601 Duration");for(var i=1;i!=a.length;++i)if(a[i]){switch(r=1,i>3&&(n=!0),a[i].slice(a[i].length-1)){case"Y":throw new Error("Unsupported ISO Duration Field: "+a[i].slice(a[i].length-1));case"D":r*=24;case"H":r*=60;case"M":if(n)r*=60;else throw new Error("Unsupported ISO Duration Field: M")}t+=r*parseInt(a[i],10)}return t}var KE=new Date("2017-02-19T19:06:09.000Z"),yF=isNaN(KE.getFullYear())?new Date("2/19/17"):KE,JW=yF.getFullYear()==2017;function Jn(e,t){var r=new Date(e);if(JW)return t>0?r.setTime(r.getTime()+r.getTimezoneOffset()*60*1e3):t<0&&r.setTime(r.getTime()-r.getTimezoneOffset()*60*1e3),r;if(e instanceof Date)return e;if(yF.getFullYear()==1917&&!isNaN(r.getFullYear())){var n=r.getFullYear();return e.indexOf(""+n)>-1||r.setFullYear(r.getFullYear()+100),r}var a=e.match(/\d+/g)||["2017","2","19","0","0","0"],i=new Date(+a[0],+a[1]-1,+a[2],+a[3]||0,+a[4]||0,+a[5]||0);return e.indexOf("Z")>-1&&(i=new Date(i.getTime()-i.getTimezoneOffset()*60*1e3)),i}function G0(e,t){if(Tr&&Buffer.isBuffer(e)){if(t){if(e[0]==255&&e[1]==254)return cu(e.slice(2).toString("utf16le"));if(e[1]==254&&e[2]==255)return cu(sF(e.slice(2).toString("binary")))}return e.toString("binary")}if(typeof TextDecoder<"u")try{if(t){if(e[0]==255&&e[1]==254)return cu(new TextDecoder("utf-16le").decode(e.slice(2)));if(e[0]==254&&e[1]==255)return cu(new TextDecoder("utf-16be").decode(e.slice(2)))}var r={"":"","":"",:"","":"","":"","":"","":"","":"","":"",:"","":"",:"",:"","":"","":"","":"","":"","":"","":"","":"","":"","":"",:"","":"",:"",:"",:""};return Array.isArray(e)&&(e=new Uint8Array(e)),new TextDecoder("latin1").decode(e).replace(/[]/g,function(i){return r[i]||i})}catch{}for(var n=[],a=0;a!=e.length;++a)n.push(String.fromCharCode(e[a]));return n.join("")}function ea(e){if(typeof JSON<"u"&&!Array.isArray(e))return JSON.parse(JSON.stringify(e));if(typeof e!="object"||e==null)return e;if(e instanceof Date)return new Date(e.getTime());var t={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=ea(e[r]));return t}function Ma(e,t){for(var r="";r.length<t;)r+=e;return r}function Ac(e){var t=Number(e);if(!isNaN(t))return isFinite(t)?t:NaN;if(!/\d/.test(e))return t;var r=1,n=e.replace(/([\d]),([\d])/g,"$1$2").replace(/[$]/g,"").replace(/[%]/g,function(){return r*=100,""});return!isNaN(t=Number(n))||(n=n.replace(/[(](.*)[)]/,function(a,i){return r=-r,i}),!isNaN(t=Number(n)))?t/r:t}var eK=["january","february","march","april","may","june","july","august","september","october","november","december"];function qm(e){var t=new Date(e),r=new Date(NaN),n=t.getYear(),a=t.getMonth(),i=t.getDate();if(isNaN(i))return r;var l=e.toLowerCase();if(l.match(/jan|feb|mar|apr|may|jun|jul|aug|sep|oct|nov|dec/)){if(l=l.replace(/[^a-z]/g,"").replace(/([^a-z]|^)[ap]m?([^a-z]|$)/,""),l.length>3&&eK.indexOf(l)==-1)return r}else if(l.match(/[a-z]/))return r;return n<0||n>8099?r:(a>0||i>1)&&n!=101?t:e.match(/[^-0-9:,\/\\]/)?r:t}var tK=(function(){var e="abacaba".split(/(:?b)/i).length==5;return function(r,n,a){if(e||typeof n=="string")return r.split(n);for(var i=r.split(n),l=[i[0]],o=1;o<i.length;++o)l.push(a),l.push(i[o]);return l}})();function bF(e){return e?e.content&&e.type?G0(e.content,!0):e.data?gx(e.data):e.asNodeBuffer&&Tr?gx(e.asNodeBuffer().toString("binary")):e.asBinary?gx(e.asBinary()):e._data&&e._data.getContent?gx(G0(Array.prototype.slice.call(e._data.getContent(),0))):null:null}function wF(e){if(!e)return null;if(e.data)return LE(e.data);if(e.asNodeBuffer&&Tr)return e.asNodeBuffer();if(e._data&&e._data.getContent){var t=e._data.getContent();return typeof t=="string"?LE(t):Array.prototype.slice.call(t)}return e.content&&e.type?e.content:null}function rK(e){return e&&e.name.slice(-4)===".bin"?wF(e):bF(e)}function Po(e,t){for(var r=e.FullPaths||Ba(e.files),n=t.toLowerCase().replace(/[\/]/g,"\\"),a=n.replace(/\\/g,"/"),i=0;i<r.length;++i){var l=r[i].replace(/^Root Entry[\/]/,"").toLowerCase();if(n==l||a==l)return e.files?e.files[r[i]]:e.FileIndex[i]}return null}function Z_(e,t){var r=Po(e,t);if(r==null)throw new Error("Cannot find file "+t+" in zip");return r}function ii(e,t,r){if(!r)return rK(Z_(e,t));if(!t)return null;try{return ii(e,t)}catch{return null}}function Jl(e,t,r){if(!r)return bF(Z_(e,t));if(!t)return null;try{return Jl(e,t)}catch{return null}}function nK(e,t,r){return wF(Z_(e,t))}function GE(e){for(var t=e.FullPaths||Ba(e.files),r=[],n=0;n<t.length;++n)t[n].slice(-1)!="/"&&r.push(t[n].replace(/^Root Entry[\/]/,""));return r.sort()}function Sr(e,t,r){if(e.FullPaths){if(typeof r=="string"){var n;return Tr?n=jf(r):n=wW(r),nr.utils.cfb_add(e,t,n)}nr.utils.cfb_add(e,t,r)}else e.file(t,r)}function J_(){return nr.utils.cfb_new()}function NF(e,t){switch(t.type){case"base64":return nr.read(e,{type:"base64"});case"binary":return nr.read(e,{type:"binary"});case"buffer":case"array":return nr.read(e,{type:"buffer"})}throw new Error("Unrecognized type "+t.type)}function yx(e,t){if(e.charAt(0)=="/")return e.slice(1);var r=t.split("/");t.slice(-1)!="/"&&r.pop();for(var n=e.split("/");n.length!==0;){var a=n.shift();a===".."?r.pop():a!=="."&&r.push(a)}return r.join("/")}var Za=`<?xml version="1.0" encoding="UTF-8" standalone="yes"?>\r
`,aK=/([^"\s?>\/]+)\s*=\s*((?:")([^"]*)(?:")|(?:')([^']*)(?:')|([^'">\s]+))/g,YE=/<[\/\?]?[a-zA-Z0-9:_-]+(?:\s+[^"\s?>\/]+\s*=\s*(?:"[^"]*"|'[^']*'|[^'">\s=]+))*\s*[\/\?]?>/mg,iK=/<[^>]*>/g,Ls=Za.match(YE)?YE:iK,sK=/<\w*:/,lK=/<(\/?)\w+:/;function hr(e,t,r){for(var n={},a=0,i=0;a!==e.length&&!((i=e.charCodeAt(a))===32||i===10||i===13);++a);if(t||(n[0]=e.slice(0,a)),a===e.length)return n;var l=e.match(aK),o=0,u="",f=0,h="",m="",g=1;if(l)for(f=0;f!=l.length;++f){for(m=l[f],i=0;i!=m.length&&m.charCodeAt(i)!==61;++i);for(h=m.slice(0,i).trim();m.charCodeAt(i+1)==32;)++i;for(g=(a=m.charCodeAt(i+1))==34||a==39?1:0,u=m.slice(i+1+g,m.length-g),o=0;o!=h.length&&h.charCodeAt(o)!==58;++o);if(o===h.length)h.indexOf("_")>0&&(h=h.slice(0,h.indexOf("_"))),n[h]=u,n[h.toLowerCase()]=u;else{var x=(o===5&&h.slice(0,5)==="xmlns"?"xmlns":"")+h.slice(o+1);if(n[x]&&h.slice(o-3,o)=="ext")continue;n[x]=u,n[x.toLowerCase()]=u}}return n}function xu(e){return e.replace(lK,"<$1")}var _F={"&quot;":'"',"&apos;":"'","&gt;":">","&lt;":"<","&amp;":"&"},e3=f2(_F),Zr=(function(){var e=/&(?:quot|apos|gt|lt|amp|#x?([\da-fA-F]+));/ig,t=/_x([\da-fA-F]{4})_/ig;return function r(n){var a=n+"",i=a.indexOf("<![CDATA[");if(i==-1)return a.replace(e,function(o,u){return _F[o]||String.fromCharCode(parseInt(u,o.indexOf("x")>-1?16:10))||o}).replace(t,function(o,u){return String.fromCharCode(parseInt(u,16))});var l=a.indexOf("]]>");return r(a.slice(0,i))+a.slice(i+9,l)+r(a.slice(l+3))}})(),t3=/[&<>'"]/g,oK=/[\u0000-\u0008\u000b-\u001f]/g;function _n(e){var t=e+"";return t.replace(t3,function(r){return e3[r]}).replace(oK,function(r){return"_x"+("000"+r.charCodeAt(0).toString(16)).slice(-4)+"_"})}function XE(e){return _n(e).replace(/ /g,"_x0020_")}var jF=/[\u0000-\u001f]/g;function r3(e){var t=e+"";return t.replace(t3,function(r){return e3[r]}).replace(/\n/g,"<br/>").replace(jF,function(r){return"&#x"+("000"+r.charCodeAt(0).toString(16)).slice(-4)+";"})}function cK(e){var t=e+"";return t.replace(t3,function(r){return e3[r]}).replace(jF,function(r){return"&#x"+r.charCodeAt(0).toString(16).toUpperCase()+";"})}var QE=(function(){var e=/&#(\d+);/g;function t(r,n){return String.fromCharCode(parseInt(n,10))}return function(n){return n.replace(e,t)}})();function uK(e){return e.replace(/(\r\n|[\r\n])/g,"&#10;")}function Qn(e){switch(e){case 1:case!0:case"1":case"true":case"TRUE":return!0;default:return!1}}function Cw(e){for(var t="",r=0,n=0,a=0,i=0,l=0,o=0;r<e.length;){if(n=e.charCodeAt(r++),n<128){t+=String.fromCharCode(n);continue}if(a=e.charCodeAt(r++),n>191&&n<224){l=(n&31)<<6,l|=a&63,t+=String.fromCharCode(l);continue}if(i=e.charCodeAt(r++),n<240){t+=String.fromCharCode((n&15)<<12|(a&63)<<6|i&63);continue}l=e.charCodeAt(r++),o=((n&7)<<18|(a&63)<<12|(i&63)<<6|l&63)-65536,t+=String.fromCharCode(55296+(o>>>10&1023)),t+=String.fromCharCode(56320+(o&1023))}return t}function ZE(e){var t=Ed(2*e.length),r,n,a=1,i=0,l=0,o;for(n=0;n<e.length;n+=a)a=1,(o=e.charCodeAt(n))<128?r=o:o<224?(r=(o&31)*64+(e.charCodeAt(n+1)&63),a=2):o<240?(r=(o&15)*4096+(e.charCodeAt(n+1)&63)*64+(e.charCodeAt(n+2)&63),a=3):(a=4,r=(o&7)*262144+(e.charCodeAt(n+1)&63)*4096+(e.charCodeAt(n+2)&63)*64+(e.charCodeAt(n+3)&63),r-=65536,l=55296+(r>>>10&1023),r=56320+(r&1023)),l!==0&&(t[i++]=l&255,t[i++]=l>>>8,l=0),t[i++]=r%256,t[i++]=r>>>8;return t.slice(0,i).toString("ucs2")}function JE(e){return jf(e,"binary").toString("utf8")}var Z1="foo bar baz",Dn=Tr&&(JE(Z1)==Cw(Z1)&&JE||ZE(Z1)==Cw(Z1)&&ZE)||Cw,cu=Tr?function(e){return jf(e,"utf8").toString("binary")}:function(e){for(var t=[],r=0,n=0,a=0;r<e.length;)switch(n=e.charCodeAt(r++),!0){case n<128:t.push(String.fromCharCode(n));break;case n<2048:t.push(String.fromCharCode(192+(n>>6))),t.push(String.fromCharCode(128+(n&63)));break;case(n>=55296&&n<57344):n-=55296,a=e.charCodeAt(r++)-56320+(n<<10),t.push(String.fromCharCode(240+(a>>18&7))),t.push(String.fromCharCode(144+(a>>12&63))),t.push(String.fromCharCode(128+(a>>6&63))),t.push(String.fromCharCode(128+(a&63)));break;default:t.push(String.fromCharCode(224+(n>>12))),t.push(String.fromCharCode(128+(n>>6&63))),t.push(String.fromCharCode(128+(n&63)))}return t.join("")},Xx=(function(){var e={};return function(r,n){var a=r+"|"+(n||"");return e[a]?e[a]:e[a]=new RegExp("<(?:\\w+:)?"+r+'(?: xml:space="preserve")?(?:[^>]*)>([\\s\\S]*?)</(?:\\w+:)?'+r+">",n||"")}})(),SF=(function(){var e=[["nbsp"," "],["middot",""],["quot",'"'],["apos","'"],["gt",">"],["lt","<"],["amp","&"]].map(function(t){return[new RegExp("&"+t[0]+";","ig"),t[1]]});return function(r){for(var n=r.replace(/^[\t\n\r ]+/,"").replace(/[\t\n\r ]+$/,"").replace(/>\s+/g,">").replace(/\s+</g,"<").replace(/[\t\n\r ]+/g," ").replace(/<\s*[bB][rR]\s*\/?>/g,`
`).replace(/<[^>]*>/g,""),a=0;a<e.length;++a)n=n.replace(e[a][0],e[a][1]);return n}})(),fK=(function(){var e={};return function(r){return e[r]!==void 0?e[r]:e[r]=new RegExp("<(?:vt:)?"+r+">([\\s\\S]*?)</(?:vt:)?"+r+">","g")}})(),dK=/<\/?(?:vt:)?variant>/g,hK=/<(?:vt:)([^>]*)>([\s\S]*)</;function ek(e,t){var r=hr(e),n=e.match(fK(r.baseType))||[],a=[];if(n.length!=r.size){if(t.WTF)throw new Error("unexpected vector length "+n.length+" != "+r.size);return a}return n.forEach(function(i){var l=i.replace(dK,"").match(hK);l&&a.push({v:Dn(l[2]),t:l[1]})}),a}var AF=/(^\s|\s$|\n)/;function ss(e,t){return"<"+e+(t.match(AF)?' xml:space="preserve"':"")+">"+t+"</"+e+">"}function Qx(e){return Ba(e).map(function(t){return" "+t+'="'+e[t]+'"'}).join("")}function wt(e,t,r){return"<"+e+(r!=null?Qx(r):"")+(t!=null?(t.match(AF)?' xml:space="preserve"':"")+">"+t+"</"+e:"/")+">"}function rN(e,t){try{return e.toISOString().replace(/\.\d*/,"")}catch(r){if(t)throw r}return""}function mK(e,t){switch(typeof e){case"string":var r=wt("vt:lpwstr",_n(e));return r=r.replace(/&quot;/g,"_x0022_"),r;case"number":return wt((e|0)==e?"vt:i4":"vt:r8",_n(String(e)));case"boolean":return wt("vt:bool",e?"true":"false")}if(e instanceof Date)return wt("vt:filetime",rN(e));throw new Error("Unable to serialize "+e)}function n3(e){if(Tr&&Buffer.isBuffer(e))return e.toString("utf8");if(typeof e=="string")return e;if(typeof Uint8Array<"u"&&e instanceof Uint8Array)return Dn(Id(Y_(e)));throw new Error("Bad input format: expected Buffer or string")}var Zx=/<(\/?)([^\s?><!\/:]*:|)([^\s?<>:\/]+)(?:[\s?:\/][^>]*)?>/mg,ji={CORE_PROPS:"http://schemas.openxmlformats.org/package/2006/metadata/core-properties",CUST_PROPS:"http://schemas.openxmlformats.org/officeDocument/2006/custom-properties",EXT_PROPS:"http://schemas.openxmlformats.org/officeDocument/2006/extended-properties",CT:"http://schemas.openxmlformats.org/package/2006/content-types",RELS:"http://schemas.openxmlformats.org/package/2006/relationships",TCMNT:"http://schemas.microsoft.com/office/spreadsheetml/2018/threadedcomments",dc:"http://purl.org/dc/elements/1.1/",dcterms:"http://purl.org/dc/terms/",dcmitype:"http://purl.org/dc/dcmitype/",r:"http://schemas.openxmlformats.org/officeDocument/2006/relationships",vt:"http://schemas.openxmlformats.org/officeDocument/2006/docPropsVTypes",xsi:"http://www.w3.org/2001/XMLSchema-instance",xsd:"http://www.w3.org/2001/XMLSchema"},fh=["http://schemas.openxmlformats.org/spreadsheetml/2006/main","http://purl.oclc.org/ooxml/spreadsheetml/main","http://schemas.microsoft.com/office/excel/2006/main","http://schemas.microsoft.com/office/excel/2006/2"],Yl={o:"urn:schemas-microsoft-com:office:office",x:"urn:schemas-microsoft-com:office:excel",ss:"urn:schemas-microsoft-com:office:spreadsheet",dt:"uuid:C2F41010-65B3-11d1-A29F-00AA00C14882",mv:"http://macVmlSchemaUri",v:"urn:schemas-microsoft-com:vml",html:"http://www.w3.org/TR/REC-html40"};function pK(e,t){for(var r=1-2*(e[t+7]>>>7),n=((e[t+7]&127)<<4)+(e[t+6]>>>4&15),a=e[t+6]&15,i=5;i>=0;--i)a=a*256+e[t+i];return n==2047?a==0?r*(1/0):NaN:(n==0?n=-1022:(n-=1023,a+=Math.pow(2,52)),r*Math.pow(2,n-52)*a)}function xK(e,t,r){var n=(t<0||1/t==-1/0?1:0)<<7,a=0,i=0,l=n?-t:t;isFinite(l)?l==0?a=i=0:(a=Math.floor(Math.log(l)/Math.LN2),i=l*Math.pow(2,52-a),a<=-1023&&(!isFinite(i)||i<Math.pow(2,52))?a=-1022:(i-=Math.pow(2,52),a+=1023)):(a=2047,i=isNaN(t)?26985:0);for(var o=0;o<=5;++o,i/=256)e[r+o]=i&255;e[r+6]=(a&15)<<4|i&15,e[r+7]=a>>4|n}var tk=function(e){for(var t=[],r=10240,n=0;n<e[0].length;++n)if(e[0][n])for(var a=0,i=e[0][n].length;a<i;a+=r)t.push.apply(t,e[0][n].slice(a,a+r));return t},rk=Tr?function(e){return e[0].length>0&&Buffer.isBuffer(e[0][0])?Buffer.concat(e[0].map(function(t){return Buffer.isBuffer(t)?t:jf(t)})):tk(e)}:tk,nk=function(e,t,r){for(var n=[],a=t;a<r;a+=2)n.push(String.fromCharCode(ef(e,a)));return n.join("").replace(rl,"")},a3=Tr?function(e,t,r){return Buffer.isBuffer(e)?e.toString("utf16le",t,r).replace(rl,""):nk(e,t,r)}:nk,ak=function(e,t,r){for(var n=[],a=t;a<t+r;++a)n.push(("0"+e[a].toString(16)).slice(-2));return n.join("")},EF=Tr?function(e,t,r){return Buffer.isBuffer(e)?e.toString("hex",t,t+r):ak(e,t,r)}:ak,ik=function(e,t,r){for(var n=[],a=t;a<r;a++)n.push(String.fromCharCode(wm(e,a)));return n.join("")},Ag=Tr?function(t,r,n){return Buffer.isBuffer(t)?t.toString("utf8",r,n):ik(t,r,n)}:ik,kF=function(e,t){var r=Xl(e,t);return r>0?Ag(e,t+4,t+4+r-1):""},CF=kF,TF=function(e,t){var r=Xl(e,t);return r>0?Ag(e,t+4,t+4+r-1):""},OF=TF,DF=function(e,t){var r=2*Xl(e,t);return r>0?Ag(e,t+4,t+4+r-1):""},FF=DF,PF=function(t,r){var n=Xl(t,r);return n>0?a3(t,r+4,r+4+n):""},LF=PF,MF=function(e,t){var r=Xl(e,t);return r>0?Ag(e,t+4,t+4+r):""},RF=MF,IF=function(e,t){return pK(e,t)},iy=IF,i3=function(t){return Array.isArray(t)||typeof Uint8Array<"u"&&t instanceof Uint8Array};Tr&&(CF=function(t,r){if(!Buffer.isBuffer(t))return kF(t,r);var n=t.readUInt32LE(r);return n>0?t.toString("utf8",r+4,r+4+n-1):""},OF=function(t,r){if(!Buffer.isBuffer(t))return TF(t,r);var n=t.readUInt32LE(r);return n>0?t.toString("utf8",r+4,r+4+n-1):""},FF=function(t,r){if(!Buffer.isBuffer(t))return DF(t,r);var n=2*t.readUInt32LE(r);return t.toString("utf16le",r+4,r+4+n-1)},LF=function(t,r){if(!Buffer.isBuffer(t))return PF(t,r);var n=t.readUInt32LE(r);return t.toString("utf16le",r+4,r+4+n)},RF=function(t,r){if(!Buffer.isBuffer(t))return MF(t,r);var n=t.readUInt32LE(r);return t.toString("utf8",r+4,r+4+n)},iy=function(t,r){return Buffer.isBuffer(t)?t.readDoubleLE(r):IF(t,r)},i3=function(t){return Buffer.isBuffer(t)||Array.isArray(t)||typeof Uint8Array<"u"&&t instanceof Uint8Array});var wm=function(e,t){return e[t]},ef=function(e,t){return e[t+1]*256+e[t]},gK=function(e,t){var r=e[t+1]*256+e[t];return r<32768?r:(65535-r+1)*-1},Xl=function(e,t){return e[t+3]*(1<<24)+(e[t+2]<<16)+(e[t+1]<<8)+e[t]},S0=function(e,t){return e[t+3]<<24|e[t+2]<<16|e[t+1]<<8|e[t]},vK=function(e,t){return e[t]<<24|e[t+1]<<16|e[t+2]<<8|e[t+3]};function Ax(e,t){var r="",n,a,i=[],l,o,u,f;switch(t){case"dbcs":if(f=this.l,Tr&&Buffer.isBuffer(this))r=this.slice(this.l,this.l+2*e).toString("utf16le");else for(u=0;u<e;++u)r+=String.fromCharCode(ef(this,f)),f+=2;e*=2;break;case"utf8":r=Ag(this,this.l,this.l+e);break;case"utf16le":e*=2,r=a3(this,this.l,this.l+e);break;case"wstr":return Ax.call(this,e,"dbcs");case"lpstr-ansi":r=CF(this,this.l),e=4+Xl(this,this.l);break;case"lpstr-cp":r=OF(this,this.l),e=4+Xl(this,this.l);break;case"lpwstr":r=FF(this,this.l),e=4+2*Xl(this,this.l);break;case"lpp4":e=4+Xl(this,this.l),r=LF(this,this.l),e&2&&(e+=2);break;case"8lpp4":e=4+Xl(this,this.l),r=RF(this,this.l),e&3&&(e+=4-(e&3));break;case"cstr":for(e=0,r="";(l=wm(this,this.l+e++))!==0;)i.push(Q1(l));r=i.join("");break;case"_wstr":for(e=0,r="";(l=ef(this,this.l+e))!==0;)i.push(Q1(l)),e+=2;e+=2,r=i.join("");break;case"dbcs-cont":for(r="",f=this.l,u=0;u<e;++u){if(this.lens&&this.lens.indexOf(f)!==-1)return l=wm(this,f),this.l=f+1,o=Ax.call(this,e-u,l?"dbcs-cont":"sbcs-cont"),i.join("")+o;i.push(Q1(ef(this,f))),f+=2}r=i.join(""),e*=2;break;case"cpstr":case"sbcs-cont":for(r="",f=this.l,u=0;u!=e;++u){if(this.lens&&this.lens.indexOf(f)!==-1)return l=wm(this,f),this.l=f+1,o=Ax.call(this,e-u,l?"dbcs-cont":"sbcs-cont"),i.join("")+o;i.push(Q1(wm(this,f))),f+=1}r=i.join("");break;default:switch(e){case 1:return n=wm(this,this.l),this.l++,n;case 2:return n=(t==="i"?gK:ef)(this,this.l),this.l+=2,n;case 4:case-4:return t==="i"||(this[this.l+3]&128)===0?(n=(e>0?S0:vK)(this,this.l),this.l+=4,n):(a=Xl(this,this.l),this.l+=4,a);case 8:case-8:if(t==="f")return e==8?a=iy(this,this.l):a=iy([this[this.l+7],this[this.l+6],this[this.l+5],this[this.l+4],this[this.l+3],this[this.l+2],this[this.l+1],this[this.l+0]],0),this.l+=8,a;e=8;case 16:r=EF(this,this.l,e);break}}return this.l+=e,r}var yK=function(e,t,r){e[r]=t&255,e[r+1]=t>>>8&255,e[r+2]=t>>>16&255,e[r+3]=t>>>24&255},bK=function(e,t,r){e[r]=t&255,e[r+1]=t>>8&255,e[r+2]=t>>16&255,e[r+3]=t>>24&255},wK=function(e,t,r){e[r]=t&255,e[r+1]=t>>>8&255};function NK(e,t,r){var n=0,a=0;if(r==="dbcs"){for(a=0;a!=t.length;++a)wK(this,t.charCodeAt(a),this.l+2*a);n=2*t.length}else if(r==="sbcs"){for(t=t.replace(/[^\x00-\x7F]/g,"_"),a=0;a!=t.length;++a)this[this.l+a]=t.charCodeAt(a)&255;n=t.length}else if(r==="hex"){for(;a<e;++a)this[this.l++]=parseInt(t.slice(2*a,2*a+2),16)||0;return this}else if(r==="utf16le"){var i=Math.min(this.l+e,this.length);for(a=0;a<Math.min(t.length,e);++a){var l=t.charCodeAt(a);this[this.l++]=l&255,this[this.l++]=l>>8}for(;this.l<i;)this[this.l++]=0;return this}else switch(e){case 1:n=1,this[this.l]=t&255;break;case 2:n=2,this[this.l]=t&255,t>>>=8,this[this.l+1]=t&255;break;case 3:n=3,this[this.l]=t&255,t>>>=8,this[this.l+1]=t&255,t>>>=8,this[this.l+2]=t&255;break;case 4:n=4,yK(this,t,this.l);break;case 8:if(n=8,r==="f"){xK(this,t,this.l);break}case 16:break;case-4:n=4,bK(this,t,this.l);break}return this.l+=n,this}function BF(e,t){var r=EF(this,this.l,e.length>>1);if(r!==e)throw new Error(t+"Expected "+e+" saw "+r);this.l+=e.length>>1}function is(e,t){e.l=t,e.read_shift=Ax,e.chk=BF,e.write_shift=NK}function Fs(e,t){e.l+=t}function tt(e){var t=Ed(e);return is(t,0),t}function Sf(e,t,r){if(e){var n,a,i;is(e,e.l||0);for(var l=e.length,o=0,u=0;e.l<l;){o=e.read_shift(1),o&128&&(o=(o&127)+((e.read_shift(1)&127)<<7));var f=ag[o]||ag[65535];for(n=e.read_shift(1),i=n&127,a=1;a<4&&n&128;++a)i+=((n=e.read_shift(1))&127)<<7*a;u=e.l+i;var h=f.f&&f.f(e,i,r);if(e.l=u,t(h,f,o))return}}}function kl(){var e=[],t=Tr?256:2048,r=function(f){var h=tt(f);return is(h,0),h},n=r(t),a=function(){n&&(n.length>n.l&&(n=n.slice(0,n.l),n.l=n.length),n.length>0&&e.push(n),n=null)},i=function(f){return n&&f<n.length-n.l?n:(a(),n=r(Math.max(f+1,t)))},l=function(){return a(),zi(e)},o=function(f){a(),n=f,n.l==null&&(n.l=n.length),i(t)};return{next:i,push:o,end:l,_bufs:e}}function ut(e,t,r,n){var a=+t,i;if(!isNaN(a)){n||(n=ag[a].p||(r||[]).length||0),i=1+(a>=128?1:0)+1,n>=128&&++i,n>=16384&&++i,n>=2097152&&++i;var l=e.next(i);a<=127?l.write_shift(1,a):(l.write_shift(1,(a&127)+128),l.write_shift(1,a>>7));for(var o=0;o!=4;++o)if(n>=128)l.write_shift(1,(n&127)+128),n>>=7;else{l.write_shift(1,n);break}n>0&&i3(r)&&e.push(r)}}function Ex(e,t,r){var n=ea(e);if(t.s?(n.cRel&&(n.c+=t.s.c),n.rRel&&(n.r+=t.s.r)):(n.cRel&&(n.c+=t.c),n.rRel&&(n.r+=t.r)),!r||r.biff<12){for(;n.c>=256;)n.c-=256;for(;n.r>=65536;)n.r-=65536}return n}function sk(e,t,r){var n=ea(e);return n.s=Ex(n.s,t.s,r),n.e=Ex(n.e,t.s,r),n}function kx(e,t){if(e.cRel&&e.c<0)for(e=ea(e);e.c<0;)e.c+=t>8?16384:256;if(e.rRel&&e.r<0)for(e=ea(e);e.r<0;)e.r+=t>8?1048576:t>5?65536:16384;var r=fr(e);return!e.cRel&&e.cRel!=null&&(r=SK(r)),!e.rRel&&e.rRel!=null&&(r=_K(r)),r}function Tw(e,t){return e.s.r==0&&!e.s.rRel&&e.e.r==(t.biff>=12?1048575:t.biff>=8?65536:16384)&&!e.e.rRel?(e.s.cRel?"":"$")+_a(e.s.c)+":"+(e.e.cRel?"":"$")+_a(e.e.c):e.s.c==0&&!e.s.cRel&&e.e.c==(t.biff>=12?16383:255)&&!e.e.cRel?(e.s.rRel?"":"$")+Qa(e.s.r)+":"+(e.e.rRel?"":"$")+Qa(e.e.r):kx(e.s,t.biff)+":"+kx(e.e,t.biff)}function s3(e){return parseInt(jK(e),10)-1}function Qa(e){return""+(e+1)}function _K(e){return e.replace(/([A-Z]|^)(\d+)$/,"$1$$$2")}function jK(e){return e.replace(/\$(\d+)$/,"$1")}function l3(e){for(var t=AK(e),r=0,n=0;n!==t.length;++n)r=26*r+t.charCodeAt(n)-64;return r-1}function _a(e){if(e<0)throw new Error("invalid column "+e);var t="";for(++e;e;e=Math.floor((e-1)/26))t=String.fromCharCode((e-1)%26+65)+t;return t}function SK(e){return e.replace(/^([A-Z])/,"$$$1")}function AK(e){return e.replace(/^\$([A-Z])/,"$1")}function EK(e){return e.replace(/(\$?[A-Z]*)(\$?\d*)/,"$1,$2").split(",")}function ja(e){for(var t=0,r=0,n=0;n<e.length;++n){var a=e.charCodeAt(n);a>=48&&a<=57?t=10*t+(a-48):a>=65&&a<=90&&(r=26*r+(a-64))}return{c:r-1,r:t-1}}function fr(e){for(var t=e.c+1,r="";t;t=(t-1)/26|0)r=String.fromCharCode((t-1)%26+65)+r;return r+(e.r+1)}function Tl(e){var t=e.indexOf(":");return t==-1?{s:ja(e),e:ja(e)}:{s:ja(e.slice(0,t)),e:ja(e.slice(t+1))}}function Nr(e,t){return typeof t>"u"||typeof t=="number"?Nr(e.s,e.e):(typeof e!="string"&&(e=fr(e)),typeof t!="string"&&(t=fr(t)),e==t?e:e+":"+t)}function tn(e){var t={s:{c:0,r:0},e:{c:0,r:0}},r=0,n=0,a=0,i=e.length;for(r=0;n<i&&!((a=e.charCodeAt(n)-64)<1||a>26);++n)r=26*r+a;for(t.s.c=--r,r=0;n<i&&!((a=e.charCodeAt(n)-48)<0||a>9);++n)r=10*r+a;if(t.s.r=--r,n===i||a!=10)return t.e.c=t.s.c,t.e.r=t.s.r,t;for(++n,r=0;n!=i&&!((a=e.charCodeAt(n)-64)<1||a>26);++n)r=26*r+a;for(t.e.c=--r,r=0;n!=i&&!((a=e.charCodeAt(n)-48)<0||a>9);++n)r=10*r+a;return t.e.r=--r,t}function lk(e,t){var r=e.t=="d"&&t instanceof Date;if(e.z!=null)try{return e.w=qo(e.z,r?Si(t):t)}catch{}try{return e.w=qo((e.XF||{}).numFmtId||(r?14:0),r?Si(t):t)}catch{return""+t}}function xf(e,t,r){return e==null||e.t==null||e.t=="z"?"":e.w!==void 0?e.w:(e.t=="d"&&!e.z&&r&&r.dateNF&&(e.z=r.dateNF),e.t=="e"?Af[e.v]||e.v:t==null?lk(e,e.v):lk(e,t))}function Bd(e,t){var r=t&&t.sheet?t.sheet:"Sheet1",n={};return n[r]=e,{SheetNames:[r],Sheets:n}}function UF(e,t,r){var n=r||{},a=e?Array.isArray(e):n.dense,i=e||(a?[]:{}),l=0,o=0;if(i&&n.origin!=null){if(typeof n.origin=="number")l=n.origin;else{var u=typeof n.origin=="string"?ja(n.origin):n.origin;l=u.r,o=u.c}i["!ref"]||(i["!ref"]="A1:A1")}var f={s:{c:1e7,r:1e7},e:{c:0,r:0}};if(i["!ref"]){var h=tn(i["!ref"]);f.s.c=h.s.c,f.s.r=h.s.r,f.e.c=Math.max(f.e.c,h.e.c),f.e.r=Math.max(f.e.r,h.e.r),l==-1&&(f.e.r=l=h.e.r+1)}for(var m=0;m!=t.length;++m)if(t[m]){if(!Array.isArray(t[m]))throw new Error("aoa_to_sheet expects an array of arrays");for(var g=0;g!=t[m].length;++g)if(!(typeof t[m][g]>"u")){var x={v:t[m][g]},b=l+m,v=o+g;if(f.s.r>b&&(f.s.r=b),f.s.c>v&&(f.s.c=v),f.e.r<b&&(f.e.r=b),f.e.c<v&&(f.e.c=v),t[m][g]&&typeof t[m][g]=="object"&&!Array.isArray(t[m][g])&&!(t[m][g]instanceof Date))x=t[m][g];else if(Array.isArray(x.v)&&(x.f=t[m][g][1],x.v=x.v[0]),x.v===null)if(x.f)x.t="n";else if(n.nullError)x.t="e",x.v=0;else if(n.sheetStubs)x.t="z";else continue;else typeof x.v=="number"?x.t="n":typeof x.v=="boolean"?x.t="b":x.v instanceof Date?(x.z=n.dateNF||ur[14],n.cellDates?(x.t="d",x.w=qo(x.z,Si(x.v))):(x.t="n",x.v=Si(x.v),x.w=qo(x.z,x.v))):x.t="s";if(a)i[b]||(i[b]=[]),i[b][v]&&i[b][v].z&&(x.z=i[b][v].z),i[b][v]=x;else{var w=fr({c:v,r:b});i[w]&&i[w].z&&(x.z=i[w].z),i[w]=x}}}return f.s.c<1e7&&(i["!ref"]=Nr(f)),i}function lp(e,t){return UF(null,e,t)}function kK(e){return e.read_shift(4,"i")}function Ec(e,t){return t||(t=tt(4)),t.write_shift(4,e),t}function Ts(e){var t=e.read_shift(4);return t===0?"":e.read_shift(t,"dbcs")}function qi(e,t){var r=!1;return t==null&&(r=!0,t=tt(4+2*e.length)),t.write_shift(4,e.length),e.length>0&&t.write_shift(0,e,"dbcs"),r?t.slice(0,t.l):t}function CK(e){return{ich:e.read_shift(2),ifnt:e.read_shift(2)}}function TK(e,t){return t||(t=tt(4)),t.write_shift(2,0),t.write_shift(2,0),t}function o3(e,t){var r=e.l,n=e.read_shift(1),a=Ts(e),i=[],l={t:a,h:a};if((n&1)!==0){for(var o=e.read_shift(4),u=0;u!=o;++u)i.push(CK(e));l.r=i}else l.r=[{ich:0,ifnt:0}];return e.l=r+t,l}function OK(e,t){var r=!1;return t==null&&(r=!0,t=tt(15+4*e.t.length)),t.write_shift(1,0),qi(e.t,t),r?t.slice(0,t.l):t}var DK=o3;function FK(e,t){var r=!1;return t==null&&(r=!0,t=tt(23+4*e.t.length)),t.write_shift(1,1),qi(e.t,t),t.write_shift(4,1),TK({},t),r?t.slice(0,t.l):t}function Go(e){var t=e.read_shift(4),r=e.read_shift(2);return r+=e.read_shift(1)<<16,e.l++,{c:t,iStyleRef:r}}function dh(e,t){return t==null&&(t=tt(8)),t.write_shift(-4,e.c),t.write_shift(3,e.iStyleRef||e.s),t.write_shift(1,0),t}function hh(e){var t=e.read_shift(2);return t+=e.read_shift(1)<<16,e.l++,{c:-1,iStyleRef:t}}function mh(e,t){return t==null&&(t=tt(4)),t.write_shift(3,e.iStyleRef||e.s),t.write_shift(1,0),t}var PK=Ts,zF=qi;function c3(e){var t=e.read_shift(4);return t===0||t===4294967295?"":e.read_shift(t,"dbcs")}function sy(e,t){var r=!1;return t==null&&(r=!0,t=tt(127)),t.write_shift(4,e.length>0?e.length:4294967295),e.length>0&&t.write_shift(0,e,"dbcs"),r?t.slice(0,t.l):t}var LK=Ts,nN=c3,u3=sy;function f3(e){var t=e.slice(e.l,e.l+4),r=t[0]&1,n=t[0]&2;e.l+=4;var a=n===0?iy([0,0,0,0,t[0]&252,t[1],t[2],t[3]],0):S0(t,0)>>2;return r?a/100:a}function qF(e,t){t==null&&(t=tt(4));var r=0,n=0,a=e*100;if(e==(e|0)&&e>=-536870912&&e<1<<29?n=1:a==(a|0)&&a>=-536870912&&a<1<<29&&(n=1,r=1),n)t.write_shift(-4,((r?a:e)<<2)+(r+2));else throw new Error("unsupported RkNumber "+e)}function $F(e){var t={s:{},e:{}};return t.s.r=e.read_shift(4),t.e.r=e.read_shift(4),t.s.c=e.read_shift(4),t.e.c=e.read_shift(4),t}function MK(e,t){return t||(t=tt(16)),t.write_shift(4,e.s.r),t.write_shift(4,e.e.r),t.write_shift(4,e.s.c),t.write_shift(4,e.e.c),t}var ph=$F,op=MK;function Ss(e){if(e.length-e.l<8)throw"XLS Xnum Buffer underflow";return e.read_shift(8,"f")}function Y0(e,t){return(t||tt(8)).write_shift(8,e,"f")}function RK(e){var t={},r=e.read_shift(1),n=r>>>1,a=e.read_shift(1),i=e.read_shift(2,"i"),l=e.read_shift(1),o=e.read_shift(1),u=e.read_shift(1);switch(e.l++,n){case 0:t.auto=1;break;case 1:t.index=a;var f=F0[a];f&&(t.rgb=eg(f));break;case 2:t.rgb=eg([l,o,u]);break;case 3:t.theme=a;break}return i!=0&&(t.tint=i>0?i/32767:i/32768),t}function ly(e,t){if(t||(t=tt(8)),!e||e.auto)return t.write_shift(4,0),t.write_shift(4,0),t;e.index!=null?(t.write_shift(1,2),t.write_shift(1,e.index)):e.theme!=null?(t.write_shift(1,6),t.write_shift(1,e.theme)):(t.write_shift(1,5),t.write_shift(1,0));var r=e.tint||0;if(r>0?r*=32767:r<0&&(r*=32768),t.write_shift(2,r),!e.rgb||e.theme!=null)t.write_shift(2,0),t.write_shift(1,0),t.write_shift(1,0);else{var n=e.rgb||"FFFFFF";typeof n=="number"&&(n=("000000"+n.toString(16)).slice(-6)),t.write_shift(1,parseInt(n.slice(0,2),16)),t.write_shift(1,parseInt(n.slice(2,4),16)),t.write_shift(1,parseInt(n.slice(4,6),16)),t.write_shift(1,255)}return t}function IK(e){var t=e.read_shift(1);e.l++;var r={fBold:t&1,fItalic:t&2,fUnderline:t&4,fStrikeout:t&8,fOutline:t&16,fShadow:t&32,fCondense:t&64,fExtend:t&128};return r}function BK(e,t){t||(t=tt(2));var r=(e.italic?2:0)|(e.strike?8:0)|(e.outline?16:0)|(e.shadow?32:0)|(e.condense?64:0)|(e.extend?128:0);return t.write_shift(1,r),t.write_shift(1,0),t}function HF(e,t){var r={2:"BITMAP",3:"METAFILEPICT",8:"DIB",14:"ENHMETAFILE"},n=e.read_shift(4);switch(n){case 0:return"";case 4294967295:case 4294967294:return r[e.read_shift(4)]||""}if(n>400)throw new Error("Unsupported Clipboard: "+n.toString(16));return e.l-=4,e.read_shift(0,t==1?"lpstr":"lpwstr")}function UK(e){return HF(e,1)}function zK(e){return HF(e,2)}var d3=2,jl=3,J1=11,ok=12,oy=19,ev=64,qK=65,$K=71,HK=4108,VK=4126,Ii=80,VF=81,WK=[Ii,VF],aN={1:{n:"CodePage",t:d3},2:{n:"Category",t:Ii},3:{n:"PresentationFormat",t:Ii},4:{n:"ByteCount",t:jl},5:{n:"LineCount",t:jl},6:{n:"ParagraphCount",t:jl},7:{n:"SlideCount",t:jl},8:{n:"NoteCount",t:jl},9:{n:"HiddenCount",t:jl},10:{n:"MultimediaClipCount",t:jl},11:{n:"ScaleCrop",t:J1},12:{n:"HeadingPairs",t:HK},13:{n:"TitlesOfParts",t:VK},14:{n:"Manager",t:Ii},15:{n:"Company",t:Ii},16:{n:"LinksUpToDate",t:J1},17:{n:"CharacterCount",t:jl},19:{n:"SharedDoc",t:J1},22:{n:"HyperlinksChanged",t:J1},23:{n:"AppVersion",t:jl,p:"version"},24:{n:"DigSig",t:qK},26:{n:"ContentType",t:Ii},27:{n:"ContentStatus",t:Ii},28:{n:"Language",t:Ii},29:{n:"Version",t:Ii},255:{},2147483648:{n:"Locale",t:oy},2147483651:{n:"Behavior",t:oy},1919054434:{}},iN={1:{n:"CodePage",t:d3},2:{n:"Title",t:Ii},3:{n:"Subject",t:Ii},4:{n:"Author",t:Ii},5:{n:"Keywords",t:Ii},6:{n:"Comments",t:Ii},7:{n:"Template",t:Ii},8:{n:"LastAuthor",t:Ii},9:{n:"RevNumber",t:Ii},10:{n:"EditTime",t:ev},11:{n:"LastPrinted",t:ev},12:{n:"CreatedDate",t:ev},13:{n:"ModifiedDate",t:ev},14:{n:"PageCount",t:jl},15:{n:"WordCount",t:jl},16:{n:"CharCount",t:jl},17:{n:"Thumbnail",t:$K},18:{n:"Application",t:Ii},19:{n:"DocSecurity",t:jl},255:{},2147483648:{n:"Locale",t:oy},2147483651:{n:"Behavior",t:oy},1919054434:{}},ck={1:"US",2:"CA",3:"",7:"RU",20:"EG",30:"GR",31:"NL",32:"BE",33:"FR",34:"ES",36:"HU",39:"IT",41:"CH",43:"AT",44:"GB",45:"DK",46:"SE",47:"NO",48:"PL",49:"DE",52:"MX",55:"BR",61:"AU",64:"NZ",66:"TH",81:"JP",82:"KR",84:"VN",86:"CN",90:"TR",105:"JS",213:"DZ",216:"MA",218:"LY",351:"PT",354:"IS",358:"FI",420:"CZ",886:"TW",961:"LB",962:"JO",963:"SY",964:"IQ",965:"KW",966:"SA",971:"AE",972:"IL",974:"QA",981:"IR",65535:"US"},KK=[null,"solid","mediumGray","darkGray","lightGray","darkHorizontal","darkVertical","darkDown","darkUp","darkGrid","darkTrellis","lightHorizontal","lightVertical","lightDown","lightUp","lightGrid","lightTrellis","gray125","gray0625"];function GK(e){return e.map(function(t){return[t>>16&255,t>>8&255,t&255]})}var YK=GK([0,16777215,16711680,65280,255,16776960,16711935,65535,0,16777215,16711680,65280,255,16776960,16711935,65535,8388608,32768,128,8421376,8388736,32896,12632256,8421504,10066431,10040166,16777164,13434879,6684774,16744576,26316,13421823,128,16711935,16776960,65535,8388736,8388608,32896,255,52479,13434879,13434828,16777113,10079487,16751052,13408767,16764057,3368703,3394764,10079232,16763904,16750848,16737792,6710937,9868950,13158,3381606,13056,3355392,10040064,10040166,3355545,3355443,16777215,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0]),F0=ea(YK),Af={0:"#NULL!",7:"#DIV/0!",15:"#VALUE!",23:"#REF!",29:"#NAME?",36:"#NUM!",42:"#N/A",43:"#GETTING_DATA",255:"#WTF?"},WF={"#NULL!":0,"#DIV/0!":7,"#VALUE!":15,"#REF!":23,"#NAME?":29,"#NUM!":36,"#N/A":42,"#GETTING_DATA":43,"#WTF?":255},sN={"application/vnd.openxmlformats-officedocument.spreadsheetml.sheet.main+xml":"workbooks","application/vnd.ms-excel.sheet.macroEnabled.main+xml":"workbooks","application/vnd.ms-excel.sheet.binary.macroEnabled.main":"workbooks","application/vnd.ms-excel.addin.macroEnabled.main+xml":"workbooks","application/vnd.openxmlformats-officedocument.spreadsheetml.template.main+xml":"workbooks","application/vnd.openxmlformats-officedocument.spreadsheetml.worksheet+xml":"sheets","application/vnd.ms-excel.worksheet":"sheets","application/vnd.ms-excel.binIndexWs":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.chartsheet+xml":"charts","application/vnd.ms-excel.chartsheet":"charts","application/vnd.ms-excel.macrosheet+xml":"macros","application/vnd.ms-excel.macrosheet":"macros","application/vnd.ms-excel.intlmacrosheet":"TODO","application/vnd.ms-excel.binIndexMs":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.dialogsheet+xml":"dialogs","application/vnd.ms-excel.dialogsheet":"dialogs","application/vnd.openxmlformats-officedocument.spreadsheetml.sharedStrings+xml":"strs","application/vnd.ms-excel.sharedStrings":"strs","application/vnd.openxmlformats-officedocument.spreadsheetml.styles+xml":"styles","application/vnd.ms-excel.styles":"styles","application/vnd.openxmlformats-package.core-properties+xml":"coreprops","application/vnd.openxmlformats-officedocument.custom-properties+xml":"custprops","application/vnd.openxmlformats-officedocument.extended-properties+xml":"extprops","application/vnd.openxmlformats-officedocument.customXmlProperties+xml":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.customProperty":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.comments+xml":"comments","application/vnd.ms-excel.comments":"comments","application/vnd.ms-excel.threadedcomments+xml":"threadedcomments","application/vnd.ms-excel.person+xml":"people","application/vnd.openxmlformats-officedocument.spreadsheetml.sheetMetadata+xml":"metadata","application/vnd.ms-excel.sheetMetadata":"metadata","application/vnd.ms-excel.pivotTable":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.pivotTable+xml":"TODO","application/vnd.openxmlformats-officedocument.drawingml.chart+xml":"TODO","application/vnd.ms-office.chartcolorstyle+xml":"TODO","application/vnd.ms-office.chartstyle+xml":"TODO","application/vnd.ms-office.chartex+xml":"TODO","application/vnd.ms-excel.calcChain":"calcchains","application/vnd.openxmlformats-officedocument.spreadsheetml.calcChain+xml":"calcchains","application/vnd.openxmlformats-officedocument.spreadsheetml.printerSettings":"TODO","application/vnd.ms-office.activeX":"TODO","application/vnd.ms-office.activeX+xml":"TODO","application/vnd.ms-excel.attachedToolbars":"TODO","application/vnd.ms-excel.connections":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.connections+xml":"TODO","application/vnd.ms-excel.externalLink":"links","application/vnd.openxmlformats-officedocument.spreadsheetml.externalLink+xml":"links","application/vnd.ms-excel.pivotCacheDefinition":"TODO","application/vnd.ms-excel.pivotCacheRecords":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.pivotCacheDefinition+xml":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.pivotCacheRecords+xml":"TODO","application/vnd.ms-excel.queryTable":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.queryTable+xml":"TODO","application/vnd.ms-excel.userNames":"TODO","application/vnd.ms-excel.revisionHeaders":"TODO","application/vnd.ms-excel.revisionLog":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.revisionHeaders+xml":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.revisionLog+xml":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.userNames+xml":"TODO","application/vnd.ms-excel.tableSingleCells":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.tableSingleCells+xml":"TODO","application/vnd.ms-excel.slicer":"TODO","application/vnd.ms-excel.slicerCache":"TODO","application/vnd.ms-excel.slicer+xml":"TODO","application/vnd.ms-excel.slicerCache+xml":"TODO","application/vnd.ms-excel.wsSortMap":"TODO","application/vnd.ms-excel.table":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.table+xml":"TODO","application/vnd.openxmlformats-officedocument.theme+xml":"themes","application/vnd.openxmlformats-officedocument.themeOverride+xml":"TODO","application/vnd.ms-excel.Timeline+xml":"TODO","application/vnd.ms-excel.TimelineCache+xml":"TODO","application/vnd.ms-office.vbaProject":"vba","application/vnd.ms-office.vbaProjectSignature":"TODO","application/vnd.ms-office.volatileDependencies":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.volatileDependencies+xml":"TODO","application/vnd.ms-excel.controlproperties+xml":"TODO","application/vnd.openxmlformats-officedocument.model+data":"TODO","application/vnd.ms-excel.Survey+xml":"TODO","application/vnd.openxmlformats-officedocument.drawing+xml":"drawings","application/vnd.openxmlformats-officedocument.drawingml.chartshapes+xml":"TODO","application/vnd.openxmlformats-officedocument.drawingml.diagramColors+xml":"TODO","application/vnd.openxmlformats-officedocument.drawingml.diagramData+xml":"TODO","application/vnd.openxmlformats-officedocument.drawingml.diagramLayout+xml":"TODO","application/vnd.openxmlformats-officedocument.drawingml.diagramStyle+xml":"TODO","application/vnd.openxmlformats-officedocument.vmlDrawing":"TODO","application/vnd.openxmlformats-package.relationships+xml":"rels","application/vnd.openxmlformats-officedocument.oleObject":"TODO","image/png":"TODO",sheet:"js"},tv={workbooks:{xlsx:"application/vnd.openxmlformats-officedocument.spreadsheetml.sheet.main+xml",xlsm:"application/vnd.ms-excel.sheet.macroEnabled.main+xml",xlsb:"application/vnd.ms-excel.sheet.binary.macroEnabled.main",xlam:"application/vnd.ms-excel.addin.macroEnabled.main+xml",xltx:"application/vnd.openxmlformats-officedocument.spreadsheetml.template.main+xml"},strs:{xlsx:"application/vnd.openxmlformats-officedocument.spreadsheetml.sharedStrings+xml",xlsb:"application/vnd.ms-excel.sharedStrings"},comments:{xlsx:"application/vnd.openxmlformats-officedocument.spreadsheetml.comments+xml",xlsb:"application/vnd.ms-excel.comments"},sheets:{xlsx:"application/vnd.openxmlformats-officedocument.spreadsheetml.worksheet+xml",xlsb:"application/vnd.ms-excel.worksheet"},charts:{xlsx:"application/vnd.openxmlformats-officedocument.spreadsheetml.chartsheet+xml",xlsb:"application/vnd.ms-excel.chartsheet"},dialogs:{xlsx:"application/vnd.openxmlformats-officedocument.spreadsheetml.dialogsheet+xml",xlsb:"application/vnd.ms-excel.dialogsheet"},macros:{xlsx:"application/vnd.ms-excel.macrosheet+xml",xlsb:"application/vnd.ms-excel.macrosheet"},metadata:{xlsx:"application/vnd.openxmlformats-officedocument.spreadsheetml.sheetMetadata+xml",xlsb:"application/vnd.ms-excel.sheetMetadata"},styles:{xlsx:"application/vnd.openxmlformats-officedocument.spreadsheetml.styles+xml",xlsb:"application/vnd.ms-excel.styles"}};function h3(){return{workbooks:[],sheets:[],charts:[],dialogs:[],macros:[],rels:[],strs:[],comments:[],threadedcomments:[],links:[],coreprops:[],extprops:[],custprops:[],themes:[],styles:[],calcchains:[],vba:[],drawings:[],metadata:[],people:[],TODO:[],xmlns:""}}function XK(e){var t=h3();if(!e||!e.match)return t;var r={};if((e.match(Ls)||[]).forEach(function(n){var a=hr(n);switch(a[0].replace(sK,"<")){case"<?xml":break;case"<Types":t.xmlns=a["xmlns"+(a[0].match(/<(\w+):/)||["",""])[1]];break;case"<Default":r[a.Extension]=a.ContentType;break;case"<Override":t[sN[a.ContentType]]!==void 0&&t[sN[a.ContentType]].push(a.PartName);break}}),t.xmlns!==ji.CT)throw new Error("Unknown Namespace: "+t.xmlns);return t.calcchain=t.calcchains.length>0?t.calcchains[0]:"",t.sst=t.strs.length>0?t.strs[0]:"",t.style=t.styles.length>0?t.styles[0]:"",t.defaults=r,delete t.calcchains,t}function KF(e,t){var r=XW(sN),n=[],a;n[n.length]=Za,n[n.length]=wt("Types",null,{xmlns:ji.CT,"xmlns:xsd":ji.xsd,"xmlns:xsi":ji.xsi}),n=n.concat([["xml","application/xml"],["bin","application/vnd.ms-excel.sheet.binary.macroEnabled.main"],["vml","application/vnd.openxmlformats-officedocument.vmlDrawing"],["data","application/vnd.openxmlformats-officedocument.model+data"],["bmp","image/bmp"],["png","image/png"],["gif","image/gif"],["emf","image/x-emf"],["wmf","image/x-wmf"],["jpg","image/jpeg"],["jpeg","image/jpeg"],["tif","image/tiff"],["tiff","image/tiff"],["pdf","application/pdf"],["rels","application/vnd.openxmlformats-package.relationships+xml"]].map(function(u){return wt("Default",null,{Extension:u[0],ContentType:u[1]})}));var i=function(u){e[u]&&e[u].length>0&&(a=e[u][0],n[n.length]=wt("Override",null,{PartName:(a[0]=="/"?"":"/")+a,ContentType:tv[u][t.bookType]||tv[u].xlsx}))},l=function(u){(e[u]||[]).forEach(function(f){n[n.length]=wt("Override",null,{PartName:(f[0]=="/"?"":"/")+f,ContentType:tv[u][t.bookType]||tv[u].xlsx})})},o=function(u){(e[u]||[]).forEach(function(f){n[n.length]=wt("Override",null,{PartName:(f[0]=="/"?"":"/")+f,ContentType:r[u][0]})})};return i("workbooks"),l("sheets"),l("charts"),o("themes"),["strs","styles"].forEach(i),["coreprops","extprops","custprops"].forEach(o),o("vba"),o("comments"),o("threadedcomments"),o("drawings"),l("metadata"),o("people"),n.length>2&&(n[n.length]="</Types>",n[1]=n[1].replace("/>",">")),n.join("")}var Dr={WB:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/officeDocument",SHEET:"http://sheetjs.openxmlformats.org/officeDocument/2006/relationships/officeDocument",HLINK:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/hyperlink",VML:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/vmlDrawing",XPATH:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/externalLinkPath",XMISS:"http://schemas.microsoft.com/office/2006/relationships/xlExternalLinkPath/xlPathMissing",XLINK:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/externalLink",CXML:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/customXml",CXMLP:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/customXmlProps",CMNT:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/comments",CORE_PROPS:"http://schemas.openxmlformats.org/package/2006/relationships/metadata/core-properties",EXT_PROPS:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/extended-properties",CUST_PROPS:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/custom-properties",SST:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/sharedStrings",STY:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/styles",THEME:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/theme",CHART:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/chart",CHARTEX:"http://schemas.microsoft.com/office/2014/relationships/chartEx",CS:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/chartsheet",WS:["http://schemas.openxmlformats.org/officeDocument/2006/relationships/worksheet","http://purl.oclc.org/ooxml/officeDocument/relationships/worksheet"],DS:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/dialogsheet",MS:"http://schemas.microsoft.com/office/2006/relationships/xlMacrosheet",IMG:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/image",DRAW:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/drawing",XLMETA:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/sheetMetadata",TCMNT:"http://schemas.microsoft.com/office/2017/10/relationships/threadedComment",PEOPLE:"http://schemas.microsoft.com/office/2017/10/relationships/person",VBA:"http://schemas.microsoft.com/office/2006/relationships/vbaProject"};function Jx(e){var t=e.lastIndexOf("/");return e.slice(0,t+1)+"_rels/"+e.slice(t+1)+".rels"}function Cx(e,t){var r={"!id":{}};if(!e)return r;t.charAt(0)!=="/"&&(t="/"+t);var n={};return(e.match(Ls)||[]).forEach(function(a){var i=hr(a);if(i[0]==="<Relationship"){var l={};l.Type=i.Type,l.Target=i.Target,l.Id=i.Id,i.TargetMode&&(l.TargetMode=i.TargetMode);var o=i.TargetMode==="External"?i.Target:yx(i.Target,t);r[o]=l,n[i.Id]=l}}),r["!id"]=n,r}function Dm(e){var t=[Za,wt("Relationships",null,{xmlns:ji.RELS})];return Ba(e["!id"]).forEach(function(r){t[t.length]=wt("Relationship",null,e["!id"][r])}),t.length>2&&(t[t.length]="</Relationships>",t[1]=t[1].replace("/>",">")),t.join("")}function bn(e,t,r,n,a,i){if(a||(a={}),e["!id"]||(e["!id"]={}),e["!idx"]||(e["!idx"]=1),t<0)for(t=e["!idx"];e["!id"]["rId"+t];++t);if(e["!idx"]=t+1,a.Id="rId"+t,a.Type=n,a.Target=r,[Dr.HLINK,Dr.XPATH,Dr.XMISS].indexOf(a.Type)>-1&&(a.TargetMode="External"),e["!id"][a.Id])throw new Error("Cannot rewrite rId "+t);return e["!id"][a.Id]=a,e[("/"+a.Target).replace("//","/")]=a,t}var QK="application/vnd.oasis.opendocument.spreadsheet";function ZK(e,t){for(var r=n3(e),n,a;n=Zx.exec(r);)switch(n[3]){case"manifest":break;case"file-entry":if(a=hr(n[0],!1),a.path=="/"&&a.type!==QK)throw new Error("This OpenDocument is not a spreadsheet");break;case"encryption-data":case"algorithm":case"start-key-generation":case"key-derivation":throw new Error("Unsupported ODS Encryption");default:if(t&&t.WTF)throw n}}function JK(e){var t=[Za];t.push(`<manifest:manifest xmlns:manifest="urn:oasis:names:tc:opendocument:xmlns:manifest:1.0" manifest:version="1.2">
`),t.push(`  <manifest:file-entry manifest:full-path="/" manifest:version="1.2" manifest:media-type="application/vnd.oasis.opendocument.spreadsheet"/>
`);for(var r=0;r<e.length;++r)t.push('  <manifest:file-entry manifest:full-path="'+e[r][0]+'" manifest:media-type="'+e[r][1]+`"/>
`);return t.push("</manifest:manifest>"),t.join("")}function uk(e,t,r){return['  <rdf:Description rdf:about="'+e+`">
`,'    <rdf:type rdf:resource="http://docs.oasis-open.org/ns/office/1.2/meta/'+(r||"odf")+"#"+t+`"/>
`,`  </rdf:Description>
`].join("")}function eG(e,t){return['  <rdf:Description rdf:about="'+e+`">
`,'    <ns0:hasPart xmlns:ns0="http://docs.oasis-open.org/ns/office/1.2/meta/pkg#" rdf:resource="'+t+`"/>
`,`  </rdf:Description>
`].join("")}function tG(e){var t=[Za];t.push(`<rdf:RDF xmlns:rdf="http://www.w3.org/1999/02/22-rdf-syntax-ns#">
`);for(var r=0;r!=e.length;++r)t.push(uk(e[r][0],e[r][1])),t.push(eG("",e[r][0]));return t.push(uk("","Document","pkg")),t.push("</rdf:RDF>"),t.join("")}function GF(){return'<office:document-meta xmlns:office="urn:oasis:names:tc:opendocument:xmlns:office:1.0" xmlns:meta="urn:oasis:names:tc:opendocument:xmlns:meta:1.0" xmlns:dc="http://purl.org/dc/elements/1.1/" xmlns:xlink="http://www.w3.org/1999/xlink" office:version="1.2"><office:meta><meta:generator>SheetJS '+ey.version+"</meta:generator></office:meta></office:document-meta>"}var Uo=[["cp:category","Category"],["cp:contentStatus","ContentStatus"],["cp:keywords","Keywords"],["cp:lastModifiedBy","LastAuthor"],["cp:lastPrinted","LastPrinted"],["cp:revision","RevNumber"],["cp:version","Version"],["dc:creator","Author"],["dc:description","Comments"],["dc:identifier","Identifier"],["dc:language","Language"],["dc:subject","Subject"],["dc:title","Title"],["dcterms:created","CreatedDate","date"],["dcterms:modified","ModifiedDate","date"]],rG=(function(){for(var e=new Array(Uo.length),t=0;t<Uo.length;++t){var r=Uo[t],n="(?:"+r[0].slice(0,r[0].indexOf(":"))+":)"+r[0].slice(r[0].indexOf(":")+1);e[t]=new RegExp("<"+n+"[^>]*>([\\s\\S]*?)</"+n+">")}return e})();function YF(e){var t={};e=Dn(e);for(var r=0;r<Uo.length;++r){var n=Uo[r],a=e.match(rG[r]);a!=null&&a.length>0&&(t[n[1]]=Zr(a[1])),n[2]==="date"&&t[n[1]]&&(t[n[1]]=Jn(t[n[1]]))}return t}function Ow(e,t,r,n,a){a[e]!=null||t==null||t===""||(a[e]=t,t=_n(t),n[n.length]=r?wt(e,t,r):ss(e,t))}function XF(e,t){var r=t||{},n=[Za,wt("cp:coreProperties",null,{"xmlns:cp":ji.CORE_PROPS,"xmlns:dc":ji.dc,"xmlns:dcterms":ji.dcterms,"xmlns:dcmitype":ji.dcmitype,"xmlns:xsi":ji.xsi})],a={};if(!e&&!r.Props)return n.join("");e&&(e.CreatedDate!=null&&Ow("dcterms:created",typeof e.CreatedDate=="string"?e.CreatedDate:rN(e.CreatedDate,r.WTF),{"xsi:type":"dcterms:W3CDTF"},n,a),e.ModifiedDate!=null&&Ow("dcterms:modified",typeof e.ModifiedDate=="string"?e.ModifiedDate:rN(e.ModifiedDate,r.WTF),{"xsi:type":"dcterms:W3CDTF"},n,a));for(var i=0;i!=Uo.length;++i){var l=Uo[i],o=r.Props&&r.Props[l[1]]!=null?r.Props[l[1]]:e?e[l[1]]:null;o===!0?o="1":o===!1?o="0":typeof o=="number"&&(o=String(o)),o!=null&&Ow(l[0],o,null,n,a)}return n.length>2&&(n[n.length]="</cp:coreProperties>",n[1]=n[1].replace("/>",">")),n.join("")}var P0=[["Application","Application","string"],["AppVersion","AppVersion","string"],["Company","Company","string"],["DocSecurity","DocSecurity","string"],["Manager","Manager","string"],["HyperlinksChanged","HyperlinksChanged","bool"],["SharedDoc","SharedDoc","bool"],["LinksUpToDate","LinksUpToDate","bool"],["ScaleCrop","ScaleCrop","bool"],["HeadingPairs","HeadingPairs","raw"],["TitlesOfParts","TitlesOfParts","raw"]],QF=["Worksheets","SheetNames","NamedRanges","DefinedNames","Chartsheets","ChartNames"];function ZF(e,t,r,n){var a=[];if(typeof e=="string")a=ek(e,n);else for(var i=0;i<e.length;++i)a=a.concat(e[i].map(function(h){return{v:h}}));var l=typeof t=="string"?ek(t,n).map(function(h){return h.v}):t,o=0,u=0;if(l.length>0)for(var f=0;f!==a.length;f+=2){switch(u=+a[f+1].v,a[f].v){case"Worksheets":case"":case"":case" ":case"":case" ":case"Arbeitsbltter":case"alma Sayfalar":case"Feuilles de calcul":case"Fogli di lavoro":case"Folhas de clculo":case"Planilhas":case"Regneark":case"Hojas de clculo":case"Werkbladen":r.Worksheets=u,r.SheetNames=l.slice(o,o+u);break;case"Named Ranges":case"Rangos con nombre":case"":case"Benannte Bereiche":case"Navngivne omrder":r.NamedRanges=u,r.DefinedNames=l.slice(o,o+u);break;case"Charts":case"Diagramme":r.Chartsheets=u,r.ChartNames=l.slice(o,o+u);break}o+=u}}function nG(e,t,r){var n={};return t||(t={}),e=Dn(e),P0.forEach(function(a){var i=(e.match(Xx(a[0]))||[])[1];switch(a[2]){case"string":i&&(t[a[1]]=Zr(i));break;case"bool":t[a[1]]=i==="true";break;case"raw":var l=e.match(new RegExp("<"+a[0]+"[^>]*>([\\s\\S]*?)</"+a[0]+">"));l&&l.length>0&&(n[a[1]]=l[1]);break}}),n.HeadingPairs&&n.TitlesOfParts&&ZF(n.HeadingPairs,n.TitlesOfParts,t,r),t}function JF(e){var t=[],r=wt;return e||(e={}),e.Application="SheetJS",t[t.length]=Za,t[t.length]=wt("Properties",null,{xmlns:ji.EXT_PROPS,"xmlns:vt":ji.vt}),P0.forEach(function(n){if(e[n[1]]!==void 0){var a;switch(n[2]){case"string":a=_n(String(e[n[1]]));break;case"bool":a=e[n[1]]?"true":"false";break}a!==void 0&&(t[t.length]=r(n[0],a))}}),t[t.length]=r("HeadingPairs",r("vt:vector",r("vt:variant","<vt:lpstr>Worksheets</vt:lpstr>")+r("vt:variant",r("vt:i4",String(e.Worksheets))),{size:2,baseType:"variant"})),t[t.length]=r("TitlesOfParts",r("vt:vector",e.SheetNames.map(function(n){return"<vt:lpstr>"+_n(n)+"</vt:lpstr>"}).join(""),{size:e.Worksheets,baseType:"lpstr"})),t.length>2&&(t[t.length]="</Properties>",t[1]=t[1].replace("/>",">")),t.join("")}var aG=/<[^>]+>[^<]*/g;function iG(e,t){var r={},n="",a=e.match(aG);if(a)for(var i=0;i!=a.length;++i){var l=a[i],o=hr(l);switch(o[0]){case"<?xml":break;case"<Properties":break;case"<property":n=Zr(o.name);break;case"</property>":n=null;break;default:if(l.indexOf("<vt:")===0){var u=l.split(">"),f=u[0].slice(4),h=u[1];switch(f){case"lpstr":case"bstr":case"lpwstr":r[n]=Zr(h);break;case"bool":r[n]=Qn(h);break;case"i1":case"i2":case"i4":case"i8":case"int":case"uint":r[n]=parseInt(h,10);break;case"r4":case"r8":case"decimal":r[n]=parseFloat(h);break;case"filetime":case"date":r[n]=Jn(h);break;case"cy":case"error":r[n]=Zr(h);break;default:if(f.slice(-1)=="/")break;t.WTF&&typeof console<"u"&&console.warn("Unexpected",l,f,u)}}else if(l.slice(0,2)!=="</"){if(t.WTF)throw new Error(l)}}}return r}function eP(e){var t=[Za,wt("Properties",null,{xmlns:ji.CUST_PROPS,"xmlns:vt":ji.vt})];if(!e)return t.join("");var r=1;return Ba(e).forEach(function(a){++r,t[t.length]=wt("property",mK(e[a]),{fmtid:"{D5CDD505-2E9C-101B-9397-08002B2CF9AE}",pid:r,name:_n(a)})}),t.length>2&&(t[t.length]="</Properties>",t[1]=t[1].replace("/>",">")),t.join("")}var lN={Title:"Title",Subject:"Subject",Author:"Author",Keywords:"Keywords",Comments:"Description",LastAuthor:"LastAuthor",RevNumber:"Revision",Application:"AppName",LastPrinted:"LastPrinted",CreatedDate:"Created",ModifiedDate:"LastSaved",Category:"Category",Manager:"Manager",Company:"Company",AppVersion:"Version",ContentStatus:"ContentStatus",Identifier:"Identifier",Language:"Language"},Dw;function sG(e,t,r){Dw||(Dw=f2(lN)),t=Dw[t]||t,e[t]=r}function lG(e,t){var r=[];return Ba(lN).map(function(n){for(var a=0;a<Uo.length;++a)if(Uo[a][1]==n)return Uo[a];for(a=0;a<P0.length;++a)if(P0[a][1]==n)return P0[a];throw n}).forEach(function(n){if(e[n[1]]!=null){var a=t&&t.Props&&t.Props[n[1]]!=null?t.Props[n[1]]:e[n[1]];switch(n[2]){case"date":a=new Date(a).toISOString().replace(/\.\d*Z/,"Z");break}typeof a=="number"?a=String(a):a===!0||a===!1?a=a?"1":"0":a instanceof Date&&(a=new Date(a).toISOString().replace(/\.\d*Z/,"")),r.push(ss(lN[n[1]]||n[1],a))}}),wt("DocumentProperties",r.join(""),{xmlns:Yl.o})}function oG(e,t){var r=["Worksheets","SheetNames"],n="CustomDocumentProperties",a=[];return e&&Ba(e).forEach(function(i){if(Object.prototype.hasOwnProperty.call(e,i)){for(var l=0;l<Uo.length;++l)if(i==Uo[l][1])return;for(l=0;l<P0.length;++l)if(i==P0[l][1])return;for(l=0;l<r.length;++l)if(i==r[l])return;var o=e[i],u="string";typeof o=="number"?(u="float",o=String(o)):o===!0||o===!1?(u="boolean",o=o?"1":"0"):o=String(o),a.push(wt(XE(i),o,{"dt:dt":u}))}}),t&&Ba(t).forEach(function(i){if(Object.prototype.hasOwnProperty.call(t,i)&&!(e&&Object.prototype.hasOwnProperty.call(e,i))){var l=t[i],o="string";typeof l=="number"?(o="float",l=String(l)):l===!0||l===!1?(o="boolean",l=l?"1":"0"):l instanceof Date?(o="dateTime.tz",l=l.toISOString()):l=String(l),a.push(wt(XE(i),l,{"dt:dt":o}))}}),"<"+n+' xmlns="'+Yl.o+'">'+a.join("")+"</"+n+">"}function m3(e){var t=e.read_shift(4),r=e.read_shift(4);return new Date((r/1e7*Math.pow(2,32)+t/1e7-11644473600)*1e3).toISOString().replace(/\.000/,"")}function cG(e){var t=typeof e=="string"?new Date(Date.parse(e)):e,r=t.getTime()/1e3+11644473600,n=r%Math.pow(2,32),a=(r-n)/Math.pow(2,32);n*=1e7,a*=1e7;var i=n/Math.pow(2,32)|0;i>0&&(n=n%Math.pow(2,32),a+=i);var l=tt(8);return l.write_shift(4,n),l.write_shift(4,a),l}function tP(e,t,r){var n=e.l,a=e.read_shift(0,"lpstr-cp");if(r)for(;e.l-n&3;)++e.l;return a}function rP(e,t,r){var n=e.read_shift(0,"lpwstr");return n}function nP(e,t,r){return t===31?rP(e):tP(e,t,r)}function oN(e,t,r){return nP(e,t,r===!1?0:4)}function uG(e,t){if(!t)throw new Error("VtUnalignedString must have positive length");return nP(e,t,0)}function fG(e){for(var t=e.read_shift(4),r=[],n=0;n!=t;++n){var a=e.l;r[n]=e.read_shift(0,"lpwstr").replace(rl,""),e.l-a&2&&(e.l+=2)}return r}function dG(e){for(var t=e.read_shift(4),r=[],n=0;n!=t;++n)r[n]=e.read_shift(0,"lpstr-cp").replace(rl,"");return r}function hG(e){var t=e.l,r=cy(e,VF);e[e.l]==0&&e[e.l+1]==0&&e.l-t&2&&(e.l+=2);var n=cy(e,jl);return[r,n]}function mG(e){for(var t=e.read_shift(4),r=[],n=0;n<t/2;++n)r.push(hG(e));return r}function fk(e,t){for(var r=e.read_shift(4),n={},a=0;a!=r;++a){var i=e.read_shift(4),l=e.read_shift(4);n[i]=e.read_shift(l,t===1200?"utf16le":"utf8").replace(rl,"").replace(vx,"!"),t===1200&&l%2&&(e.l+=2)}return e.l&3&&(e.l=e.l>>3<<2),n}function aP(e){var t=e.read_shift(4),r=e.slice(e.l,e.l+t);return e.l+=t,(t&3)>0&&(e.l+=4-(t&3)&3),r}function pG(e){var t={};return t.Size=e.read_shift(4),e.l+=t.Size+3-(t.Size-1)%4,t}function cy(e,t,r){var n=e.read_shift(2),a,i=r||{};if(e.l+=2,t!==ok&&n!==t&&WK.indexOf(t)===-1&&!((t&65534)==4126&&(n&65534)==4126))throw new Error("Expected type "+t+" saw "+n);switch(t===ok?n:t){case 2:return a=e.read_shift(2,"i"),i.raw||(e.l+=2),a;case 3:return a=e.read_shift(4,"i"),a;case 11:return e.read_shift(4)!==0;case 19:return a=e.read_shift(4),a;case 30:return tP(e,n,4).replace(rl,"");case 31:return rP(e);case 64:return m3(e);case 65:return aP(e);case 71:return pG(e);case 80:return oN(e,n,!i.raw).replace(rl,"");case 81:return uG(e,n).replace(rl,"");case 4108:return mG(e);case 4126:case 4127:return n==4127?fG(e):dG(e);default:throw new Error("TypedPropertyValue unrecognized type "+t+" "+n)}}function dk(e,t){var r=tt(4),n=tt(4);switch(r.write_shift(4,e==80?31:e),e){case 3:n.write_shift(-4,t);break;case 5:n=tt(8),n.write_shift(8,t,"f");break;case 11:n.write_shift(4,t?1:0);break;case 64:n=cG(t);break;case 31:case 80:for(n=tt(4+2*(t.length+1)+(t.length%2?0:2)),n.write_shift(4,t.length+1),n.write_shift(0,t,"dbcs");n.l!=n.length;)n.write_shift(1,0);break;default:throw new Error("TypedPropertyValue unrecognized type "+e+" "+t)}return zi([r,n])}function hk(e,t){var r=e.l,n=e.read_shift(4),a=e.read_shift(4),i=[],l=0,o=0,u=-1,f={};for(l=0;l!=a;++l){var h=e.read_shift(4),m=e.read_shift(4);i[l]=[h,m+r]}i.sort(function(E,j){return E[1]-j[1]});var g={};for(l=0;l!=a;++l){if(e.l!==i[l][1]){var x=!0;if(l>0&&t)switch(t[i[l-1][0]].t){case 2:e.l+2===i[l][1]&&(e.l+=2,x=!1);break;case 80:e.l<=i[l][1]&&(e.l=i[l][1],x=!1);break;case 4108:e.l<=i[l][1]&&(e.l=i[l][1],x=!1);break}if((!t||l==0)&&e.l<=i[l][1]&&(x=!1,e.l=i[l][1]),x)throw new Error("Read Error: Expected address "+i[l][1]+" at "+e.l+" :"+l)}if(t){var b=t[i[l][0]];if(g[b.n]=cy(e,b.t,{raw:!0}),b.p==="version"&&(g[b.n]=String(g[b.n]>>16)+"."+("0000"+String(g[b.n]&65535)).slice(-4)),b.n=="CodePage")switch(g[b.n]){case 0:g[b.n]=1252;case 874:case 932:case 936:case 949:case 950:case 1250:case 1251:case 1253:case 1254:case 1255:case 1256:case 1257:case 1258:case 1e4:case 1200:case 1201:case 1252:case 65e3:case-536:case 65001:case-535:_c(o=g[b.n]>>>0&65535);break;default:throw new Error("Unsupported CodePage: "+g[b.n])}}else if(i[l][0]===1){if(o=g.CodePage=cy(e,d3),_c(o),u!==-1){var v=e.l;e.l=i[u][1],f=fk(e,o),e.l=v}}else if(i[l][0]===0){if(o===0){u=l,e.l=i[l+1][1];continue}f=fk(e,o)}else{var w=f[i[l][0]],N;switch(e[e.l]){case 65:e.l+=4,N=aP(e);break;case 30:e.l+=4,N=oN(e,e[e.l-4]).replace(/\u0000+$/,"");break;case 31:e.l+=4,N=oN(e,e[e.l-4]).replace(/\u0000+$/,"");break;case 3:e.l+=4,N=e.read_shift(4,"i");break;case 19:e.l+=4,N=e.read_shift(4);break;case 5:e.l+=4,N=e.read_shift(8,"f");break;case 11:e.l+=4,N=Ha(e,4);break;case 64:e.l+=4,N=Jn(m3(e));break;default:throw new Error("unparsed value: "+e[e.l])}g[w]=N}}return e.l=r+n,g}var iP=["CodePage","Thumbnail","_PID_LINKBASE","_PID_HLINKS","SystemIdentifier","FMTID"];function xG(e){switch(typeof e){case"boolean":return 11;case"number":return(e|0)==e?3:5;case"string":return 31;case"object":if(e instanceof Date)return 64;break}return-1}function mk(e,t,r){var n=tt(8),a=[],i=[],l=8,o=0,u=tt(8),f=tt(8);if(u.write_shift(4,2),u.write_shift(4,1200),f.write_shift(4,1),i.push(u),a.push(f),l+=8+u.length,!t){f=tt(8),f.write_shift(4,0),a.unshift(f);var h=[tt(4)];for(h[0].write_shift(4,e.length),o=0;o<e.length;++o){var m=e[o][0];for(u=tt(8+2*(m.length+1)+(m.length%2?0:2)),u.write_shift(4,o+2),u.write_shift(4,m.length+1),u.write_shift(0,m,"dbcs");u.l!=u.length;)u.write_shift(1,0);h.push(u)}u=zi(h),i.unshift(u),l+=8+u.length}for(o=0;o<e.length;++o)if(!(t&&!t[e[o][0]])&&!(iP.indexOf(e[o][0])>-1||QF.indexOf(e[o][0])>-1)&&e[o][1]!=null){var g=e[o][1],x=0;if(t){x=+t[e[o][0]];var b=r[x];if(b.p=="version"&&typeof g=="string"){var v=g.split(".");g=(+v[0]<<16)+(+v[1]||0)}u=dk(b.t,g)}else{var w=xG(g);w==-1&&(w=31,g=String(g)),u=dk(w,g)}i.push(u),f=tt(8),f.write_shift(4,t?x:2+o),a.push(f),l+=8+u.length}var N=8*(i.length+1);for(o=0;o<i.length;++o)a[o].write_shift(4,N),N+=i[o].length;return n.write_shift(4,l),n.write_shift(4,i.length),zi([n].concat(a).concat(i))}function pk(e,t,r){var n=e.content;if(!n)return{};is(n,0);var a,i,l,o,u=0;n.chk("feff","Byte Order: "),n.read_shift(2);var f=n.read_shift(4),h=n.read_shift(16);if(h!==nr.utils.consts.HEADER_CLSID&&h!==r)throw new Error("Bad PropertySet CLSID "+h);if(a=n.read_shift(4),a!==1&&a!==2)throw new Error("Unrecognized #Sets: "+a);if(i=n.read_shift(16),o=n.read_shift(4),a===1&&o!==n.l)throw new Error("Length mismatch: "+o+" !== "+n.l);a===2&&(l=n.read_shift(16),u=n.read_shift(4));var m=hk(n,t),g={SystemIdentifier:f};for(var x in m)g[x]=m[x];if(g.FMTID=i,a===1)return g;if(u-n.l==2&&(n.l+=2),n.l!==u)throw new Error("Length mismatch 2: "+n.l+" !== "+u);var b;try{b=hk(n,null)}catch{}for(x in b)g[x]=b[x];return g.FMTID=[i,l],g}function xk(e,t,r,n,a,i){var l=tt(a?68:48),o=[l];l.write_shift(2,65534),l.write_shift(2,0),l.write_shift(4,842412599),l.write_shift(16,nr.utils.consts.HEADER_CLSID,"hex"),l.write_shift(4,a?2:1),l.write_shift(16,t,"hex"),l.write_shift(4,a?68:48);var u=mk(e,r,n);if(o.push(u),a){var f=mk(a,null,null);l.write_shift(16,i,"hex"),l.write_shift(4,68+u.length),o.push(f)}return zi(o)}function md(e,t){return e.read_shift(t),null}function gG(e,t){t||(t=tt(e));for(var r=0;r<e;++r)t.write_shift(1,0);return t}function vG(e,t,r){for(var n=[],a=e.l+t;e.l<a;)n.push(r(e,a-e.l));if(a!==e.l)throw new Error("Slurp error");return n}function Ha(e,t){return e.read_shift(t)===1}function Ys(e,t){return t||(t=tt(2)),t.write_shift(2,+!!e),t}function si(e){return e.read_shift(2,"u")}function Lo(e,t){return t||(t=tt(2)),t.write_shift(2,e),t}function sP(e,t){return vG(e,t,si)}function yG(e){var t=e.read_shift(1),r=e.read_shift(1);return r===1?t:t===1}function lP(e,t,r){return r||(r=tt(2)),r.write_shift(1,t=="e"?+e:+!!e),r.write_shift(1,t=="e"?1:0),r}function Eg(e,t,r){var n=e.read_shift(r&&r.biff>=12?2:1),a="sbcs-cont";if(r&&r.biff>=8,!r||r.biff==8){var i=e.read_shift(1);i&&(a="dbcs-cont")}else r.biff==12&&(a="wstr");r.biff>=2&&r.biff<=5&&(a="cpstr");var l=n?e.read_shift(n,a):"";return l}function bG(e){var t=e.read_shift(2),r=e.read_shift(1),n=r&4,a=r&8,i=1+(r&1),l=0,o,u={};a&&(l=e.read_shift(2)),n&&(o=e.read_shift(4));var f=i==2?"dbcs-cont":"sbcs-cont",h=t===0?"":e.read_shift(t,f);return a&&(e.l+=4*l),n&&(e.l+=o),u.t=h,a||(u.raw="<t>"+u.t+"</t>",u.r=u.t),u}function wG(e){var t=e.t||"",r=tt(3);r.write_shift(2,t.length),r.write_shift(1,1);var n=tt(2*t.length);n.write_shift(2*t.length,t,"utf16le");var a=[r,n];return zi(a)}function X0(e,t,r){var n;if(r){if(r.biff>=2&&r.biff<=5)return e.read_shift(t,"cpstr");if(r.biff>=12)return e.read_shift(t,"dbcs-cont")}var a=e.read_shift(1);return a===0?n=e.read_shift(t,"sbcs-cont"):n=e.read_shift(t,"dbcs-cont"),n}function kg(e,t,r){var n=e.read_shift(r&&r.biff==2?1:2);return n===0?(e.l++,""):X0(e,n,r)}function xh(e,t,r){if(r.biff>5)return kg(e,t,r);var n=e.read_shift(1);return n===0?(e.l++,""):e.read_shift(n,r.biff<=4||!e.lens?"cpstr":"sbcs-cont")}function oP(e,t,r){return r||(r=tt(3+2*e.length)),r.write_shift(2,e.length),r.write_shift(1,1),r.write_shift(31,e,"utf16le"),r}function NG(e){var t=e.read_shift(1);e.l++;var r=e.read_shift(2);return e.l+=2,[t,r]}function _G(e){var t=e.read_shift(4),r=e.l,n=!1;t>24&&(e.l+=t-24,e.read_shift(16)==="795881f43b1d7f48af2c825dc4852763"&&(n=!0),e.l=r);var a=e.read_shift((n?t-24:t)>>1,"utf16le").replace(rl,"");return n&&(e.l+=24),a}function jG(e){for(var t=e.read_shift(2),r="";t-- >0;)r+="../";var n=e.read_shift(0,"lpstr-ansi");if(e.l+=2,e.read_shift(2)!=57005)throw new Error("Bad FileMoniker");var a=e.read_shift(4);if(a===0)return r+n.replace(/\\/g,"/");var i=e.read_shift(4);if(e.read_shift(2)!=3)throw new Error("Bad FileMoniker");var l=e.read_shift(i>>1,"utf16le").replace(rl,"");return r+l}function SG(e,t){var r=e.read_shift(16);switch(r){case"e0c9ea79f9bace118c8200aa004ba90b":return _G(e);case"0303000000000000c000000000000046":return jG(e);default:throw new Error("Unsupported Moniker "+r)}}function rv(e){var t=e.read_shift(4),r=t>0?e.read_shift(t,"utf16le").replace(rl,""):"";return r}function gk(e,t){t||(t=tt(6+e.length*2)),t.write_shift(4,1+e.length);for(var r=0;r<e.length;++r)t.write_shift(2,e.charCodeAt(r));return t.write_shift(2,0),t}function AG(e,t){var r=e.l+t,n=e.read_shift(4);if(n!==2)throw new Error("Unrecognized streamVersion: "+n);var a=e.read_shift(2);e.l+=2;var i,l,o,u,f="",h,m;a&16&&(i=rv(e,r-e.l)),a&128&&(l=rv(e,r-e.l)),(a&257)===257&&(o=rv(e,r-e.l)),(a&257)===1&&(u=SG(e,r-e.l)),a&8&&(f=rv(e,r-e.l)),a&32&&(h=e.read_shift(16)),a&64&&(m=m3(e)),e.l=r;var g=l||o||u||"";g&&f&&(g+="#"+f),g||(g="#"+f),a&2&&g.charAt(0)=="/"&&g.charAt(1)!="/"&&(g="file://"+g);var x={Target:g};return h&&(x.guid=h),m&&(x.time=m),i&&(x.Tooltip=i),x}function EG(e){var t=tt(512),r=0,n=e.Target;n.slice(0,7)=="file://"&&(n=n.slice(7));var a=n.indexOf("#"),i=a>-1?31:23;switch(n.charAt(0)){case"#":i=28;break;case".":i&=-3;break}t.write_shift(4,2),t.write_shift(4,i);var l=[8,6815827,6619237,4849780,83];for(r=0;r<l.length;++r)t.write_shift(4,l[r]);if(i==28)n=n.slice(1),gk(n,t);else if(i&2){for(l="e0 c9 ea 79 f9 ba ce 11 8c 82 00 aa 00 4b a9 0b".split(" "),r=0;r<l.length;++r)t.write_shift(1,parseInt(l[r],16));var o=a>-1?n.slice(0,a):n;for(t.write_shift(4,2*(o.length+1)),r=0;r<o.length;++r)t.write_shift(2,o.charCodeAt(r));t.write_shift(2,0),i&8&&gk(a>-1?n.slice(a+1):"",t)}else{for(l="03 03 00 00 00 00 00 00 c0 00 00 00 00 00 00 46".split(" "),r=0;r<l.length;++r)t.write_shift(1,parseInt(l[r],16));for(var u=0;n.slice(u*3,u*3+3)=="../"||n.slice(u*3,u*3+3)=="..\\";)++u;for(t.write_shift(2,u),t.write_shift(4,n.length-3*u+1),r=0;r<n.length-3*u;++r)t.write_shift(1,n.charCodeAt(r+3*u)&255);for(t.write_shift(1,0),t.write_shift(2,65535),t.write_shift(2,57005),r=0;r<6;++r)t.write_shift(4,0)}return t.slice(0,t.l)}function cP(e){var t=e.read_shift(1),r=e.read_shift(1),n=e.read_shift(1),a=e.read_shift(1);return[t,r,n,a]}function uP(e,t){var r=cP(e);return r[3]=0,r}function gu(e){var t=e.read_shift(2),r=e.read_shift(2),n=e.read_shift(2);return{r:t,c:r,ixfe:n}}function Q0(e,t,r,n){return n||(n=tt(6)),n.write_shift(2,e),n.write_shift(2,t),n.write_shift(2,r||0),n}function kG(e){var t=e.read_shift(2),r=e.read_shift(2);return e.l+=8,{type:t,flags:r}}function CG(e,t,r){return t===0?"":xh(e,t,r)}function TG(e,t,r){var n=r.biff>8?4:2,a=e.read_shift(n),i=e.read_shift(n,"i"),l=e.read_shift(n,"i");return[a,i,l]}function fP(e){var t=e.read_shift(2),r=f3(e);return[t,r]}function OG(e,t,r){e.l+=4,t-=4;var n=e.l+t,a=Eg(e,t,r),i=e.read_shift(2);if(n-=e.l,i!==n)throw new Error("Malformed AddinUdf: padding = "+n+" != "+i);return e.l+=i,a}function m2(e){var t=e.read_shift(2),r=e.read_shift(2),n=e.read_shift(2),a=e.read_shift(2);return{s:{c:n,r:t},e:{c:a,r}}}function dP(e,t){return t||(t=tt(8)),t.write_shift(2,e.s.r),t.write_shift(2,e.e.r),t.write_shift(2,e.s.c),t.write_shift(2,e.e.c),t}function hP(e){var t=e.read_shift(2),r=e.read_shift(2),n=e.read_shift(1),a=e.read_shift(1);return{s:{c:n,r:t},e:{c:a,r}}}var DG=hP;function mP(e){e.l+=4;var t=e.read_shift(2),r=e.read_shift(2),n=e.read_shift(2);return e.l+=12,[r,t,n]}function FG(e){var t={};return e.l+=4,e.l+=16,t.fSharedNote=e.read_shift(2),e.l+=4,t}function PG(e){var t={};return e.l+=4,e.cf=e.read_shift(2),t}function ps(e){e.l+=2,e.l+=e.read_shift(2)}var LG={0:ps,4:ps,5:ps,6:ps,7:PG,8:ps,9:ps,10:ps,11:ps,12:ps,13:FG,14:ps,15:ps,16:ps,17:ps,18:ps,19:ps,20:ps,21:mP};function MG(e,t){for(var r=e.l+t,n=[];e.l<r;){var a=e.read_shift(2);e.l-=2;try{n.push(LG[a](e,r-e.l))}catch{return e.l=r,n}}return e.l!=r&&(e.l=r),n}function nv(e,t){var r={BIFFVer:0,dt:0};switch(r.BIFFVer=e.read_shift(2),t-=2,t>=2&&(r.dt=e.read_shift(2),e.l-=2),r.BIFFVer){case 1536:case 1280:case 1024:case 768:case 512:case 2:case 7:break;default:if(t>6)throw new Error("Unexpected BIFF Ver "+r.BIFFVer)}return e.read_shift(t),r}function p3(e,t,r){var n=1536,a=16;switch(r.bookType){case"biff8":break;case"biff5":n=1280,a=8;break;case"biff4":n=4,a=6;break;case"biff3":n=3,a=6;break;case"biff2":n=2,a=4;break;case"xla":break;default:throw new Error("unsupported BIFF version")}var i=tt(a);return i.write_shift(2,n),i.write_shift(2,t),a>4&&i.write_shift(2,29282),a>6&&i.write_shift(2,1997),a>8&&(i.write_shift(2,49161),i.write_shift(2,1),i.write_shift(2,1798),i.write_shift(2,0)),i}function RG(e,t){return t===0||e.read_shift(2),1200}function IG(e,t,r){if(r.enc)return e.l+=t,"";var n=e.l,a=xh(e,0,r);return e.read_shift(t+n-e.l),a}function BG(e,t){var r=!t||t.biff==8,n=tt(r?112:54);for(n.write_shift(t.biff==8?2:1,7),r&&n.write_shift(1,0),n.write_shift(4,859007059),n.write_shift(4,5458548|(r?0:536870912));n.l<n.length;)n.write_shift(1,r?0:32);return n}function UG(e,t,r){var n=r&&r.biff==8||t==2?e.read_shift(2):(e.l+=t,0);return{fDialog:n&16,fBelow:n&64,fRight:n&128}}function zG(e,t,r){var n=e.read_shift(4),a=e.read_shift(1)&3,i=e.read_shift(1);switch(i){case 0:i="Worksheet";break;case 1:i="Macrosheet";break;case 2:i="Chartsheet";break;case 6:i="VBAModule";break}var l=Eg(e,0,r);return l.length===0&&(l="Sheet1"),{pos:n,hs:a,dt:i,name:l}}function qG(e,t){var r=!t||t.biff>=8?2:1,n=tt(8+r*e.name.length);n.write_shift(4,e.pos),n.write_shift(1,e.hs||0),n.write_shift(1,e.dt),n.write_shift(1,e.name.length),t.biff>=8&&n.write_shift(1,1),n.write_shift(r*e.name.length,e.name,t.biff<8?"sbcs":"utf16le");var a=n.slice(0,n.l);return a.l=n.l,a}function $G(e,t){for(var r=e.l+t,n=e.read_shift(4),a=e.read_shift(4),i=[],l=0;l!=a&&e.l<r;++l)i.push(bG(e));return i.Count=n,i.Unique=a,i}function HG(e,t){var r=tt(8);r.write_shift(4,e.Count),r.write_shift(4,e.Unique);for(var n=[],a=0;a<e.length;++a)n[a]=wG(e[a]);var i=zi([r].concat(n));return i.parts=[r.length].concat(n.map(function(l){return l.length})),i}function VG(e,t){var r={};return r.dsst=e.read_shift(2),e.l+=t-2,r}function WG(e){var t={};t.r=e.read_shift(2),t.c=e.read_shift(2),t.cnt=e.read_shift(2)-t.c;var r=e.read_shift(2);e.l+=4;var n=e.read_shift(1);return e.l+=3,n&7&&(t.level=n&7),n&32&&(t.hidden=!0),n&64&&(t.hpt=r/20),t}function KG(e){var t=kG(e);if(t.type!=2211)throw new Error("Invalid Future Record "+t.type);var r=e.read_shift(4);return r!==0}function GG(e){return e.read_shift(2),e.read_shift(4)}function vk(e,t,r){var n=0;r&&r.biff==2||(n=e.read_shift(2));var a=e.read_shift(2);r&&r.biff==2&&(n=1-(a>>15),a&=32767);var i={Unsynced:n&1,DyZero:(n&2)>>1,ExAsc:(n&4)>>2,ExDsc:(n&8)>>3};return[i,a]}function YG(e){var t=e.read_shift(2),r=e.read_shift(2),n=e.read_shift(2),a=e.read_shift(2),i=e.read_shift(2),l=e.read_shift(2),o=e.read_shift(2),u=e.read_shift(2),f=e.read_shift(2);return{Pos:[t,r],Dim:[n,a],Flags:i,CurTab:l,FirstTab:o,Selected:u,TabRatio:f}}function XG(){var e=tt(18);return e.write_shift(2,0),e.write_shift(2,0),e.write_shift(2,29280),e.write_shift(2,17600),e.write_shift(2,56),e.write_shift(2,0),e.write_shift(2,0),e.write_shift(2,1),e.write_shift(2,500),e}function QG(e,t,r){if(r&&r.biff>=2&&r.biff<5)return{};var n=e.read_shift(2);return{RTL:n&64}}function ZG(e){var t=tt(18),r=1718;return e&&e.RTL&&(r|=64),t.write_shift(2,r),t.write_shift(4,0),t.write_shift(4,64),t.write_shift(4,0),t.write_shift(4,0),t}function JG(){}function eY(e,t,r){var n={dyHeight:e.read_shift(2),fl:e.read_shift(2)};switch(r&&r.biff||8){case 2:break;case 3:case 4:e.l+=2;break;default:e.l+=10;break}return n.name=Eg(e,0,r),n}function tY(e,t){var r=e.name||"Arial",n=t&&t.biff==5,a=n?15+r.length:16+2*r.length,i=tt(a);return i.write_shift(2,e.sz*20),i.write_shift(4,0),i.write_shift(2,400),i.write_shift(4,0),i.write_shift(2,0),i.write_shift(1,r.length),n||i.write_shift(1,1),i.write_shift((n?1:2)*r.length,r,n?"sbcs":"utf16le"),i}function rY(e){var t=gu(e);return t.isst=e.read_shift(4),t}function nY(e,t,r,n){var a=tt(10);return Q0(e,t,n,a),a.write_shift(4,r),a}function aY(e,t,r){r.biffguess&&r.biff==2&&(r.biff=5);var n=e.l+t,a=gu(e);r.biff==2&&e.l++;var i=kg(e,n-e.l,r);return a.val=i,a}function iY(e,t,r,n,a){var i=!a||a.biff==8,l=tt(8+ +i+(1+i)*r.length);return Q0(e,t,n,l),l.write_shift(2,r.length),i&&l.write_shift(1,1),l.write_shift((1+i)*r.length,r,i?"utf16le":"sbcs"),l}function sY(e,t,r){var n=e.read_shift(2),a=xh(e,0,r);return[n,a]}function lY(e,t,r,n){var a=r&&r.biff==5;n||(n=tt(a?3+t.length:5+2*t.length)),n.write_shift(2,e),n.write_shift(a?1:2,t.length),a||n.write_shift(1,1),n.write_shift((a?1:2)*t.length,t,a?"sbcs":"utf16le");var i=n.length>n.l?n.slice(0,n.l):n;return i.l==null&&(i.l=i.length),i}var oY=xh;function yk(e,t,r){var n=e.l+t,a=r.biff==8||!r.biff?4:2,i=e.read_shift(a),l=e.read_shift(a),o=e.read_shift(2),u=e.read_shift(2);return e.l=n,{s:{r:i,c:o},e:{r:l,c:u}}}function cY(e,t){var r=t.biff==8||!t.biff?4:2,n=tt(2*r+6);return n.write_shift(r,e.s.r),n.write_shift(r,e.e.r+1),n.write_shift(2,e.s.c),n.write_shift(2,e.e.c+1),n.write_shift(2,0),n}function uY(e){var t=e.read_shift(2),r=e.read_shift(2),n=fP(e);return{r:t,c:r,ixfe:n[0],rknum:n[1]}}function fY(e,t){for(var r=e.l+t-2,n=e.read_shift(2),a=e.read_shift(2),i=[];e.l<r;)i.push(fP(e));if(e.l!==r)throw new Error("MulRK read error");var l=e.read_shift(2);if(i.length!=l-a+1)throw new Error("MulRK length mismatch");return{r:n,c:a,C:l,rkrec:i}}function dY(e,t){for(var r=e.l+t-2,n=e.read_shift(2),a=e.read_shift(2),i=[];e.l<r;)i.push(e.read_shift(2));if(e.l!==r)throw new Error("MulBlank read error");var l=e.read_shift(2);if(i.length!=l-a+1)throw new Error("MulBlank length mismatch");return{r:n,c:a,C:l,ixfe:i}}function hY(e,t,r,n){var a={},i=e.read_shift(4),l=e.read_shift(4),o=e.read_shift(4),u=e.read_shift(2);return a.patternType=KK[o>>26],n.cellStyles&&(a.alc=i&7,a.fWrap=i>>3&1,a.alcV=i>>4&7,a.fJustLast=i>>7&1,a.trot=i>>8&255,a.cIndent=i>>16&15,a.fShrinkToFit=i>>20&1,a.iReadOrder=i>>22&2,a.fAtrNum=i>>26&1,a.fAtrFnt=i>>27&1,a.fAtrAlc=i>>28&1,a.fAtrBdr=i>>29&1,a.fAtrPat=i>>30&1,a.fAtrProt=i>>31&1,a.dgLeft=l&15,a.dgRight=l>>4&15,a.dgTop=l>>8&15,a.dgBottom=l>>12&15,a.icvLeft=l>>16&127,a.icvRight=l>>23&127,a.grbitDiag=l>>30&3,a.icvTop=o&127,a.icvBottom=o>>7&127,a.icvDiag=o>>14&127,a.dgDiag=o>>21&15,a.icvFore=u&127,a.icvBack=u>>7&127,a.fsxButton=u>>14&1),a}function mY(e,t,r){var n={};return n.ifnt=e.read_shift(2),n.numFmtId=e.read_shift(2),n.flags=e.read_shift(2),n.fStyle=n.flags>>2&1,t-=6,n.data=hY(e,t,n.fStyle,r),n}function bk(e,t,r,n){var a=r&&r.biff==5;n||(n=tt(a?16:20)),n.write_shift(2,0),e.style?(n.write_shift(2,e.numFmtId||0),n.write_shift(2,65524)):(n.write_shift(2,e.numFmtId||0),n.write_shift(2,t<<4));var i=0;return e.numFmtId>0&&a&&(i|=1024),n.write_shift(4,i),n.write_shift(4,0),a||n.write_shift(4,0),n.write_shift(2,0),n}function pY(e){e.l+=4;var t=[e.read_shift(2),e.read_shift(2)];if(t[0]!==0&&t[0]--,t[1]!==0&&t[1]--,t[0]>7||t[1]>7)throw new Error("Bad Gutters: "+t.join("|"));return t}function xY(e){var t=tt(8);return t.write_shift(4,0),t.write_shift(2,0),t.write_shift(2,0),t}function wk(e,t,r){var n=gu(e);(r.biff==2||t==9)&&++e.l;var a=yG(e);return n.val=a,n.t=a===!0||a===!1?"b":"e",n}function gY(e,t,r,n,a,i){var l=tt(8);return Q0(e,t,n,l),lP(r,i,l),l}function vY(e,t,r){r.biffguess&&r.biff==2&&(r.biff=5);var n=gu(e),a=Ss(e);return n.val=a,n}function yY(e,t,r,n){var a=tt(14);return Q0(e,t,n,a),Y0(r,a),a}var Nk=CG;function bY(e,t,r){var n=e.l+t,a=e.read_shift(2),i=e.read_shift(2);if(r.sbcch=i,i==1025||i==14849)return[i,a];if(i<1||i>255)throw new Error("Unexpected SupBook type: "+i);for(var l=X0(e,i),o=[];n>e.l;)o.push(kg(e));return[i,a,l,o]}function _k(e,t,r){var n=e.read_shift(2),a,i={fBuiltIn:n&1,fWantAdvise:n>>>1&1,fWantPict:n>>>2&1,fOle:n>>>3&1,fOleLink:n>>>4&1,cf:n>>>5&1023,fIcon:n>>>15&1};return r.sbcch===14849&&(a=OG(e,t-2,r)),i.body=a||e.read_shift(t-2),typeof a=="string"&&(i.Name=a),i}var wY=["_xlnm.Consolidate_Area","_xlnm.Auto_Open","_xlnm.Auto_Close","_xlnm.Extract","_xlnm.Database","_xlnm.Criteria","_xlnm.Print_Area","_xlnm.Print_Titles","_xlnm.Recorder","_xlnm.Data_Form","_xlnm.Auto_Activate","_xlnm.Auto_Deactivate","_xlnm.Sheet_Title","_xlnm._FilterDatabase"];function jk(e,t,r){var n=e.l+t,a=e.read_shift(2),i=e.read_shift(1),l=e.read_shift(1),o=e.read_shift(r&&r.biff==2?1:2),u=0;(!r||r.biff>=5)&&(r.biff!=5&&(e.l+=2),u=e.read_shift(2),r.biff==5&&(e.l+=2),e.l+=4);var f=X0(e,l,r);a&32&&(f=wY[f.charCodeAt(0)]);var h=n-e.l;r&&r.biff==2&&--h;var m=n==e.l||o===0||!(h>0)?[]:MJ(e,h,r,o);return{chKey:i,Name:f,itab:u,rgce:m}}function pP(e,t,r){if(r.biff<8)return NY(e,t,r);for(var n=[],a=e.l+t,i=e.read_shift(r.biff>8?4:2);i--!==0;)n.push(TG(e,r.biff>8?12:6,r));if(e.l!=a)throw new Error("Bad ExternSheet: "+e.l+" != "+a);return n}function NY(e,t,r){e[e.l+1]==3&&e[e.l]++;var n=Eg(e,t,r);return n.charCodeAt(0)==3?n.slice(1):n}function _Y(e,t,r){if(r.biff<8){e.l+=t;return}var n=e.read_shift(2),a=e.read_shift(2),i=X0(e,n,r),l=X0(e,a,r);return[i,l]}function jY(e,t,r){var n=hP(e);e.l++;var a=e.read_shift(1);return t-=8,[RJ(e,t,r),a,n]}function Sk(e,t,r){var n=DG(e);switch(r.biff){case 2:e.l++,t-=7;break;case 3:case 4:e.l+=2,t-=8;break;default:e.l+=6,t-=12}return[n,PJ(e,t,r)]}function SY(e){var t=e.read_shift(4)!==0,r=e.read_shift(4)!==0,n=e.read_shift(4);return[t,r,n]}function AY(e,t,r){if(!(r.biff<8)){var n=e.read_shift(2),a=e.read_shift(2),i=e.read_shift(2),l=e.read_shift(2),o=xh(e,0,r);return r.biff<8&&e.read_shift(1),[{r:n,c:a},o,l,i]}}function EY(e,t,r){return AY(e,t,r)}function kY(e,t){for(var r=[],n=e.read_shift(2);n--;)r.push(m2(e));return r}function CY(e){var t=tt(2+e.length*8);t.write_shift(2,e.length);for(var r=0;r<e.length;++r)dP(e[r],t);return t}function TY(e,t,r){if(r&&r.biff<8)return DY(e,t,r);var n=mP(e),a=MG(e,t-22,n[1]);return{cmo:n,ft:a}}var OY={8:function(e,t){var r=e.l+t;e.l+=10;var n=e.read_shift(2);e.l+=4,e.l+=2,e.l+=2,e.l+=2,e.l+=4;var a=e.read_shift(1);return e.l+=a,e.l=r,{fmt:n}}};function DY(e,t,r){e.l+=4;var n=e.read_shift(2),a=e.read_shift(2),i=e.read_shift(2);e.l+=2,e.l+=2,e.l+=2,e.l+=2,e.l+=2,e.l+=2,e.l+=2,e.l+=2,e.l+=2,e.l+=6,t-=36;var l=[];return l.push((OY[n]||Fs)(e,t,r)),{cmo:[a,n,i],ft:l}}function FY(e,t,r){var n=e.l,a="";try{e.l+=4;var i=(r.lastobj||{cmo:[0,0]}).cmo[1],l;[0,5,7,11,12,14].indexOf(i)==-1?e.l+=6:l=NG(e,6,r);var o=e.read_shift(2);e.read_shift(2),si(e,2);var u=e.read_shift(2);e.l+=u;for(var f=1;f<e.lens.length-1;++f){if(e.l-n!=e.lens[f])throw new Error("TxO: bad continue record");var h=e[e.l],m=X0(e,e.lens[f+1]-e.lens[f]-1);if(a+=m,a.length>=(h?o:2*o))break}if(a.length!==o&&a.length!==o*2)throw new Error("cchText: "+o+" != "+a.length);return e.l=n+t,{t:a}}catch{return e.l=n+t,{t:a}}}function PY(e,t){var r=m2(e);e.l+=16;var n=AG(e,t-24);return[r,n]}function LY(e){var t=tt(24),r=ja(e[0]);t.write_shift(2,r.r),t.write_shift(2,r.r),t.write_shift(2,r.c),t.write_shift(2,r.c);for(var n="d0 c9 ea 79 f9 ba ce 11 8c 82 00 aa 00 4b a9 0b".split(" "),a=0;a<16;++a)t.write_shift(1,parseInt(n[a],16));return zi([t,EG(e[1])])}function MY(e,t){e.read_shift(2);var r=m2(e),n=e.read_shift((t-10)/2,"dbcs-cont");return n=n.replace(rl,""),[r,n]}function RY(e){var t=e[1].Tooltip,r=tt(10+2*(t.length+1));r.write_shift(2,2048);var n=ja(e[0]);r.write_shift(2,n.r),r.write_shift(2,n.r),r.write_shift(2,n.c),r.write_shift(2,n.c);for(var a=0;a<t.length;++a)r.write_shift(2,t.charCodeAt(a));return r.write_shift(2,0),r}function IY(e){var t=[0,0],r;return r=e.read_shift(2),t[0]=ck[r]||r,r=e.read_shift(2),t[1]=ck[r]||r,t}function BY(e){return e||(e=tt(4)),e.write_shift(2,1),e.write_shift(2,1),e}function UY(e){for(var t=e.read_shift(2),r=[];t-- >0;)r.push(uP(e));return r}function zY(e){for(var t=e.read_shift(2),r=[];t-- >0;)r.push(uP(e));return r}function qY(e){e.l+=2;var t={cxfs:0,crc:0};return t.cxfs=e.read_shift(2),t.crc=e.read_shift(4),t}function xP(e,t,r){if(!r.cellStyles)return Fs(e,t);var n=r&&r.biff>=12?4:2,a=e.read_shift(n),i=e.read_shift(n),l=e.read_shift(n),o=e.read_shift(n),u=e.read_shift(2);n==2&&(e.l+=2);var f={s:a,e:i,w:l,ixfe:o,flags:u};return(r.biff>=5||!r.biff)&&(f.level=u>>8&7),f}function $Y(e,t){var r=tt(12);r.write_shift(2,t),r.write_shift(2,t),r.write_shift(2,e.width*256),r.write_shift(2,0);var n=0;return e.hidden&&(n|=1),r.write_shift(1,n),n=e.level||0,r.write_shift(1,n),r.write_shift(2,0),r}function HY(e,t){var r={};return t<32||(e.l+=16,r.header=Ss(e),r.footer=Ss(e),e.l+=2),r}function VY(e,t,r){var n={area:!1};if(r.biff!=5)return e.l+=t,n;var a=e.read_shift(1);return e.l+=3,a&16&&(n.area=!0),n}function WY(e){for(var t=tt(2*e),r=0;r<e;++r)t.write_shift(2,r+1);return t}var KY=gu,GY=sP,YY=kg;function XY(e){var t=e.read_shift(2),r=e.read_shift(2),n=e.read_shift(4),a={fmt:t,env:r,len:n,data:e.slice(e.l,e.l+n)};return e.l+=n,a}function QY(e,t,r){r.biffguess&&r.biff==5&&(r.biff=2);var n=gu(e);++e.l;var a=xh(e,t-7,r);return n.t="str",n.val=a,n}function ZY(e){var t=gu(e);++e.l;var r=Ss(e);return t.t="n",t.val=r,t}function JY(e,t,r){var n=tt(15);return Dg(n,e,t),n.write_shift(8,r,"f"),n}function eX(e){var t=gu(e);++e.l;var r=e.read_shift(2);return t.t="n",t.val=r,t}function tX(e,t,r){var n=tt(9);return Dg(n,e,t),n.write_shift(2,r),n}function rX(e){var t=e.read_shift(1);return t===0?(e.l++,""):e.read_shift(t,"sbcs-cont")}function nX(e,t){e.l+=6,e.l+=2,e.l+=1,e.l+=3,e.l+=1,e.l+=t-13}function aX(e,t,r){var n=e.l+t,a=gu(e),i=e.read_shift(2),l=X0(e,i,r);return e.l=n,a.t="str",a.val=l,a}var iX=[2,3,48,49,131,139,140,245],cN=(function(){var e={1:437,2:850,3:1252,4:1e4,100:852,101:866,102:865,103:861,104:895,105:620,106:737,107:857,120:950,121:949,122:936,123:932,124:874,125:1255,126:1256,150:10007,151:10029,152:10006,200:1250,201:1251,202:1254,203:1253,0:20127,8:865,9:437,10:850,11:437,13:437,14:850,15:437,16:850,17:437,18:850,19:932,20:850,21:437,22:850,23:865,24:437,25:437,26:850,27:437,28:863,29:850,31:852,34:852,35:852,36:860,37:850,38:866,55:850,64:852,77:936,78:949,79:950,80:874,87:1252,88:1252,89:1252,108:863,134:737,135:852,136:857,204:1257,255:16969},t=f2({1:437,2:850,3:1252,4:1e4,100:852,101:866,102:865,103:861,104:895,105:620,106:737,107:857,120:950,121:949,122:936,123:932,124:874,125:1255,126:1256,150:10007,151:10029,152:10006,200:1250,201:1251,202:1254,203:1253,0:20127});function r(o,u){var f=[],h=Ed(1);switch(u.type){case"base64":h=Zl(no(o));break;case"binary":h=Zl(o);break;case"buffer":case"array":h=o;break}is(h,0);var m=h.read_shift(1),g=!!(m&136),x=!1,b=!1;switch(m){case 2:break;case 3:break;case 48:x=!0,g=!0;break;case 49:x=!0,g=!0;break;case 131:break;case 139:break;case 140:b=!0;break;case 245:break;default:throw new Error("DBF Unsupported Version: "+m.toString(16))}var v=0,w=521;m==2&&(v=h.read_shift(2)),h.l+=3,m!=2&&(v=h.read_shift(4)),v>1048576&&(v=1e6),m!=2&&(w=h.read_shift(2));var N=h.read_shift(2),E=u.codepage||1252;m!=2&&(h.l+=16,h.read_shift(1),h[h.l]!==0&&(E=e[h[h.l]]),h.l+=1,h.l+=2),b&&(h.l+=36);for(var j=[],T={},O=Math.min(h.length,m==2?521:w-10-(x?264:0)),P=b?32:11;h.l<O&&h[h.l]!=13;)switch(T={},T.name=Kx.utils.decode(E,h.slice(h.l,h.l+P)).replace(/[\u0000\r\n].*$/g,""),h.l+=P,T.type=String.fromCharCode(h.read_shift(1)),m!=2&&!b&&(T.offset=h.read_shift(4)),T.len=h.read_shift(1),m==2&&(T.offset=h.read_shift(2)),T.dec=h.read_shift(1),T.name.length&&j.push(T),m!=2&&(h.l+=b?13:14),T.type){case"B":(!x||T.len!=8)&&u.WTF&&console.log("Skipping "+T.name+":"+T.type);break;case"G":case"P":u.WTF&&console.log("Skipping "+T.name+":"+T.type);break;case"+":case"0":case"@":case"C":case"D":case"F":case"I":case"L":case"M":case"N":case"O":case"T":case"Y":break;default:throw new Error("Unknown Field Type: "+T.type)}if(h[h.l]!==13&&(h.l=w-1),h.read_shift(1)!==13)throw new Error("DBF Terminator not found "+h.l+" "+h[h.l]);h.l=w;var D=0,M=0;for(f[0]=[],M=0;M!=j.length;++M)f[0][M]=j[M].name;for(;v-- >0;){if(h[h.l]===42){h.l+=N;continue}for(++h.l,f[++D]=[],M=0,M=0;M!=j.length;++M){var B=h.slice(h.l,h.l+j[M].len);h.l+=j[M].len,is(B,0);var H=Kx.utils.decode(E,B);switch(j[M].type){case"C":H.trim().length&&(f[D][M]=H.replace(/\s+$/,""));break;case"D":H.length===8?f[D][M]=new Date(+H.slice(0,4),+H.slice(4,6)-1,+H.slice(6,8)):f[D][M]=H;break;case"F":f[D][M]=parseFloat(H.trim());break;case"+":case"I":f[D][M]=b?B.read_shift(-4,"i")^2147483648:B.read_shift(4,"i");break;case"L":switch(H.trim().toUpperCase()){case"Y":case"T":f[D][M]=!0;break;case"N":case"F":f[D][M]=!1;break;case"":case"?":break;default:throw new Error("DBF Unrecognized L:|"+H+"|")}break;case"M":if(!g)throw new Error("DBF Unexpected MEMO for type "+m.toString(16));f[D][M]="##MEMO##"+(b?parseInt(H.trim(),10):B.read_shift(4));break;case"N":H=H.replace(/\u0000/g,"").trim(),H&&H!="."&&(f[D][M]=+H||0);break;case"@":f[D][M]=new Date(B.read_shift(-8,"f")-621356832e5);break;case"T":f[D][M]=new Date((B.read_shift(4)-2440588)*864e5+B.read_shift(4));break;case"Y":f[D][M]=B.read_shift(4,"i")/1e4+B.read_shift(4,"i")/1e4*Math.pow(2,32);break;case"O":f[D][M]=-B.read_shift(-8,"f");break;case"B":if(x&&j[M].len==8){f[D][M]=B.read_shift(8,"f");break}case"G":case"P":B.l+=j[M].len;break;case"0":if(j[M].name==="_NullFlags")break;default:throw new Error("DBF Unsupported data type "+j[M].type)}}}if(m!=2&&h.l<h.length&&h[h.l++]!=26)throw new Error("DBF EOF Marker missing "+(h.l-1)+" of "+h.length+" "+h[h.l-1].toString(16));return u&&u.sheetRows&&(f=f.slice(0,u.sheetRows)),u.DBF=j,f}function n(o,u){var f=u||{};f.dateNF||(f.dateNF="yyyymmdd");var h=lp(r(o,f),f);return h["!cols"]=f.DBF.map(function(m){return{wch:m.len,DBF:m}}),delete f.DBF,h}function a(o,u){try{return Bd(n(o,u),u)}catch(f){if(u&&u.WTF)throw f}return{SheetNames:[],Sheets:{}}}var i={B:8,C:250,L:1,D:8,"?":0,"":0};function l(o,u){var f=u||{};if(+f.codepage>=0&&_c(+f.codepage),f.type=="string")throw new Error("Cannot write DBF to JS string");var h=kl(),m=dy(o,{header:1,raw:!0,cellDates:!0}),g=m[0],x=m.slice(1),b=o["!cols"]||[],v=0,w=0,N=0,E=1;for(v=0;v<g.length;++v){if(((b[v]||{}).DBF||{}).name){g[v]=b[v].DBF.name,++N;continue}if(g[v]!=null){if(++N,typeof g[v]=="number"&&(g[v]=g[v].toString(10)),typeof g[v]!="string")throw new Error("DBF Invalid column name "+g[v]+" |"+typeof g[v]+"|");if(g.indexOf(g[v])!==v){for(w=0;w<1024;++w)if(g.indexOf(g[v]+"_"+w)==-1){g[v]+="_"+w;break}}}}var j=tn(o["!ref"]),T=[],O=[],P=[];for(v=0;v<=j.e.c-j.s.c;++v){var D="",M="",B=0,H=[];for(w=0;w<x.length;++w)x[w][v]!=null&&H.push(x[w][v]);if(H.length==0||g[v]==null){T[v]="?";continue}for(w=0;w<H.length;++w){switch(typeof H[w]){case"number":M="B";break;case"string":M="C";break;case"boolean":M="L";break;case"object":M=H[w]instanceof Date?"D":"C";break;default:M="C"}B=Math.max(B,String(H[w]).length),D=D&&D!=M?"C":M}B>250&&(B=250),M=((b[v]||{}).DBF||{}).type,M=="C"&&b[v].DBF.len>B&&(B=b[v].DBF.len),D=="B"&&M=="N"&&(D="N",P[v]=b[v].DBF.dec,B=b[v].DBF.len),O[v]=D=="C"||M=="N"?B:i[D]||0,E+=O[v],T[v]=D}var L=h.next(32);for(L.write_shift(4,318902576),L.write_shift(4,x.length),L.write_shift(2,296+32*N),L.write_shift(2,E),v=0;v<4;++v)L.write_shift(4,0);for(L.write_shift(4,0|(+t[iF]||3)<<8),v=0,w=0;v<g.length;++v)if(g[v]!=null){var U=h.next(32),G=(g[v].slice(-10)+"\0\0\0\0\0\0\0\0\0\0\0").slice(0,11);U.write_shift(1,G,"sbcs"),U.write_shift(1,T[v]=="?"?"C":T[v],"sbcs"),U.write_shift(4,w),U.write_shift(1,O[v]||i[T[v]]||0),U.write_shift(1,P[v]||0),U.write_shift(1,2),U.write_shift(4,0),U.write_shift(1,0),U.write_shift(4,0),U.write_shift(4,0),w+=O[v]||i[T[v]]||0}var te=h.next(264);for(te.write_shift(4,13),v=0;v<65;++v)te.write_shift(4,0);for(v=0;v<x.length;++v){var de=h.next(E);for(de.write_shift(1,0),w=0;w<g.length;++w)if(g[w]!=null)switch(T[w]){case"L":de.write_shift(1,x[v][w]==null?63:x[v][w]?84:70);break;case"B":de.write_shift(8,x[v][w]||0,"f");break;case"N":var ne="0";for(typeof x[v][w]=="number"&&(ne=x[v][w].toFixed(P[w]||0)),N=0;N<O[w]-ne.length;++N)de.write_shift(1,32);de.write_shift(1,ne,"sbcs");break;case"D":x[v][w]?(de.write_shift(4,("0000"+x[v][w].getFullYear()).slice(-4),"sbcs"),de.write_shift(2,("00"+(x[v][w].getMonth()+1)).slice(-2),"sbcs"),de.write_shift(2,("00"+x[v][w].getDate()).slice(-2),"sbcs")):de.write_shift(8,"00000000","sbcs");break;case"C":var Z=String(x[v][w]!=null?x[v][w]:"").slice(0,O[w]);for(de.write_shift(1,Z,"sbcs"),N=0;N<O[w]-Z.length;++N)de.write_shift(1,32);break}}return h.next(1).write_shift(1,26),h.end()}return{to_workbook:a,to_sheet:n,from_sheet:l}})(),gP=(function(){var e={AA:"",BA:"",CA:"",DA:195,HA:"",JA:197,AE:"",BE:"",CE:"",HE:"",AI:"",BI:"",CI:"",HI:"",AO:"",BO:"",CO:"",DO:213,HO:"",AU:"",BU:"",CU:"",HU:"",Aa:"",Ba:"",Ca:"",Da:227,Ha:"",Ja:229,Ae:"",Be:"",Ce:"",He:"",Ai:"",Bi:"",Ci:"",Hi:"",Ao:"",Bo:"",Co:"",Do:245,Ho:"",Au:"",Bu:"",Cu:"",Hu:"",KC:"",Kc:"",q:"",z:"",a:"",j:"",DN:209,Dn:241,Hy:255,S:169,c:170,R:174,"B ":180,0:176,1:177,2:178,3:179,5:181,6:182,7:183,Q:185,k:186,b:208,i:216,l:222,s:240,y:248,"!":161,'"':162,"#":163,"(":164,"%":165,"'":167,"H ":168,"+":171,";":187,"<":188,"=":189,">":190,"?":191,"{":223},t=new RegExp("\x1BN("+Ba(e).join("|").replace(/\|\|\|/,"|\\||").replace(/([?()+])/g,"\\$1")+"|\\|)","gm"),r=function(g,x){var b=e[x];return typeof b=="number"?ME(b):b},n=function(g,x,b){var v=x.charCodeAt(0)-32<<4|b.charCodeAt(0)-48;return v==59?g:ME(v)};e["|"]=254;function a(g,x){switch(x.type){case"base64":return i(no(g),x);case"binary":return i(g,x);case"buffer":return i(Tr&&Buffer.isBuffer(g)?g.toString("binary"):Id(g),x);case"array":return i(G0(g),x)}throw new Error("Unrecognized type "+x.type)}function i(g,x){var b=g.split(/[\n\r]+/),v=-1,w=-1,N=0,E=0,j=[],T=[],O=null,P={},D=[],M=[],B=[],H=0,L;for(+x.codepage>=0&&_c(+x.codepage);N!==b.length;++N){H=0;var U=b[N].trim().replace(/\x1B([\x20-\x2F])([\x30-\x3F])/g,n).replace(t,r),G=U.replace(/;;/g,"\0").split(";").map(function(W){return W.replace(/\u0000/g,";")}),te=G[0],de;if(U.length>0)switch(te){case"ID":break;case"E":break;case"B":break;case"O":break;case"W":break;case"P":G[1].charAt(0)=="P"&&T.push(U.slice(3).replace(/;;/g,";"));break;case"C":var ne=!1,Z=!1,xe=!1,le=!1,Se=-1,re=-1;for(E=1;E<G.length;++E)switch(G[E].charAt(0)){case"A":break;case"X":w=parseInt(G[E].slice(1))-1,Z=!0;break;case"Y":for(v=parseInt(G[E].slice(1))-1,Z||(w=0),L=j.length;L<=v;++L)j[L]=[];break;case"K":de=G[E].slice(1),de.charAt(0)==='"'?de=de.slice(1,de.length-1):de==="TRUE"?de=!0:de==="FALSE"?de=!1:isNaN(Ac(de))?isNaN(qm(de).getDate())||(de=Jn(de)):(de=Ac(de),O!==null&&ip(O)&&(de=h2(de))),ne=!0;break;case"E":le=!0;var R=Fm(G[E].slice(1),{r:v,c:w});j[v][w]=[j[v][w],R];break;case"S":xe=!0,j[v][w]=[j[v][w],"S5S"];break;case"G":break;case"R":Se=parseInt(G[E].slice(1))-1;break;case"C":re=parseInt(G[E].slice(1))-1;break;default:if(x&&x.WTF)throw new Error("SYLK bad record "+U)}if(ne&&(j[v][w]&&j[v][w].length==2?j[v][w][0]=de:j[v][w]=de,O=null),xe){if(le)throw new Error("SYLK shared formula cannot have own formula");var F=Se>-1&&j[Se][re];if(!F||!F[1])throw new Error("SYLK shared formula cannot find base");j[v][w][1]=LP(F[1],{r:v-Se,c:w-re})}break;case"F":var q=0;for(E=1;E<G.length;++E)switch(G[E].charAt(0)){case"X":w=parseInt(G[E].slice(1))-1,++q;break;case"Y":for(v=parseInt(G[E].slice(1))-1,L=j.length;L<=v;++L)j[L]=[];break;case"M":H=parseInt(G[E].slice(1))/20;break;case"F":break;case"G":break;case"P":O=T[parseInt(G[E].slice(1))];break;case"S":break;case"D":break;case"N":break;case"W":for(B=G[E].slice(1).split(" "),L=parseInt(B[0],10);L<=parseInt(B[1],10);++L)H=parseInt(B[2],10),M[L-1]=H===0?{hidden:!0}:{wch:H},kd(M[L-1]);break;case"C":w=parseInt(G[E].slice(1))-1,M[w]||(M[w]={});break;case"R":v=parseInt(G[E].slice(1))-1,D[v]||(D[v]={}),H>0?(D[v].hpt=H,D[v].hpx=Hm(H)):H===0&&(D[v].hidden=!0);break;default:if(x&&x.WTF)throw new Error("SYLK bad record "+U)}q<1&&(O=null);break;default:if(x&&x.WTF)throw new Error("SYLK bad record "+U)}}return D.length>0&&(P["!rows"]=D),M.length>0&&(P["!cols"]=M),x&&x.sheetRows&&(j=j.slice(0,x.sheetRows)),[j,P]}function l(g,x){var b=a(g,x),v=b[0],w=b[1],N=lp(v,x);return Ba(w).forEach(function(E){N[E]=w[E]}),N}function o(g,x){return Bd(l(g,x),x)}function u(g,x,b,v){var w="C;Y"+(b+1)+";X"+(v+1)+";K";switch(g.t){case"n":w+=g.v||0,g.f&&!g.F&&(w+=";E"+w3(g.f,{r:b,c:v}));break;case"b":w+=g.v?"TRUE":"FALSE";break;case"e":w+=g.w||g.v;break;case"d":w+='"'+(g.w||g.v)+'"';break;case"s":w+='"'+g.v.replace(/"/g,"").replace(/;/g,";;")+'"';break}return w}function f(g,x){x.forEach(function(b,v){var w="F;W"+(v+1)+" "+(v+1)+" ";b.hidden?w+="0":(typeof b.width=="number"&&!b.wpx&&(b.wpx=tg(b.width)),typeof b.wpx=="number"&&!b.wch&&(b.wch=rg(b.wpx)),typeof b.wch=="number"&&(w+=Math.round(b.wch))),w.charAt(w.length-1)!=" "&&g.push(w)})}function h(g,x){x.forEach(function(b,v){var w="F;";b.hidden?w+="M0;":b.hpt?w+="M"+20*b.hpt+";":b.hpx&&(w+="M"+20*ng(b.hpx)+";"),w.length>2&&g.push(w+"R"+(v+1))})}function m(g,x){var b=["ID;PWXL;N;E"],v=[],w=tn(g["!ref"]),N,E=Array.isArray(g),j=`\r
`;b.push("P;PGeneral"),b.push("F;P0;DG0G8;M255"),g["!cols"]&&f(b,g["!cols"]),g["!rows"]&&h(b,g["!rows"]),b.push("B;Y"+(w.e.r-w.s.r+1)+";X"+(w.e.c-w.s.c+1)+";D"+[w.s.c,w.s.r,w.e.c,w.e.r].join(" "));for(var T=w.s.r;T<=w.e.r;++T)for(var O=w.s.c;O<=w.e.c;++O){var P=fr({r:T,c:O});N=E?(g[T]||[])[O]:g[P],!(!N||N.v==null&&(!N.f||N.F))&&v.push(u(N,g,T,O))}return b.join(j)+j+v.join(j)+j+"E"+j}return{to_workbook:o,to_sheet:l,from_sheet:m}})(),vP=(function(){function e(i,l){switch(l.type){case"base64":return t(no(i),l);case"binary":return t(i,l);case"buffer":return t(Tr&&Buffer.isBuffer(i)?i.toString("binary"):Id(i),l);case"array":return t(G0(i),l)}throw new Error("Unrecognized type "+l.type)}function t(i,l){for(var o=i.split(`
`),u=-1,f=-1,h=0,m=[];h!==o.length;++h){if(o[h].trim()==="BOT"){m[++u]=[],f=0;continue}if(!(u<0)){var g=o[h].trim().split(","),x=g[0],b=g[1];++h;for(var v=o[h]||"";(v.match(/["]/g)||[]).length&1&&h<o.length-1;)v+=`
`+o[++h];switch(v=v.trim(),+x){case-1:if(v==="BOT"){m[++u]=[],f=0;continue}else if(v!=="EOD")throw new Error("Unrecognized DIF special command "+v);break;case 0:v==="TRUE"?m[u][f]=!0:v==="FALSE"?m[u][f]=!1:isNaN(Ac(b))?isNaN(qm(b).getDate())?m[u][f]=b:m[u][f]=Jn(b):m[u][f]=Ac(b),++f;break;case 1:v=v.slice(1,v.length-1),v=v.replace(/""/g,'"'),v&&v.match(/^=".*"$/)&&(v=v.slice(2,-1)),m[u][f++]=v!==""?v:null;break}if(v==="EOD")break}}return l&&l.sheetRows&&(m=m.slice(0,l.sheetRows)),m}function r(i,l){return lp(e(i,l),l)}function n(i,l){return Bd(r(i,l),l)}var a=(function(){var i=function(u,f,h,m,g){u.push(f),u.push(h+","+m),u.push('"'+g.replace(/"/g,'""')+'"')},l=function(u,f,h,m){u.push(f+","+h),u.push(f==1?'"'+m.replace(/"/g,'""')+'"':m)};return function(u){var f=[],h=tn(u["!ref"]),m,g=Array.isArray(u);i(f,"TABLE",0,1,"sheetjs"),i(f,"VECTORS",0,h.e.r-h.s.r+1,""),i(f,"TUPLES",0,h.e.c-h.s.c+1,""),i(f,"DATA",0,0,"");for(var x=h.s.r;x<=h.e.r;++x){l(f,-1,0,"BOT");for(var b=h.s.c;b<=h.e.c;++b){var v=fr({r:x,c:b});if(m=g?(u[x]||[])[b]:u[v],!m){l(f,1,0,"");continue}switch(m.t){case"n":var w=m.w;!w&&m.v!=null&&(w=m.v),w==null?m.f&&!m.F?l(f,1,0,"="+m.f):l(f,1,0,""):l(f,0,w,"V");break;case"b":l(f,0,m.v?1:0,m.v?"TRUE":"FALSE");break;case"s":l(f,1,0,isNaN(m.v)?m.v:'="'+m.v+'"');break;case"d":m.w||(m.w=qo(m.z||ur[14],Si(Jn(m.v)))),l(f,0,m.w,"V");break;default:l(f,1,0,"")}}}l(f,-1,0,"EOD");var N=`\r
`,E=f.join(N);return E}})();return{to_workbook:n,to_sheet:r,from_sheet:a}})(),yP=(function(){function e(m){return m.replace(/\\b/g,"\\").replace(/\\c/g,":").replace(/\\n/g,`
`)}function t(m){return m.replace(/\\/g,"\\b").replace(/:/g,"\\c").replace(/\n/g,"\\n")}function r(m,g){for(var x=m.split(`
`),b=-1,v=-1,w=0,N=[];w!==x.length;++w){var E=x[w].trim().split(":");if(E[0]==="cell"){var j=ja(E[1]);if(N.length<=j.r)for(b=N.length;b<=j.r;++b)N[b]||(N[b]=[]);switch(b=j.r,v=j.c,E[2]){case"t":N[b][v]=e(E[3]);break;case"v":N[b][v]=+E[3];break;case"vtf":var T=E[E.length-1];case"vtc":switch(E[3]){case"nl":N[b][v]=!!+E[4];break;default:N[b][v]=+E[4];break}E[2]=="vtf"&&(N[b][v]=[N[b][v],T])}}}return g&&g.sheetRows&&(N=N.slice(0,g.sheetRows)),N}function n(m,g){return lp(r(m,g),g)}function a(m,g){return Bd(n(m,g),g)}var i=["socialcalc:version:1.5","MIME-Version: 1.0","Content-Type: multipart/mixed; boundary=SocialCalcSpreadsheetControlSave"].join(`
`),l=["--SocialCalcSpreadsheetControlSave","Content-type: text/plain; charset=UTF-8"].join(`
`)+`
`,o=["# SocialCalc Spreadsheet Control Save","part:sheet"].join(`
`),u="--SocialCalcSpreadsheetControlSave--";function f(m){if(!m||!m["!ref"])return"";for(var g=[],x=[],b,v="",w=Tl(m["!ref"]),N=Array.isArray(m),E=w.s.r;E<=w.e.r;++E)for(var j=w.s.c;j<=w.e.c;++j)if(v=fr({r:E,c:j}),b=N?(m[E]||[])[j]:m[v],!(!b||b.v==null||b.t==="z")){switch(x=["cell",v,"t"],b.t){case"s":case"str":x.push(t(b.v));break;case"n":b.f?(x[2]="vtf",x[3]="n",x[4]=b.v,x[5]=t(b.f)):(x[2]="v",x[3]=b.v);break;case"b":x[2]="vt"+(b.f?"f":"c"),x[3]="nl",x[4]=b.v?"1":"0",x[5]=t(b.f||(b.v?"TRUE":"FALSE"));break;case"d":var T=Si(Jn(b.v));x[2]="vtc",x[3]="nd",x[4]=""+T,x[5]=b.w||qo(b.z||ur[14],T);break;case"e":continue}g.push(x.join(":"))}return g.push("sheet:c:"+(w.e.c-w.s.c+1)+":r:"+(w.e.r-w.s.r+1)+":tvf:1"),g.push("valueformat:1:text-wiki"),g.join(`
`)}function h(m){return[i,l,o,l,f(m),u].join(`
`)}return{to_workbook:a,to_sheet:n,from_sheet:h}})(),$m=(function(){function e(h,m,g,x,b){b.raw?m[g][x]=h:h===""||(h==="TRUE"?m[g][x]=!0:h==="FALSE"?m[g][x]=!1:isNaN(Ac(h))?isNaN(qm(h).getDate())?m[g][x]=h:m[g][x]=Jn(h):m[g][x]=Ac(h))}function t(h,m){var g=m||{},x=[];if(!h||h.length===0)return x;for(var b=h.split(/[\r\n]/),v=b.length-1;v>=0&&b[v].length===0;)--v;for(var w=10,N=0,E=0;E<=v;++E)N=b[E].indexOf(" "),N==-1?N=b[E].length:N++,w=Math.max(w,N);for(E=0;E<=v;++E){x[E]=[];var j=0;for(e(b[E].slice(0,w).trim(),x,E,j,g),j=1;j<=(b[E].length-w)/10+1;++j)e(b[E].slice(w+(j-1)*10,w+j*10).trim(),x,E,j,g)}return g.sheetRows&&(x=x.slice(0,g.sheetRows)),x}var r={44:",",9:"	",59:";",124:"|"},n={44:3,9:2,59:1,124:0};function a(h){for(var m={},g=!1,x=0,b=0;x<h.length;++x)(b=h.charCodeAt(x))==34?g=!g:!g&&b in r&&(m[b]=(m[b]||0)+1);b=[];for(x in m)Object.prototype.hasOwnProperty.call(m,x)&&b.push([m[x],x]);if(!b.length){m=n;for(x in m)Object.prototype.hasOwnProperty.call(m,x)&&b.push([m[x],x])}return b.sort(function(v,w){return v[0]-w[0]||n[v[1]]-n[w[1]]}),r[b.pop()[1]]||44}function i(h,m){var g=m||{},x="",b=g.dense?[]:{},v={s:{c:0,r:0},e:{c:0,r:0}};h.slice(0,4)=="sep="?h.charCodeAt(5)==13&&h.charCodeAt(6)==10?(x=h.charAt(4),h=h.slice(7)):h.charCodeAt(5)==13||h.charCodeAt(5)==10?(x=h.charAt(4),h=h.slice(6)):x=a(h.slice(0,1024)):g&&g.FS?x=g.FS:x=a(h.slice(0,1024));var w=0,N=0,E=0,j=0,T=0,O=x.charCodeAt(0),P=!1,D=0,M=h.charCodeAt(0);h=h.replace(/\r\n/mg,`
`);var B=g.dateNF!=null?VW(g.dateNF):null;function H(){var L=h.slice(j,T),U={};if(L.charAt(0)=='"'&&L.charAt(L.length-1)=='"'&&(L=L.slice(1,-1).replace(/""/g,'"')),L.length===0)U.t="z";else if(g.raw)U.t="s",U.v=L;else if(L.trim().length===0)U.t="s",U.v=L;else if(L.charCodeAt(0)==61)L.charCodeAt(1)==34&&L.charCodeAt(L.length-1)==34?(U.t="s",U.v=L.slice(2,-1).replace(/""/g,'"')):bZ(L)?(U.t="n",U.f=L.slice(1)):(U.t="s",U.v=L);else if(L=="TRUE")U.t="b",U.v=!0;else if(L=="FALSE")U.t="b",U.v=!1;else if(!isNaN(E=Ac(L)))U.t="n",g.cellText!==!1&&(U.w=L),U.v=E;else if(!isNaN(qm(L).getDate())||B&&L.match(B)){U.z=g.dateNF||ur[14];var G=0;B&&L.match(B)&&(L=WW(L,g.dateNF,L.match(B)||[]),G=1),g.cellDates?(U.t="d",U.v=Jn(L,G)):(U.t="n",U.v=Si(Jn(L,G))),g.cellText!==!1&&(U.w=qo(U.z,U.v instanceof Date?Si(U.v):U.v)),g.cellNF||delete U.z}else U.t="s",U.v=L;if(U.t=="z"||(g.dense?(b[w]||(b[w]=[]),b[w][N]=U):b[fr({c:N,r:w})]=U),j=T+1,M=h.charCodeAt(j),v.e.c<N&&(v.e.c=N),v.e.r<w&&(v.e.r=w),D==O)++N;else if(N=0,++w,g.sheetRows&&g.sheetRows<=w)return!0}e:for(;T<h.length;++T)switch(D=h.charCodeAt(T)){case 34:M===34&&(P=!P);break;case O:case 10:case 13:if(!P&&H())break e;break}return T-j>0&&H(),b["!ref"]=Nr(v),b}function l(h,m){return!(m&&m.PRN)||m.FS||h.slice(0,4)=="sep="||h.indexOf("	")>=0||h.indexOf(",")>=0||h.indexOf(";")>=0?i(h,m):lp(t(h,m),m)}function o(h,m){var g="",x=m.type=="string"?[0,0,0,0]:C3(h,m);switch(m.type){case"base64":g=no(h);break;case"binary":g=h;break;case"buffer":m.codepage==65001?g=h.toString("utf8"):m.codepage&&typeof Kx<"u"||(g=Tr&&Buffer.isBuffer(h)?h.toString("binary"):Id(h));break;case"array":g=G0(h);break;case"string":g=h;break;default:throw new Error("Unrecognized type "+m.type)}return x[0]==239&&x[1]==187&&x[2]==191?g=Dn(g.slice(3)):m.type!="string"&&m.type!="buffer"&&m.codepage==65001?g=Dn(g):m.type=="binary"&&typeof Kx<"u",g.slice(0,19)=="socialcalc:version:"?yP.to_sheet(m.type=="string"?g:Dn(g),m):l(g,m)}function u(h,m){return Bd(o(h,m),m)}function f(h){for(var m=[],g=tn(h["!ref"]),x,b=Array.isArray(h),v=g.s.r;v<=g.e.r;++v){for(var w=[],N=g.s.c;N<=g.e.c;++N){var E=fr({r:v,c:N});if(x=b?(h[v]||[])[N]:h[E],!x||x.v==null){w.push("          ");continue}for(var j=(x.w||(xf(x),x.w)||"").slice(0,10);j.length<10;)j+=" ";w.push(j+(N===0?" ":""))}m.push(w.join(""))}return m.join(`
`)}return{to_workbook:u,to_sheet:o,from_sheet:f}})();function sX(e,t){var r=t||{},n=!!r.WTF;r.WTF=!0;try{var a=gP.to_workbook(e,r);return r.WTF=n,a}catch(i){if(r.WTF=n,!i.message.match(/SYLK bad record ID/)&&n)throw i;return $m.to_workbook(e,t)}}var L0=(function(){function e(R,F,q){if(R){is(R,R.l||0);for(var W=q.Enum||Se;R.l<R.length;){var Q=R.read_shift(2),oe=W[Q]||W[65535],ue=R.read_shift(2),X=R.l+ue,ve=oe.f&&oe.f(R,ue,q);if(R.l=X,F(ve,oe,Q))return}}}function t(R,F){switch(F.type){case"base64":return r(Zl(no(R)),F);case"binary":return r(Zl(R),F);case"buffer":case"array":return r(R,F)}throw"Unsupported type "+F.type}function r(R,F){if(!R)return R;var q=F||{},W=q.dense?[]:{},Q="Sheet1",oe="",ue=0,X={},ve=[],Te=[],Y={s:{r:0,c:0},e:{r:0,c:0}},We=q.sheetRows||0;if(R[2]==0&&(R[3]==8||R[3]==9)&&R.length>=16&&R[14]==5&&R[15]===108)throw new Error("Unsupported Works 3 for Mac file");if(R[2]==2)q.Enum=Se,e(R,function(Ze,bt,lt){switch(lt){case 0:q.vers=Ze,Ze>=4096&&(q.qpro=!0);break;case 6:Y=Ze;break;case 204:Ze&&(oe=Ze);break;case 222:oe=Ze;break;case 15:case 51:q.qpro||(Ze[1].v=Ze[1].v.slice(1));case 13:case 14:case 16:lt==14&&(Ze[2]&112)==112&&(Ze[2]&15)>1&&(Ze[2]&15)<15&&(Ze[1].z=q.dateNF||ur[14],q.cellDates&&(Ze[1].t="d",Ze[1].v=h2(Ze[1].v))),q.qpro&&Ze[3]>ue&&(W["!ref"]=Nr(Y),X[Q]=W,ve.push(Q),W=q.dense?[]:{},Y={s:{r:0,c:0},e:{r:0,c:0}},ue=Ze[3],Q=oe||"Sheet"+(ue+1),oe="");var Ct=q.dense?(W[Ze[0].r]||[])[Ze[0].c]:W[fr(Ze[0])];if(Ct){Ct.t=Ze[1].t,Ct.v=Ze[1].v,Ze[1].z!=null&&(Ct.z=Ze[1].z),Ze[1].f!=null&&(Ct.f=Ze[1].f);break}q.dense?(W[Ze[0].r]||(W[Ze[0].r]=[]),W[Ze[0].r][Ze[0].c]=Ze[1]):W[fr(Ze[0])]=Ze[1];break}},q);else if(R[2]==26||R[2]==14)q.Enum=re,R[2]==14&&(q.qpro=!0,R.l=0),e(R,function(Ze,bt,lt){switch(lt){case 204:Q=Ze;break;case 22:Ze[1].v=Ze[1].v.slice(1);case 23:case 24:case 25:case 37:case 39:case 40:if(Ze[3]>ue&&(W["!ref"]=Nr(Y),X[Q]=W,ve.push(Q),W=q.dense?[]:{},Y={s:{r:0,c:0},e:{r:0,c:0}},ue=Ze[3],Q="Sheet"+(ue+1)),We>0&&Ze[0].r>=We)break;q.dense?(W[Ze[0].r]||(W[Ze[0].r]=[]),W[Ze[0].r][Ze[0].c]=Ze[1]):W[fr(Ze[0])]=Ze[1],Y.e.c<Ze[0].c&&(Y.e.c=Ze[0].c),Y.e.r<Ze[0].r&&(Y.e.r=Ze[0].r);break;case 27:Ze[14e3]&&(Te[Ze[14e3][0]]=Ze[14e3][1]);break;case 1537:Te[Ze[0]]=Ze[1],Ze[0]==ue&&(Q=Ze[1]);break}},q);else throw new Error("Unrecognized LOTUS BOF "+R[2]);if(W["!ref"]=Nr(Y),X[oe||Q]=W,ve.push(oe||Q),!Te.length)return{SheetNames:ve,Sheets:X};for(var Ee={},ge=[],dt=0;dt<Te.length;++dt)X[ve[dt]]?(ge.push(Te[dt]||ve[dt]),Ee[Te[dt]]=X[Te[dt]]||X[ve[dt]]):(ge.push(Te[dt]),Ee[Te[dt]]={"!ref":"A1"});return{SheetNames:ge,Sheets:Ee}}function n(R,F){var q=F||{};if(+q.codepage>=0&&_c(+q.codepage),q.type=="string")throw new Error("Cannot write WK1 to JS string");var W=kl(),Q=tn(R["!ref"]),oe=Array.isArray(R),ue=[];_t(W,0,i(1030)),_t(W,6,u(Q));for(var X=Math.min(Q.e.r,8191),ve=Q.s.r;ve<=X;++ve)for(var Te=Qa(ve),Y=Q.s.c;Y<=Q.e.c;++Y){ve===Q.s.r&&(ue[Y]=_a(Y));var We=ue[Y]+Te,Ee=oe?(R[ve]||[])[Y]:R[We];if(!(!Ee||Ee.t=="z"))if(Ee.t=="n")(Ee.v|0)==Ee.v&&Ee.v>=-32768&&Ee.v<=32767?_t(W,13,x(ve,Y,Ee.v)):_t(W,14,v(ve,Y,Ee.v));else{var ge=xf(Ee);_t(W,15,m(ve,Y,ge.slice(0,239)))}}return _t(W,1),W.end()}function a(R,F){var q=F||{};if(+q.codepage>=0&&_c(+q.codepage),q.type=="string")throw new Error("Cannot write WK3 to JS string");var W=kl();_t(W,0,l(R));for(var Q=0,oe=0;Q<R.SheetNames.length;++Q)(R.Sheets[R.SheetNames[Q]]||{})["!ref"]&&_t(W,27,le(R.SheetNames[Q],oe++));var ue=0;for(Q=0;Q<R.SheetNames.length;++Q){var X=R.Sheets[R.SheetNames[Q]];if(!(!X||!X["!ref"])){for(var ve=tn(X["!ref"]),Te=Array.isArray(X),Y=[],We=Math.min(ve.e.r,8191),Ee=ve.s.r;Ee<=We;++Ee)for(var ge=Qa(Ee),dt=ve.s.c;dt<=ve.e.c;++dt){Ee===ve.s.r&&(Y[dt]=_a(dt));var Ze=Y[dt]+ge,bt=Te?(X[Ee]||[])[dt]:X[Ze];if(!(!bt||bt.t=="z"))if(bt.t=="n")_t(W,23,H(Ee,dt,ue,bt.v));else{var lt=xf(bt);_t(W,22,D(Ee,dt,ue,lt.slice(0,239)))}}++ue}}return _t(W,1),W.end()}function i(R){var F=tt(2);return F.write_shift(2,R),F}function l(R){var F=tt(26);F.write_shift(2,4096),F.write_shift(2,4),F.write_shift(4,0);for(var q=0,W=0,Q=0,oe=0;oe<R.SheetNames.length;++oe){var ue=R.SheetNames[oe],X=R.Sheets[ue];if(!(!X||!X["!ref"])){++Q;var ve=Tl(X["!ref"]);q<ve.e.r&&(q=ve.e.r),W<ve.e.c&&(W=ve.e.c)}}return q>8191&&(q=8191),F.write_shift(2,q),F.write_shift(1,Q),F.write_shift(1,W),F.write_shift(2,0),F.write_shift(2,0),F.write_shift(1,1),F.write_shift(1,2),F.write_shift(4,0),F.write_shift(4,0),F}function o(R,F,q){var W={s:{c:0,r:0},e:{c:0,r:0}};return F==8&&q.qpro?(W.s.c=R.read_shift(1),R.l++,W.s.r=R.read_shift(2),W.e.c=R.read_shift(1),R.l++,W.e.r=R.read_shift(2),W):(W.s.c=R.read_shift(2),W.s.r=R.read_shift(2),F==12&&q.qpro&&(R.l+=2),W.e.c=R.read_shift(2),W.e.r=R.read_shift(2),F==12&&q.qpro&&(R.l+=2),W.s.c==65535&&(W.s.c=W.e.c=W.s.r=W.e.r=0),W)}function u(R){var F=tt(8);return F.write_shift(2,R.s.c),F.write_shift(2,R.s.r),F.write_shift(2,R.e.c),F.write_shift(2,R.e.r),F}function f(R,F,q){var W=[{c:0,r:0},{t:"n",v:0},0,0];return q.qpro&&q.vers!=20768?(W[0].c=R.read_shift(1),W[3]=R.read_shift(1),W[0].r=R.read_shift(2),R.l+=2):(W[2]=R.read_shift(1),W[0].c=R.read_shift(2),W[0].r=R.read_shift(2)),W}function h(R,F,q){var W=R.l+F,Q=f(R,F,q);if(Q[1].t="s",q.vers==20768){R.l++;var oe=R.read_shift(1);return Q[1].v=R.read_shift(oe,"utf8"),Q}return q.qpro&&R.l++,Q[1].v=R.read_shift(W-R.l,"cstr"),Q}function m(R,F,q){var W=tt(7+q.length);W.write_shift(1,255),W.write_shift(2,F),W.write_shift(2,R),W.write_shift(1,39);for(var Q=0;Q<W.length;++Q){var oe=q.charCodeAt(Q);W.write_shift(1,oe>=128?95:oe)}return W.write_shift(1,0),W}function g(R,F,q){var W=f(R,F,q);return W[1].v=R.read_shift(2,"i"),W}function x(R,F,q){var W=tt(7);return W.write_shift(1,255),W.write_shift(2,F),W.write_shift(2,R),W.write_shift(2,q,"i"),W}function b(R,F,q){var W=f(R,F,q);return W[1].v=R.read_shift(8,"f"),W}function v(R,F,q){var W=tt(13);return W.write_shift(1,255),W.write_shift(2,F),W.write_shift(2,R),W.write_shift(8,q,"f"),W}function w(R,F,q){var W=R.l+F,Q=f(R,F,q);if(Q[1].v=R.read_shift(8,"f"),q.qpro)R.l=W;else{var oe=R.read_shift(2);T(R.slice(R.l,R.l+oe),Q),R.l+=oe}return Q}function N(R,F,q){var W=F&32768;return F&=-32769,F=(W?R:0)+(F>=8192?F-16384:F),(W?"":"$")+(q?_a(F):Qa(F))}var E={51:["FALSE",0],52:["TRUE",0],70:["LEN",1],80:["SUM",69],81:["AVERAGEA",69],82:["COUNTA",69],83:["MINA",69],84:["MAXA",69],111:["T",1]},j=["","","","","","","","","","+","-","*","/","^","=","<>","<=",">=","<",">","","","","","&","","","","","","",""];function T(R,F){is(R,0);for(var q=[],W=0,Q="",oe="",ue="",X="";R.l<R.length;){var ve=R[R.l++];switch(ve){case 0:q.push(R.read_shift(8,"f"));break;case 1:oe=N(F[0].c,R.read_shift(2),!0),Q=N(F[0].r,R.read_shift(2),!1),q.push(oe+Q);break;case 2:{var Te=N(F[0].c,R.read_shift(2),!0),Y=N(F[0].r,R.read_shift(2),!1);oe=N(F[0].c,R.read_shift(2),!0),Q=N(F[0].r,R.read_shift(2),!1),q.push(Te+Y+":"+oe+Q)}break;case 3:if(R.l<R.length){console.error("WK1 premature formula end");return}break;case 4:q.push("("+q.pop()+")");break;case 5:q.push(R.read_shift(2));break;case 6:{for(var We="";ve=R[R.l++];)We+=String.fromCharCode(ve);q.push('"'+We.replace(/"/g,'""')+'"')}break;case 8:q.push("-"+q.pop());break;case 23:q.push("+"+q.pop());break;case 22:q.push("NOT("+q.pop()+")");break;case 20:case 21:X=q.pop(),ue=q.pop(),q.push(["AND","OR"][ve-20]+"("+ue+","+X+")");break;default:if(ve<32&&j[ve])X=q.pop(),ue=q.pop(),q.push(ue+j[ve]+X);else if(E[ve]){if(W=E[ve][1],W==69&&(W=R[R.l++]),W>q.length){console.error("WK1 bad formula parse 0x"+ve.toString(16)+":|"+q.join("|")+"|");return}var Ee=q.slice(-W);q.length-=W,q.push(E[ve][0]+"("+Ee.join(",")+")")}else return ve<=7?console.error("WK1 invalid opcode "+ve.toString(16)):ve<=24?console.error("WK1 unsupported op "+ve.toString(16)):ve<=30?console.error("WK1 invalid opcode "+ve.toString(16)):ve<=115?console.error("WK1 unsupported function opcode "+ve.toString(16)):console.error("WK1 unrecognized opcode "+ve.toString(16))}}q.length==1?F[1].f=""+q[0]:console.error("WK1 bad formula parse |"+q.join("|")+"|")}function O(R){var F=[{c:0,r:0},{t:"n",v:0},0];return F[0].r=R.read_shift(2),F[3]=R[R.l++],F[0].c=R[R.l++],F}function P(R,F){var q=O(R);return q[1].t="s",q[1].v=R.read_shift(F-4,"cstr"),q}function D(R,F,q,W){var Q=tt(6+W.length);Q.write_shift(2,R),Q.write_shift(1,q),Q.write_shift(1,F),Q.write_shift(1,39);for(var oe=0;oe<W.length;++oe){var ue=W.charCodeAt(oe);Q.write_shift(1,ue>=128?95:ue)}return Q.write_shift(1,0),Q}function M(R,F){var q=O(R);q[1].v=R.read_shift(2);var W=q[1].v>>1;if(q[1].v&1)switch(W&7){case 0:W=(W>>3)*5e3;break;case 1:W=(W>>3)*500;break;case 2:W=(W>>3)/20;break;case 3:W=(W>>3)/200;break;case 4:W=(W>>3)/2e3;break;case 5:W=(W>>3)/2e4;break;case 6:W=(W>>3)/16;break;case 7:W=(W>>3)/64;break}return q[1].v=W,q}function B(R,F){var q=O(R),W=R.read_shift(4),Q=R.read_shift(4),oe=R.read_shift(2);if(oe==65535)return W===0&&Q===3221225472?(q[1].t="e",q[1].v=15):W===0&&Q===3489660928?(q[1].t="e",q[1].v=42):q[1].v=0,q;var ue=oe&32768;return oe=(oe&32767)-16446,q[1].v=(1-ue*2)*(Q*Math.pow(2,oe+32)+W*Math.pow(2,oe)),q}function H(R,F,q,W){var Q=tt(14);if(Q.write_shift(2,R),Q.write_shift(1,q),Q.write_shift(1,F),W==0)return Q.write_shift(4,0),Q.write_shift(4,0),Q.write_shift(2,65535),Q;var oe=0,ue=0,X=0,ve=0;return W<0&&(oe=1,W=-W),ue=Math.log2(W)|0,W/=Math.pow(2,ue-31),ve=W>>>0,(ve&2147483648)==0&&(W/=2,++ue,ve=W>>>0),W-=ve,ve|=2147483648,ve>>>=0,W*=Math.pow(2,32),X=W>>>0,Q.write_shift(4,X),Q.write_shift(4,ve),ue+=16383+(oe?32768:0),Q.write_shift(2,ue),Q}function L(R,F){var q=B(R);return R.l+=F-14,q}function U(R,F){var q=O(R),W=R.read_shift(4);return q[1].v=W>>6,q}function G(R,F){var q=O(R),W=R.read_shift(8,"f");return q[1].v=W,q}function te(R,F){var q=G(R);return R.l+=F-10,q}function de(R,F){return R[R.l+F-1]==0?R.read_shift(F,"cstr"):""}function ne(R,F){var q=R[R.l++];q>F-1&&(q=F-1);for(var W="";W.length<q;)W+=String.fromCharCode(R[R.l++]);return W}function Z(R,F,q){if(!(!q.qpro||F<21)){var W=R.read_shift(1);R.l+=17,R.l+=1,R.l+=2;var Q=R.read_shift(F-21,"cstr");return[W,Q]}}function xe(R,F){for(var q={},W=R.l+F;R.l<W;){var Q=R.read_shift(2);if(Q==14e3){for(q[Q]=[0,""],q[Q][0]=R.read_shift(2);R[R.l];)q[Q][1]+=String.fromCharCode(R[R.l]),R.l++;R.l++}}return q}function le(R,F){var q=tt(5+R.length);q.write_shift(2,14e3),q.write_shift(2,F);for(var W=0;W<R.length;++W){var Q=R.charCodeAt(W);q[q.l++]=Q>127?95:Q}return q[q.l++]=0,q}var Se={0:{n:"BOF",f:si},1:{n:"EOF"},2:{n:"CALCMODE"},3:{n:"CALCORDER"},4:{n:"SPLIT"},5:{n:"SYNC"},6:{n:"RANGE",f:o},7:{n:"WINDOW1"},8:{n:"COLW1"},9:{n:"WINTWO"},10:{n:"COLW2"},11:{n:"NAME"},12:{n:"BLANK"},13:{n:"INTEGER",f:g},14:{n:"NUMBER",f:b},15:{n:"LABEL",f:h},16:{n:"FORMULA",f:w},24:{n:"TABLE"},25:{n:"ORANGE"},26:{n:"PRANGE"},27:{n:"SRANGE"},28:{n:"FRANGE"},29:{n:"KRANGE1"},32:{n:"HRANGE"},35:{n:"KRANGE2"},36:{n:"PROTEC"},37:{n:"FOOTER"},38:{n:"HEADER"},39:{n:"SETUP"},40:{n:"MARGINS"},41:{n:"LABELFMT"},42:{n:"TITLES"},43:{n:"SHEETJS"},45:{n:"GRAPH"},46:{n:"NGRAPH"},47:{n:"CALCCOUNT"},48:{n:"UNFORMATTED"},49:{n:"CURSORW12"},50:{n:"WINDOW"},51:{n:"STRING",f:h},55:{n:"PASSWORD"},56:{n:"LOCKED"},60:{n:"QUERY"},61:{n:"QUERYNAME"},62:{n:"PRINT"},63:{n:"PRINTNAME"},64:{n:"GRAPH2"},65:{n:"GRAPHNAME"},66:{n:"ZOOM"},67:{n:"SYMSPLIT"},68:{n:"NSROWS"},69:{n:"NSCOLS"},70:{n:"RULER"},71:{n:"NNAME"},72:{n:"ACOMM"},73:{n:"AMACRO"},74:{n:"PARSE"},102:{n:"PRANGES??"},103:{n:"RRANGES??"},104:{n:"FNAME??"},105:{n:"MRANGES??"},204:{n:"SHEETNAMECS",f:de},222:{n:"SHEETNAMELP",f:ne},65535:{n:""}},re={0:{n:"BOF"},1:{n:"EOF"},2:{n:"PASSWORD"},3:{n:"CALCSET"},4:{n:"WINDOWSET"},5:{n:"SHEETCELLPTR"},6:{n:"SHEETLAYOUT"},7:{n:"COLUMNWIDTH"},8:{n:"HIDDENCOLUMN"},9:{n:"USERRANGE"},10:{n:"SYSTEMRANGE"},11:{n:"ZEROFORCE"},12:{n:"SORTKEYDIR"},13:{n:"FILESEAL"},14:{n:"DATAFILLNUMS"},15:{n:"PRINTMAIN"},16:{n:"PRINTSTRING"},17:{n:"GRAPHMAIN"},18:{n:"GRAPHSTRING"},19:{n:"??"},20:{n:"ERRCELL"},21:{n:"NACELL"},22:{n:"LABEL16",f:P},23:{n:"NUMBER17",f:B},24:{n:"NUMBER18",f:M},25:{n:"FORMULA19",f:L},26:{n:"FORMULA1A"},27:{n:"XFORMAT",f:xe},28:{n:"DTLABELMISC"},29:{n:"DTLABELCELL"},30:{n:"GRAPHWINDOW"},31:{n:"CPA"},32:{n:"LPLAUTO"},33:{n:"QUERY"},34:{n:"HIDDENSHEET"},35:{n:"??"},37:{n:"NUMBER25",f:U},38:{n:"??"},39:{n:"NUMBER27",f:G},40:{n:"FORMULA28",f:te},142:{n:"??"},147:{n:"??"},150:{n:"??"},151:{n:"??"},152:{n:"??"},153:{n:"??"},154:{n:"??"},155:{n:"??"},156:{n:"??"},163:{n:"??"},174:{n:"??"},175:{n:"??"},176:{n:"??"},177:{n:"??"},184:{n:"??"},185:{n:"??"},186:{n:"??"},187:{n:"??"},188:{n:"??"},195:{n:"??"},201:{n:"??"},204:{n:"SHEETNAMECS",f:de},205:{n:"??"},206:{n:"??"},207:{n:"??"},208:{n:"??"},256:{n:"??"},259:{n:"??"},260:{n:"??"},261:{n:"??"},262:{n:"??"},263:{n:"??"},265:{n:"??"},266:{n:"??"},267:{n:"??"},268:{n:"??"},270:{n:"??"},271:{n:"??"},384:{n:"??"},389:{n:"??"},390:{n:"??"},393:{n:"??"},396:{n:"??"},512:{n:"??"},514:{n:"??"},513:{n:"??"},516:{n:"??"},517:{n:"??"},640:{n:"??"},641:{n:"??"},642:{n:"??"},643:{n:"??"},644:{n:"??"},645:{n:"??"},646:{n:"??"},647:{n:"??"},648:{n:"??"},658:{n:"??"},659:{n:"??"},660:{n:"??"},661:{n:"??"},662:{n:"??"},665:{n:"??"},666:{n:"??"},768:{n:"??"},772:{n:"??"},1537:{n:"SHEETINFOQP",f:Z},1600:{n:"??"},1602:{n:"??"},1793:{n:"??"},1794:{n:"??"},1795:{n:"??"},1796:{n:"??"},1920:{n:"??"},2048:{n:"??"},2049:{n:"??"},2052:{n:"??"},2688:{n:"??"},10998:{n:"??"},12849:{n:"??"},28233:{n:"??"},28484:{n:"??"},65535:{n:""}};return{sheet_to_wk1:n,book_to_wk3:a,to_workbook:t}})();function lX(e){var t={},r=e.match(Ls),n=0,a=!1;if(r)for(;n!=r.length;++n){var i=hr(r[n]);switch(i[0].replace(/\w*:/g,"")){case"<condense":break;case"<extend":break;case"<shadow":if(!i.val)break;case"<shadow>":case"<shadow/>":t.shadow=1;break;case"</shadow>":break;case"<charset":if(i.val=="1")break;t.cp=W_[parseInt(i.val,10)];break;case"<outline":if(!i.val)break;case"<outline>":case"<outline/>":t.outline=1;break;case"</outline>":break;case"<rFont":t.name=i.val;break;case"<sz":t.sz=i.val;break;case"<strike":if(!i.val)break;case"<strike>":case"<strike/>":t.strike=1;break;case"</strike>":break;case"<u":if(!i.val)break;switch(i.val){case"double":t.uval="double";break;case"singleAccounting":t.uval="single-accounting";break;case"doubleAccounting":t.uval="double-accounting";break}case"<u>":case"<u/>":t.u=1;break;case"</u>":break;case"<b":if(i.val=="0")break;case"<b>":case"<b/>":t.b=1;break;case"</b>":break;case"<i":if(i.val=="0")break;case"<i>":case"<i/>":t.i=1;break;case"</i>":break;case"<color":i.rgb&&(t.color=i.rgb.slice(2,8));break;case"<color>":case"<color/>":case"</color>":break;case"<family":t.family=i.val;break;case"<family>":case"<family/>":case"</family>":break;case"<vertAlign":t.valign=i.val;break;case"<vertAlign>":case"<vertAlign/>":case"</vertAlign>":break;case"<scheme":break;case"<scheme>":case"<scheme/>":case"</scheme>":break;case"<extLst":case"<extLst>":case"</extLst>":break;case"<ext":a=!0;break;case"</ext>":a=!1;break;default:if(i[0].charCodeAt(1)!==47&&!a)throw new Error("Unrecognized rich format "+i[0])}}return t}var oX=(function(){var e=Xx("t"),t=Xx("rPr");function r(i){var l=i.match(e);if(!l)return{t:"s",v:""};var o={t:"s",v:Zr(l[1])},u=i.match(t);return u&&(o.s=lX(u[1])),o}var n=/<(?:\w+:)?r>/g,a=/<\/(?:\w+:)?r>/;return function(l){return l.replace(n,"").split(a).map(r).filter(function(o){return o.v})}})(),cX=(function(){var t=/(\r\n|\n)/g;function r(a,i,l){var o=[];a.u&&o.push("text-decoration: underline;"),a.uval&&o.push("text-underline-style:"+a.uval+";"),a.sz&&o.push("font-size:"+a.sz+"pt;"),a.outline&&o.push("text-effect: outline;"),a.shadow&&o.push("text-shadow: auto;"),i.push('<span style="'+o.join("")+'">'),a.b&&(i.push("<b>"),l.push("</b>")),a.i&&(i.push("<i>"),l.push("</i>")),a.strike&&(i.push("<s>"),l.push("</s>"));var u=a.valign||"";return u=="superscript"||u=="super"?u="sup":u=="subscript"&&(u="sub"),u!=""&&(i.push("<"+u+">"),l.push("</"+u+">")),l.push("</span>"),a}function n(a){var i=[[],a.v,[]];return a.v?(a.s&&r(a.s,i[0],i[2]),i[0].join("")+i[1].replace(t,"<br/>")+i[2].join("")):""}return function(i){return i.map(n).join("")}})(),uX=/<(?:\w+:)?t[^>]*>([^<]*)<\/(?:\w+:)?t>/g,fX=/<(?:\w+:)?r>/,dX=/<(?:\w+:)?rPh.*?>([\s\S]*?)<\/(?:\w+:)?rPh>/g;function x3(e,t){var r=t?t.cellHTML:!0,n={};return e?(e.match(/^\s*<(?:\w+:)?t[^>]*>/)?(n.t=Zr(Dn(e.slice(e.indexOf(">")+1).split(/<\/(?:\w+:)?t>/)[0]||"")),n.r=Dn(e),r&&(n.h=r3(n.t))):e.match(fX)&&(n.r=Dn(e),n.t=Zr(Dn((e.replace(dX,"").match(uX)||[]).join("").replace(Ls,""))),r&&(n.h=cX(oX(n.r)))),n):{t:""}}var hX=/<(?:\w+:)?sst([^>]*)>([\s\S]*)<\/(?:\w+:)?sst>/,mX=/<(?:\w+:)?(?:si|sstItem)>/g,pX=/<\/(?:\w+:)?(?:si|sstItem)>/;function xX(e,t){var r=[],n="";if(!e)return r;var a=e.match(hX);if(a){n=a[2].replace(mX,"").split(pX);for(var i=0;i!=n.length;++i){var l=x3(n[i].trim(),t);l!=null&&(r[r.length]=l)}a=hr(a[1]),r.Count=a.count,r.Unique=a.uniqueCount}return r}var gX=/^\s|\s$|[\t\n\r]/;function bP(e,t){if(!t.bookSST)return"";var r=[Za];r[r.length]=wt("sst",null,{xmlns:fh[0],count:e.Count,uniqueCount:e.Unique});for(var n=0;n!=e.length;++n)if(e[n]!=null){var a=e[n],i="<si>";a.r?i+=a.r:(i+="<t",a.t||(a.t=""),a.t.match(gX)&&(i+=' xml:space="preserve"'),i+=">"+_n(a.t)+"</t>"),i+="</si>",r[r.length]=i}return r.length>2&&(r[r.length]="</sst>",r[1]=r[1].replace("/>",">")),r.join("")}function vX(e){return[e.read_shift(4),e.read_shift(4)]}function yX(e,t){var r=[],n=!1;return Sf(e,function(i,l,o){switch(o){case 159:r.Count=i[0],r.Unique=i[1];break;case 19:r.push(i);break;case 160:return!0;case 35:n=!0;break;case 36:n=!1;break;default:if(l.T,!n||t.WTF)throw new Error("Unexpected record 0x"+o.toString(16))}}),r}function bX(e,t){return t||(t=tt(8)),t.write_shift(4,e.Count),t.write_shift(4,e.Unique),t}var wX=OK;function NX(e){var t=kl();ut(t,159,bX(e));for(var r=0;r<e.length;++r)ut(t,19,wX(e[r]));return ut(t,160),t.end()}function wP(e){for(var t=[],r=e.split(""),n=0;n<r.length;++n)t[n]=r[n].charCodeAt(0);return t}function cf(e,t){var r={};return r.Major=e.read_shift(2),r.Minor=e.read_shift(2),t>=4&&(e.l+=t-4),r}function _X(e){var t={};return t.id=e.read_shift(0,"lpp4"),t.R=cf(e,4),t.U=cf(e,4),t.W=cf(e,4),t}function jX(e){for(var t=e.read_shift(4),r=e.l+t-4,n={},a=e.read_shift(4),i=[];a-- >0;)i.push({t:e.read_shift(4),v:e.read_shift(0,"lpp4")});if(n.name=e.read_shift(0,"lpp4"),n.comps=i,e.l!=r)throw new Error("Bad DataSpaceMapEntry: "+e.l+" != "+r);return n}function SX(e){var t=[];e.l+=4;for(var r=e.read_shift(4);r-- >0;)t.push(jX(e));return t}function AX(e){var t=[];e.l+=4;for(var r=e.read_shift(4);r-- >0;)t.push(e.read_shift(0,"lpp4"));return t}function EX(e){var t={};return e.read_shift(4),e.l+=4,t.id=e.read_shift(0,"lpp4"),t.name=e.read_shift(0,"lpp4"),t.R=cf(e,4),t.U=cf(e,4),t.W=cf(e,4),t}function kX(e){var t=EX(e);if(t.ename=e.read_shift(0,"8lpp4"),t.blksz=e.read_shift(4),t.cmode=e.read_shift(4),e.read_shift(4)!=4)throw new Error("Bad !Primary record");return t}function NP(e,t){var r=e.l+t,n={};n.Flags=e.read_shift(4)&63,e.l+=4,n.AlgID=e.read_shift(4);var a=!1;switch(n.AlgID){case 26126:case 26127:case 26128:a=n.Flags==36;break;case 26625:a=n.Flags==4;break;case 0:a=n.Flags==16||n.Flags==4||n.Flags==36;break;default:throw"Unrecognized encryption algorithm: "+n.AlgID}if(!a)throw new Error("Encryption Flags/AlgID mismatch");return n.AlgIDHash=e.read_shift(4),n.KeySize=e.read_shift(4),n.ProviderType=e.read_shift(4),e.l+=8,n.CSPName=e.read_shift(r-e.l>>1,"utf16le"),e.l=r,n}function _P(e,t){var r={},n=e.l+t;return e.l+=4,r.Salt=e.slice(e.l,e.l+16),e.l+=16,r.Verifier=e.slice(e.l,e.l+16),e.l+=16,e.read_shift(4),r.VerifierHash=e.slice(e.l,n),e.l=n,r}function CX(e){var t=cf(e);switch(t.Minor){case 2:return[t.Minor,TX(e)];case 3:return[t.Minor,OX()];case 4:return[t.Minor,DX(e)]}throw new Error("ECMA-376 Encrypted file unrecognized Version: "+t.Minor)}function TX(e){var t=e.read_shift(4);if((t&63)!=36)throw new Error("EncryptionInfo mismatch");var r=e.read_shift(4),n=NP(e,r),a=_P(e,e.length-e.l);return{t:"Std",h:n,v:a}}function OX(){throw new Error("File is password-protected: ECMA-376 Extensible")}function DX(e){var t=["saltSize","blockSize","keyBits","hashSize","cipherAlgorithm","cipherChaining","hashAlgorithm","saltValue"];e.l+=4;var r=e.read_shift(e.length-e.l,"utf8"),n={};return r.replace(Ls,function(i){var l=hr(i);switch(xu(l[0])){case"<?xml":break;case"<encryption":case"</encryption>":break;case"<keyData":t.forEach(function(o){n[o]=l[o]});break;case"<dataIntegrity":n.encryptedHmacKey=l.encryptedHmacKey,n.encryptedHmacValue=l.encryptedHmacValue;break;case"<keyEncryptors>":case"<keyEncryptors":n.encs=[];break;case"</keyEncryptors>":break;case"<keyEncryptor":n.uri=l.uri;break;case"</keyEncryptor>":break;case"<encryptedKey":n.encs.push(l);break;default:throw l[0]}}),n}function FX(e,t){var r={},n=r.EncryptionVersionInfo=cf(e,4);if(t-=4,n.Minor!=2)throw new Error("unrecognized minor version code: "+n.Minor);if(n.Major>4||n.Major<2)throw new Error("unrecognized major version code: "+n.Major);r.Flags=e.read_shift(4),t-=4;var a=e.read_shift(4);return t-=4,r.EncryptionHeader=NP(e,a),t-=a,r.EncryptionVerifier=_P(e,t),r}function PX(e){var t={},r=t.EncryptionVersionInfo=cf(e,4);if(r.Major!=1||r.Minor!=1)throw"unrecognized version code "+r.Major+" : "+r.Minor;return t.Salt=e.read_shift(16),t.EncryptedVerifier=e.read_shift(16),t.EncryptedVerifierHash=e.read_shift(16),t}function g3(e){var t=0,r,n=wP(e),a=n.length+1,i,l,o,u,f;for(r=Ed(a),r[0]=n.length,i=1;i!=a;++i)r[i]=n[i-1];for(i=a-1;i>=0;--i)l=r[i],o=(t&16384)===0?0:1,u=t<<1&32767,f=o|u,t=f^l;return t^52811}var jP=(function(){var e=[187,255,255,186,255,255,185,128,0,190,15,0,191,15,0],t=[57840,7439,52380,33984,4364,3600,61902,12606,6258,57657,54287,34041,10252,43370,20163],r=[44796,19929,39858,10053,20106,40212,10761,31585,63170,64933,60267,50935,40399,11199,17763,35526,1453,2906,5812,11624,23248,885,1770,3540,7080,14160,28320,56640,55369,41139,20807,41614,21821,43642,17621,28485,56970,44341,19019,38038,14605,29210,60195,50791,40175,10751,21502,43004,24537,18387,36774,3949,7898,15796,31592,63184,47201,24803,49606,37805,14203,28406,56812,17824,35648,1697,3394,6788,13576,27152,43601,17539,35078,557,1114,2228,4456,30388,60776,51953,34243,7079,14158,28316,14128,28256,56512,43425,17251,34502,7597,13105,26210,52420,35241,883,1766,3532,4129,8258,16516,33032,4657,9314,18628],n=function(l){return(l/2|l*128)&255},a=function(l,o){return n(l^o)},i=function(l){for(var o=t[l.length-1],u=104,f=l.length-1;f>=0;--f)for(var h=l[f],m=0;m!=7;++m)h&64&&(o^=r[u]),h*=2,--u;return o};return function(l){for(var o=wP(l),u=i(o),f=o.length,h=Ed(16),m=0;m!=16;++m)h[m]=0;var g,x,b;for((f&1)===1&&(g=u>>8,h[f]=a(e[0],g),--f,g=u&255,x=o[o.length-1],h[f]=a(x,g));f>0;)--f,g=u>>8,h[f]=a(o[f],g),--f,g=u&255,h[f]=a(o[f],g);for(f=15,b=15-o.length;b>0;)g=u>>8,h[f]=a(e[b],g),--f,--b,g=u&255,h[f]=a(o[f],g),--f,--b;return h}})(),LX=function(e,t,r,n,a){a||(a=t),n||(n=jP(e));var i,l;for(i=0;i!=t.length;++i)l=t[i],l^=n[r],l=(l>>5|l<<3)&255,a[i]=l,++r;return[a,r,n]},MX=function(e){var t=0,r=jP(e);return function(n){var a=LX("",n,t,r);return t=a[1],a[0]}};function RX(e,t,r,n){var a={key:si(e),verificationBytes:si(e)};return r.password&&(a.verifier=g3(r.password)),n.valid=a.verificationBytes===a.verifier,n.valid&&(n.insitu=MX(r.password)),a}function IX(e,t,r){var n=r||{};return n.Info=e.read_shift(2),e.l-=2,n.Info===1?n.Data=PX(e):n.Data=FX(e,t),n}function BX(e,t,r){var n={Type:r.biff>=8?e.read_shift(2):0};return n.Type?IX(e,t-2,n):RX(e,r.biff>=8?t:t-2,r,n),n}var SP=(function(){function e(a,i){switch(i.type){case"base64":return t(no(a),i);case"binary":return t(a,i);case"buffer":return t(Tr&&Buffer.isBuffer(a)?a.toString("binary"):Id(a),i);case"array":return t(G0(a),i)}throw new Error("Unrecognized type "+i.type)}function t(a,i){var l=i||{},o=l.dense?[]:{},u=a.match(/\\trowd.*?\\row\b/g);if(!u.length)throw new Error("RTF missing table");var f={s:{c:0,r:0},e:{c:0,r:u.length-1}};return u.forEach(function(h,m){Array.isArray(o)&&(o[m]=[]);for(var g=/\\\w+\b/g,x=0,b,v=-1;b=g.exec(h);){switch(b[0]){case"\\cell":var w=h.slice(x,g.lastIndex-b[0].length);if(w[0]==" "&&(w=w.slice(1)),++v,w.length){var N={v:w,t:"s"};Array.isArray(o)?o[m][v]=N:o[fr({r:m,c:v})]=N}break}x=g.lastIndex}v>f.e.c&&(f.e.c=v)}),o["!ref"]=Nr(f),o}function r(a,i){return Bd(e(a,i),i)}function n(a){for(var i=["{\\rtf1\\ansi"],l=tn(a["!ref"]),o,u=Array.isArray(a),f=l.s.r;f<=l.e.r;++f){i.push("\\trowd\\trautofit1");for(var h=l.s.c;h<=l.e.c;++h)i.push("\\cellx"+(h+1));for(i.push("\\pard\\intbl"),h=l.s.c;h<=l.e.c;++h){var m=fr({r:f,c:h});o=u?(a[f]||[])[h]:a[m],!(!o||o.v==null&&(!o.f||o.F))&&(i.push(" "+(o.w||(xf(o),o.w))),i.push("\\cell"))}i.push("\\pard\\intbl\\row")}return i.join("")+"}"}return{to_workbook:r,to_sheet:e,from_sheet:n}})();function UX(e){var t=e.slice(e[0]==="#"?1:0).slice(0,6);return[parseInt(t.slice(0,2),16),parseInt(t.slice(2,4),16),parseInt(t.slice(4,6),16)]}function eg(e){for(var t=0,r=1;t!=3;++t)r=r*256+(e[t]>255?255:e[t]<0?0:e[t]);return r.toString(16).toUpperCase().slice(1)}function zX(e){var t=e[0]/255,r=e[1]/255,n=e[2]/255,a=Math.max(t,r,n),i=Math.min(t,r,n),l=a-i;if(l===0)return[0,0,t];var o=0,u=0,f=a+i;switch(u=l/(f>1?2-f:f),a){case t:o=((r-n)/l+6)%6;break;case r:o=(n-t)/l+2;break;case n:o=(t-r)/l+4;break}return[o/6,u,f/2]}function qX(e){var t=e[0],r=e[1],n=e[2],a=r*2*(n<.5?n:1-n),i=n-a/2,l=[i,i,i],o=6*t,u;if(r!==0)switch(o|0){case 0:case 6:u=a*o,l[0]+=a,l[1]+=u;break;case 1:u=a*(2-o),l[0]+=u,l[1]+=a;break;case 2:u=a*(o-2),l[1]+=a,l[2]+=u;break;case 3:u=a*(4-o),l[1]+=u,l[2]+=a;break;case 4:u=a*(o-4),l[2]+=a,l[0]+=u;break;case 5:u=a*(6-o),l[2]+=u,l[0]+=a;break}for(var f=0;f!=3;++f)l[f]=Math.round(l[f]*255);return l}function uy(e,t){if(t===0)return e;var r=zX(UX(e));return t<0?r[2]=r[2]*(1+t):r[2]=1-(1-r[2])*(1-t),eg(qX(r))}var AP=6,$X=15,HX=1,_s=AP;function tg(e){return Math.floor((e+Math.round(128/_s)/256)*_s)}function rg(e){return Math.floor((e-5)/_s*100+.5)/100}function fy(e){return Math.round((e*_s+5)/_s*256)/256}function Fw(e){return fy(rg(tg(e)))}function v3(e){var t=Math.abs(e-Fw(e)),r=_s;if(t>.005)for(_s=HX;_s<$X;++_s)Math.abs(e-Fw(e))<=t&&(t=Math.abs(e-Fw(e)),r=_s);_s=r}function kd(e){e.width?(e.wpx=tg(e.width),e.wch=rg(e.wpx),e.MDW=_s):e.wpx?(e.wch=rg(e.wpx),e.width=fy(e.wch),e.MDW=_s):typeof e.wch=="number"&&(e.width=fy(e.wch),e.wpx=tg(e.width),e.MDW=_s),e.customWidth&&delete e.customWidth}var VX=96,EP=VX;function ng(e){return e*96/EP}function Hm(e){return e*EP/96}var WX={None:"none",Solid:"solid",Gray50:"mediumGray",Gray75:"darkGray",Gray25:"lightGray",HorzStripe:"darkHorizontal",VertStripe:"darkVertical",ReverseDiagStripe:"darkDown",DiagStripe:"darkUp",DiagCross:"darkGrid",ThickDiagCross:"darkTrellis",ThinHorzStripe:"lightHorizontal",ThinVertStripe:"lightVertical",ThinReverseDiagStripe:"lightDown",ThinHorzCross:"lightGrid"};function KX(e,t,r,n){t.Borders=[];var a={},i=!1;(e[0].match(Ls)||[]).forEach(function(l){var o=hr(l);switch(xu(o[0])){case"<borders":case"<borders>":case"</borders>":break;case"<border":case"<border>":case"<border/>":a={},o.diagonalUp&&(a.diagonalUp=Qn(o.diagonalUp)),o.diagonalDown&&(a.diagonalDown=Qn(o.diagonalDown)),t.Borders.push(a);break;case"</border>":break;case"<left/>":break;case"<left":case"<left>":break;case"</left>":break;case"<right/>":break;case"<right":case"<right>":break;case"</right>":break;case"<top/>":break;case"<top":case"<top>":break;case"</top>":break;case"<bottom/>":break;case"<bottom":case"<bottom>":break;case"</bottom>":break;case"<diagonal":case"<diagonal>":case"<diagonal/>":break;case"</diagonal>":break;case"<horizontal":case"<horizontal>":case"<horizontal/>":break;case"</horizontal>":break;case"<vertical":case"<vertical>":case"<vertical/>":break;case"</vertical>":break;case"<start":case"<start>":case"<start/>":break;case"</start>":break;case"<end":case"<end>":case"<end/>":break;case"</end>":break;case"<color":case"<color>":break;case"<color/>":case"</color>":break;case"<extLst":case"<extLst>":case"</extLst>":break;case"<ext":i=!0;break;case"</ext>":i=!1;break;default:if(n&&n.WTF&&!i)throw new Error("unrecognized "+o[0]+" in borders")}})}function GX(e,t,r,n){t.Fills=[];var a={},i=!1;(e[0].match(Ls)||[]).forEach(function(l){var o=hr(l);switch(xu(o[0])){case"<fills":case"<fills>":case"</fills>":break;case"<fill>":case"<fill":case"<fill/>":a={},t.Fills.push(a);break;case"</fill>":break;case"<gradientFill>":break;case"<gradientFill":case"</gradientFill>":t.Fills.push(a),a={};break;case"<patternFill":case"<patternFill>":o.patternType&&(a.patternType=o.patternType);break;case"<patternFill/>":case"</patternFill>":break;case"<bgColor":a.bgColor||(a.bgColor={}),o.indexed&&(a.bgColor.indexed=parseInt(o.indexed,10)),o.theme&&(a.bgColor.theme=parseInt(o.theme,10)),o.tint&&(a.bgColor.tint=parseFloat(o.tint)),o.rgb&&(a.bgColor.rgb=o.rgb.slice(-6));break;case"<bgColor/>":case"</bgColor>":break;case"<fgColor":a.fgColor||(a.fgColor={}),o.theme&&(a.fgColor.theme=parseInt(o.theme,10)),o.tint&&(a.fgColor.tint=parseFloat(o.tint)),o.rgb!=null&&(a.fgColor.rgb=o.rgb.slice(-6));break;case"<fgColor/>":case"</fgColor>":break;case"<stop":case"<stop/>":break;case"</stop>":break;case"<color":case"<color/>":break;case"</color>":break;case"<extLst":case"<extLst>":case"</extLst>":break;case"<ext":i=!0;break;case"</ext>":i=!1;break;default:if(n&&n.WTF&&!i)throw new Error("unrecognized "+o[0]+" in fills")}})}function YX(e,t,r,n){t.Fonts=[];var a={},i=!1;(e[0].match(Ls)||[]).forEach(function(l){var o=hr(l);switch(xu(o[0])){case"<fonts":case"<fonts>":case"</fonts>":break;case"<font":case"<font>":break;case"</font>":case"<font/>":t.Fonts.push(a),a={};break;case"<name":o.val&&(a.name=Dn(o.val));break;case"<name/>":case"</name>":break;case"<b":a.bold=o.val?Qn(o.val):1;break;case"<b/>":a.bold=1;break;case"<i":a.italic=o.val?Qn(o.val):1;break;case"<i/>":a.italic=1;break;case"<u":switch(o.val){case"none":a.underline=0;break;case"single":a.underline=1;break;case"double":a.underline=2;break;case"singleAccounting":a.underline=33;break;case"doubleAccounting":a.underline=34;break}break;case"<u/>":a.underline=1;break;case"<strike":a.strike=o.val?Qn(o.val):1;break;case"<strike/>":a.strike=1;break;case"<outline":a.outline=o.val?Qn(o.val):1;break;case"<outline/>":a.outline=1;break;case"<shadow":a.shadow=o.val?Qn(o.val):1;break;case"<shadow/>":a.shadow=1;break;case"<condense":a.condense=o.val?Qn(o.val):1;break;case"<condense/>":a.condense=1;break;case"<extend":a.extend=o.val?Qn(o.val):1;break;case"<extend/>":a.extend=1;break;case"<sz":o.val&&(a.sz=+o.val);break;case"<sz/>":case"</sz>":break;case"<vertAlign":o.val&&(a.vertAlign=o.val);break;case"<vertAlign/>":case"</vertAlign>":break;case"<family":o.val&&(a.family=parseInt(o.val,10));break;case"<family/>":case"</family>":break;case"<scheme":o.val&&(a.scheme=o.val);break;case"<scheme/>":case"</scheme>":break;case"<charset":if(o.val=="1")break;o.codepage=W_[parseInt(o.val,10)];break;case"<color":if(a.color||(a.color={}),o.auto&&(a.color.auto=Qn(o.auto)),o.rgb)a.color.rgb=o.rgb.slice(-6);else if(o.indexed){a.color.index=parseInt(o.indexed,10);var u=F0[a.color.index];a.color.index==81&&(u=F0[1]),u||(u=F0[1]),a.color.rgb=u[0].toString(16)+u[1].toString(16)+u[2].toString(16)}else o.theme&&(a.color.theme=parseInt(o.theme,10),o.tint&&(a.color.tint=parseFloat(o.tint)),o.theme&&r.themeElements&&r.themeElements.clrScheme&&(a.color.rgb=uy(r.themeElements.clrScheme[a.color.theme].rgb,a.color.tint||0)));break;case"<color/>":case"</color>":break;case"<AlternateContent":i=!0;break;case"</AlternateContent>":i=!1;break;case"<extLst":case"<extLst>":case"</extLst>":break;case"<ext":i=!0;break;case"</ext>":i=!1;break;default:if(n&&n.WTF&&!i)throw new Error("unrecognized "+o[0]+" in fonts")}})}function XX(e,t,r){t.NumberFmt=[];for(var n=Ba(ur),a=0;a<n.length;++a)t.NumberFmt[n[a]]=ur[n[a]];var i=e[0].match(Ls);if(i)for(a=0;a<i.length;++a){var l=hr(i[a]);switch(xu(l[0])){case"<numFmts":case"</numFmts>":case"<numFmts/>":case"<numFmts>":break;case"<numFmt":{var o=Zr(Dn(l.formatCode)),u=parseInt(l.numFmtId,10);if(t.NumberFmt[u]=o,u>0){if(u>392){for(u=392;u>60&&t.NumberFmt[u]!=null;--u);t.NumberFmt[u]=o}of(o,u)}}break;case"</numFmt>":break;default:if(r.WTF)throw new Error("unrecognized "+l[0]+" in numFmts")}}}function QX(e){var t=["<numFmts>"];return[[5,8],[23,26],[41,44],[50,392]].forEach(function(r){for(var n=r[0];n<=r[1];++n)e[n]!=null&&(t[t.length]=wt("numFmt",null,{numFmtId:n,formatCode:_n(e[n])}))}),t.length===1?"":(t[t.length]="</numFmts>",t[0]=wt("numFmts",null,{count:t.length-2}).replace("/>",">"),t.join(""))}var av=["numFmtId","fillId","fontId","borderId","xfId"],iv=["applyAlignment","applyBorder","applyFill","applyFont","applyNumberFormat","applyProtection","pivotButton","quotePrefix"];function ZX(e,t,r){t.CellXf=[];var n,a=!1;(e[0].match(Ls)||[]).forEach(function(i){var l=hr(i),o=0;switch(xu(l[0])){case"<cellXfs":case"<cellXfs>":case"<cellXfs/>":case"</cellXfs>":break;case"<xf":case"<xf/>":for(n=l,delete n[0],o=0;o<av.length;++o)n[av[o]]&&(n[av[o]]=parseInt(n[av[o]],10));for(o=0;o<iv.length;++o)n[iv[o]]&&(n[iv[o]]=Qn(n[iv[o]]));if(t.NumberFmt&&n.numFmtId>392){for(o=392;o>60;--o)if(t.NumberFmt[n.numFmtId]==t.NumberFmt[o]){n.numFmtId=o;break}}t.CellXf.push(n);break;case"</xf>":break;case"<alignment":case"<alignment/>":var u={};l.vertical&&(u.vertical=l.vertical),l.horizontal&&(u.horizontal=l.horizontal),l.textRotation!=null&&(u.textRotation=l.textRotation),l.indent&&(u.indent=l.indent),l.wrapText&&(u.wrapText=Qn(l.wrapText)),n.alignment=u;break;case"</alignment>":break;case"<protection":break;case"</protection>":case"<protection/>":break;case"<AlternateContent":a=!0;break;case"</AlternateContent>":a=!1;break;case"<extLst":case"<extLst>":case"</extLst>":break;case"<ext":a=!0;break;case"</ext>":a=!1;break;default:if(r&&r.WTF&&!a)throw new Error("unrecognized "+l[0]+" in cellXfs")}})}function JX(e){var t=[];return t[t.length]=wt("cellXfs",null),e.forEach(function(r){t[t.length]=wt("xf",null,r)}),t[t.length]="</cellXfs>",t.length===2?"":(t[0]=wt("cellXfs",null,{count:t.length-2}).replace("/>",">"),t.join(""))}var eQ=(function(){var t=/<(?:\w+:)?numFmts([^>]*)>[\S\s]*?<\/(?:\w+:)?numFmts>/,r=/<(?:\w+:)?cellXfs([^>]*)>[\S\s]*?<\/(?:\w+:)?cellXfs>/,n=/<(?:\w+:)?fills([^>]*)>[\S\s]*?<\/(?:\w+:)?fills>/,a=/<(?:\w+:)?fonts([^>]*)>[\S\s]*?<\/(?:\w+:)?fonts>/,i=/<(?:\w+:)?borders([^>]*)>[\S\s]*?<\/(?:\w+:)?borders>/;return function(o,u,f){var h={};if(!o)return h;o=o.replace(/<!--([\s\S]*?)-->/mg,"").replace(/<!DOCTYPE[^\[]*\[[^\]]*\]>/gm,"");var m;return(m=o.match(t))&&XX(m,h,f),(m=o.match(a))&&YX(m,h,u,f),(m=o.match(n))&&GX(m,h,u,f),(m=o.match(i))&&KX(m,h,u,f),(m=o.match(r))&&ZX(m,h,f),h}})();function kP(e,t){var r=[Za,wt("styleSheet",null,{xmlns:fh[0],"xmlns:vt":ji.vt})],n;return e.SSF&&(n=QX(e.SSF))!=null&&(r[r.length]=n),r[r.length]='<fonts count="1"><font><sz val="12"/><color theme="1"/><name val="Calibri"/><family val="2"/><scheme val="minor"/></font></fonts>',r[r.length]='<fills count="2"><fill><patternFill patternType="none"/></fill><fill><patternFill patternType="gray125"/></fill></fills>',r[r.length]='<borders count="1"><border><left/><right/><top/><bottom/><diagonal/></border></borders>',r[r.length]='<cellStyleXfs count="1"><xf numFmtId="0" fontId="0" fillId="0" borderId="0"/></cellStyleXfs>',(n=JX(t.cellXfs))&&(r[r.length]=n),r[r.length]='<cellStyles count="1"><cellStyle name="Normal" xfId="0" builtinId="0"/></cellStyles>',r[r.length]='<dxfs count="0"/>',r[r.length]='<tableStyles count="0" defaultTableStyle="TableStyleMedium9" defaultPivotStyle="PivotStyleMedium4"/>',r.length>2&&(r[r.length]="</styleSheet>",r[1]=r[1].replace("/>",">")),r.join("")}function tQ(e,t){var r=e.read_shift(2),n=Ts(e);return[r,n]}function rQ(e,t,r){r||(r=tt(6+4*t.length)),r.write_shift(2,e),qi(t,r);var n=r.length>r.l?r.slice(0,r.l):r;return r.l==null&&(r.l=r.length),n}function nQ(e,t,r){var n={};n.sz=e.read_shift(2)/20;var a=IK(e);a.fItalic&&(n.italic=1),a.fCondense&&(n.condense=1),a.fExtend&&(n.extend=1),a.fShadow&&(n.shadow=1),a.fOutline&&(n.outline=1),a.fStrikeout&&(n.strike=1);var i=e.read_shift(2);switch(i===700&&(n.bold=1),e.read_shift(2)){case 1:n.vertAlign="superscript";break;case 2:n.vertAlign="subscript";break}var l=e.read_shift(1);l!=0&&(n.underline=l);var o=e.read_shift(1);o>0&&(n.family=o);var u=e.read_shift(1);switch(u>0&&(n.charset=u),e.l++,n.color=RK(e),e.read_shift(1)){case 1:n.scheme="major";break;case 2:n.scheme="minor";break}return n.name=Ts(e),n}function aQ(e,t){t||(t=tt(153)),t.write_shift(2,e.sz*20),BK(e,t),t.write_shift(2,e.bold?700:400);var r=0;e.vertAlign=="superscript"?r=1:e.vertAlign=="subscript"&&(r=2),t.write_shift(2,r),t.write_shift(1,e.underline||0),t.write_shift(1,e.family||0),t.write_shift(1,e.charset||0),t.write_shift(1,0),ly(e.color,t);var n=0;return n=2,t.write_shift(1,n),qi(e.name,t),t.length>t.l?t.slice(0,t.l):t}var iQ=["none","solid","mediumGray","darkGray","lightGray","darkHorizontal","darkVertical","darkDown","darkUp","darkGrid","darkTrellis","lightHorizontal","lightVertical","lightDown","lightUp","lightGrid","lightTrellis","gray125","gray0625"],Pw,sQ=Fs;function Ak(e,t){t||(t=tt(84)),Pw||(Pw=f2(iQ));var r=Pw[e.patternType];r==null&&(r=40),t.write_shift(4,r);var n=0;if(r!=40)for(ly({auto:1},t),ly({auto:1},t);n<12;++n)t.write_shift(4,0);else{for(;n<4;++n)t.write_shift(4,0);for(;n<12;++n)t.write_shift(4,0)}return t.length>t.l?t.slice(0,t.l):t}function lQ(e,t){var r=e.l+t,n=e.read_shift(2),a=e.read_shift(2);return e.l=r,{ixfe:n,numFmtId:a}}function CP(e,t,r){r||(r=tt(16)),r.write_shift(2,t||0),r.write_shift(2,e.numFmtId||0),r.write_shift(2,0),r.write_shift(2,0),r.write_shift(2,0),r.write_shift(1,0),r.write_shift(1,0);var n=0;return r.write_shift(1,n),r.write_shift(1,0),r.write_shift(1,0),r.write_shift(1,0),r}function sx(e,t){return t||(t=tt(10)),t.write_shift(1,0),t.write_shift(1,0),t.write_shift(4,0),t.write_shift(4,0),t}var oQ=Fs;function cQ(e,t){return t||(t=tt(51)),t.write_shift(1,0),sx(null,t),sx(null,t),sx(null,t),sx(null,t),sx(null,t),t.length>t.l?t.slice(0,t.l):t}function uQ(e,t){return t||(t=tt(52)),t.write_shift(4,e.xfId),t.write_shift(2,1),t.write_shift(1,0),t.write_shift(1,0),sy(e.name||"",t),t.length>t.l?t.slice(0,t.l):t}function fQ(e,t,r){var n=tt(2052);return n.write_shift(4,e),sy(t,n),sy(r,n),n.length>n.l?n.slice(0,n.l):n}function dQ(e,t,r){var n={};n.NumberFmt=[];for(var a in ur)n.NumberFmt[a]=ur[a];n.CellXf=[],n.Fonts=[];var i=[],l=!1;return Sf(e,function(u,f,h){switch(h){case 44:n.NumberFmt[u[0]]=u[1],of(u[1],u[0]);break;case 43:n.Fonts.push(u),u.color.theme!=null&&t&&t.themeElements&&t.themeElements.clrScheme&&(u.color.rgb=uy(t.themeElements.clrScheme[u.color.theme].rgb,u.color.tint||0));break;case 1025:break;case 45:break;case 46:break;case 47:i[i.length-1]==617&&n.CellXf.push(u);break;case 48:case 507:case 572:case 475:break;case 1171:case 2102:case 1130:case 512:case 2095:case 3072:break;case 35:l=!0;break;case 36:l=!1;break;case 37:i.push(h),l=!0;break;case 38:i.pop(),l=!1;break;default:if(f.T>0)i.push(h);else if(f.T<0)i.pop();else if(!l||r.WTF&&i[i.length-1]!=37)throw new Error("Unexpected record 0x"+h.toString(16))}}),n}function hQ(e,t){if(t){var r=0;[[5,8],[23,26],[41,44],[50,392]].forEach(function(n){for(var a=n[0];a<=n[1];++a)t[a]!=null&&++r}),r!=0&&(ut(e,615,Ec(r)),[[5,8],[23,26],[41,44],[50,392]].forEach(function(n){for(var a=n[0];a<=n[1];++a)t[a]!=null&&ut(e,44,rQ(a,t[a]))}),ut(e,616))}}function mQ(e){var t=1;ut(e,611,Ec(t)),ut(e,43,aQ({sz:12,color:{theme:1},name:"Calibri",family:2})),ut(e,612)}function pQ(e){var t=2;ut(e,603,Ec(t)),ut(e,45,Ak({patternType:"none"})),ut(e,45,Ak({patternType:"gray125"})),ut(e,604)}function xQ(e){var t=1;ut(e,613,Ec(t)),ut(e,46,cQ()),ut(e,614)}function gQ(e){var t=1;ut(e,626,Ec(t)),ut(e,47,CP({numFmtId:0},65535)),ut(e,627)}function vQ(e,t){ut(e,617,Ec(t.length)),t.forEach(function(r){ut(e,47,CP(r,0))}),ut(e,618)}function yQ(e){var t=1;ut(e,619,Ec(t)),ut(e,48,uQ({xfId:0,name:"Normal"})),ut(e,620)}function bQ(e){var t=0;ut(e,505,Ec(t)),ut(e,506)}function wQ(e){var t=0;ut(e,508,fQ(t,"TableStyleMedium9","PivotStyleMedium4")),ut(e,509)}function NQ(e,t){var r=kl();return ut(r,278),hQ(r,e.SSF),mQ(r),pQ(r),xQ(r),gQ(r),vQ(r,t.cellXfs),yQ(r),bQ(r),wQ(r),ut(r,279),r.end()}var _Q=["</a:lt1>","</a:dk1>","</a:lt2>","</a:dk2>","</a:accent1>","</a:accent2>","</a:accent3>","</a:accent4>","</a:accent5>","</a:accent6>","</a:hlink>","</a:folHlink>"];function jQ(e,t,r){t.themeElements.clrScheme=[];var n={};(e[0].match(Ls)||[]).forEach(function(a){var i=hr(a);switch(i[0]){case"<a:clrScheme":case"</a:clrScheme>":break;case"<a:srgbClr":n.rgb=i.val;break;case"<a:sysClr":n.rgb=i.lastClr;break;case"<a:dk1>":case"</a:dk1>":case"<a:lt1>":case"</a:lt1>":case"<a:dk2>":case"</a:dk2>":case"<a:lt2>":case"</a:lt2>":case"<a:accent1>":case"</a:accent1>":case"<a:accent2>":case"</a:accent2>":case"<a:accent3>":case"</a:accent3>":case"<a:accent4>":case"</a:accent4>":case"<a:accent5>":case"</a:accent5>":case"<a:accent6>":case"</a:accent6>":case"<a:hlink>":case"</a:hlink>":case"<a:folHlink>":case"</a:folHlink>":i[0].charAt(1)==="/"?(t.themeElements.clrScheme[_Q.indexOf(i[0])]=n,n={}):n.name=i[0].slice(3,i[0].length-1);break;default:if(r&&r.WTF)throw new Error("Unrecognized "+i[0]+" in clrScheme")}})}function SQ(){}function AQ(){}var EQ=/<a:clrScheme([^>]*)>[\s\S]*<\/a:clrScheme>/,kQ=/<a:fontScheme([^>]*)>[\s\S]*<\/a:fontScheme>/,CQ=/<a:fmtScheme([^>]*)>[\s\S]*<\/a:fmtScheme>/;function TQ(e,t,r){t.themeElements={};var n;[["clrScheme",EQ,jQ],["fontScheme",kQ,SQ],["fmtScheme",CQ,AQ]].forEach(function(a){if(!(n=e.match(a[1])))throw new Error(a[0]+" not found in themeElements");a[2](n,t,r)})}var OQ=/<a:themeElements([^>]*)>[\s\S]*<\/a:themeElements>/;function TP(e,t){(!e||e.length===0)&&(e=y3());var r,n={};if(!(r=e.match(OQ)))throw new Error("themeElements not found in theme");return TQ(r[0],n,t),n.raw=e,n}function y3(e,t){if(t&&t.themeXLSX)return t.themeXLSX;if(e&&typeof e.raw=="string")return e.raw;var r=[Za];return r[r.length]='<a:theme xmlns:a="http://schemas.openxmlformats.org/drawingml/2006/main" name="Office Theme">',r[r.length]="<a:themeElements>",r[r.length]='<a:clrScheme name="Office">',r[r.length]='<a:dk1><a:sysClr val="windowText" lastClr="000000"/></a:dk1>',r[r.length]='<a:lt1><a:sysClr val="window" lastClr="FFFFFF"/></a:lt1>',r[r.length]='<a:dk2><a:srgbClr val="1F497D"/></a:dk2>',r[r.length]='<a:lt2><a:srgbClr val="EEECE1"/></a:lt2>',r[r.length]='<a:accent1><a:srgbClr val="4F81BD"/></a:accent1>',r[r.length]='<a:accent2><a:srgbClr val="C0504D"/></a:accent2>',r[r.length]='<a:accent3><a:srgbClr val="9BBB59"/></a:accent3>',r[r.length]='<a:accent4><a:srgbClr val="8064A2"/></a:accent4>',r[r.length]='<a:accent5><a:srgbClr val="4BACC6"/></a:accent5>',r[r.length]='<a:accent6><a:srgbClr val="F79646"/></a:accent6>',r[r.length]='<a:hlink><a:srgbClr val="0000FF"/></a:hlink>',r[r.length]='<a:folHlink><a:srgbClr val="800080"/></a:folHlink>',r[r.length]="</a:clrScheme>",r[r.length]='<a:fontScheme name="Office">',r[r.length]="<a:majorFont>",r[r.length]='<a:latin typeface="Cambria"/>',r[r.length]='<a:ea typeface=""/>',r[r.length]='<a:cs typeface=""/>',r[r.length]='<a:font script="Jpan" typeface=" "/>',r[r.length]='<a:font script="Hang" typeface=" "/>',r[r.length]='<a:font script="Hans" typeface=""/>',r[r.length]='<a:font script="Hant" typeface=""/>',r[r.length]='<a:font script="Arab" typeface="Times New Roman"/>',r[r.length]='<a:font script="Hebr" typeface="Times New Roman"/>',r[r.length]='<a:font script="Thai" typeface="Tahoma"/>',r[r.length]='<a:font script="Ethi" typeface="Nyala"/>',r[r.length]='<a:font script="Beng" typeface="Vrinda"/>',r[r.length]='<a:font script="Gujr" typeface="Shruti"/>',r[r.length]='<a:font script="Khmr" typeface="MoolBoran"/>',r[r.length]='<a:font script="Knda" typeface="Tunga"/>',r[r.length]='<a:font script="Guru" typeface="Raavi"/>',r[r.length]='<a:font script="Cans" typeface="Euphemia"/>',r[r.length]='<a:font script="Cher" typeface="Plantagenet Cherokee"/>',r[r.length]='<a:font script="Yiii" typeface="Microsoft Yi Baiti"/>',r[r.length]='<a:font script="Tibt" typeface="Microsoft Himalaya"/>',r[r.length]='<a:font script="Thaa" typeface="MV Boli"/>',r[r.length]='<a:font script="Deva" typeface="Mangal"/>',r[r.length]='<a:font script="Telu" typeface="Gautami"/>',r[r.length]='<a:font script="Taml" typeface="Latha"/>',r[r.length]='<a:font script="Syrc" typeface="Estrangelo Edessa"/>',r[r.length]='<a:font script="Orya" typeface="Kalinga"/>',r[r.length]='<a:font script="Mlym" typeface="Kartika"/>',r[r.length]='<a:font script="Laoo" typeface="DokChampa"/>',r[r.length]='<a:font script="Sinh" typeface="Iskoola Pota"/>',r[r.length]='<a:font script="Mong" typeface="Mongolian Baiti"/>',r[r.length]='<a:font script="Viet" typeface="Times New Roman"/>',r[r.length]='<a:font script="Uigh" typeface="Microsoft Uighur"/>',r[r.length]='<a:font script="Geor" typeface="Sylfaen"/>',r[r.length]="</a:majorFont>",r[r.length]="<a:minorFont>",r[r.length]='<a:latin typeface="Calibri"/>',r[r.length]='<a:ea typeface=""/>',r[r.length]='<a:cs typeface=""/>',r[r.length]='<a:font script="Jpan" typeface=" "/>',r[r.length]='<a:font script="Hang" typeface=" "/>',r[r.length]='<a:font script="Hans" typeface=""/>',r[r.length]='<a:font script="Hant" typeface=""/>',r[r.length]='<a:font script="Arab" typeface="Arial"/>',r[r.length]='<a:font script="Hebr" typeface="Arial"/>',r[r.length]='<a:font script="Thai" typeface="Tahoma"/>',r[r.length]='<a:font script="Ethi" typeface="Nyala"/>',r[r.length]='<a:font script="Beng" typeface="Vrinda"/>',r[r.length]='<a:font script="Gujr" typeface="Shruti"/>',r[r.length]='<a:font script="Khmr" typeface="DaunPenh"/>',r[r.length]='<a:font script="Knda" typeface="Tunga"/>',r[r.length]='<a:font script="Guru" typeface="Raavi"/>',r[r.length]='<a:font script="Cans" typeface="Euphemia"/>',r[r.length]='<a:font script="Cher" typeface="Plantagenet Cherokee"/>',r[r.length]='<a:font script="Yiii" typeface="Microsoft Yi Baiti"/>',r[r.length]='<a:font script="Tibt" typeface="Microsoft Himalaya"/>',r[r.length]='<a:font script="Thaa" typeface="MV Boli"/>',r[r.length]='<a:font script="Deva" typeface="Mangal"/>',r[r.length]='<a:font script="Telu" typeface="Gautami"/>',r[r.length]='<a:font script="Taml" typeface="Latha"/>',r[r.length]='<a:font script="Syrc" typeface="Estrangelo Edessa"/>',r[r.length]='<a:font script="Orya" typeface="Kalinga"/>',r[r.length]='<a:font script="Mlym" typeface="Kartika"/>',r[r.length]='<a:font script="Laoo" typeface="DokChampa"/>',r[r.length]='<a:font script="Sinh" typeface="Iskoola Pota"/>',r[r.length]='<a:font script="Mong" typeface="Mongolian Baiti"/>',r[r.length]='<a:font script="Viet" typeface="Arial"/>',r[r.length]='<a:font script="Uigh" typeface="Microsoft Uighur"/>',r[r.length]='<a:font script="Geor" typeface="Sylfaen"/>',r[r.length]="</a:minorFont>",r[r.length]="</a:fontScheme>",r[r.length]='<a:fmtScheme name="Office">',r[r.length]="<a:fillStyleLst>",r[r.length]='<a:solidFill><a:schemeClr val="phClr"/></a:solidFill>',r[r.length]='<a:gradFill rotWithShape="1">',r[r.length]="<a:gsLst>",r[r.length]='<a:gs pos="0"><a:schemeClr val="phClr"><a:tint val="50000"/><a:satMod val="300000"/></a:schemeClr></a:gs>',r[r.length]='<a:gs pos="35000"><a:schemeClr val="phClr"><a:tint val="37000"/><a:satMod val="300000"/></a:schemeClr></a:gs>',r[r.length]='<a:gs pos="100000"><a:schemeClr val="phClr"><a:tint val="15000"/><a:satMod val="350000"/></a:schemeClr></a:gs>',r[r.length]="</a:gsLst>",r[r.length]='<a:lin ang="16200000" scaled="1"/>',r[r.length]="</a:gradFill>",r[r.length]='<a:gradFill rotWithShape="1">',r[r.length]="<a:gsLst>",r[r.length]='<a:gs pos="0"><a:schemeClr val="phClr"><a:tint val="100000"/><a:shade val="100000"/><a:satMod val="130000"/></a:schemeClr></a:gs>',r[r.length]='<a:gs pos="100000"><a:schemeClr val="phClr"><a:tint val="50000"/><a:shade val="100000"/><a:satMod val="350000"/></a:schemeClr></a:gs>',r[r.length]="</a:gsLst>",r[r.length]='<a:lin ang="16200000" scaled="0"/>',r[r.length]="</a:gradFill>",r[r.length]="</a:fillStyleLst>",r[r.length]="<a:lnStyleLst>",r[r.length]='<a:ln w="9525" cap="flat" cmpd="sng" algn="ctr"><a:solidFill><a:schemeClr val="phClr"><a:shade val="95000"/><a:satMod val="105000"/></a:schemeClr></a:solidFill><a:prstDash val="solid"/></a:ln>',r[r.length]='<a:ln w="25400" cap="flat" cmpd="sng" algn="ctr"><a:solidFill><a:schemeClr val="phClr"/></a:solidFill><a:prstDash val="solid"/></a:ln>',r[r.length]='<a:ln w="38100" cap="flat" cmpd="sng" algn="ctr"><a:solidFill><a:schemeClr val="phClr"/></a:solidFill><a:prstDash val="solid"/></a:ln>',r[r.length]="</a:lnStyleLst>",r[r.length]="<a:effectStyleLst>",r[r.length]="<a:effectStyle>",r[r.length]="<a:effectLst>",r[r.length]='<a:outerShdw blurRad="40000" dist="20000" dir="5400000" rotWithShape="0"><a:srgbClr val="000000"><a:alpha val="38000"/></a:srgbClr></a:outerShdw>',r[r.length]="</a:effectLst>",r[r.length]="</a:effectStyle>",r[r.length]="<a:effectStyle>",r[r.length]="<a:effectLst>",r[r.length]='<a:outerShdw blurRad="40000" dist="23000" dir="5400000" rotWithShape="0"><a:srgbClr val="000000"><a:alpha val="35000"/></a:srgbClr></a:outerShdw>',r[r.length]="</a:effectLst>",r[r.length]="</a:effectStyle>",r[r.length]="<a:effectStyle>",r[r.length]="<a:effectLst>",r[r.length]='<a:outerShdw blurRad="40000" dist="23000" dir="5400000" rotWithShape="0"><a:srgbClr val="000000"><a:alpha val="35000"/></a:srgbClr></a:outerShdw>',r[r.length]="</a:effectLst>",r[r.length]='<a:scene3d><a:camera prst="orthographicFront"><a:rot lat="0" lon="0" rev="0"/></a:camera><a:lightRig rig="threePt" dir="t"><a:rot lat="0" lon="0" rev="1200000"/></a:lightRig></a:scene3d>',r[r.length]='<a:sp3d><a:bevelT w="63500" h="25400"/></a:sp3d>',r[r.length]="</a:effectStyle>",r[r.length]="</a:effectStyleLst>",r[r.length]="<a:bgFillStyleLst>",r[r.length]='<a:solidFill><a:schemeClr val="phClr"/></a:solidFill>',r[r.length]='<a:gradFill rotWithShape="1">',r[r.length]="<a:gsLst>",r[r.length]='<a:gs pos="0"><a:schemeClr val="phClr"><a:tint val="40000"/><a:satMod val="350000"/></a:schemeClr></a:gs>',r[r.length]='<a:gs pos="40000"><a:schemeClr val="phClr"><a:tint val="45000"/><a:shade val="99000"/><a:satMod val="350000"/></a:schemeClr></a:gs>',r[r.length]='<a:gs pos="100000"><a:schemeClr val="phClr"><a:shade val="20000"/><a:satMod val="255000"/></a:schemeClr></a:gs>',r[r.length]="</a:gsLst>",r[r.length]='<a:path path="circle"><a:fillToRect l="50000" t="-80000" r="50000" b="180000"/></a:path>',r[r.length]="</a:gradFill>",r[r.length]='<a:gradFill rotWithShape="1">',r[r.length]="<a:gsLst>",r[r.length]='<a:gs pos="0"><a:schemeClr val="phClr"><a:tint val="80000"/><a:satMod val="300000"/></a:schemeClr></a:gs>',r[r.length]='<a:gs pos="100000"><a:schemeClr val="phClr"><a:shade val="30000"/><a:satMod val="200000"/></a:schemeClr></a:gs>',r[r.length]="</a:gsLst>",r[r.length]='<a:path path="circle"><a:fillToRect l="50000" t="50000" r="50000" b="50000"/></a:path>',r[r.length]="</a:gradFill>",r[r.length]="</a:bgFillStyleLst>",r[r.length]="</a:fmtScheme>",r[r.length]="</a:themeElements>",r[r.length]="<a:objectDefaults>",r[r.length]="<a:spDef>",r[r.length]='<a:spPr/><a:bodyPr/><a:lstStyle/><a:style><a:lnRef idx="1"><a:schemeClr val="accent1"/></a:lnRef><a:fillRef idx="3"><a:schemeClr val="accent1"/></a:fillRef><a:effectRef idx="2"><a:schemeClr val="accent1"/></a:effectRef><a:fontRef idx="minor"><a:schemeClr val="lt1"/></a:fontRef></a:style>',r[r.length]="</a:spDef>",r[r.length]="<a:lnDef>",r[r.length]='<a:spPr/><a:bodyPr/><a:lstStyle/><a:style><a:lnRef idx="2"><a:schemeClr val="accent1"/></a:lnRef><a:fillRef idx="0"><a:schemeClr val="accent1"/></a:fillRef><a:effectRef idx="1"><a:schemeClr val="accent1"/></a:effectRef><a:fontRef idx="minor"><a:schemeClr val="tx1"/></a:fontRef></a:style>',r[r.length]="</a:lnDef>",r[r.length]="</a:objectDefaults>",r[r.length]="<a:extraClrSchemeLst/>",r[r.length]="</a:theme>",r.join("")}function DQ(e,t,r){var n=e.l+t,a=e.read_shift(4);if(a!==124226){if(!r.cellStyles){e.l=n;return}var i=e.slice(e.l);e.l=n;var l;try{l=NF(i,{type:"array"})}catch{return}var o=Jl(l,"theme/theme/theme1.xml",!0);if(o)return TP(o,r)}}function FQ(e){return e.read_shift(4)}function PQ(e){var t={};switch(t.xclrType=e.read_shift(2),t.nTintShade=e.read_shift(2),t.xclrType){case 0:e.l+=4;break;case 1:t.xclrValue=LQ(e,4);break;case 2:t.xclrValue=cP(e);break;case 3:t.xclrValue=FQ(e);break;case 4:e.l+=4;break}return e.l+=8,t}function LQ(e,t){return Fs(e,t)}function MQ(e,t){return Fs(e,t)}function RQ(e){var t=e.read_shift(2),r=e.read_shift(2)-4,n=[t];switch(t){case 4:case 5:case 7:case 8:case 9:case 10:case 11:case 13:n[1]=PQ(e);break;case 6:n[1]=MQ(e,r);break;case 14:case 15:n[1]=e.read_shift(r===1?1:2);break;default:throw new Error("Unrecognized ExtProp type: "+t+" "+r)}return n}function IQ(e,t){var r=e.l+t;e.l+=2;var n=e.read_shift(2);e.l+=2;for(var a=e.read_shift(2),i=[];a-- >0;)i.push(RQ(e,r-e.l));return{ixfe:n,ext:i}}function BQ(e,t){t.forEach(function(r){r[0]})}function UQ(e,t){return{flags:e.read_shift(4),version:e.read_shift(4),name:Ts(e)}}function zQ(e){var t=tt(12+2*e.name.length);return t.write_shift(4,e.flags),t.write_shift(4,e.version),qi(e.name,t),t.slice(0,t.l)}function qQ(e){for(var t=[],r=e.read_shift(4);r-- >0;)t.push([e.read_shift(4),e.read_shift(4)]);return t}function $Q(e){var t=tt(4+8*e.length);t.write_shift(4,e.length);for(var r=0;r<e.length;++r)t.write_shift(4,e[r][0]),t.write_shift(4,e[r][1]);return t}function HQ(e,t){var r=tt(8+2*t.length);return r.write_shift(4,e),qi(t,r),r.slice(0,r.l)}function VQ(e){return e.l+=4,e.read_shift(4)!=0}function WQ(e,t){var r=tt(8);return r.write_shift(4,e),r.write_shift(4,1),r}function KQ(e,t,r){var n={Types:[],Cell:[],Value:[]},a=r||{},i=[],l=!1,o=2;return Sf(e,function(u,f,h){switch(h){case 335:n.Types.push({name:u.name});break;case 51:u.forEach(function(m){o==1?n.Cell.push({type:n.Types[m[0]-1].name,index:m[1]}):o==0&&n.Value.push({type:n.Types[m[0]-1].name,index:m[1]})});break;case 337:o=u?1:0;break;case 338:o=2;break;case 35:i.push(h),l=!0;break;case 36:i.pop(),l=!1;break;default:if(!f.T){if(!l||a.WTF&&i[i.length-1]!=35)throw new Error("Unexpected record 0x"+h.toString(16))}}}),n}function GQ(){var e=kl();return ut(e,332),ut(e,334,Ec(1)),ut(e,335,zQ({name:"XLDAPR",version:12e4,flags:3496657072})),ut(e,336),ut(e,339,HQ(1,"XLDAPR")),ut(e,52),ut(e,35,Ec(514)),ut(e,4096,Ec(0)),ut(e,4097,Lo(1)),ut(e,36),ut(e,53),ut(e,340),ut(e,337,WQ(1)),ut(e,51,$Q([[1,0]])),ut(e,338),ut(e,333),e.end()}function YQ(e,t,r){var n={Types:[],Cell:[],Value:[]};if(!e)return n;var a=!1,i=2,l;return e.replace(Ls,function(o){var u=hr(o);switch(xu(u[0])){case"<?xml":break;case"<metadata":case"</metadata>":break;case"<metadataTypes":case"</metadataTypes>":break;case"<metadataType":n.Types.push({name:u.name});break;case"</metadataType>":break;case"<futureMetadata":for(var f=0;f<n.Types.length;++f)n.Types[f].name==u.name&&(l=n.Types[f]);break;case"</futureMetadata>":break;case"<bk>":break;case"</bk>":break;case"<rc":i==1?n.Cell.push({type:n.Types[u.t-1].name,index:+u.v}):i==0&&n.Value.push({type:n.Types[u.t-1].name,index:+u.v});break;case"</rc>":break;case"<cellMetadata":i=1;break;case"</cellMetadata>":i=2;break;case"<valueMetadata":i=0;break;case"</valueMetadata>":i=2;break;case"<extLst":case"<extLst>":case"</extLst>":case"<extLst/>":break;case"<ext":a=!0;break;case"</ext>":a=!1;break;case"<rvb":if(!l)break;l.offsets||(l.offsets=[]),l.offsets.push(+u.i);break;default:if(!a&&r.WTF)throw new Error("unrecognized "+u[0]+" in metadata")}return o}),n}function OP(){var e=[Za];return e.push(`<metadata xmlns="http://schemas.openxmlformats.org/spreadsheetml/2006/main" xmlns:xlrd="http://schemas.microsoft.com/office/spreadsheetml/2017/richdata" xmlns:xda="http://schemas.microsoft.com/office/spreadsheetml/2017/dynamicarray">
  <metadataTypes count="1">
    <metadataType name="XLDAPR" minSupportedVersion="120000" copy="1" pasteAll="1" pasteValues="1" merge="1" splitFirst="1" rowColShift="1" clearFormats="1" clearComments="1" assign="1" coerce="1" cellMeta="1"/>
  </metadataTypes>
  <futureMetadata name="XLDAPR" count="1">
    <bk>
      <extLst>
        <ext uri="{bdbb8cdc-fa1e-496e-a857-3c3f30c029c3}">
          <xda:dynamicArrayProperties fDynamic="1" fCollapsed="0"/>
        </ext>
      </extLst>
    </bk>
  </futureMetadata>
  <cellMetadata count="1">
    <bk>
      <rc t="1" v="0"/>
    </bk>
  </cellMetadata>
</metadata>`),e.join("")}function XQ(e){var t=[];if(!e)return t;var r=1;return(e.match(Ls)||[]).forEach(function(n){var a=hr(n);switch(a[0]){case"<?xml":break;case"<calcChain":case"<calcChain>":case"</calcChain>":break;case"<c":delete a[0],a.i?r=a.i:a.i=r,t.push(a);break}}),t}function QQ(e){var t={};t.i=e.read_shift(4);var r={};r.r=e.read_shift(4),r.c=e.read_shift(4),t.r=fr(r);var n=e.read_shift(1);return n&2&&(t.l="1"),n&8&&(t.a="1"),t}function ZQ(e,t,r){var n=[];return Sf(e,function(i,l,o){switch(o){case 63:n.push(i);break;default:if(!l.T)throw new Error("Unexpected record 0x"+o.toString(16))}}),n}function JQ(e,t,r,n){if(!e)return e;var a=n||{},i=!1;Sf(e,function(o,u,f){switch(f){case 359:case 363:case 364:case 366:case 367:case 368:case 369:case 370:case 371:case 472:case 577:case 578:case 579:case 580:case 581:case 582:case 583:case 584:case 585:case 586:case 587:break;case 35:i=!0;break;case 36:i=!1;break;default:if(!u.T){if(!i||a.WTF)throw new Error("Unexpected record 0x"+f.toString(16))}}},a)}function eZ(e,t){if(!e)return"??";var r=(e.match(/<c:chart [^>]*r:id="([^"]*)"/)||["",""])[1];return t["!id"][r].Target}var jm=1024;function DP(e,t){for(var r=[21600,21600],n=["m0,0l0",r[1],r[0],r[1],r[0],"0xe"].join(","),a=[wt("xml",null,{"xmlns:v":Yl.v,"xmlns:o":Yl.o,"xmlns:x":Yl.x,"xmlns:mv":Yl.mv}).replace(/\/>/,">"),wt("o:shapelayout",wt("o:idmap",null,{"v:ext":"edit",data:e}),{"v:ext":"edit"}),wt("v:shapetype",[wt("v:stroke",null,{joinstyle:"miter"}),wt("v:path",null,{gradientshapeok:"t","o:connecttype":"rect"})].join(""),{id:"_x0000_t202","o:spt":202,coordsize:r.join(","),path:n})];jm<e*1e3;)jm+=1e3;return t.forEach(function(i){var l=ja(i[0]),o={color2:"#BEFF82",type:"gradient"};o.type=="gradient"&&(o.angle="-180");var u=o.type=="gradient"?wt("o:fill",null,{type:"gradientUnscaled","v:ext":"view"}):null,f=wt("v:fill",u,o),h={on:"t",obscured:"t"};++jm,a=a.concat(["<v:shape"+Qx({id:"_x0000_s"+jm,type:"#_x0000_t202",style:"position:absolute; margin-left:80pt;margin-top:5pt;width:104pt;height:64pt;z-index:10"+(i[1].hidden?";visibility:hidden":""),fillcolor:"#ECFAD4",strokecolor:"#edeaa1"})+">",f,wt("v:shadow",null,h),wt("v:path",null,{"o:connecttype":"none"}),'<v:textbox><div style="text-align:left"></div></v:textbox>','<x:ClientData ObjectType="Note">',"<x:MoveWithCells/>","<x:SizeWithCells/>",ss("x:Anchor",[l.c+1,0,l.r+1,0,l.c+3,20,l.r+5,20].join(",")),ss("x:AutoFill","False"),ss("x:Row",String(l.r)),ss("x:Column",String(l.c)),i[1].hidden?"":"<x:Visible/>","</x:ClientData>","</v:shape>"])}),a.push("</xml>"),a.join("")}function Ek(e,t,r,n){var a=Array.isArray(e),i;t.forEach(function(l){var o=ja(l.ref);if(a?(e[o.r]||(e[o.r]=[]),i=e[o.r][o.c]):i=e[l.ref],!i){i={t:"z"},a?e[o.r][o.c]=i:e[l.ref]=i;var u=tn(e["!ref"]||"BDWGO1000001:A1");u.s.r>o.r&&(u.s.r=o.r),u.e.r<o.r&&(u.e.r=o.r),u.s.c>o.c&&(u.s.c=o.c),u.e.c<o.c&&(u.e.c=o.c);var f=Nr(u);f!==e["!ref"]&&(e["!ref"]=f)}i.c||(i.c=[]);var h={a:l.author,t:l.t,r:l.r,T:r};l.h&&(h.h=l.h);for(var m=i.c.length-1;m>=0;--m){if(!r&&i.c[m].T)return;r&&!i.c[m].T&&i.c.splice(m,1)}if(r&&n){for(m=0;m<n.length;++m)if(h.a==n[m].id){h.a=n[m].name||h.a;break}}i.c.push(h)})}function tZ(e,t){if(e.match(/<(?:\w+:)?comments *\/>/))return[];var r=[],n=[],a=e.match(/<(?:\w+:)?authors>([\s\S]*)<\/(?:\w+:)?authors>/);a&&a[1]&&a[1].split(/<\/\w*:?author>/).forEach(function(l){if(!(l===""||l.trim()==="")){var o=l.match(/<(?:\w+:)?author[^>]*>(.*)/);o&&r.push(o[1])}});var i=e.match(/<(?:\w+:)?commentList>([\s\S]*)<\/(?:\w+:)?commentList>/);return i&&i[1]&&i[1].split(/<\/\w*:?comment>/).forEach(function(l){if(!(l===""||l.trim()==="")){var o=l.match(/<(?:\w+:)?comment[^>]*>/);if(o){var u=hr(o[0]),f={author:u.authorId&&r[u.authorId]||"sheetjsghost",ref:u.ref,guid:u.guid},h=ja(u.ref);if(!(t.sheetRows&&t.sheetRows<=h.r)){var m=l.match(/<(?:\w+:)?text>([\s\S]*)<\/(?:\w+:)?text>/),g=!!m&&!!m[1]&&x3(m[1])||{r:"",t:"",h:""};f.r=g.r,g.r=="<t></t>"&&(g.t=g.h=""),f.t=(g.t||"").replace(/\r\n/g,`
`).replace(/\r/g,`
`),t.cellHTML&&(f.h=g.h),n.push(f)}}}}),n}function FP(e){var t=[Za,wt("comments",null,{xmlns:fh[0]})],r=[];return t.push("<authors>"),e.forEach(function(n){n[1].forEach(function(a){var i=_n(a.a);r.indexOf(i)==-1&&(r.push(i),t.push("<author>"+i+"</author>")),a.T&&a.ID&&r.indexOf("tc="+a.ID)==-1&&(r.push("tc="+a.ID),t.push("<author>tc="+a.ID+"</author>"))})}),r.length==0&&(r.push("SheetJ5"),t.push("<author>SheetJ5</author>")),t.push("</authors>"),t.push("<commentList>"),e.forEach(function(n){var a=0,i=[];if(n[1][0]&&n[1][0].T&&n[1][0].ID?a=r.indexOf("tc="+n[1][0].ID):n[1].forEach(function(u){u.a&&(a=r.indexOf(_n(u.a))),i.push(u.t||"")}),t.push('<comment ref="'+n[0]+'" authorId="'+a+'"><text>'),i.length<=1)t.push(ss("t",_n(i[0]||"")));else{for(var l=`Comment:
    `+i[0]+`
`,o=1;o<i.length;++o)l+=`Reply:
    `+i[o]+`
`;t.push(ss("t",_n(l)))}t.push("</text></comment>")}),t.push("</commentList>"),t.length>2&&(t[t.length]="</comments>",t[1]=t[1].replace("/>",">")),t.join("")}function rZ(e,t){var r=[],n=!1,a={},i=0;return e.replace(Ls,function(o,u){var f=hr(o);switch(xu(f[0])){case"<?xml":break;case"<ThreadedComments":break;case"</ThreadedComments>":break;case"<threadedComment":a={author:f.personId,guid:f.id,ref:f.ref,T:1};break;case"</threadedComment>":a.t!=null&&r.push(a);break;case"<text>":case"<text":i=u+o.length;break;case"</text>":a.t=e.slice(i,u).replace(/\r\n/g,`
`).replace(/\r/g,`
`);break;case"<mentions":case"<mentions>":n=!0;break;case"</mentions>":n=!1;break;case"<extLst":case"<extLst>":case"</extLst>":case"<extLst/>":break;case"<ext":n=!0;break;case"</ext>":n=!1;break;default:if(!n&&t.WTF)throw new Error("unrecognized "+f[0]+" in threaded comments")}return o}),r}function nZ(e,t,r){var n=[Za,wt("ThreadedComments",null,{xmlns:ji.TCMNT}).replace(/[\/]>/,">")];return e.forEach(function(a){var i="";(a[1]||[]).forEach(function(l,o){if(!l.T){delete l.ID;return}l.a&&t.indexOf(l.a)==-1&&t.push(l.a);var u={ref:a[0],id:"{54EE7951-7262-4200-6969-"+("000000000000"+r.tcid++).slice(-12)+"}"};o==0?i=u.id:u.parentId=i,l.ID=u.id,l.a&&(u.personId="{54EE7950-7262-4200-6969-"+("000000000000"+t.indexOf(l.a)).slice(-12)+"}"),n.push(wt("threadedComment",ss("text",l.t||""),u))})}),n.push("</ThreadedComments>"),n.join("")}function aZ(e,t){var r=[],n=!1;return e.replace(Ls,function(i){var l=hr(i);switch(xu(l[0])){case"<?xml":break;case"<personList":break;case"</personList>":break;case"<person":r.push({name:l.displayname,id:l.id});break;case"</person>":break;case"<extLst":case"<extLst>":case"</extLst>":case"<extLst/>":break;case"<ext":n=!0;break;case"</ext>":n=!1;break;default:if(!n&&t.WTF)throw new Error("unrecognized "+l[0]+" in threaded comments")}return i}),r}function iZ(e){var t=[Za,wt("personList",null,{xmlns:ji.TCMNT,"xmlns:x":fh[0]}).replace(/[\/]>/,">")];return e.forEach(function(r,n){t.push(wt("person",null,{displayName:r,id:"{54EE7950-7262-4200-6969-"+("000000000000"+n).slice(-12)+"}",userId:r,providerId:"None"}))}),t.push("</personList>"),t.join("")}function sZ(e){var t={};t.iauthor=e.read_shift(4);var r=ph(e);return t.rfx=r.s,t.ref=fr(r.s),e.l+=16,t}function lZ(e,t){return t==null&&(t=tt(36)),t.write_shift(4,e[1].iauthor),op(e[0],t),t.write_shift(4,0),t.write_shift(4,0),t.write_shift(4,0),t.write_shift(4,0),t}var oZ=Ts;function cZ(e){return qi(e.slice(0,54))}function uZ(e,t){var r=[],n=[],a={},i=!1;return Sf(e,function(o,u,f){switch(f){case 632:n.push(o);break;case 635:a=o;break;case 637:a.t=o.t,a.h=o.h,a.r=o.r;break;case 636:if(a.author=n[a.iauthor],delete a.iauthor,t.sheetRows&&a.rfx&&t.sheetRows<=a.rfx.r)break;a.t||(a.t=""),delete a.rfx,r.push(a);break;case 3072:break;case 35:i=!0;break;case 36:i=!1;break;case 37:break;case 38:break;default:if(!u.T){if(!i||t.WTF)throw new Error("Unexpected record 0x"+f.toString(16))}}}),r}function fZ(e){var t=kl(),r=[];return ut(t,628),ut(t,630),e.forEach(function(n){n[1].forEach(function(a){r.indexOf(a.a)>-1||(r.push(a.a.slice(0,54)),ut(t,632,cZ(a.a)))})}),ut(t,631),ut(t,633),e.forEach(function(n){n[1].forEach(function(a){a.iauthor=r.indexOf(a.a);var i={s:ja(n[0]),e:ja(n[0])};ut(t,635,lZ([i,a])),a.t&&a.t.length>0&&ut(t,637,FK(a)),ut(t,636),delete a.iauthor})}),ut(t,634),ut(t,629),t.end()}var dZ="application/vnd.ms-office.vbaProject";function hZ(e){var t=nr.utils.cfb_new({root:"R"});return e.FullPaths.forEach(function(r,n){if(!(r.slice(-1)==="/"||!r.match(/_VBA_PROJECT_CUR/))){var a=r.replace(/^[^\/]*/,"R").replace(/\/_VBA_PROJECT_CUR\u0000*/,"");nr.utils.cfb_add(t,a,e.FileIndex[n].content)}}),nr.write(t)}function mZ(e,t){t.FullPaths.forEach(function(r,n){if(n!=0){var a=r.replace(/[^\/]*[\/]/,"/_VBA_PROJECT_CUR/");a.slice(-1)!=="/"&&nr.utils.cfb_add(e,a,t.FileIndex[n].content)}})}var PP=["xlsb","xlsm","xlam","biff8","xla"];function pZ(){return{"!type":"dialog"}}function xZ(){return{"!type":"dialog"}}function gZ(){return{"!type":"macro"}}function vZ(){return{"!type":"macro"}}var Fm=(function(){var e=/(^|[^A-Za-z_])R(\[?-?\d+\]|[1-9]\d*|)C(\[?-?\d+\]|[1-9]\d*|)(?![A-Za-z0-9_])/g,t={r:0,c:0};function r(n,a,i,l){var o=!1,u=!1;i.length==0?u=!0:i.charAt(0)=="["&&(u=!0,i=i.slice(1,-1)),l.length==0?o=!0:l.charAt(0)=="["&&(o=!0,l=l.slice(1,-1));var f=i.length>0?parseInt(i,10)|0:0,h=l.length>0?parseInt(l,10)|0:0;return o?h+=t.c:--h,u?f+=t.r:--f,a+(o?"":"$")+_a(h)+(u?"":"$")+Qa(f)}return function(a,i){return t=i,a.replace(e,r)}})(),b3=/(^|[^._A-Z0-9])([$]?)([A-Z]{1,2}|[A-W][A-Z]{2}|X[A-E][A-Z]|XF[A-D])([$]?)(10[0-3]\d{4}|104[0-7]\d{3}|1048[0-4]\d{2}|10485[0-6]\d|104857[0-6]|[1-9]\d{0,5})(?![_.\(A-Za-z0-9])/g,w3=(function(){return function(t,r){return t.replace(b3,function(n,a,i,l,o,u){var f=l3(l)-(i?0:r.c),h=s3(u)-(o?0:r.r),m=h==0?"":o?h+1:"["+h+"]",g=f==0?"":i?f+1:"["+f+"]";return a+"R"+m+"C"+g})}})();function LP(e,t){return e.replace(b3,function(r,n,a,i,l,o){return n+(a=="$"?a+i:_a(l3(i)+t.c))+(l=="$"?l+o:Qa(s3(o)+t.r))})}function yZ(e,t,r){var n=Tl(t),a=n.s,i=ja(r),l={r:i.r-a.r,c:i.c-a.c};return LP(e,l)}function bZ(e){return e.length!=1}function kk(e){return e.replace(/_xlfn\./g,"")}function ai(e){e.l+=1}function Cd(e,t){var r=e.read_shift(2);return[r&16383,r>>14&1,r>>15&1]}function MP(e,t,r){var n=2;if(r){if(r.biff>=2&&r.biff<=5)return RP(e);r.biff==12&&(n=4)}var a=e.read_shift(n),i=e.read_shift(n),l=Cd(e),o=Cd(e);return{s:{r:a,c:l[0],cRel:l[1],rRel:l[2]},e:{r:i,c:o[0],cRel:o[1],rRel:o[2]}}}function RP(e){var t=Cd(e),r=Cd(e),n=e.read_shift(1),a=e.read_shift(1);return{s:{r:t[0],c:n,cRel:t[1],rRel:t[2]},e:{r:r[0],c:a,cRel:r[1],rRel:r[2]}}}function wZ(e,t,r){if(r.biff<8)return RP(e);var n=e.read_shift(r.biff==12?4:2),a=e.read_shift(r.biff==12?4:2),i=Cd(e),l=Cd(e);return{s:{r:n,c:i[0],cRel:i[1],rRel:i[2]},e:{r:a,c:l[0],cRel:l[1],rRel:l[2]}}}function IP(e,t,r){if(r&&r.biff>=2&&r.biff<=5)return NZ(e);var n=e.read_shift(r&&r.biff==12?4:2),a=Cd(e);return{r:n,c:a[0],cRel:a[1],rRel:a[2]}}function NZ(e){var t=Cd(e),r=e.read_shift(1);return{r:t[0],c:r,cRel:t[1],rRel:t[2]}}function _Z(e){var t=e.read_shift(2),r=e.read_shift(2);return{r:t,c:r&255,fQuoted:!!(r&16384),cRel:r>>15,rRel:r>>15}}function jZ(e,t,r){var n=r&&r.biff?r.biff:8;if(n>=2&&n<=5)return SZ(e);var a=e.read_shift(n>=12?4:2),i=e.read_shift(2),l=(i&16384)>>14,o=(i&32768)>>15;if(i&=16383,o==1)for(;a>524287;)a-=1048576;if(l==1)for(;i>8191;)i=i-16384;return{r:a,c:i,cRel:l,rRel:o}}function SZ(e){var t=e.read_shift(2),r=e.read_shift(1),n=(t&32768)>>15,a=(t&16384)>>14;return t&=16383,n==1&&t>=8192&&(t=t-16384),a==1&&r>=128&&(r=r-256),{r:t,c:r,cRel:a,rRel:n}}function AZ(e,t,r){var n=(e[e.l++]&96)>>5,a=MP(e,r.biff>=2&&r.biff<=5?6:8,r);return[n,a]}function EZ(e,t,r){var n=(e[e.l++]&96)>>5,a=e.read_shift(2,"i"),i=8;if(r)switch(r.biff){case 5:e.l+=12,i=6;break;case 12:i=12;break}var l=MP(e,i,r);return[n,a,l]}function kZ(e,t,r){var n=(e[e.l++]&96)>>5;return e.l+=r&&r.biff>8?12:r.biff<8?6:8,[n]}function CZ(e,t,r){var n=(e[e.l++]&96)>>5,a=e.read_shift(2),i=8;if(r)switch(r.biff){case 5:e.l+=12,i=6;break;case 12:i=12;break}return e.l+=i,[n,a]}function TZ(e,t,r){var n=(e[e.l++]&96)>>5,a=wZ(e,t-1,r);return[n,a]}function OZ(e,t,r){var n=(e[e.l++]&96)>>5;return e.l+=r.biff==2?6:r.biff==12?14:7,[n]}function Ck(e){var t=e[e.l+1]&1,r=1;return e.l+=4,[t,r]}function DZ(e,t,r){e.l+=2;for(var n=e.read_shift(r&&r.biff==2?1:2),a=[],i=0;i<=n;++i)a.push(e.read_shift(r&&r.biff==2?1:2));return a}function FZ(e,t,r){var n=e[e.l+1]&255?1:0;return e.l+=2,[n,e.read_shift(r&&r.biff==2?1:2)]}function PZ(e,t,r){var n=e[e.l+1]&255?1:0;return e.l+=2,[n,e.read_shift(r&&r.biff==2?1:2)]}function LZ(e){var t=e[e.l+1]&255?1:0;return e.l+=2,[t,e.read_shift(2)]}function MZ(e,t,r){var n=e[e.l+1]&255?1:0;return e.l+=r&&r.biff==2?3:4,[n]}function BP(e){var t=e.read_shift(1),r=e.read_shift(1);return[t,r]}function RZ(e){return e.read_shift(2),BP(e)}function IZ(e){return e.read_shift(2),BP(e)}function BZ(e,t,r){var n=(e[e.l]&96)>>5;e.l+=1;var a=IP(e,0,r);return[n,a]}function UZ(e,t,r){var n=(e[e.l]&96)>>5;e.l+=1;var a=jZ(e,0,r);return[n,a]}function zZ(e,t,r){var n=(e[e.l]&96)>>5;e.l+=1;var a=e.read_shift(2);r&&r.biff==5&&(e.l+=12);var i=IP(e,0,r);return[n,a,i]}function qZ(e,t,r){var n=(e[e.l]&96)>>5;e.l+=1;var a=e.read_shift(r&&r.biff<=3?1:2);return[VJ[a],qP[a],n]}function $Z(e,t,r){var n=e[e.l++],a=e.read_shift(1),i=r&&r.biff<=3?[n==88?-1:0,e.read_shift(1)]:HZ(e);return[a,(i[0]===0?qP:HJ)[i[1]]]}function HZ(e){return[e[e.l+1]>>7,e.read_shift(2)&32767]}function VZ(e,t,r){e.l+=r&&r.biff==2?3:4}function WZ(e,t,r){if(e.l++,r&&r.biff==12)return[e.read_shift(4,"i"),0];var n=e.read_shift(2),a=e.read_shift(r&&r.biff==2?1:2);return[n,a]}function KZ(e){return e.l++,Af[e.read_shift(1)]}function GZ(e){return e.l++,e.read_shift(2)}function YZ(e){return e.l++,e.read_shift(1)!==0}function XZ(e){return e.l++,Ss(e)}function QZ(e,t,r){return e.l++,Eg(e,t-1,r)}function ZZ(e,t){var r=[e.read_shift(1)];if(t==12)switch(r[0]){case 2:r[0]=4;break;case 4:r[0]=16;break;case 0:r[0]=1;break;case 1:r[0]=2;break}switch(r[0]){case 4:r[1]=Ha(e,1)?"TRUE":"FALSE",t!=12&&(e.l+=7);break;case 37:case 16:r[1]=Af[e[e.l]],e.l+=t==12?4:8;break;case 0:e.l+=8;break;case 1:r[1]=Ss(e);break;case 2:r[1]=xh(e,0,{biff:t>0&&t<8?2:t});break;default:throw new Error("Bad SerAr: "+r[0])}return r}function JZ(e,t,r){for(var n=e.read_shift(r.biff==12?4:2),a=[],i=0;i!=n;++i)a.push((r.biff==12?ph:m2)(e));return a}function eJ(e,t,r){var n=0,a=0;r.biff==12?(n=e.read_shift(4),a=e.read_shift(4)):(a=1+e.read_shift(1),n=1+e.read_shift(2)),r.biff>=2&&r.biff<8&&(--n,--a==0&&(a=256));for(var i=0,l=[];i!=n&&(l[i]=[]);++i)for(var o=0;o!=a;++o)l[i][o]=ZZ(e,r.biff);return l}function tJ(e,t,r){var n=e.read_shift(1)>>>5&3,a=!r||r.biff>=8?4:2,i=e.read_shift(a);switch(r.biff){case 2:e.l+=5;break;case 3:case 4:e.l+=8;break;case 5:e.l+=12;break}return[n,0,i]}function rJ(e,t,r){if(r.biff==5)return nJ(e);var n=e.read_shift(1)>>>5&3,a=e.read_shift(2),i=e.read_shift(4);return[n,a,i]}function nJ(e){var t=e.read_shift(1)>>>5&3,r=e.read_shift(2,"i");e.l+=8;var n=e.read_shift(2);return e.l+=12,[t,r,n]}function aJ(e,t,r){var n=e.read_shift(1)>>>5&3;e.l+=r&&r.biff==2?3:4;var a=e.read_shift(r&&r.biff==2?1:2);return[n,a]}function iJ(e,t,r){var n=e.read_shift(1)>>>5&3,a=e.read_shift(r&&r.biff==2?1:2);return[n,a]}function sJ(e,t,r){var n=e.read_shift(1)>>>5&3;return e.l+=4,r.biff<8&&e.l--,r.biff==12&&(e.l+=2),[n]}function lJ(e,t,r){var n=(e[e.l++]&96)>>5,a=e.read_shift(2),i=4;if(r)switch(r.biff){case 5:i=15;break;case 12:i=6;break}return e.l+=i,[n,a]}var oJ=Fs,cJ=Fs,uJ=Fs;function Cg(e,t,r){return e.l+=2,[_Z(e)]}function N3(e){return e.l+=6,[]}var fJ=Cg,dJ=N3,hJ=N3,mJ=Cg;function UP(e){return e.l+=2,[si(e),e.read_shift(2)&1]}var pJ=Cg,xJ=UP,gJ=N3,vJ=Cg,yJ=Cg,bJ=["Data","All","Headers","??","?Data2","??","?DataHeaders","??","Totals","??","??","??","?DataTotals","??","??","??","?Current"];function wJ(e){e.l+=2;var t=e.read_shift(2),r=e.read_shift(2),n=e.read_shift(4),a=e.read_shift(2),i=e.read_shift(2),l=bJ[r>>2&31];return{ixti:t,coltype:r&3,rt:l,idx:n,c:a,C:i}}function NJ(e){return e.l+=2,[e.read_shift(4)]}function _J(e,t,r){return e.l+=5,e.l+=2,e.l+=r.biff==2?1:4,["PTGSHEET"]}function jJ(e,t,r){return e.l+=r.biff==2?4:5,["PTGENDSHEET"]}function SJ(e){var t=e.read_shift(1)>>>5&3,r=e.read_shift(2);return[t,r]}function AJ(e){var t=e.read_shift(1)>>>5&3,r=e.read_shift(2);return[t,r]}function EJ(e){return e.l+=4,[0,0]}var Tk={1:{n:"PtgExp",f:WZ},2:{n:"PtgTbl",f:uJ},3:{n:"PtgAdd",f:ai},4:{n:"PtgSub",f:ai},5:{n:"PtgMul",f:ai},6:{n:"PtgDiv",f:ai},7:{n:"PtgPower",f:ai},8:{n:"PtgConcat",f:ai},9:{n:"PtgLt",f:ai},10:{n:"PtgLe",f:ai},11:{n:"PtgEq",f:ai},12:{n:"PtgGe",f:ai},13:{n:"PtgGt",f:ai},14:{n:"PtgNe",f:ai},15:{n:"PtgIsect",f:ai},16:{n:"PtgUnion",f:ai},17:{n:"PtgRange",f:ai},18:{n:"PtgUplus",f:ai},19:{n:"PtgUminus",f:ai},20:{n:"PtgPercent",f:ai},21:{n:"PtgParen",f:ai},22:{n:"PtgMissArg",f:ai},23:{n:"PtgStr",f:QZ},26:{n:"PtgSheet",f:_J},27:{n:"PtgEndSheet",f:jJ},28:{n:"PtgErr",f:KZ},29:{n:"PtgBool",f:YZ},30:{n:"PtgInt",f:GZ},31:{n:"PtgNum",f:XZ},32:{n:"PtgArray",f:OZ},33:{n:"PtgFunc",f:qZ},34:{n:"PtgFuncVar",f:$Z},35:{n:"PtgName",f:tJ},36:{n:"PtgRef",f:BZ},37:{n:"PtgArea",f:AZ},38:{n:"PtgMemArea",f:aJ},39:{n:"PtgMemErr",f:oJ},40:{n:"PtgMemNoMem",f:cJ},41:{n:"PtgMemFunc",f:iJ},42:{n:"PtgRefErr",f:sJ},43:{n:"PtgAreaErr",f:kZ},44:{n:"PtgRefN",f:UZ},45:{n:"PtgAreaN",f:TZ},46:{n:"PtgMemAreaN",f:SJ},47:{n:"PtgMemNoMemN",f:AJ},57:{n:"PtgNameX",f:rJ},58:{n:"PtgRef3d",f:zZ},59:{n:"PtgArea3d",f:EZ},60:{n:"PtgRefErr3d",f:lJ},61:{n:"PtgAreaErr3d",f:CZ},255:{}},kJ={64:32,96:32,65:33,97:33,66:34,98:34,67:35,99:35,68:36,100:36,69:37,101:37,70:38,102:38,71:39,103:39,72:40,104:40,73:41,105:41,74:42,106:42,75:43,107:43,76:44,108:44,77:45,109:45,78:46,110:46,79:47,111:47,88:34,120:34,89:57,121:57,90:58,122:58,91:59,123:59,92:60,124:60,93:61,125:61},CJ={1:{n:"PtgElfLel",f:UP},2:{n:"PtgElfRw",f:vJ},3:{n:"PtgElfCol",f:fJ},6:{n:"PtgElfRwV",f:yJ},7:{n:"PtgElfColV",f:mJ},10:{n:"PtgElfRadical",f:pJ},11:{n:"PtgElfRadicalS",f:gJ},13:{n:"PtgElfColS",f:dJ},15:{n:"PtgElfColSV",f:hJ},16:{n:"PtgElfRadicalLel",f:xJ},25:{n:"PtgList",f:wJ},29:{n:"PtgSxName",f:NJ},255:{}},TJ={0:{n:"PtgAttrNoop",f:EJ},1:{n:"PtgAttrSemi",f:MZ},2:{n:"PtgAttrIf",f:PZ},4:{n:"PtgAttrChoose",f:DZ},8:{n:"PtgAttrGoto",f:FZ},16:{n:"PtgAttrSum",f:VZ},32:{n:"PtgAttrBaxcel",f:Ck},33:{n:"PtgAttrBaxcel",f:Ck},64:{n:"PtgAttrSpace",f:RZ},65:{n:"PtgAttrSpaceSemi",f:IZ},128:{n:"PtgAttrIfError",f:LZ},255:{}};function Tg(e,t,r,n){if(n.biff<8)return Fs(e,t);for(var a=e.l+t,i=[],l=0;l!==r.length;++l)switch(r[l][0]){case"PtgArray":r[l][1]=eJ(e,0,n),i.push(r[l][1]);break;case"PtgMemArea":r[l][2]=JZ(e,r[l][1],n),i.push(r[l][2]);break;case"PtgExp":n&&n.biff==12&&(r[l][1][1]=e.read_shift(4),i.push(r[l][1]));break;case"PtgList":case"PtgElfRadicalS":case"PtgElfColS":case"PtgElfColSV":throw"Unsupported "+r[l][0]}return t=a-e.l,t!==0&&i.push(Fs(e,t)),i}function Og(e,t,r){for(var n=e.l+t,a,i,l=[];n!=e.l;)t=n-e.l,i=e[e.l],a=Tk[i]||Tk[kJ[i]],(i===24||i===25)&&(a=(i===24?CJ:TJ)[e[e.l+1]]),!a||!a.f?Fs(e,t):l.push([a.n,a.f(e,t,r)]);return l}function OJ(e){for(var t=[],r=0;r<e.length;++r){for(var n=e[r],a=[],i=0;i<n.length;++i){var l=n[i];if(l)switch(l[0]){case 2:a.push('"'+l[1].replace(/"/g,'""')+'"');break;default:a.push(l[1])}else a.push("")}t.push(a.join(","))}return t.join(";")}var DJ={PtgAdd:"+",PtgConcat:"&",PtgDiv:"/",PtgEq:"=",PtgGe:">=",PtgGt:">",PtgLe:"<=",PtgLt:"<",PtgMul:"*",PtgNe:"<>",PtgPower:"^",PtgSub:"-"};function FJ(e,t){if(!e&&!(t&&t.biff<=5&&t.biff>=2))throw new Error("empty sheet name");return/[^\w\u4E00-\u9FFF\u3040-\u30FF]/.test(e)?"'"+e+"'":e}function zP(e,t,r){if(!e)return"SH33TJSERR0";if(r.biff>8&&(!e.XTI||!e.XTI[t]))return e.SheetNames[t];if(!e.XTI)return"SH33TJSERR6";var n=e.XTI[t];if(r.biff<8)return t>1e4&&(t-=65536),t<0&&(t=-t),t==0?"":e.XTI[t-1];if(!n)return"SH33TJSERR1";var a="";if(r.biff>8)switch(e[n[0]][0]){case 357:return a=n[1]==-1?"#REF":e.SheetNames[n[1]],n[1]==n[2]?a:a+":"+e.SheetNames[n[2]];case 358:return r.SID!=null?e.SheetNames[r.SID]:"SH33TJSSAME"+e[n[0]][0];case 355:default:return"SH33TJSSRC"+e[n[0]][0]}switch(e[n[0]][0][0]){case 1025:return a=n[1]==-1?"#REF":e.SheetNames[n[1]]||"SH33TJSERR3",n[1]==n[2]?a:a+":"+e.SheetNames[n[2]];case 14849:return e[n[0]].slice(1).map(function(i){return i.Name}).join(";;");default:return e[n[0]][0][3]?(a=n[1]==-1?"#REF":e[n[0]][0][3][n[1]]||"SH33TJSERR4",n[1]==n[2]?a:a+":"+e[n[0]][0][3][n[2]]):"SH33TJSERR2"}}function Ok(e,t,r){var n=zP(e,t,r);return n=="#REF"?n:FJ(n,r)}function Ns(e,t,r,n,a){var i=a&&a.biff||8,l={s:{c:0,r:0}},o=[],u,f,h,m=0,g=0,x,b="";if(!e[0]||!e[0][0])return"";for(var v=-1,w="",N=0,E=e[0].length;N<E;++N){var j=e[0][N];switch(j[0]){case"PtgUminus":o.push("-"+o.pop());break;case"PtgUplus":o.push("+"+o.pop());break;case"PtgPercent":o.push(o.pop()+"%");break;case"PtgAdd":case"PtgConcat":case"PtgDiv":case"PtgEq":case"PtgGe":case"PtgGt":case"PtgLe":case"PtgLt":case"PtgMul":case"PtgNe":case"PtgPower":case"PtgSub":if(u=o.pop(),f=o.pop(),v>=0){switch(e[0][v][1][0]){case 0:w=Ma(" ",e[0][v][1][1]);break;case 1:w=Ma("\r",e[0][v][1][1]);break;default:if(w="",a.WTF)throw new Error("Unexpected PtgAttrSpaceType "+e[0][v][1][0])}f=f+w,v=-1}o.push(f+DJ[j[0]]+u);break;case"PtgIsect":u=o.pop(),f=o.pop(),o.push(f+" "+u);break;case"PtgUnion":u=o.pop(),f=o.pop(),o.push(f+","+u);break;case"PtgRange":u=o.pop(),f=o.pop(),o.push(f+":"+u);break;case"PtgAttrChoose":break;case"PtgAttrGoto":break;case"PtgAttrIf":break;case"PtgAttrIfError":break;case"PtgRef":h=Ex(j[1][1],l,a),o.push(kx(h,i));break;case"PtgRefN":h=r?Ex(j[1][1],r,a):j[1][1],o.push(kx(h,i));break;case"PtgRef3d":m=j[1][1],h=Ex(j[1][2],l,a),b=Ok(n,m,a),o.push(b+"!"+kx(h,i));break;case"PtgFunc":case"PtgFuncVar":var T=j[1][0],O=j[1][1];T||(T=0),T&=127;var P=T==0?[]:o.slice(-T);o.length-=T,O==="User"&&(O=P.shift()),o.push(O+"("+P.join(",")+")");break;case"PtgBool":o.push(j[1]?"TRUE":"FALSE");break;case"PtgInt":o.push(j[1]);break;case"PtgNum":o.push(String(j[1]));break;case"PtgStr":o.push('"'+j[1].replace(/"/g,'""')+'"');break;case"PtgErr":o.push(j[1]);break;case"PtgAreaN":x=sk(j[1][1],r?{s:r}:l,a),o.push(Tw(x,a));break;case"PtgArea":x=sk(j[1][1],l,a),o.push(Tw(x,a));break;case"PtgArea3d":m=j[1][1],x=j[1][2],b=Ok(n,m,a),o.push(b+"!"+Tw(x,a));break;case"PtgAttrSum":o.push("SUM("+o.pop()+")");break;case"PtgAttrBaxcel":case"PtgAttrSemi":break;case"PtgName":g=j[1][2];var D=(n.names||[])[g-1]||(n[0]||[])[g],M=D?D.Name:"SH33TJSNAME"+String(g);M&&M.slice(0,6)=="_xlfn."&&!a.xlfn&&(M=M.slice(6)),o.push(M);break;case"PtgNameX":var B=j[1][1];g=j[1][2];var H;if(a.biff<=5)B<0&&(B=-B),n[B]&&(H=n[B][g]);else{var L="";if(((n[B]||[])[0]||[])[0]==14849||(((n[B]||[])[0]||[])[0]==1025?n[B][g]&&n[B][g].itab>0&&(L=n.SheetNames[n[B][g].itab-1]+"!"):L=n.SheetNames[g-1]+"!"),n[B]&&n[B][g])L+=n[B][g].Name;else if(n[0]&&n[0][g])L+=n[0][g].Name;else{var U=(zP(n,B,a)||"").split(";;");U[g-1]?L=U[g-1]:L+="SH33TJSERRX"}o.push(L);break}H||(H={Name:"SH33TJSERRY"}),o.push(H.Name);break;case"PtgParen":var G="(",te=")";if(v>=0){switch(w="",e[0][v][1][0]){case 2:G=Ma(" ",e[0][v][1][1])+G;break;case 3:G=Ma("\r",e[0][v][1][1])+G;break;case 4:te=Ma(" ",e[0][v][1][1])+te;break;case 5:te=Ma("\r",e[0][v][1][1])+te;break;default:if(a.WTF)throw new Error("Unexpected PtgAttrSpaceType "+e[0][v][1][0])}v=-1}o.push(G+o.pop()+te);break;case"PtgRefErr":o.push("#REF!");break;case"PtgRefErr3d":o.push("#REF!");break;case"PtgExp":h={c:j[1][1],r:j[1][0]};var de={c:r.c,r:r.r};if(n.sharedf[fr(h)]){var ne=n.sharedf[fr(h)];o.push(Ns(ne,l,de,n,a))}else{var Z=!1;for(u=0;u!=n.arrayf.length;++u)if(f=n.arrayf[u],!(h.c<f[0].s.c||h.c>f[0].e.c)&&!(h.r<f[0].s.r||h.r>f[0].e.r)){o.push(Ns(f[1],l,de,n,a)),Z=!0;break}Z||o.push(j[1])}break;case"PtgArray":o.push("{"+OJ(j[1])+"}");break;case"PtgMemArea":break;case"PtgAttrSpace":case"PtgAttrSpaceSemi":v=N;break;case"PtgTbl":break;case"PtgMemErr":break;case"PtgMissArg":o.push("");break;case"PtgAreaErr":o.push("#REF!");break;case"PtgAreaErr3d":o.push("#REF!");break;case"PtgList":o.push("Table"+j[1].idx+"[#"+j[1].rt+"]");break;case"PtgMemAreaN":case"PtgMemNoMemN":case"PtgAttrNoop":case"PtgSheet":case"PtgEndSheet":break;case"PtgMemFunc":break;case"PtgMemNoMem":break;case"PtgElfCol":case"PtgElfColS":case"PtgElfColSV":case"PtgElfColV":case"PtgElfLel":case"PtgElfRadical":case"PtgElfRadicalLel":case"PtgElfRadicalS":case"PtgElfRw":case"PtgElfRwV":throw new Error("Unsupported ELFs");case"PtgSxName":throw new Error("Unrecognized Formula Token: "+String(j));default:throw new Error("Unrecognized Formula Token: "+String(j))}var xe=["PtgAttrSpace","PtgAttrSpaceSemi","PtgAttrGoto"];if(a.biff!=3&&v>=0&&xe.indexOf(e[0][N][0])==-1){j=e[0][v];var le=!0;switch(j[1][0]){case 4:le=!1;case 0:w=Ma(" ",j[1][1]);break;case 5:le=!1;case 1:w=Ma("\r",j[1][1]);break;default:if(w="",a.WTF)throw new Error("Unexpected PtgAttrSpaceType "+j[1][0])}o.push((le?w:"")+o.pop()+(le?"":w)),v=-1}}if(o.length>1&&a.WTF)throw new Error("bad formula stack");return o[0]}function PJ(e,t,r){var n=e.l+t,a=r.biff==2?1:2,i,l=e.read_shift(a);if(l==65535)return[[],Fs(e,t-2)];var o=Og(e,l,r);return t!==l+a&&(i=Tg(e,t-l-a,o,r)),e.l=n,[o,i]}function LJ(e,t,r){var n=e.l+t,a=r.biff==2?1:2,i,l=e.read_shift(a);if(l==65535)return[[],Fs(e,t-2)];var o=Og(e,l,r);return t!==l+a&&(i=Tg(e,t-l-a,o,r)),e.l=n,[o,i]}function MJ(e,t,r,n){var a=e.l+t,i=Og(e,n,r),l;return a!==e.l&&(l=Tg(e,a-e.l,i,r)),[i,l]}function RJ(e,t,r){var n=e.l+t,a,i=e.read_shift(2),l=Og(e,i,r);return i==65535?[[],Fs(e,t-2)]:(t!==i+2&&(a=Tg(e,n-i-2,l,r)),[l,a])}function IJ(e){var t;if(ef(e,e.l+6)!==65535)return[Ss(e),"n"];switch(e[e.l]){case 0:return e.l+=8,["String","s"];case 1:return t=e[e.l+2]===1,e.l+=8,[t,"b"];case 2:return t=e[e.l+2],e.l+=8,[t,"e"];case 3:return e.l+=8,["","s"]}return[]}function BJ(e){if(e==null){var t=tt(8);return t.write_shift(1,3),t.write_shift(1,0),t.write_shift(2,0),t.write_shift(2,0),t.write_shift(2,65535),t}else if(typeof e=="number")return Y0(e);return Y0(0)}function Lw(e,t,r){var n=e.l+t,a=gu(e);r.biff==2&&++e.l;var i=IJ(e),l=e.read_shift(1);r.biff!=2&&(e.read_shift(1),r.biff>=5&&e.read_shift(4));var o=LJ(e,n-e.l,r);return{cell:a,val:i[0],formula:o,shared:l>>3&1,tt:i[1]}}function UJ(e,t,r,n,a){var i=Q0(t,r,a),l=BJ(e.v),o=tt(6),u=33;o.write_shift(2,u),o.write_shift(4,0);for(var f=tt(e.bf.length),h=0;h<e.bf.length;++h)f[h]=e.bf[h];var m=zi([i,l,o,f]);return m}function p2(e,t,r){var n=e.read_shift(4),a=Og(e,n,r),i=e.read_shift(4),l=i>0?Tg(e,i,a,r):null;return[a,l]}var zJ=p2,x2=p2,qJ=p2,$J=p2,HJ={0:"BEEP",1:"OPEN",2:"OPEN.LINKS",3:"CLOSE.ALL",4:"SAVE",5:"SAVE.AS",6:"FILE.DELETE",7:"PAGE.SETUP",8:"PRINT",9:"PRINTER.SETUP",10:"QUIT",11:"NEW.WINDOW",12:"ARRANGE.ALL",13:"WINDOW.SIZE",14:"WINDOW.MOVE",15:"FULL",16:"CLOSE",17:"RUN",22:"SET.PRINT.AREA",23:"SET.PRINT.TITLES",24:"SET.PAGE.BREAK",25:"REMOVE.PAGE.BREAK",26:"FONT",27:"DISPLAY",28:"PROTECT.DOCUMENT",29:"PRECISION",30:"A1.R1C1",31:"CALCULATE.NOW",32:"CALCULATION",34:"DATA.FIND",35:"EXTRACT",36:"DATA.DELETE",37:"SET.DATABASE",38:"SET.CRITERIA",39:"SORT",40:"DATA.SERIES",41:"TABLE",42:"FORMAT.NUMBER",43:"ALIGNMENT",44:"STYLE",45:"BORDER",46:"CELL.PROTECTION",47:"COLUMN.WIDTH",48:"UNDO",49:"CUT",50:"COPY",51:"PASTE",52:"CLEAR",53:"PASTE.SPECIAL",54:"EDIT.DELETE",55:"INSERT",56:"FILL.RIGHT",57:"FILL.DOWN",61:"DEFINE.NAME",62:"CREATE.NAMES",63:"FORMULA.GOTO",64:"FORMULA.FIND",65:"SELECT.LAST.CELL",66:"SHOW.ACTIVE.CELL",67:"GALLERY.AREA",68:"GALLERY.BAR",69:"GALLERY.COLUMN",70:"GALLERY.LINE",71:"GALLERY.PIE",72:"GALLERY.SCATTER",73:"COMBINATION",74:"PREFERRED",75:"ADD.OVERLAY",76:"GRIDLINES",77:"SET.PREFERRED",78:"AXES",79:"LEGEND",80:"ATTACH.TEXT",81:"ADD.ARROW",82:"SELECT.CHART",83:"SELECT.PLOT.AREA",84:"PATTERNS",85:"MAIN.CHART",86:"OVERLAY",87:"SCALE",88:"FORMAT.LEGEND",89:"FORMAT.TEXT",90:"EDIT.REPEAT",91:"PARSE",92:"JUSTIFY",93:"HIDE",94:"UNHIDE",95:"WORKSPACE",96:"FORMULA",97:"FORMULA.FILL",98:"FORMULA.ARRAY",99:"DATA.FIND.NEXT",100:"DATA.FIND.PREV",101:"FORMULA.FIND.NEXT",102:"FORMULA.FIND.PREV",103:"ACTIVATE",104:"ACTIVATE.NEXT",105:"ACTIVATE.PREV",106:"UNLOCKED.NEXT",107:"UNLOCKED.PREV",108:"COPY.PICTURE",109:"SELECT",110:"DELETE.NAME",111:"DELETE.FORMAT",112:"VLINE",113:"HLINE",114:"VPAGE",115:"HPAGE",116:"VSCROLL",117:"HSCROLL",118:"ALERT",119:"NEW",120:"CANCEL.COPY",121:"SHOW.CLIPBOARD",122:"MESSAGE",124:"PASTE.LINK",125:"APP.ACTIVATE",126:"DELETE.ARROW",127:"ROW.HEIGHT",128:"FORMAT.MOVE",129:"FORMAT.SIZE",130:"FORMULA.REPLACE",131:"SEND.KEYS",132:"SELECT.SPECIAL",133:"APPLY.NAMES",134:"REPLACE.FONT",135:"FREEZE.PANES",136:"SHOW.INFO",137:"SPLIT",138:"ON.WINDOW",139:"ON.DATA",140:"DISABLE.INPUT",142:"OUTLINE",143:"LIST.NAMES",144:"FILE.CLOSE",145:"SAVE.WORKBOOK",146:"DATA.FORM",147:"COPY.CHART",148:"ON.TIME",149:"WAIT",150:"FORMAT.FONT",151:"FILL.UP",152:"FILL.LEFT",153:"DELETE.OVERLAY",155:"SHORT.MENUS",159:"SET.UPDATE.STATUS",161:"COLOR.PALETTE",162:"DELETE.STYLE",163:"WINDOW.RESTORE",164:"WINDOW.MAXIMIZE",166:"CHANGE.LINK",167:"CALCULATE.DOCUMENT",168:"ON.KEY",169:"APP.RESTORE",170:"APP.MOVE",171:"APP.SIZE",172:"APP.MINIMIZE",173:"APP.MAXIMIZE",174:"BRING.TO.FRONT",175:"SEND.TO.BACK",185:"MAIN.CHART.TYPE",186:"OVERLAY.CHART.TYPE",187:"SELECT.END",188:"OPEN.MAIL",189:"SEND.MAIL",190:"STANDARD.FONT",191:"CONSOLIDATE",192:"SORT.SPECIAL",193:"GALLERY.3D.AREA",194:"GALLERY.3D.COLUMN",195:"GALLERY.3D.LINE",196:"GALLERY.3D.PIE",197:"VIEW.3D",198:"GOAL.SEEK",199:"WORKGROUP",200:"FILL.GROUP",201:"UPDATE.LINK",202:"PROMOTE",203:"DEMOTE",204:"SHOW.DETAIL",206:"UNGROUP",207:"OBJECT.PROPERTIES",208:"SAVE.NEW.OBJECT",209:"SHARE",210:"SHARE.NAME",211:"DUPLICATE",212:"APPLY.STYLE",213:"ASSIGN.TO.OBJECT",214:"OBJECT.PROTECTION",215:"HIDE.OBJECT",216:"SET.EXTRACT",217:"CREATE.PUBLISHER",218:"SUBSCRIBE.TO",219:"ATTRIBUTES",220:"SHOW.TOOLBAR",222:"PRINT.PREVIEW",223:"EDIT.COLOR",224:"SHOW.LEVELS",225:"FORMAT.MAIN",226:"FORMAT.OVERLAY",227:"ON.RECALC",228:"EDIT.SERIES",229:"DEFINE.STYLE",240:"LINE.PRINT",243:"ENTER.DATA",249:"GALLERY.RADAR",250:"MERGE.STYLES",251:"EDITION.OPTIONS",252:"PASTE.PICTURE",253:"PASTE.PICTURE.LINK",254:"SPELLING",256:"ZOOM",259:"INSERT.OBJECT",260:"WINDOW.MINIMIZE",265:"SOUND.NOTE",266:"SOUND.PLAY",267:"FORMAT.SHAPE",268:"EXTEND.POLYGON",269:"FORMAT.AUTO",272:"GALLERY.3D.BAR",273:"GALLERY.3D.SURFACE",274:"FILL.AUTO",276:"CUSTOMIZE.TOOLBAR",277:"ADD.TOOL",278:"EDIT.OBJECT",279:"ON.DOUBLECLICK",280:"ON.ENTRY",281:"WORKBOOK.ADD",282:"WORKBOOK.MOVE",283:"WORKBOOK.COPY",284:"WORKBOOK.OPTIONS",285:"SAVE.WORKSPACE",288:"CHART.WIZARD",289:"DELETE.TOOL",290:"MOVE.TOOL",291:"WORKBOOK.SELECT",292:"WORKBOOK.ACTIVATE",293:"ASSIGN.TO.TOOL",295:"COPY.TOOL",296:"RESET.TOOL",297:"CONSTRAIN.NUMERIC",298:"PASTE.TOOL",302:"WORKBOOK.NEW",305:"SCENARIO.CELLS",306:"SCENARIO.DELETE",307:"SCENARIO.ADD",308:"SCENARIO.EDIT",309:"SCENARIO.SHOW",310:"SCENARIO.SHOW.NEXT",311:"SCENARIO.SUMMARY",312:"PIVOT.TABLE.WIZARD",313:"PIVOT.FIELD.PROPERTIES",314:"PIVOT.FIELD",315:"PIVOT.ITEM",316:"PIVOT.ADD.FIELDS",318:"OPTIONS.CALCULATION",319:"OPTIONS.EDIT",320:"OPTIONS.VIEW",321:"ADDIN.MANAGER",322:"MENU.EDITOR",323:"ATTACH.TOOLBARS",324:"VBAActivate",325:"OPTIONS.CHART",328:"VBA.INSERT.FILE",330:"VBA.PROCEDURE.DEFINITION",336:"ROUTING.SLIP",338:"ROUTE.DOCUMENT",339:"MAIL.LOGON",342:"INSERT.PICTURE",343:"EDIT.TOOL",344:"GALLERY.DOUGHNUT",350:"CHART.TREND",352:"PIVOT.ITEM.PROPERTIES",354:"WORKBOOK.INSERT",355:"OPTIONS.TRANSITION",356:"OPTIONS.GENERAL",370:"FILTER.ADVANCED",373:"MAIL.ADD.MAILER",374:"MAIL.DELETE.MAILER",375:"MAIL.REPLY",376:"MAIL.REPLY.ALL",377:"MAIL.FORWARD",378:"MAIL.NEXT.LETTER",379:"DATA.LABEL",380:"INSERT.TITLE",381:"FONT.PROPERTIES",382:"MACRO.OPTIONS",383:"WORKBOOK.HIDE",384:"WORKBOOK.UNHIDE",385:"WORKBOOK.DELETE",386:"WORKBOOK.NAME",388:"GALLERY.CUSTOM",390:"ADD.CHART.AUTOFORMAT",391:"DELETE.CHART.AUTOFORMAT",392:"CHART.ADD.DATA",393:"AUTO.OUTLINE",394:"TAB.ORDER",395:"SHOW.DIALOG",396:"SELECT.ALL",397:"UNGROUP.SHEETS",398:"SUBTOTAL.CREATE",399:"SUBTOTAL.REMOVE",400:"RENAME.OBJECT",412:"WORKBOOK.SCROLL",413:"WORKBOOK.NEXT",414:"WORKBOOK.PREV",415:"WORKBOOK.TAB.SPLIT",416:"FULL.SCREEN",417:"WORKBOOK.PROTECT",420:"SCROLLBAR.PROPERTIES",421:"PIVOT.SHOW.PAGES",422:"TEXT.TO.COLUMNS",423:"FORMAT.CHARTTYPE",424:"LINK.FORMAT",425:"TRACER.DISPLAY",430:"TRACER.NAVIGATE",431:"TRACER.CLEAR",432:"TRACER.ERROR",433:"PIVOT.FIELD.GROUP",434:"PIVOT.FIELD.UNGROUP",435:"CHECKBOX.PROPERTIES",436:"LABEL.PROPERTIES",437:"LISTBOX.PROPERTIES",438:"EDITBOX.PROPERTIES",439:"PIVOT.REFRESH",440:"LINK.COMBO",441:"OPEN.TEXT",442:"HIDE.DIALOG",443:"SET.DIALOG.FOCUS",444:"ENABLE.OBJECT",445:"PUSHBUTTON.PROPERTIES",446:"SET.DIALOG.DEFAULT",447:"FILTER",448:"FILTER.SHOW.ALL",449:"CLEAR.OUTLINE",450:"FUNCTION.WIZARD",451:"ADD.LIST.ITEM",452:"SET.LIST.ITEM",453:"REMOVE.LIST.ITEM",454:"SELECT.LIST.ITEM",455:"SET.CONTROL.VALUE",456:"SAVE.COPY.AS",458:"OPTIONS.LISTS.ADD",459:"OPTIONS.LISTS.DELETE",460:"SERIES.AXES",461:"SERIES.X",462:"SERIES.Y",463:"ERRORBAR.X",464:"ERRORBAR.Y",465:"FORMAT.CHART",466:"SERIES.ORDER",467:"MAIL.LOGOFF",468:"CLEAR.ROUTING.SLIP",469:"APP.ACTIVATE.MICROSOFT",470:"MAIL.EDIT.MAILER",471:"ON.SHEET",472:"STANDARD.WIDTH",473:"SCENARIO.MERGE",474:"SUMMARY.INFO",475:"FIND.FILE",476:"ACTIVE.CELL.FONT",477:"ENABLE.TIPWIZARD",478:"VBA.MAKE.ADDIN",480:"INSERTDATATABLE",481:"WORKGROUP.OPTIONS",482:"MAIL.SEND.MAILER",485:"AUTOCORRECT",489:"POST.DOCUMENT",491:"PICKLIST",493:"VIEW.SHOW",494:"VIEW.DEFINE",495:"VIEW.DELETE",509:"SHEET.BACKGROUND",510:"INSERT.MAP.OBJECT",511:"OPTIONS.MENONO",517:"MSOCHECKS",518:"NORMAL",519:"LAYOUT",520:"RM.PRINT.AREA",521:"CLEAR.PRINT.AREA",522:"ADD.PRINT.AREA",523:"MOVE.BRK",545:"HIDECURR.NOTE",546:"HIDEALL.NOTES",547:"DELETE.NOTE",548:"TRAVERSE.NOTES",549:"ACTIVATE.NOTES",620:"PROTECT.REVISIONS",621:"UNPROTECT.REVISIONS",647:"OPTIONS.ME",653:"WEB.PUBLISH",667:"NEWWEBQUERY",673:"PIVOT.TABLE.CHART",753:"OPTIONS.SAVE",755:"OPTIONS.SPELL",808:"HIDEALL.INKANNOTS"},qP={0:"COUNT",1:"IF",2:"ISNA",3:"ISERROR",4:"SUM",5:"AVERAGE",6:"MIN",7:"MAX",8:"ROW",9:"COLUMN",10:"NA",11:"NPV",12:"STDEV",13:"DOLLAR",14:"FIXED",15:"SIN",16:"COS",17:"TAN",18:"ATAN",19:"PI",20:"SQRT",21:"EXP",22:"LN",23:"LOG10",24:"ABS",25:"INT",26:"SIGN",27:"ROUND",28:"LOOKUP",29:"INDEX",30:"REPT",31:"MID",32:"LEN",33:"VALUE",34:"TRUE",35:"FALSE",36:"AND",37:"OR",38:"NOT",39:"MOD",40:"DCOUNT",41:"DSUM",42:"DAVERAGE",43:"DMIN",44:"DMAX",45:"DSTDEV",46:"VAR",47:"DVAR",48:"TEXT",49:"LINEST",50:"TREND",51:"LOGEST",52:"GROWTH",53:"GOTO",54:"HALT",55:"RETURN",56:"PV",57:"FV",58:"NPER",59:"PMT",60:"RATE",61:"MIRR",62:"IRR",63:"RAND",64:"MATCH",65:"DATE",66:"TIME",67:"DAY",68:"MONTH",69:"YEAR",70:"WEEKDAY",71:"HOUR",72:"MINUTE",73:"SECOND",74:"NOW",75:"AREAS",76:"ROWS",77:"COLUMNS",78:"OFFSET",79:"ABSREF",80:"RELREF",81:"ARGUMENT",82:"SEARCH",83:"TRANSPOSE",84:"ERROR",85:"STEP",86:"TYPE",87:"ECHO",88:"SET.NAME",89:"CALLER",90:"DEREF",91:"WINDOWS",92:"SERIES",93:"DOCUMENTS",94:"ACTIVE.CELL",95:"SELECTION",96:"RESULT",97:"ATAN2",98:"ASIN",99:"ACOS",100:"CHOOSE",101:"HLOOKUP",102:"VLOOKUP",103:"LINKS",104:"INPUT",105:"ISREF",106:"GET.FORMULA",107:"GET.NAME",108:"SET.VALUE",109:"LOG",110:"EXEC",111:"CHAR",112:"LOWER",113:"UPPER",114:"PROPER",115:"LEFT",116:"RIGHT",117:"EXACT",118:"TRIM",119:"REPLACE",120:"SUBSTITUTE",121:"CODE",122:"NAMES",123:"DIRECTORY",124:"FIND",125:"CELL",126:"ISERR",127:"ISTEXT",128:"ISNUMBER",129:"ISBLANK",130:"T",131:"N",132:"FOPEN",133:"FCLOSE",134:"FSIZE",135:"FREADLN",136:"FREAD",137:"FWRITELN",138:"FWRITE",139:"FPOS",140:"DATEVALUE",141:"TIMEVALUE",142:"SLN",143:"SYD",144:"DDB",145:"GET.DEF",146:"REFTEXT",147:"TEXTREF",148:"INDIRECT",149:"REGISTER",150:"CALL",151:"ADD.BAR",152:"ADD.MENU",153:"ADD.COMMAND",154:"ENABLE.COMMAND",155:"CHECK.COMMAND",156:"RENAME.COMMAND",157:"SHOW.BAR",158:"DELETE.MENU",159:"DELETE.COMMAND",160:"GET.CHART.ITEM",161:"DIALOG.BOX",162:"CLEAN",163:"MDETERM",164:"MINVERSE",165:"MMULT",166:"FILES",167:"IPMT",168:"PPMT",169:"COUNTA",170:"CANCEL.KEY",171:"FOR",172:"WHILE",173:"BREAK",174:"NEXT",175:"INITIATE",176:"REQUEST",177:"POKE",178:"EXECUTE",179:"TERMINATE",180:"RESTART",181:"HELP",182:"GET.BAR",183:"PRODUCT",184:"FACT",185:"GET.CELL",186:"GET.WORKSPACE",187:"GET.WINDOW",188:"GET.DOCUMENT",189:"DPRODUCT",190:"ISNONTEXT",191:"GET.NOTE",192:"NOTE",193:"STDEVP",194:"VARP",195:"DSTDEVP",196:"DVARP",197:"TRUNC",198:"ISLOGICAL",199:"DCOUNTA",200:"DELETE.BAR",201:"UNREGISTER",204:"USDOLLAR",205:"FINDB",206:"SEARCHB",207:"REPLACEB",208:"LEFTB",209:"RIGHTB",210:"MIDB",211:"LENB",212:"ROUNDUP",213:"ROUNDDOWN",214:"ASC",215:"DBCS",216:"RANK",219:"ADDRESS",220:"DAYS360",221:"TODAY",222:"VDB",223:"ELSE",224:"ELSE.IF",225:"END.IF",226:"FOR.CELL",227:"MEDIAN",228:"SUMPRODUCT",229:"SINH",230:"COSH",231:"TANH",232:"ASINH",233:"ACOSH",234:"ATANH",235:"DGET",236:"CREATE.OBJECT",237:"VOLATILE",238:"LAST.ERROR",239:"CUSTOM.UNDO",240:"CUSTOM.REPEAT",241:"FORMULA.CONVERT",242:"GET.LINK.INFO",243:"TEXT.BOX",244:"INFO",245:"GROUP",246:"GET.OBJECT",247:"DB",248:"PAUSE",251:"RESUME",252:"FREQUENCY",253:"ADD.TOOLBAR",254:"DELETE.TOOLBAR",255:"User",256:"RESET.TOOLBAR",257:"EVALUATE",258:"GET.TOOLBAR",259:"GET.TOOL",260:"SPELLING.CHECK",261:"ERROR.TYPE",262:"APP.TITLE",263:"WINDOW.TITLE",264:"SAVE.TOOLBAR",265:"ENABLE.TOOL",266:"PRESS.TOOL",267:"REGISTER.ID",268:"GET.WORKBOOK",269:"AVEDEV",270:"BETADIST",271:"GAMMALN",272:"BETAINV",273:"BINOMDIST",274:"CHIDIST",275:"CHIINV",276:"COMBIN",277:"CONFIDENCE",278:"CRITBINOM",279:"EVEN",280:"EXPONDIST",281:"FDIST",282:"FINV",283:"FISHER",284:"FISHERINV",285:"FLOOR",286:"GAMMADIST",287:"GAMMAINV",288:"CEILING",289:"HYPGEOMDIST",290:"LOGNORMDIST",291:"LOGINV",292:"NEGBINOMDIST",293:"NORMDIST",294:"NORMSDIST",295:"NORMINV",296:"NORMSINV",297:"STANDARDIZE",298:"ODD",299:"PERMUT",300:"POISSON",301:"TDIST",302:"WEIBULL",303:"SUMXMY2",304:"SUMX2MY2",305:"SUMX2PY2",306:"CHITEST",307:"CORREL",308:"COVAR",309:"FORECAST",310:"FTEST",311:"INTERCEPT",312:"PEARSON",313:"RSQ",314:"STEYX",315:"SLOPE",316:"TTEST",317:"PROB",318:"DEVSQ",319:"GEOMEAN",320:"HARMEAN",321:"SUMSQ",322:"KURT",323:"SKEW",324:"ZTEST",325:"LARGE",326:"SMALL",327:"QUARTILE",328:"PERCENTILE",329:"PERCENTRANK",330:"MODE",331:"TRIMMEAN",332:"TINV",334:"MOVIE.COMMAND",335:"GET.MOVIE",336:"CONCATENATE",337:"POWER",338:"PIVOT.ADD.DATA",339:"GET.PIVOT.TABLE",340:"GET.PIVOT.FIELD",341:"GET.PIVOT.ITEM",342:"RADIANS",343:"DEGREES",344:"SUBTOTAL",345:"SUMIF",346:"COUNTIF",347:"COUNTBLANK",348:"SCENARIO.GET",349:"OPTIONS.LISTS.GET",350:"ISPMT",351:"DATEDIF",352:"DATESTRING",353:"NUMBERSTRING",354:"ROMAN",355:"OPEN.DIALOG",356:"SAVE.DIALOG",357:"VIEW.GET",358:"GETPIVOTDATA",359:"HYPERLINK",360:"PHONETIC",361:"AVERAGEA",362:"MAXA",363:"MINA",364:"STDEVPA",365:"VARPA",366:"STDEVA",367:"VARA",368:"BAHTTEXT",369:"THAIDAYOFWEEK",370:"THAIDIGIT",371:"THAIMONTHOFYEAR",372:"THAINUMSOUND",373:"THAINUMSTRING",374:"THAISTRINGLENGTH",375:"ISTHAIDIGIT",376:"ROUNDBAHTDOWN",377:"ROUNDBAHTUP",378:"THAIYEAR",379:"RTD",380:"CUBEVALUE",381:"CUBEMEMBER",382:"CUBEMEMBERPROPERTY",383:"CUBERANKEDMEMBER",384:"HEX2BIN",385:"HEX2DEC",386:"HEX2OCT",387:"DEC2BIN",388:"DEC2HEX",389:"DEC2OCT",390:"OCT2BIN",391:"OCT2HEX",392:"OCT2DEC",393:"BIN2DEC",394:"BIN2OCT",395:"BIN2HEX",396:"IMSUB",397:"IMDIV",398:"IMPOWER",399:"IMABS",400:"IMSQRT",401:"IMLN",402:"IMLOG2",403:"IMLOG10",404:"IMSIN",405:"IMCOS",406:"IMEXP",407:"IMARGUMENT",408:"IMCONJUGATE",409:"IMAGINARY",410:"IMREAL",411:"COMPLEX",412:"IMSUM",413:"IMPRODUCT",414:"SERIESSUM",415:"FACTDOUBLE",416:"SQRTPI",417:"QUOTIENT",418:"DELTA",419:"GESTEP",420:"ISEVEN",421:"ISODD",422:"MROUND",423:"ERF",424:"ERFC",425:"BESSELJ",426:"BESSELK",427:"BESSELY",428:"BESSELI",429:"XIRR",430:"XNPV",431:"PRICEMAT",432:"YIELDMAT",433:"INTRATE",434:"RECEIVED",435:"DISC",436:"PRICEDISC",437:"YIELDDISC",438:"TBILLEQ",439:"TBILLPRICE",440:"TBILLYIELD",441:"PRICE",442:"YIELD",443:"DOLLARDE",444:"DOLLARFR",445:"NOMINAL",446:"EFFECT",447:"CUMPRINC",448:"CUMIPMT",449:"EDATE",450:"EOMONTH",451:"YEARFRAC",452:"COUPDAYBS",453:"COUPDAYS",454:"COUPDAYSNC",455:"COUPNCD",456:"COUPNUM",457:"COUPPCD",458:"DURATION",459:"MDURATION",460:"ODDLPRICE",461:"ODDLYIELD",462:"ODDFPRICE",463:"ODDFYIELD",464:"RANDBETWEEN",465:"WEEKNUM",466:"AMORDEGRC",467:"AMORLINC",468:"CONVERT",724:"SHEETJS",469:"ACCRINT",470:"ACCRINTM",471:"WORKDAY",472:"NETWORKDAYS",473:"GCD",474:"MULTINOMIAL",475:"LCM",476:"FVSCHEDULE",477:"CUBEKPIMEMBER",478:"CUBESET",479:"CUBESETCOUNT",480:"IFERROR",481:"COUNTIFS",482:"SUMIFS",483:"AVERAGEIF",484:"AVERAGEIFS"},VJ={2:1,3:1,10:0,15:1,16:1,17:1,18:1,19:0,20:1,21:1,22:1,23:1,24:1,25:1,26:1,27:2,30:2,31:3,32:1,33:1,34:0,35:0,38:1,39:2,40:3,41:3,42:3,43:3,44:3,45:3,47:3,48:2,53:1,61:3,63:0,65:3,66:3,67:1,68:1,69:1,70:1,71:1,72:1,73:1,74:0,75:1,76:1,77:1,79:2,80:2,83:1,85:0,86:1,89:0,90:1,94:0,95:0,97:2,98:1,99:1,101:3,102:3,105:1,106:1,108:2,111:1,112:1,113:1,114:1,117:2,118:1,119:4,121:1,126:1,127:1,128:1,129:1,130:1,131:1,133:1,134:1,135:1,136:2,137:2,138:2,140:1,141:1,142:3,143:4,144:4,161:1,162:1,163:1,164:1,165:2,172:1,175:2,176:2,177:3,178:2,179:1,184:1,186:1,189:3,190:1,195:3,196:3,197:1,198:1,199:3,201:1,207:4,210:3,211:1,212:2,213:2,214:1,215:1,225:0,229:1,230:1,231:1,232:1,233:1,234:1,235:3,244:1,247:4,252:2,257:1,261:1,271:1,273:4,274:2,275:2,276:2,277:3,278:3,279:1,280:3,281:3,282:3,283:1,284:1,285:2,286:4,287:3,288:2,289:4,290:3,291:3,292:3,293:4,294:1,295:3,296:1,297:3,298:1,299:2,300:3,301:3,302:4,303:2,304:2,305:2,306:2,307:2,308:2,309:3,310:2,311:2,312:2,313:2,314:2,315:2,316:4,325:2,326:2,327:2,328:2,331:2,332:2,337:2,342:1,343:1,346:2,347:1,350:4,351:3,352:1,353:2,360:1,368:1,369:1,370:1,371:1,372:1,373:1,374:1,375:1,376:1,377:1,378:1,382:3,385:1,392:1,393:1,396:2,397:2,398:2,399:1,400:1,401:1,402:1,403:1,404:1,405:1,406:1,407:1,408:1,409:1,410:1,414:4,415:1,416:1,417:2,420:1,421:1,422:2,424:1,425:2,426:2,427:2,428:2,430:3,438:3,439:3,440:3,443:2,444:2,445:2,446:2,447:6,448:6,449:2,450:2,464:2,468:3,476:2,479:1,480:2,65535:0};function Dk(e){return e.slice(0,3)=="of:"&&(e=e.slice(3)),e.charCodeAt(0)==61&&(e=e.slice(1),e.charCodeAt(0)==61&&(e=e.slice(1))),e=e.replace(/COM\.MICROSOFT\./g,""),e=e.replace(/\[((?:\.[A-Z]+[0-9]+)(?::\.[A-Z]+[0-9]+)?)\]/g,function(t,r){return r.replace(/\./g,"")}),e=e.replace(/\[.(#[A-Z]*[?!])\]/g,"$1"),e.replace(/[;~]/g,",").replace(/\|/g,";")}function WJ(e){var t="of:="+e.replace(b3,"$1[.$2$3$4$5]").replace(/\]:\[/g,":");return t.replace(/;/g,"|").replace(/,/g,";")}function Mw(e){var t=e.split(":"),r=t[0].split(".")[0];return[r,t[0].split(".")[1]+(t.length>1?":"+(t[1].split(".")[1]||t[1].split(".")[0]):"")]}function KJ(e){return e.replace(/\./,"!")}var Tx={},Pm={},Ox=typeof Map<"u";function _3(e,t,r){var n=0,a=e.length;if(r){if(Ox?r.has(t):Object.prototype.hasOwnProperty.call(r,t)){for(var i=Ox?r.get(t):r[t];n<i.length;++n)if(e[i[n]].t===t)return e.Count++,i[n]}}else for(;n<a;++n)if(e[n].t===t)return e.Count++,n;return e[a]={t},e.Count++,e.Unique++,r&&(Ox?(r.has(t)||r.set(t,[]),r.get(t).push(a)):(Object.prototype.hasOwnProperty.call(r,t)||(r[t]=[]),r[t].push(a))),a}function g2(e,t){var r={min:e+1,max:e+1},n=-1;return t.MDW&&(_s=t.MDW),t.width!=null?r.customWidth=1:t.wpx!=null?n=rg(t.wpx):t.wch!=null&&(n=t.wch),n>-1?(r.width=fy(n),r.customWidth=1):t.width!=null&&(r.width=t.width),t.hidden&&(r.hidden=!0),t.level!=null&&(r.outlineLevel=r.level=t.level),r}function M0(e,t){if(e){var r=[.7,.7,.75,.75,.3,.3];t=="xlml"&&(r=[1,1,1,1,.5,.5]),e.left==null&&(e.left=r[0]),e.right==null&&(e.right=r[1]),e.top==null&&(e.top=r[2]),e.bottom==null&&(e.bottom=r[3]),e.header==null&&(e.header=r[4]),e.footer==null&&(e.footer=r[5])}}function Ud(e,t,r){var n=r.revssf[t.z!=null?t.z:"General"],a=60,i=e.length;if(n==null&&r.ssf){for(;a<392;++a)if(r.ssf[a]==null){of(t.z,a),r.ssf[a]=t.z,r.revssf[t.z]=n=a;break}}for(a=0;a!=i;++a)if(e[a].numFmtId===n)return a;return e[i]={numFmtId:n,fontId:0,fillId:0,borderId:0,xfId:0,applyNumberFormat:1},i}function $P(e,t,r,n,a,i){try{n.cellNF&&(e.z=ur[t])}catch(o){if(n.WTF)throw o}if(!(e.t==="z"&&!n.cellStyles)){if(e.t==="d"&&typeof e.v=="string"&&(e.v=Jn(e.v)),(!n||n.cellText!==!1)&&e.t!=="z")try{if(ur[t]==null&&of(HW[t]||"General",t),e.t==="e")e.w=e.w||Af[e.v];else if(t===0)if(e.t==="n")(e.v|0)===e.v?e.w=e.v.toString(10):e.w=Yx(e.v);else if(e.t==="d"){var l=Si(e.v);(l|0)===l?e.w=l.toString(10):e.w=Yx(l)}else{if(e.v===void 0)return"";e.w=K0(e.v,Pm)}else e.t==="d"?e.w=qo(t,Si(e.v),Pm):e.w=qo(t,e.v,Pm)}catch(o){if(n.WTF)throw o}if(n.cellStyles&&r!=null)try{e.s=i.Fills[r],e.s.fgColor&&e.s.fgColor.theme&&!e.s.fgColor.rgb&&(e.s.fgColor.rgb=uy(a.themeElements.clrScheme[e.s.fgColor.theme].rgb,e.s.fgColor.tint||0),n.WTF&&(e.s.fgColor.raw_rgb=a.themeElements.clrScheme[e.s.fgColor.theme].rgb)),e.s.bgColor&&e.s.bgColor.theme&&(e.s.bgColor.rgb=uy(a.themeElements.clrScheme[e.s.bgColor.theme].rgb,e.s.bgColor.tint||0),n.WTF&&(e.s.bgColor.raw_rgb=a.themeElements.clrScheme[e.s.bgColor.theme].rgb))}catch(o){if(n.WTF&&i.Fills)throw o}}}function GJ(e,t,r){if(e&&e["!ref"]){var n=tn(e["!ref"]);if(n.e.c<n.s.c||n.e.r<n.s.r)throw new Error("Bad range ("+r+"): "+e["!ref"])}}function YJ(e,t){var r=tn(t);r.s.r<=r.e.r&&r.s.c<=r.e.c&&r.s.r>=0&&r.s.c>=0&&(e["!ref"]=Nr(r))}var XJ=/<(?:\w:)?mergeCell ref="[A-Z0-9:]+"\s*[\/]?>/g,QJ=/<(?:\w+:)?sheetData[^>]*>([\s\S]*)<\/(?:\w+:)?sheetData>/,ZJ=/<(?:\w:)?hyperlink [^>]*>/mg,JJ=/"(\w*:\w*)"/,eee=/<(?:\w:)?col\b[^>]*[\/]?>/g,tee=/<(?:\w:)?autoFilter[^>]*([\/]|>([\s\S]*)<\/(?:\w:)?autoFilter)>/g,ree=/<(?:\w:)?pageMargins[^>]*\/>/g,HP=/<(?:\w:)?sheetPr\b(?:[^>a-z][^>]*)?\/>/,nee=/<(?:\w:)?sheetPr[^>]*(?:[\/]|>([\s\S]*)<\/(?:\w:)?sheetPr)>/,aee=/<(?:\w:)?sheetViews[^>]*(?:[\/]|>([\s\S]*)<\/(?:\w:)?sheetViews)>/;function iee(e,t,r,n,a,i,l){if(!e)return e;n||(n={"!id":{}});var o=t.dense?[]:{},u={s:{r:2e6,c:2e6},e:{r:0,c:0}},f="",h="",m=e.match(QJ);m?(f=e.slice(0,m.index),h=e.slice(m.index+m[0].length)):f=h=e;var g=f.match(HP);g?j3(g[0],o,a,r):(g=f.match(nee))&&lee(g[0],g[1]||"",o,a,r);var x=(f.match(/<(?:\w*:)?dimension/)||{index:-1}).index;if(x>0){var b=f.slice(x,x+50).match(JJ);b&&YJ(o,b[1])}var v=f.match(aee);v&&v[1]&&bee(v[1],a);var w=[];if(t.cellStyles){var N=f.match(eee);N&&pee(w,N)}m&&_ee(m[1],o,t,u,i,l);var E=h.match(tee);E&&(o["!autofilter"]=gee(E[0]));var j=[],T=h.match(XJ);if(T)for(x=0;x!=T.length;++x)j[x]=tn(T[x].slice(T[x].indexOf('"')+1));var O=h.match(ZJ);O&&dee(o,O,n);var P=h.match(ree);if(P&&(o["!margins"]=hee(hr(P[0]))),!o["!ref"]&&u.e.c>=u.s.c&&u.e.r>=u.s.r&&(o["!ref"]=Nr(u)),t.sheetRows>0&&o["!ref"]){var D=tn(o["!ref"]);t.sheetRows<=+D.e.r&&(D.e.r=t.sheetRows-1,D.e.r>u.e.r&&(D.e.r=u.e.r),D.e.r<D.s.r&&(D.s.r=D.e.r),D.e.c>u.e.c&&(D.e.c=u.e.c),D.e.c<D.s.c&&(D.s.c=D.e.c),o["!fullref"]=o["!ref"],o["!ref"]=Nr(D))}return w.length>0&&(o["!cols"]=w),j.length>0&&(o["!merges"]=j),o}function see(e){if(e.length===0)return"";for(var t='<mergeCells count="'+e.length+'">',r=0;r!=e.length;++r)t+='<mergeCell ref="'+Nr(e[r])+'"/>';return t+"</mergeCells>"}function j3(e,t,r,n){var a=hr(e);r.Sheets[n]||(r.Sheets[n]={}),a.codeName&&(r.Sheets[n].CodeName=Zr(Dn(a.codeName)))}function lee(e,t,r,n,a){j3(e.slice(0,e.indexOf(">")),r,n,a)}function oee(e,t,r,n,a){var i=!1,l={},o=null;if(n.bookType!=="xlsx"&&t.vbaraw){var u=t.SheetNames[r];try{t.Workbook&&(u=t.Workbook.Sheets[r].CodeName||u)}catch{}i=!0,l.codeName=cu(_n(u))}if(e&&e["!outline"]){var f={summaryBelow:1,summaryRight:1};e["!outline"].above&&(f.summaryBelow=0),e["!outline"].left&&(f.summaryRight=0),o=(o||"")+wt("outlinePr",null,f)}!i&&!o||(a[a.length]=wt("sheetPr",o,l))}var cee=["objects","scenarios","selectLockedCells","selectUnlockedCells"],uee=["formatColumns","formatRows","formatCells","insertColumns","insertRows","insertHyperlinks","deleteColumns","deleteRows","sort","autoFilter","pivotTables"];function fee(e){var t={sheet:1};return cee.forEach(function(r){e[r]!=null&&e[r]&&(t[r]="1")}),uee.forEach(function(r){e[r]!=null&&!e[r]&&(t[r]="0")}),e.password&&(t.password=g3(e.password).toString(16).toUpperCase()),wt("sheetProtection",null,t)}function dee(e,t,r){for(var n=Array.isArray(e),a=0;a!=t.length;++a){var i=hr(Dn(t[a]),!0);if(!i.ref)return;var l=((r||{})["!id"]||[])[i.id];l?(i.Target=l.Target,i.location&&(i.Target+="#"+Zr(i.location))):(i.Target="#"+Zr(i.location),l={Target:i.Target,TargetMode:"Internal"}),i.Rel=l,i.tooltip&&(i.Tooltip=i.tooltip,delete i.tooltip);for(var o=tn(i.ref),u=o.s.r;u<=o.e.r;++u)for(var f=o.s.c;f<=o.e.c;++f){var h=fr({c:f,r:u});n?(e[u]||(e[u]=[]),e[u][f]||(e[u][f]={t:"z",v:void 0}),e[u][f].l=i):(e[h]||(e[h]={t:"z",v:void 0}),e[h].l=i)}}}function hee(e){var t={};return["left","right","top","bottom","header","footer"].forEach(function(r){e[r]&&(t[r]=parseFloat(e[r]))}),t}function mee(e){return M0(e),wt("pageMargins",null,e)}function pee(e,t){for(var r=!1,n=0;n!=t.length;++n){var a=hr(t[n],!0);a.hidden&&(a.hidden=Qn(a.hidden));var i=parseInt(a.min,10)-1,l=parseInt(a.max,10)-1;for(a.outlineLevel&&(a.level=+a.outlineLevel||0),delete a.min,delete a.max,a.width=+a.width,!r&&a.width&&(r=!0,v3(a.width)),kd(a);i<=l;)e[i++]=ea(a)}}function xee(e,t){for(var r=["<cols>"],n,a=0;a!=t.length;++a)(n=t[a])&&(r[r.length]=wt("col",null,g2(a,n)));return r[r.length]="</cols>",r.join("")}function gee(e){var t={ref:(e.match(/ref="([^"]*)"/)||[])[1]};return t}function vee(e,t,r,n){var a=typeof e.ref=="string"?e.ref:Nr(e.ref);r.Workbook||(r.Workbook={Sheets:[]}),r.Workbook.Names||(r.Workbook.Names=[]);var i=r.Workbook.Names,l=Tl(a);l.s.r==l.e.r&&(l.e.r=Tl(t["!ref"]).e.r,a=Nr(l));for(var o=0;o<i.length;++o){var u=i[o];if(u.Name=="_xlnm._FilterDatabase"&&u.Sheet==n){u.Ref="'"+r.SheetNames[n]+"'!"+a;break}}return o==i.length&&i.push({Name:"_xlnm._FilterDatabase",Sheet:n,Ref:"'"+r.SheetNames[n]+"'!"+a}),wt("autoFilter",null,{ref:a})}var yee=/<(?:\w:)?sheetView(?:[^>a-z][^>]*)?\/?>/;function bee(e,t){t.Views||(t.Views=[{}]),(e.match(yee)||[]).forEach(function(r,n){var a=hr(r);t.Views[n]||(t.Views[n]={}),+a.zoomScale&&(t.Views[n].zoom=+a.zoomScale),Qn(a.rightToLeft)&&(t.Views[n].RTL=!0)})}function wee(e,t,r,n){var a={workbookViewId:"0"};return(((n||{}).Workbook||{}).Views||[])[0]&&(a.rightToLeft=n.Workbook.Views[0].RTL?"1":"0"),wt("sheetViews",wt("sheetView",null,a),{})}function Nee(e,t,r,n){if(e.c&&r["!comments"].push([t,e.c]),e.v===void 0&&typeof e.f!="string"||e.t==="z"&&!e.f)return"";var a="",i=e.t,l=e.v;if(e.t!=="z")switch(e.t){case"b":a=e.v?"1":"0";break;case"n":a=""+e.v;break;case"e":a=Af[e.v];break;case"d":n&&n.cellDates?a=Jn(e.v,-1).toISOString():(e=ea(e),e.t="n",a=""+(e.v=Si(Jn(e.v)))),typeof e.z>"u"&&(e.z=ur[14]);break;default:a=e.v;break}var o=ss("v",_n(a)),u={r:t},f=Ud(n.cellXfs,e,n);switch(f!==0&&(u.s=f),e.t){case"n":break;case"d":u.t="d";break;case"b":u.t="b";break;case"e":u.t="e";break;case"z":break;default:if(e.v==null){delete e.t;break}if(e.v.length>32767)throw new Error("Text length must not exceed 32767 characters");if(n&&n.bookSST){o=ss("v",""+_3(n.Strings,e.v,n.revStrings)),u.t="s";break}u.t="str";break}if(e.t!=i&&(e.t=i,e.v=l),typeof e.f=="string"&&e.f){var h=e.F&&e.F.slice(0,t.length)==t?{t:"array",ref:e.F}:null;o=wt("f",_n(e.f),h)+(e.v!=null?o:"")}return e.l&&r["!links"].push([t,e.l]),e.D&&(u.cm=1),wt("c",o,u)}var _ee=(function(){var e=/<(?:\w+:)?c[ \/>]/,t=/<\/(?:\w+:)?row>/,r=/r=["']([^"']*)["']/,n=/<(?:\w+:)?is>([\S\s]*?)<\/(?:\w+:)?is>/,a=/ref=["']([^"']*)["']/,i=Xx("v"),l=Xx("f");return function(u,f,h,m,g,x){for(var b=0,v="",w=[],N=[],E=0,j=0,T=0,O="",P,D,M=0,B=0,H,L,U=0,G=0,te=Array.isArray(x.CellXf),de,ne=[],Z=[],xe=Array.isArray(f),le=[],Se={},re=!1,R=!!h.sheetStubs,F=u.split(t),q=0,W=F.length;q!=W;++q){v=F[q].trim();var Q=v.length;if(Q!==0){var oe=0;e:for(b=0;b<Q;++b)switch(v[b]){case">":if(v[b-1]!="/"){++b;break e}if(h&&h.cellStyles){if(D=hr(v.slice(oe,b),!0),M=D.r!=null?parseInt(D.r,10):M+1,B=-1,h.sheetRows&&h.sheetRows<M)continue;Se={},re=!1,D.ht&&(re=!0,Se.hpt=parseFloat(D.ht),Se.hpx=Hm(Se.hpt)),D.hidden=="1"&&(re=!0,Se.hidden=!0),D.outlineLevel!=null&&(re=!0,Se.level=+D.outlineLevel),re&&(le[M-1]=Se)}break;case"<":oe=b;break}if(oe>=b)break;if(D=hr(v.slice(oe,b),!0),M=D.r!=null?parseInt(D.r,10):M+1,B=-1,!(h.sheetRows&&h.sheetRows<M)){m.s.r>M-1&&(m.s.r=M-1),m.e.r<M-1&&(m.e.r=M-1),h&&h.cellStyles&&(Se={},re=!1,D.ht&&(re=!0,Se.hpt=parseFloat(D.ht),Se.hpx=Hm(Se.hpt)),D.hidden=="1"&&(re=!0,Se.hidden=!0),D.outlineLevel!=null&&(re=!0,Se.level=+D.outlineLevel),re&&(le[M-1]=Se)),w=v.slice(b).split(e);for(var ue=0;ue!=w.length&&w[ue].trim().charAt(0)=="<";++ue);for(w=w.slice(ue),b=0;b!=w.length;++b)if(v=w[b].trim(),v.length!==0){if(N=v.match(r),E=b,j=0,T=0,v="<c "+(v.slice(0,1)=="<"?">":"")+v,N!=null&&N.length===2){for(E=0,O=N[1],j=0;j!=O.length&&!((T=O.charCodeAt(j)-64)<1||T>26);++j)E=26*E+T;--E,B=E}else++B;for(j=0;j!=v.length&&v.charCodeAt(j)!==62;++j);if(++j,D=hr(v.slice(0,j),!0),D.r||(D.r=fr({r:M-1,c:B})),O=v.slice(j),P={t:""},(N=O.match(i))!=null&&N[1]!==""&&(P.v=Zr(N[1])),h.cellFormula){if((N=O.match(l))!=null&&N[1]!==""){if(P.f=Zr(Dn(N[1])).replace(/\r\n/g,`
`),h.xlfn||(P.f=kk(P.f)),N[0].indexOf('t="array"')>-1)P.F=(O.match(a)||[])[1],P.F.indexOf(":")>-1&&ne.push([tn(P.F),P.F]);else if(N[0].indexOf('t="shared"')>-1){L=hr(N[0]);var X=Zr(Dn(N[1]));h.xlfn||(X=kk(X)),Z[parseInt(L.si,10)]=[L,X,D.r]}}else(N=O.match(/<f[^>]*\/>/))&&(L=hr(N[0]),Z[L.si]&&(P.f=yZ(Z[L.si][1],Z[L.si][2],D.r)));var ve=ja(D.r);for(j=0;j<ne.length;++j)ve.r>=ne[j][0].s.r&&ve.r<=ne[j][0].e.r&&ve.c>=ne[j][0].s.c&&ve.c<=ne[j][0].e.c&&(P.F=ne[j][1])}if(D.t==null&&P.v===void 0)if(P.f||P.F)P.v=0,P.t="n";else if(R)P.t="z";else continue;else P.t=D.t||"n";switch(m.s.c>B&&(m.s.c=B),m.e.c<B&&(m.e.c=B),P.t){case"n":if(P.v==""||P.v==null){if(!R)continue;P.t="z"}else P.v=parseFloat(P.v);break;case"s":if(typeof P.v>"u"){if(!R)continue;P.t="z"}else H=Tx[parseInt(P.v,10)],P.v=H.t,P.r=H.r,h.cellHTML&&(P.h=H.h);break;case"str":P.t="s",P.v=P.v!=null?Dn(P.v):"",h.cellHTML&&(P.h=r3(P.v));break;case"inlineStr":N=O.match(n),P.t="s",N!=null&&(H=x3(N[1]))?(P.v=H.t,h.cellHTML&&(P.h=H.h)):P.v="";break;case"b":P.v=Qn(P.v);break;case"d":h.cellDates?P.v=Jn(P.v,1):(P.v=Si(Jn(P.v,1)),P.t="n");break;case"e":(!h||h.cellText!==!1)&&(P.w=P.v),P.v=WF[P.v];break}if(U=G=0,de=null,te&&D.s!==void 0&&(de=x.CellXf[D.s],de!=null&&(de.numFmtId!=null&&(U=de.numFmtId),h.cellStyles&&de.fillId!=null&&(G=de.fillId))),$P(P,U,G,h,g,x),h.cellDates&&te&&P.t=="n"&&ip(ur[U])&&(P.t="d",P.v=h2(P.v)),D.cm&&h.xlmeta){var Te=(h.xlmeta.Cell||[])[+D.cm-1];Te&&Te.type=="XLDAPR"&&(P.D=!0)}if(xe){var Y=ja(D.r);f[Y.r]||(f[Y.r]=[]),f[Y.r][Y.c]=P}else f[D.r]=P}}}}le.length>0&&(f["!rows"]=le)}})();function jee(e,t,r,n){var a=[],i=[],l=tn(e["!ref"]),o="",u,f="",h=[],m=0,g=0,x=e["!rows"],b=Array.isArray(e),v={r:f},w,N=-1;for(g=l.s.c;g<=l.e.c;++g)h[g]=_a(g);for(m=l.s.r;m<=l.e.r;++m){for(i=[],f=Qa(m),g=l.s.c;g<=l.e.c;++g){u=h[g]+f;var E=b?(e[m]||[])[g]:e[u];E!==void 0&&(o=Nee(E,u,e,t))!=null&&i.push(o)}(i.length>0||x&&x[m])&&(v={r:f},x&&x[m]&&(w=x[m],w.hidden&&(v.hidden=1),N=-1,w.hpx?N=ng(w.hpx):w.hpt&&(N=w.hpt),N>-1&&(v.ht=N,v.customHeight=1),w.level&&(v.outlineLevel=w.level)),a[a.length]=wt("row",i.join(""),v))}if(x)for(;m<x.length;++m)x&&x[m]&&(v={r:m+1},w=x[m],w.hidden&&(v.hidden=1),N=-1,w.hpx?N=ng(w.hpx):w.hpt&&(N=w.hpt),N>-1&&(v.ht=N,v.customHeight=1),w.level&&(v.outlineLevel=w.level),a[a.length]=wt("row","",v));return a.join("")}function VP(e,t,r,n){var a=[Za,wt("worksheet",null,{xmlns:fh[0],"xmlns:r":ji.r})],i=r.SheetNames[e],l=0,o="",u=r.Sheets[i];u==null&&(u={});var f=u["!ref"]||"A1",h=tn(f);if(h.e.c>16383||h.e.r>1048575){if(t.WTF)throw new Error("Range "+f+" exceeds format limit A1:XFD1048576");h.e.c=Math.min(h.e.c,16383),h.e.r=Math.min(h.e.c,1048575),f=Nr(h)}n||(n={}),u["!comments"]=[];var m=[];oee(u,r,e,t,a),a[a.length]=wt("dimension",null,{ref:f}),a[a.length]=wee(u,t,e,r),t.sheetFormat&&(a[a.length]=wt("sheetFormatPr",null,{defaultRowHeight:t.sheetFormat.defaultRowHeight||"16",baseColWidth:t.sheetFormat.baseColWidth||"10",outlineLevelRow:t.sheetFormat.outlineLevelRow||"7"})),u["!cols"]!=null&&u["!cols"].length>0&&(a[a.length]=xee(u,u["!cols"])),a[l=a.length]="<sheetData/>",u["!links"]=[],u["!ref"]!=null&&(o=jee(u,t),o.length>0&&(a[a.length]=o)),a.length>l+1&&(a[a.length]="</sheetData>",a[l]=a[l].replace("/>",">")),u["!protect"]&&(a[a.length]=fee(u["!protect"])),u["!autofilter"]!=null&&(a[a.length]=vee(u["!autofilter"],u,r,e)),u["!merges"]!=null&&u["!merges"].length>0&&(a[a.length]=see(u["!merges"]));var g=-1,x,b=-1;return u["!links"].length>0&&(a[a.length]="<hyperlinks>",u["!links"].forEach(function(v){v[1].Target&&(x={ref:v[0]},v[1].Target.charAt(0)!="#"&&(b=bn(n,-1,_n(v[1].Target).replace(/#.*$/,""),Dr.HLINK),x["r:id"]="rId"+b),(g=v[1].Target.indexOf("#"))>-1&&(x.location=_n(v[1].Target.slice(g+1))),v[1].Tooltip&&(x.tooltip=_n(v[1].Tooltip)),a[a.length]=wt("hyperlink",null,x))}),a[a.length]="</hyperlinks>"),delete u["!links"],u["!margins"]!=null&&(a[a.length]=mee(u["!margins"])),(!t||t.ignoreEC||t.ignoreEC==null)&&(a[a.length]=ss("ignoredErrors",wt("ignoredError",null,{numberStoredAsText:1,sqref:f}))),m.length>0&&(b=bn(n,-1,"../drawings/drawing"+(e+1)+".xml",Dr.DRAW),a[a.length]=wt("drawing",null,{"r:id":"rId"+b}),u["!drawing"]=m),u["!comments"].length>0&&(b=bn(n,-1,"../drawings/vmlDrawing"+(e+1)+".vml",Dr.VML),a[a.length]=wt("legacyDrawing",null,{"r:id":"rId"+b}),u["!legacy"]=b),a.length>1&&(a[a.length]="</worksheet>",a[1]=a[1].replace("/>",">")),a.join("")}function See(e,t){var r={},n=e.l+t;r.r=e.read_shift(4),e.l+=4;var a=e.read_shift(2);e.l+=1;var i=e.read_shift(1);return e.l=n,i&7&&(r.level=i&7),i&16&&(r.hidden=!0),i&32&&(r.hpt=a/20),r}function Aee(e,t,r){var n=tt(145),a=(r["!rows"]||[])[e]||{};n.write_shift(4,e),n.write_shift(4,0);var i=320;a.hpx?i=ng(a.hpx)*20:a.hpt&&(i=a.hpt*20),n.write_shift(2,i),n.write_shift(1,0);var l=0;a.level&&(l|=a.level),a.hidden&&(l|=16),(a.hpx||a.hpt)&&(l|=32),n.write_shift(1,l),n.write_shift(1,0);var o=0,u=n.l;n.l+=4;for(var f={r:e,c:0},h=0;h<16;++h)if(!(t.s.c>h+1<<10||t.e.c<h<<10)){for(var m=-1,g=-1,x=h<<10;x<h+1<<10;++x){f.c=x;var b=Array.isArray(r)?(r[f.r]||[])[f.c]:r[fr(f)];b&&(m<0&&(m=x),g=x)}m<0||(++o,n.write_shift(4,m),n.write_shift(4,g))}var v=n.l;return n.l=u,n.write_shift(4,o),n.l=v,n.length>n.l?n.slice(0,n.l):n}function Eee(e,t,r,n){var a=Aee(n,r,t);(a.length>17||(t["!rows"]||[])[n])&&ut(e,0,a)}var kee=ph,Cee=op;function Tee(){}function Oee(e,t){var r={},n=e[e.l];return++e.l,r.above=!(n&64),r.left=!(n&128),e.l+=18,r.name=PK(e),r}function Dee(e,t,r){r==null&&(r=tt(84+4*e.length));var n=192;t&&(t.above&&(n&=-65),t.left&&(n&=-129)),r.write_shift(1,n);for(var a=1;a<3;++a)r.write_shift(1,0);return ly({auto:1},r),r.write_shift(-4,-1),r.write_shift(-4,-1),zF(e,r),r.slice(0,r.l)}function Fee(e){var t=Go(e);return[t]}function Pee(e,t,r){return r==null&&(r=tt(8)),dh(t,r)}function Lee(e){var t=hh(e);return[t]}function Mee(e,t,r){return r==null&&(r=tt(4)),mh(t,r)}function Ree(e){var t=Go(e),r=e.read_shift(1);return[t,r,"b"]}function Iee(e,t,r){return r==null&&(r=tt(9)),dh(t,r),r.write_shift(1,e.v?1:0),r}function Bee(e){var t=hh(e),r=e.read_shift(1);return[t,r,"b"]}function Uee(e,t,r){return r==null&&(r=tt(5)),mh(t,r),r.write_shift(1,e.v?1:0),r}function zee(e){var t=Go(e),r=e.read_shift(1);return[t,r,"e"]}function qee(e,t,r){return r==null&&(r=tt(9)),dh(t,r),r.write_shift(1,e.v),r}function $ee(e){var t=hh(e),r=e.read_shift(1);return[t,r,"e"]}function Hee(e,t,r){return r==null&&(r=tt(8)),mh(t,r),r.write_shift(1,e.v),r.write_shift(2,0),r.write_shift(1,0),r}function Vee(e){var t=Go(e),r=e.read_shift(4);return[t,r,"s"]}function Wee(e,t,r){return r==null&&(r=tt(12)),dh(t,r),r.write_shift(4,t.v),r}function Kee(e){var t=hh(e),r=e.read_shift(4);return[t,r,"s"]}function Gee(e,t,r){return r==null&&(r=tt(8)),mh(t,r),r.write_shift(4,t.v),r}function Yee(e){var t=Go(e),r=Ss(e);return[t,r,"n"]}function Xee(e,t,r){return r==null&&(r=tt(16)),dh(t,r),Y0(e.v,r),r}function WP(e){var t=hh(e),r=Ss(e);return[t,r,"n"]}function Qee(e,t,r){return r==null&&(r=tt(12)),mh(t,r),Y0(e.v,r),r}function Zee(e){var t=Go(e),r=f3(e);return[t,r,"n"]}function Jee(e,t,r){return r==null&&(r=tt(12)),dh(t,r),qF(e.v,r),r}function ete(e){var t=hh(e),r=f3(e);return[t,r,"n"]}function tte(e,t,r){return r==null&&(r=tt(8)),mh(t,r),qF(e.v,r),r}function rte(e){var t=Go(e),r=o3(e);return[t,r,"is"]}function nte(e){var t=Go(e),r=Ts(e);return[t,r,"str"]}function ate(e,t,r){return r==null&&(r=tt(12+4*e.v.length)),dh(t,r),qi(e.v,r),r.length>r.l?r.slice(0,r.l):r}function ite(e){var t=hh(e),r=Ts(e);return[t,r,"str"]}function ste(e,t,r){return r==null&&(r=tt(8+4*e.v.length)),mh(t,r),qi(e.v,r),r.length>r.l?r.slice(0,r.l):r}function lte(e,t,r){var n=e.l+t,a=Go(e);a.r=r["!row"];var i=e.read_shift(1),l=[a,i,"b"];if(r.cellFormula){e.l+=2;var o=x2(e,n-e.l,r);l[3]=Ns(o,null,a,r.supbooks,r)}else e.l=n;return l}function ote(e,t,r){var n=e.l+t,a=Go(e);a.r=r["!row"];var i=e.read_shift(1),l=[a,i,"e"];if(r.cellFormula){e.l+=2;var o=x2(e,n-e.l,r);l[3]=Ns(o,null,a,r.supbooks,r)}else e.l=n;return l}function cte(e,t,r){var n=e.l+t,a=Go(e);a.r=r["!row"];var i=Ss(e),l=[a,i,"n"];if(r.cellFormula){e.l+=2;var o=x2(e,n-e.l,r);l[3]=Ns(o,null,a,r.supbooks,r)}else e.l=n;return l}function ute(e,t,r){var n=e.l+t,a=Go(e);a.r=r["!row"];var i=Ts(e),l=[a,i,"str"];if(r.cellFormula){e.l+=2;var o=x2(e,n-e.l,r);l[3]=Ns(o,null,a,r.supbooks,r)}else e.l=n;return l}var fte=ph,dte=op;function hte(e,t){return t==null&&(t=tt(4)),t.write_shift(4,e),t}function mte(e,t){var r=e.l+t,n=ph(e),a=c3(e),i=Ts(e),l=Ts(e),o=Ts(e);e.l=r;var u={rfx:n,relId:a,loc:i,display:o};return l&&(u.Tooltip=l),u}function pte(e,t){var r=tt(50+4*(e[1].Target.length+(e[1].Tooltip||"").length));op({s:ja(e[0]),e:ja(e[0])},r),u3("rId"+t,r);var n=e[1].Target.indexOf("#"),a=n==-1?"":e[1].Target.slice(n+1);return qi(a||"",r),qi(e[1].Tooltip||"",r),qi("",r),r.slice(0,r.l)}function xte(){}function gte(e,t,r){var n=e.l+t,a=$F(e),i=e.read_shift(1),l=[a];if(l[2]=i,r.cellFormula){var o=zJ(e,n-e.l,r);l[1]=o}else e.l=n;return l}function vte(e,t,r){var n=e.l+t,a=ph(e),i=[a];if(r.cellFormula){var l=$J(e,n-e.l,r);i[1]=l,e.l=n}else e.l=n;return i}function yte(e,t,r){r==null&&(r=tt(18));var n=g2(e,t);r.write_shift(-4,e),r.write_shift(-4,e),r.write_shift(4,(n.width||10)*256),r.write_shift(4,0);var a=0;return t.hidden&&(a|=1),typeof n.width=="number"&&(a|=2),t.level&&(a|=t.level<<8),r.write_shift(2,a),r}var KP=["left","right","top","bottom","header","footer"];function bte(e){var t={};return KP.forEach(function(r){t[r]=Ss(e)}),t}function wte(e,t){return t==null&&(t=tt(48)),M0(e),KP.forEach(function(r){Y0(e[r],t)}),t}function Nte(e){var t=e.read_shift(2);return e.l+=28,{RTL:t&32}}function _te(e,t,r){r==null&&(r=tt(30));var n=924;return(((t||{}).Views||[])[0]||{}).RTL&&(n|=32),r.write_shift(2,n),r.write_shift(4,0),r.write_shift(4,0),r.write_shift(4,0),r.write_shift(1,0),r.write_shift(1,0),r.write_shift(2,0),r.write_shift(2,100),r.write_shift(2,0),r.write_shift(2,0),r.write_shift(2,0),r.write_shift(4,0),r}function jte(e){var t=tt(24);return t.write_shift(4,4),t.write_shift(4,1),op(e,t),t}function Ste(e,t){return t==null&&(t=tt(66)),t.write_shift(2,e.password?g3(e.password):0),t.write_shift(4,1),[["objects",!1],["scenarios",!1],["formatCells",!0],["formatColumns",!0],["formatRows",!0],["insertColumns",!0],["insertRows",!0],["insertHyperlinks",!0],["deleteColumns",!0],["deleteRows",!0],["selectLockedCells",!1],["sort",!0],["autoFilter",!0],["pivotTables",!0],["selectUnlockedCells",!1]].forEach(function(r){r[1]?t.write_shift(4,e[r[0]]!=null&&!e[r[0]]?1:0):t.write_shift(4,e[r[0]]!=null&&e[r[0]]?0:1)}),t}function Ate(){}function Ete(){}function kte(e,t,r,n,a,i,l){if(!e)return e;var o=t||{};n||(n={"!id":{}});var u=o.dense?[]:{},f,h={s:{r:2e6,c:2e6},e:{r:0,c:0}},m=!1,g=!1,x,b,v,w,N,E,j,T,O,P=[];o.biff=12,o["!row"]=0;var D=0,M=!1,B=[],H={},L=o.supbooks||a.supbooks||[[]];if(L.sharedf=H,L.arrayf=B,L.SheetNames=a.SheetNames||a.Sheets.map(function(xe){return xe.name}),!o.supbooks&&(o.supbooks=L,a.Names))for(var U=0;U<a.Names.length;++U)L[0][U+1]=a.Names[U];var G=[],te=[],de=!1;ag[16]={n:"BrtShortReal",f:WP};var ne;if(Sf(e,function(le,Se,re){if(!g)switch(re){case 148:f=le;break;case 0:x=le,o.sheetRows&&o.sheetRows<=x.r&&(g=!0),T=Qa(w=x.r),o["!row"]=x.r,(le.hidden||le.hpt||le.level!=null)&&(le.hpt&&(le.hpx=Hm(le.hpt)),te[le.r]=le);break;case 2:case 3:case 4:case 5:case 6:case 7:case 8:case 9:case 10:case 11:case 13:case 14:case 15:case 16:case 17:case 18:case 62:switch(b={t:le[2]},le[2]){case"n":b.v=le[1];break;case"s":j=Tx[le[1]],b.v=j.t,b.r=j.r;break;case"b":b.v=!!le[1];break;case"e":b.v=le[1],o.cellText!==!1&&(b.w=Af[b.v]);break;case"str":b.t="s",b.v=le[1];break;case"is":b.t="s",b.v=le[1].t;break}if((v=l.CellXf[le[0].iStyleRef])&&$P(b,v.numFmtId,null,o,i,l),N=le[0].c==-1?N+1:le[0].c,o.dense?(u[w]||(u[w]=[]),u[w][N]=b):u[_a(N)+T]=b,o.cellFormula){for(M=!1,D=0;D<B.length;++D){var R=B[D];x.r>=R[0].s.r&&x.r<=R[0].e.r&&N>=R[0].s.c&&N<=R[0].e.c&&(b.F=Nr(R[0]),M=!0)}!M&&le.length>3&&(b.f=le[3])}if(h.s.r>x.r&&(h.s.r=x.r),h.s.c>N&&(h.s.c=N),h.e.r<x.r&&(h.e.r=x.r),h.e.c<N&&(h.e.c=N),o.cellDates&&v&&b.t=="n"&&ip(ur[v.numFmtId])){var F=k0(b.v);F&&(b.t="d",b.v=new Date(F.y,F.m-1,F.d,F.H,F.M,F.S,F.u))}ne&&(ne.type=="XLDAPR"&&(b.D=!0),ne=void 0);break;case 1:case 12:if(!o.sheetStubs||m)break;b={t:"z",v:void 0},N=le[0].c==-1?N+1:le[0].c,o.dense?(u[w]||(u[w]=[]),u[w][N]=b):u[_a(N)+T]=b,h.s.r>x.r&&(h.s.r=x.r),h.s.c>N&&(h.s.c=N),h.e.r<x.r&&(h.e.r=x.r),h.e.c<N&&(h.e.c=N),ne&&(ne.type=="XLDAPR"&&(b.D=!0),ne=void 0);break;case 176:P.push(le);break;case 49:ne=((o.xlmeta||{}).Cell||[])[le-1];break;case 494:var q=n["!id"][le.relId];for(q?(le.Target=q.Target,le.loc&&(le.Target+="#"+le.loc),le.Rel=q):le.relId==""&&(le.Target="#"+le.loc),w=le.rfx.s.r;w<=le.rfx.e.r;++w)for(N=le.rfx.s.c;N<=le.rfx.e.c;++N)o.dense?(u[w]||(u[w]=[]),u[w][N]||(u[w][N]={t:"z",v:void 0}),u[w][N].l=le):(E=fr({c:N,r:w}),u[E]||(u[E]={t:"z",v:void 0}),u[E].l=le);break;case 426:if(!o.cellFormula)break;B.push(le),O=o.dense?u[w][N]:u[_a(N)+T],O.f=Ns(le[1],h,{r:x.r,c:N},L,o),O.F=Nr(le[0]);break;case 427:if(!o.cellFormula)break;H[fr(le[0].s)]=le[1],O=o.dense?u[w][N]:u[_a(N)+T],O.f=Ns(le[1],h,{r:x.r,c:N},L,o);break;case 60:if(!o.cellStyles)break;for(;le.e>=le.s;)G[le.e--]={width:le.w/256,hidden:!!(le.flags&1),level:le.level},de||(de=!0,v3(le.w/256)),kd(G[le.e+1]);break;case 161:u["!autofilter"]={ref:Nr(le)};break;case 476:u["!margins"]=le;break;case 147:a.Sheets[r]||(a.Sheets[r]={}),le.name&&(a.Sheets[r].CodeName=le.name),(le.above||le.left)&&(u["!outline"]={above:le.above,left:le.left});break;case 137:a.Views||(a.Views=[{}]),a.Views[0]||(a.Views[0]={}),le.RTL&&(a.Views[0].RTL=!0);break;case 485:break;case 64:case 1053:break;case 151:break;case 152:case 175:case 644:case 625:case 562:case 396:case 1112:case 1146:case 471:case 1050:case 649:case 1105:case 589:case 607:case 564:case 1055:case 168:case 174:case 1180:case 499:case 507:case 550:case 171:case 167:case 1177:case 169:case 1181:case 551:case 552:case 661:case 639:case 478:case 537:case 477:case 536:case 1103:case 680:case 1104:case 1024:case 663:case 535:case 678:case 504:case 1043:case 428:case 170:case 3072:case 50:case 2070:case 1045:break;case 35:m=!0;break;case 36:m=!1;break;case 37:m=!0;break;case 38:m=!1;break;default:if(!Se.T){if(!m||o.WTF)throw new Error("Unexpected record 0x"+re.toString(16))}}},o),delete o.supbooks,delete o["!row"],!u["!ref"]&&(h.s.r<2e6||f&&(f.e.r>0||f.e.c>0||f.s.r>0||f.s.c>0))&&(u["!ref"]=Nr(f||h)),o.sheetRows&&u["!ref"]){var Z=tn(u["!ref"]);o.sheetRows<=+Z.e.r&&(Z.e.r=o.sheetRows-1,Z.e.r>h.e.r&&(Z.e.r=h.e.r),Z.e.r<Z.s.r&&(Z.s.r=Z.e.r),Z.e.c>h.e.c&&(Z.e.c=h.e.c),Z.e.c<Z.s.c&&(Z.s.c=Z.e.c),u["!fullref"]=u["!ref"],u["!ref"]=Nr(Z))}return P.length>0&&(u["!merges"]=P),G.length>0&&(u["!cols"]=G),te.length>0&&(u["!rows"]=te),u}function Cte(e,t,r,n,a,i,l){if(t.v===void 0)return!1;var o="";switch(t.t){case"b":o=t.v?"1":"0";break;case"d":t=ea(t),t.z=t.z||ur[14],t.v=Si(Jn(t.v)),t.t="n";break;case"n":case"e":o=""+t.v;break;default:o=t.v;break}var u={r,c:n};switch(u.s=Ud(a.cellXfs,t,a),t.l&&i["!links"].push([fr(u),t.l]),t.c&&i["!comments"].push([fr(u),t.c]),t.t){case"s":case"str":return a.bookSST?(o=_3(a.Strings,t.v,a.revStrings),u.t="s",u.v=o,l?ut(e,18,Gee(t,u)):ut(e,7,Wee(t,u))):(u.t="str",l?ut(e,17,ste(t,u)):ut(e,6,ate(t,u))),!0;case"n":return t.v==(t.v|0)&&t.v>-1e3&&t.v<1e3?l?ut(e,13,tte(t,u)):ut(e,2,Jee(t,u)):l?ut(e,16,Qee(t,u)):ut(e,5,Xee(t,u)),!0;case"b":return u.t="b",l?ut(e,15,Uee(t,u)):ut(e,4,Iee(t,u)),!0;case"e":return u.t="e",l?ut(e,14,Hee(t,u)):ut(e,3,qee(t,u)),!0}return l?ut(e,12,Mee(t,u)):ut(e,1,Pee(t,u)),!0}function Tte(e,t,r,n){var a=tn(t["!ref"]||"A1"),i,l="",o=[];ut(e,145);var u=Array.isArray(t),f=a.e.r;t["!rows"]&&(f=Math.max(a.e.r,t["!rows"].length-1));for(var h=a.s.r;h<=f;++h){l=Qa(h),Eee(e,t,a,h);var m=!1;if(h<=a.e.r)for(var g=a.s.c;g<=a.e.c;++g){h===a.s.r&&(o[g]=_a(g)),i=o[g]+l;var x=u?(t[h]||[])[g]:t[i];if(!x){m=!1;continue}m=Cte(e,x,h,g,n,t,m)}}ut(e,146)}function Ote(e,t){!t||!t["!merges"]||(ut(e,177,hte(t["!merges"].length)),t["!merges"].forEach(function(r){ut(e,176,dte(r))}),ut(e,178))}function Dte(e,t){!t||!t["!cols"]||(ut(e,390),t["!cols"].forEach(function(r,n){r&&ut(e,60,yte(n,r))}),ut(e,391))}function Fte(e,t){!t||!t["!ref"]||(ut(e,648),ut(e,649,jte(tn(t["!ref"]))),ut(e,650))}function Pte(e,t,r){t["!links"].forEach(function(n){if(n[1].Target){var a=bn(r,-1,n[1].Target.replace(/#.*$/,""),Dr.HLINK);ut(e,494,pte(n,a))}}),delete t["!links"]}function Lte(e,t,r,n){if(t["!comments"].length>0){var a=bn(n,-1,"../drawings/vmlDrawing"+(r+1)+".vml",Dr.VML);ut(e,551,u3("rId"+a)),t["!legacy"]=a}}function Mte(e,t,r,n){if(t["!autofilter"]){var a=t["!autofilter"],i=typeof a.ref=="string"?a.ref:Nr(a.ref);r.Workbook||(r.Workbook={Sheets:[]}),r.Workbook.Names||(r.Workbook.Names=[]);var l=r.Workbook.Names,o=Tl(i);o.s.r==o.e.r&&(o.e.r=Tl(t["!ref"]).e.r,i=Nr(o));for(var u=0;u<l.length;++u){var f=l[u];if(f.Name=="_xlnm._FilterDatabase"&&f.Sheet==n){f.Ref="'"+r.SheetNames[n]+"'!"+i;break}}u==l.length&&l.push({Name:"_xlnm._FilterDatabase",Sheet:n,Ref:"'"+r.SheetNames[n]+"'!"+i}),ut(e,161,op(tn(i))),ut(e,162)}}function Rte(e,t,r){ut(e,133),ut(e,137,_te(t,r)),ut(e,138),ut(e,134)}function Ite(e,t){t["!protect"]&&ut(e,535,Ste(t["!protect"]))}function Bte(e,t,r,n){var a=kl(),i=r.SheetNames[e],l=r.Sheets[i]||{},o=i;try{r&&r.Workbook&&(o=r.Workbook.Sheets[e].CodeName||o)}catch{}var u=tn(l["!ref"]||"A1");if(u.e.c>16383||u.e.r>1048575){if(t.WTF)throw new Error("Range "+(l["!ref"]||"A1")+" exceeds format limit A1:XFD1048576");u.e.c=Math.min(u.e.c,16383),u.e.r=Math.min(u.e.c,1048575)}return l["!links"]=[],l["!comments"]=[],ut(a,129),(r.vbaraw||l["!outline"])&&ut(a,147,Dee(o,l["!outline"])),ut(a,148,Cee(u)),Rte(a,l,r.Workbook),Dte(a,l),Tte(a,l,e,t),Ite(a,l),Mte(a,l,r,e),Ote(a,l),Pte(a,l,n),l["!margins"]&&ut(a,476,wte(l["!margins"])),(!t||t.ignoreEC||t.ignoreEC==null)&&Fte(a,l),Lte(a,l,e,n),ut(a,130),a.end()}function Ute(e){var t=[],r=e.match(/^<c:numCache>/),n;(e.match(/<c:pt idx="(\d*)">(.*?)<\/c:pt>/mg)||[]).forEach(function(i){var l=i.match(/<c:pt idx="(\d*?)"><c:v>(.*)<\/c:v><\/c:pt>/);l&&(t[+l[1]]=r?+l[2]:l[2])});var a=Zr((e.match(/<c:formatCode>([\s\S]*?)<\/c:formatCode>/)||["","General"])[1]);return(e.match(/<c:f>(.*?)<\/c:f>/mg)||[]).forEach(function(i){n=i.replace(/<.*?>/g,"")}),[t,a,n]}function zte(e,t,r,n,a,i){var l=i||{"!type":"chart"};if(!e)return i;var o=0,u=0,f="A",h={s:{r:2e6,c:2e6},e:{r:0,c:0}};return(e.match(/<c:numCache>[\s\S]*?<\/c:numCache>/gm)||[]).forEach(function(m){var g=Ute(m);h.s.r=h.s.c=0,h.e.c=o,f=_a(o),g[0].forEach(function(x,b){l[f+Qa(b)]={t:"n",v:x,z:g[1]},u=b}),h.e.r<u&&(h.e.r=u),++o}),o>0&&(l["!ref"]=Nr(h)),l}function qte(e,t,r,n,a){if(!e)return e;n||(n={"!id":{}});var i={"!type":"chart","!drawel":null,"!rel":""},l,o=e.match(HP);return o&&j3(o[0],i,a,r),(l=e.match(/drawing r:id="(.*?)"/))&&(i["!rel"]=l[1]),n["!id"][i["!rel"]]&&(i["!drawel"]=n["!id"][i["!rel"]]),i}function $te(e,t){e.l+=10;var r=Ts(e);return{name:r}}function Hte(e,t,r,n,a){if(!e)return e;n||(n={"!id":{}});var i={"!type":"chart","!drawel":null,"!rel":""},l=!1;return Sf(e,function(u,f,h){switch(h){case 550:i["!rel"]=u;break;case 651:a.Sheets[r]||(a.Sheets[r]={}),u.name&&(a.Sheets[r].CodeName=u.name);break;case 562:case 652:case 669:case 679:case 551:case 552:case 476:case 3072:break;case 35:l=!0;break;case 36:l=!1;break;case 37:break;case 38:break;default:if(!(f.T>0)){if(!(f.T<0)){if(!l||t.WTF)throw new Error("Unexpected record 0x"+h.toString(16))}}}},t),n["!id"][i["!rel"]]&&(i["!drawel"]=n["!id"][i["!rel"]]),i}var S3=[["allowRefreshQuery",!1,"bool"],["autoCompressPictures",!0,"bool"],["backupFile",!1,"bool"],["checkCompatibility",!1,"bool"],["CodeName",""],["date1904",!1,"bool"],["defaultThemeVersion",0,"int"],["filterPrivacy",!1,"bool"],["hidePivotFieldList",!1,"bool"],["promptedSolutions",!1,"bool"],["publishItems",!1,"bool"],["refreshAllConnections",!1,"bool"],["saveExternalLinkValues",!0,"bool"],["showBorderUnselectedTables",!0,"bool"],["showInkAnnotation",!0,"bool"],["showObjects","all"],["showPivotChartFilter",!1,"bool"],["updateLinks","userSet"]],Vte=[["activeTab",0,"int"],["autoFilterDateGrouping",!0,"bool"],["firstSheet",0,"int"],["minimized",!1,"bool"],["showHorizontalScroll",!0,"bool"],["showSheetTabs",!0,"bool"],["showVerticalScroll",!0,"bool"],["tabRatio",600,"int"],["visibility","visible"]],Wte=[],Kte=[["calcCompleted","true"],["calcMode","auto"],["calcOnSave","true"],["concurrentCalc","true"],["fullCalcOnLoad","false"],["fullPrecision","true"],["iterate","false"],["iterateCount","100"],["iterateDelta","0.001"],["refMode","A1"]];function Fk(e,t){for(var r=0;r!=e.length;++r)for(var n=e[r],a=0;a!=t.length;++a){var i=t[a];if(n[i[0]]==null)n[i[0]]=i[1];else switch(i[2]){case"bool":typeof n[i[0]]=="string"&&(n[i[0]]=Qn(n[i[0]]));break;case"int":typeof n[i[0]]=="string"&&(n[i[0]]=parseInt(n[i[0]],10));break}}}function Pk(e,t){for(var r=0;r!=t.length;++r){var n=t[r];if(e[n[0]]==null)e[n[0]]=n[1];else switch(n[2]){case"bool":typeof e[n[0]]=="string"&&(e[n[0]]=Qn(e[n[0]]));break;case"int":typeof e[n[0]]=="string"&&(e[n[0]]=parseInt(e[n[0]],10));break}}}function GP(e){Pk(e.WBProps,S3),Pk(e.CalcPr,Kte),Fk(e.WBView,Vte),Fk(e.Sheets,Wte),Pm.date1904=Qn(e.WBProps.date1904)}function Gte(e){return!e.Workbook||!e.Workbook.WBProps?"false":Qn(e.Workbook.WBProps.date1904)?"true":"false"}var Yte="][*?/\\".split("");function YP(e,t){if(e.length>31)throw new Error("Sheet names cannot exceed 31 chars");var r=!0;return Yte.forEach(function(n){if(e.indexOf(n)!=-1)throw new Error("Sheet name cannot contain : \\ / ? * [ ]")}),r}function Xte(e,t,r){e.forEach(function(n,a){YP(n);for(var i=0;i<a;++i)if(n==e[i])throw new Error("Duplicate Sheet Name: "+n);if(r){var l=t&&t[a]&&t[a].CodeName||n;if(l.charCodeAt(0)==95&&l.length>22)throw new Error("Bad Code Name: Worksheet"+l)}})}function Qte(e){if(!e||!e.SheetNames||!e.Sheets)throw new Error("Invalid Workbook");if(!e.SheetNames.length)throw new Error("Workbook is empty");var t=e.Workbook&&e.Workbook.Sheets||[];Xte(e.SheetNames,t,!!e.vbaraw);for(var r=0;r<e.SheetNames.length;++r)GJ(e.Sheets[e.SheetNames[r]],e.SheetNames[r],r)}var Zte=/<\w+:workbook/;function Jte(e,t){if(!e)throw new Error("Could not find file");var r={AppVersion:{},WBProps:{},WBView:[],Sheets:[],CalcPr:{},Names:[],xmlns:""},n=!1,a="xmlns",i={},l=0;if(e.replace(Ls,function(u,f){var h=hr(u);switch(xu(h[0])){case"<?xml":break;case"<workbook":u.match(Zte)&&(a="xmlns"+u.match(/<(\w+):/)[1]),r.xmlns=h[a];break;case"</workbook>":break;case"<fileVersion":delete h[0],r.AppVersion=h;break;case"<fileVersion/>":case"</fileVersion>":break;case"<fileSharing":break;case"<fileSharing/>":break;case"<workbookPr":case"<workbookPr/>":S3.forEach(function(m){if(h[m[0]]!=null)switch(m[2]){case"bool":r.WBProps[m[0]]=Qn(h[m[0]]);break;case"int":r.WBProps[m[0]]=parseInt(h[m[0]],10);break;default:r.WBProps[m[0]]=h[m[0]]}}),h.codeName&&(r.WBProps.CodeName=Dn(h.codeName));break;case"</workbookPr>":break;case"<workbookProtection":break;case"<workbookProtection/>":break;case"<bookViews":case"<bookViews>":case"</bookViews>":break;case"<workbookView":case"<workbookView/>":delete h[0],r.WBView.push(h);break;case"</workbookView>":break;case"<sheets":case"<sheets>":case"</sheets>":break;case"<sheet":switch(h.state){case"hidden":h.Hidden=1;break;case"veryHidden":h.Hidden=2;break;default:h.Hidden=0}delete h.state,h.name=Zr(Dn(h.name)),delete h[0],r.Sheets.push(h);break;case"</sheet>":break;case"<functionGroups":case"<functionGroups/>":break;case"<functionGroup":break;case"<externalReferences":case"</externalReferences>":case"<externalReferences>":break;case"<externalReference":break;case"<definedNames/>":break;case"<definedNames>":case"<definedNames":n=!0;break;case"</definedNames>":n=!1;break;case"<definedName":i={},i.Name=Dn(h.name),h.comment&&(i.Comment=h.comment),h.localSheetId&&(i.Sheet=+h.localSheetId),Qn(h.hidden||"0")&&(i.Hidden=!0),l=f+u.length;break;case"</definedName>":i.Ref=Zr(Dn(e.slice(l,f))),r.Names.push(i);break;case"<definedName/>":break;case"<calcPr":delete h[0],r.CalcPr=h;break;case"<calcPr/>":delete h[0],r.CalcPr=h;break;case"</calcPr>":break;case"<oleSize":break;case"<customWorkbookViews>":case"</customWorkbookViews>":case"<customWorkbookViews":break;case"<customWorkbookView":case"</customWorkbookView>":break;case"<pivotCaches>":case"</pivotCaches>":case"<pivotCaches":break;case"<pivotCache":break;case"<smartTagPr":case"<smartTagPr/>":break;case"<smartTagTypes":case"<smartTagTypes>":case"</smartTagTypes>":break;case"<smartTagType":break;case"<webPublishing":case"<webPublishing/>":break;case"<fileRecoveryPr":case"<fileRecoveryPr/>":break;case"<webPublishObjects>":case"<webPublishObjects":case"</webPublishObjects>":break;case"<webPublishObject":break;case"<extLst":case"<extLst>":case"</extLst>":case"<extLst/>":break;case"<ext":n=!0;break;case"</ext>":n=!1;break;case"<ArchID":break;case"<AlternateContent":case"<AlternateContent>":n=!0;break;case"</AlternateContent>":n=!1;break;case"<revisionPtr":break;default:if(!n&&t.WTF)throw new Error("unrecognized "+h[0]+" in workbook")}return u}),fh.indexOf(r.xmlns)===-1)throw new Error("Unknown Namespace: "+r.xmlns);return GP(r),r}function XP(e){var t=[Za];t[t.length]=wt("workbook",null,{xmlns:fh[0],"xmlns:r":ji.r});var r=e.Workbook&&(e.Workbook.Names||[]).length>0,n={codeName:"ThisWorkbook"};e.Workbook&&e.Workbook.WBProps&&(S3.forEach(function(o){e.Workbook.WBProps[o[0]]!=null&&e.Workbook.WBProps[o[0]]!=o[1]&&(n[o[0]]=e.Workbook.WBProps[o[0]])}),e.Workbook.WBProps.CodeName&&(n.codeName=e.Workbook.WBProps.CodeName,delete n.CodeName)),t[t.length]=wt("workbookPr",null,n);var a=e.Workbook&&e.Workbook.Sheets||[],i=0;if(a&&a[0]&&a[0].Hidden){for(t[t.length]="<bookViews>",i=0;i!=e.SheetNames.length&&!(!a[i]||!a[i].Hidden);++i);i==e.SheetNames.length&&(i=0),t[t.length]='<workbookView firstSheet="'+i+'" activeTab="'+i+'"/>',t[t.length]="</bookViews>"}for(t[t.length]="<sheets>",i=0;i!=e.SheetNames.length;++i){var l={name:_n(e.SheetNames[i].slice(0,31))};if(l.sheetId=""+(i+1),l["r:id"]="rId"+(i+1),a[i])switch(a[i].Hidden){case 1:l.state="hidden";break;case 2:l.state="veryHidden";break}t[t.length]=wt("sheet",null,l)}return t[t.length]="</sheets>",r&&(t[t.length]="<definedNames>",e.Workbook&&e.Workbook.Names&&e.Workbook.Names.forEach(function(o){var u={name:o.Name};o.Comment&&(u.comment=o.Comment),o.Sheet!=null&&(u.localSheetId=""+o.Sheet),o.Hidden&&(u.hidden="1"),o.Ref&&(t[t.length]=wt("definedName",_n(o.Ref),u))}),t[t.length]="</definedNames>"),t.length>2&&(t[t.length]="</workbook>",t[1]=t[1].replace("/>",">")),t.join("")}function ere(e,t){var r={};return r.Hidden=e.read_shift(4),r.iTabID=e.read_shift(4),r.strRelID=nN(e),r.name=Ts(e),r}function tre(e,t){return t||(t=tt(127)),t.write_shift(4,e.Hidden),t.write_shift(4,e.iTabID),u3(e.strRelID,t),qi(e.name.slice(0,31),t),t.length>t.l?t.slice(0,t.l):t}function rre(e,t){var r={},n=e.read_shift(4);r.defaultThemeVersion=e.read_shift(4);var a=t>8?Ts(e):"";return a.length>0&&(r.CodeName=a),r.autoCompressPictures=!!(n&65536),r.backupFile=!!(n&64),r.checkCompatibility=!!(n&4096),r.date1904=!!(n&1),r.filterPrivacy=!!(n&8),r.hidePivotFieldList=!!(n&1024),r.promptedSolutions=!!(n&16),r.publishItems=!!(n&2048),r.refreshAllConnections=!!(n&262144),r.saveExternalLinkValues=!!(n&128),r.showBorderUnselectedTables=!!(n&4),r.showInkAnnotation=!!(n&32),r.showObjects=["all","placeholders","none"][n>>13&3],r.showPivotChartFilter=!!(n&32768),r.updateLinks=["userSet","never","always"][n>>8&3],r}function nre(e,t){t||(t=tt(72));var r=0;return e&&e.filterPrivacy&&(r|=8),t.write_shift(4,r),t.write_shift(4,0),zF(e&&e.CodeName||"ThisWorkbook",t),t.slice(0,t.l)}function are(e,t){var r={};return e.read_shift(4),r.ArchID=e.read_shift(4),e.l+=t-8,r}function ire(e,t,r){var n=e.l+t;e.l+=4,e.l+=1;var a=e.read_shift(4),i=LK(e),l=qJ(e,0,r),o=c3(e);e.l=n;var u={Name:i,Ptg:l};return a<268435455&&(u.Sheet=a),o&&(u.Comment=o),u}function sre(e,t){var r={AppVersion:{},WBProps:{},WBView:[],Sheets:[],CalcPr:{},xmlns:""},n=[],a=!1;t||(t={}),t.biff=12;var i=[],l=[[]];return l.SheetNames=[],l.XTI=[],ag[16]={n:"BrtFRTArchID$",f:are},Sf(e,function(u,f,h){switch(h){case 156:l.SheetNames.push(u.name),r.Sheets.push(u);break;case 153:r.WBProps=u;break;case 39:u.Sheet!=null&&(t.SID=u.Sheet),u.Ref=Ns(u.Ptg,null,null,l,t),delete t.SID,delete u.Ptg,i.push(u);break;case 1036:break;case 357:case 358:case 355:case 667:l[0].length?l.push([h,u]):l[0]=[h,u],l[l.length-1].XTI=[];break;case 362:l.length===0&&(l[0]=[],l[0].XTI=[]),l[l.length-1].XTI=l[l.length-1].XTI.concat(u),l.XTI=l.XTI.concat(u);break;case 361:break;case 2071:case 158:case 143:case 664:case 353:break;case 3072:case 3073:case 534:case 677:case 157:case 610:case 2050:case 155:case 548:case 676:case 128:case 665:case 2128:case 2125:case 549:case 2053:case 596:case 2076:case 2075:case 2082:case 397:case 154:case 1117:case 553:case 2091:break;case 35:n.push(h),a=!0;break;case 36:n.pop(),a=!1;break;case 37:n.push(h),a=!0;break;case 38:n.pop(),a=!1;break;case 16:break;default:if(!f.T){if(!a||t.WTF&&n[n.length-1]!=37&&n[n.length-1]!=35)throw new Error("Unexpected record 0x"+h.toString(16))}}},t),GP(r),r.Names=i,r.supbooks=l,r}function lre(e,t){ut(e,143);for(var r=0;r!=t.SheetNames.length;++r){var n=t.Workbook&&t.Workbook.Sheets&&t.Workbook.Sheets[r]&&t.Workbook.Sheets[r].Hidden||0,a={Hidden:n,iTabID:r+1,strRelID:"rId"+(r+1),name:t.SheetNames[r]};ut(e,156,tre(a))}ut(e,144)}function ore(e,t){t||(t=tt(127));for(var r=0;r!=4;++r)t.write_shift(4,0);return qi("SheetJS",t),qi(ey.version,t),qi(ey.version,t),qi("7262",t),t.length>t.l?t.slice(0,t.l):t}function cre(e,t){t||(t=tt(29)),t.write_shift(-4,0),t.write_shift(-4,460),t.write_shift(4,28800),t.write_shift(4,17600),t.write_shift(4,500),t.write_shift(4,e),t.write_shift(4,e);var r=120;return t.write_shift(1,r),t.length>t.l?t.slice(0,t.l):t}function ure(e,t){if(!(!t.Workbook||!t.Workbook.Sheets)){for(var r=t.Workbook.Sheets,n=0,a=-1,i=-1;n<r.length;++n)!r[n]||!r[n].Hidden&&a==-1?a=n:r[n].Hidden==1&&i==-1&&(i=n);i>a||(ut(e,135),ut(e,158,cre(a)),ut(e,136))}}function fre(e,t){var r=kl();return ut(r,131),ut(r,128,ore()),ut(r,153,nre(e.Workbook&&e.Workbook.WBProps||null)),ure(r,e),lre(r,e),ut(r,132),r.end()}function dre(e,t,r){return t.slice(-4)===".bin"?sre(e,r):Jte(e,r)}function hre(e,t,r,n,a,i,l,o){return t.slice(-4)===".bin"?kte(e,n,r,a,i,l,o):iee(e,n,r,a,i,l,o)}function mre(e,t,r,n,a,i,l,o){return t.slice(-4)===".bin"?Hte(e,n,r,a,i):qte(e,n,r,a,i)}function pre(e,t,r,n,a,i,l,o){return t.slice(-4)===".bin"?gZ():vZ()}function xre(e,t,r,n,a,i,l,o){return t.slice(-4)===".bin"?pZ():xZ()}function gre(e,t,r,n){return t.slice(-4)===".bin"?dQ(e,r,n):eQ(e,r,n)}function vre(e,t,r){return TP(e,r)}function yre(e,t,r){return t.slice(-4)===".bin"?yX(e,r):xX(e,r)}function bre(e,t,r){return t.slice(-4)===".bin"?uZ(e,r):tZ(e,r)}function wre(e,t,r){return t.slice(-4)===".bin"?ZQ(e):XQ(e)}function Nre(e,t,r,n){return r.slice(-4)===".bin"?JQ(e,t,r,n):void 0}function _re(e,t,r){return t.slice(-4)===".bin"?KQ(e,t,r):YQ(e,t,r)}function jre(e,t,r){return(t.slice(-4)===".bin"?fre:XP)(e)}function Sre(e,t,r,n,a){return(t.slice(-4)===".bin"?Bte:VP)(e,r,n,a)}function Are(e,t,r){return(t.slice(-4)===".bin"?NQ:kP)(e,r)}function Ere(e,t,r){return(t.slice(-4)===".bin"?NX:bP)(e,r)}function kre(e,t,r){return(t.slice(-4)===".bin"?fZ:FP)(e)}function Cre(e){return(e.slice(-4)===".bin"?GQ:OP)()}var QP=/([\w:]+)=((?:")([^"]*)(?:")|(?:')([^']*)(?:'))/g,ZP=/([\w:]+)=((?:")(?:[^"]*)(?:")|(?:')(?:[^']*)(?:'))/;function yc(e,t){var r=e.split(/\s+/),n=[];if(n[0]=r[0],r.length===1)return n;var a=e.match(QP),i,l,o,u;if(a)for(u=0;u!=a.length;++u)i=a[u].match(ZP),(l=i[1].indexOf(":"))===-1?n[i[1]]=i[2].slice(1,i[2].length-1):(i[1].slice(0,6)==="xmlns:"?o="xmlns"+i[1].slice(6):o=i[1].slice(l+1),n[o]=i[2].slice(1,i[2].length-1));return n}function Tre(e){var t=e.split(/\s+/),r={};if(t.length===1)return r;var n=e.match(QP),a,i,l,o;if(n)for(o=0;o!=n.length;++o)a=n[o].match(ZP),(i=a[1].indexOf(":"))===-1?r[a[1]]=a[2].slice(1,a[2].length-1):(a[1].slice(0,6)==="xmlns:"?l="xmlns"+a[1].slice(6):l=a[1].slice(i+1),r[l]=a[2].slice(1,a[2].length-1));return r}var Dx;function Ore(e,t){var r=Dx[e]||Zr(e);return r==="General"?K0(t):qo(r,t)}function Dre(e,t,r,n){var a=n;switch((r[0].match(/dt:dt="([\w.]+)"/)||["",""])[1]){case"boolean":a=Qn(n);break;case"i2":case"int":a=parseInt(n,10);break;case"r4":case"float":a=parseFloat(n);break;case"date":case"dateTime.tz":a=Jn(n);break;case"i8":case"string":case"fixed":case"uuid":case"bin.base64":break;default:throw new Error("bad custprop:"+r[0])}e[Zr(t)]=a}function Fre(e,t,r){if(e.t!=="z"){if(!r||r.cellText!==!1)try{e.t==="e"?e.w=e.w||Af[e.v]:t==="General"?e.t==="n"?(e.v|0)===e.v?e.w=e.v.toString(10):e.w=Yx(e.v):e.w=K0(e.v):e.w=Ore(t||"General",e.v)}catch(i){if(r.WTF)throw i}try{var n=Dx[t]||t||"General";if(r.cellNF&&(e.z=n),r.cellDates&&e.t=="n"&&ip(n)){var a=k0(e.v);a&&(e.t="d",e.v=new Date(a.y,a.m-1,a.d,a.H,a.M,a.S,a.u))}}catch(i){if(r.WTF)throw i}}}function Pre(e,t,r){if(r.cellStyles&&t.Interior){var n=t.Interior;n.Pattern&&(n.patternType=WX[n.Pattern]||n.Pattern)}e[t.ID]=t}function Lre(e,t,r,n,a,i,l,o,u,f){var h="General",m=n.StyleID,g={};f=f||{};var x=[],b=0;for(m===void 0&&o&&(m=o.StyleID),m===void 0&&l&&(m=l.StyleID);i[m]!==void 0&&(i[m].nf&&(h=i[m].nf),i[m].Interior&&x.push(i[m].Interior),!!i[m].Parent);)m=i[m].Parent;switch(r.Type){case"Boolean":n.t="b",n.v=Qn(e);break;case"String":n.t="s",n.r=QE(Zr(e)),n.v=e.indexOf("<")>-1?Zr(t||e).replace(/<.*?>/g,""):n.r;break;case"DateTime":e.slice(-1)!="Z"&&(e+="Z"),n.v=(Jn(e)-new Date(Date.UTC(1899,11,30)))/(1440*60*1e3),n.v!==n.v?n.v=Zr(e):n.v<60&&(n.v=n.v-1),(!h||h=="General")&&(h="yyyy-mm-dd");case"Number":n.v===void 0&&(n.v=+e),n.t||(n.t="n");break;case"Error":n.t="e",n.v=WF[e],f.cellText!==!1&&(n.w=e);break;default:e==""&&t==""?n.t="z":(n.t="s",n.v=QE(t||e));break}if(Fre(n,h,f),f.cellFormula!==!1)if(n.Formula){var v=Zr(n.Formula);v.charCodeAt(0)==61&&(v=v.slice(1)),n.f=Fm(v,a),delete n.Formula,n.ArrayRange=="RC"?n.F=Fm("RC:RC",a):n.ArrayRange&&(n.F=Fm(n.ArrayRange,a),u.push([tn(n.F),n.F]))}else for(b=0;b<u.length;++b)a.r>=u[b][0].s.r&&a.r<=u[b][0].e.r&&a.c>=u[b][0].s.c&&a.c<=u[b][0].e.c&&(n.F=u[b][1]);f.cellStyles&&(x.forEach(function(w){!g.patternType&&w.patternType&&(g.patternType=w.patternType)}),n.s=g),n.StyleID!==void 0&&(n.ixfe=n.StyleID)}function Mre(e){e.t=e.v||"",e.t=e.t.replace(/\r\n/g,`
`).replace(/\r/g,`
`),e.v=e.w=e.ixfe=void 0}function Rw(e,t){var r=t||{};sp();var n=gx(n3(e));(r.type=="binary"||r.type=="array"||r.type=="base64")&&(n=Dn(n));var a=n.slice(0,1024).toLowerCase(),i=!1;if(a=a.replace(/".*?"/g,""),(a.indexOf(">")&1023)>Math.min(a.indexOf(",")&1023,a.indexOf(";")&1023)){var l=ea(r);return l.type="string",$m.to_workbook(n,l)}if(a.indexOf("<?xml")==-1&&["html","table","head","meta","script","style","div"].forEach(function(bt){a.indexOf("<"+bt)>=0&&(i=!0)}),i)return wne(n,r);Dx={"General Number":"General","General Date":ur[22],"Long Date":"dddd, mmmm dd, yyyy","Medium Date":ur[15],"Short Date":ur[14],"Long Time":ur[19],"Medium Time":ur[18],"Short Time":ur[20],Currency:'"$"#,##0.00_);[Red]\\("$"#,##0.00\\)',Fixed:ur[2],Standard:ur[4],Percent:ur[10],Scientific:ur[11],"Yes/No":'"Yes";"Yes";"No";@',"True/False":'"True";"True";"False";@',"On/Off":'"Yes";"Yes";"No";@'};var o,u=[],f,h={},m=[],g=r.dense?[]:{},x="",b={},v={},w=yc('<Data ss:Type="String">'),N=0,E=0,j=0,T={s:{r:2e6,c:2e6},e:{r:0,c:0}},O={},P={},D="",M=0,B=[],H={},L={},U=0,G=[],te=[],de={},ne=[],Z,xe=!1,le=[],Se=[],re={},R=0,F=0,q={Sheets:[],WBProps:{date1904:!1}},W={};Zx.lastIndex=0,n=n.replace(/<!--([\s\S]*?)-->/mg,"");for(var Q="";o=Zx.exec(n);)switch(o[3]=(Q=o[3]).toLowerCase()){case"data":if(Q=="data"){if(o[1]==="/"){if((f=u.pop())[0]!==o[3])throw new Error("Bad state: "+f.join("|"))}else o[0].charAt(o[0].length-2)!=="/"&&u.push([o[3],!0]);break}if(u[u.length-1][1])break;o[1]==="/"?Lre(n.slice(N,o.index),D,w,u[u.length-1][0]=="comment"?de:b,{c:E,r:j},O,ne[E],v,le,r):(D="",w=yc(o[0]),N=o.index+o[0].length);break;case"cell":if(o[1]==="/")if(te.length>0&&(b.c=te),(!r.sheetRows||r.sheetRows>j)&&b.v!==void 0&&(r.dense?(g[j]||(g[j]=[]),g[j][E]=b):g[_a(E)+Qa(j)]=b),b.HRef&&(b.l={Target:Zr(b.HRef)},b.HRefScreenTip&&(b.l.Tooltip=b.HRefScreenTip),delete b.HRef,delete b.HRefScreenTip),(b.MergeAcross||b.MergeDown)&&(R=E+(parseInt(b.MergeAcross,10)|0),F=j+(parseInt(b.MergeDown,10)|0),B.push({s:{c:E,r:j},e:{c:R,r:F}})),!r.sheetStubs)b.MergeAcross?E=R+1:++E;else if(b.MergeAcross||b.MergeDown){for(var oe=E;oe<=R;++oe)for(var ue=j;ue<=F;++ue)(oe>E||ue>j)&&(r.dense?(g[ue]||(g[ue]=[]),g[ue][oe]={t:"z"}):g[_a(oe)+Qa(ue)]={t:"z"});E=R+1}else++E;else b=Tre(o[0]),b.Index&&(E=+b.Index-1),E<T.s.c&&(T.s.c=E),E>T.e.c&&(T.e.c=E),o[0].slice(-2)==="/>"&&++E,te=[];break;case"row":o[1]==="/"||o[0].slice(-2)==="/>"?(j<T.s.r&&(T.s.r=j),j>T.e.r&&(T.e.r=j),o[0].slice(-2)==="/>"&&(v=yc(o[0]),v.Index&&(j=+v.Index-1)),E=0,++j):(v=yc(o[0]),v.Index&&(j=+v.Index-1),re={},(v.AutoFitHeight=="0"||v.Height)&&(re.hpx=parseInt(v.Height,10),re.hpt=ng(re.hpx),Se[j]=re),v.Hidden=="1"&&(re.hidden=!0,Se[j]=re));break;case"worksheet":if(o[1]==="/"){if((f=u.pop())[0]!==o[3])throw new Error("Bad state: "+f.join("|"));m.push(x),T.s.r<=T.e.r&&T.s.c<=T.e.c&&(g["!ref"]=Nr(T),r.sheetRows&&r.sheetRows<=T.e.r&&(g["!fullref"]=g["!ref"],T.e.r=r.sheetRows-1,g["!ref"]=Nr(T))),B.length&&(g["!merges"]=B),ne.length>0&&(g["!cols"]=ne),Se.length>0&&(g["!rows"]=Se),h[x]=g}else T={s:{r:2e6,c:2e6},e:{r:0,c:0}},j=E=0,u.push([o[3],!1]),f=yc(o[0]),x=Zr(f.Name),g=r.dense?[]:{},B=[],le=[],Se=[],W={name:x,Hidden:0},q.Sheets.push(W);break;case"table":if(o[1]==="/"){if((f=u.pop())[0]!==o[3])throw new Error("Bad state: "+f.join("|"))}else{if(o[0].slice(-2)=="/>")break;u.push([o[3],!1]),ne=[],xe=!1}break;case"style":o[1]==="/"?Pre(O,P,r):P=yc(o[0]);break;case"numberformat":P.nf=Zr(yc(o[0]).Format||"General"),Dx[P.nf]&&(P.nf=Dx[P.nf]);for(var X=0;X!=392&&ur[X]!=P.nf;++X);if(X==392){for(X=57;X!=392;++X)if(ur[X]==null){of(P.nf,X);break}}break;case"column":if(u[u.length-1][0]!=="table")break;if(Z=yc(o[0]),Z.Hidden&&(Z.hidden=!0,delete Z.Hidden),Z.Width&&(Z.wpx=parseInt(Z.Width,10)),!xe&&Z.wpx>10){xe=!0,_s=AP;for(var ve=0;ve<ne.length;++ve)ne[ve]&&kd(ne[ve])}xe&&kd(Z),ne[Z.Index-1||ne.length]=Z;for(var Te=0;Te<+Z.Span;++Te)ne[ne.length]=ea(Z);break;case"namedrange":if(o[1]==="/")break;q.Names||(q.Names=[]);var Y=hr(o[0]),We={Name:Y.Name,Ref:Fm(Y.RefersTo.slice(1),{r:0,c:0})};q.Sheets.length>0&&(We.Sheet=q.Sheets.length-1),q.Names.push(We);break;case"namedcell":break;case"b":break;case"i":break;case"u":break;case"s":break;case"em":break;case"h2":break;case"h3":break;case"sub":break;case"sup":break;case"span":break;case"alignment":break;case"borders":break;case"border":break;case"font":if(o[0].slice(-2)==="/>")break;o[1]==="/"?D+=n.slice(M,o.index):M=o.index+o[0].length;break;case"interior":if(!r.cellStyles)break;P.Interior=yc(o[0]);break;case"protection":break;case"author":case"title":case"description":case"created":case"keywords":case"subject":case"category":case"company":case"lastauthor":case"lastsaved":case"lastprinted":case"version":case"revision":case"totaltime":case"hyperlinkbase":case"manager":case"contentstatus":case"identifier":case"language":case"appname":if(o[0].slice(-2)==="/>")break;o[1]==="/"?sG(H,Q,n.slice(U,o.index)):U=o.index+o[0].length;break;case"paragraphs":break;case"styles":case"workbook":if(o[1]==="/"){if((f=u.pop())[0]!==o[3])throw new Error("Bad state: "+f.join("|"))}else u.push([o[3],!1]);break;case"comment":if(o[1]==="/"){if((f=u.pop())[0]!==o[3])throw new Error("Bad state: "+f.join("|"));Mre(de),te.push(de)}else u.push([o[3],!1]),f=yc(o[0]),de={a:f.Author};break;case"autofilter":if(o[1]==="/"){if((f=u.pop())[0]!==o[3])throw new Error("Bad state: "+f.join("|"))}else if(o[0].charAt(o[0].length-2)!=="/"){var Ee=yc(o[0]);g["!autofilter"]={ref:Fm(Ee.Range).replace(/\$/g,"")},u.push([o[3],!0])}break;case"name":break;case"datavalidation":if(o[1]==="/"){if((f=u.pop())[0]!==o[3])throw new Error("Bad state: "+f.join("|"))}else o[0].charAt(o[0].length-2)!=="/"&&u.push([o[3],!0]);break;case"pixelsperinch":break;case"componentoptions":case"documentproperties":case"customdocumentproperties":case"officedocumentsettings":case"pivottable":case"pivotcache":case"names":case"mapinfo":case"pagebreaks":case"querytable":case"sorting":case"schema":case"conditionalformatting":case"smarttagtype":case"smarttags":case"excelworkbook":case"workbookoptions":case"worksheetoptions":if(o[1]==="/"){if((f=u.pop())[0]!==o[3])throw new Error("Bad state: "+f.join("|"))}else o[0].charAt(o[0].length-2)!=="/"&&u.push([o[3],!0]);break;case"null":break;default:if(u.length==0&&o[3]=="document"||u.length==0&&o[3]=="uof")return Bk(n,r);var ge=!0;switch(u[u.length-1][0]){case"officedocumentsettings":switch(o[3]){case"allowpng":break;case"removepersonalinformation":break;case"downloadcomponents":break;case"locationofcomponents":break;case"colors":break;case"color":break;case"index":break;case"rgb":break;case"targetscreensize":break;case"readonlyrecommended":break;default:ge=!1}break;case"componentoptions":switch(o[3]){case"toolbar":break;case"hideofficelogo":break;case"spreadsheetautofit":break;case"label":break;case"caption":break;case"maxheight":break;case"maxwidth":break;case"nextsheetnumber":break;default:ge=!1}break;case"excelworkbook":switch(o[3]){case"date1904":q.WBProps.date1904=!0;break;case"windowheight":break;case"windowwidth":break;case"windowtopx":break;case"windowtopy":break;case"tabratio":break;case"protectstructure":break;case"protectwindow":break;case"protectwindows":break;case"activesheet":break;case"displayinknotes":break;case"firstvisiblesheet":break;case"supbook":break;case"sheetname":break;case"sheetindex":break;case"sheetindexfirst":break;case"sheetindexlast":break;case"dll":break;case"acceptlabelsinformulas":break;case"donotsavelinkvalues":break;case"iteration":break;case"maxiterations":break;case"maxchange":break;case"path":break;case"xct":break;case"count":break;case"selectedsheets":break;case"calculation":break;case"uncalced":break;case"startupprompt":break;case"crn":break;case"externname":break;case"formula":break;case"colfirst":break;case"collast":break;case"wantadvise":break;case"boolean":break;case"error":break;case"text":break;case"ole":break;case"noautorecover":break;case"publishobjects":break;case"donotcalculatebeforesave":break;case"number":break;case"refmoder1c1":break;case"embedsavesmarttags":break;default:ge=!1}break;case"workbookoptions":switch(o[3]){case"owcversion":break;case"height":break;case"width":break;default:ge=!1}break;case"worksheetoptions":switch(o[3]){case"visible":if(o[0].slice(-2)!=="/>")if(o[1]==="/")switch(n.slice(U,o.index)){case"SheetHidden":W.Hidden=1;break;case"SheetVeryHidden":W.Hidden=2;break}else U=o.index+o[0].length;break;case"header":g["!margins"]||M0(g["!margins"]={},"xlml"),isNaN(+hr(o[0]).Margin)||(g["!margins"].header=+hr(o[0]).Margin);break;case"footer":g["!margins"]||M0(g["!margins"]={},"xlml"),isNaN(+hr(o[0]).Margin)||(g["!margins"].footer=+hr(o[0]).Margin);break;case"pagemargins":var dt=hr(o[0]);g["!margins"]||M0(g["!margins"]={},"xlml"),isNaN(+dt.Top)||(g["!margins"].top=+dt.Top),isNaN(+dt.Left)||(g["!margins"].left=+dt.Left),isNaN(+dt.Right)||(g["!margins"].right=+dt.Right),isNaN(+dt.Bottom)||(g["!margins"].bottom=+dt.Bottom);break;case"displayrighttoleft":q.Views||(q.Views=[]),q.Views[0]||(q.Views[0]={}),q.Views[0].RTL=!0;break;case"freezepanes":break;case"frozennosplit":break;case"splithorizontal":case"splitvertical":break;case"donotdisplaygridlines":break;case"activerow":break;case"activecol":break;case"toprowbottompane":break;case"leftcolumnrightpane":break;case"unsynced":break;case"print":break;case"printerrors":break;case"panes":break;case"scale":break;case"pane":break;case"number":break;case"layout":break;case"pagesetup":break;case"selected":break;case"protectobjects":break;case"enableselection":break;case"protectscenarios":break;case"validprinterinfo":break;case"horizontalresolution":break;case"verticalresolution":break;case"numberofcopies":break;case"activepane":break;case"toprowvisible":break;case"leftcolumnvisible":break;case"fittopage":break;case"rangeselection":break;case"papersizeindex":break;case"pagelayoutzoom":break;case"pagebreakzoom":break;case"filteron":break;case"fitwidth":break;case"fitheight":break;case"commentslayout":break;case"zoom":break;case"lefttoright":break;case"gridlines":break;case"allowsort":break;case"allowfilter":break;case"allowinsertrows":break;case"allowdeleterows":break;case"allowinsertcols":break;case"allowdeletecols":break;case"allowinserthyperlinks":break;case"allowformatcells":break;case"allowsizecols":break;case"allowsizerows":break;case"nosummaryrowsbelowdetail":g["!outline"]||(g["!outline"]={}),g["!outline"].above=!0;break;case"tabcolorindex":break;case"donotdisplayheadings":break;case"showpagelayoutzoom":break;case"nosummarycolumnsrightdetail":g["!outline"]||(g["!outline"]={}),g["!outline"].left=!0;break;case"blackandwhite":break;case"donotdisplayzeros":break;case"displaypagebreak":break;case"rowcolheadings":break;case"donotdisplayoutline":break;case"noorientation":break;case"allowusepivottables":break;case"zeroheight":break;case"viewablerange":break;case"selection":break;case"protectcontents":break;default:ge=!1}break;case"pivottable":case"pivotcache":switch(o[3]){case"immediateitemsondrop":break;case"showpagemultipleitemlabel":break;case"compactrowindent":break;case"location":break;case"pivotfield":break;case"orientation":break;case"layoutform":break;case"layoutsubtotallocation":break;case"layoutcompactrow":break;case"position":break;case"pivotitem":break;case"datatype":break;case"datafield":break;case"sourcename":break;case"parentfield":break;case"ptlineitems":break;case"ptlineitem":break;case"countofsameitems":break;case"item":break;case"itemtype":break;case"ptsource":break;case"cacheindex":break;case"consolidationreference":break;case"filename":break;case"reference":break;case"nocolumngrand":break;case"norowgrand":break;case"blanklineafteritems":break;case"hidden":break;case"subtotal":break;case"basefield":break;case"mapchilditems":break;case"function":break;case"refreshonfileopen":break;case"printsettitles":break;case"mergelabels":break;case"defaultversion":break;case"refreshname":break;case"refreshdate":break;case"refreshdatecopy":break;case"versionlastrefresh":break;case"versionlastupdate":break;case"versionupdateablemin":break;case"versionrefreshablemin":break;case"calculation":break;default:ge=!1}break;case"pagebreaks":switch(o[3]){case"colbreaks":break;case"colbreak":break;case"rowbreaks":break;case"rowbreak":break;case"colstart":break;case"colend":break;case"rowend":break;default:ge=!1}break;case"autofilter":switch(o[3]){case"autofiltercolumn":break;case"autofiltercondition":break;case"autofilterand":break;case"autofilteror":break;default:ge=!1}break;case"querytable":switch(o[3]){case"id":break;case"autoformatfont":break;case"autoformatpattern":break;case"querysource":break;case"querytype":break;case"enableredirections":break;case"refreshedinxl9":break;case"urlstring":break;case"htmltables":break;case"connection":break;case"commandtext":break;case"refreshinfo":break;case"notitles":break;case"nextid":break;case"columninfo":break;case"overwritecells":break;case"donotpromptforfile":break;case"textwizardsettings":break;case"source":break;case"number":break;case"decimal":break;case"thousandseparator":break;case"trailingminusnumbers":break;case"formatsettings":break;case"fieldtype":break;case"delimiters":break;case"tab":break;case"comma":break;case"autoformatname":break;case"versionlastedit":break;case"versionlastrefresh":break;default:ge=!1}break;case"datavalidation":switch(o[3]){case"range":break;case"type":break;case"min":break;case"max":break;case"sort":break;case"descending":break;case"order":break;case"casesensitive":break;case"value":break;case"errorstyle":break;case"errormessage":break;case"errortitle":break;case"inputmessage":break;case"inputtitle":break;case"combohide":break;case"inputhide":break;case"condition":break;case"qualifier":break;case"useblank":break;case"value1":break;case"value2":break;case"format":break;case"cellrangelist":break;default:ge=!1}break;case"sorting":case"conditionalformatting":switch(o[3]){case"range":break;case"type":break;case"min":break;case"max":break;case"sort":break;case"descending":break;case"order":break;case"casesensitive":break;case"value":break;case"errorstyle":break;case"errormessage":break;case"errortitle":break;case"cellrangelist":break;case"inputmessage":break;case"inputtitle":break;case"combohide":break;case"inputhide":break;case"condition":break;case"qualifier":break;case"useblank":break;case"value1":break;case"value2":break;case"format":break;default:ge=!1}break;case"mapinfo":case"schema":case"data":switch(o[3]){case"map":break;case"entry":break;case"range":break;case"xpath":break;case"field":break;case"xsdtype":break;case"filteron":break;case"aggregate":break;case"elementtype":break;case"attributetype":break;case"schema":case"element":case"complextype":case"datatype":case"all":case"attribute":case"extends":break;case"row":break;default:ge=!1}break;case"smarttags":break;default:ge=!1;break}if(ge||o[3].match(/!\[CDATA/))break;if(!u[u.length-1][1])throw"Unrecognized tag: "+o[3]+"|"+u.join("|");if(u[u.length-1][0]==="customdocumentproperties"){if(o[0].slice(-2)==="/>")break;o[1]==="/"?Dre(L,Q,G,n.slice(U,o.index)):(G=o,U=o.index+o[0].length);break}if(r.WTF)throw"Unrecognized tag: "+o[3]+"|"+u.join("|")}var Ze={};return!r.bookSheets&&!r.bookProps&&(Ze.Sheets=h),Ze.SheetNames=m,Ze.Workbook=q,Ze.SSF=ea(ur),Ze.Props=H,Ze.Custprops=L,Ze}function uN(e,t){switch(E3(t=t||{}),t.type||"base64"){case"base64":return Rw(no(e),t);case"binary":case"buffer":case"file":return Rw(e,t);case"array":return Rw(Id(e),t)}}function Rre(e,t){var r=[];return e.Props&&r.push(lG(e.Props,t)),e.Custprops&&r.push(oG(e.Props,e.Custprops)),r.join("")}function Ire(){return""}function Bre(e,t){var r=['<Style ss:ID="Default" ss:Name="Normal"><NumberFormat/></Style>'];return t.cellXfs.forEach(function(n,a){var i=[];i.push(wt("NumberFormat",null,{"ss:Format":_n(ur[n.numFmtId])}));var l={"ss:ID":"s"+(21+a)};r.push(wt("Style",i.join(""),l))}),wt("Styles",r.join(""))}function JP(e){return wt("NamedRange",null,{"ss:Name":e.Name,"ss:RefersTo":"="+w3(e.Ref,{r:0,c:0})})}function Ure(e){if(!((e||{}).Workbook||{}).Names)return"";for(var t=e.Workbook.Names,r=[],n=0;n<t.length;++n){var a=t[n];a.Sheet==null&&(a.Name.match(/^_xlfn\./)||r.push(JP(a)))}return wt("Names",r.join(""))}function zre(e,t,r,n){if(!e||!((n||{}).Workbook||{}).Names)return"";for(var a=n.Workbook.Names,i=[],l=0;l<a.length;++l){var o=a[l];o.Sheet==r&&(o.Name.match(/^_xlfn\./)||i.push(JP(o)))}return i.join("")}function qre(e,t,r,n){if(!e)return"";var a=[];if(e["!margins"]&&(a.push("<PageSetup>"),e["!margins"].header&&a.push(wt("Header",null,{"x:Margin":e["!margins"].header})),e["!margins"].footer&&a.push(wt("Footer",null,{"x:Margin":e["!margins"].footer})),a.push(wt("PageMargins",null,{"x:Bottom":e["!margins"].bottom||"0.75","x:Left":e["!margins"].left||"0.7","x:Right":e["!margins"].right||"0.7","x:Top":e["!margins"].top||"0.75"})),a.push("</PageSetup>")),n&&n.Workbook&&n.Workbook.Sheets&&n.Workbook.Sheets[r])if(n.Workbook.Sheets[r].Hidden)a.push(wt("Visible",n.Workbook.Sheets[r].Hidden==1?"SheetHidden":"SheetVeryHidden",{}));else{for(var i=0;i<r&&!(n.Workbook.Sheets[i]&&!n.Workbook.Sheets[i].Hidden);++i);i==r&&a.push("<Selected/>")}return((((n||{}).Workbook||{}).Views||[])[0]||{}).RTL&&a.push("<DisplayRightToLeft/>"),e["!protect"]&&(a.push(ss("ProtectContents","True")),e["!protect"].objects&&a.push(ss("ProtectObjects","True")),e["!protect"].scenarios&&a.push(ss("ProtectScenarios","True")),e["!protect"].selectLockedCells!=null&&!e["!protect"].selectLockedCells?a.push(ss("EnableSelection","NoSelection")):e["!protect"].selectUnlockedCells!=null&&!e["!protect"].selectUnlockedCells&&a.push(ss("EnableSelection","UnlockedCells")),[["formatCells","AllowFormatCells"],["formatColumns","AllowSizeCols"],["formatRows","AllowSizeRows"],["insertColumns","AllowInsertCols"],["insertRows","AllowInsertRows"],["insertHyperlinks","AllowInsertHyperlinks"],["deleteColumns","AllowDeleteCols"],["deleteRows","AllowDeleteRows"],["sort","AllowSort"],["autoFilter","AllowFilter"],["pivotTables","AllowUsePivotTables"]].forEach(function(l){e["!protect"][l[0]]&&a.push("<"+l[1]+"/>")})),a.length==0?"":wt("WorksheetOptions",a.join(""),{xmlns:Yl.x})}function $re(e){return e.map(function(t){var r=uK(t.t||""),n=wt("ss:Data",r,{xmlns:"http://www.w3.org/TR/REC-html40"});return wt("Comment",n,{"ss:Author":t.a})}).join("")}function Hre(e,t,r,n,a,i,l){if(!e||e.v==null&&e.f==null)return"";var o={};if(e.f&&(o["ss:Formula"]="="+_n(w3(e.f,l))),e.F&&e.F.slice(0,t.length)==t){var u=ja(e.F.slice(t.length+1));o["ss:ArrayRange"]="RC:R"+(u.r==l.r?"":"["+(u.r-l.r)+"]")+"C"+(u.c==l.c?"":"["+(u.c-l.c)+"]")}if(e.l&&e.l.Target&&(o["ss:HRef"]=_n(e.l.Target),e.l.Tooltip&&(o["x:HRefScreenTip"]=_n(e.l.Tooltip))),r["!merges"])for(var f=r["!merges"],h=0;h!=f.length;++h)f[h].s.c!=l.c||f[h].s.r!=l.r||(f[h].e.c>f[h].s.c&&(o["ss:MergeAcross"]=f[h].e.c-f[h].s.c),f[h].e.r>f[h].s.r&&(o["ss:MergeDown"]=f[h].e.r-f[h].s.r));var m="",g="";switch(e.t){case"z":if(!n.sheetStubs)return"";break;case"n":m="Number",g=String(e.v);break;case"b":m="Boolean",g=e.v?"1":"0";break;case"e":m="Error",g=Af[e.v];break;case"d":m="DateTime",g=new Date(e.v).toISOString(),e.z==null&&(e.z=e.z||ur[14]);break;case"s":m="String",g=cK(e.v||"");break}var x=Ud(n.cellXfs,e,n);o["ss:StyleID"]="s"+(21+x),o["ss:Index"]=l.c+1;var b=e.v!=null?g:"",v=e.t=="z"?"":'<Data ss:Type="'+m+'">'+b+"</Data>";return(e.c||[]).length>0&&(v+=$re(e.c)),wt("Cell",v,o)}function Vre(e,t){var r='<Row ss:Index="'+(e+1)+'"';return t&&(t.hpt&&!t.hpx&&(t.hpx=Hm(t.hpt)),t.hpx&&(r+=' ss:AutoFitHeight="0" ss:Height="'+t.hpx+'"'),t.hidden&&(r+=' ss:Hidden="1"')),r+">"}function Wre(e,t,r,n){if(!e["!ref"])return"";var a=tn(e["!ref"]),i=e["!merges"]||[],l=0,o=[];e["!cols"]&&e["!cols"].forEach(function(w,N){kd(w);var E=!!w.width,j=g2(N,w),T={"ss:Index":N+1};E&&(T["ss:Width"]=tg(j.width)),w.hidden&&(T["ss:Hidden"]="1"),o.push(wt("Column",null,T))});for(var u=Array.isArray(e),f=a.s.r;f<=a.e.r;++f){for(var h=[Vre(f,(e["!rows"]||[])[f])],m=a.s.c;m<=a.e.c;++m){var g=!1;for(l=0;l!=i.length;++l)if(!(i[l].s.c>m)&&!(i[l].s.r>f)&&!(i[l].e.c<m)&&!(i[l].e.r<f)){(i[l].s.c!=m||i[l].s.r!=f)&&(g=!0);break}if(!g){var x={r:f,c:m},b=fr(x),v=u?(e[f]||[])[m]:e[b];h.push(Hre(v,b,e,t,r,n,x))}}h.push("</Row>"),h.length>2&&o.push(h.join(""))}return o.join("")}function Kre(e,t,r){var n=[],a=r.SheetNames[e],i=r.Sheets[a],l=i?zre(i,t,e,r):"";return l.length>0&&n.push("<Names>"+l+"</Names>"),l=i?Wre(i,t,e,r):"",l.length>0&&n.push("<Table>"+l+"</Table>"),n.push(qre(i,t,e,r)),n.join("")}function Gre(e,t){t||(t={}),e.SSF||(e.SSF=ea(ur)),e.SSF&&(sp(),u2(e.SSF),t.revssf=d2(e.SSF),t.revssf[e.SSF[65535]]=0,t.ssf=e.SSF,t.cellXfs=[],Ud(t.cellXfs,{},{revssf:{General:0}}));var r=[];r.push(Rre(e,t)),r.push(Ire()),r.push(""),r.push("");for(var n=0;n<e.SheetNames.length;++n)r.push(wt("Worksheet",Kre(n,t,e),{"ss:Name":_n(e.SheetNames[n])}));return r[2]=Bre(e,t),r[3]=Ure(e),Za+wt("Workbook",r.join(""),{xmlns:Yl.ss,"xmlns:o":Yl.o,"xmlns:x":Yl.x,"xmlns:ss":Yl.ss,"xmlns:dt":Yl.dt,"xmlns:html":Yl.html})}function Yre(e){var t={},r=e.content;if(r.l=28,t.AnsiUserType=r.read_shift(0,"lpstr-ansi"),t.AnsiClipboardFormat=UK(r),r.length-r.l<=4)return t;var n=r.read_shift(4);if(n==0||n>40||(r.l-=4,t.Reserved1=r.read_shift(0,"lpstr-ansi"),r.length-r.l<=4)||(n=r.read_shift(4),n!==1907505652)||(t.UnicodeClipboardFormat=zK(r),n=r.read_shift(4),n==0||n>40))return t;r.l-=4,t.Reserved2=r.read_shift(0,"lpwstr")}var Xre=[60,1084,2066,2165,2175];function Qre(e,t,r,n,a){var i=n,l=[],o=r.slice(r.l,r.l+i);if(a&&a.enc&&a.enc.insitu&&o.length>0)switch(e){case 9:case 521:case 1033:case 2057:case 47:case 405:case 225:case 406:case 312:case 404:case 10:break;case 133:break;default:a.enc.insitu(o)}l.push(o),r.l+=i;for(var u=ef(r,r.l),f=fN[u],h=0;f!=null&&Xre.indexOf(u)>-1;)i=ef(r,r.l+2),h=r.l+4,u==2066?h+=4:(u==2165||u==2175)&&(h+=12),o=r.slice(h,r.l+4+i),l.push(o),r.l+=4+i,f=fN[u=ef(r,r.l)];var m=zi(l);is(m,0);var g=0;m.lens=[];for(var x=0;x<l.length;++x)m.lens.push(g),g+=l[x].length;if(m.length<n)throw"XLS Record 0x"+e.toString(16)+" Truncated: "+m.length+" < "+n;return t.f(m,m.length,a)}function au(e,t,r){if(e.t!=="z"&&e.XF){var n=0;try{n=e.z||e.XF.numFmtId||0,t.cellNF&&(e.z=ur[n])}catch(i){if(t.WTF)throw i}if(!t||t.cellText!==!1)try{e.t==="e"?e.w=e.w||Af[e.v]:n===0||n=="General"?e.t==="n"?(e.v|0)===e.v?e.w=e.v.toString(10):e.w=Yx(e.v):e.w=K0(e.v):e.w=qo(n,e.v,{date1904:!!r,dateNF:t&&t.dateNF})}catch(i){if(t.WTF)throw i}if(t.cellDates&&n&&e.t=="n"&&ip(ur[n]||String(n))){var a=k0(e.v);a&&(e.t="d",e.v=new Date(a.y,a.m-1,a.d,a.H,a.M,a.S,a.u))}}}function sv(e,t,r){return{v:e,ixfe:t,t:r}}function Zre(e,t){var r={opts:{}},n={},a=t.dense?[]:{},i={},l={},o=null,u=[],f="",h={},m,g="",x,b,v,w,N={},E=[],j,T,O=[],P=[],D={Sheets:[],WBProps:{date1904:!1},Views:[{}]},M={},B=function(yt){return yt<8?F0[yt]:yt<64&&P[yt-8]||F0[yt]},H=function(yt,kt,_r){var Zt=kt.XF.data;if(!(!Zt||!Zt.patternType||!_r||!_r.cellStyles)){kt.s={},kt.s.patternType=Zt.patternType;var At;(At=eg(B(Zt.icvFore)))&&(kt.s.fgColor={rgb:At}),(At=eg(B(Zt.icvBack)))&&(kt.s.bgColor={rgb:At})}},L=function(yt,kt,_r){if(!(re>1)&&!(_r.sheetRows&&yt.r>=_r.sheetRows)){if(_r.cellStyles&&kt.XF&&kt.XF.data&&H(yt,kt,_r),delete kt.ixfe,delete kt.XF,m=yt,g=fr(yt),(!l||!l.s||!l.e)&&(l={s:{r:0,c:0},e:{r:0,c:0}}),yt.r<l.s.r&&(l.s.r=yt.r),yt.c<l.s.c&&(l.s.c=yt.c),yt.r+1>l.e.r&&(l.e.r=yt.r+1),yt.c+1>l.e.c&&(l.e.c=yt.c+1),_r.cellFormula&&kt.f){for(var Zt=0;Zt<E.length;++Zt)if(!(E[Zt][0].s.c>yt.c||E[Zt][0].s.r>yt.r)&&!(E[Zt][0].e.c<yt.c||E[Zt][0].e.r<yt.r)){kt.F=Nr(E[Zt][0]),(E[Zt][0].s.c!=yt.c||E[Zt][0].s.r!=yt.r)&&delete kt.f,kt.f&&(kt.f=""+Ns(E[Zt][1],l,yt,le,U));break}}_r.dense?(a[yt.r]||(a[yt.r]=[]),a[yt.r][yt.c]=kt):a[g]=kt}},U={enc:!1,sbcch:0,snames:[],sharedf:N,arrayf:E,rrtabid:[],lastuser:"",biff:8,codepage:0,winlocked:0,cellStyles:!!t&&!!t.cellStyles,WTF:!!t&&!!t.wtf};t.password&&(U.password=t.password);var G,te=[],de=[],ne=[],Z=[],xe=!1,le=[];le.SheetNames=U.snames,le.sharedf=U.sharedf,le.arrayf=U.arrayf,le.names=[],le.XTI=[];var Se=0,re=0,R=0,F=[],q=[],W;U.codepage=1200,_c(1200);for(var Q=!1;e.l<e.length-1;){var oe=e.l,ue=e.read_shift(2);if(ue===0&&Se===10)break;var X=e.l===e.length?0:e.read_shift(2),ve=fN[ue];if(ve&&ve.f){if(t.bookSheets&&Se===133&&ue!==133)break;if(Se=ue,ve.r===2||ve.r==12){var Te=e.read_shift(2);if(X-=2,!U.enc&&Te!==ue&&((Te&255)<<8|Te>>8)!==ue)throw new Error("rt mismatch: "+Te+"!="+ue);ve.r==12&&(e.l+=10,X-=10)}var Y={};if(ue===10?Y=ve.f(e,X,U):Y=Qre(ue,ve,e,X,U),re==0&&[9,521,1033,2057].indexOf(Se)===-1)continue;switch(ue){case 34:r.opts.Date1904=D.WBProps.date1904=Y;break;case 134:r.opts.WriteProtect=!0;break;case 47:if(U.enc||(e.l=0),U.enc=Y,!t.password)throw new Error("File is password-protected");if(Y.valid==null)throw new Error("Encryption scheme unsupported");if(!Y.valid)throw new Error("Password is incorrect");break;case 92:U.lastuser=Y;break;case 66:var We=Number(Y);switch(We){case 21010:We=1200;break;case 32768:We=1e4;break;case 32769:We=1252;break}_c(U.codepage=We),Q=!0;break;case 317:U.rrtabid=Y;break;case 25:U.winlocked=Y;break;case 439:r.opts.RefreshAll=Y;break;case 12:r.opts.CalcCount=Y;break;case 16:r.opts.CalcDelta=Y;break;case 17:r.opts.CalcIter=Y;break;case 13:r.opts.CalcMode=Y;break;case 14:r.opts.CalcPrecision=Y;break;case 95:r.opts.CalcSaveRecalc=Y;break;case 15:U.CalcRefMode=Y;break;case 2211:r.opts.FullCalc=Y;break;case 129:Y.fDialog&&(a["!type"]="dialog"),Y.fBelow||((a["!outline"]||(a["!outline"]={})).above=!0),Y.fRight||((a["!outline"]||(a["!outline"]={})).left=!0);break;case 224:O.push(Y);break;case 430:le.push([Y]),le[le.length-1].XTI=[];break;case 35:case 547:le[le.length-1].push(Y);break;case 24:case 536:W={Name:Y.Name,Ref:Ns(Y.rgce,l,null,le,U)},Y.itab>0&&(W.Sheet=Y.itab-1),le.names.push(W),le[0]||(le[0]=[],le[0].XTI=[]),le[le.length-1].push(Y),Y.Name=="_xlnm._FilterDatabase"&&Y.itab>0&&Y.rgce&&Y.rgce[0]&&Y.rgce[0][0]&&Y.rgce[0][0][0]=="PtgArea3d"&&(q[Y.itab-1]={ref:Nr(Y.rgce[0][0][1][2])});break;case 22:U.ExternCount=Y;break;case 23:le.length==0&&(le[0]=[],le[0].XTI=[]),le[le.length-1].XTI=le[le.length-1].XTI.concat(Y),le.XTI=le.XTI.concat(Y);break;case 2196:if(U.biff<8)break;W!=null&&(W.Comment=Y[1]);break;case 18:a["!protect"]=Y;break;case 19:Y!==0&&U.WTF&&console.error("Password verifier: "+Y);break;case 133:i[Y.pos]=Y,U.snames.push(Y.name);break;case 10:{if(--re)break;if(l.e){if(l.e.r>0&&l.e.c>0){if(l.e.r--,l.e.c--,a["!ref"]=Nr(l),t.sheetRows&&t.sheetRows<=l.e.r){var Ee=l.e.r;l.e.r=t.sheetRows-1,a["!fullref"]=a["!ref"],a["!ref"]=Nr(l),l.e.r=Ee}l.e.r++,l.e.c++}te.length>0&&(a["!merges"]=te),de.length>0&&(a["!objects"]=de),ne.length>0&&(a["!cols"]=ne),Z.length>0&&(a["!rows"]=Z),D.Sheets.push(M)}f===""?h=a:n[f]=a,a=t.dense?[]:{}}break;case 9:case 521:case 1033:case 2057:{if(U.biff===8&&(U.biff={9:2,521:3,1033:4}[ue]||{512:2,768:3,1024:4,1280:5,1536:8,2:2,7:2}[Y.BIFFVer]||8),U.biffguess=Y.BIFFVer==0,Y.BIFFVer==0&&Y.dt==4096&&(U.biff=5,Q=!0,_c(U.codepage=28591)),U.biff==8&&Y.BIFFVer==0&&Y.dt==16&&(U.biff=2),re++)break;if(a=t.dense?[]:{},U.biff<8&&!Q&&(Q=!0,_c(U.codepage=t.codepage||1252)),U.biff<5||Y.BIFFVer==0&&Y.dt==4096){f===""&&(f="Sheet1"),l={s:{r:0,c:0},e:{r:0,c:0}};var ge={pos:e.l-X,name:f};i[ge.pos]=ge,U.snames.push(f)}else f=(i[oe]||{name:""}).name;Y.dt==32&&(a["!type"]="chart"),Y.dt==64&&(a["!type"]="macro"),te=[],de=[],U.arrayf=E=[],ne=[],Z=[],xe=!1,M={Hidden:(i[oe]||{hs:0}).hs,name:f}}break;case 515:case 3:case 2:a["!type"]=="chart"&&(t.dense?(a[Y.r]||[])[Y.c]:a[fr({c:Y.c,r:Y.r})])&&++Y.c,j={ixfe:Y.ixfe,XF:O[Y.ixfe]||{},v:Y.val,t:"n"},R>0&&(j.z=F[j.ixfe>>8&63]),au(j,t,r.opts.Date1904),L({c:Y.c,r:Y.r},j,t);break;case 5:case 517:j={ixfe:Y.ixfe,XF:O[Y.ixfe],v:Y.val,t:Y.t},R>0&&(j.z=F[j.ixfe>>8&63]),au(j,t,r.opts.Date1904),L({c:Y.c,r:Y.r},j,t);break;case 638:j={ixfe:Y.ixfe,XF:O[Y.ixfe],v:Y.rknum,t:"n"},R>0&&(j.z=F[j.ixfe>>8&63]),au(j,t,r.opts.Date1904),L({c:Y.c,r:Y.r},j,t);break;case 189:for(var dt=Y.c;dt<=Y.C;++dt){var Ze=Y.rkrec[dt-Y.c][0];j={ixfe:Ze,XF:O[Ze],v:Y.rkrec[dt-Y.c][1],t:"n"},R>0&&(j.z=F[j.ixfe>>8&63]),au(j,t,r.opts.Date1904),L({c:dt,r:Y.r},j,t)}break;case 6:case 518:case 1030:{if(Y.val=="String"){o=Y;break}if(j=sv(Y.val,Y.cell.ixfe,Y.tt),j.XF=O[j.ixfe],t.cellFormula){var bt=Y.formula;if(bt&&bt[0]&&bt[0][0]&&bt[0][0][0]=="PtgExp"){var lt=bt[0][0][1][0],Ct=bt[0][0][1][1],xt=fr({r:lt,c:Ct});N[xt]?j.f=""+Ns(Y.formula,l,Y.cell,le,U):j.F=((t.dense?(a[lt]||[])[Ct]:a[xt])||{}).F}else j.f=""+Ns(Y.formula,l,Y.cell,le,U)}R>0&&(j.z=F[j.ixfe>>8&63]),au(j,t,r.opts.Date1904),L(Y.cell,j,t),o=Y}break;case 7:case 519:if(o)o.val=Y,j=sv(Y,o.cell.ixfe,"s"),j.XF=O[j.ixfe],t.cellFormula&&(j.f=""+Ns(o.formula,l,o.cell,le,U)),R>0&&(j.z=F[j.ixfe>>8&63]),au(j,t,r.opts.Date1904),L(o.cell,j,t),o=null;else throw new Error("String record expects Formula");break;case 33:case 545:{E.push(Y);var Ye=fr(Y[0].s);if(x=t.dense?(a[Y[0].s.r]||[])[Y[0].s.c]:a[Ye],t.cellFormula&&x){if(!o||!Ye||!x)break;x.f=""+Ns(Y[1],l,Y[0],le,U),x.F=Nr(Y[0])}}break;case 1212:{if(!t.cellFormula)break;if(g){if(!o)break;N[fr(o.cell)]=Y[0],x=t.dense?(a[o.cell.r]||[])[o.cell.c]:a[fr(o.cell)],(x||{}).f=""+Ns(Y[0],l,m,le,U)}}break;case 253:j=sv(u[Y.isst].t,Y.ixfe,"s"),u[Y.isst].h&&(j.h=u[Y.isst].h),j.XF=O[j.ixfe],R>0&&(j.z=F[j.ixfe>>8&63]),au(j,t,r.opts.Date1904),L({c:Y.c,r:Y.r},j,t);break;case 513:t.sheetStubs&&(j={ixfe:Y.ixfe,XF:O[Y.ixfe],t:"z"},R>0&&(j.z=F[j.ixfe>>8&63]),au(j,t,r.opts.Date1904),L({c:Y.c,r:Y.r},j,t));break;case 190:if(t.sheetStubs)for(var pt=Y.c;pt<=Y.C;++pt){var Et=Y.ixfe[pt-Y.c];j={ixfe:Et,XF:O[Et],t:"z"},R>0&&(j.z=F[j.ixfe>>8&63]),au(j,t,r.opts.Date1904),L({c:pt,r:Y.r},j,t)}break;case 214:case 516:case 4:j=sv(Y.val,Y.ixfe,"s"),j.XF=O[j.ixfe],R>0&&(j.z=F[j.ixfe>>8&63]),au(j,t,r.opts.Date1904),L({c:Y.c,r:Y.r},j,t);break;case 0:case 512:re===1&&(l=Y);break;case 252:u=Y;break;case 1054:if(U.biff==4){F[R++]=Y[1];for(var zt=0;zt<R+163&&ur[zt]!=Y[1];++zt);zt>=163&&of(Y[1],R+163)}else of(Y[1],Y[0]);break;case 30:{F[R++]=Y;for(var Kt=0;Kt<R+163&&ur[Kt]!=Y;++Kt);Kt>=163&&of(Y,R+163)}break;case 229:te=te.concat(Y);break;case 93:de[Y.cmo[0]]=U.lastobj=Y;break;case 438:U.lastobj.TxO=Y;break;case 127:U.lastobj.ImData=Y;break;case 440:for(w=Y[0].s.r;w<=Y[0].e.r;++w)for(v=Y[0].s.c;v<=Y[0].e.c;++v)x=t.dense?(a[w]||[])[v]:a[fr({c:v,r:w})],x&&(x.l=Y[1]);break;case 2048:for(w=Y[0].s.r;w<=Y[0].e.r;++w)for(v=Y[0].s.c;v<=Y[0].e.c;++v)x=t.dense?(a[w]||[])[v]:a[fr({c:v,r:w})],x&&x.l&&(x.l.Tooltip=Y[1]);break;case 28:{if(U.biff<=5&&U.biff>=2)break;x=t.dense?(a[Y[0].r]||[])[Y[0].c]:a[fr(Y[0])];var Ar=de[Y[2]];x||(t.dense?(a[Y[0].r]||(a[Y[0].r]=[]),x=a[Y[0].r][Y[0].c]={t:"z"}):x=a[fr(Y[0])]={t:"z"},l.e.r=Math.max(l.e.r,Y[0].r),l.s.r=Math.min(l.s.r,Y[0].r),l.e.c=Math.max(l.e.c,Y[0].c),l.s.c=Math.min(l.s.c,Y[0].c)),x.c||(x.c=[]),b={a:Y[1],t:Ar.TxO.t},x.c.push(b)}break;case 2173:BQ(O[Y.ixfe],Y.ext);break;case 125:{if(!U.cellStyles)break;for(;Y.e>=Y.s;)ne[Y.e--]={width:Y.w/256,level:Y.level||0,hidden:!!(Y.flags&1)},xe||(xe=!0,v3(Y.w/256)),kd(ne[Y.e+1])}break;case 520:{var Mt={};Y.level!=null&&(Z[Y.r]=Mt,Mt.level=Y.level),Y.hidden&&(Z[Y.r]=Mt,Mt.hidden=!0),Y.hpt&&(Z[Y.r]=Mt,Mt.hpt=Y.hpt,Mt.hpx=Hm(Y.hpt))}break;case 38:case 39:case 40:case 41:a["!margins"]||M0(a["!margins"]={}),a["!margins"][{38:"left",39:"right",40:"top",41:"bottom"}[ue]]=Y;break;case 161:a["!margins"]||M0(a["!margins"]={}),a["!margins"].header=Y.header,a["!margins"].footer=Y.footer;break;case 574:Y.RTL&&(D.Views[0].RTL=!0);break;case 146:P=Y;break;case 2198:G=Y;break;case 140:T=Y;break;case 442:f?M.CodeName=Y||M.name:D.WBProps.CodeName=Y||"ThisWorkbook";break}}else ve||console.error("Missing Info for XLS Record 0x"+ue.toString(16)),e.l+=X}return r.SheetNames=Ba(i).sort(function(Pt,yt){return Number(Pt)-Number(yt)}).map(function(Pt){return i[Pt].name}),t.bookSheets||(r.Sheets=n),!r.SheetNames.length&&h["!ref"]?(r.SheetNames.push("Sheet1"),r.Sheets&&(r.Sheets.Sheet1=h)):r.Preamble=h,r.Sheets&&q.forEach(function(Pt,yt){r.Sheets[r.SheetNames[yt]]["!autofilter"]=Pt}),r.Strings=u,r.SSF=ea(ur),U.enc&&(r.Encryption=U.enc),G&&(r.Themes=G),r.Metadata={},T!==void 0&&(r.Metadata.Country=T),le.names.length>0&&(D.Names=le.names),r.Workbook=D,r}var Fx={SI:"e0859ff2f94f6810ab9108002b27b3d9",DSI:"02d5cdd59c2e1b10939708002b2cf9ae",UDI:"05d5cdd59c2e1b10939708002b2cf9ae"};function Jre(e,t,r){var n=nr.find(e,"/!DocumentSummaryInformation");if(n&&n.size>0)try{var a=pk(n,aN,Fx.DSI);for(var i in a)t[i]=a[i]}catch(f){if(r.WTF)throw f}var l=nr.find(e,"/!SummaryInformation");if(l&&l.size>0)try{var o=pk(l,iN,Fx.SI);for(var u in o)t[u]==null&&(t[u]=o[u])}catch(f){if(r.WTF)throw f}t.HeadingPairs&&t.TitlesOfParts&&(ZF(t.HeadingPairs,t.TitlesOfParts,t,r),delete t.HeadingPairs,delete t.TitlesOfParts)}function ene(e,t){var r=[],n=[],a=[],i=0,l,o=VE(aN,"n"),u=VE(iN,"n");if(e.Props)for(l=Ba(e.Props),i=0;i<l.length;++i)(Object.prototype.hasOwnProperty.call(o,l[i])?r:Object.prototype.hasOwnProperty.call(u,l[i])?n:a).push([l[i],e.Props[l[i]]]);if(e.Custprops)for(l=Ba(e.Custprops),i=0;i<l.length;++i)Object.prototype.hasOwnProperty.call(e.Props||{},l[i])||(Object.prototype.hasOwnProperty.call(o,l[i])?r:Object.prototype.hasOwnProperty.call(u,l[i])?n:a).push([l[i],e.Custprops[l[i]]]);var f=[];for(i=0;i<a.length;++i)iP.indexOf(a[i][0])>-1||QF.indexOf(a[i][0])>-1||a[i][1]!=null&&f.push(a[i]);n.length&&nr.utils.cfb_add(t,"/SummaryInformation",xk(n,Fx.SI,u,iN)),(r.length||f.length)&&nr.utils.cfb_add(t,"/DocumentSummaryInformation",xk(r,Fx.DSI,o,aN,f.length?f:null,Fx.UDI))}function eL(e,t){t||(t={}),E3(t),G_(),t.codepage&&K_(t.codepage);var r,n;if(e.FullPaths){if(nr.find(e,"/encryption"))throw new Error("File is password-protected");r=nr.find(e,"!CompObj"),n=nr.find(e,"/Workbook")||nr.find(e,"/Book")}else{switch(t.type){case"base64":e=Zl(no(e));break;case"binary":e=Zl(e);break;case"buffer":break;case"array":Array.isArray(e)||(e=Array.prototype.slice.call(e));break}is(e,0),n={content:e}}var a,i;if(r&&Yre(r),t.bookProps&&!t.bookSheets)a={};else{var l=Tr?"buffer":"array";if(n&&n.content)a=Zre(n.content,t);else if((i=nr.find(e,"PerfectOffice_MAIN"))&&i.content)a=L0.to_workbook(i.content,(t.type=l,t));else if((i=nr.find(e,"NativeContent_MAIN"))&&i.content)a=L0.to_workbook(i.content,(t.type=l,t));else throw(i=nr.find(e,"MN0"))&&i.content?new Error("Unsupported Works 4 for Mac file"):new Error("Cannot find Workbook stream");t.bookVBA&&e.FullPaths&&nr.find(e,"/_VBA_PROJECT_CUR/VBA/dir")&&(a.vbaraw=hZ(e))}var o={};return e.FullPaths&&Jre(e,o,t),a.Props=a.Custprops=o,t.bookFiles&&(a.cfb=e),a}function tne(e,t){var r=t||{},n=nr.utils.cfb_new({root:"R"}),a="/Workbook";switch(r.bookType||"xls"){case"xls":r.bookType="biff8";case"xla":r.bookType||(r.bookType="xla");case"biff8":a="/Workbook",r.biff=8;break;case"biff5":a="/Book",r.biff=5;break;default:throw new Error("invalid type "+r.bookType+" for XLS CFB")}return nr.utils.cfb_add(n,a,tL(e,r)),r.biff==8&&(e.Props||e.Custprops)&&ene(e,n),r.biff==8&&e.vbaraw&&mZ(n,nr.read(e.vbaraw,{type:typeof e.vbaraw=="string"?"binary":"buffer"})),n}var ag={0:{f:See},1:{f:Fee},2:{f:Zee},3:{f:zee},4:{f:Ree},5:{f:Yee},6:{f:nte},7:{f:Vee},8:{f:ute},9:{f:cte},10:{f:lte},11:{f:ote},12:{f:Lee},13:{f:ete},14:{f:$ee},15:{f:Bee},16:{f:WP},17:{f:ite},18:{f:Kee},19:{f:o3},20:{},21:{},22:{},23:{},24:{},25:{},26:{},27:{},28:{},29:{},30:{},31:{},32:{},33:{},34:{},35:{T:1},36:{T:-1},37:{T:1},38:{T:-1},39:{f:ire},40:{},42:{},43:{f:nQ},44:{f:tQ},45:{f:sQ},46:{f:oQ},47:{f:lQ},48:{},49:{f:kK},50:{},51:{f:qQ},52:{T:1},53:{T:-1},54:{T:1},55:{T:-1},56:{T:1},57:{T:-1},58:{},59:{},60:{f:xP},62:{f:rte},63:{f:QQ},64:{f:Ate},65:{},66:{},67:{},68:{},69:{},70:{},128:{},129:{T:1},130:{T:-1},131:{T:1,f:Fs,p:0},132:{T:-1},133:{T:1},134:{T:-1},135:{T:1},136:{T:-1},137:{T:1,f:Nte},138:{T:-1},139:{T:1},140:{T:-1},141:{T:1},142:{T:-1},143:{T:1},144:{T:-1},145:{T:1},146:{T:-1},147:{f:Oee},148:{f:kee,p:16},151:{f:xte},152:{},153:{f:rre},154:{},155:{},156:{f:ere},157:{},158:{},159:{T:1,f:vX},160:{T:-1},161:{T:1,f:ph},162:{T:-1},163:{T:1},164:{T:-1},165:{T:1},166:{T:-1},167:{},168:{},169:{},170:{},171:{},172:{T:1},173:{T:-1},174:{},175:{},176:{f:fte},177:{T:1},178:{T:-1},179:{T:1},180:{T:-1},181:{T:1},182:{T:-1},183:{T:1},184:{T:-1},185:{T:1},186:{T:-1},187:{T:1},188:{T:-1},189:{T:1},190:{T:-1},191:{T:1},192:{T:-1},193:{T:1},194:{T:-1},195:{T:1},196:{T:-1},197:{T:1},198:{T:-1},199:{T:1},200:{T:-1},201:{T:1},202:{T:-1},203:{T:1},204:{T:-1},205:{T:1},206:{T:-1},207:{T:1},208:{T:-1},209:{T:1},210:{T:-1},211:{T:1},212:{T:-1},213:{T:1},214:{T:-1},215:{T:1},216:{T:-1},217:{T:1},218:{T:-1},219:{T:1},220:{T:-1},221:{T:1},222:{T:-1},223:{T:1},224:{T:-1},225:{T:1},226:{T:-1},227:{T:1},228:{T:-1},229:{T:1},230:{T:-1},231:{T:1},232:{T:-1},233:{T:1},234:{T:-1},235:{T:1},236:{T:-1},237:{T:1},238:{T:-1},239:{T:1},240:{T:-1},241:{T:1},242:{T:-1},243:{T:1},244:{T:-1},245:{T:1},246:{T:-1},247:{T:1},248:{T:-1},249:{T:1},250:{T:-1},251:{T:1},252:{T:-1},253:{T:1},254:{T:-1},255:{T:1},256:{T:-1},257:{T:1},258:{T:-1},259:{T:1},260:{T:-1},261:{T:1},262:{T:-1},263:{T:1},264:{T:-1},265:{T:1},266:{T:-1},267:{T:1},268:{T:-1},269:{T:1},270:{T:-1},271:{T:1},272:{T:-1},273:{T:1},274:{T:-1},275:{T:1},276:{T:-1},277:{},278:{T:1},279:{T:-1},280:{T:1},281:{T:-1},282:{T:1},283:{T:1},284:{T:-1},285:{T:1},286:{T:-1},287:{T:1},288:{T:-1},289:{T:1},290:{T:-1},291:{T:1},292:{T:-1},293:{T:1},294:{T:-1},295:{T:1},296:{T:-1},297:{T:1},298:{T:-1},299:{T:1},300:{T:-1},301:{T:1},302:{T:-1},303:{T:1},304:{T:-1},305:{T:1},306:{T:-1},307:{T:1},308:{T:-1},309:{T:1},310:{T:-1},311:{T:1},312:{T:-1},313:{T:-1},314:{T:1},315:{T:-1},316:{T:1},317:{T:-1},318:{T:1},319:{T:-1},320:{T:1},321:{T:-1},322:{T:1},323:{T:-1},324:{T:1},325:{T:-1},326:{T:1},327:{T:-1},328:{T:1},329:{T:-1},330:{T:1},331:{T:-1},332:{T:1},333:{T:-1},334:{T:1},335:{f:UQ},336:{T:-1},337:{f:VQ,T:1},338:{T:-1},339:{T:1},340:{T:-1},341:{T:1},342:{T:-1},343:{T:1},344:{T:-1},345:{T:1},346:{T:-1},347:{T:1},348:{T:-1},349:{T:1},350:{T:-1},351:{},352:{},353:{T:1},354:{T:-1},355:{f:nN},357:{},358:{},359:{},360:{T:1},361:{},362:{f:pP},363:{},364:{},366:{},367:{},368:{},369:{},370:{},371:{},372:{T:1},373:{T:-1},374:{T:1},375:{T:-1},376:{T:1},377:{T:-1},378:{T:1},379:{T:-1},380:{T:1},381:{T:-1},382:{T:1},383:{T:-1},384:{T:1},385:{T:-1},386:{T:1},387:{T:-1},388:{T:1},389:{T:-1},390:{T:1},391:{T:-1},392:{T:1},393:{T:-1},394:{T:1},395:{T:-1},396:{},397:{},398:{},399:{},400:{},401:{T:1},403:{},404:{},405:{},406:{},407:{},408:{},409:{},410:{},411:{},412:{},413:{},414:{},415:{},416:{},417:{},418:{},419:{},420:{},421:{},422:{T:1},423:{T:1},424:{T:-1},425:{T:-1},426:{f:gte},427:{f:vte},428:{},429:{T:1},430:{T:-1},431:{T:1},432:{T:-1},433:{T:1},434:{T:-1},435:{T:1},436:{T:-1},437:{T:1},438:{T:-1},439:{T:1},440:{T:-1},441:{T:1},442:{T:-1},443:{T:1},444:{T:-1},445:{T:1},446:{T:-1},447:{T:1},448:{T:-1},449:{T:1},450:{T:-1},451:{T:1},452:{T:-1},453:{T:1},454:{T:-1},455:{T:1},456:{T:-1},457:{T:1},458:{T:-1},459:{T:1},460:{T:-1},461:{T:1},462:{T:-1},463:{T:1},464:{T:-1},465:{T:1},466:{T:-1},467:{T:1},468:{T:-1},469:{T:1},470:{T:-1},471:{},472:{},473:{T:1},474:{T:-1},475:{},476:{f:bte},477:{},478:{},479:{T:1},480:{T:-1},481:{T:1},482:{T:-1},483:{T:1},484:{T:-1},485:{f:Tee},486:{T:1},487:{T:-1},488:{T:1},489:{T:-1},490:{T:1},491:{T:-1},492:{T:1},493:{T:-1},494:{f:mte},495:{T:1},496:{T:-1},497:{T:1},498:{T:-1},499:{},500:{T:1},501:{T:-1},502:{T:1},503:{T:-1},504:{},505:{T:1},506:{T:-1},507:{},508:{T:1},509:{T:-1},510:{T:1},511:{T:-1},512:{},513:{},514:{T:1},515:{T:-1},516:{T:1},517:{T:-1},518:{T:1},519:{T:-1},520:{T:1},521:{T:-1},522:{},523:{},524:{},525:{},526:{},527:{},528:{T:1},529:{T:-1},530:{T:1},531:{T:-1},532:{T:1},533:{T:-1},534:{},535:{},536:{},537:{},538:{T:1},539:{T:-1},540:{T:1},541:{T:-1},542:{T:1},548:{},549:{},550:{f:nN},551:{},552:{},553:{},554:{T:1},555:{T:-1},556:{T:1},557:{T:-1},558:{T:1},559:{T:-1},560:{T:1},561:{T:-1},562:{},564:{},565:{T:1},566:{T:-1},569:{T:1},570:{T:-1},572:{},573:{T:1},574:{T:-1},577:{},578:{},579:{},580:{},581:{},582:{},583:{},584:{},585:{},586:{},587:{},588:{T:-1},589:{},590:{T:1},591:{T:-1},592:{T:1},593:{T:-1},594:{T:1},595:{T:-1},596:{},597:{T:1},598:{T:-1},599:{T:1},600:{T:-1},601:{T:1},602:{T:-1},603:{T:1},604:{T:-1},605:{T:1},606:{T:-1},607:{},608:{T:1},609:{T:-1},610:{},611:{T:1},612:{T:-1},613:{T:1},614:{T:-1},615:{T:1},616:{T:-1},617:{T:1},618:{T:-1},619:{T:1},620:{T:-1},625:{},626:{T:1},627:{T:-1},628:{T:1},629:{T:-1},630:{T:1},631:{T:-1},632:{f:oZ},633:{T:1},634:{T:-1},635:{T:1,f:sZ},636:{T:-1},637:{f:DK},638:{T:1},639:{},640:{T:-1},641:{T:1},642:{T:-1},643:{T:1},644:{},645:{T:-1},646:{T:1},648:{T:1},649:{},650:{T:-1},651:{f:$te},652:{},653:{T:1},654:{T:-1},655:{T:1},656:{T:-1},657:{T:1},658:{T:-1},659:{},660:{T:1},661:{},662:{T:-1},663:{},664:{T:1},665:{},666:{T:-1},667:{},668:{},669:{},671:{T:1},672:{T:-1},673:{T:1},674:{T:-1},675:{},676:{},677:{},678:{},679:{},680:{},681:{},1024:{},1025:{},1026:{T:1},1027:{T:-1},1028:{T:1},1029:{T:-1},1030:{},1031:{T:1},1032:{T:-1},1033:{T:1},1034:{T:-1},1035:{},1036:{},1037:{},1038:{T:1},1039:{T:-1},1040:{},1041:{T:1},1042:{T:-1},1043:{},1044:{},1045:{},1046:{T:1},1047:{T:-1},1048:{T:1},1049:{T:-1},1050:{},1051:{T:1},1052:{T:1},1053:{f:Ete},1054:{T:1},1055:{},1056:{T:1},1057:{T:-1},1058:{T:1},1059:{T:-1},1061:{},1062:{T:1},1063:{T:-1},1064:{T:1},1065:{T:-1},1066:{T:1},1067:{T:-1},1068:{T:1},1069:{T:-1},1070:{T:1},1071:{T:-1},1072:{T:1},1073:{T:-1},1075:{T:1},1076:{T:-1},1077:{T:1},1078:{T:-1},1079:{T:1},1080:{T:-1},1081:{T:1},1082:{T:-1},1083:{T:1},1084:{T:-1},1085:{},1086:{T:1},1087:{T:-1},1088:{T:1},1089:{T:-1},1090:{T:1},1091:{T:-1},1092:{T:1},1093:{T:-1},1094:{T:1},1095:{T:-1},1096:{},1097:{T:1},1098:{},1099:{T:-1},1100:{T:1},1101:{T:-1},1102:{},1103:{},1104:{},1105:{},1111:{},1112:{},1113:{T:1},1114:{T:-1},1115:{T:1},1116:{T:-1},1117:{},1118:{T:1},1119:{T:-1},1120:{T:1},1121:{T:-1},1122:{T:1},1123:{T:-1},1124:{T:1},1125:{T:-1},1126:{},1128:{T:1},1129:{T:-1},1130:{},1131:{T:1},1132:{T:-1},1133:{T:1},1134:{T:-1},1135:{T:1},1136:{T:-1},1137:{T:1},1138:{T:-1},1139:{T:1},1140:{T:-1},1141:{},1142:{T:1},1143:{T:-1},1144:{T:1},1145:{T:-1},1146:{},1147:{T:1},1148:{T:-1},1149:{T:1},1150:{T:-1},1152:{T:1},1153:{T:-1},1154:{T:-1},1155:{T:-1},1156:{T:-1},1157:{T:1},1158:{T:-1},1159:{T:1},1160:{T:-1},1161:{T:1},1162:{T:-1},1163:{T:1},1164:{T:-1},1165:{T:1},1166:{T:-1},1167:{T:1},1168:{T:-1},1169:{T:1},1170:{T:-1},1171:{},1172:{T:1},1173:{T:-1},1177:{},1178:{T:1},1180:{},1181:{},1182:{},2048:{T:1},2049:{T:-1},2050:{},2051:{T:1},2052:{T:-1},2053:{},2054:{},2055:{T:1},2056:{T:-1},2057:{T:1},2058:{T:-1},2060:{},2067:{},2068:{T:1},2069:{T:-1},2070:{},2071:{},2072:{T:1},2073:{T:-1},2075:{},2076:{},2077:{T:1},2078:{T:-1},2079:{},2080:{T:1},2081:{T:-1},2082:{},2083:{T:1},2084:{T:-1},2085:{T:1},2086:{T:-1},2087:{T:1},2088:{T:-1},2089:{T:1},2090:{T:-1},2091:{},2092:{},2093:{T:1},2094:{T:-1},2095:{},2096:{T:1},2097:{T:-1},2098:{T:1},2099:{T:-1},2100:{T:1},2101:{T:-1},2102:{},2103:{T:1},2104:{T:-1},2105:{},2106:{T:1},2107:{T:-1},2108:{},2109:{T:1},2110:{T:-1},2111:{T:1},2112:{T:-1},2113:{T:1},2114:{T:-1},2115:{},2116:{},2117:{},2118:{T:1},2119:{T:-1},2120:{},2121:{T:1},2122:{T:-1},2123:{T:1},2124:{T:-1},2125:{},2126:{T:1},2127:{T:-1},2128:{},2129:{T:1},2130:{T:-1},2131:{T:1},2132:{T:-1},2133:{T:1},2134:{},2135:{},2136:{},2137:{T:1},2138:{T:-1},2139:{T:1},2140:{T:-1},2141:{},3072:{},3073:{},4096:{T:1},4097:{T:-1},5002:{T:1},5003:{T:-1},5081:{T:1},5082:{T:-1},5083:{},5084:{T:1},5085:{T:-1},5086:{T:1},5087:{T:-1},5088:{},5089:{},5090:{},5092:{T:1},5093:{T:-1},5094:{},5095:{T:1},5096:{T:-1},5097:{},5099:{},65535:{n:""}},fN={6:{f:Lw},10:{f:md},12:{f:si},13:{f:si},14:{f:Ha},15:{f:Ha},16:{f:Ss},17:{f:Ha},18:{f:Ha},19:{f:si},20:{f:Nk},21:{f:Nk},23:{f:pP},24:{f:jk},25:{f:Ha},26:{},27:{},28:{f:EY},29:{},34:{f:Ha},35:{f:_k},38:{f:Ss},39:{f:Ss},40:{f:Ss},41:{f:Ss},42:{f:Ha},43:{f:Ha},47:{f:BX},49:{f:eY},51:{f:si},60:{},61:{f:YG},64:{f:Ha},65:{f:JG},66:{f:si},77:{},80:{},81:{},82:{},85:{f:si},89:{},90:{},91:{},92:{f:IG},93:{f:TY},94:{},95:{f:Ha},96:{},97:{},99:{f:Ha},125:{f:xP},128:{f:pY},129:{f:UG},130:{f:si},131:{f:Ha},132:{f:Ha},133:{f:zG},134:{},140:{f:IY},141:{f:si},144:{},146:{f:zY},151:{},152:{},153:{},154:{},155:{},156:{f:si},157:{},158:{},160:{f:GY},161:{f:HY},174:{},175:{},176:{},177:{},178:{},180:{},181:{},182:{},184:{},185:{},189:{f:fY},190:{f:dY},193:{f:md},197:{},198:{},199:{},200:{},201:{},202:{f:Ha},203:{},204:{},205:{},206:{},207:{},208:{},209:{},210:{},211:{},213:{},215:{},216:{},217:{},218:{f:si},220:{},221:{f:Ha},222:{},224:{f:mY},225:{f:RG},226:{f:md},227:{},229:{f:kY},233:{},235:{},236:{},237:{},239:{},240:{},241:{},242:{},244:{},245:{},246:{},247:{},248:{},249:{},251:{},252:{f:$G},253:{f:rY},255:{f:VG},256:{},259:{},290:{},311:{},312:{},315:{},317:{f:sP},318:{},319:{},320:{},330:{},331:{},333:{},334:{},335:{},336:{},337:{},338:{},339:{},340:{},351:{},352:{f:Ha},353:{f:md},401:{},402:{},403:{},404:{},405:{},406:{},407:{},408:{},425:{},426:{},427:{},428:{},429:{},430:{f:bY},431:{f:Ha},432:{},433:{},434:{},437:{},438:{f:FY},439:{f:Ha},440:{f:PY},441:{},442:{f:kg},443:{},444:{f:si},445:{},446:{},448:{f:md},449:{f:GG,r:2},450:{f:md},512:{f:yk},513:{f:KY},515:{f:vY},516:{f:aY},517:{f:wk},519:{f:YY},520:{f:WG},523:{},545:{f:Sk},549:{f:vk},566:{},574:{f:QG},638:{f:uY},659:{},1048:{},1054:{f:sY},1084:{},1212:{f:jY},2048:{f:MY},2049:{},2050:{},2051:{},2052:{},2053:{},2054:{},2055:{},2056:{},2057:{f:nv},2058:{},2059:{},2060:{},2061:{},2062:{},2063:{},2064:{},2066:{},2067:{},2128:{},2129:{},2130:{},2131:{},2132:{},2133:{},2134:{},2135:{},2136:{},2137:{},2138:{},2146:{},2147:{r:12},2148:{},2149:{},2150:{},2151:{f:md},2152:{},2154:{},2155:{},2156:{},2161:{},2162:{},2164:{},2165:{},2166:{},2167:{},2168:{},2169:{},2170:{},2171:{},2172:{f:qY,r:12},2173:{f:IQ,r:12},2174:{},2175:{},2180:{},2181:{},2182:{},2183:{},2184:{},2185:{},2186:{},2187:{},2188:{f:Ha,r:12},2189:{},2190:{r:12},2191:{},2192:{},2194:{},2195:{},2196:{f:_Y,r:12},2197:{},2198:{f:DQ,r:12},2199:{},2200:{},2201:{},2202:{f:SY,r:12},2203:{f:md},2204:{},2205:{},2206:{},2207:{},2211:{f:KG},2212:{},2213:{},2214:{},2215:{},4097:{},4098:{},4099:{},4102:{},4103:{},4105:{},4106:{},4107:{},4108:{},4109:{},4116:{},4117:{},4118:{},4119:{},4120:{},4121:{},4122:{},4123:{},4124:{},4125:{},4126:{},4127:{},4128:{},4129:{},4130:{},4132:{},4133:{},4134:{f:si},4135:{},4146:{},4147:{},4148:{},4149:{},4154:{},4156:{},4157:{},4158:{},4159:{},4160:{},4161:{},4163:{},4164:{f:VY},4165:{},4166:{},4168:{},4170:{},4171:{},4174:{},4175:{},4176:{},4177:{},4187:{},4188:{f:UY},4189:{},4191:{},4192:{},4193:{},4194:{},4195:{},4196:{},4197:{},4198:{},4199:{},4200:{},0:{f:yk},1:{},2:{f:eX},3:{f:ZY},4:{f:QY},5:{f:wk},7:{f:rX},8:{},9:{f:nv},11:{},22:{f:si},30:{f:oY},31:{},32:{},33:{f:Sk},36:{},37:{f:vk},50:{f:nX},62:{},52:{},67:{},68:{f:si},69:{},86:{},126:{},127:{f:XY},135:{},136:{},137:{},145:{},148:{},149:{},150:{},169:{},171:{},188:{},191:{},192:{},194:{},195:{},214:{f:aX},223:{},234:{},354:{},421:{},518:{f:Lw},521:{f:nv},536:{f:jk},547:{f:_k},561:{},579:{},1030:{f:Lw},1033:{f:nv},1091:{},2157:{},2163:{},2177:{},2240:{},2241:{},2242:{},2243:{},2244:{},2245:{},2246:{},2247:{},2248:{},2249:{},2250:{},2251:{},2262:{r:12},29282:{}};function _t(e,t,r,n){var a=t;if(!isNaN(a)){var i=n||(r||[]).length||0,l=e.next(4);l.write_shift(2,a),l.write_shift(2,i),i>0&&i3(r)&&e.push(r)}}function rne(e,t,r,n){var a=(r||[]).length||0;if(a<=8224)return _t(e,t,r,a);var i=t;if(!isNaN(i)){for(var l=r.parts||[],o=0,u=0,f=0;f+(l[o]||8224)<=8224;)f+=l[o]||8224,o++;var h=e.next(4);for(h.write_shift(2,i),h.write_shift(2,f),e.push(r.slice(u,u+f)),u+=f;u<a;){for(h=e.next(4),h.write_shift(2,60),f=0;f+(l[o]||8224)<=8224;)f+=l[o]||8224,o++;h.write_shift(2,f),e.push(r.slice(u,u+f)),u+=f}}}function Dg(e,t,r){return e||(e=tt(7)),e.write_shift(2,t),e.write_shift(2,r),e.write_shift(2,0),e.write_shift(1,0),e}function nne(e,t,r,n){var a=tt(9);return Dg(a,e,t),lP(r,n||"b",a),a}function ane(e,t,r){var n=tt(8+2*r.length);return Dg(n,e,t),n.write_shift(1,r.length),n.write_shift(r.length,r,"sbcs"),n.l<n.length?n.slice(0,n.l):n}function ine(e,t,r,n){if(t.v!=null)switch(t.t){case"d":case"n":var a=t.t=="d"?Si(Jn(t.v)):t.v;a==(a|0)&&a>=0&&a<65536?_t(e,2,tX(r,n,a)):_t(e,3,JY(r,n,a));return;case"b":case"e":_t(e,5,nne(r,n,t.v,t.t));return;case"s":case"str":_t(e,4,ane(r,n,(t.v||"").slice(0,255)));return}_t(e,1,Dg(null,r,n))}function sne(e,t,r,n){var a=Array.isArray(t),i=tn(t["!ref"]||"A1"),l,o="",u=[];if(i.e.c>255||i.e.r>16383){if(n.WTF)throw new Error("Range "+(t["!ref"]||"A1")+" exceeds format limit A1:IV16384");i.e.c=Math.min(i.e.c,255),i.e.r=Math.min(i.e.c,16383),l=Nr(i)}for(var f=i.s.r;f<=i.e.r;++f){o=Qa(f);for(var h=i.s.c;h<=i.e.c;++h){f===i.s.r&&(u[h]=_a(h)),l=u[h]+o;var m=a?(t[f]||[])[h]:t[l];m&&ine(e,m,f,h)}}}function lne(e,t){for(var r=t||{},n=kl(),a=0,i=0;i<e.SheetNames.length;++i)e.SheetNames[i]==r.sheet&&(a=i);if(a==0&&r.sheet&&e.SheetNames[0]!=r.sheet)throw new Error("Sheet not found: "+r.sheet);return _t(n,r.biff==4?1033:r.biff==3?521:9,p3(e,16,r)),sne(n,e.Sheets[e.SheetNames[a]],a,r),_t(n,10),n.end()}function one(e,t,r){_t(e,49,tY({sz:12,name:"Arial"},r))}function cne(e,t,r){t&&[[5,8],[23,26],[41,44],[50,392]].forEach(function(n){for(var a=n[0];a<=n[1];++a)t[a]!=null&&_t(e,1054,lY(a,t[a],r))})}function une(e,t){var r=tt(19);r.write_shift(4,2151),r.write_shift(4,0),r.write_shift(4,0),r.write_shift(2,3),r.write_shift(1,1),r.write_shift(4,0),_t(e,2151,r),r=tt(39),r.write_shift(4,2152),r.write_shift(4,0),r.write_shift(4,0),r.write_shift(2,3),r.write_shift(1,0),r.write_shift(4,0),r.write_shift(2,1),r.write_shift(4,4),r.write_shift(2,0),dP(tn(t["!ref"]||"A1"),r),r.write_shift(4,4),_t(e,2152,r)}function fne(e,t){for(var r=0;r<16;++r)_t(e,224,bk({numFmtId:0,style:!0},0,t));t.cellXfs.forEach(function(n){_t(e,224,bk(n,0,t))})}function dne(e,t){for(var r=0;r<t["!links"].length;++r){var n=t["!links"][r];_t(e,440,LY(n)),n[1].Tooltip&&_t(e,2048,RY(n))}delete t["!links"]}function hne(e,t){if(t){var r=0;t.forEach(function(n,a){++r<=256&&n&&_t(e,125,$Y(g2(a,n),a))})}}function mne(e,t,r,n,a){var i=16+Ud(a.cellXfs,t,a);if(t.v==null&&!t.bf){_t(e,513,Q0(r,n,i));return}if(t.bf)_t(e,6,UJ(t,r,n,a,i));else switch(t.t){case"d":case"n":var l=t.t=="d"?Si(Jn(t.v)):t.v;_t(e,515,yY(r,n,l,i));break;case"b":case"e":_t(e,517,gY(r,n,t.v,i,a,t.t));break;case"s":case"str":if(a.bookSST){var o=_3(a.Strings,t.v,a.revStrings);_t(e,253,nY(r,n,o,i))}else _t(e,516,iY(r,n,(t.v||"").slice(0,255),i,a));break;default:_t(e,513,Q0(r,n,i))}}function pne(e,t,r){var n=kl(),a=r.SheetNames[e],i=r.Sheets[a]||{},l=(r||{}).Workbook||{},o=(l.Sheets||[])[e]||{},u=Array.isArray(i),f=t.biff==8,h,m="",g=[],x=tn(i["!ref"]||"A1"),b=f?65536:16384;if(x.e.c>255||x.e.r>=b){if(t.WTF)throw new Error("Range "+(i["!ref"]||"A1")+" exceeds format limit A1:IV16384");x.e.c=Math.min(x.e.c,255),x.e.r=Math.min(x.e.c,b-1)}_t(n,2057,p3(r,16,t)),_t(n,13,Lo(1)),_t(n,12,Lo(100)),_t(n,15,Ys(!0)),_t(n,17,Ys(!1)),_t(n,16,Y0(.001)),_t(n,95,Ys(!0)),_t(n,42,Ys(!1)),_t(n,43,Ys(!1)),_t(n,130,Lo(1)),_t(n,128,xY()),_t(n,131,Ys(!1)),_t(n,132,Ys(!1)),f&&hne(n,i["!cols"]),_t(n,512,cY(x,t)),f&&(i["!links"]=[]);for(var v=x.s.r;v<=x.e.r;++v){m=Qa(v);for(var w=x.s.c;w<=x.e.c;++w){v===x.s.r&&(g[w]=_a(w)),h=g[w]+m;var N=u?(i[v]||[])[w]:i[h];N&&(mne(n,N,v,w,t),f&&N.l&&i["!links"].push([h,N.l]))}}var E=o.CodeName||o.name||a;return f&&_t(n,574,ZG((l.Views||[])[0])),f&&(i["!merges"]||[]).length&&_t(n,229,CY(i["!merges"])),f&&dne(n,i),_t(n,442,oP(E)),f&&une(n,i),_t(n,10),n.end()}function xne(e,t,r){var n=kl(),a=(e||{}).Workbook||{},i=a.Sheets||[],l=a.WBProps||{},o=r.biff==8,u=r.biff==5;if(_t(n,2057,p3(e,5,r)),r.bookType=="xla"&&_t(n,135),_t(n,225,o?Lo(1200):null),_t(n,193,gG(2)),u&&_t(n,191),u&&_t(n,192),_t(n,226),_t(n,92,BG("SheetJS",r)),_t(n,66,Lo(o?1200:1252)),o&&_t(n,353,Lo(0)),o&&_t(n,448),_t(n,317,WY(e.SheetNames.length)),o&&e.vbaraw&&_t(n,211),o&&e.vbaraw){var f=l.CodeName||"ThisWorkbook";_t(n,442,oP(f))}_t(n,156,Lo(17)),_t(n,25,Ys(!1)),_t(n,18,Ys(!1)),_t(n,19,Lo(0)),o&&_t(n,431,Ys(!1)),o&&_t(n,444,Lo(0)),_t(n,61,XG()),_t(n,64,Ys(!1)),_t(n,141,Lo(0)),_t(n,34,Ys(Gte(e)=="true")),_t(n,14,Ys(!0)),o&&_t(n,439,Ys(!1)),_t(n,218,Lo(0)),one(n,e,r),cne(n,e.SSF,r),fne(n,r),o&&_t(n,352,Ys(!1));var h=n.end(),m=kl();o&&_t(m,140,BY()),o&&r.Strings&&rne(m,252,HG(r.Strings)),_t(m,10);var g=m.end(),x=kl(),b=0,v=0;for(v=0;v<e.SheetNames.length;++v)b+=(o?12:11)+(o?2:1)*e.SheetNames[v].length;var w=h.length+b+g.length;for(v=0;v<e.SheetNames.length;++v){var N=i[v]||{};_t(x,133,qG({pos:w,hs:N.Hidden||0,dt:0,name:e.SheetNames[v]},r)),w+=t[v].length}var E=x.end();if(b!=E.length)throw new Error("BS8 "+b+" != "+E.length);var j=[];return h.length&&j.push(h),E.length&&j.push(E),g.length&&j.push(g),zi(j)}function gne(e,t){var r=t||{},n=[];e&&!e.SSF&&(e.SSF=ea(ur)),e&&e.SSF&&(sp(),u2(e.SSF),r.revssf=d2(e.SSF),r.revssf[e.SSF[65535]]=0,r.ssf=e.SSF),r.Strings=[],r.Strings.Count=0,r.Strings.Unique=0,k3(r),r.cellXfs=[],Ud(r.cellXfs,{},{revssf:{General:0}}),e.Props||(e.Props={});for(var a=0;a<e.SheetNames.length;++a)n[n.length]=pne(a,r,e);return n.unshift(xne(e,n,r)),zi(n)}function tL(e,t){for(var r=0;r<=e.SheetNames.length;++r){var n=e.Sheets[e.SheetNames[r]];if(!(!n||!n["!ref"])){var a=Tl(n["!ref"]);a.e.c>255&&typeof console<"u"&&console.error&&console.error("Worksheet '"+e.SheetNames[r]+"' extends beyond column IV (255).  Data may be lost.")}}var i=t||{};switch(i.biff||2){case 8:case 5:return gne(e,t);case 4:case 3:case 2:return lne(e,t)}throw new Error("invalid type "+i.bookType+" for BIFF")}function Lk(e,t){var r=t||{},n=r.dense?[]:{};e=e.replace(/<!--.*?-->/g,"");var a=e.match(/<table/i);if(!a)throw new Error("Invalid HTML: could not find <table>");var i=e.match(/<\/table/i),l=a.index,o=i&&i.index||e.length,u=tK(e.slice(l,o),/(:?<tr[^>]*>)/i,"<tr>"),f=-1,h=0,m=0,g=0,x={s:{r:1e7,c:1e7},e:{r:0,c:0}},b=[];for(l=0;l<u.length;++l){var v=u[l].trim(),w=v.slice(0,3).toLowerCase();if(w=="<tr"){if(++f,r.sheetRows&&r.sheetRows<=f){--f;break}h=0;continue}if(!(w!="<td"&&w!="<th")){var N=v.split(/<\/t[dh]>/i);for(o=0;o<N.length;++o){var E=N[o].trim();if(E.match(/<t[dh]/i)){for(var j=E,T=0;j.charAt(0)=="<"&&(T=j.indexOf(">"))>-1;)j=j.slice(T+1);for(var O=0;O<b.length;++O){var P=b[O];P.s.c==h&&P.s.r<f&&f<=P.e.r&&(h=P.e.c+1,O=-1)}var D=hr(E.slice(0,E.indexOf(">")));g=D.colspan?+D.colspan:1,((m=+D.rowspan)>1||g>1)&&b.push({s:{r:f,c:h},e:{r:f+(m||1)-1,c:h+g-1}});var M=D.t||D["data-t"]||"";if(!j.length){h+=g;continue}if(j=SF(j),x.s.r>f&&(x.s.r=f),x.e.r<f&&(x.e.r=f),x.s.c>h&&(x.s.c=h),x.e.c<h&&(x.e.c=h),!j.length){h+=g;continue}var B={t:"s",v:j};r.raw||!j.trim().length||M=="s"||(j==="TRUE"?B={t:"b",v:!0}:j==="FALSE"?B={t:"b",v:!1}:isNaN(Ac(j))?isNaN(qm(j).getDate())||(B={t:"d",v:Jn(j)},r.cellDates||(B={t:"n",v:Si(B.v)}),B.z=r.dateNF||ur[14]):B={t:"n",v:Ac(j)}),r.dense?(n[f]||(n[f]=[]),n[f][h]=B):n[fr({r:f,c:h})]=B,h+=g}}}}return n["!ref"]=Nr(x),b.length&&(n["!merges"]=b),n}function vne(e,t,r,n){for(var a=e["!merges"]||[],i=[],l=t.s.c;l<=t.e.c;++l){for(var o=0,u=0,f=0;f<a.length;++f)if(!(a[f].s.r>r||a[f].s.c>l)&&!(a[f].e.r<r||a[f].e.c<l)){if(a[f].s.r<r||a[f].s.c<l){o=-1;break}o=a[f].e.r-a[f].s.r+1,u=a[f].e.c-a[f].s.c+1;break}if(!(o<0)){var h=fr({r,c:l}),m=n.dense?(e[r]||[])[l]:e[h],g=m&&m.v!=null&&(m.h||r3(m.w||(xf(m),m.w)||""))||"",x={};o>1&&(x.rowspan=o),u>1&&(x.colspan=u),n.editable?g='<span contenteditable="true">'+g+"</span>":m&&(x["data-t"]=m&&m.t||"z",m.v!=null&&(x["data-v"]=m.v),m.z!=null&&(x["data-z"]=m.z),m.l&&(m.l.Target||"#").charAt(0)!="#"&&(g='<a href="'+m.l.Target+'">'+g+"</a>")),x.id=(n.id||"sjs")+"-"+h,i.push(wt("td",g,x))}}var b="<tr>";return b+i.join("")+"</tr>"}var yne='<html><head><meta charset="utf-8"/><title>SheetJS Table Export</title></head><body>',bne="</body></html>";function wne(e,t){var r=e.match(/<table[\s\S]*?>[\s\S]*?<\/table>/gi);if(!r||r.length==0)throw new Error("Invalid HTML: could not find <table>");if(r.length==1)return Bd(Lk(r[0],t),t);var n=O3();return r.forEach(function(a,i){D3(n,Lk(a,t),"Sheet"+(i+1))}),n}function Nne(e,t,r){var n=[];return n.join("")+"<table"+(r&&r.id?' id="'+r.id+'"':"")+">"}function rL(e,t){var r=t||{},n=r.header!=null?r.header:yne,a=r.footer!=null?r.footer:bne,i=[n],l=Tl(e["!ref"]);r.dense=Array.isArray(e),i.push(Nne(e,l,r));for(var o=l.s.r;o<=l.e.r;++o)i.push(vne(e,l,o,r));return i.push("</table>"+a),i.join("")}function nL(e,t,r){var n=r||{},a=0,i=0;if(n.origin!=null)if(typeof n.origin=="number")a=n.origin;else{var l=typeof n.origin=="string"?ja(n.origin):n.origin;a=l.r,i=l.c}var o=t.getElementsByTagName("tr"),u=Math.min(n.sheetRows||1e7,o.length),f={s:{r:0,c:0},e:{r:a,c:i}};if(e["!ref"]){var h=Tl(e["!ref"]);f.s.r=Math.min(f.s.r,h.s.r),f.s.c=Math.min(f.s.c,h.s.c),f.e.r=Math.max(f.e.r,h.e.r),f.e.c=Math.max(f.e.c,h.e.c),a==-1&&(f.e.r=a=h.e.r+1)}var m=[],g=0,x=e["!rows"]||(e["!rows"]=[]),b=0,v=0,w=0,N=0,E=0,j=0;for(e["!cols"]||(e["!cols"]=[]);b<o.length&&v<u;++b){var T=o[b];if(Mk(T)){if(n.display)continue;x[v]={hidden:!0}}var O=T.children;for(w=N=0;w<O.length;++w){var P=O[w];if(!(n.display&&Mk(P))){var D=P.hasAttribute("data-v")?P.getAttribute("data-v"):P.hasAttribute("v")?P.getAttribute("v"):SF(P.innerHTML),M=P.getAttribute("data-z")||P.getAttribute("z");for(g=0;g<m.length;++g){var B=m[g];B.s.c==N+i&&B.s.r<v+a&&v+a<=B.e.r&&(N=B.e.c+1-i,g=-1)}j=+P.getAttribute("colspan")||1,((E=+P.getAttribute("rowspan")||1)>1||j>1)&&m.push({s:{r:v+a,c:N+i},e:{r:v+a+(E||1)-1,c:N+i+(j||1)-1}});var H={t:"s",v:D},L=P.getAttribute("data-t")||P.getAttribute("t")||"";D!=null&&(D.length==0?H.t=L||"z":n.raw||D.trim().length==0||L=="s"||(D==="TRUE"?H={t:"b",v:!0}:D==="FALSE"?H={t:"b",v:!1}:isNaN(Ac(D))?isNaN(qm(D).getDate())||(H={t:"d",v:Jn(D)},n.cellDates||(H={t:"n",v:Si(H.v)}),H.z=n.dateNF||ur[14]):H={t:"n",v:Ac(D)})),H.z===void 0&&M!=null&&(H.z=M);var U="",G=P.getElementsByTagName("A");if(G&&G.length)for(var te=0;te<G.length&&!(G[te].hasAttribute("href")&&(U=G[te].getAttribute("href"),U.charAt(0)!="#"));++te);U&&U.charAt(0)!="#"&&(H.l={Target:U}),n.dense?(e[v+a]||(e[v+a]=[]),e[v+a][N+i]=H):e[fr({c:N+i,r:v+a})]=H,f.e.c<N+i&&(f.e.c=N+i),N+=j}}++v}return m.length&&(e["!merges"]=(e["!merges"]||[]).concat(m)),f.e.r=Math.max(f.e.r,v-1+a),e["!ref"]=Nr(f),v>=u&&(e["!fullref"]=Nr((f.e.r=o.length-b+v-1+a,f))),e}function aL(e,t){var r=t||{},n=r.dense?[]:{};return nL(n,e,t)}function _ne(e,t){return Bd(aL(e,t),t)}function Mk(e){var t="",r=jne(e);return r&&(t=r(e).getPropertyValue("display")),t||(t=e.style&&e.style.display),t==="none"}function jne(e){return e.ownerDocument.defaultView&&typeof e.ownerDocument.defaultView.getComputedStyle=="function"?e.ownerDocument.defaultView.getComputedStyle:typeof getComputedStyle=="function"?getComputedStyle:null}function Sne(e){var t=e.replace(/[\t\r\n]/g," ").trim().replace(/ +/g," ").replace(/<text:s\/>/g," ").replace(/<text:s text:c="(\d+)"\/>/g,function(n,a){return Array(parseInt(a,10)+1).join(" ")}).replace(/<text:tab[^>]*\/>/g,"	").replace(/<text:line-break\/>/g,`
`),r=Zr(t.replace(/<[^>]*>/g,""));return[r]}var Rk={day:["d","dd"],month:["m","mm"],year:["y","yy"],hours:["h","hh"],minutes:["m","mm"],seconds:["s","ss"],"am-pm":["A/P","AM/PM"],"day-of-week":["ddd","dddd"],era:["e","ee"],quarter:["\\Qm",'m\\"th quarter"']};function iL(e,t){var r=t||{},n=n3(e),a=[],i,l,o={name:""},u="",f=0,h,m,g={},x=[],b=r.dense?[]:{},v,w,N={value:""},E="",j=0,T=[],O=-1,P=-1,D={s:{r:1e6,c:1e7},e:{r:0,c:0}},M=0,B={},H=[],L={},U=0,G=0,te=[],de=1,ne=1,Z=[],xe={Names:[]},le={},Se=["",""],re=[],R={},F="",q=0,W=!1,Q=!1,oe=0;for(Zx.lastIndex=0,n=n.replace(/<!--([\s\S]*?)-->/mg,"").replace(/<!DOCTYPE[^\[]*\[[^\]]*\]>/gm,"");v=Zx.exec(n);)switch(v[3]=v[3].replace(/_.*$/,"")){case"table":case"":v[1]==="/"?(D.e.c>=D.s.c&&D.e.r>=D.s.r?b["!ref"]=Nr(D):b["!ref"]="A1:A1",r.sheetRows>0&&r.sheetRows<=D.e.r&&(b["!fullref"]=b["!ref"],D.e.r=r.sheetRows-1,b["!ref"]=Nr(D)),H.length&&(b["!merges"]=H),te.length&&(b["!rows"]=te),h.name=h.||h.name,typeof JSON<"u"&&JSON.stringify(h),x.push(h.name),g[h.name]=b,Q=!1):v[0].charAt(v[0].length-2)!=="/"&&(h=hr(v[0],!1),O=P=-1,D.s.r=D.s.c=1e7,D.e.r=D.e.c=0,b=r.dense?[]:{},H=[],te=[],Q=!0);break;case"table-row-group":v[1]==="/"?--M:++M;break;case"table-row":case"":if(v[1]==="/"){O+=de,de=1;break}if(m=hr(v[0],!1),m.?O=m.-1:O==-1&&(O=0),de=+m["number-rows-repeated"]||1,de<10)for(oe=0;oe<de;++oe)M>0&&(te[O+oe]={level:M});P=-1;break;case"covered-table-cell":v[1]!=="/"&&++P,r.sheetStubs&&(r.dense?(b[O]||(b[O]=[]),b[O][P]={t:"z"}):b[fr({r:O,c:P})]={t:"z"}),E="",T=[];break;case"table-cell":case"":if(v[0].charAt(v[0].length-2)==="/")++P,N=hr(v[0],!1),ne=parseInt(N["number-columns-repeated"]||"1",10),w={t:"z",v:null},N.formula&&r.cellFormula!=!1&&(w.f=Dk(Zr(N.formula))),(N.||N["value-type"])=="string"&&(w.t="s",w.v=Zr(N["string-value"]||""),r.dense?(b[O]||(b[O]=[]),b[O][P]=w):b[fr({r:O,c:P})]=w),P+=ne-1;else if(v[1]!=="/"){++P,E="",j=0,T=[],ne=1;var ue=de?O+de-1:O;if(P>D.e.c&&(D.e.c=P),P<D.s.c&&(D.s.c=P),O<D.s.r&&(D.s.r=O),ue>D.e.r&&(D.e.r=ue),N=hr(v[0],!1),re=[],R={},w={t:N.||N["value-type"],v:null},r.cellFormula)if(N.formula&&(N.formula=Zr(N.formula)),N["number-matrix-columns-spanned"]&&N["number-matrix-rows-spanned"]&&(U=parseInt(N["number-matrix-rows-spanned"],10)||0,G=parseInt(N["number-matrix-columns-spanned"],10)||0,L={s:{r:O,c:P},e:{r:O+U-1,c:P+G-1}},w.F=Nr(L),Z.push([L,w.F])),N.formula)w.f=Dk(N.formula);else for(oe=0;oe<Z.length;++oe)O>=Z[oe][0].s.r&&O<=Z[oe][0].e.r&&P>=Z[oe][0].s.c&&P<=Z[oe][0].e.c&&(w.F=Z[oe][1]);switch((N["number-columns-spanned"]||N["number-rows-spanned"])&&(U=parseInt(N["number-rows-spanned"],10)||0,G=parseInt(N["number-columns-spanned"],10)||0,L={s:{r:O,c:P},e:{r:O+U-1,c:P+G-1}},H.push(L)),N["number-columns-repeated"]&&(ne=parseInt(N["number-columns-repeated"],10)),w.t){case"boolean":w.t="b",w.v=Qn(N["boolean-value"]);break;case"float":w.t="n",w.v=parseFloat(N.value);break;case"percentage":w.t="n",w.v=parseFloat(N.value);break;case"currency":w.t="n",w.v=parseFloat(N.value);break;case"date":w.t="d",w.v=Jn(N["date-value"]),r.cellDates||(w.t="n",w.v=Si(w.v)),w.z="m/d/yy";break;case"time":w.t="n",w.v=ZW(N["time-value"])/86400,r.cellDates&&(w.t="d",w.v=h2(w.v)),w.z="HH:MM:SS";break;case"number":w.t="n",w.v=parseFloat(N.);break;default:if(w.t==="string"||w.t==="text"||!w.t)w.t="s",N["string-value"]!=null&&(E=Zr(N["string-value"]),T=[]);else throw new Error("Unsupported value type "+w.t)}}else{if(W=!1,w.t==="s"&&(w.v=E||"",T.length&&(w.R=T),W=j==0),le.Target&&(w.l=le),re.length>0&&(w.c=re,re=[]),E&&r.cellText!==!1&&(w.w=E),W&&(w.t="z",delete w.v),(!W||r.sheetStubs)&&!(r.sheetRows&&r.sheetRows<=O))for(var X=0;X<de;++X){if(ne=parseInt(N["number-columns-repeated"]||"1",10),r.dense)for(b[O+X]||(b[O+X]=[]),b[O+X][P]=X==0?w:ea(w);--ne>0;)b[O+X][P+ne]=ea(w);else for(b[fr({r:O+X,c:P})]=w;--ne>0;)b[fr({r:O+X,c:P+ne})]=ea(w);D.e.c<=P&&(D.e.c=P)}ne=parseInt(N["number-columns-repeated"]||"1",10),P+=ne-1,ne=0,w={},E="",T=[]}le={};break;case"document":case"document-content":case"":case"spreadsheet":case"":case"scripts":case"styles":case"font-face-decls":case"master-styles":if(v[1]==="/"){if((i=a.pop())[0]!==v[3])throw"Bad state: "+i}else v[0].charAt(v[0].length-2)!=="/"&&a.push([v[3],!0]);break;case"annotation":if(v[1]==="/"){if((i=a.pop())[0]!==v[3])throw"Bad state: "+i;R.t=E,T.length&&(R.R=T),R.a=F,re.push(R)}else v[0].charAt(v[0].length-2)!=="/"&&a.push([v[3],!1]);F="",q=0,E="",j=0,T=[];break;case"creator":v[1]==="/"?F=n.slice(q,v.index):q=v.index+v[0].length;break;case"meta":case"":case"settings":case"config-item-set":case"config-item-map-indexed":case"config-item-map-entry":case"config-item-map-named":case"shapes":case"frame":case"text-box":case"image":case"data-pilot-tables":case"list-style":case"form":case"dde-links":case"event-listeners":case"chart":if(v[1]==="/"){if((i=a.pop())[0]!==v[3])throw"Bad state: "+i}else v[0].charAt(v[0].length-2)!=="/"&&a.push([v[3],!1]);E="",j=0,T=[];break;case"scientific-number":break;case"currency-symbol":break;case"currency-style":break;case"number-style":case"percentage-style":case"date-style":case"time-style":if(v[1]==="/"){if(B[o.name]=u,(i=a.pop())[0]!==v[3])throw"Bad state: "+i}else v[0].charAt(v[0].length-2)!=="/"&&(u="",o=hr(v[0],!1),a.push([v[3],!0]));break;case"script":break;case"libraries":break;case"automatic-styles":break;case"default-style":case"page-layout":break;case"style":break;case"map":break;case"font-face":break;case"paragraph-properties":break;case"table-properties":break;case"table-column-properties":break;case"table-row-properties":break;case"table-cell-properties":break;case"number":switch(a[a.length-1][0]){case"time-style":case"date-style":l=hr(v[0],!1),u+=Rk[v[3]][l.style==="long"?1:0];break}break;case"fraction":break;case"day":case"month":case"year":case"era":case"day-of-week":case"week-of-year":case"quarter":case"hours":case"minutes":case"seconds":case"am-pm":switch(a[a.length-1][0]){case"time-style":case"date-style":l=hr(v[0],!1),u+=Rk[v[3]][l.style==="long"?1:0];break}break;case"boolean-style":break;case"boolean":break;case"text-style":break;case"text":if(v[0].slice(-2)==="/>")break;if(v[1]==="/")switch(a[a.length-1][0]){case"number-style":case"date-style":case"time-style":u+=n.slice(f,v.index);break}else f=v.index+v[0].length;break;case"named-range":l=hr(v[0],!1),Se=Mw(l["cell-range-address"]);var ve={Name:l.name,Ref:Se[0]+"!"+Se[1]};Q&&(ve.Sheet=x.length),xe.Names.push(ve);break;case"text-content":break;case"text-properties":break;case"embedded-text":break;case"body":case"":break;case"forms":break;case"table-column":break;case"table-header-rows":break;case"table-rows":break;case"table-column-group":break;case"table-header-columns":break;case"table-columns":break;case"null-date":break;case"graphic-properties":break;case"calculation-settings":break;case"named-expressions":break;case"label-range":break;case"label-ranges":break;case"named-expression":break;case"sort":break;case"sort-by":break;case"sort-groups":break;case"tab":break;case"line-break":break;case"span":break;case"p":case"":if(["master-styles"].indexOf(a[a.length-1][0])>-1)break;if(v[1]==="/"&&(!N||!N["string-value"])){var Te=Sne(n.slice(j,v.index));E=(E.length>0?E+`
`:"")+Te[0]}else hr(v[0],!1),j=v.index+v[0].length;break;case"s":break;case"database-range":if(v[1]==="/")break;try{Se=Mw(hr(v[0])["target-range-address"]),g[Se[0]]["!autofilter"]={ref:Se[1]}}catch{}break;case"date":break;case"object":break;case"title":case"":break;case"desc":break;case"binary-data":break;case"table-source":break;case"scenario":break;case"iteration":break;case"content-validations":break;case"content-validation":break;case"help-message":break;case"error-message":break;case"database-ranges":break;case"filter":break;case"filter-and":break;case"filter-or":break;case"filter-condition":break;case"list-level-style-bullet":break;case"list-level-style-number":break;case"list-level-properties":break;case"sender-firstname":case"sender-lastname":case"sender-initials":case"sender-title":case"sender-position":case"sender-email":case"sender-phone-private":case"sender-fax":case"sender-company":case"sender-phone-work":case"sender-street":case"sender-city":case"sender-postal-code":case"sender-country":case"sender-state-or-province":case"author-name":case"author-initials":case"chapter":case"file-name":case"template-name":case"sheet-name":break;case"event-listener":break;case"initial-creator":case"creation-date":case"print-date":case"generator":case"document-statistic":case"user-defined":case"editing-duration":case"editing-cycles":break;case"config-item":break;case"page-number":break;case"page-count":break;case"time":break;case"cell-range-source":break;case"detective":break;case"operation":break;case"highlighted-range":break;case"data-pilot-table":case"source-cell-range":case"source-service":case"data-pilot-field":case"data-pilot-level":case"data-pilot-subtotals":case"data-pilot-subtotal":case"data-pilot-members":case"data-pilot-member":case"data-pilot-display-info":case"data-pilot-sort-info":case"data-pilot-layout-info":case"data-pilot-field-reference":case"data-pilot-groups":case"data-pilot-group":case"data-pilot-group-member":break;case"rect":break;case"dde-connection-decls":case"dde-connection-decl":case"dde-link":case"dde-source":break;case"properties":break;case"property":break;case"a":if(v[1]!=="/"){if(le=hr(v[0],!1),!le.href)break;le.Target=Zr(le.href),delete le.href,le.Target.charAt(0)=="#"&&le.Target.indexOf(".")>-1?(Se=Mw(le.Target.slice(1)),le.Target="#"+Se[0]+"!"+Se[1]):le.Target.match(/^\.\.[\\\/]/)&&(le.Target=le.Target.slice(3))}break;case"table-protection":break;case"data-pilot-grand-total":break;case"office-document-common-attrs":break;default:switch(v[2]){case"dc:":case"calcext:":case"loext:":case"ooo:":case"chartooo:":case"draw:":case"style:":case"chart:":case"form:":case"uof:":case":":case":":break;default:if(r.WTF)throw new Error(v)}}var Y={Sheets:g,SheetNames:x,Workbook:xe};return r.bookSheets&&delete Y.Sheets,Y}function Ik(e,t){t=t||{},Po(e,"META-INF/manifest.xml")&&ZK(ii(e,"META-INF/manifest.xml"),t);var r=Jl(e,"content.xml");if(!r)throw new Error("Missing content.xml in ODS / UOF file");var n=iL(Dn(r),t);return Po(e,"meta.xml")&&(n.Props=YF(ii(e,"meta.xml"))),n}function Bk(e,t){return iL(e,t)}var Ane=(function(){var e=["<office:master-styles>",'<style:master-page style:name="mp1" style:page-layout-name="mp1">',"<style:header/>",'<style:header-left style:display="false"/>',"<style:footer/>",'<style:footer-left style:display="false"/>',"</style:master-page>","</office:master-styles>"].join(""),t="<office:document-styles "+Qx({"xmlns:office":"urn:oasis:names:tc:opendocument:xmlns:office:1.0","xmlns:table":"urn:oasis:names:tc:opendocument:xmlns:table:1.0","xmlns:style":"urn:oasis:names:tc:opendocument:xmlns:style:1.0","xmlns:text":"urn:oasis:names:tc:opendocument:xmlns:text:1.0","xmlns:draw":"urn:oasis:names:tc:opendocument:xmlns:drawing:1.0","xmlns:fo":"urn:oasis:names:tc:opendocument:xmlns:xsl-fo-compatible:1.0","xmlns:xlink":"http://www.w3.org/1999/xlink","xmlns:dc":"http://purl.org/dc/elements/1.1/","xmlns:number":"urn:oasis:names:tc:opendocument:xmlns:datastyle:1.0","xmlns:svg":"urn:oasis:names:tc:opendocument:xmlns:svg-compatible:1.0","xmlns:of":"urn:oasis:names:tc:opendocument:xmlns:of:1.2","office:version":"1.2"})+">"+e+"</office:document-styles>";return function(){return Za+t}})(),Uk=(function(){var e=function(i){return _n(i).replace(/  +/g,function(l){return'<text:s text:c="'+l.length+'"/>'}).replace(/\t/g,"<text:tab/>").replace(/\n/g,"</text:p><text:p>").replace(/^ /,"<text:s/>").replace(/ $/,"<text:s/>")},t=`          <table:table-cell />
`,r=`          <table:covered-table-cell/>
`,n=function(i,l,o){var u=[];u.push('      <table:table table:name="'+_n(l.SheetNames[o])+`" table:style-name="ta1">
`);var f=0,h=0,m=Tl(i["!ref"]||"A1"),g=i["!merges"]||[],x=0,b=Array.isArray(i);if(i["!cols"])for(h=0;h<=m.e.c;++h)u.push("        <table:table-column"+(i["!cols"][h]?' table:style-name="co'+i["!cols"][h].ods+'"':"")+`></table:table-column>
`);var v="",w=i["!rows"]||[];for(f=0;f<m.s.r;++f)v=w[f]?' table:style-name="ro'+w[f].ods+'"':"",u.push("        <table:table-row"+v+`></table:table-row>
`);for(;f<=m.e.r;++f){for(v=w[f]?' table:style-name="ro'+w[f].ods+'"':"",u.push("        <table:table-row"+v+`>
`),h=0;h<m.s.c;++h)u.push(t);for(;h<=m.e.c;++h){var N=!1,E={},j="";for(x=0;x!=g.length;++x)if(!(g[x].s.c>h)&&!(g[x].s.r>f)&&!(g[x].e.c<h)&&!(g[x].e.r<f)){(g[x].s.c!=h||g[x].s.r!=f)&&(N=!0),E["table:number-columns-spanned"]=g[x].e.c-g[x].s.c+1,E["table:number-rows-spanned"]=g[x].e.r-g[x].s.r+1;break}if(N){u.push(r);continue}var T=fr({r:f,c:h}),O=b?(i[f]||[])[h]:i[T];if(O&&O.f&&(E["table:formula"]=_n(WJ(O.f)),O.F&&O.F.slice(0,T.length)==T)){var P=Tl(O.F);E["table:number-matrix-columns-spanned"]=P.e.c-P.s.c+1,E["table:number-matrix-rows-spanned"]=P.e.r-P.s.r+1}if(!O){u.push(t);continue}switch(O.t){case"b":j=O.v?"TRUE":"FALSE",E["office:value-type"]="boolean",E["office:boolean-value"]=O.v?"true":"false";break;case"n":j=O.w||String(O.v||0),E["office:value-type"]="float",E["office:value"]=O.v||0;break;case"s":case"str":j=O.v==null?"":O.v,E["office:value-type"]="string";break;case"d":j=O.w||Jn(O.v).toISOString(),E["office:value-type"]="date",E["office:date-value"]=Jn(O.v).toISOString(),E["table:style-name"]="ce1";break;default:u.push(t);continue}var D=e(j);if(O.l&&O.l.Target){var M=O.l.Target;M=M.charAt(0)=="#"?"#"+KJ(M.slice(1)):M,M.charAt(0)!="#"&&!M.match(/^\w+:/)&&(M="../"+M),D=wt("text:a",D,{"xlink:href":M.replace(/&/g,"&amp;")})}u.push("          "+wt("table:table-cell",wt("text:p",D,{}),E)+`
`)}u.push(`        </table:table-row>
`)}return u.push(`      </table:table>
`),u.join("")},a=function(i,l){i.push(` <office:automatic-styles>
`),i.push(`  <number:date-style style:name="N37" number:automatic-order="true">
`),i.push(`   <number:month number:style="long"/>
`),i.push(`   <number:text>/</number:text>
`),i.push(`   <number:day number:style="long"/>
`),i.push(`   <number:text>/</number:text>
`),i.push(`   <number:year/>
`),i.push(`  </number:date-style>
`);var o=0;l.SheetNames.map(function(f){return l.Sheets[f]}).forEach(function(f){if(f&&f["!cols"]){for(var h=0;h<f["!cols"].length;++h)if(f["!cols"][h]){var m=f["!cols"][h];if(m.width==null&&m.wpx==null&&m.wch==null)continue;kd(m),m.ods=o;var g=f["!cols"][h].wpx+"px";i.push('  <style:style style:name="co'+o+`" style:family="table-column">
`),i.push('   <style:table-column-properties fo:break-before="auto" style:column-width="'+g+`"/>
`),i.push(`  </style:style>
`),++o}}});var u=0;l.SheetNames.map(function(f){return l.Sheets[f]}).forEach(function(f){if(f&&f["!rows"]){for(var h=0;h<f["!rows"].length;++h)if(f["!rows"][h]){f["!rows"][h].ods=u;var m=f["!rows"][h].hpx+"px";i.push('  <style:style style:name="ro'+u+`" style:family="table-row">
`),i.push('   <style:table-row-properties fo:break-before="auto" style:row-height="'+m+`"/>
`),i.push(`  </style:style>
`),++u}}}),i.push(`  <style:style style:name="ta1" style:family="table" style:master-page-name="mp1">
`),i.push(`   <style:table-properties table:display="true" style:writing-mode="lr-tb"/>
`),i.push(`  </style:style>
`),i.push(`  <style:style style:name="ce1" style:family="table-cell" style:parent-style-name="Default" style:data-style-name="N37"/>
`),i.push(` </office:automatic-styles>
`)};return function(l,o){var u=[Za],f=Qx({"xmlns:office":"urn:oasis:names:tc:opendocument:xmlns:office:1.0","xmlns:table":"urn:oasis:names:tc:opendocument:xmlns:table:1.0","xmlns:style":"urn:oasis:names:tc:opendocument:xmlns:style:1.0","xmlns:text":"urn:oasis:names:tc:opendocument:xmlns:text:1.0","xmlns:draw":"urn:oasis:names:tc:opendocument:xmlns:drawing:1.0","xmlns:fo":"urn:oasis:names:tc:opendocument:xmlns:xsl-fo-compatible:1.0","xmlns:xlink":"http://www.w3.org/1999/xlink","xmlns:dc":"http://purl.org/dc/elements/1.1/","xmlns:meta":"urn:oasis:names:tc:opendocument:xmlns:meta:1.0","xmlns:number":"urn:oasis:names:tc:opendocument:xmlns:datastyle:1.0","xmlns:presentation":"urn:oasis:names:tc:opendocument:xmlns:presentation:1.0","xmlns:svg":"urn:oasis:names:tc:opendocument:xmlns:svg-compatible:1.0","xmlns:chart":"urn:oasis:names:tc:opendocument:xmlns:chart:1.0","xmlns:dr3d":"urn:oasis:names:tc:opendocument:xmlns:dr3d:1.0","xmlns:math":"http://www.w3.org/1998/Math/MathML","xmlns:form":"urn:oasis:names:tc:opendocument:xmlns:form:1.0","xmlns:script":"urn:oasis:names:tc:opendocument:xmlns:script:1.0","xmlns:ooo":"http://openoffice.org/2004/office","xmlns:ooow":"http://openoffice.org/2004/writer","xmlns:oooc":"http://openoffice.org/2004/calc","xmlns:dom":"http://www.w3.org/2001/xml-events","xmlns:xforms":"http://www.w3.org/2002/xforms","xmlns:xsd":"http://www.w3.org/2001/XMLSchema","xmlns:xsi":"http://www.w3.org/2001/XMLSchema-instance","xmlns:sheet":"urn:oasis:names:tc:opendocument:sh33tjs:1.0","xmlns:rpt":"http://openoffice.org/2005/report","xmlns:of":"urn:oasis:names:tc:opendocument:xmlns:of:1.2","xmlns:xhtml":"http://www.w3.org/1999/xhtml","xmlns:grddl":"http://www.w3.org/2003/g/data-view#","xmlns:tableooo":"http://openoffice.org/2009/table","xmlns:drawooo":"http://openoffice.org/2010/draw","xmlns:calcext":"urn:org:documentfoundation:names:experimental:calc:xmlns:calcext:1.0","xmlns:loext":"urn:org:documentfoundation:names:experimental:office:xmlns:loext:1.0","xmlns:field":"urn:openoffice:names:experimental:ooo-ms-interop:xmlns:field:1.0","xmlns:formx":"urn:openoffice:names:experimental:ooxml-odf-interop:xmlns:form:1.0","xmlns:css3t":"http://www.w3.org/TR/css3-text/","office:version":"1.2"}),h=Qx({"xmlns:config":"urn:oasis:names:tc:opendocument:xmlns:config:1.0","office:mimetype":"application/vnd.oasis.opendocument.spreadsheet"});o.bookType=="fods"?(u.push("<office:document"+f+h+`>
`),u.push(GF().replace(/office:document-meta/g,"office:meta"))):u.push("<office:document-content"+f+`>
`),a(u,l),u.push(`  <office:body>
`),u.push(`    <office:spreadsheet>
`);for(var m=0;m!=l.SheetNames.length;++m)u.push(n(l.Sheets[l.SheetNames[m]],l,m));return u.push(`    </office:spreadsheet>
`),u.push(`  </office:body>
`),o.bookType=="fods"?u.push("</office:document>"):u.push("</office:document-content>"),u.join("")}})();function sL(e,t){if(t.bookType=="fods")return Uk(e,t);var r=J_(),n="",a=[],i=[];return n="mimetype",Sr(r,n,"application/vnd.oasis.opendocument.spreadsheet"),n="content.xml",Sr(r,n,Uk(e,t)),a.push([n,"text/xml"]),i.push([n,"ContentFile"]),n="styles.xml",Sr(r,n,Ane(e,t)),a.push([n,"text/xml"]),i.push([n,"StylesFile"]),n="meta.xml",Sr(r,n,Za+GF()),a.push([n,"text/xml"]),i.push([n,"MetadataFile"]),n="manifest.rdf",Sr(r,n,tG(i)),a.push([n,"application/rdf+xml"]),n="META-INF/manifest.xml",Sr(r,n,JK(a)),r}/*! sheetjs (C) 2013-present SheetJS -- http://sheetjs.com */function Z0(e){return new DataView(e.buffer,e.byteOffset,e.byteLength)}function dN(e){return typeof TextDecoder<"u"?new TextDecoder().decode(e):Dn(Id(e))}function Ene(e){return typeof TextEncoder<"u"?new TextEncoder().encode(e):Zl(cu(e))}function kne(e,t){e:for(var r=0;r<=e.length-t.length;++r){for(var n=0;n<t.length;++n)if(e[r+n]!=t[n])continue e;return!0}return!1}function Td(e){var t=e.reduce(function(a,i){return a+i.length},0),r=new Uint8Array(t),n=0;return e.forEach(function(a){r.set(a,n),n+=a.length}),r}function zk(e){return e-=e>>1&1431655765,e=(e&858993459)+(e>>2&858993459),(e+(e>>4)&252645135)*16843009>>>24}function Cne(e,t){for(var r=(e[t+15]&127)<<7|e[t+14]>>1,n=e[t+14]&1,a=t+13;a>=t;--a)n=n*256+e[a];return(e[t+15]&128?-n:n)*Math.pow(10,r-6176)}function Tne(e,t,r){var n=Math.floor(r==0?0:Math.LOG10E*Math.log(Math.abs(r)))+6176-20,a=r/Math.pow(10,n-6176);e[t+15]|=n>>7,e[t+14]|=(n&127)<<1;for(var i=0;a>=1;++i,a/=256)e[t+i]=a&255;e[t+15]|=r>=0?0:128}function ig(e,t){var r=t?t[0]:0,n=e[r]&127;e:if(e[r++]>=128&&(n|=(e[r]&127)<<7,e[r++]<128||(n|=(e[r]&127)<<14,e[r++]<128)||(n|=(e[r]&127)<<21,e[r++]<128)||(n+=(e[r]&127)*Math.pow(2,28),++r,e[r++]<128)||(n+=(e[r]&127)*Math.pow(2,35),++r,e[r++]<128)||(n+=(e[r]&127)*Math.pow(2,42),++r,e[r++]<128)))break e;return t&&(t[0]=r),n}function yn(e){var t=new Uint8Array(7);t[0]=e&127;var r=1;e:if(e>127){if(t[r-1]|=128,t[r]=e>>7&127,++r,e<=16383||(t[r-1]|=128,t[r]=e>>14&127,++r,e<=2097151)||(t[r-1]|=128,t[r]=e>>21&127,++r,e<=268435455)||(t[r-1]|=128,t[r]=e/256>>>21&127,++r,e<=34359738367)||(t[r-1]|=128,t[r]=e/65536>>>21&127,++r,e<=4398046511103))break e;t[r-1]|=128,t[r]=e/16777216>>>21&127,++r}return t.slice(0,r)}function Ia(e){var t=0,r=e[t]&127;e:if(e[t++]>=128){if(r|=(e[t]&127)<<7,e[t++]<128||(r|=(e[t]&127)<<14,e[t++]<128)||(r|=(e[t]&127)<<21,e[t++]<128))break e;r|=(e[t]&127)<<28}return r}function sn(e){for(var t=[],r=[0];r[0]<e.length;){var n=r[0],a=ig(e,r),i=a&7;a=Math.floor(a/8);var l=0,o;if(a==0)break;switch(i){case 0:{for(var u=r[0];e[r[0]++]>=128;);o=e.slice(u,r[0])}break;case 5:l=4,o=e.slice(r[0],r[0]+l),r[0]+=l;break;case 1:l=8,o=e.slice(r[0],r[0]+l),r[0]+=l;break;case 2:l=ig(e,r),o=e.slice(r[0],r[0]+l),r[0]+=l;break;case 3:case 4:default:throw new Error("PB Type ".concat(i," for Field ").concat(a," at offset ").concat(n))}var f={data:o,type:i};t[a]==null?t[a]=[f]:t[a].push(f)}return t}function rs(e){var t=[];return e.forEach(function(r,n){r.forEach(function(a){a.data&&(t.push(yn(n*8+a.type)),a.type==2&&t.push(yn(a.data.length)),t.push(a.data))})}),Td(t)}function A3(e,t){return e?.map(function(r){return t(r.data)})||[]}function Oo(e){for(var t,r=[],n=[0];n[0]<e.length;){var a=ig(e,n),i=sn(e.slice(n[0],n[0]+a));n[0]+=a;var l={id:Ia(i[1][0].data),messages:[]};i[2].forEach(function(o){var u=sn(o.data),f=Ia(u[3][0].data);l.messages.push({meta:u,data:e.slice(n[0],n[0]+f)}),n[0]+=f}),(t=i[3])!=null&&t[0]&&(l.merge=Ia(i[3][0].data)>>>0>0),r.push(l)}return r}function mm(e){var t=[];return e.forEach(function(r){var n=[];n[1]=[{data:yn(r.id),type:0}],n[2]=[],r.merge!=null&&(n[3]=[{data:yn(+!!r.merge),type:0}]);var a=[];r.messages.forEach(function(l){a.push(l.data),l.meta[3]=[{type:0,data:yn(l.data.length)}],n[2].push({data:rs(l.meta),type:2})});var i=rs(n);t.push(yn(i.length)),t.push(i),a.forEach(function(l){return t.push(l)})}),Td(t)}function One(e,t){if(e!=0)throw new Error("Unexpected Snappy chunk type ".concat(e));for(var r=[0],n=ig(t,r),a=[];r[0]<t.length;){var i=t[r[0]]&3;if(i==0){var l=t[r[0]++]>>2;if(l<60)++l;else{var o=l-59;l=t[r[0]],o>1&&(l|=t[r[0]+1]<<8),o>2&&(l|=t[r[0]+2]<<16),o>3&&(l|=t[r[0]+3]<<24),l>>>=0,l++,r[0]+=o}a.push(t.slice(r[0],r[0]+l)),r[0]+=l;continue}else{var u=0,f=0;if(i==1?(f=(t[r[0]]>>2&7)+4,u=(t[r[0]++]&224)<<3,u|=t[r[0]++]):(f=(t[r[0]++]>>2)+1,i==2?(u=t[r[0]]|t[r[0]+1]<<8,r[0]+=2):(u=(t[r[0]]|t[r[0]+1]<<8|t[r[0]+2]<<16|t[r[0]+3]<<24)>>>0,r[0]+=4)),a=[Td(a)],u==0)throw new Error("Invalid offset 0");if(u>a[0].length)throw new Error("Invalid offset beyond length");if(f>=u)for(a.push(a[0].slice(-u)),f-=u;f>=a[a.length-1].length;)a.push(a[a.length-1]),f-=a[a.length-1].length;a.push(a[0].slice(-u,-u+f))}}var h=Td(a);if(h.length!=n)throw new Error("Unexpected length: ".concat(h.length," != ").concat(n));return h}function Do(e){for(var t=[],r=0;r<e.length;){var n=e[r++],a=e[r]|e[r+1]<<8|e[r+2]<<16;r+=3,t.push(One(n,e.slice(r,r+a))),r+=a}if(r!==e.length)throw new Error("data is not a valid framed stream!");return Td(t)}function pm(e){for(var t=[],r=0;r<e.length;){var n=Math.min(e.length-r,268435455),a=new Uint8Array(4);t.push(a);var i=yn(n),l=i.length;t.push(i),n<=60?(l++,t.push(new Uint8Array([n-1<<2]))):n<=256?(l+=2,t.push(new Uint8Array([240,n-1&255]))):n<=65536?(l+=3,t.push(new Uint8Array([244,n-1&255,n-1>>8&255]))):n<=16777216?(l+=4,t.push(new Uint8Array([248,n-1&255,n-1>>8&255,n-1>>16&255]))):n<=4294967296&&(l+=5,t.push(new Uint8Array([252,n-1&255,n-1>>8&255,n-1>>16&255,n-1>>>24&255]))),t.push(e.slice(r,r+n)),l+=n,a[0]=0,a[1]=l&255,a[2]=l>>8&255,a[3]=l>>16&255,r+=n}return Td(t)}function Dne(e,t,r,n){var a=Z0(e),i=a.getUint32(4,!0),l=(n>1?12:8)+zk(i&(n>1?3470:398))*4,o=-1,u=-1,f=NaN,h=new Date(2001,0,1);i&512&&(o=a.getUint32(l,!0),l+=4),l+=zk(i&(n>1?12288:4096))*4,i&16&&(u=a.getUint32(l,!0),l+=4),i&32&&(f=a.getFloat64(l,!0),l+=8),i&64&&(h.setTime(h.getTime()+a.getFloat64(l,!0)*1e3),l+=8);var m;switch(e[2]){case 0:break;case 2:m={t:"n",v:f};break;case 3:m={t:"s",v:t[u]};break;case 5:m={t:"d",v:h};break;case 6:m={t:"b",v:f>0};break;case 7:m={t:"n",v:f/86400};break;case 8:m={t:"e",v:0};break;case 9:if(o>-1)m={t:"s",v:r[o]};else if(u>-1)m={t:"s",v:t[u]};else if(!isNaN(f))m={t:"n",v:f};else throw new Error("Unsupported cell type ".concat(e.slice(0,4)));break;default:throw new Error("Unsupported cell type ".concat(e.slice(0,4)))}return m}function Fne(e,t,r){var n=Z0(e),a=n.getUint32(8,!0),i=12,l=-1,o=-1,u=NaN,f=NaN,h=new Date(2001,0,1);a&1&&(u=Cne(e,i),i+=16),a&2&&(f=n.getFloat64(i,!0),i+=8),a&4&&(h.setTime(h.getTime()+n.getFloat64(i,!0)*1e3),i+=8),a&8&&(o=n.getUint32(i,!0),i+=4),a&16&&(l=n.getUint32(i,!0),i+=4);var m;switch(e[1]){case 0:break;case 2:m={t:"n",v:u};break;case 3:m={t:"s",v:t[o]};break;case 5:m={t:"d",v:h};break;case 6:m={t:"b",v:f>0};break;case 7:m={t:"n",v:f/86400};break;case 8:m={t:"e",v:0};break;case 9:if(l>-1)m={t:"s",v:r[l]};else throw new Error("Unsupported cell type ".concat(e[1]," : ").concat(a&31," : ").concat(e.slice(0,4)));break;case 10:m={t:"n",v:u};break;default:throw new Error("Unsupported cell type ".concat(e[1]," : ").concat(a&31," : ").concat(e.slice(0,4)))}return m}function Iw(e,t){var r=new Uint8Array(32),n=Z0(r),a=12,i=0;switch(r[0]=5,e.t){case"n":r[1]=2,Tne(r,a,e.v),i|=1,a+=16;break;case"b":r[1]=6,n.setFloat64(a,e.v?1:0,!0),i|=2,a+=8;break;case"s":if(t.indexOf(e.v)==-1)throw new Error("Value ".concat(e.v," missing from SST!"));r[1]=3,n.setUint32(a,t.indexOf(e.v),!0),i|=8,a+=4;break;default:throw"unsupported cell type "+e.t}return n.setUint32(8,i,!0),r.slice(0,a)}function Bw(e,t){var r=new Uint8Array(32),n=Z0(r),a=12,i=0;switch(r[0]=3,e.t){case"n":r[2]=2,n.setFloat64(a,e.v,!0),i|=32,a+=8;break;case"b":r[2]=6,n.setFloat64(a,e.v?1:0,!0),i|=32,a+=8;break;case"s":if(t.indexOf(e.v)==-1)throw new Error("Value ".concat(e.v," missing from SST!"));r[2]=3,n.setUint32(a,t.indexOf(e.v),!0),i|=16,a+=4;break;default:throw"unsupported cell type "+e.t}return n.setUint32(4,i,!0),r.slice(0,a)}function Pne(e,t,r){switch(e[0]){case 0:case 1:case 2:case 3:return Dne(e,t,r,e[0]);case 5:return Fne(e,t,r);default:throw new Error("Unsupported payload version ".concat(e[0]))}}function ws(e){var t=sn(e);return ig(t[1][0].data)}function qk(e,t){var r=sn(t.data),n=Ia(r[1][0].data),a=r[3],i=[];return(a||[]).forEach(function(l){var o=sn(l.data),u=Ia(o[1][0].data)>>>0;switch(n){case 1:i[u]=dN(o[3][0].data);break;case 8:{var f=e[ws(o[9][0].data)][0],h=sn(f.data),m=e[ws(h[1][0].data)][0],g=Ia(m.meta[1][0].data);if(g!=2001)throw new Error("2000 unexpected reference to ".concat(g));var x=sn(m.data);i[u]=x[3].map(function(b){return dN(b.data)}).join("")}break}}),i}function Lne(e,t){var r,n,a,i,l,o,u,f,h,m,g,x,b,v,w=sn(e),N=Ia(w[1][0].data)>>>0,E=Ia(w[2][0].data)>>>0,j=((n=(r=w[8])==null?void 0:r[0])==null?void 0:n.data)&&Ia(w[8][0].data)>0||!1,T,O;if((i=(a=w[7])==null?void 0:a[0])!=null&&i.data&&t!=0)T=(o=(l=w[7])==null?void 0:l[0])==null?void 0:o.data,O=(f=(u=w[6])==null?void 0:u[0])==null?void 0:f.data;else if((m=(h=w[4])==null?void 0:h[0])!=null&&m.data&&t!=1)T=(x=(g=w[4])==null?void 0:g[0])==null?void 0:x.data,O=(v=(b=w[3])==null?void 0:b[0])==null?void 0:v.data;else throw"NUMBERS Tile missing ".concat(t," cell storage");for(var P=j?4:1,D=Z0(T),M=[],B=0;B<T.length/2;++B){var H=D.getUint16(B*2,!0);H<65535&&M.push([B,H])}if(M.length!=E)throw"Expected ".concat(E," cells, found ").concat(M.length);var L=[];for(B=0;B<M.length-1;++B)L[M[B][0]]=O.subarray(M[B][1]*P,M[B+1][1]*P);return M.length>=1&&(L[M[M.length-1][0]]=O.subarray(M[M.length-1][1]*P)),{R:N,cells:L}}function Mne(e,t){var r,n=sn(t.data),a=(r=n?.[7])!=null&&r[0]?Ia(n[7][0].data)>>>0>0?1:0:-1,i=A3(n[5],function(l){return Lne(l,a)});return{nrows:Ia(n[4][0].data)>>>0,data:i.reduce(function(l,o){return l[o.R]||(l[o.R]=[]),o.cells.forEach(function(u,f){if(l[o.R][f])throw new Error("Duplicate cell r=".concat(o.R," c=").concat(f));l[o.R][f]=u}),l},[])}}function Rne(e,t,r){var n,a=sn(t.data),i={s:{r:0,c:0},e:{r:0,c:0}};if(i.e.r=(Ia(a[6][0].data)>>>0)-1,i.e.r<0)throw new Error("Invalid row varint ".concat(a[6][0].data));if(i.e.c=(Ia(a[7][0].data)>>>0)-1,i.e.c<0)throw new Error("Invalid col varint ".concat(a[7][0].data));r["!ref"]=Nr(i);var l=sn(a[4][0].data),o=qk(e,e[ws(l[4][0].data)][0]),u=(n=l[17])!=null&&n[0]?qk(e,e[ws(l[17][0].data)][0]):[],f=sn(l[3][0].data),h=0;f[1].forEach(function(m){var g=sn(m.data),x=e[ws(g[2][0].data)][0],b=Ia(x.meta[1][0].data);if(b!=6002)throw new Error("6001 unexpected reference to ".concat(b));var v=Mne(e,x);v.data.forEach(function(w,N){w.forEach(function(E,j){var T=fr({r:h+N,c:j}),O=Pne(E,o,u);O&&(r[T]=O)})}),h+=v.nrows})}function Ine(e,t){var r=sn(t.data),n={"!ref":"A1"},a=e[ws(r[2][0].data)],i=Ia(a[0].meta[1][0].data);if(i!=6001)throw new Error("6000 unexpected reference to ".concat(i));return Rne(e,a[0],n),n}function Bne(e,t){var r,n=sn(t.data),a={name:(r=n[1])!=null&&r[0]?dN(n[1][0].data):"",sheets:[]},i=A3(n[2],ws);return i.forEach(function(l){e[l].forEach(function(o){var u=Ia(o.meta[1][0].data);u==6e3&&a.sheets.push(Ine(e,o))})}),a}function Une(e,t){var r=O3(),n=sn(t.data),a=A3(n[1],ws);if(a.forEach(function(i){e[i].forEach(function(l){var o=Ia(l.meta[1][0].data);if(o==2){var u=Bne(e,l);u.sheets.forEach(function(f,h){D3(r,f,h==0?u.name:u.name+"_"+h,!0)})}})}),r.SheetNames.length==0)throw new Error("Empty NUMBERS file");return r}function Uw(e){var t,r,n,a,i={},l=[];if(e.FullPaths.forEach(function(u){if(u.match(/\.iwpv2/))throw new Error("Unsupported password protection")}),e.FileIndex.forEach(function(u){if(u.name.match(/\.iwa$/)){var f;try{f=Do(u.content)}catch(m){return console.log("?? "+u.content.length+" "+(m.message||m))}var h;try{h=Oo(f)}catch(m){return console.log("## "+(m.message||m))}h.forEach(function(m){i[m.id]=m.messages,l.push(m.id)})}}),!l.length)throw new Error("File has no messages");var o=((a=(n=(r=(t=i?.[1])==null?void 0:t[0])==null?void 0:r.meta)==null?void 0:n[1])==null?void 0:a[0].data)&&Ia(i[1][0].meta[1][0].data)==1&&i[1][0];if(o||l.forEach(function(u){i[u].forEach(function(f){var h=Ia(f.meta[1][0].data)>>>0;if(h==1)if(!o)o=f;else throw new Error("Document has multiple roots")})}),!o)throw new Error("Cannot find Document root");return Une(i,o)}function zne(e,t,r){var n,a,i,l;if(!((n=e[6])!=null&&n[0])||!((a=e[7])!=null&&a[0]))throw"Mutation only works on post-BNC storages!";var o=((l=(i=e[8])==null?void 0:i[0])==null?void 0:l.data)&&Ia(e[8][0].data)>0||!1;if(o)throw"Math only works with normal offsets";for(var u=0,f=Z0(e[7][0].data),h=0,m=[],g=Z0(e[4][0].data),x=0,b=[],v=0;v<t.length;++v){if(t[v]==null){f.setUint16(v*2,65535,!0),g.setUint16(v*2,65535);continue}f.setUint16(v*2,h,!0),g.setUint16(v*2,x,!0);var w,N;switch(typeof t[v]){case"string":w=Iw({t:"s",v:t[v]},r),N=Bw({t:"s",v:t[v]},r);break;case"number":w=Iw({t:"n",v:t[v]},r),N=Bw({t:"n",v:t[v]},r);break;case"boolean":w=Iw({t:"b",v:t[v]},r),N=Bw({t:"b",v:t[v]},r);break;default:throw new Error("Unsupported value "+t[v])}m.push(w),h+=w.length,b.push(N),x+=N.length,++u}for(e[2][0].data=yn(u);v<e[7][0].data.length/2;++v)f.setUint16(v*2,65535,!0),g.setUint16(v*2,65535,!0);return e[6][0].data=Td(m),e[3][0].data=Td(b),u}function qne(e,t){if(!t||!t.numbers)throw new Error("Must pass a `numbers` option -- check the README");var r=e.Sheets[e.SheetNames[0]];e.SheetNames.length>1&&console.error("The Numbers writer currently writes only the first table");var n=Tl(r["!ref"]);n.s.r=n.s.c=0;var a=!1;n.e.c>9&&(a=!0,n.e.c=9),n.e.r>49&&(a=!0,n.e.r=49),a&&console.error("The Numbers writer is currently limited to ".concat(Nr(n)));var i=dy(r,{range:n,header:1}),l=["~Sh33tJ5~"];i.forEach(function(F){return F.forEach(function(q){typeof q=="string"&&l.push(q)})});var o={},u=[],f=nr.read(t.numbers,{type:"base64"});f.FileIndex.map(function(F,q){return[F,f.FullPaths[q]]}).forEach(function(F){var q=F[0],W=F[1];if(q.type==2&&q.name.match(/\.iwa/)){var Q=q.content,oe=Do(Q),ue=Oo(oe);ue.forEach(function(X){u.push(X.id),o[X.id]={deps:[],location:W,type:Ia(X.messages[0].meta[1][0].data)}})}}),u.sort(function(F,q){return F-q});var h=u.filter(function(F){return F>1}).map(function(F){return[F,yn(F)]});f.FileIndex.map(function(F,q){return[F,f.FullPaths[q]]}).forEach(function(F){var q=F[0];if(F[1],!!q.name.match(/\.iwa/)){var W=Oo(Do(q.content));W.forEach(function(Q){Q.messages.forEach(function(oe){h.forEach(function(ue){Q.messages.some(function(X){return Ia(X.meta[1][0].data)!=11006&&kne(X.data,ue[1])})&&o[ue[0]].deps.push(Q.id)})})})}});for(var m=nr.find(f,o[1].location),g=Oo(Do(m.content)),x,b=0;b<g.length;++b){var v=g[b];v.id==1&&(x=v)}var w=ws(sn(x.messages[0].data)[1][0].data);for(m=nr.find(f,o[w].location),g=Oo(Do(m.content)),b=0;b<g.length;++b)v=g[b],v.id==w&&(x=v);for(w=ws(sn(x.messages[0].data)[2][0].data),m=nr.find(f,o[w].location),g=Oo(Do(m.content)),b=0;b<g.length;++b)v=g[b],v.id==w&&(x=v);for(w=ws(sn(x.messages[0].data)[2][0].data),m=nr.find(f,o[w].location),g=Oo(Do(m.content)),b=0;b<g.length;++b)v=g[b],v.id==w&&(x=v);var N=sn(x.messages[0].data);{N[6][0].data=yn(n.e.r+1),N[7][0].data=yn(n.e.c+1);var E=ws(N[46][0].data),j=nr.find(f,o[E].location),T=Oo(Do(j.content));{for(var O=0;O<T.length&&T[O].id!=E;++O);if(T[O].id!=E)throw"Bad ColumnRowUIDMapArchive";var P=sn(T[O].messages[0].data);P[1]=[],P[2]=[],P[3]=[];for(var D=0;D<=n.e.c;++D){var M=[];M[1]=M[2]=[{type:0,data:yn(D+420690)}],P[1].push({type:2,data:rs(M)}),P[2].push({type:0,data:yn(D)}),P[3].push({type:0,data:yn(D)})}P[4]=[],P[5]=[],P[6]=[];for(var B=0;B<=n.e.r;++B)M=[],M[1]=M[2]=[{type:0,data:yn(B+726270)}],P[4].push({type:2,data:rs(M)}),P[5].push({type:0,data:yn(B)}),P[6].push({type:0,data:yn(B)});T[O].messages[0].data=rs(P)}j.content=pm(mm(T)),j.size=j.content.length,delete N[46];var H=sn(N[4][0].data);{H[7][0].data=yn(n.e.r+1);var L=sn(H[1][0].data),U=ws(L[2][0].data);j=nr.find(f,o[U].location),T=Oo(Do(j.content));{if(T[0].id!=U)throw"Bad HeaderStorageBucket";var G=sn(T[0].messages[0].data);for(B=0;B<i.length;++B){var te=sn(G[2][0].data);te[1][0].data=yn(B),te[4][0].data=yn(i[B].length),G[2][B]={type:G[2][0].type,data:rs(te)}}T[0].messages[0].data=rs(G)}j.content=pm(mm(T)),j.size=j.content.length;var de=ws(H[2][0].data);j=nr.find(f,o[de].location),T=Oo(Do(j.content));{if(T[0].id!=de)throw"Bad HeaderStorageBucket";for(G=sn(T[0].messages[0].data),D=0;D<=n.e.c;++D)te=sn(G[2][0].data),te[1][0].data=yn(D),te[4][0].data=yn(n.e.r+1),G[2][D]={type:G[2][0].type,data:rs(te)};T[0].messages[0].data=rs(G)}j.content=pm(mm(T)),j.size=j.content.length;var ne=ws(H[4][0].data);(function(){for(var F=nr.find(f,o[ne].location),q=Oo(Do(F.content)),W,Q=0;Q<q.length;++Q){var oe=q[Q];oe.id==ne&&(W=oe)}var ue=sn(W.messages[0].data);{ue[3]=[];var X=[];l.forEach(function(Y,We){X[1]=[{type:0,data:yn(We)}],X[2]=[{type:0,data:yn(1)}],X[3]=[{type:2,data:Ene(Y)}],ue[3].push({type:2,data:rs(X)})})}W.messages[0].data=rs(ue);var ve=mm(q),Te=pm(ve);F.content=Te,F.size=F.content.length})();var Z=sn(H[3][0].data);{var xe=Z[1][0];delete Z[2];var le=sn(xe.data);{var Se=ws(le[2][0].data);(function(){for(var F=nr.find(f,o[Se].location),q=Oo(Do(F.content)),W,Q=0;Q<q.length;++Q){var oe=q[Q];oe.id==Se&&(W=oe)}var ue=sn(W.messages[0].data);{delete ue[6],delete Z[7];var X=new Uint8Array(ue[5][0].data);ue[5]=[];for(var ve=0,Te=0;Te<=n.e.r;++Te){var Y=sn(X);ve+=zne(Y,i[Te],l),Y[1][0].data=yn(Te),ue[5].push({data:rs(Y),type:2})}ue[1]=[{type:0,data:yn(n.e.c+1)}],ue[2]=[{type:0,data:yn(n.e.r+1)}],ue[3]=[{type:0,data:yn(ve)}],ue[4]=[{type:0,data:yn(n.e.r+1)}]}W.messages[0].data=rs(ue);var We=mm(q),Ee=pm(We);F.content=Ee,F.size=F.content.length})()}xe.data=rs(le)}H[3][0].data=rs(Z)}N[4][0].data=rs(H)}x.messages[0].data=rs(N);var re=mm(g),R=pm(re);return m.content=R,m.size=m.content.length,f}function lL(e){return function(r){for(var n=0;n!=e.length;++n){var a=e[n];r[a[0]]===void 0&&(r[a[0]]=a[1]),a[2]==="n"&&(r[a[0]]=Number(r[a[0]]))}}}function E3(e){lL([["cellNF",!1],["cellHTML",!0],["cellFormula",!0],["cellStyles",!1],["cellText",!0],["cellDates",!1],["sheetStubs",!1],["sheetRows",0,"n"],["bookDeps",!1],["bookSheets",!1],["bookProps",!1],["bookFiles",!1],["bookVBA",!1],["password",""],["WTF",!1]])(e)}function k3(e){lL([["cellDates",!1],["bookSST",!1],["bookType","xlsx"],["compression",!1],["WTF",!1]])(e)}function $ne(e){return Dr.WS.indexOf(e)>-1?"sheet":e==Dr.CS?"chart":e==Dr.DS?"dialog":e==Dr.MS?"macro":e&&e.length?e:"sheet"}function Hne(e,t){if(!e)return 0;try{e=t.map(function(n){return n.id||(n.id=n.strRelID),[n.name,e["!id"][n.id].Target,$ne(e["!id"][n.id].Type)]})}catch{return null}return!e||e.length===0?null:e}function Vne(e,t,r,n,a,i,l,o,u,f,h,m){try{i[n]=Cx(Jl(e,r,!0),t);var g=ii(e,t),x;switch(o){case"sheet":x=hre(g,t,a,u,i[n],f,h,m);break;case"chart":if(x=mre(g,t,a,u,i[n],f,h,m),!x||!x["!drawel"])break;var b=yx(x["!drawel"].Target,t),v=Jx(b),w=eZ(Jl(e,b,!0),Cx(Jl(e,v,!0),b)),N=yx(w,b),E=Jx(N);x=zte(Jl(e,N,!0),N,u,Cx(Jl(e,E,!0),N),f,x);break;case"macro":x=pre(g,t,a,u,i[n],f,h,m);break;case"dialog":x=xre(g,t,a,u,i[n],f,h,m);break;default:throw new Error("Unrecognized sheet type "+o)}l[n]=x;var j=[];i&&i[n]&&Ba(i[n]).forEach(function(T){var O="";if(i[n][T].Type==Dr.CMNT){O=yx(i[n][T].Target,t);var P=bre(ii(e,O,!0),O,u);if(!P||!P.length)return;Ek(x,P,!1)}i[n][T].Type==Dr.TCMNT&&(O=yx(i[n][T].Target,t),j=j.concat(rZ(ii(e,O,!0),u)))}),j&&j.length&&Ek(x,j,!0,u.people||[])}catch(T){if(u.WTF)throw T}}function Ao(e){return e.charAt(0)=="/"?e.slice(1):e}function Wne(e,t){if(sp(),t=t||{},E3(t),Po(e,"META-INF/manifest.xml")||Po(e,"objectdata.xml"))return Ik(e,t);if(Po(e,"Index/Document.iwa")){if(typeof Uint8Array>"u")throw new Error("NUMBERS file parsing requires Uint8Array support");if(typeof Uw<"u"){if(e.FileIndex)return Uw(e);var r=nr.utils.cfb_new();return GE(e).forEach(function(te){Sr(r,te,nK(e,te))}),Uw(r)}throw new Error("Unsupported NUMBERS file")}if(!Po(e,"[Content_Types].xml"))throw Po(e,"index.xml.gz")?new Error("Unsupported NUMBERS 08 file"):Po(e,"index.xml")?new Error("Unsupported NUMBERS 09 file"):new Error("Unsupported ZIP file");var n=GE(e),a=XK(Jl(e,"[Content_Types].xml")),i=!1,l,o;if(a.workbooks.length===0&&(o="xl/workbook.xml",ii(e,o,!0)&&a.workbooks.push(o)),a.workbooks.length===0){if(o="xl/workbook.bin",!ii(e,o,!0))throw new Error("Could not find workbook");a.workbooks.push(o),i=!0}a.workbooks[0].slice(-3)=="bin"&&(i=!0);var u={},f={};if(!t.bookSheets&&!t.bookProps){if(Tx=[],a.sst)try{Tx=yre(ii(e,Ao(a.sst)),a.sst,t)}catch(te){if(t.WTF)throw te}t.cellStyles&&a.themes.length&&(u=vre(Jl(e,a.themes[0].replace(/^\//,""),!0)||"",a.themes[0],t)),a.style&&(f=gre(ii(e,Ao(a.style)),a.style,u,t))}a.links.map(function(te){try{var de=Cx(Jl(e,Jx(Ao(te))),te);return Nre(ii(e,Ao(te)),de,te,t)}catch{}});var h=dre(ii(e,Ao(a.workbooks[0])),a.workbooks[0],t),m={},g="";a.coreprops.length&&(g=ii(e,Ao(a.coreprops[0]),!0),g&&(m=YF(g)),a.extprops.length!==0&&(g=ii(e,Ao(a.extprops[0]),!0),g&&nG(g,m,t)));var x={};(!t.bookSheets||t.bookProps)&&a.custprops.length!==0&&(g=Jl(e,Ao(a.custprops[0]),!0),g&&(x=iG(g,t)));var b={};if((t.bookSheets||t.bookProps)&&(h.Sheets?l=h.Sheets.map(function(de){return de.name}):m.Worksheets&&m.SheetNames.length>0&&(l=m.SheetNames),t.bookProps&&(b.Props=m,b.Custprops=x),t.bookSheets&&typeof l<"u"&&(b.SheetNames=l),t.bookSheets?b.SheetNames:t.bookProps))return b;l={};var v={};t.bookDeps&&a.calcchain&&(v=wre(ii(e,Ao(a.calcchain)),a.calcchain));var w=0,N={},E,j;{var T=h.Sheets;m.Worksheets=T.length,m.SheetNames=[];for(var O=0;O!=T.length;++O)m.SheetNames[O]=T[O].name}var P=i?"bin":"xml",D=a.workbooks[0].lastIndexOf("/"),M=(a.workbooks[0].slice(0,D+1)+"_rels/"+a.workbooks[0].slice(D+1)+".rels").replace(/^\//,"");Po(e,M)||(M="xl/_rels/workbook."+P+".rels");var B=Cx(Jl(e,M,!0),M.replace(/_rels.*/,"s5s"));(a.metadata||[]).length>=1&&(t.xlmeta=_re(ii(e,Ao(a.metadata[0])),a.metadata[0],t)),(a.people||[]).length>=1&&(t.people=aZ(ii(e,Ao(a.people[0])),t)),B&&(B=Hne(B,h.Sheets));var H=ii(e,"xl/worksheets/sheet.xml",!0)?1:0;e:for(w=0;w!=m.Worksheets;++w){var L="sheet";if(B&&B[w]?(E="xl/"+B[w][1].replace(/[\/]?xl\//,""),Po(e,E)||(E=B[w][1]),Po(e,E)||(E=M.replace(/_rels\/.*$/,"")+B[w][1]),L=B[w][2]):(E="xl/worksheets/sheet"+(w+1-H)+"."+P,E=E.replace(/sheet0\./,"sheet.")),j=E.replace(/^(.*)(\/)([^\/]*)$/,"$1/_rels/$3.rels"),t&&t.sheets!=null)switch(typeof t.sheets){case"number":if(w!=t.sheets)continue e;break;case"string":if(m.SheetNames[w].toLowerCase()!=t.sheets.toLowerCase())continue e;break;default:if(Array.isArray&&Array.isArray(t.sheets)){for(var U=!1,G=0;G!=t.sheets.length;++G)typeof t.sheets[G]=="number"&&t.sheets[G]==w&&(U=1),typeof t.sheets[G]=="string"&&t.sheets[G].toLowerCase()==m.SheetNames[w].toLowerCase()&&(U=1);if(!U)continue e}}Vne(e,E,j,m.SheetNames[w],w,N,l,L,t,h,u,f)}return b={Directory:a,Workbook:h,Props:m,Custprops:x,Deps:v,Sheets:l,SheetNames:m.SheetNames,Strings:Tx,Styles:f,Themes:u,SSF:ea(ur)},t&&t.bookFiles&&(e.files?(b.keys=n,b.files=e.files):(b.keys=[],b.files={},e.FullPaths.forEach(function(te,de){te=te.replace(/^Root Entry[\/]/,""),b.keys.push(te),b.files[te]=e.FileIndex[de]}))),t&&t.bookVBA&&(a.vba.length>0?b.vbaraw=ii(e,Ao(a.vba[0]),!0):a.defaults&&a.defaults.bin===dZ&&(b.vbaraw=ii(e,"xl/vbaProject.bin",!0))),b}function Kne(e,t){var r=t||{},n="Workbook",a=nr.find(e,n);try{if(n="/!DataSpaces/Version",a=nr.find(e,n),!a||!a.content)throw new Error("ECMA-376 Encrypted file missing "+n);if(_X(a.content),n="/!DataSpaces/DataSpaceMap",a=nr.find(e,n),!a||!a.content)throw new Error("ECMA-376 Encrypted file missing "+n);var i=SX(a.content);if(i.length!==1||i[0].comps.length!==1||i[0].comps[0].t!==0||i[0].name!=="StrongEncryptionDataSpace"||i[0].comps[0].v!=="EncryptedPackage")throw new Error("ECMA-376 Encrypted file bad "+n);if(n="/!DataSpaces/DataSpaceInfo/StrongEncryptionDataSpace",a=nr.find(e,n),!a||!a.content)throw new Error("ECMA-376 Encrypted file missing "+n);var l=AX(a.content);if(l.length!=1||l[0]!="StrongEncryptionTransform")throw new Error("ECMA-376 Encrypted file bad "+n);if(n="/!DataSpaces/TransformInfo/StrongEncryptionTransform/!Primary",a=nr.find(e,n),!a||!a.content)throw new Error("ECMA-376 Encrypted file missing "+n);kX(a.content)}catch{}if(n="/EncryptionInfo",a=nr.find(e,n),!a||!a.content)throw new Error("ECMA-376 Encrypted file missing "+n);var o=CX(a.content);if(n="/EncryptedPackage",a=nr.find(e,n),!a||!a.content)throw new Error("ECMA-376 Encrypted file missing "+n);if(o[0]==4&&typeof decrypt_agile<"u")return decrypt_agile(o[1],a.content,r.password||"",r);if(o[0]==2&&typeof decrypt_std76<"u")return decrypt_std76(o[1],a.content,r.password||"",r);throw new Error("File is password-protected")}function Gne(e,t){return t.bookType=="ods"?sL(e,t):t.bookType=="numbers"?qne(e,t):t.bookType=="xlsb"?Yne(e,t):Xne(e,t)}function Yne(e,t){jm=1024,e&&!e.SSF&&(e.SSF=ea(ur)),e&&e.SSF&&(sp(),u2(e.SSF),t.revssf=d2(e.SSF),t.revssf[e.SSF[65535]]=0,t.ssf=e.SSF),t.rels={},t.wbrels={},t.Strings=[],t.Strings.Count=0,t.Strings.Unique=0,Ox?t.revStrings=new Map:(t.revStrings={},t.revStrings.foo=[],delete t.revStrings.foo);var r=t.bookType=="xlsb"?"bin":"xml",n=PP.indexOf(t.bookType)>-1,a=h3();k3(t=t||{});var i=J_(),l="",o=0;if(t.cellXfs=[],Ud(t.cellXfs,{},{revssf:{General:0}}),e.Props||(e.Props={}),l="docProps/core.xml",Sr(i,l,XF(e.Props,t)),a.coreprops.push(l),bn(t.rels,2,l,Dr.CORE_PROPS),l="docProps/app.xml",!(e.Props&&e.Props.SheetNames))if(!e.Workbook||!e.Workbook.Sheets)e.Props.SheetNames=e.SheetNames;else{for(var u=[],f=0;f<e.SheetNames.length;++f)(e.Workbook.Sheets[f]||{}).Hidden!=2&&u.push(e.SheetNames[f]);e.Props.SheetNames=u}for(e.Props.Worksheets=e.Props.SheetNames.length,Sr(i,l,JF(e.Props)),a.extprops.push(l),bn(t.rels,3,l,Dr.EXT_PROPS),e.Custprops!==e.Props&&Ba(e.Custprops||{}).length>0&&(l="docProps/custom.xml",Sr(i,l,eP(e.Custprops)),a.custprops.push(l),bn(t.rels,4,l,Dr.CUST_PROPS)),o=1;o<=e.SheetNames.length;++o){var h={"!id":{}},m=e.Sheets[e.SheetNames[o-1]],g=(m||{})["!type"]||"sheet";switch(g){case"chart":default:l="xl/worksheets/sheet"+o+"."+r,Sr(i,l,Sre(o-1,l,t,e,h)),a.sheets.push(l),bn(t.wbrels,-1,"worksheets/sheet"+o+"."+r,Dr.WS[0])}if(m){var x=m["!comments"],b=!1,v="";x&&x.length>0&&(v="xl/comments"+o+"."+r,Sr(i,v,kre(x,v)),a.comments.push(v),bn(h,-1,"../comments"+o+"."+r,Dr.CMNT),b=!0),m["!legacy"]&&b&&Sr(i,"xl/drawings/vmlDrawing"+o+".vml",DP(o,m["!comments"])),delete m["!comments"],delete m["!legacy"]}h["!id"].rId1&&Sr(i,Jx(l),Dm(h))}return t.Strings!=null&&t.Strings.length>0&&(l="xl/sharedStrings."+r,Sr(i,l,Ere(t.Strings,l,t)),a.strs.push(l),bn(t.wbrels,-1,"sharedStrings."+r,Dr.SST)),l="xl/workbook."+r,Sr(i,l,jre(e,l)),a.workbooks.push(l),bn(t.rels,1,l,Dr.WB),l="xl/theme/theme1.xml",Sr(i,l,y3(e.Themes,t)),a.themes.push(l),bn(t.wbrels,-1,"theme/theme1.xml",Dr.THEME),l="xl/styles."+r,Sr(i,l,Are(e,l,t)),a.styles.push(l),bn(t.wbrels,-1,"styles."+r,Dr.STY),e.vbaraw&&n&&(l="xl/vbaProject.bin",Sr(i,l,e.vbaraw),a.vba.push(l),bn(t.wbrels,-1,"vbaProject.bin",Dr.VBA)),l="xl/metadata."+r,Sr(i,l,Cre(l)),a.metadata.push(l),bn(t.wbrels,-1,"metadata."+r,Dr.XLMETA),Sr(i,"[Content_Types].xml",KF(a,t)),Sr(i,"_rels/.rels",Dm(t.rels)),Sr(i,"xl/_rels/workbook."+r+".rels",Dm(t.wbrels)),delete t.revssf,delete t.ssf,i}function Xne(e,t){jm=1024,e&&!e.SSF&&(e.SSF=ea(ur)),e&&e.SSF&&(sp(),u2(e.SSF),t.revssf=d2(e.SSF),t.revssf[e.SSF[65535]]=0,t.ssf=e.SSF),t.rels={},t.wbrels={},t.Strings=[],t.Strings.Count=0,t.Strings.Unique=0,Ox?t.revStrings=new Map:(t.revStrings={},t.revStrings.foo=[],delete t.revStrings.foo);var r="xml",n=PP.indexOf(t.bookType)>-1,a=h3();k3(t=t||{});var i=J_(),l="",o=0;if(t.cellXfs=[],Ud(t.cellXfs,{},{revssf:{General:0}}),e.Props||(e.Props={}),l="docProps/core.xml",Sr(i,l,XF(e.Props,t)),a.coreprops.push(l),bn(t.rels,2,l,Dr.CORE_PROPS),l="docProps/app.xml",!(e.Props&&e.Props.SheetNames))if(!e.Workbook||!e.Workbook.Sheets)e.Props.SheetNames=e.SheetNames;else{for(var u=[],f=0;f<e.SheetNames.length;++f)(e.Workbook.Sheets[f]||{}).Hidden!=2&&u.push(e.SheetNames[f]);e.Props.SheetNames=u}e.Props.Worksheets=e.Props.SheetNames.length,Sr(i,l,JF(e.Props)),a.extprops.push(l),bn(t.rels,3,l,Dr.EXT_PROPS),e.Custprops!==e.Props&&Ba(e.Custprops||{}).length>0&&(l="docProps/custom.xml",Sr(i,l,eP(e.Custprops)),a.custprops.push(l),bn(t.rels,4,l,Dr.CUST_PROPS));var h=["SheetJ5"];for(t.tcid=0,o=1;o<=e.SheetNames.length;++o){var m={"!id":{}},g=e.Sheets[e.SheetNames[o-1]],x=(g||{})["!type"]||"sheet";switch(x){case"chart":default:l="xl/worksheets/sheet"+o+"."+r,Sr(i,l,VP(o-1,t,e,m)),a.sheets.push(l),bn(t.wbrels,-1,"worksheets/sheet"+o+"."+r,Dr.WS[0])}if(g){var b=g["!comments"],v=!1,w="";if(b&&b.length>0){var N=!1;b.forEach(function(E){E[1].forEach(function(j){j.T==!0&&(N=!0)})}),N&&(w="xl/threadedComments/threadedComment"+o+"."+r,Sr(i,w,nZ(b,h,t)),a.threadedcomments.push(w),bn(m,-1,"../threadedComments/threadedComment"+o+"."+r,Dr.TCMNT)),w="xl/comments"+o+"."+r,Sr(i,w,FP(b)),a.comments.push(w),bn(m,-1,"../comments"+o+"."+r,Dr.CMNT),v=!0}g["!legacy"]&&v&&Sr(i,"xl/drawings/vmlDrawing"+o+".vml",DP(o,g["!comments"])),delete g["!comments"],delete g["!legacy"]}m["!id"].rId1&&Sr(i,Jx(l),Dm(m))}return t.Strings!=null&&t.Strings.length>0&&(l="xl/sharedStrings."+r,Sr(i,l,bP(t.Strings,t)),a.strs.push(l),bn(t.wbrels,-1,"sharedStrings."+r,Dr.SST)),l="xl/workbook."+r,Sr(i,l,XP(e)),a.workbooks.push(l),bn(t.rels,1,l,Dr.WB),l="xl/theme/theme1.xml",Sr(i,l,y3(e.Themes,t)),a.themes.push(l),bn(t.wbrels,-1,"theme/theme1.xml",Dr.THEME),l="xl/styles."+r,Sr(i,l,kP(e,t)),a.styles.push(l),bn(t.wbrels,-1,"styles."+r,Dr.STY),e.vbaraw&&n&&(l="xl/vbaProject.bin",Sr(i,l,e.vbaraw),a.vba.push(l),bn(t.wbrels,-1,"vbaProject.bin",Dr.VBA)),l="xl/metadata."+r,Sr(i,l,OP()),a.metadata.push(l),bn(t.wbrels,-1,"metadata."+r,Dr.XLMETA),h.length>1&&(l="xl/persons/person.xml",Sr(i,l,iZ(h)),a.people.push(l),bn(t.wbrels,-1,"persons/person.xml",Dr.PEOPLE)),Sr(i,"[Content_Types].xml",KF(a,t)),Sr(i,"_rels/.rels",Dm(t.rels)),Sr(i,"xl/_rels/workbook."+r+".rels",Dm(t.wbrels)),delete t.revssf,delete t.ssf,i}function C3(e,t){var r="";switch((t||{}).type||"base64"){case"buffer":return[e[0],e[1],e[2],e[3],e[4],e[5],e[6],e[7]];case"base64":r=no(e.slice(0,12));break;case"binary":r=e;break;case"array":return[e[0],e[1],e[2],e[3],e[4],e[5],e[6],e[7]];default:throw new Error("Unrecognized type "+(t&&t.type||"undefined"))}return[r.charCodeAt(0),r.charCodeAt(1),r.charCodeAt(2),r.charCodeAt(3),r.charCodeAt(4),r.charCodeAt(5),r.charCodeAt(6),r.charCodeAt(7)]}function Qne(e,t){return nr.find(e,"EncryptedPackage")?Kne(e,t):eL(e,t)}function Zne(e,t){var r,n=e,a=t||{};return a.type||(a.type=Tr&&Buffer.isBuffer(e)?"buffer":"base64"),r=NF(n,a),Wne(r,a)}function oL(e,t){var r=0;e:for(;r<e.length;)switch(e.charCodeAt(r)){case 10:case 13:case 32:++r;break;case 60:return uN(e.slice(r),t);default:break e}return $m.to_workbook(e,t)}function Jne(e,t){var r="",n=C3(e,t);switch(t.type){case"base64":r=no(e);break;case"binary":r=e;break;case"buffer":r=e.toString("binary");break;case"array":r=G0(e);break;default:throw new Error("Unrecognized type "+t.type)}return n[0]==239&&n[1]==187&&n[2]==191&&(r=Dn(r)),t.type="binary",oL(r,t)}function eae(e,t){var r=e;return t.type=="base64"&&(r=no(r)),r=Kx.utils.decode(1200,r.slice(2),"str"),t.type="binary",oL(r,t)}function tae(e){return e.match(/[^\x00-\x7F]/)?cu(e):e}function zw(e,t,r,n){return n?(r.type="string",$m.to_workbook(e,r)):$m.to_workbook(t,r)}function hN(e,t){G_();var r=t||{};if(typeof ArrayBuffer<"u"&&e instanceof ArrayBuffer)return hN(new Uint8Array(e),(r=ea(r),r.type="array",r));typeof Uint8Array<"u"&&e instanceof Uint8Array&&!r.type&&(r.type=typeof Deno<"u"?"buffer":"array");var n=e,a=[0,0,0,0],i=!1;if(r.cellStyles&&(r.cellNF=!0,r.sheetStubs=!0),Pm={},r.dateNF&&(Pm.dateNF=r.dateNF),r.type||(r.type=Tr&&Buffer.isBuffer(e)?"buffer":"base64"),r.type=="file"&&(r.type=Tr?"buffer":"binary",n=YW(e),typeof Uint8Array<"u"&&!Tr&&(r.type="array")),r.type=="string"&&(i=!0,r.type="binary",r.codepage=65001,n=tae(e)),r.type=="array"&&typeof Uint8Array<"u"&&e instanceof Uint8Array&&typeof ArrayBuffer<"u"){var l=new ArrayBuffer(3),o=new Uint8Array(l);if(o.foo="bar",!o.foo)return r=ea(r),r.type="array",hN(Y_(n),r)}switch((a=C3(n,r))[0]){case 208:if(a[1]===207&&a[2]===17&&a[3]===224&&a[4]===161&&a[5]===177&&a[6]===26&&a[7]===225)return Qne(nr.read(n,r),r);break;case 9:if(a[1]<=8)return eL(n,r);break;case 60:return uN(n,r);case 73:if(a[1]===73&&a[2]===42&&a[3]===0)throw new Error("TIFF Image File is not a spreadsheet");if(a[1]===68)return sX(n,r);break;case 84:if(a[1]===65&&a[2]===66&&a[3]===76)return vP.to_workbook(n,r);break;case 80:return a[1]===75&&a[2]<9&&a[3]<9?Zne(n,r):zw(e,n,r,i);case 239:return a[3]===60?uN(n,r):zw(e,n,r,i);case 255:if(a[1]===254)return eae(n,r);if(a[1]===0&&a[2]===2&&a[3]===0)return L0.to_workbook(n,r);break;case 0:if(a[1]===0&&(a[2]>=2&&a[3]===0||a[2]===0&&(a[3]===8||a[3]===9)))return L0.to_workbook(n,r);break;case 3:case 131:case 139:case 140:return cN.to_workbook(n,r);case 123:if(a[1]===92&&a[2]===114&&a[3]===116)return SP.to_workbook(n,r);break;case 10:case 13:case 32:return Jne(n,r);case 137:if(a[1]===80&&a[2]===78&&a[3]===71)throw new Error("PNG Image File is not a spreadsheet");break}return iX.indexOf(a[0])>-1&&a[2]<=12&&a[3]<=31?cN.to_workbook(n,r):zw(e,n,r,i)}function cL(e,t){switch(t.type){case"base64":case"binary":break;case"buffer":case"array":t.type="";break;case"file":return Sg(t.file,nr.write(e,{type:Tr?"buffer":""}));case"string":throw new Error("'string' output type invalid for '"+t.bookType+"' files");default:throw new Error("Unrecognized type "+t.type)}return nr.write(e,t)}function rae(e,t){var r=ea(t||{}),n=Gne(e,r);return nae(n,r)}function nae(e,t){var r={},n=Tr?"nodebuffer":typeof Uint8Array<"u"?"array":"string";if(t.compression&&(r.compression="DEFLATE"),t.password)r.type=n;else switch(t.type){case"base64":r.type="base64";break;case"binary":r.type="string";break;case"string":throw new Error("'string' output type invalid for '"+t.bookType+"' files");case"buffer":case"file":r.type=n;break;default:throw new Error("Unrecognized type "+t.type)}var a=e.FullPaths?nr.write(e,{fileType:"zip",type:{nodebuffer:"buffer",string:"binary"}[r.type]||r.type,compression:!!t.compression}):e.generate(r);if(typeof Deno<"u"&&typeof a=="string"){if(t.type=="binary"||t.type=="base64")return a;a=new Uint8Array(c2(a))}return t.password&&typeof encrypt_agile<"u"?cL(encrypt_agile(a,t.password),t):t.type==="file"?Sg(t.file,a):t.type=="string"?Dn(a):a}function aae(e,t){var r=t||{},n=tne(e,r);return cL(n,r)}function lu(e,t,r){r||(r="");var n=r+e;switch(t.type){case"base64":return Gx(cu(n));case"binary":return cu(n);case"string":return e;case"file":return Sg(t.file,n,"utf8");case"buffer":return Tr?jf(n,"utf8"):typeof TextEncoder<"u"?new TextEncoder().encode(n):lu(n,{type:"binary"}).split("").map(function(a){return a.charCodeAt(0)})}throw new Error("Unrecognized type "+t.type)}function iae(e,t){switch(t.type){case"base64":return Gx(e);case"binary":return e;case"string":return e;case"file":return Sg(t.file,e,"binary");case"buffer":return Tr?jf(e,"binary"):e.split("").map(function(r){return r.charCodeAt(0)})}throw new Error("Unrecognized type "+t.type)}function lv(e,t){switch(t.type){case"string":case"base64":case"binary":for(var r="",n=0;n<e.length;++n)r+=String.fromCharCode(e[n]);return t.type=="base64"?Gx(r):t.type=="string"?Dn(r):r;case"file":return Sg(t.file,e);case"buffer":return e;default:throw new Error("Unrecognized type "+t.type)}}function uL(e,t){G_(),Qte(e);var r=ea(t||{});if(r.cellStyles&&(r.cellNF=!0,r.sheetStubs=!0),r.type=="array"){r.type="binary";var n=uL(e,r);return r.type="array",c2(n)}var a=0;if(r.sheet&&(typeof r.sheet=="number"?a=r.sheet:a=e.SheetNames.indexOf(r.sheet),!e.SheetNames[a]))throw new Error("Sheet not found: "+r.sheet+" : "+typeof r.sheet);switch(r.bookType||"xlsb"){case"xml":case"xlml":return lu(Gre(e,r),r);case"slk":case"sylk":return lu(gP.from_sheet(e.Sheets[e.SheetNames[a]],r),r);case"htm":case"html":return lu(rL(e.Sheets[e.SheetNames[a]],r),r);case"txt":return iae(fL(e.Sheets[e.SheetNames[a]],r),r);case"csv":return lu(T3(e.Sheets[e.SheetNames[a]],r),r,"\uFEFF");case"dif":return lu(vP.from_sheet(e.Sheets[e.SheetNames[a]],r),r);case"dbf":return lv(cN.from_sheet(e.Sheets[e.SheetNames[a]],r),r);case"prn":return lu($m.from_sheet(e.Sheets[e.SheetNames[a]],r),r);case"rtf":return lu(SP.from_sheet(e.Sheets[e.SheetNames[a]],r),r);case"eth":return lu(yP.from_sheet(e.Sheets[e.SheetNames[a]],r),r);case"fods":return lu(sL(e,r),r);case"wk1":return lv(L0.sheet_to_wk1(e.Sheets[e.SheetNames[a]],r),r);case"wk3":return lv(L0.book_to_wk3(e,r),r);case"biff2":r.biff||(r.biff=2);case"biff3":r.biff||(r.biff=3);case"biff4":return r.biff||(r.biff=4),lv(tL(e,r),r);case"biff5":r.biff||(r.biff=5);case"biff8":case"xla":case"xls":return r.biff||(r.biff=8),aae(e,r);case"xlsx":case"xlsm":case"xlam":case"xlsb":case"numbers":case"ods":return rae(e,r);default:throw new Error("Unrecognized bookType |"+r.bookType+"|")}}function sae(e){if(!e.bookType){var t={xls:"biff8",htm:"html",slk:"sylk",socialcalc:"eth",Sh33tJS:"WTF"},r=e.file.slice(e.file.lastIndexOf(".")).toLowerCase();r.match(/^\.[a-z]+$/)&&(e.bookType=r.slice(1)),e.bookType=t[e.bookType]||e.bookType}}function lae(e,t,r){var n={};return n.type="file",n.file=t,sae(n),uL(e,n)}function oae(e,t,r,n,a,i,l,o){var u=Qa(r),f=o.defval,h=o.raw||!Object.prototype.hasOwnProperty.call(o,"raw"),m=!0,g=a===1?[]:{};if(a!==1)if(Object.defineProperty)try{Object.defineProperty(g,"__rowNum__",{value:r,enumerable:!1})}catch{g.__rowNum__=r}else g.__rowNum__=r;if(!l||e[r])for(var x=t.s.c;x<=t.e.c;++x){var b=l?e[r][x]:e[n[x]+u];if(b===void 0||b.t===void 0){if(f===void 0)continue;i[x]!=null&&(g[i[x]]=f);continue}var v=b.v;switch(b.t){case"z":if(v==null)break;continue;case"e":v=v==0?null:void 0;break;case"s":case"d":case"b":case"n":break;default:throw new Error("unrecognized type "+b.t)}if(i[x]!=null){if(v==null)if(b.t=="e"&&v===null)g[i[x]]=null;else if(f!==void 0)g[i[x]]=f;else if(h&&v===null)g[i[x]]=null;else continue;else g[i[x]]=h&&(b.t!=="n"||b.t==="n"&&o.rawNumbers!==!1)?v:xf(b,v,o);v!=null&&(m=!1)}}return{row:g,isempty:m}}function dy(e,t){if(e==null||e["!ref"]==null)return[];var r={t:"n",v:0},n=0,a=1,i=[],l=0,o="",u={s:{r:0,c:0},e:{r:0,c:0}},f=t||{},h=f.range!=null?f.range:e["!ref"];switch(f.header===1?n=1:f.header==="A"?n=2:Array.isArray(f.header)?n=3:f.header==null&&(n=0),typeof h){case"string":u=tn(h);break;case"number":u=tn(e["!ref"]),u.s.r=h;break;default:u=h}n>0&&(a=0);var m=Qa(u.s.r),g=[],x=[],b=0,v=0,w=Array.isArray(e),N=u.s.r,E=0,j={};w&&!e[N]&&(e[N]=[]);var T=f.skipHidden&&e["!cols"]||[],O=f.skipHidden&&e["!rows"]||[];for(E=u.s.c;E<=u.e.c;++E)if(!(T[E]||{}).hidden)switch(g[E]=_a(E),r=w?e[N][E]:e[g[E]+m],n){case 1:i[E]=E-u.s.c;break;case 2:i[E]=g[E];break;case 3:i[E]=f.header[E-u.s.c];break;default:if(r==null&&(r={w:"__EMPTY",t:"s"}),o=l=xf(r,null,f),v=j[l]||0,!v)j[l]=1;else{do o=l+"_"+v++;while(j[o]);j[l]=v,j[o]=1}i[E]=o}for(N=u.s.r+a;N<=u.e.r;++N)if(!(O[N]||{}).hidden){var P=oae(e,u,N,g,n,i,w,f);(P.isempty===!1||(n===1?f.blankrows!==!1:f.blankrows))&&(x[b++]=P.row)}return x.length=b,x}var $k=/"/g;function cae(e,t,r,n,a,i,l,o){for(var u=!0,f=[],h="",m=Qa(r),g=t.s.c;g<=t.e.c;++g)if(n[g]){var x=o.dense?(e[r]||[])[g]:e[n[g]+m];if(x==null)h="";else if(x.v!=null){u=!1,h=""+(o.rawNumbers&&x.t=="n"?x.v:xf(x,null,o));for(var b=0,v=0;b!==h.length;++b)if((v=h.charCodeAt(b))===a||v===i||v===34||o.forceQuotes){h='"'+h.replace($k,'""')+'"';break}h=="ID"&&(h='"ID"')}else x.f!=null&&!x.F?(u=!1,h="="+x.f,h.indexOf(",")>=0&&(h='"'+h.replace($k,'""')+'"')):h="";f.push(h)}return o.blankrows===!1&&u?null:f.join(l)}function T3(e,t){var r=[],n=t??{};if(e==null||e["!ref"]==null)return"";var a=tn(e["!ref"]),i=n.FS!==void 0?n.FS:",",l=i.charCodeAt(0),o=n.RS!==void 0?n.RS:`
`,u=o.charCodeAt(0),f=new RegExp((i=="|"?"\\|":i)+"+$"),h="",m=[];n.dense=Array.isArray(e);for(var g=n.skipHidden&&e["!cols"]||[],x=n.skipHidden&&e["!rows"]||[],b=a.s.c;b<=a.e.c;++b)(g[b]||{}).hidden||(m[b]=_a(b));for(var v=0,w=a.s.r;w<=a.e.r;++w)(x[w]||{}).hidden||(h=cae(e,a,w,m,l,u,i,n),h!=null&&(n.strip&&(h=h.replace(f,"")),(h||n.blankrows!==!1)&&r.push((v++?o:"")+h)));return delete n.dense,r.join("")}function fL(e,t){t||(t={}),t.FS="	",t.RS=`
`;var r=T3(e,t);return r}function uae(e){var t="",r,n="";if(e==null||e["!ref"]==null)return[];var a=tn(e["!ref"]),i="",l=[],o,u=[],f=Array.isArray(e);for(o=a.s.c;o<=a.e.c;++o)l[o]=_a(o);for(var h=a.s.r;h<=a.e.r;++h)for(i=Qa(h),o=a.s.c;o<=a.e.c;++o)if(t=l[o]+i,r=f?(e[h]||[])[o]:e[t],n="",r!==void 0){if(r.F!=null){if(t=r.F,!r.f)continue;n=r.f,t.indexOf(":")==-1&&(t=t+":"+t)}if(r.f!=null)n=r.f;else{if(r.t=="z")continue;if(r.t=="n"&&r.v!=null)n=""+r.v;else if(r.t=="b")n=r.v?"TRUE":"FALSE";else if(r.w!==void 0)n="'"+r.w;else{if(r.v===void 0)continue;r.t=="s"?n="'"+r.v:n=""+r.v}}u[u.length]=t+"="+n}return u}function dL(e,t,r){var n=r||{},a=+!n.skipHeader,i=e||{},l=0,o=0;if(i&&n.origin!=null)if(typeof n.origin=="number")l=n.origin;else{var u=typeof n.origin=="string"?ja(n.origin):n.origin;l=u.r,o=u.c}var f,h={s:{c:0,r:0},e:{c:o,r:l+t.length-1+a}};if(i["!ref"]){var m=tn(i["!ref"]);h.e.c=Math.max(h.e.c,m.e.c),h.e.r=Math.max(h.e.r,m.e.r),l==-1&&(l=m.e.r+1,h.e.r=l+t.length-1+a)}else l==-1&&(l=0,h.e.r=t.length-1+a);var g=n.header||[],x=0;t.forEach(function(v,w){Ba(v).forEach(function(N){(x=g.indexOf(N))==-1&&(g[x=g.length]=N);var E=v[N],j="z",T="",O=fr({c:o+x,r:l+w+a});f=sg(i,O),E&&typeof E=="object"&&!(E instanceof Date)?i[O]=E:(typeof E=="number"?j="n":typeof E=="boolean"?j="b":typeof E=="string"?j="s":E instanceof Date?(j="d",n.cellDates||(j="n",E=Si(E)),T=n.dateNF||ur[14]):E===null&&n.nullError&&(j="e",E=0),f?(f.t=j,f.v=E,delete f.w,delete f.R,T&&(f.z=T)):i[O]=f={t:j,v:E},T&&(f.z=T))})}),h.e.c=Math.max(h.e.c,o+g.length-1);var b=Qa(l);if(a)for(x=0;x<g.length;++x)i[_a(x+o)+b]={t:"s",v:g[x]};return i["!ref"]=Nr(h),i}function fae(e,t){return dL(null,e,t)}function sg(e,t,r){if(typeof t=="string"){if(Array.isArray(e)){var n=ja(t);return e[n.r]||(e[n.r]=[]),e[n.r][n.c]||(e[n.r][n.c]={t:"z"})}return e[t]||(e[t]={t:"z"})}return typeof t!="number"?sg(e,fr(t)):sg(e,fr({r:t,c:r||0}))}function dae(e,t){if(typeof t=="number"){if(t>=0&&e.SheetNames.length>t)return t;throw new Error("Cannot find sheet # "+t)}else if(typeof t=="string"){var r=e.SheetNames.indexOf(t);if(r>-1)return r;throw new Error("Cannot find sheet name |"+t+"|")}else throw new Error("Cannot find sheet |"+t+"|")}function O3(){return{SheetNames:[],Sheets:{}}}function D3(e,t,r,n){var a=1;if(!r)for(;a<=65535&&e.SheetNames.indexOf(r="Sheet"+a)!=-1;++a,r=void 0);if(!r||e.SheetNames.length>=65535)throw new Error("Too many worksheets");if(n&&e.SheetNames.indexOf(r)>=0){var i=r.match(/(^.*?)(\d+)$/);a=i&&+i[2]||0;var l=i&&i[1]||r;for(++a;a<=65535&&e.SheetNames.indexOf(r=l+a)!=-1;++a);}if(YP(r),e.SheetNames.indexOf(r)>=0)throw new Error("Worksheet with name |"+r+"| already exists!");return e.SheetNames.push(r),e.Sheets[r]=t,r}function hae(e,t,r){e.Workbook||(e.Workbook={}),e.Workbook.Sheets||(e.Workbook.Sheets=[]);var n=dae(e,t);switch(e.Workbook.Sheets[n]||(e.Workbook.Sheets[n]={}),r){case 0:case 1:case 2:break;default:throw new Error("Bad sheet visibility setting "+r)}e.Workbook.Sheets[n].Hidden=r}function mae(e,t){return e.z=t,e}function hL(e,t,r){return t?(e.l={Target:t},r&&(e.l.Tooltip=r)):delete e.l,e}function pae(e,t,r){return hL(e,"#"+t,r)}function xae(e,t,r){e.c||(e.c=[]),e.c.push({t,a:r||"SheetJS"})}function gae(e,t,r,n){for(var a=typeof t!="string"?t:tn(t),i=typeof t=="string"?t:Nr(t),l=a.s.r;l<=a.e.r;++l)for(var o=a.s.c;o<=a.e.c;++o){var u=sg(e,l,o);u.t="n",u.F=i,delete u.v,l==a.s.r&&o==a.s.c&&(u.f=r,n&&(u.D=!0))}return e}var ov={encode_col:_a,encode_row:Qa,encode_cell:fr,encode_range:Nr,decode_col:l3,decode_row:s3,split_cell:EK,decode_cell:ja,decode_range:Tl,format_cell:xf,sheet_add_aoa:UF,sheet_add_json:dL,sheet_add_dom:nL,aoa_to_sheet:lp,json_to_sheet:fae,table_to_sheet:aL,table_to_book:_ne,sheet_to_csv:T3,sheet_to_txt:fL,sheet_to_json:dy,sheet_to_html:rL,sheet_to_formulae:uae,sheet_to_row_object_array:dy,sheet_get_cell:sg,book_new:O3,book_append_sheet:D3,book_set_sheet_visibility:hae,cell_set_number_format:mae,cell_set_hyperlink:hL,cell_set_internal_link:pae,cell_add_comment:xae,sheet_set_array_formula:gae,consts:{SHEET_VISIBLE:0,SHEET_HIDDEN:1,SHEET_VERY_HIDDEN:2}};const kc={async getAll(){return Qe.get("/cities")},async getById(e){try{return await Qe.get(`/cities/${e}`)}catch(t){if(t instanceof Error&&"status"in t&&t.status===404)return null;throw t}},async getBySegment(e){return Qe.get(`/cities/by-segment/${e}`)},async create(e,t){return Qe.post("/cities",{id:e,...t})},async update(e){const{id:t,...r}=e;return Qe.put(`/cities/${t}`,r)},async delete(e){return Qe.delete(`/cities/${e}`)}},ts=[];for(let e=0;e<256;++e)ts.push((e+256).toString(16).slice(1));function vae(e,t=0){return(ts[e[t+0]]+ts[e[t+1]]+ts[e[t+2]]+ts[e[t+3]]+"-"+ts[e[t+4]]+ts[e[t+5]]+"-"+ts[e[t+6]]+ts[e[t+7]]+"-"+ts[e[t+8]]+ts[e[t+9]]+"-"+ts[e[t+10]]+ts[e[t+11]]+ts[e[t+12]]+ts[e[t+13]]+ts[e[t+14]]+ts[e[t+15]]).toLowerCase()}let qw;const yae=new Uint8Array(16);function bae(){if(!qw){if(typeof crypto>"u"||!crypto.getRandomValues)throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");qw=crypto.getRandomValues.bind(crypto)}return qw(yae)}const wae=typeof crypto<"u"&&crypto.randomUUID&&crypto.randomUUID.bind(crypto),Hk={randomUUID:wae};function Nae(e,t,r){e=e||{};const n=e.random??e.rng?.()??bae();if(n.length<16)throw new Error("Random bytes length must be >= 16");return n[6]=n[6]&15|64,n[8]=n[8]&63|128,vae(n)}function zd(e,t,r){return Hk.randomUUID&&!e?Hk.randomUUID():Nae(e)}const Fg=()=>ir({queryKey:["cities"],queryFn:()=>kc.getAll()}),_ae=e=>ir({queryKey:["cities",e],queryFn:()=>kc.getById(e),enabled:!!e}),jae=()=>{const e=Dt();return Ft({mutationFn:async t=>{const r=zd();return kc.create(r,t)},onSuccess:()=>{e.invalidateQueries({queryKey:["cities"]})}})},Sae=()=>{const e=Dt();return Ft({mutationFn:t=>kc.update(t),onSuccess:()=>{e.invalidateQueries({queryKey:["cities"]})}})},Aae=()=>{const e=Dt();return Ft({mutationFn:t=>kc.delete(t),onSuccess:()=>{e.invalidateQueries({queryKey:["cities"]})}})},Eae=()=>{const e=Dt();return Ft({mutationFn:async t=>{const r={success:0,errors:[]},n=await kc.getAll();for(let a=0;a<t.length;a++){const i=t[a];try{if(!i.name||!i.code||!i.segment_id){r.errors.push({row:a+2,error:"Donnes manquantes (nom, code ou segment)",data:i});continue}if(n.find(u=>u.name.trim()===i.name.trim()&&u.segment_id===i.segment_id)){r.errors.push({row:a+2,error:`Une ville avec le nom "${i.name}" existe dj dans ce segment`,data:i});continue}const o=zd();await kc.create(o,{name:i.name.trim(),code:i.code.trim(),segment_id:i.segment_id}),r.success++}catch(l){r.errors.push({row:a+2,error:l instanceof Error?l.message:"Erreur inconnue",data:i})}}return r},onSuccess:()=>{e.invalidateQueries({queryKey:["cities"]})}})};function kae({segmentId:e,segmentName:t,onClose:r}){const[n,a]=k.useState(null),[i,l]=k.useState(!1),[o,u]=k.useState(null),f=k.useRef(null),h=Eae(),m=b=>{b.target.files&&b.target.files[0]&&(a(b.target.files[0]),u(null))},g=async()=>{if(n){l(!0),u(null);try{const b=await n.arrayBuffer(),v=hN(b),w=v.Sheets[v.SheetNames[0]],E=ov.sheet_to_json(w).map(T=>({name:T.Ville?.toString().trim()||"",code:T.code?.toString().trim().toUpperCase()||"",segment_id:e})),j=await h.mutateAsync(E);u(j)}catch(b){console.error("Erreur lors de l'import:",b),alert("Erreur lors de la lecture du fichier Excel")}finally{l(!1)}}},x=()=>{const b=[{Ville:"Casablanca",code:"A1P07"},{Ville:"Rabat",code:"A1P01"},{Ville:"Tanger",code:"A1P05"}],v=ov.json_to_sheet(b),w=ov.book_new();ov.book_append_sheet(w,v,"Villes"),v["!cols"]=[{wch:25},{wch:15}],lae(w,"template_import_villes.xlsx")};return s.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:s.jsxs("div",{className:"bg-white rounded-lg shadow-xl max-w-2xl w-full max-h-[90vh] overflow-y-auto",children:[s.jsxs("div",{className:"flex items-center justify-between p-6 border-b border-gray-200",children:[s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx("div",{className:"w-10 h-10 bg-blue-100 rounded-lg flex items-center justify-center",children:s.jsx(H0,{className:"w-6 h-6 text-blue-600"})}),s.jsxs("div",{children:[s.jsx("h2",{className:"text-xl font-bold text-gray-900",children:"Import en masse"}),s.jsxs("p",{className:"text-sm text-gray-500",children:["Importer des villes pour : ",s.jsx("strong",{children:t})]})]})]}),s.jsx("button",{onClick:r,className:"text-gray-400 hover:text-gray-600 transition-colors",children:s.jsx(ta,{className:"w-6 h-6"})})]}),s.jsxs("div",{className:"p-6 space-y-6",children:[s.jsxs("div",{className:"bg-blue-50 border border-blue-200 rounded-lg p-4",children:[s.jsx("h3",{className:"font-semibold text-blue-900 mb-2",children:"Format du fichier Excel"}),s.jsx("p",{className:"text-sm text-blue-800 mb-3",children:"Le fichier doit contenir seulement 2 colonnes :"}),s.jsxs("ul",{className:"text-sm text-blue-800 space-y-1 list-disc list-inside",children:[s.jsxs("li",{children:[s.jsx("strong",{children:"Ville"})," : Nom de la ville (Ex: Casablanca)"]}),s.jsxs("li",{children:[s.jsx("strong",{children:"code"})," : Code de la ville (Ex: A1P07)"]})]}),s.jsxs("p",{className:"text-sm text-blue-700 mt-2",children:[" Toutes les villes seront automatiquement associes au segment : ",s.jsx("strong",{children:t})]})]}),s.jsxs("button",{onClick:x,className:"w-full flex items-center justify-center gap-2 px-4 py-3 border-2 border-dashed border-gray-300 rounded-lg hover:border-blue-500 hover:bg-blue-50 transition-colors",children:[s.jsx(Es,{className:"w-5 h-5 text-blue-600"}),s.jsx("span",{className:"text-blue-600 font-medium",children:"Tlcharger le fichier template"})]}),s.jsxs("div",{children:[s.jsx("input",{ref:f,type:"file",accept:".xlsx,.xls",onChange:m,className:"hidden"}),s.jsxs("button",{onClick:()=>f.current?.click(),className:"w-full flex items-center justify-center gap-2 px-4 py-8 border-2 border-dashed border-gray-300 rounded-lg hover:border-green-500 hover:bg-green-50 transition-colors",children:[s.jsx(W0,{className:"w-8 h-8 text-green-600"}),s.jsxs("div",{className:"text-center",children:[s.jsx("p",{className:"text-green-600 font-medium",children:n?n.name:"Cliquez pour slectionner un fichier Excel"}),s.jsx("p",{className:"text-sm text-gray-500 mt-1",children:"Formats accepts : .xlsx, .xls"})]})]})]}),o&&s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{className:"flex items-center gap-2 p-4 bg-green-50 border border-green-200 rounded-lg",children:[s.jsx(Xa,{className:"w-5 h-5 text-green-600"}),s.jsxs("span",{className:"text-green-800 font-medium",children:[o.success," ville(s) importe(s) avec succs"]})]}),o.errors.length>0&&s.jsxs("div",{className:"space-y-2",children:[s.jsxs("div",{className:"flex items-center gap-2 p-4 bg-red-50 border border-red-200 rounded-lg",children:[s.jsx(en,{className:"w-5 h-5 text-red-600"}),s.jsxs("span",{className:"text-red-800 font-medium",children:[o.errors.length," erreur(s) dtecte(s)"]})]}),s.jsx("div",{className:"max-h-60 overflow-y-auto space-y-2",children:o.errors.map((b,v)=>s.jsxs("div",{className:"p-3 bg-white border border-red-200 rounded-lg text-sm",children:[s.jsxs("p",{className:"font-medium text-red-800",children:["Ligne ",b.row]}),s.jsx("p",{className:"text-red-600",children:b.error}),s.jsxs("p",{className:"text-gray-600 text-xs mt-1",children:["Ville: ",b.data.name||"N/A"," | Code: ",b.data.code||"N/A"]})]},v))})]})]}),s.jsxs("div",{className:"flex gap-3 pt-4 border-t border-gray-200",children:[s.jsx("button",{type:"button",onClick:r,className:"flex-1 px-4 py-2 border border-gray-300 text-gray-700 rounded-lg hover:bg-gray-50 transition-colors",children:o?"Fermer":"Annuler"}),!o&&s.jsx("button",{onClick:g,disabled:!n||i,className:"flex-1 px-4 py-2 bg-blue-600 hover:bg-blue-700 text-white rounded-lg transition-colors disabled:opacity-50 disabled:cursor-not-allowed",children:i?"Import en cours...":"Importer"})]})]})]})})}const qd={async getAll(){return Qe.get("/segments")},async getById(e){try{return await Qe.get(`/segments/${e}`)}catch(t){if(t instanceof Error&&"status"in t&&t.status===404)return null;throw t}},async create(e,t){return Qe.post("/segments",{id:e,...t})},async update(e){const{id:t,...r}=e;return Qe.put(`/segments/${t}`,r)},async delete(e){return Qe.delete(`/segments/${e}`)}},gh=()=>ir({queryKey:["segments"],queryFn:()=>qd.getAll()}),Cae=()=>{const e=Dt();return Ft({mutationFn:async t=>{const r=zd();return qd.create(r,t)},onSuccess:()=>{e.invalidateQueries({queryKey:["segments"]})}})},Tae=()=>{const e=Dt();return Ft({mutationFn:t=>qd.update(t),onSuccess:()=>{e.invalidateQueries({queryKey:["segments"]})}})},Oae=()=>{const e=Dt();return Ft({mutationFn:t=>qd.delete(t),onSuccess:()=>{e.invalidateQueries({queryKey:["segments"]})}})};function Dae(){const{data:e=[],isLoading:t,error:r}=gh(),n=Cae(),a=Tae(),i=Oae(),[l,o]=k.useState(!1),[u,f]=k.useState(null),[h,m]=k.useState(!1),[g,x]=k.useState(null),[b,v]=k.useState({name:"",color:"#3b82f6"}),w=async O=>{O.preventDefault();try{u?await a.mutateAsync({id:u,name:b.name,color:b.color}):await n.mutateAsync({name:b.name,color:b.color}),j()}catch(P){console.error("Erreur lors de la sauvegarde:",P),alert("Erreur lors de la sauvegarde du segment")}},N=O=>{v({name:O.name,color:O.color}),f(O.id),o(!0)},E=async O=>{if(confirm("tes-vous sr de vouloir supprimer ce segment ?"))try{await i.mutateAsync(O)}catch(P){console.error("Erreur lors de la suppression:",P),alert("Erreur lors de la suppression du segment")}},j=()=>{v({name:"",color:"#3b82f6"}),f(null),o(!1)},T=O=>{x({id:O.id,name:O.name}),m(!0)};return r?s.jsx("div",{className:"min-h-screen bg-gray-50 p-4 md:p-6 lg:p-8",children:s.jsx("div",{className:"max-w-6xl mx-auto",children:s.jsx("div",{className:"bg-red-50 border border-red-200 rounded-lg p-4",children:s.jsxs("p",{className:"text-red-800",children:["Erreur lors du chargement des segments: ",r.message]})})})}):s.jsxs("div",{className:"min-h-screen bg-gray-50 p-4 md:p-6 lg:p-8",children:[s.jsxs("div",{className:"max-w-6xl mx-auto",children:[s.jsxs("div",{className:"flex flex-col sm:flex-row items-start sm:items-center justify-between gap-4 mb-6",children:[s.jsxs("div",{className:"flex items-center gap-3 sm:gap-4",children:[s.jsx(Sa,{to:"/dashboard",children:s.jsx(Ge,{variant:"outline",size:"icon",children:s.jsx(Hn,{className:"h-4 w-4"})})}),s.jsx("h1",{className:"text-2xl sm:text-3xl font-bold",children:"Gestion des Segments"})]}),s.jsxs(Ge,{onClick:()=>o(!l),className:"w-full sm:w-auto",children:[s.jsx(Ya,{className:"mr-2 h-4 w-4"}),"Nouveau Segment"]})]}),l&&s.jsxs(Ur,{className:"mb-6",children:[s.jsx(hf,{children:s.jsxs(mf,{children:[u?"Modifier":"Nouveau"," Segment"]})}),s.jsx(zr,{children:s.jsxs("form",{onSubmit:w,className:"space-y-4",children:[s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[s.jsxs("div",{children:[s.jsx("label",{className:"text-sm font-medium mb-2 block",children:"Nom du segment"}),s.jsx(Na,{value:b.name,onChange:O=>v({...b,name:O.target.value}),placeholder:"Ex: Formation Informatique",required:!0})]}),s.jsxs("div",{children:[s.jsx("label",{className:"text-sm font-medium mb-2 block",children:"Couleur"}),s.jsxs("div",{className:"flex gap-2",children:[s.jsx(Na,{type:"color",value:b.color,onChange:O=>v({...b,color:O.target.value}),className:"w-20"}),s.jsx(Na,{value:b.color,onChange:O=>v({...b,color:O.target.value}),placeholder:"#3b82f6"})]})]})]}),s.jsxs("div",{className:"flex flex-col sm:flex-row gap-2",children:[s.jsx(Ge,{type:"submit",disabled:n.isPending||a.isPending,className:"w-full sm:w-auto",children:n.isPending||a.isPending?"Enregistrement...":u?"Modifier":"Crer"}),s.jsx(Ge,{type:"button",variant:"outline",onClick:j,className:"w-full sm:w-auto",children:"Annuler"})]})]})})]}),t&&s.jsx("div",{className:"text-center py-12",children:s.jsx("p",{className:"text-gray-500",children:"Chargement des segments..."})}),!t&&s.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:e.map(O=>s.jsxs(Ur,{style:{borderLeft:`4px solid ${O.color}`},children:[s.jsx(hf,{children:s.jsxs(mf,{className:"flex items-center justify-between",children:[s.jsx("span",{children:O.name}),s.jsx("div",{className:"w-6 h-6 rounded",style:{backgroundColor:O.color}})]})}),s.jsx(zr,{children:s.jsxs("div",{className:"flex flex-col gap-2",children:[s.jsxs(Ge,{size:"sm",className:"w-full",onClick:()=>T(O),children:[s.jsx(W0,{className:"h-4 w-4 mr-2"}),"Importer des villes"]}),s.jsxs("div",{className:"flex gap-2",children:[s.jsx(Ge,{size:"sm",variant:"outline",onClick:()=>N(O),children:s.jsx(Jv,{className:"h-4 w-4"})}),s.jsx(Ge,{size:"sm",variant:"destructive",onClick:()=>E(O.id),disabled:i.isPending,children:s.jsx(Fn,{className:"h-4 w-4"})})]})]})})]},O.id))}),!t&&e.length===0&&!l&&s.jsx("div",{className:"text-center py-12",children:s.jsx("p",{className:"text-gray-500",children:"Aucun segment cr pour le moment"})})]}),h&&g&&s.jsx(kae,{segmentId:g.id,segmentName:g.name,onClose:()=>{m(!1),x(null)}})]})}function Fae({cityId:e,onClose:t}){const[r,n]=k.useState({name:"",code:"",segment_id:""}),{data:a}=_ae(e||""),{data:i=[]}=gh(),l=jae(),o=Sae(),u=!!e;k.useEffect(()=>{a&&n({name:a.name,code:a.code,segment_id:a.segment_id})},[a]);const f=async h=>{if(h.preventDefault(),!r.name.trim()||!r.code.trim()||!r.segment_id){alert("Veuillez remplir tous les champs obligatoires");return}try{u&&e?await o.mutateAsync({id:e,...r}):await l.mutateAsync(r),t()}catch(m){console.error("Erreur lors de la sauvegarde:",m),alert("Erreur lors de la sauvegarde de la ville")}};return s.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:s.jsxs("div",{className:"bg-white rounded-lg shadow-xl w-full max-w-md max-h-[90vh] overflow-y-auto",children:[s.jsxs("div",{className:"flex items-center justify-between p-4 sm:p-6 border-b border-gray-200",children:[s.jsxs("div",{className:"flex items-center gap-2 sm:gap-3 min-w-0",children:[s.jsx("div",{className:"w-8 h-8 sm:w-10 sm:h-10 bg-green-100 rounded-lg flex items-center justify-center flex-shrink-0",children:s.jsx(Cs,{className:"w-5 h-5 sm:w-6 sm:h-6 text-green-600"})}),s.jsxs("div",{className:"min-w-0",children:[s.jsx("h2",{className:"text-lg sm:text-xl font-bold text-gray-900 truncate",children:u?"Modifier la ville":"Nouvelle ville"}),s.jsx("p",{className:"text-xs sm:text-sm text-gray-500 truncate",children:u?"Modifiez les informations":"Ajoutez une nouvelle ville"})]})]}),s.jsx("button",{onClick:t,className:"text-gray-400 hover:text-gray-600 transition-colors flex-shrink-0 ml-2",children:s.jsx(ta,{className:"w-5 h-5 sm:w-6 sm:h-6"})})]}),s.jsxs("form",{onSubmit:f,className:"p-4 sm:p-6 space-y-4 sm:space-y-6",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Nom de la ville *"}),s.jsxs("div",{className:"relative",children:[s.jsx(Cs,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 w-5 h-5"}),s.jsx("input",{type:"text",required:!0,value:r.name,onChange:h=>n({...r,name:h.target.value}),placeholder:"Ex: Casablanca",className:"w-full pl-10 pr-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-green-500 focus:border-transparent"})]})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Code de la ville *"}),s.jsxs("div",{className:"relative",children:[s.jsx(H_,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 w-5 h-5"}),s.jsx("input",{type:"text",required:!0,value:r.code,onChange:h=>n({...r,code:h.target.value.toUpperCase()}),placeholder:"Ex: CASA",className:"w-full pl-10 pr-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-green-500 focus:border-transparent uppercase",maxLength:10})]}),s.jsx("p",{className:"mt-1 text-xs text-gray-500",children:"Code court pour identifier la ville (max 10 caractres)"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Segment de formation *"}),s.jsxs("div",{className:"relative",children:[s.jsx(zx,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 w-5 h-5"}),s.jsxs("select",{required:!0,value:r.segment_id,onChange:h=>n({...r,segment_id:h.target.value}),className:"w-full pl-10 pr-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-green-500 focus:border-transparent appearance-none",children:[s.jsx("option",{value:"",children:"Slectionnez un segment"}),i.map(h=>s.jsx("option",{value:h.id,children:h.name},h.id))]})]}),i.length===0&&s.jsx("p",{className:"mt-1 text-xs text-amber-600",children:"Aucun segment disponible. Veuillez crer un segment d'abord."})]}),s.jsxs("div",{className:"flex gap-3 pt-4 border-t border-gray-200",children:[s.jsx("button",{type:"button",onClick:t,className:"flex-1 px-4 py-2 border border-gray-300 text-gray-700 rounded-lg hover:bg-gray-50 transition-colors",children:"Annuler"}),s.jsx("button",{type:"submit",disabled:l.isPending||o.isPending,className:"flex-1 px-4 py-2 bg-green-600 hover:bg-green-700 text-white rounded-lg transition-colors disabled:opacity-50 disabled:cursor-not-allowed",children:l.isPending||o.isPending?"Enregistrement...":u?"Mettre  jour":"Crer"})]})]})]})})}function Pae(){const e=Pn(),[t,r]=k.useState(""),[n,a]=k.useState(!1),[i,l]=k.useState(null),[o,u]=k.useState("all"),[f,h]=k.useState([]),{data:m=[],isLoading:g}=Fg(),{data:x=[]}=gh(),b=Aae(),v=m.filter(P=>{const D=P.name.toLowerCase().includes(t.toLowerCase())||P.code.toLowerCase().includes(t.toLowerCase()),M=o==="all"||P.segment_id===o;return D&&M}),w=P=>{l(P),a(!0)},N=P=>{h(D=>D.includes(P)?D.filter(M=>M!==P):[...D,P])},E=()=>{f.length===v.length&&v.length>0?h([]):h(v.map(P=>P.id))},j=async(P,D)=>{if(window.confirm(`tes-vous sr de vouloir supprimer la ville "${D}" ?`))try{await b.mutateAsync(P)}catch(M){console.error("Erreur lors de la suppression:",M),alert("Erreur lors de la suppression de la ville")}},T=async()=>{if(f.length===0){alert("Veuillez slectionner au moins une ville  supprimer");return}if(window.confirm(`tes-vous sr de vouloir supprimer ${f.length} ville(s) slectionne(s) ?

Cette action est irrversible.`))try{for(const P of f)await b.mutateAsync(P);h([])}catch(P){console.error("Erreur lors de la suppression en masse:",P),alert("Erreur lors de la suppression des villes")}},O=()=>{a(!1),l(null)};return s.jsxs("div",{className:"p-4 md:p-6 lg:p-8",children:[s.jsxs("div",{className:"mb-4 sm:mb-6",children:[s.jsxs("div",{className:"flex items-center gap-3 sm:gap-4 mb-2",children:[s.jsx("button",{onClick:()=>e("/dashboard"),className:"p-2 hover:bg-gray-100 rounded-lg transition-colors flex-shrink-0",title:"Retour au tableau de bord",children:s.jsx(Hn,{className:"w-5 h-5 sm:w-6 sm:h-6 text-gray-600"})}),s.jsxs("h1",{className:"text-xl sm:text-2xl md:text-3xl font-bold text-gray-900 flex items-center gap-2",children:[s.jsx(Cs,{className:"w-6 h-6 sm:w-7 sm:h-7 md:w-8 md:h-8 text-green-600"}),s.jsx("span",{className:"truncate",children:"Gestion des Villes"})]})]}),s.jsx("p",{className:"text-sm sm:text-base text-gray-600 mt-2 ml-10 sm:ml-12 md:ml-14",children:"Grer les villes et leur affectation"})]}),s.jsx("div",{className:"bg-white rounded-lg shadow-sm p-4 mb-6",children:s.jsxs("div",{className:"flex flex-col md:flex-row gap-4 items-center justify-between",children:[s.jsxs("div",{className:"flex flex-col md:flex-row gap-4 w-full md:w-auto",children:[s.jsxs("div",{className:"relative flex-1 md:w-80",children:[s.jsx(ap,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 w-5 h-5"}),s.jsx("input",{type:"text",placeholder:"Rechercher une ville...",value:t,onChange:P=>r(P.target.value),className:"w-full pl-10 pr-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-green-500 focus:border-transparent"})]}),s.jsxs("select",{value:o,onChange:P=>u(P.target.value),className:"px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-green-500 focus:border-transparent",children:[s.jsx("option",{value:"all",children:"Tous les segments"}),x.map(P=>s.jsx("option",{value:P.id,children:P.name},P.id))]})]}),s.jsxs("div",{className:"flex flex-col sm:flex-row gap-2 w-full md:w-auto",children:[f.length>0&&s.jsxs("button",{onClick:T,className:"w-full sm:w-auto bg-red-600 hover:bg-red-700 text-white px-4 sm:px-6 py-2 rounded-lg flex items-center justify-center gap-2 transition-colors",children:[s.jsx(Fn,{className:"w-4 h-4 sm:w-5 sm:h-5"}),s.jsxs("span",{className:"text-sm sm:text-base",children:["Supprimer (",f.length,")"]})]}),s.jsxs("button",{onClick:()=>a(!0),className:"w-full sm:w-auto bg-green-600 hover:bg-green-700 text-white px-4 sm:px-6 py-2 rounded-lg flex items-center justify-center gap-2 transition-colors",children:[s.jsx(Ya,{className:"w-4 h-4 sm:w-5 sm:h-5"}),s.jsx("span",{className:"text-sm sm:text-base",children:"Nouvelle Ville"})]})]})]})}),g?s.jsxs("div",{className:"bg-white rounded-lg shadow-sm p-8 text-center",children:[s.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-green-600 mx-auto"}),s.jsx("p",{className:"mt-4 text-gray-600",children:"Chargement..."})]}):v.length===0?s.jsxs("div",{className:"bg-white rounded-lg shadow-sm p-8 text-center",children:[s.jsx(Cs,{className:"w-16 h-16 text-gray-300 mx-auto mb-4"}),s.jsx("p",{className:"text-gray-600 text-lg",children:t||o!=="all"?"Aucune ville trouve":"Aucune ville enregistre"}),s.jsx("p",{className:"text-gray-400 mt-2",children:t||o!=="all"?"Essayez de modifier vos critres de recherche":"Commencez par crer une nouvelle ville"})]}):s.jsxs("div",{className:"bg-white rounded-lg shadow-sm overflow-hidden",children:[s.jsx("div",{className:"overflow-x-auto",children:s.jsxs("table",{className:"w-full",children:[s.jsx("thead",{className:"bg-gray-50 border-b border-gray-200",children:s.jsxs("tr",{children:[s.jsx("th",{className:"px-6 py-3 text-left",children:s.jsx("input",{type:"checkbox",checked:f.length===v.length&&v.length>0,onChange:E,className:"w-4 h-4 text-green-600 border-gray-300 rounded focus:ring-green-500"})}),s.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Code"}),s.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Nom de la ville"}),s.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Segment"}),s.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Date de cration"}),s.jsx("th",{className:"px-6 py-3 text-right text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Actions"})]})}),s.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:v.map(P=>s.jsxs("tr",{className:"hover:bg-gray-50 transition-colors",children:[s.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:s.jsx("input",{type:"checkbox",checked:f.includes(P.id),onChange:()=>N(P.id),className:"w-4 h-4 text-green-600 border-gray-300 rounded focus:ring-green-500"})}),s.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:s.jsx("span",{className:"text-sm font-medium text-gray-900",children:P.code})}),s.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:s.jsxs("div",{className:"flex items-center",children:[s.jsx(Cs,{className:"w-4 h-4 text-green-600 mr-2"}),s.jsx("span",{className:"text-sm font-medium text-gray-900",children:P.name})]})}),s.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:s.jsx("span",{className:"inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium bg-blue-100 text-blue-800",children:P.segment_name||"N/A"})}),s.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:new Date(P.created_at).toLocaleDateString("fr-FR")}),s.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-right text-sm font-medium",children:s.jsxs("div",{className:"flex items-center justify-end gap-2",children:[s.jsx("button",{onClick:()=>w(P.id),className:"text-blue-600 hover:text-blue-900 p-2 hover:bg-blue-50 rounded-lg transition-colors",title:"Modifier",children:s.jsx(Hx,{className:"w-4 h-4"})}),s.jsx("button",{onClick:()=>j(P.id,P.name),className:"text-red-600 hover:text-red-900 p-2 hover:bg-red-50 rounded-lg transition-colors",title:"Supprimer",children:s.jsx(Fn,{className:"w-4 h-4"})})]})})]},P.id))})]})}),s.jsx("div",{className:"bg-gray-50 px-6 py-3 border-t border-gray-200",children:s.jsxs("p",{className:"text-sm text-gray-600",children:["Affichage de ",v.length," ville(s)",o!=="all"&&" filtre(s)"]})})]}),n&&s.jsx(Fae,{cityId:i,onClose:O})]})}const so={async getAll(){return Qe.get("/profiles")},async getById(e){try{return await Qe.get(`/profiles/${e}`)}catch(t){if(t instanceof Error&&"status"in t&&t.status===404)return null;throw t}},async create(e){return Qe.post("/profiles",e)},async update(e){const{id:t,...r}=e;return Qe.put(`/profiles/${t}`,r)},async delete(e){return Qe.delete(`/profiles/${e}`)}};function Lae(e){return ir({queryKey:["users",e],queryFn:async()=>{const t=await so.getAll();return!e||e==="all"?t:t.filter(r=>r.role===e)}})}function Mae(){const e=Dt();return Ft({mutationFn:async t=>{const r=zd();return so.create({id:r,...t})},onSuccess:()=>{e.invalidateQueries({queryKey:["users"]})}})}function Rae(){const e=Dt();return Ft({mutationFn:t=>so.update(t),onSuccess:()=>{e.invalidateQueries({queryKey:["users"]}),e.invalidateQueries({queryKey:["user"]})}})}function Iae(){const e=Dt();return Ft({mutationFn:t=>so.delete(t),onSuccess:()=>{e.invalidateQueries({queryKey:["users"]})}})}function Bae(){const e=Dt();return Ft({mutationFn:async t=>so.update({id:t.user_id,segment_ids:t.segment_ids}),onSuccess:(t,r)=>{e.invalidateQueries({queryKey:["user",r.user_id]}),e.invalidateQueries({queryKey:["users"]})}})}function Uae(){const e=Dt();return Ft({mutationFn:async t=>so.update({id:t.user_id,city_ids:t.city_ids}),onSuccess:(t,r)=>{e.invalidateQueries({queryKey:["user",r.user_id]}),e.invalidateQueries({queryKey:["users"]})}})}function mL(){return ir({queryKey:["segments"],queryFn:()=>qd.getAll()})}function zae(){return ir({queryKey:["cities"],queryFn:()=>kc.getAll()})}function qae(e){return ir({queryKey:["user",e,"segments"],queryFn:async()=>{const t=await so.getById(e);return!t||!t.segment_ids?[]:(await qd.getAll()).filter(n=>t.segment_ids?.includes(n.id))},enabled:!!e})}function $ae(e){return ir({queryKey:["user",e,"cities"],queryFn:async()=>{const t=await so.getById(e);return!t||!t.city_ids?[]:(await kc.getAll()).filter(n=>t.city_ids?.includes(n.id))},enabled:!!e})}const Hae=()=>{const[e,t]=k.useState("all"),[r,n]=k.useState(!1),[a,i]=k.useState(!1),[l,o]=k.useState(!1),[u,f]=k.useState(!1),[h,m]=k.useState(null),{data:g,isLoading:x}=Lae(e),b=Mae(),v=Rae(),w=Iae(),N=async T=>{if(window.confirm("tes-vous sr de vouloir supprimer cet utilisateur ?"))try{await w.mutateAsync(T)}catch(O){console.error("Error deleting user:",O),alert("Erreur lors de la suppression")}},E=T=>{const P={admin:{label:"Administrateur",color:"bg-red-100 text-red-800",icon:eN},professor:{label:"Professeur",color:"bg-blue-100 text-blue-800",icon:Vx},gerant:{label:"Grant",color:"bg-green-100 text-green-800",icon:ls}}[T];if(!P)return null;const D=P.icon;return s.jsxs("span",{className:`inline-flex items-center gap-1.5 px-3 py-1 rounded-full text-xs font-medium ${P.color}`,children:[s.jsx(D,{className:"w-3.5 h-3.5"}),P.label]})},j={total:g?.length||0,admin:g?.filter(T=>T.role==="admin").length||0,professor:g?.filter(T=>T.role==="professor").length||0,gerant:g?.filter(T=>T.role==="gerant").length||0};return s.jsxs("div",{className:"min-h-screen bg-gray-50",children:[s.jsx("header",{className:"bg-white shadow-sm",children:s.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-3 sm:py-4",children:s.jsxs("div",{className:"flex flex-col sm:flex-row items-start sm:items-center justify-between gap-4",children:[s.jsxs("div",{className:"flex items-start sm:items-center gap-3 sm:gap-4 flex-col sm:flex-row w-full sm:w-auto",children:[s.jsx(Sa,{to:"/dashboard",children:s.jsxs(Ge,{variant:"outline",size:"sm",className:"w-full sm:w-auto",children:[s.jsx(Hn,{className:"w-4 h-4 mr-2"}),"Retour"]})}),s.jsxs("div",{children:[s.jsx("h1",{className:"text-xl sm:text-2xl font-bold text-gray-900",children:"Gestion des Utilisateurs"}),s.jsx("p",{className:"text-xs sm:text-sm text-gray-600 hidden sm:block",children:"Crer et grer les comptes utilisateurs (admin, professeur, grant)"})]})]}),s.jsxs(Ge,{onClick:()=>n(!0),className:"w-full sm:w-auto",children:[s.jsx(Ya,{className:"w-4 h-4 mr-2"}),"Nouvel utilisateur"]})]})})}),s.jsxs("main",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:[s.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4 mb-6",children:[s.jsx(Ur,{children:s.jsx(zr,{className:"pt-6",children:s.jsxs("div",{className:"text-center",children:[s.jsx("p",{className:"text-2xl font-bold text-gray-900",children:j.total}),s.jsx("p",{className:"text-sm text-gray-600",children:"Total"})]})})}),s.jsx(Ur,{children:s.jsx(zr,{className:"pt-6",children:s.jsxs("div",{className:"text-center",children:[s.jsx("p",{className:"text-2xl font-bold text-red-600",children:j.admin}),s.jsx("p",{className:"text-sm text-gray-600",children:"Administrateurs"})]})})}),s.jsx(Ur,{children:s.jsx(zr,{className:"pt-6",children:s.jsxs("div",{className:"text-center",children:[s.jsx("p",{className:"text-2xl font-bold text-blue-600",children:j.professor}),s.jsx("p",{className:"text-sm text-gray-600",children:"Professeurs"})]})})}),s.jsx(Ur,{children:s.jsx(zr,{className:"pt-6",children:s.jsxs("div",{className:"text-center",children:[s.jsx("p",{className:"text-2xl font-bold text-green-600",children:j.gerant}),s.jsx("p",{className:"text-sm text-gray-600",children:"Grants"})]})})})]}),s.jsxs(Ur,{className:"mb-6",children:[s.jsx(hf,{children:s.jsx(mf,{children:"Filtrer par rle"})}),s.jsx(zr,{children:s.jsxs("div",{className:"flex flex-wrap gap-2",children:[s.jsxs(Ge,{variant:e==="all"?"default":"outline",size:"sm",onClick:()=>t("all"),children:["Tous (",j.total,")"]}),s.jsxs(Ge,{variant:e==="admin"?"default":"outline",size:"sm",onClick:()=>t("admin"),children:["Administrateurs (",j.admin,")"]}),s.jsxs(Ge,{variant:e==="professor"?"default":"outline",size:"sm",onClick:()=>t("professor"),children:["Professeurs (",j.professor,")"]}),s.jsxs(Ge,{variant:e==="gerant"?"default":"outline",size:"sm",onClick:()=>t("gerant"),children:["Grants (",j.gerant,")"]})]})})]}),s.jsx(Ur,{children:s.jsx(zr,{className:"pt-6",children:x?s.jsxs("div",{className:"text-center py-8",children:[s.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-blue-600 mx-auto"}),s.jsx("p",{className:"text-gray-600 mt-2",children:"Chargement..."})]}):!g||g.length===0?s.jsxs("div",{className:"text-center py-12",children:[s.jsx(ls,{className:"w-16 h-16 text-gray-400 mx-auto mb-4"}),s.jsx("p",{className:"text-gray-500",children:"Aucun utilisateur trouv"})]}):s.jsx("div",{className:"overflow-x-auto",children:s.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[s.jsx("thead",{className:"bg-gray-50",children:s.jsxs("tr",{children:[s.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Nom complet"}),s.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Nom d'utilisateur"}),s.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Rle"}),s.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Date cration"}),s.jsx("th",{className:"px-6 py-3 text-right text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Actions"})]})}),s.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:g.map(T=>s.jsxs("tr",{className:"hover:bg-gray-50",children:[s.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-medium text-gray-900",children:T.full_name}),s.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:T.username}),s.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:E(T.role)}),s.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:new Date(T.created_at).toLocaleDateString("fr-FR")}),s.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-right text-sm font-medium",children:s.jsxs("div",{className:"flex items-center justify-end gap-2",children:[(T.role==="professor"||T.role==="gerant")&&s.jsx(Ge,{variant:"outline",size:"sm",onClick:()=>{m(T),o(!0)},title:"Assigner segments",children:s.jsx(hu,{className:"w-4 h-4"})}),(T.role==="professor"||T.role==="gerant")&&s.jsx(Ge,{variant:"outline",size:"sm",onClick:()=>{m(T),f(!0)},title:"Assigner villes",children:s.jsx(Cs,{className:"w-4 h-4"})}),s.jsx(Ge,{variant:"outline",size:"sm",onClick:()=>{m(T),i(!0)},children:s.jsx(Jv,{className:"w-4 h-4"})}),s.jsx(Ge,{variant:"outline",size:"sm",onClick:()=>N(T.id),className:"text-red-600 hover:text-red-700",children:s.jsx(Fn,{className:"w-4 h-4"})})]})})]},T.id))})]})})})})]}),r&&s.jsx(Vae,{onClose:()=>n(!1),createUser:b}),a&&h&&s.jsx(Wae,{user:h,onClose:()=>{i(!1),m(null)},updateUser:v}),l&&h&&s.jsx(Kae,{user:h,onClose:()=>{o(!1),m(null)}}),u&&h&&s.jsx(Gae,{user:h,onClose:()=>{f(!1),m(null)}})]})},Vae=({onClose:e,createUser:t})=>{const[r,n]=k.useState({username:"",password:"",full_name:"",role:"professor"}),[a,i]=k.useState(!1),l=async o=>{if(o.preventDefault(),!r.username||!r.password||!r.full_name){alert("Veuillez remplir tous les champs");return}try{await t.mutateAsync(r),e()}catch(u){console.error("Error creating user:",u),alert("Erreur lors de la cration de l'utilisateur")}};return s.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:s.jsxs("div",{className:"bg-white rounded-lg shadow-xl p-6 w-full max-w-md",children:[s.jsx("h2",{className:"text-xl font-bold text-gray-900 mb-4",children:"Nouvel utilisateur"}),s.jsxs("form",{onSubmit:l,className:"space-y-4",children:[s.jsxs("div",{children:[s.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:["Nom complet ",s.jsx("span",{className:"text-red-500",children:"*"})]}),s.jsx("input",{type:"text",value:r.full_name,onChange:o=>n({...r,full_name:o.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",placeholder:"Jean Dupont",required:!0})]}),s.jsxs("div",{children:[s.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:["Nom d'utilisateur ",s.jsx("span",{className:"text-red-500",children:"*"})]}),s.jsx("input",{type:"text",value:r.username,onChange:o=>n({...r,username:o.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",placeholder:"jeandupont",required:!0})]}),s.jsxs("div",{children:[s.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:["Mot de passe ",s.jsx("span",{className:"text-red-500",children:"*"})]}),s.jsxs("div",{className:"relative",children:[s.jsx("input",{type:a?"text":"password",value:r.password,onChange:o=>n({...r,password:o.target.value}),className:"w-full px-3 py-2 pr-10 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",placeholder:"",required:!0}),s.jsx("button",{type:"button",onClick:()=>i(!a),className:"absolute right-2 top-1/2 -translate-y-1/2 p-1 text-gray-500 hover:text-gray-700 focus:outline-none",tabIndex:-1,children:a?s.jsx(Xs,{className:"w-5 h-5"}):s.jsx(Ds,{className:"w-5 h-5"})})]})]}),s.jsxs("div",{children:[s.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:["Rle ",s.jsx("span",{className:"text-red-500",children:"*"})]}),s.jsxs("select",{value:r.role,onChange:o=>n({...r,role:o.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",required:!0,children:[s.jsx("option",{value:"professor",children:"Professeur"}),s.jsx("option",{value:"gerant",children:"Grant"}),s.jsx("option",{value:"admin",children:"Administrateur"})]})]}),s.jsxs("div",{className:"flex justify-end gap-3 mt-6",children:[s.jsx(Ge,{type:"button",variant:"outline",onClick:e,children:"Annuler"}),s.jsx(Ge,{type:"submit",disabled:t.isPending,children:t.isPending?"Cration...":"Crer"})]})]})]})})},Wae=({user:e,onClose:t,updateUser:r})=>{const[n,a]=k.useState({username:e.username,password:"",full_name:e.full_name,role:e.role}),[i,l]=k.useState(!1),o=async u=>{u.preventDefault();try{const f={id:e.id,username:n.username,full_name:n.full_name,role:n.role};n.password&&(f.password=n.password),await r.mutateAsync(f),t()}catch(f){console.error("Error updating user:",f),alert("Erreur lors de la mise  jour")}};return s.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:s.jsxs("div",{className:"bg-white rounded-lg shadow-xl p-6 w-full max-w-md",children:[s.jsx("h2",{className:"text-xl font-bold text-gray-900 mb-4",children:"Modifier l'utilisateur"}),s.jsxs("form",{onSubmit:o,className:"space-y-4",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Nom complet"}),s.jsx("input",{type:"text",value:n.full_name,onChange:u=>a({...n,full_name:u.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Nom d'utilisateur"}),s.jsx("input",{type:"text",value:n.username,onChange:u=>a({...n,username:u.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Nouveau mot de passe (laisser vide pour ne pas modifier)"}),s.jsxs("div",{className:"relative",children:[s.jsx("input",{type:i?"text":"password",value:n.password,onChange:u=>a({...n,password:u.target.value}),className:"w-full px-3 py-2 pr-10 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",placeholder:""}),s.jsx("button",{type:"button",onClick:()=>l(!i),className:"absolute right-2 top-1/2 -translate-y-1/2 p-1 text-gray-500 hover:text-gray-700 focus:outline-none",tabIndex:-1,children:i?s.jsx(Xs,{className:"w-5 h-5"}):s.jsx(Ds,{className:"w-5 h-5"})})]})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Rle"}),s.jsxs("select",{value:n.role,onChange:u=>a({...n,role:u.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",children:[s.jsx("option",{value:"professor",children:"Professeur"}),s.jsx("option",{value:"gerant",children:"Grant"}),s.jsx("option",{value:"admin",children:"Administrateur"})]})]}),s.jsxs("div",{className:"flex justify-end gap-3 mt-6",children:[s.jsx(Ge,{type:"button",variant:"outline",onClick:t,children:"Annuler"}),s.jsx(Ge,{type:"submit",disabled:r.isPending,children:r.isPending?"Mise  jour...":"Mettre  jour"})]})]})]})})},Kae=({user:e,onClose:t})=>{const{data:r}=mL(),{data:n}=qae(e.id),a=Bae(),[i,l]=k.useState([]);Ju.useEffect(()=>{n&&l(n.map(f=>f.id))},[n]);const o=async f=>{f.preventDefault();try{await a.mutateAsync({user_id:e.id,segment_ids:i,role:e.role}),t()}catch(h){console.error("Error assigning segments:",h),alert("Erreur lors de l'assignation")}},u=f=>{l(h=>h.includes(f)?h.filter(m=>m!==f):[...h,f])};return s.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:s.jsxs("div",{className:"bg-white rounded-lg shadow-xl p-6 w-full max-w-md",children:[s.jsxs("h2",{className:"text-xl font-bold text-gray-900 mb-4",children:["Assigner des segments  ",e.full_name]}),s.jsxs("form",{onSubmit:o,children:[s.jsx("div",{className:"space-y-2 max-h-96 overflow-y-auto mb-4",children:r?.map(f=>s.jsxs("label",{className:"flex items-center p-3 border border-gray-200 rounded-lg hover:bg-gray-50 cursor-pointer",children:[s.jsx("input",{type:"checkbox",checked:i.includes(f.id),onChange:()=>u(f.id),className:"mr-3 h-4 w-4 text-blue-600 focus:ring-blue-500 border-gray-300 rounded"}),s.jsx("div",{className:"flex-1",children:s.jsx("span",{className:"font-medium text-gray-900",children:f.name})}),s.jsx("div",{className:"w-4 h-4 rounded-full ml-2",style:{backgroundColor:f.color}})]},f.id))}),s.jsxs("div",{className:"flex justify-end gap-3",children:[s.jsx(Ge,{type:"button",variant:"outline",onClick:t,children:"Annuler"}),s.jsx(Ge,{type:"submit",disabled:a.isPending,children:a.isPending?"Assignation...":"Assigner"})]})]})]})})},Gae=({user:e,onClose:t})=>{const{data:r}=zae(),{data:n}=mL(),{data:a}=$ae(e.id),i=Uae(),[l,o]=k.useState([]);Ju.useEffect(()=>{a&&o(a.map(m=>m.id))},[a]);const u=async m=>{m.preventDefault();try{await i.mutateAsync({user_id:e.id,city_ids:l,role:e.role}),t()}catch(g){console.error("Error assigning cities:",g),alert("Erreur lors de l'assignation")}},f=m=>{o(g=>g.includes(m)?g.filter(x=>x!==m):[...g,m])},h=m=>n?.find(g=>g.id===m)?.name||"";return s.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:s.jsxs("div",{className:"bg-white rounded-lg shadow-xl p-6 w-full max-w-md",children:[s.jsxs("h2",{className:"text-xl font-bold text-gray-900 mb-4",children:["Assigner des villes  ",e.full_name]}),s.jsxs("form",{onSubmit:u,children:[s.jsx("div",{className:"space-y-2 max-h-96 overflow-y-auto mb-4",children:r?.map(m=>s.jsxs("label",{className:"flex items-center p-3 border border-gray-200 rounded-lg hover:bg-gray-50 cursor-pointer",children:[s.jsx("input",{type:"checkbox",checked:l.includes(m.id),onChange:()=>f(m.id),className:"mr-3 h-4 w-4 text-blue-600 focus:ring-blue-500 border-gray-300 rounded"}),s.jsxs("div",{className:"flex-1",children:[s.jsx("span",{className:"font-medium text-gray-900",children:m.name}),s.jsxs("span",{className:"text-xs text-gray-500 ml-2",children:["(",h(m.segment_id),")"]})]})]},m.id))}),s.jsxs("div",{className:"flex justify-end gap-3",children:[s.jsx(Ge,{type:"button",variant:"outline",onClick:t,children:"Annuler"}),s.jsx(Ge,{type:"submit",disabled:i.isPending,children:i.isPending?"Assignation...":"Assigner"})]})]})]})})};class Yae{input="";pos=0;currentChar=null;parse(t){try{if(this.input=t.trim(),this.pos=0,this.currentChar=this.input.length>0?this.input[0]:null,!this.currentChar)return{success:!1,error:"Expression vide"};const r=this.parseExpression();return this.skipWhitespace(),this.currentChar!==null?{success:!1,error:`Caractre inattendu: ${this.currentChar}`}:{success:!0,ast:r}}catch(r){return{success:!1,error:r.message||"Erreur de parsing"}}}advance(){this.pos++,this.currentChar=this.pos<this.input.length?this.input[this.pos]:null}peek(t=1){const r=this.pos+t;return r<this.input.length?this.input[r]:null}skipWhitespace(){for(;this.currentChar&&/\s/.test(this.currentChar);)this.advance()}parseExpression(){let t=this.parseTerm();for(this.skipWhitespace();this.currentChar==="+"||this.currentChar==="-";){const r=this.currentChar;this.advance(),this.skipWhitespace();const n=this.parseTerm();this.skipWhitespace(),t={type:"binary",operator:r,left:t,right:n}}return t}parseTerm(){let t=this.parseFactor();for(this.skipWhitespace();this.currentChar==="*"||this.currentChar==="/";){const r=this.currentChar;this.advance(),this.skipWhitespace();const n=this.parseFactor();this.skipWhitespace(),t={type:"binary",operator:r,left:t,right:n}}return t}parsePostfix(){let t=this.parsePrimary();return this.skipWhitespace(),this.currentChar==="%"&&(this.advance(),t={type:"postfix",operator:"%",operand:t}),t}parseFactor(){let t=this.parseUnary();for(this.skipWhitespace();this.currentChar==="^";){this.advance(),this.skipWhitespace();const r=this.parseUnary();this.skipWhitespace(),t={type:"binary",operator:"^",left:t,right:r}}return t}parseUnary(){if(this.currentChar==="-"||this.currentChar==="+"){const t=this.currentChar;this.advance();const r=this.parseUnary();return{type:"unary",operator:t,operand:r}}return this.parsePostfix()}parsePrimary(){if(this.skipWhitespace(),this.currentChar&&/[0-9.]/.test(this.currentChar))return this.parseNumber();if(this.currentChar==='"')return this.parseString();if(this.currentChar&&/[A-Za-z_]/.test(this.currentChar))return this.parseIdentifier();if(this.currentChar==="("){this.advance();const t=this.parseExpression();if(this.skipWhitespace(),this.currentChar!==")")throw new Error("Parenthse fermante manquante");return this.advance(),t}if(this.currentChar===">"||this.currentChar==="<"||this.currentChar==="=")return this.parseComparison();throw new Error(`Caractre inattendu: ${this.currentChar}`)}parseNumber(){let t="",r=!1;for(;this.currentChar&&(/[0-9]/.test(this.currentChar)||this.currentChar===".");){if(this.currentChar==="."){if(r)throw new Error("Nombre invalide: deux points dcimaux");r=!0}t+=this.currentChar,this.advance()}const n=parseFloat(t);if(isNaN(n))throw new Error(`Nombre invalide: ${t}`);return{type:"number",value:n}}parseString(){this.advance();let t="";for(;this.currentChar&&this.currentChar!=='"';)this.currentChar==="\\"&&this.peek()==='"'?(this.advance(),t+='"',this.advance()):(t+=this.currentChar,this.advance());if(this.currentChar!=='"')throw new Error("Guillemet fermant manquant");return this.advance(),{type:"string",value:t}}parseIdentifier(){let t="";for(;this.currentChar&&/[A-Za-z0-9_]/.test(this.currentChar);)t+=this.currentChar,this.advance();return this.skipWhitespace(),t.toUpperCase()==="TRUE"?{type:"boolean",value:!0}:t.toUpperCase()==="FALSE"?{type:"boolean",value:!1}:this.currentChar==="("?this.parseFunction(t):{type:"reference",name:t}}parseFunction(t){this.advance();const r=[];if(this.skipWhitespace(),this.currentChar===")")return this.advance(),{type:"function",name:t.toUpperCase(),args:r};for(;;){if(r.push(this.parseExpression()),this.skipWhitespace(),this.currentChar===")"){this.advance();break}if(this.currentChar===","){this.advance(),this.skipWhitespace();continue}throw new Error("Virgule ou parenthse fermante attendue dans la fonction")}return{type:"function",name:t.toUpperCase(),args:r}}parseComparison(){throw new Error("Comparaisons not yet implemented")}}function pL(e){return new Yae().parse(e)}const mN={SUM:e=>{let t=0;for(const r of e)if(typeof r=="number")t+=r;else if(typeof r=="string"){const n=parseFloat(r);isNaN(n)||(t+=n)}return t},AVG:e=>{if(e.length===0)return"#ERR";const t=mN.SUM(e);return typeof t=="number"?t/e.length:"#ERR"},MIN:e=>{const t=e.filter(r=>typeof r=="number");return t.length>0?Math.min(...t):"#ERR"},MAX:e=>{const t=e.filter(r=>typeof r=="number");return t.length>0?Math.max(...t):"#ERR"},COUNT:e=>e.filter(t=>t!=null).length,IF:e=>{if(e.length<2)return"#ERR";const t=e[0],r=e[1],n=e.length>2?e[2]:null;return t?r:n},ROUND:e=>{if(e.length===0)return"#ERR";const t=typeof e[0]=="number"?e[0]:parseFloat(String(e[0])),r=e.length>1&&typeof e[1]=="number"?e[1]:0;if(isNaN(t))return"#TYPE!";const n=Math.pow(10,r);return Math.round(t*n)/n},FLOOR:e=>{if(e.length===0)return"#ERR";const t=typeof e[0]=="number"?e[0]:parseFloat(String(e[0]));return isNaN(t)?"#TYPE!":Math.floor(t)},CEIL:e=>{if(e.length===0)return"#ERR";const t=typeof e[0]=="number"?e[0]:parseFloat(String(e[0]));return isNaN(t)?"#TYPE!":Math.ceil(t)},ABS:e=>{if(e.length===0)return"#ERR";const t=typeof e[0]=="number"?e[0]:parseFloat(String(e[0]));return isNaN(t)?"#TYPE!":Math.abs(t)},LEN:e=>e.length===0?"#ERR":String(e[0]||"").length,CONCAT:e=>e.map(t=>String(t||"")).join(""),COALESCE:e=>{for(const t of e)if(t!=null&&t!=="")return t;return null},TODAY:()=>new Date().toISOString().split("T")[0],DATE:e=>{if(e.length<3)return"#ERR";const t=Number(e[0]),r=Number(e[1]),n=Number(e[2]);return isNaN(t)||isNaN(r)||isNaN(n)?"#TYPE!":new Date(t,r-1,n).toISOString().split("T")[0]},YEAR:e=>{if(e.length===0)return"#ERR";const t=String(e[0]),r=new Date(t);return isNaN(r.getTime())?"#TYPE!":r.getFullYear()},MONTH:e=>{if(e.length===0)return"#ERR";const t=String(e[0]),r=new Date(t);return isNaN(r.getTime())?"#TYPE!":r.getMonth()+1},DAY:e=>{if(e.length===0)return"#ERR";const t=String(e[0]),r=new Date(t);return isNaN(r.getTime())?"#TYPE!":r.getDate()},NUMBER:e=>{if(e.length===0)return"#ERR";const t=parseFloat(String(e[0]));return isNaN(t)?"#TYPE!":t}};class Xae{context;constructor(t={}){this.context=t}setContext(t){this.context=t}evaluate(t){try{const r=this.evaluateNode(t),n=typeof r=="string"&&r.startsWith("#");return{value:r,isError:n}}catch{return{value:"#ERR",isError:!0}}}evaluateNode(t){switch(t.type){case"number":return t.value;case"string":return t.value;case"boolean":return t.value;case"reference":return this.evaluateReference(t.name);case"binary":return this.evaluateBinary(t.operator,t.left,t.right);case"unary":return this.evaluateUnary(t.operator,t.operand);case"postfix":return this.evaluatePostfix(t.operator,t.operand);case"function":return this.evaluateFunction(t.name,t.args);case"error":return t.error;default:return"#ERR"}}evaluateReference(t){return t in this.context?this.context[t]:"#REF!"}evaluateBinary(t,r,n){const a=this.evaluateNode(r),i=this.evaluateNode(n);if(typeof a=="string"&&a.startsWith("#"))return a;if(typeof i=="string"&&i.startsWith("#"))return i;const l=typeof a=="number"?a:parseFloat(String(a)),o=typeof i=="number"?i:parseFloat(String(i));if(isNaN(l)||isNaN(o))return"#TYPE!";switch(t){case"+":return l+o;case"-":return l-o;case"*":return l*o;case"/":return o===0?"#DIV/0!":l/o;case"^":return Math.pow(l,o);case">":return l>o;case"<":return l<o;case">=":return l>=o;case"<=":return l<=o;case"=":case"==":return l===o;case"!=":case"<>":return l!==o;default:return"#ERR"}}evaluateUnary(t,r){const n=this.evaluateNode(r);if(typeof n=="string"&&n.startsWith("#"))return n;const a=typeof n=="number"?n:parseFloat(String(n));if(isNaN(a))return"#TYPE!";switch(t){case"-":return-a;case"+":return a;default:return"#ERR"}}evaluatePostfix(t,r){const n=this.evaluateNode(r);if(typeof n=="string"&&n.startsWith("#"))return n;const a=typeof n=="number"?n:parseFloat(String(n));if(isNaN(a))return"#TYPE!";switch(t){case"%":return a/100;default:return"#ERR"}}evaluateFunction(t,r){const n=t.toUpperCase();if(!(n in mN))return"#ERR";const a=[];for(const i of r){const l=this.evaluateNode(i);if(typeof l=="string"&&l.startsWith("#")&&!["SUM","COUNT","COALESCE"].includes(n))return l;a.push(l)}return mN[n](a)}}function Qae(e,t={}){return new Xae(t).evaluate(e)}class Zae{graph={nodes:new Set,edges:new Map,reversEdges:new Map};buildGraph(t){this.graph={nodes:new Set,edges:new Map,reversEdges:new Map};for(const r of t)r.ref&&(this.graph.nodes.add(r.ref),this.graph.edges.set(r.ref,new Set),this.graph.reversEdges.set(r.ref,new Set));for(const r of t)if(r.type==="formula"&&r.ref&&r.props.expression){const n=this.extractDependencies(r.props.expression);this.graph.edges.set(r.ref,new Set(n));for(const a of n)this.graph.reversEdges.has(a)||this.graph.reversEdges.set(a,new Set),this.graph.reversEdges.get(a).add(r.ref)}}extractDependencies(t){const r=[],n=pL(t);return n.success&&n.ast&&this.extractReferencesFromAST(n.ast,r),[...new Set(r)]}extractReferencesFromAST(t,r){if(t){if(t.type==="reference")r.push(t.name);else if(t.type==="binary")this.extractReferencesFromAST(t.left,r),this.extractReferencesFromAST(t.right,r);else if(t.type==="unary")this.extractReferencesFromAST(t.operand,r);else if(t.type==="postfix")this.extractReferencesFromAST(t.operand,r);else if(t.type==="function")for(const n of t.args)this.extractReferencesFromAST(n,r)}}detectCycle(){const t=new Set,r=new Set,n=[];for(const a of this.graph.nodes)if(!t.has(a)&&this.detectCycleDFS(a,t,r,n))return n;return null}detectCycleDFS(t,r,n,a){r.add(t),n.add(t),a.push(t);const i=this.graph.edges.get(t)||new Set;for(const l of i)if(r.has(l)){if(n.has(l))return a.push(l),!0}else if(this.detectCycleDFS(l,r,n,a))return!0;return n.delete(t),a.pop(),!1}getEvaluationOrder(){if(this.detectCycle())return null;const r=new Set,n=[];for(const a of this.graph.nodes)r.has(a)||this.topologicalSortDFS(a,r,n);return n.reverse()}topologicalSortDFS(t,r,n){r.add(t);const a=this.graph.reversEdges.get(t)||new Set;for(const i of a)r.has(i)||this.topologicalSortDFS(i,r,n);n.push(t)}getDependents(t){const r=new Set,n=[t];for(;n.length>0;){const a=n.shift(),i=this.graph.reversEdges.get(a)||new Set;for(const l of i)r.has(l)||(r.add(l),n.push(l))}return r}}function F3(e,t={}){const r=new Zae;r.buildGraph(e);const n=r.detectCycle();if(n){const l={...t};for(const o of n)l[o]="#CYCLE!";return l}const a=r.getEvaluationOrder();if(!a)return t;const i={...t};for(const l of a){const o=e.find(u=>u.ref===l);if(o)if(o.type==="formula"&&o.props.expression){const u=pL(o.props.expression);if(!u.success||!u.ast){i[l]="#ERR";continue}const f=Qae(u.ast,i);i[l]=f.value}else o.type==="number"&&i[l]===void 0?i[l]=o.props.default!==void 0?o.props.default:0:o.type==="text"&&i[l]===void 0&&(i[l]=o.props.default!==void 0?o.props.default:"")}return i}const Cc={async getAll(){return Qe.get("/calculation-sheets")},async getById(e){try{return await Qe.get(`/calculation-sheets/${e}`)}catch(t){if(t instanceof Error&&"status"in t&&t.status===404)return null;throw t}},async create(e){return Qe.post("/calculation-sheets",e)},async update(e){const{id:t,...r}=e;return Qe.put(`/calculation-sheets/${t}`,r)},async delete(e){return Qe.delete(`/calculation-sheets/${e}`)}},Jae=()=>ir({queryKey:["calculation-sheets"],queryFn:()=>Cc.getAll()}),xL=e=>ir({queryKey:["calculation-sheet",e],queryFn:()=>Cc.getById(e),enabled:!!e}),eie=()=>{const e=Dt();return Ft({mutationFn:async t=>{const r=zd(),n=new Date().toISOString();return Cc.create({id:r,title:t.title,template_data:t.template_data||"{}",status:t.status||"draft",sheet_date:t.sheet_date||n,segment_ids:t.segment_ids,city_ids:t.city_ids})},onSuccess:()=>{e.invalidateQueries({queryKey:["calculation-sheets"]})}})},gL=()=>{const e=Dt();return Ft({mutationFn:t=>Cc.update(t),onSuccess:()=>{e.invalidateQueries({queryKey:["calculation-sheets"]}),e.invalidateQueries({queryKey:["calculation-sheet"]})}})},tie=()=>{const e=Dt();return Ft({mutationFn:t=>Cc.delete(t),onSuccess:()=>{e.invalidateQueries({queryKey:["calculation-sheets"]})}})},rie=()=>{const e=Dt();return Ft({mutationFn:async t=>{const r=await Cc.getById(t);if(!r)throw new Error("Fiche non trouve");const n=r.status==="published"?"draft":"published";return Cc.update({id:t,title:r.title,template_data:r.template_data,status:n,sheet_date:r.sheet_date,segment_ids:r.segment_ids,city_ids:r.city_ids})},onSuccess:()=>{e.invalidateQueries({queryKey:["calculation-sheets"]}),e.invalidateQueries({queryKey:["calculation-sheet"]})}})},nie=rie,aie=()=>{const e=Dt();return Ft({mutationFn:async t=>{const r=await Cc.getById(t);if(!r)throw new Error("Fiche non trouve");const n=zd();return Cc.create({id:n,title:`${r.title} (copie)`,template_data:r.template_data,status:"draft",sheet_date:new Date().toISOString(),segment_ids:r.segment_ids,city_ids:r.city_ids})},onSuccess:()=>{e.invalidateQueries({queryKey:["calculation-sheets"]})}})};function iie(){const{id:e}=Ko(),[t,r]=WD(),n=t.get("mode")||"user",{data:a,isLoading:i}=xL(e||""),[l,o]=k.useState([]),[u,f]=k.useState("Fiche de Calcul"),[h,m]=k.useState({}),[g,x]=k.useState({}),[b,v]=k.useState(null),[w,N]=k.useState({}),[E]=k.useState({width:1200,height:800});k.useEffect(()=>{if(a&&(f(a.title),a.template_data))try{const D=JSON.parse(a.template_data);D.fields&&D.fields.length>0&&o(D.fields)}catch(D){console.error("Erreur lors du chargement du template:",D)}},[a]),k.useEffect(()=>{const D=F3(l,h);x(D)},[h,l]);const j=(D,M)=>{const B=l.find(L=>L.ref===D);if(!B)return;let H=M;B.type==="number"&&(H=M===""?0:parseFloat(M)||0),m(L=>({...L,[D]:H}))},T=(D,M)=>{N(B=>({...B,[D]:M}))},O=()=>{const D={values:h,calculatedValues:g,timestamp:new Date().toISOString()};localStorage.setItem("calculation_sheet_data",JSON.stringify(D)),v("Donnes sauvegardes avec succs!"),setTimeout(()=>v(null),3e3)};k.useEffect(()=>{const D=localStorage.getItem("calculation_sheet_data");if(D)try{const M=JSON.parse(D);m(M.values||{})}catch(M){console.error("Erreur lors du chargement des donnes:",M)}},[]);const P=D=>{const M=D.layout||{x:0,y:0,w:200,h:40};if(n==="user"&&D.visibility?.hidden)return null;const B=D.visibility?.hidden;if(D.type==="label")return s.jsxs("div",{className:`absolute bg-gray-100 border-2 border-gray-300 rounded px-3 py-2 flex items-center font-semibold text-gray-700 ${B?"opacity-60 ring-2 ring-red-400":""}`,style:{left:`${M.x}px`,top:`${M.y}px`,width:`${M.w}px`,height:`${M.h}px`},children:[B&&n==="admin"&&s.jsx(Xs,{className:"w-4 h-4 mr-2 text-red-500"}),D.props.label]},D.id);if(D.type==="text"){const H=h[D.ref],L=typeof H=="string"||typeof H=="number"?String(H):"";return s.jsx("div",{className:`absolute ${B?"ring-2 ring-red-400 opacity-60":""}`,style:{left:`${M.x}px`,top:`${M.y}px`,width:`${M.w}px`,height:`${M.h}px`},children:s.jsx("input",{type:"text",value:L,onChange:U=>j(D.ref,U.target.value),className:"w-full h-full px-3 py-2 border border-blue-300 rounded focus:ring-2 focus:ring-blue-500 focus:border-transparent"})},D.id)}if(D.type==="textarea"){const H=h[D.ref],L=typeof H=="string"||typeof H=="number"?String(H):"";return s.jsx("div",{className:`absolute ${B?"ring-2 ring-red-400 opacity-60":""}`,style:{left:`${M.x}px`,top:`${M.y}px`,width:`${M.w}px`,height:`${M.h}px`},children:s.jsxs("div",{className:"relative w-full h-full",children:[B&&n==="admin"&&s.jsx("div",{className:"absolute top-2 right-2 z-10",children:s.jsx(Xs,{className:"w-4 h-4 text-red-500"})}),s.jsx("textarea",{value:L,onChange:U=>j(D.ref,U.target.value),placeholder:D.props.label||"crivez vos commentaires ici...",className:"w-full h-full px-3 py-2 border-2 border-indigo-300 rounded focus:ring-2 focus:ring-indigo-500 focus:border-transparent resize-none"})]})},D.id)}if(D.type==="number"){const H=h[D.ref]!==void 0?h[D.ref]:D.props.default||0,L=typeof H=="number"||typeof H=="string"?H:"";return s.jsx("div",{className:`absolute ${B?"ring-2 ring-red-400 opacity-60":""}`,style:{left:`${M.x}px`,top:`${M.y}px`,width:`${M.w}px`,height:`${M.h}px`},children:s.jsxs("div",{className:"relative w-full h-full",children:[B&&n==="admin"&&s.jsx("div",{className:"absolute top-1/2 -translate-y-1/2 right-2 z-10",children:s.jsx(Xs,{className:"w-4 h-4 text-red-500"})}),s.jsx("input",{type:"number",step:"0.01",value:L,onChange:U=>j(D.ref,U.target.value),className:"w-full h-full px-3 py-2 border border-green-300 rounded focus:ring-2 focus:ring-green-500 focus:border-transparent"})]})},D.id)}if(D.type==="formula"){const H=g[D.ref],L=typeof H=="string"&&H.startsWith("#");return s.jsx("div",{className:`absolute flex items-center ${B?"ring-2 ring-red-400 opacity-60":""}`,style:{left:`${M.x}px`,top:`${M.y}px`,width:`${M.w}px`,height:`${M.h}px`},children:s.jsxs("div",{className:`relative w-full h-full px-3 py-2 border-2 rounded font-semibold flex items-center ${L?"bg-red-50 border-red-400 text-red-700":"bg-purple-50 border-purple-400 text-purple-900"}`,children:[B&&n==="admin"&&s.jsx(Xs,{className:"w-4 h-4 text-red-500 mr-2 flex-shrink-0"}),typeof H=="number"?H.toFixed(D.props.decimals||2):String(H||"0")]})},D.id)}if(D.type==="frame")return s.jsx("div",{className:`absolute border-2 border-orange-400 rounded-lg bg-orange-50/30 ${B?"ring-2 ring-red-400 opacity-60":""}`,style:{left:`${M.x}px`,top:`${M.y}px`,width:`${M.w}px`,height:`${M.h}px`},children:s.jsxs("div",{className:"bg-orange-500 text-white px-3 py-1 rounded-t font-semibold text-sm flex items-center",children:[B&&n==="admin"&&s.jsx(Xs,{className:"w-3 h-3 mr-2"}),D.props.label||"Cadre"]})},D.id);if(D.type==="file"){const H=w[D.ref];return s.jsx("div",{className:`absolute ${B?"ring-2 ring-red-400 opacity-60":""}`,style:{left:`${M.x}px`,top:`${M.y}px`,width:`${M.w}px`,height:`${M.h}px`},children:H?s.jsxs("div",{className:"w-full h-full border-2 border-teal-400 bg-teal-50 rounded px-3 py-2 flex items-center justify-between gap-2",children:[B&&n==="admin"&&s.jsx("div",{className:"flex-shrink-0",children:s.jsx(Xs,{className:"w-4 h-4 text-red-500"})}),s.jsxs("div",{className:"flex items-center gap-2 flex-1 min-w-0",children:[s.jsx(ks,{className:"w-5 h-5 text-teal-600 flex-shrink-0"}),s.jsxs("div",{className:"flex-1 min-w-0",children:[s.jsx("div",{className:"text-sm font-medium text-teal-900 truncate",children:H.name}),s.jsxs("div",{className:"text-xs text-teal-600",children:[(H.size/1024/1024).toFixed(2)," MB"]})]})]}),s.jsxs("div",{className:"flex gap-1 flex-shrink-0",children:[s.jsx("button",{onClick:()=>{const L=URL.createObjectURL(H);window.open(L,"_blank")},className:"p-1.5 hover:bg-teal-200 rounded transition-colors",title:"Prvisualiser",children:s.jsx(Ds,{className:"w-4 h-4 text-teal-700"})}),s.jsx("button",{onClick:()=>{const L=URL.createObjectURL(H),U=document.createElement("a");U.href=L,U.download=H.name,U.click(),URL.revokeObjectURL(L)},className:"p-1.5 hover:bg-teal-200 rounded transition-colors",title:"Tlcharger",children:s.jsx(Es,{className:"w-4 h-4 text-teal-700"})}),s.jsx("button",{onClick:()=>T(D.ref,null),className:"p-1.5 hover:bg-red-200 rounded transition-colors",title:"Supprimer",children:s.jsx(ta,{className:"w-4 h-4 text-red-600"})})]})]}):s.jsxs("label",{className:"w-full h-full border-2 border-dashed border-teal-300 bg-teal-50/50 rounded px-3 py-2 flex flex-col items-center justify-center cursor-pointer hover:bg-teal-100/50 transition-colors relative",children:[B&&n==="admin"&&s.jsx("div",{className:"absolute top-2 right-2",children:s.jsx(Xs,{className:"w-4 h-4 text-red-500"})}),s.jsx(W0,{className:"w-6 h-6 text-teal-600 mb-1"}),s.jsx("span",{className:"text-sm font-medium text-teal-700",children:D.props.label||"Tlcharger un fichier"}),s.jsxs("span",{className:"text-xs text-teal-600 mt-1",children:[D.props.accept||"Tous les fichiers"," (max ",D.props.maxSize||5," MB)"]}),s.jsx("input",{type:"file",accept:D.props.accept,onChange:L=>{const U=L.target.files?.[0];if(U){const G=(D.props.maxSize||5)*1024*1024;if(U.size>G){alert(`Le fichier est trop volumineux. Taille maximum: ${D.props.maxSize||5} MB`);return}T(D.ref,U)}},className:"hidden"})]})},D.id)}return null};return i?s.jsx("div",{className:"min-h-screen flex items-center justify-center",children:s.jsxs("div",{className:"text-center",children:[s.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-600 mx-auto mb-4"}),s.jsx("p",{className:"text-gray-600",children:"Chargement de la fiche..."})]})}):!a||l.length===0?s.jsx("div",{className:"min-h-screen flex items-center justify-center",children:s.jsxs("div",{className:"text-center",children:[s.jsx(hu,{className:"w-16 h-16 text-gray-400 mx-auto mb-4"}),s.jsx("h2",{className:"text-xl font-semibold text-gray-700 mb-2",children:"Aucune fiche trouve"}),s.jsx("p",{className:"text-gray-500 mb-4",children:"Cette fiche n'existe pas ou n'a pas encore de champs."}),s.jsxs(Sa,{to:"/admin/calculation-sheets",className:"inline-flex items-center gap-2 px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700",children:[s.jsx(Hn,{className:"w-4 h-4"}),"Retour  la liste"]})]})}):s.jsxs("div",{className:"min-h-screen bg-gray-50",children:[s.jsx("div",{className:"bg-white border-b border-gray-200 px-4 sm:px-6 py-3 sm:py-4",children:s.jsxs("div",{className:"flex flex-col lg:flex-row items-start lg:items-center justify-between gap-4",children:[s.jsxs("div",{className:"flex items-start sm:items-center gap-3 sm:gap-4 w-full lg:w-auto",children:[s.jsx(Sa,{to:"/admin/calculation-sheets",className:"p-2 hover:bg-gray-100 rounded-lg transition-colors flex-shrink-0",title:"Retour  la liste",children:s.jsx(Hn,{className:"w-5 h-5 sm:w-6 sm:h-6 text-gray-600"})}),s.jsxs("div",{className:"min-w-0 flex-1",children:[s.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center gap-2 sm:gap-3",children:[s.jsx("h1",{className:"text-lg sm:text-xl md:text-2xl font-bold text-gray-900 truncate",children:u}),s.jsx("span",{className:`px-2.5 sm:px-3 py-1 rounded-full text-xs font-medium flex items-center gap-1 w-fit ${n==="admin"?"bg-purple-100 text-purple-800":"bg-blue-100 text-blue-800"}`,children:n==="admin"?s.jsxs(s.Fragment,{children:[s.jsx(eN,{className:"w-3 h-3"}),"Mode Admin"]}):s.jsxs(s.Fragment,{children:[s.jsx(Vx,{className:"w-3 h-3"}),"Mode Utilisateur"]})})]}),s.jsx("p",{className:"text-xs sm:text-sm text-gray-500 mt-1 hidden sm:block",children:n==="admin"?"Tous les champs visibles - Simulation complte":"Mode Test - Vrifiez vos calculs"})]})]}),s.jsxs("div",{className:"flex flex-col sm:flex-row items-stretch sm:items-center gap-2 sm:gap-3 w-full lg:w-auto",children:[s.jsxs("div",{className:"flex gap-2",children:[s.jsxs("button",{onClick:()=>r({mode:"admin"}),className:`flex-1 sm:flex-none px-3 py-2 rounded-lg transition-colors flex items-center justify-center gap-2 text-sm ${n==="admin"?"bg-purple-600 text-white":"bg-gray-100 text-gray-700 hover:bg-gray-200"}`,children:[s.jsx(eN,{className:"w-4 h-4"}),s.jsx("span",{className:"hidden sm:inline",children:"Admin"})]}),s.jsxs("button",{onClick:()=>r({mode:"user"}),className:`flex-1 sm:flex-none px-3 py-2 rounded-lg transition-colors flex items-center justify-center gap-2 text-sm ${n==="user"?"bg-blue-600 text-white":"bg-gray-100 text-gray-700 hover:bg-gray-200"}`,children:[s.jsx(Vx,{className:"w-4 h-4"}),s.jsx("span",{className:"hidden sm:inline",children:"Utilisateur"})]})]}),b&&s.jsxs("div",{className:"flex items-center gap-2 bg-green-100 text-green-800 px-3 sm:px-4 py-2 rounded-lg",children:[s.jsx(eF,{className:"w-4 h-4 sm:w-5 sm:h-5 flex-shrink-0"}),s.jsx("span",{className:"text-xs sm:text-sm font-medium",children:b})]}),s.jsxs("button",{onClick:O,className:"w-full sm:w-auto px-3 sm:px-4 py-2 bg-green-600 hover:bg-green-700 text-white rounded-lg transition-colors flex items-center justify-center gap-2 text-sm sm:text-base",children:[s.jsx(np,{className:"w-4 h-4 sm:w-5 sm:h-5"}),s.jsx("span",{children:"Sauvegarder Test"})]}),s.jsxs(Sa,{to:`/admin/calculation-sheets/${e}/editor`,className:"w-full sm:w-auto px-3 sm:px-4 py-2 bg-purple-600 hover:bg-purple-700 text-white rounded-lg transition-colors flex items-center justify-center gap-2 text-sm sm:text-base",children:[s.jsx(uh,{className:"w-4 h-4 sm:w-5 sm:h-5"}),s.jsx("span",{children:"Modifier"})]})]})]})}),s.jsxs("div",{className:"p-4",children:[s.jsx("div",{className:"bg-white rounded-lg shadow-sm overflow-auto",children:s.jsx("div",{className:"relative bg-white",style:{width:`${E.width}px`,minHeight:`${E.height}px`},children:l.map(D=>P(D))})}),s.jsxs("div",{className:"mt-6 bg-blue-50 border border-blue-200 rounded-lg p-4",children:[s.jsxs("h3",{className:"font-semibold text-blue-900 mb-2 flex items-center gap-2",children:[s.jsx(hu,{className:"w-5 h-5"}),"Mode Test - Comment utiliser"]}),s.jsxs("div",{className:"text-sm text-blue-800 space-y-1",children:[s.jsxs("p",{children:[" Saisissez des valeurs dans les champs ",s.jsx("strong",{children:"Nombre"})," et ",s.jsx("strong",{children:"Texte"})]}),s.jsx("p",{children:" Les formules se calculent automatiquement en temps rel"}),s.jsx("p",{children:" Vrifiez que les calculs sont corrects avant d'utiliser en production"}),s.jsx("p",{children:` Cliquez sur "Modifier" pour retourner  l'diteur et ajuster les champs`}),s.jsx("p",{children:" Les donnes de test sont sauvegardes temporairement"})]})]})]})]})}function sie(){const e=Pn(),[t,r]=k.useState(!1),[n,a]=k.useState(null),{data:i=[],isLoading:l}=Jae(),{data:o=[]}=gh(),{data:u=[]}=Fg(),f=tie(),h=nie(),m=aie(),g=i.map(N=>({...N,segments:o.filter(E=>N.segment_ids?.includes(E.id)),cities:u.filter(E=>N.city_ids?.includes(E.id))})),x=async(N,E)=>{if(window.confirm(`tes-vous sr de vouloir supprimer "${E}" ?`))try{await f.mutateAsync(N)}catch(j){console.error("Erreur lors de la suppression:",j),alert("Erreur lors de la suppression de la fiche")}},b=async(N,E,j)=>{const T=E==="published"?"dpublier":"publier",O=E==="published"?`tes-vous sr de vouloir dpublier "${j}" ?

Les professeurs ne pourront plus l'utiliser.`:`tes-vous sr de vouloir publier "${j}" ?

Les professeurs pourront utiliser cette fiche.`;if(window.confirm(O))try{await h.mutateAsync(N)}catch(P){console.error(`Erreur lors de la ${T}ication:`,P),alert(`Erreur lors de la ${T}ication de la fiche`)}},v=async(N,E)=>{if(window.confirm(`Voulez-vous dupliquer "${E}" ?

Une copie en brouillon sera cre.`))try{await m.mutateAsync(N)}catch(j){console.error("Erreur lors de la duplication:",j),alert("Erreur lors de la duplication de la fiche")}},w=N=>{try{const E=JSON.parse(N.template_data),j={name:N.title,fields:E.fields||[],version:E.version||"1.0.0"},T=JSON.stringify(j,null,2),O=new Blob([T],{type:"application/json"}),P=URL.createObjectURL(O),D=document.createElement("a");D.href=P,D.download=`${N.title.replace(/\s+/g,"-").toLowerCase()}.json`,document.body.appendChild(D),D.click(),document.body.removeChild(D),URL.revokeObjectURL(P)}catch(E){console.error("Erreur lors de l'export:",E),alert("Erreur lors de l'export de la fiche")}};return s.jsxs("div",{className:"p-6",children:[s.jsxs("div",{className:"mb-6",children:[s.jsxs("div",{className:"flex items-center justify-between mb-2",children:[s.jsxs("div",{className:"flex items-center gap-4",children:[s.jsx("button",{onClick:()=>e("/dashboard"),className:"p-2 hover:bg-gray-100 rounded-lg transition-colors",title:"Retour au tableau de bord",children:s.jsx(Hn,{className:"w-6 h-6 text-gray-600"})}),s.jsxs("h1",{className:"text-3xl font-bold text-gray-900 flex items-center gap-2",children:[s.jsx(H0,{className:"w-8 h-8 text-blue-600"}),"Gestion des Fiches de Calcul"]})]}),s.jsxs("button",{onClick:()=>r(!0),className:"px-6 py-2 bg-green-600 hover:bg-green-700 text-white rounded-lg transition-colors flex items-center gap-2",children:[s.jsx(Ya,{className:"w-5 h-5"}),"Nouvelle Fiche"]})]}),s.jsx("p",{className:"text-gray-600 ml-14",children:"Crer et grer les templates de fiches de calcul pour les sessions"})]}),l?s.jsxs("div",{className:"bg-white rounded-lg shadow-sm p-12 text-center",children:[s.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-600 mx-auto mb-4"}),s.jsx("p",{className:"text-gray-600",children:"Chargement des fiches..."})]}):g.length===0?s.jsxs("div",{className:"bg-white rounded-lg shadow-sm p-12 text-center",children:[s.jsx(H0,{className:"w-16 h-16 text-gray-300 mx-auto mb-4"}),s.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"Aucune fiche cre"}),s.jsx("p",{className:"text-gray-500 mb-6",children:"Commencez par crer votre premire fiche de calcul"}),s.jsxs("button",{onClick:()=>r(!0),className:"px-6 py-2 bg-green-600 hover:bg-green-700 text-white rounded-lg transition-colors inline-flex items-center gap-2",children:[s.jsx(Ya,{className:"w-5 h-5"}),"Crer ma premire fiche"]})]}):s.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:g.map(N=>s.jsx("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 hover:shadow-md transition-shadow",children:s.jsxs("div",{className:"p-6",children:[s.jsxs("div",{className:"flex items-start justify-between mb-4",children:[s.jsxs("div",{className:"flex-1",children:[s.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-1",children:N.title}),s.jsx("span",{className:`inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium ${N.status==="published"?"bg-green-100 text-green-800":"bg-yellow-100 text-yellow-800"}`,children:N.status==="published"?"Publie":"Brouillon"})]}),s.jsx(hu,{className:"w-8 h-8 text-blue-500"})]}),s.jsxs("div",{className:"mb-3",children:[s.jsxs("div",{className:"flex items-center gap-1 text-sm text-gray-600 mb-2",children:[s.jsx(zx,{className:"w-4 h-4"}),s.jsxs("span",{className:"font-medium",children:["Segments (",N.segments.length,")"]})]}),s.jsx("div",{className:"flex flex-wrap gap-2",children:N.segments.map(E=>s.jsxs("span",{className:"inline-flex items-center gap-1 px-2 py-1 bg-gray-100 text-gray-700 rounded text-xs",children:[s.jsx("span",{className:"w-2 h-2 rounded-full",style:{backgroundColor:E.color}}),E.name]},E.id))})]}),s.jsxs("div",{className:"mb-4",children:[s.jsxs("div",{className:"flex items-center gap-1 text-sm text-gray-600 mb-2",children:[s.jsx(Cs,{className:"w-4 h-4"}),s.jsxs("span",{className:"font-medium",children:["Villes (",N.cities.length,")"]})]}),s.jsxs("div",{className:"flex flex-wrap gap-2",children:[N.cities.slice(0,3).map(E=>s.jsx("span",{className:"inline-flex items-center px-2 py-1 bg-blue-50 text-blue-700 rounded text-xs",children:E.name},E.id)),N.cities.length>3&&s.jsxs("span",{className:"inline-flex items-center px-2 py-1 bg-gray-100 text-gray-600 rounded text-xs",children:["+",N.cities.length-3," autres"]})]})]}),s.jsxs("div",{className:"text-xs text-gray-500 mb-4",children:["Modifi le ",new Date(N.updated_at).toLocaleDateString("fr-FR")]}),s.jsxs("div",{className:"space-y-2 pt-4 border-t border-gray-200",children:[s.jsx("button",{onClick:()=>b(N.id,N.status,N.title),disabled:h.isPending,className:`w-full px-3 py-2 rounded-lg text-sm font-medium flex items-center justify-center gap-2 transition-colors ${N.status==="published"?"bg-orange-50 hover:bg-orange-100 text-orange-700 border border-orange-200":"bg-green-50 hover:bg-green-100 text-green-700 border border-green-200"}`,children:N.status==="published"?s.jsxs(s.Fragment,{children:[s.jsx(pf,{className:"w-4 h-4"}),"Dpublier"]}):s.jsxs(s.Fragment,{children:[s.jsx(W0,{className:"w-4 h-4"}),"Publier"]})}),s.jsxs("div",{className:"flex gap-2",children:[s.jsxs(Sa,{to:`/admin/calculation-sheets/${N.id}`,className:"flex-1 px-3 py-2 bg-blue-600 hover:bg-blue-700 text-white rounded-lg text-sm font-medium flex items-center justify-center gap-1 transition-colors",children:[s.jsx(Ds,{className:"w-4 h-4"}),"Voir"]}),s.jsx("button",{onClick:()=>a(N),className:"px-3 py-2 bg-purple-50 hover:bg-purple-100 text-purple-600 rounded-lg text-sm transition-colors",title:"Modifier les informations",children:s.jsx(aF,{className:"w-4 h-4"})}),s.jsxs(Sa,{to:`/admin/calculation-sheets/${N.id}/editor`,className:"flex-1 px-3 py-2 bg-gray-100 hover:bg-gray-200 text-gray-700 rounded-lg text-sm font-medium flex items-center justify-center gap-1 transition-colors",children:[s.jsx(uh,{className:"w-4 h-4"}),"Modifier"]})]}),s.jsxs("div",{className:"flex gap-2 mt-2",children:[s.jsxs("button",{onClick:()=>w(N),className:"flex-1 px-3 py-2 bg-indigo-50 hover:bg-indigo-100 text-indigo-700 rounded-lg text-sm font-medium flex items-center justify-center gap-1 transition-colors",title:"Exporter en JSON",children:[s.jsx(Es,{className:"w-4 h-4"}),"Exporter"]}),s.jsx("button",{onClick:()=>v(N.id,N.title),className:"px-3 py-2 bg-cyan-50 hover:bg-cyan-100 text-cyan-700 rounded-lg text-sm transition-colors",title:"Dupliquer",children:s.jsx(D0,{className:"w-4 h-4"})}),s.jsx("button",{onClick:()=>x(N.id,N.title),className:"px-3 py-2 bg-red-50 hover:bg-red-100 text-red-600 rounded-lg text-sm transition-colors",title:"Supprimer",children:s.jsx(Fn,{className:"w-4 h-4"})})]})]})]})},N.id))}),t&&s.jsx(lie,{onClose:()=>r(!1)}),n&&s.jsx(oie,{sheet:n,onClose:()=>a(null)})]})}function lie({onClose:e}){const[t,r]=k.useState(1),[n,a]=k.useState(""),[i,l]=k.useState([]),[o,u]=k.useState([]),f=Pn(),h=eie(),{data:m=[]}=gh(),{data:g=[]}=Fg(),x=g.filter(v=>i.includes(v.segment_id)),b=async()=>{try{const v=await h.mutateAsync({title:n,segment_ids:i,city_ids:o});e(),f(`/admin/calculation-sheets/${v.id}/editor`)}catch(v){console.error("Erreur lors de la cration:",v),alert("Erreur lors de la cration de la fiche")}};return s.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:s.jsxs("div",{className:"bg-white rounded-lg shadow-xl max-w-2xl w-full max-h-[90vh] overflow-hidden",children:[s.jsxs("div",{className:"bg-gradient-to-r from-green-600 to-green-700 px-6 py-4 flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx("h2",{className:"text-xl font-bold text-white",children:"Crer une Fiche de Calcul"}),s.jsxs("p",{className:"text-green-100 text-sm",children:["tape ",t," sur 3"]})]}),s.jsx("button",{onClick:e,className:"text-white hover:bg-white/10 p-2 rounded-lg",children:s.jsx("svg",{className:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})})]}),s.jsxs("div",{className:"p-6 overflow-y-auto max-h-[calc(90vh-180px)]",children:[t===1&&s.jsxs("div",{children:[s.jsx("h3",{className:"font-semibold text-gray-900 mb-4",children:"Informations gnrales"}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Titre de la fiche"}),s.jsx("input",{type:"text",value:n,onChange:v=>a(v.target.value),placeholder:"Ex: Fiche Formation Professionnelle",className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-green-500 focus:border-transparent",autoFocus:!0})]})]}),t===2&&s.jsxs("div",{children:[s.jsxs("h3",{className:"font-semibold text-gray-900 mb-4",children:["Slectionner les segments (",i.length," slectionn",i.length>1?"s":"",")"]}),s.jsx("div",{className:"space-y-2",children:m.map(v=>s.jsxs("label",{className:"flex items-center gap-3 p-4 border border-gray-200 rounded-lg hover:bg-gray-50 cursor-pointer",children:[s.jsx("input",{type:"checkbox",checked:i.includes(v.id),onChange:w=>{if(w.target.checked)l([...i,v.id]);else{l(i.filter(E=>E!==v.id));const N=g.filter(E=>E.segment_id===v.id).map(E=>E.id);u(o.filter(E=>!N.includes(E)))}},className:"w-5 h-5 text-green-600 border-gray-300 rounded focus:ring-green-500"}),s.jsx("div",{className:"w-4 h-4 rounded-full",style:{backgroundColor:v.color}}),s.jsx("span",{className:"flex-1 font-medium text-gray-900",children:v.name})]},v.id))})]}),t===3&&s.jsxs("div",{children:[s.jsxs("h3",{className:"font-semibold text-gray-900 mb-4",children:["Slectionner les villes (",o.length," slectionne",o.length>1?"s":"",")"]}),i.length===0?s.jsx("div",{className:"text-center py-8 text-gray-500",children:"Vous devez d'abord slectionner au moins un segment"}):x.length===0?s.jsx("div",{className:"text-center py-8 text-gray-500",children:"Aucune ville disponible pour les segments slectionns"}):s.jsx("div",{className:"space-y-2",children:x.map(v=>s.jsxs("label",{className:"flex items-center gap-3 p-4 border border-gray-200 rounded-lg hover:bg-gray-50 cursor-pointer",children:[s.jsx("input",{type:"checkbox",checked:o.includes(v.id),onChange:w=>{w.target.checked?u([...o,v.id]):u(o.filter(N=>N!==v.id))},className:"w-5 h-5 text-green-600 border-gray-300 rounded focus:ring-green-500"}),s.jsx(Cs,{className:"w-4 h-4 text-green-600"}),s.jsx("span",{className:"flex-1 font-medium text-gray-900",children:v.name}),s.jsx("span",{className:"text-sm text-gray-500",children:m.find(w=>w.id===v.segment_id)?.name})]},v.id))})]})]}),s.jsxs("div",{className:"bg-gray-50 px-6 py-4 border-t border-gray-200 flex justify-between",children:[s.jsx("button",{onClick:()=>t>1?r(t-1):e(),className:"px-6 py-2 bg-gray-200 hover:bg-gray-300 text-gray-700 rounded-lg transition-colors",children:t===1?"Annuler":"Prcdent"}),s.jsx("button",{onClick:()=>{t<3?r(t+1):b()},disabled:t===1&&!n,className:"px-6 py-2 bg-green-600 hover:bg-green-700 text-white rounded-lg transition-colors disabled:opacity-50 disabled:cursor-not-allowed",children:t===3?"Crer la fiche":"Suivant"})]})]})})}function oie({sheet:e,onClose:t}){const[r,n]=k.useState(1),[a,i]=k.useState(e.title),[l,o]=k.useState(e.segment_ids||[]),[u,f]=k.useState(e.city_ids||[]),h=gL(),{data:m=[]}=gh(),{data:g=[]}=Fg(),x=g.filter(v=>l.includes(v.segment_id)),b=async()=>{try{await h.mutateAsync({id:e.id,title:a,template_data:e.template_data,status:e.status,sheet_date:e.sheet_date,segment_ids:l,city_ids:u}),t()}catch(v){console.error("Erreur lors de la modification:",v),alert("Erreur lors de la modification de la fiche")}};return s.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:s.jsxs("div",{className:"bg-white rounded-lg shadow-xl max-w-2xl w-full max-h-[90vh] overflow-hidden",children:[s.jsxs("div",{className:"bg-gradient-to-r from-purple-600 to-purple-700 px-6 py-4 flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx("h2",{className:"text-xl font-bold text-white",children:"Modifier la Fiche de Calcul"}),s.jsxs("p",{className:"text-purple-100 text-sm",children:["tape ",r," sur 3"]})]}),s.jsx("button",{onClick:t,className:"text-white hover:bg-white/10 p-2 rounded-lg",children:s.jsx("svg",{className:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})})]}),s.jsxs("div",{className:"p-6 overflow-y-auto max-h-[calc(90vh-180px)]",children:[r===1&&s.jsxs("div",{children:[s.jsx("h3",{className:"font-semibold text-gray-900 mb-4",children:"Informations gnrales"}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Titre de la fiche"}),s.jsx("input",{type:"text",value:a,onChange:v=>i(v.target.value),placeholder:"Ex: Fiche Formation Professionnelle",className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-purple-500 focus:border-transparent",autoFocus:!0})]})]}),r===2&&s.jsxs("div",{children:[s.jsxs("h3",{className:"font-semibold text-gray-900 mb-4",children:["Slectionner les segments (",l.length," slectionn",l.length>1?"s":"",")"]}),s.jsx("div",{className:"space-y-2",children:m.map(v=>s.jsxs("label",{className:"flex items-center gap-3 p-4 border border-gray-200 rounded-lg hover:bg-gray-50 cursor-pointer",children:[s.jsx("input",{type:"checkbox",checked:l.includes(v.id),onChange:w=>{if(w.target.checked)o([...l,v.id]);else{o(l.filter(E=>E!==v.id));const N=g.filter(E=>E.segment_id===v.id).map(E=>E.id);f(u.filter(E=>!N.includes(E)))}},className:"w-5 h-5 text-purple-600 border-gray-300 rounded focus:ring-purple-500"}),s.jsx("div",{className:"w-4 h-4 rounded-full",style:{backgroundColor:v.color}}),s.jsx("span",{className:"flex-1 font-medium text-gray-900",children:v.name})]},v.id))})]}),r===3&&s.jsxs("div",{children:[s.jsxs("h3",{className:"font-semibold text-gray-900 mb-4",children:["Slectionner les villes (",u.length," slectionne",u.length>1?"s":"",")"]}),l.length===0?s.jsx("div",{className:"text-center py-8 text-gray-500",children:"Vous devez d'abord slectionner au moins un segment"}):x.length===0?s.jsx("div",{className:"text-center py-8 text-gray-500",children:"Aucune ville disponible pour les segments slectionns"}):s.jsx("div",{className:"space-y-2",children:x.map(v=>s.jsxs("label",{className:"flex items-center gap-3 p-4 border border-gray-200 rounded-lg hover:bg-gray-50 cursor-pointer",children:[s.jsx("input",{type:"checkbox",checked:u.includes(v.id),onChange:w=>{w.target.checked?f([...u,v.id]):f(u.filter(N=>N!==v.id))},className:"w-5 h-5 text-purple-600 border-gray-300 rounded focus:ring-purple-500"}),s.jsx(Cs,{className:"w-4 h-4 text-purple-600"}),s.jsx("span",{className:"flex-1 font-medium text-gray-900",children:v.name}),s.jsx("span",{className:"text-sm text-gray-500",children:m.find(w=>w.id===v.segment_id)?.name})]},v.id))})]})]}),s.jsxs("div",{className:"bg-gray-50 px-6 py-4 border-t border-gray-200 flex justify-between",children:[s.jsx("button",{onClick:()=>r>1?n(r-1):t(),className:"px-6 py-2 bg-gray-200 hover:bg-gray-300 text-gray-700 rounded-lg transition-colors",children:r===1?"Annuler":"Prcdent"}),s.jsx("button",{onClick:()=>{r<3?n(r+1):b()},disabled:r===1&&!a||h.isPending,className:"px-6 py-2 bg-purple-600 hover:bg-purple-700 text-white rounded-lg transition-colors disabled:opacity-50 disabled:cursor-not-allowed",children:h.isPending?"Sauvegarde...":r===3?"Enregistrer":"Suivant"})]})]})})}function cie(){const{id:e}=Ko(),t=Pn(),[r,n]=k.useState([]),[a,i]=k.useState(null),[l,o]=k.useState(null),[u,f]=k.useState(null),[h,m]=k.useState(1),[g,x]=k.useState("Nouvelle Fiche"),[b,v]=k.useState(!0),[w,N]=k.useState(null),[E,j]=k.useState({width:1200,height:800}),T=k.useRef(null),O=gL(),{data:P}=xL(e||"");k.useEffect(()=>{if(P&&(P.title&&x(P.title),P.template_data))try{const F=JSON.parse(P.template_data);if(F.fields&&F.fields.length>0){n(F.fields);const q=Math.max(...F.fields.map(W=>{const Q=W.id.match(/field_(\d+)/);return Q?parseInt(Q[1]):0}));m(q+1)}}catch(F){console.error("Erreur lors du chargement des donnes:",F)}},[P]);const D=[{type:"label",icon:Tm,label:"Label",color:"bg-gray-500"},{type:"text",icon:GV,label:"Texte",color:"bg-blue-500"},{type:"number",icon:H_,label:"Nombre",color:"bg-green-500"},{type:"formula",icon:hu,label:"Formule",color:"bg-purple-500"},{type:"textarea",icon:el,label:"Texte libre",color:"bg-indigo-500"},{type:"frame",icon:pH,label:"Cadre",color:"bg-orange-500"},{type:"file",icon:TV,label:"Pice jointe",color:"bg-teal-500"},{type:"link",icon:qx,label:"Lien",color:"bg-cyan-500"}],M=r.find(F=>F.id===a),B=(F,q,W)=>{const Q=`field_${h}`;m(h+1);const oe={id:Q,type:F,layout:{x:q,y:W,w:200,h:40}};switch(F){case"label":return{...oe,props:{label:"Nouveau label"}};case"text":return{...oe,ref:`TEXT_${h}`,props:{label:"Texte"}};case"number":return{...oe,ref:`NUM_${h}`,props:{label:"Nombre",decimals:2,default:0}};case"formula":return{...oe,ref:`FORMULA_${h}`,props:{label:"Formule",expression:"",decimals:2}};case"frame":return{...oe,props:{label:"Cadre"},children:[]};case"file":return{...oe,ref:`FILE_${h}`,props:{label:"Pice jointe",accept:".pdf,.jpg,.jpeg,.png",maxSize:5}};case"textarea":return{...oe,layout:{x:q,y:W,w:400,h:120},ref:`TEXTAREA_${h}`,props:{label:"Commentaires"}};case"link":return{...oe,props:{label:"Lien",url:"https://example.com"}};default:return oe}},H=F=>{o({type:F,isNew:!0})},L=(F,q)=>{const W=r.find(X=>X.id===q);if(!W)return;const Q=F.currentTarget.getBoundingClientRect(),oe=F.clientX-Q.left,ue=F.clientY-Q.top;o({type:W.type,isNew:!1,fieldId:q,offsetX:oe,offsetY:ue}),i(q)},U=F=>{F.preventDefault()},G=F=>{if(F.preventDefault(),!l||!T.current)return;const q=T.current.getBoundingClientRect(),W=Math.round((F.clientX-q.left-(l.offsetX||0))/10)*10,Q=Math.round((F.clientY-q.top-(l.offsetY||0))/10)*10;if(l.isNew){const oe=B(l.type,Math.max(0,W),Math.max(0,Q));n([...r,oe]),i(oe.id)}else l.fieldId&&n(r.map(oe=>oe.id===l.fieldId?{...oe,layout:{...oe.layout,x:Math.max(0,W),y:Math.max(0,Q)}}:oe));o(null)},te=F=>{if(l&&!l.isNew&&l.fieldId&&T.current){const q=T.current.getBoundingClientRect(),W=Math.round((F.clientX-q.left-(l.offsetX||0))/10)*10,Q=Math.round((F.clientY-q.top-(l.offsetY||0))/10)*10;n(r.map(oe=>oe.id===l.fieldId?{...oe,layout:{...oe.layout,x:Math.max(0,W),y:Math.max(0,Q)}}:oe))}if(u&&T.current){const q=T.current.getBoundingClientRect(),W=F.clientX-q.left,Q=F.clientY-q.top,oe=W-u.startX,ue=Q-u.startY;n(r.map(X=>{if(X.id!==u.fieldId)return X;let ve=u.startW,Te=u.startH;return u.direction==="se"?(ve=Math.max(100,u.startW+oe),Te=Math.max(50,u.startH+ue)):u.direction==="s"?Te=Math.max(50,u.startH+ue):u.direction==="e"&&(ve=Math.max(100,u.startW+oe)),{...X,layout:{...X.layout,w:Math.round(ve/10)*10,h:Math.round(Te/10)*10}}}))}},de=()=>{o(null),f(null)},ne=(F,q,W)=>{if(F.stopPropagation(),!T.current)return;const Q=r.find(ue=>ue.id===q);if(!Q)return;const oe=T.current.getBoundingClientRect();f({fieldId:q,direction:W,startX:F.clientX-oe.left,startY:F.clientY-oe.top,startW:Q.layout.w,startH:Q.layout.h})},Z=(F,q,W)=>{n(r.map(Q=>{if(Q.id!==F)return Q;const oe=q.split(".");return oe.length===1?{...Q,[q]:W}:oe[0]==="props"?{...Q,props:{...Q.props,[oe[1]]:W}}:oe[0]==="layout"?{...Q,layout:{...Q.layout,[oe[1]]:W}}:Q}))},xe=F=>{n(r.filter(q=>q.id!==F)),a===F&&i(null)},le=F=>{const q=r.find(Q=>Q.id===F);if(!q)return;const W={...q,id:`field_${h}`,ref:q.ref?`${q.ref}_COPY`:void 0,layout:{...q.layout,x:q.layout.x+20,y:q.layout.y+20}};m(h+1),n([...r,W]),i(W.id)},Se=(F,q)=>{const W=r.findIndex(oe=>oe.id===F);if(W===-1)return;const Q=[...r];q==="up"&&W<r.length-1?[Q[W],Q[W+1]]=[Q[W+1],Q[W]]:q==="down"&&W>0&&([Q[W],Q[W-1]]=[Q[W-1],Q[W]]),n(Q)},re=async()=>{if(!e){alert("Aucun ID de fiche trouv");return}try{const F={name:g,fields:r,version:"1.0.0"};await O.mutateAsync({id:e,title:g,template_data:JSON.stringify(F),status:P?.status||"draft",sheet_date:P?.sheet_date||new Date().toISOString()}),N("Fiche sauvegarde avec succs!"),setTimeout(()=>N(null),3e3)}catch(F){console.error("Erreur lors de la sauvegarde:",F),alert("Erreur lors de la sauvegarde de la fiche")}},R=()=>{const q=JSON.stringify({name:g,fields:r,version:"1.0.0"},null,2),W=new Blob([q],{type:"application/json"}),Q=URL.createObjectURL(W),oe=document.createElement("a");oe.href=Q,oe.download=`${g.toLowerCase().replace(/\s+/g,"-")}.json`,oe.click(),URL.revokeObjectURL(Q)};return s.jsxs("div",{className:"h-screen flex flex-col bg-gray-50 overflow-hidden",children:[s.jsxs("div",{className:"bg-white border-b border-gray-200 px-4 py-3 flex items-center justify-between flex-shrink-0",children:[s.jsxs("div",{className:"flex items-center gap-4",children:[s.jsx("input",{type:"text",value:g,onChange:F=>x(F.target.value),className:"text-xl font-bold border-none focus:ring-2 focus:ring-blue-500 rounded px-2 py-1"}),s.jsxs("span",{className:"text-sm text-gray-500",children:[r.length," champ(s)"]})]}),s.jsxs("div",{className:"flex items-center gap-2",children:[w&&s.jsxs("div",{className:"flex items-center gap-2 bg-green-100 text-green-800 px-4 py-2 rounded-lg",children:[s.jsx(B_,{className:"w-5 h-5"}),s.jsx("span",{className:"text-sm font-medium",children:w})]}),s.jsx("button",{onClick:()=>v(!b),className:`p-2 rounded-lg transition-colors ${b?"bg-blue-100 text-blue-600":"bg-gray-100 text-gray-600"}`,title:"Grille",children:s.jsx($_,{className:"w-5 h-5"})}),s.jsxs("button",{onClick:re,disabled:O.isPending,className:"px-4 py-2 bg-blue-600 hover:bg-blue-700 text-white rounded-lg transition-colors flex items-center gap-2 disabled:opacity-50 disabled:cursor-not-allowed",children:[s.jsx(np,{className:"w-5 h-5"}),O.isPending?"Sauvegarde...":"Sauvegarder"]}),s.jsxs("button",{onClick:R,className:"px-4 py-2 bg-green-600 hover:bg-green-700 text-white rounded-lg transition-colors flex items-center gap-2",children:[s.jsx(Es,{className:"w-5 h-5"}),"Exporter JSON"]}),s.jsxs("div",{className:"flex gap-2",children:[s.jsxs("button",{onClick:()=>t(`/admin/calculation-sheets/${e}?mode=admin`),className:"px-4 py-2 bg-purple-600 hover:bg-purple-700 text-white rounded-lg transition-colors flex items-center gap-2",children:[s.jsx(Ds,{className:"w-5 h-5"}),"Voir (Admin)"]}),s.jsxs("button",{onClick:()=>t(`/admin/calculation-sheets/${e}?mode=user`),className:"px-4 py-2 bg-blue-600 hover:bg-blue-700 text-white rounded-lg transition-colors flex items-center gap-2",children:[s.jsx(Ds,{className:"w-5 h-5"}),"Voir (Utilisateur)"]})]}),s.jsx("button",{onClick:()=>t("/admin/calculation-sheets"),className:"px-4 py-2 bg-gray-600 hover:bg-gray-700 text-white rounded-lg transition-colors flex items-center gap-2",children:"Retour  la liste"})]})]}),s.jsxs("div",{className:"flex-1 flex min-h-0",children:[s.jsxs("div",{className:"w-64 bg-white border-r border-gray-200 flex-shrink-0 p-4",children:[s.jsx("h3",{className:"font-semibold text-gray-900 mb-3",children:"Composants"}),s.jsx("div",{className:"space-y-2",children:D.map(F=>{const q=F.icon;return s.jsxs("div",{draggable:!0,onDragStart:()=>H(F.type),className:`${F.color} text-white rounded-lg p-3 cursor-move hover:opacity-90 transition-opacity flex items-center gap-2`,children:[s.jsx(q,{className:"w-5 h-5"}),s.jsx("span",{className:"font-medium",children:F.label})]},F.type)})}),s.jsxs("div",{className:"mt-6 p-3 bg-blue-50 rounded-lg text-sm text-blue-800",children:[s.jsx("p",{className:"font-medium mb-1",children:" Glisser-dposer"}),s.jsx("p",{className:"text-xs",children:"Faites glisser un composant sur le canvas pour l'ajouter"})]})]}),s.jsx("div",{className:"flex-1 bg-gray-100 overflow-auto p-4 min-w-0",children:s.jsxs("div",{ref:T,onDragOver:U,onDrop:G,onMouseMove:te,onMouseUp:de,className:"relative bg-white rounded-lg shadow-sm",style:{width:`${E.width}px`,height:`${E.height}px`,backgroundImage:b?"linear-gradient(#e5e7eb 1px, transparent 1px), linear-gradient(90deg, #e5e7eb 1px, transparent 1px)":"none",backgroundSize:b?"20px 20px":"auto"},children:[r.map(F=>{const q=F.id===a,W=D.find(ue=>ue.type===F.type),Q=F.type==="frame",oe=F.visibility?.hidden;return Q?s.jsxs("div",{onMouseDown:ue=>{ue.target.classList.contains("resize-handle")||L(ue,F.id)},onClick:ue=>{ue.stopPropagation(),i(F.id)},className:`absolute border-2 rounded-lg ${oe?"opacity-50":""} ${q?"border-orange-500 bg-orange-50/30":"border-orange-300 bg-orange-50/10 hover:border-orange-400"}`,style:{left:F.layout.x,top:F.layout.y,width:F.layout.w,height:F.layout.h},children:[s.jsxs("div",{className:"bg-orange-500 text-white px-3 py-1 rounded-t font-semibold text-sm cursor-move flex items-center justify-between",children:[s.jsx("span",{children:F.props.label||"Cadre"}),oe&&s.jsx(Xs,{className:"w-4 h-4"})]}),q&&s.jsxs(s.Fragment,{children:[s.jsxs("div",{className:"absolute -top-2 -right-2 flex gap-1",children:[s.jsx("button",{onClick:ue=>{ue.stopPropagation(),le(F.id)},className:"w-6 h-6 bg-blue-500 hover:bg-blue-600 text-white rounded-full flex items-center justify-center",title:"Dupliquer",children:s.jsx(D0,{className:"w-3 h-3"})}),s.jsx("button",{onClick:ue=>{ue.stopPropagation(),xe(F.id)},className:"w-6 h-6 bg-red-500 hover:bg-red-600 text-white rounded-full flex items-center justify-center",title:"Supprimer",children:s.jsx(Fn,{className:"w-3 h-3"})})]}),s.jsx("div",{className:"resize-handle absolute -bottom-2 -right-2 w-4 h-4 bg-orange-500 rounded-full cursor-se-resize border-2 border-white",onMouseDown:ue=>{ue.stopPropagation(),ne(ue,F.id,"se")},title:"Redimensionner"}),s.jsx("div",{className:"resize-handle absolute -bottom-2 left-1/2 -translate-x-1/2 w-4 h-4 bg-orange-500 rounded-full cursor-s-resize border-2 border-white",onMouseDown:ue=>{ue.stopPropagation(),ne(ue,F.id,"s")},title:"Redimensionner"}),s.jsx("div",{className:"resize-handle absolute top-1/2 -translate-y-1/2 -right-2 w-4 h-4 bg-orange-500 rounded-full cursor-e-resize border-2 border-white",onMouseDown:ue=>{ue.stopPropagation(),ne(ue,F.id,"e")},title:"Redimensionner"})]})]},F.id):F.type==="link"?s.jsxs("div",{onMouseDown:ue=>{ue.target.classList.contains("resize-handle")||L(ue,F.id)},onClick:ue=>{ue.stopPropagation(),i(F.id)},className:`absolute cursor-move border-2 rounded-lg px-3 py-2 ${oe?"opacity-50":""} ${q?"border-cyan-500 bg-cyan-50":"border-cyan-300 bg-white hover:border-cyan-400"}`,style:{left:F.layout.x,top:F.layout.y,width:F.layout.w,height:F.layout.h},children:[s.jsxs("div",{className:"flex items-center gap-2 h-full",children:[s.jsx(qx,{className:"w-4 h-4 text-cyan-600 flex-shrink-0"}),s.jsxs("div",{className:"flex-1 min-w-0",children:[s.jsx("div",{className:"text-sm font-medium text-cyan-900 truncate",children:F.props.label||"Lien"}),F.props.url&&s.jsx("div",{className:"text-xs text-cyan-600 truncate",children:F.props.url})]}),oe&&s.jsx(Xs,{className:"w-4 h-4 text-gray-400 flex-shrink-0"})]}),q&&s.jsxs(s.Fragment,{children:[s.jsxs("div",{className:"absolute -top-2 -right-2 flex gap-1",children:[s.jsx("button",{onClick:ue=>{ue.stopPropagation(),le(F.id)},className:"w-6 h-6 bg-cyan-500 hover:bg-cyan-600 text-white rounded-full flex items-center justify-center",title:"Dupliquer",children:s.jsx(D0,{className:"w-3 h-3"})}),s.jsx("button",{onClick:ue=>{ue.stopPropagation(),xe(F.id)},className:"w-6 h-6 bg-red-500 hover:bg-red-600 text-white rounded-full flex items-center justify-center",title:"Supprimer",children:s.jsx(Fn,{className:"w-3 h-3"})})]}),s.jsx("div",{className:"resize-handle absolute -bottom-2 -right-2 w-4 h-4 bg-cyan-500 rounded-full cursor-se-resize border-2 border-white",onMouseDown:ue=>{ue.stopPropagation(),ne(ue,F.id,"se")},title:"Redimensionner"}),s.jsx("div",{className:"resize-handle absolute -bottom-2 left-1/2 -translate-x-1/2 w-4 h-4 bg-cyan-500 rounded-full cursor-s-resize border-2 border-white",onMouseDown:ue=>{ue.stopPropagation(),ne(ue,F.id,"s")},title:"Redimensionner"}),s.jsx("div",{className:"resize-handle absolute top-1/2 -translate-y-1/2 -right-2 w-4 h-4 bg-cyan-500 rounded-full cursor-e-resize border-2 border-white",onMouseDown:ue=>{ue.stopPropagation(),ne(ue,F.id,"e")},title:"Redimensionner"})]})]},F.id):s.jsxs("div",{onMouseDown:ue=>{ue.target.classList.contains("resize-handle")||L(ue,F.id)},onClick:ue=>{ue.stopPropagation(),i(F.id)},className:`absolute cursor-move border-2 rounded-lg px-3 py-2 ${oe?"opacity-50":""} ${q?"border-blue-500 bg-blue-50":"border-gray-300 bg-white hover:border-gray-400"}`,style:{left:F.layout.x,top:F.layout.y,width:F.layout.w,height:F.layout.h},children:[s.jsxs("div",{className:"flex items-center gap-2 h-full",children:[W&&s.jsx(W.icon,{className:"w-4 h-4 text-gray-500 flex-shrink-0"}),s.jsxs("div",{className:"flex-1 min-w-0",children:[s.jsx("div",{className:"text-sm font-medium text-gray-900 truncate",children:F.props.label||F.type}),F.ref&&s.jsx("div",{className:"text-xs text-gray-500 truncate",children:F.ref})]}),oe&&s.jsx(Xs,{className:"w-4 h-4 text-gray-400 flex-shrink-0"})]}),q&&s.jsxs(s.Fragment,{children:[s.jsxs("div",{className:"absolute -top-2 -right-2 flex gap-1",children:[s.jsx("button",{onClick:ue=>{ue.stopPropagation(),le(F.id)},className:"w-6 h-6 bg-blue-500 hover:bg-blue-600 text-white rounded-full flex items-center justify-center",title:"Dupliquer",children:s.jsx(D0,{className:"w-3 h-3"})}),s.jsx("button",{onClick:ue=>{ue.stopPropagation(),xe(F.id)},className:"w-6 h-6 bg-red-500 hover:bg-red-600 text-white rounded-full flex items-center justify-center",title:"Supprimer",children:s.jsx(Fn,{className:"w-3 h-3"})})]}),s.jsx("div",{className:"resize-handle absolute -bottom-2 -right-2 w-4 h-4 bg-blue-500 rounded-full cursor-se-resize border-2 border-white",onMouseDown:ue=>{ue.stopPropagation(),ne(ue,F.id,"se")},title:"Redimensionner"}),s.jsx("div",{className:"resize-handle absolute -bottom-2 left-1/2 -translate-x-1/2 w-4 h-4 bg-blue-500 rounded-full cursor-s-resize border-2 border-white",onMouseDown:ue=>{ue.stopPropagation(),ne(ue,F.id,"s")},title:"Redimensionner"}),s.jsx("div",{className:"resize-handle absolute top-1/2 -translate-y-1/2 -right-2 w-4 h-4 bg-blue-500 rounded-full cursor-e-resize border-2 border-white",onMouseDown:ue=>{ue.stopPropagation(),ne(ue,F.id,"e")},title:"Redimensionner"})]})]},F.id)}),r.length===0&&s.jsx("div",{className:"absolute inset-0 flex items-center justify-center text-gray-400",children:s.jsxs("div",{className:"text-center",children:[s.jsx(Ya,{className:"w-16 h-16 mx-auto mb-4 opacity-30"}),s.jsx("p",{className:"text-lg font-medium",children:"Glissez des composants ici"}),s.jsx("p",{className:"text-sm mt-1",children:"Commencez par ajouter des champs depuis la barre d'outils"})]})})]})}),s.jsx("div",{className:"w-80 bg-white border-l border-gray-200 flex-shrink-0 overflow-y-auto",children:s.jsxs("div",{className:"p-4",children:[s.jsx("h3",{className:"font-semibold text-gray-900 mb-3",children:"Proprits"}),s.jsxs("div",{className:"mb-4 pb-4 border-b border-gray-200",children:[s.jsx("h4",{className:"font-medium text-gray-900 mb-3",children:"Taille du Canvas"}),s.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-xs font-medium text-gray-700 mb-1",children:"Largeur (px)"}),s.jsx("input",{type:"number",value:E.width,onChange:F=>j({...E,width:Math.max(800,parseInt(F.target.value)||1200)}),min:"800",step:"100",className:"w-full px-2 py-1 border border-gray-300 rounded text-sm"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-xs font-medium text-gray-700 mb-1",children:"Hauteur (px)"}),s.jsx("input",{type:"number",value:E.height,onChange:F=>j({...E,height:Math.max(600,parseInt(F.target.value)||800)}),min:"600",step:"100",className:"w-full px-2 py-1 border border-gray-300 rounded text-sm"})]})]}),s.jsxs("div",{className:"mt-2 flex gap-2",children:[s.jsx("button",{onClick:()=>j({width:1200,height:800}),className:"flex-1 px-2 py-1 bg-gray-100 hover:bg-gray-200 text-gray-700 rounded text-xs",children:"Standard"}),s.jsx("button",{onClick:()=>j({width:1600,height:1200}),className:"flex-1 px-2 py-1 bg-gray-100 hover:bg-gray-200 text-gray-700 rounded text-xs",children:"Large"}),s.jsx("button",{onClick:()=>j({width:2e3,height:1600}),className:"flex-1 px-2 py-1 bg-gray-100 hover:bg-gray-200 text-gray-700 rounded text-xs",children:"XL"})]})]}),M?s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Type"}),s.jsx("div",{className:"px-3 py-2 bg-gray-100 rounded text-sm font-medium text-gray-900",children:D.find(F=>F.type===M.type)?.label})]}),M.type!=="label"&&M.type!=="frame"&&M.type!=="link"&&s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Rfrence"}),s.jsx("input",{type:"text",value:M.ref||"",onChange:F=>Z(M.id,"ref",F.target.value.toUpperCase()),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500",placeholder:"EX: MONTANT_TOTAL"})]}),M.type==="file"&&s.jsxs(s.Fragment,{children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Types de fichiers accepts"}),s.jsx("input",{type:"text",value:M.props.accept||"",onChange:F=>Z(M.id,"props.accept",F.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500",placeholder:".pdf,.jpg,.png"}),s.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"Sparez par des virgules (ex: .pdf,.jpg,.png)"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Taille maximum (MB)"}),s.jsx("input",{type:"number",min:"1",max:"50",value:M.props.maxSize||5,onChange:F=>Z(M.id,"props.maxSize",parseInt(F.target.value)||5),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500"})]})]}),M.type==="link"&&s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"URL du lien"}),s.jsx("input",{type:"url",value:M.props.url||"",onChange:F=>Z(M.id,"props.url",F.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500",placeholder:"https://example.com"}),s.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"Le lien s'ouvrira dans un nouvel onglet"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Label"}),s.jsx("input",{type:"text",value:M.props.label||"",onChange:F=>Z(M.id,"props.label",F.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500"})]}),M.type==="formula"&&s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Expression"}),s.jsx("textarea",{value:M.props.expression||"",onChange:F=>Z(M.id,"props.expression",F.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 font-mono text-sm",rows:3,placeholder:"EX: HEURES_REAL*TARIF_H"})]}),(M.type==="number"||M.type==="formula")&&s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Dcimales"}),s.jsx("input",{type:"number",min:"0",max:"10",value:M.props.decimals||0,onChange:F=>Z(M.id,"props.decimals",parseInt(F.target.value)||0),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500"})]}),M.type==="number"&&s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Valeur par dfaut"}),s.jsx("input",{type:"number",step:"0.01",value:typeof M.props.default=="number"||typeof M.props.default=="string"?M.props.default:0,onChange:F=>Z(M.id,"props.default",parseFloat(F.target.value)||0),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500"})]}),s.jsxs("div",{className:"pt-4 border-t border-gray-200",children:[s.jsx("h4",{className:"font-medium text-gray-900 mb-3",children:"Position & Taille"}),s.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-xs font-medium text-gray-700 mb-1",children:"X"}),s.jsx("input",{type:"number",value:M.layout.x,onChange:F=>Z(M.id,"layout.x",parseInt(F.target.value)||0),className:"w-full px-2 py-1 border border-gray-300 rounded text-sm"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-xs font-medium text-gray-700 mb-1",children:"Y"}),s.jsx("input",{type:"number",value:M.layout.y,onChange:F=>Z(M.id,"layout.y",parseInt(F.target.value)||0),className:"w-full px-2 py-1 border border-gray-300 rounded text-sm"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-xs font-medium text-gray-700 mb-1",children:"Largeur"}),s.jsx("input",{type:"number",value:M.layout.w,onChange:F=>Z(M.id,"layout.w",parseInt(F.target.value)||50),className:"w-full px-2 py-1 border border-gray-300 rounded text-sm"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-xs font-medium text-gray-700 mb-1",children:"Hauteur"}),s.jsx("input",{type:"number",value:M.layout.h,onChange:F=>Z(M.id,"layout.h",parseInt(F.target.value)||30),className:"w-full px-2 py-1 border border-gray-300 rounded text-sm"})]})]})]}),s.jsxs("div",{className:"pt-4 border-t border-gray-200",children:[s.jsx("h4",{className:"font-medium text-gray-900 mb-3",children:"Visibilit"}),s.jsxs("label",{className:"flex items-center gap-3 p-3 bg-gray-50 rounded-lg cursor-pointer hover:bg-gray-100",children:[s.jsx("input",{type:"checkbox",checked:M.visibility?.hidden||!1,onChange:F=>{const q={...M.visibility,hidden:F.target.checked};Z(M.id,"visibility",q)},className:"w-5 h-5 text-blue-600 border-gray-300 rounded focus:ring-blue-500"}),s.jsxs("div",{className:"flex-1",children:[s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(Xs,{className:"w-4 h-4 text-gray-600"}),s.jsx("span",{className:"font-medium text-gray-900",children:"Masquer pour les professeurs"})]}),s.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"Ce champ sera invisible dans le mode test et pour les professeurs"})]})]})]}),s.jsxs("div",{className:"pt-4 border-t border-gray-200",children:[s.jsx("h4",{className:"font-medium text-gray-900 mb-3",children:"Actions"}),s.jsxs("div",{className:"flex gap-2",children:[s.jsxs("button",{onClick:()=>Se(M.id,"up"),className:"flex-1 px-3 py-2 bg-gray-100 hover:bg-gray-200 text-gray-700 rounded-lg text-sm flex items-center justify-center gap-1",children:[s.jsx(cH,{className:"w-4 h-4"}),"Avant"]}),s.jsxs("button",{onClick:()=>Se(M.id,"down"),className:"flex-1 px-3 py-2 bg-gray-100 hover:bg-gray-200 text-gray-700 rounded-lg text-sm flex items-center justify-center gap-1",children:[s.jsx(sH,{className:"w-4 h-4"}),"Arrire"]})]})]})]}):s.jsx("div",{className:"text-center py-12 text-gray-400",children:s.jsx("p",{children:"Slectionnez un champ pour voir ses proprits"})})]})})]})]})}const Hi={async getAll(e){const t=e?{professor_id:e}:void 0;return Qe.get("/declarations",t)},async getById(e){try{return await Qe.get(`/declarations/${e}`)}catch(t){if(t instanceof Error&&"status"in t&&t.status===404)return null;throw t}},async create(e){return Qe.post("/declarations",e)},async update(e){const{id:t,...r}=e;return Qe.put(`/declarations/${t}`,r)},async delete(e){return Qe.delete(`/declarations/${e}`)}};function uie(e){return ir({queryKey:["admin-declarations",e],queryFn:async()=>{const t=await Hi.getAll();return e&&e!=="all"?t.filter(r=>r.status===e):t}})}function fie(){const e=Dt();return Ft({mutationFn:async t=>Hi.update({id:t,status:"approuvee"}),onSuccess:()=>{e.invalidateQueries({queryKey:["admin-declarations"]}),e.invalidateQueries({queryKey:["admin-declaration"]})}})}function vL(){const e=Dt();return Ft({mutationFn:async({id:t,reason:r})=>Hi.update({id:t,status:"refusee",rejection_reason:r}),onSuccess:()=>{e.invalidateQueries({queryKey:["admin-declarations"]}),e.invalidateQueries({queryKey:["admin-declaration"]})}})}function die(){const e=Dt();return Ft({mutationFn:async({id:t,reason:r})=>{const n=await Hi.getById(t);if(!n)throw new Error("Dclaration non trouve");return Hi.update({id:t,form_data:n.form_data,status:"en_cours",rejection_reason:r})},onSuccess:()=>{e.invalidateQueries({queryKey:["admin-declarations"]}),e.invalidateQueries({queryKey:["admin-declaration"]})}})}function hie(e){return ir({queryKey:["admin-declaration",e],queryFn:()=>Hi.getById(e),enabled:!!e})}const yL=die;function bL(){const e=Dt();return Ft({mutationFn:t=>Hi.delete(t),onSuccess:()=>{e.invalidateQueries({queryKey:["admin-declarations"]})}})}function mie(){return ir({queryKey:["declaration-stats"],queryFn:async()=>{const e=await Hi.getAll();return{total:e.length,soumises:e.filter(t=>t.status==="soumise").length,en_cours:e.filter(t=>t.status==="en_cours").length,approuvees:e.filter(t=>t.status==="approuvee").length,refusees:e.filter(t=>t.status==="refusee").length,brouillon:e.filter(t=>t.status==="brouillon").length,a_declarer:e.filter(t=>t.status==="a_declarer").length}}})}function pie(){const e=Dt();return Ft({mutationFn:async t=>Hi.update(t),onSuccess:()=>{e.invalidateQueries({queryKey:["admin-declarations"]}),e.invalidateQueries({queryKey:["admin-declaration"]}),e.invalidateQueries({queryKey:["professor-declarations"]})}})}function xie({declaration:e,onClose:t}){const[r,n]=k.useState({segment_id:e.segment_id,city_id:e.city_id,start_date:e.start_date.split("T")[0],end_date:e.end_date.split("T")[0],status:e.status}),{data:a=[]}=gh(),{data:i=[]}=Fg(),l=pie(),o=i.filter(f=>f.segment_id===r.segment_id);k.useEffect(()=>{r.segment_id&&r.city_id&&(i.find(h=>h.id===r.city_id&&h.segment_id===r.segment_id)||n(h=>({...h,city_id:""})))},[r.segment_id,r.city_id,i]);const u=async f=>{if(f.preventDefault(),!r.segment_id||!r.city_id||!r.start_date||!r.end_date){alert("Veuillez remplir tous les champs obligatoires");return}if(new Date(r.end_date)<new Date(r.start_date)){alert("La date de fin doit tre postrieure  la date de dbut");return}try{await l.mutateAsync({id:e.id,...r}),t()}catch(h){console.error("Erreur lors de la modification:",h),alert("Erreur lors de la modification de la dclaration")}};return s.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:s.jsxs("div",{className:"bg-white rounded-lg shadow-xl w-full max-w-2xl max-h-[90vh] overflow-y-auto",children:[s.jsxs("div",{className:"flex items-center justify-between p-4 sm:p-6 border-b border-gray-200",children:[s.jsxs("div",{className:"flex items-center gap-2 sm:gap-3 min-w-0",children:[s.jsx("div",{className:"w-8 h-8 sm:w-10 sm:h-10 bg-blue-100 rounded-lg flex items-center justify-center flex-shrink-0",children:s.jsx(uh,{className:"w-5 h-5 sm:w-6 sm:h-6 text-blue-600"})}),s.jsxs("div",{className:"min-w-0",children:[s.jsx("h2",{className:"text-lg sm:text-xl font-bold text-gray-900 truncate",children:"Modifier la dclaration"}),s.jsxs("p",{className:"text-xs sm:text-sm text-gray-500 truncate",children:["Professeur: ",e.professor_name]})]})]}),s.jsx("button",{onClick:t,className:"text-gray-400 hover:text-gray-600 transition-colors flex-shrink-0 ml-2",children:s.jsx(ta,{className:"w-5 h-5 sm:w-6 sm:h-6"})})]}),s.jsxs("form",{onSubmit:u,className:"p-4 sm:p-6 space-y-4 sm:space-y-6",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Segment de formation *"}),s.jsxs("div",{className:"relative",children:[s.jsx(zx,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 w-5 h-5"}),s.jsxs("select",{required:!0,value:r.segment_id,onChange:f=>n({...r,segment_id:f.target.value}),className:"w-full pl-10 pr-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent appearance-none",children:[s.jsx("option",{value:"",children:"Slectionnez un segment"}),a.map(f=>s.jsx("option",{value:f.id,children:f.name},f.id))]})]})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Ville *"}),s.jsxs("div",{className:"relative",children:[s.jsx(Cs,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 w-5 h-5"}),s.jsxs("select",{required:!0,value:r.city_id,onChange:f=>n({...r,city_id:f.target.value}),className:"w-full pl-10 pr-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent appearance-none",disabled:!r.segment_id,children:[s.jsx("option",{value:"",children:"Slectionnez une ville"}),o.map(f=>s.jsx("option",{value:f.id,children:f.name},f.id))]})]}),!r.segment_id&&s.jsx("p",{className:"mt-1 text-xs text-amber-600",children:"Veuillez d'abord slectionner un segment"}),r.segment_id&&o.length===0&&s.jsx("p",{className:"mt-1 text-xs text-amber-600",children:"Aucune ville disponible pour ce segment"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Date de dbut *"}),s.jsxs("div",{className:"relative",children:[s.jsx(_i,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 w-5 h-5"}),s.jsx("input",{type:"date",required:!0,value:r.start_date,onChange:f=>n({...r,start_date:f.target.value}),className:"w-full pl-10 pr-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent"})]})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Date de fin *"}),s.jsxs("div",{className:"relative",children:[s.jsx(_i,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 w-5 h-5"}),s.jsx("input",{type:"date",required:!0,value:r.end_date,onChange:f=>n({...r,end_date:f.target.value}),className:"w-full pl-10 pr-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent"})]})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Statut *"}),s.jsxs("div",{className:"relative",children:[s.jsx(WV,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 w-5 h-5"}),s.jsxs("select",{required:!0,value:r.status,onChange:f=>n({...r,status:f.target.value}),className:"w-full pl-10 pr-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent appearance-none",children:[s.jsx("option",{value:"brouillon",children:"Brouillon"}),s.jsx("option",{value:"a_declarer",children:" dclarer"}),s.jsx("option",{value:"en_cours",children:"En cours"}),s.jsx("option",{value:"soumise",children:"Soumise"}),s.jsx("option",{value:"approuvee",children:"Approuve"}),s.jsx("option",{value:"refusee",children:"Refuse"})]})]}),s.jsx("p",{className:"mt-1 text-xs text-gray-500",children:"Vous pouvez changer le statut (ex: de brouillon   dclarer)"})]}),s.jsxs("div",{className:"flex gap-3 pt-4 border-t border-gray-200",children:[s.jsx("button",{type:"button",onClick:t,className:"flex-1 px-4 py-2 border border-gray-300 text-gray-700 rounded-lg hover:bg-gray-50 transition-colors",children:"Annuler"}),s.jsx("button",{type:"submit",disabled:l.isPending,className:"flex-1 px-4 py-2 bg-blue-600 hover:bg-blue-700 text-white rounded-lg transition-colors disabled:opacity-50 disabled:cursor-not-allowed",children:l.isPending?"Modification...":"Modifier"})]})]})]})})}const gie=()=>{const e=Pn(),[t,r]=k.useState("all"),[n,a]=k.useState("all"),[i,l]=k.useState("all"),[o,u]=k.useState("all"),[f,h]=k.useState(null),[m,g]=k.useState(""),[x,b]=k.useState(!1),[v,w]=k.useState(!1),[N,E]=k.useState(!1),[j,T]=k.useState(null),{data:O=[],isLoading:P}=uie(t),{data:D}=mie(),M=vL(),B=yL(),H=bL(),L=Ju.useMemo(()=>Array.from(new Set(O.map(re=>re.professor_name))).sort(),[O]),U=Ju.useMemo(()=>Array.from(new Set(O.map(re=>re.city_name))).sort(),[O]),G=Ju.useMemo(()=>Array.from(new Set(O.map(re=>re.segment_name))).sort(),[O]),te=Ju.useMemo(()=>O.filter(Se=>!(n!=="all"&&Se.professor_name!==n||i!=="all"&&Se.city_name!==i||o!=="all"&&Se.segment_name!==o)),[O,n,i,o]),de={brouillon:{label:"Brouillon",color:"bg-gray-100 text-gray-800",bgColor:"bg-gray-50 border-gray-200",hoverColor:"hover:bg-gray-100",icon:ks},a_declarer:{label:" dclarer",color:"bg-orange-100 text-orange-800",bgColor:"bg-orange-50 border-orange-200",hoverColor:"hover:bg-orange-100",icon:en},soumise:{label:"Soumise",color:"bg-blue-100 text-blue-800",bgColor:"bg-blue-50 border-blue-200",hoverColor:"hover:bg-blue-100",icon:As},en_cours:{label:"En cours",color:"bg-yellow-100 text-yellow-800",bgColor:"bg-yellow-50 border-yellow-200",hoverColor:"hover:bg-yellow-100",icon:en},approuvee:{label:"Approuve",color:"bg-green-100 text-green-800",bgColor:"bg-green-50 border-green-200",hoverColor:"hover:bg-green-100",icon:Xa},refusee:{label:"Refuse",color:"bg-red-100 text-red-800",bgColor:"bg-red-50 border-red-200",hoverColor:"hover:bg-red-100",icon:pf}},ne=async()=>{if(!f||!m.trim()){alert("Veuillez fournir un motif de refus");return}try{await M.mutateAsync({id:f.id,reason:m}),b(!1),g(""),h(null)}catch(Se){console.error("Error rejecting declaration:",Se),alert("Erreur lors du refus")}},Z=async()=>{if(!f||!m.trim()){alert("Veuillez fournir un motif de demande de modification");return}try{await B.mutateAsync({id:f.id,reason:m}),w(!1),g(""),h(null)}catch(Se){console.error("Error requesting modification:",Se),alert("Erreur lors de la demande de modification")}},xe=async Se=>{const re=`tes-vous sr de vouloir supprimer cette dclaration de ${Se.professor_name} ?

Cette action est irrversible.`;if(confirm(re))try{await H.mutateAsync(Se.id)}catch(R){console.error("Error deleting declaration:",R),alert("Erreur lors de la suppression de la dclaration")}},le=Se=>new Date(Se).toLocaleDateString("fr-FR",{day:"2-digit",month:"2-digit",year:"numeric"});return s.jsxs("div",{className:"min-h-screen bg-gray-50",children:[s.jsx("header",{className:"bg-white shadow-sm",children:s.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-3 sm:py-4",children:s.jsxs("div",{className:"flex flex-col sm:flex-row items-start sm:items-center gap-3 sm:gap-4",children:[s.jsxs(Ge,{variant:"outline",size:"sm",onClick:()=>e("/dashboard"),className:"w-full sm:w-auto",children:[s.jsx(Hn,{className:"w-4 h-4 mr-2"}),"Retour"]}),s.jsxs("div",{children:[s.jsx("h1",{className:"text-xl sm:text-2xl font-bold text-gray-900",children:"Gestion des Dclarations"}),s.jsx("p",{className:"text-xs sm:text-sm text-gray-600 hidden sm:block",children:"Valider, refuser ou demander des modifications"})]})]})})}),s.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-6 sm:py-8",children:[D&&s.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 md:grid-cols-3 lg:grid-cols-6 gap-3 sm:gap-4 mb-6",children:[s.jsx(Ur,{children:s.jsx(zr,{className:"pt-6",children:s.jsxs("div",{className:"text-center",children:[s.jsx("p",{className:"text-2xl font-bold text-gray-900",children:D.total}),s.jsx("p",{className:"text-sm text-gray-600",children:"Total"})]})})}),s.jsx(Ur,{children:s.jsx(zr,{className:"pt-6",children:s.jsxs("div",{className:"text-center",children:[s.jsx("p",{className:"text-2xl font-bold text-orange-600",children:D.a_declarer||0}),s.jsx("p",{className:"text-sm text-gray-600",children:" dclarer"})]})})}),s.jsx(Ur,{children:s.jsx(zr,{className:"pt-6",children:s.jsxs("div",{className:"text-center",children:[s.jsx("p",{className:"text-2xl font-bold text-blue-600",children:D.soumises}),s.jsx("p",{className:"text-sm text-gray-600",children:"Soumises"})]})})}),s.jsx(Ur,{children:s.jsx(zr,{className:"pt-6",children:s.jsxs("div",{className:"text-center",children:[s.jsx("p",{className:"text-2xl font-bold text-yellow-600",children:D.en_cours}),s.jsx("p",{className:"text-sm text-gray-600",children:"En cours"})]})})}),s.jsx(Ur,{children:s.jsx(zr,{className:"pt-6",children:s.jsxs("div",{className:"text-center",children:[s.jsx("p",{className:"text-2xl font-bold text-green-600",children:D.approuvees}),s.jsx("p",{className:"text-sm text-gray-600",children:"Approuves"})]})})}),s.jsx(Ur,{children:s.jsx(zr,{className:"pt-6",children:s.jsxs("div",{className:"text-center",children:[s.jsx("p",{className:"text-2xl font-bold text-red-600",children:D.refusees}),s.jsx("p",{className:"text-sm text-gray-600",children:"Refuses"})]})})})]}),s.jsxs(Ur,{className:"mb-6",children:[s.jsx(hf,{children:s.jsx(mf,{children:"Filtres"})}),s.jsxs(zr,{children:[s.jsxs("div",{className:"mb-4",children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Par statut"}),s.jsxs("div",{className:"flex flex-wrap gap-2",children:[s.jsx(Ge,{variant:t==="all"?"default":"outline",onClick:()=>r("all"),children:"Toutes"}),s.jsx(Ge,{variant:t==="a_declarer"?"default":"outline",onClick:()=>r("a_declarer"),children:" dclarer"}),s.jsx(Ge,{variant:t==="soumise"?"default":"outline",onClick:()=>r("soumise"),children:"Soumises"}),s.jsx(Ge,{variant:t==="en_cours"?"default":"outline",onClick:()=>r("en_cours"),children:"En cours"}),s.jsx(Ge,{variant:t==="approuvee"?"default":"outline",onClick:()=>r("approuvee"),children:"Approuves"}),s.jsx(Ge,{variant:t==="refusee"?"default":"outline",onClick:()=>r("refusee"),children:"Refuses"})]})]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Par professeur"}),s.jsxs("select",{value:n,onChange:Se=>a(Se.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent bg-white",children:[s.jsx("option",{value:"all",children:"Tous les professeurs"}),L.filter(Se=>Se!==void 0).map(Se=>s.jsx("option",{value:Se,children:Se},Se))]})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Par ville"}),s.jsxs("select",{value:i,onChange:Se=>l(Se.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent bg-white",children:[s.jsx("option",{value:"all",children:"Toutes les villes"}),U.filter(Se=>Se!==void 0).map(Se=>s.jsx("option",{value:Se,children:Se},Se))]})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Par segment"}),s.jsxs("select",{value:o,onChange:Se=>u(Se.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent bg-white",children:[s.jsx("option",{value:"all",children:"Tous les segments"}),G.filter(Se=>Se!==void 0).map(Se=>s.jsx("option",{value:Se,children:Se},Se))]})]})]})]})]}),s.jsxs(Ur,{children:[s.jsx(hf,{children:s.jsxs(mf,{children:["Dclarations (",te.length,")"]})}),s.jsx(zr,{children:P?s.jsxs("div",{className:"text-center py-8",children:[s.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-blue-600 mx-auto"}),s.jsx("p",{className:"text-gray-600 mt-2",children:"Chargement..."})]}):te.length===0?s.jsxs("div",{className:"text-center py-8",children:[s.jsx(ks,{className:"w-12 h-12 text-gray-400 mx-auto mb-2"}),s.jsx("p",{className:"text-gray-600",children:"Aucune dclaration trouve"})]}):s.jsx("div",{className:"space-y-4",children:te.map(Se=>{const re=de[Se.status].icon,R=de[Se.status];return s.jsx("div",{className:`border rounded-lg p-4 transition-all ${R.bgColor} ${R.hoverColor}`,children:s.jsxs("div",{className:"flex items-start justify-between",children:[s.jsxs("div",{className:"flex-1",children:[s.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[s.jsx("h3",{className:"font-semibold text-gray-900",children:Se.professor_name}),s.jsxs("span",{className:`px-2 py-1 rounded-full text-xs font-medium flex items-center gap-1 ${R.color}`,children:[s.jsx(re,{className:"w-3 h-3"}),R.label]})]}),s.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-2 text-sm text-gray-600",children:[s.jsxs("div",{children:[s.jsx("span",{className:"font-medium",children:"Segment:"})," ",Se.segment_name]}),s.jsxs("div",{children:[s.jsx("span",{className:"font-medium",children:"Ville:"})," ",Se.city_name]}),s.jsxs("div",{children:[s.jsx("span",{className:"font-medium",children:"Priode:"})," ",le(Se.start_date)," - ",le(Se.end_date)]}),s.jsxs("div",{children:[s.jsx("span",{className:"font-medium",children:"Soumise le:"})," ",Se.submitted_at?le(Se.submitted_at):"N/A"]})]}),Se.rejection_reason&&s.jsxs("div",{className:"mt-2 p-2 bg-red-50 border border-red-200 rounded text-sm text-red-700",children:[s.jsx("span",{className:"font-medium",children:"Motif:"})," ",Se.rejection_reason]})]}),s.jsxs("div",{className:"flex gap-2 ml-4 flex-shrink-0",children:[s.jsx(Ge,{variant:"outline",size:"sm",onClick:()=>{T(Se),E(!0)},className:"bg-white hover:bg-purple-50 border-purple-300",title:"Modifier les mtadonnes",children:s.jsx(uh,{className:"w-4 h-4"})}),s.jsxs(Ge,{variant:"outline",size:"sm",onClick:()=>e(`/admin/declarations/${Se.id}`),className:"bg-white hover:bg-blue-50 border-blue-300",children:[s.jsx(o2,{className:"w-4 h-4 mr-1"}),"Ouvrir"]}),s.jsx(Ge,{variant:"outline",size:"sm",className:"bg-white text-red-600 hover:bg-red-50 border-red-300",onClick:()=>xe(Se),children:s.jsx(Fn,{className:"w-4 h-4"})})]})]})},Se.id)})})})]})]}),f&&!x&&!v&&s.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:s.jsx("div",{className:"bg-white rounded-lg shadow-xl max-w-2xl w-full max-h-[80vh] overflow-y-auto",children:s.jsxs("div",{className:"p-6",children:[s.jsx("h2",{className:"text-xl font-bold mb-4",children:"Dtails de la dclaration"}),s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{children:[s.jsx("span",{className:"font-medium",children:"Professeur:"})," ",f.professor_name]}),s.jsxs("div",{children:[s.jsx("span",{className:"font-medium",children:"Segment:"})," ",f.segment_name]}),s.jsxs("div",{children:[s.jsx("span",{className:"font-medium",children:"Ville:"})," ",f.city_name]}),s.jsxs("div",{children:[s.jsx("span",{className:"font-medium",children:"Fiche de calcul:"})," ",f.sheet_title]}),s.jsxs("div",{children:[s.jsx("span",{className:"font-medium",children:"Priode:"})," ",le(f.start_date)," - ",le(f.end_date)]}),s.jsxs("div",{children:[s.jsx("span",{className:"font-medium",children:"Statut:"})," ",s.jsx("span",{className:`px-2 py-1 rounded-full text-xs font-medium ${de[f.status].color}`,children:de[f.status].label})]}),f.form_data&&s.jsxs("div",{children:[s.jsx("span",{className:"font-medium",children:"Donnes du formulaire:"}),s.jsx("pre",{className:"mt-2 p-4 bg-gray-100 rounded text-sm overflow-x-auto",children:JSON.stringify(JSON.parse(f.form_data),null,2)})]})]}),s.jsx("div",{className:"flex justify-end gap-2 mt-6",children:s.jsx(Ge,{variant:"outline",onClick:()=>h(null),children:"Fermer"})})]})})}),x&&f&&s.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:s.jsx("div",{className:"bg-white rounded-lg shadow-xl max-w-md w-full",children:s.jsxs("div",{className:"p-6",children:[s.jsx("h2",{className:"text-xl font-bold mb-4",children:"Refuser la dclaration"}),s.jsxs("p",{className:"text-sm text-gray-600 mb-4",children:["Veuillez fournir un motif de refus pour la dclaration de"," ",s.jsx("strong",{children:f.professor_name})]}),s.jsx("textarea",{value:m,onChange:Se=>g(Se.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-red-500 focus:border-transparent",rows:4,placeholder:"Motif du refus..."}),s.jsxs("div",{className:"flex justify-end gap-2 mt-6",children:[s.jsx(Ge,{variant:"outline",onClick:()=>{b(!1),g(""),h(null)},children:"Annuler"}),s.jsx(Ge,{className:"bg-red-600 hover:bg-red-700 text-white",onClick:ne,disabled:!m.trim(),children:"Refuser"})]})]})})}),v&&f&&s.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:s.jsx("div",{className:"bg-white rounded-lg shadow-xl max-w-md w-full",children:s.jsxs("div",{className:"p-6",children:[s.jsx("h2",{className:"text-xl font-bold mb-4",children:"Demander une modification"}),s.jsxs("p",{className:"text-sm text-gray-600 mb-4",children:["Veuillez prciser les modifications  apporter pour la dclaration de"," ",s.jsx("strong",{children:f.professor_name})]}),s.jsx("textarea",{value:m,onChange:Se=>g(Se.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-yellow-500 focus:border-transparent",rows:4,placeholder:"Modifications demandes..."}),s.jsxs("div",{className:"flex justify-end gap-2 mt-6",children:[s.jsx(Ge,{variant:"outline",onClick:()=>{w(!1),g(""),h(null)},children:"Annuler"}),s.jsx(Ge,{className:"bg-yellow-600 hover:bg-yellow-700 text-white",onClick:Z,disabled:!m.trim(),children:"Demander"})]})]})})}),N&&j&&s.jsx(xie,{declaration:j,onClose:()=>{E(!1),T(null)}})]})};function vie(){const{user:e}=Ai();return ir({queryKey:["professor-declarations",e?.id],queryFn:()=>Hi.getAll(e?.id),enabled:!!e?.id})}function yie(e){return ir({queryKey:["professor-declaration",e],queryFn:()=>Hi.getById(e),enabled:!!e})}function bie(){const e=Dt(),{user:t}=Ai();return Ft({mutationFn:async r=>{if(!t?.id)throw new Error("Utilisateur non connect");const n=zd();return Hi.create({id:n,professor_id:t.id,...r,form_data:JSON.stringify(r.form_data||{})})},onSuccess:()=>{e.invalidateQueries({queryKey:["professor-declarations"]})}})}function wL(){const e=Dt();return Ft({mutationFn:async t=>Hi.update({id:t.id,form_data:JSON.stringify(t.form_data)}),onSuccess:()=>{e.invalidateQueries({queryKey:["professor-declarations"]}),e.invalidateQueries({queryKey:["professor-declaration"]})}})}function NL(){const e=Dt();return Ft({mutationFn:async t=>{const r=await Hi.getById(t);if(!r)throw new Error("Dclaration non trouve");return Hi.update({id:t,form_data:r.form_data,status:"soumise"})},onSuccess:()=>{e.invalidateQueries({queryKey:["professor-declarations"]}),e.invalidateQueries({queryKey:["professor-declaration"]})}})}function wie(){const e=Dt();return Ft({mutationFn:t=>Hi.delete(t),onSuccess:()=>{e.invalidateQueries({queryKey:["professor-declarations"]})}})}function Nie(){return ir({queryKey:["available-calculation-sheets"],queryFn:async()=>(await Cc.getAll()).filter(t=>t.status==="published")})}function _ie(){const{user:e}=Ai();return ir({queryKey:["professor-segments",e?.id],queryFn:async()=>{if(!e?.id)return[];const t=await so.getById(e.id);return!t||!t.segment_ids?[]:(await qd.getAll()).filter(n=>t.segment_ids?.includes(n.id))},enabled:!!e?.id})}function jie(){const{user:e}=Ai(),t=ir({queryKey:["professor-cities",e?.id],queryFn:async()=>{if(!e?.id)return[];const r=await so.getById(e.id);return!r||!r.city_ids?[]:(await kc.getAll()).filter(a=>r.city_ids?.includes(a.id)).map(a=>({id:a.id,name:a.name,segment_id:a.segment_id,segment_name:a.segment_name}))},enabled:!!e?.id});return{data:t.data,isLoading:t.isLoading}}const Sie=({files:e,currentIndex:t,onClose:r,onNavigate:n})=>{const a=e[t];k.useEffect(()=>{const f=h=>{h.key==="Escape"&&r()};return window.addEventListener("keydown",f),()=>window.removeEventListener("keydown",f)},[r]),k.useEffect(()=>{const f=h=>{h.key==="ArrowLeft"&&t>0?n(t-1):h.key==="ArrowRight"&&t<e.length-1&&n(t+1)};return window.addEventListener("keydown",f),()=>window.removeEventListener("keydown",f)},[t,e.length,n]);const i=()=>{try{const f=a.data.split(",")[1],h=a.data.split(",")[0].split(":")[1].split(";")[0],m=atob(f),g=new ArrayBuffer(m.length),x=new Uint8Array(g);for(let N=0;N<m.length;N++)x[N]=m.charCodeAt(N);const b=new Blob([g],{type:h}),v=URL.createObjectURL(b),w=document.createElement("a");w.href=v,w.download=a.name,w.click(),URL.revokeObjectURL(v)}catch(f){console.error("Erreur lors du tlchargement:",f),alert("Erreur lors du tlchargement du fichier")}},l=f=>f<1024?`${f} B`:f<1024*1024?`${(f/1024).toFixed(2)} KB`:`${(f/(1024*1024)).toFixed(2)} MB`,o=a.type.startsWith("image/"),u=a.type==="application/pdf";return s.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black bg-opacity-75 p-4",onClick:r,children:s.jsxs("div",{className:"relative bg-white rounded-lg shadow-2xl max-w-6xl w-full max-h-[90vh] flex flex-col",onClick:f=>f.stopPropagation(),children:[s.jsxs("div",{className:"flex items-center justify-between p-4 border-b bg-gray-50 rounded-t-lg",children:[s.jsxs("div",{className:"flex-1 min-w-0",children:[s.jsx("h3",{className:"text-lg font-semibold text-gray-900 truncate",children:a.name}),s.jsxs("p",{className:"text-sm text-gray-500",children:[l(a.size),"  ",a.type]})]}),s.jsxs("div",{className:"flex items-center gap-2 ml-4",children:[s.jsxs("button",{onClick:i,className:"flex items-center gap-2 px-3 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors",title:"Tlcharger",children:[s.jsx(Es,{className:"w-4 h-4"}),s.jsx("span",{className:"hidden sm:inline",children:"Tlcharger"})]}),s.jsx("button",{onClick:r,className:"p-2 text-gray-600 hover:bg-gray-200 rounded-lg transition-colors",title:"Fermer (chap)",children:s.jsx(ta,{className:"w-5 h-5"})})]})]}),s.jsx("div",{className:"flex-1 overflow-auto p-6 bg-gray-100",children:o?s.jsx("div",{className:"flex items-center justify-center h-full",children:s.jsx("img",{src:a.data,alt:a.name,className:"max-w-full max-h-full object-contain rounded-lg shadow-lg"})}):u?s.jsx("iframe",{src:a.data,className:"w-full h-full min-h-[600px] rounded-lg shadow-lg",title:a.name}):s.jsxs("div",{className:"flex flex-col items-center justify-center h-full text-center",children:[s.jsx(ks,{className:"w-24 h-24 text-gray-400 mb-4"}),s.jsx("h4",{className:"text-xl font-semibold text-gray-700 mb-2",children:"Prvisualisation non disponible"}),s.jsxs("p",{className:"text-gray-500 mb-6",children:["Ce type de fichier ne peut pas tre prvisualis.",s.jsx("br",{}),`Cliquez sur "Tlcharger" pour l'ouvrir sur votre ordinateur.`]}),s.jsxs("button",{onClick:i,className:"flex items-center gap-2 px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors",children:[s.jsx(Es,{className:"w-4 h-4"}),"Tlcharger le fichier"]})]})}),e.length>1&&s.jsxs("div",{className:"flex items-center justify-between p-4 border-t bg-gray-50",children:[s.jsxs("button",{onClick:()=>n(t-1),disabled:t===0,className:"flex items-center gap-2 px-3 py-2 text-gray-700 bg-white border border-gray-300 rounded-lg hover:bg-gray-100 disabled:opacity-50 disabled:cursor-not-allowed transition-colors",children:[s.jsx(U_,{className:"w-4 h-4"}),"Prcdent"]}),s.jsxs("span",{className:"text-sm text-gray-600",children:[t+1," / ",e.length]}),s.jsxs("button",{onClick:()=>n(t+1),disabled:t===e.length-1,className:"flex items-center gap-2 px-3 py-2 text-gray-700 bg-white border border-gray-300 rounded-lg hover:bg-gray-100 disabled:opacity-50 disabled:cursor-not-allowed transition-colors",children:["Suivant",s.jsx(Io,{className:"w-4 h-4"})]})]})]})})},Aie=()=>{const{id:e}=Ko(),t=Pn(),{data:r,isLoading:n}=hie(e),a=fie(),i=vL(),l=yL(),o=wL(),u=bL(),[f,h]=k.useState([]),[m,g]=k.useState({}),[x,b]=k.useState({}),[v,w]=k.useState({width:1200,height:800}),[N,E]=k.useState(!1),[j,T]=k.useState(!1),[O,P]=k.useState(""),[D,M]=k.useState(null),[B,H]=k.useState(!1),[L,U]=k.useState([]),[G,te]=k.useState(0);k.useEffect(()=>{if(r?.template_data)try{const F=JSON.parse(r.template_data);F.fields&&F.fields.length>0&&h(F.fields),F.canvasSize&&w(F.canvasSize)}catch(F){console.error("Error parsing template:",F)}if(r?.form_data)try{const F=JSON.parse(r.form_data);g(F)}catch(F){console.error("Error parsing form data:",F)}},[r]),k.useEffect(()=>{const F=F3(f,m);b(F)},[m,f]);const de=(F,q)=>{const W=f.find(oe=>oe.ref===F);if(!W)return;let Q=q;W.type==="number"&&(Q=q===""?0:parseFloat(q)||0),g(oe=>({...oe,[F]:Q}))},ne=async()=>{if(e)try{await o.mutateAsync({id:e,form_data:m}),M("Modifications sauvegardes avec succs!"),setTimeout(()=>M(null),3e3)}catch(F){console.error("Error saving declaration:",F),alert("Erreur lors de la sauvegarde")}},Z=async()=>{if(confirm("Voulez-vous vraiment approuver cette dclaration ?"))try{await a.mutateAsync(e),t("/admin/declarations")}catch(F){console.error("Error approving declaration:",F),alert("Erreur lors de l'approbation")}},xe=async()=>{if(!O.trim()){alert("Veuillez fournir un motif de refus");return}try{await i.mutateAsync({id:e,reason:O}),t("/admin/declarations")}catch(F){console.error("Error rejecting declaration:",F),alert("Erreur lors du refus")}},le=async()=>{if(!O.trim()){alert("Veuillez fournir un motif de demande de modification");return}try{await l.mutateAsync({id:e,reason:O}),t("/admin/declarations")}catch(F){console.error("Error requesting modification:",F),alert("Erreur lors de la demande de modification")}},Se=async()=>{const F=`tes-vous sr de vouloir supprimer cette dclaration de ${r?.professor_name} ?

Cette action est irrversible.`;if(confirm(F))try{await u.mutateAsync(e),t("/admin/declarations")}catch(q){console.error("Error deleting declaration:",q),alert("Erreur lors de la suppression de la dclaration")}},re=F=>{const q=F.layout||{x:0,y:0,w:200,h:40},W=F.visibility?.hidden===!0,Q=ue=>W?`${ue} ring-2 ring-red-400 ring-offset-2`:ue,oe=()=>W?s.jsx("div",{className:"absolute -top-2 -right-2 z-10 px-2 py-0.5 bg-red-600 text-white text-xs font-bold rounded-full shadow-lg",children:"ADMIN"}):null;if(F.type==="label")return s.jsxs("div",{className:"absolute",style:{left:`${q.x}px`,top:`${q.y}px`,width:`${q.w}px`,height:`${q.h}px`},children:[s.jsx("div",{className:Q("w-full h-full bg-gray-100 border-2 border-gray-300 rounded px-3 py-2 flex items-center font-semibold text-gray-700"),children:F.props.label}),s.jsx(oe,{})]},F.id);if(F.type==="text"){const ue=m[F.ref],X=typeof ue=="string"||typeof ue=="number"?String(ue):"";return s.jsxs("div",{className:"absolute",style:{left:`${q.x}px`,top:`${q.y}px`,width:`${q.w}px`,height:`${q.h}px`},children:[s.jsx("input",{type:"text",value:X,onChange:ve=>de(F.ref,ve.target.value),className:Q("w-full h-full px-3 py-2 border border-blue-300 rounded focus:ring-2 focus:ring-blue-500 focus:border-transparent")}),s.jsx(oe,{})]},F.id)}if(F.type==="textarea"){const ue=m[F.ref],X=typeof ue=="string"||typeof ue=="number"?String(ue):"";return s.jsxs("div",{className:"absolute",style:{left:`${q.x}px`,top:`${q.y}px`,width:`${q.w}px`,height:`${q.h}px`},children:[s.jsx("textarea",{value:X,onChange:ve=>de(F.ref,ve.target.value),placeholder:F.props.label||"crivez vos commentaires ici...",className:Q("w-full h-full px-3 py-2 border-2 border-indigo-300 rounded focus:ring-2 focus:ring-indigo-500 focus:border-transparent resize-none")}),s.jsx(oe,{})]},F.id)}if(F.type==="number"){const ue=m[F.ref]!==void 0?m[F.ref]:F.props.default||0,X=typeof ue=="number"||typeof ue=="string"?ue:"";return s.jsxs("div",{className:"absolute",style:{left:`${q.x}px`,top:`${q.y}px`,width:`${q.w}px`,height:`${q.h}px`},children:[s.jsx("input",{type:"number",step:"0.01",value:X,onChange:ve=>de(F.ref,ve.target.value),className:Q("w-full h-full px-3 py-2 border border-green-300 rounded focus:ring-2 focus:ring-green-500 focus:border-transparent")}),s.jsx(oe,{})]},F.id)}if(F.type==="formula"){const ue=x[F.ref],X=typeof ue=="string"&&ue.startsWith("#");return s.jsxs("div",{className:"absolute flex items-center",style:{left:`${q.x}px`,top:`${q.y}px`,width:`${q.w}px`,height:`${q.h}px`},children:[s.jsx("div",{className:Q(`w-full h-full px-3 py-2 border-2 rounded font-semibold flex items-center ${X?"bg-red-50 border-red-400 text-red-700":"bg-purple-50 border-purple-400 text-purple-900"}`),children:typeof ue=="number"?ue.toFixed(F.props.decimals||2):String(ue||"0")}),s.jsx(oe,{})]},F.id)}if(F.type==="frame")return s.jsxs("div",{className:"absolute",style:{left:`${q.x}px`,top:`${q.y}px`,width:`${q.w}px`,height:`${q.h}px`},children:[s.jsx("div",{className:Q("w-full h-full border-2 border-orange-400 rounded-lg bg-orange-50/30"),children:s.jsx("div",{className:"bg-orange-500 text-white px-3 py-1 rounded-t font-semibold text-sm",children:F.props.label||"Cadre"})}),s.jsx(oe,{})]},F.id);if(F.type==="file"){const ue=m[F.ref],X=ue&&Array.isArray(ue)&&ue.length>0,ve=We=>We<1024?`${We} B`:We<1024*1024?`${(We/1024).toFixed(2)} KB`:`${(We/(1024*1024)).toFixed(2)} MB`,Te=We=>{try{const Ee=We.data.split(",")[1],ge=We.data.split(",")[0].split(":")[1].split(";")[0],dt=atob(Ee),Ze=new ArrayBuffer(dt.length),bt=new Uint8Array(Ze);for(let Ye=0;Ye<dt.length;Ye++)bt[Ye]=dt.charCodeAt(Ye);const lt=new Blob([Ze],{type:ge}),Ct=URL.createObjectURL(lt),xt=document.createElement("a");xt.href=Ct,xt.download=We.name,xt.click(),URL.revokeObjectURL(Ct)}catch(Ee){console.error("Erreur lors du tlchargement:",Ee),alert("Erreur lors du tlchargement du fichier")}},Y=We=>{U(ue),te(We),H(!0)};return s.jsxs("div",{className:"absolute",style:{left:`${q.x}px`,top:`${q.y}px`,width:`${q.w}px`,height:`${q.h}px`},children:[s.jsxs("div",{className:Q("w-full h-full border-2 border-dashed border-teal-300 bg-teal-50/50 rounded px-3 py-2 overflow-y-auto"),children:[s.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[s.jsx(ks,{className:"w-5 h-5 text-teal-600"}),s.jsxs("span",{className:"text-sm font-medium text-teal-700",children:[F.props.label||"Pices jointes"," (",X?ue.length:0,")"]})]}),X?s.jsx("div",{className:"space-y-2",children:ue.map((We,Ee)=>{const dt=We.type.startsWith("image/")?jx:ks;return s.jsxs("div",{className:"flex items-center gap-2 p-2 bg-white rounded border border-teal-200 hover:border-teal-400 transition-colors",children:[s.jsx(dt,{className:"w-4 h-4 text-teal-600 flex-shrink-0"}),s.jsxs("div",{className:"flex-1 min-w-0",children:[s.jsx("div",{className:"text-xs font-medium text-teal-900 truncate",children:We.name}),s.jsx("div",{className:"text-xs text-teal-600",children:ve(We.size)})]}),s.jsxs("div",{className:"flex gap-1 flex-shrink-0",children:[s.jsx("button",{onClick:()=>Y(Ee),className:"p-1.5 bg-blue-100 hover:bg-blue-200 text-blue-700 rounded transition-colors",title:"Voir",children:s.jsx(Ds,{className:"w-3.5 h-3.5"})}),s.jsx("button",{onClick:()=>Te(We),className:"p-1.5 bg-teal-100 hover:bg-teal-200 text-teal-700 rounded transition-colors",title:"Tlcharger",children:s.jsx(Es,{className:"w-3.5 h-3.5"})})]})]},Ee)})}):s.jsxs("div",{className:"text-center py-4",children:[s.jsx(ks,{className:"w-8 h-8 text-teal-300 mx-auto mb-2"}),s.jsx("span",{className:"text-xs text-teal-500 italic",children:"Aucune pice jointe"})]})]}),s.jsx(oe,{})]},F.id)}if(F.type==="link"){const ue=m[F.ref]||"",X=ue&&ue.trim()!==""&&(ue.startsWith("http://")||ue.startsWith("https://"));return s.jsxs("div",{className:"absolute",style:{left:`${q.x}px`,top:`${q.y}px`,width:`${q.w}px`,height:`${q.h}px`},children:[s.jsxs("div",{className:Q("w-full h-full border-2 border-cyan-400 bg-cyan-50 rounded px-3 py-2 flex items-center gap-2"),children:[s.jsx(qx,{className:"w-5 h-5 text-cyan-600 flex-shrink-0"}),s.jsxs("div",{className:"flex-1 min-w-0",children:[s.jsx("div",{className:"text-xs font-medium text-cyan-700 mb-1",children:F.props.label||"Lien"}),X?s.jsx("a",{href:ue,target:"_blank",rel:"noopener noreferrer",className:"text-sm text-cyan-900 hover:text-cyan-700 underline truncate block",children:ue}):s.jsx("span",{className:"text-sm text-gray-400 italic",children:"Aucun lien fourni"})]}),X&&s.jsx("a",{href:ue,target:"_blank",rel:"noopener noreferrer",className:"p-2 bg-cyan-600 hover:bg-cyan-700 text-white rounded transition-colors flex-shrink-0",title:"Ouvrir le lien",children:s.jsx(o2,{className:"w-4 h-4"})})]}),s.jsx(oe,{})]},F.id)}return null},R={brouillon:{label:"Brouillon",color:"bg-gray-100 text-gray-800"},soumise:{label:"Soumise",color:"bg-blue-100 text-blue-800"},en_cours:{label:"En cours",color:"bg-yellow-100 text-yellow-800"},approuvee:{label:"Approuve",color:"bg-green-100 text-green-800"},refusee:{label:"Refuse",color:"bg-red-100 text-red-800"}};return n?s.jsx("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center",children:s.jsxs("div",{className:"text-center",children:[s.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-600 mx-auto mb-4"}),s.jsx("p",{className:"text-gray-600",children:"Chargement..."})]})}):r?s.jsxs("div",{className:"min-h-screen bg-gray-50",children:[s.jsx("div",{className:"bg-white border-b border-gray-200 px-6 py-4 sticky top-0 z-10",children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{className:"flex items-center gap-4",children:[s.jsx("button",{onClick:()=>t("/admin/declarations"),className:"p-2 hover:bg-gray-100 rounded-lg transition-colors",title:"Retour  la liste",children:s.jsx(Hn,{className:"w-6 h-6 text-gray-600"})}),s.jsxs("div",{children:[s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:r.sheet_title}),s.jsx("span",{className:`px-3 py-1 rounded-full text-sm font-medium ${R[r.status].color}`,children:R[r.status].label}),s.jsxs("span",{className:"px-3 py-1 bg-gray-100 text-gray-700 rounded-full text-xs font-medium flex items-center gap-1",children:[s.jsx(Ds,{className:"w-3 h-3"}),"Mode Admin"]})]}),s.jsxs("div",{className:"text-sm text-gray-500 mt-1",children:[r.professor_name,"  ",r.segment_name,"  ",r.city_name,"  Du"," ",new Date(r.start_date).toLocaleDateString("fr-FR")," au"," ",new Date(r.end_date).toLocaleDateString("fr-FR")]})]})]}),s.jsxs("div",{className:"flex items-center gap-3",children:[D&&s.jsx("div",{className:"flex items-center gap-2 bg-green-100 text-green-800 px-4 py-2 rounded-lg",children:s.jsx("span",{className:"text-sm font-medium",children:D})}),s.jsxs(Ge,{variant:"outline",className:"text-red-600 hover:bg-red-50",onClick:Se,children:[s.jsx(Fn,{className:"w-4 h-4 mr-2"}),"Supprimer"]}),s.jsxs(Ge,{variant:"outline",onClick:ne,disabled:o.isPending,children:[s.jsx(np,{className:"w-4 h-4 mr-2"}),"Sauvegarder"]}),r.status==="soumise"&&s.jsxs(s.Fragment,{children:[s.jsxs(Ge,{variant:"outline",className:"text-green-600 hover:bg-green-50",onClick:Z,children:[s.jsx(Xa,{className:"w-4 h-4 mr-2"}),"Approuver"]}),s.jsxs(Ge,{variant:"outline",className:"text-yellow-600 hover:bg-yellow-50",onClick:()=>T(!0),children:[s.jsx(en,{className:"w-4 h-4 mr-2"}),"Demander modification"]}),s.jsxs(Ge,{variant:"outline",className:"text-red-600 hover:bg-red-50",onClick:()=>E(!0),children:[s.jsx(pf,{className:"w-4 h-4 mr-2"}),"Refuser"]})]})]})]})}),r.rejection_reason&&s.jsx("div",{className:"bg-red-50 border-b border-red-200 px-6 py-4",children:s.jsxs("div",{className:"flex items-start gap-2",children:[s.jsx(en,{className:"w-5 h-5 text-red-500 flex-shrink-0 mt-0.5"}),s.jsxs("div",{children:[s.jsx("p",{className:"text-sm font-semibold text-red-800",children:r.status==="refusee"?"Dclaration refuse":"Modifications demandes"}),s.jsx("p",{className:"text-sm text-red-700 mt-1",children:r.rejection_reason})]})]})}),s.jsx("div",{className:"p-4",children:s.jsx("div",{className:"bg-white rounded-lg shadow-sm overflow-auto",children:s.jsx("div",{className:"relative bg-white",style:{width:`${v.width}px`,minHeight:`${v.height}px`},children:f.map(F=>re(F))})})}),N&&s.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:s.jsx("div",{className:"bg-white rounded-lg shadow-xl max-w-md w-full",children:s.jsxs("div",{className:"p-6",children:[s.jsx("h2",{className:"text-xl font-bold mb-4",children:"Refuser la dclaration"}),s.jsxs("p",{className:"text-sm text-gray-600 mb-4",children:["Veuillez fournir un motif de refus pour la dclaration de"," ",s.jsx("strong",{children:r.professor_name})]}),s.jsx("textarea",{value:O,onChange:F=>P(F.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-red-500 focus:border-transparent",rows:4,placeholder:"Motif du refus..."}),s.jsxs("div",{className:"flex justify-end gap-2 mt-6",children:[s.jsx(Ge,{variant:"outline",onClick:()=>{E(!1),P("")},children:"Annuler"}),s.jsx(Ge,{className:"bg-red-600 hover:bg-red-700 text-white",onClick:xe,disabled:!O.trim(),children:"Refuser"})]})]})})}),j&&s.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:s.jsx("div",{className:"bg-white rounded-lg shadow-xl max-w-md w-full",children:s.jsxs("div",{className:"p-6",children:[s.jsx("h2",{className:"text-xl font-bold mb-4",children:"Demander une modification"}),s.jsxs("p",{className:"text-sm text-gray-600 mb-4",children:["Veuillez prciser les modifications  apporter pour la dclaration de"," ",s.jsx("strong",{children:r.professor_name})]}),s.jsx("textarea",{value:O,onChange:F=>P(F.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-yellow-500 focus:border-transparent",rows:4,placeholder:"Modifications demandes..."}),s.jsxs("div",{className:"flex justify-end gap-2 mt-6",children:[s.jsx(Ge,{variant:"outline",onClick:()=>{T(!1),P("")},children:"Annuler"}),s.jsx(Ge,{className:"bg-yellow-600 hover:bg-yellow-700 text-white",onClick:le,disabled:!O.trim(),children:"Demander"})]})]})})}),B&&L.length>0&&s.jsx(Sie,{files:L,currentIndex:G,onClose:()=>H(!1),onNavigate:F=>te(F)})]}):s.jsx("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center",children:s.jsxs("div",{className:"text-center",children:[s.jsx("p",{className:"text-gray-600",children:"Dclaration introuvable"}),s.jsx(Ge,{onClick:()=>t("/admin/declarations"),className:"mt-4",children:"Retour"})]})})},Eie={brouillon:{label:"Brouillon",color:"bg-gray-100 text-gray-800 border-gray-300",icon:ks},a_declarer:{label:" dclarer",color:"bg-orange-100 text-orange-800 border-orange-300",icon:en},soumise:{label:"Soumise",color:"bg-blue-100 text-blue-800 border-blue-300",icon:As},en_cours:{label:"En cours",color:"bg-yellow-100 text-yellow-800 border-yellow-300",icon:en},approuvee:{label:"Approuve",color:"bg-green-100 text-green-800 border-green-300",icon:eF},refusee:{label:"Refuse",color:"bg-red-100 text-red-800 border-red-300",icon:pf}},P3=({status:e,className:t=""})=>{const r=Eie[e],n=r.icon;return s.jsxs("span",{className:`inline-flex items-center gap-1.5 px-3 py-1 rounded-full text-xs font-medium border ${r.color} ${t}`,children:[s.jsx(n,{className:"w-3.5 h-3.5"}),r.label]})},kie=({onClose:e})=>{const t=Pn(),r=bie(),{data:n}=Nie(),{data:a=[],isLoading:i}=_ie(),{data:l=[],isLoading:o}=jie(),[u,f]=k.useState([]),[h,m]=k.useState(""),[g,x]=k.useState(""),[b,v]=k.useState(""),[w,N]=k.useState(""),[E,j]=k.useState("");k.useEffect(()=>{if(h){const O=l.filter(P=>P.segment_id===h);f(O),g&&!O.find(P=>P.id===g)&&x("")}else f([]),x("")},[h,l,g]);const T=async O=>{if(O.preventDefault(),j(""),!h||!g||!b||!w){j("Veuillez remplir tous les champs");return}if(new Date(w)<=new Date(b)){j("La date de fin doit tre postrieure  la date de dbut");return}const P=n?.find(D=>D.segment_ids?.includes(h)&&D.city_ids?.includes(g));if(!P){j("Aucune fiche de calcul publie n'existe pour ce segment et cette ville");return}try{const D=await r.mutateAsync({calculation_sheet_id:P.id,segment_id:h,city_id:g,start_date:b,end_date:w,form_data:{}});t(`/professor/declarations/${D.id}/fill`)}catch(D){console.error("Error creating declaration:",D),j("Erreur lors de la cration de la dclaration")}};return s.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:s.jsxs("div",{className:"bg-white rounded-lg shadow-xl max-w-md w-full mx-4",children:[s.jsxs("div",{className:"flex items-center justify-between p-6 border-b",children:[s.jsx("h2",{className:"text-xl font-semibold text-gray-900",children:"Nouvelle Dclaration"}),s.jsx("button",{onClick:e,className:"text-gray-400 hover:text-gray-600 transition-colors",children:s.jsx(ta,{className:"w-5 h-5"})})]}),s.jsxs("form",{onSubmit:T,className:"p-6 space-y-4",children:[(i||o)&&s.jsx("div",{className:"text-center py-4",children:s.jsx("p",{className:"text-gray-600",children:"Chargement..."})}),s.jsxs("div",{children:[s.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:["Segment ",s.jsx("span",{className:"text-red-500",children:"*"})]}),s.jsxs("select",{value:h,onChange:O=>m(O.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent disabled:bg-gray-100 disabled:cursor-not-allowed",required:!0,disabled:i,children:[s.jsx("option",{value:"",children:"Slectionner un segment"}),a.map(O=>s.jsx("option",{value:O.id,children:O.name},O.id))]}),!i&&a.length===0&&s.jsx("p",{className:"text-sm text-red-500 mt-1",children:"Aucun segment affect  votre compte"})]}),s.jsxs("div",{children:[s.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:["Ville ",s.jsx("span",{className:"text-red-500",children:"*"})]}),s.jsxs("select",{value:g,onChange:O=>x(O.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent disabled:bg-gray-100 disabled:cursor-not-allowed",required:!0,disabled:!h||o,children:[s.jsx("option",{value:"",children:"Slectionner une ville"}),u.map(O=>s.jsx("option",{value:O.id,children:O.name},O.id))]}),!o&&l.length===0&&s.jsx("p",{className:"text-sm text-red-500 mt-1",children:"Aucune ville affecte  votre compte"}),h&&u.length===0&&l.length>0&&s.jsx("p",{className:"text-sm text-gray-500 mt-1",children:"Aucune ville disponible pour ce segment"})]}),s.jsxs("div",{children:[s.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:["Date de dbut ",s.jsx("span",{className:"text-red-500",children:"*"})]}),s.jsx("input",{type:"date",value:b,onChange:O=>v(O.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",required:!0})]}),s.jsxs("div",{children:[s.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:["Date de fin ",s.jsx("span",{className:"text-red-500",children:"*"})]}),s.jsx("input",{type:"date",value:w,onChange:O=>N(O.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",required:!0,min:b})]}),E&&s.jsxs("div",{className:"bg-red-50 border border-red-200 rounded-lg p-3 flex items-start gap-2",children:[s.jsx(en,{className:"w-5 h-5 text-red-500 flex-shrink-0 mt-0.5"}),s.jsx("p",{className:"text-sm text-red-700",children:E})]}),s.jsxs("div",{className:"flex gap-3 pt-4",children:[s.jsx("button",{type:"button",onClick:e,className:"flex-1 px-4 py-2 border border-gray-300 text-gray-700 rounded-lg hover:bg-gray-50 transition-colors",children:"Annuler"}),s.jsx("button",{type:"submit",disabled:r.isPending,className:"flex-1 px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors disabled:bg-blue-400 disabled:cursor-not-allowed",children:r.isPending?"Cration...":"Crer"})]})]})]})})},Cie=()=>{const{data:e,isLoading:t}=vie(),r=wie(),n=NL(),[a,i]=k.useState(!1),l=async f=>{if(window.confirm("tes-vous sr de vouloir supprimer cette dclaration ?"))try{await r.mutateAsync(f)}catch(h){console.error("Error deleting declaration:",h),alert("Erreur lors de la suppression de la dclaration")}},o=async f=>{if(window.confirm("Voulez-vous soumettre cette dclaration pour validation ?"))try{await n.mutateAsync(f)}catch(h){console.error("Error submitting declaration:",h),alert("Erreur lors de la soumission de la dclaration")}},u=f=>new Date(f).toLocaleDateString("fr-FR");return t?s.jsx("div",{className:"min-h-screen flex items-center justify-center",children:s.jsxs("div",{className:"text-center",children:[s.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-600 mx-auto mb-4"}),s.jsx("p",{className:"text-gray-600",children:"Chargement des dclarations..."})]})}):s.jsxs("div",{className:"min-h-screen bg-gray-50",children:[s.jsx("div",{className:"bg-white border-b border-gray-200",children:s.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-6",children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{className:"flex items-center gap-4",children:[s.jsx(Sa,{to:"/dashboard",className:"p-2 hover:bg-gray-100 rounded-lg transition-colors",title:"Retour au tableau de bord",children:s.jsx(Hn,{className:"w-6 h-6 text-gray-600"})}),s.jsxs("div",{children:[s.jsx("h1",{className:"text-3xl font-bold text-gray-900",children:"Mes Dclarations"}),s.jsx("p",{className:"text-sm text-gray-600 mt-1",children:"Grez vos dclarations de sessions"})]})]}),s.jsxs("button",{onClick:()=>i(!0),className:"px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors flex items-center gap-2",children:[s.jsx(Ya,{className:"w-5 h-5"}),"Nouvelle Dclaration"]})]})})}),s.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:[s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 lg:grid-cols-6 gap-4 mb-6",children:[s.jsxs("div",{className:"bg-white rounded-lg shadow-sm p-4",children:[s.jsx("p",{className:"text-sm text-gray-600",children:"Total"}),s.jsx("p",{className:"text-2xl font-bold text-gray-900",children:e?.length||0})]}),s.jsxs("div",{className:"bg-white rounded-lg shadow-sm p-4",children:[s.jsx("p",{className:"text-sm text-gray-600",children:" modifier"}),s.jsx("p",{className:"text-2xl font-bold text-yellow-600",children:e?.filter(f=>f.status==="en_cours").length||0})]}),s.jsxs("div",{className:"bg-white rounded-lg shadow-sm p-4",children:[s.jsx("p",{className:"text-sm text-gray-600",children:" dclarer"}),s.jsx("p",{className:"text-2xl font-bold text-orange-600",children:e?.filter(f=>f.status==="a_declarer").length||0})]}),s.jsxs("div",{className:"bg-white rounded-lg shadow-sm p-4",children:[s.jsx("p",{className:"text-sm text-gray-600",children:"Brouillons"}),s.jsx("p",{className:"text-2xl font-bold text-gray-500",children:e?.filter(f=>f.status==="brouillon").length||0})]}),s.jsxs("div",{className:"bg-white rounded-lg shadow-sm p-4",children:[s.jsx("p",{className:"text-sm text-gray-600",children:"Soumises"}),s.jsx("p",{className:"text-2xl font-bold text-blue-600",children:e?.filter(f=>f.status==="soumise").length||0})]}),s.jsxs("div",{className:"bg-white rounded-lg shadow-sm p-4",children:[s.jsx("p",{className:"text-sm text-gray-600",children:"Approuves"}),s.jsx("p",{className:"text-2xl font-bold text-green-600",children:e?.filter(f=>f.status==="approuvee").length||0})]})]}),!e||e.length===0?s.jsxs("div",{className:"bg-white rounded-lg shadow-sm p-12 text-center",children:[s.jsx(ks,{className:"w-16 h-16 text-gray-400 mx-auto mb-4"}),s.jsx("h3",{className:"text-lg font-semibold text-gray-700 mb-2",children:"Aucune dclaration"}),s.jsx("p",{className:"text-gray-500 mb-6",children:"Commencez par crer votre premire dclaration"}),s.jsxs("button",{onClick:()=>i(!0),className:"px-6 py-3 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors inline-flex items-center gap-2",children:[s.jsx(Ya,{className:"w-5 h-5"}),"Nouvelle Dclaration"]})]}):s.jsx("div",{className:"bg-white rounded-lg shadow-sm overflow-hidden",children:s.jsx("div",{className:"overflow-x-auto",children:s.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[s.jsx("thead",{className:"bg-gray-50",children:s.jsxs("tr",{children:[s.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Segment"}),s.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Ville"}),s.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Date Dbut"}),s.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Date Fin"}),s.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Statut"}),s.jsx("th",{className:"px-6 py-3 text-right text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Actions"})]})}),s.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:e.map(f=>s.jsxs(Ju.Fragment,{children:[s.jsxs("tr",{className:"hover:bg-gray-50",children:[s.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:s.jsx("div",{className:"text-sm font-medium text-gray-900",children:f.segment_name})}),s.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:s.jsx("div",{className:"text-sm text-gray-900",children:f.city_name})}),s.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:s.jsx("div",{className:"text-sm text-gray-900",children:u(f.start_date)})}),s.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:s.jsx("div",{className:"text-sm text-gray-900",children:u(f.end_date)})}),s.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:s.jsx(P3,{status:f.status})}),s.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-right text-sm font-medium",children:s.jsxs("div",{className:"flex items-center justify-end gap-2",children:[s.jsx(Sa,{to:`/professor/declarations/${f.id}/fill`,className:"text-blue-600 hover:text-blue-900 p-1 hover:bg-blue-50 rounded transition-colors",title:f.status==="brouillon"||f.status==="refusee"||f.status==="a_declarer"||f.status==="en_cours"?"Remplir":"Voir",children:f.status==="brouillon"||f.status==="refusee"||f.status==="a_declarer"||f.status==="en_cours"?s.jsx(uh,{className:"w-4 h-4"}):s.jsx(Ds,{className:"w-4 h-4"})}),(f.status==="brouillon"||f.status==="a_declarer"||f.status==="en_cours")&&s.jsx("button",{onClick:()=>o(f.id),className:"text-green-600 hover:text-green-900 p-1 hover:bg-green-50 rounded transition-colors",title:"Soumettre",children:s.jsx(Cm,{className:"w-4 h-4"})}),f.status==="brouillon"&&s.jsx("button",{onClick:()=>l(f.id),className:"text-red-600 hover:text-red-900 p-1 hover:bg-red-50 rounded transition-colors",title:"Supprimer",disabled:r.isPending,children:s.jsx(Fn,{className:"w-4 h-4"})})]})})]}),f.status==="en_cours"&&f.rejection_reason&&s.jsx("tr",{children:s.jsx("td",{colSpan:6,className:"px-6 py-3 bg-yellow-50 border-l-4 border-yellow-400",children:s.jsxs("div",{className:"flex items-start gap-2",children:[s.jsx(en,{className:"w-5 h-5 text-yellow-600 flex-shrink-0 mt-0.5"}),s.jsxs("div",{children:[s.jsx("p",{className:"text-sm font-semibold text-yellow-900",children:"Modifications demandes par l'administrateur"}),s.jsx("p",{className:"text-sm text-yellow-800 mt-1",children:f.rejection_reason})]})]})})})]},f.id))})]})})})]}),a&&s.jsx(kie,{onClose:()=>i(!1)})]})},Tie=()=>{const{id:e}=Ko(),t=Pn(),{data:r,isLoading:n}=yie(e||""),a=wL(),i=NL(),[l,o]=k.useState([]),[u,f]=k.useState({}),[h,m]=k.useState({}),[g,x]=k.useState(null),[b,v]=k.useState({width:1200,height:800}),w=r?.status!=="brouillon"&&r?.status!=="refusee"&&r?.status!=="en_cours"&&r?.status!=="a_declarer";k.useEffect(()=>{if(r?.template_data)try{const M=JSON.parse(r.template_data);M.fields&&M.fields.length>0&&o(M.fields),M.canvasSize&&v(M.canvasSize)}catch(M){console.error("Error parsing template:",M)}if(r?.form_data)try{const M=JSON.parse(r.form_data);f(M)}catch(M){console.error("Error parsing form data:",M)}},[r]),k.useEffect(()=>{const M=F3(l,u);m(M)},[u,l]);const N=(M,B)=>{const H=l.find(U=>U.ref===M);if(!H)return;let L=B;H.type==="number"&&(L=B===""?0:parseFloat(B)||0),f(U=>({...U,[M]:L}))},E=M=>new Promise((B,H)=>{const L=new FileReader;L.readAsDataURL(M),L.onload=()=>B(L.result),L.onerror=U=>H(U)}),j=async(M,B)=>{if(!B){f(H=>({...H,[M]:[]}));return}try{const H=await E(B),L={name:B.name,size:B.size,type:B.type,data:H,uploadedAt:new Date().toISOString()};f(U=>{const G=Array.isArray(U[M])?U[M]:[];return{...U,[M]:[...G,L]}})}catch(H){console.error("Error converting file to base64:",H),alert("Erreur lors du traitement du fichier")}},T=(M,B)=>{f(H=>{const U=(Array.isArray(H[M])?H[M]:[]).filter((G,te)=>te!==B);return{...H,[M]:U}})},O=async()=>{if(e)try{await a.mutateAsync({id:e,form_data:u}),x("Brouillon sauvegard avec succs!"),setTimeout(()=>x(null),3e3)}catch(M){console.error("Error saving declaration:",M),alert("Erreur lors de la sauvegarde")}},P=async()=>{if(e&&window.confirm("Voulez-vous soumettre cette dclaration pour validation ? Vous ne pourrez plus la modifier aprs soumission."))try{await a.mutateAsync({id:e,form_data:u}),await i.mutateAsync(e),t("/professor/declarations")}catch(M){console.error("Error submitting declaration:",M),alert("Erreur lors de la soumission")}},D=M=>{const B=M.layout||{x:0,y:0,w:200,h:40};if(M.visibility?.hidden)return null;if(M.type==="label")return s.jsx("div",{className:"absolute bg-gray-100 border-2 border-gray-300 rounded px-3 py-2 flex items-center font-semibold text-gray-700",style:{left:`${B.x}px`,top:`${B.y}px`,width:`${B.w}px`,height:`${B.h}px`},children:M.props.label},M.id);if(M.type==="text"){const H=u[M.ref],L=typeof H=="string"||typeof H=="number"?String(H):"";return s.jsx("div",{className:"absolute",style:{left:`${B.x}px`,top:`${B.y}px`,width:`${B.w}px`,height:`${B.h}px`},children:s.jsx("input",{type:"text",value:L,onChange:U=>N(M.ref,U.target.value),className:"w-full h-full px-3 py-2 border border-blue-300 rounded focus:ring-2 focus:ring-blue-500 focus:border-transparent disabled:bg-gray-100 disabled:cursor-not-allowed",disabled:w})},M.id)}if(M.type==="textarea"){const H=u[M.ref],L=typeof H=="string"||typeof H=="number"?String(H):"";return s.jsx("div",{className:"absolute",style:{left:`${B.x}px`,top:`${B.y}px`,width:`${B.w}px`,height:`${B.h}px`},children:s.jsx("textarea",{value:L,onChange:U=>N(M.ref,U.target.value),placeholder:M.props.label||"crivez vos commentaires ici...",className:"w-full h-full px-3 py-2 border-2 border-indigo-300 rounded focus:ring-2 focus:ring-indigo-500 focus:border-transparent resize-none disabled:bg-gray-100 disabled:cursor-not-allowed",disabled:w})},M.id)}if(M.type==="number"){const H=u[M.ref]!==void 0?u[M.ref]:M.props.default||0,L=typeof H=="number"||typeof H=="string"?H:"";return s.jsx("div",{className:"absolute",style:{left:`${B.x}px`,top:`${B.y}px`,width:`${B.w}px`,height:`${B.h}px`},children:s.jsx("input",{type:"number",step:"0.01",value:L,onChange:U=>N(M.ref,U.target.value),className:"w-full h-full px-3 py-2 border border-green-300 rounded focus:ring-2 focus:ring-green-500 focus:border-transparent disabled:bg-gray-100 disabled:cursor-not-allowed",disabled:w})},M.id)}if(M.type==="formula"){const H=h[M.ref],L=typeof H=="string"&&H.startsWith("#");return s.jsx("div",{className:"absolute flex items-center",style:{left:`${B.x}px`,top:`${B.y}px`,width:`${B.w}px`,height:`${B.h}px`},children:s.jsx("div",{className:`w-full h-full px-3 py-2 border-2 rounded font-semibold flex items-center ${L?"bg-red-50 border-red-400 text-red-700":"bg-purple-50 border-purple-400 text-purple-900"}`,children:typeof H=="number"?H.toFixed(M.props.decimals||2):String(H||"0")})},M.id)}if(M.type==="frame")return s.jsx("div",{className:"absolute border-2 border-orange-400 rounded-lg bg-orange-50/30",style:{left:`${B.x}px`,top:`${B.y}px`,width:`${B.w}px`,height:`${B.h}px`},children:s.jsx("div",{className:"bg-orange-500 text-white px-3 py-1 rounded-t font-semibold text-sm",children:M.props.label||"Cadre"})},M.id);if(M.type==="file"){const H=Array.isArray(u[M.ref])?u[M.ref]:[],L=H&&H.length>0;return s.jsx("div",{className:"absolute",style:{left:`${B.x}px`,top:`${B.y}px`,width:`${B.w}px`,height:`${B.h}px`},children:s.jsxs("div",{className:"w-full h-full border-2 border-teal-400 bg-teal-50 rounded px-3 py-2 flex flex-col gap-2 overflow-y-auto",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(ks,{className:"w-5 h-5 text-teal-600"}),s.jsxs("span",{className:"text-sm font-medium text-teal-900",children:[M.props.label||"Pices jointes"," (",H.length,")"]})]}),!w&&s.jsxs("label",{className:"cursor-pointer px-2 py-1 bg-teal-600 hover:bg-teal-700 text-white rounded text-xs font-medium transition-colors",children:["+ Ajouter",s.jsx("input",{type:"file",accept:M.props.accept,onChange:U=>{const G=U.target.files?.[0];if(G){const te=(M.props.maxSize||5)*1024*1024;if(G.size>te){alert(`Le fichier est trop volumineux. Taille maximum: ${M.props.maxSize||5} MB`);return}j(M.ref,G)}U.target.value=""},className:"hidden"})]})]}),L?s.jsx("div",{className:"space-y-1 flex-1 overflow-y-auto",children:H.map((U,G)=>s.jsxs("div",{className:"flex items-center justify-between gap-2 p-2 bg-white rounded border border-teal-200",children:[s.jsxs("div",{className:"flex-1 min-w-0",children:[s.jsx("div",{className:"text-xs font-medium text-teal-900 truncate",children:U.name}),s.jsxs("div",{className:"text-xs text-teal-600",children:[(U.size/1024/1024).toFixed(2)," MB"]})]}),s.jsxs("div",{className:"flex gap-1",children:[s.jsx("button",{onClick:()=>{const te=atob(U.data.split(",")[1]),de=U.data.split(",")[0].split(":")[1].split(";")[0],ne=new ArrayBuffer(te.length),Z=new Uint8Array(ne);for(let re=0;re<te.length;re++)Z[re]=te.charCodeAt(re);const xe=new Blob([ne],{type:de}),le=URL.createObjectURL(xe),Se=document.createElement("a");Se.href=le,Se.download=U.name,Se.click(),URL.revokeObjectURL(le)},className:"p-1 hover:bg-teal-200 rounded transition-colors",title:"Tlcharger",children:s.jsx(Es,{className:"w-3 h-3 text-teal-700"})}),!w&&s.jsx("button",{onClick:()=>T(M.ref,G),className:"p-1 hover:bg-red-200 rounded transition-colors",title:"Supprimer",children:s.jsx(ta,{className:"w-3 h-3 text-red-600"})})]})]},G))}):s.jsxs("div",{className:"flex-1 flex flex-col items-center justify-center text-center opacity-60",children:[s.jsx(W0,{className:"w-8 h-8 text-teal-600 mb-2"}),s.jsx("span",{className:"text-xs text-teal-700",children:"Aucune pice jointe"}),s.jsxs("span",{className:"text-xs text-teal-600 mt-1",children:[M.props.accept||"Tous fichiers"," (max ",M.props.maxSize||5," MB)"]})]})]})},M.id)}if(M.type==="link"){const H=u[M.ref]||"",L=H&&H.trim()!==""&&(H.startsWith("http://")||H.startsWith("https://"));return s.jsx("div",{className:"absolute",style:{left:`${B.x}px`,top:`${B.y}px`,width:`${B.w}px`,height:`${B.h}px`},children:s.jsxs("div",{className:"w-full h-full border-2 border-cyan-400 bg-cyan-50 rounded px-3 py-2 flex items-center gap-2",children:[s.jsx(qx,{className:"w-5 h-5 text-cyan-600 flex-shrink-0"}),s.jsxs("div",{className:"flex-1 min-w-0",children:[s.jsx("label",{className:"block text-xs font-medium text-cyan-700 mb-1",children:M.props.label||"Lien"}),s.jsx("input",{type:"url",value:H,onChange:U=>N(M.ref,U.target.value),disabled:w,placeholder:"https://exemple.com",className:`w-full px-2 py-1 text-sm border rounded focus:outline-none focus:ring-2 focus:ring-cyan-500 ${w?"bg-gray-100 border-gray-300 text-gray-600 cursor-not-allowed":"bg-white border-cyan-300 text-cyan-900"}`})]}),L&&s.jsx("button",{onClick:()=>window.open(H,"_blank","noopener,noreferrer"),className:"p-2 bg-cyan-600 hover:bg-cyan-700 text-white rounded transition-colors flex-shrink-0",title:"Ouvrir le lien",children:s.jsx(o2,{className:"w-4 h-4"})})]})},M.id)}return null};return n?s.jsx("div",{className:"min-h-screen flex items-center justify-center",children:s.jsxs("div",{className:"text-center",children:[s.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-600 mx-auto mb-4"}),s.jsx("p",{className:"text-gray-600",children:"Chargement de la dclaration..."})]})}):r?s.jsxs("div",{className:"min-h-screen bg-gray-50",children:[s.jsx("div",{className:"bg-white border-b border-gray-200 px-6 py-4",children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{className:"flex items-center gap-4",children:[s.jsx(Sa,{to:"/professor/declarations",className:"p-2 hover:bg-gray-100 rounded-lg transition-colors",title:"Retour  la liste",children:s.jsx(Hn,{className:"w-6 h-6 text-gray-600"})}),s.jsxs("div",{children:[s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:r.sheet_title}),s.jsx(P3,{status:r.status}),w&&s.jsxs("span",{className:"px-3 py-1 bg-gray-100 text-gray-700 rounded-full text-xs font-medium flex items-center gap-1",children:[s.jsx(Xs,{className:"w-3 h-3"}),"Lecture seule"]})]}),s.jsxs("div",{className:"text-sm text-gray-500 mt-1",children:[r.segment_name,"  ",r.city_name,"  Du"," ",new Date(r.start_date).toLocaleDateString("fr-FR")," au"," ",new Date(r.end_date).toLocaleDateString("fr-FR")]})]})]}),s.jsxs("div",{className:"flex items-center gap-3",children:[g&&s.jsx("div",{className:"flex items-center gap-2 bg-green-100 text-green-800 px-4 py-2 rounded-lg",children:s.jsx("span",{className:"text-sm font-medium",children:g})}),!w&&s.jsxs(s.Fragment,{children:[s.jsxs("button",{onClick:O,className:"px-4 py-2 bg-gray-600 hover:bg-gray-700 text-white rounded-lg transition-colors flex items-center gap-2",disabled:a.isPending,children:[s.jsx(np,{className:"w-5 h-5"}),"Sauvegarder"]}),s.jsxs("button",{onClick:P,className:"px-4 py-2 bg-green-600 hover:bg-green-700 text-white rounded-lg transition-colors flex items-center gap-2",disabled:i.isPending,children:[s.jsx(Cm,{className:"w-5 h-5"}),"Soumettre"]})]})]})]})}),r.status==="a_declarer"&&s.jsx("div",{className:"bg-orange-50 border-b border-orange-200 px-6 py-4",children:s.jsxs("div",{className:"flex items-start gap-2",children:[s.jsx(en,{className:"w-5 h-5 text-orange-500 flex-shrink-0 mt-0.5"}),s.jsxs("div",{children:[s.jsx("p",{className:"text-sm font-semibold text-orange-800",children:"Fiche assigne par un grant"}),s.jsx("p",{className:"text-sm text-orange-700 mt-1",children:"Cette fiche de session vous a t assigne. Veuillez la remplir et la soumettre."})]})]})}),r.rejection_reason&&s.jsx("div",{className:"bg-red-50 border-b border-red-200 px-6 py-4",children:s.jsxs("div",{className:"flex items-start gap-2",children:[s.jsx(en,{className:"w-5 h-5 text-red-500 flex-shrink-0 mt-0.5"}),s.jsxs("div",{children:[s.jsx("p",{className:"text-sm font-semibold text-red-800",children:"Dclaration refuse"}),s.jsx("p",{className:"text-sm text-red-700 mt-1",children:r.rejection_reason})]})]})}),s.jsx("div",{className:"p-4",children:s.jsx("div",{className:"bg-white rounded-lg shadow-sm overflow-auto",children:s.jsx("div",{className:"relative bg-white",style:{width:`${b.width}px`,minHeight:`${b.height}px`},children:l.map(M=>D(M))})})})]}):s.jsx("div",{className:"min-h-screen flex items-center justify-center",children:s.jsxs("div",{className:"text-center",children:[s.jsx(en,{className:"w-16 h-16 text-red-400 mx-auto mb-4"}),s.jsx("h2",{className:"text-xl font-semibold text-gray-700 mb-2",children:"Dclaration introuvable"}),s.jsxs(Sa,{to:"/professor/declarations",className:"inline-flex items-center gap-2 px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700",children:[s.jsx(Hn,{className:"w-4 h-4"}),"Retour  la liste"]})]})})};function Oie(){const{user:e,isAdmin:t}=Ai();return ir({queryKey:["gerant-segments",e?.id],queryFn:async()=>{if(!e?.id)return[];const r=await qd.getAll();if(t)return r;const n=await so.getById(e.id);return!n||!n.segment_ids?[]:r.filter(a=>n.segment_ids?.includes(a.id))},enabled:!!e?.id})}function Die(){const{user:e,isAdmin:t}=Ai();return ir({queryKey:["gerant-cities",e?.id],queryFn:async()=>{if(!e?.id)return[];const r=await kc.getAll();if(t)return r;const n=await so.getById(e.id);return!n||!n.city_ids?[]:r.filter(a=>n.city_ids?.includes(a.id))},enabled:!!e?.id})}function Fie(){return ir({queryKey:["gerant-declarations"],queryFn:async()=>(await Hi.getAll()).filter(t=>t.status==="a_declarer")})}function Pie(e,t){return ir({queryKey:["professors-by-segment-city",e,t],queryFn:async()=>(await so.getAll()).filter(a=>a.role==="professor").filter(a=>!(e&&!a.segment_ids?.includes(e)||t&&!a.city_ids?.includes(t))).map(a=>({id:a.id,full_name:a.full_name,username:a.username})),enabled:!!e||!!t})}function Lie(e){return ir({queryKey:["published-sheets-segment",e],queryFn:async()=>(await Cc.getAll()).filter(r=>!(r.status!=="published"||e&&r.segment_ids&&!r.segment_ids.includes(e))).map(r=>({id:r.id,title:r.title,template_data:r.template_data,sheet_date:r.sheet_date})),enabled:!!e})}function Mie(){const e=Dt();return Ft({mutationFn:async t=>{const r=zd();return Hi.create({id:r,...t,form_data:"{}",status:"a_declarer"})},onSuccess:()=>{e.invalidateQueries({queryKey:["gerant-declarations"]}),e.invalidateQueries({queryKey:["professor-declarations"]})}})}const Rie=()=>{const{data:e,isLoading:t}=Fie(),[r,n]=k.useState("all"),a=e?.filter(o=>r==="all"?!0:o.status===r),i={total:e?.length||0,a_declarer:e?.filter(o=>o.status==="a_declarer").length||0,soumise:e?.filter(o=>o.status==="soumise").length||0,en_cours:e?.filter(o=>o.status==="en_cours").length||0,approuvee:e?.filter(o=>o.status==="approuvee").length||0,refusee:e?.filter(o=>o.status==="refusee").length||0},l=[{label:"Toutes",value:"all",count:i.total},{label:" dclarer",value:"a_declarer",count:i.a_declarer},{label:"Soumises",value:"soumise",count:i.soumise},{label:"En cours",value:"en_cours",count:i.en_cours},{label:"Approuves",value:"approuvee",count:i.approuvee},{label:"Refuses",value:"refusee",count:i.refusee}];return t?s.jsx("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center",children:s.jsx("div",{className:"text-lg text-gray-600",children:"Chargement..."})}):s.jsxs("div",{className:"min-h-screen bg-gray-50",children:[s.jsx("header",{className:"bg-white shadow-sm",children:s.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-4",children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{className:"flex items-center gap-4",children:[s.jsx(Sa,{to:"/dashboard",children:s.jsxs(Ge,{variant:"outline",size:"sm",children:[s.jsx(Hn,{className:"w-4 h-4 mr-2"}),"Retour"]})}),s.jsxs("div",{children:[s.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"Mes Dclarations Cres"}),s.jsx("p",{className:"text-sm text-gray-600",children:"Suivez les dclarations que vous avez assignes aux professeurs"})]})]}),s.jsx(Sa,{to:"/gerant/create-declaration",children:s.jsxs(Ge,{children:[s.jsx(z_,{className:"w-4 h-4 mr-2"}),"Crer une dclaration"]})})]})})}),s.jsxs("main",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:[s.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-3 lg:grid-cols-6 gap-4 mb-6",children:[s.jsx(Ur,{children:s.jsx(zr,{className:"pt-6",children:s.jsxs("div",{className:"text-center",children:[s.jsx("p",{className:"text-2xl font-bold text-gray-900",children:i.total}),s.jsx("p",{className:"text-xs text-gray-600 mt-1",children:"Total"})]})})}),s.jsx(Ur,{children:s.jsx(zr,{className:"pt-6",children:s.jsxs("div",{className:"text-center",children:[s.jsx("p",{className:"text-2xl font-bold text-orange-600",children:i.a_declarer}),s.jsx("p",{className:"text-xs text-gray-600 mt-1",children:" dclarer"})]})})}),s.jsx(Ur,{children:s.jsx(zr,{className:"pt-6",children:s.jsxs("div",{className:"text-center",children:[s.jsx("p",{className:"text-2xl font-bold text-blue-600",children:i.soumise}),s.jsx("p",{className:"text-xs text-gray-600 mt-1",children:"Soumises"})]})})}),s.jsx(Ur,{children:s.jsx(zr,{className:"pt-6",children:s.jsxs("div",{className:"text-center",children:[s.jsx("p",{className:"text-2xl font-bold text-yellow-600",children:i.en_cours}),s.jsx("p",{className:"text-xs text-gray-600 mt-1",children:"En cours"})]})})}),s.jsx(Ur,{children:s.jsx(zr,{className:"pt-6",children:s.jsxs("div",{className:"text-center",children:[s.jsx("p",{className:"text-2xl font-bold text-green-600",children:i.approuvee}),s.jsx("p",{className:"text-xs text-gray-600 mt-1",children:"Approuves"})]})})}),s.jsx(Ur,{children:s.jsx(zr,{className:"pt-6",children:s.jsxs("div",{className:"text-center",children:[s.jsx("p",{className:"text-2xl font-bold text-red-600",children:i.refusee}),s.jsx("p",{className:"text-xs text-gray-600 mt-1",children:"Refuses"})]})})})]}),s.jsx("div",{className:"bg-white rounded-lg shadow p-4 mb-6",children:s.jsx("div",{className:"flex flex-wrap gap-2",children:l.map(o=>s.jsxs(Ge,{variant:r===o.value?"default":"outline",size:"sm",onClick:()=>n(o.value),children:[o.label," (",o.count,")"]},o.value))})}),s.jsx("div",{className:"bg-white rounded-lg shadow",children:a&&a.length>0?s.jsx("div",{className:"overflow-x-auto",children:s.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[s.jsx("thead",{className:"bg-gray-50",children:s.jsxs("tr",{children:[s.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Professeur"}),s.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Segment"}),s.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Ville"}),s.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Fiche de calcul"}),s.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Dates"}),s.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Statut"}),s.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Date cration"})]})}),s.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:a.map(o=>s.jsxs("tr",{className:"hover:bg-gray-50",children:[s.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-medium text-gray-900",children:o.professor_name||"N/A"}),s.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:o.segment_name||"N/A"}),s.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:o.city_name||"N/A"}),s.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:o.sheet_title||"N/A"}),s.jsxs("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:[new Date(o.start_date).toLocaleDateString("fr-FR")," - ",new Date(o.end_date).toLocaleDateString("fr-FR")]}),s.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:s.jsx(P3,{status:o.status})}),s.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:new Date(o.created_at).toLocaleDateString("fr-FR")})]},o.id))})]})}):s.jsx("div",{className:"text-center py-12",children:s.jsx("p",{className:"text-gray-500",children:"Aucune dclaration trouve."})})})]})]})},Vk=()=>{const e=Pn(),{isAdmin:t}=Ai(),{data:r,isLoading:n}=Oie(),{data:a,isLoading:i}=Die(),[l,o]=k.useState(""),[u,f]=k.useState(""),[h,m]=k.useState(""),[g,x]=k.useState(""),[b,v]=k.useState(""),[w,N]=k.useState(null),E=t?"/admin/declarations":"/gerant/declarations",j=a?.filter(L=>L.segment_id===l)||[],{data:T,isLoading:O}=Pie(l,u),{data:P,isLoading:D}=Lie(l),M=P&&P.length>0?P[0]:null,B=Mie();k.useEffect(()=>{f(""),m("")},[l]),k.useEffect(()=>{m("")},[u]);const H=async L=>{if(L.preventDefault(),N(null),!l){N("Veuillez slectionner un segment");return}if(!u){N("Veuillez slectionner une ville");return}if(!M){N("Aucune fiche de calcul publie pour ce segment");return}if(!h){N("Veuillez slectionner un professeur");return}if(!g||!b){N("Veuillez renseigner les dates de session");return}if(new Date(g)>new Date(b)){N("La date de dbut doit tre antrieure  la date de fin");return}try{await B.mutateAsync({professor_id:h,calculation_sheet_id:M.id,segment_id:l,city_id:u,start_date:g,end_date:b}),e(E)}catch(U){console.error("Error creating declaration:",U),N("Erreur lors de la cration de la dclaration")}};return n||i?s.jsx("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center",children:s.jsx("div",{className:"text-lg text-gray-600",children:"Chargement..."})}):!r||r.length===0?s.jsxs("div",{className:"min-h-screen bg-gray-50",children:[s.jsx("header",{className:"bg-white shadow-sm",children:s.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-4",children:s.jsxs("div",{className:"flex items-center gap-4",children:[s.jsx(Sa,{to:"/dashboard",children:s.jsxs(Ge,{variant:"outline",size:"sm",children:[s.jsx(Hn,{className:"w-4 h-4 mr-2"}),"Retour"]})}),s.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"Crer une Dclaration"})]})})}),s.jsx("main",{className:"max-w-3xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:s.jsx(Ur,{children:s.jsx(zr,{className:"pt-6",children:s.jsxs("div",{className:"text-center py-12",children:[s.jsx(en,{className:"w-16 h-16 text-yellow-500 mx-auto mb-4"}),s.jsx("p",{className:"text-lg text-gray-700 font-medium mb-2",children:"Aucun segment assign"}),s.jsx("p",{className:"text-sm text-gray-500",children:"Contactez un administrateur pour vous assigner des segments et villes."})]})})})})]}):s.jsxs("div",{className:"min-h-screen bg-gray-50",children:[s.jsx("header",{className:"bg-white shadow-sm",children:s.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-4",children:s.jsxs("div",{className:"flex items-center gap-4",children:[s.jsx(Sa,{to:"/dashboard",children:s.jsxs(Ge,{variant:"outline",size:"sm",children:[s.jsx(Hn,{className:"w-4 h-4 mr-2"}),"Retour"]})}),s.jsxs("div",{children:[s.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"Crer une Dclaration"}),s.jsx("p",{className:"text-sm text-gray-600",children:"Assigner une fiche de session  un professeur"})]})]})})}),s.jsx("main",{className:"max-w-3xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:s.jsxs("form",{onSubmit:H,children:[s.jsxs(Ur,{children:[s.jsx(hf,{children:s.jsx(mf,{children:"Informations de la dclaration"})}),s.jsxs(zr,{className:"space-y-6",children:[w&&s.jsxs("div",{className:"bg-red-50 border border-red-200 rounded-lg p-4 flex items-start gap-3",children:[s.jsx(en,{className:"w-5 h-5 text-red-600 flex-shrink-0 mt-0.5"}),s.jsx("p",{className:"text-sm text-red-800",children:w})]}),s.jsxs("div",{children:[s.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:["Segment ",s.jsx("span",{className:"text-red-500",children:"*"})]}),s.jsxs("select",{value:l,onChange:L=>o(L.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",required:!0,children:[s.jsx("option",{value:"",children:"Slectionnez un segment"}),r?.map(L=>s.jsx("option",{value:L.id,children:L.name},L.id))]})]}),l&&s.jsxs("div",{children:[s.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:["Ville ",s.jsx("span",{className:"text-red-500",children:"*"})]}),j.length>0?s.jsxs("select",{value:u,onChange:L=>f(L.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",required:!0,children:[s.jsx("option",{value:"",children:"Slectionnez une ville"}),j.map(L=>s.jsx("option",{value:L.id,children:L.name},L.id))]}):s.jsx("div",{className:"bg-yellow-50 border border-yellow-200 rounded-lg p-4",children:s.jsx("p",{className:"text-sm text-yellow-800",children:"Aucune ville assigne pour ce segment. Contactez un administrateur."})})]}),l&&u&&s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Fiche de calcul"}),D?s.jsx("div",{className:"text-sm text-gray-500",children:"Chargement..."}):M?s.jsxs("div",{className:"bg-blue-50 border border-blue-200 rounded-lg p-4",children:[s.jsx("p",{className:"text-sm font-medium text-blue-900",children:M.title}),s.jsxs("p",{className:"text-xs text-blue-700 mt-1",children:["Date: ",M.sheet_date]})]}):s.jsx("div",{className:"bg-red-50 border border-red-200 rounded-lg p-4",children:s.jsx("p",{className:"text-sm text-red-800",children:" Aucune fiche de calcul publie pour ce segment"})})]}),l&&u&&M&&s.jsxs("div",{children:[s.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:["Professeur ",s.jsx("span",{className:"text-red-500",children:"*"})]}),O?s.jsx("div",{className:"text-sm text-gray-500",children:"Chargement des professeurs..."}):T&&T.length>0?s.jsxs("select",{value:h,onChange:L=>m(L.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",required:!0,children:[s.jsx("option",{value:"",children:"Slectionnez un professeur"}),T.map(L=>s.jsxs("option",{value:L.id,children:[L.full_name," (",L.username,")"]},L.id))]}):s.jsx("div",{className:"bg-yellow-50 border border-yellow-200 rounded-lg p-4",children:s.jsx("p",{className:"text-sm text-yellow-800",children:"Aucun professeur n'a  la fois ce segment et cette ville assigns."})})]}),h&&s.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[s.jsxs("div",{children:[s.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:["Date de dbut ",s.jsx("span",{className:"text-red-500",children:"*"})]}),s.jsx("input",{type:"date",value:g,onChange:L=>x(L.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",required:!0})]}),s.jsxs("div",{children:[s.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:["Date de fin ",s.jsx("span",{className:"text-red-500",children:"*"})]}),s.jsx("input",{type:"date",value:b,onChange:L=>v(L.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",required:!0})]})]})]})]}),s.jsxs("div",{className:"mt-6 flex gap-3 justify-end",children:[s.jsx(Sa,{to:E,children:s.jsx(Ge,{type:"button",variant:"outline",children:"Annuler"})}),s.jsxs(Ge,{type:"submit",disabled:!l||!u||!h||!g||!b||!M||B.isPending,children:[s.jsx(np,{className:"w-4 h-4 mr-2"}),B.isPending?"Cration...":"Crer la dclaration"]})]})]})})]})},Ef={getSessions:()=>Qe.get("/formations/sessions"),getSession:e=>Qe.get(`/formations/sessions/${e}`),createSession:e=>Qe.post("/formations/sessions",e),updateSession:(e,t)=>Qe.put(`/formations/sessions/${e}`,t),deleteSession:e=>Qe.delete(`/formations/sessions/${e}`),getSessionStudents:e=>Qe.get(`/formations/sessions/${e}/students`),enrollStudents:(e,t)=>Qe.post(`/formations/sessions/${e}/enroll`,t),unenrollStudent:(e,t)=>Qe.delete(`/formations/sessions/${e}/enroll/${t}`),getAvailableStudents:e=>{const t=e?`?session_id=${e}`:"";return Qe.get(`/formations/available-students${t}`)},getStats:()=>Qe.get("/formations/stats")},qn={all:["formations"],sessions:()=>[...qn.all,"sessions"],session:e=>[...qn.all,"session",e],sessionStudents:e=>[...qn.all,"session",e,"students"],availableStudents:e=>[...qn.all,"available-students",e||"all"],stats:()=>[...qn.all,"stats"]};function _L(){return ir({queryKey:qn.sessions(),queryFn:Ef.getSessions})}function Iie(e){return ir({queryKey:qn.session(e),queryFn:()=>Ef.getSession(e),enabled:!!e})}function Bie(e){return ir({queryKey:qn.availableStudents(e),queryFn:()=>Ef.getAvailableStudents(e)})}function Uie(){return ir({queryKey:qn.stats(),queryFn:Ef.getStats})}function zie(){const e=Dt();return Ft({mutationFn:t=>Ef.createSession(t),onSuccess:()=>{e.invalidateQueries({queryKey:qn.sessions()}),e.invalidateQueries({queryKey:qn.stats()})}})}function qie(){const e=Dt();return Ft({mutationFn:({id:t,data:r})=>Ef.updateSession(t,r),onSuccess:(t,r)=>{e.invalidateQueries({queryKey:qn.sessions()}),e.invalidateQueries({queryKey:qn.session(r.id)}),e.invalidateQueries({queryKey:qn.stats()})}})}function $ie(){const e=Dt();return Ft({mutationFn:t=>Ef.deleteSession(t),onSuccess:()=>{e.invalidateQueries({queryKey:qn.sessions()}),e.invalidateQueries({queryKey:qn.stats()})}})}function Hie(){const e=Dt();return Ft({mutationFn:({sessionId:t,data:r})=>Ef.enrollStudents(t,r),onSuccess:(t,r)=>{e.invalidateQueries({queryKey:qn.session(r.sessionId)}),e.invalidateQueries({queryKey:qn.sessionStudents(r.sessionId)}),e.invalidateQueries({queryKey:qn.sessions()}),e.invalidateQueries({queryKey:qn.availableStudents()}),e.invalidateQueries({queryKey:qn.stats()})}})}function Vie(){const e=Dt();return Ft({mutationFn:({sessionId:t,studentId:r})=>Ef.unenrollStudent(t,r),onSuccess:(t,r)=>{e.invalidateQueries({queryKey:qn.session(r.sessionId)}),e.invalidateQueries({queryKey:qn.sessionStudents(r.sessionId)}),e.invalidateQueries({queryKey:qn.sessions()}),e.invalidateQueries({queryKey:qn.availableStudents()}),e.invalidateQueries({queryKey:qn.stats()})}})}const Wie=({selectedSegmentId:e,selectedCityId:t,selectedFormationIds:r,onSegmentChange:n,onCityChange:a,onFormationsChange:i})=>{const[l,o]=k.useState([]),[u,f]=k.useState([]),[h,m]=k.useState([]),[g,x]=k.useState([]),[b,v]=k.useState(""),[w,N]=k.useState(!0),[E,j]=k.useState(!1),[T,O]=k.useState(!1),[P,D]=k.useState(!1);k.useEffect(()=>{M()},[]),k.useEffect(()=>{H()},[]),k.useEffect(()=>{e?B(e):(f([]),a(""))},[e]),k.useEffect(()=>{b?L(b):(x([]),i([]))},[b]);const M=async()=>{try{N(!0);const Z=await Qe.get("/segments");o(Z)}catch(Z){console.error("Error fetching segments:",Z)}finally{N(!1)}},B=async Z=>{try{j(!0);const xe=await Qe.get(`/cities/by-segment/${Z}`);f(xe)}catch(xe){console.error("Error fetching cities:",xe),f([])}finally{j(!1)}},H=async()=>{try{O(!0);const Z=await Qe.get("/corps-formation");m(Z.corps)}catch(Z){console.error("Error fetching corps formations:",Z),m([])}finally{O(!1)}},L=async Z=>{try{D(!0);const xe=await Qe.get(`/formations/all?corps_id=${Z}`);x(xe)}catch(xe){console.error("Error fetching formations:",xe),x([])}finally{D(!1)}},U=Z=>{const xe=Z.target.value;console.log("[SessionFormationSelector] Segment changed:",xe),n(xe),a("")},G=Z=>{a(Z.target.value)},te=Z=>{r.includes(Z)?i(r.filter(xe=>xe!==Z)):i([...r,Z])},de=Z=>{i(r.filter(xe=>xe!==Z))},ne=g.filter(Z=>r.includes(Z.id));return s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{children:[s.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:["Segment ",s.jsx("span",{className:"text-red-500",children:"*"})]}),s.jsxs("div",{className:"relative",children:[s.jsxs("select",{value:e,onChange:U,className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent appearance-none pr-10",disabled:w,children:[s.jsx("option",{value:"",children:"Slectionner un segment"}),l.map(Z=>s.jsx("option",{value:Z.id,children:Z.name},Z.id))]},`segment-select-${e||"empty"}`),s.jsx(Sd,{className:"absolute right-3 top-1/2 transform -translate-y-1/2 h-5 w-5 text-gray-400 pointer-events-none"})]})]}),s.jsxs("div",{children:[s.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:["Ville ",s.jsx("span",{className:"text-red-500",children:"*"})]}),s.jsxs("div",{className:"relative",children:[s.jsxs("select",{value:t,onChange:G,className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent appearance-none pr-10 disabled:bg-gray-100 disabled:cursor-not-allowed",disabled:!e||E,children:[s.jsx("option",{value:"",children:e?E?"Chargement...":"Slectionner une ville":"Slectionner d'abord un segment"}),u.map(Z=>s.jsxs("option",{value:Z.id,children:[Z.name," (",Z.code,")"]},Z.id))]},`city-select-${t||"empty"}`),s.jsx(Sd,{className:"absolute right-3 top-1/2 transform -translate-y-1/2 h-5 w-5 text-gray-400 pointer-events-none"})]})]}),s.jsxs("div",{children:[s.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:["Corps de Formation ",s.jsx("span",{className:"text-red-500",children:"*"})]}),s.jsxs("div",{className:"relative",children:[s.jsxs("select",{value:b,onChange:Z=>{v(Z.target.value),i([])},className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent appearance-none pr-10 disabled:bg-gray-100 disabled:cursor-not-allowed",disabled:T,children:[s.jsx("option",{value:"",children:"Slectionner un corps de formation"}),h.map(Z=>s.jsxs("option",{value:Z.id,children:[Z.name," ",Z.formations_count?`(${Z.formations_count})`:""]},Z.id))]},`corps-select-${b||"empty"}`),s.jsx(Sd,{className:"absolute right-3 top-1/2 transform -translate-y-1/2 h-5 w-5 text-gray-400 pointer-events-none"})]})]}),s.jsxs("div",{children:[s.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:["Formations ",s.jsx("span",{className:"text-red-500",children:"*"})]}),ne.length>0&&s.jsx("div",{className:"mb-2 flex flex-wrap gap-2",children:ne.map(Z=>s.jsxs("div",{className:"inline-flex items-center gap-1 px-3 py-1 bg-blue-100 text-blue-700 rounded-full text-sm",children:[s.jsx("span",{children:Z.title}),s.jsx("button",{type:"button",onClick:()=>de(Z.id),className:"hover:bg-blue-200 rounded-full p-0.5",children:s.jsx(ta,{className:"h-3 w-3"})})]},Z.id))}),s.jsx("div",{className:"border border-gray-300 rounded-lg max-h-64 overflow-y-auto",children:b?P?s.jsx("div",{className:"p-4 text-center text-gray-500",children:"Chargement des formations..."}):g.length===0?s.jsx("div",{className:"p-4 text-center text-gray-500",children:"Aucune formation disponible dans ce corps"}):s.jsx("div",{className:"divide-y divide-gray-200",children:g.map(Z=>s.jsxs("label",{className:"flex items-start gap-3 p-3 hover:bg-gray-50 cursor-pointer",children:[s.jsx("input",{type:"checkbox",checked:r.includes(Z.id),onChange:()=>te(Z.id),className:"mt-1 h-4 w-4 text-blue-600 focus:ring-blue-500 border-gray-300 rounded"}),s.jsxs("div",{className:"flex-1",children:[s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("div",{className:"font-medium text-gray-900",children:Z.title}),Z.is_pack&&s.jsxs("span",{className:"inline-flex items-center px-2 py-0.5 rounded text-xs font-medium bg-amber-100 text-amber-700",children:[s.jsx(Sx,{className:"h-3 w-3 mr-1"}),"Pack"]})]}),Z.description&&s.jsx("div",{className:"text-sm text-gray-500 mt-0.5",children:Z.description}),Z.is_pack&&Z.formations_count&&s.jsxs("div",{className:"text-xs text-blue-600 mt-1",children:[Z.formations_count," formation",Z.formations_count>1?"s":""," incluse",Z.formations_count>1?"s":""]}),Z.price!==void 0&&s.jsxs("div",{className:"text-sm text-blue-600 mt-1 font-semibold",children:[parseFloat(String(Z.price)).toFixed(2)," MAD"]})]})]},Z.id))}):s.jsx("div",{className:"p-4 text-center text-gray-500",children:"Veuillez d'abord slectionner un corps de formation"})}),r.length===0&&s.jsx("p",{className:"mt-1 text-sm text-gray-500",children:"Slectionnez au moins une formation pour cette session"})]})]})},Wk=({session:e,onClose:t})=>{const r=!!e,n=zie(),a=qie(),[i,l]=k.useState({name:e?.name||"",description:e?.description||"",formation_ids:e?.formations?.map(x=>x.id)||[],start_date:e?.start_date?e.start_date.split("T")[0]:"",end_date:e?.end_date?e.end_date.split("T")[0]:"",segment_id:e?.segment_id||"",city_id:e?.city_id||"",instructor_id:e?.instructor_id||"",max_capacity:e?.max_capacity?.toString()||"",status:e?.status||"planned"}),[o,u]=k.useState({}),[f,h]=k.useState(!1),m=()=>{const x={};return i.name.trim()||(x.name="Le nom est obligatoire"),i.start_date||(x.start_date="La date de dbut est obligatoire"),i.end_date||(x.end_date="La date de fin est obligatoire"),i.start_date&&i.end_date&&i.start_date>i.end_date&&(x.end_date="La date de fin doit tre aprs la date de dbut"),i.max_capacity&&parseInt(i.max_capacity)<1&&(x.max_capacity="La capacit doit tre suprieure  0"),i.formation_ids.length===0&&(x.formations="Slectionnez au moins une formation"),i.segment_id||(x.segment="Le segment est obligatoire"),i.city_id||(x.city="La ville est obligatoire"),u(x),Object.keys(x).length===0},g=async x=>{if(x.preventDefault(),!!m()){h(!0);try{const b={name:i.name.trim(),description:i.description.trim()||void 0,formation_ids:i.formation_ids,start_date:i.start_date,end_date:i.end_date,segment_id:i.segment_id,city_id:i.city_id,instructor_id:i.instructor_id||void 0,max_capacity:i.max_capacity?parseInt(i.max_capacity):void 0,status:i.status};r&&e?await a.mutateAsync({id:e.id,data:b}):await n.mutateAsync(b),t()}catch(b){console.error("Error saving session:",b),u({submit:b.message||"Erreur lors de l'enregistrement"})}finally{h(!1)}}};return s.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center p-4 z-50",children:s.jsxs("div",{className:"bg-white rounded-lg shadow-xl max-w-2xl w-full max-h-[90vh] overflow-y-auto",children:[s.jsxs("div",{className:"flex items-center justify-between p-6 border-b",children:[s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx("div",{className:"p-2 bg-blue-100 rounded-lg",children:s.jsx(_i,{className:"h-5 w-5 text-blue-600"})}),s.jsxs("div",{children:[s.jsx("h2",{className:"text-xl font-semibold text-gray-900",children:r?"Modifier la session":"Nouvelle session"}),s.jsx("p",{className:"text-sm text-gray-500 mt-0.5",children:r?"Mettez  jour les informations de la session":"Crez une nouvelle session de formation"})]})]}),s.jsx(Ge,{variant:"ghost",size:"icon",onClick:t,children:s.jsx(ta,{className:"h-5 w-5"})})]}),s.jsxs("form",{onSubmit:g,className:"p-6 space-y-6",children:[o.submit&&s.jsxs("div",{className:"bg-red-50 border border-red-200 rounded-lg p-4 flex items-start gap-3",children:[s.jsx(en,{className:"h-5 w-5 text-red-600 flex-shrink-0 mt-0.5"}),s.jsx("p",{className:"text-sm text-red-700",children:o.submit})]}),s.jsxs("div",{children:[s.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:["Nom de la session ",s.jsx("span",{className:"text-red-500",children:"*"})]}),s.jsx(Na,{value:i.name,onChange:x=>l({...i,name:x.target.value}),placeholder:"Ex: Formation React Avanc",className:o.name?"border-red-300":""}),o.name&&s.jsx("p",{className:"text-xs text-red-600 mt-1",children:o.name})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Description"}),s.jsx("textarea",{value:i.description,onChange:x=>l({...i,description:x.target.value}),placeholder:"Description de la session...",rows:3,className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent text-sm"})]}),s.jsx(Wie,{selectedSegmentId:i.segment_id,selectedCityId:i.city_id,selectedFormationIds:i.formation_ids,onSegmentChange:x=>l(b=>({...b,segment_id:x})),onCityChange:x=>l(b=>({...b,city_id:x})),onFormationsChange:x=>l(b=>({...b,formation_ids:x}))}),o.formations&&s.jsx("p",{className:"text-xs text-red-600 mt-1",children:o.formations}),o.segment&&s.jsx("p",{className:"text-xs text-red-600 mt-1",children:o.segment}),o.city&&s.jsx("p",{className:"text-xs text-red-600 mt-1",children:o.city}),s.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4",children:[s.jsxs("div",{children:[s.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:["Date de dbut ",s.jsx("span",{className:"text-red-500",children:"*"})]}),s.jsx(Na,{type:"date",value:i.start_date,onChange:x=>l({...i,start_date:x.target.value}),className:o.start_date?"border-red-300":""}),o.start_date&&s.jsx("p",{className:"text-xs text-red-600 mt-1",children:o.start_date})]}),s.jsxs("div",{children:[s.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:["Date de fin ",s.jsx("span",{className:"text-red-500",children:"*"})]}),s.jsx(Na,{type:"date",value:i.end_date,onChange:x=>l({...i,end_date:x.target.value}),className:o.end_date?"border-red-300":""}),o.end_date&&s.jsx("p",{className:"text-xs text-red-600 mt-1",children:o.end_date})]})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Capacit maximale"}),s.jsx(Na,{type:"number",min:"1",value:i.max_capacity,onChange:x=>l({...i,max_capacity:x.target.value}),placeholder:"Laissez vide pour illimit",className:o.max_capacity?"border-red-300":""}),o.max_capacity&&s.jsx("p",{className:"text-xs text-red-600 mt-1",children:o.max_capacity})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Statut"}),s.jsxs("select",{value:i.status,onChange:x=>l({...i,status:x.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent text-sm",children:[s.jsx("option",{value:"planned",children:"Planifie"}),s.jsx("option",{value:"active",children:"Active"}),s.jsx("option",{value:"completed",children:"Termine"}),s.jsx("option",{value:"cancelled",children:"Annule"})]})]}),s.jsxs("div",{className:"flex items-center justify-end gap-3 pt-4 border-t",children:[s.jsx(Ge,{type:"button",variant:"outline",onClick:t,disabled:f,children:"Annuler"}),s.jsx(Ge,{type:"submit",disabled:f,className:"min-w-[100px]",children:f?s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-white"}),s.jsx("span",{children:"..."})]}):r?"Enregistrer":"Crer"})]})]})]})})},Kie=({student:e,onClose:t})=>{const r=Dt(),[n,a]=k.useState(!1),[i,l]=k.useState({amount:"",payment_date:new Date().toISOString().split("T")[0],payment_method:"especes",note:""}),[o,u]=k.useState({}),{data:f=[],isLoading:h}=ir({queryKey:["student-payments",e.enrollment_id],queryFn:async()=>{const j=await fetch(`/api/formations/enrollments/${e.enrollment_id}/payments`);if(!j.ok)throw new Error("Failed to fetch payments");return j.json()}}),m=Ft({mutationFn:async j=>{const T=await fetch(`/api/formations/enrollments/${e.enrollment_id}/payments`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({...j,amount:parseFloat(j.amount)})});if(!T.ok)throw new Error("Failed to add payment");return T.json()},onSuccess:()=>{r.invalidateQueries({queryKey:["student-payments",e.enrollment_id]}),r.invalidateQueries({queryKey:["session-students"]}),l({amount:"",payment_date:new Date().toISOString().split("T")[0],payment_method:"especes",note:""}),a(!1),u({})}}),g=Ft({mutationFn:async j=>{const T=await fetch(`/api/formations/enrollments/${e.enrollment_id}/payments/${j}`,{method:"DELETE"});if(!T.ok)throw new Error("Failed to delete payment");return T.json()},onSuccess:()=>{r.invalidateQueries({queryKey:["student-payments",e.enrollment_id]}),r.invalidateQueries({queryKey:["session-students"]})}}),x=()=>{const j={};return(!i.amount||parseFloat(i.amount)<=0)&&(j.amount="Le montant doit tre suprieur  0"),i.payment_date||(j.payment_date="La date est obligatoire"),u(j),Object.keys(j).length===0},b=async j=>{if(j.preventDefault(),!!x())try{await m.mutateAsync(i)}catch(T){u({submit:T.message||"Erreur lors de l'ajout du paiement"})}},v=async j=>{if(window.confirm("tes-vous sr de vouloir supprimer ce paiement ?"))try{await g.mutateAsync(j)}catch{alert("Erreur lors de la suppression du paiement")}},w=j=>({paye:"bg-green-100 text-green-700",partiel:"bg-orange-100 text-orange-700",impaye:"bg-red-100 text-red-700",surpaye:"bg-blue-100 text-blue-700"})[j]||"bg-gray-100 text-gray-700",N=j=>({paye:"Pay",partiel:"Partiellement pay",impaye:"Impay",surpaye:"Surpay"})[j]||j,E=j=>new Date(j).toLocaleDateString("fr-FR",{day:"2-digit",month:"2-digit",year:"numeric"});return s.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center p-4 z-50",children:s.jsxs("div",{className:"bg-white rounded-lg shadow-xl max-w-3xl w-full max-h-[90vh] overflow-y-auto",children:[s.jsxs("div",{className:"flex items-center justify-between p-6 border-b",children:[s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx("div",{className:"p-2 bg-green-100 rounded-lg",children:s.jsx(Qv,{className:"h-5 w-5 text-green-600"})}),s.jsxs("div",{children:[s.jsx("h2",{className:"text-xl font-semibold text-gray-900",children:"Gestion des paiements"}),s.jsx("p",{className:"text-sm text-gray-500 mt-0.5",children:e.student_name})]})]}),s.jsx(Ge,{variant:"ghost",size:"icon",onClick:t,children:s.jsx(ta,{className:"h-5 w-5"})})]}),s.jsx("div",{className:"p-6 bg-gray-50 border-b",children:s.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-4 gap-4",children:[s.jsxs("div",{children:[s.jsx("p",{className:"text-xs text-gray-500 mb-1",children:"Prix formation"}),s.jsxs("p",{className:"text-lg font-bold text-gray-900",children:[e.formation_price?parseFloat(String(e.formation_price)).toFixed(2):"0.00"," MAD"]})]}),s.jsxs("div",{children:[s.jsx("p",{className:"text-xs text-gray-500 mb-1",children:"Remise"}),s.jsxs("p",{className:"text-lg font-bold text-purple-600",children:["-",e.discount_amount?parseFloat(String(e.discount_amount)).toFixed(2):"0.00"," MAD"]})]}),s.jsxs("div",{children:[s.jsx("p",{className:"text-xs text-gray-500 mb-1",children:"Total pay"}),s.jsxs("p",{className:"text-lg font-bold text-blue-600",children:[e.total_paid?parseFloat(String(e.total_paid)).toFixed(2):"0.00"," MAD"]})]}),s.jsxs("div",{children:[s.jsx("p",{className:"text-xs text-gray-500 mb-1",children:"Reste  payer"}),s.jsxs("p",{className:`text-lg font-bold ${parseFloat(String(e.remaining_amount||0))<0?"text-blue-600":parseFloat(String(e.remaining_amount||0))===0?"text-green-600":"text-red-600"}`,children:[e.remaining_amount?parseFloat(String(e.remaining_amount)).toFixed(2):"0.00"," MAD"]}),e.payment_status&&s.jsx("span",{className:`inline-block mt-1 px-2 py-0.5 rounded-full text-xs font-medium ${w(e.payment_status)}`,children:N(e.payment_status)})]})]})}),s.jsxs("div",{className:"p-6",children:[!n&&s.jsxs(Ge,{onClick:()=>a(!0),className:"mb-4",size:"sm",children:[s.jsx(Ya,{className:"h-4 w-4 mr-2"}),"Ajouter un paiement"]}),n&&s.jsxs("div",{className:"mb-6 p-4 bg-blue-50 rounded-lg border border-blue-200",children:[s.jsx("h3",{className:"font-medium text-gray-900 mb-3",children:"Nouveau paiement"}),o.submit&&s.jsxs("div",{className:"mb-3 bg-red-50 border border-red-200 rounded-lg p-3 flex items-start gap-2",children:[s.jsx(en,{className:"h-5 w-5 text-red-600 flex-shrink-0 mt-0.5"}),s.jsx("p",{className:"text-sm text-red-700",children:o.submit})]}),s.jsxs("form",{onSubmit:b,className:"space-y-3",children:[s.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-3",children:[s.jsxs("div",{children:[s.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:["Montant (MAD) ",s.jsx("span",{className:"text-red-500",children:"*"})]}),s.jsx(Na,{type:"number",step:"0.01",min:"0.01",value:i.amount,onChange:j=>l({...i,amount:j.target.value}),placeholder:"0.00",className:o.amount?"border-red-300":""}),o.amount&&s.jsx("p",{className:"text-xs text-red-600 mt-1",children:o.amount})]}),s.jsxs("div",{children:[s.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:["Date ",s.jsx("span",{className:"text-red-500",children:"*"})]}),s.jsx(Na,{type:"date",value:i.payment_date,onChange:j=>l({...i,payment_date:j.target.value}),className:o.payment_date?"border-red-300":""}),o.payment_date&&s.jsx("p",{className:"text-xs text-red-600 mt-1",children:o.payment_date})]})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Mthode de paiement"}),s.jsxs("select",{value:i.payment_method,onChange:j=>l({...i,payment_method:j.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent text-sm",children:[s.jsx("option",{value:"especes",children:"Espces"}),s.jsx("option",{value:"virement",children:"Virement"}),s.jsx("option",{value:"cheque",children:"Chque"}),s.jsx("option",{value:"carte",children:"Carte bancaire"}),s.jsx("option",{value:"autre",children:"Autre"})]})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Note"}),s.jsx("textarea",{value:i.note,onChange:j=>l({...i,note:j.target.value}),placeholder:"Note optionnelle...",rows:2,className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent text-sm"})]}),s.jsxs("div",{className:"flex items-center justify-end gap-2 pt-2",children:[s.jsx(Ge,{type:"button",variant:"outline",size:"sm",onClick:()=>{a(!1),u({}),l({amount:"",payment_date:new Date().toISOString().split("T")[0],payment_method:"especes",note:""})},children:"Annuler"}),s.jsx(Ge,{type:"submit",size:"sm",disabled:m.isPending,children:m.isPending?"Ajout...":"Ajouter"})]})]})]}),s.jsxs("div",{children:[s.jsx("h3",{className:"font-medium text-gray-900 mb-3",children:"Historique des paiements"}),h?s.jsx("div",{className:"text-center py-8 text-gray-500",children:"Chargement..."}):f.length===0?s.jsx("div",{className:"text-center py-8 text-gray-500",children:"Aucun paiement enregistr"}):s.jsx("div",{className:"space-y-2",children:f.map(j=>s.jsxs("div",{className:"flex items-center justify-between p-3 bg-white border border-gray-200 rounded-lg hover:bg-gray-50",children:[s.jsxs("div",{className:"flex-1",children:[s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(_i,{className:"h-4 w-4 text-gray-400"}),s.jsx("span",{className:"text-sm font-medium text-gray-900",children:E(j.payment_date)})]}),s.jsxs("span",{className:"text-lg font-bold text-green-600",children:[parseFloat(String(j.amount)).toFixed(2)," MAD"]}),j.payment_method&&s.jsxs("span",{className:"text-xs text-gray-500 capitalize",children:["(",j.payment_method,")"]})]}),j.note&&s.jsx("p",{className:"text-xs text-gray-500 mt-1",children:j.note})]}),s.jsx(Ge,{variant:"ghost",size:"icon",onClick:()=>v(j.id),disabled:g.isPending,className:"text-red-600 hover:text-red-700 hover:bg-red-50",children:s.jsx(Fn,{className:"h-4 w-4"})})]},j.id))})]})]}),s.jsx("div",{className:"flex items-center justify-end gap-3 p-6 border-t bg-gray-50",children:s.jsx(Ge,{onClick:t,children:"Fermer"})})]})})},Gie=({session:e,onClose:t})=>{const{data:r,isLoading:n}=Iie(e.id),{data:a=[]}=Bie(e.id),i=Hie(),l=Vie(),[o,u]=k.useState([]),[f,h]=k.useState(""),[m,g]=k.useState(!1),[x,b]=k.useState(null),[v,w]=k.useState(null),N=r?.students||[],E=a.filter(H=>H.full_name.toLowerCase().includes(f.toLowerCase())||H.username.toLowerCase().includes(f.toLowerCase())),j=async()=>{if(o.length===0){b("Veuillez slectionner au moins un tudiant");return}g(!0),b(null);try{await i.mutateAsync({sessionId:e.id,data:{student_ids:o}}),u([]),h("")}catch(H){console.error("Error enrolling students:",H),b(H.message||"Erreur lors de l'inscription des tudiants")}finally{g(!1)}},T=async(H,L)=>{if(window.confirm(`tes-vous sr de vouloir dsinscrire ${L} de cette session ?`))try{await l.mutateAsync({sessionId:e.id,studentId:H})}catch(U){console.error("Error unenrolling student:",U),b(U.message||"Erreur lors de la dsinscription")}},O=H=>{u(L=>L.includes(H)?L.filter(U=>U!==H):[...L,H])},P=H=>{const L={enrolled:{bg:"bg-blue-100",text:"text-blue-700",label:"Inscrit"},completed:{bg:"bg-green-100",text:"text-green-700",label:"Termin"},dropped:{bg:"bg-gray-100",text:"text-gray-700",label:"Abandonn"}},U=L[H]||L.enrolled;return s.jsx("span",{className:`px-2 py-1 inline-flex text-xs leading-5 font-semibold rounded-full ${U.bg} ${U.text}`,children:U.label})},D=H=>{if(!H)return null;const U={paye:{bg:"bg-green-100",text:"text-green-700",label:"Pay"},partiel:{bg:"bg-orange-100",text:"text-orange-700",label:"Partiel"},impaye:{bg:"bg-red-100",text:"text-red-700",label:"Impay"},surpaye:{bg:"bg-blue-100",text:"text-blue-700",label:"Surpay"}}[H];return U?s.jsx("span",{className:`px-2 py-1 inline-flex text-xs leading-5 font-semibold rounded-full ${U.bg} ${U.text}`,children:U.label}):null},M=async H=>{const L=H.validation_status==="valide"?"non_valide":"valide";try{if(!(await fetch(`/api/formations/enrollments/${H.enrollment_id}/validation`,{method:"PATCH",headers:{"Content-Type":"application/json"},body:JSON.stringify({validation_status:L,validated_by:L==="valide"?"current_user_id":null})})).ok)throw new Error("Failed to update validation");window.location.reload()}catch{b("Erreur lors de la mise  jour du statut de validation")}},B=e.max_capacity?N.length>=e.max_capacity:!1;return s.jsxs("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center p-4 z-50 overflow-y-auto",children:[s.jsxs("div",{className:"bg-white rounded-lg shadow-xl w-[95vw] max-w-7xl my-8",children:[s.jsxs("div",{className:"flex items-center justify-between p-6 border-b",children:[s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx(ls,{className:"h-6 w-6 text-blue-600"}),s.jsxs("div",{children:[s.jsx("h2",{className:"text-xl font-semibold text-gray-900",children:"Gestion des inscriptions"}),s.jsx("p",{className:"text-sm text-gray-500 mt-1",children:e.name})]})]}),s.jsx("button",{onClick:t,className:"text-gray-400 hover:text-gray-600 transition-colors",children:s.jsx(ta,{className:"h-5 w-5"})})]}),s.jsxs("div",{className:"p-6 max-h-[calc(95vh-140px)] overflow-y-auto",children:[x&&s.jsxs("div",{className:"bg-red-50 border border-red-200 rounded-lg p-4 flex items-start gap-3 mb-6",children:[s.jsx(en,{className:"h-5 w-5 text-red-600 flex-shrink-0 mt-0.5"}),s.jsx("p",{className:"text-sm text-red-800",children:x})]}),n?s.jsx("div",{className:"flex justify-center items-center py-12",children:s.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-blue-600"})}):s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{className:"bg-gray-50 rounded-lg p-4",children:[s.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4",children:[s.jsxs("div",{children:[s.jsx("p",{className:"text-xs text-gray-500",children:"Inscrits"}),s.jsxs("p",{className:"text-lg font-semibold text-gray-900",children:[N.length,e.max_capacity&&` / ${e.max_capacity}`]})]}),s.jsxs("div",{children:[s.jsx("p",{className:"text-xs text-gray-500",children:"Formation(s)"}),s.jsx("p",{className:"text-sm font-medium text-gray-900",children:r?.formations&&r.formations.length>0?r.formations.map(H=>H.title).join(", "):"Aucune"})]}),s.jsxs("div",{children:[s.jsx("p",{className:"text-xs text-gray-500",children:"Segment"}),s.jsx("p",{className:"text-sm font-medium text-gray-900",children:e.segment_name||"-"})]}),s.jsxs("div",{children:[s.jsx("p",{className:"text-xs text-gray-500",children:"Ville"}),s.jsx("p",{className:"text-sm font-medium text-gray-900",children:e.city_name||"-"})]})]}),B&&s.jsx("div",{className:"mt-3 bg-yellow-50 border border-yellow-200 rounded p-2",children:s.jsx("p",{className:"text-xs text-yellow-800",children:" Capacit maximale atteinte"})})]}),s.jsxs("div",{children:[s.jsxs("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:["tudiants inscrits (",N.length,")"]}),N.length===0?s.jsxs("div",{className:"text-center py-8 bg-gray-50 rounded-lg",children:[s.jsx(ls,{className:"h-12 w-12 text-gray-400 mx-auto mb-3"}),s.jsx("p",{className:"text-sm text-gray-500",children:"Aucun tudiant inscrit"})]}):s.jsx("div",{className:"border rounded-lg overflow-hidden",children:s.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[s.jsx("thead",{className:"bg-gray-50",children:s.jsxs("tr",{children:[s.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase",children:"tudiant"}),s.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase",children:"Paiement"}),s.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase",children:"Validation"}),s.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase",children:"Statut"}),s.jsx("th",{className:"px-4 py-3 text-right text-xs font-medium text-gray-500 uppercase",children:"Actions"})]})}),s.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:N.map(H=>s.jsxs("tr",{className:"hover:bg-gray-50",children:[s.jsx("td",{className:"px-4 py-3",children:s.jsxs("div",{children:[s.jsx("p",{className:"text-sm font-medium text-gray-900",children:H.student_name}),s.jsxs("p",{className:"text-xs text-gray-500",children:["@",H.student_username]})]})}),s.jsx("td",{className:"px-4 py-3",children:s.jsxs("div",{className:"space-y-1",children:[D(H.payment_status),H.remaining_amount!==void 0&&s.jsxs("p",{className:"text-xs text-gray-500",children:["Reste: ",H.remaining_amount.toFixed(2)," MAD"]})]})}),s.jsx("td",{className:"px-4 py-3",children:s.jsx("button",{onClick:()=>M(H),className:`p-1.5 rounded-full ${H.validation_status==="valide"?"bg-green-100 text-green-600 hover:bg-green-200":"bg-gray-100 text-gray-400 hover:bg-gray-200"}`,title:H.validation_status==="valide"?"Valid":"Non valid",children:H.validation_status==="valide"?s.jsx(Xa,{className:"h-5 w-5"}):s.jsx(pf,{className:"h-5 w-5"})})}),s.jsx("td",{className:"px-4 py-3",children:P(H.enrollment_status)}),s.jsx("td",{className:"px-4 py-3 text-right",children:s.jsxs("div",{className:"flex items-center justify-end gap-1",children:[s.jsx("button",{onClick:()=>w(H),className:"text-green-600 hover:text-green-700 hover:bg-green-50 p-2 rounded",title:"Grer paiements",children:s.jsx(Qv,{className:"h-4 w-4"})}),s.jsx("button",{onClick:()=>T(H.student_id,H.student_name),className:"text-red-600 hover:text-red-700 hover:bg-red-50 p-2 rounded",title:"Dsinscrire",children:s.jsx(Fn,{className:"h-4 w-4"})})]})})]},H.enrollment_id))})]})})]}),s.jsxs("div",{children:[s.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Ajouter des tudiants"}),s.jsx("div",{className:"mb-4",children:s.jsxs("div",{className:"relative",children:[s.jsx(ap,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 h-4 w-4 text-gray-400"}),s.jsx("input",{type:"text",value:f,onChange:H=>h(H.target.value),placeholder:"Rechercher un tudiant...",className:"w-full pl-10 pr-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent"})]})}),E.length===0?s.jsx("div",{className:"text-center py-8 bg-gray-50 rounded-lg",children:s.jsx("p",{className:"text-sm text-gray-500",children:f?"Aucun tudiant trouv":"Tous les tudiants sont dj inscrits"})}):s.jsx("div",{className:"border rounded-lg max-h-64 overflow-y-auto",children:s.jsx("div",{className:"divide-y divide-gray-200",children:E.map(H=>s.jsxs("label",{className:"flex items-center p-3 hover:bg-gray-50 cursor-pointer",children:[s.jsx("input",{type:"checkbox",checked:o.includes(H.id),onChange:()=>O(H.id),className:"h-4 w-4 text-blue-600 border-gray-300 rounded focus:ring-blue-500"}),s.jsxs("div",{className:"ml-3 flex-1",children:[s.jsx("p",{className:"text-sm font-medium text-gray-900",children:H.full_name}),s.jsxs("p",{className:"text-xs text-gray-500",children:["@",H.username]})]})]},H.id))})}),o.length>0&&s.jsxs("div",{className:"mt-4 flex items-center justify-between bg-blue-50 border border-blue-200 rounded-lg p-3",children:[s.jsxs("p",{className:"text-sm text-blue-800",children:[o.length," tudiant(s) slectionn(s)"]}),s.jsx(Ge,{onClick:j,disabled:m||B,className:"flex items-center gap-2",children:m?s.jsxs(s.Fragment,{children:[s.jsx("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-white"}),s.jsx("span",{children:"Inscription..."})]}):s.jsxs(s.Fragment,{children:[s.jsx(iW,{className:"h-4 w-4"}),s.jsx("span",{children:"Inscrire"})]})})]})]})]})]}),s.jsx("div",{className:"flex justify-end gap-3 p-6 border-t bg-gray-50",children:s.jsx(Ge,{variant:"outline",onClick:t,children:"Fermer"})})]}),v&&s.jsx(Kie,{student:v,onClose:()=>w(null)})]})},Yie=()=>{const{data:e,isLoading:t,error:r}=_L(),{data:n}=Uie(),a=$ie(),[i,l]=k.useState(!1),[o,u]=k.useState(null),[f,h]=k.useState(null),m=async b=>{if(window.confirm(`tes-vous sr de vouloir supprimer la session "${b.name}" ?`))try{await a.mutateAsync(b.id)}catch(v){console.error("Error deleting session:",v),alert("Erreur lors de la suppression de la session")}},g=b=>({planned:"bg-blue-100 text-blue-700",active:"bg-green-100 text-green-700",completed:"bg-gray-100 text-gray-700",cancelled:"bg-red-100 text-red-700"})[b]||"bg-gray-100 text-gray-700",x=b=>({planned:"Planifie",active:"Active",completed:"Termine",cancelled:"Annule"})[b]||b;return s.jsxs(Aa,{title:"Sessions de Formation",subtitle:"Grer les sessions et les inscriptions",children:[s.jsxs("div",{className:"space-y-6",children:[n&&s.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-5 gap-4",children:[s.jsx("div",{className:"bg-white rounded-lg shadow-sm border p-4",children:s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx("div",{className:"p-2 bg-blue-100 rounded-lg",children:s.jsx(_i,{className:"h-5 w-5 text-blue-600"})}),s.jsxs("div",{children:[s.jsx("p",{className:"text-sm text-gray-600",children:"Total Sessions"}),s.jsx("p",{className:"text-2xl font-bold text-gray-900",children:n.sessions.total})]})]})}),s.jsx("div",{className:"bg-white rounded-lg shadow-sm border p-4",children:s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx("div",{className:"p-2 bg-blue-100 rounded-lg",children:s.jsx(_i,{className:"h-5 w-5 text-blue-600"})}),s.jsxs("div",{children:[s.jsx("p",{className:"text-sm text-gray-600",children:"Planifies"}),s.jsx("p",{className:"text-2xl font-bold text-blue-600",children:n.sessions.planned})]})]})}),s.jsx("div",{className:"bg-white rounded-lg shadow-sm border p-4",children:s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx("div",{className:"p-2 bg-green-100 rounded-lg",children:s.jsx(_i,{className:"h-5 w-5 text-green-600"})}),s.jsxs("div",{children:[s.jsx("p",{className:"text-sm text-gray-600",children:"Actives"}),s.jsx("p",{className:"text-2xl font-bold text-green-600",children:n.sessions.active})]})]})}),s.jsx("div",{className:"bg-white rounded-lg shadow-sm border p-4",children:s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx("div",{className:"p-2 bg-gray-100 rounded-lg",children:s.jsx(_i,{className:"h-5 w-5 text-gray-600"})}),s.jsxs("div",{children:[s.jsx("p",{className:"text-sm text-gray-600",children:"Termines"}),s.jsx("p",{className:"text-2xl font-bold text-gray-600",children:n.sessions.completed})]})]})}),s.jsx("div",{className:"bg-white rounded-lg shadow-sm border p-4",children:s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx("div",{className:"p-2 bg-purple-100 rounded-lg",children:s.jsx(ls,{className:"h-5 w-5 text-purple-600"})}),s.jsxs("div",{children:[s.jsx("p",{className:"text-sm text-gray-600",children:"tudiants Inscrits"}),s.jsx("p",{className:"text-2xl font-bold text-purple-600",children:n.total_students_enrolled})]})]})})]}),s.jsxs("div",{className:"flex flex-col sm:flex-row justify-between items-start sm:items-center gap-4",children:[s.jsxs("div",{children:[s.jsx("h2",{className:"text-xl font-semibold text-gray-900",children:"Liste des sessions"}),s.jsx("p",{className:"text-sm text-gray-600 mt-1",children:"Grez les sessions de formation et les inscriptions"})]}),s.jsxs(Ge,{onClick:()=>l(!0),className:"flex items-center gap-2",children:[s.jsx(Ya,{className:"h-4 w-4"}),"Nouvelle session"]})]}),t&&s.jsx("div",{className:"flex justify-center items-center py-12",children:s.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-blue-600"})}),r&&s.jsxs("div",{className:"bg-red-50 border border-red-200 rounded-lg p-4 flex items-start gap-3",children:[s.jsx(en,{className:"h-5 w-5 text-red-600 flex-shrink-0 mt-0.5"}),s.jsxs("div",{children:[s.jsx("p",{className:"text-sm font-medium text-red-800",children:"Erreur de chargement"}),s.jsx("p",{className:"text-sm text-red-700 mt-1",children:r.message})]})]}),e&&e.length>0&&s.jsx("div",{className:"bg-white rounded-lg shadow-sm border overflow-hidden",children:s.jsx("div",{className:"overflow-x-auto",children:s.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[s.jsx("thead",{className:"bg-gray-50",children:s.jsxs("tr",{children:[s.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Session"}),s.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Formation"}),s.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Segment"}),s.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Ville"}),s.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Dates"}),s.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Inscrits"}),s.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Statut"}),s.jsx("th",{className:"px-6 py-3 text-right text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Actions"})]})}),s.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:e.map(b=>s.jsxs("tr",{className:"hover:bg-gray-50",children:[s.jsx("td",{className:"px-6 py-4",children:s.jsxs("div",{children:[s.jsx("p",{className:"text-sm font-medium text-gray-900",children:b.name}),b.description&&s.jsx("p",{className:"text-xs text-gray-500 mt-1 line-clamp-2",children:b.description})]})}),s.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:b.formation_title?s.jsx("div",{className:"flex items-center gap-2",children:s.jsx("span",{className:"inline-flex items-center px-2 py-1 rounded-full text-xs font-medium bg-green-100 text-green-700",children:b.formation_title})}):s.jsx("p",{className:"text-sm text-gray-400",children:"Aucune formation"})}),s.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:s.jsx("p",{className:"text-sm text-gray-900",children:b.segment_name||"-"})}),s.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:s.jsx("p",{className:"text-sm text-gray-900",children:b.city_name||"-"})}),s.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:s.jsxs("div",{className:"text-sm",children:[s.jsx("p",{className:"text-gray-900",children:new Date(b.start_date).toLocaleDateString("fr-FR")}),s.jsx("p",{className:"text-gray-500",children:new Date(b.end_date).toLocaleDateString("fr-FR")})]})}),s.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(ls,{className:"h-4 w-4 text-gray-400"}),s.jsxs("span",{className:"text-sm text-gray-900",children:[b.enrolled_count||0,b.max_capacity&&` / ${b.max_capacity}`]})]})}),s.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:s.jsx("span",{className:`px-2 py-1 inline-flex text-xs leading-5 font-semibold rounded-full ${g(b.status)}`,children:x(b.status)})}),s.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-right text-sm font-medium",children:s.jsxs("div",{className:"flex items-center justify-end gap-2",children:[s.jsx(Ge,{variant:"ghost",size:"sm",onClick:()=>h(b),className:"text-purple-600 hover:text-purple-700 hover:bg-purple-50",children:s.jsx(ls,{className:"h-4 w-4"})}),s.jsx(Ge,{variant:"ghost",size:"sm",onClick:()=>u(b),className:"text-blue-600 hover:text-blue-700 hover:bg-blue-50",children:s.jsx(Hx,{className:"h-4 w-4"})}),s.jsx(Ge,{variant:"ghost",size:"sm",onClick:()=>m(b),className:"text-red-600 hover:text-red-700 hover:bg-red-50",children:s.jsx(Fn,{className:"h-4 w-4"})})]})})]},b.id))})]})})}),e&&e.length===0&&!t&&s.jsxs("div",{className:"bg-white rounded-lg shadow-sm border p-12 text-center",children:[s.jsx(_i,{className:"h-12 w-12 text-gray-400 mx-auto mb-4"}),s.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"Aucune session"}),s.jsx("p",{className:"text-sm text-gray-500 mb-6",children:"Commencez par crer votre premire session de formation"}),s.jsxs(Ge,{onClick:()=>l(!0),className:"flex items-center gap-2",children:[s.jsx(Ya,{className:"h-4 w-4"}),"Crer une session"]})]})]}),i&&s.jsx(Wk,{onClose:()=>l(!1)}),o&&s.jsx(Wk,{session:o,onClose:()=>u(null)}),f&&s.jsx(Gie,{session:f,onClose:()=>h(null)})]})},Ms={getFormations:()=>Qe.get("/cours/formations"),getFormation:e=>Qe.get(`/cours/formations/${e}`),createFormation:e=>Qe.post("/cours/formations",e),updateFormation:(e,t)=>Qe.put(`/cours/formations/${e}`,t),deleteFormation:e=>Qe.delete(`/cours/formations/${e}`),getModules:e=>Qe.get(`/cours/formations/${e}/modules`),createModule:(e,t)=>Qe.post(`/cours/formations/${e}/modules`,t),updateModule:(e,t)=>Qe.put(`/cours/modules/${e}`,t),deleteModule:e=>Qe.delete(`/cours/modules/${e}`),reorderModule:(e,t)=>Qe.put(`/cours/modules/${e}/reorder`,{new_order_index:t}),createVideo:(e,t)=>Qe.post(`/cours/modules/${e}/videos`,t),updateVideo:(e,t)=>Qe.put(`/cours/videos/${e}`,t),deleteVideo:e=>Qe.delete(`/cours/videos/${e}`),createTest:(e,t)=>Qe.post(`/cours/modules/${e}/tests`,t),getTest:e=>Qe.get(`/cours/tests/${e}`),updateTest:(e,t)=>Qe.put(`/cours/tests/${e}`,t),deleteTest:e=>Qe.delete(`/cours/tests/${e}`),createQuestion:(e,t)=>Qe.post(`/cours/tests/${e}/questions`,t),updateQuestion:(e,t)=>Qe.put(`/cours/questions/${e}`,t),deleteQuestion:e=>Qe.delete(`/cours/questions/${e}`),createChoice:(e,t)=>Qe.post(`/cours/questions/${e}/choices`,t),updateChoice:(e,t)=>Qe.put(`/cours/choices/${e}`,t),deleteChoice:e=>Qe.delete(`/cours/choices/${e}`),getStats:()=>Qe.get("/cours/stats")},Jr={all:["cours"],formations:()=>[...Jr.all,"formations"],formation:e=>[...Jr.formations(),e],modules:e=>[...Jr.all,"modules",e],test:e=>[...Jr.all,"test",e],stats:()=>[...Jr.all,"stats"]};function v2(){return ir({queryKey:Jr.formations(),queryFn:()=>Ms.getFormations()})}function cp(e){return ir({queryKey:Jr.formation(e),queryFn:()=>Ms.getFormation(e),enabled:!!e})}function Xie(){const e=Dt();return Ft({mutationFn:t=>Ms.createFormation(t),onSuccess:()=>{e.invalidateQueries({queryKey:Jr.formations()}),e.invalidateQueries({queryKey:Jr.stats()})}})}function Qie(){const e=Dt();return Ft({mutationFn:({id:t,data:r})=>Ms.updateFormation(t,r),onSuccess:(t,{id:r})=>{e.invalidateQueries({queryKey:Jr.formations()}),e.invalidateQueries({queryKey:Jr.formation(r)})}})}function Zie(){const e=Dt();return Ft({mutationFn:t=>Ms.deleteFormation(t),onSuccess:()=>{e.invalidateQueries({queryKey:Jr.formations()}),e.invalidateQueries({queryKey:Jr.stats()})}})}function Jie(){const e=Dt();return Ft({mutationFn:({formationId:t,data:r})=>Ms.createModule(t,r),onSuccess:(t,{formationId:r})=>{e.invalidateQueries({queryKey:Jr.modules(r)}),e.invalidateQueries({queryKey:Jr.formation(r)}),e.invalidateQueries({queryKey:Jr.stats()})}})}function ese(){const e=Dt();return Ft({mutationFn:({id:t,data:r})=>Ms.updateModule(t,r),onSuccess:t=>{e.invalidateQueries({queryKey:Jr.modules(t.formation_id)}),e.invalidateQueries({queryKey:Jr.formation(t.formation_id)})}})}function tse(){const e=Dt();return Ft({mutationFn:t=>Ms.deleteModule(t),onSuccess:t=>{const r=t.module.formation_id;e.invalidateQueries({queryKey:Jr.modules(r)}),e.invalidateQueries({queryKey:Jr.formation(r)}),e.invalidateQueries({queryKey:Jr.stats()})}})}function rse(){const e=Dt();return Ft({mutationFn:({moduleId:t,data:r})=>Ms.createVideo(t,r),onSuccess:()=>{e.invalidateQueries({queryKey:Jr.all})}})}function nse(){const e=Dt();return Ft({mutationFn:({id:t,data:r})=>Ms.updateVideo(t,r),onSuccess:()=>{e.invalidateQueries({queryKey:Jr.all})}})}function ase(){const e=Dt();return Ft({mutationFn:t=>Ms.deleteVideo(t),onSuccess:()=>{e.invalidateQueries({queryKey:Jr.all}),e.invalidateQueries({queryKey:Jr.stats()})}})}function ise(){const e=Dt();return Ft({mutationFn:({moduleId:t,data:r})=>Ms.createTest(t,r),onSuccess:()=>{e.invalidateQueries({queryKey:Jr.all}),e.invalidateQueries({queryKey:Jr.stats()})}})}function sse(){const e=Dt();return Ft({mutationFn:t=>Ms.deleteTest(t),onSuccess:()=>{e.invalidateQueries({queryKey:Jr.all}),e.invalidateQueries({queryKey:Jr.stats()})}})}function lse(){const e=Dt();return Ft({mutationFn:({testId:t,data:r})=>Ms.createQuestion(t,r),onSuccess:t=>{e.invalidateQueries({queryKey:Jr.test(t.test_id)}),e.invalidateQueries({queryKey:Jr.all})}})}function ose(){const e=Dt();return Ft({mutationFn:({questionId:t,data:r})=>Ms.createChoice(t,r),onSuccess:()=>{e.invalidateQueries({queryKey:Jr.all})}})}function cse(){return ir({queryKey:Jr.stats(),queryFn:()=>Ms.getStats()})}const use=({formationId:e,module:t,modules:r=[],onClose:n})=>{const a=!!t,i=Jie(),l=ese(),[o,u]=k.useState({title:t?.title||"",description:t?.description||"",module_type:t?.module_type||"video",prerequisite_module_id:t?.prerequisite_module_id||""}),[f,h]=k.useState({}),m=()=>{const v={};return o.title.trim()||(v.title="Le titre est obligatoire"),h(v),Object.keys(v).length===0},g=async v=>{if(v.preventDefault(),!!m())try{const w={title:o.title.trim(),description:o.description.trim()||void 0,module_type:o.module_type,prerequisite_module_id:o.prerequisite_module_id||void 0};a&&t?await l.mutateAsync({id:t.id,data:w}):await i.mutateAsync({formationId:e,data:w}),n()}catch(w){console.error("Error saving module:",w),h({submit:"Une erreur est survenue lors de la sauvegarde du module"})}},x=r.filter(v=>!a||v.id!==t?.id),b=v=>({video:"Vido",test:"Test",document:"Document"})[v];return s.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center p-4 z-50",children:s.jsxs("div",{className:"bg-white rounded-lg shadow-xl max-w-2xl w-full max-h-[90vh] overflow-y-auto",children:[s.jsxs("div",{className:"flex items-center justify-between p-6 border-b",children:[s.jsx("h2",{className:"text-xl font-semibold text-gray-900",children:a?"Modifier le module":"Ajouter un module"}),s.jsx("button",{onClick:n,className:"text-gray-400 hover:text-gray-600 transition-colors",children:s.jsx(ta,{className:"h-5 w-5"})})]}),s.jsxs("form",{onSubmit:g,className:"p-6 space-y-6",children:[f.submit&&s.jsxs("div",{className:"bg-red-50 border border-red-200 rounded-lg p-4 flex items-start gap-3",children:[s.jsx(en,{className:"h-5 w-5 text-red-600 flex-shrink-0 mt-0.5"}),s.jsx("p",{className:"text-sm text-red-800",children:f.submit})]}),s.jsxs("div",{children:[s.jsxs("label",{htmlFor:"title",className:"block text-sm font-medium text-gray-700 mb-2",children:["Titre ",s.jsx("span",{className:"text-red-500",children:"*"})]}),s.jsx("input",{type:"text",id:"title",value:o.title,onChange:v=>u({...o,title:v.target.value}),className:`w-full px-3 py-2 border rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent ${f.title?"border-red-300":"border-gray-300"}`,placeholder:"Ex: Introduction aux bases de donnes"}),f.title&&s.jsx("p",{className:"mt-1 text-sm text-red-600",children:f.title})]}),s.jsxs("div",{children:[s.jsx("label",{htmlFor:"description",className:"block text-sm font-medium text-gray-700 mb-2",children:"Description"}),s.jsx("textarea",{id:"description",value:o.description,onChange:v=>u({...o,description:v.target.value}),rows:4,className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",placeholder:"Dcrivez le contenu de ce module..."})]}),s.jsxs("div",{children:[s.jsxs("label",{htmlFor:"module_type",className:"block text-sm font-medium text-gray-700 mb-2",children:["Type de module ",s.jsx("span",{className:"text-red-500",children:"*"})]}),s.jsxs("select",{id:"module_type",value:o.module_type,onChange:v=>u({...o,module_type:v.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",children:[s.jsx("option",{value:"video",children:"Vido"}),s.jsx("option",{value:"test",children:"Test"}),s.jsx("option",{value:"document",children:"Document"})]}),s.jsxs("p",{className:"mt-1 text-sm text-gray-500",children:[o.module_type==="video"&&"Module contenant des vidos de cours",o.module_type==="test"&&"Module contenant des tests et valuations",o.module_type==="document"&&"Module contenant des documents et ressources"]})]}),s.jsxs("div",{children:[s.jsx("label",{htmlFor:"prerequisite_module_id",className:"block text-sm font-medium text-gray-700 mb-2",children:"Module prrequis"}),s.jsxs("select",{id:"prerequisite_module_id",value:o.prerequisite_module_id,onChange:v=>u({...o,prerequisite_module_id:v.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",children:[s.jsx("option",{value:"",children:"Aucun (accessible immdiatement)"}),x.map(v=>s.jsxs("option",{value:v.id,children:["#",v.order_index+1," - ",v.title," (",b(v.module_type),")"]},v.id))]}),s.jsx("p",{className:"mt-1 text-sm text-gray-500",children:"L'tudiant devra complter ce module avant d'accder au module actuel"})]}),s.jsxs("div",{className:"flex justify-end gap-3 pt-4 border-t",children:[s.jsx(Ge,{type:"button",variant:"outline",onClick:n,children:"Annuler"}),s.jsx(Ge,{type:"submit",disabled:i.isPending||l.isPending,className:"min-w-[120px]",children:i.isPending||l.isPending?s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-white"}),s.jsx("span",{children:"Sauvegarde..."})]}):a?"Modifier":"Ajouter"})]})]})]})})},fse=({moduleId:e,video:t,onClose:r})=>{const n=!!t,a=rse(),i=nse(),[l,o]=k.useState({title:t?.title||"",youtube_url:t?.youtube_url||"",duration_seconds:t?.duration_seconds?.toString()||"",description:t?.description||""}),[u,f]=k.useState({}),h=N=>N.trim()?[/^https?:\/\/(www\.)?youtube\.com\/watch\?v=[\w-]+/,/^https?:\/\/(www\.)?youtu\.be\/[\w-]+/,/^https?:\/\/(www\.)?youtube\.com\/embed\/[\w-]+/,/^https?:\/\/(www\.)?youtube\.com\/v\/[\w-]+/].some(j=>j.test(N)):!1,m=N=>{const E=[/youtube\.com\/watch\?v=([\w-]+)/,/youtu\.be\/([\w-]+)/,/youtube\.com\/embed\/([\w-]+)/,/youtube\.com\/v\/([\w-]+)/];for(const j of E){const T=N.match(j);if(T&&T[1])return T[1]}return null},g=()=>{const N={};return l.title.trim()||(N.title="Le titre est obligatoire"),l.youtube_url.trim()?h(l.youtube_url)||(N.youtube_url="L'URL YouTube n'est pas valide. Formats accepts: youtube.com/watch?v=..., youtu.be/..., youtube.com/embed/..."):N.youtube_url="L'URL YouTube est obligatoire",l.duration_seconds&&parseInt(l.duration_seconds)<0&&(N.duration_seconds="La dure doit tre positive"),f(N),Object.keys(N).length===0},x=async N=>{if(N.preventDefault(),!!g())try{const E={title:l.title.trim(),youtube_url:l.youtube_url.trim(),duration_seconds:l.duration_seconds?parseInt(l.duration_seconds):void 0,description:l.description.trim()||void 0};n&&t?await i.mutateAsync({id:t.id,data:E}):await a.mutateAsync({moduleId:e,data:E}),r()}catch(E){console.error("Error saving video:",E),f({submit:"Une erreur est survenue lors de la sauvegarde de la vido"})}},b=m(l.youtube_url),v=b?`https://img.youtube.com/vi/${b}/mqdefault.jpg`:null,w=N=>{const E=Math.floor(N/60),j=N%60;return`${E}min ${j}s`};return s.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center p-4 z-50",children:s.jsxs("div",{className:"bg-white rounded-lg shadow-xl max-w-2xl w-full max-h-[90vh] overflow-y-auto",children:[s.jsxs("div",{className:"flex items-center justify-between p-6 border-b",children:[s.jsx("h2",{className:"text-xl font-semibold text-gray-900",children:n?"Modifier la vido":"Ajouter une vido"}),s.jsx("button",{onClick:r,className:"text-gray-400 hover:text-gray-600 transition-colors",children:s.jsx(ta,{className:"h-5 w-5"})})]}),s.jsxs("form",{onSubmit:x,className:"p-6 space-y-6",children:[u.submit&&s.jsxs("div",{className:"bg-red-50 border border-red-200 rounded-lg p-4 flex items-start gap-3",children:[s.jsx(en,{className:"h-5 w-5 text-red-600 flex-shrink-0 mt-0.5"}),s.jsx("p",{className:"text-sm text-red-800",children:u.submit})]}),s.jsxs("div",{children:[s.jsxs("label",{htmlFor:"title",className:"block text-sm font-medium text-gray-700 mb-2",children:["Titre de la vido ",s.jsx("span",{className:"text-red-500",children:"*"})]}),s.jsx("input",{type:"text",id:"title",value:l.title,onChange:N=>o({...l,title:N.target.value}),className:`w-full px-3 py-2 border rounded-lg focus:ring-2 focus:ring-purple-500 focus:border-transparent ${u.title?"border-red-300":"border-gray-300"}`,placeholder:"Ex: Introduction  SQL"}),u.title&&s.jsx("p",{className:"mt-1 text-sm text-red-600",children:u.title})]}),s.jsxs("div",{children:[s.jsxs("label",{htmlFor:"youtube_url",className:"block text-sm font-medium text-gray-700 mb-2",children:["URL YouTube ",s.jsx("span",{className:"text-red-500",children:"*"})]}),s.jsx("input",{type:"text",id:"youtube_url",value:l.youtube_url,onChange:N=>o({...l,youtube_url:N.target.value}),className:`w-full px-3 py-2 border rounded-lg focus:ring-2 focus:ring-purple-500 focus:border-transparent ${u.youtube_url?"border-red-300":"border-gray-300"}`,placeholder:"https://www.youtube.com/watch?v=..."}),u.youtube_url&&s.jsx("p",{className:"mt-1 text-sm text-red-600",children:u.youtube_url}),s.jsx("p",{className:"mt-1 text-xs text-gray-500",children:"Formats accepts: youtube.com/watch?v=..., youtu.be/..., youtube.com/embed/..."}),v&&!u.youtube_url&&s.jsxs("div",{className:"mt-3 border border-gray-200 rounded-lg overflow-hidden",children:[s.jsx("img",{src:v,alt:"Aperu YouTube",className:"w-full"}),s.jsxs("div",{className:"p-2 bg-gray-50 flex items-center justify-between",children:[s.jsx("span",{className:"text-xs text-gray-600",children:"Aperu de la vido"}),s.jsxs("a",{href:l.youtube_url,target:"_blank",rel:"noopener noreferrer",className:"text-xs text-purple-600 hover:text-purple-700 flex items-center gap-1",children:["Ouvrir sur YouTube",s.jsx(o2,{className:"h-3 w-3"})]})]})]})]}),s.jsxs("div",{children:[s.jsx("label",{htmlFor:"duration_seconds",className:"block text-sm font-medium text-gray-700 mb-2",children:"Dure (en secondes)"}),s.jsx("input",{type:"number",id:"duration_seconds",value:l.duration_seconds,onChange:N=>o({...l,duration_seconds:N.target.value}),min:"0",className:`w-full px-3 py-2 border rounded-lg focus:ring-2 focus:ring-purple-500 focus:border-transparent ${u.duration_seconds?"border-red-300":"border-gray-300"}`,placeholder:"Ex: 300"}),u.duration_seconds&&s.jsx("p",{className:"mt-1 text-sm text-red-600",children:u.duration_seconds}),l.duration_seconds&&parseInt(l.duration_seconds)>0&&s.jsxs("p",{className:"mt-1 text-xs text-gray-500",children:["quivalent: ",w(parseInt(l.duration_seconds))]}),s.jsx("p",{className:"mt-1 text-xs text-gray-500",children:"Optionnel - Aide les tudiants  planifier leur temps d'apprentissage"})]}),s.jsxs("div",{children:[s.jsx("label",{htmlFor:"description",className:"block text-sm font-medium text-gray-700 mb-2",children:"Description"}),s.jsx("textarea",{id:"description",value:l.description,onChange:N=>o({...l,description:N.target.value}),rows:4,className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-purple-500 focus:border-transparent",placeholder:"Dcrivez le contenu de cette vido..."}),s.jsx("p",{className:"mt-1 text-xs text-gray-500",children:"Rsum du contenu abord dans la vido"})]}),s.jsxs("div",{className:"flex justify-end gap-3 pt-4 border-t",children:[s.jsx(Ge,{type:"button",variant:"outline",onClick:r,children:"Annuler"}),s.jsx(Ge,{type:"submit",disabled:a.isPending||i.isPending,className:"min-w-[120px] bg-purple-600 hover:bg-purple-700",children:a.isPending||i.isPending?s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-white"}),s.jsx("span",{children:"Sauvegarde..."})]}):n?"Modifier":"Ajouter"})]})]})]})})},dse=({moduleId:e,onClose:t})=>{const r=ise(),n=lse(),a=ose(),[i,l]=k.useState({title:"",description:"",passing_score:60,time_limit_minutes:"",max_attempts:"",show_correct_answers:!0}),[o,u]=k.useState([{tempId:`q-${Date.now()}`,question_text:"",points:1,choices:[{tempId:`c-${Date.now()}-1`,choice_text:"",is_correct:!1},{tempId:`c-${Date.now()}-2`,choice_text:"",is_correct:!1}]}]),[f,h]=k.useState({}),[m,g]=k.useState(!1),x=()=>{u([...o,{tempId:`q-${Date.now()}`,question_text:"",points:1,choices:[{tempId:`c-${Date.now()}-1`,choice_text:"",is_correct:!1},{tempId:`c-${Date.now()}-2`,choice_text:"",is_correct:!1}]}])},b=O=>{if(o.length===1){h({questions:"Un test doit avoir au moins une question"});return}if(u(o.filter(P=>P.tempId!==O)),f.questions){const P={...f};delete P.questions,h(P)}},v=(O,P,D)=>{u(o.map(M=>M.tempId===O?{...M,[P]:D}:M))},w=O=>{u(o.map(P=>P.tempId===O?{...P,choices:[...P.choices,{tempId:`c-${Date.now()}`,choice_text:"",is_correct:!1}]}:P))},N=(O,P)=>{u(o.map(D=>D.tempId===O?D.choices.length<=2?(h({...f,[`choices-${O}`]:"Une question doit avoir au moins 2 choix de rponse"}),D):{...D,choices:D.choices.filter(M=>M.tempId!==P)}:D))},E=(O,P,D,M)=>{u(o.map(B=>B.tempId===O?{...B,choices:B.choices.map(H=>H.tempId===P?{...H,[D]:M}:H)}:B))},j=()=>{const O={};return i.title.trim()||(O.title="Le titre est obligatoire"),(i.passing_score<0||i.passing_score>100)&&(O.passing_score="Le score de russite doit tre entre 0 et 100"),i.time_limit_minutes&&parseInt(i.time_limit_minutes)<1&&(O.time_limit_minutes="La limite de temps doit tre d'au moins 1 minute"),i.max_attempts&&parseInt(i.max_attempts)<1&&(O.max_attempts="Le nombre de tentatives doit tre d'au moins 1"),o.length===0&&(O.questions="Le test doit avoir au moins une question"),o.forEach((P,D)=>{P.question_text.trim()||(O[`question-${P.tempId}`]=`Question ${D+1}: Le texte est obligatoire`),P.points<0&&(O[`points-${P.tempId}`]=`Question ${D+1}: Les points doivent tre positifs`),P.choices.length<2&&(O[`choices-${P.tempId}`]=`Question ${D+1}: Au moins 2 choix requis`),P.choices.some(B=>B.is_correct)||(O[`correct-${P.tempId}`]=`Question ${D+1}: Au moins un choix doit tre marqu comme correct`),P.choices.forEach((B,H)=>{B.choice_text.trim()||(O[`choice-${B.tempId}`]=`Question ${D+1}, Choix ${H+1}: Le texte est obligatoire`)})}),h(O),Object.keys(O).length===0},T=async O=>{if(O.preventDefault(),!!j()){g(!0);try{const P=await r.mutateAsync({moduleId:e,data:{title:i.title.trim(),description:i.description.trim()||void 0,passing_score:i.passing_score,time_limit_minutes:i.time_limit_minutes?parseInt(i.time_limit_minutes):void 0,max_attempts:i.max_attempts?parseInt(i.max_attempts):void 0,show_correct_answers:i.show_correct_answers}});for(let D=0;D<o.length;D++){const M=o[D],B=await n.mutateAsync({testId:P.id,data:{question_text:M.question_text.trim(),points:M.points,order_index:D}});for(let H=0;H<M.choices.length;H++){const L=M.choices[H];await a.mutateAsync({questionId:B.id,data:{choice_text:L.choice_text.trim(),is_correct:L.is_correct,order_index:H}})}}t()}catch(P){console.error("Error creating test:",P),h({submit:"Une erreur est survenue lors de la cration du test"}),g(!1)}}};return s.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center p-4 z-50 overflow-y-auto",children:s.jsxs("div",{className:"bg-white rounded-lg shadow-xl max-w-4xl w-full my-8",children:[s.jsxs("div",{className:"flex items-center justify-between p-6 border-b sticky top-0 bg-white z-10 rounded-t-lg",children:[s.jsx("h2",{className:"text-xl font-semibold text-gray-900",children:"Crer un test"}),s.jsx("button",{onClick:t,disabled:m,className:"text-gray-400 hover:text-gray-600 transition-colors disabled:opacity-50",children:s.jsx(ta,{className:"h-5 w-5"})})]}),s.jsxs("form",{onSubmit:T,className:"p-6 space-y-8 max-h-[calc(90vh-140px)] overflow-y-auto",children:[f.submit&&s.jsxs("div",{className:"bg-red-50 border border-red-200 rounded-lg p-4 flex items-start gap-3",children:[s.jsx(en,{className:"h-5 w-5 text-red-600 flex-shrink-0 mt-0.5"}),s.jsx("p",{className:"text-sm text-red-800",children:f.submit})]}),s.jsxs("div",{className:"space-y-6 bg-gray-50 p-6 rounded-lg",children:[s.jsxs("h3",{className:"text-lg font-semibold text-gray-900 flex items-center gap-2",children:[s.jsx("span",{className:"bg-orange-100 text-orange-700 w-7 h-7 rounded-full flex items-center justify-center text-sm font-bold",children:"1"}),"Informations du test"]}),s.jsxs("div",{children:[s.jsxs("label",{htmlFor:"title",className:"block text-sm font-medium text-gray-700 mb-2",children:["Titre du test ",s.jsx("span",{className:"text-red-500",children:"*"})]}),s.jsx("input",{type:"text",id:"title",value:i.title,onChange:O=>l({...i,title:O.target.value}),className:`w-full px-3 py-2 border rounded-lg focus:ring-2 focus:ring-orange-500 focus:border-transparent ${f.title?"border-red-300":"border-gray-300"}`,placeholder:"Ex: Quiz sur les bases de donnes relationnelles"}),f.title&&s.jsx("p",{className:"mt-1 text-sm text-red-600",children:f.title})]}),s.jsxs("div",{children:[s.jsx("label",{htmlFor:"description",className:"block text-sm font-medium text-gray-700 mb-2",children:"Description"}),s.jsx("textarea",{id:"description",value:i.description,onChange:O=>l({...i,description:O.target.value}),rows:3,className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-orange-500 focus:border-transparent",placeholder:"Dcrivez les objectifs et le contenu de ce test..."})]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[s.jsxs("div",{children:[s.jsxs("label",{htmlFor:"passing_score",className:"block text-sm font-medium text-gray-700 mb-2",children:["Score de russite (%) ",s.jsx("span",{className:"text-red-500",children:"*"})]}),s.jsx("input",{type:"number",id:"passing_score",value:i.passing_score,onChange:O=>l({...i,passing_score:parseInt(O.target.value)||0}),min:"0",max:"100",className:`w-full px-3 py-2 border rounded-lg focus:ring-2 focus:ring-orange-500 focus:border-transparent ${f.passing_score?"border-red-300":"border-gray-300"}`}),f.passing_score&&s.jsx("p",{className:"mt-1 text-sm text-red-600",children:f.passing_score})]}),s.jsxs("div",{children:[s.jsx("label",{htmlFor:"time_limit_minutes",className:"block text-sm font-medium text-gray-700 mb-2",children:"Limite de temps (minutes)"}),s.jsx("input",{type:"number",id:"time_limit_minutes",value:i.time_limit_minutes,onChange:O=>l({...i,time_limit_minutes:O.target.value}),min:"1",className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-orange-500 focus:border-transparent",placeholder:"Optionnel"}),f.time_limit_minutes&&s.jsx("p",{className:"mt-1 text-sm text-red-600",children:f.time_limit_minutes})]}),s.jsxs("div",{children:[s.jsx("label",{htmlFor:"max_attempts",className:"block text-sm font-medium text-gray-700 mb-2",children:"Nombre de tentatives max"}),s.jsx("input",{type:"number",id:"max_attempts",value:i.max_attempts,onChange:O=>l({...i,max_attempts:O.target.value}),min:"1",className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-orange-500 focus:border-transparent",placeholder:"Illimit"}),f.max_attempts&&s.jsx("p",{className:"mt-1 text-sm text-red-600",children:f.max_attempts})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Afficher les bonnes rponses"}),s.jsx("div",{className:"flex items-center gap-4 h-[42px]",children:s.jsxs("label",{className:"flex items-center gap-2 cursor-pointer",children:[s.jsx("input",{type:"checkbox",checked:i.show_correct_answers,onChange:O=>l({...i,show_correct_answers:O.target.checked}),className:"w-4 h-4 text-orange-600 border-gray-300 rounded focus:ring-orange-500"}),s.jsx("span",{className:"text-sm text-gray-700",children:"Montrer les rponses correctes aprs la soumission"})]})})]})]})]}),s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("h3",{className:"text-lg font-semibold text-gray-900 flex items-center gap-2",children:[s.jsx("span",{className:"bg-orange-100 text-orange-700 w-7 h-7 rounded-full flex items-center justify-center text-sm font-bold",children:"2"}),"Questions (",o.length,")"]}),s.jsxs(Ge,{type:"button",onClick:x,variant:"outline",size:"sm",className:"flex items-center gap-2",children:[s.jsx(Ya,{className:"h-4 w-4"}),"Ajouter une question"]})]}),f.questions&&s.jsx("div",{className:"bg-red-50 border border-red-200 rounded-lg p-3",children:s.jsx("p",{className:"text-sm text-red-800",children:f.questions})}),s.jsx("div",{className:"space-y-6",children:o.map((O,P)=>s.jsxs("div",{className:"border border-gray-200 rounded-lg p-6 bg-white",children:[s.jsxs("div",{className:"flex items-start justify-between mb-4",children:[s.jsxs("h4",{className:"font-semibold text-gray-900",children:["Question ",P+1]}),o.length>1&&s.jsx("button",{type:"button",onClick:()=>b(O.tempId),className:"text-red-600 hover:text-red-700 hover:bg-red-50 p-1 rounded",title:"Supprimer cette question",children:s.jsx(Fn,{className:"h-4 w-4"})})]}),s.jsxs("div",{className:"mb-4",children:[s.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:["Texte de la question ",s.jsx("span",{className:"text-red-500",children:"*"})]}),s.jsx("textarea",{value:O.question_text,onChange:D=>v(O.tempId,"question_text",D.target.value),rows:2,className:`w-full px-3 py-2 border rounded-lg focus:ring-2 focus:ring-orange-500 focus:border-transparent ${f[`question-${O.tempId}`]?"border-red-300":"border-gray-300"}`,placeholder:"Entrez la question..."}),f[`question-${O.tempId}`]&&s.jsx("p",{className:"mt-1 text-sm text-red-600",children:f[`question-${O.tempId}`]})]}),s.jsxs("div",{className:"mb-4",children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Points"}),s.jsx("input",{type:"number",value:O.points,onChange:D=>v(O.tempId,"points",parseInt(D.target.value)||1),min:"0",className:"w-32 px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-orange-500 focus:border-transparent"}),f[`points-${O.tempId}`]&&s.jsx("p",{className:"mt-1 text-sm text-red-600",children:f[`points-${O.tempId}`]})]}),s.jsxs("div",{children:[s.jsxs("div",{className:"flex items-center justify-between mb-3",children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Choix de rponse (cochez les bonnes rponses)"}),s.jsxs("button",{type:"button",onClick:()=>w(O.tempId),className:"text-sm text-orange-600 hover:text-orange-700 flex items-center gap-1",children:[s.jsx(Ya,{className:"h-4 w-4"}),"Ajouter un choix"]})]}),f[`choices-${O.tempId}`]&&s.jsx("div",{className:"bg-red-50 border border-red-200 rounded p-2 mb-3",children:s.jsx("p",{className:"text-sm text-red-800",children:f[`choices-${O.tempId}`]})}),f[`correct-${O.tempId}`]&&s.jsx("div",{className:"bg-red-50 border border-red-200 rounded p-2 mb-3",children:s.jsx("p",{className:"text-sm text-red-800",children:f[`correct-${O.tempId}`]})}),s.jsx("div",{className:"space-y-2",children:O.choices.map((D,M)=>s.jsxs("div",{className:`flex items-center gap-3 p-3 rounded-lg border ${D.is_correct?"bg-green-50 border-green-200":"bg-gray-50 border-gray-200"}`,children:[s.jsxs("div",{className:"flex items-center",children:[s.jsx("input",{type:"checkbox",checked:D.is_correct,onChange:B=>E(O.tempId,D.tempId,"is_correct",B.target.checked),className:"w-4 h-4 text-green-600 border-gray-300 rounded focus:ring-green-500",title:"Marquer comme bonne rponse"}),D.is_correct&&s.jsx(B_,{className:"h-4 w-4 text-green-600 ml-1"})]}),s.jsx("input",{type:"text",value:D.choice_text,onChange:B=>E(O.tempId,D.tempId,"choice_text",B.target.value),className:`flex-1 px-3 py-2 border rounded-lg focus:ring-2 focus:ring-orange-500 focus:border-transparent ${f[`choice-${D.tempId}`]?"border-red-300":"border-gray-300"}`,placeholder:`Choix ${M+1}`}),O.choices.length>2&&s.jsx("button",{type:"button",onClick:()=>N(O.tempId,D.tempId),className:"text-red-600 hover:text-red-700 hover:bg-red-100 p-1 rounded",title:"Supprimer ce choix",children:s.jsx(Fn,{className:"h-4 w-4"})})]},D.tempId))})]})]},O.tempId))})]}),s.jsxs("div",{className:"flex justify-end gap-3 pt-4 border-t sticky bottom-0 bg-white",children:[s.jsx(Ge,{type:"button",variant:"outline",onClick:t,disabled:m,children:"Annuler"}),s.jsx(Ge,{type:"submit",disabled:m,className:"min-w-[180px] bg-orange-600 hover:bg-orange-700",children:m?s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-white"}),s.jsx("span",{children:"Cration en cours..."})]}):"Crer le test"})]})]})]})})};function jL(e,t="MAD"){if(e==null)return"Gratuit";const r=typeof e=="string"?parseFloat(e):e;return isNaN(r)||r<=0?"Gratuit":`${r.toFixed(2)} ${t}`}const hse=()=>{const{id:e}=Ko(),t=Pn(),{data:r,isLoading:n,error:a}=cp(e),i=tse(),l=ase(),o=sse(),[u,f]=k.useState(new Set),[h,m]=k.useState(!1),[g,x]=k.useState(!1),[b,v]=k.useState(!1),[w,N]=k.useState(null),[E,j]=k.useState(null),T=G=>{const te=new Set(u);te.has(G)?te.delete(G):te.add(G),f(te)},O=async G=>{if(window.confirm(`tes-vous sr de vouloir supprimer le module "${G.title}" ? Toutes les vidos et tests associs seront galement supprims.`))try{await i.mutateAsync(G.id)}catch(te){console.error("Error deleting module:",te),alert("Erreur lors de la suppression du module")}},P=async G=>{if(window.confirm(`tes-vous sr de vouloir supprimer la vido "${G.title}" ?`))try{await l.mutateAsync(G.id)}catch(te){console.error("Error deleting video:",te),alert("Erreur lors de la suppression de la vido")}},D=async G=>{if(window.confirm(`tes-vous sr de vouloir supprimer le test "${G.title}" ? Toutes les questions et rponses associes seront galement supprimes.`))try{await o.mutateAsync(G.id)}catch(te){console.error("Error deleting test:",te),alert("Erreur lors de la suppression du test")}},M=G=>G==="published"?"bg-green-100 text-green-700":"bg-gray-100 text-gray-700",B=G=>G==="published"?"Publie":"Brouillon",H=G=>({video:"bg-purple-50 text-purple-700",test:"bg-orange-50 text-orange-700",document:"bg-blue-50 text-blue-700"})[G]||"bg-gray-50 text-gray-700",L=G=>({video:"Vido",test:"Test",document:"Document"})[G]||G;if(n)return s.jsx(Aa,{title:"Chargement...",subtitle:"Chargement de la formation",children:s.jsx("div",{className:"flex justify-center items-center py-12",children:s.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-blue-600"})})});if(a||!r)return s.jsxs(Aa,{title:"Erreur",subtitle:"Formation introuvable",children:[s.jsxs("div",{className:"bg-red-50 border border-red-200 rounded-lg p-4 flex items-start gap-3",children:[s.jsx(en,{className:"h-5 w-5 text-red-600 flex-shrink-0 mt-0.5"}),s.jsxs("div",{children:[s.jsx("p",{className:"text-sm font-medium text-red-800",children:"Formation introuvable"}),s.jsx("p",{className:"text-sm text-red-700 mt-1",children:a?.message||"Cette formation n'existe pas ou a t supprime."})]})]}),s.jsx("div",{className:"mt-6",children:s.jsxs(Ge,{onClick:()=>t("/admin/formations/cours"),variant:"outline",children:[s.jsx(Hn,{className:"h-4 w-4 mr-2"}),"Retour aux formations"]})})]});const U=r.modules||[];return s.jsxs(Aa,{title:r.title,subtitle:"Configuration de la formation",children:[s.jsxs("div",{className:"space-y-6",children:[s.jsx("div",{className:"bg-white rounded-lg shadow-sm border p-6",children:s.jsx("div",{className:"flex flex-col sm:flex-row justify-between items-start sm:items-center gap-4",children:s.jsxs("div",{className:"flex-1",children:[s.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[s.jsxs(Ge,{variant:"ghost",size:"sm",onClick:()=>t("/admin/formations/cours"),className:"text-gray-600 hover:text-gray-900",children:[s.jsx(Hn,{className:"h-4 w-4 mr-1"}),"Retour"]}),s.jsx("span",{className:`px-2 py-1 inline-flex text-xs leading-5 font-semibold rounded-full ${M(r.status)}`,children:B(r.status)})]}),s.jsx("h2",{className:"text-2xl font-bold text-gray-900",children:r.title}),r.description&&s.jsx("p",{className:"text-sm text-gray-600 mt-2",children:r.description}),s.jsxs("div",{className:"flex items-center gap-4 mt-3 text-sm text-gray-500",children:[r.duration_hours&&s.jsxs("span",{children:[r.duration_hours,"h de contenu"]}),r.price&&Number(r.price)>0&&s.jsx("span",{children:jL(r.price)}),s.jsxs("span",{children:[U.length," module(s)"]})]})]})})}),s.jsx("div",{className:"bg-white rounded-lg shadow-sm border p-4",children:s.jsx("div",{className:"flex flex-wrap gap-3",children:s.jsxs(Ge,{onClick:()=>{N(null),m(!0)},className:"flex items-center gap-2",children:[s.jsx(Ya,{className:"h-4 w-4"}),"Ajouter un module"]})})}),U.length===0?s.jsxs("div",{className:"bg-white rounded-lg shadow-sm border p-12 text-center",children:[s.jsx(ua,{className:"h-12 w-12 text-gray-400 mx-auto mb-4"}),s.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"Aucun module"}),s.jsx("p",{className:"text-sm text-gray-500 mb-6",children:"Commencez par crer le premier module de votre formation"}),s.jsxs(Ge,{onClick:()=>{N(null),m(!0)},className:"flex items-center gap-2",children:[s.jsx(Ya,{className:"h-4 w-4"}),"Crer un module"]})]}):s.jsx("div",{className:"space-y-3",children:U.map(G=>{const te=u.has(G.id),de=G.videos||[],ne=G.tests||[],Z=de.length>0||ne.length>0;return s.jsxs("div",{className:"bg-white rounded-lg shadow-sm border",children:[s.jsxs("div",{className:"p-4 flex items-center gap-3",children:[s.jsx("button",{onClick:()=>T(G.id),className:"text-gray-400 hover:text-gray-600",disabled:!Z,children:Z?te?s.jsx(Sd,{className:"h-5 w-5"}):s.jsx(Io,{className:"h-5 w-5"}):s.jsx("div",{className:"w-5 h-5"})}),s.jsxs("div",{className:"flex-1 min-w-0",children:[s.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[s.jsxs("span",{className:"text-sm font-medium text-gray-500",children:["#",G.order_index+1]}),s.jsx("h3",{className:"text-base font-semibold text-gray-900 truncate",children:G.title}),s.jsx("span",{className:`px-2 py-0.5 text-xs font-medium rounded-full ${H(G.module_type)}`,children:L(G.module_type)})]}),G.description&&s.jsx("p",{className:"text-sm text-gray-600 line-clamp-2",children:G.description}),s.jsxs("div",{className:"flex items-center gap-3 mt-2 text-xs text-gray-500",children:[s.jsxs("span",{children:[de.length," vido(s)"]}),s.jsxs("span",{children:[ne.length," test(s)"]})]})]}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(Ge,{variant:"ghost",size:"sm",onClick:()=>{j(G.id),x(!0)},className:"text-purple-600 hover:text-purple-700 hover:bg-purple-50",title:"Ajouter une vido",children:s.jsx(Wx,{className:"h-4 w-4"})}),s.jsx(Ge,{variant:"ghost",size:"sm",onClick:()=>{j(G.id),v(!0)},className:"text-orange-600 hover:text-orange-700 hover:bg-orange-50",title:"Ajouter un test",children:s.jsx(sf,{className:"h-4 w-4"})}),s.jsx(Ge,{variant:"ghost",size:"sm",onClick:()=>{N(G),m(!0)},className:"text-blue-600 hover:text-blue-700 hover:bg-blue-50",title:"diter le module",children:s.jsx(Hx,{className:"h-4 w-4"})}),s.jsx(Ge,{variant:"ghost",size:"sm",onClick:()=>O(G),className:"text-red-600 hover:text-red-700 hover:bg-red-50",title:"Supprimer le module",children:s.jsx(Fn,{className:"h-4 w-4"})})]})]}),te&&Z&&s.jsxs("div",{className:"border-t bg-gray-50 px-4 py-3 space-y-2",children:[de.map(xe=>s.jsxs("div",{className:"bg-white rounded border border-purple-100 p-3 flex items-center gap-3",children:[s.jsx(Wx,{className:"h-4 w-4 text-purple-600 flex-shrink-0"}),s.jsxs("div",{className:"flex-1 min-w-0",children:[s.jsx("p",{className:"text-sm font-medium text-gray-900 truncate",children:xe.title}),xe.duration_seconds&&s.jsxs("p",{className:"text-xs text-gray-500",children:[Math.floor(xe.duration_seconds/60),"min"," ",xe.duration_seconds%60,"s"]})]}),s.jsx("div",{className:"flex items-center gap-2",children:s.jsx(Ge,{variant:"ghost",size:"sm",onClick:()=>P(xe),className:"text-red-600 hover:text-red-700 hover:bg-red-50",children:s.jsx(Fn,{className:"h-3 w-3"})})})]},xe.id)),ne.map(xe=>s.jsxs("div",{className:"bg-white rounded border border-orange-100 p-3 flex items-center gap-3",children:[s.jsx(sf,{className:"h-4 w-4 text-orange-600 flex-shrink-0"}),s.jsxs("div",{className:"flex-1 min-w-0",children:[s.jsx("p",{className:"text-sm font-medium text-gray-900 truncate",children:xe.title}),s.jsxs("div",{className:"flex items-center gap-3 text-xs text-gray-500",children:[s.jsxs("span",{children:[xe.questions?.length||0," question(s)"]}),xe.time_limit_minutes&&s.jsxs("span",{children:[xe.time_limit_minutes," min"]}),s.jsxs("span",{children:["Score min: ",xe.passing_score,"%"]})]})]}),s.jsx("div",{className:"flex items-center gap-2",children:s.jsx(Ge,{variant:"ghost",size:"sm",onClick:()=>D(xe),className:"text-red-600 hover:text-red-700 hover:bg-red-50",children:s.jsx(Fn,{className:"h-3 w-3"})})})]},xe.id))]})]},G.id)})})]}),h&&e&&s.jsx(use,{formationId:e,module:w||void 0,modules:U,onClose:()=>{m(!1),N(null)}}),g&&E&&s.jsx(fse,{moduleId:E,onClose:()=>{x(!1),j(null)}}),b&&E&&s.jsx(dse,{moduleId:E,onClose:()=>{v(!1),j(null)}})]})},Pg={getAll:async()=>(await Qe.get("/corps-formation")).corps,getById:async e=>(await Qe.get(`/corps-formation/${e}`)).corps,create:async e=>(await Qe.post("/corps-formation",e)).corps,update:async(e,t)=>(await Qe.put(`/corps-formation/${e}`,t)).corps,delete:async e=>{await Qe.delete(`/corps-formation/${e}`)},getFormationsByCorps:async e=>(await Qe.get(`/corps-formation/${e}/formations`)).formations,getStats:async()=>(await Qe.get("/corps-formation/stats/global")).stats},Qs={all:["corps-formation"],lists:()=>[...Qs.all,"list"],list:()=>[...Qs.lists()],details:()=>[...Qs.all,"detail"],detail:e=>[...Qs.details(),e],stats:()=>[...Qs.all,"stats"],formations:e=>[...Qs.detail(e),"formations"]};function SL(){return ir({queryKey:Qs.list(),queryFn:()=>Pg.getAll()})}function mse(e){return ir({queryKey:Qs.formations(e),queryFn:()=>Pg.getFormationsByCorps(e),enabled:!!e})}function pse(){const e=Dt();return Ft({mutationFn:t=>Pg.create(t),onSuccess:()=>{e.invalidateQueries({queryKey:Qs.lists()}),e.invalidateQueries({queryKey:Qs.stats()})}})}function xse(){const e=Dt();return Ft({mutationFn:({id:t,data:r})=>Pg.update(t,r),onSuccess:(t,r)=>{e.invalidateQueries({queryKey:Qs.lists()}),e.invalidateQueries({queryKey:Qs.detail(r.id)}),e.invalidateQueries({queryKey:Qs.stats()})}})}function gse(){const e=Dt();return Ft({mutationFn:t=>Pg.delete(t),onSuccess:()=>{e.invalidateQueries({queryKey:Qs.lists()}),e.invalidateQueries({queryKey:Qs.stats()})}})}const Al={getAll:async()=>Qe.get("/certificate-templates"),getById:async e=>Qe.get(`/certificate-templates/${e}`),create:async e=>Qe.post("/certificate-templates",e),update:async(e,t)=>Qe.put(`/certificate-templates/${e}`,t),delete:async e=>Qe.delete(`/certificate-templates/${e}`),duplicate:async e=>Qe.post(`/certificate-templates/${e}/duplicate`),duplicateToFolder:async(e,t)=>Qe.post(`/certificate-templates/${e}/duplicate-to-folder`,{targetFolderId:t}),seedDefaults:async()=>Qe.post("/certificate-templates/seed-defaults"),generatePreview:async(e,t)=>{const r=await fetch(`/api/certificate-templates/${e}/preview`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(t)});if(!r.ok)throw new Error("Failed to generate preview");return r.blob()},uploadLogo:async(e,t)=>{const r=new FormData;r.append("logo",t);const n=await fetch(`/api/certificate-templates/${e}/upload-logo`,{method:"POST",body:r});if(!n.ok)throw new Error("Failed to upload logo");return n.json()},uploadSignature:async(e,t)=>{const r=new FormData;r.append("signature",t);const n=await fetch(`/api/certificate-templates/${e}/upload-signature`,{method:"POST",body:r});if(!n.ok)throw new Error("Failed to upload signature");return n.json()},uploadBackground:async(e,t)=>{const r=new FormData;r.append("background",t);const n=await fetch(`/api/certificate-templates/${e}/upload-background`,{method:"POST",body:r});if(!n.ok){const a=await n.json();throw new Error(a.error||"Failed to upload background image")}return n.json()},setBackgroundUrl:async(e,t)=>Qe.post(`/certificate-templates/${e}/background-url`,{url:t}),deleteBackground:async e=>Qe.delete(`/certificate-templates/${e}/background`),uploadCustomFont:async(e,t)=>{const r=new FormData;r.append("font",e),r.append("fontName",t);const n=await fetch("/api/certificate-templates/custom-fonts/upload",{method:"POST",body:r});if(!n.ok){const a=await n.json();throw new Error(a.error||"Failed to upload font")}return n.json()},getCustomFonts:async()=>Qe.get("/certificate-templates/custom-fonts"),deleteCustomFont:async e=>Qe.delete(`/certificate-templates/custom-fonts/${e}`)},Tc={all:["certificate-templates"],detail:e=>["certificate-templates",e],customFonts:["custom-fonts"]},L3=()=>ir({queryKey:Tc.all,queryFn:Al.getAll,staleTime:300*1e3,select:e=>e.templates}),vse=e=>ir({queryKey:Tc.detail(e||""),queryFn:()=>Al.getById(e),enabled:!!e,staleTime:300*1e3,select:t=>t.template}),yse=()=>{const e=Dt();return Ft({mutationFn:t=>Al.create(t),onSuccess:()=>{e.invalidateQueries({queryKey:Tc.all})}})},AL=()=>{const e=Dt();return Ft({mutationFn:({id:t,data:r})=>Al.update(t,r),onSuccess:(t,r)=>{e.invalidateQueries({queryKey:Tc.all}),e.invalidateQueries({queryKey:Tc.detail(r.id)})}})},bse=()=>{const e=Dt();return Ft({mutationFn:t=>Al.delete(t),onSuccess:()=>{e.invalidateQueries({queryKey:Tc.all})}})},wse=()=>{const e=Dt();return Ft({mutationFn:t=>Al.duplicate(t),onSuccess:()=>{e.invalidateQueries({queryKey:Tc.all})}})},Nse=()=>{const e=Dt();return Ft({mutationFn:({id:t,targetFolderId:r})=>Al.duplicateToFolder(t,r),onSuccess:()=>{e.invalidateQueries({queryKey:Tc.all})}})},_se=()=>ir({queryKey:Tc.customFonts,queryFn:Al.getCustomFonts,staleTime:300*1e3,select:e=>e.fonts}),jse=()=>{const e=Dt();return Ft({mutationFn:({file:t,fontName:r})=>Al.uploadCustomFont(t,r),onSuccess:()=>{e.invalidateQueries({queryKey:Tc.customFonts})}})},Sse=()=>{const e=Dt();return Ft({mutationFn:t=>Al.deleteCustomFont(t),onSuccess:()=>{e.invalidateQueries({queryKey:Tc.customFonts})}})},Ase=({formation:e,onClose:t})=>{const r=!!e,n=Xie(),a=Qie(),{data:i}=L3(),{data:l=[]}=SL(),[o,u]=k.useState({title:e?.title||"",description:e?.description||"",price:e?.price?.toString()||"",duration_hours:e?.duration_hours?.toString()||"",level:e?.level||"debutant",thumbnail_url:e?.thumbnail_url||"",status:e?.status||"draft",passing_score_percentage:e?.passing_score_percentage?.toString()||"80",default_certificate_template_id:e?.default_certificate_template_id||"",corps_formation_id:e?.corps_formation_id||""}),[f,h]=k.useState({}),[m,g]=k.useState(!1),x=()=>{const v={};o.title.trim()||(v.title="Le titre est obligatoire"),o.corps_formation_id||(v.corps_formation_id="Le corps de formation est obligatoire"),o.price&&parseFloat(o.price)<0&&(v.price="Le prix doit tre positif"),o.duration_hours&&parseInt(o.duration_hours)<1&&(v.duration_hours="La dure doit tre suprieure  0");const w=parseInt(o.passing_score_percentage);return(w<0||w>100)&&(v.passing_score_percentage="Le score doit tre entre 0 et 100"),h(v),Object.keys(v).length===0},b=async v=>{if(v.preventDefault(),!!x()){g(!0);try{const w={title:o.title.trim(),description:o.description.trim()||void 0,price:o.price?parseFloat(o.price):void 0,duration_hours:o.duration_hours?parseInt(o.duration_hours):void 0,level:o.level,thumbnail_url:o.thumbnail_url.trim()||void 0,status:o.status,passing_score_percentage:parseInt(o.passing_score_percentage),default_certificate_template_id:o.default_certificate_template_id||void 0,corps_formation_id:o.corps_formation_id};r&&e?await a.mutateAsync({id:e.id,data:w}):await n.mutateAsync(w),t()}catch(w){console.error("Error saving formation:",w),h({submit:w.message||"Erreur lors de l'enregistrement"})}finally{g(!1)}}};return s.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center p-4 z-50",children:s.jsxs("div",{className:"bg-white rounded-lg shadow-xl max-w-2xl w-full max-h-[90vh] overflow-y-auto",children:[s.jsxs("div",{className:"flex items-center justify-between p-6 border-b",children:[s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx("div",{className:"p-2 bg-blue-100 rounded-lg",children:s.jsx(ua,{className:"h-5 w-5 text-blue-600"})}),s.jsxs("div",{children:[s.jsx("h2",{className:"text-xl font-semibold text-gray-900",children:r?"Modifier la formation":"Nouvelle formation"}),s.jsx("p",{className:"text-sm text-gray-500 mt-0.5",children:r?"Mettez  jour les informations de la formation":"Crez une nouvelle formation en ligne"})]})]}),s.jsx(Ge,{variant:"ghost",size:"icon",onClick:t,children:s.jsx(ta,{className:"h-5 w-5"})})]}),s.jsxs("form",{onSubmit:b,className:"p-6 space-y-6",children:[f.submit&&s.jsxs("div",{className:"bg-red-50 border border-red-200 rounded-lg p-4 flex items-start gap-3",children:[s.jsx(en,{className:"h-5 w-5 text-red-600 flex-shrink-0 mt-0.5"}),s.jsx("p",{className:"text-sm text-red-700",children:f.submit})]}),s.jsxs("div",{children:[s.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:["Titre de la formation ",s.jsx("span",{className:"text-red-500",children:"*"})]}),s.jsx(Na,{value:o.title,onChange:v=>u({...o,title:v.target.value}),placeholder:"Ex: Matriser React et TypeScript",className:f.title?"border-red-300":""}),f.title&&s.jsx("p",{className:"text-xs text-red-600 mt-1",children:f.title})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Description"}),s.jsx("textarea",{value:o.description,onChange:v=>u({...o,description:v.target.value}),placeholder:"Description complte de la formation...",rows:4,className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent text-sm"})]}),s.jsxs("div",{children:[s.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:["Corps de Formation ",s.jsx("span",{className:"text-red-500",children:"*"})]}),s.jsxs("select",{value:o.corps_formation_id,onChange:v=>u({...o,corps_formation_id:v.target.value}),className:`w-full px-3 py-2 border rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent text-sm ${f.corps_formation_id?"border-red-300":"border-gray-300"}`,children:[s.jsx("option",{value:"",children:"Slectionner un corps de formation"}),l.map(v=>s.jsx("option",{value:v.id,children:v.name},v.id))]}),f.corps_formation_id&&s.jsx("p",{className:"text-xs text-red-600 mt-1",children:f.corps_formation_id}),s.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"Catgorie de formation (ex: Bureautique, Dveloppement Web...)"})]}),s.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Niveau"}),s.jsxs("select",{value:o.level,onChange:v=>u({...o,level:v.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent text-sm",children:[s.jsx("option",{value:"debutant",children:"Dbutant"}),s.jsx("option",{value:"intermediaire",children:"Intermdiaire"}),s.jsx("option",{value:"avance",children:"Avanc"})]})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Statut"}),s.jsxs("select",{value:o.status,onChange:v=>u({...o,status:v.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent text-sm",children:[s.jsx("option",{value:"draft",children:"Brouillon"}),s.jsx("option",{value:"published",children:"Publie"})]})]})]}),s.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Prix (MAD)"}),s.jsx(Na,{type:"number",min:"0",step:"0.01",value:o.price,onChange:v=>u({...o,price:v.target.value}),placeholder:"0.00",className:f.price?"border-red-300":""}),f.price&&s.jsx("p",{className:"text-xs text-red-600 mt-1",children:f.price}),s.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"Laissez vide pour gratuit"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Dure (heures)"}),s.jsx(Na,{type:"number",min:"1",value:o.duration_hours,onChange:v=>u({...o,duration_hours:v.target.value}),placeholder:"10",className:f.duration_hours?"border-red-300":""}),f.duration_hours&&s.jsx("p",{className:"text-xs text-red-600 mt-1",children:f.duration_hours})]})]}),s.jsxs("div",{children:[s.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:["Score de russite (%) ",s.jsx("span",{className:"text-red-500",children:"*"})]}),s.jsx(Na,{type:"number",min:"0",max:"100",value:o.passing_score_percentage,onChange:v=>u({...o,passing_score_percentage:v.target.value}),className:f.passing_score_percentage?"border-red-300":""}),f.passing_score_percentage&&s.jsx("p",{className:"text-xs text-red-600 mt-1",children:f.passing_score_percentage}),s.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"Score minimum requis pour valider les tests (dfaut: 80%)"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"URL de l'image"}),s.jsx(Na,{type:"url",value:o.thumbnail_url,onChange:v=>u({...o,thumbnail_url:v.target.value}),placeholder:"https://example.com/image.jpg"}),s.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"Image de prsentation de la formation (optionnel)"})]}),s.jsxs("div",{children:[s.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-2 flex items-center gap-2",children:[s.jsx(oi,{className:"h-4 w-4 text-blue-600"}),"Template de Certificat"]}),s.jsxs("select",{value:o.default_certificate_template_id,onChange:v=>u({...o,default_certificate_template_id:v.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent text-sm",children:[s.jsx("option",{value:"",children:"Aucun template slectionn"}),i?.map(v=>s.jsx("option",{value:v.id,children:v.name},v.id))]}),s.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"Ce template sera utilis pour gnrer les certificats de cette formation"})]}),s.jsxs("div",{className:"flex items-center justify-end gap-3 pt-4 border-t",children:[s.jsx(Ge,{type:"button",variant:"outline",onClick:t,disabled:m,children:"Annuler"}),s.jsx(Ge,{type:"submit",disabled:m,className:"min-w-[100px]",children:m?s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-white"}),s.jsx("span",{children:"..."})]}):r?"Enregistrer":"Crer"})]})]})]})})};function Ese({isOpen:e,onClose:t,onSubmit:r,corpsId:n,corpsName:a}){const{data:i=[],isLoading:l}=mse(n),{data:o=[]}=L3(),[u,f]=k.useState({title:"",description:"",price:"",level:"intermediaire",certificate_template_id:"",formation_ids:[]}),[h,m]=k.useState(!1);k.useEffect(()=>{e||f({title:"",description:"",price:"",level:"intermediaire",certificate_template_id:"",formation_ids:[]})},[e]);const g=async w=>{if(w.preventDefault(),!u.title.trim()){alert("Le nom du pack est obligatoire");return}if(!u.price||parseFloat(u.price)<=0){alert("Le prix doit tre suprieur  0");return}if(u.formation_ids.length===0){alert("Veuillez slectionner au moins une formation");return}m(!0);try{await r({title:u.title,description:u.description||void 0,corps_formation_id:n,price:parseFloat(u.price),certificate_template_id:u.certificate_template_id||void 0,formation_ids:u.formation_ids,level:u.level}),t()}catch(N){console.error("Erreur cration pack:",N),alert(N.message||"Erreur lors de la cration du pack")}finally{m(!1)}},x=w=>{f(N=>({...N,formation_ids:N.formation_ids.includes(w)?N.formation_ids.filter(E=>E!==w):[...N.formation_ids,w]}))},b=i.filter(w=>u.formation_ids.includes(w.id)),v=b.reduce((w,N)=>w+parseFloat(String(N.price||0)),0);return e?s.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:s.jsxs("div",{className:"bg-white rounded-lg w-full max-w-3xl max-h-[90vh] overflow-y-auto",children:[s.jsxs("div",{className:"sticky top-0 bg-white border-b border-gray-200 px-6 py-4 flex items-center justify-between",children:[s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx("div",{className:"p-2 bg-amber-100 rounded-lg",children:s.jsx(Sx,{className:"h-5 w-5 text-amber-600"})}),s.jsxs("div",{children:[s.jsx("h2",{className:"text-xl font-semibold text-gray-900",children:"Crer un Pack"}),s.jsxs("p",{className:"text-sm text-gray-600",children:["Corps: ",a]})]})]}),s.jsx("button",{onClick:t,className:"text-gray-400 hover:text-gray-600 transition-colors",children:s.jsx(ta,{className:"h-6 w-6"})})]}),s.jsxs("form",{onSubmit:g,className:"p-6 space-y-6",children:[s.jsxs("div",{children:[s.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:["Nom du pack ",s.jsx("span",{className:"text-red-500",children:"*"})]}),s.jsx(Na,{type:"text",value:u.title,onChange:w=>f({...u,title:w.target.value}),placeholder:"Ex: Pack Bureautique Complet",required:!0})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Description"}),s.jsx("textarea",{value:u.description,onChange:w=>f({...u,description:w.target.value}),placeholder:"Description du pack...",rows:3,className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500"})]}),s.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[s.jsxs("div",{children:[s.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:["Prix (MAD) ",s.jsx("span",{className:"text-red-500",children:"*"})]}),s.jsx(Na,{type:"number",step:"0.01",min:"0",value:u.price,onChange:w=>f({...u,price:w.target.value}),placeholder:"1500.00",required:!0}),b.length>0&&s.jsxs("p",{className:"text-xs text-gray-500 mt-1",children:["Prix total formations: ",v.toFixed(2)," MAD"]})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Niveau"}),s.jsxs("select",{value:u.level,onChange:w=>f({...u,level:w.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500",children:[s.jsx("option",{value:"debutant",children:"Dbutant"}),s.jsx("option",{value:"intermediaire",children:"Intermdiaire"}),s.jsx("option",{value:"avance",children:"Avanc"})]})]})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Template de certificat (optionnel)"}),s.jsxs("select",{value:u.certificate_template_id,onChange:w=>f({...u,certificate_template_id:w.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500",children:[s.jsx("option",{value:"",children:"Aucun template spcifique"}),o.map(w=>s.jsx("option",{value:w.id,children:w.name},w.id))]})]}),s.jsxs("div",{children:[s.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-3",children:["Formations incluses ",s.jsx("span",{className:"text-red-500",children:"*"})]}),l?s.jsx("p",{className:"text-sm text-gray-500",children:"Chargement des formations..."}):i.length===0?s.jsx("div",{className:"bg-yellow-50 border border-yellow-200 rounded-lg p-4",children:s.jsx("p",{className:"text-sm text-yellow-800",children:"Aucune formation unitaire publie dans ce corps de formation. Veuillez d'abord crer des formations avant de crer un pack."})}):s.jsx("div",{className:"border border-gray-300 rounded-lg divide-y divide-gray-200 max-h-64 overflow-y-auto",children:i.map(w=>{const N=u.formation_ids.includes(w.id);return s.jsxs("label",{className:`flex items-start gap-3 p-4 cursor-pointer hover:bg-gray-50 transition-colors ${N?"bg-blue-50":""}`,children:[s.jsx("div",{className:"flex items-center h-5",children:s.jsx("input",{type:"checkbox",checked:N,onChange:()=>x(w.id),className:"w-4 h-4 text-blue-600 border-gray-300 rounded focus:ring-blue-500"})}),s.jsxs("div",{className:"flex-1 min-w-0",children:[s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("p",{className:"text-sm font-medium text-gray-900",children:w.title}),N&&s.jsx(B_,{className:"h-4 w-4 text-blue-600 flex-shrink-0"})]}),w.description&&s.jsx("p",{className:"text-sm text-gray-500 mt-1 line-clamp-2",children:w.description}),s.jsxs("div",{className:"flex items-center gap-4 mt-2 text-xs text-gray-600",children:[w.price&&s.jsxs("span",{className:"font-medium",children:[parseFloat(String(w.price)).toFixed(2)," MAD"]}),w.duration_hours&&s.jsxs("span",{children:[w.duration_hours,"h"]}),w.level&&s.jsx("span",{className:"capitalize",children:w.level})]})]})]},w.id)})}),u.formation_ids.length>0&&s.jsxs("p",{className:"text-sm text-blue-600 mt-2",children:[u.formation_ids.length," formation",u.formation_ids.length>1?"s":""," slectionne",u.formation_ids.length>1?"s":""]})]}),s.jsxs("div",{className:"flex items-center gap-3 pt-4 border-t border-gray-200",children:[s.jsx(Ge,{type:"submit",disabled:h||i.length===0,className:"flex-1",children:h?"Cration...":"Crer le pack"}),s.jsx(Ge,{type:"button",variant:"outline",onClick:t,className:"flex-1",children:"Annuler"})]})]})]})}):null}const kse={create:async e=>(await Qe.post("/cours/packs",e)).pack,getById:async e=>(await Qe.get(`/cours/packs/${e}`)).pack,update:async(e,t)=>(await Qe.put(`/cours/packs/${e}`,t)).pack,delete:async e=>{await Qe.delete(`/cours/packs/${e}`)}};function Cse(){const e=Pn(),{data:t=[],isLoading:r}=SL(),{data:n=[],isLoading:a}=v2(),{data:i}=cse(),l=Zie(),o=pse(),u=xse(),f=gse(),[h,m]=k.useState(new Set),[g,x]=k.useState(!1),[b,v]=k.useState(null),[w,N]=k.useState({name:"",description:"",color:"#3B82F6",order_index:0}),[E,j]=k.useState(!1),[T,O]=k.useState(null),[P,D]=k.useState(""),[M,B]=k.useState(!1),[H,L]=k.useState(null),U=F=>{m(q=>{const W=new Set(q);return W.has(F)?W.delete(F):W.add(F),W})},G=F=>n.filter(q=>q.corps_formation_id===F),te=async F=>{if(F.preventDefault(),!w.name.trim()){alert("Le nom du corps est obligatoire");return}try{b?await u.mutateAsync({id:b.id,data:w}):await o.mutateAsync(w),Z()}catch(q){console.error("Erreur lors de la sauvegarde:",q),alert(q.message||"Erreur lors de la sauvegarde")}},de=F=>{v(F),N({name:F.name,description:F.description||"",color:F.color||"#3B82F6",order_index:F.order_index||0}),x(!0)},ne=async(F,q)=>{if(confirm(`tes-vous sr de vouloir supprimer le corps "${q}" ?`))try{await f.mutateAsync(F)}catch(W){alert(W.message||"Erreur lors de la suppression")}},Z=()=>{N({name:"",description:"",color:"#3B82F6",order_index:0}),v(null),x(!1)},xe=F=>{D(F),O(null),j(!0)},le=F=>{O(F),D(""),j(!0)},Se=async(F,q)=>{if(confirm(`tes-vous sr de vouloir supprimer "${q}" ?`))try{await l.mutateAsync(F)}catch(W){alert(W.message||"Erreur lors de la suppression")}},re=(F,q)=>{L({id:F,name:q}),B(!0)},R=async F=>{try{await kse.create(F),B(!1),L(null)}catch(q){throw console.error("Erreur cration pack:",q),q}};return s.jsx("div",{className:"min-h-screen bg-gray-50 p-4 md:p-6 lg:p-8",children:s.jsxs("div",{className:"max-w-7xl mx-auto",children:[s.jsxs("div",{className:"flex flex-col sm:flex-row items-start sm:items-center justify-between gap-4 mb-6",children:[s.jsxs("div",{className:"flex items-center gap-3 sm:gap-4",children:[s.jsx(Sa,{to:"/dashboard",children:s.jsx(Ge,{variant:"outline",size:"icon",children:s.jsx(Hn,{className:"h-4 w-4"})})}),s.jsxs("div",{children:[s.jsx("h1",{className:"text-2xl sm:text-3xl font-bold text-gray-900",children:"Gestion des Formations"}),s.jsx("p",{className:"text-sm text-gray-600 mt-1",children:"Corps de formation et formations associes"})]})]}),s.jsxs(Ge,{onClick:()=>x(!0),className:"w-full sm:w-auto",children:[s.jsx(Ya,{className:"h-4 w-4 mr-2"}),"Nouveau Corps"]})]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4 mb-6",children:[s.jsx(Ur,{children:s.jsx(zr,{className:"p-6",children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Total Corps"}),s.jsx("p",{className:"text-3xl font-bold text-blue-600 mt-1",children:t.length})]}),s.jsx("div",{className:"p-3 bg-blue-100 rounded-lg",children:s.jsx(zx,{className:"h-6 w-6 text-blue-600"})})]})})}),s.jsx(Ur,{children:s.jsx(zr,{className:"p-6",children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Formations"}),s.jsx("p",{className:"text-3xl font-bold text-green-600 mt-1",children:i?.formations?.total||0})]}),s.jsx("div",{className:"p-3 bg-green-100 rounded-lg",children:s.jsx(ua,{className:"h-6 w-6 text-green-600"})})]})})}),s.jsx(Ur,{children:s.jsx(zr,{className:"p-6",children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Vidos"}),s.jsx("p",{className:"text-3xl font-bold text-purple-600 mt-1",children:i?.total_videos||0})]}),s.jsx("div",{className:"p-3 bg-purple-100 rounded-lg",children:s.jsx(Wx,{className:"h-6 w-6 text-purple-600"})})]})})}),s.jsx(Ur,{children:s.jsx(zr,{className:"p-6",children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Tests"}),s.jsx("p",{className:"text-3xl font-bold text-orange-600 mt-1",children:i?.total_tests||0})]}),s.jsx("div",{className:"p-3 bg-orange-100 rounded-lg",children:s.jsx(sf,{className:"h-6 w-6 text-orange-600"})})]})})})]}),g&&s.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center p-4 z-50",children:s.jsxs("div",{className:"bg-white rounded-lg w-full max-w-2xl max-h-[90vh] overflow-y-auto",children:[s.jsx("div",{className:"p-6 border-b",children:s.jsxs("h2",{className:"text-xl font-semibold",children:[b?"Modifier":"Nouveau"," Corps de Formation"]})}),s.jsxs("form",{onSubmit:te,className:"p-6 space-y-4",children:[s.jsxs("div",{children:[s.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:["Nom du corps ",s.jsx("span",{className:"text-red-500",children:"*"})]}),s.jsx(Na,{type:"text",value:w.name,onChange:F=>N({...w,name:F.target.value}),placeholder:"Ex: Bureautique, Dveloppement Web...",required:!0})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Description"}),s.jsx("textarea",{value:w.description,onChange:F=>N({...w,description:F.target.value}),placeholder:"Description du corps de formation...",rows:3,className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500"})]}),s.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Couleur"}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(Na,{type:"color",value:w.color,onChange:F=>N({...w,color:F.target.value}),className:"w-20 h-10"}),s.jsx(Na,{type:"text",value:w.color,onChange:F=>N({...w,color:F.target.value}),placeholder:"#3B82F6",className:"flex-1"})]})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Ordre d'affichage"}),s.jsx(Na,{type:"number",value:w.order_index,onChange:F=>N({...w,order_index:parseInt(F.target.value)||0}),min:"0"})]})]}),s.jsxs("div",{className:"flex gap-2 pt-4",children:[s.jsx(Ge,{type:"submit",disabled:o.isPending||u.isPending,children:b?"Modifier":"Crer"}),s.jsx(Ge,{type:"button",variant:"outline",onClick:Z,children:"Annuler"})]})]})]})}),s.jsx("div",{className:"space-y-3",children:r?s.jsx("div",{className:"text-center py-12",children:s.jsx("p",{className:"text-gray-500",children:"Chargement..."})}):t.length===0?s.jsx(Ur,{children:s.jsxs(zr,{className:"p-12 text-center",children:[s.jsx(zx,{className:"h-12 w-12 text-gray-400 mx-auto mb-4"}),s.jsx("p",{className:"text-gray-600 mb-4",children:"Aucun corps de formation"}),s.jsxs(Ge,{onClick:()=>x(!0),children:[s.jsx(Ya,{className:"h-4 w-4 mr-2"}),"Crer le premier corps"]})]})}):t.map(F=>{const q=G(F.id),W=h.has(F.id);return s.jsxs(Ur,{className:"overflow-hidden",children:[s.jsx("div",{className:"bg-gray-50 border-b",children:s.jsxs("div",{className:"p-4 flex items-center justify-between",children:[s.jsxs("div",{className:"flex items-center gap-3 flex-1",children:[s.jsx("button",{onClick:()=>U(F.id),className:"p-1 hover:bg-gray-200 rounded transition-colors",children:W?s.jsx(Sd,{className:"h-5 w-5 text-gray-600"}):s.jsx(Io,{className:"h-5 w-5 text-gray-600"})}),s.jsx("div",{className:"w-8 h-8 rounded border border-gray-300 flex-shrink-0",style:{backgroundColor:F.color||"#3B82F6"}}),s.jsxs("div",{className:"flex-1",children:[s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:F.name}),s.jsxs("span",{className:"inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium bg-blue-100 text-blue-800",children:[q.length," formation",q.length!==1?"s":""]})]}),F.description&&s.jsx("p",{className:"text-sm text-gray-600 mt-0.5",children:F.description})]})]}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsxs(Ge,{variant:"outline",size:"sm",onClick:()=>xe(F.id),children:[s.jsx(Ya,{className:"h-4 w-4 mr-1"}),"Formation"]}),s.jsx(Ge,{variant:"outline",size:"sm",onClick:()=>de(F),children:s.jsx(Jv,{className:"h-4 w-4"})}),s.jsx(Ge,{variant:"outline",size:"sm",onClick:()=>ne(F.id,F.name),disabled:f.isPending,className:"text-red-600 hover:text-red-700 hover:bg-red-50",children:s.jsx(Fn,{className:"h-4 w-4"})})]})]})}),W&&s.jsx(zr,{className:"p-0",children:a?s.jsx("div",{className:"p-8 text-center text-gray-500",children:"Chargement des formations..."}):q.length===0?s.jsxs("div",{className:"p-8 text-center",children:[s.jsx(ua,{className:"h-12 w-12 text-gray-400 mx-auto mb-3"}),s.jsx("p",{className:"text-gray-600 mb-4",children:"Aucune formation dans ce corps"}),s.jsxs("div",{className:"flex gap-2 justify-center",children:[s.jsxs(Ge,{variant:"outline",size:"sm",onClick:()=>xe(F.id),children:[s.jsx(Ya,{className:"h-4 w-4 mr-2"}),"Crer une formation"]}),s.jsxs(Ge,{variant:"outline",size:"sm",onClick:()=>re(F.id,F.name),children:[s.jsx(Sx,{className:"h-4 w-4 mr-2"}),"Crer un pack"]})]})]}):s.jsxs("div",{children:[s.jsx("div",{className:"px-4 py-3 bg-amber-50 border-b border-amber-100",children:s.jsxs(Ge,{variant:"outline",size:"sm",onClick:()=>re(F.id,F.name),className:"bg-white",children:[s.jsx(Sx,{className:"h-4 w-4 mr-2 text-amber-600"}),"Crer un pack pour ce corps"]})}),s.jsx("div",{className:"overflow-x-auto",children:s.jsxs("table",{className:"w-full",children:[s.jsx("thead",{className:"bg-gray-50 border-b",children:s.jsxs("tr",{children:[s.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase",children:"Formation"}),s.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase",children:"Niveau"}),s.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase",children:"Prix"}),s.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase",children:"Modules"}),s.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase",children:"Certificat"}),s.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase",children:"Statut"}),s.jsx("th",{className:"px-4 py-3 text-right text-xs font-medium text-gray-500 uppercase",children:"Actions"})]})}),s.jsx("tbody",{className:"divide-y divide-gray-200 bg-white",children:q.map(Q=>s.jsxs("tr",{className:"hover:bg-gray-50",children:[s.jsxs("td",{className:"px-4 py-3",children:[s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("div",{className:"font-medium text-gray-900",children:Q.title}),Q.is_pack&&s.jsxs("span",{className:"inline-flex items-center px-2 py-0.5 rounded text-xs font-medium bg-amber-100 text-amber-700",children:[s.jsx(Sx,{className:"h-3 w-3 mr-1"}),"Pack"]})]}),Q.is_pack&&Q.formations_count&&s.jsxs("div",{className:"text-xs text-blue-600 mt-0.5",children:[Q.formations_count," formation",Q.formations_count>1?"s":""," incluse",Q.formations_count>1?"s":""]})]}),s.jsx("td",{className:"px-4 py-3",children:s.jsx("span",{className:"text-sm text-gray-600 capitalize",children:Q.level||"-"})}),s.jsx("td",{className:"px-4 py-3",children:s.jsx("span",{className:"text-sm font-medium text-gray-900",children:Q.price?`${parseFloat(String(Q.price)).toFixed(2)} MAD`:"Gratuit"})}),s.jsx("td",{className:"px-4 py-3",children:s.jsx("span",{className:"text-sm text-gray-600",children:Q.module_count||0})}),s.jsx("td",{className:"px-4 py-3",children:Q.certificate_template_name?s.jsxs("div",{className:"flex items-center gap-1 text-sm text-blue-600",children:[s.jsx(oi,{className:"h-4 w-4"}),s.jsx("span",{className:"truncate max-w-[150px]",children:Q.certificate_template_name})]}):s.jsx("span",{className:"text-sm text-gray-400",children:"-"})}),s.jsx("td",{className:"px-4 py-3",children:s.jsx("span",{className:`inline-flex items-center px-2 py-1 rounded-full text-xs font-medium ${Q.status==="published"?"bg-green-100 text-green-700":"bg-gray-100 text-gray-700"}`,children:Q.status==="published"?"Publi":"Brouillon"})}),s.jsx("td",{className:"px-4 py-3",children:s.jsxs("div",{className:"flex items-center justify-end gap-2",children:[!Q.is_pack&&s.jsx(Ge,{variant:"outline",size:"sm",onClick:()=>e(`/admin/formations/cours/${Q.id}/editor`),title:"diteur",children:s.jsx(aF,{className:"h-4 w-4"})}),s.jsx(Ge,{variant:"outline",size:"sm",onClick:()=>le(Q),title:"Modifier",children:s.jsx(Jv,{className:"h-4 w-4"})}),s.jsx(Ge,{variant:"outline",size:"sm",onClick:()=>Se(Q.id,Q.title),disabled:l.isPending,className:"text-red-600 hover:text-red-700 hover:bg-red-50",title:"Supprimer",children:s.jsx(Fn,{className:"h-4 w-4"})})]})})]},Q.id))})]})})]})})]},F.id)})}),E&&s.jsx(Ase,{formation:T?{...T,corps_formation_id:T.corps_formation_id}:P?{corps_formation_id:P}:void 0,onClose:()=>{j(!1),O(null),D("")}}),M&&H&&s.jsx(Ese,{isOpen:M,onClose:()=>{B(!1),L(null)},onSubmit:R,corpsId:H.id,corpsName:H.name})]})})}function EL(e){var t,r,n="";if(typeof e=="string"||typeof e=="number")n+=e;else if(typeof e=="object")if(Array.isArray(e)){var a=e.length;for(t=0;t<a;t++)e[t]&&(r=EL(e[t]))&&(n&&(n+=" "),n+=r)}else for(r in e)e[r]&&(n&&(n+=" "),n+=r);return n}function ln(){for(var e,t,r=0,n="",a=arguments.length;r<a;r++)(e=arguments[r])&&(t=EL(e))&&(n&&(n+=" "),n+=t);return n}var Tse=["dangerouslySetInnerHTML","onCopy","onCopyCapture","onCut","onCutCapture","onPaste","onPasteCapture","onCompositionEnd","onCompositionEndCapture","onCompositionStart","onCompositionStartCapture","onCompositionUpdate","onCompositionUpdateCapture","onFocus","onFocusCapture","onBlur","onBlurCapture","onChange","onChangeCapture","onBeforeInput","onBeforeInputCapture","onInput","onInputCapture","onReset","onResetCapture","onSubmit","onSubmitCapture","onInvalid","onInvalidCapture","onLoad","onLoadCapture","onError","onErrorCapture","onKeyDown","onKeyDownCapture","onKeyPress","onKeyPressCapture","onKeyUp","onKeyUpCapture","onAbort","onAbortCapture","onCanPlay","onCanPlayCapture","onCanPlayThrough","onCanPlayThroughCapture","onDurationChange","onDurationChangeCapture","onEmptied","onEmptiedCapture","onEncrypted","onEncryptedCapture","onEnded","onEndedCapture","onLoadedData","onLoadedDataCapture","onLoadedMetadata","onLoadedMetadataCapture","onLoadStart","onLoadStartCapture","onPause","onPauseCapture","onPlay","onPlayCapture","onPlaying","onPlayingCapture","onProgress","onProgressCapture","onRateChange","onRateChangeCapture","onSeeked","onSeekedCapture","onSeeking","onSeekingCapture","onStalled","onStalledCapture","onSuspend","onSuspendCapture","onTimeUpdate","onTimeUpdateCapture","onVolumeChange","onVolumeChangeCapture","onWaiting","onWaitingCapture","onAuxClick","onAuxClickCapture","onClick","onClickCapture","onContextMenu","onContextMenuCapture","onDoubleClick","onDoubleClickCapture","onDrag","onDragCapture","onDragEnd","onDragEndCapture","onDragEnter","onDragEnterCapture","onDragExit","onDragExitCapture","onDragLeave","onDragLeaveCapture","onDragOver","onDragOverCapture","onDragStart","onDragStartCapture","onDrop","onDropCapture","onMouseDown","onMouseDownCapture","onMouseEnter","onMouseLeave","onMouseMove","onMouseMoveCapture","onMouseOut","onMouseOutCapture","onMouseOver","onMouseOverCapture","onMouseUp","onMouseUpCapture","onSelect","onSelectCapture","onTouchCancel","onTouchCancelCapture","onTouchEnd","onTouchEndCapture","onTouchMove","onTouchMoveCapture","onTouchStart","onTouchStartCapture","onPointerDown","onPointerDownCapture","onPointerMove","onPointerMoveCapture","onPointerUp","onPointerUpCapture","onPointerCancel","onPointerCancelCapture","onPointerEnter","onPointerEnterCapture","onPointerLeave","onPointerLeaveCapture","onPointerOver","onPointerOverCapture","onPointerOut","onPointerOutCapture","onGotPointerCapture","onGotPointerCaptureCapture","onLostPointerCapture","onLostPointerCaptureCapture","onScroll","onScrollCapture","onWheel","onWheelCapture","onAnimationStart","onAnimationStartCapture","onAnimationEnd","onAnimationEndCapture","onAnimationIteration","onAnimationIterationCapture","onTransitionEnd","onTransitionEndCapture"];function M3(e){if(typeof e!="string")return!1;var t=Tse;return t.includes(e)}var Ose=["aria-activedescendant","aria-atomic","aria-autocomplete","aria-busy","aria-checked","aria-colcount","aria-colindex","aria-colspan","aria-controls","aria-current","aria-describedby","aria-details","aria-disabled","aria-errormessage","aria-expanded","aria-flowto","aria-haspopup","aria-hidden","aria-invalid","aria-keyshortcuts","aria-label","aria-labelledby","aria-level","aria-live","aria-modal","aria-multiline","aria-multiselectable","aria-orientation","aria-owns","aria-placeholder","aria-posinset","aria-pressed","aria-readonly","aria-relevant","aria-required","aria-roledescription","aria-rowcount","aria-rowindex","aria-rowspan","aria-selected","aria-setsize","aria-sort","aria-valuemax","aria-valuemin","aria-valuenow","aria-valuetext","className","color","height","id","lang","max","media","method","min","name","style","target","width","role","tabIndex","accentHeight","accumulate","additive","alignmentBaseline","allowReorder","alphabetic","amplitude","arabicForm","ascent","attributeName","attributeType","autoReverse","azimuth","baseFrequency","baselineShift","baseProfile","bbox","begin","bias","by","calcMode","capHeight","clip","clipPath","clipPathUnits","clipRule","colorInterpolation","colorInterpolationFilters","colorProfile","colorRendering","contentScriptType","contentStyleType","cursor","cx","cy","d","decelerate","descent","diffuseConstant","direction","display","divisor","dominantBaseline","dur","dx","dy","edgeMode","elevation","enableBackground","end","exponent","externalResourcesRequired","fill","fillOpacity","fillRule","filter","filterRes","filterUnits","floodColor","floodOpacity","focusable","fontFamily","fontSize","fontSizeAdjust","fontStretch","fontStyle","fontVariant","fontWeight","format","from","fx","fy","g1","g2","glyphName","glyphOrientationHorizontal","glyphOrientationVertical","glyphRef","gradientTransform","gradientUnits","hanging","horizAdvX","horizOriginX","href","ideographic","imageRendering","in2","in","intercept","k1","k2","k3","k4","k","kernelMatrix","kernelUnitLength","kerning","keyPoints","keySplines","keyTimes","lengthAdjust","letterSpacing","lightingColor","limitingConeAngle","local","markerEnd","markerHeight","markerMid","markerStart","markerUnits","markerWidth","mask","maskContentUnits","maskUnits","mathematical","mode","numOctaves","offset","opacity","operator","order","orient","orientation","origin","overflow","overlinePosition","overlineThickness","paintOrder","panose1","pathLength","patternContentUnits","patternTransform","patternUnits","pointerEvents","pointsAtX","pointsAtY","pointsAtZ","preserveAlpha","preserveAspectRatio","primitiveUnits","r","radius","refX","refY","renderingIntent","repeatCount","repeatDur","requiredExtensions","requiredFeatures","restart","result","rotate","rx","ry","seed","shapeRendering","slope","spacing","specularConstant","specularExponent","speed","spreadMethod","startOffset","stdDeviation","stemh","stemv","stitchTiles","stopColor","stopOpacity","strikethroughPosition","strikethroughThickness","string","stroke","strokeDasharray","strokeDashoffset","strokeLinecap","strokeLinejoin","strokeMiterlimit","strokeOpacity","strokeWidth","surfaceScale","systemLanguage","tableValues","targetX","targetY","textAnchor","textDecoration","textLength","textRendering","to","transform","u1","u2","underlinePosition","underlineThickness","unicode","unicodeBidi","unicodeRange","unitsPerEm","vAlphabetic","values","vectorEffect","version","vertAdvY","vertOriginX","vertOriginY","vHanging","vIdeographic","viewTarget","visibility","vMathematical","widths","wordSpacing","writingMode","x1","x2","x","xChannelSelector","xHeight","xlinkActuate","xlinkArcrole","xlinkHref","xlinkRole","xlinkShow","xlinkTitle","xlinkType","xmlBase","xmlLang","xmlns","xmlnsXlink","xmlSpace","y1","y2","y","yChannelSelector","z","zoomAndPan","ref","key","angle"];function kL(e){if(typeof e!="string")return!1;var t=Ose;return t.includes(e)}function CL(e){return typeof e=="string"&&e.startsWith("data-")}function ao(e){var t=Object.entries(e).filter(r=>{var[n]=r;return kL(n)||CL(n)});return Object.fromEntries(t)}function J0(e){if(e==null)return null;if(k.isValidElement(e)&&typeof e.props=="object"&&e.props!==null){var t=e.props;return ao(t)}return typeof e=="object"&&!Array.isArray(e)?ao(e):null}function nl(e){var t=Object.entries(e).filter(r=>{var[n]=r;return kL(n)||CL(n)||M3(n)});return Object.fromEntries(t)}function Dse(e){return e==null?null:k.isValidElement(e)?nl(e.props):typeof e=="object"&&!Array.isArray(e)?nl(e):null}var Fse=["children","width","height","viewBox","className","style","title","desc"];function pN(){return pN=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},pN.apply(null,arguments)}function Pse(e,t){if(e==null)return{};var r,n,a=Lse(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}function Lse(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}var R3=k.forwardRef((e,t)=>{var{children:r,width:n,height:a,viewBox:i,className:l,style:o,title:u,desc:f}=e,h=Pse(e,Fse),m=i||{width:n,height:a,x:0,y:0},g=ln("recharts-surface",l);return k.createElement("svg",pN({},nl(h),{className:g,width:n,height:a,style:o,viewBox:"".concat(m.x," ").concat(m.y," ").concat(m.width," ").concat(m.height),ref:t}),k.createElement("title",null,u),k.createElement("desc",null,f),r)}),Mse=["children","className"];function xN(){return xN=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},xN.apply(null,arguments)}function Rse(e,t){if(e==null)return{};var r,n,a=Ise(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}function Ise(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}var os=k.forwardRef((e,t)=>{var{children:r,className:n}=e,a=Rse(e,Mse),i=ln("recharts-layer",n);return k.createElement("g",xN({className:i},nl(a),{ref:t}),r)}),TL=k.createContext(null),Bse=()=>k.useContext(TL);function zn(e){return function(){return e}}const OL=Math.cos,hy=Math.sin,Lc=Math.sqrt,my=Math.PI,y2=2*my,gN=Math.PI,vN=2*gN,w0=1e-6,Use=vN-w0;function DL(e){this._+=e[0];for(let t=1,r=e.length;t<r;++t)this._+=arguments[t]+e[t]}function zse(e){let t=Math.floor(e);if(!(t>=0))throw new Error(`invalid digits: ${e}`);if(t>15)return DL;const r=10**t;return function(n){this._+=n[0];for(let a=1,i=n.length;a<i;++a)this._+=Math.round(arguments[a]*r)/r+n[a]}}class qse{constructor(t){this._x0=this._y0=this._x1=this._y1=null,this._="",this._append=t==null?DL:zse(t)}moveTo(t,r){this._append`M${this._x0=this._x1=+t},${this._y0=this._y1=+r}`}closePath(){this._x1!==null&&(this._x1=this._x0,this._y1=this._y0,this._append`Z`)}lineTo(t,r){this._append`L${this._x1=+t},${this._y1=+r}`}quadraticCurveTo(t,r,n,a){this._append`Q${+t},${+r},${this._x1=+n},${this._y1=+a}`}bezierCurveTo(t,r,n,a,i,l){this._append`C${+t},${+r},${+n},${+a},${this._x1=+i},${this._y1=+l}`}arcTo(t,r,n,a,i){if(t=+t,r=+r,n=+n,a=+a,i=+i,i<0)throw new Error(`negative radius: ${i}`);let l=this._x1,o=this._y1,u=n-t,f=a-r,h=l-t,m=o-r,g=h*h+m*m;if(this._x1===null)this._append`M${this._x1=t},${this._y1=r}`;else if(g>w0)if(!(Math.abs(m*u-f*h)>w0)||!i)this._append`L${this._x1=t},${this._y1=r}`;else{let x=n-l,b=a-o,v=u*u+f*f,w=x*x+b*b,N=Math.sqrt(v),E=Math.sqrt(g),j=i*Math.tan((gN-Math.acos((v+g-w)/(2*N*E)))/2),T=j/E,O=j/N;Math.abs(T-1)>w0&&this._append`L${t+T*h},${r+T*m}`,this._append`A${i},${i},0,0,${+(m*x>h*b)},${this._x1=t+O*u},${this._y1=r+O*f}`}}arc(t,r,n,a,i,l){if(t=+t,r=+r,n=+n,l=!!l,n<0)throw new Error(`negative radius: ${n}`);let o=n*Math.cos(a),u=n*Math.sin(a),f=t+o,h=r+u,m=1^l,g=l?a-i:i-a;this._x1===null?this._append`M${f},${h}`:(Math.abs(this._x1-f)>w0||Math.abs(this._y1-h)>w0)&&this._append`L${f},${h}`,n&&(g<0&&(g=g%vN+vN),g>Use?this._append`A${n},${n},0,1,${m},${t-o},${r-u}A${n},${n},0,1,${m},${this._x1=f},${this._y1=h}`:g>w0&&this._append`A${n},${n},0,${+(g>=gN)},${m},${this._x1=t+n*Math.cos(i)},${this._y1=r+n*Math.sin(i)}`)}rect(t,r,n,a){this._append`M${this._x0=this._x1=+t},${this._y0=this._y1=+r}h${n=+n}v${+a}h${-n}Z`}toString(){return this._}}function I3(e){let t=3;return e.digits=function(r){if(!arguments.length)return t;if(r==null)t=null;else{const n=Math.floor(r);if(!(n>=0))throw new RangeError(`invalid digits: ${r}`);t=n}return e},()=>new qse(t)}function B3(e){return typeof e=="object"&&"length"in e?e:Array.from(e)}function FL(e){this._context=e}FL.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;default:this._context.lineTo(e,t);break}}};function b2(e){return new FL(e)}function PL(e){return e[0]}function LL(e){return e[1]}function ML(e,t){var r=zn(!0),n=null,a=b2,i=null,l=I3(o);e=typeof e=="function"?e:e===void 0?PL:zn(e),t=typeof t=="function"?t:t===void 0?LL:zn(t);function o(u){var f,h=(u=B3(u)).length,m,g=!1,x;for(n==null&&(i=a(x=l())),f=0;f<=h;++f)!(f<h&&r(m=u[f],f,u))===g&&((g=!g)?i.lineStart():i.lineEnd()),g&&i.point(+e(m,f,u),+t(m,f,u));if(x)return i=null,x+""||null}return o.x=function(u){return arguments.length?(e=typeof u=="function"?u:zn(+u),o):e},o.y=function(u){return arguments.length?(t=typeof u=="function"?u:zn(+u),o):t},o.defined=function(u){return arguments.length?(r=typeof u=="function"?u:zn(!!u),o):r},o.curve=function(u){return arguments.length?(a=u,n!=null&&(i=a(n)),o):a},o.context=function(u){return arguments.length?(u==null?n=i=null:i=a(n=u),o):n},o}function cv(e,t,r){var n=null,a=zn(!0),i=null,l=b2,o=null,u=I3(f);e=typeof e=="function"?e:e===void 0?PL:zn(+e),t=typeof t=="function"?t:zn(t===void 0?0:+t),r=typeof r=="function"?r:r===void 0?LL:zn(+r);function f(m){var g,x,b,v=(m=B3(m)).length,w,N=!1,E,j=new Array(v),T=new Array(v);for(i==null&&(o=l(E=u())),g=0;g<=v;++g){if(!(g<v&&a(w=m[g],g,m))===N)if(N=!N)x=g,o.areaStart(),o.lineStart();else{for(o.lineEnd(),o.lineStart(),b=g-1;b>=x;--b)o.point(j[b],T[b]);o.lineEnd(),o.areaEnd()}N&&(j[g]=+e(w,g,m),T[g]=+t(w,g,m),o.point(n?+n(w,g,m):j[g],r?+r(w,g,m):T[g]))}if(E)return o=null,E+""||null}function h(){return ML().defined(a).curve(l).context(i)}return f.x=function(m){return arguments.length?(e=typeof m=="function"?m:zn(+m),n=null,f):e},f.x0=function(m){return arguments.length?(e=typeof m=="function"?m:zn(+m),f):e},f.x1=function(m){return arguments.length?(n=m==null?null:typeof m=="function"?m:zn(+m),f):n},f.y=function(m){return arguments.length?(t=typeof m=="function"?m:zn(+m),r=null,f):t},f.y0=function(m){return arguments.length?(t=typeof m=="function"?m:zn(+m),f):t},f.y1=function(m){return arguments.length?(r=m==null?null:typeof m=="function"?m:zn(+m),f):r},f.lineX0=f.lineY0=function(){return h().x(e).y(t)},f.lineY1=function(){return h().x(e).y(r)},f.lineX1=function(){return h().x(n).y(t)},f.defined=function(m){return arguments.length?(a=typeof m=="function"?m:zn(!!m),f):a},f.curve=function(m){return arguments.length?(l=m,i!=null&&(o=l(i)),f):l},f.context=function(m){return arguments.length?(m==null?i=o=null:o=l(i=m),f):i},f}class RL{constructor(t,r){this._context=t,this._x=r}areaStart(){this._line=0}areaEnd(){this._line=NaN}lineStart(){this._point=0}lineEnd(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line}point(t,r){switch(t=+t,r=+r,this._point){case 0:{this._point=1,this._line?this._context.lineTo(t,r):this._context.moveTo(t,r);break}case 1:this._point=2;default:{this._x?this._context.bezierCurveTo(this._x0=(this._x0+t)/2,this._y0,this._x0,r,t,r):this._context.bezierCurveTo(this._x0,this._y0=(this._y0+r)/2,t,this._y0,t,r);break}}this._x0=t,this._y0=r}}function $se(e){return new RL(e,!0)}function Hse(e){return new RL(e,!1)}const U3={draw(e,t){const r=Lc(t/my);e.moveTo(r,0),e.arc(0,0,r,0,y2)}},Vse={draw(e,t){const r=Lc(t/5)/2;e.moveTo(-3*r,-r),e.lineTo(-r,-r),e.lineTo(-r,-3*r),e.lineTo(r,-3*r),e.lineTo(r,-r),e.lineTo(3*r,-r),e.lineTo(3*r,r),e.lineTo(r,r),e.lineTo(r,3*r),e.lineTo(-r,3*r),e.lineTo(-r,r),e.lineTo(-3*r,r),e.closePath()}},IL=Lc(1/3),Wse=IL*2,Kse={draw(e,t){const r=Lc(t/Wse),n=r*IL;e.moveTo(0,-r),e.lineTo(n,0),e.lineTo(0,r),e.lineTo(-n,0),e.closePath()}},Gse={draw(e,t){const r=Lc(t),n=-r/2;e.rect(n,n,r,r)}},Yse=.8908130915292852,BL=hy(my/10)/hy(7*my/10),Xse=hy(y2/10)*BL,Qse=-OL(y2/10)*BL,Zse={draw(e,t){const r=Lc(t*Yse),n=Xse*r,a=Qse*r;e.moveTo(0,-r),e.lineTo(n,a);for(let i=1;i<5;++i){const l=y2*i/5,o=OL(l),u=hy(l);e.lineTo(u*r,-o*r),e.lineTo(o*n-u*a,u*n+o*a)}e.closePath()}},$w=Lc(3),Jse={draw(e,t){const r=-Lc(t/($w*3));e.moveTo(0,r*2),e.lineTo(-$w*r,-r),e.lineTo($w*r,-r),e.closePath()}},Eo=-.5,ko=Lc(3)/2,yN=1/Lc(12),ele=(yN/2+1)*3,tle={draw(e,t){const r=Lc(t/ele),n=r/2,a=r*yN,i=n,l=r*yN+r,o=-i,u=l;e.moveTo(n,a),e.lineTo(i,l),e.lineTo(o,u),e.lineTo(Eo*n-ko*a,ko*n+Eo*a),e.lineTo(Eo*i-ko*l,ko*i+Eo*l),e.lineTo(Eo*o-ko*u,ko*o+Eo*u),e.lineTo(Eo*n+ko*a,Eo*a-ko*n),e.lineTo(Eo*i+ko*l,Eo*l-ko*i),e.lineTo(Eo*o+ko*u,Eo*u-ko*o),e.closePath()}};function rle(e,t){let r=null,n=I3(a);e=typeof e=="function"?e:zn(e||U3),t=typeof t=="function"?t:zn(t===void 0?64:+t);function a(){let i;if(r||(r=i=n()),e.apply(this,arguments).draw(r,+t.apply(this,arguments)),i)return r=null,i+""||null}return a.type=function(i){return arguments.length?(e=typeof i=="function"?i:zn(i),a):e},a.size=function(i){return arguments.length?(t=typeof i=="function"?i:zn(+i),a):t},a.context=function(i){return arguments.length?(r=i??null,a):r},a}function py(){}function xy(e,t,r){e._context.bezierCurveTo((2*e._x0+e._x1)/3,(2*e._y0+e._y1)/3,(e._x0+2*e._x1)/3,(e._y0+2*e._y1)/3,(e._x0+4*e._x1+t)/6,(e._y0+4*e._y1+r)/6)}function UL(e){this._context=e}UL.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){switch(this._point){case 3:xy(this,this._x1,this._y1);case 2:this._context.lineTo(this._x1,this._y1);break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;break;case 2:this._point=3,this._context.lineTo((5*this._x0+this._x1)/6,(5*this._y0+this._y1)/6);default:xy(this,e,t);break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}};function nle(e){return new UL(e)}function zL(e){this._context=e}zL.prototype={areaStart:py,areaEnd:py,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._y0=this._y1=this._y2=this._y3=this._y4=NaN,this._point=0},lineEnd:function(){switch(this._point){case 1:{this._context.moveTo(this._x2,this._y2),this._context.closePath();break}case 2:{this._context.moveTo((this._x2+2*this._x3)/3,(this._y2+2*this._y3)/3),this._context.lineTo((this._x3+2*this._x2)/3,(this._y3+2*this._y2)/3),this._context.closePath();break}case 3:{this.point(this._x2,this._y2),this.point(this._x3,this._y3),this.point(this._x4,this._y4);break}}},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._x2=e,this._y2=t;break;case 1:this._point=2,this._x3=e,this._y3=t;break;case 2:this._point=3,this._x4=e,this._y4=t,this._context.moveTo((this._x0+4*this._x1+e)/6,(this._y0+4*this._y1+t)/6);break;default:xy(this,e,t);break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}};function ale(e){return new zL(e)}function qL(e){this._context=e}qL.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===3)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3;var r=(this._x0+4*this._x1+e)/6,n=(this._y0+4*this._y1+t)/6;this._line?this._context.lineTo(r,n):this._context.moveTo(r,n);break;case 3:this._point=4;default:xy(this,e,t);break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}};function ile(e){return new qL(e)}function $L(e){this._context=e}$L.prototype={areaStart:py,areaEnd:py,lineStart:function(){this._point=0},lineEnd:function(){this._point&&this._context.closePath()},point:function(e,t){e=+e,t=+t,this._point?this._context.lineTo(e,t):(this._point=1,this._context.moveTo(e,t))}};function sle(e){return new $L(e)}function Kk(e){return e<0?-1:1}function Gk(e,t,r){var n=e._x1-e._x0,a=t-e._x1,i=(e._y1-e._y0)/(n||a<0&&-0),l=(r-e._y1)/(a||n<0&&-0),o=(i*a+l*n)/(n+a);return(Kk(i)+Kk(l))*Math.min(Math.abs(i),Math.abs(l),.5*Math.abs(o))||0}function Yk(e,t){var r=e._x1-e._x0;return r?(3*(e._y1-e._y0)/r-t)/2:t}function Hw(e,t,r){var n=e._x0,a=e._y0,i=e._x1,l=e._y1,o=(i-n)/3;e._context.bezierCurveTo(n+o,a+o*t,i-o,l-o*r,i,l)}function gy(e){this._context=e}gy.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=this._t0=NaN,this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x1,this._y1);break;case 3:Hw(this,this._t0,Yk(this,this._t0));break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){var r=NaN;if(e=+e,t=+t,!(e===this._x1&&t===this._y1)){switch(this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;break;case 2:this._point=3,Hw(this,Yk(this,r=Gk(this,e,t)),r);break;default:Hw(this,this._t0,r=Gk(this,e,t));break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t,this._t0=r}}};function HL(e){this._context=new VL(e)}(HL.prototype=Object.create(gy.prototype)).point=function(e,t){gy.prototype.point.call(this,t,e)};function VL(e){this._context=e}VL.prototype={moveTo:function(e,t){this._context.moveTo(t,e)},closePath:function(){this._context.closePath()},lineTo:function(e,t){this._context.lineTo(t,e)},bezierCurveTo:function(e,t,r,n,a,i){this._context.bezierCurveTo(t,e,n,r,i,a)}};function lle(e){return new gy(e)}function ole(e){return new HL(e)}function WL(e){this._context=e}WL.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=[],this._y=[]},lineEnd:function(){var e=this._x,t=this._y,r=e.length;if(r)if(this._line?this._context.lineTo(e[0],t[0]):this._context.moveTo(e[0],t[0]),r===2)this._context.lineTo(e[1],t[1]);else for(var n=Xk(e),a=Xk(t),i=0,l=1;l<r;++i,++l)this._context.bezierCurveTo(n[0][i],a[0][i],n[1][i],a[1][i],e[l],t[l]);(this._line||this._line!==0&&r===1)&&this._context.closePath(),this._line=1-this._line,this._x=this._y=null},point:function(e,t){this._x.push(+e),this._y.push(+t)}};function Xk(e){var t,r=e.length-1,n,a=new Array(r),i=new Array(r),l=new Array(r);for(a[0]=0,i[0]=2,l[0]=e[0]+2*e[1],t=1;t<r-1;++t)a[t]=1,i[t]=4,l[t]=4*e[t]+2*e[t+1];for(a[r-1]=2,i[r-1]=7,l[r-1]=8*e[r-1]+e[r],t=1;t<r;++t)n=a[t]/i[t-1],i[t]-=n,l[t]-=n*l[t-1];for(a[r-1]=l[r-1]/i[r-1],t=r-2;t>=0;--t)a[t]=(l[t]-a[t+1])/i[t];for(i[r-1]=(e[r]+a[r-1])/2,t=0;t<r-1;++t)i[t]=2*e[t+1]-a[t+1];return[a,i]}function cle(e){return new WL(e)}function w2(e,t){this._context=e,this._t=t}w2.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=this._y=NaN,this._point=0},lineEnd:function(){0<this._t&&this._t<1&&this._point===2&&this._context.lineTo(this._x,this._y),(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line>=0&&(this._t=1-this._t,this._line=1-this._line)},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;default:{if(this._t<=0)this._context.lineTo(this._x,t),this._context.lineTo(e,t);else{var r=this._x*(1-this._t)+e*this._t;this._context.lineTo(r,this._y),this._context.lineTo(r,t)}break}}this._x=e,this._y=t}};function ule(e){return new w2(e,.5)}function fle(e){return new w2(e,0)}function dle(e){return new w2(e,1)}function Vm(e,t){if((l=e.length)>1)for(var r=1,n,a,i=e[t[0]],l,o=i.length;r<l;++r)for(a=i,i=e[t[r]],n=0;n<o;++n)i[n][1]+=i[n][0]=isNaN(a[n][1])?a[n][0]:a[n][1]}function bN(e){for(var t=e.length,r=new Array(t);--t>=0;)r[t]=t;return r}function hle(e,t){return e[t]}function mle(e){const t=[];return t.key=e,t}function ple(){var e=zn([]),t=bN,r=Vm,n=hle;function a(i){var l=Array.from(e.apply(this,arguments),mle),o,u=l.length,f=-1,h;for(const m of i)for(o=0,++f;o<u;++o)(l[o][f]=[0,+n(m,l[o].key,f,i)]).data=m;for(o=0,h=B3(t(l));o<u;++o)l[h[o]].index=o;return r(l,h),l}return a.keys=function(i){return arguments.length?(e=typeof i=="function"?i:zn(Array.from(i)),a):e},a.value=function(i){return arguments.length?(n=typeof i=="function"?i:zn(+i),a):n},a.order=function(i){return arguments.length?(t=i==null?bN:typeof i=="function"?i:zn(Array.from(i)),a):t},a.offset=function(i){return arguments.length?(r=i??Vm,a):r},a}function xle(e,t){if((n=e.length)>0){for(var r,n,a=0,i=e[0].length,l;a<i;++a){for(l=r=0;r<n;++r)l+=e[r][a][1]||0;if(l)for(r=0;r<n;++r)e[r][a][1]/=l}Vm(e,t)}}function gle(e,t){if((a=e.length)>0){for(var r=0,n=e[t[0]],a,i=n.length;r<i;++r){for(var l=0,o=0;l<a;++l)o+=e[l][r][1]||0;n[r][1]+=n[r][0]=-o/2}Vm(e,t)}}function vle(e,t){if(!(!((l=e.length)>0)||!((i=(a=e[t[0]]).length)>0))){for(var r=0,n=1,a,i,l;n<i;++n){for(var o=0,u=0,f=0;o<l;++o){for(var h=e[t[o]],m=h[n][1]||0,g=h[n-1][1]||0,x=(m-g)/2,b=0;b<o;++b){var v=e[t[b]],w=v[n][1]||0,N=v[n-1][1]||0;x+=w-N}u+=m,f+=x*m}a[n-1][1]+=a[n-1][0]=r,u&&(r-=f/u)}a[n-1][1]+=a[n-1][0]=r,Vm(e,t)}}var Vw={},Ww={},Qk;function yle(){return Qk||(Qk=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){return r==="__proto__"}e.isUnsafeProperty=t})(Ww)),Ww}var Kw={},Zk;function KL(){return Zk||(Zk=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){switch(typeof r){case"number":case"symbol":return!1;case"string":return r.includes(".")||r.includes("[")||r.includes("]")}}e.isDeepKey=t})(Kw)),Kw}var Gw={},Jk;function z3(){return Jk||(Jk=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){return typeof r=="string"||typeof r=="symbol"?r:Object.is(r?.valueOf?.(),-0)?"-0":String(r)}e.toKey=t})(Gw)),Gw}var Yw={},Xw={},eC;function ble(){return eC||(eC=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){if(r==null)return"";if(typeof r=="string")return r;if(Array.isArray(r))return r.map(t).join(",");const n=String(r);return n==="0"&&Object.is(Number(r),-0)?"-0":n}e.toString=t})(Xw)),Xw}var tC;function q3(){return tC||(tC=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=ble(),r=z3();function n(a){if(Array.isArray(a))return a.map(r.toKey);if(typeof a=="symbol")return[a];a=t.toString(a);const i=[],l=a.length;if(l===0)return i;let o=0,u="",f="",h=!1;for(a.charCodeAt(0)===46&&(i.push(""),o++);o<l;){const m=a[o];f?m==="\\"&&o+1<l?(o++,u+=a[o]):m===f?f="":u+=m:h?m==='"'||m==="'"?f=m:m==="]"?(h=!1,i.push(u),u=""):u+=m:m==="["?(h=!0,u&&(i.push(u),u="")):m==="."?u&&(i.push(u),u=""):u+=m,o++}return u&&i.push(u),i}e.toPath=n})(Yw)),Yw}var rC;function $3(){return rC||(rC=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=yle(),r=KL(),n=z3(),a=q3();function i(o,u,f){if(o==null)return f;switch(typeof u){case"string":{if(t.isUnsafeProperty(u))return f;const h=o[u];return h===void 0?r.isDeepKey(u)?i(o,a.toPath(u),f):f:h}case"number":case"symbol":{typeof u=="number"&&(u=n.toKey(u));const h=o[u];return h===void 0?f:h}default:{if(Array.isArray(u))return l(o,u,f);if(Object.is(u?.valueOf(),-0)?u="-0":u=String(u),t.isUnsafeProperty(u))return f;const h=o[u];return h===void 0?f:h}}}function l(o,u,f){if(u.length===0)return f;let h=o;for(let m=0;m<u.length;m++){if(h==null||t.isUnsafeProperty(u[m]))return f;h=h[u[m]]}return h===void 0?f:h}e.get=i})(Vw)),Vw}var Qw,nC;function wle(){return nC||(nC=1,Qw=$3().get),Qw}var Nle=wle();const eh=_f(Nle);var $i=e=>e===0?0:e>0?1:-1,$o=e=>typeof e=="number"&&e!=+e,gf=e=>typeof e=="string"&&e.indexOf("%")===e.length-1,Qt=e=>(typeof e=="number"||e instanceof Number)&&!$o(e),mu=e=>Qt(e)||typeof e=="string",_le=0,lg=e=>{var t=++_le;return"".concat(e||"").concat(t)},Os=function(t,r){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:0,a=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!1;if(!Qt(t)&&typeof t!="string")return n;var i;if(gf(t)){if(r==null)return n;var l=t.indexOf("%");i=r*parseFloat(t.slice(0,l))/100}else i=+t;return $o(i)&&(i=n),a&&r!=null&&i>r&&(i=r),i},GL=e=>{if(!Array.isArray(e))return!1;for(var t=e.length,r={},n=0;n<t;n++)if(!r[e[n]])r[e[n]]=!0;else return!0;return!1};function Ra(e,t,r){return Qt(e)&&Qt(t)?e+r*(t-e):t}function YL(e,t,r){if(!(!e||!e.length))return e.find(n=>n&&(typeof t=="function"?t(n):eh(n,t))===r)}var ha=e=>e===null||typeof e>"u",Lg=e=>ha(e)?e:"".concat(e.charAt(0).toUpperCase()).concat(e.slice(1)),jle=["type","size","sizeType"];function wN(){return wN=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},wN.apply(null,arguments)}function aC(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function iC(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?aC(Object(r),!0).forEach(function(n){Sle(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):aC(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Sle(e,t,r){return(t=Ale(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Ale(e){var t=Ele(e,"string");return typeof t=="symbol"?t:t+""}function Ele(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function kle(e,t){if(e==null)return{};var r,n,a=Cle(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}function Cle(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}var XL={symbolCircle:U3,symbolCross:Vse,symbolDiamond:Kse,symbolSquare:Gse,symbolStar:Zse,symbolTriangle:Jse,symbolWye:tle},Tle=Math.PI/180,Ole=e=>{var t="symbol".concat(Lg(e));return XL[t]||U3},Dle=(e,t,r)=>{if(t==="area")return e;switch(r){case"cross":return 5*e*e/9;case"diamond":return .5*e*e/Math.sqrt(3);case"square":return e*e;case"star":{var n=18*Tle;return 1.25*e*e*(Math.tan(n)-Math.tan(n*2)*Math.tan(n)**2)}case"triangle":return Math.sqrt(3)*e*e/4;case"wye":return(21-10*Math.sqrt(3))*e*e/8;default:return Math.PI*e*e/4}},Fle=(e,t)=>{XL["symbol".concat(Lg(e))]=t},H3=e=>{var{type:t="circle",size:r=64,sizeType:n="area"}=e,a=kle(e,jle),i=iC(iC({},a),{},{type:t,size:r,sizeType:n}),l="circle";typeof t=="string"&&(l=t);var o=()=>{var g=Ole(l),x=rle().type(g).size(Dle(r,n,l)),b=x();if(b!==null)return b},{className:u,cx:f,cy:h}=i,m=nl(i);return f===+f&&h===+h&&r===+r?k.createElement("path",wN({},m,{className:ln("recharts-symbols",u),transform:"translate(".concat(f,", ").concat(h,")"),d:o()})):null};H3.registerSymbol=Fle;var V3=(e,t)=>{if(!e||typeof e=="function"||typeof e=="boolean")return null;var r=e;if(k.isValidElement(e)&&(r=e.props),typeof r!="object"&&typeof r!="function")return null;var n={};return Object.keys(r).forEach(a=>{M3(a)&&(n[a]=(i=>r[a](r,i)))}),n},Ple=(e,t,r)=>n=>(e(t,r,n),null),Mg=(e,t,r)=>{if(e===null||typeof e!="object"&&typeof e!="function")return null;var n=null;return Object.keys(e).forEach(a=>{var i=e[a];M3(a)&&typeof i=="function"&&(n||(n={}),n[a]=Ple(i,t,r))}),n};function NN(){return NN=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},NN.apply(null,arguments)}function sC(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function Lle(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?sC(Object(r),!0).forEach(function(n){W3(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):sC(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function W3(e,t,r){return(t=Mle(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Mle(e){var t=Rle(e,"string");return typeof t=="symbol"?t:t+""}function Rle(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Co=32;class K3 extends k.PureComponent{renderIcon(t,r){var{inactiveColor:n}=this.props,a=Co/2,i=Co/6,l=Co/3,o=t.inactive?n:t.color,u=r??t.type;if(u==="none")return null;if(u==="plainline")return k.createElement("line",{strokeWidth:4,fill:"none",stroke:o,strokeDasharray:t.payload.strokeDasharray,x1:0,y1:a,x2:Co,y2:a,className:"recharts-legend-icon"});if(u==="line")return k.createElement("path",{strokeWidth:4,fill:"none",stroke:o,d:"M0,".concat(a,"h").concat(l,`
            A`).concat(i,",").concat(i,",0,1,1,").concat(2*l,",").concat(a,`
            H`).concat(Co,"M").concat(2*l,",").concat(a,`
            A`).concat(i,",").concat(i,",0,1,1,").concat(l,",").concat(a),className:"recharts-legend-icon"});if(u==="rect")return k.createElement("path",{stroke:"none",fill:o,d:"M0,".concat(Co/8,"h").concat(Co,"v").concat(Co*3/4,"h").concat(-Co,"z"),className:"recharts-legend-icon"});if(k.isValidElement(t.legendIcon)){var f=Lle({},t);return delete f.legendIcon,k.cloneElement(t.legendIcon,f)}return k.createElement(H3,{fill:o,cx:a,cy:a,size:Co,sizeType:"diameter",type:u})}renderItems(){var{payload:t,iconSize:r,layout:n,formatter:a,inactiveColor:i,iconType:l}=this.props,o={x:0,y:0,width:Co,height:Co},u={display:n==="horizontal"?"inline-block":"block",marginRight:10},f={display:"inline-block",verticalAlign:"middle",marginRight:4};return t.map((h,m)=>{var g=h.formatter||a,x=ln({"recharts-legend-item":!0,["legend-item-".concat(m)]:!0,inactive:h.inactive});if(h.type==="none")return null;var b=h.inactive?i:h.color,v=g?g(h.value,h,m):h.value;return k.createElement("li",NN({className:x,style:u,key:"legend-item-".concat(m)},Mg(this.props,h,m)),k.createElement(R3,{width:r,height:r,viewBox:o,style:f,"aria-label":"".concat(v," legend icon")},this.renderIcon(h,l)),k.createElement("span",{className:"recharts-legend-item-text",style:{color:b}},v))})}render(){var{payload:t,layout:r,align:n}=this.props;if(!t||!t.length)return null;var a={padding:0,margin:0,textAlign:r==="horizontal"?n:"left"};return k.createElement("ul",{className:"recharts-default-legend",style:a},this.renderItems())}}W3(K3,"displayName","Legend");W3(K3,"defaultProps",{align:"center",iconSize:14,inactiveColor:"#ccc",layout:"horizontal",verticalAlign:"middle"});var Zw={},Jw={},lC;function Ile(){return lC||(lC=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r,n){const a=new Map;for(let i=0;i<r.length;i++){const l=r[i],o=n(l);a.has(o)||a.set(o,l)}return Array.from(a.values())}e.uniqBy=t})(Jw)),Jw}var e5={},oC;function QL(){return oC||(oC=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){return r}e.identity=t})(e5)),e5}var t5={},r5={},n5={},cC;function Ble(){return cC||(cC=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){return Number.isSafeInteger(r)&&r>=0}e.isLength=t})(n5)),n5}var uC;function G3(){return uC||(uC=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=Ble();function r(n){return n!=null&&typeof n!="function"&&t.isLength(n.length)}e.isArrayLike=r})(r5)),r5}var a5={},fC;function Ule(){return fC||(fC=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){return typeof r=="object"&&r!==null}e.isObjectLike=t})(a5)),a5}var dC;function zle(){return dC||(dC=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=G3(),r=Ule();function n(a){return r.isObjectLike(a)&&t.isArrayLike(a)}e.isArrayLikeObject=n})(t5)),t5}var i5={},s5={},hC;function qle(){return hC||(hC=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=$3();function r(n){return function(a){return t.get(a,n)}}e.property=r})(s5)),s5}var l5={},o5={},c5={},u5={},mC;function ZL(){return mC||(mC=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){return r!==null&&(typeof r=="object"||typeof r=="function")}e.isObject=t})(u5)),u5}var f5={},pC;function JL(){return pC||(pC=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){return r==null||typeof r!="object"&&typeof r!="function"}e.isPrimitive=t})(f5)),f5}var d5={},xC;function eM(){return xC||(xC=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r,n){return r===n||Number.isNaN(r)&&Number.isNaN(n)}e.eq=t})(d5)),d5}var gC;function $le(){return gC||(gC=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=ZL(),r=JL(),n=eM();function a(h,m,g){return typeof g!="function"?a(h,m,()=>{}):i(h,m,function x(b,v,w,N,E,j){const T=g(b,v,w,N,E,j);return T!==void 0?!!T:i(b,v,x,j)},new Map)}function i(h,m,g,x){if(m===h)return!0;switch(typeof m){case"object":return l(h,m,g,x);case"function":return Object.keys(m).length>0?i(h,{...m},g,x):n.eq(h,m);default:return t.isObject(h)?typeof m=="string"?m==="":!0:n.eq(h,m)}}function l(h,m,g,x){if(m==null)return!0;if(Array.isArray(m))return u(h,m,g,x);if(m instanceof Map)return o(h,m,g,x);if(m instanceof Set)return f(h,m,g,x);const b=Object.keys(m);if(h==null)return b.length===0;if(b.length===0)return!0;if(x?.has(m))return x.get(m)===h;x?.set(m,h);try{for(let v=0;v<b.length;v++){const w=b[v];if(!r.isPrimitive(h)&&!(w in h)||m[w]===void 0&&h[w]!==void 0||m[w]===null&&h[w]!==null||!g(h[w],m[w],w,h,m,x))return!1}return!0}finally{x?.delete(m)}}function o(h,m,g,x){if(m.size===0)return!0;if(!(h instanceof Map))return!1;for(const[b,v]of m.entries()){const w=h.get(b);if(g(w,v,b,h,m,x)===!1)return!1}return!0}function u(h,m,g,x){if(m.length===0)return!0;if(!Array.isArray(h))return!1;const b=new Set;for(let v=0;v<m.length;v++){const w=m[v];let N=!1;for(let E=0;E<h.length;E++){if(b.has(E))continue;const j=h[E];let T=!1;if(g(j,w,v,h,m,x)&&(T=!0),T){b.add(E),N=!0;break}}if(!N)return!1}return!0}function f(h,m,g,x){return m.size===0?!0:h instanceof Set?u([...h],[...m],g,x):!1}e.isMatchWith=a,e.isSetMatch=f})(c5)),c5}var vC;function tM(){return vC||(vC=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=$le();function r(n,a){return t.isMatchWith(n,a,()=>{})}e.isMatch=r})(o5)),o5}var h5={},m5={},p5={},yC;function Hle(){return yC||(yC=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){return Object.getOwnPropertySymbols(r).filter(n=>Object.prototype.propertyIsEnumerable.call(r,n))}e.getSymbols=t})(p5)),p5}var x5={},bC;function rM(){return bC||(bC=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){return r==null?r===void 0?"[object Undefined]":"[object Null]":Object.prototype.toString.call(r)}e.getTag=t})(x5)),x5}var g5={},wC;function nM(){return wC||(wC=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t="[object RegExp]",r="[object String]",n="[object Number]",a="[object Boolean]",i="[object Arguments]",l="[object Symbol]",o="[object Date]",u="[object Map]",f="[object Set]",h="[object Array]",m="[object Function]",g="[object ArrayBuffer]",x="[object Object]",b="[object Error]",v="[object DataView]",w="[object Uint8Array]",N="[object Uint8ClampedArray]",E="[object Uint16Array]",j="[object Uint32Array]",T="[object BigUint64Array]",O="[object Int8Array]",P="[object Int16Array]",D="[object Int32Array]",M="[object BigInt64Array]",B="[object Float32Array]",H="[object Float64Array]";e.argumentsTag=i,e.arrayBufferTag=g,e.arrayTag=h,e.bigInt64ArrayTag=M,e.bigUint64ArrayTag=T,e.booleanTag=a,e.dataViewTag=v,e.dateTag=o,e.errorTag=b,e.float32ArrayTag=B,e.float64ArrayTag=H,e.functionTag=m,e.int16ArrayTag=P,e.int32ArrayTag=D,e.int8ArrayTag=O,e.mapTag=u,e.numberTag=n,e.objectTag=x,e.regexpTag=t,e.setTag=f,e.stringTag=r,e.symbolTag=l,e.uint16ArrayTag=E,e.uint32ArrayTag=j,e.uint8ArrayTag=w,e.uint8ClampedArrayTag=N})(g5)),g5}var v5={},NC;function Vle(){return NC||(NC=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){return ArrayBuffer.isView(r)&&!(r instanceof DataView)}e.isTypedArray=t})(v5)),v5}var _C;function aM(){return _C||(_C=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=Hle(),r=rM(),n=nM(),a=JL(),i=Vle();function l(h,m){return o(h,void 0,h,new Map,m)}function o(h,m,g,x=new Map,b=void 0){const v=b?.(h,m,g,x);if(v!==void 0)return v;if(a.isPrimitive(h))return h;if(x.has(h))return x.get(h);if(Array.isArray(h)){const w=new Array(h.length);x.set(h,w);for(let N=0;N<h.length;N++)w[N]=o(h[N],N,g,x,b);return Object.hasOwn(h,"index")&&(w.index=h.index),Object.hasOwn(h,"input")&&(w.input=h.input),w}if(h instanceof Date)return new Date(h.getTime());if(h instanceof RegExp){const w=new RegExp(h.source,h.flags);return w.lastIndex=h.lastIndex,w}if(h instanceof Map){const w=new Map;x.set(h,w);for(const[N,E]of h)w.set(N,o(E,N,g,x,b));return w}if(h instanceof Set){const w=new Set;x.set(h,w);for(const N of h)w.add(o(N,void 0,g,x,b));return w}if(typeof Buffer<"u"&&Buffer.isBuffer(h))return h.subarray();if(i.isTypedArray(h)){const w=new(Object.getPrototypeOf(h)).constructor(h.length);x.set(h,w);for(let N=0;N<h.length;N++)w[N]=o(h[N],N,g,x,b);return w}if(h instanceof ArrayBuffer||typeof SharedArrayBuffer<"u"&&h instanceof SharedArrayBuffer)return h.slice(0);if(h instanceof DataView){const w=new DataView(h.buffer.slice(0),h.byteOffset,h.byteLength);return x.set(h,w),u(w,h,g,x,b),w}if(typeof File<"u"&&h instanceof File){const w=new File([h],h.name,{type:h.type});return x.set(h,w),u(w,h,g,x,b),w}if(typeof Blob<"u"&&h instanceof Blob){const w=new Blob([h],{type:h.type});return x.set(h,w),u(w,h,g,x,b),w}if(h instanceof Error){const w=new h.constructor;return x.set(h,w),w.message=h.message,w.name=h.name,w.stack=h.stack,w.cause=h.cause,u(w,h,g,x,b),w}if(h instanceof Boolean){const w=new Boolean(h.valueOf());return x.set(h,w),u(w,h,g,x,b),w}if(h instanceof Number){const w=new Number(h.valueOf());return x.set(h,w),u(w,h,g,x,b),w}if(h instanceof String){const w=new String(h.valueOf());return x.set(h,w),u(w,h,g,x,b),w}if(typeof h=="object"&&f(h)){const w=Object.create(Object.getPrototypeOf(h));return x.set(h,w),u(w,h,g,x,b),w}return h}function u(h,m,g=h,x,b){const v=[...Object.keys(m),...t.getSymbols(m)];for(let w=0;w<v.length;w++){const N=v[w],E=Object.getOwnPropertyDescriptor(h,N);(E==null||E.writable)&&(h[N]=o(m[N],N,g,x,b))}}function f(h){switch(r.getTag(h)){case n.argumentsTag:case n.arrayTag:case n.arrayBufferTag:case n.dataViewTag:case n.booleanTag:case n.dateTag:case n.float32ArrayTag:case n.float64ArrayTag:case n.int8ArrayTag:case n.int16ArrayTag:case n.int32ArrayTag:case n.mapTag:case n.numberTag:case n.objectTag:case n.regexpTag:case n.setTag:case n.stringTag:case n.symbolTag:case n.uint8ArrayTag:case n.uint8ClampedArrayTag:case n.uint16ArrayTag:case n.uint32ArrayTag:return!0;default:return!1}}e.cloneDeepWith=l,e.cloneDeepWithImpl=o,e.copyProperties=u})(m5)),m5}var jC;function Wle(){return jC||(jC=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=aM();function r(n){return t.cloneDeepWithImpl(n,void 0,n,new Map,void 0)}e.cloneDeep=r})(h5)),h5}var SC;function Kle(){return SC||(SC=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=tM(),r=Wle();function n(a){return a=r.cloneDeep(a),i=>t.isMatch(i,a)}e.matches=n})(l5)),l5}var y5={},b5={},w5={},AC;function Gle(){return AC||(AC=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=aM(),r=nM();function n(a,i){return t.cloneDeepWith(a,(l,o,u,f)=>{const h=i?.(l,o,u,f);if(h!==void 0)return h;if(typeof a=="object")switch(Object.prototype.toString.call(a)){case r.numberTag:case r.stringTag:case r.booleanTag:{const m=new a.constructor(a?.valueOf());return t.copyProperties(m,a),m}case r.argumentsTag:{const m={};return t.copyProperties(m,a),m.length=a.length,m[Symbol.iterator]=a[Symbol.iterator],m}default:return}})}e.cloneDeepWith=n})(w5)),w5}var EC;function Yle(){return EC||(EC=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=Gle();function r(n){return t.cloneDeepWith(n)}e.cloneDeep=r})(b5)),b5}var N5={},_5={},kC;function iM(){return kC||(kC=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=/^(?:0|[1-9]\d*)$/;function r(n,a=Number.MAX_SAFE_INTEGER){switch(typeof n){case"number":return Number.isInteger(n)&&n>=0&&n<a;case"symbol":return!1;case"string":return t.test(n)}}e.isIndex=r})(_5)),_5}var j5={},CC;function Xle(){return CC||(CC=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=rM();function r(n){return n!==null&&typeof n=="object"&&t.getTag(n)==="[object Arguments]"}e.isArguments=r})(j5)),j5}var TC;function Qle(){return TC||(TC=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=KL(),r=iM(),n=Xle(),a=q3();function i(l,o){let u;if(Array.isArray(o)?u=o:typeof o=="string"&&t.isDeepKey(o)&&l?.[o]==null?u=a.toPath(o):u=[o],u.length===0)return!1;let f=l;for(let h=0;h<u.length;h++){const m=u[h];if((f==null||!Object.hasOwn(f,m))&&!((Array.isArray(f)||n.isArguments(f))&&r.isIndex(m)&&m<f.length))return!1;f=f[m]}return!0}e.has=i})(N5)),N5}var OC;function Zle(){return OC||(OC=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=tM(),r=z3(),n=Yle(),a=$3(),i=Qle();function l(o,u){switch(typeof o){case"object":{Object.is(o?.valueOf(),-0)&&(o="-0");break}case"number":{o=r.toKey(o);break}}return u=n.cloneDeep(u),function(f){const h=a.get(f,o);return h===void 0?i.has(f,o):u===void 0?h===void 0:t.isMatch(h,u)}}e.matchesProperty=l})(y5)),y5}var DC;function Jle(){return DC||(DC=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=QL(),r=qle(),n=Kle(),a=Zle();function i(l){if(l==null)return t.identity;switch(typeof l){case"function":return l;case"object":return Array.isArray(l)&&l.length===2?a.matchesProperty(l[0],l[1]):n.matches(l);case"string":case"symbol":case"number":return r.property(l)}}e.iteratee=i})(i5)),i5}var FC;function eoe(){return FC||(FC=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=Ile(),r=QL(),n=zle(),a=Jle();function i(l,o=r.identity){return n.isArrayLikeObject(l)?t.uniqBy(Array.from(l),a.iteratee(o)):[]}e.uniqBy=i})(Zw)),Zw}var S5,PC;function toe(){return PC||(PC=1,S5=eoe().uniqBy),S5}var roe=toe();const LC=_f(roe);function sM(e,t,r){return t===!0?LC(e,r):typeof t=="function"?LC(e,t):e}var A5={exports:{}},E5={},k5={exports:{}},C5={};/**
 * @license React
 * use-sync-external-store-shim.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var MC;function noe(){if(MC)return C5;MC=1;var e=Zm();function t(m,g){return m===g&&(m!==0||1/m===1/g)||m!==m&&g!==g}var r=typeof Object.is=="function"?Object.is:t,n=e.useState,a=e.useEffect,i=e.useLayoutEffect,l=e.useDebugValue;function o(m,g){var x=g(),b=n({inst:{value:x,getSnapshot:g}}),v=b[0].inst,w=b[1];return i(function(){v.value=x,v.getSnapshot=g,u(v)&&w({inst:v})},[m,x,g]),a(function(){return u(v)&&w({inst:v}),m(function(){u(v)&&w({inst:v})})},[m]),l(x),x}function u(m){var g=m.getSnapshot;m=m.value;try{var x=g();return!r(m,x)}catch{return!0}}function f(m,g){return g()}var h=typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"?f:o;return C5.useSyncExternalStore=e.useSyncExternalStore!==void 0?e.useSyncExternalStore:h,C5}var RC;function aoe(){return RC||(RC=1,k5.exports=noe()),k5.exports}/**
 * @license React
 * use-sync-external-store-shim/with-selector.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var IC;function ioe(){if(IC)return E5;IC=1;var e=Zm(),t=aoe();function r(f,h){return f===h&&(f!==0||1/f===1/h)||f!==f&&h!==h}var n=typeof Object.is=="function"?Object.is:r,a=t.useSyncExternalStore,i=e.useRef,l=e.useEffect,o=e.useMemo,u=e.useDebugValue;return E5.useSyncExternalStoreWithSelector=function(f,h,m,g,x){var b=i(null);if(b.current===null){var v={hasValue:!1,value:null};b.current=v}else v=b.current;b=o(function(){function N(P){if(!E){if(E=!0,j=P,P=g(P),x!==void 0&&v.hasValue){var D=v.value;if(x(D,P))return T=D}return T=P}if(D=T,n(j,P))return D;var M=g(P);return x!==void 0&&x(D,M)?(j=P,D):(j=P,T=M)}var E=!1,j,T,O=m===void 0?null:m;return[function(){return N(h())},O===null?void 0:function(){return N(O())}]},[h,m,g,x]);var w=a(f,b[0],b[1]);return l(function(){v.hasValue=!0,v.value=w},[w]),u(w),w},E5}var BC;function soe(){return BC||(BC=1,A5.exports=ioe()),A5.exports}var loe=soe(),Y3=k.createContext(null),ooe=e=>e,ma=()=>{var e=k.useContext(Y3);return e?e.store.dispatch:ooe},Rv=()=>{},coe=()=>Rv,uoe=(e,t)=>e===t;function Ht(e){var t=k.useContext(Y3);return loe.useSyncExternalStoreWithSelector(t?t.subscription.addNestedSub:coe,t?t.store.getState:Rv,t?t.store.getState:Rv,t?e:Rv,uoe)}function foe(e,t=`expected a function, instead received ${typeof e}`){if(typeof e!="function")throw new TypeError(t)}function doe(e,t=`expected an object, instead received ${typeof e}`){if(typeof e!="object")throw new TypeError(t)}function hoe(e,t="expected all items to be functions, instead received the following types: "){if(!e.every(r=>typeof r=="function")){const r=e.map(n=>typeof n=="function"?`function ${n.name||"unnamed"}()`:typeof n).join(", ");throw new TypeError(`${t}[${r}]`)}}var UC=e=>Array.isArray(e)?e:[e];function moe(e){const t=Array.isArray(e[0])?e[0]:e;return hoe(t,"createSelector expects all input-selectors to be functions, but received the following types: "),t}function poe(e,t){const r=[],{length:n}=e;for(let a=0;a<n;a++)r.push(e[a].apply(null,t));return r}var xoe=class{constructor(e){this.value=e}deref(){return this.value}},goe=typeof WeakRef<"u"?WeakRef:xoe,voe=0,zC=1;function uv(){return{s:voe,v:void 0,o:null,p:null}}function lM(e,t={}){let r=uv();const{resultEqualityCheck:n}=t;let a,i=0;function l(){let o=r;const{length:u}=arguments;for(let m=0,g=u;m<g;m++){const x=arguments[m];if(typeof x=="function"||typeof x=="object"&&x!==null){let b=o.o;b===null&&(o.o=b=new WeakMap);const v=b.get(x);v===void 0?(o=uv(),b.set(x,o)):o=v}else{let b=o.p;b===null&&(o.p=b=new Map);const v=b.get(x);v===void 0?(o=uv(),b.set(x,o)):o=v}}const f=o;let h;if(o.s===zC)h=o.v;else if(h=e.apply(null,arguments),i++,n){const m=a?.deref?.()??a;m!=null&&n(m,h)&&(h=m,i!==0&&i--),a=typeof h=="object"&&h!==null||typeof h=="function"?new goe(h):h}return f.s=zC,f.v=h,h}return l.clearCache=()=>{r=uv(),l.resetResultsCount()},l.resultsCount=()=>i,l.resetResultsCount=()=>{i=0},l}function yoe(e,...t){const r=typeof e=="function"?{memoize:e,memoizeOptions:t}:e,n=(...a)=>{let i=0,l=0,o,u={},f=a.pop();typeof f=="object"&&(u=f,f=a.pop()),foe(f,`createSelector expects an output function after the inputs, but received: [${typeof f}]`);const h={...r,...u},{memoize:m,memoizeOptions:g=[],argsMemoize:x=lM,argsMemoizeOptions:b=[]}=h,v=UC(g),w=UC(b),N=moe(a),E=m(function(){return i++,f.apply(null,arguments)},...v),j=x(function(){l++;const O=poe(N,arguments);return o=E.apply(null,O),o},...w);return Object.assign(j,{resultFunc:f,memoizedResultFunc:E,dependencies:N,dependencyRecomputations:()=>l,resetDependencyRecomputations:()=>{l=0},lastResult:()=>o,recomputations:()=>i,resetRecomputations:()=>{i=0},memoize:m,argsMemoize:x})};return Object.assign(n,{withTypes:()=>n}),n}var He=yoe(lM),boe=Object.assign((e,t=He)=>{doe(e,`createStructuredSelector expects first argument to be an object where each property is a selector, instead received a ${typeof e}`);const r=Object.keys(e),n=r.map(i=>e[i]);return t(n,(...i)=>i.reduce((l,o,u)=>(l[r[u]]=o,l),{}))},{withTypes:()=>boe}),T5={},O5={},D5={},qC;function woe(){return qC||(qC=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n){return typeof n=="symbol"?1:n===null?2:n===void 0?3:n!==n?4:0}const r=(n,a,i)=>{if(n!==a){const l=t(n),o=t(a);if(l===o&&l===0){if(n<a)return i==="desc"?1:-1;if(n>a)return i==="desc"?-1:1}return i==="desc"?o-l:l-o}return 0};e.compareValues=r})(D5)),D5}var F5={},P5={},$C;function oM(){return $C||($C=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){return typeof r=="symbol"||r instanceof Symbol}e.isSymbol=t})(P5)),P5}var HC;function Noe(){return HC||(HC=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=oM(),r=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,n=/^\w*$/;function a(i,l){return Array.isArray(i)?!1:typeof i=="number"||typeof i=="boolean"||i==null||t.isSymbol(i)?!0:typeof i=="string"&&(n.test(i)||!r.test(i))||l!=null&&Object.hasOwn(l,i)}e.isKey=a})(F5)),F5}var VC;function _oe(){return VC||(VC=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=woe(),r=Noe(),n=q3();function a(i,l,o,u){if(i==null)return[];o=u?void 0:o,Array.isArray(i)||(i=Object.values(i)),Array.isArray(l)||(l=l==null?[null]:[l]),l.length===0&&(l=[null]),Array.isArray(o)||(o=o==null?[]:[o]),o=o.map(x=>String(x));const f=(x,b)=>{let v=x;for(let w=0;w<b.length&&v!=null;++w)v=v[b[w]];return v},h=(x,b)=>b==null||x==null?b:typeof x=="object"&&"key"in x?Object.hasOwn(b,x.key)?b[x.key]:f(b,x.path):typeof x=="function"?x(b):Array.isArray(x)?f(b,x):typeof b=="object"?b[x]:b,m=l.map(x=>(Array.isArray(x)&&x.length===1&&(x=x[0]),x==null||typeof x=="function"||Array.isArray(x)||r.isKey(x)?x:{key:x,path:n.toPath(x)}));return i.map(x=>({original:x,criteria:m.map(b=>h(b,x))})).slice().sort((x,b)=>{for(let v=0;v<m.length;v++){const w=t.compareValues(x.criteria[v],b.criteria[v],o[v]);if(w!==0)return w}return 0}).map(x=>x.original)}e.orderBy=a})(O5)),O5}var L5={},WC;function joe(){return WC||(WC=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r,n=1){const a=[],i=Math.floor(n),l=(o,u)=>{for(let f=0;f<o.length;f++){const h=o[f];Array.isArray(h)&&u<i?l(h,u+1):a.push(h)}};return l(r,0),a}e.flatten=t})(L5)),L5}var M5={},KC;function cM(){return KC||(KC=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=iM(),r=G3(),n=ZL(),a=eM();function i(l,o,u){return n.isObject(u)&&(typeof o=="number"&&r.isArrayLike(u)&&t.isIndex(o)&&o<u.length||typeof o=="string"&&o in u)?a.eq(u[o],l):!1}e.isIterateeCall=i})(M5)),M5}var GC;function Soe(){return GC||(GC=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=_oe(),r=joe(),n=cM();function a(i,...l){const o=l.length;return o>1&&n.isIterateeCall(i,l[0],l[1])?l=[]:o>2&&n.isIterateeCall(l[0],l[1],l[2])&&(l=[l[0]]),t.orderBy(i,r.flatten(l),["asc"])}e.sortBy=a})(T5)),T5}var R5,YC;function Aoe(){return YC||(YC=1,R5=Soe().sortBy),R5}var Eoe=Aoe();const N2=_f(Eoe);var uM=e=>e.legend.settings,koe=e=>e.legend.size,Coe=e=>e.legend.payload,Toe=He([Coe,uM],(e,t)=>{var{itemSorter:r}=t,n=e.flat(1);return r?N2(n,r):n});function Ooe(){return Ht(Toe)}var fv=1;function fM(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],[t,r]=k.useState({height:0,left:0,top:0,width:0}),n=k.useCallback(a=>{if(a!=null){var i=a.getBoundingClientRect(),l={height:i.height,left:i.left,top:i.top,width:i.width};(Math.abs(l.height-t.height)>fv||Math.abs(l.left-t.left)>fv||Math.abs(l.top-t.top)>fv||Math.abs(l.width-t.width)>fv)&&r({height:l.height,left:l.left,top:l.top,width:l.width})}},[t.width,t.height,t.top,t.left,...e]);return[t,n]}function ns(e){return`Minified Redux error #${e}; visit https://redux.js.org/Errors?code=${e} for the full message or use the non-minified dev environment for full errors. `}var Doe=typeof Symbol=="function"&&Symbol.observable||"@@observable",XC=Doe,I5=()=>Math.random().toString(36).substring(7).split("").join("."),Foe={INIT:`@@redux/INIT${I5()}`,REPLACE:`@@redux/REPLACE${I5()}`,PROBE_UNKNOWN_ACTION:()=>`@@redux/PROBE_UNKNOWN_ACTION${I5()}`},vy=Foe;function X3(e){if(typeof e!="object"||e===null)return!1;let t=e;for(;Object.getPrototypeOf(t)!==null;)t=Object.getPrototypeOf(t);return Object.getPrototypeOf(e)===t||Object.getPrototypeOf(e)===null}function dM(e,t,r){if(typeof e!="function")throw new Error(ns(2));if(typeof t=="function"&&typeof r=="function"||typeof r=="function"&&typeof arguments[3]=="function")throw new Error(ns(0));if(typeof t=="function"&&typeof r>"u"&&(r=t,t=void 0),typeof r<"u"){if(typeof r!="function")throw new Error(ns(1));return r(dM)(e,t)}let n=e,a=t,i=new Map,l=i,o=0,u=!1;function f(){l===i&&(l=new Map,i.forEach((w,N)=>{l.set(N,w)}))}function h(){if(u)throw new Error(ns(3));return a}function m(w){if(typeof w!="function")throw new Error(ns(4));if(u)throw new Error(ns(5));let N=!0;f();const E=o++;return l.set(E,w),function(){if(N){if(u)throw new Error(ns(6));N=!1,f(),l.delete(E),i=null}}}function g(w){if(!X3(w))throw new Error(ns(7));if(typeof w.type>"u")throw new Error(ns(8));if(typeof w.type!="string")throw new Error(ns(17));if(u)throw new Error(ns(9));try{u=!0,a=n(a,w)}finally{u=!1}return(i=l).forEach(E=>{E()}),w}function x(w){if(typeof w!="function")throw new Error(ns(10));n=w,g({type:vy.REPLACE})}function b(){const w=m;return{subscribe(N){if(typeof N!="object"||N===null)throw new Error(ns(11));function E(){const T=N;T.next&&T.next(h())}return E(),{unsubscribe:w(E)}},[XC](){return this}}}return g({type:vy.INIT}),{dispatch:g,subscribe:m,getState:h,replaceReducer:x,[XC]:b}}function Poe(e){Object.keys(e).forEach(t=>{const r=e[t];if(typeof r(void 0,{type:vy.INIT})>"u")throw new Error(ns(12));if(typeof r(void 0,{type:vy.PROBE_UNKNOWN_ACTION()})>"u")throw new Error(ns(13))})}function hM(e){const t=Object.keys(e),r={};for(let i=0;i<t.length;i++){const l=t[i];typeof e[l]=="function"&&(r[l]=e[l])}const n=Object.keys(r);let a;try{Poe(r)}catch(i){a=i}return function(l={},o){if(a)throw a;let u=!1;const f={};for(let h=0;h<n.length;h++){const m=n[h],g=r[m],x=l[m],b=g(x,o);if(typeof b>"u")throw o&&o.type,new Error(ns(14));f[m]=b,u=u||b!==x}return u=u||n.length!==Object.keys(l).length,u?f:l}}function yy(...e){return e.length===0?t=>t:e.length===1?e[0]:e.reduce((t,r)=>(...n)=>t(r(...n)))}function Loe(...e){return t=>(r,n)=>{const a=t(r,n);let i=()=>{throw new Error(ns(15))};const l={getState:a.getState,dispatch:(u,...f)=>i(u,...f)},o=e.map(u=>u(l));return i=yy(...o)(a.dispatch),{...a,dispatch:i}}}function mM(e){return X3(e)&&"type"in e&&typeof e.type=="string"}var pM=Symbol.for("immer-nothing"),QC=Symbol.for("immer-draftable"),io=Symbol.for("immer-state");function wc(e,...t){throw new Error(`[Immer] minified error nr: ${e}. Full error at: https://bit.ly/3cXEKWf`)}var og=Object.getPrototypeOf;function th(e){return!!e&&!!e[io]}function vf(e){return e?xM(e)||Array.isArray(e)||!!e[QC]||!!e.constructor?.[QC]||Rg(e)||j2(e):!1}var Moe=Object.prototype.constructor.toString(),ZC=new WeakMap;function xM(e){if(!e||typeof e!="object")return!1;const t=Object.getPrototypeOf(e);if(t===null||t===Object.prototype)return!0;const r=Object.hasOwnProperty.call(t,"constructor")&&t.constructor;if(r===Object)return!0;if(typeof r!="function")return!1;let n=ZC.get(r);return n===void 0&&(n=Function.toString.call(r),ZC.set(r,n)),n===Moe}function by(e,t,r=!0){_2(e)===0?(r?Reflect.ownKeys(e):Object.keys(e)).forEach(a=>{t(a,e[a],e)}):e.forEach((n,a)=>t(a,n,e))}function _2(e){const t=e[io];return t?t.type_:Array.isArray(e)?1:Rg(e)?2:j2(e)?3:0}function _N(e,t){return _2(e)===2?e.has(t):Object.prototype.hasOwnProperty.call(e,t)}function gM(e,t,r){const n=_2(e);n===2?e.set(t,r):n===3?e.add(r):e[t]=r}function Roe(e,t){return e===t?e!==0||1/e===1/t:e!==e&&t!==t}function Rg(e){return e instanceof Map}function j2(e){return e instanceof Set}function N0(e){return e.copy_||e.base_}function jN(e,t){if(Rg(e))return new Map(e);if(j2(e))return new Set(e);if(Array.isArray(e))return Array.prototype.slice.call(e);const r=xM(e);if(t===!0||t==="class_only"&&!r){const n=Object.getOwnPropertyDescriptors(e);delete n[io];let a=Reflect.ownKeys(n);for(let i=0;i<a.length;i++){const l=a[i],o=n[l];o.writable===!1&&(o.writable=!0,o.configurable=!0),(o.get||o.set)&&(n[l]={configurable:!0,writable:!0,enumerable:o.enumerable,value:e[l]})}return Object.create(og(e),n)}else{const n=og(e);if(n!==null&&r)return{...e};const a=Object.create(n);return Object.assign(a,e)}}function Q3(e,t=!1){return S2(e)||th(e)||!vf(e)||(_2(e)>1&&Object.defineProperties(e,{set:dv,add:dv,clear:dv,delete:dv}),Object.freeze(e),t&&Object.values(e).forEach(r=>Q3(r,!0))),e}function Ioe(){wc(2)}var dv={value:Ioe};function S2(e){return e===null||typeof e!="object"?!0:Object.isFrozen(e)}var Boe={};function rh(e){const t=Boe[e];return t||wc(0,e),t}var cg;function vM(){return cg}function Uoe(e,t){return{drafts_:[],parent_:e,immer_:t,canAutoFreeze_:!0,unfinalizedDrafts_:0}}function JC(e,t){t&&(rh("Patches"),e.patches_=[],e.inversePatches_=[],e.patchListener_=t)}function SN(e){AN(e),e.drafts_.forEach(zoe),e.drafts_=null}function AN(e){e===cg&&(cg=e.parent_)}function e8(e){return cg=Uoe(cg,e)}function zoe(e){const t=e[io];t.type_===0||t.type_===1?t.revoke_():t.revoked_=!0}function t8(e,t){t.unfinalizedDrafts_=t.drafts_.length;const r=t.drafts_[0];return e!==void 0&&e!==r?(r[io].modified_&&(SN(t),wc(4)),vf(e)&&(e=wy(t,e),t.parent_||Ny(t,e)),t.patches_&&rh("Patches").generateReplacementPatches_(r[io].base_,e,t.patches_,t.inversePatches_)):e=wy(t,r,[]),SN(t),t.patches_&&t.patchListener_(t.patches_,t.inversePatches_),e!==pM?e:void 0}function wy(e,t,r){if(S2(t))return t;const n=e.immer_.shouldUseStrictIteration(),a=t[io];if(!a)return by(t,(i,l)=>r8(e,a,t,i,l,r),n),t;if(a.scope_!==e)return t;if(!a.modified_)return Ny(e,a.base_,!0),a.base_;if(!a.finalized_){a.finalized_=!0,a.scope_.unfinalizedDrafts_--;const i=a.copy_;let l=i,o=!1;a.type_===3&&(l=new Set(i),i.clear(),o=!0),by(l,(u,f)=>r8(e,a,i,u,f,r,o),n),Ny(e,i,!1),r&&e.patches_&&rh("Patches").generatePatches_(a,r,e.patches_,e.inversePatches_)}return a.copy_}function r8(e,t,r,n,a,i,l){if(a==null||typeof a!="object"&&!l)return;const o=S2(a);if(!(o&&!l)){if(th(a)){const u=i&&t&&t.type_!==3&&!_N(t.assigned_,n)?i.concat(n):void 0,f=wy(e,a,u);if(gM(r,n,f),th(f))e.canAutoFreeze_=!1;else return}else l&&r.add(a);if(vf(a)&&!o){if(!e.immer_.autoFreeze_&&e.unfinalizedDrafts_<1||t&&t.base_&&t.base_[n]===a&&o)return;wy(e,a),(!t||!t.scope_.parent_)&&typeof n!="symbol"&&(Rg(r)?r.has(n):Object.prototype.propertyIsEnumerable.call(r,n))&&Ny(e,a)}}}function Ny(e,t,r=!1){!e.parent_&&e.immer_.autoFreeze_&&e.canAutoFreeze_&&Q3(t,r)}function qoe(e,t){const r=Array.isArray(e),n={type_:r?1:0,scope_:t?t.scope_:vM(),modified_:!1,finalized_:!1,assigned_:{},parent_:t,base_:e,draft_:null,copy_:null,revoke_:null,isManual_:!1};let a=n,i=Z3;r&&(a=[n],i=ug);const{revoke:l,proxy:o}=Proxy.revocable(a,i);return n.draft_=o,n.revoke_=l,o}var Z3={get(e,t){if(t===io)return e;const r=N0(e);if(!_N(r,t))return $oe(e,r,t);const n=r[t];return e.finalized_||!vf(n)?n:n===B5(e.base_,t)?(U5(e),e.copy_[t]=kN(n,e)):n},has(e,t){return t in N0(e)},ownKeys(e){return Reflect.ownKeys(N0(e))},set(e,t,r){const n=yM(N0(e),t);if(n?.set)return n.set.call(e.draft_,r),!0;if(!e.modified_){const a=B5(N0(e),t),i=a?.[io];if(i&&i.base_===r)return e.copy_[t]=r,e.assigned_[t]=!1,!0;if(Roe(r,a)&&(r!==void 0||_N(e.base_,t)))return!0;U5(e),EN(e)}return e.copy_[t]===r&&(r!==void 0||t in e.copy_)||Number.isNaN(r)&&Number.isNaN(e.copy_[t])||(e.copy_[t]=r,e.assigned_[t]=!0),!0},deleteProperty(e,t){return B5(e.base_,t)!==void 0||t in e.base_?(e.assigned_[t]=!1,U5(e),EN(e)):delete e.assigned_[t],e.copy_&&delete e.copy_[t],!0},getOwnPropertyDescriptor(e,t){const r=N0(e),n=Reflect.getOwnPropertyDescriptor(r,t);return n&&{writable:!0,configurable:e.type_!==1||t!=="length",enumerable:n.enumerable,value:r[t]}},defineProperty(){wc(11)},getPrototypeOf(e){return og(e.base_)},setPrototypeOf(){wc(12)}},ug={};by(Z3,(e,t)=>{ug[e]=function(){return arguments[0]=arguments[0][0],t.apply(this,arguments)}});ug.deleteProperty=function(e,t){return ug.set.call(this,e,t,void 0)};ug.set=function(e,t,r){return Z3.set.call(this,e[0],t,r,e[0])};function B5(e,t){const r=e[io];return(r?N0(r):e)[t]}function $oe(e,t,r){const n=yM(t,r);return n?"value"in n?n.value:n.get?.call(e.draft_):void 0}function yM(e,t){if(!(t in e))return;let r=og(e);for(;r;){const n=Object.getOwnPropertyDescriptor(r,t);if(n)return n;r=og(r)}}function EN(e){e.modified_||(e.modified_=!0,e.parent_&&EN(e.parent_))}function U5(e){e.copy_||(e.copy_=jN(e.base_,e.scope_.immer_.useStrictShallowCopy_))}var Hoe=class{constructor(e){this.autoFreeze_=!0,this.useStrictShallowCopy_=!1,this.useStrictIteration_=!0,this.produce=(t,r,n)=>{if(typeof t=="function"&&typeof r!="function"){const i=r;r=t;const l=this;return function(u=i,...f){return l.produce(u,h=>r.call(this,h,...f))}}typeof r!="function"&&wc(6),n!==void 0&&typeof n!="function"&&wc(7);let a;if(vf(t)){const i=e8(this),l=kN(t,void 0);let o=!0;try{a=r(l),o=!1}finally{o?SN(i):AN(i)}return JC(i,n),t8(a,i)}else if(!t||typeof t!="object"){if(a=r(t),a===void 0&&(a=t),a===pM&&(a=void 0),this.autoFreeze_&&Q3(a,!0),n){const i=[],l=[];rh("Patches").generateReplacementPatches_(t,a,i,l),n(i,l)}return a}else wc(1,t)},this.produceWithPatches=(t,r)=>{if(typeof t=="function")return(l,...o)=>this.produceWithPatches(l,u=>t(u,...o));let n,a;return[this.produce(t,r,(l,o)=>{n=l,a=o}),n,a]},typeof e?.autoFreeze=="boolean"&&this.setAutoFreeze(e.autoFreeze),typeof e?.useStrictShallowCopy=="boolean"&&this.setUseStrictShallowCopy(e.useStrictShallowCopy),typeof e?.useStrictIteration=="boolean"&&this.setUseStrictIteration(e.useStrictIteration)}createDraft(e){vf(e)||wc(8),th(e)&&(e=uf(e));const t=e8(this),r=kN(e,void 0);return r[io].isManual_=!0,AN(t),r}finishDraft(e,t){const r=e&&e[io];(!r||!r.isManual_)&&wc(9);const{scope_:n}=r;return JC(n,t),t8(void 0,n)}setAutoFreeze(e){this.autoFreeze_=e}setUseStrictShallowCopy(e){this.useStrictShallowCopy_=e}setUseStrictIteration(e){this.useStrictIteration_=e}shouldUseStrictIteration(){return this.useStrictIteration_}applyPatches(e,t){let r;for(r=t.length-1;r>=0;r--){const a=t[r];if(a.path.length===0&&a.op==="replace"){e=a.value;break}}r>-1&&(t=t.slice(r+1));const n=rh("Patches").applyPatches_;return th(e)?n(e,t):this.produce(e,a=>n(a,t))}};function kN(e,t){const r=Rg(e)?rh("MapSet").proxyMap_(e,t):j2(e)?rh("MapSet").proxySet_(e,t):qoe(e,t);return(t?t.scope_:vM()).drafts_.push(r),r}function uf(e){return th(e)||wc(10,e),bM(e)}function bM(e){if(!vf(e)||S2(e))return e;const t=e[io];let r,n=!0;if(t){if(!t.modified_)return t.base_;t.finalized_=!0,r=jN(e,t.scope_.immer_.useStrictShallowCopy_),n=t.scope_.immer_.shouldUseStrictIteration()}else r=jN(e,!0);return by(r,(a,i)=>{gM(r,a,bM(i))},n),t&&(t.finalized_=!1),r}var Voe=new Hoe,wM=Voe.produce;function NM(e){return({dispatch:r,getState:n})=>a=>i=>typeof i=="function"?i(r,n,e):a(i)}var Woe=NM(),Koe=NM,Goe=typeof window<"u"&&window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__?window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__:function(){if(arguments.length!==0)return typeof arguments[0]=="object"?yy:yy.apply(null,arguments)};function Ho(e,t){function r(...n){if(t){let a=t(...n);if(!a)throw new Error(ro(0));return{type:e,payload:a.payload,..."meta"in a&&{meta:a.meta},..."error"in a&&{error:a.error}}}return{type:e,payload:n[0]}}return r.toString=()=>`${e}`,r.type=e,r.match=n=>mM(n)&&n.type===e,r}var _M=class bx extends Array{constructor(...t){super(...t),Object.setPrototypeOf(this,bx.prototype)}static get[Symbol.species](){return bx}concat(...t){return super.concat.apply(this,t)}prepend(...t){return t.length===1&&Array.isArray(t[0])?new bx(...t[0].concat(this)):new bx(...t.concat(this))}};function n8(e){return vf(e)?wM(e,()=>{}):e}function hv(e,t,r){return e.has(t)?e.get(t):e.set(t,r(t)).get(t)}function Yoe(e){return typeof e=="boolean"}var Xoe=()=>function(t){const{thunk:r=!0,immutableCheck:n=!0,serializableCheck:a=!0,actionCreatorCheck:i=!0}=t??{};let l=new _M;return r&&(Yoe(r)?l.push(Woe):l.push(Koe(r.extraArgument))),l},jM="RTK_autoBatch",Zs=()=>e=>({payload:e,meta:{[jM]:!0}}),a8=e=>t=>{setTimeout(t,e)},SM=(e={type:"raf"})=>t=>(...r)=>{const n=t(...r);let a=!0,i=!1,l=!1;const o=new Set,u=e.type==="tick"?queueMicrotask:e.type==="raf"?typeof window<"u"&&window.requestAnimationFrame?window.requestAnimationFrame:a8(10):e.type==="callback"?e.queueNotification:a8(e.timeout),f=()=>{l=!1,i&&(i=!1,o.forEach(h=>h()))};return Object.assign({},n,{subscribe(h){const m=()=>a&&h(),g=n.subscribe(m);return o.add(h),()=>{g(),o.delete(h)}},dispatch(h){try{return a=!h?.meta?.[jM],i=!a,i&&(l||(l=!0,u(f))),n.dispatch(h)}finally{a=!0}}})},Qoe=e=>function(r){const{autoBatch:n=!0}=r??{};let a=new _M(e);return n&&a.push(SM(typeof n=="object"?n:void 0)),a};function Zoe(e){const t=Xoe(),{reducer:r=void 0,middleware:n,devTools:a=!0,preloadedState:i=void 0,enhancers:l=void 0}=e||{};let o;if(typeof r=="function")o=r;else if(X3(r))o=hM(r);else throw new Error(ro(1));let u;typeof n=="function"?u=n(t):u=t();let f=yy;a&&(f=Goe({trace:!1,...typeof a=="object"&&a}));const h=Loe(...u),m=Qoe(h);let g=typeof l=="function"?l(m):m();const x=f(...g);return dM(o,i,x)}function AM(e){const t={},r=[];let n;const a={addCase(i,l){const o=typeof i=="string"?i:i.type;if(!o)throw new Error(ro(28));if(o in t)throw new Error(ro(29));return t[o]=l,a},addAsyncThunk(i,l){return l.pending&&(t[i.pending.type]=l.pending),l.rejected&&(t[i.rejected.type]=l.rejected),l.fulfilled&&(t[i.fulfilled.type]=l.fulfilled),l.settled&&r.push({matcher:i.settled,reducer:l.settled}),a},addMatcher(i,l){return r.push({matcher:i,reducer:l}),a},addDefaultCase(i){return n=i,a}};return e(a),[t,r,n]}function Joe(e){return typeof e=="function"}function ece(e,t){let[r,n,a]=AM(t),i;if(Joe(e))i=()=>n8(e());else{const o=n8(e);i=()=>o}function l(o=i(),u){let f=[r[u.type],...n.filter(({matcher:h})=>h(u)).map(({reducer:h})=>h)];return f.filter(h=>!!h).length===0&&(f=[a]),f.reduce((h,m)=>{if(m)if(th(h)){const x=m(h,u);return x===void 0?h:x}else{if(vf(h))return wM(h,g=>m(g,u));{const g=m(h,u);if(g===void 0){if(h===null)return h;throw Error("A case reducer on a non-draftable value must not return undefined")}return g}}return h},o)}return l.getInitialState=i,l}var tce="ModuleSymbhasOwnPr-0123456789ABCDEFGHNRVfgctiUvz_KqYTJkLxpZXIjQW",rce=(e=21)=>{let t="",r=e;for(;r--;)t+=tce[Math.random()*64|0];return t},nce=Symbol.for("rtk-slice-createasyncthunk");function ace(e,t){return`${e}/${t}`}function ice({creators:e}={}){const t=e?.asyncThunk?.[nce];return function(n){const{name:a,reducerPath:i=a}=n;if(!a)throw new Error(ro(11));const l=(typeof n.reducers=="function"?n.reducers(lce()):n.reducers)||{},o=Object.keys(l),u={sliceCaseReducersByName:{},sliceCaseReducersByType:{},actionCreators:{},sliceMatchers:[]},f={addCase(j,T){const O=typeof j=="string"?j:j.type;if(!O)throw new Error(ro(12));if(O in u.sliceCaseReducersByType)throw new Error(ro(13));return u.sliceCaseReducersByType[O]=T,f},addMatcher(j,T){return u.sliceMatchers.push({matcher:j,reducer:T}),f},exposeAction(j,T){return u.actionCreators[j]=T,f},exposeCaseReducer(j,T){return u.sliceCaseReducersByName[j]=T,f}};o.forEach(j=>{const T=l[j],O={reducerName:j,type:ace(a,j),createNotation:typeof n.reducers=="function"};cce(T)?fce(O,T,f,t):oce(O,T,f)});function h(){const[j={},T=[],O=void 0]=typeof n.extraReducers=="function"?AM(n.extraReducers):[n.extraReducers],P={...j,...u.sliceCaseReducersByType};return ece(n.initialState,D=>{for(let M in P)D.addCase(M,P[M]);for(let M of u.sliceMatchers)D.addMatcher(M.matcher,M.reducer);for(let M of T)D.addMatcher(M.matcher,M.reducer);O&&D.addDefaultCase(O)})}const m=j=>j,g=new Map,x=new WeakMap;let b;function v(j,T){return b||(b=h()),b(j,T)}function w(){return b||(b=h()),b.getInitialState()}function N(j,T=!1){function O(D){let M=D[j];return typeof M>"u"&&T&&(M=hv(x,O,w)),M}function P(D=m){const M=hv(g,T,()=>new WeakMap);return hv(M,D,()=>{const B={};for(const[H,L]of Object.entries(n.selectors??{}))B[H]=sce(L,D,()=>hv(x,D,w),T);return B})}return{reducerPath:j,getSelectors:P,get selectors(){return P(O)},selectSlice:O}}const E={name:a,reducer:v,actions:u.actionCreators,caseReducers:u.sliceCaseReducersByName,getInitialState:w,...N(i),injectInto(j,{reducerPath:T,...O}={}){const P=T??i;return j.inject({reducerPath:P,reducer:v},O),{...E,...N(P,!0)}}};return E}}function sce(e,t,r,n){function a(i,...l){let o=t(i);return typeof o>"u"&&n&&(o=r()),e(o,...l)}return a.unwrapped=e,a}var lo=ice();function lce(){function e(t,r){return{_reducerDefinitionType:"asyncThunk",payloadCreator:t,...r}}return e.withTypes=()=>e,{reducer(t){return Object.assign({[t.name](...r){return t(...r)}}[t.name],{_reducerDefinitionType:"reducer"})},preparedReducer(t,r){return{_reducerDefinitionType:"reducerWithPrepare",prepare:t,reducer:r}},asyncThunk:e}}function oce({type:e,reducerName:t,createNotation:r},n,a){let i,l;if("reducer"in n){if(r&&!uce(n))throw new Error(ro(17));i=n.reducer,l=n.prepare}else i=n;a.addCase(e,i).exposeCaseReducer(t,i).exposeAction(t,l?Ho(e,l):Ho(e))}function cce(e){return e._reducerDefinitionType==="asyncThunk"}function uce(e){return e._reducerDefinitionType==="reducerWithPrepare"}function fce({type:e,reducerName:t},r,n,a){if(!a)throw new Error(ro(18));const{payloadCreator:i,fulfilled:l,pending:o,rejected:u,settled:f,options:h}=r,m=a(e,i,h);n.exposeAction(t,m),l&&n.addCase(m.fulfilled,l),o&&n.addCase(m.pending,o),u&&n.addCase(m.rejected,u),f&&n.addMatcher(m.settled,f),n.exposeCaseReducer(t,{fulfilled:l||mv,pending:o||mv,rejected:u||mv,settled:f||mv})}function mv(){}var dce="task",EM="listener",kM="completed",J3="cancelled",hce=`task-${J3}`,mce=`task-${kM}`,CN=`${EM}-${J3}`,pce=`${EM}-${kM}`,A2=class{constructor(e){this.code=e,this.message=`${dce} ${J3} (reason: ${e})`}name="TaskAbortError";message},ej=(e,t)=>{if(typeof e!="function")throw new TypeError(ro(32))},_y=()=>{},CM=(e,t=_y)=>(e.catch(t),e),TM=(e,t)=>(e.addEventListener("abort",t,{once:!0}),()=>e.removeEventListener("abort",t)),R0=(e,t)=>{const r=e.signal;r.aborted||("reason"in r||Object.defineProperty(r,"reason",{enumerable:!0,value:t,configurable:!0,writable:!0}),e.abort(t))},I0=e=>{if(e.aborted){const{reason:t}=e;throw new A2(t)}};function OM(e,t){let r=_y;return new Promise((n,a)=>{const i=()=>a(new A2(e.reason));if(e.aborted){i();return}r=TM(e,i),t.finally(()=>r()).then(n,a)}).finally(()=>{r=_y})}var xce=async(e,t)=>{try{return await Promise.resolve(),{status:"ok",value:await e()}}catch(r){return{status:r instanceof A2?"cancelled":"rejected",error:r}}finally{t?.()}},jy=e=>t=>CM(OM(e,t).then(r=>(I0(e),r))),DM=e=>{const t=jy(e);return r=>t(new Promise(n=>setTimeout(n,r)))},{assign:Lm}=Object,i8={},E2="listenerMiddleware",gce=(e,t)=>{const r=n=>TM(e,()=>R0(n,e.reason));return(n,a)=>{ej(n);const i=new AbortController;r(i);const l=xce(async()=>{I0(e),I0(i.signal);const o=await n({pause:jy(i.signal),delay:DM(i.signal),signal:i.signal});return I0(i.signal),o},()=>R0(i,mce));return a?.autoJoin&&t.push(l.catch(_y)),{result:jy(e)(l),cancel(){R0(i,hce)}}}},vce=(e,t)=>{const r=async(n,a)=>{I0(t);let i=()=>{};const o=[new Promise((u,f)=>{let h=e({predicate:n,effect:(m,g)=>{g.unsubscribe(),u([m,g.getState(),g.getOriginalState()])}});i=()=>{h(),f()}})];a!=null&&o.push(new Promise(u=>setTimeout(u,a,null)));try{const u=await OM(t,Promise.race(o));return I0(t),u}finally{i()}};return(n,a)=>CM(r(n,a))},FM=e=>{let{type:t,actionCreator:r,matcher:n,predicate:a,effect:i}=e;if(t)a=Ho(t).match;else if(r)t=r.type,a=r.match;else if(n)a=n;else if(!a)throw new Error(ro(21));return ej(i),{predicate:a,type:t,effect:i}},PM=Lm(e=>{const{type:t,predicate:r,effect:n}=FM(e);return{id:rce(),effect:n,type:t,predicate:r,pending:new Set,unsubscribe:()=>{throw new Error(ro(22))}}},{withTypes:()=>PM}),s8=(e,t)=>{const{type:r,effect:n,predicate:a}=FM(t);return Array.from(e.values()).find(i=>(typeof r=="string"?i.type===r:i.predicate===a)&&i.effect===n)},TN=e=>{e.pending.forEach(t=>{R0(t,CN)})},yce=(e,t)=>()=>{for(const r of t.keys())TN(r);e.clear()},l8=(e,t,r)=>{try{e(t,r)}catch(n){setTimeout(()=>{throw n},0)}},LM=Lm(Ho(`${E2}/add`),{withTypes:()=>LM}),bce=Ho(`${E2}/removeAll`),MM=Lm(Ho(`${E2}/remove`),{withTypes:()=>MM}),wce=(...e)=>{console.error(`${E2}/error`,...e)},Ig=(e={})=>{const t=new Map,r=new Map,n=x=>{const b=r.get(x)??0;r.set(x,b+1)},a=x=>{const b=r.get(x)??1;b===1?r.delete(x):r.set(x,b-1)},{extra:i,onError:l=wce}=e;ej(l);const o=x=>(x.unsubscribe=()=>t.delete(x.id),t.set(x.id,x),b=>{x.unsubscribe(),b?.cancelActive&&TN(x)}),u=x=>{const b=s8(t,x)??PM(x);return o(b)};Lm(u,{withTypes:()=>u});const f=x=>{const b=s8(t,x);return b&&(b.unsubscribe(),x.cancelActive&&TN(b)),!!b};Lm(f,{withTypes:()=>f});const h=async(x,b,v,w)=>{const N=new AbortController,E=vce(u,N.signal),j=[];try{x.pending.add(N),n(x),await Promise.resolve(x.effect(b,Lm({},v,{getOriginalState:w,condition:(T,O)=>E(T,O).then(Boolean),take:E,delay:DM(N.signal),pause:jy(N.signal),extra:i,signal:N.signal,fork:gce(N.signal,j),unsubscribe:x.unsubscribe,subscribe:()=>{t.set(x.id,x)},cancelActiveListeners:()=>{x.pending.forEach((T,O,P)=>{T!==N&&(R0(T,CN),P.delete(T))})},cancel:()=>{R0(N,CN),x.pending.delete(N)},throwIfCancelled:()=>{I0(N.signal)}})))}catch(T){T instanceof A2||l8(l,T,{raisedBy:"effect"})}finally{await Promise.all(j),R0(N,pce),a(x),x.pending.delete(N)}},m=yce(t,r);return{middleware:x=>b=>v=>{if(!mM(v))return b(v);if(LM.match(v))return u(v.payload);if(bce.match(v)){m();return}if(MM.match(v))return f(v.payload);let w=x.getState();const N=()=>{if(w===i8)throw new Error(ro(23));return w};let E;try{if(E=b(v),t.size>0){const j=x.getState(),T=Array.from(t.values());for(const O of T){let P=!1;try{P=O.predicate(v,j,w)}catch(D){P=!1,l8(l,D,{raisedBy:"predicate"})}P&&h(O,v,x,N)}}}finally{w=i8}return E},startListening:u,stopListening:f,clearListeners:m}};function ro(e){return`Minified Redux Toolkit error #${e}; visit https://redux-toolkit.js.org/Errors?code=${e} for the full message or use the non-minified dev environment for full errors. `}var Nce={layoutType:"horizontal",width:0,height:0,margin:{top:5,right:5,bottom:5,left:5},scale:1},RM=lo({name:"chartLayout",initialState:Nce,reducers:{setLayout(e,t){e.layoutType=t.payload},setChartSize(e,t){e.width=t.payload.width,e.height=t.payload.height},setMargin(e,t){var r,n,a,i;e.margin.top=(r=t.payload.top)!==null&&r!==void 0?r:0,e.margin.right=(n=t.payload.right)!==null&&n!==void 0?n:0,e.margin.bottom=(a=t.payload.bottom)!==null&&a!==void 0?a:0,e.margin.left=(i=t.payload.left)!==null&&i!==void 0?i:0},setScale(e,t){e.scale=t.payload}}}),{setMargin:_ce,setLayout:jce,setChartSize:Sce,setScale:Ace}=RM.actions,Ece=RM.reducer;function o8(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function c8(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?o8(Object(r),!0).forEach(function(n){kce(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):o8(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function kce(e,t,r){return(t=Cce(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Cce(e){var t=Tce(e,"string");return typeof t=="symbol"?t:t+""}function Tce(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Sy=Math.PI/180,Oce=e=>e*180/Math.PI,li=(e,t,r,n)=>({x:e+Math.cos(-Sy*n)*r,y:t+Math.sin(-Sy*n)*r}),IM=function(t,r){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{top:0,right:0,bottom:0,left:0};return Math.min(Math.abs(t-(n.left||0)-(n.right||0)),Math.abs(r-(n.top||0)-(n.bottom||0)))/2},Dce=(e,t)=>{var{x:r,y:n}=e,{x:a,y:i}=t;return Math.sqrt((r-a)**2+(n-i)**2)},Fce=(e,t)=>{var{x:r,y:n}=e,{cx:a,cy:i}=t,l=Dce({x:r,y:n},{x:a,y:i});if(l<=0)return{radius:l,angle:0};var o=(r-a)/l,u=Math.acos(o);return n>i&&(u=2*Math.PI-u),{radius:l,angle:Oce(u),angleInRadian:u}},Pce=e=>{var{startAngle:t,endAngle:r}=e,n=Math.floor(t/360),a=Math.floor(r/360),i=Math.min(n,a);return{startAngle:t-i*360,endAngle:r-i*360}},Lce=(e,t)=>{var{startAngle:r,endAngle:n}=t,a=Math.floor(r/360),i=Math.floor(n/360),l=Math.min(a,i);return e+l*360},Mce=(e,t)=>{var{x:r,y:n}=e,{radius:a,angle:i}=Fce({x:r,y:n},t),{innerRadius:l,outerRadius:o}=t;if(a<l||a>o||a===0)return null;var{startAngle:u,endAngle:f}=Pce(t),h=i,m;if(u<=f){for(;h>f;)h-=360;for(;h<u;)h+=360;m=h>=u&&h<=f}else{for(;h>u;)h-=360;for(;h<f;)h+=360;m=h>=f&&h<=u}return m?c8(c8({},t),{},{radius:a,angle:Lce(h,t)}):null};function BM(e,t,r){return Array.isArray(e)&&e&&t+r!==0?e.slice(t,r+1):e}function u8(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function Ro(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?u8(Object(r),!0).forEach(function(n){Rce(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):u8(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Rce(e,t,r){return(t=Ice(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Ice(e){var t=Bce(e,"string");return typeof t=="symbol"?t:t+""}function Bce(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function $n(e,t,r){return ha(e)||ha(t)?r:mu(t)?eh(e,t,r):typeof t=="function"?t(e):r}var Uce=(e,t,r,n,a)=>{var i,l=-1,o=(i=t?.length)!==null&&i!==void 0?i:0;if(o<=1||e==null)return 0;if(n==="angleAxis"&&a!=null&&Math.abs(Math.abs(a[1]-a[0])-360)<=1e-6)for(var u=0;u<o;u++){var f=u>0?r[u-1].coordinate:r[o-1].coordinate,h=r[u].coordinate,m=u>=o-1?r[0].coordinate:r[u+1].coordinate,g=void 0;if($i(h-f)!==$i(m-h)){var x=[];if($i(m-h)===$i(a[1]-a[0])){g=m;var b=h+a[1]-a[0];x[0]=Math.min(b,(b+f)/2),x[1]=Math.max(b,(b+f)/2)}else{g=f;var v=m+a[1]-a[0];x[0]=Math.min(h,(v+h)/2),x[1]=Math.max(h,(v+h)/2)}var w=[Math.min(h,(g+h)/2),Math.max(h,(g+h)/2)];if(e>w[0]&&e<=w[1]||e>=x[0]&&e<=x[1]){({index:l}=r[u]);break}}else{var N=Math.min(f,m),E=Math.max(f,m);if(e>(N+h)/2&&e<=(E+h)/2){({index:l}=r[u]);break}}}else if(t){for(var j=0;j<o;j++)if(j===0&&e<=(t[j].coordinate+t[j+1].coordinate)/2||j>0&&j<o-1&&e>(t[j].coordinate+t[j-1].coordinate)/2&&e<=(t[j].coordinate+t[j+1].coordinate)/2||j===o-1&&e>(t[j].coordinate+t[j-1].coordinate)/2){({index:l}=t[j]);break}}return l},zce=(e,t,r)=>{if(t&&r){var{width:n,height:a}=r,{align:i,verticalAlign:l,layout:o}=t;if((o==="vertical"||o==="horizontal"&&l==="middle")&&i!=="center"&&Qt(e[i]))return Ro(Ro({},e),{},{[i]:e[i]+(n||0)});if((o==="horizontal"||o==="vertical"&&i==="center")&&l!=="middle"&&Qt(e[l]))return Ro(Ro({},e),{},{[l]:e[l]+(a||0)})}return e},$d=(e,t)=>e==="horizontal"&&t==="xAxis"||e==="vertical"&&t==="yAxis"||e==="centric"&&t==="angleAxis"||e==="radial"&&t==="radiusAxis",UM=(e,t,r,n)=>{if(n)return e.map(o=>o.coordinate);var a,i,l=e.map(o=>(o.coordinate===t&&(a=!0),o.coordinate===r&&(i=!0),o.coordinate));return a||l.push(t),i||l.push(r),l},zM=(e,t,r)=>{if(!e)return null;var{duplicateDomain:n,type:a,range:i,scale:l,realScaleType:o,isCategorical:u,categoricalDomain:f,tickCount:h,ticks:m,niceTicks:g,axisType:x}=e;if(!l)return null;var b=o==="scaleBand"&&l.bandwidth?l.bandwidth()/2:2,v=a==="category"&&l.bandwidth?l.bandwidth()/b:0;if(v=x==="angleAxis"&&i&&i.length>=2?$i(i[0]-i[1])*2*v:v,m||g){var w=(m||g||[]).map((N,E)=>{var j=n?n.indexOf(N):N;return{coordinate:l(j)+v,value:N,offset:v,index:E}});return w.filter(N=>!$o(N.coordinate))}return u&&f?f.map((N,E)=>({coordinate:l(N)+v,value:N,index:E,offset:v})):l.ticks&&h!=null?l.ticks(h).map((N,E)=>({coordinate:l(N)+v,value:N,offset:v,index:E})):l.domain().map((N,E)=>({coordinate:l(N)+v,value:n?n[N]:N,index:E,offset:v}))},f8=1e-4,qce=e=>{var t=e.domain();if(!(!t||t.length<=2)){var r=t.length,n=e.range(),a=Math.min(n[0],n[1])-f8,i=Math.max(n[0],n[1])+f8,l=e(t[0]),o=e(t[r-1]);(l<a||l>i||o<a||o>i)&&e.domain([t[0],t[r-1]])}},$ce=(e,t)=>{if(!t||t.length!==2||!Qt(t[0])||!Qt(t[1]))return e;var r=Math.min(t[0],t[1]),n=Math.max(t[0],t[1]),a=[e[0],e[1]];return(!Qt(e[0])||e[0]<r)&&(a[0]=r),(!Qt(e[1])||e[1]>n)&&(a[1]=n),a[0]>n&&(a[0]=n),a[1]<r&&(a[1]=r),a},Hce=e=>{var t=e.length;if(!(t<=0))for(var r=0,n=e[0].length;r<n;++r)for(var a=0,i=0,l=0;l<t;++l){var o=$o(e[l][r][1])?e[l][r][0]:e[l][r][1];o>=0?(e[l][r][0]=a,e[l][r][1]=a+o,a=e[l][r][1]):(e[l][r][0]=i,e[l][r][1]=i+o,i=e[l][r][1])}},Vce=e=>{var t=e.length;if(!(t<=0))for(var r=0,n=e[0].length;r<n;++r)for(var a=0,i=0;i<t;++i){var l=$o(e[i][r][1])?e[i][r][0]:e[i][r][1];l>=0?(e[i][r][0]=a,e[i][r][1]=a+l,a=e[i][r][1]):(e[i][r][0]=0,e[i][r][1]=0)}},Wce={sign:Hce,expand:xle,none:Vm,silhouette:gle,wiggle:vle,positive:Vce},Kce=(e,t,r)=>{var n=Wce[r],a=ple().keys(t).value((i,l)=>+$n(i,l,0)).order(bN).offset(n);return a(e)};function Gce(e){return e==null?void 0:String(e)}function d8(e){var{axis:t,ticks:r,bandSize:n,entry:a,index:i,dataKey:l}=e;if(t.type==="category"){if(!t.allowDuplicatedCategory&&t.dataKey&&!ha(a[t.dataKey])){var o=YL(r,"value",a[t.dataKey]);if(o)return o.coordinate+n/2}return r[i]?r[i].coordinate+n/2:null}var u=$n(a,ha(l)?t.dataKey:l);return ha(u)?null:t.scale(u)}var h8=e=>{var{axis:t,ticks:r,offset:n,bandSize:a,entry:i,index:l}=e;if(t.type==="category")return r[l]?r[l].coordinate+n:null;var o=$n(i,t.dataKey,t.scale.domain()[l]);return ha(o)?null:t.scale(o)-a/2+n},Yce=e=>{var{numericAxis:t}=e,r=t.scale.domain();if(t.type==="number"){var n=Math.min(r[0],r[1]),a=Math.max(r[0],r[1]);return n<=0&&a>=0?0:a<0?a:n}return r[0]},Xce=e=>{var t=e.flat(2).filter(Qt);return[Math.min(...t),Math.max(...t)]},Qce=e=>[e[0]===1/0?0:e[0],e[1]===-1/0?0:e[1]],Zce=(e,t,r)=>{if(e!=null)return Qce(Object.keys(e).reduce((n,a)=>{var i=e[a],{stackedData:l}=i,o=l.reduce((u,f)=>{var h=BM(f,t,r),m=Xce(h);return[Math.min(u[0],m[0]),Math.max(u[1],m[1])]},[1/0,-1/0]);return[Math.min(o[0],n[0]),Math.max(o[1],n[1])]},[1/0,-1/0]))},m8=/^dataMin[\s]*-[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,p8=/^dataMax[\s]*\+[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,fg=(e,t,r)=>{if(e&&e.scale&&e.scale.bandwidth){var n=e.scale.bandwidth();if(!r||n>0)return n}if(e&&t&&t.length>=2){for(var a=N2(t,h=>h.coordinate),i=1/0,l=1,o=a.length;l<o;l++){var u=a[l],f=a[l-1];i=Math.min((u.coordinate||0)-(f.coordinate||0),i)}return i===1/0?0:i}return r?void 0:0};function x8(e){var{tooltipEntrySettings:t,dataKey:r,payload:n,value:a,name:i}=e;return Ro(Ro({},t),{},{dataKey:r,payload:n,value:a,name:i})}function up(e,t){if(e)return String(e);if(typeof t=="string")return t}function Jce(e,t,r,n,a){if(r==="horizontal"||r==="vertical"){var i=e>=a.left&&e<=a.left+a.width&&t>=a.top&&t<=a.top+a.height;return i?{x:e,y:t}:null}return n?Mce({x:e,y:t},n):null}var eue=(e,t,r,n)=>{var a=t.find(f=>f&&f.index===r);if(a){if(e==="horizontal")return{x:a.coordinate,y:n.y};if(e==="vertical")return{x:n.x,y:a.coordinate};if(e==="centric"){var i=a.coordinate,{radius:l}=n;return Ro(Ro(Ro({},n),li(n.cx,n.cy,l,i)),{},{angle:i,radius:l})}var o=a.coordinate,{angle:u}=n;return Ro(Ro(Ro({},n),li(n.cx,n.cy,o,u)),{},{angle:u,radius:o})}return{x:0,y:0}},tue=(e,t)=>t==="horizontal"?e.x:t==="vertical"?e.y:t==="centric"?e.angle:e.radius,kf=e=>e.layout.width,Cf=e=>e.layout.height,rue=e=>e.layout.scale,qM=e=>e.layout.margin,k2=He(e=>e.cartesianAxis.xAxis,e=>Object.values(e)),C2=He(e=>e.cartesianAxis.yAxis,e=>Object.values(e)),$M="data-recharts-item-index",HM="data-recharts-item-data-key",Bg=60;function g8(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function pv(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?g8(Object(r),!0).forEach(function(n){nue(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):g8(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function nue(e,t,r){return(t=aue(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function aue(e){var t=iue(e,"string");return typeof t=="symbol"?t:t+""}function iue(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var sue=e=>e.brush.height;function lue(e){var t=C2(e);return t.reduce((r,n)=>{if(n.orientation==="left"&&!n.mirror&&!n.hide){var a=typeof n.width=="number"?n.width:Bg;return r+a}return r},0)}function oue(e){var t=C2(e);return t.reduce((r,n)=>{if(n.orientation==="right"&&!n.mirror&&!n.hide){var a=typeof n.width=="number"?n.width:Bg;return r+a}return r},0)}function cue(e){var t=k2(e);return t.reduce((r,n)=>n.orientation==="top"&&!n.mirror&&!n.hide?r+n.height:r,0)}function uue(e){var t=k2(e);return t.reduce((r,n)=>n.orientation==="bottom"&&!n.mirror&&!n.hide?r+n.height:r,0)}var Ei=He([kf,Cf,qM,sue,lue,oue,cue,uue,uM,koe],(e,t,r,n,a,i,l,o,u,f)=>{var h={left:(r.left||0)+a,right:(r.right||0)+i},m={top:(r.top||0)+l,bottom:(r.bottom||0)+o},g=pv(pv({},m),h),x=g.bottom;g.bottom+=n,g=zce(g,u,f);var b=e-g.left-g.right,v=t-g.top-g.bottom;return pv(pv({brushBottom:x},g),{},{width:Math.max(b,0),height:Math.max(v,0)})}),fue=He(Ei,e=>({x:e.left,y:e.top,width:e.width,height:e.height})),tj=He(kf,Cf,(e,t)=>({x:0,y:0,width:e,height:t})),due=k.createContext(null),al=()=>k.useContext(due)!=null,T2=e=>e.brush,O2=He([T2,Ei,qM],(e,t,r)=>({height:e.height,x:Qt(e.x)?e.x:t.left,y:Qt(e.y)?e.y:t.top+t.height+t.brushBottom-(r?.bottom||0),width:Qt(e.width)?e.width:t.width})),z5={},q5={},$5={},v8;function hue(){return v8||(v8=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r,n,{signal:a,edges:i}={}){let l,o=null;const u=i!=null&&i.includes("leading"),f=i==null||i.includes("trailing"),h=()=>{o!==null&&(r.apply(l,o),l=void 0,o=null)},m=()=>{f&&h(),v()};let g=null;const x=()=>{g!=null&&clearTimeout(g),g=setTimeout(()=>{g=null,m()},n)},b=()=>{g!==null&&(clearTimeout(g),g=null)},v=()=>{b(),l=void 0,o=null},w=()=>{h()},N=function(...E){if(a?.aborted)return;l=this,o=E;const j=g==null;x(),u&&j&&h()};return N.schedule=x,N.cancel=v,N.flush=w,a?.addEventListener("abort",v,{once:!0}),N}e.debounce=t})($5)),$5}var y8;function mue(){return y8||(y8=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=hue();function r(n,a=0,i={}){typeof i!="object"&&(i={});const{leading:l=!1,trailing:o=!0,maxWait:u}=i,f=Array(2);l&&(f[0]="leading"),o&&(f[1]="trailing");let h,m=null;const g=t.debounce(function(...v){h=n.apply(this,v),m=null},a,{edges:f}),x=function(...v){return u!=null&&(m===null&&(m=Date.now()),Date.now()-m>=u)?(h=n.apply(this,v),m=Date.now(),g.cancel(),g.schedule(),h):(g.apply(this,v),h)},b=()=>(g.flush(),h);return x.cancel=g.cancel,x.flush=b,x}e.debounce=r})(q5)),q5}var b8;function pue(){return b8||(b8=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=mue();function r(n,a=0,i={}){const{leading:l=!0,trailing:o=!0}=i;return t.debounce(n,a,{leading:l,maxWait:a,trailing:o})}e.throttle=r})(z5)),z5}var H5,w8;function xue(){return w8||(w8=1,H5=pue().throttle),H5}var gue=xue();const vue=_f(gue);var Ay=function(t,r){for(var n=arguments.length,a=new Array(n>2?n-2:0),i=2;i<n;i++)a[i-2]=arguments[i]},VM=(e,t,r)=>{var{width:n="100%",height:a="100%",aspect:i,maxHeight:l}=r,o=gf(n)?e:Number(n),u=gf(a)?t:Number(a);return i&&i>0&&(o?u=o/i:u&&(o=u*i),l&&u>l&&(u=l)),{calculatedWidth:o,calculatedHeight:u}},yue={width:0,height:0,overflow:"visible"},bue={width:0,overflowX:"visible"},wue={height:0,overflowY:"visible"},Nue={},_ue=e=>{var{width:t,height:r}=e,n=gf(t),a=gf(r);return n&&a?yue:n?bue:a?wue:Nue};function jue(e){var{width:t,height:r,aspect:n}=e,a=t,i=r;return a===void 0&&i===void 0?(a="100%",i="100%"):a===void 0?a=n&&n>0?void 0:"100%":i===void 0&&(i=n&&n>0?void 0:"100%"),{width:a,height:i}}function Ps(e){return Number.isFinite(e)}function Wm(e){return typeof e=="number"&&e>0&&Number.isFinite(e)}function ON(){return ON=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},ON.apply(null,arguments)}function N8(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function _8(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?N8(Object(r),!0).forEach(function(n){Sue(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):N8(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Sue(e,t,r){return(t=Aue(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Aue(e){var t=Eue(e,"string");return typeof t=="symbol"?t:t+""}function Eue(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var WM=k.createContext({width:-1,height:-1});function KM(e){var{children:t,width:r,height:n}=e,a=k.useMemo(()=>({width:r,height:n}),[r,n]);return r<=0||n<=0?null:k.createElement(WM.Provider,{value:a},t)}var rj=()=>k.useContext(WM),kue=k.forwardRef((e,t)=>{var{aspect:r,initialDimension:n={width:-1,height:-1},width:a,height:i,minWidth:l=0,minHeight:o,maxHeight:u,children:f,debounce:h=0,id:m,className:g,onResize:x,style:b={}}=e,v=k.useRef(null),w=k.useRef();w.current=x,k.useImperativeHandle(t,()=>v.current);var[N,E]=k.useState({containerWidth:n.width,containerHeight:n.height}),j=k.useCallback((M,B)=>{E(H=>{var L=Math.round(M),U=Math.round(B);return H.containerWidth===L&&H.containerHeight===U?H:{containerWidth:L,containerHeight:U}})},[]);k.useEffect(()=>{var M=U=>{var G,{width:te,height:de}=U[0].contentRect;j(te,de),(G=w.current)===null||G===void 0||G.call(w,te,de)};h>0&&(M=vue(M,h,{trailing:!0,leading:!1}));var B=new ResizeObserver(M),{width:H,height:L}=v.current.getBoundingClientRect();return j(H,L),B.observe(v.current),()=>{B.disconnect()}},[j,h]);var{containerWidth:T,containerHeight:O}=N;Ay(!r||r>0,"The aspect(%s) must be greater than zero.",r);var{calculatedWidth:P,calculatedHeight:D}=VM(T,O,{width:a,height:i,aspect:r,maxHeight:u});return Ay(P>0||D>0,`The width(%s) and height(%s) of chart should be greater than 0,
       please check the style of container, or the props width(%s) and height(%s),
       or add a minWidth(%s) or minHeight(%s) or use aspect(%s) to control the
       height and width.`,P,D,a,i,l,o,r),k.createElement("div",{id:m?"".concat(m):void 0,className:ln("recharts-responsive-container",g),style:_8(_8({},b),{},{width:a,height:i,minWidth:l,minHeight:o,maxHeight:u}),ref:v},k.createElement("div",{style:_ue({width:a,height:i})},k.createElement(KM,{width:P,height:D},f)))}),V5=k.forwardRef((e,t)=>{var r=rj();if(Wm(r.width)&&Wm(r.height))return e.children;var{width:n,height:a}=jue({width:e.width,height:e.height,aspect:e.aspect}),{calculatedWidth:i,calculatedHeight:l}=VM(void 0,void 0,{width:n,height:a,aspect:e.aspect,maxHeight:e.maxHeight});return Qt(i)&&Qt(l)?k.createElement(KM,{width:i,height:l},e.children):k.createElement(kue,ON({},e,{width:n,height:a,ref:t}))}),D2=()=>{var e,t=al(),r=Ht(fue),n=Ht(O2),a=(e=Ht(T2))===null||e===void 0?void 0:e.padding;return!t||!n||!a?r:{width:n.width-a.left-a.right,height:n.height-a.top-a.bottom,x:a.left,y:a.top}},Cue={top:0,bottom:0,left:0,right:0,width:0,height:0,brushBottom:0},GM=()=>{var e;return(e=Ht(Ei))!==null&&e!==void 0?e:Cue},nj=()=>Ht(kf),aj=()=>Ht(Cf),Tue=()=>Ht(e=>e.layout.margin),Gr=e=>e.layout.layoutType,F2=()=>Ht(Gr),P2=e=>{var t=ma(),r=al(),{width:n,height:a}=e,i=rj(),l=n,o=a;return i&&(l=i.width>0?i.width:n,o=i.height>0?i.height:a),k.useEffect(()=>{!r&&Wm(l)&&Wm(o)&&t(Sce({width:l,height:o}))},[t,r,l,o]),null},Oue={settings:{layout:"horizontal",align:"center",verticalAlign:"middle",itemSorter:"value"},size:{width:0,height:0},payload:[]},YM=lo({name:"legend",initialState:Oue,reducers:{setLegendSize(e,t){e.size.width=t.payload.width,e.size.height=t.payload.height},setLegendSettings(e,t){e.settings.align=t.payload.align,e.settings.layout=t.payload.layout,e.settings.verticalAlign=t.payload.verticalAlign,e.settings.itemSorter=t.payload.itemSorter},addLegendPayload:{reducer(e,t){e.payload.push(t.payload)},prepare:Zs()},removeLegendPayload:{reducer(e,t){var r=uf(e).payload.indexOf(t.payload);r>-1&&e.payload.splice(r,1)},prepare:Zs()}}}),{setLegendSize:j8,setLegendSettings:Due,addLegendPayload:XM,removeLegendPayload:QM}=YM.actions,Fue=YM.reducer,Pue=["contextPayload"];function DN(){return DN=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},DN.apply(null,arguments)}function S8(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function Km(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?S8(Object(r),!0).forEach(function(n){ij(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):S8(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function ij(e,t,r){return(t=Lue(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Lue(e){var t=Mue(e,"string");return typeof t=="symbol"?t:t+""}function Mue(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Rue(e,t){if(e==null)return{};var r,n,a=Iue(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}function Iue(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}function Bue(e){return e.value}function Uue(e){var{contextPayload:t}=e,r=Rue(e,Pue),n=sM(t,e.payloadUniqBy,Bue),a=Km(Km({},r),{},{payload:n});return k.isValidElement(e.content)?k.cloneElement(e.content,a):typeof e.content=="function"?k.createElement(e.content,a):k.createElement(K3,a)}function zue(e,t,r,n,a,i){var{layout:l,align:o,verticalAlign:u}=t,f,h;return(!e||(e.left===void 0||e.left===null)&&(e.right===void 0||e.right===null))&&(o==="center"&&l==="vertical"?f={left:((n||0)-i.width)/2}:f=o==="right"?{right:r&&r.right||0}:{left:r&&r.left||0}),(!e||(e.top===void 0||e.top===null)&&(e.bottom===void 0||e.bottom===null))&&(u==="middle"?h={top:((a||0)-i.height)/2}:h=u==="bottom"?{bottom:r&&r.bottom||0}:{top:r&&r.top||0}),Km(Km({},f),h)}function que(e){var t=ma();return k.useEffect(()=>{t(Due(e))},[t,e]),null}function $ue(e){var t=ma();return k.useEffect(()=>(t(j8(e)),()=>{t(j8({width:0,height:0}))}),[t,e]),null}function Hue(e){var t=Ooe(),r=Bse(),n=Tue(),{width:a,height:i,wrapperStyle:l,portal:o}=e,[u,f]=fM([t]),h=nj(),m=aj();if(h==null||m==null)return null;var g=h-(n.left||0)-(n.right||0),x=dg.getWidthOrHeight(e.layout,i,a,g),b=o?l:Km(Km({position:"absolute",width:x?.width||a||"auto",height:x?.height||i||"auto"},zue(l,e,n,h,m,u)),l),v=o??r;if(v==null)return null;var w=k.createElement("div",{className:"recharts-legend-wrapper",style:b,ref:f},k.createElement(que,{layout:e.layout,align:e.align,verticalAlign:e.verticalAlign,itemSorter:e.itemSorter}),k.createElement($ue,{width:u.width,height:u.height}),k.createElement(Uue,DN({},e,x,{margin:n,chartWidth:h,chartHeight:m,contextPayload:t})));return KD.createPortal(w,v)}class dg extends k.PureComponent{static getWidthOrHeight(t,r,n,a){return t==="vertical"&&Qt(r)?{height:r}:t==="horizontal"?{width:n||a}:null}render(){return k.createElement(Hue,this.props)}}ij(dg,"displayName","Legend");ij(dg,"defaultProps",{align:"center",iconSize:14,itemSorter:"value",layout:"horizontal",verticalAlign:"bottom"});function FN(){return FN=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},FN.apply(null,arguments)}function A8(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function W5(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?A8(Object(r),!0).forEach(function(n){Vue(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):A8(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Vue(e,t,r){return(t=Wue(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Wue(e){var t=Kue(e,"string");return typeof t=="symbol"?t:t+""}function Kue(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Gue(e){return Array.isArray(e)&&mu(e[0])&&mu(e[1])?e.join(" ~ "):e}var Yue=e=>{var{separator:t=" : ",contentStyle:r={},itemStyle:n={},labelStyle:a={},payload:i,formatter:l,itemSorter:o,wrapperClassName:u,labelClassName:f,label:h,labelFormatter:m,accessibilityLayer:g=!1}=e,x=()=>{if(i&&i.length){var O={padding:0,margin:0},P=(o?N2(i,o):i).map((D,M)=>{if(D.type==="none")return null;var B=D.formatter||l||Gue,{value:H,name:L}=D,U=H,G=L;if(B){var te=B(H,L,D,M,i);if(Array.isArray(te))[U,G]=te;else if(te!=null)U=te;else return null}var de=W5({display:"block",paddingTop:4,paddingBottom:4,color:D.color||"#000"},n);return k.createElement("li",{className:"recharts-tooltip-item",key:"tooltip-item-".concat(M),style:de},mu(G)?k.createElement("span",{className:"recharts-tooltip-item-name"},G):null,mu(G)?k.createElement("span",{className:"recharts-tooltip-item-separator"},t):null,k.createElement("span",{className:"recharts-tooltip-item-value"},U),k.createElement("span",{className:"recharts-tooltip-item-unit"},D.unit||""))});return k.createElement("ul",{className:"recharts-tooltip-item-list",style:O},P)}return null},b=W5({margin:0,padding:10,backgroundColor:"#fff",border:"1px solid #ccc",whiteSpace:"nowrap"},r),v=W5({margin:0},a),w=!ha(h),N=w?h:"",E=ln("recharts-default-tooltip",u),j=ln("recharts-tooltip-label",f);w&&m&&i!==void 0&&i!==null&&(N=m(h,i));var T=g?{role:"status","aria-live":"assertive"}:{};return k.createElement("div",FN({className:E,style:b},T),k.createElement("p",{className:j,style:v},k.isValidElement(N)?N:"".concat(N)),x())},lx="recharts-tooltip-wrapper",Xue={visibility:"hidden"};function Que(e){var{coordinate:t,translateX:r,translateY:n}=e;return ln(lx,{["".concat(lx,"-right")]:Qt(r)&&t&&Qt(t.x)&&r>=t.x,["".concat(lx,"-left")]:Qt(r)&&t&&Qt(t.x)&&r<t.x,["".concat(lx,"-bottom")]:Qt(n)&&t&&Qt(t.y)&&n>=t.y,["".concat(lx,"-top")]:Qt(n)&&t&&Qt(t.y)&&n<t.y})}function E8(e){var{allowEscapeViewBox:t,coordinate:r,key:n,offsetTopLeft:a,position:i,reverseDirection:l,tooltipDimension:o,viewBox:u,viewBoxDimension:f}=e;if(i&&Qt(i[n]))return i[n];var h=r[n]-o-(a>0?a:0),m=r[n]+a;if(t[n])return l[n]?h:m;var g=u[n];if(g==null)return 0;if(l[n]){var x=h,b=g;return x<b?Math.max(m,g):Math.max(h,g)}if(f==null)return 0;var v=m+o,w=g+f;return v>w?Math.max(h,g):Math.max(m,g)}function Zue(e){var{translateX:t,translateY:r,useTranslate3d:n}=e;return{transform:n?"translate3d(".concat(t,"px, ").concat(r,"px, 0)"):"translate(".concat(t,"px, ").concat(r,"px)")}}function Jue(e){var{allowEscapeViewBox:t,coordinate:r,offsetTopLeft:n,position:a,reverseDirection:i,tooltipBox:l,useTranslate3d:o,viewBox:u}=e,f,h,m;return l.height>0&&l.width>0&&r?(h=E8({allowEscapeViewBox:t,coordinate:r,key:"x",offsetTopLeft:n,position:a,reverseDirection:i,tooltipDimension:l.width,viewBox:u,viewBoxDimension:u.width}),m=E8({allowEscapeViewBox:t,coordinate:r,key:"y",offsetTopLeft:n,position:a,reverseDirection:i,tooltipDimension:l.height,viewBox:u,viewBoxDimension:u.height}),f=Zue({translateX:h,translateY:m,useTranslate3d:o})):f=Xue,{cssProperties:f,cssClasses:Que({translateX:h,translateY:m,coordinate:r})}}function k8(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function xv(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?k8(Object(r),!0).forEach(function(n){PN(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):k8(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function PN(e,t,r){return(t=efe(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function efe(e){var t=tfe(e,"string");return typeof t=="symbol"?t:t+""}function tfe(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}class rfe extends k.PureComponent{constructor(){super(...arguments),PN(this,"state",{dismissed:!1,dismissedAtCoordinate:{x:0,y:0}}),PN(this,"handleKeyDown",t=>{if(t.key==="Escape"){var r,n,a,i;this.setState({dismissed:!0,dismissedAtCoordinate:{x:(r=(n=this.props.coordinate)===null||n===void 0?void 0:n.x)!==null&&r!==void 0?r:0,y:(a=(i=this.props.coordinate)===null||i===void 0?void 0:i.y)!==null&&a!==void 0?a:0}})}})}componentDidMount(){document.addEventListener("keydown",this.handleKeyDown)}componentWillUnmount(){document.removeEventListener("keydown",this.handleKeyDown)}componentDidUpdate(){var t,r;this.state.dismissed&&(((t=this.props.coordinate)===null||t===void 0?void 0:t.x)!==this.state.dismissedAtCoordinate.x||((r=this.props.coordinate)===null||r===void 0?void 0:r.y)!==this.state.dismissedAtCoordinate.y)&&(this.state.dismissed=!1)}render(){var{active:t,allowEscapeViewBox:r,animationDuration:n,animationEasing:a,children:i,coordinate:l,hasPayload:o,isAnimationActive:u,offset:f,position:h,reverseDirection:m,useTranslate3d:g,viewBox:x,wrapperStyle:b,lastBoundingBox:v,innerRef:w,hasPortalFromProps:N}=this.props,{cssClasses:E,cssProperties:j}=Jue({allowEscapeViewBox:r,coordinate:l,offsetTopLeft:f,position:h,reverseDirection:m,tooltipBox:{height:v.height,width:v.width},useTranslate3d:g,viewBox:x}),T=N?{}:xv(xv({transition:u&&t?"transform ".concat(n,"ms ").concat(a):void 0},j),{},{pointerEvents:"none",visibility:!this.state.dismissed&&t&&o?"visible":"hidden",position:"absolute",top:0,left:0}),O=xv(xv({},T),{},{visibility:!this.state.dismissed&&t&&o?"visible":"hidden"},b);return k.createElement("div",{xmlns:"http://www.w3.org/1999/xhtml",tabIndex:-1,className:E,style:O,ref:w},i)}}var nfe=()=>!(typeof window<"u"&&window.document&&window.document.createElement&&window.setTimeout),Hd={devToolsEnabled:!1,isSsr:nfe()},ZM=()=>Ht(e=>e.rootProps.accessibilityLayer);function LN(){return LN=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},LN.apply(null,arguments)}function C8(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function T8(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?C8(Object(r),!0).forEach(function(n){afe(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):C8(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function afe(e,t,r){return(t=ife(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function ife(e){var t=sfe(e,"string");return typeof t=="symbol"?t:t+""}function sfe(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var O8={curveBasisClosed:ale,curveBasisOpen:ile,curveBasis:nle,curveBumpX:$se,curveBumpY:Hse,curveLinearClosed:sle,curveLinear:b2,curveMonotoneX:lle,curveMonotoneY:ole,curveNatural:cle,curveStep:ule,curveStepAfter:dle,curveStepBefore:fle},gv=e=>Ps(e.x)&&Ps(e.y),ox=e=>e.x,cx=e=>e.y,lfe=(e,t)=>{if(typeof e=="function")return e;var r="curve".concat(Lg(e));return(r==="curveMonotone"||r==="curveBump")&&t?O8["".concat(r).concat(t==="vertical"?"Y":"X")]:O8[r]||b2},ofe=e=>{var{type:t="linear",points:r=[],baseLine:n,layout:a,connectNulls:i=!1}=e,l=lfe(t,a),o=i?r.filter(gv):r,u;if(Array.isArray(n)){var f=i?n.filter(m=>gv(m)):n,h=o.map((m,g)=>T8(T8({},m),{},{base:f[g]}));return a==="vertical"?u=cv().y(cx).x1(ox).x0(m=>m.base.x):u=cv().x(ox).y1(cx).y0(m=>m.base.y),u.defined(gv).curve(l),u(h)}return a==="vertical"&&Qt(n)?u=cv().y(cx).x1(ox).x0(n):Qt(n)?u=cv().x(ox).y1(cx).y0(n):u=ML().x(ox).y(cx),u.defined(gv).curve(l),u(o)},sj=e=>{var{className:t,points:r,path:n,pathRef:a}=e;if((!r||!r.length)&&!n)return null;var i=r&&r.length?ofe(e):n;return k.createElement("path",LN({},ao(e),V3(e),{className:ln("recharts-curve",t),d:i===null?void 0:i,ref:a}))},cfe=["x","y","top","left","width","height","className"];function MN(){return MN=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},MN.apply(null,arguments)}function D8(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function ufe(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?D8(Object(r),!0).forEach(function(n){ffe(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):D8(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function ffe(e,t,r){return(t=dfe(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function dfe(e){var t=hfe(e,"string");return typeof t=="symbol"?t:t+""}function hfe(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function mfe(e,t){if(e==null)return{};var r,n,a=pfe(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}function pfe(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}var xfe=(e,t,r,n,a,i)=>"M".concat(e,",").concat(a,"v").concat(n,"M").concat(i,",").concat(t,"h").concat(r),gfe=e=>{var{x:t=0,y:r=0,top:n=0,left:a=0,width:i=0,height:l=0,className:o}=e,u=mfe(e,cfe),f=ufe({x:t,y:r,top:n,left:a,width:i,height:l},u);return!Qt(t)||!Qt(r)||!Qt(i)||!Qt(l)||!Qt(n)||!Qt(a)?null:k.createElement("path",MN({},nl(f),{className:ln("recharts-cross",o),d:xfe(t,r,i,l,n,a)}))};function vfe(e,t,r,n){var a=n/2;return{stroke:"none",fill:"#ccc",x:e==="horizontal"?t.x-a:r.left+.5,y:e==="horizontal"?r.top+.5:t.y-a,width:e==="horizontal"?n:r.width-1,height:e==="horizontal"?r.height-1:n}}function F8(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function yfe(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?F8(Object(r),!0).forEach(function(n){bfe(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):F8(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function bfe(e,t,r){return(t=wfe(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function wfe(e){var t=Nfe(e,"string");return typeof t=="symbol"?t:t+""}function Nfe(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function cs(e,t){var r=yfe({},e),n=t,a=Object.keys(t),i=a.reduce((l,o)=>(l[o]===void 0&&n[o]!==void 0&&(l[o]=n[o]),l),r);return i}function _fe(){}function jfe(e){return e!=null}function P8(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function L8(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?P8(Object(r),!0).forEach(function(n){Sfe(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):P8(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Sfe(e,t,r){return(t=Afe(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Afe(e){var t=Efe(e,"string");return typeof t=="symbol"?t:t+""}function Efe(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var kfe=e=>e.replace(/([A-Z])/g,t=>"-".concat(t.toLowerCase())),JM=(e,t,r)=>e.map(n=>"".concat(kfe(n)," ").concat(t,"ms ").concat(r)).join(","),Cfe=(e,t)=>[Object.keys(e),Object.keys(t)].reduce((r,n)=>r.filter(a=>n.includes(a))),hg=(e,t)=>Object.keys(t).reduce((r,n)=>L8(L8({},r),{},{[n]:e(n,t[n])}),{});function M8(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function as(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?M8(Object(r),!0).forEach(function(n){Tfe(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):M8(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Tfe(e,t,r){return(t=Ofe(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Ofe(e){var t=Dfe(e,"string");return typeof t=="symbol"?t:t+""}function Dfe(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Ey=(e,t,r)=>e+(t-e)*r,RN=e=>{var{from:t,to:r}=e;return t!==r},eR=(e,t,r)=>{var n=hg((a,i)=>{if(RN(i)){var[l,o]=e(i.from,i.to,i.velocity);return as(as({},i),{},{from:l,velocity:o})}return i},t);return r<1?hg((a,i)=>RN(i)?as(as({},i),{},{velocity:Ey(i.velocity,n[a].velocity,r),from:Ey(i.from,n[a].from,r)}):i,t):eR(e,n,r-1)};function Ffe(e,t,r,n,a,i){var l,o=n.reduce((g,x)=>as(as({},g),{},{[x]:{from:e[x],velocity:0,to:t[x]}}),{}),u=()=>hg((g,x)=>x.from,o),f=()=>!Object.values(o).filter(RN).length,h=null,m=g=>{l||(l=g);var x=g-l,b=x/r.dt;o=eR(r,o,b),a(as(as(as({},e),t),u())),l=g,f()||(h=i.setTimeout(m))};return()=>(h=i.setTimeout(m),()=>{h()})}function Pfe(e,t,r,n,a,i,l){var o=null,u=a.reduce((m,g)=>as(as({},m),{},{[g]:[e[g],t[g]]}),{}),f,h=m=>{f||(f=m);var g=(m-f)/n,x=hg((v,w)=>Ey(...w,r(g)),u);if(i(as(as(as({},e),t),x)),g<1)o=l.setTimeout(h);else{var b=hg((v,w)=>Ey(...w,r(1)),u);i(as(as(as({},e),t),b))}};return()=>(o=l.setTimeout(h),()=>{o()})}const Lfe=(e,t,r,n,a,i)=>{var l=Cfe(e,t);return r.isStepper===!0?Ffe(e,t,r,l,a,i):Pfe(e,t,r,n,l,a,i)};var ky=1e-4,tR=(e,t)=>[0,3*e,3*t-6*e,3*e-3*t+1],rR=(e,t)=>e.map((r,n)=>r*t**n).reduce((r,n)=>r+n),R8=(e,t)=>r=>{var n=tR(e,t);return rR(n,r)},Mfe=(e,t)=>r=>{var n=tR(e,t),a=[...n.map((i,l)=>i*l).slice(1),0];return rR(a,r)},I8=function(){for(var t,r,n,a,i=arguments.length,l=new Array(i),o=0;o<i;o++)l[o]=arguments[o];if(l.length===1)switch(l[0]){case"linear":[t,n,r,a]=[0,0,1,1];break;case"ease":[t,n,r,a]=[.25,.1,.25,1];break;case"ease-in":[t,n,r,a]=[.42,0,1,1];break;case"ease-out":[t,n,r,a]=[.42,0,.58,1];break;case"ease-in-out":[t,n,r,a]=[0,0,.58,1];break;default:{var u=l[0].split("(");u[0]==="cubic-bezier"&&u[1].split(")")[0].split(",").length===4&&([t,n,r,a]=u[1].split(")")[0].split(",").map(b=>parseFloat(b)))}}else l.length===4&&([t,n,r,a]=l);var f=R8(t,r),h=R8(n,a),m=Mfe(t,r),g=b=>b>1?1:b<0?0:b,x=b=>{for(var v=b>1?1:b,w=v,N=0;N<8;++N){var E=f(w)-v,j=m(w);if(Math.abs(E-v)<ky||j<ky)return h(w);w=g(w-E/j)}return h(w)};return x.isStepper=!1,x},Rfe=function(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},{stiff:r=100,damping:n=8,dt:a=17}=t,i=(l,o,u)=>{var f=-(l-o)*r,h=u*n,m=u+(f-h)*a/1e3,g=u*a/1e3+l;return Math.abs(g-o)<ky&&Math.abs(m)<ky?[o,0]:[g,m]};return i.isStepper=!0,i.dt=a,i},Ife=e=>{if(typeof e=="string")switch(e){case"ease":case"ease-in-out":case"ease-out":case"ease-in":case"linear":return I8(e);case"spring":return Rfe();default:if(e.split("(")[0]==="cubic-bezier")return I8(e)}return typeof e=="function"?e:null};function Bfe(e){var t,r=()=>null,n=!1,a=null,i=l=>{if(!n){if(Array.isArray(l)){if(!l.length)return;var o=l,[u,...f]=o;if(typeof u=="number"){a=e.setTimeout(i.bind(null,f),u);return}i(u),a=e.setTimeout(i.bind(null,f));return}typeof l=="string"&&(t=l,r(t)),typeof l=="object"&&(t=l,r(t)),typeof l=="function"&&l()}};return{stop:()=>{n=!0},start:l=>{n=!1,a&&(a(),a=null),i(l)},subscribe:l=>(r=l,()=>{r=()=>null}),getTimeoutController:()=>e}}class Ufe{setTimeout(t){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,n=performance.now(),a=null,i=l=>{l-n>=r?t(l):typeof requestAnimationFrame=="function"&&(a=requestAnimationFrame(i))};return a=requestAnimationFrame(i),()=>{cancelAnimationFrame(a)}}}function zfe(){return Bfe(new Ufe)}var qfe=k.createContext(zfe);function $fe(e,t){var r=k.useContext(qfe);return k.useMemo(()=>t??r(e),[e,t,r])}var Hfe={begin:0,duration:1e3,easing:"ease",isActive:!0,canBegin:!0,onAnimationEnd:()=>{},onAnimationStart:()=>{}},B8={t:0},K5={t:1};function Ug(e){var t=cs(e,Hfe),{isActive:r,canBegin:n,duration:a,easing:i,begin:l,onAnimationEnd:o,onAnimationStart:u,children:f}=t,h=$fe(t.animationId,t.animationManager),[m,g]=k.useState(r?B8:K5),x=k.useRef(null);return k.useEffect(()=>{r||g(K5)},[r]),k.useEffect(()=>{if(!r||!n)return _fe;var b=Lfe(B8,K5,Ife(i),a,g,h.getTimeoutController()),v=()=>{x.current=b()};return h.start([u,l,v,a,o]),()=>{h.stop(),x.current&&x.current(),o()}},[r,n,a,i,l,u,o,h]),f(m.t)}function zg(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"animation-",r=k.useRef(lg(t)),n=k.useRef(e);return n.current!==e&&(r.current=lg(t),n.current=e),r.current}var Vfe=["radius"],Wfe=["radius"];function U8(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function z8(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?U8(Object(r),!0).forEach(function(n){Kfe(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):U8(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Kfe(e,t,r){return(t=Gfe(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Gfe(e){var t=Yfe(e,"string");return typeof t=="symbol"?t:t+""}function Yfe(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Cy(){return Cy=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Cy.apply(null,arguments)}function q8(e,t){if(e==null)return{};var r,n,a=Xfe(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}function Xfe(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}var $8=(e,t,r,n,a)=>{var i=Math.min(Math.abs(r)/2,Math.abs(n)/2),l=n>=0?1:-1,o=r>=0?1:-1,u=n>=0&&r>=0||n<0&&r<0?1:0,f;if(i>0&&a instanceof Array){for(var h=[0,0,0,0],m=0,g=4;m<g;m++)h[m]=a[m]>i?i:a[m];f="M".concat(e,",").concat(t+l*h[0]),h[0]>0&&(f+="A ".concat(h[0],",").concat(h[0],",0,0,").concat(u,",").concat(e+o*h[0],",").concat(t)),f+="L ".concat(e+r-o*h[1],",").concat(t),h[1]>0&&(f+="A ".concat(h[1],",").concat(h[1],",0,0,").concat(u,`,
        `).concat(e+r,",").concat(t+l*h[1])),f+="L ".concat(e+r,",").concat(t+n-l*h[2]),h[2]>0&&(f+="A ".concat(h[2],",").concat(h[2],",0,0,").concat(u,`,
        `).concat(e+r-o*h[2],",").concat(t+n)),f+="L ".concat(e+o*h[3],",").concat(t+n),h[3]>0&&(f+="A ".concat(h[3],",").concat(h[3],",0,0,").concat(u,`,
        `).concat(e,",").concat(t+n-l*h[3])),f+="Z"}else if(i>0&&a===+a&&a>0){var x=Math.min(i,a);f="M ".concat(e,",").concat(t+l*x,`
            A `).concat(x,",").concat(x,",0,0,").concat(u,",").concat(e+o*x,",").concat(t,`
            L `).concat(e+r-o*x,",").concat(t,`
            A `).concat(x,",").concat(x,",0,0,").concat(u,",").concat(e+r,",").concat(t+l*x,`
            L `).concat(e+r,",").concat(t+n-l*x,`
            A `).concat(x,",").concat(x,",0,0,").concat(u,",").concat(e+r-o*x,",").concat(t+n,`
            L `).concat(e+o*x,",").concat(t+n,`
            A `).concat(x,",").concat(x,",0,0,").concat(u,",").concat(e,",").concat(t+n-l*x," Z")}else f="M ".concat(e,",").concat(t," h ").concat(r," v ").concat(n," h ").concat(-r," Z");return f},Qfe={x:0,y:0,width:0,height:0,radius:0,isAnimationActive:!1,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},nR=e=>{var t=cs(e,Qfe),r=k.useRef(null),[n,a]=k.useState(-1);k.useEffect(()=>{if(r.current&&r.current.getTotalLength)try{var Z=r.current.getTotalLength();Z&&a(Z)}catch{}},[]);var{x:i,y:l,width:o,height:u,radius:f,className:h}=t,{animationEasing:m,animationDuration:g,animationBegin:x,isAnimationActive:b,isUpdateAnimationActive:v}=t,w=k.useRef(o),N=k.useRef(u),E=k.useRef(i),j=k.useRef(l),T=k.useMemo(()=>({x:i,y:l,width:o,height:u,radius:f}),[i,l,o,u,f]),O=zg(T,"rectangle-");if(i!==+i||l!==+l||o!==+o||u!==+u||o===0||u===0)return null;var P=ln("recharts-rectangle",h);if(!v){var D=nl(t),{radius:M}=D,B=q8(D,Vfe);return k.createElement("path",Cy({},B,{radius:typeof f=="number"?f:void 0,className:P,d:$8(i,l,o,u,f)}))}var H=w.current,L=N.current,U=E.current,G=j.current,te="0px ".concat(n===-1?1:n,"px"),de="".concat(n,"px 0px"),ne=JM(["strokeDasharray"],g,typeof m=="string"?m:void 0);return k.createElement(Ug,{animationId:O,key:O,canBegin:n>0,duration:g,easing:m,isActive:v,begin:x},Z=>{var xe=Ra(H,o,Z),le=Ra(L,u,Z),Se=Ra(U,i,Z),re=Ra(G,l,Z);r.current&&(w.current=xe,N.current=le,E.current=Se,j.current=re);var R;b?Z>0?R={transition:ne,strokeDasharray:de}:R={strokeDasharray:te}:R={strokeDasharray:de};var F=nl(t),{radius:q}=F,W=q8(F,Wfe);return k.createElement("path",Cy({},W,{radius:typeof f=="number"?f:void 0,className:P,d:$8(Se,re,xe,le,f),ref:r,style:z8(z8({},R),t.style)}))})};function aR(e){var{cx:t,cy:r,radius:n,startAngle:a,endAngle:i}=e,l=li(t,r,n,a),o=li(t,r,n,i);return{points:[l,o],cx:t,cy:r,radius:n,startAngle:a,endAngle:i}}function IN(){return IN=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},IN.apply(null,arguments)}var Zfe=(e,t)=>{var r=$i(t-e),n=Math.min(Math.abs(t-e),359.999);return r*n},vv=e=>{var{cx:t,cy:r,radius:n,angle:a,sign:i,isExternal:l,cornerRadius:o,cornerIsExternal:u}=e,f=o*(l?1:-1)+n,h=Math.asin(o/f)/Sy,m=u?a:a+i*h,g=li(t,r,f,m),x=li(t,r,n,m),b=u?a-i*h:a,v=li(t,r,f*Math.cos(h*Sy),b);return{center:g,circleTangency:x,lineTangency:v,theta:h}},iR=e=>{var{cx:t,cy:r,innerRadius:n,outerRadius:a,startAngle:i,endAngle:l}=e,o=Zfe(i,l),u=i+o,f=li(t,r,a,i),h=li(t,r,a,u),m="M ".concat(f.x,",").concat(f.y,`
    A `).concat(a,",").concat(a,`,0,
    `).concat(+(Math.abs(o)>180),",").concat(+(i>u),`,
    `).concat(h.x,",").concat(h.y,`
  `);if(n>0){var g=li(t,r,n,i),x=li(t,r,n,u);m+="L ".concat(x.x,",").concat(x.y,`
            A `).concat(n,",").concat(n,`,0,
            `).concat(+(Math.abs(o)>180),",").concat(+(i<=u),`,
            `).concat(g.x,",").concat(g.y," Z")}else m+="L ".concat(t,",").concat(r," Z");return m},Jfe=e=>{var{cx:t,cy:r,innerRadius:n,outerRadius:a,cornerRadius:i,forceCornerRadius:l,cornerIsExternal:o,startAngle:u,endAngle:f}=e,h=$i(f-u),{circleTangency:m,lineTangency:g,theta:x}=vv({cx:t,cy:r,radius:a,angle:u,sign:h,cornerRadius:i,cornerIsExternal:o}),{circleTangency:b,lineTangency:v,theta:w}=vv({cx:t,cy:r,radius:a,angle:f,sign:-h,cornerRadius:i,cornerIsExternal:o}),N=o?Math.abs(u-f):Math.abs(u-f)-x-w;if(N<0)return l?"M ".concat(g.x,",").concat(g.y,`
        a`).concat(i,",").concat(i,",0,0,1,").concat(i*2,`,0
        a`).concat(i,",").concat(i,",0,0,1,").concat(-i*2,`,0
      `):iR({cx:t,cy:r,innerRadius:n,outerRadius:a,startAngle:u,endAngle:f});var E="M ".concat(g.x,",").concat(g.y,`
    A`).concat(i,",").concat(i,",0,0,").concat(+(h<0),",").concat(m.x,",").concat(m.y,`
    A`).concat(a,",").concat(a,",0,").concat(+(N>180),",").concat(+(h<0),",").concat(b.x,",").concat(b.y,`
    A`).concat(i,",").concat(i,",0,0,").concat(+(h<0),",").concat(v.x,",").concat(v.y,`
  `);if(n>0){var{circleTangency:j,lineTangency:T,theta:O}=vv({cx:t,cy:r,radius:n,angle:u,sign:h,isExternal:!0,cornerRadius:i,cornerIsExternal:o}),{circleTangency:P,lineTangency:D,theta:M}=vv({cx:t,cy:r,radius:n,angle:f,sign:-h,isExternal:!0,cornerRadius:i,cornerIsExternal:o}),B=o?Math.abs(u-f):Math.abs(u-f)-O-M;if(B<0&&i===0)return"".concat(E,"L").concat(t,",").concat(r,"Z");E+="L".concat(D.x,",").concat(D.y,`
      A`).concat(i,",").concat(i,",0,0,").concat(+(h<0),",").concat(P.x,",").concat(P.y,`
      A`).concat(n,",").concat(n,",0,").concat(+(B>180),",").concat(+(h>0),",").concat(j.x,",").concat(j.y,`
      A`).concat(i,",").concat(i,",0,0,").concat(+(h<0),",").concat(T.x,",").concat(T.y,"Z")}else E+="L".concat(t,",").concat(r,"Z");return E},ede={cx:0,cy:0,innerRadius:0,outerRadius:0,startAngle:0,endAngle:0,cornerRadius:0,forceCornerRadius:!1,cornerIsExternal:!1},sR=e=>{var t=cs(e,ede),{cx:r,cy:n,innerRadius:a,outerRadius:i,cornerRadius:l,forceCornerRadius:o,cornerIsExternal:u,startAngle:f,endAngle:h,className:m}=t;if(i<a||f===h)return null;var g=ln("recharts-sector",m),x=i-a,b=Os(l,x,0,!0),v;return b>0&&Math.abs(f-h)<360?v=Jfe({cx:r,cy:n,innerRadius:a,outerRadius:i,cornerRadius:Math.min(b,x/2),forceCornerRadius:o,cornerIsExternal:u,startAngle:f,endAngle:h}):v=iR({cx:r,cy:n,innerRadius:a,outerRadius:i,startAngle:f,endAngle:h}),k.createElement("path",IN({},nl(t),{className:g,d:v}))};function tde(e,t,r){var n,a,i,l;if(e==="horizontal")n=t.x,i=n,a=r.top,l=r.top+r.height;else if(e==="vertical")a=t.y,l=a,n=r.left,i=r.left+r.width;else if(t.cx!=null&&t.cy!=null)if(e==="centric"){var{cx:o,cy:u,innerRadius:f,outerRadius:h,angle:m}=t,g=li(o,u,f,m),x=li(o,u,h,m);n=g.x,a=g.y,i=x.x,l=x.y}else return aR(t);return[{x:n,y:a},{x:i,y:l}]}var G5={},Y5={},X5={},H8;function rde(){return H8||(H8=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=oM();function r(n){return t.isSymbol(n)?NaN:Number(n)}e.toNumber=r})(X5)),X5}var V8;function nde(){return V8||(V8=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=rde();function r(n){return n?(n=t.toNumber(n),n===1/0||n===-1/0?(n<0?-1:1)*Number.MAX_VALUE:n===n?n:0):n===0?n:0}e.toFinite=r})(Y5)),Y5}var W8;function ade(){return W8||(W8=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=cM(),r=nde();function n(a,i,l){l&&typeof l!="number"&&t.isIterateeCall(a,i,l)&&(i=l=void 0),a=r.toFinite(a),i===void 0?(i=a,a=0):i=r.toFinite(i),l=l===void 0?a<i?1:-1:r.toFinite(l);const o=Math.max(Math.ceil((i-a)/(l||1)),0),u=new Array(o);for(let f=0;f<o;f++)u[f]=a,a+=l;return u}e.range=n})(G5)),G5}var Q5,K8;function ide(){return K8||(K8=1,Q5=ade().range),Q5}var sde=ide();const lR=_f(sde);function Ad(e,t){return e==null||t==null?NaN:e<t?-1:e>t?1:e>=t?0:NaN}function lde(e,t){return e==null||t==null?NaN:t<e?-1:t>e?1:t>=e?0:NaN}function lj(e){let t,r,n;e.length!==2?(t=Ad,r=(o,u)=>Ad(e(o),u),n=(o,u)=>e(o)-u):(t=e===Ad||e===lde?e:ode,r=e,n=e);function a(o,u,f=0,h=o.length){if(f<h){if(t(u,u)!==0)return h;do{const m=f+h>>>1;r(o[m],u)<0?f=m+1:h=m}while(f<h)}return f}function i(o,u,f=0,h=o.length){if(f<h){if(t(u,u)!==0)return h;do{const m=f+h>>>1;r(o[m],u)<=0?f=m+1:h=m}while(f<h)}return f}function l(o,u,f=0,h=o.length){const m=a(o,u,f,h-1);return m>f&&n(o[m-1],u)>-n(o[m],u)?m-1:m}return{left:a,center:l,right:i}}function ode(){return 0}function oR(e){return e===null?NaN:+e}function*cde(e,t){for(let r of e)r!=null&&(r=+r)>=r&&(yield r)}const ude=lj(Ad),qg=ude.right;lj(oR).center;class G8 extends Map{constructor(t,r=hde){if(super(),Object.defineProperties(this,{_intern:{value:new Map},_key:{value:r}}),t!=null)for(const[n,a]of t)this.set(n,a)}get(t){return super.get(Y8(this,t))}has(t){return super.has(Y8(this,t))}set(t,r){return super.set(fde(this,t),r)}delete(t){return super.delete(dde(this,t))}}function Y8({_intern:e,_key:t},r){const n=t(r);return e.has(n)?e.get(n):r}function fde({_intern:e,_key:t},r){const n=t(r);return e.has(n)?e.get(n):(e.set(n,r),r)}function dde({_intern:e,_key:t},r){const n=t(r);return e.has(n)&&(r=e.get(n),e.delete(n)),r}function hde(e){return e!==null&&typeof e=="object"?e.valueOf():e}function mde(e=Ad){if(e===Ad)return cR;if(typeof e!="function")throw new TypeError("compare is not a function");return(t,r)=>{const n=e(t,r);return n||n===0?n:(e(r,r)===0)-(e(t,t)===0)}}function cR(e,t){return(e==null||!(e>=e))-(t==null||!(t>=t))||(e<t?-1:e>t?1:0)}const pde=Math.sqrt(50),xde=Math.sqrt(10),gde=Math.sqrt(2);function Ty(e,t,r){const n=(t-e)/Math.max(0,r),a=Math.floor(Math.log10(n)),i=n/Math.pow(10,a),l=i>=pde?10:i>=xde?5:i>=gde?2:1;let o,u,f;return a<0?(f=Math.pow(10,-a)/l,o=Math.round(e*f),u=Math.round(t*f),o/f<e&&++o,u/f>t&&--u,f=-f):(f=Math.pow(10,a)*l,o=Math.round(e/f),u=Math.round(t/f),o*f<e&&++o,u*f>t&&--u),u<o&&.5<=r&&r<2?Ty(e,t,r*2):[o,u,f]}function BN(e,t,r){if(t=+t,e=+e,r=+r,!(r>0))return[];if(e===t)return[e];const n=t<e,[a,i,l]=n?Ty(t,e,r):Ty(e,t,r);if(!(i>=a))return[];const o=i-a+1,u=new Array(o);if(n)if(l<0)for(let f=0;f<o;++f)u[f]=(i-f)/-l;else for(let f=0;f<o;++f)u[f]=(i-f)*l;else if(l<0)for(let f=0;f<o;++f)u[f]=(a+f)/-l;else for(let f=0;f<o;++f)u[f]=(a+f)*l;return u}function UN(e,t,r){return t=+t,e=+e,r=+r,Ty(e,t,r)[2]}function zN(e,t,r){t=+t,e=+e,r=+r;const n=t<e,a=n?UN(t,e,r):UN(e,t,r);return(n?-1:1)*(a<0?1/-a:a)}function X8(e,t){let r;for(const n of e)n!=null&&(r<n||r===void 0&&n>=n)&&(r=n);return r}function Q8(e,t){let r;for(const n of e)n!=null&&(r>n||r===void 0&&n>=n)&&(r=n);return r}function uR(e,t,r=0,n=1/0,a){if(t=Math.floor(t),r=Math.floor(Math.max(0,r)),n=Math.floor(Math.min(e.length-1,n)),!(r<=t&&t<=n))return e;for(a=a===void 0?cR:mde(a);n>r;){if(n-r>600){const u=n-r+1,f=t-r+1,h=Math.log(u),m=.5*Math.exp(2*h/3),g=.5*Math.sqrt(h*m*(u-m)/u)*(f-u/2<0?-1:1),x=Math.max(r,Math.floor(t-f*m/u+g)),b=Math.min(n,Math.floor(t+(u-f)*m/u+g));uR(e,t,x,b,a)}const i=e[t];let l=r,o=n;for(ux(e,r,t),a(e[n],i)>0&&ux(e,r,n);l<o;){for(ux(e,l,o),++l,--o;a(e[l],i)<0;)++l;for(;a(e[o],i)>0;)--o}a(e[r],i)===0?ux(e,r,o):(++o,ux(e,o,n)),o<=t&&(r=o+1),t<=o&&(n=o-1)}return e}function ux(e,t,r){const n=e[t];e[t]=e[r],e[r]=n}function vde(e,t,r){if(e=Float64Array.from(cde(e)),!(!(n=e.length)||isNaN(t=+t))){if(t<=0||n<2)return Q8(e);if(t>=1)return X8(e);var n,a=(n-1)*t,i=Math.floor(a),l=X8(uR(e,i).subarray(0,i+1)),o=Q8(e.subarray(i+1));return l+(o-l)*(a-i)}}function yde(e,t,r=oR){if(!(!(n=e.length)||isNaN(t=+t))){if(t<=0||n<2)return+r(e[0],0,e);if(t>=1)return+r(e[n-1],n-1,e);var n,a=(n-1)*t,i=Math.floor(a),l=+r(e[i],i,e),o=+r(e[i+1],i+1,e);return l+(o-l)*(a-i)}}function bde(e,t,r){e=+e,t=+t,r=(a=arguments.length)<2?(t=e,e=0,1):a<3?1:+r;for(var n=-1,a=Math.max(0,Math.ceil((t-e)/r))|0,i=new Array(a);++n<a;)i[n]=e+n*r;return i}function Yo(e,t){switch(arguments.length){case 0:break;case 1:this.range(e);break;default:this.range(t).domain(e);break}return this}function Tf(e,t){switch(arguments.length){case 0:break;case 1:{typeof e=="function"?this.interpolator(e):this.range(e);break}default:{this.domain(e),typeof t=="function"?this.interpolator(t):this.range(t);break}}return this}const qN=Symbol("implicit");function oj(){var e=new G8,t=[],r=[],n=qN;function a(i){let l=e.get(i);if(l===void 0){if(n!==qN)return n;e.set(i,l=t.push(i)-1)}return r[l%r.length]}return a.domain=function(i){if(!arguments.length)return t.slice();t=[],e=new G8;for(const l of i)e.has(l)||e.set(l,t.push(l)-1);return a},a.range=function(i){return arguments.length?(r=Array.from(i),a):r.slice()},a.unknown=function(i){return arguments.length?(n=i,a):n},a.copy=function(){return oj(t,r).unknown(n)},Yo.apply(a,arguments),a}function cj(){var e=oj().unknown(void 0),t=e.domain,r=e.range,n=0,a=1,i,l,o=!1,u=0,f=0,h=.5;delete e.unknown;function m(){var g=t().length,x=a<n,b=x?a:n,v=x?n:a;i=(v-b)/Math.max(1,g-u+f*2),o&&(i=Math.floor(i)),b+=(v-b-i*(g-u))*h,l=i*(1-u),o&&(b=Math.round(b),l=Math.round(l));var w=bde(g).map(function(N){return b+i*N});return r(x?w.reverse():w)}return e.domain=function(g){return arguments.length?(t(g),m()):t()},e.range=function(g){return arguments.length?([n,a]=g,n=+n,a=+a,m()):[n,a]},e.rangeRound=function(g){return[n,a]=g,n=+n,a=+a,o=!0,m()},e.bandwidth=function(){return l},e.step=function(){return i},e.round=function(g){return arguments.length?(o=!!g,m()):o},e.padding=function(g){return arguments.length?(u=Math.min(1,f=+g),m()):u},e.paddingInner=function(g){return arguments.length?(u=Math.min(1,g),m()):u},e.paddingOuter=function(g){return arguments.length?(f=+g,m()):f},e.align=function(g){return arguments.length?(h=Math.max(0,Math.min(1,g)),m()):h},e.copy=function(){return cj(t(),[n,a]).round(o).paddingInner(u).paddingOuter(f).align(h)},Yo.apply(m(),arguments)}function fR(e){var t=e.copy;return e.padding=e.paddingOuter,delete e.paddingInner,delete e.paddingOuter,e.copy=function(){return fR(t())},e}function wde(){return fR(cj.apply(null,arguments).paddingInner(1))}function uj(e,t,r){e.prototype=t.prototype=r,r.constructor=e}function dR(e,t){var r=Object.create(e.prototype);for(var n in t)r[n]=t[n];return r}function $g(){}var mg=.7,Oy=1/mg,Mm="\\s*([+-]?\\d+)\\s*",pg="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",du="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",Nde=/^#([0-9a-f]{3,8})$/,_de=new RegExp(`^rgb\\(${Mm},${Mm},${Mm}\\)$`),jde=new RegExp(`^rgb\\(${du},${du},${du}\\)$`),Sde=new RegExp(`^rgba\\(${Mm},${Mm},${Mm},${pg}\\)$`),Ade=new RegExp(`^rgba\\(${du},${du},${du},${pg}\\)$`),Ede=new RegExp(`^hsl\\(${pg},${du},${du}\\)$`),kde=new RegExp(`^hsla\\(${pg},${du},${du},${pg}\\)$`),Z8={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};uj($g,xg,{copy(e){return Object.assign(new this.constructor,this,e)},displayable(){return this.rgb().displayable()},hex:J8,formatHex:J8,formatHex8:Cde,formatHsl:Tde,formatRgb:eT,toString:eT});function J8(){return this.rgb().formatHex()}function Cde(){return this.rgb().formatHex8()}function Tde(){return hR(this).formatHsl()}function eT(){return this.rgb().formatRgb()}function xg(e){var t,r;return e=(e+"").trim().toLowerCase(),(t=Nde.exec(e))?(r=t[1].length,t=parseInt(t[1],16),r===6?tT(t):r===3?new El(t>>8&15|t>>4&240,t>>4&15|t&240,(t&15)<<4|t&15,1):r===8?yv(t>>24&255,t>>16&255,t>>8&255,(t&255)/255):r===4?yv(t>>12&15|t>>8&240,t>>8&15|t>>4&240,t>>4&15|t&240,((t&15)<<4|t&15)/255):null):(t=_de.exec(e))?new El(t[1],t[2],t[3],1):(t=jde.exec(e))?new El(t[1]*255/100,t[2]*255/100,t[3]*255/100,1):(t=Sde.exec(e))?yv(t[1],t[2],t[3],t[4]):(t=Ade.exec(e))?yv(t[1]*255/100,t[2]*255/100,t[3]*255/100,t[4]):(t=Ede.exec(e))?aT(t[1],t[2]/100,t[3]/100,1):(t=kde.exec(e))?aT(t[1],t[2]/100,t[3]/100,t[4]):Z8.hasOwnProperty(e)?tT(Z8[e]):e==="transparent"?new El(NaN,NaN,NaN,0):null}function tT(e){return new El(e>>16&255,e>>8&255,e&255,1)}function yv(e,t,r,n){return n<=0&&(e=t=r=NaN),new El(e,t,r,n)}function Ode(e){return e instanceof $g||(e=xg(e)),e?(e=e.rgb(),new El(e.r,e.g,e.b,e.opacity)):new El}function $N(e,t,r,n){return arguments.length===1?Ode(e):new El(e,t,r,n??1)}function El(e,t,r,n){this.r=+e,this.g=+t,this.b=+r,this.opacity=+n}uj(El,$N,dR($g,{brighter(e){return e=e==null?Oy:Math.pow(Oy,e),new El(this.r*e,this.g*e,this.b*e,this.opacity)},darker(e){return e=e==null?mg:Math.pow(mg,e),new El(this.r*e,this.g*e,this.b*e,this.opacity)},rgb(){return this},clamp(){return new El(B0(this.r),B0(this.g),B0(this.b),Dy(this.opacity))},displayable(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:rT,formatHex:rT,formatHex8:Dde,formatRgb:nT,toString:nT}));function rT(){return`#${C0(this.r)}${C0(this.g)}${C0(this.b)}`}function Dde(){return`#${C0(this.r)}${C0(this.g)}${C0(this.b)}${C0((isNaN(this.opacity)?1:this.opacity)*255)}`}function nT(){const e=Dy(this.opacity);return`${e===1?"rgb(":"rgba("}${B0(this.r)}, ${B0(this.g)}, ${B0(this.b)}${e===1?")":`, ${e})`}`}function Dy(e){return isNaN(e)?1:Math.max(0,Math.min(1,e))}function B0(e){return Math.max(0,Math.min(255,Math.round(e)||0))}function C0(e){return e=B0(e),(e<16?"0":"")+e.toString(16)}function aT(e,t,r,n){return n<=0?e=t=r=NaN:r<=0||r>=1?e=t=NaN:t<=0&&(e=NaN),new Nc(e,t,r,n)}function hR(e){if(e instanceof Nc)return new Nc(e.h,e.s,e.l,e.opacity);if(e instanceof $g||(e=xg(e)),!e)return new Nc;if(e instanceof Nc)return e;e=e.rgb();var t=e.r/255,r=e.g/255,n=e.b/255,a=Math.min(t,r,n),i=Math.max(t,r,n),l=NaN,o=i-a,u=(i+a)/2;return o?(t===i?l=(r-n)/o+(r<n)*6:r===i?l=(n-t)/o+2:l=(t-r)/o+4,o/=u<.5?i+a:2-i-a,l*=60):o=u>0&&u<1?0:l,new Nc(l,o,u,e.opacity)}function Fde(e,t,r,n){return arguments.length===1?hR(e):new Nc(e,t,r,n??1)}function Nc(e,t,r,n){this.h=+e,this.s=+t,this.l=+r,this.opacity=+n}uj(Nc,Fde,dR($g,{brighter(e){return e=e==null?Oy:Math.pow(Oy,e),new Nc(this.h,this.s,this.l*e,this.opacity)},darker(e){return e=e==null?mg:Math.pow(mg,e),new Nc(this.h,this.s,this.l*e,this.opacity)},rgb(){var e=this.h%360+(this.h<0)*360,t=isNaN(e)||isNaN(this.s)?0:this.s,r=this.l,n=r+(r<.5?r:1-r)*t,a=2*r-n;return new El(Z5(e>=240?e-240:e+120,a,n),Z5(e,a,n),Z5(e<120?e+240:e-120,a,n),this.opacity)},clamp(){return new Nc(iT(this.h),bv(this.s),bv(this.l),Dy(this.opacity))},displayable(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl(){const e=Dy(this.opacity);return`${e===1?"hsl(":"hsla("}${iT(this.h)}, ${bv(this.s)*100}%, ${bv(this.l)*100}%${e===1?")":`, ${e})`}`}}));function iT(e){return e=(e||0)%360,e<0?e+360:e}function bv(e){return Math.max(0,Math.min(1,e||0))}function Z5(e,t,r){return(e<60?t+(r-t)*e/60:e<180?r:e<240?t+(r-t)*(240-e)/60:t)*255}const fj=e=>()=>e;function Pde(e,t){return function(r){return e+r*t}}function Lde(e,t,r){return e=Math.pow(e,r),t=Math.pow(t,r)-e,r=1/r,function(n){return Math.pow(e+n*t,r)}}function Mde(e){return(e=+e)==1?mR:function(t,r){return r-t?Lde(t,r,e):fj(isNaN(t)?r:t)}}function mR(e,t){var r=t-e;return r?Pde(e,r):fj(isNaN(e)?t:e)}const sT=(function e(t){var r=Mde(t);function n(a,i){var l=r((a=$N(a)).r,(i=$N(i)).r),o=r(a.g,i.g),u=r(a.b,i.b),f=mR(a.opacity,i.opacity);return function(h){return a.r=l(h),a.g=o(h),a.b=u(h),a.opacity=f(h),a+""}}return n.gamma=e,n})(1);function Rde(e,t){t||(t=[]);var r=e?Math.min(t.length,e.length):0,n=t.slice(),a;return function(i){for(a=0;a<r;++a)n[a]=e[a]*(1-i)+t[a]*i;return n}}function Ide(e){return ArrayBuffer.isView(e)&&!(e instanceof DataView)}function Bde(e,t){var r=t?t.length:0,n=e?Math.min(r,e.length):0,a=new Array(n),i=new Array(r),l;for(l=0;l<n;++l)a[l]=fp(e[l],t[l]);for(;l<r;++l)i[l]=t[l];return function(o){for(l=0;l<n;++l)i[l]=a[l](o);return i}}function Ude(e,t){var r=new Date;return e=+e,t=+t,function(n){return r.setTime(e*(1-n)+t*n),r}}function Fy(e,t){return e=+e,t=+t,function(r){return e*(1-r)+t*r}}function zde(e,t){var r={},n={},a;(e===null||typeof e!="object")&&(e={}),(t===null||typeof t!="object")&&(t={});for(a in t)a in e?r[a]=fp(e[a],t[a]):n[a]=t[a];return function(i){for(a in r)n[a]=r[a](i);return n}}var HN=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,J5=new RegExp(HN.source,"g");function qde(e){return function(){return e}}function $de(e){return function(t){return e(t)+""}}function Hde(e,t){var r=HN.lastIndex=J5.lastIndex=0,n,a,i,l=-1,o=[],u=[];for(e=e+"",t=t+"";(n=HN.exec(e))&&(a=J5.exec(t));)(i=a.index)>r&&(i=t.slice(r,i),o[l]?o[l]+=i:o[++l]=i),(n=n[0])===(a=a[0])?o[l]?o[l]+=a:o[++l]=a:(o[++l]=null,u.push({i:l,x:Fy(n,a)})),r=J5.lastIndex;return r<t.length&&(i=t.slice(r),o[l]?o[l]+=i:o[++l]=i),o.length<2?u[0]?$de(u[0].x):qde(t):(t=u.length,function(f){for(var h=0,m;h<t;++h)o[(m=u[h]).i]=m.x(f);return o.join("")})}function fp(e,t){var r=typeof t,n;return t==null||r==="boolean"?fj(t):(r==="number"?Fy:r==="string"?(n=xg(t))?(t=n,sT):Hde:t instanceof xg?sT:t instanceof Date?Ude:Ide(t)?Rde:Array.isArray(t)?Bde:typeof t.valueOf!="function"&&typeof t.toString!="function"||isNaN(t)?zde:Fy)(e,t)}function dj(e,t){return e=+e,t=+t,function(r){return Math.round(e*(1-r)+t*r)}}function Vde(e,t){t===void 0&&(t=e,e=fp);for(var r=0,n=t.length-1,a=t[0],i=new Array(n<0?0:n);r<n;)i[r]=e(a,a=t[++r]);return function(l){var o=Math.max(0,Math.min(n-1,Math.floor(l*=n)));return i[o](l-o)}}function Wde(e){return function(){return e}}function Py(e){return+e}var lT=[0,1];function tl(e){return e}function VN(e,t){return(t-=e=+e)?function(r){return(r-e)/t}:Wde(isNaN(t)?NaN:.5)}function Kde(e,t){var r;return e>t&&(r=e,e=t,t=r),function(n){return Math.max(e,Math.min(t,n))}}function Gde(e,t,r){var n=e[0],a=e[1],i=t[0],l=t[1];return a<n?(n=VN(a,n),i=r(l,i)):(n=VN(n,a),i=r(i,l)),function(o){return i(n(o))}}function Yde(e,t,r){var n=Math.min(e.length,t.length)-1,a=new Array(n),i=new Array(n),l=-1;for(e[n]<e[0]&&(e=e.slice().reverse(),t=t.slice().reverse());++l<n;)a[l]=VN(e[l],e[l+1]),i[l]=r(t[l],t[l+1]);return function(o){var u=qg(e,o,1,n)-1;return i[u](a[u](o))}}function Hg(e,t){return t.domain(e.domain()).range(e.range()).interpolate(e.interpolate()).clamp(e.clamp()).unknown(e.unknown())}function L2(){var e=lT,t=lT,r=fp,n,a,i,l=tl,o,u,f;function h(){var g=Math.min(e.length,t.length);return l!==tl&&(l=Kde(e[0],e[g-1])),o=g>2?Yde:Gde,u=f=null,m}function m(g){return g==null||isNaN(g=+g)?i:(u||(u=o(e.map(n),t,r)))(n(l(g)))}return m.invert=function(g){return l(a((f||(f=o(t,e.map(n),Fy)))(g)))},m.domain=function(g){return arguments.length?(e=Array.from(g,Py),h()):e.slice()},m.range=function(g){return arguments.length?(t=Array.from(g),h()):t.slice()},m.rangeRound=function(g){return t=Array.from(g),r=dj,h()},m.clamp=function(g){return arguments.length?(l=g?!0:tl,h()):l!==tl},m.interpolate=function(g){return arguments.length?(r=g,h()):r},m.unknown=function(g){return arguments.length?(i=g,m):i},function(g,x){return n=g,a=x,h()}}function hj(){return L2()(tl,tl)}function Xde(e){return Math.abs(e=Math.round(e))>=1e21?e.toLocaleString("en").replace(/,/g,""):e.toString(10)}function Ly(e,t){if((r=(e=t?e.toExponential(t-1):e.toExponential()).indexOf("e"))<0)return null;var r,n=e.slice(0,r);return[n.length>1?n[0]+n.slice(2):n,+e.slice(r+1)]}function Gm(e){return e=Ly(Math.abs(e)),e?e[1]:NaN}function Qde(e,t){return function(r,n){for(var a=r.length,i=[],l=0,o=e[0],u=0;a>0&&o>0&&(u+o+1>n&&(o=Math.max(1,n-u)),i.push(r.substring(a-=o,a+o)),!((u+=o+1)>n));)o=e[l=(l+1)%e.length];return i.reverse().join(t)}}function Zde(e){return function(t){return t.replace(/[0-9]/g,function(r){return e[+r]})}}var Jde=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i;function gg(e){if(!(t=Jde.exec(e)))throw new Error("invalid format: "+e);var t;return new mj({fill:t[1],align:t[2],sign:t[3],symbol:t[4],zero:t[5],width:t[6],comma:t[7],precision:t[8]&&t[8].slice(1),trim:t[9],type:t[10]})}gg.prototype=mj.prototype;function mj(e){this.fill=e.fill===void 0?" ":e.fill+"",this.align=e.align===void 0?">":e.align+"",this.sign=e.sign===void 0?"-":e.sign+"",this.symbol=e.symbol===void 0?"":e.symbol+"",this.zero=!!e.zero,this.width=e.width===void 0?void 0:+e.width,this.comma=!!e.comma,this.precision=e.precision===void 0?void 0:+e.precision,this.trim=!!e.trim,this.type=e.type===void 0?"":e.type+""}mj.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(this.width===void 0?"":Math.max(1,this.width|0))+(this.comma?",":"")+(this.precision===void 0?"":"."+Math.max(0,this.precision|0))+(this.trim?"~":"")+this.type};function e0e(e){e:for(var t=e.length,r=1,n=-1,a;r<t;++r)switch(e[r]){case".":n=a=r;break;case"0":n===0&&(n=r),a=r;break;default:if(!+e[r])break e;n>0&&(n=0);break}return n>0?e.slice(0,n)+e.slice(a+1):e}var pR;function t0e(e,t){var r=Ly(e,t);if(!r)return e+"";var n=r[0],a=r[1],i=a-(pR=Math.max(-8,Math.min(8,Math.floor(a/3)))*3)+1,l=n.length;return i===l?n:i>l?n+new Array(i-l+1).join("0"):i>0?n.slice(0,i)+"."+n.slice(i):"0."+new Array(1-i).join("0")+Ly(e,Math.max(0,t+i-1))[0]}function oT(e,t){var r=Ly(e,t);if(!r)return e+"";var n=r[0],a=r[1];return a<0?"0."+new Array(-a).join("0")+n:n.length>a+1?n.slice(0,a+1)+"."+n.slice(a+1):n+new Array(a-n.length+2).join("0")}const cT={"%":(e,t)=>(e*100).toFixed(t),b:e=>Math.round(e).toString(2),c:e=>e+"",d:Xde,e:(e,t)=>e.toExponential(t),f:(e,t)=>e.toFixed(t),g:(e,t)=>e.toPrecision(t),o:e=>Math.round(e).toString(8),p:(e,t)=>oT(e*100,t),r:oT,s:t0e,X:e=>Math.round(e).toString(16).toUpperCase(),x:e=>Math.round(e).toString(16)};function uT(e){return e}var fT=Array.prototype.map,dT=["y","z","a","f","p","n","","m","","k","M","G","T","P","E","Z","Y"];function r0e(e){var t=e.grouping===void 0||e.thousands===void 0?uT:Qde(fT.call(e.grouping,Number),e.thousands+""),r=e.currency===void 0?"":e.currency[0]+"",n=e.currency===void 0?"":e.currency[1]+"",a=e.decimal===void 0?".":e.decimal+"",i=e.numerals===void 0?uT:Zde(fT.call(e.numerals,String)),l=e.percent===void 0?"%":e.percent+"",o=e.minus===void 0?"":e.minus+"",u=e.nan===void 0?"NaN":e.nan+"";function f(m){m=gg(m);var g=m.fill,x=m.align,b=m.sign,v=m.symbol,w=m.zero,N=m.width,E=m.comma,j=m.precision,T=m.trim,O=m.type;O==="n"?(E=!0,O="g"):cT[O]||(j===void 0&&(j=12),T=!0,O="g"),(w||g==="0"&&x==="=")&&(w=!0,g="0",x="=");var P=v==="$"?r:v==="#"&&/[boxX]/.test(O)?"0"+O.toLowerCase():"",D=v==="$"?n:/[%p]/.test(O)?l:"",M=cT[O],B=/[defgprs%]/.test(O);j=j===void 0?6:/[gprs]/.test(O)?Math.max(1,Math.min(21,j)):Math.max(0,Math.min(20,j));function H(L){var U=P,G=D,te,de,ne;if(O==="c")G=M(L)+G,L="";else{L=+L;var Z=L<0||1/L<0;if(L=isNaN(L)?u:M(Math.abs(L),j),T&&(L=e0e(L)),Z&&+L==0&&b!=="+"&&(Z=!1),U=(Z?b==="("?b:o:b==="-"||b==="("?"":b)+U,G=(O==="s"?dT[8+pR/3]:"")+G+(Z&&b==="("?")":""),B){for(te=-1,de=L.length;++te<de;)if(ne=L.charCodeAt(te),48>ne||ne>57){G=(ne===46?a+L.slice(te+1):L.slice(te))+G,L=L.slice(0,te);break}}}E&&!w&&(L=t(L,1/0));var xe=U.length+L.length+G.length,le=xe<N?new Array(N-xe+1).join(g):"";switch(E&&w&&(L=t(le+L,le.length?N-G.length:1/0),le=""),x){case"<":L=U+L+G+le;break;case"=":L=U+le+L+G;break;case"^":L=le.slice(0,xe=le.length>>1)+U+L+G+le.slice(xe);break;default:L=le+U+L+G;break}return i(L)}return H.toString=function(){return m+""},H}function h(m,g){var x=f((m=gg(m),m.type="f",m)),b=Math.max(-8,Math.min(8,Math.floor(Gm(g)/3)))*3,v=Math.pow(10,-b),w=dT[8+b/3];return function(N){return x(v*N)+w}}return{format:f,formatPrefix:h}}var wv,pj,xR;n0e({thousands:",",grouping:[3],currency:["$",""]});function n0e(e){return wv=r0e(e),pj=wv.format,xR=wv.formatPrefix,wv}function a0e(e){return Math.max(0,-Gm(Math.abs(e)))}function i0e(e,t){return Math.max(0,Math.max(-8,Math.min(8,Math.floor(Gm(t)/3)))*3-Gm(Math.abs(e)))}function s0e(e,t){return e=Math.abs(e),t=Math.abs(t)-e,Math.max(0,Gm(t)-Gm(e))+1}function gR(e,t,r,n){var a=zN(e,t,r),i;switch(n=gg(n??",f"),n.type){case"s":{var l=Math.max(Math.abs(e),Math.abs(t));return n.precision==null&&!isNaN(i=i0e(a,l))&&(n.precision=i),xR(n,l)}case"":case"e":case"g":case"p":case"r":{n.precision==null&&!isNaN(i=s0e(a,Math.max(Math.abs(e),Math.abs(t))))&&(n.precision=i-(n.type==="e"));break}case"f":case"%":{n.precision==null&&!isNaN(i=a0e(a))&&(n.precision=i-(n.type==="%")*2);break}}return pj(n)}function Vd(e){var t=e.domain;return e.ticks=function(r){var n=t();return BN(n[0],n[n.length-1],r??10)},e.tickFormat=function(r,n){var a=t();return gR(a[0],a[a.length-1],r??10,n)},e.nice=function(r){r==null&&(r=10);var n=t(),a=0,i=n.length-1,l=n[a],o=n[i],u,f,h=10;for(o<l&&(f=l,l=o,o=f,f=a,a=i,i=f);h-- >0;){if(f=UN(l,o,r),f===u)return n[a]=l,n[i]=o,t(n);if(f>0)l=Math.floor(l/f)*f,o=Math.ceil(o/f)*f;else if(f<0)l=Math.ceil(l*f)/f,o=Math.floor(o*f)/f;else break;u=f}return e},e}function vR(){var e=hj();return e.copy=function(){return Hg(e,vR())},Yo.apply(e,arguments),Vd(e)}function yR(e){var t;function r(n){return n==null||isNaN(n=+n)?t:n}return r.invert=r,r.domain=r.range=function(n){return arguments.length?(e=Array.from(n,Py),r):e.slice()},r.unknown=function(n){return arguments.length?(t=n,r):t},r.copy=function(){return yR(e).unknown(t)},e=arguments.length?Array.from(e,Py):[0,1],Vd(r)}function bR(e,t){e=e.slice();var r=0,n=e.length-1,a=e[r],i=e[n],l;return i<a&&(l=r,r=n,n=l,l=a,a=i,i=l),e[r]=t.floor(a),e[n]=t.ceil(i),e}function hT(e){return Math.log(e)}function mT(e){return Math.exp(e)}function l0e(e){return-Math.log(-e)}function o0e(e){return-Math.exp(-e)}function c0e(e){return isFinite(e)?+("1e"+e):e<0?0:e}function u0e(e){return e===10?c0e:e===Math.E?Math.exp:t=>Math.pow(e,t)}function f0e(e){return e===Math.E?Math.log:e===10&&Math.log10||e===2&&Math.log2||(e=Math.log(e),t=>Math.log(t)/e)}function pT(e){return(t,r)=>-e(-t,r)}function xj(e){const t=e(hT,mT),r=t.domain;let n=10,a,i;function l(){return a=f0e(n),i=u0e(n),r()[0]<0?(a=pT(a),i=pT(i),e(l0e,o0e)):e(hT,mT),t}return t.base=function(o){return arguments.length?(n=+o,l()):n},t.domain=function(o){return arguments.length?(r(o),l()):r()},t.ticks=o=>{const u=r();let f=u[0],h=u[u.length-1];const m=h<f;m&&([f,h]=[h,f]);let g=a(f),x=a(h),b,v;const w=o==null?10:+o;let N=[];if(!(n%1)&&x-g<w){if(g=Math.floor(g),x=Math.ceil(x),f>0){for(;g<=x;++g)for(b=1;b<n;++b)if(v=g<0?b/i(-g):b*i(g),!(v<f)){if(v>h)break;N.push(v)}}else for(;g<=x;++g)for(b=n-1;b>=1;--b)if(v=g>0?b/i(-g):b*i(g),!(v<f)){if(v>h)break;N.push(v)}N.length*2<w&&(N=BN(f,h,w))}else N=BN(g,x,Math.min(x-g,w)).map(i);return m?N.reverse():N},t.tickFormat=(o,u)=>{if(o==null&&(o=10),u==null&&(u=n===10?"s":","),typeof u!="function"&&(!(n%1)&&(u=gg(u)).precision==null&&(u.trim=!0),u=pj(u)),o===1/0)return u;const f=Math.max(1,n*o/t.ticks().length);return h=>{let m=h/i(Math.round(a(h)));return m*n<n-.5&&(m*=n),m<=f?u(h):""}},t.nice=()=>r(bR(r(),{floor:o=>i(Math.floor(a(o))),ceil:o=>i(Math.ceil(a(o)))})),t}function wR(){const e=xj(L2()).domain([1,10]);return e.copy=()=>Hg(e,wR()).base(e.base()),Yo.apply(e,arguments),e}function xT(e){return function(t){return Math.sign(t)*Math.log1p(Math.abs(t/e))}}function gT(e){return function(t){return Math.sign(t)*Math.expm1(Math.abs(t))*e}}function gj(e){var t=1,r=e(xT(t),gT(t));return r.constant=function(n){return arguments.length?e(xT(t=+n),gT(t)):t},Vd(r)}function NR(){var e=gj(L2());return e.copy=function(){return Hg(e,NR()).constant(e.constant())},Yo.apply(e,arguments)}function vT(e){return function(t){return t<0?-Math.pow(-t,e):Math.pow(t,e)}}function d0e(e){return e<0?-Math.sqrt(-e):Math.sqrt(e)}function h0e(e){return e<0?-e*e:e*e}function vj(e){var t=e(tl,tl),r=1;function n(){return r===1?e(tl,tl):r===.5?e(d0e,h0e):e(vT(r),vT(1/r))}return t.exponent=function(a){return arguments.length?(r=+a,n()):r},Vd(t)}function yj(){var e=vj(L2());return e.copy=function(){return Hg(e,yj()).exponent(e.exponent())},Yo.apply(e,arguments),e}function m0e(){return yj.apply(null,arguments).exponent(.5)}function yT(e){return Math.sign(e)*e*e}function p0e(e){return Math.sign(e)*Math.sqrt(Math.abs(e))}function _R(){var e=hj(),t=[0,1],r=!1,n;function a(i){var l=p0e(e(i));return isNaN(l)?n:r?Math.round(l):l}return a.invert=function(i){return e.invert(yT(i))},a.domain=function(i){return arguments.length?(e.domain(i),a):e.domain()},a.range=function(i){return arguments.length?(e.range((t=Array.from(i,Py)).map(yT)),a):t.slice()},a.rangeRound=function(i){return a.range(i).round(!0)},a.round=function(i){return arguments.length?(r=!!i,a):r},a.clamp=function(i){return arguments.length?(e.clamp(i),a):e.clamp()},a.unknown=function(i){return arguments.length?(n=i,a):n},a.copy=function(){return _R(e.domain(),t).round(r).clamp(e.clamp()).unknown(n)},Yo.apply(a,arguments),Vd(a)}function jR(){var e=[],t=[],r=[],n;function a(){var l=0,o=Math.max(1,t.length);for(r=new Array(o-1);++l<o;)r[l-1]=yde(e,l/o);return i}function i(l){return l==null||isNaN(l=+l)?n:t[qg(r,l)]}return i.invertExtent=function(l){var o=t.indexOf(l);return o<0?[NaN,NaN]:[o>0?r[o-1]:e[0],o<r.length?r[o]:e[e.length-1]]},i.domain=function(l){if(!arguments.length)return e.slice();e=[];for(let o of l)o!=null&&!isNaN(o=+o)&&e.push(o);return e.sort(Ad),a()},i.range=function(l){return arguments.length?(t=Array.from(l),a()):t.slice()},i.unknown=function(l){return arguments.length?(n=l,i):n},i.quantiles=function(){return r.slice()},i.copy=function(){return jR().domain(e).range(t).unknown(n)},Yo.apply(i,arguments)}function SR(){var e=0,t=1,r=1,n=[.5],a=[0,1],i;function l(u){return u!=null&&u<=u?a[qg(n,u,0,r)]:i}function o(){var u=-1;for(n=new Array(r);++u<r;)n[u]=((u+1)*t-(u-r)*e)/(r+1);return l}return l.domain=function(u){return arguments.length?([e,t]=u,e=+e,t=+t,o()):[e,t]},l.range=function(u){return arguments.length?(r=(a=Array.from(u)).length-1,o()):a.slice()},l.invertExtent=function(u){var f=a.indexOf(u);return f<0?[NaN,NaN]:f<1?[e,n[0]]:f>=r?[n[r-1],t]:[n[f-1],n[f]]},l.unknown=function(u){return arguments.length&&(i=u),l},l.thresholds=function(){return n.slice()},l.copy=function(){return SR().domain([e,t]).range(a).unknown(i)},Yo.apply(Vd(l),arguments)}function AR(){var e=[.5],t=[0,1],r,n=1;function a(i){return i!=null&&i<=i?t[qg(e,i,0,n)]:r}return a.domain=function(i){return arguments.length?(e=Array.from(i),n=Math.min(e.length,t.length-1),a):e.slice()},a.range=function(i){return arguments.length?(t=Array.from(i),n=Math.min(e.length,t.length-1),a):t.slice()},a.invertExtent=function(i){var l=t.indexOf(i);return[e[l-1],e[l]]},a.unknown=function(i){return arguments.length?(r=i,a):r},a.copy=function(){return AR().domain(e).range(t).unknown(r)},Yo.apply(a,arguments)}const e4=new Date,t4=new Date;function ki(e,t,r,n){function a(i){return e(i=arguments.length===0?new Date:new Date(+i)),i}return a.floor=i=>(e(i=new Date(+i)),i),a.ceil=i=>(e(i=new Date(i-1)),t(i,1),e(i),i),a.round=i=>{const l=a(i),o=a.ceil(i);return i-l<o-i?l:o},a.offset=(i,l)=>(t(i=new Date(+i),l==null?1:Math.floor(l)),i),a.range=(i,l,o)=>{const u=[];if(i=a.ceil(i),o=o==null?1:Math.floor(o),!(i<l)||!(o>0))return u;let f;do u.push(f=new Date(+i)),t(i,o),e(i);while(f<i&&i<l);return u},a.filter=i=>ki(l=>{if(l>=l)for(;e(l),!i(l);)l.setTime(l-1)},(l,o)=>{if(l>=l)if(o<0)for(;++o<=0;)for(;t(l,-1),!i(l););else for(;--o>=0;)for(;t(l,1),!i(l););}),r&&(a.count=(i,l)=>(e4.setTime(+i),t4.setTime(+l),e(e4),e(t4),Math.floor(r(e4,t4))),a.every=i=>(i=Math.floor(i),!isFinite(i)||!(i>0)?null:i>1?a.filter(n?l=>n(l)%i===0:l=>a.count(0,l)%i===0):a)),a}const My=ki(()=>{},(e,t)=>{e.setTime(+e+t)},(e,t)=>t-e);My.every=e=>(e=Math.floor(e),!isFinite(e)||!(e>0)?null:e>1?ki(t=>{t.setTime(Math.floor(t/e)*e)},(t,r)=>{t.setTime(+t+r*e)},(t,r)=>(r-t)/e):My);My.range;const tf=1e3,Bo=tf*60,rf=Bo*60,yf=rf*24,bj=yf*7,bT=yf*30,r4=yf*365,T0=ki(e=>{e.setTime(e-e.getMilliseconds())},(e,t)=>{e.setTime(+e+t*tf)},(e,t)=>(t-e)/tf,e=>e.getUTCSeconds());T0.range;const wj=ki(e=>{e.setTime(e-e.getMilliseconds()-e.getSeconds()*tf)},(e,t)=>{e.setTime(+e+t*Bo)},(e,t)=>(t-e)/Bo,e=>e.getMinutes());wj.range;const Nj=ki(e=>{e.setUTCSeconds(0,0)},(e,t)=>{e.setTime(+e+t*Bo)},(e,t)=>(t-e)/Bo,e=>e.getUTCMinutes());Nj.range;const _j=ki(e=>{e.setTime(e-e.getMilliseconds()-e.getSeconds()*tf-e.getMinutes()*Bo)},(e,t)=>{e.setTime(+e+t*rf)},(e,t)=>(t-e)/rf,e=>e.getHours());_j.range;const jj=ki(e=>{e.setUTCMinutes(0,0,0)},(e,t)=>{e.setTime(+e+t*rf)},(e,t)=>(t-e)/rf,e=>e.getUTCHours());jj.range;const Vg=ki(e=>e.setHours(0,0,0,0),(e,t)=>e.setDate(e.getDate()+t),(e,t)=>(t-e-(t.getTimezoneOffset()-e.getTimezoneOffset())*Bo)/yf,e=>e.getDate()-1);Vg.range;const M2=ki(e=>{e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCDate(e.getUTCDate()+t)},(e,t)=>(t-e)/yf,e=>e.getUTCDate()-1);M2.range;const ER=ki(e=>{e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCDate(e.getUTCDate()+t)},(e,t)=>(t-e)/yf,e=>Math.floor(e/yf));ER.range;function vh(e){return ki(t=>{t.setDate(t.getDate()-(t.getDay()+7-e)%7),t.setHours(0,0,0,0)},(t,r)=>{t.setDate(t.getDate()+r*7)},(t,r)=>(r-t-(r.getTimezoneOffset()-t.getTimezoneOffset())*Bo)/bj)}const R2=vh(0),Ry=vh(1),x0e=vh(2),g0e=vh(3),Ym=vh(4),v0e=vh(5),y0e=vh(6);R2.range;Ry.range;x0e.range;g0e.range;Ym.range;v0e.range;y0e.range;function yh(e){return ki(t=>{t.setUTCDate(t.getUTCDate()-(t.getUTCDay()+7-e)%7),t.setUTCHours(0,0,0,0)},(t,r)=>{t.setUTCDate(t.getUTCDate()+r*7)},(t,r)=>(r-t)/bj)}const I2=yh(0),Iy=yh(1),b0e=yh(2),w0e=yh(3),Xm=yh(4),N0e=yh(5),_0e=yh(6);I2.range;Iy.range;b0e.range;w0e.range;Xm.range;N0e.range;_0e.range;const Sj=ki(e=>{e.setDate(1),e.setHours(0,0,0,0)},(e,t)=>{e.setMonth(e.getMonth()+t)},(e,t)=>t.getMonth()-e.getMonth()+(t.getFullYear()-e.getFullYear())*12,e=>e.getMonth());Sj.range;const Aj=ki(e=>{e.setUTCDate(1),e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCMonth(e.getUTCMonth()+t)},(e,t)=>t.getUTCMonth()-e.getUTCMonth()+(t.getUTCFullYear()-e.getUTCFullYear())*12,e=>e.getUTCMonth());Aj.range;const bf=ki(e=>{e.setMonth(0,1),e.setHours(0,0,0,0)},(e,t)=>{e.setFullYear(e.getFullYear()+t)},(e,t)=>t.getFullYear()-e.getFullYear(),e=>e.getFullYear());bf.every=e=>!isFinite(e=Math.floor(e))||!(e>0)?null:ki(t=>{t.setFullYear(Math.floor(t.getFullYear()/e)*e),t.setMonth(0,1),t.setHours(0,0,0,0)},(t,r)=>{t.setFullYear(t.getFullYear()+r*e)});bf.range;const wf=ki(e=>{e.setUTCMonth(0,1),e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCFullYear(e.getUTCFullYear()+t)},(e,t)=>t.getUTCFullYear()-e.getUTCFullYear(),e=>e.getUTCFullYear());wf.every=e=>!isFinite(e=Math.floor(e))||!(e>0)?null:ki(t=>{t.setUTCFullYear(Math.floor(t.getUTCFullYear()/e)*e),t.setUTCMonth(0,1),t.setUTCHours(0,0,0,0)},(t,r)=>{t.setUTCFullYear(t.getUTCFullYear()+r*e)});wf.range;function kR(e,t,r,n,a,i){const l=[[T0,1,tf],[T0,5,5*tf],[T0,15,15*tf],[T0,30,30*tf],[i,1,Bo],[i,5,5*Bo],[i,15,15*Bo],[i,30,30*Bo],[a,1,rf],[a,3,3*rf],[a,6,6*rf],[a,12,12*rf],[n,1,yf],[n,2,2*yf],[r,1,bj],[t,1,bT],[t,3,3*bT],[e,1,r4]];function o(f,h,m){const g=h<f;g&&([f,h]=[h,f]);const x=m&&typeof m.range=="function"?m:u(f,h,m),b=x?x.range(f,+h+1):[];return g?b.reverse():b}function u(f,h,m){const g=Math.abs(h-f)/m,x=lj(([,,w])=>w).right(l,g);if(x===l.length)return e.every(zN(f/r4,h/r4,m));if(x===0)return My.every(Math.max(zN(f,h,m),1));const[b,v]=l[g/l[x-1][2]<l[x][2]/g?x-1:x];return b.every(v)}return[o,u]}const[j0e,S0e]=kR(wf,Aj,I2,ER,jj,Nj),[A0e,E0e]=kR(bf,Sj,R2,Vg,_j,wj);function n4(e){if(0<=e.y&&e.y<100){var t=new Date(-1,e.m,e.d,e.H,e.M,e.S,e.L);return t.setFullYear(e.y),t}return new Date(e.y,e.m,e.d,e.H,e.M,e.S,e.L)}function a4(e){if(0<=e.y&&e.y<100){var t=new Date(Date.UTC(-1,e.m,e.d,e.H,e.M,e.S,e.L));return t.setUTCFullYear(e.y),t}return new Date(Date.UTC(e.y,e.m,e.d,e.H,e.M,e.S,e.L))}function fx(e,t,r){return{y:e,m:t,d:r,H:0,M:0,S:0,L:0}}function k0e(e){var t=e.dateTime,r=e.date,n=e.time,a=e.periods,i=e.days,l=e.shortDays,o=e.months,u=e.shortMonths,f=dx(a),h=hx(a),m=dx(i),g=hx(i),x=dx(l),b=hx(l),v=dx(o),w=hx(o),N=dx(u),E=hx(u),j={a:Z,A:xe,b:le,B:Se,c:null,d:AT,e:AT,f:Q0e,g:lhe,G:che,H:G0e,I:Y0e,j:X0e,L:CR,m:Z0e,M:J0e,p:re,q:R,Q:CT,s:TT,S:ehe,u:the,U:rhe,V:nhe,w:ahe,W:ihe,x:null,X:null,y:she,Y:ohe,Z:uhe,"%":kT},T={a:F,A:q,b:W,B:Q,c:null,d:ET,e:ET,f:mhe,g:jhe,G:Ahe,H:fhe,I:dhe,j:hhe,L:OR,m:phe,M:xhe,p:oe,q:ue,Q:CT,s:TT,S:ghe,u:vhe,U:yhe,V:bhe,w:whe,W:Nhe,x:null,X:null,y:_he,Y:She,Z:Ehe,"%":kT},O={a:H,A:L,b:U,B:G,c:te,d:jT,e:jT,f:H0e,g:_T,G:NT,H:ST,I:ST,j:U0e,L:$0e,m:B0e,M:z0e,p:B,q:I0e,Q:W0e,s:K0e,S:q0e,u:F0e,U:P0e,V:L0e,w:D0e,W:M0e,x:de,X:ne,y:_T,Y:NT,Z:R0e,"%":V0e};j.x=P(r,j),j.X=P(n,j),j.c=P(t,j),T.x=P(r,T),T.X=P(n,T),T.c=P(t,T);function P(X,ve){return function(Te){var Y=[],We=-1,Ee=0,ge=X.length,dt,Ze,bt;for(Te instanceof Date||(Te=new Date(+Te));++We<ge;)X.charCodeAt(We)===37&&(Y.push(X.slice(Ee,We)),(Ze=wT[dt=X.charAt(++We)])!=null?dt=X.charAt(++We):Ze=dt==="e"?" ":"0",(bt=ve[dt])&&(dt=bt(Te,Ze)),Y.push(dt),Ee=We+1);return Y.push(X.slice(Ee,We)),Y.join("")}}function D(X,ve){return function(Te){var Y=fx(1900,void 0,1),We=M(Y,X,Te+="",0),Ee,ge;if(We!=Te.length)return null;if("Q"in Y)return new Date(Y.Q);if("s"in Y)return new Date(Y.s*1e3+("L"in Y?Y.L:0));if(ve&&!("Z"in Y)&&(Y.Z=0),"p"in Y&&(Y.H=Y.H%12+Y.p*12),Y.m===void 0&&(Y.m="q"in Y?Y.q:0),"V"in Y){if(Y.V<1||Y.V>53)return null;"w"in Y||(Y.w=1),"Z"in Y?(Ee=a4(fx(Y.y,0,1)),ge=Ee.getUTCDay(),Ee=ge>4||ge===0?Iy.ceil(Ee):Iy(Ee),Ee=M2.offset(Ee,(Y.V-1)*7),Y.y=Ee.getUTCFullYear(),Y.m=Ee.getUTCMonth(),Y.d=Ee.getUTCDate()+(Y.w+6)%7):(Ee=n4(fx(Y.y,0,1)),ge=Ee.getDay(),Ee=ge>4||ge===0?Ry.ceil(Ee):Ry(Ee),Ee=Vg.offset(Ee,(Y.V-1)*7),Y.y=Ee.getFullYear(),Y.m=Ee.getMonth(),Y.d=Ee.getDate()+(Y.w+6)%7)}else("W"in Y||"U"in Y)&&("w"in Y||(Y.w="u"in Y?Y.u%7:"W"in Y?1:0),ge="Z"in Y?a4(fx(Y.y,0,1)).getUTCDay():n4(fx(Y.y,0,1)).getDay(),Y.m=0,Y.d="W"in Y?(Y.w+6)%7+Y.W*7-(ge+5)%7:Y.w+Y.U*7-(ge+6)%7);return"Z"in Y?(Y.H+=Y.Z/100|0,Y.M+=Y.Z%100,a4(Y)):n4(Y)}}function M(X,ve,Te,Y){for(var We=0,Ee=ve.length,ge=Te.length,dt,Ze;We<Ee;){if(Y>=ge)return-1;if(dt=ve.charCodeAt(We++),dt===37){if(dt=ve.charAt(We++),Ze=O[dt in wT?ve.charAt(We++):dt],!Ze||(Y=Ze(X,Te,Y))<0)return-1}else if(dt!=Te.charCodeAt(Y++))return-1}return Y}function B(X,ve,Te){var Y=f.exec(ve.slice(Te));return Y?(X.p=h.get(Y[0].toLowerCase()),Te+Y[0].length):-1}function H(X,ve,Te){var Y=x.exec(ve.slice(Te));return Y?(X.w=b.get(Y[0].toLowerCase()),Te+Y[0].length):-1}function L(X,ve,Te){var Y=m.exec(ve.slice(Te));return Y?(X.w=g.get(Y[0].toLowerCase()),Te+Y[0].length):-1}function U(X,ve,Te){var Y=N.exec(ve.slice(Te));return Y?(X.m=E.get(Y[0].toLowerCase()),Te+Y[0].length):-1}function G(X,ve,Te){var Y=v.exec(ve.slice(Te));return Y?(X.m=w.get(Y[0].toLowerCase()),Te+Y[0].length):-1}function te(X,ve,Te){return M(X,t,ve,Te)}function de(X,ve,Te){return M(X,r,ve,Te)}function ne(X,ve,Te){return M(X,n,ve,Te)}function Z(X){return l[X.getDay()]}function xe(X){return i[X.getDay()]}function le(X){return u[X.getMonth()]}function Se(X){return o[X.getMonth()]}function re(X){return a[+(X.getHours()>=12)]}function R(X){return 1+~~(X.getMonth()/3)}function F(X){return l[X.getUTCDay()]}function q(X){return i[X.getUTCDay()]}function W(X){return u[X.getUTCMonth()]}function Q(X){return o[X.getUTCMonth()]}function oe(X){return a[+(X.getUTCHours()>=12)]}function ue(X){return 1+~~(X.getUTCMonth()/3)}return{format:function(X){var ve=P(X+="",j);return ve.toString=function(){return X},ve},parse:function(X){var ve=D(X+="",!1);return ve.toString=function(){return X},ve},utcFormat:function(X){var ve=P(X+="",T);return ve.toString=function(){return X},ve},utcParse:function(X){var ve=D(X+="",!0);return ve.toString=function(){return X},ve}}}var wT={"-":"",_:" ",0:"0"},Vi=/^\s*\d+/,C0e=/^%/,T0e=/[\\^$*+?|[\]().{}]/g;function on(e,t,r){var n=e<0?"-":"",a=(n?-e:e)+"",i=a.length;return n+(i<r?new Array(r-i+1).join(t)+a:a)}function O0e(e){return e.replace(T0e,"\\$&")}function dx(e){return new RegExp("^(?:"+e.map(O0e).join("|")+")","i")}function hx(e){return new Map(e.map((t,r)=>[t.toLowerCase(),r]))}function D0e(e,t,r){var n=Vi.exec(t.slice(r,r+1));return n?(e.w=+n[0],r+n[0].length):-1}function F0e(e,t,r){var n=Vi.exec(t.slice(r,r+1));return n?(e.u=+n[0],r+n[0].length):-1}function P0e(e,t,r){var n=Vi.exec(t.slice(r,r+2));return n?(e.U=+n[0],r+n[0].length):-1}function L0e(e,t,r){var n=Vi.exec(t.slice(r,r+2));return n?(e.V=+n[0],r+n[0].length):-1}function M0e(e,t,r){var n=Vi.exec(t.slice(r,r+2));return n?(e.W=+n[0],r+n[0].length):-1}function NT(e,t,r){var n=Vi.exec(t.slice(r,r+4));return n?(e.y=+n[0],r+n[0].length):-1}function _T(e,t,r){var n=Vi.exec(t.slice(r,r+2));return n?(e.y=+n[0]+(+n[0]>68?1900:2e3),r+n[0].length):-1}function R0e(e,t,r){var n=/^(Z)|([+-]\d\d)(?::?(\d\d))?/.exec(t.slice(r,r+6));return n?(e.Z=n[1]?0:-(n[2]+(n[3]||"00")),r+n[0].length):-1}function I0e(e,t,r){var n=Vi.exec(t.slice(r,r+1));return n?(e.q=n[0]*3-3,r+n[0].length):-1}function B0e(e,t,r){var n=Vi.exec(t.slice(r,r+2));return n?(e.m=n[0]-1,r+n[0].length):-1}function jT(e,t,r){var n=Vi.exec(t.slice(r,r+2));return n?(e.d=+n[0],r+n[0].length):-1}function U0e(e,t,r){var n=Vi.exec(t.slice(r,r+3));return n?(e.m=0,e.d=+n[0],r+n[0].length):-1}function ST(e,t,r){var n=Vi.exec(t.slice(r,r+2));return n?(e.H=+n[0],r+n[0].length):-1}function z0e(e,t,r){var n=Vi.exec(t.slice(r,r+2));return n?(e.M=+n[0],r+n[0].length):-1}function q0e(e,t,r){var n=Vi.exec(t.slice(r,r+2));return n?(e.S=+n[0],r+n[0].length):-1}function $0e(e,t,r){var n=Vi.exec(t.slice(r,r+3));return n?(e.L=+n[0],r+n[0].length):-1}function H0e(e,t,r){var n=Vi.exec(t.slice(r,r+6));return n?(e.L=Math.floor(n[0]/1e3),r+n[0].length):-1}function V0e(e,t,r){var n=C0e.exec(t.slice(r,r+1));return n?r+n[0].length:-1}function W0e(e,t,r){var n=Vi.exec(t.slice(r));return n?(e.Q=+n[0],r+n[0].length):-1}function K0e(e,t,r){var n=Vi.exec(t.slice(r));return n?(e.s=+n[0],r+n[0].length):-1}function AT(e,t){return on(e.getDate(),t,2)}function G0e(e,t){return on(e.getHours(),t,2)}function Y0e(e,t){return on(e.getHours()%12||12,t,2)}function X0e(e,t){return on(1+Vg.count(bf(e),e),t,3)}function CR(e,t){return on(e.getMilliseconds(),t,3)}function Q0e(e,t){return CR(e,t)+"000"}function Z0e(e,t){return on(e.getMonth()+1,t,2)}function J0e(e,t){return on(e.getMinutes(),t,2)}function ehe(e,t){return on(e.getSeconds(),t,2)}function the(e){var t=e.getDay();return t===0?7:t}function rhe(e,t){return on(R2.count(bf(e)-1,e),t,2)}function TR(e){var t=e.getDay();return t>=4||t===0?Ym(e):Ym.ceil(e)}function nhe(e,t){return e=TR(e),on(Ym.count(bf(e),e)+(bf(e).getDay()===4),t,2)}function ahe(e){return e.getDay()}function ihe(e,t){return on(Ry.count(bf(e)-1,e),t,2)}function she(e,t){return on(e.getFullYear()%100,t,2)}function lhe(e,t){return e=TR(e),on(e.getFullYear()%100,t,2)}function ohe(e,t){return on(e.getFullYear()%1e4,t,4)}function che(e,t){var r=e.getDay();return e=r>=4||r===0?Ym(e):Ym.ceil(e),on(e.getFullYear()%1e4,t,4)}function uhe(e){var t=e.getTimezoneOffset();return(t>0?"-":(t*=-1,"+"))+on(t/60|0,"0",2)+on(t%60,"0",2)}function ET(e,t){return on(e.getUTCDate(),t,2)}function fhe(e,t){return on(e.getUTCHours(),t,2)}function dhe(e,t){return on(e.getUTCHours()%12||12,t,2)}function hhe(e,t){return on(1+M2.count(wf(e),e),t,3)}function OR(e,t){return on(e.getUTCMilliseconds(),t,3)}function mhe(e,t){return OR(e,t)+"000"}function phe(e,t){return on(e.getUTCMonth()+1,t,2)}function xhe(e,t){return on(e.getUTCMinutes(),t,2)}function ghe(e,t){return on(e.getUTCSeconds(),t,2)}function vhe(e){var t=e.getUTCDay();return t===0?7:t}function yhe(e,t){return on(I2.count(wf(e)-1,e),t,2)}function DR(e){var t=e.getUTCDay();return t>=4||t===0?Xm(e):Xm.ceil(e)}function bhe(e,t){return e=DR(e),on(Xm.count(wf(e),e)+(wf(e).getUTCDay()===4),t,2)}function whe(e){return e.getUTCDay()}function Nhe(e,t){return on(Iy.count(wf(e)-1,e),t,2)}function _he(e,t){return on(e.getUTCFullYear()%100,t,2)}function jhe(e,t){return e=DR(e),on(e.getUTCFullYear()%100,t,2)}function She(e,t){return on(e.getUTCFullYear()%1e4,t,4)}function Ahe(e,t){var r=e.getUTCDay();return e=r>=4||r===0?Xm(e):Xm.ceil(e),on(e.getUTCFullYear()%1e4,t,4)}function Ehe(){return"+0000"}function kT(){return"%"}function CT(e){return+e}function TT(e){return Math.floor(+e/1e3)}var xm,FR,PR;khe({dateTime:"%x, %X",date:"%-m/%-d/%Y",time:"%-I:%M:%S %p",periods:["AM","PM"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]});function khe(e){return xm=k0e(e),FR=xm.format,xm.parse,PR=xm.utcFormat,xm.utcParse,xm}function Che(e){return new Date(e)}function The(e){return e instanceof Date?+e:+new Date(+e)}function Ej(e,t,r,n,a,i,l,o,u,f){var h=hj(),m=h.invert,g=h.domain,x=f(".%L"),b=f(":%S"),v=f("%I:%M"),w=f("%I %p"),N=f("%a %d"),E=f("%b %d"),j=f("%B"),T=f("%Y");function O(P){return(u(P)<P?x:o(P)<P?b:l(P)<P?v:i(P)<P?w:n(P)<P?a(P)<P?N:E:r(P)<P?j:T)(P)}return h.invert=function(P){return new Date(m(P))},h.domain=function(P){return arguments.length?g(Array.from(P,The)):g().map(Che)},h.ticks=function(P){var D=g();return e(D[0],D[D.length-1],P??10)},h.tickFormat=function(P,D){return D==null?O:f(D)},h.nice=function(P){var D=g();return(!P||typeof P.range!="function")&&(P=t(D[0],D[D.length-1],P??10)),P?g(bR(D,P)):h},h.copy=function(){return Hg(h,Ej(e,t,r,n,a,i,l,o,u,f))},h}function Ohe(){return Yo.apply(Ej(A0e,E0e,bf,Sj,R2,Vg,_j,wj,T0,FR).domain([new Date(2e3,0,1),new Date(2e3,0,2)]),arguments)}function Dhe(){return Yo.apply(Ej(j0e,S0e,wf,Aj,I2,M2,jj,Nj,T0,PR).domain([Date.UTC(2e3,0,1),Date.UTC(2e3,0,2)]),arguments)}function B2(){var e=0,t=1,r,n,a,i,l=tl,o=!1,u;function f(m){return m==null||isNaN(m=+m)?u:l(a===0?.5:(m=(i(m)-r)*a,o?Math.max(0,Math.min(1,m)):m))}f.domain=function(m){return arguments.length?([e,t]=m,r=i(e=+e),n=i(t=+t),a=r===n?0:1/(n-r),f):[e,t]},f.clamp=function(m){return arguments.length?(o=!!m,f):o},f.interpolator=function(m){return arguments.length?(l=m,f):l};function h(m){return function(g){var x,b;return arguments.length?([x,b]=g,l=m(x,b),f):[l(0),l(1)]}}return f.range=h(fp),f.rangeRound=h(dj),f.unknown=function(m){return arguments.length?(u=m,f):u},function(m){return i=m,r=m(e),n=m(t),a=r===n?0:1/(n-r),f}}function Wd(e,t){return t.domain(e.domain()).interpolator(e.interpolator()).clamp(e.clamp()).unknown(e.unknown())}function LR(){var e=Vd(B2()(tl));return e.copy=function(){return Wd(e,LR())},Tf.apply(e,arguments)}function MR(){var e=xj(B2()).domain([1,10]);return e.copy=function(){return Wd(e,MR()).base(e.base())},Tf.apply(e,arguments)}function RR(){var e=gj(B2());return e.copy=function(){return Wd(e,RR()).constant(e.constant())},Tf.apply(e,arguments)}function kj(){var e=vj(B2());return e.copy=function(){return Wd(e,kj()).exponent(e.exponent())},Tf.apply(e,arguments)}function Fhe(){return kj.apply(null,arguments).exponent(.5)}function IR(){var e=[],t=tl;function r(n){if(n!=null&&!isNaN(n=+n))return t((qg(e,n,1)-1)/(e.length-1))}return r.domain=function(n){if(!arguments.length)return e.slice();e=[];for(let a of n)a!=null&&!isNaN(a=+a)&&e.push(a);return e.sort(Ad),r},r.interpolator=function(n){return arguments.length?(t=n,r):t},r.range=function(){return e.map((n,a)=>t(a/(e.length-1)))},r.quantiles=function(n){return Array.from({length:n+1},(a,i)=>vde(e,i/n))},r.copy=function(){return IR(t).domain(e)},Tf.apply(r,arguments)}function U2(){var e=0,t=.5,r=1,n=1,a,i,l,o,u,f=tl,h,m=!1,g;function x(v){return isNaN(v=+v)?g:(v=.5+((v=+h(v))-i)*(n*v<n*i?o:u),f(m?Math.max(0,Math.min(1,v)):v))}x.domain=function(v){return arguments.length?([e,t,r]=v,a=h(e=+e),i=h(t=+t),l=h(r=+r),o=a===i?0:.5/(i-a),u=i===l?0:.5/(l-i),n=i<a?-1:1,x):[e,t,r]},x.clamp=function(v){return arguments.length?(m=!!v,x):m},x.interpolator=function(v){return arguments.length?(f=v,x):f};function b(v){return function(w){var N,E,j;return arguments.length?([N,E,j]=w,f=Vde(v,[N,E,j]),x):[f(0),f(.5),f(1)]}}return x.range=b(fp),x.rangeRound=b(dj),x.unknown=function(v){return arguments.length?(g=v,x):g},function(v){return h=v,a=v(e),i=v(t),l=v(r),o=a===i?0:.5/(i-a),u=i===l?0:.5/(l-i),n=i<a?-1:1,x}}function BR(){var e=Vd(U2()(tl));return e.copy=function(){return Wd(e,BR())},Tf.apply(e,arguments)}function UR(){var e=xj(U2()).domain([.1,1,10]);return e.copy=function(){return Wd(e,UR()).base(e.base())},Tf.apply(e,arguments)}function zR(){var e=gj(U2());return e.copy=function(){return Wd(e,zR()).constant(e.constant())},Tf.apply(e,arguments)}function Cj(){var e=vj(U2());return e.copy=function(){return Wd(e,Cj()).exponent(e.exponent())},Tf.apply(e,arguments)}function Phe(){return Cj.apply(null,arguments).exponent(.5)}const wx=Object.freeze(Object.defineProperty({__proto__:null,scaleBand:cj,scaleDiverging:BR,scaleDivergingLog:UR,scaleDivergingPow:Cj,scaleDivergingSqrt:Phe,scaleDivergingSymlog:zR,scaleIdentity:yR,scaleImplicit:qN,scaleLinear:vR,scaleLog:wR,scaleOrdinal:oj,scalePoint:wde,scalePow:yj,scaleQuantile:jR,scaleQuantize:SR,scaleRadial:_R,scaleSequential:LR,scaleSequentialLog:MR,scaleSequentialPow:kj,scaleSequentialQuantile:IR,scaleSequentialSqrt:Fhe,scaleSequentialSymlog:RR,scaleSqrt:m0e,scaleSymlog:NR,scaleThreshold:AR,scaleTime:Ohe,scaleUtc:Dhe,tickFormat:gR},Symbol.toStringTag,{value:"Module"}));var Kd=e=>e.chartData,Tj=He([Kd],e=>{var t=e.chartData!=null?e.chartData.length-1:0;return{chartData:e.chartData,computedData:e.computedData,dataEndIndex:t,dataStartIndex:0}}),z2=(e,t,r,n)=>n?Tj(e):Kd(e);function nh(e){if(Array.isArray(e)&&e.length===2){var[t,r]=e;if(Ps(t)&&Ps(r))return!0}return!1}function OT(e,t,r){return r?e:[Math.min(e[0],t[0]),Math.max(e[1],t[1])]}function qR(e,t){if(t&&typeof e!="function"&&Array.isArray(e)&&e.length===2){var[r,n]=e,a,i;if(Ps(r))a=r;else if(typeof r=="function")return;if(Ps(n))i=n;else if(typeof n=="function")return;var l=[a,i];if(nh(l))return l}}function Lhe(e,t,r){if(!(!r&&t==null)){if(typeof e=="function"&&t!=null)try{var n=e(t,r);if(nh(n))return OT(n,t,r)}catch{}if(Array.isArray(e)&&e.length===2){var[a,i]=e,l,o;if(a==="auto")t!=null&&(l=Math.min(...t));else if(Qt(a))l=a;else if(typeof a=="function")try{t!=null&&(l=a(t?.[0]))}catch{}else if(typeof a=="string"&&m8.test(a)){var u=m8.exec(a);if(u==null||t==null)l=void 0;else{var f=+u[1];l=t[0]-f}}else l=t?.[0];if(i==="auto")t!=null&&(o=Math.max(...t));else if(Qt(i))o=i;else if(typeof i=="function")try{t!=null&&(o=i(t?.[1]))}catch{}else if(typeof i=="string"&&p8.test(i)){var h=p8.exec(i);if(h==null||t==null)o=void 0;else{var m=+h[1];o=t[1]+m}}else o=t?.[1];var g=[l,o];if(nh(g))return t==null?g:OT(g,t,r)}}}var dp=1e9,Mhe={precision:20,rounding:4,toExpNeg:-7,toExpPos:21,LN10:"2.302585092994045684017991454684364207601101488628772976033327900967572609677352480235997205089598298341967784042286"},Dj,fa=!0,Vo="[DecimalError] ",U0=Vo+"Invalid argument: ",Oj=Vo+"Exponent out of range: ",hp=Math.floor,_0=Math.pow,Rhe=/^(\d+(\.\d*)?|\.\d+)(e[+-]?\d+)?$/i,eo,Bi=1e7,Xn=7,$R=9007199254740991,By=hp($R/Xn),It={};It.absoluteValue=It.abs=function(){var e=new this.constructor(this);return e.s&&(e.s=1),e};It.comparedTo=It.cmp=function(e){var t,r,n,a,i=this;if(e=new i.constructor(e),i.s!==e.s)return i.s||-e.s;if(i.e!==e.e)return i.e>e.e^i.s<0?1:-1;for(n=i.d.length,a=e.d.length,t=0,r=n<a?n:a;t<r;++t)if(i.d[t]!==e.d[t])return i.d[t]>e.d[t]^i.s<0?1:-1;return n===a?0:n>a^i.s<0?1:-1};It.decimalPlaces=It.dp=function(){var e=this,t=e.d.length-1,r=(t-e.e)*Xn;if(t=e.d[t],t)for(;t%10==0;t/=10)r--;return r<0?0:r};It.dividedBy=It.div=function(e){return ff(this,new this.constructor(e))};It.dividedToIntegerBy=It.idiv=function(e){var t=this,r=t.constructor;return Bn(ff(t,new r(e),0,1),r.precision)};It.equals=It.eq=function(e){return!this.cmp(e)};It.exponent=function(){return ci(this)};It.greaterThan=It.gt=function(e){return this.cmp(e)>0};It.greaterThanOrEqualTo=It.gte=function(e){return this.cmp(e)>=0};It.isInteger=It.isint=function(){return this.e>this.d.length-2};It.isNegative=It.isneg=function(){return this.s<0};It.isPositive=It.ispos=function(){return this.s>0};It.isZero=function(){return this.s===0};It.lessThan=It.lt=function(e){return this.cmp(e)<0};It.lessThanOrEqualTo=It.lte=function(e){return this.cmp(e)<1};It.logarithm=It.log=function(e){var t,r=this,n=r.constructor,a=n.precision,i=a+5;if(e===void 0)e=new n(10);else if(e=new n(e),e.s<1||e.eq(eo))throw Error(Vo+"NaN");if(r.s<1)throw Error(Vo+(r.s?"NaN":"-Infinity"));return r.eq(eo)?new n(0):(fa=!1,t=ff(vg(r,i),vg(e,i),i),fa=!0,Bn(t,a))};It.minus=It.sub=function(e){var t=this;return e=new t.constructor(e),t.s==e.s?WR(t,e):HR(t,(e.s=-e.s,e))};It.modulo=It.mod=function(e){var t,r=this,n=r.constructor,a=n.precision;if(e=new n(e),!e.s)throw Error(Vo+"NaN");return r.s?(fa=!1,t=ff(r,e,0,1).times(e),fa=!0,r.minus(t)):Bn(new n(r),a)};It.naturalExponential=It.exp=function(){return VR(this)};It.naturalLogarithm=It.ln=function(){return vg(this)};It.negated=It.neg=function(){var e=new this.constructor(this);return e.s=-e.s||0,e};It.plus=It.add=function(e){var t=this;return e=new t.constructor(e),t.s==e.s?HR(t,e):WR(t,(e.s=-e.s,e))};It.precision=It.sd=function(e){var t,r,n,a=this;if(e!==void 0&&e!==!!e&&e!==1&&e!==0)throw Error(U0+e);if(t=ci(a)+1,n=a.d.length-1,r=n*Xn+1,n=a.d[n],n){for(;n%10==0;n/=10)r--;for(n=a.d[0];n>=10;n/=10)r++}return e&&t>r?t:r};It.squareRoot=It.sqrt=function(){var e,t,r,n,a,i,l,o=this,u=o.constructor;if(o.s<1){if(!o.s)return new u(0);throw Error(Vo+"NaN")}for(e=ci(o),fa=!1,a=Math.sqrt(+o),a==0||a==1/0?(t=uu(o.d),(t.length+e)%2==0&&(t+="0"),a=Math.sqrt(t),e=hp((e+1)/2)-(e<0||e%2),a==1/0?t="5e"+e:(t=a.toExponential(),t=t.slice(0,t.indexOf("e")+1)+e),n=new u(t)):n=new u(a.toString()),r=u.precision,a=l=r+3;;)if(i=n,n=i.plus(ff(o,i,l+2)).times(.5),uu(i.d).slice(0,l)===(t=uu(n.d)).slice(0,l)){if(t=t.slice(l-3,l+1),a==l&&t=="4999"){if(Bn(i,r+1,0),i.times(i).eq(o)){n=i;break}}else if(t!="9999")break;l+=4}return fa=!0,Bn(n,r)};It.times=It.mul=function(e){var t,r,n,a,i,l,o,u,f,h=this,m=h.constructor,g=h.d,x=(e=new m(e)).d;if(!h.s||!e.s)return new m(0);for(e.s*=h.s,r=h.e+e.e,u=g.length,f=x.length,u<f&&(i=g,g=x,x=i,l=u,u=f,f=l),i=[],l=u+f,n=l;n--;)i.push(0);for(n=f;--n>=0;){for(t=0,a=u+n;a>n;)o=i[a]+x[n]*g[a-n-1]+t,i[a--]=o%Bi|0,t=o/Bi|0;i[a]=(i[a]+t)%Bi|0}for(;!i[--l];)i.pop();return t?++r:i.shift(),e.d=i,e.e=r,fa?Bn(e,m.precision):e};It.toDecimalPlaces=It.todp=function(e,t){var r=this,n=r.constructor;return r=new n(r),e===void 0?r:(pu(e,0,dp),t===void 0?t=n.rounding:pu(t,0,8),Bn(r,e+ci(r)+1,t))};It.toExponential=function(e,t){var r,n=this,a=n.constructor;return e===void 0?r=ah(n,!0):(pu(e,0,dp),t===void 0?t=a.rounding:pu(t,0,8),n=Bn(new a(n),e+1,t),r=ah(n,!0,e+1)),r};It.toFixed=function(e,t){var r,n,a=this,i=a.constructor;return e===void 0?ah(a):(pu(e,0,dp),t===void 0?t=i.rounding:pu(t,0,8),n=Bn(new i(a),e+ci(a)+1,t),r=ah(n.abs(),!1,e+ci(n)+1),a.isneg()&&!a.isZero()?"-"+r:r)};It.toInteger=It.toint=function(){var e=this,t=e.constructor;return Bn(new t(e),ci(e)+1,t.rounding)};It.toNumber=function(){return+this};It.toPower=It.pow=function(e){var t,r,n,a,i,l,o=this,u=o.constructor,f=12,h=+(e=new u(e));if(!e.s)return new u(eo);if(o=new u(o),!o.s){if(e.s<1)throw Error(Vo+"Infinity");return o}if(o.eq(eo))return o;if(n=u.precision,e.eq(eo))return Bn(o,n);if(t=e.e,r=e.d.length-1,l=t>=r,i=o.s,l){if((r=h<0?-h:h)<=$R){for(a=new u(eo),t=Math.ceil(n/Xn+4),fa=!1;r%2&&(a=a.times(o),FT(a.d,t)),r=hp(r/2),r!==0;)o=o.times(o),FT(o.d,t);return fa=!0,e.s<0?new u(eo).div(a):Bn(a,n)}}else if(i<0)throw Error(Vo+"NaN");return i=i<0&&e.d[Math.max(t,r)]&1?-1:1,o.s=1,fa=!1,a=e.times(vg(o,n+f)),fa=!0,a=VR(a),a.s=i,a};It.toPrecision=function(e,t){var r,n,a=this,i=a.constructor;return e===void 0?(r=ci(a),n=ah(a,r<=i.toExpNeg||r>=i.toExpPos)):(pu(e,1,dp),t===void 0?t=i.rounding:pu(t,0,8),a=Bn(new i(a),e,t),r=ci(a),n=ah(a,e<=r||r<=i.toExpNeg,e)),n};It.toSignificantDigits=It.tosd=function(e,t){var r=this,n=r.constructor;return e===void 0?(e=n.precision,t=n.rounding):(pu(e,1,dp),t===void 0?t=n.rounding:pu(t,0,8)),Bn(new n(r),e,t)};It.toString=It.valueOf=It.val=It.toJSON=It[Symbol.for("nodejs.util.inspect.custom")]=function(){var e=this,t=ci(e),r=e.constructor;return ah(e,t<=r.toExpNeg||t>=r.toExpPos)};function HR(e,t){var r,n,a,i,l,o,u,f,h=e.constructor,m=h.precision;if(!e.s||!t.s)return t.s||(t=new h(e)),fa?Bn(t,m):t;if(u=e.d,f=t.d,l=e.e,a=t.e,u=u.slice(),i=l-a,i){for(i<0?(n=u,i=-i,o=f.length):(n=f,a=l,o=u.length),l=Math.ceil(m/Xn),o=l>o?l+1:o+1,i>o&&(i=o,n.length=1),n.reverse();i--;)n.push(0);n.reverse()}for(o=u.length,i=f.length,o-i<0&&(i=o,n=f,f=u,u=n),r=0;i;)r=(u[--i]=u[i]+f[i]+r)/Bi|0,u[i]%=Bi;for(r&&(u.unshift(r),++a),o=u.length;u[--o]==0;)u.pop();return t.d=u,t.e=a,fa?Bn(t,m):t}function pu(e,t,r){if(e!==~~e||e<t||e>r)throw Error(U0+e)}function uu(e){var t,r,n,a=e.length-1,i="",l=e[0];if(a>0){for(i+=l,t=1;t<a;t++)n=e[t]+"",r=Xn-n.length,r&&(i+=vd(r)),i+=n;l=e[t],n=l+"",r=Xn-n.length,r&&(i+=vd(r))}else if(l===0)return"0";for(;l%10===0;)l/=10;return i+l}var ff=(function(){function e(n,a){var i,l=0,o=n.length;for(n=n.slice();o--;)i=n[o]*a+l,n[o]=i%Bi|0,l=i/Bi|0;return l&&n.unshift(l),n}function t(n,a,i,l){var o,u;if(i!=l)u=i>l?1:-1;else for(o=u=0;o<i;o++)if(n[o]!=a[o]){u=n[o]>a[o]?1:-1;break}return u}function r(n,a,i){for(var l=0;i--;)n[i]-=l,l=n[i]<a[i]?1:0,n[i]=l*Bi+n[i]-a[i];for(;!n[0]&&n.length>1;)n.shift()}return function(n,a,i,l){var o,u,f,h,m,g,x,b,v,w,N,E,j,T,O,P,D,M,B=n.constructor,H=n.s==a.s?1:-1,L=n.d,U=a.d;if(!n.s)return new B(n);if(!a.s)throw Error(Vo+"Division by zero");for(u=n.e-a.e,D=U.length,O=L.length,x=new B(H),b=x.d=[],f=0;U[f]==(L[f]||0);)++f;if(U[f]>(L[f]||0)&&--u,i==null?E=i=B.precision:l?E=i+(ci(n)-ci(a))+1:E=i,E<0)return new B(0);if(E=E/Xn+2|0,f=0,D==1)for(h=0,U=U[0],E++;(f<O||h)&&E--;f++)j=h*Bi+(L[f]||0),b[f]=j/U|0,h=j%U|0;else{for(h=Bi/(U[0]+1)|0,h>1&&(U=e(U,h),L=e(L,h),D=U.length,O=L.length),T=D,v=L.slice(0,D),w=v.length;w<D;)v[w++]=0;M=U.slice(),M.unshift(0),P=U[0],U[1]>=Bi/2&&++P;do h=0,o=t(U,v,D,w),o<0?(N=v[0],D!=w&&(N=N*Bi+(v[1]||0)),h=N/P|0,h>1?(h>=Bi&&(h=Bi-1),m=e(U,h),g=m.length,w=v.length,o=t(m,v,g,w),o==1&&(h--,r(m,D<g?M:U,g))):(h==0&&(o=h=1),m=U.slice()),g=m.length,g<w&&m.unshift(0),r(v,m,w),o==-1&&(w=v.length,o=t(U,v,D,w),o<1&&(h++,r(v,D<w?M:U,w))),w=v.length):o===0&&(h++,v=[0]),b[f++]=h,o&&v[0]?v[w++]=L[T]||0:(v=[L[T]],w=1);while((T++<O||v[0]!==void 0)&&E--)}return b[0]||b.shift(),x.e=u,Bn(x,l?i+ci(x)+1:i)}})();function VR(e,t){var r,n,a,i,l,o,u=0,f=0,h=e.constructor,m=h.precision;if(ci(e)>16)throw Error(Oj+ci(e));if(!e.s)return new h(eo);for(fa=!1,o=m,l=new h(.03125);e.abs().gte(.1);)e=e.times(l),f+=5;for(n=Math.log(_0(2,f))/Math.LN10*2+5|0,o+=n,r=a=i=new h(eo),h.precision=o;;){if(a=Bn(a.times(e),o),r=r.times(++u),l=i.plus(ff(a,r,o)),uu(l.d).slice(0,o)===uu(i.d).slice(0,o)){for(;f--;)i=Bn(i.times(i),o);return h.precision=m,t==null?(fa=!0,Bn(i,m)):i}i=l}}function ci(e){for(var t=e.e*Xn,r=e.d[0];r>=10;r/=10)t++;return t}function i4(e,t,r){if(t>e.LN10.sd())throw fa=!0,r&&(e.precision=r),Error(Vo+"LN10 precision limit exceeded");return Bn(new e(e.LN10),t)}function vd(e){for(var t="";e--;)t+="0";return t}function vg(e,t){var r,n,a,i,l,o,u,f,h,m=1,g=10,x=e,b=x.d,v=x.constructor,w=v.precision;if(x.s<1)throw Error(Vo+(x.s?"NaN":"-Infinity"));if(x.eq(eo))return new v(0);if(t==null?(fa=!1,f=w):f=t,x.eq(10))return t==null&&(fa=!0),i4(v,f);if(f+=g,v.precision=f,r=uu(b),n=r.charAt(0),i=ci(x),Math.abs(i)<15e14){for(;n<7&&n!=1||n==1&&r.charAt(1)>3;)x=x.times(e),r=uu(x.d),n=r.charAt(0),m++;i=ci(x),n>1?(x=new v("0."+r),i++):x=new v(n+"."+r.slice(1))}else return u=i4(v,f+2,w).times(i+""),x=vg(new v(n+"."+r.slice(1)),f-g).plus(u),v.precision=w,t==null?(fa=!0,Bn(x,w)):x;for(o=l=x=ff(x.minus(eo),x.plus(eo),f),h=Bn(x.times(x),f),a=3;;){if(l=Bn(l.times(h),f),u=o.plus(ff(l,new v(a),f)),uu(u.d).slice(0,f)===uu(o.d).slice(0,f))return o=o.times(2),i!==0&&(o=o.plus(i4(v,f+2,w).times(i+""))),o=ff(o,new v(m),f),v.precision=w,t==null?(fa=!0,Bn(o,w)):o;o=u,a+=2}}function DT(e,t){var r,n,a;for((r=t.indexOf("."))>-1&&(t=t.replace(".","")),(n=t.search(/e/i))>0?(r<0&&(r=n),r+=+t.slice(n+1),t=t.substring(0,n)):r<0&&(r=t.length),n=0;t.charCodeAt(n)===48;)++n;for(a=t.length;t.charCodeAt(a-1)===48;)--a;if(t=t.slice(n,a),t){if(a-=n,r=r-n-1,e.e=hp(r/Xn),e.d=[],n=(r+1)%Xn,r<0&&(n+=Xn),n<a){for(n&&e.d.push(+t.slice(0,n)),a-=Xn;n<a;)e.d.push(+t.slice(n,n+=Xn));t=t.slice(n),n=Xn-t.length}else n-=a;for(;n--;)t+="0";if(e.d.push(+t),fa&&(e.e>By||e.e<-By))throw Error(Oj+r)}else e.s=0,e.e=0,e.d=[0];return e}function Bn(e,t,r){var n,a,i,l,o,u,f,h,m=e.d;for(l=1,i=m[0];i>=10;i/=10)l++;if(n=t-l,n<0)n+=Xn,a=t,f=m[h=0];else{if(h=Math.ceil((n+1)/Xn),i=m.length,h>=i)return e;for(f=i=m[h],l=1;i>=10;i/=10)l++;n%=Xn,a=n-Xn+l}if(r!==void 0&&(i=_0(10,l-a-1),o=f/i%10|0,u=t<0||m[h+1]!==void 0||f%i,u=r<4?(o||u)&&(r==0||r==(e.s<0?3:2)):o>5||o==5&&(r==4||u||r==6&&(n>0?a>0?f/_0(10,l-a):0:m[h-1])%10&1||r==(e.s<0?8:7))),t<1||!m[0])return u?(i=ci(e),m.length=1,t=t-i-1,m[0]=_0(10,(Xn-t%Xn)%Xn),e.e=hp(-t/Xn)||0):(m.length=1,m[0]=e.e=e.s=0),e;if(n==0?(m.length=h,i=1,h--):(m.length=h+1,i=_0(10,Xn-n),m[h]=a>0?(f/_0(10,l-a)%_0(10,a)|0)*i:0),u)for(;;)if(h==0){(m[0]+=i)==Bi&&(m[0]=1,++e.e);break}else{if(m[h]+=i,m[h]!=Bi)break;m[h--]=0,i=1}for(n=m.length;m[--n]===0;)m.pop();if(fa&&(e.e>By||e.e<-By))throw Error(Oj+ci(e));return e}function WR(e,t){var r,n,a,i,l,o,u,f,h,m,g=e.constructor,x=g.precision;if(!e.s||!t.s)return t.s?t.s=-t.s:t=new g(e),fa?Bn(t,x):t;if(u=e.d,m=t.d,n=t.e,f=e.e,u=u.slice(),l=f-n,l){for(h=l<0,h?(r=u,l=-l,o=m.length):(r=m,n=f,o=u.length),a=Math.max(Math.ceil(x/Xn),o)+2,l>a&&(l=a,r.length=1),r.reverse(),a=l;a--;)r.push(0);r.reverse()}else{for(a=u.length,o=m.length,h=a<o,h&&(o=a),a=0;a<o;a++)if(u[a]!=m[a]){h=u[a]<m[a];break}l=0}for(h&&(r=u,u=m,m=r,t.s=-t.s),o=u.length,a=m.length-o;a>0;--a)u[o++]=0;for(a=m.length;a>l;){if(u[--a]<m[a]){for(i=a;i&&u[--i]===0;)u[i]=Bi-1;--u[i],u[a]+=Bi}u[a]-=m[a]}for(;u[--o]===0;)u.pop();for(;u[0]===0;u.shift())--n;return u[0]?(t.d=u,t.e=n,fa?Bn(t,x):t):new g(0)}function ah(e,t,r){var n,a=ci(e),i=uu(e.d),l=i.length;return t?(r&&(n=r-l)>0?i=i.charAt(0)+"."+i.slice(1)+vd(n):l>1&&(i=i.charAt(0)+"."+i.slice(1)),i=i+(a<0?"e":"e+")+a):a<0?(i="0."+vd(-a-1)+i,r&&(n=r-l)>0&&(i+=vd(n))):a>=l?(i+=vd(a+1-l),r&&(n=r-a-1)>0&&(i=i+"."+vd(n))):((n=a+1)<l&&(i=i.slice(0,n)+"."+i.slice(n)),r&&(n=r-l)>0&&(a+1===l&&(i+="."),i+=vd(n))),e.s<0?"-"+i:i}function FT(e,t){if(e.length>t)return e.length=t,!0}function KR(e){var t,r,n;function a(i){var l=this;if(!(l instanceof a))return new a(i);if(l.constructor=a,i instanceof a){l.s=i.s,l.e=i.e,l.d=(i=i.d)?i.slice():i;return}if(typeof i=="number"){if(i*0!==0)throw Error(U0+i);if(i>0)l.s=1;else if(i<0)i=-i,l.s=-1;else{l.s=0,l.e=0,l.d=[0];return}if(i===~~i&&i<1e7){l.e=0,l.d=[i];return}return DT(l,i.toString())}else if(typeof i!="string")throw Error(U0+i);if(i.charCodeAt(0)===45?(i=i.slice(1),l.s=-1):l.s=1,Rhe.test(i))DT(l,i);else throw Error(U0+i)}if(a.prototype=It,a.ROUND_UP=0,a.ROUND_DOWN=1,a.ROUND_CEIL=2,a.ROUND_FLOOR=3,a.ROUND_HALF_UP=4,a.ROUND_HALF_DOWN=5,a.ROUND_HALF_EVEN=6,a.ROUND_HALF_CEIL=7,a.ROUND_HALF_FLOOR=8,a.clone=KR,a.config=a.set=Ihe,e===void 0&&(e={}),e)for(n=["precision","rounding","toExpNeg","toExpPos","LN10"],t=0;t<n.length;)e.hasOwnProperty(r=n[t++])||(e[r]=this[r]);return a.config(e),a}function Ihe(e){if(!e||typeof e!="object")throw Error(Vo+"Object expected");var t,r,n,a=["precision",1,dp,"rounding",0,8,"toExpNeg",-1/0,0,"toExpPos",0,1/0];for(t=0;t<a.length;t+=3)if((n=e[r=a[t]])!==void 0)if(hp(n)===n&&n>=a[t+1]&&n<=a[t+2])this[r]=n;else throw Error(U0+r+": "+n);if((n=e[r="LN10"])!==void 0)if(n==Math.LN10)this[r]=new this(n);else throw Error(U0+r+": "+n);return this}var Dj=KR(Mhe);eo=new Dj(1);const wn=Dj;var Bhe=e=>e,GR={},YR=e=>e===GR,PT=e=>function t(){return arguments.length===0||arguments.length===1&&YR(arguments.length<=0?void 0:arguments[0])?t:e(...arguments)},XR=(e,t)=>e===1?t:PT(function(){for(var r=arguments.length,n=new Array(r),a=0;a<r;a++)n[a]=arguments[a];var i=n.filter(l=>l!==GR).length;return i>=e?t(...n):XR(e-i,PT(function(){for(var l=arguments.length,o=new Array(l),u=0;u<l;u++)o[u]=arguments[u];var f=n.map(h=>YR(h)?o.shift():h);return t(...f,...o)}))}),q2=e=>XR(e.length,e),WN=(e,t)=>{for(var r=[],n=e;n<t;++n)r[n-e]=n;return r},Uhe=q2((e,t)=>Array.isArray(t)?t.map(e):Object.keys(t).map(r=>t[r]).map(e)),zhe=function(){for(var t=arguments.length,r=new Array(t),n=0;n<t;n++)r[n]=arguments[n];if(!r.length)return Bhe;var a=r.reverse(),i=a[0],l=a.slice(1);return function(){return l.reduce((o,u)=>u(o),i(...arguments))}},KN=e=>Array.isArray(e)?e.reverse():e.split("").reverse().join(""),QR=e=>{var t=null,r=null;return function(){for(var n=arguments.length,a=new Array(n),i=0;i<n;i++)a[i]=arguments[i];return t&&a.every((l,o)=>{var u;return l===((u=t)===null||u===void 0?void 0:u[o])})||(t=a,r=e(...a)),r}};function ZR(e){var t;return e===0?t=1:t=Math.floor(new wn(e).abs().log(10).toNumber())+1,t}function JR(e,t,r){for(var n=new wn(e),a=0,i=[];n.lt(t)&&a<1e5;)i.push(n.toNumber()),n=n.add(r),a++;return i}q2((e,t,r)=>{var n=+e,a=+t;return n+r*(a-n)});q2((e,t,r)=>{var n=t-+e;return n=n||1/0,(r-e)/n});q2((e,t,r)=>{var n=t-+e;return n=n||1/0,Math.max(0,Math.min(1,(r-e)/n))});var e9=e=>{var[t,r]=e,[n,a]=[t,r];return t>r&&([n,a]=[r,t]),[n,a]},t9=(e,t,r)=>{if(e.lte(0))return new wn(0);var n=ZR(e.toNumber()),a=new wn(10).pow(n),i=e.div(a),l=n!==1?.05:.1,o=new wn(Math.ceil(i.div(l).toNumber())).add(r).mul(l),u=o.mul(a);return t?new wn(u.toNumber()):new wn(Math.ceil(u.toNumber()))},qhe=(e,t,r)=>{var n=new wn(1),a=new wn(e);if(!a.isint()&&r){var i=Math.abs(e);i<1?(n=new wn(10).pow(ZR(e)-1),a=new wn(Math.floor(a.div(n).toNumber())).mul(n)):i>1&&(a=new wn(Math.floor(e)))}else e===0?a=new wn(Math.floor((t-1)/2)):r||(a=new wn(Math.floor(e)));var l=Math.floor((t-1)/2),o=zhe(Uhe(u=>a.add(new wn(u-l).mul(n)).toNumber()),WN);return o(0,t)},r9=function(t,r,n,a){var i=arguments.length>4&&arguments[4]!==void 0?arguments[4]:0;if(!Number.isFinite((r-t)/(n-1)))return{step:new wn(0),tickMin:new wn(0),tickMax:new wn(0)};var l=t9(new wn(r).sub(t).div(n-1),a,i),o;t<=0&&r>=0?o=new wn(0):(o=new wn(t).add(r).div(2),o=o.sub(new wn(o).mod(l)));var u=Math.ceil(o.sub(t).div(l).toNumber()),f=Math.ceil(new wn(r).sub(o).div(l).toNumber()),h=u+f+1;return h>n?r9(t,r,n,a,i+1):(h<n&&(f=r>0?f+(n-h):f,u=r>0?u:u+(n-h)),{step:l,tickMin:o.sub(new wn(u).mul(l)),tickMax:o.add(new wn(f).mul(l))})};function $he(e){var[t,r]=e,n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:6,a=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,i=Math.max(n,2),[l,o]=e9([t,r]);if(l===-1/0||o===1/0){var u=o===1/0?[l,...WN(0,n-1).map(()=>1/0)]:[...WN(0,n-1).map(()=>-1/0),o];return t>r?KN(u):u}if(l===o)return qhe(l,n,a);var{step:f,tickMin:h,tickMax:m}=r9(l,o,i,a,0),g=JR(h,m.add(new wn(.1).mul(f)),f);return t>r?KN(g):g}function Hhe(e,t){var[r,n]=e,a=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,[i,l]=e9([r,n]);if(i===-1/0||l===1/0)return[r,n];if(i===l)return[i];var o=Math.max(t,2),u=t9(new wn(l).sub(i).div(o-1),a,0),f=[...JR(new wn(i),new wn(l),u),l];return a===!1&&(f=f.map(h=>Math.round(h))),r>n?KN(f):f}var Vhe=QR($he),Whe=QR(Hhe),n9=e=>e.rootProps.maxBarSize,Khe=e=>e.rootProps.barGap,a9=e=>e.rootProps.barCategoryGap,Ghe=e=>e.rootProps.barSize,Wg=e=>e.rootProps.stackOffset,Fj=e=>e.options.chartName,Pj=e=>e.rootProps.syncId,i9=e=>e.rootProps.syncMethod,Lj=e=>e.options.eventEmitter,Qu={allowDuplicatedCategory:!0,angleAxisId:0,reversed:!1,scale:"auto",tick:!0,type:"category"},Gl={allowDataOverflow:!1,allowDuplicatedCategory:!0,radiusAxisId:0,scale:"auto",tick:!0,tickCount:5,type:"number"},$2=(e,t)=>{if(!(!e||!t))return e!=null&&e.reversed?[t[1],t[0]]:t},Yhe={allowDataOverflow:!1,allowDecimals:!1,allowDuplicatedCategory:!1,dataKey:void 0,domain:void 0,id:Qu.angleAxisId,includeHidden:!1,name:void 0,reversed:Qu.reversed,scale:Qu.scale,tick:Qu.tick,tickCount:void 0,ticks:void 0,type:Qu.type,unit:void 0},Xhe={allowDataOverflow:Gl.allowDataOverflow,allowDecimals:!1,allowDuplicatedCategory:Gl.allowDuplicatedCategory,dataKey:void 0,domain:void 0,id:Gl.radiusAxisId,includeHidden:!1,name:void 0,reversed:!1,scale:Gl.scale,tick:Gl.tick,tickCount:Gl.tickCount,ticks:void 0,type:Gl.type,unit:void 0},Qhe={allowDataOverflow:!1,allowDecimals:!1,allowDuplicatedCategory:Qu.allowDuplicatedCategory,dataKey:void 0,domain:void 0,id:Qu.angleAxisId,includeHidden:!1,name:void 0,reversed:!1,scale:Qu.scale,tick:Qu.tick,tickCount:void 0,ticks:void 0,type:"number",unit:void 0},Zhe={allowDataOverflow:Gl.allowDataOverflow,allowDecimals:!1,allowDuplicatedCategory:Gl.allowDuplicatedCategory,dataKey:void 0,domain:void 0,id:Gl.radiusAxisId,includeHidden:!1,name:void 0,reversed:!1,scale:Gl.scale,tick:Gl.tick,tickCount:Gl.tickCount,ticks:void 0,type:"category",unit:void 0},Mj=(e,t)=>e.polarAxis.angleAxis[t]!=null?e.polarAxis.angleAxis[t]:e.layout.layoutType==="radial"?Qhe:Yhe,Rj=(e,t)=>e.polarAxis.radiusAxis[t]!=null?e.polarAxis.radiusAxis[t]:e.layout.layoutType==="radial"?Zhe:Xhe,H2=e=>e.polarOptions,Ij=He([kf,Cf,Ei],IM),s9=He([H2,Ij],(e,t)=>{if(e!=null)return Os(e.innerRadius,t,0)}),l9=He([H2,Ij],(e,t)=>{if(e!=null)return Os(e.outerRadius,t,t*.8)}),Jhe=e=>{if(e==null)return[0,0];var{startAngle:t,endAngle:r}=e;return[t,r]},o9=He([H2],Jhe);He([Mj,o9],$2);var c9=He([Ij,s9,l9],(e,t,r)=>{if(!(e==null||t==null||r==null))return[t,r]});He([Rj,c9],$2);var u9=He([Gr,H2,s9,l9,kf,Cf],(e,t,r,n,a,i)=>{if(!(e!=="centric"&&e!=="radial"||t==null||r==null||n==null)){var{cx:l,cy:o,startAngle:u,endAngle:f}=t;return{cx:Os(l,a,a/2),cy:Os(o,i,i/2),innerRadius:r,outerRadius:n,startAngle:u,endAngle:f,clockWise:!1}}}),pa=(e,t)=>t,Kg=(e,t,r)=>r;function Bj(e){return e?.id}var Ci=e=>{var t=Gr(e);return t==="horizontal"?"xAxis":t==="vertical"?"yAxis":t==="centric"?"angleAxis":"radiusAxis"},mp=e=>e.tooltip.settings.axisId,Ti=e=>{var t=Ci(e),r=mp(e);return Gg(e,t,r)},f9=He([Ti],e=>e?.dataKey);function d9(e,t,r){var{chartData:n=[]}=t,{allowDuplicatedCategory:a,dataKey:i}=r,l=new Map;return e.forEach(o=>{var u,f=(u=o.data)!==null&&u!==void 0?u:n;if(!(f==null||f.length===0)){var h=Bj(o);f.forEach((m,g)=>{var x=i==null||a?g:String($n(m,i,null)),b=$n(m,o.dataKey,0),v;l.has(x)?v=l.get(x):v={},Object.assign(v,{[h]:b}),l.set(x,v)})}}),Array.from(l.values())}function V2(e){return e.stackId!=null&&e.dataKey!=null}var W2=(e,t)=>e===t?!0:e==null||t==null?!1:e[0]===t[0]&&e[1]===t[1];function K2(e,t){return Array.isArray(e)&&Array.isArray(t)&&e.length===0&&t.length===0?!0:e===t}function LT(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function Uy(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?LT(Object(r),!0).forEach(function(n){eme(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):LT(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function eme(e,t,r){return(t=tme(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function tme(e){var t=rme(e,"string");return typeof t=="symbol"?t:t+""}function rme(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var GN=[0,"auto"],Wl={allowDataOverflow:!1,allowDecimals:!0,allowDuplicatedCategory:!0,angle:0,dataKey:void 0,domain:void 0,height:30,hide:!0,id:0,includeHidden:!1,interval:"preserveEnd",minTickGap:5,mirror:!1,name:void 0,orientation:"bottom",padding:{left:0,right:0},reversed:!1,scale:"auto",tick:!0,tickCount:5,tickFormatter:void 0,ticks:void 0,type:"category",unit:void 0},h9=(e,t)=>e.cartesianAxis.xAxis[t],Of=(e,t)=>{var r=h9(e,t);return r??Wl},Kl={allowDataOverflow:!1,allowDecimals:!0,allowDuplicatedCategory:!0,angle:0,dataKey:void 0,domain:GN,hide:!0,id:0,includeHidden:!1,interval:"preserveEnd",minTickGap:5,mirror:!1,name:void 0,orientation:"left",padding:{top:0,bottom:0},reversed:!1,scale:"auto",tick:!0,tickCount:5,tickFormatter:void 0,ticks:void 0,type:"number",unit:void 0,width:Bg},m9=(e,t)=>e.cartesianAxis.yAxis[t],Df=(e,t)=>{var r=m9(e,t);return r??Kl},nme={domain:[0,"auto"],includeHidden:!1,reversed:!1,allowDataOverflow:!1,allowDuplicatedCategory:!1,dataKey:void 0,id:0,name:"",range:[64,64],scale:"auto",type:"number",unit:""},Uj=(e,t)=>{var r=e.cartesianAxis.zAxis[t];return r??nme},Ea=(e,t,r)=>{switch(t){case"xAxis":return Of(e,r);case"yAxis":return Df(e,r);case"zAxis":return Uj(e,r);case"angleAxis":return Mj(e,r);case"radiusAxis":return Rj(e,r);default:throw new Error("Unexpected axis type: ".concat(t))}},ame=(e,t,r)=>{switch(t){case"xAxis":return Of(e,r);case"yAxis":return Df(e,r);default:throw new Error("Unexpected axis type: ".concat(t))}},Gg=(e,t,r)=>{switch(t){case"xAxis":return Of(e,r);case"yAxis":return Df(e,r);case"angleAxis":return Mj(e,r);case"radiusAxis":return Rj(e,r);default:throw new Error("Unexpected axis type: ".concat(t))}},p9=e=>e.graphicalItems.cartesianItems.some(t=>t.type==="bar")||e.graphicalItems.polarItems.some(t=>t.type==="radialBar");function zj(e,t){return r=>{switch(e){case"xAxis":return"xAxisId"in r&&r.xAxisId===t;case"yAxis":return"yAxisId"in r&&r.yAxisId===t;case"zAxis":return"zAxisId"in r&&r.zAxisId===t;case"angleAxis":return"angleAxisId"in r&&r.angleAxisId===t;case"radiusAxis":return"radiusAxisId"in r&&r.radiusAxisId===t;default:return!1}}}var G2=e=>e.graphicalItems.cartesianItems,ime=He([pa,Kg],zj),qj=(e,t,r)=>e.filter(r).filter(n=>t?.includeHidden===!0?!0:!n.hide),Yg=He([G2,Ea,ime],qj,{memoizeOptions:{resultEqualityCheck:K2}}),x9=He([Yg],e=>e.filter(t=>t.type==="area"||t.type==="bar").filter(V2)),g9=e=>e.filter(t=>!("stackId"in t)||t.stackId===void 0),sme=He([Yg],g9),$j=e=>e.map(t=>t.data).filter(Boolean).flat(1),lme=He([Yg],$j,{memoizeOptions:{resultEqualityCheck:K2}}),Hj=(e,t)=>{var{chartData:r=[],dataStartIndex:n,dataEndIndex:a}=t;return e.length>0?e:r.slice(n,a+1)},Vj=He([lme,z2],Hj),Wj=(e,t,r)=>t?.dataKey!=null?e.map(n=>({value:$n(n,t.dataKey)})):r.length>0?r.map(n=>n.dataKey).flatMap(n=>e.map(a=>({value:$n(a,n)}))):e.map(n=>({value:n})),Y2=He([Vj,Ea,Yg],Wj);function v9(e,t){switch(e){case"xAxis":return t.direction==="x";case"yAxis":return t.direction==="y";default:return!1}}function Iv(e){if(mu(e)||e instanceof Date){var t=Number(e);if(Ps(t))return t}}function MT(e){if(Array.isArray(e)){var t=[Iv(e[0]),Iv(e[1])];return nh(t)?t:void 0}var r=Iv(e);if(r!=null)return[r,r]}function pp(e){return e.map(Iv).filter(jfe)}function ome(e,t,r){return!r||typeof t!="number"||$o(t)?[]:r.length?pp(r.flatMap(n=>{var a=$n(e,n.dataKey),i,l;if(Array.isArray(a)?[i,l]=a:i=l=a,!(!Ps(i)||!Ps(l)))return[t-i,t+l]})):[]}var cme=He([x9,z2,Ti],d9),y9=(e,t,r)=>{var n={},a=t.reduce((i,l)=>(l.stackId==null||(i[l.stackId]==null&&(i[l.stackId]=[]),i[l.stackId].push(l)),i),n);return Object.fromEntries(Object.entries(a).map(i=>{var[l,o]=i,u=o.map(Bj);return[l,{stackedData:Kce(e,u,r),graphicalItems:o}]}))},YN=He([cme,x9,Wg],y9),b9=(e,t,r,n)=>{var{dataStartIndex:a,dataEndIndex:i}=t;if(n==null&&r!=="zAxis"){var l=Zce(e,a,i);if(!(l!=null&&l[0]===0&&l[1]===0))return l}},ume=He([Ea],e=>e.allowDataOverflow),Kj=e=>{var t;if(e==null||!("domain"in e))return GN;if(e.domain!=null)return e.domain;if(e.ticks!=null){if(e.type==="number"){var r=pp(e.ticks);return[Math.min(...r),Math.max(...r)]}if(e.type==="category")return e.ticks.map(String)}return(t=e?.domain)!==null&&t!==void 0?t:GN},Gj=He([Ea],Kj),Yj=He([Gj,ume],qR),fme=He([YN,Kd,pa,Yj],b9,{memoizeOptions:{resultEqualityCheck:W2}}),X2=e=>e.errorBars,dme=(e,t,r)=>e.flatMap(n=>t[n.id]).filter(Boolean).filter(n=>v9(r,n)),zy=function(){for(var t=arguments.length,r=new Array(t),n=0;n<t;n++)r[n]=arguments[n];var a=r.filter(Boolean);if(a.length!==0){var i=a.flat(),l=Math.min(...i),o=Math.max(...i);return[l,o]}},Xj=(e,t,r,n,a)=>{var i,l;if(r.length>0&&e.forEach(o=>{r.forEach(u=>{var f,h,m=(f=n[u.id])===null||f===void 0?void 0:f.filter(N=>v9(a,N)),g=$n(o,(h=t.dataKey)!==null&&h!==void 0?h:u.dataKey),x=ome(o,g,m);if(x.length>=2){var b=Math.min(...x),v=Math.max(...x);(i==null||b<i)&&(i=b),(l==null||v>l)&&(l=v)}var w=MT(g);w!=null&&(i=i==null?w[0]:Math.min(i,w[0]),l=l==null?w[1]:Math.max(l,w[1]))})}),t?.dataKey!=null&&e.forEach(o=>{var u=MT($n(o,t.dataKey));u!=null&&(i=i==null?u[0]:Math.min(i,u[0]),l=l==null?u[1]:Math.max(l,u[1]))}),Ps(i)&&Ps(l))return[i,l]},hme=He([Vj,Ea,sme,X2,pa],Xj,{memoizeOptions:{resultEqualityCheck:W2}});function mme(e){var{value:t}=e;if(mu(t)||t instanceof Date)return t}var pme=(e,t,r)=>{var n=e.map(mme).filter(a=>a!=null);return r&&(t.dataKey==null||t.allowDuplicatedCategory&&GL(n))?lR(0,e.length):t.allowDuplicatedCategory?n:Array.from(new Set(n))},w9=e=>e.referenceElements.dots,xp=(e,t,r)=>e.filter(n=>n.ifOverflow==="extendDomain").filter(n=>t==="xAxis"?n.xAxisId===r:n.yAxisId===r),xme=He([w9,pa,Kg],xp),N9=e=>e.referenceElements.areas,gme=He([N9,pa,Kg],xp),_9=e=>e.referenceElements.lines,vme=He([_9,pa,Kg],xp),j9=(e,t)=>{var r=pp(e.map(n=>t==="xAxis"?n.x:n.y));if(r.length!==0)return[Math.min(...r),Math.max(...r)]},yme=He(xme,pa,j9),S9=(e,t)=>{var r=pp(e.flatMap(n=>[t==="xAxis"?n.x1:n.y1,t==="xAxis"?n.x2:n.y2]));if(r.length!==0)return[Math.min(...r),Math.max(...r)]},bme=He([gme,pa],S9),A9=(e,t)=>{var r=pp(e.map(n=>t==="xAxis"?n.x:n.y));if(r.length!==0)return[Math.min(...r),Math.max(...r)]},wme=He(vme,pa,A9),Nme=He(yme,wme,bme,(e,t,r)=>zy(e,r,t)),Qj=(e,t,r,n,a,i,l,o)=>{if(r!=null)return r;var u=l==="vertical"&&o==="xAxis"||l==="horizontal"&&o==="yAxis",f=u?zy(n,i,a):zy(i,a);return Lhe(t,f,e.allowDataOverflow)},_me=He([Ea,Gj,Yj,fme,hme,Nme,Gr,pa],Qj,{memoizeOptions:{resultEqualityCheck:W2}}),jme=[0,1],Zj=(e,t,r,n,a,i,l)=>{if(!((e==null||r==null||r.length===0)&&l===void 0)){var{dataKey:o,type:u}=e,f=$d(t,i);return f&&o==null?lR(0,r.length):u==="category"?pme(n,e,f):a==="expand"?jme:l}},Jj=He([Ea,Gr,Vj,Y2,Wg,pa,_me],Zj),E9=(e,t,r,n,a)=>{if(e!=null){var{scale:i,type:l}=e;if(i==="auto")return t==="radial"&&a==="radiusAxis"?"band":t==="radial"&&a==="angleAxis"?"linear":l==="category"&&n&&(n.indexOf("LineChart")>=0||n.indexOf("AreaChart")>=0||n.indexOf("ComposedChart")>=0&&!r)?"point":l==="category"?"band":"linear";if(typeof i=="string"){var o="scale".concat(Lg(i));return o in wx?o:"point"}}},gp=He([Ea,Gr,p9,Fj,pa],E9);function Sme(e){if(e!=null){if(e in wx)return wx[e]();var t="scale".concat(Lg(e));if(t in wx)return wx[t]()}}function eS(e,t,r,n){if(!(r==null||n==null)){if(typeof e.scale=="function")return e.scale.copy().domain(r).range(n);var a=Sme(t);if(a!=null){var i=a.domain(r).range(n);return qce(i),i}}}var tS=(e,t,r)=>{var n=Kj(t);if(!(r!=="auto"&&r!=="linear")){if(t!=null&&t.tickCount&&Array.isArray(n)&&(n[0]==="auto"||n[1]==="auto")&&nh(e))return Vhe(e,t.tickCount,t.allowDecimals);if(t!=null&&t.tickCount&&t.type==="number"&&nh(e))return Whe(e,t.tickCount,t.allowDecimals)}},rS=He([Jj,Gg,gp],tS),nS=(e,t,r,n)=>{if(n!=="angleAxis"&&e?.type==="number"&&nh(t)&&Array.isArray(r)&&r.length>0){var a=t[0],i=r[0],l=t[1],o=r[r.length-1];return[Math.min(a,i),Math.max(l,o)]}return t},Ame=He([Ea,Jj,rS,pa],nS),Eme=He(Y2,Ea,(e,t)=>{if(!(!t||t.type!=="number")){var r=1/0,n=Array.from(pp(e.map(o=>o.value))).sort((o,u)=>o-u);if(n.length<2)return 1/0;var a=n[n.length-1]-n[0];if(a===0)return 1/0;for(var i=0;i<n.length-1;i++){var l=n[i+1]-n[i];r=Math.min(r,l)}return r/a}}),k9=He(Eme,Gr,a9,Ei,(e,t,r,n)=>n,(e,t,r,n,a)=>{if(!Ps(e))return 0;var i=t==="vertical"?n.height:n.width;if(a==="gap")return e*i/2;if(a==="no-gap"){var l=Os(r,e*i),o=e*i/2;return o-l-(o-l)/i*l}return 0}),kme=(e,t)=>{var r=Of(e,t);return r==null||typeof r.padding!="string"?0:k9(e,"xAxis",t,r.padding)},Cme=(e,t)=>{var r=Df(e,t);return r==null||typeof r.padding!="string"?0:k9(e,"yAxis",t,r.padding)},Tme=He(Of,kme,(e,t)=>{var r,n;if(e==null)return{left:0,right:0};var{padding:a}=e;return typeof a=="string"?{left:t,right:t}:{left:((r=a.left)!==null&&r!==void 0?r:0)+t,right:((n=a.right)!==null&&n!==void 0?n:0)+t}}),Ome=He(Df,Cme,(e,t)=>{var r,n;if(e==null)return{top:0,bottom:0};var{padding:a}=e;return typeof a=="string"?{top:t,bottom:t}:{top:((r=a.top)!==null&&r!==void 0?r:0)+t,bottom:((n=a.bottom)!==null&&n!==void 0?n:0)+t}}),Dme=He([Ei,Tme,O2,T2,(e,t,r)=>r],(e,t,r,n,a)=>{var{padding:i}=n;return a?[i.left,r.width-i.right]:[e.left+t.left,e.left+e.width-t.right]}),Fme=He([Ei,Gr,Ome,O2,T2,(e,t,r)=>r],(e,t,r,n,a,i)=>{var{padding:l}=a;return i?[n.height-l.bottom,l.top]:t==="horizontal"?[e.top+e.height-r.bottom,e.top+r.top]:[e.top+r.top,e.top+e.height-r.bottom]}),Xg=(e,t,r,n)=>{var a;switch(t){case"xAxis":return Dme(e,r,n);case"yAxis":return Fme(e,r,n);case"zAxis":return(a=Uj(e,r))===null||a===void 0?void 0:a.range;case"angleAxis":return o9(e);case"radiusAxis":return c9(e,r);default:return}},C9=He([Ea,Xg],$2),vp=He([Ea,gp,Ame,C9],eS);He([Yg,X2,pa],dme);function T9(e,t){return e.id<t.id?-1:e.id>t.id?1:0}var Q2=(e,t)=>t,Z2=(e,t,r)=>r,Pme=He(k2,Q2,Z2,(e,t,r)=>e.filter(n=>n.orientation===t).filter(n=>n.mirror===r).sort(T9)),Lme=He(C2,Q2,Z2,(e,t,r)=>e.filter(n=>n.orientation===t).filter(n=>n.mirror===r).sort(T9)),O9=(e,t)=>({width:e.width,height:t.height}),Mme=(e,t)=>{var r=typeof t.width=="number"?t.width:Bg;return{width:r,height:e.height}},D9=He(Ei,Of,O9),Rme=(e,t,r)=>{switch(t){case"top":return e.top;case"bottom":return r-e.bottom;default:return 0}},Ime=(e,t,r)=>{switch(t){case"left":return e.left;case"right":return r-e.right;default:return 0}},Bme=He(Cf,Ei,Pme,Q2,Z2,(e,t,r,n,a)=>{var i={},l;return r.forEach(o=>{var u=O9(t,o);l==null&&(l=Rme(t,n,e));var f=n==="top"&&!a||n==="bottom"&&a;i[o.id]=l-Number(f)*u.height,l+=(f?-1:1)*u.height}),i}),Ume=He(kf,Ei,Lme,Q2,Z2,(e,t,r,n,a)=>{var i={},l;return r.forEach(o=>{var u=Mme(t,o);l==null&&(l=Ime(t,n,e));var f=n==="left"&&!a||n==="right"&&a;i[o.id]=l-Number(f)*u.width,l+=(f?-1:1)*u.width}),i}),zme=(e,t)=>{var r=Of(e,t);if(r!=null)return Bme(e,r.orientation,r.mirror)},qme=He([Ei,Of,zme,(e,t)=>t],(e,t,r,n)=>{if(t!=null){var a=r?.[n];return a==null?{x:e.left,y:0}:{x:e.left,y:a}}}),$me=(e,t)=>{var r=Df(e,t);if(r!=null)return Ume(e,r.orientation,r.mirror)},Hme=He([Ei,Df,$me,(e,t)=>t],(e,t,r,n)=>{if(t!=null){var a=r?.[n];return a==null?{x:0,y:e.top}:{x:a,y:e.top}}}),F9=He(Ei,Df,(e,t)=>{var r=typeof t.width=="number"?t.width:Bg;return{width:r,height:e.height}}),RT=(e,t,r)=>{switch(t){case"xAxis":return D9(e,r).width;case"yAxis":return F9(e,r).height;default:return}},P9=(e,t,r,n)=>{if(r!=null){var{allowDuplicatedCategory:a,type:i,dataKey:l}=r,o=$d(e,n),u=t.map(f=>f.value);if(l&&o&&i==="category"&&a&&GL(u))return u}},aS=He([Gr,Y2,Ea,pa],P9),L9=(e,t,r,n)=>{if(!(r==null||r.dataKey==null)){var{type:a,scale:i}=r,l=$d(e,n);if(l&&(a==="number"||i!=="auto"))return t.map(o=>o.value)}},iS=He([Gr,Y2,Gg,pa],L9),IT=He([Gr,ame,gp,vp,aS,iS,Xg,rS,pa],(e,t,r,n,a,i,l,o,u)=>{if(t==null)return null;var f=$d(e,u);return{angle:t.angle,interval:t.interval,minTickGap:t.minTickGap,orientation:t.orientation,tick:t.tick,tickCount:t.tickCount,tickFormatter:t.tickFormatter,ticks:t.ticks,type:t.type,unit:t.unit,axisType:u,categoricalDomain:i,duplicateDomain:a,isCategorical:f,niceTicks:o,range:l,realScaleType:r,scale:n}}),Vme=(e,t,r,n,a,i,l,o,u)=>{if(!(t==null||n==null)){var f=$d(e,u),{type:h,ticks:m,tickCount:g}=t,x=r==="scaleBand"&&typeof n.bandwidth=="function"?n.bandwidth()/2:2,b=h==="category"&&n.bandwidth?n.bandwidth()/x:0;b=u==="angleAxis"&&i!=null&&i.length>=2?$i(i[0]-i[1])*2*b:b;var v=m||a;if(v){var w=v.map((N,E)=>{var j=l?l.indexOf(N):N;return{index:E,coordinate:n(j)+b,value:N,offset:b}});return w.filter(N=>!$o(N.coordinate))}return f&&o?o.map((N,E)=>({coordinate:n(N)+b,value:N,index:E,offset:b})):n.ticks?n.ticks(g).map(N=>({coordinate:n(N)+b,value:N,offset:b})):n.domain().map((N,E)=>({coordinate:n(N)+b,value:l?l[N]:N,index:E,offset:b}))}},M9=He([Gr,Gg,gp,vp,rS,Xg,aS,iS,pa],Vme),Wme=(e,t,r,n,a,i,l)=>{if(!(t==null||r==null||n==null||n[0]===n[1])){var o=$d(e,l),{tickCount:u}=t,f=0;return f=l==="angleAxis"&&n?.length>=2?$i(n[0]-n[1])*2*f:f,o&&i?i.map((h,m)=>({coordinate:r(h)+f,value:h,index:m,offset:f})):r.ticks?r.ticks(u).map(h=>({coordinate:r(h)+f,value:h,offset:f})):r.domain().map((h,m)=>({coordinate:r(h)+f,value:a?a[h]:h,index:m,offset:f}))}},Od=He([Gr,Gg,vp,Xg,aS,iS,pa],Wme),Dd=He(Ea,vp,(e,t)=>{if(!(e==null||t==null))return Uy(Uy({},e),{},{scale:t})}),Kme=He([Ea,gp,Jj,C9],eS);He((e,t,r)=>Uj(e,r),Kme,(e,t)=>{if(!(e==null||t==null))return Uy(Uy({},e),{},{scale:t})});var Gme=He([Gr,k2,C2],(e,t,r)=>{switch(e){case"horizontal":return t.some(n=>n.reversed)?"right-to-left":"left-to-right";case"vertical":return r.some(n=>n.reversed)?"bottom-to-top":"top-to-bottom";case"centric":case"radial":return"left-to-right";default:return}}),R9=e=>e.options.defaultTooltipEventType,I9=e=>e.options.validateTooltipEventTypes;function B9(e,t,r){if(e==null)return t;var n=e?"axis":"item";return r==null?t:r.includes(n)?n:t}function sS(e,t){var r=R9(e),n=I9(e);return B9(t,r,n)}function Yme(e){return Ht(t=>sS(t,e))}var U9=(e,t)=>{var r,n=Number(t);if(!($o(n)||t==null))return n>=0?e==null||(r=e[n])===null||r===void 0?void 0:r.value:void 0},Xme=e=>e.tooltip.settings,bd={active:!1,index:null,dataKey:void 0,coordinate:void 0},Qme={itemInteraction:{click:bd,hover:bd},axisInteraction:{click:bd,hover:bd},keyboardInteraction:bd,syncInteraction:{active:!1,index:null,dataKey:void 0,label:void 0,coordinate:void 0,sourceViewBox:void 0},tooltipItemPayloads:[],settings:{shared:void 0,trigger:"hover",axisId:0,active:!1,defaultIndex:void 0}},z9=lo({name:"tooltip",initialState:Qme,reducers:{addTooltipEntrySettings:{reducer(e,t){e.tooltipItemPayloads.push(t.payload)},prepare:Zs()},removeTooltipEntrySettings:{reducer(e,t){var r=uf(e).tooltipItemPayloads.indexOf(t.payload);r>-1&&e.tooltipItemPayloads.splice(r,1)},prepare:Zs()},setTooltipSettingsState(e,t){e.settings=t.payload},setActiveMouseOverItemIndex(e,t){e.syncInteraction.active=!1,e.keyboardInteraction.active=!1,e.itemInteraction.hover.active=!0,e.itemInteraction.hover.index=t.payload.activeIndex,e.itemInteraction.hover.dataKey=t.payload.activeDataKey,e.itemInteraction.hover.coordinate=t.payload.activeCoordinate},mouseLeaveChart(e){e.itemInteraction.hover.active=!1,e.axisInteraction.hover.active=!1},mouseLeaveItem(e){e.itemInteraction.hover.active=!1},setActiveClickItemIndex(e,t){e.syncInteraction.active=!1,e.itemInteraction.click.active=!0,e.keyboardInteraction.active=!1,e.itemInteraction.click.index=t.payload.activeIndex,e.itemInteraction.click.dataKey=t.payload.activeDataKey,e.itemInteraction.click.coordinate=t.payload.activeCoordinate},setMouseOverAxisIndex(e,t){e.syncInteraction.active=!1,e.axisInteraction.hover.active=!0,e.keyboardInteraction.active=!1,e.axisInteraction.hover.index=t.payload.activeIndex,e.axisInteraction.hover.dataKey=t.payload.activeDataKey,e.axisInteraction.hover.coordinate=t.payload.activeCoordinate},setMouseClickAxisIndex(e,t){e.syncInteraction.active=!1,e.keyboardInteraction.active=!1,e.axisInteraction.click.active=!0,e.axisInteraction.click.index=t.payload.activeIndex,e.axisInteraction.click.dataKey=t.payload.activeDataKey,e.axisInteraction.click.coordinate=t.payload.activeCoordinate},setSyncInteraction(e,t){e.syncInteraction=t.payload},setKeyboardInteraction(e,t){e.keyboardInteraction.active=t.payload.active,e.keyboardInteraction.index=t.payload.activeIndex,e.keyboardInteraction.coordinate=t.payload.activeCoordinate,e.keyboardInteraction.dataKey=t.payload.activeDataKey}}}),{addTooltipEntrySettings:Zme,removeTooltipEntrySettings:Jme,setTooltipSettingsState:epe,setActiveMouseOverItemIndex:q9,mouseLeaveItem:tpe,mouseLeaveChart:$9,setActiveClickItemIndex:rpe,setMouseOverAxisIndex:H9,setMouseClickAxisIndex:npe,setSyncInteraction:XN,setKeyboardInteraction:QN}=z9.actions,ape=z9.reducer;function BT(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function Nv(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?BT(Object(r),!0).forEach(function(n){ipe(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):BT(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function ipe(e,t,r){return(t=spe(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function spe(e){var t=lpe(e,"string");return typeof t=="symbol"?t:t+""}function lpe(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function ope(e,t,r){return t==="axis"?r==="click"?e.axisInteraction.click:e.axisInteraction.hover:r==="click"?e.itemInteraction.click:e.itemInteraction.hover}function cpe(e){return e.index!=null}var V9=(e,t,r,n)=>{if(t==null)return bd;var a=ope(e,t,r);if(a==null)return bd;if(a.active)return a;if(e.keyboardInteraction.active)return e.keyboardInteraction;if(e.syncInteraction.active&&e.syncInteraction.index!=null)return e.syncInteraction;var i=e.settings.active===!0;if(cpe(a)){if(i)return Nv(Nv({},a),{},{active:!0})}else if(n!=null)return{active:!0,coordinate:void 0,dataKey:void 0,index:n};return Nv(Nv({},bd),{},{coordinate:a.coordinate})},lS=(e,t)=>{var r=e?.index;if(r==null)return null;var n=Number(r);if(!Ps(n))return r;var a=0,i=1/0;return t.length>0&&(i=t.length-1),String(Math.max(a,Math.min(n,i)))},W9=(e,t,r,n,a,i,l,o)=>{if(!(i==null||o==null)){var u=l[0],f=u==null?void 0:o(u.positions,i);if(f!=null)return f;var h=a?.[Number(i)];if(h)switch(r){case"horizontal":return{x:h.coordinate,y:(n.top+t)/2};default:return{x:(n.left+e)/2,y:h.coordinate}}}},K9=(e,t,r,n)=>{if(t==="axis")return e.tooltipItemPayloads;if(e.tooltipItemPayloads.length===0)return[];var a;return r==="hover"?a=e.itemInteraction.hover.dataKey:a=e.itemInteraction.click.dataKey,a==null&&n!=null?[e.tooltipItemPayloads[0]]:e.tooltipItemPayloads.filter(i=>{var l;return((l=i.settings)===null||l===void 0?void 0:l.dataKey)===a})},Qg=e=>e.options.tooltipPayloadSearcher,yp=e=>e.tooltip;function UT(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function zT(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?UT(Object(r),!0).forEach(function(n){upe(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):UT(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function upe(e,t,r){return(t=fpe(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function fpe(e){var t=dpe(e,"string");return typeof t=="symbol"?t:t+""}function dpe(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function hpe(e,t){return e??t}var G9=(e,t,r,n,a,i,l)=>{if(!(t==null||i==null)){var{chartData:o,computedData:u,dataStartIndex:f,dataEndIndex:h}=r,m=[];return e.reduce((g,x)=>{var b,{dataDefinedOnItem:v,settings:w}=x,N=hpe(v,o),E=Array.isArray(N)?BM(N,f,h):N,j=(b=w?.dataKey)!==null&&b!==void 0?b:n,T=w?.nameKey,O;if(n&&Array.isArray(E)&&!Array.isArray(E[0])&&l==="axis"?O=YL(E,n,a):O=i(E,t,u,T),Array.isArray(O))O.forEach(D=>{var M=zT(zT({},w),{},{name:D.name,unit:D.unit,color:void 0,fill:void 0});g.push(x8({tooltipEntrySettings:M,dataKey:D.dataKey,payload:D.payload,value:$n(D.payload,D.dataKey),name:D.name}))});else{var P;g.push(x8({tooltipEntrySettings:w,dataKey:j,payload:O,value:$n(O,j),name:(P=$n(O,T))!==null&&P!==void 0?P:w?.name}))}return g},m)}},oS=He([Ti,Gr,p9,Fj,Ci],E9),mpe=He([e=>e.graphicalItems.cartesianItems,e=>e.graphicalItems.polarItems],(e,t)=>[...e,...t]),ppe=He([Ci,mp],zj),Zg=He([mpe,Ti,ppe],qj,{memoizeOptions:{resultEqualityCheck:K2}}),xpe=He([Zg],e=>e.filter(V2)),gpe=He([Zg],$j,{memoizeOptions:{resultEqualityCheck:K2}}),bp=He([gpe,Kd],Hj),vpe=He([xpe,Kd,Ti],d9),cS=He([bp,Ti,Zg],Wj),Y9=He([Ti],Kj),ype=He([Ti],e=>e.allowDataOverflow),X9=He([Y9,ype],qR),bpe=He([Zg],e=>e.filter(V2)),wpe=He([vpe,bpe,Wg],y9),Npe=He([wpe,Kd,Ci,X9],b9),_pe=He([Zg],g9),jpe=He([bp,Ti,_pe,X2,Ci],Xj,{memoizeOptions:{resultEqualityCheck:W2}}),Spe=He([w9,Ci,mp],xp),Ape=He([Spe,Ci],j9),Epe=He([N9,Ci,mp],xp),kpe=He([Epe,Ci],S9),Cpe=He([_9,Ci,mp],xp),Tpe=He([Cpe,Ci],A9),Ope=He([Ape,Tpe,kpe],zy),Dpe=He([Ti,Y9,X9,Npe,jpe,Ope,Gr,Ci],Qj),Q9=He([Ti,Gr,bp,cS,Wg,Ci,Dpe],Zj),Fpe=He([Q9,Ti,oS],tS),Ppe=He([Ti,Q9,Fpe,Ci],nS),Z9=e=>{var t=Ci(e),r=mp(e),n=!1;return Xg(e,t,r,n)},J9=He([Ti,Z9],$2),eI=He([Ti,oS,Ppe,J9],eS),Lpe=He([Gr,cS,Ti,Ci],P9),Mpe=He([Gr,cS,Ti,Ci],L9),Rpe=(e,t,r,n,a,i,l,o)=>{if(t){var{type:u}=t,f=$d(e,o);if(n){var h=r==="scaleBand"&&n.bandwidth?n.bandwidth()/2:2,m=u==="category"&&n.bandwidth?n.bandwidth()/h:0;return m=o==="angleAxis"&&a!=null&&a?.length>=2?$i(a[0]-a[1])*2*m:m,f&&l?l.map((g,x)=>({coordinate:n(g)+m,value:g,index:x,offset:m})):n.domain().map((g,x)=>({coordinate:n(g)+m,value:i?i[g]:g,index:x,offset:m}))}}},Ff=He([Gr,Ti,oS,eI,Z9,Lpe,Mpe,Ci],Rpe),uS=He([R9,I9,Xme],(e,t,r)=>B9(r.shared,e,t)),tI=e=>e.tooltip.settings.trigger,fS=e=>e.tooltip.settings.defaultIndex,J2=He([yp,uS,tI,fS],V9),Fd=He([J2,bp],lS),rI=He([Ff,Fd],U9),nI=He([J2],e=>{if(e)return e.dataKey}),aI=He([yp,uS,tI,fS],K9),Ipe=He([kf,Cf,Gr,Ei,Ff,fS,aI,Qg],W9),Bpe=He([J2,Ipe],(e,t)=>e!=null&&e.coordinate?e.coordinate:t),Upe=He([J2],e=>e.active),zpe=He([aI,Fd,Kd,f9,rI,Qg,uS],G9),qpe=He([zpe],e=>{if(e!=null){var t=e.map(r=>r.payload).filter(r=>r!=null);return Array.from(new Set(t))}});function qT(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function $T(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?qT(Object(r),!0).forEach(function(n){$pe(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):qT(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function $pe(e,t,r){return(t=Hpe(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Hpe(e){var t=Vpe(e,"string");return typeof t=="symbol"?t:t+""}function Vpe(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Wpe=()=>Ht(Ti),Kpe=()=>{var e=Wpe(),t=Ht(Ff),r=Ht(eI);return fg($T($T({},e),{},{scale:r}),t)},Gpe=()=>Ht(Fj),dS=(e,t)=>t,iI=(e,t,r)=>r,hS=(e,t,r,n)=>n,Ype=He(Ff,e=>N2(e,t=>t.coordinate)),mS=He([yp,dS,iI,hS],V9),sI=He([mS,bp],lS),Xpe=(e,t,r)=>{if(t!=null){var n=yp(e);return t==="axis"?r==="hover"?n.axisInteraction.hover.dataKey:n.axisInteraction.click.dataKey:r==="hover"?n.itemInteraction.hover.dataKey:n.itemInteraction.click.dataKey}},lI=He([yp,dS,iI,hS],K9),qy=He([kf,Cf,Gr,Ei,Ff,hS,lI,Qg],W9),Qpe=He([mS,qy],(e,t)=>{var r;return(r=e.coordinate)!==null&&r!==void 0?r:t}),oI=He(Ff,sI,U9),Zpe=He([lI,sI,Kd,f9,oI,Qg,dS],G9),Jpe=He([mS],e=>({isActive:e.active,activeIndex:e.index})),exe=(e,t,r,n,a,i,l,o)=>{if(!(!e||!t||!n||!a||!i)){var u=Jce(e.chartX,e.chartY,t,r,o);if(u){var f=tue(u,t),h=Uce(f,l,i,n,a),m=eue(t,i,h,u);return{activeIndex:String(h),activeCoordinate:m}}}};function ZN(){return ZN=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},ZN.apply(null,arguments)}function HT(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function _v(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?HT(Object(r),!0).forEach(function(n){txe(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):HT(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function txe(e,t,r){return(t=rxe(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function rxe(e){var t=nxe(e,"string");return typeof t=="symbol"?t:t+""}function nxe(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function axe(e){var{coordinate:t,payload:r,index:n,offset:a,tooltipAxisBandSize:i,layout:l,cursor:o,tooltipEventType:u,chartName:f}=e,h=t,m=r,g=n;if(!o||!h||f!=="ScatterChart"&&u!=="axis")return null;var x,b;if(f==="ScatterChart")x=h,b=gfe;else if(f==="BarChart")x=vfe(l,h,a,i),b=nR;else if(l==="radial"){var{cx:v,cy:w,radius:N,startAngle:E,endAngle:j}=aR(h);x={cx:v,cy:w,startAngle:E,endAngle:j,innerRadius:N,outerRadius:N},b=sR}else x={points:tde(l,h,a)},b=sj;var T=typeof o=="object"&&"className"in o?o.className:void 0,O=_v(_v(_v(_v({stroke:"#ccc",pointerEvents:"none"},a),x),J0(o)),{},{payload:m,payloadIndex:g,className:ln("recharts-tooltip-cursor",T)});return k.isValidElement(o)?k.cloneElement(o,O):k.createElement(b,O)}function ixe(e){var t=Kpe(),r=GM(),n=F2(),a=Gpe();return k.createElement(axe,ZN({},e,{coordinate:e.coordinate,index:e.index,payload:e.payload,offset:r,layout:n,tooltipAxisBandSize:t,chartName:a}))}var cI=k.createContext(null),sxe=()=>k.useContext(cI),s4={exports:{}},VT;function lxe(){return VT||(VT=1,(function(e){var t=Object.prototype.hasOwnProperty,r="~";function n(){}Object.create&&(n.prototype=Object.create(null),new n().__proto__||(r=!1));function a(u,f,h){this.fn=u,this.context=f,this.once=h||!1}function i(u,f,h,m,g){if(typeof h!="function")throw new TypeError("The listener must be a function");var x=new a(h,m||u,g),b=r?r+f:f;return u._events[b]?u._events[b].fn?u._events[b]=[u._events[b],x]:u._events[b].push(x):(u._events[b]=x,u._eventsCount++),u}function l(u,f){--u._eventsCount===0?u._events=new n:delete u._events[f]}function o(){this._events=new n,this._eventsCount=0}o.prototype.eventNames=function(){var f=[],h,m;if(this._eventsCount===0)return f;for(m in h=this._events)t.call(h,m)&&f.push(r?m.slice(1):m);return Object.getOwnPropertySymbols?f.concat(Object.getOwnPropertySymbols(h)):f},o.prototype.listeners=function(f){var h=r?r+f:f,m=this._events[h];if(!m)return[];if(m.fn)return[m.fn];for(var g=0,x=m.length,b=new Array(x);g<x;g++)b[g]=m[g].fn;return b},o.prototype.listenerCount=function(f){var h=r?r+f:f,m=this._events[h];return m?m.fn?1:m.length:0},o.prototype.emit=function(f,h,m,g,x,b){var v=r?r+f:f;if(!this._events[v])return!1;var w=this._events[v],N=arguments.length,E,j;if(w.fn){switch(w.once&&this.removeListener(f,w.fn,void 0,!0),N){case 1:return w.fn.call(w.context),!0;case 2:return w.fn.call(w.context,h),!0;case 3:return w.fn.call(w.context,h,m),!0;case 4:return w.fn.call(w.context,h,m,g),!0;case 5:return w.fn.call(w.context,h,m,g,x),!0;case 6:return w.fn.call(w.context,h,m,g,x,b),!0}for(j=1,E=new Array(N-1);j<N;j++)E[j-1]=arguments[j];w.fn.apply(w.context,E)}else{var T=w.length,O;for(j=0;j<T;j++)switch(w[j].once&&this.removeListener(f,w[j].fn,void 0,!0),N){case 1:w[j].fn.call(w[j].context);break;case 2:w[j].fn.call(w[j].context,h);break;case 3:w[j].fn.call(w[j].context,h,m);break;case 4:w[j].fn.call(w[j].context,h,m,g);break;default:if(!E)for(O=1,E=new Array(N-1);O<N;O++)E[O-1]=arguments[O];w[j].fn.apply(w[j].context,E)}}return!0},o.prototype.on=function(f,h,m){return i(this,f,h,m,!1)},o.prototype.once=function(f,h,m){return i(this,f,h,m,!0)},o.prototype.removeListener=function(f,h,m,g){var x=r?r+f:f;if(!this._events[x])return this;if(!h)return l(this,x),this;var b=this._events[x];if(b.fn)b.fn===h&&(!g||b.once)&&(!m||b.context===m)&&l(this,x);else{for(var v=0,w=[],N=b.length;v<N;v++)(b[v].fn!==h||g&&!b[v].once||m&&b[v].context!==m)&&w.push(b[v]);w.length?this._events[x]=w.length===1?w[0]:w:l(this,x)}return this},o.prototype.removeAllListeners=function(f){var h;return f?(h=r?r+f:f,this._events[h]&&l(this,h)):(this._events=new n,this._eventsCount=0),this},o.prototype.off=o.prototype.removeListener,o.prototype.addListener=o.prototype.on,o.prefixed=r,o.EventEmitter=o,e.exports=o})(s4)),s4.exports}var oxe=lxe();const cxe=_f(oxe);var yg=new cxe,JN="recharts.syncEvent.tooltip",WT="recharts.syncEvent.brush";function pS(e,t){if(t){var r=Number.parseInt(t,10);if(!$o(r))return e?.[r]}}var uxe={chartName:"",tooltipPayloadSearcher:void 0,eventEmitter:void 0,defaultTooltipEventType:"axis"},uI=lo({name:"options",initialState:uxe,reducers:{createEventEmitter:e=>{e.eventEmitter==null&&(e.eventEmitter=Symbol("rechartsEventEmitter"))}}}),fxe=uI.reducer,{createEventEmitter:dxe}=uI.actions;function hxe(e){return e.tooltip.syncInteraction}var mxe={chartData:void 0,computedData:void 0,dataStartIndex:0,dataEndIndex:0},fI=lo({name:"chartData",initialState:mxe,reducers:{setChartData(e,t){if(e.chartData=t.payload,t.payload==null){e.dataStartIndex=0,e.dataEndIndex=0;return}t.payload.length>0&&e.dataEndIndex!==t.payload.length-1&&(e.dataEndIndex=t.payload.length-1)},setComputedData(e,t){e.computedData=t.payload},setDataStartEndIndexes(e,t){var{startIndex:r,endIndex:n}=t.payload;r!=null&&(e.dataStartIndex=r),n!=null&&(e.dataEndIndex=n)}}}),{setChartData:KT,setDataStartEndIndexes:pxe,setComputedData:x3e}=fI.actions,xxe=fI.reducer,gxe=["x","y"];function GT(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function gm(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?GT(Object(r),!0).forEach(function(n){vxe(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):GT(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function vxe(e,t,r){return(t=yxe(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function yxe(e){var t=bxe(e,"string");return typeof t=="symbol"?t:t+""}function bxe(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function wxe(e,t){if(e==null)return{};var r,n,a=Nxe(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}function Nxe(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}var dI=()=>{};function _xe(){var e=Ht(Pj),t=Ht(Lj),r=ma(),n=Ht(i9),a=Ht(Ff),i=F2(),l=D2(),o=Ht(u=>u.rootProps.className);k.useEffect(()=>{if(e==null)return dI;var u=(f,h,m)=>{if(t!==m&&e===f){if(n==="index"){var g;if(l&&h!==null&&h!==void 0&&(g=h.payload)!==null&&g!==void 0&&g.coordinate&&h.payload.sourceViewBox){var x=h.payload.coordinate,{x:b,y:v}=x,w=wxe(x,gxe),{x:N,y:E,width:j,height:T}=h.payload.sourceViewBox,O=gm(gm({},w),{},{x:l.x+(j?(b-N)/j:0)*l.width,y:l.y+(T?(v-E)/T:0)*l.height});r(gm(gm({},h),{},{payload:gm(gm({},h.payload),{},{coordinate:O})}))}else r(h);return}if(a!=null){var P;if(typeof n=="function"){var D={activeTooltipIndex:h.payload.index==null?void 0:Number(h.payload.index),isTooltipActive:h.payload.active,activeIndex:h.payload.index==null?void 0:Number(h.payload.index),activeLabel:h.payload.label,activeDataKey:h.payload.dataKey,activeCoordinate:h.payload.coordinate},M=n(a,D);P=a[M]}else n==="value"&&(P=a.find(ne=>String(ne.value)===h.payload.label));var{coordinate:B}=h.payload;if(P==null||h.payload.active===!1||B==null||l==null){r(XN({active:!1,coordinate:void 0,dataKey:void 0,index:null,label:void 0,sourceViewBox:void 0}));return}var{x:H,y:L}=B,U=Math.min(H,l.x+l.width),G=Math.min(L,l.y+l.height),te={x:i==="horizontal"?P.coordinate:U,y:i==="horizontal"?G:P.coordinate},de=XN({active:h.payload.active,coordinate:te,dataKey:h.payload.dataKey,index:String(P.index),label:h.payload.label,sourceViewBox:h.payload.sourceViewBox});r(de)}}};return yg.on(JN,u),()=>{yg.off(JN,u)}},[o,r,t,e,n,a,i,l])}function jxe(){var e=Ht(Pj),t=Ht(Lj),r=ma();k.useEffect(()=>{if(e==null)return dI;var n=(a,i,l)=>{t!==l&&e===a&&r(pxe(i))};return yg.on(WT,n),()=>{yg.off(WT,n)}},[r,t,e])}function Sxe(){var e=ma();k.useEffect(()=>{e(dxe())},[e]),_xe(),jxe()}function Axe(e,t,r,n,a,i){var l=Ht(x=>Xpe(x,e,t)),o=Ht(Lj),u=Ht(Pj),f=Ht(i9),h=Ht(hxe),m=h?.active,g=D2();k.useEffect(()=>{if(!m&&u!=null&&o!=null){var x=XN({active:i,coordinate:r,dataKey:l,index:a,label:typeof n=="number"?String(n):n,sourceViewBox:g});yg.emit(JN,u,x,o)}},[m,r,l,a,n,o,u,f,i,g])}function YT(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function XT(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?YT(Object(r),!0).forEach(function(n){Exe(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):YT(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Exe(e,t,r){return(t=kxe(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function kxe(e){var t=Cxe(e,"string");return typeof t=="symbol"?t:t+""}function Cxe(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Txe(e){return e.dataKey}function Oxe(e,t){return k.isValidElement(e)?k.cloneElement(e,t):typeof e=="function"?k.createElement(e,t):k.createElement(Yue,t)}var QT=[],Dxe={allowEscapeViewBox:{x:!1,y:!1},animationDuration:400,animationEasing:"ease",axisId:0,contentStyle:{},cursor:!0,filterNull:!0,isAnimationActive:!Hd.isSsr,itemSorter:"name",itemStyle:{},labelStyle:{},offset:10,reverseDirection:{x:!1,y:!1},separator:" : ",trigger:"hover",useTranslate3d:!1,wrapperStyle:{}};function l4(e){var t=cs(e,Dxe),{active:r,allowEscapeViewBox:n,animationDuration:a,animationEasing:i,content:l,filterNull:o,isAnimationActive:u,offset:f,payloadUniqBy:h,position:m,reverseDirection:g,useTranslate3d:x,wrapperStyle:b,cursor:v,shared:w,trigger:N,defaultIndex:E,portal:j,axisId:T}=t,O=ma(),P=typeof E=="number"?String(E):E;k.useEffect(()=>{O(epe({shared:w,trigger:N,axisId:T,active:r,defaultIndex:P}))},[O,w,N,T,r,P]);var D=D2(),M=ZM(),B=Yme(w),{activeIndex:H,isActive:L}=Ht(W=>Jpe(W,B,N,P)),U=Ht(W=>Zpe(W,B,N,P)),G=Ht(W=>oI(W,B,N,P)),te=Ht(W=>Qpe(W,B,N,P)),de=U,ne=sxe(),Z=r??L,[xe,le]=fM([de,Z]),Se=B==="axis"?G:void 0;Axe(B,N,te,Se,H,Z);var re=j??ne;if(re==null)return null;var R=de??QT;Z||(R=QT),o&&R.length&&(R=sM(de.filter(W=>W.value!=null&&(W.hide!==!0||t.includeHidden)),h,Txe));var F=R.length>0,q=k.createElement(rfe,{allowEscapeViewBox:n,animationDuration:a,animationEasing:i,isAnimationActive:u,active:Z,coordinate:te,hasPayload:F,offset:f,position:m,reverseDirection:g,useTranslate3d:x,viewBox:D,wrapperStyle:b,lastBoundingBox:xe,innerRef:le,hasPortalFromProps:!!j},Oxe(l,XT(XT({},t),{},{payload:R,label:Se,active:Z,coordinate:te,accessibilityLayer:M})));return k.createElement(k.Fragment,null,KD.createPortal(q,re),Z&&k.createElement(ixe,{cursor:v,tooltipEventType:B,coordinate:te,payload:de,index:H}))}var Jg=e=>null;Jg.displayName="Cell";function Fxe(e,t,r){return(t=Pxe(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Pxe(e){var t=Lxe(e,"string");return typeof t=="symbol"?t:t+""}function Lxe(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}class Mxe{constructor(t){Fxe(this,"cache",new Map),this.maxSize=t}get(t){var r=this.cache.get(t);return r!==void 0&&(this.cache.delete(t),this.cache.set(t,r)),r}set(t,r){if(this.cache.has(t))this.cache.delete(t);else if(this.cache.size>=this.maxSize){var n=this.cache.keys().next().value;this.cache.delete(n)}this.cache.set(t,r)}clear(){this.cache.clear()}size(){return this.cache.size}}function ZT(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function Rxe(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?ZT(Object(r),!0).forEach(function(n){Ixe(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):ZT(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Ixe(e,t,r){return(t=Bxe(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Bxe(e){var t=Uxe(e,"string");return typeof t=="symbol"?t:t+""}function Uxe(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var zxe={cacheSize:2e3,enableCache:!0},hI=Rxe({},zxe),JT=new Mxe(hI.cacheSize),qxe={position:"absolute",top:"-20000px",left:0,padding:0,margin:0,border:"none",whiteSpace:"pre"},eO="recharts_measurement_span";function $xe(e,t){var r=t.fontSize||"",n=t.fontFamily||"",a=t.fontWeight||"",i=t.fontStyle||"",l=t.letterSpacing||"",o=t.textTransform||"";return"".concat(e,"|").concat(r,"|").concat(n,"|").concat(a,"|").concat(i,"|").concat(l,"|").concat(o)}var tO=(e,t)=>{try{var r=document.getElementById(eO);r||(r=document.createElement("span"),r.setAttribute("id",eO),r.setAttribute("aria-hidden","true"),document.body.appendChild(r)),Object.assign(r.style,qxe,t),r.textContent="".concat(e);var n=r.getBoundingClientRect();return{width:n.width,height:n.height}}catch{return{width:0,height:0}}},Px=function(t){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(t==null||Hd.isSsr)return{width:0,height:0};if(!hI.enableCache)return tO(t,r);var n=$xe(t,r),a=JT.get(n);if(a)return a;var i=tO(t,r);return JT.set(n,i),i},rO=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([*/])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,nO=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([+-])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,Hxe=/^px|cm|vh|vw|em|rem|%|mm|in|pt|pc|ex|ch|vmin|vmax|Q$/,Vxe=/(-?\d+(?:\.\d+)?)([a-zA-Z%]+)?/,mI={cm:96/2.54,mm:96/25.4,pt:96/72,pc:96/6,in:96,Q:96/(2.54*40),px:1},Wxe=Object.keys(mI),Sm="NaN";function Kxe(e,t){return e*mI[t]}class Sl{static parse(t){var r,[,n,a]=(r=Vxe.exec(t))!==null&&r!==void 0?r:[];return new Sl(parseFloat(n),a??"")}constructor(t,r){this.num=t,this.unit=r,this.num=t,this.unit=r,$o(t)&&(this.unit=""),r!==""&&!Hxe.test(r)&&(this.num=NaN,this.unit=""),Wxe.includes(r)&&(this.num=Kxe(t,r),this.unit="px")}add(t){return this.unit!==t.unit?new Sl(NaN,""):new Sl(this.num+t.num,this.unit)}subtract(t){return this.unit!==t.unit?new Sl(NaN,""):new Sl(this.num-t.num,this.unit)}multiply(t){return this.unit!==""&&t.unit!==""&&this.unit!==t.unit?new Sl(NaN,""):new Sl(this.num*t.num,this.unit||t.unit)}divide(t){return this.unit!==""&&t.unit!==""&&this.unit!==t.unit?new Sl(NaN,""):new Sl(this.num/t.num,this.unit||t.unit)}toString(){return"".concat(this.num).concat(this.unit)}isNaN(){return $o(this.num)}}function pI(e){if(e.includes(Sm))return Sm;for(var t=e;t.includes("*")||t.includes("/");){var r,[,n,a,i]=(r=rO.exec(t))!==null&&r!==void 0?r:[],l=Sl.parse(n??""),o=Sl.parse(i??""),u=a==="*"?l.multiply(o):l.divide(o);if(u.isNaN())return Sm;t=t.replace(rO,u.toString())}for(;t.includes("+")||/.-\d+(?:\.\d+)?/.test(t);){var f,[,h,m,g]=(f=nO.exec(t))!==null&&f!==void 0?f:[],x=Sl.parse(h??""),b=Sl.parse(g??""),v=m==="+"?x.add(b):x.subtract(b);if(v.isNaN())return Sm;t=t.replace(nO,v.toString())}return t}var aO=/\(([^()]*)\)/;function Gxe(e){for(var t=e,r;(r=aO.exec(t))!=null;){var[,n]=r;t=t.replace(aO,pI(n))}return t}function Yxe(e){var t=e.replace(/\s+/g,"");return t=Gxe(t),t=pI(t),t}function Xxe(e){try{return Yxe(e)}catch{return Sm}}function o4(e){var t=Xxe(e.slice(5,-1));return t===Sm?"":t}var Qxe=["x","y","lineHeight","capHeight","scaleToFit","textAnchor","verticalAnchor","fill"],Zxe=["dx","dy","angle","className","breakAll"];function e_(){return e_=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},e_.apply(null,arguments)}function iO(e,t){if(e==null)return{};var r,n,a=Jxe(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}function Jxe(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}var xI=/[ \f\n\r\t\v\u2028\u2029]+/,gI=e=>{var{children:t,breakAll:r,style:n}=e;try{var a=[];ha(t)||(r?a=t.toString().split(""):a=t.toString().split(xI));var i=a.map(o=>({word:o,width:Px(o,n).width})),l=r?0:Px("",n).width;return{wordsWithComputedWidth:i,spaceWidth:l}}catch{return null}},ege=(e,t,r,n,a)=>{var{maxLines:i,children:l,style:o,breakAll:u}=e,f=Qt(i),h=l,m=function(){var L=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[];return L.reduce((U,G)=>{var{word:te,width:de}=G,ne=U[U.length-1];if(ne&&(n==null||a||ne.width+de+r<Number(n)))ne.words.push(te),ne.width+=de+r;else{var Z={words:[te],width:de};U.push(Z)}return U},[])},g=m(t),x=H=>H.reduce((L,U)=>L.width>U.width?L:U);if(!f||a)return g;var b=g.length>i||x(g).width>Number(n);if(!b)return g;for(var v="",w=H=>{var L=h.slice(0,H),U=gI({breakAll:u,style:o,children:L+v}).wordsWithComputedWidth,G=m(U),te=G.length>i||x(G).width>Number(n);return[te,G]},N=0,E=h.length-1,j=0,T;N<=E&&j<=h.length-1;){var O=Math.floor((N+E)/2),P=O-1,[D,M]=w(P),[B]=w(O);if(!D&&!B&&(N=O+1),D&&B&&(E=O-1),!D&&B){T=M;break}j++}return T||g},sO=e=>{var t=ha(e)?[]:e.toString().split(xI);return[{words:t}]},tge=e=>{var{width:t,scaleToFit:r,children:n,style:a,breakAll:i,maxLines:l}=e;if((t||r)&&!Hd.isSsr){var o,u,f=gI({breakAll:i,children:n,style:a});if(f){var{wordsWithComputedWidth:h,spaceWidth:m}=f;o=h,u=m}else return sO(n);return ege({breakAll:i,children:n,maxLines:l,style:a},o,u,t,r)}return sO(n)},lO="#808080",eb=k.forwardRef((e,t)=>{var{x:r=0,y:n=0,lineHeight:a="1em",capHeight:i="0.71em",scaleToFit:l=!1,textAnchor:o="start",verticalAnchor:u="end",fill:f=lO}=e,h=iO(e,Qxe),m=k.useMemo(()=>tge({breakAll:h.breakAll,children:h.children,maxLines:h.maxLines,scaleToFit:l,style:h.style,width:h.width}),[h.breakAll,h.children,h.maxLines,l,h.style,h.width]),{dx:g,dy:x,angle:b,className:v,breakAll:w}=h,N=iO(h,Zxe);if(!mu(r)||!mu(n)||m.length===0)return null;var E=r+(Qt(g)?g:0),j=n+(Qt(x)?x:0),T;switch(u){case"start":T=o4("calc(".concat(i,")"));break;case"middle":T=o4("calc(".concat((m.length-1)/2," * -").concat(a," + (").concat(i," / 2))"));break;default:T=o4("calc(".concat(m.length-1," * -").concat(a,")"));break}var O=[];if(l){var P=m[0].width,{width:D}=h;O.push("scale(".concat(Qt(D)?D/P:1,")"))}return b&&O.push("rotate(".concat(b,", ").concat(E,", ").concat(j,")")),O.length&&(N.transform=O.join(" ")),k.createElement("text",e_({},nl(N),{ref:t,x:E,y:j,className:ln("recharts-text",v),textAnchor:o,fill:f.includes("url")?lO:f}),m.map((M,B)=>{var H=M.words.join(w?"":" ");return k.createElement("tspan",{x:E,dy:B===0?T:a,key:"".concat(H,"-").concat(B)},H)}))});eb.displayName="Text";var rge=["labelRef"];function nge(e,t){if(e==null)return{};var r,n,a=age(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}function age(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}function oO(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function Va(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?oO(Object(r),!0).forEach(function(n){ige(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):oO(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function ige(e,t,r){return(t=sge(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function sge(e){var t=lge(e,"string");return typeof t=="symbol"?t:t+""}function lge(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Zu(){return Zu=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Zu.apply(null,arguments)}var vI=k.createContext(null),oge=e=>{var{x:t,y:r,width:n,height:a,children:i}=e,l=k.useMemo(()=>({x:t,y:r,width:n,height:a}),[t,r,n,a]);return k.createElement(vI.Provider,{value:l},i)},yI=()=>{var e=k.useContext(vI),t=D2();return e||t},cge=k.createContext(null),uge=()=>{var e=k.useContext(cge),t=Ht(u9);return e||t},fge=e=>{var{value:t,formatter:r}=e,n=ha(e.children)?t:e.children;return typeof r=="function"?r(n):n},xS=e=>e!=null&&typeof e=="function",dge=(e,t)=>{var r=$i(t-e),n=Math.min(Math.abs(t-e),360);return r*n},hge=(e,t,r,n,a)=>{var{offset:i,className:l}=e,{cx:o,cy:u,innerRadius:f,outerRadius:h,startAngle:m,endAngle:g,clockWise:x}=a,b=(f+h)/2,v=dge(m,g),w=v>=0?1:-1,N,E;switch(t){case"insideStart":N=m+w*i,E=x;break;case"insideEnd":N=g-w*i,E=!x;break;case"end":N=g+w*i,E=x;break;default:throw new Error("Unsupported position ".concat(t))}E=v<=0?E:!E;var j=li(o,u,b,N),T=li(o,u,b,N+(E?1:-1)*359),O="M".concat(j.x,",").concat(j.y,`
    A`).concat(b,",").concat(b,",0,1,").concat(E?0:1,`,
    `).concat(T.x,",").concat(T.y),P=ha(e.id)?lg("recharts-radial-line-"):e.id;return k.createElement("text",Zu({},n,{dominantBaseline:"central",className:ln("recharts-radial-bar-label",l)}),k.createElement("defs",null,k.createElement("path",{id:P,d:O})),k.createElement("textPath",{xlinkHref:"#".concat(P)},r))},mge=(e,t,r)=>{var{cx:n,cy:a,innerRadius:i,outerRadius:l,startAngle:o,endAngle:u}=e,f=(o+u)/2;if(r==="outside"){var{x:h,y:m}=li(n,a,l+t,f);return{x:h,y:m,textAnchor:h>=n?"start":"end",verticalAnchor:"middle"}}if(r==="center")return{x:n,y:a,textAnchor:"middle",verticalAnchor:"middle"};if(r==="centerTop")return{x:n,y:a,textAnchor:"middle",verticalAnchor:"start"};if(r==="centerBottom")return{x:n,y:a,textAnchor:"middle",verticalAnchor:"end"};var g=(i+l)/2,{x,y:b}=li(n,a,g,f);return{x,y:b,textAnchor:"middle",verticalAnchor:"middle"}},bI=e=>"cx"in e&&Qt(e.cx),pge=(e,t)=>{var{parentViewBox:r,offset:n,position:a}=e,i;r!=null&&!bI(r)&&(i=r);var{x:l,y:o,width:u,height:f}=t,h=f>=0?1:-1,m=h*n,g=h>0?"end":"start",x=h>0?"start":"end",b=u>=0?1:-1,v=b*n,w=b>0?"end":"start",N=b>0?"start":"end";if(a==="top"){var E={x:l+u/2,y:o-h*n,textAnchor:"middle",verticalAnchor:g};return Va(Va({},E),i?{height:Math.max(o-i.y,0),width:u}:{})}if(a==="bottom"){var j={x:l+u/2,y:o+f+m,textAnchor:"middle",verticalAnchor:x};return Va(Va({},j),i?{height:Math.max(i.y+i.height-(o+f),0),width:u}:{})}if(a==="left"){var T={x:l-v,y:o+f/2,textAnchor:w,verticalAnchor:"middle"};return Va(Va({},T),i?{width:Math.max(T.x-i.x,0),height:f}:{})}if(a==="right"){var O={x:l+u+v,y:o+f/2,textAnchor:N,verticalAnchor:"middle"};return Va(Va({},O),i?{width:Math.max(i.x+i.width-O.x,0),height:f}:{})}var P=i?{width:u,height:f}:{};return a==="insideLeft"?Va({x:l+v,y:o+f/2,textAnchor:N,verticalAnchor:"middle"},P):a==="insideRight"?Va({x:l+u-v,y:o+f/2,textAnchor:w,verticalAnchor:"middle"},P):a==="insideTop"?Va({x:l+u/2,y:o+m,textAnchor:"middle",verticalAnchor:x},P):a==="insideBottom"?Va({x:l+u/2,y:o+f-m,textAnchor:"middle",verticalAnchor:g},P):a==="insideTopLeft"?Va({x:l+v,y:o+m,textAnchor:N,verticalAnchor:x},P):a==="insideTopRight"?Va({x:l+u-v,y:o+m,textAnchor:w,verticalAnchor:x},P):a==="insideBottomLeft"?Va({x:l+v,y:o+f-m,textAnchor:N,verticalAnchor:g},P):a==="insideBottomRight"?Va({x:l+u-v,y:o+f-m,textAnchor:w,verticalAnchor:g},P):a&&typeof a=="object"&&(Qt(a.x)||gf(a.x))&&(Qt(a.y)||gf(a.y))?Va({x:l+Os(a.x,u),y:o+Os(a.y,f),textAnchor:"end",verticalAnchor:"end"},P):Va({x:l+u/2,y:o+f/2,textAnchor:"middle",verticalAnchor:"middle"},P)},xge={offset:5};function yd(e){var t=cs(e,xge),{viewBox:r,position:n,value:a,children:i,content:l,className:o="",textBreakAll:u,labelRef:f}=t,h=uge(),m=yI(),g=n==="center"?m:h??m,x=r||g;if(!x||ha(a)&&ha(i)&&!k.isValidElement(l)&&typeof l!="function")return null;var b=Va(Va({},t),{},{viewBox:x});if(k.isValidElement(l)){var{labelRef:v}=b,w=nge(b,rge);return k.cloneElement(l,w)}var N;if(typeof l=="function"){if(N=k.createElement(l,b),k.isValidElement(N))return N}else N=fge(t);var E=bI(x),j=nl(t);if(E&&(n==="insideStart"||n==="insideEnd"||n==="end"))return hge(t,n,N,j,x);var T=E?mge(x,t.offset,t.position):pge(t,x);return k.createElement(eb,Zu({ref:f,className:ln("recharts-label",o)},j,T,{breakAll:u}),N)}yd.displayName="Label";var gge=(e,t,r)=>{if(!e)return null;var n={viewBox:t,labelRef:r};return e===!0?k.createElement(yd,Zu({key:"label-implicit"},n)):mu(e)?k.createElement(yd,Zu({key:"label-implicit",value:e},n)):k.isValidElement(e)?e.type===yd?k.cloneElement(e,Va({key:"label-implicit"},n)):k.createElement(yd,Zu({key:"label-implicit",content:e},n)):xS(e)?k.createElement(yd,Zu({key:"label-implicit",content:e},n)):e&&typeof e=="object"?k.createElement(yd,Zu({},e,{key:"label-implicit"},n)):null};function vge(e){var{label:t,labelRef:r}=e,n=yI();return gge(t,n,r)||null}var c4={},u4={},cO;function yge(){return cO||(cO=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){return r[r.length-1]}e.last=t})(u4)),u4}var f4={},uO;function bge(){return uO||(uO=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){return Array.isArray(r)?r:Array.from(r)}e.toArray=t})(f4)),f4}var fO;function wge(){return fO||(fO=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=yge(),r=bge(),n=G3();function a(i){if(n.isArrayLike(i))return t.last(r.toArray(i))}e.last=a})(c4)),c4}var d4,dO;function Nge(){return dO||(dO=1,d4=wge().last),d4}var _ge=Nge();const jge=_f(_ge);var Sge=["valueAccessor"],Age=["dataKey","clockWise","id","textBreakAll"];function $y(){return $y=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},$y.apply(null,arguments)}function hO(e,t){if(e==null)return{};var r,n,a=Ege(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}function Ege(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}var kge=e=>Array.isArray(e.value)?jge(e.value):e.value,wI=k.createContext(void 0),NI=wI.Provider,_I=k.createContext(void 0),Cge=_I.Provider;function Tge(){return k.useContext(wI)}function Oge(){return k.useContext(_I)}function Bv(e){var{valueAccessor:t=kge}=e,r=hO(e,Sge),{dataKey:n,clockWise:a,id:i,textBreakAll:l}=r,o=hO(r,Age),u=Tge(),f=Oge(),h=u||f;return!h||!h.length?null:k.createElement(os,{className:"recharts-label-list"},h.map((m,g)=>{var x,b=ha(n)?t(m,g):$n(m&&m.payload,n),v=ha(i)?{}:{id:"".concat(i,"-").concat(g)};return k.createElement(yd,$y({key:"label-".concat(g)},nl(m),o,v,{fill:(x=r.fill)!==null&&x!==void 0?x:m.fill,parentViewBox:m.parentViewBox,value:b,textBreakAll:l,viewBox:m.viewBox,index:g}))}))}Bv.displayName="LabelList";function gS(e){var{label:t}=e;return t?t===!0?k.createElement(Bv,{key:"labelList-implicit"}):k.isValidElement(t)||xS(t)?k.createElement(Bv,{key:"labelList-implicit",content:t}):typeof t=="object"?k.createElement(Bv,$y({key:"labelList-implicit"},t,{type:String(t.type)})):null:null}function t_(){return t_=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},t_.apply(null,arguments)}var jI=e=>{var{cx:t,cy:r,r:n,className:a}=e,i=ln("recharts-dot",a);return t===+t&&r===+r&&n===+n?k.createElement("circle",t_({},ao(e),V3(e),{className:i,cx:t,cy:r,r:n})):null},SI=e=>e.graphicalItems.polarItems,Dge=He([pa,Kg],zj),tb=He([SI,Ea,Dge],qj),Fge=He([tb],$j),rb=He([Fge,Tj],Hj),Pge=He([rb,Ea,tb],Wj);He([rb,Ea,tb],(e,t,r)=>r.length>0?e.flatMap(n=>r.flatMap(a=>{var i,l=$n(n,(i=t.dataKey)!==null&&i!==void 0?i:a.dataKey);return{value:l,errorDomain:[]}})).filter(Boolean):t?.dataKey!=null?e.map(n=>({value:$n(n,t.dataKey),errorDomain:[]})):e.map(n=>({value:n,errorDomain:[]})));var mO=()=>{},Lge=He([rb,Ea,tb,X2,pa],Xj),Mge=He([Ea,Gj,Yj,mO,Lge,mO,Gr,pa],Qj),AI=He([Ea,Gr,rb,Pge,Wg,pa,Mge],Zj),Rge=He([AI,Ea,gp],tS);He([Ea,AI,Rge,pa],nS);var Ige={radiusAxis:{},angleAxis:{}},EI=lo({name:"polarAxis",initialState:Ige,reducers:{addRadiusAxis(e,t){e.radiusAxis[t.payload.id]=t.payload},removeRadiusAxis(e,t){delete e.radiusAxis[t.payload.id]},addAngleAxis(e,t){e.angleAxis[t.payload.id]=t.payload},removeAngleAxis(e,t){delete e.angleAxis[t.payload.id]}}}),{addRadiusAxis:g3e,removeRadiusAxis:v3e,addAngleAxis:y3e,removeAngleAxis:b3e}=EI.actions,Bge=EI.reducer;function pO(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function xO(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?pO(Object(r),!0).forEach(function(n){Uge(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):pO(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Uge(e,t,r){return(t=zge(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function zge(e){var t=qge(e,"string");return typeof t=="symbol"?t:t+""}function qge(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var $ge=(e,t)=>t,vS=He([SI,$ge],(e,t)=>e.filter(r=>r.type==="pie").find(r=>r.id===t)),Hge=[],yS=(e,t,r)=>r?.length===0?Hge:r,kI=He([Tj,vS,yS],(e,t,r)=>{var{chartData:n}=e;if(t!=null){var a;if(t?.data!=null&&t.data.length>0?a=t.data:a=n,(!a||!a.length)&&r!=null&&(a=r.map(i=>xO(xO({},t.presentationProps),i.props))),a!=null)return a}}),Vge=He([kI,vS,yS],(e,t,r)=>{if(!(e==null||t==null))return e.map((n,a)=>{var i,l=$n(n,t.nameKey,t.name),o;return r!=null&&(i=r[a])!==null&&i!==void 0&&(i=i.props)!==null&&i!==void 0&&i.fill?o=r[a].props.fill:typeof n=="object"&&n!=null&&"fill"in n?o=n.fill:o=t.fill,{value:up(l,t.dataKey),color:o,payload:n,type:t.legendType}})}),Wge=He([kI,vS,yS,Ei],(e,t,r,n)=>{if(!(t==null||e==null))return W1e({offset:n,pieSettings:t,displayedData:e,cells:r})}),h4={exports:{}},On={};/**
 * @license React
 * react-is.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var gO;function Kge(){if(gO)return On;gO=1;var e=Symbol.for("react.transitional.element"),t=Symbol.for("react.portal"),r=Symbol.for("react.fragment"),n=Symbol.for("react.strict_mode"),a=Symbol.for("react.profiler"),i=Symbol.for("react.consumer"),l=Symbol.for("react.context"),o=Symbol.for("react.forward_ref"),u=Symbol.for("react.suspense"),f=Symbol.for("react.suspense_list"),h=Symbol.for("react.memo"),m=Symbol.for("react.lazy"),g=Symbol.for("react.view_transition"),x=Symbol.for("react.client.reference");function b(v){if(typeof v=="object"&&v!==null){var w=v.$$typeof;switch(w){case e:switch(v=v.type,v){case r:case a:case n:case u:case f:case g:return v;default:switch(v=v&&v.$$typeof,v){case l:case o:case m:case h:return v;case i:return v;default:return w}}case t:return w}}}return On.ContextConsumer=i,On.ContextProvider=l,On.Element=e,On.ForwardRef=o,On.Fragment=r,On.Lazy=m,On.Memo=h,On.Portal=t,On.Profiler=a,On.StrictMode=n,On.Suspense=u,On.SuspenseList=f,On.isContextConsumer=function(v){return b(v)===i},On.isContextProvider=function(v){return b(v)===l},On.isElement=function(v){return typeof v=="object"&&v!==null&&v.$$typeof===e},On.isForwardRef=function(v){return b(v)===o},On.isFragment=function(v){return b(v)===r},On.isLazy=function(v){return b(v)===m},On.isMemo=function(v){return b(v)===h},On.isPortal=function(v){return b(v)===t},On.isProfiler=function(v){return b(v)===a},On.isStrictMode=function(v){return b(v)===n},On.isSuspense=function(v){return b(v)===u},On.isSuspenseList=function(v){return b(v)===f},On.isValidElementType=function(v){return typeof v=="string"||typeof v=="function"||v===r||v===a||v===n||v===u||v===f||typeof v=="object"&&v!==null&&(v.$$typeof===m||v.$$typeof===h||v.$$typeof===l||v.$$typeof===i||v.$$typeof===o||v.$$typeof===x||v.getModuleId!==void 0)},On.typeOf=b,On}var vO;function Gge(){return vO||(vO=1,h4.exports=Kge()),h4.exports}var Yge=Gge(),yO=e=>typeof e=="string"?e:e?e.displayName||e.name||"Component":"",bO=null,m4=null,CI=e=>{if(e===bO&&Array.isArray(m4))return m4;var t=[];return k.Children.forEach(e,r=>{ha(r)||(Yge.isFragment(r)?t=t.concat(CI(r.props.children)):t.push(r))}),m4=t,bO=e,t};function bS(e,t){var r=[],n=[];return Array.isArray(t)?n=t.map(a=>yO(a)):n=[yO(t)],CI(e).forEach(a=>{var i=eh(a,"type.displayName")||eh(a,"type.name");n.indexOf(i)!==-1&&r.push(a)}),r}var TI=e=>e&&typeof e=="object"&&"clipDot"in e?!!e.clipDot:!0,p4={},wO;function Xge(){return wO||(wO=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){if(typeof r!="object"||r==null)return!1;if(Object.getPrototypeOf(r)===null)return!0;if(Object.prototype.toString.call(r)!=="[object Object]"){const a=r[Symbol.toStringTag];return a==null||!Object.getOwnPropertyDescriptor(r,Symbol.toStringTag)?.writable?!1:r.toString()===`[object ${a}]`}let n=r;for(;Object.getPrototypeOf(n)!==null;)n=Object.getPrototypeOf(n);return Object.getPrototypeOf(r)===n}e.isPlainObject=t})(p4)),p4}var x4,NO;function Qge(){return NO||(NO=1,x4=Xge().isPlainObject),x4}var Zge=Qge();const Jge=_f(Zge);function _O(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function jO(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?_O(Object(r),!0).forEach(function(n){e1e(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):_O(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function e1e(e,t,r){return(t=t1e(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function t1e(e){var t=r1e(e,"string");return typeof t=="symbol"?t:t+""}function r1e(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Hy(){return Hy=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Hy.apply(null,arguments)}var SO=(e,t,r,n,a)=>{var i=r-n,l;return l="M ".concat(e,",").concat(t),l+="L ".concat(e+r,",").concat(t),l+="L ".concat(e+r-i/2,",").concat(t+a),l+="L ".concat(e+r-i/2-n,",").concat(t+a),l+="L ".concat(e,",").concat(t," Z"),l},n1e={x:0,y:0,upperWidth:0,lowerWidth:0,height:0,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},a1e=e=>{var t=cs(e,n1e),{x:r,y:n,upperWidth:a,lowerWidth:i,height:l,className:o}=t,{animationEasing:u,animationDuration:f,animationBegin:h,isUpdateAnimationActive:m}=t,g=k.useRef(null),[x,b]=k.useState(-1),v=k.useRef(a),w=k.useRef(i),N=k.useRef(l),E=k.useRef(r),j=k.useRef(n),T=zg(e,"trapezoid-");if(k.useEffect(()=>{if(g.current&&g.current.getTotalLength)try{var te=g.current.getTotalLength();te&&b(te)}catch{}},[]),r!==+r||n!==+n||a!==+a||i!==+i||l!==+l||a===0&&i===0||l===0)return null;var O=ln("recharts-trapezoid",o);if(!m)return k.createElement("g",null,k.createElement("path",Hy({},nl(t),{className:O,d:SO(r,n,a,i,l)})));var P=v.current,D=w.current,M=N.current,B=E.current,H=j.current,L="0px ".concat(x===-1?1:x,"px"),U="".concat(x,"px 0px"),G=JM(["strokeDasharray"],f,u);return k.createElement(Ug,{animationId:T,key:T,canBegin:x>0,duration:f,easing:u,isActive:m,begin:h},te=>{var de=Ra(P,a,te),ne=Ra(D,i,te),Z=Ra(M,l,te),xe=Ra(B,r,te),le=Ra(H,n,te);g.current&&(v.current=de,w.current=ne,N.current=Z,E.current=xe,j.current=le);var Se=te>0?{transition:G,strokeDasharray:U}:{strokeDasharray:L};return k.createElement("path",Hy({},nl(t),{className:O,d:SO(xe,le,de,ne,Z),ref:g,style:jO(jO({},Se),t.style)}))})},i1e=["option","shapeType","propTransformer","activeClassName","isActive"];function s1e(e,t){if(e==null)return{};var r,n,a=l1e(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}function l1e(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}function AO(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function Vy(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?AO(Object(r),!0).forEach(function(n){o1e(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):AO(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function o1e(e,t,r){return(t=c1e(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function c1e(e){var t=u1e(e,"string");return typeof t=="symbol"?t:t+""}function u1e(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function f1e(e,t){return Vy(Vy({},t),e)}function d1e(e,t){return e==="symbols"}function EO(e){var{shapeType:t,elementProps:r}=e;switch(t){case"rectangle":return k.createElement(nR,r);case"trapezoid":return k.createElement(a1e,r);case"sector":return k.createElement(sR,r);case"symbols":if(d1e(t))return k.createElement(H3,r);break;default:return null}}function h1e(e){return k.isValidElement(e)?e.props:e}function OI(e){var{option:t,shapeType:r,propTransformer:n=f1e,activeClassName:a="recharts-active-shape",isActive:i}=e,l=s1e(e,i1e),o;if(k.isValidElement(t))o=k.cloneElement(t,Vy(Vy({},l),h1e(t)));else if(typeof t=="function")o=t(l);else if(Jge(t)&&typeof t!="boolean"){var u=n(t,l);o=k.createElement(EO,{shapeType:r,elementProps:u})}else{var f=l;o=k.createElement(EO,{shapeType:r,elementProps:f})}return i?k.createElement(os,{className:a},o):o}var wS=(e,t)=>{var r=ma();return(n,a)=>i=>{e?.(n,a,i),r(q9({activeIndex:String(a),activeDataKey:t,activeCoordinate:n.tooltipPosition}))}},NS=e=>{var t=ma();return(r,n)=>a=>{e?.(r,n,a),t(tpe())}},_S=(e,t)=>{var r=ma();return(n,a)=>i=>{e?.(n,a,i),r(rpe({activeIndex:String(a),activeDataKey:t,activeCoordinate:n.tooltipPosition}))}};function jS(e){var{fn:t,args:r}=e,n=ma(),a=al();return k.useLayoutEffect(()=>{if(!a){var i=t(r);return n(Zme(i)),()=>{n(Jme(i))}}},[t,r,n,a]),null}var DI=()=>{};function FI(e){var{legendPayload:t}=e,r=ma(),n=al();return k.useLayoutEffect(()=>n?DI:(r(XM(t)),()=>{r(QM(t))}),[r,n,t]),null}function m1e(e){var{legendPayload:t}=e,r=ma(),n=Ht(Gr);return k.useLayoutEffect(()=>n!=="centric"&&n!=="radial"?DI:(r(XM(t)),()=>{r(QM(t))}),[r,n,t]),null}var g4,p1e=()=>{var[e]=k.useState(()=>lg("uid-"));return e},x1e=(g4=Pz.useId)!==null&&g4!==void 0?g4:p1e;function g1e(e,t){var r=x1e();return t||(e?"".concat(e,"-").concat(r):r)}var v1e=k.createContext(void 0),SS=e=>{var{id:t,type:r,children:n}=e,a=g1e("recharts-".concat(r),t);return k.createElement(v1e.Provider,{value:a},n(a))},y1e={cartesianItems:[],polarItems:[]},PI=lo({name:"graphicalItems",initialState:y1e,reducers:{addCartesianGraphicalItem:{reducer(e,t){e.cartesianItems.push(t.payload)},prepare:Zs()},replaceCartesianGraphicalItem:{reducer(e,t){var{prev:r,next:n}=t.payload,a=uf(e).cartesianItems.indexOf(r);a>-1&&(e.cartesianItems[a]=n)},prepare:Zs()},removeCartesianGraphicalItem:{reducer(e,t){var r=uf(e).cartesianItems.indexOf(t.payload);r>-1&&e.cartesianItems.splice(r,1)},prepare:Zs()},addPolarGraphicalItem:{reducer(e,t){e.polarItems.push(t.payload)},prepare:Zs()},removePolarGraphicalItem:{reducer(e,t){var r=uf(e).polarItems.indexOf(t.payload);r>-1&&e.polarItems.splice(r,1)},prepare:Zs()}}}),{addCartesianGraphicalItem:b1e,replaceCartesianGraphicalItem:w1e,removeCartesianGraphicalItem:N1e,addPolarGraphicalItem:_1e,removePolarGraphicalItem:j1e}=PI.actions,S1e=PI.reducer;function LI(e){var t=ma(),r=k.useRef(null);return k.useLayoutEffect(()=>{r.current===null?t(b1e(e)):r.current!==e&&t(w1e({prev:r.current,next:e})),r.current=e},[t,e]),k.useLayoutEffect(()=>()=>{r.current&&(t(N1e(r.current)),r.current=null)},[t]),null}function A1e(e){var t=ma();return k.useLayoutEffect(()=>(t(_1e(e)),()=>{t(j1e(e))}),[t,e]),null}var E1e=["onMouseEnter","onClick","onMouseLeave"],k1e=["id"],C1e=["id"];function AS(e,t){if(e==null)return{};var r,n,a=T1e(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}function T1e(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}function kO(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function ca(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?kO(Object(r),!0).forEach(function(n){O1e(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):kO(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function O1e(e,t,r){return(t=D1e(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function D1e(e){var t=F1e(e,"string");return typeof t=="symbol"?t:t+""}function F1e(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Pd(){return Pd=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Pd.apply(null,arguments)}function P1e(e){var t=k.useMemo(()=>bS(e.children,Jg),[e.children]),r=Ht(n=>Vge(n,e.id,t));return r==null?null:k.createElement(m1e,{legendPayload:r})}function L1e(e){var{dataKey:t,nameKey:r,sectors:n,stroke:a,strokeWidth:i,fill:l,name:o,hide:u,tooltipType:f}=e;return{dataDefinedOnItem:n.map(h=>h.tooltipPayload),positions:n.map(h=>h.tooltipPosition),settings:{stroke:a,strokeWidth:i,fill:l,dataKey:t,nameKey:r,name:up(o,t),hide:u,type:f,color:l,unit:""}}}var M1e=(e,t)=>e>t?"start":e<t?"end":"middle",R1e=(e,t,r)=>Os(typeof t=="function"?t(e):t,r,r*.8),I1e=(e,t,r)=>{var{top:n,left:a,width:i,height:l}=t,o=IM(i,l),u=a+Os(e.cx,i,i/2),f=n+Os(e.cy,l,l/2),h=Os(e.innerRadius,o,0),m=R1e(r,e.outerRadius,o),g=e.maxRadius||Math.sqrt(i*i+l*l)/2;return{cx:u,cy:f,innerRadius:h,outerRadius:m,maxRadius:g}},B1e=(e,t)=>{var r=$i(t-e),n=Math.min(Math.abs(t-e),360);return r*n};function U1e(e){return e&&typeof e=="object"&&"className"in e&&typeof e.className=="string"?e.className:""}var z1e=(e,t)=>{if(k.isValidElement(e))return k.cloneElement(e,t);if(typeof e=="function")return e(t);var r=ln("recharts-pie-label-line",typeof e!="boolean"?e.className:"");return k.createElement(sj,Pd({},t,{type:"linear",className:r}))},q1e=(e,t,r)=>{if(k.isValidElement(e))return k.cloneElement(e,t);var n=r;if(typeof e=="function"&&(n=e(t),k.isValidElement(n)))return n;var a=ln("recharts-pie-label-text",U1e(e));return k.createElement(eb,Pd({},t,{alignmentBaseline:"middle",className:a}),n)};function $1e(e){var{sectors:t,props:r,showLabels:n}=e,{label:a,labelLine:i,dataKey:l}=r;if(!n||!a||!t)return null;var o=ao(r),u=J0(a),f=J0(i),h=typeof a=="object"&&"offsetRadius"in a&&typeof a.offsetRadius=="number"&&a.offsetRadius||20,m=t.map((g,x)=>{var b=(g.startAngle+g.endAngle)/2,v=li(g.cx,g.cy,g.outerRadius+h,b),w=ca(ca(ca(ca({},o),g),{},{stroke:"none"},u),{},{index:x,textAnchor:M1e(v.x,g.cx)},v),N=ca(ca(ca(ca({},o),g),{},{fill:"none",stroke:g.fill},f),{},{index:x,points:[li(g.cx,g.cy,g.outerRadius,b),v],key:"line"});return k.createElement(os,{key:"label-".concat(g.startAngle,"-").concat(g.endAngle,"-").concat(g.midAngle,"-").concat(x)},i&&z1e(i,N),q1e(a,w,$n(g,l)))});return k.createElement(os,{className:"recharts-pie-labels"},m)}function H1e(e){var{sectors:t,props:r,showLabels:n}=e,{label:a}=r;return typeof a=="object"&&a!=null&&"position"in a?k.createElement(gS,{label:a}):k.createElement($1e,{sectors:t,props:r,showLabels:n})}function V1e(e){var{sectors:t,activeShape:r,inactiveShape:n,allOtherPieProps:a}=e,i=Ht(Fd),{onMouseEnter:l,onClick:o,onMouseLeave:u}=a,f=AS(a,E1e),h=wS(l,a.dataKey),m=NS(u),g=_S(o,a.dataKey);return t==null||t.length===0?null:k.createElement(k.Fragment,null,t.map((x,b)=>{if(x?.startAngle===0&&x?.endAngle===0&&t.length!==1)return null;var v=r&&String(b)===i,w=i?n:null,N=v?r:w,E=ca(ca({},x),{},{stroke:x.stroke,tabIndex:-1,[$M]:b,[HM]:a.dataKey});return k.createElement(os,Pd({key:"sector-".concat(x?.startAngle,"-").concat(x?.endAngle,"-").concat(x.midAngle,"-").concat(b),tabIndex:-1,className:"recharts-pie-sector"},Mg(f,x,b),{onMouseEnter:h(x,b),onMouseLeave:m(x,b),onClick:g(x,b)}),k.createElement(OI,Pd({option:N,isActive:v,shapeType:"sector"},E)))}))}function W1e(e){var t,{pieSettings:r,displayedData:n,cells:a,offset:i}=e,{cornerRadius:l,startAngle:o,endAngle:u,dataKey:f,nameKey:h,tooltipType:m}=r,g=Math.abs(r.minAngle),x=B1e(o,u),b=Math.abs(x),v=n.length<=1?0:(t=r.paddingAngle)!==null&&t!==void 0?t:0,w=n.filter(P=>$n(P,f,0)!==0).length,N=(b>=360?w:w-1)*v,E=b-w*g-N,j=n.reduce((P,D)=>{var M=$n(D,f,0);return P+(Qt(M)?M:0)},0),T;if(j>0){var O;T=n.map((P,D)=>{var M=$n(P,f,0),B=$n(P,h,D),H=I1e(r,i,P),L=(Qt(M)?M:0)/j,U,G=ca(ca({},P),a&&a[D]&&a[D].props);D?U=O.endAngle+$i(x)*v*(M!==0?1:0):U=o;var te=U+$i(x)*((M!==0?g:0)+L*E),de=(U+te)/2,ne=(H.innerRadius+H.outerRadius)/2,Z=[{name:B,value:M,payload:G,dataKey:f,type:m}],xe=li(H.cx,H.cy,ne,de);return O=ca(ca(ca(ca({},r.presentationProps),{},{percent:L,cornerRadius:l,name:B,tooltipPayload:Z,midAngle:de,middleRadius:ne,tooltipPosition:xe},G),H),{},{value:M,startAngle:U,endAngle:te,payload:G,paddingAngle:$i(x)*v}),O})}return T}function K1e(e){var{showLabels:t,sectors:r,children:n}=e,a=k.useMemo(()=>!t||!r?[]:r.map(i=>({value:i.value,payload:i.payload,clockWise:!1,parentViewBox:void 0,viewBox:{cx:i.cx,cy:i.cy,innerRadius:i.innerRadius,outerRadius:i.outerRadius,startAngle:i.startAngle,endAngle:i.endAngle,clockWise:!1},fill:i.fill})),[r,t]);return k.createElement(Cge,{value:t?a:void 0},n)}function G1e(e){var{props:t,previousSectorsRef:r}=e,{sectors:n,isAnimationActive:a,animationBegin:i,animationDuration:l,animationEasing:o,activeShape:u,inactiveShape:f,onAnimationStart:h,onAnimationEnd:m}=t,g=zg(t,"recharts-pie-"),x=r.current,[b,v]=k.useState(!1),w=k.useCallback(()=>{typeof m=="function"&&m(),v(!1)},[m]),N=k.useCallback(()=>{typeof h=="function"&&h(),v(!0)},[h]);return k.createElement(K1e,{showLabels:!b,sectors:n},k.createElement(Ug,{animationId:g,begin:i,duration:l,isActive:a,easing:o,onAnimationStart:N,onAnimationEnd:w,key:g},E=>{var j=[],T=n&&n[0],O=T?.startAngle;return n?.forEach((P,D)=>{var M=x&&x[D],B=D>0?eh(P,"paddingAngle",0):0;if(M){var H=Ra(M.endAngle-M.startAngle,P.endAngle-P.startAngle,E),L=ca(ca({},P),{},{startAngle:O+B,endAngle:O+H+B});j.push(L),O=L.endAngle}else{var{endAngle:U,startAngle:G}=P,te=Ra(0,U-G,E),de=ca(ca({},P),{},{startAngle:O+B,endAngle:O+te+B});j.push(de),O=de.endAngle}}),r.current=j,k.createElement(os,null,k.createElement(V1e,{sectors:j,activeShape:u,inactiveShape:f,allOtherPieProps:t}))}),k.createElement(H1e,{showLabels:!b,sectors:n,props:t}),t.children)}var Y1e={animationBegin:400,animationDuration:1500,animationEasing:"ease",cx:"50%",cy:"50%",dataKey:"value",endAngle:360,fill:"#808080",hide:!1,innerRadius:0,isAnimationActive:!Hd.isSsr,labelLine:!0,legendType:"rect",minAngle:0,nameKey:"name",outerRadius:"80%",paddingAngle:0,rootTabIndex:0,startAngle:0,stroke:"#fff"};function X1e(e){var{id:t}=e,r=AS(e,k1e),{hide:n,className:a,rootTabIndex:i}=e,l=k.useMemo(()=>bS(e.children,Jg),[e.children]),o=Ht(h=>Wge(h,t,l)),u=k.useRef(null),f=ln("recharts-pie",a);return n||o==null?(u.current=null,k.createElement(os,{tabIndex:i,className:f})):k.createElement(k.Fragment,null,k.createElement(jS,{fn:L1e,args:ca(ca({},e),{},{sectors:o})}),k.createElement(os,{tabIndex:i,className:f},k.createElement(G1e,{props:ca(ca({},r),{},{sectors:o}),previousSectorsRef:u})))}function MI(e){var t=cs(e,Y1e),{id:r}=t,n=AS(t,C1e),a=ao(n);return k.createElement(SS,{id:r,type:"pie"},i=>k.createElement(k.Fragment,null,k.createElement(A1e,{type:"pie",id:i,data:n.data,dataKey:n.dataKey,hide:n.hide,angleAxisId:0,radiusAxisId:0,name:n.name,nameKey:n.nameKey,tooltipType:n.tooltipType,legendType:n.legendType,fill:n.fill,cx:n.cx,cy:n.cy,startAngle:n.startAngle,endAngle:n.endAngle,paddingAngle:n.paddingAngle,minAngle:n.minAngle,innerRadius:n.innerRadius,outerRadius:n.outerRadius,cornerRadius:n.cornerRadius,presentationProps:a,maxRadius:t.maxRadius}),k.createElement(P1e,Pd({},n,{id:i})),k.createElement(X1e,Pd({},n,{id:i}))))}MI.displayName="Pie";function CO(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function TO(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?CO(Object(r),!0).forEach(function(n){Q1e(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):CO(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Q1e(e,t,r){return(t=Z1e(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Z1e(e){var t=J1e(e,"string");return typeof t=="symbol"?t:t+""}function J1e(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var eve={xAxis:{},yAxis:{},zAxis:{}},RI=lo({name:"cartesianAxis",initialState:eve,reducers:{addXAxis:{reducer(e,t){e.xAxis[t.payload.id]=t.payload},prepare:Zs()},removeXAxis:{reducer(e,t){delete e.xAxis[t.payload.id]},prepare:Zs()},addYAxis:{reducer(e,t){e.yAxis[t.payload.id]=t.payload},prepare:Zs()},removeYAxis:{reducer(e,t){delete e.yAxis[t.payload.id]},prepare:Zs()},addZAxis:{reducer(e,t){e.zAxis[t.payload.id]=t.payload},prepare:Zs()},removeZAxis:{reducer(e,t){delete e.zAxis[t.payload.id]},prepare:Zs()},updateYAxisWidth(e,t){var{id:r,width:n}=t.payload,a=e.yAxis[r];if(a){var i=a.widthHistory||[];if(i.length===3&&i[0]===i[2]&&n===i[1]&&n!==a.width&&Math.abs(n-i[0])<=1)return;var l=[...i,n].slice(-3);e.yAxis[r]=TO(TO({},e.yAxis[r]),{},{width:n,widthHistory:l})}}}}),{addXAxis:tve,removeXAxis:rve,addYAxis:nve,removeYAxis:ave,addZAxis:w3e,removeZAxis:N3e,updateYAxisWidth:ive}=RI.actions,sve=RI.reducer,lve=He([Ei],e=>{if(e)return{top:e.top,bottom:e.bottom,left:e.left,right:e.right}}),ove=He([lve,kf,Cf],(e,t,r)=>{if(!(!e||t==null||r==null))return{x:e.left,y:e.top,width:Math.max(0,t-e.left-e.right),height:Math.max(0,r-e.top-e.bottom)}}),ES=()=>Ht(ove),cve=()=>Ht(qpe);function OO(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function DO(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?OO(Object(r),!0).forEach(function(n){uve(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):OO(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function uve(e,t,r){return(t=fve(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function fve(e){var t=dve(e,"string");return typeof t=="symbol"?t:t+""}function dve(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var hve=e=>{var{point:t,childIndex:r,mainColor:n,activeDot:a,dataKey:i}=e;if(a===!1||t.x==null||t.y==null)return null;var l=DO(DO({index:r,dataKey:i,cx:t.x,cy:t.y,r:4,fill:n??"none",strokeWidth:2,stroke:"#fff",payload:t.payload,value:t.value},J0(a)),V3(a)),o;return k.isValidElement(a)?o=k.cloneElement(a,l):typeof a=="function"?o=a(l):o=k.createElement(jI,l),k.createElement(os,{className:"recharts-active-dot"},o)};function mve(e){var{points:t,mainColor:r,activeDot:n,itemDataKey:a}=e,i=Ht(Fd),l=cve();if(t==null||l==null)return null;var o=t.find(u=>l.includes(u.payload));return ha(o)?null:hve({point:o,childIndex:Number(i),mainColor:r,dataKey:a,activeDot:n})}var pve="Invariant failed";function xve(e,t){throw new Error(pve)}var gve=["x","y"];function r_(){return r_=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},r_.apply(null,arguments)}function FO(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function mx(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?FO(Object(r),!0).forEach(function(n){vve(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):FO(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function vve(e,t,r){return(t=yve(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function yve(e){var t=bve(e,"string");return typeof t=="symbol"?t:t+""}function bve(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function wve(e,t){if(e==null)return{};var r,n,a=Nve(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}function Nve(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}function _ve(e,t){var{x:r,y:n}=e,a=wve(e,gve),i="".concat(r),l=parseInt(i,10),o="".concat(n),u=parseInt(o,10),f="".concat(t.height||a.height),h=parseInt(f,10),m="".concat(t.width||a.width),g=parseInt(m,10);return mx(mx(mx(mx(mx({},t),a),l?{x:l}:{}),u?{y:u}:{}),{},{height:h,width:g,name:t.name,radius:t.radius})}function kS(e){return k.createElement(OI,r_({shapeType:"rectangle",propTransformer:_ve,activeClassName:"recharts-active-bar"},e))}var jve=function(t){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;return(n,a)=>{if(Qt(t))return t;var i=Qt(n)||ha(n);return i?t(n,a):(i||xve(),r)}},Sve={},II=lo({name:"errorBars",initialState:Sve,reducers:{addErrorBar:(e,t)=>{var{itemId:r,errorBar:n}=t.payload;e[r]||(e[r]=[]),e[r].push(n)},replaceErrorBar:(e,t)=>{var{itemId:r,prev:n,next:a}=t.payload;e[r]&&(e[r]=e[r].map(i=>i.dataKey===n.dataKey&&i.direction===n.direction?a:i))},removeErrorBar:(e,t)=>{var{itemId:r,errorBar:n}=t.payload;e[r]&&(e[r]=e[r].filter(a=>a.dataKey!==n.dataKey||a.direction!==n.direction))}}}),{addErrorBar:_3e,replaceErrorBar:j3e,removeErrorBar:S3e}=II.actions,Ave=II.reducer,Eve=["children"];function kve(e,t){if(e==null)return{};var r,n,a=Cve(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}function Cve(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}var Tve={data:[],xAxisId:"xAxis-0",yAxisId:"yAxis-0",dataPointFormatter:()=>({x:0,y:0,value:0}),errorBarOffset:0},Ove=k.createContext(Tve);function BI(e){var{children:t}=e,r=kve(e,Eve);return k.createElement(Ove.Provider,{value:r},t)}function CS(e,t){var r,n,a=Ht(f=>Of(f,e)),i=Ht(f=>Df(f,t)),l=(r=a?.allowDataOverflow)!==null&&r!==void 0?r:Wl.allowDataOverflow,o=(n=i?.allowDataOverflow)!==null&&n!==void 0?n:Kl.allowDataOverflow,u=l||o;return{needClip:u,needClipX:l,needClipY:o}}function UI(e){var{xAxisId:t,yAxisId:r,clipPathId:n}=e,a=ES(),{needClipX:i,needClipY:l,needClip:o}=CS(t,r);if(!o)return null;var{x:u,y:f,width:h,height:m}=a;return k.createElement("clipPath",{id:"clipPath-".concat(n)},k.createElement("rect",{x:i?u:u-h/2,y:l?f:f-m/2,width:i?h:h*2,height:l?m:m*2}))}var Dve=["onMouseEnter","onMouseLeave","onClick"],Fve=["value","background","tooltipPosition"],Pve=["id"],Lve=["onMouseEnter","onClick","onMouseLeave"];function Ld(){return Ld=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Ld.apply(null,arguments)}function PO(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function Js(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?PO(Object(r),!0).forEach(function(n){Mve(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):PO(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Mve(e,t,r){return(t=Rve(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Rve(e){var t=Ive(e,"string");return typeof t=="symbol"?t:t+""}function Ive(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Wy(e,t){if(e==null)return{};var r,n,a=Bve(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}function Bve(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}var Uve=e=>{var{dataKey:t,name:r,fill:n,legendType:a,hide:i}=e;return[{inactive:i,dataKey:t,type:a,color:n,value:up(r,t),payload:e}]};function zve(e){var{dataKey:t,stroke:r,strokeWidth:n,fill:a,name:i,hide:l,unit:o}=e;return{dataDefinedOnItem:void 0,positions:void 0,settings:{stroke:r,strokeWidth:n,fill:a,dataKey:t,nameKey:void 0,name:up(i,t),hide:l,type:e.tooltipType,color:e.fill,unit:o}}}function qve(e){var t=Ht(Fd),{data:r,dataKey:n,background:a,allOtherBarProps:i}=e,{onMouseEnter:l,onMouseLeave:o,onClick:u}=i,f=Wy(i,Dve),h=wS(l,n),m=NS(o),g=_S(u,n);if(!a||r==null)return null;var x=J0(a);return k.createElement(k.Fragment,null,r.map((b,v)=>{var{value:w,background:N,tooltipPosition:E}=b,j=Wy(b,Fve);if(!N)return null;var T=h(b,v),O=m(b,v),P=g(b,v),D=Js(Js(Js(Js(Js({option:a,isActive:String(v)===t},j),{},{fill:"#eee"},N),x),Mg(f,b,v)),{},{onMouseEnter:T,onMouseLeave:O,onClick:P,dataKey:n,index:v,className:"recharts-bar-background-rectangle"});return k.createElement(kS,Ld({key:"background-bar-".concat(v)},D))}))}function $ve(e){var{showLabels:t,children:r,rects:n}=e,a=n?.map(i=>{var l={x:i.x,y:i.y,width:i.width,height:i.height};return Js(Js({},l),{},{value:i.value,payload:i.payload,parentViewBox:i.parentViewBox,viewBox:l,fill:i.fill})});return k.createElement(NI,{value:t?a:void 0},r)}function Hve(e){var{shape:t,activeBar:r,baseProps:n,entry:a,index:i,dataKey:l}=e,o=Ht(Fd),u=Ht(nI),f=r&&String(i)===o&&(u==null||l===u),h=f?r:t;return k.createElement(kS,Ld({},n,{name:String(n.name)},a,{isActive:f,option:h,index:i,dataKey:l}))}function Vve(e){var{shape:t,baseProps:r,entry:n,index:a,dataKey:i}=e;return k.createElement(kS,Ld({},r,{name:String(r.name)},n,{isActive:!1,option:t,index:a,dataKey:i}))}function Wve(e){var{data:t,props:r}=e,n=ao(r),{id:a}=n,i=Wy(n,Pve),{shape:l,dataKey:o,activeBar:u}=r,{onMouseEnter:f,onClick:h,onMouseLeave:m}=r,g=Wy(r,Lve),x=wS(f,o),b=NS(m),v=_S(h,o);return t?k.createElement(k.Fragment,null,t.map((w,N)=>k.createElement(os,Ld({key:"rectangle-".concat(w?.x,"-").concat(w?.y,"-").concat(w?.value,"-").concat(N),className:"recharts-bar-rectangle"},Mg(g,w,N),{onMouseEnter:x(w,N),onMouseLeave:b(w,N),onClick:v(w,N)}),u?k.createElement(Hve,{shape:l,activeBar:u,baseProps:i,entry:w,index:N,dataKey:o}):k.createElement(Vve,{shape:l,baseProps:i,entry:w,index:N,dataKey:o})))):null}function Kve(e){var{props:t,previousRectanglesRef:r}=e,{data:n,layout:a,isAnimationActive:i,animationBegin:l,animationDuration:o,animationEasing:u,onAnimationEnd:f,onAnimationStart:h}=t,m=r.current,g=zg(t,"recharts-bar-"),[x,b]=k.useState(!1),v=!x,w=k.useCallback(()=>{typeof f=="function"&&f(),b(!1)},[f]),N=k.useCallback(()=>{typeof h=="function"&&h(),b(!0)},[h]);return k.createElement($ve,{showLabels:v,rects:n},k.createElement(Ug,{animationId:g,begin:l,duration:o,isActive:i,easing:u,onAnimationEnd:w,onAnimationStart:N,key:g},E=>{var j=E===1?n:n?.map((T,O)=>{var P=m&&m[O];if(P)return Js(Js({},T),{},{x:Ra(P.x,T.x,E),y:Ra(P.y,T.y,E),width:Ra(P.width,T.width,E),height:Ra(P.height,T.height,E)});if(a==="horizontal"){var D=Ra(0,T.height,E);return Js(Js({},T),{},{y:T.y+T.height-D,height:D})}var M=Ra(0,T.width,E);return Js(Js({},T),{},{width:M})});return E>0&&(r.current=j??null),j==null?null:k.createElement(os,null,k.createElement(Wve,{props:t,data:j}))}),k.createElement(gS,{label:t.label}),t.children)}function Gve(e){var t=k.useRef(null);return k.createElement(Kve,{previousRectanglesRef:t,props:e})}var zI=0,Yve=(e,t)=>{var r=Array.isArray(e.value)?e.value[1]:e.value;return{x:e.x,y:e.y,value:r,errorVal:$n(e,t)}};class Xve extends k.PureComponent{render(){var{hide:t,data:r,dataKey:n,className:a,xAxisId:i,yAxisId:l,needClip:o,background:u,id:f}=this.props;if(t||r==null)return null;var h=ln("recharts-bar",a),m=f;return k.createElement(os,{className:h,id:f},o&&k.createElement("defs",null,k.createElement(UI,{clipPathId:m,xAxisId:i,yAxisId:l})),k.createElement(os,{className:"recharts-bar-rectangles",clipPath:o?"url(#clipPath-".concat(m,")"):void 0},k.createElement(qve,{data:r,dataKey:n,background:u,allOtherBarProps:this.props}),k.createElement(Gve,this.props)))}}var Qve={activeBar:!1,animationBegin:0,animationDuration:400,animationEasing:"ease",hide:!1,isAnimationActive:!Hd.isSsr,legendType:"rect",minPointSize:zI,xAxisId:0,yAxisId:0};function Zve(e){var{xAxisId:t,yAxisId:r,hide:n,legendType:a,minPointSize:i,activeBar:l,animationBegin:o,animationDuration:u,animationEasing:f,isAnimationActive:h}=e,{needClip:m}=CS(t,r),g=F2(),x=al(),b=bS(e.children,Jg),v=Ht(E=>Aye(E,t,r,x,e.id,b));if(g!=="vertical"&&g!=="horizontal")return null;var w,N=v?.[0];return N==null||N.height==null||N.width==null?w=0:w=g==="vertical"?N.height/2:N.width/2,k.createElement(BI,{xAxisId:t,yAxisId:r,data:v,dataPointFormatter:Yve,errorBarOffset:w},k.createElement(Xve,Ld({},e,{layout:g,needClip:m,data:v,xAxisId:t,yAxisId:r,hide:n,legendType:a,minPointSize:i,activeBar:l,animationBegin:o,animationDuration:u,animationEasing:f,isAnimationActive:h})))}function Jve(e){var{layout:t,barSettings:{dataKey:r,minPointSize:n},pos:a,bandSize:i,xAxis:l,yAxis:o,xAxisTicks:u,yAxisTicks:f,stackedData:h,displayedData:m,offset:g,cells:x,parentViewBox:b}=e,v=t==="horizontal"?o:l,w=h?v.scale.domain():null,N=Yce({numericAxis:v});return m.map((E,j)=>{var T,O,P,D,M,B;h?T=$ce(h[j],w):(T=$n(E,r),Array.isArray(T)||(T=[N,T]));var H=jve(n,zI)(T[1],j);if(t==="horizontal"){var L,[U,G]=[o.scale(T[0]),o.scale(T[1])];O=h8({axis:l,ticks:u,bandSize:i,offset:a.offset,entry:E,index:j}),P=(L=G??U)!==null&&L!==void 0?L:void 0,D=a.size;var te=U-G;if(M=$o(te)?0:te,B={x:O,y:g.top,width:D,height:g.height},Math.abs(H)>0&&Math.abs(M)<Math.abs(H)){var de=$i(M||H)*(Math.abs(H)-Math.abs(M));P-=de,M+=de}}else{var[ne,Z]=[l.scale(T[0]),l.scale(T[1])];if(O=ne,P=h8({axis:o,ticks:f,bandSize:i,offset:a.offset,entry:E,index:j}),D=Z-ne,M=a.size,B={x:g.left,y:P,width:g.width,height:M},Math.abs(H)>0&&Math.abs(D)<Math.abs(H)){var xe=$i(D||H)*(Math.abs(H)-Math.abs(D));D+=xe}}if(O==null||P==null||D==null||M==null)return null;var le=Js(Js({},E),{},{x:O,y:P,width:D,height:M,value:h?T:T[1],payload:E,background:B,tooltipPosition:{x:O+D/2,y:P+M/2},parentViewBox:b},x&&x[j]&&x[j].props);return le}).filter(Boolean)}function eye(e){var t=cs(e,Qve),r=al();return k.createElement(SS,{id:t.id,type:"bar"},n=>k.createElement(k.Fragment,null,k.createElement(FI,{legendPayload:Uve(t)}),k.createElement(jS,{fn:zve,args:t}),k.createElement(LI,{type:"bar",id:n,data:void 0,xAxisId:t.xAxisId,yAxisId:t.yAxisId,zAxisId:0,dataKey:t.dataKey,stackId:Gce(t.stackId),hide:t.hide,barSize:t.barSize,minPointSize:t.minPointSize,maxBarSize:t.maxBarSize,isPanorama:r}),k.createElement(Zve,Ld({},t,{id:n}))))}var n_=k.memo(eye);n_.displayName="Bar";function LO(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function jv(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?LO(Object(r),!0).forEach(function(n){tye(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):LO(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function tye(e,t,r){return(t=rye(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function rye(e){var t=nye(e,"string");return typeof t=="symbol"?t:t+""}function nye(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var aye=(e,t)=>t,iye=(e,t,r)=>r,sye=(e,t,r,n)=>n,lye=(e,t,r,n,a)=>a,e1=He([G2,lye],(e,t)=>e.filter(r=>r.type==="bar").find(r=>r.id===t)),oye=He([e1],e=>e?.maxBarSize),cye=(e,t,r,n,a,i)=>i,MO=(e,t,r)=>{var n=r??e;if(!ha(n))return Os(n,t,0)},uye=He([Gr,G2,aye,iye,sye],(e,t,r,n,a)=>t.filter(i=>e==="horizontal"?i.xAxisId===r:i.yAxisId===n).filter(i=>i.isPanorama===a).filter(i=>i.hide===!1).filter(i=>i.type==="bar")),fye=(e,t,r,n)=>{var a=Gr(e);return a==="horizontal"?YN(e,"yAxis",r,n):YN(e,"xAxis",t,n)},dye=(e,t,r)=>{var n=Gr(e);return n==="horizontal"?RT(e,"xAxis",t):RT(e,"yAxis",r)},hye=(e,t,r)=>{var n={},a=e.filter(V2),i=e.filter(f=>f.stackId==null),l=a.reduce((f,h)=>(f[h.stackId]||(f[h.stackId]=[]),f[h.stackId].push(h),f),n),o=Object.entries(l).map(f=>{var[h,m]=f,g=m.map(b=>b.dataKey),x=MO(t,r,m[0].barSize);return{stackId:h,dataKeys:g,barSize:x}}),u=i.map(f=>{var h=[f.dataKey].filter(g=>g!=null),m=MO(t,r,f.barSize);return{stackId:void 0,dataKeys:h,barSize:m}});return[...o,...u]},mye=He([uye,Ghe,dye],hye),pye=(e,t,r,n,a)=>{var i,l,o=e1(e,t,r,n,a);if(o!=null){var u=Gr(e),f=n9(e),{maxBarSize:h}=o,m=ha(h)?f:h,g,x;return u==="horizontal"?(g=Dd(e,"xAxis",t,n),x=Od(e,"xAxis",t,n)):(g=Dd(e,"yAxis",r,n),x=Od(e,"yAxis",r,n)),(i=(l=fg(g,x,!0))!==null&&l!==void 0?l:m)!==null&&i!==void 0?i:0}},qI=(e,t,r,n)=>{var a=Gr(e),i,l;return a==="horizontal"?(i=Dd(e,"xAxis",t,n),l=Od(e,"xAxis",t,n)):(i=Dd(e,"yAxis",r,n),l=Od(e,"yAxis",r,n)),fg(i,l)};function xye(e,t,r,n,a){var i=n.length;if(!(i<1)){var l=Os(e,r,0,!0),o,u=[];if(Ps(n[0].barSize)){var f=!1,h=r/i,m=n.reduce((N,E)=>N+(E.barSize||0),0);m+=(i-1)*l,m>=r&&(m-=(i-1)*l,l=0),m>=r&&h>0&&(f=!0,h*=.9,m=i*h);var g=(r-m)/2>>0,x={offset:g-l,size:0};o=n.reduce((N,E)=>{var j,T={stackId:E.stackId,dataKeys:E.dataKeys,position:{offset:x.offset+x.size+l,size:f?h:(j=E.barSize)!==null&&j!==void 0?j:0}},O=[...N,T];return x=O[O.length-1].position,O},u)}else{var b=Os(t,r,0,!0);r-2*b-(i-1)*l<=0&&(l=0);var v=(r-2*b-(i-1)*l)/i;v>1&&(v>>=0);var w=Ps(a)?Math.min(v,a):v;o=n.reduce((N,E,j)=>[...N,{stackId:E.stackId,dataKeys:E.dataKeys,position:{offset:b+(v+l)*j+(v-w)/2,size:w}}],u)}return o}}var gye=(e,t,r,n,a,i,l)=>{var o=ha(l)?t:l,u=xye(r,n,a!==i?a:i,e,o);return a!==i&&u!=null&&(u=u.map(f=>jv(jv({},f),{},{position:jv(jv({},f.position),{},{offset:f.position.offset-a/2})}))),u},vye=He([mye,n9,Khe,a9,pye,qI,oye],gye),yye=(e,t,r,n)=>Dd(e,"xAxis",t,n),bye=(e,t,r,n)=>Dd(e,"yAxis",r,n),wye=(e,t,r,n)=>Od(e,"xAxis",t,n),Nye=(e,t,r,n)=>Od(e,"yAxis",r,n),_ye=He([vye,e1],(e,t)=>{if(!(e==null||t==null)){var r=e.find(n=>n.stackId===t.stackId&&t.dataKey!=null&&n.dataKeys.includes(t.dataKey));if(r!=null)return r.position}}),jye=(e,t)=>{var r=Bj(t);if(!(!e||r==null||t==null)){var{stackId:n}=t;if(n!=null){var a=e[n];if(a){var{stackedData:i}=a;if(i)return i.find(l=>l.key===r)}}}},Sye=He([fye,e1],jye),Aye=He([Ei,tj,yye,bye,wye,Nye,_ye,Gr,z2,qI,Sye,e1,cye],(e,t,r,n,a,i,l,o,u,f,h,m,g)=>{var{chartData:x,dataStartIndex:b,dataEndIndex:v}=u;if(!(m==null||l==null||t==null||o!=="horizontal"&&o!=="vertical"||r==null||n==null||a==null||i==null||f==null)){var{data:w}=m,N;if(w!=null&&w.length>0?N=w:N=x?.slice(b,v+1),N!=null)return Jve({layout:o,barSettings:m,pos:l,parentViewBox:t,bandSize:f,xAxis:r,yAxis:n,xAxisTicks:a,yAxisTicks:i,stackedData:h,displayedData:N,offset:e,cells:g})}}),$I=e=>{var{chartData:t}=e,r=ma(),n=al();return k.useEffect(()=>n?()=>{}:(r(KT(t)),()=>{r(KT(void 0))}),[t,r,n]),null},RO={x:0,y:0,width:0,height:0,padding:{top:0,right:0,bottom:0,left:0}},HI=lo({name:"brush",initialState:RO,reducers:{setBrushSettings(e,t){return t.payload==null?RO:t.payload}}}),{setBrushSettings:A3e}=HI.actions,Eye=HI.reducer;function kye(e,t,r){return(t=Cye(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Cye(e){var t=Tye(e,"string");return typeof t=="symbol"?t:t+""}function Tye(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}class TS{static create(t){return new TS(t)}constructor(t){this.scale=t}get domain(){return this.scale.domain}get range(){return this.scale.range}get rangeMin(){return this.range()[0]}get rangeMax(){return this.range()[1]}get bandwidth(){return this.scale.bandwidth}apply(t){var{bandAware:r,position:n}=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(t!==void 0){if(n)switch(n){case"start":return this.scale(t);case"middle":{var a=this.bandwidth?this.bandwidth()/2:0;return this.scale(t)+a}case"end":{var i=this.bandwidth?this.bandwidth():0;return this.scale(t)+i}default:return this.scale(t)}if(r){var l=this.bandwidth?this.bandwidth()/2:0;return this.scale(t)+l}return this.scale(t)}}isInRange(t){var r=this.range(),n=r[0],a=r[r.length-1];return n<=a?t>=n&&t<=a:t>=a&&t<=n}}kye(TS,"EPS",1e-4);function Oye(e){return(e%180+180)%180}var Dye=function(t){var{width:r,height:n}=t,a=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,i=Oye(a),l=i*Math.PI/180,o=Math.atan(n/r),u=l>o&&l<Math.PI-o?n/Math.sin(l):r/Math.cos(l);return Math.abs(u)},Fye={dots:[],areas:[],lines:[]},VI=lo({name:"referenceElements",initialState:Fye,reducers:{addDot:(e,t)=>{e.dots.push(t.payload)},removeDot:(e,t)=>{var r=uf(e).dots.findIndex(n=>n===t.payload);r!==-1&&e.dots.splice(r,1)},addArea:(e,t)=>{e.areas.push(t.payload)},removeArea:(e,t)=>{var r=uf(e).areas.findIndex(n=>n===t.payload);r!==-1&&e.areas.splice(r,1)},addLine:(e,t)=>{e.lines.push(t.payload)},removeLine:(e,t)=>{var r=uf(e).lines.findIndex(n=>n===t.payload);r!==-1&&e.lines.splice(r,1)}}}),{addDot:E3e,removeDot:k3e,addArea:C3e,removeArea:T3e,addLine:O3e,removeLine:D3e}=VI.actions,Pye=VI.reducer,Lye=k.createContext(void 0),Mye=e=>{var{children:t}=e,[r]=k.useState("".concat(lg("recharts"),"-clip")),n=ES();if(n==null)return null;var{x:a,y:i,width:l,height:o}=n;return k.createElement(Lye.Provider,{value:r},k.createElement("defs",null,k.createElement("clipPath",{id:r},k.createElement("rect",{x:a,y:i,height:o,width:l}))),t)};function Qm(e,t){for(var r in e)if({}.hasOwnProperty.call(e,r)&&(!{}.hasOwnProperty.call(t,r)||e[r]!==t[r]))return!1;for(var n in t)if({}.hasOwnProperty.call(t,n)&&!{}.hasOwnProperty.call(e,n))return!1;return!0}function WI(e,t,r){if(t<1)return[];if(t===1&&r===void 0)return e;for(var n=[],a=0;a<e.length;a+=t)n.push(e[a]);return n}function Rye(e,t,r){var n={width:e.width+t.width,height:e.height+t.height};return Dye(n,r)}function Iye(e,t,r){var n=r==="width",{x:a,y:i,width:l,height:o}=e;return t===1?{start:n?a:i,end:n?a+l:i+o}:{start:n?a+l:i+o,end:n?a:i}}function Ky(e,t,r,n,a){if(e*t<e*n||e*t>e*a)return!1;var i=r();return e*(t-e*i/2-n)>=0&&e*(t+e*i/2-a)<=0}function Bye(e,t){return WI(e,t+1)}function Uye(e,t,r,n,a){for(var i=(n||[]).slice(),{start:l,end:o}=t,u=0,f=1,h=l,m=function(){var b=n?.[u];if(b===void 0)return{v:WI(n,f)};var v=u,w,N=()=>(w===void 0&&(w=r(b,v)),w),E=b.coordinate,j=u===0||Ky(e,E,N,h,o);j||(u=0,h=l,f+=1),j&&(h=E+e*(N()/2+a),u+=f)},g;f<=i.length;)if(g=m(),g)return g.v;return[]}function IO(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function bs(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?IO(Object(r),!0).forEach(function(n){zye(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):IO(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function zye(e,t,r){return(t=qye(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function qye(e){var t=$ye(e,"string");return typeof t=="symbol"?t:t+""}function $ye(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Hye(e,t,r,n,a){for(var i=(n||[]).slice(),l=i.length,{start:o}=t,{end:u}=t,f=function(g){var x=i[g],b,v=()=>(b===void 0&&(b=r(x,g)),b);if(g===l-1){var w=e*(x.coordinate+e*v()/2-u);i[g]=x=bs(bs({},x),{},{tickCoord:w>0?x.coordinate-w*e:x.coordinate})}else i[g]=x=bs(bs({},x),{},{tickCoord:x.coordinate});var N=Ky(e,x.tickCoord,v,o,u);N&&(u=x.tickCoord-e*(v()/2+a),i[g]=bs(bs({},x),{},{isShow:!0}))},h=l-1;h>=0;h--)f(h);return i}function Vye(e,t,r,n,a,i){var l=(n||[]).slice(),o=l.length,{start:u,end:f}=t;if(i){var h=n[o-1],m=r(h,o-1),g=e*(h.coordinate+e*m/2-f);l[o-1]=h=bs(bs({},h),{},{tickCoord:g>0?h.coordinate-g*e:h.coordinate});var x=Ky(e,h.tickCoord,()=>m,u,f);x&&(f=h.tickCoord-e*(m/2+a),l[o-1]=bs(bs({},h),{},{isShow:!0}))}for(var b=i?o-1:o,v=function(E){var j=l[E],T,O=()=>(T===void 0&&(T=r(j,E)),T);if(E===0){var P=e*(j.coordinate-e*O()/2-u);l[E]=j=bs(bs({},j),{},{tickCoord:P<0?j.coordinate-P*e:j.coordinate})}else l[E]=j=bs(bs({},j),{},{tickCoord:j.coordinate});var D=Ky(e,j.tickCoord,O,u,f);D&&(u=j.tickCoord+e*(O()/2+a),l[E]=bs(bs({},j),{},{isShow:!0}))},w=0;w<b;w++)v(w);return l}function OS(e,t,r){var{tick:n,ticks:a,viewBox:i,minTickGap:l,orientation:o,interval:u,tickFormatter:f,unit:h,angle:m}=e;if(!a||!a.length||!n)return[];if(Qt(u)||Hd.isSsr){var g;return(g=Bye(a,Qt(u)?u:0))!==null&&g!==void 0?g:[]}var x=[],b=o==="top"||o==="bottom"?"width":"height",v=h&&b==="width"?Px(h,{fontSize:t,letterSpacing:r}):{width:0,height:0},w=(j,T)=>{var O=typeof f=="function"?f(j.value,T):j.value;return b==="width"?Rye(Px(O,{fontSize:t,letterSpacing:r}),v,m):Px(O,{fontSize:t,letterSpacing:r})[b]},N=a.length>=2?$i(a[1].coordinate-a[0].coordinate):1,E=Iye(i,N,b);return u==="equidistantPreserveStart"?Uye(N,E,w,a,l):(u==="preserveStart"||u==="preserveStartEnd"?x=Vye(N,E,w,a,l,u==="preserveStartEnd"):x=Hye(N,E,w,a,l),x.filter(j=>j.isShow))}var Wye=e=>{var{ticks:t,label:r,labelGapWithTick:n=5,tickSize:a=0,tickMargin:i=0}=e,l=0;if(t){Array.from(t).forEach(h=>{if(h){var m=h.getBoundingClientRect();m.width>l&&(l=m.width)}});var o=r?r.getBoundingClientRect().width:0,u=a+i,f=l+u+o+(r?n:0);return Math.round(f)}return 0},Kye=["axisLine","width","height","className","hide","ticks"],Gye=["viewBox"],Yye=["viewBox"];function a_(e,t){if(e==null)return{};var r,n,a=Xye(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}function Xye(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}function ih(){return ih=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},ih.apply(null,arguments)}function BO(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function wi(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?BO(Object(r),!0).forEach(function(n){Qye(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):BO(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Qye(e,t,r){return(t=Zye(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Zye(e){var t=Jye(e,"string");return typeof t=="symbol"?t:t+""}function Jye(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var DS={x:0,y:0,width:0,height:0,viewBox:{x:0,y:0,width:0,height:0},orientation:"bottom",ticks:[],stroke:"#666",tickLine:!0,axisLine:!0,tick:!0,mirror:!1,minTickGap:5,tickSize:6,tickMargin:2,interval:"preserveEnd"};function e2e(e){var{x:t,y:r,width:n,height:a,orientation:i,mirror:l,axisLine:o,otherSvgProps:u}=e;if(!o)return null;var f=wi(wi(wi({},u),ao(o)),{},{fill:"none"});if(i==="top"||i==="bottom"){var h=+(i==="top"&&!l||i==="bottom"&&l);f=wi(wi({},f),{},{x1:t,y1:r+h*a,x2:t+n,y2:r+h*a})}else{var m=+(i==="left"&&!l||i==="right"&&l);f=wi(wi({},f),{},{x1:t+m*n,y1:r,x2:t+m*n,y2:r+a})}return k.createElement("line",ih({},f,{className:ln("recharts-cartesian-axis-line",eh(o,"className"))}))}function t2e(e,t,r,n,a,i,l,o,u){var f,h,m,g,x,b,v=o?-1:1,w=e.tickSize||l,N=Qt(e.tickCoord)?e.tickCoord:e.coordinate;switch(i){case"top":f=h=e.coordinate,g=r+ +!o*a,m=g-v*w,b=m-v*u,x=N;break;case"left":m=g=e.coordinate,h=t+ +!o*n,f=h-v*w,x=f-v*u,b=N;break;case"right":m=g=e.coordinate,h=t+ +o*n,f=h+v*w,x=f+v*u,b=N;break;default:f=h=e.coordinate,g=r+ +o*a,m=g+v*w,b=m+v*u,x=N;break}return{line:{x1:f,y1:m,x2:h,y2:g},tick:{x,y:b}}}function r2e(e,t){switch(e){case"left":return t?"start":"end";case"right":return t?"end":"start";default:return"middle"}}function n2e(e,t){switch(e){case"left":case"right":return"middle";case"top":return t?"start":"end";default:return t?"end":"start"}}function a2e(e){var{option:t,tickProps:r,value:n}=e,a,i=ln(r.className,"recharts-cartesian-axis-tick-value");if(k.isValidElement(t))a=k.cloneElement(t,wi(wi({},r),{},{className:i}));else if(typeof t=="function")a=t(wi(wi({},r),{},{className:i}));else{var l="recharts-cartesian-axis-tick-value";typeof t!="boolean"&&(l=ln(l,t?.className)),a=k.createElement(eb,ih({},r,{className:l}),n)}return a}function i2e(e){var{ticks:t=[],tick:r,tickLine:n,stroke:a,tickFormatter:i,unit:l,padding:o,tickTextProps:u,orientation:f,mirror:h,x:m,y:g,width:x,height:b,tickSize:v,tickMargin:w,fontSize:N,letterSpacing:E,getTicksConfig:j,events:T}=e,O=OS(wi(wi({},j),{},{ticks:t}),N,E),P=r2e(f,h),D=n2e(f,h),M=ao(j),B=J0(r),H={};typeof n=="object"&&(H=n);var L=wi(wi({},M),{},{fill:"none"},H),U=O.map((G,te)=>{var{line:de,tick:ne}=t2e(G,m,g,x,b,f,v,h,w),Z=wi(wi(wi(wi({textAnchor:P,verticalAnchor:D},M),{},{stroke:"none",fill:a},B),ne),{},{index:te,payload:G,visibleTicksCount:O.length,tickFormatter:i,padding:o},u);return k.createElement(os,ih({className:"recharts-cartesian-axis-tick",key:"tick-".concat(G.value,"-").concat(G.coordinate,"-").concat(G.tickCoord)},Mg(T,G,te)),n&&k.createElement("line",ih({},L,de,{className:ln("recharts-cartesian-axis-tick-line",eh(n,"className"))})),r&&k.createElement(a2e,{option:r,tickProps:Z,value:"".concat(typeof i=="function"?i(G.value,te):G.value).concat(l||"")}))});return U.length>0?k.createElement("g",{className:"recharts-cartesian-axis-ticks"},U):null}var s2e=k.forwardRef((e,t)=>{var{axisLine:r,width:n,height:a,className:i,hide:l,ticks:o}=e,u=a_(e,Kye),[f,h]=k.useState(""),[m,g]=k.useState(""),x=k.useRef(null);k.useImperativeHandle(t,()=>({getCalculatedWidth:()=>{var v;return Wye({ticks:x.current,label:(v=e.labelRef)===null||v===void 0?void 0:v.current,labelGapWithTick:5,tickSize:e.tickSize,tickMargin:e.tickMargin})}}));var b=k.useCallback(v=>{if(v){var w=v.getElementsByClassName("recharts-cartesian-axis-tick-value");x.current=w;var N=w[0];if(N){var E=window.getComputedStyle(N),j=E.fontSize,T=E.letterSpacing;(j!==f||T!==m)&&(h(j),g(T))}}},[f,m]);return l||n!=null&&n<=0||a!=null&&a<=0?null:k.createElement(os,{className:ln("recharts-cartesian-axis",i),ref:b},k.createElement(e2e,{x:e.x,y:e.y,width:n,height:a,orientation:e.orientation,mirror:e.mirror,axisLine:r,otherSvgProps:ao(e)}),k.createElement(i2e,{ticks:o,tick:e.tick,tickLine:e.tickLine,stroke:e.stroke,tickFormatter:e.tickFormatter,unit:e.unit,padding:e.padding,tickTextProps:e.tickTextProps,orientation:e.orientation,mirror:e.mirror,x:e.x,y:e.y,width:e.width,height:e.height,tickSize:e.tickSize,tickMargin:e.tickMargin,fontSize:f,letterSpacing:m,getTicksConfig:e,events:u}),k.createElement(oge,{x:e.x,y:e.y,width:e.width,height:e.height},k.createElement(vge,{label:e.label,labelRef:e.labelRef}),e.children))}),l2e=k.memo(s2e,(e,t)=>{var{viewBox:r}=e,n=a_(e,Gye),{viewBox:a}=t,i=a_(t,Yye);return Qm(r,a)&&Qm(n,i)}),FS=k.forwardRef((e,t)=>{var r=cs(e,DS);return k.createElement(l2e,ih({},r,{ref:t}))});FS.displayName="CartesianAxis";var o2e=["x1","y1","x2","y2","key"],c2e=["offset"],u2e=["xAxisId","yAxisId"],f2e=["xAxisId","yAxisId"];function UO(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function js(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?UO(Object(r),!0).forEach(function(n){d2e(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):UO(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function d2e(e,t,r){return(t=h2e(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function h2e(e){var t=m2e(e,"string");return typeof t=="symbol"?t:t+""}function m2e(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function O0(){return O0=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},O0.apply(null,arguments)}function Gy(e,t){if(e==null)return{};var r,n,a=p2e(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}function p2e(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}var x2e=e=>{var{fill:t}=e;if(!t||t==="none")return null;var{fillOpacity:r,x:n,y:a,width:i,height:l,ry:o}=e;return k.createElement("rect",{x:n,y:a,ry:o,width:i,height:l,stroke:"none",fill:t,fillOpacity:r,className:"recharts-cartesian-grid-bg"})};function KI(e,t){var r;if(k.isValidElement(e))r=k.cloneElement(e,t);else if(typeof e=="function")r=e(t);else{var{x1:n,y1:a,x2:i,y2:l,key:o}=t,u=Gy(t,o2e),f=ao(u),{offset:h}=f,m=Gy(f,c2e);r=k.createElement("line",O0({},m,{x1:n,y1:a,x2:i,y2:l,fill:"none",key:o}))}return r}function g2e(e){var{x:t,width:r,horizontal:n=!0,horizontalPoints:a}=e;if(!n||!a||!a.length)return null;var{xAxisId:i,yAxisId:l}=e,o=Gy(e,u2e),u=a.map((f,h)=>{var m=js(js({},o),{},{x1:t,y1:f,x2:t+r,y2:f,key:"line-".concat(h),index:h});return KI(n,m)});return k.createElement("g",{className:"recharts-cartesian-grid-horizontal"},u)}function v2e(e){var{y:t,height:r,vertical:n=!0,verticalPoints:a}=e;if(!n||!a||!a.length)return null;var{xAxisId:i,yAxisId:l}=e,o=Gy(e,f2e),u=a.map((f,h)=>{var m=js(js({},o),{},{x1:f,y1:t,x2:f,y2:t+r,key:"line-".concat(h),index:h});return KI(n,m)});return k.createElement("g",{className:"recharts-cartesian-grid-vertical"},u)}function y2e(e){var{horizontalFill:t,fillOpacity:r,x:n,y:a,width:i,height:l,horizontalPoints:o,horizontal:u=!0}=e;if(!u||!t||!t.length)return null;var f=o.map(m=>Math.round(m+a-a)).sort((m,g)=>m-g);a!==f[0]&&f.unshift(0);var h=f.map((m,g)=>{var x=!f[g+1],b=x?a+l-m:f[g+1]-m;if(b<=0)return null;var v=g%t.length;return k.createElement("rect",{key:"react-".concat(g),y:m,x:n,height:b,width:i,stroke:"none",fill:t[v],fillOpacity:r,className:"recharts-cartesian-grid-bg"})});return k.createElement("g",{className:"recharts-cartesian-gridstripes-horizontal"},h)}function b2e(e){var{vertical:t=!0,verticalFill:r,fillOpacity:n,x:a,y:i,width:l,height:o,verticalPoints:u}=e;if(!t||!r||!r.length)return null;var f=u.map(m=>Math.round(m+a-a)).sort((m,g)=>m-g);a!==f[0]&&f.unshift(0);var h=f.map((m,g)=>{var x=!f[g+1],b=x?a+l-m:f[g+1]-m;if(b<=0)return null;var v=g%r.length;return k.createElement("rect",{key:"react-".concat(g),x:m,y:i,width:b,height:o,stroke:"none",fill:r[v],fillOpacity:n,className:"recharts-cartesian-grid-bg"})});return k.createElement("g",{className:"recharts-cartesian-gridstripes-vertical"},h)}var w2e=(e,t)=>{var{xAxis:r,width:n,height:a,offset:i}=e;return UM(OS(js(js(js({},DS),r),{},{ticks:zM(r),viewBox:{x:0,y:0,width:n,height:a}})),i.left,i.left+i.width,t)},N2e=(e,t)=>{var{yAxis:r,width:n,height:a,offset:i}=e;return UM(OS(js(js(js({},DS),r),{},{ticks:zM(r),viewBox:{x:0,y:0,width:n,height:a}})),i.top,i.top+i.height,t)},_2e={horizontal:!0,vertical:!0,horizontalPoints:[],verticalPoints:[],stroke:"#ccc",fill:"none",verticalFill:[],horizontalFill:[],xAxisId:0,yAxisId:0};function i_(e){var t=nj(),r=aj(),n=GM(),a=js(js({},cs(e,_2e)),{},{x:Qt(e.x)?e.x:n.left,y:Qt(e.y)?e.y:n.top,width:Qt(e.width)?e.width:n.width,height:Qt(e.height)?e.height:n.height}),{xAxisId:i,yAxisId:l,x:o,y:u,width:f,height:h,syncWithTicks:m,horizontalValues:g,verticalValues:x}=a,b=al(),v=Ht(B=>IT(B,"xAxis",i,b)),w=Ht(B=>IT(B,"yAxis",l,b));if(!Qt(f)||f<=0||!Qt(h)||h<=0||!Qt(o)||o!==+o||!Qt(u)||u!==+u)return null;var N=a.verticalCoordinatesGenerator||w2e,E=a.horizontalCoordinatesGenerator||N2e,{horizontalPoints:j,verticalPoints:T}=a;if((!j||!j.length)&&typeof E=="function"){var O=g&&g.length,P=E({yAxis:w?js(js({},w),{},{ticks:O?g:w.ticks}):void 0,width:t,height:r,offset:n},O?!0:m);Ay(Array.isArray(P),"horizontalCoordinatesGenerator should return Array but instead it returned [".concat(typeof P,"]")),Array.isArray(P)&&(j=P)}if((!T||!T.length)&&typeof N=="function"){var D=x&&x.length,M=N({xAxis:v?js(js({},v),{},{ticks:D?x:v.ticks}):void 0,width:t,height:r,offset:n},D?!0:m);Ay(Array.isArray(M),"verticalCoordinatesGenerator should return Array but instead it returned [".concat(typeof M,"]")),Array.isArray(M)&&(T=M)}return k.createElement("g",{className:"recharts-cartesian-grid"},k.createElement(x2e,{fill:a.fill,fillOpacity:a.fillOpacity,x:a.x,y:a.y,width:a.width,height:a.height,ry:a.ry}),k.createElement(y2e,O0({},a,{horizontalPoints:j})),k.createElement(b2e,O0({},a,{verticalPoints:T})),k.createElement(g2e,O0({},a,{offset:n,horizontalPoints:j,xAxis:v,yAxis:w})),k.createElement(v2e,O0({},a,{offset:n,verticalPoints:T,xAxis:v,yAxis:w})))}i_.displayName="CartesianGrid";var GI=(e,t,r,n)=>Dd(e,"xAxis",t,n),YI=(e,t,r,n)=>Od(e,"xAxis",t,n),XI=(e,t,r,n)=>Dd(e,"yAxis",r,n),QI=(e,t,r,n)=>Od(e,"yAxis",r,n),j2e=He([Gr,GI,XI,YI,QI],(e,t,r,n,a)=>$d(e,"xAxis")?fg(t,n,!1):fg(r,a,!1)),S2e=(e,t,r,n,a)=>a;function A2e(e){return e.type==="line"}var E2e=He([G2,S2e],(e,t)=>e.filter(A2e).find(r=>r.id===t)),k2e=He([Gr,GI,XI,YI,QI,E2e,j2e,z2],(e,t,r,n,a,i,l,o)=>{var{chartData:u,dataStartIndex:f,dataEndIndex:h}=o;if(!(i==null||t==null||r==null||n==null||a==null||n.length===0||a.length===0||l==null)){var{dataKey:m,data:g}=i,x;if(g!=null&&g.length>0?x=g:x=u?.slice(f,h+1),x!=null)return Q2e({layout:e,xAxis:t,yAxis:r,xAxisTicks:n,yAxisTicks:a,dataKey:m,bandSize:l,displayedData:x})}});function C2e(e){var t=J0(e),r=3,n=2;if(t!=null){var{r:a,strokeWidth:i}=t,l=Number(a),o=Number(i);return(Number.isNaN(l)||l<0)&&(l=r),(Number.isNaN(o)||o<0)&&(o=n),{r:l,strokeWidth:o}}return{r,strokeWidth:n}}var T2e=["id"],O2e=["type","layout","connectNulls","needClip"],D2e=["activeDot","animateNewValues","animationBegin","animationDuration","animationEasing","connectNulls","dot","hide","isAnimationActive","label","legendType","xAxisId","yAxisId","id"];function zO(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function Ql(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?zO(Object(r),!0).forEach(function(n){F2e(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):zO(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function F2e(e,t,r){return(t=P2e(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function P2e(e){var t=L2e(e,"string");return typeof t=="symbol"?t:t+""}function L2e(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function PS(e,t){if(e==null)return{};var r,n,a=M2e(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}function M2e(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}function sh(){return sh=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},sh.apply(null,arguments)}var R2e=e=>{var{dataKey:t,name:r,stroke:n,legendType:a,hide:i}=e;return[{inactive:i,dataKey:t,type:a,color:n,value:up(r,t),payload:e}]};function I2e(e){var{dataKey:t,data:r,stroke:n,strokeWidth:a,fill:i,name:l,hide:o,unit:u}=e;return{dataDefinedOnItem:r,positions:void 0,settings:{stroke:n,strokeWidth:a,fill:i,dataKey:t,nameKey:void 0,name:up(l,t),hide:o,type:e.tooltipType,color:e.stroke,unit:u}}}var ZI=(e,t)=>"".concat(t,"px ").concat(e-t,"px");function B2e(e,t){for(var r=e.length%2!==0?[...e,0]:e,n=[],a=0;a<t;++a)n=[...n,...r];return n}var U2e=(e,t,r)=>{var n=r.reduce((m,g)=>m+g);if(!n)return ZI(t,e);for(var a=Math.floor(e/n),i=e%n,l=t-e,o=[],u=0,f=0;u<r.length;f+=r[u],++u)if(f+r[u]>i){o=[...r.slice(0,u),i-f];break}var h=o.length%2===0?[0,l]:[l];return[...B2e(r,a),...o,...h].map(m=>"".concat(m,"px")).join(", ")};function z2e(e,t){var r;if(k.isValidElement(e))r=k.cloneElement(e,t);else if(typeof e=="function")r=e(t);else{var n=ln("recharts-line-dot",typeof e!="boolean"?e.className:"");r=k.createElement(jI,sh({},t,{className:n}))}return r}function q2e(e,t){return e==null?!1:t?!0:e.length===1}function $2e(e){var{clipPathId:t,points:r,props:n}=e,{dot:a,dataKey:i,needClip:l}=n;if(!q2e(r,a))return null;var{id:o}=n,u=PS(n,T2e),f=TI(a),h=ao(u),m=Dse(a),g=r.map((b,v)=>{var w=Ql(Ql(Ql({key:"dot-".concat(v),r:3},h),m),{},{index:v,cx:b.x,cy:b.y,dataKey:i,value:b.value,payload:b.payload,points:r});return z2e(a,w)}),x={clipPath:l?"url(#clipPath-".concat(f?"":"dots-").concat(t,")"):void 0};return k.createElement(os,sh({className:"recharts-line-dots",key:"dots"},x),g)}function H2e(e){var{showLabels:t,children:r,points:n}=e,a=k.useMemo(()=>n?.map(i=>{var l={x:i.x,y:i.y,width:0,height:0};return Ql(Ql({},l),{},{value:i.value,payload:i.payload,viewBox:l,parentViewBox:void 0,fill:void 0})}),[n]);return k.createElement(NI,{value:t?a:null},r)}function qO(e){var{clipPathId:t,pathRef:r,points:n,strokeDasharray:a,props:i}=e,{type:l,layout:o,connectNulls:u,needClip:f}=i,h=PS(i,O2e),m=Ql(Ql({},nl(h)),{},{fill:"none",className:"recharts-line-curve",clipPath:f?"url(#clipPath-".concat(t,")"):void 0,points:n,type:l,layout:o,connectNulls:u,strokeDasharray:a??i.strokeDasharray});return k.createElement(k.Fragment,null,n?.length>1&&k.createElement(sj,sh({},m,{pathRef:r})),k.createElement($2e,{points:n,clipPathId:t,props:i}))}function V2e(e){try{return e&&e.getTotalLength&&e.getTotalLength()||0}catch{return 0}}function W2e(e){var{clipPathId:t,props:r,pathRef:n,previousPointsRef:a,longestAnimatedLengthRef:i}=e,{points:l,strokeDasharray:o,isAnimationActive:u,animationBegin:f,animationDuration:h,animationEasing:m,animateNewValues:g,width:x,height:b,onAnimationEnd:v,onAnimationStart:w}=r,N=a.current,E=zg(r,"recharts-line-"),[j,T]=k.useState(!1),O=!j,P=k.useCallback(()=>{typeof v=="function"&&v(),T(!1)},[v]),D=k.useCallback(()=>{typeof w=="function"&&w(),T(!0)},[w]),M=V2e(n.current),B=i.current;return k.createElement(H2e,{points:l,showLabels:O},r.children,k.createElement(Ug,{animationId:E,begin:f,duration:h,isActive:u,easing:m,onAnimationEnd:P,onAnimationStart:D,key:E},H=>{var L=Ra(B,M+B,H),U=Math.min(L,M),G;if(u)if(o){var te="".concat(o).split(/[,\s]+/gim).map(Z=>parseFloat(Z));G=U2e(U,M,te)}else G=ZI(M,U);else G=o==null?void 0:String(o);if(N){var de=N.length/l.length,ne=H===1?l:l.map((Z,xe)=>{var le=Math.floor(xe*de);if(N[le]){var Se=N[le];return Ql(Ql({},Z),{},{x:Ra(Se.x,Z.x,H),y:Ra(Se.y,Z.y,H)})}return g?Ql(Ql({},Z),{},{x:Ra(x*2,Z.x,H),y:Ra(b/2,Z.y,H)}):Ql(Ql({},Z),{},{x:Z.x,y:Z.y})});return a.current=ne,k.createElement(qO,{props:r,points:ne,clipPathId:t,pathRef:n,strokeDasharray:G})}return H>0&&M>0&&(a.current=l,i.current=U),k.createElement(qO,{props:r,points:l,clipPathId:t,pathRef:n,strokeDasharray:G})}),k.createElement(gS,{label:r.label}))}function K2e(e){var{clipPathId:t,props:r}=e,n=k.useRef(null),a=k.useRef(0),i=k.useRef(null);return k.createElement(W2e,{props:r,clipPathId:t,previousPointsRef:n,longestAnimatedLengthRef:a,pathRef:i})}var G2e=(e,t)=>({x:e.x,y:e.y,value:e.value,errorVal:$n(e.payload,t)});class Y2e extends k.Component{render(){var{hide:t,dot:r,points:n,className:a,xAxisId:i,yAxisId:l,top:o,left:u,width:f,height:h,id:m,needClip:g}=this.props;if(t)return null;var x=ln("recharts-line",a),b=m,{r:v,strokeWidth:w}=C2e(r),N=TI(r),E=v*2+w;return k.createElement(k.Fragment,null,k.createElement(os,{className:x},g&&k.createElement("defs",null,k.createElement(UI,{clipPathId:b,xAxisId:i,yAxisId:l}),!N&&k.createElement("clipPath",{id:"clipPath-dots-".concat(b)},k.createElement("rect",{x:u-E/2,y:o-E/2,width:f+E,height:h+E}))),k.createElement(BI,{xAxisId:i,yAxisId:l,data:n,dataPointFormatter:G2e,errorBarOffset:0},k.createElement(K2e,{props:this.props,clipPathId:b}))),k.createElement(mve,{activeDot:this.props.activeDot,points:n,mainColor:this.props.stroke,itemDataKey:this.props.dataKey}))}}var JI={activeDot:!0,animateNewValues:!0,animationBegin:0,animationDuration:1500,animationEasing:"ease",connectNulls:!1,dot:!0,fill:"#fff",hide:!1,isAnimationActive:!Hd.isSsr,label:!1,legendType:"line",stroke:"#3182bd",strokeWidth:1,xAxisId:0,yAxisId:0};function X2e(e){var t=cs(e,JI),{activeDot:r,animateNewValues:n,animationBegin:a,animationDuration:i,animationEasing:l,connectNulls:o,dot:u,hide:f,isAnimationActive:h,label:m,legendType:g,xAxisId:x,yAxisId:b,id:v}=t,w=PS(t,D2e),{needClip:N}=CS(x,b),E=ES(),j=F2(),T=al(),O=Ht(H=>k2e(H,x,b,T,v));if(j!=="horizontal"&&j!=="vertical"||O==null||E==null)return null;var{height:P,width:D,x:M,y:B}=E;return k.createElement(Y2e,sh({},w,{id:v,connectNulls:o,dot:u,activeDot:r,animateNewValues:n,animationBegin:a,animationDuration:i,animationEasing:l,isAnimationActive:h,hide:f,label:m,legendType:g,xAxisId:x,yAxisId:b,points:O,layout:j,height:P,width:D,left:M,top:B,needClip:N}))}function Q2e(e){var{layout:t,xAxis:r,yAxis:n,xAxisTicks:a,yAxisTicks:i,dataKey:l,bandSize:o,displayedData:u}=e;return u.map((f,h)=>{var m=$n(f,l);if(t==="horizontal"){var g=d8({axis:r,ticks:a,bandSize:o,entry:f,index:h}),x=ha(m)?null:n.scale(m);return{x:g,y:x,value:m,payload:f}}var b=ha(m)?null:r.scale(m),v=d8({axis:n,ticks:i,bandSize:o,entry:f,index:h});return b==null||v==null?null:{x:b,y:v,value:m,payload:f}}).filter(Boolean)}function Z2e(e){var t=cs(e,JI),r=al();return k.createElement(SS,{id:t.id,type:"line"},n=>k.createElement(k.Fragment,null,k.createElement(FI,{legendPayload:R2e(t)}),k.createElement(jS,{fn:I2e,args:t}),k.createElement(LI,{type:"line",id:n,data:t.data,xAxisId:t.xAxisId,yAxisId:t.yAxisId,zAxisId:0,dataKey:t.dataKey,hide:t.hide,isPanorama:r}),k.createElement(X2e,sh({},t,{id:n}))))}var s_=k.memo(Z2e);s_.displayName="Line";var J2e=["dangerouslySetInnerHTML","ticks"],ebe=["id"],tbe=["domain"],rbe=["domain"];function l_(){return l_=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},l_.apply(null,arguments)}function Yy(e,t){if(e==null)return{};var r,n,a=nbe(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}function nbe(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}function abe(e){var t=ma();return k.useLayoutEffect(()=>(t(tve(e)),()=>{t(rve(e))}),[e,t]),null}var ibe=e=>{var{xAxisId:t,className:r}=e,n=Ht(tj),a=al(),i="xAxis",l=Ht(w=>vp(w,i,t,a)),o=Ht(w=>M9(w,i,t,a)),u=Ht(w=>D9(w,t)),f=Ht(w=>qme(w,t)),h=Ht(w=>h9(w,t));if(u==null||f==null||h==null)return null;var{dangerouslySetInnerHTML:m,ticks:g}=e,x=Yy(e,J2e),{id:b}=h,v=Yy(h,ebe);return k.createElement(FS,l_({},x,v,{scale:l,x:f.x,y:f.y,width:u.width,height:u.height,className:ln("recharts-".concat(i," ").concat(i),r),viewBox:n,ticks:o}))},sbe={allowDataOverflow:Wl.allowDataOverflow,allowDecimals:Wl.allowDecimals,allowDuplicatedCategory:Wl.allowDuplicatedCategory,height:Wl.height,hide:!1,mirror:Wl.mirror,orientation:Wl.orientation,padding:Wl.padding,reversed:Wl.reversed,scale:Wl.scale,tickCount:Wl.tickCount,type:Wl.type,xAxisId:0},lbe=e=>{var t,r,n,a,i,l=cs(e,sbe);return k.createElement(k.Fragment,null,k.createElement(abe,{interval:(t=l.interval)!==null&&t!==void 0?t:"preserveEnd",id:l.xAxisId,scale:l.scale,type:l.type,padding:l.padding,allowDataOverflow:l.allowDataOverflow,domain:l.domain,dataKey:l.dataKey,allowDuplicatedCategory:l.allowDuplicatedCategory,allowDecimals:l.allowDecimals,tickCount:l.tickCount,includeHidden:(r=l.includeHidden)!==null&&r!==void 0?r:!1,reversed:l.reversed,ticks:l.ticks,height:l.height,orientation:l.orientation,mirror:l.mirror,hide:l.hide,unit:l.unit,name:l.name,angle:(n=l.angle)!==null&&n!==void 0?n:0,minTickGap:(a=l.minTickGap)!==null&&a!==void 0?a:5,tick:(i=l.tick)!==null&&i!==void 0?i:!0,tickFormatter:l.tickFormatter}),k.createElement(ibe,l))},obe=(e,t)=>{var{domain:r}=e,n=Yy(e,tbe),{domain:a}=t,i=Yy(t,rbe);return Qm(n,i)?Array.isArray(r)&&r.length===2&&Array.isArray(a)&&a.length===2?r[0]===a[0]&&r[1]===a[1]:Qm({domain:r},{domain:a}):!1},o_=k.memo(lbe,obe);o_.displayName="XAxis";var cbe=["dangerouslySetInnerHTML","ticks"],ube=["id"],fbe=["domain"],dbe=["domain"];function c_(){return c_=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},c_.apply(null,arguments)}function Xy(e,t){if(e==null)return{};var r,n,a=hbe(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}function hbe(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}function mbe(e){var t=ma();return k.useLayoutEffect(()=>(t(nve(e)),()=>{t(ave(e))}),[e,t]),null}var pbe=e=>{var{yAxisId:t,className:r,width:n,label:a}=e,i=k.useRef(null),l=k.useRef(null),o=Ht(tj),u=al(),f=ma(),h="yAxis",m=Ht(O=>vp(O,h,t,u)),g=Ht(O=>F9(O,t)),x=Ht(O=>Hme(O,t)),b=Ht(O=>M9(O,h,t,u)),v=Ht(O=>m9(O,t));if(k.useLayoutEffect(()=>{if(!(n!=="auto"||!g||xS(a)||k.isValidElement(a)||v==null)){var O=i.current;if(O){var P=O.getCalculatedWidth();Math.round(g.width)!==Math.round(P)&&f(ive({id:t,width:P}))}}},[b,g,f,a,t,n,v]),g==null||x==null||v==null)return null;var{dangerouslySetInnerHTML:w,ticks:N}=e,E=Xy(e,cbe),{id:j}=v,T=Xy(v,ube);return k.createElement(FS,c_({},E,T,{ref:i,labelRef:l,scale:m,x:x.x,y:x.y,tickTextProps:n==="auto"?{width:void 0}:{width:n},width:g.width,height:g.height,className:ln("recharts-".concat(h," ").concat(h),r),viewBox:o,ticks:b}))},xbe={allowDataOverflow:Kl.allowDataOverflow,allowDecimals:Kl.allowDecimals,allowDuplicatedCategory:Kl.allowDuplicatedCategory,hide:!1,mirror:Kl.mirror,orientation:Kl.orientation,padding:Kl.padding,reversed:Kl.reversed,scale:Kl.scale,tickCount:Kl.tickCount,type:Kl.type,width:Kl.width,yAxisId:0},gbe=e=>{var t,r,n,a,i,l=cs(e,xbe);return k.createElement(k.Fragment,null,k.createElement(mbe,{interval:(t=l.interval)!==null&&t!==void 0?t:"preserveEnd",id:l.yAxisId,scale:l.scale,type:l.type,domain:l.domain,allowDataOverflow:l.allowDataOverflow,dataKey:l.dataKey,allowDuplicatedCategory:l.allowDuplicatedCategory,allowDecimals:l.allowDecimals,tickCount:l.tickCount,padding:l.padding,includeHidden:(r=l.includeHidden)!==null&&r!==void 0?r:!1,reversed:l.reversed,ticks:l.ticks,width:l.width,orientation:l.orientation,mirror:l.mirror,hide:l.hide,unit:l.unit,name:l.name,angle:(n=l.angle)!==null&&n!==void 0?n:0,minTickGap:(a=l.minTickGap)!==null&&a!==void 0?a:5,tick:(i=l.tick)!==null&&i!==void 0?i:!0,tickFormatter:l.tickFormatter}),k.createElement(pbe,l))},vbe=(e,t)=>{var{domain:r}=e,n=Xy(e,fbe),{domain:a}=t,i=Xy(t,dbe);return Qm(n,i)?Array.isArray(r)&&r.length===2&&Array.isArray(a)&&a.length===2?r[0]===a[0]&&r[1]===a[1]:Qm({domain:r},{domain:a}):!1},u_=k.memo(gbe,vbe);u_.displayName="YAxis";var v4={exports:{}},y4={};/**
 * @license React
 * use-sync-external-store-with-selector.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var $O;function ybe(){if($O)return y4;$O=1;var e=Zm();function t(u,f){return u===f&&(u!==0||1/u===1/f)||u!==u&&f!==f}var r=typeof Object.is=="function"?Object.is:t,n=e.useSyncExternalStore,a=e.useRef,i=e.useEffect,l=e.useMemo,o=e.useDebugValue;return y4.useSyncExternalStoreWithSelector=function(u,f,h,m,g){var x=a(null);if(x.current===null){var b={hasValue:!1,value:null};x.current=b}else b=x.current;x=l(function(){function w(O){if(!N){if(N=!0,E=O,O=m(O),g!==void 0&&b.hasValue){var P=b.value;if(g(P,O))return j=P}return j=O}if(P=j,r(E,O))return P;var D=m(O);return g!==void 0&&g(P,D)?(E=O,P):(E=O,j=D)}var N=!1,E,j,T=h===void 0?null:h;return[function(){return w(f())},T===null?void 0:function(){return w(T())}]},[f,h,m,g]);var v=n(u,x[0],x[1]);return i(function(){b.hasValue=!0,b.value=v},[v]),o(v),v},y4}var HO;function bbe(){return HO||(HO=1,v4.exports=ybe()),v4.exports}bbe();function wbe(e){e()}function Nbe(){let e=null,t=null;return{clear(){e=null,t=null},notify(){wbe(()=>{let r=e;for(;r;)r.callback(),r=r.next})},get(){const r=[];let n=e;for(;n;)r.push(n),n=n.next;return r},subscribe(r){let n=!0;const a=t={callback:r,next:null,prev:t};return a.prev?a.prev.next=a:e=a,function(){!n||e===null||(n=!1,a.next?a.next.prev=a.prev:t=a.prev,a.prev?a.prev.next=a.next:e=a.next)}}}}var VO={notify(){},get:()=>[]};function _be(e,t){let r,n=VO,a=0,i=!1;function l(v){h();const w=n.subscribe(v);let N=!1;return()=>{N||(N=!0,w(),m())}}function o(){n.notify()}function u(){b.onStateChange&&b.onStateChange()}function f(){return i}function h(){a++,r||(r=e.subscribe(u),n=Nbe())}function m(){a--,r&&a===0&&(r(),r=void 0,n.clear(),n=VO)}function g(){i||(i=!0,h())}function x(){i&&(i=!1,m())}const b={addNestedSub:l,notifyNestedSubs:o,handleChangeWrapper:u,isSubscribed:f,trySubscribe:g,tryUnsubscribe:x,getListeners:()=>n};return b}var jbe=()=>typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",Sbe=jbe(),Abe=()=>typeof navigator<"u"&&navigator.product==="ReactNative",Ebe=Abe(),kbe=()=>Sbe||Ebe?k.useLayoutEffect:k.useEffect,Cbe=kbe(),Tbe=Symbol.for("react-redux-context"),Obe=typeof globalThis<"u"?globalThis:{};function Dbe(){if(!k.createContext)return{};const e=Obe[Tbe]??=new Map;let t=e.get(k.createContext);return t||(t=k.createContext(null),e.set(k.createContext,t)),t}var Fbe=Dbe();function Pbe(e){const{children:t,context:r,serverState:n,store:a}=e,i=k.useMemo(()=>{const u=_be(a);return{store:a,subscription:u,getServerState:n?()=>n:void 0}},[a,n]),l=k.useMemo(()=>a.getState(),[a]);Cbe(()=>{const{subscription:u}=i;return u.onStateChange=u.notifyNestedSubs,u.trySubscribe(),l!==a.getState()&&u.notifyNestedSubs(),()=>{u.tryUnsubscribe(),u.onStateChange=void 0}},[i,l]);const o=r||Fbe;return k.createElement(o.Provider,{value:i},t)}var Lbe=Pbe,Mbe=(e,t)=>t,LS=He([Mbe,Gr,u9,Ci,J9,Ff,Ype,Ei],exe),MS=e=>{var t=e.currentTarget.getBoundingClientRect(),r=t.width/e.currentTarget.offsetWidth,n=t.height/e.currentTarget.offsetHeight;return{chartX:Math.round((e.clientX-t.left)/r),chartY:Math.round((e.clientY-t.top)/n)}},eB=Ho("mouseClick"),tB=Ig();tB.startListening({actionCreator:eB,effect:(e,t)=>{var r=e.payload,n=LS(t.getState(),MS(r));n?.activeIndex!=null&&t.dispatch(npe({activeIndex:n.activeIndex,activeDataKey:void 0,activeCoordinate:n.activeCoordinate}))}});var f_=Ho("mouseMove"),rB=Ig();rB.startListening({actionCreator:f_,effect:(e,t)=>{var r=e.payload,n=t.getState(),a=sS(n,n.tooltip.settings.shared),i=LS(n,MS(r));a==="axis"&&(i?.activeIndex!=null?t.dispatch(H9({activeIndex:i.activeIndex,activeDataKey:void 0,activeCoordinate:i.activeCoordinate})):t.dispatch($9()))}});var WO={accessibilityLayer:!0,barCategoryGap:"10%",barGap:4,barSize:void 0,className:void 0,maxBarSize:void 0,stackOffset:"none",syncId:void 0,syncMethod:"index"},nB=lo({name:"rootProps",initialState:WO,reducers:{updateOptions:(e,t)=>{var r;e.accessibilityLayer=t.payload.accessibilityLayer,e.barCategoryGap=t.payload.barCategoryGap,e.barGap=(r=t.payload.barGap)!==null&&r!==void 0?r:WO.barGap,e.barSize=t.payload.barSize,e.maxBarSize=t.payload.maxBarSize,e.stackOffset=t.payload.stackOffset,e.syncId=t.payload.syncId,e.syncMethod=t.payload.syncMethod,e.className=t.payload.className}}}),Rbe=nB.reducer,{updateOptions:Ibe}=nB.actions,aB=lo({name:"polarOptions",initialState:null,reducers:{updatePolarOptions:(e,t)=>t.payload}}),{updatePolarOptions:Bbe}=aB.actions,Ube=aB.reducer,iB=Ho("keyDown"),sB=Ho("focus"),RS=Ig();RS.startListening({actionCreator:iB,effect:(e,t)=>{var r=t.getState(),n=r.rootProps.accessibilityLayer!==!1;if(n){var{keyboardInteraction:a}=r.tooltip,i=e.payload;if(!(i!=="ArrowRight"&&i!=="ArrowLeft"&&i!=="Enter")){var l=Number(lS(a,bp(r))),o=Ff(r);if(i==="Enter"){var u=qy(r,"axis","hover",String(a.index));t.dispatch(QN({active:!a.active,activeIndex:a.index,activeDataKey:a.dataKey,activeCoordinate:u}));return}var f=Gme(r),h=f==="left-to-right"?1:-1,m=i==="ArrowRight"?1:-1,g=l+m*h;if(!(o==null||g>=o.length||g<0)){var x=qy(r,"axis","hover",String(g));t.dispatch(QN({active:!0,activeIndex:g.toString(),activeDataKey:void 0,activeCoordinate:x}))}}}}});RS.startListening({actionCreator:sB,effect:(e,t)=>{var r=t.getState(),n=r.rootProps.accessibilityLayer!==!1;if(n){var{keyboardInteraction:a}=r.tooltip;if(!a.active&&a.index==null){var i="0",l=qy(r,"axis","hover",String(i));t.dispatch(QN({activeDataKey:void 0,active:!0,activeIndex:i,activeCoordinate:l}))}}}});var Fo=Ho("externalEvent"),lB=Ig();lB.startListening({actionCreator:Fo,effect:(e,t)=>{if(e.payload.handler!=null){var r=t.getState(),n={activeCoordinate:Bpe(r),activeDataKey:nI(r),activeIndex:Fd(r),activeLabel:rI(r),activeTooltipIndex:Fd(r),isTooltipActive:Upe(r)};e.payload.handler(n,e.payload.reactEvent)}}});var zbe=He([yp],e=>e.tooltipItemPayloads),qbe=He([zbe,Qg,(e,t,r)=>t,(e,t,r)=>r],(e,t,r,n)=>{var a=e.find(o=>o.settings.dataKey===n);if(a!=null){var{positions:i}=a;if(i!=null){var l=t(i,r);return l}}}),oB=Ho("touchMove"),cB=Ig();cB.startListening({actionCreator:oB,effect:(e,t)=>{var r=e.payload,n=t.getState(),a=sS(n,n.tooltip.settings.shared);if(a==="axis"){var i=LS(n,MS({clientX:r.touches[0].clientX,clientY:r.touches[0].clientY,currentTarget:r.currentTarget}));i?.activeIndex!=null&&t.dispatch(H9({activeIndex:i.activeIndex,activeDataKey:void 0,activeCoordinate:i.activeCoordinate}))}else if(a==="item"){var l,o=r.touches[0],u=document.elementFromPoint(o.clientX,o.clientY);if(!u||!u.getAttribute)return;var f=u.getAttribute($M),h=(l=u.getAttribute(HM))!==null&&l!==void 0?l:void 0,m=qbe(t.getState(),f,h);t.dispatch(q9({activeDataKey:h,activeIndex:f,activeCoordinate:m}))}}});var $be=hM({brush:Eye,cartesianAxis:sve,chartData:xxe,errorBars:Ave,graphicalItems:S1e,layout:Ece,legend:Fue,options:fxe,polarAxis:Bge,polarOptions:Ube,referenceElements:Pye,rootProps:Rbe,tooltip:ape}),Hbe=function(t){return Zoe({reducer:$be,preloadedState:t,middleware:r=>r({serializableCheck:!1}).concat([tB.middleware,rB.middleware,RS.middleware,lB.middleware,cB.middleware]),enhancers:r=>{var n=r;return typeof r=="function"&&(n=r()),n.concat(SM({type:"raf"}))},devTools:Hd.devToolsEnabled})};function uB(e){var{preloadedState:t,children:r,reduxStoreName:n}=e,a=al(),i=k.useRef(null);if(a)return r;i.current==null&&(i.current=Hbe(t));var l=Y3;return k.createElement(Lbe,{context:l,store:i.current},r)}function fB(e){var{layout:t,margin:r}=e,n=ma(),a=al();return k.useEffect(()=>{a||(n(jce(t)),n(_ce(r)))},[n,a,t,r]),null}function dB(e){var t=ma();return k.useEffect(()=>{t(Ibe(e))},[t,e]),null}var Vbe=["children"];function Wbe(e,t){if(e==null)return{};var r,n,a=Kbe(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}function Kbe(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}function Qy(){return Qy=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Qy.apply(null,arguments)}var Gbe={width:"100%",height:"100%",display:"block"},Ybe=k.forwardRef((e,t)=>{var r=nj(),n=aj(),a=ZM();if(!Wm(r)||!Wm(n))return null;var{children:i,otherAttributes:l,title:o,desc:u}=e,f,h;return typeof l.tabIndex=="number"?f=l.tabIndex:f=a?0:void 0,typeof l.role=="string"?h=l.role:h=a?"application":void 0,k.createElement(R3,Qy({},l,{title:o,desc:u,role:h,tabIndex:f,width:r,height:n,style:Gbe,ref:t}),i)}),Xbe=e=>{var{children:t}=e,r=Ht(O2);if(!r)return null;var{width:n,height:a,y:i,x:l}=r;return k.createElement(R3,{width:n,height:a,x:l,y:i},t)},KO=k.forwardRef((e,t)=>{var{children:r}=e,n=Wbe(e,Vbe),a=al();return a?k.createElement(Xbe,null,r):k.createElement(Ybe,Qy({ref:t},n),r)});function Qbe(){var e=ma(),[t,r]=k.useState(null),n=Ht(rue);return k.useEffect(()=>{if(t!=null){var a=t.getBoundingClientRect(),i=a.width/t.offsetWidth;Ps(i)&&i!==n&&e(Ace(i))}},[t,e,n]),r}function GO(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function Zbe(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?GO(Object(r),!0).forEach(function(n){Jbe(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):GO(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Jbe(e,t,r){return(t=ewe(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function ewe(e){var t=twe(e,"string");return typeof t=="symbol"?t:t+""}function twe(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function lh(){return lh=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},lh.apply(null,arguments)}var rwe=()=>(Sxe(),null);function Zy(e){if(typeof e=="number")return e;if(typeof e=="string"){var t=parseFloat(e);if(!Number.isNaN(t))return t}return 0}var nwe=k.forwardRef((e,t)=>{var r,n,a=k.useRef(null),[i,l]=k.useState({containerWidth:Zy((r=e.style)===null||r===void 0?void 0:r.width),containerHeight:Zy((n=e.style)===null||n===void 0?void 0:n.height)}),o=k.useCallback((f,h)=>{l(m=>{var g=Math.round(f),x=Math.round(h);return m.containerWidth===g&&m.containerHeight===x?m:{containerWidth:g,containerHeight:x}})},[]),u=k.useCallback(f=>{if(typeof t=="function"&&t(f),f!=null){var{width:h,height:m}=f.getBoundingClientRect();o(h,m);var g=b=>{var{width:v,height:w}=b[0].contentRect;o(v,w)},x=new ResizeObserver(g);x.observe(f),a.current=x}},[t,o]);return k.useEffect(()=>()=>{var f=a.current;f?.disconnect()},[o]),k.createElement(k.Fragment,null,k.createElement(P2,{width:i.containerWidth,height:i.containerHeight}),k.createElement("div",lh({ref:u},e)))}),awe=k.forwardRef((e,t)=>{var{width:r,height:n}=e,[a,i]=k.useState({containerWidth:Zy(r),containerHeight:Zy(n)}),l=k.useCallback((u,f)=>{i(h=>{var m=Math.round(u),g=Math.round(f);return h.containerWidth===m&&h.containerHeight===g?h:{containerWidth:m,containerHeight:g}})},[]),o=k.useCallback(u=>{if(typeof t=="function"&&t(u),u!=null){var{width:f,height:h}=u.getBoundingClientRect();l(f,h)}},[t,l]);return k.createElement(k.Fragment,null,k.createElement(P2,{width:a.containerWidth,height:a.containerHeight}),k.createElement("div",lh({ref:o},e)))}),iwe=k.forwardRef((e,t)=>{var{width:r,height:n}=e;return k.createElement(k.Fragment,null,k.createElement(P2,{width:r,height:n}),k.createElement("div",lh({ref:t},e)))}),swe=k.forwardRef((e,t)=>{var{width:r,height:n}=e;return gf(r)||gf(n)?k.createElement(awe,lh({},e,{ref:t})):k.createElement(iwe,lh({},e,{ref:t}))});function lwe(e){return e===!0?nwe:swe}var owe=k.forwardRef((e,t)=>{var{children:r,className:n,height:a,onClick:i,onContextMenu:l,onDoubleClick:o,onMouseDown:u,onMouseEnter:f,onMouseLeave:h,onMouseMove:m,onMouseUp:g,onTouchEnd:x,onTouchMove:b,onTouchStart:v,style:w,width:N,responsive:E,dispatchTouchEvents:j=!0}=e,T=k.useRef(null),O=ma(),[P,D]=k.useState(null),[M,B]=k.useState(null),H=Qbe(),L=rj(),U=L?.width>0?L.width:N,G=L?.height>0?L.height:a,te=k.useCallback(X=>{H(X),typeof t=="function"&&t(X),D(X),B(X),X!=null&&(T.current=X)},[H,t,D,B]),de=k.useCallback(X=>{O(eB(X)),O(Fo({handler:i,reactEvent:X}))},[O,i]),ne=k.useCallback(X=>{O(f_(X)),O(Fo({handler:f,reactEvent:X}))},[O,f]),Z=k.useCallback(X=>{O($9()),O(Fo({handler:h,reactEvent:X}))},[O,h]),xe=k.useCallback(X=>{O(f_(X)),O(Fo({handler:m,reactEvent:X}))},[O,m]),le=k.useCallback(()=>{O(sB())},[O]),Se=k.useCallback(X=>{O(iB(X.key))},[O]),re=k.useCallback(X=>{O(Fo({handler:l,reactEvent:X}))},[O,l]),R=k.useCallback(X=>{O(Fo({handler:o,reactEvent:X}))},[O,o]),F=k.useCallback(X=>{O(Fo({handler:u,reactEvent:X}))},[O,u]),q=k.useCallback(X=>{O(Fo({handler:g,reactEvent:X}))},[O,g]),W=k.useCallback(X=>{O(Fo({handler:v,reactEvent:X}))},[O,v]),Q=k.useCallback(X=>{j&&O(oB(X)),O(Fo({handler:b,reactEvent:X}))},[O,j,b]),oe=k.useCallback(X=>{O(Fo({handler:x,reactEvent:X}))},[O,x]),ue=lwe(E);return k.createElement(cI.Provider,{value:P},k.createElement(TL.Provider,{value:M},k.createElement(ue,{width:U??w?.width,height:G??w?.height,className:ln("recharts-wrapper",n),style:Zbe({position:"relative",cursor:"default",width:U,height:G},w),onClick:de,onContextMenu:re,onDoubleClick:R,onFocus:le,onKeyDown:Se,onMouseDown:F,onMouseEnter:ne,onMouseLeave:Z,onMouseMove:xe,onMouseUp:q,onTouchEnd:oe,onTouchMove:Q,onTouchStart:W,ref:te},k.createElement(rwe,null),r)))}),cwe=["width","height","responsive","children","className","style","compact","title","desc"];function uwe(e,t){if(e==null)return{};var r,n,a=fwe(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}function fwe(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}var hB=k.forwardRef((e,t)=>{var{width:r,height:n,responsive:a,children:i,className:l,style:o,compact:u,title:f,desc:h}=e,m=uwe(e,cwe),g=ao(m);return u?k.createElement(k.Fragment,null,k.createElement(P2,{width:r,height:n}),k.createElement(KO,{otherAttributes:g,title:f,desc:h},i)):k.createElement(owe,{className:l,style:o,width:r,height:n,responsive:a,onClick:e.onClick,onMouseLeave:e.onMouseLeave,onMouseEnter:e.onMouseEnter,onMouseMove:e.onMouseMove,onMouseDown:e.onMouseDown,onMouseUp:e.onMouseUp,onContextMenu:e.onContextMenu,onDoubleClick:e.onDoubleClick,onTouchStart:e.onTouchStart,onTouchMove:e.onTouchMove,onTouchEnd:e.onTouchEnd},k.createElement(KO,{otherAttributes:g,title:f,desc:h,ref:t},k.createElement(Mye,null,i)))});function d_(){return d_=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},d_.apply(null,arguments)}var dwe={top:5,right:5,bottom:5,left:5},hwe={accessibilityLayer:!0,layout:"horizontal",stackOffset:"none",barCategoryGap:"10%",barGap:4,margin:dwe,reverseStackOrder:!1,syncMethod:"index",responsive:!1},mB=k.forwardRef(function(t,r){var n,a=cs(t.categoricalChartProps,hwe),{chartName:i,defaultTooltipEventType:l,validateTooltipEventTypes:o,tooltipPayloadSearcher:u,categoricalChartProps:f}=t,h={chartName:i,defaultTooltipEventType:l,validateTooltipEventTypes:o,tooltipPayloadSearcher:u,eventEmitter:void 0};return k.createElement(uB,{preloadedState:{options:h},reduxStoreName:(n=f.id)!==null&&n!==void 0?n:i},k.createElement($I,{chartData:f.data}),k.createElement(fB,{layout:a.layout,margin:a.margin}),k.createElement(dB,{accessibilityLayer:a.accessibilityLayer,barCategoryGap:a.barCategoryGap,maxBarSize:a.maxBarSize,stackOffset:a.stackOffset,barGap:a.barGap,barSize:a.barSize,syncId:a.syncId,syncMethod:a.syncMethod,className:a.className}),k.createElement(hB,d_({},a,{ref:r})))}),mwe=["axis"],pwe=k.forwardRef((e,t)=>k.createElement(mB,{chartName:"LineChart",defaultTooltipEventType:"axis",validateTooltipEventTypes:mwe,tooltipPayloadSearcher:pS,categoricalChartProps:e,ref:t})),xwe=["axis","item"],gwe=k.forwardRef((e,t)=>k.createElement(mB,{chartName:"BarChart",defaultTooltipEventType:"axis",validateTooltipEventTypes:xwe,tooltipPayloadSearcher:pS,categoricalChartProps:e,ref:t}));function vwe(e){var t=ma();return k.useEffect(()=>{t(Bbe(e))},[t,e]),null}var ywe=["layout"];function h_(){return h_=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},h_.apply(null,arguments)}function bwe(e,t){if(e==null)return{};var r,n,a=wwe(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}function wwe(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}var Nwe={top:5,right:5,bottom:5,left:5},_we={accessibilityLayer:!0,stackOffset:"none",barCategoryGap:"10%",barGap:4,margin:Nwe,reverseStackOrder:!1,syncMethod:"index",layout:"radial",responsive:!1},jwe=k.forwardRef(function(t,r){var n,a=cs(t.categoricalChartProps,_we),{layout:i}=a,l=bwe(a,ywe),{chartName:o,defaultTooltipEventType:u,validateTooltipEventTypes:f,tooltipPayloadSearcher:h}=t,m={chartName:o,defaultTooltipEventType:u,validateTooltipEventTypes:f,tooltipPayloadSearcher:h,eventEmitter:void 0};return k.createElement(uB,{preloadedState:{options:m},reduxStoreName:(n=a.id)!==null&&n!==void 0?n:o},k.createElement($I,{chartData:a.data}),k.createElement(fB,{layout:i,margin:a.margin}),k.createElement(dB,{accessibilityLayer:a.accessibilityLayer,barCategoryGap:a.barCategoryGap,maxBarSize:a.maxBarSize,stackOffset:a.stackOffset,barGap:a.barGap,barSize:a.barSize,syncId:a.syncId,syncMethod:a.syncMethod,className:a.className}),k.createElement(vwe,{cx:a.cx,cy:a.cy,startAngle:a.startAngle,endAngle:a.endAngle,innerRadius:a.innerRadius,outerRadius:a.outerRadius}),k.createElement(hB,h_({},l,{ref:r})))}),Swe=["item"],Awe={layout:"centric",startAngle:0,endAngle:360,cx:"50%",cy:"50%",innerRadius:0,outerRadius:"80%"},Ewe=k.forwardRef((e,t)=>{var r=cs(e,Awe);return k.createElement(jwe,{chartName:"PieChart",defaultTooltipEventType:"item",validateTooltipEventTypes:Swe,tooltipPayloadSearcher:pS,categoricalChartProps:r,ref:t})});const pd=({title:e,value:t,subtitle:r,icon:n,colorClass:a="bg-blue-500",trend:i})=>s.jsxs("div",{className:"bg-white rounded-lg shadow-sm border p-6 hover:shadow-md transition-shadow",children:[s.jsxs("div",{className:"flex items-center justify-between mb-4",children:[s.jsx("div",{className:`${a} p-3 rounded-lg`,children:s.jsx(n,{className:"h-6 w-6 text-white"})}),i&&s.jsxs("span",{className:`text-sm font-medium ${i.isPositive?"text-green-600":"text-red-600"}`,children:[i.isPositive?"+":"",i.value,"%"]})]}),s.jsxs("div",{children:[s.jsx("p",{className:"text-sm text-gray-600 mb-1",children:e}),s.jsx("p",{className:"text-3xl font-bold text-gray-900",children:t}),r&&s.jsx("p",{className:"text-xs text-gray-500 mt-1",children:r})]})]}),bh={getOverview:async()=>Qe.get("/analytics/overview"),getPopularFormations:async(e=10)=>Qe.get("/analytics/popular-formations",{limit:e.toString()}),getEnrollmentTrends:async(e=6)=>Qe.get("/analytics/enrollment-trends",{months:e.toString()}),getTestPerformance:async()=>Qe.get("/analytics/test-performance"),getActiveStudents:async(e=10)=>Qe.get("/analytics/active-students",{limit:e.toString()}),getStudentProgress:async e=>{const t=await Qe.get(`/analytics/student-progress/${e}`);return{student:t.student,enrollments:t.enrollments,test_history:t.test_history}},getFormationCompletionRates:async()=>Qe.get("/analytics/formation-completion-rates"),getPeriodStats:async(e=30)=>{const t=await Qe.get("/analytics/period-stats",{period:e.toString()});return{period_days:t.period_days,stats:t.stats}}},kwe=()=>ir({queryKey:["analytics","overview"],queryFn:bh.getOverview,staleTime:1e3*60*5,refetchInterval:1e3*60*5}),Cwe=(e=10)=>ir({queryKey:["analytics","popular-formations",e],queryFn:()=>bh.getPopularFormations(e),staleTime:1e3*60*10}),Twe=(e=6)=>ir({queryKey:["analytics","enrollment-trends",e],queryFn:()=>bh.getEnrollmentTrends(e),staleTime:1e3*60*10}),Owe=(e=10)=>ir({queryKey:["analytics","active-students",e],queryFn:()=>bh.getActiveStudents(e),staleTime:1e3*60*5}),Dwe=e=>ir({queryKey:["analytics","student-progress",e],queryFn:()=>{if(!e)throw new Error("Student ID is required");return bh.getStudentProgress(e)},enabled:!!e,staleTime:1e3*60*5}),Fwe=()=>ir({queryKey:["analytics","formation-completion-rates"],queryFn:bh.getFormationCompletionRates,staleTime:1e3*60*10}),Pwe=(e=30)=>ir({queryKey:["analytics","period-stats",e],queryFn:()=>bh.getPeriodStats(e),staleTime:1e3*60*5,refetchInterval:1e3*60*5});function Nn(e){"@babel/helpers - typeof";return Nn=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Nn(e)}var Oc=Uint8Array,to=Uint16Array,IS=Int32Array,BS=new Oc([0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0,0,0,0]),US=new Oc([0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13,0,0]),YO=new Oc([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]),pB=function(e,t){for(var r=new to(31),n=0;n<31;++n)r[n]=t+=1<<e[n-1];for(var a=new IS(r[30]),n=1;n<30;++n)for(var i=r[n];i<r[n+1];++i)a[i]=i-r[n]<<5|n;return{b:r,r:a}},xB=pB(BS,2),Lwe=xB.b,m_=xB.r;Lwe[28]=258,m_[258]=28;var Mwe=pB(US,0),XO=Mwe.r,p_=new to(32768);for(var Zn=0;Zn<32768;++Zn){var xd=(Zn&43690)>>1|(Zn&21845)<<1;xd=(xd&52428)>>2|(xd&13107)<<2,xd=(xd&61680)>>4|(xd&3855)<<4,p_[Zn]=((xd&65280)>>8|(xd&255)<<8)>>1}var Lx=(function(e,t,r){for(var n=e.length,a=0,i=new to(t);a<n;++a)e[a]&&++i[e[a]-1];var l=new to(t);for(a=1;a<t;++a)l[a]=l[a-1]+i[a-1]<<1;var o;if(r){o=new to(1<<t);var u=15-t;for(a=0;a<n;++a)if(e[a])for(var f=a<<4|e[a],h=t-e[a],m=l[e[a]-1]++<<h,g=m|(1<<h)-1;m<=g;++m)o[p_[m]>>u]=f}else for(o=new to(n),a=0;a<n;++a)e[a]&&(o[a]=p_[l[e[a]-1]++]>>15-e[a]);return o}),oh=new Oc(288);for(var Zn=0;Zn<144;++Zn)oh[Zn]=8;for(var Zn=144;Zn<256;++Zn)oh[Zn]=9;for(var Zn=256;Zn<280;++Zn)oh[Zn]=7;for(var Zn=280;Zn<288;++Zn)oh[Zn]=8;var Jy=new Oc(32);for(var Zn=0;Zn<32;++Zn)Jy[Zn]=5;var Rwe=Lx(oh,9,0),Iwe=Lx(Jy,5,0),gB=function(e){return(e+7)/8|0},Bwe=function(e,t,r){return(r==null||r>e.length)&&(r=e.length),new Oc(e.subarray(t,r))},Gu=function(e,t,r){r<<=t&7;var n=t/8|0;e[n]|=r,e[n+1]|=r>>8},px=function(e,t,r){r<<=t&7;var n=t/8|0;e[n]|=r,e[n+1]|=r>>8,e[n+2]|=r>>16},b4=function(e,t){for(var r=[],n=0;n<e.length;++n)e[n]&&r.push({s:n,f:e[n]});var a=r.length,i=r.slice();if(!a)return{t:yB,l:0};if(a==1){var l=new Oc(r[0].s+1);return l[r[0].s]=1,{t:l,l:1}}r.sort(function(O,P){return O.f-P.f}),r.push({s:-1,f:25001});var o=r[0],u=r[1],f=0,h=1,m=2;for(r[0]={s:-1,f:o.f+u.f,l:o,r:u};h!=a-1;)o=r[r[f].f<r[m].f?f++:m++],u=r[f!=h&&r[f].f<r[m].f?f++:m++],r[h++]={s:-1,f:o.f+u.f,l:o,r:u};for(var g=i[0].s,n=1;n<a;++n)i[n].s>g&&(g=i[n].s);var x=new to(g+1),b=x_(r[h-1],x,0);if(b>t){var n=0,v=0,w=b-t,N=1<<w;for(i.sort(function(P,D){return x[D.s]-x[P.s]||P.f-D.f});n<a;++n){var E=i[n].s;if(x[E]>t)v+=N-(1<<b-x[E]),x[E]=t;else break}for(v>>=w;v>0;){var j=i[n].s;x[j]<t?v-=1<<t-x[j]++-1:++n}for(;n>=0&&v;--n){var T=i[n].s;x[T]==t&&(--x[T],++v)}b=t}return{t:new Oc(x),l:b}},x_=function(e,t,r){return e.s==-1?Math.max(x_(e.l,t,r+1),x_(e.r,t,r+1)):t[e.s]=r},QO=function(e){for(var t=e.length;t&&!e[--t];);for(var r=new to(++t),n=0,a=e[0],i=1,l=function(u){r[n++]=u},o=1;o<=t;++o)if(e[o]==a&&o!=t)++i;else{if(!a&&i>2){for(;i>138;i-=138)l(32754);i>2&&(l(i>10?i-11<<5|28690:i-3<<5|12305),i=0)}else if(i>3){for(l(a),--i;i>6;i-=6)l(8304);i>2&&(l(i-3<<5|8208),i=0)}for(;i--;)l(a);i=1,a=e[o]}return{c:r.subarray(0,n),n:t}},xx=function(e,t){for(var r=0,n=0;n<t.length;++n)r+=e[n]*t[n];return r},vB=function(e,t,r){var n=r.length,a=gB(t+2);e[a]=n&255,e[a+1]=n>>8,e[a+2]=e[a]^255,e[a+3]=e[a+1]^255;for(var i=0;i<n;++i)e[a+i+4]=r[i];return(a+4+n)*8},ZO=function(e,t,r,n,a,i,l,o,u,f,h){Gu(t,h++,r),++a[256];for(var m=b4(a,15),g=m.t,x=m.l,b=b4(i,15),v=b.t,w=b.l,N=QO(g),E=N.c,j=N.n,T=QO(v),O=T.c,P=T.n,D=new to(19),M=0;M<E.length;++M)++D[E[M]&31];for(var M=0;M<O.length;++M)++D[O[M]&31];for(var B=b4(D,7),H=B.t,L=B.l,U=19;U>4&&!H[YO[U-1]];--U);var G=f+5<<3,te=xx(a,oh)+xx(i,Jy)+l,de=xx(a,g)+xx(i,v)+l+14+3*U+xx(D,H)+2*D[16]+3*D[17]+7*D[18];if(u>=0&&G<=te&&G<=de)return vB(t,h,e.subarray(u,u+f));var ne,Z,xe,le;if(Gu(t,h,1+(de<te)),h+=2,de<te){ne=Lx(g,x,0),Z=g,xe=Lx(v,w,0),le=v;var Se=Lx(H,L,0);Gu(t,h,j-257),Gu(t,h+5,P-1),Gu(t,h+10,U-4),h+=14;for(var M=0;M<U;++M)Gu(t,h+3*M,H[YO[M]]);h+=3*U;for(var re=[E,O],R=0;R<2;++R)for(var F=re[R],M=0;M<F.length;++M){var q=F[M]&31;Gu(t,h,Se[q]),h+=H[q],q>15&&(Gu(t,h,F[M]>>5&127),h+=F[M]>>12)}}else ne=Rwe,Z=oh,xe=Iwe,le=Jy;for(var M=0;M<o;++M){var W=n[M];if(W>255){var q=W>>18&31;px(t,h,ne[q+257]),h+=Z[q+257],q>7&&(Gu(t,h,W>>23&31),h+=BS[q]);var Q=W&31;px(t,h,xe[Q]),h+=le[Q],Q>3&&(px(t,h,W>>5&8191),h+=US[Q])}else px(t,h,ne[W]),h+=Z[W]}return px(t,h,ne[256]),h+Z[256]},Uwe=new IS([65540,131080,131088,131104,262176,1048704,1048832,2114560,2117632]),yB=new Oc(0),zwe=function(e,t,r,n,a,i){var l=i.z||e.length,o=new Oc(n+l+5*(1+Math.ceil(l/7e3))+a),u=o.subarray(n,o.length-a),f=i.l,h=(i.r||0)&7;if(t){h&&(u[0]=i.r>>3);for(var m=Uwe[t-1],g=m>>13,x=m&8191,b=(1<<r)-1,v=i.p||new to(32768),w=i.h||new to(b+1),N=Math.ceil(r/3),E=2*N,j=function(Ee){return(e[Ee]^e[Ee+1]<<N^e[Ee+2]<<E)&b},T=new IS(25e3),O=new to(288),P=new to(32),D=0,M=0,B=i.i||0,H=0,L=i.w||0,U=0;B+2<l;++B){var G=j(B),te=B&32767,de=w[G];if(v[te]=de,w[G]=te,L<=B){var ne=l-B;if((D>7e3||H>24576)&&(ne>423||!f)){h=ZO(e,u,0,T,O,P,M,H,U,B-U,h),H=D=M=0,U=B;for(var Z=0;Z<286;++Z)O[Z]=0;for(var Z=0;Z<30;++Z)P[Z]=0}var xe=2,le=0,Se=x,re=te-de&32767;if(ne>2&&G==j(B-re))for(var R=Math.min(g,ne)-1,F=Math.min(32767,B),q=Math.min(258,ne);re<=F&&--Se&&te!=de;){if(e[B+xe]==e[B+xe-re]){for(var W=0;W<q&&e[B+W]==e[B+W-re];++W);if(W>xe){if(xe=W,le=re,W>R)break;for(var Q=Math.min(re,W-2),oe=0,Z=0;Z<Q;++Z){var ue=B-re+Z&32767,X=v[ue],ve=ue-X&32767;ve>oe&&(oe=ve,de=ue)}}}te=de,de=v[te],re+=te-de&32767}if(le){T[H++]=268435456|m_[xe]<<18|XO[le];var Te=m_[xe]&31,Y=XO[le]&31;M+=BS[Te]+US[Y],++O[257+Te],++P[Y],L=B+xe,++D}else T[H++]=e[B],++O[e[B]]}}for(B=Math.max(B,L);B<l;++B)T[H++]=e[B],++O[e[B]];h=ZO(e,u,f,T,O,P,M,H,U,B-U,h),f||(i.r=h&7|u[h/8|0]<<3,h-=7,i.h=w,i.p=v,i.i=B,i.w=L)}else{for(var B=i.w||0;B<l+f;B+=65535){var We=B+65535;We>=l&&(u[h/8|0]=f,We=l),h=vB(u,h+1,e.subarray(B,We))}i.i=l}return Bwe(o,0,n+gB(h)+a)},bB=function(){var e=1,t=0;return{p:function(r){for(var n=e,a=t,i=r.length|0,l=0;l!=i;){for(var o=Math.min(l+2655,i);l<o;++l)a+=n+=r[l];n=(n&65535)+15*(n>>16),a=(a&65535)+15*(a>>16)}e=n,t=a},d:function(){return e%=65521,t%=65521,(e&255)<<24|(e&65280)<<8|(t&255)<<8|t>>8}}},qwe=function(e,t,r,n,a){if(!a&&(a={l:1},t.dictionary)){var i=t.dictionary.subarray(-32768),l=new Oc(i.length+e.length);l.set(i),l.set(e,i.length),e=l,a.w=i.length}return zwe(e,t.level==null?6:t.level,t.mem==null?a.l?Math.ceil(Math.max(8,Math.min(13,Math.log(e.length)))*1.5):20:12+t.mem,r,n,a)},wB=function(e,t,r){for(;r;++t)e[t]=r,r>>>=8},$we=function(e,t){var r=t.level,n=r==0?0:r<6?1:r==9?3:2;if(e[0]=120,e[1]=n<<6|(t.dictionary&&32),e[1]|=31-(e[0]<<8|e[1])%31,t.dictionary){var a=bB();a.p(t.dictionary),wB(e,2,a.d())}};function g_(e,t){t||(t={});var r=bB();r.p(e);var n=qwe(e,t,t.dictionary?6:2,4);return $we(n,t),wB(n,n.length-4,r.d()),n}var Hwe=typeof TextDecoder<"u"&&new TextDecoder,Vwe=0;try{Hwe.decode(yB,{stream:!0}),Vwe=1}catch{}function Wwe(e){if(Array.isArray(e))return e}function Kwe(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n,a,i,l,o=[],u=!0,f=!1;try{if(i=(r=r.call(e)).next,t!==0)for(;!(u=(n=i.call(r)).done)&&(o.push(n.value),o.length!==t);u=!0);}catch(h){f=!0,a=h}finally{try{if(!u&&r.return!=null&&(l=r.return(),Object(l)!==l))return}finally{if(f)throw a}}return o}}function JO(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=Array(t);r<t;r++)n[r]=e[r];return n}function Gwe(e,t){if(e){if(typeof e=="string")return JO(e,t);var r={}.toString.call(e).slice(8,-1);return r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set"?Array.from(e):r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?JO(e,t):void 0}}function Ywe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function e7(e,t){return Wwe(e)||Kwe(e,t)||Gwe(e,t)||Ywe()}function t7(e,t="utf8"){return new TextDecoder(t).decode(e)}const Xwe=new TextEncoder;function Qwe(e){return Xwe.encode(e)}const Zwe=1024*8,Jwe=(()=>{const e=new Uint8Array(4),t=new Uint32Array(e.buffer);return!((t[0]=1)&e[0])})(),w4={int8:globalThis.Int8Array,uint8:globalThis.Uint8Array,int16:globalThis.Int16Array,uint16:globalThis.Uint16Array,int32:globalThis.Int32Array,uint32:globalThis.Uint32Array,uint64:globalThis.BigUint64Array,int64:globalThis.BigInt64Array,float32:globalThis.Float32Array,float64:globalThis.Float64Array};class zS{buffer;byteLength;byteOffset;length;offset;lastWrittenByte;littleEndian;_data;_mark;_marks;constructor(t=Zwe,r={}){let n=!1;typeof t=="number"?t=new ArrayBuffer(t):(n=!0,this.lastWrittenByte=t.byteLength);const a=r.offset?r.offset>>>0:0,i=t.byteLength-a;let l=a;(ArrayBuffer.isView(t)||t instanceof zS)&&(t.byteLength!==t.buffer.byteLength&&(l=t.byteOffset+a),t=t.buffer),n?this.lastWrittenByte=i:this.lastWrittenByte=0,this.buffer=t,this.length=i,this.byteLength=i,this.byteOffset=l,this.offset=0,this.littleEndian=!0,this._data=new DataView(this.buffer,l,i),this._mark=0,this._marks=[]}available(t=1){return this.offset+t<=this.length}isLittleEndian(){return this.littleEndian}setLittleEndian(){return this.littleEndian=!0,this}isBigEndian(){return!this.littleEndian}setBigEndian(){return this.littleEndian=!1,this}skip(t=1){return this.offset+=t,this}back(t=1){return this.offset-=t,this}seek(t){return this.offset=t,this}mark(){return this._mark=this.offset,this}reset(){return this.offset=this._mark,this}pushMark(){return this._marks.push(this.offset),this}popMark(){const t=this._marks.pop();if(t===void 0)throw new Error("Mark stack empty");return this.seek(t),this}rewind(){return this.offset=0,this}ensureAvailable(t=1){if(!this.available(t)){const n=(this.offset+t)*2,a=new Uint8Array(n);a.set(new Uint8Array(this.buffer)),this.buffer=a.buffer,this.length=n,this.byteLength=n,this._data=new DataView(this.buffer)}return this}readBoolean(){return this.readUint8()!==0}readInt8(){return this._data.getInt8(this.offset++)}readUint8(){return this._data.getUint8(this.offset++)}readByte(){return this.readUint8()}readBytes(t=1){return this.readArray(t,"uint8")}readArray(t,r){const n=w4[r].BYTES_PER_ELEMENT*t,a=this.byteOffset+this.offset,i=this.buffer.slice(a,a+n);if(this.littleEndian===Jwe&&r!=="uint8"&&r!=="int8"){const o=new Uint8Array(this.buffer.slice(a,a+n));o.reverse();const u=new w4[r](o.buffer);return this.offset+=n,u.reverse(),u}const l=new w4[r](i);return this.offset+=n,l}readInt16(){const t=this._data.getInt16(this.offset,this.littleEndian);return this.offset+=2,t}readUint16(){const t=this._data.getUint16(this.offset,this.littleEndian);return this.offset+=2,t}readInt32(){const t=this._data.getInt32(this.offset,this.littleEndian);return this.offset+=4,t}readUint32(){const t=this._data.getUint32(this.offset,this.littleEndian);return this.offset+=4,t}readFloat32(){const t=this._data.getFloat32(this.offset,this.littleEndian);return this.offset+=4,t}readFloat64(){const t=this._data.getFloat64(this.offset,this.littleEndian);return this.offset+=8,t}readBigInt64(){const t=this._data.getBigInt64(this.offset,this.littleEndian);return this.offset+=8,t}readBigUint64(){const t=this._data.getBigUint64(this.offset,this.littleEndian);return this.offset+=8,t}readChar(){return String.fromCharCode(this.readInt8())}readChars(t=1){let r="";for(let n=0;n<t;n++)r+=this.readChar();return r}readUtf8(t=1){return t7(this.readBytes(t))}decodeText(t=1,r="utf8"){return t7(this.readBytes(t),r)}writeBoolean(t){return this.writeUint8(t?255:0),this}writeInt8(t){return this.ensureAvailable(1),this._data.setInt8(this.offset++,t),this._updateLastWrittenByte(),this}writeUint8(t){return this.ensureAvailable(1),this._data.setUint8(this.offset++,t),this._updateLastWrittenByte(),this}writeByte(t){return this.writeUint8(t)}writeBytes(t){this.ensureAvailable(t.length);for(let r=0;r<t.length;r++)this._data.setUint8(this.offset++,t[r]);return this._updateLastWrittenByte(),this}writeInt16(t){return this.ensureAvailable(2),this._data.setInt16(this.offset,t,this.littleEndian),this.offset+=2,this._updateLastWrittenByte(),this}writeUint16(t){return this.ensureAvailable(2),this._data.setUint16(this.offset,t,this.littleEndian),this.offset+=2,this._updateLastWrittenByte(),this}writeInt32(t){return this.ensureAvailable(4),this._data.setInt32(this.offset,t,this.littleEndian),this.offset+=4,this._updateLastWrittenByte(),this}writeUint32(t){return this.ensureAvailable(4),this._data.setUint32(this.offset,t,this.littleEndian),this.offset+=4,this._updateLastWrittenByte(),this}writeFloat32(t){return this.ensureAvailable(4),this._data.setFloat32(this.offset,t,this.littleEndian),this.offset+=4,this._updateLastWrittenByte(),this}writeFloat64(t){return this.ensureAvailable(8),this._data.setFloat64(this.offset,t,this.littleEndian),this.offset+=8,this._updateLastWrittenByte(),this}writeBigInt64(t){return this.ensureAvailable(8),this._data.setBigInt64(this.offset,t,this.littleEndian),this.offset+=8,this._updateLastWrittenByte(),this}writeBigUint64(t){return this.ensureAvailable(8),this._data.setBigUint64(this.offset,t,this.littleEndian),this.offset+=8,this._updateLastWrittenByte(),this}writeChar(t){return this.writeUint8(t.charCodeAt(0))}writeChars(t){for(let r=0;r<t.length;r++)this.writeUint8(t.charCodeAt(r));return this}writeUtf8(t){return this.writeBytes(Qwe(t))}toArray(){return new Uint8Array(this.buffer,this.byteOffset,this.lastWrittenByte)}getWrittenByteLength(){return this.lastWrittenByte-this.byteOffset}_updateLastWrittenByte(){this.offset>this.lastWrittenByte&&(this.lastWrittenByte=this.offset)}}function wp(e){let t=e.length;for(;--t>=0;)e[t]=0}const e5e=3,t5e=258,NB=29,r5e=256,n5e=r5e+1+NB,_B=30,a5e=512,i5e=new Array((n5e+2)*2);wp(i5e);const s5e=new Array(_B*2);wp(s5e);const l5e=new Array(a5e);wp(l5e);const o5e=new Array(t5e-e5e+1);wp(o5e);const c5e=new Array(NB);wp(c5e);const u5e=new Array(_B);wp(u5e);const f5e=(e,t,r,n)=>{let a=e&65535|0,i=e>>>16&65535|0,l=0;for(;r!==0;){l=r>2e3?2e3:r,r-=l;do a=a+t[n++]|0,i=i+a|0;while(--l);a%=65521,i%=65521}return a|i<<16|0};var v_=f5e;const d5e=()=>{let e,t=[];for(var r=0;r<256;r++){e=r;for(var n=0;n<8;n++)e=e&1?3988292384^e>>>1:e>>>1;t[r]=e}return t},h5e=new Uint32Array(d5e()),m5e=(e,t,r,n)=>{const a=h5e,i=n+r;e^=-1;for(let l=n;l<i;l++)e=e>>>8^a[(e^t[l])&255];return e^-1};var iu=m5e,y_={2:"need dictionary",1:"stream end",0:"","-1":"file error","-2":"stream error","-3":"data error","-4":"insufficient memory","-5":"buffer error","-6":"incompatible version"},jB={Z_NO_FLUSH:0,Z_FINISH:4,Z_BLOCK:5,Z_TREES:6,Z_OK:0,Z_STREAM_END:1,Z_NEED_DICT:2,Z_STREAM_ERROR:-2,Z_DATA_ERROR:-3,Z_MEM_ERROR:-4,Z_BUF_ERROR:-5,Z_DEFLATED:8};const p5e=(e,t)=>Object.prototype.hasOwnProperty.call(e,t);var x5e=function(e){const t=Array.prototype.slice.call(arguments,1);for(;t.length;){const r=t.shift();if(r){if(typeof r!="object")throw new TypeError(r+"must be non-object");for(const n in r)p5e(r,n)&&(e[n]=r[n])}}return e},g5e=e=>{let t=0;for(let n=0,a=e.length;n<a;n++)t+=e[n].length;const r=new Uint8Array(t);for(let n=0,a=0,i=e.length;n<i;n++){let l=e[n];r.set(l,a),a+=l.length}return r},SB={assign:x5e,flattenChunks:g5e};let AB=!0;try{String.fromCharCode.apply(null,new Uint8Array(1))}catch{AB=!1}const bg=new Uint8Array(256);for(let e=0;e<256;e++)bg[e]=e>=252?6:e>=248?5:e>=240?4:e>=224?3:e>=192?2:1;bg[254]=bg[254]=1;var v5e=e=>{if(typeof TextEncoder=="function"&&TextEncoder.prototype.encode)return new TextEncoder().encode(e);let t,r,n,a,i,l=e.length,o=0;for(a=0;a<l;a++)r=e.charCodeAt(a),(r&64512)===55296&&a+1<l&&(n=e.charCodeAt(a+1),(n&64512)===56320&&(r=65536+(r-55296<<10)+(n-56320),a++)),o+=r<128?1:r<2048?2:r<65536?3:4;for(t=new Uint8Array(o),i=0,a=0;i<o;a++)r=e.charCodeAt(a),(r&64512)===55296&&a+1<l&&(n=e.charCodeAt(a+1),(n&64512)===56320&&(r=65536+(r-55296<<10)+(n-56320),a++)),r<128?t[i++]=r:r<2048?(t[i++]=192|r>>>6,t[i++]=128|r&63):r<65536?(t[i++]=224|r>>>12,t[i++]=128|r>>>6&63,t[i++]=128|r&63):(t[i++]=240|r>>>18,t[i++]=128|r>>>12&63,t[i++]=128|r>>>6&63,t[i++]=128|r&63);return t};const y5e=(e,t)=>{if(t<65534&&e.subarray&&AB)return String.fromCharCode.apply(null,e.length===t?e:e.subarray(0,t));let r="";for(let n=0;n<t;n++)r+=String.fromCharCode(e[n]);return r};var b5e=(e,t)=>{const r=t||e.length;if(typeof TextDecoder=="function"&&TextDecoder.prototype.decode)return new TextDecoder().decode(e.subarray(0,t));let n,a;const i=new Array(r*2);for(a=0,n=0;n<r;){let l=e[n++];if(l<128){i[a++]=l;continue}let o=bg[l];if(o>4){i[a++]=65533,n+=o-1;continue}for(l&=o===2?31:o===3?15:7;o>1&&n<r;)l=l<<6|e[n++]&63,o--;if(o>1){i[a++]=65533;continue}l<65536?i[a++]=l:(l-=65536,i[a++]=55296|l>>10&1023,i[a++]=56320|l&1023)}return y5e(i,a)},w5e=(e,t)=>{t=t||e.length,t>e.length&&(t=e.length);let r=t-1;for(;r>=0&&(e[r]&192)===128;)r--;return r<0||r===0?t:r+bg[e[r]]>t?r:t},b_={string2buf:v5e,buf2string:b5e,utf8border:w5e};function N5e(){this.input=null,this.next_in=0,this.avail_in=0,this.total_in=0,this.output=null,this.next_out=0,this.avail_out=0,this.total_out=0,this.msg="",this.state=null,this.data_type=2,this.adler=0}var _5e=N5e;const Sv=16209,j5e=16191;var S5e=function(t,r){let n,a,i,l,o,u,f,h,m,g,x,b,v,w,N,E,j,T,O,P,D,M,B,H;const L=t.state;n=t.next_in,B=t.input,a=n+(t.avail_in-5),i=t.next_out,H=t.output,l=i-(r-t.avail_out),o=i+(t.avail_out-257),u=L.dmax,f=L.wsize,h=L.whave,m=L.wnext,g=L.window,x=L.hold,b=L.bits,v=L.lencode,w=L.distcode,N=(1<<L.lenbits)-1,E=(1<<L.distbits)-1;e:do{b<15&&(x+=B[n++]<<b,b+=8,x+=B[n++]<<b,b+=8),j=v[x&N];t:for(;;){if(T=j>>>24,x>>>=T,b-=T,T=j>>>16&255,T===0)H[i++]=j&65535;else if(T&16){O=j&65535,T&=15,T&&(b<T&&(x+=B[n++]<<b,b+=8),O+=x&(1<<T)-1,x>>>=T,b-=T),b<15&&(x+=B[n++]<<b,b+=8,x+=B[n++]<<b,b+=8),j=w[x&E];r:for(;;){if(T=j>>>24,x>>>=T,b-=T,T=j>>>16&255,T&16){if(P=j&65535,T&=15,b<T&&(x+=B[n++]<<b,b+=8,b<T&&(x+=B[n++]<<b,b+=8)),P+=x&(1<<T)-1,P>u){t.msg="invalid distance too far back",L.mode=Sv;break e}if(x>>>=T,b-=T,T=i-l,P>T){if(T=P-T,T>h&&L.sane){t.msg="invalid distance too far back",L.mode=Sv;break e}if(D=0,M=g,m===0){if(D+=f-T,T<O){O-=T;do H[i++]=g[D++];while(--T);D=i-P,M=H}}else if(m<T){if(D+=f+m-T,T-=m,T<O){O-=T;do H[i++]=g[D++];while(--T);if(D=0,m<O){T=m,O-=T;do H[i++]=g[D++];while(--T);D=i-P,M=H}}}else if(D+=m-T,T<O){O-=T;do H[i++]=g[D++];while(--T);D=i-P,M=H}for(;O>2;)H[i++]=M[D++],H[i++]=M[D++],H[i++]=M[D++],O-=3;O&&(H[i++]=M[D++],O>1&&(H[i++]=M[D++]))}else{D=i-P;do H[i++]=H[D++],H[i++]=H[D++],H[i++]=H[D++],O-=3;while(O>2);O&&(H[i++]=H[D++],O>1&&(H[i++]=H[D++]))}}else if((T&64)===0){j=w[(j&65535)+(x&(1<<T)-1)];continue r}else{t.msg="invalid distance code",L.mode=Sv;break e}break}}else if((T&64)===0){j=v[(j&65535)+(x&(1<<T)-1)];continue t}else if(T&32){L.mode=j5e;break e}else{t.msg="invalid literal/length code",L.mode=Sv;break e}break}}while(n<a&&i<o);O=b>>3,n-=O,b-=O<<3,x&=(1<<b)-1,t.next_in=n,t.next_out=i,t.avail_in=n<a?5+(a-n):5-(n-a),t.avail_out=i<o?257+(o-i):257-(i-o),L.hold=x,L.bits=b};const vm=15,r7=852,n7=592,a7=0,N4=1,i7=2,A5e=new Uint16Array([3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258,0,0]),E5e=new Uint8Array([16,16,16,16,16,16,16,16,17,17,17,17,18,18,18,18,19,19,19,19,20,20,20,20,21,21,21,21,16,72,78]),k5e=new Uint16Array([1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577,0,0]),C5e=new Uint8Array([16,16,16,16,17,17,18,18,19,19,20,20,21,21,22,22,23,23,24,24,25,25,26,26,27,27,28,28,29,29,64,64]),T5e=(e,t,r,n,a,i,l,o)=>{const u=o.bits;let f=0,h=0,m=0,g=0,x=0,b=0,v=0,w=0,N=0,E=0,j,T,O,P,D,M=null,B;const H=new Uint16Array(vm+1),L=new Uint16Array(vm+1);let U=null,G,te,de;for(f=0;f<=vm;f++)H[f]=0;for(h=0;h<n;h++)H[t[r+h]]++;for(x=u,g=vm;g>=1&&H[g]===0;g--);if(x>g&&(x=g),g===0)return a[i++]=1<<24|64<<16|0,a[i++]=1<<24|64<<16|0,o.bits=1,0;for(m=1;m<g&&H[m]===0;m++);for(x<m&&(x=m),w=1,f=1;f<=vm;f++)if(w<<=1,w-=H[f],w<0)return-1;if(w>0&&(e===a7||g!==1))return-1;for(L[1]=0,f=1;f<vm;f++)L[f+1]=L[f]+H[f];for(h=0;h<n;h++)t[r+h]!==0&&(l[L[t[r+h]]++]=h);if(e===a7?(M=U=l,B=20):e===N4?(M=A5e,U=E5e,B=257):(M=k5e,U=C5e,B=0),E=0,h=0,f=m,D=i,b=x,v=0,O=-1,N=1<<x,P=N-1,e===N4&&N>r7||e===i7&&N>n7)return 1;for(;;){G=f-v,l[h]+1<B?(te=0,de=l[h]):l[h]>=B?(te=U[l[h]-B],de=M[l[h]-B]):(te=96,de=0),j=1<<f-v,T=1<<b,m=T;do T-=j,a[D+(E>>v)+T]=G<<24|te<<16|de|0;while(T!==0);for(j=1<<f-1;E&j;)j>>=1;if(j!==0?(E&=j-1,E+=j):E=0,h++,--H[f]===0){if(f===g)break;f=t[r+l[h]]}if(f>x&&(E&P)!==O){for(v===0&&(v=x),D+=m,b=f-v,w=1<<b;b+v<g&&(w-=H[b+v],!(w<=0));)b++,w<<=1;if(N+=1<<b,e===N4&&N>r7||e===i7&&N>n7)return 1;O=E&P,a[O]=x<<24|b<<16|D-i|0}}return E!==0&&(a[D+E]=f-v<<24|64<<16|0),o.bits=x,0};var Mx=T5e;const O5e=0,EB=1,kB=2,{Z_FINISH:s7,Z_BLOCK:D5e,Z_TREES:Av,Z_OK:ch,Z_STREAM_END:F5e,Z_NEED_DICT:P5e,Z_STREAM_ERROR:Wo,Z_DATA_ERROR:CB,Z_MEM_ERROR:TB,Z_BUF_ERROR:L5e,Z_DEFLATED:l7}=jB,nb=16180,o7=16181,c7=16182,u7=16183,f7=16184,d7=16185,h7=16186,m7=16187,p7=16188,x7=16189,e2=16190,Yu=16191,_4=16192,g7=16193,j4=16194,v7=16195,y7=16196,b7=16197,w7=16198,Ev=16199,kv=16200,N7=16201,_7=16202,j7=16203,S7=16204,A7=16205,S4=16206,E7=16207,k7=16208,oa=16209,OB=16210,DB=16211,M5e=852,R5e=592,I5e=15,B5e=I5e,C7=e=>(e>>>24&255)+(e>>>8&65280)+((e&65280)<<8)+((e&255)<<24);function U5e(){this.strm=null,this.mode=0,this.last=!1,this.wrap=0,this.havedict=!1,this.flags=0,this.dmax=0,this.check=0,this.total=0,this.head=null,this.wbits=0,this.wsize=0,this.whave=0,this.wnext=0,this.window=null,this.hold=0,this.bits=0,this.length=0,this.offset=0,this.extra=0,this.lencode=null,this.distcode=null,this.lenbits=0,this.distbits=0,this.ncode=0,this.nlen=0,this.ndist=0,this.have=0,this.next=null,this.lens=new Uint16Array(320),this.work=new Uint16Array(288),this.lendyn=null,this.distdyn=null,this.sane=0,this.back=0,this.was=0}const wh=e=>{if(!e)return 1;const t=e.state;return!t||t.strm!==e||t.mode<nb||t.mode>DB?1:0},FB=e=>{if(wh(e))return Wo;const t=e.state;return e.total_in=e.total_out=t.total=0,e.msg="",t.wrap&&(e.adler=t.wrap&1),t.mode=nb,t.last=0,t.havedict=0,t.flags=-1,t.dmax=32768,t.head=null,t.hold=0,t.bits=0,t.lencode=t.lendyn=new Int32Array(M5e),t.distcode=t.distdyn=new Int32Array(R5e),t.sane=1,t.back=-1,ch},PB=e=>{if(wh(e))return Wo;const t=e.state;return t.wsize=0,t.whave=0,t.wnext=0,FB(e)},LB=(e,t)=>{let r;if(wh(e))return Wo;const n=e.state;return t<0?(r=0,t=-t):(r=(t>>4)+5,t<48&&(t&=15)),t&&(t<8||t>15)?Wo:(n.window!==null&&n.wbits!==t&&(n.window=null),n.wrap=r,n.wbits=t,PB(e))},MB=(e,t)=>{if(!e)return Wo;const r=new U5e;e.state=r,r.strm=e,r.window=null,r.mode=nb;const n=LB(e,t);return n!==ch&&(e.state=null),n},z5e=e=>MB(e,B5e);let T7=!0,A4,E4;const q5e=e=>{if(T7){A4=new Int32Array(512),E4=new Int32Array(32);let t=0;for(;t<144;)e.lens[t++]=8;for(;t<256;)e.lens[t++]=9;for(;t<280;)e.lens[t++]=7;for(;t<288;)e.lens[t++]=8;for(Mx(EB,e.lens,0,288,A4,0,e.work,{bits:9}),t=0;t<32;)e.lens[t++]=5;Mx(kB,e.lens,0,32,E4,0,e.work,{bits:5}),T7=!1}e.lencode=A4,e.lenbits=9,e.distcode=E4,e.distbits=5},RB=(e,t,r,n)=>{let a;const i=e.state;return i.window===null&&(i.wsize=1<<i.wbits,i.wnext=0,i.whave=0,i.window=new Uint8Array(i.wsize)),n>=i.wsize?(i.window.set(t.subarray(r-i.wsize,r),0),i.wnext=0,i.whave=i.wsize):(a=i.wsize-i.wnext,a>n&&(a=n),i.window.set(t.subarray(r-n,r-n+a),i.wnext),n-=a,n?(i.window.set(t.subarray(r-n,r),0),i.wnext=n,i.whave=i.wsize):(i.wnext+=a,i.wnext===i.wsize&&(i.wnext=0),i.whave<i.wsize&&(i.whave+=a))),0},$5e=(e,t)=>{let r,n,a,i,l,o,u,f,h,m,g,x,b,v,w=0,N,E,j,T,O,P,D,M;const B=new Uint8Array(4);let H,L;const U=new Uint8Array([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]);if(wh(e)||!e.output||!e.input&&e.avail_in!==0)return Wo;r=e.state,r.mode===Yu&&(r.mode=_4),l=e.next_out,a=e.output,u=e.avail_out,i=e.next_in,n=e.input,o=e.avail_in,f=r.hold,h=r.bits,m=o,g=u,M=ch;e:for(;;)switch(r.mode){case nb:if(r.wrap===0){r.mode=_4;break}for(;h<16;){if(o===0)break e;o--,f+=n[i++]<<h,h+=8}if(r.wrap&2&&f===35615){r.wbits===0&&(r.wbits=15),r.check=0,B[0]=f&255,B[1]=f>>>8&255,r.check=iu(r.check,B,2,0),f=0,h=0,r.mode=o7;break}if(r.head&&(r.head.done=!1),!(r.wrap&1)||(((f&255)<<8)+(f>>8))%31){e.msg="incorrect header check",r.mode=oa;break}if((f&15)!==l7){e.msg="unknown compression method",r.mode=oa;break}if(f>>>=4,h-=4,D=(f&15)+8,r.wbits===0&&(r.wbits=D),D>15||D>r.wbits){e.msg="invalid window size",r.mode=oa;break}r.dmax=1<<r.wbits,r.flags=0,e.adler=r.check=1,r.mode=f&512?x7:Yu,f=0,h=0;break;case o7:for(;h<16;){if(o===0)break e;o--,f+=n[i++]<<h,h+=8}if(r.flags=f,(r.flags&255)!==l7){e.msg="unknown compression method",r.mode=oa;break}if(r.flags&57344){e.msg="unknown header flags set",r.mode=oa;break}r.head&&(r.head.text=f>>8&1),r.flags&512&&r.wrap&4&&(B[0]=f&255,B[1]=f>>>8&255,r.check=iu(r.check,B,2,0)),f=0,h=0,r.mode=c7;case c7:for(;h<32;){if(o===0)break e;o--,f+=n[i++]<<h,h+=8}r.head&&(r.head.time=f),r.flags&512&&r.wrap&4&&(B[0]=f&255,B[1]=f>>>8&255,B[2]=f>>>16&255,B[3]=f>>>24&255,r.check=iu(r.check,B,4,0)),f=0,h=0,r.mode=u7;case u7:for(;h<16;){if(o===0)break e;o--,f+=n[i++]<<h,h+=8}r.head&&(r.head.xflags=f&255,r.head.os=f>>8),r.flags&512&&r.wrap&4&&(B[0]=f&255,B[1]=f>>>8&255,r.check=iu(r.check,B,2,0)),f=0,h=0,r.mode=f7;case f7:if(r.flags&1024){for(;h<16;){if(o===0)break e;o--,f+=n[i++]<<h,h+=8}r.length=f,r.head&&(r.head.extra_len=f),r.flags&512&&r.wrap&4&&(B[0]=f&255,B[1]=f>>>8&255,r.check=iu(r.check,B,2,0)),f=0,h=0}else r.head&&(r.head.extra=null);r.mode=d7;case d7:if(r.flags&1024&&(x=r.length,x>o&&(x=o),x&&(r.head&&(D=r.head.extra_len-r.length,r.head.extra||(r.head.extra=new Uint8Array(r.head.extra_len)),r.head.extra.set(n.subarray(i,i+x),D)),r.flags&512&&r.wrap&4&&(r.check=iu(r.check,n,x,i)),o-=x,i+=x,r.length-=x),r.length))break e;r.length=0,r.mode=h7;case h7:if(r.flags&2048){if(o===0)break e;x=0;do D=n[i+x++],r.head&&D&&r.length<65536&&(r.head.name+=String.fromCharCode(D));while(D&&x<o);if(r.flags&512&&r.wrap&4&&(r.check=iu(r.check,n,x,i)),o-=x,i+=x,D)break e}else r.head&&(r.head.name=null);r.length=0,r.mode=m7;case m7:if(r.flags&4096){if(o===0)break e;x=0;do D=n[i+x++],r.head&&D&&r.length<65536&&(r.head.comment+=String.fromCharCode(D));while(D&&x<o);if(r.flags&512&&r.wrap&4&&(r.check=iu(r.check,n,x,i)),o-=x,i+=x,D)break e}else r.head&&(r.head.comment=null);r.mode=p7;case p7:if(r.flags&512){for(;h<16;){if(o===0)break e;o--,f+=n[i++]<<h,h+=8}if(r.wrap&4&&f!==(r.check&65535)){e.msg="header crc mismatch",r.mode=oa;break}f=0,h=0}r.head&&(r.head.hcrc=r.flags>>9&1,r.head.done=!0),e.adler=r.check=0,r.mode=Yu;break;case x7:for(;h<32;){if(o===0)break e;o--,f+=n[i++]<<h,h+=8}e.adler=r.check=C7(f),f=0,h=0,r.mode=e2;case e2:if(r.havedict===0)return e.next_out=l,e.avail_out=u,e.next_in=i,e.avail_in=o,r.hold=f,r.bits=h,P5e;e.adler=r.check=1,r.mode=Yu;case Yu:if(t===D5e||t===Av)break e;case _4:if(r.last){f>>>=h&7,h-=h&7,r.mode=S4;break}for(;h<3;){if(o===0)break e;o--,f+=n[i++]<<h,h+=8}switch(r.last=f&1,f>>>=1,h-=1,f&3){case 0:r.mode=g7;break;case 1:if(q5e(r),r.mode=Ev,t===Av){f>>>=2,h-=2;break e}break;case 2:r.mode=y7;break;case 3:e.msg="invalid block type",r.mode=oa}f>>>=2,h-=2;break;case g7:for(f>>>=h&7,h-=h&7;h<32;){if(o===0)break e;o--,f+=n[i++]<<h,h+=8}if((f&65535)!==(f>>>16^65535)){e.msg="invalid stored block lengths",r.mode=oa;break}if(r.length=f&65535,f=0,h=0,r.mode=j4,t===Av)break e;case j4:r.mode=v7;case v7:if(x=r.length,x){if(x>o&&(x=o),x>u&&(x=u),x===0)break e;a.set(n.subarray(i,i+x),l),o-=x,i+=x,u-=x,l+=x,r.length-=x;break}r.mode=Yu;break;case y7:for(;h<14;){if(o===0)break e;o--,f+=n[i++]<<h,h+=8}if(r.nlen=(f&31)+257,f>>>=5,h-=5,r.ndist=(f&31)+1,f>>>=5,h-=5,r.ncode=(f&15)+4,f>>>=4,h-=4,r.nlen>286||r.ndist>30){e.msg="too many length or distance symbols",r.mode=oa;break}r.have=0,r.mode=b7;case b7:for(;r.have<r.ncode;){for(;h<3;){if(o===0)break e;o--,f+=n[i++]<<h,h+=8}r.lens[U[r.have++]]=f&7,f>>>=3,h-=3}for(;r.have<19;)r.lens[U[r.have++]]=0;if(r.lencode=r.lendyn,r.lenbits=7,H={bits:r.lenbits},M=Mx(O5e,r.lens,0,19,r.lencode,0,r.work,H),r.lenbits=H.bits,M){e.msg="invalid code lengths set",r.mode=oa;break}r.have=0,r.mode=w7;case w7:for(;r.have<r.nlen+r.ndist;){for(;w=r.lencode[f&(1<<r.lenbits)-1],N=w>>>24,E=w>>>16&255,j=w&65535,!(N<=h);){if(o===0)break e;o--,f+=n[i++]<<h,h+=8}if(j<16)f>>>=N,h-=N,r.lens[r.have++]=j;else{if(j===16){for(L=N+2;h<L;){if(o===0)break e;o--,f+=n[i++]<<h,h+=8}if(f>>>=N,h-=N,r.have===0){e.msg="invalid bit length repeat",r.mode=oa;break}D=r.lens[r.have-1],x=3+(f&3),f>>>=2,h-=2}else if(j===17){for(L=N+3;h<L;){if(o===0)break e;o--,f+=n[i++]<<h,h+=8}f>>>=N,h-=N,D=0,x=3+(f&7),f>>>=3,h-=3}else{for(L=N+7;h<L;){if(o===0)break e;o--,f+=n[i++]<<h,h+=8}f>>>=N,h-=N,D=0,x=11+(f&127),f>>>=7,h-=7}if(r.have+x>r.nlen+r.ndist){e.msg="invalid bit length repeat",r.mode=oa;break}for(;x--;)r.lens[r.have++]=D}}if(r.mode===oa)break;if(r.lens[256]===0){e.msg="invalid code -- missing end-of-block",r.mode=oa;break}if(r.lenbits=9,H={bits:r.lenbits},M=Mx(EB,r.lens,0,r.nlen,r.lencode,0,r.work,H),r.lenbits=H.bits,M){e.msg="invalid literal/lengths set",r.mode=oa;break}if(r.distbits=6,r.distcode=r.distdyn,H={bits:r.distbits},M=Mx(kB,r.lens,r.nlen,r.ndist,r.distcode,0,r.work,H),r.distbits=H.bits,M){e.msg="invalid distances set",r.mode=oa;break}if(r.mode=Ev,t===Av)break e;case Ev:r.mode=kv;case kv:if(o>=6&&u>=258){e.next_out=l,e.avail_out=u,e.next_in=i,e.avail_in=o,r.hold=f,r.bits=h,S5e(e,g),l=e.next_out,a=e.output,u=e.avail_out,i=e.next_in,n=e.input,o=e.avail_in,f=r.hold,h=r.bits,r.mode===Yu&&(r.back=-1);break}for(r.back=0;w=r.lencode[f&(1<<r.lenbits)-1],N=w>>>24,E=w>>>16&255,j=w&65535,!(N<=h);){if(o===0)break e;o--,f+=n[i++]<<h,h+=8}if(E&&(E&240)===0){for(T=N,O=E,P=j;w=r.lencode[P+((f&(1<<T+O)-1)>>T)],N=w>>>24,E=w>>>16&255,j=w&65535,!(T+N<=h);){if(o===0)break e;o--,f+=n[i++]<<h,h+=8}f>>>=T,h-=T,r.back+=T}if(f>>>=N,h-=N,r.back+=N,r.length=j,E===0){r.mode=A7;break}if(E&32){r.back=-1,r.mode=Yu;break}if(E&64){e.msg="invalid literal/length code",r.mode=oa;break}r.extra=E&15,r.mode=N7;case N7:if(r.extra){for(L=r.extra;h<L;){if(o===0)break e;o--,f+=n[i++]<<h,h+=8}r.length+=f&(1<<r.extra)-1,f>>>=r.extra,h-=r.extra,r.back+=r.extra}r.was=r.length,r.mode=_7;case _7:for(;w=r.distcode[f&(1<<r.distbits)-1],N=w>>>24,E=w>>>16&255,j=w&65535,!(N<=h);){if(o===0)break e;o--,f+=n[i++]<<h,h+=8}if((E&240)===0){for(T=N,O=E,P=j;w=r.distcode[P+((f&(1<<T+O)-1)>>T)],N=w>>>24,E=w>>>16&255,j=w&65535,!(T+N<=h);){if(o===0)break e;o--,f+=n[i++]<<h,h+=8}f>>>=T,h-=T,r.back+=T}if(f>>>=N,h-=N,r.back+=N,E&64){e.msg="invalid distance code",r.mode=oa;break}r.offset=j,r.extra=E&15,r.mode=j7;case j7:if(r.extra){for(L=r.extra;h<L;){if(o===0)break e;o--,f+=n[i++]<<h,h+=8}r.offset+=f&(1<<r.extra)-1,f>>>=r.extra,h-=r.extra,r.back+=r.extra}if(r.offset>r.dmax){e.msg="invalid distance too far back",r.mode=oa;break}r.mode=S7;case S7:if(u===0)break e;if(x=g-u,r.offset>x){if(x=r.offset-x,x>r.whave&&r.sane){e.msg="invalid distance too far back",r.mode=oa;break}x>r.wnext?(x-=r.wnext,b=r.wsize-x):b=r.wnext-x,x>r.length&&(x=r.length),v=r.window}else v=a,b=l-r.offset,x=r.length;x>u&&(x=u),u-=x,r.length-=x;do a[l++]=v[b++];while(--x);r.length===0&&(r.mode=kv);break;case A7:if(u===0)break e;a[l++]=r.length,u--,r.mode=kv;break;case S4:if(r.wrap){for(;h<32;){if(o===0)break e;o--,f|=n[i++]<<h,h+=8}if(g-=u,e.total_out+=g,r.total+=g,r.wrap&4&&g&&(e.adler=r.check=r.flags?iu(r.check,a,g,l-g):v_(r.check,a,g,l-g)),g=u,r.wrap&4&&(r.flags?f:C7(f))!==r.check){e.msg="incorrect data check",r.mode=oa;break}f=0,h=0}r.mode=E7;case E7:if(r.wrap&&r.flags){for(;h<32;){if(o===0)break e;o--,f+=n[i++]<<h,h+=8}if(r.wrap&4&&f!==(r.total&4294967295)){e.msg="incorrect length check",r.mode=oa;break}f=0,h=0}r.mode=k7;case k7:M=F5e;break e;case oa:M=CB;break e;case OB:return TB;case DB:default:return Wo}return e.next_out=l,e.avail_out=u,e.next_in=i,e.avail_in=o,r.hold=f,r.bits=h,(r.wsize||g!==e.avail_out&&r.mode<oa&&(r.mode<S4||t!==s7))&&RB(e,e.output,e.next_out,g-e.avail_out),m-=e.avail_in,g-=e.avail_out,e.total_in+=m,e.total_out+=g,r.total+=g,r.wrap&4&&g&&(e.adler=r.check=r.flags?iu(r.check,a,g,e.next_out-g):v_(r.check,a,g,e.next_out-g)),e.data_type=r.bits+(r.last?64:0)+(r.mode===Yu?128:0)+(r.mode===Ev||r.mode===j4?256:0),(m===0&&g===0||t===s7)&&M===ch&&(M=L5e),M},H5e=e=>{if(wh(e))return Wo;let t=e.state;return t.window&&(t.window=null),e.state=null,ch},V5e=(e,t)=>{if(wh(e))return Wo;const r=e.state;return(r.wrap&2)===0?Wo:(r.head=t,t.done=!1,ch)},W5e=(e,t)=>{const r=t.length;let n,a,i;return wh(e)||(n=e.state,n.wrap!==0&&n.mode!==e2)?Wo:n.mode===e2&&(a=1,a=v_(a,t,r,0),a!==n.check)?CB:(i=RB(e,t,r,r),i?(n.mode=OB,TB):(n.havedict=1,ch))};var K5e=PB,G5e=LB,Y5e=FB,X5e=z5e,Q5e=MB,Z5e=$5e,J5e=H5e,e4e=V5e,t4e=W5e,r4e="pako inflate (from Nodeca project)",Xu={inflateReset:K5e,inflateReset2:G5e,inflateResetKeep:Y5e,inflateInit:X5e,inflateInit2:Q5e,inflate:Z5e,inflateEnd:J5e,inflateGetHeader:e4e,inflateSetDictionary:t4e,inflateInfo:r4e};function n4e(){this.text=0,this.time=0,this.xflags=0,this.os=0,this.extra=null,this.extra_len=0,this.name="",this.comment="",this.hcrc=0,this.done=!1}var a4e=n4e;const IB=Object.prototype.toString,{Z_NO_FLUSH:i4e,Z_FINISH:s4e,Z_OK:wg,Z_STREAM_END:k4,Z_NEED_DICT:C4,Z_STREAM_ERROR:l4e,Z_DATA_ERROR:O7,Z_MEM_ERROR:o4e}=jB;function t1(e){this.options=SB.assign({chunkSize:1024*64,windowBits:15,to:""},e||{});const t=this.options;t.raw&&t.windowBits>=0&&t.windowBits<16&&(t.windowBits=-t.windowBits,t.windowBits===0&&(t.windowBits=-15)),t.windowBits>=0&&t.windowBits<16&&!(e&&e.windowBits)&&(t.windowBits+=32),t.windowBits>15&&t.windowBits<48&&(t.windowBits&15)===0&&(t.windowBits|=15),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new _5e,this.strm.avail_out=0;let r=Xu.inflateInit2(this.strm,t.windowBits);if(r!==wg)throw new Error(y_[r]);if(this.header=new a4e,Xu.inflateGetHeader(this.strm,this.header),t.dictionary&&(typeof t.dictionary=="string"?t.dictionary=b_.string2buf(t.dictionary):IB.call(t.dictionary)==="[object ArrayBuffer]"&&(t.dictionary=new Uint8Array(t.dictionary)),t.raw&&(r=Xu.inflateSetDictionary(this.strm,t.dictionary),r!==wg)))throw new Error(y_[r])}t1.prototype.push=function(e,t){const r=this.strm,n=this.options.chunkSize,a=this.options.dictionary;let i,l,o;if(this.ended)return!1;for(t===~~t?l=t:l=t===!0?s4e:i4e,IB.call(e)==="[object ArrayBuffer]"?r.input=new Uint8Array(e):r.input=e,r.next_in=0,r.avail_in=r.input.length;;){for(r.avail_out===0&&(r.output=new Uint8Array(n),r.next_out=0,r.avail_out=n),i=Xu.inflate(r,l),i===C4&&a&&(i=Xu.inflateSetDictionary(r,a),i===wg?i=Xu.inflate(r,l):i===O7&&(i=C4));r.avail_in>0&&i===k4&&r.state.wrap>0&&e[r.next_in]!==0;)Xu.inflateReset(r),i=Xu.inflate(r,l);switch(i){case l4e:case O7:case C4:case o4e:return this.onEnd(i),this.ended=!0,!1}if(o=r.avail_out,r.next_out&&(r.avail_out===0||i===k4))if(this.options.to==="string"){let u=b_.utf8border(r.output,r.next_out),f=r.next_out-u,h=b_.buf2string(r.output,u);r.next_out=f,r.avail_out=n-f,f&&r.output.set(r.output.subarray(u,u+f),0),this.onData(h)}else this.onData(r.output.length===r.next_out?r.output:r.output.subarray(0,r.next_out));if(!(i===wg&&o===0)){if(i===k4)return i=Xu.inflateEnd(this.strm),this.onEnd(i),this.ended=!0,!0;if(r.avail_in===0)break}}return!0};t1.prototype.onData=function(e){this.chunks.push(e)};t1.prototype.onEnd=function(e){e===wg&&(this.options.to==="string"?this.result=this.chunks.join(""):this.result=SB.flattenChunks(this.chunks)),this.chunks=[],this.err=e,this.msg=this.strm.msg};function c4e(e,t){const r=new t1(t);if(r.push(e),r.err)throw r.msg||y_[r.err];return r.result}var u4e=t1,f4e=c4e,d4e={Inflate:u4e,inflate:f4e};const{Inflate:h4e,inflate:m4e}=d4e;var D7=h4e,p4e=m4e;const BB=[];for(let e=0;e<256;e++){let t=e;for(let r=0;r<8;r++)t&1?t=3988292384^t>>>1:t=t>>>1;BB[e]=t}const F7=4294967295;function x4e(e,t,r){let n=e;for(let a=0;a<r;a++)n=BB[(n^t[a])&255]^n>>>8;return n}function g4e(e,t){return(x4e(F7,e,t)^F7)>>>0}function P7(e,t,r){const n=e.readUint32(),a=g4e(new Uint8Array(e.buffer,e.byteOffset+e.offset-t-4,t),t);if(a!==n)throw new Error(`CRC mismatch for chunk ${r}. Expected ${n}, found ${a}`)}function UB(e,t,r){for(let n=0;n<r;n++)t[n]=e[n]}function zB(e,t,r,n){let a=0;for(;a<n;a++)t[a]=e[a];for(;a<r;a++)t[a]=e[a]+t[a-n]&255}function qB(e,t,r,n){let a=0;if(r.length===0)for(;a<n;a++)t[a]=e[a];else for(;a<n;a++)t[a]=e[a]+r[a]&255}function $B(e,t,r,n,a){let i=0;if(r.length===0){for(;i<a;i++)t[i]=e[i];for(;i<n;i++)t[i]=e[i]+(t[i-a]>>1)&255}else{for(;i<a;i++)t[i]=e[i]+(r[i]>>1)&255;for(;i<n;i++)t[i]=e[i]+(t[i-a]+r[i]>>1)&255}}function HB(e,t,r,n,a){let i=0;if(r.length===0){for(;i<a;i++)t[i]=e[i];for(;i<n;i++)t[i]=e[i]+t[i-a]&255}else{for(;i<a;i++)t[i]=e[i]+r[i]&255;for(;i<n;i++)t[i]=e[i]+v4e(t[i-a],r[i],r[i-a])&255}}function v4e(e,t,r){const n=e+t-r,a=Math.abs(n-e),i=Math.abs(n-t),l=Math.abs(n-r);return a<=i&&a<=l?e:i<=l?t:r}function y4e(e,t,r,n,a,i){switch(e){case 0:UB(t,r,a);break;case 1:zB(t,r,a,i);break;case 2:qB(t,r,n,a);break;case 3:$B(t,r,n,a,i);break;case 4:HB(t,r,n,a,i);break;default:throw new Error(`Unsupported filter: ${e}`)}}const b4e=new Uint16Array([255]),w4e=new Uint8Array(b4e.buffer),N4e=w4e[0]===255;function _4e(e){const{data:t,width:r,height:n,channels:a,depth:i}=e,l=[{x:0,y:0,xStep:8,yStep:8},{x:4,y:0,xStep:8,yStep:8},{x:0,y:4,xStep:4,yStep:8},{x:2,y:0,xStep:4,yStep:4},{x:0,y:2,xStep:2,yStep:4},{x:1,y:0,xStep:2,yStep:2},{x:0,y:1,xStep:1,yStep:2}],o=Math.ceil(i/8)*a,u=new Uint8Array(n*r*o);let f=0;for(let h=0;h<7;h++){const m=l[h],g=Math.ceil((r-m.x)/m.xStep),x=Math.ceil((n-m.y)/m.yStep);if(g<=0||x<=0)continue;const b=g*o,v=new Uint8Array(b);for(let w=0;w<x;w++){const N=t[f++],E=t.subarray(f,f+b);f+=b;const j=new Uint8Array(b);y4e(N,E,j,v,b,o),v.set(j);for(let T=0;T<g;T++){const O=m.x+T*m.xStep,P=m.y+w*m.yStep;if(!(O>=r||P>=n))for(let D=0;D<o;D++)u[(P*r+O)*o+D]=j[T*o+D]}}}if(i===16){const h=new Uint16Array(u.buffer);if(N4e)for(let m=0;m<h.length;m++)h[m]=j4e(h[m]);return h}else return u}function j4e(e){return(e&255)<<8|e>>8&255}const S4e=new Uint16Array([255]),A4e=new Uint8Array(S4e.buffer),E4e=A4e[0]===255,k4e=new Uint8Array(0);function L7(e){const{data:t,width:r,height:n,channels:a,depth:i}=e,l=Math.ceil(i/8)*a,o=Math.ceil(i/8*a*r),u=new Uint8Array(n*o);let f=k4e,h=0,m,g;for(let x=0;x<n;x++){switch(m=t.subarray(h+1,h+1+o),g=u.subarray(x*o,(x+1)*o),t[h]){case 0:UB(m,g,o);break;case 1:zB(m,g,o,l);break;case 2:qB(m,g,f,o);break;case 3:$B(m,g,f,o,l);break;case 4:HB(m,g,f,o,l);break;default:throw new Error(`Unsupported filter: ${t[h]}`)}f=g,h+=o+1}if(i===16){const x=new Uint16Array(u.buffer);if(E4e)for(let b=0;b<x.length;b++)x[b]=C4e(x[b]);return x}else return u}function C4e(e){return(e&255)<<8|e>>8&255}const Uv=Uint8Array.of(137,80,78,71,13,10,26,10);function M7(e){if(!T4e(e.readBytes(Uv.length)))throw new Error("wrong PNG signature")}function T4e(e){if(e.length<Uv.length)return!1;for(let t=0;t<Uv.length;t++)if(e[t]!==Uv[t])return!1;return!0}const O4e="tEXt",D4e=0,VB=new TextDecoder("latin1");function F4e(e){if(L4e(e),e.length===0||e.length>79)throw new Error("keyword length must be between 1 and 79")}const P4e=/^[\u0000-\u00FF]*$/;function L4e(e){if(!P4e.test(e))throw new Error("invalid latin1 text")}function M4e(e,t,r){const n=WB(t);e[n]=R4e(t,r-n.length-1)}function WB(e){for(e.mark();e.readByte()!==D4e;);const t=e.offset;e.reset();const r=VB.decode(e.readBytes(t-e.offset-1));return e.skip(1),F4e(r),r}function R4e(e,t){return VB.decode(e.readBytes(t))}const Vl={UNKNOWN:-1,GREYSCALE:0,TRUECOLOUR:2,INDEXED_COLOUR:3,GREYSCALE_ALPHA:4,TRUECOLOUR_ALPHA:6},T4={UNKNOWN:-1,DEFLATE:0},R7={UNKNOWN:-1,ADAPTIVE:0},O4={UNKNOWN:-1,NO_INTERLACE:0,ADAM7:1},Cv={NONE:0,BACKGROUND:1,PREVIOUS:2},D4={SOURCE:0,OVER:1};class I4e extends zS{_checkCrc;_inflator;_png;_apng;_end;_hasPalette;_palette;_hasTransparency;_transparency;_compressionMethod;_filterMethod;_interlaceMethod;_colorType;_isAnimated;_numberOfFrames;_numberOfPlays;_frames;_writingDataChunks;constructor(t,r={}){super(t);const{checkCrc:n=!1}=r;this._checkCrc=n,this._inflator=new D7,this._png={width:-1,height:-1,channels:-1,data:new Uint8Array(0),depth:1,text:{}},this._apng={width:-1,height:-1,channels:-1,depth:1,numberOfFrames:1,numberOfPlays:0,text:{},frames:[]},this._end=!1,this._hasPalette=!1,this._palette=[],this._hasTransparency=!1,this._transparency=new Uint16Array(0),this._compressionMethod=T4.UNKNOWN,this._filterMethod=R7.UNKNOWN,this._interlaceMethod=O4.UNKNOWN,this._colorType=Vl.UNKNOWN,this._isAnimated=!1,this._numberOfFrames=1,this._numberOfPlays=0,this._frames=[],this._writingDataChunks=!1,this.setBigEndian()}decode(){for(M7(this);!this._end;){const t=this.readUint32(),r=this.readChars(4);this.decodeChunk(t,r)}return this.decodeImage(),this._png}decodeApng(){for(M7(this);!this._end;){const t=this.readUint32(),r=this.readChars(4);this.decodeApngChunk(t,r)}return this.decodeApngImage(),this._apng}decodeChunk(t,r){const n=this.offset;switch(r){case"IHDR":this.decodeIHDR();break;case"PLTE":this.decodePLTE(t);break;case"IDAT":this.decodeIDAT(t);break;case"IEND":this._end=!0;break;case"tRNS":this.decodetRNS(t);break;case"iCCP":this.decodeiCCP(t);break;case O4e:M4e(this._png.text,this,t);break;case"pHYs":this.decodepHYs();break;default:this.skip(t);break}if(this.offset-n!==t)throw new Error(`Length mismatch while decoding chunk ${r}`);this._checkCrc?P7(this,t+4,r):this.skip(4)}decodeApngChunk(t,r){const n=this.offset;switch(r!=="fdAT"&&r!=="IDAT"&&this._writingDataChunks&&this.pushDataToFrame(),r){case"acTL":this.decodeACTL();break;case"fcTL":this.decodeFCTL();break;case"fdAT":this.decodeFDAT(t);break;default:this.decodeChunk(t,r),this.offset=n+t;break}if(this.offset-n!==t)throw new Error(`Length mismatch while decoding chunk ${r}`);this._checkCrc?P7(this,t+4,r):this.skip(4)}decodeIHDR(){const t=this._png;t.width=this.readUint32(),t.height=this.readUint32(),t.depth=B4e(this.readUint8());const r=this.readUint8();this._colorType=r;let n;switch(r){case Vl.GREYSCALE:n=1;break;case Vl.TRUECOLOUR:n=3;break;case Vl.INDEXED_COLOUR:n=1;break;case Vl.GREYSCALE_ALPHA:n=2;break;case Vl.TRUECOLOUR_ALPHA:n=4;break;case Vl.UNKNOWN:default:throw new Error(`Unknown color type: ${r}`)}if(this._png.channels=n,this._compressionMethod=this.readUint8(),this._compressionMethod!==T4.DEFLATE)throw new Error(`Unsupported compression method: ${this._compressionMethod}`);this._filterMethod=this.readUint8(),this._interlaceMethod=this.readUint8()}decodeACTL(){this._numberOfFrames=this.readUint32(),this._numberOfPlays=this.readUint32(),this._isAnimated=!0}decodeFCTL(){const t={sequenceNumber:this.readUint32(),width:this.readUint32(),height:this.readUint32(),xOffset:this.readUint32(),yOffset:this.readUint32(),delayNumber:this.readUint16(),delayDenominator:this.readUint16(),disposeOp:this.readUint8(),blendOp:this.readUint8(),data:new Uint8Array(0)};this._frames.push(t)}decodePLTE(t){if(t%3!==0)throw new RangeError(`PLTE field length must be a multiple of 3. Got ${t}`);const r=t/3;this._hasPalette=!0;const n=[];this._palette=n;for(let a=0;a<r;a++)n.push([this.readUint8(),this.readUint8(),this.readUint8()])}decodeIDAT(t){this._writingDataChunks=!0;const r=t,n=this.offset+this.byteOffset;if(this._inflator.push(new Uint8Array(this.buffer,n,r)),this._inflator.err)throw new Error(`Error while decompressing the data: ${this._inflator.err}`);this.skip(t)}decodeFDAT(t){this._writingDataChunks=!0;let r=t,n=this.offset+this.byteOffset;if(n+=4,r-=4,this._inflator.push(new Uint8Array(this.buffer,n,r)),this._inflator.err)throw new Error(`Error while decompressing the data: ${this._inflator.err}`);this.skip(t)}decodetRNS(t){switch(this._colorType){case Vl.GREYSCALE:case Vl.TRUECOLOUR:{if(t%2!==0)throw new RangeError(`tRNS chunk length must be a multiple of 2. Got ${t}`);if(t/2>this._png.width*this._png.height)throw new Error(`tRNS chunk contains more alpha values than there are pixels (${t/2} vs ${this._png.width*this._png.height})`);this._hasTransparency=!0,this._transparency=new Uint16Array(t/2);for(let r=0;r<t/2;r++)this._transparency[r]=this.readUint16();break}case Vl.INDEXED_COLOUR:{if(t>this._palette.length)throw new Error(`tRNS chunk contains more alpha values than there are palette colors (${t} vs ${this._palette.length})`);let r=0;for(;r<t;r++){const n=this.readByte();this._palette[r].push(n)}for(;r<this._palette.length;r++)this._palette[r].push(255);break}case Vl.UNKNOWN:case Vl.GREYSCALE_ALPHA:case Vl.TRUECOLOUR_ALPHA:default:throw new Error(`tRNS chunk is not supported for color type ${this._colorType}`)}}decodeiCCP(t){const r=WB(this),n=this.readUint8();if(n!==T4.DEFLATE)throw new Error(`Unsupported iCCP compression method: ${n}`);const a=this.readBytes(t-r.length-2);this._png.iccEmbeddedProfile={name:r,profile:p4e(a)}}decodepHYs(){const t=this.readUint32(),r=this.readUint32(),n=this.readByte();this._png.resolution={x:t,y:r,unit:n}}decodeApngImage(){this._apng.width=this._png.width,this._apng.height=this._png.height,this._apng.channels=this._png.channels,this._apng.depth=this._png.depth,this._apng.numberOfFrames=this._numberOfFrames,this._apng.numberOfPlays=this._numberOfPlays,this._apng.text=this._png.text,this._apng.resolution=this._png.resolution;for(let t=0;t<this._numberOfFrames;t++){const r={sequenceNumber:this._frames[t].sequenceNumber,delayNumber:this._frames[t].delayNumber,delayDenominator:this._frames[t].delayDenominator,data:this._apng.depth===8?new Uint8Array(this._apng.width*this._apng.height*this._apng.channels):new Uint16Array(this._apng.width*this._apng.height*this._apng.channels)},n=this._frames.at(t);if(n){if(n.data=L7({data:n.data,width:n.width,height:n.height,channels:this._apng.channels,depth:this._apng.depth}),this._hasPalette&&(this._apng.palette=this._palette),this._hasTransparency&&(this._apng.transparency=this._transparency),t===0||n.xOffset===0&&n.yOffset===0&&n.width===this._png.width&&n.height===this._png.height)r.data=n.data;else{const a=this._apng.frames.at(t-1);this.disposeFrame(n,a,r),this.addFrameDataToCanvas(r,n)}this._apng.frames.push(r)}}return this._apng}disposeFrame(t,r,n){switch(t.disposeOp){case Cv.NONE:break;case Cv.BACKGROUND:for(let a=0;a<this._png.height;a++)for(let i=0;i<this._png.width;i++){const l=(a*t.width+i)*this._png.channels;for(let o=0;o<this._png.channels;o++)n.data[l+o]=0}break;case Cv.PREVIOUS:n.data.set(r.data);break;default:throw new Error("Unknown disposeOp")}}addFrameDataToCanvas(t,r){const n=1<<this._png.depth,a=(i,l)=>{const o=((i+r.yOffset)*this._png.width+r.xOffset+l)*this._png.channels,u=(i*r.width+l)*this._png.channels;return{index:o,frameIndex:u}};switch(r.blendOp){case D4.SOURCE:for(let i=0;i<r.height;i++)for(let l=0;l<r.width;l++){const{index:o,frameIndex:u}=a(i,l);for(let f=0;f<this._png.channels;f++)t.data[o+f]=r.data[u+f]}break;case D4.OVER:for(let i=0;i<r.height;i++)for(let l=0;l<r.width;l++){const{index:o,frameIndex:u}=a(i,l);for(let f=0;f<this._png.channels;f++){const h=r.data[u+this._png.channels-1]/n,m=f%(this._png.channels-1)===0?1:r.data[u+f],g=Math.floor(h*m+(1-h)*t.data[o+f]);t.data[o+f]+=g}}break;default:throw new Error("Unknown blendOp")}}decodeImage(){if(this._inflator.err)throw new Error(`Error while decompressing the data: ${this._inflator.err}`);const t=this._isAnimated?(this._frames?.at(0)).data:this._inflator.result;if(this._filterMethod!==R7.ADAPTIVE)throw new Error(`Filter method ${this._filterMethod} not supported`);if(this._interlaceMethod===O4.NO_INTERLACE)this._png.data=L7({data:t,width:this._png.width,height:this._png.height,channels:this._png.channels,depth:this._png.depth});else if(this._interlaceMethod===O4.ADAM7)this._png.data=_4e({data:t,width:this._png.width,height:this._png.height,channels:this._png.channels,depth:this._png.depth});else throw new Error(`Interlace method ${this._interlaceMethod} not supported`);this._hasPalette&&(this._png.palette=this._palette),this._hasTransparency&&(this._png.transparency=this._transparency)}pushDataToFrame(){const t=this._inflator.result,r=this._frames.at(-1);r?r.data=t:this._frames.push({sequenceNumber:0,width:this._png.width,height:this._png.height,xOffset:0,yOffset:0,delayNumber:0,delayDenominator:0,disposeOp:Cv.NONE,blendOp:D4.SOURCE,data:t}),this._inflator=new D7,this._writingDataChunks=!1}}function B4e(e){if(e!==1&&e!==2&&e!==4&&e!==8&&e!==16)throw new Error(`invalid bit depth: ${e}`);return e}var I7;(function(e){e[e.UNKNOWN=0]="UNKNOWN",e[e.METRE=1]="METRE"})(I7||(I7={}));function U4e(e,t){return new I4e(e,t).decode()}var pr=(function(){return typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:this})();function F4(){pr.console&&typeof pr.console.log=="function"&&pr.console.log.apply(pr.console,arguments)}var In={log:F4,warn:function(e){pr.console&&(typeof pr.console.warn=="function"?pr.console.warn.apply(pr.console,arguments):F4.call(null,arguments))},error:function(e){pr.console&&(typeof pr.console.error=="function"?pr.console.error.apply(pr.console,arguments):F4(e))}};function P4(e,t,r){var n=new XMLHttpRequest;n.open("GET",e),n.responseType="blob",n.onload=function(){j0(n.response,t,r)},n.onerror=function(){In.error("could not download file")},n.send()}function B7(e){var t=new XMLHttpRequest;t.open("HEAD",e,!1);try{t.send()}catch{}return t.status>=200&&t.status<=299}function Tv(e){try{e.dispatchEvent(new MouseEvent("click"))}catch{var t=document.createEvent("MouseEvents");t.initMouseEvent("click",!0,!0,window,0,0,0,80,20,!1,!1,!1,!1,0,null),e.dispatchEvent(t)}}var j0=pr.saveAs||((typeof window>"u"?"undefined":Nn(window))!=="object"||window!==pr?function(){}:typeof HTMLAnchorElement<"u"&&"download"in HTMLAnchorElement.prototype?function(e,t,r){var n=pr.URL||pr.webkitURL,a=document.createElement("a");t=t||e.name||"download",a.download=t,a.rel="noopener",typeof e=="string"?(a.href=e,a.origin!==location.origin?B7(a.href)?P4(e,t,r):Tv(a,a.target="_blank"):Tv(a)):(a.href=n.createObjectURL(e),setTimeout(function(){n.revokeObjectURL(a.href)},4e4),setTimeout(function(){Tv(a)},0))}:"msSaveOrOpenBlob"in navigator?function(e,t,r){if(t=t||e.name||"download",typeof e=="string")if(B7(e))P4(e,t,r);else{var n=document.createElement("a");n.href=e,n.target="_blank",setTimeout(function(){Tv(n)})}else navigator.msSaveOrOpenBlob((function(a,i){return i===void 0?i={autoBom:!1}:Nn(i)!=="object"&&(In.warn("Deprecated: Expected third argument to be a object"),i={autoBom:!i}),i.autoBom&&/^\s*(?:text\/\S*|application\/xml|\S*\/\S*\+xml)\s*;.*charset\s*=\s*utf-8/i.test(a.type)?new Blob(["\uFEFF",a],{type:a.type}):a})(e,r),t)}:function(e,t,r,n){if((n=n||open("","_blank"))&&(n.document.title=n.document.body.innerText="downloading..."),typeof e=="string")return P4(e,t,r);var a=e.type==="application/octet-stream",i=/constructor/i.test(pr.HTMLElement)||pr.safari,l=/CriOS\/[\d]+/.test(navigator.userAgent);if((l||a&&i)&&(typeof FileReader>"u"?"undefined":Nn(FileReader))==="object"){var o=new FileReader;o.onloadend=function(){var h=o.result;h=l?h:h.replace(/^data:[^;]*;/,"data:attachment/file;"),n?n.location.href=h:location=h,n=null},o.readAsDataURL(e)}else{var u=pr.URL||pr.webkitURL,f=u.createObjectURL(e);n?n.location=f:location.href=f,n=null,setTimeout(function(){u.revokeObjectURL(f)},4e4)}});/**
 * A class to parse color values
 * @author Stoyan Stefanov <sstoo@gmail.com>
 * {@link   http://www.phpied.com/rgb-color-parser-in-javascript/}
 * @license Use it if you like it
 */function KB(e){var t;e=e||"",this.ok=!1,e.charAt(0)=="#"&&(e=e.substr(1,6)),e={aliceblue:"f0f8ff",antiquewhite:"faebd7",aqua:"00ffff",aquamarine:"7fffd4",azure:"f0ffff",beige:"f5f5dc",bisque:"ffe4c4",black:"000000",blanchedalmond:"ffebcd",blue:"0000ff",blueviolet:"8a2be2",brown:"a52a2a",burlywood:"deb887",cadetblue:"5f9ea0",chartreuse:"7fff00",chocolate:"d2691e",coral:"ff7f50",cornflowerblue:"6495ed",cornsilk:"fff8dc",crimson:"dc143c",cyan:"00ffff",darkblue:"00008b",darkcyan:"008b8b",darkgoldenrod:"b8860b",darkgray:"a9a9a9",darkgreen:"006400",darkkhaki:"bdb76b",darkmagenta:"8b008b",darkolivegreen:"556b2f",darkorange:"ff8c00",darkorchid:"9932cc",darkred:"8b0000",darksalmon:"e9967a",darkseagreen:"8fbc8f",darkslateblue:"483d8b",darkslategray:"2f4f4f",darkturquoise:"00ced1",darkviolet:"9400d3",deeppink:"ff1493",deepskyblue:"00bfff",dimgray:"696969",dodgerblue:"1e90ff",feldspar:"d19275",firebrick:"b22222",floralwhite:"fffaf0",forestgreen:"228b22",fuchsia:"ff00ff",gainsboro:"dcdcdc",ghostwhite:"f8f8ff",gold:"ffd700",goldenrod:"daa520",gray:"808080",green:"008000",greenyellow:"adff2f",honeydew:"f0fff0",hotpink:"ff69b4",indianred:"cd5c5c",indigo:"4b0082",ivory:"fffff0",khaki:"f0e68c",lavender:"e6e6fa",lavenderblush:"fff0f5",lawngreen:"7cfc00",lemonchiffon:"fffacd",lightblue:"add8e6",lightcoral:"f08080",lightcyan:"e0ffff",lightgoldenrodyellow:"fafad2",lightgrey:"d3d3d3",lightgreen:"90ee90",lightpink:"ffb6c1",lightsalmon:"ffa07a",lightseagreen:"20b2aa",lightskyblue:"87cefa",lightslateblue:"8470ff",lightslategray:"778899",lightsteelblue:"b0c4de",lightyellow:"ffffe0",lime:"00ff00",limegreen:"32cd32",linen:"faf0e6",magenta:"ff00ff",maroon:"800000",mediumaquamarine:"66cdaa",mediumblue:"0000cd",mediumorchid:"ba55d3",mediumpurple:"9370d8",mediumseagreen:"3cb371",mediumslateblue:"7b68ee",mediumspringgreen:"00fa9a",mediumturquoise:"48d1cc",mediumvioletred:"c71585",midnightblue:"191970",mintcream:"f5fffa",mistyrose:"ffe4e1",moccasin:"ffe4b5",navajowhite:"ffdead",navy:"000080",oldlace:"fdf5e6",olive:"808000",olivedrab:"6b8e23",orange:"ffa500",orangered:"ff4500",orchid:"da70d6",palegoldenrod:"eee8aa",palegreen:"98fb98",paleturquoise:"afeeee",palevioletred:"d87093",papayawhip:"ffefd5",peachpuff:"ffdab9",peru:"cd853f",pink:"ffc0cb",plum:"dda0dd",powderblue:"b0e0e6",purple:"800080",red:"ff0000",rosybrown:"bc8f8f",royalblue:"4169e1",saddlebrown:"8b4513",salmon:"fa8072",sandybrown:"f4a460",seagreen:"2e8b57",seashell:"fff5ee",sienna:"a0522d",silver:"c0c0c0",skyblue:"87ceeb",slateblue:"6a5acd",slategray:"708090",snow:"fffafa",springgreen:"00ff7f",steelblue:"4682b4",tan:"d2b48c",teal:"008080",thistle:"d8bfd8",tomato:"ff6347",turquoise:"40e0d0",violet:"ee82ee",violetred:"d02090",wheat:"f5deb3",white:"ffffff",whitesmoke:"f5f5f5",yellow:"ffff00",yellowgreen:"9acd32"}[e=(e=e.replace(/ /g,"")).toLowerCase()]||e;for(var r=[{re:/^rgb\((\d{1,3}),\s*(\d{1,3}),\s*(\d{1,3})\)$/,example:["rgb(123, 234, 45)","rgb(255,234,245)"],process:function(o){return[parseInt(o[1]),parseInt(o[2]),parseInt(o[3])]}},{re:/^(\w{2})(\w{2})(\w{2})$/,example:["#00ff00","336699"],process:function(o){return[parseInt(o[1],16),parseInt(o[2],16),parseInt(o[3],16)]}},{re:/^(\w{1})(\w{1})(\w{1})$/,example:["#fb0","f0f"],process:function(o){return[parseInt(o[1]+o[1],16),parseInt(o[2]+o[2],16),parseInt(o[3]+o[3],16)]}}],n=0;n<r.length;n++){var a=r[n].re,i=r[n].process,l=a.exec(e);l&&(t=i(l),this.r=t[0],this.g=t[1],this.b=t[2],this.ok=!0)}this.r=this.r<0||isNaN(this.r)?0:this.r>255?255:this.r,this.g=this.g<0||isNaN(this.g)?0:this.g>255?255:this.g,this.b=this.b<0||isNaN(this.b)?0:this.b>255?255:this.b,this.toRGB=function(){return"rgb("+this.r+", "+this.g+", "+this.b+")"},this.toHex=function(){var o=this.r.toString(16),u=this.g.toString(16),f=this.b.toString(16);return o.length==1&&(o="0"+o),u.length==1&&(u="0"+u),f.length==1&&(f="0"+f),"#"+o+u+f}}var zv=pr.atob.bind(pr),U7=pr.btoa.bind(pr);/**
 * @license
 * Joseph Myers does not specify a particular license for his work.
 *
 * Author: Joseph Myers
 * Accessed from: http://www.myersdaily.org/joseph/javascript/md5.js
 *
 * Modified by: Owen Leong
 */function L4(e,t){var r=e[0],n=e[1],a=e[2],i=e[3];r=xs(r,n,a,i,t[0],7,-680876936),i=xs(i,r,n,a,t[1],12,-389564586),a=xs(a,i,r,n,t[2],17,606105819),n=xs(n,a,i,r,t[3],22,-1044525330),r=xs(r,n,a,i,t[4],7,-176418897),i=xs(i,r,n,a,t[5],12,1200080426),a=xs(a,i,r,n,t[6],17,-1473231341),n=xs(n,a,i,r,t[7],22,-45705983),r=xs(r,n,a,i,t[8],7,1770035416),i=xs(i,r,n,a,t[9],12,-1958414417),a=xs(a,i,r,n,t[10],17,-42063),n=xs(n,a,i,r,t[11],22,-1990404162),r=xs(r,n,a,i,t[12],7,1804603682),i=xs(i,r,n,a,t[13],12,-40341101),a=xs(a,i,r,n,t[14],17,-1502002290),r=gs(r,n=xs(n,a,i,r,t[15],22,1236535329),a,i,t[1],5,-165796510),i=gs(i,r,n,a,t[6],9,-1069501632),a=gs(a,i,r,n,t[11],14,643717713),n=gs(n,a,i,r,t[0],20,-373897302),r=gs(r,n,a,i,t[5],5,-701558691),i=gs(i,r,n,a,t[10],9,38016083),a=gs(a,i,r,n,t[15],14,-660478335),n=gs(n,a,i,r,t[4],20,-405537848),r=gs(r,n,a,i,t[9],5,568446438),i=gs(i,r,n,a,t[14],9,-1019803690),a=gs(a,i,r,n,t[3],14,-187363961),n=gs(n,a,i,r,t[8],20,1163531501),r=gs(r,n,a,i,t[13],5,-1444681467),i=gs(i,r,n,a,t[2],9,-51403784),a=gs(a,i,r,n,t[7],14,1735328473),r=vs(r,n=gs(n,a,i,r,t[12],20,-1926607734),a,i,t[5],4,-378558),i=vs(i,r,n,a,t[8],11,-2022574463),a=vs(a,i,r,n,t[11],16,1839030562),n=vs(n,a,i,r,t[14],23,-35309556),r=vs(r,n,a,i,t[1],4,-1530992060),i=vs(i,r,n,a,t[4],11,1272893353),a=vs(a,i,r,n,t[7],16,-155497632),n=vs(n,a,i,r,t[10],23,-1094730640),r=vs(r,n,a,i,t[13],4,681279174),i=vs(i,r,n,a,t[0],11,-358537222),a=vs(a,i,r,n,t[3],16,-722521979),n=vs(n,a,i,r,t[6],23,76029189),r=vs(r,n,a,i,t[9],4,-640364487),i=vs(i,r,n,a,t[12],11,-421815835),a=vs(a,i,r,n,t[15],16,530742520),r=ys(r,n=vs(n,a,i,r,t[2],23,-995338651),a,i,t[0],6,-198630844),i=ys(i,r,n,a,t[7],10,1126891415),a=ys(a,i,r,n,t[14],15,-1416354905),n=ys(n,a,i,r,t[5],21,-57434055),r=ys(r,n,a,i,t[12],6,1700485571),i=ys(i,r,n,a,t[3],10,-1894986606),a=ys(a,i,r,n,t[10],15,-1051523),n=ys(n,a,i,r,t[1],21,-2054922799),r=ys(r,n,a,i,t[8],6,1873313359),i=ys(i,r,n,a,t[15],10,-30611744),a=ys(a,i,r,n,t[6],15,-1560198380),n=ys(n,a,i,r,t[13],21,1309151649),r=ys(r,n,a,i,t[4],6,-145523070),i=ys(i,r,n,a,t[11],10,-1120210379),a=ys(a,i,r,n,t[2],15,718787259),n=ys(n,a,i,r,t[9],21,-343485551),e[0]=_d(r,e[0]),e[1]=_d(n,e[1]),e[2]=_d(a,e[2]),e[3]=_d(i,e[3])}function ab(e,t,r,n,a,i){return t=_d(_d(t,e),_d(n,i)),_d(t<<a|t>>>32-a,r)}function xs(e,t,r,n,a,i,l){return ab(t&r|~t&n,e,t,a,i,l)}function gs(e,t,r,n,a,i,l){return ab(t&n|r&~n,e,t,a,i,l)}function vs(e,t,r,n,a,i,l){return ab(t^r^n,e,t,a,i,l)}function ys(e,t,r,n,a,i,l){return ab(r^(t|~n),e,t,a,i,l)}function GB(e){var t,r=e.length,n=[1732584193,-271733879,-1732584194,271733878];for(t=64;t<=e.length;t+=64)L4(n,z4e(e.substring(t-64,t)));e=e.substring(t-64);var a=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0];for(t=0;t<e.length;t++)a[t>>2]|=e.charCodeAt(t)<<(t%4<<3);if(a[t>>2]|=128<<(t%4<<3),t>55)for(L4(n,a),t=0;t<16;t++)a[t]=0;return a[14]=8*r,L4(n,a),n}function z4e(e){var t,r=[];for(t=0;t<64;t+=4)r[t>>2]=e.charCodeAt(t)+(e.charCodeAt(t+1)<<8)+(e.charCodeAt(t+2)<<16)+(e.charCodeAt(t+3)<<24);return r}var z7="0123456789abcdef".split("");function q4e(e){for(var t="",r=0;r<4;r++)t+=z7[e>>8*r+4&15]+z7[e>>8*r&15];return t}function $4e(e){return String.fromCharCode(255&e,(65280&e)>>8,(16711680&e)>>16,(4278190080&e)>>24)}function w_(e){return GB(e).map($4e).join("")}var H4e=(function(e){for(var t=0;t<e.length;t++)e[t]=q4e(e[t]);return e.join("")})(GB("hello"))!="5d41402abc4b2a76b9719d911017c592";function _d(e,t){if(H4e){var r=(65535&e)+(65535&t);return(e>>16)+(t>>16)+(r>>16)<<16|65535&r}return e+t&4294967295}/**
 * @license
 * FPDF is released under a permissive license: there is no usage restriction.
 * You may embed it freely in your application (commercial or not), with or
 * without modifications.
 *
 * Reference: http://www.fpdf.org/en/script/script37.php
 */function N_(e,t){var r,n,a,i;if(e!==r){for(var l=(a=e,i=1+(256/e.length|0),new Array(i+1).join(a)),o=[],u=0;u<256;u++)o[u]=u;var f=0;for(u=0;u<256;u++){var h=o[u];f=(f+h+l.charCodeAt(u))%256,o[u]=o[f],o[f]=h}r=e,n=o}else o=n;var m=t.length,g=0,x=0,b="";for(u=0;u<m;u++)x=(x+(h=o[g=(g+1)%256]))%256,o[g]=o[x],o[x]=h,l=o[(o[g]+o[x])%256],b+=String.fromCharCode(t.charCodeAt(u)^l);return b}/**
 * @license
 * Licensed under the MIT License.
 * http://opensource.org/licenses/mit-license
 * Author: Owen Leong (@owenl131)
 * Date: 15 Oct 2020
 * References:
 * https://www.cs.cmu.edu/~dst/Adobe/Gallery/anon21jul01-pdf-encryption.txt
 * https://github.com/foliojs/pdfkit/blob/master/lib/security.js
 * http://www.fpdf.org/en/script/script37.php
 */var q7={print:4,modify:8,copy:16,"annot-forms":32};function Nm(e,t,r,n){this.v=1,this.r=2;var a=192;e.forEach(function(o){if(q7.perm!==void 0)throw new Error("Invalid permission: "+o);a+=q7[o]}),this.padding="(N^NuAd\0NV\b..\0h>/\fdSiz";var i=(t+this.padding).substr(0,32),l=(r+this.padding).substr(0,32);this.O=this.processOwnerPassword(i,l),this.P=-(1+(255^a)),this.encryptionKey=w_(i+this.O+this.lsbFirstWord(this.P)+this.hexToBytes(n)).substr(0,5),this.U=N_(this.encryptionKey,this.padding)}function _m(e){if(/[^\u0000-\u00ff]/.test(e))throw new Error("Invalid PDF Name Object: "+e+", Only accept ASCII characters.");for(var t="",r=e.length,n=0;n<r;n++){var a=e.charCodeAt(n);t+=a<33||a===35||a===37||a===40||a===41||a===47||a===60||a===62||a===91||a===93||a===123||a===125||a>126?"#"+("0"+a.toString(16)).slice(-2):e[n]}return t}function $7(e){if(Nn(e)!=="object")throw new Error("Invalid Context passed to initialize PubSub (jsPDF-module)");var t={};this.subscribe=function(r,n,a){if(a=a||!1,typeof r!="string"||typeof n!="function"||typeof a!="boolean")throw new Error("Invalid arguments passed to PubSub.subscribe (jsPDF-module)");t.hasOwnProperty(r)||(t[r]={});var i=Math.random().toString(35);return t[r][i]=[n,!!a],i},this.unsubscribe=function(r){for(var n in t)if(t[n][r])return delete t[n][r],Object.keys(t[n]).length===0&&delete t[n],!0;return!1},this.publish=function(r){if(t.hasOwnProperty(r)){var n=Array.prototype.slice.call(arguments,1),a=[];for(var i in t[r]){var l=t[r][i];try{l[0].apply(e,n)}catch(o){pr.console&&In.error("jsPDF PubSub Error",o.message,o)}l[1]&&a.push(i)}a.length&&a.forEach(this.unsubscribe)}},this.getTopics=function(){return t}}function t2(e){if(!(this instanceof t2))return new t2(e);var t="opacity,stroke-opacity".split(",");for(var r in e)e.hasOwnProperty(r)&&t.indexOf(r)>=0&&(this[r]=e[r]);this.id="",this.objectNumber=-1}function YB(e,t){this.gState=e,this.matrix=t,this.id="",this.objectNumber=-1}function A0(e,t,r,n,a){if(!(this instanceof A0))return new A0(e,t,r,n,a);this.type=e==="axial"?2:3,this.coords=t,this.colors=r,YB.call(this,n,a)}function Am(e,t,r,n,a){if(!(this instanceof Am))return new Am(e,t,r,n,a);this.boundingBox=e,this.xStep=t,this.yStep=r,this.stream="",this.cloneIndex=0,YB.call(this,n,a)}function Gt(e){var t,r=typeof arguments[0]=="string"?arguments[0]:"p",n=arguments[1],a=arguments[2],i=arguments[3],l=[],o=1,u=16,f="S",h=null;Nn(e=e||{})==="object"&&(r=e.orientation,n=e.unit||n,a=e.format||a,i=e.compress||e.compressPdf||i,(h=e.encryption||null)!==null&&(h.userPassword=h.userPassword||"",h.ownerPassword=h.ownerPassword||"",h.userPermissions=h.userPermissions||[]),o=typeof e.userUnit=="number"?Math.abs(e.userUnit):1,e.precision!==void 0&&(t=e.precision),e.floatPrecision!==void 0&&(u=e.floatPrecision),f=e.defaultPathOperation||"S"),l=e.filters||(i===!0?["FlateEncode"]:l),n=n||"mm",r=(""+(r||"P")).toLowerCase();var m=e.putOnlyUsedFonts||!1,g={},x={internal:{},__private__:{}};x.__private__.PubSub=$7;var b="1.3",v=x.__private__.getPdfVersion=function(){return b};x.__private__.setPdfVersion=function(I){b=I};var w={a0:[2383.94,3370.39],a1:[1683.78,2383.94],a2:[1190.55,1683.78],a3:[841.89,1190.55],a4:[595.28,841.89],a5:[419.53,595.28],a6:[297.64,419.53],a7:[209.76,297.64],a8:[147.4,209.76],a9:[104.88,147.4],a10:[73.7,104.88],b0:[2834.65,4008.19],b1:[2004.09,2834.65],b2:[1417.32,2004.09],b3:[1000.63,1417.32],b4:[708.66,1000.63],b5:[498.9,708.66],b6:[354.33,498.9],b7:[249.45,354.33],b8:[175.75,249.45],b9:[124.72,175.75],b10:[87.87,124.72],c0:[2599.37,3676.54],c1:[1836.85,2599.37],c2:[1298.27,1836.85],c3:[918.43,1298.27],c4:[649.13,918.43],c5:[459.21,649.13],c6:[323.15,459.21],c7:[229.61,323.15],c8:[161.57,229.61],c9:[113.39,161.57],c10:[79.37,113.39],dl:[311.81,623.62],letter:[612,792],"government-letter":[576,756],legal:[612,1008],"junior-legal":[576,360],ledger:[1224,792],tabloid:[792,1224],"credit-card":[153,243]};x.__private__.getPageFormats=function(){return w};var N=x.__private__.getPageFormat=function(I){return w[I]};a=a||"a4";var E="compat",j="advanced",T=E;function O(){this.saveGraphicsState(),ge(new Xt(yt,0,0,-yt,0,nc()*yt).toString()+" cm"),this.setFontSize(this.getFontSize()/yt),f="n",T=j}function P(){this.restoreGraphicsState(),f="S",T=E}var D=x.__private__.combineFontStyleAndFontWeight=function(I,J){if(I=="bold"&&J=="normal"||I=="bold"&&J==400||I=="normal"&&J=="italic"||I=="bold"&&J=="italic")throw new Error("Invalid Combination of fontweight and fontstyle");return J&&(I=J==400||J==="normal"?I==="italic"?"italic":"normal":J!=700&&J!=="bold"||I!=="normal"?(J==700?"bold":J)+""+I:"bold"),I};x.advancedAPI=function(I){var J=T===E;return J&&O.call(this),typeof I!="function"||(I(this),J&&P.call(this)),this},x.compatAPI=function(I){var J=T===j;return J&&P.call(this),typeof I!="function"||(I(this),J&&O.call(this)),this},x.isAdvancedAPI=function(){return T===j};var M,B=function(I){if(T!==j)throw new Error(I+" is only available in 'advanced' API mode. You need to call advancedAPI() first.")},H=x.roundToPrecision=x.__private__.roundToPrecision=function(I,J){var _e=t||J;if(isNaN(I)||isNaN(_e))throw new Error("Invalid argument passed to jsPDF.roundToPrecision");return I.toFixed(_e).replace(/0+$/,"")};M=x.hpf=x.__private__.hpf=typeof u=="number"?function(I){if(isNaN(I))throw new Error("Invalid argument passed to jsPDF.hpf");return H(I,u)}:u==="smart"?function(I){if(isNaN(I))throw new Error("Invalid argument passed to jsPDF.hpf");return H(I,I>-1&&I<1?16:5)}:function(I){if(isNaN(I))throw new Error("Invalid argument passed to jsPDF.hpf");return H(I,16)};var L=x.f2=x.__private__.f2=function(I){if(isNaN(I))throw new Error("Invalid argument passed to jsPDF.f2");return H(I,2)},U=x.__private__.f3=function(I){if(isNaN(I))throw new Error("Invalid argument passed to jsPDF.f3");return H(I,3)},G=x.scale=x.__private__.scale=function(I){if(isNaN(I))throw new Error("Invalid argument passed to jsPDF.scale");return T===E?I*yt:T===j?I:void 0},te=function(I){return G((function(J){return T===E?nc()-J:T===j?J:void 0})(I))};x.__private__.setPrecision=x.setPrecision=function(I){typeof parseInt(I,10)=="number"&&(t=parseInt(I,10))};var de,ne="00000000000000000000000000000000",Z=x.__private__.getFileId=function(){return ne},xe=x.__private__.setFileId=function(I){return ne=I!==void 0&&/^[a-fA-F0-9]{32}$/.test(I)?I.toUpperCase():ne.split("").map(function(){return"ABCDEF0123456789".charAt(Math.floor(16*Math.random()))}).join(""),h!==null&&(xa=new Nm(h.userPermissions,h.userPassword,h.ownerPassword,ne)),ne};x.setFileId=function(I){return xe(I),this},x.getFileId=function(){return Z()};var le=x.__private__.convertDateToPDFDate=function(I){var J=I.getTimezoneOffset(),_e=J<0?"+":"-",ke=Math.floor(Math.abs(J/60)),Fe=Math.abs(J%60),nt=[_e,q(ke),"'",q(Fe),"'"].join("");return["D:",I.getFullYear(),q(I.getMonth()+1),q(I.getDate()),q(I.getHours()),q(I.getMinutes()),q(I.getSeconds()),nt].join("")},Se=x.__private__.convertPDFDateToDate=function(I){var J=parseInt(I.substr(2,4),10),_e=parseInt(I.substr(6,2),10)-1,ke=parseInt(I.substr(8,2),10),Fe=parseInt(I.substr(10,2),10),nt=parseInt(I.substr(12,2),10),ct=parseInt(I.substr(14,2),10);return new Date(J,_e,ke,Fe,nt,ct,0)},re=x.__private__.setCreationDate=function(I){var J;if(I===void 0&&(I=new Date),I instanceof Date)J=le(I);else{if(!/^D:(20[0-2][0-9]|203[0-7]|19[7-9][0-9])(0[0-9]|1[0-2])([0-2][0-9]|3[0-1])(0[0-9]|1[0-9]|2[0-3])(0[0-9]|[1-5][0-9])(0[0-9]|[1-5][0-9])(\+0[0-9]|\+1[0-4]|-0[0-9]|-1[0-1])'(0[0-9]|[1-5][0-9])'?$/.test(I))throw new Error("Invalid argument passed to jsPDF.setCreationDate");J=I}return de=J},R=x.__private__.getCreationDate=function(I){var J=de;return I==="jsDate"&&(J=Se(de)),J};x.setCreationDate=function(I){return re(I),this},x.getCreationDate=function(I){return R(I)};var F,q=x.__private__.padd2=function(I){return("0"+parseInt(I)).slice(-2)},W=x.__private__.padd2Hex=function(I){return("00"+(I=I.toString())).substr(I.length)},Q=0,oe=[],ue=[],X=0,ve=[],Te=[],Y=!1,We=ue;x.__private__.setCustomOutputDestination=function(I){Y=!0,We=I};var Ee=function(I){Y||(We=I)};x.__private__.resetCustomOutputDestination=function(){Y=!1,We=ue};var ge=x.__private__.out=function(I){return I=I.toString(),X+=I.length+1,We.push(I),We},dt=x.__private__.write=function(I){return ge(arguments.length===1?I.toString():Array.prototype.join.call(arguments," "))},Ze=x.__private__.getArrayBuffer=function(I){for(var J=I.length,_e=new ArrayBuffer(J),ke=new Uint8Array(_e);J--;)ke[J]=I.charCodeAt(J);return _e},bt=[["Helvetica","helvetica","normal","WinAnsiEncoding"],["Helvetica-Bold","helvetica","bold","WinAnsiEncoding"],["Helvetica-Oblique","helvetica","italic","WinAnsiEncoding"],["Helvetica-BoldOblique","helvetica","bolditalic","WinAnsiEncoding"],["Courier","courier","normal","WinAnsiEncoding"],["Courier-Bold","courier","bold","WinAnsiEncoding"],["Courier-Oblique","courier","italic","WinAnsiEncoding"],["Courier-BoldOblique","courier","bolditalic","WinAnsiEncoding"],["Times-Roman","times","normal","WinAnsiEncoding"],["Times-Bold","times","bold","WinAnsiEncoding"],["Times-Italic","times","italic","WinAnsiEncoding"],["Times-BoldItalic","times","bolditalic","WinAnsiEncoding"],["ZapfDingbats","zapfdingbats","normal",null],["Symbol","symbol","normal",null]];x.__private__.getStandardFonts=function(){return bt};var lt=e.fontSize||16;x.__private__.setFontSize=x.setFontSize=function(I){return lt=T===j?I/yt:I,this};var Ct,xt=x.__private__.getFontSize=x.getFontSize=function(){return T===E?lt:lt*yt},Ye=e.R2L||!1;x.__private__.setR2L=x.setR2L=function(I){return Ye=I,this},x.__private__.getR2L=x.getR2L=function(){return Ye};var pt,Et=x.__private__.setZoomMode=function(I){if(/^(?:\d+\.\d*|\d*\.\d+|\d+)%$/.test(I))Ct=I;else if(isNaN(I)){if([void 0,null,"fullwidth","fullheight","fullpage","original"].indexOf(I)===-1)throw new Error('zoom must be Integer (e.g. 2), a percentage Value (e.g. 300%) or fullwidth, fullheight, fullpage, original. "'+I+'" is not recognized.');Ct=I}else Ct=parseInt(I,10)};x.__private__.getZoomMode=function(){return Ct};var zt,Kt=x.__private__.setPageMode=function(I){if([void 0,null,"UseNone","UseOutlines","UseThumbs","FullScreen"].indexOf(I)==-1)throw new Error('Page mode must be one of UseNone, UseOutlines, UseThumbs, or FullScreen. "'+I+'" is not recognized.');pt=I};x.__private__.getPageMode=function(){return pt};var Ar=x.__private__.setLayoutMode=function(I){if([void 0,null,"continuous","single","twoleft","tworight","two"].indexOf(I)==-1)throw new Error('Layout mode must be one of continuous, single, twoleft, tworight. "'+I+'" is not recognized.');zt=I};x.__private__.getLayoutMode=function(){return zt},x.__private__.setDisplayMode=x.setDisplayMode=function(I,J,_e){return Et(I),Ar(J),Kt(_e),this};var Mt={title:"",subject:"",author:"",keywords:"",creator:""};x.__private__.getDocumentProperty=function(I){if(Object.keys(Mt).indexOf(I)===-1)throw new Error("Invalid argument passed to jsPDF.getDocumentProperty");return Mt[I]},x.__private__.getDocumentProperties=function(){return Mt},x.__private__.setDocumentProperties=x.setProperties=x.setDocumentProperties=function(I){for(var J in Mt)Mt.hasOwnProperty(J)&&I[J]&&(Mt[J]=I[J]);return this},x.__private__.setDocumentProperty=function(I,J){if(Object.keys(Mt).indexOf(I)===-1)throw new Error("Invalid arguments passed to jsPDF.setDocumentProperty");return Mt[I]=J};var Pt,yt,kt,_r,Zt,At={},er={},br=[],ar={},Er={},dr={},pn={},Un=null,Hr=0,Yt=[],Fr=new $7(x),Rs=e.hotfixes||[],Ja={},il={},us=[],Xt=function I(J,_e,ke,Fe,nt,ct){if(!(this instanceof I))return new I(J,_e,ke,Fe,nt,ct);isNaN(J)&&(J=1),isNaN(_e)&&(_e=0),isNaN(ke)&&(ke=0),isNaN(Fe)&&(Fe=1),isNaN(nt)&&(nt=0),isNaN(ct)&&(ct=0),this._matrix=[J,_e,ke,Fe,nt,ct]};Object.defineProperty(Xt.prototype,"sx",{get:function(){return this._matrix[0]},set:function(I){this._matrix[0]=I}}),Object.defineProperty(Xt.prototype,"shy",{get:function(){return this._matrix[1]},set:function(I){this._matrix[1]=I}}),Object.defineProperty(Xt.prototype,"shx",{get:function(){return this._matrix[2]},set:function(I){this._matrix[2]=I}}),Object.defineProperty(Xt.prototype,"sy",{get:function(){return this._matrix[3]},set:function(I){this._matrix[3]=I}}),Object.defineProperty(Xt.prototype,"tx",{get:function(){return this._matrix[4]},set:function(I){this._matrix[4]=I}}),Object.defineProperty(Xt.prototype,"ty",{get:function(){return this._matrix[5]},set:function(I){this._matrix[5]=I}}),Object.defineProperty(Xt.prototype,"a",{get:function(){return this._matrix[0]},set:function(I){this._matrix[0]=I}}),Object.defineProperty(Xt.prototype,"b",{get:function(){return this._matrix[1]},set:function(I){this._matrix[1]=I}}),Object.defineProperty(Xt.prototype,"c",{get:function(){return this._matrix[2]},set:function(I){this._matrix[2]=I}}),Object.defineProperty(Xt.prototype,"d",{get:function(){return this._matrix[3]},set:function(I){this._matrix[3]=I}}),Object.defineProperty(Xt.prototype,"e",{get:function(){return this._matrix[4]},set:function(I){this._matrix[4]=I}}),Object.defineProperty(Xt.prototype,"f",{get:function(){return this._matrix[5]},set:function(I){this._matrix[5]=I}}),Object.defineProperty(Xt.prototype,"rotation",{get:function(){return Math.atan2(this.shx,this.sx)}}),Object.defineProperty(Xt.prototype,"scaleX",{get:function(){return this.decompose().scale.sx}}),Object.defineProperty(Xt.prototype,"scaleY",{get:function(){return this.decompose().scale.sy}}),Object.defineProperty(Xt.prototype,"isIdentity",{get:function(){return this.sx===1&&this.shy===0&&this.shx===0&&this.sy===1&&this.tx===0&&this.ty===0}}),Xt.prototype.join=function(I){return[this.sx,this.shy,this.shx,this.sy,this.tx,this.ty].map(M).join(I)},Xt.prototype.multiply=function(I){var J=I.sx*this.sx+I.shy*this.shx,_e=I.sx*this.shy+I.shy*this.sy,ke=I.shx*this.sx+I.sy*this.shx,Fe=I.shx*this.shy+I.sy*this.sy,nt=I.tx*this.sx+I.ty*this.shx+this.tx,ct=I.tx*this.shy+I.ty*this.sy+this.ty;return new Xt(J,_e,ke,Fe,nt,ct)},Xt.prototype.decompose=function(){var I=this.sx,J=this.shy,_e=this.shx,ke=this.sy,Fe=this.tx,nt=this.ty,ct=Math.sqrt(I*I+J*J),Bt=(I/=ct)*_e+(J/=ct)*ke;_e-=I*Bt,ke-=J*Bt;var Vt=Math.sqrt(_e*_e+ke*ke);return Bt/=Vt,I*(ke/=Vt)<J*(_e/=Vt)&&(I=-I,J=-J,Bt=-Bt,ct=-ct),{scale:new Xt(ct,0,0,Vt,0,0),translate:new Xt(1,0,0,1,Fe,nt),rotate:new Xt(I,J,-J,I,0,0),skew:new Xt(1,0,Bt,1,0,0)}},Xt.prototype.toString=function(I){return this.join(" ")},Xt.prototype.inversed=function(){var I=this.sx,J=this.shy,_e=this.shx,ke=this.sy,Fe=this.tx,nt=this.ty,ct=1/(I*ke-J*_e),Bt=ke*ct,Vt=-J*ct,cr=-_e*ct,xr=I*ct;return new Xt(Bt,Vt,cr,xr,-Bt*Fe-cr*nt,-Vt*Fe-xr*nt)},Xt.prototype.applyToPoint=function(I){var J=I.x*this.sx+I.y*this.shx+this.tx,_e=I.x*this.shy+I.y*this.sy+this.ty;return new uo(J,_e)},Xt.prototype.applyToRectangle=function(I){var J=this.applyToPoint(I),_e=this.applyToPoint(new uo(I.x+I.w,I.y+I.h));return new ec(J.x,J.y,_e.x-J.x,_e.y-J.y)},Xt.prototype.clone=function(){var I=this.sx,J=this.shy,_e=this.shx,ke=this.sy,Fe=this.tx,nt=this.ty;return new Xt(I,J,_e,ke,Fe,nt)},x.Matrix=Xt;var Dl=x.matrixMult=function(I,J){return J.multiply(I)},sl=new Xt(1,0,0,1,0,0);x.unitMatrix=x.identityMatrix=sl;var ui=function(I,J){if(!Er[I]){var _e=(J instanceof A0?"Sh":"P")+(Object.keys(ar).length+1).toString(10);J.id=_e,Er[I]=_e,ar[_e]=J,Fr.publish("addPattern",J)}};x.ShadingPattern=A0,x.TilingPattern=Am,x.addShadingPattern=function(I,J){return B("addShadingPattern()"),ui(I,J),this},x.beginTilingPattern=function(I){B("beginTilingPattern()"),Su(I.boundingBox[0],I.boundingBox[1],I.boundingBox[2]-I.boundingBox[0],I.boundingBox[3]-I.boundingBox[1],I.matrix)},x.endTilingPattern=function(I,J){B("endTilingPattern()"),J.stream=Te[F].join(`
`),ui(I,J),Fr.publish("endTilingPattern",J),us.pop().restore()};var Wi,jn=x.__private__.newObject=function(){var I=ra();return ae(I,!0),I},ra=x.__private__.newObjectDeferred=function(){return Q++,oe[Q]=function(){return X},Q},ae=function(I,J){return J=typeof J=="boolean"&&J,oe[I]=X,J&&ge(I+" 0 obj"),I},Ne=x.__private__.newAdditionalObject=function(){var I={objId:ra(),content:""};return ve.push(I),I},he=ra(),me=ra(),ye=x.__private__.decodeColorString=function(I){var J=I.split(" ");if(J.length!==2||J[1]!=="g"&&J[1]!=="G")J.length!==5||J[4]!=="k"&&J[4]!=="K"||(J=[(1-J[0])*(1-J[3]),(1-J[1])*(1-J[3]),(1-J[2])*(1-J[3]),"r"]);else{var _e=parseFloat(J[0]);J=[_e,_e,_e,"r"]}for(var ke="#",Fe=0;Fe<3;Fe++)ke+=("0"+Math.floor(255*parseFloat(J[Fe])).toString(16)).slice(-2);return ke},je=x.__private__.encodeColorString=function(I){var J;typeof I=="string"&&(I={ch1:I});var _e=I.ch1,ke=I.ch2,Fe=I.ch3,nt=I.ch4,ct=I.pdfColorType==="draw"?["G","RG","K"]:["g","rg","k"];if(typeof _e=="string"&&_e.charAt(0)!=="#"){var Bt=new KB(_e);if(Bt.ok)_e=Bt.toHex();else if(!/^\d*\.?\d*$/.test(_e))throw new Error('Invalid color "'+_e+'" passed to jsPDF.encodeColorString.')}if(typeof _e=="string"&&/^#[0-9A-Fa-f]{3}$/.test(_e)&&(_e="#"+_e[1]+_e[1]+_e[2]+_e[2]+_e[3]+_e[3]),typeof _e=="string"&&/^#[0-9A-Fa-f]{6}$/.test(_e)){var Vt=parseInt(_e.substr(1),16);_e=Vt>>16&255,ke=Vt>>8&255,Fe=255&Vt}if(ke===void 0||nt===void 0&&_e===ke&&ke===Fe)J=typeof _e=="string"?_e+" "+ct[0]:I.precision===2?L(_e/255)+" "+ct[0]:U(_e/255)+" "+ct[0];else if(nt===void 0||Nn(nt)==="object"){if(nt&&!isNaN(nt.a)&&nt.a===0)return["1.","1.","1.",ct[1]].join(" ");J=typeof _e=="string"?[_e,ke,Fe,ct[1]].join(" "):I.precision===2?[L(_e/255),L(ke/255),L(Fe/255),ct[1]].join(" "):[U(_e/255),U(ke/255),U(Fe/255),ct[1]].join(" ")}else J=typeof _e=="string"?[_e,ke,Fe,nt,ct[2]].join(" "):I.precision===2?[L(_e),L(ke),L(Fe),L(nt),ct[2]].join(" "):[U(_e),U(ke),U(Fe),U(nt),ct[2]].join(" ");return J},Me=x.__private__.getFilters=function(){return l},Xe=x.__private__.putStream=function(I){var J=(I=I||{}).data||"",_e=I.filters||Me(),ke=I.alreadyAppliedFilters||[],Fe=I.addLength1||!1,nt=J.length,ct=I.objectId,Bt=function(za){return za};if(h!==null&&ct===void 0)throw new Error("ObjectId must be passed to putStream for file encryption");h!==null&&(Bt=xa.encryptor(ct,0));var Vt={};_e===!0&&(_e=["FlateEncode"]);var cr=I.additionalKeyValues||[],xr=(Vt=Gt.API.processDataByFilters!==void 0?Gt.API.processDataByFilters(J,_e):{data:J,reverseChain:[]}).reverseChain+(Array.isArray(ke)?ke.join(" "):ke.toString());if(Vt.data.length!==0&&(cr.push({key:"Length",value:Vt.data.length}),Fe===!0&&cr.push({key:"Length1",value:nt})),xr.length!=0)if(xr.split("/").length-1==1)cr.push({key:"Filter",value:xr});else{cr.push({key:"Filter",value:"["+xr+"]"});for(var Yr=0;Yr<cr.length;Yr+=1)if(cr[Yr].key==="DecodeParms"){for(var Vn=[],ga=0;ga<Vt.reverseChain.split("/").length-1;ga+=1)Vn.push("null");Vn.push(cr[Yr].value),cr[Yr].value="["+Vn.join(" ")+"]"}}ge("<<");for(var Sn=0;Sn<cr.length;Sn++)ge("/"+cr[Sn].key+" "+cr[Sn].value);ge(">>"),Vt.data.length!==0&&(ge("stream"),ge(Bt(Vt.data)),ge("endstream"))},Ie=x.__private__.putPage=function(I){var J=I.number,_e=I.data,ke=I.objId,Fe=I.contentsObjId;ae(ke,!0),ge("<</Type /Page"),ge("/Parent "+I.rootDictionaryObjId+" 0 R"),ge("/Resources "+I.resourceDictionaryObjId+" 0 R"),ge("/MediaBox ["+parseFloat(M(I.mediaBox.bottomLeftX))+" "+parseFloat(M(I.mediaBox.bottomLeftY))+" "+M(I.mediaBox.topRightX)+" "+M(I.mediaBox.topRightY)+"]"),I.cropBox!==null&&ge("/CropBox ["+M(I.cropBox.bottomLeftX)+" "+M(I.cropBox.bottomLeftY)+" "+M(I.cropBox.topRightX)+" "+M(I.cropBox.topRightY)+"]"),I.bleedBox!==null&&ge("/BleedBox ["+M(I.bleedBox.bottomLeftX)+" "+M(I.bleedBox.bottomLeftY)+" "+M(I.bleedBox.topRightX)+" "+M(I.bleedBox.topRightY)+"]"),I.trimBox!==null&&ge("/TrimBox ["+M(I.trimBox.bottomLeftX)+" "+M(I.trimBox.bottomLeftY)+" "+M(I.trimBox.topRightX)+" "+M(I.trimBox.topRightY)+"]"),I.artBox!==null&&ge("/ArtBox ["+M(I.artBox.bottomLeftX)+" "+M(I.artBox.bottomLeftY)+" "+M(I.artBox.topRightX)+" "+M(I.artBox.topRightY)+"]"),typeof I.userUnit=="number"&&I.userUnit!==1&&ge("/UserUnit "+I.userUnit),Fr.publish("putPage",{objId:ke,pageContext:Yt[J],pageNumber:J,page:_e}),ge("/Contents "+Fe+" 0 R"),ge(">>"),ge("endobj");var nt=_e.join(`
`);return T===j&&(nt+=`
Q`),ae(Fe,!0),Xe({data:nt,filters:Me(),objectId:Fe}),ge("endobj"),ke},Be=x.__private__.putPages=function(){var I,J,_e=[];for(I=1;I<=Hr;I++)Yt[I].objId=ra(),Yt[I].contentsObjId=ra();for(I=1;I<=Hr;I++)_e.push(Ie({number:I,data:Te[I],objId:Yt[I].objId,contentsObjId:Yt[I].contentsObjId,mediaBox:Yt[I].mediaBox,cropBox:Yt[I].cropBox,bleedBox:Yt[I].bleedBox,trimBox:Yt[I].trimBox,artBox:Yt[I].artBox,userUnit:Yt[I].userUnit,rootDictionaryObjId:he,resourceDictionaryObjId:me}));ae(he,!0),ge("<</Type /Pages");var ke="/Kids [";for(J=0;J<Hr;J++)ke+=_e[J]+" 0 R ";ge(ke+"]"),ge("/Count "+Hr),ge(">>"),ge("endobj"),Fr.publish("postPutPages")},ze=function(I){Fr.publish("putFont",{font:I,out:ge,newObject:jn,putStream:Xe}),I.isAlreadyPutted!==!0&&(I.objectNumber=jn(),ge("<<"),ge("/Type /Font"),ge("/BaseFont /"+_m(I.postScriptName)),ge("/Subtype /Type1"),typeof I.encoding=="string"&&ge("/Encoding /"+I.encoding),ge("/FirstChar 32"),ge("/LastChar 255"),ge(">>"),ge("endobj"))},ft=function(I){I.objectNumber=jn();var J=[];J.push({key:"Type",value:"/XObject"}),J.push({key:"Subtype",value:"/Form"}),J.push({key:"BBox",value:"["+[M(I.x),M(I.y),M(I.x+I.width),M(I.y+I.height)].join(" ")+"]"}),J.push({key:"Matrix",value:"["+I.matrix.toString()+"]"});var _e=I.pages[1].join(`
`);Xe({data:_e,additionalKeyValues:J,objectId:I.objectNumber}),ge("endobj")},gt=function(I,J){J||(J=21);var _e=jn(),ke=(function(ct,Bt){var Vt,cr=[],xr=1/(Bt-1);for(Vt=0;Vt<1;Vt+=xr)cr.push(Vt);if(cr.push(1),ct[0].offset!=0){var Yr={offset:0,color:ct[0].color};ct.unshift(Yr)}if(ct[ct.length-1].offset!=1){var Vn={offset:1,color:ct[ct.length-1].color};ct.push(Vn)}for(var ga="",Sn=0,za=0;za<cr.length;za++){for(Vt=cr[za];Vt>ct[Sn+1].offset;)Sn++;var ka=ct[Sn].offset,di=(Vt-ka)/(ct[Sn+1].offset-ka),ol=ct[Sn].color,fs=ct[Sn+1].color;ga+=W(Math.round((1-di)*ol[0]+di*fs[0]).toString(16))+W(Math.round((1-di)*ol[1]+di*fs[1]).toString(16))+W(Math.round((1-di)*ol[2]+di*fs[2]).toString(16))}return ga.trim()})(I.colors,J),Fe=[];Fe.push({key:"FunctionType",value:"0"}),Fe.push({key:"Domain",value:"[0.0 1.0]"}),Fe.push({key:"Size",value:"["+J+"]"}),Fe.push({key:"BitsPerSample",value:"8"}),Fe.push({key:"Range",value:"[0.0 1.0 0.0 1.0 0.0 1.0]"}),Fe.push({key:"Decode",value:"[0.0 1.0 0.0 1.0 0.0 1.0]"}),Xe({data:ke,additionalKeyValues:Fe,alreadyAppliedFilters:["/ASCIIHexDecode"],objectId:_e}),ge("endobj"),I.objectNumber=jn(),ge("<< /ShadingType "+I.type),ge("/ColorSpace /DeviceRGB");var nt="/Coords ["+M(parseFloat(I.coords[0]))+" "+M(parseFloat(I.coords[1]))+" ";I.type===2?nt+=M(parseFloat(I.coords[2]))+" "+M(parseFloat(I.coords[3])):nt+=M(parseFloat(I.coords[2]))+" "+M(parseFloat(I.coords[3]))+" "+M(parseFloat(I.coords[4]))+" "+M(parseFloat(I.coords[5])),ge(nt+="]"),I.matrix&&ge("/Matrix ["+I.matrix.toString()+"]"),ge("/Function "+_e+" 0 R"),ge("/Extend [true true]"),ge(">>"),ge("endobj")},St=function(I,J){var _e=ra(),ke=jn();J.push({resourcesOid:_e,objectOid:ke}),I.objectNumber=ke;var Fe=[];Fe.push({key:"Type",value:"/Pattern"}),Fe.push({key:"PatternType",value:"1"}),Fe.push({key:"PaintType",value:"1"}),Fe.push({key:"TilingType",value:"1"}),Fe.push({key:"BBox",value:"["+I.boundingBox.map(M).join(" ")+"]"}),Fe.push({key:"XStep",value:M(I.xStep)}),Fe.push({key:"YStep",value:M(I.yStep)}),Fe.push({key:"Resources",value:_e+" 0 R"}),I.matrix&&Fe.push({key:"Matrix",value:"["+I.matrix.toString()+"]"}),Xe({data:I.stream,additionalKeyValues:Fe,objectId:I.objectNumber}),ge("endobj")},mt=function(I){for(var J in I.objectNumber=jn(),ge("<<"),I)switch(J){case"opacity":ge("/ca "+L(I[J]));break;case"stroke-opacity":ge("/CA "+L(I[J]))}ge(">>"),ge("endobj")},Nt=function(I){ae(I.resourcesOid,!0),ge("<<"),ge("/ProcSet [/PDF /Text /ImageB /ImageC /ImageI]"),(function(){for(var J in ge("/Font <<"),At)At.hasOwnProperty(J)&&(m===!1||m===!0&&g.hasOwnProperty(J))&&ge("/"+J+" "+At[J].objectNumber+" 0 R");ge(">>")})(),(function(){if(Object.keys(ar).length>0){for(var J in ge("/Shading <<"),ar)ar.hasOwnProperty(J)&&ar[J]instanceof A0&&ar[J].objectNumber>=0&&ge("/"+J+" "+ar[J].objectNumber+" 0 R");Fr.publish("putShadingPatternDict"),ge(">>")}})(),(function(J){if(Object.keys(ar).length>0){for(var _e in ge("/Pattern <<"),ar)ar.hasOwnProperty(_e)&&ar[_e]instanceof x.TilingPattern&&ar[_e].objectNumber>=0&&ar[_e].objectNumber<J&&ge("/"+_e+" "+ar[_e].objectNumber+" 0 R");Fr.publish("putTilingPatternDict"),ge(">>")}})(I.objectOid),(function(){if(Object.keys(dr).length>0){var J;for(J in ge("/ExtGState <<"),dr)dr.hasOwnProperty(J)&&dr[J].objectNumber>=0&&ge("/"+J+" "+dr[J].objectNumber+" 0 R");Fr.publish("putGStateDict"),ge(">>")}})(),(function(){for(var J in ge("/XObject <<"),Ja)Ja.hasOwnProperty(J)&&Ja[J].objectNumber>=0&&ge("/"+J+" "+Ja[J].objectNumber+" 0 R");Fr.publish("putXobjectDict"),ge(">>")})(),ge(">>"),ge("endobj")},Lt=function(I){er[I.fontName]=er[I.fontName]||{},er[I.fontName][I.fontStyle]=I.id},cn=function(I,J,_e,ke,Fe){var nt={id:"F"+(Object.keys(At).length+1).toString(10),postScriptName:I,fontName:J,fontStyle:_e,encoding:ke,isStandardFont:Fe||!1,metadata:{}};return Fr.publish("addFont",{font:nt,instance:this}),At[nt.id]=nt,Lt(nt),nt.id},Cr=x.__private__.pdfEscape=x.pdfEscape=function(I,J){return(function(_e,ke){var Fe,nt,ct,Bt,Vt,cr,xr,Yr,Vn;if(ct=(ke=ke||{}).sourceEncoding||"Unicode",Vt=ke.outputEncoding,(ke.autoencode||Vt)&&At[Pt].metadata&&At[Pt].metadata[ct]&&At[Pt].metadata[ct].encoding&&(Bt=At[Pt].metadata[ct].encoding,!Vt&&At[Pt].encoding&&(Vt=At[Pt].encoding),!Vt&&Bt.codePages&&(Vt=Bt.codePages[0]),typeof Vt=="string"&&(Vt=Bt[Vt]),Vt)){for(xr=!1,cr=[],Fe=0,nt=_e.length;Fe<nt;Fe++)(Yr=Vt[_e.charCodeAt(Fe)])?cr.push(String.fromCharCode(Yr)):cr.push(_e[Fe]),cr[Fe].charCodeAt(0)>>8&&(xr=!0);_e=cr.join("")}for(Fe=_e.length;xr===void 0&&Fe!==0;)_e.charCodeAt(Fe-1)>>8&&(xr=!0),Fe--;if(!xr)return _e;for(cr=ke.noBOM?[]:[254,255],Fe=0,nt=_e.length;Fe<nt;Fe++){if((Vn=(Yr=_e.charCodeAt(Fe))>>8)>>8)throw new Error("Character at position "+Fe+" of string '"+_e+"' exceeds 16bits. Cannot be encoded into UCS-2 BE");cr.push(Vn),cr.push(Yr-(Vn<<8))}return String.fromCharCode.apply(void 0,cr)})(I,J).replace(/\\/g,"\\\\").replace(/\(/g,"\\(").replace(/\)/g,"\\)")},hn=x.__private__.beginPage=function(I){Te[++Hr]=[],Yt[Hr]={objId:0,contentsObjId:0,userUnit:Number(o),artBox:null,bleedBox:null,cropBox:null,trimBox:null,mediaBox:{bottomLeftX:0,bottomLeftY:0,topRightX:Number(I[0]),topRightY:Number(I[1])}},Pl(Hr),Ee(Te[F])},Ki=function(I,J){var _e,ke,Fe;switch(r=J||r,typeof I=="string"&&(_e=N(I.toLowerCase()),Array.isArray(_e)&&(ke=_e[0],Fe=_e[1])),Array.isArray(I)&&(ke=I[0]*yt,Fe=I[1]*yt),isNaN(ke)&&(ke=a[0],Fe=a[1]),(ke>14400||Fe>14400)&&(In.warn("A page in a PDF can not be wider or taller than 14400 userUnit. jsPDF limits the width/height to 14400"),ke=Math.min(14400,ke),Fe=Math.min(14400,Fe)),a=[ke,Fe],r.substr(0,1)){case"l":Fe>ke&&(a=[Fe,ke]);break;case"p":ke>Fe&&(a=[Fe,ke])}hn(a),Bc(wu),ge(zs),Mf!==0&&ge(Mf+" J"),ei!==0&&ge(ei+" j"),Fr.publish("addPage",{pageNumber:Hr})},Fl=function(I){I>0&&I<=Hr&&(Te.splice(I,1),Yt.splice(I,1),Hr--,F>Hr&&(F=Hr),this.setPage(F))},Pl=function(I){I>0&&I<=Hr&&(F=I)},Is=x.__private__.getNumberOfPages=x.getNumberOfPages=function(){return Te.length-1},Ic=function(I,J,_e){var ke,Fe=void 0;return _e=_e||{},I=I!==void 0?I:At[Pt].fontName,J=J!==void 0?J:At[Pt].fontStyle,ke=I.toLowerCase(),er[ke]!==void 0&&er[ke][J]!==void 0?Fe=er[ke][J]:er[I]!==void 0&&er[I][J]!==void 0?Fe=er[I][J]:_e.disableWarning===!1&&In.warn("Unable to look up font label for font '"+I+"', '"+J+"'. Refer to getFontList() for available fonts."),Fe||_e.noFallback||(Fe=er.times[J])==null&&(Fe=er.times.normal),Fe},Ua=x.__private__.putInfo=function(){var I=jn(),J=function(ke){return ke};for(var _e in h!==null&&(J=xa.encryptor(I,0)),ge("<<"),ge("/Producer ("+Cr(J("jsPDF "+Gt.version))+")"),Mt)Mt.hasOwnProperty(_e)&&Mt[_e]&&ge("/"+_e.substr(0,1).toUpperCase()+_e.substr(1)+" ("+Cr(J(Mt[_e]))+")");ge("/CreationDate ("+Cr(J(de))+")"),ge(">>"),ge("endobj")},Pf=x.__private__.putCatalog=function(I){var J=(I=I||{}).rootDictionaryObjId||he;switch(jn(),ge("<<"),ge("/Type /Catalog"),ge("/Pages "+J+" 0 R"),Ct||(Ct="fullwidth"),Ct){case"fullwidth":ge("/OpenAction [3 0 R /FitH null]");break;case"fullheight":ge("/OpenAction [3 0 R /FitV null]");break;case"fullpage":ge("/OpenAction [3 0 R /Fit]");break;case"original":ge("/OpenAction [3 0 R /XYZ null null 1]");break;default:var _e=""+Ct;_e.substr(_e.length-1)==="%"&&(Ct=parseInt(Ct)/100),typeof Ct=="number"&&ge("/OpenAction [3 0 R /XYZ null null "+L(Ct)+"]")}switch(zt||(zt="continuous"),zt){case"continuous":ge("/PageLayout /OneColumn");break;case"single":ge("/PageLayout /SinglePage");break;case"two":case"twoleft":ge("/PageLayout /TwoColumnLeft");break;case"tworight":ge("/PageLayout /TwoColumnRight")}pt&&ge("/PageMode /"+pt),Fr.publish("putCatalog"),ge(">>"),ge("endobj")},mn=x.__private__.putTrailer=function(){ge("trailer"),ge("<<"),ge("/Size "+(Q+1)),ge("/Root "+Q+" 0 R"),ge("/Info "+(Q-1)+" 0 R"),h!==null&&ge("/Encrypt "+xa.oid+" 0 R"),ge("/ID [ <"+ne+"> <"+ne+"> ]"),ge(">>")},Gi=x.__private__.putHeader=function(){ge("%PDF-"+b),ge("%")},Gd=x.__private__.putXRef=function(){var I="0000000000";ge("xref"),ge("0 "+(Q+1)),ge("0000000000 65535 f ");for(var J=1;J<=Q;J++)typeof oe[J]=="function"?ge((I+oe[J]()).slice(-10)+" 00000 n "):oe[J]!==void 0?ge((I+oe[J]).slice(-10)+" 00000 n "):ge("0000000000 00000 n ")},Xo=x.__private__.buildDocument=function(){var I;Q=0,X=0,ue=[],oe=[],ve=[],he=ra(),me=ra(),Ee(ue),Fr.publish("buildDocument"),Gi(),Be(),(function(){Fr.publish("putAdditionalObjects");for(var _e=0;_e<ve.length;_e++){var ke=ve[_e];ae(ke.objId,!0),ge(ke.content),ge("endobj")}Fr.publish("postPutAdditionalObjects")})(),I=[],(function(){for(var _e in At)At.hasOwnProperty(_e)&&(m===!1||m===!0&&g.hasOwnProperty(_e))&&ze(At[_e])})(),(function(){var _e;for(_e in dr)dr.hasOwnProperty(_e)&&mt(dr[_e])})(),(function(){for(var _e in Ja)Ja.hasOwnProperty(_e)&&ft(Ja[_e])})(),(function(_e){var ke;for(ke in ar)ar.hasOwnProperty(ke)&&(ar[ke]instanceof A0?gt(ar[ke]):ar[ke]instanceof Am&&St(ar[ke],_e))})(I),Fr.publish("putResources"),I.forEach(Nt),Nt({resourcesOid:me,objectOid:Number.MAX_SAFE_INTEGER}),Fr.publish("postPutResources"),h!==null&&(xa.oid=jn(),ge("<<"),ge("/Filter /Standard"),ge("/V "+xa.v),ge("/R "+xa.r),ge("/U <"+xa.toHexString(xa.U)+">"),ge("/O <"+xa.toHexString(xa.O)+">"),ge("/P "+xa.P),ge(">>"),ge("endobj")),Ua(),Pf();var J=X;return Gd(),mn(),ge("startxref"),ge(""+J),ge("%%EOF"),Ee(Te[F]),ue.join(`
`)},Qo=x.__private__.getBlob=function(I){return new Blob([Ze(I)],{type:"application/pdf"})},ll=x.output=x.__private__.output=(Wi=function(I,J){switch(typeof(J=J||{})=="string"?J={filename:J}:J.filename=J.filename||"generated.pdf",I){case void 0:return Xo();case"save":x.save(J.filename);break;case"arraybuffer":return Ze(Xo());case"blob":return Qo(Xo());case"bloburi":case"bloburl":if(pr.URL!==void 0&&typeof pr.URL.createObjectURL=="function")return pr.URL&&pr.URL.createObjectURL(Qo(Xo()))||void 0;In.warn("bloburl is not supported by your system, because URL.createObjectURL is not supported by your browser.");break;case"datauristring":case"dataurlstring":var _e="",ke=Xo();try{_e=U7(ke)}catch{_e=U7(unescape(encodeURIComponent(ke)))}return"data:application/pdf;filename="+J.filename+";base64,"+_e;case"pdfobjectnewwindow":if(Object.prototype.toString.call(pr)==="[object Window]"){var Fe="https://cdnjs.cloudflare.com/ajax/libs/pdfobject/2.1.1/pdfobject.min.js",nt=' integrity="sha512-4ze/a9/4jqu+tX9dfOqJYSvyYd5M6qum/3HpCLr+/Jqf0whc37VUbkpNGHR7/8pSnCFw47T1fmIpwBV7UySh3g==" crossorigin="anonymous"';J.pdfObjectUrl&&(Fe=J.pdfObjectUrl,nt="");var ct='<html><style>html, body { padding: 0; margin: 0; } iframe { width: 100%; height: 100%; border: 0;}  </style><body><script src="'+Fe+'"'+nt+'><\/script><script >PDFObject.embed("'+this.output("dataurlstring")+'", '+JSON.stringify(J)+");<\/script></body></html>",Bt=pr.open();return Bt!==null&&Bt.document.write(ct),Bt}throw new Error("The option pdfobjectnewwindow just works in a browser-environment.");case"pdfjsnewwindow":if(Object.prototype.toString.call(pr)==="[object Window]"){var Vt='<html><style>html, body { padding: 0; margin: 0; } iframe { width: 100%; height: 100%; border: 0;}  </style><body><iframe id="pdfViewer" src="'+(J.pdfJsUrl||"examples/PDF.js/web/viewer.html")+"?file=&downloadName="+J.filename+'" width="500px" height="400px" /></body></html>',cr=pr.open();if(cr!==null){cr.document.write(Vt);var xr=this;cr.document.documentElement.querySelector("#pdfViewer").onload=function(){cr.document.title=J.filename,cr.document.documentElement.querySelector("#pdfViewer").contentWindow.PDFViewerApplication.open(xr.output("bloburl"))}}return cr}throw new Error("The option pdfjsnewwindow just works in a browser-environment.");case"dataurlnewwindow":if(Object.prototype.toString.call(pr)!=="[object Window]")throw new Error("The option dataurlnewwindow just works in a browser-environment.");var Yr='<html><style>html, body { padding: 0; margin: 0; } iframe { width: 100%; height: 100%; border: 0;}  </style><body><iframe src="'+this.output("datauristring",J)+'"></iframe></body></html>',Vn=pr.open();if(Vn!==null&&(Vn.document.write(Yr),Vn.document.title=J.filename),Vn||typeof safari>"u")return Vn;break;case"datauri":case"dataurl":return pr.document.location.href=this.output("datauristring",J);default:return null}},Wi.foo=function(){try{return Wi.apply(this,arguments)}catch(_e){var I=_e.stack||"";~I.indexOf(" at ")&&(I=I.split(" at ")[1]);var J="Error in function "+I.split(`
`)[0].split("<")[0]+": "+_e.message;if(!pr.console)throw new Error(J);pr.console.error(J,_e),pr.alert&&alert(J)}},Wi.foo.bar=Wi,Wi.foo),oo=function(I){return Array.isArray(Rs)===!0&&Rs.indexOf(I)>-1};switch(n){case"pt":yt=1;break;case"mm":yt=72/25.4;break;case"cm":yt=72/2.54;break;case"in":yt=72;break;case"px":yt=oo("px_scaling")==1?.75:96/72;break;case"pc":case"em":yt=12;break;case"ex":yt=6;break;default:if(typeof n!="number")throw new Error("Invalid unit: "+n);yt=n}var xa=null;re(),xe();var Oi=x.__private__.getPageInfo=x.getPageInfo=function(I){if(isNaN(I)||I%1!=0)throw new Error("Invalid argument passed to jsPDF.getPageInfo");return{objId:Yt[I].objId,pageNumber:I,pageContext:Yt[I]}},Yd=x.__private__.getPageInfoByObjId=function(I){if(isNaN(I)||I%1!=0)throw new Error("Invalid argument passed to jsPDF.getPageInfoByObjId");for(var J in Yt)if(Yt[J].objId===I)break;return Oi(J)},_h=x.__private__.getCurrentPageInfo=x.getCurrentPageInfo=function(){return{objId:Yt[F].objId,pageNumber:F,pageContext:Yt[F]}};x.addPage=function(){return Ki.apply(this,arguments),this},x.setPage=function(){return Pl.apply(this,arguments),Ee.call(this,Te[F]),this},x.insertPage=function(I){return this.addPage(),this.movePage(F,I),this},x.movePage=function(I,J){var _e,ke;if(I>J){_e=Te[I],ke=Yt[I];for(var Fe=I;Fe>J;Fe--)Te[Fe]=Te[Fe-1],Yt[Fe]=Yt[Fe-1];Te[J]=_e,Yt[J]=ke,this.setPage(J)}else if(I<J){_e=Te[I],ke=Yt[I];for(var nt=I;nt<J;nt++)Te[nt]=Te[nt+1],Yt[nt]=Yt[nt+1];Te[J]=_e,Yt[J]=ke,this.setPage(J)}return this},x.deletePage=function(){return Fl.apply(this,arguments),this},x.__private__.text=x.text=function(I,J,_e,ke,Fe){var nt,ct,Bt,Vt,cr,xr,Yr,Vn,ga,Sn=(ke=ke||{}).scope||this;if(typeof I=="number"&&typeof J=="number"&&(typeof _e=="string"||Array.isArray(_e))){var za=_e;_e=J,J=I,I=za}if(arguments[3]instanceof Xt==0?(Bt=arguments[4],Vt=arguments[5],Nn(Yr=arguments[3])==="object"&&Yr!==null||(typeof Bt=="string"&&(Vt=Bt,Bt=null),typeof Yr=="string"&&(Vt=Yr,Yr=null),typeof Yr=="number"&&(Bt=Yr,Yr=null),ke={flags:Yr,angle:Bt,align:Vt})):(B("The transform parameter of text() with a Matrix value"),ga=Fe),isNaN(J)||isNaN(_e)||I==null)throw new Error("Invalid arguments passed to jsPDF.text");if(I.length===0)return Sn;var ka,di="",ol=typeof ke.lineHeightFactor=="number"?ke.lineHeightFactor:Zo,fs=Sn.internal.scaleFactor;function Oh(Xr){return Xr=Xr.split("	").join(Array(ke.TabLen||9).join(" ")),Cr(Xr,Yr)}function If(Xr){for(var qr,An=Xr.concat(),ya=[],bo=An.length;bo--;)typeof(qr=An.shift())=="string"?ya.push(qr):Array.isArray(Xr)&&(qr.length===1||qr[1]===void 0&&qr[2]===void 0)?ya.push(qr[0]):ya.push([qr[0],qr[1],qr[2]]);return ya}function Eu(Xr,qr){var An;if(typeof Xr=="string")An=qr(Xr)[0];else if(Array.isArray(Xr)){for(var ya,bo,Ul=Xr.concat(),Tu=[],s0=Ul.length;s0--;)typeof(ya=Ul.shift())=="string"?Tu.push(qr(ya)[0]):Array.isArray(ya)&&typeof ya[0]=="string"&&(bo=qr(ya[0],ya[1],ya[2]),Tu.push([bo[0],bo[1],bo[2]]));An=Tu}return An}var ho=!1,Rl=!0;if(typeof I=="string")ho=!0;else if(Array.isArray(I)){var ku=I.concat();ct=[];for(var zc,hi=ku.length;hi--;)(typeof(zc=ku.shift())!="string"||Array.isArray(zc)&&typeof zc[0]!="string")&&(Rl=!1);ho=Rl}if(ho===!1)throw new Error('Type of text must be string or Array. "'+I+'" is not recognized.');typeof I=="string"&&(I=I.match(/[\r?\n]/)?I.split(/\r\n|\r|\n/g):[I]);var qc=lt/Sn.internal.scaleFactor,$c=qc*(ol-1);switch(ke.baseline){case"bottom":_e-=$c;break;case"top":_e+=qc-$c;break;case"hanging":_e+=qc-2*$c;break;case"middle":_e+=qc/2-$c}if((xr=ke.maxWidth||0)>0&&(typeof I=="string"?I=Sn.splitTextToSize(I,xr):Object.prototype.toString.call(I)==="[object Array]"&&(I=I.reduce(function(Xr,qr){return Xr.concat(Sn.splitTextToSize(qr,xr))},[]))),nt={text:I,x:J,y:_e,options:ke,mutex:{pdfEscape:Cr,activeFontKey:Pt,fonts:At,activeFontSize:lt}},Fr.publish("preProcessText",nt),I=nt.text,Bt=(ke=nt.options).angle,ga instanceof Xt==0&&Bt&&typeof Bt=="number"){Bt*=Math.PI/180,ke.rotationDirection===0&&(Bt=-Bt),T===j&&(Bt=-Bt);var Bf=Math.cos(Bt),mo=Math.sin(Bt);ga=new Xt(Bf,mo,-mo,Bf,0,0)}else Bt&&Bt instanceof Xt&&(ga=Bt);T!==j||ga||(ga=sl),(cr=ke.charSpace||Jo)!==void 0&&(di+=M(G(cr))+` Tc
`,this.setCharSpace(this.getCharSpace()||0)),(Vn=ke.horizontalScale)!==void 0&&(di+=M(100*Vn)+` Tz
`),ke.lang;var na=-1,ac=ke.renderingMode!==void 0?ke.renderingMode:ke.stroke,Uf=Sn.internal.getCurrentPageInfo().pageContext;switch(ac){case 0:case!1:case"fill":na=0;break;case 1:case!0:case"stroke":na=1;break;case 2:case"fillThenStroke":na=2;break;case 3:case"invisible":na=3;break;case 4:case"fillAndAddForClipping":na=4;break;case 5:case"strokeAndAddPathForClipping":na=5;break;case 6:case"fillThenStrokeAndAddToPathForClipping":na=6;break;case 7:case"addToPathForClipping":na=7}var a0=Uf.usedRenderingMode!==void 0?Uf.usedRenderingMode:-1;na!==-1?di+=na+` Tr
`:a0!==-1&&(di+=`0 Tr
`),na!==-1&&(Uf.usedRenderingMode=na),Vt=ke.align||"left";var $s,Il=lt*ol,ic=Sn.internal.pageSize.getWidth(),i0=At[Pt];cr=ke.charSpace||Jo,xr=ke.maxWidth||0,Yr=Object.assign({autoencode:!0,noBOM:!0},ke.flags);var Bl=[],Hc=function(Xr){return Sn.getStringUnitWidth(Xr,{font:i0,charSpace:cr,fontSize:lt,doKerning:!1})*lt/fs};if(Object.prototype.toString.call(I)==="[object Array]"){var ds;ct=If(I),Vt!=="left"&&($s=ct.map(Hc));var Xi,po=0;if(Vt==="right"){J-=$s[0],I=[],hi=ct.length;for(var xo=0;xo<hi;xo++)xo===0?(Xi=Us(J),ds=fi(_e)):(Xi=G(po-$s[xo]),ds=-Il),I.push([ct[xo],Xi,ds]),po=$s[xo]}else if(Vt==="center"){J-=$s[0]/2,I=[],hi=ct.length;for(var sc=0;sc<hi;sc++)sc===0?(Xi=Us(J),ds=fi(_e)):(Xi=G((po-$s[sc])/2),ds=-Il),I.push([ct[sc],Xi,ds]),po=$s[sc]}else if(Vt==="left"){I=[],hi=ct.length;for(var zf=0;zf<hi;zf++)I.push(ct[zf])}else if(Vt==="justify"&&i0.encoding==="Identity-H"){I=[],hi=ct.length,xr=xr!==0?xr:ic;for(var qf=0,va=0;va<hi;va++)if(ds=va===0?fi(_e):-Il,Xi=va===0?Us(J):qf,va<hi-1){var Dh=G((xr-$s[va])/(ct[va].split(" ").length-1)),go=ct[va].split(" ");I.push([go[0]+" ",Xi,ds]),qf=0;for(var vo=1;vo<go.length;vo++){var mi=(Hc(go[vo-1]+" "+go[vo])-Hc(go[vo]))*fs+Dh;vo==go.length-1?I.push([go[vo],mi,0]):I.push([go[vo]+" ",mi,0]),qf-=mi}}else I.push([ct[va],Xi,ds]);I.push(["",qf,0])}else{if(Vt!=="justify")throw new Error('Unrecognized alignment option, use "left", "center", "right" or "justify".');for(I=[],hi=ct.length,xr=xr!==0?xr:ic,va=0;va<hi;va++){ds=va===0?fi(_e):-Il,Xi=va===0?Us(J):0;var lc=ct[va].split(" ").length-1,$f=lc>0?(xr-$s[va])/lc:0;va<hi-1?Bl.push(M(G($f))):Bl.push(0),I.push([ct[va],Xi,ds])}}}(typeof ke.R2L=="boolean"?ke.R2L:Ye)===!0&&(I=Eu(I,function(Xr,qr,An){return[Xr.split("").reverse().join(""),qr,An]})),nt={text:I,x:J,y:_e,options:ke,mutex:{pdfEscape:Cr,activeFontKey:Pt,fonts:At,activeFontSize:lt}},Fr.publish("postProcessText",nt),I=nt.text,ka=nt.mutex.isHex||!1;var Hf=At[Pt].encoding;Hf!=="WinAnsiEncoding"&&Hf!=="StandardEncoding"||(I=Eu(I,function(Xr,qr,An){return[Oh(Xr),qr,An]})),ct=If(I),I=[];for(var oc,cc,yo,Cu=Array.isArray(ct[0])?1:0,Hs="",uc=function(Xr,qr,An){var ya="";return An instanceof Xt?(An=typeof ke.angle=="number"?Dl(An,new Xt(1,0,0,1,Xr,qr)):Dl(new Xt(1,0,0,1,Xr,qr),An),T===j&&(An=Dl(new Xt(1,0,0,-1,0,0),An)),ya=An.join(" ")+` Tm
`):ya=M(Xr)+" "+M(qr)+` Td
`,ya},Di=0;Di<ct.length;Di++){switch(Hs="",Cu){case 1:yo=(ka?"<":"(")+ct[Di][0]+(ka?">":")"),oc=parseFloat(ct[Di][1]),cc=parseFloat(ct[Di][2]);break;case 0:yo=(ka?"<":"(")+ct[Di]+(ka?">":")"),oc=Us(J),cc=fi(_e)}Bl!==void 0&&Bl[Di]!==void 0&&(Hs=Bl[Di]+` Tw
`),Di===0?I.push(Hs+uc(oc,cc,ga)+yo):Cu===0?I.push(Hs+yo):Cu===1&&I.push(Hs+uc(oc,cc,ga)+yo)}I=Cu===0?I.join(` Tj
T* `):I.join(` Tj
`),I+=` Tj
`;var cl=`BT
/`;return cl+=Pt+" "+lt+` Tf
`,cl+=M(lt*ol)+` TL
`,cl+=co+`
`,cl+=di,cl+=I,ge(cl+="ET"),g[Pt]=!0,Sn};var Xd=x.__private__.clip=x.clip=function(I){return ge(I==="evenodd"?"W*":"W"),this};x.clipEvenOdd=function(){return Xd("evenodd")},x.__private__.discardPath=x.discardPath=function(){return ge("n"),this};var Yi=x.__private__.isValidStyle=function(I){var J=!1;return[void 0,null,"S","D","F","DF","FD","f","f*","B","B*","n"].indexOf(I)!==-1&&(J=!0),J};x.__private__.setDefaultPathOperation=x.setDefaultPathOperation=function(I){return Yi(I)&&(f=I),this};var Qd=x.__private__.getStyle=x.getStyle=function(I){var J=f;switch(I){case"D":case"S":J="S";break;case"F":J="f";break;case"FD":case"DF":J="B";break;case"f":case"f*":case"B":case"B*":J=I}return J},Zd=x.close=function(){return ge("h"),this};x.stroke=function(){return ge("S"),this},x.fill=function(I){return Bs("f",I),this},x.fillEvenOdd=function(I){return Bs("f*",I),this},x.fillStroke=function(I){return Bs("B",I),this},x.fillStrokeEvenOdd=function(I){return Bs("B*",I),this};var Bs=function(I,J){Nn(J)==="object"?Sh(J,I):ge(I)},Jd=function(I){I===null||T===j&&I===void 0||(I=Qd(I),ge(I))};function jh(I,J,_e,ke,Fe){var nt=new Am(J||this.boundingBox,_e||this.xStep,ke||this.yStep,this.gState,Fe||this.matrix);nt.stream=this.stream;var ct=I+"$$"+this.cloneIndex+++"$$";return ui(ct,nt),nt}var Sh=function(I,J){var _e=Er[I.key],ke=ar[_e];if(ke instanceof A0)ge("q"),ge(e0(J)),ke.gState&&x.setGState(ke.gState),ge(I.matrix.toString()+" cm"),ge("/"+_e+" sh"),ge("Q");else if(ke instanceof Am){var Fe=new Xt(1,0,0,-1,0,nc());I.matrix&&(Fe=Fe.multiply(I.matrix||sl),_e=jh.call(ke,I.key,I.boundingBox,I.xStep,I.yStep,Fe).id),ge("q"),ge("/Pattern cs"),ge("/"+_e+" scn"),ke.gState&&x.setGState(ke.gState),ge(J),ge("Q")}},e0=function(I){switch(I){case"f":case"F":case"n":return"W n";case"f*":return"W* n";case"B":case"S":return"W S";case"B*":return"W* S"}},t0=x.moveTo=function(I,J){return ge(M(G(I))+" "+M(te(J))+" m"),this},bu=x.lineTo=function(I,J){return ge(M(G(I))+" "+M(te(J))+" l"),this},Ll=x.curveTo=function(I,J,_e,ke,Fe,nt){return ge([M(G(I)),M(te(J)),M(G(_e)),M(te(ke)),M(G(Fe)),M(te(nt)),"c"].join(" ")),this};x.__private__.line=x.line=function(I,J,_e,ke,Fe){if(isNaN(I)||isNaN(J)||isNaN(_e)||isNaN(ke)||!Yi(Fe))throw new Error("Invalid arguments passed to jsPDF.line");return T===E?this.lines([[_e-I,ke-J]],I,J,[1,1],Fe||"S"):this.lines([[_e-I,ke-J]],I,J,[1,1]).stroke()},x.__private__.lines=x.lines=function(I,J,_e,ke,Fe,nt){var ct,Bt,Vt,cr,xr,Yr,Vn,ga,Sn,za,ka,di;if(typeof I=="number"&&(di=_e,_e=J,J=I,I=di),ke=ke||[1,1],nt=nt||!1,isNaN(J)||isNaN(_e)||!Array.isArray(I)||!Array.isArray(ke)||!Yi(Fe)||typeof nt!="boolean")throw new Error("Invalid arguments passed to jsPDF.lines");for(t0(J,_e),ct=ke[0],Bt=ke[1],cr=I.length,za=J,ka=_e,Vt=0;Vt<cr;Vt++)(xr=I[Vt]).length===2?(za=xr[0]*ct+za,ka=xr[1]*Bt+ka,bu(za,ka)):(Yr=xr[0]*ct+za,Vn=xr[1]*Bt+ka,ga=xr[2]*ct+za,Sn=xr[3]*Bt+ka,za=xr[4]*ct+za,ka=xr[5]*Bt+ka,Ll(Yr,Vn,ga,Sn,za,ka));return nt&&Zd(),Jd(Fe),this},x.path=function(I){for(var J=0;J<I.length;J++){var _e=I[J],ke=_e.c;switch(_e.op){case"m":t0(ke[0],ke[1]);break;case"l":bu(ke[0],ke[1]);break;case"c":Ll.apply(this,ke);break;case"h":Zd()}}return this},x.__private__.rect=x.rect=function(I,J,_e,ke,Fe){if(isNaN(I)||isNaN(J)||isNaN(_e)||isNaN(ke)||!Yi(Fe))throw new Error("Invalid arguments passed to jsPDF.rect");return T===E&&(ke=-ke),ge([M(G(I)),M(te(J)),M(G(_e)),M(G(ke)),"re"].join(" ")),Jd(Fe),this},x.__private__.triangle=x.triangle=function(I,J,_e,ke,Fe,nt,ct){if(isNaN(I)||isNaN(J)||isNaN(_e)||isNaN(ke)||isNaN(Fe)||isNaN(nt)||!Yi(ct))throw new Error("Invalid arguments passed to jsPDF.triangle");return this.lines([[_e-I,ke-J],[Fe-_e,nt-ke],[I-Fe,J-nt]],I,J,[1,1],ct,!0),this},x.__private__.roundedRect=x.roundedRect=function(I,J,_e,ke,Fe,nt,ct){if(isNaN(I)||isNaN(J)||isNaN(_e)||isNaN(ke)||isNaN(Fe)||isNaN(nt)||!Yi(ct))throw new Error("Invalid arguments passed to jsPDF.roundedRect");var Bt=4/3*(Math.SQRT2-1);return Fe=Math.min(Fe,.5*_e),nt=Math.min(nt,.5*ke),this.lines([[_e-2*Fe,0],[Fe*Bt,0,Fe,nt-nt*Bt,Fe,nt],[0,ke-2*nt],[0,nt*Bt,-Fe*Bt,nt,-Fe,nt],[2*Fe-_e,0],[-Fe*Bt,0,-Fe,-nt*Bt,-Fe,-nt],[0,2*nt-ke],[0,-nt*Bt,Fe*Bt,-nt,Fe,-nt]],I+Fe,J,[1,1],ct,!0),this},x.__private__.ellipse=x.ellipse=function(I,J,_e,ke,Fe){if(isNaN(I)||isNaN(J)||isNaN(_e)||isNaN(ke)||!Yi(Fe))throw new Error("Invalid arguments passed to jsPDF.ellipse");var nt=4/3*(Math.SQRT2-1)*_e,ct=4/3*(Math.SQRT2-1)*ke;return t0(I+_e,J),Ll(I+_e,J-ct,I+nt,J-ke,I,J-ke),Ll(I-nt,J-ke,I-_e,J-ct,I-_e,J),Ll(I-_e,J+ct,I-nt,J+ke,I,J+ke),Ll(I+nt,J+ke,I+_e,J+ct,I+_e,J),Jd(Fe),this},x.__private__.circle=x.circle=function(I,J,_e,ke){if(isNaN(I)||isNaN(J)||isNaN(_e)||!Yi(ke))throw new Error("Invalid arguments passed to jsPDF.circle");return this.ellipse(I,J,_e,_e,ke)},x.setFont=function(I,J,_e){return _e&&(J=D(J,_e)),Pt=Ic(I,J,{disableWarning:!1}),this};var Ml=x.__private__.getFont=x.getFont=function(){return At[Ic.apply(x,arguments)]};x.__private__.getFontList=x.getFontList=function(){var I,J,_e={};for(I in er)if(er.hasOwnProperty(I))for(J in _e[I]=[],er[I])er[I].hasOwnProperty(J)&&_e[I].push(J);return _e},x.addFont=function(I,J,_e,ke,Fe){var nt=["StandardEncoding","MacRomanEncoding","Identity-H","WinAnsiEncoding"];return arguments[3]&&nt.indexOf(arguments[3])!==-1?Fe=arguments[3]:arguments[3]&&nt.indexOf(arguments[3])==-1&&(_e=D(_e,ke)),cn.call(this,I,J,_e,Fe=Fe||"Identity-H")};var Zo,wu=e.lineWidth||.200025,sr=x.__private__.getLineWidth=x.getLineWidth=function(){return wu},Bc=x.__private__.setLineWidth=x.setLineWidth=function(I){return wu=I,ge(M(G(I))+" w"),this};x.__private__.setLineDash=Gt.API.setLineDash=Gt.API.setLineDashPattern=function(I,J){if(I=I||[],J=J||0,isNaN(J)||!Array.isArray(I))throw new Error("Invalid arguments passed to jsPDF.setLineDash");return I=I.map(function(_e){return M(G(_e))}).join(" "),J=M(G(J)),ge("["+I+"] "+J+" d"),this};var Ah=x.__private__.getLineHeight=x.getLineHeight=function(){return lt*Zo};x.__private__.getLineHeight=x.getLineHeight=function(){return lt*Zo};var r0=x.__private__.setLineHeightFactor=x.setLineHeightFactor=function(I){return typeof(I=I||1.15)=="number"&&(Zo=I),this},Eh=x.__private__.getLineHeightFactor=x.getLineHeightFactor=function(){return Zo};r0(e.lineHeight);var Us=x.__private__.getHorizontalCoordinate=function(I){return G(I)},fi=x.__private__.getVerticalCoordinate=function(I){return T===j?I:Yt[F].mediaBox.topRightY-Yt[F].mediaBox.bottomLeftY-G(I)},n0=x.__private__.getHorizontalCoordinateString=x.getHorizontalCoordinateString=function(I){return M(Us(I))},Nu=x.__private__.getVerticalCoordinateString=x.getVerticalCoordinateString=function(I){return M(fi(I))},zs=e.strokeColor||"0 G";x.__private__.getStrokeColor=x.getDrawColor=function(){return ye(zs)},x.__private__.setStrokeColor=x.setDrawColor=function(I,J,_e,ke){return zs=je({ch1:I,ch2:J,ch3:_e,ch4:ke,pdfColorType:"draw",precision:2}),ge(zs),this};var _u=e.fillColor||"0 g";x.__private__.getFillColor=x.getFillColor=function(){return ye(_u)},x.__private__.setFillColor=x.setFillColor=function(I,J,_e,ke){return _u=je({ch1:I,ch2:J,ch3:_e,ch4:ke,pdfColorType:"fill",precision:2}),ge(_u),this};var co=e.textColor||"0 g",ju=x.__private__.getTextColor=x.getTextColor=function(){return ye(co)};x.__private__.setTextColor=x.setTextColor=function(I,J,_e,ke){return co=je({ch1:I,ch2:J,ch3:_e,ch4:ke,pdfColorType:"text",precision:3}),this};var Jo=e.charSpace,Lf=x.__private__.getCharSpace=x.getCharSpace=function(){return parseFloat(Jo||0)};x.__private__.setCharSpace=x.setCharSpace=function(I){if(isNaN(I))throw new Error("Invalid argument passed to jsPDF.setCharSpace");return Jo=I,this};var Mf=0;x.CapJoinStyles={0:0,butt:0,but:0,miter:0,1:1,round:1,rounded:1,circle:1,2:2,projecting:2,project:2,square:2,bevel:2},x.__private__.setLineCap=x.setLineCap=function(I){var J=x.CapJoinStyles[I];if(J===void 0)throw new Error("Line cap style of '"+I+"' is not recognized. See or extend .CapJoinStyles property for valid styles");return Mf=J,ge(J+" J"),this};var ei=0;x.__private__.setLineJoin=x.setLineJoin=function(I){var J=x.CapJoinStyles[I];if(J===void 0)throw new Error("Line join style of '"+I+"' is not recognized. See or extend .CapJoinStyles property for valid styles");return ei=J,ge(J+" j"),this},x.__private__.setLineMiterLimit=x.__private__.setMiterLimit=x.setLineMiterLimit=x.setMiterLimit=function(I){if(I=I||0,isNaN(I))throw new Error("Invalid argument passed to jsPDF.setLineMiterLimit");return ge(M(G(I))+" M"),this},x.GState=t2,x.setGState=function(I){(I=typeof I=="string"?dr[pn[I]]:qs(null,I)).equals(Un)||(ge("/"+I.id+" gs"),Un=I)};var qs=function(I,J){if(!I||!pn[I]){var _e=!1;for(var ke in dr)if(dr.hasOwnProperty(ke)&&dr[ke].equals(J)){_e=!0;break}if(_e)J=dr[ke];else{var Fe="GS"+(Object.keys(dr).length+1).toString(10);dr[Fe]=J,J.id=Fe}return I&&(pn[I]=J.id),Fr.publish("addGState",J),J}};x.addGState=function(I,J){return qs(I,J),this},x.saveGraphicsState=function(){return ge("q"),br.push({key:Pt,size:lt,color:co}),this},x.restoreGraphicsState=function(){ge("Q");var I=br.pop();return Pt=I.key,lt=I.size,co=I.color,Un=null,this},x.setCurrentTransformationMatrix=function(I){return ge(I.toString()+" cm"),this},x.comment=function(I){return ge("#"+I),this};var uo=function(I,J){var _e=I||0;Object.defineProperty(this,"x",{enumerable:!0,get:function(){return _e},set:function(nt){isNaN(nt)||(_e=parseFloat(nt))}});var ke=J||0;Object.defineProperty(this,"y",{enumerable:!0,get:function(){return ke},set:function(nt){isNaN(nt)||(ke=parseFloat(nt))}});var Fe="pt";return Object.defineProperty(this,"type",{enumerable:!0,get:function(){return Fe},set:function(nt){Fe=nt.toString()}}),this},ec=function(I,J,_e,ke){uo.call(this,I,J),this.type="rect";var Fe=_e||0;Object.defineProperty(this,"w",{enumerable:!0,get:function(){return Fe},set:function(ct){isNaN(ct)||(Fe=parseFloat(ct))}});var nt=ke||0;return Object.defineProperty(this,"h",{enumerable:!0,get:function(){return nt},set:function(ct){isNaN(ct)||(nt=parseFloat(ct))}}),this},Rf=function(){this.page=Hr,this.currentPage=F,this.pages=Te.slice(0),this.pagesContext=Yt.slice(0),this.x=kt,this.y=_r,this.matrix=Zt,this.width=Uc(F),this.height=fo(F),this.outputDestination=We,this.id="",this.objectNumber=-1};Rf.prototype.restore=function(){Hr=this.page,F=this.currentPage,Yt=this.pagesContext,Te=this.pages,kt=this.x,_r=this.y,Zt=this.matrix,Au(F,this.width),rc(F,this.height),We=this.outputDestination};var Su=function(I,J,_e,ke,Fe){us.push(new Rf),Hr=F=0,Te=[],kt=I,_r=J,Zt=Fe,hn([_e,ke])};for(var tc in x.beginFormObject=function(I,J,_e,ke,Fe){return Su(I,J,_e,ke,Fe),this},x.endFormObject=function(I){return(function(J){if(il[J])us.pop().restore();else{var _e=new Rf,ke="Xo"+(Object.keys(Ja).length+1).toString(10);_e.id=ke,il[J]=ke,Ja[ke]=_e,Fr.publish("addFormObject",_e),us.pop().restore()}})(I),this},x.doFormObject=function(I,J){var _e=Ja[il[I]];return ge("q"),ge(J.toString()+" cm"),ge("/"+_e.id+" Do"),ge("Q"),this},x.getFormObject=function(I){var J=Ja[il[I]];return{x:J.x,y:J.y,width:J.width,height:J.height,matrix:J.matrix}},x.save=function(I,J){return I=I||"generated.pdf",(J=J||{}).returnPromise=J.returnPromise||!1,J.returnPromise===!1?(j0(Qo(Xo()),I),typeof j0.unload=="function"&&pr.setTimeout&&setTimeout(j0.unload,911),this):new Promise(function(_e,ke){try{var Fe=j0(Qo(Xo()),I);typeof j0.unload=="function"&&pr.setTimeout&&setTimeout(j0.unload,911),_e(Fe)}catch(nt){ke(nt.message)}})},Gt.API)Gt.API.hasOwnProperty(tc)&&(tc==="events"&&Gt.API.events.length?(function(I,J){var _e,ke,Fe;for(Fe=J.length-1;Fe!==-1;Fe--)_e=J[Fe][0],ke=J[Fe][1],I.subscribe.apply(I,[_e].concat(typeof ke=="function"?[ke]:ke))})(Fr,Gt.API.events):x[tc]=Gt.API[tc]);function Uc(I){return Yt[I].mediaBox.topRightX-Yt[I].mediaBox.bottomLeftX}function Au(I,J){Yt[I].mediaBox.topRightX=J+Yt[I].mediaBox.bottomLeftX}function fo(I){return Yt[I].mediaBox.topRightY-Yt[I].mediaBox.bottomLeftY}function rc(I,J){Yt[I].mediaBox.topRightY=J+Yt[I].mediaBox.bottomLeftY}var kh=x.getPageWidth=function(I){return Uc(I=I||F)/yt},Ch=x.setPageWidth=function(I,J){Au(I,J*yt)},nc=x.getPageHeight=function(I){return fo(I=I||F)/yt},Th=x.setPageHeight=function(I,J){rc(I,J*yt)};return x.internal={pdfEscape:Cr,getStyle:Qd,getFont:Ml,getFontSize:xt,getCharSpace:Lf,getTextColor:ju,getLineHeight:Ah,getLineHeightFactor:Eh,getLineWidth:sr,write:dt,getHorizontalCoordinate:Us,getVerticalCoordinate:fi,getCoordinateString:n0,getVerticalCoordinateString:Nu,collections:{},newObject:jn,newAdditionalObject:Ne,newObjectDeferred:ra,newObjectDeferredBegin:ae,getFilters:Me,putStream:Xe,events:Fr,scaleFactor:yt,pageSize:{getWidth:function(){return kh(F)},setWidth:function(I){Ch(F,I)},getHeight:function(){return nc(F)},setHeight:function(I){Th(F,I)}},encryptionOptions:h,encryption:xa,getEncryptor:function(I){return h!==null?xa.encryptor(I,0):function(J){return J}},output:ll,getNumberOfPages:Is,pages:Te,out:ge,f2:L,f3:U,getPageInfo:Oi,getPageInfoByObjId:Yd,getCurrentPageInfo:_h,getPDFVersion:v,Point:uo,Rectangle:ec,Matrix:Xt,hasHotfix:oo},Object.defineProperty(x.internal.pageSize,"width",{get:function(){return kh(F)},set:function(I){Ch(F,I)},enumerable:!0,configurable:!0}),Object.defineProperty(x.internal.pageSize,"height",{get:function(){return nc(F)},set:function(I){Th(F,I)},enumerable:!0,configurable:!0}),(function(I){for(var J=0,_e=bt.length;J<_e;J++){var ke=cn.call(this,I[J][0],I[J][1],I[J][2],bt[J][3],!0);m===!1&&(g[ke]=!0);var Fe=I[J][0].split("-");Lt({id:ke,fontName:Fe[0],fontStyle:Fe[1]||""})}Fr.publish("addFonts",{fonts:At,dictionary:er})}).call(x,bt),Pt="F1",Ki(a,r),Fr.publish("initialized"),x}Nm.prototype.lsbFirstWord=function(e){return String.fromCharCode(255&e,e>>8&255,e>>16&255,e>>24&255)},Nm.prototype.toHexString=function(e){return e.split("").map(function(t){return("0"+(255&t.charCodeAt(0)).toString(16)).slice(-2)}).join("")},Nm.prototype.hexToBytes=function(e){for(var t=[],r=0;r<e.length;r+=2)t.push(String.fromCharCode(parseInt(e.substr(r,2),16)));return t.join("")},Nm.prototype.processOwnerPassword=function(e,t){return N_(w_(t).substr(0,5),e)},Nm.prototype.encryptor=function(e,t){var r=w_(this.encryptionKey+String.fromCharCode(255&e,e>>8&255,e>>16&255,255&t,t>>8&255)).substr(0,10);return function(n){return N_(r,n)}},t2.prototype.equals=function(e){var t,r="id,objectNumber,equals";if(!e||Nn(e)!==Nn(this))return!1;var n=0;for(t in this)if(!(r.indexOf(t)>=0)){if(this.hasOwnProperty(t)&&!e.hasOwnProperty(t)||this[t]!==e[t])return!1;n++}for(t in e)e.hasOwnProperty(t)&&r.indexOf(t)<0&&n--;return n===0},Gt.API={events:[]},Gt.version="3.0.3";var La=Gt.API,qS=1,Nh=function(e){return e.replace(/\\/g,"\\\\").replace(/\(/g,"\\(").replace(/\)/g,"\\)")},ym=function(e){return e.replace(/\\\\/g,"\\").replace(/\\\(/g,"(").replace(/\\\)/g,")")},yr=function(e){return e.toFixed(2)},gd=function(e){return e.toFixed(5)};La.__acroform__={};var Ol=function(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e},H7=function(e){return e*qS},ou=function(e){var t=new QB,r=$t.internal.getHeight(e)||0,n=$t.internal.getWidth(e)||0;return t.BBox=[0,0,Number(yr(n)),Number(yr(r))],t},V4e=La.__acroform__.setBit=function(e,t){if(e=e||0,t=t||0,isNaN(e)||isNaN(t))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.setBit");return e|1<<t},W4e=La.__acroform__.clearBit=function(e,t){if(e=e||0,t=t||0,isNaN(e)||isNaN(t))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.clearBit");return e&~(1<<t)},K4e=La.__acroform__.getBit=function(e,t){if(isNaN(e)||isNaN(t))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.getBit");return e&1<<t?1:0},Wa=La.__acroform__.getBitForPdf=function(e,t){if(isNaN(e)||isNaN(t))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.getBitForPdf");return K4e(e,t-1)},Ka=La.__acroform__.setBitForPdf=function(e,t){if(isNaN(e)||isNaN(t))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.setBitForPdf");return V4e(e,t-1)},Ga=La.__acroform__.clearBitForPdf=function(e,t){if(isNaN(e)||isNaN(t))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.clearBitForPdf");return W4e(e,t-1)},G4e=La.__acroform__.calculateCoordinates=function(e,t){var r=t.internal.getHorizontalCoordinate,n=t.internal.getVerticalCoordinate,a=e[0],i=e[1],l=e[2],o=e[3],u={};return u.lowerLeft_X=r(a)||0,u.lowerLeft_Y=n(i+o)||0,u.upperRight_X=r(a+l)||0,u.upperRight_Y=n(i)||0,[Number(yr(u.lowerLeft_X)),Number(yr(u.lowerLeft_Y)),Number(yr(u.upperRight_X)),Number(yr(u.upperRight_Y))]},Y4e=function(e){if(e.appearanceStreamContent)return e.appearanceStreamContent;if(e.V||e.DV){var t=[],r=e._V||e.DV,n=__(e,r),a=e.scope.internal.getFont(e.fontName,e.fontStyle).id;t.push("/Tx BMC"),t.push("q"),t.push("BT"),t.push(e.scope.__private__.encodeColorString(e.color)),t.push("/"+a+" "+yr(n.fontSize)+" Tf"),t.push("1 0 0 1 0 0 Tm"),t.push(n.text),t.push("ET"),t.push("Q"),t.push("EMC");var i=ou(e);return i.scope=e.scope,i.stream=t.join(`
`),i}},__=function(e,t){var r=e.fontSize===0?e.maxFontSize:e.fontSize,n={text:"",fontSize:""},a=(t=(t=t.substr(0,1)=="("?t.substr(1):t).substr(t.length-1)==")"?t.substr(0,t.length-1):t).split(" ");a=e.multiline?a.map(function(L){return L.split(`
`)}):a.map(function(L){return[L]});var i=r,l=$t.internal.getHeight(e)||0;l=l<0?-l:l;var o=$t.internal.getWidth(e)||0;o=o<0?-o:o;var u=function(L,U,G){if(L+1<a.length){var te=U+" "+a[L+1][0];return Ov(te,e,G).width<=o-4}return!1};i++;e:for(;i>0;){t="",i--;var f,h,m=Ov("3",e,i).height,g=e.multiline?l-i:(l-m)/2,x=g+=2,b=0,v=0,w=0;if(i<=0){t=`(...) Tj
`,t+="% Width of Text: "+Ov(t,e,i=12).width+", FieldWidth:"+o+`
`;break}for(var N="",E=0,j=0;j<a.length;j++)if(a.hasOwnProperty(j)){var T=!1;if(a[j].length!==1&&w!==a[j].length-1){if((m+2)*(E+2)+2>l)continue e;N+=a[j][w],T=!0,v=j,j--}else{N=(N+=a[j][w]+" ").substr(N.length-1)==" "?N.substr(0,N.length-1):N;var O=parseInt(j),P=u(O,N,i),D=j>=a.length-1;if(P&&!D){N+=" ",w=0;continue}if(P||D){if(D)v=O;else if(e.multiline&&(m+2)*(E+2)+2>l)continue e}else{if(!e.multiline||(m+2)*(E+2)+2>l)continue e;v=O}}for(var M="",B=b;B<=v;B++){var H=a[B];if(e.multiline){if(B===v){M+=H[w]+" ",w=(w+1)%H.length;continue}if(B===b){M+=H[H.length-1]+" ";continue}}M+=H[0]+" "}switch(M=M.substr(M.length-1)==" "?M.substr(0,M.length-1):M,h=Ov(M,e,i).width,e.textAlign){case"right":f=o-h-2;break;case"center":f=(o-h)/2;break;default:f=2}t+=yr(f)+" "+yr(x)+` Td
`,t+="("+Nh(M)+`) Tj
`,t+=-yr(f)+` 0 Td
`,x=-(i+2),h=0,b=T?v:v+1,E++,N=""}break}return n.text=t,n.fontSize=i,n},Ov=function(e,t,r){var n=t.scope.internal.getFont(t.fontName,t.fontStyle),a=t.scope.getStringUnitWidth(e,{font:n,fontSize:parseFloat(r),charSpace:0})*parseFloat(r);return{height:t.scope.getStringUnitWidth("3",{font:n,fontSize:parseFloat(r),charSpace:0})*parseFloat(r)*1.5,width:a}},X4e={fields:[],xForms:[],acroFormDictionaryRoot:null,printedOut:!1,internal:null,isInitialized:!1},Q4e=function(e,t){var r={type:"reference",object:e};t.internal.getPageInfo(e.page).pageContext.annotations.find(function(n){return n.type===r.type&&n.object===r.object})===void 0&&t.internal.getPageInfo(e.page).pageContext.annotations.push(r)},Z4e=function(e,t){if(t.scope=e,e.internal!==void 0&&(e.internal.acroformPlugin===void 0||e.internal.acroformPlugin.isInitialized===!1)){if(Mc.FieldNum=0,e.internal.acroformPlugin=JSON.parse(JSON.stringify(X4e)),e.internal.acroformPlugin.acroFormDictionaryRoot)throw new Error("Exception while creating AcroformDictionary");qS=e.internal.scaleFactor,e.internal.acroformPlugin.acroFormDictionaryRoot=new ZB,e.internal.acroformPlugin.acroFormDictionaryRoot.scope=e,e.internal.acroformPlugin.acroFormDictionaryRoot._eventID=e.internal.events.subscribe("postPutResources",function(){(function(r){r.internal.events.unsubscribe(r.internal.acroformPlugin.acroFormDictionaryRoot._eventID),delete r.internal.acroformPlugin.acroFormDictionaryRoot._eventID,r.internal.acroformPlugin.printedOut=!0})(e)}),e.internal.events.subscribe("buildDocument",function(){(function(r){r.internal.acroformPlugin.acroFormDictionaryRoot.objId=void 0;var n=r.internal.acroformPlugin.acroFormDictionaryRoot.Fields;for(var a in n)if(n.hasOwnProperty(a)){var i=n[a];i.objId=void 0,i.hasAnnotation&&Q4e(i,r)}})(e)}),e.internal.events.subscribe("putCatalog",function(){(function(r){if(r.internal.acroformPlugin.acroFormDictionaryRoot===void 0)throw new Error("putCatalogCallback: Root missing.");r.internal.write("/AcroForm "+r.internal.acroformPlugin.acroFormDictionaryRoot.objId+" 0 R")})(e)}),e.internal.events.subscribe("postPutPages",function(r){(function(n,a){var i=!n;for(var l in n||(a.internal.newObjectDeferredBegin(a.internal.acroformPlugin.acroFormDictionaryRoot.objId,!0),a.internal.acroformPlugin.acroFormDictionaryRoot.putStream()),n=n||a.internal.acroformPlugin.acroFormDictionaryRoot.Kids)if(n.hasOwnProperty(l)){var o=n[l],u=[],f=o.Rect;if(o.Rect&&(o.Rect=G4e(o.Rect,a)),a.internal.newObjectDeferredBegin(o.objId,!0),o.DA=$t.createDefaultAppearanceStream(o),Nn(o)==="object"&&typeof o.getKeyValueListForStream=="function"&&(u=o.getKeyValueListForStream()),o.Rect=f,o.hasAppearanceStream&&!o.appearanceStreamContent){var h=Y4e(o);u.push({key:"AP",value:"<</N "+h+">>"}),a.internal.acroformPlugin.xForms.push(h)}if(o.appearanceStreamContent){var m="";for(var g in o.appearanceStreamContent)if(o.appearanceStreamContent.hasOwnProperty(g)){var x=o.appearanceStreamContent[g];if(m+="/"+g+" ",m+="<<",Object.keys(x).length>=1||Array.isArray(x)){for(var l in x)if(x.hasOwnProperty(l)){var b=x[l];typeof b=="function"&&(b=b.call(a,o)),m+="/"+l+" "+b+" ",a.internal.acroformPlugin.xForms.indexOf(b)>=0||a.internal.acroformPlugin.xForms.push(b)}}else typeof(b=x)=="function"&&(b=b.call(a,o)),m+="/"+l+" "+b,a.internal.acroformPlugin.xForms.indexOf(b)>=0||a.internal.acroformPlugin.xForms.push(b);m+=">>"}u.push({key:"AP",value:`<<
`+m+">>"})}a.internal.putStream({additionalKeyValues:u,objectId:o.objId}),a.internal.out("endobj")}i&&(function(v,w){for(var N in v)if(v.hasOwnProperty(N)){var E=N,j=v[N];w.internal.newObjectDeferredBegin(j.objId,!0),Nn(j)==="object"&&typeof j.putStream=="function"&&j.putStream(),delete v[E]}})(a.internal.acroformPlugin.xForms,a)})(r,e)}),e.internal.acroformPlugin.isInitialized=!0}},XB=La.__acroform__.arrayToPdfArray=function(e,t,r){var n=function(l){return l};if(Array.isArray(e)){for(var a="[",i=0;i<e.length;i++)switch(i!==0&&(a+=" "),Nn(e[i])){case"boolean":case"number":case"object":a+=e[i].toString();break;case"string":e[i].substr(0,1)!=="/"?(t!==void 0&&r&&(n=r.internal.getEncryptor(t)),a+="("+Nh(n(e[i].toString()))+")"):a+=e[i].toString()}return a+"]"}throw new Error("Invalid argument passed to jsPDF.__acroform__.arrayToPdfArray")},M4=function(e,t,r){var n=function(a){return a};return t!==void 0&&r&&(n=r.internal.getEncryptor(t)),(e=e||"").toString(),"("+Nh(n(e))+")"},fu=function(){this._objId=void 0,this._scope=void 0,Object.defineProperty(this,"objId",{get:function(){if(this._objId===void 0){if(this.scope===void 0)return;this._objId=this.scope.internal.newObjectDeferred()}return this._objId},set:function(e){this._objId=e}}),Object.defineProperty(this,"scope",{value:this._scope,writable:!0})};fu.prototype.toString=function(){return this.objId+" 0 R"},fu.prototype.putStream=function(){var e=this.getKeyValueListForStream();this.scope.internal.putStream({data:this.stream,additionalKeyValues:e,objectId:this.objId}),this.scope.internal.out("endobj")},fu.prototype.getKeyValueListForStream=function(){var e=[],t=Object.getOwnPropertyNames(this).filter(function(i){return i!="content"&&i!="appearanceStreamContent"&&i!="scope"&&i!="objId"&&i.substring(0,1)!="_"});for(var r in t)if(Object.getOwnPropertyDescriptor(this,t[r]).configurable===!1){var n=t[r],a=this[n];a&&(Array.isArray(a)?e.push({key:n,value:XB(a,this.objId,this.scope)}):a instanceof fu?(a.scope=this.scope,e.push({key:n,value:a.objId+" 0 R"})):typeof a!="function"&&e.push({key:n,value:a}))}return e};var QB=function(){fu.call(this),Object.defineProperty(this,"Type",{value:"/XObject",configurable:!1,writable:!0}),Object.defineProperty(this,"Subtype",{value:"/Form",configurable:!1,writable:!0}),Object.defineProperty(this,"FormType",{value:1,configurable:!1,writable:!0});var e,t=[];Object.defineProperty(this,"BBox",{configurable:!1,get:function(){return t},set:function(r){t=r}}),Object.defineProperty(this,"Resources",{value:"2 0 R",configurable:!1,writable:!0}),Object.defineProperty(this,"stream",{enumerable:!1,configurable:!0,set:function(r){e=r.trim()},get:function(){return e||null}})};Ol(QB,fu);var ZB=function(){fu.call(this);var e,t=[];Object.defineProperty(this,"Kids",{enumerable:!1,configurable:!0,get:function(){return t.length>0?t:void 0}}),Object.defineProperty(this,"Fields",{enumerable:!1,configurable:!1,get:function(){return t}}),Object.defineProperty(this,"DA",{enumerable:!1,configurable:!1,get:function(){if(e){var r=function(n){return n};return this.scope&&(r=this.scope.internal.getEncryptor(this.objId)),"("+Nh(r(e))+")"}},set:function(r){e=r}})};Ol(ZB,fu);var Mc=function e(){fu.call(this);var t=4;Object.defineProperty(this,"F",{enumerable:!1,configurable:!1,get:function(){return t},set:function(N){if(isNaN(N))throw new Error('Invalid value "'+N+'" for attribute F supplied.');t=N}}),Object.defineProperty(this,"showWhenPrinted",{enumerable:!0,configurable:!0,get:function(){return!!Wa(t,3)},set:function(N){N?this.F=Ka(t,3):this.F=Ga(t,3)}});var r=0;Object.defineProperty(this,"Ff",{enumerable:!1,configurable:!1,get:function(){return r},set:function(N){if(isNaN(N))throw new Error('Invalid value "'+N+'" for attribute Ff supplied.');r=N}});var n=[];Object.defineProperty(this,"Rect",{enumerable:!1,configurable:!1,get:function(){if(n.length!==0)return n},set:function(N){n=N!==void 0?N:[]}}),Object.defineProperty(this,"x",{enumerable:!0,configurable:!0,get:function(){return!n||isNaN(n[0])?0:n[0]},set:function(N){n[0]=N}}),Object.defineProperty(this,"y",{enumerable:!0,configurable:!0,get:function(){return!n||isNaN(n[1])?0:n[1]},set:function(N){n[1]=N}}),Object.defineProperty(this,"width",{enumerable:!0,configurable:!0,get:function(){return!n||isNaN(n[2])?0:n[2]},set:function(N){n[2]=N}}),Object.defineProperty(this,"height",{enumerable:!0,configurable:!0,get:function(){return!n||isNaN(n[3])?0:n[3]},set:function(N){n[3]=N}});var a="";Object.defineProperty(this,"FT",{enumerable:!0,configurable:!1,get:function(){return a},set:function(N){switch(N){case"/Btn":case"/Tx":case"/Ch":case"/Sig":a=N;break;default:throw new Error('Invalid value "'+N+'" for attribute FT supplied.')}}});var i=null;Object.defineProperty(this,"T",{enumerable:!0,configurable:!1,get:function(){if(!i||i.length<1){if(this instanceof r2)return;i="FieldObject"+e.FieldNum++}var N=function(E){return E};return this.scope&&(N=this.scope.internal.getEncryptor(this.objId)),"("+Nh(N(i))+")"},set:function(N){i=N.toString()}}),Object.defineProperty(this,"fieldName",{configurable:!0,enumerable:!0,get:function(){return i},set:function(N){i=N}});var l="helvetica";Object.defineProperty(this,"fontName",{enumerable:!0,configurable:!0,get:function(){return l},set:function(N){l=N}});var o="normal";Object.defineProperty(this,"fontStyle",{enumerable:!0,configurable:!0,get:function(){return o},set:function(N){o=N}});var u=0;Object.defineProperty(this,"fontSize",{enumerable:!0,configurable:!0,get:function(){return u},set:function(N){u=N}});var f=void 0;Object.defineProperty(this,"maxFontSize",{enumerable:!0,configurable:!0,get:function(){return f===void 0?50/qS:f},set:function(N){f=N}});var h="black";Object.defineProperty(this,"color",{enumerable:!0,configurable:!0,get:function(){return h},set:function(N){h=N}});var m="/F1 0 Tf 0 g";Object.defineProperty(this,"DA",{enumerable:!0,configurable:!1,get:function(){if(!(!m||this instanceof r2||this instanceof z0))return M4(m,this.objId,this.scope)},set:function(N){N=N.toString(),m=N}});var g=null;Object.defineProperty(this,"DV",{enumerable:!1,configurable:!1,get:function(){if(g)return this instanceof Ui==0?M4(g,this.objId,this.scope):g},set:function(N){N=N.toString(),g=this instanceof Ui==0?N.substr(0,1)==="("?ym(N.substr(1,N.length-2)):ym(N):N}}),Object.defineProperty(this,"defaultValue",{enumerable:!0,configurable:!0,get:function(){return this instanceof Ui==1?ym(g.substr(1,g.length-1)):g},set:function(N){N=N.toString(),g=this instanceof Ui==1?"/"+N:N}});var x=null;Object.defineProperty(this,"_V",{enumerable:!1,configurable:!1,get:function(){if(x)return x},set:function(N){this.V=N}}),Object.defineProperty(this,"V",{enumerable:!1,configurable:!1,get:function(){if(x)return this instanceof Ui==0?M4(x,this.objId,this.scope):x},set:function(N){N=N.toString(),x=this instanceof Ui==0?N.substr(0,1)==="("?ym(N.substr(1,N.length-2)):ym(N):N}}),Object.defineProperty(this,"value",{enumerable:!0,configurable:!0,get:function(){return this instanceof Ui==1?ym(x.substr(1,x.length-1)):x},set:function(N){N=N.toString(),x=this instanceof Ui==1?"/"+N:N}}),Object.defineProperty(this,"hasAnnotation",{enumerable:!0,configurable:!0,get:function(){return this.Rect}}),Object.defineProperty(this,"Type",{enumerable:!0,configurable:!1,get:function(){return this.hasAnnotation?"/Annot":null}}),Object.defineProperty(this,"Subtype",{enumerable:!0,configurable:!1,get:function(){return this.hasAnnotation?"/Widget":null}});var b,v=!1;Object.defineProperty(this,"hasAppearanceStream",{enumerable:!0,configurable:!0,get:function(){return v},set:function(N){N=!!N,v=N}}),Object.defineProperty(this,"page",{enumerable:!0,configurable:!0,get:function(){if(b)return b},set:function(N){b=N}}),Object.defineProperty(this,"readOnly",{enumerable:!0,configurable:!0,get:function(){return!!Wa(this.Ff,1)},set:function(N){N?this.Ff=Ka(this.Ff,1):this.Ff=Ga(this.Ff,1)}}),Object.defineProperty(this,"required",{enumerable:!0,configurable:!0,get:function(){return!!Wa(this.Ff,2)},set:function(N){N?this.Ff=Ka(this.Ff,2):this.Ff=Ga(this.Ff,2)}}),Object.defineProperty(this,"noExport",{enumerable:!0,configurable:!0,get:function(){return!!Wa(this.Ff,3)},set:function(N){N?this.Ff=Ka(this.Ff,3):this.Ff=Ga(this.Ff,3)}});var w=null;Object.defineProperty(this,"Q",{enumerable:!0,configurable:!1,get:function(){if(w!==null)return w},set:function(N){if([0,1,2].indexOf(N)===-1)throw new Error('Invalid value "'+N+'" for attribute Q supplied.');w=N}}),Object.defineProperty(this,"textAlign",{get:function(){var N;switch(w){case 0:default:N="left";break;case 1:N="center";break;case 2:N="right"}return N},configurable:!0,enumerable:!0,set:function(N){switch(N){case"right":case 2:w=2;break;case"center":case 1:w=1;break;default:w=0}}})};Ol(Mc,fu);var Rm=function(){Mc.call(this),this.FT="/Ch",this.V="()",this.fontName="zapfdingbats";var e=0;Object.defineProperty(this,"TI",{enumerable:!0,configurable:!1,get:function(){return e},set:function(r){e=r}}),Object.defineProperty(this,"topIndex",{enumerable:!0,configurable:!0,get:function(){return e},set:function(r){e=r}});var t=[];Object.defineProperty(this,"Opt",{enumerable:!0,configurable:!1,get:function(){return XB(t,this.objId,this.scope)},set:function(r){var n,a;a=[],typeof(n=r)=="string"&&(a=(function(i,l,o){o||(o=1);for(var u,f=[];u=l.exec(i);)f.push(u[o]);return f})(n,/\((.*?)\)/g)),t=a}}),this.getOptions=function(){return t},this.setOptions=function(r){t=r,this.sort&&t.sort()},this.addOption=function(r){r=(r=r||"").toString(),t.push(r),this.sort&&t.sort()},this.removeOption=function(r,n){for(n=n||!1,r=(r=r||"").toString();t.indexOf(r)!==-1&&(t.splice(t.indexOf(r),1),n!==!1););},Object.defineProperty(this,"combo",{enumerable:!0,configurable:!0,get:function(){return!!Wa(this.Ff,18)},set:function(r){r?this.Ff=Ka(this.Ff,18):this.Ff=Ga(this.Ff,18)}}),Object.defineProperty(this,"edit",{enumerable:!0,configurable:!0,get:function(){return!!Wa(this.Ff,19)},set:function(r){this.combo===!0&&(r?this.Ff=Ka(this.Ff,19):this.Ff=Ga(this.Ff,19))}}),Object.defineProperty(this,"sort",{enumerable:!0,configurable:!0,get:function(){return!!Wa(this.Ff,20)},set:function(r){r?(this.Ff=Ka(this.Ff,20),t.sort()):this.Ff=Ga(this.Ff,20)}}),Object.defineProperty(this,"multiSelect",{enumerable:!0,configurable:!0,get:function(){return!!Wa(this.Ff,22)},set:function(r){r?this.Ff=Ka(this.Ff,22):this.Ff=Ga(this.Ff,22)}}),Object.defineProperty(this,"doNotSpellCheck",{enumerable:!0,configurable:!0,get:function(){return!!Wa(this.Ff,23)},set:function(r){r?this.Ff=Ka(this.Ff,23):this.Ff=Ga(this.Ff,23)}}),Object.defineProperty(this,"commitOnSelChange",{enumerable:!0,configurable:!0,get:function(){return!!Wa(this.Ff,27)},set:function(r){r?this.Ff=Ka(this.Ff,27):this.Ff=Ga(this.Ff,27)}}),this.hasAppearanceStream=!1};Ol(Rm,Mc);var Im=function(){Rm.call(this),this.fontName="helvetica",this.combo=!1};Ol(Im,Rm);var Bm=function(){Im.call(this),this.combo=!0};Ol(Bm,Im);var qv=function(){Bm.call(this),this.edit=!0};Ol(qv,Bm);var Ui=function(){Mc.call(this),this.FT="/Btn",Object.defineProperty(this,"noToggleToOff",{enumerable:!0,configurable:!0,get:function(){return!!Wa(this.Ff,15)},set:function(r){r?this.Ff=Ka(this.Ff,15):this.Ff=Ga(this.Ff,15)}}),Object.defineProperty(this,"radio",{enumerable:!0,configurable:!0,get:function(){return!!Wa(this.Ff,16)},set:function(r){r?this.Ff=Ka(this.Ff,16):this.Ff=Ga(this.Ff,16)}}),Object.defineProperty(this,"pushButton",{enumerable:!0,configurable:!0,get:function(){return!!Wa(this.Ff,17)},set:function(r){r?this.Ff=Ka(this.Ff,17):this.Ff=Ga(this.Ff,17)}}),Object.defineProperty(this,"radioIsUnison",{enumerable:!0,configurable:!0,get:function(){return!!Wa(this.Ff,26)},set:function(r){r?this.Ff=Ka(this.Ff,26):this.Ff=Ga(this.Ff,26)}});var e,t={};Object.defineProperty(this,"MK",{enumerable:!1,configurable:!1,get:function(){var r=function(i){return i};if(this.scope&&(r=this.scope.internal.getEncryptor(this.objId)),Object.keys(t).length!==0){var n,a=[];for(n in a.push("<<"),t)a.push("/"+n+" ("+Nh(r(t[n]))+")");return a.push(">>"),a.join(`
`)}},set:function(r){Nn(r)==="object"&&(t=r)}}),Object.defineProperty(this,"caption",{enumerable:!0,configurable:!0,get:function(){return t.CA||""},set:function(r){typeof r=="string"&&(t.CA=r)}}),Object.defineProperty(this,"AS",{enumerable:!1,configurable:!1,get:function(){return e},set:function(r){e=r}}),Object.defineProperty(this,"appearanceState",{enumerable:!0,configurable:!0,get:function(){return e.substr(1,e.length-1)},set:function(r){e="/"+r}})};Ol(Ui,Mc);var $v=function(){Ui.call(this),this.pushButton=!0};Ol($v,Ui);var Um=function(){Ui.call(this),this.radio=!0,this.pushButton=!1;var e=[];Object.defineProperty(this,"Kids",{enumerable:!0,configurable:!1,get:function(){return e},set:function(t){e=t!==void 0?t:[]}})};Ol(Um,Ui);var r2=function(){var e,t;Mc.call(this),Object.defineProperty(this,"Parent",{enumerable:!1,configurable:!1,get:function(){return e},set:function(a){e=a}}),Object.defineProperty(this,"optionName",{enumerable:!1,configurable:!0,get:function(){return t},set:function(a){t=a}});var r,n={};Object.defineProperty(this,"MK",{enumerable:!1,configurable:!1,get:function(){var a=function(o){return o};this.scope&&(a=this.scope.internal.getEncryptor(this.objId));var i,l=[];for(i in l.push("<<"),n)l.push("/"+i+" ("+Nh(a(n[i]))+")");return l.push(">>"),l.join(`
`)},set:function(a){Nn(a)==="object"&&(n=a)}}),Object.defineProperty(this,"caption",{enumerable:!0,configurable:!0,get:function(){return n.CA||""},set:function(a){typeof a=="string"&&(n.CA=a)}}),Object.defineProperty(this,"AS",{enumerable:!1,configurable:!1,get:function(){return r},set:function(a){r=a}}),Object.defineProperty(this,"appearanceState",{enumerable:!0,configurable:!0,get:function(){return r.substr(1,r.length-1)},set:function(a){r="/"+a}}),this.caption="l",this.appearanceState="Off",this._AppearanceType=$t.RadioButton.Circle,this.appearanceStreamContent=this._AppearanceType.createAppearanceStream(this.optionName)};Ol(r2,Mc),Um.prototype.setAppearance=function(e){if(!("createAppearanceStream"in e)||!("getCA"in e))throw new Error("Couldn't assign Appearance to RadioButton. Appearance was Invalid!");for(var t in this.Kids)if(this.Kids.hasOwnProperty(t)){var r=this.Kids[t];r.appearanceStreamContent=e.createAppearanceStream(r.optionName),r.caption=e.getCA()}},Um.prototype.createOption=function(e){var t=new r2;return t.Parent=this,t.optionName=e,this.Kids.push(t),J4e.call(this.scope,t),t};var Hv=function(){Ui.call(this),this.fontName="zapfdingbats",this.caption="3",this.appearanceState="On",this.value="On",this.textAlign="center",this.appearanceStreamContent=$t.CheckBox.createAppearanceStream()};Ol(Hv,Ui);var z0=function(){Mc.call(this),this.FT="/Tx",Object.defineProperty(this,"multiline",{enumerable:!0,configurable:!0,get:function(){return!!Wa(this.Ff,13)},set:function(t){t?this.Ff=Ka(this.Ff,13):this.Ff=Ga(this.Ff,13)}}),Object.defineProperty(this,"fileSelect",{enumerable:!0,configurable:!0,get:function(){return!!Wa(this.Ff,21)},set:function(t){t?this.Ff=Ka(this.Ff,21):this.Ff=Ga(this.Ff,21)}}),Object.defineProperty(this,"doNotSpellCheck",{enumerable:!0,configurable:!0,get:function(){return!!Wa(this.Ff,23)},set:function(t){t?this.Ff=Ka(this.Ff,23):this.Ff=Ga(this.Ff,23)}}),Object.defineProperty(this,"doNotScroll",{enumerable:!0,configurable:!0,get:function(){return!!Wa(this.Ff,24)},set:function(t){t?this.Ff=Ka(this.Ff,24):this.Ff=Ga(this.Ff,24)}}),Object.defineProperty(this,"comb",{enumerable:!0,configurable:!0,get:function(){return!!Wa(this.Ff,25)},set:function(t){t?this.Ff=Ka(this.Ff,25):this.Ff=Ga(this.Ff,25)}}),Object.defineProperty(this,"richText",{enumerable:!0,configurable:!0,get:function(){return!!Wa(this.Ff,26)},set:function(t){t?this.Ff=Ka(this.Ff,26):this.Ff=Ga(this.Ff,26)}});var e=null;Object.defineProperty(this,"MaxLen",{enumerable:!0,configurable:!1,get:function(){return e},set:function(t){e=t}}),Object.defineProperty(this,"maxLength",{enumerable:!0,configurable:!0,get:function(){return e},set:function(t){Number.isInteger(t)&&(e=t)}}),Object.defineProperty(this,"hasAppearanceStream",{enumerable:!0,configurable:!0,get:function(){return this.V||this.DV}})};Ol(z0,Mc);var Vv=function(){z0.call(this),Object.defineProperty(this,"password",{enumerable:!0,configurable:!0,get:function(){return!!Wa(this.Ff,14)},set:function(e){e?this.Ff=Ka(this.Ff,14):this.Ff=Ga(this.Ff,14)}}),this.password=!0};Ol(Vv,z0);var $t={CheckBox:{createAppearanceStream:function(){return{N:{On:$t.CheckBox.YesNormal},D:{On:$t.CheckBox.YesPushDown,Off:$t.CheckBox.OffPushDown}}},YesPushDown:function(e){var t=ou(e);t.scope=e.scope;var r=[],n=e.scope.internal.getFont(e.fontName,e.fontStyle).id,a=e.scope.__private__.encodeColorString(e.color),i=__(e,e.caption);return r.push("0.749023 g"),r.push("0 0 "+yr($t.internal.getWidth(e))+" "+yr($t.internal.getHeight(e))+" re"),r.push("f"),r.push("BMC"),r.push("q"),r.push("0 0 1 rg"),r.push("/"+n+" "+yr(i.fontSize)+" Tf "+a),r.push("BT"),r.push(i.text),r.push("ET"),r.push("Q"),r.push("EMC"),t.stream=r.join(`
`),t},YesNormal:function(e){var t=ou(e);t.scope=e.scope;var r=e.scope.internal.getFont(e.fontName,e.fontStyle).id,n=e.scope.__private__.encodeColorString(e.color),a=[],i=$t.internal.getHeight(e),l=$t.internal.getWidth(e),o=__(e,e.caption);return a.push("1 g"),a.push("0 0 "+yr(l)+" "+yr(i)+" re"),a.push("f"),a.push("q"),a.push("0 0 1 rg"),a.push("0 0 "+yr(l-1)+" "+yr(i-1)+" re"),a.push("W"),a.push("n"),a.push("0 g"),a.push("BT"),a.push("/"+r+" "+yr(o.fontSize)+" Tf "+n),a.push(o.text),a.push("ET"),a.push("Q"),t.stream=a.join(`
`),t},OffPushDown:function(e){var t=ou(e);t.scope=e.scope;var r=[];return r.push("0.749023 g"),r.push("0 0 "+yr($t.internal.getWidth(e))+" "+yr($t.internal.getHeight(e))+" re"),r.push("f"),t.stream=r.join(`
`),t}},RadioButton:{Circle:{createAppearanceStream:function(e){var t={D:{Off:$t.RadioButton.Circle.OffPushDown},N:{}};return t.N[e]=$t.RadioButton.Circle.YesNormal,t.D[e]=$t.RadioButton.Circle.YesPushDown,t},getCA:function(){return"l"},YesNormal:function(e){var t=ou(e);t.scope=e.scope;var r=[],n=$t.internal.getWidth(e)<=$t.internal.getHeight(e)?$t.internal.getWidth(e)/4:$t.internal.getHeight(e)/4;n=Number((.9*n).toFixed(5));var a=$t.internal.Bezier_C,i=Number((n*a).toFixed(5));return r.push("q"),r.push("1 0 0 1 "+gd($t.internal.getWidth(e)/2)+" "+gd($t.internal.getHeight(e)/2)+" cm"),r.push(n+" 0 m"),r.push(n+" "+i+" "+i+" "+n+" 0 "+n+" c"),r.push("-"+i+" "+n+" -"+n+" "+i+" -"+n+" 0 c"),r.push("-"+n+" -"+i+" -"+i+" -"+n+" 0 -"+n+" c"),r.push(i+" -"+n+" "+n+" -"+i+" "+n+" 0 c"),r.push("f"),r.push("Q"),t.stream=r.join(`
`),t},YesPushDown:function(e){var t=ou(e);t.scope=e.scope;var r=[],n=$t.internal.getWidth(e)<=$t.internal.getHeight(e)?$t.internal.getWidth(e)/4:$t.internal.getHeight(e)/4;n=Number((.9*n).toFixed(5));var a=Number((2*n).toFixed(5)),i=Number((a*$t.internal.Bezier_C).toFixed(5)),l=Number((n*$t.internal.Bezier_C).toFixed(5));return r.push("0.749023 g"),r.push("q"),r.push("1 0 0 1 "+gd($t.internal.getWidth(e)/2)+" "+gd($t.internal.getHeight(e)/2)+" cm"),r.push(a+" 0 m"),r.push(a+" "+i+" "+i+" "+a+" 0 "+a+" c"),r.push("-"+i+" "+a+" -"+a+" "+i+" -"+a+" 0 c"),r.push("-"+a+" -"+i+" -"+i+" -"+a+" 0 -"+a+" c"),r.push(i+" -"+a+" "+a+" -"+i+" "+a+" 0 c"),r.push("f"),r.push("Q"),r.push("0 g"),r.push("q"),r.push("1 0 0 1 "+gd($t.internal.getWidth(e)/2)+" "+gd($t.internal.getHeight(e)/2)+" cm"),r.push(n+" 0 m"),r.push(n+" "+l+" "+l+" "+n+" 0 "+n+" c"),r.push("-"+l+" "+n+" -"+n+" "+l+" -"+n+" 0 c"),r.push("-"+n+" -"+l+" -"+l+" -"+n+" 0 -"+n+" c"),r.push(l+" -"+n+" "+n+" -"+l+" "+n+" 0 c"),r.push("f"),r.push("Q"),t.stream=r.join(`
`),t},OffPushDown:function(e){var t=ou(e);t.scope=e.scope;var r=[],n=$t.internal.getWidth(e)<=$t.internal.getHeight(e)?$t.internal.getWidth(e)/4:$t.internal.getHeight(e)/4;n=Number((.9*n).toFixed(5));var a=Number((2*n).toFixed(5)),i=Number((a*$t.internal.Bezier_C).toFixed(5));return r.push("0.749023 g"),r.push("q"),r.push("1 0 0 1 "+gd($t.internal.getWidth(e)/2)+" "+gd($t.internal.getHeight(e)/2)+" cm"),r.push(a+" 0 m"),r.push(a+" "+i+" "+i+" "+a+" 0 "+a+" c"),r.push("-"+i+" "+a+" -"+a+" "+i+" -"+a+" 0 c"),r.push("-"+a+" -"+i+" -"+i+" -"+a+" 0 -"+a+" c"),r.push(i+" -"+a+" "+a+" -"+i+" "+a+" 0 c"),r.push("f"),r.push("Q"),t.stream=r.join(`
`),t}},Cross:{createAppearanceStream:function(e){var t={D:{Off:$t.RadioButton.Cross.OffPushDown},N:{}};return t.N[e]=$t.RadioButton.Cross.YesNormal,t.D[e]=$t.RadioButton.Cross.YesPushDown,t},getCA:function(){return"8"},YesNormal:function(e){var t=ou(e);t.scope=e.scope;var r=[],n=$t.internal.calculateCross(e);return r.push("q"),r.push("1 1 "+yr($t.internal.getWidth(e)-2)+" "+yr($t.internal.getHeight(e)-2)+" re"),r.push("W"),r.push("n"),r.push(yr(n.x1.x)+" "+yr(n.x1.y)+" m"),r.push(yr(n.x2.x)+" "+yr(n.x2.y)+" l"),r.push(yr(n.x4.x)+" "+yr(n.x4.y)+" m"),r.push(yr(n.x3.x)+" "+yr(n.x3.y)+" l"),r.push("s"),r.push("Q"),t.stream=r.join(`
`),t},YesPushDown:function(e){var t=ou(e);t.scope=e.scope;var r=$t.internal.calculateCross(e),n=[];return n.push("0.749023 g"),n.push("0 0 "+yr($t.internal.getWidth(e))+" "+yr($t.internal.getHeight(e))+" re"),n.push("f"),n.push("q"),n.push("1 1 "+yr($t.internal.getWidth(e)-2)+" "+yr($t.internal.getHeight(e)-2)+" re"),n.push("W"),n.push("n"),n.push(yr(r.x1.x)+" "+yr(r.x1.y)+" m"),n.push(yr(r.x2.x)+" "+yr(r.x2.y)+" l"),n.push(yr(r.x4.x)+" "+yr(r.x4.y)+" m"),n.push(yr(r.x3.x)+" "+yr(r.x3.y)+" l"),n.push("s"),n.push("Q"),t.stream=n.join(`
`),t},OffPushDown:function(e){var t=ou(e);t.scope=e.scope;var r=[];return r.push("0.749023 g"),r.push("0 0 "+yr($t.internal.getWidth(e))+" "+yr($t.internal.getHeight(e))+" re"),r.push("f"),t.stream=r.join(`
`),t}}},createDefaultAppearanceStream:function(e){var t=e.scope.internal.getFont(e.fontName,e.fontStyle).id,r=e.scope.__private__.encodeColorString(e.color);return"/"+t+" "+e.fontSize+" Tf "+r}};$t.internal={Bezier_C:.551915024494,calculateCross:function(e){var t=$t.internal.getWidth(e),r=$t.internal.getHeight(e),n=Math.min(t,r);return{x1:{x:(t-n)/2,y:(r-n)/2+n},x2:{x:(t-n)/2+n,y:(r-n)/2},x3:{x:(t-n)/2,y:(r-n)/2},x4:{x:(t-n)/2+n,y:(r-n)/2+n}}}},$t.internal.getWidth=function(e){var t=0;return Nn(e)==="object"&&(t=H7(e.Rect[2])),t},$t.internal.getHeight=function(e){var t=0;return Nn(e)==="object"&&(t=H7(e.Rect[3])),t};var J4e=La.addField=function(e){if(Z4e(this,e),!(e instanceof Mc))throw new Error("Invalid argument passed to jsPDF.addField.");var t;return(t=e).scope.internal.acroformPlugin.printedOut&&(t.scope.internal.acroformPlugin.printedOut=!1,t.scope.internal.acroformPlugin.acroFormDictionaryRoot=null),t.scope.internal.acroformPlugin.acroFormDictionaryRoot.Fields.push(t),e.page=e.scope.internal.getCurrentPageInfo().pageNumber,this};La.AcroFormChoiceField=Rm,La.AcroFormListBox=Im,La.AcroFormComboBox=Bm,La.AcroFormEditBox=qv,La.AcroFormButton=Ui,La.AcroFormPushButton=$v,La.AcroFormRadioButton=Um,La.AcroFormCheckBox=Hv,La.AcroFormTextField=z0,La.AcroFormPasswordField=Vv,La.AcroFormAppearance=$t,La.AcroForm={ChoiceField:Rm,ListBox:Im,ComboBox:Bm,EditBox:qv,Button:Ui,PushButton:$v,RadioButton:Um,CheckBox:Hv,TextField:z0,PasswordField:Vv,Appearance:$t},Gt.AcroForm={ChoiceField:Rm,ListBox:Im,ComboBox:Bm,EditBox:qv,Button:Ui,PushButton:$v,RadioButton:Um,CheckBox:Hv,TextField:z0,PasswordField:Vv,Appearance:$t};Gt.AcroForm;function JB(e){return e.reduce(function(t,r,n){return t[r]=n,t},{})}(function(e){var t="addImage_";e.__addimage__={};var r="UNKNOWN",n={PNG:[[137,80,78,71]],TIFF:[[77,77,0,42],[73,73,42,0]],JPEG:[[255,216,255,224,void 0,void 0,74,70,73,70,0],[255,216,255,225,void 0,void 0,69,120,105,102,0,0],[255,216,255,219],[255,216,255,238]],JPEG2000:[[0,0,0,12,106,80,32,32]],GIF87a:[[71,73,70,56,55,97]],GIF89a:[[71,73,70,56,57,97]],WEBP:[[82,73,70,70,void 0,void 0,void 0,void 0,87,69,66,80]],BMP:[[66,77],[66,65],[67,73],[67,80],[73,67],[80,84]]},a=e.__addimage__.getImageFileTypeByImageData=function(L,U){var G,te,de,ne,Z,xe=r;if((U=U||r)==="RGBA"||L.data!==void 0&&L.data instanceof Uint8ClampedArray&&"height"in L&&"width"in L)return"RGBA";if(P(L))for(Z in n)for(de=n[Z],G=0;G<de.length;G+=1){for(ne=!0,te=0;te<de[G].length;te+=1)if(de[G][te]!==void 0&&de[G][te]!==L[te]){ne=!1;break}if(ne===!0){xe=Z;break}}else for(Z in n)for(de=n[Z],G=0;G<de.length;G+=1){for(ne=!0,te=0;te<de[G].length;te+=1)if(de[G][te]!==void 0&&de[G][te]!==L.charCodeAt(te)){ne=!1;break}if(ne===!0){xe=Z;break}}return xe===r&&U!==r&&(xe=U),xe},i=function L(U){for(var G=this.internal.write,te=this.internal.putStream,de=(0,this.internal.getFilters)();de.indexOf("FlateEncode")!==-1;)de.splice(de.indexOf("FlateEncode"),1);U.objectId=this.internal.newObject();var ne=[];if(ne.push({key:"Type",value:"/XObject"}),ne.push({key:"Subtype",value:"/Image"}),ne.push({key:"Width",value:U.width}),ne.push({key:"Height",value:U.height}),U.colorSpace===N.INDEXED?ne.push({key:"ColorSpace",value:"[/Indexed /DeviceRGB "+(U.palette.length/3-1)+" "+("sMask"in U&&U.sMask!==void 0?U.objectId+2:U.objectId+1)+" 0 R]"}):(ne.push({key:"ColorSpace",value:"/"+U.colorSpace}),U.colorSpace===N.DEVICE_CMYK&&ne.push({key:"Decode",value:"[1 0 1 0 1 0 1 0]"})),ne.push({key:"BitsPerComponent",value:U.bitsPerComponent}),"decodeParameters"in U&&U.decodeParameters!==void 0&&ne.push({key:"DecodeParms",value:"<<"+U.decodeParameters+">>"}),"transparency"in U&&Array.isArray(U.transparency)&&U.transparency.length>0){for(var Z="",xe=0,le=U.transparency.length;xe<le;xe++)Z+=U.transparency[xe]+" "+U.transparency[xe]+" ";ne.push({key:"Mask",value:"["+Z+"]"})}U.sMask!==void 0&&ne.push({key:"SMask",value:U.objectId+1+" 0 R"});var Se=U.filter!==void 0?["/"+U.filter]:void 0;if(te({data:U.data,additionalKeyValues:ne,alreadyAppliedFilters:Se,objectId:U.objectId}),G("endobj"),"sMask"in U&&U.sMask!==void 0){var re,R=(re=U.sMaskBitsPerComponent)!==null&&re!==void 0?re:U.bitsPerComponent,F={width:U.width,height:U.height,colorSpace:"DeviceGray",bitsPerComponent:R,data:U.sMask};"filter"in U&&(F.decodeParameters="/Predictor ".concat(U.predictor," /Colors 1 /BitsPerComponent ").concat(R," /Columns ").concat(U.width),F.filter=U.filter),L.call(this,F)}if(U.colorSpace===N.INDEXED){var q=this.internal.newObject();te({data:M(new Uint8Array(U.palette)),objectId:q}),G("endobj")}},l=function(){var L=this.internal.collections[t+"images"];for(var U in L)i.call(this,L[U])},o=function(){var L,U=this.internal.collections[t+"images"],G=this.internal.write;for(var te in U)G("/I"+(L=U[te]).index,L.objectId,"0","R")},u=function(){this.internal.collections[t+"images"]||(this.internal.collections[t+"images"]={},this.internal.events.subscribe("putResources",l),this.internal.events.subscribe("putXobjectDict",o))},f=function(){var L=this.internal.collections[t+"images"];return u.call(this),L},h=function(){return Object.keys(this.internal.collections[t+"images"]).length},m=function(L){return typeof e["process"+L.toUpperCase()]=="function"},g=function(L){return Nn(L)==="object"&&L.nodeType===1},x=function(L,U){if(L.nodeName==="IMG"&&L.hasAttribute("src")){var G=""+L.getAttribute("src");if(G.indexOf("data:image/")===0)return zv(unescape(G).split("base64,").pop());var te=e.loadFile(G,!0);if(te!==void 0)return te}if(L.nodeName==="CANVAS"){if(L.width===0||L.height===0)throw new Error("Given canvas must have data. Canvas width: "+L.width+", height: "+L.height);var de;switch(U){case"PNG":de="image/png";break;case"WEBP":de="image/webp";break;default:de="image/jpeg"}return zv(L.toDataURL(de,1).split("base64,").pop())}},b=function(L){var U=this.internal.collections[t+"images"];if(U){for(var G in U)if(L===U[G].alias)return U[G]}},v=function(L,U,G){return L||U||(L=-96,U=-96),L<0&&(L=-1*G.width*72/L/this.internal.scaleFactor),U<0&&(U=-1*G.height*72/U/this.internal.scaleFactor),L===0&&(L=U*G.width/G.height),U===0&&(U=L*G.height/G.width),[L,U]},w=function(L,U,G,te,de,ne){var Z=v.call(this,G,te,de),xe=this.internal.getCoordinateString,le=this.internal.getVerticalCoordinateString,Se=f.call(this);if(G=Z[0],te=Z[1],Se[de.index]=de,ne){ne*=Math.PI/180;var re=Math.cos(ne),R=Math.sin(ne),F=function(W){return W.toFixed(4)},q=[F(re),F(R),F(-1*R),F(re),0,0,"cm"]}this.internal.write("q"),ne?(this.internal.write([1,"0","0",1,xe(L),le(U+te),"cm"].join(" ")),this.internal.write(q.join(" ")),this.internal.write([xe(G),"0","0",xe(te),"0","0","cm"].join(" "))):this.internal.write([xe(G),"0","0",xe(te),xe(L),le(U+te),"cm"].join(" ")),this.isAdvancedAPI()&&this.internal.write([1,0,0,-1,0,0,"cm"].join(" ")),this.internal.write("/I"+de.index+" Do"),this.internal.write("Q")},N=e.color_spaces={DEVICE_RGB:"DeviceRGB",DEVICE_GRAY:"DeviceGray",DEVICE_CMYK:"DeviceCMYK",CAL_GREY:"CalGray",CAL_RGB:"CalRGB",LAB:"Lab",ICC_BASED:"ICCBased",INDEXED:"Indexed",PATTERN:"Pattern",SEPARATION:"Separation",DEVICE_N:"DeviceN"};e.decode={DCT_DECODE:"DCTDecode",FLATE_DECODE:"FlateDecode",LZW_DECODE:"LZWDecode",JPX_DECODE:"JPXDecode",JBIG2_DECODE:"JBIG2Decode",ASCII85_DECODE:"ASCII85Decode",ASCII_HEX_DECODE:"ASCIIHexDecode",RUN_LENGTH_DECODE:"RunLengthDecode",CCITT_FAX_DECODE:"CCITTFaxDecode"};var E=e.image_compression={NONE:"NONE",FAST:"FAST",MEDIUM:"MEDIUM",SLOW:"SLOW"},j=e.__addimage__.sHashCode=function(L){var U,G,te=0;if(typeof L=="string")for(G=L.length,U=0;U<G;U++)te=(te<<5)-te+L.charCodeAt(U),te|=0;else if(P(L))for(G=L.byteLength/2,U=0;U<G;U++)te=(te<<5)-te+L[U],te|=0;return te},T=e.__addimage__.validateStringAsBase64=function(L){(L=L||"").toString().trim();var U=!0;return L.length===0&&(U=!1),L.length%4!=0&&(U=!1),/^[A-Za-z0-9+/]+$/.test(L.substr(0,L.length-2))===!1&&(U=!1),/^[A-Za-z0-9/][A-Za-z0-9+/]|[A-Za-z0-9+/]=|==$/.test(L.substr(-2))===!1&&(U=!1),U},O=e.__addimage__.extractImageFromDataUrl=function(L){if(L==null||!(L=L.trim()).startsWith("data:"))return null;var U=L.indexOf(",");return U<0?null:L.substring(0,U).trim().endsWith("base64")?L.substring(U+1):null};e.__addimage__.isArrayBuffer=function(L){return L instanceof ArrayBuffer};var P=e.__addimage__.isArrayBufferView=function(L){return L instanceof Int8Array||L instanceof Uint8Array||L instanceof Uint8ClampedArray||L instanceof Int16Array||L instanceof Uint16Array||L instanceof Int32Array||L instanceof Uint32Array||L instanceof Float32Array||L instanceof Float64Array},D=e.__addimage__.binaryStringToUint8Array=function(L){for(var U=L.length,G=new Uint8Array(U),te=0;te<U;te++)G[te]=L.charCodeAt(te);return G},M=e.__addimage__.arrayBufferToBinaryString=function(L){for(var U="",G=P(L)?L:new Uint8Array(L),te=0;te<G.length;te+=8192)U+=String.fromCharCode.apply(null,G.subarray(te,te+8192));return U};e.addImage=function(){var L,U,G,te,de,ne,Z,xe,le;if(typeof arguments[1]=="number"?(U=r,G=arguments[1],te=arguments[2],de=arguments[3],ne=arguments[4],Z=arguments[5],xe=arguments[6],le=arguments[7]):(U=arguments[1],G=arguments[2],te=arguments[3],de=arguments[4],ne=arguments[5],Z=arguments[6],xe=arguments[7],le=arguments[8]),Nn(L=arguments[0])==="object"&&!g(L)&&"imageData"in L){var Se=L;L=Se.imageData,U=Se.format||U||r,G=Se.x||G||0,te=Se.y||te||0,de=Se.w||Se.width||de,ne=Se.h||Se.height||ne,Z=Se.alias||Z,xe=Se.compression||xe,le=Se.rotation||Se.angle||le}var re=this.internal.getFilters();if(xe===void 0&&re.indexOf("FlateEncode")!==-1&&(xe="SLOW"),isNaN(G)||isNaN(te))throw new Error("Invalid coordinates passed to jsPDF.addImage");u.call(this);var R=B.call(this,L,U,Z,xe);return w.call(this,G,te,de,ne,R,le),this};var B=function(L,U,G,te){var de,ne,Z;if(typeof L=="string"&&a(L)===r){L=unescape(L);var xe=H(L,!1);(xe!==""||(xe=e.loadFile(L,!0))!==void 0)&&(L=xe)}if(g(L)&&(L=x(L,U)),U=a(L,U),!m(U))throw new Error("addImage does not support files of type '"+U+"', please ensure that a plugin for '"+U+"' support is added.");if(((Z=G)==null||Z.length===0)&&(G=(function(le){return typeof le=="string"||P(le)?j(le):P(le.data)?j(le.data):null})(L)),(de=b.call(this,G))||(L instanceof Uint8Array||U==="RGBA"||(ne=L,L=D(L)),de=this["process"+U.toUpperCase()](L,h.call(this),G,(function(le){return le&&typeof le=="string"&&(le=le.toUpperCase()),le in e.image_compression?le:E.NONE})(te),ne)),!de)throw new Error("An unknown error occurred whilst processing the image.");return de},H=e.__addimage__.convertBase64ToBinaryString=function(L,U){U=typeof U!="boolean"||U;var G,te="";if(typeof L=="string"){var de;G=(de=O(L))!==null&&de!==void 0?de:L;try{te=zv(G)}catch(ne){if(U)throw T(G)?new Error("atob-Error in jsPDF.convertBase64ToBinaryString "+ne.message):new Error("Supplied Data is not a valid base64-String jsPDF.convertBase64ToBinaryString ")}}return te};e.getImageProperties=function(L){var U,G,te="";if(g(L)&&(L=x(L)),typeof L=="string"&&a(L)===r&&((te=H(L,!1))===""&&(te=e.loadFile(L)||""),L=te),G=a(L),!m(G))throw new Error("addImage does not support files of type '"+G+"', please ensure that a plugin for '"+G+"' support is added.");if(L instanceof Uint8Array||(L=D(L)),!(U=this["process"+G.toUpperCase()](L)))throw new Error("An unknown error occurred whilst processing the image");return U.fileType=G,U}})(Gt.API),(function(e){var t=function(r){if(r!==void 0&&r!="")return!0};Gt.API.events.push(["addPage",function(r){this.internal.getPageInfo(r.pageNumber).pageContext.annotations=[]}]),e.events.push(["putPage",function(r){for(var n,a,i,l=this.internal.getCoordinateString,o=this.internal.getVerticalCoordinateString,u=this.internal.getPageInfoByObjId(r.objId),f=r.pageContext.annotations,h=!1,m=0;m<f.length&&!h;m++)switch((n=f[m]).type){case"link":(t(n.options.url)||t(n.options.pageNumber))&&(h=!0);break;case"reference":case"text":case"freetext":h=!0}if(h!=0){this.internal.write("/Annots [");for(var g=0;g<f.length;g++){n=f[g];var x=this.internal.pdfEscape,b=this.internal.getEncryptor(r.objId);switch(n.type){case"reference":this.internal.write(" "+n.object.objId+" 0 R ");break;case"text":var v=this.internal.newAdditionalObject(),w=this.internal.newAdditionalObject(),N=this.internal.getEncryptor(v.objId),E=n.title||"Note";i="<</Type /Annot /Subtype /Text "+(a="/Rect ["+l(n.bounds.x)+" "+o(n.bounds.y+n.bounds.h)+" "+l(n.bounds.x+n.bounds.w)+" "+o(n.bounds.y)+"] ")+"/Contents ("+x(N(n.contents))+")",i+=" /Popup "+w.objId+" 0 R",i+=" /P "+u.objId+" 0 R",i+=" /T ("+x(N(E))+") >>",v.content=i;var j=v.objId+" 0 R";i="<</Type /Annot /Subtype /Popup "+(a="/Rect ["+l(n.bounds.x+30)+" "+o(n.bounds.y+n.bounds.h)+" "+l(n.bounds.x+n.bounds.w+30)+" "+o(n.bounds.y)+"] ")+" /Parent "+j,n.open&&(i+=" /Open true"),i+=" >>",w.content=i,this.internal.write(v.objId,"0 R",w.objId,"0 R");break;case"freetext":a="/Rect ["+l(n.bounds.x)+" "+o(n.bounds.y)+" "+l(n.bounds.x+n.bounds.w)+" "+o(n.bounds.y+n.bounds.h)+"] ";var T=n.color||"#000000";i="<</Type /Annot /Subtype /FreeText "+a+"/Contents ("+x(b(n.contents))+")",i+=" /DS(font: Helvetica,sans-serif 12.0pt; text-align:left; color:#"+T+")",i+=" /Border [0 0 0]",i+=" >>",this.internal.write(i);break;case"link":if(n.options.name){var O=this.annotations._nameMap[n.options.name];n.options.pageNumber=O.page,n.options.top=O.y}else n.options.top||(n.options.top=0);if(a="/Rect ["+n.finalBounds.x+" "+n.finalBounds.y+" "+n.finalBounds.w+" "+n.finalBounds.h+"] ",i="",n.options.url)i="<</Type /Annot /Subtype /Link "+a+"/Border [0 0 0] /A <</S /URI /URI ("+x(b(n.options.url))+") >>";else if(n.options.pageNumber)switch(i="<</Type /Annot /Subtype /Link "+a+"/Border [0 0 0] /Dest ["+this.internal.getPageInfo(n.options.pageNumber).objId+" 0 R",n.options.magFactor=n.options.magFactor||"XYZ",n.options.magFactor){case"Fit":i+=" /Fit]";break;case"FitH":i+=" /FitH "+n.options.top+"]";break;case"FitV":n.options.left=n.options.left||0,i+=" /FitV "+n.options.left+"]";break;default:var P=o(n.options.top);n.options.left=n.options.left||0,n.options.zoom===void 0&&(n.options.zoom=0),i+=" /XYZ "+n.options.left+" "+P+" "+n.options.zoom+"]"}i!=""&&(i+=" >>",this.internal.write(i))}}this.internal.write("]")}}]),e.createAnnotation=function(r){var n=this.internal.getCurrentPageInfo();switch(r.type){case"link":this.link(r.bounds.x,r.bounds.y,r.bounds.w,r.bounds.h,r);break;case"text":case"freetext":n.pageContext.annotations.push(r)}},e.link=function(r,n,a,i,l){var o=this.internal.getCurrentPageInfo(),u=this.internal.getCoordinateString,f=this.internal.getVerticalCoordinateString;o.pageContext.annotations.push({finalBounds:{x:u(r),y:f(n),w:u(r+a),h:f(n+i)},options:l,type:"link"})},e.textWithLink=function(r,n,a,i){var l,o,u=this.getTextWidth(r),f=this.internal.getLineHeight()/this.internal.scaleFactor;if(i.maxWidth!==void 0){o=i.maxWidth;var h=this.splitTextToSize(r,o).length;l=Math.ceil(f*h)}else o=u,l=f;return this.text(r,n,a,i),a+=.2*f,i.align==="center"&&(n-=u/2),i.align==="right"&&(n-=u),this.link(n,a-f,o,l,i),u},e.getTextWidth=function(r){var n=this.internal.getFontSize();return this.getStringUnitWidth(r)*n/this.internal.scaleFactor}})(Gt.API),(function(e){var t={1569:[65152],1570:[65153,65154],1571:[65155,65156],1572:[65157,65158],1573:[65159,65160],1574:[65161,65162,65163,65164],1575:[65165,65166],1576:[65167,65168,65169,65170],1577:[65171,65172],1578:[65173,65174,65175,65176],1579:[65177,65178,65179,65180],1580:[65181,65182,65183,65184],1581:[65185,65186,65187,65188],1582:[65189,65190,65191,65192],1583:[65193,65194],1584:[65195,65196],1585:[65197,65198],1586:[65199,65200],1587:[65201,65202,65203,65204],1588:[65205,65206,65207,65208],1589:[65209,65210,65211,65212],1590:[65213,65214,65215,65216],1591:[65217,65218,65219,65220],1592:[65221,65222,65223,65224],1593:[65225,65226,65227,65228],1594:[65229,65230,65231,65232],1601:[65233,65234,65235,65236],1602:[65237,65238,65239,65240],1603:[65241,65242,65243,65244],1604:[65245,65246,65247,65248],1605:[65249,65250,65251,65252],1606:[65253,65254,65255,65256],1607:[65257,65258,65259,65260],1608:[65261,65262],1609:[65263,65264,64488,64489],1610:[65265,65266,65267,65268],1649:[64336,64337],1655:[64477],1657:[64358,64359,64360,64361],1658:[64350,64351,64352,64353],1659:[64338,64339,64340,64341],1662:[64342,64343,64344,64345],1663:[64354,64355,64356,64357],1664:[64346,64347,64348,64349],1667:[64374,64375,64376,64377],1668:[64370,64371,64372,64373],1670:[64378,64379,64380,64381],1671:[64382,64383,64384,64385],1672:[64392,64393],1676:[64388,64389],1677:[64386,64387],1678:[64390,64391],1681:[64396,64397],1688:[64394,64395],1700:[64362,64363,64364,64365],1702:[64366,64367,64368,64369],1705:[64398,64399,64400,64401],1709:[64467,64468,64469,64470],1711:[64402,64403,64404,64405],1713:[64410,64411,64412,64413],1715:[64406,64407,64408,64409],1722:[64414,64415],1723:[64416,64417,64418,64419],1726:[64426,64427,64428,64429],1728:[64420,64421],1729:[64422,64423,64424,64425],1733:[64480,64481],1734:[64473,64474],1735:[64471,64472],1736:[64475,64476],1737:[64482,64483],1739:[64478,64479],1740:[64508,64509,64510,64511],1744:[64484,64485,64486,64487],1746:[64430,64431],1747:[64432,64433]},r={65247:{65154:65269,65156:65271,65160:65273,65166:65275},65248:{65154:65270,65156:65272,65160:65274,65166:65276},65165:{65247:{65248:{65258:65010}}},1617:{1612:64606,1613:64607,1614:64608,1615:64609,1616:64610}},n={1612:64606,1613:64607,1614:64608,1615:64609,1616:64610},a=[1570,1571,1573,1575];e.__arabicParser__={};var i=e.__arabicParser__.isInArabicSubstitutionA=function(v){return t[v.charCodeAt(0)]!==void 0},l=e.__arabicParser__.isArabicLetter=function(v){return typeof v=="string"&&/^[\u0600-\u06FF\u0750-\u077F\u08A0-\u08FF\uFB50-\uFDFF\uFE70-\uFEFF]+$/.test(v)},o=e.__arabicParser__.isArabicEndLetter=function(v){return l(v)&&i(v)&&t[v.charCodeAt(0)].length<=2},u=e.__arabicParser__.isArabicAlfLetter=function(v){return l(v)&&a.indexOf(v.charCodeAt(0))>=0};e.__arabicParser__.arabicLetterHasIsolatedForm=function(v){return l(v)&&i(v)&&t[v.charCodeAt(0)].length>=1};var f=e.__arabicParser__.arabicLetterHasFinalForm=function(v){return l(v)&&i(v)&&t[v.charCodeAt(0)].length>=2};e.__arabicParser__.arabicLetterHasInitialForm=function(v){return l(v)&&i(v)&&t[v.charCodeAt(0)].length>=3};var h=e.__arabicParser__.arabicLetterHasMedialForm=function(v){return l(v)&&i(v)&&t[v.charCodeAt(0)].length==4},m=e.__arabicParser__.resolveLigatures=function(v){var w=0,N=r,E="",j=0;for(w=0;w<v.length;w+=1)N[v.charCodeAt(w)]!==void 0?(j++,typeof(N=N[v.charCodeAt(w)])=="number"&&(E+=String.fromCharCode(N),N=r,j=0),w===v.length-1&&(N=r,E+=v.charAt(w-(j-1)),w-=j-1,j=0)):(N=r,E+=v.charAt(w-j),w-=j,j=0);return E};e.__arabicParser__.isArabicDiacritic=function(v){return v!==void 0&&n[v.charCodeAt(0)]!==void 0};var g=e.__arabicParser__.getCorrectForm=function(v,w,N){return l(v)?i(v)===!1?-1:!f(v)||!l(w)&&!l(N)||!l(N)&&o(w)||o(v)&&!l(w)||o(v)&&u(w)||o(v)&&o(w)?0:h(v)&&l(w)&&!o(w)&&l(N)&&f(N)?3:o(v)||!l(N)?1:2:-1},x=function(v){var w=0,N=0,E=0,j="",T="",O="",P=(v=v||"").split("\\s+"),D=[];for(w=0;w<P.length;w+=1){for(D.push(""),N=0;N<P[w].length;N+=1)j=P[w][N],T=P[w][N-1],O=P[w][N+1],l(j)?(E=g(j,T,O),D[w]+=E!==-1?String.fromCharCode(t[j.charCodeAt(0)][E]):j):D[w]+=j;D[w]=m(D[w])}return D.join(" ")},b=e.__arabicParser__.processArabic=e.processArabic=function(){var v,w=typeof arguments[0]=="string"?arguments[0]:arguments[0].text,N=[];if(Array.isArray(w)){var E=0;for(N=[],E=0;E<w.length;E+=1)Array.isArray(w[E])?N.push([x(w[E][0]),w[E][1],w[E][2]]):N.push([x(w[E])]);v=N}else v=x(w);return typeof arguments[0]=="string"?v:(arguments[0].text=v,arguments[0])};e.events.push(["preProcessText",b])})(Gt.API),Gt.API.autoPrint=function(e){var t;return(e=e||{}).variant=e.variant||"non-conform",e.variant==="javascript"?this.addJS("print({});"):(this.internal.events.subscribe("postPutResources",function(){t=this.internal.newObject(),this.internal.out("<<"),this.internal.out("/S /Named"),this.internal.out("/Type /Action"),this.internal.out("/N /Print"),this.internal.out(">>"),this.internal.out("endobj")}),this.internal.events.subscribe("putCatalog",function(){this.internal.out("/OpenAction "+t+" 0 R")})),this},(function(e){var t=function(){var r=void 0;Object.defineProperty(this,"pdf",{get:function(){return r},set:function(o){r=o}});var n=150;Object.defineProperty(this,"width",{get:function(){return n},set:function(o){n=isNaN(o)||Number.isInteger(o)===!1||o<0?150:o,this.getContext("2d").pageWrapXEnabled&&(this.getContext("2d").pageWrapX=n+1)}});var a=300;Object.defineProperty(this,"height",{get:function(){return a},set:function(o){a=isNaN(o)||Number.isInteger(o)===!1||o<0?300:o,this.getContext("2d").pageWrapYEnabled&&(this.getContext("2d").pageWrapY=a+1)}});var i=[];Object.defineProperty(this,"childNodes",{get:function(){return i},set:function(o){i=o}});var l={};Object.defineProperty(this,"style",{get:function(){return l},set:function(o){l=o}}),Object.defineProperty(this,"parentNode",{})};t.prototype.getContext=function(r,n){var a;if((r=r||"2d")!=="2d")return null;for(a in n)this.pdf.context2d.hasOwnProperty(a)&&(this.pdf.context2d[a]=n[a]);return this.pdf.context2d._canvas=this,this.pdf.context2d},t.prototype.toDataURL=function(){throw new Error("toDataURL is not implemented.")},e.events.push(["initialized",function(){this.canvas=new t,this.canvas.pdf=this}])})(Gt.API),(function(e){var t={left:0,top:0,bottom:0,right:0},r=!1,n=function(){this.internal.__cell__===void 0&&(this.internal.__cell__={},this.internal.__cell__.padding=3,this.internal.__cell__.headerFunction=void 0,this.internal.__cell__.margins=Object.assign({},t),this.internal.__cell__.margins.width=this.getPageWidth(),a.call(this))},a=function(){this.internal.__cell__.lastCell=new i,this.internal.__cell__.pages=1},i=function(){var u=arguments[0];Object.defineProperty(this,"x",{enumerable:!0,get:function(){return u},set:function(v){u=v}});var f=arguments[1];Object.defineProperty(this,"y",{enumerable:!0,get:function(){return f},set:function(v){f=v}});var h=arguments[2];Object.defineProperty(this,"width",{enumerable:!0,get:function(){return h},set:function(v){h=v}});var m=arguments[3];Object.defineProperty(this,"height",{enumerable:!0,get:function(){return m},set:function(v){m=v}});var g=arguments[4];Object.defineProperty(this,"text",{enumerable:!0,get:function(){return g},set:function(v){g=v}});var x=arguments[5];Object.defineProperty(this,"lineNumber",{enumerable:!0,get:function(){return x},set:function(v){x=v}});var b=arguments[6];return Object.defineProperty(this,"align",{enumerable:!0,get:function(){return b},set:function(v){b=v}}),this};i.prototype.clone=function(){return new i(this.x,this.y,this.width,this.height,this.text,this.lineNumber,this.align)},i.prototype.toArray=function(){return[this.x,this.y,this.width,this.height,this.text,this.lineNumber,this.align]},e.setHeaderFunction=function(u){return n.call(this),this.internal.__cell__.headerFunction=typeof u=="function"?u:void 0,this},e.getTextDimensions=function(u,f){n.call(this);var h=(f=f||{}).fontSize||this.getFontSize(),m=f.font||this.getFont(),g=f.scaleFactor||this.internal.scaleFactor,x=0,b=0,v=0,w=this;if(!Array.isArray(u)&&typeof u!="string"){if(typeof u!="number")throw new Error("getTextDimensions expects text-parameter to be of type String or type Number or an Array of Strings.");u=String(u)}var N=f.maxWidth;N>0?typeof u=="string"?u=this.splitTextToSize(u,N):Object.prototype.toString.call(u)==="[object Array]"&&(u=u.reduce(function(j,T){return j.concat(w.splitTextToSize(T,N))},[])):u=Array.isArray(u)?u:[u];for(var E=0;E<u.length;E++)x<(v=this.getStringUnitWidth(u[E],{font:m})*h)&&(x=v);return x!==0&&(b=u.length),{w:x/=g,h:Math.max((b*h*this.getLineHeightFactor()-h*(this.getLineHeightFactor()-1))/g,0)}},e.cellAddPage=function(){n.call(this),this.addPage();var u=this.internal.__cell__.margins||t;return this.internal.__cell__.lastCell=new i(u.left,u.top,void 0,void 0),this.internal.__cell__.pages+=1,this};var l=e.cell=function(){var u;u=arguments[0]instanceof i?arguments[0]:new i(arguments[0],arguments[1],arguments[2],arguments[3],arguments[4],arguments[5]),n.call(this);var f=this.internal.__cell__.lastCell,h=this.internal.__cell__.padding,m=this.internal.__cell__.margins||t,g=this.internal.__cell__.tableHeaderRow,x=this.internal.__cell__.printHeaders;return f.lineNumber!==void 0&&(f.lineNumber===u.lineNumber?(u.x=(f.x||0)+(f.width||0),u.y=f.y||0):f.y+f.height+u.height+m.bottom>this.getPageHeight()?(this.cellAddPage(),u.y=m.top,x&&g&&(this.printHeaderRow(u.lineNumber,!0),u.y+=g[0].height)):u.y=f.y+f.height||u.y),u.text[0]!==void 0&&(this.rect(u.x,u.y,u.width,u.height,r===!0?"FD":void 0),u.align==="right"?this.text(u.text,u.x+u.width-h,u.y+h,{align:"right",baseline:"top"}):u.align==="center"?this.text(u.text,u.x+u.width/2,u.y+h,{align:"center",baseline:"top",maxWidth:u.width-h-h}):this.text(u.text,u.x+h,u.y+h,{align:"left",baseline:"top",maxWidth:u.width-h-h})),this.internal.__cell__.lastCell=u,this};e.table=function(u,f,h,m,g){if(n.call(this),!h)throw new Error("No data for PDF table.");var x,b,v,w,N=[],E=[],j=[],T={},O={},P=[],D=[],M=(g=g||{}).autoSize||!1,B=g.printHeaders!==!1,H=g.css&&g.css["font-size"]!==void 0?16*g.css["font-size"]:g.fontSize||12,L=g.margins||Object.assign({width:this.getPageWidth()},t),U=typeof g.padding=="number"?g.padding:3,G=g.headerBackgroundColor||"#c8c8c8",te=g.headerTextColor||"#000";if(a.call(this),this.internal.__cell__.printHeaders=B,this.internal.__cell__.margins=L,this.internal.__cell__.table_font_size=H,this.internal.__cell__.padding=U,this.internal.__cell__.headerBackgroundColor=G,this.internal.__cell__.headerTextColor=te,this.setFontSize(H),m==null)E=N=Object.keys(h[0]),j=N.map(function(){return"left"});else if(Array.isArray(m)&&Nn(m[0])==="object")for(N=m.map(function(Se){return Se.name}),E=m.map(function(Se){return Se.prompt||Se.name||""}),j=m.map(function(Se){return Se.align||"left"}),x=0;x<m.length;x+=1)O[m[x].name]=.7499990551181103*m[x].width;else Array.isArray(m)&&typeof m[0]=="string"&&(E=N=m,j=N.map(function(){return"left"}));if(M||Array.isArray(m)&&typeof m[0]=="string")for(x=0;x<N.length;x+=1){for(T[w=N[x]]=h.map(function(Se){return Se[w]}),this.setFont(void 0,"bold"),P.push(this.getTextDimensions(E[x],{fontSize:this.internal.__cell__.table_font_size,scaleFactor:this.internal.scaleFactor}).w),b=T[w],this.setFont(void 0,"normal"),v=0;v<b.length;v+=1)P.push(this.getTextDimensions(b[v],{fontSize:this.internal.__cell__.table_font_size,scaleFactor:this.internal.scaleFactor}).w);O[w]=Math.max.apply(null,P)+U+U,P=[]}if(B){var de={};for(x=0;x<N.length;x+=1)de[N[x]]={},de[N[x]].text=E[x],de[N[x]].align=j[x];var ne=o.call(this,de,O);D=N.map(function(Se){return new i(u,f,O[Se],ne,de[Se].text,void 0,de[Se].align)}),this.setTableHeaderRow(D),this.printHeaderRow(1,!1)}var Z=m.reduce(function(Se,re){return Se[re.name]=re.align,Se},{});for(x=0;x<h.length;x+=1){"rowStart"in g&&g.rowStart instanceof Function&&g.rowStart({row:x,data:h[x]},this);var xe=o.call(this,h[x],O);for(v=0;v<N.length;v+=1){var le=h[x][N[v]];"cellStart"in g&&g.cellStart instanceof Function&&g.cellStart({row:x,col:v,data:le},this),l.call(this,new i(u,f,O[N[v]],xe,le,x+2,Z[N[v]]))}}return this.internal.__cell__.table_x=u,this.internal.__cell__.table_y=f,this};var o=function(u,f){var h=this.internal.__cell__.padding,m=this.internal.__cell__.table_font_size,g=this.internal.scaleFactor;return Object.keys(u).map(function(x){var b=u[x];return this.splitTextToSize(b.hasOwnProperty("text")?b.text:b,f[x]-h-h)},this).map(function(x){return this.getLineHeightFactor()*x.length*m/g+h+h},this).reduce(function(x,b){return Math.max(x,b)},0)};e.setTableHeaderRow=function(u){n.call(this),this.internal.__cell__.tableHeaderRow=u},e.printHeaderRow=function(u,f){if(n.call(this),!this.internal.__cell__.tableHeaderRow)throw new Error("Property tableHeaderRow does not exist.");var h;if(r=!0,typeof this.internal.__cell__.headerFunction=="function"){var m=this.internal.__cell__.headerFunction(this,this.internal.__cell__.pages);this.internal.__cell__.lastCell=new i(m[0],m[1],m[2],m[3],void 0,-1)}this.setFont(void 0,"bold");for(var g=[],x=0;x<this.internal.__cell__.tableHeaderRow.length;x+=1){h=this.internal.__cell__.tableHeaderRow[x].clone(),f&&(h.y=this.internal.__cell__.margins.top||0,g.push(h)),h.lineNumber=u;var b=this.getTextColor();this.setTextColor(this.internal.__cell__.headerTextColor),this.setFillColor(this.internal.__cell__.headerBackgroundColor),l.call(this,h),this.setTextColor(b)}g.length>0&&this.setTableHeaderRow(g),this.setFont(void 0,"normal"),r=!1}})(Gt.API);var eU={italic:["italic","oblique","normal"],oblique:["oblique","italic","normal"],normal:["normal","oblique","italic"]},tU=["ultra-condensed","extra-condensed","condensed","semi-condensed","normal","semi-expanded","expanded","extra-expanded","ultra-expanded"],j_=JB(tU),rU=[100,200,300,400,500,600,700,800,900],eNe=JB(rU);function R4(e){var t=e.family.replace(/"|'/g,"").toLowerCase(),r=(function(i){return eU[i=i||"normal"]?i:"normal"})(e.style),n=(function(i){return i?typeof i=="number"?i>=100&&i<=900&&i%100==0?i:400:/^\d00$/.test(i)?parseInt(i):i==="bold"?700:400:400})(e.weight),a=(function(i){return typeof j_[i=i||"normal"]=="number"?i:"normal"})(e.stretch);return{family:t,style:r,weight:n,stretch:a,src:e.src||[],ref:e.ref||{name:t,style:[a,r,n].join(" ")}}}function V7(e,t,r,n){var a;for(a=r;a>=0&&a<t.length;a+=n)if(e[t[a]])return e[t[a]];for(a=r;a>=0&&a<t.length;a-=n)if(e[t[a]])return e[t[a]]}var tNe={"sans-serif":"helvetica",fixed:"courier",monospace:"courier",terminal:"courier",cursive:"times",fantasy:"times",serif:"times"},W7={caption:"times",icon:"times",menu:"times","message-box":"times","small-caption":"times","status-bar":"times"};function K7(e){return[e.stretch,e.style,e.weight,e.family].join(" ")}function G7(e){return e.trimLeft()}function rNe(e,t){for(var r=0;r<e.length;){if(e.charAt(r)===t)return[e.substring(0,r),e.substring(r+1)];r+=1}return null}function nNe(e){var t=e.match(/^(-[a-z_]|[a-z_])[a-z0-9_-]*/i);return t===null?null:[t[0],e.substring(t[0].length)]}var Dv,Y7,X7,bm,Fv,Q7,Z7,J7,I4=["times"];function eD(e,t,r,n,a){var i=4,l=rD;switch(a){case Gt.API.image_compression.FAST:i=1,l=tD;break;case Gt.API.image_compression.MEDIUM:i=6,l=nD;break;case Gt.API.image_compression.SLOW:i=9,l=aD}e=(function(u,f,h,m){for(var g,x=u.length/f,b=new Uint8Array(u.length+x),v=[aNe,tD,rD,nD,aD],w=0;w<x;w+=1){var N=w*f,E=u.subarray(N,N+f);if(m)b.set(m(E,h,g),N+w);else{for(var j=v.length,T=[],O=0;O<j;O+=1)T[O]=v[O](E,h,g);var P=sNe(T.concat());b.set(T[P],N+w)}g=E}return b})(e,t,Math.ceil(r*n/8),l);var o=g_(e,{level:i});return Gt.API.__addimage__.arrayBufferToBinaryString(o)}function aNe(e){var t=Array.apply([],e);return t.unshift(0),t}function tD(e,t){var r=e.length,n=[];n[0]=1;for(var a=0;a<r;a+=1){var i=e[a-t]||0;n[a+1]=e[a]-i+256&255}return n}function rD(e,t,r){var n=e.length,a=[];a[0]=2;for(var i=0;i<n;i+=1){var l=r&&r[i]||0;a[i+1]=e[i]-l+256&255}return a}function nD(e,t,r){var n=e.length,a=[];a[0]=3;for(var i=0;i<n;i+=1){var l=e[i-t]||0,o=r&&r[i]||0;a[i+1]=e[i]+256-(l+o>>>1)&255}return a}function aD(e,t,r){var n=e.length,a=[];a[0]=4;for(var i=0;i<n;i+=1){var l=iNe(e[i-t]||0,r&&r[i]||0,r&&r[i-t]||0);a[i+1]=e[i]-l+256&255}return a}function iNe(e,t,r){if(e===t&&t===r)return e;var n=Math.abs(t-r),a=Math.abs(e-r),i=Math.abs(e+t-r-r);return n<=a&&n<=i?e:a<=i?t:r}function sNe(e){var t=e.map(function(r){return r.reduce(function(n,a){return n+Math.abs(a)},0)});return t.indexOf(Math.min.apply(null,t))}function B4(e,t,r){var n=t*r,a=Math.floor(n/8),i=16-(n-8*a+r),l=(1<<r)-1;return nU(e,a)>>i&l}function iD(e,t,r,n){var a=r*n,i=Math.floor(a/8),l=16-(a-8*i+n),o=(1<<n)-1,u=(t&o)<<l;(function(f,h,m){if(h+1<f.byteLength)f.setUint16(h,m,!1);else{var g=m>>8&255;f.setUint8(h,g)}})(e,i,nU(e,i)&~(o<<l)&65535|u)}function nU(e,t){return t+1<e.byteLength?e.getUint16(t,!1):e.getUint8(t)<<8}function lNe(e){var t=0;if(e[t++]!==71||e[t++]!==73||e[t++]!==70||e[t++]!==56||(e[t++]+1&253)!=56||e[t++]!==97)throw new Error("Invalid GIF 87a/89a header.");var r=e[t++]|e[t++]<<8,n=e[t++]|e[t++]<<8,a=e[t++],i=a>>7,l=1<<1+(7&a);e[t++],e[t++];var o=null,u=null;i&&(o=t,u=l,t+=3*l);var f=!0,h=[],m=0,g=null,x=0,b=null;for(this.width=r,this.height=n;f&&t<e.length;)switch(e[t++]){case 33:switch(e[t++]){case 255:if(e[t]!==11||e[t+1]==78&&e[t+2]==69&&e[t+3]==84&&e[t+4]==83&&e[t+5]==67&&e[t+6]==65&&e[t+7]==80&&e[t+8]==69&&e[t+9]==50&&e[t+10]==46&&e[t+11]==48&&e[t+12]==3&&e[t+13]==1&&e[t+16]==0)t+=14,b=e[t++]|e[t++]<<8,t++;else for(t+=12;;){if(!((L=e[t++])>=0))throw Error("Invalid block size");if(L===0)break;t+=L}break;case 249:if(e[t++]!==4||e[t+4]!==0)throw new Error("Invalid graphics extension block.");var v=e[t++];m=e[t++]|e[t++]<<8,g=e[t++],1&v||(g=null),x=v>>2&7,t++;break;case 254:for(;;){if(!((L=e[t++])>=0))throw Error("Invalid block size");if(L===0)break;t+=L}break;default:throw new Error("Unknown graphic control label: 0x"+e[t-1].toString(16))}break;case 44:var w=e[t++]|e[t++]<<8,N=e[t++]|e[t++]<<8,E=e[t++]|e[t++]<<8,j=e[t++]|e[t++]<<8,T=e[t++],O=T>>6&1,P=1<<1+(7&T),D=o,M=u,B=!1;T>>7&&(B=!0,D=t,M=P,t+=3*P);var H=t;for(t++;;){var L;if(!((L=e[t++])>=0))throw Error("Invalid block size");if(L===0)break;t+=L}h.push({x:w,y:N,width:E,height:j,has_local_palette:B,palette_offset:D,palette_size:M,data_offset:H,data_length:t-H,transparent_index:g,interlaced:!!O,delay:m,disposal:x});break;case 59:f=!1;break;default:throw new Error("Unknown gif block: 0x"+e[t-1].toString(16))}this.numFrames=function(){return h.length},this.loopCount=function(){return b},this.frameInfo=function(U){if(U<0||U>=h.length)throw new Error("Frame index out of range.");return h[U]},this.decodeAndBlitFrameBGRA=function(U,G){var te=this.frameInfo(U),de=te.width*te.height,ne=new Uint8Array(de);sD(e,te.data_offset,ne,de);var Z=te.palette_offset,xe=te.transparent_index;xe===null&&(xe=256);var le=te.width,Se=r-le,re=le,R=4*(te.y*r+te.x),F=4*((te.y+te.height)*r+te.x),q=R,W=4*Se;te.interlaced===!0&&(W+=4*r*7);for(var Q=8,oe=0,ue=ne.length;oe<ue;++oe){var X=ne[oe];if(re===0&&(re=le,(q+=W)>=F&&(W=4*Se+4*r*(Q-1),q=R+(le+Se)*(Q<<1),Q>>=1)),X===xe)q+=4;else{var ve=e[Z+3*X],Te=e[Z+3*X+1],Y=e[Z+3*X+2];G[q++]=Y,G[q++]=Te,G[q++]=ve,G[q++]=255}--re}},this.decodeAndBlitFrameRGBA=function(U,G){var te=this.frameInfo(U),de=te.width*te.height,ne=new Uint8Array(de);sD(e,te.data_offset,ne,de);var Z=te.palette_offset,xe=te.transparent_index;xe===null&&(xe=256);var le=te.width,Se=r-le,re=le,R=4*(te.y*r+te.x),F=4*((te.y+te.height)*r+te.x),q=R,W=4*Se;te.interlaced===!0&&(W+=4*r*7);for(var Q=8,oe=0,ue=ne.length;oe<ue;++oe){var X=ne[oe];if(re===0&&(re=le,(q+=W)>=F&&(W=4*Se+4*r*(Q-1),q=R+(le+Se)*(Q<<1),Q>>=1)),X===xe)q+=4;else{var ve=e[Z+3*X],Te=e[Z+3*X+1],Y=e[Z+3*X+2];G[q++]=ve,G[q++]=Te,G[q++]=Y,G[q++]=255}--re}}}function sD(e,t,r,n){for(var a=e[t++],i=1<<a,l=i+1,o=l+1,u=a+1,f=(1<<u)-1,h=0,m=0,g=0,x=e[t++],b=new Int32Array(4096),v=null;;){for(;h<16&&x!==0;)m|=e[t++]<<h,h+=8,x===1?x=e[t++]:--x;if(h<u)break;var w=m&f;if(m>>=u,h-=u,w!==i){if(w===l)break;for(var N=w<o?w:v,E=0,j=N;j>i;)j=b[j]>>8,++E;var T=j;if(g+E+(N!==w?1:0)>n)return void In.log("Warning, gif stream longer than expected.");r[g++]=T;var O=g+=E;for(N!==w&&(r[g++]=T),j=N;E--;)j=b[j],r[--O]=255&j,j>>=8;v!==null&&o<4096&&(b[o++]=v<<8|T,o>=f+1&&u<12&&(++u,f=f<<1|1)),v=w}else o=l+1,f=(1<<(u=a+1))-1,v=null}return g!==n&&In.log("Warning, gif stream shorter than expected."),r}/**
 * @license
  Copyright (c) 2008, Adobe Systems Incorporated
  All rights reserved.

  Redistribution and use in source and binary forms, with or without 
  modification, are permitted provided that the following conditions are
  met:

  * Redistributions of source code must retain the above copyright notice, 
    this list of conditions and the following disclaimer.
  
  * Redistributions in binary form must reproduce the above copyright
    notice, this list of conditions and the following disclaimer in the 
    documentation and/or other materials provided with the distribution.
  
  * Neither the name of Adobe Systems Incorporated nor the names of its 
    contributors may be used to endorse or promote products derived from 
    this software without specific prior written permission.

  THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS "AS
  IS" AND ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO,
  THE IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR
  PURPOSE ARE DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT OWNER OR 
  CONTRIBUTORS BE LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL,
  EXEMPLARY, OR CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT LIMITED TO,
  PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES; LOSS OF USE, DATA, OR
  PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND ON ANY THEORY OF
  LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT (INCLUDING
  NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE OF THIS
  SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.
*/function U4(e){var t,r,n,a,i,l=Math.floor,o=new Array(64),u=new Array(64),f=new Array(64),h=new Array(64),m=new Array(65535),g=new Array(65535),x=new Array(64),b=new Array(64),v=[],w=0,N=7,E=new Array(64),j=new Array(64),T=new Array(64),O=new Array(256),P=new Array(2048),D=[0,1,5,6,14,15,27,28,2,4,7,13,16,26,29,42,3,8,12,17,25,30,41,43,9,11,18,24,31,40,44,53,10,19,23,32,39,45,52,54,20,22,33,38,46,51,55,60,21,34,37,47,50,56,59,61,35,36,48,49,57,58,62,63],M=[0,0,1,5,1,1,1,1,1,1,0,0,0,0,0,0,0],B=[0,1,2,3,4,5,6,7,8,9,10,11],H=[0,0,2,1,3,3,2,4,3,5,5,4,4,0,0,1,125],L=[1,2,3,0,4,17,5,18,33,49,65,6,19,81,97,7,34,113,20,50,129,145,161,8,35,66,177,193,21,82,209,240,36,51,98,114,130,9,10,22,23,24,25,26,37,38,39,40,41,42,52,53,54,55,56,57,58,67,68,69,70,71,72,73,74,83,84,85,86,87,88,89,90,99,100,101,102,103,104,105,106,115,116,117,118,119,120,121,122,131,132,133,134,135,136,137,138,146,147,148,149,150,151,152,153,154,162,163,164,165,166,167,168,169,170,178,179,180,181,182,183,184,185,186,194,195,196,197,198,199,200,201,202,210,211,212,213,214,215,216,217,218,225,226,227,228,229,230,231,232,233,234,241,242,243,244,245,246,247,248,249,250],U=[0,0,3,1,1,1,1,1,1,1,1,1,0,0,0,0,0],G=[0,1,2,3,4,5,6,7,8,9,10,11],te=[0,0,2,1,2,4,4,3,4,7,5,4,4,0,1,2,119],de=[0,1,2,3,17,4,5,33,49,6,18,65,81,7,97,113,19,34,50,129,8,20,66,145,161,177,193,9,35,51,82,240,21,98,114,209,10,22,36,52,225,37,241,23,24,25,26,38,39,40,41,42,53,54,55,56,57,58,67,68,69,70,71,72,73,74,83,84,85,86,87,88,89,90,99,100,101,102,103,104,105,106,115,116,117,118,119,120,121,122,130,131,132,133,134,135,136,137,138,146,147,148,149,150,151,152,153,154,162,163,164,165,166,167,168,169,170,178,179,180,181,182,183,184,185,186,194,195,196,197,198,199,200,201,202,210,211,212,213,214,215,216,217,218,226,227,228,229,230,231,232,233,234,242,243,244,245,246,247,248,249,250];function ne(R,F){for(var q=0,W=0,Q=new Array,oe=1;oe<=16;oe++){for(var ue=1;ue<=R[oe];ue++)Q[F[W]]=[],Q[F[W]][0]=q,Q[F[W]][1]=oe,W++,q++;q*=2}return Q}function Z(R){for(var F=R[0],q=R[1]-1;q>=0;)F&1<<q&&(w|=1<<N),q--,--N<0&&(w==255?(xe(255),xe(0)):xe(w),N=7,w=0)}function xe(R){v.push(R)}function le(R){xe(R>>8&255),xe(255&R)}function Se(R,F,q,W,Q){for(var oe,ue=Q[0],X=Q[240],ve=(function(lt,Ct){var xt,Ye,pt,Et,zt,Kt,Ar,Mt,Pt,yt,kt=0;for(Pt=0;Pt<8;++Pt){xt=lt[kt],Ye=lt[kt+1],pt=lt[kt+2],Et=lt[kt+3],zt=lt[kt+4],Kt=lt[kt+5],Ar=lt[kt+6];var _r=xt+(Mt=lt[kt+7]),Zt=xt-Mt,At=Ye+Ar,er=Ye-Ar,br=pt+Kt,ar=pt-Kt,Er=Et+zt,dr=Et-zt,pn=_r+Er,Un=_r-Er,Hr=At+br,Yt=At-br;lt[kt]=pn+Hr,lt[kt+4]=pn-Hr;var Fr=.707106781*(Yt+Un);lt[kt+2]=Un+Fr,lt[kt+6]=Un-Fr;var Rs=.382683433*((pn=dr+ar)-(Yt=er+Zt)),Ja=.5411961*pn+Rs,il=1.306562965*Yt+Rs,us=.707106781*(Hr=ar+er),Xt=Zt+us,Dl=Zt-us;lt[kt+5]=Dl+Ja,lt[kt+3]=Dl-Ja,lt[kt+1]=Xt+il,lt[kt+7]=Xt-il,kt+=8}for(kt=0,Pt=0;Pt<8;++Pt){xt=lt[kt],Ye=lt[kt+8],pt=lt[kt+16],Et=lt[kt+24],zt=lt[kt+32],Kt=lt[kt+40],Ar=lt[kt+48];var sl=xt+(Mt=lt[kt+56]),ui=xt-Mt,Wi=Ye+Ar,jn=Ye-Ar,ra=pt+Kt,ae=pt-Kt,Ne=Et+zt,he=Et-zt,me=sl+Ne,ye=sl-Ne,je=Wi+ra,Me=Wi-ra;lt[kt]=me+je,lt[kt+32]=me-je;var Xe=.707106781*(Me+ye);lt[kt+16]=ye+Xe,lt[kt+48]=ye-Xe;var Ie=.382683433*((me=he+ae)-(Me=jn+ui)),Be=.5411961*me+Ie,ze=1.306562965*Me+Ie,ft=.707106781*(je=ae+jn),gt=ui+ft,St=ui-ft;lt[kt+40]=St+Be,lt[kt+24]=St-Be,lt[kt+8]=gt+ze,lt[kt+56]=gt-ze,kt++}for(Pt=0;Pt<64;++Pt)yt=lt[Pt]*Ct[Pt],x[Pt]=yt>0?yt+.5|0:yt-.5|0;return x})(R,F),Te=0;Te<64;++Te)b[D[Te]]=ve[Te];var Y=b[0]-q;q=b[0],Y==0?Z(W[0]):(Z(W[g[oe=32767+Y]]),Z(m[oe]));for(var We=63;We>0&&b[We]==0;)We--;if(We==0)return Z(ue),q;for(var Ee,ge=1;ge<=We;){for(var dt=ge;b[ge]==0&&ge<=We;)++ge;var Ze=ge-dt;if(Ze>=16){Ee=Ze>>4;for(var bt=1;bt<=Ee;++bt)Z(X);Ze&=15}oe=32767+b[ge],Z(Q[(Ze<<4)+g[oe]]),Z(m[oe]),ge++}return We!=63&&Z(ue),q}function re(R){R=Math.min(Math.max(R,1),100),i!=R&&((function(F){for(var q=[16,11,10,16,24,40,51,61,12,12,14,19,26,58,60,55,14,13,16,24,40,57,69,56,14,17,22,29,51,87,80,62,18,22,37,56,68,109,103,77,24,35,55,64,81,104,113,92,49,64,78,87,103,121,120,101,72,92,95,98,112,100,103,99],W=0;W<64;W++){var Q=l((q[W]*F+50)/100);Q=Math.min(Math.max(Q,1),255),o[D[W]]=Q}for(var oe=[17,18,24,47,99,99,99,99,18,21,26,66,99,99,99,99,24,26,56,99,99,99,99,99,47,66,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99],ue=0;ue<64;ue++){var X=l((oe[ue]*F+50)/100);X=Math.min(Math.max(X,1),255),u[D[ue]]=X}for(var ve=[1,1.387039845,1.306562965,1.175875602,1,.785694958,.5411961,.275899379],Te=0,Y=0;Y<8;Y++)for(var We=0;We<8;We++)f[Te]=1/(o[D[Te]]*ve[Y]*ve[We]*8),h[Te]=1/(u[D[Te]]*ve[Y]*ve[We]*8),Te++})(R<50?Math.floor(5e3/R):Math.floor(200-2*R)),i=R)}this.encode=function(R,F){F&&re(F),v=new Array,w=0,N=7,le(65496),le(65504),le(16),xe(74),xe(70),xe(73),xe(70),xe(0),xe(1),xe(1),xe(0),le(1),le(1),xe(0),xe(0),(function(){le(65499),le(132),xe(0);for(var Ye=0;Ye<64;Ye++)xe(o[Ye]);xe(1);for(var pt=0;pt<64;pt++)xe(u[pt])})(),(function(Ye,pt){le(65472),le(17),xe(8),le(pt),le(Ye),xe(3),xe(1),xe(17),xe(0),xe(2),xe(17),xe(1),xe(3),xe(17),xe(1)})(R.width,R.height),(function(){le(65476),le(418),xe(0);for(var Ye=0;Ye<16;Ye++)xe(M[Ye+1]);for(var pt=0;pt<=11;pt++)xe(B[pt]);xe(16);for(var Et=0;Et<16;Et++)xe(H[Et+1]);for(var zt=0;zt<=161;zt++)xe(L[zt]);xe(1);for(var Kt=0;Kt<16;Kt++)xe(U[Kt+1]);for(var Ar=0;Ar<=11;Ar++)xe(G[Ar]);xe(17);for(var Mt=0;Mt<16;Mt++)xe(te[Mt+1]);for(var Pt=0;Pt<=161;Pt++)xe(de[Pt])})(),le(65498),le(12),xe(3),xe(1),xe(0),xe(2),xe(17),xe(3),xe(17),xe(0),xe(63),xe(0);var q=0,W=0,Q=0;w=0,N=7,this.encode.displayName="_encode_";for(var oe,ue,X,ve,Te,Y,We,Ee,ge,dt=R.data,Ze=R.width,bt=R.height,lt=4*Ze,Ct=0;Ct<bt;){for(oe=0;oe<lt;){for(Te=lt*Ct+oe,We=-1,Ee=0,ge=0;ge<64;ge++)Y=Te+(Ee=ge>>3)*lt+(We=4*(7&ge)),Ct+Ee>=bt&&(Y-=lt*(Ct+1+Ee-bt)),oe+We>=lt&&(Y-=oe+We-lt+4),ue=dt[Y++],X=dt[Y++],ve=dt[Y++],E[ge]=(P[ue]+P[X+256|0]+P[ve+512|0]>>16)-128,j[ge]=(P[ue+768|0]+P[X+1024|0]+P[ve+1280|0]>>16)-128,T[ge]=(P[ue+1280|0]+P[X+1536|0]+P[ve+1792|0]>>16)-128;q=Se(E,f,q,t,n),W=Se(j,h,W,r,a),Q=Se(T,h,Q,r,a),oe+=32}Ct+=8}if(N>=0){var xt=[];xt[1]=N+1,xt[0]=(1<<N+1)-1,Z(xt)}return le(65497),new Uint8Array(v)},e=e||50,(function(){for(var R=String.fromCharCode,F=0;F<256;F++)O[F]=R(F)})(),t=ne(M,B),r=ne(U,G),n=ne(H,L),a=ne(te,de),(function(){for(var R=1,F=2,q=1;q<=15;q++){for(var W=R;W<F;W++)g[32767+W]=q,m[32767+W]=[],m[32767+W][1]=q,m[32767+W][0]=W;for(var Q=-(F-1);Q<=-R;Q++)g[32767+Q]=q,m[32767+Q]=[],m[32767+Q][1]=q,m[32767+Q][0]=F-1+Q;R<<=1,F<<=1}})(),(function(){for(var R=0;R<256;R++)P[R]=19595*R,P[R+256|0]=38470*R,P[R+512|0]=7471*R+32768,P[R+768|0]=-11059*R,P[R+1024|0]=-21709*R,P[R+1280|0]=32768*R+8421375,P[R+1536|0]=-27439*R,P[R+1792|0]=-5329*R})(),re(e)}/**
 * @license
 * Copyright (c) 2017 Aras Abbasi
 *
 * Licensed under the MIT License.
 * http://opensource.org/licenses/mit-license
 */function bc(e,t){if(this.pos=0,this.buffer=e,this.datav=new DataView(e.buffer),this.is_with_alpha=!!t,this.bottom_up=!0,this.flag=String.fromCharCode(this.buffer[0])+String.fromCharCode(this.buffer[1]),this.pos+=2,["BM","BA","CI","CP","IC","PT"].indexOf(this.flag)===-1)throw new Error("Invalid BMP File");this.parseHeader(),this.parseBGR()}function lD(e){function t(B){if(!B)throw Error("assert :P")}function r(B,H,L){for(var U=0;4>U;U++)if(B[H+U]!=L.charCodeAt(U))return!0;return!1}function n(B,H,L,U,G){for(var te=0;te<G;te++)B[H+te]=L[U+te]}function a(B,H,L,U){for(var G=0;G<U;G++)B[H+G]=L}function i(B){return new Int32Array(B)}function l(B,H){for(var L=[],U=0;U<B;U++)L.push(new H);return L}function o(B,H){var L=[];return(function U(G,te,de){for(var ne=de[te],Z=0;Z<ne&&(G.push(de.length>te+1?[]:new H),!(de.length<te+1));Z++)U(G[Z],te+1,de)})(L,0,B),L}var u=function(){var B=this;function H(_,A){for(var z=1<<A-1>>>0;_&z;)z>>>=1;return z?(_&z-1)+z:_}function L(_,A,z,V,ee){t(!(V%z));do _[A+(V-=z)]=ee;while(0<V)}function U(_,A,z,V,ee){if(t(2328>=ee),512>=ee)var ie=i(512);else if((ie=i(ee))==null)return 0;return(function(se,fe,pe,we,Ce,Ue){var be,De,Le=fe,et=1<<pe,Re=i(16),Je=i(16);for(t(Ce!=0),t(we!=null),t(se!=null),t(0<pe),De=0;De<Ce;++De){if(15<we[De])return 0;++Re[we[De]]}if(Re[0]==Ce)return 0;for(Je[1]=0,be=1;15>be;++be){if(Re[be]>1<<be)return 0;Je[be+1]=Je[be]+Re[be]}for(De=0;De<Ce;++De)be=we[De],0<we[De]&&(Ue[Je[be]++]=De);if(Je[15]==1)return(we=new G).g=0,we.value=Ue[0],L(se,Le,1,et,we),et;var at,ht=-1,ot=et-1,qt=0,Tt=1,mr=1,Rt=1<<pe;for(De=0,be=1,Ce=2;be<=pe;++be,Ce<<=1){if(Tt+=mr<<=1,0>(mr-=Re[be]))return 0;for(;0<Re[be];--Re[be])(we=new G).g=be,we.value=Ue[De++],L(se,Le+qt,Ce,Rt,we),qt=H(qt,be)}for(be=pe+1,Ce=2;15>=be;++be,Ce<<=1){if(Tt+=mr<<=1,0>(mr-=Re[be]))return 0;for(;0<Re[be];--Re[be]){if(we=new G,(qt&ot)!=ht){for(Le+=Rt,at=1<<(ht=be)-pe;15>ht&&!(0>=(at-=Re[ht]));)++ht,at<<=1;et+=Rt=1<<(at=ht-pe),se[fe+(ht=qt&ot)].g=at+pe,se[fe+ht].value=Le-fe-ht}we.g=be-pe,we.value=Ue[De++],L(se,Le+(qt>>pe),Ce,Rt,we),qt=H(qt,be)}}return Tt!=2*Je[15]-1?0:et})(_,A,z,V,ee,ie)}function G(){this.value=this.g=0}function te(){this.value=this.g=0}function de(){this.G=l(5,G),this.H=i(5),this.jc=this.Qb=this.qb=this.nd=0,this.pd=l(Hc,te)}function ne(_,A,z,V){t(_!=null),t(A!=null),t(2147483648>V),_.Ca=254,_.I=0,_.b=-8,_.Ka=0,_.oa=A,_.pa=z,_.Jd=A,_.Yc=z+V,_.Zc=4<=V?z+V-4+1:z,ue(_)}function Z(_,A){for(var z=0;0<A--;)z|=ve(_,128)<<A;return z}function xe(_,A){var z=Z(_,A);return X(_)?-z:z}function le(_,A,z,V){var ee,ie=0;for(t(_!=null),t(A!=null),t(4294967288>V),_.Sb=V,_.Ra=0,_.u=0,_.h=0,4<V&&(V=4),ee=0;ee<V;++ee)ie+=A[z+ee]<<8*ee;_.Ra=ie,_.bb=V,_.oa=A,_.pa=z}function Se(_){for(;8<=_.u&&_.bb<_.Sb;)_.Ra>>>=8,_.Ra+=_.oa[_.pa+_.bb]<<po-8>>>0,++_.bb,_.u-=8;W(_)&&(_.h=1,_.u=0)}function re(_,A){if(t(0<=A),!_.h&&A<=Xi){var z=q(_)&ds[A];return _.u+=A,Se(_),z}return _.h=1,_.u=0}function R(){this.b=this.Ca=this.I=0,this.oa=[],this.pa=0,this.Jd=[],this.Yc=0,this.Zc=[],this.Ka=0}function F(){this.Ra=0,this.oa=[],this.h=this.u=this.bb=this.Sb=this.pa=0}function q(_){return _.Ra>>>(_.u&po-1)>>>0}function W(_){return t(_.bb<=_.Sb),_.h||_.bb==_.Sb&&_.u>po}function Q(_,A){_.u=A,_.h=W(_)}function oe(_){_.u>=xo&&(t(_.u>=xo),Se(_))}function ue(_){t(_!=null&&_.oa!=null),_.pa<_.Zc?(_.I=(_.oa[_.pa++]|_.I<<8)>>>0,_.b+=8):(t(_!=null&&_.oa!=null),_.pa<_.Yc?(_.b+=8,_.I=_.oa[_.pa++]|_.I<<8):_.Ka?_.b=0:(_.I<<=8,_.b+=8,_.Ka=1))}function X(_){return Z(_,1)}function ve(_,A){var z=_.Ca;0>_.b&&ue(_);var V=_.b,ee=z*A>>>8,ie=(_.I>>>V>ee)+0;for(ie?(z-=ee,_.I-=ee+1<<V>>>0):z=ee+1,V=z,ee=0;256<=V;)ee+=8,V>>=8;return V=7^ee+sc[V],_.b-=V,_.Ca=(z<<V)-1,ie}function Te(_,A,z){_[A+0]=z>>24&255,_[A+1]=z>>16&255,_[A+2]=z>>8&255,_[A+3]=255&z}function Y(_,A){return _[A+0]|_[A+1]<<8}function We(_,A){return Y(_,A)|_[A+2]<<16}function Ee(_,A){return Y(_,A)|Y(_,A+2)<<16}function ge(_,A){var z=1<<A;return t(_!=null),t(0<A),_.X=i(z),_.X==null?0:(_.Mb=32-A,_.Xa=A,1)}function dt(_,A){t(_!=null),t(A!=null),t(_.Xa==A.Xa),n(A.X,0,_.X,0,1<<A.Xa)}function Ze(){this.X=[],this.Xa=this.Mb=0}function bt(_,A,z,V){t(z!=null),t(V!=null);var ee=z[0],ie=V[0];return ee==0&&(ee=(_*ie+A/2)/A),ie==0&&(ie=(A*ee+_/2)/_),0>=ee||0>=ie?0:(z[0]=ee,V[0]=ie,1)}function lt(_,A){return _+(1<<A)-1>>>A}function Ct(_,A){return((4278255360&_)+(4278255360&A)>>>0&4278255360)+((16711935&_)+(16711935&A)>>>0&16711935)>>>0}function xt(_,A){B[A]=function(z,V,ee,ie,se,fe,pe){var we;for(we=0;we<se;++we){var Ce=B[_](fe[pe+we-1],ee,ie+we);fe[pe+we]=Ct(z[V+we],Ce)}}}function Ye(){this.ud=this.hd=this.jd=0}function pt(_,A){return((4278124286&(_^A))>>>1)+(_&A)>>>0}function Et(_){return 0<=_&&256>_?_:0>_?0:255<_?255:void 0}function zt(_,A){return Et(_+(_-A+.5>>1))}function Kt(_,A,z){return Math.abs(A-z)-Math.abs(_-z)}function Ar(_,A,z,V,ee,ie,se){for(V=ie[se-1],z=0;z<ee;++z)ie[se+z]=V=Ct(_[A+z],V)}function Mt(_,A,z,V,ee){var ie;for(ie=0;ie<z;++ie){var se=_[A+ie],fe=se>>8&255,pe=16711935&(pe=(pe=16711935&se)+((fe<<16)+fe));V[ee+ie]=(4278255360&se)+pe>>>0}}function Pt(_,A){A.jd=255&_,A.hd=_>>8&255,A.ud=_>>16&255}function yt(_,A,z,V,ee,ie){var se;for(se=0;se<V;++se){var fe=A[z+se],pe=fe>>>8,we=fe,Ce=255&(Ce=(Ce=fe>>>16)+((_.jd<<24>>24)*(pe<<24>>24)>>>5));we=255&(we=(we+=(_.hd<<24>>24)*(pe<<24>>24)>>>5)+((_.ud<<24>>24)*(Ce<<24>>24)>>>5)),ee[ie+se]=(4278255360&fe)+(Ce<<16)+we}}function kt(_,A,z,V,ee){B[A]=function(ie,se,fe,pe,we,Ce,Ue,be,De){for(pe=Ue;pe<be;++pe)for(Ue=0;Ue<De;++Ue)we[Ce++]=ee(fe[V(ie[se++])])},B[_]=function(ie,se,fe,pe,we,Ce,Ue){var be=8>>ie.b,De=ie.Ea,Le=ie.K[0],et=ie.w;if(8>be)for(ie=(1<<ie.b)-1,et=(1<<be)-1;se<fe;++se){var Re,Je=0;for(Re=0;Re<De;++Re)Re&ie||(Je=V(pe[we++])),Ce[Ue++]=ee(Le[Je&et]),Je>>=be}else B["VP8LMapColor"+z](pe,we,Le,et,Ce,Ue,se,fe,De)}}function _r(_,A,z,V,ee){for(z=A+z;A<z;){var ie=_[A++];V[ee++]=ie>>16&255,V[ee++]=ie>>8&255,V[ee++]=255&ie}}function Zt(_,A,z,V,ee){for(z=A+z;A<z;){var ie=_[A++];V[ee++]=ie>>16&255,V[ee++]=ie>>8&255,V[ee++]=255&ie,V[ee++]=ie>>24&255}}function At(_,A,z,V,ee){for(z=A+z;A<z;){var ie=(se=_[A++])>>16&240|se>>12&15,se=240&se|se>>28&15;V[ee++]=ie,V[ee++]=se}}function er(_,A,z,V,ee){for(z=A+z;A<z;){var ie=(se=_[A++])>>16&248|se>>13&7,se=se>>5&224|se>>3&31;V[ee++]=ie,V[ee++]=se}}function br(_,A,z,V,ee){for(z=A+z;A<z;){var ie=_[A++];V[ee++]=255&ie,V[ee++]=ie>>8&255,V[ee++]=ie>>16&255}}function ar(_,A,z,V,ee,ie){if(ie==0)for(z=A+z;A<z;)Te(V,((ie=_[A++])[0]>>24|ie[1]>>8&65280|ie[2]<<8&16711680|ie[3]<<24)>>>0),ee+=32;else n(V,ee,_,A,z)}function Er(_,A){B[A][0]=B[_+"0"],B[A][1]=B[_+"1"],B[A][2]=B[_+"2"],B[A][3]=B[_+"3"],B[A][4]=B[_+"4"],B[A][5]=B[_+"5"],B[A][6]=B[_+"6"],B[A][7]=B[_+"7"],B[A][8]=B[_+"8"],B[A][9]=B[_+"9"],B[A][10]=B[_+"10"],B[A][11]=B[_+"11"],B[A][12]=B[_+"12"],B[A][13]=B[_+"13"],B[A][14]=B[_+"0"],B[A][15]=B[_+"0"]}function dr(_){return _==d0||_==Rh||_==Wf||_==Ih}function pn(){this.eb=[],this.size=this.A=this.fb=0}function Un(){this.y=[],this.f=[],this.ea=[],this.F=[],this.Tc=this.Ed=this.Cd=this.Fd=this.lb=this.Db=this.Ab=this.fa=this.J=this.W=this.N=this.O=0}function Hr(){this.Rd=this.height=this.width=this.S=0,this.f={},this.f.RGBA=new pn,this.f.kb=new Un,this.sd=null}function Yt(){this.width=[0],this.height=[0],this.Pd=[0],this.Qd=[0],this.format=[0]}function Fr(){this.Id=this.fd=this.Md=this.hb=this.ib=this.da=this.bd=this.cd=this.j=this.v=this.Da=this.Sd=this.ob=0}function Rs(_){return alert("todo:WebPSamplerProcessPlane"),_.T}function Ja(_,A){var z=_.T,V=A.ba.f.RGBA,ee=V.eb,ie=V.fb+_.ka*V.A,se=gi[A.ba.S],fe=_.y,pe=_.O,we=_.f,Ce=_.N,Ue=_.ea,be=_.W,De=A.cc,Le=A.dc,et=A.Mc,Re=A.Nc,Je=_.ka,at=_.ka+_.T,ht=_.U,ot=ht+1>>1;for(Je==0?se(fe,pe,null,null,we,Ce,Ue,be,we,Ce,Ue,be,ee,ie,null,null,ht):(se(A.ec,A.fc,fe,pe,De,Le,et,Re,we,Ce,Ue,be,ee,ie-V.A,ee,ie,ht),++z);Je+2<at;Je+=2)De=we,Le=Ce,et=Ue,Re=be,Ce+=_.Rc,be+=_.Rc,ie+=2*V.A,se(fe,(pe+=2*_.fa)-_.fa,fe,pe,De,Le,et,Re,we,Ce,Ue,be,ee,ie-V.A,ee,ie,ht);return pe+=_.fa,_.j+at<_.o?(n(A.ec,A.fc,fe,pe,ht),n(A.cc,A.dc,we,Ce,ot),n(A.Mc,A.Nc,Ue,be,ot),z--):1&at||se(fe,pe,null,null,we,Ce,Ue,be,we,Ce,Ue,be,ee,ie+V.A,null,null,ht),z}function il(_,A,z){var V=_.F,ee=[_.J];if(V!=null){var ie=_.U,se=A.ba.S,fe=se==f0||se==Wf;A=A.ba.f.RGBA;var pe=[0],we=_.ka;pe[0]=_.T,_.Kb&&(we==0?--pe[0]:(--we,ee[0]-=_.width),_.j+_.ka+_.T==_.o&&(pe[0]=_.o-_.j-we));var Ce=A.eb;we=A.fb+we*A.A,_=l0(V,ee[0],_.width,ie,pe,Ce,we+(fe?0:3),A.A),t(z==pe),_&&dr(se)&&Ou(Ce,we,fe,ie,pe,A.A)}return 0}function us(_){var A=_.ma,z=A.ba.S,V=11>z,ee=z==Pi||z==fl||z==f0||z==Vf||z==12||dr(z);if(A.memory=null,A.Ib=null,A.Jb=null,A.Nd=null,!ic(A.Oa,_,ee?11:12))return 0;if(ee&&dr(z)&&Oh(),_.da)alert("todo:use_scaling");else{if(V){if(A.Ib=Rs,_.Kb){if(z=_.U+1>>1,A.memory=i(_.U+2*z),A.memory==null)return 0;A.ec=A.memory,A.fc=0,A.cc=A.ec,A.dc=A.fc+_.U,A.Mc=A.cc,A.Nc=A.dc+z,A.Ib=Ja,Oh()}}else alert("todo:EmitYUV");ee&&(A.Jb=il,V&&ol())}if(V&&!Qc){for(_=0;256>_;++_)vi[_]=89858*(_-128)+Yf>>gl,ob[_]=-22014*(_-128)+Yf,l1[_]=-45773*(_-128),$h[_]=113618*(_-128)+Yf>>gl;for(_=Lu;_<Xc;++_)A=76283*(_-16)+Yf>>gl,cb[_-Lu]=na(A,255),ub[_-Lu]=na(A+8>>4,15);Qc=1}return 1}function Xt(_){var A=_.ma,z=_.U,V=_.T;return t(!(1&_.ka)),0>=z||0>=V?0:(z=A.Ib(_,A),A.Jb!=null&&A.Jb(_,A,z),A.Dc+=z,1)}function Dl(_){_.ma.memory=null}function sl(_,A,z,V){return re(_,8)!=47?0:(A[0]=re(_,14)+1,z[0]=re(_,14)+1,V[0]=re(_,1),re(_,3)!=0?0:!_.h)}function ui(_,A){if(4>_)return _+1;var z=_-2>>1;return(2+(1&_)<<z)+re(A,z)+1}function Wi(_,A){return 120<A?A-120:1<=(z=((z=hl[A-1])>>4)*_+(8-(15&z)))?z:1;var z}function jn(_,A,z){var V=q(z),ee=_[A+=255&V].g-8;return 0<ee&&(Q(z,z.u+8),V=q(z),A+=_[A].value,A+=V&(1<<ee)-1),Q(z,z.u+_[A].g),_[A].value}function ra(_,A,z){return z.g+=_.g,z.value+=_.value<<A>>>0,t(8>=z.g),_.g}function ae(_,A,z){var V=_.xc;return t((A=V==0?0:_.vc[_.md*(z>>V)+(A>>V)])<_.Wb),_.Ya[A]}function Ne(_,A,z,V){var ee=_.ab,ie=_.c*A,se=_.C;A=se+A;var fe=z,pe=V;for(V=_.Ta,z=_.Ua;0<ee--;){var we=_.gc[ee],Ce=se,Ue=A,be=fe,De=pe,Le=(pe=V,fe=z,we.Ea);switch(t(Ce<Ue),t(Ue<=we.nc),we.hc){case 2:va(be,De,(Ue-Ce)*Le,pe,fe);break;case 0:var et=Ce,Re=Ue,Je=pe,at=fe,ht=(Rt=we).Ea;et==0&&(zf(be,De,null,null,1,Je,at),Ar(be,De+1,0,0,ht-1,Je,at+1),De+=ht,at+=ht,++et);for(var ot=1<<Rt.b,qt=ot-1,Tt=lt(ht,Rt.b),mr=Rt.K,Rt=Rt.w+(et>>Rt.b)*Tt;et<Re;){var Or=mr,Mn=Rt,gr=1;for(qf(be,De,Je,at-ht,1,Je,at);gr<ht;){var Ot=(gr&~qt)+ot;Ot>ht&&(Ot=ht),(0,lc[Or[Mn++]>>8&15])(be,De+ +gr,Je,at+gr-ht,Ot-gr,Je,at+gr),gr=Ot}De+=ht,at+=ht,++et&qt||(Rt+=Tt)}Ue!=we.nc&&n(pe,fe-Le,pe,fe+(Ue-Ce-1)*Le,Le);break;case 1:for(Le=be,Re=De,ht=(be=we.Ea)-(at=be&~(Je=(De=1<<we.b)-1)),et=lt(be,we.b),ot=we.K,we=we.w+(Ce>>we.b)*et;Ce<Ue;){for(qt=ot,Tt=we,mr=new Ye,Rt=Re+at,Or=Re+be;Re<Rt;)Pt(qt[Tt++],mr),$f(mr,Le,Re,De,pe,fe),Re+=De,fe+=De;Re<Or&&(Pt(qt[Tt++],mr),$f(mr,Le,Re,ht,pe,fe),Re+=ht,fe+=ht),++Ce&Je||(we+=et)}break;case 3:if(be==pe&&De==fe&&0<we.b){for(Re=pe,be=Le=fe+(Ue-Ce)*Le-(at=(Ue-Ce)*lt(we.Ea,we.b)),De=pe,Je=fe,et=[],at=(ht=at)-1;0<=at;--at)et[at]=De[Je+at];for(at=ht-1;0<=at;--at)Re[be+at]=et[at];Dh(we,Ce,Ue,pe,Le,pe,fe)}else Dh(we,Ce,Ue,be,De,pe,fe)}fe=V,pe=z}pe!=z&&n(V,z,fe,pe,ie)}function he(_,A){var z=_.V,V=_.Ba+_.c*_.C,ee=A-_.C;if(t(A<=_.l.o),t(16>=ee),0<ee){var ie=_.l,se=_.Ta,fe=_.Ua,pe=ie.width;if(Ne(_,ee,z,V),ee=fe=[fe],t((z=_.C)<(V=A)),t(ie.v<ie.va),V>ie.o&&(V=ie.o),z<ie.j){var we=ie.j-z;z=ie.j,ee[0]+=we*pe}if(z>=V?z=0:(ee[0]+=4*ie.v,ie.ka=z-ie.j,ie.U=ie.va-ie.v,ie.T=V-z,z=1),z){if(fe=fe[0],11>(z=_.ca).S){var Ce=z.f.RGBA,Ue=(V=z.S,ee=ie.U,ie=ie.T,we=Ce.eb,Ce.A),be=ie;for(Ce=Ce.fb+_.Ma*Ce.A;0<be--;){var De=se,Le=fe,et=ee,Re=we,Je=Ce;switch(V){case Lh:Hf(De,Le,et,Re,Je);break;case Pi:oc(De,Le,et,Re,Je);break;case d0:oc(De,Le,et,Re,Je),Ou(Re,Je,0,et,1,0);break;case Mh:Cu(De,Le,et,Re,Je);break;case fl:ar(De,Le,et,Re,Je,1);break;case Rh:ar(De,Le,et,Re,Je,1),Ou(Re,Je,0,et,1,0);break;case f0:ar(De,Le,et,Re,Je,0);break;case Wf:ar(De,Le,et,Re,Je,0),Ou(Re,Je,1,et,1,0);break;case Vf:cc(De,Le,et,Re,Je);break;case Ih:cc(De,Le,et,Re,Je),ul(Re,Je,et,1,0);break;case Vc:yo(De,Le,et,Re,Je);break;default:t(0)}fe+=pe,Ce+=Ue}_.Ma+=ie}else alert("todo:EmitRescaledRowsYUVA");t(_.Ma<=z.height)}}_.C=A,t(_.C<=_.i)}function me(_){var A;if(0<_.ua)return 0;for(A=0;A<_.Wb;++A){var z=_.Ya[A].G,V=_.Ya[A].H;if(0<z[1][V[1]+0].g||0<z[2][V[2]+0].g||0<z[3][V[3]+0].g)return 0}return 1}function ye(_,A,z,V,ee,ie){if(_.Z!=0){var se=_.qd,fe=_.rd;for(t(dc[_.Z]!=null);A<z;++A)dc[_.Z](se,fe,V,ee,V,ee,ie),se=V,fe=ee,ee+=ie;_.qd=se,_.rd=fe}}function je(_,A){var z=_.l.ma,V=z.Z==0||z.Z==1?_.l.j:_.C;if(V=_.C<V?V:_.C,t(A<=_.l.o),A>V){var ee=_.l.width,ie=z.ca,se=z.tb+ee*V,fe=_.V,pe=_.Ba+_.c*V,we=_.gc;t(_.ab==1),t(we[0].hc==3),vo(we[0],V,A,fe,pe,ie,se),ye(z,V,A,ie,se,ee)}_.C=_.Ma=A}function Me(_,A,z,V,ee,ie,se){var fe=_.$/V,pe=_.$%V,we=_.m,Ce=_.s,Ue=z+_.$,be=Ue;ee=z+V*ee;var De=z+V*ie,Le=280+Ce.ua,et=_.Pb?fe:16777216,Re=0<Ce.ua?Ce.Wa:null,Je=Ce.wc,at=Ue<De?ae(Ce,pe,fe):null;t(_.C<ie),t(De<=ee);var ht=!1;e:for(;;){for(;ht||Ue<De;){var ot=0;if(fe>=et){var qt=Ue-z;t((et=_).Pb),et.wd=et.m,et.xd=qt,0<et.s.ua&&dt(et.s.Wa,et.s.vb),et=fe+Wc}if(pe&Je||(at=ae(Ce,pe,fe)),t(at!=null),at.Qb&&(A[Ue]=at.qb,ht=!0),!ht)if(oe(we),at.jc){ot=we,qt=A;var Tt=Ue,mr=at.pd[q(ot)&Hc-1];t(at.jc),256>mr.g?(Q(ot,ot.u+mr.g),qt[Tt]=mr.value,ot=0):(Q(ot,ot.u+mr.g-256),t(256<=mr.value),ot=mr.value),ot==0&&(ht=!0)}else ot=jn(at.G[0],at.H[0],we);if(we.h)break;if(ht||256>ot){if(!ht)if(at.nd)A[Ue]=(at.qb|ot<<8)>>>0;else{if(oe(we),ht=jn(at.G[1],at.H[1],we),oe(we),qt=jn(at.G[2],at.H[2],we),Tt=jn(at.G[3],at.H[3],we),we.h)break;A[Ue]=(Tt<<24|ht<<16|ot<<8|qt)>>>0}if(ht=!1,++Ue,++pe>=V&&(pe=0,++fe,se!=null&&fe<=ie&&!(fe%16)&&se(_,fe),Re!=null))for(;be<Ue;)ot=A[be++],Re.X[(506832829*ot&4294967295)>>>Re.Mb]=ot}else if(280>ot){if(ot=ui(ot-256,we),qt=jn(at.G[4],at.H[4],we),oe(we),qt=Wi(V,qt=ui(qt,we)),we.h)break;if(Ue-z<qt||ee-Ue<ot)break e;for(Tt=0;Tt<ot;++Tt)A[Ue+Tt]=A[Ue+Tt-qt];for(Ue+=ot,pe+=ot;pe>=V;)pe-=V,++fe,se!=null&&fe<=ie&&!(fe%16)&&se(_,fe);if(t(Ue<=ee),pe&Je&&(at=ae(Ce,pe,fe)),Re!=null)for(;be<Ue;)ot=A[be++],Re.X[(506832829*ot&4294967295)>>>Re.Mb]=ot}else{if(!(ot<Le))break e;for(ht=ot-280,t(Re!=null);be<Ue;)ot=A[be++],Re.X[(506832829*ot&4294967295)>>>Re.Mb]=ot;ot=Ue,t(!(ht>>>(qt=Re).Xa)),A[ot]=qt.X[ht],ht=!0}ht||t(we.h==W(we))}if(_.Pb&&we.h&&Ue<ee)t(_.m.h),_.a=5,_.m=_.wd,_.$=_.xd,0<_.s.ua&&dt(_.s.vb,_.s.Wa);else{if(we.h)break e;se?.(_,fe>ie?ie:fe),_.a=0,_.$=Ue-z}return 1}return _.a=3,0}function Xe(_){t(_!=null),_.vc=null,_.yc=null,_.Ya=null;var A=_.Wa;A!=null&&(A.X=null),_.vb=null,t(_!=null)}function Ie(){var _=new Vt;return _==null?null:(_.a=0,_.xb=Ap,Er("Predictor","VP8LPredictors"),Er("Predictor","VP8LPredictors_C"),Er("PredictorAdd","VP8LPredictorsAdd"),Er("PredictorAdd","VP8LPredictorsAdd_C"),va=Mt,$f=yt,Hf=_r,oc=Zt,cc=At,yo=er,Cu=br,B.VP8LMapColor32b=go,B.VP8LMapColor8b=mi,_)}function Be(_,A,z,V,ee){var ie=1,se=[_],fe=[A],pe=V.m,we=V.s,Ce=null,Ue=0;e:for(;;){if(z)for(;ie&&re(pe,1);){var be=se,De=fe,Le=V,et=1,Re=Le.m,Je=Le.gc[Le.ab],at=re(Re,2);if(Le.Oc&1<<at)ie=0;else{switch(Le.Oc|=1<<at,Je.hc=at,Je.Ea=be[0],Je.nc=De[0],Je.K=[null],++Le.ab,t(4>=Le.ab),at){case 0:case 1:Je.b=re(Re,3)+2,et=Be(lt(Je.Ea,Je.b),lt(Je.nc,Je.b),0,Le,Je.K),Je.K=Je.K[0];break;case 3:var ht,ot=re(Re,8)+1,qt=16<ot?0:4<ot?1:2<ot?2:3;if(be[0]=lt(Je.Ea,qt),Je.b=qt,ht=et=Be(ot,1,0,Le,Je.K)){var Tt,mr=ot,Rt=Je,Or=1<<(8>>Rt.b),Mn=i(Or);if(Mn==null)ht=0;else{var gr=Rt.K[0],Ot=Rt.w;for(Mn[0]=Rt.K[0][0],Tt=1;Tt<1*mr;++Tt)Mn[Tt]=Ct(gr[Ot+Tt],Mn[Tt-1]);for(;Tt<4*Or;++Tt)Mn[Tt]=0;Rt.K[0]=null,Rt.K[0]=Mn,ht=1}}et=ht;break;case 2:break;default:t(0)}ie=et}}if(se=se[0],fe=fe[0],ie&&re(pe,1)&&!(ie=1<=(Ue=re(pe,4))&&11>=Ue)){V.a=3;break e}var jt;if(jt=ie)t:{var Wn,lr,wr,un=V,qa=se,yi=fe,En=Ue,Ca=z,Li=un.m,Ta=un.s,kr=[null],Vr=1,Kn=0,Qr=ml[En];r:for(;;){if(Ca&&re(Li,1)){var $a=re(Li,3)+2,Gn=lt(qa,$a),Wr=lt(yi,$a),wa=Gn*Wr;if(!Be(Gn,Wr,0,un,kr))break r;for(kr=kr[0],Ta.xc=$a,Wn=0;Wn<wa;++Wn){var fn=kr[Wn]>>8&65535;kr[Wn]=fn,fn>=Vr&&(Vr=fn+1)}}if(Li.h)break r;for(lr=0;5>lr;++lr){var Oa=Fu[lr];!lr&&0<En&&(Oa+=1<<En),Kn<Oa&&(Kn=Oa)}var Da=l(Vr*Qr,G),xn=Vr,$r=l(xn,de);if($r==null)var Mi=null;else t(65536>=xn),Mi=$r;var ia=i(Kn);if(Mi==null||ia==null||Da==null){un.a=1;break r}var Jt=Da;for(Wn=wr=0;Wn<Vr;++Wn){var tr=Mi[Wn],Kr=tr.G,hs=tr.H,vl=0,Zi=1,Fa=0;for(lr=0;5>lr;++lr){Oa=Fu[lr],Kr[lr]=Jt,hs[lr]=wr,!lr&&0<En&&(Oa+=1<<En);a:{var Zc,Jc=Oa,Vh=un,kn=ia,kp=Jt,Cp=wr,Wh=0,hc=Vh.m,fb=re(hc,1);if(a(kn,0,0,Jc),fb){var Tp=re(hc,1)+1,Op=re(hc,1),Kh=re(hc,Op==0?1:8);kn[Kh]=1,Tp==2&&(kn[Kh=re(hc,8)]=1);var ti=1}else{var sa=i(19),x0=re(hc,4)+4;if(19<x0){Vh.a=3;var eu=0;break a}for(Zc=0;Zc<x0;++Zc)sa[h0[Zc]]=re(hc,3);var Qf=void 0,Mu=void 0,No=Vh,Gh=sa,Zf=Jc,Yh=kn,Xh=0,mc=No.m,Dp=8,Fp=l(128,G);n:for(;U(Fp,0,7,Gh,19);){if(re(mc,1)){var o1=2+2*re(mc,3);if((Qf=2+re(mc,o1))>Zf)break n}else Qf=Zf;for(Mu=0;Mu<Zf&&Qf--;){oe(mc);var Pp=Fp[0+(127&q(mc))];Q(mc,mc.u+Pp.g);var tu=Pp.value;if(16>tu)Yh[Mu++]=tu,tu!=0&&(Dp=tu);else{var c1=tu==16,u1=tu-16,f1=Kf[u1],Lp=re(mc,dl[u1])+f1;if(Mu+Lp>Zf)break n;for(var d1=c1?Dp:0;0<Lp--;)Yh[Mu++]=d1}}Xh=1;break n}Xh||(No.a=3),ti=Xh}(ti=ti&&!hc.h)&&(Wh=U(kp,Cp,8,kn,Jc)),ti&&Wh!=0?eu=Wh:(Vh.a=3,eu=0)}if(eu==0)break r;if(Zi&&Bh[lr]==1&&(Zi=Jt[wr].g==0),vl+=Jt[wr].g,wr+=eu,3>=lr){var Ru,Qh=ia[0];for(Ru=1;Ru<Oa;++Ru)ia[Ru]>Qh&&(Qh=ia[Ru]);Fa+=Qh}}if(tr.nd=Zi,tr.Qb=0,Zi&&(tr.qb=(Kr[3][hs[3]+0].value<<24|Kr[1][hs[1]+0].value<<16|Kr[2][hs[2]+0].value)>>>0,vl==0&&256>Kr[0][hs[0]+0].value&&(tr.Qb=1,tr.qb+=Kr[0][hs[0]+0].value<<8)),tr.jc=!tr.Qb&&6>Fa,tr.jc){var g0,_o=tr;for(g0=0;g0<Hc;++g0){var pc=g0,xc=_o.pd[pc],Zh=_o.G[0][_o.H[0]+pc];256<=Zh.value?(xc.g=Zh.g+256,xc.value=Zh.value):(xc.g=0,xc.value=0,pc>>=ra(Zh,8,xc),pc>>=ra(_o.G[1][_o.H[1]+pc],16,xc),pc>>=ra(_o.G[2][_o.H[2]+pc],0,xc),ra(_o.G[3][_o.H[3]+pc],24,xc))}}}Ta.vc=kr,Ta.Wb=Vr,Ta.Ya=Mi,Ta.yc=Da,jt=1;break t}jt=0}if(!(ie=jt)){V.a=3;break e}if(0<Ue){if(we.ua=1<<Ue,!ge(we.Wa,Ue)){V.a=1,ie=0;break e}}else we.ua=0;var Jh=V,Iu=se,h1=fe,Jf=Jh.s,ed=Jf.xc;if(Jh.c=Iu,Jh.i=h1,Jf.md=lt(Iu,ed),Jf.wc=ed==0?-1:(1<<ed)-1,z){V.xb=Kc;break e}if((Ce=i(se*fe))==null){V.a=1,ie=0;break e}ie=(ie=Me(V,Ce,0,se,fe,fe,null))&&!pe.h;break e}return ie?(ee!=null?ee[0]=Ce:(t(Ce==null),t(z)),V.$=0,z||Xe(we)):Xe(we),ie}function ze(_,A){var z=_.c*_.i,V=z+A+16*A;return t(_.c<=A),_.V=i(V),_.V==null?(_.Ta=null,_.Ua=0,_.a=1,0):(_.Ta=_.V,_.Ua=_.Ba+z+A,1)}function ft(_,A){var z=_.C,V=A-z,ee=_.V,ie=_.Ba+_.c*z;for(t(A<=_.l.o);0<V;){var se=16<V?16:V,fe=_.l.ma,pe=_.l.width,we=pe*se,Ce=fe.ca,Ue=fe.tb+pe*z,be=_.Ta,De=_.Ua;Ne(_,se,ee,ie),Vs(be,De,Ce,Ue,we),ye(fe,z,z+se,Ce,Ue,pe),V-=se,ee+=se*_.c,z+=se}t(z==A),_.C=_.Ma=A}function gt(){this.ub=this.yd=this.td=this.Rb=0}function St(){this.Kd=this.Ld=this.Ud=this.Td=this.i=this.c=0}function mt(){this.Fb=this.Bb=this.Cb=0,this.Zb=i(4),this.Lb=i(4)}function Nt(){this.Yb=(function(){var _=[];return(function A(z,V,ee){for(var ie=ee[V],se=0;se<ie&&(z.push(ee.length>V+1?[]:0),!(ee.length<V+1));se++)A(z[se],V+1,ee)})(_,0,[3,11]),_})()}function Lt(){this.jb=i(3),this.Wc=o([4,8],Nt),this.Xc=o([4,17],Nt)}function cn(){this.Pc=this.wb=this.Tb=this.zd=0,this.vd=new i(4),this.od=new i(4)}function Cr(){this.ld=this.La=this.dd=this.tc=0}function hn(){this.Na=this.la=0}function Ki(){this.Sc=[0,0],this.Eb=[0,0],this.Qc=[0,0],this.ia=this.lc=0}function Fl(){this.ad=i(384),this.Za=0,this.Ob=i(16),this.$b=this.Ad=this.ia=this.Gc=this.Hc=this.Dd=0}function Pl(){this.uc=this.M=this.Nb=0,this.wa=Array(new Cr),this.Y=0,this.ya=Array(new Fl),this.aa=0,this.l=new Ua}function Is(){this.y=i(16),this.f=i(8),this.ea=i(8)}function Ic(){this.cb=this.a=0,this.sc="",this.m=new R,this.Od=new gt,this.Kc=new St,this.ed=new cn,this.Qa=new mt,this.Ic=this.$c=this.Aa=0,this.D=new Pl,this.Xb=this.Va=this.Hb=this.zb=this.yb=this.Ub=this.za=0,this.Jc=l(8,R),this.ia=0,this.pb=l(4,Ki),this.Pa=new Lt,this.Bd=this.kc=0,this.Ac=[],this.Bc=0,this.zc=[0,0,0,0],this.Gd=Array(new Is),this.Hd=0,this.rb=Array(new hn),this.sb=0,this.wa=Array(new Cr),this.Y=0,this.oc=[],this.pc=0,this.sa=[],this.ta=0,this.qa=[],this.ra=0,this.Ha=[],this.B=this.R=this.Ia=0,this.Ec=[],this.M=this.ja=this.Vb=this.Fc=0,this.ya=Array(new Fl),this.L=this.aa=0,this.gd=o([4,2],Cr),this.ga=null,this.Fa=[],this.Cc=this.qc=this.P=0,this.Gb=[],this.Uc=0,this.mb=[],this.nb=0,this.rc=[],this.Ga=this.Vc=0}function Ua(){this.T=this.U=this.ka=this.height=this.width=0,this.y=[],this.f=[],this.ea=[],this.Rc=this.fa=this.W=this.N=this.O=0,this.ma="void",this.put="VP8IoPutHook",this.ac="VP8IoSetupHook",this.bc="VP8IoTeardownHook",this.ha=this.Kb=0,this.data=[],this.hb=this.ib=this.da=this.o=this.j=this.va=this.v=this.Da=this.ob=this.w=0,this.F=[],this.J=0}function Pf(){var _=new Ic;return _!=null&&(_.a=0,_.sc="OK",_.cb=0,_.Xb=0,Ws||(Ws=Xo)),_}function mn(_,A,z){return _.a==0&&(_.a=A,_.sc=z,_.cb=0),0}function Gi(_,A,z){return 3<=z&&_[A+0]==157&&_[A+1]==1&&_[A+2]==42}function Gd(_,A){if(_==null)return 0;if(_.a=0,_.sc="OK",A==null)return mn(_,2,"null VP8Io passed to VP8GetHeaders()");var z=A.data,V=A.w,ee=A.ha;if(4>ee)return mn(_,7,"Truncated header.");var ie=z[V+0]|z[V+1]<<8|z[V+2]<<16,se=_.Od;if(se.Rb=!(1&ie),se.td=ie>>1&7,se.yd=ie>>4&1,se.ub=ie>>5,3<se.td)return mn(_,3,"Incorrect keyframe parameters.");if(!se.yd)return mn(_,4,"Frame not displayable.");V+=3,ee-=3;var fe=_.Kc;if(se.Rb){if(7>ee)return mn(_,7,"cannot parse picture header");if(!Gi(z,V,ee))return mn(_,3,"Bad code word");fe.c=16383&(z[V+4]<<8|z[V+3]),fe.Td=z[V+4]>>6,fe.i=16383&(z[V+6]<<8|z[V+5]),fe.Ud=z[V+6]>>6,V+=7,ee-=7,_.za=fe.c+15>>4,_.Ub=fe.i+15>>4,A.width=fe.c,A.height=fe.i,A.Da=0,A.j=0,A.v=0,A.va=A.width,A.o=A.height,A.da=0,A.ib=A.width,A.hb=A.height,A.U=A.width,A.T=A.height,a((ie=_.Pa).jb,0,255,ie.jb.length),t((ie=_.Qa)!=null),ie.Cb=0,ie.Bb=0,ie.Fb=1,a(ie.Zb,0,0,ie.Zb.length),a(ie.Lb,0,0,ie.Lb)}if(se.ub>ee)return mn(_,7,"bad partition length");ne(ie=_.m,z,V,se.ub),V+=se.ub,ee-=se.ub,se.Rb&&(fe.Ld=X(ie),fe.Kd=X(ie)),fe=_.Qa;var pe,we=_.Pa;if(t(ie!=null),t(fe!=null),fe.Cb=X(ie),fe.Cb){if(fe.Bb=X(ie),X(ie)){for(fe.Fb=X(ie),pe=0;4>pe;++pe)fe.Zb[pe]=X(ie)?xe(ie,7):0;for(pe=0;4>pe;++pe)fe.Lb[pe]=X(ie)?xe(ie,6):0}if(fe.Bb)for(pe=0;3>pe;++pe)we.jb[pe]=X(ie)?Z(ie,8):255}else fe.Bb=0;if(ie.Ka)return mn(_,3,"cannot parse segment header");if((fe=_.ed).zd=X(ie),fe.Tb=Z(ie,6),fe.wb=Z(ie,3),fe.Pc=X(ie),fe.Pc&&X(ie)){for(we=0;4>we;++we)X(ie)&&(fe.vd[we]=xe(ie,6));for(we=0;4>we;++we)X(ie)&&(fe.od[we]=xe(ie,6))}if(_.L=fe.Tb==0?0:fe.zd?1:2,ie.Ka)return mn(_,3,"cannot parse filter header");var Ce=ee;if(ee=pe=V,V=pe+Ce,fe=Ce,_.Xb=(1<<Z(_.m,2))-1,Ce<3*(we=_.Xb))z=7;else{for(pe+=3*we,fe-=3*we,Ce=0;Ce<we;++Ce){var Ue=z[ee+0]|z[ee+1]<<8|z[ee+2]<<16;Ue>fe&&(Ue=fe),ne(_.Jc[+Ce],z,pe,Ue),pe+=Ue,fe-=Ue,ee+=3}ne(_.Jc[+we],z,pe,fe),z=pe<V?0:5}if(z!=0)return mn(_,z,"cannot parse partitions");for(z=Z(pe=_.m,7),ee=X(pe)?xe(pe,4):0,V=X(pe)?xe(pe,4):0,fe=X(pe)?xe(pe,4):0,we=X(pe)?xe(pe,4):0,pe=X(pe)?xe(pe,4):0,Ce=_.Qa,Ue=0;4>Ue;++Ue){if(Ce.Cb){var be=Ce.Zb[Ue];Ce.Fb||(be+=z)}else{if(0<Ue){_.pb[Ue]=_.pb[0];continue}be=z}var De=_.pb[Ue];De.Sc[0]=pl[na(be+ee,127)],De.Sc[1]=xl[na(be+0,127)],De.Eb[0]=2*pl[na(be+V,127)],De.Eb[1]=101581*xl[na(be+fe,127)]>>16,8>De.Eb[1]&&(De.Eb[1]=8),De.Qc[0]=pl[na(be+we,117)],De.Qc[1]=xl[na(be+pe,127)],De.lc=be+pe}if(!se.Rb)return mn(_,4,"Not a key frame.");for(X(ie),se=_.Pa,z=0;4>z;++z){for(ee=0;8>ee;++ee)for(V=0;3>V;++V)for(fe=0;11>fe;++fe)we=ve(ie,Ln[z][ee][V][fe])?Z(ie,8):s1[z][ee][V][fe],se.Wc[z][ee].Yb[V][fe]=we;for(ee=0;17>ee;++ee)se.Xc[z][ee]=se.Wc[z][Pr[ee]]}return _.kc=X(ie),_.kc&&(_.Bd=Z(ie,8)),_.cb=1}function Xo(_,A,z,V,ee,ie,se){var fe=A[ee].Yb[z];for(z=0;16>ee;++ee){if(!ve(_,fe[z+0]))return ee;for(;!ve(_,fe[z+1]);)if(fe=A[++ee].Yb[0],z=0,ee==16)return 16;var pe=A[ee+1].Yb;if(ve(_,fe[z+2])){var we=_,Ce=0;if(ve(we,(be=fe)[(Ue=z)+3]))if(ve(we,be[Ue+6])){for(fe=0,Ue=2*(Ce=ve(we,be[Ue+8]))+(be=ve(we,be[Ue+9+Ce])),Ce=0,be=i1[Ue];be[fe];++fe)Ce+=Ce+ve(we,be[fe]);Ce+=3+(8<<Ue)}else ve(we,be[Ue+7])?(Ce=7+2*ve(we,165),Ce+=ve(we,145)):Ce=5+ve(we,159);else Ce=ve(we,be[Ue+4])?3+ve(we,be[Ue+5]):2;fe=pe[2]}else Ce=1,fe=pe[1];pe=se+Sp[ee],0>(we=_).b&&ue(we);var Ue,be=we.b,De=(Ue=we.Ca>>1)-(we.I>>be)>>31;--we.b,we.Ca+=De,we.Ca|=1,we.I-=(Ue+1&De)<<be,ie[pe]=((Ce^De)-De)*V[(0<ee)+0]}return 16}function Qo(_){var A=_.rb[_.sb-1];A.la=0,A.Na=0,a(_.zc,0,0,_.zc.length),_.ja=0}function ll(_,A,z,V,ee){ee=_[A+z+32*V]+(ee>>3),_[A+z+32*V]=-256&ee?0>ee?0:255:ee}function oo(_,A,z,V,ee,ie){ll(_,A,0,z,V+ee),ll(_,A,1,z,V+ie),ll(_,A,2,z,V-ie),ll(_,A,3,z,V-ee)}function xa(_){return(20091*_>>16)+_}function Oi(_,A,z,V){var ee,ie=0,se=i(16);for(ee=0;4>ee;++ee){var fe=_[A+0]+_[A+8],pe=_[A+0]-_[A+8],we=(35468*_[A+4]>>16)-xa(_[A+12]),Ce=xa(_[A+4])+(35468*_[A+12]>>16);se[ie+0]=fe+Ce,se[ie+1]=pe+we,se[ie+2]=pe-we,se[ie+3]=fe-Ce,ie+=4,A++}for(ee=ie=0;4>ee;++ee)fe=(_=se[ie+0]+4)+se[ie+8],pe=_-se[ie+8],we=(35468*se[ie+4]>>16)-xa(se[ie+12]),ll(z,V,0,0,fe+(Ce=xa(se[ie+4])+(35468*se[ie+12]>>16))),ll(z,V,1,0,pe+we),ll(z,V,2,0,pe-we),ll(z,V,3,0,fe-Ce),ie++,V+=32}function Yd(_,A,z,V){var ee=_[A+0]+4,ie=35468*_[A+4]>>16,se=xa(_[A+4]),fe=35468*_[A+1]>>16;oo(z,V,0,ee+se,_=xa(_[A+1]),fe),oo(z,V,1,ee+ie,_,fe),oo(z,V,2,ee-ie,_,fe),oo(z,V,3,ee-se,_,fe)}function _h(_,A,z,V,ee){Oi(_,A,z,V),ee&&Oi(_,A+16,z,V+4)}function Xd(_,A,z,V){uc(_,A+0,z,V,1),uc(_,A+32,z,V+128,1)}function Yi(_,A,z,V){var ee;for(_=_[A+0]+4,ee=0;4>ee;++ee)for(A=0;4>A;++A)ll(z,V,A,ee,_)}function Qd(_,A,z,V){_[A+0]&&Xr(_,A+0,z,V),_[A+16]&&Xr(_,A+16,z,V+4),_[A+32]&&Xr(_,A+32,z,V+128),_[A+48]&&Xr(_,A+48,z,V+128+4)}function Zd(_,A,z,V){var ee,ie=i(16);for(ee=0;4>ee;++ee){var se=_[A+0+ee]+_[A+12+ee],fe=_[A+4+ee]+_[A+8+ee],pe=_[A+4+ee]-_[A+8+ee],we=_[A+0+ee]-_[A+12+ee];ie[0+ee]=se+fe,ie[8+ee]=se-fe,ie[4+ee]=we+pe,ie[12+ee]=we-pe}for(ee=0;4>ee;++ee)se=(_=ie[0+4*ee]+3)+ie[3+4*ee],fe=ie[1+4*ee]+ie[2+4*ee],pe=ie[1+4*ee]-ie[2+4*ee],we=_-ie[3+4*ee],z[V+0]=se+fe>>3,z[V+16]=we+pe>>3,z[V+32]=se-fe>>3,z[V+48]=we-pe>>3,V+=64}function Bs(_,A,z){var V,ee=A-32,ie=Fi,se=255-_[ee-1];for(V=0;V<z;++V){var fe,pe=ie,we=se+_[A-1];for(fe=0;fe<z;++fe)_[A+fe]=pe[we+_[ee+fe]];A+=32}}function Jd(_,A){Bs(_,A,4)}function jh(_,A){Bs(_,A,8)}function Sh(_,A){Bs(_,A,16)}function e0(_,A){var z;for(z=0;16>z;++z)n(_,A+32*z,_,A-32,16)}function t0(_,A){var z;for(z=16;0<z;--z)a(_,A,_[A-1],16),A+=32}function bu(_,A,z){var V;for(V=0;16>V;++V)a(A,z+32*V,_,16)}function Ll(_,A){var z,V=16;for(z=0;16>z;++z)V+=_[A-1+32*z]+_[A+z-32];bu(V>>5,_,A)}function Ml(_,A){var z,V=8;for(z=0;16>z;++z)V+=_[A-1+32*z];bu(V>>4,_,A)}function Zo(_,A){var z,V=8;for(z=0;16>z;++z)V+=_[A+z-32];bu(V>>4,_,A)}function wu(_,A){bu(128,_,A)}function sr(_,A,z){return _+2*A+z+2>>2}function Bc(_,A){var z,V=A-32;for(V=new Uint8Array([sr(_[V-1],_[V+0],_[V+1]),sr(_[V+0],_[V+1],_[V+2]),sr(_[V+1],_[V+2],_[V+3]),sr(_[V+2],_[V+3],_[V+4])]),z=0;4>z;++z)n(_,A+32*z,V,0,V.length)}function Ah(_,A){var z=_[A-1],V=_[A-1+32],ee=_[A-1+64],ie=_[A-1+96];Te(_,A+0,16843009*sr(_[A-1-32],z,V)),Te(_,A+32,16843009*sr(z,V,ee)),Te(_,A+64,16843009*sr(V,ee,ie)),Te(_,A+96,16843009*sr(ee,ie,ie))}function r0(_,A){var z,V=4;for(z=0;4>z;++z)V+=_[A+z-32]+_[A-1+32*z];for(V>>=3,z=0;4>z;++z)a(_,A+32*z,V,4)}function Eh(_,A){var z=_[A-1+0],V=_[A-1+32],ee=_[A-1+64],ie=_[A-1-32],se=_[A+0-32],fe=_[A+1-32],pe=_[A+2-32],we=_[A+3-32];_[A+0+96]=sr(V,ee,_[A-1+96]),_[A+1+96]=_[A+0+64]=sr(z,V,ee),_[A+2+96]=_[A+1+64]=_[A+0+32]=sr(ie,z,V),_[A+3+96]=_[A+2+64]=_[A+1+32]=_[A+0+0]=sr(se,ie,z),_[A+3+64]=_[A+2+32]=_[A+1+0]=sr(fe,se,ie),_[A+3+32]=_[A+2+0]=sr(pe,fe,se),_[A+3+0]=sr(we,pe,fe)}function Us(_,A){var z=_[A+1-32],V=_[A+2-32],ee=_[A+3-32],ie=_[A+4-32],se=_[A+5-32],fe=_[A+6-32],pe=_[A+7-32];_[A+0+0]=sr(_[A+0-32],z,V),_[A+1+0]=_[A+0+32]=sr(z,V,ee),_[A+2+0]=_[A+1+32]=_[A+0+64]=sr(V,ee,ie),_[A+3+0]=_[A+2+32]=_[A+1+64]=_[A+0+96]=sr(ee,ie,se),_[A+3+32]=_[A+2+64]=_[A+1+96]=sr(ie,se,fe),_[A+3+64]=_[A+2+96]=sr(se,fe,pe),_[A+3+96]=sr(fe,pe,pe)}function fi(_,A){var z=_[A-1+0],V=_[A-1+32],ee=_[A-1+64],ie=_[A-1-32],se=_[A+0-32],fe=_[A+1-32],pe=_[A+2-32],we=_[A+3-32];_[A+0+0]=_[A+1+64]=ie+se+1>>1,_[A+1+0]=_[A+2+64]=se+fe+1>>1,_[A+2+0]=_[A+3+64]=fe+pe+1>>1,_[A+3+0]=pe+we+1>>1,_[A+0+96]=sr(ee,V,z),_[A+0+64]=sr(V,z,ie),_[A+0+32]=_[A+1+96]=sr(z,ie,se),_[A+1+32]=_[A+2+96]=sr(ie,se,fe),_[A+2+32]=_[A+3+96]=sr(se,fe,pe),_[A+3+32]=sr(fe,pe,we)}function n0(_,A){var z=_[A+0-32],V=_[A+1-32],ee=_[A+2-32],ie=_[A+3-32],se=_[A+4-32],fe=_[A+5-32],pe=_[A+6-32],we=_[A+7-32];_[A+0+0]=z+V+1>>1,_[A+1+0]=_[A+0+64]=V+ee+1>>1,_[A+2+0]=_[A+1+64]=ee+ie+1>>1,_[A+3+0]=_[A+2+64]=ie+se+1>>1,_[A+0+32]=sr(z,V,ee),_[A+1+32]=_[A+0+96]=sr(V,ee,ie),_[A+2+32]=_[A+1+96]=sr(ee,ie,se),_[A+3+32]=_[A+2+96]=sr(ie,se,fe),_[A+3+64]=sr(se,fe,pe),_[A+3+96]=sr(fe,pe,we)}function Nu(_,A){var z=_[A-1+0],V=_[A-1+32],ee=_[A-1+64],ie=_[A-1+96];_[A+0+0]=z+V+1>>1,_[A+2+0]=_[A+0+32]=V+ee+1>>1,_[A+2+32]=_[A+0+64]=ee+ie+1>>1,_[A+1+0]=sr(z,V,ee),_[A+3+0]=_[A+1+32]=sr(V,ee,ie),_[A+3+32]=_[A+1+64]=sr(ee,ie,ie),_[A+3+64]=_[A+2+64]=_[A+0+96]=_[A+1+96]=_[A+2+96]=_[A+3+96]=ie}function zs(_,A){var z=_[A-1+0],V=_[A-1+32],ee=_[A-1+64],ie=_[A-1+96],se=_[A-1-32],fe=_[A+0-32],pe=_[A+1-32],we=_[A+2-32];_[A+0+0]=_[A+2+32]=z+se+1>>1,_[A+0+32]=_[A+2+64]=V+z+1>>1,_[A+0+64]=_[A+2+96]=ee+V+1>>1,_[A+0+96]=ie+ee+1>>1,_[A+3+0]=sr(fe,pe,we),_[A+2+0]=sr(se,fe,pe),_[A+1+0]=_[A+3+32]=sr(z,se,fe),_[A+1+32]=_[A+3+64]=sr(V,z,se),_[A+1+64]=_[A+3+96]=sr(ee,V,z),_[A+1+96]=sr(ie,ee,V)}function _u(_,A){var z;for(z=0;8>z;++z)n(_,A+32*z,_,A-32,8)}function co(_,A){var z;for(z=0;8>z;++z)a(_,A,_[A-1],8),A+=32}function ju(_,A,z){var V;for(V=0;8>V;++V)a(A,z+32*V,_,8)}function Jo(_,A){var z,V=8;for(z=0;8>z;++z)V+=_[A+z-32]+_[A-1+32*z];ju(V>>4,_,A)}function Lf(_,A){var z,V=4;for(z=0;8>z;++z)V+=_[A+z-32];ju(V>>3,_,A)}function Mf(_,A){var z,V=4;for(z=0;8>z;++z)V+=_[A-1+32*z];ju(V>>3,_,A)}function ei(_,A){ju(128,_,A)}function qs(_,A,z){var V=_[A-z],ee=_[A+0],ie=3*(ee-V)+fc[1020+_[A-2*z]-_[A+z]],se=u0[112+(ie+4>>3)];_[A-z]=Fi[255+V+u0[112+(ie+3>>3)]],_[A+0]=Fi[255+ee-se]}function uo(_,A,z,V){var ee=_[A+0],ie=_[A+z];return pi[255+_[A-2*z]-_[A-z]]>V||pi[255+ie-ee]>V}function ec(_,A,z,V){return 4*pi[255+_[A-z]-_[A+0]]+pi[255+_[A-2*z]-_[A+z]]<=V}function Rf(_,A,z,V,ee){var ie=_[A-3*z],se=_[A-2*z],fe=_[A-z],pe=_[A+0],we=_[A+z],Ce=_[A+2*z],Ue=_[A+3*z];return 4*pi[255+fe-pe]+pi[255+se-we]>V?0:pi[255+_[A-4*z]-ie]<=ee&&pi[255+ie-se]<=ee&&pi[255+se-fe]<=ee&&pi[255+Ue-Ce]<=ee&&pi[255+Ce-we]<=ee&&pi[255+we-pe]<=ee}function Su(_,A,z,V){var ee=2*V+1;for(V=0;16>V;++V)ec(_,A+V,z,ee)&&qs(_,A+V,z)}function tc(_,A,z,V){var ee=2*V+1;for(V=0;16>V;++V)ec(_,A+V*z,1,ee)&&qs(_,A+V*z,1)}function Uc(_,A,z,V){var ee;for(ee=3;0<ee;--ee)Su(_,A+=4*z,z,V)}function Au(_,A,z,V){var ee;for(ee=3;0<ee;--ee)tc(_,A+=4,z,V)}function fo(_,A,z,V,ee,ie,se,fe){for(ie=2*ie+1;0<ee--;){if(Rf(_,A,z,ie,se))if(uo(_,A,z,fe))qs(_,A,z);else{var pe=_,we=A,Ce=z,Ue=pe[we-2*Ce],be=pe[we-Ce],De=pe[we+0],Le=pe[we+Ce],et=pe[we+2*Ce],Re=27*(at=fc[1020+3*(De-be)+fc[1020+Ue-Le]])+63>>7,Je=18*at+63>>7,at=9*at+63>>7;pe[we-3*Ce]=Fi[255+pe[we-3*Ce]+at],pe[we-2*Ce]=Fi[255+Ue+Je],pe[we-Ce]=Fi[255+be+Re],pe[we+0]=Fi[255+De-Re],pe[we+Ce]=Fi[255+Le-Je],pe[we+2*Ce]=Fi[255+et-at]}A+=V}}function rc(_,A,z,V,ee,ie,se,fe){for(ie=2*ie+1;0<ee--;){if(Rf(_,A,z,ie,se))if(uo(_,A,z,fe))qs(_,A,z);else{var pe=_,we=A,Ce=z,Ue=pe[we-Ce],be=pe[we+0],De=pe[we+Ce],Le=u0[112+(4+(et=3*(be-Ue))>>3)],et=u0[112+(et+3>>3)],Re=Le+1>>1;pe[we-2*Ce]=Fi[255+pe[we-2*Ce]+Re],pe[we-Ce]=Fi[255+Ue+et],pe[we+0]=Fi[255+be-Le],pe[we+Ce]=Fi[255+De-Re]}A+=V}}function kh(_,A,z,V,ee,ie){fo(_,A,z,1,16,V,ee,ie)}function Ch(_,A,z,V,ee,ie){fo(_,A,1,z,16,V,ee,ie)}function nc(_,A,z,V,ee,ie){var se;for(se=3;0<se;--se)rc(_,A+=4*z,z,1,16,V,ee,ie)}function Th(_,A,z,V,ee,ie){var se;for(se=3;0<se;--se)rc(_,A+=4,1,z,16,V,ee,ie)}function I(_,A,z,V,ee,ie,se,fe){fo(_,A,ee,1,8,ie,se,fe),fo(z,V,ee,1,8,ie,se,fe)}function J(_,A,z,V,ee,ie,se,fe){fo(_,A,1,ee,8,ie,se,fe),fo(z,V,1,ee,8,ie,se,fe)}function _e(_,A,z,V,ee,ie,se,fe){rc(_,A+4*ee,ee,1,8,ie,se,fe),rc(z,V+4*ee,ee,1,8,ie,se,fe)}function ke(_,A,z,V,ee,ie,se,fe){rc(_,A+4,1,ee,8,ie,se,fe),rc(z,V+4,1,ee,8,ie,se,fe)}function Fe(){this.ba=new Hr,this.ec=[],this.cc=[],this.Mc=[],this.Dc=this.Nc=this.dc=this.fc=0,this.Oa=new Fr,this.memory=0,this.Ib="OutputFunc",this.Jb="OutputAlphaFunc",this.Nd="OutputRowFunc"}function nt(){this.data=[],this.offset=this.kd=this.ha=this.w=0,this.na=[],this.xa=this.gb=this.Ja=this.Sa=this.P=0}function ct(){this.nc=this.Ea=this.b=this.hc=0,this.K=[],this.w=0}function Bt(){this.ua=0,this.Wa=new Ze,this.vb=new Ze,this.md=this.xc=this.wc=0,this.vc=[],this.Wb=0,this.Ya=new de,this.yc=new G}function Vt(){this.xb=this.a=0,this.l=new Ua,this.ca=new Hr,this.V=[],this.Ba=0,this.Ta=[],this.Ua=0,this.m=new F,this.Pb=0,this.wd=new F,this.Ma=this.$=this.C=this.i=this.c=this.xd=0,this.s=new Bt,this.ab=0,this.gc=l(4,ct),this.Oc=0}function cr(){this.Lc=this.Z=this.$a=this.i=this.c=0,this.l=new Ua,this.ic=0,this.ca=[],this.tb=0,this.qd=null,this.rd=0}function xr(_,A,z,V,ee,ie,se){for(_=_==null?0:_[A+0],A=0;A<se;++A)ee[ie+A]=_+z[V+A]&255,_=ee[ie+A]}function Yr(_,A,z,V,ee,ie,se){var fe;if(_==null)xr(null,null,z,V,ee,ie,se);else for(fe=0;fe<se;++fe)ee[ie+fe]=_[A+fe]+z[V+fe]&255}function Vn(_,A,z,V,ee,ie,se){if(_==null)xr(null,null,z,V,ee,ie,se);else{var fe,pe=_[A+0],we=pe,Ce=pe;for(fe=0;fe<se;++fe)we=Ce+(pe=_[A+fe])-we,Ce=z[V+fe]+(-256&we?0>we?0:255:we)&255,we=pe,ee[ie+fe]=Ce}}function ga(_,A,z,V){var ee=A.width,ie=A.o;if(t(_!=null&&A!=null),0>z||0>=V||z+V>ie)return null;if(!_.Cc){if(_.ga==null){var se;if(_.ga=new cr,(se=_.ga==null)||(se=A.width*A.o,t(_.Gb.length==0),_.Gb=i(se),_.Uc=0,_.Gb==null?se=0:(_.mb=_.Gb,_.nb=_.Uc,_.rc=null,se=1),se=!se),!se){se=_.ga;var fe=_.Fa,pe=_.P,we=_.qc,Ce=_.mb,Ue=_.nb,be=pe+1,De=we-1,Le=se.l;if(t(fe!=null&&Ce!=null&&A!=null),dc[0]=null,dc[1]=xr,dc[2]=Yr,dc[3]=Vn,se.ca=Ce,se.tb=Ue,se.c=A.width,se.i=A.height,t(0<se.c&&0<se.i),1>=we)A=0;else if(se.$a=3&fe[pe+0],se.Z=fe[pe+0]>>2&3,se.Lc=fe[pe+0]>>4&3,pe=fe[pe+0]>>6&3,0>se.$a||1<se.$a||4<=se.Z||1<se.Lc||pe)A=0;else if(Le.put=Xt,Le.ac=us,Le.bc=Dl,Le.ma=se,Le.width=A.width,Le.height=A.height,Le.Da=A.Da,Le.v=A.v,Le.va=A.va,Le.j=A.j,Le.o=A.o,se.$a)e:{t(se.$a==1),A=Ie();t:for(;;){if(A==null){A=0;break e}if(t(se!=null),se.mc=A,A.c=se.c,A.i=se.i,A.l=se.l,A.l.ma=se,A.l.width=se.c,A.l.height=se.i,A.a=0,le(A.m,fe,be,De),!Be(se.c,se.i,1,A,null)||(A.ab==1&&A.gc[0].hc==3&&me(A.s)?(se.ic=1,fe=A.c*A.i,A.Ta=null,A.Ua=0,A.V=i(fe),A.Ba=0,A.V==null?(A.a=1,A=0):A=1):(se.ic=0,A=ze(A,se.c)),!A))break t;A=1;break e}se.mc=null,A=0}else A=De>=se.c*se.i;se=!A}if(se)return null;_.ga.Lc!=1?_.Ga=0:V=ie-z}t(_.ga!=null),t(z+V<=ie);e:{if(A=(fe=_.ga).c,ie=fe.l.o,fe.$a==0){if(be=_.rc,De=_.Vc,Le=_.Fa,pe=_.P+1+z*A,we=_.mb,Ce=_.nb+z*A,t(pe<=_.P+_.qc),fe.Z!=0)for(t(dc[fe.Z]!=null),se=0;se<V;++se)dc[fe.Z](be,De,Le,pe,we,Ce,A),be=we,De=Ce,Ce+=A,pe+=A;else for(se=0;se<V;++se)n(we,Ce,Le,pe,A),be=we,De=Ce,Ce+=A,pe+=A;_.rc=be,_.Vc=De}else{if(t(fe.mc!=null),A=z+V,t((se=fe.mc)!=null),t(A<=se.i),se.C>=A)A=1;else if(fe.ic||ol(),fe.ic){fe=se.V,be=se.Ba,De=se.c;var et=se.i,Re=(Le=1,pe=se.$/De,we=se.$%De,Ce=se.m,Ue=se.s,se.$),Je=De*et,at=De*A,ht=Ue.wc,ot=Re<at?ae(Ue,we,pe):null;t(Re<=Je),t(A<=et),t(me(Ue));t:for(;;){for(;!Ce.h&&Re<at;){if(we&ht||(ot=ae(Ue,we,pe)),t(ot!=null),oe(Ce),256>(et=jn(ot.G[0],ot.H[0],Ce)))fe[be+Re]=et,++Re,++we>=De&&(we=0,++pe<=A&&!(pe%16)&&je(se,pe));else{if(!(280>et)){Le=0;break t}et=ui(et-256,Ce);var qt,Tt=jn(ot.G[4],ot.H[4],Ce);if(oe(Ce),!(Re>=(Tt=Wi(De,Tt=ui(Tt,Ce)))&&Je-Re>=et)){Le=0;break t}for(qt=0;qt<et;++qt)fe[be+Re+qt]=fe[be+Re+qt-Tt];for(Re+=et,we+=et;we>=De;)we-=De,++pe<=A&&!(pe%16)&&je(se,pe);Re<at&&we&ht&&(ot=ae(Ue,we,pe))}t(Ce.h==W(Ce))}je(se,pe>A?A:pe);break t}!Le||Ce.h&&Re<Je?(Le=0,se.a=Ce.h?5:3):se.$=Re,A=Le}else A=Me(se,se.V,se.Ba,se.c,se.i,A,ft);if(!A){V=0;break e}}z+V>=ie&&(_.Cc=1),V=1}if(!V)return null;if(_.Cc&&((V=_.ga)!=null&&(V.mc=null),_.ga=null,0<_.Ga))return alert("todo:WebPDequantizeLevels"),null}return _.nb+z*ee}function Sn(_,A,z,V,ee,ie){for(;0<ee--;){var se,fe=_,pe=A+(z?1:0),we=_,Ce=A+(z?0:3);for(se=0;se<V;++se){var Ue=we[Ce+4*se];Ue!=255&&(Ue*=32897,fe[pe+4*se+0]=fe[pe+4*se+0]*Ue>>23,fe[pe+4*se+1]=fe[pe+4*se+1]*Ue>>23,fe[pe+4*se+2]=fe[pe+4*se+2]*Ue>>23)}A+=ie}}function za(_,A,z,V,ee){for(;0<V--;){var ie;for(ie=0;ie<z;++ie){var se=_[A+2*ie+0],fe=15&(we=_[A+2*ie+1]),pe=4369*fe,we=(240&we|we>>4)*pe>>16;_[A+2*ie+0]=(240&se|se>>4)*pe>>16&240|(15&se|se<<4)*pe>>16>>4&15,_[A+2*ie+1]=240&we|fe}A+=ee}}function ka(_,A,z,V,ee,ie,se,fe){var pe,we,Ce=255;for(we=0;we<ee;++we){for(pe=0;pe<V;++pe){var Ue=_[A+pe];ie[se+4*pe]=Ue,Ce&=Ue}A+=z,se+=fe}return Ce!=255}function di(_,A,z,V,ee){var ie;for(ie=0;ie<ee;++ie)z[V+ie]=_[A+ie]>>8}function ol(){Ou=Sn,ul=za,l0=ka,Vs=di}function fs(_,A,z){B[_]=function(V,ee,ie,se,fe,pe,we,Ce,Ue,be,De,Le,et,Re,Je,at,ht){var ot,qt=ht-1>>1,Tt=fe[pe+0]|we[Ce+0]<<16,mr=Ue[be+0]|De[Le+0]<<16;t(V!=null);var Rt=3*Tt+mr+131074>>2;for(A(V[ee+0],255&Rt,Rt>>16,et,Re),ie!=null&&(Rt=3*mr+Tt+131074>>2,A(ie[se+0],255&Rt,Rt>>16,Je,at)),ot=1;ot<=qt;++ot){var Or=fe[pe+ot]|we[Ce+ot]<<16,Mn=Ue[be+ot]|De[Le+ot]<<16,gr=Tt+Or+mr+Mn+524296,Ot=gr+2*(Or+mr)>>3;Rt=Ot+Tt>>1,Tt=(gr=gr+2*(Tt+Mn)>>3)+Or>>1,A(V[ee+2*ot-1],255&Rt,Rt>>16,et,Re+(2*ot-1)*z),A(V[ee+2*ot-0],255&Tt,Tt>>16,et,Re+(2*ot-0)*z),ie!=null&&(Rt=gr+mr>>1,Tt=Ot+Mn>>1,A(ie[se+2*ot-1],255&Rt,Rt>>16,Je,at+(2*ot-1)*z),A(ie[se+2*ot+0],255&Tt,Tt>>16,Je,at+(2*ot+0)*z)),Tt=Or,mr=Mn}1&ht||(Rt=3*Tt+mr+131074>>2,A(V[ee+ht-1],255&Rt,Rt>>16,et,Re+(ht-1)*z),ie!=null&&(Rt=3*mr+Tt+131074>>2,A(ie[se+ht-1],255&Rt,Rt>>16,Je,at+(ht-1)*z)))}}function Oh(){gi[Lh]=Pu,gi[Pi]=Gf,gi[Mh]=Ep,gi[fl]=zh,gi[f0]=Gc,gi[Vf]=wo,gi[Vc]=Yc,gi[d0]=Gf,gi[Rh]=zh,gi[Wf]=Gc,gi[Ih]=wo}function If(_){return _&-16384?0>_?0:255:_>>qh}function Eu(_,A){return If((19077*_>>8)+(26149*A>>8)-14234)}function ho(_,A,z){return If((19077*_>>8)-(6419*A>>8)-(13320*z>>8)+8708)}function Rl(_,A){return If((19077*_>>8)+(33050*A>>8)-17685)}function ku(_,A,z,V,ee){V[ee+0]=Eu(_,z),V[ee+1]=ho(_,A,z),V[ee+2]=Rl(_,A)}function zc(_,A,z,V,ee){V[ee+0]=Rl(_,A),V[ee+1]=ho(_,A,z),V[ee+2]=Eu(_,z)}function hi(_,A,z,V,ee){var ie=ho(_,A,z);A=ie<<3&224|Rl(_,A)>>3,V[ee+0]=248&Eu(_,z)|ie>>5,V[ee+1]=A}function qc(_,A,z,V,ee){var ie=240&Rl(_,A)|15;V[ee+0]=240&Eu(_,z)|ho(_,A,z)>>4,V[ee+1]=ie}function $c(_,A,z,V,ee){V[ee+0]=255,ku(_,A,z,V,ee+1)}function Bf(_,A,z,V,ee){zc(_,A,z,V,ee),V[ee+3]=255}function mo(_,A,z,V,ee){ku(_,A,z,V,ee),V[ee+3]=255}function na(_,A){return 0>_?0:_>A?A:_}function ac(_,A,z){B[_]=function(V,ee,ie,se,fe,pe,we,Ce,Ue){for(var be=Ce+(-2&Ue)*z;Ce!=be;)A(V[ee+0],ie[se+0],fe[pe+0],we,Ce),A(V[ee+1],ie[se+0],fe[pe+0],we,Ce+z),ee+=2,++se,++pe,Ce+=2*z;1&Ue&&A(V[ee+0],ie[se+0],fe[pe+0],we,Ce)}}function Uf(_,A,z){return z==0?_==0?A==0?6:5:A==0?4:0:z}function a0(_,A,z,V,ee){switch(_>>>30){case 3:uc(A,z,V,ee,0);break;case 2:Di(A,z,V,ee);break;case 1:Xr(A,z,V,ee)}}function $s(_,A){var z,V,ee=A.M,ie=A.Nb,se=_.oc,fe=_.pc+40,pe=_.oc,we=_.pc+584,Ce=_.oc,Ue=_.pc+600;for(z=0;16>z;++z)se[fe+32*z-1]=129;for(z=0;8>z;++z)pe[we+32*z-1]=129,Ce[Ue+32*z-1]=129;for(0<ee?se[fe-1-32]=pe[we-1-32]=Ce[Ue-1-32]=129:(a(se,fe-32-1,127,21),a(pe,we-32-1,127,9),a(Ce,Ue-32-1,127,9)),V=0;V<_.za;++V){var be=A.ya[A.aa+V];if(0<V){for(z=-1;16>z;++z)n(se,fe+32*z-4,se,fe+32*z+12,4);for(z=-1;8>z;++z)n(pe,we+32*z-4,pe,we+32*z+4,4),n(Ce,Ue+32*z-4,Ce,Ue+32*z+4,4)}var De=_.Gd,Le=_.Hd+V,et=be.ad,Re=be.Hc;if(0<ee&&(n(se,fe-32,De[Le].y,0,16),n(pe,we-32,De[Le].f,0,8),n(Ce,Ue-32,De[Le].ea,0,8)),be.Za){var Je=se,at=fe-32+16;for(0<ee&&(V>=_.za-1?a(Je,at,De[Le].y[15],4):n(Je,at,De[Le+1].y,0,4)),z=0;4>z;z++)Je[at+128+z]=Je[at+256+z]=Je[at+384+z]=Je[at+0+z];for(z=0;16>z;++z,Re<<=2)Je=se,at=fe+ba[z],aa[be.Ob[z]](Je,at),a0(Re,et,16*+z,Je,at)}else if(Je=Uf(V,ee,be.Ob[0]),Qi[Je](se,fe),Re!=0)for(z=0;16>z;++z,Re<<=2)a0(Re,et,16*+z,se,fe+ba[z]);for(z=be.Gc,Je=Uf(V,ee,be.Dd),zl[Je](pe,we),zl[Je](Ce,Ue),Re=et,Je=pe,at=we,255&(be=0|z)&&(170&be?cl(Re,256,Je,at):qr(Re,256,Je,at)),be=Ce,Re=Ue,255&(z>>=8)&&(170&z?cl(et,320,be,Re):qr(et,320,be,Re)),ee<_.Ub-1&&(n(De[Le].y,0,se,fe+480,16),n(De[Le].f,0,pe,we+224,8),n(De[Le].ea,0,Ce,Ue+224,8)),z=8*ie*_.B,De=_.sa,Le=_.ta+16*V+16*ie*_.R,et=_.qa,be=_.ra+8*V+z,Re=_.Ha,Je=_.Ia+8*V+z,z=0;16>z;++z)n(De,Le+z*_.R,se,fe+32*z,16);for(z=0;8>z;++z)n(et,be+z*_.B,pe,we+32*z,8),n(Re,Je+z*_.B,Ce,Ue+32*z,8)}}function Il(_,A,z,V,ee,ie,se,fe,pe){var we=[0],Ce=[0],Ue=0,be=pe!=null?pe.kd:0,De=pe??new nt;if(_==null||12>z)return 7;De.data=_,De.w=A,De.ha=z,A=[A],z=[z],De.gb=[De.gb];e:{var Le=A,et=z,Re=De.gb;if(t(_!=null),t(et!=null),t(Re!=null),Re[0]=0,12<=et[0]&&!r(_,Le[0],"RIFF")){if(r(_,Le[0]+8,"WEBP")){Re=3;break e}var Je=Ee(_,Le[0]+4);if(12>Je||4294967286<Je){Re=3;break e}if(be&&Je>et[0]-8){Re=7;break e}Re[0]=Je,Le[0]+=12,et[0]-=12}Re=0}if(Re!=0)return Re;for(Je=0<De.gb[0],z=z[0];;){e:{var at=_;et=A,Re=z;var ht=we,ot=Ce,qt=Le=[0];if((Rt=Ue=[Ue])[0]=0,8>Re[0])Re=7;else{if(!r(at,et[0],"VP8X")){if(Ee(at,et[0]+4)!=10){Re=3;break e}if(18>Re[0]){Re=7;break e}var Tt=Ee(at,et[0]+8),mr=1+We(at,et[0]+12);if(2147483648<=mr*(at=1+We(at,et[0]+15))){Re=3;break e}qt!=null&&(qt[0]=Tt),ht!=null&&(ht[0]=mr),ot!=null&&(ot[0]=at),et[0]+=18,Re[0]-=18,Rt[0]=1}Re=0}}if(Ue=Ue[0],Le=Le[0],Re!=0)return Re;if(et=!!(2&Le),!Je&&Ue)return 3;if(ie!=null&&(ie[0]=!!(16&Le)),se!=null&&(se[0]=et),fe!=null&&(fe[0]=0),se=we[0],Le=Ce[0],Ue&&et&&pe==null){Re=0;break}if(4>z){Re=7;break}if(Je&&Ue||!Je&&!Ue&&!r(_,A[0],"ALPH")){z=[z],De.na=[De.na],De.P=[De.P],De.Sa=[De.Sa];e:{Tt=_,Re=A,Je=z;var Rt=De.gb;ht=De.na,ot=De.P,qt=De.Sa,mr=22,t(Tt!=null),t(Je!=null),at=Re[0];var Or=Je[0];for(t(ht!=null),t(qt!=null),ht[0]=null,ot[0]=null,qt[0]=0;;){if(Re[0]=at,Je[0]=Or,8>Or){Re=7;break e}var Mn=Ee(Tt,at+4);if(4294967286<Mn){Re=3;break e}var gr=8+Mn+1&-2;if(mr+=gr,0<Rt&&mr>Rt){Re=3;break e}if(!r(Tt,at,"VP8 ")||!r(Tt,at,"VP8L")){Re=0;break e}if(Or[0]<gr){Re=7;break e}r(Tt,at,"ALPH")||(ht[0]=Tt,ot[0]=at+8,qt[0]=Mn),at+=gr,Or-=gr}}if(z=z[0],De.na=De.na[0],De.P=De.P[0],De.Sa=De.Sa[0],Re!=0)break}z=[z],De.Ja=[De.Ja],De.xa=[De.xa];e:if(Rt=_,Re=A,Je=z,ht=De.gb[0],ot=De.Ja,qt=De.xa,Tt=Re[0],at=!r(Rt,Tt,"VP8 "),mr=!r(Rt,Tt,"VP8L"),t(Rt!=null),t(Je!=null),t(ot!=null),t(qt!=null),8>Je[0])Re=7;else{if(at||mr){if(Rt=Ee(Rt,Tt+4),12<=ht&&Rt>ht-12){Re=3;break e}if(be&&Rt>Je[0]-8){Re=7;break e}ot[0]=Rt,Re[0]+=8,Je[0]-=8,qt[0]=mr}else qt[0]=5<=Je[0]&&Rt[Tt+0]==47&&!(Rt[Tt+4]>>5),ot[0]=Je[0];Re=0}if(z=z[0],De.Ja=De.Ja[0],De.xa=De.xa[0],A=A[0],Re!=0)break;if(4294967286<De.Ja)return 3;if(fe==null||et||(fe[0]=De.xa?2:1),se=[se],Le=[Le],De.xa){if(5>z){Re=7;break}fe=se,be=Le,et=ie,_==null||5>z?_=0:5<=z&&_[A+0]==47&&!(_[A+4]>>5)?(Je=[0],Rt=[0],ht=[0],le(ot=new F,_,A,z),sl(ot,Je,Rt,ht)?(fe!=null&&(fe[0]=Je[0]),be!=null&&(be[0]=Rt[0]),et!=null&&(et[0]=ht[0]),_=1):_=0):_=0}else{if(10>z){Re=7;break}fe=Le,_==null||10>z||!Gi(_,A+3,z-3)?_=0:(be=_[A+0]|_[A+1]<<8|_[A+2]<<16,et=16383&(_[A+7]<<8|_[A+6]),_=16383&(_[A+9]<<8|_[A+8]),1&be||3<(be>>1&7)||!(be>>4&1)||be>>5>=De.Ja||!et||!_?_=0:(se&&(se[0]=et),fe&&(fe[0]=_),_=1))}if(!_||(se=se[0],Le=Le[0],Ue&&(we[0]!=se||Ce[0]!=Le)))return 3;pe!=null&&(pe[0]=De,pe.offset=A-pe.w,t(4294967286>A-pe.w),t(pe.offset==pe.ha-z));break}return Re==0||Re==7&&Ue&&pe==null?(ie!=null&&(ie[0]|=De.na!=null&&0<De.na.length),V!=null&&(V[0]=se),ee!=null&&(ee[0]=Le),0):Re}function ic(_,A,z){var V=A.width,ee=A.height,ie=0,se=0,fe=V,pe=ee;if(A.Da=_!=null&&0<_.Da,A.Da&&(fe=_.cd,pe=_.bd,ie=_.v,se=_.j,11>z||(ie&=-2,se&=-2),0>ie||0>se||0>=fe||0>=pe||ie+fe>V||se+pe>ee))return 0;if(A.v=ie,A.j=se,A.va=ie+fe,A.o=se+pe,A.U=fe,A.T=pe,A.da=_!=null&&0<_.da,A.da){if(!bt(fe,pe,z=[_.ib],ie=[_.hb]))return 0;A.ib=z[0],A.hb=ie[0]}return A.ob=_!=null&&_.ob,A.Kb=_==null||!_.Sd,A.da&&(A.ob=A.ib<3*V/4&&A.hb<3*ee/4,A.Kb=0),1}function i0(_){if(_==null)return 2;if(11>_.S){var A=_.f.RGBA;A.fb+=(_.height-1)*A.A,A.A=-A.A}else A=_.f.kb,_=_.height,A.O+=(_-1)*A.fa,A.fa=-A.fa,A.N+=(_-1>>1)*A.Ab,A.Ab=-A.Ab,A.W+=(_-1>>1)*A.Db,A.Db=-A.Db,A.F!=null&&(A.J+=(_-1)*A.lb,A.lb=-A.lb);return 0}function Bl(_,A,z,V){if(V==null||0>=_||0>=A)return 2;if(z!=null){if(z.Da){var ee=z.cd,ie=z.bd,se=-2&z.v,fe=-2&z.j;if(0>se||0>fe||0>=ee||0>=ie||se+ee>_||fe+ie>A)return 2;_=ee,A=ie}if(z.da){if(!bt(_,A,ee=[z.ib],ie=[z.hb]))return 2;_=ee[0],A=ie[0]}}V.width=_,V.height=A;e:{var pe=V.width,we=V.height;if(_=V.S,0>=pe||0>=we||!(_>=Lh&&13>_))_=2;else{if(0>=V.Rd&&V.sd==null){se=ie=ee=A=0;var Ce=(fe=pe*Hh[_])*we;if(11>_||(ie=(we+1)/2*(A=(pe+1)/2),_==12&&(se=(ee=pe)*we)),(we=i(Ce+2*ie+se))==null){_=1;break e}V.sd=we,11>_?((pe=V.f.RGBA).eb=we,pe.fb=0,pe.A=fe,pe.size=Ce):((pe=V.f.kb).y=we,pe.O=0,pe.fa=fe,pe.Fd=Ce,pe.f=we,pe.N=0+Ce,pe.Ab=A,pe.Cd=ie,pe.ea=we,pe.W=0+Ce+ie,pe.Db=A,pe.Ed=ie,_==12&&(pe.F=we,pe.J=0+Ce+2*ie),pe.Tc=se,pe.lb=ee)}if(A=1,ee=V.S,ie=V.width,se=V.height,ee>=Lh&&13>ee)if(11>ee)_=V.f.RGBA,A&=(fe=Math.abs(_.A))*(se-1)+ie<=_.size,A&=fe>=ie*Hh[ee],A&=_.eb!=null;else{_=V.f.kb,fe=(ie+1)/2,Ce=(se+1)/2,pe=Math.abs(_.fa),we=Math.abs(_.Ab);var Ue=Math.abs(_.Db),be=Math.abs(_.lb),De=be*(se-1)+ie;A&=pe*(se-1)+ie<=_.Fd,A&=we*(Ce-1)+fe<=_.Cd,A=(A&=Ue*(Ce-1)+fe<=_.Ed)&pe>=ie&we>=fe&Ue>=fe,A&=_.y!=null,A&=_.f!=null,A&=_.ea!=null,ee==12&&(A&=be>=ie,A&=De<=_.Tc,A&=_.F!=null)}else A=0;_=A?0:2}}return _!=0||z!=null&&z.fd&&(_=i0(V)),_}var Hc=64,ds=[0,1,3,7,15,31,63,127,255,511,1023,2047,4095,8191,16383,32767,65535,131071,262143,524287,1048575,2097151,4194303,8388607,16777215],Xi=24,po=32,xo=8,sc=[0,0,1,1,2,2,2,2,3,3,3,3,3,3,3,3,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7];xt("Predictor0","PredictorAdd0"),B.Predictor0=function(){return 4278190080},B.Predictor1=function(_){return _},B.Predictor2=function(_,A,z){return A[z+0]},B.Predictor3=function(_,A,z){return A[z+1]},B.Predictor4=function(_,A,z){return A[z-1]},B.Predictor5=function(_,A,z){return pt(pt(_,A[z+1]),A[z+0])},B.Predictor6=function(_,A,z){return pt(_,A[z-1])},B.Predictor7=function(_,A,z){return pt(_,A[z+0])},B.Predictor8=function(_,A,z){return pt(A[z-1],A[z+0])},B.Predictor9=function(_,A,z){return pt(A[z+0],A[z+1])},B.Predictor10=function(_,A,z){return pt(pt(_,A[z-1]),pt(A[z+0],A[z+1]))},B.Predictor11=function(_,A,z){var V=A[z+0];return 0>=Kt(V>>24&255,_>>24&255,(A=A[z-1])>>24&255)+Kt(V>>16&255,_>>16&255,A>>16&255)+Kt(V>>8&255,_>>8&255,A>>8&255)+Kt(255&V,255&_,255&A)?V:_},B.Predictor12=function(_,A,z){var V=A[z+0];return(Et((_>>24&255)+(V>>24&255)-((A=A[z-1])>>24&255))<<24|Et((_>>16&255)+(V>>16&255)-(A>>16&255))<<16|Et((_>>8&255)+(V>>8&255)-(A>>8&255))<<8|Et((255&_)+(255&V)-(255&A)))>>>0},B.Predictor13=function(_,A,z){var V=A[z-1];return(zt((_=pt(_,A[z+0]))>>24&255,V>>24&255)<<24|zt(_>>16&255,V>>16&255)<<16|zt(_>>8&255,V>>8&255)<<8|zt(255&_,255&V))>>>0};var zf=B.PredictorAdd0;B.PredictorAdd1=Ar,xt("Predictor2","PredictorAdd2"),xt("Predictor3","PredictorAdd3"),xt("Predictor4","PredictorAdd4"),xt("Predictor5","PredictorAdd5"),xt("Predictor6","PredictorAdd6"),xt("Predictor7","PredictorAdd7"),xt("Predictor8","PredictorAdd8"),xt("Predictor9","PredictorAdd9"),xt("Predictor10","PredictorAdd10"),xt("Predictor11","PredictorAdd11"),xt("Predictor12","PredictorAdd12"),xt("Predictor13","PredictorAdd13");var qf=B.PredictorAdd2;kt("ColorIndexInverseTransform","MapARGB","32b",function(_){return _>>8&255},function(_){return _}),kt("VP8LColorIndexInverseTransformAlpha","MapAlpha","8b",function(_){return _},function(_){return _>>8&255});var va,Dh=B.ColorIndexInverseTransform,go=B.MapARGB,vo=B.VP8LColorIndexInverseTransformAlpha,mi=B.MapAlpha,lc=B.VP8LPredictorsAdd=[];lc.length=16,(B.VP8LPredictors=[]).length=16,(B.VP8LPredictorsAdd_C=[]).length=16,(B.VP8LPredictors_C=[]).length=16;var $f,Hf,oc,cc,yo,Cu,Hs,uc,Di,cl,Xr,qr,An,ya,bo,Ul,Tu,s0,Np,r1,n1,a1,_p,jp,Ou,ul,l0,Vs,Du=i(511),Fh=i(2041),o0=i(225),c0=i(767),Ph=0,fc=Fh,u0=o0,Fi=c0,pi=Du,Lh=0,Pi=1,Mh=2,fl=3,f0=4,Vf=5,Vc=6,d0=7,Rh=8,Wf=9,Ih=10,dl=[2,3,7],Kf=[3,3,11],Fu=[280,256,256,256,40],Bh=[0,1,1,1,0],h0=[17,18,0,1,2,3,4,5,16,6,7,8,9,10,11,12,13,14,15],hl=[24,7,23,25,40,6,39,41,22,26,38,42,56,5,55,57,21,27,54,58,37,43,72,4,71,73,20,28,53,59,70,74,36,44,88,69,75,52,60,3,87,89,19,29,86,90,35,45,68,76,85,91,51,61,104,2,103,105,18,30,102,106,34,46,84,92,67,77,101,107,50,62,120,1,119,121,83,93,17,31,100,108,66,78,118,122,33,47,117,123,49,63,99,109,82,94,0,116,124,65,79,16,32,98,110,48,115,125,81,95,64,114,126,97,111,80,113,127,96,112],ml=[2954,2956,2958,2962,2970,2986,3018,3082,3212,3468,3980,5004],Wc=8,pl=[4,5,6,7,8,9,10,10,11,12,13,14,15,16,17,17,18,19,20,20,21,21,22,22,23,23,24,25,25,26,27,28,29,30,31,32,33,34,35,36,37,37,38,39,40,41,42,43,44,45,46,46,47,48,49,50,51,52,53,54,55,56,57,58,59,60,61,62,63,64,65,66,67,68,69,70,71,72,73,74,75,76,76,77,78,79,80,81,82,83,84,85,86,87,88,89,91,93,95,96,98,100,101,102,104,106,108,110,112,114,116,118,122,124,126,128,130,132,134,136,138,140,143,145,148,151,154,157],xl=[4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33,34,35,36,37,38,39,40,41,42,43,44,45,46,47,48,49,50,51,52,53,54,55,56,57,58,60,62,64,66,68,70,72,74,76,78,80,82,84,86,88,90,92,94,96,98,100,102,104,106,108,110,112,114,116,119,122,125,128,131,134,137,140,143,146,149,152,155,158,161,164,167,170,173,177,181,185,189,193,197,201,205,209,213,217,221,225,229,234,239,245,249,254,259,264,269,274,279,284],Ws=null,i1=[[173,148,140,0],[176,155,140,135,0],[180,157,141,134,130,0],[254,254,243,230,196,177,153,140,133,130,129,0]],Sp=[0,1,4,8,5,2,3,6,9,12,13,10,7,11,14,15],Uh=[-0,1,-1,2,-2,3,4,6,-3,5,-4,-5,-6,7,-7,8,-8,-9],s1=[[[[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128]],[[253,136,254,255,228,219,128,128,128,128,128],[189,129,242,255,227,213,255,219,128,128,128],[106,126,227,252,214,209,255,255,128,128,128]],[[1,98,248,255,236,226,255,255,128,128,128],[181,133,238,254,221,234,255,154,128,128,128],[78,134,202,247,198,180,255,219,128,128,128]],[[1,185,249,255,243,255,128,128,128,128,128],[184,150,247,255,236,224,128,128,128,128,128],[77,110,216,255,236,230,128,128,128,128,128]],[[1,101,251,255,241,255,128,128,128,128,128],[170,139,241,252,236,209,255,255,128,128,128],[37,116,196,243,228,255,255,255,128,128,128]],[[1,204,254,255,245,255,128,128,128,128,128],[207,160,250,255,238,128,128,128,128,128,128],[102,103,231,255,211,171,128,128,128,128,128]],[[1,152,252,255,240,255,128,128,128,128,128],[177,135,243,255,234,225,128,128,128,128,128],[80,129,211,255,194,224,128,128,128,128,128]],[[1,1,255,128,128,128,128,128,128,128,128],[246,1,255,128,128,128,128,128,128,128,128],[255,128,128,128,128,128,128,128,128,128,128]]],[[[198,35,237,223,193,187,162,160,145,155,62],[131,45,198,221,172,176,220,157,252,221,1],[68,47,146,208,149,167,221,162,255,223,128]],[[1,149,241,255,221,224,255,255,128,128,128],[184,141,234,253,222,220,255,199,128,128,128],[81,99,181,242,176,190,249,202,255,255,128]],[[1,129,232,253,214,197,242,196,255,255,128],[99,121,210,250,201,198,255,202,128,128,128],[23,91,163,242,170,187,247,210,255,255,128]],[[1,200,246,255,234,255,128,128,128,128,128],[109,178,241,255,231,245,255,255,128,128,128],[44,130,201,253,205,192,255,255,128,128,128]],[[1,132,239,251,219,209,255,165,128,128,128],[94,136,225,251,218,190,255,255,128,128,128],[22,100,174,245,186,161,255,199,128,128,128]],[[1,182,249,255,232,235,128,128,128,128,128],[124,143,241,255,227,234,128,128,128,128,128],[35,77,181,251,193,211,255,205,128,128,128]],[[1,157,247,255,236,231,255,255,128,128,128],[121,141,235,255,225,227,255,255,128,128,128],[45,99,188,251,195,217,255,224,128,128,128]],[[1,1,251,255,213,255,128,128,128,128,128],[203,1,248,255,255,128,128,128,128,128,128],[137,1,177,255,224,255,128,128,128,128,128]]],[[[253,9,248,251,207,208,255,192,128,128,128],[175,13,224,243,193,185,249,198,255,255,128],[73,17,171,221,161,179,236,167,255,234,128]],[[1,95,247,253,212,183,255,255,128,128,128],[239,90,244,250,211,209,255,255,128,128,128],[155,77,195,248,188,195,255,255,128,128,128]],[[1,24,239,251,218,219,255,205,128,128,128],[201,51,219,255,196,186,128,128,128,128,128],[69,46,190,239,201,218,255,228,128,128,128]],[[1,191,251,255,255,128,128,128,128,128,128],[223,165,249,255,213,255,128,128,128,128,128],[141,124,248,255,255,128,128,128,128,128,128]],[[1,16,248,255,255,128,128,128,128,128,128],[190,36,230,255,236,255,128,128,128,128,128],[149,1,255,128,128,128,128,128,128,128,128]],[[1,226,255,128,128,128,128,128,128,128,128],[247,192,255,128,128,128,128,128,128,128,128],[240,128,255,128,128,128,128,128,128,128,128]],[[1,134,252,255,255,128,128,128,128,128,128],[213,62,250,255,255,128,128,128,128,128,128],[55,93,255,128,128,128,128,128,128,128,128]],[[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128]]],[[[202,24,213,235,186,191,220,160,240,175,255],[126,38,182,232,169,184,228,174,255,187,128],[61,46,138,219,151,178,240,170,255,216,128]],[[1,112,230,250,199,191,247,159,255,255,128],[166,109,228,252,211,215,255,174,128,128,128],[39,77,162,232,172,180,245,178,255,255,128]],[[1,52,220,246,198,199,249,220,255,255,128],[124,74,191,243,183,193,250,221,255,255,128],[24,71,130,219,154,170,243,182,255,255,128]],[[1,182,225,249,219,240,255,224,128,128,128],[149,150,226,252,216,205,255,171,128,128,128],[28,108,170,242,183,194,254,223,255,255,128]],[[1,81,230,252,204,203,255,192,128,128,128],[123,102,209,247,188,196,255,233,128,128,128],[20,95,153,243,164,173,255,203,128,128,128]],[[1,222,248,255,216,213,128,128,128,128,128],[168,175,246,252,235,205,255,255,128,128,128],[47,116,215,255,211,212,255,255,128,128,128]],[[1,121,236,253,212,214,255,255,128,128,128],[141,84,213,252,201,202,255,219,128,128,128],[42,80,160,240,162,185,255,205,128,128,128]],[[1,1,255,128,128,128,128,128,128,128,128],[244,1,255,128,128,128,128,128,128,128,128],[238,1,255,128,128,128,128,128,128,128,128]]]],xi=[[[231,120,48,89,115,113,120,152,112],[152,179,64,126,170,118,46,70,95],[175,69,143,80,85,82,72,155,103],[56,58,10,171,218,189,17,13,152],[114,26,17,163,44,195,21,10,173],[121,24,80,195,26,62,44,64,85],[144,71,10,38,171,213,144,34,26],[170,46,55,19,136,160,33,206,71],[63,20,8,114,114,208,12,9,226],[81,40,11,96,182,84,29,16,36]],[[134,183,89,137,98,101,106,165,148],[72,187,100,130,157,111,32,75,80],[66,102,167,99,74,62,40,234,128],[41,53,9,178,241,141,26,8,107],[74,43,26,146,73,166,49,23,157],[65,38,105,160,51,52,31,115,128],[104,79,12,27,217,255,87,17,7],[87,68,71,44,114,51,15,186,23],[47,41,14,110,182,183,21,17,194],[66,45,25,102,197,189,23,18,22]],[[88,88,147,150,42,46,45,196,205],[43,97,183,117,85,38,35,179,61],[39,53,200,87,26,21,43,232,171],[56,34,51,104,114,102,29,93,77],[39,28,85,171,58,165,90,98,64],[34,22,116,206,23,34,43,166,73],[107,54,32,26,51,1,81,43,31],[68,25,106,22,64,171,36,225,114],[34,19,21,102,132,188,16,76,124],[62,18,78,95,85,57,50,48,51]],[[193,101,35,159,215,111,89,46,111],[60,148,31,172,219,228,21,18,111],[112,113,77,85,179,255,38,120,114],[40,42,1,196,245,209,10,25,109],[88,43,29,140,166,213,37,43,154],[61,63,30,155,67,45,68,1,209],[100,80,8,43,154,1,51,26,71],[142,78,78,16,255,128,34,197,171],[41,40,5,102,211,183,4,1,221],[51,50,17,168,209,192,23,25,82]],[[138,31,36,171,27,166,38,44,229],[67,87,58,169,82,115,26,59,179],[63,59,90,180,59,166,93,73,154],[40,40,21,116,143,209,34,39,175],[47,15,16,183,34,223,49,45,183],[46,17,33,183,6,98,15,32,183],[57,46,22,24,128,1,54,17,37],[65,32,73,115,28,128,23,128,205],[40,3,9,115,51,192,18,6,223],[87,37,9,115,59,77,64,21,47]],[[104,55,44,218,9,54,53,130,226],[64,90,70,205,40,41,23,26,57],[54,57,112,184,5,41,38,166,213],[30,34,26,133,152,116,10,32,134],[39,19,53,221,26,114,32,73,255],[31,9,65,234,2,15,1,118,73],[75,32,12,51,192,255,160,43,51],[88,31,35,67,102,85,55,186,85],[56,21,23,111,59,205,45,37,192],[55,38,70,124,73,102,1,34,98]],[[125,98,42,88,104,85,117,175,82],[95,84,53,89,128,100,113,101,45],[75,79,123,47,51,128,81,171,1],[57,17,5,71,102,57,53,41,49],[38,33,13,121,57,73,26,1,85],[41,10,67,138,77,110,90,47,114],[115,21,2,10,102,255,166,23,6],[101,29,16,10,85,128,101,196,26],[57,18,10,102,102,213,34,20,43],[117,20,15,36,163,128,68,1,26]],[[102,61,71,37,34,53,31,243,192],[69,60,71,38,73,119,28,222,37],[68,45,128,34,1,47,11,245,171],[62,17,19,70,146,85,55,62,70],[37,43,37,154,100,163,85,160,1],[63,9,92,136,28,64,32,201,85],[75,15,9,9,64,255,184,119,16],[86,6,28,5,64,255,25,248,1],[56,8,17,132,137,255,55,116,128],[58,15,20,82,135,57,26,121,40]],[[164,50,31,137,154,133,25,35,218],[51,103,44,131,131,123,31,6,158],[86,40,64,135,148,224,45,183,128],[22,26,17,131,240,154,14,1,209],[45,16,21,91,64,222,7,1,197],[56,21,39,155,60,138,23,102,213],[83,12,13,54,192,255,68,47,28],[85,26,85,85,128,128,32,146,171],[18,11,7,63,144,171,4,4,246],[35,27,10,146,174,171,12,26,128]],[[190,80,35,99,180,80,126,54,45],[85,126,47,87,176,51,41,20,32],[101,75,128,139,118,146,116,128,85],[56,41,15,176,236,85,37,9,62],[71,30,17,119,118,255,17,18,138],[101,38,60,138,55,70,43,26,142],[146,36,19,30,171,255,97,27,20],[138,45,61,62,219,1,81,188,64],[32,41,20,117,151,142,20,21,163],[112,19,12,61,195,128,48,4,24]]],Ln=[[[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[176,246,255,255,255,255,255,255,255,255,255],[223,241,252,255,255,255,255,255,255,255,255],[249,253,253,255,255,255,255,255,255,255,255]],[[255,244,252,255,255,255,255,255,255,255,255],[234,254,254,255,255,255,255,255,255,255,255],[253,255,255,255,255,255,255,255,255,255,255]],[[255,246,254,255,255,255,255,255,255,255,255],[239,253,254,255,255,255,255,255,255,255,255],[254,255,254,255,255,255,255,255,255,255,255]],[[255,248,254,255,255,255,255,255,255,255,255],[251,255,254,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,253,254,255,255,255,255,255,255,255,255],[251,254,254,255,255,255,255,255,255,255,255],[254,255,254,255,255,255,255,255,255,255,255]],[[255,254,253,255,254,255,255,255,255,255,255],[250,255,254,255,254,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]],[[[217,255,255,255,255,255,255,255,255,255,255],[225,252,241,253,255,255,254,255,255,255,255],[234,250,241,250,253,255,253,254,255,255,255]],[[255,254,255,255,255,255,255,255,255,255,255],[223,254,254,255,255,255,255,255,255,255,255],[238,253,254,254,255,255,255,255,255,255,255]],[[255,248,254,255,255,255,255,255,255,255,255],[249,254,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,253,255,255,255,255,255,255,255,255,255],[247,254,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,253,254,255,255,255,255,255,255,255,255],[252,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,254,254,255,255,255,255,255,255,255,255],[253,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,254,253,255,255,255,255,255,255,255,255],[250,255,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]],[[[186,251,250,255,255,255,255,255,255,255,255],[234,251,244,254,255,255,255,255,255,255,255],[251,251,243,253,254,255,254,255,255,255,255]],[[255,253,254,255,255,255,255,255,255,255,255],[236,253,254,255,255,255,255,255,255,255,255],[251,253,253,254,254,255,255,255,255,255,255]],[[255,254,254,255,255,255,255,255,255,255,255],[254,254,254,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,254,255,255,255,255,255,255,255,255,255],[254,254,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]],[[[248,255,255,255,255,255,255,255,255,255,255],[250,254,252,254,255,255,255,255,255,255,255],[248,254,249,253,255,255,255,255,255,255,255]],[[255,253,253,255,255,255,255,255,255,255,255],[246,253,253,255,255,255,255,255,255,255,255],[252,254,251,254,254,255,255,255,255,255,255]],[[255,254,252,255,255,255,255,255,255,255,255],[248,254,253,255,255,255,255,255,255,255,255],[253,255,254,254,255,255,255,255,255,255,255]],[[255,251,254,255,255,255,255,255,255,255,255],[245,251,254,255,255,255,255,255,255,255,255],[253,253,254,255,255,255,255,255,255,255,255]],[[255,251,253,255,255,255,255,255,255,255,255],[252,253,254,255,255,255,255,255,255,255,255],[255,254,255,255,255,255,255,255,255,255,255]],[[255,252,255,255,255,255,255,255,255,255,255],[249,255,254,255,255,255,255,255,255,255,255],[255,255,254,255,255,255,255,255,255,255,255]],[[255,255,253,255,255,255,255,255,255,255,255],[250,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]]],Pr=[0,1,2,3,6,4,5,6,6,6,6,6,6,6,6,7,0],Qi=[],aa=[],zl=[],Kc=1,Ap=2,dc=[],gi=[];fs("UpsampleRgbLinePair",ku,3),fs("UpsampleBgrLinePair",zc,3),fs("UpsampleRgbaLinePair",mo,4),fs("UpsampleBgraLinePair",Bf,4),fs("UpsampleArgbLinePair",$c,4),fs("UpsampleRgba4444LinePair",qc,2),fs("UpsampleRgb565LinePair",hi,2);var Pu=B.UpsampleRgbLinePair,Ep=B.UpsampleBgrLinePair,Gf=B.UpsampleRgbaLinePair,zh=B.UpsampleBgraLinePair,Gc=B.UpsampleArgbLinePair,wo=B.UpsampleRgba4444LinePair,Yc=B.UpsampleRgb565LinePair,gl=16,Yf=1<<gl-1,Lu=-227,Xc=482,qh=6,Qc=0,vi=i(256),$h=i(256),l1=i(256),ob=i(256),cb=i(Xc-Lu),ub=i(Xc-Lu);ac("YuvToRgbRow",ku,3),ac("YuvToBgrRow",zc,3),ac("YuvToRgbaRow",mo,4),ac("YuvToBgraRow",Bf,4),ac("YuvToArgbRow",$c,4),ac("YuvToRgba4444Row",qc,2),ac("YuvToRgb565Row",hi,2);var ba=[0,4,8,12,128,132,136,140,256,260,264,268,384,388,392,396],Xf=[0,2,8],m0=[8,7,6,4,4,2,2,2,1,1,1,1],p0=1;this.WebPDecodeRGBA=function(_,A,z,V,ee){var ie=Pi,se=new Fe,fe=new Hr;se.ba=fe,fe.S=ie,fe.width=[fe.width],fe.height=[fe.height];var pe=fe.width,we=fe.height,Ce=new Yt;if(Ce==null||_==null)var Ue=2;else t(Ce!=null),Ue=Il(_,A,z,Ce.width,Ce.height,Ce.Pd,Ce.Qd,Ce.format,null);if(Ue!=0?pe=0:(pe!=null&&(pe[0]=Ce.width[0]),we!=null&&(we[0]=Ce.height[0]),pe=1),pe){fe.width=fe.width[0],fe.height=fe.height[0],V!=null&&(V[0]=fe.width),ee!=null&&(ee[0]=fe.height);e:{if(V=new Ua,(ee=new nt).data=_,ee.w=A,ee.ha=z,ee.kd=1,A=[0],t(ee!=null),((_=Il(ee.data,ee.w,ee.ha,null,null,null,A,null,ee))==0||_==7)&&A[0]&&(_=4),(A=_)==0){if(t(se!=null),V.data=ee.data,V.w=ee.w+ee.offset,V.ha=ee.ha-ee.offset,V.put=Xt,V.ac=us,V.bc=Dl,V.ma=se,ee.xa){if((_=Ie())==null){se=1;break e}if((function(be,De){var Le=[0],et=[0],Re=[0];t:for(;;){if(be==null)return 0;if(De==null)return be.a=2,0;if(be.l=De,be.a=0,le(be.m,De.data,De.w,De.ha),!sl(be.m,Le,et,Re)){be.a=3;break t}if(be.xb=Ap,De.width=Le[0],De.height=et[0],!Be(Le[0],et[0],1,be,null))break t;return 1}return t(be.a!=0),0})(_,V)){if(V=(A=Bl(V.width,V.height,se.Oa,se.ba))==0){t:{V=_;r:for(;;){if(V==null){V=0;break t}if(t(V.s.yc!=null),t(V.s.Ya!=null),t(0<V.s.Wb),t((z=V.l)!=null),t((ee=z.ma)!=null),V.xb!=0){if(V.ca=ee.ba,V.tb=ee.tb,t(V.ca!=null),!ic(ee.Oa,z,fl)){V.a=2;break r}if(!ze(V,z.width)||z.da)break r;if((z.da||dr(V.ca.S))&&ol(),11>V.ca.S||(alert("todo:WebPInitConvertARGBToYUV"),V.ca.f.kb.F!=null&&ol()),V.Pb&&0<V.s.ua&&V.s.vb.X==null&&!ge(V.s.vb,V.s.Wa.Xa)){V.a=1;break r}V.xb=0}if(!Me(V,V.V,V.Ba,V.c,V.i,z.o,he))break r;ee.Dc=V.Ma,V=1;break t}t(V.a!=0),V=0}V=!V}V&&(A=_.a)}else A=_.a}else{if((_=new Pf)==null){se=1;break e}if(_.Fa=ee.na,_.P=ee.P,_.qc=ee.Sa,Gd(_,V)){if((A=Bl(V.width,V.height,se.Oa,se.ba))==0){if(_.Aa=0,z=se.Oa,t((ee=_)!=null),z!=null){if(0<(pe=0>(pe=z.Md)?0:100<pe?255:255*pe/100)){for(we=Ce=0;4>we;++we)12>(Ue=ee.pb[we]).lc&&(Ue.ia=pe*m0[0>Ue.lc?0:Ue.lc]>>3),Ce|=Ue.ia;Ce&&(alert("todo:VP8InitRandom"),ee.ia=1)}ee.Ga=z.Id,100<ee.Ga?ee.Ga=100:0>ee.Ga&&(ee.Ga=0)}(function(be,De){if(be==null)return 0;if(De==null)return mn(be,2,"NULL VP8Io parameter in VP8Decode().");if(!be.cb&&!Gd(be,De))return 0;if(t(be.cb),De.ac==null||De.ac(De)){De.ob&&(be.L=0);var Le=Xf[be.L];if(be.L==2?(be.yb=0,be.zb=0):(be.yb=De.v-Le>>4,be.zb=De.j-Le>>4,0>be.yb&&(be.yb=0),0>be.zb&&(be.zb=0)),be.Va=De.o+15+Le>>4,be.Hb=De.va+15+Le>>4,be.Hb>be.za&&(be.Hb=be.za),be.Va>be.Ub&&(be.Va=be.Ub),0<be.L){var et=be.ed;for(Le=0;4>Le;++Le){var Re;if(be.Qa.Cb){var Je=be.Qa.Lb[Le];be.Qa.Fb||(Je+=et.Tb)}else Je=et.Tb;for(Re=0;1>=Re;++Re){var at=be.gd[Le][Re],ht=Je;if(et.Pc&&(ht+=et.vd[0],Re&&(ht+=et.od[0])),0<(ht=0>ht?0:63<ht?63:ht)){var ot=ht;0<et.wb&&(ot=4<et.wb?ot>>2:ot>>1)>9-et.wb&&(ot=9-et.wb),1>ot&&(ot=1),at.dd=ot,at.tc=2*ht+ot,at.ld=40<=ht?2:15<=ht?1:0}else at.tc=0;at.La=Re}}}Le=0}else mn(be,6,"Frame setup failed"),Le=be.a;if(Le=Le==0){if(Le){be.$c=0,0<be.Aa||(be.Ic=p0);t:{Le=be.Ic,et=4*(ot=be.za);var qt=32*ot,Tt=ot+1,mr=0<be.L?ot*(0<be.Aa?2:1):0,Rt=(be.Aa==2?2:1)*ot;if((at=et+832+(Re=3*(16*Le+Xf[be.L])/2*qt)+(Je=be.Fa!=null&&0<be.Fa.length?be.Kc.c*be.Kc.i:0))!=at)Le=0;else{if(at>be.Vb){if(be.Vb=0,be.Ec=i(at),be.Fc=0,be.Ec==null){Le=mn(be,1,"no memory during frame initialization.");break t}be.Vb=at}at=be.Ec,ht=be.Fc,be.Ac=at,be.Bc=ht,ht+=et,be.Gd=l(qt,Is),be.Hd=0,be.rb=l(Tt+1,hn),be.sb=1,be.wa=mr?l(mr,Cr):null,be.Y=0,be.D.Nb=0,be.D.wa=be.wa,be.D.Y=be.Y,0<be.Aa&&(be.D.Y+=ot),t(!0),be.oc=at,be.pc=ht,ht+=832,be.ya=l(Rt,Fl),be.aa=0,be.D.ya=be.ya,be.D.aa=be.aa,be.Aa==2&&(be.D.aa+=ot),be.R=16*ot,be.B=8*ot,ot=(qt=Xf[be.L])*be.R,qt=qt/2*be.B,be.sa=at,be.ta=ht+ot,be.qa=be.sa,be.ra=be.ta+16*Le*be.R+qt,be.Ha=be.qa,be.Ia=be.ra+8*Le*be.B+qt,be.$c=0,ht+=Re,be.mb=Je?at:null,be.nb=Je?ht:null,t(ht+Je<=be.Fc+be.Vb),Qo(be),a(be.Ac,be.Bc,0,et),Le=1}}if(Le){if(De.ka=0,De.y=be.sa,De.O=be.ta,De.f=be.qa,De.N=be.ra,De.ea=be.Ha,De.Vd=be.Ia,De.fa=be.R,De.Rc=be.B,De.F=null,De.J=0,!Ph){for(Le=-255;255>=Le;++Le)Du[255+Le]=0>Le?-Le:Le;for(Le=-1020;1020>=Le;++Le)Fh[1020+Le]=-128>Le?-128:127<Le?127:Le;for(Le=-112;112>=Le;++Le)o0[112+Le]=-16>Le?-16:15<Le?15:Le;for(Le=-255;510>=Le;++Le)c0[255+Le]=0>Le?0:255<Le?255:Le;Ph=1}Hs=Zd,uc=_h,cl=Xd,Xr=Yi,qr=Qd,Di=Yd,An=kh,ya=Ch,bo=I,Ul=J,Tu=nc,s0=Th,Np=_e,r1=ke,n1=Su,a1=tc,_p=Uc,jp=Au,aa[0]=r0,aa[1]=Jd,aa[2]=Bc,aa[3]=Ah,aa[4]=Eh,aa[5]=fi,aa[6]=Us,aa[7]=n0,aa[8]=zs,aa[9]=Nu,Qi[0]=Ll,Qi[1]=Sh,Qi[2]=e0,Qi[3]=t0,Qi[4]=Ml,Qi[5]=Zo,Qi[6]=wu,zl[0]=Jo,zl[1]=jh,zl[2]=_u,zl[3]=co,zl[4]=Mf,zl[5]=Lf,zl[6]=ei,Le=1}else Le=0}Le&&(Le=(function(Or,Mn){for(Or.M=0;Or.M<Or.Va;++Or.M){var gr,Ot=Or.Jc[Or.M&Or.Xb],jt=Or.m,Wn=Or;for(gr=0;gr<Wn.za;++gr){var lr=jt,wr=Wn,un=wr.Ac,qa=wr.Bc+4*gr,yi=wr.zc,En=wr.ya[wr.aa+gr];if(wr.Qa.Bb?En.$b=ve(lr,wr.Pa.jb[0])?2+ve(lr,wr.Pa.jb[2]):ve(lr,wr.Pa.jb[1]):En.$b=0,wr.kc&&(En.Ad=ve(lr,wr.Bd)),En.Za=!ve(lr,145)+0,En.Za){var Ca=En.Ob,Li=0;for(wr=0;4>wr;++wr){var Ta,kr=yi[0+wr];for(Ta=0;4>Ta;++Ta){kr=xi[un[qa+Ta]][kr];for(var Vr=Uh[ve(lr,kr[0])];0<Vr;)Vr=Uh[2*Vr+ve(lr,kr[Vr])];kr=-Vr,un[qa+Ta]=kr}n(Ca,Li,un,qa,4),Li+=4,yi[0+wr]=kr}}else kr=ve(lr,156)?ve(lr,128)?1:3:ve(lr,163)?2:0,En.Ob[0]=kr,a(un,qa,kr,4),a(yi,0,kr,4);En.Dd=ve(lr,142)?ve(lr,114)?ve(lr,183)?1:3:2:0}if(Wn.m.Ka)return mn(Or,7,"Premature end-of-partition0 encountered.");for(;Or.ja<Or.za;++Or.ja){if(Wn=Ot,lr=(jt=Or).rb[jt.sb-1],un=jt.rb[jt.sb+jt.ja],gr=jt.ya[jt.aa+jt.ja],qa=jt.kc?gr.Ad:0)lr.la=un.la=0,gr.Za||(lr.Na=un.Na=0),gr.Hc=0,gr.Gc=0,gr.ia=0;else{var Kn,Qr;if(lr=un,un=Wn,qa=jt.Pa.Xc,yi=jt.ya[jt.aa+jt.ja],En=jt.pb[yi.$b],wr=yi.ad,Ca=0,Li=jt.rb[jt.sb-1],kr=Ta=0,a(wr,Ca,0,384),yi.Za)var $a=0,Gn=qa[3];else{Vr=i(16);var Wr=lr.Na+Li.Na;if(Wr=Ws(un,qa[1],Wr,En.Eb,0,Vr,0),lr.Na=Li.Na=(0<Wr)+0,1<Wr)Hs(Vr,0,wr,Ca);else{var wa=Vr[0]+3>>3;for(Vr=0;256>Vr;Vr+=16)wr[Ca+Vr]=wa}$a=1,Gn=qa[0]}var fn=15&lr.la,Oa=15&Li.la;for(Vr=0;4>Vr;++Vr){var Da=1&Oa;for(wa=Qr=0;4>wa;++wa)fn=fn>>1|(Da=(Wr=Ws(un,Gn,Wr=Da+(1&fn),En.Sc,$a,wr,Ca))>$a)<<7,Qr=Qr<<2|(3<Wr?3:1<Wr?2:wr[Ca+0]!=0),Ca+=16;fn>>=4,Oa=Oa>>1|Da<<7,Ta=(Ta<<8|Qr)>>>0}for(Gn=fn,$a=Oa>>4,Kn=0;4>Kn;Kn+=2){for(Qr=0,fn=lr.la>>4+Kn,Oa=Li.la>>4+Kn,Vr=0;2>Vr;++Vr){for(Da=1&Oa,wa=0;2>wa;++wa)Wr=Da+(1&fn),fn=fn>>1|(Da=0<(Wr=Ws(un,qa[2],Wr,En.Qc,0,wr,Ca)))<<3,Qr=Qr<<2|(3<Wr?3:1<Wr?2:wr[Ca+0]!=0),Ca+=16;fn>>=2,Oa=Oa>>1|Da<<5}kr|=Qr<<4*Kn,Gn|=fn<<4<<Kn,$a|=(240&Oa)<<Kn}lr.la=Gn,Li.la=$a,yi.Hc=Ta,yi.Gc=kr,yi.ia=43690&kr?0:En.ia,qa=!(Ta|kr)}if(0<jt.L&&(jt.wa[jt.Y+jt.ja]=jt.gd[gr.$b][gr.Za],jt.wa[jt.Y+jt.ja].La|=!qa),Wn.Ka)return mn(Or,7,"Premature end-of-file encountered.")}if(Qo(Or),jt=Mn,Wn=1,gr=(Ot=Or).D,lr=0<Ot.L&&Ot.M>=Ot.zb&&Ot.M<=Ot.Va,Ot.Aa==0)t:{if(gr.M=Ot.M,gr.uc=lr,$s(Ot,gr),Wn=1,gr=(Qr=Ot.D).Nb,lr=(kr=Xf[Ot.L])*Ot.R,un=kr/2*Ot.B,Vr=16*gr*Ot.R,wa=8*gr*Ot.B,qa=Ot.sa,yi=Ot.ta-lr+Vr,En=Ot.qa,wr=Ot.ra-un+wa,Ca=Ot.Ha,Li=Ot.Ia-un+wa,Oa=(fn=Qr.M)==0,Ta=fn>=Ot.Va-1,Ot.Aa==2&&$s(Ot,Qr),Qr.uc)for(Da=(Wr=Ot).D.M,t(Wr.D.uc),Qr=Wr.yb;Qr<Wr.Hb;++Qr){$a=Qr,Gn=Da;var xn=($r=(Fa=Wr).D).Nb;Kn=Fa.R;var $r=$r.wa[$r.Y+$a],Mi=Fa.sa,ia=Fa.ta+16*xn*Kn+16*$a,Jt=$r.dd,tr=$r.tc;if(tr!=0)if(t(3<=tr),Fa.L==1)0<$a&&a1(Mi,ia,Kn,tr+4),$r.La&&jp(Mi,ia,Kn,tr),0<Gn&&n1(Mi,ia,Kn,tr+4),$r.La&&_p(Mi,ia,Kn,tr);else{var Kr=Fa.B,hs=Fa.qa,vl=Fa.ra+8*xn*Kr+8*$a,Zi=Fa.Ha,Fa=Fa.Ia+8*xn*Kr+8*$a;xn=$r.ld,0<$a&&(ya(Mi,ia,Kn,tr+4,Jt,xn),Ul(hs,vl,Zi,Fa,Kr,tr+4,Jt,xn)),$r.La&&(s0(Mi,ia,Kn,tr,Jt,xn),r1(hs,vl,Zi,Fa,Kr,tr,Jt,xn)),0<Gn&&(An(Mi,ia,Kn,tr+4,Jt,xn),bo(hs,vl,Zi,Fa,Kr,tr+4,Jt,xn)),$r.La&&(Tu(Mi,ia,Kn,tr,Jt,xn),Np(hs,vl,Zi,Fa,Kr,tr,Jt,xn))}}if(Ot.ia&&alert("todo:DitherRow"),jt.put!=null){if(Qr=16*fn,fn=16*(fn+1),Oa?(jt.y=Ot.sa,jt.O=Ot.ta+Vr,jt.f=Ot.qa,jt.N=Ot.ra+wa,jt.ea=Ot.Ha,jt.W=Ot.Ia+wa):(Qr-=kr,jt.y=qa,jt.O=yi,jt.f=En,jt.N=wr,jt.ea=Ca,jt.W=Li),Ta||(fn-=kr),fn>jt.o&&(fn=jt.o),jt.F=null,jt.J=null,Ot.Fa!=null&&0<Ot.Fa.length&&Qr<fn&&(jt.J=ga(Ot,jt,Qr,fn-Qr),jt.F=Ot.mb,jt.F==null&&jt.F.length==0)){Wn=mn(Ot,3,"Could not decode alpha data.");break t}Qr<jt.j&&(kr=jt.j-Qr,Qr=jt.j,t(!(1&kr)),jt.O+=Ot.R*kr,jt.N+=Ot.B*(kr>>1),jt.W+=Ot.B*(kr>>1),jt.F!=null&&(jt.J+=jt.width*kr)),Qr<fn&&(jt.O+=jt.v,jt.N+=jt.v>>1,jt.W+=jt.v>>1,jt.F!=null&&(jt.J+=jt.v),jt.ka=Qr-jt.j,jt.U=jt.va-jt.v,jt.T=fn-Qr,Wn=jt.put(jt))}gr+1!=Ot.Ic||Ta||(n(Ot.sa,Ot.ta-lr,qa,yi+16*Ot.R,lr),n(Ot.qa,Ot.ra-un,En,wr+8*Ot.B,un),n(Ot.Ha,Ot.Ia-un,Ca,Li+8*Ot.B,un))}if(!Wn)return mn(Or,6,"Output aborted.")}return 1})(be,De)),De.bc!=null&&De.bc(De),Le&=1}return Le?(be.cb=0,Le):0})(_,V)||(A=_.a)}}else A=_.a}A==0&&se.Oa!=null&&se.Oa.fd&&(A=i0(se.ba))}se=A}ie=se!=0?null:11>ie?fe.f.RGBA.eb:fe.f.kb.y}else ie=null;return ie};var Hh=[3,4,3,4,4,2,2,4,4,4,2,1,1]};function f(B,H){for(var L="",U=0;U<4;U++)L+=String.fromCharCode(B[H++]);return L}function h(B,H){return B[H+0]|B[H+1]<<8}function m(B,H){return(B[H+0]|B[H+1]<<8|B[H+2]<<16)>>>0}function g(B,H){return(B[H+0]|B[H+1]<<8|B[H+2]<<16|B[H+3]<<24)>>>0}new u;var x=[0],b=[0],v=[],w=new u,N=e,E=(function(B,H){var L={},U=0,G=!1,te=0,de=0;if(L.frames=[],!(function(R,F){for(var q=0;q<4;q++)if(R[F+q]!="RIFF".charCodeAt(q))return!0;return!1})(B,H)){for(g(B,H+=4),H+=8;H<B.length;){var ne=f(B,H),Z=g(B,H+=4);H+=4;var xe=Z+(1&Z);switch(ne){case"VP8 ":case"VP8L":L.frames[U]===void 0&&(L.frames[U]={}),(re=L.frames[U]).src_off=G?de:H-8,re.src_size=te+Z+8,U++,G&&(G=!1,te=0,de=0);break;case"VP8X":(re=L.header={}).feature_flags=B[H];var le=H+4;re.canvas_width=1+m(B,le),le+=3,re.canvas_height=1+m(B,le),le+=3;break;case"ALPH":G=!0,te=xe+8,de=H-8;break;case"ANIM":(re=L.header).bgcolor=g(B,H),le=H+4,re.loop_count=h(B,le),le+=2;break;case"ANMF":var Se,re;(re=L.frames[U]={}).offset_x=2*m(B,H),H+=3,re.offset_y=2*m(B,H),H+=3,re.width=1+m(B,H),H+=3,re.height=1+m(B,H),H+=3,re.duration=m(B,H),H+=3,Se=B[H++],re.dispose=1&Se,re.blend=Se>>1&1}ne!="ANMF"&&(H+=xe)}return L}})(N,0);E.response=N,E.rgbaoutput=!0,E.dataurl=!1;var j=E.header?E.header:null,T=E.frames?E.frames:null;if(j){j.loop_counter=j.loop_count,x=[j.canvas_height],b=[j.canvas_width];for(var O=0;O<T.length&&T[O].blend!=0;O++);}var P=T[0],D=w.WebPDecodeRGBA(N,P.src_off,P.src_size,b,x);P.rgba=D,P.imgwidth=b[0],P.imgheight=x[0];for(var M=0;M<b[0]*x[0]*4;M++)v[M]=D[M];return this.width=b,this.height=x,this.data=v,this}(function(e){var t,r,n,a,i,l,o,u,f,h=function(R){return R=R||{},this.isStrokeTransparent=R.isStrokeTransparent||!1,this.strokeOpacity=R.strokeOpacity||1,this.strokeStyle=R.strokeStyle||"#000000",this.fillStyle=R.fillStyle||"#000000",this.isFillTransparent=R.isFillTransparent||!1,this.fillOpacity=R.fillOpacity||1,this.font=R.font||"10px sans-serif",this.textBaseline=R.textBaseline||"alphabetic",this.textAlign=R.textAlign||"left",this.lineWidth=R.lineWidth||1,this.lineJoin=R.lineJoin||"miter",this.lineCap=R.lineCap||"butt",this.path=R.path||[],this.transform=R.transform!==void 0?R.transform.clone():new u,this.globalCompositeOperation=R.globalCompositeOperation||"normal",this.globalAlpha=R.globalAlpha||1,this.clip_path=R.clip_path||[],this.currentPoint=R.currentPoint||new l,this.miterLimit=R.miterLimit||10,this.lastPoint=R.lastPoint||new l,this.lineDashOffset=R.lineDashOffset||0,this.lineDash=R.lineDash||[],this.margin=R.margin||[0,0,0,0],this.prevPageLastElemOffset=R.prevPageLastElemOffset||0,this.ignoreClearRect=typeof R.ignoreClearRect!="boolean"||R.ignoreClearRect,this};e.events.push(["initialized",function(){this.context2d=new m(this),t=this.internal.f2,r=this.internal.getCoordinateString,n=this.internal.getVerticalCoordinateString,a=this.internal.getHorizontalCoordinate,i=this.internal.getVerticalCoordinate,l=this.internal.Point,o=this.internal.Rectangle,u=this.internal.Matrix,f=new h}]);var m=function(R){Object.defineProperty(this,"canvas",{get:function(){return{parentNode:!1,style:!1}}});var F=R;Object.defineProperty(this,"pdf",{get:function(){return F}});var q=!1;Object.defineProperty(this,"pageWrapXEnabled",{get:function(){return q},set:function(Ee){q=!!Ee}});var W=!1;Object.defineProperty(this,"pageWrapYEnabled",{get:function(){return W},set:function(Ee){W=!!Ee}});var Q=0;Object.defineProperty(this,"posX",{get:function(){return Q},set:function(Ee){isNaN(Ee)||(Q=Ee)}});var oe=0;Object.defineProperty(this,"posY",{get:function(){return oe},set:function(Ee){isNaN(Ee)||(oe=Ee)}}),Object.defineProperty(this,"margin",{get:function(){return f.margin},set:function(Ee){var ge;typeof Ee=="number"?ge=[Ee,Ee,Ee,Ee]:((ge=new Array(4))[0]=Ee[0],ge[1]=Ee.length>=2?Ee[1]:ge[0],ge[2]=Ee.length>=3?Ee[2]:ge[0],ge[3]=Ee.length>=4?Ee[3]:ge[1]),f.margin=ge}});var ue=!1;Object.defineProperty(this,"autoPaging",{get:function(){return ue},set:function(Ee){ue=Ee}});var X=0;Object.defineProperty(this,"lastBreak",{get:function(){return X},set:function(Ee){X=Ee}});var ve=[];Object.defineProperty(this,"pageBreaks",{get:function(){return ve},set:function(Ee){ve=Ee}}),Object.defineProperty(this,"ctx",{get:function(){return f},set:function(Ee){Ee instanceof h&&(f=Ee)}}),Object.defineProperty(this,"path",{get:function(){return f.path},set:function(Ee){f.path=Ee}});var Te=[];Object.defineProperty(this,"ctxStack",{get:function(){return Te},set:function(Ee){Te=Ee}}),Object.defineProperty(this,"fillStyle",{get:function(){return this.ctx.fillStyle},set:function(Ee){var ge;ge=g(Ee),this.ctx.fillStyle=ge.style,this.ctx.isFillTransparent=ge.a===0,this.ctx.fillOpacity=ge.a,this.pdf.setFillColor(ge.r,ge.g,ge.b,{a:ge.a}),this.pdf.setTextColor(ge.r,ge.g,ge.b,{a:ge.a})}}),Object.defineProperty(this,"strokeStyle",{get:function(){return this.ctx.strokeStyle},set:function(Ee){var ge=g(Ee);this.ctx.strokeStyle=ge.style,this.ctx.isStrokeTransparent=ge.a===0,this.ctx.strokeOpacity=ge.a,ge.a===0?this.pdf.setDrawColor(255,255,255):(ge.a,this.pdf.setDrawColor(ge.r,ge.g,ge.b))}}),Object.defineProperty(this,"lineCap",{get:function(){return this.ctx.lineCap},set:function(Ee){["butt","round","square"].indexOf(Ee)!==-1&&(this.ctx.lineCap=Ee,this.pdf.setLineCap(Ee))}}),Object.defineProperty(this,"lineWidth",{get:function(){return this.ctx.lineWidth},set:function(Ee){isNaN(Ee)||(this.ctx.lineWidth=Ee,this.pdf.setLineWidth(Ee))}}),Object.defineProperty(this,"lineJoin",{get:function(){return this.ctx.lineJoin},set:function(Ee){["bevel","round","miter"].indexOf(Ee)!==-1&&(this.ctx.lineJoin=Ee,this.pdf.setLineJoin(Ee))}}),Object.defineProperty(this,"miterLimit",{get:function(){return this.ctx.miterLimit},set:function(Ee){isNaN(Ee)||(this.ctx.miterLimit=Ee,this.pdf.setMiterLimit(Ee))}}),Object.defineProperty(this,"textBaseline",{get:function(){return this.ctx.textBaseline},set:function(Ee){this.ctx.textBaseline=Ee}}),Object.defineProperty(this,"textAlign",{get:function(){return this.ctx.textAlign},set:function(Ee){["right","end","center","left","start"].indexOf(Ee)!==-1&&(this.ctx.textAlign=Ee)}});var Y=null,We=null;Object.defineProperty(this,"fontFaces",{get:function(){return We},set:function(Ee){Y=null,We=Ee}}),Object.defineProperty(this,"font",{get:function(){return this.ctx.font},set:function(Ee){var ge;if(this.ctx.font=Ee,(ge=/^\s*(?=(?:(?:[-a-z]+\s*){0,2}(italic|oblique))?)(?=(?:(?:[-a-z]+\s*){0,2}(small-caps))?)(?=(?:(?:[-a-z]+\s*){0,2}(bold(?:er)?|lighter|[1-9]00))?)(?:(?:normal|\1|\2|\3)\s*){0,3}((?:xx?-)?(?:small|large)|medium|smaller|larger|[.\d]+(?:\%|in|[cem]m|ex|p[ctx]))(?:\s*\/\s*(normal|[.\d]+(?:\%|in|[cem]m|ex|p[ctx])))?\s*([-_,\"\'\sa-z]+?)\s*$/i.exec(Ee))!==null){var dt=ge[1];ge[2];var Ze=ge[3],bt=ge[4];ge[5];var lt=ge[6],Ct=/^([.\d]+)((?:%|in|[cem]m|ex|p[ctx]))$/i.exec(bt)[2];bt=Math.floor(Ct==="px"?parseFloat(bt)*this.pdf.internal.scaleFactor:Ct==="em"?parseFloat(bt)*this.pdf.getFontSize():parseFloat(bt)*this.pdf.internal.scaleFactor),this.pdf.setFontSize(bt);var xt=(function(yt){var kt,_r,Zt=[],At=yt.trim();if(At==="")return I4;if(At in W7)return[W7[At]];for(;At!=="";){switch(_r=null,kt=(At=G7(At)).charAt(0)){case'"':case"'":_r=rNe(At.substring(1),kt);break;default:_r=nNe(At)}if(_r===null||(Zt.push(_r[0]),(At=G7(_r[1]))!==""&&At.charAt(0)!==","))return I4;At=At.replace(/^,/,"")}return Zt})(lt);if(this.fontFaces){var Ye=(function(yt,kt){if(Y===null){var _r=(function(Zt){var At=[];return Object.keys(Zt).forEach(function(er){Zt[er].forEach(function(br){var ar=null;switch(br){case"bold":ar={family:er,weight:"bold"};break;case"italic":ar={family:er,style:"italic"};break;case"bolditalic":ar={family:er,weight:"bold",style:"italic"};break;case"":case"normal":ar={family:er}}ar!==null&&(ar.ref={name:er,style:br},At.push(ar))})}),At})(yt.getFontList());Y=(function(Zt){for(var At={},er=0;er<Zt.length;++er){var br=R4(Zt[er]),ar=br.family,Er=br.stretch,dr=br.style,pn=br.weight;At[ar]=At[ar]||{},At[ar][Er]=At[ar][Er]||{},At[ar][Er][dr]=At[ar][Er][dr]||{},At[ar][Er][dr][pn]=br}return At})(_r.concat(kt))}return Y})(this.pdf,this.fontFaces),pt=xt.map(function(yt){return{family:yt,stretch:"normal",weight:Ze,style:dt}}),Et=(function(yt,kt,_r){for(var Zt=(_r=_r||{}).defaultFontFamily||"times",At=Object.assign({},tNe,_r.genericFontFamilies||{}),er=null,br=null,ar=0;ar<kt.length;++ar)if(At[(er=R4(kt[ar])).family]&&(er.family=At[er.family]),yt.hasOwnProperty(er.family)){br=yt[er.family];break}if(!(br=br||yt[Zt]))throw new Error("Could not find a font-family for the rule '"+K7(er)+"' and default family '"+Zt+"'.");if(br=(function(Er,dr){if(dr[Er])return dr[Er];var pn=j_[Er],Un=pn<=j_.normal?-1:1,Hr=V7(dr,tU,pn,Un);if(!Hr)throw new Error("Could not find a matching font-stretch value for "+Er);return Hr})(er.stretch,br),br=(function(Er,dr){if(dr[Er])return dr[Er];for(var pn=eU[Er],Un=0;Un<pn.length;++Un)if(dr[pn[Un]])return dr[pn[Un]];throw new Error("Could not find a matching font-style for "+Er)})(er.style,br),!(br=(function(Er,dr){if(dr[Er])return dr[Er];if(Er===400&&dr[500])return dr[500];if(Er===500&&dr[400])return dr[400];var pn=eNe[Er],Un=V7(dr,rU,pn,Er<400?-1:1);if(!Un)throw new Error("Could not find a matching font-weight for value "+Er);return Un})(er.weight,br)))throw new Error("Failed to resolve a font for the rule '"+K7(er)+"'.");return br})(Ye,pt);this.pdf.setFont(Et.ref.name,Et.ref.style)}else{var zt="";(Ze==="bold"||parseInt(Ze,10)>=700||dt==="bold")&&(zt="bold"),dt==="italic"&&(zt+="italic"),zt.length===0&&(zt="normal");for(var Kt="",Ar={arial:"Helvetica",Arial:"Helvetica",verdana:"Helvetica",Verdana:"Helvetica",helvetica:"Helvetica",Helvetica:"Helvetica","sans-serif":"Helvetica",fixed:"Courier",monospace:"Courier",terminal:"Courier",cursive:"Times",fantasy:"Times",serif:"Times"},Mt=0;Mt<xt.length;Mt++){if(this.pdf.internal.getFont(xt[Mt],zt,{noFallback:!0,disableWarning:!0})!==void 0){Kt=xt[Mt];break}if(zt==="bolditalic"&&this.pdf.internal.getFont(xt[Mt],"bold",{noFallback:!0,disableWarning:!0})!==void 0)Kt=xt[Mt],zt="bold";else if(this.pdf.internal.getFont(xt[Mt],"normal",{noFallback:!0,disableWarning:!0})!==void 0){Kt=xt[Mt],zt="normal";break}}if(Kt===""){for(var Pt=0;Pt<xt.length;Pt++)if(Ar[xt[Pt]]){Kt=Ar[xt[Pt]];break}}Kt=Kt===""?"Times":Kt,this.pdf.setFont(Kt,zt)}}}}),Object.defineProperty(this,"globalCompositeOperation",{get:function(){return this.ctx.globalCompositeOperation},set:function(Ee){this.ctx.globalCompositeOperation=Ee}}),Object.defineProperty(this,"globalAlpha",{get:function(){return this.ctx.globalAlpha},set:function(Ee){this.ctx.globalAlpha=Ee}}),Object.defineProperty(this,"lineDashOffset",{get:function(){return this.ctx.lineDashOffset},set:function(Ee){this.ctx.lineDashOffset=Ee,re.call(this)}}),Object.defineProperty(this,"lineDash",{get:function(){return this.ctx.lineDash},set:function(Ee){this.ctx.lineDash=Ee,re.call(this)}}),Object.defineProperty(this,"ignoreClearRect",{get:function(){return this.ctx.ignoreClearRect},set:function(Ee){this.ctx.ignoreClearRect=!!Ee}})};m.prototype.setLineDash=function(R){this.lineDash=R},m.prototype.getLineDash=function(){return this.lineDash.length%2?this.lineDash.concat(this.lineDash):this.lineDash.slice()},m.prototype.fill=function(){T.call(this,"fill",!1)},m.prototype.stroke=function(){T.call(this,"stroke",!1)},m.prototype.beginPath=function(){this.path=[{type:"begin"}]},m.prototype.moveTo=function(R,F){if(isNaN(R)||isNaN(F))throw In.error("jsPDF.context2d.moveTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.moveTo");var q=this.ctx.transform.applyToPoint(new l(R,F));this.path.push({type:"mt",x:q.x,y:q.y}),this.ctx.lastPoint=new l(R,F)},m.prototype.closePath=function(){var R=new l(0,0),F=0;for(F=this.path.length-1;F!==-1;F--)if(this.path[F].type==="begin"&&Nn(this.path[F+1])==="object"&&typeof this.path[F+1].x=="number"){R=new l(this.path[F+1].x,this.path[F+1].y);break}this.path.push({type:"close"}),this.ctx.lastPoint=new l(R.x,R.y)},m.prototype.lineTo=function(R,F){if(isNaN(R)||isNaN(F))throw In.error("jsPDF.context2d.lineTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.lineTo");var q=this.ctx.transform.applyToPoint(new l(R,F));this.path.push({type:"lt",x:q.x,y:q.y}),this.ctx.lastPoint=new l(q.x,q.y)},m.prototype.clip=function(){this.ctx.clip_path=JSON.parse(JSON.stringify(this.path)),T.call(this,null,!0)},m.prototype.quadraticCurveTo=function(R,F,q,W){if(isNaN(q)||isNaN(W)||isNaN(R)||isNaN(F))throw In.error("jsPDF.context2d.quadraticCurveTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.quadraticCurveTo");var Q=this.ctx.transform.applyToPoint(new l(q,W)),oe=this.ctx.transform.applyToPoint(new l(R,F));this.path.push({type:"qct",x1:oe.x,y1:oe.y,x:Q.x,y:Q.y}),this.ctx.lastPoint=new l(Q.x,Q.y)},m.prototype.bezierCurveTo=function(R,F,q,W,Q,oe){if(isNaN(Q)||isNaN(oe)||isNaN(R)||isNaN(F)||isNaN(q)||isNaN(W))throw In.error("jsPDF.context2d.bezierCurveTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.bezierCurveTo");var ue=this.ctx.transform.applyToPoint(new l(Q,oe)),X=this.ctx.transform.applyToPoint(new l(R,F)),ve=this.ctx.transform.applyToPoint(new l(q,W));this.path.push({type:"bct",x1:X.x,y1:X.y,x2:ve.x,y2:ve.y,x:ue.x,y:ue.y}),this.ctx.lastPoint=new l(ue.x,ue.y)},m.prototype.arc=function(R,F,q,W,Q,oe){if(isNaN(R)||isNaN(F)||isNaN(q)||isNaN(W)||isNaN(Q))throw In.error("jsPDF.context2d.arc: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.arc");if(oe=!!oe,!this.ctx.transform.isIdentity){var ue=this.ctx.transform.applyToPoint(new l(R,F));R=ue.x,F=ue.y;var X=this.ctx.transform.applyToPoint(new l(0,q)),ve=this.ctx.transform.applyToPoint(new l(0,0));q=Math.sqrt(Math.pow(X.x-ve.x,2)+Math.pow(X.y-ve.y,2))}Math.abs(Q-W)>=2*Math.PI&&(W=0,Q=2*Math.PI),this.path.push({type:"arc",x:R,y:F,radius:q,startAngle:W,endAngle:Q,counterclockwise:oe})},m.prototype.arcTo=function(R,F,q,W,Q){throw new Error("arcTo not implemented.")},m.prototype.rect=function(R,F,q,W){if(isNaN(R)||isNaN(F)||isNaN(q)||isNaN(W))throw In.error("jsPDF.context2d.rect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.rect");this.moveTo(R,F),this.lineTo(R+q,F),this.lineTo(R+q,F+W),this.lineTo(R,F+W),this.lineTo(R,F),this.lineTo(R+q,F),this.lineTo(R,F)},m.prototype.fillRect=function(R,F,q,W){if(isNaN(R)||isNaN(F)||isNaN(q)||isNaN(W))throw In.error("jsPDF.context2d.fillRect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.fillRect");if(!x.call(this)){var Q={};this.lineCap!=="butt"&&(Q.lineCap=this.lineCap,this.lineCap="butt"),this.lineJoin!=="miter"&&(Q.lineJoin=this.lineJoin,this.lineJoin="miter"),this.beginPath(),this.rect(R,F,q,W),this.fill(),Q.hasOwnProperty("lineCap")&&(this.lineCap=Q.lineCap),Q.hasOwnProperty("lineJoin")&&(this.lineJoin=Q.lineJoin)}},m.prototype.strokeRect=function(R,F,q,W){if(isNaN(R)||isNaN(F)||isNaN(q)||isNaN(W))throw In.error("jsPDF.context2d.strokeRect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.strokeRect");b.call(this)||(this.beginPath(),this.rect(R,F,q,W),this.stroke())},m.prototype.clearRect=function(R,F,q,W){if(isNaN(R)||isNaN(F)||isNaN(q)||isNaN(W))throw In.error("jsPDF.context2d.clearRect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.clearRect");this.ignoreClearRect||(this.fillStyle="#ffffff",this.fillRect(R,F,q,W))},m.prototype.save=function(R){R=typeof R!="boolean"||R;for(var F=this.pdf.internal.getCurrentPageInfo().pageNumber,q=0;q<this.pdf.internal.getNumberOfPages();q++)this.pdf.setPage(q+1),this.pdf.internal.out("q");if(this.pdf.setPage(F),R){this.ctx.fontSize=this.pdf.internal.getFontSize();var W=new h(this.ctx);this.ctxStack.push(this.ctx),this.ctx=W}},m.prototype.restore=function(R){R=typeof R!="boolean"||R;for(var F=this.pdf.internal.getCurrentPageInfo().pageNumber,q=0;q<this.pdf.internal.getNumberOfPages();q++)this.pdf.setPage(q+1),this.pdf.internal.out("Q");this.pdf.setPage(F),R&&this.ctxStack.length!==0&&(this.ctx=this.ctxStack.pop(),this.fillStyle=this.ctx.fillStyle,this.strokeStyle=this.ctx.strokeStyle,this.font=this.ctx.font,this.lineCap=this.ctx.lineCap,this.lineWidth=this.ctx.lineWidth,this.lineJoin=this.ctx.lineJoin,this.lineDash=this.ctx.lineDash,this.lineDashOffset=this.ctx.lineDashOffset)},m.prototype.toDataURL=function(){throw new Error("toDataUrl not implemented.")};var g=function(R){var F,q,W,Q;if(R.isCanvasGradient===!0&&(R=R.getColor()),!R)return{r:0,g:0,b:0,a:0,style:R};if(/transparent|rgba\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*,\s*0+\s*\)/.test(R))F=0,q=0,W=0,Q=0;else{var oe=/rgb\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*\)/.exec(R);if(oe!==null)F=parseInt(oe[1]),q=parseInt(oe[2]),W=parseInt(oe[3]),Q=1;else if((oe=/rgba\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*,\s*([\d.]+)\s*\)/.exec(R))!==null)F=parseInt(oe[1]),q=parseInt(oe[2]),W=parseInt(oe[3]),Q=parseFloat(oe[4]);else{if(Q=1,typeof R=="string"&&R.charAt(0)!=="#"){var ue=new KB(R);R=ue.ok?ue.toHex():"#000000"}R.length===4?(F=R.substring(1,2),F+=F,q=R.substring(2,3),q+=q,W=R.substring(3,4),W+=W):(F=R.substring(1,3),q=R.substring(3,5),W=R.substring(5,7)),F=parseInt(F,16),q=parseInt(q,16),W=parseInt(W,16)}}return{r:F,g:q,b:W,a:Q,style:R}},x=function(){return this.ctx.isFillTransparent||this.globalAlpha==0},b=function(){return!!(this.ctx.isStrokeTransparent||this.globalAlpha==0)};m.prototype.fillText=function(R,F,q,W){if(isNaN(F)||isNaN(q)||typeof R!="string")throw In.error("jsPDF.context2d.fillText: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.fillText");if(W=isNaN(W)?void 0:W,!x.call(this)){var Q=xe(this.ctx.transform.rotation),oe=this.ctx.transform.scaleX;U.call(this,{text:R,x:F,y:q,scale:oe,angle:Q,align:this.textAlign,maxWidth:W})}},m.prototype.strokeText=function(R,F,q,W){if(isNaN(F)||isNaN(q)||typeof R!="string")throw In.error("jsPDF.context2d.strokeText: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.strokeText");if(!b.call(this)){W=isNaN(W)?void 0:W;var Q=xe(this.ctx.transform.rotation),oe=this.ctx.transform.scaleX;U.call(this,{text:R,x:F,y:q,scale:oe,renderingMode:"stroke",angle:Q,align:this.textAlign,maxWidth:W})}},m.prototype.measureText=function(R){if(typeof R!="string")throw In.error("jsPDF.context2d.measureText: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.measureText");var F=this.pdf,q=this.pdf.internal.scaleFactor,W=F.internal.getFontSize(),Q=F.getStringUnitWidth(R)*W/F.internal.scaleFactor;return new function(oe){var ue=(oe=oe||{}).width||0;return Object.defineProperty(this,"width",{get:function(){return ue}}),this}({width:Q*=Math.round(96*q/72*1e4)/1e4})},m.prototype.scale=function(R,F){if(isNaN(R)||isNaN(F))throw In.error("jsPDF.context2d.scale: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.scale");var q=new u(R,0,0,F,0,0);this.ctx.transform=this.ctx.transform.multiply(q)},m.prototype.rotate=function(R){if(isNaN(R))throw In.error("jsPDF.context2d.rotate: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.rotate");var F=new u(Math.cos(R),Math.sin(R),-Math.sin(R),Math.cos(R),0,0);this.ctx.transform=this.ctx.transform.multiply(F)},m.prototype.translate=function(R,F){if(isNaN(R)||isNaN(F))throw In.error("jsPDF.context2d.translate: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.translate");var q=new u(1,0,0,1,R,F);this.ctx.transform=this.ctx.transform.multiply(q)},m.prototype.transform=function(R,F,q,W,Q,oe){if(isNaN(R)||isNaN(F)||isNaN(q)||isNaN(W)||isNaN(Q)||isNaN(oe))throw In.error("jsPDF.context2d.transform: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.transform");var ue=new u(R,F,q,W,Q,oe);this.ctx.transform=this.ctx.transform.multiply(ue)},m.prototype.setTransform=function(R,F,q,W,Q,oe){R=isNaN(R)?1:R,F=isNaN(F)?0:F,q=isNaN(q)?0:q,W=isNaN(W)?1:W,Q=isNaN(Q)?0:Q,oe=isNaN(oe)?0:oe,this.ctx.transform=new u(R,F,q,W,Q,oe)};var v=function(){return this.margin[0]>0||this.margin[1]>0||this.margin[2]>0||this.margin[3]>0};m.prototype.drawImage=function(R,F,q,W,Q,oe,ue,X,ve){var Te=this.pdf.getImageProperties(R),Y=1,We=1,Ee=1,ge=1;W!==void 0&&X!==void 0&&(Ee=X/W,ge=ve/Q,Y=Te.width/W*X/W,We=Te.height/Q*ve/Q),oe===void 0&&(oe=F,ue=q,F=0,q=0),W!==void 0&&X===void 0&&(X=W,ve=Q),W===void 0&&X===void 0&&(X=Te.width,ve=Te.height);for(var dt,Ze=this.ctx.transform.decompose(),bt=xe(Ze.rotate.shx),lt=new u,Ct=(lt=(lt=(lt=lt.multiply(Ze.translate)).multiply(Ze.skew)).multiply(Ze.scale)).applyToRectangle(new o(oe-F*Ee,ue-q*ge,W*Y,Q*We)),xt=w.call(this,Ct),Ye=[],pt=0;pt<xt.length;pt+=1)Ye.indexOf(xt[pt])===-1&&Ye.push(xt[pt]);if(j(Ye),this.autoPaging)for(var Et=Ye[0],zt=Ye[Ye.length-1],Kt=Et;Kt<zt+1;Kt++){this.pdf.setPage(Kt);var Ar=this.pdf.internal.pageSize.width-this.margin[3]-this.margin[1],Mt=Kt===1?this.posY+this.margin[0]:this.margin[0],Pt=this.pdf.internal.pageSize.height-this.posY-this.margin[0]-this.margin[2],yt=this.pdf.internal.pageSize.height-this.margin[0]-this.margin[2],kt=Kt===1?0:Pt+(Kt-2)*yt;if(this.ctx.clip_path.length!==0){var _r=this.path;dt=JSON.parse(JSON.stringify(this.ctx.clip_path)),this.path=E(dt,this.posX+this.margin[3],-kt+Mt+this.ctx.prevPageLastElemOffset),O.call(this,"fill",!0),this.path=_r}var Zt=JSON.parse(JSON.stringify(Ct));Zt=E([Zt],this.posX+this.margin[3],-kt+Mt+this.ctx.prevPageLastElemOffset)[0];var At=(Kt>Et||Kt<zt)&&v.call(this);At&&(this.pdf.saveGraphicsState(),this.pdf.rect(this.margin[3],this.margin[0],Ar,yt,null).clip().discardPath()),this.pdf.addImage(R,"JPEG",Zt.x,Zt.y,Zt.w,Zt.h,null,null,bt),At&&this.pdf.restoreGraphicsState()}else this.pdf.addImage(R,"JPEG",Ct.x,Ct.y,Ct.w,Ct.h,null,null,bt)};var w=function(R,F,q){var W=[];F=F||this.pdf.internal.pageSize.width,q=q||this.pdf.internal.pageSize.height-this.margin[0]-this.margin[2];var Q=this.posY+this.ctx.prevPageLastElemOffset;switch(R.type){default:case"mt":case"lt":W.push(Math.floor((R.y+Q)/q)+1);break;case"arc":W.push(Math.floor((R.y+Q-R.radius)/q)+1),W.push(Math.floor((R.y+Q+R.radius)/q)+1);break;case"qct":var oe=le(this.ctx.lastPoint.x,this.ctx.lastPoint.y,R.x1,R.y1,R.x,R.y);W.push(Math.floor((oe.y+Q)/q)+1),W.push(Math.floor((oe.y+oe.h+Q)/q)+1);break;case"bct":var ue=Se(this.ctx.lastPoint.x,this.ctx.lastPoint.y,R.x1,R.y1,R.x2,R.y2,R.x,R.y);W.push(Math.floor((ue.y+Q)/q)+1),W.push(Math.floor((ue.y+ue.h+Q)/q)+1);break;case"rect":W.push(Math.floor((R.y+Q)/q)+1),W.push(Math.floor((R.y+R.h+Q)/q)+1)}for(var X=0;X<W.length;X+=1)for(;this.pdf.internal.getNumberOfPages()<W[X];)N.call(this);return W},N=function(){var R=this.fillStyle,F=this.strokeStyle,q=this.font,W=this.lineCap,Q=this.lineWidth,oe=this.lineJoin;this.pdf.addPage(),this.fillStyle=R,this.strokeStyle=F,this.font=q,this.lineCap=W,this.lineWidth=Q,this.lineJoin=oe},E=function(R,F,q){for(var W=0;W<R.length;W++)switch(R[W].type){case"bct":R[W].x2+=F,R[W].y2+=q;case"qct":R[W].x1+=F,R[W].y1+=q;default:R[W].x+=F,R[W].y+=q}return R},j=function(R){return R.sort(function(F,q){return F-q})},T=function(R,F){for(var q,W,Q=this.fillStyle,oe=this.strokeStyle,ue=this.lineCap,X=this.lineWidth,ve=Math.abs(X*this.ctx.transform.scaleX),Te=this.lineJoin,Y=JSON.parse(JSON.stringify(this.path)),We=JSON.parse(JSON.stringify(this.path)),Ee=[],ge=0;ge<We.length;ge++)if(We[ge].x!==void 0)for(var dt=w.call(this,We[ge]),Ze=0;Ze<dt.length;Ze+=1)Ee.indexOf(dt[Ze])===-1&&Ee.push(dt[Ze]);for(var bt=0;bt<Ee.length;bt++)for(;this.pdf.internal.getNumberOfPages()<Ee[bt];)N.call(this);if(j(Ee),this.autoPaging)for(var lt=Ee[0],Ct=Ee[Ee.length-1],xt=lt;xt<Ct+1;xt++){this.pdf.setPage(xt),this.fillStyle=Q,this.strokeStyle=oe,this.lineCap=ue,this.lineWidth=ve,this.lineJoin=Te;var Ye=this.pdf.internal.pageSize.width-this.margin[3]-this.margin[1],pt=xt===1?this.posY+this.margin[0]:this.margin[0],Et=this.pdf.internal.pageSize.height-this.posY-this.margin[0]-this.margin[2],zt=this.pdf.internal.pageSize.height-this.margin[0]-this.margin[2],Kt=xt===1?0:Et+(xt-2)*zt;if(this.ctx.clip_path.length!==0){var Ar=this.path;q=JSON.parse(JSON.stringify(this.ctx.clip_path)),this.path=E(q,this.posX+this.margin[3],-Kt+pt+this.ctx.prevPageLastElemOffset),O.call(this,R,!0),this.path=Ar}if(W=JSON.parse(JSON.stringify(Y)),this.path=E(W,this.posX+this.margin[3],-Kt+pt+this.ctx.prevPageLastElemOffset),F===!1||xt===0){var Mt=(xt>lt||xt<Ct)&&v.call(this);Mt&&(this.pdf.saveGraphicsState(),this.pdf.rect(this.margin[3],this.margin[0],Ye,zt,null).clip().discardPath()),O.call(this,R,F),Mt&&this.pdf.restoreGraphicsState()}this.lineWidth=X}else this.lineWidth=ve,O.call(this,R,F),this.lineWidth=X;this.path=Y},O=function(R,F){if((R!=="stroke"||F||!b.call(this))&&(R==="stroke"||F||!x.call(this))){for(var q,W,Q=[],oe=this.path,ue=0;ue<oe.length;ue++){var X=oe[ue];switch(X.type){case"begin":Q.push({begin:!0});break;case"close":Q.push({close:!0});break;case"mt":Q.push({start:X,deltas:[],abs:[]});break;case"lt":var ve=Q.length;if(oe[ue-1]&&!isNaN(oe[ue-1].x)&&(q=[X.x-oe[ue-1].x,X.y-oe[ue-1].y],ve>0)){for(;ve>=0;ve--)if(Q[ve-1].close!==!0&&Q[ve-1].begin!==!0){Q[ve-1].deltas.push(q),Q[ve-1].abs.push(X);break}}break;case"bct":q=[X.x1-oe[ue-1].x,X.y1-oe[ue-1].y,X.x2-oe[ue-1].x,X.y2-oe[ue-1].y,X.x-oe[ue-1].x,X.y-oe[ue-1].y],Q[Q.length-1].deltas.push(q);break;case"qct":var Te=oe[ue-1].x+2/3*(X.x1-oe[ue-1].x),Y=oe[ue-1].y+2/3*(X.y1-oe[ue-1].y),We=X.x+2/3*(X.x1-X.x),Ee=X.y+2/3*(X.y1-X.y),ge=X.x,dt=X.y;q=[Te-oe[ue-1].x,Y-oe[ue-1].y,We-oe[ue-1].x,Ee-oe[ue-1].y,ge-oe[ue-1].x,dt-oe[ue-1].y],Q[Q.length-1].deltas.push(q);break;case"arc":Q.push({deltas:[],abs:[],arc:!0}),Array.isArray(Q[Q.length-1].abs)&&Q[Q.length-1].abs.push(X)}}W=F?null:R==="stroke"?"stroke":"fill";for(var Ze=!1,bt=0;bt<Q.length;bt++)if(Q[bt].arc)for(var lt=Q[bt].abs,Ct=0;Ct<lt.length;Ct++){var xt=lt[Ct];xt.type==="arc"?M.call(this,xt.x,xt.y,xt.radius,xt.startAngle,xt.endAngle,xt.counterclockwise,void 0,F,!Ze):G.call(this,xt.x,xt.y),Ze=!0}else if(Q[bt].close===!0)this.pdf.internal.out("h"),Ze=!1;else if(Q[bt].begin!==!0){var Ye=Q[bt].start.x,pt=Q[bt].start.y;te.call(this,Q[bt].deltas,Ye,pt),Ze=!0}W&&B.call(this,W),F&&H.call(this)}},P=function(R){var F=this.pdf.internal.getFontSize()/this.pdf.internal.scaleFactor,q=F*(this.pdf.internal.getLineHeightFactor()-1);switch(this.ctx.textBaseline){case"bottom":return R-q;case"top":return R+F-q;case"hanging":return R+F-2*q;case"middle":return R+F/2-q;default:return R}},D=function(R){return R+this.pdf.internal.getFontSize()/this.pdf.internal.scaleFactor*(this.pdf.internal.getLineHeightFactor()-1)};m.prototype.createLinearGradient=function(){var R=function(){};return R.colorStops=[],R.addColorStop=function(F,q){this.colorStops.push([F,q])},R.getColor=function(){return this.colorStops.length===0?"#000000":this.colorStops[0][1]},R.isCanvasGradient=!0,R},m.prototype.createPattern=function(){return this.createLinearGradient()},m.prototype.createRadialGradient=function(){return this.createLinearGradient()};var M=function(R,F,q,W,Q,oe,ue,X,ve){for(var Te=ne.call(this,q,W,Q,oe),Y=0;Y<Te.length;Y++){var We=Te[Y];Y===0&&(ve?L.call(this,We.x1+R,We.y1+F):G.call(this,We.x1+R,We.y1+F)),de.call(this,R,F,We.x2,We.y2,We.x3,We.y3,We.x4,We.y4)}X?H.call(this):B.call(this,ue)},B=function(R){switch(R){case"stroke":this.pdf.internal.out("S");break;case"fill":this.pdf.internal.out("f")}},H=function(){this.pdf.clip(),this.pdf.discardPath()},L=function(R,F){this.pdf.internal.out(r(R)+" "+n(F)+" m")},U=function(R){var F;switch(R.align){case"right":case"end":F="right";break;case"center":F="center";break;default:F="left"}var q=this.pdf.getTextDimensions(R.text),W=P.call(this,R.y),Q=D.call(this,W)-q.h,oe=this.ctx.transform.applyToPoint(new l(R.x,W)),ue=this.ctx.transform.decompose(),X=new u;X=(X=(X=X.multiply(ue.translate)).multiply(ue.skew)).multiply(ue.scale);for(var ve,Te,Y,We=this.ctx.transform.applyToRectangle(new o(R.x,W,q.w,q.h)),Ee=X.applyToRectangle(new o(R.x,Q,q.w,q.h)),ge=w.call(this,Ee),dt=[],Ze=0;Ze<ge.length;Ze+=1)dt.indexOf(ge[Ze])===-1&&dt.push(ge[Ze]);if(j(dt),this.autoPaging)for(var bt=dt[0],lt=dt[dt.length-1],Ct=bt;Ct<lt+1;Ct++){this.pdf.setPage(Ct);var xt=Ct===1?this.posY+this.margin[0]:this.margin[0],Ye=this.pdf.internal.pageSize.height-this.posY-this.margin[0]-this.margin[2],pt=this.pdf.internal.pageSize.height-this.margin[2],Et=pt-this.margin[0],zt=this.pdf.internal.pageSize.width-this.margin[1],Kt=zt-this.margin[3],Ar=Ct===1?0:Ye+(Ct-2)*Et;if(this.ctx.clip_path.length!==0){var Mt=this.path;ve=JSON.parse(JSON.stringify(this.ctx.clip_path)),this.path=E(ve,this.posX+this.margin[3],-1*Ar+xt),O.call(this,"fill",!0),this.path=Mt}var Pt=E([JSON.parse(JSON.stringify(Ee))],this.posX+this.margin[3],-Ar+xt+this.ctx.prevPageLastElemOffset)[0];R.scale>=.01&&(Te=this.pdf.internal.getFontSize(),this.pdf.setFontSize(Te*R.scale),Y=this.lineWidth,this.lineWidth=Y*R.scale);var yt=this.autoPaging!=="text";if(yt||Pt.y+Pt.h<=pt){if(yt||Pt.y>=xt&&Pt.x<=zt){var kt=yt?R.text:this.pdf.splitTextToSize(R.text,R.maxWidth||zt-Pt.x)[0],_r=E([JSON.parse(JSON.stringify(We))],this.posX+this.margin[3],-Ar+xt+this.ctx.prevPageLastElemOffset)[0],Zt=yt&&(Ct>bt||Ct<lt)&&v.call(this);Zt&&(this.pdf.saveGraphicsState(),this.pdf.rect(this.margin[3],this.margin[0],Kt,Et,null).clip().discardPath()),this.pdf.text(kt,_r.x,_r.y,{angle:R.angle,align:F,renderingMode:R.renderingMode}),Zt&&this.pdf.restoreGraphicsState()}}else Pt.y<pt&&(this.ctx.prevPageLastElemOffset+=pt-Pt.y);R.scale>=.01&&(this.pdf.setFontSize(Te),this.lineWidth=Y)}else R.scale>=.01&&(Te=this.pdf.internal.getFontSize(),this.pdf.setFontSize(Te*R.scale),Y=this.lineWidth,this.lineWidth=Y*R.scale),this.pdf.text(R.text,oe.x+this.posX,oe.y+this.posY,{angle:R.angle,align:F,renderingMode:R.renderingMode,maxWidth:R.maxWidth}),R.scale>=.01&&(this.pdf.setFontSize(Te),this.lineWidth=Y)},G=function(R,F,q,W){q=q||0,W=W||0,this.pdf.internal.out(r(R+q)+" "+n(F+W)+" l")},te=function(R,F,q){return this.pdf.lines(R,F,q,null,null)},de=function(R,F,q,W,Q,oe,ue,X){this.pdf.internal.out([t(a(q+R)),t(i(W+F)),t(a(Q+R)),t(i(oe+F)),t(a(ue+R)),t(i(X+F)),"c"].join(" "))},ne=function(R,F,q,W){for(var Q=2*Math.PI,oe=Math.PI/2;F>q;)F-=Q;var ue=Math.abs(q-F);ue<Q&&W&&(ue=Q-ue);for(var X=[],ve=W?-1:1,Te=F;ue>1e-5;){var Y=Te+ve*Math.min(ue,oe);X.push(Z.call(this,R,Te,Y)),ue-=Math.abs(Y-Te),Te=Y}return X},Z=function(R,F,q){var W=(q-F)/2,Q=R*Math.cos(W),oe=R*Math.sin(W),ue=Q,X=-oe,ve=ue*ue+X*X,Te=ve+ue*Q+X*oe,Y=4/3*(Math.sqrt(2*ve*Te)-Te)/(ue*oe-X*Q),We=ue-Y*X,Ee=X+Y*ue,ge=We,dt=-Ee,Ze=W+F,bt=Math.cos(Ze),lt=Math.sin(Ze);return{x1:R*Math.cos(F),y1:R*Math.sin(F),x2:We*bt-Ee*lt,y2:We*lt+Ee*bt,x3:ge*bt-dt*lt,y3:ge*lt+dt*bt,x4:R*Math.cos(q),y4:R*Math.sin(q)}},xe=function(R){return 180*R/Math.PI},le=function(R,F,q,W,Q,oe){var ue=R+.5*(q-R),X=F+.5*(W-F),ve=Q+.5*(q-Q),Te=oe+.5*(W-oe),Y=Math.min(R,Q,ue,ve),We=Math.max(R,Q,ue,ve),Ee=Math.min(F,oe,X,Te),ge=Math.max(F,oe,X,Te);return new o(Y,Ee,We-Y,ge-Ee)},Se=function(R,F,q,W,Q,oe,ue,X){var ve,Te,Y,We,Ee,ge,dt,Ze,bt,lt,Ct,xt,Ye,pt,Et=q-R,zt=W-F,Kt=Q-q,Ar=oe-W,Mt=ue-Q,Pt=X-oe;for(Te=0;Te<41;Te++)bt=(dt=(Y=R+(ve=Te/40)*Et)+ve*((Ee=q+ve*Kt)-Y))+ve*(Ee+ve*(Q+ve*Mt-Ee)-dt),lt=(Ze=(We=F+ve*zt)+ve*((ge=W+ve*Ar)-We))+ve*(ge+ve*(oe+ve*Pt-ge)-Ze),Te==0?(Ct=bt,xt=lt,Ye=bt,pt=lt):(Ct=Math.min(Ct,bt),xt=Math.min(xt,lt),Ye=Math.max(Ye,bt),pt=Math.max(pt,lt));return new o(Math.round(Ct),Math.round(xt),Math.round(Ye-Ct),Math.round(pt-xt))},re=function(){if(this.prevLineDash||this.ctx.lineDash.length||this.ctx.lineDashOffset){var R,F,q=(R=this.ctx.lineDash,F=this.ctx.lineDashOffset,JSON.stringify({lineDash:R,lineDashOffset:F}));this.prevLineDash!==q&&(this.pdf.setLineDash(this.ctx.lineDash,this.ctx.lineDashOffset),this.prevLineDash=q)}}})(Gt.API),(function(e){var t=function(l){var o,u,f,h,m,g,x,b,v,w;for(u=[],f=0,h=(l+=o="\0\0\0\0".slice(l.length%4||4)).length;h>f;f+=4)(m=(l.charCodeAt(f)<<24)+(l.charCodeAt(f+1)<<16)+(l.charCodeAt(f+2)<<8)+l.charCodeAt(f+3))!==0?(g=(m=((m=((m=((m=(m-(w=m%85))/85)-(v=m%85))/85)-(b=m%85))/85)-(x=m%85))/85)%85,u.push(g+33,x+33,b+33,v+33,w+33)):u.push(122);return(function(N,E){for(var j=E;j>0;j--)N.pop()})(u,o.length),String.fromCharCode.apply(String,u)+"~>"},r=function(l){var o,u,f,h,m,g=String,x="length",b=255,v="charCodeAt",w="slice",N="replace";for(l[w](-2),l=l[w](0,-2)[N](/\s/g,"")[N]("z","!!!!!"),f=[],h=0,m=(l+=o="uuuuu"[w](l[x]%5||5))[x];m>h;h+=5)u=52200625*(l[v](h)-33)+614125*(l[v](h+1)-33)+7225*(l[v](h+2)-33)+85*(l[v](h+3)-33)+(l[v](h+4)-33),f.push(b&u>>24,b&u>>16,b&u>>8,b&u);return(function(E,j){for(var T=j;T>0;T--)E.pop()})(f,o[x]),g.fromCharCode.apply(g,f)},n=function(l){return l.split("").map(function(o){return("0"+o.charCodeAt().toString(16)).slice(-2)}).join("")+">"},a=function(l){var o=new RegExp(/^([0-9A-Fa-f]{2})+$/);if((l=l.replace(/\s/g,"")).indexOf(">")!==-1&&(l=l.substr(0,l.indexOf(">"))),l.length%2&&(l+="0"),o.test(l)===!1)return"";for(var u="",f=0;f<l.length;f+=2)u+=String.fromCharCode("0x"+(l[f]+l[f+1]));return u},i=function(l){for(var o=new Uint8Array(l.length),u=l.length;u--;)o[u]=l.charCodeAt(u);return(o=g_(o)).reduce(function(f,h){return f+String.fromCharCode(h)},"")};e.processDataByFilters=function(l,o){var u=0,f=l||"",h=[];for(typeof(o=o||[])=="string"&&(o=[o]),u=0;u<o.length;u+=1)switch(o[u]){case"ASCII85Decode":case"/ASCII85Decode":f=r(f),h.push("/ASCII85Encode");break;case"ASCII85Encode":case"/ASCII85Encode":f=t(f),h.push("/ASCII85Decode");break;case"ASCIIHexDecode":case"/ASCIIHexDecode":f=a(f),h.push("/ASCIIHexEncode");break;case"ASCIIHexEncode":case"/ASCIIHexEncode":f=n(f),h.push("/ASCIIHexDecode");break;case"FlateEncode":case"/FlateEncode":f=i(f),h.push("/FlateDecode");break;default:throw new Error('The filter: "'+o[u]+'" is not implemented')}return{data:f,reverseChain:h.reverse().join(" ")}}})(Gt.API),(function(e){e.loadFile=function(t,r,n){return(function(a,i,l){i=i!==!1,l=typeof l=="function"?l:function(){};var o=void 0;try{o=(function(u,f,h){var m=new XMLHttpRequest,g=0,x=function(b){var v=b.length,w=[],N=String.fromCharCode;for(g=0;g<v;g+=1)w.push(N(255&b.charCodeAt(g)));return w.join("")};if(m.open("GET",u,!f),m.overrideMimeType("text/plain; charset=x-user-defined"),f===!1&&(m.onload=function(){m.status===200?h(x(this.responseText)):h(void 0)}),m.send(null),f&&m.status===200)return x(m.responseText)})(a,i,l)}catch{}return o})(t,r,n)},e.loadImageFile=e.loadFile})(Gt.API),(function(e){function t(){return(pr.html2canvas?Promise.resolve(pr.html2canvas):Sw(()=>import("./html2canvas.esm-B0tyYwQk.js"),[])).catch(function(o){return Promise.reject(new Error("Could not load html2canvas: "+o))}).then(function(o){return o.default?o.default:o})}function r(){return(pr.DOMPurify?Promise.resolve(pr.DOMPurify):Sw(()=>import("./purify.es-B6FQ9oRL.js"),[])).catch(function(o){return Promise.reject(new Error("Could not load dompurify: "+o))}).then(function(o){return o.default?o.default:o})}var n=function(o){var u=Nn(o);return u==="undefined"?"undefined":u==="string"||o instanceof String?"string":u==="number"||o instanceof Number?"number":u==="function"||o instanceof Function?"function":o&&o.constructor===Array?"array":o&&o.nodeType===1?"element":u==="object"?"object":"unknown"},a=function(o,u){var f=document.createElement(o);for(var h in u.className&&(f.className=u.className),u.innerHTML&&u.dompurify&&(f.innerHTML=u.dompurify.sanitize(u.innerHTML)),u.style)f.style[h]=u.style[h];return f},i=function o(u,f){for(var h=u.nodeType===3?document.createTextNode(u.nodeValue):u.cloneNode(!1),m=u.firstChild;m;m=m.nextSibling)f!==!0&&m.nodeType===1&&m.nodeName==="SCRIPT"||h.appendChild(o(m,f));return u.nodeType===1&&(u.nodeName==="CANVAS"?(h.width=u.width,h.height=u.height,h.getContext("2d").drawImage(u,0,0)):u.nodeName!=="TEXTAREA"&&u.nodeName!=="SELECT"||(h.value=u.value),h.addEventListener("load",function(){h.scrollTop=u.scrollTop,h.scrollLeft=u.scrollLeft},!0)),h},l=function o(u){var f=Object.assign(o.convert(Promise.resolve()),JSON.parse(JSON.stringify(o.template))),h=o.convert(Promise.resolve(),f);return(h=h.setProgress(1,o,1,[o])).set(u)};(l.prototype=Object.create(Promise.prototype)).constructor=l,l.convert=function(o,u){return o.__proto__=u||l.prototype,o},l.template={prop:{src:null,container:null,overlay:null,canvas:null,img:null,pdf:null,pageSize:null,callback:function(){}},progress:{val:0,state:null,n:0,stack:[]},opt:{filename:"file.pdf",margin:[0,0,0,0],enableLinks:!0,x:0,y:0,html2canvas:{},jsPDF:{},backgroundColor:"transparent"}},l.prototype.from=function(o,u){return this.then(function(){switch(u=u||(function(f){switch(n(f)){case"string":return"string";case"element":return f.nodeName.toLowerCase()==="canvas"?"canvas":"element";default:return"unknown"}})(o),u){case"string":return this.then(r).then(function(f){return this.set({src:a("div",{innerHTML:o,dompurify:f})})});case"element":return this.set({src:o});case"canvas":return this.set({canvas:o});case"img":return this.set({img:o});default:return this.error("Unknown source type.")}})},l.prototype.to=function(o){switch(o){case"container":return this.toContainer();case"canvas":return this.toCanvas();case"img":return this.toImg();case"pdf":return this.toPdf();default:return this.error("Invalid target.")}},l.prototype.toContainer=function(){return this.thenList([function(){return this.prop.src||this.error("Cannot duplicate - no source HTML.")},function(){return this.prop.pageSize||this.setPageSize()}]).then(function(){var o={position:"relative",display:"inline-block",width:(typeof this.opt.width!="number"||isNaN(this.opt.width)||typeof this.opt.windowWidth!="number"||isNaN(this.opt.windowWidth)?Math.max(this.prop.src.clientWidth,this.prop.src.scrollWidth,this.prop.src.offsetWidth):this.opt.windowWidth)+"px",left:0,right:0,top:0,margin:"auto",backgroundColor:this.opt.backgroundColor},u=i(this.prop.src,this.opt.html2canvas.javascriptEnabled);u.tagName==="BODY"&&(o.height=Math.max(document.body.scrollHeight,document.body.offsetHeight,document.documentElement.clientHeight,document.documentElement.scrollHeight,document.documentElement.offsetHeight)+"px"),this.prop.overlay=a("div",{className:"html2pdf__overlay",style:{position:"fixed",overflow:"hidden",zIndex:1e3,left:"-100000px",right:0,bottom:0,top:0}}),this.prop.container=a("div",{className:"html2pdf__container",style:o}),this.prop.container.appendChild(u),this.prop.container.firstChild.appendChild(a("div",{style:{clear:"both",border:"0 none transparent",margin:0,padding:0,height:0}})),this.prop.container.style.float="none",this.prop.overlay.appendChild(this.prop.container),document.body.appendChild(this.prop.overlay),this.prop.container.firstChild.style.position="relative",this.prop.container.height=Math.max(this.prop.container.firstChild.clientHeight,this.prop.container.firstChild.scrollHeight,this.prop.container.firstChild.offsetHeight)+"px"})},l.prototype.toCanvas=function(){var o=[function(){return document.body.contains(this.prop.container)||this.toContainer()}];return this.thenList(o).then(t).then(function(u){var f=Object.assign({},this.opt.html2canvas);return delete f.onrendered,u(this.prop.container,f)}).then(function(u){(this.opt.html2canvas.onrendered||function(){})(u),this.prop.canvas=u,document.body.removeChild(this.prop.overlay)})},l.prototype.toContext2d=function(){var o=[function(){return document.body.contains(this.prop.container)||this.toContainer()}];return this.thenList(o).then(t).then(function(u){var f=this.opt.jsPDF,h=this.opt.fontFaces,m=typeof this.opt.width!="number"||isNaN(this.opt.width)||typeof this.opt.windowWidth!="number"||isNaN(this.opt.windowWidth)?1:this.opt.width/this.opt.windowWidth,g=Object.assign({async:!0,allowTaint:!0,scale:m,scrollX:this.opt.scrollX||0,scrollY:this.opt.scrollY||0,backgroundColor:"#ffffff",imageTimeout:15e3,logging:!0,proxy:null,removeContainer:!0,foreignObjectRendering:!1,useCORS:!1},this.opt.html2canvas);if(delete g.onrendered,f.context2d.autoPaging=this.opt.autoPaging===void 0||this.opt.autoPaging,f.context2d.posX=this.opt.x,f.context2d.posY=this.opt.y,f.context2d.margin=this.opt.margin,f.context2d.fontFaces=h,h)for(var x=0;x<h.length;++x){var b=h[x],v=b.src.find(function(w){return w.format==="truetype"});v&&f.addFont(v.url,b.ref.name,b.ref.style)}return g.windowHeight=g.windowHeight||0,g.windowHeight=g.windowHeight==0?Math.max(this.prop.container.clientHeight,this.prop.container.scrollHeight,this.prop.container.offsetHeight):g.windowHeight,f.context2d.save(!0),u(this.prop.container,g)}).then(function(u){this.opt.jsPDF.context2d.restore(!0),(this.opt.html2canvas.onrendered||function(){})(u),this.prop.canvas=u,document.body.removeChild(this.prop.overlay)})},l.prototype.toImg=function(){return this.thenList([function(){return this.prop.canvas||this.toCanvas()}]).then(function(){var o=this.prop.canvas.toDataURL("image/"+this.opt.image.type,this.opt.image.quality);this.prop.img=document.createElement("img"),this.prop.img.src=o})},l.prototype.toPdf=function(){return this.thenList([function(){return this.toContext2d()}]).then(function(){this.prop.pdf=this.prop.pdf||this.opt.jsPDF})},l.prototype.output=function(o,u,f){return(f=f||"pdf").toLowerCase()==="img"||f.toLowerCase()==="image"?this.outputImg(o,u):this.outputPdf(o,u)},l.prototype.outputPdf=function(o,u){return this.thenList([function(){return this.prop.pdf||this.toPdf()}]).then(function(){return this.prop.pdf.output(o,u)})},l.prototype.outputImg=function(o){return this.thenList([function(){return this.prop.img||this.toImg()}]).then(function(){switch(o){case void 0:case"img":return this.prop.img;case"datauristring":case"dataurlstring":return this.prop.img.src;case"datauri":case"dataurl":return document.location.href=this.prop.img.src;default:throw'Image output type "'+o+'" is not supported.'}})},l.prototype.save=function(o){return this.thenList([function(){return this.prop.pdf||this.toPdf()}]).set(o?{filename:o}:null).then(function(){this.prop.pdf.save(this.opt.filename)})},l.prototype.doCallback=function(){return this.thenList([function(){return this.prop.pdf||this.toPdf()}]).then(function(){this.prop.callback(this.prop.pdf)})},l.prototype.set=function(o){if(n(o)!=="object")return this;var u=Object.keys(o||{}).map(function(f){if(f in l.template.prop)return function(){this.prop[f]=o[f]};switch(f){case"margin":return this.setMargin.bind(this,o.margin);case"jsPDF":return function(){return this.opt.jsPDF=o.jsPDF,this.setPageSize()};case"pageSize":return this.setPageSize.bind(this,o.pageSize);default:return function(){this.opt[f]=o[f]}}},this);return this.then(function(){return this.thenList(u)})},l.prototype.get=function(o,u){return this.then(function(){var f=o in l.template.prop?this.prop[o]:this.opt[o];return u?u(f):f})},l.prototype.setMargin=function(o){return this.then(function(){switch(n(o)){case"number":o=[o,o,o,o];case"array":if(o.length===2&&(o=[o[0],o[1],o[0],o[1]]),o.length===4)break;default:return this.error("Invalid margin array.")}this.opt.margin=o}).then(this.setPageSize)},l.prototype.setPageSize=function(o){function u(f,h){return Math.floor(f*h/72*96)}return this.then(function(){(o=o||Gt.getPageSize(this.opt.jsPDF)).hasOwnProperty("inner")||(o.inner={width:o.width-this.opt.margin[1]-this.opt.margin[3],height:o.height-this.opt.margin[0]-this.opt.margin[2]},o.inner.px={width:u(o.inner.width,o.k),height:u(o.inner.height,o.k)},o.inner.ratio=o.inner.height/o.inner.width),this.prop.pageSize=o})},l.prototype.setProgress=function(o,u,f,h){return o!=null&&(this.progress.val=o),u!=null&&(this.progress.state=u),f!=null&&(this.progress.n=f),h!=null&&(this.progress.stack=h),this.progress.ratio=this.progress.val/this.progress.state,this},l.prototype.updateProgress=function(o,u,f,h){return this.setProgress(o?this.progress.val+o:null,u||null,f?this.progress.n+f:null,h?this.progress.stack.concat(h):null)},l.prototype.then=function(o,u){var f=this;return this.thenCore(o,u,function(h,m){return f.updateProgress(null,null,1,[h]),Promise.prototype.then.call(this,function(g){return f.updateProgress(null,h),g}).then(h,m).then(function(g){return f.updateProgress(1),g})})},l.prototype.thenCore=function(o,u,f){f=f||Promise.prototype.then;var h=this;o&&(o=o.bind(h)),u&&(u=u.bind(h));var m=Promise.toString().indexOf("[native code]")!==-1&&Promise.name==="Promise"?h:l.convert(Object.assign({},h),Promise.prototype),g=f.call(m,o,u);return l.convert(g,h.__proto__)},l.prototype.thenExternal=function(o,u){return Promise.prototype.then.call(this,o,u)},l.prototype.thenList=function(o){var u=this;return o.forEach(function(f){u=u.thenCore(f)}),u},l.prototype.catch=function(o){o&&(o=o.bind(this));var u=Promise.prototype.catch.call(this,o);return l.convert(u,this)},l.prototype.catchExternal=function(o){return Promise.prototype.catch.call(this,o)},l.prototype.error=function(o){return this.then(function(){throw new Error(o)})},l.prototype.using=l.prototype.set,l.prototype.saveAs=l.prototype.save,l.prototype.export=l.prototype.output,l.prototype.run=l.prototype.then,Gt.getPageSize=function(o,u,f){if(Nn(o)==="object"){var h=o;o=h.orientation,u=h.unit||u,f=h.format||f}u=u||"mm",f=f||"a4",o=(""+(o||"P")).toLowerCase();var m,g=(""+f).toLowerCase(),x={a0:[2383.94,3370.39],a1:[1683.78,2383.94],a2:[1190.55,1683.78],a3:[841.89,1190.55],a4:[595.28,841.89],a5:[419.53,595.28],a6:[297.64,419.53],a7:[209.76,297.64],a8:[147.4,209.76],a9:[104.88,147.4],a10:[73.7,104.88],b0:[2834.65,4008.19],b1:[2004.09,2834.65],b2:[1417.32,2004.09],b3:[1000.63,1417.32],b4:[708.66,1000.63],b5:[498.9,708.66],b6:[354.33,498.9],b7:[249.45,354.33],b8:[175.75,249.45],b9:[124.72,175.75],b10:[87.87,124.72],c0:[2599.37,3676.54],c1:[1836.85,2599.37],c2:[1298.27,1836.85],c3:[918.43,1298.27],c4:[649.13,918.43],c5:[459.21,649.13],c6:[323.15,459.21],c7:[229.61,323.15],c8:[161.57,229.61],c9:[113.39,161.57],c10:[79.37,113.39],dl:[311.81,623.62],letter:[612,792],"government-letter":[576,756],legal:[612,1008],"junior-legal":[576,360],ledger:[1224,792],tabloid:[792,1224],"credit-card":[153,243]};switch(u){case"pt":m=1;break;case"mm":m=72/25.4;break;case"cm":m=72/2.54;break;case"in":m=72;break;case"px":m=.75;break;case"pc":case"em":m=12;break;case"ex":m=6;break;default:throw"Invalid unit: "+u}var b,v=0,w=0;if(x.hasOwnProperty(g))v=x[g][1]/m,w=x[g][0]/m;else try{v=f[1],w=f[0]}catch{throw new Error("Invalid format: "+f)}if(o==="p"||o==="portrait")o="p",w>v&&(b=w,w=v,v=b);else{if(o!=="l"&&o!=="landscape")throw"Invalid orientation: "+o;o="l",v>w&&(b=w,w=v,v=b)}return{width:w,height:v,unit:u,k:m,orientation:o}},e.html=function(o,u){(u=u||{}).callback=u.callback||function(){},u.html2canvas=u.html2canvas||{},u.html2canvas.canvas=u.html2canvas.canvas||this.canvas,u.jsPDF=u.jsPDF||this,u.fontFaces=u.fontFaces?u.fontFaces.map(R4):null;var f=new l(u);return u.worker?f:f.from(o).doCallback()}})(Gt.API),Gt.API.addJS=function(e){return X7=e,this.internal.events.subscribe("postPutResources",function(){Dv=this.internal.newObject(),this.internal.out("<<"),this.internal.out("/Names [(EmbeddedJS) "+(Dv+1)+" 0 R]"),this.internal.out(">>"),this.internal.out("endobj"),Y7=this.internal.newObject(),this.internal.out("<<"),this.internal.out("/S /JavaScript"),this.internal.out("/JS ("+X7+")"),this.internal.out(">>"),this.internal.out("endobj")}),this.internal.events.subscribe("putCatalog",function(){Dv!==void 0&&Y7!==void 0&&this.internal.out("/Names <</JavaScript "+Dv+" 0 R>>")}),this},(function(e){var t;e.events.push(["postPutResources",function(){var r=this,n=/^(\d+) 0 obj$/;if(this.outline.root.children.length>0)for(var a=r.outline.render().split(/\r\n/),i=0;i<a.length;i++){var l=a[i],o=n.exec(l);if(o!=null){var u=o[1];r.internal.newObjectDeferredBegin(u,!1)}r.internal.write(l)}if(this.outline.createNamedDestinations){var f=this.internal.pages.length,h=[];for(i=0;i<f;i++){var m=r.internal.newObject();h.push(m);var g=r.internal.getPageInfo(i+1);r.internal.write("<< /D["+g.objId+" 0 R /XYZ null null null]>> endobj")}var x=r.internal.newObject();for(r.internal.write("<< /Names [ "),i=0;i<h.length;i++)r.internal.write("(page_"+(i+1)+")"+h[i]+" 0 R");r.internal.write(" ] >>","endobj"),t=r.internal.newObject(),r.internal.write("<< /Dests "+x+" 0 R"),r.internal.write(">>","endobj")}}]),e.events.push(["putCatalog",function(){var r=this;r.outline.root.children.length>0&&(r.internal.write("/Outlines",this.outline.makeRef(this.outline.root)),this.outline.createNamedDestinations&&r.internal.write("/Names "+t+" 0 R"))}]),e.events.push(["initialized",function(){var r=this;r.outline={createNamedDestinations:!1,root:{children:[]}},r.outline.add=function(n,a,i){var l={title:a,options:i,children:[]};return n==null&&(n=this.root),n.children.push(l),l},r.outline.render=function(){return this.ctx={},this.ctx.val="",this.ctx.pdf=r,this.genIds_r(this.root),this.renderRoot(this.root),this.renderItems(this.root),this.ctx.val},r.outline.genIds_r=function(n){n.id=r.internal.newObjectDeferred();for(var a=0;a<n.children.length;a++)this.genIds_r(n.children[a])},r.outline.renderRoot=function(n){this.objStart(n),this.line("/Type /Outlines"),n.children.length>0&&(this.line("/First "+this.makeRef(n.children[0])),this.line("/Last "+this.makeRef(n.children[n.children.length-1]))),this.line("/Count "+this.count_r({count:0},n)),this.objEnd()},r.outline.renderItems=function(n){for(var a=this.ctx.pdf.internal.getVerticalCoordinateString,i=0;i<n.children.length;i++){var l=n.children[i];this.objStart(l),this.line("/Title "+this.makeString(l.title)),this.line("/Parent "+this.makeRef(n)),i>0&&this.line("/Prev "+this.makeRef(n.children[i-1])),i<n.children.length-1&&this.line("/Next "+this.makeRef(n.children[i+1])),l.children.length>0&&(this.line("/First "+this.makeRef(l.children[0])),this.line("/Last "+this.makeRef(l.children[l.children.length-1])));var o=this.count=this.count_r({count:0},l);if(o>0&&this.line("/Count "+o),l.options&&l.options.pageNumber){var u=r.internal.getPageInfo(l.options.pageNumber);this.line("/Dest ["+u.objId+" 0 R /XYZ 0 "+a(0)+" 0]")}this.objEnd()}for(var f=0;f<n.children.length;f++)this.renderItems(n.children[f])},r.outline.line=function(n){this.ctx.val+=n+`\r
`},r.outline.makeRef=function(n){return n.id+" 0 R"},r.outline.makeString=function(n){return"("+r.internal.pdfEscape(n)+")"},r.outline.objStart=function(n){this.ctx.val+=`\r
`+n.id+` 0 obj\r
<<\r
`},r.outline.objEnd=function(){this.ctx.val+=`>> \r
endobj\r
`},r.outline.count_r=function(n,a){for(var i=0;i<a.children.length;i++)n.count++,this.count_r(n,a.children[i]);return n.count}}])})(Gt.API),(function(e){var t=[192,193,194,195,196,197,198,199];e.processJPEG=function(r,n,a,i,l,o){var u,f=this.decode.DCT_DECODE,h=null;if(typeof r=="string"||this.__addimage__.isArrayBuffer(r)||this.__addimage__.isArrayBufferView(r)){switch(r=l||r,r=this.__addimage__.isArrayBuffer(r)?new Uint8Array(r):r,u=(function(m){for(var g,x=256*m.charCodeAt(4)+m.charCodeAt(5),b=m.length,v={width:0,height:0,numcomponents:1},w=4;w<b;w+=2){if(w+=x,t.indexOf(m.charCodeAt(w+1))!==-1){g=256*m.charCodeAt(w+5)+m.charCodeAt(w+6),v={width:256*m.charCodeAt(w+7)+m.charCodeAt(w+8),height:g,numcomponents:m.charCodeAt(w+9)};break}x=256*m.charCodeAt(w+2)+m.charCodeAt(w+3)}return v})(r=this.__addimage__.isArrayBufferView(r)?this.__addimage__.arrayBufferToBinaryString(r):r),u.numcomponents){case 1:o=this.color_spaces.DEVICE_GRAY;break;case 4:o=this.color_spaces.DEVICE_CMYK;break;case 3:o=this.color_spaces.DEVICE_RGB}h={data:r,width:u.width,height:u.height,colorSpace:o,bitsPerComponent:8,filter:f,index:n,alias:a}}return h}})(Gt.API),Gt.API.processPNG=function(e,t,r,n){if(this.__addimage__.isArrayBuffer(e)&&(e=new Uint8Array(e)),this.__addimage__.isArrayBufferView(e)){var a,i=U4e(e,{checkCrc:!0}),l=i.width,o=i.height,u=i.channels,f=i.palette,h=i.depth;a=f&&u===1?(function(M){for(var B=M.width,H=M.height,L=M.data,U=M.palette,G=M.depth,te=!1,de=[],ne=[],Z=void 0,xe=!1,le=0,Se=0;Se<U.length;Se++){var re=e7(U[Se],4),R=re[0],F=re[1],q=re[2],W=re[3];de.push(R,F,q),W!=null&&(W===0?(le++,ne.length<1&&ne.push(Se)):W<255&&(xe=!0))}if(xe||le>1){te=!0,ne=void 0;var Q=B*H;Z=new Uint8Array(Q);for(var oe=new DataView(L.buffer),ue=0;ue<Q;ue++){var X=B4(oe,ue,G),ve=e7(U[X],4)[3];Z[ue]=ve}}else le===0&&(ne=void 0);return{colorSpace:"Indexed",colorsPerPixel:1,sMaskBitsPerComponent:te?8:void 0,colorBytes:L,alphaBytes:Z,needSMask:te,palette:de,mask:ne}})(i):u===2||u===4?(function(M){for(var B=M.data,H=M.width,L=M.height,U=M.channels,G=M.depth,te=U===2?"DeviceGray":"DeviceRGB",de=U-1,ne=H*L,Z=de,xe=ne*Z,le=1*ne,Se=Math.ceil(xe*G/8),re=Math.ceil(le*G/8),R=new Uint8Array(Se),F=new Uint8Array(re),q=new DataView(B.buffer),W=new DataView(R.buffer),Q=new DataView(F.buffer),oe=!1,ue=0;ue<ne;ue++){for(var X=ue*U,ve=0;ve<Z;ve++)iD(W,B4(q,X+ve,G),ue*Z+ve,G);var Te=B4(q,X+Z,G);Te<(1<<G)-1&&(oe=!0),iD(Q,Te,1*ue,G)}return{colorSpace:te,colorsPerPixel:de,sMaskBitsPerComponent:oe?G:void 0,colorBytes:R,alphaBytes:F,needSMask:oe}})(i):(function(M){var B=M.data,H=M.channels===1?"DeviceGray":"DeviceRGB";return{colorSpace:H,colorsPerPixel:H==="DeviceGray"?1:3,colorBytes:B instanceof Uint16Array?(function(L){for(var U=L.length,G=new Uint8Array(2*U),te=new DataView(G.buffer,G.byteOffset,G.byteLength),de=0;de<U;de++)te.setUint16(2*de,L[de],!1);return G})(B):B,needSMask:!1}})(i);var m,g,x,b=a,v=b.colorSpace,w=b.colorsPerPixel,N=b.sMaskBitsPerComponent,E=b.colorBytes,j=b.alphaBytes,T=b.needSMask,O=b.palette,P=b.mask,D=null;return n!==Gt.API.image_compression.NONE&&typeof g_=="function"?(D=(function(M){var B;switch(M){case Gt.API.image_compression.FAST:B=11;break;case Gt.API.image_compression.MEDIUM:B=13;break;case Gt.API.image_compression.SLOW:B=14;break;default:B=12}return B})(n),m=this.decode.FLATE_DECODE,g="/Predictor ".concat(D," /Colors ").concat(w," /BitsPerComponent ").concat(h," /Columns ").concat(l),e=eD(E,Math.ceil(l*w*h/8),w,h,n),T&&(x=eD(j,Math.ceil(l*N/8),1,N,n))):(m=void 0,g=void 0,e=E,T&&(x=j)),(this.__addimage__.isArrayBuffer(e)||this.__addimage__.isArrayBufferView(e))&&(e=this.__addimage__.arrayBufferToBinaryString(e)),(x&&this.__addimage__.isArrayBuffer(x)||this.__addimage__.isArrayBufferView(x))&&(x=this.__addimage__.arrayBufferToBinaryString(x)),{alias:r,data:e,index:t,filter:m,decodeParameters:g,transparency:P,palette:O,sMask:x,predictor:D,width:l,height:o,bitsPerComponent:h,sMaskBitsPerComponent:N,colorSpace:v}}},(function(e){e.processGIF89A=function(t,r,n,a){var i=new lNe(t),l=i.width,o=i.height,u=[];i.decodeAndBlitFrameRGBA(0,u);var f={data:u,width:l,height:o},h=new U4(100).encode(f,100);return e.processJPEG.call(this,h,r,n,a)},e.processGIF87A=e.processGIF89A})(Gt.API),bc.prototype.parseHeader=function(){if(this.fileSize=this.datav.getUint32(this.pos,!0),this.pos+=4,this.reserved=this.datav.getUint32(this.pos,!0),this.pos+=4,this.offset=this.datav.getUint32(this.pos,!0),this.pos+=4,this.headerSize=this.datav.getUint32(this.pos,!0),this.pos+=4,this.width=this.datav.getUint32(this.pos,!0),this.pos+=4,this.height=this.datav.getInt32(this.pos,!0),this.pos+=4,this.planes=this.datav.getUint16(this.pos,!0),this.pos+=2,this.bitPP=this.datav.getUint16(this.pos,!0),this.pos+=2,this.compress=this.datav.getUint32(this.pos,!0),this.pos+=4,this.rawSize=this.datav.getUint32(this.pos,!0),this.pos+=4,this.hr=this.datav.getUint32(this.pos,!0),this.pos+=4,this.vr=this.datav.getUint32(this.pos,!0),this.pos+=4,this.colors=this.datav.getUint32(this.pos,!0),this.pos+=4,this.importantColors=this.datav.getUint32(this.pos,!0),this.pos+=4,this.bitPP===16&&this.is_with_alpha&&(this.bitPP=15),this.bitPP<15){var e=this.colors===0?1<<this.bitPP:this.colors;this.palette=new Array(e);for(var t=0;t<e;t++){var r=this.datav.getUint8(this.pos++,!0),n=this.datav.getUint8(this.pos++,!0),a=this.datav.getUint8(this.pos++,!0),i=this.datav.getUint8(this.pos++,!0);this.palette[t]={red:a,green:n,blue:r,quad:i}}}this.height<0&&(this.height*=-1,this.bottom_up=!1)},bc.prototype.parseBGR=function(){this.pos=this.offset;try{var e="bit"+this.bitPP,t=this.width*this.height*4;this.data=new Uint8Array(t),this[e]()}catch(r){In.log("bit decode error:"+r)}},bc.prototype.bit1=function(){var e,t=Math.ceil(this.width/8),r=t%4;for(e=this.height-1;e>=0;e--){for(var n=this.bottom_up?e:this.height-1-e,a=0;a<t;a++)for(var i=this.datav.getUint8(this.pos++,!0),l=n*this.width*4+8*a*4,o=0;o<8&&8*a+o<this.width;o++){var u=this.palette[i>>7-o&1];this.data[l+4*o]=u.blue,this.data[l+4*o+1]=u.green,this.data[l+4*o+2]=u.red,this.data[l+4*o+3]=255}r!==0&&(this.pos+=4-r)}},bc.prototype.bit4=function(){for(var e=Math.ceil(this.width/2),t=e%4,r=this.height-1;r>=0;r--){for(var n=this.bottom_up?r:this.height-1-r,a=0;a<e;a++){var i=this.datav.getUint8(this.pos++,!0),l=n*this.width*4+2*a*4,o=i>>4,u=15&i,f=this.palette[o];if(this.data[l]=f.blue,this.data[l+1]=f.green,this.data[l+2]=f.red,this.data[l+3]=255,2*a+1>=this.width)break;f=this.palette[u],this.data[l+4]=f.blue,this.data[l+4+1]=f.green,this.data[l+4+2]=f.red,this.data[l+4+3]=255}t!==0&&(this.pos+=4-t)}},bc.prototype.bit8=function(){for(var e=this.width%4,t=this.height-1;t>=0;t--){for(var r=this.bottom_up?t:this.height-1-t,n=0;n<this.width;n++){var a=this.datav.getUint8(this.pos++,!0),i=r*this.width*4+4*n;if(a<this.palette.length){var l=this.palette[a];this.data[i]=l.red,this.data[i+1]=l.green,this.data[i+2]=l.blue,this.data[i+3]=255}else this.data[i]=255,this.data[i+1]=255,this.data[i+2]=255,this.data[i+3]=255}e!==0&&(this.pos+=4-e)}},bc.prototype.bit15=function(){for(var e=this.width%3,t=parseInt("11111",2),r=this.height-1;r>=0;r--){for(var n=this.bottom_up?r:this.height-1-r,a=0;a<this.width;a++){var i=this.datav.getUint16(this.pos,!0);this.pos+=2;var l=(i&t)/t*255|0,o=(i>>5&t)/t*255|0,u=(i>>10&t)/t*255|0,f=i>>15?255:0,h=n*this.width*4+4*a;this.data[h]=u,this.data[h+1]=o,this.data[h+2]=l,this.data[h+3]=f}this.pos+=e}},bc.prototype.bit16=function(){for(var e=this.width%3,t=parseInt("11111",2),r=parseInt("111111",2),n=this.height-1;n>=0;n--){for(var a=this.bottom_up?n:this.height-1-n,i=0;i<this.width;i++){var l=this.datav.getUint16(this.pos,!0);this.pos+=2;var o=(l&t)/t*255|0,u=(l>>5&r)/r*255|0,f=(l>>11)/t*255|0,h=a*this.width*4+4*i;this.data[h]=f,this.data[h+1]=u,this.data[h+2]=o,this.data[h+3]=255}this.pos+=e}},bc.prototype.bit24=function(){for(var e=this.height-1;e>=0;e--){for(var t=this.bottom_up?e:this.height-1-e,r=0;r<this.width;r++){var n=this.datav.getUint8(this.pos++,!0),a=this.datav.getUint8(this.pos++,!0),i=this.datav.getUint8(this.pos++,!0),l=t*this.width*4+4*r;this.data[l]=i,this.data[l+1]=a,this.data[l+2]=n,this.data[l+3]=255}this.pos+=this.width%4}},bc.prototype.bit32=function(){for(var e=this.height-1;e>=0;e--)for(var t=this.bottom_up?e:this.height-1-e,r=0;r<this.width;r++){var n=this.datav.getUint8(this.pos++,!0),a=this.datav.getUint8(this.pos++,!0),i=this.datav.getUint8(this.pos++,!0),l=this.datav.getUint8(this.pos++,!0),o=t*this.width*4+4*r;this.data[o]=i,this.data[o+1]=a,this.data[o+2]=n,this.data[o+3]=l}},bc.prototype.getData=function(){return this.data},(function(e){e.processBMP=function(t,r,n,a){var i=new bc(t,!1),l=i.width,o=i.height,u={data:i.getData(),width:l,height:o},f=new U4(100).encode(u,100);return e.processJPEG.call(this,f,r,n,a)}})(Gt.API),lD.prototype.getData=function(){return this.data},(function(e){e.processWEBP=function(t,r,n,a){var i=new lD(t),l=i.width,o=i.height,u={data:i.getData(),width:l,height:o},f=new U4(100).encode(u,100);return e.processJPEG.call(this,f,r,n,a)}})(Gt.API),Gt.API.processRGBA=function(e,t,r){for(var n=e.data,a=n.length,i=new Uint8Array(a/4*3),l=new Uint8Array(a/4),o=0,u=0,f=0;f<a;f+=4){var h=n[f],m=n[f+1],g=n[f+2],x=n[f+3];i[o++]=h,i[o++]=m,i[o++]=g,l[u++]=x}var b=this.__addimage__.arrayBufferToBinaryString(i);return{alpha:this.__addimage__.arrayBufferToBinaryString(l),data:b,index:t,alias:r,colorSpace:"DeviceRGB",bitsPerComponent:8,width:e.width,height:e.height}},Gt.API.setLanguage=function(e){return this.internal.languageSettings===void 0&&(this.internal.languageSettings={},this.internal.languageSettings.isSubscribed=!1),{af:"Afrikaans",sq:"Albanian",ar:"Arabic (Standard)","ar-DZ":"Arabic (Algeria)","ar-BH":"Arabic (Bahrain)","ar-EG":"Arabic (Egypt)","ar-IQ":"Arabic (Iraq)","ar-JO":"Arabic (Jordan)","ar-KW":"Arabic (Kuwait)","ar-LB":"Arabic (Lebanon)","ar-LY":"Arabic (Libya)","ar-MA":"Arabic (Morocco)","ar-OM":"Arabic (Oman)","ar-QA":"Arabic (Qatar)","ar-SA":"Arabic (Saudi Arabia)","ar-SY":"Arabic (Syria)","ar-TN":"Arabic (Tunisia)","ar-AE":"Arabic (U.A.E.)","ar-YE":"Arabic (Yemen)",an:"Aragonese",hy:"Armenian",as:"Assamese",ast:"Asturian",az:"Azerbaijani",eu:"Basque",be:"Belarusian",bn:"Bengali",bs:"Bosnian",br:"Breton",bg:"Bulgarian",my:"Burmese",ca:"Catalan",ch:"Chamorro",ce:"Chechen",zh:"Chinese","zh-HK":"Chinese (Hong Kong)","zh-CN":"Chinese (PRC)","zh-SG":"Chinese (Singapore)","zh-TW":"Chinese (Taiwan)",cv:"Chuvash",co:"Corsican",cr:"Cree",hr:"Croatian",cs:"Czech",da:"Danish",nl:"Dutch (Standard)","nl-BE":"Dutch (Belgian)",en:"English","en-AU":"English (Australia)","en-BZ":"English (Belize)","en-CA":"English (Canada)","en-IE":"English (Ireland)","en-JM":"English (Jamaica)","en-NZ":"English (New Zealand)","en-PH":"English (Philippines)","en-ZA":"English (South Africa)","en-TT":"English (Trinidad & Tobago)","en-GB":"English (United Kingdom)","en-US":"English (United States)","en-ZW":"English (Zimbabwe)",eo:"Esperanto",et:"Estonian",fo:"Faeroese",fj:"Fijian",fi:"Finnish",fr:"French (Standard)","fr-BE":"French (Belgium)","fr-CA":"French (Canada)","fr-FR":"French (France)","fr-LU":"French (Luxembourg)","fr-MC":"French (Monaco)","fr-CH":"French (Switzerland)",fy:"Frisian",fur:"Friulian",gd:"Gaelic (Scots)","gd-IE":"Gaelic (Irish)",gl:"Galacian",ka:"Georgian",de:"German (Standard)","de-AT":"German (Austria)","de-DE":"German (Germany)","de-LI":"German (Liechtenstein)","de-LU":"German (Luxembourg)","de-CH":"German (Switzerland)",el:"Greek",gu:"Gujurati",ht:"Haitian",he:"Hebrew",hi:"Hindi",hu:"Hungarian",is:"Icelandic",id:"Indonesian",iu:"Inuktitut",ga:"Irish",it:"Italian (Standard)","it-CH":"Italian (Switzerland)",ja:"Japanese",kn:"Kannada",ks:"Kashmiri",kk:"Kazakh",km:"Khmer",ky:"Kirghiz",tlh:"Klingon",ko:"Korean","ko-KP":"Korean (North Korea)","ko-KR":"Korean (South Korea)",la:"Latin",lv:"Latvian",lt:"Lithuanian",lb:"Luxembourgish",mk:"North Macedonia",ms:"Malay",ml:"Malayalam",mt:"Maltese",mi:"Maori",mr:"Marathi",mo:"Moldavian",nv:"Navajo",ng:"Ndonga",ne:"Nepali",no:"Norwegian",nb:"Norwegian (Bokmal)",nn:"Norwegian (Nynorsk)",oc:"Occitan",or:"Oriya",om:"Oromo",fa:"Persian","fa-IR":"Persian/Iran",pl:"Polish",pt:"Portuguese","pt-BR":"Portuguese (Brazil)",pa:"Punjabi","pa-IN":"Punjabi (India)","pa-PK":"Punjabi (Pakistan)",qu:"Quechua",rm:"Rhaeto-Romanic",ro:"Romanian","ro-MO":"Romanian (Moldavia)",ru:"Russian","ru-MO":"Russian (Moldavia)",sz:"Sami (Lappish)",sg:"Sango",sa:"Sanskrit",sc:"Sardinian",sd:"Sindhi",si:"Singhalese",sr:"Serbian",sk:"Slovak",sl:"Slovenian",so:"Somani",sb:"Sorbian",es:"Spanish","es-AR":"Spanish (Argentina)","es-BO":"Spanish (Bolivia)","es-CL":"Spanish (Chile)","es-CO":"Spanish (Colombia)","es-CR":"Spanish (Costa Rica)","es-DO":"Spanish (Dominican Republic)","es-EC":"Spanish (Ecuador)","es-SV":"Spanish (El Salvador)","es-GT":"Spanish (Guatemala)","es-HN":"Spanish (Honduras)","es-MX":"Spanish (Mexico)","es-NI":"Spanish (Nicaragua)","es-PA":"Spanish (Panama)","es-PY":"Spanish (Paraguay)","es-PE":"Spanish (Peru)","es-PR":"Spanish (Puerto Rico)","es-ES":"Spanish (Spain)","es-UY":"Spanish (Uruguay)","es-VE":"Spanish (Venezuela)",sx:"Sutu",sw:"Swahili",sv:"Swedish","sv-FI":"Swedish (Finland)","sv-SV":"Swedish (Sweden)",ta:"Tamil",tt:"Tatar",te:"Teluga",th:"Thai",tig:"Tigre",ts:"Tsonga",tn:"Tswana",tr:"Turkish",tk:"Turkmen",uk:"Ukrainian",hsb:"Upper Sorbian",ur:"Urdu",ve:"Venda",vi:"Vietnamese",vo:"Volapuk",wa:"Walloon",cy:"Welsh",xh:"Xhosa",ji:"Yiddish",zu:"Zulu"}[e]!==void 0&&(this.internal.languageSettings.languageCode=e,this.internal.languageSettings.isSubscribed===!1&&(this.internal.events.subscribe("putCatalog",function(){this.internal.write("/Lang ("+this.internal.languageSettings.languageCode+")")}),this.internal.languageSettings.isSubscribed=!0)),this},bm=Gt.API,Fv=bm.getCharWidthsArray=function(e,t){var r,n,a=(t=t||{}).font||this.internal.getFont(),i=t.fontSize||this.internal.getFontSize(),l=t.charSpace||this.internal.getCharSpace(),o=t.widths?t.widths:a.metadata.Unicode.widths,u=o.fof?o.fof:1,f=t.kerning?t.kerning:a.metadata.Unicode.kerning,h=f.fof?f.fof:1,m=t.doKerning!==!1,g=0,x=e.length,b=0,v=o[0]||u,w=[];for(r=0;r<x;r++)n=e.charCodeAt(r),typeof a.metadata.widthOfString=="function"?w.push((a.metadata.widthOfGlyph(a.metadata.characterToGlyph(n))+l*(1e3/i)||0)/1e3):(g=m&&Nn(f[n])==="object"&&!isNaN(parseInt(f[n][b],10))?f[n][b]/h:0,w.push((o[n]||v)/u+g)),b=n;return w},Q7=bm.getStringUnitWidth=function(e,t){var r=(t=t||{}).fontSize||this.internal.getFontSize(),n=t.font||this.internal.getFont(),a=t.charSpace||this.internal.getCharSpace();return bm.processArabic&&(e=bm.processArabic(e)),typeof n.metadata.widthOfString=="function"?n.metadata.widthOfString(e,r,a)/r:Fv.apply(this,arguments).reduce(function(i,l){return i+l},0)},Z7=function(e,t,r,n){for(var a=[],i=0,l=e.length,o=0;i!==l&&o+t[i]<r;)o+=t[i],i++;a.push(e.slice(0,i));var u=i;for(o=0;i!==l;)o+t[i]>n&&(a.push(e.slice(u,i)),o=0,u=i),o+=t[i],i++;return u!==i&&a.push(e.slice(u,i)),a},J7=function(e,t,r){r||(r={});var n,a,i,l,o,u,f,h=[],m=[h],g=r.textIndent||0,x=0,b=0,v=e.split(" "),w=Fv.apply(this,[" ",r])[0];if(u=r.lineIndent===-1?v[0].length+2:r.lineIndent||0){var N=Array(u).join(" "),E=[];v.map(function(T){(T=T.split(/\s*\n/)).length>1?E=E.concat(T.map(function(O,P){return(P&&O.length?`
`:"")+O})):E.push(T[0])}),v=E,u=Q7.apply(this,[N,r])}for(i=0,l=v.length;i<l;i++){var j=0;if(n=v[i],u&&n[0]==`
`&&(n=n.substr(1),j=1),g+x+(b=(a=Fv.apply(this,[n,r])).reduce(function(T,O){return T+O},0))>t||j){if(b>t){for(o=Z7.apply(this,[n,a,t-(g+x),t]),h.push(o.shift()),h=[o.pop()];o.length;)m.push([o.shift()]);b=a.slice(n.length-(h[0]?h[0].length:0)).reduce(function(T,O){return T+O},0)}else h=[n];m.push(h),g=b+u,x=w}else h.push(n),g+=x+b,x=w}return f=u?function(T,O){return(O?N:"")+T.join(" ")}:function(T){return T.join(" ")},m.map(f)},bm.splitTextToSize=function(e,t,r){var n,a=(r=r||{}).fontSize||this.internal.getFontSize(),i=(function(h){if(h.widths&&h.kerning)return{widths:h.widths,kerning:h.kerning};var m=this.internal.getFont(h.fontName,h.fontStyle),g="Unicode";return m.metadata[g]?{widths:m.metadata[g].widths||{0:1},kerning:m.metadata[g].kerning||{}}:{font:m.metadata,fontSize:this.internal.getFontSize(),charSpace:this.internal.getCharSpace()}}).call(this,r);n=Array.isArray(e)?e:String(e).split(/\r?\n/);var l=1*this.internal.scaleFactor*t/a;i.textIndent=r.textIndent?1*r.textIndent*this.internal.scaleFactor/a:0,i.lineIndent=r.lineIndent;var o,u,f=[];for(o=0,u=n.length;o<u;o++)f=f.concat(J7.apply(this,[n[o],l,i]));return f},(function(e){e.__fontmetrics__=e.__fontmetrics__||{};for(var t="0123456789abcdef",r="klmnopqrstuvwxyz",n={},a={},i=0;i<16;i++)n[r[i]]=t[i],a[t[i]]=r[i];var l=function(g){return"0x"+parseInt(g,10).toString(16)},o=e.__fontmetrics__.compress=function(g){var x,b,v,w,N=["{"];for(var E in g){if(x=g[E],isNaN(parseInt(E,10))?b="'"+E+"'":(E=parseInt(E,10),b=(b=l(E).slice(2)).slice(0,-1)+a[b.slice(-1)]),typeof x=="number")x<0?(v=l(x).slice(3),w="-"):(v=l(x).slice(2),w=""),v=w+v.slice(0,-1)+a[v.slice(-1)];else{if(Nn(x)!=="object")throw new Error("Don't know what to do with value type "+Nn(x)+".");v=o(x)}N.push(b+v)}return N.push("}"),N.join("")},u=e.__fontmetrics__.uncompress=function(g){if(typeof g!="string")throw new Error("Invalid argument passed to uncompress.");for(var x,b,v,w,N={},E=1,j=N,T=[],O="",P="",D=g.length-1,M=1;M<D;M+=1)(w=g[M])=="'"?x?(v=x.join(""),x=void 0):x=[]:x?x.push(w):w=="{"?(T.push([j,v]),j={},v=void 0):w=="}"?((b=T.pop())[0][b[1]]=j,v=void 0,j=b[0]):w=="-"?E=-1:v===void 0?n.hasOwnProperty(w)?(O+=n[w],v=parseInt(O,16)*E,E=1,O=""):O+=w:n.hasOwnProperty(w)?(P+=n[w],j[v]=parseInt(P,16)*E,E=1,v=void 0,P=""):P+=w;return N},f={codePages:["WinAnsiEncoding"],WinAnsiEncoding:u("{19m8n201n9q201o9r201s9l201t9m201u8m201w9n201x9o201y8o202k8q202l8r202m9p202q8p20aw8k203k8t203t8v203u9v2cq8s212m9t15m8w15n9w2dw9s16k8u16l9u17s9z17x8y17y9y}")},h={Unicode:{Courier:f,"Courier-Bold":f,"Courier-BoldOblique":f,"Courier-Oblique":f,Helvetica:f,"Helvetica-Bold":f,"Helvetica-BoldOblique":f,"Helvetica-Oblique":f,"Times-Roman":f,"Times-Bold":f,"Times-BoldItalic":f,"Times-Italic":f}},m={Unicode:{"Courier-Oblique":u("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Times-BoldItalic":u("{'widths'{k3o2q4ycx2r201n3m201o6o201s2l201t2l201u2l201w3m201x3m201y3m2k1t2l2r202m2n2n3m2o3m2p5n202q6o2r1w2s2l2t2l2u3m2v3t2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v2l3w3t3x3t3y3t3z3m4k5n4l4m4m4m4n4m4o4s4p4m4q4m4r4s4s4y4t2r4u3m4v4m4w3x4x5t4y4s4z4s5k3x5l4s5m4m5n3r5o3x5p4s5q4m5r5t5s4m5t3x5u3x5v2l5w1w5x2l5y3t5z3m6k2l6l3m6m3m6n2w6o3m6p2w6q2l6r3m6s3r6t1w6u1w6v3m6w1w6x4y6y3r6z3m7k3m7l3m7m2r7n2r7o1w7p3r7q2w7r4m7s3m7t2w7u2r7v2n7w1q7x2n7y3t202l3mcl4mal2ram3man3mao3map3mar3mas2lat4uau1uav3maw3way4uaz2lbk2sbl3t'fof'6obo2lbp3tbq3mbr1tbs2lbu1ybv3mbz3mck4m202k3mcm4mcn4mco4mcp4mcq5ycr4mcs4mct4mcu4mcv4mcw2r2m3rcy2rcz2rdl4sdm4sdn4sdo4sdp4sdq4sds4sdt4sdu4sdv4sdw4sdz3mek3mel3mem3men3meo3mep3meq4ser2wes2wet2weu2wev2wew1wex1wey1wez1wfl3rfm3mfn3mfo3mfp3mfq3mfr3tfs3mft3rfu3rfv3rfw3rfz2w203k6o212m6o2dw2l2cq2l3t3m3u2l17s3x19m3m}'kerning'{cl{4qu5kt5qt5rs17ss5ts}201s{201ss}201t{cks4lscmscnscoscpscls2wu2yu201ts}201x{2wu2yu}2k{201ts}2w{4qx5kx5ou5qx5rs17su5tu}2x{17su5tu5ou}2y{4qx5kx5ou5qx5rs17ss5ts}'fof'-6ofn{17sw5tw5ou5qw5rs}7t{cksclscmscnscoscps4ls}3u{17su5tu5os5qs}3v{17su5tu5os5qs}7p{17su5tu}ck{4qu5kt5qt5rs17ss5ts}4l{4qu5kt5qt5rs17ss5ts}cm{4qu5kt5qt5rs17ss5ts}cn{4qu5kt5qt5rs17ss5ts}co{4qu5kt5qt5rs17ss5ts}cp{4qu5kt5qt5rs17ss5ts}6l{4qu5ou5qw5rt17su5tu}5q{ckuclucmucnucoucpu4lu}5r{ckuclucmucnucoucpu4lu}7q{cksclscmscnscoscps4ls}6p{4qu5ou5qw5rt17sw5tw}ek{4qu5ou5qw5rt17su5tu}el{4qu5ou5qw5rt17su5tu}em{4qu5ou5qw5rt17su5tu}en{4qu5ou5qw5rt17su5tu}eo{4qu5ou5qw5rt17su5tu}ep{4qu5ou5qw5rt17su5tu}es{17ss5ts5qs4qu}et{4qu5ou5qw5rt17sw5tw}eu{4qu5ou5qw5rt17ss5ts}ev{17ss5ts5qs4qu}6z{17sw5tw5ou5qw5rs}fm{17sw5tw5ou5qw5rs}7n{201ts}fo{17sw5tw5ou5qw5rs}fp{17sw5tw5ou5qw5rs}fq{17sw5tw5ou5qw5rs}7r{cksclscmscnscoscps4ls}fs{17sw5tw5ou5qw5rs}ft{17su5tu}fu{17su5tu}fv{17su5tu}fw{17su5tu}fz{cksclscmscnscoscps4ls}}}"),"Helvetica-Bold":u("{'widths'{k3s2q4scx1w201n3r201o6o201s1w201t1w201u1w201w3m201x3m201y3m2k1w2l2l202m2n2n3r2o3r2p5t202q6o2r1s2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v2l3w3u3x3u3y3u3z3x4k6l4l4s4m4s4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3r4v4s4w3x4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v2l5w1w5x2l5y3u5z3r6k2l6l3r6m3x6n3r6o3x6p3r6q2l6r3x6s3x6t1w6u1w6v3r6w1w6x5t6y3x6z3x7k3x7l3x7m2r7n3r7o2l7p3x7q3r7r4y7s3r7t3r7u3m7v2r7w1w7x2r7y3u202l3rcl4sal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3xbq3rbr1wbs2lbu2obv3rbz3xck4s202k3rcm4scn4sco4scp4scq6ocr4scs4mct4mcu4mcv4mcw1w2m2zcy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3res3ret3reu3rev3rew1wex1wey1wez1wfl3xfm3xfn3xfo3xfp3xfq3xfr3ufs3xft3xfu3xfv3xfw3xfz3r203k6o212m6o2dw2l2cq2l3t3r3u2l17s4m19m3r}'kerning'{cl{4qs5ku5ot5qs17sv5tv}201t{2ww4wy2yw}201w{2ks}201x{2ww4wy2yw}2k{201ts201xs}2w{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}2x{5ow5qs}2y{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}'fof'-6o7p{17su5tu5ot}ck{4qs5ku5ot5qs17sv5tv}4l{4qs5ku5ot5qs17sv5tv}cm{4qs5ku5ot5qs17sv5tv}cn{4qs5ku5ot5qs17sv5tv}co{4qs5ku5ot5qs17sv5tv}cp{4qs5ku5ot5qs17sv5tv}6l{17st5tt5os}17s{2kwclvcmvcnvcovcpv4lv4wwckv}5o{2kucltcmtcntcotcpt4lt4wtckt}5q{2ksclscmscnscoscps4ls4wvcks}5r{2ks4ws}5t{2kwclvcmvcnvcovcpv4lv4wwckv}eo{17st5tt5os}fu{17su5tu5ot}6p{17ss5ts}ek{17st5tt5os}el{17st5tt5os}em{17st5tt5os}en{17st5tt5os}6o{201ts}ep{17st5tt5os}es{17ss5ts}et{17ss5ts}eu{17ss5ts}ev{17ss5ts}6z{17su5tu5os5qt}fm{17su5tu5os5qt}fn{17su5tu5os5qt}fo{17su5tu5os5qt}fp{17su5tu5os5qt}fq{17su5tu5os5qt}fs{17su5tu5os5qt}ft{17su5tu5ot}7m{5os}fv{17su5tu5ot}fw{17su5tu5ot}}}"),Courier:u("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Courier-BoldOblique":u("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Times-Bold":u("{'widths'{k3q2q5ncx2r201n3m201o6o201s2l201t2l201u2l201w3m201x3m201y3m2k1t2l2l202m2n2n3m2o3m2p6o202q6o2r1w2s2l2t2l2u3m2v3t2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v2l3w3t3x3t3y3t3z3m4k5x4l4s4m4m4n4s4o4s4p4m4q3x4r4y4s4y4t2r4u3m4v4y4w4m4x5y4y4s4z4y5k3x5l4y5m4s5n3r5o4m5p4s5q4s5r6o5s4s5t4s5u4m5v2l5w1w5x2l5y3u5z3m6k2l6l3m6m3r6n2w6o3r6p2w6q2l6r3m6s3r6t1w6u2l6v3r6w1w6x5n6y3r6z3m7k3r7l3r7m2w7n2r7o2l7p3r7q3m7r4s7s3m7t3m7u2w7v2r7w1q7x2r7y3o202l3mcl4sal2lam3man3mao3map3mar3mas2lat4uau1yav3maw3tay4uaz2lbk2sbl3t'fof'6obo2lbp3rbr1tbs2lbu2lbv3mbz3mck4s202k3mcm4scn4sco4scp4scq6ocr4scs4mct4mcu4mcv4mcw2r2m3rcy2rcz2rdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3rek3mel3mem3men3meo3mep3meq4ser2wes2wet2weu2wev2wew1wex1wey1wez1wfl3rfm3mfn3mfo3mfp3mfq3mfr3tfs3mft3rfu3rfv3rfw3rfz3m203k6o212m6o2dw2l2cq2l3t3m3u2l17s4s19m3m}'kerning'{cl{4qt5ks5ot5qy5rw17sv5tv}201t{cks4lscmscnscoscpscls4wv}2k{201ts}2w{4qu5ku7mu5os5qx5ru17su5tu}2x{17su5tu5ou5qs}2y{4qv5kv7mu5ot5qz5ru17su5tu}'fof'-6o7t{cksclscmscnscoscps4ls}3u{17su5tu5os5qu}3v{17su5tu5os5qu}fu{17su5tu5ou5qu}7p{17su5tu5ou5qu}ck{4qt5ks5ot5qy5rw17sv5tv}4l{4qt5ks5ot5qy5rw17sv5tv}cm{4qt5ks5ot5qy5rw17sv5tv}cn{4qt5ks5ot5qy5rw17sv5tv}co{4qt5ks5ot5qy5rw17sv5tv}cp{4qt5ks5ot5qy5rw17sv5tv}6l{17st5tt5ou5qu}17s{ckuclucmucnucoucpu4lu4wu}5o{ckuclucmucnucoucpu4lu4wu}5q{ckzclzcmzcnzcozcpz4lz4wu}5r{ckxclxcmxcnxcoxcpx4lx4wu}5t{ckuclucmucnucoucpu4lu4wu}7q{ckuclucmucnucoucpu4lu}6p{17sw5tw5ou5qu}ek{17st5tt5qu}el{17st5tt5ou5qu}em{17st5tt5qu}en{17st5tt5qu}eo{17st5tt5qu}ep{17st5tt5ou5qu}es{17ss5ts5qu}et{17sw5tw5ou5qu}eu{17sw5tw5ou5qu}ev{17ss5ts5qu}6z{17sw5tw5ou5qu5rs}fm{17sw5tw5ou5qu5rs}fn{17sw5tw5ou5qu5rs}fo{17sw5tw5ou5qu5rs}fp{17sw5tw5ou5qu5rs}fq{17sw5tw5ou5qu5rs}7r{cktcltcmtcntcotcpt4lt5os}fs{17sw5tw5ou5qu5rs}ft{17su5tu5ou5qu}7m{5os}fv{17su5tu5ou5qu}fw{17su5tu5ou5qu}fz{cksclscmscnscoscps4ls}}}"),Symbol:u("{'widths'{k3uaw4r19m3m2k1t2l2l202m2y2n3m2p5n202q6o3k3m2s2l2t2l2v3r2w1t3m3m2y1t2z1wbk2sbl3r'fof'6o3n3m3o3m3p3m3q3m3r3m3s3m3t3m3u1w3v1w3w3r3x3r3y3r3z2wbp3t3l3m5v2l5x2l5z3m2q4yfr3r7v3k7w1o7x3k}'kerning'{'fof'-6o}}"),Helvetica:u("{'widths'{k3p2q4mcx1w201n3r201o6o201s1q201t1q201u1q201w2l201x2l201y2l2k1w2l1w202m2n2n3r2o3r2p5t202q6o2r1n2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v1w3w3u3x3u3y3u3z3r4k6p4l4m4m4m4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3m4v4m4w3r4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v1w5w1w5x1w5y2z5z3r6k2l6l3r6m3r6n3m6o3r6p3r6q1w6r3r6s3r6t1q6u1q6v3m6w1q6x5n6y3r6z3r7k3r7l3r7m2l7n3m7o1w7p3r7q3m7r4s7s3m7t3m7u3m7v2l7w1u7x2l7y3u202l3rcl4mal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3rbr1wbs2lbu2obv3rbz3xck4m202k3rcm4mcn4mco4mcp4mcq6ocr4scs4mct4mcu4mcv4mcw1w2m2ncy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3mes3ret3reu3rev3rew1wex1wey1wez1wfl3rfm3rfn3rfo3rfp3rfq3rfr3ufs3xft3rfu3rfv3rfw3rfz3m203k6o212m6o2dw2l2cq2l3t3r3u1w17s4m19m3r}'kerning'{5q{4wv}cl{4qs5kw5ow5qs17sv5tv}201t{2wu4w1k2yu}201x{2wu4wy2yu}17s{2ktclucmucnu4otcpu4lu4wycoucku}2w{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}2x{17sy5ty5oy5qs}2y{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}'fof'-6o7p{17sv5tv5ow}ck{4qs5kw5ow5qs17sv5tv}4l{4qs5kw5ow5qs17sv5tv}cm{4qs5kw5ow5qs17sv5tv}cn{4qs5kw5ow5qs17sv5tv}co{4qs5kw5ow5qs17sv5tv}cp{4qs5kw5ow5qs17sv5tv}6l{17sy5ty5ow}do{17st5tt}4z{17st5tt}7s{fst}dm{17st5tt}dn{17st5tt}5o{ckwclwcmwcnwcowcpw4lw4wv}dp{17st5tt}dq{17st5tt}7t{5ow}ds{17st5tt}5t{2ktclucmucnu4otcpu4lu4wycoucku}fu{17sv5tv5ow}6p{17sy5ty5ow5qs}ek{17sy5ty5ow}el{17sy5ty5ow}em{17sy5ty5ow}en{5ty}eo{17sy5ty5ow}ep{17sy5ty5ow}es{17sy5ty5qs}et{17sy5ty5ow5qs}eu{17sy5ty5ow5qs}ev{17sy5ty5ow5qs}6z{17sy5ty5ow5qs}fm{17sy5ty5ow5qs}fn{17sy5ty5ow5qs}fo{17sy5ty5ow5qs}fp{17sy5ty5qs}fq{17sy5ty5ow5qs}7r{5ow}fs{17sy5ty5ow5qs}ft{17sv5tv5ow}7m{5ow}fv{17sv5tv5ow}fw{17sv5tv5ow}}}"),"Helvetica-BoldOblique":u("{'widths'{k3s2q4scx1w201n3r201o6o201s1w201t1w201u1w201w3m201x3m201y3m2k1w2l2l202m2n2n3r2o3r2p5t202q6o2r1s2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v2l3w3u3x3u3y3u3z3x4k6l4l4s4m4s4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3r4v4s4w3x4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v2l5w1w5x2l5y3u5z3r6k2l6l3r6m3x6n3r6o3x6p3r6q2l6r3x6s3x6t1w6u1w6v3r6w1w6x5t6y3x6z3x7k3x7l3x7m2r7n3r7o2l7p3x7q3r7r4y7s3r7t3r7u3m7v2r7w1w7x2r7y3u202l3rcl4sal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3xbq3rbr1wbs2lbu2obv3rbz3xck4s202k3rcm4scn4sco4scp4scq6ocr4scs4mct4mcu4mcv4mcw1w2m2zcy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3res3ret3reu3rev3rew1wex1wey1wez1wfl3xfm3xfn3xfo3xfp3xfq3xfr3ufs3xft3xfu3xfv3xfw3xfz3r203k6o212m6o2dw2l2cq2l3t3r3u2l17s4m19m3r}'kerning'{cl{4qs5ku5ot5qs17sv5tv}201t{2ww4wy2yw}201w{2ks}201x{2ww4wy2yw}2k{201ts201xs}2w{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}2x{5ow5qs}2y{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}'fof'-6o7p{17su5tu5ot}ck{4qs5ku5ot5qs17sv5tv}4l{4qs5ku5ot5qs17sv5tv}cm{4qs5ku5ot5qs17sv5tv}cn{4qs5ku5ot5qs17sv5tv}co{4qs5ku5ot5qs17sv5tv}cp{4qs5ku5ot5qs17sv5tv}6l{17st5tt5os}17s{2kwclvcmvcnvcovcpv4lv4wwckv}5o{2kucltcmtcntcotcpt4lt4wtckt}5q{2ksclscmscnscoscps4ls4wvcks}5r{2ks4ws}5t{2kwclvcmvcnvcovcpv4lv4wwckv}eo{17st5tt5os}fu{17su5tu5ot}6p{17ss5ts}ek{17st5tt5os}el{17st5tt5os}em{17st5tt5os}en{17st5tt5os}6o{201ts}ep{17st5tt5os}es{17ss5ts}et{17ss5ts}eu{17ss5ts}ev{17ss5ts}6z{17su5tu5os5qt}fm{17su5tu5os5qt}fn{17su5tu5os5qt}fo{17su5tu5os5qt}fp{17su5tu5os5qt}fq{17su5tu5os5qt}fs{17su5tu5os5qt}ft{17su5tu5ot}7m{5os}fv{17su5tu5ot}fw{17su5tu5ot}}}"),ZapfDingbats:u("{'widths'{k4u2k1w'fof'6o}'kerning'{'fof'-6o}}"),"Courier-Bold":u("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Times-Italic":u("{'widths'{k3n2q4ycx2l201n3m201o5t201s2l201t2l201u2l201w3r201x3r201y3r2k1t2l2l202m2n2n3m2o3m2p5n202q5t2r1p2s2l2t2l2u3m2v4n2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v2l3w4n3x4n3y4n3z3m4k5w4l3x4m3x4n4m4o4s4p3x4q3x4r4s4s4s4t2l4u2w4v4m4w3r4x5n4y4m4z4s5k3x5l4s5m3x5n3m5o3r5p4s5q3x5r5n5s3x5t3r5u3r5v2r5w1w5x2r5y2u5z3m6k2l6l3m6m3m6n2w6o3m6p2w6q1w6r3m6s3m6t1w6u1w6v2w6w1w6x4s6y3m6z3m7k3m7l3m7m2r7n2r7o1w7p3m7q2w7r4m7s2w7t2w7u2r7v2s7w1v7x2s7y3q202l3mcl3xal2ram3man3mao3map3mar3mas2lat4wau1vav3maw4nay4waz2lbk2sbl4n'fof'6obo2lbp3mbq3obr1tbs2lbu1zbv3mbz3mck3x202k3mcm3xcn3xco3xcp3xcq5tcr4mcs3xct3xcu3xcv3xcw2l2m2ucy2lcz2ldl4mdm4sdn4sdo4sdp4sdq4sds4sdt4sdu4sdv4sdw4sdz3mek3mel3mem3men3meo3mep3meq4mer2wes2wet2weu2wev2wew1wex1wey1wez1wfl3mfm3mfn3mfo3mfp3mfq3mfr4nfs3mft3mfu3mfv3mfw3mfz2w203k6o212m6m2dw2l2cq2l3t3m3u2l17s3r19m3m}'kerning'{cl{5kt4qw}201s{201sw}201t{201tw2wy2yy6q-t}201x{2wy2yy}2k{201tw}2w{7qs4qy7rs5ky7mw5os5qx5ru17su5tu}2x{17ss5ts5os}2y{7qs4qy7rs5ky7mw5os5qx5ru17su5tu}'fof'-6o6t{17ss5ts5qs}7t{5os}3v{5qs}7p{17su5tu5qs}ck{5kt4qw}4l{5kt4qw}cm{5kt4qw}cn{5kt4qw}co{5kt4qw}cp{5kt4qw}6l{4qs5ks5ou5qw5ru17su5tu}17s{2ks}5q{ckvclvcmvcnvcovcpv4lv}5r{ckuclucmucnucoucpu4lu}5t{2ks}6p{4qs5ks5ou5qw5ru17su5tu}ek{4qs5ks5ou5qw5ru17su5tu}el{4qs5ks5ou5qw5ru17su5tu}em{4qs5ks5ou5qw5ru17su5tu}en{4qs5ks5ou5qw5ru17su5tu}eo{4qs5ks5ou5qw5ru17su5tu}ep{4qs5ks5ou5qw5ru17su5tu}es{5ks5qs4qs}et{4qs5ks5ou5qw5ru17su5tu}eu{4qs5ks5qw5ru17su5tu}ev{5ks5qs4qs}ex{17ss5ts5qs}6z{4qv5ks5ou5qw5ru17su5tu}fm{4qv5ks5ou5qw5ru17su5tu}fn{4qv5ks5ou5qw5ru17su5tu}fo{4qv5ks5ou5qw5ru17su5tu}fp{4qv5ks5ou5qw5ru17su5tu}fq{4qv5ks5ou5qw5ru17su5tu}7r{5os}fs{4qv5ks5ou5qw5ru17su5tu}ft{17su5tu5qs}fu{17su5tu5qs}fv{17su5tu5qs}fw{17su5tu5qs}}}"),"Times-Roman":u("{'widths'{k3n2q4ycx2l201n3m201o6o201s2l201t2l201u2l201w2w201x2w201y2w2k1t2l2l202m2n2n3m2o3m2p5n202q6o2r1m2s2l2t2l2u3m2v3s2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v1w3w3s3x3s3y3s3z2w4k5w4l4s4m4m4n4m4o4s4p3x4q3r4r4s4s4s4t2l4u2r4v4s4w3x4x5t4y4s4z4s5k3r5l4s5m4m5n3r5o3x5p4s5q4s5r5y5s4s5t4s5u3x5v2l5w1w5x2l5y2z5z3m6k2l6l2w6m3m6n2w6o3m6p2w6q2l6r3m6s3m6t1w6u1w6v3m6w1w6x4y6y3m6z3m7k3m7l3m7m2l7n2r7o1w7p3m7q3m7r4s7s3m7t3m7u2w7v3k7w1o7x3k7y3q202l3mcl4sal2lam3man3mao3map3mar3mas2lat4wau1vav3maw3say4waz2lbk2sbl3s'fof'6obo2lbp3mbq2xbr1tbs2lbu1zbv3mbz2wck4s202k3mcm4scn4sco4scp4scq5tcr4mcs3xct3xcu3xcv3xcw2l2m2tcy2lcz2ldl4sdm4sdn4sdo4sdp4sdq4sds4sdt4sdu4sdv4sdw4sdz3mek2wel2wem2wen2weo2wep2weq4mer2wes2wet2weu2wev2wew1wex1wey1wez1wfl3mfm3mfn3mfo3mfp3mfq3mfr3sfs3mft3mfu3mfv3mfw3mfz3m203k6o212m6m2dw2l2cq2l3t3m3u1w17s4s19m3m}'kerning'{cl{4qs5ku17sw5ou5qy5rw201ss5tw201ws}201s{201ss}201t{ckw4lwcmwcnwcowcpwclw4wu201ts}2k{201ts}2w{4qs5kw5os5qx5ru17sx5tx}2x{17sw5tw5ou5qu}2y{4qs5kw5os5qx5ru17sx5tx}'fof'-6o7t{ckuclucmucnucoucpu4lu5os5rs}3u{17su5tu5qs}3v{17su5tu5qs}7p{17sw5tw5qs}ck{4qs5ku17sw5ou5qy5rw201ss5tw201ws}4l{4qs5ku17sw5ou5qy5rw201ss5tw201ws}cm{4qs5ku17sw5ou5qy5rw201ss5tw201ws}cn{4qs5ku17sw5ou5qy5rw201ss5tw201ws}co{4qs5ku17sw5ou5qy5rw201ss5tw201ws}cp{4qs5ku17sw5ou5qy5rw201ss5tw201ws}6l{17su5tu5os5qw5rs}17s{2ktclvcmvcnvcovcpv4lv4wuckv}5o{ckwclwcmwcnwcowcpw4lw4wu}5q{ckyclycmycnycoycpy4ly4wu5ms}5r{cktcltcmtcntcotcpt4lt4ws}5t{2ktclvcmvcnvcovcpv4lv4wuckv}7q{cksclscmscnscoscps4ls}6p{17su5tu5qw5rs}ek{5qs5rs}el{17su5tu5os5qw5rs}em{17su5tu5os5qs5rs}en{17su5qs5rs}eo{5qs5rs}ep{17su5tu5os5qw5rs}es{5qs}et{17su5tu5qw5rs}eu{17su5tu5qs5rs}ev{5qs}6z{17sv5tv5os5qx5rs}fm{5os5qt5rs}fn{17sv5tv5os5qx5rs}fo{17sv5tv5os5qx5rs}fp{5os5qt5rs}fq{5os5qt5rs}7r{ckuclucmucnucoucpu4lu5os}fs{17sv5tv5os5qx5rs}ft{17ss5ts5qs}fu{17sw5tw5qs}fv{17sw5tw5qs}fw{17ss5ts5qs}fz{ckuclucmucnucoucpu4lu5os5rs}}}"),"Helvetica-Oblique":u("{'widths'{k3p2q4mcx1w201n3r201o6o201s1q201t1q201u1q201w2l201x2l201y2l2k1w2l1w202m2n2n3r2o3r2p5t202q6o2r1n2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v1w3w3u3x3u3y3u3z3r4k6p4l4m4m4m4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3m4v4m4w3r4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v1w5w1w5x1w5y2z5z3r6k2l6l3r6m3r6n3m6o3r6p3r6q1w6r3r6s3r6t1q6u1q6v3m6w1q6x5n6y3r6z3r7k3r7l3r7m2l7n3m7o1w7p3r7q3m7r4s7s3m7t3m7u3m7v2l7w1u7x2l7y3u202l3rcl4mal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3rbr1wbs2lbu2obv3rbz3xck4m202k3rcm4mcn4mco4mcp4mcq6ocr4scs4mct4mcu4mcv4mcw1w2m2ncy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3mes3ret3reu3rev3rew1wex1wey1wez1wfl3rfm3rfn3rfo3rfp3rfq3rfr3ufs3xft3rfu3rfv3rfw3rfz3m203k6o212m6o2dw2l2cq2l3t3r3u1w17s4m19m3r}'kerning'{5q{4wv}cl{4qs5kw5ow5qs17sv5tv}201t{2wu4w1k2yu}201x{2wu4wy2yu}17s{2ktclucmucnu4otcpu4lu4wycoucku}2w{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}2x{17sy5ty5oy5qs}2y{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}'fof'-6o7p{17sv5tv5ow}ck{4qs5kw5ow5qs17sv5tv}4l{4qs5kw5ow5qs17sv5tv}cm{4qs5kw5ow5qs17sv5tv}cn{4qs5kw5ow5qs17sv5tv}co{4qs5kw5ow5qs17sv5tv}cp{4qs5kw5ow5qs17sv5tv}6l{17sy5ty5ow}do{17st5tt}4z{17st5tt}7s{fst}dm{17st5tt}dn{17st5tt}5o{ckwclwcmwcnwcowcpw4lw4wv}dp{17st5tt}dq{17st5tt}7t{5ow}ds{17st5tt}5t{2ktclucmucnu4otcpu4lu4wycoucku}fu{17sv5tv5ow}6p{17sy5ty5ow5qs}ek{17sy5ty5ow}el{17sy5ty5ow}em{17sy5ty5ow}en{5ty}eo{17sy5ty5ow}ep{17sy5ty5ow}es{17sy5ty5qs}et{17sy5ty5ow5qs}eu{17sy5ty5ow5qs}ev{17sy5ty5ow5qs}6z{17sy5ty5ow5qs}fm{17sy5ty5ow5qs}fn{17sy5ty5ow5qs}fo{17sy5ty5ow5qs}fp{17sy5ty5qs}fq{17sy5ty5ow5qs}7r{5ow}fs{17sy5ty5ow5qs}ft{17sv5tv5ow}7m{5ow}fv{17sv5tv5ow}fw{17sv5tv5ow}}}")}};e.events.push(["addFont",function(g){var x=g.font,b=m.Unicode[x.postScriptName];b&&(x.metadata.Unicode={},x.metadata.Unicode.widths=b.widths,x.metadata.Unicode.kerning=b.kerning);var v=h.Unicode[x.postScriptName];v&&(x.metadata.Unicode.encoding=v,x.encoding=v.codePages[0])}])})(Gt.API),(function(e){var t=function(r){for(var n=r.length,a=new Uint8Array(n),i=0;i<n;i++)a[i]=r.charCodeAt(i);return a};e.API.events.push(["addFont",function(r){var n=void 0,a=r.font,i=r.instance;if(!a.isStandardFont){if(i===void 0)throw new Error("Font does not exist in vFS, import fonts or remove declaration doc.addFont('"+a.postScriptName+"').");if(typeof(n=i.existsFileInVFS(a.postScriptName)===!1?i.loadFile(a.postScriptName):i.getFileFromVFS(a.postScriptName))!="string")throw new Error("Font is not stored as string-data in vFS, import fonts or remove declaration doc.addFont('"+a.postScriptName+"').");(function(l,o){o=/^\x00\x01\x00\x00/.test(o)?t(o):t(zv(o)),l.metadata=e.API.TTFFont.open(o),l.metadata.Unicode=l.metadata.Unicode||{encoding:{},kerning:{},widths:[]},l.metadata.glyIdsUsed=[0]})(a,n)}}])})(Gt),Gt.API.addSvgAsImage=function(e,t,r,n,a,i,l,o){if(isNaN(t)||isNaN(r))throw In.error("jsPDF.addSvgAsImage: Invalid coordinates",arguments),new Error("Invalid coordinates passed to jsPDF.addSvgAsImage");if(isNaN(n)||isNaN(a))throw In.error("jsPDF.addSvgAsImage: Invalid measurements",arguments),new Error("Invalid measurements (width and/or height) passed to jsPDF.addSvgAsImage");var u=document.createElement("canvas");u.width=n,u.height=a;var f=u.getContext("2d");f.fillStyle="#fff",f.fillRect(0,0,u.width,u.height);var h={ignoreMouse:!0,ignoreAnimation:!0,ignoreDimensions:!0},m=this;return(pr.canvg?Promise.resolve(pr.canvg):Sw(()=>import("./index.es-DkvwZITl.js"),[])).catch(function(g){return Promise.reject(new Error("Could not load canvg: "+g))}).then(function(g){return g.default?g.default:g}).then(function(g){return g.fromString(f,e,h)},function(){return Promise.reject(new Error("Could not load canvg."))}).then(function(g){return g.render(h)}).then(function(){m.addImage(u.toDataURL("image/jpeg",1),t,r,n,a,l,o)})},Gt.API.putTotalPages=function(e){var t,r=0;parseInt(this.internal.getFont().id.substr(1),10)<15?(t=new RegExp(e,"g"),r=this.internal.getNumberOfPages()):(t=new RegExp(this.pdfEscape16(e,this.internal.getFont()),"g"),r=this.pdfEscape16(this.internal.getNumberOfPages()+"",this.internal.getFont()));for(var n=1;n<=this.internal.getNumberOfPages();n++)for(var a=0;a<this.internal.pages[n].length;a++)this.internal.pages[n][a]=this.internal.pages[n][a].replace(t,r);return this},Gt.API.viewerPreferences=function(e,t){var r;e=e||{},t=t||!1;var n,a,i,l={HideToolbar:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},HideMenubar:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},HideWindowUI:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},FitWindow:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},CenterWindow:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},DisplayDocTitle:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.4},NonFullScreenPageMode:{defaultValue:"UseNone",value:"UseNone",type:"name",explicitSet:!1,valueSet:["UseNone","UseOutlines","UseThumbs","UseOC"],pdfVersion:1.3},Direction:{defaultValue:"L2R",value:"L2R",type:"name",explicitSet:!1,valueSet:["L2R","R2L"],pdfVersion:1.3},ViewArea:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},ViewClip:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},PrintArea:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},PrintClip:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},PrintScaling:{defaultValue:"AppDefault",value:"AppDefault",type:"name",explicitSet:!1,valueSet:["AppDefault","None"],pdfVersion:1.6},Duplex:{defaultValue:"",value:"none",type:"name",explicitSet:!1,valueSet:["Simplex","DuplexFlipShortEdge","DuplexFlipLongEdge","none"],pdfVersion:1.7},PickTrayByPDFSize:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.7},PrintPageRange:{defaultValue:"",value:"",type:"array",explicitSet:!1,valueSet:null,pdfVersion:1.7},NumCopies:{defaultValue:1,value:1,type:"integer",explicitSet:!1,valueSet:null,pdfVersion:1.7}},o=Object.keys(l),u=[],f=0,h=0,m=0;function g(b,v){var w,N=!1;for(w=0;w<b.length;w+=1)b[w]===v&&(N=!0);return N}if(this.internal.viewerpreferences===void 0&&(this.internal.viewerpreferences={},this.internal.viewerpreferences.configuration=JSON.parse(JSON.stringify(l)),this.internal.viewerpreferences.isSubscribed=!1),r=this.internal.viewerpreferences.configuration,e==="reset"||t===!0){var x=o.length;for(m=0;m<x;m+=1)r[o[m]].value=r[o[m]].defaultValue,r[o[m]].explicitSet=!1}if(Nn(e)==="object"){for(a in e)if(i=e[a],g(o,a)&&i!==void 0){if(r[a].type==="boolean"&&typeof i=="boolean")r[a].value=i;else if(r[a].type==="name"&&g(r[a].valueSet,i))r[a].value=i;else if(r[a].type==="integer"&&Number.isInteger(i))r[a].value=i;else if(r[a].type==="array"){for(f=0;f<i.length;f+=1)if(n=!0,i[f].length===1&&typeof i[f][0]=="number")u.push(String(i[f]-1));else if(i[f].length>1){for(h=0;h<i[f].length;h+=1)typeof i[f][h]!="number"&&(n=!1);n===!0&&u.push([i[f][0]-1,i[f][1]-1].join(" "))}r[a].value="["+u.join(" ")+"]"}else r[a].value=r[a].defaultValue;r[a].explicitSet=!0}}return this.internal.viewerpreferences.isSubscribed===!1&&(this.internal.events.subscribe("putCatalog",function(){var b,v=[];for(b in r)r[b].explicitSet===!0&&(r[b].type==="name"?v.push("/"+b+" /"+r[b].value):v.push("/"+b+" "+r[b].value));v.length!==0&&this.internal.write(`/ViewerPreferences
<<
`+v.join(`
`)+`
>>`)}),this.internal.viewerpreferences.isSubscribed=!0),this.internal.viewerpreferences.configuration=r,this},(function(e){var t=function(){var n='<rdf:RDF xmlns:rdf="http://www.w3.org/1999/02/22-rdf-syntax-ns#"><rdf:Description rdf:about="" xmlns:jspdf="'+this.internal.__metadata__.namespaceuri+'"><jspdf:metadata>',a=unescape(encodeURIComponent('<x:xmpmeta xmlns:x="adobe:ns:meta/">')),i=unescape(encodeURIComponent(n)),l=unescape(encodeURIComponent(this.internal.__metadata__.metadata)),o=unescape(encodeURIComponent("</jspdf:metadata></rdf:Description></rdf:RDF>")),u=unescape(encodeURIComponent("</x:xmpmeta>")),f=i.length+l.length+o.length+a.length+u.length;this.internal.__metadata__.metadata_object_number=this.internal.newObject(),this.internal.write("<< /Type /Metadata /Subtype /XML /Length "+f+" >>"),this.internal.write("stream"),this.internal.write(a+i+l+o+u),this.internal.write("endstream"),this.internal.write("endobj")},r=function(){this.internal.__metadata__.metadata_object_number&&this.internal.write("/Metadata "+this.internal.__metadata__.metadata_object_number+" 0 R")};e.addMetadata=function(n,a){return this.internal.__metadata__===void 0&&(this.internal.__metadata__={metadata:n,namespaceuri:a||"http://jspdf.default.namespaceuri/"},this.internal.events.subscribe("putCatalog",r),this.internal.events.subscribe("postPutResources",t)),this}})(Gt.API),(function(e){var t=e.API,r=t.pdfEscape16=function(i,l){for(var o,u=l.metadata.Unicode.widths,f=["","0","00","000","0000"],h=[""],m=0,g=i.length;m<g;++m){if(o=l.metadata.characterToGlyph(i.charCodeAt(m)),l.metadata.glyIdsUsed.push(o),l.metadata.toUnicode[o]=i.charCodeAt(m),u.indexOf(o)==-1&&(u.push(o),u.push([parseInt(l.metadata.widthOfGlyph(o),10)])),o=="0")return h.join("");o=o.toString(16),h.push(f[4-o.length],o)}return h.join("")},n=function(i){var l,o,u,f,h,m,g;for(h=`/CIDInit /ProcSet findresource begin
12 dict begin
begincmap
/CIDSystemInfo <<
  /Registry (Adobe)
  /Ordering (UCS)
  /Supplement 0
>> def
/CMapName /Adobe-Identity-UCS def
/CMapType 2 def
1 begincodespacerange
<0000><ffff>
endcodespacerange`,u=[],m=0,g=(o=Object.keys(i).sort(function(x,b){return x-b})).length;m<g;m++)l=o[m],u.length>=100&&(h+=`
`+u.length+` beginbfchar
`+u.join(`
`)+`
endbfchar`,u=[]),i[l]!==void 0&&i[l]!==null&&typeof i[l].toString=="function"&&(f=("0000"+i[l].toString(16)).slice(-4),l=("0000"+(+l).toString(16)).slice(-4),u.push("<"+l+"><"+f+">"));return u.length&&(h+=`
`+u.length+` beginbfchar
`+u.join(`
`)+`
endbfchar
`),h+`endcmap
CMapName currentdict /CMap defineresource pop
end
end`};t.events.push(["putFont",function(i){(function(l){var o=l.font,u=l.out,f=l.newObject,h=l.putStream;if(o.metadata instanceof e.API.TTFFont&&o.encoding==="Identity-H"){for(var m=o.metadata.Unicode.widths,g=o.metadata.subset.encode(o.metadata.glyIdsUsed,1),x="",b=0;b<g.length;b++)x+=String.fromCharCode(g[b]);var v=f();h({data:x,addLength1:!0,objectId:v}),u("endobj");var w=f();h({data:n(o.metadata.toUnicode),addLength1:!0,objectId:w}),u("endobj");var N=f();u("<<"),u("/Type /FontDescriptor"),u("/FontName /"+_m(o.fontName)),u("/FontFile2 "+v+" 0 R"),u("/FontBBox "+e.API.PDFObject.convert(o.metadata.bbox)),u("/Flags "+o.metadata.flags),u("/StemV "+o.metadata.stemV),u("/ItalicAngle "+o.metadata.italicAngle),u("/Ascent "+o.metadata.ascender),u("/Descent "+o.metadata.decender),u("/CapHeight "+o.metadata.capHeight),u(">>"),u("endobj");var E=f();u("<<"),u("/Type /Font"),u("/BaseFont /"+_m(o.fontName)),u("/FontDescriptor "+N+" 0 R"),u("/W "+e.API.PDFObject.convert(m)),u("/CIDToGIDMap /Identity"),u("/DW 1000"),u("/Subtype /CIDFontType2"),u("/CIDSystemInfo"),u("<<"),u("/Supplement 0"),u("/Registry (Adobe)"),u("/Ordering ("+o.encoding+")"),u(">>"),u(">>"),u("endobj"),o.objectNumber=f(),u("<<"),u("/Type /Font"),u("/Subtype /Type0"),u("/ToUnicode "+w+" 0 R"),u("/BaseFont /"+_m(o.fontName)),u("/Encoding /"+o.encoding),u("/DescendantFonts ["+E+" 0 R]"),u(">>"),u("endobj"),o.isAlreadyPutted=!0}})(i)}]),t.events.push(["putFont",function(i){(function(l){var o=l.font,u=l.out,f=l.newObject,h=l.putStream;if(o.metadata instanceof e.API.TTFFont&&o.encoding==="WinAnsiEncoding"){for(var m=o.metadata.rawData,g="",x=0;x<m.length;x++)g+=String.fromCharCode(m[x]);var b=f();h({data:g,addLength1:!0,objectId:b}),u("endobj");var v=f();h({data:n(o.metadata.toUnicode),addLength1:!0,objectId:v}),u("endobj");var w=f();u("<<"),u("/Descent "+o.metadata.decender),u("/CapHeight "+o.metadata.capHeight),u("/StemV "+o.metadata.stemV),u("/Type /FontDescriptor"),u("/FontFile2 "+b+" 0 R"),u("/Flags 96"),u("/FontBBox "+e.API.PDFObject.convert(o.metadata.bbox)),u("/FontName /"+_m(o.fontName)),u("/ItalicAngle "+o.metadata.italicAngle),u("/Ascent "+o.metadata.ascender),u(">>"),u("endobj"),o.objectNumber=f();for(var N=0;N<o.metadata.hmtx.widths.length;N++)o.metadata.hmtx.widths[N]=parseInt(o.metadata.hmtx.widths[N]*(1e3/o.metadata.head.unitsPerEm));u("<</Subtype/TrueType/Type/Font/ToUnicode "+v+" 0 R/BaseFont/"+_m(o.fontName)+"/FontDescriptor "+w+" 0 R/Encoding/"+o.encoding+" /FirstChar 29 /LastChar 255 /Widths "+e.API.PDFObject.convert(o.metadata.hmtx.widths)+">>"),u("endobj"),o.isAlreadyPutted=!0}})(i)}]);var a=function(i){var l,o=i.text||"",u=i.x,f=i.y,h=i.options||{},m=i.mutex||{},g=m.pdfEscape,x=m.activeFontKey,b=m.fonts,v=x,w="",N=0,E="",j=b[v].encoding;if(b[v].encoding!=="Identity-H")return{text:o,x:u,y:f,options:h,mutex:m};for(E=o,v=x,Array.isArray(o)&&(E=o[0]),N=0;N<E.length;N+=1)b[v].metadata.hasOwnProperty("cmap")&&(l=b[v].metadata.cmap.unicode.codeMap[E[N].charCodeAt(0)]),l||E[N].charCodeAt(0)<256&&b[v].metadata.hasOwnProperty("Unicode")?w+=E[N]:w+="";var T="";return parseInt(v.slice(1))<14||j==="WinAnsiEncoding"?T=g(w,v).split("").map(function(O){return O.charCodeAt(0).toString(16)}).join(""):j==="Identity-H"&&(T=r(w,b[v])),m.isHex=!0,{text:T,x:u,y:f,options:h,mutex:m}};t.events.push(["postProcessText",function(i){var l=i.text||"",o=[],u={text:l,x:i.x,y:i.y,options:i.options,mutex:i.mutex};if(Array.isArray(l)){var f=0;for(f=0;f<l.length;f+=1)Array.isArray(l[f])&&l[f].length===3?o.push([a(Object.assign({},u,{text:l[f][0]})).text,l[f][1],l[f][2]]):o.push(a(Object.assign({},u,{text:l[f]})).text);i.text=o}else i.text=a(Object.assign({},u,{text:l})).text}])})(Gt),(function(e){var t=function(){return this.internal.vFS===void 0&&(this.internal.vFS={}),!0};e.existsFileInVFS=function(r){return t.call(this),this.internal.vFS[r]!==void 0},e.addFileToVFS=function(r,n){return t.call(this),this.internal.vFS[r]=n,this},e.getFileFromVFS=function(r){return t.call(this),this.internal.vFS[r]!==void 0?this.internal.vFS[r]:null}})(Gt.API),(function(e){e.__bidiEngine__=e.prototype.__bidiEngine__=function(n){var a,i,l,o,u,f,h,m=t,g=[[0,3,0,1,0,0,0],[0,3,0,1,2,2,0],[0,3,0,17,2,0,1],[0,3,5,5,4,1,0],[0,3,21,21,4,0,1],[0,3,5,5,4,2,0]],x=[[2,0,1,1,0,1,0],[2,0,1,1,0,2,0],[2,0,2,1,3,2,0],[2,0,2,33,3,1,1]],b={L:0,R:1,EN:2,AN:3,N:4,B:5,S:6},v={0:0,5:1,6:2,7:3,32:4,251:5,254:6,255:7},w=["(",")","(","<",">","<","[","]","[","{","}","{","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","",""],N=new RegExp(/^([1-4|9]|1[0-9]|2[0-9]|3[0168]|4[04589]|5[012]|7[78]|159|16[0-9]|17[0-2]|21[569]|22[03489]|250)$/),E=!1,j=0;this.__bidiEngine__={};var T=function(L){var U=L.charCodeAt(),G=U>>8,te=v[G];return te!==void 0?m[256*te+(255&U)]:G===252||G===253?"AL":N.test(G)?"L":G===8?"R":"N"},O=function(L){for(var U,G=0;G<L.length;G++){if((U=T(L.charAt(G)))==="L")return!1;if(U==="R")return!0}return!1},P=function(L,U,G,te){var de,ne,Z,xe,le=U[te];switch(le){case"L":case"R":case"LRE":case"RLE":case"LRO":case"RLO":case"PDF":E=!1;break;case"N":case"AN":break;case"EN":E&&(le="AN");break;case"AL":E=!0,le="R";break;case"WS":case"BN":le="N";break;case"CS":te<1||te+1>=U.length||(de=G[te-1])!=="EN"&&de!=="AN"||(ne=U[te+1])!=="EN"&&ne!=="AN"?le="N":E&&(ne="AN"),le=ne===de?ne:"N";break;case"ES":le=(de=te>0?G[te-1]:"B")==="EN"&&te+1<U.length&&U[te+1]==="EN"?"EN":"N";break;case"ET":if(te>0&&G[te-1]==="EN"){le="EN";break}if(E){le="N";break}for(Z=te+1,xe=U.length;Z<xe&&U[Z]==="ET";)Z++;le=Z<xe&&U[Z]==="EN"?"EN":"N";break;case"NSM":if(l&&!o){for(xe=U.length,Z=te+1;Z<xe&&U[Z]==="NSM";)Z++;if(Z<xe){var Se=L[te],re=Se>=1425&&Se<=2303||Se===64286;if(de=U[Z],re&&(de==="R"||de==="AL")){le="R";break}}}le=te<1||(de=U[te-1])==="B"?"N":G[te-1];break;case"B":E=!1,a=!0,le=j;break;case"S":i=!0,le="N"}return le},D=function(L,U,G){var te=L.split("");return G&&M(te,G,{hiLevel:j}),te.reverse(),U&&U.reverse(),te.join("")},M=function(L,U,G){var te,de,ne,Z,xe,le=-1,Se=L.length,re=0,R=[],F=j?x:g,q=[];for(E=!1,a=!1,i=!1,de=0;de<Se;de++)q[de]=T(L[de]);for(ne=0;ne<Se;ne++){if(xe=re,R[ne]=P(L,q,R,ne),te=240&(re=F[xe][b[R[ne]]]),re&=15,U[ne]=Z=F[re][5],te>0)if(te===16){for(de=le;de<ne;de++)U[de]=1;le=-1}else le=-1;if(F[re][6])le===-1&&(le=ne);else if(le>-1){for(de=le;de<ne;de++)U[de]=Z;le=-1}q[ne]==="B"&&(U[ne]=0),G.hiLevel|=Z}i&&(function(W,Q,oe){for(var ue=0;ue<oe;ue++)if(W[ue]==="S"){Q[ue]=j;for(var X=ue-1;X>=0&&W[X]==="WS";X--)Q[X]=j}})(q,U,Se)},B=function(L,U,G,te,de){if(!(de.hiLevel<L)){if(L===1&&j===1&&!a)return U.reverse(),void(G&&G.reverse());for(var ne,Z,xe,le,Se=U.length,re=0;re<Se;){if(te[re]>=L){for(xe=re+1;xe<Se&&te[xe]>=L;)xe++;for(le=re,Z=xe-1;le<Z;le++,Z--)ne=U[le],U[le]=U[Z],U[Z]=ne,G&&(ne=G[le],G[le]=G[Z],G[Z]=ne);re=xe}re++}}},H=function(L,U,G){var te=L.split(""),de={hiLevel:j};return G||(G=[]),M(te,G,de),(function(ne,Z,xe){if(xe.hiLevel!==0&&h)for(var le,Se=0;Se<ne.length;Se++)Z[Se]===1&&(le=w.indexOf(ne[Se]))>=0&&(ne[Se]=w[le+1])})(te,G,de),B(2,te,U,G,de),B(1,te,U,G,de),te.join("")};return this.__bidiEngine__.doBidiReorder=function(L,U,G){if((function(de,ne){if(ne)for(var Z=0;Z<de.length;Z++)ne[Z]=Z;o===void 0&&(o=O(de)),f===void 0&&(f=O(de))})(L,U),l||!u||f)if(l&&u&&o^f)j=o?1:0,L=D(L,U,G);else if(!l&&u&&f)j=o?1:0,L=H(L,U,G),L=D(L,U);else if(!l||o||u||f){if(l&&!u&&o^f)L=D(L,U),o?(j=0,L=H(L,U,G)):(j=1,L=H(L,U,G),L=D(L,U));else if(l&&o&&!u&&f)j=1,L=H(L,U,G),L=D(L,U);else if(!l&&!u&&o^f){var te=h;o?(j=1,L=H(L,U,G),j=0,h=!1,L=H(L,U,G),h=te):(j=0,L=H(L,U,G),L=D(L,U),j=1,h=!1,L=H(L,U,G),h=te,L=D(L,U))}}else j=0,L=H(L,U,G);else j=o?1:0,L=H(L,U,G);return L},this.__bidiEngine__.setOptions=function(L){L&&(l=L.isInputVisual,u=L.isOutputVisual,o=L.isInputRtl,f=L.isOutputRtl,h=L.isSymmetricSwapping)},this.__bidiEngine__.setOptions(n),this.__bidiEngine__};var t=["BN","BN","BN","BN","BN","BN","BN","BN","BN","S","B","S","WS","B","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","B","B","B","S","WS","N","N","ET","ET","ET","N","N","N","N","N","ES","CS","ES","CS","CS","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","CS","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","BN","BN","BN","BN","BN","BN","B","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","CS","N","ET","ET","ET","ET","N","N","N","N","L","N","N","BN","N","N","ET","ET","EN","EN","N","L","N","N","N","EN","L","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","N","N","N","N","N","ET","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","R","NSM","R","NSM","NSM","R","NSM","NSM","R","NSM","N","N","N","N","N","N","N","N","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","N","N","N","N","N","R","R","R","R","R","N","N","N","N","N","N","N","N","N","N","N","AN","AN","AN","AN","AN","AN","N","N","AL","ET","ET","AL","CS","AL","N","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AL","AL","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AN","AN","AN","AN","AN","AN","AN","AN","AN","AN","ET","AN","AN","AL","AL","AL","NSM","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AN","N","NSM","NSM","NSM","NSM","NSM","NSM","AL","AL","NSM","NSM","N","NSM","NSM","NSM","NSM","AL","AL","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","N","AL","AL","NSM","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AL","N","N","N","N","N","N","N","N","N","N","N","N","N","N","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","R","R","N","N","N","N","R","N","N","N","N","N","WS","WS","WS","WS","WS","WS","WS","WS","WS","WS","WS","BN","BN","BN","L","R","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","WS","B","LRE","RLE","PDF","LRO","RLO","CS","ET","ET","ET","ET","ET","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","CS","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","WS","BN","BN","BN","BN","BN","N","LRI","RLI","FSI","PDI","BN","BN","BN","BN","BN","BN","EN","L","N","N","EN","EN","EN","EN","EN","EN","ES","ES","N","N","N","L","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","ES","ES","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","L","L","L","L","L","L","L","N","N","N","N","N","N","N","N","N","N","N","N","L","L","L","L","L","N","N","N","N","N","R","NSM","R","R","R","R","R","R","R","R","R","R","ES","R","R","R","R","R","R","R","R","R","R","R","R","R","N","R","R","R","R","R","N","R","N","R","R","N","R","R","N","R","R","R","R","R","R","R","R","R","R","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","CS","N","CS","N","N","CS","N","N","N","N","N","N","N","N","N","ET","N","N","ES","ES","N","N","N","N","N","ET","ET","N","N","N","N","N","AL","AL","AL","AL","AL","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","N","N","BN","N","N","N","ET","ET","ET","N","N","N","N","N","ES","CS","ES","CS","CS","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","CS","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","N","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","L","L","L","L","L","L","N","N","L","L","L","L","L","L","N","N","L","L","L","L","L","L","N","N","L","L","L","N","N","N","ET","ET","N","N","N","ET","ET","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N"],r=new e.__bidiEngine__({isInputVisual:!0});e.API.events.push(["postProcessText",function(n){var a=n.text;n.x,n.y;var i=n.options||{};n.mutex,i.lang;var l=[];if(i.isInputVisual=typeof i.isInputVisual!="boolean"||i.isInputVisual,r.setOptions(i),Object.prototype.toString.call(a)==="[object Array]"){var o=0;for(l=[],o=0;o<a.length;o+=1)Object.prototype.toString.call(a[o])==="[object Array]"?l.push([r.doBidiReorder(a[o][0]),a[o][1],a[o][2]]):l.push([r.doBidiReorder(a[o])]);n.text=l}else n.text=r.doBidiReorder(a);r.setOptions({isInputVisual:!0})}])})(Gt),Gt.API.TTFFont=(function(){function e(t){var r;if(this.rawData=t,r=this.contents=new Md(t),this.contents.pos=4,r.readString(4)==="ttcf")throw new Error("TTCF not supported.");r.pos=0,this.parse(),this.subset=new NNe(this),this.registerTTF()}return e.open=function(t){return new e(t)},e.prototype.parse=function(){return this.directory=new oNe(this.contents),this.head=new uNe(this),this.name=new pNe(this),this.cmap=new aU(this),this.toUnicode={},this.hhea=new fNe(this),this.maxp=new xNe(this),this.hmtx=new gNe(this),this.post=new hNe(this),this.os2=new dNe(this),this.loca=new wNe(this),this.glyf=new vNe(this),this.ascender=this.os2.exists&&this.os2.ascender||this.hhea.ascender,this.decender=this.os2.exists&&this.os2.decender||this.hhea.decender,this.lineGap=this.os2.exists&&this.os2.lineGap||this.hhea.lineGap,this.bbox=[this.head.xMin,this.head.yMin,this.head.xMax,this.head.yMax]},e.prototype.registerTTF=function(){var t,r,n,a,i;if(this.scaleFactor=1e3/this.head.unitsPerEm,this.bbox=(function(){var l,o,u,f;for(f=[],l=0,o=(u=this.bbox).length;l<o;l++)t=u[l],f.push(Math.round(t*this.scaleFactor));return f}).call(this),this.stemV=0,this.post.exists?(n=255&(a=this.post.italic_angle),32768&(r=a>>16)&&(r=-(1+(65535^r))),this.italicAngle=+(r+"."+n)):this.italicAngle=0,this.ascender=Math.round(this.ascender*this.scaleFactor),this.decender=Math.round(this.decender*this.scaleFactor),this.lineGap=Math.round(this.lineGap*this.scaleFactor),this.capHeight=this.os2.exists&&this.os2.capHeight||this.ascender,this.xHeight=this.os2.exists&&this.os2.xHeight||0,this.familyClass=(this.os2.exists&&this.os2.familyClass||0)>>8,this.isSerif=(i=this.familyClass)===1||i===2||i===3||i===4||i===5||i===7,this.isScript=this.familyClass===10,this.flags=0,this.post.isFixedPitch&&(this.flags|=1),this.isSerif&&(this.flags|=2),this.isScript&&(this.flags|=8),this.italicAngle!==0&&(this.flags|=64),this.flags|=32,!this.cmap.unicode)throw new Error("No unicode cmap for font")},e.prototype.characterToGlyph=function(t){var r;return((r=this.cmap.unicode)!=null?r.codeMap[t]:void 0)||0},e.prototype.widthOfGlyph=function(t){var r;return r=1e3/this.head.unitsPerEm,this.hmtx.forGlyph(t).advance*r},e.prototype.widthOfString=function(t,r,n){var a,i,l,o;for(l=0,i=0,o=(t=""+t).length;0<=o?i<o:i>o;i=0<=o?++i:--i)a=t.charCodeAt(i),l+=this.widthOfGlyph(this.characterToGlyph(a))+n*(1e3/r)||0;return l*(r/1e3)},e.prototype.lineHeight=function(t,r){var n;return r==null&&(r=!1),n=r?this.lineGap:0,(this.ascender+n-this.decender)/1e3*t},e})();var Rc,Md=(function(){function e(t){this.data=t??[],this.pos=0,this.length=this.data.length}return e.prototype.readByte=function(){return this.data[this.pos++]},e.prototype.writeByte=function(t){return this.data[this.pos++]=t},e.prototype.readUInt32=function(){return 16777216*this.readByte()+(this.readByte()<<16)+(this.readByte()<<8)+this.readByte()},e.prototype.writeUInt32=function(t){return this.writeByte(t>>>24&255),this.writeByte(t>>16&255),this.writeByte(t>>8&255),this.writeByte(255&t)},e.prototype.readInt32=function(){var t;return(t=this.readUInt32())>=2147483648?t-4294967296:t},e.prototype.writeInt32=function(t){return t<0&&(t+=4294967296),this.writeUInt32(t)},e.prototype.readUInt16=function(){return this.readByte()<<8|this.readByte()},e.prototype.writeUInt16=function(t){return this.writeByte(t>>8&255),this.writeByte(255&t)},e.prototype.readInt16=function(){var t;return(t=this.readUInt16())>=32768?t-65536:t},e.prototype.writeInt16=function(t){return t<0&&(t+=65536),this.writeUInt16(t)},e.prototype.readString=function(t){var r,n;for(n=[],r=0;0<=t?r<t:r>t;r=0<=t?++r:--r)n[r]=String.fromCharCode(this.readByte());return n.join("")},e.prototype.writeString=function(t){var r,n,a;for(a=[],r=0,n=t.length;0<=n?r<n:r>n;r=0<=n?++r:--r)a.push(this.writeByte(t.charCodeAt(r)));return a},e.prototype.readShort=function(){return this.readInt16()},e.prototype.writeShort=function(t){return this.writeInt16(t)},e.prototype.readLongLong=function(){var t,r,n,a,i,l,o,u;return t=this.readByte(),r=this.readByte(),n=this.readByte(),a=this.readByte(),i=this.readByte(),l=this.readByte(),o=this.readByte(),u=this.readByte(),128&t?-1*(72057594037927940*(255^t)+281474976710656*(255^r)+1099511627776*(255^n)+4294967296*(255^a)+16777216*(255^i)+65536*(255^l)+256*(255^o)+(255^u)+1):72057594037927940*t+281474976710656*r+1099511627776*n+4294967296*a+16777216*i+65536*l+256*o+u},e.prototype.writeLongLong=function(t){var r,n;return r=Math.floor(t/4294967296),n=4294967295&t,this.writeByte(r>>24&255),this.writeByte(r>>16&255),this.writeByte(r>>8&255),this.writeByte(255&r),this.writeByte(n>>24&255),this.writeByte(n>>16&255),this.writeByte(n>>8&255),this.writeByte(255&n)},e.prototype.readInt=function(){return this.readInt32()},e.prototype.writeInt=function(t){return this.writeInt32(t)},e.prototype.read=function(t){var r,n;for(r=[],n=0;0<=t?n<t:n>t;n=0<=t?++n:--n)r.push(this.readByte());return r},e.prototype.write=function(t){var r,n,a,i;for(i=[],n=0,a=t.length;n<a;n++)r=t[n],i.push(this.writeByte(r));return i},e})(),oNe=(function(){var e;function t(r){var n,a,i;for(this.scalarType=r.readInt(),this.tableCount=r.readShort(),this.searchRange=r.readShort(),this.entrySelector=r.readShort(),this.rangeShift=r.readShort(),this.tables={},a=0,i=this.tableCount;0<=i?a<i:a>i;a=0<=i?++a:--a)n={tag:r.readString(4),checksum:r.readInt(),offset:r.readInt(),length:r.readInt()},this.tables[n.tag]=n}return t.prototype.encode=function(r){var n,a,i,l,o,u,f,h,m,g,x,b,v;for(v in x=Object.keys(r).length,u=Math.log(2),m=16*Math.floor(Math.log(x)/u),l=Math.floor(m/u),h=16*x-m,(a=new Md).writeInt(this.scalarType),a.writeShort(x),a.writeShort(m),a.writeShort(l),a.writeShort(h),i=16*x,f=a.pos+i,o=null,b=[],r)for(g=r[v],a.writeString(v),a.writeInt(e(g)),a.writeInt(f),a.writeInt(g.length),b=b.concat(g),v==="head"&&(o=f),f+=g.length;f%4;)b.push(0),f++;return a.write(b),n=2981146554-e(a.data),a.pos=o+8,a.writeUInt32(n),a.data},e=function(r){var n,a,i,l;for(r=iU.call(r);r.length%4;)r.push(0);for(i=new Md(r),a=0,n=0,l=r.length;n<l;n=n+=4)a+=i.readUInt32();return 4294967295&a},t})(),cNe={}.hasOwnProperty,vu=function(e,t){for(var r in t)cNe.call(t,r)&&(e[r]=t[r]);function n(){this.constructor=e}return n.prototype=t.prototype,e.prototype=new n,e.__super__=t.prototype,e};Rc=(function(){function e(t){var r;this.file=t,r=this.file.directory.tables[this.tag],this.exists=!!r,r&&(this.offset=r.offset,this.length=r.length,this.parse(this.file.contents))}return e.prototype.parse=function(){},e.prototype.encode=function(){},e.prototype.raw=function(){return this.exists?(this.file.contents.pos=this.offset,this.file.contents.read(this.length)):null},e})();var uNe=(function(){function e(){return e.__super__.constructor.apply(this,arguments)}return vu(e,Rc),e.prototype.tag="head",e.prototype.parse=function(t){return t.pos=this.offset,this.version=t.readInt(),this.revision=t.readInt(),this.checkSumAdjustment=t.readInt(),this.magicNumber=t.readInt(),this.flags=t.readShort(),this.unitsPerEm=t.readShort(),this.created=t.readLongLong(),this.modified=t.readLongLong(),this.xMin=t.readShort(),this.yMin=t.readShort(),this.xMax=t.readShort(),this.yMax=t.readShort(),this.macStyle=t.readShort(),this.lowestRecPPEM=t.readShort(),this.fontDirectionHint=t.readShort(),this.indexToLocFormat=t.readShort(),this.glyphDataFormat=t.readShort()},e.prototype.encode=function(t){var r;return(r=new Md).writeInt(this.version),r.writeInt(this.revision),r.writeInt(this.checkSumAdjustment),r.writeInt(this.magicNumber),r.writeShort(this.flags),r.writeShort(this.unitsPerEm),r.writeLongLong(this.created),r.writeLongLong(this.modified),r.writeShort(this.xMin),r.writeShort(this.yMin),r.writeShort(this.xMax),r.writeShort(this.yMax),r.writeShort(this.macStyle),r.writeShort(this.lowestRecPPEM),r.writeShort(this.fontDirectionHint),r.writeShort(t),r.writeShort(this.glyphDataFormat),r.data},e})(),oD=(function(){function e(t,r){var n,a,i,l,o,u,f,h,m,g,x,b,v,w,N,E,j;switch(this.platformID=t.readUInt16(),this.encodingID=t.readShort(),this.offset=r+t.readInt(),m=t.pos,t.pos=this.offset,this.format=t.readUInt16(),this.length=t.readUInt16(),this.language=t.readUInt16(),this.isUnicode=this.platformID===3&&this.encodingID===1&&this.format===4||this.platformID===0&&this.format===4,this.codeMap={},this.format){case 0:for(u=0;u<256;++u)this.codeMap[u]=t.readByte();break;case 4:for(x=t.readUInt16(),g=x/2,t.pos+=6,i=(function(){var T,O;for(O=[],u=T=0;0<=g?T<g:T>g;u=0<=g?++T:--T)O.push(t.readUInt16());return O})(),t.pos+=2,v=(function(){var T,O;for(O=[],u=T=0;0<=g?T<g:T>g;u=0<=g?++T:--T)O.push(t.readUInt16());return O})(),f=(function(){var T,O;for(O=[],u=T=0;0<=g?T<g:T>g;u=0<=g?++T:--T)O.push(t.readUInt16());return O})(),h=(function(){var T,O;for(O=[],u=T=0;0<=g?T<g:T>g;u=0<=g?++T:--T)O.push(t.readUInt16());return O})(),a=(this.length-t.pos+this.offset)/2,o=(function(){var T,O;for(O=[],u=T=0;0<=a?T<a:T>a;u=0<=a?++T:--T)O.push(t.readUInt16());return O})(),u=N=0,j=i.length;N<j;u=++N)for(w=i[u],n=E=b=v[u];b<=w?E<=w:E>=w;n=b<=w?++E:--E)h[u]===0?l=n+f[u]:(l=o[h[u]/2+(n-b)-(g-u)]||0)!==0&&(l+=f[u]),this.codeMap[n]=65535&l}t.pos=m}return e.encode=function(t,r){var n,a,i,l,o,u,f,h,m,g,x,b,v,w,N,E,j,T,O,P,D,M,B,H,L,U,G,te,de,ne,Z,xe,le,Se,re,R,F,q,W,Q,oe,ue,X,ve,Te,Y;switch(te=new Md,l=Object.keys(t).sort(function(We,Ee){return We-Ee}),r){case"macroman":for(v=0,w=(function(){var We=[];for(b=0;b<256;++b)We.push(0);return We})(),E={0:0},i={},de=0,le=l.length;de<le;de++)E[X=t[a=l[de]]]==null&&(E[X]=++v),i[a]={old:t[a],new:E[t[a]]},w[a]=E[t[a]];return te.writeUInt16(1),te.writeUInt16(0),te.writeUInt32(12),te.writeUInt16(0),te.writeUInt16(262),te.writeUInt16(0),te.write(w),{charMap:i,subtable:te.data,maxGlyphID:v+1};case"unicode":for(U=[],m=[],j=0,E={},n={},N=f=null,ne=0,Se=l.length;ne<Se;ne++)E[O=t[a=l[ne]]]==null&&(E[O]=++j),n[a]={old:O,new:E[O]},o=E[O]-a,N!=null&&o===f||(N&&m.push(N),U.push(a),f=o),N=a;for(N&&m.push(N),m.push(65535),U.push(65535),H=2*(B=U.length),M=2*Math.pow(Math.log(B)/Math.LN2,2),g=Math.log(M/2)/Math.LN2,D=2*B-M,u=[],P=[],x=[],b=Z=0,re=U.length;Z<re;b=++Z){if(L=U[b],h=m[b],L===65535){u.push(0),P.push(0);break}if(L-(G=n[L].new)>=32768)for(u.push(0),P.push(2*(x.length+B-b)),a=xe=L;L<=h?xe<=h:xe>=h;a=L<=h?++xe:--xe)x.push(n[a].new);else u.push(G-L),P.push(0)}for(te.writeUInt16(3),te.writeUInt16(1),te.writeUInt32(12),te.writeUInt16(4),te.writeUInt16(16+8*B+2*x.length),te.writeUInt16(0),te.writeUInt16(H),te.writeUInt16(M),te.writeUInt16(g),te.writeUInt16(D),oe=0,R=m.length;oe<R;oe++)a=m[oe],te.writeUInt16(a);for(te.writeUInt16(0),ue=0,F=U.length;ue<F;ue++)a=U[ue],te.writeUInt16(a);for(ve=0,q=u.length;ve<q;ve++)o=u[ve],te.writeUInt16(o);for(Te=0,W=P.length;Te<W;Te++)T=P[Te],te.writeUInt16(T);for(Y=0,Q=x.length;Y<Q;Y++)v=x[Y],te.writeUInt16(v);return{charMap:n,subtable:te.data,maxGlyphID:j+1}}},e})(),aU=(function(){function e(){return e.__super__.constructor.apply(this,arguments)}return vu(e,Rc),e.prototype.tag="cmap",e.prototype.parse=function(t){var r,n,a;for(t.pos=this.offset,this.version=t.readUInt16(),a=t.readUInt16(),this.tables=[],this.unicode=null,n=0;0<=a?n<a:n>a;n=0<=a?++n:--n)r=new oD(t,this.offset),this.tables.push(r),r.isUnicode&&this.unicode==null&&(this.unicode=r);return!0},e.encode=function(t,r){var n,a;return r==null&&(r="macroman"),n=oD.encode(t,r),(a=new Md).writeUInt16(0),a.writeUInt16(1),n.table=a.data.concat(n.subtable),n},e})(),fNe=(function(){function e(){return e.__super__.constructor.apply(this,arguments)}return vu(e,Rc),e.prototype.tag="hhea",e.prototype.parse=function(t){return t.pos=this.offset,this.version=t.readInt(),this.ascender=t.readShort(),this.decender=t.readShort(),this.lineGap=t.readShort(),this.advanceWidthMax=t.readShort(),this.minLeftSideBearing=t.readShort(),this.minRightSideBearing=t.readShort(),this.xMaxExtent=t.readShort(),this.caretSlopeRise=t.readShort(),this.caretSlopeRun=t.readShort(),this.caretOffset=t.readShort(),t.pos+=8,this.metricDataFormat=t.readShort(),this.numberOfMetrics=t.readUInt16()},e})(),dNe=(function(){function e(){return e.__super__.constructor.apply(this,arguments)}return vu(e,Rc),e.prototype.tag="OS/2",e.prototype.parse=function(t){if(t.pos=this.offset,this.version=t.readUInt16(),this.averageCharWidth=t.readShort(),this.weightClass=t.readUInt16(),this.widthClass=t.readUInt16(),this.type=t.readShort(),this.ySubscriptXSize=t.readShort(),this.ySubscriptYSize=t.readShort(),this.ySubscriptXOffset=t.readShort(),this.ySubscriptYOffset=t.readShort(),this.ySuperscriptXSize=t.readShort(),this.ySuperscriptYSize=t.readShort(),this.ySuperscriptXOffset=t.readShort(),this.ySuperscriptYOffset=t.readShort(),this.yStrikeoutSize=t.readShort(),this.yStrikeoutPosition=t.readShort(),this.familyClass=t.readShort(),this.panose=(function(){var r,n;for(n=[],r=0;r<10;++r)n.push(t.readByte());return n})(),this.charRange=(function(){var r,n;for(n=[],r=0;r<4;++r)n.push(t.readInt());return n})(),this.vendorID=t.readString(4),this.selection=t.readShort(),this.firstCharIndex=t.readShort(),this.lastCharIndex=t.readShort(),this.version>0&&(this.ascent=t.readShort(),this.descent=t.readShort(),this.lineGap=t.readShort(),this.winAscent=t.readShort(),this.winDescent=t.readShort(),this.codePageRange=(function(){var r,n;for(n=[],r=0;r<2;r=++r)n.push(t.readInt());return n})(),this.version>1))return this.xHeight=t.readShort(),this.capHeight=t.readShort(),this.defaultChar=t.readShort(),this.breakChar=t.readShort(),this.maxContext=t.readShort()},e})(),hNe=(function(){function e(){return e.__super__.constructor.apply(this,arguments)}return vu(e,Rc),e.prototype.tag="post",e.prototype.parse=function(t){var r,n,a;switch(t.pos=this.offset,this.format=t.readInt(),this.italicAngle=t.readInt(),this.underlinePosition=t.readShort(),this.underlineThickness=t.readShort(),this.isFixedPitch=t.readInt(),this.minMemType42=t.readInt(),this.maxMemType42=t.readInt(),this.minMemType1=t.readInt(),this.maxMemType1=t.readInt(),this.format){case 65536:case 196608:break;case 131072:var i;for(n=t.readUInt16(),this.glyphNameIndex=[],i=0;0<=n?i<n:i>n;i=0<=n?++i:--i)this.glyphNameIndex.push(t.readUInt16());for(this.names=[],a=[];t.pos<this.offset+this.length;)r=t.readByte(),a.push(this.names.push(t.readString(r)));return a;case 151552:return n=t.readUInt16(),this.offsets=t.read(n);case 262144:return this.map=(function(){var l,o,u;for(u=[],i=l=0,o=this.file.maxp.numGlyphs;0<=o?l<o:l>o;i=0<=o?++l:--l)u.push(t.readUInt32());return u}).call(this)}},e})(),mNe=function(e,t){this.raw=e,this.length=e.length,this.platformID=t.platformID,this.encodingID=t.encodingID,this.languageID=t.languageID},pNe=(function(){function e(){return e.__super__.constructor.apply(this,arguments)}return vu(e,Rc),e.prototype.tag="name",e.prototype.parse=function(t){var r,n,a,i,l,o,u,f,h,m,g;for(t.pos=this.offset,t.readShort(),r=t.readShort(),o=t.readShort(),n=[],i=0;0<=r?i<r:i>r;i=0<=r?++i:--i)n.push({platformID:t.readShort(),encodingID:t.readShort(),languageID:t.readShort(),nameID:t.readShort(),length:t.readShort(),offset:this.offset+o+t.readShort()});for(u={},i=h=0,m=n.length;h<m;i=++h)a=n[i],t.pos=a.offset,f=t.readString(a.length),l=new mNe(f,a),u[g=a.nameID]==null&&(u[g]=[]),u[a.nameID].push(l);this.strings=u,this.copyright=u[0],this.fontFamily=u[1],this.fontSubfamily=u[2],this.uniqueSubfamily=u[3],this.fontName=u[4],this.version=u[5];try{this.postscriptName=u[6][0].raw.replace(/[\x00-\x19\x80-\xff]/g,"")}catch{this.postscriptName=u[4][0].raw.replace(/[\x00-\x19\x80-\xff]/g,"")}return this.trademark=u[7],this.manufacturer=u[8],this.designer=u[9],this.description=u[10],this.vendorUrl=u[11],this.designerUrl=u[12],this.license=u[13],this.licenseUrl=u[14],this.preferredFamily=u[15],this.preferredSubfamily=u[17],this.compatibleFull=u[18],this.sampleText=u[19]},e})(),xNe=(function(){function e(){return e.__super__.constructor.apply(this,arguments)}return vu(e,Rc),e.prototype.tag="maxp",e.prototype.parse=function(t){return t.pos=this.offset,this.version=t.readInt(),this.numGlyphs=t.readUInt16(),this.maxPoints=t.readUInt16(),this.maxContours=t.readUInt16(),this.maxCompositePoints=t.readUInt16(),this.maxComponentContours=t.readUInt16(),this.maxZones=t.readUInt16(),this.maxTwilightPoints=t.readUInt16(),this.maxStorage=t.readUInt16(),this.maxFunctionDefs=t.readUInt16(),this.maxInstructionDefs=t.readUInt16(),this.maxStackElements=t.readUInt16(),this.maxSizeOfInstructions=t.readUInt16(),this.maxComponentElements=t.readUInt16(),this.maxComponentDepth=t.readUInt16()},e})(),gNe=(function(){function e(){return e.__super__.constructor.apply(this,arguments)}return vu(e,Rc),e.prototype.tag="hmtx",e.prototype.parse=function(t){var r,n,a,i,l,o,u;for(t.pos=this.offset,this.metrics=[],r=0,o=this.file.hhea.numberOfMetrics;0<=o?r<o:r>o;r=0<=o?++r:--r)this.metrics.push({advance:t.readUInt16(),lsb:t.readInt16()});for(a=this.file.maxp.numGlyphs-this.file.hhea.numberOfMetrics,this.leftSideBearings=(function(){var f,h;for(h=[],r=f=0;0<=a?f<a:f>a;r=0<=a?++f:--f)h.push(t.readInt16());return h})(),this.widths=(function(){var f,h,m,g;for(g=[],f=0,h=(m=this.metrics).length;f<h;f++)i=m[f],g.push(i.advance);return g}).call(this),n=this.widths[this.widths.length-1],u=[],r=l=0;0<=a?l<a:l>a;r=0<=a?++l:--l)u.push(this.widths.push(n));return u},e.prototype.forGlyph=function(t){return t in this.metrics?this.metrics[t]:{advance:this.metrics[this.metrics.length-1].advance,lsb:this.leftSideBearings[t-this.metrics.length]}},e})(),iU=[].slice,vNe=(function(){function e(){return e.__super__.constructor.apply(this,arguments)}return vu(e,Rc),e.prototype.tag="glyf",e.prototype.parse=function(){return this.cache={}},e.prototype.glyphFor=function(t){var r,n,a,i,l,o,u,f,h,m;return t in this.cache?this.cache[t]:(i=this.file.loca,r=this.file.contents,n=i.indexOf(t),(a=i.lengthOf(t))===0?this.cache[t]=null:(r.pos=this.offset+n,l=(o=new Md(r.read(a))).readShort(),f=o.readShort(),m=o.readShort(),u=o.readShort(),h=o.readShort(),this.cache[t]=l===-1?new bNe(o,f,m,u,h):new yNe(o,l,f,m,u,h),this.cache[t]))},e.prototype.encode=function(t,r,n){var a,i,l,o,u;for(l=[],i=[],o=0,u=r.length;o<u;o++)a=t[r[o]],i.push(l.length),a&&(l=l.concat(a.encode(n)));return i.push(l.length),{table:l,offsets:i}},e})(),yNe=(function(){function e(t,r,n,a,i,l){this.raw=t,this.numberOfContours=r,this.xMin=n,this.yMin=a,this.xMax=i,this.yMax=l,this.compound=!1}return e.prototype.encode=function(){return this.raw.data},e})(),bNe=(function(){function e(t,r,n,a,i){var l,o;for(this.raw=t,this.xMin=r,this.yMin=n,this.xMax=a,this.yMax=i,this.compound=!0,this.glyphIDs=[],this.glyphOffsets=[],l=this.raw;o=l.readShort(),this.glyphOffsets.push(l.pos),this.glyphIDs.push(l.readUInt16()),32&o;)l.pos+=1&o?4:2,128&o?l.pos+=8:64&o?l.pos+=4:8&o&&(l.pos+=2)}return e.prototype.encode=function(){var t,r,n;for(r=new Md(iU.call(this.raw.data)),t=0,n=this.glyphIDs.length;t<n;++t)r.pos=this.glyphOffsets[t];return r.data},e})(),wNe=(function(){function e(){return e.__super__.constructor.apply(this,arguments)}return vu(e,Rc),e.prototype.tag="loca",e.prototype.parse=function(t){var r,n;return t.pos=this.offset,r=this.file.head.indexToLocFormat,this.offsets=r===0?(function(){var a,i;for(i=[],n=0,a=this.length;n<a;n+=2)i.push(2*t.readUInt16());return i}).call(this):(function(){var a,i;for(i=[],n=0,a=this.length;n<a;n+=4)i.push(t.readUInt32());return i}).call(this)},e.prototype.indexOf=function(t){return this.offsets[t]},e.prototype.lengthOf=function(t){return this.offsets[t+1]-this.offsets[t]},e.prototype.encode=function(t,r){for(var n=new Uint32Array(this.offsets.length),a=0,i=0,l=0;l<n.length;++l)if(n[l]=a,i<r.length&&r[i]==l){++i,n[l]=a;var o=this.offsets[l],u=this.offsets[l+1]-o;u>0&&(a+=u)}for(var f=new Array(4*n.length),h=0;h<n.length;++h)f[4*h+3]=255&n[h],f[4*h+2]=(65280&n[h])>>8,f[4*h+1]=(16711680&n[h])>>16,f[4*h]=(4278190080&n[h])>>24;return f},e})(),NNe=(function(){function e(t){this.font=t,this.subset={},this.unicodes={},this.next=33}return e.prototype.generateCmap=function(){var t,r,n,a,i;for(r in a=this.font.cmap.tables[0].codeMap,t={},i=this.subset)n=i[r],t[r]=a[n];return t},e.prototype.glyphsFor=function(t){var r,n,a,i,l,o,u;for(a={},l=0,o=t.length;l<o;l++)a[i=t[l]]=this.font.glyf.glyphFor(i);for(i in r=[],a)(n=a[i])!=null&&n.compound&&r.push.apply(r,n.glyphIDs);if(r.length>0)for(i in u=this.glyphsFor(r))n=u[i],a[i]=n;return a},e.prototype.encode=function(t,r){var n,a,i,l,o,u,f,h,m,g,x,b,v,w,N;for(a in n=aU.encode(this.generateCmap(),"unicode"),l=this.glyphsFor(t),x={0:0},N=n.charMap)x[(u=N[a]).old]=u.new;for(b in g=n.maxGlyphID,l)b in x||(x[b]=g++);return h=(function(E){var j,T;for(j in T={},E)T[E[j]]=j;return T})(x),m=Object.keys(h).sort(function(E,j){return E-j}),v=(function(){var E,j,T;for(T=[],E=0,j=m.length;E<j;E++)o=m[E],T.push(h[o]);return T})(),i=this.font.glyf.encode(l,v,x),f=this.font.loca.encode(i.offsets,v),w={cmap:this.font.cmap.raw(),glyf:i.table,loca:f,hmtx:this.font.hmtx.raw(),hhea:this.font.hhea.raw(),maxp:this.font.maxp.raw(),post:this.font.post.raw(),name:this.font.name.raw(),head:this.font.head.encode(r)},this.font.os2.exists&&(w["OS/2"]=this.font.os2.raw()),this.font.directory.encode(w)},e})();Gt.API.PDFObject=(function(){var e;function t(){}return e=function(r,n){return(Array(n+1).join("0")+r).slice(-n)},t.convert=function(r){var n,a,i,l;if(Array.isArray(r))return"["+(function(){var o,u,f;for(f=[],o=0,u=r.length;o<u;o++)n=r[o],f.push(t.convert(n));return f})().join(" ")+"]";if(typeof r=="string")return"/"+r;if(r?.isString)return"("+r+")";if(r instanceof Date)return"(D:"+e(r.getUTCFullYear(),4)+e(r.getUTCMonth(),2)+e(r.getUTCDate(),2)+e(r.getUTCHours(),2)+e(r.getUTCMinutes(),2)+e(r.getUTCSeconds(),2)+"Z)";if({}.toString.call(r)==="[object Object]"){for(a in i=["<<"],r)l=r[a],i.push("/"+a+" "+t.convert(l));return i.push(">>"),i.join(`
`)}return""+r},t})();function sU(e,t,r,n,a){n=n||{};var i=1.15,l=a.internal.scaleFactor,o=a.internal.getFontSize()/l,u=a.getLineHeightFactor?a.getLineHeightFactor():i,f=o*u,h=/\r\n|\r|\n/g,m="",g=1;if((n.valign==="middle"||n.valign==="bottom"||n.halign==="center"||n.halign==="right")&&(m=typeof e=="string"?e.split(h):e,g=m.length||1),r+=o*(2-i),n.valign==="middle"?r-=g/2*f:n.valign==="bottom"&&(r-=g*f),n.halign==="center"||n.halign==="right"){var x=o;if(n.halign==="center"&&(x*=.5),m&&g>=1){for(var b=0;b<m.length;b++)a.text(m[b],t-a.getStringUnitWidth(m[b])*x,r),r+=f;return a}t-=a.getStringUnitWidth(e)*x}return n.halign==="justify"?a.text(e,t,r,{maxWidth:n.maxWidth||100,align:"justify"}):a.text(e,t,r),a}var cD={},zm=(function(){function e(t){this.jsPDFDocument=t,this.userStyles={textColor:t.getTextColor?this.jsPDFDocument.getTextColor():0,fontSize:t.internal.getFontSize(),fontStyle:t.internal.getFont().fontStyle,font:t.internal.getFont().fontName,lineWidth:t.getLineWidth?this.jsPDFDocument.getLineWidth():0,lineColor:t.getDrawColor?this.jsPDFDocument.getDrawColor():0}}return e.setDefaults=function(t,r){r===void 0&&(r=null),r?r.__autoTableDocumentDefaults=t:cD=t},e.unifyColor=function(t){return Array.isArray(t)?t:typeof t=="number"?[t,t,t]:typeof t=="string"?[t]:null},e.prototype.applyStyles=function(t,r){var n,a,i;r===void 0&&(r=!1),t.fontStyle&&this.jsPDFDocument.setFontStyle&&this.jsPDFDocument.setFontStyle(t.fontStyle);var l=this.jsPDFDocument.internal.getFont(),o=l.fontStyle,u=l.fontName;if(t.font&&(u=t.font),t.fontStyle){o=t.fontStyle;var f=this.getFontList()[u];f&&f.indexOf(o)===-1&&this.jsPDFDocument.setFontStyle&&(this.jsPDFDocument.setFontStyle(f[0]),o=f[0])}if(this.jsPDFDocument.setFont(u,o),t.fontSize&&this.jsPDFDocument.setFontSize(t.fontSize),!r){var h=e.unifyColor(t.fillColor);h&&(n=this.jsPDFDocument).setFillColor.apply(n,h),h=e.unifyColor(t.textColor),h&&(a=this.jsPDFDocument).setTextColor.apply(a,h),h=e.unifyColor(t.lineColor),h&&(i=this.jsPDFDocument).setDrawColor.apply(i,h),typeof t.lineWidth=="number"&&this.jsPDFDocument.setLineWidth(t.lineWidth)}},e.prototype.splitTextToSize=function(t,r,n){return this.jsPDFDocument.splitTextToSize(t,r,n)},e.prototype.rect=function(t,r,n,a,i){return this.jsPDFDocument.rect(t,r,n,a,i)},e.prototype.getLastAutoTable=function(){return this.jsPDFDocument.lastAutoTable||null},e.prototype.getTextWidth=function(t){return this.jsPDFDocument.getTextWidth(t)},e.prototype.getDocument=function(){return this.jsPDFDocument},e.prototype.setPage=function(t){this.jsPDFDocument.setPage(t)},e.prototype.addPage=function(){return this.jsPDFDocument.addPage()},e.prototype.getFontList=function(){return this.jsPDFDocument.getFontList()},e.prototype.getGlobalOptions=function(){return cD||{}},e.prototype.getDocumentOptions=function(){return this.jsPDFDocument.__autoTableDocumentDefaults||{}},e.prototype.pageSize=function(){var t=this.jsPDFDocument.internal.pageSize;return t.width==null&&(t={width:t.getWidth(),height:t.getHeight()}),t},e.prototype.scaleFactor=function(){return this.jsPDFDocument.internal.scaleFactor},e.prototype.getLineHeightFactor=function(){var t=this.jsPDFDocument;return t.getLineHeightFactor?t.getLineHeightFactor():1.15},e.prototype.getLineHeight=function(t){return t/this.scaleFactor()*this.getLineHeightFactor()},e.prototype.pageNumber=function(){var t=this.jsPDFDocument.internal.getCurrentPageInfo();return t?t.pageNumber:this.jsPDFDocument.internal.getNumberOfPages()},e})(),S_=function(e,t){return S_=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,n){r.__proto__=n}||function(r,n){for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(r[a]=n[a])},S_(e,t)};function lU(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");S_(e,t);function r(){this.constructor=e}e.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}var oU=(function(e){lU(t,e);function t(r){var n=e.call(this)||this;return n._element=r,n}return t})(Array);function _Ne(e){return{font:"helvetica",fontStyle:"normal",overflow:"linebreak",fillColor:!1,textColor:20,halign:"left",valign:"top",fontSize:10,cellPadding:5/e,lineColor:200,lineWidth:0,cellWidth:"auto",minCellHeight:0,minCellWidth:0}}function jNe(e){var t={striped:{table:{fillColor:255,textColor:80,fontStyle:"normal"},head:{textColor:255,fillColor:[41,128,185],fontStyle:"bold"},body:{},foot:{textColor:255,fillColor:[41,128,185],fontStyle:"bold"},alternateRow:{fillColor:245}},grid:{table:{fillColor:255,textColor:80,fontStyle:"normal",lineWidth:.1},head:{textColor:255,fillColor:[26,188,156],fontStyle:"bold",lineWidth:0},body:{},foot:{textColor:255,fillColor:[26,188,156],fontStyle:"bold",lineWidth:0},alternateRow:{}},plain:{head:{fontStyle:"bold"},foot:{fontStyle:"bold"}}};return t[e]}function n2(e,t,r){r.applyStyles(t,!0);var n=Array.isArray(e)?e:[e],a=n.map(function(i){return r.getTextWidth(i)}).reduce(function(i,l){return Math.max(i,l)},0);return a}function cU(e,t,r,n){var a=t.settings.tableLineWidth,i=t.settings.tableLineColor;e.applyStyles({lineWidth:a,lineColor:i});var l=uU(a,!1);l&&e.rect(r.x,r.y,t.getWidth(e.pageSize().width),n.y-r.y,l)}function uU(e,t){var r=e>0,n=t||t===0;return r&&n?"DF":r?"S":n?"F":null}function ib(e,t){var r,n,a,i;if(e=e||t,Array.isArray(e)){if(e.length>=4)return{top:e[0],right:e[1],bottom:e[2],left:e[3]};if(e.length===3)return{top:e[0],right:e[1],bottom:e[2],left:e[1]};if(e.length===2)return{top:e[0],right:e[1],bottom:e[0],left:e[1]};e.length===1?e=e[0]:e=t}return typeof e=="object"?(typeof e.vertical=="number"&&(e.top=e.vertical,e.bottom=e.vertical),typeof e.horizontal=="number"&&(e.right=e.horizontal,e.left=e.horizontal),{left:(r=e.left)!==null&&r!==void 0?r:t,top:(n=e.top)!==null&&n!==void 0?n:t,right:(a=e.right)!==null&&a!==void 0?a:t,bottom:(i=e.bottom)!==null&&i!==void 0?i:t}):(typeof e!="number"&&(e=t),{top:e,right:e,bottom:e,left:e})}function fU(e,t){var r=ib(t.settings.margin,0);return e.pageSize().width-(r.left+r.right)}function SNe(e,t,r,n,a){var i={},l=1.3333333333333333,o=z4(t,function(j){return a.getComputedStyle(j).backgroundColor});o!=null&&(i.fillColor=o);var u=z4(t,function(j){return a.getComputedStyle(j).color});u!=null&&(i.textColor=u);var f=ENe(n,r);f&&(i.cellPadding=f);var h="borderTopColor",m=l*r,g=n.borderTopWidth;if(n.borderBottomWidth===g&&n.borderRightWidth===g&&n.borderLeftWidth===g){var x=(parseFloat(g)||0)/m;x&&(i.lineWidth=x)}else i.lineWidth={top:(parseFloat(n.borderTopWidth)||0)/m,right:(parseFloat(n.borderRightWidth)||0)/m,bottom:(parseFloat(n.borderBottomWidth)||0)/m,left:(parseFloat(n.borderLeftWidth)||0)/m},i.lineWidth.top||(i.lineWidth.right?h="borderRightColor":i.lineWidth.bottom?h="borderBottomColor":i.lineWidth.left&&(h="borderLeftColor"));var b=z4(t,function(j){return a.getComputedStyle(j)[h]});b!=null&&(i.lineColor=b);var v=["left","right","center","justify"];v.indexOf(n.textAlign)!==-1&&(i.halign=n.textAlign),v=["middle","bottom","top"],v.indexOf(n.verticalAlign)!==-1&&(i.valign=n.verticalAlign);var w=parseInt(n.fontSize||"");isNaN(w)||(i.fontSize=w/l);var N=ANe(n);N&&(i.fontStyle=N);var E=(n.fontFamily||"").toLowerCase();return e.indexOf(E)!==-1&&(i.font=E),i}function ANe(e){var t="";return(e.fontWeight==="bold"||e.fontWeight==="bolder"||parseInt(e.fontWeight)>=700)&&(t="bold"),(e.fontStyle==="italic"||e.fontStyle==="oblique")&&(t+="italic"),t}function z4(e,t){var r=dU(e,t);if(!r)return null;var n=r.match(/^rgba?\((\d+),\s*(\d+),\s*(\d+)(?:,\s*(\d*\.?\d*))?\)$/);if(!n||!Array.isArray(n))return null;var a=[parseInt(n[1]),parseInt(n[2]),parseInt(n[3])],i=parseInt(n[4]);return i===0||isNaN(a[0])||isNaN(a[1])||isNaN(a[2])?null:a}function dU(e,t){var r=t(e);return r==="rgba(0, 0, 0, 0)"||r==="transparent"||r==="initial"||r==="inherit"?e.parentElement==null?null:dU(e.parentElement,t):r}function ENe(e,t){var r=[e.paddingTop,e.paddingRight,e.paddingBottom,e.paddingLeft],n=96/(72/t),a=(parseInt(e.lineHeight)-parseInt(e.fontSize))/t/2,i=r.map(function(o){return parseInt(o||"0")/n}),l=ib(i,0);return a>l.top&&(l.top=a),a>l.bottom&&(l.bottom=a),l}function hU(e,t,r,n,a){var i,l;n===void 0&&(n=!1),a===void 0&&(a=!1);var o;typeof t=="string"?o=r.document.querySelector(t):o=t;var u=Object.keys(e.getFontList()),f=e.scaleFactor(),h=[],m=[],g=[];if(!o)return console.error("Html table could not be found with input: ",t),{head:h,body:m,foot:g};for(var x=0;x<o.rows.length;x++){var b=o.rows[x],v=(l=(i=b?.parentElement)===null||i===void 0?void 0:i.tagName)===null||l===void 0?void 0:l.toLowerCase(),w=kNe(u,f,r,b,n,a);w&&(v==="thead"?h.push(w):v==="tfoot"?g.push(w):m.push(w))}return{head:h,body:m,foot:g}}function kNe(e,t,r,n,a,i){for(var l=new oU(n),o=0;o<n.cells.length;o++){var u=n.cells[o],f=r.getComputedStyle(u);if(a||f.display!=="none"){var h=void 0;i&&(h=SNe(e,u,t,f,r)),l.push({rowSpan:u.rowSpan,colSpan:u.colSpan,styles:h,_element:u,content:CNe(u)})}}var m=r.getComputedStyle(n);if(l.length>0&&(a||m.display!=="none"))return l}function CNe(e){var t=e.cloneNode(!0);return t.innerHTML=t.innerHTML.replace(/\n/g,"").replace(/ +/g," "),t.innerHTML=t.innerHTML.split(/<br.*?>/).map(function(r){return r.trim()}).join(`
`),t.innerText||t.textContent||""}function TNe(e,t,r){for(var n=0,a=[e,t,r];n<a.length;n++){var i=a[n];i&&typeof i!="object"&&console.error("The options parameter should be of type object, is: "+typeof i),i.startY&&typeof i.startY!="number"&&(console.error("Invalid value for startY option",i.startY),delete i.startY)}}function nf(e,t,r,n,a){if(e==null)throw new TypeError("Cannot convert undefined or null to object");for(var i=Object(e),l=1;l<arguments.length;l++){var o=arguments[l];if(o!=null)for(var u in o)Object.prototype.hasOwnProperty.call(o,u)&&(i[u]=o[u])}return i}function mU(e,t){var r=new zm(e),n=r.getDocumentOptions(),a=r.getGlobalOptions();TNe(a,n,t);var i=nf({},a,n,t),l;typeof window<"u"&&(l=window);var o=ONe(a,n,t),u=DNe(a,n,t),f=FNe(r,i),h=LNe(r,i,l);return{id:t.tableId,content:h,hooks:u,styles:o,settings:f}}function ONe(e,t,r){for(var n={styles:{},headStyles:{},bodyStyles:{},footStyles:{},alternateRowStyles:{},columnStyles:{}},a=function(u){if(u==="columnStyles"){var f=e[u],h=t[u],m=r[u];n.columnStyles=nf({},f,h,m)}else{var g=[e,t,r],x=g.map(function(b){return b[u]||{}});n[u]=nf({},x[0],x[1],x[2])}},i=0,l=Object.keys(n);i<l.length;i++){var o=l[i];a(o)}return n}function DNe(e,t,r){for(var n=[e,t,r],a={didParseCell:[],willDrawCell:[],didDrawCell:[],willDrawPage:[],didDrawPage:[]},i=0,l=n;i<l.length;i++){var o=l[i];o.didParseCell&&a.didParseCell.push(o.didParseCell),o.willDrawCell&&a.willDrawCell.push(o.willDrawCell),o.didDrawCell&&a.didDrawCell.push(o.didDrawCell),o.willDrawPage&&a.willDrawPage.push(o.willDrawPage),o.didDrawPage&&a.didDrawPage.push(o.didDrawPage)}return a}function FNe(e,t){var r,n,a,i,l,o,u,f,h,m,g,x,b=ib(t.margin,40/e.scaleFactor()),v=(r=PNe(e,t.startY))!==null&&r!==void 0?r:b.top,w;t.showFoot===!0?w="everyPage":t.showFoot===!1?w="never":w=(n=t.showFoot)!==null&&n!==void 0?n:"everyPage";var N;t.showHead===!0?N="everyPage":t.showHead===!1?N="never":N=(a=t.showHead)!==null&&a!==void 0?a:"everyPage";var E=(i=t.useCss)!==null&&i!==void 0?i:!1,j=t.theme||(E?"plain":"striped"),T=!!t.horizontalPageBreak,O=(l=t.horizontalPageBreakRepeat)!==null&&l!==void 0?l:null;return{includeHiddenHtml:(o=t.includeHiddenHtml)!==null&&o!==void 0?o:!1,useCss:E,theme:j,startY:v,margin:b,pageBreak:(u=t.pageBreak)!==null&&u!==void 0?u:"auto",rowPageBreak:(f=t.rowPageBreak)!==null&&f!==void 0?f:"auto",tableWidth:(h=t.tableWidth)!==null&&h!==void 0?h:"auto",showHead:N,showFoot:w,tableLineWidth:(m=t.tableLineWidth)!==null&&m!==void 0?m:0,tableLineColor:(g=t.tableLineColor)!==null&&g!==void 0?g:200,horizontalPageBreak:T,horizontalPageBreakRepeat:O,horizontalPageBreakBehaviour:(x=t.horizontalPageBreakBehaviour)!==null&&x!==void 0?x:"afterAllRows"}}function PNe(e,t){var r=e.getLastAutoTable(),n=e.scaleFactor(),a=e.pageNumber(),i=!1;if(r&&r.startPageNumber){var l=r.startPageNumber+r.pageNumber-1;i=l===a}return typeof t=="number"?t:(t==null||t===!1)&&i&&r?.finalY!=null?r.finalY+20/n:null}function LNe(e,t,r){var n=t.head||[],a=t.body||[],i=t.foot||[];if(t.html){var l=t.includeHiddenHtml;if(r){var o=hU(e,t.html,r,l,t.useCss)||{};n=o.head||n,a=o.body||n,i=o.foot||n}else console.error("Cannot parse html in non browser environment")}var u=t.columns||MNe(n,a,i);return{columns:u,head:n,body:a,foot:i}}function MNe(e,t,r){var n=e[0]||t[0]||r[0]||[],a=[];return Object.keys(n).filter(function(i){return i!=="_element"}).forEach(function(i){var l=1,o;Array.isArray(n)?o=n[parseInt(i)]:o=n[i],typeof o=="object"&&!Array.isArray(o)&&(l=o?.colSpan||1);for(var u=0;u<l;u++){var f=void 0;Array.isArray(n)?f=a.length:f=i+(u>0?"_".concat(u):"");var h={dataKey:f};a.push(h)}}),a}var A_=(function(){function e(t,r,n){this.table=r,this.pageNumber=r.pageNumber,this.settings=r.settings,this.cursor=n,this.doc=t.getDocument()}return e})(),RNe=(function(e){lU(t,e);function t(r,n,a,i,l,o){var u=e.call(this,r,n,o)||this;return u.cell=a,u.row=i,u.column=l,u.section=i.section,u}return t})(A_),INe=(function(){function e(t,r){this.pageNumber=1,this.id=t.id,this.settings=t.settings,this.styles=t.styles,this.hooks=t.hooks,this.columns=r.columns,this.head=r.head,this.body=r.body,this.foot=r.foot}return e.prototype.getHeadHeight=function(t){return this.head.reduce(function(r,n){return r+n.getMaxCellHeight(t)},0)},e.prototype.getFootHeight=function(t){return this.foot.reduce(function(r,n){return r+n.getMaxCellHeight(t)},0)},e.prototype.allRows=function(){return this.head.concat(this.body).concat(this.foot)},e.prototype.callCellHooks=function(t,r,n,a,i,l){for(var o=0,u=r;o<u.length;o++){var f=u[o],h=new RNe(t,this,n,a,i,l),m=f(h)===!1;if(n.text=Array.isArray(n.text)?n.text:[n.text],m)return!1}return!0},e.prototype.callEndPageHooks=function(t,r){t.applyStyles(t.userStyles);for(var n=0,a=this.hooks.didDrawPage;n<a.length;n++){var i=a[n];i(new A_(t,this,r))}},e.prototype.callWillDrawPageHooks=function(t,r){for(var n=0,a=this.hooks.willDrawPage;n<a.length;n++){var i=a[n];i(new A_(t,this,r))}},e.prototype.getWidth=function(t){if(typeof this.settings.tableWidth=="number")return this.settings.tableWidth;if(this.settings.tableWidth==="wrap"){var r=this.columns.reduce(function(a,i){return a+i.wrappedWidth},0);return r}else{var n=this.settings.margin;return t-n.left-n.right}},e})(),pU=(function(){function e(t,r,n,a,i){i===void 0&&(i=!1),this.height=0,this.raw=t,t instanceof oU&&(this.raw=t._element,this.element=t._element),this.index=r,this.section=n,this.cells=a,this.spansMultiplePages=i}return e.prototype.getMaxCellHeight=function(t){var r=this;return t.reduce(function(n,a){var i;return Math.max(n,((i=r.cells[a.index])===null||i===void 0?void 0:i.height)||0)},0)},e.prototype.hasRowSpan=function(t){var r=this;return t.filter(function(n){var a=r.cells[n.index];return a?a.rowSpan>1:!1}).length>0},e.prototype.canEntireRowFit=function(t,r){return this.getMaxCellHeight(r)<=t},e.prototype.getMinimumRowHeight=function(t,r){var n=this;return t.reduce(function(a,i){var l=n.cells[i.index];if(!l)return 0;var o=r.getLineHeight(l.styles.fontSize),u=l.padding("vertical"),f=u+o;return f>a?f:a},0)},e})(),xU=(function(){function e(t,r,n){var a;this.contentHeight=0,this.contentWidth=0,this.wrappedWidth=0,this.minReadableWidth=0,this.minWidth=0,this.width=0,this.height=0,this.x=0,this.y=0,this.styles=r,this.section=n,this.raw=t;var i=t;t!=null&&typeof t=="object"&&!Array.isArray(t)?(this.rowSpan=t.rowSpan||1,this.colSpan=t.colSpan||1,i=(a=t.content)!==null&&a!==void 0?a:t,t._element&&(this.raw=t._element)):(this.rowSpan=1,this.colSpan=1);var l=i!=null?""+i:"",o=/\r\n|\r|\n/g;this.text=l.split(o)}return e.prototype.getTextPos=function(){var t;if(this.styles.valign==="top")t=this.y+this.padding("top");else if(this.styles.valign==="bottom")t=this.y+this.height-this.padding("bottom");else{var r=this.height-this.padding("vertical");t=this.y+r/2+this.padding("top")}var n;if(this.styles.halign==="right")n=this.x+this.width-this.padding("right");else if(this.styles.halign==="center"){var a=this.width-this.padding("horizontal");n=this.x+a/2+this.padding("left")}else n=this.x+this.padding("left");return{x:n,y:t}},e.prototype.getContentHeight=function(t,r){r===void 0&&(r=1.15);var n=Array.isArray(this.text)?this.text.length:1,a=this.styles.fontSize/t*r,i=n*a+this.padding("vertical");return Math.max(i,this.styles.minCellHeight)},e.prototype.padding=function(t){var r=ib(this.styles.cellPadding,0);return t==="vertical"?r.top+r.bottom:t==="horizontal"?r.left+r.right:r[t]},e})(),BNe=(function(){function e(t,r,n){this.wrappedWidth=0,this.minReadableWidth=0,this.minWidth=0,this.width=0,this.dataKey=t,this.raw=r,this.index=n}return e.prototype.getMaxCustomCellWidth=function(t){for(var r=0,n=0,a=t.allRows();n<a.length;n++){var i=a[n],l=i.cells[this.index];l&&typeof l.styles.cellWidth=="number"&&(r=Math.max(r,l.styles.cellWidth))}return r},e})();function UNe(e,t){zNe(e,t);var r=[],n=0;t.columns.forEach(function(i){var l=i.getMaxCustomCellWidth(t);l?i.width=l:(i.width=i.wrappedWidth,r.push(i)),n+=i.width});var a=t.getWidth(e.pageSize().width)-n;a&&(a=E_(r,a,function(i){return Math.max(i.minReadableWidth,i.minWidth)})),a&&(a=E_(r,a,function(i){return i.minWidth})),a=Math.abs(a),!t.settings.horizontalPageBreak&&a>.1/e.scaleFactor()&&(a=a<1?a:Math.round(a),console.warn("Of the table content, ".concat(a," units width could not fit page"))),$Ne(t),HNe(t,e),qNe(t)}function zNe(e,t){var r=e.scaleFactor(),n=t.settings.horizontalPageBreak,a=fU(e,t);t.allRows().forEach(function(i){for(var l=0,o=t.columns;l<o.length;l++){var u=o[l],f=i.cells[u.index];if(f){var h=t.hooks.didParseCell;t.callCellHooks(e,h,f,i,u,null);var m=f.padding("horizontal");f.contentWidth=n2(f.text,f.styles,e)+m;var g=n2(f.text.join(" ").split(/[^\S\u00A0]+/),f.styles,e);if(f.minReadableWidth=g+f.padding("horizontal"),typeof f.styles.cellWidth=="number")f.minWidth=f.styles.cellWidth,f.wrappedWidth=f.styles.cellWidth;else if(f.styles.cellWidth==="wrap"||n===!0)f.contentWidth>a?(f.minWidth=a,f.wrappedWidth=a):(f.minWidth=f.contentWidth,f.wrappedWidth=f.contentWidth);else{var x=10/r;f.minWidth=f.styles.minCellWidth||x,f.wrappedWidth=f.contentWidth,f.minWidth>f.wrappedWidth&&(f.wrappedWidth=f.minWidth)}}}}),t.allRows().forEach(function(i){for(var l=0,o=t.columns;l<o.length;l++){var u=o[l],f=i.cells[u.index];if(f&&f.colSpan===1)u.wrappedWidth=Math.max(u.wrappedWidth,f.wrappedWidth),u.minWidth=Math.max(u.minWidth,f.minWidth),u.minReadableWidth=Math.max(u.minReadableWidth,f.minReadableWidth);else{var h=t.styles.columnStyles[u.dataKey]||t.styles.columnStyles[u.index]||{},m=h.cellWidth||h.minCellWidth;m&&typeof m=="number"&&(u.minWidth=m,u.wrappedWidth=m)}f&&(f.colSpan>1&&!u.minWidth&&(u.minWidth=f.minWidth),f.colSpan>1&&!u.wrappedWidth&&(u.wrappedWidth=f.minWidth))}})}function E_(e,t,r){for(var n=t,a=e.reduce(function(x,b){return x+b.wrappedWidth},0),i=0;i<e.length;i++){var l=e[i],o=l.wrappedWidth/a,u=n*o,f=l.width+u,h=r(l),m=f<h?h:f;t-=m-l.width,l.width=m}if(t=Math.round(t*1e10)/1e10,t){var g=e.filter(function(x){return t<0?x.width>r(x):!0});g.length&&(t=E_(g,t,r))}return t}function qNe(e){for(var t={},r=1,n=e.allRows(),a=0;a<n.length;a++)for(var i=n[a],l=0,o=e.columns;l<o.length;l++){var u=o[l],f=t[u.index];if(r>1)r--,delete i.cells[u.index];else if(f)f.cell.height+=i.height,r=f.cell.colSpan,delete i.cells[u.index],f.left--,f.left<=1&&delete t[u.index];else{var h=i.cells[u.index];if(!h)continue;if(h.height=i.height,h.rowSpan>1){var m=n.length-a,g=h.rowSpan>m?m:h.rowSpan;t[u.index]={cell:h,left:g,row:i}}}}}function $Ne(e){for(var t=e.allRows(),r=0;r<t.length;r++)for(var n=t[r],a=null,i=0,l=0,o=0;o<e.columns.length;o++){var u=e.columns[o];if(l-=1,l>1&&e.columns[o+1])i+=u.width,delete n.cells[u.index];else if(a){var f=a;delete n.cells[u.index],a=null,f.width=u.width+i}else{var f=n.cells[u.index];if(!f)continue;if(l=f.colSpan,i=0,f.colSpan>1){a=f,i+=u.width;continue}f.width=u.width+i}}}function HNe(e,t){for(var r={count:0,height:0},n=0,a=e.allRows();n<a.length;n++){for(var i=a[n],l=0,o=e.columns;l<o.length;l++){var u=o[l],f=i.cells[u.index];if(f){t.applyStyles(f.styles,!0);var h=f.width-f.padding("horizontal");if(f.styles.overflow==="linebreak")f.text=t.splitTextToSize(f.text,h+1/t.scaleFactor(),{fontSize:f.styles.fontSize});else if(f.styles.overflow==="ellipsize")f.text=uD(f.text,h,f.styles,t,"...");else if(f.styles.overflow==="hidden")f.text=uD(f.text,h,f.styles,t,"");else if(typeof f.styles.overflow=="function"){var m=f.styles.overflow(f.text,h);typeof m=="string"?f.text=[m]:f.text=m}f.contentHeight=f.getContentHeight(t.scaleFactor(),t.getLineHeightFactor());var g=f.contentHeight/f.rowSpan;f.rowSpan>1&&r.count*r.height<g*f.rowSpan?r={height:g,count:f.rowSpan}:r&&r.count>0&&r.height>g&&(g=r.height),g>i.height&&(i.height=g)}}r.count--}}function uD(e,t,r,n,a){return e.map(function(i){return VNe(i,t,r,n,a)})}function VNe(e,t,r,n,a){var i=1e4*n.scaleFactor();if(t=Math.ceil(t*i)/i,t>=n2(e,r,n))return e;for(;t<n2(e+a,r,n)&&!(e.length<=1);)e=e.substring(0,e.length-1);return e.trim()+a}function gU(e,t){var r=new zm(e),n=WNe(t,r.scaleFactor()),a=new INe(t,n);return UNe(r,a),r.applyStyles(r.userStyles),a}function WNe(e,t){var r=e.content,n=GNe(r.columns);if(r.head.length===0){var a=fD(n,"head");a&&r.head.push(a)}if(r.foot.length===0){var a=fD(n,"foot");a&&r.foot.push(a)}var i=e.settings.theme,l=e.styles;return{columns:n,head:q4("head",r.head,n,l,i,t),body:q4("body",r.body,n,l,i,t),foot:q4("foot",r.foot,n,l,i,t)}}function q4(e,t,r,n,a,i){var l={},o=t.map(function(u,f){for(var h=0,m={},g=0,x=0,b=0,v=r;b<v.length;b++){var w=v[b];if(l[w.index]==null||l[w.index].left===0)if(x===0){var N=void 0;Array.isArray(u)?N=u[w.index-g-h]:N=u[w.dataKey];var E={};typeof N=="object"&&!Array.isArray(N)&&(E=N?.styles||{});var j=YNe(e,w,f,a,n,i,E),T=new xU(N,j,e);m[w.dataKey]=T,m[w.index]=T,x=T.colSpan-1,l[w.index]={left:T.rowSpan-1,times:x}}else x--,g++;else l[w.index].left--,x=l[w.index].times,h++}return new pU(u,f,e,m)});return o}function fD(e,t){var r={};return e.forEach(function(n){if(n.raw!=null){var a=KNe(t,n.raw);a!=null&&(r[n.dataKey]=a)}}),Object.keys(r).length>0?r:null}function KNe(e,t){if(e==="head"){if(typeof t=="object")return t.header||null;if(typeof t=="string"||typeof t=="number")return t}else if(e==="foot"&&typeof t=="object")return t.footer;return null}function GNe(e){return e.map(function(t,r){var n,a;return typeof t=="object"?a=(n=t.dataKey)!==null&&n!==void 0?n:r:a=r,new BNe(a,t,r)})}function YNe(e,t,r,n,a,i,l){var o=jNe(n),u;e==="head"?u=a.headStyles:e==="body"?u=a.bodyStyles:e==="foot"&&(u=a.footStyles);var f=nf({},o.table,o[e],a.styles,u),h=a.columnStyles[t.dataKey]||a.columnStyles[t.index]||{},m=e==="body"?h:{},g=e==="body"&&r%2===0?nf({},o.alternateRow,a.alternateRowStyles):{},x=_Ne(i),b=nf({},x,f,g,m);return nf(b,l)}function XNe(e,t,r){var n;r===void 0&&(r={});var a=fU(e,t),i=new Map,l=[],o=[],u=[];Array.isArray(t.settings.horizontalPageBreakRepeat)?u=t.settings.horizontalPageBreakRepeat:(typeof t.settings.horizontalPageBreakRepeat=="string"||typeof t.settings.horizontalPageBreakRepeat=="number")&&(u=[t.settings.horizontalPageBreakRepeat]),u.forEach(function(g){var x=t.columns.find(function(b){return b.dataKey===g||b.index===g});x&&!i.has(x.index)&&(i.set(x.index,!0),l.push(x.index),o.push(t.columns[x.index]),a-=x.wrappedWidth)});for(var f=!0,h=(n=r?.start)!==null&&n!==void 0?n:0;h<t.columns.length;){if(i.has(h)){h++;continue}var m=t.columns[h].wrappedWidth;if(f||a>=m)f=!1,l.push(h),o.push(t.columns[h]),a-=m;else break;h++}return{colIndexes:l,columns:o,lastIndex:h-1}}function QNe(e,t){for(var r=[],n=0;n<t.columns.length;n++){var a=XNe(e,t,{start:n});a.columns.length&&(r.push(a),n=a.lastIndex)}return r}function vU(e,t){var r=t.settings,n=r.startY,a=r.margin,i={x:a.left,y:n},l=t.getHeadHeight(t.columns)+t.getFootHeight(t.columns),o=n+a.bottom+l;if(r.pageBreak==="avoid"){var u=t.body,f=u.reduce(function(g,x){return g+x.height},0);o+=f}var h=new zm(e);(r.pageBreak==="always"||r.startY!=null&&o>h.pageSize().height)&&(bU(h),i.y=a.top),t.callWillDrawPageHooks(h,i);var m=nf({},i);t.startPageNumber=h.pageNumber(),r.horizontalPageBreak?ZNe(h,t,m,i):(h.applyStyles(h.userStyles),(r.showHead==="firstPage"||r.showHead==="everyPage")&&t.head.forEach(function(g){return Nf(h,t,g,i,t.columns)}),h.applyStyles(h.userStyles),t.body.forEach(function(g,x){var b=x===t.body.length-1;a2(h,t,g,b,m,i,t.columns)}),h.applyStyles(h.userStyles),(r.showFoot==="lastPage"||r.showFoot==="everyPage")&&t.foot.forEach(function(g){return Nf(h,t,g,i,t.columns)})),cU(h,t,m,i),t.callEndPageHooks(h,i),t.finalY=i.y,e.lastAutoTable=t,h.applyStyles(h.userStyles)}function ZNe(e,t,r,n){var a=QNe(e,t),i=t.settings;if(i.horizontalPageBreakBehaviour==="afterAllRows")a.forEach(function(f,h){e.applyStyles(e.userStyles),h>0?Rx(e,t,r,n,f.columns,!0):dD(e,t,n,f.columns),JNe(e,t,r,n,f.columns),$4(e,t,n,f.columns)});else for(var l=-1,o=a[0],u=function(){var f=l;if(o){e.applyStyles(e.userStyles);var h=o.columns;l>=0?Rx(e,t,r,n,h,!0):dD(e,t,n,h),f=hD(e,t,l+1,n,h),$4(e,t,n,h)}var m=f-l;a.slice(1).forEach(function(g){e.applyStyles(e.userStyles),Rx(e,t,r,n,g.columns,!0),hD(e,t,l+1,n,g.columns,m),$4(e,t,n,g.columns)}),l=f};l<t.body.length-1;)u()}function dD(e,t,r,n){var a=t.settings;e.applyStyles(e.userStyles),(a.showHead==="firstPage"||a.showHead==="everyPage")&&t.head.forEach(function(i){return Nf(e,t,i,r,n)})}function JNe(e,t,r,n,a){e.applyStyles(e.userStyles),t.body.forEach(function(i,l){var o=l===t.body.length-1;a2(e,t,i,o,r,n,a)})}function hD(e,t,r,n,a,i){e.applyStyles(e.userStyles),i=i??t.body.length;var l=Math.min(r+i,t.body.length),o=-1;return t.body.slice(r,l).forEach(function(u,f){var h=r+f===t.body.length-1,m=yU(e,t,h,n);u.canEntireRowFit(m,a)&&(Nf(e,t,u,n,a),o=r+f)}),o}function $4(e,t,r,n){var a=t.settings;e.applyStyles(e.userStyles),(a.showFoot==="lastPage"||a.showFoot==="everyPage")&&t.foot.forEach(function(i){return Nf(e,t,i,r,n)})}function e_e(e,t,r){var n=r.getLineHeight(e.styles.fontSize),a=e.padding("vertical"),i=Math.floor((t-a)/n);return Math.max(0,i)}function t_e(e,t,r,n){var a={};e.spansMultiplePages=!0,e.height=0;for(var i=0,l=0,o=r.columns;l<o.length;l++){var u=o[l],f=e.cells[u.index];if(f){Array.isArray(f.text)||(f.text=[f.text]);var h=new xU(f.raw,f.styles,f.section);h=nf(h,f),h.text=[];var m=e_e(f,t,n);f.text.length>m&&(h.text=f.text.splice(m,f.text.length));var g=n.scaleFactor(),x=n.getLineHeightFactor();f.contentHeight=f.getContentHeight(g,x),f.contentHeight>=t&&(f.contentHeight=t,h.styles.minCellHeight-=t),f.contentHeight>e.height&&(e.height=f.contentHeight),h.contentHeight=h.getContentHeight(g,x),h.contentHeight>i&&(i=h.contentHeight),a[u.index]=h}}var b=new pU(e.raw,-1,e.section,a,!0);b.height=i;for(var v=0,w=r.columns;v<w.length;v++){var u=w[v],h=b.cells[u.index];h&&(h.height=b.height);var f=e.cells[u.index];f&&(f.height=e.height)}return b}function r_e(e,t,r,n){var a=e.pageSize().height,i=n.settings.margin,l=i.top+i.bottom,o=a-l;t.section==="body"&&(o-=n.getHeadHeight(n.columns)+n.getFootHeight(n.columns));var u=t.getMinimumRowHeight(n.columns,e),f=u<r;if(u>o)return console.error("Will not be able to print row ".concat(t.index," correctly since it's minimum height is larger than page height")),!0;if(!f)return!1;var h=t.hasRowSpan(n.columns),m=t.getMaxCellHeight(n.columns)>o;return m?(h&&console.error("The content of row ".concat(t.index," will not be drawn correctly since drawing rows with a height larger than the page height and has cells with rowspans is not supported.")),!0):!(h||n.settings.rowPageBreak==="avoid")}function a2(e,t,r,n,a,i,l){var o=yU(e,t,n,i);if(r.canEntireRowFit(o,l))Nf(e,t,r,i,l);else if(r_e(e,r,o,t)){var u=t_e(r,o,t,e);Nf(e,t,r,i,l),Rx(e,t,a,i,l),a2(e,t,u,n,a,i,l)}else Rx(e,t,a,i,l),a2(e,t,r,n,a,i,l)}function Nf(e,t,r,n,a){n.x=t.settings.margin.left;for(var i=0,l=a;i<l.length;i++){var o=l[i],u=r.cells[o.index];if(!u){n.x+=o.width;continue}e.applyStyles(u.styles),u.x=n.x,u.y=n.y;var f=t.callCellHooks(e,t.hooks.willDrawCell,u,r,o,n);if(f===!1){n.x+=o.width;continue}n_e(e,u,n);var h=u.getTextPos();sU(u.text,h.x,h.y,{halign:u.styles.halign,valign:u.styles.valign,maxWidth:Math.ceil(u.width-u.padding("left")-u.padding("right"))},e.getDocument()),t.callCellHooks(e,t.hooks.didDrawCell,u,r,o,n),n.x+=o.width}n.y+=r.height}function n_e(e,t,r){var n=t.styles;if(e.getDocument().setFillColor(e.getDocument().getFillColor()),typeof n.lineWidth=="number"){var a=uU(n.lineWidth,n.fillColor);a&&e.rect(t.x,r.y,t.width,t.height,a)}else typeof n.lineWidth=="object"&&(n.fillColor&&e.rect(t.x,r.y,t.width,t.height,"F"),a_e(e,t,r,n.lineWidth))}function a_e(e,t,r,n){var a,i,l,o;n.top&&(a=r.x,i=r.y,l=r.x+t.width,o=r.y,n.right&&(l+=.5*n.right),n.left&&(a-=.5*n.left),u(n.top,a,i,l,o)),n.bottom&&(a=r.x,i=r.y+t.height,l=r.x+t.width,o=r.y+t.height,n.right&&(l+=.5*n.right),n.left&&(a-=.5*n.left),u(n.bottom,a,i,l,o)),n.left&&(a=r.x,i=r.y,l=r.x,o=r.y+t.height,n.top&&(i-=.5*n.top),n.bottom&&(o+=.5*n.bottom),u(n.left,a,i,l,o)),n.right&&(a=r.x+t.width,i=r.y,l=r.x+t.width,o=r.y+t.height,n.top&&(i-=.5*n.top),n.bottom&&(o+=.5*n.bottom),u(n.right,a,i,l,o));function u(f,h,m,g,x){e.getDocument().setLineWidth(f),e.getDocument().line(h,m,g,x,"S")}}function yU(e,t,r,n){var a=t.settings.margin.bottom,i=t.settings.showFoot;return(i==="everyPage"||i==="lastPage"&&r)&&(a+=t.getFootHeight(t.columns)),e.pageSize().height-n.y-a}function Rx(e,t,r,n,a,i){a===void 0&&(a=[]),i===void 0&&(i=!1),e.applyStyles(e.userStyles),t.settings.showFoot==="everyPage"&&!i&&t.foot.forEach(function(o){return Nf(e,t,o,n,a)}),t.callEndPageHooks(e,n);var l=t.settings.margin;cU(e,t,r,n),bU(e),t.pageNumber++,n.x=l.left,n.y=l.top,r.y=l.top,t.callWillDrawPageHooks(e,n),t.settings.showHead==="everyPage"&&(t.head.forEach(function(o){return Nf(e,t,o,n,a)}),e.applyStyles(e.userStyles))}function bU(e){var t=e.pageNumber();e.setPage(t+1);var r=e.pageNumber();return r===t?(e.addPage(),!0):!1}function i_e(e){e.API.autoTable=function(){for(var t=[],r=0;r<arguments.length;r++)t[r]=arguments[r];var n=t[0],a=mU(this,n),i=gU(this,a);return vU(this,i),this},e.API.lastAutoTable=!1,e.API.autoTableText=function(t,r,n,a){sU(t,r,n,a,this)},e.API.autoTableSetDefaults=function(t){return zm.setDefaults(t,this),this},e.autoTableSetDefaults=function(t,r){zm.setDefaults(t,r)},e.API.autoTableHtmlToJson=function(t,r){var n;if(r===void 0&&(r=!1),typeof window>"u")return console.error("Cannot run autoTableHtmlToJson in non browser environment"),null;var a=new zm(this),i=hU(a,t,window,r,!1),l=i.head,o=i.body,u=((n=l[0])===null||n===void 0?void 0:n.map(function(f){return f.content}))||[];return{columns:u,rows:o,data:o}}}var H4;function mD(e,t){var r=mU(e,t),n=gU(e,r);vU(e,n)}try{if(typeof window<"u"&&window){var pD=window,xD=pD.jsPDF||((H4=pD.jspdf)===null||H4===void 0?void 0:H4.jsPDF);xD&&i_e(xD)}}catch(e){console.error("Could not apply autoTable plugin",e)}const Ng=(e,t)=>{if(!e||e.length===0){alert("Aucune donne  exporter");return}const r=Object.keys(e[0]),n=[r.join(","),...e.map(o=>r.map(u=>{const f=o[u];return typeof f=="string"&&(f.includes(",")||f.includes('"'))?`"${f.replace(/"/g,'""')}"`:f}).join(","))].join(`
`),a=new Blob([n],{type:"text/csv;charset=utf-8;"}),i=document.createElement("a"),l=URL.createObjectURL(a);i.setAttribute("href",l),i.setAttribute("download",`${t}.csv`),i.style.visibility="hidden",document.body.appendChild(i),i.click(),document.body.removeChild(i)},s_e=e=>{const t=new Gt,r=e.student;t.setFontSize(20),t.setTextColor(59,130,246),t.text("Rapport de Progression",14,20),t.setFontSize(12),t.setTextColor(0,0,0),t.text(`tudiant: ${r.full_name}`,14,35),t.text(`Email: ${r.email}`,14,42),t.text(`Inscrit le: ${new Date(r.created_at).toLocaleDateString("fr-FR")}`,14,49),t.text(`Date du rapport: ${new Date().toLocaleDateString("fr-FR")}`,14,56),t.setDrawColor(229,231,235),t.line(14,60,196,60),t.setFontSize(14),t.setTextColor(59,130,246),t.text("Statistiques Globales",14,70);const n=e.enrollments.reduce((f,h)=>f+h.total_videos,0),a=e.enrollments.reduce((f,h)=>f+h.completed_videos,0),i=e.enrollments.reduce((f,h)=>f+h.total_tests,0),l=e.enrollments.reduce((f,h)=>f+h.passed_tests,0);if(t.setFontSize(10),t.setTextColor(0,0,0),t.text(`Formations inscrites: ${e.enrollments.length}`,14,80),t.text(`Formations compltes: ${e.enrollments.filter(f=>f.completed_at).length}`,14,87),t.text(`Vidos compltes: ${a} / ${n}`,14,94),t.text(`Tests russis: ${l} / ${i}`,14,101),e.enrollments.length>0){t.setFontSize(14),t.setTextColor(59,130,246),t.text("Formations Inscrites",14,115);const f=e.enrollments.map(h=>[h.formation_title,new Date(h.enrolled_at).toLocaleDateString("fr-FR"),h.completed_at?new Date(h.completed_at).toLocaleDateString("fr-FR"):"-",`${h.completed_videos}/${h.total_videos}`,`${h.passed_tests}/${h.total_tests}`,h.status==="completed"?"Complt":h.status==="active"?"En cours":"Inactif"]);mD(t,{head:[["Formation","Date Inscription","Date Compltion","Vidos","Tests","Statut"]],body:f,startY:120,theme:"grid",headStyles:{fillColor:[59,130,246]},styles:{fontSize:8}})}if(e.test_history.length>0){const f=t.lastAutoTable?.finalY||120;let h;f>220?(t.addPage(),t.setFontSize(14),t.setTextColor(59,130,246),t.text("Historique des Tests",14,20),h=25):(t.setFontSize(14),t.setTextColor(59,130,246),t.text("Historique des Tests",14,f+15),h=f+20);const m=e.test_history.map(g=>{const x=g.total_points>0?(g.score/g.total_points*100).toFixed(1):"0";return[g.formation_title,g.test_title,`${g.score}/${g.total_points}`,`${x}%`,g.passed?"Russi":"chou",new Date(g.submitted_at).toLocaleDateString("fr-FR")]});mD(t,{head:[["Formation","Test","Score","%","Rsultat","Date"]],body:m,startY:h,theme:"grid",headStyles:{fillColor:[59,130,246]},styles:{fontSize:8}})}const o=t.getNumberOfPages();for(let f=1;f<=o;f++)t.setPage(f),t.setFontSize(8),t.setTextColor(156,163,175),t.text(`Page ${f} sur ${o}`,t.internal.pageSize.getWidth()/2,t.internal.pageSize.getHeight()-10,{align:"center"});const u=`rapport_${r.full_name.replace(/\s+/g,"_")}_${new Date().toISOString().split("T")[0]}.pdf`;t.save(u)},l_e=e=>{const t=e.map(r=>({ID:r.id,Titre:r.title,Inscriptions:r.enrollment_count,Complts:r.completed_count,"Taux de Compltion (%)":r.completion_rate,Prix:r.price||0}));Ng(t,`formations_${new Date().toISOString().split("T")[0]}`)},o_e=e=>{const t=e.map(r=>({ID:r.id,Nom:r.full_name,Email:r.email,Inscriptions:r.enrollments_count,"Vidos Vues":r.videos_watched,"Vidos Compltes":r.videos_completed,"Tests Passs":r.tests_taken,"Tests Russis":r.tests_passed}));Ng(t,`etudiants_actifs_${new Date().toISOString().split("T")[0]}`)},c_e=e=>{const t=e.map(r=>({Mois:r.month,Inscriptions:r.enrollment_count,Complts:r.completed_count}));Ng(t,`tendances_inscriptions_${new Date().toISOString().split("T")[0]}`)},u_e=e=>{const t=e.student,r=e.enrollments.map(n=>({Formation:n.formation_title,"Date Inscription":new Date(n.enrolled_at).toLocaleDateString("fr-FR"),"Date Compltion":n.completed_at?new Date(n.completed_at).toLocaleDateString("fr-FR"):"-","Vidos Compltes":n.completed_videos,"Total Vidos":n.total_videos,"Tests Russis":n.passed_tests,"Total Tests":n.total_tests,Statut:n.status==="completed"?"Complt":n.status==="active"?"En cours":"Inactif"}));if(Ng(r,`rapport_formations_${t.full_name.replace(/\s+/g,"_")}_${new Date().toISOString().split("T")[0]}`),e.test_history.length>0){const n=e.test_history.map(a=>{const i=a.total_points>0?(a.score/a.total_points*100).toFixed(1):"0";return{Formation:a.formation_title,Test:a.test_title,Score:a.score,"Total Points":a.total_points,"Pourcentage (%)":i,Rsultat:a.passed?"Russi":"chou",Date:new Date(a.submitted_at).toLocaleDateString("fr-FR")}});Ng(n,`rapport_tests_${t.full_name.replace(/\s+/g,"_")}_${new Date().toISOString().split("T")[0]}`)}},Pv=["#3B82F6","#10B981","#8B5CF6","#F59E0B","#EF4444","#06B6D4"],f_e=()=>{const[e,t]=k.useState(30),{data:r,isLoading:n}=kwe(),{data:a,isLoading:i}=Cwe(10),{data:l,isLoading:o}=Twe(6),{data:u,isLoading:f}=Owe(10),{data:h,isLoading:m}=Fwe(),{data:g,isLoading:x}=Pwe(e),b=r?.overview;return n||i||o||f||m||x?s.jsx("div",{className:"p-8",children:s.jsx("div",{className:"flex items-center justify-center h-64",children:s.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-600"})})}):s.jsxs("div",{className:"p-8 space-y-8",children:[s.jsxs("div",{children:[s.jsx("h1",{className:"text-3xl font-bold text-gray-900",children:"Tableau de bord Analytics"}),s.jsx("p",{className:"text-gray-600 mt-2",children:"Vue d'ensemble des performances de votre plateforme de formation"})]}),g&&s.jsxs("div",{className:"bg-gradient-to-r from-blue-600 to-purple-600 rounded-lg shadow-lg p-6 text-white",children:[s.jsxs("div",{className:"flex items-center justify-between mb-4",children:[s.jsxs("h2",{className:"text-xl font-bold",children:["Statistiques des ",g.period_days," derniers jours"]}),s.jsx("div",{className:"flex gap-2",children:[7,30,90].map(w=>s.jsxs("button",{onClick:()=>t(w),className:`px-4 py-2 rounded-lg font-medium transition-colors ${e===w?"bg-white text-blue-600":"bg-white/20 hover:bg-white/30"}`,children:[w,"j"]},w))})]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-5 gap-4",children:[s.jsxs("div",{className:"bg-white/10 rounded-lg p-4",children:[s.jsx("p",{className:"text-sm opacity-90",children:"Nouvelles inscriptions"}),s.jsx("p",{className:"text-3xl font-bold mt-1",children:g.stats.new_enrollments})]}),s.jsxs("div",{className:"bg-white/10 rounded-lg p-4",children:[s.jsx("p",{className:"text-sm opacity-90",children:"Formations compltes"}),s.jsx("p",{className:"text-3xl font-bold mt-1",children:g.stats.completed_formations})]}),s.jsxs("div",{className:"bg-white/10 rounded-lg p-4",children:[s.jsx("p",{className:"text-sm opacity-90",children:"Vidos termines"}),s.jsx("p",{className:"text-3xl font-bold mt-1",children:g.stats.videos_completed})]}),s.jsxs("div",{className:"bg-white/10 rounded-lg p-4",children:[s.jsx("p",{className:"text-sm opacity-90",children:"Tests passs"}),s.jsx("p",{className:"text-3xl font-bold mt-1",children:g.stats.tests_total})]}),s.jsxs("div",{className:"bg-white/10 rounded-lg p-4",children:[s.jsx("p",{className:"text-sm opacity-90",children:"Tests russis"}),s.jsx("p",{className:"text-3xl font-bold mt-1",children:g.stats.tests_passed})]})]})]}),b&&s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6",children:[s.jsx(pd,{title:"Total tudiants",value:b.students.total,icon:ls,colorClass:"bg-blue-500"}),s.jsx(pd,{title:"Total Formations",value:b.formations.total,icon:ua,colorClass:"bg-green-500"}),s.jsx(pd,{title:"Sessions Actives",value:b.sessions.active,subtitle:`Sur ${b.sessions.total} sessions`,icon:_i,colorClass:"bg-purple-500"}),s.jsx(pd,{title:"Taux de Compltion",value:`${b.enrollments.completion_rate.toFixed(1)}%`,subtitle:`${b.enrollments.completed}/${b.enrollments.total} inscriptions`,icon:Xa,colorClass:"bg-orange-500"}),s.jsx(pd,{title:"Vidos Compltes",value:`${b.videos.completion_rate.toFixed(1)}%`,subtitle:`${b.videos.completed}/${b.videos.total} vidos`,icon:Wx,colorClass:"bg-cyan-500"}),s.jsx(pd,{title:"Taux de Russite Tests",value:`${b.tests.success_rate.toFixed(1)}%`,subtitle:`${b.tests.passed}/${b.tests.total} tests`,icon:Ux,colorClass:"bg-pink-500"}),s.jsx(pd,{title:"Inscriptions Totales",value:b.enrollments.total,icon:V0,colorClass:"bg-indigo-500"}),s.jsx(pd,{title:"Formations Compltes",value:b.enrollments.completed,icon:oi,colorClass:"bg-emerald-500"})]}),s.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[a?.formations&&a.formations.length>0&&s.jsxs("div",{className:"bg-white rounded-lg shadow-sm border p-6",children:[s.jsxs("div",{className:"flex items-center justify-between mb-4",children:[s.jsx("h2",{className:"text-lg font-semibold text-gray-900",children:"Formations les Plus Populaires"}),s.jsxs("button",{onClick:()=>l_e(a.formations),className:"flex items-center gap-2 px-3 py-1.5 text-sm bg-green-600 text-white rounded-lg hover:bg-green-700 transition-colors",children:[s.jsx(Es,{className:"h-4 w-4"}),"CSV"]})]}),s.jsx(V5,{width:"100%",height:300,children:s.jsxs(gwe,{data:a.formations.slice(0,8),children:[s.jsx(i_,{strokeDasharray:"3 3"}),s.jsx(o_,{dataKey:"title",angle:-45,textAnchor:"end",height:120,interval:0,tick:{fontSize:11}}),s.jsx(u_,{}),s.jsx(l4,{content:({active:w,payload:N})=>{if(w&&N&&N.length){const E=N[0].payload;return s.jsxs("div",{className:"bg-white p-3 border rounded-lg shadow-lg",children:[s.jsx("p",{className:"font-semibold text-sm mb-1",children:E.title}),s.jsxs("p",{className:"text-xs text-gray-600",children:["Inscriptions: ",s.jsx("span",{className:"font-medium",children:E.enrollment_count})]}),s.jsxs("p",{className:"text-xs text-gray-600",children:["Complts: ",s.jsx("span",{className:"font-medium",children:E.completed_count})]}),s.jsxs("p",{className:"text-xs text-gray-600",children:["Taux: ",s.jsxs("span",{className:"font-medium",children:[E.completion_rate,"%"]})]})]})}return null}}),s.jsx(dg,{}),s.jsx(n_,{dataKey:"enrollment_count",name:"Inscriptions",fill:"#3B82F6"}),s.jsx(n_,{dataKey:"completed_count",name:"Complts",fill:"#10B981"})]})})]}),l?.trends&&l.trends.length>0&&s.jsxs("div",{className:"bg-white rounded-lg shadow-sm border p-6",children:[s.jsxs("div",{className:"flex items-center justify-between mb-4",children:[s.jsx("h2",{className:"text-lg font-semibold text-gray-900",children:"Tendances d'Inscriptions (6 mois)"}),s.jsxs("button",{onClick:()=>c_e(l.trends),className:"flex items-center gap-2 px-3 py-1.5 text-sm bg-green-600 text-white rounded-lg hover:bg-green-700 transition-colors",children:[s.jsx(Es,{className:"h-4 w-4"}),"CSV"]})]}),s.jsx(V5,{width:"100%",height:300,children:s.jsxs(pwe,{data:l.trends,children:[s.jsx(i_,{strokeDasharray:"3 3"}),s.jsx(o_,{dataKey:"month"}),s.jsx(u_,{}),s.jsx(l4,{content:({active:w,payload:N})=>{if(w&&N&&N.length){const E=N[0].payload;return s.jsxs("div",{className:"bg-white p-3 border rounded-lg shadow-lg",children:[s.jsx("p",{className:"font-semibold text-sm mb-1",children:E.month}),s.jsxs("p",{className:"text-xs text-blue-600",children:["Inscriptions: ",s.jsx("span",{className:"font-medium",children:E.enrollment_count})]}),s.jsxs("p",{className:"text-xs text-green-600",children:["Complts: ",s.jsx("span",{className:"font-medium",children:E.completed_count})]})]})}return null}}),s.jsx(dg,{}),s.jsx(s_,{type:"monotone",dataKey:"enrollment_count",name:"Inscriptions",stroke:"#3B82F6",strokeWidth:2,dot:{r:4}}),s.jsx(s_,{type:"monotone",dataKey:"completed_count",name:"Complts",stroke:"#10B981",strokeWidth:2,dot:{r:4}})]})})]})]}),h?.data&&h.data.length>0&&s.jsxs("div",{className:"bg-white rounded-lg shadow-sm border p-6",children:[s.jsx("h2",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Rpartition des Taux de Compltion"}),s.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[s.jsx(V5,{width:"100%",height:300,children:s.jsxs(Ewe,{children:[s.jsx(MI,{data:h.data.slice(0,6),dataKey:"completion_rate",nameKey:"title",cx:"50%",cy:"50%",outerRadius:100,label:w=>`${w.title}: ${w.completion_rate}%`,children:h.data.slice(0,6).map((w,N)=>s.jsx(Jg,{fill:Pv[N%Pv.length]},`cell-${N}`))}),s.jsx(l4,{content:({active:w,payload:N})=>{if(w&&N&&N.length){const E=N[0].payload;return s.jsxs("div",{className:"bg-white p-3 border rounded-lg shadow-lg",children:[s.jsx("p",{className:"font-semibold text-sm mb-1",children:E.title}),s.jsxs("p",{className:"text-xs text-gray-600",children:["Taux: ",s.jsxs("span",{className:"font-medium",children:[E.completion_rate,"%"]})]}),s.jsxs("p",{className:"text-xs text-gray-600",children:["Complts: ",s.jsxs("span",{className:"font-medium",children:[E.completed_enrollments,"/",E.total_enrollments]})]})]})}return null}})]})}),s.jsxs("div",{className:"space-y-2",children:[s.jsx("h3",{className:"font-medium text-gray-900 mb-3",children:"Dtails par Formation"}),s.jsx("div",{className:"space-y-2 max-h-[280px] overflow-y-auto",children:h.data.map((w,N)=>s.jsxs("div",{className:"flex items-center justify-between p-3 bg-gray-50 rounded-lg",children:[s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx("div",{className:"w-3 h-3 rounded-full",style:{backgroundColor:Pv[N%Pv.length]}}),s.jsx("span",{className:"text-sm font-medium text-gray-900",children:w.title})]}),s.jsxs("div",{className:"text-right",children:[s.jsxs("p",{className:"text-sm font-semibold text-gray-900",children:[w.completion_rate,"%"]}),s.jsxs("p",{className:"text-xs text-gray-500",children:[w.completed_enrollments,"/",w.total_enrollments]})]})]},w.id))})]})]})]}),u?.students&&u.students.length>0&&s.jsxs("div",{className:"bg-white rounded-lg shadow-sm border overflow-hidden",children:[s.jsxs("div",{className:"p-6 border-b flex items-center justify-between",children:[s.jsx("h2",{className:"text-lg font-semibold text-gray-900",children:"tudiants les Plus Actifs"}),s.jsxs("button",{onClick:()=>o_e(u.students),className:"flex items-center gap-2 px-3 py-1.5 text-sm bg-green-600 text-white rounded-lg hover:bg-green-700 transition-colors",children:[s.jsx(Es,{className:"h-4 w-4"}),"Export CSV"]})]}),s.jsx("div",{className:"overflow-x-auto",children:s.jsxs("table",{className:"w-full",children:[s.jsx("thead",{className:"bg-gray-50",children:s.jsxs("tr",{children:[s.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"tudiant"}),s.jsx("th",{className:"px-6 py-3 text-center text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Inscriptions"}),s.jsx("th",{className:"px-6 py-3 text-center text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Vidos Vues"}),s.jsx("th",{className:"px-6 py-3 text-center text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Vidos Compltes"}),s.jsx("th",{className:"px-6 py-3 text-center text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Tests Passs"}),s.jsx("th",{className:"px-6 py-3 text-center text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Tests Russis"})]})}),s.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:u.students.map(w=>s.jsxs("tr",{className:"hover:bg-gray-50",children:[s.jsx("td",{className:"px-6 py-4",children:s.jsxs("div",{children:[s.jsx("p",{className:"font-medium text-gray-900",children:w.full_name}),s.jsx("p",{className:"text-sm text-gray-500",children:w.email})]})}),s.jsx("td",{className:"px-6 py-4 text-center",children:s.jsx("span",{className:"inline-flex items-center px-3 py-1 rounded-full text-sm font-medium bg-blue-100 text-blue-800",children:w.enrollments_count})}),s.jsx("td",{className:"px-6 py-4 text-center text-gray-900",children:w.videos_watched}),s.jsx("td",{className:"px-6 py-4 text-center",children:s.jsx("span",{className:"inline-flex items-center px-3 py-1 rounded-full text-sm font-medium bg-green-100 text-green-800",children:w.videos_completed})}),s.jsx("td",{className:"px-6 py-4 text-center text-gray-900",children:w.tests_taken}),s.jsx("td",{className:"px-6 py-4 text-center",children:s.jsx("span",{className:"inline-flex items-center px-3 py-1 rounded-full text-sm font-medium bg-purple-100 text-purple-800",children:w.tests_passed})})]},w.id))})]})})]})]})},i2=({progress:e,label:t,showPercentage:r=!0,size:n="md",color:a="blue"})=>{const i=Math.min(Math.max(e,0),100),l=i>=100,o={sm:"h-1.5",md:"h-2",lg:"h-3"},u={blue:"bg-blue-600",green:"bg-green-600",purple:"bg-purple-600",orange:"bg-orange-600"};return s.jsxs("div",{className:"w-full",children:[(t||r)&&s.jsxs("div",{className:"flex items-center justify-between mb-1.5",children:[t&&s.jsx("span",{className:"text-sm font-medium text-gray-700",children:t}),r&&s.jsxs("div",{className:"flex items-center gap-1.5",children:[l&&s.jsx(Xa,{className:"h-4 w-4 text-green-600"}),s.jsxs("span",{className:`text-sm font-semibold ${l?"text-green-600":"text-gray-600"}`,children:[Math.round(i),"%"]})]})]}),s.jsx("div",{className:`w-full bg-gray-200 rounded-full overflow-hidden ${o[n]}`,children:s.jsx("div",{className:`${o[n]} ${u[a]} rounded-full transition-all duration-500 ease-out`,style:{width:`${i}%`}})})]})},gD=({completed:e,total:t,label:r,color:n="blue"})=>{const a=t>0?e/t*100:0;return s.jsxs("div",{children:[s.jsxs("div",{className:"flex items-center justify-between mb-1.5",children:[s.jsx("span",{className:"text-sm text-gray-600",children:r}),s.jsxs("span",{className:"text-sm font-medium text-gray-900",children:[e,"/",t]})]}),s.jsx(i2,{progress:a,showPercentage:!1,color:n})]})},d_e=()=>{const[e,t]=k.useState(null),[r,n]=k.useState(""),{data:a,isLoading:i}=Dwe(e),l=f=>{t(f)},o=()=>{a&&s_e(a)},u=()=>{a&&u_e(a)};return s.jsxs("div",{className:"p-8 space-y-6",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx("h1",{className:"text-3xl font-bold text-gray-900",children:"Rapports tudiants"}),s.jsx("p",{className:"text-gray-600 mt-2",children:"Consulter les rapports dtaills de progression des tudiants"})]}),e&&s.jsxs("div",{className:"flex gap-2",children:[s.jsxs("button",{onClick:u,className:"flex items-center gap-2 px-4 py-2 bg-green-600 text-white rounded-lg hover:bg-green-700 transition-colors",children:[s.jsx(Es,{className:"h-4 w-4"}),"Export CSV"]}),s.jsxs("button",{onClick:o,className:"flex items-center gap-2 px-4 py-2 bg-red-600 text-white rounded-lg hover:bg-red-700 transition-colors",children:[s.jsx(Es,{className:"h-4 w-4"}),"Export PDF"]})]})]}),s.jsxs("div",{className:"bg-white rounded-lg shadow-sm border p-6",children:[s.jsxs("div",{className:"relative",children:[s.jsx(ap,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 h-5 w-5 text-gray-400"}),s.jsx("input",{type:"text",placeholder:"Rechercher un tudiant par ID (pour test, utilisez un ID existant)...",value:r,onChange:f=>n(f.target.value),onKeyDown:f=>{f.key==="Enter"&&r.trim()&&l(r.trim())},className:"w-full pl-10 pr-4 py-3 border rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500"})]}),s.jsx("p",{className:"text-sm text-gray-500 mt-2",children:"Appuyez sur Entre pour charger le rapport d'un tudiant"})]}),i&&s.jsx("div",{className:"flex items-center justify-center h-64",children:s.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-600"})}),!i&&!e&&s.jsxs("div",{className:"bg-white rounded-lg shadow-sm border p-12 text-center",children:[s.jsx(Ds,{className:"h-16 w-16 text-gray-300 mx-auto mb-4"}),s.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"Aucun tudiant slectionn"}),s.jsx("p",{className:"text-gray-600",children:"Entrez l'ID d'un tudiant dans la barre de recherche pour afficher son rapport dtaill"})]}),!i&&e&&a&&s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{className:"bg-white rounded-lg shadow-sm border p-6",children:[s.jsxs("div",{className:"flex items-center gap-4 mb-4",children:[s.jsx("div",{className:"bg-blue-500 p-4 rounded-full",children:s.jsx(Vx,{className:"h-8 w-8 text-white"})}),s.jsxs("div",{className:"flex-1",children:[s.jsx("h2",{className:"text-2xl font-bold text-gray-900",children:a.student.full_name}),s.jsxs("div",{className:"flex items-center gap-4 mt-2 text-sm text-gray-600",children:[s.jsxs("div",{className:"flex items-center gap-1",children:[s.jsx(bV,{className:"h-4 w-4"}),a.student.email]}),s.jsxs("div",{className:"flex items-center gap-1",children:[s.jsx(_i,{className:"h-4 w-4"}),"Inscrit le ",new Date(a.student.created_at).toLocaleDateString("fr-FR")]})]})]})]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4 mt-6",children:[s.jsxs("div",{className:"bg-blue-50 rounded-lg p-4",children:[s.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[s.jsx(ua,{className:"h-5 w-5 text-blue-600"}),s.jsx("span",{className:"text-sm font-medium text-blue-900",children:"Formations"})]}),s.jsx("p",{className:"text-3xl font-bold text-blue-600",children:a.enrollments.length})]}),s.jsxs("div",{className:"bg-green-50 rounded-lg p-4",children:[s.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[s.jsx(Xa,{className:"h-5 w-5 text-green-600"}),s.jsx("span",{className:"text-sm font-medium text-green-900",children:"Compltes"})]}),s.jsx("p",{className:"text-3xl font-bold text-green-600",children:a.enrollments.filter(f=>f.completed_at).length})]}),s.jsxs("div",{className:"bg-purple-50 rounded-lg p-4",children:[s.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[s.jsx(Wx,{className:"h-5 w-5 text-purple-600"}),s.jsx("span",{className:"text-sm font-medium text-purple-900",children:"Vidos"})]}),s.jsxs("p",{className:"text-3xl font-bold text-purple-600",children:[a.enrollments.reduce((f,h)=>f+h.completed_videos,0)," /"," ",a.enrollments.reduce((f,h)=>f+h.total_videos,0)]})]}),s.jsxs("div",{className:"bg-orange-50 rounded-lg p-4",children:[s.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[s.jsx(Ux,{className:"h-5 w-5 text-orange-600"}),s.jsx("span",{className:"text-sm font-medium text-orange-900",children:"Tests Russis"})]}),s.jsxs("p",{className:"text-3xl font-bold text-orange-600",children:[a.enrollments.reduce((f,h)=>f+h.passed_tests,0)," /"," ",a.enrollments.reduce((f,h)=>f+h.total_tests,0)]})]})]})]}),s.jsxs("div",{className:"bg-white rounded-lg shadow-sm border overflow-hidden",children:[s.jsx("div",{className:"p-6 border-b",children:s.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:"Formations Inscrites"})}),s.jsx("div",{className:"divide-y",children:a.enrollments.length===0?s.jsxs("div",{className:"p-12 text-center text-gray-500",children:[s.jsx(ua,{className:"h-12 w-12 text-gray-300 mx-auto mb-3"}),s.jsx("p",{children:"Aucune formation inscrite"})]}):a.enrollments.map(f=>{const h=f.total_videos>0?f.completed_videos/f.total_videos*100:0,m=f.total_tests>0?f.passed_tests/f.total_tests*100:0;return s.jsxs("div",{className:"p-6 hover:bg-gray-50",children:[s.jsxs("div",{className:"flex items-start justify-between mb-4",children:[s.jsxs("div",{className:"flex-1",children:[s.jsx("h4",{className:"font-semibold text-gray-900 mb-2",children:f.formation_title}),s.jsxs("div",{className:"flex items-center gap-4 text-sm text-gray-600",children:[s.jsxs("span",{children:["Inscrit le ",new Date(f.enrolled_at).toLocaleDateString("fr-FR")]}),f.completed_at&&s.jsxs("span",{className:"flex items-center gap-1 text-green-600",children:[s.jsx(Xa,{className:"h-4 w-4"}),"Complt le ",new Date(f.completed_at).toLocaleDateString("fr-FR")]})]})]}),s.jsx("span",{className:`px-3 py-1 rounded-full text-sm font-medium ${f.status==="completed"?"bg-green-100 text-green-800":f.status==="active"?"bg-blue-100 text-blue-800":"bg-gray-100 text-gray-800"}`,children:f.status==="completed"?"Complt":f.status==="active"?"En cours":"Inactif"})]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[s.jsx("div",{children:s.jsx(i2,{progress:h,label:`Vidos (${f.completed_videos}/${f.total_videos})`,color:"purple",size:"sm"})}),s.jsx("div",{children:s.jsx(i2,{progress:m,label:`Tests russis (${f.passed_tests}/${f.total_tests})`,color:"orange",size:"sm"})})]})]},f.formation_id)})})]}),s.jsxs("div",{className:"bg-white rounded-lg shadow-sm border overflow-hidden",children:[s.jsx("div",{className:"p-6 border-b",children:s.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:"Historique des Tests"})}),a.test_history.length===0?s.jsxs("div",{className:"p-12 text-center text-gray-500",children:[s.jsx(Ux,{className:"h-12 w-12 text-gray-300 mx-auto mb-3"}),s.jsx("p",{children:"Aucun test pass"})]}):s.jsx("div",{className:"overflow-x-auto",children:s.jsxs("table",{className:"w-full",children:[s.jsx("thead",{className:"bg-gray-50",children:s.jsxs("tr",{children:[s.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase",children:"Formation"}),s.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase",children:"Test"}),s.jsx("th",{className:"px-6 py-3 text-center text-xs font-medium text-gray-500 uppercase",children:"Score"}),s.jsx("th",{className:"px-6 py-3 text-center text-xs font-medium text-gray-500 uppercase",children:"Rsultat"}),s.jsx("th",{className:"px-6 py-3 text-center text-xs font-medium text-gray-500 uppercase",children:"Date"})]})}),s.jsx("tbody",{className:"divide-y",children:a.test_history.map(f=>{const h=f.total_points>0?(f.score/f.total_points*100).toFixed(1):0;return s.jsxs("tr",{className:"hover:bg-gray-50",children:[s.jsx("td",{className:"px-6 py-4 text-sm text-gray-900",children:f.formation_title}),s.jsx("td",{className:"px-6 py-4 text-sm text-gray-900",children:f.test_title}),s.jsxs("td",{className:"px-6 py-4 text-center",children:[s.jsxs("div",{className:"text-sm font-medium text-gray-900",children:[f.score," / ",f.total_points]}),s.jsxs("div",{className:"text-xs text-gray-500",children:[h,"%"]})]}),s.jsx("td",{className:"px-6 py-4 text-center",children:f.passed?s.jsxs("span",{className:"inline-flex items-center gap-1 px-3 py-1 rounded-full text-sm font-medium bg-green-100 text-green-800",children:[s.jsx(Xa,{className:"h-4 w-4"}),"Russi"]}):s.jsxs("span",{className:"inline-flex items-center gap-1 px-3 py-1 rounded-full text-sm font-medium bg-red-100 text-red-800",children:[s.jsx(pf,{className:"h-4 w-4"}),"chou"]})}),s.jsx("td",{className:"px-6 py-4 text-center text-sm text-gray-600",children:new Date(f.submitted_at).toLocaleDateString("fr-FR")})]},f.id)})})]})})]})]})]})},$S={generate:async e=>Qe.post("/certificates/generate",e),getByStudent:async e=>Qe.get(`/certificates/student/${e}`),getById:async e=>Qe.get(`/certificates/${e}`),verify:async e=>Qe.get(`/certificates/verify/${e}`),getAll:async e=>{const t={};return e?.limit&&(t.limit=e.limit.toString()),e?.offset&&(t.offset=e.offset.toString()),e?.formation_id&&(t.formation_id=e.formation_id),Qe.get("/certificates",t)},delete:async e=>Qe.delete(`/certificates/${e}`),updateMetadata:async(e,t)=>Qe.patch(`/certificates/${e}/metadata`,{metadata:t})},wU=e=>ir({queryKey:["certificates","student",e],queryFn:()=>{if(!e)throw new Error("Student ID is required");return $S.getByStudent(e)},enabled:!!e,staleTime:1e3*60*5}),h_e=e=>ir({queryKey:["certificates","all",e],queryFn:()=>$S.getAll(e),staleTime:1e3*60*5}),m_e=()=>{const e=Dt();return Ft({mutationFn:$S.delete,onSuccess:()=>{e.invalidateQueries({queryKey:["certificates"]})}})},p_e={a4:{width:1122,height:794},letter:{width:1056,height:816},badge:{width:323,height:204}},HS=(e,t,r,n)=>{if(e==="custom"){const i=r?vD(r):1122,l=n?vD(n):794;return t==="portrait"?{width:l,height:i}:{width:i,height:l}}const a=p_e[e];return t==="portrait"?{width:a.height,height:a.width}:{...a}},x_e=(e,t,r,n)=>{const{width:a,height:i}=HS(e,t,r,n),l=Wv[e]||"Personnalis";return`${a}  ${i} px (${l} ${t==="portrait"?"Portrait":"Paysage"})`},Wv={a4:"A4",letter:"Letter",badge:"Badge",custom:"Personnalis"},vD=e=>e*96/25.4,NU=async(e,t)=>{const r=new Gt({orientation:"landscape",unit:"mm",format:"a4"}),n=r.internal.pageSize.getWidth(),a=r.internal.pageSize.getHeight(),i=[59,130,246],l=[251,191,36],o=[31,41,55];r.setDrawColor(...l),r.setLineWidth(1),r.rect(10,10,n-20,a-20),r.setDrawColor(...i),r.setLineWidth(.5),r.rect(15,15,n-30,a-30),r.setLineWidth(2),r.line(20,20,40,20),r.line(20,20,20,40),r.line(n-40,20,n-20,20),r.line(n-20,20,n-20,40),r.line(20,a-20,40,a-20),r.line(20,a-40,20,a-20),r.line(n-40,a-20,n-20,a-20),r.line(n-20,a-40,n-20,a-20),r.setTextColor(...l),r.setFontSize(32),r.setFont("helvetica","bold"),r.text("CERTIFICAT DE RUSSITE",n/2,40,{align:"center"}),r.setDrawColor(...l),r.setLineWidth(.5),r.line(n/2-50,45,n/2+50,45),r.setTextColor(...o),r.setFontSize(14),r.setFont("helvetica","normal"),r.text("Ce certificat est dcern ",n/2,60,{align:"center"}),r.setTextColor(...i),r.setFontSize(28),r.setFont("helvetica","bold"),r.text(e.student_name||"tudiant",n/2,75,{align:"center"}),r.setDrawColor(...i),r.setLineWidth(.3);const u=r.getTextWidth(e.student_name||"tudiant");r.line(n/2-u/2-10,78,n/2+u/2+10,78),r.setTextColor(...o),r.setFontSize(13),r.setFont("helvetica","normal"),r.text("Pour avoir complt avec succs la formation",n/2,92,{align:"center"}),r.setTextColor(0,0,0),r.setFontSize(18),r.setFont("helvetica","bold");const f=e.formation_title||"Formation",h=n-80,m=r.splitTextToSize(f,h);m.length===1?r.text(m[0],n/2,105,{align:"center"}):(r.text(m[0],n/2,102,{align:"center"}),m[1]&&r.text(m[1],n/2,110,{align:"center"}));const g=m.length>1?120:115;r.setTextColor(...o),r.setFontSize(11),r.setFont("helvetica","normal");const x=new Date(e.completion_date).toLocaleDateString("fr-FR",{day:"numeric",month:"long",year:"numeric"});r.text(`Date de compltion : ${x}`,n/2,g+10,{align:"center"}),e.duration_hours&&r.text(`Dure de la formation : ${e.duration_hours} heures`,n/2,g+17,{align:"center"}),e.grade!==null&&e.grade!==void 0&&(r.setTextColor(...i),r.setFont("helvetica","bold"),r.text(`Note obtenue : ${e.grade}%`,n/2,g+24,{align:"center"}));const b=a-40;r.setTextColor(...o),r.setFontSize(9),r.setFont("helvetica","italic"),r.text(`Numro de certificat : ${e.certificate_number}`,n/2,b,{align:"center"});const v=new Date(e.issued_at).toLocaleDateString("fr-FR");r.text(`Dlivr le : ${v}`,n/2,b+5,{align:"center"});const w=b-20;r.setDrawColor(...o),r.setLineWidth(.3),r.line(n/2-30,w,n/2+30,w),r.setTextColor(...o),r.setFontSize(10),r.setFont("helvetica","normal"),r.text("Directeur de Formation",n/2,w+5,{align:"center"}),r.setFillColor(...l),r.circle(n-35,a-35,15,"F"),r.setTextColor(255,255,255),r.setFontSize(8),r.setFont("helvetica","bold"),r.text("CERTIFI",n-35,a-38,{align:"center"}),r.text("RUSSITE",n-35,a-32,{align:"center"});const N=`certificat_${e.certificate_number}_${e.student_name?.replace(/\s+/g,"_")||"etudiant"}.pdf`;r.save(N)},g_e=()=>{const[e,t]=k.useState(""),[r,n]=k.useState(""),{data:a,isLoading:i}=h_e({limit:100,formation_id:r||void 0}),{data:l}=v2(),o=m_e(),u=a?.certificates||[],f=l||[],h=u.filter(w=>{const N=e.toLowerCase();return w.student_name?.toLowerCase().includes(N)||w.formation_title?.toLowerCase().includes(N)||w.certificate_number.toLowerCase().includes(N)}),m=async w=>{await NU(w)},g=async w=>{if(confirm("tes-vous sr de vouloir supprimer ce certificat ?"))try{await o.mutateAsync(w)}catch(N){console.error("Erreur lors de la suppression:",N),alert("Erreur lors de la suppression du certificat")}},x=u.length,b=u.filter(w=>{const N=new Date(w.issued_at),E=new Date;return N.getMonth()===E.getMonth()&&N.getFullYear()===E.getFullYear()}).length,v=u.length>0?(u.filter(w=>w.grade!==null).reduce((w,N)=>w+(N.grade||0),0)/u.filter(w=>w.grade!==null).length).toFixed(1):"0";return s.jsx(Aa,{title:"Gestion des Certificats",subtitle:"Consulter et grer tous les certificats mis",children:s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-6",children:[s.jsx("div",{className:"bg-gradient-to-br from-blue-500 to-blue-600 rounded-lg p-6 text-white",children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx("p",{className:"text-sm opacity-90",children:"Total Certificats"}),s.jsx("p",{className:"text-4xl font-bold mt-2",children:x})]}),s.jsx(oi,{className:"h-12 w-12 opacity-80"})]})}),s.jsx("div",{className:"bg-gradient-to-br from-green-500 to-green-600 rounded-lg p-6 text-white",children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx("p",{className:"text-sm opacity-90",children:"Ce mois-ci"}),s.jsx("p",{className:"text-4xl font-bold mt-2",children:b})]}),s.jsx(_i,{className:"h-12 w-12 opacity-80"})]})}),s.jsx("div",{className:"bg-gradient-to-br from-amber-500 to-amber-600 rounded-lg p-6 text-white",children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx("p",{className:"text-sm opacity-90",children:"Note Moyenne"}),s.jsxs("p",{className:"text-4xl font-bold mt-2",children:[v,"%"]})]}),s.jsx(Xa,{className:"h-12 w-12 opacity-80"})]})}),s.jsx("div",{className:"bg-gradient-to-br from-purple-500 to-purple-600 rounded-lg p-6 text-white",children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx("p",{className:"text-sm opacity-90",children:"Formations"}),s.jsx("p",{className:"text-4xl font-bold mt-2",children:new Set(u.map(w=>w.formation_id)).size})]}),s.jsx(ua,{className:"h-12 w-12 opacity-80"})]})})]}),s.jsx("div",{className:"bg-white rounded-lg shadow-sm border p-6",children:s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[s.jsx("div",{className:"md:col-span-2",children:s.jsxs("div",{className:"relative",children:[s.jsx(ap,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 h-5 w-5 text-gray-400"}),s.jsx("input",{type:"text",placeholder:"Rechercher par tudiant, formation ou numro...",value:e,onChange:w=>t(w.target.value),className:"w-full pl-10 pr-4 py-2 border rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500"})]})}),s.jsx("div",{children:s.jsxs("div",{className:"relative",children:[s.jsx(z_,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 h-5 w-5 text-gray-400"}),s.jsxs("select",{value:r,onChange:w=>n(w.target.value),className:"w-full pl-10 pr-4 py-2 border rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500 appearance-none",children:[s.jsx("option",{value:"",children:"Toutes les formations"}),f.map(w=>s.jsx("option",{value:w.id,children:w.title},w.id))]})]})})]})}),s.jsxs("div",{className:"bg-white rounded-lg shadow-sm border overflow-hidden",children:[s.jsx("div",{className:"p-6 border-b",children:s.jsxs("h2",{className:"text-lg font-semibold text-gray-900",children:["Certificats (",h.length,")"]})}),i?s.jsx("div",{className:"flex items-center justify-center h-64",children:s.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-600"})}):h.length===0?s.jsxs("div",{className:"p-12 text-center",children:[s.jsx(oi,{className:"h-16 w-16 text-gray-300 mx-auto mb-4"}),s.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"Aucun certificat trouv"}),s.jsx("p",{className:"text-gray-600",children:e||r?"Essayez de modifier vos critres de recherche":"Aucun certificat n'a encore t gnr"})]}):s.jsx("div",{className:"overflow-x-auto",children:s.jsxs("table",{className:"w-full",children:[s.jsx("thead",{className:"bg-gray-50",children:s.jsxs("tr",{children:[s.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Numro"}),s.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"tudiant"}),s.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Formation"}),s.jsx("th",{className:"px-6 py-3 text-center text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Note"}),s.jsx("th",{className:"px-6 py-3 text-center text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Date mission"}),s.jsx("th",{className:"px-6 py-3 text-center text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Actions"})]})}),s.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:h.map(w=>s.jsxs("tr",{className:"hover:bg-gray-50",children:[s.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:s.jsx("span",{className:"text-sm font-mono text-gray-900",children:w.certificate_number})}),s.jsx("td",{className:"px-6 py-4",children:s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(Vx,{className:"h-4 w-4 text-gray-400"}),s.jsxs("div",{children:[s.jsx("p",{className:"text-sm font-medium text-gray-900",children:w.student_name}),s.jsx("p",{className:"text-xs text-gray-500",children:w.student_email})]})]})}),s.jsx("td",{className:"px-6 py-4",children:s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(ua,{className:"h-4 w-4 text-gray-400"}),s.jsx("span",{className:"text-sm text-gray-900",children:w.formation_title})]})}),s.jsx("td",{className:"px-6 py-4 text-center",children:w.grade!==null&&w.grade!==void 0?s.jsxs("span",{className:"inline-flex items-center px-3 py-1 rounded-full text-sm font-medium bg-green-100 text-green-800",children:[w.grade,"%"]}):s.jsx("span",{className:"text-sm text-gray-400",children:"-"})}),s.jsx("td",{className:"px-6 py-4 text-center text-sm text-gray-600",children:new Date(w.issued_at).toLocaleDateString("fr-FR")}),s.jsx("td",{className:"px-6 py-4",children:s.jsxs("div",{className:"flex items-center justify-center gap-2",children:[s.jsx("button",{onClick:()=>m(w),className:"p-2 text-blue-600 hover:bg-blue-50 rounded-lg transition-colors",title:"Tlcharger",children:s.jsx(Es,{className:"h-4 w-4"})}),s.jsx("button",{onClick:()=>g(w.id),className:"p-2 text-red-600 hover:bg-red-50 rounded-lg transition-colors",title:"Supprimer",disabled:o.isPending,children:s.jsx(Fn,{className:"h-4 w-4"})})]})})]},w.id))})]})})]}),s.jsx("div",{className:"bg-blue-50 border border-blue-200 rounded-lg p-6",children:s.jsxs("div",{className:"flex items-start gap-4",children:[s.jsx("div",{className:"bg-blue-100 p-3 rounded-lg",children:s.jsx(en,{className:"h-6 w-6 text-blue-600"})}),s.jsxs("div",{children:[s.jsx("h3",{className:"font-semibold text-blue-900 mb-2",children:" propos des certificats"}),s.jsxs("ul",{className:"text-sm text-blue-800 space-y-1",children:[s.jsx("li",{children:" Les certificats sont gnrs automatiquement quand un tudiant complte une formation"}),s.jsx("li",{children:" Chaque certificat possde un numro unique pour vrification"}),s.jsx("li",{children:" La suppression d'un certificat est dfinitive"}),s.jsx("li",{children:" Les certificats peuvent tre tlchargs en PDF  tout moment"})]})]})]})})]})})},sb={getAll:async()=>(await Qe.get("/template-folders")).folders,getTree:async()=>(await Qe.get("/template-folders/tree")).tree,getById:async e=>(await Qe.get(`/template-folders/${e}`)).folder,create:async e=>(await Qe.post("/template-folders",e)).folder,update:async(e,t)=>(await Qe.put(`/template-folders/${e}`,t)).folder,delete:async e=>{await Qe.delete(`/template-folders/${e}`)},move:async(e,t)=>(await Qe.post(`/template-folders/${e}/move`,t)).folder},v_e=()=>ir({queryKey:["template-folders-tree"],queryFn:()=>sb.getTree()}),y_e=()=>{const e=Dt();return Ft({mutationFn:t=>sb.create(t),onSuccess:()=>{e.invalidateQueries({queryKey:["template-folders"]}),e.invalidateQueries({queryKey:["template-folders-tree"]}),e.invalidateQueries({queryKey:["certificate-templates"]})}})},b_e=()=>{const e=Dt();return Ft({mutationFn:({id:t,data:r})=>sb.update(t,r),onSuccess:(t,r)=>{e.invalidateQueries({queryKey:["template-folders"]}),e.invalidateQueries({queryKey:["template-folders-tree"]}),e.invalidateQueries({queryKey:["template-folder",r.id]})}})},w_e=()=>{const e=Dt();return Ft({mutationFn:t=>sb.delete(t),onSuccess:()=>{e.invalidateQueries({queryKey:["template-folders"]}),e.invalidateQueries({queryKey:["template-folders-tree"]}),e.invalidateQueries({queryKey:["certificate-templates"]})}})},N_e=({isOpen:e,onClose:t,onSubmit:r,folder:n,folders:a,isLoading:i=!1,mode:l})=>{const[o,u]=k.useState(""),[f,h]=k.useState(null);k.useEffect(()=>{e&&(l==="edit"&&n?(u(n.name),h(n.parent_id)):(u(""),h(null)))},[e,l,n]);const m=x=>{x.preventDefault(),o.trim()&&r(o.trim(),l==="create"?f:void 0)};if(!e)return null;const g=a.filter(x=>l==="edit"&&n?x.id!==n.id:!0);return s.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:s.jsxs("div",{className:"bg-white rounded-lg shadow-xl max-w-md w-full mx-4",children:[s.jsxs("div",{className:"flex items-center justify-between p-4 border-b border-gray-200",children:[s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(km,{className:"h-5 w-5 text-blue-600"}),s.jsx("h2",{className:"text-lg font-semibold text-gray-900",children:l==="create"?"Nouveau Dossier":"Renommer le Dossier"})]}),s.jsx("button",{onClick:t,className:"p-1 hover:bg-gray-100 rounded transition-colors",disabled:i,children:s.jsx(ta,{className:"h-5 w-5 text-gray-500"})})]}),s.jsxs("form",{onSubmit:m,className:"p-4 space-y-4",children:[s.jsxs("div",{children:[s.jsxs("label",{htmlFor:"folder-name",className:"block text-sm font-medium text-gray-700 mb-1",children:["Nom du dossier ",s.jsx("span",{className:"text-red-500",children:"*"})]}),s.jsx("input",{id:"folder-name",type:"text",value:o,onChange:x=>u(x.target.value),placeholder:"Ex: Formation KSS",className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500",required:!0,disabled:i,autoFocus:!0})]}),l==="create"&&s.jsxs("div",{children:[s.jsx("label",{htmlFor:"parent-folder",className:"block text-sm font-medium text-gray-700 mb-1",children:"Dossier parent (optionnel)"}),s.jsxs("select",{id:"parent-folder",value:f||"",onChange:x=>h(x.target.value||null),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500",disabled:i,children:[s.jsx("option",{value:"",children:" Racine (aucun parent)"}),g.map(x=>s.jsxs("option",{value:x.id,children:[" ",x.name]},x.id))]}),s.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"Laissez vide pour crer un dossier  la racine"})]}),s.jsxs("div",{className:"flex items-center justify-end gap-2 pt-2",children:[s.jsx("button",{type:"button",onClick:t,className:"px-4 py-2 text-sm text-gray-700 bg-gray-100 hover:bg-gray-200 rounded-lg transition-colors",disabled:i,children:"Annuler"}),s.jsx("button",{type:"submit",className:"px-4 py-2 text-sm text-white bg-blue-600 hover:bg-blue-700 rounded-lg transition-colors disabled:opacity-50",disabled:i||!o.trim(),children:i?"Enregistrement...":l==="create"?"Crer":"Enregistrer"})]})]})]})})},__e=({currentPath:e,onNavigate:t})=>s.jsxs("div",{className:"flex items-center gap-1 px-4 py-3 bg-white border border-gray-200 rounded-lg shadow-sm",children:[s.jsxs("button",{onClick:()=>t(null),className:"flex items-center gap-1.5 px-3 py-1.5 text-sm text-gray-700 hover:bg-blue-50 hover:text-blue-700 rounded transition-colors",title:"Accueil",children:[s.jsx(_x,{className:"h-4 w-4"}),s.jsx("span",{className:"font-medium",children:"Accueil"})]}),e.map((r,n)=>s.jsxs(Ju.Fragment,{children:[s.jsx(Io,{className:"h-4 w-4 text-gray-400 flex-shrink-0"}),s.jsxs("button",{onClick:()=>t(r.id),className:`flex items-center gap-1.5 px-3 py-1.5 text-sm rounded transition-colors ${n===e.length-1?"bg-blue-100 text-blue-800 font-semibold":"text-gray-700 hover:bg-blue-50 hover:text-blue-700"}`,title:r.name,children:[s.jsx(km,{className:"h-4 w-4"}),s.jsx("span",{className:"max-w-[200px] truncate",children:r.name})]})]},r.id))]}),j_e={A4:{width:210,height:297,label:"A4 (210 x 297 mm)"},Letter:{width:216,height:279,label:"Letter (216 x 279 mm)"},Badge:{width:85,height:55,label:"Badge (85 x 55 mm)"},Custom:{width:210,height:297,label:"Personnalis"}},S_e=({isOpen:e,onClose:t,onSubmit:r,currentFolderName:n})=>{const[a,i]=k.useState(""),[l,o]=k.useState("A4"),[u,f]=k.useState("portrait"),[h,m]=k.useState(10),[g,x]=k.useState(210),[b,v]=k.useState(297),[w,N]=k.useState("");if(!e)return null;const E=T=>{if(T.preventDefault(),!a.trim()){N("Le nom du template est requis");return}if(h<0||h>50){N("Les marges doivent tre entre 0 et 50 mm");return}if(l==="Custom"&&(g<10||g>500||b<10||b>500)){N("Les dimensions personnalises doivent tre entre 10 et 500 mm");return}const O={name:a.trim(),format:l,orientation:u,margins:h};l==="Custom"&&(O.customWidth=g,O.customHeight=b),r(O),j()},j=()=>{i(""),o("A4"),f("portrait"),m(10),x(210),v(297),N(""),t()};return s.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:s.jsxs("div",{className:"bg-white rounded-xl shadow-2xl max-w-md w-full max-h-[90vh] overflow-y-auto",children:[s.jsxs("div",{className:"flex items-center justify-between p-6 border-b border-gray-200 bg-gradient-to-r from-blue-50 to-blue-100",children:[s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx("div",{className:"p-2 bg-blue-600 rounded-lg",children:s.jsx(ks,{className:"h-5 w-5 text-white"})}),s.jsxs("div",{children:[s.jsx("h2",{className:"text-xl font-bold text-gray-900",children:"Nouveau Template Canvas"}),n&&s.jsxs("p",{className:"text-sm text-gray-600 mt-0.5",children:["Dossier: ",s.jsx("span",{className:"font-medium",children:n})]})]})]}),s.jsx("button",{onClick:j,className:"p-2 hover:bg-blue-200 rounded-lg transition-colors",type:"button",children:s.jsx(ta,{className:"h-5 w-5 text-gray-600"})})]}),s.jsxs("form",{onSubmit:E,className:"p-6 space-y-5",children:[w&&s.jsx("div",{className:"bg-red-50 border border-red-200 text-red-700 px-4 py-3 rounded-lg text-sm",children:w}),s.jsxs("div",{children:[s.jsxs("label",{className:"block text-sm font-semibold text-gray-700 mb-2",children:["Nom du template ",s.jsx("span",{className:"text-red-500",children:"*"})]}),s.jsx("input",{type:"text",value:a,onChange:T=>{i(T.target.value),N("")},className:"w-full px-4 py-2.5 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500 outline-none transition-all",placeholder:"Ex: Certificat de Formation",autoFocus:!0})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-semibold text-gray-700 mb-2",children:"Format"}),s.jsx("select",{value:l,onChange:T=>o(T.target.value),className:"w-full px-4 py-2.5 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500 outline-none transition-all",children:Object.entries(j_e).map(([T,{label:O}])=>s.jsx("option",{value:T,children:O},T))})]}),l==="Custom"&&s.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-semibold text-gray-700 mb-2",children:"Largeur (mm)"}),s.jsx("input",{type:"number",value:g,onChange:T=>x(parseInt(T.target.value)||0),className:"w-full px-4 py-2.5 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500 outline-none transition-all",min:"10",max:"500"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-semibold text-gray-700 mb-2",children:"Hauteur (mm)"}),s.jsx("input",{type:"number",value:b,onChange:T=>v(parseInt(T.target.value)||0),className:"w-full px-4 py-2.5 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500 outline-none transition-all",min:"10",max:"500"})]})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-semibold text-gray-700 mb-2",children:"Orientation"}),s.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[s.jsx("button",{type:"button",onClick:()=>f("portrait"),className:`px-4 py-3 border-2 rounded-lg font-medium transition-all ${u==="portrait"?"border-blue-500 bg-blue-50 text-blue-700":"border-gray-300 bg-white text-gray-700 hover:border-gray-400"}`,children:"Portrait"}),s.jsx("button",{type:"button",onClick:()=>f("landscape"),className:`px-4 py-3 border-2 rounded-lg font-medium transition-all ${u==="landscape"?"border-blue-500 bg-blue-50 text-blue-700":"border-gray-300 bg-white text-gray-700 hover:border-gray-400"}`,children:"Paysage"})]})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-semibold text-gray-700 mb-2",children:"Marges (mm)"}),s.jsx("input",{type:"number",value:h,onChange:T=>m(parseInt(T.target.value)||0),className:"w-full px-4 py-2.5 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500 outline-none transition-all",min:"0",max:"50"}),s.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"Valeur par dfaut: 10mm"})]}),s.jsxs("div",{className:"flex gap-3 pt-4",children:[s.jsx("button",{type:"button",onClick:j,className:"flex-1 px-5 py-2.5 border border-gray-300 text-gray-700 rounded-lg hover:bg-gray-50 transition-colors font-medium",children:"Annuler"}),s.jsx("button",{type:"submit",className:"flex-1 px-5 py-2.5 bg-gradient-to-r from-blue-600 to-blue-700 text-white rounded-lg hover:from-blue-700 hover:to-blue-800 transition-all shadow-md hover:shadow-lg font-medium",children:"Crer et Modifier"})]})]})]})})},A_e=({isOpen:e,onClose:t,onSubmit:r,currentName:n,isLoading:a=!1})=>{const[i,l]=k.useState(n),[o,u]=k.useState("");k.useEffect(()=>{e&&(l(n),u(""))},[e,n]);const f=m=>{m.preventDefault();const g=i.trim();if(!g){u("Le nom du template est requis");return}if(g===n){u("Le nouveau nom doit tre diffrent de l'ancien");return}if(g.length<3){u("Le nom doit contenir au moins 3 caractres");return}if(g.length>100){u("Le nom ne peut pas dpasser 100 caractres");return}r(g)},h=()=>{a||(l(n),u(""),t())};return e?s.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:s.jsxs("div",{className:"bg-white rounded-xl shadow-2xl max-w-md w-full",children:[s.jsxs("div",{className:"flex items-center justify-between p-6 border-b border-gray-200 bg-gradient-to-r from-blue-50 to-blue-100",children:[s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx("div",{className:"p-2 bg-blue-600 rounded-lg",children:s.jsx(uh,{className:"h-5 w-5 text-white"})}),s.jsx("h2",{className:"text-xl font-bold text-gray-900",children:"Renommer le Template"})]}),s.jsx("button",{onClick:h,disabled:a,className:"p-2 hover:bg-blue-200 rounded-lg transition-colors disabled:opacity-50",type:"button",children:s.jsx(ta,{className:"h-5 w-5 text-gray-600"})})]}),s.jsxs("form",{onSubmit:f,className:"p-6 space-y-5",children:[o&&s.jsx("div",{className:"bg-red-50 border border-red-200 text-red-700 px-4 py-3 rounded-lg text-sm",children:o}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-600 mb-1",children:"Nom actuel"}),s.jsx("div",{className:"px-4 py-2.5 bg-gray-50 border border-gray-200 rounded-lg text-sm text-gray-700",children:n})]}),s.jsxs("div",{children:[s.jsxs("label",{className:"block text-sm font-semibold text-gray-700 mb-2",children:["Nouveau nom ",s.jsx("span",{className:"text-red-500",children:"*"})]}),s.jsx("input",{type:"text",value:i,onChange:m=>{l(m.target.value),u("")},className:"w-full px-4 py-2.5 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500 outline-none transition-all",placeholder:"Entrez le nouveau nom",autoFocus:!0,disabled:a}),s.jsx("p",{className:"text-xs text-gray-500 mt-1.5",children:"Minimum 3 caractres, maximum 100"})]}),s.jsxs("div",{className:"flex gap-3 pt-4",children:[s.jsx("button",{type:"button",onClick:h,disabled:a,className:"flex-1 px-5 py-2.5 border border-gray-300 text-gray-700 rounded-lg hover:bg-gray-50 transition-colors font-medium disabled:opacity-50",children:"Annuler"}),s.jsx("button",{type:"submit",disabled:a,className:"flex-1 px-5 py-2.5 bg-gradient-to-r from-blue-600 to-blue-700 text-white rounded-lg hover:from-blue-700 hover:to-blue-800 transition-all shadow-md hover:shadow-lg font-medium disabled:opacity-50 disabled:cursor-not-allowed",children:a?"Renommage...":"Renommer"})]})]})]})}):null},E_e=({isOpen:e,onClose:t,onSubmit:r,currentName:n,isLoading:a=!1})=>{const[i,l]=k.useState(n),[o,u]=k.useState("");k.useEffect(()=>{e&&(l(n),u(""))},[e,n]);const f=m=>{m.preventDefault();const g=i.trim();if(!g){u("Le nom du dossier est requis");return}if(g===n){u("Le nouveau nom doit tre diffrent de l'ancien");return}if(g.length<3){u("Le nom doit contenir au moins 3 caractres");return}if(g.length>100){u("Le nom ne peut pas dpasser 100 caractres");return}r(g)},h=()=>{a||(l(n),u(""),t())};return e?s.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:s.jsxs("div",{className:"bg-white rounded-xl shadow-2xl max-w-md w-full",children:[s.jsxs("div",{className:"flex items-center justify-between p-6 border-b border-gray-200 bg-gradient-to-r from-purple-50 to-purple-100",children:[s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx("div",{className:"p-2 bg-purple-600 rounded-lg",children:s.jsx(rV,{className:"h-5 w-5 text-white"})}),s.jsx("h2",{className:"text-xl font-bold text-gray-900",children:"Renommer le Dossier"})]}),s.jsx("button",{onClick:h,disabled:a,className:"p-2 hover:bg-purple-200 rounded-lg transition-colors disabled:opacity-50",type:"button",children:s.jsx(ta,{className:"h-5 w-5 text-gray-600"})})]}),s.jsxs("form",{onSubmit:f,className:"p-6 space-y-5",children:[o&&s.jsx("div",{className:"bg-red-50 border border-red-200 text-red-700 px-4 py-3 rounded-lg text-sm",children:o}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-600 mb-1",children:"Nom actuel"}),s.jsx("div",{className:"px-4 py-2.5 bg-gray-50 border border-gray-200 rounded-lg text-sm text-gray-700",children:n})]}),s.jsxs("div",{children:[s.jsxs("label",{className:"block text-sm font-semibold text-gray-700 mb-2",children:["Nouveau nom ",s.jsx("span",{className:"text-red-500",children:"*"})]}),s.jsx("input",{type:"text",value:i,onChange:m=>{l(m.target.value),u("")},className:"w-full px-4 py-2.5 border border-gray-300 rounded-lg focus:ring-2 focus:ring-purple-500 focus:border-purple-500 outline-none transition-all",placeholder:"Entrez le nouveau nom",autoFocus:!0,disabled:a}),s.jsx("p",{className:"text-xs text-gray-500 mt-1.5",children:"Minimum 3 caractres, maximum 100"})]}),s.jsxs("div",{className:"flex gap-3 pt-4",children:[s.jsx("button",{type:"button",onClick:h,disabled:a,className:"flex-1 px-5 py-2.5 border border-gray-300 text-gray-700 rounded-lg hover:bg-gray-50 transition-colors font-medium disabled:opacity-50",children:"Annuler"}),s.jsx("button",{type:"submit",disabled:a,className:"flex-1 px-5 py-2.5 bg-gradient-to-r from-purple-600 to-purple-700 text-white rounded-lg hover:from-purple-700 hover:to-purple-800 transition-all shadow-md hover:shadow-lg font-medium disabled:opacity-50 disabled:cursor-not-allowed",children:a?"Renommage...":"Renommer"})]})]})]})}):null},k_e=({isOpen:e,onClose:t,onSubmit:r,folders:n,currentFolderId:a,templateName:i,isLoading:l=!1})=>{const[o,u]=k.useState(""),[f,h]=k.useState(""),m=b=>{if(b.preventDefault(),!o){h("Veuillez slectionner un dossier de destination");return}if(o===a){h("Veuillez choisir un dossier diffrent du dossier actuel");return}r(o)},g=()=>{l||(u(""),h(""),t())},x=n.find(b=>b.id===a);return e?s.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:s.jsxs("div",{className:"bg-white rounded-xl shadow-2xl max-w-md w-full",children:[s.jsxs("div",{className:"flex items-center justify-between p-6 border-b border-gray-200 bg-gradient-to-r from-blue-50 to-blue-100",children:[s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx("div",{className:"p-2 bg-blue-600 rounded-lg",children:s.jsx(D0,{className:"h-5 w-5 text-white"})}),s.jsx("h2",{className:"text-xl font-bold text-gray-900",children:"Dupliquer vers un dossier"})]}),s.jsx("button",{onClick:g,disabled:l,className:"p-2 hover:bg-blue-200 rounded-lg transition-colors disabled:opacity-50",type:"button",children:s.jsx(ta,{className:"h-5 w-5 text-gray-600"})})]}),s.jsxs("form",{onSubmit:m,className:"p-6 space-y-5",children:[f&&s.jsx("div",{className:"bg-red-50 border border-red-200 text-red-700 px-4 py-3 rounded-lg text-sm",children:f}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-600 mb-1",children:"Template  dupliquer"}),s.jsx("div",{className:"px-4 py-2.5 bg-gray-50 border border-gray-200 rounded-lg text-sm text-gray-700 font-medium",children:i})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-600 mb-1",children:"Dossier actuel"}),s.jsxs("div",{className:"px-4 py-2.5 bg-gray-50 border border-gray-200 rounded-lg text-sm text-gray-700 flex items-center gap-2",children:[s.jsx(km,{className:"h-4 w-4 text-gray-500"}),x?.name||"Tous les dossiers"]})]}),s.jsxs("div",{children:[s.jsxs("label",{className:"block text-sm font-semibold text-gray-700 mb-2",children:["Dossier de destination ",s.jsx("span",{className:"text-red-500",children:"*"})]}),s.jsxs("select",{value:o,onChange:b=>{u(b.target.value),h("")},className:"w-full px-4 py-2.5 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500 outline-none transition-all",disabled:l,children:[s.jsx("option",{value:"",children:"Slectionnez un dossier"}),n.filter(b=>b.id!==a).map(b=>s.jsx("option",{value:b.id,children:b.name},b.id))]}),s.jsx("p",{className:"text-xs text-gray-500 mt-1.5",children:'Le template sera dupliqu avec le suffixe " - Copie"'})]}),s.jsxs("div",{className:"flex gap-3 pt-4",children:[s.jsx("button",{type:"button",onClick:g,disabled:l,className:"flex-1 px-5 py-2.5 border border-gray-300 text-gray-700 rounded-lg hover:bg-gray-50 transition-colors font-medium disabled:opacity-50",children:"Annuler"}),s.jsx("button",{type:"submit",disabled:l,className:"flex-1 px-5 py-2.5 bg-gradient-to-r from-blue-600 to-blue-700 text-white rounded-lg hover:from-blue-700 hover:to-blue-800 transition-all shadow-md hover:shadow-lg font-medium disabled:opacity-50 disabled:cursor-not-allowed",children:l?"Duplication...":"Dupliquer"})]})]})]})}):null},C_e=()=>{const e=Pn(),{data:t,isLoading:r,error:n}=L3(),{data:a,isLoading:i}=v_e(),l=bse(),o=wse(),u=Nse(),f=AL(),h=y_e(),m=b_e(),g=w_e(),[x,b]=k.useState(null),[v,w]=k.useState(null),[N,E]=k.useState(!1),[j,T]=k.useState("create"),[O,P]=k.useState(null),[D,M]=k.useState(!1),[B,H]=k.useState(!1),[L,U]=k.useState(null),[G,te]=k.useState(!1),[de,ne]=k.useState(null),[Z,xe]=k.useState(!1),[le,Se]=k.useState(null),[re,R]=k.useState(null),F=k.useMemo(()=>t?v?t.filter(Ye=>Ye.folder_id===v):t:[],[t,v]),q=k.useMemo(()=>{if(!v||!a)return null;const Ye=pt=>{for(const Et of pt){if(Et.id===v)return Et;if(Et.children){const zt=Ye(Et.children);if(zt)return zt}}return null};return Ye(a)},[v,a]),W=k.useMemo(()=>a?v?q&&q.children?q.children:[]:a:[],[v,q,a]),Q=k.useMemo(()=>{if(!v||!a)return[];const Ye=(pt,Et,zt=[])=>{for(const Kt of pt){const Ar=[...zt,Kt];if(Kt.id===Et)return Ar;if(Kt.children){const Mt=Ye(Kt.children,Et,Ar);if(Mt)return Mt}}return null};return Ye(a,v)||[]},[v,a]),oe=k.useMemo(()=>{if(!a)return[];const Ye=(pt,Et=[])=>{for(const zt of pt)Et.push(zt),zt.children&&Ye(zt.children,Et);return Et};return Ye(a)},[a]),ue=async Ye=>{try{await l.mutateAsync(Ye),b(null)}catch(pt){alert("Erreur: "+(pt.message||"Impossible de supprimer ce template"))}},X=async Ye=>{try{await o.mutateAsync(Ye)}catch(pt){alert("Erreur: "+(pt.message||"Impossible de dupliquer ce template"))}},ve=(Ye,pt)=>{U({id:Ye,name:pt}),H(!0)},Te=async Ye=>{if(L)try{await f.mutateAsync({id:L.id,data:{name:Ye}}),H(!1),U(null)}catch(pt){alert("Erreur: "+(pt.message||"Impossible de renommer ce template"))}},Y=(Ye,pt,Et)=>{Se({id:Ye,name:pt,folderId:Et}),xe(!0)},We=async Ye=>{if(le)try{await u.mutateAsync({id:le.id,targetFolderId:Ye}),xe(!1),Se(null)}catch(pt){alert("Erreur: "+(pt.message||"Impossible de dupliquer ce template"))}},Ee=(Ye,pt)=>{ne({id:Ye,name:pt}),te(!0)},ge=async Ye=>{if(de)try{await m.mutateAsync({id:de.id,data:{name:Ye}}),te(!1),ne(null)}catch(pt){alert("Erreur: "+(pt.message||"Impossible de renommer ce dossier"))}},dt=Ye=>{R(Ye)},Ze=async()=>{if(re)try{await g.mutateAsync(re),v===re&&w(null),R(null)}catch(Ye){alert("Erreur: "+(Ye.message||"Impossible de supprimer ce dossier")),R(null)}},bt=()=>{T("create"),P(null),E(!0)},lt=async(Ye,pt)=>{try{j==="create"?await h.mutateAsync({name:Ye,parent_id:pt!==void 0?pt:v}):O&&await m.mutateAsync({id:O.id,data:{name:Ye}}),E(!1)}catch(Et){alert("Erreur: "+(Et.message||"Impossible d'enregistrer le dossier"))}},Ct=()=>{if(oe.length===0){alert("Veuillez d'abord crer au moins un dossier avant de crer un template."),bt();return}M(!0)},xt=Ye=>{const pt=v||oe[0]?.id,Et=new URLSearchParams({folderId:pt,name:Ye.name,format:Ye.format,orientation:Ye.orientation,margins:Ye.margins.toString()});Ye.format==="Custom"&&Ye.customWidth&&Ye.customHeight&&(Et.set("customWidth",Ye.customWidth.toString()),Et.set("customHeight",Ye.customHeight.toString())),e(`/admin/certificate-templates/new/canvas-edit?${Et.toString()}`)};return r||i?s.jsx(Aa,{children:s.jsx("div",{className:"flex items-center justify-center h-64",children:s.jsx("div",{className:"text-gray-500",children:"Chargement des templates..."})})}):n?s.jsx(Aa,{children:s.jsx("div",{className:"bg-red-50 border border-red-200 rounded-lg p-4",children:s.jsxs("div",{className:"flex items-center gap-2 text-red-800",children:[s.jsx(en,{className:"h-5 w-5"}),s.jsx("span",{children:"Erreur lors du chargement des templates"})]})})}):s.jsx(Aa,{children:s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsxs("h1",{className:"text-2xl font-bold text-gray-900 flex items-center gap-2",children:[s.jsx(oi,{className:"h-7 w-7 text-blue-600"}),"Templates de Certificats"]}),s.jsx("p",{className:"text-sm text-gray-600 mt-1",children:"Grez les templates utiliss pour gnrer les certificats"})]}),s.jsxs("div",{className:"flex gap-3",children:[s.jsxs("button",{onClick:bt,className:"px-5 py-2.5 bg-gradient-to-r from-purple-600 to-purple-700 text-white rounded-lg hover:from-purple-700 hover:to-purple-800 transition-all shadow-md hover:shadow-lg flex items-center gap-2 font-medium",children:[s.jsx(PE,{className:"h-5 w-5"}),"Nouveau Dossier"]}),s.jsxs("button",{onClick:Ct,className:"px-5 py-2.5 bg-gradient-to-r from-blue-600 to-blue-700 text-white rounded-lg hover:from-blue-700 hover:to-blue-800 transition-all shadow-md hover:shadow-lg flex items-center gap-2 font-medium",children:[s.jsx(nF,{className:"h-5 w-5"}),"Ajouter Template Canvas"]})]})]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[s.jsxs("div",{className:"bg-gradient-to-br from-blue-50 to-blue-100 rounded-lg p-4 border border-blue-200",children:[s.jsx("div",{className:"text-sm text-blue-600 font-medium",children:"Total Templates"}),s.jsx("div",{className:"text-3xl font-bold text-blue-900 mt-1",children:t?.length||0})]}),s.jsxs("div",{className:"bg-gradient-to-br from-purple-50 to-purple-100 rounded-lg p-4 border border-purple-200",children:[s.jsx("div",{className:"text-sm text-purple-600 font-medium",children:"Dossiers"}),s.jsx("div",{className:"text-3xl font-bold text-purple-900 mt-1",children:oe?.length||0})]}),s.jsxs("div",{className:"bg-gradient-to-br from-green-50 to-green-100 rounded-lg p-4 border border-green-200",children:[s.jsx("div",{className:"text-sm text-green-600 font-medium",children:"Dossier Actuel"}),s.jsx("div",{className:"text-lg font-bold text-green-900 mt-1 truncate",children:q?q.name:"Tous"})]})]}),s.jsx(__e,{currentPath:Q,onNavigate:w}),s.jsx("div",{children:W.length===0&&F.length===0?s.jsxs("div",{className:"bg-white rounded-lg border border-gray-200 p-12 text-center",children:[s.jsx(km,{className:"h-16 w-16 text-gray-300 mx-auto mb-4"}),s.jsx("p",{className:"text-gray-600 text-sm",children:oe.length===0?'Aucun dossier. Utilisez le bouton "Nouveau Dossier" pour commencer.':q?"Ce dossier est vide":"Aucun contenu"})]}):s.jsxs("div",{className:"space-y-6",children:[W.length>0&&s.jsxs("div",{children:[s.jsxs("h3",{className:"text-sm font-semibold text-gray-700 mb-3 flex items-center gap-2",children:[s.jsx(km,{className:"h-4 w-4"}),"Dossiers (",W.length,")"]}),s.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 xl:grid-cols-5 gap-3",children:W.map(Ye=>s.jsxs("div",{className:"relative bg-white rounded-lg border-2 border-gray-200 hover:border-purple-300 hover:shadow-lg transition-all duration-200",children:[s.jsxs("button",{onClick:()=>w(Ye.id),className:"group w-full p-5 text-left",children:[s.jsxs("div",{className:"flex items-center gap-3 mb-3",children:[s.jsx("div",{className:"p-3 bg-gradient-to-br from-purple-100 to-purple-200 rounded-lg group-hover:from-purple-200 group-hover:to-purple-300 transition-all",children:s.jsx(eV,{className:"h-8 w-8 text-purple-600"})}),s.jsx(Io,{className:"h-5 w-5 text-gray-400 group-hover:text-purple-600 transition-colors"})]}),s.jsxs("div",{children:[s.jsx("h4",{className:"font-bold text-gray-900 text-sm mb-1 truncate group-hover:text-purple-700 transition-colors",children:Ye.name}),s.jsxs("p",{className:"text-xs text-gray-500",children:[Ye.template_count||0," template",(Ye.template_count||0)!==1?"s":"",Ye.children&&Ye.children.length>0&&s.jsxs(s.Fragment,{children:["  ",Ye.children.length," sous-dossier",Ye.children.length!==1?"s":""]})]})]})]}),s.jsxs("div",{className:"px-5 pb-4 flex gap-2",children:[s.jsxs("button",{onClick:pt=>{pt.stopPropagation(),Ee(Ye.id,Ye.name)},className:"flex-1 px-2 py-1.5 bg-green-50 text-green-700 rounded border border-green-300 hover:bg-green-100 transition-colors text-xs font-medium flex items-center justify-center gap-1",title:"Renommer le dossier",children:[s.jsx(Hx,{className:"h-3 w-3"}),"Renommer"]}),s.jsxs("button",{onClick:pt=>{pt.stopPropagation(),dt(Ye.id)},disabled:g.isPending&&re===Ye.id,className:"flex-1 px-2 py-1.5 bg-red-50 text-red-700 rounded border border-red-300 hover:bg-red-100 transition-colors text-xs font-medium flex items-center justify-center gap-1 disabled:opacity-50",title:"Supprimer le dossier",children:[s.jsx(Fn,{className:"h-3 w-3"}),"Supprimer"]})]}),re===Ye.id&&s.jsx("div",{className:"absolute inset-0 bg-black bg-opacity-50 flex items-center justify-center rounded-lg",children:s.jsxs("div",{className:"bg-white p-4 rounded-lg shadow-xl max-w-xs mx-4",children:[s.jsx("h4",{className:"font-bold text-gray-900 text-sm mb-2",children:"Confirmer la suppression"}),s.jsxs("p",{className:"text-xs text-gray-600 mb-4",children:['Supprimer le dossier "',Ye.name,'" ?',s.jsx("br",{}),s.jsx("span",{className:"text-red-600 font-medium",children:"Le dossier doit tre vide."})]}),s.jsxs("div",{className:"flex gap-2",children:[s.jsx("button",{onClick:()=>R(null),className:"flex-1 px-3 py-1.5 bg-gray-100 text-gray-700 rounded hover:bg-gray-200 transition-colors text-xs font-medium",children:"Annuler"}),s.jsx("button",{onClick:Ze,className:"flex-1 px-3 py-1.5 bg-red-600 text-white rounded hover:bg-red-700 transition-colors text-xs font-medium",children:"Supprimer"})]})]})})]},Ye.id))})]}),F.length>0&&s.jsxs("div",{children:[s.jsxs("h3",{className:"text-sm font-semibold text-gray-700 mb-3 flex items-center gap-2",children:[s.jsx(oi,{className:"h-4 w-4"}),"Templates (",F.length,")"]}),s.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 gap-4",children:F.map(Ye=>s.jsxs("div",{className:"bg-white rounded-lg border-2 border-gray-200 hover:border-blue-300 hover:shadow-lg transition-all duration-200 relative",children:[s.jsx("div",{className:"h-40 bg-gradient-to-br from-gray-50 to-gray-100 rounded-t-lg flex items-center justify-center relative overflow-hidden",children:s.jsxs("div",{className:"text-center p-4",children:[s.jsx(oi,{className:"h-16 w-16 text-gray-300 mx-auto mb-2"}),s.jsxs("div",{className:"text-xs text-gray-500 font-mono",children:[Ye.template_config.layout.orientation==="landscape"?"Paysage":"Portrait"," "," ",Ye.template_config.layout.format.toUpperCase()]})]})}),s.jsxs("div",{className:"p-4",children:[s.jsx("h3",{className:"font-bold text-gray-900 text-base mb-1",children:Ye.name}),s.jsx("p",{className:"text-xs text-gray-600 mb-2 line-clamp-2",children:Ye.description||"Aucune description"}),Ye.folder_name&&s.jsx("div",{className:"mb-3",children:s.jsxs("span",{className:"inline-flex items-center gap-1 px-2 py-1 bg-purple-50 text-purple-700 rounded text-xs",children:[s.jsx(km,{className:"h-3 w-3"}),Ye.folder_name]})}),s.jsxs("div",{className:"flex gap-1 mb-3",children:[s.jsx("div",{className:"w-6 h-6 rounded border border-gray-300",style:{backgroundColor:Ye.template_config.colors.primary},title:"Couleur primaire"}),s.jsx("div",{className:"w-6 h-6 rounded border border-gray-300",style:{backgroundColor:Ye.template_config.colors.secondary},title:"Couleur secondaire"}),s.jsx("div",{className:"w-6 h-6 rounded border border-gray-300",style:{backgroundColor:Ye.template_config.colors.text},title:"Couleur du texte"})]}),s.jsxs("div",{className:"grid grid-cols-3 gap-2",children:[s.jsxs("button",{onClick:()=>ve(Ye.id,Ye.name),className:"px-2 py-1.5 bg-green-50 text-green-700 rounded border border-green-300 hover:bg-green-100 transition-colors text-xs font-medium flex items-center justify-center gap-1",title:"Renommer le template",children:[s.jsx(Hx,{className:"h-3 w-3"}),"Renommer"]}),s.jsxs("button",{onClick:()=>X(Ye.id),disabled:o.isPending,className:"px-2 py-1.5 bg-blue-50 text-blue-700 rounded border border-blue-300 hover:bg-blue-100 transition-colors text-xs font-medium flex items-center justify-center gap-1 disabled:opacity-50",children:[s.jsx(D0,{className:"h-3 w-3"}),"Dupliquer"]}),s.jsxs("button",{onClick:()=>Y(Ye.id,Ye.name,Ye.folder_id),disabled:u.isPending,className:"px-2 py-1.5 bg-cyan-50 text-cyan-700 rounded border border-cyan-300 hover:bg-cyan-100 transition-colors text-xs font-medium flex items-center justify-center gap-1 disabled:opacity-50",title:"Dupliquer vers un autre dossier",children:[s.jsx(PE,{className:"h-3 w-3"}),"Vers dossier"]}),s.jsxs("button",{onClick:()=>e(`/admin/certificate-templates/${Ye.id}/canvas-edit`),className:"px-2 py-1.5 bg-purple-50 text-purple-700 rounded border border-purple-300 hover:bg-purple-100 transition-colors text-xs font-medium flex items-center justify-center gap-1",title:"Modifier avec l'diteur Canvas",children:[s.jsx(uh,{className:"h-3 w-3"}),"Modifier"]}),s.jsxs("button",{onClick:()=>b(Ye.id),disabled:l.isPending,className:"px-2 py-1.5 bg-red-50 text-red-700 rounded border border-red-300 hover:bg-red-100 transition-colors text-xs font-medium flex items-center justify-center gap-1 disabled:opacity-50 col-span-2",children:[s.jsx(Fn,{className:"h-3 w-3"}),"Supprimer"]})]})]}),x===Ye.id&&s.jsx("div",{className:"absolute inset-0 bg-black bg-opacity-50 flex items-center justify-center rounded-lg",children:s.jsxs("div",{className:"bg-white p-4 rounded-lg shadow-xl max-w-xs mx-4",children:[s.jsx("h4",{className:"font-bold text-gray-900 text-sm mb-2",children:"Confirmer la suppression"}),s.jsxs("p",{className:"text-xs text-gray-600 mb-4",children:['tes-vous sr de vouloir supprimer le template "',Ye.name,'" ?']}),s.jsxs("div",{className:"flex gap-2",children:[s.jsx("button",{onClick:()=>b(null),className:"flex-1 px-3 py-1.5 bg-gray-100 text-gray-700 rounded hover:bg-gray-200 transition-colors text-xs font-medium",children:"Annuler"}),s.jsx("button",{onClick:()=>ue(Ye.id),className:"flex-1 px-3 py-1.5 bg-red-600 text-white rounded hover:bg-red-700 transition-colors text-xs font-medium",children:"Supprimer"})]})]})})]},Ye.id))})]})]})}),s.jsx(N_e,{isOpen:N,onClose:()=>E(!1),onSubmit:lt,folder:O,folders:oe,isLoading:h.isPending||m.isPending,mode:j}),s.jsx(S_e,{isOpen:D,onClose:()=>M(!1),onSubmit:xt,currentFolderName:q?.name||"Tous les dossiers"}),L&&s.jsx(A_e,{isOpen:B,onClose:()=>{H(!1),U(null)},onSubmit:Te,currentName:L.name,isLoading:f.isPending}),de&&s.jsx(E_e,{isOpen:G,onClose:()=>{te(!1),ne(null)},onSubmit:ge,currentName:de.name,isLoading:m.isPending}),le&&s.jsx(k_e,{isOpen:Z,onClose:()=>{xe(!1),Se(null)},onSubmit:We,folders:oe,currentFolderId:le.folderId,templateName:le.name,isLoading:u.isPending})]})})},T_e=({onDragStart:e})=>{const t=[{type:"text",icon:Tm,label:"Nom tudiant",variable:"{student_name}",category:"tudiant",color:"blue"},{type:"text",icon:fH,label:"Email tudiant",variable:"{student_email}",category:"tudiant",color:"blue"},{type:"text",icon:zH,label:"CIN/ID tudiant",variable:"{student_id}",category:"tudiant",color:"blue"},{type:"text",icon:q_,label:"Nom formation",variable:"{formation_title}",category:"Formation",color:"green"},{type:"text",icon:Tm,label:"Description formation",variable:"{formation_description}",category:"Formation",color:"green"},{type:"text",icon:As,label:"Dure (heures)",variable:"{duration_hours}",category:"Formation",color:"green"},{type:"text",icon:H_,label:"Numro certificat",variable:"{certificate_number}",category:"Certificat",color:"purple"},{type:"text",icon:bH,label:"Date compltion",variable:"{completion_date}",category:"Certificat",color:"purple"},{type:"text",icon:_i,label:"Date mission",variable:"{issued_date}",category:"Certificat",color:"purple"},{type:"text",icon:oi,label:"Note/Grade",variable:"{grade}",category:"Certificat",color:"purple"},{type:"text",icon:gH,label:"Nom organisation",variable:"{organization_name}",category:"Organisation",color:"orange"},{type:"text",icon:FH,label:"Nom directeur",variable:"{director_name}",category:"Organisation",color:"orange"},{type:"text",icon:Cs,label:"Adresse organisation",variable:"{organization_address}",category:"Organisation",color:"orange"}],r=[{type:"image",icon:jx,label:"Logo",source:"{logo_url}",color:"indigo"},{type:"image",icon:jx,label:"Signature",source:"{signature_url}",color:"indigo"},{type:"image",icon:jx,label:"Image personnalise",source:"",color:"indigo"}],n=[{type:"rectangle",icon:qV,label:"Rectangle",color:"gray"},{type:"line",icon:AV,label:"Ligne",color:"gray"},{type:"circle",icon:MH,label:"Cercle",color:"gray"}],a=[{type:"text",icon:Tm,label:"Texte libre",content:"Nouveau texte",color:"slate"}],i=(f,h)=>{f.dataTransfer.effectAllowed="copy",e(h.type,h)},l={blue:{bg:"bg-blue-50",text:"text-blue-700",border:"border-blue-200"},green:{bg:"bg-green-50",text:"text-green-700",border:"border-green-200"},purple:{bg:"bg-purple-50",text:"text-purple-700",border:"border-purple-200"},orange:{bg:"bg-orange-50",text:"text-orange-700",border:"border-orange-200"},indigo:{bg:"bg-indigo-50",text:"text-indigo-700",border:"border-indigo-200"},gray:{bg:"bg-gray-50",text:"text-gray-700",border:"border-gray-200"},slate:{bg:"bg-slate-50",text:"text-slate-700",border:"border-slate-200"}},o=(f,h)=>{const m=f.icon,g=l[f.color]||l.gray;return s.jsxs("div",{draggable:!0,onDragStart:x=>i(x,f),className:`${g.bg} ${g.text} border ${g.border} rounded-lg p-2 cursor-grab active:cursor-grabbing hover:shadow-md transition-shadow flex items-center gap-2 text-sm`,title:`Glisser pour ajouter: ${f.label}`,children:[s.jsx(m,{className:"h-4 w-4 flex-shrink-0"}),s.jsx("span",{className:"truncate flex-1",children:f.label})]},`${f.type}-${h}`)},u=Array.from(new Set(t.map(f=>f.category)));return s.jsx("div",{className:"h-full overflow-y-auto bg-white border-r border-gray-200",children:s.jsxs("div",{className:"p-4 space-y-4",children:[s.jsxs("div",{children:[s.jsx("h3",{className:"text-sm font-semibold text-gray-700 mb-2 uppercase tracking-wide",children:"lments"}),s.jsx("p",{className:"text-xs text-gray-500 mb-4",children:"Glissez-dposez les lments sur le canvas"})]}),u.map(f=>s.jsxs("div",{children:[s.jsx("h4",{className:"text-xs font-semibold text-gray-600 mb-2 uppercase tracking-wide",children:f}),s.jsx("div",{className:"space-y-2",children:t.filter(h=>h.category===f).map((h,m)=>o(h,m))})]},f)),s.jsxs("div",{children:[s.jsx("h4",{className:"text-xs font-semibold text-gray-600 mb-2 uppercase tracking-wide",children:"Images"}),s.jsx("div",{className:"space-y-2",children:r.map((f,h)=>o(f,h))})]}),s.jsxs("div",{children:[s.jsx("h4",{className:"text-xs font-semibold text-gray-600 mb-2 uppercase tracking-wide",children:"Formes"}),s.jsx("div",{className:"space-y-2",children:n.map((f,h)=>o(f,h))})]}),s.jsxs("div",{children:[s.jsx("h4",{className:"text-xs font-semibold text-gray-600 mb-2 uppercase tracking-wide",children:"Texte"}),s.jsx("div",{className:"space-y-2",children:a.map((f,h)=>o(f,h))})]})]})})},O_e=({elements:e,selectedId:t,backgroundImage:r,canvasSize:n,showGrid:a,onElementMove:i,onElementResize:l,onElementSelect:o,onElementDrop:u})=>{const f=k.useRef(null),[h,m]=k.useState(null),[g,x]=k.useState(null),[b,v]=k.useState(!1),w=(P,D)=>{if(P.stopPropagation(),o(D.id),P.target.classList.contains("resize-handle"))return;const M=typeof D.x=="number"?D.x:0,B=typeof D.y=="number"?D.y:0;m({id:D.id,startX:P.clientX,startY:P.clientY,offsetX:P.clientX-M,offsetY:P.clientY-B})},N=(P,D)=>{P.stopPropagation(),o(D.id);const M=typeof D.width=="number"?D.width:100,B=typeof D.height=="number"?D.height:50;x({id:D.id,startX:P.clientX,startY:P.clientY,startW:M,startH:B})},E=P=>{P.preventDefault(),P.dataTransfer.dropEffect="copy",v(!0)},j=P=>{P.preventDefault(),v(!1)},T=P=>{if(P.preventDefault(),v(!1),!f.current)return;const D=f.current.getBoundingClientRect(),M=P.clientX-D.left,B=P.clientY-D.top;try{const H=JSON.parse(P.dataTransfer.getData("application/json"));u(H.type,M,B,H)}catch(H){console.error("Error parsing drop data:",H)}};k.useEffect(()=>{const P=M=>{if(h&&f.current){const B=f.current.getBoundingClientRect(),H=Math.max(0,Math.min(n.width,M.clientX-B.left)),L=Math.max(0,Math.min(n.height,M.clientY-B.top));i(h.id,H,L)}if(g){const B=M.clientX-g.startX,H=M.clientY-g.startY,L=Math.max(10,g.startW+B),U=Math.max(10,g.startH+H);l(g.id,L,U)}},D=()=>{m(null),x(null)};if(h||g)return window.addEventListener("mousemove",P),window.addEventListener("mouseup",D),()=>{window.removeEventListener("mousemove",P),window.removeEventListener("mouseup",D)}},[h,g,n,i,l]);const O=P=>{const D=P.id===t,M=typeof P.x=="number"?P.x:0,B=typeof P.y=="number"?P.y:0,H={position:"absolute",left:`${M}px`,top:`${B}px`,cursor:h?.id===P.id?"grabbing":"grab",border:D?"2px solid #3B82F6":"1px dashed rgba(0,0,0,0.2)",boxShadow:D?"0 0 0 1px rgba(59, 130, 246, 0.3)":"none"};if(P.type==="text")return s.jsx("div",{style:{...H,padding:"4px 8px",fontSize:`${P.fontSize||12}px`,fontFamily:P.fontFamily||"helvetica",fontWeight:P.fontStyle?.includes("bold")?"bold":"normal",fontStyle:P.fontStyle?.includes("italic")?"italic":"normal",color:P.color||"#000000",textAlign:P.align||"left",whiteSpace:"nowrap",backgroundColor:D?"rgba(59, 130, 246, 0.05)":"transparent"},onMouseDown:L=>w(L,P),children:P.content||"Texte vide"},P.id);if(P.type==="rectangle"||P.type==="border"){const L=typeof P.width=="number"?P.width:100,U=typeof P.height=="number"?P.height:50;return s.jsxs("div",{children:[s.jsx("div",{style:{...H,width:`${L}px`,height:`${U}px`,border:`${P.lineWidth||1}px solid ${P.color||"#000000"}`,backgroundColor:P.fillColor||"transparent"},onMouseDown:G=>w(G,P)}),D&&s.jsx("div",{className:"resize-handle",style:{position:"absolute",left:`${M+L-8}px`,top:`${B+U-8}px`,width:"16px",height:"16px",backgroundColor:"#3B82F6",border:"2px solid white",borderRadius:"50%",cursor:"se-resize",zIndex:1e3},onMouseDown:G=>N(G,P)})]},P.id)}if(P.type==="circle"){const L=P.radius||20;return s.jsx("div",{style:{...H,width:`${L*2}px`,height:`${L*2}px`,borderRadius:"50%",border:`${P.lineWidth||1}px solid ${P.color||"#000000"}`,backgroundColor:P.fillColor||"transparent"},onMouseDown:U=>w(U,P)},P.id)}if(P.type==="line"){const L=typeof P.x1=="number"?P.x1:0,U=typeof P.y1=="number"?P.y1:0,G=typeof P.x2=="number"?P.x2:100,te=typeof P.y2=="number"?P.y2:0,de=Math.sqrt(Math.pow(G-L,2)+Math.pow(te-U,2)),ne=Math.atan2(te-U,G-L)*(180/Math.PI);return s.jsx("div",{style:{position:"absolute",left:`${L}px`,top:`${U}px`,width:`${de}px`,height:`${P.lineWidth||1}px`,backgroundColor:P.color||"#000000",transform:`rotate(${ne}deg)`,transformOrigin:"0 0",cursor:"grab",border:D?"2px solid #3B82F6":"none"},onMouseDown:Z=>w(Z,P)},P.id)}if(P.type==="image"){const L=typeof P.width=="number"?P.width:100,U=typeof P.height=="number"?P.height:100;return s.jsxs("div",{children:[s.jsx("div",{style:{...H,width:`${L}px`,height:`${U}px`,border:D?"2px solid #3B82F6":"1px dashed rgba(0,0,0,0.2)",display:"flex",alignItems:"center",justifyContent:"center",backgroundColor:"rgba(0,0,0,0.05)"},onMouseDown:G=>w(G,P),children:s.jsx("span",{className:"text-xs text-gray-400",children:P.source?P.source.substring(0,20)+"...":"Image"})}),D&&s.jsx("div",{className:"resize-handle",style:{position:"absolute",left:`${M+L-8}px`,top:`${B+U-8}px`,width:"16px",height:"16px",backgroundColor:"#3B82F6",border:"2px solid white",borderRadius:"50%",cursor:"se-resize",zIndex:1e3},onMouseDown:G=>N(G,P)})]},P.id)}return null};return s.jsx("div",{className:"h-full flex flex-col bg-gray-100",children:s.jsx("div",{className:"flex-1 overflow-auto p-8 flex items-center justify-center",children:s.jsxs("div",{ref:f,style:{width:`${n.width}px`,height:`${n.height}px`,position:"relative",backgroundColor:"#ffffff",backgroundImage:r?`url(${r})`:a?"repeating-linear-gradient(0deg, #e5e7eb 0px, #e5e7eb 1px, transparent 1px, transparent 20px), repeating-linear-gradient(90deg, #e5e7eb 0px, #e5e7eb 1px, transparent 1px, transparent 20px)":"none",backgroundSize:r?"cover":"20px 20px",backgroundPosition:r?"center":"0 0",boxShadow:"0 4px 6px -1px rgba(0, 0, 0, 0.1), 0 2px 4px -1px rgba(0, 0, 0, 0.06)",border:b?"3px dashed #3B82F6":"1px solid #d1d5db"},onDragOver:E,onDragLeave:j,onDrop:T,onClick:()=>o(null),children:[e.length===0&&s.jsx("div",{className:"absolute inset-0 flex items-center justify-center pointer-events-none",children:s.jsxs("div",{className:"text-center text-gray-400",children:[s.jsx($_,{className:"h-16 w-16 mx-auto mb-3 opacity-50"}),s.jsx("p",{className:"text-sm",children:"Glissez-dposez des lments ici"})]})}),e.map(O)]})})})},D_e=["helvetica","times","courier","arial","verdana","georgia","palatino","garamond","bookman","trebuchet","impact"],F_e=["normal","bold","italic","bolditalic"],yD=({label:e,value:t,onChange:r,description:n})=>s.jsxs("div",{className:"space-y-1",children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700",children:e}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("input",{type:"color",value:t,onChange:a=>r(a.target.value),className:"h-10 w-20 rounded border border-gray-300 cursor-pointer"}),s.jsx("input",{type:"text",value:t,onChange:a=>r(a.target.value),className:"flex-1 px-3 py-2 border border-gray-300 rounded-md text-sm font-mono",placeholder:"#000000"})]}),n&&s.jsx("p",{className:"text-xs text-gray-500 mt-1",children:n})]}),P_e=({element:e,customFonts:t,onChange:r,onDelete:n,onDuplicate:a})=>{if(!e)return s.jsx("div",{className:"h-full bg-white border-l border-gray-200 p-6 flex items-center justify-center",children:s.jsxs("div",{className:"text-center text-gray-400",children:[s.jsx(en,{className:"h-12 w-12 mx-auto mb-3 opacity-50"}),s.jsx("p",{className:"text-sm",children:"Slectionnez un lment pour modifier ses proprits"})]})});const i=(o,u)=>{r({...e,[o]:u})},l=[...D_e.map(o=>({value:o,label:o.charAt(0).toUpperCase()+o.slice(1),isCustom:!1})),...t.map(o=>({value:o.name,label:o.name,isCustom:!0}))];return s.jsx("div",{className:"h-full overflow-y-auto bg-white border-l border-gray-200",children:s.jsxs("div",{className:"p-4 space-y-6",children:[s.jsxs("div",{className:"border-b border-gray-200 pb-4",children:[s.jsx("h3",{className:"text-sm font-semibold text-gray-700 mb-1",children:"Proprits de l'lment"}),s.jsx("p",{className:"text-xs text-gray-500 capitalize",children:e.type})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-xs font-medium text-gray-600 mb-1",children:"ID"}),s.jsx("input",{type:"text",value:e.id,disabled:!0,className:"w-full px-2 py-1.5 text-xs bg-gray-50 border border-gray-200 rounded"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-xs font-medium text-gray-600 mb-2",children:"Position"}),s.jsxs("div",{className:"grid grid-cols-2 gap-2",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-xs text-gray-500 mb-1",children:"X"}),s.jsx("input",{type:"number",value:e.x||0,onChange:o=>i("x",parseFloat(o.target.value)||0),className:"w-full px-2 py-1.5 text-sm border border-gray-300 rounded focus:ring-2 focus:ring-blue-500 focus:border-transparent"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-xs text-gray-500 mb-1",children:"Y"}),s.jsx("input",{type:"number",value:e.y||0,onChange:o=>i("y",parseFloat(o.target.value)||0),className:"w-full px-2 py-1.5 text-sm border border-gray-300 rounded focus:ring-2 focus:ring-blue-500 focus:border-transparent"})]})]})]}),(e.type==="rectangle"||e.type==="border"||e.type==="image"||e.type==="circle")&&s.jsxs("div",{children:[s.jsx("label",{className:"block text-xs font-medium text-gray-600 mb-2",children:"Dimensions"}),e.type==="circle"?s.jsxs("div",{children:[s.jsx("label",{className:"block text-xs text-gray-500 mb-1",children:"Rayon"}),s.jsx("input",{type:"number",value:e.radius||20,onChange:o=>i("radius",parseFloat(o.target.value)||20),className:"w-full px-2 py-1.5 text-sm border border-gray-300 rounded focus:ring-2 focus:ring-blue-500 focus:border-transparent"})]}):s.jsxs("div",{className:"grid grid-cols-2 gap-2",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-xs text-gray-500 mb-1",children:"Largeur"}),s.jsx("input",{type:"number",value:e.width||100,onChange:o=>i("width",parseFloat(o.target.value)||100),className:"w-full px-2 py-1.5 text-sm border border-gray-300 rounded focus:ring-2 focus:ring-blue-500 focus:border-transparent"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-xs text-gray-500 mb-1",children:"Hauteur"}),s.jsx("input",{type:"number",value:e.height||50,onChange:o=>i("height",parseFloat(o.target.value)||50),className:"w-full px-2 py-1.5 text-sm border border-gray-300 rounded focus:ring-2 focus:ring-blue-500 focus:border-transparent"})]})]})]}),e.type==="line"&&s.jsxs("div",{children:[s.jsx("label",{className:"block text-xs font-medium text-gray-600 mb-2",children:"Coordonnes"}),s.jsxs("div",{className:"grid grid-cols-2 gap-2",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-xs text-gray-500 mb-1",children:"X1"}),s.jsx("input",{type:"number",value:e.x1||0,onChange:o=>i("x1",parseFloat(o.target.value)||0),className:"w-full px-2 py-1.5 text-sm border border-gray-300 rounded"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-xs text-gray-500 mb-1",children:"Y1"}),s.jsx("input",{type:"number",value:e.y1||0,onChange:o=>i("y1",parseFloat(o.target.value)||0),className:"w-full px-2 py-1.5 text-sm border border-gray-300 rounded"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-xs text-gray-500 mb-1",children:"X2"}),s.jsx("input",{type:"number",value:e.x2||100,onChange:o=>i("x2",parseFloat(o.target.value)||100),className:"w-full px-2 py-1.5 text-sm border border-gray-300 rounded"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-xs text-gray-500 mb-1",children:"Y2"}),s.jsx("input",{type:"number",value:e.y2||0,onChange:o=>i("y2",parseFloat(o.target.value)||0),className:"w-full px-2 py-1.5 text-sm border border-gray-300 rounded"})]})]})]}),e.type==="text"&&s.jsxs(s.Fragment,{children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-xs font-medium text-gray-600 mb-1",children:"Contenu"}),s.jsx("textarea",{value:e.content||"",onChange:o=>i("content",o.target.value),rows:3,className:"w-full px-2 py-1.5 text-sm border border-gray-300 rounded focus:ring-2 focus:ring-blue-500 focus:border-transparent font-mono",placeholder:"Texte ou variable {student_name}"}),s.jsxs("p",{className:"text-xs text-gray-500 mt-1",children:["Variables: ","{","student_name","}",", ","{","formation_title","}",", ","{","grade","}","..."]})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-xs font-medium text-gray-600 mb-1",children:"Police"}),s.jsx("select",{value:e.fontFamily||"helvetica",onChange:o=>i("fontFamily",o.target.value),className:"w-full px-2 py-1.5 text-sm border border-gray-300 rounded focus:ring-2 focus:ring-blue-500 focus:border-transparent",children:l.map(o=>s.jsxs("option",{value:o.value,children:[o.label," ",o.isCustom&&"(Custom)"]},o.value))})]}),s.jsxs("div",{className:"grid grid-cols-2 gap-2",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-xs font-medium text-gray-600 mb-1",children:"Taille"}),s.jsx("input",{type:"number",min:"8",max:"100",value:e.fontSize||12,onChange:o=>i("fontSize",parseInt(o.target.value)||12),className:"w-full px-2 py-1.5 text-sm border border-gray-300 rounded focus:ring-2 focus:ring-blue-500 focus:border-transparent"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-xs font-medium text-gray-600 mb-1",children:"Style"}),s.jsx("select",{value:e.fontStyle||"normal",onChange:o=>i("fontStyle",o.target.value),className:"w-full px-2 py-1.5 text-sm border border-gray-300 rounded focus:ring-2 focus:ring-blue-500 focus:border-transparent",children:F_e.map(o=>s.jsxs("option",{value:o,children:[o==="normal"&&"Normal",o==="bold"&&"Gras",o==="italic"&&"Italique",o==="bolditalic"&&"Gras Italique"]},o))})]})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-xs font-medium text-gray-600 mb-1",children:"Alignement"}),s.jsx("div",{className:"flex gap-1",children:["left","center","right"].map(o=>s.jsxs("button",{onClick:()=>i("align",o),className:`flex-1 px-2 py-1.5 text-xs rounded border transition-colors ${(e.align||"left")===o?"bg-blue-100 border-blue-500 text-blue-700":"bg-white border-gray-300 text-gray-600 hover:bg-gray-50"}`,children:[o==="left"&&"Gauche",o==="center"&&"Centre",o==="right"&&"Droite"]},o))})]})]}),e.type==="image"&&s.jsxs("div",{children:[s.jsx("label",{className:"block text-xs font-medium text-gray-600 mb-1",children:"Source"}),s.jsx("input",{type:"text",value:e.source||"",onChange:o=>i("source",o.target.value),placeholder:"URL ou variable {logo_url}",className:"w-full px-2 py-1.5 text-sm border border-gray-300 rounded focus:ring-2 focus:ring-blue-500 focus:border-transparent font-mono"})]}),e.type!=="image"&&s.jsx(yD,{label:"Couleur",value:e.color||"#000000",onChange:o=>i("color",o)}),(e.type==="rectangle"||e.type==="circle")&&s.jsx(yD,{label:"Couleur de remplissage (optionnel)",value:e.fillColor||"#ffffff",onChange:o=>i("fillColor",o),description:"Laissez transparent pour pas de remplissage"}),(e.type==="line"||e.type==="rectangle"||e.type==="border"||e.type==="circle")&&s.jsxs("div",{children:[s.jsx("label",{className:"block text-xs font-medium text-gray-600 mb-1",children:"paisseur du trait"}),s.jsx("input",{type:"number",min:"0.1",max:"20",step:"0.5",value:e.lineWidth||1,onChange:o=>i("lineWidth",parseFloat(o.target.value)||1),className:"w-full px-2 py-1.5 text-sm border border-gray-300 rounded focus:ring-2 focus:ring-blue-500 focus:border-transparent"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-xs font-medium text-gray-600 mb-1",children:"Condition d'affichage (optionnel)"}),s.jsx("input",{type:"text",value:e.condition||"",onChange:o=>i("condition",o.target.value),placeholder:"grade",className:"w-full px-2 py-1.5 text-sm border border-gray-300 rounded focus:ring-2 focus:ring-blue-500 focus:border-transparent font-mono"}),s.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"L'lment s'affiche seulement si cette variable existe"})]}),s.jsxs("div",{className:"pt-4 border-t border-gray-200 space-y-2",children:[s.jsxs("button",{onClick:a,className:"w-full px-3 py-2 bg-blue-50 text-blue-700 rounded border border-blue-300 hover:bg-blue-100 transition-colors text-sm font-medium flex items-center justify-center gap-2",children:[s.jsx(D0,{className:"h-4 w-4"}),"Dupliquer l'lment"]}),s.jsxs("button",{onClick:n,className:"w-full px-3 py-2 bg-red-50 text-red-700 rounded border border-red-300 hover:bg-red-100 transition-colors text-sm font-medium flex items-center justify-center gap-2",children:[s.jsx(Fn,{className:"h-4 w-4"}),"Supprimer l'lment"]})]})]})})},L_e=({template:e,onUpdate:t})=>{const[r,n]=k.useState("upload"),[a,i]=k.useState(""),[l,o]=k.useState(!1),[u,f]=k.useState(null),[h,m]=k.useState(!1),g=k.useRef(null),x=x_e(e.template_config.layout.format,e.template_config.layout.orientation,e.template_config.layout.customWidth,e.template_config.layout.customHeight),b=async T=>{const O=T.target.files?.[0];if(O){if(!O.type.startsWith("image/")){f("Veuillez slectionner une image (JPG, PNG, WEBP ou SVG)");return}if(O.size>5*1024*1024){f("L'image ne doit pas dpasser 5 MB");return}o(!0),f(null);try{const P=await Al.uploadBackground(e.id,O);P.template?t(P.template):P.background_url&&t({...e,background_image_url:P.background_url,background_image_type:"upload"})}catch(P){f(P.message||"Erreur lors de l'upload de l'image")}finally{o(!1),g.current&&(g.current.value="")}}},v=async()=>{if(!a.trim()){f("Veuillez saisir une URL");return}o(!0),f(null);try{const T=await Al.setBackgroundUrl(e.id,a.trim());T.template?t(T.template):T.background_url&&t({...e,background_image_url:T.background_url,background_image_type:"url"}),i("")}catch(T){f(T.message||"Erreur lors de la dfinition de l'URL")}finally{o(!1)}},w=async()=>{if(confirm("Supprimer l'arrire-plan ?")){o(!0),f(null);try{const T=await Al.deleteBackground(e.id);T.template?t(T.template):t({...e,background_image_url:void 0,background_image_type:void 0})}catch(T){f(T.message||"Erreur lors de la suppression de l'arrire-plan")}finally{o(!1)}}},N=T=>{T.preventDefault(),T.stopPropagation(),m(!0)},E=T=>{T.preventDefault(),T.stopPropagation(),m(!1)},j=async T=>{T.preventDefault(),T.stopPropagation(),m(!1);const O=T.dataTransfer.files?.[0];if(O){if(!O.type.startsWith("image/")){f("Veuillez dposer une image (JPG, PNG, WEBP ou SVG)");return}if(O.size>5*1024*1024){f("L'image ne doit pas dpasser 5 MB");return}o(!0),f(null);try{const P=await Al.uploadBackground(e.id,O);P.template?t(P.template):P.background_url&&t({...e,background_image_url:P.background_url,background_image_type:"upload"})}catch(P){f(P.message||"Erreur lors de l'upload de l'image")}finally{o(!1)}}};return s.jsx("div",{className:"h-full overflow-y-auto bg-white",children:s.jsxs("div",{className:"p-4 space-y-6",children:[s.jsxs("div",{className:"border-b border-gray-200 pb-4",children:[s.jsx("h3",{className:"text-sm font-semibold text-gray-700 mb-1",children:"Image d'arrire-plan"}),s.jsx("p",{className:"text-xs text-gray-500",children:"Uploadez une image ou dfinissez une URL pour le fond du certificat"})]}),e.background_image_url&&s.jsxs("div",{className:"space-y-2",children:[s.jsx("label",{className:"block text-xs font-medium text-gray-600",children:"Arrire-plan actuel"}),s.jsxs("div",{className:"border border-gray-200 rounded-lg p-3 bg-gray-50",children:[s.jsxs("div",{className:"flex items-start justify-between gap-2",children:[s.jsxs("div",{className:"flex items-center gap-2 min-w-0",children:[s.jsx(jx,{className:"h-4 w-4 text-blue-600 flex-shrink-0"}),s.jsxs("div",{className:"min-w-0",children:[s.jsx("p",{className:"text-xs text-gray-700 truncate font-mono",children:e.background_image_url}),s.jsxs("p",{className:"text-xs text-gray-500 mt-0.5",children:["Type: ",e.background_image_type==="upload"?"Fichier upload":"URL externe"]})]})]}),s.jsx("button",{onClick:w,disabled:l,className:"p-1 text-red-600 hover:bg-red-50 rounded transition-colors disabled:opacity-50",title:"Supprimer l'arrire-plan",children:s.jsx(ta,{className:"h-4 w-4"})})]}),s.jsx("div",{className:"mt-3",children:s.jsx("img",{src:e.background_image_url,alt:"Aperu arrire-plan",className:"w-full h-32 object-cover rounded border border-gray-200",onError:T=>{T.target.style.display="none"}})})]})]}),s.jsxs("div",{className:"flex border-b border-gray-200",children:[s.jsxs("button",{onClick:()=>n("upload"),className:`flex-1 px-4 py-2 text-sm font-medium transition-colors ${r==="upload"?"text-blue-600 border-b-2 border-blue-600":"text-gray-600 hover:text-gray-900"}`,children:[s.jsx(W0,{className:"h-4 w-4 inline mr-1"}),"Upload"]}),s.jsxs("button",{onClick:()=>n("url"),className:`flex-1 px-4 py-2 text-sm font-medium transition-colors ${r==="url"?"text-blue-600 border-b-2 border-blue-600":"text-gray-600 hover:text-gray-900"}`,children:[s.jsx(qx,{className:"h-4 w-4 inline mr-1"}),"URL"]})]}),r==="upload"&&s.jsxs("div",{className:"space-y-4",children:[s.jsx("input",{ref:g,type:"file",accept:"image/*",onChange:b,disabled:l,className:"hidden"}),s.jsxs("div",{onDragOver:N,onDragLeave:E,onDrop:j,onClick:()=>g.current?.click(),className:`border-2 border-dashed rounded-lg p-8 text-center cursor-pointer transition-all ${h?"border-blue-500 bg-blue-50":"border-gray-300 hover:border-blue-400 hover:bg-blue-50/50"} ${l?"opacity-50 pointer-events-none":""}`,children:[s.jsx(W0,{className:`h-12 w-12 mx-auto mb-3 ${h?"text-blue-600":"text-gray-400"}`}),s.jsx("p",{className:"text-sm font-medium text-gray-700 mb-1",children:h?"Dposez l'image ici":"Glissez-dposez une image ou cliquez pour parcourir"}),s.jsx("p",{className:"text-xs text-gray-500",children:"JPG, PNG, WEBP ou SVG  Max 5 MB"}),s.jsxs("p",{className:"text-xs text-blue-600 font-medium mt-2",children:["Recommand: ",x]}),l&&s.jsxs("div",{className:"mt-4",children:[s.jsx("div",{className:"animate-spin rounded-full h-6 w-6 border-b-2 border-blue-600 mx-auto"}),s.jsx("p",{className:"text-xs text-gray-600 mt-2",children:"Upload en cours..."})]})]})]}),r==="url"&&s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-xs font-medium text-gray-600 mb-2",children:"URL de l'image"}),s.jsx("input",{type:"url",value:a,onChange:T=>i(T.target.value),placeholder:"https://exemple.com/image.jpg",disabled:l,className:"w-full px-3 py-2 text-sm border border-gray-300 rounded focus:ring-2 focus:ring-blue-500 focus:border-transparent disabled:opacity-50"})]}),s.jsx("button",{onClick:v,disabled:l||!a.trim(),className:"w-full px-4 py-2 bg-blue-600 text-white rounded hover:bg-blue-700 transition-colors disabled:opacity-50 text-sm font-medium",children:l?"Application...":"Appliquer l'URL"})]}),u&&s.jsxs("div",{className:"bg-red-50 border border-red-200 rounded-lg p-3 flex items-start gap-2",children:[s.jsx(en,{className:"h-4 w-4 text-red-600 flex-shrink-0 mt-0.5"}),s.jsx("p",{className:"text-xs text-red-700",children:u})]}),s.jsx("div",{className:"bg-blue-50 border border-blue-200 rounded-lg p-3",children:s.jsxs("p",{className:"text-xs text-blue-700",children:[s.jsx("strong",{children:"Astuce:"})," L'image d'arrire-plan sera affiche en plein cran sur le canvas. Vous pourrez ensuite placer vos lments texte par-dessus."]})})]})})},M_e=()=>{const[e,t]=k.useState(""),[r,n]=k.useState(null),a=k.useRef(null),{data:i,isLoading:l}=_se(),o=jse(),u=Sse(),f=async m=>{const g=m.target.files?.[0];if(!g)return;if(!e.trim()){n("Veuillez saisir un nom pour la police");return}const x=[".ttf",".otf",".woff",".woff2"],b=g.name.toLowerCase().slice(g.name.lastIndexOf("."));if(!x.includes(b)){n("Format de fichier non valide. Utilisez TTF, OTF, WOFF ou WOFF2");return}if(g.size>2*1024*1024){n("La police ne doit pas dpasser 2 MB");return}n(null);try{await o.mutateAsync({file:g,fontName:e.trim()}),t(""),a.current&&(a.current.value="")}catch(v){n(v.message||"Erreur lors de l'upload de la police")}},h=async(m,g)=>{if(confirm(`Supprimer la police "${g}" ?`))try{await u.mutateAsync(m)}catch(x){n(x.message||"Erreur lors de la suppression de la police")}};return s.jsx("div",{className:"h-full overflow-y-auto bg-white",children:s.jsxs("div",{className:"p-4 space-y-6",children:[s.jsxs("div",{className:"border-b border-gray-200 pb-4",children:[s.jsx("h3",{className:"text-sm font-semibold text-gray-700 mb-1",children:"Polices personnalises"}),s.jsx("p",{className:"text-xs text-gray-500",children:"Uploadez des polices personnalises pour les utiliser dans vos certificats"})]}),s.jsxs("div",{className:"space-y-4 border border-gray-200 rounded-lg p-4 bg-gray-50",children:[s.jsx("h4",{className:"text-xs font-medium text-gray-700",children:"Ajouter une police"}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-xs font-medium text-gray-600 mb-2",children:"Nom de la police"}),s.jsx("input",{type:"text",value:e,onChange:m=>t(m.target.value),placeholder:"ex: Ma Police Custom",disabled:o.isPending,className:"w-full px-3 py-2 text-sm border border-gray-300 rounded focus:ring-2 focus:ring-blue-500 focus:border-transparent disabled:opacity-50"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-xs font-medium text-gray-600 mb-2",children:"Fichier de police"}),s.jsx("input",{ref:a,type:"file",accept:".ttf,.otf,.woff,.woff2",onChange:f,disabled:o.isPending,className:"w-full text-sm text-gray-500 file:mr-4 file:py-2 file:px-4 file:rounded file:border-0 file:text-sm file:font-medium file:bg-blue-50 file:text-blue-700 hover:file:bg-blue-100 disabled:opacity-50"}),s.jsx("p",{className:"text-xs text-gray-500 mt-2",children:"TTF, OTF, WOFF ou WOFF2  Max 2 MB"})]}),o.isPending&&s.jsxs("div",{className:"text-xs text-blue-600 flex items-center gap-2",children:[s.jsx("div",{className:"animate-spin rounded-full h-3 w-3 border-b-2 border-blue-600"}),"Upload en cours..."]})]}),r&&s.jsxs("div",{className:"bg-red-50 border border-red-200 rounded-lg p-3 flex items-start gap-2",children:[s.jsx(en,{className:"h-4 w-4 text-red-600 flex-shrink-0 mt-0.5"}),s.jsx("p",{className:"text-xs text-red-700",children:r})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsxs("label",{className:"block text-xs font-medium text-gray-600",children:["Polices disponibles (",i?.length||0,")"]}),l?s.jsxs("div",{className:"text-center py-8",children:[s.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-blue-600 mx-auto mb-2"}),s.jsx("p",{className:"text-xs text-gray-500",children:"Chargement des polices..."})]}):i&&i.length>0?s.jsx("div",{className:"space-y-2",children:i.map(m=>s.jsx("div",{className:"border border-gray-200 rounded-lg p-3 bg-white hover:bg-gray-50 transition-colors",children:s.jsxs("div",{className:"flex items-start justify-between gap-2",children:[s.jsxs("div",{className:"flex items-center gap-2 min-w-0 flex-1",children:[s.jsx(Tm,{className:"h-4 w-4 text-indigo-600 flex-shrink-0"}),s.jsxs("div",{className:"min-w-0 flex-1",children:[s.jsx("p",{className:"text-sm font-medium text-gray-900 truncate",children:m.name}),s.jsxs("p",{className:"text-xs text-gray-500 mt-0.5",children:["Format: ",m.file_format.toUpperCase(),m.file_size&&`  ${(m.file_size/1024).toFixed(1)} KB`]}),s.jsx("style",{children:`
                            @font-face {
                              font-family: 'custom-${m.id}';
                              src: url('${m.file_url}');
                            }
                          `}),s.jsxs("p",{className:"text-xs text-gray-700 mt-2 italic",style:{fontFamily:`'custom-${m.id}', sans-serif`},children:["Aperu: ",m.name]})]})]}),s.jsx("button",{onClick:()=>h(m.id,m.name),disabled:u.isPending,className:"p-1 text-red-600 hover:bg-red-50 rounded transition-colors disabled:opacity-50",title:"Supprimer la police",children:s.jsx(Fn,{className:"h-4 w-4"})})]})},m.id))}):s.jsxs("div",{className:"text-center py-8 border border-gray-200 rounded-lg bg-gray-50",children:[s.jsx(Tm,{className:"h-8 w-8 text-gray-400 mx-auto mb-2"}),s.jsx("p",{className:"text-xs text-gray-500",children:"Aucune police personnalise"}),s.jsx("p",{className:"text-xs text-gray-400 mt-1",children:"Uploadez une police pour la rendre disponible dans l'diteur"})]})]}),s.jsx("div",{className:"bg-blue-50 border border-blue-200 rounded-lg p-3",children:s.jsxs("p",{className:"text-xs text-blue-700",children:[s.jsx("strong",{children:"Info:"})," Les polices personnalises seront disponibles dans la liste des polices lors de l'dition d'lments texte. Assurez-vous d'avoir les droits d'utilisation pour les polices que vous uploadez."]})})]})})},R_e=({isOpen:e,onClose:t,template:r})=>{const n=k.useRef(null),[a,i]=k.useState(!0);k.useEffect(()=>{if(!e||!n.current)return;const o=n.current,u=o.getContext("2d");if(!u)return;i(!0);const{format:f,orientation:h,customWidth:m,customHeight:g}=r.template_config.layout,x=HS(f,h,m,g);o.width=x.width,o.height=x.height,u.fillStyle=r.template_config.colors.background,u.fillRect(0,0,o.width,o.height);const b=async()=>{if(r.background_image_url)try{const w=new Image;w.crossOrigin="anonymous",await new Promise((N,E)=>{w.onload=N,w.onerror=E,w.src=r.background_image_url}),u.drawImage(w,0,0,o.width,o.height)}catch(w){console.error("Erreur lors du chargement de l'image de fond:",w)}},v=()=>{const w={studentName:"Jean Dupont",courseName:"Formation en Dveloppement Web",date:new Date().toLocaleDateString("fr-FR",{day:"numeric",month:"long",year:"numeric"}),instructor:"Marie Martin",duration:"40 heures"};r.template_config.elements.forEach(N=>{u.save();const E=typeof N.x=="string"?parseFloat(N.x):N.x||0,j=typeof N.y=="string"?parseFloat(N.y):N.y||0,T=typeof N.width=="string"?parseFloat(N.width):N.width||0,O=typeof N.height=="string"?parseFloat(N.height):N.height||0;switch(N.type){case"text":const D=(N.fontStyle||"normal")==="bold"?"bold":"normal",M=N.fontFamily||"Arial",B=N.fontSize||16;u.font=`${D} ${B}px ${M}`,u.fillStyle=N.color||"#000000",u.textAlign=N.textAlign||"left";let H=N.content||"";H=H.replace(/\{studentName\}/g,w.studentName),H=H.replace(/\{courseName\}/g,w.courseName),H=H.replace(/\{date\}/g,w.date),H=H.replace(/\{instructor\}/g,w.instructor),H=H.replace(/\{duration\}/g,w.duration),u.fillText(H,E,j);break;case"rectangle":u.strokeStyle=N.color||"#000000",u.lineWidth=N.borderWidth||1,N.fillColor&&(u.fillStyle=N.fillColor,u.fillRect(E,j,T,O)),u.strokeRect(E,j,T,O);break;case"circle":const L=T/2;u.strokeStyle=N.color||"#000000",u.lineWidth=N.borderWidth||1,u.beginPath(),u.arc(E+L,j+L,L,0,Math.PI*2),N.fillColor&&(u.fillStyle=N.fillColor,u.fill()),u.stroke();break;case"line":u.strokeStyle=N.color||"#000000",u.lineWidth=N.borderWidth||1,u.beginPath(),u.moveTo(E,j),u.lineTo(E+T,j+O),u.stroke();break;case"image":if(N.imageUrl){const U=new Image;U.crossOrigin="anonymous",U.onload=()=>{u.drawImage(U,E,j,T,O)},U.src=N.imageUrl}break}u.restore()}),i(!1)};b().then(v)},[e,r]);const l=()=>{if(!n.current)return;const o=document.createElement("a");o.download=`preview-${r.name}.png`,o.href=n.current.toDataURL("image/png"),o.click()};return e?s.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-60 flex items-center justify-center z-50 p-4",children:s.jsxs("div",{className:"bg-white rounded-xl shadow-2xl max-w-6xl w-full max-h-[95vh] overflow-hidden flex flex-col",children:[s.jsxs("div",{className:"flex items-center justify-between p-6 border-b border-gray-200 bg-gradient-to-r from-purple-50 to-purple-100",children:[s.jsxs("div",{children:[s.jsx("h2",{className:"text-xl font-bold text-gray-900",children:"Prvisualisation du Template"}),s.jsx("p",{className:"text-sm text-gray-600 mt-0.5",children:r.name})]}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsxs("button",{onClick:l,className:"px-4 py-2 bg-purple-600 hover:bg-purple-700 text-white rounded-lg flex items-center gap-2 transition-colors text-sm font-medium",title:"Tlcharger l'aperu",children:[s.jsx(Es,{className:"h-4 w-4"}),"Tlcharger"]}),s.jsx("button",{onClick:t,className:"p-2 hover:bg-purple-200 rounded-lg transition-colors",children:s.jsx(ta,{className:"h-5 w-5 text-gray-600"})})]})]}),s.jsxs("div",{className:"flex-1 overflow-auto p-6 bg-gray-50 relative",children:[a&&s.jsx("div",{className:"absolute inset-0 flex items-center justify-center bg-white bg-opacity-75 z-10",children:s.jsxs("div",{className:"text-center",children:[s.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-purple-600 mx-auto mb-3"}),s.jsx("p",{className:"text-sm text-gray-600",children:"Gnration de l'aperu..."})]})}),s.jsx("div",{className:"flex items-center justify-center min-h-full",children:s.jsx("div",{className:"bg-white p-4 rounded-lg shadow-lg",children:s.jsx("canvas",{ref:n,className:"border border-gray-300 max-w-full h-auto",style:{maxHeight:"calc(95vh - 200px)"}})})})]}),s.jsx("div",{className:"p-4 border-t border-gray-200 bg-gray-50",children:s.jsxs("p",{className:"text-xs text-gray-600 text-center",children:[s.jsx("span",{className:"font-semibold",children:"Note:"})," Cette prvisualisation utilise des donnes de test. Les placeholders ","{studentName}",", ","{courseName}",", ","{date}",", etc. sont remplacs par des valeurs fictives."]})})]})}):null},I_e=e=>({name:"Nouveau Template Canvas",description:"",folder_id:e||"",template_config:{layout:{orientation:"landscape",format:"a4",margins:{top:10,right:10,bottom:10,left:10}},colors:{primary:"#1e40af",secondary:"#3b82f6",text:"#1f2937",background:"#ffffff"},fonts:{title:{family:"times",size:28,style:"bold"},subtitle:{family:"times",size:18,style:"normal"},body:{family:"helvetica",size:12,style:"normal"},studentName:{family:"times",size:24,style:"bold"}},elements:[]}}),B_e=()=>{const{id:e}=Ko(),t=Pn(),[r]=WD(),n=r.get("folderId"),a=e==="new",i=r.get("name"),l=r.get("format"),o=r.get("orientation"),u=r.get("margins"),f=r.get("customWidth"),h=r.get("customHeight"),{data:m,isLoading:g}=vse(a?null:e||""),x=AL(),b=yse(),[v,w]=k.useState(null),[N,E]=k.useState([]),[j,T]=k.useState(null),[O,P]=k.useState(1),[D,M]=k.useState(!0),[B,H]=k.useState(!1),[L,U]=k.useState("elements"),[G,te]=k.useState(!1),de=k.useMemo(()=>{if(!v)return{width:1122,height:794};const{format:X,orientation:ve,customWidth:Te,customHeight:Y}=v.template_config.layout;return HS(X,ve,Te,Y)},[v?.template_config.layout.format,v?.template_config.layout.orientation,v?.template_config.layout.customWidth,v?.template_config.layout.customHeight]);k.useEffect(()=>{if(a){const X=I_e(n||void 0),ve=u?parseInt(u):10,Te={...X,id:"new",name:i||"Nouveau Template Canvas",template_config:{...X.template_config,layout:{...X.template_config.layout,format:l?.toLowerCase()||"a4",orientation:o||"landscape",margins:{top:ve,right:ve,bottom:ve,left:ve}}},created_at:new Date().toISOString(),updated_at:new Date().toISOString()};l?.toLowerCase()==="custom"&&f&&h&&(Te.template_config.layout.customWidth=parseInt(f),Te.template_config.layout.customHeight=parseInt(h)),w(Te),E([])}else if(m&&(w(m),E(m.template_config.elements||[]),m.template_config.elements.length>0)){const X=Math.max(...m.template_config.elements.map(ve=>{const Te=ve.id.match(/element-(\d+)/);return Te?parseInt(Te[1]):0}));P(X+1)}},[m,a,n,i,l,o,u,f,h]);const ne=async()=>{if(v){H(!0);try{const X={...v,template_config:{...v.template_config,elements:N}};if(a){const{id:ve,created_at:Te,updated_at:Y,...We}=X;await b.mutateAsync(We)}else{const{id:ve,created_at:Te,updated_at:Y,...We}=X;await x.mutateAsync({id:v.id,data:We})}t("/admin/certificate-templates")}catch(X){console.error("Error saving template:",X),alert("Erreur lors de la sauvegarde: "+(X.message||"Erreur inconnue"))}finally{H(!1)}}},Z=()=>{confirm("Annuler les modifications ?")&&t("/admin/certificate-templates")},xe=(X,ve,Te,Y)=>{const We=`element-${O}`;P(O+1);let Ee={id:We,type:X,x:ve,y:Te,color:"#000000"};X==="text"?Ee={...Ee,content:Y.variable||Y.content||"Nouveau texte",fontSize:14,fontFamily:"helvetica",fontStyle:"normal",align:"left"}:X==="image"?Ee={...Ee,source:Y.source||"",width:100,height:100}:X==="rectangle"||X==="border"?Ee={...Ee,width:150,height:80,lineWidth:1}:X==="circle"?Ee={...Ee,radius:30,lineWidth:1}:X==="line"&&(Ee={...Ee,x1:ve,y1:Te,x2:ve+100,y2:Te,lineWidth:1},delete Ee.x,delete Ee.y),E([...N,Ee]),T(We)},le=(X,ve,Te)=>{E(N.map(Y=>Y.id===X?{...Y,x:ve,y:Te}:Y))},Se=(X,ve,Te)=>{E(N.map(Y=>Y.id===X?{...Y,width:ve,height:Te}:Y))},re=X=>{E(N.map(ve=>ve.id===X.id?X:ve))},R=()=>{j&&confirm("Supprimer cet lment ?")&&(E(N.filter(X=>X.id!==j)),T(null))},F=()=>{if(!j)return;const X=N.find(Y=>Y.id===j);if(!X)return;const ve=`element-${O}`;P(O+1);const Te={...X,id:ve,x:typeof X.x=="number"?X.x+20:X.x,y:typeof X.y=="number"?X.y+20:X.y};E([...N,Te]),T(ve)},q=(X,ve)=>{const Te={type:X,...ve};window.__dragData=Te},W=X=>{w(X)},Q=X=>{v&&w({...v,template_config:{...v.template_config,layout:{...v.template_config.layout,format:X}}})},oe=X=>{v&&w({...v,template_config:{...v.template_config,layout:{...v.template_config.layout,orientation:X}}})};if(g||!v)return s.jsx("div",{className:"flex items-center justify-center h-screen",children:s.jsxs("div",{className:"text-center",children:[s.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-600 mx-auto mb-4"}),s.jsx("p",{className:"text-gray-600",children:"Chargement du template..."})]})});const ue=j&&N.find(X=>X.id===j)||null;return s.jsxs("div",{className:"min-h-screen bg-gray-50 flex flex-col",children:[s.jsx("div",{className:"bg-white border-b border-gray-200 sticky top-0 z-10",children:s.jsx("div",{className:"max-w-screen-2xl mx-auto px-6 py-4",children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{className:"flex items-center gap-4",children:[s.jsx("button",{onClick:()=>t("/admin/certificate-templates"),className:"p-2 hover:bg-gray-100 rounded-lg transition-colors",title:"Retour",children:s.jsx(Hn,{className:"h-5 w-5 text-gray-600"})}),s.jsxs("div",{children:[s.jsx("input",{type:"text",value:v.name,onChange:X=>w({...v,name:X.target.value}),className:"text-xl font-bold text-gray-900 border-none focus:ring-2 focus:ring-blue-500 rounded px-2 py-1"}),s.jsx("p",{className:"text-sm text-gray-500",children:"diteur Canvas Drag-and-Drop"})]})]}),s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("label",{className:"text-sm text-gray-600 font-medium",children:"Format:"}),s.jsxs("select",{value:v.template_config.layout.format,onChange:X=>Q(X.target.value),className:"px-3 py-2 text-sm border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500",children:[s.jsxs("option",{value:"a4",children:[Wv.a4," (297210mm)"]}),s.jsxs("option",{value:"letter",children:[Wv.letter," (279216mm)"]}),s.jsxs("option",{value:"badge",children:[Wv.badge," (8654mm)"]})]})]}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("label",{className:"text-sm text-gray-600 font-medium",children:"Orientation:"}),s.jsxs("select",{value:v.template_config.layout.orientation,onChange:X=>oe(X.target.value),className:"px-3 py-2 text-sm border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500",children:[s.jsx("option",{value:"landscape",children:"Paysage"}),s.jsx("option",{value:"portrait",children:"Portrait"})]})]}),s.jsxs("div",{className:"px-3 py-2 text-xs bg-gray-50 text-gray-600 rounded-lg border border-gray-200",children:[de.width,"  ",de.height," px"]}),s.jsxs("button",{onClick:()=>M(!D),className:`px-3 py-2 text-sm rounded-lg flex items-center gap-2 transition-colors ${D?"bg-blue-100 text-blue-700":"bg-gray-100 hover:bg-gray-200 text-gray-700"}`,title:"Afficher/Masquer la grille",children:[s.jsx($_,{className:"h-4 w-4"}),"Grille"]}),s.jsxs("button",{onClick:()=>te(!0),className:"px-4 py-2 text-sm bg-purple-600 hover:bg-purple-700 text-white rounded-lg flex items-center gap-2 transition-colors",title:"Prvisualiser le certificat",children:[s.jsx(Ds,{className:"h-4 w-4"}),"Visualiser"]}),s.jsxs("button",{onClick:Z,disabled:B,className:"px-4 py-2 text-sm bg-gray-100 hover:bg-gray-200 text-gray-700 rounded-lg flex items-center gap-2 transition-colors disabled:opacity-50",children:[s.jsx(ta,{className:"h-4 w-4"}),"Annuler"]}),s.jsxs("button",{onClick:ne,disabled:B,className:"px-4 py-2 text-sm bg-blue-600 hover:bg-blue-700 text-white rounded-lg flex items-center gap-2 transition-colors disabled:opacity-50",children:[s.jsx(np,{className:"h-4 w-4"}),B?"Sauvegarde...":"Enregistrer"]})]})]})})}),s.jsxs("div",{className:"flex-1 flex overflow-hidden",children:[s.jsx("div",{className:"w-64 flex-shrink-0",children:s.jsxs("div",{className:"h-full flex flex-col",children:[s.jsx("div",{className:"flex border-b border-gray-200 bg-white",children:s.jsx("button",{onClick:()=>U("elements"),className:`flex-1 px-4 py-3 text-sm font-medium transition-colors ${L==="elements"?"bg-blue-50 text-blue-600 border-b-2 border-blue-600":"text-gray-600 hover:bg-gray-50"}`,children:"lments"})}),L==="elements"&&s.jsx(T_e,{onDragStart:q})]})}),s.jsx("div",{className:"flex-1",children:s.jsx(O_e,{elements:N,selectedId:j,backgroundImage:v.background_image_url||null,canvasSize:de,showGrid:D&&!v.background_image_url,onElementMove:le,onElementResize:Se,onElementSelect:T,onElementDrop:(X,ve,Te)=>{const Y=window.__dragData||{};xe(X,ve,Te,Y),delete window.__dragData}})}),s.jsx("div",{className:"w-80 flex-shrink-0",children:s.jsxs("div",{className:"h-full flex flex-col",children:[s.jsxs("div",{className:"flex border-b border-gray-200 bg-white",children:[s.jsx("button",{onClick:()=>U("elements"),className:`flex-1 px-3 py-3 text-sm font-medium transition-colors ${L==="elements"?"bg-blue-50 text-blue-600 border-b-2 border-blue-600":"text-gray-600 hover:bg-gray-50"}`,children:"Proprits"}),s.jsx("button",{onClick:()=>U("background"),className:`flex-1 px-3 py-3 text-sm font-medium transition-colors ${L==="background"?"bg-blue-50 text-blue-600 border-b-2 border-blue-600":"text-gray-600 hover:bg-gray-50"}`,children:"Arrire-plan"}),s.jsx("button",{onClick:()=>U("fonts"),className:`flex-1 px-3 py-3 text-sm font-medium transition-colors ${L==="fonts"?"bg-blue-50 text-blue-600 border-b-2 border-blue-600":"text-gray-600 hover:bg-gray-50"}`,children:"Polices"})]}),L==="elements"&&s.jsx(P_e,{element:ue,customFonts:[],onChange:re,onDelete:R,onDuplicate:F}),L==="background"&&v&&s.jsx(L_e,{template:v,onUpdate:W}),L==="fonts"&&s.jsx(M_e,{})]})})]}),v&&s.jsx(R_e,{isOpen:G,onClose:()=>te(!1),template:v})]})},yu={getThreads:async(e,t)=>{const r=new URLSearchParams;t?.sort&&r.append("sort",t.sort),t?.pinned&&r.append("pinned",t.pinned);const n=`/forums/${e}/threads${r.toString()?`?${r.toString()}`:""}`;return Qe.get(n)},createThread:async(e,t)=>Qe.post(`/forums/${e}/threads`,t),getThread:async e=>Qe.get(`/forums/threads/${e}`),updateThread:async(e,t)=>Qe.put(`/forums/threads/${e}`,t),deleteThread:async(e,t,r=!1)=>Qe.delete(`/forums/threads/${e}?user_id=${t}&is_admin=${r}`),pinThread:async(e,t)=>Qe.patch(`/forums/threads/${e}/pin`,{is_pinned:t}),lockThread:async(e,t)=>Qe.patch(`/forums/threads/${e}/lock`,{is_locked:t}),incrementViewCount:async e=>Qe.patch(`/forums/threads/${e}/view`,{}),getPosts:async e=>Qe.get(`/forums/threads/${e}/posts`),createPost:async(e,t)=>Qe.post(`/forums/threads/${e}/posts`,t),updatePost:async(e,t)=>Qe.put(`/forums/posts/${e}`,t),deletePost:async(e,t,r=!1)=>Qe.delete(`/forums/posts/${e}?user_id=${t}&is_admin=${r}`),addReaction:async(e,t)=>Qe.post(`/forums/posts/${e}/reactions`,t),removeReaction:async(e,t,r)=>Qe.delete(`/forums/posts/${e}/reactions/${r}?user_id=${t}`),getReactions:async e=>Qe.get(`/forums/posts/${e}/reactions`),getStats:async()=>Qe.get("/forums/stats")},Cl={all:["forums"],threads:e=>["forums","threads",e],thread:e=>["forums","thread",e],posts:e=>["forums","posts",e],reactions:e=>["forums","reactions",e],stats:()=>["forums","stats"]},U_e=(e,t)=>ir({queryKey:[...Cl.threads(e||""),t],queryFn:()=>{if(!e)throw new Error("Formation ID is required");return yu.getThreads(e,t)},enabled:!!e,staleTime:120*1e3}),z_e=e=>ir({queryKey:Cl.thread(e||""),queryFn:()=>{if(!e)throw new Error("Thread ID is required");return yu.getThread(e)},enabled:!!e,staleTime:300*1e3}),q_e=()=>{const e=Dt();return Ft({mutationFn:({formationId:t,data:r})=>yu.createThread(t,r),onSuccess:(t,r)=>{e.invalidateQueries({queryKey:Cl.threads(r.formationId)})}})},$_e=()=>{const e=Dt();return Ft({mutationFn:t=>yu.incrementViewCount(t),onSuccess:(t,r)=>{e.invalidateQueries({queryKey:Cl.thread(r)})}})},H_e=e=>ir({queryKey:Cl.posts(e||""),queryFn:()=>{if(!e)throw new Error("Thread ID is required");return yu.getPosts(e)},enabled:!!e,staleTime:60*1e3}),V_e=()=>{const e=Dt();return Ft({mutationFn:({threadId:t,data:r})=>yu.createPost(t,r),onSuccess:(t,r)=>{e.invalidateQueries({queryKey:Cl.posts(r.threadId)}),e.invalidateQueries({queryKey:Cl.thread(r.threadId)}),e.invalidateQueries({queryKey:Cl.all})}})},W_e=()=>{const e=Dt();return Ft({mutationFn:({postId:t,userId:r,isAdmin:n})=>yu.deletePost(t,r,n),onSuccess:()=>{e.invalidateQueries({queryKey:Cl.all})}})},K_e=()=>{const e=Dt();return Ft({mutationFn:({postId:t,data:r})=>yu.addReaction(t,r),onSuccess:(t,r)=>{e.invalidateQueries({queryKey:Cl.reactions(r.postId)}),e.invalidateQueries({queryKey:Cl.all})}})},G_e=()=>{const e=Dt();return Ft({mutationFn:({postId:t,userId:r,reactionType:n})=>yu.removeReaction(t,r,n),onSuccess:(t,r)=>{e.invalidateQueries({queryKey:Cl.reactions(r.postId)}),e.invalidateQueries({queryKey:Cl.all})}})},Y_e=()=>ir({queryKey:Cl.stats(),queryFn:()=>yu.getStats(),staleTime:300*1e3}),X_e=()=>{const e=Pn(),[t,r]=k.useState(""),[n,a]=k.useState(""),{data:i}=Y_e(),{data:l}=v2(),o=i?.stats,u=l||[],f=n?u.filter(h=>h.id===n):u;return s.jsxs("div",{className:"p-6",children:[s.jsxs("div",{className:"mb-6",children:[s.jsx("h1",{className:"text-3xl font-bold text-gray-900",children:"Modration des Forums"}),s.jsx("p",{className:"text-gray-600 mt-1",children:"Grez les discussions et modrez le contenu des forums"})]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4 mb-6",children:[s.jsxs("div",{className:"bg-gradient-to-br from-blue-500 to-blue-600 rounded-lg p-5 text-white",children:[s.jsx("div",{className:"flex items-center justify-between mb-2",children:s.jsx(el,{className:"h-8 w-8 opacity-80"})}),s.jsx("div",{className:"text-3xl font-bold",children:o?.total_threads||0}),s.jsx("div",{className:"text-blue-100 text-sm",children:"Total discussions"})]}),s.jsxs("div",{className:"bg-gradient-to-br from-green-500 to-green-600 rounded-lg p-5 text-white",children:[s.jsx("div",{className:"flex items-center justify-between mb-2",children:s.jsx(QD,{className:"h-8 w-8 opacity-80"})}),s.jsx("div",{className:"text-3xl font-bold",children:o?.total_posts||0}),s.jsx("div",{className:"text-green-100 text-sm",children:"Total rponses"})]}),s.jsxs("div",{className:"bg-gradient-to-br from-purple-500 to-purple-600 rounded-lg p-5 text-white",children:[s.jsx("div",{className:"flex items-center justify-between mb-2",children:s.jsx(V0,{className:"h-8 w-8 opacity-80"})}),s.jsx("div",{className:"text-3xl font-bold",children:o?.total_reactions||0}),s.jsx("div",{className:"text-purple-100 text-sm",children:"Total ractions"})]}),s.jsxs("div",{className:"bg-gradient-to-br from-amber-500 to-amber-600 rounded-lg p-5 text-white",children:[s.jsx("div",{className:"flex items-center justify-between mb-2",children:s.jsx(ls,{className:"h-8 w-8 opacity-80"})}),s.jsx("div",{className:"text-3xl font-bold",children:o?.active_posters||0}),s.jsx("div",{className:"text-amber-100 text-sm",children:"Participants actifs"})]})]}),s.jsx("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 p-4 mb-6",children:s.jsxs("div",{className:"flex items-center gap-4",children:[s.jsxs("div",{className:"flex-1 relative",children:[s.jsx(ap,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 h-5 w-5 text-gray-400"}),s.jsx("input",{type:"text",placeholder:"Rechercher une discussion...",value:t,onChange:h=>r(h.target.value),className:"w-full pl-10 pr-4 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500"})]}),s.jsxs("select",{value:n,onChange:h=>a(h.target.value),className:"border border-gray-300 rounded-lg px-4 py-2 focus:outline-none focus:ring-2 focus:ring-blue-500",children:[s.jsx("option",{value:"",children:"Toutes les formations"}),u.map(h=>s.jsx("option",{value:h.id,children:h.title},h.id))]})]})}),s.jsx("div",{className:"space-y-4",children:f.length===0?s.jsxs("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 p-12 text-center",children:[s.jsx(el,{className:"h-16 w-16 text-gray-300 mx-auto mb-4"}),s.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-2",children:"Aucune formation trouve"}),s.jsx("p",{className:"text-gray-600",children:"Crez des formations pour activer les forums"})]}):f.map(h=>s.jsx("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 p-5",children:s.jsxs("div",{className:"flex items-start justify-between",children:[s.jsxs("div",{className:"flex-1",children:[s.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-2",children:h.title}),s.jsx("p",{className:"text-sm text-gray-600 mb-4 line-clamp-2",children:h.description}),s.jsxs("div",{className:"flex items-center gap-4 text-sm text-gray-600",children:[s.jsxs("span",{className:"flex items-center gap-1",children:[s.jsx(el,{className:"h-4 w-4"}),"Forum actif"]}),s.jsxs("span",{className:"flex items-center gap-1",children:[s.jsx(ls,{className:"h-4 w-4"}),h.enrolled_count||0," tudiants"]})]})]}),s.jsx("div",{className:"flex items-center gap-2",children:s.jsxs(Ge,{onClick:()=>e(`/student/forums/${h.id}`),className:"bg-gradient-to-r from-blue-600 to-blue-700 text-white",children:[s.jsx(Ds,{className:"h-4 w-4 mr-2"}),"Voir le forum"]})})]})},h.id))}),s.jsxs("div",{className:"mt-6 bg-blue-50 border border-blue-200 rounded-lg p-4",children:[s.jsx("h3",{className:"font-semibold text-blue-900 mb-2",children:"Actions de modration disponibles"}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-3 text-sm text-blue-800",children:[s.jsxs("div",{className:"flex items-start gap-2",children:[s.jsx(V_,{className:"h-4 w-4 mt-0.5 text-yellow-600"}),s.jsxs("span",{children:[s.jsx("strong",{children:"pingler:"})," Mettre en avant les discussions importantes"]})]}),s.jsxs("div",{className:"flex items-start gap-2",children:[s.jsx($x,{className:"h-4 w-4 mt-0.5 text-gray-600"}),s.jsxs("span",{children:[s.jsx("strong",{children:"Verrouiller:"})," Empcher de nouvelles rponses"]})]}),s.jsxs("div",{className:"flex items-start gap-2",children:[s.jsx(Fn,{className:"h-4 w-4 mt-0.5 text-red-600"}),s.jsxs("span",{children:[s.jsx("strong",{children:"Supprimer:"})," Retirer du contenu inappropri"]})]}),s.jsxs("div",{className:"flex items-start gap-2",children:[s.jsx(Ds,{className:"h-4 w-4 mt-0.5 text-blue-600"}),s.jsxs("span",{children:[s.jsx("strong",{children:"Surveiller:"})," Suivre l'activit des discussions"]})]})]}),s.jsx("p",{className:"mt-3 text-sm text-blue-700",children:" Accdez  un forum spcifique pour utiliser ces actions de modration."})]}),o&&s.jsxs("div",{className:"mt-6 bg-gradient-to-r from-gray-50 to-gray-100 border border-gray-200 rounded-lg p-5",children:[s.jsx("h3",{className:"font-semibold text-gray-900 mb-3",children:"Statistiques gnrales"}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4 text-sm",children:[s.jsxs("div",{children:[s.jsx("span",{className:"text-gray-600",children:"Crateurs de discussions:"}),s.jsx("span",{className:"ml-2 font-semibold text-gray-900",children:o.active_thread_creators})]}),s.jsxs("div",{children:[s.jsx("span",{className:"text-gray-600",children:"Participants actifs:"}),s.jsx("span",{className:"ml-2 font-semibold text-gray-900",children:o.active_posters})]}),s.jsxs("div",{children:[s.jsx("span",{className:"text-gray-600",children:"Taux d'engagement:"}),s.jsxs("span",{className:"ml-2 font-semibold text-gray-900",children:[o.total_threads>0?(o.total_posts/o.total_threads*100).toFixed(1):0,"% rponses/thread"]})]})]})]})]})},Q_e=()=>{const e=Pn(),{user:t}=Ai(),{data:r=[],isLoading:n}=_L(),a=r.filter(g=>g.students?.some(x=>x.student_id===t?.id)),i=g=>({planned:"bg-blue-100 text-blue-700",active:"bg-green-100 text-green-700",completed:"bg-gray-100 text-gray-700",cancelled:"bg-red-100 text-red-700"})[g]||"bg-gray-100 text-gray-700",l=g=>({planned:"Planifie",active:"En cours",completed:"Termine",cancelled:"Annule"})[g]||g,o=g=>new Date(g).toLocaleDateString("fr-FR",{day:"numeric",month:"long",year:"numeric"}),u=g=>{const x=new Date,b=new Date(g.start_date),v=new Date(g.end_date);return x>=b&&x<=v},f=a.filter(g=>g.status==="active"||u(g)),h=a.filter(g=>g.status==="planned"&&!u(g)),m=a.filter(g=>g.status==="completed");return s.jsx(Aa,{title:`Bonjour ${t?.full_name||"tudiant"}`,subtitle:"Bienvenue sur votre portail de formation",children:s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-6",children:[s.jsx("div",{className:"bg-gradient-to-br from-blue-500 to-blue-600 rounded-lg shadow-lg p-6 text-white",children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx("p",{className:"text-blue-100 text-sm font-medium",children:"Sessions inscrites"}),s.jsx("p",{className:"text-3xl font-bold mt-2",children:a.length})]}),s.jsx(ua,{className:"h-12 w-12 text-blue-200"})]})}),s.jsx("div",{className:"bg-gradient-to-br from-green-500 to-green-600 rounded-lg shadow-lg p-6 text-white",children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx("p",{className:"text-green-100 text-sm font-medium",children:"Sessions actives"}),s.jsx("p",{className:"text-3xl font-bold mt-2",children:f.length})]}),s.jsx(V0,{className:"h-12 w-12 text-green-200"})]})}),s.jsx("div",{className:"bg-gradient-to-br from-purple-500 to-purple-600 rounded-lg shadow-lg p-6 text-white",children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx("p",{className:"text-purple-100 text-sm font-medium",children:" venir"}),s.jsx("p",{className:"text-3xl font-bold mt-2",children:h.length})]}),s.jsx(_i,{className:"h-12 w-12 text-purple-200"})]})}),s.jsx("div",{className:"bg-gradient-to-br from-orange-500 to-orange-600 rounded-lg shadow-lg p-6 text-white",children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx("p",{className:"text-orange-100 text-sm font-medium",children:"Termines"}),s.jsx("p",{className:"text-3xl font-bold mt-2",children:m.length})]}),s.jsx(oi,{className:"h-12 w-12 text-orange-200"})]})})]}),s.jsxs("div",{className:"bg-white rounded-lg shadow-sm border p-6",children:[s.jsx("h2",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Accs Rapide"}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[s.jsxs(Ge,{onClick:()=>e("/student/catalog"),className:"flex items-center justify-center gap-2 h-16 bg-gradient-to-r from-blue-500 to-blue-600 hover:from-blue-600 hover:to-blue-700 text-white",children:[s.jsx(ua,{className:"h-5 w-5"}),s.jsx("span",{className:"font-medium",children:"Catalogue de Formations"})]}),s.jsxs(Ge,{onClick:()=>e("/student/certificates"),className:"flex items-center justify-center gap-2 h-16 bg-gradient-to-r from-amber-500 to-amber-600 hover:from-amber-600 hover:to-amber-700 text-white",children:[s.jsx(oi,{className:"h-5 w-5"}),s.jsx("span",{className:"font-medium",children:"Mes Certificats"})]}),f.length>0&&f[0].formation_id&&s.jsxs(Ge,{onClick:()=>e(`/student/formations/${f[0].formation_id}`),className:"flex items-center justify-center gap-2 h-16 bg-gradient-to-r from-green-500 to-green-600 hover:from-green-600 hover:to-green-700 text-white",children:[s.jsx(Sc,{className:"h-5 w-5"}),s.jsx("span",{className:"font-medium",children:"Continuer ma formation"})]})]})]}),f.length>0&&s.jsxs("div",{className:"bg-white rounded-lg shadow-sm border p-6",children:[s.jsx("div",{className:"flex items-center justify-between mb-6",children:s.jsxs("h2",{className:"text-xl font-bold text-gray-900 flex items-center gap-2",children:[s.jsx(Sc,{className:"h-6 w-6 text-green-600"}),"Sessions en cours"]})}),s.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:f.map(g=>s.jsxs("div",{className:"border border-green-200 rounded-lg p-4 hover:shadow-md transition-shadow bg-green-50",children:[s.jsxs("div",{className:"flex items-start justify-between mb-3",children:[s.jsxs("div",{className:"flex-1",children:[s.jsx("h3",{className:"font-semibold text-gray-900 mb-1",children:g.name}),g.formation_title&&s.jsxs("p",{className:"text-sm text-green-700 font-medium",children:[" ",g.formation_title]})]}),s.jsx("span",{className:`px-2 py-1 text-xs font-semibold rounded-full ${i(g.status)}`,children:l(g.status)})]}),s.jsxs("div",{className:"space-y-2 text-sm text-gray-600",children:[g.segment_name&&s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(ls,{className:"h-4 w-4 text-gray-400"}),s.jsx("span",{children:g.segment_name})]}),g.city_name&&s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(Cs,{className:"h-4 w-4 text-gray-400"}),s.jsx("span",{children:g.city_name})]}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(_i,{className:"h-4 w-4 text-gray-400"}),s.jsxs("span",{children:[o(g.start_date)," - ",o(g.end_date)]})]})]}),g.formation_id&&s.jsx("div",{className:"mt-4",children:s.jsxs(Ge,{onClick:()=>e(`/student/formations/${g.formation_id}`),className:"w-full bg-green-600 hover:bg-green-700",size:"sm",children:[s.jsx(Sc,{className:"h-4 w-4 mr-2"}),"Accder  la formation"]})})]},g.id))})]}),h.length>0&&s.jsxs("div",{className:"bg-white rounded-lg shadow-sm border p-6",children:[s.jsxs("h2",{className:"text-xl font-bold text-gray-900 mb-6 flex items-center gap-2",children:[s.jsx(As,{className:"h-6 w-6 text-purple-600"}),"Sessions  venir"]}),s.jsx("div",{className:"space-y-4",children:h.map(g=>s.jsx("div",{className:"border rounded-lg p-4 hover:shadow-md transition-shadow",children:s.jsxs("div",{className:"flex items-start justify-between",children:[s.jsxs("div",{className:"flex-1",children:[s.jsx("h3",{className:"font-semibold text-gray-900 mb-2",children:g.name}),g.formation_title&&s.jsxs("p",{className:"text-sm text-gray-600 mb-2",children:[" ",g.formation_title]}),s.jsxs("div",{className:"flex flex-wrap gap-4 text-sm text-gray-600",children:[g.segment_name&&s.jsxs("div",{className:"flex items-center gap-1",children:[s.jsx(ls,{className:"h-4 w-4 text-gray-400"}),s.jsx("span",{children:g.segment_name})]}),g.city_name&&s.jsxs("div",{className:"flex items-center gap-1",children:[s.jsx(Cs,{className:"h-4 w-4 text-gray-400"}),s.jsx("span",{children:g.city_name})]}),s.jsxs("div",{className:"flex items-center gap-1",children:[s.jsx(_i,{className:"h-4 w-4 text-gray-400"}),s.jsxs("span",{children:["Dbut: ",o(g.start_date)]})]})]})]}),s.jsx("span",{className:`px-2 py-1 text-xs font-semibold rounded-full ${i(g.status)}`,children:l(g.status)})]})},g.id))})]}),m.length>0&&s.jsxs("div",{className:"bg-white rounded-lg shadow-sm border p-6",children:[s.jsxs("h2",{className:"text-xl font-bold text-gray-900 mb-6 flex items-center gap-2",children:[s.jsx(oi,{className:"h-6 w-6 text-gray-600"}),"Sessions termines"]}),s.jsx("div",{className:"space-y-4",children:m.map(g=>s.jsx("div",{className:"border rounded-lg p-4 bg-gray-50 hover:shadow-md transition-shadow",children:s.jsxs("div",{className:"flex items-start justify-between",children:[s.jsxs("div",{className:"flex-1",children:[s.jsx("h3",{className:"font-semibold text-gray-900 mb-2",children:g.name}),g.formation_title&&s.jsxs("p",{className:"text-sm text-gray-600",children:[" ",g.formation_title]})]}),s.jsx("span",{className:`px-2 py-1 text-xs font-semibold rounded-full ${i(g.status)}`,children:l(g.status)})]})},g.id))})]}),!n&&a.length===0&&s.jsxs("div",{className:"bg-white rounded-lg shadow-sm border p-12 text-center",children:[s.jsx(ua,{className:"h-16 w-16 text-gray-400 mx-auto mb-4"}),s.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"Aucune session inscrite"}),s.jsx("p",{className:"text-gray-500 mb-6",children:"Vous n'tes inscrit  aucune session de formation pour le moment."}),s.jsx(Ge,{onClick:()=>e("/student/catalog"),children:"Parcourir le catalogue"})]}),n&&s.jsx("div",{className:"flex justify-center items-center py-12",children:s.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-blue-600"})})]})})},Z_e=()=>{const e=Pn(),{data:t=[],isLoading:r}=v2(),[n,a]=k.useState(""),[i,l]=k.useState("all"),o=t.filter(m=>m.status==="published"),u=k.useMemo(()=>o.filter(m=>{const g=m.title.toLowerCase().includes(n.toLowerCase())||m.description?.toLowerCase().includes(n.toLowerCase()),x=i==="all"||m.level===i;return g&&x}),[o,n,i]),f=m=>{const x=m?{debutant:{bg:"bg-green-100",text:"text-green-700",label:"Dbutant"},intermediaire:{bg:"bg-yellow-100",text:"text-yellow-700",label:"Intermdiaire"},avance:{bg:"bg-red-100",text:"text-red-700",label:"Avanc"}}[m]:{bg:"bg-gray-100",text:"text-gray-700",label:"N/A"};return s.jsx("span",{className:`px-2 py-1 inline-flex text-xs leading-5 font-semibold rounded-full ${x.bg} ${x.text}`,children:x.label})},h=m=>m==="debutant"?s.jsx(V0,{className:"h-4 w-4 text-green-600"}):m==="intermediaire"?s.jsx(V0,{className:"h-4 w-4 text-yellow-600"}):m==="avance"?s.jsx(oi,{className:"h-4 w-4 text-red-600"}):s.jsx(ua,{className:"h-4 w-4 text-gray-400"});return s.jsx(Aa,{title:"Catalogue de formations",subtitle:"Explorez nos formations disponibles",children:s.jsxs("div",{className:"space-y-6",children:[s.jsx("div",{className:"bg-gradient-to-r from-blue-500 to-purple-600 rounded-lg shadow-lg p-6 text-white",children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsxs("h2",{className:"text-2xl font-bold mb-2",children:[o.length," formations disponibles"]}),s.jsx("p",{className:"text-blue-100",children:"Dveloppez vos comptences avec nos formations en ligne"})]}),s.jsx(ua,{className:"h-16 w-16 text-blue-200 opacity-50"})]})}),s.jsxs("div",{className:"bg-white rounded-lg shadow-sm border p-6",children:[s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[s.jsxs("div",{children:[s.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:[s.jsx(ap,{className:"h-4 w-4 inline mr-2"}),"Rechercher"]}),s.jsx("input",{type:"text",value:n,onChange:m=>a(m.target.value),placeholder:"Titre ou description...",className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent"})]}),s.jsxs("div",{children:[s.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:[s.jsx(z_,{className:"h-4 w-4 inline mr-2"}),"Niveau"]}),s.jsxs("select",{value:i,onChange:m=>l(m.target.value),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",children:[s.jsx("option",{value:"all",children:"Tous les niveaux"}),s.jsx("option",{value:"debutant",children:"Dbutant"}),s.jsx("option",{value:"intermediaire",children:"Intermdiaire"}),s.jsx("option",{value:"avance",children:"Avanc"})]})]})]}),(n||i!=="all")&&s.jsxs("div",{className:"mt-4 flex items-center gap-2",children:[s.jsx("span",{className:"text-sm text-gray-600",children:"Filtres actifs:"}),n&&s.jsxs("span",{className:"px-2 py-1 bg-blue-100 text-blue-700 rounded text-xs",children:['Recherche: "',n,'"']}),i!=="all"&&s.jsxs("span",{className:"px-2 py-1 bg-purple-100 text-purple-700 rounded text-xs",children:["Niveau: ",f(i).props.children]}),s.jsx("button",{onClick:()=>{a(""),l("all")},className:"text-xs text-red-600 hover:text-red-700",children:"Effacer les filtres"})]})]}),s.jsx("div",{className:"flex items-center justify-between",children:s.jsxs("p",{className:"text-sm text-gray-600",children:[u.length," formation(s) trouve(s)"]})}),r?s.jsx("div",{className:"flex justify-center items-center py-12",children:s.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-blue-600"})}):u.length===0?s.jsxs("div",{className:"bg-white rounded-lg shadow-sm border p-12 text-center",children:[s.jsx(ua,{className:"h-16 w-16 text-gray-400 mx-auto mb-4"}),s.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"Aucune formation trouve"}),s.jsx("p",{className:"text-gray-500 mb-6",children:n||i!=="all"?"Essayez de modifier vos critres de recherche":"Aucune formation publie pour le moment"}),(n||i!=="all")&&s.jsx(Ge,{onClick:()=>{a(""),l("all")},variant:"outline",children:"Effacer les filtres"})]}):s.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:u.map(m=>s.jsxs("div",{className:"bg-white rounded-lg shadow-sm border hover:shadow-lg transition-all duration-200 overflow-hidden group",children:[s.jsxs("div",{className:"h-48 bg-gradient-to-br from-blue-500 to-purple-600 relative overflow-hidden",children:[m.thumbnail_url?s.jsx("img",{src:m.thumbnail_url,alt:m.title,className:"w-full h-full object-cover group-hover:scale-105 transition-transform duration-200"}):s.jsx("div",{className:"flex items-center justify-center h-full",children:s.jsx(ua,{className:"h-16 w-16 text-white opacity-50"})}),s.jsx("div",{className:"absolute top-3 right-3",children:f(m.level)})]}),s.jsxs("div",{className:"p-6",children:[s.jsx("h3",{className:"text-lg font-bold text-gray-900 mb-2 line-clamp-2 group-hover:text-blue-600 transition-colors",children:m.title}),m.description&&s.jsx("p",{className:"text-sm text-gray-600 mb-4 line-clamp-3",children:m.description}),s.jsxs("div",{className:"space-y-2 mb-4",children:[m.duration_hours&&s.jsxs("div",{className:"flex items-center gap-2 text-sm text-gray-600",children:[s.jsx(As,{className:"h-4 w-4 text-gray-400"}),s.jsxs("span",{children:[m.duration_hours,"h de contenu"]})]}),s.jsxs("div",{className:"flex items-center gap-2 text-sm text-gray-600",children:[h(m.level),s.jsxs("span",{children:["Niveau ",m.level||"N/A"]})]}),m.module_count!==void 0&&s.jsxs("div",{className:"flex items-center gap-2 text-sm text-gray-600",children:[s.jsx(Sc,{className:"h-4 w-4 text-gray-400"}),s.jsxs("span",{children:[m.module_count," module(s)"]})]}),m.passing_score_percentage!==void 0&&s.jsxs("div",{className:"flex items-center gap-2 text-sm text-gray-600",children:[s.jsx(Xa,{className:"h-4 w-4 text-gray-400"}),s.jsxs("span",{children:["Score de russite: ",m.passing_score_percentage,"%"]})]})]}),m.price!==void 0&&m.price!==null&&Number(m.price)>0&&s.jsx("div",{className:"mb-4 pb-4 border-b",children:s.jsx("p",{className:"text-2xl font-bold text-blue-600",children:jL(m.price)})}),s.jsxs(Ge,{onClick:()=>e(`/student/formations/${m.id}`),className:"w-full bg-blue-600 hover:bg-blue-700",children:[s.jsx(Sc,{className:"h-4 w-4 mr-2"}),"Voir la formation"]})]})]},m.id))})]})})},lb={async markVideoComplete(e){return Qe.post(`/progress/videos/${e}/complete`,{})},async recordVideoWatch(e){return Qe.post(`/progress/videos/${e}/watch`,{})},async getFormationVideoProgress(e){return Qe.get(`/progress/formations/${e}/videos`)},async submitTestAttempt(e,t){return Qe.post(`/progress/tests/${e}/attempts`,t)},async getTestAttempts(e){return Qe.get(`/progress/tests/${e}/attempts`)},async getFormationTestAttempts(e){return Qe.get(`/progress/formations/${e}/tests`)},async getFormationProgress(e){return Qe.get(`/progress/formations/${e}`)},async getStudentTranscript(e){return Qe.get(`/progress/student/${e}/transcript`)}};function J_e(){const e=Dt();return Ft({mutationFn:t=>lb.markVideoComplete(t),onSuccess:()=>{e.invalidateQueries({queryKey:["video-progress"]}),e.invalidateQueries({queryKey:["formation-progress"]})}})}function e3e(e){return ir({queryKey:["video-progress",e],queryFn:()=>{if(!e)throw new Error("Formation ID required");return lb.getFormationVideoProgress(e)},enabled:!!e})}function t3e(){const e=Dt();return Ft({mutationFn:({testId:t,data:r})=>lb.submitTestAttempt(t,r),onSuccess:(t,r)=>{e.invalidateQueries({queryKey:["test-attempts",r.testId]}),e.invalidateQueries({queryKey:["test-attempts-formation"]}),e.invalidateQueries({queryKey:["formation-progress"]}),e.invalidateQueries({queryKey:["transcript"]})}})}function r3e(e){return ir({queryKey:["formation-progress",e],queryFn:()=>{if(!e)throw new Error("Formation ID required");return lb.getFormationProgress(e)},enabled:!!e,staleTime:1e3*60*5})}const n3e=()=>{const{id:e}=Ko(),t=Pn(),{user:r}=Ai(),{data:n,isLoading:a,error:i}=cp(e),{data:l}=r3e(e),{data:o}=wU(r?.id||null),[u,f]=k.useState(new Set),h=o?.certificates.some(T=>T.formation_id===e)||!1,m=T=>{const O=new Set(u);O.has(T)?O.delete(T):O.add(T),f(O)},g=T=>l?.video_progress.some(O=>O.video_id===T&&O.completed_at)||!1,x=T=>l?.test_attempts.some(O=>O.test_id===T&&O.passed)||!1,b=T=>{const O={debutant:{bg:"bg-green-100",text:"text-green-700",label:"Dbutant"},intermediaire:{bg:"bg-yellow-100",text:"text-yellow-700",label:"Intermdiaire"},avance:{bg:"bg-red-100",text:"text-red-700",label:"Avanc"}},P=T&&T in O?O[T]:{bg:"bg-gray-100",text:"text-gray-700",label:"N/A"};return s.jsx("span",{className:`px-2 py-1 inline-flex text-xs leading-5 font-semibold rounded-full ${P.bg} ${P.text}`,children:P.label})},v=T=>T==="video"?s.jsx(Sc,{className:"h-5 w-5 text-purple-600"}):T==="test"?s.jsx(sf,{className:"h-5 w-5 text-orange-600"}):s.jsx(ua,{className:"h-5 w-5 text-blue-600"}),w=(T,O)=>(!T.prerequisite_module_id||!O.find(D=>D.id===T.prerequisite_module_id),!0);if(a)return s.jsx(Aa,{title:"Chargement...",subtitle:"Chargement de la formation",children:s.jsx("div",{className:"flex justify-center items-center py-12",children:s.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-blue-600"})})});if(i||!n)return s.jsx(Aa,{title:"Erreur",subtitle:"Formation introuvable",children:s.jsxs("div",{className:"bg-red-50 border border-red-200 rounded-lg p-6 text-center",children:[s.jsx("p",{className:"text-red-800 mb-4",children:i?.message||"Cette formation n'existe pas ou n'est pas disponible."}),s.jsxs(Ge,{onClick:()=>t("/student/catalog"),variant:"outline",children:[s.jsx(Hn,{className:"h-4 w-4 mr-2"}),"Retour au catalogue"]})]})});const N=n.modules||[],E=N.reduce((T,O)=>T+(O.videos?.length||0),0),j=N.reduce((T,O)=>T+(O.tests?.length||0),0);return s.jsx(Aa,{title:n.title,subtitle:"Contenu de la formation",children:s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{className:"bg-white rounded-lg shadow-sm border p-6",children:[s.jsxs(Ge,{variant:"ghost",size:"sm",onClick:()=>t("/student/catalog"),className:"mb-4",children:[s.jsx(Hn,{className:"h-4 w-4 mr-2"}),"Retour au catalogue"]}),s.jsxs("div",{className:"flex items-start gap-6",children:[s.jsx("div",{className:"hidden md:block",children:n.thumbnail_url?s.jsx("img",{src:n.thumbnail_url,alt:n.title,className:"w-48 h-32 object-cover rounded-lg"}):s.jsx("div",{className:"w-48 h-32 bg-gradient-to-br from-blue-500 to-purple-600 rounded-lg flex items-center justify-center",children:s.jsx(ua,{className:"h-12 w-12 text-white opacity-50"})})}),s.jsxs("div",{className:"flex-1",children:[s.jsxs("div",{className:"flex items-center gap-3 mb-3",children:[s.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:n.title}),b(n.level)]}),n.description&&s.jsx("p",{className:"text-gray-600 mb-4",children:n.description}),s.jsxs("div",{className:"flex flex-wrap gap-6 text-sm text-gray-600",children:[n.duration_hours&&s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(As,{className:"h-4 w-4 text-gray-400"}),s.jsxs("span",{children:[n.duration_hours,"h de contenu"]})]}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(ua,{className:"h-4 w-4 text-gray-400"}),s.jsxs("span",{children:[N.length," module(s)"]})]}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(Sc,{className:"h-4 w-4 text-gray-400"}),s.jsxs("span",{children:[E," vido(s)"]})]}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(sf,{className:"h-4 w-4 text-gray-400"}),s.jsxs("span",{children:[j," test(s)"]})]}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(oi,{className:"h-4 w-4 text-gray-400"}),s.jsxs("span",{children:["Score de russite: ",n.passing_score_percentage,"%"]})]})]})]})]})]}),l&&s.jsxs("div",{className:"bg-white rounded-lg shadow-sm border p-6",children:[s.jsx("h2",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Votre progression"}),s.jsx("div",{className:"mb-6",children:s.jsx(i2,{progress:l.summary.overall_progress,label:"Progression globale",color:"purple",size:"lg"})}),h&&s.jsx("div",{className:"mb-6",children:s.jsx("div",{onClick:()=>t("/student/certificates"),className:"bg-gradient-to-r from-amber-50 to-amber-100 border-2 border-amber-300 rounded-lg p-4 cursor-pointer hover:shadow-md transition-all",children:s.jsxs("div",{className:"flex items-center gap-4",children:[s.jsx("div",{className:"bg-amber-500 p-3 rounded-full",children:s.jsx(oi,{className:"h-6 w-6 text-white"})}),s.jsxs("div",{className:"flex-1",children:[s.jsx("h3",{className:"font-semibold text-amber-900 mb-1",children:" Certificat disponible !"}),s.jsx("p",{className:"text-sm text-amber-700",children:"Flicitations ! Vous avez termin cette formation. Cliquez ici pour tlcharger votre certificat."})]}),s.jsx(Io,{className:"h-5 w-5 text-amber-600"})]})})}),s.jsx("div",{className:"mb-6",children:s.jsx("div",{onClick:()=>t(`/student/forums/${e}`),className:"bg-gradient-to-r from-blue-50 to-purple-50 border-2 border-blue-300 rounded-lg p-4 cursor-pointer hover:shadow-md transition-all",children:s.jsxs("div",{className:"flex items-center gap-4",children:[s.jsx("div",{className:"bg-gradient-to-br from-blue-500 to-purple-600 p-3 rounded-full",children:s.jsx(el,{className:"h-6 w-6 text-white"})}),s.jsxs("div",{className:"flex-1",children:[s.jsx("h3",{className:"font-semibold text-blue-900 mb-1",children:" Forum de discussion"}),s.jsx("p",{className:"text-sm text-blue-700",children:"Posez vos questions, partagez vos ides et discutez avec les autres tudiants."})]}),s.jsx(Io,{className:"h-5 w-5 text-blue-600"})]})})}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[s.jsx(gD,{completed:l.summary.completed_videos,total:l.summary.total_videos,label:"Vidos termines",color:"blue"}),s.jsx(gD,{completed:l.summary.passed_tests,total:l.summary.total_tests,label:"Tests russis",color:"green"})]})]}),N.length===0?s.jsxs("div",{className:"bg-white rounded-lg shadow-sm border p-12 text-center",children:[s.jsx(ua,{className:"h-16 w-16 text-gray-400 mx-auto mb-4"}),s.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"Aucun contenu disponible"}),s.jsx("p",{className:"text-gray-500",children:"Cette formation n'a pas encore de contenu. Revenez plus tard."})]}):s.jsxs("div",{className:"bg-white rounded-lg shadow-sm border",children:[s.jsxs("div",{className:"p-6 border-b",children:[s.jsx("h2",{className:"text-xl font-bold text-gray-900",children:"Contenu de la formation"}),s.jsx("p",{className:"text-sm text-gray-600 mt-1",children:"Cliquez sur un module pour voir son contenu"})]}),s.jsx("div",{className:"divide-y",children:N.map((T,O)=>{const P=u.has(T.id),D=w(T,N),M=T.videos||[],B=T.tests||[],H=M.length>0||B.length>0;return s.jsxs("div",{children:[s.jsx("div",{className:`p-4 hover:bg-gray-50 transition-colors ${D?"cursor-pointer":"opacity-60"}`,onClick:()=>D&&H&&m(T.id),children:s.jsxs("div",{className:"flex items-center gap-3",children:[H?s.jsx("button",{className:"text-gray-400 hover:text-gray-600",children:P?s.jsx(Sd,{className:"h-5 w-5"}):s.jsx(Io,{className:"h-5 w-5"})}):s.jsx("div",{className:"w-5"}),v(T.module_type),s.jsxs("div",{className:"flex-1 min-w-0",children:[s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsxs("span",{className:"text-sm font-medium text-gray-500",children:["Module ",O+1]}),!D&&s.jsx($x,{className:"h-4 w-4 text-gray-400"})]}),s.jsx("h3",{className:"text-base font-semibold text-gray-900",children:T.title}),T.description&&s.jsx("p",{className:"text-sm text-gray-600 mt-1 line-clamp-2",children:T.description})]}),s.jsxs("div",{className:"text-sm text-gray-500",children:[M.length>0&&s.jsxs("span",{className:"mr-3",children:[M.length," vido(s)"]}),B.length>0&&s.jsxs("span",{children:[B.length," test(s)"]})]})]})}),P&&H&&s.jsxs("div",{className:"bg-gray-50 px-4 py-3 space-y-2",children:[M.map((L,U)=>{const G=g(L.id);return s.jsx("div",{className:`bg-white rounded-lg border p-3 hover:shadow-md transition-shadow cursor-pointer ${G?"border-green-300 bg-green-50":"border-purple-200"}`,onClick:()=>t(`/student/formations/${n.id}/videos/${L.id}`),children:s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx(Sc,{className:`h-5 w-5 flex-shrink-0 ${G?"text-green-600":"text-purple-600"}`}),s.jsxs("div",{className:"flex-1 min-w-0",children:[s.jsxs("p",{className:"text-sm font-medium text-gray-900",children:["Vido ",U+1,": ",L.title]}),L.duration_seconds&&s.jsxs("p",{className:"text-xs text-gray-500",children:["Dure: ",Math.floor(L.duration_seconds/60)," min"," ",L.duration_seconds%60," sec"]})]}),G?s.jsx(Xa,{className:"h-5 w-5 text-green-600 flex-shrink-0"}):s.jsx(Io,{className:"h-5 w-5 text-gray-400"})]})},L.id)}),B.map((L,U)=>{const G=x(L.id);return s.jsx("div",{className:`bg-white rounded-lg border p-3 hover:shadow-md transition-shadow cursor-pointer ${G?"border-green-300 bg-green-50":"border-orange-200"}`,onClick:()=>t(`/student/formations/${n.id}/tests/${L.id}`),children:s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx(sf,{className:`h-5 w-5 flex-shrink-0 ${G?"text-green-600":"text-orange-600"}`}),s.jsxs("div",{className:"flex-1 min-w-0",children:[s.jsxs("p",{className:"text-sm font-medium text-gray-900",children:["Test ",U+1,": ",L.title]}),s.jsxs("div",{className:"flex items-center gap-3 text-xs text-gray-500 mt-1",children:[L.questions&&s.jsxs("span",{children:[L.questions.length," question(s)"]}),L.time_limit_minutes&&s.jsxs("span",{children:[" ",L.time_limit_minutes," min"]}),s.jsxs("span",{children:["Score min: ",L.passing_score,"%"]})]})]}),G?s.jsx(Xa,{className:"h-5 w-5 text-green-600 flex-shrink-0"}):s.jsx(Io,{className:"h-5 w-5 text-gray-400"})]})},L.id)})]})]},T.id)})})]})]})})},a3e=()=>{const{id:e,videoId:t}=Ko(),r=Pn(),{data:n,isLoading:a,error:i}=cp(e),{data:l}=e3e(e),o=J_e(),u=n?.modules?.flatMap(j=>j.videos||[]).find(j=>j.id===t),f=n?.modules?.find(j=>j.videos?.some(T=>T.id===t)),h=[];n?.modules?.forEach(j=>{j.videos?.forEach(T=>{h.push({video:T,module:j})})});const m=h.findIndex(j=>j.video.id===t),g=m>0?h[m-1]:null,x=m<h.length-1?h[m+1]:null,b=j=>{if(!j)return null;const T=[/(?:youtube\.com\/watch\?v=)([^&]+)/,/(?:youtu\.be\/)([^?]+)/,/(?:youtube\.com\/embed\/)([^?]+)/];for(const O of T){const P=j.match(O);if(P)return P[1]}return null},v=u?.youtube_url?b(u.youtube_url):null,w=j=>{const T=Math.floor(j/60),O=j%60;return`${T}:${O.toString().padStart(2,"0")}`},N=l?.some(j=>j.video_id===t&&j.completed_at)||!1,E=async()=>{if(!(!t||N))try{await o.mutateAsync(t)}catch(j){console.error("Erreur lors du marquage de la vido:",j)}};return k.useEffect(()=>{t&&console.log("Vido en cours de visionnage:",t)},[t]),a?s.jsx(Aa,{title:"Chargement...",subtitle:"Chargement de la vido",children:s.jsx("div",{className:"flex justify-center items-center py-12",children:s.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-blue-600"})})}):i||!n||!u?s.jsx(Aa,{title:"Erreur",subtitle:"Vido introuvable",children:s.jsxs("div",{className:"bg-red-50 border border-red-200 rounded-lg p-6 text-center",children:[s.jsx("p",{className:"text-red-800 mb-4",children:i?.message||"Cette vido n'existe pas ou n'est pas disponible."}),s.jsxs(Ge,{onClick:()=>r(e?`/student/formations/${e}`:"/student/catalog"),variant:"outline",children:[s.jsx(Hn,{className:"h-4 w-4 mr-2"}),"Retour"]})]})}):s.jsx(Aa,{title:u.title,subtitle:n.title,children:s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs(Ge,{variant:"ghost",size:"sm",onClick:()=>r(`/student/formations/${e}`),children:[s.jsx(Hn,{className:"h-4 w-4 mr-2"}),"Retour  la formation"]}),N?s.jsxs("div",{className:"flex items-center gap-2 text-green-600 font-medium text-sm",children:[s.jsx(Xa,{className:"h-5 w-5"}),s.jsx("span",{children:"Vido termine"})]}):s.jsxs(Ge,{onClick:E,disabled:o.isPending,className:"bg-green-600 hover:bg-green-700",children:[s.jsx(Xa,{className:"h-4 w-4 mr-2"}),o.isPending?"Enregistrement...":"Marquer comme termin"]})]}),s.jsx("div",{className:"bg-white rounded-lg shadow-sm border overflow-hidden",children:v?s.jsx("div",{className:"relative",style:{paddingBottom:"56.25%"},children:s.jsx("iframe",{className:"absolute top-0 left-0 w-full h-full",src:`https://www.youtube.com/embed/${v}?rel=0`,title:u.title,allow:"accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture",allowFullScreen:!0})}):s.jsx("div",{className:"aspect-video bg-gray-900 flex items-center justify-center",children:s.jsxs("div",{className:"text-center text-white",children:[s.jsx(Sc,{className:"h-16 w-16 mx-auto mb-4 opacity-50"}),s.jsx("p",{className:"text-lg font-medium",children:"URL de vido non disponible"}),s.jsx("p",{className:"text-sm text-gray-400 mt-2",children:u.youtube_url||"Aucune URL configure"})]})})}),s.jsxs("div",{className:"bg-white rounded-lg shadow-sm border p-6",children:[s.jsxs("div",{className:"flex items-start justify-between mb-4",children:[s.jsxs("div",{className:"flex-1",children:[s.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[s.jsx(Sc,{className:"h-5 w-5 text-purple-600"}),s.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:u.title})]}),f&&s.jsxs("div",{className:"flex items-center gap-2 text-sm text-gray-600",children:[s.jsx(ua,{className:"h-4 w-4 text-gray-400"}),s.jsx("span",{children:f.title})]})]}),u.duration_seconds&&s.jsxs("div",{className:"flex items-center gap-2 text-sm text-gray-600 bg-gray-100 px-3 py-2 rounded-lg",children:[s.jsx(As,{className:"h-4 w-4 text-gray-400"}),s.jsx("span",{children:w(u.duration_seconds)})]})]}),u.description&&s.jsxs("div",{className:"border-t pt-4",children:[s.jsx("h3",{className:"text-sm font-semibold text-gray-900 mb-2",children:"Description"}),s.jsx("p",{className:"text-gray-600 whitespace-pre-wrap",children:u.description})]})]}),(g||x)&&s.jsxs("div",{className:"bg-white rounded-lg shadow-sm border p-6",children:[s.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Navigation"}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[g?s.jsxs("button",{onClick:()=>r(`/student/formations/${e}/videos/${g.video.id}`),className:"flex items-center gap-3 p-4 border border-gray-300 rounded-lg hover:bg-gray-50 hover:border-gray-400 transition-all text-left",children:[s.jsx(U_,{className:"h-5 w-5 text-gray-400 flex-shrink-0"}),s.jsxs("div",{className:"flex-1 min-w-0",children:[s.jsx("p",{className:"text-xs text-gray-500 mb-1",children:"Vido prcdente"}),s.jsx("p",{className:"text-sm font-medium text-gray-900 truncate",children:g.video.title}),s.jsx("p",{className:"text-xs text-gray-500 mt-1",children:g.module.title})]})]}):s.jsx("div",{className:"p-4 border border-gray-200 rounded-lg bg-gray-50 flex items-center justify-center",children:s.jsx("p",{className:"text-sm text-gray-400",children:"Premire vido"})}),x?s.jsxs("button",{onClick:()=>r(`/student/formations/${e}/videos/${x.video.id}`),className:"flex items-center gap-3 p-4 border border-gray-300 rounded-lg hover:bg-gray-50 hover:border-gray-400 transition-all text-left",children:[s.jsxs("div",{className:"flex-1 min-w-0",children:[s.jsx("p",{className:"text-xs text-gray-500 mb-1",children:"Vido suivante"}),s.jsx("p",{className:"text-sm font-medium text-gray-900 truncate",children:x.video.title}),s.jsx("p",{className:"text-xs text-gray-500 mt-1",children:x.module.title})]}),s.jsx(Io,{className:"h-5 w-5 text-gray-400 flex-shrink-0"})]}):s.jsx("div",{className:"p-4 border border-gray-200 rounded-lg bg-gray-50 flex items-center justify-center",children:s.jsx("p",{className:"text-sm text-gray-400",children:"Dernire vido"})})]})]}),s.jsxs("div",{className:"bg-white rounded-lg shadow-sm border p-6",children:[s.jsxs("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:["Toutes les vidos (",h.length,")"]}),s.jsx("div",{className:"space-y-2",children:h.map(({video:j,module:T},O)=>s.jsxs("button",{onClick:()=>r(`/student/formations/${e}/videos/${j.id}`),className:`w-full flex items-center gap-3 p-3 rounded-lg border transition-all text-left ${j.id===t?"bg-purple-50 border-purple-300 shadow-sm":"border-gray-200 hover:bg-gray-50 hover:border-gray-300"}`,children:[s.jsx("div",{className:`flex items-center justify-center w-8 h-8 rounded-full flex-shrink-0 ${j.id===t?"bg-purple-600 text-white":"bg-gray-100 text-gray-600"}`,children:j.id===t?s.jsx(Sc,{className:"h-4 w-4"}):s.jsx("span",{className:"text-sm font-medium",children:O+1})}),s.jsxs("div",{className:"flex-1 min-w-0",children:[s.jsx("p",{className:`text-sm font-medium truncate ${j.id===t?"text-purple-900":"text-gray-900"}`,children:j.title}),s.jsx("p",{className:"text-xs text-gray-500 mt-0.5",children:T.title})]}),j.duration_seconds&&s.jsxs("div",{className:"text-xs text-gray-500 flex items-center gap-1",children:[s.jsx(As,{className:"h-3 w-3"}),w(j.duration_seconds)]})]},j.id))})]})]})})},i3e=()=>{const{id:e,testId:t}=Ko(),r=Pn(),{data:n,isLoading:a,error:i}=cp(e),l=t3e(),[o,u]=k.useState({}),[f,h]=k.useState(!1),[m,g]=k.useState(null),[x]=k.useState(new Date),b=n?.modules?.flatMap(D=>D.tests||[]).find(D=>D.id===t),v=n?.modules?.find(D=>D.tests?.some(M=>M.id===t)),w=b?.questions||[];k.useEffect(()=>{if(b?.time_limit_minutes&&!f){g(b.time_limit_minutes*60);const D=setInterval(()=>{g(M=>M===null||M<=0?(clearInterval(D),f||E(),0):M-1)},1e3);return()=>clearInterval(D)}},[b,f]);const N=(D,M)=>{f||u(B=>({...B,[D]:M}))},E=async()=>{if(f||!t)return;const D=w.filter(U=>!o[U.id]).length;if(D>0&&!window.confirm(`${D} question(s) non rpondue(s). Voulez-vous vraiment soumettre le test ?`))return;h(!0);let M=0,B=0;w.forEach(U=>{M+=U.points;const G=o[U.id];G&&U.choices.find(de=>de.id===G)?.is_correct&&(B+=U.points)});const L=(M>0?B/M*100:0)>=(b?.passing_score||70);try{await l.mutateAsync({testId:t,data:{answers:o,score:B,total_points:M,passed:L}})}catch(U){console.error("Erreur lors de l'enregistrement de la tentative:",U)}},j=()=>{let D=0,M=0,B=0;w.forEach(U=>{M+=U.points;const G=o[U.id];G&&U.choices.find(de=>de.id===G)?.is_correct&&(D++,B+=U.points)});const H=w.length>0?D/w.length*100:0,L=M>0?B/M*100:0;return{correctCount:D,totalQuestions:w.length,percentage:Math.round(H),earnedPoints:B,totalPoints:M,pointsPercentage:Math.round(L),passed:L>=(b?.passing_score||70)}},T=D=>{const M=Math.floor(D/60),B=D%60;return`${M}:${B.toString().padStart(2,"0")}`},O=()=>{if(!f)return"";const M=Math.floor((new Date().getTime()-x.getTime())/1e3);return T(M)},P=f?j():null;return a?s.jsx(Aa,{title:"Chargement...",subtitle:"Chargement du test",children:s.jsx("div",{className:"flex justify-center items-center py-12",children:s.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-blue-600"})})}):i||!n||!b?s.jsx(Aa,{title:"Erreur",subtitle:"Test introuvable",children:s.jsxs("div",{className:"bg-red-50 border border-red-200 rounded-lg p-6 text-center",children:[s.jsx("p",{className:"text-red-800 mb-4",children:i?.message||"Ce test n'existe pas ou n'est pas disponible."}),s.jsxs(Ge,{onClick:()=>r(e?`/student/formations/${e}`:"/student/catalog"),variant:"outline",children:[s.jsx(Hn,{className:"h-4 w-4 mr-2"}),"Retour"]})]})}):s.jsx(Aa,{title:b.title,subtitle:n.title,children:s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{className:"bg-white rounded-lg shadow-sm border p-6",children:[s.jsxs("div",{className:"flex items-center justify-between mb-4",children:[s.jsxs(Ge,{variant:"ghost",size:"sm",onClick:()=>r(`/student/formations/${e}`),disabled:!f,children:[s.jsx(Hn,{className:"h-4 w-4 mr-2"}),"Retour  la formation"]}),!f&&m!==null&&s.jsxs("div",{className:`flex items-center gap-2 px-4 py-2 rounded-lg font-medium ${m<60?"bg-red-100 text-red-700":m<300?"bg-yellow-100 text-yellow-700":"bg-blue-100 text-blue-700"}`,children:[s.jsx(As,{className:"h-4 w-4"}),s.jsx("span",{children:T(m)})]})]}),s.jsxs("div",{className:"flex items-start gap-4",children:[s.jsx(sf,{className:"h-6 w-6 text-orange-600 flex-shrink-0 mt-1"}),s.jsxs("div",{className:"flex-1",children:[s.jsx("h1",{className:"text-2xl font-bold text-gray-900 mb-2",children:b.title}),v&&s.jsxs("div",{className:"flex items-center gap-2 text-sm text-gray-600 mb-3",children:[s.jsx(ua,{className:"h-4 w-4 text-gray-400"}),s.jsx("span",{children:v.title})]}),b.description&&s.jsx("p",{className:"text-gray-600 mb-3",children:b.description}),s.jsxs("div",{className:"flex flex-wrap gap-4 text-sm text-gray-600",children:[s.jsxs("div",{className:"flex items-center gap-1",children:[s.jsx(sf,{className:"h-4 w-4 text-gray-400"}),s.jsxs("span",{children:[w.length," questions"]})]}),b.time_limit_minutes&&s.jsxs("div",{className:"flex items-center gap-1",children:[s.jsx(As,{className:"h-4 w-4 text-gray-400"}),s.jsxs("span",{children:[b.time_limit_minutes," min"]})]}),s.jsxs("div",{className:"flex items-center gap-1",children:[s.jsx(oi,{className:"h-4 w-4 text-gray-400"}),s.jsxs("span",{children:["Score minimum: ",b.passing_score,"%"]})]})]})]})]})]}),f&&P&&s.jsxs("div",{className:`rounded-lg shadow-sm border p-6 ${P.passed?"bg-green-50 border-green-200":"bg-red-50 border-red-200"}`,children:[s.jsxs("div",{className:"flex items-center gap-3 mb-4",children:[P.passed?s.jsx(Xa,{className:"h-8 w-8 text-green-600"}):s.jsx(pf,{className:"h-8 w-8 text-red-600"}),s.jsxs("div",{children:[s.jsx("h2",{className:`text-xl font-bold ${P.passed?"text-green-900":"text-red-900"}`,children:P.passed?"Test russi !":"Test chou"}),s.jsxs("p",{className:P.passed?"text-green-700":"text-red-700",children:["Score: ",P.pointsPercentage,"% (",P.earnedPoints,"/",P.totalPoints," points)"]})]})]}),s.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4 mt-4",children:[s.jsxs("div",{className:"bg-white rounded-lg p-3 border border-gray-200",children:[s.jsx("p",{className:"text-xs text-gray-500 mb-1",children:"Bonnes rponses"}),s.jsxs("p",{className:"text-lg font-semibold text-gray-900",children:[P.correctCount,"/",P.totalQuestions]})]}),s.jsxs("div",{className:"bg-white rounded-lg p-3 border border-gray-200",children:[s.jsx("p",{className:"text-xs text-gray-500 mb-1",children:"Pourcentage"}),s.jsxs("p",{className:"text-lg font-semibold text-gray-900",children:[P.percentage,"%"]})]}),s.jsxs("div",{className:"bg-white rounded-lg p-3 border border-gray-200",children:[s.jsx("p",{className:"text-xs text-gray-500 mb-1",children:"Points obtenus"}),s.jsxs("p",{className:"text-lg font-semibold text-gray-900",children:[P.earnedPoints,"/",P.totalPoints]})]}),s.jsxs("div",{className:"bg-white rounded-lg p-3 border border-gray-200",children:[s.jsx("p",{className:"text-xs text-gray-500 mb-1",children:"Temps coul"}),s.jsx("p",{className:"text-lg font-semibold text-gray-900",children:O()})]})]})]}),w.length===0?s.jsxs("div",{className:"bg-white rounded-lg shadow-sm border p-12 text-center",children:[s.jsx(sf,{className:"h-16 w-16 text-gray-400 mx-auto mb-4"}),s.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"Aucune question"}),s.jsx("p",{className:"text-gray-500",children:"Ce test n'a pas encore de questions."})]}):s.jsx("div",{className:"space-y-6",children:w.map((D,M)=>{const B=o[D.id],L=D.choices.find(U=>U.id===B)?.is_correct||!1;return s.jsxs("div",{className:"bg-white rounded-lg shadow-sm border p-6",children:[s.jsxs("div",{className:"flex items-start gap-3 mb-4",children:[s.jsx("div",{className:`flex items-center justify-center w-8 h-8 rounded-full flex-shrink-0 ${f?L?"bg-green-100 text-green-700":B?"bg-red-100 text-red-700":"bg-gray-100 text-gray-700":"bg-blue-100 text-blue-700"}`,children:f?L?s.jsx(Xa,{className:"h-4 w-4"}):B?s.jsx(pf,{className:"h-4 w-4"}):s.jsx(tN,{className:"h-4 w-4"}):s.jsx("span",{className:"text-sm font-medium",children:M+1})}),s.jsxs("div",{className:"flex-1",children:[s.jsxs("div",{className:"flex items-center justify-between mb-2",children:[s.jsxs("h3",{className:"text-base font-semibold text-gray-900",children:["Question ",M+1]}),s.jsxs("span",{className:"text-sm text-gray-500",children:[D.points," pts"]})]}),s.jsx("p",{className:"text-gray-700",children:D.question_text})]})]}),s.jsx("div",{className:"space-y-2 ml-11",children:D.choices.map(U=>{const G=B===U.id,te=f&&U.is_correct,de=f&&G&&!U.is_correct;return s.jsxs("label",{className:`flex items-start gap-3 p-3 rounded-lg border transition-all cursor-pointer ${f?te?"bg-green-50 border-green-300":de?"bg-red-50 border-red-300":"border-gray-200 bg-gray-50":G?"bg-blue-50 border-blue-300":"border-gray-200 hover:bg-gray-50 hover:border-gray-300"} ${f?"cursor-default":""}`,children:[s.jsx("input",{type:"radio",name:`question-${D.id}`,value:U.id,checked:G,onChange:()=>N(D.id,U.id),disabled:f,className:"mt-1 h-4 w-4 text-blue-600 border-gray-300 focus:ring-blue-500"}),s.jsxs("div",{className:"flex-1",children:[s.jsx("p",{className:`text-sm ${te?"text-green-900 font-medium":de?"text-red-900":"text-gray-900"}`,children:U.choice_text}),f&&U.is_correct&&s.jsx("p",{className:"text-xs text-green-700 mt-1",children:" Bonne rponse"}),f&&de&&s.jsx("p",{className:"text-xs text-red-700 mt-1",children:" Mauvaise rponse"})]})]},U.id)})}),!f&&!B&&s.jsxs("div",{className:"mt-3 ml-11 text-sm text-amber-600 flex items-center gap-2",children:[s.jsx(tN,{className:"h-4 w-4"}),s.jsx("span",{children:"Question non rpondue"})]})]},D.id)})}),!f&&w.length>0&&s.jsx("div",{className:"bg-white rounded-lg shadow-sm border p-6",children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{className:"text-sm text-gray-600",children:[s.jsxs("p",{children:[Object.keys(o).length," / ",w.length," questions rpondues"]}),b.show_correct_answers&&s.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"Les rponses correctes seront affiches aprs la soumission"})]}),s.jsxs(Ge,{onClick:E,size:"lg",className:"min-w-[200px]",children:[s.jsx(Xa,{className:"h-5 w-5 mr-2"}),"Soumettre le test"]})]})})]})})},s3e=()=>{const{user:e}=Ai(),{data:t,isLoading:r,error:n}=wU(e?.id||null),a=async l=>{await NU(l)};if(r)return s.jsx(Aa,{title:"Mes Certificats",subtitle:"Consultez et tlchargez vos certificats",children:s.jsx("div",{className:"flex items-center justify-center h-64",children:s.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-600"})})});if(n)return s.jsx(Aa,{title:"Mes Certificats",subtitle:"Consultez et tlchargez vos certificats",children:s.jsx("div",{className:"bg-red-50 border border-red-200 rounded-lg p-4",children:s.jsx("p",{className:"text-red-800",children:"Erreur lors du chargement des certificats"})})});const i=t?.certificates||[];return s.jsx(Aa,{title:"Mes Certificats",subtitle:"Consultez et tlchargez vos certificats",children:s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[s.jsx("div",{className:"bg-gradient-to-br from-blue-500 to-blue-600 rounded-lg p-6 text-white",children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx("p",{className:"text-sm opacity-90",children:"Total Certificats"}),s.jsx("p",{className:"text-4xl font-bold mt-2",children:i.length})]}),s.jsx(oi,{className:"h-12 w-12 opacity-80"})]})}),s.jsx("div",{className:"bg-gradient-to-br from-green-500 to-green-600 rounded-lg p-6 text-white",children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx("p",{className:"text-sm opacity-90",children:"Formations Compltes"}),s.jsx("p",{className:"text-4xl font-bold mt-2",children:i.length})]}),s.jsx(Xa,{className:"h-12 w-12 opacity-80"})]})}),s.jsx("div",{className:"bg-gradient-to-br from-amber-500 to-amber-600 rounded-lg p-6 text-white",children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx("p",{className:"text-sm opacity-90",children:"Note Moyenne"}),s.jsxs("p",{className:"text-4xl font-bold mt-2",children:[i.length>0?(i.filter(l=>l.grade!==null).reduce((l,o)=>l+(o.grade||0),0)/i.filter(l=>l.grade!==null).length).toFixed(1):"0","%"]})]}),s.jsx(HV,{className:"h-12 w-12 opacity-80"})]})})]}),i.length===0?s.jsxs("div",{className:"bg-white rounded-lg shadow-sm border p-12 text-center",children:[s.jsx(Ux,{className:"h-16 w-16 text-gray-300 mx-auto mb-4"}),s.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"Aucun certificat disponible"}),s.jsx("p",{className:"text-gray-600",children:"Compltez vos formations pour obtenir vos certificats de russite !"})]}):s.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:i.map(l=>{const o=new Date(l.completion_date).toLocaleDateString("fr-FR",{day:"numeric",month:"long",year:"numeric"}),u=new Date(l.issued_at).toLocaleDateString("fr-FR");return s.jsxs("div",{className:"bg-white rounded-lg shadow-sm border hover:shadow-md transition-shadow overflow-hidden",children:[s.jsx("div",{className:"bg-gradient-to-r from-blue-600 to-purple-600 p-6 text-white",children:s.jsxs("div",{className:"flex items-start justify-between",children:[s.jsxs("div",{className:"flex-1",children:[s.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[s.jsx(oi,{className:"h-5 w-5"}),s.jsx("span",{className:"text-sm font-medium opacity-90",children:"Certificat de Russite"})]}),s.jsx("h3",{className:"text-xl font-bold mb-2",children:l.formation_title})]}),l.grade!==null&&l.grade!==void 0&&s.jsxs("div",{className:"bg-white/20 rounded-lg px-3 py-2 text-center backdrop-blur-sm",children:[s.jsxs("p",{className:"text-2xl font-bold",children:[l.grade,"%"]}),s.jsx("p",{className:"text-xs opacity-90",children:"Note"})]})]})}),s.jsxs("div",{className:"p-6 space-y-4",children:[s.jsxs("div",{className:"space-y-3",children:[s.jsxs("div",{className:"flex items-center gap-3 text-sm text-gray-600",children:[s.jsx(_i,{className:"h-4 w-4 text-blue-500"}),s.jsxs("span",{children:["Complt le ",o]})]}),s.jsxs("div",{className:"flex items-center gap-3 text-sm text-gray-600",children:[s.jsx(ua,{className:"h-4 w-4 text-green-500"}),s.jsxs("span",{children:["Dlivr le ",u]})]}),s.jsxs("div",{className:"flex items-center gap-3 text-sm text-gray-600",children:[s.jsx(Ux,{className:"h-4 w-4 text-purple-500"}),s.jsxs("span",{className:"font-mono text-xs",children:["N ",l.certificate_number]})]})]}),s.jsxs("button",{onClick:()=>a(l),className:"w-full flex items-center justify-center gap-2 px-4 py-3 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors font-medium",children:[s.jsx(Es,{className:"h-5 w-5"}),"Tlcharger le Certificat"]})]}),s.jsx("div",{className:"bg-green-50 border-t border-green-100 px-6 py-3",children:s.jsxs("div",{className:"flex items-center gap-2 text-green-700 text-sm font-medium",children:[s.jsx(Xa,{className:"h-4 w-4"}),"Formation complte avec succs"]})})]},l.id)})}),s.jsx("div",{className:"bg-blue-50 border border-blue-200 rounded-lg p-6",children:s.jsxs("div",{className:"flex items-start gap-4",children:[s.jsx("div",{className:"bg-blue-100 p-3 rounded-lg",children:s.jsx(oi,{className:"h-6 w-6 text-blue-600"})}),s.jsxs("div",{children:[s.jsx("h3",{className:"font-semibold text-blue-900 mb-2",children:" propos de vos certificats"}),s.jsxs("ul",{className:"text-sm text-blue-800 space-y-1",children:[s.jsx("li",{children:" Les certificats sont gnrs automatiquement aprs compltion d'une formation"}),s.jsx("li",{children:" Chaque certificat contient un numro unique pour vrification"}),s.jsx("li",{children:" Vous pouvez tlcharger vos certificats  tout moment"}),s.jsx("li",{children:" Les certificats sont au format PDF professionnel"})]})]})]})})]})})},l3e=()=>{const{formationId:e}=Ko(),t=Pn(),[r,n]=k.useState("recent"),{data:a,isLoading:i}=cp(e||void 0),{data:l,isLoading:o}=U_e(e||null,{sort:r,pinned:"true"}),u=a,f=l?.threads||[],h=m=>{const g=new Date(m),b=new Date().getTime()-g.getTime(),v=Math.floor(b/6e4),w=Math.floor(v/60),N=Math.floor(w/24);return v<1?" l'instant":v<60?`Il y a ${v} min`:w<24?`Il y a ${w}h`:N<7?`Il y a ${N}j`:g.toLocaleDateString("fr-FR",{day:"numeric",month:"short",year:"numeric"})};return i||o?s.jsx("div",{className:"flex items-center justify-center h-64",children:s.jsxs("div",{className:"text-center",children:[s.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-600 mx-auto"}),s.jsx("p",{className:"mt-4 text-gray-600",children:"Chargement du forum..."})]})}):u?s.jsxs("div",{className:"max-w-6xl mx-auto p-6",children:[s.jsx("div",{className:"mb-6",children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsxs("h1",{className:"text-3xl font-bold text-gray-900",children:["Forum - ",u.title]}),s.jsx("p",{className:"text-gray-600 mt-1",children:"Posez vos questions et discutez avec les autres tudiants"})]}),s.jsxs(Ge,{onClick:()=>t(`/student/forums/${e}/new`),className:"bg-gradient-to-r from-blue-600 to-blue-700 text-white",children:[s.jsx(Ya,{className:"h-4 w-4 mr-2"}),"Nouvelle discussion"]})]})}),s.jsx("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 p-4 mb-6",children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{className:"flex items-center gap-6 text-sm",children:[s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(el,{className:"h-4 w-4 text-blue-600"}),s.jsxs("span",{className:"text-gray-600",children:[s.jsx("span",{className:"font-semibold text-gray-900",children:f.length})," ","discussions"]})]}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(QD,{className:"h-4 w-4 text-green-600"}),s.jsxs("span",{className:"text-gray-600",children:[s.jsx("span",{className:"font-semibold text-gray-900",children:f.reduce((m,g)=>m+(g.post_count||0),0)})," ","rponses"]})]})]}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("span",{className:"text-sm text-gray-600",children:"Trier par:"}),s.jsxs("select",{value:r,onChange:m=>n(m.target.value),className:"text-sm border border-gray-300 rounded-md px-3 py-1.5 focus:outline-none focus:ring-2 focus:ring-blue-500",children:[s.jsx("option",{value:"recent",children:"Plus rcent"}),s.jsx("option",{value:"popular",children:"Plus populaire"}),s.jsx("option",{value:"active",children:"Plus actif"})]})]})]})}),f.length===0?s.jsxs("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 p-12 text-center",children:[s.jsx(el,{className:"h-16 w-16 text-gray-300 mx-auto mb-4"}),s.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-2",children:"Aucune discussion pour le moment"}),s.jsx("p",{className:"text-gray-600 mb-6",children:"Soyez le premier  poser une question ou partager une ide"}),s.jsxs(Ge,{onClick:()=>t(`/student/forums/${e}/new`),className:"bg-gradient-to-r from-blue-600 to-blue-700 text-white",children:[s.jsx(Ya,{className:"h-4 w-4 mr-2"}),"Crer une discussion"]})]}):s.jsx("div",{className:"space-y-3",children:f.map(m=>s.jsx("div",{onClick:()=>t(`/student/forums/thread/${m.id}`),className:"bg-white rounded-lg shadow-sm border border-gray-200 p-5 hover:border-blue-300 hover:shadow-md transition-all cursor-pointer",children:s.jsxs("div",{className:"flex items-start gap-4",children:[s.jsx("div",{className:"flex-shrink-0",children:s.jsx("div",{className:"w-12 h-12 rounded-full bg-gradient-to-br from-blue-500 to-purple-600 flex items-center justify-center",children:s.jsx(el,{className:"h-6 w-6 text-white"})})}),s.jsx("div",{className:"flex-1 min-w-0",children:s.jsxs("div",{className:"flex items-start justify-between gap-4",children:[s.jsxs("div",{className:"flex-1",children:[s.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[m.is_pinned&&s.jsx(V_,{className:"h-4 w-4 text-yellow-600 flex-shrink-0"}),m.is_locked&&s.jsx($x,{className:"h-4 w-4 text-gray-500 flex-shrink-0"}),s.jsx("h3",{className:"text-lg font-semibold text-gray-900 hover:text-blue-600",children:m.title})]}),m.content&&s.jsx("p",{className:"text-sm text-gray-600 line-clamp-2 mb-3",children:m.content}),s.jsxs("div",{className:"flex items-center gap-4 text-xs text-gray-500",children:[s.jsxs("span",{children:["Par ",m.author_name]}),s.jsxs("span",{className:"flex items-center gap-1",children:[s.jsx(As,{className:"h-3 w-3"}),h(m.created_at)]}),m.last_post_at&&s.jsxs("span",{children:["Dernire rponse: ",h(m.last_post_at)]})]})]}),s.jsxs("div",{className:"flex items-center gap-4 text-sm",children:[s.jsxs("div",{className:"text-center",children:[s.jsxs("div",{className:"flex items-center gap-1 text-gray-600",children:[s.jsx(Ds,{className:"h-4 w-4"}),s.jsx("span",{className:"font-semibold",children:m.view_count})]}),s.jsx("div",{className:"text-xs text-gray-500",children:"vues"})]}),s.jsxs("div",{className:"text-center",children:[s.jsxs("div",{className:"flex items-center gap-1 text-blue-600",children:[s.jsx(el,{className:"h-4 w-4"}),s.jsx("span",{className:"font-semibold",children:m.post_count||0})]}),s.jsx("div",{className:"text-xs text-gray-500",children:"rponses"})]})]})]})})]})},m.id))}),r==="popular"&&f.length>0&&s.jsx("div",{className:"mt-6 bg-gradient-to-r from-yellow-50 to-orange-50 border border-yellow-200 rounded-lg p-4",children:s.jsxs("div",{className:"flex items-center gap-2 text-yellow-800",children:[s.jsx(V0,{className:"h-5 w-5"}),s.jsx("span",{className:"font-semibold",children:"Discussions les plus populaires en ce moment"})]})})]}):s.jsx("div",{className:"text-center py-12",children:s.jsx("p",{className:"text-gray-600",children:"Formation non trouve"})})},o3e=()=>{const{threadId:e}=Ko(),t=Pn(),{user:r}=Ai(),[n,a]=k.useState(""),{data:i,isLoading:l}=z_e(e||null),{data:o,isLoading:u}=H_e(e||null),f=$_e(),h=V_e(),m=K_e(),g=G_e(),x=W_e(),b=i?.thread,v=o?.posts||[];k.useEffect(()=>{e&&f.mutate(e)},[e]);const w=async()=>{if(!(!n.trim()||!e||!r))try{await h.mutateAsync({threadId:e,data:{author_id:r.id,content:n.trim()}}),a("")}catch(O){console.error("Error posting reply:",O),alert("Erreur lors de l'envoi de la rponse")}},N=async(O,P,D)=>{if(r)try{D||await m.mutateAsync({postId:O,data:{user_id:r.id,reaction_type:P}})}catch(M){console.error("Error toggling reaction:",M)}},E=async O=>{if(r&&confirm("tes-vous sr de vouloir supprimer cette rponse ?"))try{await x.mutateAsync({postId:O,userId:r.id,isAdmin:r.role==="admin"})}catch(P){console.error("Error deleting post:",P),alert("Erreur lors de la suppression")}},j=(O,P)=>{if(!O.reactions)return 0;const D=O.reactions.find(M=>M.reaction_type===P);return D?D.count:0},T=O=>new Date(O).toLocaleDateString("fr-FR",{day:"numeric",month:"long",year:"numeric",hour:"2-digit",minute:"2-digit"});return l||u?s.jsx("div",{className:"flex items-center justify-center h-64",children:s.jsxs("div",{className:"text-center",children:[s.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-600 mx-auto"}),s.jsx("p",{className:"mt-4 text-gray-600",children:"Chargement de la discussion..."})]})}):b?s.jsxs("div",{className:"max-w-5xl mx-auto p-6",children:[s.jsxs(Ge,{onClick:()=>t(`/student/forums/${b.formation_id}`),variant:"ghost",className:"mb-4",children:[s.jsx(Hn,{className:"h-4 w-4 mr-2"}),"Retour au forum"]}),s.jsx("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 p-6 mb-6",children:s.jsxs("div",{className:"flex items-start gap-4",children:[s.jsx("div",{className:"w-16 h-16 rounded-full bg-gradient-to-br from-blue-500 to-purple-600 flex items-center justify-center flex-shrink-0",children:s.jsx(el,{className:"h-8 w-8 text-white"})}),s.jsxs("div",{className:"flex-1",children:[s.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[b.is_pinned&&s.jsx(V_,{className:"h-5 w-5 text-yellow-600"}),b.is_locked&&s.jsx($x,{className:"h-5 w-5 text-gray-500"}),s.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:b.title})]}),b.content&&s.jsx("p",{className:"text-gray-700 mb-4 whitespace-pre-wrap",children:b.content}),s.jsxs("div",{className:"flex items-center gap-4 text-sm text-gray-600",children:[s.jsx("span",{className:"font-medium",children:b.author_name}),s.jsxs("span",{className:"flex items-center gap-1",children:[s.jsx(As,{className:"h-4 w-4"}),T(b.created_at)]}),s.jsxs("span",{className:"flex items-center gap-1",children:[s.jsx(Ds,{className:"h-4 w-4"}),b.view_count," vues"]}),s.jsxs("span",{className:"flex items-center gap-1",children:[s.jsx(el,{className:"h-4 w-4"}),b.post_count||0," rponses"]})]})]})]})}),s.jsx("div",{className:"space-y-4 mb-6",children:v.map(O=>{const P=r?.id===O.author_id,D=r?.role==="admin",M=P||D;return s.jsx("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 p-5",children:s.jsxs("div",{className:"flex items-start gap-4",children:[s.jsx("div",{className:"w-12 h-12 rounded-full bg-gradient-to-br from-green-500 to-teal-600 flex items-center justify-center flex-shrink-0",children:s.jsx("span",{className:"text-white font-semibold text-sm",children:O.author_name?.charAt(0).toUpperCase()})}),s.jsxs("div",{className:"flex-1",children:[s.jsxs("div",{className:"flex items-center justify-between mb-2",children:[s.jsxs("div",{children:[s.jsx("span",{className:"font-semibold text-gray-900",children:O.author_name}),O.author_role==="admin"&&s.jsx("span",{className:"ml-2 px-2 py-0.5 bg-red-100 text-red-700 text-xs font-medium rounded",children:"Admin"}),O.author_role==="gerant"&&s.jsx("span",{className:"ml-2 px-2 py-0.5 bg-blue-100 text-blue-700 text-xs font-medium rounded",children:"Formateur"}),s.jsx("span",{className:"ml-3 text-sm text-gray-500",children:T(O.created_at)}),O.is_edited&&s.jsx("span",{className:"ml-2 text-xs text-gray-400",children:"(modifi)"})]}),M&&s.jsx("button",{onClick:()=>E(O.id),className:"text-red-600 hover:text-red-700 p-1",children:s.jsx(Fn,{className:"h-4 w-4"})})]}),s.jsx("p",{className:"text-gray-700 mb-3 whitespace-pre-wrap",children:O.content}),s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsxs("button",{onClick:()=>N(O.id,"like",!1),className:"flex items-center gap-1 text-sm text-gray-600 hover:text-blue-600 transition-colors",children:[s.jsx(XV,{className:"h-4 w-4"}),s.jsx("span",{children:j(O,"like")})]}),s.jsxs("button",{onClick:()=>N(O.id,"helpful",!1),className:"flex items-center gap-1 text-sm text-gray-600 hover:text-green-600 transition-colors",children:[s.jsx(el,{className:"h-4 w-4"}),s.jsx("span",{children:j(O,"helpful")})]}),s.jsxs("button",{onClick:()=>N(O.id,"insightful",!1),className:"flex items-center gap-1 text-sm text-gray-600 hover:text-purple-600 transition-colors",children:[s.jsx(mV,{className:"h-4 w-4"}),s.jsx("span",{children:j(O,"insightful")})]})]})]})]})},O.id)})}),b.is_locked?s.jsxs("div",{className:"bg-yellow-50 border border-yellow-200 rounded-lg p-4 text-center",children:[s.jsx($x,{className:"h-8 w-8 text-yellow-600 mx-auto mb-2"}),s.jsx("p",{className:"text-yellow-800 font-medium",children:"Cette discussion est verrouille. Vous ne pouvez plus y rpondre."})]}):s.jsxs("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 p-5",children:[s.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-3",children:"Votre rponse"}),s.jsx("textarea",{value:n,onChange:O=>a(O.target.value),placeholder:"crivez votre rponse ici...",rows:4,className:"w-full border border-gray-300 rounded-lg p-3 focus:outline-none focus:ring-2 focus:ring-blue-500 resize-none"}),s.jsxs("div",{className:"flex items-center justify-between mt-3",children:[s.jsx("p",{className:"text-sm text-gray-500",children:"Soyez respectueux et constructif dans vos rponses"}),s.jsx(Ge,{onClick:w,disabled:!n.trim()||h.isPending,className:"bg-gradient-to-r from-blue-600 to-blue-700 text-white",children:h.isPending?"Envoi...":s.jsxs(s.Fragment,{children:[s.jsx(Cm,{className:"h-4 w-4 mr-2"}),"Envoyer"]})})]})]})]}):s.jsx("div",{className:"text-center py-12",children:s.jsx("p",{className:"text-gray-600",children:"Discussion non trouve"})})},c3e=()=>{const{formationId:e}=Ko(),t=Pn(),{user:r}=Ai(),[n,a]=k.useState(""),[i,l]=k.useState(""),[o,u]=k.useState(""),{data:f}=cp(e||void 0),h=q_e(),m=f,g=async x=>{if(x.preventDefault(),u(""),!n.trim()){u("Le titre est requis");return}if(!e||!r){u("Erreur: Formation ou utilisateur non trouv");return}try{const b=await h.mutateAsync({formationId:e,data:{author_id:r.id,title:n.trim(),content:i.trim()||void 0}});t(`/student/forums/thread/${b.thread.id}`)}catch(b){console.error("Error creating thread:",b),u("Erreur lors de la cration de la discussion")}};return s.jsxs("div",{className:"max-w-4xl mx-auto p-6",children:[s.jsxs(Ge,{onClick:()=>t(`/student/forums/${e}`),variant:"ghost",className:"mb-4",children:[s.jsx(Hn,{className:"h-4 w-4 mr-2"}),"Retour au forum"]}),s.jsxs("div",{className:"bg-gradient-to-r from-blue-600 to-purple-600 rounded-lg p-6 mb-6 text-white",children:[s.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[s.jsx(el,{className:"h-8 w-8"}),s.jsx("h1",{className:"text-3xl font-bold",children:"Nouvelle discussion"})]}),s.jsxs("p",{className:"text-blue-100",children:["Formation: ",m?.title||"Chargement..."]})]}),s.jsxs("div",{className:"bg-blue-50 border border-blue-200 rounded-lg p-4 mb-6",children:[s.jsx("h3",{className:"font-semibold text-blue-900 mb-2",children:"Conseils pour crer une bonne discussion"}),s.jsxs("ul",{className:"text-sm text-blue-800 space-y-1",children:[s.jsx("li",{children:" Choisissez un titre clair et descriptif"}),s.jsx("li",{children:" Expliquez votre question ou sujet en dtail"}),s.jsx("li",{children:" Soyez respectueux et constructif"}),s.jsx("li",{children:" Vrifiez qu'une discussion similaire n'existe pas dj"})]})]}),o&&s.jsx("div",{className:"bg-red-50 border border-red-200 rounded-lg p-4 mb-6",children:s.jsxs("div",{className:"flex items-center gap-2 text-red-800",children:[s.jsx(en,{className:"h-5 w-5"}),s.jsx("span",{children:o})]})}),s.jsxs("form",{onSubmit:g,className:"space-y-6",children:[s.jsxs("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 p-6",children:[s.jsx("label",{htmlFor:"title",className:"block text-sm font-semibold text-gray-900 mb-2",children:"Titre de la discussion *"}),s.jsx("input",{type:"text",id:"title",value:n,onChange:x=>a(x.target.value),placeholder:"Ex: Comment configurer l'environnement de dveloppement ?",className:"w-full border border-gray-300 rounded-lg px-4 py-2.5 focus:outline-none focus:ring-2 focus:ring-blue-500",maxLength:200}),s.jsxs("p",{className:"mt-2 text-sm text-gray-500",children:[n.length,"/200 caractres"]})]}),s.jsxs("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 p-6",children:[s.jsx("label",{htmlFor:"content",className:"block text-sm font-semibold text-gray-900 mb-2",children:"Description (optionnelle)"}),s.jsx("textarea",{id:"content",value:i,onChange:x=>l(x.target.value),placeholder:"Dcrivez votre question ou sujet en dtail...",rows:10,className:"w-full border border-gray-300 rounded-lg px-4 py-3 focus:outline-none focus:ring-2 focus:ring-blue-500 resize-none",maxLength:5e3}),s.jsxs("p",{className:"mt-2 text-sm text-gray-500",children:[i.length,"/5000 caractres"]})]}),s.jsxs("div",{className:"flex items-center justify-end gap-3",children:[s.jsx(Ge,{type:"button",onClick:()=>t(`/student/forums/${e}`),variant:"outline",children:"Annuler"}),s.jsx(Ge,{type:"submit",disabled:!n.trim()||h.isPending,className:"bg-gradient-to-r from-blue-600 to-blue-700 text-white",children:h.isPending?"Cration...":s.jsxs(s.Fragment,{children:[s.jsx(el,{className:"h-4 w-4 mr-2"}),"Crer la discussion"]})})]})]}),s.jsx("div",{className:"mt-6 bg-gray-50 border border-gray-200 rounded-lg p-4",children:s.jsxs("p",{className:"text-sm text-gray-600",children:[" ",s.jsx("strong",{children:"Note:"})," Votre discussion sera visible par tous les tudiants de cette formation. Vous pourrez la modifier ou la supprimer aprs sa cration."]})})]})},an=({children:e,adminOnly:t=!1,gerantOnly:r=!1})=>{const{isAuthenticated:n,isAdmin:a,isGerant:i}=Ai();return n?t&&!a?s.jsx(Em,{to:"/dashboard",replace:!0}):r&&!i?s.jsx(Em,{to:"/dashboard",replace:!0}):s.jsx(s.Fragment,{children:e}):s.jsx(Em,{to:"/login",replace:!0})},u3e=({children:e})=>{const{isAuthenticated:t}=Ai();return t?s.jsx(Em,{to:"/dashboard",replace:!0}):s.jsx(s.Fragment,{children:e})},f3e=()=>{const{isLoading:e}=Ai();return e?s.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gray-50",children:s.jsxs("div",{className:"text-center",children:[s.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-600 mx-auto mb-4"}),s.jsx("p",{className:"text-gray-600",children:"Chargement..."})]})}):s.jsxs(m$,{children:[s.jsx(Br,{path:"/login",element:s.jsx(u3e,{children:s.jsx(uW,{})})}),s.jsx(Br,{path:"/dashboard",element:s.jsx(an,{children:s.jsx(xW,{})})}),s.jsx(Br,{path:"/admin/segments",element:s.jsx(an,{adminOnly:!0,children:s.jsx(Dae,{})})}),s.jsx(Br,{path:"/admin/cities",element:s.jsx(an,{adminOnly:!0,children:s.jsx(Pae,{})})}),s.jsx(Br,{path:"/admin/users",element:s.jsx(an,{adminOnly:!0,children:s.jsx(Hae,{})})}),s.jsx(Br,{path:"/admin/calculation-sheets",element:s.jsx(an,{adminOnly:!0,children:s.jsx(sie,{})})}),s.jsx(Br,{path:"/admin/calculation-sheets/:id",element:s.jsx(an,{adminOnly:!0,children:s.jsx(iie,{})})}),s.jsx(Br,{path:"/admin/calculation-sheets/:id/editor",element:s.jsx(an,{adminOnly:!0,children:s.jsx(cie,{})})}),s.jsx(Br,{path:"/admin/declarations",element:s.jsx(an,{adminOnly:!0,children:s.jsx(gie,{})})}),s.jsx(Br,{path:"/admin/declarations/:id",element:s.jsx(an,{adminOnly:!0,children:s.jsx(Aie,{})})}),s.jsx(Br,{path:"/admin/create-declaration",element:s.jsx(an,{adminOnly:!0,children:s.jsx(Vk,{})})}),s.jsx(Br,{path:"/admin/formations-management",element:s.jsx(an,{adminOnly:!0,children:s.jsx(Cse,{})})}),s.jsx(Br,{path:"/admin/formations/sessions",element:s.jsx(an,{adminOnly:!0,children:s.jsx(Yie,{})})}),s.jsx(Br,{path:"/admin/formations/cours/:id/editor",element:s.jsx(an,{adminOnly:!0,children:s.jsx(hse,{})})}),s.jsx(Br,{path:"/admin/analytics",element:s.jsx(an,{adminOnly:!0,children:s.jsx(f_e,{})})}),s.jsx(Br,{path:"/admin/student-reports",element:s.jsx(an,{adminOnly:!0,children:s.jsx(d_e,{})})}),s.jsx(Br,{path:"/admin/certificates",element:s.jsx(an,{adminOnly:!0,children:s.jsx(g_e,{})})}),s.jsx(Br,{path:"/admin/certificate-templates",element:s.jsx(an,{adminOnly:!0,children:s.jsx(C_e,{})})}),s.jsx(Br,{path:"/admin/certificate-templates/:id/canvas-edit",element:s.jsx(an,{adminOnly:!0,children:s.jsx(B_e,{})})}),s.jsx(Br,{path:"/admin/forums",element:s.jsx(an,{adminOnly:!0,children:s.jsx(X_e,{})})}),s.jsx(Br,{path:"/professor/declarations",element:s.jsx(an,{children:s.jsx(Cie,{})})}),s.jsx(Br,{path:"/professor/declarations/:id/fill",element:s.jsx(an,{children:s.jsx(Tie,{})})}),s.jsx(Br,{path:"/student/dashboard",element:s.jsx(an,{children:s.jsx(Q_e,{})})}),s.jsx(Br,{path:"/student/catalog",element:s.jsx(an,{children:s.jsx(Z_e,{})})}),s.jsx(Br,{path:"/student/formations/:id",element:s.jsx(an,{children:s.jsx(n3e,{})})}),s.jsx(Br,{path:"/student/formations/:id/videos/:videoId",element:s.jsx(an,{children:s.jsx(a3e,{})})}),s.jsx(Br,{path:"/student/formations/:id/tests/:testId",element:s.jsx(an,{children:s.jsx(i3e,{})})}),s.jsx(Br,{path:"/student/certificates",element:s.jsx(an,{children:s.jsx(s3e,{})})}),s.jsx(Br,{path:"/student/forums/:formationId",element:s.jsx(an,{children:s.jsx(l3e,{})})}),s.jsx(Br,{path:"/student/forums/:formationId/new",element:s.jsx(an,{children:s.jsx(c3e,{})})}),s.jsx(Br,{path:"/student/forums/thread/:threadId",element:s.jsx(an,{children:s.jsx(o3e,{})})}),s.jsx(Br,{path:"/gerant/declarations",element:s.jsx(an,{gerantOnly:!0,children:s.jsx(Rie,{})})}),s.jsx(Br,{path:"/gerant/create-declaration",element:s.jsx(an,{gerantOnly:!0,children:s.jsx(Vk,{})})}),s.jsx(Br,{path:"/",element:s.jsx(Em,{to:"/login",replace:!0})}),s.jsx(Br,{path:"*",element:s.jsx(Em,{to:"/login",replace:!0})})]})},d3e=()=>s.jsx(I$,{children:s.jsx(Q$,{children:s.jsx(f3e,{})})}),h3e=new cq({defaultOptions:{queries:{refetchOnWindowFocus:!1,retry:1,staleTime:300*1e3}}});Uz.createRoot(document.getElementById("root")).render(s.jsx(k.StrictMode,{children:s.jsxs(uq,{client:h3e,children:[s.jsx(d3e,{}),s.jsx(jq,{initialIsOpen:!1})]})}));export{Nn as _,m3e as c,_f as g};
