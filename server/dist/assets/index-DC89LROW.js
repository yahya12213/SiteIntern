function Az(e,t){for(var r=0;r<t.length;r++){const n=t[r];if(typeof n!="string"&&!Array.isArray(n)){for(const a in n)if(a!=="default"&&!(a in e)){const i=Object.getOwnPropertyDescriptor(n,a);i&&Object.defineProperty(e,a,i.get?i:{enumerable:!0,get:()=>n[a]})}}}return Object.freeze(Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}))}(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const a of document.querySelectorAll('link[rel="modulepreload"]'))n(a);new MutationObserver(a=>{for(const i of a)if(i.type==="childList")for(const l of i.addedNodes)l.tagName==="LINK"&&l.rel==="modulepreload"&&n(l)}).observe(document,{childList:!0,subtree:!0});function r(a){const i={};return a.integrity&&(i.integrity=a.integrity),a.referrerPolicy&&(i.referrerPolicy=a.referrerPolicy),a.crossOrigin==="use-credentials"?i.credentials="include":a.crossOrigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function n(a){if(a.ep)return;a.ep=!0;const i=r(a);fetch(a.href,i)}})();var kNe=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function yf(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}var fw={exports:{}},ex={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var tE;function Ez(){if(tE)return ex;tE=1;var e=Symbol.for("react.transitional.element"),t=Symbol.for("react.fragment");function r(n,a,i){var l=null;if(i!==void 0&&(l=""+i),a.key!==void 0&&(l=""+a.key),"key"in a){i={};for(var o in a)o!=="key"&&(i[o]=a[o])}else i=a;return a=i.ref,{$$typeof:e,type:n,key:l,ref:a!==void 0?a:null,props:i}}return ex.Fragment=t,ex.jsx=r,ex.jsxs=r,ex}var rE;function kz(){return rE||(rE=1,fw.exports=Ez()),fw.exports}var s=kz(),dw={exports:{}},vr={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var nE;function Cz(){if(nE)return vr;nE=1;var e=Symbol.for("react.transitional.element"),t=Symbol.for("react.portal"),r=Symbol.for("react.fragment"),n=Symbol.for("react.strict_mode"),a=Symbol.for("react.profiler"),i=Symbol.for("react.consumer"),l=Symbol.for("react.context"),o=Symbol.for("react.forward_ref"),f=Symbol.for("react.suspense"),u=Symbol.for("react.memo"),h=Symbol.for("react.lazy"),p=Symbol.for("react.activity"),g=Symbol.iterator;function x(te){return te===null||typeof te!="object"?null:(te=g&&te[g]||te["@@iterator"],typeof te=="function"?te:null)}var b={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},y=Object.assign,w={};function _(te,F,M){this.props=te,this.context=F,this.refs=w,this.updater=M||b}_.prototype.isReactComponent={},_.prototype.setState=function(te,F){if(typeof te!="object"&&typeof te!="function"&&te!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,te,F,"setState")},_.prototype.forceUpdate=function(te){this.updater.enqueueForceUpdate(this,te,"forceUpdate")};function E(){}E.prototype=_.prototype;function A(te,F,M){this.props=te,this.context=F,this.refs=w,this.updater=M||b}var O=A.prototype=new E;O.constructor=A,y(O,_.prototype),O.isPureReactComponent=!0;var D=Array.isArray;function R(){}var P={H:null,A:null,T:null,S:null},T=Object.prototype.hasOwnProperty;function B(te,F,M){var q=M.ref;return{$$typeof:e,type:te,key:F,ref:q!==void 0?q:null,props:M}}function G(te,F){return B(te.type,F,te.props)}function I(te){return typeof te=="object"&&te!==null&&te.$$typeof===e}function z(te){var F={"=":"=0",":":"=2"};return"$"+te.replace(/[=:]/g,function(M){return F[M]})}var K=/\/+/g;function J(te,F){return typeof te=="object"&&te!==null&&te.key!=null?z(""+te.key):F.toString(36)}function pe(te){switch(te.status){case"fulfilled":return te.value;case"rejected":throw te.reason;default:switch(typeof te.status=="string"?te.then(R,R):(te.status="pending",te.then(function(F){te.status==="pending"&&(te.status="fulfilled",te.value=F)},function(F){te.status==="pending"&&(te.status="rejected",te.reason=F)})),te.status){case"fulfilled":return te.value;case"rejected":throw te.reason}}throw te}function ne(te,F,M,q,W){var Z=typeof te;(Z==="undefined"||Z==="boolean")&&(te=null);var oe=!1;if(te===null)oe=!0;else switch(Z){case"bigint":case"string":case"number":oe=!0;break;case"object":switch(te.$$typeof){case e:case t:oe=!0;break;case h:return oe=te._init,ne(oe(te._payload),F,M,q,W)}}if(oe)return W=W(te),oe=q===""?"."+J(te,0):q,D(W)?(M="",oe!=null&&(M=oe.replace(K,"$&/")+"/"),ne(W,F,M,"",function(Se){return Se})):W!=null&&(I(W)&&(W=G(W,M+(W.key==null||te&&te.key===W.key?"":(""+W.key).replace(K,"$&/")+"/")+oe)),F.push(W)),1;oe=0;var ce=q===""?".":q+":";if(D(te))for(var ae=0;ae<te.length;ae++)q=te[ae],Z=ce+J(q,ae),oe+=ne(q,F,M,Z,W);else if(ae=x(te),typeof ae=="function")for(te=ae.call(te),ae=0;!(q=te.next()).done;)q=q.value,Z=ce+J(q,ae++),oe+=ne(q,F,M,Z,W);else if(Z==="object"){if(typeof te.then=="function")return ne(pe(te),F,M,q,W);throw F=String(te),Error("Objects are not valid as a React child (found: "+(F==="[object Object]"?"object with keys {"+Object.keys(te).join(", ")+"}":F)+"). If you meant to render a collection of children, use an array instead.")}return oe}function le(te,F,M){if(te==null)return te;var q=[],W=0;return ne(te,q,"","",function(Z){return F.call(M,Z,W++)}),q}function ve(te){if(te._status===-1){var F=te._result;F=F(),F.then(function(M){(te._status===0||te._status===-1)&&(te._status=1,te._result=M)},function(M){(te._status===0||te._status===-1)&&(te._status=2,te._result=M)}),te._status===-1&&(te._status=0,te._result=F)}if(te._status===1)return te._result.default;throw te._result}var ue=typeof reportError=="function"?reportError:function(te){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var F=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof te=="object"&&te!==null&&typeof te.message=="string"?String(te.message):String(te),error:te});if(!window.dispatchEvent(F))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",te);return}console.error(te)},je={map:le,forEach:function(te,F,M){le(te,function(){F.apply(this,arguments)},M)},count:function(te){var F=0;return le(te,function(){F++}),F},toArray:function(te){return le(te,function(F){return F})||[]},only:function(te){if(!I(te))throw Error("React.Children.only expected to receive a single React element child.");return te}};return vr.Activity=p,vr.Children=je,vr.Component=_,vr.Fragment=r,vr.Profiler=a,vr.PureComponent=A,vr.StrictMode=n,vr.Suspense=f,vr.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=P,vr.__COMPILER_RUNTIME={__proto__:null,c:function(te){return P.H.useMemoCache(te)}},vr.cache=function(te){return function(){return te.apply(null,arguments)}},vr.cacheSignal=function(){return null},vr.cloneElement=function(te,F,M){if(te==null)throw Error("The argument must be a React element, but you passed "+te+".");var q=y({},te.props),W=te.key;if(F!=null)for(Z in F.key!==void 0&&(W=""+F.key),F)!T.call(F,Z)||Z==="key"||Z==="__self"||Z==="__source"||Z==="ref"&&F.ref===void 0||(q[Z]=F[Z]);var Z=arguments.length-2;if(Z===1)q.children=M;else if(1<Z){for(var oe=Array(Z),ce=0;ce<Z;ce++)oe[ce]=arguments[ce+2];q.children=oe}return B(te.type,W,q)},vr.createContext=function(te){return te={$$typeof:l,_currentValue:te,_currentValue2:te,_threadCount:0,Provider:null,Consumer:null},te.Provider=te,te.Consumer={$$typeof:i,_context:te},te},vr.createElement=function(te,F,M){var q,W={},Z=null;if(F!=null)for(q in F.key!==void 0&&(Z=""+F.key),F)T.call(F,q)&&q!=="key"&&q!=="__self"&&q!=="__source"&&(W[q]=F[q]);var oe=arguments.length-2;if(oe===1)W.children=M;else if(1<oe){for(var ce=Array(oe),ae=0;ae<oe;ae++)ce[ae]=arguments[ae+2];W.children=ce}if(te&&te.defaultProps)for(q in oe=te.defaultProps,oe)W[q]===void 0&&(W[q]=oe[q]);return B(te,Z,W)},vr.createRef=function(){return{current:null}},vr.forwardRef=function(te){return{$$typeof:o,render:te}},vr.isValidElement=I,vr.lazy=function(te){return{$$typeof:h,_payload:{_status:-1,_result:te},_init:ve}},vr.memo=function(te,F){return{$$typeof:u,type:te,compare:F===void 0?null:F}},vr.startTransition=function(te){var F=P.T,M={};P.T=M;try{var q=te(),W=P.S;W!==null&&W(M,q),typeof q=="object"&&q!==null&&typeof q.then=="function"&&q.then(R,ue)}catch(Z){ue(Z)}finally{F!==null&&M.types!==null&&(F.types=M.types),P.T=F}},vr.unstable_useCacheRefresh=function(){return P.H.useCacheRefresh()},vr.use=function(te){return P.H.use(te)},vr.useActionState=function(te,F,M){return P.H.useActionState(te,F,M)},vr.useCallback=function(te,F){return P.H.useCallback(te,F)},vr.useContext=function(te){return P.H.useContext(te)},vr.useDebugValue=function(){},vr.useDeferredValue=function(te,F){return P.H.useDeferredValue(te,F)},vr.useEffect=function(te,F){return P.H.useEffect(te,F)},vr.useEffectEvent=function(te){return P.H.useEffectEvent(te)},vr.useId=function(){return P.H.useId()},vr.useImperativeHandle=function(te,F,M){return P.H.useImperativeHandle(te,F,M)},vr.useInsertionEffect=function(te,F){return P.H.useInsertionEffect(te,F)},vr.useLayoutEffect=function(te,F){return P.H.useLayoutEffect(te,F)},vr.useMemo=function(te,F){return P.H.useMemo(te,F)},vr.useOptimistic=function(te,F){return P.H.useOptimistic(te,F)},vr.useReducer=function(te,F,M){return P.H.useReducer(te,F,M)},vr.useRef=function(te){return P.H.useRef(te)},vr.useState=function(te){return P.H.useState(te)},vr.useSyncExternalStore=function(te,F,M){return P.H.useSyncExternalStore(te,F,M)},vr.useTransition=function(){return P.H.useTransition()},vr.version="19.2.0",vr}var aE;function Gm(){return aE||(aE=1,dw.exports=Cz()),dw.exports}var C=Gm();const vd=yf(C),Tz=Az({__proto__:null,default:vd},[C]);var hw={exports:{}},tx={},mw={exports:{}},pw={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var iE;function Oz(){return iE||(iE=1,(function(e){function t(ne,le){var ve=ne.length;ne.push(le);e:for(;0<ve;){var ue=ve-1>>>1,je=ne[ue];if(0<a(je,le))ne[ue]=le,ne[ve]=je,ve=ue;else break e}}function r(ne){return ne.length===0?null:ne[0]}function n(ne){if(ne.length===0)return null;var le=ne[0],ve=ne.pop();if(ve!==le){ne[0]=ve;e:for(var ue=0,je=ne.length,te=je>>>1;ue<te;){var F=2*(ue+1)-1,M=ne[F],q=F+1,W=ne[q];if(0>a(M,ve))q<je&&0>a(W,M)?(ne[ue]=W,ne[q]=ve,ue=q):(ne[ue]=M,ne[F]=ve,ue=F);else if(q<je&&0>a(W,ve))ne[ue]=W,ne[q]=ve,ue=q;else break e}}return le}function a(ne,le){var ve=ne.sortIndex-le.sortIndex;return ve!==0?ve:ne.id-le.id}if(e.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var i=performance;e.unstable_now=function(){return i.now()}}else{var l=Date,o=l.now();e.unstable_now=function(){return l.now()-o}}var f=[],u=[],h=1,p=null,g=3,x=!1,b=!1,y=!1,w=!1,_=typeof setTimeout=="function"?setTimeout:null,E=typeof clearTimeout=="function"?clearTimeout:null,A=typeof setImmediate<"u"?setImmediate:null;function O(ne){for(var le=r(u);le!==null;){if(le.callback===null)n(u);else if(le.startTime<=ne)n(u),le.sortIndex=le.expirationTime,t(f,le);else break;le=r(u)}}function D(ne){if(y=!1,O(ne),!b)if(r(f)!==null)b=!0,R||(R=!0,z());else{var le=r(u);le!==null&&pe(D,le.startTime-ne)}}var R=!1,P=-1,T=5,B=-1;function G(){return w?!0:!(e.unstable_now()-B<T)}function I(){if(w=!1,R){var ne=e.unstable_now();B=ne;var le=!0;try{e:{b=!1,y&&(y=!1,E(P),P=-1),x=!0;var ve=g;try{t:{for(O(ne),p=r(f);p!==null&&!(p.expirationTime>ne&&G());){var ue=p.callback;if(typeof ue=="function"){p.callback=null,g=p.priorityLevel;var je=ue(p.expirationTime<=ne);if(ne=e.unstable_now(),typeof je=="function"){p.callback=je,O(ne),le=!0;break t}p===r(f)&&n(f),O(ne)}else n(f);p=r(f)}if(p!==null)le=!0;else{var te=r(u);te!==null&&pe(D,te.startTime-ne),le=!1}}break e}finally{p=null,g=ve,x=!1}le=void 0}}finally{le?z():R=!1}}}var z;if(typeof A=="function")z=function(){A(I)};else if(typeof MessageChannel<"u"){var K=new MessageChannel,J=K.port2;K.port1.onmessage=I,z=function(){J.postMessage(null)}}else z=function(){_(I,0)};function pe(ne,le){P=_(function(){ne(e.unstable_now())},le)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(ne){ne.callback=null},e.unstable_forceFrameRate=function(ne){0>ne||125<ne?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):T=0<ne?Math.floor(1e3/ne):5},e.unstable_getCurrentPriorityLevel=function(){return g},e.unstable_next=function(ne){switch(g){case 1:case 2:case 3:var le=3;break;default:le=g}var ve=g;g=le;try{return ne()}finally{g=ve}},e.unstable_requestPaint=function(){w=!0},e.unstable_runWithPriority=function(ne,le){switch(ne){case 1:case 2:case 3:case 4:case 5:break;default:ne=3}var ve=g;g=ne;try{return le()}finally{g=ve}},e.unstable_scheduleCallback=function(ne,le,ve){var ue=e.unstable_now();switch(typeof ve=="object"&&ve!==null?(ve=ve.delay,ve=typeof ve=="number"&&0<ve?ue+ve:ue):ve=ue,ne){case 1:var je=-1;break;case 2:je=250;break;case 5:je=1073741823;break;case 4:je=1e4;break;default:je=5e3}return je=ve+je,ne={id:h++,callback:le,priorityLevel:ne,startTime:ve,expirationTime:je,sortIndex:-1},ve>ue?(ne.sortIndex=ve,t(u,ne),r(f)===null&&ne===r(u)&&(y?(E(P),P=-1):y=!0,pe(D,ve-ue))):(ne.sortIndex=je,t(f,ne),b||x||(b=!0,R||(R=!0,z()))),ne},e.unstable_shouldYield=G,e.unstable_wrapCallback=function(ne){var le=g;return function(){var ve=g;g=le;try{return ne.apply(this,arguments)}finally{g=ve}}}})(pw)),pw}var sE;function Dz(){return sE||(sE=1,mw.exports=Oz()),mw.exports}var xw={exports:{}},ds={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var lE;function Pz(){if(lE)return ds;lE=1;var e=Gm();function t(f){var u="https://react.dev/errors/"+f;if(1<arguments.length){u+="?args[]="+encodeURIComponent(arguments[1]);for(var h=2;h<arguments.length;h++)u+="&args[]="+encodeURIComponent(arguments[h])}return"Minified React error #"+f+"; visit "+u+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function r(){}var n={d:{f:r,r:function(){throw Error(t(522))},D:r,C:r,L:r,m:r,X:r,S:r,M:r},p:0,findDOMNode:null},a=Symbol.for("react.portal");function i(f,u,h){var p=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:a,key:p==null?null:""+p,children:f,containerInfo:u,implementation:h}}var l=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function o(f,u){if(f==="font")return"";if(typeof u=="string")return u==="use-credentials"?u:""}return ds.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=n,ds.createPortal=function(f,u){var h=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!u||u.nodeType!==1&&u.nodeType!==9&&u.nodeType!==11)throw Error(t(299));return i(f,u,null,h)},ds.flushSync=function(f){var u=l.T,h=n.p;try{if(l.T=null,n.p=2,f)return f()}finally{l.T=u,n.p=h,n.d.f()}},ds.preconnect=function(f,u){typeof f=="string"&&(u?(u=u.crossOrigin,u=typeof u=="string"?u==="use-credentials"?u:"":void 0):u=null,n.d.C(f,u))},ds.prefetchDNS=function(f){typeof f=="string"&&n.d.D(f)},ds.preinit=function(f,u){if(typeof f=="string"&&u&&typeof u.as=="string"){var h=u.as,p=o(h,u.crossOrigin),g=typeof u.integrity=="string"?u.integrity:void 0,x=typeof u.fetchPriority=="string"?u.fetchPriority:void 0;h==="style"?n.d.S(f,typeof u.precedence=="string"?u.precedence:void 0,{crossOrigin:p,integrity:g,fetchPriority:x}):h==="script"&&n.d.X(f,{crossOrigin:p,integrity:g,fetchPriority:x,nonce:typeof u.nonce=="string"?u.nonce:void 0})}},ds.preinitModule=function(f,u){if(typeof f=="string")if(typeof u=="object"&&u!==null){if(u.as==null||u.as==="script"){var h=o(u.as,u.crossOrigin);n.d.M(f,{crossOrigin:h,integrity:typeof u.integrity=="string"?u.integrity:void 0,nonce:typeof u.nonce=="string"?u.nonce:void 0})}}else u==null&&n.d.M(f)},ds.preload=function(f,u){if(typeof f=="string"&&typeof u=="object"&&u!==null&&typeof u.as=="string"){var h=u.as,p=o(h,u.crossOrigin);n.d.L(f,h,{crossOrigin:p,integrity:typeof u.integrity=="string"?u.integrity:void 0,nonce:typeof u.nonce=="string"?u.nonce:void 0,type:typeof u.type=="string"?u.type:void 0,fetchPriority:typeof u.fetchPriority=="string"?u.fetchPriority:void 0,referrerPolicy:typeof u.referrerPolicy=="string"?u.referrerPolicy:void 0,imageSrcSet:typeof u.imageSrcSet=="string"?u.imageSrcSet:void 0,imageSizes:typeof u.imageSizes=="string"?u.imageSizes:void 0,media:typeof u.media=="string"?u.media:void 0})}},ds.preloadModule=function(f,u){if(typeof f=="string")if(u){var h=o(u.as,u.crossOrigin);n.d.m(f,{as:typeof u.as=="string"&&u.as!=="script"?u.as:void 0,crossOrigin:h,integrity:typeof u.integrity=="string"?u.integrity:void 0})}else n.d.m(f)},ds.requestFormReset=function(f){n.d.r(f)},ds.unstable_batchedUpdates=function(f,u){return f(u)},ds.useFormState=function(f,u,h){return l.H.useFormState(f,u,h)},ds.useFormStatus=function(){return l.H.useHostTransitionStatus()},ds.version="19.2.0",ds}var oE;function gD(){if(oE)return xw.exports;oE=1;function e(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(t){console.error(t)}}return e(),xw.exports=Pz(),xw.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var cE;function Fz(){if(cE)return tx;cE=1;var e=Dz(),t=Gm(),r=gD();function n(c){var d="https://react.dev/errors/"+c;if(1<arguments.length){d+="?args[]="+encodeURIComponent(arguments[1]);for(var m=2;m<arguments.length;m++)d+="&args[]="+encodeURIComponent(arguments[m])}return"Minified React error #"+c+"; visit "+d+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function a(c){return!(!c||c.nodeType!==1&&c.nodeType!==9&&c.nodeType!==11)}function i(c){var d=c,m=c;if(c.alternate)for(;d.return;)d=d.return;else{c=d;do d=c,(d.flags&4098)!==0&&(m=d.return),c=d.return;while(c)}return d.tag===3?m:null}function l(c){if(c.tag===13){var d=c.memoizedState;if(d===null&&(c=c.alternate,c!==null&&(d=c.memoizedState)),d!==null)return d.dehydrated}return null}function o(c){if(c.tag===31){var d=c.memoizedState;if(d===null&&(c=c.alternate,c!==null&&(d=c.memoizedState)),d!==null)return d.dehydrated}return null}function f(c){if(i(c)!==c)throw Error(n(188))}function u(c){var d=c.alternate;if(!d){if(d=i(c),d===null)throw Error(n(188));return d!==c?null:c}for(var m=c,v=d;;){var S=m.return;if(S===null)break;var k=S.alternate;if(k===null){if(v=S.return,v!==null){m=v;continue}break}if(S.child===k.child){for(k=S.child;k;){if(k===m)return f(S),c;if(k===v)return f(S),d;k=k.sibling}throw Error(n(188))}if(m.return!==v.return)m=S,v=k;else{for(var V=!1,se=S.child;se;){if(se===m){V=!0,m=S,v=k;break}if(se===v){V=!0,v=S,m=k;break}se=se.sibling}if(!V){for(se=k.child;se;){if(se===m){V=!0,m=k,v=S;break}if(se===v){V=!0,v=k,m=S;break}se=se.sibling}if(!V)throw Error(n(189))}}if(m.alternate!==v)throw Error(n(190))}if(m.tag!==3)throw Error(n(188));return m.stateNode.current===m?c:d}function h(c){var d=c.tag;if(d===5||d===26||d===27||d===6)return c;for(c=c.child;c!==null;){if(d=h(c),d!==null)return d;c=c.sibling}return null}var p=Object.assign,g=Symbol.for("react.element"),x=Symbol.for("react.transitional.element"),b=Symbol.for("react.portal"),y=Symbol.for("react.fragment"),w=Symbol.for("react.strict_mode"),_=Symbol.for("react.profiler"),E=Symbol.for("react.consumer"),A=Symbol.for("react.context"),O=Symbol.for("react.forward_ref"),D=Symbol.for("react.suspense"),R=Symbol.for("react.suspense_list"),P=Symbol.for("react.memo"),T=Symbol.for("react.lazy"),B=Symbol.for("react.activity"),G=Symbol.for("react.memo_cache_sentinel"),I=Symbol.iterator;function z(c){return c===null||typeof c!="object"?null:(c=I&&c[I]||c["@@iterator"],typeof c=="function"?c:null)}var K=Symbol.for("react.client.reference");function J(c){if(c==null)return null;if(typeof c=="function")return c.$$typeof===K?null:c.displayName||c.name||null;if(typeof c=="string")return c;switch(c){case y:return"Fragment";case _:return"Profiler";case w:return"StrictMode";case D:return"Suspense";case R:return"SuspenseList";case B:return"Activity"}if(typeof c=="object")switch(c.$$typeof){case b:return"Portal";case A:return c.displayName||"Context";case E:return(c._context.displayName||"Context")+".Consumer";case O:var d=c.render;return c=c.displayName,c||(c=d.displayName||d.name||"",c=c!==""?"ForwardRef("+c+")":"ForwardRef"),c;case P:return d=c.displayName||null,d!==null?d:J(c.type)||"Memo";case T:d=c._payload,c=c._init;try{return J(c(d))}catch{}}return null}var pe=Array.isArray,ne=t.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,le=r.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,ve={pending:!1,data:null,method:null,action:null},ue=[],je=-1;function te(c){return{current:c}}function F(c){0>je||(c.current=ue[je],ue[je]=null,je--)}function M(c,d){je++,ue[je]=c.current,c.current=d}var q=te(null),W=te(null),Z=te(null),oe=te(null);function ce(c,d){switch(M(Z,d),M(W,c),M(q,null),d.nodeType){case 9:case 11:c=(c=d.documentElement)&&(c=c.namespaceURI)?SA(c):0;break;default:if(c=d.tagName,d=d.namespaceURI)d=SA(d),c=jA(d,c);else switch(c){case"svg":c=1;break;case"math":c=2;break;default:c=0}}F(q),M(q,c)}function ae(){F(q),F(W),F(Z)}function Se(c){c.memoizedState!==null&&M(oe,c);var d=q.current,m=jA(d,c.type);d!==m&&(M(W,c),M(q,m))}function De(c){W.current===c&&(F(q),F(W)),oe.current===c&&(F(oe),Xp._currentValue=ve)}var X,Ke;function Ce(c){if(X===void 0)try{throw Error()}catch(m){var d=m.stack.trim().match(/\n( *(at )?)/);X=d&&d[1]||"",Ke=-1<m.stack.indexOf(`
    at`)?" (<anonymous>)":-1<m.stack.indexOf("@")?"@unknown:0:0":""}return`
`+X+c+Ke}var xe=!1;function dt(c,d){if(!c||xe)return"";xe=!0;var m=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var v={DetermineComponentFrameRoot:function(){try{if(d){var at=function(){throw Error()};if(Object.defineProperty(at.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(at,[])}catch(We){var Ve=We}Reflect.construct(c,[],at)}else{try{at.call()}catch(We){Ve=We}c.call(at.prototype)}}else{try{throw Error()}catch(We){Ve=We}(at=c())&&typeof at.catch=="function"&&at.catch(function(){})}}catch(We){if(We&&Ve&&typeof We.stack=="string")return[We.stack,Ve.stack]}return[null,null]}};v.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var S=Object.getOwnPropertyDescriptor(v.DetermineComponentFrameRoot,"name");S&&S.configurable&&Object.defineProperty(v.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var k=v.DetermineComponentFrameRoot(),V=k[0],se=k[1];if(V&&se){var Ae=V.split(`
`),$e=se.split(`
`);for(S=v=0;v<Ae.length&&!Ae[v].includes("DetermineComponentFrameRoot");)v++;for(;S<$e.length&&!$e[S].includes("DetermineComponentFrameRoot");)S++;if(v===Ae.length||S===$e.length)for(v=Ae.length-1,S=$e.length-1;1<=v&&0<=S&&Ae[v]!==$e[S];)S--;for(;1<=v&&0<=S;v--,S--)if(Ae[v]!==$e[S]){if(v!==1||S!==1)do if(v--,S--,0>S||Ae[v]!==$e[S]){var Je=`
`+Ae[v].replace(" at new "," at ");return c.displayName&&Je.includes("<anonymous>")&&(Je=Je.replace("<anonymous>",c.displayName)),Je}while(1<=v&&0<=S);break}}}finally{xe=!1,Error.prepareStackTrace=m}return(m=c?c.displayName||c.name:"")?Ce(m):""}function Xe(c,d){switch(c.tag){case 26:case 27:case 5:return Ce(c.type);case 16:return Ce("Lazy");case 13:return c.child!==d&&d!==null?Ce("Suspense Fallback"):Ce("Suspense");case 19:return Ce("SuspenseList");case 0:case 15:return dt(c.type,!1);case 11:return dt(c.type.render,!1);case 1:return dt(c.type,!0);case 31:return Ce("Activity");default:return""}}function wt(c){try{var d="",m=null;do d+=Xe(c,m),m=c,c=c.return;while(c);return d}catch(v){return`
Error generating stack: `+v.message+`
`+v.stack}}var lt=Object.prototype.hasOwnProperty,At=e.unstable_scheduleCallback,pt=e.unstable_cancelCallback,Qt=e.unstable_shouldYield,Pt=e.unstable_requestPaint,Vt=e.unstable_now,Zt=e.unstable_getCurrentPriorityLevel,Jt=e.unstable_ImmediatePriority,Dr=e.unstable_UserBlockingPriority,It=e.unstable_NormalPriority,Ct=e.unstable_LowPriority,xt=e.unstable_IdlePriority,jt=e.log,Nr=e.unstable_setDisableYieldValue,Yt=null,St=null;function er(c){if(typeof jt=="function"&&Nr(c),St&&typeof St.setStrictMode=="function")try{St.setStrictMode(Yt,c)}catch{}}var br=Math.clz32?Math.clz32:fr,ar=Math.log,Ar=Math.LN2;function fr(c){return c>>>=0,c===0?32:31-(ar(c)/Ar|0)|0}var pn=256,Bn=262144,qr=4194304;function Wt(c){var d=c&42;if(d!==0)return d;switch(c&-c){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return c&261888;case 262144:case 524288:case 1048576:case 2097152:return c&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return c&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return c}}function Pr(c,d,m){var v=c.pendingLanes;if(v===0)return 0;var S=0,k=c.suspendedLanes,V=c.pingedLanes;c=c.warmLanes;var se=v&134217727;return se!==0?(v=se&~k,v!==0?S=Wt(v):(V&=se,V!==0?S=Wt(V):m||(m=se&~c,m!==0&&(S=Wt(m))))):(se=v&~k,se!==0?S=Wt(se):V!==0?S=Wt(V):m||(m=v&~c,m!==0&&(S=Wt(m)))),S===0?0:d!==0&&d!==S&&(d&k)===0&&(k=S&-S,m=d&-d,k>=m||k===32&&(m&4194048)!==0)?d:S}function Ds(c,d){return(c.pendingLanes&~(c.suspendedLanes&~c.pingedLanes)&d)===0}function Xa(c,d){switch(c){case 1:case 2:case 4:case 8:case 64:return d+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return d+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function al(){var c=qr;return qr<<=1,(qr&62914560)===0&&(qr=4194304),c}function os(c){for(var d=[],m=0;31>m;m++)d.push(c);return d}function Gt(c,d){c.pendingLanes|=d,d!==268435456&&(c.suspendedLanes=0,c.pingedLanes=0,c.warmLanes=0)}function Tl(c,d,m,v,S,k){var V=c.pendingLanes;c.pendingLanes=m,c.suspendedLanes=0,c.pingedLanes=0,c.warmLanes=0,c.expiredLanes&=m,c.entangledLanes&=m,c.errorRecoveryDisabledLanes&=m,c.shellSuspendCounter=0;var se=c.entanglements,Ae=c.expirationTimes,$e=c.hiddenUpdates;for(m=V&~m;0<m;){var Je=31-br(m),at=1<<Je;se[Je]=0,Ae[Je]=-1;var Ve=$e[Je];if(Ve!==null)for($e[Je]=null,Je=0;Je<Ve.length;Je++){var We=Ve[Je];We!==null&&(We.lane&=-536870913)}m&=~at}v!==0&&il(c,v,0),k!==0&&S===0&&c.tag!==0&&(c.suspendedLanes|=k&~(V&~d))}function il(c,d,m){c.pendingLanes|=d,c.suspendedLanes&=~d;var v=31-br(d);c.entangledLanes|=d,c.entanglements[v]=c.entanglements[v]|1073741824|m&261930}function li(c,d){var m=c.entangledLanes|=d;for(c=c.entanglements;m;){var v=31-br(m),S=1<<v;S&d|c[v]&d&&(c[v]|=d),m&=~S}}function $i(c,d){var m=d&-d;return m=(m&42)!==0?1:Sn(m),(m&(c.suspendedLanes|d))!==0?0:m}function Sn(c){switch(c){case 2:c=1;break;case 8:c=4;break;case 32:c=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:c=128;break;case 268435456:c=134217728;break;default:c=0}return c}function ta(c){return c&=-c,2<c?8<c?(c&134217727)!==0?32:268435456:8:2}function ee(){var c=le.p;return c!==0?c:(c=window.event,c===void 0?32:KA(c.type))}function we(c,d){var m=le.p;try{return le.p=c,d()}finally{le.p=m}}var de=Math.random().toString(36).slice(2),he="__reactFiber$"+de,ge="__reactProps$"+de,Ne="__reactContainer$"+de,Me="__reactEvents$"+de,Ge="__reactListeners$"+de,Ie="__reactHandles$"+de,Be="__reactResources$"+de,ze="__reactMarker$"+de;function ut(c){delete c[he],delete c[ge],delete c[Me],delete c[Ge],delete c[Ie]}function mt(c){var d=c[he];if(d)return d;for(var m=c.parentNode;m;){if(d=m[Ne]||m[he]){if(m=d.alternate,d.child!==null||m!==null&&m.child!==null)for(c=DA(c);c!==null;){if(m=c[he])return m;c=DA(c)}return d}c=m,m=c.parentNode}return null}function Nt(c){if(c=c[he]||c[Ne]){var d=c.tag;if(d===5||d===6||d===13||d===31||d===26||d===27||d===3)return c}return null}function ht(c){var d=c.tag;if(d===5||d===26||d===27||d===6)return c.stateNode;throw Error(n(33))}function vt(c){var d=c[Be];return d||(d=c[Be]={hoistableStyles:new Map,hoistableScripts:new Map}),d}function Tt(c){c[ze]=!0}var sn=new Set,kr={};function fn(c,d){Hi(c,d),Hi(c+"Capture",d)}function Hi(c,d){for(kr[c]=d,c=0;c<d.length;c++)sn.add(d[c])}var Ol=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),Dl={},Ps={};function Fc(c){return lt.call(Ps,c)?!0:lt.call(Dl,c)?!1:Ol.test(c)?Ps[c]=!0:(Dl[c]=!0,!1)}function Ba(c,d,m){if(Fc(d))if(m===null)c.removeAttribute(d);else{switch(typeof m){case"undefined":case"function":case"symbol":c.removeAttribute(d);return;case"boolean":var v=d.toLowerCase().slice(0,5);if(v!=="data-"&&v!=="aria-"){c.removeAttribute(d);return}}c.setAttribute(d,""+m)}}function Of(c,d,m){if(m===null)c.removeAttribute(d);else{switch(typeof m){case"undefined":case"function":case"symbol":case"boolean":c.removeAttribute(d);return}c.setAttribute(d,""+m)}}function dn(c,d,m,v){if(v===null)c.removeAttribute(m);else{switch(typeof v){case"undefined":case"function":case"symbol":case"boolean":c.removeAttribute(m);return}c.setAttributeNS(d,m,""+v)}}function Vi(c){switch(typeof c){case"bigint":case"boolean":case"number":case"string":case"undefined":return c;case"object":return c;default:return""}}function Gd(c){var d=c.type;return(c=c.nodeName)&&c.toLowerCase()==="input"&&(d==="checkbox"||d==="radio")}function Go(c,d,m){var v=Object.getOwnPropertyDescriptor(c.constructor.prototype,d);if(!c.hasOwnProperty(d)&&typeof v<"u"&&typeof v.get=="function"&&typeof v.set=="function"){var S=v.get,k=v.set;return Object.defineProperty(c,d,{configurable:!0,get:function(){return S.call(this)},set:function(V){m=""+V,k.call(this,V)}}),Object.defineProperty(c,d,{enumerable:v.enumerable}),{getValue:function(){return m},setValue:function(V){m=""+V},stopTracking:function(){c._valueTracker=null,delete c[d]}}}}function Ko(c){if(!c._valueTracker){var d=Gd(c)?"checked":"value";c._valueTracker=Go(c,d,""+c[d])}}function sl(c){if(!c)return!1;var d=c._valueTracker;if(!d)return!0;var m=d.getValue(),v="";return c&&(v=Gd(c)?c.checked?"true":"false":c.value),c=v,c!==m?(d.setValue(c),!0):!1}function so(c){if(c=c||(typeof document<"u"?document:void 0),typeof c>"u")return null;try{return c.activeElement||c.body}catch{return c.body}}var ga=/[\n"\\]/g;function ki(c){return c.replace(ga,function(d){return"\\"+d.charCodeAt(0).toString(16)+" "})}function Kd(c,d,m,v,S,k,V,se){c.name="",V!=null&&typeof V!="function"&&typeof V!="symbol"&&typeof V!="boolean"?c.type=V:c.removeAttribute("type"),d!=null?V==="number"?(d===0&&c.value===""||c.value!=d)&&(c.value=""+Vi(d)):c.value!==""+Vi(d)&&(c.value=""+Vi(d)):V!=="submit"&&V!=="reset"||c.removeAttribute("value"),d!=null?Yd(c,V,Vi(d)):m!=null?Yd(c,V,Vi(m)):v!=null&&c.removeAttribute("value"),S==null&&k!=null&&(c.defaultChecked=!!k),S!=null&&(c.checked=S&&typeof S!="function"&&typeof S!="symbol"),se!=null&&typeof se!="function"&&typeof se!="symbol"&&typeof se!="boolean"?c.name=""+Vi(se):c.removeAttribute("name")}function vh(c,d,m,v,S,k,V,se){if(k!=null&&typeof k!="function"&&typeof k!="symbol"&&typeof k!="boolean"&&(c.type=k),d!=null||m!=null){if(!(k!=="submit"&&k!=="reset"||d!=null)){Ko(c);return}m=m!=null?""+Vi(m):"",d=d!=null?""+Vi(d):m,se||d===c.value||(c.value=d),c.defaultValue=d}v=v??S,v=typeof v!="function"&&typeof v!="symbol"&&!!v,c.checked=se?c.checked:!!v,c.defaultChecked=!!v,V!=null&&typeof V!="function"&&typeof V!="symbol"&&typeof V!="boolean"&&(c.name=V),Ko(c)}function Yd(c,d,m){d==="number"&&so(c.ownerDocument)===c||c.defaultValue===""+m||(c.defaultValue=""+m)}function Wi(c,d,m,v){if(c=c.options,d){d={};for(var S=0;S<m.length;S++)d["$"+m[S]]=!0;for(m=0;m<c.length;m++)S=d.hasOwnProperty("$"+c[m].value),c[m].selected!==S&&(c[m].selected=S),S&&v&&(c[m].defaultSelected=!0)}else{for(m=""+Vi(m),d=null,S=0;S<c.length;S++){if(c[S].value===m){c[S].selected=!0,v&&(c[S].defaultSelected=!0);return}d!==null||c[S].disabled||(d=c[S])}d!==null&&(d.selected=!0)}}function Xd(c,d,m){if(d!=null&&(d=""+Vi(d),d!==c.value&&(c.value=d),m==null)){c.defaultValue!==d&&(c.defaultValue=d);return}c.defaultValue=m!=null?""+Vi(m):""}function Qd(c,d,m,v){if(d==null){if(v!=null){if(m!=null)throw Error(n(92));if(pe(v)){if(1<v.length)throw Error(n(93));v=v[0]}m=v}m==null&&(m=""),d=m}m=Vi(d),c.defaultValue=m,v=c.textContent,v===m&&v!==""&&v!==null&&(c.value=v),Ko(c)}function Fs(c,d){if(d){var m=c.firstChild;if(m&&m===c.lastChild&&m.nodeType===3){m.nodeValue=d;return}}c.textContent=d}var Zd=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function yh(c,d,m){var v=d.indexOf("--")===0;m==null||typeof m=="boolean"||m===""?v?c.setProperty(d,""):d==="float"?c.cssFloat="":c[d]="":v?c.setProperty(d,m):typeof m!="number"||m===0||Zd.has(d)?d==="float"?c.cssFloat=m:c[d]=(""+m).trim():c[d]=m+"px"}function bh(c,d,m){if(d!=null&&typeof d!="object")throw Error(n(62));if(c=c.style,m!=null){for(var v in m)!m.hasOwnProperty(v)||d!=null&&d.hasOwnProperty(v)||(v.indexOf("--")===0?c.setProperty(v,""):v==="float"?c.cssFloat="":c[v]="");for(var S in d)v=d[S],d.hasOwnProperty(S)&&m[S]!==v&&yh(c,S,v)}else for(var k in d)d.hasOwnProperty(k)&&yh(c,k,d[k])}function Jd(c){if(c.indexOf("-")===-1)return!1;switch(c){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var e0=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),xu=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function Pl(c){return xu.test(""+c)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":c}function Fl(){}var Yo=null;function gu(c){return c=c.target||c.srcElement||window,c.correspondingUseElement&&(c=c.correspondingUseElement),c.nodeType===3?c.parentNode:c}var ir=null,Lc=null;function wh(c){var d=Nt(c);if(d&&(c=d.stateNode)){var m=c[ge]||null;e:switch(c=d.stateNode,d.type){case"input":if(Kd(c,m.value,m.defaultValue,m.defaultValue,m.checked,m.defaultChecked,m.type,m.name),d=m.name,m.type==="radio"&&d!=null){for(m=c;m.parentNode;)m=m.parentNode;for(m=m.querySelectorAll('input[name="'+ki(""+d)+'"][type="radio"]'),d=0;d<m.length;d++){var v=m[d];if(v!==c&&v.form===c.form){var S=v[ge]||null;if(!S)throw Error(n(90));Kd(v,S.value,S.defaultValue,S.defaultValue,S.checked,S.defaultChecked,S.type,S.name)}}for(d=0;d<m.length;d++)v=m[d],v.form===c.form&&sl(v)}break e;case"textarea":Xd(c,m.value,m.defaultValue);break e;case"select":d=m.value,d!=null&&Wi(c,!!m.multiple,d,!1)}}}var t0=!1;function _h(c,d,m){if(t0)return c(d,m);t0=!0;try{var v=c(d);return v}finally{if(t0=!1,(ir!==null||Lc!==null)&&(y1(),ir&&(d=ir,c=Lc,Lc=ir=null,wh(d),c)))for(d=0;d<c.length;d++)wh(c[d])}}function Ls(c,d){var m=c.stateNode;if(m===null)return null;var v=m[ge]||null;if(v===null)return null;m=v[d];e:switch(d){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(v=!v.disabled)||(c=c.type,v=!(c==="button"||c==="input"||c==="select"||c==="textarea")),c=!v;break e;default:c=!1}if(c)return null;if(m&&typeof m!="function")throw Error(n(231,d,typeof m));return m}var oi=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),r0=!1;if(oi)try{var vu={};Object.defineProperty(vu,"passive",{get:function(){r0=!0}}),window.addEventListener("test",vu,vu),window.removeEventListener("test",vu,vu)}catch{r0=!1}var Ms=null,yu=null,lo=null;function bu(){if(lo)return lo;var c,d=yu,m=d.length,v,S="value"in Ms?Ms.value:Ms.textContent,k=S.length;for(c=0;c<m&&d[c]===S[c];c++);var V=m-c;for(v=1;v<=V&&d[m-v]===S[k-v];v++);return lo=S.slice(c,1<v?1-v:void 0)}function Xo(c){var d=c.keyCode;return"charCode"in c?(c=c.charCode,c===0&&d===13&&(c=13)):c=d,c===10&&(c=13),32<=c||c===13?c:0}function Df(){return!0}function Pf(){return!1}function Qa(c){function d(m,v,S,k,V){this._reactName=m,this._targetInst=S,this.type=v,this.nativeEvent=k,this.target=V,this.currentTarget=null;for(var se in c)c.hasOwnProperty(se)&&(m=c[se],this[se]=m?m(k):k[se]);return this.isDefaultPrevented=(k.defaultPrevented!=null?k.defaultPrevented:k.returnValue===!1)?Df:Pf,this.isPropagationStopped=Pf,this}return p(d.prototype,{preventDefault:function(){this.defaultPrevented=!0;var m=this.nativeEvent;m&&(m.preventDefault?m.preventDefault():typeof m.returnValue!="unknown"&&(m.returnValue=!1),this.isDefaultPrevented=Df)},stopPropagation:function(){var m=this.nativeEvent;m&&(m.stopPropagation?m.stopPropagation():typeof m.cancelBubble!="unknown"&&(m.cancelBubble=!0),this.isPropagationStopped=Df)},persist:function(){},isPersistent:Df}),d}var Rs={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(c){return c.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},oo=Qa(Rs),Qo=p({},Rs,{view:0,detail:0}),Ff=Qa(Qo),wu,Zo,Mc,_u=p({},Qo,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:or,button:0,buttons:0,relatedTarget:function(c){return c.relatedTarget===void 0?c.fromElement===c.srcElement?c.toElement:c.fromElement:c.relatedTarget},movementX:function(c){return"movementX"in c?c.movementX:(c!==Mc&&(Mc&&c.type==="mousemove"?(wu=c.screenX-Mc.screenX,Zo=c.screenY-Mc.screenY):Zo=wu=0,Mc=c),wu)},movementY:function(c){return"movementY"in c?c.movementY:Zo}}),co=Qa(_u),Jo=p({},_u,{dataTransfer:0}),Nh=Qa(Jo),Sh=p({},Qo,{relatedTarget:0}),ec=Qa(Sh),jh=p({},Rs,{animationName:0,elapsedTime:0,pseudoElement:0}),L=Qa(jh),Y=p({},Rs,{clipboardData:function(c){return"clipboardData"in c?c.clipboardData:window.clipboardData}}),_e=Qa(Y),Ee=p({},Rs,{data:0}),Pe=Qa(Ee),et={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},ot={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Ft={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function zt(c){var d=this.nativeEvent;return d.getModifierState?d.getModifierState(c):(c=Ft[c])?!!d[c]:!1}function or(){return zt}var xr=p({},Qo,{key:function(c){if(c.key){var d=et[c.key]||c.key;if(d!=="Unidentified")return d}return c.type==="keypress"?(c=Xo(c),c===13?"Enter":String.fromCharCode(c)):c.type==="keydown"||c.type==="keyup"?ot[c.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:or,charCode:function(c){return c.type==="keypress"?Xo(c):0},keyCode:function(c){return c.type==="keydown"||c.type==="keyup"?c.keyCode:0},which:function(c){return c.type==="keypress"?Xo(c):c.type==="keydown"||c.type==="keyup"?c.keyCode:0}}),Gr=Qa(xr),Hn=p({},_u,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),va=Qa(Hn),jn=p({},Qo,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:or}),Ua=Qa(jn),Aa=p({},Rs,{propertyName:0,elapsedTime:0,pseudoElement:0}),ci=Qa(Aa),ll=p({},_u,{deltaX:function(c){return"deltaX"in c?c.deltaX:"wheelDeltaX"in c?-c.wheelDeltaX:0},deltaY:function(c){return"deltaY"in c?c.deltaY:"wheelDeltaY"in c?-c.wheelDeltaY:"wheelDelta"in c?-c.wheelDelta:0},deltaZ:0,deltaMode:0}),cs=Qa(ll),Ah=p({},Rs,{newState:0,oldState:0}),Lf=Qa(Ah),Nu=[9,13,27,32],uo=oi&&"CompositionEvent"in window,Ll=null;oi&&"documentMode"in document&&(Ll=document.documentMode);var Su=oi&&"TextEvent"in window&&!Ll,Rc=oi&&(!uo||Ll&&8<Ll&&11>=Ll),ui=" ",Ic=!1;function Bc(c,d){switch(c){case"keyup":return Nu.indexOf(d.keyCode)!==-1;case"keydown":return d.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Mf(c){return c=c.detail,typeof c=="object"&&"data"in c?c.data:null}var fo=!1;function ra(c,d){switch(c){case"compositionend":return Mf(d);case"keypress":return d.which!==32?null:(Ic=!0,ui);case"textInput":return c=d.data,c===ui&&Ic?null:c;default:return null}}function tc(c,d){if(fo)return c==="compositionend"||!uo&&Bc(c,d)?(c=bu(),lo=yu=Ms=null,fo=!1,c):null;switch(c){case"paste":return null;case"keypress":if(!(d.ctrlKey||d.altKey||d.metaKey)||d.ctrlKey&&d.altKey){if(d.char&&1<d.char.length)return d.char;if(d.which)return String.fromCharCode(d.which)}return null;case"compositionend":return Rc&&d.locale!=="ko"?null:d.data;default:return null}}var Rf={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function n0(c){var d=c&&c.nodeName&&c.nodeName.toLowerCase();return d==="input"?!!Rf[c.type]:d==="textarea"}function Is(c,d,m,v){ir?Lc?Lc.push(v):Lc=[v]:ir=v,d=A1(d,"onChange"),0<d.length&&(m=new oo("onChange","change",null,m,v),c.push({event:m,listeners:d}))}var Ml=null,rc=null;function a0(c){vA(c,0)}function Rl(c){var d=ht(c);if(sl(d))return c}function Uc(c,d){if(c==="change")return d}var us=!1;if(oi){var Gi;if(oi){var ho="oninput"in document;if(!ho){var mo=document.createElement("div");mo.setAttribute("oninput","return;"),ho=typeof mo.oninput=="function"}Gi=ho}else Gi=!1;us=Gi&&(!document.documentMode||9<document.documentMode)}function nc(){Ml&&(Ml.detachEvent("onpropertychange",If),rc=Ml=null)}function If(c){if(c.propertyName==="value"&&Rl(rc)){var d=[];Is(d,rc,c,gu(c)),_h(a0,d)}}function Bf(c,d,m){c==="focusin"?(nc(),Ml=d,rc=m,Ml.attachEvent("onpropertychange",If)):c==="focusout"&&nc()}function ya(c){if(c==="selectionchange"||c==="keyup"||c==="keydown")return Rl(rc)}function Eh(c,d){if(c==="click")return Rl(d)}function po(c,d){if(c==="input"||c==="change")return Rl(d)}function xo(c,d){return c===d&&(c!==0||1/c===1/d)||c!==c&&d!==d}var fi=typeof Object.is=="function"?Object.is:xo;function ac(c,d){if(fi(c,d))return!0;if(typeof c!="object"||c===null||typeof d!="object"||d===null)return!1;var m=Object.keys(c),v=Object.keys(d);if(m.length!==v.length)return!1;for(v=0;v<m.length;v++){var S=m[v];if(!lt.call(d,S)||!fi(c[S],d[S]))return!1}return!0}function Uf(c){for(;c&&c.firstChild;)c=c.firstChild;return c}function zf(c,d){var m=Uf(c);c=0;for(var v;m;){if(m.nodeType===3){if(v=c+m.textContent.length,c<=d&&v>=d)return{node:m,offset:d-c};c=v}e:{for(;m;){if(m.nextSibling){m=m.nextSibling;break e}m=m.parentNode}m=void 0}m=Uf(m)}}function ic(c,d){return c&&d?c===d?!0:c&&c.nodeType===3?!1:d&&d.nodeType===3?ic(c,d.parentNode):"contains"in c?c.contains(d):c.compareDocumentPosition?!!(c.compareDocumentPosition(d)&16):!1:!1}function sc(c){c=c!=null&&c.ownerDocument!=null&&c.ownerDocument.defaultView!=null?c.ownerDocument.defaultView:window;for(var d=so(c.document);d instanceof c.HTMLIFrameElement;){try{var m=typeof d.contentWindow.location.href=="string"}catch{m=!1}if(m)c=d.contentWindow;else break;d=so(c.document)}return d}function go(c){var d=c&&c.nodeName&&c.nodeName.toLowerCase();return d&&(d==="input"&&(c.type==="text"||c.type==="search"||c.type==="tel"||c.type==="url"||c.type==="password")||d==="textarea"||c.contentEditable==="true")}var ju=oi&&"documentMode"in document&&11>=document.documentMode,Bs=null,lc=null,Ci=null,ol=!1;function Kr(c,d,m){var v=m.window===m?m.document:m.nodeType===9?m:m.ownerDocument;ol||Bs==null||Bs!==so(v)||(v=Bs,"selectionStart"in v&&go(v)?v={start:v.selectionStart,end:v.selectionEnd}:(v=(v.ownerDocument&&v.ownerDocument.defaultView||window).getSelection(),v={anchorNode:v.anchorNode,anchorOffset:v.anchorOffset,focusNode:v.focusNode,focusOffset:v.focusOffset}),Ci&&ac(Ci,v)||(Ci=v,v=A1(lc,"onSelect"),0<v.length&&(d=new oo("onSelect","select",null,d,m),c.push({event:d,listeners:v}),d.target=Bs)))}function Ur(c,d){var m={};return m[c.toLowerCase()]=d.toLowerCase(),m["Webkit"+c]="webkit"+d,m["Moz"+c]="moz"+d,m}var An={animationend:Ur("Animation","AnimationEnd"),animationiteration:Ur("Animation","AnimationIteration"),animationstart:Ur("Animation","AnimationStart"),transitionrun:Ur("Transition","TransitionRun"),transitionstart:Ur("Transition","TransitionStart"),transitioncancel:Ur("Transition","TransitionCancel"),transitionend:Ur("Transition","TransitionEnd")},ba={},vo={};oi&&(vo=document.createElement("div").style,"AnimationEvent"in window||(delete An.animationend.animation,delete An.animationiteration.animation,delete An.animationstart.animation),"TransitionEvent"in window||delete An.transitionend.transition);function Il(c){if(ba[c])return ba[c];if(!An[c])return c;var d=An[c],m;for(m in d)if(d.hasOwnProperty(m)&&m in vo)return ba[c]=d[m];return c}var Au=Il("animationend"),i0=Il("animationiteration"),yp=Il("animationstart"),Yg=Il("transitionrun"),Xg=Il("transitionstart"),Qg=Il("transitioncancel"),bp=Il("transitionend"),wp=new Map,Eu="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");Eu.push("scrollEnd");function cl(c,d){wp.set(c,d),fn(d,[c])}var s0=typeof reportError=="function"?reportError:function(c){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var d=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof c=="object"&&c!==null&&typeof c.message=="string"?String(c.message):String(c),error:c});if(!window.dispatchEvent(d))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",c);return}console.error(c)},Us=[],ku=0,kh=0;function l0(){for(var c=ku,d=kh=ku=0;d<c;){var m=Us[d];Us[d++]=null;var v=Us[d];Us[d++]=null;var S=Us[d];Us[d++]=null;var k=Us[d];if(Us[d++]=null,v!==null&&S!==null){var V=v.pending;V===null?S.next=S:(S.next=V.next,V.next=S),v.pending=S}k!==0&&c0(m,S,k)}}function o0(c,d,m,v){Us[ku++]=c,Us[ku++]=d,Us[ku++]=m,Us[ku++]=v,kh|=v,c.lanes|=v,c=c.alternate,c!==null&&(c.lanes|=v)}function Ch(c,d,m,v){return o0(c,d,m,v),Ti(c)}function oc(c,d){return o0(c,null,null,d),Ti(c)}function c0(c,d,m){c.lanes|=m;var v=c.alternate;v!==null&&(v.lanes|=m);for(var S=!1,k=c.return;k!==null;)k.childLanes|=m,v=k.alternate,v!==null&&(v.childLanes|=m),k.tag===22&&(c=k.stateNode,c===null||c._visibility&1||(S=!0)),c=k,k=k.return;return c.tag===3?(k=c.stateNode,S&&d!==null&&(S=31-br(m),c=k.hiddenUpdates,v=c[S],v===null?c[S]=[d]:v.push(d),d.lane=m|536870912),k):null}function Ti(c){if(50<$p)throw $p=0,Lb=null,Error(n(185));for(var d=c.return;d!==null;)c=d,d=c.return;return c.tag===3?c.stateNode:null}var di={};function Th(c,d,m,v){this.tag=c,this.key=m,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=d,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=v,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Oi(c,d,m,v){return new Th(c,d,m,v)}function Oh(c){return c=c.prototype,!(!c||!c.isReactComponent)}function ul(c,d){var m=c.alternate;return m===null?(m=Oi(c.tag,d,c.key,c.mode),m.elementType=c.elementType,m.type=c.type,m.stateNode=c.stateNode,m.alternate=c,c.alternate=m):(m.pendingProps=d,m.type=c.type,m.flags=0,m.subtreeFlags=0,m.deletions=null),m.flags=c.flags&65011712,m.childLanes=c.childLanes,m.lanes=c.lanes,m.child=c.child,m.memoizedProps=c.memoizedProps,m.memoizedState=c.memoizedState,m.updateQueue=c.updateQueue,d=c.dependencies,m.dependencies=d===null?null:{lanes:d.lanes,firstContext:d.firstContext},m.sibling=c.sibling,m.index=c.index,m.ref=c.ref,m.refCleanup=c.refCleanup,m}function u0(c,d){c.flags&=65011714;var m=c.alternate;return m===null?(c.childLanes=0,c.lanes=d,c.child=null,c.subtreeFlags=0,c.memoizedProps=null,c.memoizedState=null,c.updateQueue=null,c.dependencies=null,c.stateNode=null):(c.childLanes=m.childLanes,c.lanes=m.lanes,c.child=m.child,c.subtreeFlags=0,c.deletions=null,c.memoizedProps=m.memoizedProps,c.memoizedState=m.memoizedState,c.updateQueue=m.updateQueue,c.type=m.type,d=m.dependencies,c.dependencies=d===null?null:{lanes:d.lanes,firstContext:d.firstContext}),c}function qf(c,d,m,v,S,k){var V=0;if(v=c,typeof c=="function")Oh(c)&&(V=1);else if(typeof c=="string")V=mz(c,m,q.current)?26:c==="html"||c==="head"||c==="body"?27:5;else e:switch(c){case B:return c=Oi(31,m,d,S),c.elementType=B,c.lanes=k,c;case y:return zc(m.children,S,k,d);case w:V=8,S|=24;break;case _:return c=Oi(12,m,d,S|2),c.elementType=_,c.lanes=k,c;case D:return c=Oi(13,m,d,S),c.elementType=D,c.lanes=k,c;case R:return c=Oi(19,m,d,S),c.elementType=R,c.lanes=k,c;default:if(typeof c=="object"&&c!==null)switch(c.$$typeof){case A:V=10;break e;case E:V=9;break e;case O:V=11;break e;case P:V=14;break e;case T:V=16,v=null;break e}V=29,m=Error(n(130,c===null?"null":typeof c,"")),v=null}return d=Oi(V,m,d,S),d.elementType=c,d.type=v,d.lanes=k,d}function zc(c,d,m,v){return c=Oi(7,c,v,d),c.lanes=m,c}function f0(c,d,m){return c=Oi(6,c,null,d),c.lanes=m,c}function Dh(c){var d=Oi(18,null,null,0);return d.stateNode=c,d}function $f(c,d,m){return d=Oi(4,c.children!==null?c.children:[],c.key,d),d.lanes=m,d.stateNode={containerInfo:c.containerInfo,pendingChildren:null,implementation:c.implementation},d}var Ph=new WeakMap;function fl(c,d){if(typeof c=="object"&&c!==null){var m=Ph.get(c);return m!==void 0?m:(d={value:c,source:d,stack:wt(d)},Ph.set(c,d),d)}return{value:c,source:d,stack:wt(d)}}var Hf=[],Cu=0,Fh=null,d0=0,dl=[],hl=0,qc=null,ml=1,pl="";function zs(c,d){Hf[Cu++]=d0,Hf[Cu++]=Fh,Fh=c,d0=d}function Zg(c,d,m){dl[hl++]=ml,dl[hl++]=pl,dl[hl++]=qc,qc=c;var v=ml;c=pl;var S=32-br(v)-1;v&=~(1<<S),m+=1;var k=32-br(d)+S;if(30<k){var V=S-S%5;k=(v&(1<<V)-1).toString(32),v>>=V,S-=V,ml=1<<32-br(d)+S|m<<S|v,pl=k+c}else ml=1<<k|m<<S|v,pl=c}function _p(c){c.return!==null&&(zs(c,1),Zg(c,1,0))}function Lh(c){for(;c===Fh;)Fh=Hf[--Cu],Hf[Cu]=null,d0=Hf[--Cu],Hf[Cu]=null;for(;c===qc;)qc=dl[--hl],dl[hl]=null,pl=dl[--hl],dl[hl]=null,ml=dl[--hl],dl[hl]=null}function Jg(c,d){dl[hl++]=ml,dl[hl++]=pl,dl[hl++]=qc,ml=d.id,pl=d.overflow,qc=c}var hi=null,Fn=null,Fr=!1,Ki=null,na=!1,Bl=Error(n(519));function $c(c){var d=Error(n(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw Vf(fl(d,c)),Bl}function Np(c){var d=c.stateNode,m=c.type,v=c.memoizedProps;switch(d[he]=c,d[ge]=v,m){case"dialog":Mr("cancel",d),Mr("close",d);break;case"iframe":case"object":case"embed":Mr("load",d);break;case"video":case"audio":for(m=0;m<Vp.length;m++)Mr(Vp[m],d);break;case"source":Mr("error",d);break;case"img":case"image":case"link":Mr("error",d),Mr("load",d);break;case"details":Mr("toggle",d);break;case"input":Mr("invalid",d),vh(d,v.value,v.defaultValue,v.checked,v.defaultChecked,v.type,v.name,!0);break;case"select":Mr("invalid",d);break;case"textarea":Mr("invalid",d),Qd(d,v.value,v.defaultValue,v.children)}m=v.children,typeof m!="string"&&typeof m!="number"&&typeof m!="bigint"||d.textContent===""+m||v.suppressHydrationWarning===!0||_A(d.textContent,m)?(v.popover!=null&&(Mr("beforetoggle",d),Mr("toggle",d)),v.onScroll!=null&&Mr("scroll",d),v.onScrollEnd!=null&&Mr("scrollend",d),v.onClick!=null&&(d.onclick=Fl),d=!0):d=!1,d||$c(c,!0)}function cc(c){for(hi=c.return;hi;)switch(hi.tag){case 5:case 31:case 13:na=!1;return;case 27:case 3:na=!0;return;default:hi=hi.return}}function mi(c){if(c!==hi)return!1;if(!Fr)return cc(c),Fr=!0,!1;var d=c.tag,m;if((m=d!==3&&d!==27)&&((m=d===5)&&(m=c.type,m=!(m!=="form"&&m!=="button")||Xb(c.type,c.memoizedProps)),m=!m),m&&Fn&&$c(c),cc(c),d===13){if(c=c.memoizedState,c=c!==null?c.dehydrated:null,!c)throw Error(n(317));Fn=OA(c)}else if(d===31){if(c=c.memoizedState,c=c!==null?c.dehydrated:null,!c)throw Error(n(317));Fn=OA(c)}else d===27?(d=Fn,id(c.type)?(c=tw,tw=null,Fn=c):Fn=d):Fn=hi?_o(c.stateNode.nextSibling):null;return!0}function Tu(){Fn=hi=null,Fr=!1}function Sp(){var c=Ki;return c!==null&&(wl===null?wl=c:wl.push.apply(wl,c),Ki=null),c}function Vf(c){Ki===null?Ki=[c]:Ki.push(c)}var Mh=te(null),Hc=null,yo=null;function Vc(c,d,m){M(Mh,d._currentValue),d._currentValue=m}function xl(c){c._currentValue=Mh.current,F(Mh)}function Wf(c,d,m){for(;c!==null;){var v=c.alternate;if((c.childLanes&d)!==d?(c.childLanes|=d,v!==null&&(v.childLanes|=d)):v!==null&&(v.childLanes&d)!==d&&(v.childLanes|=d),c===m)break;c=c.return}}function Ou(c,d,m,v){var S=c.child;for(S!==null&&(S.return=c);S!==null;){var k=S.dependencies;if(k!==null){var V=S.child;k=k.firstContext;e:for(;k!==null;){var se=k;k=S;for(var Ae=0;Ae<d.length;Ae++)if(se.context===d[Ae]){k.lanes|=m,se=k.alternate,se!==null&&(se.lanes|=m),Wf(k.return,m,c),v||(V=null);break e}k=se.next}}else if(S.tag===18){if(V=S.return,V===null)throw Error(n(341));V.lanes|=m,k=V.alternate,k!==null&&(k.lanes|=m),Wf(V,m,c),V=null}else V=S.child;if(V!==null)V.return=S;else for(V=S;V!==null;){if(V===c){V=null;break}if(S=V.sibling,S!==null){S.return=V.return,V=S;break}V=V.return}S=V}}function Wc(c,d,m,v){c=null;for(var S=d,k=!1;S!==null;){if(!k){if((S.flags&524288)!==0)k=!0;else if((S.flags&262144)!==0)break}if(S.tag===10){var V=S.alternate;if(V===null)throw Error(n(387));if(V=V.memoizedProps,V!==null){var se=S.type;fi(S.pendingProps.value,V.value)||(c!==null?c.push(se):c=[se])}}else if(S===oe.current){if(V=S.alternate,V===null)throw Error(n(387));V.memoizedState.memoizedState!==S.memoizedState.memoizedState&&(c!==null?c.push(Xp):c=[Xp])}S=S.return}c!==null&&Ou(d,c,m,v),d.flags|=262144}function Rh(c){for(c=c.firstContext;c!==null;){if(!fi(c.context._currentValue,c.memoizedValue))return!0;c=c.next}return!1}function Gc(c){Hc=c,yo=null,c=c.dependencies,c!==null&&(c.firstContext=null)}function pi(c){return e1(Hc,c)}function Ih(c,d){return Hc===null&&Gc(c),e1(c,d)}function e1(c,d){var m=d._currentValue;if(d={context:d,memoizedValue:m,next:null},yo===null){if(c===null)throw Error(n(308));yo=d,c.dependencies={lanes:0,firstContext:d},c.flags|=524288}else yo=yo.next=d;return m}var eb=typeof AbortController<"u"?AbortController:function(){var c=[],d=this.signal={aborted:!1,addEventListener:function(m,v){c.push(v)}};this.abort=function(){d.aborted=!0,c.forEach(function(m){return m()})}},tb=e.unstable_scheduleCallback,rb=e.unstable_NormalPriority,wa={$$typeof:A,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function Gf(){return{controller:new eb,data:new Map,refCount:0}}function h0(c){c.refCount--,c.refCount===0&&tb(rb,function(){c.controller.abort()})}var m0=null,Bh=0,N=0,j=null;function U(c,d){if(m0===null){var m=m0=[];Bh=0,N=zb(),j={status:"pending",value:void 0,then:function(v){m.push(v)}}}return Bh++,d.then(H,H),d}function H(){if(--Bh===0&&m0!==null){j!==null&&(j.status="fulfilled");var c=m0;m0=null,N=0,j=null;for(var d=0;d<c.length;d++)(0,c[d])()}}function Q(c,d){var m=[],v={status:"pending",value:null,reason:null,then:function(S){m.push(S)}};return c.then(function(){v.status="fulfilled",v.value=d;for(var S=0;S<m.length;S++)(0,m[S])(d)},function(S){for(v.status="rejected",v.reason=S,S=0;S<m.length;S++)(0,m[S])(void 0)}),v}var re=ne.S;ne.S=function(c,d){W6=Vt(),typeof d=="object"&&d!==null&&typeof d.then=="function"&&U(c,d),re!==null&&re(c,d)};var ie=te(null);function fe(){var c=ie.current;return c!==null?c:Mn.pooledCache}function me(c,d){d===null?M(ie,ie.current):M(ie,d.pool)}function be(){var c=fe();return c===null?null:{parent:wa._currentValue,pool:c}}var ke=Error(n(460)),Ue=Error(n(474)),ye=Error(n(542)),Oe={then:function(){}};function Le(c){return c=c.status,c==="fulfilled"||c==="rejected"}function Qe(c,d,m){switch(m=c[m],m===void 0?c.push(d):m!==d&&(d.then(Fl,Fl),d=m),d.status){case"fulfilled":return d.value;case"rejected":throw c=d.reason,ft(c),c;default:if(typeof d.status=="string")d.then(Fl,Fl);else{if(c=Mn,c!==null&&100<c.shellSuspendCounter)throw Error(n(482));c=d,c.status="pending",c.then(function(v){if(d.status==="pending"){var S=d;S.status="fulfilled",S.value=v}},function(v){if(d.status==="pending"){var S=d;S.status="rejected",S.reason=v}})}switch(d.status){case"fulfilled":return d.value;case"rejected":throw c=d.reason,ft(c),c}throw Ye=d,ke}}function Re(c){try{var d=c._init;return d(c._payload)}catch(m){throw m!==null&&typeof m=="object"&&typeof m.then=="function"?(Ye=m,ke):m}}var Ye=null;function tt(){if(Ye===null)throw Error(n(459));var c=Ye;return Ye=null,c}function ft(c){if(c===ke||c===ye)throw Error(n(483))}var it=null,Mt=0;function Et(c){var d=Mt;return Mt+=1,it===null&&(it=[]),Qe(it,c,d)}function mr(c,d){d=d.props.ref,c.ref=d!==void 0?d:null}function Ot(c,d){throw d.$$typeof===g?Error(n(525)):(c=Object.prototype.toString.call(d),Error(n(31,c==="[object Object]"?"object with keys {"+Object.keys(d).join(", ")+"}":c)))}function Tr(c){function d(Fe,Te){if(c){var qe=Fe.deletions;qe===null?(Fe.deletions=[Te],Fe.flags|=16):qe.push(Te)}}function m(Fe,Te){if(!c)return null;for(;Te!==null;)d(Fe,Te),Te=Te.sibling;return null}function v(Fe){for(var Te=new Map;Fe!==null;)Fe.key!==null?Te.set(Fe.key,Fe):Te.set(Fe.index,Fe),Fe=Fe.sibling;return Te}function S(Fe,Te){return Fe=ul(Fe,Te),Fe.index=0,Fe.sibling=null,Fe}function k(Fe,Te,qe){return Fe.index=qe,c?(qe=Fe.alternate,qe!==null?(qe=qe.index,qe<Te?(Fe.flags|=67108866,Te):qe):(Fe.flags|=67108866,Te)):(Fe.flags|=1048576,Te)}function V(Fe){return c&&Fe.alternate===null&&(Fe.flags|=67108866),Fe}function se(Fe,Te,qe,nt){return Te===null||Te.tag!==6?(Te=f0(qe,Fe.mode,nt),Te.return=Fe,Te):(Te=S(Te,qe),Te.return=Fe,Te)}function Ae(Fe,Te,qe,nt){var rr=qe.type;return rr===y?Je(Fe,Te,qe.props.children,nt,qe.key):Te!==null&&(Te.elementType===rr||typeof rr=="object"&&rr!==null&&rr.$$typeof===T&&Re(rr)===Te.type)?(Te=S(Te,qe.props),mr(Te,qe),Te.return=Fe,Te):(Te=qf(qe.type,qe.key,qe.props,null,Fe.mode,nt),mr(Te,qe),Te.return=Fe,Te)}function $e(Fe,Te,qe,nt){return Te===null||Te.tag!==4||Te.stateNode.containerInfo!==qe.containerInfo||Te.stateNode.implementation!==qe.implementation?(Te=$f(qe,Fe.mode,nt),Te.return=Fe,Te):(Te=S(Te,qe.children||[]),Te.return=Fe,Te)}function Je(Fe,Te,qe,nt,rr){return Te===null||Te.tag!==7?(Te=zc(qe,Fe.mode,nt,rr),Te.return=Fe,Te):(Te=S(Te,qe),Te.return=Fe,Te)}function at(Fe,Te,qe){if(typeof Te=="string"&&Te!==""||typeof Te=="number"||typeof Te=="bigint")return Te=f0(""+Te,Fe.mode,qe),Te.return=Fe,Te;if(typeof Te=="object"&&Te!==null){switch(Te.$$typeof){case x:return qe=qf(Te.type,Te.key,Te.props,null,Fe.mode,qe),mr(qe,Te),qe.return=Fe,qe;case b:return Te=$f(Te,Fe.mode,qe),Te.return=Fe,Te;case T:return Te=Re(Te),at(Fe,Te,qe)}if(pe(Te)||z(Te))return Te=zc(Te,Fe.mode,qe,null),Te.return=Fe,Te;if(typeof Te.then=="function")return at(Fe,Et(Te),qe);if(Te.$$typeof===A)return at(Fe,Ih(Fe,Te),qe);Ot(Fe,Te)}return null}function Ve(Fe,Te,qe,nt){var rr=Te!==null?Te.key:null;if(typeof qe=="string"&&qe!==""||typeof qe=="number"||typeof qe=="bigint")return rr!==null?null:se(Fe,Te,""+qe,nt);if(typeof qe=="object"&&qe!==null){switch(qe.$$typeof){case x:return qe.key===rr?Ae(Fe,Te,qe,nt):null;case b:return qe.key===rr?$e(Fe,Te,qe,nt):null;case T:return qe=Re(qe),Ve(Fe,Te,qe,nt)}if(pe(qe)||z(qe))return rr!==null?null:Je(Fe,Te,qe,nt,null);if(typeof qe.then=="function")return Ve(Fe,Te,Et(qe),nt);if(qe.$$typeof===A)return Ve(Fe,Te,Ih(Fe,qe),nt);Ot(Fe,qe)}return null}function We(Fe,Te,qe,nt,rr){if(typeof nt=="string"&&nt!==""||typeof nt=="number"||typeof nt=="bigint")return Fe=Fe.get(qe)||null,se(Te,Fe,""+nt,rr);if(typeof nt=="object"&&nt!==null){switch(nt.$$typeof){case x:return Fe=Fe.get(nt.key===null?qe:nt.key)||null,Ae(Te,Fe,nt,rr);case b:return Fe=Fe.get(nt.key===null?qe:nt.key)||null,$e(Te,Fe,nt,rr);case T:return nt=Re(nt),We(Fe,Te,qe,nt,rr)}if(pe(nt)||z(nt))return Fe=Fe.get(qe)||null,Je(Te,Fe,nt,rr,null);if(typeof nt.then=="function")return We(Fe,Te,qe,Et(nt),rr);if(nt.$$typeof===A)return We(Fe,Te,qe,Ih(Te,nt),rr);Ot(Te,nt)}return null}function Lt(Fe,Te,qe,nt){for(var rr=null,Jr=null,qt=Te,Sr=Te=0,Ir=null;qt!==null&&Sr<qe.length;Sr++){qt.index>Sr?(Ir=qt,qt=null):Ir=qt.sibling;var en=Ve(Fe,qt,qe[Sr],nt);if(en===null){qt===null&&(qt=Ir);break}c&&qt&&en.alternate===null&&d(Fe,qt),Te=k(en,Te,Sr),Jr===null?rr=en:Jr.sibling=en,Jr=en,qt=Ir}if(Sr===qe.length)return m(Fe,qt),Fr&&zs(Fe,Sr),rr;if(qt===null){for(;Sr<qe.length;Sr++)qt=at(Fe,qe[Sr],nt),qt!==null&&(Te=k(qt,Te,Sr),Jr===null?rr=qt:Jr.sibling=qt,Jr=qt);return Fr&&zs(Fe,Sr),rr}for(qt=v(qt);Sr<qe.length;Sr++)Ir=We(qt,Fe,Sr,qe[Sr],nt),Ir!==null&&(c&&Ir.alternate!==null&&qt.delete(Ir.key===null?Sr:Ir.key),Te=k(Ir,Te,Sr),Jr===null?rr=Ir:Jr.sibling=Ir,Jr=Ir);return c&&qt.forEach(function(ud){return d(Fe,ud)}),Fr&&zs(Fe,Sr),rr}function lr(Fe,Te,qe,nt){if(qe==null)throw Error(n(151));for(var rr=null,Jr=null,qt=Te,Sr=Te=0,Ir=null,en=qe.next();qt!==null&&!en.done;Sr++,en=qe.next()){qt.index>Sr?(Ir=qt,qt=null):Ir=qt.sibling;var ud=Ve(Fe,qt,en.value,nt);if(ud===null){qt===null&&(qt=Ir);break}c&&qt&&ud.alternate===null&&d(Fe,qt),Te=k(ud,Te,Sr),Jr===null?rr=ud:Jr.sibling=ud,Jr=ud,qt=Ir}if(en.done)return m(Fe,qt),Fr&&zs(Fe,Sr),rr;if(qt===null){for(;!en.done;Sr++,en=qe.next())en=at(Fe,en.value,nt),en!==null&&(Te=k(en,Te,Sr),Jr===null?rr=en:Jr.sibling=en,Jr=en);return Fr&&zs(Fe,Sr),rr}for(qt=v(qt);!en.done;Sr++,en=qe.next())en=We(qt,Fe,Sr,en.value,nt),en!==null&&(c&&en.alternate!==null&&qt.delete(en.key===null?Sr:en.key),Te=k(en,Te,Sr),Jr===null?rr=en:Jr.sibling=en,Jr=en);return c&&qt.forEach(function(jz){return d(Fe,jz)}),Fr&&zs(Fe,Sr),rr}function Tn(Fe,Te,qe,nt){if(typeof qe=="object"&&qe!==null&&qe.type===y&&qe.key===null&&(qe=qe.props.children),typeof qe=="object"&&qe!==null){switch(qe.$$typeof){case x:e:{for(var rr=qe.key;Te!==null;){if(Te.key===rr){if(rr=qe.type,rr===y){if(Te.tag===7){m(Fe,Te.sibling),nt=S(Te,qe.props.children),nt.return=Fe,Fe=nt;break e}}else if(Te.elementType===rr||typeof rr=="object"&&rr!==null&&rr.$$typeof===T&&Re(rr)===Te.type){m(Fe,Te.sibling),nt=S(Te,qe.props),mr(nt,qe),nt.return=Fe,Fe=nt;break e}m(Fe,Te);break}else d(Fe,Te);Te=Te.sibling}qe.type===y?(nt=zc(qe.props.children,Fe.mode,nt,qe.key),nt.return=Fe,Fe=nt):(nt=qf(qe.type,qe.key,qe.props,null,Fe.mode,nt),mr(nt,qe),nt.return=Fe,Fe=nt)}return V(Fe);case b:e:{for(rr=qe.key;Te!==null;){if(Te.key===rr)if(Te.tag===4&&Te.stateNode.containerInfo===qe.containerInfo&&Te.stateNode.implementation===qe.implementation){m(Fe,Te.sibling),nt=S(Te,qe.children||[]),nt.return=Fe,Fe=nt;break e}else{m(Fe,Te);break}else d(Fe,Te);Te=Te.sibling}nt=$f(qe,Fe.mode,nt),nt.return=Fe,Fe=nt}return V(Fe);case T:return qe=Re(qe),Tn(Fe,Te,qe,nt)}if(pe(qe))return Lt(Fe,Te,qe,nt);if(z(qe)){if(rr=z(qe),typeof rr!="function")throw Error(n(150));return qe=rr.call(qe),lr(Fe,Te,qe,nt)}if(typeof qe.then=="function")return Tn(Fe,Te,Et(qe),nt);if(qe.$$typeof===A)return Tn(Fe,Te,Ih(Fe,qe),nt);Ot(Fe,qe)}return typeof qe=="string"&&qe!==""||typeof qe=="number"||typeof qe=="bigint"?(qe=""+qe,Te!==null&&Te.tag===6?(m(Fe,Te.sibling),nt=S(Te,qe),nt.return=Fe,Fe=nt):(m(Fe,Te),nt=f0(qe,Fe.mode,nt),nt.return=Fe,Fe=nt),V(Fe)):m(Fe,Te)}return function(Fe,Te,qe,nt){try{Mt=0;var rr=Tn(Fe,Te,qe,nt);return it=null,rr}catch(qt){if(qt===ke||qt===ye)throw qt;var Jr=Oi(29,qt,null,Fe.mode);return Jr.lanes=nt,Jr.return=Fe,Jr}finally{}}}var Ln=Tr(!0),gr=Tr(!1),kt=!1;function bt(c){c.updateQueue={baseState:c.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function Vn(c,d){c=c.updateQueue,d.updateQueue===c&&(d.updateQueue={baseState:c.baseState,firstBaseUpdate:c.firstBaseUpdate,lastBaseUpdate:c.lastBaseUpdate,shared:c.shared,callbacks:null})}function sr(c){return{lane:c,tag:0,payload:null,callback:null,next:null}}function wr(c,d,m){var v=c.updateQueue;if(v===null)return null;if(v=v.shared,(cn&2)!==0){var S=v.pending;return S===null?d.next=d:(d.next=S.next,S.next=d),v.pending=d,d=Ti(c),c0(c,null,m),d}return o0(c,v,d,m),Ti(c)}function ln(c,d,m){if(d=d.updateQueue,d!==null&&(d=d.shared,(m&4194048)!==0)){var v=d.lanes;v&=c.pendingLanes,m|=v,d.lanes=m,li(c,m)}}function za(c,d){var m=c.updateQueue,v=c.alternate;if(v!==null&&(v=v.updateQueue,m===v)){var S=null,k=null;if(m=m.firstBaseUpdate,m!==null){do{var V={lane:m.lane,tag:m.tag,payload:m.payload,callback:null,next:null};k===null?S=k=V:k=k.next=V,m=m.next}while(m!==null);k===null?S=k=d:k=k.next=d}else S=k=d;m={baseState:v.baseState,firstBaseUpdate:S,lastBaseUpdate:k,shared:v.shared,callbacks:v.callbacks},c.updateQueue=m;return}c=m.lastBaseUpdate,c===null?m.firstBaseUpdate=d:c.next=d,m.lastBaseUpdate=d}var xi=!1;function En(){if(xi){var c=j;if(c!==null)throw c}}function Ea(c,d,m,v){xi=!1;var S=c.updateQueue;kt=!1;var k=S.firstBaseUpdate,V=S.lastBaseUpdate,se=S.shared.pending;if(se!==null){S.shared.pending=null;var Ae=se,$e=Ae.next;Ae.next=null,V===null?k=$e:V.next=$e,V=Ae;var Je=c.alternate;Je!==null&&(Je=Je.updateQueue,se=Je.lastBaseUpdate,se!==V&&(se===null?Je.firstBaseUpdate=$e:se.next=$e,Je.lastBaseUpdate=Ae))}if(k!==null){var at=S.baseState;V=0,Je=$e=Ae=null,se=k;do{var Ve=se.lane&-536870913,We=Ve!==se.lane;if(We?(Rr&Ve)===Ve:(v&Ve)===Ve){Ve!==0&&Ve===N&&(xi=!0),Je!==null&&(Je=Je.next={lane:0,tag:se.tag,payload:se.payload,callback:null,next:null});e:{var Lt=c,lr=se;Ve=d;var Tn=m;switch(lr.tag){case 1:if(Lt=lr.payload,typeof Lt=="function"){at=Lt.call(Tn,at,Ve);break e}at=Lt;break e;case 3:Lt.flags=Lt.flags&-65537|128;case 0:if(Lt=lr.payload,Ve=typeof Lt=="function"?Lt.call(Tn,at,Ve):Lt,Ve==null)break e;at=p({},at,Ve);break e;case 2:kt=!0}}Ve=se.callback,Ve!==null&&(c.flags|=64,We&&(c.flags|=8192),We=S.callbacks,We===null?S.callbacks=[Ve]:We.push(Ve))}else We={lane:Ve,tag:se.tag,payload:se.payload,callback:se.callback,next:null},Je===null?($e=Je=We,Ae=at):Je=Je.next=We,V|=Ve;if(se=se.next,se===null){if(se=S.shared.pending,se===null)break;We=se,se=We.next,We.next=null,S.lastBaseUpdate=We,S.shared.pending=null}}while(!0);Je===null&&(Ae=at),S.baseState=Ae,S.firstBaseUpdate=$e,S.lastBaseUpdate=Je,k===null&&(S.shared.lanes=0),ed|=V,c.lanes=V,c.memoizedState=at}}function Di(c,d){if(typeof c!="function")throw Error(n(191,c));c.call(d)}function ka(c,d){var m=c.callbacks;if(m!==null)for(c.callbacks=null,c=0;c<m.length;c++)Di(m[c],d)}var Er=te(null),$r=te(0);function Wn(c,d){c=zu,M($r,c),M(Er,d),zu=c|d.baseLanes}function Yr(){M($r,zu),M(Er,Er.current)}function qa(){zu=$r.current,F(Er),F($r)}var Gn=te(null),Hr=null;function _a(c){var d=c.alternate;M(zr,zr.current&1),M(Gn,c),Hr===null&&(d===null||Er.current!==null||d.memoizedState!==null)&&(Hr=c)}function on(c){M(zr,zr.current),M(Gn,c),Hr===null&&(Hr=c)}function Ca(c){c.tag===22?(M(zr,zr.current),M(Gn,c),Hr===null&&(Hr=c)):Ta()}function Ta(){M(zr,zr.current),M(Gn,Gn.current)}function xn(c){F(Gn),Hr===c&&(Hr=null),F(zr)}var zr=te(0);function Pi(c){for(var d=c;d!==null;){if(d.tag===13){var m=d.memoizedState;if(m!==null&&(m=m.dehydrated,m===null||Jb(m)||ew(m)))return d}else if(d.tag===19&&(d.memoizedProps.revealOrder==="forwards"||d.memoizedProps.revealOrder==="backwards"||d.memoizedProps.revealOrder==="unstable_legacy-backwards"||d.memoizedProps.revealOrder==="together")){if((d.flags&128)!==0)return d}else if(d.child!==null){d.child.return=d,d=d.child;continue}if(d===c)break;for(;d.sibling===null;){if(d.return===null||d.return===c)return null;d=d.return}d.sibling.return=d.return,d=d.sibling}return null}var aa=0,Xt=null,tr=null,Vr=null,fs=!1,gl=!1,Yi=!1,Oa=0,Kc=0,Yc=null,Uh=0;function kn(){throw Error(n(321))}function jp(c,d){if(d===null)return!1;for(var m=0;m<d.length&&m<c.length;m++)if(!fi(c[m],d[m]))return!1;return!0}function Ap(c,d,m,v,S,k){return aa=k,Xt=d,d.memoizedState=null,d.updateQueue=null,d.lanes=0,ne.H=c===null||c.memoizedState===null?n6:ub,Yi=!1,k=m(v,S),Yi=!1,gl&&(k=uc(d,m,v,S)),zh(c),k}function zh(c){ne.H=Fp;var d=tr!==null&&tr.next!==null;if(aa=0,Vr=tr=Xt=null,fs=!1,Kc=0,Yc=null,d)throw Error(n(300));c===null||Ja||(c=c.dependencies,c!==null&&Rh(c)&&(Ja=!0))}function uc(c,d,m,v){Xt=c;var S=0;do{if(gl&&(Yc=null),Kc=0,gl=!1,25<=S)throw Error(n(301));if(S+=1,Vr=tr=null,c.updateQueue!=null){var k=c.updateQueue;k.lastEffect=null,k.events=null,k.stores=null,k.memoCache!=null&&(k.memoCache.index=0)}ne.H=a6,k=d(m,v)}while(gl);return k}function nb(){var c=ne.H,d=c.useState()[0];return d=typeof d.then=="function"?Xc(d):d,c=c.useState()[0],(tr!==null?tr.memoizedState:null)!==c&&(Xt.flags|=1024),d}function Ep(){var c=Oa!==0;return Oa=0,c}function kp(c,d,m){d.updateQueue=c.updateQueue,d.flags&=-2053,c.lanes&=~m}function qh(c){if(fs){for(c=c.memoizedState;c!==null;){var d=c.queue;d!==null&&(d.pending=null),c=c.next}fs=!1}aa=0,Vr=tr=Xt=null,gl=!1,Kc=Oa=0,Yc=null}function Za(){var c={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Vr===null?Xt.memoizedState=Vr=c:Vr=Vr.next=c,Vr}function ia(){if(tr===null){var c=Xt.alternate;c=c!==null?c.memoizedState:null}else c=tr.next;var d=Vr===null?Xt.memoizedState:Vr.next;if(d!==null)Vr=d,tr=c;else{if(c===null)throw Xt.alternate===null?Error(n(467)):Error(n(310));tr=c,c={memoizedState:tr.memoizedState,baseState:tr.baseState,baseQueue:tr.baseQueue,queue:tr.queue,next:null},Vr===null?Xt.memoizedState=Vr=c:Vr=Vr.next=c}return Vr}function p0(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function Xc(c){var d=Kc;return Kc+=1,Yc===null&&(Yc=[]),c=Qe(Yc,c,d),d=Xt,(Vr===null?d.memoizedState:Vr.next)===null&&(d=d.alternate,ne.H=d===null||d.memoizedState===null?n6:ub),c}function Kf(c){if(c!==null&&typeof c=="object"){if(typeof c.then=="function")return Xc(c);if(c.$$typeof===A)return pi(c)}throw Error(n(438,String(c)))}function Du(c){var d=null,m=Xt.updateQueue;if(m!==null&&(d=m.memoCache),d==null){var v=Xt.alternate;v!==null&&(v=v.updateQueue,v!==null&&(v=v.memoCache,v!=null&&(d={data:v.data.map(function(S){return S.slice()}),index:0})))}if(d==null&&(d={data:[],index:0}),m===null&&(m=p0(),Xt.updateQueue=m),m.memoCache=d,m=d.data[d.index],m===void 0)for(m=d.data[d.index]=Array(c),v=0;v<c;v++)m[v]=G;return d.index++,m}function bo(c,d){return typeof d=="function"?d(c):d}function $h(c){var d=ia();return Yf(d,tr,c)}function Yf(c,d,m){var v=c.queue;if(v===null)throw Error(n(311));v.lastRenderedReducer=m;var S=c.baseQueue,k=v.pending;if(k!==null){if(S!==null){var V=S.next;S.next=k.next,k.next=V}d.baseQueue=S=k,v.pending=null}if(k=c.baseState,S===null)c.memoizedState=k;else{d=S.next;var se=V=null,Ae=null,$e=d,Je=!1;do{var at=$e.lane&-536870913;if(at!==$e.lane?(Rr&at)===at:(aa&at)===at){var Ve=$e.revertLane;if(Ve===0)Ae!==null&&(Ae=Ae.next={lane:0,revertLane:0,gesture:null,action:$e.action,hasEagerState:$e.hasEagerState,eagerState:$e.eagerState,next:null}),at===N&&(Je=!0);else if((aa&Ve)===Ve){$e=$e.next,Ve===N&&(Je=!0);continue}else at={lane:0,revertLane:$e.revertLane,gesture:null,action:$e.action,hasEagerState:$e.hasEagerState,eagerState:$e.eagerState,next:null},Ae===null?(se=Ae=at,V=k):Ae=Ae.next=at,Xt.lanes|=Ve,ed|=Ve;at=$e.action,Yi&&m(k,at),k=$e.hasEagerState?$e.eagerState:m(k,at)}else Ve={lane:at,revertLane:$e.revertLane,gesture:$e.gesture,action:$e.action,hasEagerState:$e.hasEagerState,eagerState:$e.eagerState,next:null},Ae===null?(se=Ae=Ve,V=k):Ae=Ae.next=Ve,Xt.lanes|=at,ed|=at;$e=$e.next}while($e!==null&&$e!==d);if(Ae===null?V=k:Ae.next=se,!fi(k,c.memoizedState)&&(Ja=!0,Je&&(m=j,m!==null)))throw m;c.memoizedState=k,c.baseState=V,c.baseQueue=Ae,v.lastRenderedState=k}return S===null&&(v.lanes=0),[c.memoizedState,v.dispatch]}function Hh(c){var d=ia(),m=d.queue;if(m===null)throw Error(n(311));m.lastRenderedReducer=c;var v=m.dispatch,S=m.pending,k=d.memoizedState;if(S!==null){m.pending=null;var V=S=S.next;do k=c(k,V.action),V=V.next;while(V!==S);fi(k,d.memoizedState)||(Ja=!0),d.memoizedState=k,d.baseQueue===null&&(d.baseState=k),m.lastRenderedState=k}return[k,v]}function Vh(c,d,m){var v=Xt,S=ia(),k=Fr;if(k){if(m===void 0)throw Error(n(407));m=m()}else m=d();var V=!fi((tr||S).memoizedState,m);if(V&&(S.memoizedState=m,Ja=!0),S=S.queue,ab(Tp.bind(null,v,S,c),[c]),S.getSnapshot!==d||V||Vr!==null&&Vr.memoizedState.tag&1){if(v.flags|=2048,Fu(9,{destroy:void 0},Cp.bind(null,v,S,m,d),null),Mn===null)throw Error(n(349));k||(aa&127)!==0||fc(v,d,m)}return m}function fc(c,d,m){c.flags|=16384,c={getSnapshot:d,value:m},d=Xt.updateQueue,d===null?(d=p0(),Xt.updateQueue=d,d.stores=[c]):(m=d.stores,m===null?d.stores=[c]:m.push(c))}function Cp(c,d,m,v){d.value=m,d.getSnapshot=v,t1(d)&&Op(c)}function Tp(c,d,m){return m(function(){t1(d)&&Op(c)})}function t1(c){var d=c.getSnapshot;c=c.value;try{var m=d();return!fi(c,m)}catch{return!0}}function Op(c){var d=oc(c,2);d!==null&&_l(d,c,2)}function Qc(c){var d=Za();if(typeof c=="function"){var m=c;if(c=m(),Yi){er(!0);try{m()}finally{er(!1)}}}return d.memoizedState=d.baseState=c,d.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:bo,lastRenderedState:c},d}function r1(c,d,m,v){return c.baseState=m,Yf(c,tr,typeof v=="function"?v:bo)}function n1(c,d,m,v,S){if(l1(c))throw Error(n(485));if(c=d.action,c!==null){var k={payload:S,action:c,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(V){k.listeners.push(V)}};ne.T!==null?m(!0):k.isTransition=!1,v(k),m=d.pending,m===null?(k.next=d.pending=k,a1(d,k)):(k.next=m.next,d.pending=m.next=k)}}function a1(c,d){var m=d.action,v=d.payload,S=c.state;if(d.isTransition){var k=ne.T,V={};ne.T=V;try{var se=m(S,v),Ae=ne.S;Ae!==null&&Ae(V,se),Dp(c,d,se)}catch($e){Pu(c,d,$e)}finally{k!==null&&V.types!==null&&(k.types=V.types),ne.T=k}}else try{k=m(S,v),Dp(c,d,k)}catch($e){Pu(c,d,$e)}}function Dp(c,d,m){m!==null&&typeof m=="object"&&typeof m.then=="function"?m.then(function(v){i1(c,d,v)},function(v){return Pu(c,d,v)}):i1(c,d,m)}function i1(c,d,m){d.status="fulfilled",d.value=m,Wh(d),c.state=m,d=c.pending,d!==null&&(m=d.next,m===d?c.pending=null:(m=m.next,d.next=m,a1(c,m)))}function Pu(c,d,m){var v=c.pending;if(c.pending=null,v!==null){v=v.next;do d.status="rejected",d.reason=m,Wh(d),d=d.next;while(d!==v)}c.action=null}function Wh(c){c=c.listeners;for(var d=0;d<c.length;d++)(0,c[d])()}function x0(c,d){return d}function wo(c,d){if(Fr){var m=Mn.formState;if(m!==null){e:{var v=Xt;if(Fr){if(Fn){t:{for(var S=Fn,k=na;S.nodeType!==8;){if(!k){S=null;break t}if(S=_o(S.nextSibling),S===null){S=null;break t}}k=S.data,S=k==="F!"||k==="F"?S:null}if(S){Fn=_o(S.nextSibling),v=S.data==="F!";break e}}$c(v)}v=!1}v&&(d=m[0])}}return m=Za(),m.memoizedState=m.baseState=d,v={pending:null,lanes:0,dispatch:null,lastRenderedReducer:x0,lastRenderedState:d},m.queue=v,m=e6.bind(null,Xt,v),v.dispatch=m,v=Qc(!1),k=cb.bind(null,Xt,!1,v.queue),v=Za(),S={state:d,dispatch:null,action:c,pending:null},v.queue=S,m=n1.bind(null,Xt,S,k,m),S.dispatch=m,v.memoizedState=c,[d,m,!1]}function dc(c){var d=ia();return hc(d,tr,c)}function hc(c,d,m){if(d=Yf(c,d,x0)[0],c=$h(bo)[0],typeof d=="object"&&d!==null&&typeof d.then=="function")try{var v=Xc(d)}catch(V){throw V===ke?ye:V}else v=d;d=ia();var S=d.queue,k=S.dispatch;return m!==d.memoizedState&&(Xt.flags|=2048,Fu(9,{destroy:void 0},Gh.bind(null,S,m),null)),[v,k,c]}function Gh(c,d){c.action=d}function Kh(c){var d=ia(),m=tr;if(m!==null)return hc(d,m,c);ia(),d=d.memoizedState,m=ia();var v=m.queue.dispatch;return m.memoizedState=c,[d,v,!1]}function Fu(c,d,m,v){return c={tag:c,create:m,deps:v,inst:d,next:null},d=Xt.updateQueue,d===null&&(d=p0(),Xt.updateQueue=d),m=d.lastEffect,m===null?d.lastEffect=c.next=c:(v=m.next,m.next=c,c.next=v,d.lastEffect=c),c}function s1(){return ia().memoizedState}function Xf(c,d,m,v){var S=Za();Xt.flags|=c,S.memoizedState=Fu(1|d,{destroy:void 0},m,v===void 0?null:v)}function Qf(c,d,m,v){var S=ia();v=v===void 0?null:v;var k=S.memoizedState.inst;tr!==null&&v!==null&&jp(v,tr.memoizedState.deps)?S.memoizedState=Fu(d,k,m,v):(Xt.flags|=c,S.memoizedState=Fu(1|d,k,m,v))}function Uj(c,d){Xf(8390656,8,c,d)}function ab(c,d){Qf(2048,8,c,d)}function yU(c){Xt.flags|=4;var d=Xt.updateQueue;if(d===null)d=p0(),Xt.updateQueue=d,d.events=[c];else{var m=d.events;m===null?d.events=[c]:m.push(c)}}function zj(c){var d=ia().memoizedState;return yU({ref:d,nextImpl:c}),function(){if((cn&2)!==0)throw Error(n(440));return d.impl.apply(void 0,arguments)}}function qj(c,d){return Qf(4,2,c,d)}function $j(c,d){return Qf(4,4,c,d)}function Hj(c,d){if(typeof d=="function"){c=c();var m=d(c);return function(){typeof m=="function"?m():d(null)}}if(d!=null)return c=c(),d.current=c,function(){d.current=null}}function Vj(c,d,m){m=m!=null?m.concat([c]):null,Qf(4,4,Hj.bind(null,d,c),m)}function ib(){}function Wj(c,d){var m=ia();d=d===void 0?null:d;var v=m.memoizedState;return d!==null&&jp(d,v[1])?v[0]:(m.memoizedState=[c,d],c)}function Gj(c,d){var m=ia();d=d===void 0?null:d;var v=m.memoizedState;if(d!==null&&jp(d,v[1]))return v[0];if(v=c(),Yi){er(!0);try{c()}finally{er(!1)}}return m.memoizedState=[v,d],v}function sb(c,d,m){return m===void 0||(aa&1073741824)!==0&&(Rr&261930)===0?c.memoizedState=d:(c.memoizedState=m,c=K6(),Xt.lanes|=c,ed|=c,m)}function Kj(c,d,m,v){return fi(m,d)?m:Er.current!==null?(c=sb(c,m,v),fi(c,d)||(Ja=!0),c):(aa&42)===0||(aa&1073741824)!==0&&(Rr&261930)===0?(Ja=!0,c.memoizedState=m):(c=K6(),Xt.lanes|=c,ed|=c,d)}function Yj(c,d,m,v,S){var k=le.p;le.p=k!==0&&8>k?k:8;var V=ne.T,se={};ne.T=se,cb(c,!1,d,m);try{var Ae=S(),$e=ne.S;if($e!==null&&$e(se,Ae),Ae!==null&&typeof Ae=="object"&&typeof Ae.then=="function"){var Je=Q(Ae,v);Pp(c,d,Je,ql(c))}else Pp(c,d,v,ql(c))}catch(at){Pp(c,d,{then:function(){},status:"rejected",reason:at},ql())}finally{le.p=k,V!==null&&se.types!==null&&(V.types=se.types),ne.T=V}}function bU(){}function lb(c,d,m,v){if(c.tag!==5)throw Error(n(476));var S=Xj(c).queue;Yj(c,S,d,ve,m===null?bU:function(){return Qj(c),m(v)})}function Xj(c){var d=c.memoizedState;if(d!==null)return d;d={memoizedState:ve,baseState:ve,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:bo,lastRenderedState:ve},next:null};var m={};return d.next={memoizedState:m,baseState:m,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:bo,lastRenderedState:m},next:null},c.memoizedState=d,c=c.alternate,c!==null&&(c.memoizedState=d),d}function Qj(c){var d=Xj(c);d.next===null&&(d=c.alternate.memoizedState),Pp(c,d.next.queue,{},ql())}function ob(){return pi(Xp)}function Zj(){return ia().memoizedState}function Jj(){return ia().memoizedState}function wU(c){for(var d=c.return;d!==null;){switch(d.tag){case 24:case 3:var m=ql();c=sr(m);var v=wr(d,c,m);v!==null&&(_l(v,d,m),ln(v,d,m)),d={cache:Gf()},c.payload=d;return}d=d.return}}function _U(c,d,m){var v=ql();m={lane:v,revertLane:0,gesture:null,action:m,hasEagerState:!1,eagerState:null,next:null},l1(c)?t6(d,m):(m=Ch(c,d,m,v),m!==null&&(_l(m,c,v),r6(m,d,v)))}function e6(c,d,m){var v=ql();Pp(c,d,m,v)}function Pp(c,d,m,v){var S={lane:v,revertLane:0,gesture:null,action:m,hasEagerState:!1,eagerState:null,next:null};if(l1(c))t6(d,S);else{var k=c.alternate;if(c.lanes===0&&(k===null||k.lanes===0)&&(k=d.lastRenderedReducer,k!==null))try{var V=d.lastRenderedState,se=k(V,m);if(S.hasEagerState=!0,S.eagerState=se,fi(se,V))return o0(c,d,S,0),Mn===null&&l0(),!1}catch{}finally{}if(m=Ch(c,d,S,v),m!==null)return _l(m,c,v),r6(m,d,v),!0}return!1}function cb(c,d,m,v){if(v={lane:2,revertLane:zb(),gesture:null,action:v,hasEagerState:!1,eagerState:null,next:null},l1(c)){if(d)throw Error(n(479))}else d=Ch(c,m,v,2),d!==null&&_l(d,c,2)}function l1(c){var d=c.alternate;return c===Xt||d!==null&&d===Xt}function t6(c,d){gl=fs=!0;var m=c.pending;m===null?d.next=d:(d.next=m.next,m.next=d),c.pending=d}function r6(c,d,m){if((m&4194048)!==0){var v=d.lanes;v&=c.pendingLanes,m|=v,d.lanes=m,li(c,m)}}var Fp={readContext:pi,use:Kf,useCallback:kn,useContext:kn,useEffect:kn,useImperativeHandle:kn,useLayoutEffect:kn,useInsertionEffect:kn,useMemo:kn,useReducer:kn,useRef:kn,useState:kn,useDebugValue:kn,useDeferredValue:kn,useTransition:kn,useSyncExternalStore:kn,useId:kn,useHostTransitionStatus:kn,useFormState:kn,useActionState:kn,useOptimistic:kn,useMemoCache:kn,useCacheRefresh:kn};Fp.useEffectEvent=kn;var n6={readContext:pi,use:Kf,useCallback:function(c,d){return Za().memoizedState=[c,d===void 0?null:d],c},useContext:pi,useEffect:Uj,useImperativeHandle:function(c,d,m){m=m!=null?m.concat([c]):null,Xf(4194308,4,Hj.bind(null,d,c),m)},useLayoutEffect:function(c,d){return Xf(4194308,4,c,d)},useInsertionEffect:function(c,d){Xf(4,2,c,d)},useMemo:function(c,d){var m=Za();d=d===void 0?null:d;var v=c();if(Yi){er(!0);try{c()}finally{er(!1)}}return m.memoizedState=[v,d],v},useReducer:function(c,d,m){var v=Za();if(m!==void 0){var S=m(d);if(Yi){er(!0);try{m(d)}finally{er(!1)}}}else S=d;return v.memoizedState=v.baseState=S,c={pending:null,lanes:0,dispatch:null,lastRenderedReducer:c,lastRenderedState:S},v.queue=c,c=c.dispatch=_U.bind(null,Xt,c),[v.memoizedState,c]},useRef:function(c){var d=Za();return c={current:c},d.memoizedState=c},useState:function(c){c=Qc(c);var d=c.queue,m=e6.bind(null,Xt,d);return d.dispatch=m,[c.memoizedState,m]},useDebugValue:ib,useDeferredValue:function(c,d){var m=Za();return sb(m,c,d)},useTransition:function(){var c=Qc(!1);return c=Yj.bind(null,Xt,c.queue,!0,!1),Za().memoizedState=c,[!1,c]},useSyncExternalStore:function(c,d,m){var v=Xt,S=Za();if(Fr){if(m===void 0)throw Error(n(407));m=m()}else{if(m=d(),Mn===null)throw Error(n(349));(Rr&127)!==0||fc(v,d,m)}S.memoizedState=m;var k={value:m,getSnapshot:d};return S.queue=k,Uj(Tp.bind(null,v,k,c),[c]),v.flags|=2048,Fu(9,{destroy:void 0},Cp.bind(null,v,k,m,d),null),m},useId:function(){var c=Za(),d=Mn.identifierPrefix;if(Fr){var m=pl,v=ml;m=(v&~(1<<32-br(v)-1)).toString(32)+m,d="_"+d+"R_"+m,m=Oa++,0<m&&(d+="H"+m.toString(32)),d+="_"}else m=Uh++,d="_"+d+"r_"+m.toString(32)+"_";return c.memoizedState=d},useHostTransitionStatus:ob,useFormState:wo,useActionState:wo,useOptimistic:function(c){var d=Za();d.memoizedState=d.baseState=c;var m={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return d.queue=m,d=cb.bind(null,Xt,!0,m),m.dispatch=d,[c,d]},useMemoCache:Du,useCacheRefresh:function(){return Za().memoizedState=wU.bind(null,Xt)},useEffectEvent:function(c){var d=Za(),m={impl:c};return d.memoizedState=m,function(){if((cn&2)!==0)throw Error(n(440));return m.impl.apply(void 0,arguments)}}},ub={readContext:pi,use:Kf,useCallback:Wj,useContext:pi,useEffect:ab,useImperativeHandle:Vj,useInsertionEffect:qj,useLayoutEffect:$j,useMemo:Gj,useReducer:$h,useRef:s1,useState:function(){return $h(bo)},useDebugValue:ib,useDeferredValue:function(c,d){var m=ia();return Kj(m,tr.memoizedState,c,d)},useTransition:function(){var c=$h(bo)[0],d=ia().memoizedState;return[typeof c=="boolean"?c:Xc(c),d]},useSyncExternalStore:Vh,useId:Zj,useHostTransitionStatus:ob,useFormState:dc,useActionState:dc,useOptimistic:function(c,d){var m=ia();return r1(m,tr,c,d)},useMemoCache:Du,useCacheRefresh:Jj};ub.useEffectEvent=zj;var a6={readContext:pi,use:Kf,useCallback:Wj,useContext:pi,useEffect:ab,useImperativeHandle:Vj,useInsertionEffect:qj,useLayoutEffect:$j,useMemo:Gj,useReducer:Hh,useRef:s1,useState:function(){return Hh(bo)},useDebugValue:ib,useDeferredValue:function(c,d){var m=ia();return tr===null?sb(m,c,d):Kj(m,tr.memoizedState,c,d)},useTransition:function(){var c=Hh(bo)[0],d=ia().memoizedState;return[typeof c=="boolean"?c:Xc(c),d]},useSyncExternalStore:Vh,useId:Zj,useHostTransitionStatus:ob,useFormState:Kh,useActionState:Kh,useOptimistic:function(c,d){var m=ia();return tr!==null?r1(m,tr,c,d):(m.baseState=c,[c,m.queue.dispatch])},useMemoCache:Du,useCacheRefresh:Jj};a6.useEffectEvent=zj;function fb(c,d,m,v){d=c.memoizedState,m=m(v,d),m=m==null?d:p({},d,m),c.memoizedState=m,c.lanes===0&&(c.updateQueue.baseState=m)}var db={enqueueSetState:function(c,d,m){c=c._reactInternals;var v=ql(),S=sr(v);S.payload=d,m!=null&&(S.callback=m),d=wr(c,S,v),d!==null&&(_l(d,c,v),ln(d,c,v))},enqueueReplaceState:function(c,d,m){c=c._reactInternals;var v=ql(),S=sr(v);S.tag=1,S.payload=d,m!=null&&(S.callback=m),d=wr(c,S,v),d!==null&&(_l(d,c,v),ln(d,c,v))},enqueueForceUpdate:function(c,d){c=c._reactInternals;var m=ql(),v=sr(m);v.tag=2,d!=null&&(v.callback=d),d=wr(c,v,m),d!==null&&(_l(d,c,m),ln(d,c,m))}};function i6(c,d,m,v,S,k,V){return c=c.stateNode,typeof c.shouldComponentUpdate=="function"?c.shouldComponentUpdate(v,k,V):d.prototype&&d.prototype.isPureReactComponent?!ac(m,v)||!ac(S,k):!0}function s6(c,d,m,v){c=d.state,typeof d.componentWillReceiveProps=="function"&&d.componentWillReceiveProps(m,v),typeof d.UNSAFE_componentWillReceiveProps=="function"&&d.UNSAFE_componentWillReceiveProps(m,v),d.state!==c&&db.enqueueReplaceState(d,d.state,null)}function g0(c,d){var m=d;if("ref"in d){m={};for(var v in d)v!=="ref"&&(m[v]=d[v])}if(c=c.defaultProps){m===d&&(m=p({},m));for(var S in c)m[S]===void 0&&(m[S]=c[S])}return m}function l6(c){s0(c)}function o6(c){console.error(c)}function c6(c){s0(c)}function o1(c,d){try{var m=c.onUncaughtError;m(d.value,{componentStack:d.stack})}catch(v){setTimeout(function(){throw v})}}function u6(c,d,m){try{var v=c.onCaughtError;v(m.value,{componentStack:m.stack,errorBoundary:d.tag===1?d.stateNode:null})}catch(S){setTimeout(function(){throw S})}}function hb(c,d,m){return m=sr(m),m.tag=3,m.payload={element:null},m.callback=function(){o1(c,d)},m}function f6(c){return c=sr(c),c.tag=3,c}function d6(c,d,m,v){var S=m.type.getDerivedStateFromError;if(typeof S=="function"){var k=v.value;c.payload=function(){return S(k)},c.callback=function(){u6(d,m,v)}}var V=m.stateNode;V!==null&&typeof V.componentDidCatch=="function"&&(c.callback=function(){u6(d,m,v),typeof S!="function"&&(td===null?td=new Set([this]):td.add(this));var se=v.stack;this.componentDidCatch(v.value,{componentStack:se!==null?se:""})})}function NU(c,d,m,v,S){if(m.flags|=32768,v!==null&&typeof v=="object"&&typeof v.then=="function"){if(d=m.alternate,d!==null&&Wc(d,m,S,!0),m=Gn.current,m!==null){switch(m.tag){case 31:case 13:return Hr===null?b1():m.alternate===null&&Da===0&&(Da=3),m.flags&=-257,m.flags|=65536,m.lanes=S,v===Oe?m.flags|=16384:(d=m.updateQueue,d===null?m.updateQueue=new Set([v]):d.add(v),Ib(c,v,S)),!1;case 22:return m.flags|=65536,v===Oe?m.flags|=16384:(d=m.updateQueue,d===null?(d={transitions:null,markerInstances:null,retryQueue:new Set([v])},m.updateQueue=d):(m=d.retryQueue,m===null?d.retryQueue=new Set([v]):m.add(v)),Ib(c,v,S)),!1}throw Error(n(435,m.tag))}return Ib(c,v,S),b1(),!1}if(Fr)return d=Gn.current,d!==null?((d.flags&65536)===0&&(d.flags|=256),d.flags|=65536,d.lanes=S,v!==Bl&&(c=Error(n(422),{cause:v}),Vf(fl(c,m)))):(v!==Bl&&(d=Error(n(423),{cause:v}),Vf(fl(d,m))),c=c.current.alternate,c.flags|=65536,S&=-S,c.lanes|=S,v=fl(v,m),S=hb(c.stateNode,v,S),za(c,S),Da!==4&&(Da=2)),!1;var k=Error(n(520),{cause:v});if(k=fl(k,m),qp===null?qp=[k]:qp.push(k),Da!==4&&(Da=2),d===null)return!0;v=fl(v,m),m=d;do{switch(m.tag){case 3:return m.flags|=65536,c=S&-S,m.lanes|=c,c=hb(m.stateNode,v,c),za(m,c),!1;case 1:if(d=m.type,k=m.stateNode,(m.flags&128)===0&&(typeof d.getDerivedStateFromError=="function"||k!==null&&typeof k.componentDidCatch=="function"&&(td===null||!td.has(k))))return m.flags|=65536,S&=-S,m.lanes|=S,S=f6(S),d6(S,c,m,v),za(m,S),!1}m=m.return}while(m!==null);return!1}var mb=Error(n(461)),Ja=!1;function Xi(c,d,m,v){d.child=c===null?gr(d,null,m,v):Ln(d,c.child,m,v)}function h6(c,d,m,v,S){m=m.render;var k=d.ref;if("ref"in v){var V={};for(var se in v)se!=="ref"&&(V[se]=v[se])}else V=v;return Gc(d),v=Ap(c,d,m,V,k,S),se=Ep(),c!==null&&!Ja?(kp(c,d,S),Lu(c,d,S)):(Fr&&se&&_p(d),d.flags|=1,Xi(c,d,v,S),d.child)}function m6(c,d,m,v,S){if(c===null){var k=m.type;return typeof k=="function"&&!Oh(k)&&k.defaultProps===void 0&&m.compare===null?(d.tag=15,d.type=k,p6(c,d,k,v,S)):(c=qf(m.type,null,v,d,d.mode,S),c.ref=d.ref,c.return=d,d.child=c)}if(k=c.child,!_b(c,S)){var V=k.memoizedProps;if(m=m.compare,m=m!==null?m:ac,m(V,v)&&c.ref===d.ref)return Lu(c,d,S)}return d.flags|=1,c=ul(k,v),c.ref=d.ref,c.return=d,d.child=c}function p6(c,d,m,v,S){if(c!==null){var k=c.memoizedProps;if(ac(k,v)&&c.ref===d.ref)if(Ja=!1,d.pendingProps=v=k,_b(c,S))(c.flags&131072)!==0&&(Ja=!0);else return d.lanes=c.lanes,Lu(c,d,S)}return pb(c,d,m,v,S)}function x6(c,d,m,v){var S=v.children,k=c!==null?c.memoizedState:null;if(c===null&&d.stateNode===null&&(d.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),v.mode==="hidden"){if((d.flags&128)!==0){if(k=k!==null?k.baseLanes|m:m,c!==null){for(v=d.child=c.child,S=0;v!==null;)S=S|v.lanes|v.childLanes,v=v.sibling;v=S&~k}else v=0,d.child=null;return g6(c,d,k,m,v)}if((m&536870912)!==0)d.memoizedState={baseLanes:0,cachePool:null},c!==null&&me(d,k!==null?k.cachePool:null),k!==null?Wn(d,k):Yr(),Ca(d);else return v=d.lanes=536870912,g6(c,d,k!==null?k.baseLanes|m:m,m,v)}else k!==null?(me(d,k.cachePool),Wn(d,k),Ta(),d.memoizedState=null):(c!==null&&me(d,null),Yr(),Ta());return Xi(c,d,S,m),d.child}function Lp(c,d){return c!==null&&c.tag===22||d.stateNode!==null||(d.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),d.sibling}function g6(c,d,m,v,S){var k=fe();return k=k===null?null:{parent:wa._currentValue,pool:k},d.memoizedState={baseLanes:m,cachePool:k},c!==null&&me(d,null),Yr(),Ca(d),c!==null&&Wc(c,d,v,!0),d.childLanes=S,null}function c1(c,d){return d=f1({mode:d.mode,children:d.children},c.mode),d.ref=c.ref,c.child=d,d.return=c,d}function v6(c,d,m){return Ln(d,c.child,null,m),c=c1(d,d.pendingProps),c.flags|=2,xn(d),d.memoizedState=null,c}function SU(c,d,m){var v=d.pendingProps,S=(d.flags&128)!==0;if(d.flags&=-129,c===null){if(Fr){if(v.mode==="hidden")return c=c1(d,v),d.lanes=536870912,Lp(null,c);if(on(d),(c=Fn)?(c=TA(c,na),c=c!==null&&c.data==="&"?c:null,c!==null&&(d.memoizedState={dehydrated:c,treeContext:qc!==null?{id:ml,overflow:pl}:null,retryLane:536870912,hydrationErrors:null},m=Dh(c),m.return=d,d.child=m,hi=d,Fn=null)):c=null,c===null)throw $c(d);return d.lanes=536870912,null}return c1(d,v)}var k=c.memoizedState;if(k!==null){var V=k.dehydrated;if(on(d),S)if(d.flags&256)d.flags&=-257,d=v6(c,d,m);else if(d.memoizedState!==null)d.child=c.child,d.flags|=128,d=null;else throw Error(n(558));else if(Ja||Wc(c,d,m,!1),S=(m&c.childLanes)!==0,Ja||S){if(v=Mn,v!==null&&(V=$i(v,m),V!==0&&V!==k.retryLane))throw k.retryLane=V,oc(c,V),_l(v,c,V),mb;b1(),d=v6(c,d,m)}else c=k.treeContext,Fn=_o(V.nextSibling),hi=d,Fr=!0,Ki=null,na=!1,c!==null&&Jg(d,c),d=c1(d,v),d.flags|=4096;return d}return c=ul(c.child,{mode:v.mode,children:v.children}),c.ref=d.ref,d.child=c,c.return=d,c}function u1(c,d){var m=d.ref;if(m===null)c!==null&&c.ref!==null&&(d.flags|=4194816);else{if(typeof m!="function"&&typeof m!="object")throw Error(n(284));(c===null||c.ref!==m)&&(d.flags|=4194816)}}function pb(c,d,m,v,S){return Gc(d),m=Ap(c,d,m,v,void 0,S),v=Ep(),c!==null&&!Ja?(kp(c,d,S),Lu(c,d,S)):(Fr&&v&&_p(d),d.flags|=1,Xi(c,d,m,S),d.child)}function y6(c,d,m,v,S,k){return Gc(d),d.updateQueue=null,m=uc(d,v,m,S),zh(c),v=Ep(),c!==null&&!Ja?(kp(c,d,k),Lu(c,d,k)):(Fr&&v&&_p(d),d.flags|=1,Xi(c,d,m,k),d.child)}function b6(c,d,m,v,S){if(Gc(d),d.stateNode===null){var k=di,V=m.contextType;typeof V=="object"&&V!==null&&(k=pi(V)),k=new m(v,k),d.memoizedState=k.state!==null&&k.state!==void 0?k.state:null,k.updater=db,d.stateNode=k,k._reactInternals=d,k=d.stateNode,k.props=v,k.state=d.memoizedState,k.refs={},bt(d),V=m.contextType,k.context=typeof V=="object"&&V!==null?pi(V):di,k.state=d.memoizedState,V=m.getDerivedStateFromProps,typeof V=="function"&&(fb(d,m,V,v),k.state=d.memoizedState),typeof m.getDerivedStateFromProps=="function"||typeof k.getSnapshotBeforeUpdate=="function"||typeof k.UNSAFE_componentWillMount!="function"&&typeof k.componentWillMount!="function"||(V=k.state,typeof k.componentWillMount=="function"&&k.componentWillMount(),typeof k.UNSAFE_componentWillMount=="function"&&k.UNSAFE_componentWillMount(),V!==k.state&&db.enqueueReplaceState(k,k.state,null),Ea(d,v,k,S),En(),k.state=d.memoizedState),typeof k.componentDidMount=="function"&&(d.flags|=4194308),v=!0}else if(c===null){k=d.stateNode;var se=d.memoizedProps,Ae=g0(m,se);k.props=Ae;var $e=k.context,Je=m.contextType;V=di,typeof Je=="object"&&Je!==null&&(V=pi(Je));var at=m.getDerivedStateFromProps;Je=typeof at=="function"||typeof k.getSnapshotBeforeUpdate=="function",se=d.pendingProps!==se,Je||typeof k.UNSAFE_componentWillReceiveProps!="function"&&typeof k.componentWillReceiveProps!="function"||(se||$e!==V)&&s6(d,k,v,V),kt=!1;var Ve=d.memoizedState;k.state=Ve,Ea(d,v,k,S),En(),$e=d.memoizedState,se||Ve!==$e||kt?(typeof at=="function"&&(fb(d,m,at,v),$e=d.memoizedState),(Ae=kt||i6(d,m,Ae,v,Ve,$e,V))?(Je||typeof k.UNSAFE_componentWillMount!="function"&&typeof k.componentWillMount!="function"||(typeof k.componentWillMount=="function"&&k.componentWillMount(),typeof k.UNSAFE_componentWillMount=="function"&&k.UNSAFE_componentWillMount()),typeof k.componentDidMount=="function"&&(d.flags|=4194308)):(typeof k.componentDidMount=="function"&&(d.flags|=4194308),d.memoizedProps=v,d.memoizedState=$e),k.props=v,k.state=$e,k.context=V,v=Ae):(typeof k.componentDidMount=="function"&&(d.flags|=4194308),v=!1)}else{k=d.stateNode,Vn(c,d),V=d.memoizedProps,Je=g0(m,V),k.props=Je,at=d.pendingProps,Ve=k.context,$e=m.contextType,Ae=di,typeof $e=="object"&&$e!==null&&(Ae=pi($e)),se=m.getDerivedStateFromProps,($e=typeof se=="function"||typeof k.getSnapshotBeforeUpdate=="function")||typeof k.UNSAFE_componentWillReceiveProps!="function"&&typeof k.componentWillReceiveProps!="function"||(V!==at||Ve!==Ae)&&s6(d,k,v,Ae),kt=!1,Ve=d.memoizedState,k.state=Ve,Ea(d,v,k,S),En();var We=d.memoizedState;V!==at||Ve!==We||kt||c!==null&&c.dependencies!==null&&Rh(c.dependencies)?(typeof se=="function"&&(fb(d,m,se,v),We=d.memoizedState),(Je=kt||i6(d,m,Je,v,Ve,We,Ae)||c!==null&&c.dependencies!==null&&Rh(c.dependencies))?($e||typeof k.UNSAFE_componentWillUpdate!="function"&&typeof k.componentWillUpdate!="function"||(typeof k.componentWillUpdate=="function"&&k.componentWillUpdate(v,We,Ae),typeof k.UNSAFE_componentWillUpdate=="function"&&k.UNSAFE_componentWillUpdate(v,We,Ae)),typeof k.componentDidUpdate=="function"&&(d.flags|=4),typeof k.getSnapshotBeforeUpdate=="function"&&(d.flags|=1024)):(typeof k.componentDidUpdate!="function"||V===c.memoizedProps&&Ve===c.memoizedState||(d.flags|=4),typeof k.getSnapshotBeforeUpdate!="function"||V===c.memoizedProps&&Ve===c.memoizedState||(d.flags|=1024),d.memoizedProps=v,d.memoizedState=We),k.props=v,k.state=We,k.context=Ae,v=Je):(typeof k.componentDidUpdate!="function"||V===c.memoizedProps&&Ve===c.memoizedState||(d.flags|=4),typeof k.getSnapshotBeforeUpdate!="function"||V===c.memoizedProps&&Ve===c.memoizedState||(d.flags|=1024),v=!1)}return k=v,u1(c,d),v=(d.flags&128)!==0,k||v?(k=d.stateNode,m=v&&typeof m.getDerivedStateFromError!="function"?null:k.render(),d.flags|=1,c!==null&&v?(d.child=Ln(d,c.child,null,S),d.child=Ln(d,null,m,S)):Xi(c,d,m,S),d.memoizedState=k.state,c=d.child):c=Lu(c,d,S),c}function w6(c,d,m,v){return Tu(),d.flags|=256,Xi(c,d,m,v),d.child}var xb={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function gb(c){return{baseLanes:c,cachePool:be()}}function vb(c,d,m){return c=c!==null?c.childLanes&~m:0,d&&(c|=zl),c}function _6(c,d,m){var v=d.pendingProps,S=!1,k=(d.flags&128)!==0,V;if((V=k)||(V=c!==null&&c.memoizedState===null?!1:(zr.current&2)!==0),V&&(S=!0,d.flags&=-129),V=(d.flags&32)!==0,d.flags&=-33,c===null){if(Fr){if(S?_a(d):Ta(),(c=Fn)?(c=TA(c,na),c=c!==null&&c.data!=="&"?c:null,c!==null&&(d.memoizedState={dehydrated:c,treeContext:qc!==null?{id:ml,overflow:pl}:null,retryLane:536870912,hydrationErrors:null},m=Dh(c),m.return=d,d.child=m,hi=d,Fn=null)):c=null,c===null)throw $c(d);return ew(c)?d.lanes=32:d.lanes=536870912,null}var se=v.children;return v=v.fallback,S?(Ta(),S=d.mode,se=f1({mode:"hidden",children:se},S),v=zc(v,S,m,null),se.return=d,v.return=d,se.sibling=v,d.child=se,v=d.child,v.memoizedState=gb(m),v.childLanes=vb(c,V,m),d.memoizedState=xb,Lp(null,v)):(_a(d),yb(d,se))}var Ae=c.memoizedState;if(Ae!==null&&(se=Ae.dehydrated,se!==null)){if(k)d.flags&256?(_a(d),d.flags&=-257,d=bb(c,d,m)):d.memoizedState!==null?(Ta(),d.child=c.child,d.flags|=128,d=null):(Ta(),se=v.fallback,S=d.mode,v=f1({mode:"visible",children:v.children},S),se=zc(se,S,m,null),se.flags|=2,v.return=d,se.return=d,v.sibling=se,d.child=v,Ln(d,c.child,null,m),v=d.child,v.memoizedState=gb(m),v.childLanes=vb(c,V,m),d.memoizedState=xb,d=Lp(null,v));else if(_a(d),ew(se)){if(V=se.nextSibling&&se.nextSibling.dataset,V)var $e=V.dgst;V=$e,v=Error(n(419)),v.stack="",v.digest=V,Vf({value:v,source:null,stack:null}),d=bb(c,d,m)}else if(Ja||Wc(c,d,m,!1),V=(m&c.childLanes)!==0,Ja||V){if(V=Mn,V!==null&&(v=$i(V,m),v!==0&&v!==Ae.retryLane))throw Ae.retryLane=v,oc(c,v),_l(V,c,v),mb;Jb(se)||b1(),d=bb(c,d,m)}else Jb(se)?(d.flags|=192,d.child=c.child,d=null):(c=Ae.treeContext,Fn=_o(se.nextSibling),hi=d,Fr=!0,Ki=null,na=!1,c!==null&&Jg(d,c),d=yb(d,v.children),d.flags|=4096);return d}return S?(Ta(),se=v.fallback,S=d.mode,Ae=c.child,$e=Ae.sibling,v=ul(Ae,{mode:"hidden",children:v.children}),v.subtreeFlags=Ae.subtreeFlags&65011712,$e!==null?se=ul($e,se):(se=zc(se,S,m,null),se.flags|=2),se.return=d,v.return=d,v.sibling=se,d.child=v,Lp(null,v),v=d.child,se=c.child.memoizedState,se===null?se=gb(m):(S=se.cachePool,S!==null?(Ae=wa._currentValue,S=S.parent!==Ae?{parent:Ae,pool:Ae}:S):S=be(),se={baseLanes:se.baseLanes|m,cachePool:S}),v.memoizedState=se,v.childLanes=vb(c,V,m),d.memoizedState=xb,Lp(c.child,v)):(_a(d),m=c.child,c=m.sibling,m=ul(m,{mode:"visible",children:v.children}),m.return=d,m.sibling=null,c!==null&&(V=d.deletions,V===null?(d.deletions=[c],d.flags|=16):V.push(c)),d.child=m,d.memoizedState=null,m)}function yb(c,d){return d=f1({mode:"visible",children:d},c.mode),d.return=c,c.child=d}function f1(c,d){return c=Oi(22,c,null,d),c.lanes=0,c}function bb(c,d,m){return Ln(d,c.child,null,m),c=yb(d,d.pendingProps.children),c.flags|=2,d.memoizedState=null,c}function N6(c,d,m){c.lanes|=d;var v=c.alternate;v!==null&&(v.lanes|=d),Wf(c.return,d,m)}function wb(c,d,m,v,S,k){var V=c.memoizedState;V===null?c.memoizedState={isBackwards:d,rendering:null,renderingStartTime:0,last:v,tail:m,tailMode:S,treeForkCount:k}:(V.isBackwards=d,V.rendering=null,V.renderingStartTime=0,V.last=v,V.tail=m,V.tailMode=S,V.treeForkCount=k)}function S6(c,d,m){var v=d.pendingProps,S=v.revealOrder,k=v.tail;v=v.children;var V=zr.current,se=(V&2)!==0;if(se?(V=V&1|2,d.flags|=128):V&=1,M(zr,V),Xi(c,d,v,m),v=Fr?d0:0,!se&&c!==null&&(c.flags&128)!==0)e:for(c=d.child;c!==null;){if(c.tag===13)c.memoizedState!==null&&N6(c,m,d);else if(c.tag===19)N6(c,m,d);else if(c.child!==null){c.child.return=c,c=c.child;continue}if(c===d)break e;for(;c.sibling===null;){if(c.return===null||c.return===d)break e;c=c.return}c.sibling.return=c.return,c=c.sibling}switch(S){case"forwards":for(m=d.child,S=null;m!==null;)c=m.alternate,c!==null&&Pi(c)===null&&(S=m),m=m.sibling;m=S,m===null?(S=d.child,d.child=null):(S=m.sibling,m.sibling=null),wb(d,!1,S,m,k,v);break;case"backwards":case"unstable_legacy-backwards":for(m=null,S=d.child,d.child=null;S!==null;){if(c=S.alternate,c!==null&&Pi(c)===null){d.child=S;break}c=S.sibling,S.sibling=m,m=S,S=c}wb(d,!0,m,null,k,v);break;case"together":wb(d,!1,null,null,void 0,v);break;default:d.memoizedState=null}return d.child}function Lu(c,d,m){if(c!==null&&(d.dependencies=c.dependencies),ed|=d.lanes,(m&d.childLanes)===0)if(c!==null){if(Wc(c,d,m,!1),(m&d.childLanes)===0)return null}else return null;if(c!==null&&d.child!==c.child)throw Error(n(153));if(d.child!==null){for(c=d.child,m=ul(c,c.pendingProps),d.child=m,m.return=d;c.sibling!==null;)c=c.sibling,m=m.sibling=ul(c,c.pendingProps),m.return=d;m.sibling=null}return d.child}function _b(c,d){return(c.lanes&d)!==0?!0:(c=c.dependencies,!!(c!==null&&Rh(c)))}function jU(c,d,m){switch(d.tag){case 3:ce(d,d.stateNode.containerInfo),Vc(d,wa,c.memoizedState.cache),Tu();break;case 27:case 5:Se(d);break;case 4:ce(d,d.stateNode.containerInfo);break;case 10:Vc(d,d.type,d.memoizedProps.value);break;case 31:if(d.memoizedState!==null)return d.flags|=128,on(d),null;break;case 13:var v=d.memoizedState;if(v!==null)return v.dehydrated!==null?(_a(d),d.flags|=128,null):(m&d.child.childLanes)!==0?_6(c,d,m):(_a(d),c=Lu(c,d,m),c!==null?c.sibling:null);_a(d);break;case 19:var S=(c.flags&128)!==0;if(v=(m&d.childLanes)!==0,v||(Wc(c,d,m,!1),v=(m&d.childLanes)!==0),S){if(v)return S6(c,d,m);d.flags|=128}if(S=d.memoizedState,S!==null&&(S.rendering=null,S.tail=null,S.lastEffect=null),M(zr,zr.current),v)break;return null;case 22:return d.lanes=0,x6(c,d,m,d.pendingProps);case 24:Vc(d,wa,c.memoizedState.cache)}return Lu(c,d,m)}function j6(c,d,m){if(c!==null)if(c.memoizedProps!==d.pendingProps)Ja=!0;else{if(!_b(c,m)&&(d.flags&128)===0)return Ja=!1,jU(c,d,m);Ja=(c.flags&131072)!==0}else Ja=!1,Fr&&(d.flags&1048576)!==0&&Zg(d,d0,d.index);switch(d.lanes=0,d.tag){case 16:e:{var v=d.pendingProps;if(c=Re(d.elementType),d.type=c,typeof c=="function")Oh(c)?(v=g0(c,v),d.tag=1,d=b6(null,d,c,v,m)):(d.tag=0,d=pb(null,d,c,v,m));else{if(c!=null){var S=c.$$typeof;if(S===O){d.tag=11,d=h6(null,d,c,v,m);break e}else if(S===P){d.tag=14,d=m6(null,d,c,v,m);break e}}throw d=J(c)||c,Error(n(306,d,""))}}return d;case 0:return pb(c,d,d.type,d.pendingProps,m);case 1:return v=d.type,S=g0(v,d.pendingProps),b6(c,d,v,S,m);case 3:e:{if(ce(d,d.stateNode.containerInfo),c===null)throw Error(n(387));v=d.pendingProps;var k=d.memoizedState;S=k.element,Vn(c,d),Ea(d,v,null,m);var V=d.memoizedState;if(v=V.cache,Vc(d,wa,v),v!==k.cache&&Ou(d,[wa],m,!0),En(),v=V.element,k.isDehydrated)if(k={element:v,isDehydrated:!1,cache:V.cache},d.updateQueue.baseState=k,d.memoizedState=k,d.flags&256){d=w6(c,d,v,m);break e}else if(v!==S){S=fl(Error(n(424)),d),Vf(S),d=w6(c,d,v,m);break e}else{switch(c=d.stateNode.containerInfo,c.nodeType){case 9:c=c.body;break;default:c=c.nodeName==="HTML"?c.ownerDocument.body:c}for(Fn=_o(c.firstChild),hi=d,Fr=!0,Ki=null,na=!0,m=gr(d,null,v,m),d.child=m;m;)m.flags=m.flags&-3|4096,m=m.sibling}else{if(Tu(),v===S){d=Lu(c,d,m);break e}Xi(c,d,v,m)}d=d.child}return d;case 26:return u1(c,d),c===null?(m=MA(d.type,null,d.pendingProps,null))?d.memoizedState=m:Fr||(m=d.type,c=d.pendingProps,v=E1(Z.current).createElement(m),v[he]=d,v[ge]=c,Qi(v,m,c),Tt(v),d.stateNode=v):d.memoizedState=MA(d.type,c.memoizedProps,d.pendingProps,c.memoizedState),null;case 27:return Se(d),c===null&&Fr&&(v=d.stateNode=PA(d.type,d.pendingProps,Z.current),hi=d,na=!0,S=Fn,id(d.type)?(tw=S,Fn=_o(v.firstChild)):Fn=S),Xi(c,d,d.pendingProps.children,m),u1(c,d),c===null&&(d.flags|=4194304),d.child;case 5:return c===null&&Fr&&((S=v=Fn)&&(v=tz(v,d.type,d.pendingProps,na),v!==null?(d.stateNode=v,hi=d,Fn=_o(v.firstChild),na=!1,S=!0):S=!1),S||$c(d)),Se(d),S=d.type,k=d.pendingProps,V=c!==null?c.memoizedProps:null,v=k.children,Xb(S,k)?v=null:V!==null&&Xb(S,V)&&(d.flags|=32),d.memoizedState!==null&&(S=Ap(c,d,nb,null,null,m),Xp._currentValue=S),u1(c,d),Xi(c,d,v,m),d.child;case 6:return c===null&&Fr&&((c=m=Fn)&&(m=rz(m,d.pendingProps,na),m!==null?(d.stateNode=m,hi=d,Fn=null,c=!0):c=!1),c||$c(d)),null;case 13:return _6(c,d,m);case 4:return ce(d,d.stateNode.containerInfo),v=d.pendingProps,c===null?d.child=Ln(d,null,v,m):Xi(c,d,v,m),d.child;case 11:return h6(c,d,d.type,d.pendingProps,m);case 7:return Xi(c,d,d.pendingProps,m),d.child;case 8:return Xi(c,d,d.pendingProps.children,m),d.child;case 12:return Xi(c,d,d.pendingProps.children,m),d.child;case 10:return v=d.pendingProps,Vc(d,d.type,v.value),Xi(c,d,v.children,m),d.child;case 9:return S=d.type._context,v=d.pendingProps.children,Gc(d),S=pi(S),v=v(S),d.flags|=1,Xi(c,d,v,m),d.child;case 14:return m6(c,d,d.type,d.pendingProps,m);case 15:return p6(c,d,d.type,d.pendingProps,m);case 19:return S6(c,d,m);case 31:return SU(c,d,m);case 22:return x6(c,d,m,d.pendingProps);case 24:return Gc(d),v=pi(wa),c===null?(S=fe(),S===null&&(S=Mn,k=Gf(),S.pooledCache=k,k.refCount++,k!==null&&(S.pooledCacheLanes|=m),S=k),d.memoizedState={parent:v,cache:S},bt(d),Vc(d,wa,S)):((c.lanes&m)!==0&&(Vn(c,d),Ea(d,null,null,m),En()),S=c.memoizedState,k=d.memoizedState,S.parent!==v?(S={parent:v,cache:v},d.memoizedState=S,d.lanes===0&&(d.memoizedState=d.updateQueue.baseState=S),Vc(d,wa,v)):(v=k.cache,Vc(d,wa,v),v!==S.cache&&Ou(d,[wa],m,!0))),Xi(c,d,d.pendingProps.children,m),d.child;case 29:throw d.pendingProps}throw Error(n(156,d.tag))}function Mu(c){c.flags|=4}function Nb(c,d,m,v,S){if((d=(c.mode&32)!==0)&&(d=!1),d){if(c.flags|=16777216,(S&335544128)===S)if(c.stateNode.complete)c.flags|=8192;else if(Z6())c.flags|=8192;else throw Ye=Oe,Ue}else c.flags&=-16777217}function A6(c,d){if(d.type!=="stylesheet"||(d.state.loading&4)!==0)c.flags&=-16777217;else if(c.flags|=16777216,!zA(d))if(Z6())c.flags|=8192;else throw Ye=Oe,Ue}function d1(c,d){d!==null&&(c.flags|=4),c.flags&16384&&(d=c.tag!==22?al():536870912,c.lanes|=d,Zh|=d)}function Mp(c,d){if(!Fr)switch(c.tailMode){case"hidden":d=c.tail;for(var m=null;d!==null;)d.alternate!==null&&(m=d),d=d.sibling;m===null?c.tail=null:m.sibling=null;break;case"collapsed":m=c.tail;for(var v=null;m!==null;)m.alternate!==null&&(v=m),m=m.sibling;v===null?d||c.tail===null?c.tail=null:c.tail.sibling=null:v.sibling=null}}function Kn(c){var d=c.alternate!==null&&c.alternate.child===c.child,m=0,v=0;if(d)for(var S=c.child;S!==null;)m|=S.lanes|S.childLanes,v|=S.subtreeFlags&65011712,v|=S.flags&65011712,S.return=c,S=S.sibling;else for(S=c.child;S!==null;)m|=S.lanes|S.childLanes,v|=S.subtreeFlags,v|=S.flags,S.return=c,S=S.sibling;return c.subtreeFlags|=v,c.childLanes=m,d}function AU(c,d,m){var v=d.pendingProps;switch(Lh(d),d.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Kn(d),null;case 1:return Kn(d),null;case 3:return m=d.stateNode,v=null,c!==null&&(v=c.memoizedState.cache),d.memoizedState.cache!==v&&(d.flags|=2048),xl(wa),ae(),m.pendingContext&&(m.context=m.pendingContext,m.pendingContext=null),(c===null||c.child===null)&&(mi(d)?Mu(d):c===null||c.memoizedState.isDehydrated&&(d.flags&256)===0||(d.flags|=1024,Sp())),Kn(d),null;case 26:var S=d.type,k=d.memoizedState;return c===null?(Mu(d),k!==null?(Kn(d),A6(d,k)):(Kn(d),Nb(d,S,null,v,m))):k?k!==c.memoizedState?(Mu(d),Kn(d),A6(d,k)):(Kn(d),d.flags&=-16777217):(c=c.memoizedProps,c!==v&&Mu(d),Kn(d),Nb(d,S,c,v,m)),null;case 27:if(De(d),m=Z.current,S=d.type,c!==null&&d.stateNode!=null)c.memoizedProps!==v&&Mu(d);else{if(!v){if(d.stateNode===null)throw Error(n(166));return Kn(d),null}c=q.current,mi(d)?Np(d):(c=PA(S,v,m),d.stateNode=c,Mu(d))}return Kn(d),null;case 5:if(De(d),S=d.type,c!==null&&d.stateNode!=null)c.memoizedProps!==v&&Mu(d);else{if(!v){if(d.stateNode===null)throw Error(n(166));return Kn(d),null}if(k=q.current,mi(d))Np(d);else{var V=E1(Z.current);switch(k){case 1:k=V.createElementNS("http://www.w3.org/2000/svg",S);break;case 2:k=V.createElementNS("http://www.w3.org/1998/Math/MathML",S);break;default:switch(S){case"svg":k=V.createElementNS("http://www.w3.org/2000/svg",S);break;case"math":k=V.createElementNS("http://www.w3.org/1998/Math/MathML",S);break;case"script":k=V.createElement("div"),k.innerHTML="<script><\/script>",k=k.removeChild(k.firstChild);break;case"select":k=typeof v.is=="string"?V.createElement("select",{is:v.is}):V.createElement("select"),v.multiple?k.multiple=!0:v.size&&(k.size=v.size);break;default:k=typeof v.is=="string"?V.createElement(S,{is:v.is}):V.createElement(S)}}k[he]=d,k[ge]=v;e:for(V=d.child;V!==null;){if(V.tag===5||V.tag===6)k.appendChild(V.stateNode);else if(V.tag!==4&&V.tag!==27&&V.child!==null){V.child.return=V,V=V.child;continue}if(V===d)break e;for(;V.sibling===null;){if(V.return===null||V.return===d)break e;V=V.return}V.sibling.return=V.return,V=V.sibling}d.stateNode=k;e:switch(Qi(k,S,v),S){case"button":case"input":case"select":case"textarea":v=!!v.autoFocus;break e;case"img":v=!0;break e;default:v=!1}v&&Mu(d)}}return Kn(d),Nb(d,d.type,c===null?null:c.memoizedProps,d.pendingProps,m),null;case 6:if(c&&d.stateNode!=null)c.memoizedProps!==v&&Mu(d);else{if(typeof v!="string"&&d.stateNode===null)throw Error(n(166));if(c=Z.current,mi(d)){if(c=d.stateNode,m=d.memoizedProps,v=null,S=hi,S!==null)switch(S.tag){case 27:case 5:v=S.memoizedProps}c[he]=d,c=!!(c.nodeValue===m||v!==null&&v.suppressHydrationWarning===!0||_A(c.nodeValue,m)),c||$c(d,!0)}else c=E1(c).createTextNode(v),c[he]=d,d.stateNode=c}return Kn(d),null;case 31:if(m=d.memoizedState,c===null||c.memoizedState!==null){if(v=mi(d),m!==null){if(c===null){if(!v)throw Error(n(318));if(c=d.memoizedState,c=c!==null?c.dehydrated:null,!c)throw Error(n(557));c[he]=d}else Tu(),(d.flags&128)===0&&(d.memoizedState=null),d.flags|=4;Kn(d),c=!1}else m=Sp(),c!==null&&c.memoizedState!==null&&(c.memoizedState.hydrationErrors=m),c=!0;if(!c)return d.flags&256?(xn(d),d):(xn(d),null);if((d.flags&128)!==0)throw Error(n(558))}return Kn(d),null;case 13:if(v=d.memoizedState,c===null||c.memoizedState!==null&&c.memoizedState.dehydrated!==null){if(S=mi(d),v!==null&&v.dehydrated!==null){if(c===null){if(!S)throw Error(n(318));if(S=d.memoizedState,S=S!==null?S.dehydrated:null,!S)throw Error(n(317));S[he]=d}else Tu(),(d.flags&128)===0&&(d.memoizedState=null),d.flags|=4;Kn(d),S=!1}else S=Sp(),c!==null&&c.memoizedState!==null&&(c.memoizedState.hydrationErrors=S),S=!0;if(!S)return d.flags&256?(xn(d),d):(xn(d),null)}return xn(d),(d.flags&128)!==0?(d.lanes=m,d):(m=v!==null,c=c!==null&&c.memoizedState!==null,m&&(v=d.child,S=null,v.alternate!==null&&v.alternate.memoizedState!==null&&v.alternate.memoizedState.cachePool!==null&&(S=v.alternate.memoizedState.cachePool.pool),k=null,v.memoizedState!==null&&v.memoizedState.cachePool!==null&&(k=v.memoizedState.cachePool.pool),k!==S&&(v.flags|=2048)),m!==c&&m&&(d.child.flags|=8192),d1(d,d.updateQueue),Kn(d),null);case 4:return ae(),c===null&&Vb(d.stateNode.containerInfo),Kn(d),null;case 10:return xl(d.type),Kn(d),null;case 19:if(F(zr),v=d.memoizedState,v===null)return Kn(d),null;if(S=(d.flags&128)!==0,k=v.rendering,k===null)if(S)Mp(v,!1);else{if(Da!==0||c!==null&&(c.flags&128)!==0)for(c=d.child;c!==null;){if(k=Pi(c),k!==null){for(d.flags|=128,Mp(v,!1),c=k.updateQueue,d.updateQueue=c,d1(d,c),d.subtreeFlags=0,c=m,m=d.child;m!==null;)u0(m,c),m=m.sibling;return M(zr,zr.current&1|2),Fr&&zs(d,v.treeForkCount),d.child}c=c.sibling}v.tail!==null&&Vt()>g1&&(d.flags|=128,S=!0,Mp(v,!1),d.lanes=4194304)}else{if(!S)if(c=Pi(k),c!==null){if(d.flags|=128,S=!0,c=c.updateQueue,d.updateQueue=c,d1(d,c),Mp(v,!0),v.tail===null&&v.tailMode==="hidden"&&!k.alternate&&!Fr)return Kn(d),null}else 2*Vt()-v.renderingStartTime>g1&&m!==536870912&&(d.flags|=128,S=!0,Mp(v,!1),d.lanes=4194304);v.isBackwards?(k.sibling=d.child,d.child=k):(c=v.last,c!==null?c.sibling=k:d.child=k,v.last=k)}return v.tail!==null?(c=v.tail,v.rendering=c,v.tail=c.sibling,v.renderingStartTime=Vt(),c.sibling=null,m=zr.current,M(zr,S?m&1|2:m&1),Fr&&zs(d,v.treeForkCount),c):(Kn(d),null);case 22:case 23:return xn(d),qa(),v=d.memoizedState!==null,c!==null?c.memoizedState!==null!==v&&(d.flags|=8192):v&&(d.flags|=8192),v?(m&536870912)!==0&&(d.flags&128)===0&&(Kn(d),d.subtreeFlags&6&&(d.flags|=8192)):Kn(d),m=d.updateQueue,m!==null&&d1(d,m.retryQueue),m=null,c!==null&&c.memoizedState!==null&&c.memoizedState.cachePool!==null&&(m=c.memoizedState.cachePool.pool),v=null,d.memoizedState!==null&&d.memoizedState.cachePool!==null&&(v=d.memoizedState.cachePool.pool),v!==m&&(d.flags|=2048),c!==null&&F(ie),null;case 24:return m=null,c!==null&&(m=c.memoizedState.cache),d.memoizedState.cache!==m&&(d.flags|=2048),xl(wa),Kn(d),null;case 25:return null;case 30:return null}throw Error(n(156,d.tag))}function EU(c,d){switch(Lh(d),d.tag){case 1:return c=d.flags,c&65536?(d.flags=c&-65537|128,d):null;case 3:return xl(wa),ae(),c=d.flags,(c&65536)!==0&&(c&128)===0?(d.flags=c&-65537|128,d):null;case 26:case 27:case 5:return De(d),null;case 31:if(d.memoizedState!==null){if(xn(d),d.alternate===null)throw Error(n(340));Tu()}return c=d.flags,c&65536?(d.flags=c&-65537|128,d):null;case 13:if(xn(d),c=d.memoizedState,c!==null&&c.dehydrated!==null){if(d.alternate===null)throw Error(n(340));Tu()}return c=d.flags,c&65536?(d.flags=c&-65537|128,d):null;case 19:return F(zr),null;case 4:return ae(),null;case 10:return xl(d.type),null;case 22:case 23:return xn(d),qa(),c!==null&&F(ie),c=d.flags,c&65536?(d.flags=c&-65537|128,d):null;case 24:return xl(wa),null;case 25:return null;default:return null}}function E6(c,d){switch(Lh(d),d.tag){case 3:xl(wa),ae();break;case 26:case 27:case 5:De(d);break;case 4:ae();break;case 31:d.memoizedState!==null&&xn(d);break;case 13:xn(d);break;case 19:F(zr);break;case 10:xl(d.type);break;case 22:case 23:xn(d),qa(),c!==null&&F(ie);break;case 24:xl(wa)}}function Rp(c,d){try{var m=d.updateQueue,v=m!==null?m.lastEffect:null;if(v!==null){var S=v.next;m=S;do{if((m.tag&c)===c){v=void 0;var k=m.create,V=m.inst;v=k(),V.destroy=v}m=m.next}while(m!==S)}}catch(se){vn(d,d.return,se)}}function Zf(c,d,m){try{var v=d.updateQueue,S=v!==null?v.lastEffect:null;if(S!==null){var k=S.next;v=k;do{if((v.tag&c)===c){var V=v.inst,se=V.destroy;if(se!==void 0){V.destroy=void 0,S=d;var Ae=m,$e=se;try{$e()}catch(Je){vn(S,Ae,Je)}}}v=v.next}while(v!==k)}}catch(Je){vn(d,d.return,Je)}}function k6(c){var d=c.updateQueue;if(d!==null){var m=c.stateNode;try{ka(d,m)}catch(v){vn(c,c.return,v)}}}function C6(c,d,m){m.props=g0(c.type,c.memoizedProps),m.state=c.memoizedState;try{m.componentWillUnmount()}catch(v){vn(c,d,v)}}function Ip(c,d){try{var m=c.ref;if(m!==null){switch(c.tag){case 26:case 27:case 5:var v=c.stateNode;break;case 30:v=c.stateNode;break;default:v=c.stateNode}typeof m=="function"?c.refCleanup=m(v):m.current=v}}catch(S){vn(c,d,S)}}function Zc(c,d){var m=c.ref,v=c.refCleanup;if(m!==null)if(typeof v=="function")try{v()}catch(S){vn(c,d,S)}finally{c.refCleanup=null,c=c.alternate,c!=null&&(c.refCleanup=null)}else if(typeof m=="function")try{m(null)}catch(S){vn(c,d,S)}else m.current=null}function T6(c){var d=c.type,m=c.memoizedProps,v=c.stateNode;try{e:switch(d){case"button":case"input":case"select":case"textarea":m.autoFocus&&v.focus();break e;case"img":m.src?v.src=m.src:m.srcSet&&(v.srcset=m.srcSet)}}catch(S){vn(c,c.return,S)}}function Sb(c,d,m){try{var v=c.stateNode;YU(v,c.type,m,d),v[ge]=d}catch(S){vn(c,c.return,S)}}function O6(c){return c.tag===5||c.tag===3||c.tag===26||c.tag===27&&id(c.type)||c.tag===4}function jb(c){e:for(;;){for(;c.sibling===null;){if(c.return===null||O6(c.return))return null;c=c.return}for(c.sibling.return=c.return,c=c.sibling;c.tag!==5&&c.tag!==6&&c.tag!==18;){if(c.tag===27&&id(c.type)||c.flags&2||c.child===null||c.tag===4)continue e;c.child.return=c,c=c.child}if(!(c.flags&2))return c.stateNode}}function Ab(c,d,m){var v=c.tag;if(v===5||v===6)c=c.stateNode,d?(m.nodeType===9?m.body:m.nodeName==="HTML"?m.ownerDocument.body:m).insertBefore(c,d):(d=m.nodeType===9?m.body:m.nodeName==="HTML"?m.ownerDocument.body:m,d.appendChild(c),m=m._reactRootContainer,m!=null||d.onclick!==null||(d.onclick=Fl));else if(v!==4&&(v===27&&id(c.type)&&(m=c.stateNode,d=null),c=c.child,c!==null))for(Ab(c,d,m),c=c.sibling;c!==null;)Ab(c,d,m),c=c.sibling}function h1(c,d,m){var v=c.tag;if(v===5||v===6)c=c.stateNode,d?m.insertBefore(c,d):m.appendChild(c);else if(v!==4&&(v===27&&id(c.type)&&(m=c.stateNode),c=c.child,c!==null))for(h1(c,d,m),c=c.sibling;c!==null;)h1(c,d,m),c=c.sibling}function D6(c){var d=c.stateNode,m=c.memoizedProps;try{for(var v=c.type,S=d.attributes;S.length;)d.removeAttributeNode(S[0]);Qi(d,v,m),d[he]=c,d[ge]=m}catch(k){vn(c,c.return,k)}}var Ru=!1,ei=!1,Eb=!1,P6=typeof WeakSet=="function"?WeakSet:Set,Fi=null;function kU(c,d){if(c=c.containerInfo,Kb=F1,c=sc(c),go(c)){if("selectionStart"in c)var m={start:c.selectionStart,end:c.selectionEnd};else e:{m=(m=c.ownerDocument)&&m.defaultView||window;var v=m.getSelection&&m.getSelection();if(v&&v.rangeCount!==0){m=v.anchorNode;var S=v.anchorOffset,k=v.focusNode;v=v.focusOffset;try{m.nodeType,k.nodeType}catch{m=null;break e}var V=0,se=-1,Ae=-1,$e=0,Je=0,at=c,Ve=null;t:for(;;){for(var We;at!==m||S!==0&&at.nodeType!==3||(se=V+S),at!==k||v!==0&&at.nodeType!==3||(Ae=V+v),at.nodeType===3&&(V+=at.nodeValue.length),(We=at.firstChild)!==null;)Ve=at,at=We;for(;;){if(at===c)break t;if(Ve===m&&++$e===S&&(se=V),Ve===k&&++Je===v&&(Ae=V),(We=at.nextSibling)!==null)break;at=Ve,Ve=at.parentNode}at=We}m=se===-1||Ae===-1?null:{start:se,end:Ae}}else m=null}m=m||{start:0,end:0}}else m=null;for(Yb={focusedElem:c,selectionRange:m},F1=!1,Fi=d;Fi!==null;)if(d=Fi,c=d.child,(d.subtreeFlags&1028)!==0&&c!==null)c.return=d,Fi=c;else for(;Fi!==null;){switch(d=Fi,k=d.alternate,c=d.flags,d.tag){case 0:if((c&4)!==0&&(c=d.updateQueue,c=c!==null?c.events:null,c!==null))for(m=0;m<c.length;m++)S=c[m],S.ref.impl=S.nextImpl;break;case 11:case 15:break;case 1:if((c&1024)!==0&&k!==null){c=void 0,m=d,S=k.memoizedProps,k=k.memoizedState,v=m.stateNode;try{var Lt=g0(m.type,S);c=v.getSnapshotBeforeUpdate(Lt,k),v.__reactInternalSnapshotBeforeUpdate=c}catch(lr){vn(m,m.return,lr)}}break;case 3:if((c&1024)!==0){if(c=d.stateNode.containerInfo,m=c.nodeType,m===9)Zb(c);else if(m===1)switch(c.nodeName){case"HEAD":case"HTML":case"BODY":Zb(c);break;default:c.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((c&1024)!==0)throw Error(n(163))}if(c=d.sibling,c!==null){c.return=d.return,Fi=c;break}Fi=d.return}}function F6(c,d,m){var v=m.flags;switch(m.tag){case 0:case 11:case 15:Bu(c,m),v&4&&Rp(5,m);break;case 1:if(Bu(c,m),v&4)if(c=m.stateNode,d===null)try{c.componentDidMount()}catch(V){vn(m,m.return,V)}else{var S=g0(m.type,d.memoizedProps);d=d.memoizedState;try{c.componentDidUpdate(S,d,c.__reactInternalSnapshotBeforeUpdate)}catch(V){vn(m,m.return,V)}}v&64&&k6(m),v&512&&Ip(m,m.return);break;case 3:if(Bu(c,m),v&64&&(c=m.updateQueue,c!==null)){if(d=null,m.child!==null)switch(m.child.tag){case 27:case 5:d=m.child.stateNode;break;case 1:d=m.child.stateNode}try{ka(c,d)}catch(V){vn(m,m.return,V)}}break;case 27:d===null&&v&4&&D6(m);case 26:case 5:Bu(c,m),d===null&&v&4&&T6(m),v&512&&Ip(m,m.return);break;case 12:Bu(c,m);break;case 31:Bu(c,m),v&4&&R6(c,m);break;case 13:Bu(c,m),v&4&&I6(c,m),v&64&&(c=m.memoizedState,c!==null&&(c=c.dehydrated,c!==null&&(m=RU.bind(null,m),nz(c,m))));break;case 22:if(v=m.memoizedState!==null||Ru,!v){d=d!==null&&d.memoizedState!==null||ei,S=Ru;var k=ei;Ru=v,(ei=d)&&!k?Uu(c,m,(m.subtreeFlags&8772)!==0):Bu(c,m),Ru=S,ei=k}break;case 30:break;default:Bu(c,m)}}function L6(c){var d=c.alternate;d!==null&&(c.alternate=null,L6(d)),c.child=null,c.deletions=null,c.sibling=null,c.tag===5&&(d=c.stateNode,d!==null&&ut(d)),c.stateNode=null,c.return=null,c.dependencies=null,c.memoizedProps=null,c.memoizedState=null,c.pendingProps=null,c.stateNode=null,c.updateQueue=null}var sa=null,vl=!1;function Iu(c,d,m){for(m=m.child;m!==null;)M6(c,d,m),m=m.sibling}function M6(c,d,m){if(St&&typeof St.onCommitFiberUnmount=="function")try{St.onCommitFiberUnmount(Yt,m)}catch{}switch(m.tag){case 26:ei||Zc(m,d),Iu(c,d,m),m.memoizedState?m.memoizedState.count--:m.stateNode&&(m=m.stateNode,m.parentNode.removeChild(m));break;case 27:ei||Zc(m,d);var v=sa,S=vl;id(m.type)&&(sa=m.stateNode,vl=!1),Iu(c,d,m),Gp(m.stateNode),sa=v,vl=S;break;case 5:ei||Zc(m,d);case 6:if(v=sa,S=vl,sa=null,Iu(c,d,m),sa=v,vl=S,sa!==null)if(vl)try{(sa.nodeType===9?sa.body:sa.nodeName==="HTML"?sa.ownerDocument.body:sa).removeChild(m.stateNode)}catch(k){vn(m,d,k)}else try{sa.removeChild(m.stateNode)}catch(k){vn(m,d,k)}break;case 18:sa!==null&&(vl?(c=sa,kA(c.nodeType===9?c.body:c.nodeName==="HTML"?c.ownerDocument.body:c,m.stateNode),sm(c)):kA(sa,m.stateNode));break;case 4:v=sa,S=vl,sa=m.stateNode.containerInfo,vl=!0,Iu(c,d,m),sa=v,vl=S;break;case 0:case 11:case 14:case 15:Zf(2,m,d),ei||Zf(4,m,d),Iu(c,d,m);break;case 1:ei||(Zc(m,d),v=m.stateNode,typeof v.componentWillUnmount=="function"&&C6(m,d,v)),Iu(c,d,m);break;case 21:Iu(c,d,m);break;case 22:ei=(v=ei)||m.memoizedState!==null,Iu(c,d,m),ei=v;break;default:Iu(c,d,m)}}function R6(c,d){if(d.memoizedState===null&&(c=d.alternate,c!==null&&(c=c.memoizedState,c!==null))){c=c.dehydrated;try{sm(c)}catch(m){vn(d,d.return,m)}}}function I6(c,d){if(d.memoizedState===null&&(c=d.alternate,c!==null&&(c=c.memoizedState,c!==null&&(c=c.dehydrated,c!==null))))try{sm(c)}catch(m){vn(d,d.return,m)}}function CU(c){switch(c.tag){case 31:case 13:case 19:var d=c.stateNode;return d===null&&(d=c.stateNode=new P6),d;case 22:return c=c.stateNode,d=c._retryCache,d===null&&(d=c._retryCache=new P6),d;default:throw Error(n(435,c.tag))}}function m1(c,d){var m=CU(c);d.forEach(function(v){if(!m.has(v)){m.add(v);var S=IU.bind(null,c,v);v.then(S,S)}})}function yl(c,d){var m=d.deletions;if(m!==null)for(var v=0;v<m.length;v++){var S=m[v],k=c,V=d,se=V;e:for(;se!==null;){switch(se.tag){case 27:if(id(se.type)){sa=se.stateNode,vl=!1;break e}break;case 5:sa=se.stateNode,vl=!1;break e;case 3:case 4:sa=se.stateNode.containerInfo,vl=!0;break e}se=se.return}if(sa===null)throw Error(n(160));M6(k,V,S),sa=null,vl=!1,k=S.alternate,k!==null&&(k.return=null),S.return=null}if(d.subtreeFlags&13886)for(d=d.child;d!==null;)B6(d,c),d=d.sibling}var mc=null;function B6(c,d){var m=c.alternate,v=c.flags;switch(c.tag){case 0:case 11:case 14:case 15:yl(d,c),bl(c),v&4&&(Zf(3,c,c.return),Rp(3,c),Zf(5,c,c.return));break;case 1:yl(d,c),bl(c),v&512&&(ei||m===null||Zc(m,m.return)),v&64&&Ru&&(c=c.updateQueue,c!==null&&(v=c.callbacks,v!==null&&(m=c.shared.hiddenCallbacks,c.shared.hiddenCallbacks=m===null?v:m.concat(v))));break;case 26:var S=mc;if(yl(d,c),bl(c),v&512&&(ei||m===null||Zc(m,m.return)),v&4){var k=m!==null?m.memoizedState:null;if(v=c.memoizedState,m===null)if(v===null)if(c.stateNode===null){e:{v=c.type,m=c.memoizedProps,S=S.ownerDocument||S;t:switch(v){case"title":k=S.getElementsByTagName("title")[0],(!k||k[ze]||k[he]||k.namespaceURI==="http://www.w3.org/2000/svg"||k.hasAttribute("itemprop"))&&(k=S.createElement(v),S.head.insertBefore(k,S.querySelector("head > title"))),Qi(k,v,m),k[he]=c,Tt(k),v=k;break e;case"link":var V=BA("link","href",S).get(v+(m.href||""));if(V){for(var se=0;se<V.length;se++)if(k=V[se],k.getAttribute("href")===(m.href==null||m.href===""?null:m.href)&&k.getAttribute("rel")===(m.rel==null?null:m.rel)&&k.getAttribute("title")===(m.title==null?null:m.title)&&k.getAttribute("crossorigin")===(m.crossOrigin==null?null:m.crossOrigin)){V.splice(se,1);break t}}k=S.createElement(v),Qi(k,v,m),S.head.appendChild(k);break;case"meta":if(V=BA("meta","content",S).get(v+(m.content||""))){for(se=0;se<V.length;se++)if(k=V[se],k.getAttribute("content")===(m.content==null?null:""+m.content)&&k.getAttribute("name")===(m.name==null?null:m.name)&&k.getAttribute("property")===(m.property==null?null:m.property)&&k.getAttribute("http-equiv")===(m.httpEquiv==null?null:m.httpEquiv)&&k.getAttribute("charset")===(m.charSet==null?null:m.charSet)){V.splice(se,1);break t}}k=S.createElement(v),Qi(k,v,m),S.head.appendChild(k);break;default:throw Error(n(468,v))}k[he]=c,Tt(k),v=k}c.stateNode=v}else UA(S,c.type,c.stateNode);else c.stateNode=IA(S,v,c.memoizedProps);else k!==v?(k===null?m.stateNode!==null&&(m=m.stateNode,m.parentNode.removeChild(m)):k.count--,v===null?UA(S,c.type,c.stateNode):IA(S,v,c.memoizedProps)):v===null&&c.stateNode!==null&&Sb(c,c.memoizedProps,m.memoizedProps)}break;case 27:yl(d,c),bl(c),v&512&&(ei||m===null||Zc(m,m.return)),m!==null&&v&4&&Sb(c,c.memoizedProps,m.memoizedProps);break;case 5:if(yl(d,c),bl(c),v&512&&(ei||m===null||Zc(m,m.return)),c.flags&32){S=c.stateNode;try{Fs(S,"")}catch(Lt){vn(c,c.return,Lt)}}v&4&&c.stateNode!=null&&(S=c.memoizedProps,Sb(c,S,m!==null?m.memoizedProps:S)),v&1024&&(Eb=!0);break;case 6:if(yl(d,c),bl(c),v&4){if(c.stateNode===null)throw Error(n(162));v=c.memoizedProps,m=c.stateNode;try{m.nodeValue=v}catch(Lt){vn(c,c.return,Lt)}}break;case 3:if(T1=null,S=mc,mc=k1(d.containerInfo),yl(d,c),mc=S,bl(c),v&4&&m!==null&&m.memoizedState.isDehydrated)try{sm(d.containerInfo)}catch(Lt){vn(c,c.return,Lt)}Eb&&(Eb=!1,U6(c));break;case 4:v=mc,mc=k1(c.stateNode.containerInfo),yl(d,c),bl(c),mc=v;break;case 12:yl(d,c),bl(c);break;case 31:yl(d,c),bl(c),v&4&&(v=c.updateQueue,v!==null&&(c.updateQueue=null,m1(c,v)));break;case 13:yl(d,c),bl(c),c.child.flags&8192&&c.memoizedState!==null!=(m!==null&&m.memoizedState!==null)&&(x1=Vt()),v&4&&(v=c.updateQueue,v!==null&&(c.updateQueue=null,m1(c,v)));break;case 22:S=c.memoizedState!==null;var Ae=m!==null&&m.memoizedState!==null,$e=Ru,Je=ei;if(Ru=$e||S,ei=Je||Ae,yl(d,c),ei=Je,Ru=$e,bl(c),v&8192)e:for(d=c.stateNode,d._visibility=S?d._visibility&-2:d._visibility|1,S&&(m===null||Ae||Ru||ei||v0(c)),m=null,d=c;;){if(d.tag===5||d.tag===26){if(m===null){Ae=m=d;try{if(k=Ae.stateNode,S)V=k.style,typeof V.setProperty=="function"?V.setProperty("display","none","important"):V.display="none";else{se=Ae.stateNode;var at=Ae.memoizedProps.style,Ve=at!=null&&at.hasOwnProperty("display")?at.display:null;se.style.display=Ve==null||typeof Ve=="boolean"?"":(""+Ve).trim()}}catch(Lt){vn(Ae,Ae.return,Lt)}}}else if(d.tag===6){if(m===null){Ae=d;try{Ae.stateNode.nodeValue=S?"":Ae.memoizedProps}catch(Lt){vn(Ae,Ae.return,Lt)}}}else if(d.tag===18){if(m===null){Ae=d;try{var We=Ae.stateNode;S?CA(We,!0):CA(Ae.stateNode,!1)}catch(Lt){vn(Ae,Ae.return,Lt)}}}else if((d.tag!==22&&d.tag!==23||d.memoizedState===null||d===c)&&d.child!==null){d.child.return=d,d=d.child;continue}if(d===c)break e;for(;d.sibling===null;){if(d.return===null||d.return===c)break e;m===d&&(m=null),d=d.return}m===d&&(m=null),d.sibling.return=d.return,d=d.sibling}v&4&&(v=c.updateQueue,v!==null&&(m=v.retryQueue,m!==null&&(v.retryQueue=null,m1(c,m))));break;case 19:yl(d,c),bl(c),v&4&&(v=c.updateQueue,v!==null&&(c.updateQueue=null,m1(c,v)));break;case 30:break;case 21:break;default:yl(d,c),bl(c)}}function bl(c){var d=c.flags;if(d&2){try{for(var m,v=c.return;v!==null;){if(O6(v)){m=v;break}v=v.return}if(m==null)throw Error(n(160));switch(m.tag){case 27:var S=m.stateNode,k=jb(c);h1(c,k,S);break;case 5:var V=m.stateNode;m.flags&32&&(Fs(V,""),m.flags&=-33);var se=jb(c);h1(c,se,V);break;case 3:case 4:var Ae=m.stateNode.containerInfo,$e=jb(c);Ab(c,$e,Ae);break;default:throw Error(n(161))}}catch(Je){vn(c,c.return,Je)}c.flags&=-3}d&4096&&(c.flags&=-4097)}function U6(c){if(c.subtreeFlags&1024)for(c=c.child;c!==null;){var d=c;U6(d),d.tag===5&&d.flags&1024&&d.stateNode.reset(),c=c.sibling}}function Bu(c,d){if(d.subtreeFlags&8772)for(d=d.child;d!==null;)F6(c,d.alternate,d),d=d.sibling}function v0(c){for(c=c.child;c!==null;){var d=c;switch(d.tag){case 0:case 11:case 14:case 15:Zf(4,d,d.return),v0(d);break;case 1:Zc(d,d.return);var m=d.stateNode;typeof m.componentWillUnmount=="function"&&C6(d,d.return,m),v0(d);break;case 27:Gp(d.stateNode);case 26:case 5:Zc(d,d.return),v0(d);break;case 22:d.memoizedState===null&&v0(d);break;case 30:v0(d);break;default:v0(d)}c=c.sibling}}function Uu(c,d,m){for(m=m&&(d.subtreeFlags&8772)!==0,d=d.child;d!==null;){var v=d.alternate,S=c,k=d,V=k.flags;switch(k.tag){case 0:case 11:case 15:Uu(S,k,m),Rp(4,k);break;case 1:if(Uu(S,k,m),v=k,S=v.stateNode,typeof S.componentDidMount=="function")try{S.componentDidMount()}catch($e){vn(v,v.return,$e)}if(v=k,S=v.updateQueue,S!==null){var se=v.stateNode;try{var Ae=S.shared.hiddenCallbacks;if(Ae!==null)for(S.shared.hiddenCallbacks=null,S=0;S<Ae.length;S++)Di(Ae[S],se)}catch($e){vn(v,v.return,$e)}}m&&V&64&&k6(k),Ip(k,k.return);break;case 27:D6(k);case 26:case 5:Uu(S,k,m),m&&v===null&&V&4&&T6(k),Ip(k,k.return);break;case 12:Uu(S,k,m);break;case 31:Uu(S,k,m),m&&V&4&&R6(S,k);break;case 13:Uu(S,k,m),m&&V&4&&I6(S,k);break;case 22:k.memoizedState===null&&Uu(S,k,m),Ip(k,k.return);break;case 30:break;default:Uu(S,k,m)}d=d.sibling}}function kb(c,d){var m=null;c!==null&&c.memoizedState!==null&&c.memoizedState.cachePool!==null&&(m=c.memoizedState.cachePool.pool),c=null,d.memoizedState!==null&&d.memoizedState.cachePool!==null&&(c=d.memoizedState.cachePool.pool),c!==m&&(c!=null&&c.refCount++,m!=null&&h0(m))}function Cb(c,d){c=null,d.alternate!==null&&(c=d.alternate.memoizedState.cache),d=d.memoizedState.cache,d!==c&&(d.refCount++,c!=null&&h0(c))}function pc(c,d,m,v){if(d.subtreeFlags&10256)for(d=d.child;d!==null;)z6(c,d,m,v),d=d.sibling}function z6(c,d,m,v){var S=d.flags;switch(d.tag){case 0:case 11:case 15:pc(c,d,m,v),S&2048&&Rp(9,d);break;case 1:pc(c,d,m,v);break;case 3:pc(c,d,m,v),S&2048&&(c=null,d.alternate!==null&&(c=d.alternate.memoizedState.cache),d=d.memoizedState.cache,d!==c&&(d.refCount++,c!=null&&h0(c)));break;case 12:if(S&2048){pc(c,d,m,v),c=d.stateNode;try{var k=d.memoizedProps,V=k.id,se=k.onPostCommit;typeof se=="function"&&se(V,d.alternate===null?"mount":"update",c.passiveEffectDuration,-0)}catch(Ae){vn(d,d.return,Ae)}}else pc(c,d,m,v);break;case 31:pc(c,d,m,v);break;case 13:pc(c,d,m,v);break;case 23:break;case 22:k=d.stateNode,V=d.alternate,d.memoizedState!==null?k._visibility&2?pc(c,d,m,v):Bp(c,d):k._visibility&2?pc(c,d,m,v):(k._visibility|=2,Yh(c,d,m,v,(d.subtreeFlags&10256)!==0||!1)),S&2048&&kb(V,d);break;case 24:pc(c,d,m,v),S&2048&&Cb(d.alternate,d);break;default:pc(c,d,m,v)}}function Yh(c,d,m,v,S){for(S=S&&((d.subtreeFlags&10256)!==0||!1),d=d.child;d!==null;){var k=c,V=d,se=m,Ae=v,$e=V.flags;switch(V.tag){case 0:case 11:case 15:Yh(k,V,se,Ae,S),Rp(8,V);break;case 23:break;case 22:var Je=V.stateNode;V.memoizedState!==null?Je._visibility&2?Yh(k,V,se,Ae,S):Bp(k,V):(Je._visibility|=2,Yh(k,V,se,Ae,S)),S&&$e&2048&&kb(V.alternate,V);break;case 24:Yh(k,V,se,Ae,S),S&&$e&2048&&Cb(V.alternate,V);break;default:Yh(k,V,se,Ae,S)}d=d.sibling}}function Bp(c,d){if(d.subtreeFlags&10256)for(d=d.child;d!==null;){var m=c,v=d,S=v.flags;switch(v.tag){case 22:Bp(m,v),S&2048&&kb(v.alternate,v);break;case 24:Bp(m,v),S&2048&&Cb(v.alternate,v);break;default:Bp(m,v)}d=d.sibling}}var Up=8192;function Xh(c,d,m){if(c.subtreeFlags&Up)for(c=c.child;c!==null;)q6(c,d,m),c=c.sibling}function q6(c,d,m){switch(c.tag){case 26:Xh(c,d,m),c.flags&Up&&c.memoizedState!==null&&pz(m,mc,c.memoizedState,c.memoizedProps);break;case 5:Xh(c,d,m);break;case 3:case 4:var v=mc;mc=k1(c.stateNode.containerInfo),Xh(c,d,m),mc=v;break;case 22:c.memoizedState===null&&(v=c.alternate,v!==null&&v.memoizedState!==null?(v=Up,Up=16777216,Xh(c,d,m),Up=v):Xh(c,d,m));break;default:Xh(c,d,m)}}function $6(c){var d=c.alternate;if(d!==null&&(c=d.child,c!==null)){d.child=null;do d=c.sibling,c.sibling=null,c=d;while(c!==null)}}function zp(c){var d=c.deletions;if((c.flags&16)!==0){if(d!==null)for(var m=0;m<d.length;m++){var v=d[m];Fi=v,V6(v,c)}$6(c)}if(c.subtreeFlags&10256)for(c=c.child;c!==null;)H6(c),c=c.sibling}function H6(c){switch(c.tag){case 0:case 11:case 15:zp(c),c.flags&2048&&Zf(9,c,c.return);break;case 3:zp(c);break;case 12:zp(c);break;case 22:var d=c.stateNode;c.memoizedState!==null&&d._visibility&2&&(c.return===null||c.return.tag!==13)?(d._visibility&=-3,p1(c)):zp(c);break;default:zp(c)}}function p1(c){var d=c.deletions;if((c.flags&16)!==0){if(d!==null)for(var m=0;m<d.length;m++){var v=d[m];Fi=v,V6(v,c)}$6(c)}for(c=c.child;c!==null;){switch(d=c,d.tag){case 0:case 11:case 15:Zf(8,d,d.return),p1(d);break;case 22:m=d.stateNode,m._visibility&2&&(m._visibility&=-3,p1(d));break;default:p1(d)}c=c.sibling}}function V6(c,d){for(;Fi!==null;){var m=Fi;switch(m.tag){case 0:case 11:case 15:Zf(8,m,d);break;case 23:case 22:if(m.memoizedState!==null&&m.memoizedState.cachePool!==null){var v=m.memoizedState.cachePool.pool;v!=null&&v.refCount++}break;case 24:h0(m.memoizedState.cache)}if(v=m.child,v!==null)v.return=m,Fi=v;else e:for(m=c;Fi!==null;){v=Fi;var S=v.sibling,k=v.return;if(L6(v),v===m){Fi=null;break e}if(S!==null){S.return=k,Fi=S;break e}Fi=k}}}var TU={getCacheForType:function(c){var d=pi(wa),m=d.data.get(c);return m===void 0&&(m=c(),d.data.set(c,m)),m},cacheSignal:function(){return pi(wa).controller.signal}},OU=typeof WeakMap=="function"?WeakMap:Map,cn=0,Mn=null,Lr=null,Rr=0,gn=0,Ul=null,Jf=!1,Qh=!1,Tb=!1,zu=0,Da=0,ed=0,y0=0,Ob=0,zl=0,Zh=0,qp=null,wl=null,Db=!1,x1=0,W6=0,g1=1/0,v1=null,td=null,gi=0,rd=null,Jh=null,qu=0,Pb=0,Fb=null,G6=null,$p=0,Lb=null;function ql(){return(cn&2)!==0&&Rr!==0?Rr&-Rr:ne.T!==null?zb():ee()}function K6(){if(zl===0)if((Rr&536870912)===0||Fr){var c=Bn;Bn<<=1,(Bn&3932160)===0&&(Bn=262144),zl=c}else zl=536870912;return c=Gn.current,c!==null&&(c.flags|=32),zl}function _l(c,d,m){(c===Mn&&(gn===2||gn===9)||c.cancelPendingCommit!==null)&&(em(c,0),nd(c,Rr,zl,!1)),Gt(c,m),((cn&2)===0||c!==Mn)&&(c===Mn&&((cn&2)===0&&(y0|=m),Da===4&&nd(c,Rr,zl,!1)),Jc(c))}function Y6(c,d,m){if((cn&6)!==0)throw Error(n(327));var v=!m&&(d&127)===0&&(d&c.expiredLanes)===0||Ds(c,d),S=v?FU(c,d):Rb(c,d,!0),k=v;do{if(S===0){Qh&&!v&&nd(c,d,0,!1);break}else{if(m=c.current.alternate,k&&!DU(m)){S=Rb(c,d,!1),k=!1;continue}if(S===2){if(k=d,c.errorRecoveryDisabledLanes&k)var V=0;else V=c.pendingLanes&-536870913,V=V!==0?V:V&536870912?536870912:0;if(V!==0){d=V;e:{var se=c;S=qp;var Ae=se.current.memoizedState.isDehydrated;if(Ae&&(em(se,V).flags|=256),V=Rb(se,V,!1),V!==2){if(Tb&&!Ae){se.errorRecoveryDisabledLanes|=k,y0|=k,S=4;break e}k=wl,wl=S,k!==null&&(wl===null?wl=k:wl.push.apply(wl,k))}S=V}if(k=!1,S!==2)continue}}if(S===1){em(c,0),nd(c,d,0,!0);break}e:{switch(v=c,k=S,k){case 0:case 1:throw Error(n(345));case 4:if((d&4194048)!==d)break;case 6:nd(v,d,zl,!Jf);break e;case 2:wl=null;break;case 3:case 5:break;default:throw Error(n(329))}if((d&62914560)===d&&(S=x1+300-Vt(),10<S)){if(nd(v,d,zl,!Jf),Pr(v,0,!0)!==0)break e;qu=d,v.timeoutHandle=AA(X6.bind(null,v,m,wl,v1,Db,d,zl,y0,Zh,Jf,k,"Throttled",-0,0),S);break e}X6(v,m,wl,v1,Db,d,zl,y0,Zh,Jf,k,null,-0,0)}}break}while(!0);Jc(c)}function X6(c,d,m,v,S,k,V,se,Ae,$e,Je,at,Ve,We){if(c.timeoutHandle=-1,at=d.subtreeFlags,at&8192||(at&16785408)===16785408){at={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:Fl},q6(d,k,at);var Lt=(k&62914560)===k?x1-Vt():(k&4194048)===k?W6-Vt():0;if(Lt=xz(at,Lt),Lt!==null){qu=k,c.cancelPendingCommit=Lt(aA.bind(null,c,d,k,m,v,S,V,se,Ae,Je,at,null,Ve,We)),nd(c,k,V,!$e);return}}aA(c,d,k,m,v,S,V,se,Ae)}function DU(c){for(var d=c;;){var m=d.tag;if((m===0||m===11||m===15)&&d.flags&16384&&(m=d.updateQueue,m!==null&&(m=m.stores,m!==null)))for(var v=0;v<m.length;v++){var S=m[v],k=S.getSnapshot;S=S.value;try{if(!fi(k(),S))return!1}catch{return!1}}if(m=d.child,d.subtreeFlags&16384&&m!==null)m.return=d,d=m;else{if(d===c)break;for(;d.sibling===null;){if(d.return===null||d.return===c)return!0;d=d.return}d.sibling.return=d.return,d=d.sibling}}return!0}function nd(c,d,m,v){d&=~Ob,d&=~y0,c.suspendedLanes|=d,c.pingedLanes&=~d,v&&(c.warmLanes|=d),v=c.expirationTimes;for(var S=d;0<S;){var k=31-br(S),V=1<<k;v[k]=-1,S&=~V}m!==0&&il(c,m,d)}function y1(){return(cn&6)===0?(Hp(0),!1):!0}function Mb(){if(Lr!==null){if(gn===0)var c=Lr.return;else c=Lr,yo=Hc=null,qh(c),it=null,Mt=0,c=Lr;for(;c!==null;)E6(c.alternate,c),c=c.return;Lr=null}}function em(c,d){var m=c.timeoutHandle;m!==-1&&(c.timeoutHandle=-1,ZU(m)),m=c.cancelPendingCommit,m!==null&&(c.cancelPendingCommit=null,m()),qu=0,Mb(),Mn=c,Lr=m=ul(c.current,null),Rr=d,gn=0,Ul=null,Jf=!1,Qh=Ds(c,d),Tb=!1,Zh=zl=Ob=y0=ed=Da=0,wl=qp=null,Db=!1,(d&8)!==0&&(d|=d&32);var v=c.entangledLanes;if(v!==0)for(c=c.entanglements,v&=d;0<v;){var S=31-br(v),k=1<<S;d|=c[S],v&=~k}return zu=d,l0(),m}function Q6(c,d){Xt=null,ne.H=Fp,d===ke||d===ye?(d=tt(),gn=3):d===Ue?(d=tt(),gn=4):gn=d===mb?8:d!==null&&typeof d=="object"&&typeof d.then=="function"?6:1,Ul=d,Lr===null&&(Da=1,o1(c,fl(d,c.current)))}function Z6(){var c=Gn.current;return c===null?!0:(Rr&4194048)===Rr?Hr===null:(Rr&62914560)===Rr||(Rr&536870912)!==0?c===Hr:!1}function J6(){var c=ne.H;return ne.H=Fp,c===null?Fp:c}function eA(){var c=ne.A;return ne.A=TU,c}function b1(){Da=4,Jf||(Rr&4194048)!==Rr&&Gn.current!==null||(Qh=!0),(ed&134217727)===0&&(y0&134217727)===0||Mn===null||nd(Mn,Rr,zl,!1)}function Rb(c,d,m){var v=cn;cn|=2;var S=J6(),k=eA();(Mn!==c||Rr!==d)&&(v1=null,em(c,d)),d=!1;var V=Da;e:do try{if(gn!==0&&Lr!==null){var se=Lr,Ae=Ul;switch(gn){case 8:Mb(),V=6;break e;case 3:case 2:case 9:case 6:Gn.current===null&&(d=!0);var $e=gn;if(gn=0,Ul=null,tm(c,se,Ae,$e),m&&Qh){V=0;break e}break;default:$e=gn,gn=0,Ul=null,tm(c,se,Ae,$e)}}PU(),V=Da;break}catch(Je){Q6(c,Je)}while(!0);return d&&c.shellSuspendCounter++,yo=Hc=null,cn=v,ne.H=S,ne.A=k,Lr===null&&(Mn=null,Rr=0,l0()),V}function PU(){for(;Lr!==null;)tA(Lr)}function FU(c,d){var m=cn;cn|=2;var v=J6(),S=eA();Mn!==c||Rr!==d?(v1=null,g1=Vt()+500,em(c,d)):Qh=Ds(c,d);e:do try{if(gn!==0&&Lr!==null){d=Lr;var k=Ul;t:switch(gn){case 1:gn=0,Ul=null,tm(c,d,k,1);break;case 2:case 9:if(Le(k)){gn=0,Ul=null,rA(d);break}d=function(){gn!==2&&gn!==9||Mn!==c||(gn=7),Jc(c)},k.then(d,d);break e;case 3:gn=7;break e;case 4:gn=5;break e;case 7:Le(k)?(gn=0,Ul=null,rA(d)):(gn=0,Ul=null,tm(c,d,k,7));break;case 5:var V=null;switch(Lr.tag){case 26:V=Lr.memoizedState;case 5:case 27:var se=Lr;if(V?zA(V):se.stateNode.complete){gn=0,Ul=null;var Ae=se.sibling;if(Ae!==null)Lr=Ae;else{var $e=se.return;$e!==null?(Lr=$e,w1($e)):Lr=null}break t}}gn=0,Ul=null,tm(c,d,k,5);break;case 6:gn=0,Ul=null,tm(c,d,k,6);break;case 8:Mb(),Da=6;break e;default:throw Error(n(462))}}LU();break}catch(Je){Q6(c,Je)}while(!0);return yo=Hc=null,ne.H=v,ne.A=S,cn=m,Lr!==null?0:(Mn=null,Rr=0,l0(),Da)}function LU(){for(;Lr!==null&&!Qt();)tA(Lr)}function tA(c){var d=j6(c.alternate,c,zu);c.memoizedProps=c.pendingProps,d===null?w1(c):Lr=d}function rA(c){var d=c,m=d.alternate;switch(d.tag){case 15:case 0:d=y6(m,d,d.pendingProps,d.type,void 0,Rr);break;case 11:d=y6(m,d,d.pendingProps,d.type.render,d.ref,Rr);break;case 5:qh(d);default:E6(m,d),d=Lr=u0(d,zu),d=j6(m,d,zu)}c.memoizedProps=c.pendingProps,d===null?w1(c):Lr=d}function tm(c,d,m,v){yo=Hc=null,qh(d),it=null,Mt=0;var S=d.return;try{if(NU(c,S,d,m,Rr)){Da=1,o1(c,fl(m,c.current)),Lr=null;return}}catch(k){if(S!==null)throw Lr=S,k;Da=1,o1(c,fl(m,c.current)),Lr=null;return}d.flags&32768?(Fr||v===1?c=!0:Qh||(Rr&536870912)!==0?c=!1:(Jf=c=!0,(v===2||v===9||v===3||v===6)&&(v=Gn.current,v!==null&&v.tag===13&&(v.flags|=16384))),nA(d,c)):w1(d)}function w1(c){var d=c;do{if((d.flags&32768)!==0){nA(d,Jf);return}c=d.return;var m=AU(d.alternate,d,zu);if(m!==null){Lr=m;return}if(d=d.sibling,d!==null){Lr=d;return}Lr=d=c}while(d!==null);Da===0&&(Da=5)}function nA(c,d){do{var m=EU(c.alternate,c);if(m!==null){m.flags&=32767,Lr=m;return}if(m=c.return,m!==null&&(m.flags|=32768,m.subtreeFlags=0,m.deletions=null),!d&&(c=c.sibling,c!==null)){Lr=c;return}Lr=c=m}while(c!==null);Da=6,Lr=null}function aA(c,d,m,v,S,k,V,se,Ae){c.cancelPendingCommit=null;do _1();while(gi!==0);if((cn&6)!==0)throw Error(n(327));if(d!==null){if(d===c.current)throw Error(n(177));if(k=d.lanes|d.childLanes,k|=kh,Tl(c,m,k,V,se,Ae),c===Mn&&(Lr=Mn=null,Rr=0),Jh=d,rd=c,qu=m,Pb=k,Fb=S,G6=v,(d.subtreeFlags&10256)!==0||(d.flags&10256)!==0?(c.callbackNode=null,c.callbackPriority=0,BU(It,function(){return cA(),null})):(c.callbackNode=null,c.callbackPriority=0),v=(d.flags&13878)!==0,(d.subtreeFlags&13878)!==0||v){v=ne.T,ne.T=null,S=le.p,le.p=2,V=cn,cn|=4;try{kU(c,d,m)}finally{cn=V,le.p=S,ne.T=v}}gi=1,iA(),sA(),lA()}}function iA(){if(gi===1){gi=0;var c=rd,d=Jh,m=(d.flags&13878)!==0;if((d.subtreeFlags&13878)!==0||m){m=ne.T,ne.T=null;var v=le.p;le.p=2;var S=cn;cn|=4;try{B6(d,c);var k=Yb,V=sc(c.containerInfo),se=k.focusedElem,Ae=k.selectionRange;if(V!==se&&se&&se.ownerDocument&&ic(se.ownerDocument.documentElement,se)){if(Ae!==null&&go(se)){var $e=Ae.start,Je=Ae.end;if(Je===void 0&&(Je=$e),"selectionStart"in se)se.selectionStart=$e,se.selectionEnd=Math.min(Je,se.value.length);else{var at=se.ownerDocument||document,Ve=at&&at.defaultView||window;if(Ve.getSelection){var We=Ve.getSelection(),Lt=se.textContent.length,lr=Math.min(Ae.start,Lt),Tn=Ae.end===void 0?lr:Math.min(Ae.end,Lt);!We.extend&&lr>Tn&&(V=Tn,Tn=lr,lr=V);var Fe=zf(se,lr),Te=zf(se,Tn);if(Fe&&Te&&(We.rangeCount!==1||We.anchorNode!==Fe.node||We.anchorOffset!==Fe.offset||We.focusNode!==Te.node||We.focusOffset!==Te.offset)){var qe=at.createRange();qe.setStart(Fe.node,Fe.offset),We.removeAllRanges(),lr>Tn?(We.addRange(qe),We.extend(Te.node,Te.offset)):(qe.setEnd(Te.node,Te.offset),We.addRange(qe))}}}}for(at=[],We=se;We=We.parentNode;)We.nodeType===1&&at.push({element:We,left:We.scrollLeft,top:We.scrollTop});for(typeof se.focus=="function"&&se.focus(),se=0;se<at.length;se++){var nt=at[se];nt.element.scrollLeft=nt.left,nt.element.scrollTop=nt.top}}F1=!!Kb,Yb=Kb=null}finally{cn=S,le.p=v,ne.T=m}}c.current=d,gi=2}}function sA(){if(gi===2){gi=0;var c=rd,d=Jh,m=(d.flags&8772)!==0;if((d.subtreeFlags&8772)!==0||m){m=ne.T,ne.T=null;var v=le.p;le.p=2;var S=cn;cn|=4;try{F6(c,d.alternate,d)}finally{cn=S,le.p=v,ne.T=m}}gi=3}}function lA(){if(gi===4||gi===3){gi=0,Pt();var c=rd,d=Jh,m=qu,v=G6;(d.subtreeFlags&10256)!==0||(d.flags&10256)!==0?gi=5:(gi=0,Jh=rd=null,oA(c,c.pendingLanes));var S=c.pendingLanes;if(S===0&&(td=null),ta(m),d=d.stateNode,St&&typeof St.onCommitFiberRoot=="function")try{St.onCommitFiberRoot(Yt,d,void 0,(d.current.flags&128)===128)}catch{}if(v!==null){d=ne.T,S=le.p,le.p=2,ne.T=null;try{for(var k=c.onRecoverableError,V=0;V<v.length;V++){var se=v[V];k(se.value,{componentStack:se.stack})}}finally{ne.T=d,le.p=S}}(qu&3)!==0&&_1(),Jc(c),S=c.pendingLanes,(m&261930)!==0&&(S&42)!==0?c===Lb?$p++:($p=0,Lb=c):$p=0,Hp(0)}}function oA(c,d){(c.pooledCacheLanes&=d)===0&&(d=c.pooledCache,d!=null&&(c.pooledCache=null,h0(d)))}function _1(){return iA(),sA(),lA(),cA()}function cA(){if(gi!==5)return!1;var c=rd,d=Pb;Pb=0;var m=ta(qu),v=ne.T,S=le.p;try{le.p=32>m?32:m,ne.T=null,m=Fb,Fb=null;var k=rd,V=qu;if(gi=0,Jh=rd=null,qu=0,(cn&6)!==0)throw Error(n(331));var se=cn;if(cn|=4,H6(k.current),z6(k,k.current,V,m),cn=se,Hp(0,!1),St&&typeof St.onPostCommitFiberRoot=="function")try{St.onPostCommitFiberRoot(Yt,k)}catch{}return!0}finally{le.p=S,ne.T=v,oA(c,d)}}function uA(c,d,m){d=fl(m,d),d=hb(c.stateNode,d,2),c=wr(c,d,2),c!==null&&(Gt(c,2),Jc(c))}function vn(c,d,m){if(c.tag===3)uA(c,c,m);else for(;d!==null;){if(d.tag===3){uA(d,c,m);break}else if(d.tag===1){var v=d.stateNode;if(typeof d.type.getDerivedStateFromError=="function"||typeof v.componentDidCatch=="function"&&(td===null||!td.has(v))){c=fl(m,c),m=f6(2),v=wr(d,m,2),v!==null&&(d6(m,v,d,c),Gt(v,2),Jc(v));break}}d=d.return}}function Ib(c,d,m){var v=c.pingCache;if(v===null){v=c.pingCache=new OU;var S=new Set;v.set(d,S)}else S=v.get(d),S===void 0&&(S=new Set,v.set(d,S));S.has(m)||(Tb=!0,S.add(m),c=MU.bind(null,c,d,m),d.then(c,c))}function MU(c,d,m){var v=c.pingCache;v!==null&&v.delete(d),c.pingedLanes|=c.suspendedLanes&m,c.warmLanes&=~m,Mn===c&&(Rr&m)===m&&(Da===4||Da===3&&(Rr&62914560)===Rr&&300>Vt()-x1?(cn&2)===0&&em(c,0):Ob|=m,Zh===Rr&&(Zh=0)),Jc(c)}function fA(c,d){d===0&&(d=al()),c=oc(c,d),c!==null&&(Gt(c,d),Jc(c))}function RU(c){var d=c.memoizedState,m=0;d!==null&&(m=d.retryLane),fA(c,m)}function IU(c,d){var m=0;switch(c.tag){case 31:case 13:var v=c.stateNode,S=c.memoizedState;S!==null&&(m=S.retryLane);break;case 19:v=c.stateNode;break;case 22:v=c.stateNode._retryCache;break;default:throw Error(n(314))}v!==null&&v.delete(d),fA(c,m)}function BU(c,d){return At(c,d)}var N1=null,rm=null,Bb=!1,S1=!1,Ub=!1,ad=0;function Jc(c){c!==rm&&c.next===null&&(rm===null?N1=rm=c:rm=rm.next=c),S1=!0,Bb||(Bb=!0,zU())}function Hp(c,d){if(!Ub&&S1){Ub=!0;do for(var m=!1,v=N1;v!==null;){if(c!==0){var S=v.pendingLanes;if(S===0)var k=0;else{var V=v.suspendedLanes,se=v.pingedLanes;k=(1<<31-br(42|c)+1)-1,k&=S&~(V&~se),k=k&201326741?k&201326741|1:k?k|2:0}k!==0&&(m=!0,pA(v,k))}else k=Rr,k=Pr(v,v===Mn?k:0,v.cancelPendingCommit!==null||v.timeoutHandle!==-1),(k&3)===0||Ds(v,k)||(m=!0,pA(v,k));v=v.next}while(m);Ub=!1}}function UU(){dA()}function dA(){S1=Bb=!1;var c=0;ad!==0&&QU()&&(c=ad);for(var d=Vt(),m=null,v=N1;v!==null;){var S=v.next,k=hA(v,d);k===0?(v.next=null,m===null?N1=S:m.next=S,S===null&&(rm=m)):(m=v,(c!==0||(k&3)!==0)&&(S1=!0)),v=S}gi!==0&&gi!==5||Hp(c),ad!==0&&(ad=0)}function hA(c,d){for(var m=c.suspendedLanes,v=c.pingedLanes,S=c.expirationTimes,k=c.pendingLanes&-62914561;0<k;){var V=31-br(k),se=1<<V,Ae=S[V];Ae===-1?((se&m)===0||(se&v)!==0)&&(S[V]=Xa(se,d)):Ae<=d&&(c.expiredLanes|=se),k&=~se}if(d=Mn,m=Rr,m=Pr(c,c===d?m:0,c.cancelPendingCommit!==null||c.timeoutHandle!==-1),v=c.callbackNode,m===0||c===d&&(gn===2||gn===9)||c.cancelPendingCommit!==null)return v!==null&&v!==null&&pt(v),c.callbackNode=null,c.callbackPriority=0;if((m&3)===0||Ds(c,m)){if(d=m&-m,d===c.callbackPriority)return d;switch(v!==null&&pt(v),ta(m)){case 2:case 8:m=Dr;break;case 32:m=It;break;case 268435456:m=xt;break;default:m=It}return v=mA.bind(null,c),m=At(m,v),c.callbackPriority=d,c.callbackNode=m,d}return v!==null&&v!==null&&pt(v),c.callbackPriority=2,c.callbackNode=null,2}function mA(c,d){if(gi!==0&&gi!==5)return c.callbackNode=null,c.callbackPriority=0,null;var m=c.callbackNode;if(_1()&&c.callbackNode!==m)return null;var v=Rr;return v=Pr(c,c===Mn?v:0,c.cancelPendingCommit!==null||c.timeoutHandle!==-1),v===0?null:(Y6(c,v,d),hA(c,Vt()),c.callbackNode!=null&&c.callbackNode===m?mA.bind(null,c):null)}function pA(c,d){if(_1())return null;Y6(c,d,!0)}function zU(){JU(function(){(cn&6)!==0?At(Jt,UU):dA()})}function zb(){if(ad===0){var c=N;c===0&&(c=pn,pn<<=1,(pn&261888)===0&&(pn=256)),ad=c}return ad}function xA(c){return c==null||typeof c=="symbol"||typeof c=="boolean"?null:typeof c=="function"?c:Pl(""+c)}function gA(c,d){var m=d.ownerDocument.createElement("input");return m.name=d.name,m.value=d.value,c.id&&m.setAttribute("form",c.id),d.parentNode.insertBefore(m,d),c=new FormData(c),m.parentNode.removeChild(m),c}function qU(c,d,m,v,S){if(d==="submit"&&m&&m.stateNode===S){var k=xA((S[ge]||null).action),V=v.submitter;V&&(d=(d=V[ge]||null)?xA(d.formAction):V.getAttribute("formAction"),d!==null&&(k=d,V=null));var se=new oo("action","action",null,v,S);c.push({event:se,listeners:[{instance:null,listener:function(){if(v.defaultPrevented){if(ad!==0){var Ae=V?gA(S,V):new FormData(S);lb(m,{pending:!0,data:Ae,method:S.method,action:k},null,Ae)}}else typeof k=="function"&&(se.preventDefault(),Ae=V?gA(S,V):new FormData(S),lb(m,{pending:!0,data:Ae,method:S.method,action:k},k,Ae))},currentTarget:S}]})}}for(var qb=0;qb<Eu.length;qb++){var $b=Eu[qb],$U=$b.toLowerCase(),HU=$b[0].toUpperCase()+$b.slice(1);cl($U,"on"+HU)}cl(Au,"onAnimationEnd"),cl(i0,"onAnimationIteration"),cl(yp,"onAnimationStart"),cl("dblclick","onDoubleClick"),cl("focusin","onFocus"),cl("focusout","onBlur"),cl(Yg,"onTransitionRun"),cl(Xg,"onTransitionStart"),cl(Qg,"onTransitionCancel"),cl(bp,"onTransitionEnd"),Hi("onMouseEnter",["mouseout","mouseover"]),Hi("onMouseLeave",["mouseout","mouseover"]),Hi("onPointerEnter",["pointerout","pointerover"]),Hi("onPointerLeave",["pointerout","pointerover"]),fn("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),fn("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),fn("onBeforeInput",["compositionend","keypress","textInput","paste"]),fn("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),fn("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),fn("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Vp="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),VU=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(Vp));function vA(c,d){d=(d&4)!==0;for(var m=0;m<c.length;m++){var v=c[m],S=v.event;v=v.listeners;e:{var k=void 0;if(d)for(var V=v.length-1;0<=V;V--){var se=v[V],Ae=se.instance,$e=se.currentTarget;if(se=se.listener,Ae!==k&&S.isPropagationStopped())break e;k=se,S.currentTarget=$e;try{k(S)}catch(Je){s0(Je)}S.currentTarget=null,k=Ae}else for(V=0;V<v.length;V++){if(se=v[V],Ae=se.instance,$e=se.currentTarget,se=se.listener,Ae!==k&&S.isPropagationStopped())break e;k=se,S.currentTarget=$e;try{k(S)}catch(Je){s0(Je)}S.currentTarget=null,k=Ae}}}}function Mr(c,d){var m=d[Me];m===void 0&&(m=d[Me]=new Set);var v=c+"__bubble";m.has(v)||(yA(d,c,2,!1),m.add(v))}function Hb(c,d,m){var v=0;d&&(v|=4),yA(m,c,v,d)}var j1="_reactListening"+Math.random().toString(36).slice(2);function Vb(c){if(!c[j1]){c[j1]=!0,sn.forEach(function(m){m!=="selectionchange"&&(VU.has(m)||Hb(m,!1,c),Hb(m,!0,c))});var d=c.nodeType===9?c:c.ownerDocument;d===null||d[j1]||(d[j1]=!0,Hb("selectionchange",!1,d))}}function yA(c,d,m,v){switch(KA(d)){case 2:var S=yz;break;case 8:S=bz;break;default:S=sw}m=S.bind(null,d,m,c),S=void 0,!r0||d!=="touchstart"&&d!=="touchmove"&&d!=="wheel"||(S=!0),v?S!==void 0?c.addEventListener(d,m,{capture:!0,passive:S}):c.addEventListener(d,m,!0):S!==void 0?c.addEventListener(d,m,{passive:S}):c.addEventListener(d,m,!1)}function Wb(c,d,m,v,S){var k=v;if((d&1)===0&&(d&2)===0&&v!==null)e:for(;;){if(v===null)return;var V=v.tag;if(V===3||V===4){var se=v.stateNode.containerInfo;if(se===S)break;if(V===4)for(V=v.return;V!==null;){var Ae=V.tag;if((Ae===3||Ae===4)&&V.stateNode.containerInfo===S)return;V=V.return}for(;se!==null;){if(V=mt(se),V===null)return;if(Ae=V.tag,Ae===5||Ae===6||Ae===26||Ae===27){v=k=V;continue e}se=se.parentNode}}v=v.return}_h(function(){var $e=k,Je=gu(m),at=[];e:{var Ve=wp.get(c);if(Ve!==void 0){var We=oo,Lt=c;switch(c){case"keypress":if(Xo(m)===0)break e;case"keydown":case"keyup":We=Gr;break;case"focusin":Lt="focus",We=ec;break;case"focusout":Lt="blur",We=ec;break;case"beforeblur":case"afterblur":We=ec;break;case"click":if(m.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":We=co;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":We=Nh;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":We=Ua;break;case Au:case i0:case yp:We=L;break;case bp:We=ci;break;case"scroll":case"scrollend":We=Ff;break;case"wheel":We=cs;break;case"copy":case"cut":case"paste":We=_e;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":We=va;break;case"toggle":case"beforetoggle":We=Lf}var lr=(d&4)!==0,Tn=!lr&&(c==="scroll"||c==="scrollend"),Fe=lr?Ve!==null?Ve+"Capture":null:Ve;lr=[];for(var Te=$e,qe;Te!==null;){var nt=Te;if(qe=nt.stateNode,nt=nt.tag,nt!==5&&nt!==26&&nt!==27||qe===null||Fe===null||(nt=Ls(Te,Fe),nt!=null&&lr.push(Wp(Te,nt,qe))),Tn)break;Te=Te.return}0<lr.length&&(Ve=new We(Ve,Lt,null,m,Je),at.push({event:Ve,listeners:lr}))}}if((d&7)===0){e:{if(Ve=c==="mouseover"||c==="pointerover",We=c==="mouseout"||c==="pointerout",Ve&&m!==Yo&&(Lt=m.relatedTarget||m.fromElement)&&(mt(Lt)||Lt[Ne]))break e;if((We||Ve)&&(Ve=Je.window===Je?Je:(Ve=Je.ownerDocument)?Ve.defaultView||Ve.parentWindow:window,We?(Lt=m.relatedTarget||m.toElement,We=$e,Lt=Lt?mt(Lt):null,Lt!==null&&(Tn=i(Lt),lr=Lt.tag,Lt!==Tn||lr!==5&&lr!==27&&lr!==6)&&(Lt=null)):(We=null,Lt=$e),We!==Lt)){if(lr=co,nt="onMouseLeave",Fe="onMouseEnter",Te="mouse",(c==="pointerout"||c==="pointerover")&&(lr=va,nt="onPointerLeave",Fe="onPointerEnter",Te="pointer"),Tn=We==null?Ve:ht(We),qe=Lt==null?Ve:ht(Lt),Ve=new lr(nt,Te+"leave",We,m,Je),Ve.target=Tn,Ve.relatedTarget=qe,nt=null,mt(Je)===$e&&(lr=new lr(Fe,Te+"enter",Lt,m,Je),lr.target=qe,lr.relatedTarget=Tn,nt=lr),Tn=nt,We&&Lt)t:{for(lr=WU,Fe=We,Te=Lt,qe=0,nt=Fe;nt;nt=lr(nt))qe++;nt=0;for(var rr=Te;rr;rr=lr(rr))nt++;for(;0<qe-nt;)Fe=lr(Fe),qe--;for(;0<nt-qe;)Te=lr(Te),nt--;for(;qe--;){if(Fe===Te||Te!==null&&Fe===Te.alternate){lr=Fe;break t}Fe=lr(Fe),Te=lr(Te)}lr=null}else lr=null;We!==null&&bA(at,Ve,We,lr,!1),Lt!==null&&Tn!==null&&bA(at,Tn,Lt,lr,!0)}}e:{if(Ve=$e?ht($e):window,We=Ve.nodeName&&Ve.nodeName.toLowerCase(),We==="select"||We==="input"&&Ve.type==="file")var Jr=Uc;else if(n0(Ve))if(us)Jr=po;else{Jr=ya;var qt=Bf}else We=Ve.nodeName,!We||We.toLowerCase()!=="input"||Ve.type!=="checkbox"&&Ve.type!=="radio"?$e&&Jd($e.elementType)&&(Jr=Uc):Jr=Eh;if(Jr&&(Jr=Jr(c,$e))){Is(at,Jr,m,Je);break e}qt&&qt(c,Ve,$e),c==="focusout"&&$e&&Ve.type==="number"&&$e.memoizedProps.value!=null&&Yd(Ve,"number",Ve.value)}switch(qt=$e?ht($e):window,c){case"focusin":(n0(qt)||qt.contentEditable==="true")&&(Bs=qt,lc=$e,Ci=null);break;case"focusout":Ci=lc=Bs=null;break;case"mousedown":ol=!0;break;case"contextmenu":case"mouseup":case"dragend":ol=!1,Kr(at,m,Je);break;case"selectionchange":if(ju)break;case"keydown":case"keyup":Kr(at,m,Je)}var Sr;if(uo)e:{switch(c){case"compositionstart":var Ir="onCompositionStart";break e;case"compositionend":Ir="onCompositionEnd";break e;case"compositionupdate":Ir="onCompositionUpdate";break e}Ir=void 0}else fo?Bc(c,m)&&(Ir="onCompositionEnd"):c==="keydown"&&m.keyCode===229&&(Ir="onCompositionStart");Ir&&(Rc&&m.locale!=="ko"&&(fo||Ir!=="onCompositionStart"?Ir==="onCompositionEnd"&&fo&&(Sr=bu()):(Ms=Je,yu="value"in Ms?Ms.value:Ms.textContent,fo=!0)),qt=A1($e,Ir),0<qt.length&&(Ir=new Pe(Ir,c,null,m,Je),at.push({event:Ir,listeners:qt}),Sr?Ir.data=Sr:(Sr=Mf(m),Sr!==null&&(Ir.data=Sr)))),(Sr=Su?ra(c,m):tc(c,m))&&(Ir=A1($e,"onBeforeInput"),0<Ir.length&&(qt=new Pe("onBeforeInput","beforeinput",null,m,Je),at.push({event:qt,listeners:Ir}),qt.data=Sr)),qU(at,c,$e,m,Je)}vA(at,d)})}function Wp(c,d,m){return{instance:c,listener:d,currentTarget:m}}function A1(c,d){for(var m=d+"Capture",v=[];c!==null;){var S=c,k=S.stateNode;if(S=S.tag,S!==5&&S!==26&&S!==27||k===null||(S=Ls(c,m),S!=null&&v.unshift(Wp(c,S,k)),S=Ls(c,d),S!=null&&v.push(Wp(c,S,k))),c.tag===3)return v;c=c.return}return[]}function WU(c){if(c===null)return null;do c=c.return;while(c&&c.tag!==5&&c.tag!==27);return c||null}function bA(c,d,m,v,S){for(var k=d._reactName,V=[];m!==null&&m!==v;){var se=m,Ae=se.alternate,$e=se.stateNode;if(se=se.tag,Ae!==null&&Ae===v)break;se!==5&&se!==26&&se!==27||$e===null||(Ae=$e,S?($e=Ls(m,k),$e!=null&&V.unshift(Wp(m,$e,Ae))):S||($e=Ls(m,k),$e!=null&&V.push(Wp(m,$e,Ae)))),m=m.return}V.length!==0&&c.push({event:d,listeners:V})}var GU=/\r\n?/g,KU=/\u0000|\uFFFD/g;function wA(c){return(typeof c=="string"?c:""+c).replace(GU,`
`).replace(KU,"")}function _A(c,d){return d=wA(d),wA(c)===d}function Cn(c,d,m,v,S,k){switch(m){case"children":typeof v=="string"?d==="body"||d==="textarea"&&v===""||Fs(c,v):(typeof v=="number"||typeof v=="bigint")&&d!=="body"&&Fs(c,""+v);break;case"className":Of(c,"class",v);break;case"tabIndex":Of(c,"tabindex",v);break;case"dir":case"role":case"viewBox":case"width":case"height":Of(c,m,v);break;case"style":bh(c,v,k);break;case"data":if(d!=="object"){Of(c,"data",v);break}case"src":case"href":if(v===""&&(d!=="a"||m!=="href")){c.removeAttribute(m);break}if(v==null||typeof v=="function"||typeof v=="symbol"||typeof v=="boolean"){c.removeAttribute(m);break}v=Pl(""+v),c.setAttribute(m,v);break;case"action":case"formAction":if(typeof v=="function"){c.setAttribute(m,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof k=="function"&&(m==="formAction"?(d!=="input"&&Cn(c,d,"name",S.name,S,null),Cn(c,d,"formEncType",S.formEncType,S,null),Cn(c,d,"formMethod",S.formMethod,S,null),Cn(c,d,"formTarget",S.formTarget,S,null)):(Cn(c,d,"encType",S.encType,S,null),Cn(c,d,"method",S.method,S,null),Cn(c,d,"target",S.target,S,null)));if(v==null||typeof v=="symbol"||typeof v=="boolean"){c.removeAttribute(m);break}v=Pl(""+v),c.setAttribute(m,v);break;case"onClick":v!=null&&(c.onclick=Fl);break;case"onScroll":v!=null&&Mr("scroll",c);break;case"onScrollEnd":v!=null&&Mr("scrollend",c);break;case"dangerouslySetInnerHTML":if(v!=null){if(typeof v!="object"||!("__html"in v))throw Error(n(61));if(m=v.__html,m!=null){if(S.children!=null)throw Error(n(60));c.innerHTML=m}}break;case"multiple":c.multiple=v&&typeof v!="function"&&typeof v!="symbol";break;case"muted":c.muted=v&&typeof v!="function"&&typeof v!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(v==null||typeof v=="function"||typeof v=="boolean"||typeof v=="symbol"){c.removeAttribute("xlink:href");break}m=Pl(""+v),c.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",m);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":v!=null&&typeof v!="function"&&typeof v!="symbol"?c.setAttribute(m,""+v):c.removeAttribute(m);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":v&&typeof v!="function"&&typeof v!="symbol"?c.setAttribute(m,""):c.removeAttribute(m);break;case"capture":case"download":v===!0?c.setAttribute(m,""):v!==!1&&v!=null&&typeof v!="function"&&typeof v!="symbol"?c.setAttribute(m,v):c.removeAttribute(m);break;case"cols":case"rows":case"size":case"span":v!=null&&typeof v!="function"&&typeof v!="symbol"&&!isNaN(v)&&1<=v?c.setAttribute(m,v):c.removeAttribute(m);break;case"rowSpan":case"start":v==null||typeof v=="function"||typeof v=="symbol"||isNaN(v)?c.removeAttribute(m):c.setAttribute(m,v);break;case"popover":Mr("beforetoggle",c),Mr("toggle",c),Ba(c,"popover",v);break;case"xlinkActuate":dn(c,"http://www.w3.org/1999/xlink","xlink:actuate",v);break;case"xlinkArcrole":dn(c,"http://www.w3.org/1999/xlink","xlink:arcrole",v);break;case"xlinkRole":dn(c,"http://www.w3.org/1999/xlink","xlink:role",v);break;case"xlinkShow":dn(c,"http://www.w3.org/1999/xlink","xlink:show",v);break;case"xlinkTitle":dn(c,"http://www.w3.org/1999/xlink","xlink:title",v);break;case"xlinkType":dn(c,"http://www.w3.org/1999/xlink","xlink:type",v);break;case"xmlBase":dn(c,"http://www.w3.org/XML/1998/namespace","xml:base",v);break;case"xmlLang":dn(c,"http://www.w3.org/XML/1998/namespace","xml:lang",v);break;case"xmlSpace":dn(c,"http://www.w3.org/XML/1998/namespace","xml:space",v);break;case"is":Ba(c,"is",v);break;case"innerText":case"textContent":break;default:(!(2<m.length)||m[0]!=="o"&&m[0]!=="O"||m[1]!=="n"&&m[1]!=="N")&&(m=e0.get(m)||m,Ba(c,m,v))}}function Gb(c,d,m,v,S,k){switch(m){case"style":bh(c,v,k);break;case"dangerouslySetInnerHTML":if(v!=null){if(typeof v!="object"||!("__html"in v))throw Error(n(61));if(m=v.__html,m!=null){if(S.children!=null)throw Error(n(60));c.innerHTML=m}}break;case"children":typeof v=="string"?Fs(c,v):(typeof v=="number"||typeof v=="bigint")&&Fs(c,""+v);break;case"onScroll":v!=null&&Mr("scroll",c);break;case"onScrollEnd":v!=null&&Mr("scrollend",c);break;case"onClick":v!=null&&(c.onclick=Fl);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!kr.hasOwnProperty(m))e:{if(m[0]==="o"&&m[1]==="n"&&(S=m.endsWith("Capture"),d=m.slice(2,S?m.length-7:void 0),k=c[ge]||null,k=k!=null?k[m]:null,typeof k=="function"&&c.removeEventListener(d,k,S),typeof v=="function")){typeof k!="function"&&k!==null&&(m in c?c[m]=null:c.hasAttribute(m)&&c.removeAttribute(m)),c.addEventListener(d,v,S);break e}m in c?c[m]=v:v===!0?c.setAttribute(m,""):Ba(c,m,v)}}}function Qi(c,d,m){switch(d){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":Mr("error",c),Mr("load",c);var v=!1,S=!1,k;for(k in m)if(m.hasOwnProperty(k)){var V=m[k];if(V!=null)switch(k){case"src":v=!0;break;case"srcSet":S=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(n(137,d));default:Cn(c,d,k,V,m,null)}}S&&Cn(c,d,"srcSet",m.srcSet,m,null),v&&Cn(c,d,"src",m.src,m,null);return;case"input":Mr("invalid",c);var se=k=V=S=null,Ae=null,$e=null;for(v in m)if(m.hasOwnProperty(v)){var Je=m[v];if(Je!=null)switch(v){case"name":S=Je;break;case"type":V=Je;break;case"checked":Ae=Je;break;case"defaultChecked":$e=Je;break;case"value":k=Je;break;case"defaultValue":se=Je;break;case"children":case"dangerouslySetInnerHTML":if(Je!=null)throw Error(n(137,d));break;default:Cn(c,d,v,Je,m,null)}}vh(c,k,se,Ae,$e,V,S,!1);return;case"select":Mr("invalid",c),v=V=k=null;for(S in m)if(m.hasOwnProperty(S)&&(se=m[S],se!=null))switch(S){case"value":k=se;break;case"defaultValue":V=se;break;case"multiple":v=se;default:Cn(c,d,S,se,m,null)}d=k,m=V,c.multiple=!!v,d!=null?Wi(c,!!v,d,!1):m!=null&&Wi(c,!!v,m,!0);return;case"textarea":Mr("invalid",c),k=S=v=null;for(V in m)if(m.hasOwnProperty(V)&&(se=m[V],se!=null))switch(V){case"value":v=se;break;case"defaultValue":S=se;break;case"children":k=se;break;case"dangerouslySetInnerHTML":if(se!=null)throw Error(n(91));break;default:Cn(c,d,V,se,m,null)}Qd(c,v,S,k);return;case"option":for(Ae in m)if(m.hasOwnProperty(Ae)&&(v=m[Ae],v!=null))switch(Ae){case"selected":c.selected=v&&typeof v!="function"&&typeof v!="symbol";break;default:Cn(c,d,Ae,v,m,null)}return;case"dialog":Mr("beforetoggle",c),Mr("toggle",c),Mr("cancel",c),Mr("close",c);break;case"iframe":case"object":Mr("load",c);break;case"video":case"audio":for(v=0;v<Vp.length;v++)Mr(Vp[v],c);break;case"image":Mr("error",c),Mr("load",c);break;case"details":Mr("toggle",c);break;case"embed":case"source":case"link":Mr("error",c),Mr("load",c);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for($e in m)if(m.hasOwnProperty($e)&&(v=m[$e],v!=null))switch($e){case"children":case"dangerouslySetInnerHTML":throw Error(n(137,d));default:Cn(c,d,$e,v,m,null)}return;default:if(Jd(d)){for(Je in m)m.hasOwnProperty(Je)&&(v=m[Je],v!==void 0&&Gb(c,d,Je,v,m,void 0));return}}for(se in m)m.hasOwnProperty(se)&&(v=m[se],v!=null&&Cn(c,d,se,v,m,null))}function YU(c,d,m,v){switch(d){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var S=null,k=null,V=null,se=null,Ae=null,$e=null,Je=null;for(We in m){var at=m[We];if(m.hasOwnProperty(We)&&at!=null)switch(We){case"checked":break;case"value":break;case"defaultValue":Ae=at;default:v.hasOwnProperty(We)||Cn(c,d,We,null,v,at)}}for(var Ve in v){var We=v[Ve];if(at=m[Ve],v.hasOwnProperty(Ve)&&(We!=null||at!=null))switch(Ve){case"type":k=We;break;case"name":S=We;break;case"checked":$e=We;break;case"defaultChecked":Je=We;break;case"value":V=We;break;case"defaultValue":se=We;break;case"children":case"dangerouslySetInnerHTML":if(We!=null)throw Error(n(137,d));break;default:We!==at&&Cn(c,d,Ve,We,v,at)}}Kd(c,V,se,Ae,$e,Je,k,S);return;case"select":We=V=se=Ve=null;for(k in m)if(Ae=m[k],m.hasOwnProperty(k)&&Ae!=null)switch(k){case"value":break;case"multiple":We=Ae;default:v.hasOwnProperty(k)||Cn(c,d,k,null,v,Ae)}for(S in v)if(k=v[S],Ae=m[S],v.hasOwnProperty(S)&&(k!=null||Ae!=null))switch(S){case"value":Ve=k;break;case"defaultValue":se=k;break;case"multiple":V=k;default:k!==Ae&&Cn(c,d,S,k,v,Ae)}d=se,m=V,v=We,Ve!=null?Wi(c,!!m,Ve,!1):!!v!=!!m&&(d!=null?Wi(c,!!m,d,!0):Wi(c,!!m,m?[]:"",!1));return;case"textarea":We=Ve=null;for(se in m)if(S=m[se],m.hasOwnProperty(se)&&S!=null&&!v.hasOwnProperty(se))switch(se){case"value":break;case"children":break;default:Cn(c,d,se,null,v,S)}for(V in v)if(S=v[V],k=m[V],v.hasOwnProperty(V)&&(S!=null||k!=null))switch(V){case"value":Ve=S;break;case"defaultValue":We=S;break;case"children":break;case"dangerouslySetInnerHTML":if(S!=null)throw Error(n(91));break;default:S!==k&&Cn(c,d,V,S,v,k)}Xd(c,Ve,We);return;case"option":for(var Lt in m)if(Ve=m[Lt],m.hasOwnProperty(Lt)&&Ve!=null&&!v.hasOwnProperty(Lt))switch(Lt){case"selected":c.selected=!1;break;default:Cn(c,d,Lt,null,v,Ve)}for(Ae in v)if(Ve=v[Ae],We=m[Ae],v.hasOwnProperty(Ae)&&Ve!==We&&(Ve!=null||We!=null))switch(Ae){case"selected":c.selected=Ve&&typeof Ve!="function"&&typeof Ve!="symbol";break;default:Cn(c,d,Ae,Ve,v,We)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var lr in m)Ve=m[lr],m.hasOwnProperty(lr)&&Ve!=null&&!v.hasOwnProperty(lr)&&Cn(c,d,lr,null,v,Ve);for($e in v)if(Ve=v[$e],We=m[$e],v.hasOwnProperty($e)&&Ve!==We&&(Ve!=null||We!=null))switch($e){case"children":case"dangerouslySetInnerHTML":if(Ve!=null)throw Error(n(137,d));break;default:Cn(c,d,$e,Ve,v,We)}return;default:if(Jd(d)){for(var Tn in m)Ve=m[Tn],m.hasOwnProperty(Tn)&&Ve!==void 0&&!v.hasOwnProperty(Tn)&&Gb(c,d,Tn,void 0,v,Ve);for(Je in v)Ve=v[Je],We=m[Je],!v.hasOwnProperty(Je)||Ve===We||Ve===void 0&&We===void 0||Gb(c,d,Je,Ve,v,We);return}}for(var Fe in m)Ve=m[Fe],m.hasOwnProperty(Fe)&&Ve!=null&&!v.hasOwnProperty(Fe)&&Cn(c,d,Fe,null,v,Ve);for(at in v)Ve=v[at],We=m[at],!v.hasOwnProperty(at)||Ve===We||Ve==null&&We==null||Cn(c,d,at,Ve,v,We)}function NA(c){switch(c){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function XU(){if(typeof performance.getEntriesByType=="function"){for(var c=0,d=0,m=performance.getEntriesByType("resource"),v=0;v<m.length;v++){var S=m[v],k=S.transferSize,V=S.initiatorType,se=S.duration;if(k&&se&&NA(V)){for(V=0,se=S.responseEnd,v+=1;v<m.length;v++){var Ae=m[v],$e=Ae.startTime;if($e>se)break;var Je=Ae.transferSize,at=Ae.initiatorType;Je&&NA(at)&&(Ae=Ae.responseEnd,V+=Je*(Ae<se?1:(se-$e)/(Ae-$e)))}if(--v,d+=8*(k+V)/(S.duration/1e3),c++,10<c)break}}if(0<c)return d/c/1e6}return navigator.connection&&(c=navigator.connection.downlink,typeof c=="number")?c:5}var Kb=null,Yb=null;function E1(c){return c.nodeType===9?c:c.ownerDocument}function SA(c){switch(c){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function jA(c,d){if(c===0)switch(d){case"svg":return 1;case"math":return 2;default:return 0}return c===1&&d==="foreignObject"?0:c}function Xb(c,d){return c==="textarea"||c==="noscript"||typeof d.children=="string"||typeof d.children=="number"||typeof d.children=="bigint"||typeof d.dangerouslySetInnerHTML=="object"&&d.dangerouslySetInnerHTML!==null&&d.dangerouslySetInnerHTML.__html!=null}var Qb=null;function QU(){var c=window.event;return c&&c.type==="popstate"?c===Qb?!1:(Qb=c,!0):(Qb=null,!1)}var AA=typeof setTimeout=="function"?setTimeout:void 0,ZU=typeof clearTimeout=="function"?clearTimeout:void 0,EA=typeof Promise=="function"?Promise:void 0,JU=typeof queueMicrotask=="function"?queueMicrotask:typeof EA<"u"?function(c){return EA.resolve(null).then(c).catch(ez)}:AA;function ez(c){setTimeout(function(){throw c})}function id(c){return c==="head"}function kA(c,d){var m=d,v=0;do{var S=m.nextSibling;if(c.removeChild(m),S&&S.nodeType===8)if(m=S.data,m==="/$"||m==="/&"){if(v===0){c.removeChild(S),sm(d);return}v--}else if(m==="$"||m==="$?"||m==="$~"||m==="$!"||m==="&")v++;else if(m==="html")Gp(c.ownerDocument.documentElement);else if(m==="head"){m=c.ownerDocument.head,Gp(m);for(var k=m.firstChild;k;){var V=k.nextSibling,se=k.nodeName;k[ze]||se==="SCRIPT"||se==="STYLE"||se==="LINK"&&k.rel.toLowerCase()==="stylesheet"||m.removeChild(k),k=V}}else m==="body"&&Gp(c.ownerDocument.body);m=S}while(m);sm(d)}function CA(c,d){var m=c;c=0;do{var v=m.nextSibling;if(m.nodeType===1?d?(m._stashedDisplay=m.style.display,m.style.display="none"):(m.style.display=m._stashedDisplay||"",m.getAttribute("style")===""&&m.removeAttribute("style")):m.nodeType===3&&(d?(m._stashedText=m.nodeValue,m.nodeValue=""):m.nodeValue=m._stashedText||""),v&&v.nodeType===8)if(m=v.data,m==="/$"){if(c===0)break;c--}else m!=="$"&&m!=="$?"&&m!=="$~"&&m!=="$!"||c++;m=v}while(m)}function Zb(c){var d=c.firstChild;for(d&&d.nodeType===10&&(d=d.nextSibling);d;){var m=d;switch(d=d.nextSibling,m.nodeName){case"HTML":case"HEAD":case"BODY":Zb(m),ut(m);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(m.rel.toLowerCase()==="stylesheet")continue}c.removeChild(m)}}function tz(c,d,m,v){for(;c.nodeType===1;){var S=m;if(c.nodeName.toLowerCase()!==d.toLowerCase()){if(!v&&(c.nodeName!=="INPUT"||c.type!=="hidden"))break}else if(v){if(!c[ze])switch(d){case"meta":if(!c.hasAttribute("itemprop"))break;return c;case"link":if(k=c.getAttribute("rel"),k==="stylesheet"&&c.hasAttribute("data-precedence"))break;if(k!==S.rel||c.getAttribute("href")!==(S.href==null||S.href===""?null:S.href)||c.getAttribute("crossorigin")!==(S.crossOrigin==null?null:S.crossOrigin)||c.getAttribute("title")!==(S.title==null?null:S.title))break;return c;case"style":if(c.hasAttribute("data-precedence"))break;return c;case"script":if(k=c.getAttribute("src"),(k!==(S.src==null?null:S.src)||c.getAttribute("type")!==(S.type==null?null:S.type)||c.getAttribute("crossorigin")!==(S.crossOrigin==null?null:S.crossOrigin))&&k&&c.hasAttribute("async")&&!c.hasAttribute("itemprop"))break;return c;default:return c}}else if(d==="input"&&c.type==="hidden"){var k=S.name==null?null:""+S.name;if(S.type==="hidden"&&c.getAttribute("name")===k)return c}else return c;if(c=_o(c.nextSibling),c===null)break}return null}function rz(c,d,m){if(d==="")return null;for(;c.nodeType!==3;)if((c.nodeType!==1||c.nodeName!=="INPUT"||c.type!=="hidden")&&!m||(c=_o(c.nextSibling),c===null))return null;return c}function TA(c,d){for(;c.nodeType!==8;)if((c.nodeType!==1||c.nodeName!=="INPUT"||c.type!=="hidden")&&!d||(c=_o(c.nextSibling),c===null))return null;return c}function Jb(c){return c.data==="$?"||c.data==="$~"}function ew(c){return c.data==="$!"||c.data==="$?"&&c.ownerDocument.readyState!=="loading"}function nz(c,d){var m=c.ownerDocument;if(c.data==="$~")c._reactRetry=d;else if(c.data!=="$?"||m.readyState!=="loading")d();else{var v=function(){d(),m.removeEventListener("DOMContentLoaded",v)};m.addEventListener("DOMContentLoaded",v),c._reactRetry=v}}function _o(c){for(;c!=null;c=c.nextSibling){var d=c.nodeType;if(d===1||d===3)break;if(d===8){if(d=c.data,d==="$"||d==="$!"||d==="$?"||d==="$~"||d==="&"||d==="F!"||d==="F")break;if(d==="/$"||d==="/&")return null}}return c}var tw=null;function OA(c){c=c.nextSibling;for(var d=0;c;){if(c.nodeType===8){var m=c.data;if(m==="/$"||m==="/&"){if(d===0)return _o(c.nextSibling);d--}else m!=="$"&&m!=="$!"&&m!=="$?"&&m!=="$~"&&m!=="&"||d++}c=c.nextSibling}return null}function DA(c){c=c.previousSibling;for(var d=0;c;){if(c.nodeType===8){var m=c.data;if(m==="$"||m==="$!"||m==="$?"||m==="$~"||m==="&"){if(d===0)return c;d--}else m!=="/$"&&m!=="/&"||d++}c=c.previousSibling}return null}function PA(c,d,m){switch(d=E1(m),c){case"html":if(c=d.documentElement,!c)throw Error(n(452));return c;case"head":if(c=d.head,!c)throw Error(n(453));return c;case"body":if(c=d.body,!c)throw Error(n(454));return c;default:throw Error(n(451))}}function Gp(c){for(var d=c.attributes;d.length;)c.removeAttributeNode(d[0]);ut(c)}var No=new Map,FA=new Set;function k1(c){return typeof c.getRootNode=="function"?c.getRootNode():c.nodeType===9?c:c.ownerDocument}var $u=le.d;le.d={f:az,r:iz,D:sz,C:lz,L:oz,m:cz,X:fz,S:uz,M:dz};function az(){var c=$u.f(),d=y1();return c||d}function iz(c){var d=Nt(c);d!==null&&d.tag===5&&d.type==="form"?Qj(d):$u.r(c)}var nm=typeof document>"u"?null:document;function LA(c,d,m){var v=nm;if(v&&typeof d=="string"&&d){var S=ki(d);S='link[rel="'+c+'"][href="'+S+'"]',typeof m=="string"&&(S+='[crossorigin="'+m+'"]'),FA.has(S)||(FA.add(S),c={rel:c,crossOrigin:m,href:d},v.querySelector(S)===null&&(d=v.createElement("link"),Qi(d,"link",c),Tt(d),v.head.appendChild(d)))}}function sz(c){$u.D(c),LA("dns-prefetch",c,null)}function lz(c,d){$u.C(c,d),LA("preconnect",c,d)}function oz(c,d,m){$u.L(c,d,m);var v=nm;if(v&&c&&d){var S='link[rel="preload"][as="'+ki(d)+'"]';d==="image"&&m&&m.imageSrcSet?(S+='[imagesrcset="'+ki(m.imageSrcSet)+'"]',typeof m.imageSizes=="string"&&(S+='[imagesizes="'+ki(m.imageSizes)+'"]')):S+='[href="'+ki(c)+'"]';var k=S;switch(d){case"style":k=am(c);break;case"script":k=im(c)}No.has(k)||(c=p({rel:"preload",href:d==="image"&&m&&m.imageSrcSet?void 0:c,as:d},m),No.set(k,c),v.querySelector(S)!==null||d==="style"&&v.querySelector(Kp(k))||d==="script"&&v.querySelector(Yp(k))||(d=v.createElement("link"),Qi(d,"link",c),Tt(d),v.head.appendChild(d)))}}function cz(c,d){$u.m(c,d);var m=nm;if(m&&c){var v=d&&typeof d.as=="string"?d.as:"script",S='link[rel="modulepreload"][as="'+ki(v)+'"][href="'+ki(c)+'"]',k=S;switch(v){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":k=im(c)}if(!No.has(k)&&(c=p({rel:"modulepreload",href:c},d),No.set(k,c),m.querySelector(S)===null)){switch(v){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(m.querySelector(Yp(k)))return}v=m.createElement("link"),Qi(v,"link",c),Tt(v),m.head.appendChild(v)}}}function uz(c,d,m){$u.S(c,d,m);var v=nm;if(v&&c){var S=vt(v).hoistableStyles,k=am(c);d=d||"default";var V=S.get(k);if(!V){var se={loading:0,preload:null};if(V=v.querySelector(Kp(k)))se.loading=5;else{c=p({rel:"stylesheet",href:c,"data-precedence":d},m),(m=No.get(k))&&rw(c,m);var Ae=V=v.createElement("link");Tt(Ae),Qi(Ae,"link",c),Ae._p=new Promise(function($e,Je){Ae.onload=$e,Ae.onerror=Je}),Ae.addEventListener("load",function(){se.loading|=1}),Ae.addEventListener("error",function(){se.loading|=2}),se.loading|=4,C1(V,d,v)}V={type:"stylesheet",instance:V,count:1,state:se},S.set(k,V)}}}function fz(c,d){$u.X(c,d);var m=nm;if(m&&c){var v=vt(m).hoistableScripts,S=im(c),k=v.get(S);k||(k=m.querySelector(Yp(S)),k||(c=p({src:c,async:!0},d),(d=No.get(S))&&nw(c,d),k=m.createElement("script"),Tt(k),Qi(k,"link",c),m.head.appendChild(k)),k={type:"script",instance:k,count:1,state:null},v.set(S,k))}}function dz(c,d){$u.M(c,d);var m=nm;if(m&&c){var v=vt(m).hoistableScripts,S=im(c),k=v.get(S);k||(k=m.querySelector(Yp(S)),k||(c=p({src:c,async:!0,type:"module"},d),(d=No.get(S))&&nw(c,d),k=m.createElement("script"),Tt(k),Qi(k,"link",c),m.head.appendChild(k)),k={type:"script",instance:k,count:1,state:null},v.set(S,k))}}function MA(c,d,m,v){var S=(S=Z.current)?k1(S):null;if(!S)throw Error(n(446));switch(c){case"meta":case"title":return null;case"style":return typeof m.precedence=="string"&&typeof m.href=="string"?(d=am(m.href),m=vt(S).hoistableStyles,v=m.get(d),v||(v={type:"style",instance:null,count:0,state:null},m.set(d,v)),v):{type:"void",instance:null,count:0,state:null};case"link":if(m.rel==="stylesheet"&&typeof m.href=="string"&&typeof m.precedence=="string"){c=am(m.href);var k=vt(S).hoistableStyles,V=k.get(c);if(V||(S=S.ownerDocument||S,V={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},k.set(c,V),(k=S.querySelector(Kp(c)))&&!k._p&&(V.instance=k,V.state.loading=5),No.has(c)||(m={rel:"preload",as:"style",href:m.href,crossOrigin:m.crossOrigin,integrity:m.integrity,media:m.media,hrefLang:m.hrefLang,referrerPolicy:m.referrerPolicy},No.set(c,m),k||hz(S,c,m,V.state))),d&&v===null)throw Error(n(528,""));return V}if(d&&v!==null)throw Error(n(529,""));return null;case"script":return d=m.async,m=m.src,typeof m=="string"&&d&&typeof d!="function"&&typeof d!="symbol"?(d=im(m),m=vt(S).hoistableScripts,v=m.get(d),v||(v={type:"script",instance:null,count:0,state:null},m.set(d,v)),v):{type:"void",instance:null,count:0,state:null};default:throw Error(n(444,c))}}function am(c){return'href="'+ki(c)+'"'}function Kp(c){return'link[rel="stylesheet"]['+c+"]"}function RA(c){return p({},c,{"data-precedence":c.precedence,precedence:null})}function hz(c,d,m,v){c.querySelector('link[rel="preload"][as="style"]['+d+"]")?v.loading=1:(d=c.createElement("link"),v.preload=d,d.addEventListener("load",function(){return v.loading|=1}),d.addEventListener("error",function(){return v.loading|=2}),Qi(d,"link",m),Tt(d),c.head.appendChild(d))}function im(c){return'[src="'+ki(c)+'"]'}function Yp(c){return"script[async]"+c}function IA(c,d,m){if(d.count++,d.instance===null)switch(d.type){case"style":var v=c.querySelector('style[data-href~="'+ki(m.href)+'"]');if(v)return d.instance=v,Tt(v),v;var S=p({},m,{"data-href":m.href,"data-precedence":m.precedence,href:null,precedence:null});return v=(c.ownerDocument||c).createElement("style"),Tt(v),Qi(v,"style",S),C1(v,m.precedence,c),d.instance=v;case"stylesheet":S=am(m.href);var k=c.querySelector(Kp(S));if(k)return d.state.loading|=4,d.instance=k,Tt(k),k;v=RA(m),(S=No.get(S))&&rw(v,S),k=(c.ownerDocument||c).createElement("link"),Tt(k);var V=k;return V._p=new Promise(function(se,Ae){V.onload=se,V.onerror=Ae}),Qi(k,"link",v),d.state.loading|=4,C1(k,m.precedence,c),d.instance=k;case"script":return k=im(m.src),(S=c.querySelector(Yp(k)))?(d.instance=S,Tt(S),S):(v=m,(S=No.get(k))&&(v=p({},m),nw(v,S)),c=c.ownerDocument||c,S=c.createElement("script"),Tt(S),Qi(S,"link",v),c.head.appendChild(S),d.instance=S);case"void":return null;default:throw Error(n(443,d.type))}else d.type==="stylesheet"&&(d.state.loading&4)===0&&(v=d.instance,d.state.loading|=4,C1(v,m.precedence,c));return d.instance}function C1(c,d,m){for(var v=m.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),S=v.length?v[v.length-1]:null,k=S,V=0;V<v.length;V++){var se=v[V];if(se.dataset.precedence===d)k=se;else if(k!==S)break}k?k.parentNode.insertBefore(c,k.nextSibling):(d=m.nodeType===9?m.head:m,d.insertBefore(c,d.firstChild))}function rw(c,d){c.crossOrigin==null&&(c.crossOrigin=d.crossOrigin),c.referrerPolicy==null&&(c.referrerPolicy=d.referrerPolicy),c.title==null&&(c.title=d.title)}function nw(c,d){c.crossOrigin==null&&(c.crossOrigin=d.crossOrigin),c.referrerPolicy==null&&(c.referrerPolicy=d.referrerPolicy),c.integrity==null&&(c.integrity=d.integrity)}var T1=null;function BA(c,d,m){if(T1===null){var v=new Map,S=T1=new Map;S.set(m,v)}else S=T1,v=S.get(m),v||(v=new Map,S.set(m,v));if(v.has(c))return v;for(v.set(c,null),m=m.getElementsByTagName(c),S=0;S<m.length;S++){var k=m[S];if(!(k[ze]||k[he]||c==="link"&&k.getAttribute("rel")==="stylesheet")&&k.namespaceURI!=="http://www.w3.org/2000/svg"){var V=k.getAttribute(d)||"";V=c+V;var se=v.get(V);se?se.push(k):v.set(V,[k])}}return v}function UA(c,d,m){c=c.ownerDocument||c,c.head.insertBefore(m,d==="title"?c.querySelector("head > title"):null)}function mz(c,d,m){if(m===1||d.itemProp!=null)return!1;switch(c){case"meta":case"title":return!0;case"style":if(typeof d.precedence!="string"||typeof d.href!="string"||d.href==="")break;return!0;case"link":if(typeof d.rel!="string"||typeof d.href!="string"||d.href===""||d.onLoad||d.onError)break;switch(d.rel){case"stylesheet":return c=d.disabled,typeof d.precedence=="string"&&c==null;default:return!0}case"script":if(d.async&&typeof d.async!="function"&&typeof d.async!="symbol"&&!d.onLoad&&!d.onError&&d.src&&typeof d.src=="string")return!0}return!1}function zA(c){return!(c.type==="stylesheet"&&(c.state.loading&3)===0)}function pz(c,d,m,v){if(m.type==="stylesheet"&&(typeof v.media!="string"||matchMedia(v.media).matches!==!1)&&(m.state.loading&4)===0){if(m.instance===null){var S=am(v.href),k=d.querySelector(Kp(S));if(k){d=k._p,d!==null&&typeof d=="object"&&typeof d.then=="function"&&(c.count++,c=O1.bind(c),d.then(c,c)),m.state.loading|=4,m.instance=k,Tt(k);return}k=d.ownerDocument||d,v=RA(v),(S=No.get(S))&&rw(v,S),k=k.createElement("link"),Tt(k);var V=k;V._p=new Promise(function(se,Ae){V.onload=se,V.onerror=Ae}),Qi(k,"link",v),m.instance=k}c.stylesheets===null&&(c.stylesheets=new Map),c.stylesheets.set(m,d),(d=m.state.preload)&&(m.state.loading&3)===0&&(c.count++,m=O1.bind(c),d.addEventListener("load",m),d.addEventListener("error",m))}}var aw=0;function xz(c,d){return c.stylesheets&&c.count===0&&P1(c,c.stylesheets),0<c.count||0<c.imgCount?function(m){var v=setTimeout(function(){if(c.stylesheets&&P1(c,c.stylesheets),c.unsuspend){var k=c.unsuspend;c.unsuspend=null,k()}},6e4+d);0<c.imgBytes&&aw===0&&(aw=62500*XU());var S=setTimeout(function(){if(c.waitingForImages=!1,c.count===0&&(c.stylesheets&&P1(c,c.stylesheets),c.unsuspend)){var k=c.unsuspend;c.unsuspend=null,k()}},(c.imgBytes>aw?50:800)+d);return c.unsuspend=m,function(){c.unsuspend=null,clearTimeout(v),clearTimeout(S)}}:null}function O1(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)P1(this,this.stylesheets);else if(this.unsuspend){var c=this.unsuspend;this.unsuspend=null,c()}}}var D1=null;function P1(c,d){c.stylesheets=null,c.unsuspend!==null&&(c.count++,D1=new Map,d.forEach(gz,c),D1=null,O1.call(c))}function gz(c,d){if(!(d.state.loading&4)){var m=D1.get(c);if(m)var v=m.get(null);else{m=new Map,D1.set(c,m);for(var S=c.querySelectorAll("link[data-precedence],style[data-precedence]"),k=0;k<S.length;k++){var V=S[k];(V.nodeName==="LINK"||V.getAttribute("media")!=="not all")&&(m.set(V.dataset.precedence,V),v=V)}v&&m.set(null,v)}S=d.instance,V=S.getAttribute("data-precedence"),k=m.get(V)||v,k===v&&m.set(null,S),m.set(V,S),this.count++,v=O1.bind(this),S.addEventListener("load",v),S.addEventListener("error",v),k?k.parentNode.insertBefore(S,k.nextSibling):(c=c.nodeType===9?c.head:c,c.insertBefore(S,c.firstChild)),d.state.loading|=4}}var Xp={$$typeof:A,Provider:null,Consumer:null,_currentValue:ve,_currentValue2:ve,_threadCount:0};function vz(c,d,m,v,S,k,V,se,Ae){this.tag=1,this.containerInfo=c,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=os(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=os(0),this.hiddenUpdates=os(null),this.identifierPrefix=v,this.onUncaughtError=S,this.onCaughtError=k,this.onRecoverableError=V,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=Ae,this.incompleteTransitions=new Map}function qA(c,d,m,v,S,k,V,se,Ae,$e,Je,at){return c=new vz(c,d,m,V,Ae,$e,Je,at,se),d=1,k===!0&&(d|=24),k=Oi(3,null,null,d),c.current=k,k.stateNode=c,d=Gf(),d.refCount++,c.pooledCache=d,d.refCount++,k.memoizedState={element:v,isDehydrated:m,cache:d},bt(k),c}function $A(c){return c?(c=di,c):di}function HA(c,d,m,v,S,k){S=$A(S),v.context===null?v.context=S:v.pendingContext=S,v=sr(d),v.payload={element:m},k=k===void 0?null:k,k!==null&&(v.callback=k),m=wr(c,v,d),m!==null&&(_l(m,c,d),ln(m,c,d))}function VA(c,d){if(c=c.memoizedState,c!==null&&c.dehydrated!==null){var m=c.retryLane;c.retryLane=m!==0&&m<d?m:d}}function iw(c,d){VA(c,d),(c=c.alternate)&&VA(c,d)}function WA(c){if(c.tag===13||c.tag===31){var d=oc(c,67108864);d!==null&&_l(d,c,67108864),iw(c,67108864)}}function GA(c){if(c.tag===13||c.tag===31){var d=ql();d=Sn(d);var m=oc(c,d);m!==null&&_l(m,c,d),iw(c,d)}}var F1=!0;function yz(c,d,m,v){var S=ne.T;ne.T=null;var k=le.p;try{le.p=2,sw(c,d,m,v)}finally{le.p=k,ne.T=S}}function bz(c,d,m,v){var S=ne.T;ne.T=null;var k=le.p;try{le.p=8,sw(c,d,m,v)}finally{le.p=k,ne.T=S}}function sw(c,d,m,v){if(F1){var S=lw(v);if(S===null)Wb(c,d,v,L1,m),YA(c,v);else if(_z(S,c,d,m,v))v.stopPropagation();else if(YA(c,v),d&4&&-1<wz.indexOf(c)){for(;S!==null;){var k=Nt(S);if(k!==null)switch(k.tag){case 3:if(k=k.stateNode,k.current.memoizedState.isDehydrated){var V=Wt(k.pendingLanes);if(V!==0){var se=k;for(se.pendingLanes|=2,se.entangledLanes|=2;V;){var Ae=1<<31-br(V);se.entanglements[1]|=Ae,V&=~Ae}Jc(k),(cn&6)===0&&(g1=Vt()+500,Hp(0))}}break;case 31:case 13:se=oc(k,2),se!==null&&_l(se,k,2),y1(),iw(k,2)}if(k=lw(v),k===null&&Wb(c,d,v,L1,m),k===S)break;S=k}S!==null&&v.stopPropagation()}else Wb(c,d,v,null,m)}}function lw(c){return c=gu(c),ow(c)}var L1=null;function ow(c){if(L1=null,c=mt(c),c!==null){var d=i(c);if(d===null)c=null;else{var m=d.tag;if(m===13){if(c=l(d),c!==null)return c;c=null}else if(m===31){if(c=o(d),c!==null)return c;c=null}else if(m===3){if(d.stateNode.current.memoizedState.isDehydrated)return d.tag===3?d.stateNode.containerInfo:null;c=null}else d!==c&&(c=null)}}return L1=c,null}function KA(c){switch(c){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(Zt()){case Jt:return 2;case Dr:return 8;case It:case Ct:return 32;case xt:return 268435456;default:return 32}default:return 32}}var cw=!1,sd=null,ld=null,od=null,Qp=new Map,Zp=new Map,cd=[],wz="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function YA(c,d){switch(c){case"focusin":case"focusout":sd=null;break;case"dragenter":case"dragleave":ld=null;break;case"mouseover":case"mouseout":od=null;break;case"pointerover":case"pointerout":Qp.delete(d.pointerId);break;case"gotpointercapture":case"lostpointercapture":Zp.delete(d.pointerId)}}function Jp(c,d,m,v,S,k){return c===null||c.nativeEvent!==k?(c={blockedOn:d,domEventName:m,eventSystemFlags:v,nativeEvent:k,targetContainers:[S]},d!==null&&(d=Nt(d),d!==null&&WA(d)),c):(c.eventSystemFlags|=v,d=c.targetContainers,S!==null&&d.indexOf(S)===-1&&d.push(S),c)}function _z(c,d,m,v,S){switch(d){case"focusin":return sd=Jp(sd,c,d,m,v,S),!0;case"dragenter":return ld=Jp(ld,c,d,m,v,S),!0;case"mouseover":return od=Jp(od,c,d,m,v,S),!0;case"pointerover":var k=S.pointerId;return Qp.set(k,Jp(Qp.get(k)||null,c,d,m,v,S)),!0;case"gotpointercapture":return k=S.pointerId,Zp.set(k,Jp(Zp.get(k)||null,c,d,m,v,S)),!0}return!1}function XA(c){var d=mt(c.target);if(d!==null){var m=i(d);if(m!==null){if(d=m.tag,d===13){if(d=l(m),d!==null){c.blockedOn=d,we(c.priority,function(){GA(m)});return}}else if(d===31){if(d=o(m),d!==null){c.blockedOn=d,we(c.priority,function(){GA(m)});return}}else if(d===3&&m.stateNode.current.memoizedState.isDehydrated){c.blockedOn=m.tag===3?m.stateNode.containerInfo:null;return}}}c.blockedOn=null}function M1(c){if(c.blockedOn!==null)return!1;for(var d=c.targetContainers;0<d.length;){var m=lw(c.nativeEvent);if(m===null){m=c.nativeEvent;var v=new m.constructor(m.type,m);Yo=v,m.target.dispatchEvent(v),Yo=null}else return d=Nt(m),d!==null&&WA(d),c.blockedOn=m,!1;d.shift()}return!0}function QA(c,d,m){M1(c)&&m.delete(d)}function Nz(){cw=!1,sd!==null&&M1(sd)&&(sd=null),ld!==null&&M1(ld)&&(ld=null),od!==null&&M1(od)&&(od=null),Qp.forEach(QA),Zp.forEach(QA)}function R1(c,d){c.blockedOn===d&&(c.blockedOn=null,cw||(cw=!0,e.unstable_scheduleCallback(e.unstable_NormalPriority,Nz)))}var I1=null;function ZA(c){I1!==c&&(I1=c,e.unstable_scheduleCallback(e.unstable_NormalPriority,function(){I1===c&&(I1=null);for(var d=0;d<c.length;d+=3){var m=c[d],v=c[d+1],S=c[d+2];if(typeof v!="function"){if(ow(v||m)===null)continue;break}var k=Nt(m);k!==null&&(c.splice(d,3),d-=3,lb(k,{pending:!0,data:S,method:m.method,action:v},v,S))}}))}function sm(c){function d(Ae){return R1(Ae,c)}sd!==null&&R1(sd,c),ld!==null&&R1(ld,c),od!==null&&R1(od,c),Qp.forEach(d),Zp.forEach(d);for(var m=0;m<cd.length;m++){var v=cd[m];v.blockedOn===c&&(v.blockedOn=null)}for(;0<cd.length&&(m=cd[0],m.blockedOn===null);)XA(m),m.blockedOn===null&&cd.shift();if(m=(c.ownerDocument||c).$$reactFormReplay,m!=null)for(v=0;v<m.length;v+=3){var S=m[v],k=m[v+1],V=S[ge]||null;if(typeof k=="function")V||ZA(m);else if(V){var se=null;if(k&&k.hasAttribute("formAction")){if(S=k,V=k[ge]||null)se=V.formAction;else if(ow(S)!==null)continue}else se=V.action;typeof se=="function"?m[v+1]=se:(m.splice(v,3),v-=3),ZA(m)}}}function JA(){function c(k){k.canIntercept&&k.info==="react-transition"&&k.intercept({handler:function(){return new Promise(function(V){return S=V})},focusReset:"manual",scroll:"manual"})}function d(){S!==null&&(S(),S=null),v||setTimeout(m,20)}function m(){if(!v&&!navigation.transition){var k=navigation.currentEntry;k&&k.url!=null&&navigation.navigate(k.url,{state:k.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var v=!1,S=null;return navigation.addEventListener("navigate",c),navigation.addEventListener("navigatesuccess",d),navigation.addEventListener("navigateerror",d),setTimeout(m,100),function(){v=!0,navigation.removeEventListener("navigate",c),navigation.removeEventListener("navigatesuccess",d),navigation.removeEventListener("navigateerror",d),S!==null&&(S(),S=null)}}}function uw(c){this._internalRoot=c}B1.prototype.render=uw.prototype.render=function(c){var d=this._internalRoot;if(d===null)throw Error(n(409));var m=d.current,v=ql();HA(m,v,c,d,null,null)},B1.prototype.unmount=uw.prototype.unmount=function(){var c=this._internalRoot;if(c!==null){this._internalRoot=null;var d=c.containerInfo;HA(c.current,2,null,c,null,null),y1(),d[Ne]=null}};function B1(c){this._internalRoot=c}B1.prototype.unstable_scheduleHydration=function(c){if(c){var d=ee();c={blockedOn:null,target:c,priority:d};for(var m=0;m<cd.length&&d!==0&&d<cd[m].priority;m++);cd.splice(m,0,c),m===0&&XA(c)}};var eE=t.version;if(eE!=="19.2.0")throw Error(n(527,eE,"19.2.0"));le.findDOMNode=function(c){var d=c._reactInternals;if(d===void 0)throw typeof c.render=="function"?Error(n(188)):(c=Object.keys(c).join(","),Error(n(268,c)));return c=u(d),c=c!==null?h(c):null,c=c===null?null:c.stateNode,c};var Sz={bundleType:0,version:"19.2.0",rendererPackageName:"react-dom",currentDispatcherRef:ne,reconcilerVersion:"19.2.0"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var U1=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!U1.isDisabled&&U1.supportsFiber)try{Yt=U1.inject(Sz),St=U1}catch{}}return tx.createRoot=function(c,d){if(!a(c))throw Error(n(299));var m=!1,v="",S=l6,k=o6,V=c6;return d!=null&&(d.unstable_strictMode===!0&&(m=!0),d.identifierPrefix!==void 0&&(v=d.identifierPrefix),d.onUncaughtError!==void 0&&(S=d.onUncaughtError),d.onCaughtError!==void 0&&(k=d.onCaughtError),d.onRecoverableError!==void 0&&(V=d.onRecoverableError)),d=qA(c,1,!1,null,null,m,v,null,S,k,V,JA),c[Ne]=d.current,Vb(c),new uw(d)},tx.hydrateRoot=function(c,d,m){if(!a(c))throw Error(n(299));var v=!1,S="",k=l6,V=o6,se=c6,Ae=null;return m!=null&&(m.unstable_strictMode===!0&&(v=!0),m.identifierPrefix!==void 0&&(S=m.identifierPrefix),m.onUncaughtError!==void 0&&(k=m.onUncaughtError),m.onCaughtError!==void 0&&(V=m.onCaughtError),m.onRecoverableError!==void 0&&(se=m.onRecoverableError),m.formState!==void 0&&(Ae=m.formState)),d=qA(c,1,!0,d,m??null,v,S,Ae,k,V,se,JA),d.context=$A(null),m=d.current,v=ql(),v=Sn(v),S=sr(v),S.callback=null,wr(m,S,v),m=v,d.current.lanes=m,Gt(d,m),Jc(d),c[Ne]=d.current,Vb(c),new B1(d)},tx.version="19.2.0",tx}var uE;function Lz(){if(uE)return hw.exports;uE=1;function e(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(t){console.error(t)}}return e(),hw.exports=Fz(),hw.exports}var Mz=Lz(),Km=class{constructor(){this.listeners=new Set,this.subscribe=this.subscribe.bind(this)}subscribe(e){return this.listeners.add(e),this.onSubscribe(),()=>{this.listeners.delete(e),this.onUnsubscribe()}}hasListeners(){return this.listeners.size>0}onSubscribe(){}onUnsubscribe(){}},Rz={setTimeout:(e,t)=>setTimeout(e,t),clearTimeout:e=>clearTimeout(e),setInterval:(e,t)=>setInterval(e,t),clearInterval:e=>clearInterval(e)},Iz=class{#e=Rz;#t=!1;setTimeoutProvider(e){this.#e=e}setTimeout(e,t){return this.#e.setTimeout(e,t)}clearTimeout(e){this.#e.clearTimeout(e)}setInterval(e,t){return this.#e.setInterval(e,t)}clearInterval(e){this.#e.clearInterval(e)}},A0=new Iz;function Bz(e){setTimeout(e,0)}var U0=typeof window>"u"||"Deno"in globalThis;function qs(){}function Uz(e,t){return typeof e=="function"?e(t):e}function R4(e){return typeof e=="number"&&e>=0&&e!==1/0}function vD(e,t){return Math.max(e+(t||0)-Date.now(),0)}function _d(e,t){return typeof e=="function"?e(t):e}function Fo(e,t){return typeof e=="function"?e(t):e}function fE(e,t){const{type:r="all",exact:n,fetchStatus:a,predicate:i,queryKey:l,stale:o}=e;if(l){if(n){if(t.queryHash!==jN(l,t.options))return!1}else if(!Dx(t.queryKey,l))return!1}if(r!=="all"){const f=t.isActive();if(r==="active"&&!f||r==="inactive"&&f)return!1}return!(typeof o=="boolean"&&t.isStale()!==o||a&&a!==t.state.fetchStatus||i&&!i(t))}function dE(e,t){const{exact:r,status:n,predicate:a,mutationKey:i}=e;if(i){if(!t.options.mutationKey)return!1;if(r){if(z0(t.options.mutationKey)!==z0(i))return!1}else if(!Dx(t.options.mutationKey,i))return!1}return!(n&&t.state.status!==n||a&&!a(t))}function jN(e,t){return(t?.queryKeyHashFn||z0)(e)}function z0(e){return JSON.stringify(e,(t,r)=>I4(r)?Object.keys(r).sort().reduce((n,a)=>(n[a]=r[a],n),{}):r)}function Dx(e,t){return e===t?!0:typeof e!=typeof t?!1:e&&t&&typeof e=="object"&&typeof t=="object"?Object.keys(t).every(r=>Dx(e[r],t[r])):!1}var zz=Object.prototype.hasOwnProperty;function yD(e,t){if(e===t)return e;const r=hE(e)&&hE(t);if(!r&&!(I4(e)&&I4(t)))return t;const a=(r?e:Object.keys(e)).length,i=r?t:Object.keys(t),l=i.length,o=r?new Array(l):{};let f=0;for(let u=0;u<l;u++){const h=r?u:i[u],p=e[h],g=t[h];if(p===g){o[h]=p,(r?u<a:zz.call(e,h))&&f++;continue}if(p===null||g===null||typeof p!="object"||typeof g!="object"){o[h]=g;continue}const x=yD(p,g);o[h]=x,x===p&&f++}return a===l&&f===a?e:o}function zv(e,t){if(!t||Object.keys(e).length!==Object.keys(t).length)return!1;for(const r in e)if(e[r]!==t[r])return!1;return!0}function hE(e){return Array.isArray(e)&&e.length===Object.keys(e).length}function I4(e){if(!mE(e))return!1;const t=e.constructor;if(t===void 0)return!0;const r=t.prototype;return!(!mE(r)||!r.hasOwnProperty("isPrototypeOf")||Object.getPrototypeOf(e)!==Object.prototype)}function mE(e){return Object.prototype.toString.call(e)==="[object Object]"}function qz(e){return new Promise(t=>{A0.setTimeout(t,e)})}function B4(e,t,r){return typeof r.structuralSharing=="function"?r.structuralSharing(e,t):r.structuralSharing!==!1?yD(e,t):t}function $z(e,t,r=0){const n=[...e,t];return r&&n.length>r?n.slice(1):n}function Hz(e,t,r=0){const n=[t,...e];return r&&n.length>r?n.slice(0,-1):n}var AN=Symbol();function bD(e,t){return!e.queryFn&&t?.initialPromise?()=>t.initialPromise:!e.queryFn||e.queryFn===AN?()=>Promise.reject(new Error(`Missing queryFn: '${e.queryHash}'`)):e.queryFn}function wD(e,t){return typeof e=="function"?e(...t):!!e}var Vz=class extends Km{#e;#t;#r;constructor(){super(),this.#r=e=>{if(!U0&&window.addEventListener){const t=()=>e();return window.addEventListener("visibilitychange",t,!1),()=>{window.removeEventListener("visibilitychange",t)}}}}onSubscribe(){this.#t||this.setEventListener(this.#r)}onUnsubscribe(){this.hasListeners()||(this.#t?.(),this.#t=void 0)}setEventListener(e){this.#r=e,this.#t?.(),this.#t=e(t=>{typeof t=="boolean"?this.setFocused(t):this.onFocus()})}setFocused(e){this.#e!==e&&(this.#e=e,this.onFocus())}onFocus(){const e=this.isFocused();this.listeners.forEach(t=>{t(e)})}isFocused(){return typeof this.#e=="boolean"?this.#e:globalThis.document?.visibilityState!=="hidden"}},EN=new Vz;function U4(){let e,t;const r=new Promise((a,i)=>{e=a,t=i});r.status="pending",r.catch(()=>{});function n(a){Object.assign(r,a),delete r.resolve,delete r.reject}return r.resolve=a=>{n({status:"fulfilled",value:a}),e(a)},r.reject=a=>{n({status:"rejected",reason:a}),t(a)},r}var Wz=Bz;function Gz(){let e=[],t=0,r=o=>{o()},n=o=>{o()},a=Wz;const i=o=>{t?e.push(o):a(()=>{r(o)})},l=()=>{const o=e;e=[],o.length&&a(()=>{n(()=>{o.forEach(f=>{r(f)})})})};return{batch:o=>{let f;t++;try{f=o()}finally{t--,t||l()}return f},batchCalls:o=>(...f)=>{i(()=>{o(...f)})},schedule:i,setNotifyFunction:o=>{r=o},setBatchNotifyFunction:o=>{n=o},setScheduler:o=>{a=o}}}var yi=Gz(),Kz=class extends Km{#e=!0;#t;#r;constructor(){super(),this.#r=e=>{if(!U0&&window.addEventListener){const t=()=>e(!0),r=()=>e(!1);return window.addEventListener("online",t,!1),window.addEventListener("offline",r,!1),()=>{window.removeEventListener("online",t),window.removeEventListener("offline",r)}}}}onSubscribe(){this.#t||this.setEventListener(this.#r)}onUnsubscribe(){this.hasListeners()||(this.#t?.(),this.#t=void 0)}setEventListener(e){this.#r=e,this.#t?.(),this.#t=e(this.setOnline.bind(this))}setOnline(e){this.#e!==e&&(this.#e=e,this.listeners.forEach(r=>{r(e)}))}isOnline(){return this.#e}},qv=new Kz;function Yz(e){return Math.min(1e3*2**e,3e4)}function _D(e){return(e??"online")==="online"?qv.isOnline():!0}var z4=class extends Error{constructor(e){super("CancelledError"),this.revert=e?.revert,this.silent=e?.silent}};function ND(e){let t=!1,r=0,n;const a=U4(),i=()=>a.status!=="pending",l=y=>{if(!i()){const w=new z4(y);g(w),e.onCancel?.(w)}},o=()=>{t=!0},f=()=>{t=!1},u=()=>EN.isFocused()&&(e.networkMode==="always"||qv.isOnline())&&e.canRun(),h=()=>_D(e.networkMode)&&e.canRun(),p=y=>{i()||(n?.(),a.resolve(y))},g=y=>{i()||(n?.(),a.reject(y))},x=()=>new Promise(y=>{n=w=>{(i()||u())&&y(w)},e.onPause?.()}).then(()=>{n=void 0,i()||e.onContinue?.()}),b=()=>{if(i())return;let y;const w=r===0?e.initialPromise:void 0;try{y=w??e.fn()}catch(_){y=Promise.reject(_)}Promise.resolve(y).then(p).catch(_=>{if(i())return;const E=e.retry??(U0?0:3),A=e.retryDelay??Yz,O=typeof A=="function"?A(r,_):A,D=E===!0||typeof E=="number"&&r<E||typeof E=="function"&&E(r,_);if(t||!D){g(_);return}r++,e.onFail?.(r,_),qz(O).then(()=>u()?void 0:x()).then(()=>{t?g(_):b()})})};return{promise:a,status:()=>a.status,cancel:l,continue:()=>(n?.(),a),cancelRetry:o,continueRetry:f,canStart:h,start:()=>(h()?b():x().then(b),a)}}var SD=class{#e;destroy(){this.clearGcTimeout()}scheduleGc(){this.clearGcTimeout(),R4(this.gcTime)&&(this.#e=A0.setTimeout(()=>{this.optionalRemove()},this.gcTime))}updateGcTime(e){this.gcTime=Math.max(this.gcTime||0,e??(U0?1/0:300*1e3))}clearGcTimeout(){this.#e&&(A0.clearTimeout(this.#e),this.#e=void 0)}},Xz=class extends SD{#e;#t;#r;#a;#n;#s;#l;constructor(e){super(),this.#l=!1,this.#s=e.defaultOptions,this.setOptions(e.options),this.observers=[],this.#a=e.client,this.#r=this.#a.getQueryCache(),this.queryKey=e.queryKey,this.queryHash=e.queryHash,this.#e=pE(this.options),this.state=e.state??this.#e,this.scheduleGc()}get meta(){return this.options.meta}get promise(){return this.#n?.promise}setOptions(e){if(this.options={...this.#s,...e},this.updateGcTime(this.options.gcTime),this.state&&this.state.data===void 0){const t=pE(this.options);t.data!==void 0&&(this.setData(t.data,{updatedAt:t.dataUpdatedAt,manual:!0}),this.#e=t)}}optionalRemove(){!this.observers.length&&this.state.fetchStatus==="idle"&&this.#r.remove(this)}setData(e,t){const r=B4(this.state.data,e,this.options);return this.#i({data:r,type:"success",dataUpdatedAt:t?.updatedAt,manual:t?.manual}),r}setState(e,t){this.#i({type:"setState",state:e,setStateOptions:t})}cancel(e){const t=this.#n?.promise;return this.#n?.cancel(e),t?t.then(qs).catch(qs):Promise.resolve()}destroy(){super.destroy(),this.cancel({silent:!0})}reset(){this.destroy(),this.setState(this.#e)}isActive(){return this.observers.some(e=>Fo(e.options.enabled,this)!==!1)}isDisabled(){return this.getObserversCount()>0?!this.isActive():this.options.queryFn===AN||this.state.dataUpdateCount+this.state.errorUpdateCount===0}isStatic(){return this.getObserversCount()>0?this.observers.some(e=>_d(e.options.staleTime,this)==="static"):!1}isStale(){return this.getObserversCount()>0?this.observers.some(e=>e.getCurrentResult().isStale):this.state.data===void 0||this.state.isInvalidated}isStaleByTime(e=0){return this.state.data===void 0?!0:e==="static"?!1:this.state.isInvalidated?!0:!vD(this.state.dataUpdatedAt,e)}onFocus(){this.observers.find(t=>t.shouldFetchOnWindowFocus())?.refetch({cancelRefetch:!1}),this.#n?.continue()}onOnline(){this.observers.find(t=>t.shouldFetchOnReconnect())?.refetch({cancelRefetch:!1}),this.#n?.continue()}addObserver(e){this.observers.includes(e)||(this.observers.push(e),this.clearGcTimeout(),this.#r.notify({type:"observerAdded",query:this,observer:e}))}removeObserver(e){this.observers.includes(e)&&(this.observers=this.observers.filter(t=>t!==e),this.observers.length||(this.#n&&(this.#l?this.#n.cancel({revert:!0}):this.#n.cancelRetry()),this.scheduleGc()),this.#r.notify({type:"observerRemoved",query:this,observer:e}))}getObserversCount(){return this.observers.length}invalidate(){this.state.isInvalidated||this.#i({type:"invalidate"})}async fetch(e,t){if(this.state.fetchStatus!=="idle"&&this.#n?.status()!=="rejected"){if(this.state.data!==void 0&&t?.cancelRefetch)this.cancel({silent:!0});else if(this.#n)return this.#n.continueRetry(),this.#n.promise}if(e&&this.setOptions(e),!this.options.queryFn){const o=this.observers.find(f=>f.options.queryFn);o&&this.setOptions(o.options)}const r=new AbortController,n=o=>{Object.defineProperty(o,"signal",{enumerable:!0,get:()=>(this.#l=!0,r.signal)})},a=()=>{const o=bD(this.options,t),u=(()=>{const h={client:this.#a,queryKey:this.queryKey,meta:this.meta};return n(h),h})();return this.#l=!1,this.options.persister?this.options.persister(o,u,this):o(u)},l=(()=>{const o={fetchOptions:t,options:this.options,queryKey:this.queryKey,client:this.#a,state:this.state,fetchFn:a};return n(o),o})();this.options.behavior?.onFetch(l,this),this.#t=this.state,(this.state.fetchStatus==="idle"||this.state.fetchMeta!==l.fetchOptions?.meta)&&this.#i({type:"fetch",meta:l.fetchOptions?.meta}),this.#n=ND({initialPromise:t?.initialPromise,fn:l.fetchFn,onCancel:o=>{o instanceof z4&&o.revert&&this.setState({...this.#t,fetchStatus:"idle"}),r.abort()},onFail:(o,f)=>{this.#i({type:"failed",failureCount:o,error:f})},onPause:()=>{this.#i({type:"pause"})},onContinue:()=>{this.#i({type:"continue"})},retry:l.options.retry,retryDelay:l.options.retryDelay,networkMode:l.options.networkMode,canRun:()=>!0});try{const o=await this.#n.start();if(o===void 0)throw new Error(`${this.queryHash} data is undefined`);return this.setData(o),this.#r.config.onSuccess?.(o,this),this.#r.config.onSettled?.(o,this.state.error,this),o}catch(o){if(o instanceof z4){if(o.silent)return this.#n.promise;if(o.revert){if(this.state.data===void 0)throw o;return this.state.data}}throw this.#i({type:"error",error:o}),this.#r.config.onError?.(o,this),this.#r.config.onSettled?.(this.state.data,o,this),o}finally{this.scheduleGc()}}#i(e){const t=r=>{switch(e.type){case"failed":return{...r,fetchFailureCount:e.failureCount,fetchFailureReason:e.error};case"pause":return{...r,fetchStatus:"paused"};case"continue":return{...r,fetchStatus:"fetching"};case"fetch":return{...r,...jD(r.data,this.options),fetchMeta:e.meta??null};case"success":const n={...r,data:e.data,dataUpdateCount:r.dataUpdateCount+1,dataUpdatedAt:e.dataUpdatedAt??Date.now(),error:null,isInvalidated:!1,status:"success",...!e.manual&&{fetchStatus:"idle",fetchFailureCount:0,fetchFailureReason:null}};return this.#t=e.manual?n:void 0,n;case"error":const a=e.error;return{...r,error:a,errorUpdateCount:r.errorUpdateCount+1,errorUpdatedAt:Date.now(),fetchFailureCount:r.fetchFailureCount+1,fetchFailureReason:a,fetchStatus:"idle",status:"error"};case"invalidate":return{...r,isInvalidated:!0};case"setState":return{...r,...e.state}}};this.state=t(this.state),yi.batch(()=>{this.observers.forEach(r=>{r.onQueryUpdate()}),this.#r.notify({query:this,type:"updated",action:e})})}};function jD(e,t){return{fetchFailureCount:0,fetchFailureReason:null,fetchStatus:_D(t.networkMode)?"fetching":"paused",...e===void 0&&{error:null,status:"pending"}}}function pE(e){const t=typeof e.initialData=="function"?e.initialData():e.initialData,r=t!==void 0,n=r?typeof e.initialDataUpdatedAt=="function"?e.initialDataUpdatedAt():e.initialDataUpdatedAt:0;return{data:t,dataUpdateCount:0,dataUpdatedAt:r?n??Date.now():0,error:null,errorUpdateCount:0,errorUpdatedAt:0,fetchFailureCount:0,fetchFailureReason:null,fetchMeta:null,isInvalidated:!1,status:r?"success":"pending",fetchStatus:"idle"}}var Qz=class extends Km{constructor(e,t){super(),this.options=t,this.#e=e,this.#i=null,this.#l=U4(),this.bindMethods(),this.setOptions(t)}#e;#t=void 0;#r=void 0;#a=void 0;#n;#s;#l;#i;#p;#d;#h;#c;#u;#o;#m=new Set;bindMethods(){this.refetch=this.refetch.bind(this)}onSubscribe(){this.listeners.size===1&&(this.#t.addObserver(this),xE(this.#t,this.options)?this.#f():this.updateResult(),this.#y())}onUnsubscribe(){this.hasListeners()||this.destroy()}shouldFetchOnReconnect(){return q4(this.#t,this.options,this.options.refetchOnReconnect)}shouldFetchOnWindowFocus(){return q4(this.#t,this.options,this.options.refetchOnWindowFocus)}destroy(){this.listeners=new Set,this.#b(),this.#w(),this.#t.removeObserver(this)}setOptions(e){const t=this.options,r=this.#t;if(this.options=this.#e.defaultQueryOptions(e),this.options.enabled!==void 0&&typeof this.options.enabled!="boolean"&&typeof this.options.enabled!="function"&&typeof Fo(this.options.enabled,this.#t)!="boolean")throw new Error("Expected enabled to be a boolean or a callback that returns a boolean");this.#_(),this.#t.setOptions(this.options),t._defaulted&&!zv(this.options,t)&&this.#e.getQueryCache().notify({type:"observerOptionsUpdated",query:this.#t,observer:this});const n=this.hasListeners();n&&gE(this.#t,r,this.options,t)&&this.#f(),this.updateResult(),n&&(this.#t!==r||Fo(this.options.enabled,this.#t)!==Fo(t.enabled,this.#t)||_d(this.options.staleTime,this.#t)!==_d(t.staleTime,this.#t))&&this.#x();const a=this.#g();n&&(this.#t!==r||Fo(this.options.enabled,this.#t)!==Fo(t.enabled,this.#t)||a!==this.#o)&&this.#v(a)}getOptimisticResult(e){const t=this.#e.getQueryCache().build(this.#e,e),r=this.createResult(t,e);return Jz(this,r)&&(this.#a=r,this.#s=this.options,this.#n=this.#t.state),r}getCurrentResult(){return this.#a}trackResult(e,t){return new Proxy(e,{get:(r,n)=>(this.trackProp(n),t?.(n),n==="promise"&&(this.trackProp("data"),!this.options.experimental_prefetchInRender&&this.#l.status==="pending"&&this.#l.reject(new Error("experimental_prefetchInRender feature flag is not enabled"))),Reflect.get(r,n))})}trackProp(e){this.#m.add(e)}getCurrentQuery(){return this.#t}refetch({...e}={}){return this.fetch({...e})}fetchOptimistic(e){const t=this.#e.defaultQueryOptions(e),r=this.#e.getQueryCache().build(this.#e,t);return r.fetch().then(()=>this.createResult(r,t))}fetch(e){return this.#f({...e,cancelRefetch:e.cancelRefetch??!0}).then(()=>(this.updateResult(),this.#a))}#f(e){this.#_();let t=this.#t.fetch(this.options,e);return e?.throwOnError||(t=t.catch(qs)),t}#x(){this.#b();const e=_d(this.options.staleTime,this.#t);if(U0||this.#a.isStale||!R4(e))return;const r=vD(this.#a.dataUpdatedAt,e)+1;this.#c=A0.setTimeout(()=>{this.#a.isStale||this.updateResult()},r)}#g(){return(typeof this.options.refetchInterval=="function"?this.options.refetchInterval(this.#t):this.options.refetchInterval)??!1}#v(e){this.#w(),this.#o=e,!(U0||Fo(this.options.enabled,this.#t)===!1||!R4(this.#o)||this.#o===0)&&(this.#u=A0.setInterval(()=>{(this.options.refetchIntervalInBackground||EN.isFocused())&&this.#f()},this.#o))}#y(){this.#x(),this.#v(this.#g())}#b(){this.#c&&(A0.clearTimeout(this.#c),this.#c=void 0)}#w(){this.#u&&(A0.clearInterval(this.#u),this.#u=void 0)}createResult(e,t){const r=this.#t,n=this.options,a=this.#a,i=this.#n,l=this.#s,f=e!==r?e.state:this.#r,{state:u}=e;let h={...u},p=!1,g;if(t._optimisticResults){const T=this.hasListeners(),B=!T&&xE(e,t),G=T&&gE(e,r,t,n);(B||G)&&(h={...h,...jD(u.data,e.options)}),t._optimisticResults==="isRestoring"&&(h.fetchStatus="idle")}let{error:x,errorUpdatedAt:b,status:y}=h;g=h.data;let w=!1;if(t.placeholderData!==void 0&&g===void 0&&y==="pending"){let T;a?.isPlaceholderData&&t.placeholderData===l?.placeholderData?(T=a.data,w=!0):T=typeof t.placeholderData=="function"?t.placeholderData(this.#h?.state.data,this.#h):t.placeholderData,T!==void 0&&(y="success",g=B4(a?.data,T,t),p=!0)}if(t.select&&g!==void 0&&!w)if(a&&g===i?.data&&t.select===this.#p)g=this.#d;else try{this.#p=t.select,g=t.select(g),g=B4(a?.data,g,t),this.#d=g,this.#i=null}catch(T){this.#i=T}this.#i&&(x=this.#i,g=this.#d,b=Date.now(),y="error");const _=h.fetchStatus==="fetching",E=y==="pending",A=y==="error",O=E&&_,D=g!==void 0,P={status:y,fetchStatus:h.fetchStatus,isPending:E,isSuccess:y==="success",isError:A,isInitialLoading:O,isLoading:O,data:g,dataUpdatedAt:h.dataUpdatedAt,error:x,errorUpdatedAt:b,failureCount:h.fetchFailureCount,failureReason:h.fetchFailureReason,errorUpdateCount:h.errorUpdateCount,isFetched:h.dataUpdateCount>0||h.errorUpdateCount>0,isFetchedAfterMount:h.dataUpdateCount>f.dataUpdateCount||h.errorUpdateCount>f.errorUpdateCount,isFetching:_,isRefetching:_&&!E,isLoadingError:A&&!D,isPaused:h.fetchStatus==="paused",isPlaceholderData:p,isRefetchError:A&&D,isStale:kN(e,t),refetch:this.refetch,promise:this.#l,isEnabled:Fo(t.enabled,e)!==!1};if(this.options.experimental_prefetchInRender){const T=I=>{P.status==="error"?I.reject(P.error):P.data!==void 0&&I.resolve(P.data)},B=()=>{const I=this.#l=P.promise=U4();T(I)},G=this.#l;switch(G.status){case"pending":e.queryHash===r.queryHash&&T(G);break;case"fulfilled":(P.status==="error"||P.data!==G.value)&&B();break;case"rejected":(P.status!=="error"||P.error!==G.reason)&&B();break}}return P}updateResult(){const e=this.#a,t=this.createResult(this.#t,this.options);if(this.#n=this.#t.state,this.#s=this.options,this.#n.data!==void 0&&(this.#h=this.#t),zv(t,e))return;this.#a=t;const r=()=>{if(!e)return!0;const{notifyOnChangeProps:n}=this.options,a=typeof n=="function"?n():n;if(a==="all"||!a&&!this.#m.size)return!0;const i=new Set(a??this.#m);return this.options.throwOnError&&i.add("error"),Object.keys(this.#a).some(l=>{const o=l;return this.#a[o]!==e[o]&&i.has(o)})};this.#N({listeners:r()})}#_(){const e=this.#e.getQueryCache().build(this.#e,this.options);if(e===this.#t)return;const t=this.#t;this.#t=e,this.#r=e.state,this.hasListeners()&&(t?.removeObserver(this),e.addObserver(this))}onQueryUpdate(){this.updateResult(),this.hasListeners()&&this.#y()}#N(e){yi.batch(()=>{e.listeners&&this.listeners.forEach(t=>{t(this.#a)}),this.#e.getQueryCache().notify({query:this.#t,type:"observerResultsUpdated"})})}};function Zz(e,t){return Fo(t.enabled,e)!==!1&&e.state.data===void 0&&!(e.state.status==="error"&&t.retryOnMount===!1)}function xE(e,t){return Zz(e,t)||e.state.data!==void 0&&q4(e,t,t.refetchOnMount)}function q4(e,t,r){if(Fo(t.enabled,e)!==!1&&_d(t.staleTime,e)!=="static"){const n=typeof r=="function"?r(e):r;return n==="always"||n!==!1&&kN(e,t)}return!1}function gE(e,t,r,n){return(e!==t||Fo(n.enabled,e)===!1)&&(!r.suspense||e.state.status!=="error")&&kN(e,r)}function kN(e,t){return Fo(t.enabled,e)!==!1&&e.isStaleByTime(_d(t.staleTime,e))}function Jz(e,t){return!zv(e.getCurrentResult(),t)}function vE(e){return{onFetch:(t,r)=>{const n=t.options,a=t.fetchOptions?.meta?.fetchMore?.direction,i=t.state.data?.pages||[],l=t.state.data?.pageParams||[];let o={pages:[],pageParams:[]},f=0;const u=async()=>{let h=!1;const p=b=>{Object.defineProperty(b,"signal",{enumerable:!0,get:()=>(t.signal.aborted?h=!0:t.signal.addEventListener("abort",()=>{h=!0}),t.signal)})},g=bD(t.options,t.fetchOptions),x=async(b,y,w)=>{if(h)return Promise.reject();if(y==null&&b.pages.length)return Promise.resolve(b);const E=(()=>{const R={client:t.client,queryKey:t.queryKey,pageParam:y,direction:w?"backward":"forward",meta:t.options.meta};return p(R),R})(),A=await g(E),{maxPages:O}=t.options,D=w?Hz:$z;return{pages:D(b.pages,A,O),pageParams:D(b.pageParams,y,O)}};if(a&&i.length){const b=a==="backward",y=b?eq:yE,w={pages:i,pageParams:l},_=y(n,w);o=await x(w,_,b)}else{const b=e??i.length;do{const y=f===0?l[0]??n.initialPageParam:yE(n,o);if(f>0&&y==null)break;o=await x(o,y),f++}while(f<b)}return o};t.options.persister?t.fetchFn=()=>t.options.persister?.(u,{client:t.client,queryKey:t.queryKey,meta:t.options.meta,signal:t.signal},r):t.fetchFn=u}}}function yE(e,{pages:t,pageParams:r}){const n=t.length-1;return t.length>0?e.getNextPageParam(t[n],t,r[n],r):void 0}function eq(e,{pages:t,pageParams:r}){return t.length>0?e.getPreviousPageParam?.(t[0],t,r[0],r):void 0}var tq=class extends SD{#e;#t;#r;#a;constructor(e){super(),this.#e=e.client,this.mutationId=e.mutationId,this.#r=e.mutationCache,this.#t=[],this.state=e.state||AD(),this.setOptions(e.options),this.scheduleGc()}setOptions(e){this.options=e,this.updateGcTime(this.options.gcTime)}get meta(){return this.options.meta}addObserver(e){this.#t.includes(e)||(this.#t.push(e),this.clearGcTimeout(),this.#r.notify({type:"observerAdded",mutation:this,observer:e}))}removeObserver(e){this.#t=this.#t.filter(t=>t!==e),this.scheduleGc(),this.#r.notify({type:"observerRemoved",mutation:this,observer:e})}optionalRemove(){this.#t.length||(this.state.status==="pending"?this.scheduleGc():this.#r.remove(this))}continue(){return this.#a?.continue()??this.execute(this.state.variables)}async execute(e){const t=()=>{this.#n({type:"continue"})},r={client:this.#e,meta:this.options.meta,mutationKey:this.options.mutationKey};this.#a=ND({fn:()=>this.options.mutationFn?this.options.mutationFn(e,r):Promise.reject(new Error("No mutationFn found")),onFail:(i,l)=>{this.#n({type:"failed",failureCount:i,error:l})},onPause:()=>{this.#n({type:"pause"})},onContinue:t,retry:this.options.retry??0,retryDelay:this.options.retryDelay,networkMode:this.options.networkMode,canRun:()=>this.#r.canRun(this)});const n=this.state.status==="pending",a=!this.#a.canStart();try{if(n)t();else{this.#n({type:"pending",variables:e,isPaused:a}),await this.#r.config.onMutate?.(e,this,r);const l=await this.options.onMutate?.(e,r);l!==this.state.context&&this.#n({type:"pending",context:l,variables:e,isPaused:a})}const i=await this.#a.start();return await this.#r.config.onSuccess?.(i,e,this.state.context,this,r),await this.options.onSuccess?.(i,e,this.state.context,r),await this.#r.config.onSettled?.(i,null,this.state.variables,this.state.context,this,r),await this.options.onSettled?.(i,null,e,this.state.context,r),this.#n({type:"success",data:i}),i}catch(i){try{throw await this.#r.config.onError?.(i,e,this.state.context,this,r),await this.options.onError?.(i,e,this.state.context,r),await this.#r.config.onSettled?.(void 0,i,this.state.variables,this.state.context,this,r),await this.options.onSettled?.(void 0,i,e,this.state.context,r),i}finally{this.#n({type:"error",error:i})}}finally{this.#r.runNext(this)}}#n(e){const t=r=>{switch(e.type){case"failed":return{...r,failureCount:e.failureCount,failureReason:e.error};case"pause":return{...r,isPaused:!0};case"continue":return{...r,isPaused:!1};case"pending":return{...r,context:e.context,data:void 0,failureCount:0,failureReason:null,error:null,isPaused:e.isPaused,status:"pending",variables:e.variables,submittedAt:Date.now()};case"success":return{...r,data:e.data,failureCount:0,failureReason:null,error:null,status:"success",isPaused:!1};case"error":return{...r,data:void 0,error:e.error,failureCount:r.failureCount+1,failureReason:e.error,isPaused:!1,status:"error"}}};this.state=t(this.state),yi.batch(()=>{this.#t.forEach(r=>{r.onMutationUpdate(e)}),this.#r.notify({mutation:this,type:"updated",action:e})})}};function AD(){return{context:void 0,data:void 0,error:null,failureCount:0,failureReason:null,isPaused:!1,status:"idle",variables:void 0,submittedAt:0}}var rq=class extends Km{constructor(e={}){super(),this.config=e,this.#e=new Set,this.#t=new Map,this.#r=0}#e;#t;#r;build(e,t,r){const n=new tq({client:e,mutationCache:this,mutationId:++this.#r,options:e.defaultMutationOptions(t),state:r});return this.add(n),n}add(e){this.#e.add(e);const t=z1(e);if(typeof t=="string"){const r=this.#t.get(t);r?r.push(e):this.#t.set(t,[e])}this.notify({type:"added",mutation:e})}remove(e){if(this.#e.delete(e)){const t=z1(e);if(typeof t=="string"){const r=this.#t.get(t);if(r)if(r.length>1){const n=r.indexOf(e);n!==-1&&r.splice(n,1)}else r[0]===e&&this.#t.delete(t)}}this.notify({type:"removed",mutation:e})}canRun(e){const t=z1(e);if(typeof t=="string"){const n=this.#t.get(t)?.find(a=>a.state.status==="pending");return!n||n===e}else return!0}runNext(e){const t=z1(e);return typeof t=="string"?this.#t.get(t)?.find(n=>n!==e&&n.state.isPaused)?.continue()??Promise.resolve():Promise.resolve()}clear(){yi.batch(()=>{this.#e.forEach(e=>{this.notify({type:"removed",mutation:e})}),this.#e.clear(),this.#t.clear()})}getAll(){return Array.from(this.#e)}find(e){const t={exact:!0,...e};return this.getAll().find(r=>dE(t,r))}findAll(e={}){return this.getAll().filter(t=>dE(e,t))}notify(e){yi.batch(()=>{this.listeners.forEach(t=>{t(e)})})}resumePausedMutations(){const e=this.getAll().filter(t=>t.state.isPaused);return yi.batch(()=>Promise.all(e.map(t=>t.continue().catch(qs))))}};function z1(e){return e.options.scope?.id}var nq=class extends Km{#e;#t=void 0;#r;#a;constructor(t,r){super(),this.#e=t,this.setOptions(r),this.bindMethods(),this.#n()}bindMethods(){this.mutate=this.mutate.bind(this),this.reset=this.reset.bind(this)}setOptions(t){const r=this.options;this.options=this.#e.defaultMutationOptions(t),zv(this.options,r)||this.#e.getMutationCache().notify({type:"observerOptionsUpdated",mutation:this.#r,observer:this}),r?.mutationKey&&this.options.mutationKey&&z0(r.mutationKey)!==z0(this.options.mutationKey)?this.reset():this.#r?.state.status==="pending"&&this.#r.setOptions(this.options)}onUnsubscribe(){this.hasListeners()||this.#r?.removeObserver(this)}onMutationUpdate(t){this.#n(),this.#s(t)}getCurrentResult(){return this.#t}reset(){this.#r?.removeObserver(this),this.#r=void 0,this.#n(),this.#s()}mutate(t,r){return this.#a=r,this.#r?.removeObserver(this),this.#r=this.#e.getMutationCache().build(this.#e,this.options),this.#r.addObserver(this),this.#r.execute(t)}#n(){const t=this.#r?.state??AD();this.#t={...t,isPending:t.status==="pending",isSuccess:t.status==="success",isError:t.status==="error",isIdle:t.status==="idle",mutate:this.mutate,reset:this.reset}}#s(t){yi.batch(()=>{if(this.#a&&this.hasListeners()){const r=this.#t.variables,n=this.#t.context,a={client:this.#e,meta:this.options.meta,mutationKey:this.options.mutationKey};t?.type==="success"?(this.#a.onSuccess?.(t.data,r,n,a),this.#a.onSettled?.(t.data,null,r,n,a)):t?.type==="error"&&(this.#a.onError?.(t.error,r,n,a),this.#a.onSettled?.(void 0,t.error,r,n,a))}this.listeners.forEach(r=>{r(this.#t)})})}},aq=class extends Km{constructor(e={}){super(),this.config=e,this.#e=new Map}#e;build(e,t,r){const n=t.queryKey,a=t.queryHash??jN(n,t);let i=this.get(a);return i||(i=new Xz({client:e,queryKey:n,queryHash:a,options:e.defaultQueryOptions(t),state:r,defaultOptions:e.getQueryDefaults(n)}),this.add(i)),i}add(e){this.#e.has(e.queryHash)||(this.#e.set(e.queryHash,e),this.notify({type:"added",query:e}))}remove(e){const t=this.#e.get(e.queryHash);t&&(e.destroy(),t===e&&this.#e.delete(e.queryHash),this.notify({type:"removed",query:e}))}clear(){yi.batch(()=>{this.getAll().forEach(e=>{this.remove(e)})})}get(e){return this.#e.get(e)}getAll(){return[...this.#e.values()]}find(e){const t={exact:!0,...e};return this.getAll().find(r=>fE(t,r))}findAll(e={}){const t=this.getAll();return Object.keys(e).length>0?t.filter(r=>fE(e,r)):t}notify(e){yi.batch(()=>{this.listeners.forEach(t=>{t(e)})})}onFocus(){yi.batch(()=>{this.getAll().forEach(e=>{e.onFocus()})})}onOnline(){yi.batch(()=>{this.getAll().forEach(e=>{e.onOnline()})})}},iq=class{#e;#t;#r;#a;#n;#s;#l;#i;constructor(e={}){this.#e=e.queryCache||new aq,this.#t=e.mutationCache||new rq,this.#r=e.defaultOptions||{},this.#a=new Map,this.#n=new Map,this.#s=0}mount(){this.#s++,this.#s===1&&(this.#l=EN.subscribe(async e=>{e&&(await this.resumePausedMutations(),this.#e.onFocus())}),this.#i=qv.subscribe(async e=>{e&&(await this.resumePausedMutations(),this.#e.onOnline())}))}unmount(){this.#s--,this.#s===0&&(this.#l?.(),this.#l=void 0,this.#i?.(),this.#i=void 0)}isFetching(e){return this.#e.findAll({...e,fetchStatus:"fetching"}).length}isMutating(e){return this.#t.findAll({...e,status:"pending"}).length}getQueryData(e){const t=this.defaultQueryOptions({queryKey:e});return this.#e.get(t.queryHash)?.state.data}ensureQueryData(e){const t=this.defaultQueryOptions(e),r=this.#e.build(this,t),n=r.state.data;return n===void 0?this.fetchQuery(e):(e.revalidateIfStale&&r.isStaleByTime(_d(t.staleTime,r))&&this.prefetchQuery(t),Promise.resolve(n))}getQueriesData(e){return this.#e.findAll(e).map(({queryKey:t,state:r})=>{const n=r.data;return[t,n]})}setQueryData(e,t,r){const n=this.defaultQueryOptions({queryKey:e}),i=this.#e.get(n.queryHash)?.state.data,l=Uz(t,i);if(l!==void 0)return this.#e.build(this,n).setData(l,{...r,manual:!0})}setQueriesData(e,t,r){return yi.batch(()=>this.#e.findAll(e).map(({queryKey:n})=>[n,this.setQueryData(n,t,r)]))}getQueryState(e){const t=this.defaultQueryOptions({queryKey:e});return this.#e.get(t.queryHash)?.state}removeQueries(e){const t=this.#e;yi.batch(()=>{t.findAll(e).forEach(r=>{t.remove(r)})})}resetQueries(e,t){const r=this.#e;return yi.batch(()=>(r.findAll(e).forEach(n=>{n.reset()}),this.refetchQueries({type:"active",...e},t)))}cancelQueries(e,t={}){const r={revert:!0,...t},n=yi.batch(()=>this.#e.findAll(e).map(a=>a.cancel(r)));return Promise.all(n).then(qs).catch(qs)}invalidateQueries(e,t={}){return yi.batch(()=>(this.#e.findAll(e).forEach(r=>{r.invalidate()}),e?.refetchType==="none"?Promise.resolve():this.refetchQueries({...e,type:e?.refetchType??e?.type??"active"},t)))}refetchQueries(e,t={}){const r={...t,cancelRefetch:t.cancelRefetch??!0},n=yi.batch(()=>this.#e.findAll(e).filter(a=>!a.isDisabled()&&!a.isStatic()).map(a=>{let i=a.fetch(void 0,r);return r.throwOnError||(i=i.catch(qs)),a.state.fetchStatus==="paused"?Promise.resolve():i}));return Promise.all(n).then(qs)}fetchQuery(e){const t=this.defaultQueryOptions(e);t.retry===void 0&&(t.retry=!1);const r=this.#e.build(this,t);return r.isStaleByTime(_d(t.staleTime,r))?r.fetch(t):Promise.resolve(r.state.data)}prefetchQuery(e){return this.fetchQuery(e).then(qs).catch(qs)}fetchInfiniteQuery(e){return e.behavior=vE(e.pages),this.fetchQuery(e)}prefetchInfiniteQuery(e){return this.fetchInfiniteQuery(e).then(qs).catch(qs)}ensureInfiniteQueryData(e){return e.behavior=vE(e.pages),this.ensureQueryData(e)}resumePausedMutations(){return qv.isOnline()?this.#t.resumePausedMutations():Promise.resolve()}getQueryCache(){return this.#e}getMutationCache(){return this.#t}getDefaultOptions(){return this.#r}setDefaultOptions(e){this.#r=e}setQueryDefaults(e,t){this.#a.set(z0(e),{queryKey:e,defaultOptions:t})}getQueryDefaults(e){const t=[...this.#a.values()],r={};return t.forEach(n=>{Dx(e,n.queryKey)&&Object.assign(r,n.defaultOptions)}),r}setMutationDefaults(e,t){this.#n.set(z0(e),{mutationKey:e,defaultOptions:t})}getMutationDefaults(e){const t=[...this.#n.values()],r={};return t.forEach(n=>{Dx(e,n.mutationKey)&&Object.assign(r,n.defaultOptions)}),r}defaultQueryOptions(e){if(e._defaulted)return e;const t={...this.#r.queries,...this.getQueryDefaults(e.queryKey),...e,_defaulted:!0};return t.queryHash||(t.queryHash=jN(t.queryKey,t)),t.refetchOnReconnect===void 0&&(t.refetchOnReconnect=t.networkMode!=="always"),t.throwOnError===void 0&&(t.throwOnError=!!t.suspense),!t.networkMode&&t.persister&&(t.networkMode="offlineFirst"),t.queryFn===AN&&(t.enabled=!1),t}defaultMutationOptions(e){return e?._defaulted?e:{...this.#r.mutations,...e?.mutationKey&&this.getMutationDefaults(e.mutationKey),...e,_defaulted:!0}}clear(){this.#e.clear(),this.#t.clear()}},ED=C.createContext(void 0),Ut=e=>{const t=C.useContext(ED);if(!t)throw new Error("No QueryClient set, use QueryClientProvider to set one");return t},sq=({client:e,children:t})=>(C.useEffect(()=>(e.mount(),()=>{e.unmount()}),[e]),s.jsx(ED.Provider,{value:e,children:t})),kD=C.createContext(!1),lq=()=>C.useContext(kD);kD.Provider;function oq(){let e=!1;return{clearReset:()=>{e=!1},reset:()=>{e=!0},isReset:()=>e}}var cq=C.createContext(oq()),uq=()=>C.useContext(cq),fq=(e,t)=>{(e.suspense||e.throwOnError||e.experimental_prefetchInRender)&&(t.isReset()||(e.retryOnMount=!1))},dq=e=>{C.useEffect(()=>{e.clearReset()},[e])},hq=({result:e,errorResetBoundary:t,throwOnError:r,query:n,suspense:a})=>e.isError&&!t.isReset()&&!e.isFetching&&n&&(a&&e.data===void 0||wD(r,[e.error,n])),mq=e=>{if(e.suspense){const r=a=>a==="static"?a:Math.max(a??1e3,1e3),n=e.staleTime;e.staleTime=typeof n=="function"?(...a)=>r(n(...a)):r(n),typeof e.gcTime=="number"&&(e.gcTime=Math.max(e.gcTime,1e3))}},pq=(e,t)=>e.isLoading&&e.isFetching&&!t,xq=(e,t)=>e?.suspense&&t.isPending,bE=(e,t,r)=>t.fetchOptimistic(e).catch(()=>{r.clearReset()});function gq(e,t,r){const n=lq(),a=uq(),i=Ut(),l=i.defaultQueryOptions(e);i.getDefaultOptions().queries?._experimental_beforeQuery?.(l),l._optimisticResults=n?"isRestoring":"optimistic",mq(l),fq(l,a),dq(a);const o=!i.getQueryCache().get(l.queryHash),[f]=C.useState(()=>new t(i,l)),u=f.getOptimisticResult(l),h=!n&&e.subscribed!==!1;if(C.useSyncExternalStore(C.useCallback(p=>{const g=h?f.subscribe(yi.batchCalls(p)):qs;return f.updateResult(),g},[f,h]),()=>f.getCurrentResult(),()=>f.getCurrentResult()),C.useEffect(()=>{f.setOptions(l)},[l,f]),xq(l,u))throw bE(l,f,a);if(hq({result:u,errorResetBoundary:a,throwOnError:l.throwOnError,query:i.getQueryCache().get(l.queryHash),suspense:l.suspense}))throw u.error;return i.getDefaultOptions().queries?._experimental_afterQuery?.(l,u),l.experimental_prefetchInRender&&!U0&&pq(u,n)&&(o?bE(l,f,a):i.getQueryCache().get(l.queryHash)?.promise)?.catch(qs).finally(()=>{f.updateResult()}),l.notifyOnChangeProps?u:f.trackResult(u)}function hr(e,t){return gq(e,Qz)}function Ht(e,t){const r=Ut(),[n]=C.useState(()=>new nq(r,e));C.useEffect(()=>{n.setOptions(e)},[n,e]);const a=C.useSyncExternalStore(C.useCallback(l=>n.subscribe(yi.batchCalls(l)),[n]),()=>n.getCurrentResult(),()=>n.getCurrentResult()),i=C.useCallback((l,o)=>{n.mutate(l,o).catch(qs)},[n]);if(a.error&&wD(n.options.throwOnError,[a.error]))throw a.error;return{...a,mutate:i,mutateAsync:a.mutate}}const vq="modulepreload",yq=function(e){return"/"+e},wE={},gw=function(t,r,n){let a=Promise.resolve();if(r&&r.length>0){let f=function(u){return Promise.all(u.map(h=>Promise.resolve(h).then(p=>({status:"fulfilled",value:p}),p=>({status:"rejected",reason:p}))))};document.getElementsByTagName("link");const l=document.querySelector("meta[property=csp-nonce]"),o=l?.nonce||l?.getAttribute("nonce");a=f(r.map(u=>{if(u=yq(u),u in wE)return;wE[u]=!0;const h=u.endsWith(".css"),p=h?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${u}"]${p}`))return;const g=document.createElement("link");if(g.rel=h?"stylesheet":vq,h||(g.as="script"),g.crossOrigin="",g.href=u,o&&g.setAttribute("nonce",o),document.head.appendChild(g),h)return new Promise((x,b)=>{g.addEventListener("load",x),g.addEventListener("error",()=>b(new Error(`Unable to preload CSS for ${u}`)))})}))}function i(l){const o=new Event("vite:preloadError",{cancelable:!0});if(o.payload=l,window.dispatchEvent(o),!o.defaultPrevented)throw l}return a.then(l=>{for(const o of l||[])o.status==="rejected"&&i(o.reason);return t().catch(i)})};var bq=function(){return null};/**
 * react-router v7.9.4
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */var _E="popstate";function wq(e={}){function t(n,a){let{pathname:i,search:l,hash:o}=n.location;return $4("",{pathname:i,search:l,hash:o},a.state&&a.state.usr||null,a.state&&a.state.key||"default")}function r(n,a){return typeof a=="string"?a:Px(a)}return Nq(t,r,null,e)}function fa(e,t){if(e===!1||e===null||typeof e>"u")throw new Error(t)}function Io(e,t){if(!e){typeof console<"u"&&console.warn(t);try{throw new Error(t)}catch{}}}function _q(){return Math.random().toString(36).substring(2,10)}function NE(e,t){return{usr:e.state,key:e.key,idx:t}}function $4(e,t,r=null,n){return{pathname:typeof e=="string"?e:e.pathname,search:"",hash:"",...typeof t=="string"?Ym(t):t,state:r,key:t&&t.key||n||_q()}}function Px({pathname:e="/",search:t="",hash:r=""}){return t&&t!=="?"&&(e+=t.charAt(0)==="?"?t:"?"+t),r&&r!=="#"&&(e+=r.charAt(0)==="#"?r:"#"+r),e}function Ym(e){let t={};if(e){let r=e.indexOf("#");r>=0&&(t.hash=e.substring(r),e=e.substring(0,r));let n=e.indexOf("?");n>=0&&(t.search=e.substring(n),e=e.substring(0,n)),e&&(t.pathname=e)}return t}function Nq(e,t,r,n={}){let{window:a=document.defaultView,v5Compat:i=!1}=n,l=a.history,o="POP",f=null,u=h();u==null&&(u=0,l.replaceState({...l.state,idx:u},""));function h(){return(l.state||{idx:null}).idx}function p(){o="POP";let w=h(),_=w==null?null:w-u;u=w,f&&f({action:o,location:y.location,delta:_})}function g(w,_){o="PUSH";let E=$4(y.location,w,_);u=h()+1;let A=NE(E,u),O=y.createHref(E);try{l.pushState(A,"",O)}catch(D){if(D instanceof DOMException&&D.name==="DataCloneError")throw D;a.location.assign(O)}i&&f&&f({action:o,location:y.location,delta:1})}function x(w,_){o="REPLACE";let E=$4(y.location,w,_);u=h();let A=NE(E,u),O=y.createHref(E);l.replaceState(A,"",O),i&&f&&f({action:o,location:y.location,delta:0})}function b(w){return Sq(w)}let y={get action(){return o},get location(){return e(a,l)},listen(w){if(f)throw new Error("A history only accepts one active listener");return a.addEventListener(_E,p),f=w,()=>{a.removeEventListener(_E,p),f=null}},createHref(w){return t(a,w)},createURL:b,encodeLocation(w){let _=b(w);return{pathname:_.pathname,search:_.search,hash:_.hash}},push:g,replace:x,go(w){return l.go(w)}};return y}function Sq(e,t=!1){let r="http://localhost";typeof window<"u"&&(r=window.location.origin!=="null"?window.location.origin:window.location.href),fa(r,"No window.location.(origin|href) available to create URL");let n=typeof e=="string"?e:Px(e);return n=n.replace(/ $/,"%20"),!t&&n.startsWith("//")&&(n=r+n),new URL(n,r)}function CD(e,t,r="/"){return jq(e,t,r,!1)}function jq(e,t,r,n){let a=typeof t=="string"?Ym(t):t,i=of(a.pathname||"/",r);if(i==null)return null;let l=TD(e);Aq(l);let o=null;for(let f=0;o==null&&f<l.length;++f){let u=Rq(i);o=Lq(l[f],u,n)}return o}function TD(e,t=[],r=[],n="",a=!1){let i=(l,o,f=a,u)=>{let h={relativePath:u===void 0?l.path||"":u,caseSensitive:l.caseSensitive===!0,childrenIndex:o,route:l};if(h.relativePath.startsWith("/")){if(!h.relativePath.startsWith(n)&&f)return;fa(h.relativePath.startsWith(n),`Absolute route path "${h.relativePath}" nested under path "${n}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),h.relativePath=h.relativePath.slice(n.length)}let p=ef([n,h.relativePath]),g=r.concat(h);l.children&&l.children.length>0&&(fa(l.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${p}".`),TD(l.children,t,g,p,f)),!(l.path==null&&!l.index)&&t.push({path:p,score:Pq(p,l.index),routesMeta:g})};return e.forEach((l,o)=>{if(l.path===""||!l.path?.includes("?"))i(l,o);else for(let f of OD(l.path))i(l,o,!0,f)}),t}function OD(e){let t=e.split("/");if(t.length===0)return[];let[r,...n]=t,a=r.endsWith("?"),i=r.replace(/\?$/,"");if(n.length===0)return a?[i,""]:[i];let l=OD(n.join("/")),o=[];return o.push(...l.map(f=>f===""?i:[i,f].join("/"))),a&&o.push(...l),o.map(f=>e.startsWith("/")&&f===""?"/":f)}function Aq(e){e.sort((t,r)=>t.score!==r.score?r.score-t.score:Fq(t.routesMeta.map(n=>n.childrenIndex),r.routesMeta.map(n=>n.childrenIndex)))}var Eq=/^:[\w-]+$/,kq=3,Cq=2,Tq=1,Oq=10,Dq=-2,SE=e=>e==="*";function Pq(e,t){let r=e.split("/"),n=r.length;return r.some(SE)&&(n+=Dq),t&&(n+=Cq),r.filter(a=>!SE(a)).reduce((a,i)=>a+(Eq.test(i)?kq:i===""?Tq:Oq),n)}function Fq(e,t){return e.length===t.length&&e.slice(0,-1).every((n,a)=>n===t[a])?e[e.length-1]-t[t.length-1]:0}function Lq(e,t,r=!1){let{routesMeta:n}=e,a={},i="/",l=[];for(let o=0;o<n.length;++o){let f=n[o],u=o===n.length-1,h=i==="/"?t:t.slice(i.length)||"/",p=$v({path:f.relativePath,caseSensitive:f.caseSensitive,end:u},h),g=f.route;if(!p&&u&&r&&!n[n.length-1].route.index&&(p=$v({path:f.relativePath,caseSensitive:f.caseSensitive,end:!1},h)),!p)return null;Object.assign(a,p.params),l.push({params:a,pathname:ef([i,p.pathname]),pathnameBase:zq(ef([i,p.pathnameBase])),route:g}),p.pathnameBase!=="/"&&(i=ef([i,p.pathnameBase]))}return l}function $v(e,t){typeof e=="string"&&(e={path:e,caseSensitive:!1,end:!0});let[r,n]=Mq(e.path,e.caseSensitive,e.end),a=t.match(r);if(!a)return null;let i=a[0],l=i.replace(/(.)\/+$/,"$1"),o=a.slice(1);return{params:n.reduce((u,{paramName:h,isOptional:p},g)=>{if(h==="*"){let b=o[g]||"";l=i.slice(0,i.length-b.length).replace(/(.)\/+$/,"$1")}const x=o[g];return p&&!x?u[h]=void 0:u[h]=(x||"").replace(/%2F/g,"/"),u},{}),pathname:i,pathnameBase:l,pattern:e}}function Mq(e,t=!1,r=!0){Io(e==="*"||!e.endsWith("*")||e.endsWith("/*"),`Route path "${e}" will be treated as if it were "${e.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${e.replace(/\*$/,"/*")}".`);let n=[],a="^"+e.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(l,o,f)=>(n.push({paramName:o,isOptional:f!=null}),f?"/?([^\\/]+)?":"/([^\\/]+)")).replace(/\/([\w-]+)\?(\/|$)/g,"(/$1)?$2");return e.endsWith("*")?(n.push({paramName:"*"}),a+=e==="*"||e==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):r?a+="\\/*$":e!==""&&e!=="/"&&(a+="(?:(?=\\/|$))"),[new RegExp(a,t?void 0:"i"),n]}function Rq(e){try{return e.split("/").map(t=>decodeURIComponent(t).replace(/\//g,"%2F")).join("/")}catch(t){return Io(!1,`The URL path "${e}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${t}).`),e}}function of(e,t){if(t==="/")return e;if(!e.toLowerCase().startsWith(t.toLowerCase()))return null;let r=t.endsWith("/")?t.length-1:t.length,n=e.charAt(r);return n&&n!=="/"?null:e.slice(r)||"/"}function Iq(e,t="/"){let{pathname:r,search:n="",hash:a=""}=typeof e=="string"?Ym(e):e;return{pathname:r?r.startsWith("/")?r:Bq(r,t):t,search:qq(n),hash:$q(a)}}function Bq(e,t){let r=t.replace(/\/+$/,"").split("/");return e.split("/").forEach(a=>{a===".."?r.length>1&&r.pop():a!=="."&&r.push(a)}),r.length>1?r.join("/"):"/"}function vw(e,t,r,n){return`Cannot include a '${e}' character in a manually specified \`to.${t}\` field [${JSON.stringify(n)}].  Please separate it out to the \`to.${r}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function Uq(e){return e.filter((t,r)=>r===0||t.route.path&&t.route.path.length>0)}function CN(e){let t=Uq(e);return t.map((r,n)=>n===t.length-1?r.pathname:r.pathnameBase)}function TN(e,t,r,n=!1){let a;typeof e=="string"?a=Ym(e):(a={...e},fa(!a.pathname||!a.pathname.includes("?"),vw("?","pathname","search",a)),fa(!a.pathname||!a.pathname.includes("#"),vw("#","pathname","hash",a)),fa(!a.search||!a.search.includes("#"),vw("#","search","hash",a)));let i=e===""||a.pathname==="",l=i?"/":a.pathname,o;if(l==null)o=r;else{let p=t.length-1;if(!n&&l.startsWith("..")){let g=l.split("/");for(;g[0]==="..";)g.shift(),p-=1;a.pathname=g.join("/")}o=p>=0?t[p]:"/"}let f=Iq(a,o),u=l&&l!=="/"&&l.endsWith("/"),h=(i||l===".")&&r.endsWith("/");return!f.pathname.endsWith("/")&&(u||h)&&(f.pathname+="/"),f}var ef=e=>e.join("/").replace(/\/\/+/g,"/"),zq=e=>e.replace(/\/+$/,"").replace(/^\/*/,"/"),qq=e=>!e||e==="?"?"":e.startsWith("?")?e:"?"+e,$q=e=>!e||e==="#"?"":e.startsWith("#")?e:"#"+e;function Hq(e){return e!=null&&typeof e.status=="number"&&typeof e.statusText=="string"&&typeof e.internal=="boolean"&&"data"in e}var DD=["POST","PUT","PATCH","DELETE"];new Set(DD);var Vq=["GET",...DD];new Set(Vq);var Xm=C.createContext(null);Xm.displayName="DataRouter";var e2=C.createContext(null);e2.displayName="DataRouterState";C.createContext(!1);var PD=C.createContext({isTransitioning:!1});PD.displayName="ViewTransition";var Wq=C.createContext(new Map);Wq.displayName="Fetchers";var Gq=C.createContext(null);Gq.displayName="Await";var kc=C.createContext(null);kc.displayName="Navigation";var mg=C.createContext(null);mg.displayName="Location";var Cc=C.createContext({outlet:null,matches:[],isDataRoute:!1});Cc.displayName="Route";var ON=C.createContext(null);ON.displayName="RouteError";function Kq(e,{relative:t}={}){fa(Qm(),"useHref() may be used only in the context of a <Router> component.");let{basename:r,navigator:n}=C.useContext(kc),{hash:a,pathname:i,search:l}=pg(e,{relative:t}),o=i;return r!=="/"&&(o=i==="/"?r:ef([r,i])),n.createHref({pathname:o,search:l,hash:a})}function Qm(){return C.useContext(mg)!=null}function Tc(){return fa(Qm(),"useLocation() may be used only in the context of a <Router> component."),C.useContext(mg).location}var FD="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function LD(e){C.useContext(kc).static||C.useLayoutEffect(e)}function Pn(){let{isDataRoute:e}=C.useContext(Cc);return e?l$():Yq()}function Yq(){fa(Qm(),"useNavigate() may be used only in the context of a <Router> component.");let e=C.useContext(Xm),{basename:t,navigator:r}=C.useContext(kc),{matches:n}=C.useContext(Cc),{pathname:a}=Tc(),i=JSON.stringify(CN(n)),l=C.useRef(!1);return LD(()=>{l.current=!0}),C.useCallback((f,u={})=>{if(Io(l.current,FD),!l.current)return;if(typeof f=="number"){r.go(f);return}let h=TN(f,JSON.parse(i),a,u.relative==="path");e==null&&t!=="/"&&(h.pathname=h.pathname==="/"?t:ef([t,h.pathname])),(u.replace?r.replace:r.push)(h,u.state,u)},[t,r,i,a,e])}C.createContext(null);function Ho(){let{matches:e}=C.useContext(Cc),t=e[e.length-1];return t?t.params:{}}function pg(e,{relative:t}={}){let{matches:r}=C.useContext(Cc),{pathname:n}=Tc(),a=JSON.stringify(CN(r));return C.useMemo(()=>TN(e,JSON.parse(a),n,t==="path"),[e,a,n,t])}function Xq(e,t){return MD(e,t)}function MD(e,t,r,n,a){fa(Qm(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:i}=C.useContext(kc),{matches:l}=C.useContext(Cc),o=l[l.length-1],f=o?o.params:{},u=o?o.pathname:"/",h=o?o.pathnameBase:"/",p=o&&o.route;{let E=p&&p.path||"";RD(u,!p||E.endsWith("*")||E.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${u}" (under <Route path="${E}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${E}"> to <Route path="${E==="/"?"*":`${E}/*`}">.`)}let g=Tc(),x;if(t){let E=typeof t=="string"?Ym(t):t;fa(h==="/"||E.pathname?.startsWith(h),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${h}" but pathname "${E.pathname}" was given in the \`location\` prop.`),x=E}else x=g;let b=x.pathname||"/",y=b;if(h!=="/"){let E=h.replace(/^\//,"").split("/");y="/"+b.replace(/^\//,"").split("/").slice(E.length).join("/")}let w=CD(e,{pathname:y});Io(p||w!=null,`No routes matched location "${x.pathname}${x.search}${x.hash}" `),Io(w==null||w[w.length-1].route.element!==void 0||w[w.length-1].route.Component!==void 0||w[w.length-1].route.lazy!==void 0,`Matched leaf route at location "${x.pathname}${x.search}${x.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let _=t$(w&&w.map(E=>Object.assign({},E,{params:Object.assign({},f,E.params),pathname:ef([h,i.encodeLocation?i.encodeLocation(E.pathname.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:E.pathname]),pathnameBase:E.pathnameBase==="/"?h:ef([h,i.encodeLocation?i.encodeLocation(E.pathnameBase.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:E.pathnameBase])})),l,r,n,a);return t&&_?C.createElement(mg.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...x},navigationType:"POP"}},_):_}function Qq(){let e=s$(),t=Hq(e)?`${e.status} ${e.statusText}`:e instanceof Error?e.message:JSON.stringify(e),r=e instanceof Error?e.stack:null,n="rgba(200,200,200, 0.5)",a={padding:"0.5rem",backgroundColor:n},i={padding:"2px 4px",backgroundColor:n},l=null;return console.error("Error handled by React Router default ErrorBoundary:",e),l=C.createElement(C.Fragment,null,C.createElement("p",null," Hey developer "),C.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",C.createElement("code",{style:i},"ErrorBoundary")," or"," ",C.createElement("code",{style:i},"errorElement")," prop on your route.")),C.createElement(C.Fragment,null,C.createElement("h2",null,"Unexpected Application Error!"),C.createElement("h3",{style:{fontStyle:"italic"}},t),r?C.createElement("pre",{style:a},r):null,l)}var Zq=C.createElement(Qq,null),Jq=class extends C.Component{constructor(e){super(e),this.state={location:e.location,revalidation:e.revalidation,error:e.error}}static getDerivedStateFromError(e){return{error:e}}static getDerivedStateFromProps(e,t){return t.location!==e.location||t.revalidation!=="idle"&&e.revalidation==="idle"?{error:e.error,location:e.location,revalidation:e.revalidation}:{error:e.error!==void 0?e.error:t.error,location:t.location,revalidation:e.revalidation||t.revalidation}}componentDidCatch(e,t){this.props.unstable_onError?this.props.unstable_onError(e,t):console.error("React Router caught the following error during render",e)}render(){return this.state.error!==void 0?C.createElement(Cc.Provider,{value:this.props.routeContext},C.createElement(ON.Provider,{value:this.state.error,children:this.props.component})):this.props.children}};function e$({routeContext:e,match:t,children:r}){let n=C.useContext(Xm);return n&&n.static&&n.staticContext&&(t.route.errorElement||t.route.ErrorBoundary)&&(n.staticContext._deepestRenderedBoundaryId=t.route.id),C.createElement(Cc.Provider,{value:e},r)}function t$(e,t=[],r=null,n=null,a=null){if(e==null){if(!r)return null;if(r.errors)e=r.matches;else if(t.length===0&&!r.initialized&&r.matches.length>0)e=r.matches;else return null}let i=e,l=r?.errors;if(l!=null){let u=i.findIndex(h=>h.route.id&&l?.[h.route.id]!==void 0);fa(u>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(l).join(",")}`),i=i.slice(0,Math.min(i.length,u+1))}let o=!1,f=-1;if(r)for(let u=0;u<i.length;u++){let h=i[u];if((h.route.HydrateFallback||h.route.hydrateFallbackElement)&&(f=u),h.route.id){let{loaderData:p,errors:g}=r,x=h.route.loader&&!p.hasOwnProperty(h.route.id)&&(!g||g[h.route.id]===void 0);if(h.route.lazy||x){o=!0,f>=0?i=i.slice(0,f+1):i=[i[0]];break}}}return i.reduceRight((u,h,p)=>{let g,x=!1,b=null,y=null;r&&(g=l&&h.route.id?l[h.route.id]:void 0,b=h.route.errorElement||Zq,o&&(f<0&&p===0?(RD("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),x=!0,y=null):f===p&&(x=!0,y=h.route.hydrateFallbackElement||null)));let w=t.concat(i.slice(0,p+1)),_=()=>{let E;return g?E=b:x?E=y:h.route.Component?E=C.createElement(h.route.Component,null):h.route.element?E=h.route.element:E=u,C.createElement(e$,{match:h,routeContext:{outlet:u,matches:w,isDataRoute:r!=null},children:E})};return r&&(h.route.ErrorBoundary||h.route.errorElement||p===0)?C.createElement(Jq,{location:r.location,revalidation:r.revalidation,component:b,error:g,children:_(),routeContext:{outlet:null,matches:w,isDataRoute:!0},unstable_onError:n}):_()},null)}function DN(e){return`${e} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function r$(e){let t=C.useContext(Xm);return fa(t,DN(e)),t}function n$(e){let t=C.useContext(e2);return fa(t,DN(e)),t}function a$(e){let t=C.useContext(Cc);return fa(t,DN(e)),t}function PN(e){let t=a$(e),r=t.matches[t.matches.length-1];return fa(r.route.id,`${e} can only be used on routes that contain a unique "id"`),r.route.id}function i$(){return PN("useRouteId")}function s$(){let e=C.useContext(ON),t=n$("useRouteError"),r=PN("useRouteError");return e!==void 0?e:t.errors?.[r]}function l$(){let{router:e}=r$("useNavigate"),t=PN("useNavigate"),r=C.useRef(!1);return LD(()=>{r.current=!0}),C.useCallback(async(a,i={})=>{Io(r.current,FD),r.current&&(typeof a=="number"?e.navigate(a):await e.navigate(a,{fromRouteId:t,...i}))},[e,t])}var jE={};function RD(e,t,r){!t&&!jE[e]&&(jE[e]=!0,Io(!1,r))}C.memo(o$);function o$({routes:e,future:t,state:r,unstable_onError:n}){return MD(e,void 0,r,n,t)}function Nm({to:e,replace:t,state:r,relative:n}){fa(Qm(),"<Navigate> may be used only in the context of a <Router> component.");let{static:a}=C.useContext(kc);Io(!a,"<Navigate> must not be used on the initial render in a <StaticRouter>. This is a no-op, but you should modify your code so the <Navigate> is only ever rendered in response to some user interaction or state change.");let{matches:i}=C.useContext(Cc),{pathname:l}=Tc(),o=Pn(),f=TN(e,CN(i),l,n==="path"),u=JSON.stringify(f);return C.useEffect(()=>{o(JSON.parse(u),{replace:t,state:r,relative:n})},[o,u,n,t,r]),null}function Br(e){fa(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function c$({basename:e="/",children:t=null,location:r,navigationType:n="POP",navigator:a,static:i=!1}){fa(!Qm(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let l=e.replace(/^\/*/,"/"),o=C.useMemo(()=>({basename:l,navigator:a,static:i,future:{}}),[l,a,i]);typeof r=="string"&&(r=Ym(r));let{pathname:f="/",search:u="",hash:h="",state:p=null,key:g="default"}=r,x=C.useMemo(()=>{let b=of(f,l);return b==null?null:{location:{pathname:b,search:u,hash:h,state:p,key:g},navigationType:n}},[l,f,u,h,p,g,n]);return Io(x!=null,`<Router basename="${l}"> is not able to match the URL "${f}${u}${h}" because it does not start with the basename, so the <Router> won't render anything.`),x==null?null:C.createElement(kc.Provider,{value:o},C.createElement(mg.Provider,{children:t,value:x}))}function u$({children:e,location:t}){return Xq(H4(e),t)}function H4(e,t=[]){let r=[];return C.Children.forEach(e,(n,a)=>{if(!C.isValidElement(n))return;let i=[...t,a];if(n.type===C.Fragment){r.push.apply(r,H4(n.props.children,i));return}fa(n.type===Br,`[${typeof n.type=="string"?n.type:n.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),fa(!n.props.index||!n.props.children,"An index route cannot have child routes.");let l={id:n.props.id||i.join("-"),caseSensitive:n.props.caseSensitive,element:n.props.element,Component:n.props.Component,index:n.props.index,path:n.props.path,middleware:n.props.middleware,loader:n.props.loader,action:n.props.action,hydrateFallbackElement:n.props.hydrateFallbackElement,HydrateFallback:n.props.HydrateFallback,errorElement:n.props.errorElement,ErrorBoundary:n.props.ErrorBoundary,hasErrorBoundary:n.props.hasErrorBoundary===!0||n.props.ErrorBoundary!=null||n.props.errorElement!=null,shouldRevalidate:n.props.shouldRevalidate,handle:n.props.handle,lazy:n.props.lazy};n.props.children&&(l.children=H4(n.props.children,i)),r.push(l)}),r}var Cv="get",Tv="application/x-www-form-urlencoded";function t2(e){return e!=null&&typeof e.tagName=="string"}function f$(e){return t2(e)&&e.tagName.toLowerCase()==="button"}function d$(e){return t2(e)&&e.tagName.toLowerCase()==="form"}function h$(e){return t2(e)&&e.tagName.toLowerCase()==="input"}function m$(e){return!!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)}function p$(e,t){return e.button===0&&(!t||t==="_self")&&!m$(e)}function V4(e=""){return new URLSearchParams(typeof e=="string"||Array.isArray(e)||e instanceof URLSearchParams?e:Object.keys(e).reduce((t,r)=>{let n=e[r];return t.concat(Array.isArray(n)?n.map(a=>[r,a]):[[r,n]])},[]))}function x$(e,t){let r=V4(e);return t&&t.forEach((n,a)=>{r.has(a)||t.getAll(a).forEach(i=>{r.append(a,i)})}),r}var q1=null;function g$(){if(q1===null)try{new FormData(document.createElement("form"),0),q1=!1}catch{q1=!0}return q1}var v$=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function yw(e){return e!=null&&!v$.has(e)?(Io(!1,`"${e}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${Tv}"`),null):e}function y$(e,t){let r,n,a,i,l;if(d$(e)){let o=e.getAttribute("action");n=o?of(o,t):null,r=e.getAttribute("method")||Cv,a=yw(e.getAttribute("enctype"))||Tv,i=new FormData(e)}else if(f$(e)||h$(e)&&(e.type==="submit"||e.type==="image")){let o=e.form;if(o==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let f=e.getAttribute("formaction")||o.getAttribute("action");if(n=f?of(f,t):null,r=e.getAttribute("formmethod")||o.getAttribute("method")||Cv,a=yw(e.getAttribute("formenctype"))||yw(o.getAttribute("enctype"))||Tv,i=new FormData(o,e),!g$()){let{name:u,type:h,value:p}=e;if(h==="image"){let g=u?`${u}.`:"";i.append(`${g}x`,"0"),i.append(`${g}y`,"0")}else u&&i.append(u,p)}}else{if(t2(e))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');r=Cv,n=null,a=Tv,l=e}return i&&a==="text/plain"&&(l=i,i=void 0),{action:n,method:r.toLowerCase(),encType:a,formData:i,body:l}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");function FN(e,t){if(e===!1||e===null||typeof e>"u")throw new Error(t)}function b$(e,t,r){let n=typeof e=="string"?new URL(e,typeof window>"u"?"server://singlefetch/":window.location.origin):e;return n.pathname==="/"?n.pathname=`_root.${r}`:t&&of(n.pathname,t)==="/"?n.pathname=`${t.replace(/\/$/,"")}/_root.${r}`:n.pathname=`${n.pathname.replace(/\/$/,"")}.${r}`,n}async function w$(e,t){if(e.id in t)return t[e.id];try{let r=await import(e.module);return t[e.id]=r,r}catch(r){return console.error(`Error loading route module \`${e.module}\`, reloading page...`),console.error(r),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function _$(e){return e==null?!1:e.href==null?e.rel==="preload"&&typeof e.imageSrcSet=="string"&&typeof e.imageSizes=="string":typeof e.rel=="string"&&typeof e.href=="string"}async function N$(e,t,r){let n=await Promise.all(e.map(async a=>{let i=t.routes[a.route.id];if(i){let l=await w$(i,r);return l.links?l.links():[]}return[]}));return E$(n.flat(1).filter(_$).filter(a=>a.rel==="stylesheet"||a.rel==="preload").map(a=>a.rel==="stylesheet"?{...a,rel:"prefetch",as:"style"}:{...a,rel:"prefetch"}))}function AE(e,t,r,n,a,i){let l=(f,u)=>r[u]?f.route.id!==r[u].route.id:!0,o=(f,u)=>r[u].pathname!==f.pathname||r[u].route.path?.endsWith("*")&&r[u].params["*"]!==f.params["*"];return i==="assets"?t.filter((f,u)=>l(f,u)||o(f,u)):i==="data"?t.filter((f,u)=>{let h=n.routes[f.route.id];if(!h||!h.hasLoader)return!1;if(l(f,u)||o(f,u))return!0;if(f.route.shouldRevalidate){let p=f.route.shouldRevalidate({currentUrl:new URL(a.pathname+a.search+a.hash,window.origin),currentParams:r[0]?.params||{},nextUrl:new URL(e,window.origin),nextParams:f.params,defaultShouldRevalidate:!0});if(typeof p=="boolean")return p}return!0}):[]}function S$(e,t,{includeHydrateFallback:r}={}){return j$(e.map(n=>{let a=t.routes[n.route.id];if(!a)return[];let i=[a.module];return a.clientActionModule&&(i=i.concat(a.clientActionModule)),a.clientLoaderModule&&(i=i.concat(a.clientLoaderModule)),r&&a.hydrateFallbackModule&&(i=i.concat(a.hydrateFallbackModule)),a.imports&&(i=i.concat(a.imports)),i}).flat(1))}function j$(e){return[...new Set(e)]}function A$(e){let t={},r=Object.keys(e).sort();for(let n of r)t[n]=e[n];return t}function E$(e,t){let r=new Set;return new Set(t),e.reduce((n,a)=>{let i=JSON.stringify(A$(a));return r.has(i)||(r.add(i),n.push({key:i,link:a})),n},[])}function ID(){let e=C.useContext(Xm);return FN(e,"You must render this element inside a <DataRouterContext.Provider> element"),e}function k$(){let e=C.useContext(e2);return FN(e,"You must render this element inside a <DataRouterStateContext.Provider> element"),e}var LN=C.createContext(void 0);LN.displayName="FrameworkContext";function BD(){let e=C.useContext(LN);return FN(e,"You must render this element inside a <HydratedRouter> element"),e}function C$(e,t){let r=C.useContext(LN),[n,a]=C.useState(!1),[i,l]=C.useState(!1),{onFocus:o,onBlur:f,onMouseEnter:u,onMouseLeave:h,onTouchStart:p}=t,g=C.useRef(null);C.useEffect(()=>{if(e==="render"&&l(!0),e==="viewport"){let y=_=>{_.forEach(E=>{l(E.isIntersecting)})},w=new IntersectionObserver(y,{threshold:.5});return g.current&&w.observe(g.current),()=>{w.disconnect()}}},[e]),C.useEffect(()=>{if(n){let y=setTimeout(()=>{l(!0)},100);return()=>{clearTimeout(y)}}},[n]);let x=()=>{a(!0)},b=()=>{a(!1),l(!1)};return r?e!=="intent"?[i,g,{}]:[i,g,{onFocus:rx(o,x),onBlur:rx(f,b),onMouseEnter:rx(u,x),onMouseLeave:rx(h,b),onTouchStart:rx(p,x)}]:[!1,g,{}]}function rx(e,t){return r=>{e&&e(r),r.defaultPrevented||t(r)}}function T$({page:e,...t}){let{router:r}=ID(),n=C.useMemo(()=>CD(r.routes,e,r.basename),[r.routes,e,r.basename]);return n?C.createElement(D$,{page:e,matches:n,...t}):null}function O$(e){let{manifest:t,routeModules:r}=BD(),[n,a]=C.useState([]);return C.useEffect(()=>{let i=!1;return N$(e,t,r).then(l=>{i||a(l)}),()=>{i=!0}},[e,t,r]),n}function D$({page:e,matches:t,...r}){let n=Tc(),{manifest:a,routeModules:i}=BD(),{basename:l}=ID(),{loaderData:o,matches:f}=k$(),u=C.useMemo(()=>AE(e,t,f,a,n,"data"),[e,t,f,a,n]),h=C.useMemo(()=>AE(e,t,f,a,n,"assets"),[e,t,f,a,n]),p=C.useMemo(()=>{if(e===n.pathname+n.search+n.hash)return[];let b=new Set,y=!1;if(t.forEach(_=>{let E=a.routes[_.route.id];!E||!E.hasLoader||(!u.some(A=>A.route.id===_.route.id)&&_.route.id in o&&i[_.route.id]?.shouldRevalidate||E.hasClientLoader?y=!0:b.add(_.route.id))}),b.size===0)return[];let w=b$(e,l,"data");return y&&b.size>0&&w.searchParams.set("_routes",t.filter(_=>b.has(_.route.id)).map(_=>_.route.id).join(",")),[w.pathname+w.search]},[l,o,n,a,u,t,e,i]),g=C.useMemo(()=>S$(h,a),[h,a]),x=O$(h);return C.createElement(C.Fragment,null,p.map(b=>C.createElement("link",{key:b,rel:"prefetch",as:"fetch",href:b,...r})),g.map(b=>C.createElement("link",{key:b,rel:"modulepreload",href:b,...r})),x.map(({key:b,link:y})=>C.createElement("link",{key:b,nonce:r.nonce,...y})))}function P$(...e){return t=>{e.forEach(r=>{typeof r=="function"?r(t):r!=null&&(r.current=t)})}}var UD=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{UD&&(window.__reactRouterVersion="7.9.4")}catch{}function F$({basename:e,children:t,window:r}){let n=C.useRef();n.current==null&&(n.current=wq({window:r,v5Compat:!0}));let a=n.current,[i,l]=C.useState({action:a.action,location:a.location}),o=C.useCallback(f=>{C.startTransition(()=>l(f))},[l]);return C.useLayoutEffect(()=>a.listen(o),[a,o]),C.createElement(c$,{basename:e,children:t,location:i.location,navigationType:i.action,navigator:a})}var zD=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,Ma=C.forwardRef(function({onClick:t,discover:r="render",prefetch:n="none",relative:a,reloadDocument:i,replace:l,state:o,target:f,to:u,preventScrollReset:h,viewTransition:p,...g},x){let{basename:b}=C.useContext(kc),y=typeof u=="string"&&zD.test(u),w,_=!1;if(typeof u=="string"&&y&&(w=u,UD))try{let B=new URL(window.location.href),G=u.startsWith("//")?new URL(B.protocol+u):new URL(u),I=of(G.pathname,b);G.origin===B.origin&&I!=null?u=I+G.search+G.hash:_=!0}catch{Io(!1,`<Link to="${u}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}let E=Kq(u,{relative:a}),[A,O,D]=C$(n,g),R=I$(u,{replace:l,state:o,target:f,preventScrollReset:h,relative:a,viewTransition:p});function P(B){t&&t(B),B.defaultPrevented||R(B)}let T=C.createElement("a",{...g,...D,href:w||E,onClick:_||i?t:P,ref:P$(x,O),target:f,"data-discover":!y&&r==="render"?"true":void 0});return A&&!y?C.createElement(C.Fragment,null,T,C.createElement(T$,{page:E})):T});Ma.displayName="Link";var L$=C.forwardRef(function({"aria-current":t="page",caseSensitive:r=!1,className:n="",end:a=!1,style:i,to:l,viewTransition:o,children:f,...u},h){let p=pg(l,{relative:u.relative}),g=Tc(),x=C.useContext(e2),{navigator:b,basename:y}=C.useContext(kc),w=x!=null&&H$(p)&&o===!0,_=b.encodeLocation?b.encodeLocation(p).pathname:p.pathname,E=g.pathname,A=x&&x.navigation&&x.navigation.location?x.navigation.location.pathname:null;r||(E=E.toLowerCase(),A=A?A.toLowerCase():null,_=_.toLowerCase()),A&&y&&(A=of(A,y)||A);const O=_!=="/"&&_.endsWith("/")?_.length-1:_.length;let D=E===_||!a&&E.startsWith(_)&&E.charAt(O)==="/",R=A!=null&&(A===_||!a&&A.startsWith(_)&&A.charAt(_.length)==="/"),P={isActive:D,isPending:R,isTransitioning:w},T=D?t:void 0,B;typeof n=="function"?B=n(P):B=[n,D?"active":null,R?"pending":null,w?"transitioning":null].filter(Boolean).join(" ");let G=typeof i=="function"?i(P):i;return C.createElement(Ma,{...u,"aria-current":T,className:B,ref:h,style:G,to:l,viewTransition:o},typeof f=="function"?f(P):f)});L$.displayName="NavLink";var M$=C.forwardRef(({discover:e="render",fetcherKey:t,navigate:r,reloadDocument:n,replace:a,state:i,method:l=Cv,action:o,onSubmit:f,relative:u,preventScrollReset:h,viewTransition:p,...g},x)=>{let b=q$(),y=$$(o,{relative:u}),w=l.toLowerCase()==="get"?"get":"post",_=typeof o=="string"&&zD.test(o),E=A=>{if(f&&f(A),A.defaultPrevented)return;A.preventDefault();let O=A.nativeEvent.submitter,D=O?.getAttribute("formmethod")||l;b(O||A.currentTarget,{fetcherKey:t,method:D,navigate:r,replace:a,state:i,relative:u,preventScrollReset:h,viewTransition:p})};return C.createElement("form",{ref:x,method:w,action:y,onSubmit:n?f:E,...g,"data-discover":!_&&e==="render"?"true":void 0})});M$.displayName="Form";function R$(e){return`${e} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function qD(e){let t=C.useContext(Xm);return fa(t,R$(e)),t}function I$(e,{target:t,replace:r,state:n,preventScrollReset:a,relative:i,viewTransition:l}={}){let o=Pn(),f=Tc(),u=pg(e,{relative:i});return C.useCallback(h=>{if(p$(h,t)){h.preventDefault();let p=r!==void 0?r:Px(f)===Px(u);o(e,{replace:p,state:n,preventScrollReset:a,relative:i,viewTransition:l})}},[f,o,u,r,n,t,e,a,i,l])}function B$(e){Io(typeof URLSearchParams<"u","You cannot use the `useSearchParams` hook in a browser that does not support the URLSearchParams API. If you need to support Internet Explorer 11, we recommend you load a polyfill such as https://github.com/ungap/url-search-params.");let t=C.useRef(V4(e)),r=C.useRef(!1),n=Tc(),a=C.useMemo(()=>x$(n.search,r.current?null:t.current),[n.search]),i=Pn(),l=C.useCallback((o,f)=>{const u=V4(typeof o=="function"?o(new URLSearchParams(a)):o);r.current=!0,i("?"+u,f)},[i,a]);return[a,l]}var U$=0,z$=()=>`__${String(++U$)}__`;function q$(){let{router:e}=qD("useSubmit"),{basename:t}=C.useContext(kc),r=i$();return C.useCallback(async(n,a={})=>{let{action:i,method:l,encType:o,formData:f,body:u}=y$(n,t);if(a.navigate===!1){let h=a.fetcherKey||z$();await e.fetch(h,r,a.action||i,{preventScrollReset:a.preventScrollReset,formData:f,body:u,formMethod:a.method||l,formEncType:a.encType||o,flushSync:a.flushSync})}else await e.navigate(a.action||i,{preventScrollReset:a.preventScrollReset,formData:f,body:u,formMethod:a.method||l,formEncType:a.encType||o,replace:a.replace,state:a.state,fromRouteId:r,flushSync:a.flushSync,viewTransition:a.viewTransition})},[e,t,r])}function $$(e,{relative:t}={}){let{basename:r}=C.useContext(kc),n=C.useContext(Cc);fa(n,"useFormAction must be used inside a RouteContext");let[a]=n.matches.slice(-1),i={...pg(e||".",{relative:t})},l=Tc();if(e==null){i.search=l.search;let o=new URLSearchParams(i.search),f=o.getAll("index");if(f.some(h=>h==="")){o.delete("index"),f.filter(p=>p).forEach(p=>o.append("index",p));let h=o.toString();i.search=h?`?${h}`:""}}return(!e||e===".")&&a.route.index&&(i.search=i.search?i.search.replace(/^\?/,"?index&"):"?index"),r!=="/"&&(i.pathname=i.pathname==="/"?r:ef([r,i.pathname])),Px(i)}function H$(e,{relative:t}={}){let r=C.useContext(PD);fa(r!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:n}=qD("useViewTransitionState"),a=pg(e,{relative:t});if(!r.isTransitioning)return!1;let i=of(r.currentLocation.pathname,n)||r.currentLocation.pathname,l=of(r.nextLocation.pathname,n)||r.nextLocation.pathname;return $v(a.pathname,l)!=null||$v(a.pathname,i)!=null}var $D=gD();const V$="http://localhost:3001/api";class $1 extends Error{status;code;constructor(t,r,n){super(t),this.name="ApiError",this.status=r,this.code=n}}class W${baseURL;constructor(t){this.baseURL=t}async request(t,r={}){const{params:n,...a}=r;let i=`${this.baseURL}${t}`;if(n){const o=new URLSearchParams(n).toString();i+=`?${o}`}const l={"Content-Type":"application/json",...a.headers};try{const o=await fetch(i,{...a,headers:l});if(!o.ok){const u=await o.json().catch(()=>({}));throw new $1(u.error||u.message||"Une erreur est survenue",o.status,u.code)}return await o.json()}catch(o){throw o instanceof $1?o:o instanceof Error?new $1(`Erreur de connexion: ${o.message}`,void 0,"NETWORK_ERROR"):new $1("Une erreur inconnue est survenue")}}async get(t,r){return this.request(t,{method:"GET",params:r})}async post(t,r){return this.request(t,{method:"POST",body:JSON.stringify(r)})}async put(t,r){return this.request(t,{method:"PUT",body:JSON.stringify(r)})}async patch(t,r){return this.request(t,{method:"PATCH",body:JSON.stringify(r)})}async delete(t){return this.request(t,{method:"DELETE"})}}const st=new W$(V$),G$={async login(e,t){return(await st.post("/auth/login",{username:e,password:t})).user}},HD=C.createContext(void 0),K$=({children:e})=>{const[t,r]=C.useState(null),[n,a]=C.useState(!0);C.useEffect(()=>{const u=localStorage.getItem("current_user");u&&r(JSON.parse(u)),a(!1)},[]);const i=async(u,h)=>{try{const p=await G$.login(u,h);return r(p),localStorage.setItem("current_user",JSON.stringify(p)),!0}catch(p){return console.error("Erreur de connexion:",p),!1}},l=()=>{r(null),localStorage.removeItem("current_user")},o=t?.role==="admin",f=t?.role==="gerant";return s.jsx(HD.Provider,{value:{user:t,isAuthenticated:!!t,isLoading:n,login:i,logout:l,isAdmin:o,isGerant:f},children:e})},Ni=()=>{const e=C.useContext(HD);if(!e)throw new Error("useAuth must be used within an AuthProvider");return e};function Ld(...e){return e.filter(Boolean).join(" ")}const rt=C.forwardRef(({className:e,variant:t="default",size:r="default",...n},a)=>{const i="inline-flex items-center justify-center rounded-md text-sm font-medium transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-offset-2 disabled:opacity-50 disabled:pointer-events-none",l={default:"bg-blue-600 text-white hover:bg-blue-700",destructive:"bg-red-600 text-white hover:bg-red-700",outline:"border border-gray-300 bg-transparent hover:bg-gray-100",secondary:"bg-gray-200 text-gray-900 hover:bg-gray-300",ghost:"hover:bg-gray-100 hover:text-gray-900",link:"underline-offset-4 hover:underline text-blue-600"},o={default:"h-10 py-2 px-4",sm:"h-9 px-3 rounded-md",lg:"h-11 px-8 rounded-md",icon:"h-10 w-10"};return s.jsx("button",{className:Ld(i,l[t],o[r],e),ref:a,...n})});rt.displayName="Button";const Ks=C.forwardRef(({className:e,type:t,...r},n)=>s.jsx("input",{type:t,className:Ld("flex h-10 w-full rounded-md border border-gray-300 bg-white px-3 py-2 text-sm ring-offset-white file:border-0 file:bg-transparent file:text-sm file:font-medium placeholder:text-gray-400 focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-blue-500 focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",e),ref:n,...r}));Ks.displayName="Input";const hn=C.forwardRef(({className:e,...t},r)=>s.jsx("div",{ref:r,className:Ld("rounded-lg border border-gray-200 bg-white text-gray-950 shadow-sm",e),...t}));hn.displayName="Card";const cf=C.forwardRef(({className:e,...t},r)=>s.jsx("div",{ref:r,className:Ld("flex flex-col space-y-1.5 p-6",e),...t}));cf.displayName="CardHeader";const uf=C.forwardRef(({className:e,...t},r)=>s.jsx("h3",{ref:r,className:Ld("text-2xl font-semibold leading-none tracking-tight",e),...t}));uf.displayName="CardTitle";const VD=C.forwardRef(({className:e,...t},r)=>s.jsx("p",{ref:r,className:Ld("text-sm text-gray-500",e),...t}));VD.displayName="CardDescription";const mn=C.forwardRef(({className:e,...t},r)=>s.jsx("div",{ref:r,className:Ld("p-6 pt-0",e),...t}));mn.displayName="CardContent";const Y$=C.forwardRef(({className:e,...t},r)=>s.jsx("div",{ref:r,className:Ld("flex items-center p-6 pt-0",e),...t}));Y$.displayName="CardFooter";/**
 * @license lucide-react v0.546.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const X$=e=>e.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),Q$=e=>e.replace(/^([A-Z])|[\s-_]+(\w)/g,(t,r,n)=>n?n.toUpperCase():r.toLowerCase()),EE=e=>{const t=Q$(e);return t.charAt(0).toUpperCase()+t.slice(1)},WD=(...e)=>e.filter((t,r,n)=>!!t&&t.trim()!==""&&n.indexOf(t)===r).join(" ").trim(),Z$=e=>{for(const t in e)if(t.startsWith("aria-")||t==="role"||t==="title")return!0};/**
 * @license lucide-react v0.546.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var J$={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.546.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const eH=C.forwardRef(({color:e="currentColor",size:t=24,strokeWidth:r=2,absoluteStrokeWidth:n,className:a="",children:i,iconNode:l,...o},f)=>C.createElement("svg",{ref:f,...J$,width:t,height:t,stroke:e,strokeWidth:n?Number(r)*24/Number(t):r,className:WD("lucide",a),...!i&&!Z$(o)&&{"aria-hidden":"true"},...o},[...l.map(([u,h])=>C.createElement(u,h)),...Array.isArray(i)?i:[i]]));/**
 * @license lucide-react v0.546.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _t=(e,t)=>{const r=C.forwardRef(({className:n,...a},i)=>C.createElement(eH,{ref:i,iconNode:t,className:WD(`lucide-${X$(EE(e))}`,`lucide-${e}`,n),...a}));return r.displayName=EE(e),r};/**
 * @license lucide-react v0.546.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const tH=[["path",{d:"M22 12h-2.48a2 2 0 0 0-1.93 1.46l-2.35 8.36a.25.25 0 0 1-.48 0L9.24 2.18a.25.25 0 0 0-.48 0l-2.35 8.36A2 2 0 0 1 4.49 12H2",key:"169zse"}]],GD=_t("activity",tH);/**
 * @license lucide-react v0.546.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const rH=[["path",{d:"M12 5v14",key:"s699le"}],["path",{d:"m19 12-7 7-7-7",key:"1idqje"}]],nH=_t("arrow-down",rH);/**
 * @license lucide-react v0.546.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const aH=[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]],ea=_t("arrow-left",aH);/**
 * @license lucide-react v0.546.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const iH=[["path",{d:"m5 12 7-7 7 7",key:"hav0vg"}],["path",{d:"M12 19V5",key:"x0mq9r"}]],sH=_t("arrow-up",iH);/**
 * @license lucide-react v0.546.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const lH=[["path",{d:"m15.477 12.89 1.515 8.526a.5.5 0 0 1-.81.47l-3.58-2.687a1 1 0 0 0-1.197 0l-3.586 2.686a.5.5 0 0 1-.81-.469l1.514-8.526",key:"1yiouv"}],["circle",{cx:"12",cy:"8",r:"6",key:"1vp47v"}]],wi=_t("award",lH);/**
 * @license lucide-react v0.546.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const oH=[["path",{d:"M12 7v14",key:"1akyts"}],["path",{d:"M3 18a1 1 0 0 1-1-1V4a1 1 0 0 1 1-1h5a4 4 0 0 1 4 4 4 4 0 0 1 4-4h5a1 1 0 0 1 1 1v13a1 1 0 0 1-1 1h-6a3 3 0 0 0-3 3 3 3 0 0 0-3-3z",key:"ruj8y"}]],qn=_t("book-open",oH);/**
 * @license lucide-react v0.546.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const cH=[["path",{d:"M21 8a2 2 0 0 0-1-1.73l-7-4a2 2 0 0 0-2 0l-7 4A2 2 0 0 0 3 8v8a2 2 0 0 0 1 1.73l7 4a2 2 0 0 0 2 0l7-4A2 2 0 0 0 21 16Z",key:"hh9hay"}],["path",{d:"m3.3 7 8.7 5 8.7-5",key:"g66t2b"}],["path",{d:"M12 22V12",key:"d0xqtd"}]],uH=_t("box",cH);/**
 * @license lucide-react v0.546.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fH=[["rect",{width:"16",height:"20",x:"4",y:"2",rx:"2",key:"1nb95v"}],["line",{x1:"8",x2:"16",y1:"6",y2:"6",key:"x4nwl0"}],["line",{x1:"16",x2:"16",y1:"14",y2:"18",key:"wjye3r"}],["path",{d:"M16 10h.01",key:"1m94wz"}],["path",{d:"M12 10h.01",key:"1nrarc"}],["path",{d:"M8 10h.01",key:"19clt8"}],["path",{d:"M12 14h.01",key:"1etili"}],["path",{d:"M8 14h.01",key:"6423bh"}],["path",{d:"M12 18h.01",key:"mhygvu"}],["path",{d:"M8 18h.01",key:"lrp35t"}]],cu=_t("calculator",fH);/**
 * @license lucide-react v0.546.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const dH=[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]],ns=_t("calendar",dH);/**
 * @license lucide-react v0.546.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const hH=[["path",{d:"M3 3v16a2 2 0 0 0 2 2h16",key:"c24i48"}],["path",{d:"M18 17V9",key:"2bz60n"}],["path",{d:"M13 17V5",key:"1frdt8"}],["path",{d:"M8 17v-3",key:"17ska0"}]],KD=_t("chart-column",hH);/**
 * @license lucide-react v0.546.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const mH=[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]],YD=_t("check",mH);/**
 * @license lucide-react v0.546.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const pH=[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]],xg=_t("chevron-down",pH);/**
 * @license lucide-react v0.546.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xH=[["path",{d:"m15 18-6-6 6-6",key:"1wnfg3"}]],MN=_t("chevron-left",xH);/**
 * @license lucide-react v0.546.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const gH=[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]],Gu=_t("chevron-right",gH);/**
 * @license lucide-react v0.546.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const vH=[["path",{d:"m18 15-6-6-6 6",key:"153udz"}]],RN=_t("chevron-up",vH);/**
 * @license lucide-react v0.546.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const yH=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]],un=_t("circle-alert",yH);/**
 * @license lucide-react v0.546.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const bH=[["path",{d:"M21.801 10A10 10 0 1 1 17 3.335",key:"yps3ct"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]],ii=_t("circle-check-big",bH);/**
 * @license lucide-react v0.546.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const wH=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]],XD=_t("circle-check",wH);/**
 * @license lucide-react v0.546.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _H=[["path",{d:"M9 9.003a1 1 0 0 1 1.517-.859l4.997 2.997a1 1 0 0 1 0 1.718l-4.997 2.997A1 1 0 0 1 9 14.996z",key:"kmsa83"}],["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]],_c=_t("circle-play",_H);/**
 * @license lucide-react v0.546.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const NH=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m15 9-6 6",key:"1uzhvr"}],["path",{d:"m9 9 6 6",key:"z0biqf"}]],Sd=_t("circle-x",NH);/**
 * @license lucide-react v0.546.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const SH=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]],jH=_t("circle",SH);/**
 * @license lucide-react v0.546.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const AH=[["rect",{width:"8",height:"4",x:"8",y:"2",rx:"1",ry:"1",key:"tgr4d6"}],["path",{d:"M16 4h2a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2H6a2 2 0 0 1-2-2V6a2 2 0 0 1 2-2h2",key:"116196"}],["path",{d:"m9 14 2 2 4-4",key:"df797q"}]],Hv=_t("clipboard-check",AH);/**
 * @license lucide-react v0.546.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const EH=[["path",{d:"M12 6v6l4 2",key:"mmk7yg"}],["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]],Ys=_t("clock",EH);/**
 * @license lucide-react v0.546.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const kH=[["rect",{width:"14",height:"14",x:"8",y:"8",rx:"2",ry:"2",key:"17jyea"}],["path",{d:"M4 16c-1.1 0-2-.9-2-2V4c0-1.1.9-2 2-2h10c1.1 0 2 .9 2 2",key:"zix9uf"}]],Sm=_t("copy",kH);/**
 * @license lucide-react v0.546.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const CH=[["line",{x1:"12",x2:"12",y1:"2",y2:"22",key:"7eqyqh"}],["path",{d:"M17 5H9.5a3.5 3.5 0 0 0 0 7h5a3.5 3.5 0 0 1 0 7H6",key:"1b0p4s"}]],W4=_t("dollar-sign",CH);/**
 * @license lucide-react v0.546.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const TH=[["path",{d:"M12 15V3",key:"m9g1x1"}],["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["path",{d:"m7 10 5 5 5-5",key:"brsn70"}]],Ss=_t("download",TH);/**
 * @license lucide-react v0.546.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const OH=[["path",{d:"M15 3h6v6",key:"1q9fwt"}],["path",{d:"M10 14 21 3",key:"gplh6r"}],["path",{d:"M18 13v6a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h6",key:"a6xqqp"}]],r2=_t("external-link",OH);/**
 * @license lucide-react v0.546.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const DH=[["path",{d:"M10.733 5.076a10.744 10.744 0 0 1 11.205 6.575 1 1 0 0 1 0 .696 10.747 10.747 0 0 1-1.444 2.49",key:"ct8e1f"}],["path",{d:"M14.084 14.158a3 3 0 0 1-4.242-4.242",key:"151rxh"}],["path",{d:"M17.479 17.499a10.75 10.75 0 0 1-15.417-5.151 1 1 0 0 1 0-.696 10.75 10.75 0 0 1 4.446-5.143",key:"13bj9a"}],["path",{d:"m2 2 20 20",key:"1ooewy"}]],Vs=_t("eye-off",DH);/**
 * @license lucide-react v0.546.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const PH=[["path",{d:"M2.062 12.348a1 1 0 0 1 0-.696 10.75 10.75 0 0 1 19.876 0 1 1 0 0 1 0 .696 10.75 10.75 0 0 1-19.876 0",key:"1nclc0"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]],Es=_t("eye",PH);/**
 * @license lucide-react v0.546.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const FH=[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"m9 15 2 2 4-4",key:"1grp1n"}]],Fx=_t("file-check",FH);/**
 * @license lucide-react v0.546.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const LH=[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M9 15h6",key:"cctwl0"}],["path",{d:"M12 18v-6",key:"17g6i2"}]],Vv=_t("file-plus",LH);/**
 * @license lucide-react v0.546.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const MH=[["path",{d:"M12 17h.01",key:"p32p05"}],["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7z",key:"1mlx9k"}],["path",{d:"M9.1 9a3 3 0 0 1 5.82 1c0 2-3 3-3 3",key:"mhlwft"}]],tf=_t("file-question-mark",MH);/**
 * @license lucide-react v0.546.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const RH=[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M8 13h2",key:"yr2amv"}],["path",{d:"M14 13h2",key:"un5t4a"}],["path",{d:"M8 17h2",key:"2yhykz"}],["path",{d:"M14 17h2",key:"10kma7"}]],q0=_t("file-spreadsheet",RH);/**
 * @license lucide-react v0.546.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const IH=[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M10 9H8",key:"b1mrlr"}],["path",{d:"M16 13H8",key:"t4e002"}],["path",{d:"M16 17H8",key:"z1uh3a"}]],Zs=_t("file-text",IH);/**
 * @license lucide-react v0.546.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const BH=[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]],kE=_t("file-warning",BH);/**
 * @license lucide-react v0.546.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const UH=[["path",{d:"M10 20a1 1 0 0 0 .553.895l2 1A1 1 0 0 0 14 21v-7a2 2 0 0 1 .517-1.341L21.74 4.67A1 1 0 0 0 21 3H3a1 1 0 0 0-.742 1.67l7.225 7.989A2 2 0 0 1 10 14z",key:"sc7q7i"}]],IN=_t("funnel",UH);/**
 * @license lucide-react v0.546.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const zH=[["path",{d:"M21.42 10.922a1 1 0 0 0-.019-1.838L12.83 5.18a2 2 0 0 0-1.66 0L2.6 9.08a1 1 0 0 0 0 1.832l8.57 3.908a2 2 0 0 0 1.66 0z",key:"j76jl0"}],["path",{d:"M22 10v6",key:"1lu8f3"}],["path",{d:"M6 12.5V16a6 3 0 0 0 12 0v-3.5",key:"1r8lef"}]],QD=_t("graduation-cap",zH);/**
 * @license lucide-react v0.546.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qH=[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}],["path",{d:"M3 9h18",key:"1pudct"}],["path",{d:"M3 15h18",key:"5xshup"}],["path",{d:"M9 3v18",key:"fh3hqa"}],["path",{d:"M15 3v18",key:"14nvp0"}]],$H=_t("grid-3x3",qH);/**
 * @license lucide-react v0.546.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const HH=[["path",{d:"M10 10V5a1 1 0 0 1 1-1h2a1 1 0 0 1 1 1v5",key:"1p9q5i"}],["path",{d:"M14 6a6 6 0 0 1 6 6v3",key:"1hnv84"}],["path",{d:"M4 15v-3a6 6 0 0 1 6-6",key:"9ciidu"}],["rect",{x:"2",y:"15",width:"20",height:"4",rx:"1",key:"g3x8cw"}]],yx=_t("hard-hat",HH);/**
 * @license lucide-react v0.546.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const VH=[["line",{x1:"4",x2:"20",y1:"9",y2:"9",key:"4lhtct"}],["line",{x1:"4",x2:"20",y1:"15",y2:"15",key:"vyu0kd"}],["line",{x1:"10",x2:"8",y1:"3",y2:"21",key:"1ggp8o"}],["line",{x1:"16",x2:"14",y1:"3",y2:"21",key:"weycgp"}]],ZD=_t("hash",VH);/**
 * @license lucide-react v0.546.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const WH=[["path",{d:"M15 21v-8a1 1 0 0 0-1-1h-4a1 1 0 0 0-1 1v8",key:"5wwlr5"}],["path",{d:"M3 10a2 2 0 0 1 .709-1.528l7-6a2 2 0 0 1 2.582 0l7 6A2 2 0 0 1 21 10v9a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z",key:"r6nss1"}]],Ov=_t("house",WH);/**
 * @license lucide-react v0.546.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const GH=[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",ry:"2",key:"1m3agn"}],["circle",{cx:"9",cy:"9",r:"2",key:"af1f0g"}],["path",{d:"m21 15-3.086-3.086a2 2 0 0 0-2.828 0L6 21",key:"1xmnt7"}]],JD=_t("image",GH);/**
 * @license lucide-react v0.546.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const KH=[["path",{d:"M12.83 2.18a2 2 0 0 0-1.66 0L2.6 6.08a1 1 0 0 0 0 1.83l8.58 3.91a2 2 0 0 0 1.66 0l8.58-3.9a1 1 0 0 0 0-1.83z",key:"zw3jo"}],["path",{d:"M2 12a1 1 0 0 0 .58.91l8.6 3.91a2 2 0 0 0 1.65 0l8.58-3.9A1 1 0 0 0 22 12",key:"1wduqc"}],["path",{d:"M2 17a1 1 0 0 0 .58.91l8.6 3.91a2 2 0 0 0 1.65 0l8.58-3.9A1 1 0 0 0 22 17",key:"kqbvx6"}]],BN=_t("layers",KH);/**
 * @license lucide-react v0.546.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const YH=[["path",{d:"M15 14c.2-1 .7-1.7 1.5-2.5 1-.9 1.5-2.2 1.5-3.5A6 6 0 0 0 6 8c0 1 .2 2.2 1.5 3.5.7.7 1.3 1.5 1.5 2.5",key:"1gvzjb"}],["path",{d:"M9 18h6",key:"x1upvd"}],["path",{d:"M10 22h4",key:"ceow96"}]],XH=_t("lightbulb",YH);/**
 * @license lucide-react v0.546.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const QH=[["path",{d:"M10 13a5 5 0 0 0 7.54.54l3-3a5 5 0 0 0-7.07-7.07l-1.72 1.71",key:"1cjeqo"}],["path",{d:"M14 11a5 5 0 0 0-7.54-.54l-3 3a5 5 0 0 0 7.07 7.07l1.71-1.71",key:"19qd67"}]],Wv=_t("link",QH);/**
 * @license lucide-react v0.546.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ZH=[["path",{d:"M3 5h.01",key:"18ugdj"}],["path",{d:"M3 12h.01",key:"nlz23k"}],["path",{d:"M3 19h.01",key:"noohij"}],["path",{d:"M8 5h13",key:"1pao27"}],["path",{d:"M8 12h13",key:"1za7za"}],["path",{d:"M8 19h13",key:"m83p4d"}]],eP=_t("list",ZH);/**
 * @license lucide-react v0.546.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const JH=[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 10 0v4",key:"fwvmzm"}]],Lx=_t("lock",JH);/**
 * @license lucide-react v0.546.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const eV=[["path",{d:"m16 17 5-5-5-5",key:"1bji2h"}],["path",{d:"M21 12H9",key:"dn1m92"}],["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}]],tP=_t("log-out",eV);/**
 * @license lucide-react v0.546.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const tV=[["path",{d:"m22 7-8.991 5.727a2 2 0 0 1-2.009 0L2 7",key:"132q7q"}],["rect",{x:"2",y:"4",width:"20",height:"16",rx:"2",key:"izxlao"}]],rV=_t("mail",tV);/**
 * @license lucide-react v0.546.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const nV=[["path",{d:"M20 10c0 4.993-5.539 10.193-7.399 11.799a1 1 0 0 1-1.202 0C9.539 20.193 4 14.993 4 10a8 8 0 0 1 16 0",key:"1r0f0z"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}]],Js=_t("map-pin",nV);/**
 * @license lucide-react v0.546.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const aV=[["path",{d:"M4 5h16",key:"1tepv9"}],["path",{d:"M4 12h16",key:"1lakjw"}],["path",{d:"M4 19h16",key:"1djgab"}]],iV=_t("menu",aV);/**
 * @license lucide-react v0.546.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const sV=[["path",{d:"M22 17a2 2 0 0 1-2 2H6.828a2 2 0 0 0-1.414.586l-2.202 2.202A.71.71 0 0 1 2 21.286V5a2 2 0 0 1 2-2h16a2 2 0 0 1 2 2z",key:"18887p"}]],Xs=_t("message-square",sV);/**
 * @license lucide-react v0.546.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const lV=[["path",{d:"M5 12h14",key:"1ays0h"}]],oV=_t("minus",lV);/**
 * @license lucide-react v0.546.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const cV=[["path",{d:"M12 22a1 1 0 0 1 0-20 10 9 0 0 1 10 9 5 5 0 0 1-5 5h-2.25a1.75 1.75 0 0 0-1.4 2.8l.3.4a1.75 1.75 0 0 1-1.4 2.8z",key:"e79jfc"}],["circle",{cx:"13.5",cy:"6.5",r:".5",fill:"currentColor",key:"1okk4w"}],["circle",{cx:"17.5",cy:"10.5",r:".5",fill:"currentColor",key:"f64h9f"}],["circle",{cx:"6.5",cy:"12.5",r:".5",fill:"currentColor",key:"qy21gx"}],["circle",{cx:"8.5",cy:"7.5",r:".5",fill:"currentColor",key:"fotxhn"}]],G4=_t("palette",cV);/**
 * @license lucide-react v0.546.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const uV=[["path",{d:"m16 6-8.414 8.586a2 2 0 0 0 2.829 2.829l8.414-8.586a4 4 0 1 0-5.657-5.657l-8.379 8.551a6 6 0 1 0 8.485 8.485l8.379-8.551",key:"1miecu"}]],fV=_t("paperclip",uV);/**
 * @license lucide-react v0.546.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const dV=[["path",{d:"M13 21h8",key:"1jsn5i"}],["path",{d:"M21.174 6.812a1 1 0 0 0-3.986-3.987L3.842 16.174a2 2 0 0 0-.5.83l-1.321 4.352a.5.5 0 0 0 .623.622l4.353-1.32a2 2 0 0 0 .83-.497z",key:"1a8usu"}]],Zm=_t("pen-line",dV);/**
 * @license lucide-react v0.546.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const hV=[["path",{d:"M21.174 6.812a1 1 0 0 0-3.986-3.987L3.842 16.174a2 2 0 0 0-.5.83l-1.321 4.352a.5.5 0 0 0 .623.622l4.353-1.32a2 2 0 0 0 .83-.497z",key:"1a8usu"}]],gg=_t("pen",hV);/**
 * @license lucide-react v0.546.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const mV=[["path",{d:"M12 17v5",key:"bb1du9"}],["path",{d:"M9 10.76a2 2 0 0 1-1.11 1.79l-1.78.9A2 2 0 0 0 5 15.24V16a1 1 0 0 0 1 1h12a1 1 0 0 0 1-1v-.76a2 2 0 0 0-1.11-1.79l-1.78-.9A2 2 0 0 1 15 10.76V7a1 1 0 0 1 1-1 2 2 0 0 0 0-4H8a2 2 0 0 0 0 4 1 1 0 0 1 1 1z",key:"1nkz8b"}]],UN=_t("pin",mV);/**
 * @license lucide-react v0.546.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const pV=[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]],ca=_t("plus",pV);/**
 * @license lucide-react v0.546.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xV=[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8",key:"v9h5vc"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16",key:"3uifl3"}],["path",{d:"M8 16H3v5",key:"1cv678"}]],gV=_t("refresh-cw",xV);/**
 * @license lucide-react v0.546.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const vV=[["path",{d:"M15.2 3a2 2 0 0 1 1.4.6l3.8 3.8a2 2 0 0 1 .6 1.4V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2z",key:"1c8476"}],["path",{d:"M17 21v-7a1 1 0 0 0-1-1H8a1 1 0 0 0-1 1v7",key:"1ydtos"}],["path",{d:"M7 3v4a1 1 0 0 0 1 1h7",key:"t51u73"}]],Jm=_t("save",vV);/**
 * @license lucide-react v0.546.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const yV=[["path",{d:"m21 21-4.34-4.34",key:"14j7rj"}],["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}]],ep=_t("search",yV);/**
 * @license lucide-react v0.546.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const bV=[["path",{d:"M14.536 21.686a.5.5 0 0 0 .937-.024l6.5-19a.496.496 0 0 0-.635-.635l-19 6.5a.5.5 0 0 0-.024.937l7.93 3.18a2 2 0 0 1 1.112 1.11z",key:"1ffxy3"}],["path",{d:"m21.854 2.147-10.94 10.939",key:"12cjpa"}]],jm=_t("send",bV);/**
 * @license lucide-react v0.546.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const wV=[["path",{d:"M9.671 4.136a2.34 2.34 0 0 1 4.659 0 2.34 2.34 0 0 0 3.319 1.915 2.34 2.34 0 0 1 2.33 4.033 2.34 2.34 0 0 0 0 3.831 2.34 2.34 0 0 1-2.33 4.033 2.34 2.34 0 0 0-3.319 1.915 2.34 2.34 0 0 1-4.659 0 2.34 2.34 0 0 0-3.32-1.915 2.34 2.34 0 0 1-2.33-4.033 2.34 2.34 0 0 0 0-3.831A2.34 2.34 0 0 1 6.35 6.051a2.34 2.34 0 0 0 3.319-1.915",key:"1i5ecw"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]],Gv=_t("settings",wV);/**
 * @license lucide-react v0.546.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _V=[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}]],K4=_t("shield",_V);/**
 * @license lucide-react v0.546.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const NV=[["path",{d:"M12 3H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7",key:"1m0v6g"}],["path",{d:"M18.375 2.625a1 1 0 0 1 3 3l-9.013 9.014a2 2 0 0 1-.853.505l-2.873.84a.5.5 0 0 1-.62-.62l.84-2.873a2 2 0 0 1 .506-.852z",key:"ohrbg2"}]],rP=_t("square-pen",NV);/**
 * @license lucide-react v0.546.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const SV=[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}]],CE=_t("square",SV);/**
 * @license lucide-react v0.546.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const jV=[["path",{d:"M11.525 2.295a.53.53 0 0 1 .95 0l2.31 4.679a2.123 2.123 0 0 0 1.595 1.16l5.166.756a.53.53 0 0 1 .294.904l-3.736 3.638a2.123 2.123 0 0 0-.611 1.878l.882 5.14a.53.53 0 0 1-.771.56l-4.618-2.428a2.122 2.122 0 0 0-1.973 0L6.396 21.01a.53.53 0 0 1-.77-.56l.881-5.139a2.122 2.122 0 0 0-.611-1.879L2.16 9.795a.53.53 0 0 1 .294-.906l5.165-.755a2.122 2.122 0 0 0 1.597-1.16z",key:"r04s7s"}]],Y4=_t("star",jV);/**
 * @license lucide-react v0.546.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const AV=[["path",{d:"M12.586 2.586A2 2 0 0 0 11.172 2H4a2 2 0 0 0-2 2v7.172a2 2 0 0 0 .586 1.414l8.704 8.704a2.426 2.426 0 0 0 3.42 0l6.58-6.58a2.426 2.426 0 0 0 0-3.42z",key:"vktsd0"}],["circle",{cx:"7.5",cy:"7.5",r:".5",fill:"currentColor",key:"kqv944"}]],EV=_t("tag",AV);/**
 * @license lucide-react v0.546.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const kV=[["path",{d:"M21 5H3",key:"1fi0y6"}],["path",{d:"M15 12H3",key:"6jk70r"}],["path",{d:"M17 19H3",key:"z6ezky"}]],CV=_t("text-align-start",kV);/**
 * @license lucide-react v0.546.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const TV=[["path",{d:"M7 10v12",key:"1qc93n"}],["path",{d:"M15 5.88 14 10h5.83a2 2 0 0 1 1.92 2.56l-2.33 8A2 2 0 0 1 17.5 22H4a2 2 0 0 1-2-2v-8a2 2 0 0 1 2-2h2.76a2 2 0 0 0 1.79-1.11L12 2a3.13 3.13 0 0 1 3 3.88Z",key:"emmmcr"}]],OV=_t("thumbs-up",TV);/**
 * @license lucide-react v0.546.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const DV=[["path",{d:"M10 11v6",key:"nco0om"}],["path",{d:"M14 11v6",key:"outv1u"}],["path",{d:"M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6",key:"miytrc"}],["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M8 6V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2",key:"e791ji"}]],da=_t("trash-2",DV);/**
 * @license lucide-react v0.546.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const PV=[["path",{d:"M16 7h6v6",key:"box55l"}],["path",{d:"m22 7-8.5 8.5-5-5L2 17",key:"1t1m79"}]],$0=_t("trending-up",PV);/**
 * @license lucide-react v0.546.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const FV=[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3",key:"wmoenq"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]],X4=_t("triangle-alert",FV);/**
 * @license lucide-react v0.546.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const LV=[["path",{d:"M14 18V6a2 2 0 0 0-2-2H4a2 2 0 0 0-2 2v11a1 1 0 0 0 1 1h2",key:"wrbu53"}],["path",{d:"M15 18H9",key:"1lyqi6"}],["path",{d:"M19 18h2a1 1 0 0 0 1-1v-3.65a1 1 0 0 0-.22-.624l-3.48-4.35A1 1 0 0 0 17.52 8H14",key:"lysw3i"}],["circle",{cx:"17",cy:"18",r:"2",key:"332jqn"}],["circle",{cx:"7",cy:"18",r:"2",key:"19iecd"}]],MV=_t("truck",LV);/**
 * @license lucide-react v0.546.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const RV=[["path",{d:"M12 4v16",key:"1654pz"}],["path",{d:"M4 7V5a1 1 0 0 1 1-1h14a1 1 0 0 1 1 1v2",key:"e0r10z"}],["path",{d:"M9 20h6",key:"s66wpe"}]],zN=_t("type",RV);/**
 * @license lucide-react v0.546.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const IV=[["path",{d:"M12 3v12",key:"1x0j5s"}],["path",{d:"m17 8-5-5-5 5",key:"7q97r8"}],["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}]],vg=_t("upload",IV);/**
 * @license lucide-react v0.546.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const BV=[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["line",{x1:"19",x2:"19",y1:"8",y2:"14",key:"1bvyxn"}],["line",{x1:"22",x2:"16",y1:"11",y2:"11",key:"1shjgl"}]],UV=_t("user-plus",BV);/**
 * @license lucide-react v0.546.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const zV=[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]],Mx=_t("user",zV);/**
 * @license lucide-react v0.546.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qV=[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["path",{d:"M16 3.128a4 4 0 0 1 0 7.744",key:"16gr8j"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}]],is=_t("users",qV);/**
 * @license lucide-react v0.546.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $V=[["path",{d:"m16 13 5.223 3.482a.5.5 0 0 0 .777-.416V7.87a.5.5 0 0 0-.752-.432L16 10.5",key:"ftymec"}],["rect",{x:"2",y:"6",width:"14",height:"12",rx:"2",key:"158x01"}]],Rx=_t("video",$V);/**
 * @license lucide-react v0.546.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const HV=[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]],rl=_t("x",HV),lm=[{url:"https://images.unsplash.com/photo-1581092160562-40aa08e78837?auto=format&fit=crop&w=1200&q=80",caption:"Oprateur de chariot lvateur"},{url:"https://images.unsplash.com/photo-1504917595217-d4dc5ebe6122?auto=format&fit=crop&w=1200&q=80",caption:"Gestion des engins de chantier"},{url:"https://images.unsplash.com/photo-1581092162384-8987c1d64718?auto=format&fit=crop&w=1200&q=80",caption:"Manutention professionnelle"},{url:"https://images.unsplash.com/photo-1513828583688-c52646db42da?auto=format&fit=crop&w=1200&q=80",caption:"quipe de travaux"}],VV=()=>{const[e,t]=C.useState(""),[r,n]=C.useState(""),[a,i]=C.useState(""),[l,o]=C.useState(!1),[f,u]=C.useState(0),[h,p]=C.useState(!1),{login:g}=Ni(),x=Pn();C.useEffect(()=>{const _=setInterval(()=>{u(E=>E===lm.length-1?0:E+1)},4e3);return()=>clearInterval(_)},[]);const b=async _=>{_.preventDefault(),i(""),o(!0),await g(e,r)?x("/dashboard"):i("Nom d'utilisateur ou mot de passe incorrect"),o(!1)},y=()=>{u(_=>_===0?lm.length-1:_-1)},w=()=>{u(_=>_===lm.length-1?0:_+1)};return s.jsxs("div",{className:"min-h-screen flex",children:[s.jsx("div",{className:"hidden lg:flex lg:w-1/2 relative bg-gradient-to-br from-orange-600 to-blue-900 overflow-hidden",children:s.jsxs("div",{className:"relative w-full h-full",children:[lm.map((_,E)=>s.jsxs("div",{className:`absolute inset-0 transition-opacity duration-1000 ${E===f?"opacity-100":"opacity-0"}`,children:[s.jsx("img",{src:_.url,alt:_.caption,className:"w-full h-full object-cover"}),s.jsx("div",{className:"absolute inset-0 bg-gradient-to-t from-black/70 via-black/30 to-transparent"})]},E)),s.jsxs("div",{className:"absolute inset-0 flex flex-col justify-end p-12 text-white z-10",children:[s.jsxs("div",{className:"mb-8",children:[s.jsxs("div",{className:"flex items-center gap-3 mb-4",children:[s.jsx(yx,{className:"w-12 h-12"}),s.jsxs("h1",{className:"text-4xl font-bold",children:["Systme de Gestion",s.jsx("br",{}),"Comptable"]})]}),s.jsx("p",{className:"text-xl text-gray-200 max-w-md",children:"Solution professionnelle pour la gestion des dclarations de sessions"})]}),s.jsx("div",{className:"mb-4",children:s.jsx("p",{className:"text-lg font-medium text-gray-100",children:lm[f].caption})}),s.jsxs("div",{className:"flex items-center gap-4",children:[s.jsx("button",{onClick:y,className:"p-2 rounded-full bg-white/20 hover:bg-white/30 transition-colors backdrop-blur-sm","aria-label":"Image prcdente",children:s.jsx(MN,{className:"w-5 h-5"})}),s.jsx("div",{className:"flex gap-2",children:lm.map((_,E)=>s.jsx("button",{onClick:()=>u(E),className:`h-2 rounded-full transition-all ${E===f?"w-8 bg-white":"w-2 bg-white/50 hover:bg-white/70"}`,"aria-label":`Aller  l'image ${E+1}`},E))}),s.jsx("button",{onClick:w,className:"p-2 rounded-full bg-white/20 hover:bg-white/30 transition-colors backdrop-blur-sm","aria-label":"Image suivante",children:s.jsx(Gu,{className:"w-5 h-5"})})]}),s.jsxs("div",{className:"mt-8 flex flex-wrap gap-3",children:[s.jsxs("div",{className:"flex items-center gap-2 px-3 py-2 rounded-full bg-white/10 backdrop-blur-sm",children:[s.jsx(MV,{className:"w-4 h-4"}),s.jsx("span",{className:"text-sm font-medium",children:"Engins de chantier"})]}),s.jsxs("div",{className:"flex items-center gap-2 px-3 py-2 rounded-full bg-white/10 backdrop-blur-sm",children:[s.jsx(is,{className:"w-4 h-4"}),s.jsx("span",{className:"text-sm font-medium",children:"Gestion d'quipes"})]}),s.jsxs("div",{className:"flex items-center gap-2 px-3 py-2 rounded-full bg-white/10 backdrop-blur-sm",children:[s.jsx(yx,{className:"w-4 h-4"}),s.jsx("span",{className:"text-sm font-medium",children:"Manutention"})]})]})]})]})}),s.jsx("div",{className:"w-full lg:w-1/2 flex items-center justify-center bg-gradient-to-br from-gray-50 to-gray-100 p-4",children:s.jsxs("div",{className:"w-full max-w-md",children:[s.jsxs("div",{className:"lg:hidden mb-8 text-center",children:[s.jsxs("div",{className:"flex items-center justify-center gap-3 mb-3",children:[s.jsx(yx,{className:"w-10 h-10 text-orange-600"}),s.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"Gestion Comptable"})]}),s.jsx("p",{className:"text-gray-600",children:"Solution pour vos dclarations de sessions"})]}),s.jsxs(hn,{className:"shadow-xl border-0",children:[s.jsxs(cf,{className:"space-y-1 pb-6",children:[s.jsx(uf,{className:"text-2xl font-bold text-center text-gray-900",children:"Connexion"}),s.jsx(VD,{className:"text-center text-gray-600",children:"Accdez  votre espace personnel"})]}),s.jsxs(mn,{children:[s.jsxs("form",{onSubmit:b,className:"space-y-5",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx("label",{htmlFor:"username",className:"text-sm font-medium text-gray-700",children:"Nom d'utilisateur"}),s.jsx(Ks,{id:"username",type:"text",placeholder:"Votre identifiant",value:e,onChange:_=>t(_.target.value),required:!0,className:"h-11"})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx("label",{htmlFor:"password",className:"text-sm font-medium text-gray-700",children:"Mot de passe"}),s.jsxs("div",{className:"relative",children:[s.jsx(Ks,{id:"password",type:h?"text":"password",placeholder:"Votre mot de passe",value:r,onChange:_=>n(_.target.value),required:!0,className:"h-11 pr-10"}),s.jsx("button",{type:"button",onClick:()=>p(!h),className:"absolute right-3 top-1/2 -translate-y-1/2 text-gray-500 hover:text-gray-700 transition-colors","aria-label":h?"Masquer le mot de passe":"Afficher le mot de passe",children:h?s.jsx(Vs,{className:"w-5 h-5"}):s.jsx(Es,{className:"w-5 h-5"})})]})]}),a&&s.jsxs("div",{className:"bg-red-50 border border-red-200 text-red-700 p-3 rounded-lg text-sm flex items-start gap-2",children:[s.jsx("svg",{className:"w-5 h-5 flex-shrink-0 mt-0.5",fill:"currentColor",viewBox:"0 0 20 20",children:s.jsx("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zM8.707 7.293a1 1 0 00-1.414 1.414L8.586 10l-1.293 1.293a1 1 0 101.414 1.414L10 11.414l1.293 1.293a1 1 0 001.414-1.414L11.414 10l1.293-1.293a1 1 0 00-1.414-1.414L10 8.586 8.707 7.293z",clipRule:"evenodd"})}),s.jsx("span",{children:a})]}),s.jsx(rt,{type:"submit",className:"w-full h-11 bg-gradient-to-r from-orange-600 to-orange-500 hover:from-orange-700 hover:to-orange-600 text-white font-medium shadow-lg",disabled:l,children:l?s.jsxs("span",{className:"flex items-center gap-2",children:[s.jsxs("svg",{className:"animate-spin h-4 w-4",viewBox:"0 0 24 24",children:[s.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4",fill:"none"}),s.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}),"Connexion..."]}):"Se connecter"})]}),s.jsxs("div",{className:"mt-6 pt-6 border-t border-gray-200 text-center text-sm text-gray-500",children:[s.jsx("p",{children:" 2025 Systme de Gestion Comptable"}),s.jsx("p",{className:"mt-1",children:"Tous droits rservs"})]})]})]})]})})]})},WV=({className:e=""})=>{const[t,r]=C.useState(!1),[n,a]=C.useState(["gestion-comptable","formation-en-ligne"]),{user:i,isAdmin:l,isGerant:o,logout:f}=Ni(),u=Pn(),h=Tc(),p=()=>{f(),u("/login"),r(!1)},g=A=>{a(O=>O.includes(A)?O.filter(D=>D!==A):[...O,A])},x=[{id:"gestion-comptable",title:"Gestion Comptable",icon:cu,items:[{to:"/dashboard",icon:Ov,label:"Tableau de bord"},{to:"/admin/segments",icon:cu,label:"Segments"},{to:"/admin/cities",icon:Js,label:"Villes"},{to:"/admin/users",icon:is,label:"Utilisateurs"},{to:"/admin/calculation-sheets",icon:q0,label:"Fiches de calcul"},{to:"/admin/create-declaration",icon:Vv,label:"Crer dclaration"},{to:"/admin/declarations",icon:Hv,label:"Grer dclarations"}]},{id:"formation-en-ligne",title:"Formation en Ligne",icon:QD,items:[{to:"/admin/formations/sessions",icon:ns,label:"Sessions"}]}],b=[{to:"/dashboard",icon:Ov,label:"Tableau de bord"},{to:"/professor/declarations",icon:eP,label:"Mes dclarations"}],y=[{to:"/dashboard",icon:Ov,label:"Tableau de bord"},{to:"/gerant/view-declarations",icon:Hv,label:"Voir dclarations"}],w=l?x:[],_=l?[]:o?y:b,E=A=>h.pathname===A;return s.jsxs(s.Fragment,{children:[s.jsx(rt,{variant:"ghost",size:"icon",onClick:()=>r(!0),className:`lg:hidden ${e}`,"aria-label":"Open menu",children:s.jsx(iV,{className:"h-6 w-6"})}),t&&s.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 z-40 lg:hidden",onClick:()=>r(!1)}),s.jsxs("div",{className:`fixed top-0 left-0 h-full w-64 bg-white shadow-xl z-50 transform transition-transform duration-300 ease-in-out lg:hidden ${t?"translate-x-0":"-translate-x-full"}`,children:[s.jsxs("div",{className:"flex items-center justify-between p-4 border-b",children:[s.jsx("h2",{className:"text-lg font-semibold text-gray-800",children:"Menu"}),s.jsx(rt,{variant:"ghost",size:"icon",onClick:()=>r(!1),"aria-label":"Close menu",children:s.jsx(rl,{className:"h-6 w-6"})})]}),s.jsxs("div",{className:"p-4 bg-gray-50 border-b",children:[s.jsx("p",{className:"text-sm font-medium text-gray-800",children:i?.full_name||i?.username}),s.jsx("p",{className:"text-xs text-gray-500 capitalize",children:i?.role})]}),s.jsxs("nav",{className:"flex flex-col p-2 space-y-2 overflow-y-auto flex-1",children:[w.map(A=>{const O=n.includes(A.id),D=A.icon;return s.jsxs("div",{className:"space-y-1",children:[s.jsxs("button",{onClick:()=>g(A.id),className:"w-full flex items-center justify-between px-3 py-2.5 text-sm font-semibold text-gray-700 hover:bg-gray-50 rounded-lg transition-colors",children:[s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx(D,{className:"h-5 w-5 text-gray-600"}),s.jsx("span",{children:A.title})]}),O?s.jsx(RN,{className:"h-4 w-4 text-gray-400"}):s.jsx(xg,{className:"h-4 w-4 text-gray-400"})]}),O&&s.jsx("div",{className:"ml-6 space-y-0.5",children:A.items.map(R=>{const P=R.icon,T=E(R.to);return s.jsxs(Ma,{to:R.to,onClick:()=>r(!1),className:`flex items-center gap-3 px-3 py-2 rounded-lg text-sm transition-colors ${T?"bg-blue-50 text-blue-700 font-medium":"text-gray-600 hover:bg-gray-50"}`,children:[s.jsx(P,{className:`h-4 w-4 ${T?"text-blue-600":"text-gray-400"}`}),s.jsx("span",{children:R.label})]},R.to)})})]},A.id)}),_.map(A=>s.jsxs(Ma,{to:A.to,onClick:()=>r(!1),className:`flex items-center gap-3 px-4 py-3 rounded-lg text-sm transition-colors ${E(A.to)?"bg-blue-50 text-blue-700 font-medium":"text-gray-700 hover:bg-gray-100"}`,children:[s.jsx(A.icon,{className:`h-5 w-5 ${E(A.to)?"text-blue-600":"text-gray-400"}`}),s.jsx("span",{className:"font-medium",children:A.label})]},A.to))]}),s.jsx("div",{className:"absolute bottom-0 left-0 right-0 p-4 border-t bg-white",children:s.jsxs(rt,{onClick:p,variant:"outline",className:"w-full flex items-center justify-center gap-2",children:[s.jsx(tP,{className:"h-4 w-4"}),"Dconnexion"]})})]})]})},GV=({title:e,subtitle:t})=>{const{user:r,logout:n}=Ni(),a=Pn(),i=()=>{n(),a("/login")};return s.jsx("header",{className:"bg-white shadow-sm border-b sticky top-0 z-30",children:s.jsx("div",{className:"px-4 sm:px-6 lg:px-8 py-3 sm:py-4",children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{className:"flex items-center gap-3 sm:gap-4",children:[s.jsx(WV,{}),s.jsxs("div",{className:"hidden lg:flex items-center gap-2",children:[s.jsx(yx,{className:"h-6 w-6 sm:h-7 sm:w-7 text-orange-600"}),s.jsx("span",{className:"text-lg sm:text-xl font-bold text-gray-800",children:"Comptabilit PL"})]}),e&&s.jsxs("div",{className:"flex flex-col",children:[s.jsx("h1",{className:"text-base sm:text-lg lg:text-xl font-semibold text-gray-800 truncate max-w-[150px] sm:max-w-none",children:e}),t&&s.jsx("p",{className:"text-xs sm:text-sm text-gray-500 hidden sm:block",children:t})]})]}),s.jsxs("div",{className:"hidden lg:flex items-center gap-4",children:[s.jsxs("div",{className:"text-right",children:[s.jsx("p",{className:"text-sm font-medium text-gray-800",children:r?.full_name||r?.username}),s.jsx("p",{className:"text-xs text-gray-500 capitalize",children:r?.role})]}),s.jsxs(rt,{onClick:i,variant:"outline",size:"sm",className:"flex items-center gap-2",children:[s.jsx(tP,{className:"h-4 w-4"}),s.jsx("span",{className:"hidden xl:inline",children:"Dconnexion"})]})]}),!e&&s.jsxs("div",{className:"lg:hidden flex items-center gap-2",children:[s.jsx(yx,{className:"h-6 w-6 text-orange-600"}),s.jsx("span",{className:"text-base font-bold text-gray-800",children:"Comptabilit PL"})]})]})})})},KV=()=>{const e=Tc(),[t,r]=C.useState(["gestion-comptable","formation-en-ligne"]),n=l=>{r(o=>o.includes(l)?o.filter(f=>f!==l):[...o,l])},a=[{id:"gestion-comptable",title:"Gestion Comptable",icon:cu,items:[{to:"/dashboard",icon:Ov,label:"Tableau de bord"},{to:"/admin/segments",icon:cu,label:"Segments"},{to:"/admin/cities",icon:Js,label:"Villes"},{to:"/admin/users",icon:is,label:"Utilisateurs"},{to:"/admin/calculation-sheets",icon:q0,label:"Fiches de calcul"},{to:"/admin/create-declaration",icon:Vv,label:"Crer dclaration"},{to:"/admin/declarations",icon:Hv,label:"Grer dclarations"}]},{id:"formation-en-ligne",title:"Formation en Ligne",icon:QD,items:[{to:"/admin/formations/cours",icon:qn,label:"Formations"},{to:"/admin/formations/sessions",icon:ns,label:"Sessions"},{to:"/admin/analytics",icon:KD,label:"Analytics"},{to:"/admin/student-reports",icon:Zs,label:"Rapports tudiants"},{to:"/admin/certificates",icon:wi,label:"Certificats"},{to:"/admin/certificate-templates",icon:G4,label:"Templates de Certificats"},{to:"/admin/forums",icon:Xs,label:"Forums"}]}],i=l=>e.pathname===l;return s.jsxs("aside",{className:"hidden lg:flex lg:flex-col lg:w-72 bg-white border-r border-gray-200 h-[calc(100vh-64px)] sticky top-16 overflow-y-auto",children:[s.jsx("nav",{className:"flex-1 px-3 py-4 space-y-2",children:a.map(l=>{const o=t.includes(l.id),f=l.icon;return s.jsxs("div",{className:"space-y-1",children:[s.jsxs("button",{onClick:()=>n(l.id),className:"w-full flex items-center justify-between px-3 py-2.5 text-sm font-semibold text-gray-700 hover:bg-gray-50 rounded-lg transition-colors group",children:[s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx(f,{className:"h-5 w-5 text-gray-600 group-hover:text-blue-600"}),s.jsx("span",{className:"group-hover:text-blue-600",children:l.title})]}),o?s.jsx(RN,{className:"h-4 w-4 text-gray-400"}):s.jsx(xg,{className:"h-4 w-4 text-gray-400"})]}),o&&s.jsx("div",{className:"ml-3 space-y-0.5 border-l-2 border-gray-200 pl-3",children:l.items.map(u=>{const h=u.icon,p=i(u.to);return s.jsxs(Ma,{to:u.to,className:`flex items-center gap-3 px-3 py-2 text-sm rounded-lg transition-all ${p?"bg-blue-50 text-blue-700 font-medium border-l-2 border-blue-600 -ml-[2px]":"text-gray-600 hover:bg-gray-50 hover:text-gray-900"}`,children:[s.jsx(h,{className:`h-4 w-4 ${p?"text-blue-600":"text-gray-400"}`}),s.jsx("span",{children:u.label})]},u.to)})})]},l.id)})}),s.jsx("div",{className:"px-6 py-4 border-t border-gray-200",children:s.jsx("p",{className:"text-xs text-gray-500 text-center",children:"Comptabilit PL  2025"})})]})},ha=({children:e,title:t,subtitle:r})=>s.jsxs("div",{className:"min-h-screen bg-gray-50",children:[s.jsx(GV,{title:t,subtitle:r}),s.jsxs("div",{className:"flex",children:[s.jsx(KV,{}),s.jsx("main",{className:"flex-1 p-4 sm:p-6 lg:p-8",children:s.jsx("div",{className:"max-w-7xl mx-auto",children:e})})]})]});function YV(){return hr({queryKey:["dashboard-stats"],queryFn:async()=>st.get("/admin/dashboard-stats"),refetchInterval:3e4})}const XV=()=>{const{data:e,isLoading:t,error:r}=YV();if(t)return s.jsx("div",{className:"flex items-center justify-center py-12",children:s.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-600"})});if(r||!e)return s.jsx("div",{className:"bg-red-50 border border-red-200 rounded-lg p-4",children:s.jsx("p",{className:"text-red-800",children:"Erreur lors du chargement des statistiques"})});const{statusStats:n,alerts:a,metrics:i,rankings:l}=e;return s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{children:[s.jsx("h2",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Statistiques Rapides"}),s.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 xl:grid-cols-6 gap-4",children:[s.jsx("div",{className:"bg-gradient-to-br from-blue-50 to-blue-100 rounded-lg shadow-sm p-4 border border-blue-200",children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx("p",{className:"text-sm font-medium text-blue-600",children:"Total Fiches"}),s.jsx("p",{className:"text-3xl font-bold text-blue-900 mt-1",children:n.total})]}),s.jsx(Zs,{className:"w-10 h-10 text-blue-500 opacity-50"})]})}),s.jsx("div",{className:`rounded-lg shadow-sm p-4 border ${n.soumise>5?"bg-gradient-to-br from-red-50 to-red-100 border-red-300 animate-pulse":"bg-gradient-to-br from-blue-50 to-blue-100 border-blue-200"}`,children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx("p",{className:`text-sm font-medium ${n.soumise>5?"text-red-600":"text-blue-600"}`,children:"Soumises"}),s.jsx("p",{className:`text-3xl font-bold mt-1 ${n.soumise>5?"text-red-900":"text-blue-900"}`,children:n.soumise}),n.soumise>5&&s.jsx("p",{className:"text-xs text-red-700 mt-1",children:"  traiter rapidement"})]}),s.jsx(jm,{className:`w-10 h-10 opacity-50 ${n.soumise>5?"text-red-500":"text-blue-500"}`})]})}),s.jsx("div",{className:`rounded-lg shadow-sm p-4 border ${n.a_declarer>3?"bg-gradient-to-br from-orange-50 to-orange-100 border-orange-300 animate-pulse":"bg-gradient-to-br from-orange-50 to-orange-100 border-orange-200"}`,children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx("p",{className:"text-sm font-medium text-orange-600",children:" dclarer"}),s.jsx("p",{className:"text-3xl font-bold text-orange-900 mt-1",children:n.a_declarer}),n.a_declarer>3&&s.jsx("p",{className:"text-xs text-orange-700 mt-1",children:" Attente prof"})]}),s.jsx(un,{className:"w-10 h-10 text-orange-500 opacity-50"})]})}),s.jsx("div",{className:`rounded-lg shadow-sm p-4 border ${a.expired.total>0?"bg-gradient-to-br from-red-50 to-red-100 border-red-300":"bg-gradient-to-br from-gray-50 to-gray-100 border-gray-200"}`,children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx("p",{className:`text-sm font-medium ${a.expired.total>0?"text-red-600":"text-gray-600"}`,children:"Expires"}),s.jsx("p",{className:`text-3xl font-bold mt-1 ${a.expired.total>0?"text-red-900":"text-gray-900"}`,children:a.expired.total}),a.expired.critical>0&&s.jsxs("p",{className:"text-xs text-red-700 mt-1",children:[" ",a.expired.critical," critique"]})]}),s.jsx(kE,{className:`w-10 h-10 opacity-50 ${a.expired.total>0?"text-red-500":"text-gray-400"}`})]})}),s.jsx("div",{className:"bg-gradient-to-br from-green-50 to-green-100 rounded-lg shadow-sm p-4 border border-green-200",children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx("p",{className:"text-sm font-medium text-green-600",children:"Revenus Total"}),s.jsxs("p",{className:"text-2xl font-bold text-green-900 mt-1",children:[new Intl.NumberFormat("fr-FR").format(i.totalRevenue)," MAD"]})]}),s.jsx(W4,{className:"w-10 h-10 text-green-500 opacity-50"})]})}),s.jsx("div",{className:"bg-gradient-to-br from-purple-50 to-purple-100 rounded-lg shadow-sm p-4 border border-purple-200",children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx("p",{className:"text-sm font-medium text-purple-600",children:"Dlai Moyen"}),s.jsxs("p",{className:"text-3xl font-bold text-purple-900 mt-1",children:[i.avgProcessingTime,s.jsx("span",{className:"text-lg ml-1",children:"j"})]}),s.jsx("p",{className:"text-xs text-purple-700 mt-1",children:"de traitement"})]}),s.jsx(Ys,{className:"w-10 h-10 text-purple-500 opacity-50"})]})})]})]}),(n.soumise>0||a.expired.total>0||a.expiring>0||a.lateProcessing>0)&&s.jsxs("div",{children:[s.jsx("h2",{className:"text-lg font-semibold text-gray-900 mb-4",children:" Alertes Urgentes"}),s.jsxs("div",{className:"space-y-3",children:[n.soumise>0&&s.jsx("div",{className:"bg-blue-50 border-l-4 border-blue-500 rounded-r-lg p-4",children:s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx(jm,{className:"w-5 h-5 text-blue-600 flex-shrink-0"}),s.jsxs("p",{className:"text-sm font-medium text-blue-900",children:[n.soumise," dclaration",n.soumise>1?"s":""," soumise",n.soumise>1?"s":"","  traiter"]})]})}),a.expired.critical>0&&s.jsx("div",{className:"bg-red-50 border-l-4 border-red-600 rounded-r-lg p-4",children:s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx(X4,{className:"w-5 h-5 text-red-600 flex-shrink-0"}),s.jsxs("p",{className:"text-sm font-medium text-red-900",children:[" ",a.expired.critical," dclaration",a.expired.critical>1?"s":""," expire",a.expired.critical>1?"s":""," depuis > 30 jours (CRITIQUE)"]})]})}),a.expired.warning>0&&s.jsx("div",{className:"bg-orange-50 border-l-4 border-orange-500 rounded-r-lg p-4",children:s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx(un,{className:"w-5 h-5 text-orange-600 flex-shrink-0"}),s.jsxs("p",{className:"text-sm font-medium text-orange-900",children:[" ",a.expired.warning," dclaration",a.expired.warning>1?"s":""," expire",a.expired.warning>1?"s":""," depuis 7-30 jours"]})]})}),a.expiring>0&&s.jsx("div",{className:"bg-yellow-50 border-l-4 border-yellow-500 rounded-r-lg p-4",children:s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx(Ys,{className:"w-5 h-5 text-yellow-600 flex-shrink-0"}),s.jsxs("p",{className:"text-sm font-medium text-yellow-900",children:[" ",a.expiring," dclaration",a.expiring>1?"s":""," arrivant  chance dans 7 jours"]})]})}),a.lateProcessing>0&&s.jsx("div",{className:"bg-orange-50 border-l-4 border-orange-600 rounded-r-lg p-4",children:s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx(kE,{className:"w-5 h-5 text-orange-600 flex-shrink-0"}),s.jsxs("p",{className:"text-sm font-medium text-orange-900",children:[" ",a.lateProcessing," dclaration",a.lateProcessing>1?"s":""," en retard de traitement (> 7 jours)"]})]})})]})]}),s.jsxs("div",{children:[s.jsx("h2",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Dtails par Statut"}),s.jsxs("div",{className:"grid grid-cols-2 sm:grid-cols-3 lg:grid-cols-6 gap-4",children:[s.jsxs("div",{className:"bg-white rounded-lg shadow-sm p-4 border border-gray-200",children:[s.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[s.jsx(Zs,{className:"w-4 h-4 text-gray-500"}),s.jsx("p",{className:"text-xs font-medium text-gray-600",children:"Brouillon"})]}),s.jsx("p",{className:"text-2xl font-bold text-gray-900",children:n.brouillon})]}),s.jsxs("div",{className:"bg-white rounded-lg shadow-sm p-4 border border-orange-300",children:[s.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[s.jsx(un,{className:"w-4 h-4 text-orange-500"}),s.jsx("p",{className:"text-xs font-medium text-orange-600",children:" dclarer"})]}),s.jsx("p",{className:"text-2xl font-bold text-orange-900",children:n.a_declarer})]}),s.jsxs("div",{className:"bg-white rounded-lg shadow-sm p-4 border border-blue-300",children:[s.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[s.jsx(jm,{className:"w-4 h-4 text-blue-500"}),s.jsx("p",{className:"text-xs font-medium text-blue-600",children:"Soumise"})]}),s.jsx("p",{className:"text-2xl font-bold text-blue-900",children:n.soumise})]}),s.jsxs("div",{className:"bg-white rounded-lg shadow-sm p-4 border border-yellow-300",children:[s.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[s.jsx(Ys,{className:"w-4 h-4 text-yellow-500"}),s.jsx("p",{className:"text-xs font-medium text-yellow-600",children:"En cours"})]}),s.jsx("p",{className:"text-2xl font-bold text-yellow-900",children:n.en_cours})]}),s.jsxs("div",{className:"bg-white rounded-lg shadow-sm p-4 border border-green-300",children:[s.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[s.jsx(ii,{className:"w-4 h-4 text-green-500"}),s.jsx("p",{className:"text-xs font-medium text-green-600",children:"Approuve"})]}),s.jsx("p",{className:"text-2xl font-bold text-green-900",children:n.approuvee})]}),s.jsxs("div",{className:"bg-white rounded-lg shadow-sm p-4 border border-red-300",children:[s.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[s.jsx(Sd,{className:"w-4 h-4 text-red-500"}),s.jsx("p",{className:"text-xs font-medium text-red-600",children:"Refuse"})]}),s.jsx("p",{className:"text-2xl font-bold text-red-900",children:n.refusee})]})]})]}),s.jsxs("div",{children:[s.jsx("h2",{className:"text-lg font-semibold text-gray-900 mb-4",children:" Mtriques de Performance"}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[s.jsxs("div",{className:"bg-gradient-to-br from-green-50 to-green-100 rounded-lg shadow-sm p-6 border border-green-200",children:[s.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[s.jsx($0,{className:"w-6 h-6 text-green-600"}),s.jsx("p",{className:"text-sm font-medium text-green-700",children:"Taux d'Approbation"})]}),s.jsxs("p",{className:"text-4xl font-bold text-green-900",children:[i.approvalRate.toFixed(1),"%"]}),s.jsx("div",{className:"mt-3 bg-green-200 rounded-full h-2 overflow-hidden",children:s.jsx("div",{className:"bg-green-600 h-full transition-all duration-500",style:{width:`${i.approvalRate}%`}})})]}),s.jsxs("div",{className:"bg-gradient-to-br from-purple-50 to-purple-100 rounded-lg shadow-sm p-6 border border-purple-200",children:[s.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[s.jsx(Ys,{className:"w-6 h-6 text-purple-600"}),s.jsx("p",{className:"text-sm font-medium text-purple-700",children:"Dlai Moyen de Traitement"})]}),s.jsxs("p",{className:"text-4xl font-bold text-purple-900",children:[i.avgProcessingTime,s.jsx("span",{className:"text-2xl ml-1",children:"jours"})]}),s.jsx("p",{className:"text-xs text-purple-700 mt-2",children:"Entre soumission et validation"})]}),s.jsxs("div",{className:"bg-gradient-to-br from-blue-50 to-blue-100 rounded-lg shadow-sm p-6 border border-blue-200",children:[s.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[s.jsx(W4,{className:"w-6 h-6 text-blue-600"}),s.jsx("p",{className:"text-sm font-medium text-blue-700",children:"Revenus Totaux (Approuves)"})]}),s.jsx("p",{className:"text-3xl font-bold text-blue-900",children:new Intl.NumberFormat("fr-FR",{style:"currency",currency:"MAD",minimumFractionDigits:0}).format(i.totalRevenue)}),s.jsx("p",{className:"text-xs text-blue-700 mt-2",children:"Bas sur les fiches approuves"})]})]})]}),s.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6",children:[s.jsxs("div",{className:"bg-white rounded-lg shadow-sm p-4 border border-gray-200",children:[s.jsxs("h3",{className:"text-sm font-semibold text-gray-900 mb-3 flex items-center gap-2",children:[s.jsx(Zs,{className:"w-4 h-4"}),"Top 3 Segments"]}),s.jsx("div",{className:"space-y-2",children:l.topSegments.length>0?l.topSegments.map((o,f)=>s.jsxs("div",{className:"flex items-center justify-between p-2 bg-gray-50 rounded",children:[s.jsx("span",{className:"text-sm text-gray-700 truncate",children:o.name}),s.jsx("span",{className:"text-sm font-semibold text-gray-900",children:o.count})]},f)):s.jsx("p",{className:"text-xs text-gray-500 italic",children:"Aucune donne"})})]}),s.jsxs("div",{className:"bg-white rounded-lg shadow-sm p-4 border border-gray-200",children:[s.jsxs("h3",{className:"text-sm font-semibold text-gray-900 mb-3 flex items-center gap-2",children:[s.jsx(un,{className:"w-4 h-4"}),"Top 5 Villes"]}),s.jsx("div",{className:"space-y-2",children:l.topCities.length>0?l.topCities.map((o,f)=>s.jsxs("div",{className:"flex items-center justify-between p-2 bg-gray-50 rounded",children:[s.jsx("span",{className:"text-sm text-gray-700 truncate",children:o.name}),s.jsx("span",{className:"text-sm font-semibold text-gray-900",children:o.count})]},f)):s.jsx("p",{className:"text-xs text-gray-500 italic",children:"Aucune donne"})})]}),s.jsxs("div",{className:"bg-white rounded-lg shadow-sm p-4 border border-gray-200",children:[s.jsxs("h3",{className:"text-sm font-semibold text-gray-900 mb-3 flex items-center gap-2",children:[s.jsx(is,{className:"w-4 h-4"}),"Top 5 Professeurs Actifs"]}),s.jsx("div",{className:"space-y-2",children:l.topProfessors.length>0?l.topProfessors.map((o,f)=>s.jsxs("div",{className:"flex items-center justify-between p-2 bg-gray-50 rounded",children:[s.jsx("span",{className:"text-sm text-gray-700 truncate",children:o.full_name}),s.jsx("span",{className:"text-sm font-semibold text-gray-900",children:o.count})]},f)):s.jsx("p",{className:"text-xs text-gray-500 italic",children:"Aucune donne"})})]})]})]})},QV=()=>{const{user:e,isAdmin:t,isGerant:r}=Ni(),l=t?[{title:"Gestion des Segments",description:"Crer et grer les segments de formation",icon:cu,link:"/admin/segments",color:"bg-blue-500"},{title:"Gestion des Villes",description:"Grer les villes et leur affectation",icon:Js,link:"/admin/cities",color:"bg-green-500"},{title:"Gestion des Utilisateurs",description:"Crer et grer les comptes (admin, professeur, grant)",icon:is,link:"/admin/users",color:"bg-purple-500"},{title:"Fiches de Calcul",description:"Crer des templates de fiches de calcul",icon:q0,link:"/admin/calculation-sheets",color:"bg-orange-500"},{title:"Crer des Dclarations",description:"Assigner des fiches de sessions aux professeurs",icon:Vv,link:"/admin/create-declaration",color:"bg-teal-500"},{title:"Gestion des Dclarations",description:"Valider et grer les dclarations des professeurs",icon:Hv,link:"/admin/declarations",color:"bg-indigo-500"},{title:"Analytics & Rapports",description:"Statistiques et analyses de performance des formations",icon:KD,link:"/admin/analytics",color:"bg-pink-500"},{title:"Rapports tudiants",description:"Consulter les rapports dtaills de progression des tudiants",icon:Zs,link:"/admin/student-reports",color:"bg-cyan-500"}]:r?[{title:"Crer des Dclarations",description:"Assigner des fiches de sessions aux professeurs",icon:Vv,link:"/gerant/create-declaration",color:"bg-blue-500"},{title:"Mes Dclarations Cres",description:"Suivre les dclarations que j'ai assignes",icon:eP,link:"/gerant/declarations",color:"bg-green-500"}]:[{title:"Mes Dclarations",description:"Crer et grer mes dclarations de sessions",icon:q0,link:"/professor/declarations",color:"bg-blue-500"}];return s.jsxs(ha,{title:"Tableau de Bord",subtitle:`Bienvenue, ${e?.full_name} (${t?"Administrateur":r?"Grant":"Professeur"})`,children:[s.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-2 gap-6",children:l.map((o,f)=>s.jsx(Ma,{to:o.link,children:s.jsxs(hn,{className:"hover:shadow-lg transition-shadow cursor-pointer h-full",children:[s.jsxs(cf,{children:[s.jsx("div",{className:`${o.color} w-12 h-12 rounded-lg flex items-center justify-center mb-4`,children:s.jsx(o.icon,{className:"h-6 w-6 text-white"})}),s.jsx(uf,{className:"text-xl",children:o.title})]}),s.jsx(mn,{children:s.jsx("p",{className:"text-gray-600",children:o.description})})]})},f))}),t&&s.jsx("div",{className:"mt-6 sm:mt-8",children:s.jsx(XV,{})}),!t&&s.jsxs("div",{className:"mt-6 sm:mt-8",children:[s.jsx("h2",{className:"text-lg sm:text-xl font-semibold mb-3 sm:mb-4",children:"Statistiques Rapides"}),s.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 md:grid-cols-3 gap-4",children:[s.jsx(hn,{children:s.jsx(mn,{className:"pt-6",children:s.jsxs("div",{className:"text-center",children:[s.jsx("p",{className:"text-3xl font-bold text-blue-600",children:"0"}),s.jsx("p",{className:"text-sm text-gray-600 mt-1",children:r?"Dclarations cres":"Mes Fiches"})]})})}),s.jsx(hn,{children:s.jsx(mn,{className:"pt-6",children:s.jsxs("div",{className:"text-center",children:[s.jsx("p",{className:"text-3xl font-bold text-green-600",children:"0 MAD"}),s.jsx("p",{className:"text-sm text-gray-600 mt-1",children:"Revenus Total"})]})})}),s.jsx(hn,{children:s.jsx(mn,{className:"pt-6",children:s.jsxs("div",{className:"text-center",children:[s.jsx("p",{className:"text-3xl font-bold text-orange-600",children:"0 MAD"}),s.jsx("p",{className:"text-sm text-gray-600 mt-1",children:"Charges Total"})]})})})]})]})]})};/*! xlsx.js (C) 2013-present SheetJS -- http://sheetjs.com */var Kv={};Kv.version="0.18.5";var nP=1252,ZV=[874,932,936,949,950,1250,1251,1252,1253,1254,1255,1256,1257,1258,1e4],qN={0:1252,1:65001,2:65001,77:1e4,128:932,129:949,130:1361,134:936,136:950,161:1253,162:1254,163:1258,177:1255,178:1256,186:1257,204:1251,222:874,238:1250,255:1252,69:6969},$N=function(e){ZV.indexOf(e)!=-1&&(nP=qN[0]=e)};function JV(){$N(1252)}var bc=function(e){$N(e)};function HN(){bc(1200),JV()}function TE(e){for(var t=[],r=0,n=e.length;r<n;++r)t[r]=e.charCodeAt(r);return t}function eW(e){for(var t=[],r=0;r<e.length>>1;++r)t[r]=String.fromCharCode(e.charCodeAt(2*r)+(e.charCodeAt(2*r+1)<<8));return t.join("")}function aP(e){for(var t=[],r=0;r<e.length>>1;++r)t[r]=String.fromCharCode(e.charCodeAt(2*r+1)+(e.charCodeAt(2*r)<<8));return t.join("")}var mx=function(e){var t=e.charCodeAt(0),r=e.charCodeAt(1);return t==255&&r==254?eW(e.slice(2)):t==254&&r==255?aP(e.slice(2)):t==65279?e.slice(1):e},H1=function(t){return String.fromCharCode(t)},OE=function(t){return String.fromCharCode(t)},Ix,yd="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=";function Bx(e){for(var t="",r=0,n=0,a=0,i=0,l=0,o=0,f=0,u=0;u<e.length;)r=e.charCodeAt(u++),i=r>>2,n=e.charCodeAt(u++),l=(r&3)<<4|n>>4,a=e.charCodeAt(u++),o=(n&15)<<2|a>>6,f=a&63,isNaN(n)?o=f=64:isNaN(a)&&(f=64),t+=yd.charAt(i)+yd.charAt(l)+yd.charAt(o)+yd.charAt(f);return t}function to(e){var t="",r=0,n=0,a=0,i=0,l=0,o=0,f=0;e=e.replace(/[^\w\+\/\=]/g,"");for(var u=0;u<e.length;)i=yd.indexOf(e.charAt(u++)),l=yd.indexOf(e.charAt(u++)),r=i<<2|l>>4,t+=String.fromCharCode(r),o=yd.indexOf(e.charAt(u++)),n=(l&15)<<4|o>>2,o!==64&&(t+=String.fromCharCode(n)),f=yd.indexOf(e.charAt(u++)),a=(o&3)<<6|f,f!==64&&(t+=String.fromCharCode(a));return t}var Cr=(function(){return typeof Buffer<"u"&&typeof process<"u"&&typeof process.versions<"u"&&!!process.versions.node})(),bf=(function(){if(typeof Buffer<"u"){var e=!Buffer.from;if(!e)try{Buffer.from("foo","utf8")}catch{e=!0}return e?function(t,r){return r?new Buffer(t,r):new Buffer(t)}:Buffer.from.bind(Buffer)}return function(){}})();function jd(e){return Cr?Buffer.alloc?Buffer.alloc(e):new Buffer(e):typeof Uint8Array<"u"?new Uint8Array(e):new Array(e)}function DE(e){return Cr?Buffer.allocUnsafe?Buffer.allocUnsafe(e):new Buffer(e):typeof Uint8Array<"u"?new Uint8Array(e):new Array(e)}var Xl=function(t){return Cr?bf(t,"binary"):t.split("").map(function(r){return r.charCodeAt(0)&255})};function n2(e){if(typeof ArrayBuffer>"u")return Xl(e);for(var t=new ArrayBuffer(e.length),r=new Uint8Array(t),n=0;n!=e.length;++n)r[n]=e.charCodeAt(n)&255;return t}function Md(e){if(Array.isArray(e))return e.map(function(n){return String.fromCharCode(n)}).join("");for(var t=[],r=0;r<e.length;++r)t[r]=String.fromCharCode(e[r]);return t.join("")}function tW(e){if(typeof Uint8Array>"u")throw new Error("Unsupported");return new Uint8Array(e)}function VN(e){if(typeof ArrayBuffer>"u")throw new Error("Unsupported");if(e instanceof ArrayBuffer)return VN(new Uint8Array(e));for(var t=new Array(e.length),r=0;r<e.length;++r)t[r]=e[r];return t}var Ii=Cr?function(e){return Buffer.concat(e.map(function(t){return Buffer.isBuffer(t)?t:bf(t)}))}:function(e){if(typeof Uint8Array<"u"){var t=0,r=0;for(t=0;t<e.length;++t)r+=e[t].length;var n=new Uint8Array(r),a=0;for(t=0,r=0;t<e.length;r+=a,++t)if(a=e[t].length,e[t]instanceof Uint8Array)n.set(e[t],r);else{if(typeof e[t]=="string")throw"wtf";n.set(new Uint8Array(e[t]),r)}return n}return[].concat.apply([],e.map(function(i){return Array.isArray(i)?i:[].slice.call(i)}))};function rW(e){for(var t=[],r=0,n=e.length+250,a=jd(e.length+255),i=0;i<e.length;++i){var l=e.charCodeAt(i);if(l<128)a[r++]=l;else if(l<2048)a[r++]=192|l>>6&31,a[r++]=128|l&63;else if(l>=55296&&l<57344){l=(l&1023)+64;var o=e.charCodeAt(++i)&1023;a[r++]=240|l>>8&7,a[r++]=128|l>>2&63,a[r++]=128|o>>6&15|(l&3)<<4,a[r++]=128|o&63}else a[r++]=224|l>>12&15,a[r++]=128|l>>6&63,a[r++]=128|l&63;r>n&&(t.push(a.slice(0,r)),r=0,a=jd(65535),n=65530)}return t.push(a.slice(0,r)),Ii(t)}var el=/\u0000/g,px=/[\u0001-\u0006]/g;function Am(e){for(var t="",r=e.length-1;r>=0;)t+=e.charAt(r--);return t}function wc(e,t){var r=""+e;return r.length>=t?r:Fa("0",t-r.length)+r}function WN(e,t){var r=""+e;return r.length>=t?r:Fa(" ",t-r.length)+r}function Yv(e,t){var r=""+e;return r.length>=t?r:r+Fa(" ",t-r.length)}function nW(e,t){var r=""+Math.round(e);return r.length>=t?r:Fa("0",t-r.length)+r}function aW(e,t){var r=""+e;return r.length>=t?r:Fa("0",t-r.length)+r}var PE=Math.pow(2,32);function om(e,t){if(e>PE||e<-PE)return nW(e,t);var r=Math.round(e);return aW(r,t)}function Xv(e,t){return t=t||0,e.length>=7+t&&(e.charCodeAt(t)|32)===103&&(e.charCodeAt(t+1)|32)===101&&(e.charCodeAt(t+2)|32)===110&&(e.charCodeAt(t+3)|32)===101&&(e.charCodeAt(t+4)|32)===114&&(e.charCodeAt(t+5)|32)===97&&(e.charCodeAt(t+6)|32)===108}var FE=[["Sun","Sunday"],["Mon","Monday"],["Tue","Tuesday"],["Wed","Wednesday"],["Thu","Thursday"],["Fri","Friday"],["Sat","Saturday"]],bw=[["J","Jan","January"],["F","Feb","February"],["M","Mar","March"],["A","Apr","April"],["M","May","May"],["J","Jun","June"],["J","Jul","July"],["A","Aug","August"],["S","Sep","September"],["O","Oct","October"],["N","Nov","November"],["D","Dec","December"]];function iW(e){return e||(e={}),e[0]="General",e[1]="0",e[2]="0.00",e[3]="#,##0",e[4]="#,##0.00",e[9]="0%",e[10]="0.00%",e[11]="0.00E+00",e[12]="# ?/?",e[13]="# ??/??",e[14]="m/d/yy",e[15]="d-mmm-yy",e[16]="d-mmm",e[17]="mmm-yy",e[18]="h:mm AM/PM",e[19]="h:mm:ss AM/PM",e[20]="h:mm",e[21]="h:mm:ss",e[22]="m/d/yy h:mm",e[37]="#,##0 ;(#,##0)",e[38]="#,##0 ;[Red](#,##0)",e[39]="#,##0.00;(#,##0.00)",e[40]="#,##0.00;[Red](#,##0.00)",e[45]="mm:ss",e[46]="[h]:mm:ss",e[47]="mmss.0",e[48]="##0.0E+0",e[49]="@",e[56]='"/ "hh""mm""ss" "',e}var cr={0:"General",1:"0",2:"0.00",3:"#,##0",4:"#,##0.00",9:"0%",10:"0.00%",11:"0.00E+00",12:"# ?/?",13:"# ??/??",14:"m/d/yy",15:"d-mmm-yy",16:"d-mmm",17:"mmm-yy",18:"h:mm AM/PM",19:"h:mm:ss AM/PM",20:"h:mm",21:"h:mm:ss",22:"m/d/yy h:mm",37:"#,##0 ;(#,##0)",38:"#,##0 ;[Red](#,##0)",39:"#,##0.00;(#,##0.00)",40:"#,##0.00;[Red](#,##0.00)",45:"mm:ss",46:"[h]:mm:ss",47:"mmss.0",48:"##0.0E+0",49:"@",56:'"/ "hh""mm""ss" "'},LE={5:37,6:38,7:39,8:40,23:0,24:0,25:0,26:0,27:14,28:14,29:14,30:14,31:14,50:14,51:14,52:14,53:14,54:14,55:14,56:14,57:14,58:14,59:1,60:2,61:3,62:4,67:9,68:10,69:12,70:13,71:14,72:14,73:15,74:16,75:17,76:20,77:21,78:22,79:45,80:46,81:47,82:0},sW={5:'"$"#,##0_);\\("$"#,##0\\)',63:'"$"#,##0_);\\("$"#,##0\\)',6:'"$"#,##0_);[Red]\\("$"#,##0\\)',64:'"$"#,##0_);[Red]\\("$"#,##0\\)',7:'"$"#,##0.00_);\\("$"#,##0.00\\)',65:'"$"#,##0.00_);\\("$"#,##0.00\\)',8:'"$"#,##0.00_);[Red]\\("$"#,##0.00\\)',66:'"$"#,##0.00_);[Red]\\("$"#,##0.00\\)',41:'_(* #,##0_);_(* \\(#,##0\\);_(* "-"_);_(@_)',42:'_("$"* #,##0_);_("$"* \\(#,##0\\);_("$"* "-"_);_(@_)',43:'_(* #,##0.00_);_(* \\(#,##0.00\\);_(* "-"??_);_(@_)',44:'_("$"* #,##0.00_);_("$"* \\(#,##0.00\\);_("$"* "-"??_);_(@_)'};function Qv(e,t,r){for(var n=e<0?-1:1,a=e*n,i=0,l=1,o=0,f=1,u=0,h=0,p=Math.floor(a);u<t&&(p=Math.floor(a),o=p*l+i,h=p*u+f,!(a-p<5e-8));)a=1/(a-p),i=l,l=o,f=u,u=h;if(h>t&&(u>t?(h=f,o=i):(h=u,o=l)),!r)return[0,n*o,h];var g=Math.floor(n*o/h);return[g,n*o-g*h,h]}function E0(e,t,r){if(e>2958465||e<0)return null;var n=e|0,a=Math.floor(86400*(e-n)),i=0,l=[],o={D:n,T:a,u:86400*(e-n)-a,y:0,m:0,d:0,H:0,M:0,S:0,q:0};if(Math.abs(o.u)<1e-6&&(o.u=0),t&&t.date1904&&(n+=1462),o.u>.9999&&(o.u=0,++a==86400&&(o.T=a=0,++n,++o.D)),n===60)l=r?[1317,10,29]:[1900,2,29],i=3;else if(n===0)l=r?[1317,8,29]:[1900,1,0],i=6;else{n>60&&--n;var f=new Date(1900,0,1);f.setDate(f.getDate()+n-1),l=[f.getFullYear(),f.getMonth()+1,f.getDate()],i=f.getDay(),n<60&&(i=(i+6)%7),r&&(i=dW(f,l))}return o.y=l[0],o.m=l[1],o.d=l[2],o.S=a%60,a=Math.floor(a/60),o.M=a%60,a=Math.floor(a/60),o.H=a,o.q=i,o}var iP=new Date(1899,11,31,0,0,0),lW=iP.getTime(),oW=new Date(1900,2,1,0,0,0);function sP(e,t){var r=e.getTime();return t?r-=1461*24*60*60*1e3:e>=oW&&(r+=1440*60*1e3),(r-(lW+(e.getTimezoneOffset()-iP.getTimezoneOffset())*6e4))/(1440*60*1e3)}function GN(e){return e.indexOf(".")==-1?e:e.replace(/(?:\.0*|(\.\d*[1-9])0+)$/,"$1")}function cW(e){return e.indexOf("E")==-1?e:e.replace(/(?:\.0*|(\.\d*[1-9])0+)[Ee]/,"$1E").replace(/(E[+-])(\d)$/,"$10$2")}function uW(e){var t=e<0?12:11,r=GN(e.toFixed(12));return r.length<=t||(r=e.toPrecision(10),r.length<=t)?r:e.toExponential(5)}function fW(e){var t=GN(e.toFixed(11));return t.length>(e<0?12:11)||t==="0"||t==="-0"?e.toPrecision(6):t}function Ux(e){var t=Math.floor(Math.log(Math.abs(e))*Math.LOG10E),r;return t>=-4&&t<=-1?r=e.toPrecision(10+t):Math.abs(t)<=9?r=uW(e):t===10?r=e.toFixed(10).substr(0,12):r=fW(e),GN(cW(r.toUpperCase()))}function H0(e,t){switch(typeof e){case"string":return e;case"boolean":return e?"TRUE":"FALSE";case"number":return(e|0)===e?e.toString(10):Ux(e);case"undefined":return"";case"object":if(e==null)return"";if(e instanceof Date)return Bo(14,sP(e,t&&t.date1904),t)}throw new Error("unsupported value in General format: "+e)}function dW(e,t){t[0]-=581;var r=e.getDay();return e<60&&(r=(r+6)%7),r}function hW(e,t,r,n){var a="",i=0,l=0,o=r.y,f,u=0;switch(e){case 98:o=r.y+543;case 121:switch(t.length){case 1:case 2:f=o%100,u=2;break;default:f=o%1e4,u=4;break}break;case 109:switch(t.length){case 1:case 2:f=r.m,u=t.length;break;case 3:return bw[r.m-1][1];case 5:return bw[r.m-1][0];default:return bw[r.m-1][2]}break;case 100:switch(t.length){case 1:case 2:f=r.d,u=t.length;break;case 3:return FE[r.q][0];default:return FE[r.q][1]}break;case 104:switch(t.length){case 1:case 2:f=1+(r.H+11)%12,u=t.length;break;default:throw"bad hour format: "+t}break;case 72:switch(t.length){case 1:case 2:f=r.H,u=t.length;break;default:throw"bad hour format: "+t}break;case 77:switch(t.length){case 1:case 2:f=r.M,u=t.length;break;default:throw"bad minute format: "+t}break;case 115:if(t!="s"&&t!="ss"&&t!=".0"&&t!=".00"&&t!=".000")throw"bad second format: "+t;return r.u===0&&(t=="s"||t=="ss")?wc(r.S,t.length):(n>=2?l=n===3?1e3:100:l=n===1?10:1,i=Math.round(l*(r.S+r.u)),i>=60*l&&(i=0),t==="s"?i===0?"0":""+i/l:(a=wc(i,2+n),t==="ss"?a.substr(0,2):"."+a.substr(2,t.length-1)));case 90:switch(t){case"[h]":case"[hh]":f=r.D*24+r.H;break;case"[m]":case"[mm]":f=(r.D*24+r.H)*60+r.M;break;case"[s]":case"[ss]":f=((r.D*24+r.H)*60+r.M)*60+Math.round(r.S+r.u);break;default:throw"bad abstime format: "+t}u=t.length===3?1:2;break;case 101:f=o,u=1;break}var h=u>0?wc(f,u):"";return h}function bd(e){var t=3;if(e.length<=t)return e;for(var r=e.length%t,n=e.substr(0,r);r!=e.length;r+=t)n+=(n.length>0?",":"")+e.substr(r,t);return n}var lP=/%/g;function mW(e,t,r){var n=t.replace(lP,""),a=t.length-n.length;return rf(e,n,r*Math.pow(10,2*a))+Fa("%",a)}function pW(e,t,r){for(var n=t.length-1;t.charCodeAt(n-1)===44;)--n;return rf(e,t.substr(0,n),r/Math.pow(10,3*(t.length-n)))}function oP(e,t){var r,n=e.indexOf("E")-e.indexOf(".")-1;if(e.match(/^#+0.0E\+0$/)){if(t==0)return"0.0E+0";if(t<0)return"-"+oP(e,-t);var a=e.indexOf(".");a===-1&&(a=e.indexOf("E"));var i=Math.floor(Math.log(t)*Math.LOG10E)%a;if(i<0&&(i+=a),r=(t/Math.pow(10,i)).toPrecision(n+1+(a+i)%a),r.indexOf("e")===-1){var l=Math.floor(Math.log(t)*Math.LOG10E);for(r.indexOf(".")===-1?r=r.charAt(0)+"."+r.substr(1)+"E+"+(l-r.length+i):r+="E+"+(l-i);r.substr(0,2)==="0.";)r=r.charAt(0)+r.substr(2,a)+"."+r.substr(2+a),r=r.replace(/^0+([1-9])/,"$1").replace(/^0+\./,"0.");r=r.replace(/\+-/,"-")}r=r.replace(/^([+-]?)(\d*)\.(\d*)[Ee]/,function(o,f,u,h){return f+u+h.substr(0,(a+i)%a)+"."+h.substr(i)+"E"})}else r=t.toExponential(n);return e.match(/E\+00$/)&&r.match(/e[+-]\d$/)&&(r=r.substr(0,r.length-1)+"0"+r.charAt(r.length-1)),e.match(/E\-/)&&r.match(/e\+/)&&(r=r.replace(/e\+/,"e")),r.replace("e","E")}var cP=/# (\?+)( ?)\/( ?)(\d+)/;function xW(e,t,r){var n=parseInt(e[4],10),a=Math.round(t*n),i=Math.floor(a/n),l=a-i*n,o=n;return r+(i===0?"":""+i)+" "+(l===0?Fa(" ",e[1].length+1+e[4].length):WN(l,e[1].length)+e[2]+"/"+e[3]+wc(o,e[4].length))}function gW(e,t,r){return r+(t===0?"":""+t)+Fa(" ",e[1].length+2+e[4].length)}var uP=/^#*0*\.([0#]+)/,fP=/\).*[0#]/,dP=/\(###\) ###\\?-####/;function $s(e){for(var t="",r,n=0;n!=e.length;++n)switch(r=e.charCodeAt(n)){case 35:break;case 63:t+=" ";break;case 48:t+="0";break;default:t+=String.fromCharCode(r)}return t}function ME(e,t){var r=Math.pow(10,t);return""+Math.round(e*r)/r}function RE(e,t){var r=e-Math.floor(e),n=Math.pow(10,t);return t<(""+Math.round(r*n)).length?0:Math.round(r*n)}function vW(e,t){return t<(""+Math.round((e-Math.floor(e))*Math.pow(10,t))).length?1:0}function yW(e){return e<2147483647&&e>-2147483648?""+(e>=0?e|0:e-1|0):""+Math.floor(e)}function ko(e,t,r){if(e.charCodeAt(0)===40&&!t.match(fP)){var n=t.replace(/\( */,"").replace(/ \)/,"").replace(/\)/,"");return r>=0?ko("n",n,r):"("+ko("n",n,-r)+")"}if(t.charCodeAt(t.length-1)===44)return pW(e,t,r);if(t.indexOf("%")!==-1)return mW(e,t,r);if(t.indexOf("E")!==-1)return oP(t,r);if(t.charCodeAt(0)===36)return"$"+ko(e,t.substr(t.charAt(1)==" "?2:1),r);var a,i,l,o,f=Math.abs(r),u=r<0?"-":"";if(t.match(/^00+$/))return u+om(f,t.length);if(t.match(/^[#?]+$/))return a=om(r,0),a==="0"&&(a=""),a.length>t.length?a:$s(t.substr(0,t.length-a.length))+a;if(i=t.match(cP))return xW(i,f,u);if(t.match(/^#+0+$/))return u+om(f,t.length-t.indexOf("0"));if(i=t.match(uP))return a=ME(r,i[1].length).replace(/^([^\.]+)$/,"$1."+$s(i[1])).replace(/\.$/,"."+$s(i[1])).replace(/\.(\d*)$/,function(b,y){return"."+y+Fa("0",$s(i[1]).length-y.length)}),t.indexOf("0.")!==-1?a:a.replace(/^0\./,".");if(t=t.replace(/^#+([0.])/,"$1"),i=t.match(/^(0*)\.(#*)$/))return u+ME(f,i[2].length).replace(/\.(\d*[1-9])0*$/,".$1").replace(/^(-?\d*)$/,"$1.").replace(/^0\./,i[1].length?"0.":".");if(i=t.match(/^#{1,3},##0(\.?)$/))return u+bd(om(f,0));if(i=t.match(/^#,##0\.([#0]*0)$/))return r<0?"-"+ko(e,t,-r):bd(""+(Math.floor(r)+vW(r,i[1].length)))+"."+wc(RE(r,i[1].length),i[1].length);if(i=t.match(/^#,#*,#0/))return ko(e,t.replace(/^#,#*,/,""),r);if(i=t.match(/^([0#]+)(\\?-([0#]+))+$/))return a=Am(ko(e,t.replace(/[\\-]/g,""),r)),l=0,Am(Am(t.replace(/\\/g,"")).replace(/[0#]/g,function(b){return l<a.length?a.charAt(l++):b==="0"?"0":""}));if(t.match(dP))return a=ko(e,"##########",r),"("+a.substr(0,3)+") "+a.substr(3,3)+"-"+a.substr(6);var h="";if(i=t.match(/^([#0?]+)( ?)\/( ?)([#0?]+)/))return l=Math.min(i[4].length,7),o=Qv(f,Math.pow(10,l)-1,!1),a=""+u,h=rf("n",i[1],o[1]),h.charAt(h.length-1)==" "&&(h=h.substr(0,h.length-1)+"0"),a+=h+i[2]+"/"+i[3],h=Yv(o[2],l),h.length<i[4].length&&(h=$s(i[4].substr(i[4].length-h.length))+h),a+=h,a;if(i=t.match(/^# ([#0?]+)( ?)\/( ?)([#0?]+)/))return l=Math.min(Math.max(i[1].length,i[4].length),7),o=Qv(f,Math.pow(10,l)-1,!0),u+(o[0]||(o[1]?"":"0"))+" "+(o[1]?WN(o[1],l)+i[2]+"/"+i[3]+Yv(o[2],l):Fa(" ",2*l+1+i[2].length+i[3].length));if(i=t.match(/^[#0?]+$/))return a=om(r,0),t.length<=a.length?a:$s(t.substr(0,t.length-a.length))+a;if(i=t.match(/^([#0?]+)\.([#0]+)$/)){a=""+r.toFixed(Math.min(i[2].length,10)).replace(/([^0])0+$/,"$1"),l=a.indexOf(".");var p=t.indexOf(".")-l,g=t.length-a.length-p;return $s(t.substr(0,p)+a+t.substr(t.length-g))}if(i=t.match(/^00,000\.([#0]*0)$/))return l=RE(r,i[1].length),r<0?"-"+ko(e,t,-r):bd(yW(r)).replace(/^\d,\d{3}$/,"0$&").replace(/^\d*$/,function(b){return"00,"+(b.length<3?wc(0,3-b.length):"")+b})+"."+wc(l,i[1].length);switch(t){case"###,##0.00":return ko(e,"#,##0.00",r);case"###,###":case"##,###":case"#,###":var x=bd(om(f,0));return x!=="0"?u+x:"";case"###,###.00":return ko(e,"###,##0.00",r).replace(/^0\./,".");case"#,###.00":return ko(e,"#,##0.00",r).replace(/^0\./,".")}throw new Error("unsupported format |"+t+"|")}function bW(e,t,r){for(var n=t.length-1;t.charCodeAt(n-1)===44;)--n;return rf(e,t.substr(0,n),r/Math.pow(10,3*(t.length-n)))}function wW(e,t,r){var n=t.replace(lP,""),a=t.length-n.length;return rf(e,n,r*Math.pow(10,2*a))+Fa("%",a)}function hP(e,t){var r,n=e.indexOf("E")-e.indexOf(".")-1;if(e.match(/^#+0.0E\+0$/)){if(t==0)return"0.0E+0";if(t<0)return"-"+hP(e,-t);var a=e.indexOf(".");a===-1&&(a=e.indexOf("E"));var i=Math.floor(Math.log(t)*Math.LOG10E)%a;if(i<0&&(i+=a),r=(t/Math.pow(10,i)).toPrecision(n+1+(a+i)%a),!r.match(/[Ee]/)){var l=Math.floor(Math.log(t)*Math.LOG10E);r.indexOf(".")===-1?r=r.charAt(0)+"."+r.substr(1)+"E+"+(l-r.length+i):r+="E+"+(l-i),r=r.replace(/\+-/,"-")}r=r.replace(/^([+-]?)(\d*)\.(\d*)[Ee]/,function(o,f,u,h){return f+u+h.substr(0,(a+i)%a)+"."+h.substr(i)+"E"})}else r=t.toExponential(n);return e.match(/E\+00$/)&&r.match(/e[+-]\d$/)&&(r=r.substr(0,r.length-1)+"0"+r.charAt(r.length-1)),e.match(/E\-/)&&r.match(/e\+/)&&(r=r.replace(/e\+/,"e")),r.replace("e","E")}function ru(e,t,r){if(e.charCodeAt(0)===40&&!t.match(fP)){var n=t.replace(/\( */,"").replace(/ \)/,"").replace(/\)/,"");return r>=0?ru("n",n,r):"("+ru("n",n,-r)+")"}if(t.charCodeAt(t.length-1)===44)return bW(e,t,r);if(t.indexOf("%")!==-1)return wW(e,t,r);if(t.indexOf("E")!==-1)return hP(t,r);if(t.charCodeAt(0)===36)return"$"+ru(e,t.substr(t.charAt(1)==" "?2:1),r);var a,i,l,o,f=Math.abs(r),u=r<0?"-":"";if(t.match(/^00+$/))return u+wc(f,t.length);if(t.match(/^[#?]+$/))return a=""+r,r===0&&(a=""),a.length>t.length?a:$s(t.substr(0,t.length-a.length))+a;if(i=t.match(cP))return gW(i,f,u);if(t.match(/^#+0+$/))return u+wc(f,t.length-t.indexOf("0"));if(i=t.match(uP))return a=(""+r).replace(/^([^\.]+)$/,"$1."+$s(i[1])).replace(/\.$/,"."+$s(i[1])),a=a.replace(/\.(\d*)$/,function(b,y){return"."+y+Fa("0",$s(i[1]).length-y.length)}),t.indexOf("0.")!==-1?a:a.replace(/^0\./,".");if(t=t.replace(/^#+([0.])/,"$1"),i=t.match(/^(0*)\.(#*)$/))return u+(""+f).replace(/\.(\d*[1-9])0*$/,".$1").replace(/^(-?\d*)$/,"$1.").replace(/^0\./,i[1].length?"0.":".");if(i=t.match(/^#{1,3},##0(\.?)$/))return u+bd(""+f);if(i=t.match(/^#,##0\.([#0]*0)$/))return r<0?"-"+ru(e,t,-r):bd(""+r)+"."+Fa("0",i[1].length);if(i=t.match(/^#,#*,#0/))return ru(e,t.replace(/^#,#*,/,""),r);if(i=t.match(/^([0#]+)(\\?-([0#]+))+$/))return a=Am(ru(e,t.replace(/[\\-]/g,""),r)),l=0,Am(Am(t.replace(/\\/g,"")).replace(/[0#]/g,function(b){return l<a.length?a.charAt(l++):b==="0"?"0":""}));if(t.match(dP))return a=ru(e,"##########",r),"("+a.substr(0,3)+") "+a.substr(3,3)+"-"+a.substr(6);var h="";if(i=t.match(/^([#0?]+)( ?)\/( ?)([#0?]+)/))return l=Math.min(i[4].length,7),o=Qv(f,Math.pow(10,l)-1,!1),a=""+u,h=rf("n",i[1],o[1]),h.charAt(h.length-1)==" "&&(h=h.substr(0,h.length-1)+"0"),a+=h+i[2]+"/"+i[3],h=Yv(o[2],l),h.length<i[4].length&&(h=$s(i[4].substr(i[4].length-h.length))+h),a+=h,a;if(i=t.match(/^# ([#0?]+)( ?)\/( ?)([#0?]+)/))return l=Math.min(Math.max(i[1].length,i[4].length),7),o=Qv(f,Math.pow(10,l)-1,!0),u+(o[0]||(o[1]?"":"0"))+" "+(o[1]?WN(o[1],l)+i[2]+"/"+i[3]+Yv(o[2],l):Fa(" ",2*l+1+i[2].length+i[3].length));if(i=t.match(/^[#0?]+$/))return a=""+r,t.length<=a.length?a:$s(t.substr(0,t.length-a.length))+a;if(i=t.match(/^([#0]+)\.([#0]+)$/)){a=""+r.toFixed(Math.min(i[2].length,10)).replace(/([^0])0+$/,"$1"),l=a.indexOf(".");var p=t.indexOf(".")-l,g=t.length-a.length-p;return $s(t.substr(0,p)+a+t.substr(t.length-g))}if(i=t.match(/^00,000\.([#0]*0)$/))return r<0?"-"+ru(e,t,-r):bd(""+r).replace(/^\d,\d{3}$/,"0$&").replace(/^\d*$/,function(b){return"00,"+(b.length<3?wc(0,3-b.length):"")+b})+"."+wc(0,i[1].length);switch(t){case"###,###":case"##,###":case"#,###":var x=bd(""+f);return x!=="0"?u+x:"";default:if(t.match(/\.[0#?]*$/))return ru(e,t.slice(0,t.lastIndexOf(".")),r)+$s(t.slice(t.lastIndexOf(".")))}throw new Error("unsupported format |"+t+"|")}function rf(e,t,r){return(r|0)===r?ru(e,t,r):ko(e,t,r)}function _W(e){for(var t=[],r=!1,n=0,a=0;n<e.length;++n)switch(e.charCodeAt(n)){case 34:r=!r;break;case 95:case 42:case 92:++n;break;case 59:t[t.length]=e.substr(a,n-a),a=n+1}if(t[t.length]=e.substr(a),r===!0)throw new Error("Format |"+e+"| unterminated string ");return t}var mP=/\[[HhMmSs\u0E0A\u0E19\u0E17]*\]/;function tp(e){for(var t=0,r="",n="";t<e.length;)switch(r=e.charAt(t)){case"G":Xv(e,t)&&(t+=6),t++;break;case'"':for(;e.charCodeAt(++t)!==34&&t<e.length;);++t;break;case"\\":t+=2;break;case"_":t+=2;break;case"@":++t;break;case"B":case"b":if(e.charAt(t+1)==="1"||e.charAt(t+1)==="2")return!0;case"M":case"D":case"Y":case"H":case"S":case"E":case"m":case"d":case"y":case"h":case"s":case"e":case"g":return!0;case"A":case"a":case"":if(e.substr(t,3).toUpperCase()==="A/P"||e.substr(t,5).toUpperCase()==="AM/PM"||e.substr(t,5).toUpperCase()==="/")return!0;++t;break;case"[":for(n=r;e.charAt(t++)!=="]"&&t<e.length;)n+=e.charAt(t);if(n.match(mP))return!0;break;case".":case"0":case"#":for(;t<e.length&&("0#?.,E+-%".indexOf(r=e.charAt(++t))>-1||r=="\\"&&e.charAt(t+1)=="-"&&"0#".indexOf(e.charAt(t+2))>-1););break;case"?":for(;e.charAt(++t)===r;);break;case"*":++t,(e.charAt(t)==" "||e.charAt(t)=="*")&&++t;break;case"(":case")":++t;break;case"1":case"2":case"3":case"4":case"5":case"6":case"7":case"8":case"9":for(;t<e.length&&"0123456789".indexOf(e.charAt(++t))>-1;);break;case" ":++t;break;default:++t;break}return!1}function NW(e,t,r,n){for(var a=[],i="",l=0,o="",f="t",u,h,p,g="H";l<e.length;)switch(o=e.charAt(l)){case"G":if(!Xv(e,l))throw new Error("unrecognized character "+o+" in "+e);a[a.length]={t:"G",v:"General"},l+=7;break;case'"':for(i="";(p=e.charCodeAt(++l))!==34&&l<e.length;)i+=String.fromCharCode(p);a[a.length]={t:"t",v:i},++l;break;case"\\":var x=e.charAt(++l),b=x==="("||x===")"?x:"t";a[a.length]={t:b,v:x},++l;break;case"_":a[a.length]={t:"t",v:" "},l+=2;break;case"@":a[a.length]={t:"T",v:t},++l;break;case"B":case"b":if(e.charAt(l+1)==="1"||e.charAt(l+1)==="2"){if(u==null&&(u=E0(t,r,e.charAt(l+1)==="2"),u==null))return"";a[a.length]={t:"X",v:e.substr(l,2)},f=o,l+=2;break}case"M":case"D":case"Y":case"H":case"S":case"E":o=o.toLowerCase();case"m":case"d":case"y":case"h":case"s":case"e":case"g":if(t<0||u==null&&(u=E0(t,r),u==null))return"";for(i=o;++l<e.length&&e.charAt(l).toLowerCase()===o;)i+=o;o==="m"&&f.toLowerCase()==="h"&&(o="M"),o==="h"&&(o=g),a[a.length]={t:o,v:i},f=o;break;case"A":case"a":case"":var y={t:o,v:o};if(u==null&&(u=E0(t,r)),e.substr(l,3).toUpperCase()==="A/P"?(u!=null&&(y.v=u.H>=12?"P":"A"),y.t="T",g="h",l+=3):e.substr(l,5).toUpperCase()==="AM/PM"?(u!=null&&(y.v=u.H>=12?"PM":"AM"),y.t="T",l+=5,g="h"):e.substr(l,5).toUpperCase()==="/"?(u!=null&&(y.v=u.H>=12?"":""),y.t="T",l+=5,g="h"):(y.t="t",++l),u==null&&y.t==="T")return"";a[a.length]=y,f=o;break;case"[":for(i=o;e.charAt(l++)!=="]"&&l<e.length;)i+=e.charAt(l);if(i.slice(-1)!=="]")throw'unterminated "[" block: |'+i+"|";if(i.match(mP)){if(u==null&&(u=E0(t,r),u==null))return"";a[a.length]={t:"Z",v:i.toLowerCase()},f=i.charAt(1)}else i.indexOf("$")>-1&&(i=(i.match(/\$([^-\[\]]*)/)||[])[1]||"$",tp(e)||(a[a.length]={t:"t",v:i}));break;case".":if(u!=null){for(i=o;++l<e.length&&(o=e.charAt(l))==="0";)i+=o;a[a.length]={t:"s",v:i};break}case"0":case"#":for(i=o;++l<e.length&&"0#?.,E+-%".indexOf(o=e.charAt(l))>-1;)i+=o;a[a.length]={t:"n",v:i};break;case"?":for(i=o;e.charAt(++l)===o;)i+=o;a[a.length]={t:o,v:i},f=o;break;case"*":++l,(e.charAt(l)==" "||e.charAt(l)=="*")&&++l;break;case"(":case")":a[a.length]={t:n===1?"t":o,v:o},++l;break;case"1":case"2":case"3":case"4":case"5":case"6":case"7":case"8":case"9":for(i=o;l<e.length&&"0123456789".indexOf(e.charAt(++l))>-1;)i+=e.charAt(l);a[a.length]={t:"D",v:i};break;case" ":a[a.length]={t:o,v:o},++l;break;case"$":a[a.length]={t:"t",v:"$"},++l;break;default:if(",$-+/():!^&'~{}<>=acfijklopqrtuvwxzP".indexOf(o)===-1)throw new Error("unrecognized character "+o+" in "+e);a[a.length]={t:"t",v:o},++l;break}var w=0,_=0,E;for(l=a.length-1,f="t";l>=0;--l)switch(a[l].t){case"h":case"H":a[l].t=g,f="h",w<1&&(w=1);break;case"s":(E=a[l].v.match(/\.0+$/))&&(_=Math.max(_,E[0].length-1)),w<3&&(w=3);case"d":case"y":case"M":case"e":f=a[l].t;break;case"m":f==="s"&&(a[l].t="M",w<2&&(w=2));break;case"X":break;case"Z":w<1&&a[l].v.match(/[Hh]/)&&(w=1),w<2&&a[l].v.match(/[Mm]/)&&(w=2),w<3&&a[l].v.match(/[Ss]/)&&(w=3)}switch(w){case 0:break;case 1:u.u>=.5&&(u.u=0,++u.S),u.S>=60&&(u.S=0,++u.M),u.M>=60&&(u.M=0,++u.H);break;case 2:u.u>=.5&&(u.u=0,++u.S),u.S>=60&&(u.S=0,++u.M);break}var A="",O;for(l=0;l<a.length;++l)switch(a[l].t){case"t":case"T":case" ":case"D":break;case"X":a[l].v="",a[l].t=";";break;case"d":case"m":case"y":case"h":case"H":case"M":case"s":case"e":case"b":case"Z":a[l].v=hW(a[l].t.charCodeAt(0),a[l].v,u,_),a[l].t="t";break;case"n":case"?":for(O=l+1;a[O]!=null&&((o=a[O].t)==="?"||o==="D"||(o===" "||o==="t")&&a[O+1]!=null&&(a[O+1].t==="?"||a[O+1].t==="t"&&a[O+1].v==="/")||a[l].t==="("&&(o===" "||o==="n"||o===")")||o==="t"&&(a[O].v==="/"||a[O].v===" "&&a[O+1]!=null&&a[O+1].t=="?"));)a[l].v+=a[O].v,a[O]={v:"",t:";"},++O;A+=a[l].v,l=O-1;break;case"G":a[l].t="t",a[l].v=H0(t,r);break}var D="",R,P;if(A.length>0){A.charCodeAt(0)==40?(R=t<0&&A.charCodeAt(0)===45?-t:t,P=rf("n",A,R)):(R=t<0&&n>1?-t:t,P=rf("n",A,R),R<0&&a[0]&&a[0].t=="t"&&(P=P.substr(1),a[0].v="-"+a[0].v)),O=P.length-1;var T=a.length;for(l=0;l<a.length;++l)if(a[l]!=null&&a[l].t!="t"&&a[l].v.indexOf(".")>-1){T=l;break}var B=a.length;if(T===a.length&&P.indexOf("E")===-1){for(l=a.length-1;l>=0;--l)a[l]==null||"n?".indexOf(a[l].t)===-1||(O>=a[l].v.length-1?(O-=a[l].v.length,a[l].v=P.substr(O+1,a[l].v.length)):O<0?a[l].v="":(a[l].v=P.substr(0,O+1),O=-1),a[l].t="t",B=l);O>=0&&B<a.length&&(a[B].v=P.substr(0,O+1)+a[B].v)}else if(T!==a.length&&P.indexOf("E")===-1){for(O=P.indexOf(".")-1,l=T;l>=0;--l)if(!(a[l]==null||"n?".indexOf(a[l].t)===-1)){for(h=a[l].v.indexOf(".")>-1&&l===T?a[l].v.indexOf(".")-1:a[l].v.length-1,D=a[l].v.substr(h+1);h>=0;--h)O>=0&&(a[l].v.charAt(h)==="0"||a[l].v.charAt(h)==="#")&&(D=P.charAt(O--)+D);a[l].v=D,a[l].t="t",B=l}for(O>=0&&B<a.length&&(a[B].v=P.substr(0,O+1)+a[B].v),O=P.indexOf(".")+1,l=T;l<a.length;++l)if(!(a[l]==null||"n?(".indexOf(a[l].t)===-1&&l!==T)){for(h=a[l].v.indexOf(".")>-1&&l===T?a[l].v.indexOf(".")+1:0,D=a[l].v.substr(0,h);h<a[l].v.length;++h)O<P.length&&(D+=P.charAt(O++));a[l].v=D,a[l].t="t",B=l}}}for(l=0;l<a.length;++l)a[l]!=null&&"n?".indexOf(a[l].t)>-1&&(R=n>1&&t<0&&l>0&&a[l-1].v==="-"?-t:t,a[l].v=rf(a[l].t,a[l].v,R),a[l].t="t");var G="";for(l=0;l!==a.length;++l)a[l]!=null&&(G+=a[l].v);return G}var IE=/\[(=|>[=]?|<[>=]?)(-?\d+(?:\.\d*)?)\]/;function BE(e,t){if(t==null)return!1;var r=parseFloat(t[2]);switch(t[1]){case"=":if(e==r)return!0;break;case">":if(e>r)return!0;break;case"<":if(e<r)return!0;break;case"<>":if(e!=r)return!0;break;case">=":if(e>=r)return!0;break;case"<=":if(e<=r)return!0;break}return!1}function SW(e,t){var r=_W(e),n=r.length,a=r[n-1].indexOf("@");if(n<4&&a>-1&&--n,r.length>4)throw new Error("cannot find right format for |"+r.join("|")+"|");if(typeof t!="number")return[4,r.length===4||a>-1?r[r.length-1]:"@"];switch(r.length){case 1:r=a>-1?["General","General","General",r[0]]:[r[0],r[0],r[0],"@"];break;case 2:r=a>-1?[r[0],r[0],r[0],r[1]]:[r[0],r[1],r[0],"@"];break;case 3:r=a>-1?[r[0],r[1],r[0],r[2]]:[r[0],r[1],r[2],"@"];break}var i=t>0?r[0]:t<0?r[1]:r[2];if(r[0].indexOf("[")===-1&&r[1].indexOf("[")===-1)return[n,i];if(r[0].match(/\[[=<>]/)!=null||r[1].match(/\[[=<>]/)!=null){var l=r[0].match(IE),o=r[1].match(IE);return BE(t,l)?[n,r[0]]:BE(t,o)?[n,r[1]]:[n,r[l!=null&&o!=null?2:1]]}return[n,i]}function Bo(e,t,r){r==null&&(r={});var n="";switch(typeof e){case"string":e=="m/d/yy"&&r.dateNF?n=r.dateNF:n=e;break;case"number":e==14&&r.dateNF?n=r.dateNF:n=(r.table!=null?r.table:cr)[e],n==null&&(n=r.table&&r.table[LE[e]]||cr[LE[e]]),n==null&&(n=sW[e]||"General");break}if(Xv(n,0))return H0(t,r);t instanceof Date&&(t=sP(t,r.date1904));var a=SW(n,t);if(Xv(a[1]))return H0(t,r);if(t===!0)t="TRUE";else if(t===!1)t="FALSE";else if(t===""||t==null)return"";return NW(a[1],t,r,a[0])}function nf(e,t){if(typeof t!="number"){t=+t||-1;for(var r=0;r<392;++r){if(cr[r]==null){t<0&&(t=r);continue}if(cr[r]==e){t=r;break}}t<0&&(t=391)}return cr[t]=e,t}function a2(e){for(var t=0;t!=392;++t)e[t]!==void 0&&nf(e[t],t)}function rp(){cr=iW()}var jW={5:'"$"#,##0_);\\("$"#,##0\\)',6:'"$"#,##0_);[Red]\\("$"#,##0\\)',7:'"$"#,##0.00_);\\("$"#,##0.00\\)',8:'"$"#,##0.00_);[Red]\\("$"#,##0.00\\)',23:"General",24:"General",25:"General",26:"General",27:"m/d/yy",28:"m/d/yy",29:"m/d/yy",30:"m/d/yy",31:"m/d/yy",32:"h:mm:ss",33:"h:mm:ss",34:"h:mm:ss",35:"h:mm:ss",36:"m/d/yy",41:'_(* #,##0_);_(* (#,##0);_(* "-"_);_(@_)',42:'_("$"* #,##0_);_("$"* (#,##0);_("$"* "-"_);_(@_)',43:'_(* #,##0.00_);_(* (#,##0.00);_(* "-"??_);_(@_)',44:'_("$"* #,##0.00_);_("$"* (#,##0.00);_("$"* "-"??_);_(@_)',50:"m/d/yy",51:"m/d/yy",52:"m/d/yy",53:"m/d/yy",54:"m/d/yy",55:"m/d/yy",56:"m/d/yy",57:"m/d/yy",58:"m/d/yy",59:"0",60:"0.00",61:"#,##0",62:"#,##0.00",63:'"$"#,##0_);\\("$"#,##0\\)',64:'"$"#,##0_);[Red]\\("$"#,##0\\)',65:'"$"#,##0.00_);\\("$"#,##0.00\\)',66:'"$"#,##0.00_);[Red]\\("$"#,##0.00\\)',67:"0%",68:"0.00%",69:"# ?/?",70:"# ??/??",71:"m/d/yy",72:"m/d/yy",73:"d-mmm-yy",74:"d-mmm",75:"mmm-yy",76:"h:mm",77:"h:mm:ss",78:"m/d/yy h:mm",79:"mm:ss",80:"[h]:mm:ss",81:"mmss.0"},pP=/[dD]+|[mM]+|[yYeE]+|[Hh]+|[Ss]+/g;function AW(e){var t=typeof e=="number"?cr[e]:e;return t=t.replace(pP,"(\\d+)"),new RegExp("^"+t+"$")}function EW(e,t,r){var n=-1,a=-1,i=-1,l=-1,o=-1,f=-1;(t.match(pP)||[]).forEach(function(p,g){var x=parseInt(r[g+1],10);switch(p.toLowerCase().charAt(0)){case"y":n=x;break;case"d":i=x;break;case"h":l=x;break;case"s":f=x;break;case"m":l>=0?o=x:a=x;break}}),f>=0&&o==-1&&a>=0&&(o=a,a=-1);var u=(""+(n>=0?n:new Date().getFullYear())).slice(-4)+"-"+("00"+(a>=1?a:1)).slice(-2)+"-"+("00"+(i>=1?i:1)).slice(-2);u.length==7&&(u="0"+u),u.length==8&&(u="20"+u);var h=("00"+(l>=0?l:0)).slice(-2)+":"+("00"+(o>=0?o:0)).slice(-2)+":"+("00"+(f>=0?f:0)).slice(-2);return l==-1&&o==-1&&f==-1?u:n==-1&&a==-1&&i==-1?h:u+"T"+h}var kW=(function(){var e={};e.version="1.2.0";function t(){for(var P=0,T=new Array(256),B=0;B!=256;++B)P=B,P=P&1?-306674912^P>>>1:P>>>1,P=P&1?-306674912^P>>>1:P>>>1,P=P&1?-306674912^P>>>1:P>>>1,P=P&1?-306674912^P>>>1:P>>>1,P=P&1?-306674912^P>>>1:P>>>1,P=P&1?-306674912^P>>>1:P>>>1,P=P&1?-306674912^P>>>1:P>>>1,P=P&1?-306674912^P>>>1:P>>>1,T[B]=P;return typeof Int32Array<"u"?new Int32Array(T):T}var r=t();function n(P){var T=0,B=0,G=0,I=typeof Int32Array<"u"?new Int32Array(4096):new Array(4096);for(G=0;G!=256;++G)I[G]=P[G];for(G=0;G!=256;++G)for(B=P[G],T=256+G;T<4096;T+=256)B=I[T]=B>>>8^P[B&255];var z=[];for(G=1;G!=16;++G)z[G-1]=typeof Int32Array<"u"?I.subarray(G*256,G*256+256):I.slice(G*256,G*256+256);return z}var a=n(r),i=a[0],l=a[1],o=a[2],f=a[3],u=a[4],h=a[5],p=a[6],g=a[7],x=a[8],b=a[9],y=a[10],w=a[11],_=a[12],E=a[13],A=a[14];function O(P,T){for(var B=T^-1,G=0,I=P.length;G<I;)B=B>>>8^r[(B^P.charCodeAt(G++))&255];return~B}function D(P,T){for(var B=T^-1,G=P.length-15,I=0;I<G;)B=A[P[I++]^B&255]^E[P[I++]^B>>8&255]^_[P[I++]^B>>16&255]^w[P[I++]^B>>>24]^y[P[I++]]^b[P[I++]]^x[P[I++]]^g[P[I++]]^p[P[I++]]^h[P[I++]]^u[P[I++]]^f[P[I++]]^o[P[I++]]^l[P[I++]]^i[P[I++]]^r[P[I++]];for(G+=15;I<G;)B=B>>>8^r[(B^P[I++])&255];return~B}function R(P,T){for(var B=T^-1,G=0,I=P.length,z=0,K=0;G<I;)z=P.charCodeAt(G++),z<128?B=B>>>8^r[(B^z)&255]:z<2048?(B=B>>>8^r[(B^(192|z>>6&31))&255],B=B>>>8^r[(B^(128|z&63))&255]):z>=55296&&z<57344?(z=(z&1023)+64,K=P.charCodeAt(G++)&1023,B=B>>>8^r[(B^(240|z>>8&7))&255],B=B>>>8^r[(B^(128|z>>2&63))&255],B=B>>>8^r[(B^(128|K>>6&15|(z&3)<<4))&255],B=B>>>8^r[(B^(128|K&63))&255]):(B=B>>>8^r[(B^(224|z>>12&15))&255],B=B>>>8^r[(B^(128|z>>6&63))&255],B=B>>>8^r[(B^(128|z&63))&255]);return~B}return e.table=r,e.bstr=O,e.buf=D,e.str=R,e})(),nr=(function(){var t={};t.version="1.2.1";function r(ee,we){for(var de=ee.split("/"),he=we.split("/"),ge=0,Ne=0,Me=Math.min(de.length,he.length);ge<Me;++ge){if(Ne=de[ge].length-he[ge].length)return Ne;if(de[ge]!=he[ge])return de[ge]<he[ge]?-1:1}return de.length-he.length}function n(ee){if(ee.charAt(ee.length-1)=="/")return ee.slice(0,-1).indexOf("/")===-1?ee:n(ee.slice(0,-1));var we=ee.lastIndexOf("/");return we===-1?ee:ee.slice(0,we+1)}function a(ee){if(ee.charAt(ee.length-1)=="/")return a(ee.slice(0,-1));var we=ee.lastIndexOf("/");return we===-1?ee:ee.slice(we+1)}function i(ee,we){typeof we=="string"&&(we=new Date(we));var de=we.getHours();de=de<<6|we.getMinutes(),de=de<<5|we.getSeconds()>>>1,ee.write_shift(2,de);var he=we.getFullYear()-1980;he=he<<4|we.getMonth()+1,he=he<<5|we.getDate(),ee.write_shift(2,he)}function l(ee){var we=ee.read_shift(2)&65535,de=ee.read_shift(2)&65535,he=new Date,ge=de&31;de>>>=5;var Ne=de&15;de>>>=4,he.setMilliseconds(0),he.setFullYear(de+1980),he.setMonth(Ne-1),he.setDate(ge);var Me=we&31;we>>>=5;var Ge=we&63;return we>>>=6,he.setHours(we),he.setMinutes(Ge),he.setSeconds(Me<<1),he}function o(ee){rs(ee,0);for(var we={},de=0;ee.l<=ee.length-4;){var he=ee.read_shift(2),ge=ee.read_shift(2),Ne=ee.l+ge,Me={};switch(he){case 21589:de=ee.read_shift(1),de&1&&(Me.mtime=ee.read_shift(4)),ge>5&&(de&2&&(Me.atime=ee.read_shift(4)),de&4&&(Me.ctime=ee.read_shift(4))),Me.mtime&&(Me.mt=new Date(Me.mtime*1e3));break}ee.l=Ne,we[he]=Me}return we}var f;function u(){return f||(f={})}function h(ee,we){if(ee[0]==80&&ee[1]==75)return pn(ee,we);if((ee[0]|32)==109&&(ee[1]|32)==105)return Gt(ee,we);if(ee.length<512)throw new Error("CFB file size "+ee.length+" < 512");var de=3,he=512,ge=0,Ne=0,Me=0,Ge=0,Ie=0,Be=[],ze=ee.slice(0,512);rs(ze,0);var ut=p(ze);switch(de=ut[0],de){case 3:he=512;break;case 4:he=4096;break;case 0:if(ut[1]==0)return pn(ee,we);default:throw new Error("Major Version: Expected 3 or 4 saw "+de)}he!==512&&(ze=ee.slice(0,he),rs(ze,28));var mt=ee.slice(0,he);g(ze,de);var Nt=ze.read_shift(4,"i");if(de===3&&Nt!==0)throw new Error("# Directory Sectors: Expected 0 saw "+Nt);ze.l+=4,Me=ze.read_shift(4,"i"),ze.l+=4,ze.chk("00100000","Mini Stream Cutoff Size: "),Ge=ze.read_shift(4,"i"),ge=ze.read_shift(4,"i"),Ie=ze.read_shift(4,"i"),Ne=ze.read_shift(4,"i");for(var ht=-1,vt=0;vt<109&&(ht=ze.read_shift(4,"i"),!(ht<0));++vt)Be[vt]=ht;var Tt=x(ee,he);w(Ie,Ne,Tt,he,Be);var sn=E(Tt,Me,Be,he);sn[Me].name="!Directory",ge>0&&Ge!==K&&(sn[Ge].name="!MiniFAT"),sn[Be[0]].name="!FAT",sn.fat_addrs=Be,sn.ssz=he;var kr={},fn=[],Hi=[],Ol=[];A(Me,sn,Tt,fn,ge,kr,Hi,Ge),b(Hi,Ol,fn),fn.shift();var Dl={FileIndex:Hi,FullPaths:Ol};return we&&we.raw&&(Dl.raw={header:mt,sectors:Tt}),Dl}function p(ee){if(ee[ee.l]==80&&ee[ee.l+1]==75)return[0,0];ee.chk(J,"Header Signature: "),ee.l+=16;var we=ee.read_shift(2,"u");return[ee.read_shift(2,"u"),we]}function g(ee,we){var de=9;switch(ee.l+=2,de=ee.read_shift(2)){case 9:if(we!=3)throw new Error("Sector Shift: Expected 9 saw "+de);break;case 12:if(we!=4)throw new Error("Sector Shift: Expected 12 saw "+de);break;default:throw new Error("Sector Shift: Expected 9 or 12 saw "+de)}ee.chk("0600","Mini Sector Shift: "),ee.chk("000000000000","Reserved: ")}function x(ee,we){for(var de=Math.ceil(ee.length/we)-1,he=[],ge=1;ge<de;++ge)he[ge-1]=ee.slice(ge*we,(ge+1)*we);return he[de-1]=ee.slice(de*we),he}function b(ee,we,de){for(var he=0,ge=0,Ne=0,Me=0,Ge=0,Ie=de.length,Be=[],ze=[];he<Ie;++he)Be[he]=ze[he]=he,we[he]=de[he];for(;Ge<ze.length;++Ge)he=ze[Ge],ge=ee[he].L,Ne=ee[he].R,Me=ee[he].C,Be[he]===he&&(ge!==-1&&Be[ge]!==ge&&(Be[he]=Be[ge]),Ne!==-1&&Be[Ne]!==Ne&&(Be[he]=Be[Ne])),Me!==-1&&(Be[Me]=he),ge!==-1&&he!=Be[he]&&(Be[ge]=Be[he],ze.lastIndexOf(ge)<Ge&&ze.push(ge)),Ne!==-1&&he!=Be[he]&&(Be[Ne]=Be[he],ze.lastIndexOf(Ne)<Ge&&ze.push(Ne));for(he=1;he<Ie;++he)Be[he]===he&&(Ne!==-1&&Be[Ne]!==Ne?Be[he]=Be[Ne]:ge!==-1&&Be[ge]!==ge&&(Be[he]=Be[ge]));for(he=1;he<Ie;++he)if(ee[he].type!==0){if(Ge=he,Ge!=Be[Ge])do Ge=Be[Ge],we[he]=we[Ge]+"/"+we[he];while(Ge!==0&&Be[Ge]!==-1&&Ge!=Be[Ge]);Be[he]=-1}for(we[0]+="/",he=1;he<Ie;++he)ee[he].type!==2&&(we[he]+="/")}function y(ee,we,de){for(var he=ee.start,ge=ee.size,Ne=[],Me=he;de&&ge>0&&Me>=0;)Ne.push(we.slice(Me*z,Me*z+z)),ge-=z,Me=S0(de,Me*4);return Ne.length===0?Ze(0):Ii(Ne).slice(0,ee.size)}function w(ee,we,de,he,ge){var Ne=K;if(ee===K){if(we!==0)throw new Error("DIFAT chain shorter than expected")}else if(ee!==-1){var Me=de[ee],Ge=(he>>>2)-1;if(!Me)return;for(var Ie=0;Ie<Ge&&(Ne=S0(Me,Ie*4))!==K;++Ie)ge.push(Ne);w(S0(Me,he-4),we-1,de,he,ge)}}function _(ee,we,de,he,ge){var Ne=[],Me=[];ge||(ge=[]);var Ge=he-1,Ie=0,Be=0;for(Ie=we;Ie>=0;){ge[Ie]=!0,Ne[Ne.length]=Ie,Me.push(ee[Ie]);var ze=de[Math.floor(Ie*4/he)];if(Be=Ie*4&Ge,he<4+Be)throw new Error("FAT boundary crossed: "+Ie+" 4 "+he);if(!ee[ze])break;Ie=S0(ee[ze],Be)}return{nodes:Ne,data:QE([Me])}}function E(ee,we,de,he){var ge=ee.length,Ne=[],Me=[],Ge=[],Ie=[],Be=he-1,ze=0,ut=0,mt=0,Nt=0;for(ze=0;ze<ge;++ze)if(Ge=[],mt=ze+we,mt>=ge&&(mt-=ge),!Me[mt]){Ie=[];var ht=[];for(ut=mt;ut>=0;){ht[ut]=!0,Me[ut]=!0,Ge[Ge.length]=ut,Ie.push(ee[ut]);var vt=de[Math.floor(ut*4/he)];if(Nt=ut*4&Be,he<4+Nt)throw new Error("FAT boundary crossed: "+ut+" 4 "+he);if(!ee[vt]||(ut=S0(ee[vt],Nt),ht[ut]))break}Ne[mt]={nodes:Ge,data:QE([Ie])}}return Ne}function A(ee,we,de,he,ge,Ne,Me,Ge){for(var Ie=0,Be=he.length?2:0,ze=we[ee].data,ut=0,mt=0,Nt;ut<ze.length;ut+=128){var ht=ze.slice(ut,ut+128);rs(ht,64),mt=ht.read_shift(2),Nt=e3(ht,0,mt-Be),he.push(Nt);var vt={name:Nt,type:ht.read_shift(1),color:ht.read_shift(1),L:ht.read_shift(4,"i"),R:ht.read_shift(4,"i"),C:ht.read_shift(4,"i"),clsid:ht.read_shift(16),state:ht.read_shift(4,"i"),start:0,size:0},Tt=ht.read_shift(2)+ht.read_shift(2)+ht.read_shift(2)+ht.read_shift(2);Tt!==0&&(vt.ct=O(ht,ht.l-8));var sn=ht.read_shift(2)+ht.read_shift(2)+ht.read_shift(2)+ht.read_shift(2);sn!==0&&(vt.mt=O(ht,ht.l-8)),vt.start=ht.read_shift(4,"i"),vt.size=ht.read_shift(4,"i"),vt.size<0&&vt.start<0&&(vt.size=vt.type=0,vt.start=K,vt.name=""),vt.type===5?(Ie=vt.start,ge>0&&Ie!==K&&(we[Ie].name="!StreamData")):vt.size>=4096?(vt.storage="fat",we[vt.start]===void 0&&(we[vt.start]=_(de,vt.start,we.fat_addrs,we.ssz)),we[vt.start].name=vt.name,vt.content=we[vt.start].data.slice(0,vt.size)):(vt.storage="minifat",vt.size<0?vt.size=0:Ie!==K&&vt.start!==K&&we[Ie]&&(vt.content=y(vt,we[Ie].data,(we[Ge]||{}).data))),vt.content&&rs(vt.content,0),Ne[Nt]=vt,Me.push(vt)}}function O(ee,we){return new Date((Kl(ee,we+4)/1e7*Math.pow(2,32)+Kl(ee,we)/1e7-11644473600)*1e3)}function D(ee,we){return u(),h(f.readFileSync(ee),we)}function R(ee,we){var de=we&&we.type;switch(de||Cr&&Buffer.isBuffer(ee)&&(de="buffer"),de||"base64"){case"file":return D(ee,we);case"base64":return h(Xl(to(ee)),we);case"binary":return h(Xl(ee),we)}return h(ee,we)}function P(ee,we){var de=we||{},he=de.root||"Root Entry";if(ee.FullPaths||(ee.FullPaths=[]),ee.FileIndex||(ee.FileIndex=[]),ee.FullPaths.length!==ee.FileIndex.length)throw new Error("inconsistent CFB structure");ee.FullPaths.length===0&&(ee.FullPaths[0]=he+"/",ee.FileIndex[0]={name:he,type:5}),de.CLSID&&(ee.FileIndex[0].clsid=de.CLSID),T(ee)}function T(ee){var we="Sh33tJ5";if(!nr.find(ee,"/"+we)){var de=Ze(4);de[0]=55,de[1]=de[3]=50,de[2]=54,ee.FileIndex.push({name:we,type:2,content:de,size:4,L:69,R:69,C:69}),ee.FullPaths.push(ee.FullPaths[0]+we),B(ee)}}function B(ee,we){P(ee);for(var de=!1,he=!1,ge=ee.FullPaths.length-1;ge>=0;--ge){var Ne=ee.FileIndex[ge];switch(Ne.type){case 0:he?de=!0:(ee.FileIndex.pop(),ee.FullPaths.pop());break;case 1:case 2:case 5:he=!0,isNaN(Ne.R*Ne.L*Ne.C)&&(de=!0),Ne.R>-1&&Ne.L>-1&&Ne.R==Ne.L&&(de=!0);break;default:de=!0;break}}if(!(!de&&!we)){var Me=new Date(1987,1,19),Ge=0,Ie=Object.create?Object.create(null):{},Be=[];for(ge=0;ge<ee.FullPaths.length;++ge)Ie[ee.FullPaths[ge]]=!0,ee.FileIndex[ge].type!==0&&Be.push([ee.FullPaths[ge],ee.FileIndex[ge]]);for(ge=0;ge<Be.length;++ge){var ze=n(Be[ge][0]);he=Ie[ze],he||(Be.push([ze,{name:a(ze).replace("/",""),type:1,clsid:ne,ct:Me,mt:Me,content:null}]),Ie[ze]=!0)}for(Be.sort(function(Nt,ht){return r(Nt[0],ht[0])}),ee.FullPaths=[],ee.FileIndex=[],ge=0;ge<Be.length;++ge)ee.FullPaths[ge]=Be[ge][0],ee.FileIndex[ge]=Be[ge][1];for(ge=0;ge<Be.length;++ge){var ut=ee.FileIndex[ge],mt=ee.FullPaths[ge];if(ut.name=a(mt).replace("/",""),ut.L=ut.R=ut.C=-(ut.color=1),ut.size=ut.content?ut.content.length:0,ut.start=0,ut.clsid=ut.clsid||ne,ge===0)ut.C=Be.length>1?1:-1,ut.size=0,ut.type=5;else if(mt.slice(-1)=="/"){for(Ge=ge+1;Ge<Be.length&&n(ee.FullPaths[Ge])!=mt;++Ge);for(ut.C=Ge>=Be.length?-1:Ge,Ge=ge+1;Ge<Be.length&&n(ee.FullPaths[Ge])!=n(mt);++Ge);ut.R=Ge>=Be.length?-1:Ge,ut.type=1}else n(ee.FullPaths[ge+1]||"")==n(mt)&&(ut.R=ge+1),ut.type=2}}}function G(ee,we){var de=we||{};if(de.fileType=="mad")return Tl(ee,de);switch(B(ee),de.fileType){case"zip":return qr(ee,de)}var he=(function(Nt){for(var ht=0,vt=0,Tt=0;Tt<Nt.FileIndex.length;++Tt){var sn=Nt.FileIndex[Tt];if(sn.content){var kr=sn.content.length;kr>0&&(kr<4096?ht+=kr+63>>6:vt+=kr+511>>9)}}for(var fn=Nt.FullPaths.length+3>>2,Hi=ht+7>>3,Ol=ht+127>>7,Dl=Hi+vt+fn+Ol,Ps=Dl+127>>7,Fc=Ps<=109?0:Math.ceil((Ps-109)/127);Dl+Ps+Fc+127>>7>Ps;)Fc=++Ps<=109?0:Math.ceil((Ps-109)/127);var Ba=[1,Fc,Ps,Ol,fn,vt,ht,0];return Nt.FileIndex[0].size=ht<<6,Ba[7]=(Nt.FileIndex[0].start=Ba[0]+Ba[1]+Ba[2]+Ba[3]+Ba[4]+Ba[5])+(Ba[6]+7>>3),Ba})(ee),ge=Ze(he[7]<<9),Ne=0,Me=0;{for(Ne=0;Ne<8;++Ne)ge.write_shift(1,pe[Ne]);for(Ne=0;Ne<8;++Ne)ge.write_shift(2,0);for(ge.write_shift(2,62),ge.write_shift(2,3),ge.write_shift(2,65534),ge.write_shift(2,9),ge.write_shift(2,6),Ne=0;Ne<3;++Ne)ge.write_shift(2,0);for(ge.write_shift(4,0),ge.write_shift(4,he[2]),ge.write_shift(4,he[0]+he[1]+he[2]+he[3]-1),ge.write_shift(4,0),ge.write_shift(4,4096),ge.write_shift(4,he[3]?he[0]+he[1]+he[2]-1:K),ge.write_shift(4,he[3]),ge.write_shift(-4,he[1]?he[0]-1:K),ge.write_shift(4,he[1]),Ne=0;Ne<109;++Ne)ge.write_shift(-4,Ne<he[2]?he[1]+Ne:-1)}if(he[1])for(Me=0;Me<he[1];++Me){for(;Ne<236+Me*127;++Ne)ge.write_shift(-4,Ne<he[2]?he[1]+Ne:-1);ge.write_shift(-4,Me===he[1]-1?K:Me+1)}var Ge=function(Nt){for(Me+=Nt;Ne<Me-1;++Ne)ge.write_shift(-4,Ne+1);Nt&&(++Ne,ge.write_shift(-4,K))};for(Me=Ne=0,Me+=he[1];Ne<Me;++Ne)ge.write_shift(-4,le.DIFSECT);for(Me+=he[2];Ne<Me;++Ne)ge.write_shift(-4,le.FATSECT);Ge(he[3]),Ge(he[4]);for(var Ie=0,Be=0,ze=ee.FileIndex[0];Ie<ee.FileIndex.length;++Ie)ze=ee.FileIndex[Ie],ze.content&&(Be=ze.content.length,!(Be<4096)&&(ze.start=Me,Ge(Be+511>>9)));for(Ge(he[6]+7>>3);ge.l&511;)ge.write_shift(-4,le.ENDOFCHAIN);for(Me=Ne=0,Ie=0;Ie<ee.FileIndex.length;++Ie)ze=ee.FileIndex[Ie],ze.content&&(Be=ze.content.length,!(!Be||Be>=4096)&&(ze.start=Me,Ge(Be+63>>6)));for(;ge.l&511;)ge.write_shift(-4,le.ENDOFCHAIN);for(Ne=0;Ne<he[4]<<2;++Ne){var ut=ee.FullPaths[Ne];if(!ut||ut.length===0){for(Ie=0;Ie<17;++Ie)ge.write_shift(4,0);for(Ie=0;Ie<3;++Ie)ge.write_shift(4,-1);for(Ie=0;Ie<12;++Ie)ge.write_shift(4,0);continue}ze=ee.FileIndex[Ne],Ne===0&&(ze.start=ze.size?ze.start-1:K);var mt=Ne===0&&de.root||ze.name;if(Be=2*(mt.length+1),ge.write_shift(64,mt,"utf16le"),ge.write_shift(2,Be),ge.write_shift(1,ze.type),ge.write_shift(1,ze.color),ge.write_shift(-4,ze.L),ge.write_shift(-4,ze.R),ge.write_shift(-4,ze.C),ze.clsid)ge.write_shift(16,ze.clsid,"hex");else for(Ie=0;Ie<4;++Ie)ge.write_shift(4,0);ge.write_shift(4,ze.state||0),ge.write_shift(4,0),ge.write_shift(4,0),ge.write_shift(4,0),ge.write_shift(4,0),ge.write_shift(4,ze.start),ge.write_shift(4,ze.size),ge.write_shift(4,0)}for(Ne=1;Ne<ee.FileIndex.length;++Ne)if(ze=ee.FileIndex[Ne],ze.size>=4096)if(ge.l=ze.start+1<<9,Cr&&Buffer.isBuffer(ze.content))ze.content.copy(ge,ge.l,0,ze.size),ge.l+=ze.size+511&-512;else{for(Ie=0;Ie<ze.size;++Ie)ge.write_shift(1,ze.content[Ie]);for(;Ie&511;++Ie)ge.write_shift(1,0)}for(Ne=1;Ne<ee.FileIndex.length;++Ne)if(ze=ee.FileIndex[Ne],ze.size>0&&ze.size<4096)if(Cr&&Buffer.isBuffer(ze.content))ze.content.copy(ge,ge.l,0,ze.size),ge.l+=ze.size+63&-64;else{for(Ie=0;Ie<ze.size;++Ie)ge.write_shift(1,ze.content[Ie]);for(;Ie&63;++Ie)ge.write_shift(1,0)}if(Cr)ge.l=ge.length;else for(;ge.l<ge.length;)ge.write_shift(1,0);return ge}function I(ee,we){var de=ee.FullPaths.map(function(Ie){return Ie.toUpperCase()}),he=de.map(function(Ie){var Be=Ie.split("/");return Be[Be.length-(Ie.slice(-1)=="/"?2:1)]}),ge=!1;we.charCodeAt(0)===47?(ge=!0,we=de[0].slice(0,-1)+we):ge=we.indexOf("/")!==-1;var Ne=we.toUpperCase(),Me=ge===!0?de.indexOf(Ne):he.indexOf(Ne);if(Me!==-1)return ee.FileIndex[Me];var Ge=!Ne.match(px);for(Ne=Ne.replace(el,""),Ge&&(Ne=Ne.replace(px,"!")),Me=0;Me<de.length;++Me)if((Ge?de[Me].replace(px,"!"):de[Me]).replace(el,"")==Ne||(Ge?he[Me].replace(px,"!"):he[Me]).replace(el,"")==Ne)return ee.FileIndex[Me];return null}var z=64,K=-2,J="d0cf11e0a1b11ae1",pe=[208,207,17,224,161,177,26,225],ne="00000000000000000000000000000000",le={MAXREGSECT:-6,DIFSECT:-4,FATSECT:-3,ENDOFCHAIN:K,FREESECT:-1,HEADER_SIGNATURE:J,HEADER_MINOR_VERSION:"3e00",MAXREGSID:-6,NOSTREAM:-1,HEADER_CLSID:ne,EntryTypes:["unknown","storage","stream","lockbytes","property","root"]};function ve(ee,we,de){u();var he=G(ee,de);f.writeFileSync(we,he)}function ue(ee){for(var we=new Array(ee.length),de=0;de<ee.length;++de)we[de]=String.fromCharCode(ee[de]);return we.join("")}function je(ee,we){var de=G(ee,we);switch(we&&we.type||"buffer"){case"file":return u(),f.writeFileSync(we.filename,de),de;case"binary":return typeof de=="string"?de:ue(de);case"base64":return Bx(typeof de=="string"?de:ue(de));case"buffer":if(Cr)return Buffer.isBuffer(de)?de:bf(de);case"array":return typeof de=="string"?Xl(de):de}return de}var te;function F(ee){try{var we=ee.InflateRaw,de=new we;if(de._processChunk(new Uint8Array([3,0]),de._finishFlushFlag),de.bytesRead)te=ee;else throw new Error("zlib does not expose bytesRead")}catch(he){console.error("cannot use native zlib: "+(he.message||he))}}function M(ee,we){if(!te)return Ar(ee,we);var de=te.InflateRaw,he=new de,ge=he._processChunk(ee.slice(ee.l),he._finishFlushFlag);return ee.l+=he.bytesRead,ge}function q(ee){return te?te.deflateRawSync(ee):xt(ee)}var W=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15],Z=[3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258],oe=[1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577];function ce(ee){var we=(ee<<1|ee<<11)&139536|(ee<<5|ee<<15)&558144;return(we>>16|we>>8|we)&255}for(var ae=typeof Uint8Array<"u",Se=ae?new Uint8Array(256):[],De=0;De<256;++De)Se[De]=ce(De);function X(ee,we){var de=Se[ee&255];return we<=8?de>>>8-we:(de=de<<8|Se[ee>>8&255],we<=16?de>>>16-we:(de=de<<8|Se[ee>>16&255],de>>>24-we))}function Ke(ee,we){var de=we&7,he=we>>>3;return(ee[he]|(de<=6?0:ee[he+1]<<8))>>>de&3}function Ce(ee,we){var de=we&7,he=we>>>3;return(ee[he]|(de<=5?0:ee[he+1]<<8))>>>de&7}function xe(ee,we){var de=we&7,he=we>>>3;return(ee[he]|(de<=4?0:ee[he+1]<<8))>>>de&15}function dt(ee,we){var de=we&7,he=we>>>3;return(ee[he]|(de<=3?0:ee[he+1]<<8))>>>de&31}function Xe(ee,we){var de=we&7,he=we>>>3;return(ee[he]|(de<=1?0:ee[he+1]<<8))>>>de&127}function wt(ee,we,de){var he=we&7,ge=we>>>3,Ne=(1<<de)-1,Me=ee[ge]>>>he;return de<8-he||(Me|=ee[ge+1]<<8-he,de<16-he)||(Me|=ee[ge+2]<<16-he,de<24-he)||(Me|=ee[ge+3]<<24-he),Me&Ne}function lt(ee,we,de){var he=we&7,ge=we>>>3;return he<=5?ee[ge]|=(de&7)<<he:(ee[ge]|=de<<he&255,ee[ge+1]=(de&7)>>8-he),we+3}function At(ee,we,de){var he=we&7,ge=we>>>3;return de=(de&1)<<he,ee[ge]|=de,we+1}function pt(ee,we,de){var he=we&7,ge=we>>>3;return de<<=he,ee[ge]|=de&255,de>>>=8,ee[ge+1]=de,we+8}function Qt(ee,we,de){var he=we&7,ge=we>>>3;return de<<=he,ee[ge]|=de&255,de>>>=8,ee[ge+1]=de&255,ee[ge+2]=de>>>8,we+16}function Pt(ee,we){var de=ee.length,he=2*de>we?2*de:we+5,ge=0;if(de>=we)return ee;if(Cr){var Ne=DE(he);if(ee.copy)ee.copy(Ne);else for(;ge<ee.length;++ge)Ne[ge]=ee[ge];return Ne}else if(ae){var Me=new Uint8Array(he);if(Me.set)Me.set(ee);else for(;ge<de;++ge)Me[ge]=ee[ge];return Me}return ee.length=he,ee}function Vt(ee){for(var we=new Array(ee),de=0;de<ee;++de)we[de]=0;return we}function Zt(ee,we,de){var he=1,ge=0,Ne=0,Me=0,Ge=0,Ie=ee.length,Be=ae?new Uint16Array(32):Vt(32);for(Ne=0;Ne<32;++Ne)Be[Ne]=0;for(Ne=Ie;Ne<de;++Ne)ee[Ne]=0;Ie=ee.length;var ze=ae?new Uint16Array(Ie):Vt(Ie);for(Ne=0;Ne<Ie;++Ne)Be[ge=ee[Ne]]++,he<ge&&(he=ge),ze[Ne]=0;for(Be[0]=0,Ne=1;Ne<=he;++Ne)Be[Ne+16]=Ge=Ge+Be[Ne-1]<<1;for(Ne=0;Ne<Ie;++Ne)Ge=ee[Ne],Ge!=0&&(ze[Ne]=Be[Ge+16]++);var ut=0;for(Ne=0;Ne<Ie;++Ne)if(ut=ee[Ne],ut!=0)for(Ge=X(ze[Ne],he)>>he-ut,Me=(1<<he+4-ut)-1;Me>=0;--Me)we[Ge|Me<<ut]=ut&15|Ne<<4;return he}var Jt=ae?new Uint16Array(512):Vt(512),Dr=ae?new Uint16Array(32):Vt(32);if(!ae){for(var It=0;It<512;++It)Jt[It]=0;for(It=0;It<32;++It)Dr[It]=0}(function(){for(var ee=[],we=0;we<32;we++)ee.push(5);Zt(ee,Dr,32);var de=[];for(we=0;we<=143;we++)de.push(8);for(;we<=255;we++)de.push(9);for(;we<=279;we++)de.push(7);for(;we<=287;we++)de.push(8);Zt(de,Jt,288)})();var Ct=(function(){for(var we=ae?new Uint8Array(32768):[],de=0,he=0;de<oe.length-1;++de)for(;he<oe[de+1];++he)we[he]=de;for(;he<32768;++he)we[he]=29;var ge=ae?new Uint8Array(259):[];for(de=0,he=0;de<Z.length-1;++de)for(;he<Z[de+1];++he)ge[he]=de;function Ne(Ge,Ie){for(var Be=0;Be<Ge.length;){var ze=Math.min(65535,Ge.length-Be),ut=Be+ze==Ge.length;for(Ie.write_shift(1,+ut),Ie.write_shift(2,ze),Ie.write_shift(2,~ze&65535);ze-- >0;)Ie[Ie.l++]=Ge[Be++]}return Ie.l}function Me(Ge,Ie){for(var Be=0,ze=0,ut=ae?new Uint16Array(32768):[];ze<Ge.length;){var mt=Math.min(65535,Ge.length-ze);if(mt<10){for(Be=lt(Ie,Be,+(ze+mt==Ge.length)),Be&7&&(Be+=8-(Be&7)),Ie.l=Be/8|0,Ie.write_shift(2,mt),Ie.write_shift(2,~mt&65535);mt-- >0;)Ie[Ie.l++]=Ge[ze++];Be=Ie.l*8;continue}Be=lt(Ie,Be,+(ze+mt==Ge.length)+2);for(var Nt=0;mt-- >0;){var ht=Ge[ze];Nt=(Nt<<5^ht)&32767;var vt=-1,Tt=0;if((vt=ut[Nt])&&(vt|=ze&-32768,vt>ze&&(vt-=32768),vt<ze))for(;Ge[vt+Tt]==Ge[ze+Tt]&&Tt<250;)++Tt;if(Tt>2){ht=ge[Tt],ht<=22?Be=pt(Ie,Be,Se[ht+1]>>1)-1:(pt(Ie,Be,3),Be+=5,pt(Ie,Be,Se[ht-23]>>5),Be+=3);var sn=ht<8?0:ht-4>>2;sn>0&&(Qt(Ie,Be,Tt-Z[ht]),Be+=sn),ht=we[ze-vt],Be=pt(Ie,Be,Se[ht]>>3),Be-=3;var kr=ht<4?0:ht-2>>1;kr>0&&(Qt(Ie,Be,ze-vt-oe[ht]),Be+=kr);for(var fn=0;fn<Tt;++fn)ut[Nt]=ze&32767,Nt=(Nt<<5^Ge[ze])&32767,++ze;mt-=Tt-1}else ht<=143?ht=ht+48:Be=At(Ie,Be,1),Be=pt(Ie,Be,Se[ht]),ut[Nt]=ze&32767,++ze}Be=pt(Ie,Be,0)-1}return Ie.l=(Be+7)/8|0,Ie.l}return function(Ie,Be){return Ie.length<8?Ne(Ie,Be):Me(Ie,Be)}})();function xt(ee){var we=Ze(50+Math.floor(ee.length*1.1)),de=Ct(ee,we);return we.slice(0,de)}var jt=ae?new Uint16Array(32768):Vt(32768),Nr=ae?new Uint16Array(32768):Vt(32768),Yt=ae?new Uint16Array(128):Vt(128),St=1,er=1;function br(ee,we){var de=dt(ee,we)+257;we+=5;var he=dt(ee,we)+1;we+=5;var ge=xe(ee,we)+4;we+=4;for(var Ne=0,Me=ae?new Uint8Array(19):Vt(19),Ge=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],Ie=1,Be=ae?new Uint8Array(8):Vt(8),ze=ae?new Uint8Array(8):Vt(8),ut=Me.length,mt=0;mt<ge;++mt)Me[W[mt]]=Ne=Ce(ee,we),Ie<Ne&&(Ie=Ne),Be[Ne]++,we+=3;var Nt=0;for(Be[0]=0,mt=1;mt<=Ie;++mt)ze[mt]=Nt=Nt+Be[mt-1]<<1;for(mt=0;mt<ut;++mt)(Nt=Me[mt])!=0&&(Ge[mt]=ze[Nt]++);var ht=0;for(mt=0;mt<ut;++mt)if(ht=Me[mt],ht!=0){Nt=Se[Ge[mt]]>>8-ht;for(var vt=(1<<7-ht)-1;vt>=0;--vt)Yt[Nt|vt<<ht]=ht&7|mt<<3}var Tt=[];for(Ie=1;Tt.length<de+he;)switch(Nt=Yt[Xe(ee,we)],we+=Nt&7,Nt>>>=3){case 16:for(Ne=3+Ke(ee,we),we+=2,Nt=Tt[Tt.length-1];Ne-- >0;)Tt.push(Nt);break;case 17:for(Ne=3+Ce(ee,we),we+=3;Ne-- >0;)Tt.push(0);break;case 18:for(Ne=11+Xe(ee,we),we+=7;Ne-- >0;)Tt.push(0);break;default:Tt.push(Nt),Ie<Nt&&(Ie=Nt);break}var sn=Tt.slice(0,de),kr=Tt.slice(de);for(mt=de;mt<286;++mt)sn[mt]=0;for(mt=he;mt<30;++mt)kr[mt]=0;return St=Zt(sn,jt,286),er=Zt(kr,Nr,30),we}function ar(ee,we){if(ee[0]==3&&!(ee[1]&3))return[jd(we),2];for(var de=0,he=0,ge=DE(we||1<<18),Ne=0,Me=ge.length>>>0,Ge=0,Ie=0;(he&1)==0;){if(he=Ce(ee,de),de+=3,he>>>1)he>>1==1?(Ge=9,Ie=5):(de=br(ee,de),Ge=St,Ie=er);else{de&7&&(de+=8-(de&7));var Be=ee[de>>>3]|ee[(de>>>3)+1]<<8;if(de+=32,Be>0)for(!we&&Me<Ne+Be&&(ge=Pt(ge,Ne+Be),Me=ge.length);Be-- >0;)ge[Ne++]=ee[de>>>3],de+=8;continue}for(;;){!we&&Me<Ne+32767&&(ge=Pt(ge,Ne+32767),Me=ge.length);var ze=wt(ee,de,Ge),ut=he>>>1==1?Jt[ze]:jt[ze];if(de+=ut&15,ut>>>=4,(ut>>>8&255)===0)ge[Ne++]=ut;else{if(ut==256)break;ut-=257;var mt=ut<8?0:ut-4>>2;mt>5&&(mt=0);var Nt=Ne+Z[ut];mt>0&&(Nt+=wt(ee,de,mt),de+=mt),ze=wt(ee,de,Ie),ut=he>>>1==1?Dr[ze]:Nr[ze],de+=ut&15,ut>>>=4;var ht=ut<4?0:ut-2>>1,vt=oe[ut];for(ht>0&&(vt+=wt(ee,de,ht),de+=ht),!we&&Me<Nt&&(ge=Pt(ge,Nt+100),Me=ge.length);Ne<Nt;)ge[Ne]=ge[Ne-vt],++Ne}}}return we?[ge,de+7>>>3]:[ge.slice(0,Ne),de+7>>>3]}function Ar(ee,we){var de=ee.slice(ee.l||0),he=ar(de,we);return ee.l+=he[1],he[0]}function fr(ee,we){if(ee)typeof console<"u"&&console.error(we);else throw new Error(we)}function pn(ee,we){var de=ee;rs(de,0);var he=[],ge=[],Ne={FileIndex:he,FullPaths:ge};P(Ne,{root:we.root});for(var Me=de.length-4;(de[Me]!=80||de[Me+1]!=75||de[Me+2]!=5||de[Me+3]!=6)&&Me>=0;)--Me;de.l=Me+4,de.l+=4;var Ge=de.read_shift(2);de.l+=6;var Ie=de.read_shift(4);for(de.l=Ie,Me=0;Me<Ge;++Me){de.l+=20;var Be=de.read_shift(4),ze=de.read_shift(4),ut=de.read_shift(2),mt=de.read_shift(2),Nt=de.read_shift(2);de.l+=8;var ht=de.read_shift(4),vt=o(de.slice(de.l+ut,de.l+ut+mt));de.l+=ut+mt+Nt;var Tt=de.l;de.l=ht+4,Bn(de,Be,ze,Ne,vt),de.l=Tt}return Ne}function Bn(ee,we,de,he,ge){ee.l+=2;var Ne=ee.read_shift(2),Me=ee.read_shift(2),Ge=l(ee);if(Ne&8257)throw new Error("Unsupported ZIP encryption");for(var Ie=ee.read_shift(4),Be=ee.read_shift(4),ze=ee.read_shift(4),ut=ee.read_shift(2),mt=ee.read_shift(2),Nt="",ht=0;ht<ut;++ht)Nt+=String.fromCharCode(ee[ee.l++]);if(mt){var vt=o(ee.slice(ee.l,ee.l+mt));(vt[21589]||{}).mt&&(Ge=vt[21589].mt),((ge||{})[21589]||{}).mt&&(Ge=ge[21589].mt)}ee.l+=mt;var Tt=ee.slice(ee.l,ee.l+Be);switch(Me){case 8:Tt=M(ee,ze);break;case 0:break;default:throw new Error("Unsupported ZIP Compression method "+Me)}var sn=!1;Ne&8&&(Ie=ee.read_shift(4),Ie==134695760&&(Ie=ee.read_shift(4),sn=!0),Be=ee.read_shift(4),ze=ee.read_shift(4)),Be!=we&&fr(sn,"Bad compressed size: "+we+" != "+Be),ze!=de&&fr(sn,"Bad uncompressed size: "+de+" != "+ze),li(he,Nt,Tt,{unsafe:!0,mt:Ge})}function qr(ee,we){var de=we||{},he=[],ge=[],Ne=Ze(1),Me=de.compression?8:0,Ge=0,Ie=0,Be=0,ze=0,ut=0,mt=ee.FullPaths[0],Nt=mt,ht=ee.FileIndex[0],vt=[],Tt=0;for(Ie=1;Ie<ee.FullPaths.length;++Ie)if(Nt=ee.FullPaths[Ie].slice(mt.length),ht=ee.FileIndex[Ie],!(!ht.size||!ht.content||Nt=="Sh33tJ5")){var sn=ze,kr=Ze(Nt.length);for(Be=0;Be<Nt.length;++Be)kr.write_shift(1,Nt.charCodeAt(Be)&127);kr=kr.slice(0,kr.l),vt[ut]=kW.buf(ht.content,0);var fn=ht.content;Me==8&&(fn=q(fn)),Ne=Ze(30),Ne.write_shift(4,67324752),Ne.write_shift(2,20),Ne.write_shift(2,Ge),Ne.write_shift(2,Me),ht.mt?i(Ne,ht.mt):Ne.write_shift(4,0),Ne.write_shift(-4,vt[ut]),Ne.write_shift(4,fn.length),Ne.write_shift(4,ht.content.length),Ne.write_shift(2,kr.length),Ne.write_shift(2,0),ze+=Ne.length,he.push(Ne),ze+=kr.length,he.push(kr),ze+=fn.length,he.push(fn),Ne=Ze(46),Ne.write_shift(4,33639248),Ne.write_shift(2,0),Ne.write_shift(2,20),Ne.write_shift(2,Ge),Ne.write_shift(2,Me),Ne.write_shift(4,0),Ne.write_shift(-4,vt[ut]),Ne.write_shift(4,fn.length),Ne.write_shift(4,ht.content.length),Ne.write_shift(2,kr.length),Ne.write_shift(2,0),Ne.write_shift(2,0),Ne.write_shift(2,0),Ne.write_shift(2,0),Ne.write_shift(4,0),Ne.write_shift(4,sn),Tt+=Ne.l,ge.push(Ne),Tt+=kr.length,ge.push(kr),++ut}return Ne=Ze(22),Ne.write_shift(4,101010256),Ne.write_shift(2,0),Ne.write_shift(2,0),Ne.write_shift(2,ut),Ne.write_shift(2,ut),Ne.write_shift(4,Tt),Ne.write_shift(4,ze),Ne.write_shift(2,0),Ii([Ii(he),Ii(ge),Ne])}var Wt={htm:"text/html",xml:"text/xml",gif:"image/gif",jpg:"image/jpeg",png:"image/png",mso:"application/x-mso",thmx:"application/vnd.ms-officetheme",sh33tj5:"application/octet-stream"};function Pr(ee,we){if(ee.ctype)return ee.ctype;var de=ee.name||"",he=de.match(/\.([^\.]+)$/);return he&&Wt[he[1]]||we&&(he=(de=we).match(/[\.\\]([^\.\\])+$/),he&&Wt[he[1]])?Wt[he[1]]:"application/octet-stream"}function Ds(ee){for(var we=Bx(ee),de=[],he=0;he<we.length;he+=76)de.push(we.slice(he,he+76));return de.join(`\r
`)+`\r
`}function Xa(ee){var we=ee.replace(/[\x00-\x08\x0B\x0C\x0E-\x1F\x7E-\xFF=]/g,function(Be){var ze=Be.charCodeAt(0).toString(16).toUpperCase();return"="+(ze.length==1?"0"+ze:ze)});we=we.replace(/ $/mg,"=20").replace(/\t$/mg,"=09"),we.charAt(0)==`
`&&(we="=0D"+we.slice(1)),we=we.replace(/\r(?!\n)/mg,"=0D").replace(/\n\n/mg,`
=0A`).replace(/([^\r\n])\n/mg,"$1=0A");for(var de=[],he=we.split(`\r
`),ge=0;ge<he.length;++ge){var Ne=he[ge];if(Ne.length==0){de.push("");continue}for(var Me=0;Me<Ne.length;){var Ge=76,Ie=Ne.slice(Me,Me+Ge);Ie.charAt(Ge-1)=="="?Ge--:Ie.charAt(Ge-2)=="="?Ge-=2:Ie.charAt(Ge-3)=="="&&(Ge-=3),Ie=Ne.slice(Me,Me+Ge),Me+=Ge,Me<Ne.length&&(Ie+="="),de.push(Ie)}}return de.join(`\r
`)}function al(ee){for(var we=[],de=0;de<ee.length;++de){for(var he=ee[de];de<=ee.length&&he.charAt(he.length-1)=="=";)he=he.slice(0,he.length-1)+ee[++de];we.push(he)}for(var ge=0;ge<we.length;++ge)we[ge]=we[ge].replace(/[=][0-9A-Fa-f]{2}/g,function(Ne){return String.fromCharCode(parseInt(Ne.slice(1),16))});return Xl(we.join(`\r
`))}function os(ee,we,de){for(var he="",ge="",Ne="",Me,Ge=0;Ge<10;++Ge){var Ie=we[Ge];if(!Ie||Ie.match(/^\s*$/))break;var Be=Ie.match(/^(.*?):\s*([^\s].*)$/);if(Be)switch(Be[1].toLowerCase()){case"content-location":he=Be[2].trim();break;case"content-type":Ne=Be[2].trim();break;case"content-transfer-encoding":ge=Be[2].trim();break}}switch(++Ge,ge.toLowerCase()){case"base64":Me=Xl(to(we.slice(Ge).join("")));break;case"quoted-printable":Me=al(we.slice(Ge));break;default:throw new Error("Unsupported Content-Transfer-Encoding "+ge)}var ze=li(ee,he.slice(de.length),Me,{unsafe:!0});Ne&&(ze.ctype=Ne)}function Gt(ee,we){if(ue(ee.slice(0,13)).toLowerCase()!="mime-version:")throw new Error("Unsupported MAD header");var de=we&&we.root||"",he=(Cr&&Buffer.isBuffer(ee)?ee.toString("binary"):ue(ee)).split(`\r
`),ge=0,Ne="";for(ge=0;ge<he.length;++ge)if(Ne=he[ge],!!/^Content-Location:/i.test(Ne)&&(Ne=Ne.slice(Ne.indexOf("file")),de||(de=Ne.slice(0,Ne.lastIndexOf("/")+1)),Ne.slice(0,de.length)!=de))for(;de.length>0&&(de=de.slice(0,de.length-1),de=de.slice(0,de.lastIndexOf("/")+1),Ne.slice(0,de.length)!=de););var Me=(he[1]||"").match(/boundary="(.*?)"/);if(!Me)throw new Error("MAD cannot find boundary");var Ge="--"+(Me[1]||""),Ie=[],Be=[],ze={FileIndex:Ie,FullPaths:Be};P(ze);var ut,mt=0;for(ge=0;ge<he.length;++ge){var Nt=he[ge];Nt!==Ge&&Nt!==Ge+"--"||(mt++&&os(ze,he.slice(ut,ge),de),ut=ge)}return ze}function Tl(ee,we){var de=we||{},he=de.boundary||"SheetJS";he="------="+he;for(var ge=["MIME-Version: 1.0",'Content-Type: multipart/related; boundary="'+he.slice(2)+'"',"","",""],Ne=ee.FullPaths[0],Me=Ne,Ge=ee.FileIndex[0],Ie=1;Ie<ee.FullPaths.length;++Ie)if(Me=ee.FullPaths[Ie].slice(Ne.length),Ge=ee.FileIndex[Ie],!(!Ge.size||!Ge.content||Me=="Sh33tJ5")){Me=Me.replace(/[\x00-\x08\x0B\x0C\x0E-\x1F\x7E-\xFF]/g,function(Tt){return"_x"+Tt.charCodeAt(0).toString(16)+"_"}).replace(/[\u0080-\uFFFF]/g,function(Tt){return"_u"+Tt.charCodeAt(0).toString(16)+"_"});for(var Be=Ge.content,ze=Cr&&Buffer.isBuffer(Be)?Be.toString("binary"):ue(Be),ut=0,mt=Math.min(1024,ze.length),Nt=0,ht=0;ht<=mt;++ht)(Nt=ze.charCodeAt(ht))>=32&&Nt<128&&++ut;var vt=ut>=mt*4/5;ge.push(he),ge.push("Content-Location: "+(de.root||"file:///C:/SheetJS/")+Me),ge.push("Content-Transfer-Encoding: "+(vt?"quoted-printable":"base64")),ge.push("Content-Type: "+Pr(Ge,Me)),ge.push(""),ge.push(vt?Xa(ze):Ds(ze))}return ge.push(he+`--\r
`),ge.join(`\r
`)}function il(ee){var we={};return P(we,ee),we}function li(ee,we,de,he){var ge=he&&he.unsafe;ge||P(ee);var Ne=!ge&&nr.find(ee,we);if(!Ne){var Me=ee.FullPaths[0];we.slice(0,Me.length)==Me?Me=we:(Me.slice(-1)!="/"&&(Me+="/"),Me=(Me+we).replace("//","/")),Ne={name:a(we),type:2},ee.FileIndex.push(Ne),ee.FullPaths.push(Me),ge||nr.utils.cfb_gc(ee)}return Ne.content=de,Ne.size=de?de.length:0,he&&(he.CLSID&&(Ne.clsid=he.CLSID),he.mt&&(Ne.mt=he.mt),he.ct&&(Ne.ct=he.ct)),Ne}function $i(ee,we){P(ee);var de=nr.find(ee,we);if(de){for(var he=0;he<ee.FileIndex.length;++he)if(ee.FileIndex[he]==de)return ee.FileIndex.splice(he,1),ee.FullPaths.splice(he,1),!0}return!1}function Sn(ee,we,de){P(ee);var he=nr.find(ee,we);if(he){for(var ge=0;ge<ee.FileIndex.length;++ge)if(ee.FileIndex[ge]==he)return ee.FileIndex[ge].name=a(de),ee.FullPaths[ge]=de,!0}return!1}function ta(ee){B(ee,!0)}return t.find=I,t.read=R,t.parse=h,t.write=je,t.writeFile=ve,t.utils={cfb_new:il,cfb_add:li,cfb_del:$i,cfb_mov:Sn,cfb_gc:ta,ReadShift:bx,CheckField:RP,prep_blob:rs,bconcat:Ii,use_zlib:F,_deflateRaw:xt,_inflateRaw:Ar,consts:le},t})();function CW(e){return typeof e=="string"?n2(e):Array.isArray(e)?tW(e):e}function yg(e,t,r){if(typeof Deno<"u"){if(r&&typeof t=="string")switch(r){case"utf8":t=new TextEncoder(r).encode(t);break;case"binary":t=n2(t);break;default:throw new Error("Unsupported encoding "+r)}return Deno.writeFileSync(e,t)}var n=r=="utf8"?iu(t):t;if(typeof IE_SaveFile<"u")return IE_SaveFile(n,e);if(typeof Blob<"u"){var a=new Blob([CW(n)],{type:"application/octet-stream"});if(typeof navigator<"u"&&navigator.msSaveBlob)return navigator.msSaveBlob(a,e);if(typeof saveAs<"u")return saveAs(a,e);if(typeof URL<"u"&&typeof document<"u"&&document.createElement&&URL.createObjectURL){var i=URL.createObjectURL(a);if(typeof chrome=="object"&&typeof(chrome.downloads||{}).download=="function")return URL.revokeObjectURL&&typeof setTimeout<"u"&&setTimeout(function(){URL.revokeObjectURL(i)},6e4),chrome.downloads.download({url:i,filename:e,saveAs:!0});var l=document.createElement("a");if(l.download!=null)return l.download=e,l.href=i,document.body.appendChild(l),l.click(),document.body.removeChild(l),URL.revokeObjectURL&&typeof setTimeout<"u"&&setTimeout(function(){URL.revokeObjectURL(i)},6e4),i}}if(typeof $<"u"&&typeof File<"u"&&typeof Folder<"u")try{var o=File(e);return o.open("w"),o.encoding="binary",Array.isArray(t)&&(t=Md(t)),o.write(t),o.close(),t}catch(f){if(!f.message||!f.message.match(/onstruct/))throw f}throw new Error("cannot save file "+e)}function TW(e){if(typeof Deno<"u")return Deno.readFileSync(e);if(typeof $<"u"&&typeof File<"u"&&typeof Folder<"u")try{var t=File(e);t.open("r"),t.encoding="binary";var r=t.read();return t.close(),r}catch(n){if(!n.message||!n.message.match(/onstruct/))throw n}throw new Error("Cannot access file "+e)}function Ia(e){for(var t=Object.keys(e),r=[],n=0;n<t.length;++n)Object.prototype.hasOwnProperty.call(e,t[n])&&r.push(t[n]);return r}function UE(e,t){for(var r=[],n=Ia(e),a=0;a!==n.length;++a)r[e[n[a]][t]]==null&&(r[e[n[a]][t]]=n[a]);return r}function i2(e){for(var t=[],r=Ia(e),n=0;n!==r.length;++n)t[e[r[n]]]=r[n];return t}function s2(e){for(var t=[],r=Ia(e),n=0;n!==r.length;++n)t[e[r[n]]]=parseInt(r[n],10);return t}function OW(e){for(var t=[],r=Ia(e),n=0;n!==r.length;++n)t[e[r[n]]]==null&&(t[e[r[n]]]=[]),t[e[r[n]]].push(r[n]);return t}var Zv=new Date(1899,11,30,0,0,0);function _i(e,t){var r=e.getTime(),n=Zv.getTime()+(e.getTimezoneOffset()-Zv.getTimezoneOffset())*6e4;return(r-n)/(1440*60*1e3)}var xP=new Date,DW=Zv.getTime()+(xP.getTimezoneOffset()-Zv.getTimezoneOffset())*6e4,zE=xP.getTimezoneOffset();function l2(e){var t=new Date;return t.setTime(e*24*60*60*1e3+DW),t.getTimezoneOffset()!==zE&&t.setTime(t.getTime()+(t.getTimezoneOffset()-zE)*6e4),t}function PW(e){var t=0,r=0,n=!1,a=e.match(/P([0-9\.]+Y)?([0-9\.]+M)?([0-9\.]+D)?T([0-9\.]+H)?([0-9\.]+M)?([0-9\.]+S)?/);if(!a)throw new Error("|"+e+"| is not an ISO8601 Duration");for(var i=1;i!=a.length;++i)if(a[i]){switch(r=1,i>3&&(n=!0),a[i].slice(a[i].length-1)){case"Y":throw new Error("Unsupported ISO Duration Field: "+a[i].slice(a[i].length-1));case"D":r*=24;case"H":r*=60;case"M":if(n)r*=60;else throw new Error("Unsupported ISO Duration Field: M")}t+=r*parseInt(a[i],10)}return t}var qE=new Date("2017-02-19T19:06:09.000Z"),gP=isNaN(qE.getFullYear())?new Date("2/19/17"):qE,FW=gP.getFullYear()==2017;function Zn(e,t){var r=new Date(e);if(FW)return t>0?r.setTime(r.getTime()+r.getTimezoneOffset()*60*1e3):t<0&&r.setTime(r.getTime()-r.getTimezoneOffset()*60*1e3),r;if(e instanceof Date)return e;if(gP.getFullYear()==1917&&!isNaN(r.getFullYear())){var n=r.getFullYear();return e.indexOf(""+n)>-1||r.setFullYear(r.getFullYear()+100),r}var a=e.match(/\d+/g)||["2017","2","19","0","0","0"],i=new Date(+a[0],+a[1]-1,+a[2],+a[3]||0,+a[4]||0,+a[5]||0);return e.indexOf("Z")>-1&&(i=new Date(i.getTime()-i.getTimezoneOffset()*60*1e3)),i}function V0(e,t){if(Cr&&Buffer.isBuffer(e)){if(t){if(e[0]==255&&e[1]==254)return iu(e.slice(2).toString("utf16le"));if(e[1]==254&&e[2]==255)return iu(aP(e.slice(2).toString("binary")))}return e.toString("binary")}if(typeof TextDecoder<"u")try{if(t){if(e[0]==255&&e[1]==254)return iu(new TextDecoder("utf-16le").decode(e.slice(2)));if(e[0]==254&&e[1]==255)return iu(new TextDecoder("utf-16be").decode(e.slice(2)))}var r={"":"","":"",:"","":"","":"","":"","":"","":"","":"",:"","":"",:"",:"","":"","":"","":"","":"","":"","":"","":"","":"","":"",:"","":"",:"",:"",:""};return Array.isArray(e)&&(e=new Uint8Array(e)),new TextDecoder("latin1").decode(e).replace(/[]/g,function(i){return r[i]||i})}catch{}for(var n=[],a=0;a!=e.length;++a)n.push(String.fromCharCode(e[a]));return n.join("")}function Jn(e){if(typeof JSON<"u"&&!Array.isArray(e))return JSON.parse(JSON.stringify(e));if(typeof e!="object"||e==null)return e;if(e instanceof Date)return new Date(e.getTime());var t={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=Jn(e[r]));return t}function Fa(e,t){for(var r="";r.length<t;)r+=e;return r}function Nc(e){var t=Number(e);if(!isNaN(t))return isFinite(t)?t:NaN;if(!/\d/.test(e))return t;var r=1,n=e.replace(/([\d]),([\d])/g,"$1$2").replace(/[$]/g,"").replace(/[%]/g,function(){return r*=100,""});return!isNaN(t=Number(n))||(n=n.replace(/[(](.*)[)]/,function(a,i){return r=-r,i}),!isNaN(t=Number(n)))?t/r:t}var LW=["january","february","march","april","may","june","july","august","september","october","november","december"];function Rm(e){var t=new Date(e),r=new Date(NaN),n=t.getYear(),a=t.getMonth(),i=t.getDate();if(isNaN(i))return r;var l=e.toLowerCase();if(l.match(/jan|feb|mar|apr|may|jun|jul|aug|sep|oct|nov|dec/)){if(l=l.replace(/[^a-z]/g,"").replace(/([^a-z]|^)[ap]m?([^a-z]|$)/,""),l.length>3&&LW.indexOf(l)==-1)return r}else if(l.match(/[a-z]/))return r;return n<0||n>8099?r:(a>0||i>1)&&n!=101?t:e.match(/[^-0-9:,\/\\]/)?r:t}var MW=(function(){var e="abacaba".split(/(:?b)/i).length==5;return function(r,n,a){if(e||typeof n=="string")return r.split(n);for(var i=r.split(n),l=[i[0]],o=1;o<i.length;++o)l.push(a),l.push(i[o]);return l}})();function vP(e){return e?e.content&&e.type?V0(e.content,!0):e.data?mx(e.data):e.asNodeBuffer&&Cr?mx(e.asNodeBuffer().toString("binary")):e.asBinary?mx(e.asBinary()):e._data&&e._data.getContent?mx(V0(Array.prototype.slice.call(e._data.getContent(),0))):null:null}function yP(e){if(!e)return null;if(e.data)return TE(e.data);if(e.asNodeBuffer&&Cr)return e.asNodeBuffer();if(e._data&&e._data.getContent){var t=e._data.getContent();return typeof t=="string"?TE(t):Array.prototype.slice.call(t)}return e.content&&e.type?e.content:null}function RW(e){return e&&e.name.slice(-4)===".bin"?yP(e):vP(e)}function Do(e,t){for(var r=e.FullPaths||Ia(e.files),n=t.toLowerCase().replace(/[\/]/g,"\\"),a=n.replace(/\\/g,"/"),i=0;i<r.length;++i){var l=r[i].replace(/^Root Entry[\/]/,"").toLowerCase();if(n==l||a==l)return e.files?e.files[r[i]]:e.FileIndex[i]}return null}function KN(e,t){var r=Do(e,t);if(r==null)throw new Error("Cannot find file "+t+" in zip");return r}function ri(e,t,r){if(!r)return RW(KN(e,t));if(!t)return null;try{return ri(e,t)}catch{return null}}function Ql(e,t,r){if(!r)return vP(KN(e,t));if(!t)return null;try{return Ql(e,t)}catch{return null}}function IW(e,t,r){return yP(KN(e,t))}function $E(e){for(var t=e.FullPaths||Ia(e.files),r=[],n=0;n<t.length;++n)t[n].slice(-1)!="/"&&r.push(t[n].replace(/^Root Entry[\/]/,""));return r.sort()}function jr(e,t,r){if(e.FullPaths){if(typeof r=="string"){var n;return Cr?n=bf(r):n=rW(r),nr.utils.cfb_add(e,t,n)}nr.utils.cfb_add(e,t,r)}else e.file(t,r)}function YN(){return nr.utils.cfb_new()}function bP(e,t){switch(t.type){case"base64":return nr.read(e,{type:"base64"});case"binary":return nr.read(e,{type:"binary"});case"buffer":case"array":return nr.read(e,{type:"buffer"})}throw new Error("Unrecognized type "+t.type)}function xx(e,t){if(e.charAt(0)=="/")return e.slice(1);var r=t.split("/");t.slice(-1)!="/"&&r.pop();for(var n=e.split("/");n.length!==0;){var a=n.shift();a===".."?r.pop():a!=="."&&r.push(a)}return r.join("/")}var Ya=`<?xml version="1.0" encoding="UTF-8" standalone="yes"?>\r
`,BW=/([^"\s?>\/]+)\s*=\s*((?:")([^"]*)(?:")|(?:')([^']*)(?:')|([^'">\s]+))/g,HE=/<[\/\?]?[a-zA-Z0-9:_-]+(?:\s+[^"\s?>\/]+\s*=\s*(?:"[^"]*"|'[^']*'|[^'">\s=]+))*\s*[\/\?]?>/mg,UW=/<[^>]*>/g,Ts=Ya.match(HE)?HE:UW,zW=/<\w*:/,qW=/<(\/?)\w+:/;function dr(e,t,r){for(var n={},a=0,i=0;a!==e.length&&!((i=e.charCodeAt(a))===32||i===10||i===13);++a);if(t||(n[0]=e.slice(0,a)),a===e.length)return n;var l=e.match(BW),o=0,f="",u=0,h="",p="",g=1;if(l)for(u=0;u!=l.length;++u){for(p=l[u],i=0;i!=p.length&&p.charCodeAt(i)!==61;++i);for(h=p.slice(0,i).trim();p.charCodeAt(i+1)==32;)++i;for(g=(a=p.charCodeAt(i+1))==34||a==39?1:0,f=p.slice(i+1+g,p.length-g),o=0;o!=h.length&&h.charCodeAt(o)!==58;++o);if(o===h.length)h.indexOf("_")>0&&(h=h.slice(0,h.indexOf("_"))),n[h]=f,n[h.toLowerCase()]=f;else{var x=(o===5&&h.slice(0,5)==="xmlns"?"xmlns":"")+h.slice(o+1);if(n[x]&&h.slice(o-3,o)=="ext")continue;n[x]=f,n[x.toLowerCase()]=f}}return n}function du(e){return e.replace(qW,"<$1")}var wP={"&quot;":'"',"&apos;":"'","&gt;":">","&lt;":"<","&amp;":"&"},XN=i2(wP),Xr=(function(){var e=/&(?:quot|apos|gt|lt|amp|#x?([\da-fA-F]+));/ig,t=/_x([\da-fA-F]{4})_/ig;return function r(n){var a=n+"",i=a.indexOf("<![CDATA[");if(i==-1)return a.replace(e,function(o,f){return wP[o]||String.fromCharCode(parseInt(f,o.indexOf("x")>-1?16:10))||o}).replace(t,function(o,f){return String.fromCharCode(parseInt(f,16))});var l=a.indexOf("]]>");return r(a.slice(0,i))+a.slice(i+9,l)+r(a.slice(l+3))}})(),QN=/[&<>'"]/g,$W=/[\u0000-\u0008\u000b-\u001f]/g;function Nn(e){var t=e+"";return t.replace(QN,function(r){return XN[r]}).replace($W,function(r){return"_x"+("000"+r.charCodeAt(0).toString(16)).slice(-4)+"_"})}function VE(e){return Nn(e).replace(/ /g,"_x0020_")}var _P=/[\u0000-\u001f]/g;function ZN(e){var t=e+"";return t.replace(QN,function(r){return XN[r]}).replace(/\n/g,"<br/>").replace(_P,function(r){return"&#x"+("000"+r.charCodeAt(0).toString(16)).slice(-4)+";"})}function HW(e){var t=e+"";return t.replace(QN,function(r){return XN[r]}).replace(_P,function(r){return"&#x"+r.charCodeAt(0).toString(16).toUpperCase()+";"})}var WE=(function(){var e=/&#(\d+);/g;function t(r,n){return String.fromCharCode(parseInt(n,10))}return function(n){return n.replace(e,t)}})();function VW(e){return e.replace(/(\r\n|[\r\n])/g,"&#10;")}function Xn(e){switch(e){case 1:case!0:case"1":case"true":case"TRUE":return!0;default:return!1}}function ww(e){for(var t="",r=0,n=0,a=0,i=0,l=0,o=0;r<e.length;){if(n=e.charCodeAt(r++),n<128){t+=String.fromCharCode(n);continue}if(a=e.charCodeAt(r++),n>191&&n<224){l=(n&31)<<6,l|=a&63,t+=String.fromCharCode(l);continue}if(i=e.charCodeAt(r++),n<240){t+=String.fromCharCode((n&15)<<12|(a&63)<<6|i&63);continue}l=e.charCodeAt(r++),o=((n&7)<<18|(a&63)<<12|(i&63)<<6|l&63)-65536,t+=String.fromCharCode(55296+(o>>>10&1023)),t+=String.fromCharCode(56320+(o&1023))}return t}function GE(e){var t=jd(2*e.length),r,n,a=1,i=0,l=0,o;for(n=0;n<e.length;n+=a)a=1,(o=e.charCodeAt(n))<128?r=o:o<224?(r=(o&31)*64+(e.charCodeAt(n+1)&63),a=2):o<240?(r=(o&15)*4096+(e.charCodeAt(n+1)&63)*64+(e.charCodeAt(n+2)&63),a=3):(a=4,r=(o&7)*262144+(e.charCodeAt(n+1)&63)*4096+(e.charCodeAt(n+2)&63)*64+(e.charCodeAt(n+3)&63),r-=65536,l=55296+(r>>>10&1023),r=56320+(r&1023)),l!==0&&(t[i++]=l&255,t[i++]=l>>>8,l=0),t[i++]=r%256,t[i++]=r>>>8;return t.slice(0,i).toString("ucs2")}function KE(e){return bf(e,"binary").toString("utf8")}var V1="foo bar baz",Dn=Cr&&(KE(V1)==ww(V1)&&KE||GE(V1)==ww(V1)&&GE)||ww,iu=Cr?function(e){return bf(e,"utf8").toString("binary")}:function(e){for(var t=[],r=0,n=0,a=0;r<e.length;)switch(n=e.charCodeAt(r++),!0){case n<128:t.push(String.fromCharCode(n));break;case n<2048:t.push(String.fromCharCode(192+(n>>6))),t.push(String.fromCharCode(128+(n&63)));break;case(n>=55296&&n<57344):n-=55296,a=e.charCodeAt(r++)-56320+(n<<10),t.push(String.fromCharCode(240+(a>>18&7))),t.push(String.fromCharCode(144+(a>>12&63))),t.push(String.fromCharCode(128+(a>>6&63))),t.push(String.fromCharCode(128+(a&63)));break;default:t.push(String.fromCharCode(224+(n>>12))),t.push(String.fromCharCode(128+(n>>6&63))),t.push(String.fromCharCode(128+(n&63)))}return t.join("")},zx=(function(){var e={};return function(r,n){var a=r+"|"+(n||"");return e[a]?e[a]:e[a]=new RegExp("<(?:\\w+:)?"+r+'(?: xml:space="preserve")?(?:[^>]*)>([\\s\\S]*?)</(?:\\w+:)?'+r+">",n||"")}})(),NP=(function(){var e=[["nbsp"," "],["middot",""],["quot",'"'],["apos","'"],["gt",">"],["lt","<"],["amp","&"]].map(function(t){return[new RegExp("&"+t[0]+";","ig"),t[1]]});return function(r){for(var n=r.replace(/^[\t\n\r ]+/,"").replace(/[\t\n\r ]+$/,"").replace(/>\s+/g,">").replace(/\s+</g,"<").replace(/[\t\n\r ]+/g," ").replace(/<\s*[bB][rR]\s*\/?>/g,`
`).replace(/<[^>]*>/g,""),a=0;a<e.length;++a)n=n.replace(e[a][0],e[a][1]);return n}})(),WW=(function(){var e={};return function(r){return e[r]!==void 0?e[r]:e[r]=new RegExp("<(?:vt:)?"+r+">([\\s\\S]*?)</(?:vt:)?"+r+">","g")}})(),GW=/<\/?(?:vt:)?variant>/g,KW=/<(?:vt:)([^>]*)>([\s\S]*)</;function YE(e,t){var r=dr(e),n=e.match(WW(r.baseType))||[],a=[];if(n.length!=r.size){if(t.WTF)throw new Error("unexpected vector length "+n.length+" != "+r.size);return a}return n.forEach(function(i){var l=i.replace(GW,"").match(KW);l&&a.push({v:Dn(l[2]),t:l[1]})}),a}var SP=/(^\s|\s$|\n)/;function as(e,t){return"<"+e+(t.match(SP)?' xml:space="preserve"':"")+">"+t+"</"+e+">"}function qx(e){return Ia(e).map(function(t){return" "+t+'="'+e[t]+'"'}).join("")}function gt(e,t,r){return"<"+e+(r!=null?qx(r):"")+(t!=null?(t.match(SP)?' xml:space="preserve"':"")+">"+t+"</"+e:"/")+">"}function Q4(e,t){try{return e.toISOString().replace(/\.\d*/,"")}catch(r){if(t)throw r}return""}function YW(e,t){switch(typeof e){case"string":var r=gt("vt:lpwstr",Nn(e));return r=r.replace(/&quot;/g,"_x0022_"),r;case"number":return gt((e|0)==e?"vt:i4":"vt:r8",Nn(String(e)));case"boolean":return gt("vt:bool",e?"true":"false")}if(e instanceof Date)return gt("vt:filetime",Q4(e));throw new Error("Unable to serialize "+e)}function JN(e){if(Cr&&Buffer.isBuffer(e))return e.toString("utf8");if(typeof e=="string")return e;if(typeof Uint8Array<"u"&&e instanceof Uint8Array)return Dn(Md(VN(e)));throw new Error("Bad input format: expected Buffer or string")}var $x=/<(\/?)([^\s?><!\/:]*:|)([^\s?<>:\/]+)(?:[\s?:\/][^>]*)?>/mg,bi={CORE_PROPS:"http://schemas.openxmlformats.org/package/2006/metadata/core-properties",CUST_PROPS:"http://schemas.openxmlformats.org/officeDocument/2006/custom-properties",EXT_PROPS:"http://schemas.openxmlformats.org/officeDocument/2006/extended-properties",CT:"http://schemas.openxmlformats.org/package/2006/content-types",RELS:"http://schemas.openxmlformats.org/package/2006/relationships",TCMNT:"http://schemas.microsoft.com/office/spreadsheetml/2018/threadedcomments",dc:"http://purl.org/dc/elements/1.1/",dcterms:"http://purl.org/dc/terms/",dcmitype:"http://purl.org/dc/dcmitype/",r:"http://schemas.openxmlformats.org/officeDocument/2006/relationships",vt:"http://schemas.openxmlformats.org/officeDocument/2006/docPropsVTypes",xsi:"http://www.w3.org/2001/XMLSchema-instance",xsd:"http://www.w3.org/2001/XMLSchema"},lh=["http://schemas.openxmlformats.org/spreadsheetml/2006/main","http://purl.oclc.org/ooxml/spreadsheetml/main","http://schemas.microsoft.com/office/excel/2006/main","http://schemas.microsoft.com/office/excel/2006/2"],Gl={o:"urn:schemas-microsoft-com:office:office",x:"urn:schemas-microsoft-com:office:excel",ss:"urn:schemas-microsoft-com:office:spreadsheet",dt:"uuid:C2F41010-65B3-11d1-A29F-00AA00C14882",mv:"http://macVmlSchemaUri",v:"urn:schemas-microsoft-com:vml",html:"http://www.w3.org/TR/REC-html40"};function XW(e,t){for(var r=1-2*(e[t+7]>>>7),n=((e[t+7]&127)<<4)+(e[t+6]>>>4&15),a=e[t+6]&15,i=5;i>=0;--i)a=a*256+e[t+i];return n==2047?a==0?r*(1/0):NaN:(n==0?n=-1022:(n-=1023,a+=Math.pow(2,52)),r*Math.pow(2,n-52)*a)}function QW(e,t,r){var n=(t<0||1/t==-1/0?1:0)<<7,a=0,i=0,l=n?-t:t;isFinite(l)?l==0?a=i=0:(a=Math.floor(Math.log(l)/Math.LN2),i=l*Math.pow(2,52-a),a<=-1023&&(!isFinite(i)||i<Math.pow(2,52))?a=-1022:(i-=Math.pow(2,52),a+=1023)):(a=2047,i=isNaN(t)?26985:0);for(var o=0;o<=5;++o,i/=256)e[r+o]=i&255;e[r+6]=(a&15)<<4|i&15,e[r+7]=a>>4|n}var XE=function(e){for(var t=[],r=10240,n=0;n<e[0].length;++n)if(e[0][n])for(var a=0,i=e[0][n].length;a<i;a+=r)t.push.apply(t,e[0][n].slice(a,a+r));return t},QE=Cr?function(e){return e[0].length>0&&Buffer.isBuffer(e[0][0])?Buffer.concat(e[0].map(function(t){return Buffer.isBuffer(t)?t:bf(t)})):XE(e)}:XE,ZE=function(e,t,r){for(var n=[],a=t;a<r;a+=2)n.push(String.fromCharCode(Xu(e,a)));return n.join("").replace(el,"")},e3=Cr?function(e,t,r){return Buffer.isBuffer(e)?e.toString("utf16le",t,r).replace(el,""):ZE(e,t,r)}:ZE,JE=function(e,t,r){for(var n=[],a=t;a<t+r;++a)n.push(("0"+e[a].toString(16)).slice(-2));return n.join("")},jP=Cr?function(e,t,r){return Buffer.isBuffer(e)?e.toString("hex",t,t+r):JE(e,t,r)}:JE,ek=function(e,t,r){for(var n=[],a=t;a<r;a++)n.push(String.fromCharCode(xm(e,a)));return n.join("")},bg=Cr?function(t,r,n){return Buffer.isBuffer(t)?t.toString("utf8",r,n):ek(t,r,n)}:ek,AP=function(e,t){var r=Kl(e,t);return r>0?bg(e,t+4,t+4+r-1):""},EP=AP,kP=function(e,t){var r=Kl(e,t);return r>0?bg(e,t+4,t+4+r-1):""},CP=kP,TP=function(e,t){var r=2*Kl(e,t);return r>0?bg(e,t+4,t+4+r-1):""},OP=TP,DP=function(t,r){var n=Kl(t,r);return n>0?e3(t,r+4,r+4+n):""},PP=DP,FP=function(e,t){var r=Kl(e,t);return r>0?bg(e,t+4,t+4+r):""},LP=FP,MP=function(e,t){return XW(e,t)},Jv=MP,t3=function(t){return Array.isArray(t)||typeof Uint8Array<"u"&&t instanceof Uint8Array};Cr&&(EP=function(t,r){if(!Buffer.isBuffer(t))return AP(t,r);var n=t.readUInt32LE(r);return n>0?t.toString("utf8",r+4,r+4+n-1):""},CP=function(t,r){if(!Buffer.isBuffer(t))return kP(t,r);var n=t.readUInt32LE(r);return n>0?t.toString("utf8",r+4,r+4+n-1):""},OP=function(t,r){if(!Buffer.isBuffer(t))return TP(t,r);var n=2*t.readUInt32LE(r);return t.toString("utf16le",r+4,r+4+n-1)},PP=function(t,r){if(!Buffer.isBuffer(t))return DP(t,r);var n=t.readUInt32LE(r);return t.toString("utf16le",r+4,r+4+n)},LP=function(t,r){if(!Buffer.isBuffer(t))return FP(t,r);var n=t.readUInt32LE(r);return t.toString("utf8",r+4,r+4+n)},Jv=function(t,r){return Buffer.isBuffer(t)?t.readDoubleLE(r):MP(t,r)},t3=function(t){return Buffer.isBuffer(t)||Array.isArray(t)||typeof Uint8Array<"u"&&t instanceof Uint8Array});var xm=function(e,t){return e[t]},Xu=function(e,t){return e[t+1]*256+e[t]},ZW=function(e,t){var r=e[t+1]*256+e[t];return r<32768?r:(65535-r+1)*-1},Kl=function(e,t){return e[t+3]*(1<<24)+(e[t+2]<<16)+(e[t+1]<<8)+e[t]},S0=function(e,t){return e[t+3]<<24|e[t+2]<<16|e[t+1]<<8|e[t]},JW=function(e,t){return e[t]<<24|e[t+1]<<16|e[t+2]<<8|e[t+3]};function bx(e,t){var r="",n,a,i=[],l,o,f,u;switch(t){case"dbcs":if(u=this.l,Cr&&Buffer.isBuffer(this))r=this.slice(this.l,this.l+2*e).toString("utf16le");else for(f=0;f<e;++f)r+=String.fromCharCode(Xu(this,u)),u+=2;e*=2;break;case"utf8":r=bg(this,this.l,this.l+e);break;case"utf16le":e*=2,r=e3(this,this.l,this.l+e);break;case"wstr":return bx.call(this,e,"dbcs");case"lpstr-ansi":r=EP(this,this.l),e=4+Kl(this,this.l);break;case"lpstr-cp":r=CP(this,this.l),e=4+Kl(this,this.l);break;case"lpwstr":r=OP(this,this.l),e=4+2*Kl(this,this.l);break;case"lpp4":e=4+Kl(this,this.l),r=PP(this,this.l),e&2&&(e+=2);break;case"8lpp4":e=4+Kl(this,this.l),r=LP(this,this.l),e&3&&(e+=4-(e&3));break;case"cstr":for(e=0,r="";(l=xm(this,this.l+e++))!==0;)i.push(H1(l));r=i.join("");break;case"_wstr":for(e=0,r="";(l=Xu(this,this.l+e))!==0;)i.push(H1(l)),e+=2;e+=2,r=i.join("");break;case"dbcs-cont":for(r="",u=this.l,f=0;f<e;++f){if(this.lens&&this.lens.indexOf(u)!==-1)return l=xm(this,u),this.l=u+1,o=bx.call(this,e-f,l?"dbcs-cont":"sbcs-cont"),i.join("")+o;i.push(H1(Xu(this,u))),u+=2}r=i.join(""),e*=2;break;case"cpstr":case"sbcs-cont":for(r="",u=this.l,f=0;f!=e;++f){if(this.lens&&this.lens.indexOf(u)!==-1)return l=xm(this,u),this.l=u+1,o=bx.call(this,e-f,l?"dbcs-cont":"sbcs-cont"),i.join("")+o;i.push(H1(xm(this,u))),u+=1}r=i.join("");break;default:switch(e){case 1:return n=xm(this,this.l),this.l++,n;case 2:return n=(t==="i"?ZW:Xu)(this,this.l),this.l+=2,n;case 4:case-4:return t==="i"||(this[this.l+3]&128)===0?(n=(e>0?S0:JW)(this,this.l),this.l+=4,n):(a=Kl(this,this.l),this.l+=4,a);case 8:case-8:if(t==="f")return e==8?a=Jv(this,this.l):a=Jv([this[this.l+7],this[this.l+6],this[this.l+5],this[this.l+4],this[this.l+3],this[this.l+2],this[this.l+1],this[this.l+0]],0),this.l+=8,a;e=8;case 16:r=jP(this,this.l,e);break}}return this.l+=e,r}var eG=function(e,t,r){e[r]=t&255,e[r+1]=t>>>8&255,e[r+2]=t>>>16&255,e[r+3]=t>>>24&255},tG=function(e,t,r){e[r]=t&255,e[r+1]=t>>8&255,e[r+2]=t>>16&255,e[r+3]=t>>24&255},rG=function(e,t,r){e[r]=t&255,e[r+1]=t>>>8&255};function nG(e,t,r){var n=0,a=0;if(r==="dbcs"){for(a=0;a!=t.length;++a)rG(this,t.charCodeAt(a),this.l+2*a);n=2*t.length}else if(r==="sbcs"){for(t=t.replace(/[^\x00-\x7F]/g,"_"),a=0;a!=t.length;++a)this[this.l+a]=t.charCodeAt(a)&255;n=t.length}else if(r==="hex"){for(;a<e;++a)this[this.l++]=parseInt(t.slice(2*a,2*a+2),16)||0;return this}else if(r==="utf16le"){var i=Math.min(this.l+e,this.length);for(a=0;a<Math.min(t.length,e);++a){var l=t.charCodeAt(a);this[this.l++]=l&255,this[this.l++]=l>>8}for(;this.l<i;)this[this.l++]=0;return this}else switch(e){case 1:n=1,this[this.l]=t&255;break;case 2:n=2,this[this.l]=t&255,t>>>=8,this[this.l+1]=t&255;break;case 3:n=3,this[this.l]=t&255,t>>>=8,this[this.l+1]=t&255,t>>>=8,this[this.l+2]=t&255;break;case 4:n=4,eG(this,t,this.l);break;case 8:if(n=8,r==="f"){QW(this,t,this.l);break}case 16:break;case-4:n=4,tG(this,t,this.l);break}return this.l+=n,this}function RP(e,t){var r=jP(this,this.l,e.length>>1);if(r!==e)throw new Error(t+"Expected "+e+" saw "+r);this.l+=e.length>>1}function rs(e,t){e.l=t,e.read_shift=bx,e.chk=RP,e.write_shift=nG}function ks(e,t){e.l+=t}function Ze(e){var t=jd(e);return rs(t,0),t}function wf(e,t,r){if(e){var n,a,i;rs(e,e.l||0);for(var l=e.length,o=0,f=0;e.l<l;){o=e.read_shift(1),o&128&&(o=(o&127)+((e.read_shift(1)&127)<<7));var u=Yx[o]||Yx[65535];for(n=e.read_shift(1),i=n&127,a=1;a<4&&n&128;++a)i+=((n=e.read_shift(1))&127)<<7*a;f=e.l+i;var h=u.f&&u.f(e,i,r);if(e.l=f,t(h,u,o))return}}}function Al(){var e=[],t=Cr?256:2048,r=function(u){var h=Ze(u);return rs(h,0),h},n=r(t),a=function(){n&&(n.length>n.l&&(n=n.slice(0,n.l),n.l=n.length),n.length>0&&e.push(n),n=null)},i=function(u){return n&&u<n.length-n.l?n:(a(),n=r(Math.max(u+1,t)))},l=function(){return a(),Ii(e)},o=function(u){a(),n=u,n.l==null&&(n.l=n.length),i(t)};return{next:i,push:o,end:l,_bufs:e}}function ct(e,t,r,n){var a=+t,i;if(!isNaN(a)){n||(n=Yx[a].p||(r||[]).length||0),i=1+(a>=128?1:0)+1,n>=128&&++i,n>=16384&&++i,n>=2097152&&++i;var l=e.next(i);a<=127?l.write_shift(1,a):(l.write_shift(1,(a&127)+128),l.write_shift(1,a>>7));for(var o=0;o!=4;++o)if(n>=128)l.write_shift(1,(n&127)+128),n>>=7;else{l.write_shift(1,n);break}n>0&&t3(r)&&e.push(r)}}function wx(e,t,r){var n=Jn(e);if(t.s?(n.cRel&&(n.c+=t.s.c),n.rRel&&(n.r+=t.s.r)):(n.cRel&&(n.c+=t.c),n.rRel&&(n.r+=t.r)),!r||r.biff<12){for(;n.c>=256;)n.c-=256;for(;n.r>=65536;)n.r-=65536}return n}function tk(e,t,r){var n=Jn(e);return n.s=wx(n.s,t.s,r),n.e=wx(n.e,t.s,r),n}function _x(e,t){if(e.cRel&&e.c<0)for(e=Jn(e);e.c<0;)e.c+=t>8?16384:256;if(e.rRel&&e.r<0)for(e=Jn(e);e.r<0;)e.r+=t>8?1048576:t>5?65536:16384;var r=ur(e);return!e.cRel&&e.cRel!=null&&(r=sG(r)),!e.rRel&&e.rRel!=null&&(r=aG(r)),r}function _w(e,t){return e.s.r==0&&!e.s.rRel&&e.e.r==(t.biff>=12?1048575:t.biff>=8?65536:16384)&&!e.e.rRel?(e.s.cRel?"":"$")+Na(e.s.c)+":"+(e.e.cRel?"":"$")+Na(e.e.c):e.s.c==0&&!e.s.cRel&&e.e.c==(t.biff>=12?16383:255)&&!e.e.cRel?(e.s.rRel?"":"$")+Ka(e.s.r)+":"+(e.e.rRel?"":"$")+Ka(e.e.r):_x(e.s,t.biff)+":"+_x(e.e,t.biff)}function r3(e){return parseInt(iG(e),10)-1}function Ka(e){return""+(e+1)}function aG(e){return e.replace(/([A-Z]|^)(\d+)$/,"$1$$$2")}function iG(e){return e.replace(/\$(\d+)$/,"$1")}function n3(e){for(var t=lG(e),r=0,n=0;n!==t.length;++n)r=26*r+t.charCodeAt(n)-64;return r-1}function Na(e){if(e<0)throw new Error("invalid column "+e);var t="";for(++e;e;e=Math.floor((e-1)/26))t=String.fromCharCode((e-1)%26+65)+t;return t}function sG(e){return e.replace(/^([A-Z])/,"$$$1")}function lG(e){return e.replace(/^\$([A-Z])/,"$1")}function oG(e){return e.replace(/(\$?[A-Z]*)(\$?\d*)/,"$1,$2").split(",")}function Sa(e){for(var t=0,r=0,n=0;n<e.length;++n){var a=e.charCodeAt(n);a>=48&&a<=57?t=10*t+(a-48):a>=65&&a<=90&&(r=26*r+(a-64))}return{c:r-1,r:t-1}}function ur(e){for(var t=e.c+1,r="";t;t=(t-1)/26|0)r=String.fromCharCode((t-1)%26+65)+r;return r+(e.r+1)}function kl(e){var t=e.indexOf(":");return t==-1?{s:Sa(e),e:Sa(e)}:{s:Sa(e.slice(0,t)),e:Sa(e.slice(t+1))}}function _r(e,t){return typeof t>"u"||typeof t=="number"?_r(e.s,e.e):(typeof e!="string"&&(e=ur(e)),typeof t!="string"&&(t=ur(t)),e==t?e:e+":"+t)}function Zr(e){var t={s:{c:0,r:0},e:{c:0,r:0}},r=0,n=0,a=0,i=e.length;for(r=0;n<i&&!((a=e.charCodeAt(n)-64)<1||a>26);++n)r=26*r+a;for(t.s.c=--r,r=0;n<i&&!((a=e.charCodeAt(n)-48)<0||a>9);++n)r=10*r+a;if(t.s.r=--r,n===i||a!=10)return t.e.c=t.s.c,t.e.r=t.s.r,t;for(++n,r=0;n!=i&&!((a=e.charCodeAt(n)-64)<1||a>26);++n)r=26*r+a;for(t.e.c=--r,r=0;n!=i&&!((a=e.charCodeAt(n)-48)<0||a>9);++n)r=10*r+a;return t.e.r=--r,t}function rk(e,t){var r=e.t=="d"&&t instanceof Date;if(e.z!=null)try{return e.w=Bo(e.z,r?_i(t):t)}catch{}try{return e.w=Bo((e.XF||{}).numFmtId||(r?14:0),r?_i(t):t)}catch{return""+t}}function ff(e,t,r){return e==null||e.t==null||e.t=="z"?"":e.w!==void 0?e.w:(e.t=="d"&&!e.z&&r&&r.dateNF&&(e.z=r.dateNF),e.t=="e"?_f[e.v]||e.v:t==null?rk(e,e.v):rk(e,t))}function Rd(e,t){var r=t&&t.sheet?t.sheet:"Sheet1",n={};return n[r]=e,{SheetNames:[r],Sheets:n}}function IP(e,t,r){var n=r||{},a=e?Array.isArray(e):n.dense,i=e||(a?[]:{}),l=0,o=0;if(i&&n.origin!=null){if(typeof n.origin=="number")l=n.origin;else{var f=typeof n.origin=="string"?Sa(n.origin):n.origin;l=f.r,o=f.c}i["!ref"]||(i["!ref"]="A1:A1")}var u={s:{c:1e7,r:1e7},e:{c:0,r:0}};if(i["!ref"]){var h=Zr(i["!ref"]);u.s.c=h.s.c,u.s.r=h.s.r,u.e.c=Math.max(u.e.c,h.e.c),u.e.r=Math.max(u.e.r,h.e.r),l==-1&&(u.e.r=l=h.e.r+1)}for(var p=0;p!=t.length;++p)if(t[p]){if(!Array.isArray(t[p]))throw new Error("aoa_to_sheet expects an array of arrays");for(var g=0;g!=t[p].length;++g)if(!(typeof t[p][g]>"u")){var x={v:t[p][g]},b=l+p,y=o+g;if(u.s.r>b&&(u.s.r=b),u.s.c>y&&(u.s.c=y),u.e.r<b&&(u.e.r=b),u.e.c<y&&(u.e.c=y),t[p][g]&&typeof t[p][g]=="object"&&!Array.isArray(t[p][g])&&!(t[p][g]instanceof Date))x=t[p][g];else if(Array.isArray(x.v)&&(x.f=t[p][g][1],x.v=x.v[0]),x.v===null)if(x.f)x.t="n";else if(n.nullError)x.t="e",x.v=0;else if(n.sheetStubs)x.t="z";else continue;else typeof x.v=="number"?x.t="n":typeof x.v=="boolean"?x.t="b":x.v instanceof Date?(x.z=n.dateNF||cr[14],n.cellDates?(x.t="d",x.w=Bo(x.z,_i(x.v))):(x.t="n",x.v=_i(x.v),x.w=Bo(x.z,x.v))):x.t="s";if(a)i[b]||(i[b]=[]),i[b][y]&&i[b][y].z&&(x.z=i[b][y].z),i[b][y]=x;else{var w=ur({c:y,r:b});i[w]&&i[w].z&&(x.z=i[w].z),i[w]=x}}}return u.s.c<1e7&&(i["!ref"]=_r(u)),i}function np(e,t){return IP(null,e,t)}function cG(e){return e.read_shift(4,"i")}function Sc(e,t){return t||(t=Ze(4)),t.write_shift(4,e),t}function js(e){var t=e.read_shift(4);return t===0?"":e.read_shift(t,"dbcs")}function Bi(e,t){var r=!1;return t==null&&(r=!0,t=Ze(4+2*e.length)),t.write_shift(4,e.length),e.length>0&&t.write_shift(0,e,"dbcs"),r?t.slice(0,t.l):t}function uG(e){return{ich:e.read_shift(2),ifnt:e.read_shift(2)}}function fG(e,t){return t||(t=Ze(4)),t.write_shift(2,0),t.write_shift(2,0),t}function a3(e,t){var r=e.l,n=e.read_shift(1),a=js(e),i=[],l={t:a,h:a};if((n&1)!==0){for(var o=e.read_shift(4),f=0;f!=o;++f)i.push(uG(e));l.r=i}else l.r=[{ich:0,ifnt:0}];return e.l=r+t,l}function dG(e,t){var r=!1;return t==null&&(r=!0,t=Ze(15+4*e.t.length)),t.write_shift(1,0),Bi(e.t,t),r?t.slice(0,t.l):t}var hG=a3;function mG(e,t){var r=!1;return t==null&&(r=!0,t=Ze(23+4*e.t.length)),t.write_shift(1,1),Bi(e.t,t),t.write_shift(4,1),fG({},t),r?t.slice(0,t.l):t}function Vo(e){var t=e.read_shift(4),r=e.read_shift(2);return r+=e.read_shift(1)<<16,e.l++,{c:t,iStyleRef:r}}function oh(e,t){return t==null&&(t=Ze(8)),t.write_shift(-4,e.c),t.write_shift(3,e.iStyleRef||e.s),t.write_shift(1,0),t}function ch(e){var t=e.read_shift(2);return t+=e.read_shift(1)<<16,e.l++,{c:-1,iStyleRef:t}}function uh(e,t){return t==null&&(t=Ze(4)),t.write_shift(3,e.iStyleRef||e.s),t.write_shift(1,0),t}var pG=js,BP=Bi;function i3(e){var t=e.read_shift(4);return t===0||t===4294967295?"":e.read_shift(t,"dbcs")}function ey(e,t){var r=!1;return t==null&&(r=!0,t=Ze(127)),t.write_shift(4,e.length>0?e.length:4294967295),e.length>0&&t.write_shift(0,e,"dbcs"),r?t.slice(0,t.l):t}var xG=js,Z4=i3,s3=ey;function l3(e){var t=e.slice(e.l,e.l+4),r=t[0]&1,n=t[0]&2;e.l+=4;var a=n===0?Jv([0,0,0,0,t[0]&252,t[1],t[2],t[3]],0):S0(t,0)>>2;return r?a/100:a}function UP(e,t){t==null&&(t=Ze(4));var r=0,n=0,a=e*100;if(e==(e|0)&&e>=-536870912&&e<1<<29?n=1:a==(a|0)&&a>=-536870912&&a<1<<29&&(n=1,r=1),n)t.write_shift(-4,((r?a:e)<<2)+(r+2));else throw new Error("unsupported RkNumber "+e)}function zP(e){var t={s:{},e:{}};return t.s.r=e.read_shift(4),t.e.r=e.read_shift(4),t.s.c=e.read_shift(4),t.e.c=e.read_shift(4),t}function gG(e,t){return t||(t=Ze(16)),t.write_shift(4,e.s.r),t.write_shift(4,e.e.r),t.write_shift(4,e.s.c),t.write_shift(4,e.e.c),t}var fh=zP,ap=gG;function Ns(e){if(e.length-e.l<8)throw"XLS Xnum Buffer underflow";return e.read_shift(8,"f")}function W0(e,t){return(t||Ze(8)).write_shift(8,e,"f")}function vG(e){var t={},r=e.read_shift(1),n=r>>>1,a=e.read_shift(1),i=e.read_shift(2,"i"),l=e.read_shift(1),o=e.read_shift(1),f=e.read_shift(1);switch(e.l++,n){case 0:t.auto=1;break;case 1:t.index=a;var u=O0[a];u&&(t.rgb=Vx(u));break;case 2:t.rgb=Vx([l,o,f]);break;case 3:t.theme=a;break}return i!=0&&(t.tint=i>0?i/32767:i/32768),t}function ty(e,t){if(t||(t=Ze(8)),!e||e.auto)return t.write_shift(4,0),t.write_shift(4,0),t;e.index!=null?(t.write_shift(1,2),t.write_shift(1,e.index)):e.theme!=null?(t.write_shift(1,6),t.write_shift(1,e.theme)):(t.write_shift(1,5),t.write_shift(1,0));var r=e.tint||0;if(r>0?r*=32767:r<0&&(r*=32768),t.write_shift(2,r),!e.rgb||e.theme!=null)t.write_shift(2,0),t.write_shift(1,0),t.write_shift(1,0);else{var n=e.rgb||"FFFFFF";typeof n=="number"&&(n=("000000"+n.toString(16)).slice(-6)),t.write_shift(1,parseInt(n.slice(0,2),16)),t.write_shift(1,parseInt(n.slice(2,4),16)),t.write_shift(1,parseInt(n.slice(4,6),16)),t.write_shift(1,255)}return t}function yG(e){var t=e.read_shift(1);e.l++;var r={fBold:t&1,fItalic:t&2,fUnderline:t&4,fStrikeout:t&8,fOutline:t&16,fShadow:t&32,fCondense:t&64,fExtend:t&128};return r}function bG(e,t){t||(t=Ze(2));var r=(e.italic?2:0)|(e.strike?8:0)|(e.outline?16:0)|(e.shadow?32:0)|(e.condense?64:0)|(e.extend?128:0);return t.write_shift(1,r),t.write_shift(1,0),t}function qP(e,t){var r={2:"BITMAP",3:"METAFILEPICT",8:"DIB",14:"ENHMETAFILE"},n=e.read_shift(4);switch(n){case 0:return"";case 4294967295:case 4294967294:return r[e.read_shift(4)]||""}if(n>400)throw new Error("Unsupported Clipboard: "+n.toString(16));return e.l-=4,e.read_shift(0,t==1?"lpstr":"lpwstr")}function wG(e){return qP(e,1)}function _G(e){return qP(e,2)}var o3=2,Nl=3,W1=11,nk=12,ry=19,G1=64,NG=65,SG=71,jG=4108,AG=4126,Li=80,$P=81,EG=[Li,$P],J4={1:{n:"CodePage",t:o3},2:{n:"Category",t:Li},3:{n:"PresentationFormat",t:Li},4:{n:"ByteCount",t:Nl},5:{n:"LineCount",t:Nl},6:{n:"ParagraphCount",t:Nl},7:{n:"SlideCount",t:Nl},8:{n:"NoteCount",t:Nl},9:{n:"HiddenCount",t:Nl},10:{n:"MultimediaClipCount",t:Nl},11:{n:"ScaleCrop",t:W1},12:{n:"HeadingPairs",t:jG},13:{n:"TitlesOfParts",t:AG},14:{n:"Manager",t:Li},15:{n:"Company",t:Li},16:{n:"LinksUpToDate",t:W1},17:{n:"CharacterCount",t:Nl},19:{n:"SharedDoc",t:W1},22:{n:"HyperlinksChanged",t:W1},23:{n:"AppVersion",t:Nl,p:"version"},24:{n:"DigSig",t:NG},26:{n:"ContentType",t:Li},27:{n:"ContentStatus",t:Li},28:{n:"Language",t:Li},29:{n:"Version",t:Li},255:{},2147483648:{n:"Locale",t:ry},2147483651:{n:"Behavior",t:ry},1919054434:{}},e_={1:{n:"CodePage",t:o3},2:{n:"Title",t:Li},3:{n:"Subject",t:Li},4:{n:"Author",t:Li},5:{n:"Keywords",t:Li},6:{n:"Comments",t:Li},7:{n:"Template",t:Li},8:{n:"LastAuthor",t:Li},9:{n:"RevNumber",t:Li},10:{n:"EditTime",t:G1},11:{n:"LastPrinted",t:G1},12:{n:"CreatedDate",t:G1},13:{n:"ModifiedDate",t:G1},14:{n:"PageCount",t:Nl},15:{n:"WordCount",t:Nl},16:{n:"CharCount",t:Nl},17:{n:"Thumbnail",t:SG},18:{n:"Application",t:Li},19:{n:"DocSecurity",t:Nl},255:{},2147483648:{n:"Locale",t:ry},2147483651:{n:"Behavior",t:ry},1919054434:{}},ak={1:"US",2:"CA",3:"",7:"RU",20:"EG",30:"GR",31:"NL",32:"BE",33:"FR",34:"ES",36:"HU",39:"IT",41:"CH",43:"AT",44:"GB",45:"DK",46:"SE",47:"NO",48:"PL",49:"DE",52:"MX",55:"BR",61:"AU",64:"NZ",66:"TH",81:"JP",82:"KR",84:"VN",86:"CN",90:"TR",105:"JS",213:"DZ",216:"MA",218:"LY",351:"PT",354:"IS",358:"FI",420:"CZ",886:"TW",961:"LB",962:"JO",963:"SY",964:"IQ",965:"KW",966:"SA",971:"AE",972:"IL",974:"QA",981:"IR",65535:"US"},kG=[null,"solid","mediumGray","darkGray","lightGray","darkHorizontal","darkVertical","darkDown","darkUp","darkGrid","darkTrellis","lightHorizontal","lightVertical","lightDown","lightUp","lightGrid","lightTrellis","gray125","gray0625"];function CG(e){return e.map(function(t){return[t>>16&255,t>>8&255,t&255]})}var TG=CG([0,16777215,16711680,65280,255,16776960,16711935,65535,0,16777215,16711680,65280,255,16776960,16711935,65535,8388608,32768,128,8421376,8388736,32896,12632256,8421504,10066431,10040166,16777164,13434879,6684774,16744576,26316,13421823,128,16711935,16776960,65535,8388736,8388608,32896,255,52479,13434879,13434828,16777113,10079487,16751052,13408767,16764057,3368703,3394764,10079232,16763904,16750848,16737792,6710937,9868950,13158,3381606,13056,3355392,10040064,10040166,3355545,3355443,16777215,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0]),O0=Jn(TG),_f={0:"#NULL!",7:"#DIV/0!",15:"#VALUE!",23:"#REF!",29:"#NAME?",36:"#NUM!",42:"#N/A",43:"#GETTING_DATA",255:"#WTF?"},HP={"#NULL!":0,"#DIV/0!":7,"#VALUE!":15,"#REF!":23,"#NAME?":29,"#NUM!":36,"#N/A":42,"#GETTING_DATA":43,"#WTF?":255},t_={"application/vnd.openxmlformats-officedocument.spreadsheetml.sheet.main+xml":"workbooks","application/vnd.ms-excel.sheet.macroEnabled.main+xml":"workbooks","application/vnd.ms-excel.sheet.binary.macroEnabled.main":"workbooks","application/vnd.ms-excel.addin.macroEnabled.main+xml":"workbooks","application/vnd.openxmlformats-officedocument.spreadsheetml.template.main+xml":"workbooks","application/vnd.openxmlformats-officedocument.spreadsheetml.worksheet+xml":"sheets","application/vnd.ms-excel.worksheet":"sheets","application/vnd.ms-excel.binIndexWs":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.chartsheet+xml":"charts","application/vnd.ms-excel.chartsheet":"charts","application/vnd.ms-excel.macrosheet+xml":"macros","application/vnd.ms-excel.macrosheet":"macros","application/vnd.ms-excel.intlmacrosheet":"TODO","application/vnd.ms-excel.binIndexMs":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.dialogsheet+xml":"dialogs","application/vnd.ms-excel.dialogsheet":"dialogs","application/vnd.openxmlformats-officedocument.spreadsheetml.sharedStrings+xml":"strs","application/vnd.ms-excel.sharedStrings":"strs","application/vnd.openxmlformats-officedocument.spreadsheetml.styles+xml":"styles","application/vnd.ms-excel.styles":"styles","application/vnd.openxmlformats-package.core-properties+xml":"coreprops","application/vnd.openxmlformats-officedocument.custom-properties+xml":"custprops","application/vnd.openxmlformats-officedocument.extended-properties+xml":"extprops","application/vnd.openxmlformats-officedocument.customXmlProperties+xml":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.customProperty":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.comments+xml":"comments","application/vnd.ms-excel.comments":"comments","application/vnd.ms-excel.threadedcomments+xml":"threadedcomments","application/vnd.ms-excel.person+xml":"people","application/vnd.openxmlformats-officedocument.spreadsheetml.sheetMetadata+xml":"metadata","application/vnd.ms-excel.sheetMetadata":"metadata","application/vnd.ms-excel.pivotTable":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.pivotTable+xml":"TODO","application/vnd.openxmlformats-officedocument.drawingml.chart+xml":"TODO","application/vnd.ms-office.chartcolorstyle+xml":"TODO","application/vnd.ms-office.chartstyle+xml":"TODO","application/vnd.ms-office.chartex+xml":"TODO","application/vnd.ms-excel.calcChain":"calcchains","application/vnd.openxmlformats-officedocument.spreadsheetml.calcChain+xml":"calcchains","application/vnd.openxmlformats-officedocument.spreadsheetml.printerSettings":"TODO","application/vnd.ms-office.activeX":"TODO","application/vnd.ms-office.activeX+xml":"TODO","application/vnd.ms-excel.attachedToolbars":"TODO","application/vnd.ms-excel.connections":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.connections+xml":"TODO","application/vnd.ms-excel.externalLink":"links","application/vnd.openxmlformats-officedocument.spreadsheetml.externalLink+xml":"links","application/vnd.ms-excel.pivotCacheDefinition":"TODO","application/vnd.ms-excel.pivotCacheRecords":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.pivotCacheDefinition+xml":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.pivotCacheRecords+xml":"TODO","application/vnd.ms-excel.queryTable":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.queryTable+xml":"TODO","application/vnd.ms-excel.userNames":"TODO","application/vnd.ms-excel.revisionHeaders":"TODO","application/vnd.ms-excel.revisionLog":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.revisionHeaders+xml":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.revisionLog+xml":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.userNames+xml":"TODO","application/vnd.ms-excel.tableSingleCells":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.tableSingleCells+xml":"TODO","application/vnd.ms-excel.slicer":"TODO","application/vnd.ms-excel.slicerCache":"TODO","application/vnd.ms-excel.slicer+xml":"TODO","application/vnd.ms-excel.slicerCache+xml":"TODO","application/vnd.ms-excel.wsSortMap":"TODO","application/vnd.ms-excel.table":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.table+xml":"TODO","application/vnd.openxmlformats-officedocument.theme+xml":"themes","application/vnd.openxmlformats-officedocument.themeOverride+xml":"TODO","application/vnd.ms-excel.Timeline+xml":"TODO","application/vnd.ms-excel.TimelineCache+xml":"TODO","application/vnd.ms-office.vbaProject":"vba","application/vnd.ms-office.vbaProjectSignature":"TODO","application/vnd.ms-office.volatileDependencies":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.volatileDependencies+xml":"TODO","application/vnd.ms-excel.controlproperties+xml":"TODO","application/vnd.openxmlformats-officedocument.model+data":"TODO","application/vnd.ms-excel.Survey+xml":"TODO","application/vnd.openxmlformats-officedocument.drawing+xml":"drawings","application/vnd.openxmlformats-officedocument.drawingml.chartshapes+xml":"TODO","application/vnd.openxmlformats-officedocument.drawingml.diagramColors+xml":"TODO","application/vnd.openxmlformats-officedocument.drawingml.diagramData+xml":"TODO","application/vnd.openxmlformats-officedocument.drawingml.diagramLayout+xml":"TODO","application/vnd.openxmlformats-officedocument.drawingml.diagramStyle+xml":"TODO","application/vnd.openxmlformats-officedocument.vmlDrawing":"TODO","application/vnd.openxmlformats-package.relationships+xml":"rels","application/vnd.openxmlformats-officedocument.oleObject":"TODO","image/png":"TODO",sheet:"js"},K1={workbooks:{xlsx:"application/vnd.openxmlformats-officedocument.spreadsheetml.sheet.main+xml",xlsm:"application/vnd.ms-excel.sheet.macroEnabled.main+xml",xlsb:"application/vnd.ms-excel.sheet.binary.macroEnabled.main",xlam:"application/vnd.ms-excel.addin.macroEnabled.main+xml",xltx:"application/vnd.openxmlformats-officedocument.spreadsheetml.template.main+xml"},strs:{xlsx:"application/vnd.openxmlformats-officedocument.spreadsheetml.sharedStrings+xml",xlsb:"application/vnd.ms-excel.sharedStrings"},comments:{xlsx:"application/vnd.openxmlformats-officedocument.spreadsheetml.comments+xml",xlsb:"application/vnd.ms-excel.comments"},sheets:{xlsx:"application/vnd.openxmlformats-officedocument.spreadsheetml.worksheet+xml",xlsb:"application/vnd.ms-excel.worksheet"},charts:{xlsx:"application/vnd.openxmlformats-officedocument.spreadsheetml.chartsheet+xml",xlsb:"application/vnd.ms-excel.chartsheet"},dialogs:{xlsx:"application/vnd.openxmlformats-officedocument.spreadsheetml.dialogsheet+xml",xlsb:"application/vnd.ms-excel.dialogsheet"},macros:{xlsx:"application/vnd.ms-excel.macrosheet+xml",xlsb:"application/vnd.ms-excel.macrosheet"},metadata:{xlsx:"application/vnd.openxmlformats-officedocument.spreadsheetml.sheetMetadata+xml",xlsb:"application/vnd.ms-excel.sheetMetadata"},styles:{xlsx:"application/vnd.openxmlformats-officedocument.spreadsheetml.styles+xml",xlsb:"application/vnd.ms-excel.styles"}};function c3(){return{workbooks:[],sheets:[],charts:[],dialogs:[],macros:[],rels:[],strs:[],comments:[],threadedcomments:[],links:[],coreprops:[],extprops:[],custprops:[],themes:[],styles:[],calcchains:[],vba:[],drawings:[],metadata:[],people:[],TODO:[],xmlns:""}}function OG(e){var t=c3();if(!e||!e.match)return t;var r={};if((e.match(Ts)||[]).forEach(function(n){var a=dr(n);switch(a[0].replace(zW,"<")){case"<?xml":break;case"<Types":t.xmlns=a["xmlns"+(a[0].match(/<(\w+):/)||["",""])[1]];break;case"<Default":r[a.Extension]=a.ContentType;break;case"<Override":t[t_[a.ContentType]]!==void 0&&t[t_[a.ContentType]].push(a.PartName);break}}),t.xmlns!==bi.CT)throw new Error("Unknown Namespace: "+t.xmlns);return t.calcchain=t.calcchains.length>0?t.calcchains[0]:"",t.sst=t.strs.length>0?t.strs[0]:"",t.style=t.styles.length>0?t.styles[0]:"",t.defaults=r,delete t.calcchains,t}function VP(e,t){var r=OW(t_),n=[],a;n[n.length]=Ya,n[n.length]=gt("Types",null,{xmlns:bi.CT,"xmlns:xsd":bi.xsd,"xmlns:xsi":bi.xsi}),n=n.concat([["xml","application/xml"],["bin","application/vnd.ms-excel.sheet.binary.macroEnabled.main"],["vml","application/vnd.openxmlformats-officedocument.vmlDrawing"],["data","application/vnd.openxmlformats-officedocument.model+data"],["bmp","image/bmp"],["png","image/png"],["gif","image/gif"],["emf","image/x-emf"],["wmf","image/x-wmf"],["jpg","image/jpeg"],["jpeg","image/jpeg"],["tif","image/tiff"],["tiff","image/tiff"],["pdf","application/pdf"],["rels","application/vnd.openxmlformats-package.relationships+xml"]].map(function(f){return gt("Default",null,{Extension:f[0],ContentType:f[1]})}));var i=function(f){e[f]&&e[f].length>0&&(a=e[f][0],n[n.length]=gt("Override",null,{PartName:(a[0]=="/"?"":"/")+a,ContentType:K1[f][t.bookType]||K1[f].xlsx}))},l=function(f){(e[f]||[]).forEach(function(u){n[n.length]=gt("Override",null,{PartName:(u[0]=="/"?"":"/")+u,ContentType:K1[f][t.bookType]||K1[f].xlsx})})},o=function(f){(e[f]||[]).forEach(function(u){n[n.length]=gt("Override",null,{PartName:(u[0]=="/"?"":"/")+u,ContentType:r[f][0]})})};return i("workbooks"),l("sheets"),l("charts"),o("themes"),["strs","styles"].forEach(i),["coreprops","extprops","custprops"].forEach(o),o("vba"),o("comments"),o("threadedcomments"),o("drawings"),l("metadata"),o("people"),n.length>2&&(n[n.length]="</Types>",n[1]=n[1].replace("/>",">")),n.join("")}var Or={WB:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/officeDocument",SHEET:"http://sheetjs.openxmlformats.org/officeDocument/2006/relationships/officeDocument",HLINK:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/hyperlink",VML:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/vmlDrawing",XPATH:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/externalLinkPath",XMISS:"http://schemas.microsoft.com/office/2006/relationships/xlExternalLinkPath/xlPathMissing",XLINK:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/externalLink",CXML:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/customXml",CXMLP:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/customXmlProps",CMNT:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/comments",CORE_PROPS:"http://schemas.openxmlformats.org/package/2006/relationships/metadata/core-properties",EXT_PROPS:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/extended-properties",CUST_PROPS:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/custom-properties",SST:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/sharedStrings",STY:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/styles",THEME:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/theme",CHART:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/chart",CHARTEX:"http://schemas.microsoft.com/office/2014/relationships/chartEx",CS:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/chartsheet",WS:["http://schemas.openxmlformats.org/officeDocument/2006/relationships/worksheet","http://purl.oclc.org/ooxml/officeDocument/relationships/worksheet"],DS:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/dialogsheet",MS:"http://schemas.microsoft.com/office/2006/relationships/xlMacrosheet",IMG:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/image",DRAW:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/drawing",XLMETA:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/sheetMetadata",TCMNT:"http://schemas.microsoft.com/office/2017/10/relationships/threadedComment",PEOPLE:"http://schemas.microsoft.com/office/2017/10/relationships/person",VBA:"http://schemas.microsoft.com/office/2006/relationships/vbaProject"};function Hx(e){var t=e.lastIndexOf("/");return e.slice(0,t+1)+"_rels/"+e.slice(t+1)+".rels"}function Nx(e,t){var r={"!id":{}};if(!e)return r;t.charAt(0)!=="/"&&(t="/"+t);var n={};return(e.match(Ts)||[]).forEach(function(a){var i=dr(a);if(i[0]==="<Relationship"){var l={};l.Type=i.Type,l.Target=i.Target,l.Id=i.Id,i.TargetMode&&(l.TargetMode=i.TargetMode);var o=i.TargetMode==="External"?i.Target:xx(i.Target,t);r[o]=l,n[i.Id]=l}}),r["!id"]=n,r}function Em(e){var t=[Ya,gt("Relationships",null,{xmlns:bi.RELS})];return Ia(e["!id"]).forEach(function(r){t[t.length]=gt("Relationship",null,e["!id"][r])}),t.length>2&&(t[t.length]="</Relationships>",t[1]=t[1].replace("/>",">")),t.join("")}function bn(e,t,r,n,a,i){if(a||(a={}),e["!id"]||(e["!id"]={}),e["!idx"]||(e["!idx"]=1),t<0)for(t=e["!idx"];e["!id"]["rId"+t];++t);if(e["!idx"]=t+1,a.Id="rId"+t,a.Type=n,a.Target=r,[Or.HLINK,Or.XPATH,Or.XMISS].indexOf(a.Type)>-1&&(a.TargetMode="External"),e["!id"][a.Id])throw new Error("Cannot rewrite rId "+t);return e["!id"][a.Id]=a,e[("/"+a.Target).replace("//","/")]=a,t}var DG="application/vnd.oasis.opendocument.spreadsheet";function PG(e,t){for(var r=JN(e),n,a;n=$x.exec(r);)switch(n[3]){case"manifest":break;case"file-entry":if(a=dr(n[0],!1),a.path=="/"&&a.type!==DG)throw new Error("This OpenDocument is not a spreadsheet");break;case"encryption-data":case"algorithm":case"start-key-generation":case"key-derivation":throw new Error("Unsupported ODS Encryption");default:if(t&&t.WTF)throw n}}function FG(e){var t=[Ya];t.push(`<manifest:manifest xmlns:manifest="urn:oasis:names:tc:opendocument:xmlns:manifest:1.0" manifest:version="1.2">
`),t.push(`  <manifest:file-entry manifest:full-path="/" manifest:version="1.2" manifest:media-type="application/vnd.oasis.opendocument.spreadsheet"/>
`);for(var r=0;r<e.length;++r)t.push('  <manifest:file-entry manifest:full-path="'+e[r][0]+'" manifest:media-type="'+e[r][1]+`"/>
`);return t.push("</manifest:manifest>"),t.join("")}function ik(e,t,r){return['  <rdf:Description rdf:about="'+e+`">
`,'    <rdf:type rdf:resource="http://docs.oasis-open.org/ns/office/1.2/meta/'+(r||"odf")+"#"+t+`"/>
`,`  </rdf:Description>
`].join("")}function LG(e,t){return['  <rdf:Description rdf:about="'+e+`">
`,'    <ns0:hasPart xmlns:ns0="http://docs.oasis-open.org/ns/office/1.2/meta/pkg#" rdf:resource="'+t+`"/>
`,`  </rdf:Description>
`].join("")}function MG(e){var t=[Ya];t.push(`<rdf:RDF xmlns:rdf="http://www.w3.org/1999/02/22-rdf-syntax-ns#">
`);for(var r=0;r!=e.length;++r)t.push(ik(e[r][0],e[r][1])),t.push(LG("",e[r][0]));return t.push(ik("","Document","pkg")),t.push("</rdf:RDF>"),t.join("")}function WP(){return'<office:document-meta xmlns:office="urn:oasis:names:tc:opendocument:xmlns:office:1.0" xmlns:meta="urn:oasis:names:tc:opendocument:xmlns:meta:1.0" xmlns:dc="http://purl.org/dc/elements/1.1/" xmlns:xlink="http://www.w3.org/1999/xlink" office:version="1.2"><office:meta><meta:generator>SheetJS '+Kv.version+"</meta:generator></office:meta></office:document-meta>"}var Ro=[["cp:category","Category"],["cp:contentStatus","ContentStatus"],["cp:keywords","Keywords"],["cp:lastModifiedBy","LastAuthor"],["cp:lastPrinted","LastPrinted"],["cp:revision","RevNumber"],["cp:version","Version"],["dc:creator","Author"],["dc:description","Comments"],["dc:identifier","Identifier"],["dc:language","Language"],["dc:subject","Subject"],["dc:title","Title"],["dcterms:created","CreatedDate","date"],["dcterms:modified","ModifiedDate","date"]],RG=(function(){for(var e=new Array(Ro.length),t=0;t<Ro.length;++t){var r=Ro[t],n="(?:"+r[0].slice(0,r[0].indexOf(":"))+":)"+r[0].slice(r[0].indexOf(":")+1);e[t]=new RegExp("<"+n+"[^>]*>([\\s\\S]*?)</"+n+">")}return e})();function GP(e){var t={};e=Dn(e);for(var r=0;r<Ro.length;++r){var n=Ro[r],a=e.match(RG[r]);a!=null&&a.length>0&&(t[n[1]]=Xr(a[1])),n[2]==="date"&&t[n[1]]&&(t[n[1]]=Zn(t[n[1]]))}return t}function Nw(e,t,r,n,a){a[e]!=null||t==null||t===""||(a[e]=t,t=Nn(t),n[n.length]=r?gt(e,t,r):as(e,t))}function KP(e,t){var r=t||{},n=[Ya,gt("cp:coreProperties",null,{"xmlns:cp":bi.CORE_PROPS,"xmlns:dc":bi.dc,"xmlns:dcterms":bi.dcterms,"xmlns:dcmitype":bi.dcmitype,"xmlns:xsi":bi.xsi})],a={};if(!e&&!r.Props)return n.join("");e&&(e.CreatedDate!=null&&Nw("dcterms:created",typeof e.CreatedDate=="string"?e.CreatedDate:Q4(e.CreatedDate,r.WTF),{"xsi:type":"dcterms:W3CDTF"},n,a),e.ModifiedDate!=null&&Nw("dcterms:modified",typeof e.ModifiedDate=="string"?e.ModifiedDate:Q4(e.ModifiedDate,r.WTF),{"xsi:type":"dcterms:W3CDTF"},n,a));for(var i=0;i!=Ro.length;++i){var l=Ro[i],o=r.Props&&r.Props[l[1]]!=null?r.Props[l[1]]:e?e[l[1]]:null;o===!0?o="1":o===!1?o="0":typeof o=="number"&&(o=String(o)),o!=null&&Nw(l[0],o,null,n,a)}return n.length>2&&(n[n.length]="</cp:coreProperties>",n[1]=n[1].replace("/>",">")),n.join("")}var D0=[["Application","Application","string"],["AppVersion","AppVersion","string"],["Company","Company","string"],["DocSecurity","DocSecurity","string"],["Manager","Manager","string"],["HyperlinksChanged","HyperlinksChanged","bool"],["SharedDoc","SharedDoc","bool"],["LinksUpToDate","LinksUpToDate","bool"],["ScaleCrop","ScaleCrop","bool"],["HeadingPairs","HeadingPairs","raw"],["TitlesOfParts","TitlesOfParts","raw"]],YP=["Worksheets","SheetNames","NamedRanges","DefinedNames","Chartsheets","ChartNames"];function XP(e,t,r,n){var a=[];if(typeof e=="string")a=YE(e,n);else for(var i=0;i<e.length;++i)a=a.concat(e[i].map(function(h){return{v:h}}));var l=typeof t=="string"?YE(t,n).map(function(h){return h.v}):t,o=0,f=0;if(l.length>0)for(var u=0;u!==a.length;u+=2){switch(f=+a[u+1].v,a[u].v){case"Worksheets":case"":case"":case" ":case"":case" ":case"Arbeitsbltter":case"alma Sayfalar":case"Feuilles de calcul":case"Fogli di lavoro":case"Folhas de clculo":case"Planilhas":case"Regneark":case"Hojas de clculo":case"Werkbladen":r.Worksheets=f,r.SheetNames=l.slice(o,o+f);break;case"Named Ranges":case"Rangos con nombre":case"":case"Benannte Bereiche":case"Navngivne omrder":r.NamedRanges=f,r.DefinedNames=l.slice(o,o+f);break;case"Charts":case"Diagramme":r.Chartsheets=f,r.ChartNames=l.slice(o,o+f);break}o+=f}}function IG(e,t,r){var n={};return t||(t={}),e=Dn(e),D0.forEach(function(a){var i=(e.match(zx(a[0]))||[])[1];switch(a[2]){case"string":i&&(t[a[1]]=Xr(i));break;case"bool":t[a[1]]=i==="true";break;case"raw":var l=e.match(new RegExp("<"+a[0]+"[^>]*>([\\s\\S]*?)</"+a[0]+">"));l&&l.length>0&&(n[a[1]]=l[1]);break}}),n.HeadingPairs&&n.TitlesOfParts&&XP(n.HeadingPairs,n.TitlesOfParts,t,r),t}function QP(e){var t=[],r=gt;return e||(e={}),e.Application="SheetJS",t[t.length]=Ya,t[t.length]=gt("Properties",null,{xmlns:bi.EXT_PROPS,"xmlns:vt":bi.vt}),D0.forEach(function(n){if(e[n[1]]!==void 0){var a;switch(n[2]){case"string":a=Nn(String(e[n[1]]));break;case"bool":a=e[n[1]]?"true":"false";break}a!==void 0&&(t[t.length]=r(n[0],a))}}),t[t.length]=r("HeadingPairs",r("vt:vector",r("vt:variant","<vt:lpstr>Worksheets</vt:lpstr>")+r("vt:variant",r("vt:i4",String(e.Worksheets))),{size:2,baseType:"variant"})),t[t.length]=r("TitlesOfParts",r("vt:vector",e.SheetNames.map(function(n){return"<vt:lpstr>"+Nn(n)+"</vt:lpstr>"}).join(""),{size:e.Worksheets,baseType:"lpstr"})),t.length>2&&(t[t.length]="</Properties>",t[1]=t[1].replace("/>",">")),t.join("")}var BG=/<[^>]+>[^<]*/g;function UG(e,t){var r={},n="",a=e.match(BG);if(a)for(var i=0;i!=a.length;++i){var l=a[i],o=dr(l);switch(o[0]){case"<?xml":break;case"<Properties":break;case"<property":n=Xr(o.name);break;case"</property>":n=null;break;default:if(l.indexOf("<vt:")===0){var f=l.split(">"),u=f[0].slice(4),h=f[1];switch(u){case"lpstr":case"bstr":case"lpwstr":r[n]=Xr(h);break;case"bool":r[n]=Xn(h);break;case"i1":case"i2":case"i4":case"i8":case"int":case"uint":r[n]=parseInt(h,10);break;case"r4":case"r8":case"decimal":r[n]=parseFloat(h);break;case"filetime":case"date":r[n]=Zn(h);break;case"cy":case"error":r[n]=Xr(h);break;default:if(u.slice(-1)=="/")break;t.WTF&&typeof console<"u"&&console.warn("Unexpected",l,u,f)}}else if(l.slice(0,2)!=="</"){if(t.WTF)throw new Error(l)}}}return r}function ZP(e){var t=[Ya,gt("Properties",null,{xmlns:bi.CUST_PROPS,"xmlns:vt":bi.vt})];if(!e)return t.join("");var r=1;return Ia(e).forEach(function(a){++r,t[t.length]=gt("property",YW(e[a]),{fmtid:"{D5CDD505-2E9C-101B-9397-08002B2CF9AE}",pid:r,name:Nn(a)})}),t.length>2&&(t[t.length]="</Properties>",t[1]=t[1].replace("/>",">")),t.join("")}var r_={Title:"Title",Subject:"Subject",Author:"Author",Keywords:"Keywords",Comments:"Description",LastAuthor:"LastAuthor",RevNumber:"Revision",Application:"AppName",LastPrinted:"LastPrinted",CreatedDate:"Created",ModifiedDate:"LastSaved",Category:"Category",Manager:"Manager",Company:"Company",AppVersion:"Version",ContentStatus:"ContentStatus",Identifier:"Identifier",Language:"Language"},Sw;function zG(e,t,r){Sw||(Sw=i2(r_)),t=Sw[t]||t,e[t]=r}function qG(e,t){var r=[];return Ia(r_).map(function(n){for(var a=0;a<Ro.length;++a)if(Ro[a][1]==n)return Ro[a];for(a=0;a<D0.length;++a)if(D0[a][1]==n)return D0[a];throw n}).forEach(function(n){if(e[n[1]]!=null){var a=t&&t.Props&&t.Props[n[1]]!=null?t.Props[n[1]]:e[n[1]];switch(n[2]){case"date":a=new Date(a).toISOString().replace(/\.\d*Z/,"Z");break}typeof a=="number"?a=String(a):a===!0||a===!1?a=a?"1":"0":a instanceof Date&&(a=new Date(a).toISOString().replace(/\.\d*Z/,"")),r.push(as(r_[n[1]]||n[1],a))}}),gt("DocumentProperties",r.join(""),{xmlns:Gl.o})}function $G(e,t){var r=["Worksheets","SheetNames"],n="CustomDocumentProperties",a=[];return e&&Ia(e).forEach(function(i){if(Object.prototype.hasOwnProperty.call(e,i)){for(var l=0;l<Ro.length;++l)if(i==Ro[l][1])return;for(l=0;l<D0.length;++l)if(i==D0[l][1])return;for(l=0;l<r.length;++l)if(i==r[l])return;var o=e[i],f="string";typeof o=="number"?(f="float",o=String(o)):o===!0||o===!1?(f="boolean",o=o?"1":"0"):o=String(o),a.push(gt(VE(i),o,{"dt:dt":f}))}}),t&&Ia(t).forEach(function(i){if(Object.prototype.hasOwnProperty.call(t,i)&&!(e&&Object.prototype.hasOwnProperty.call(e,i))){var l=t[i],o="string";typeof l=="number"?(o="float",l=String(l)):l===!0||l===!1?(o="boolean",l=l?"1":"0"):l instanceof Date?(o="dateTime.tz",l=l.toISOString()):l=String(l),a.push(gt(VE(i),l,{"dt:dt":o}))}}),"<"+n+' xmlns="'+Gl.o+'">'+a.join("")+"</"+n+">"}function u3(e){var t=e.read_shift(4),r=e.read_shift(4);return new Date((r/1e7*Math.pow(2,32)+t/1e7-11644473600)*1e3).toISOString().replace(/\.000/,"")}function HG(e){var t=typeof e=="string"?new Date(Date.parse(e)):e,r=t.getTime()/1e3+11644473600,n=r%Math.pow(2,32),a=(r-n)/Math.pow(2,32);n*=1e7,a*=1e7;var i=n/Math.pow(2,32)|0;i>0&&(n=n%Math.pow(2,32),a+=i);var l=Ze(8);return l.write_shift(4,n),l.write_shift(4,a),l}function JP(e,t,r){var n=e.l,a=e.read_shift(0,"lpstr-cp");if(r)for(;e.l-n&3;)++e.l;return a}function eF(e,t,r){var n=e.read_shift(0,"lpwstr");return n}function tF(e,t,r){return t===31?eF(e):JP(e,t,r)}function n_(e,t,r){return tF(e,t,r===!1?0:4)}function VG(e,t){if(!t)throw new Error("VtUnalignedString must have positive length");return tF(e,t,0)}function WG(e){for(var t=e.read_shift(4),r=[],n=0;n!=t;++n){var a=e.l;r[n]=e.read_shift(0,"lpwstr").replace(el,""),e.l-a&2&&(e.l+=2)}return r}function GG(e){for(var t=e.read_shift(4),r=[],n=0;n!=t;++n)r[n]=e.read_shift(0,"lpstr-cp").replace(el,"");return r}function KG(e){var t=e.l,r=ny(e,$P);e[e.l]==0&&e[e.l+1]==0&&e.l-t&2&&(e.l+=2);var n=ny(e,Nl);return[r,n]}function YG(e){for(var t=e.read_shift(4),r=[],n=0;n<t/2;++n)r.push(KG(e));return r}function sk(e,t){for(var r=e.read_shift(4),n={},a=0;a!=r;++a){var i=e.read_shift(4),l=e.read_shift(4);n[i]=e.read_shift(l,t===1200?"utf16le":"utf8").replace(el,"").replace(px,"!"),t===1200&&l%2&&(e.l+=2)}return e.l&3&&(e.l=e.l>>3<<2),n}function rF(e){var t=e.read_shift(4),r=e.slice(e.l,e.l+t);return e.l+=t,(t&3)>0&&(e.l+=4-(t&3)&3),r}function XG(e){var t={};return t.Size=e.read_shift(4),e.l+=t.Size+3-(t.Size-1)%4,t}function ny(e,t,r){var n=e.read_shift(2),a,i=r||{};if(e.l+=2,t!==nk&&n!==t&&EG.indexOf(t)===-1&&!((t&65534)==4126&&(n&65534)==4126))throw new Error("Expected type "+t+" saw "+n);switch(t===nk?n:t){case 2:return a=e.read_shift(2,"i"),i.raw||(e.l+=2),a;case 3:return a=e.read_shift(4,"i"),a;case 11:return e.read_shift(4)!==0;case 19:return a=e.read_shift(4),a;case 30:return JP(e,n,4).replace(el,"");case 31:return eF(e);case 64:return u3(e);case 65:return rF(e);case 71:return XG(e);case 80:return n_(e,n,!i.raw).replace(el,"");case 81:return VG(e,n).replace(el,"");case 4108:return YG(e);case 4126:case 4127:return n==4127?WG(e):GG(e);default:throw new Error("TypedPropertyValue unrecognized type "+t+" "+n)}}function lk(e,t){var r=Ze(4),n=Ze(4);switch(r.write_shift(4,e==80?31:e),e){case 3:n.write_shift(-4,t);break;case 5:n=Ze(8),n.write_shift(8,t,"f");break;case 11:n.write_shift(4,t?1:0);break;case 64:n=HG(t);break;case 31:case 80:for(n=Ze(4+2*(t.length+1)+(t.length%2?0:2)),n.write_shift(4,t.length+1),n.write_shift(0,t,"dbcs");n.l!=n.length;)n.write_shift(1,0);break;default:throw new Error("TypedPropertyValue unrecognized type "+e+" "+t)}return Ii([r,n])}function ok(e,t){var r=e.l,n=e.read_shift(4),a=e.read_shift(4),i=[],l=0,o=0,f=-1,u={};for(l=0;l!=a;++l){var h=e.read_shift(4),p=e.read_shift(4);i[l]=[h,p+r]}i.sort(function(E,A){return E[1]-A[1]});var g={};for(l=0;l!=a;++l){if(e.l!==i[l][1]){var x=!0;if(l>0&&t)switch(t[i[l-1][0]].t){case 2:e.l+2===i[l][1]&&(e.l+=2,x=!1);break;case 80:e.l<=i[l][1]&&(e.l=i[l][1],x=!1);break;case 4108:e.l<=i[l][1]&&(e.l=i[l][1],x=!1);break}if((!t||l==0)&&e.l<=i[l][1]&&(x=!1,e.l=i[l][1]),x)throw new Error("Read Error: Expected address "+i[l][1]+" at "+e.l+" :"+l)}if(t){var b=t[i[l][0]];if(g[b.n]=ny(e,b.t,{raw:!0}),b.p==="version"&&(g[b.n]=String(g[b.n]>>16)+"."+("0000"+String(g[b.n]&65535)).slice(-4)),b.n=="CodePage")switch(g[b.n]){case 0:g[b.n]=1252;case 874:case 932:case 936:case 949:case 950:case 1250:case 1251:case 1253:case 1254:case 1255:case 1256:case 1257:case 1258:case 1e4:case 1200:case 1201:case 1252:case 65e3:case-536:case 65001:case-535:bc(o=g[b.n]>>>0&65535);break;default:throw new Error("Unsupported CodePage: "+g[b.n])}}else if(i[l][0]===1){if(o=g.CodePage=ny(e,o3),bc(o),f!==-1){var y=e.l;e.l=i[f][1],u=sk(e,o),e.l=y}}else if(i[l][0]===0){if(o===0){f=l,e.l=i[l+1][1];continue}u=sk(e,o)}else{var w=u[i[l][0]],_;switch(e[e.l]){case 65:e.l+=4,_=rF(e);break;case 30:e.l+=4,_=n_(e,e[e.l-4]).replace(/\u0000+$/,"");break;case 31:e.l+=4,_=n_(e,e[e.l-4]).replace(/\u0000+$/,"");break;case 3:e.l+=4,_=e.read_shift(4,"i");break;case 19:e.l+=4,_=e.read_shift(4);break;case 5:e.l+=4,_=e.read_shift(8,"f");break;case 11:e.l+=4,_=$a(e,4);break;case 64:e.l+=4,_=Zn(u3(e));break;default:throw new Error("unparsed value: "+e[e.l])}g[w]=_}}return e.l=r+n,g}var nF=["CodePage","Thumbnail","_PID_LINKBASE","_PID_HLINKS","SystemIdentifier","FMTID"];function QG(e){switch(typeof e){case"boolean":return 11;case"number":return(e|0)==e?3:5;case"string":return 31;case"object":if(e instanceof Date)return 64;break}return-1}function ck(e,t,r){var n=Ze(8),a=[],i=[],l=8,o=0,f=Ze(8),u=Ze(8);if(f.write_shift(4,2),f.write_shift(4,1200),u.write_shift(4,1),i.push(f),a.push(u),l+=8+f.length,!t){u=Ze(8),u.write_shift(4,0),a.unshift(u);var h=[Ze(4)];for(h[0].write_shift(4,e.length),o=0;o<e.length;++o){var p=e[o][0];for(f=Ze(8+2*(p.length+1)+(p.length%2?0:2)),f.write_shift(4,o+2),f.write_shift(4,p.length+1),f.write_shift(0,p,"dbcs");f.l!=f.length;)f.write_shift(1,0);h.push(f)}f=Ii(h),i.unshift(f),l+=8+f.length}for(o=0;o<e.length;++o)if(!(t&&!t[e[o][0]])&&!(nF.indexOf(e[o][0])>-1||YP.indexOf(e[o][0])>-1)&&e[o][1]!=null){var g=e[o][1],x=0;if(t){x=+t[e[o][0]];var b=r[x];if(b.p=="version"&&typeof g=="string"){var y=g.split(".");g=(+y[0]<<16)+(+y[1]||0)}f=lk(b.t,g)}else{var w=QG(g);w==-1&&(w=31,g=String(g)),f=lk(w,g)}i.push(f),u=Ze(8),u.write_shift(4,t?x:2+o),a.push(u),l+=8+f.length}var _=8*(i.length+1);for(o=0;o<i.length;++o)a[o].write_shift(4,_),_+=i[o].length;return n.write_shift(4,l),n.write_shift(4,i.length),Ii([n].concat(a).concat(i))}function uk(e,t,r){var n=e.content;if(!n)return{};rs(n,0);var a,i,l,o,f=0;n.chk("feff","Byte Order: "),n.read_shift(2);var u=n.read_shift(4),h=n.read_shift(16);if(h!==nr.utils.consts.HEADER_CLSID&&h!==r)throw new Error("Bad PropertySet CLSID "+h);if(a=n.read_shift(4),a!==1&&a!==2)throw new Error("Unrecognized #Sets: "+a);if(i=n.read_shift(16),o=n.read_shift(4),a===1&&o!==n.l)throw new Error("Length mismatch: "+o+" !== "+n.l);a===2&&(l=n.read_shift(16),f=n.read_shift(4));var p=ok(n,t),g={SystemIdentifier:u};for(var x in p)g[x]=p[x];if(g.FMTID=i,a===1)return g;if(f-n.l==2&&(n.l+=2),n.l!==f)throw new Error("Length mismatch 2: "+n.l+" !== "+f);var b;try{b=ok(n,null)}catch{}for(x in b)g[x]=b[x];return g.FMTID=[i,l],g}function fk(e,t,r,n,a,i){var l=Ze(a?68:48),o=[l];l.write_shift(2,65534),l.write_shift(2,0),l.write_shift(4,842412599),l.write_shift(16,nr.utils.consts.HEADER_CLSID,"hex"),l.write_shift(4,a?2:1),l.write_shift(16,t,"hex"),l.write_shift(4,a?68:48);var f=ck(e,r,n);if(o.push(f),a){var u=ck(a,null,null);l.write_shift(16,i,"hex"),l.write_shift(4,68+f.length),o.push(u)}return Ii(o)}function fd(e,t){return e.read_shift(t),null}function ZG(e,t){t||(t=Ze(e));for(var r=0;r<e;++r)t.write_shift(1,0);return t}function JG(e,t,r){for(var n=[],a=e.l+t;e.l<a;)n.push(r(e,a-e.l));if(a!==e.l)throw new Error("Slurp error");return n}function $a(e,t){return e.read_shift(t)===1}function Hs(e,t){return t||(t=Ze(2)),t.write_shift(2,+!!e),t}function ni(e){return e.read_shift(2,"u")}function Po(e,t){return t||(t=Ze(2)),t.write_shift(2,e),t}function aF(e,t){return JG(e,t,ni)}function eK(e){var t=e.read_shift(1),r=e.read_shift(1);return r===1?t:t===1}function iF(e,t,r){return r||(r=Ze(2)),r.write_shift(1,t=="e"?+e:+!!e),r.write_shift(1,t=="e"?1:0),r}function wg(e,t,r){var n=e.read_shift(r&&r.biff>=12?2:1),a="sbcs-cont";if(r&&r.biff>=8,!r||r.biff==8){var i=e.read_shift(1);i&&(a="dbcs-cont")}else r.biff==12&&(a="wstr");r.biff>=2&&r.biff<=5&&(a="cpstr");var l=n?e.read_shift(n,a):"";return l}function tK(e){var t=e.read_shift(2),r=e.read_shift(1),n=r&4,a=r&8,i=1+(r&1),l=0,o,f={};a&&(l=e.read_shift(2)),n&&(o=e.read_shift(4));var u=i==2?"dbcs-cont":"sbcs-cont",h=t===0?"":e.read_shift(t,u);return a&&(e.l+=4*l),n&&(e.l+=o),f.t=h,a||(f.raw="<t>"+f.t+"</t>",f.r=f.t),f}function rK(e){var t=e.t||"",r=Ze(3);r.write_shift(2,t.length),r.write_shift(1,1);var n=Ze(2*t.length);n.write_shift(2*t.length,t,"utf16le");var a=[r,n];return Ii(a)}function G0(e,t,r){var n;if(r){if(r.biff>=2&&r.biff<=5)return e.read_shift(t,"cpstr");if(r.biff>=12)return e.read_shift(t,"dbcs-cont")}var a=e.read_shift(1);return a===0?n=e.read_shift(t,"sbcs-cont"):n=e.read_shift(t,"dbcs-cont"),n}function _g(e,t,r){var n=e.read_shift(r&&r.biff==2?1:2);return n===0?(e.l++,""):G0(e,n,r)}function dh(e,t,r){if(r.biff>5)return _g(e,t,r);var n=e.read_shift(1);return n===0?(e.l++,""):e.read_shift(n,r.biff<=4||!e.lens?"cpstr":"sbcs-cont")}function sF(e,t,r){return r||(r=Ze(3+2*e.length)),r.write_shift(2,e.length),r.write_shift(1,1),r.write_shift(31,e,"utf16le"),r}function nK(e){var t=e.read_shift(1);e.l++;var r=e.read_shift(2);return e.l+=2,[t,r]}function aK(e){var t=e.read_shift(4),r=e.l,n=!1;t>24&&(e.l+=t-24,e.read_shift(16)==="795881f43b1d7f48af2c825dc4852763"&&(n=!0),e.l=r);var a=e.read_shift((n?t-24:t)>>1,"utf16le").replace(el,"");return n&&(e.l+=24),a}function iK(e){for(var t=e.read_shift(2),r="";t-- >0;)r+="../";var n=e.read_shift(0,"lpstr-ansi");if(e.l+=2,e.read_shift(2)!=57005)throw new Error("Bad FileMoniker");var a=e.read_shift(4);if(a===0)return r+n.replace(/\\/g,"/");var i=e.read_shift(4);if(e.read_shift(2)!=3)throw new Error("Bad FileMoniker");var l=e.read_shift(i>>1,"utf16le").replace(el,"");return r+l}function sK(e,t){var r=e.read_shift(16);switch(r){case"e0c9ea79f9bace118c8200aa004ba90b":return aK(e);case"0303000000000000c000000000000046":return iK(e);default:throw new Error("Unsupported Moniker "+r)}}function Y1(e){var t=e.read_shift(4),r=t>0?e.read_shift(t,"utf16le").replace(el,""):"";return r}function dk(e,t){t||(t=Ze(6+e.length*2)),t.write_shift(4,1+e.length);for(var r=0;r<e.length;++r)t.write_shift(2,e.charCodeAt(r));return t.write_shift(2,0),t}function lK(e,t){var r=e.l+t,n=e.read_shift(4);if(n!==2)throw new Error("Unrecognized streamVersion: "+n);var a=e.read_shift(2);e.l+=2;var i,l,o,f,u="",h,p;a&16&&(i=Y1(e,r-e.l)),a&128&&(l=Y1(e,r-e.l)),(a&257)===257&&(o=Y1(e,r-e.l)),(a&257)===1&&(f=sK(e,r-e.l)),a&8&&(u=Y1(e,r-e.l)),a&32&&(h=e.read_shift(16)),a&64&&(p=u3(e)),e.l=r;var g=l||o||f||"";g&&u&&(g+="#"+u),g||(g="#"+u),a&2&&g.charAt(0)=="/"&&g.charAt(1)!="/"&&(g="file://"+g);var x={Target:g};return h&&(x.guid=h),p&&(x.time=p),i&&(x.Tooltip=i),x}function oK(e){var t=Ze(512),r=0,n=e.Target;n.slice(0,7)=="file://"&&(n=n.slice(7));var a=n.indexOf("#"),i=a>-1?31:23;switch(n.charAt(0)){case"#":i=28;break;case".":i&=-3;break}t.write_shift(4,2),t.write_shift(4,i);var l=[8,6815827,6619237,4849780,83];for(r=0;r<l.length;++r)t.write_shift(4,l[r]);if(i==28)n=n.slice(1),dk(n,t);else if(i&2){for(l="e0 c9 ea 79 f9 ba ce 11 8c 82 00 aa 00 4b a9 0b".split(" "),r=0;r<l.length;++r)t.write_shift(1,parseInt(l[r],16));var o=a>-1?n.slice(0,a):n;for(t.write_shift(4,2*(o.length+1)),r=0;r<o.length;++r)t.write_shift(2,o.charCodeAt(r));t.write_shift(2,0),i&8&&dk(a>-1?n.slice(a+1):"",t)}else{for(l="03 03 00 00 00 00 00 00 c0 00 00 00 00 00 00 46".split(" "),r=0;r<l.length;++r)t.write_shift(1,parseInt(l[r],16));for(var f=0;n.slice(f*3,f*3+3)=="../"||n.slice(f*3,f*3+3)=="..\\";)++f;for(t.write_shift(2,f),t.write_shift(4,n.length-3*f+1),r=0;r<n.length-3*f;++r)t.write_shift(1,n.charCodeAt(r+3*f)&255);for(t.write_shift(1,0),t.write_shift(2,65535),t.write_shift(2,57005),r=0;r<6;++r)t.write_shift(4,0)}return t.slice(0,t.l)}function lF(e){var t=e.read_shift(1),r=e.read_shift(1),n=e.read_shift(1),a=e.read_shift(1);return[t,r,n,a]}function oF(e,t){var r=lF(e);return r[3]=0,r}function hu(e){var t=e.read_shift(2),r=e.read_shift(2),n=e.read_shift(2);return{r:t,c:r,ixfe:n}}function K0(e,t,r,n){return n||(n=Ze(6)),n.write_shift(2,e),n.write_shift(2,t),n.write_shift(2,r||0),n}function cK(e){var t=e.read_shift(2),r=e.read_shift(2);return e.l+=8,{type:t,flags:r}}function uK(e,t,r){return t===0?"":dh(e,t,r)}function fK(e,t,r){var n=r.biff>8?4:2,a=e.read_shift(n),i=e.read_shift(n,"i"),l=e.read_shift(n,"i");return[a,i,l]}function cF(e){var t=e.read_shift(2),r=l3(e);return[t,r]}function dK(e,t,r){e.l+=4,t-=4;var n=e.l+t,a=wg(e,t,r),i=e.read_shift(2);if(n-=e.l,i!==n)throw new Error("Malformed AddinUdf: padding = "+n+" != "+i);return e.l+=i,a}function o2(e){var t=e.read_shift(2),r=e.read_shift(2),n=e.read_shift(2),a=e.read_shift(2);return{s:{c:n,r:t},e:{c:a,r}}}function uF(e,t){return t||(t=Ze(8)),t.write_shift(2,e.s.r),t.write_shift(2,e.e.r),t.write_shift(2,e.s.c),t.write_shift(2,e.e.c),t}function fF(e){var t=e.read_shift(2),r=e.read_shift(2),n=e.read_shift(1),a=e.read_shift(1);return{s:{c:n,r:t},e:{c:a,r}}}var hK=fF;function dF(e){e.l+=4;var t=e.read_shift(2),r=e.read_shift(2),n=e.read_shift(2);return e.l+=12,[r,t,n]}function mK(e){var t={};return e.l+=4,e.l+=16,t.fSharedNote=e.read_shift(2),e.l+=4,t}function pK(e){var t={};return e.l+=4,e.cf=e.read_shift(2),t}function hs(e){e.l+=2,e.l+=e.read_shift(2)}var xK={0:hs,4:hs,5:hs,6:hs,7:pK,8:hs,9:hs,10:hs,11:hs,12:hs,13:mK,14:hs,15:hs,16:hs,17:hs,18:hs,19:hs,20:hs,21:dF};function gK(e,t){for(var r=e.l+t,n=[];e.l<r;){var a=e.read_shift(2);e.l-=2;try{n.push(xK[a](e,r-e.l))}catch{return e.l=r,n}}return e.l!=r&&(e.l=r),n}function X1(e,t){var r={BIFFVer:0,dt:0};switch(r.BIFFVer=e.read_shift(2),t-=2,t>=2&&(r.dt=e.read_shift(2),e.l-=2),r.BIFFVer){case 1536:case 1280:case 1024:case 768:case 512:case 2:case 7:break;default:if(t>6)throw new Error("Unexpected BIFF Ver "+r.BIFFVer)}return e.read_shift(t),r}function f3(e,t,r){var n=1536,a=16;switch(r.bookType){case"biff8":break;case"biff5":n=1280,a=8;break;case"biff4":n=4,a=6;break;case"biff3":n=3,a=6;break;case"biff2":n=2,a=4;break;case"xla":break;default:throw new Error("unsupported BIFF version")}var i=Ze(a);return i.write_shift(2,n),i.write_shift(2,t),a>4&&i.write_shift(2,29282),a>6&&i.write_shift(2,1997),a>8&&(i.write_shift(2,49161),i.write_shift(2,1),i.write_shift(2,1798),i.write_shift(2,0)),i}function vK(e,t){return t===0||e.read_shift(2),1200}function yK(e,t,r){if(r.enc)return e.l+=t,"";var n=e.l,a=dh(e,0,r);return e.read_shift(t+n-e.l),a}function bK(e,t){var r=!t||t.biff==8,n=Ze(r?112:54);for(n.write_shift(t.biff==8?2:1,7),r&&n.write_shift(1,0),n.write_shift(4,859007059),n.write_shift(4,5458548|(r?0:536870912));n.l<n.length;)n.write_shift(1,r?0:32);return n}function wK(e,t,r){var n=r&&r.biff==8||t==2?e.read_shift(2):(e.l+=t,0);return{fDialog:n&16,fBelow:n&64,fRight:n&128}}function _K(e,t,r){var n=e.read_shift(4),a=e.read_shift(1)&3,i=e.read_shift(1);switch(i){case 0:i="Worksheet";break;case 1:i="Macrosheet";break;case 2:i="Chartsheet";break;case 6:i="VBAModule";break}var l=wg(e,0,r);return l.length===0&&(l="Sheet1"),{pos:n,hs:a,dt:i,name:l}}function NK(e,t){var r=!t||t.biff>=8?2:1,n=Ze(8+r*e.name.length);n.write_shift(4,e.pos),n.write_shift(1,e.hs||0),n.write_shift(1,e.dt),n.write_shift(1,e.name.length),t.biff>=8&&n.write_shift(1,1),n.write_shift(r*e.name.length,e.name,t.biff<8?"sbcs":"utf16le");var a=n.slice(0,n.l);return a.l=n.l,a}function SK(e,t){for(var r=e.l+t,n=e.read_shift(4),a=e.read_shift(4),i=[],l=0;l!=a&&e.l<r;++l)i.push(tK(e));return i.Count=n,i.Unique=a,i}function jK(e,t){var r=Ze(8);r.write_shift(4,e.Count),r.write_shift(4,e.Unique);for(var n=[],a=0;a<e.length;++a)n[a]=rK(e[a]);var i=Ii([r].concat(n));return i.parts=[r.length].concat(n.map(function(l){return l.length})),i}function AK(e,t){var r={};return r.dsst=e.read_shift(2),e.l+=t-2,r}function EK(e){var t={};t.r=e.read_shift(2),t.c=e.read_shift(2),t.cnt=e.read_shift(2)-t.c;var r=e.read_shift(2);e.l+=4;var n=e.read_shift(1);return e.l+=3,n&7&&(t.level=n&7),n&32&&(t.hidden=!0),n&64&&(t.hpt=r/20),t}function kK(e){var t=cK(e);if(t.type!=2211)throw new Error("Invalid Future Record "+t.type);var r=e.read_shift(4);return r!==0}function CK(e){return e.read_shift(2),e.read_shift(4)}function hk(e,t,r){var n=0;r&&r.biff==2||(n=e.read_shift(2));var a=e.read_shift(2);r&&r.biff==2&&(n=1-(a>>15),a&=32767);var i={Unsynced:n&1,DyZero:(n&2)>>1,ExAsc:(n&4)>>2,ExDsc:(n&8)>>3};return[i,a]}function TK(e){var t=e.read_shift(2),r=e.read_shift(2),n=e.read_shift(2),a=e.read_shift(2),i=e.read_shift(2),l=e.read_shift(2),o=e.read_shift(2),f=e.read_shift(2),u=e.read_shift(2);return{Pos:[t,r],Dim:[n,a],Flags:i,CurTab:l,FirstTab:o,Selected:f,TabRatio:u}}function OK(){var e=Ze(18);return e.write_shift(2,0),e.write_shift(2,0),e.write_shift(2,29280),e.write_shift(2,17600),e.write_shift(2,56),e.write_shift(2,0),e.write_shift(2,0),e.write_shift(2,1),e.write_shift(2,500),e}function DK(e,t,r){if(r&&r.biff>=2&&r.biff<5)return{};var n=e.read_shift(2);return{RTL:n&64}}function PK(e){var t=Ze(18),r=1718;return e&&e.RTL&&(r|=64),t.write_shift(2,r),t.write_shift(4,0),t.write_shift(4,64),t.write_shift(4,0),t.write_shift(4,0),t}function FK(){}function LK(e,t,r){var n={dyHeight:e.read_shift(2),fl:e.read_shift(2)};switch(r&&r.biff||8){case 2:break;case 3:case 4:e.l+=2;break;default:e.l+=10;break}return n.name=wg(e,0,r),n}function MK(e,t){var r=e.name||"Arial",n=t&&t.biff==5,a=n?15+r.length:16+2*r.length,i=Ze(a);return i.write_shift(2,e.sz*20),i.write_shift(4,0),i.write_shift(2,400),i.write_shift(4,0),i.write_shift(2,0),i.write_shift(1,r.length),n||i.write_shift(1,1),i.write_shift((n?1:2)*r.length,r,n?"sbcs":"utf16le"),i}function RK(e){var t=hu(e);return t.isst=e.read_shift(4),t}function IK(e,t,r,n){var a=Ze(10);return K0(e,t,n,a),a.write_shift(4,r),a}function BK(e,t,r){r.biffguess&&r.biff==2&&(r.biff=5);var n=e.l+t,a=hu(e);r.biff==2&&e.l++;var i=_g(e,n-e.l,r);return a.val=i,a}function UK(e,t,r,n,a){var i=!a||a.biff==8,l=Ze(8+ +i+(1+i)*r.length);return K0(e,t,n,l),l.write_shift(2,r.length),i&&l.write_shift(1,1),l.write_shift((1+i)*r.length,r,i?"utf16le":"sbcs"),l}function zK(e,t,r){var n=e.read_shift(2),a=dh(e,0,r);return[n,a]}function qK(e,t,r,n){var a=r&&r.biff==5;n||(n=Ze(a?3+t.length:5+2*t.length)),n.write_shift(2,e),n.write_shift(a?1:2,t.length),a||n.write_shift(1,1),n.write_shift((a?1:2)*t.length,t,a?"sbcs":"utf16le");var i=n.length>n.l?n.slice(0,n.l):n;return i.l==null&&(i.l=i.length),i}var $K=dh;function mk(e,t,r){var n=e.l+t,a=r.biff==8||!r.biff?4:2,i=e.read_shift(a),l=e.read_shift(a),o=e.read_shift(2),f=e.read_shift(2);return e.l=n,{s:{r:i,c:o},e:{r:l,c:f}}}function HK(e,t){var r=t.biff==8||!t.biff?4:2,n=Ze(2*r+6);return n.write_shift(r,e.s.r),n.write_shift(r,e.e.r+1),n.write_shift(2,e.s.c),n.write_shift(2,e.e.c+1),n.write_shift(2,0),n}function VK(e){var t=e.read_shift(2),r=e.read_shift(2),n=cF(e);return{r:t,c:r,ixfe:n[0],rknum:n[1]}}function WK(e,t){for(var r=e.l+t-2,n=e.read_shift(2),a=e.read_shift(2),i=[];e.l<r;)i.push(cF(e));if(e.l!==r)throw new Error("MulRK read error");var l=e.read_shift(2);if(i.length!=l-a+1)throw new Error("MulRK length mismatch");return{r:n,c:a,C:l,rkrec:i}}function GK(e,t){for(var r=e.l+t-2,n=e.read_shift(2),a=e.read_shift(2),i=[];e.l<r;)i.push(e.read_shift(2));if(e.l!==r)throw new Error("MulBlank read error");var l=e.read_shift(2);if(i.length!=l-a+1)throw new Error("MulBlank length mismatch");return{r:n,c:a,C:l,ixfe:i}}function KK(e,t,r,n){var a={},i=e.read_shift(4),l=e.read_shift(4),o=e.read_shift(4),f=e.read_shift(2);return a.patternType=kG[o>>26],n.cellStyles&&(a.alc=i&7,a.fWrap=i>>3&1,a.alcV=i>>4&7,a.fJustLast=i>>7&1,a.trot=i>>8&255,a.cIndent=i>>16&15,a.fShrinkToFit=i>>20&1,a.iReadOrder=i>>22&2,a.fAtrNum=i>>26&1,a.fAtrFnt=i>>27&1,a.fAtrAlc=i>>28&1,a.fAtrBdr=i>>29&1,a.fAtrPat=i>>30&1,a.fAtrProt=i>>31&1,a.dgLeft=l&15,a.dgRight=l>>4&15,a.dgTop=l>>8&15,a.dgBottom=l>>12&15,a.icvLeft=l>>16&127,a.icvRight=l>>23&127,a.grbitDiag=l>>30&3,a.icvTop=o&127,a.icvBottom=o>>7&127,a.icvDiag=o>>14&127,a.dgDiag=o>>21&15,a.icvFore=f&127,a.icvBack=f>>7&127,a.fsxButton=f>>14&1),a}function YK(e,t,r){var n={};return n.ifnt=e.read_shift(2),n.numFmtId=e.read_shift(2),n.flags=e.read_shift(2),n.fStyle=n.flags>>2&1,t-=6,n.data=KK(e,t,n.fStyle,r),n}function pk(e,t,r,n){var a=r&&r.biff==5;n||(n=Ze(a?16:20)),n.write_shift(2,0),e.style?(n.write_shift(2,e.numFmtId||0),n.write_shift(2,65524)):(n.write_shift(2,e.numFmtId||0),n.write_shift(2,t<<4));var i=0;return e.numFmtId>0&&a&&(i|=1024),n.write_shift(4,i),n.write_shift(4,0),a||n.write_shift(4,0),n.write_shift(2,0),n}function XK(e){e.l+=4;var t=[e.read_shift(2),e.read_shift(2)];if(t[0]!==0&&t[0]--,t[1]!==0&&t[1]--,t[0]>7||t[1]>7)throw new Error("Bad Gutters: "+t.join("|"));return t}function QK(e){var t=Ze(8);return t.write_shift(4,0),t.write_shift(2,0),t.write_shift(2,0),t}function xk(e,t,r){var n=hu(e);(r.biff==2||t==9)&&++e.l;var a=eK(e);return n.val=a,n.t=a===!0||a===!1?"b":"e",n}function ZK(e,t,r,n,a,i){var l=Ze(8);return K0(e,t,n,l),iF(r,i,l),l}function JK(e,t,r){r.biffguess&&r.biff==2&&(r.biff=5);var n=hu(e),a=Ns(e);return n.val=a,n}function eY(e,t,r,n){var a=Ze(14);return K0(e,t,n,a),W0(r,a),a}var gk=uK;function tY(e,t,r){var n=e.l+t,a=e.read_shift(2),i=e.read_shift(2);if(r.sbcch=i,i==1025||i==14849)return[i,a];if(i<1||i>255)throw new Error("Unexpected SupBook type: "+i);for(var l=G0(e,i),o=[];n>e.l;)o.push(_g(e));return[i,a,l,o]}function vk(e,t,r){var n=e.read_shift(2),a,i={fBuiltIn:n&1,fWantAdvise:n>>>1&1,fWantPict:n>>>2&1,fOle:n>>>3&1,fOleLink:n>>>4&1,cf:n>>>5&1023,fIcon:n>>>15&1};return r.sbcch===14849&&(a=dK(e,t-2,r)),i.body=a||e.read_shift(t-2),typeof a=="string"&&(i.Name=a),i}var rY=["_xlnm.Consolidate_Area","_xlnm.Auto_Open","_xlnm.Auto_Close","_xlnm.Extract","_xlnm.Database","_xlnm.Criteria","_xlnm.Print_Area","_xlnm.Print_Titles","_xlnm.Recorder","_xlnm.Data_Form","_xlnm.Auto_Activate","_xlnm.Auto_Deactivate","_xlnm.Sheet_Title","_xlnm._FilterDatabase"];function yk(e,t,r){var n=e.l+t,a=e.read_shift(2),i=e.read_shift(1),l=e.read_shift(1),o=e.read_shift(r&&r.biff==2?1:2),f=0;(!r||r.biff>=5)&&(r.biff!=5&&(e.l+=2),f=e.read_shift(2),r.biff==5&&(e.l+=2),e.l+=4);var u=G0(e,l,r);a&32&&(u=rY[u.charCodeAt(0)]);var h=n-e.l;r&&r.biff==2&&--h;var p=n==e.l||o===0||!(h>0)?[]:gJ(e,h,r,o);return{chKey:i,Name:u,itab:f,rgce:p}}function hF(e,t,r){if(r.biff<8)return nY(e,t,r);for(var n=[],a=e.l+t,i=e.read_shift(r.biff>8?4:2);i--!==0;)n.push(fK(e,r.biff>8?12:6,r));if(e.l!=a)throw new Error("Bad ExternSheet: "+e.l+" != "+a);return n}function nY(e,t,r){e[e.l+1]==3&&e[e.l]++;var n=wg(e,t,r);return n.charCodeAt(0)==3?n.slice(1):n}function aY(e,t,r){if(r.biff<8){e.l+=t;return}var n=e.read_shift(2),a=e.read_shift(2),i=G0(e,n,r),l=G0(e,a,r);return[i,l]}function iY(e,t,r){var n=fF(e);e.l++;var a=e.read_shift(1);return t-=8,[vJ(e,t,r),a,n]}function bk(e,t,r){var n=hK(e);switch(r.biff){case 2:e.l++,t-=7;break;case 3:case 4:e.l+=2,t-=8;break;default:e.l+=6,t-=12}return[n,pJ(e,t,r)]}function sY(e){var t=e.read_shift(4)!==0,r=e.read_shift(4)!==0,n=e.read_shift(4);return[t,r,n]}function lY(e,t,r){if(!(r.biff<8)){var n=e.read_shift(2),a=e.read_shift(2),i=e.read_shift(2),l=e.read_shift(2),o=dh(e,0,r);return r.biff<8&&e.read_shift(1),[{r:n,c:a},o,l,i]}}function oY(e,t,r){return lY(e,t,r)}function cY(e,t){for(var r=[],n=e.read_shift(2);n--;)r.push(o2(e));return r}function uY(e){var t=Ze(2+e.length*8);t.write_shift(2,e.length);for(var r=0;r<e.length;++r)uF(e[r],t);return t}function fY(e,t,r){if(r&&r.biff<8)return hY(e,t,r);var n=dF(e),a=gK(e,t-22,n[1]);return{cmo:n,ft:a}}var dY={8:function(e,t){var r=e.l+t;e.l+=10;var n=e.read_shift(2);e.l+=4,e.l+=2,e.l+=2,e.l+=2,e.l+=4;var a=e.read_shift(1);return e.l+=a,e.l=r,{fmt:n}}};function hY(e,t,r){e.l+=4;var n=e.read_shift(2),a=e.read_shift(2),i=e.read_shift(2);e.l+=2,e.l+=2,e.l+=2,e.l+=2,e.l+=2,e.l+=2,e.l+=2,e.l+=2,e.l+=2,e.l+=6,t-=36;var l=[];return l.push((dY[n]||ks)(e,t,r)),{cmo:[a,n,i],ft:l}}function mY(e,t,r){var n=e.l,a="";try{e.l+=4;var i=(r.lastobj||{cmo:[0,0]}).cmo[1],l;[0,5,7,11,12,14].indexOf(i)==-1?e.l+=6:l=nK(e,6,r);var o=e.read_shift(2);e.read_shift(2),ni(e,2);var f=e.read_shift(2);e.l+=f;for(var u=1;u<e.lens.length-1;++u){if(e.l-n!=e.lens[u])throw new Error("TxO: bad continue record");var h=e[e.l],p=G0(e,e.lens[u+1]-e.lens[u]-1);if(a+=p,a.length>=(h?o:2*o))break}if(a.length!==o&&a.length!==o*2)throw new Error("cchText: "+o+" != "+a.length);return e.l=n+t,{t:a}}catch{return e.l=n+t,{t:a}}}function pY(e,t){var r=o2(e);e.l+=16;var n=lK(e,t-24);return[r,n]}function xY(e){var t=Ze(24),r=Sa(e[0]);t.write_shift(2,r.r),t.write_shift(2,r.r),t.write_shift(2,r.c),t.write_shift(2,r.c);for(var n="d0 c9 ea 79 f9 ba ce 11 8c 82 00 aa 00 4b a9 0b".split(" "),a=0;a<16;++a)t.write_shift(1,parseInt(n[a],16));return Ii([t,oK(e[1])])}function gY(e,t){e.read_shift(2);var r=o2(e),n=e.read_shift((t-10)/2,"dbcs-cont");return n=n.replace(el,""),[r,n]}function vY(e){var t=e[1].Tooltip,r=Ze(10+2*(t.length+1));r.write_shift(2,2048);var n=Sa(e[0]);r.write_shift(2,n.r),r.write_shift(2,n.r),r.write_shift(2,n.c),r.write_shift(2,n.c);for(var a=0;a<t.length;++a)r.write_shift(2,t.charCodeAt(a));return r.write_shift(2,0),r}function yY(e){var t=[0,0],r;return r=e.read_shift(2),t[0]=ak[r]||r,r=e.read_shift(2),t[1]=ak[r]||r,t}function bY(e){return e||(e=Ze(4)),e.write_shift(2,1),e.write_shift(2,1),e}function wY(e){for(var t=e.read_shift(2),r=[];t-- >0;)r.push(oF(e));return r}function _Y(e){for(var t=e.read_shift(2),r=[];t-- >0;)r.push(oF(e));return r}function NY(e){e.l+=2;var t={cxfs:0,crc:0};return t.cxfs=e.read_shift(2),t.crc=e.read_shift(4),t}function mF(e,t,r){if(!r.cellStyles)return ks(e,t);var n=r&&r.biff>=12?4:2,a=e.read_shift(n),i=e.read_shift(n),l=e.read_shift(n),o=e.read_shift(n),f=e.read_shift(2);n==2&&(e.l+=2);var u={s:a,e:i,w:l,ixfe:o,flags:f};return(r.biff>=5||!r.biff)&&(u.level=f>>8&7),u}function SY(e,t){var r=Ze(12);r.write_shift(2,t),r.write_shift(2,t),r.write_shift(2,e.width*256),r.write_shift(2,0);var n=0;return e.hidden&&(n|=1),r.write_shift(1,n),n=e.level||0,r.write_shift(1,n),r.write_shift(2,0),r}function jY(e,t){var r={};return t<32||(e.l+=16,r.header=Ns(e),r.footer=Ns(e),e.l+=2),r}function AY(e,t,r){var n={area:!1};if(r.biff!=5)return e.l+=t,n;var a=e.read_shift(1);return e.l+=3,a&16&&(n.area=!0),n}function EY(e){for(var t=Ze(2*e),r=0;r<e;++r)t.write_shift(2,r+1);return t}var kY=hu,CY=aF,TY=_g;function OY(e){var t=e.read_shift(2),r=e.read_shift(2),n=e.read_shift(4),a={fmt:t,env:r,len:n,data:e.slice(e.l,e.l+n)};return e.l+=n,a}function DY(e,t,r){r.biffguess&&r.biff==5&&(r.biff=2);var n=hu(e);++e.l;var a=dh(e,t-7,r);return n.t="str",n.val=a,n}function PY(e){var t=hu(e);++e.l;var r=Ns(e);return t.t="n",t.val=r,t}function FY(e,t,r){var n=Ze(15);return Ag(n,e,t),n.write_shift(8,r,"f"),n}function LY(e){var t=hu(e);++e.l;var r=e.read_shift(2);return t.t="n",t.val=r,t}function MY(e,t,r){var n=Ze(9);return Ag(n,e,t),n.write_shift(2,r),n}function RY(e){var t=e.read_shift(1);return t===0?(e.l++,""):e.read_shift(t,"sbcs-cont")}function IY(e,t){e.l+=6,e.l+=2,e.l+=1,e.l+=3,e.l+=1,e.l+=t-13}function BY(e,t,r){var n=e.l+t,a=hu(e),i=e.read_shift(2),l=G0(e,i,r);return e.l=n,a.t="str",a.val=l,a}var UY=[2,3,48,49,131,139,140,245],a_=(function(){var e={1:437,2:850,3:1252,4:1e4,100:852,101:866,102:865,103:861,104:895,105:620,106:737,107:857,120:950,121:949,122:936,123:932,124:874,125:1255,126:1256,150:10007,151:10029,152:10006,200:1250,201:1251,202:1254,203:1253,0:20127,8:865,9:437,10:850,11:437,13:437,14:850,15:437,16:850,17:437,18:850,19:932,20:850,21:437,22:850,23:865,24:437,25:437,26:850,27:437,28:863,29:850,31:852,34:852,35:852,36:860,37:850,38:866,55:850,64:852,77:936,78:949,79:950,80:874,87:1252,88:1252,89:1252,108:863,134:737,135:852,136:857,204:1257,255:16969},t=i2({1:437,2:850,3:1252,4:1e4,100:852,101:866,102:865,103:861,104:895,105:620,106:737,107:857,120:950,121:949,122:936,123:932,124:874,125:1255,126:1256,150:10007,151:10029,152:10006,200:1250,201:1251,202:1254,203:1253,0:20127});function r(o,f){var u=[],h=jd(1);switch(f.type){case"base64":h=Xl(to(o));break;case"binary":h=Xl(o);break;case"buffer":case"array":h=o;break}rs(h,0);var p=h.read_shift(1),g=!!(p&136),x=!1,b=!1;switch(p){case 2:break;case 3:break;case 48:x=!0,g=!0;break;case 49:x=!0,g=!0;break;case 131:break;case 139:break;case 140:b=!0;break;case 245:break;default:throw new Error("DBF Unsupported Version: "+p.toString(16))}var y=0,w=521;p==2&&(y=h.read_shift(2)),h.l+=3,p!=2&&(y=h.read_shift(4)),y>1048576&&(y=1e6),p!=2&&(w=h.read_shift(2));var _=h.read_shift(2),E=f.codepage||1252;p!=2&&(h.l+=16,h.read_shift(1),h[h.l]!==0&&(E=e[h[h.l]]),h.l+=1,h.l+=2),b&&(h.l+=36);for(var A=[],O={},D=Math.min(h.length,p==2?521:w-10-(x?264:0)),R=b?32:11;h.l<D&&h[h.l]!=13;)switch(O={},O.name=Ix.utils.decode(E,h.slice(h.l,h.l+R)).replace(/[\u0000\r\n].*$/g,""),h.l+=R,O.type=String.fromCharCode(h.read_shift(1)),p!=2&&!b&&(O.offset=h.read_shift(4)),O.len=h.read_shift(1),p==2&&(O.offset=h.read_shift(2)),O.dec=h.read_shift(1),O.name.length&&A.push(O),p!=2&&(h.l+=b?13:14),O.type){case"B":(!x||O.len!=8)&&f.WTF&&console.log("Skipping "+O.name+":"+O.type);break;case"G":case"P":f.WTF&&console.log("Skipping "+O.name+":"+O.type);break;case"+":case"0":case"@":case"C":case"D":case"F":case"I":case"L":case"M":case"N":case"O":case"T":case"Y":break;default:throw new Error("Unknown Field Type: "+O.type)}if(h[h.l]!==13&&(h.l=w-1),h.read_shift(1)!==13)throw new Error("DBF Terminator not found "+h.l+" "+h[h.l]);h.l=w;var P=0,T=0;for(u[0]=[],T=0;T!=A.length;++T)u[0][T]=A[T].name;for(;y-- >0;){if(h[h.l]===42){h.l+=_;continue}for(++h.l,u[++P]=[],T=0,T=0;T!=A.length;++T){var B=h.slice(h.l,h.l+A[T].len);h.l+=A[T].len,rs(B,0);var G=Ix.utils.decode(E,B);switch(A[T].type){case"C":G.trim().length&&(u[P][T]=G.replace(/\s+$/,""));break;case"D":G.length===8?u[P][T]=new Date(+G.slice(0,4),+G.slice(4,6)-1,+G.slice(6,8)):u[P][T]=G;break;case"F":u[P][T]=parseFloat(G.trim());break;case"+":case"I":u[P][T]=b?B.read_shift(-4,"i")^2147483648:B.read_shift(4,"i");break;case"L":switch(G.trim().toUpperCase()){case"Y":case"T":u[P][T]=!0;break;case"N":case"F":u[P][T]=!1;break;case"":case"?":break;default:throw new Error("DBF Unrecognized L:|"+G+"|")}break;case"M":if(!g)throw new Error("DBF Unexpected MEMO for type "+p.toString(16));u[P][T]="##MEMO##"+(b?parseInt(G.trim(),10):B.read_shift(4));break;case"N":G=G.replace(/\u0000/g,"").trim(),G&&G!="."&&(u[P][T]=+G||0);break;case"@":u[P][T]=new Date(B.read_shift(-8,"f")-621356832e5);break;case"T":u[P][T]=new Date((B.read_shift(4)-2440588)*864e5+B.read_shift(4));break;case"Y":u[P][T]=B.read_shift(4,"i")/1e4+B.read_shift(4,"i")/1e4*Math.pow(2,32);break;case"O":u[P][T]=-B.read_shift(-8,"f");break;case"B":if(x&&A[T].len==8){u[P][T]=B.read_shift(8,"f");break}case"G":case"P":B.l+=A[T].len;break;case"0":if(A[T].name==="_NullFlags")break;default:throw new Error("DBF Unsupported data type "+A[T].type)}}}if(p!=2&&h.l<h.length&&h[h.l++]!=26)throw new Error("DBF EOF Marker missing "+(h.l-1)+" of "+h.length+" "+h[h.l-1].toString(16));return f&&f.sheetRows&&(u=u.slice(0,f.sheetRows)),f.DBF=A,u}function n(o,f){var u=f||{};u.dateNF||(u.dateNF="yyyymmdd");var h=np(r(o,u),u);return h["!cols"]=u.DBF.map(function(p){return{wch:p.len,DBF:p}}),delete u.DBF,h}function a(o,f){try{return Rd(n(o,f),f)}catch(u){if(f&&f.WTF)throw u}return{SheetNames:[],Sheets:{}}}var i={B:8,C:250,L:1,D:8,"?":0,"":0};function l(o,f){var u=f||{};if(+u.codepage>=0&&bc(+u.codepage),u.type=="string")throw new Error("Cannot write DBF to JS string");var h=Al(),p=sy(o,{header:1,raw:!0,cellDates:!0}),g=p[0],x=p.slice(1),b=o["!cols"]||[],y=0,w=0,_=0,E=1;for(y=0;y<g.length;++y){if(((b[y]||{}).DBF||{}).name){g[y]=b[y].DBF.name,++_;continue}if(g[y]!=null){if(++_,typeof g[y]=="number"&&(g[y]=g[y].toString(10)),typeof g[y]!="string")throw new Error("DBF Invalid column name "+g[y]+" |"+typeof g[y]+"|");if(g.indexOf(g[y])!==y){for(w=0;w<1024;++w)if(g.indexOf(g[y]+"_"+w)==-1){g[y]+="_"+w;break}}}}var A=Zr(o["!ref"]),O=[],D=[],R=[];for(y=0;y<=A.e.c-A.s.c;++y){var P="",T="",B=0,G=[];for(w=0;w<x.length;++w)x[w][y]!=null&&G.push(x[w][y]);if(G.length==0||g[y]==null){O[y]="?";continue}for(w=0;w<G.length;++w){switch(typeof G[w]){case"number":T="B";break;case"string":T="C";break;case"boolean":T="L";break;case"object":T=G[w]instanceof Date?"D":"C";break;default:T="C"}B=Math.max(B,String(G[w]).length),P=P&&P!=T?"C":T}B>250&&(B=250),T=((b[y]||{}).DBF||{}).type,T=="C"&&b[y].DBF.len>B&&(B=b[y].DBF.len),P=="B"&&T=="N"&&(P="N",R[y]=b[y].DBF.dec,B=b[y].DBF.len),D[y]=P=="C"||T=="N"?B:i[P]||0,E+=D[y],O[y]=P}var I=h.next(32);for(I.write_shift(4,318902576),I.write_shift(4,x.length),I.write_shift(2,296+32*_),I.write_shift(2,E),y=0;y<4;++y)I.write_shift(4,0);for(I.write_shift(4,0|(+t[nP]||3)<<8),y=0,w=0;y<g.length;++y)if(g[y]!=null){var z=h.next(32),K=(g[y].slice(-10)+"\0\0\0\0\0\0\0\0\0\0\0").slice(0,11);z.write_shift(1,K,"sbcs"),z.write_shift(1,O[y]=="?"?"C":O[y],"sbcs"),z.write_shift(4,w),z.write_shift(1,D[y]||i[O[y]]||0),z.write_shift(1,R[y]||0),z.write_shift(1,2),z.write_shift(4,0),z.write_shift(1,0),z.write_shift(4,0),z.write_shift(4,0),w+=D[y]||i[O[y]]||0}var J=h.next(264);for(J.write_shift(4,13),y=0;y<65;++y)J.write_shift(4,0);for(y=0;y<x.length;++y){var pe=h.next(E);for(pe.write_shift(1,0),w=0;w<g.length;++w)if(g[w]!=null)switch(O[w]){case"L":pe.write_shift(1,x[y][w]==null?63:x[y][w]?84:70);break;case"B":pe.write_shift(8,x[y][w]||0,"f");break;case"N":var ne="0";for(typeof x[y][w]=="number"&&(ne=x[y][w].toFixed(R[w]||0)),_=0;_<D[w]-ne.length;++_)pe.write_shift(1,32);pe.write_shift(1,ne,"sbcs");break;case"D":x[y][w]?(pe.write_shift(4,("0000"+x[y][w].getFullYear()).slice(-4),"sbcs"),pe.write_shift(2,("00"+(x[y][w].getMonth()+1)).slice(-2),"sbcs"),pe.write_shift(2,("00"+x[y][w].getDate()).slice(-2),"sbcs")):pe.write_shift(8,"00000000","sbcs");break;case"C":var le=String(x[y][w]!=null?x[y][w]:"").slice(0,D[w]);for(pe.write_shift(1,le,"sbcs"),_=0;_<D[w]-le.length;++_)pe.write_shift(1,32);break}}return h.next(1).write_shift(1,26),h.end()}return{to_workbook:a,to_sheet:n,from_sheet:l}})(),pF=(function(){var e={AA:"",BA:"",CA:"",DA:195,HA:"",JA:197,AE:"",BE:"",CE:"",HE:"",AI:"",BI:"",CI:"",HI:"",AO:"",BO:"",CO:"",DO:213,HO:"",AU:"",BU:"",CU:"",HU:"",Aa:"",Ba:"",Ca:"",Da:227,Ha:"",Ja:229,Ae:"",Be:"",Ce:"",He:"",Ai:"",Bi:"",Ci:"",Hi:"",Ao:"",Bo:"",Co:"",Do:245,Ho:"",Au:"",Bu:"",Cu:"",Hu:"",KC:"",Kc:"",q:"",z:"",a:"",j:"",DN:209,Dn:241,Hy:255,S:169,c:170,R:174,"B ":180,0:176,1:177,2:178,3:179,5:181,6:182,7:183,Q:185,k:186,b:208,i:216,l:222,s:240,y:248,"!":161,'"':162,"#":163,"(":164,"%":165,"'":167,"H ":168,"+":171,";":187,"<":188,"=":189,">":190,"?":191,"{":223},t=new RegExp("\x1BN("+Ia(e).join("|").replace(/\|\|\|/,"|\\||").replace(/([?()+])/g,"\\$1")+"|\\|)","gm"),r=function(g,x){var b=e[x];return typeof b=="number"?OE(b):b},n=function(g,x,b){var y=x.charCodeAt(0)-32<<4|b.charCodeAt(0)-48;return y==59?g:OE(y)};e["|"]=254;function a(g,x){switch(x.type){case"base64":return i(to(g),x);case"binary":return i(g,x);case"buffer":return i(Cr&&Buffer.isBuffer(g)?g.toString("binary"):Md(g),x);case"array":return i(V0(g),x)}throw new Error("Unrecognized type "+x.type)}function i(g,x){var b=g.split(/[\n\r]+/),y=-1,w=-1,_=0,E=0,A=[],O=[],D=null,R={},P=[],T=[],B=[],G=0,I;for(+x.codepage>=0&&bc(+x.codepage);_!==b.length;++_){G=0;var z=b[_].trim().replace(/\x1B([\x20-\x2F])([\x30-\x3F])/g,n).replace(t,r),K=z.replace(/;;/g,"\0").split(";").map(function(W){return W.replace(/\u0000/g,";")}),J=K[0],pe;if(z.length>0)switch(J){case"ID":break;case"E":break;case"B":break;case"O":break;case"W":break;case"P":K[1].charAt(0)=="P"&&O.push(z.slice(3).replace(/;;/g,";"));break;case"C":var ne=!1,le=!1,ve=!1,ue=!1,je=-1,te=-1;for(E=1;E<K.length;++E)switch(K[E].charAt(0)){case"A":break;case"X":w=parseInt(K[E].slice(1))-1,le=!0;break;case"Y":for(y=parseInt(K[E].slice(1))-1,le||(w=0),I=A.length;I<=y;++I)A[I]=[];break;case"K":pe=K[E].slice(1),pe.charAt(0)==='"'?pe=pe.slice(1,pe.length-1):pe==="TRUE"?pe=!0:pe==="FALSE"?pe=!1:isNaN(Nc(pe))?isNaN(Rm(pe).getDate())||(pe=Zn(pe)):(pe=Nc(pe),D!==null&&tp(D)&&(pe=l2(pe))),ne=!0;break;case"E":ue=!0;var F=km(K[E].slice(1),{r:y,c:w});A[y][w]=[A[y][w],F];break;case"S":ve=!0,A[y][w]=[A[y][w],"S5S"];break;case"G":break;case"R":je=parseInt(K[E].slice(1))-1;break;case"C":te=parseInt(K[E].slice(1))-1;break;default:if(x&&x.WTF)throw new Error("SYLK bad record "+z)}if(ne&&(A[y][w]&&A[y][w].length==2?A[y][w][0]=pe:A[y][w]=pe,D=null),ve){if(ue)throw new Error("SYLK shared formula cannot have own formula");var M=je>-1&&A[je][te];if(!M||!M[1])throw new Error("SYLK shared formula cannot find base");A[y][w][1]=PF(M[1],{r:y-je,c:w-te})}break;case"F":var q=0;for(E=1;E<K.length;++E)switch(K[E].charAt(0)){case"X":w=parseInt(K[E].slice(1))-1,++q;break;case"Y":for(y=parseInt(K[E].slice(1))-1,I=A.length;I<=y;++I)A[I]=[];break;case"M":G=parseInt(K[E].slice(1))/20;break;case"F":break;case"G":break;case"P":D=O[parseInt(K[E].slice(1))];break;case"S":break;case"D":break;case"N":break;case"W":for(B=K[E].slice(1).split(" "),I=parseInt(B[0],10);I<=parseInt(B[1],10);++I)G=parseInt(B[2],10),T[I-1]=G===0?{hidden:!0}:{wch:G},Ad(T[I-1]);break;case"C":w=parseInt(K[E].slice(1))-1,T[w]||(T[w]={});break;case"R":y=parseInt(K[E].slice(1))-1,P[y]||(P[y]={}),G>0?(P[y].hpt=G,P[y].hpx=Bm(G)):G===0&&(P[y].hidden=!0);break;default:if(x&&x.WTF)throw new Error("SYLK bad record "+z)}q<1&&(D=null);break;default:if(x&&x.WTF)throw new Error("SYLK bad record "+z)}}return P.length>0&&(R["!rows"]=P),T.length>0&&(R["!cols"]=T),x&&x.sheetRows&&(A=A.slice(0,x.sheetRows)),[A,R]}function l(g,x){var b=a(g,x),y=b[0],w=b[1],_=np(y,x);return Ia(w).forEach(function(E){_[E]=w[E]}),_}function o(g,x){return Rd(l(g,x),x)}function f(g,x,b,y){var w="C;Y"+(b+1)+";X"+(y+1)+";K";switch(g.t){case"n":w+=g.v||0,g.f&&!g.F&&(w+=";E"+g3(g.f,{r:b,c:y}));break;case"b":w+=g.v?"TRUE":"FALSE";break;case"e":w+=g.w||g.v;break;case"d":w+='"'+(g.w||g.v)+'"';break;case"s":w+='"'+g.v.replace(/"/g,"").replace(/;/g,";;")+'"';break}return w}function u(g,x){x.forEach(function(b,y){var w="F;W"+(y+1)+" "+(y+1)+" ";b.hidden?w+="0":(typeof b.width=="number"&&!b.wpx&&(b.wpx=Wx(b.width)),typeof b.wpx=="number"&&!b.wch&&(b.wch=Gx(b.wpx)),typeof b.wch=="number"&&(w+=Math.round(b.wch))),w.charAt(w.length-1)!=" "&&g.push(w)})}function h(g,x){x.forEach(function(b,y){var w="F;";b.hidden?w+="M0;":b.hpt?w+="M"+20*b.hpt+";":b.hpx&&(w+="M"+20*Kx(b.hpx)+";"),w.length>2&&g.push(w+"R"+(y+1))})}function p(g,x){var b=["ID;PWXL;N;E"],y=[],w=Zr(g["!ref"]),_,E=Array.isArray(g),A=`\r
`;b.push("P;PGeneral"),b.push("F;P0;DG0G8;M255"),g["!cols"]&&u(b,g["!cols"]),g["!rows"]&&h(b,g["!rows"]),b.push("B;Y"+(w.e.r-w.s.r+1)+";X"+(w.e.c-w.s.c+1)+";D"+[w.s.c,w.s.r,w.e.c,w.e.r].join(" "));for(var O=w.s.r;O<=w.e.r;++O)for(var D=w.s.c;D<=w.e.c;++D){var R=ur({r:O,c:D});_=E?(g[O]||[])[D]:g[R],!(!_||_.v==null&&(!_.f||_.F))&&y.push(f(_,g,O,D))}return b.join(A)+A+y.join(A)+A+"E"+A}return{to_workbook:o,to_sheet:l,from_sheet:p}})(),xF=(function(){function e(i,l){switch(l.type){case"base64":return t(to(i),l);case"binary":return t(i,l);case"buffer":return t(Cr&&Buffer.isBuffer(i)?i.toString("binary"):Md(i),l);case"array":return t(V0(i),l)}throw new Error("Unrecognized type "+l.type)}function t(i,l){for(var o=i.split(`
`),f=-1,u=-1,h=0,p=[];h!==o.length;++h){if(o[h].trim()==="BOT"){p[++f]=[],u=0;continue}if(!(f<0)){var g=o[h].trim().split(","),x=g[0],b=g[1];++h;for(var y=o[h]||"";(y.match(/["]/g)||[]).length&1&&h<o.length-1;)y+=`
`+o[++h];switch(y=y.trim(),+x){case-1:if(y==="BOT"){p[++f]=[],u=0;continue}else if(y!=="EOD")throw new Error("Unrecognized DIF special command "+y);break;case 0:y==="TRUE"?p[f][u]=!0:y==="FALSE"?p[f][u]=!1:isNaN(Nc(b))?isNaN(Rm(b).getDate())?p[f][u]=b:p[f][u]=Zn(b):p[f][u]=Nc(b),++u;break;case 1:y=y.slice(1,y.length-1),y=y.replace(/""/g,'"'),y&&y.match(/^=".*"$/)&&(y=y.slice(2,-1)),p[f][u++]=y!==""?y:null;break}if(y==="EOD")break}}return l&&l.sheetRows&&(p=p.slice(0,l.sheetRows)),p}function r(i,l){return np(e(i,l),l)}function n(i,l){return Rd(r(i,l),l)}var a=(function(){var i=function(f,u,h,p,g){f.push(u),f.push(h+","+p),f.push('"'+g.replace(/"/g,'""')+'"')},l=function(f,u,h,p){f.push(u+","+h),f.push(u==1?'"'+p.replace(/"/g,'""')+'"':p)};return function(f){var u=[],h=Zr(f["!ref"]),p,g=Array.isArray(f);i(u,"TABLE",0,1,"sheetjs"),i(u,"VECTORS",0,h.e.r-h.s.r+1,""),i(u,"TUPLES",0,h.e.c-h.s.c+1,""),i(u,"DATA",0,0,"");for(var x=h.s.r;x<=h.e.r;++x){l(u,-1,0,"BOT");for(var b=h.s.c;b<=h.e.c;++b){var y=ur({r:x,c:b});if(p=g?(f[x]||[])[b]:f[y],!p){l(u,1,0,"");continue}switch(p.t){case"n":var w=p.w;!w&&p.v!=null&&(w=p.v),w==null?p.f&&!p.F?l(u,1,0,"="+p.f):l(u,1,0,""):l(u,0,w,"V");break;case"b":l(u,0,p.v?1:0,p.v?"TRUE":"FALSE");break;case"s":l(u,1,0,isNaN(p.v)?p.v:'="'+p.v+'"');break;case"d":p.w||(p.w=Bo(p.z||cr[14],_i(Zn(p.v)))),l(u,0,p.w,"V");break;default:l(u,1,0,"")}}}l(u,-1,0,"EOD");var _=`\r
`,E=u.join(_);return E}})();return{to_workbook:n,to_sheet:r,from_sheet:a}})(),gF=(function(){function e(p){return p.replace(/\\b/g,"\\").replace(/\\c/g,":").replace(/\\n/g,`
`)}function t(p){return p.replace(/\\/g,"\\b").replace(/:/g,"\\c").replace(/\n/g,"\\n")}function r(p,g){for(var x=p.split(`
`),b=-1,y=-1,w=0,_=[];w!==x.length;++w){var E=x[w].trim().split(":");if(E[0]==="cell"){var A=Sa(E[1]);if(_.length<=A.r)for(b=_.length;b<=A.r;++b)_[b]||(_[b]=[]);switch(b=A.r,y=A.c,E[2]){case"t":_[b][y]=e(E[3]);break;case"v":_[b][y]=+E[3];break;case"vtf":var O=E[E.length-1];case"vtc":switch(E[3]){case"nl":_[b][y]=!!+E[4];break;default:_[b][y]=+E[4];break}E[2]=="vtf"&&(_[b][y]=[_[b][y],O])}}}return g&&g.sheetRows&&(_=_.slice(0,g.sheetRows)),_}function n(p,g){return np(r(p,g),g)}function a(p,g){return Rd(n(p,g),g)}var i=["socialcalc:version:1.5","MIME-Version: 1.0","Content-Type: multipart/mixed; boundary=SocialCalcSpreadsheetControlSave"].join(`
`),l=["--SocialCalcSpreadsheetControlSave","Content-type: text/plain; charset=UTF-8"].join(`
`)+`
`,o=["# SocialCalc Spreadsheet Control Save","part:sheet"].join(`
`),f="--SocialCalcSpreadsheetControlSave--";function u(p){if(!p||!p["!ref"])return"";for(var g=[],x=[],b,y="",w=kl(p["!ref"]),_=Array.isArray(p),E=w.s.r;E<=w.e.r;++E)for(var A=w.s.c;A<=w.e.c;++A)if(y=ur({r:E,c:A}),b=_?(p[E]||[])[A]:p[y],!(!b||b.v==null||b.t==="z")){switch(x=["cell",y,"t"],b.t){case"s":case"str":x.push(t(b.v));break;case"n":b.f?(x[2]="vtf",x[3]="n",x[4]=b.v,x[5]=t(b.f)):(x[2]="v",x[3]=b.v);break;case"b":x[2]="vt"+(b.f?"f":"c"),x[3]="nl",x[4]=b.v?"1":"0",x[5]=t(b.f||(b.v?"TRUE":"FALSE"));break;case"d":var O=_i(Zn(b.v));x[2]="vtc",x[3]="nd",x[4]=""+O,x[5]=b.w||Bo(b.z||cr[14],O);break;case"e":continue}g.push(x.join(":"))}return g.push("sheet:c:"+(w.e.c-w.s.c+1)+":r:"+(w.e.r-w.s.r+1)+":tvf:1"),g.push("valueformat:1:text-wiki"),g.join(`
`)}function h(p){return[i,l,o,l,u(p),f].join(`
`)}return{to_workbook:a,to_sheet:n,from_sheet:h}})(),Im=(function(){function e(h,p,g,x,b){b.raw?p[g][x]=h:h===""||(h==="TRUE"?p[g][x]=!0:h==="FALSE"?p[g][x]=!1:isNaN(Nc(h))?isNaN(Rm(h).getDate())?p[g][x]=h:p[g][x]=Zn(h):p[g][x]=Nc(h))}function t(h,p){var g=p||{},x=[];if(!h||h.length===0)return x;for(var b=h.split(/[\r\n]/),y=b.length-1;y>=0&&b[y].length===0;)--y;for(var w=10,_=0,E=0;E<=y;++E)_=b[E].indexOf(" "),_==-1?_=b[E].length:_++,w=Math.max(w,_);for(E=0;E<=y;++E){x[E]=[];var A=0;for(e(b[E].slice(0,w).trim(),x,E,A,g),A=1;A<=(b[E].length-w)/10+1;++A)e(b[E].slice(w+(A-1)*10,w+A*10).trim(),x,E,A,g)}return g.sheetRows&&(x=x.slice(0,g.sheetRows)),x}var r={44:",",9:"	",59:";",124:"|"},n={44:3,9:2,59:1,124:0};function a(h){for(var p={},g=!1,x=0,b=0;x<h.length;++x)(b=h.charCodeAt(x))==34?g=!g:!g&&b in r&&(p[b]=(p[b]||0)+1);b=[];for(x in p)Object.prototype.hasOwnProperty.call(p,x)&&b.push([p[x],x]);if(!b.length){p=n;for(x in p)Object.prototype.hasOwnProperty.call(p,x)&&b.push([p[x],x])}return b.sort(function(y,w){return y[0]-w[0]||n[y[1]]-n[w[1]]}),r[b.pop()[1]]||44}function i(h,p){var g=p||{},x="",b=g.dense?[]:{},y={s:{c:0,r:0},e:{c:0,r:0}};h.slice(0,4)=="sep="?h.charCodeAt(5)==13&&h.charCodeAt(6)==10?(x=h.charAt(4),h=h.slice(7)):h.charCodeAt(5)==13||h.charCodeAt(5)==10?(x=h.charAt(4),h=h.slice(6)):x=a(h.slice(0,1024)):g&&g.FS?x=g.FS:x=a(h.slice(0,1024));var w=0,_=0,E=0,A=0,O=0,D=x.charCodeAt(0),R=!1,P=0,T=h.charCodeAt(0);h=h.replace(/\r\n/mg,`
`);var B=g.dateNF!=null?AW(g.dateNF):null;function G(){var I=h.slice(A,O),z={};if(I.charAt(0)=='"'&&I.charAt(I.length-1)=='"'&&(I=I.slice(1,-1).replace(/""/g,'"')),I.length===0)z.t="z";else if(g.raw)z.t="s",z.v=I;else if(I.trim().length===0)z.t="s",z.v=I;else if(I.charCodeAt(0)==61)I.charCodeAt(1)==34&&I.charCodeAt(I.length-1)==34?(z.t="s",z.v=I.slice(2,-1).replace(/""/g,'"')):tZ(I)?(z.t="n",z.f=I.slice(1)):(z.t="s",z.v=I);else if(I=="TRUE")z.t="b",z.v=!0;else if(I=="FALSE")z.t="b",z.v=!1;else if(!isNaN(E=Nc(I)))z.t="n",g.cellText!==!1&&(z.w=I),z.v=E;else if(!isNaN(Rm(I).getDate())||B&&I.match(B)){z.z=g.dateNF||cr[14];var K=0;B&&I.match(B)&&(I=EW(I,g.dateNF,I.match(B)||[]),K=1),g.cellDates?(z.t="d",z.v=Zn(I,K)):(z.t="n",z.v=_i(Zn(I,K))),g.cellText!==!1&&(z.w=Bo(z.z,z.v instanceof Date?_i(z.v):z.v)),g.cellNF||delete z.z}else z.t="s",z.v=I;if(z.t=="z"||(g.dense?(b[w]||(b[w]=[]),b[w][_]=z):b[ur({c:_,r:w})]=z),A=O+1,T=h.charCodeAt(A),y.e.c<_&&(y.e.c=_),y.e.r<w&&(y.e.r=w),P==D)++_;else if(_=0,++w,g.sheetRows&&g.sheetRows<=w)return!0}e:for(;O<h.length;++O)switch(P=h.charCodeAt(O)){case 34:T===34&&(R=!R);break;case D:case 10:case 13:if(!R&&G())break e;break}return O-A>0&&G(),b["!ref"]=_r(y),b}function l(h,p){return!(p&&p.PRN)||p.FS||h.slice(0,4)=="sep="||h.indexOf("	")>=0||h.indexOf(",")>=0||h.indexOf(";")>=0?i(h,p):np(t(h,p),p)}function o(h,p){var g="",x=p.type=="string"?[0,0,0,0]:j3(h,p);switch(p.type){case"base64":g=to(h);break;case"binary":g=h;break;case"buffer":p.codepage==65001?g=h.toString("utf8"):p.codepage&&typeof Ix<"u"||(g=Cr&&Buffer.isBuffer(h)?h.toString("binary"):Md(h));break;case"array":g=V0(h);break;case"string":g=h;break;default:throw new Error("Unrecognized type "+p.type)}return x[0]==239&&x[1]==187&&x[2]==191?g=Dn(g.slice(3)):p.type!="string"&&p.type!="buffer"&&p.codepage==65001?g=Dn(g):p.type=="binary"&&typeof Ix<"u",g.slice(0,19)=="socialcalc:version:"?gF.to_sheet(p.type=="string"?g:Dn(g),p):l(g,p)}function f(h,p){return Rd(o(h,p),p)}function u(h){for(var p=[],g=Zr(h["!ref"]),x,b=Array.isArray(h),y=g.s.r;y<=g.e.r;++y){for(var w=[],_=g.s.c;_<=g.e.c;++_){var E=ur({r:y,c:_});if(x=b?(h[y]||[])[_]:h[E],!x||x.v==null){w.push("          ");continue}for(var A=(x.w||(ff(x),x.w)||"").slice(0,10);A.length<10;)A+=" ";w.push(A+(_===0?" ":""))}p.push(w.join(""))}return p.join(`
`)}return{to_workbook:f,to_sheet:o,from_sheet:u}})();function zY(e,t){var r=t||{},n=!!r.WTF;r.WTF=!0;try{var a=pF.to_workbook(e,r);return r.WTF=n,a}catch(i){if(r.WTF=n,!i.message.match(/SYLK bad record ID/)&&n)throw i;return Im.to_workbook(e,t)}}var P0=(function(){function e(F,M,q){if(F){rs(F,F.l||0);for(var W=q.Enum||je;F.l<F.length;){var Z=F.read_shift(2),oe=W[Z]||W[65535],ce=F.read_shift(2),ae=F.l+ce,Se=oe.f&&oe.f(F,ce,q);if(F.l=ae,M(Se,oe,Z))return}}}function t(F,M){switch(M.type){case"base64":return r(Xl(to(F)),M);case"binary":return r(Xl(F),M);case"buffer":case"array":return r(F,M)}throw"Unsupported type "+M.type}function r(F,M){if(!F)return F;var q=M||{},W=q.dense?[]:{},Z="Sheet1",oe="",ce=0,ae={},Se=[],De=[],X={s:{r:0,c:0},e:{r:0,c:0}},Ke=q.sheetRows||0;if(F[2]==0&&(F[3]==8||F[3]==9)&&F.length>=16&&F[14]==5&&F[15]===108)throw new Error("Unsupported Works 3 for Mac file");if(F[2]==2)q.Enum=je,e(F,function(Xe,wt,lt){switch(lt){case 0:q.vers=Xe,Xe>=4096&&(q.qpro=!0);break;case 6:X=Xe;break;case 204:Xe&&(oe=Xe);break;case 222:oe=Xe;break;case 15:case 51:q.qpro||(Xe[1].v=Xe[1].v.slice(1));case 13:case 14:case 16:lt==14&&(Xe[2]&112)==112&&(Xe[2]&15)>1&&(Xe[2]&15)<15&&(Xe[1].z=q.dateNF||cr[14],q.cellDates&&(Xe[1].t="d",Xe[1].v=l2(Xe[1].v))),q.qpro&&Xe[3]>ce&&(W["!ref"]=_r(X),ae[Z]=W,Se.push(Z),W=q.dense?[]:{},X={s:{r:0,c:0},e:{r:0,c:0}},ce=Xe[3],Z=oe||"Sheet"+(ce+1),oe="");var At=q.dense?(W[Xe[0].r]||[])[Xe[0].c]:W[ur(Xe[0])];if(At){At.t=Xe[1].t,At.v=Xe[1].v,Xe[1].z!=null&&(At.z=Xe[1].z),Xe[1].f!=null&&(At.f=Xe[1].f);break}q.dense?(W[Xe[0].r]||(W[Xe[0].r]=[]),W[Xe[0].r][Xe[0].c]=Xe[1]):W[ur(Xe[0])]=Xe[1];break}},q);else if(F[2]==26||F[2]==14)q.Enum=te,F[2]==14&&(q.qpro=!0,F.l=0),e(F,function(Xe,wt,lt){switch(lt){case 204:Z=Xe;break;case 22:Xe[1].v=Xe[1].v.slice(1);case 23:case 24:case 25:case 37:case 39:case 40:if(Xe[3]>ce&&(W["!ref"]=_r(X),ae[Z]=W,Se.push(Z),W=q.dense?[]:{},X={s:{r:0,c:0},e:{r:0,c:0}},ce=Xe[3],Z="Sheet"+(ce+1)),Ke>0&&Xe[0].r>=Ke)break;q.dense?(W[Xe[0].r]||(W[Xe[0].r]=[]),W[Xe[0].r][Xe[0].c]=Xe[1]):W[ur(Xe[0])]=Xe[1],X.e.c<Xe[0].c&&(X.e.c=Xe[0].c),X.e.r<Xe[0].r&&(X.e.r=Xe[0].r);break;case 27:Xe[14e3]&&(De[Xe[14e3][0]]=Xe[14e3][1]);break;case 1537:De[Xe[0]]=Xe[1],Xe[0]==ce&&(Z=Xe[1]);break}},q);else throw new Error("Unrecognized LOTUS BOF "+F[2]);if(W["!ref"]=_r(X),ae[oe||Z]=W,Se.push(oe||Z),!De.length)return{SheetNames:Se,Sheets:ae};for(var Ce={},xe=[],dt=0;dt<De.length;++dt)ae[Se[dt]]?(xe.push(De[dt]||Se[dt]),Ce[De[dt]]=ae[De[dt]]||ae[Se[dt]]):(xe.push(De[dt]),Ce[De[dt]]={"!ref":"A1"});return{SheetNames:xe,Sheets:Ce}}function n(F,M){var q=M||{};if(+q.codepage>=0&&bc(+q.codepage),q.type=="string")throw new Error("Cannot write WK1 to JS string");var W=Al(),Z=Zr(F["!ref"]),oe=Array.isArray(F),ce=[];yt(W,0,i(1030)),yt(W,6,f(Z));for(var ae=Math.min(Z.e.r,8191),Se=Z.s.r;Se<=ae;++Se)for(var De=Ka(Se),X=Z.s.c;X<=Z.e.c;++X){Se===Z.s.r&&(ce[X]=Na(X));var Ke=ce[X]+De,Ce=oe?(F[Se]||[])[X]:F[Ke];if(!(!Ce||Ce.t=="z"))if(Ce.t=="n")(Ce.v|0)==Ce.v&&Ce.v>=-32768&&Ce.v<=32767?yt(W,13,x(Se,X,Ce.v)):yt(W,14,y(Se,X,Ce.v));else{var xe=ff(Ce);yt(W,15,p(Se,X,xe.slice(0,239)))}}return yt(W,1),W.end()}function a(F,M){var q=M||{};if(+q.codepage>=0&&bc(+q.codepage),q.type=="string")throw new Error("Cannot write WK3 to JS string");var W=Al();yt(W,0,l(F));for(var Z=0,oe=0;Z<F.SheetNames.length;++Z)(F.Sheets[F.SheetNames[Z]]||{})["!ref"]&&yt(W,27,ue(F.SheetNames[Z],oe++));var ce=0;for(Z=0;Z<F.SheetNames.length;++Z){var ae=F.Sheets[F.SheetNames[Z]];if(!(!ae||!ae["!ref"])){for(var Se=Zr(ae["!ref"]),De=Array.isArray(ae),X=[],Ke=Math.min(Se.e.r,8191),Ce=Se.s.r;Ce<=Ke;++Ce)for(var xe=Ka(Ce),dt=Se.s.c;dt<=Se.e.c;++dt){Ce===Se.s.r&&(X[dt]=Na(dt));var Xe=X[dt]+xe,wt=De?(ae[Ce]||[])[dt]:ae[Xe];if(!(!wt||wt.t=="z"))if(wt.t=="n")yt(W,23,G(Ce,dt,ce,wt.v));else{var lt=ff(wt);yt(W,22,P(Ce,dt,ce,lt.slice(0,239)))}}++ce}}return yt(W,1),W.end()}function i(F){var M=Ze(2);return M.write_shift(2,F),M}function l(F){var M=Ze(26);M.write_shift(2,4096),M.write_shift(2,4),M.write_shift(4,0);for(var q=0,W=0,Z=0,oe=0;oe<F.SheetNames.length;++oe){var ce=F.SheetNames[oe],ae=F.Sheets[ce];if(!(!ae||!ae["!ref"])){++Z;var Se=kl(ae["!ref"]);q<Se.e.r&&(q=Se.e.r),W<Se.e.c&&(W=Se.e.c)}}return q>8191&&(q=8191),M.write_shift(2,q),M.write_shift(1,Z),M.write_shift(1,W),M.write_shift(2,0),M.write_shift(2,0),M.write_shift(1,1),M.write_shift(1,2),M.write_shift(4,0),M.write_shift(4,0),M}function o(F,M,q){var W={s:{c:0,r:0},e:{c:0,r:0}};return M==8&&q.qpro?(W.s.c=F.read_shift(1),F.l++,W.s.r=F.read_shift(2),W.e.c=F.read_shift(1),F.l++,W.e.r=F.read_shift(2),W):(W.s.c=F.read_shift(2),W.s.r=F.read_shift(2),M==12&&q.qpro&&(F.l+=2),W.e.c=F.read_shift(2),W.e.r=F.read_shift(2),M==12&&q.qpro&&(F.l+=2),W.s.c==65535&&(W.s.c=W.e.c=W.s.r=W.e.r=0),W)}function f(F){var M=Ze(8);return M.write_shift(2,F.s.c),M.write_shift(2,F.s.r),M.write_shift(2,F.e.c),M.write_shift(2,F.e.r),M}function u(F,M,q){var W=[{c:0,r:0},{t:"n",v:0},0,0];return q.qpro&&q.vers!=20768?(W[0].c=F.read_shift(1),W[3]=F.read_shift(1),W[0].r=F.read_shift(2),F.l+=2):(W[2]=F.read_shift(1),W[0].c=F.read_shift(2),W[0].r=F.read_shift(2)),W}function h(F,M,q){var W=F.l+M,Z=u(F,M,q);if(Z[1].t="s",q.vers==20768){F.l++;var oe=F.read_shift(1);return Z[1].v=F.read_shift(oe,"utf8"),Z}return q.qpro&&F.l++,Z[1].v=F.read_shift(W-F.l,"cstr"),Z}function p(F,M,q){var W=Ze(7+q.length);W.write_shift(1,255),W.write_shift(2,M),W.write_shift(2,F),W.write_shift(1,39);for(var Z=0;Z<W.length;++Z){var oe=q.charCodeAt(Z);W.write_shift(1,oe>=128?95:oe)}return W.write_shift(1,0),W}function g(F,M,q){var W=u(F,M,q);return W[1].v=F.read_shift(2,"i"),W}function x(F,M,q){var W=Ze(7);return W.write_shift(1,255),W.write_shift(2,M),W.write_shift(2,F),W.write_shift(2,q,"i"),W}function b(F,M,q){var W=u(F,M,q);return W[1].v=F.read_shift(8,"f"),W}function y(F,M,q){var W=Ze(13);return W.write_shift(1,255),W.write_shift(2,M),W.write_shift(2,F),W.write_shift(8,q,"f"),W}function w(F,M,q){var W=F.l+M,Z=u(F,M,q);if(Z[1].v=F.read_shift(8,"f"),q.qpro)F.l=W;else{var oe=F.read_shift(2);O(F.slice(F.l,F.l+oe),Z),F.l+=oe}return Z}function _(F,M,q){var W=M&32768;return M&=-32769,M=(W?F:0)+(M>=8192?M-16384:M),(W?"":"$")+(q?Na(M):Ka(M))}var E={51:["FALSE",0],52:["TRUE",0],70:["LEN",1],80:["SUM",69],81:["AVERAGEA",69],82:["COUNTA",69],83:["MINA",69],84:["MAXA",69],111:["T",1]},A=["","","","","","","","","","+","-","*","/","^","=","<>","<=",">=","<",">","","","","","&","","","","","","",""];function O(F,M){rs(F,0);for(var q=[],W=0,Z="",oe="",ce="",ae="";F.l<F.length;){var Se=F[F.l++];switch(Se){case 0:q.push(F.read_shift(8,"f"));break;case 1:oe=_(M[0].c,F.read_shift(2),!0),Z=_(M[0].r,F.read_shift(2),!1),q.push(oe+Z);break;case 2:{var De=_(M[0].c,F.read_shift(2),!0),X=_(M[0].r,F.read_shift(2),!1);oe=_(M[0].c,F.read_shift(2),!0),Z=_(M[0].r,F.read_shift(2),!1),q.push(De+X+":"+oe+Z)}break;case 3:if(F.l<F.length){console.error("WK1 premature formula end");return}break;case 4:q.push("("+q.pop()+")");break;case 5:q.push(F.read_shift(2));break;case 6:{for(var Ke="";Se=F[F.l++];)Ke+=String.fromCharCode(Se);q.push('"'+Ke.replace(/"/g,'""')+'"')}break;case 8:q.push("-"+q.pop());break;case 23:q.push("+"+q.pop());break;case 22:q.push("NOT("+q.pop()+")");break;case 20:case 21:ae=q.pop(),ce=q.pop(),q.push(["AND","OR"][Se-20]+"("+ce+","+ae+")");break;default:if(Se<32&&A[Se])ae=q.pop(),ce=q.pop(),q.push(ce+A[Se]+ae);else if(E[Se]){if(W=E[Se][1],W==69&&(W=F[F.l++]),W>q.length){console.error("WK1 bad formula parse 0x"+Se.toString(16)+":|"+q.join("|")+"|");return}var Ce=q.slice(-W);q.length-=W,q.push(E[Se][0]+"("+Ce.join(",")+")")}else return Se<=7?console.error("WK1 invalid opcode "+Se.toString(16)):Se<=24?console.error("WK1 unsupported op "+Se.toString(16)):Se<=30?console.error("WK1 invalid opcode "+Se.toString(16)):Se<=115?console.error("WK1 unsupported function opcode "+Se.toString(16)):console.error("WK1 unrecognized opcode "+Se.toString(16))}}q.length==1?M[1].f=""+q[0]:console.error("WK1 bad formula parse |"+q.join("|")+"|")}function D(F){var M=[{c:0,r:0},{t:"n",v:0},0];return M[0].r=F.read_shift(2),M[3]=F[F.l++],M[0].c=F[F.l++],M}function R(F,M){var q=D(F);return q[1].t="s",q[1].v=F.read_shift(M-4,"cstr"),q}function P(F,M,q,W){var Z=Ze(6+W.length);Z.write_shift(2,F),Z.write_shift(1,q),Z.write_shift(1,M),Z.write_shift(1,39);for(var oe=0;oe<W.length;++oe){var ce=W.charCodeAt(oe);Z.write_shift(1,ce>=128?95:ce)}return Z.write_shift(1,0),Z}function T(F,M){var q=D(F);q[1].v=F.read_shift(2);var W=q[1].v>>1;if(q[1].v&1)switch(W&7){case 0:W=(W>>3)*5e3;break;case 1:W=(W>>3)*500;break;case 2:W=(W>>3)/20;break;case 3:W=(W>>3)/200;break;case 4:W=(W>>3)/2e3;break;case 5:W=(W>>3)/2e4;break;case 6:W=(W>>3)/16;break;case 7:W=(W>>3)/64;break}return q[1].v=W,q}function B(F,M){var q=D(F),W=F.read_shift(4),Z=F.read_shift(4),oe=F.read_shift(2);if(oe==65535)return W===0&&Z===3221225472?(q[1].t="e",q[1].v=15):W===0&&Z===3489660928?(q[1].t="e",q[1].v=42):q[1].v=0,q;var ce=oe&32768;return oe=(oe&32767)-16446,q[1].v=(1-ce*2)*(Z*Math.pow(2,oe+32)+W*Math.pow(2,oe)),q}function G(F,M,q,W){var Z=Ze(14);if(Z.write_shift(2,F),Z.write_shift(1,q),Z.write_shift(1,M),W==0)return Z.write_shift(4,0),Z.write_shift(4,0),Z.write_shift(2,65535),Z;var oe=0,ce=0,ae=0,Se=0;return W<0&&(oe=1,W=-W),ce=Math.log2(W)|0,W/=Math.pow(2,ce-31),Se=W>>>0,(Se&2147483648)==0&&(W/=2,++ce,Se=W>>>0),W-=Se,Se|=2147483648,Se>>>=0,W*=Math.pow(2,32),ae=W>>>0,Z.write_shift(4,ae),Z.write_shift(4,Se),ce+=16383+(oe?32768:0),Z.write_shift(2,ce),Z}function I(F,M){var q=B(F);return F.l+=M-14,q}function z(F,M){var q=D(F),W=F.read_shift(4);return q[1].v=W>>6,q}function K(F,M){var q=D(F),W=F.read_shift(8,"f");return q[1].v=W,q}function J(F,M){var q=K(F);return F.l+=M-10,q}function pe(F,M){return F[F.l+M-1]==0?F.read_shift(M,"cstr"):""}function ne(F,M){var q=F[F.l++];q>M-1&&(q=M-1);for(var W="";W.length<q;)W+=String.fromCharCode(F[F.l++]);return W}function le(F,M,q){if(!(!q.qpro||M<21)){var W=F.read_shift(1);F.l+=17,F.l+=1,F.l+=2;var Z=F.read_shift(M-21,"cstr");return[W,Z]}}function ve(F,M){for(var q={},W=F.l+M;F.l<W;){var Z=F.read_shift(2);if(Z==14e3){for(q[Z]=[0,""],q[Z][0]=F.read_shift(2);F[F.l];)q[Z][1]+=String.fromCharCode(F[F.l]),F.l++;F.l++}}return q}function ue(F,M){var q=Ze(5+F.length);q.write_shift(2,14e3),q.write_shift(2,M);for(var W=0;W<F.length;++W){var Z=F.charCodeAt(W);q[q.l++]=Z>127?95:Z}return q[q.l++]=0,q}var je={0:{n:"BOF",f:ni},1:{n:"EOF"},2:{n:"CALCMODE"},3:{n:"CALCORDER"},4:{n:"SPLIT"},5:{n:"SYNC"},6:{n:"RANGE",f:o},7:{n:"WINDOW1"},8:{n:"COLW1"},9:{n:"WINTWO"},10:{n:"COLW2"},11:{n:"NAME"},12:{n:"BLANK"},13:{n:"INTEGER",f:g},14:{n:"NUMBER",f:b},15:{n:"LABEL",f:h},16:{n:"FORMULA",f:w},24:{n:"TABLE"},25:{n:"ORANGE"},26:{n:"PRANGE"},27:{n:"SRANGE"},28:{n:"FRANGE"},29:{n:"KRANGE1"},32:{n:"HRANGE"},35:{n:"KRANGE2"},36:{n:"PROTEC"},37:{n:"FOOTER"},38:{n:"HEADER"},39:{n:"SETUP"},40:{n:"MARGINS"},41:{n:"LABELFMT"},42:{n:"TITLES"},43:{n:"SHEETJS"},45:{n:"GRAPH"},46:{n:"NGRAPH"},47:{n:"CALCCOUNT"},48:{n:"UNFORMATTED"},49:{n:"CURSORW12"},50:{n:"WINDOW"},51:{n:"STRING",f:h},55:{n:"PASSWORD"},56:{n:"LOCKED"},60:{n:"QUERY"},61:{n:"QUERYNAME"},62:{n:"PRINT"},63:{n:"PRINTNAME"},64:{n:"GRAPH2"},65:{n:"GRAPHNAME"},66:{n:"ZOOM"},67:{n:"SYMSPLIT"},68:{n:"NSROWS"},69:{n:"NSCOLS"},70:{n:"RULER"},71:{n:"NNAME"},72:{n:"ACOMM"},73:{n:"AMACRO"},74:{n:"PARSE"},102:{n:"PRANGES??"},103:{n:"RRANGES??"},104:{n:"FNAME??"},105:{n:"MRANGES??"},204:{n:"SHEETNAMECS",f:pe},222:{n:"SHEETNAMELP",f:ne},65535:{n:""}},te={0:{n:"BOF"},1:{n:"EOF"},2:{n:"PASSWORD"},3:{n:"CALCSET"},4:{n:"WINDOWSET"},5:{n:"SHEETCELLPTR"},6:{n:"SHEETLAYOUT"},7:{n:"COLUMNWIDTH"},8:{n:"HIDDENCOLUMN"},9:{n:"USERRANGE"},10:{n:"SYSTEMRANGE"},11:{n:"ZEROFORCE"},12:{n:"SORTKEYDIR"},13:{n:"FILESEAL"},14:{n:"DATAFILLNUMS"},15:{n:"PRINTMAIN"},16:{n:"PRINTSTRING"},17:{n:"GRAPHMAIN"},18:{n:"GRAPHSTRING"},19:{n:"??"},20:{n:"ERRCELL"},21:{n:"NACELL"},22:{n:"LABEL16",f:R},23:{n:"NUMBER17",f:B},24:{n:"NUMBER18",f:T},25:{n:"FORMULA19",f:I},26:{n:"FORMULA1A"},27:{n:"XFORMAT",f:ve},28:{n:"DTLABELMISC"},29:{n:"DTLABELCELL"},30:{n:"GRAPHWINDOW"},31:{n:"CPA"},32:{n:"LPLAUTO"},33:{n:"QUERY"},34:{n:"HIDDENSHEET"},35:{n:"??"},37:{n:"NUMBER25",f:z},38:{n:"??"},39:{n:"NUMBER27",f:K},40:{n:"FORMULA28",f:J},142:{n:"??"},147:{n:"??"},150:{n:"??"},151:{n:"??"},152:{n:"??"},153:{n:"??"},154:{n:"??"},155:{n:"??"},156:{n:"??"},163:{n:"??"},174:{n:"??"},175:{n:"??"},176:{n:"??"},177:{n:"??"},184:{n:"??"},185:{n:"??"},186:{n:"??"},187:{n:"??"},188:{n:"??"},195:{n:"??"},201:{n:"??"},204:{n:"SHEETNAMECS",f:pe},205:{n:"??"},206:{n:"??"},207:{n:"??"},208:{n:"??"},256:{n:"??"},259:{n:"??"},260:{n:"??"},261:{n:"??"},262:{n:"??"},263:{n:"??"},265:{n:"??"},266:{n:"??"},267:{n:"??"},268:{n:"??"},270:{n:"??"},271:{n:"??"},384:{n:"??"},389:{n:"??"},390:{n:"??"},393:{n:"??"},396:{n:"??"},512:{n:"??"},514:{n:"??"},513:{n:"??"},516:{n:"??"},517:{n:"??"},640:{n:"??"},641:{n:"??"},642:{n:"??"},643:{n:"??"},644:{n:"??"},645:{n:"??"},646:{n:"??"},647:{n:"??"},648:{n:"??"},658:{n:"??"},659:{n:"??"},660:{n:"??"},661:{n:"??"},662:{n:"??"},665:{n:"??"},666:{n:"??"},768:{n:"??"},772:{n:"??"},1537:{n:"SHEETINFOQP",f:le},1600:{n:"??"},1602:{n:"??"},1793:{n:"??"},1794:{n:"??"},1795:{n:"??"},1796:{n:"??"},1920:{n:"??"},2048:{n:"??"},2049:{n:"??"},2052:{n:"??"},2688:{n:"??"},10998:{n:"??"},12849:{n:"??"},28233:{n:"??"},28484:{n:"??"},65535:{n:""}};return{sheet_to_wk1:n,book_to_wk3:a,to_workbook:t}})();function qY(e){var t={},r=e.match(Ts),n=0,a=!1;if(r)for(;n!=r.length;++n){var i=dr(r[n]);switch(i[0].replace(/\w*:/g,"")){case"<condense":break;case"<extend":break;case"<shadow":if(!i.val)break;case"<shadow>":case"<shadow/>":t.shadow=1;break;case"</shadow>":break;case"<charset":if(i.val=="1")break;t.cp=qN[parseInt(i.val,10)];break;case"<outline":if(!i.val)break;case"<outline>":case"<outline/>":t.outline=1;break;case"</outline>":break;case"<rFont":t.name=i.val;break;case"<sz":t.sz=i.val;break;case"<strike":if(!i.val)break;case"<strike>":case"<strike/>":t.strike=1;break;case"</strike>":break;case"<u":if(!i.val)break;switch(i.val){case"double":t.uval="double";break;case"singleAccounting":t.uval="single-accounting";break;case"doubleAccounting":t.uval="double-accounting";break}case"<u>":case"<u/>":t.u=1;break;case"</u>":break;case"<b":if(i.val=="0")break;case"<b>":case"<b/>":t.b=1;break;case"</b>":break;case"<i":if(i.val=="0")break;case"<i>":case"<i/>":t.i=1;break;case"</i>":break;case"<color":i.rgb&&(t.color=i.rgb.slice(2,8));break;case"<color>":case"<color/>":case"</color>":break;case"<family":t.family=i.val;break;case"<family>":case"<family/>":case"</family>":break;case"<vertAlign":t.valign=i.val;break;case"<vertAlign>":case"<vertAlign/>":case"</vertAlign>":break;case"<scheme":break;case"<scheme>":case"<scheme/>":case"</scheme>":break;case"<extLst":case"<extLst>":case"</extLst>":break;case"<ext":a=!0;break;case"</ext>":a=!1;break;default:if(i[0].charCodeAt(1)!==47&&!a)throw new Error("Unrecognized rich format "+i[0])}}return t}var $Y=(function(){var e=zx("t"),t=zx("rPr");function r(i){var l=i.match(e);if(!l)return{t:"s",v:""};var o={t:"s",v:Xr(l[1])},f=i.match(t);return f&&(o.s=qY(f[1])),o}var n=/<(?:\w+:)?r>/g,a=/<\/(?:\w+:)?r>/;return function(l){return l.replace(n,"").split(a).map(r).filter(function(o){return o.v})}})(),HY=(function(){var t=/(\r\n|\n)/g;function r(a,i,l){var o=[];a.u&&o.push("text-decoration: underline;"),a.uval&&o.push("text-underline-style:"+a.uval+";"),a.sz&&o.push("font-size:"+a.sz+"pt;"),a.outline&&o.push("text-effect: outline;"),a.shadow&&o.push("text-shadow: auto;"),i.push('<span style="'+o.join("")+'">'),a.b&&(i.push("<b>"),l.push("</b>")),a.i&&(i.push("<i>"),l.push("</i>")),a.strike&&(i.push("<s>"),l.push("</s>"));var f=a.valign||"";return f=="superscript"||f=="super"?f="sup":f=="subscript"&&(f="sub"),f!=""&&(i.push("<"+f+">"),l.push("</"+f+">")),l.push("</span>"),a}function n(a){var i=[[],a.v,[]];return a.v?(a.s&&r(a.s,i[0],i[2]),i[0].join("")+i[1].replace(t,"<br/>")+i[2].join("")):""}return function(i){return i.map(n).join("")}})(),VY=/<(?:\w+:)?t[^>]*>([^<]*)<\/(?:\w+:)?t>/g,WY=/<(?:\w+:)?r>/,GY=/<(?:\w+:)?rPh.*?>([\s\S]*?)<\/(?:\w+:)?rPh>/g;function d3(e,t){var r=t?t.cellHTML:!0,n={};return e?(e.match(/^\s*<(?:\w+:)?t[^>]*>/)?(n.t=Xr(Dn(e.slice(e.indexOf(">")+1).split(/<\/(?:\w+:)?t>/)[0]||"")),n.r=Dn(e),r&&(n.h=ZN(n.t))):e.match(WY)&&(n.r=Dn(e),n.t=Xr(Dn((e.replace(GY,"").match(VY)||[]).join("").replace(Ts,""))),r&&(n.h=HY($Y(n.r)))),n):{t:""}}var KY=/<(?:\w+:)?sst([^>]*)>([\s\S]*)<\/(?:\w+:)?sst>/,YY=/<(?:\w+:)?(?:si|sstItem)>/g,XY=/<\/(?:\w+:)?(?:si|sstItem)>/;function QY(e,t){var r=[],n="";if(!e)return r;var a=e.match(KY);if(a){n=a[2].replace(YY,"").split(XY);for(var i=0;i!=n.length;++i){var l=d3(n[i].trim(),t);l!=null&&(r[r.length]=l)}a=dr(a[1]),r.Count=a.count,r.Unique=a.uniqueCount}return r}var ZY=/^\s|\s$|[\t\n\r]/;function vF(e,t){if(!t.bookSST)return"";var r=[Ya];r[r.length]=gt("sst",null,{xmlns:lh[0],count:e.Count,uniqueCount:e.Unique});for(var n=0;n!=e.length;++n)if(e[n]!=null){var a=e[n],i="<si>";a.r?i+=a.r:(i+="<t",a.t||(a.t=""),a.t.match(ZY)&&(i+=' xml:space="preserve"'),i+=">"+Nn(a.t)+"</t>"),i+="</si>",r[r.length]=i}return r.length>2&&(r[r.length]="</sst>",r[1]=r[1].replace("/>",">")),r.join("")}function JY(e){return[e.read_shift(4),e.read_shift(4)]}function eX(e,t){var r=[],n=!1;return wf(e,function(i,l,o){switch(o){case 159:r.Count=i[0],r.Unique=i[1];break;case 19:r.push(i);break;case 160:return!0;case 35:n=!0;break;case 36:n=!1;break;default:if(l.T,!n||t.WTF)throw new Error("Unexpected record 0x"+o.toString(16))}}),r}function tX(e,t){return t||(t=Ze(8)),t.write_shift(4,e.Count),t.write_shift(4,e.Unique),t}var rX=dG;function nX(e){var t=Al();ct(t,159,tX(e));for(var r=0;r<e.length;++r)ct(t,19,rX(e[r]));return ct(t,160),t.end()}function yF(e){for(var t=[],r=e.split(""),n=0;n<r.length;++n)t[n]=r[n].charCodeAt(0);return t}function af(e,t){var r={};return r.Major=e.read_shift(2),r.Minor=e.read_shift(2),t>=4&&(e.l+=t-4),r}function aX(e){var t={};return t.id=e.read_shift(0,"lpp4"),t.R=af(e,4),t.U=af(e,4),t.W=af(e,4),t}function iX(e){for(var t=e.read_shift(4),r=e.l+t-4,n={},a=e.read_shift(4),i=[];a-- >0;)i.push({t:e.read_shift(4),v:e.read_shift(0,"lpp4")});if(n.name=e.read_shift(0,"lpp4"),n.comps=i,e.l!=r)throw new Error("Bad DataSpaceMapEntry: "+e.l+" != "+r);return n}function sX(e){var t=[];e.l+=4;for(var r=e.read_shift(4);r-- >0;)t.push(iX(e));return t}function lX(e){var t=[];e.l+=4;for(var r=e.read_shift(4);r-- >0;)t.push(e.read_shift(0,"lpp4"));return t}function oX(e){var t={};return e.read_shift(4),e.l+=4,t.id=e.read_shift(0,"lpp4"),t.name=e.read_shift(0,"lpp4"),t.R=af(e,4),t.U=af(e,4),t.W=af(e,4),t}function cX(e){var t=oX(e);if(t.ename=e.read_shift(0,"8lpp4"),t.blksz=e.read_shift(4),t.cmode=e.read_shift(4),e.read_shift(4)!=4)throw new Error("Bad !Primary record");return t}function bF(e,t){var r=e.l+t,n={};n.Flags=e.read_shift(4)&63,e.l+=4,n.AlgID=e.read_shift(4);var a=!1;switch(n.AlgID){case 26126:case 26127:case 26128:a=n.Flags==36;break;case 26625:a=n.Flags==4;break;case 0:a=n.Flags==16||n.Flags==4||n.Flags==36;break;default:throw"Unrecognized encryption algorithm: "+n.AlgID}if(!a)throw new Error("Encryption Flags/AlgID mismatch");return n.AlgIDHash=e.read_shift(4),n.KeySize=e.read_shift(4),n.ProviderType=e.read_shift(4),e.l+=8,n.CSPName=e.read_shift(r-e.l>>1,"utf16le"),e.l=r,n}function wF(e,t){var r={},n=e.l+t;return e.l+=4,r.Salt=e.slice(e.l,e.l+16),e.l+=16,r.Verifier=e.slice(e.l,e.l+16),e.l+=16,e.read_shift(4),r.VerifierHash=e.slice(e.l,n),e.l=n,r}function uX(e){var t=af(e);switch(t.Minor){case 2:return[t.Minor,fX(e)];case 3:return[t.Minor,dX()];case 4:return[t.Minor,hX(e)]}throw new Error("ECMA-376 Encrypted file unrecognized Version: "+t.Minor)}function fX(e){var t=e.read_shift(4);if((t&63)!=36)throw new Error("EncryptionInfo mismatch");var r=e.read_shift(4),n=bF(e,r),a=wF(e,e.length-e.l);return{t:"Std",h:n,v:a}}function dX(){throw new Error("File is password-protected: ECMA-376 Extensible")}function hX(e){var t=["saltSize","blockSize","keyBits","hashSize","cipherAlgorithm","cipherChaining","hashAlgorithm","saltValue"];e.l+=4;var r=e.read_shift(e.length-e.l,"utf8"),n={};return r.replace(Ts,function(i){var l=dr(i);switch(du(l[0])){case"<?xml":break;case"<encryption":case"</encryption>":break;case"<keyData":t.forEach(function(o){n[o]=l[o]});break;case"<dataIntegrity":n.encryptedHmacKey=l.encryptedHmacKey,n.encryptedHmacValue=l.encryptedHmacValue;break;case"<keyEncryptors>":case"<keyEncryptors":n.encs=[];break;case"</keyEncryptors>":break;case"<keyEncryptor":n.uri=l.uri;break;case"</keyEncryptor>":break;case"<encryptedKey":n.encs.push(l);break;default:throw l[0]}}),n}function mX(e,t){var r={},n=r.EncryptionVersionInfo=af(e,4);if(t-=4,n.Minor!=2)throw new Error("unrecognized minor version code: "+n.Minor);if(n.Major>4||n.Major<2)throw new Error("unrecognized major version code: "+n.Major);r.Flags=e.read_shift(4),t-=4;var a=e.read_shift(4);return t-=4,r.EncryptionHeader=bF(e,a),t-=a,r.EncryptionVerifier=wF(e,t),r}function pX(e){var t={},r=t.EncryptionVersionInfo=af(e,4);if(r.Major!=1||r.Minor!=1)throw"unrecognized version code "+r.Major+" : "+r.Minor;return t.Salt=e.read_shift(16),t.EncryptedVerifier=e.read_shift(16),t.EncryptedVerifierHash=e.read_shift(16),t}function h3(e){var t=0,r,n=yF(e),a=n.length+1,i,l,o,f,u;for(r=jd(a),r[0]=n.length,i=1;i!=a;++i)r[i]=n[i-1];for(i=a-1;i>=0;--i)l=r[i],o=(t&16384)===0?0:1,f=t<<1&32767,u=o|f,t=u^l;return t^52811}var _F=(function(){var e=[187,255,255,186,255,255,185,128,0,190,15,0,191,15,0],t=[57840,7439,52380,33984,4364,3600,61902,12606,6258,57657,54287,34041,10252,43370,20163],r=[44796,19929,39858,10053,20106,40212,10761,31585,63170,64933,60267,50935,40399,11199,17763,35526,1453,2906,5812,11624,23248,885,1770,3540,7080,14160,28320,56640,55369,41139,20807,41614,21821,43642,17621,28485,56970,44341,19019,38038,14605,29210,60195,50791,40175,10751,21502,43004,24537,18387,36774,3949,7898,15796,31592,63184,47201,24803,49606,37805,14203,28406,56812,17824,35648,1697,3394,6788,13576,27152,43601,17539,35078,557,1114,2228,4456,30388,60776,51953,34243,7079,14158,28316,14128,28256,56512,43425,17251,34502,7597,13105,26210,52420,35241,883,1766,3532,4129,8258,16516,33032,4657,9314,18628],n=function(l){return(l/2|l*128)&255},a=function(l,o){return n(l^o)},i=function(l){for(var o=t[l.length-1],f=104,u=l.length-1;u>=0;--u)for(var h=l[u],p=0;p!=7;++p)h&64&&(o^=r[f]),h*=2,--f;return o};return function(l){for(var o=yF(l),f=i(o),u=o.length,h=jd(16),p=0;p!=16;++p)h[p]=0;var g,x,b;for((u&1)===1&&(g=f>>8,h[u]=a(e[0],g),--u,g=f&255,x=o[o.length-1],h[u]=a(x,g));u>0;)--u,g=f>>8,h[u]=a(o[u],g),--u,g=f&255,h[u]=a(o[u],g);for(u=15,b=15-o.length;b>0;)g=f>>8,h[u]=a(e[b],g),--u,--b,g=f&255,h[u]=a(o[u],g),--u,--b;return h}})(),xX=function(e,t,r,n,a){a||(a=t),n||(n=_F(e));var i,l;for(i=0;i!=t.length;++i)l=t[i],l^=n[r],l=(l>>5|l<<3)&255,a[i]=l,++r;return[a,r,n]},gX=function(e){var t=0,r=_F(e);return function(n){var a=xX("",n,t,r);return t=a[1],a[0]}};function vX(e,t,r,n){var a={key:ni(e),verificationBytes:ni(e)};return r.password&&(a.verifier=h3(r.password)),n.valid=a.verificationBytes===a.verifier,n.valid&&(n.insitu=gX(r.password)),a}function yX(e,t,r){var n=r||{};return n.Info=e.read_shift(2),e.l-=2,n.Info===1?n.Data=pX(e):n.Data=mX(e,t),n}function bX(e,t,r){var n={Type:r.biff>=8?e.read_shift(2):0};return n.Type?yX(e,t-2,n):vX(e,r.biff>=8?t:t-2,r,n),n}var NF=(function(){function e(a,i){switch(i.type){case"base64":return t(to(a),i);case"binary":return t(a,i);case"buffer":return t(Cr&&Buffer.isBuffer(a)?a.toString("binary"):Md(a),i);case"array":return t(V0(a),i)}throw new Error("Unrecognized type "+i.type)}function t(a,i){var l=i||{},o=l.dense?[]:{},f=a.match(/\\trowd.*?\\row\b/g);if(!f.length)throw new Error("RTF missing table");var u={s:{c:0,r:0},e:{c:0,r:f.length-1}};return f.forEach(function(h,p){Array.isArray(o)&&(o[p]=[]);for(var g=/\\\w+\b/g,x=0,b,y=-1;b=g.exec(h);){switch(b[0]){case"\\cell":var w=h.slice(x,g.lastIndex-b[0].length);if(w[0]==" "&&(w=w.slice(1)),++y,w.length){var _={v:w,t:"s"};Array.isArray(o)?o[p][y]=_:o[ur({r:p,c:y})]=_}break}x=g.lastIndex}y>u.e.c&&(u.e.c=y)}),o["!ref"]=_r(u),o}function r(a,i){return Rd(e(a,i),i)}function n(a){for(var i=["{\\rtf1\\ansi"],l=Zr(a["!ref"]),o,f=Array.isArray(a),u=l.s.r;u<=l.e.r;++u){i.push("\\trowd\\trautofit1");for(var h=l.s.c;h<=l.e.c;++h)i.push("\\cellx"+(h+1));for(i.push("\\pard\\intbl"),h=l.s.c;h<=l.e.c;++h){var p=ur({r:u,c:h});o=f?(a[u]||[])[h]:a[p],!(!o||o.v==null&&(!o.f||o.F))&&(i.push(" "+(o.w||(ff(o),o.w))),i.push("\\cell"))}i.push("\\pard\\intbl\\row")}return i.join("")+"}"}return{to_workbook:r,to_sheet:e,from_sheet:n}})();function wX(e){var t=e.slice(e[0]==="#"?1:0).slice(0,6);return[parseInt(t.slice(0,2),16),parseInt(t.slice(2,4),16),parseInt(t.slice(4,6),16)]}function Vx(e){for(var t=0,r=1;t!=3;++t)r=r*256+(e[t]>255?255:e[t]<0?0:e[t]);return r.toString(16).toUpperCase().slice(1)}function _X(e){var t=e[0]/255,r=e[1]/255,n=e[2]/255,a=Math.max(t,r,n),i=Math.min(t,r,n),l=a-i;if(l===0)return[0,0,t];var o=0,f=0,u=a+i;switch(f=l/(u>1?2-u:u),a){case t:o=((r-n)/l+6)%6;break;case r:o=(n-t)/l+2;break;case n:o=(t-r)/l+4;break}return[o/6,f,u/2]}function NX(e){var t=e[0],r=e[1],n=e[2],a=r*2*(n<.5?n:1-n),i=n-a/2,l=[i,i,i],o=6*t,f;if(r!==0)switch(o|0){case 0:case 6:f=a*o,l[0]+=a,l[1]+=f;break;case 1:f=a*(2-o),l[0]+=f,l[1]+=a;break;case 2:f=a*(o-2),l[1]+=a,l[2]+=f;break;case 3:f=a*(4-o),l[1]+=f,l[2]+=a;break;case 4:f=a*(o-4),l[2]+=a,l[0]+=f;break;case 5:f=a*(6-o),l[2]+=f,l[0]+=a;break}for(var u=0;u!=3;++u)l[u]=Math.round(l[u]*255);return l}function ay(e,t){if(t===0)return e;var r=_X(wX(e));return t<0?r[2]=r[2]*(1+t):r[2]=1-(1-r[2])*(1-t),Vx(NX(r))}var SF=6,SX=15,jX=1,ws=SF;function Wx(e){return Math.floor((e+Math.round(128/ws)/256)*ws)}function Gx(e){return Math.floor((e-5)/ws*100+.5)/100}function iy(e){return Math.round((e*ws+5)/ws*256)/256}function jw(e){return iy(Gx(Wx(e)))}function m3(e){var t=Math.abs(e-jw(e)),r=ws;if(t>.005)for(ws=jX;ws<SX;++ws)Math.abs(e-jw(e))<=t&&(t=Math.abs(e-jw(e)),r=ws);ws=r}function Ad(e){e.width?(e.wpx=Wx(e.width),e.wch=Gx(e.wpx),e.MDW=ws):e.wpx?(e.wch=Gx(e.wpx),e.width=iy(e.wch),e.MDW=ws):typeof e.wch=="number"&&(e.width=iy(e.wch),e.wpx=Wx(e.width),e.MDW=ws),e.customWidth&&delete e.customWidth}var AX=96,jF=AX;function Kx(e){return e*96/jF}function Bm(e){return e*jF/96}var EX={None:"none",Solid:"solid",Gray50:"mediumGray",Gray75:"darkGray",Gray25:"lightGray",HorzStripe:"darkHorizontal",VertStripe:"darkVertical",ReverseDiagStripe:"darkDown",DiagStripe:"darkUp",DiagCross:"darkGrid",ThickDiagCross:"darkTrellis",ThinHorzStripe:"lightHorizontal",ThinVertStripe:"lightVertical",ThinReverseDiagStripe:"lightDown",ThinHorzCross:"lightGrid"};function kX(e,t,r,n){t.Borders=[];var a={},i=!1;(e[0].match(Ts)||[]).forEach(function(l){var o=dr(l);switch(du(o[0])){case"<borders":case"<borders>":case"</borders>":break;case"<border":case"<border>":case"<border/>":a={},o.diagonalUp&&(a.diagonalUp=Xn(o.diagonalUp)),o.diagonalDown&&(a.diagonalDown=Xn(o.diagonalDown)),t.Borders.push(a);break;case"</border>":break;case"<left/>":break;case"<left":case"<left>":break;case"</left>":break;case"<right/>":break;case"<right":case"<right>":break;case"</right>":break;case"<top/>":break;case"<top":case"<top>":break;case"</top>":break;case"<bottom/>":break;case"<bottom":case"<bottom>":break;case"</bottom>":break;case"<diagonal":case"<diagonal>":case"<diagonal/>":break;case"</diagonal>":break;case"<horizontal":case"<horizontal>":case"<horizontal/>":break;case"</horizontal>":break;case"<vertical":case"<vertical>":case"<vertical/>":break;case"</vertical>":break;case"<start":case"<start>":case"<start/>":break;case"</start>":break;case"<end":case"<end>":case"<end/>":break;case"</end>":break;case"<color":case"<color>":break;case"<color/>":case"</color>":break;case"<extLst":case"<extLst>":case"</extLst>":break;case"<ext":i=!0;break;case"</ext>":i=!1;break;default:if(n&&n.WTF&&!i)throw new Error("unrecognized "+o[0]+" in borders")}})}function CX(e,t,r,n){t.Fills=[];var a={},i=!1;(e[0].match(Ts)||[]).forEach(function(l){var o=dr(l);switch(du(o[0])){case"<fills":case"<fills>":case"</fills>":break;case"<fill>":case"<fill":case"<fill/>":a={},t.Fills.push(a);break;case"</fill>":break;case"<gradientFill>":break;case"<gradientFill":case"</gradientFill>":t.Fills.push(a),a={};break;case"<patternFill":case"<patternFill>":o.patternType&&(a.patternType=o.patternType);break;case"<patternFill/>":case"</patternFill>":break;case"<bgColor":a.bgColor||(a.bgColor={}),o.indexed&&(a.bgColor.indexed=parseInt(o.indexed,10)),o.theme&&(a.bgColor.theme=parseInt(o.theme,10)),o.tint&&(a.bgColor.tint=parseFloat(o.tint)),o.rgb&&(a.bgColor.rgb=o.rgb.slice(-6));break;case"<bgColor/>":case"</bgColor>":break;case"<fgColor":a.fgColor||(a.fgColor={}),o.theme&&(a.fgColor.theme=parseInt(o.theme,10)),o.tint&&(a.fgColor.tint=parseFloat(o.tint)),o.rgb!=null&&(a.fgColor.rgb=o.rgb.slice(-6));break;case"<fgColor/>":case"</fgColor>":break;case"<stop":case"<stop/>":break;case"</stop>":break;case"<color":case"<color/>":break;case"</color>":break;case"<extLst":case"<extLst>":case"</extLst>":break;case"<ext":i=!0;break;case"</ext>":i=!1;break;default:if(n&&n.WTF&&!i)throw new Error("unrecognized "+o[0]+" in fills")}})}function TX(e,t,r,n){t.Fonts=[];var a={},i=!1;(e[0].match(Ts)||[]).forEach(function(l){var o=dr(l);switch(du(o[0])){case"<fonts":case"<fonts>":case"</fonts>":break;case"<font":case"<font>":break;case"</font>":case"<font/>":t.Fonts.push(a),a={};break;case"<name":o.val&&(a.name=Dn(o.val));break;case"<name/>":case"</name>":break;case"<b":a.bold=o.val?Xn(o.val):1;break;case"<b/>":a.bold=1;break;case"<i":a.italic=o.val?Xn(o.val):1;break;case"<i/>":a.italic=1;break;case"<u":switch(o.val){case"none":a.underline=0;break;case"single":a.underline=1;break;case"double":a.underline=2;break;case"singleAccounting":a.underline=33;break;case"doubleAccounting":a.underline=34;break}break;case"<u/>":a.underline=1;break;case"<strike":a.strike=o.val?Xn(o.val):1;break;case"<strike/>":a.strike=1;break;case"<outline":a.outline=o.val?Xn(o.val):1;break;case"<outline/>":a.outline=1;break;case"<shadow":a.shadow=o.val?Xn(o.val):1;break;case"<shadow/>":a.shadow=1;break;case"<condense":a.condense=o.val?Xn(o.val):1;break;case"<condense/>":a.condense=1;break;case"<extend":a.extend=o.val?Xn(o.val):1;break;case"<extend/>":a.extend=1;break;case"<sz":o.val&&(a.sz=+o.val);break;case"<sz/>":case"</sz>":break;case"<vertAlign":o.val&&(a.vertAlign=o.val);break;case"<vertAlign/>":case"</vertAlign>":break;case"<family":o.val&&(a.family=parseInt(o.val,10));break;case"<family/>":case"</family>":break;case"<scheme":o.val&&(a.scheme=o.val);break;case"<scheme/>":case"</scheme>":break;case"<charset":if(o.val=="1")break;o.codepage=qN[parseInt(o.val,10)];break;case"<color":if(a.color||(a.color={}),o.auto&&(a.color.auto=Xn(o.auto)),o.rgb)a.color.rgb=o.rgb.slice(-6);else if(o.indexed){a.color.index=parseInt(o.indexed,10);var f=O0[a.color.index];a.color.index==81&&(f=O0[1]),f||(f=O0[1]),a.color.rgb=f[0].toString(16)+f[1].toString(16)+f[2].toString(16)}else o.theme&&(a.color.theme=parseInt(o.theme,10),o.tint&&(a.color.tint=parseFloat(o.tint)),o.theme&&r.themeElements&&r.themeElements.clrScheme&&(a.color.rgb=ay(r.themeElements.clrScheme[a.color.theme].rgb,a.color.tint||0)));break;case"<color/>":case"</color>":break;case"<AlternateContent":i=!0;break;case"</AlternateContent>":i=!1;break;case"<extLst":case"<extLst>":case"</extLst>":break;case"<ext":i=!0;break;case"</ext>":i=!1;break;default:if(n&&n.WTF&&!i)throw new Error("unrecognized "+o[0]+" in fonts")}})}function OX(e,t,r){t.NumberFmt=[];for(var n=Ia(cr),a=0;a<n.length;++a)t.NumberFmt[n[a]]=cr[n[a]];var i=e[0].match(Ts);if(i)for(a=0;a<i.length;++a){var l=dr(i[a]);switch(du(l[0])){case"<numFmts":case"</numFmts>":case"<numFmts/>":case"<numFmts>":break;case"<numFmt":{var o=Xr(Dn(l.formatCode)),f=parseInt(l.numFmtId,10);if(t.NumberFmt[f]=o,f>0){if(f>392){for(f=392;f>60&&t.NumberFmt[f]!=null;--f);t.NumberFmt[f]=o}nf(o,f)}}break;case"</numFmt>":break;default:if(r.WTF)throw new Error("unrecognized "+l[0]+" in numFmts")}}}function DX(e){var t=["<numFmts>"];return[[5,8],[23,26],[41,44],[50,392]].forEach(function(r){for(var n=r[0];n<=r[1];++n)e[n]!=null&&(t[t.length]=gt("numFmt",null,{numFmtId:n,formatCode:Nn(e[n])}))}),t.length===1?"":(t[t.length]="</numFmts>",t[0]=gt("numFmts",null,{count:t.length-2}).replace("/>",">"),t.join(""))}var Q1=["numFmtId","fillId","fontId","borderId","xfId"],Z1=["applyAlignment","applyBorder","applyFill","applyFont","applyNumberFormat","applyProtection","pivotButton","quotePrefix"];function PX(e,t,r){t.CellXf=[];var n,a=!1;(e[0].match(Ts)||[]).forEach(function(i){var l=dr(i),o=0;switch(du(l[0])){case"<cellXfs":case"<cellXfs>":case"<cellXfs/>":case"</cellXfs>":break;case"<xf":case"<xf/>":for(n=l,delete n[0],o=0;o<Q1.length;++o)n[Q1[o]]&&(n[Q1[o]]=parseInt(n[Q1[o]],10));for(o=0;o<Z1.length;++o)n[Z1[o]]&&(n[Z1[o]]=Xn(n[Z1[o]]));if(t.NumberFmt&&n.numFmtId>392){for(o=392;o>60;--o)if(t.NumberFmt[n.numFmtId]==t.NumberFmt[o]){n.numFmtId=o;break}}t.CellXf.push(n);break;case"</xf>":break;case"<alignment":case"<alignment/>":var f={};l.vertical&&(f.vertical=l.vertical),l.horizontal&&(f.horizontal=l.horizontal),l.textRotation!=null&&(f.textRotation=l.textRotation),l.indent&&(f.indent=l.indent),l.wrapText&&(f.wrapText=Xn(l.wrapText)),n.alignment=f;break;case"</alignment>":break;case"<protection":break;case"</protection>":case"<protection/>":break;case"<AlternateContent":a=!0;break;case"</AlternateContent>":a=!1;break;case"<extLst":case"<extLst>":case"</extLst>":break;case"<ext":a=!0;break;case"</ext>":a=!1;break;default:if(r&&r.WTF&&!a)throw new Error("unrecognized "+l[0]+" in cellXfs")}})}function FX(e){var t=[];return t[t.length]=gt("cellXfs",null),e.forEach(function(r){t[t.length]=gt("xf",null,r)}),t[t.length]="</cellXfs>",t.length===2?"":(t[0]=gt("cellXfs",null,{count:t.length-2}).replace("/>",">"),t.join(""))}var LX=(function(){var t=/<(?:\w+:)?numFmts([^>]*)>[\S\s]*?<\/(?:\w+:)?numFmts>/,r=/<(?:\w+:)?cellXfs([^>]*)>[\S\s]*?<\/(?:\w+:)?cellXfs>/,n=/<(?:\w+:)?fills([^>]*)>[\S\s]*?<\/(?:\w+:)?fills>/,a=/<(?:\w+:)?fonts([^>]*)>[\S\s]*?<\/(?:\w+:)?fonts>/,i=/<(?:\w+:)?borders([^>]*)>[\S\s]*?<\/(?:\w+:)?borders>/;return function(o,f,u){var h={};if(!o)return h;o=o.replace(/<!--([\s\S]*?)-->/mg,"").replace(/<!DOCTYPE[^\[]*\[[^\]]*\]>/gm,"");var p;return(p=o.match(t))&&OX(p,h,u),(p=o.match(a))&&TX(p,h,f,u),(p=o.match(n))&&CX(p,h,f,u),(p=o.match(i))&&kX(p,h,f,u),(p=o.match(r))&&PX(p,h,u),h}})();function AF(e,t){var r=[Ya,gt("styleSheet",null,{xmlns:lh[0],"xmlns:vt":bi.vt})],n;return e.SSF&&(n=DX(e.SSF))!=null&&(r[r.length]=n),r[r.length]='<fonts count="1"><font><sz val="12"/><color theme="1"/><name val="Calibri"/><family val="2"/><scheme val="minor"/></font></fonts>',r[r.length]='<fills count="2"><fill><patternFill patternType="none"/></fill><fill><patternFill patternType="gray125"/></fill></fills>',r[r.length]='<borders count="1"><border><left/><right/><top/><bottom/><diagonal/></border></borders>',r[r.length]='<cellStyleXfs count="1"><xf numFmtId="0" fontId="0" fillId="0" borderId="0"/></cellStyleXfs>',(n=FX(t.cellXfs))&&(r[r.length]=n),r[r.length]='<cellStyles count="1"><cellStyle name="Normal" xfId="0" builtinId="0"/></cellStyles>',r[r.length]='<dxfs count="0"/>',r[r.length]='<tableStyles count="0" defaultTableStyle="TableStyleMedium9" defaultPivotStyle="PivotStyleMedium4"/>',r.length>2&&(r[r.length]="</styleSheet>",r[1]=r[1].replace("/>",">")),r.join("")}function MX(e,t){var r=e.read_shift(2),n=js(e);return[r,n]}function RX(e,t,r){r||(r=Ze(6+4*t.length)),r.write_shift(2,e),Bi(t,r);var n=r.length>r.l?r.slice(0,r.l):r;return r.l==null&&(r.l=r.length),n}function IX(e,t,r){var n={};n.sz=e.read_shift(2)/20;var a=yG(e);a.fItalic&&(n.italic=1),a.fCondense&&(n.condense=1),a.fExtend&&(n.extend=1),a.fShadow&&(n.shadow=1),a.fOutline&&(n.outline=1),a.fStrikeout&&(n.strike=1);var i=e.read_shift(2);switch(i===700&&(n.bold=1),e.read_shift(2)){case 1:n.vertAlign="superscript";break;case 2:n.vertAlign="subscript";break}var l=e.read_shift(1);l!=0&&(n.underline=l);var o=e.read_shift(1);o>0&&(n.family=o);var f=e.read_shift(1);switch(f>0&&(n.charset=f),e.l++,n.color=vG(e),e.read_shift(1)){case 1:n.scheme="major";break;case 2:n.scheme="minor";break}return n.name=js(e),n}function BX(e,t){t||(t=Ze(153)),t.write_shift(2,e.sz*20),bG(e,t),t.write_shift(2,e.bold?700:400);var r=0;e.vertAlign=="superscript"?r=1:e.vertAlign=="subscript"&&(r=2),t.write_shift(2,r),t.write_shift(1,e.underline||0),t.write_shift(1,e.family||0),t.write_shift(1,e.charset||0),t.write_shift(1,0),ty(e.color,t);var n=0;return n=2,t.write_shift(1,n),Bi(e.name,t),t.length>t.l?t.slice(0,t.l):t}var UX=["none","solid","mediumGray","darkGray","lightGray","darkHorizontal","darkVertical","darkDown","darkUp","darkGrid","darkTrellis","lightHorizontal","lightVertical","lightDown","lightUp","lightGrid","lightTrellis","gray125","gray0625"],Aw,zX=ks;function wk(e,t){t||(t=Ze(84)),Aw||(Aw=i2(UX));var r=Aw[e.patternType];r==null&&(r=40),t.write_shift(4,r);var n=0;if(r!=40)for(ty({auto:1},t),ty({auto:1},t);n<12;++n)t.write_shift(4,0);else{for(;n<4;++n)t.write_shift(4,0);for(;n<12;++n)t.write_shift(4,0)}return t.length>t.l?t.slice(0,t.l):t}function qX(e,t){var r=e.l+t,n=e.read_shift(2),a=e.read_shift(2);return e.l=r,{ixfe:n,numFmtId:a}}function EF(e,t,r){r||(r=Ze(16)),r.write_shift(2,t||0),r.write_shift(2,e.numFmtId||0),r.write_shift(2,0),r.write_shift(2,0),r.write_shift(2,0),r.write_shift(1,0),r.write_shift(1,0);var n=0;return r.write_shift(1,n),r.write_shift(1,0),r.write_shift(1,0),r.write_shift(1,0),r}function nx(e,t){return t||(t=Ze(10)),t.write_shift(1,0),t.write_shift(1,0),t.write_shift(4,0),t.write_shift(4,0),t}var $X=ks;function HX(e,t){return t||(t=Ze(51)),t.write_shift(1,0),nx(null,t),nx(null,t),nx(null,t),nx(null,t),nx(null,t),t.length>t.l?t.slice(0,t.l):t}function VX(e,t){return t||(t=Ze(52)),t.write_shift(4,e.xfId),t.write_shift(2,1),t.write_shift(1,0),t.write_shift(1,0),ey(e.name||"",t),t.length>t.l?t.slice(0,t.l):t}function WX(e,t,r){var n=Ze(2052);return n.write_shift(4,e),ey(t,n),ey(r,n),n.length>n.l?n.slice(0,n.l):n}function GX(e,t,r){var n={};n.NumberFmt=[];for(var a in cr)n.NumberFmt[a]=cr[a];n.CellXf=[],n.Fonts=[];var i=[],l=!1;return wf(e,function(f,u,h){switch(h){case 44:n.NumberFmt[f[0]]=f[1],nf(f[1],f[0]);break;case 43:n.Fonts.push(f),f.color.theme!=null&&t&&t.themeElements&&t.themeElements.clrScheme&&(f.color.rgb=ay(t.themeElements.clrScheme[f.color.theme].rgb,f.color.tint||0));break;case 1025:break;case 45:break;case 46:break;case 47:i[i.length-1]==617&&n.CellXf.push(f);break;case 48:case 507:case 572:case 475:break;case 1171:case 2102:case 1130:case 512:case 2095:case 3072:break;case 35:l=!0;break;case 36:l=!1;break;case 37:i.push(h),l=!0;break;case 38:i.pop(),l=!1;break;default:if(u.T>0)i.push(h);else if(u.T<0)i.pop();else if(!l||r.WTF&&i[i.length-1]!=37)throw new Error("Unexpected record 0x"+h.toString(16))}}),n}function KX(e,t){if(t){var r=0;[[5,8],[23,26],[41,44],[50,392]].forEach(function(n){for(var a=n[0];a<=n[1];++a)t[a]!=null&&++r}),r!=0&&(ct(e,615,Sc(r)),[[5,8],[23,26],[41,44],[50,392]].forEach(function(n){for(var a=n[0];a<=n[1];++a)t[a]!=null&&ct(e,44,RX(a,t[a]))}),ct(e,616))}}function YX(e){var t=1;ct(e,611,Sc(t)),ct(e,43,BX({sz:12,color:{theme:1},name:"Calibri",family:2})),ct(e,612)}function XX(e){var t=2;ct(e,603,Sc(t)),ct(e,45,wk({patternType:"none"})),ct(e,45,wk({patternType:"gray125"})),ct(e,604)}function QX(e){var t=1;ct(e,613,Sc(t)),ct(e,46,HX()),ct(e,614)}function ZX(e){var t=1;ct(e,626,Sc(t)),ct(e,47,EF({numFmtId:0},65535)),ct(e,627)}function JX(e,t){ct(e,617,Sc(t.length)),t.forEach(function(r){ct(e,47,EF(r,0))}),ct(e,618)}function eQ(e){var t=1;ct(e,619,Sc(t)),ct(e,48,VX({xfId:0,name:"Normal"})),ct(e,620)}function tQ(e){var t=0;ct(e,505,Sc(t)),ct(e,506)}function rQ(e){var t=0;ct(e,508,WX(t,"TableStyleMedium9","PivotStyleMedium4")),ct(e,509)}function nQ(e,t){var r=Al();return ct(r,278),KX(r,e.SSF),YX(r),XX(r),QX(r),ZX(r),JX(r,t.cellXfs),eQ(r),tQ(r),rQ(r),ct(r,279),r.end()}var aQ=["</a:lt1>","</a:dk1>","</a:lt2>","</a:dk2>","</a:accent1>","</a:accent2>","</a:accent3>","</a:accent4>","</a:accent5>","</a:accent6>","</a:hlink>","</a:folHlink>"];function iQ(e,t,r){t.themeElements.clrScheme=[];var n={};(e[0].match(Ts)||[]).forEach(function(a){var i=dr(a);switch(i[0]){case"<a:clrScheme":case"</a:clrScheme>":break;case"<a:srgbClr":n.rgb=i.val;break;case"<a:sysClr":n.rgb=i.lastClr;break;case"<a:dk1>":case"</a:dk1>":case"<a:lt1>":case"</a:lt1>":case"<a:dk2>":case"</a:dk2>":case"<a:lt2>":case"</a:lt2>":case"<a:accent1>":case"</a:accent1>":case"<a:accent2>":case"</a:accent2>":case"<a:accent3>":case"</a:accent3>":case"<a:accent4>":case"</a:accent4>":case"<a:accent5>":case"</a:accent5>":case"<a:accent6>":case"</a:accent6>":case"<a:hlink>":case"</a:hlink>":case"<a:folHlink>":case"</a:folHlink>":i[0].charAt(1)==="/"?(t.themeElements.clrScheme[aQ.indexOf(i[0])]=n,n={}):n.name=i[0].slice(3,i[0].length-1);break;default:if(r&&r.WTF)throw new Error("Unrecognized "+i[0]+" in clrScheme")}})}function sQ(){}function lQ(){}var oQ=/<a:clrScheme([^>]*)>[\s\S]*<\/a:clrScheme>/,cQ=/<a:fontScheme([^>]*)>[\s\S]*<\/a:fontScheme>/,uQ=/<a:fmtScheme([^>]*)>[\s\S]*<\/a:fmtScheme>/;function fQ(e,t,r){t.themeElements={};var n;[["clrScheme",oQ,iQ],["fontScheme",cQ,sQ],["fmtScheme",uQ,lQ]].forEach(function(a){if(!(n=e.match(a[1])))throw new Error(a[0]+" not found in themeElements");a[2](n,t,r)})}var dQ=/<a:themeElements([^>]*)>[\s\S]*<\/a:themeElements>/;function kF(e,t){(!e||e.length===0)&&(e=p3());var r,n={};if(!(r=e.match(dQ)))throw new Error("themeElements not found in theme");return fQ(r[0],n,t),n.raw=e,n}function p3(e,t){if(t&&t.themeXLSX)return t.themeXLSX;if(e&&typeof e.raw=="string")return e.raw;var r=[Ya];return r[r.length]='<a:theme xmlns:a="http://schemas.openxmlformats.org/drawingml/2006/main" name="Office Theme">',r[r.length]="<a:themeElements>",r[r.length]='<a:clrScheme name="Office">',r[r.length]='<a:dk1><a:sysClr val="windowText" lastClr="000000"/></a:dk1>',r[r.length]='<a:lt1><a:sysClr val="window" lastClr="FFFFFF"/></a:lt1>',r[r.length]='<a:dk2><a:srgbClr val="1F497D"/></a:dk2>',r[r.length]='<a:lt2><a:srgbClr val="EEECE1"/></a:lt2>',r[r.length]='<a:accent1><a:srgbClr val="4F81BD"/></a:accent1>',r[r.length]='<a:accent2><a:srgbClr val="C0504D"/></a:accent2>',r[r.length]='<a:accent3><a:srgbClr val="9BBB59"/></a:accent3>',r[r.length]='<a:accent4><a:srgbClr val="8064A2"/></a:accent4>',r[r.length]='<a:accent5><a:srgbClr val="4BACC6"/></a:accent5>',r[r.length]='<a:accent6><a:srgbClr val="F79646"/></a:accent6>',r[r.length]='<a:hlink><a:srgbClr val="0000FF"/></a:hlink>',r[r.length]='<a:folHlink><a:srgbClr val="800080"/></a:folHlink>',r[r.length]="</a:clrScheme>",r[r.length]='<a:fontScheme name="Office">',r[r.length]="<a:majorFont>",r[r.length]='<a:latin typeface="Cambria"/>',r[r.length]='<a:ea typeface=""/>',r[r.length]='<a:cs typeface=""/>',r[r.length]='<a:font script="Jpan" typeface=" "/>',r[r.length]='<a:font script="Hang" typeface=" "/>',r[r.length]='<a:font script="Hans" typeface=""/>',r[r.length]='<a:font script="Hant" typeface=""/>',r[r.length]='<a:font script="Arab" typeface="Times New Roman"/>',r[r.length]='<a:font script="Hebr" typeface="Times New Roman"/>',r[r.length]='<a:font script="Thai" typeface="Tahoma"/>',r[r.length]='<a:font script="Ethi" typeface="Nyala"/>',r[r.length]='<a:font script="Beng" typeface="Vrinda"/>',r[r.length]='<a:font script="Gujr" typeface="Shruti"/>',r[r.length]='<a:font script="Khmr" typeface="MoolBoran"/>',r[r.length]='<a:font script="Knda" typeface="Tunga"/>',r[r.length]='<a:font script="Guru" typeface="Raavi"/>',r[r.length]='<a:font script="Cans" typeface="Euphemia"/>',r[r.length]='<a:font script="Cher" typeface="Plantagenet Cherokee"/>',r[r.length]='<a:font script="Yiii" typeface="Microsoft Yi Baiti"/>',r[r.length]='<a:font script="Tibt" typeface="Microsoft Himalaya"/>',r[r.length]='<a:font script="Thaa" typeface="MV Boli"/>',r[r.length]='<a:font script="Deva" typeface="Mangal"/>',r[r.length]='<a:font script="Telu" typeface="Gautami"/>',r[r.length]='<a:font script="Taml" typeface="Latha"/>',r[r.length]='<a:font script="Syrc" typeface="Estrangelo Edessa"/>',r[r.length]='<a:font script="Orya" typeface="Kalinga"/>',r[r.length]='<a:font script="Mlym" typeface="Kartika"/>',r[r.length]='<a:font script="Laoo" typeface="DokChampa"/>',r[r.length]='<a:font script="Sinh" typeface="Iskoola Pota"/>',r[r.length]='<a:font script="Mong" typeface="Mongolian Baiti"/>',r[r.length]='<a:font script="Viet" typeface="Times New Roman"/>',r[r.length]='<a:font script="Uigh" typeface="Microsoft Uighur"/>',r[r.length]='<a:font script="Geor" typeface="Sylfaen"/>',r[r.length]="</a:majorFont>",r[r.length]="<a:minorFont>",r[r.length]='<a:latin typeface="Calibri"/>',r[r.length]='<a:ea typeface=""/>',r[r.length]='<a:cs typeface=""/>',r[r.length]='<a:font script="Jpan" typeface=" "/>',r[r.length]='<a:font script="Hang" typeface=" "/>',r[r.length]='<a:font script="Hans" typeface=""/>',r[r.length]='<a:font script="Hant" typeface=""/>',r[r.length]='<a:font script="Arab" typeface="Arial"/>',r[r.length]='<a:font script="Hebr" typeface="Arial"/>',r[r.length]='<a:font script="Thai" typeface="Tahoma"/>',r[r.length]='<a:font script="Ethi" typeface="Nyala"/>',r[r.length]='<a:font script="Beng" typeface="Vrinda"/>',r[r.length]='<a:font script="Gujr" typeface="Shruti"/>',r[r.length]='<a:font script="Khmr" typeface="DaunPenh"/>',r[r.length]='<a:font script="Knda" typeface="Tunga"/>',r[r.length]='<a:font script="Guru" typeface="Raavi"/>',r[r.length]='<a:font script="Cans" typeface="Euphemia"/>',r[r.length]='<a:font script="Cher" typeface="Plantagenet Cherokee"/>',r[r.length]='<a:font script="Yiii" typeface="Microsoft Yi Baiti"/>',r[r.length]='<a:font script="Tibt" typeface="Microsoft Himalaya"/>',r[r.length]='<a:font script="Thaa" typeface="MV Boli"/>',r[r.length]='<a:font script="Deva" typeface="Mangal"/>',r[r.length]='<a:font script="Telu" typeface="Gautami"/>',r[r.length]='<a:font script="Taml" typeface="Latha"/>',r[r.length]='<a:font script="Syrc" typeface="Estrangelo Edessa"/>',r[r.length]='<a:font script="Orya" typeface="Kalinga"/>',r[r.length]='<a:font script="Mlym" typeface="Kartika"/>',r[r.length]='<a:font script="Laoo" typeface="DokChampa"/>',r[r.length]='<a:font script="Sinh" typeface="Iskoola Pota"/>',r[r.length]='<a:font script="Mong" typeface="Mongolian Baiti"/>',r[r.length]='<a:font script="Viet" typeface="Arial"/>',r[r.length]='<a:font script="Uigh" typeface="Microsoft Uighur"/>',r[r.length]='<a:font script="Geor" typeface="Sylfaen"/>',r[r.length]="</a:minorFont>",r[r.length]="</a:fontScheme>",r[r.length]='<a:fmtScheme name="Office">',r[r.length]="<a:fillStyleLst>",r[r.length]='<a:solidFill><a:schemeClr val="phClr"/></a:solidFill>',r[r.length]='<a:gradFill rotWithShape="1">',r[r.length]="<a:gsLst>",r[r.length]='<a:gs pos="0"><a:schemeClr val="phClr"><a:tint val="50000"/><a:satMod val="300000"/></a:schemeClr></a:gs>',r[r.length]='<a:gs pos="35000"><a:schemeClr val="phClr"><a:tint val="37000"/><a:satMod val="300000"/></a:schemeClr></a:gs>',r[r.length]='<a:gs pos="100000"><a:schemeClr val="phClr"><a:tint val="15000"/><a:satMod val="350000"/></a:schemeClr></a:gs>',r[r.length]="</a:gsLst>",r[r.length]='<a:lin ang="16200000" scaled="1"/>',r[r.length]="</a:gradFill>",r[r.length]='<a:gradFill rotWithShape="1">',r[r.length]="<a:gsLst>",r[r.length]='<a:gs pos="0"><a:schemeClr val="phClr"><a:tint val="100000"/><a:shade val="100000"/><a:satMod val="130000"/></a:schemeClr></a:gs>',r[r.length]='<a:gs pos="100000"><a:schemeClr val="phClr"><a:tint val="50000"/><a:shade val="100000"/><a:satMod val="350000"/></a:schemeClr></a:gs>',r[r.length]="</a:gsLst>",r[r.length]='<a:lin ang="16200000" scaled="0"/>',r[r.length]="</a:gradFill>",r[r.length]="</a:fillStyleLst>",r[r.length]="<a:lnStyleLst>",r[r.length]='<a:ln w="9525" cap="flat" cmpd="sng" algn="ctr"><a:solidFill><a:schemeClr val="phClr"><a:shade val="95000"/><a:satMod val="105000"/></a:schemeClr></a:solidFill><a:prstDash val="solid"/></a:ln>',r[r.length]='<a:ln w="25400" cap="flat" cmpd="sng" algn="ctr"><a:solidFill><a:schemeClr val="phClr"/></a:solidFill><a:prstDash val="solid"/></a:ln>',r[r.length]='<a:ln w="38100" cap="flat" cmpd="sng" algn="ctr"><a:solidFill><a:schemeClr val="phClr"/></a:solidFill><a:prstDash val="solid"/></a:ln>',r[r.length]="</a:lnStyleLst>",r[r.length]="<a:effectStyleLst>",r[r.length]="<a:effectStyle>",r[r.length]="<a:effectLst>",r[r.length]='<a:outerShdw blurRad="40000" dist="20000" dir="5400000" rotWithShape="0"><a:srgbClr val="000000"><a:alpha val="38000"/></a:srgbClr></a:outerShdw>',r[r.length]="</a:effectLst>",r[r.length]="</a:effectStyle>",r[r.length]="<a:effectStyle>",r[r.length]="<a:effectLst>",r[r.length]='<a:outerShdw blurRad="40000" dist="23000" dir="5400000" rotWithShape="0"><a:srgbClr val="000000"><a:alpha val="35000"/></a:srgbClr></a:outerShdw>',r[r.length]="</a:effectLst>",r[r.length]="</a:effectStyle>",r[r.length]="<a:effectStyle>",r[r.length]="<a:effectLst>",r[r.length]='<a:outerShdw blurRad="40000" dist="23000" dir="5400000" rotWithShape="0"><a:srgbClr val="000000"><a:alpha val="35000"/></a:srgbClr></a:outerShdw>',r[r.length]="</a:effectLst>",r[r.length]='<a:scene3d><a:camera prst="orthographicFront"><a:rot lat="0" lon="0" rev="0"/></a:camera><a:lightRig rig="threePt" dir="t"><a:rot lat="0" lon="0" rev="1200000"/></a:lightRig></a:scene3d>',r[r.length]='<a:sp3d><a:bevelT w="63500" h="25400"/></a:sp3d>',r[r.length]="</a:effectStyle>",r[r.length]="</a:effectStyleLst>",r[r.length]="<a:bgFillStyleLst>",r[r.length]='<a:solidFill><a:schemeClr val="phClr"/></a:solidFill>',r[r.length]='<a:gradFill rotWithShape="1">',r[r.length]="<a:gsLst>",r[r.length]='<a:gs pos="0"><a:schemeClr val="phClr"><a:tint val="40000"/><a:satMod val="350000"/></a:schemeClr></a:gs>',r[r.length]='<a:gs pos="40000"><a:schemeClr val="phClr"><a:tint val="45000"/><a:shade val="99000"/><a:satMod val="350000"/></a:schemeClr></a:gs>',r[r.length]='<a:gs pos="100000"><a:schemeClr val="phClr"><a:shade val="20000"/><a:satMod val="255000"/></a:schemeClr></a:gs>',r[r.length]="</a:gsLst>",r[r.length]='<a:path path="circle"><a:fillToRect l="50000" t="-80000" r="50000" b="180000"/></a:path>',r[r.length]="</a:gradFill>",r[r.length]='<a:gradFill rotWithShape="1">',r[r.length]="<a:gsLst>",r[r.length]='<a:gs pos="0"><a:schemeClr val="phClr"><a:tint val="80000"/><a:satMod val="300000"/></a:schemeClr></a:gs>',r[r.length]='<a:gs pos="100000"><a:schemeClr val="phClr"><a:shade val="30000"/><a:satMod val="200000"/></a:schemeClr></a:gs>',r[r.length]="</a:gsLst>",r[r.length]='<a:path path="circle"><a:fillToRect l="50000" t="50000" r="50000" b="50000"/></a:path>',r[r.length]="</a:gradFill>",r[r.length]="</a:bgFillStyleLst>",r[r.length]="</a:fmtScheme>",r[r.length]="</a:themeElements>",r[r.length]="<a:objectDefaults>",r[r.length]="<a:spDef>",r[r.length]='<a:spPr/><a:bodyPr/><a:lstStyle/><a:style><a:lnRef idx="1"><a:schemeClr val="accent1"/></a:lnRef><a:fillRef idx="3"><a:schemeClr val="accent1"/></a:fillRef><a:effectRef idx="2"><a:schemeClr val="accent1"/></a:effectRef><a:fontRef idx="minor"><a:schemeClr val="lt1"/></a:fontRef></a:style>',r[r.length]="</a:spDef>",r[r.length]="<a:lnDef>",r[r.length]='<a:spPr/><a:bodyPr/><a:lstStyle/><a:style><a:lnRef idx="2"><a:schemeClr val="accent1"/></a:lnRef><a:fillRef idx="0"><a:schemeClr val="accent1"/></a:fillRef><a:effectRef idx="1"><a:schemeClr val="accent1"/></a:effectRef><a:fontRef idx="minor"><a:schemeClr val="tx1"/></a:fontRef></a:style>',r[r.length]="</a:lnDef>",r[r.length]="</a:objectDefaults>",r[r.length]="<a:extraClrSchemeLst/>",r[r.length]="</a:theme>",r.join("")}function hQ(e,t,r){var n=e.l+t,a=e.read_shift(4);if(a!==124226){if(!r.cellStyles){e.l=n;return}var i=e.slice(e.l);e.l=n;var l;try{l=bP(i,{type:"array"})}catch{return}var o=Ql(l,"theme/theme/theme1.xml",!0);if(o)return kF(o,r)}}function mQ(e){return e.read_shift(4)}function pQ(e){var t={};switch(t.xclrType=e.read_shift(2),t.nTintShade=e.read_shift(2),t.xclrType){case 0:e.l+=4;break;case 1:t.xclrValue=xQ(e,4);break;case 2:t.xclrValue=lF(e);break;case 3:t.xclrValue=mQ(e);break;case 4:e.l+=4;break}return e.l+=8,t}function xQ(e,t){return ks(e,t)}function gQ(e,t){return ks(e,t)}function vQ(e){var t=e.read_shift(2),r=e.read_shift(2)-4,n=[t];switch(t){case 4:case 5:case 7:case 8:case 9:case 10:case 11:case 13:n[1]=pQ(e);break;case 6:n[1]=gQ(e,r);break;case 14:case 15:n[1]=e.read_shift(r===1?1:2);break;default:throw new Error("Unrecognized ExtProp type: "+t+" "+r)}return n}function yQ(e,t){var r=e.l+t;e.l+=2;var n=e.read_shift(2);e.l+=2;for(var a=e.read_shift(2),i=[];a-- >0;)i.push(vQ(e,r-e.l));return{ixfe:n,ext:i}}function bQ(e,t){t.forEach(function(r){r[0]})}function wQ(e,t){return{flags:e.read_shift(4),version:e.read_shift(4),name:js(e)}}function _Q(e){var t=Ze(12+2*e.name.length);return t.write_shift(4,e.flags),t.write_shift(4,e.version),Bi(e.name,t),t.slice(0,t.l)}function NQ(e){for(var t=[],r=e.read_shift(4);r-- >0;)t.push([e.read_shift(4),e.read_shift(4)]);return t}function SQ(e){var t=Ze(4+8*e.length);t.write_shift(4,e.length);for(var r=0;r<e.length;++r)t.write_shift(4,e[r][0]),t.write_shift(4,e[r][1]);return t}function jQ(e,t){var r=Ze(8+2*t.length);return r.write_shift(4,e),Bi(t,r),r.slice(0,r.l)}function AQ(e){return e.l+=4,e.read_shift(4)!=0}function EQ(e,t){var r=Ze(8);return r.write_shift(4,e),r.write_shift(4,1),r}function kQ(e,t,r){var n={Types:[],Cell:[],Value:[]},a=r||{},i=[],l=!1,o=2;return wf(e,function(f,u,h){switch(h){case 335:n.Types.push({name:f.name});break;case 51:f.forEach(function(p){o==1?n.Cell.push({type:n.Types[p[0]-1].name,index:p[1]}):o==0&&n.Value.push({type:n.Types[p[0]-1].name,index:p[1]})});break;case 337:o=f?1:0;break;case 338:o=2;break;case 35:i.push(h),l=!0;break;case 36:i.pop(),l=!1;break;default:if(!u.T){if(!l||a.WTF&&i[i.length-1]!=35)throw new Error("Unexpected record 0x"+h.toString(16))}}}),n}function CQ(){var e=Al();return ct(e,332),ct(e,334,Sc(1)),ct(e,335,_Q({name:"XLDAPR",version:12e4,flags:3496657072})),ct(e,336),ct(e,339,jQ(1,"XLDAPR")),ct(e,52),ct(e,35,Sc(514)),ct(e,4096,Sc(0)),ct(e,4097,Po(1)),ct(e,36),ct(e,53),ct(e,340),ct(e,337,EQ(1)),ct(e,51,SQ([[1,0]])),ct(e,338),ct(e,333),e.end()}function TQ(e,t,r){var n={Types:[],Cell:[],Value:[]};if(!e)return n;var a=!1,i=2,l;return e.replace(Ts,function(o){var f=dr(o);switch(du(f[0])){case"<?xml":break;case"<metadata":case"</metadata>":break;case"<metadataTypes":case"</metadataTypes>":break;case"<metadataType":n.Types.push({name:f.name});break;case"</metadataType>":break;case"<futureMetadata":for(var u=0;u<n.Types.length;++u)n.Types[u].name==f.name&&(l=n.Types[u]);break;case"</futureMetadata>":break;case"<bk>":break;case"</bk>":break;case"<rc":i==1?n.Cell.push({type:n.Types[f.t-1].name,index:+f.v}):i==0&&n.Value.push({type:n.Types[f.t-1].name,index:+f.v});break;case"</rc>":break;case"<cellMetadata":i=1;break;case"</cellMetadata>":i=2;break;case"<valueMetadata":i=0;break;case"</valueMetadata>":i=2;break;case"<extLst":case"<extLst>":case"</extLst>":case"<extLst/>":break;case"<ext":a=!0;break;case"</ext>":a=!1;break;case"<rvb":if(!l)break;l.offsets||(l.offsets=[]),l.offsets.push(+f.i);break;default:if(!a&&r.WTF)throw new Error("unrecognized "+f[0]+" in metadata")}return o}),n}function CF(){var e=[Ya];return e.push(`<metadata xmlns="http://schemas.openxmlformats.org/spreadsheetml/2006/main" xmlns:xlrd="http://schemas.microsoft.com/office/spreadsheetml/2017/richdata" xmlns:xda="http://schemas.microsoft.com/office/spreadsheetml/2017/dynamicarray">
  <metadataTypes count="1">
    <metadataType name="XLDAPR" minSupportedVersion="120000" copy="1" pasteAll="1" pasteValues="1" merge="1" splitFirst="1" rowColShift="1" clearFormats="1" clearComments="1" assign="1" coerce="1" cellMeta="1"/>
  </metadataTypes>
  <futureMetadata name="XLDAPR" count="1">
    <bk>
      <extLst>
        <ext uri="{bdbb8cdc-fa1e-496e-a857-3c3f30c029c3}">
          <xda:dynamicArrayProperties fDynamic="1" fCollapsed="0"/>
        </ext>
      </extLst>
    </bk>
  </futureMetadata>
  <cellMetadata count="1">
    <bk>
      <rc t="1" v="0"/>
    </bk>
  </cellMetadata>
</metadata>`),e.join("")}function OQ(e){var t=[];if(!e)return t;var r=1;return(e.match(Ts)||[]).forEach(function(n){var a=dr(n);switch(a[0]){case"<?xml":break;case"<calcChain":case"<calcChain>":case"</calcChain>":break;case"<c":delete a[0],a.i?r=a.i:a.i=r,t.push(a);break}}),t}function DQ(e){var t={};t.i=e.read_shift(4);var r={};r.r=e.read_shift(4),r.c=e.read_shift(4),t.r=ur(r);var n=e.read_shift(1);return n&2&&(t.l="1"),n&8&&(t.a="1"),t}function PQ(e,t,r){var n=[];return wf(e,function(i,l,o){switch(o){case 63:n.push(i);break;default:if(!l.T)throw new Error("Unexpected record 0x"+o.toString(16))}}),n}function FQ(e,t,r,n){if(!e)return e;var a=n||{},i=!1;wf(e,function(o,f,u){switch(u){case 359:case 363:case 364:case 366:case 367:case 368:case 369:case 370:case 371:case 472:case 577:case 578:case 579:case 580:case 581:case 582:case 583:case 584:case 585:case 586:case 587:break;case 35:i=!0;break;case 36:i=!1;break;default:if(!f.T){if(!i||a.WTF)throw new Error("Unexpected record 0x"+u.toString(16))}}},a)}function LQ(e,t){if(!e)return"??";var r=(e.match(/<c:chart [^>]*r:id="([^"]*)"/)||["",""])[1];return t["!id"][r].Target}var ym=1024;function TF(e,t){for(var r=[21600,21600],n=["m0,0l0",r[1],r[0],r[1],r[0],"0xe"].join(","),a=[gt("xml",null,{"xmlns:v":Gl.v,"xmlns:o":Gl.o,"xmlns:x":Gl.x,"xmlns:mv":Gl.mv}).replace(/\/>/,">"),gt("o:shapelayout",gt("o:idmap",null,{"v:ext":"edit",data:e}),{"v:ext":"edit"}),gt("v:shapetype",[gt("v:stroke",null,{joinstyle:"miter"}),gt("v:path",null,{gradientshapeok:"t","o:connecttype":"rect"})].join(""),{id:"_x0000_t202","o:spt":202,coordsize:r.join(","),path:n})];ym<e*1e3;)ym+=1e3;return t.forEach(function(i){var l=Sa(i[0]),o={color2:"#BEFF82",type:"gradient"};o.type=="gradient"&&(o.angle="-180");var f=o.type=="gradient"?gt("o:fill",null,{type:"gradientUnscaled","v:ext":"view"}):null,u=gt("v:fill",f,o),h={on:"t",obscured:"t"};++ym,a=a.concat(["<v:shape"+qx({id:"_x0000_s"+ym,type:"#_x0000_t202",style:"position:absolute; margin-left:80pt;margin-top:5pt;width:104pt;height:64pt;z-index:10"+(i[1].hidden?";visibility:hidden":""),fillcolor:"#ECFAD4",strokecolor:"#edeaa1"})+">",u,gt("v:shadow",null,h),gt("v:path",null,{"o:connecttype":"none"}),'<v:textbox><div style="text-align:left"></div></v:textbox>','<x:ClientData ObjectType="Note">',"<x:MoveWithCells/>","<x:SizeWithCells/>",as("x:Anchor",[l.c+1,0,l.r+1,0,l.c+3,20,l.r+5,20].join(",")),as("x:AutoFill","False"),as("x:Row",String(l.r)),as("x:Column",String(l.c)),i[1].hidden?"":"<x:Visible/>","</x:ClientData>","</v:shape>"])}),a.push("</xml>"),a.join("")}function _k(e,t,r,n){var a=Array.isArray(e),i;t.forEach(function(l){var o=Sa(l.ref);if(a?(e[o.r]||(e[o.r]=[]),i=e[o.r][o.c]):i=e[l.ref],!i){i={t:"z"},a?e[o.r][o.c]=i:e[l.ref]=i;var f=Zr(e["!ref"]||"BDWGO1000001:A1");f.s.r>o.r&&(f.s.r=o.r),f.e.r<o.r&&(f.e.r=o.r),f.s.c>o.c&&(f.s.c=o.c),f.e.c<o.c&&(f.e.c=o.c);var u=_r(f);u!==e["!ref"]&&(e["!ref"]=u)}i.c||(i.c=[]);var h={a:l.author,t:l.t,r:l.r,T:r};l.h&&(h.h=l.h);for(var p=i.c.length-1;p>=0;--p){if(!r&&i.c[p].T)return;r&&!i.c[p].T&&i.c.splice(p,1)}if(r&&n){for(p=0;p<n.length;++p)if(h.a==n[p].id){h.a=n[p].name||h.a;break}}i.c.push(h)})}function MQ(e,t){if(e.match(/<(?:\w+:)?comments *\/>/))return[];var r=[],n=[],a=e.match(/<(?:\w+:)?authors>([\s\S]*)<\/(?:\w+:)?authors>/);a&&a[1]&&a[1].split(/<\/\w*:?author>/).forEach(function(l){if(!(l===""||l.trim()==="")){var o=l.match(/<(?:\w+:)?author[^>]*>(.*)/);o&&r.push(o[1])}});var i=e.match(/<(?:\w+:)?commentList>([\s\S]*)<\/(?:\w+:)?commentList>/);return i&&i[1]&&i[1].split(/<\/\w*:?comment>/).forEach(function(l){if(!(l===""||l.trim()==="")){var o=l.match(/<(?:\w+:)?comment[^>]*>/);if(o){var f=dr(o[0]),u={author:f.authorId&&r[f.authorId]||"sheetjsghost",ref:f.ref,guid:f.guid},h=Sa(f.ref);if(!(t.sheetRows&&t.sheetRows<=h.r)){var p=l.match(/<(?:\w+:)?text>([\s\S]*)<\/(?:\w+:)?text>/),g=!!p&&!!p[1]&&d3(p[1])||{r:"",t:"",h:""};u.r=g.r,g.r=="<t></t>"&&(g.t=g.h=""),u.t=(g.t||"").replace(/\r\n/g,`
`).replace(/\r/g,`
`),t.cellHTML&&(u.h=g.h),n.push(u)}}}}),n}function OF(e){var t=[Ya,gt("comments",null,{xmlns:lh[0]})],r=[];return t.push("<authors>"),e.forEach(function(n){n[1].forEach(function(a){var i=Nn(a.a);r.indexOf(i)==-1&&(r.push(i),t.push("<author>"+i+"</author>")),a.T&&a.ID&&r.indexOf("tc="+a.ID)==-1&&(r.push("tc="+a.ID),t.push("<author>tc="+a.ID+"</author>"))})}),r.length==0&&(r.push("SheetJ5"),t.push("<author>SheetJ5</author>")),t.push("</authors>"),t.push("<commentList>"),e.forEach(function(n){var a=0,i=[];if(n[1][0]&&n[1][0].T&&n[1][0].ID?a=r.indexOf("tc="+n[1][0].ID):n[1].forEach(function(f){f.a&&(a=r.indexOf(Nn(f.a))),i.push(f.t||"")}),t.push('<comment ref="'+n[0]+'" authorId="'+a+'"><text>'),i.length<=1)t.push(as("t",Nn(i[0]||"")));else{for(var l=`Comment:
    `+i[0]+`
`,o=1;o<i.length;++o)l+=`Reply:
    `+i[o]+`
`;t.push(as("t",Nn(l)))}t.push("</text></comment>")}),t.push("</commentList>"),t.length>2&&(t[t.length]="</comments>",t[1]=t[1].replace("/>",">")),t.join("")}function RQ(e,t){var r=[],n=!1,a={},i=0;return e.replace(Ts,function(o,f){var u=dr(o);switch(du(u[0])){case"<?xml":break;case"<ThreadedComments":break;case"</ThreadedComments>":break;case"<threadedComment":a={author:u.personId,guid:u.id,ref:u.ref,T:1};break;case"</threadedComment>":a.t!=null&&r.push(a);break;case"<text>":case"<text":i=f+o.length;break;case"</text>":a.t=e.slice(i,f).replace(/\r\n/g,`
`).replace(/\r/g,`
`);break;case"<mentions":case"<mentions>":n=!0;break;case"</mentions>":n=!1;break;case"<extLst":case"<extLst>":case"</extLst>":case"<extLst/>":break;case"<ext":n=!0;break;case"</ext>":n=!1;break;default:if(!n&&t.WTF)throw new Error("unrecognized "+u[0]+" in threaded comments")}return o}),r}function IQ(e,t,r){var n=[Ya,gt("ThreadedComments",null,{xmlns:bi.TCMNT}).replace(/[\/]>/,">")];return e.forEach(function(a){var i="";(a[1]||[]).forEach(function(l,o){if(!l.T){delete l.ID;return}l.a&&t.indexOf(l.a)==-1&&t.push(l.a);var f={ref:a[0],id:"{54EE7951-7262-4200-6969-"+("000000000000"+r.tcid++).slice(-12)+"}"};o==0?i=f.id:f.parentId=i,l.ID=f.id,l.a&&(f.personId="{54EE7950-7262-4200-6969-"+("000000000000"+t.indexOf(l.a)).slice(-12)+"}"),n.push(gt("threadedComment",as("text",l.t||""),f))})}),n.push("</ThreadedComments>"),n.join("")}function BQ(e,t){var r=[],n=!1;return e.replace(Ts,function(i){var l=dr(i);switch(du(l[0])){case"<?xml":break;case"<personList":break;case"</personList>":break;case"<person":r.push({name:l.displayname,id:l.id});break;case"</person>":break;case"<extLst":case"<extLst>":case"</extLst>":case"<extLst/>":break;case"<ext":n=!0;break;case"</ext>":n=!1;break;default:if(!n&&t.WTF)throw new Error("unrecognized "+l[0]+" in threaded comments")}return i}),r}function UQ(e){var t=[Ya,gt("personList",null,{xmlns:bi.TCMNT,"xmlns:x":lh[0]}).replace(/[\/]>/,">")];return e.forEach(function(r,n){t.push(gt("person",null,{displayName:r,id:"{54EE7950-7262-4200-6969-"+("000000000000"+n).slice(-12)+"}",userId:r,providerId:"None"}))}),t.push("</personList>"),t.join("")}function zQ(e){var t={};t.iauthor=e.read_shift(4);var r=fh(e);return t.rfx=r.s,t.ref=ur(r.s),e.l+=16,t}function qQ(e,t){return t==null&&(t=Ze(36)),t.write_shift(4,e[1].iauthor),ap(e[0],t),t.write_shift(4,0),t.write_shift(4,0),t.write_shift(4,0),t.write_shift(4,0),t}var $Q=js;function HQ(e){return Bi(e.slice(0,54))}function VQ(e,t){var r=[],n=[],a={},i=!1;return wf(e,function(o,f,u){switch(u){case 632:n.push(o);break;case 635:a=o;break;case 637:a.t=o.t,a.h=o.h,a.r=o.r;break;case 636:if(a.author=n[a.iauthor],delete a.iauthor,t.sheetRows&&a.rfx&&t.sheetRows<=a.rfx.r)break;a.t||(a.t=""),delete a.rfx,r.push(a);break;case 3072:break;case 35:i=!0;break;case 36:i=!1;break;case 37:break;case 38:break;default:if(!f.T){if(!i||t.WTF)throw new Error("Unexpected record 0x"+u.toString(16))}}}),r}function WQ(e){var t=Al(),r=[];return ct(t,628),ct(t,630),e.forEach(function(n){n[1].forEach(function(a){r.indexOf(a.a)>-1||(r.push(a.a.slice(0,54)),ct(t,632,HQ(a.a)))})}),ct(t,631),ct(t,633),e.forEach(function(n){n[1].forEach(function(a){a.iauthor=r.indexOf(a.a);var i={s:Sa(n[0]),e:Sa(n[0])};ct(t,635,qQ([i,a])),a.t&&a.t.length>0&&ct(t,637,mG(a)),ct(t,636),delete a.iauthor})}),ct(t,634),ct(t,629),t.end()}var GQ="application/vnd.ms-office.vbaProject";function KQ(e){var t=nr.utils.cfb_new({root:"R"});return e.FullPaths.forEach(function(r,n){if(!(r.slice(-1)==="/"||!r.match(/_VBA_PROJECT_CUR/))){var a=r.replace(/^[^\/]*/,"R").replace(/\/_VBA_PROJECT_CUR\u0000*/,"");nr.utils.cfb_add(t,a,e.FileIndex[n].content)}}),nr.write(t)}function YQ(e,t){t.FullPaths.forEach(function(r,n){if(n!=0){var a=r.replace(/[^\/]*[\/]/,"/_VBA_PROJECT_CUR/");a.slice(-1)!=="/"&&nr.utils.cfb_add(e,a,t.FileIndex[n].content)}})}var DF=["xlsb","xlsm","xlam","biff8","xla"];function XQ(){return{"!type":"dialog"}}function QQ(){return{"!type":"dialog"}}function ZQ(){return{"!type":"macro"}}function JQ(){return{"!type":"macro"}}var km=(function(){var e=/(^|[^A-Za-z_])R(\[?-?\d+\]|[1-9]\d*|)C(\[?-?\d+\]|[1-9]\d*|)(?![A-Za-z0-9_])/g,t={r:0,c:0};function r(n,a,i,l){var o=!1,f=!1;i.length==0?f=!0:i.charAt(0)=="["&&(f=!0,i=i.slice(1,-1)),l.length==0?o=!0:l.charAt(0)=="["&&(o=!0,l=l.slice(1,-1));var u=i.length>0?parseInt(i,10)|0:0,h=l.length>0?parseInt(l,10)|0:0;return o?h+=t.c:--h,f?u+=t.r:--u,a+(o?"":"$")+Na(h)+(f?"":"$")+Ka(u)}return function(a,i){return t=i,a.replace(e,r)}})(),x3=/(^|[^._A-Z0-9])([$]?)([A-Z]{1,2}|[A-W][A-Z]{2}|X[A-E][A-Z]|XF[A-D])([$]?)(10[0-3]\d{4}|104[0-7]\d{3}|1048[0-4]\d{2}|10485[0-6]\d|104857[0-6]|[1-9]\d{0,5})(?![_.\(A-Za-z0-9])/g,g3=(function(){return function(t,r){return t.replace(x3,function(n,a,i,l,o,f){var u=n3(l)-(i?0:r.c),h=r3(f)-(o?0:r.r),p=h==0?"":o?h+1:"["+h+"]",g=u==0?"":i?u+1:"["+u+"]";return a+"R"+p+"C"+g})}})();function PF(e,t){return e.replace(x3,function(r,n,a,i,l,o){return n+(a=="$"?a+i:Na(n3(i)+t.c))+(l=="$"?l+o:Ka(r3(o)+t.r))})}function eZ(e,t,r){var n=kl(t),a=n.s,i=Sa(r),l={r:i.r-a.r,c:i.c-a.c};return PF(e,l)}function tZ(e){return e.length!=1}function Nk(e){return e.replace(/_xlfn\./g,"")}function ti(e){e.l+=1}function Ed(e,t){var r=e.read_shift(2);return[r&16383,r>>14&1,r>>15&1]}function FF(e,t,r){var n=2;if(r){if(r.biff>=2&&r.biff<=5)return LF(e);r.biff==12&&(n=4)}var a=e.read_shift(n),i=e.read_shift(n),l=Ed(e),o=Ed(e);return{s:{r:a,c:l[0],cRel:l[1],rRel:l[2]},e:{r:i,c:o[0],cRel:o[1],rRel:o[2]}}}function LF(e){var t=Ed(e),r=Ed(e),n=e.read_shift(1),a=e.read_shift(1);return{s:{r:t[0],c:n,cRel:t[1],rRel:t[2]},e:{r:r[0],c:a,cRel:r[1],rRel:r[2]}}}function rZ(e,t,r){if(r.biff<8)return LF(e);var n=e.read_shift(r.biff==12?4:2),a=e.read_shift(r.biff==12?4:2),i=Ed(e),l=Ed(e);return{s:{r:n,c:i[0],cRel:i[1],rRel:i[2]},e:{r:a,c:l[0],cRel:l[1],rRel:l[2]}}}function MF(e,t,r){if(r&&r.biff>=2&&r.biff<=5)return nZ(e);var n=e.read_shift(r&&r.biff==12?4:2),a=Ed(e);return{r:n,c:a[0],cRel:a[1],rRel:a[2]}}function nZ(e){var t=Ed(e),r=e.read_shift(1);return{r:t[0],c:r,cRel:t[1],rRel:t[2]}}function aZ(e){var t=e.read_shift(2),r=e.read_shift(2);return{r:t,c:r&255,fQuoted:!!(r&16384),cRel:r>>15,rRel:r>>15}}function iZ(e,t,r){var n=r&&r.biff?r.biff:8;if(n>=2&&n<=5)return sZ(e);var a=e.read_shift(n>=12?4:2),i=e.read_shift(2),l=(i&16384)>>14,o=(i&32768)>>15;if(i&=16383,o==1)for(;a>524287;)a-=1048576;if(l==1)for(;i>8191;)i=i-16384;return{r:a,c:i,cRel:l,rRel:o}}function sZ(e){var t=e.read_shift(2),r=e.read_shift(1),n=(t&32768)>>15,a=(t&16384)>>14;return t&=16383,n==1&&t>=8192&&(t=t-16384),a==1&&r>=128&&(r=r-256),{r:t,c:r,cRel:a,rRel:n}}function lZ(e,t,r){var n=(e[e.l++]&96)>>5,a=FF(e,r.biff>=2&&r.biff<=5?6:8,r);return[n,a]}function oZ(e,t,r){var n=(e[e.l++]&96)>>5,a=e.read_shift(2,"i"),i=8;if(r)switch(r.biff){case 5:e.l+=12,i=6;break;case 12:i=12;break}var l=FF(e,i,r);return[n,a,l]}function cZ(e,t,r){var n=(e[e.l++]&96)>>5;return e.l+=r&&r.biff>8?12:r.biff<8?6:8,[n]}function uZ(e,t,r){var n=(e[e.l++]&96)>>5,a=e.read_shift(2),i=8;if(r)switch(r.biff){case 5:e.l+=12,i=6;break;case 12:i=12;break}return e.l+=i,[n,a]}function fZ(e,t,r){var n=(e[e.l++]&96)>>5,a=rZ(e,t-1,r);return[n,a]}function dZ(e,t,r){var n=(e[e.l++]&96)>>5;return e.l+=r.biff==2?6:r.biff==12?14:7,[n]}function Sk(e){var t=e[e.l+1]&1,r=1;return e.l+=4,[t,r]}function hZ(e,t,r){e.l+=2;for(var n=e.read_shift(r&&r.biff==2?1:2),a=[],i=0;i<=n;++i)a.push(e.read_shift(r&&r.biff==2?1:2));return a}function mZ(e,t,r){var n=e[e.l+1]&255?1:0;return e.l+=2,[n,e.read_shift(r&&r.biff==2?1:2)]}function pZ(e,t,r){var n=e[e.l+1]&255?1:0;return e.l+=2,[n,e.read_shift(r&&r.biff==2?1:2)]}function xZ(e){var t=e[e.l+1]&255?1:0;return e.l+=2,[t,e.read_shift(2)]}function gZ(e,t,r){var n=e[e.l+1]&255?1:0;return e.l+=r&&r.biff==2?3:4,[n]}function RF(e){var t=e.read_shift(1),r=e.read_shift(1);return[t,r]}function vZ(e){return e.read_shift(2),RF(e)}function yZ(e){return e.read_shift(2),RF(e)}function bZ(e,t,r){var n=(e[e.l]&96)>>5;e.l+=1;var a=MF(e,0,r);return[n,a]}function wZ(e,t,r){var n=(e[e.l]&96)>>5;e.l+=1;var a=iZ(e,0,r);return[n,a]}function _Z(e,t,r){var n=(e[e.l]&96)>>5;e.l+=1;var a=e.read_shift(2);r&&r.biff==5&&(e.l+=12);var i=MF(e,0,r);return[n,a,i]}function NZ(e,t,r){var n=(e[e.l]&96)>>5;e.l+=1;var a=e.read_shift(r&&r.biff<=3?1:2);return[AJ[a],UF[a],n]}function SZ(e,t,r){var n=e[e.l++],a=e.read_shift(1),i=r&&r.biff<=3?[n==88?-1:0,e.read_shift(1)]:jZ(e);return[a,(i[0]===0?UF:jJ)[i[1]]]}function jZ(e){return[e[e.l+1]>>7,e.read_shift(2)&32767]}function AZ(e,t,r){e.l+=r&&r.biff==2?3:4}function EZ(e,t,r){if(e.l++,r&&r.biff==12)return[e.read_shift(4,"i"),0];var n=e.read_shift(2),a=e.read_shift(r&&r.biff==2?1:2);return[n,a]}function kZ(e){return e.l++,_f[e.read_shift(1)]}function CZ(e){return e.l++,e.read_shift(2)}function TZ(e){return e.l++,e.read_shift(1)!==0}function OZ(e){return e.l++,Ns(e)}function DZ(e,t,r){return e.l++,wg(e,t-1,r)}function PZ(e,t){var r=[e.read_shift(1)];if(t==12)switch(r[0]){case 2:r[0]=4;break;case 4:r[0]=16;break;case 0:r[0]=1;break;case 1:r[0]=2;break}switch(r[0]){case 4:r[1]=$a(e,1)?"TRUE":"FALSE",t!=12&&(e.l+=7);break;case 37:case 16:r[1]=_f[e[e.l]],e.l+=t==12?4:8;break;case 0:e.l+=8;break;case 1:r[1]=Ns(e);break;case 2:r[1]=dh(e,0,{biff:t>0&&t<8?2:t});break;default:throw new Error("Bad SerAr: "+r[0])}return r}function FZ(e,t,r){for(var n=e.read_shift(r.biff==12?4:2),a=[],i=0;i!=n;++i)a.push((r.biff==12?fh:o2)(e));return a}function LZ(e,t,r){var n=0,a=0;r.biff==12?(n=e.read_shift(4),a=e.read_shift(4)):(a=1+e.read_shift(1),n=1+e.read_shift(2)),r.biff>=2&&r.biff<8&&(--n,--a==0&&(a=256));for(var i=0,l=[];i!=n&&(l[i]=[]);++i)for(var o=0;o!=a;++o)l[i][o]=PZ(e,r.biff);return l}function MZ(e,t,r){var n=e.read_shift(1)>>>5&3,a=!r||r.biff>=8?4:2,i=e.read_shift(a);switch(r.biff){case 2:e.l+=5;break;case 3:case 4:e.l+=8;break;case 5:e.l+=12;break}return[n,0,i]}function RZ(e,t,r){if(r.biff==5)return IZ(e);var n=e.read_shift(1)>>>5&3,a=e.read_shift(2),i=e.read_shift(4);return[n,a,i]}function IZ(e){var t=e.read_shift(1)>>>5&3,r=e.read_shift(2,"i");e.l+=8;var n=e.read_shift(2);return e.l+=12,[t,r,n]}function BZ(e,t,r){var n=e.read_shift(1)>>>5&3;e.l+=r&&r.biff==2?3:4;var a=e.read_shift(r&&r.biff==2?1:2);return[n,a]}function UZ(e,t,r){var n=e.read_shift(1)>>>5&3,a=e.read_shift(r&&r.biff==2?1:2);return[n,a]}function zZ(e,t,r){var n=e.read_shift(1)>>>5&3;return e.l+=4,r.biff<8&&e.l--,r.biff==12&&(e.l+=2),[n]}function qZ(e,t,r){var n=(e[e.l++]&96)>>5,a=e.read_shift(2),i=4;if(r)switch(r.biff){case 5:i=15;break;case 12:i=6;break}return e.l+=i,[n,a]}var $Z=ks,HZ=ks,VZ=ks;function Ng(e,t,r){return e.l+=2,[aZ(e)]}function v3(e){return e.l+=6,[]}var WZ=Ng,GZ=v3,KZ=v3,YZ=Ng;function IF(e){return e.l+=2,[ni(e),e.read_shift(2)&1]}var XZ=Ng,QZ=IF,ZZ=v3,JZ=Ng,eJ=Ng,tJ=["Data","All","Headers","??","?Data2","??","?DataHeaders","??","Totals","??","??","??","?DataTotals","??","??","??","?Current"];function rJ(e){e.l+=2;var t=e.read_shift(2),r=e.read_shift(2),n=e.read_shift(4),a=e.read_shift(2),i=e.read_shift(2),l=tJ[r>>2&31];return{ixti:t,coltype:r&3,rt:l,idx:n,c:a,C:i}}function nJ(e){return e.l+=2,[e.read_shift(4)]}function aJ(e,t,r){return e.l+=5,e.l+=2,e.l+=r.biff==2?1:4,["PTGSHEET"]}function iJ(e,t,r){return e.l+=r.biff==2?4:5,["PTGENDSHEET"]}function sJ(e){var t=e.read_shift(1)>>>5&3,r=e.read_shift(2);return[t,r]}function lJ(e){var t=e.read_shift(1)>>>5&3,r=e.read_shift(2);return[t,r]}function oJ(e){return e.l+=4,[0,0]}var jk={1:{n:"PtgExp",f:EZ},2:{n:"PtgTbl",f:VZ},3:{n:"PtgAdd",f:ti},4:{n:"PtgSub",f:ti},5:{n:"PtgMul",f:ti},6:{n:"PtgDiv",f:ti},7:{n:"PtgPower",f:ti},8:{n:"PtgConcat",f:ti},9:{n:"PtgLt",f:ti},10:{n:"PtgLe",f:ti},11:{n:"PtgEq",f:ti},12:{n:"PtgGe",f:ti},13:{n:"PtgGt",f:ti},14:{n:"PtgNe",f:ti},15:{n:"PtgIsect",f:ti},16:{n:"PtgUnion",f:ti},17:{n:"PtgRange",f:ti},18:{n:"PtgUplus",f:ti},19:{n:"PtgUminus",f:ti},20:{n:"PtgPercent",f:ti},21:{n:"PtgParen",f:ti},22:{n:"PtgMissArg",f:ti},23:{n:"PtgStr",f:DZ},26:{n:"PtgSheet",f:aJ},27:{n:"PtgEndSheet",f:iJ},28:{n:"PtgErr",f:kZ},29:{n:"PtgBool",f:TZ},30:{n:"PtgInt",f:CZ},31:{n:"PtgNum",f:OZ},32:{n:"PtgArray",f:dZ},33:{n:"PtgFunc",f:NZ},34:{n:"PtgFuncVar",f:SZ},35:{n:"PtgName",f:MZ},36:{n:"PtgRef",f:bZ},37:{n:"PtgArea",f:lZ},38:{n:"PtgMemArea",f:BZ},39:{n:"PtgMemErr",f:$Z},40:{n:"PtgMemNoMem",f:HZ},41:{n:"PtgMemFunc",f:UZ},42:{n:"PtgRefErr",f:zZ},43:{n:"PtgAreaErr",f:cZ},44:{n:"PtgRefN",f:wZ},45:{n:"PtgAreaN",f:fZ},46:{n:"PtgMemAreaN",f:sJ},47:{n:"PtgMemNoMemN",f:lJ},57:{n:"PtgNameX",f:RZ},58:{n:"PtgRef3d",f:_Z},59:{n:"PtgArea3d",f:oZ},60:{n:"PtgRefErr3d",f:qZ},61:{n:"PtgAreaErr3d",f:uZ},255:{}},cJ={64:32,96:32,65:33,97:33,66:34,98:34,67:35,99:35,68:36,100:36,69:37,101:37,70:38,102:38,71:39,103:39,72:40,104:40,73:41,105:41,74:42,106:42,75:43,107:43,76:44,108:44,77:45,109:45,78:46,110:46,79:47,111:47,88:34,120:34,89:57,121:57,90:58,122:58,91:59,123:59,92:60,124:60,93:61,125:61},uJ={1:{n:"PtgElfLel",f:IF},2:{n:"PtgElfRw",f:JZ},3:{n:"PtgElfCol",f:WZ},6:{n:"PtgElfRwV",f:eJ},7:{n:"PtgElfColV",f:YZ},10:{n:"PtgElfRadical",f:XZ},11:{n:"PtgElfRadicalS",f:ZZ},13:{n:"PtgElfColS",f:GZ},15:{n:"PtgElfColSV",f:KZ},16:{n:"PtgElfRadicalLel",f:QZ},25:{n:"PtgList",f:rJ},29:{n:"PtgSxName",f:nJ},255:{}},fJ={0:{n:"PtgAttrNoop",f:oJ},1:{n:"PtgAttrSemi",f:gZ},2:{n:"PtgAttrIf",f:pZ},4:{n:"PtgAttrChoose",f:hZ},8:{n:"PtgAttrGoto",f:mZ},16:{n:"PtgAttrSum",f:AZ},32:{n:"PtgAttrBaxcel",f:Sk},33:{n:"PtgAttrBaxcel",f:Sk},64:{n:"PtgAttrSpace",f:vZ},65:{n:"PtgAttrSpaceSemi",f:yZ},128:{n:"PtgAttrIfError",f:xZ},255:{}};function Sg(e,t,r,n){if(n.biff<8)return ks(e,t);for(var a=e.l+t,i=[],l=0;l!==r.length;++l)switch(r[l][0]){case"PtgArray":r[l][1]=LZ(e,0,n),i.push(r[l][1]);break;case"PtgMemArea":r[l][2]=FZ(e,r[l][1],n),i.push(r[l][2]);break;case"PtgExp":n&&n.biff==12&&(r[l][1][1]=e.read_shift(4),i.push(r[l][1]));break;case"PtgList":case"PtgElfRadicalS":case"PtgElfColS":case"PtgElfColSV":throw"Unsupported "+r[l][0]}return t=a-e.l,t!==0&&i.push(ks(e,t)),i}function jg(e,t,r){for(var n=e.l+t,a,i,l=[];n!=e.l;)t=n-e.l,i=e[e.l],a=jk[i]||jk[cJ[i]],(i===24||i===25)&&(a=(i===24?uJ:fJ)[e[e.l+1]]),!a||!a.f?ks(e,t):l.push([a.n,a.f(e,t,r)]);return l}function dJ(e){for(var t=[],r=0;r<e.length;++r){for(var n=e[r],a=[],i=0;i<n.length;++i){var l=n[i];if(l)switch(l[0]){case 2:a.push('"'+l[1].replace(/"/g,'""')+'"');break;default:a.push(l[1])}else a.push("")}t.push(a.join(","))}return t.join(";")}var hJ={PtgAdd:"+",PtgConcat:"&",PtgDiv:"/",PtgEq:"=",PtgGe:">=",PtgGt:">",PtgLe:"<=",PtgLt:"<",PtgMul:"*",PtgNe:"<>",PtgPower:"^",PtgSub:"-"};function mJ(e,t){if(!e&&!(t&&t.biff<=5&&t.biff>=2))throw new Error("empty sheet name");return/[^\w\u4E00-\u9FFF\u3040-\u30FF]/.test(e)?"'"+e+"'":e}function BF(e,t,r){if(!e)return"SH33TJSERR0";if(r.biff>8&&(!e.XTI||!e.XTI[t]))return e.SheetNames[t];if(!e.XTI)return"SH33TJSERR6";var n=e.XTI[t];if(r.biff<8)return t>1e4&&(t-=65536),t<0&&(t=-t),t==0?"":e.XTI[t-1];if(!n)return"SH33TJSERR1";var a="";if(r.biff>8)switch(e[n[0]][0]){case 357:return a=n[1]==-1?"#REF":e.SheetNames[n[1]],n[1]==n[2]?a:a+":"+e.SheetNames[n[2]];case 358:return r.SID!=null?e.SheetNames[r.SID]:"SH33TJSSAME"+e[n[0]][0];case 355:default:return"SH33TJSSRC"+e[n[0]][0]}switch(e[n[0]][0][0]){case 1025:return a=n[1]==-1?"#REF":e.SheetNames[n[1]]||"SH33TJSERR3",n[1]==n[2]?a:a+":"+e.SheetNames[n[2]];case 14849:return e[n[0]].slice(1).map(function(i){return i.Name}).join(";;");default:return e[n[0]][0][3]?(a=n[1]==-1?"#REF":e[n[0]][0][3][n[1]]||"SH33TJSERR4",n[1]==n[2]?a:a+":"+e[n[0]][0][3][n[2]]):"SH33TJSERR2"}}function Ak(e,t,r){var n=BF(e,t,r);return n=="#REF"?n:mJ(n,r)}function bs(e,t,r,n,a){var i=a&&a.biff||8,l={s:{c:0,r:0}},o=[],f,u,h,p=0,g=0,x,b="";if(!e[0]||!e[0][0])return"";for(var y=-1,w="",_=0,E=e[0].length;_<E;++_){var A=e[0][_];switch(A[0]){case"PtgUminus":o.push("-"+o.pop());break;case"PtgUplus":o.push("+"+o.pop());break;case"PtgPercent":o.push(o.pop()+"%");break;case"PtgAdd":case"PtgConcat":case"PtgDiv":case"PtgEq":case"PtgGe":case"PtgGt":case"PtgLe":case"PtgLt":case"PtgMul":case"PtgNe":case"PtgPower":case"PtgSub":if(f=o.pop(),u=o.pop(),y>=0){switch(e[0][y][1][0]){case 0:w=Fa(" ",e[0][y][1][1]);break;case 1:w=Fa("\r",e[0][y][1][1]);break;default:if(w="",a.WTF)throw new Error("Unexpected PtgAttrSpaceType "+e[0][y][1][0])}u=u+w,y=-1}o.push(u+hJ[A[0]]+f);break;case"PtgIsect":f=o.pop(),u=o.pop(),o.push(u+" "+f);break;case"PtgUnion":f=o.pop(),u=o.pop(),o.push(u+","+f);break;case"PtgRange":f=o.pop(),u=o.pop(),o.push(u+":"+f);break;case"PtgAttrChoose":break;case"PtgAttrGoto":break;case"PtgAttrIf":break;case"PtgAttrIfError":break;case"PtgRef":h=wx(A[1][1],l,a),o.push(_x(h,i));break;case"PtgRefN":h=r?wx(A[1][1],r,a):A[1][1],o.push(_x(h,i));break;case"PtgRef3d":p=A[1][1],h=wx(A[1][2],l,a),b=Ak(n,p,a),o.push(b+"!"+_x(h,i));break;case"PtgFunc":case"PtgFuncVar":var O=A[1][0],D=A[1][1];O||(O=0),O&=127;var R=O==0?[]:o.slice(-O);o.length-=O,D==="User"&&(D=R.shift()),o.push(D+"("+R.join(",")+")");break;case"PtgBool":o.push(A[1]?"TRUE":"FALSE");break;case"PtgInt":o.push(A[1]);break;case"PtgNum":o.push(String(A[1]));break;case"PtgStr":o.push('"'+A[1].replace(/"/g,'""')+'"');break;case"PtgErr":o.push(A[1]);break;case"PtgAreaN":x=tk(A[1][1],r?{s:r}:l,a),o.push(_w(x,a));break;case"PtgArea":x=tk(A[1][1],l,a),o.push(_w(x,a));break;case"PtgArea3d":p=A[1][1],x=A[1][2],b=Ak(n,p,a),o.push(b+"!"+_w(x,a));break;case"PtgAttrSum":o.push("SUM("+o.pop()+")");break;case"PtgAttrBaxcel":case"PtgAttrSemi":break;case"PtgName":g=A[1][2];var P=(n.names||[])[g-1]||(n[0]||[])[g],T=P?P.Name:"SH33TJSNAME"+String(g);T&&T.slice(0,6)=="_xlfn."&&!a.xlfn&&(T=T.slice(6)),o.push(T);break;case"PtgNameX":var B=A[1][1];g=A[1][2];var G;if(a.biff<=5)B<0&&(B=-B),n[B]&&(G=n[B][g]);else{var I="";if(((n[B]||[])[0]||[])[0]==14849||(((n[B]||[])[0]||[])[0]==1025?n[B][g]&&n[B][g].itab>0&&(I=n.SheetNames[n[B][g].itab-1]+"!"):I=n.SheetNames[g-1]+"!"),n[B]&&n[B][g])I+=n[B][g].Name;else if(n[0]&&n[0][g])I+=n[0][g].Name;else{var z=(BF(n,B,a)||"").split(";;");z[g-1]?I=z[g-1]:I+="SH33TJSERRX"}o.push(I);break}G||(G={Name:"SH33TJSERRY"}),o.push(G.Name);break;case"PtgParen":var K="(",J=")";if(y>=0){switch(w="",e[0][y][1][0]){case 2:K=Fa(" ",e[0][y][1][1])+K;break;case 3:K=Fa("\r",e[0][y][1][1])+K;break;case 4:J=Fa(" ",e[0][y][1][1])+J;break;case 5:J=Fa("\r",e[0][y][1][1])+J;break;default:if(a.WTF)throw new Error("Unexpected PtgAttrSpaceType "+e[0][y][1][0])}y=-1}o.push(K+o.pop()+J);break;case"PtgRefErr":o.push("#REF!");break;case"PtgRefErr3d":o.push("#REF!");break;case"PtgExp":h={c:A[1][1],r:A[1][0]};var pe={c:r.c,r:r.r};if(n.sharedf[ur(h)]){var ne=n.sharedf[ur(h)];o.push(bs(ne,l,pe,n,a))}else{var le=!1;for(f=0;f!=n.arrayf.length;++f)if(u=n.arrayf[f],!(h.c<u[0].s.c||h.c>u[0].e.c)&&!(h.r<u[0].s.r||h.r>u[0].e.r)){o.push(bs(u[1],l,pe,n,a)),le=!0;break}le||o.push(A[1])}break;case"PtgArray":o.push("{"+dJ(A[1])+"}");break;case"PtgMemArea":break;case"PtgAttrSpace":case"PtgAttrSpaceSemi":y=_;break;case"PtgTbl":break;case"PtgMemErr":break;case"PtgMissArg":o.push("");break;case"PtgAreaErr":o.push("#REF!");break;case"PtgAreaErr3d":o.push("#REF!");break;case"PtgList":o.push("Table"+A[1].idx+"[#"+A[1].rt+"]");break;case"PtgMemAreaN":case"PtgMemNoMemN":case"PtgAttrNoop":case"PtgSheet":case"PtgEndSheet":break;case"PtgMemFunc":break;case"PtgMemNoMem":break;case"PtgElfCol":case"PtgElfColS":case"PtgElfColSV":case"PtgElfColV":case"PtgElfLel":case"PtgElfRadical":case"PtgElfRadicalLel":case"PtgElfRadicalS":case"PtgElfRw":case"PtgElfRwV":throw new Error("Unsupported ELFs");case"PtgSxName":throw new Error("Unrecognized Formula Token: "+String(A));default:throw new Error("Unrecognized Formula Token: "+String(A))}var ve=["PtgAttrSpace","PtgAttrSpaceSemi","PtgAttrGoto"];if(a.biff!=3&&y>=0&&ve.indexOf(e[0][_][0])==-1){A=e[0][y];var ue=!0;switch(A[1][0]){case 4:ue=!1;case 0:w=Fa(" ",A[1][1]);break;case 5:ue=!1;case 1:w=Fa("\r",A[1][1]);break;default:if(w="",a.WTF)throw new Error("Unexpected PtgAttrSpaceType "+A[1][0])}o.push((ue?w:"")+o.pop()+(ue?"":w)),y=-1}}if(o.length>1&&a.WTF)throw new Error("bad formula stack");return o[0]}function pJ(e,t,r){var n=e.l+t,a=r.biff==2?1:2,i,l=e.read_shift(a);if(l==65535)return[[],ks(e,t-2)];var o=jg(e,l,r);return t!==l+a&&(i=Sg(e,t-l-a,o,r)),e.l=n,[o,i]}function xJ(e,t,r){var n=e.l+t,a=r.biff==2?1:2,i,l=e.read_shift(a);if(l==65535)return[[],ks(e,t-2)];var o=jg(e,l,r);return t!==l+a&&(i=Sg(e,t-l-a,o,r)),e.l=n,[o,i]}function gJ(e,t,r,n){var a=e.l+t,i=jg(e,n,r),l;return a!==e.l&&(l=Sg(e,a-e.l,i,r)),[i,l]}function vJ(e,t,r){var n=e.l+t,a,i=e.read_shift(2),l=jg(e,i,r);return i==65535?[[],ks(e,t-2)]:(t!==i+2&&(a=Sg(e,n-i-2,l,r)),[l,a])}function yJ(e){var t;if(Xu(e,e.l+6)!==65535)return[Ns(e),"n"];switch(e[e.l]){case 0:return e.l+=8,["String","s"];case 1:return t=e[e.l+2]===1,e.l+=8,[t,"b"];case 2:return t=e[e.l+2],e.l+=8,[t,"e"];case 3:return e.l+=8,["","s"]}return[]}function bJ(e){if(e==null){var t=Ze(8);return t.write_shift(1,3),t.write_shift(1,0),t.write_shift(2,0),t.write_shift(2,0),t.write_shift(2,65535),t}else if(typeof e=="number")return W0(e);return W0(0)}function Ew(e,t,r){var n=e.l+t,a=hu(e);r.biff==2&&++e.l;var i=yJ(e),l=e.read_shift(1);r.biff!=2&&(e.read_shift(1),r.biff>=5&&e.read_shift(4));var o=xJ(e,n-e.l,r);return{cell:a,val:i[0],formula:o,shared:l>>3&1,tt:i[1]}}function wJ(e,t,r,n,a){var i=K0(t,r,a),l=bJ(e.v),o=Ze(6),f=33;o.write_shift(2,f),o.write_shift(4,0);for(var u=Ze(e.bf.length),h=0;h<e.bf.length;++h)u[h]=e.bf[h];var p=Ii([i,l,o,u]);return p}function c2(e,t,r){var n=e.read_shift(4),a=jg(e,n,r),i=e.read_shift(4),l=i>0?Sg(e,i,a,r):null;return[a,l]}var _J=c2,u2=c2,NJ=c2,SJ=c2,jJ={0:"BEEP",1:"OPEN",2:"OPEN.LINKS",3:"CLOSE.ALL",4:"SAVE",5:"SAVE.AS",6:"FILE.DELETE",7:"PAGE.SETUP",8:"PRINT",9:"PRINTER.SETUP",10:"QUIT",11:"NEW.WINDOW",12:"ARRANGE.ALL",13:"WINDOW.SIZE",14:"WINDOW.MOVE",15:"FULL",16:"CLOSE",17:"RUN",22:"SET.PRINT.AREA",23:"SET.PRINT.TITLES",24:"SET.PAGE.BREAK",25:"REMOVE.PAGE.BREAK",26:"FONT",27:"DISPLAY",28:"PROTECT.DOCUMENT",29:"PRECISION",30:"A1.R1C1",31:"CALCULATE.NOW",32:"CALCULATION",34:"DATA.FIND",35:"EXTRACT",36:"DATA.DELETE",37:"SET.DATABASE",38:"SET.CRITERIA",39:"SORT",40:"DATA.SERIES",41:"TABLE",42:"FORMAT.NUMBER",43:"ALIGNMENT",44:"STYLE",45:"BORDER",46:"CELL.PROTECTION",47:"COLUMN.WIDTH",48:"UNDO",49:"CUT",50:"COPY",51:"PASTE",52:"CLEAR",53:"PASTE.SPECIAL",54:"EDIT.DELETE",55:"INSERT",56:"FILL.RIGHT",57:"FILL.DOWN",61:"DEFINE.NAME",62:"CREATE.NAMES",63:"FORMULA.GOTO",64:"FORMULA.FIND",65:"SELECT.LAST.CELL",66:"SHOW.ACTIVE.CELL",67:"GALLERY.AREA",68:"GALLERY.BAR",69:"GALLERY.COLUMN",70:"GALLERY.LINE",71:"GALLERY.PIE",72:"GALLERY.SCATTER",73:"COMBINATION",74:"PREFERRED",75:"ADD.OVERLAY",76:"GRIDLINES",77:"SET.PREFERRED",78:"AXES",79:"LEGEND",80:"ATTACH.TEXT",81:"ADD.ARROW",82:"SELECT.CHART",83:"SELECT.PLOT.AREA",84:"PATTERNS",85:"MAIN.CHART",86:"OVERLAY",87:"SCALE",88:"FORMAT.LEGEND",89:"FORMAT.TEXT",90:"EDIT.REPEAT",91:"PARSE",92:"JUSTIFY",93:"HIDE",94:"UNHIDE",95:"WORKSPACE",96:"FORMULA",97:"FORMULA.FILL",98:"FORMULA.ARRAY",99:"DATA.FIND.NEXT",100:"DATA.FIND.PREV",101:"FORMULA.FIND.NEXT",102:"FORMULA.FIND.PREV",103:"ACTIVATE",104:"ACTIVATE.NEXT",105:"ACTIVATE.PREV",106:"UNLOCKED.NEXT",107:"UNLOCKED.PREV",108:"COPY.PICTURE",109:"SELECT",110:"DELETE.NAME",111:"DELETE.FORMAT",112:"VLINE",113:"HLINE",114:"VPAGE",115:"HPAGE",116:"VSCROLL",117:"HSCROLL",118:"ALERT",119:"NEW",120:"CANCEL.COPY",121:"SHOW.CLIPBOARD",122:"MESSAGE",124:"PASTE.LINK",125:"APP.ACTIVATE",126:"DELETE.ARROW",127:"ROW.HEIGHT",128:"FORMAT.MOVE",129:"FORMAT.SIZE",130:"FORMULA.REPLACE",131:"SEND.KEYS",132:"SELECT.SPECIAL",133:"APPLY.NAMES",134:"REPLACE.FONT",135:"FREEZE.PANES",136:"SHOW.INFO",137:"SPLIT",138:"ON.WINDOW",139:"ON.DATA",140:"DISABLE.INPUT",142:"OUTLINE",143:"LIST.NAMES",144:"FILE.CLOSE",145:"SAVE.WORKBOOK",146:"DATA.FORM",147:"COPY.CHART",148:"ON.TIME",149:"WAIT",150:"FORMAT.FONT",151:"FILL.UP",152:"FILL.LEFT",153:"DELETE.OVERLAY",155:"SHORT.MENUS",159:"SET.UPDATE.STATUS",161:"COLOR.PALETTE",162:"DELETE.STYLE",163:"WINDOW.RESTORE",164:"WINDOW.MAXIMIZE",166:"CHANGE.LINK",167:"CALCULATE.DOCUMENT",168:"ON.KEY",169:"APP.RESTORE",170:"APP.MOVE",171:"APP.SIZE",172:"APP.MINIMIZE",173:"APP.MAXIMIZE",174:"BRING.TO.FRONT",175:"SEND.TO.BACK",185:"MAIN.CHART.TYPE",186:"OVERLAY.CHART.TYPE",187:"SELECT.END",188:"OPEN.MAIL",189:"SEND.MAIL",190:"STANDARD.FONT",191:"CONSOLIDATE",192:"SORT.SPECIAL",193:"GALLERY.3D.AREA",194:"GALLERY.3D.COLUMN",195:"GALLERY.3D.LINE",196:"GALLERY.3D.PIE",197:"VIEW.3D",198:"GOAL.SEEK",199:"WORKGROUP",200:"FILL.GROUP",201:"UPDATE.LINK",202:"PROMOTE",203:"DEMOTE",204:"SHOW.DETAIL",206:"UNGROUP",207:"OBJECT.PROPERTIES",208:"SAVE.NEW.OBJECT",209:"SHARE",210:"SHARE.NAME",211:"DUPLICATE",212:"APPLY.STYLE",213:"ASSIGN.TO.OBJECT",214:"OBJECT.PROTECTION",215:"HIDE.OBJECT",216:"SET.EXTRACT",217:"CREATE.PUBLISHER",218:"SUBSCRIBE.TO",219:"ATTRIBUTES",220:"SHOW.TOOLBAR",222:"PRINT.PREVIEW",223:"EDIT.COLOR",224:"SHOW.LEVELS",225:"FORMAT.MAIN",226:"FORMAT.OVERLAY",227:"ON.RECALC",228:"EDIT.SERIES",229:"DEFINE.STYLE",240:"LINE.PRINT",243:"ENTER.DATA",249:"GALLERY.RADAR",250:"MERGE.STYLES",251:"EDITION.OPTIONS",252:"PASTE.PICTURE",253:"PASTE.PICTURE.LINK",254:"SPELLING",256:"ZOOM",259:"INSERT.OBJECT",260:"WINDOW.MINIMIZE",265:"SOUND.NOTE",266:"SOUND.PLAY",267:"FORMAT.SHAPE",268:"EXTEND.POLYGON",269:"FORMAT.AUTO",272:"GALLERY.3D.BAR",273:"GALLERY.3D.SURFACE",274:"FILL.AUTO",276:"CUSTOMIZE.TOOLBAR",277:"ADD.TOOL",278:"EDIT.OBJECT",279:"ON.DOUBLECLICK",280:"ON.ENTRY",281:"WORKBOOK.ADD",282:"WORKBOOK.MOVE",283:"WORKBOOK.COPY",284:"WORKBOOK.OPTIONS",285:"SAVE.WORKSPACE",288:"CHART.WIZARD",289:"DELETE.TOOL",290:"MOVE.TOOL",291:"WORKBOOK.SELECT",292:"WORKBOOK.ACTIVATE",293:"ASSIGN.TO.TOOL",295:"COPY.TOOL",296:"RESET.TOOL",297:"CONSTRAIN.NUMERIC",298:"PASTE.TOOL",302:"WORKBOOK.NEW",305:"SCENARIO.CELLS",306:"SCENARIO.DELETE",307:"SCENARIO.ADD",308:"SCENARIO.EDIT",309:"SCENARIO.SHOW",310:"SCENARIO.SHOW.NEXT",311:"SCENARIO.SUMMARY",312:"PIVOT.TABLE.WIZARD",313:"PIVOT.FIELD.PROPERTIES",314:"PIVOT.FIELD",315:"PIVOT.ITEM",316:"PIVOT.ADD.FIELDS",318:"OPTIONS.CALCULATION",319:"OPTIONS.EDIT",320:"OPTIONS.VIEW",321:"ADDIN.MANAGER",322:"MENU.EDITOR",323:"ATTACH.TOOLBARS",324:"VBAActivate",325:"OPTIONS.CHART",328:"VBA.INSERT.FILE",330:"VBA.PROCEDURE.DEFINITION",336:"ROUTING.SLIP",338:"ROUTE.DOCUMENT",339:"MAIL.LOGON",342:"INSERT.PICTURE",343:"EDIT.TOOL",344:"GALLERY.DOUGHNUT",350:"CHART.TREND",352:"PIVOT.ITEM.PROPERTIES",354:"WORKBOOK.INSERT",355:"OPTIONS.TRANSITION",356:"OPTIONS.GENERAL",370:"FILTER.ADVANCED",373:"MAIL.ADD.MAILER",374:"MAIL.DELETE.MAILER",375:"MAIL.REPLY",376:"MAIL.REPLY.ALL",377:"MAIL.FORWARD",378:"MAIL.NEXT.LETTER",379:"DATA.LABEL",380:"INSERT.TITLE",381:"FONT.PROPERTIES",382:"MACRO.OPTIONS",383:"WORKBOOK.HIDE",384:"WORKBOOK.UNHIDE",385:"WORKBOOK.DELETE",386:"WORKBOOK.NAME",388:"GALLERY.CUSTOM",390:"ADD.CHART.AUTOFORMAT",391:"DELETE.CHART.AUTOFORMAT",392:"CHART.ADD.DATA",393:"AUTO.OUTLINE",394:"TAB.ORDER",395:"SHOW.DIALOG",396:"SELECT.ALL",397:"UNGROUP.SHEETS",398:"SUBTOTAL.CREATE",399:"SUBTOTAL.REMOVE",400:"RENAME.OBJECT",412:"WORKBOOK.SCROLL",413:"WORKBOOK.NEXT",414:"WORKBOOK.PREV",415:"WORKBOOK.TAB.SPLIT",416:"FULL.SCREEN",417:"WORKBOOK.PROTECT",420:"SCROLLBAR.PROPERTIES",421:"PIVOT.SHOW.PAGES",422:"TEXT.TO.COLUMNS",423:"FORMAT.CHARTTYPE",424:"LINK.FORMAT",425:"TRACER.DISPLAY",430:"TRACER.NAVIGATE",431:"TRACER.CLEAR",432:"TRACER.ERROR",433:"PIVOT.FIELD.GROUP",434:"PIVOT.FIELD.UNGROUP",435:"CHECKBOX.PROPERTIES",436:"LABEL.PROPERTIES",437:"LISTBOX.PROPERTIES",438:"EDITBOX.PROPERTIES",439:"PIVOT.REFRESH",440:"LINK.COMBO",441:"OPEN.TEXT",442:"HIDE.DIALOG",443:"SET.DIALOG.FOCUS",444:"ENABLE.OBJECT",445:"PUSHBUTTON.PROPERTIES",446:"SET.DIALOG.DEFAULT",447:"FILTER",448:"FILTER.SHOW.ALL",449:"CLEAR.OUTLINE",450:"FUNCTION.WIZARD",451:"ADD.LIST.ITEM",452:"SET.LIST.ITEM",453:"REMOVE.LIST.ITEM",454:"SELECT.LIST.ITEM",455:"SET.CONTROL.VALUE",456:"SAVE.COPY.AS",458:"OPTIONS.LISTS.ADD",459:"OPTIONS.LISTS.DELETE",460:"SERIES.AXES",461:"SERIES.X",462:"SERIES.Y",463:"ERRORBAR.X",464:"ERRORBAR.Y",465:"FORMAT.CHART",466:"SERIES.ORDER",467:"MAIL.LOGOFF",468:"CLEAR.ROUTING.SLIP",469:"APP.ACTIVATE.MICROSOFT",470:"MAIL.EDIT.MAILER",471:"ON.SHEET",472:"STANDARD.WIDTH",473:"SCENARIO.MERGE",474:"SUMMARY.INFO",475:"FIND.FILE",476:"ACTIVE.CELL.FONT",477:"ENABLE.TIPWIZARD",478:"VBA.MAKE.ADDIN",480:"INSERTDATATABLE",481:"WORKGROUP.OPTIONS",482:"MAIL.SEND.MAILER",485:"AUTOCORRECT",489:"POST.DOCUMENT",491:"PICKLIST",493:"VIEW.SHOW",494:"VIEW.DEFINE",495:"VIEW.DELETE",509:"SHEET.BACKGROUND",510:"INSERT.MAP.OBJECT",511:"OPTIONS.MENONO",517:"MSOCHECKS",518:"NORMAL",519:"LAYOUT",520:"RM.PRINT.AREA",521:"CLEAR.PRINT.AREA",522:"ADD.PRINT.AREA",523:"MOVE.BRK",545:"HIDECURR.NOTE",546:"HIDEALL.NOTES",547:"DELETE.NOTE",548:"TRAVERSE.NOTES",549:"ACTIVATE.NOTES",620:"PROTECT.REVISIONS",621:"UNPROTECT.REVISIONS",647:"OPTIONS.ME",653:"WEB.PUBLISH",667:"NEWWEBQUERY",673:"PIVOT.TABLE.CHART",753:"OPTIONS.SAVE",755:"OPTIONS.SPELL",808:"HIDEALL.INKANNOTS"},UF={0:"COUNT",1:"IF",2:"ISNA",3:"ISERROR",4:"SUM",5:"AVERAGE",6:"MIN",7:"MAX",8:"ROW",9:"COLUMN",10:"NA",11:"NPV",12:"STDEV",13:"DOLLAR",14:"FIXED",15:"SIN",16:"COS",17:"TAN",18:"ATAN",19:"PI",20:"SQRT",21:"EXP",22:"LN",23:"LOG10",24:"ABS",25:"INT",26:"SIGN",27:"ROUND",28:"LOOKUP",29:"INDEX",30:"REPT",31:"MID",32:"LEN",33:"VALUE",34:"TRUE",35:"FALSE",36:"AND",37:"OR",38:"NOT",39:"MOD",40:"DCOUNT",41:"DSUM",42:"DAVERAGE",43:"DMIN",44:"DMAX",45:"DSTDEV",46:"VAR",47:"DVAR",48:"TEXT",49:"LINEST",50:"TREND",51:"LOGEST",52:"GROWTH",53:"GOTO",54:"HALT",55:"RETURN",56:"PV",57:"FV",58:"NPER",59:"PMT",60:"RATE",61:"MIRR",62:"IRR",63:"RAND",64:"MATCH",65:"DATE",66:"TIME",67:"DAY",68:"MONTH",69:"YEAR",70:"WEEKDAY",71:"HOUR",72:"MINUTE",73:"SECOND",74:"NOW",75:"AREAS",76:"ROWS",77:"COLUMNS",78:"OFFSET",79:"ABSREF",80:"RELREF",81:"ARGUMENT",82:"SEARCH",83:"TRANSPOSE",84:"ERROR",85:"STEP",86:"TYPE",87:"ECHO",88:"SET.NAME",89:"CALLER",90:"DEREF",91:"WINDOWS",92:"SERIES",93:"DOCUMENTS",94:"ACTIVE.CELL",95:"SELECTION",96:"RESULT",97:"ATAN2",98:"ASIN",99:"ACOS",100:"CHOOSE",101:"HLOOKUP",102:"VLOOKUP",103:"LINKS",104:"INPUT",105:"ISREF",106:"GET.FORMULA",107:"GET.NAME",108:"SET.VALUE",109:"LOG",110:"EXEC",111:"CHAR",112:"LOWER",113:"UPPER",114:"PROPER",115:"LEFT",116:"RIGHT",117:"EXACT",118:"TRIM",119:"REPLACE",120:"SUBSTITUTE",121:"CODE",122:"NAMES",123:"DIRECTORY",124:"FIND",125:"CELL",126:"ISERR",127:"ISTEXT",128:"ISNUMBER",129:"ISBLANK",130:"T",131:"N",132:"FOPEN",133:"FCLOSE",134:"FSIZE",135:"FREADLN",136:"FREAD",137:"FWRITELN",138:"FWRITE",139:"FPOS",140:"DATEVALUE",141:"TIMEVALUE",142:"SLN",143:"SYD",144:"DDB",145:"GET.DEF",146:"REFTEXT",147:"TEXTREF",148:"INDIRECT",149:"REGISTER",150:"CALL",151:"ADD.BAR",152:"ADD.MENU",153:"ADD.COMMAND",154:"ENABLE.COMMAND",155:"CHECK.COMMAND",156:"RENAME.COMMAND",157:"SHOW.BAR",158:"DELETE.MENU",159:"DELETE.COMMAND",160:"GET.CHART.ITEM",161:"DIALOG.BOX",162:"CLEAN",163:"MDETERM",164:"MINVERSE",165:"MMULT",166:"FILES",167:"IPMT",168:"PPMT",169:"COUNTA",170:"CANCEL.KEY",171:"FOR",172:"WHILE",173:"BREAK",174:"NEXT",175:"INITIATE",176:"REQUEST",177:"POKE",178:"EXECUTE",179:"TERMINATE",180:"RESTART",181:"HELP",182:"GET.BAR",183:"PRODUCT",184:"FACT",185:"GET.CELL",186:"GET.WORKSPACE",187:"GET.WINDOW",188:"GET.DOCUMENT",189:"DPRODUCT",190:"ISNONTEXT",191:"GET.NOTE",192:"NOTE",193:"STDEVP",194:"VARP",195:"DSTDEVP",196:"DVARP",197:"TRUNC",198:"ISLOGICAL",199:"DCOUNTA",200:"DELETE.BAR",201:"UNREGISTER",204:"USDOLLAR",205:"FINDB",206:"SEARCHB",207:"REPLACEB",208:"LEFTB",209:"RIGHTB",210:"MIDB",211:"LENB",212:"ROUNDUP",213:"ROUNDDOWN",214:"ASC",215:"DBCS",216:"RANK",219:"ADDRESS",220:"DAYS360",221:"TODAY",222:"VDB",223:"ELSE",224:"ELSE.IF",225:"END.IF",226:"FOR.CELL",227:"MEDIAN",228:"SUMPRODUCT",229:"SINH",230:"COSH",231:"TANH",232:"ASINH",233:"ACOSH",234:"ATANH",235:"DGET",236:"CREATE.OBJECT",237:"VOLATILE",238:"LAST.ERROR",239:"CUSTOM.UNDO",240:"CUSTOM.REPEAT",241:"FORMULA.CONVERT",242:"GET.LINK.INFO",243:"TEXT.BOX",244:"INFO",245:"GROUP",246:"GET.OBJECT",247:"DB",248:"PAUSE",251:"RESUME",252:"FREQUENCY",253:"ADD.TOOLBAR",254:"DELETE.TOOLBAR",255:"User",256:"RESET.TOOLBAR",257:"EVALUATE",258:"GET.TOOLBAR",259:"GET.TOOL",260:"SPELLING.CHECK",261:"ERROR.TYPE",262:"APP.TITLE",263:"WINDOW.TITLE",264:"SAVE.TOOLBAR",265:"ENABLE.TOOL",266:"PRESS.TOOL",267:"REGISTER.ID",268:"GET.WORKBOOK",269:"AVEDEV",270:"BETADIST",271:"GAMMALN",272:"BETAINV",273:"BINOMDIST",274:"CHIDIST",275:"CHIINV",276:"COMBIN",277:"CONFIDENCE",278:"CRITBINOM",279:"EVEN",280:"EXPONDIST",281:"FDIST",282:"FINV",283:"FISHER",284:"FISHERINV",285:"FLOOR",286:"GAMMADIST",287:"GAMMAINV",288:"CEILING",289:"HYPGEOMDIST",290:"LOGNORMDIST",291:"LOGINV",292:"NEGBINOMDIST",293:"NORMDIST",294:"NORMSDIST",295:"NORMINV",296:"NORMSINV",297:"STANDARDIZE",298:"ODD",299:"PERMUT",300:"POISSON",301:"TDIST",302:"WEIBULL",303:"SUMXMY2",304:"SUMX2MY2",305:"SUMX2PY2",306:"CHITEST",307:"CORREL",308:"COVAR",309:"FORECAST",310:"FTEST",311:"INTERCEPT",312:"PEARSON",313:"RSQ",314:"STEYX",315:"SLOPE",316:"TTEST",317:"PROB",318:"DEVSQ",319:"GEOMEAN",320:"HARMEAN",321:"SUMSQ",322:"KURT",323:"SKEW",324:"ZTEST",325:"LARGE",326:"SMALL",327:"QUARTILE",328:"PERCENTILE",329:"PERCENTRANK",330:"MODE",331:"TRIMMEAN",332:"TINV",334:"MOVIE.COMMAND",335:"GET.MOVIE",336:"CONCATENATE",337:"POWER",338:"PIVOT.ADD.DATA",339:"GET.PIVOT.TABLE",340:"GET.PIVOT.FIELD",341:"GET.PIVOT.ITEM",342:"RADIANS",343:"DEGREES",344:"SUBTOTAL",345:"SUMIF",346:"COUNTIF",347:"COUNTBLANK",348:"SCENARIO.GET",349:"OPTIONS.LISTS.GET",350:"ISPMT",351:"DATEDIF",352:"DATESTRING",353:"NUMBERSTRING",354:"ROMAN",355:"OPEN.DIALOG",356:"SAVE.DIALOG",357:"VIEW.GET",358:"GETPIVOTDATA",359:"HYPERLINK",360:"PHONETIC",361:"AVERAGEA",362:"MAXA",363:"MINA",364:"STDEVPA",365:"VARPA",366:"STDEVA",367:"VARA",368:"BAHTTEXT",369:"THAIDAYOFWEEK",370:"THAIDIGIT",371:"THAIMONTHOFYEAR",372:"THAINUMSOUND",373:"THAINUMSTRING",374:"THAISTRINGLENGTH",375:"ISTHAIDIGIT",376:"ROUNDBAHTDOWN",377:"ROUNDBAHTUP",378:"THAIYEAR",379:"RTD",380:"CUBEVALUE",381:"CUBEMEMBER",382:"CUBEMEMBERPROPERTY",383:"CUBERANKEDMEMBER",384:"HEX2BIN",385:"HEX2DEC",386:"HEX2OCT",387:"DEC2BIN",388:"DEC2HEX",389:"DEC2OCT",390:"OCT2BIN",391:"OCT2HEX",392:"OCT2DEC",393:"BIN2DEC",394:"BIN2OCT",395:"BIN2HEX",396:"IMSUB",397:"IMDIV",398:"IMPOWER",399:"IMABS",400:"IMSQRT",401:"IMLN",402:"IMLOG2",403:"IMLOG10",404:"IMSIN",405:"IMCOS",406:"IMEXP",407:"IMARGUMENT",408:"IMCONJUGATE",409:"IMAGINARY",410:"IMREAL",411:"COMPLEX",412:"IMSUM",413:"IMPRODUCT",414:"SERIESSUM",415:"FACTDOUBLE",416:"SQRTPI",417:"QUOTIENT",418:"DELTA",419:"GESTEP",420:"ISEVEN",421:"ISODD",422:"MROUND",423:"ERF",424:"ERFC",425:"BESSELJ",426:"BESSELK",427:"BESSELY",428:"BESSELI",429:"XIRR",430:"XNPV",431:"PRICEMAT",432:"YIELDMAT",433:"INTRATE",434:"RECEIVED",435:"DISC",436:"PRICEDISC",437:"YIELDDISC",438:"TBILLEQ",439:"TBILLPRICE",440:"TBILLYIELD",441:"PRICE",442:"YIELD",443:"DOLLARDE",444:"DOLLARFR",445:"NOMINAL",446:"EFFECT",447:"CUMPRINC",448:"CUMIPMT",449:"EDATE",450:"EOMONTH",451:"YEARFRAC",452:"COUPDAYBS",453:"COUPDAYS",454:"COUPDAYSNC",455:"COUPNCD",456:"COUPNUM",457:"COUPPCD",458:"DURATION",459:"MDURATION",460:"ODDLPRICE",461:"ODDLYIELD",462:"ODDFPRICE",463:"ODDFYIELD",464:"RANDBETWEEN",465:"WEEKNUM",466:"AMORDEGRC",467:"AMORLINC",468:"CONVERT",724:"SHEETJS",469:"ACCRINT",470:"ACCRINTM",471:"WORKDAY",472:"NETWORKDAYS",473:"GCD",474:"MULTINOMIAL",475:"LCM",476:"FVSCHEDULE",477:"CUBEKPIMEMBER",478:"CUBESET",479:"CUBESETCOUNT",480:"IFERROR",481:"COUNTIFS",482:"SUMIFS",483:"AVERAGEIF",484:"AVERAGEIFS"},AJ={2:1,3:1,10:0,15:1,16:1,17:1,18:1,19:0,20:1,21:1,22:1,23:1,24:1,25:1,26:1,27:2,30:2,31:3,32:1,33:1,34:0,35:0,38:1,39:2,40:3,41:3,42:3,43:3,44:3,45:3,47:3,48:2,53:1,61:3,63:0,65:3,66:3,67:1,68:1,69:1,70:1,71:1,72:1,73:1,74:0,75:1,76:1,77:1,79:2,80:2,83:1,85:0,86:1,89:0,90:1,94:0,95:0,97:2,98:1,99:1,101:3,102:3,105:1,106:1,108:2,111:1,112:1,113:1,114:1,117:2,118:1,119:4,121:1,126:1,127:1,128:1,129:1,130:1,131:1,133:1,134:1,135:1,136:2,137:2,138:2,140:1,141:1,142:3,143:4,144:4,161:1,162:1,163:1,164:1,165:2,172:1,175:2,176:2,177:3,178:2,179:1,184:1,186:1,189:3,190:1,195:3,196:3,197:1,198:1,199:3,201:1,207:4,210:3,211:1,212:2,213:2,214:1,215:1,225:0,229:1,230:1,231:1,232:1,233:1,234:1,235:3,244:1,247:4,252:2,257:1,261:1,271:1,273:4,274:2,275:2,276:2,277:3,278:3,279:1,280:3,281:3,282:3,283:1,284:1,285:2,286:4,287:3,288:2,289:4,290:3,291:3,292:3,293:4,294:1,295:3,296:1,297:3,298:1,299:2,300:3,301:3,302:4,303:2,304:2,305:2,306:2,307:2,308:2,309:3,310:2,311:2,312:2,313:2,314:2,315:2,316:4,325:2,326:2,327:2,328:2,331:2,332:2,337:2,342:1,343:1,346:2,347:1,350:4,351:3,352:1,353:2,360:1,368:1,369:1,370:1,371:1,372:1,373:1,374:1,375:1,376:1,377:1,378:1,382:3,385:1,392:1,393:1,396:2,397:2,398:2,399:1,400:1,401:1,402:1,403:1,404:1,405:1,406:1,407:1,408:1,409:1,410:1,414:4,415:1,416:1,417:2,420:1,421:1,422:2,424:1,425:2,426:2,427:2,428:2,430:3,438:3,439:3,440:3,443:2,444:2,445:2,446:2,447:6,448:6,449:2,450:2,464:2,468:3,476:2,479:1,480:2,65535:0};function Ek(e){return e.slice(0,3)=="of:"&&(e=e.slice(3)),e.charCodeAt(0)==61&&(e=e.slice(1),e.charCodeAt(0)==61&&(e=e.slice(1))),e=e.replace(/COM\.MICROSOFT\./g,""),e=e.replace(/\[((?:\.[A-Z]+[0-9]+)(?::\.[A-Z]+[0-9]+)?)\]/g,function(t,r){return r.replace(/\./g,"")}),e=e.replace(/\[.(#[A-Z]*[?!])\]/g,"$1"),e.replace(/[;~]/g,",").replace(/\|/g,";")}function EJ(e){var t="of:="+e.replace(x3,"$1[.$2$3$4$5]").replace(/\]:\[/g,":");return t.replace(/;/g,"|").replace(/,/g,";")}function kw(e){var t=e.split(":"),r=t[0].split(".")[0];return[r,t[0].split(".")[1]+(t.length>1?":"+(t[1].split(".")[1]||t[1].split(".")[0]):"")]}function kJ(e){return e.replace(/\./,"!")}var Sx={},Cm={},jx=typeof Map<"u";function y3(e,t,r){var n=0,a=e.length;if(r){if(jx?r.has(t):Object.prototype.hasOwnProperty.call(r,t)){for(var i=jx?r.get(t):r[t];n<i.length;++n)if(e[i[n]].t===t)return e.Count++,i[n]}}else for(;n<a;++n)if(e[n].t===t)return e.Count++,n;return e[a]={t},e.Count++,e.Unique++,r&&(jx?(r.has(t)||r.set(t,[]),r.get(t).push(a)):(Object.prototype.hasOwnProperty.call(r,t)||(r[t]=[]),r[t].push(a))),a}function f2(e,t){var r={min:e+1,max:e+1},n=-1;return t.MDW&&(ws=t.MDW),t.width!=null?r.customWidth=1:t.wpx!=null?n=Gx(t.wpx):t.wch!=null&&(n=t.wch),n>-1?(r.width=iy(n),r.customWidth=1):t.width!=null&&(r.width=t.width),t.hidden&&(r.hidden=!0),t.level!=null&&(r.outlineLevel=r.level=t.level),r}function F0(e,t){if(e){var r=[.7,.7,.75,.75,.3,.3];t=="xlml"&&(r=[1,1,1,1,.5,.5]),e.left==null&&(e.left=r[0]),e.right==null&&(e.right=r[1]),e.top==null&&(e.top=r[2]),e.bottom==null&&(e.bottom=r[3]),e.header==null&&(e.header=r[4]),e.footer==null&&(e.footer=r[5])}}function Id(e,t,r){var n=r.revssf[t.z!=null?t.z:"General"],a=60,i=e.length;if(n==null&&r.ssf){for(;a<392;++a)if(r.ssf[a]==null){nf(t.z,a),r.ssf[a]=t.z,r.revssf[t.z]=n=a;break}}for(a=0;a!=i;++a)if(e[a].numFmtId===n)return a;return e[i]={numFmtId:n,fontId:0,fillId:0,borderId:0,xfId:0,applyNumberFormat:1},i}function zF(e,t,r,n,a,i){try{n.cellNF&&(e.z=cr[t])}catch(o){if(n.WTF)throw o}if(!(e.t==="z"&&!n.cellStyles)){if(e.t==="d"&&typeof e.v=="string"&&(e.v=Zn(e.v)),(!n||n.cellText!==!1)&&e.t!=="z")try{if(cr[t]==null&&nf(jW[t]||"General",t),e.t==="e")e.w=e.w||_f[e.v];else if(t===0)if(e.t==="n")(e.v|0)===e.v?e.w=e.v.toString(10):e.w=Ux(e.v);else if(e.t==="d"){var l=_i(e.v);(l|0)===l?e.w=l.toString(10):e.w=Ux(l)}else{if(e.v===void 0)return"";e.w=H0(e.v,Cm)}else e.t==="d"?e.w=Bo(t,_i(e.v),Cm):e.w=Bo(t,e.v,Cm)}catch(o){if(n.WTF)throw o}if(n.cellStyles&&r!=null)try{e.s=i.Fills[r],e.s.fgColor&&e.s.fgColor.theme&&!e.s.fgColor.rgb&&(e.s.fgColor.rgb=ay(a.themeElements.clrScheme[e.s.fgColor.theme].rgb,e.s.fgColor.tint||0),n.WTF&&(e.s.fgColor.raw_rgb=a.themeElements.clrScheme[e.s.fgColor.theme].rgb)),e.s.bgColor&&e.s.bgColor.theme&&(e.s.bgColor.rgb=ay(a.themeElements.clrScheme[e.s.bgColor.theme].rgb,e.s.bgColor.tint||0),n.WTF&&(e.s.bgColor.raw_rgb=a.themeElements.clrScheme[e.s.bgColor.theme].rgb))}catch(o){if(n.WTF&&i.Fills)throw o}}}function CJ(e,t,r){if(e&&e["!ref"]){var n=Zr(e["!ref"]);if(n.e.c<n.s.c||n.e.r<n.s.r)throw new Error("Bad range ("+r+"): "+e["!ref"])}}function TJ(e,t){var r=Zr(t);r.s.r<=r.e.r&&r.s.c<=r.e.c&&r.s.r>=0&&r.s.c>=0&&(e["!ref"]=_r(r))}var OJ=/<(?:\w:)?mergeCell ref="[A-Z0-9:]+"\s*[\/]?>/g,DJ=/<(?:\w+:)?sheetData[^>]*>([\s\S]*)<\/(?:\w+:)?sheetData>/,PJ=/<(?:\w:)?hyperlink [^>]*>/mg,FJ=/"(\w*:\w*)"/,LJ=/<(?:\w:)?col\b[^>]*[\/]?>/g,MJ=/<(?:\w:)?autoFilter[^>]*([\/]|>([\s\S]*)<\/(?:\w:)?autoFilter)>/g,RJ=/<(?:\w:)?pageMargins[^>]*\/>/g,qF=/<(?:\w:)?sheetPr\b(?:[^>a-z][^>]*)?\/>/,IJ=/<(?:\w:)?sheetPr[^>]*(?:[\/]|>([\s\S]*)<\/(?:\w:)?sheetPr)>/,BJ=/<(?:\w:)?sheetViews[^>]*(?:[\/]|>([\s\S]*)<\/(?:\w:)?sheetViews)>/;function UJ(e,t,r,n,a,i,l){if(!e)return e;n||(n={"!id":{}});var o=t.dense?[]:{},f={s:{r:2e6,c:2e6},e:{r:0,c:0}},u="",h="",p=e.match(DJ);p?(u=e.slice(0,p.index),h=e.slice(p.index+p[0].length)):u=h=e;var g=u.match(qF);g?b3(g[0],o,a,r):(g=u.match(IJ))&&qJ(g[0],g[1]||"",o,a,r);var x=(u.match(/<(?:\w*:)?dimension/)||{index:-1}).index;if(x>0){var b=u.slice(x,x+50).match(FJ);b&&TJ(o,b[1])}var y=u.match(BJ);y&&y[1]&&tee(y[1],a);var w=[];if(t.cellStyles){var _=u.match(LJ);_&&XJ(w,_)}p&&aee(p[1],o,t,f,i,l);var E=h.match(MJ);E&&(o["!autofilter"]=ZJ(E[0]));var A=[],O=h.match(OJ);if(O)for(x=0;x!=O.length;++x)A[x]=Zr(O[x].slice(O[x].indexOf('"')+1));var D=h.match(PJ);D&&GJ(o,D,n);var R=h.match(RJ);if(R&&(o["!margins"]=KJ(dr(R[0]))),!o["!ref"]&&f.e.c>=f.s.c&&f.e.r>=f.s.r&&(o["!ref"]=_r(f)),t.sheetRows>0&&o["!ref"]){var P=Zr(o["!ref"]);t.sheetRows<=+P.e.r&&(P.e.r=t.sheetRows-1,P.e.r>f.e.r&&(P.e.r=f.e.r),P.e.r<P.s.r&&(P.s.r=P.e.r),P.e.c>f.e.c&&(P.e.c=f.e.c),P.e.c<P.s.c&&(P.s.c=P.e.c),o["!fullref"]=o["!ref"],o["!ref"]=_r(P))}return w.length>0&&(o["!cols"]=w),A.length>0&&(o["!merges"]=A),o}function zJ(e){if(e.length===0)return"";for(var t='<mergeCells count="'+e.length+'">',r=0;r!=e.length;++r)t+='<mergeCell ref="'+_r(e[r])+'"/>';return t+"</mergeCells>"}function b3(e,t,r,n){var a=dr(e);r.Sheets[n]||(r.Sheets[n]={}),a.codeName&&(r.Sheets[n].CodeName=Xr(Dn(a.codeName)))}function qJ(e,t,r,n,a){b3(e.slice(0,e.indexOf(">")),r,n,a)}function $J(e,t,r,n,a){var i=!1,l={},o=null;if(n.bookType!=="xlsx"&&t.vbaraw){var f=t.SheetNames[r];try{t.Workbook&&(f=t.Workbook.Sheets[r].CodeName||f)}catch{}i=!0,l.codeName=iu(Nn(f))}if(e&&e["!outline"]){var u={summaryBelow:1,summaryRight:1};e["!outline"].above&&(u.summaryBelow=0),e["!outline"].left&&(u.summaryRight=0),o=(o||"")+gt("outlinePr",null,u)}!i&&!o||(a[a.length]=gt("sheetPr",o,l))}var HJ=["objects","scenarios","selectLockedCells","selectUnlockedCells"],VJ=["formatColumns","formatRows","formatCells","insertColumns","insertRows","insertHyperlinks","deleteColumns","deleteRows","sort","autoFilter","pivotTables"];function WJ(e){var t={sheet:1};return HJ.forEach(function(r){e[r]!=null&&e[r]&&(t[r]="1")}),VJ.forEach(function(r){e[r]!=null&&!e[r]&&(t[r]="0")}),e.password&&(t.password=h3(e.password).toString(16).toUpperCase()),gt("sheetProtection",null,t)}function GJ(e,t,r){for(var n=Array.isArray(e),a=0;a!=t.length;++a){var i=dr(Dn(t[a]),!0);if(!i.ref)return;var l=((r||{})["!id"]||[])[i.id];l?(i.Target=l.Target,i.location&&(i.Target+="#"+Xr(i.location))):(i.Target="#"+Xr(i.location),l={Target:i.Target,TargetMode:"Internal"}),i.Rel=l,i.tooltip&&(i.Tooltip=i.tooltip,delete i.tooltip);for(var o=Zr(i.ref),f=o.s.r;f<=o.e.r;++f)for(var u=o.s.c;u<=o.e.c;++u){var h=ur({c:u,r:f});n?(e[f]||(e[f]=[]),e[f][u]||(e[f][u]={t:"z",v:void 0}),e[f][u].l=i):(e[h]||(e[h]={t:"z",v:void 0}),e[h].l=i)}}}function KJ(e){var t={};return["left","right","top","bottom","header","footer"].forEach(function(r){e[r]&&(t[r]=parseFloat(e[r]))}),t}function YJ(e){return F0(e),gt("pageMargins",null,e)}function XJ(e,t){for(var r=!1,n=0;n!=t.length;++n){var a=dr(t[n],!0);a.hidden&&(a.hidden=Xn(a.hidden));var i=parseInt(a.min,10)-1,l=parseInt(a.max,10)-1;for(a.outlineLevel&&(a.level=+a.outlineLevel||0),delete a.min,delete a.max,a.width=+a.width,!r&&a.width&&(r=!0,m3(a.width)),Ad(a);i<=l;)e[i++]=Jn(a)}}function QJ(e,t){for(var r=["<cols>"],n,a=0;a!=t.length;++a)(n=t[a])&&(r[r.length]=gt("col",null,f2(a,n)));return r[r.length]="</cols>",r.join("")}function ZJ(e){var t={ref:(e.match(/ref="([^"]*)"/)||[])[1]};return t}function JJ(e,t,r,n){var a=typeof e.ref=="string"?e.ref:_r(e.ref);r.Workbook||(r.Workbook={Sheets:[]}),r.Workbook.Names||(r.Workbook.Names=[]);var i=r.Workbook.Names,l=kl(a);l.s.r==l.e.r&&(l.e.r=kl(t["!ref"]).e.r,a=_r(l));for(var o=0;o<i.length;++o){var f=i[o];if(f.Name=="_xlnm._FilterDatabase"&&f.Sheet==n){f.Ref="'"+r.SheetNames[n]+"'!"+a;break}}return o==i.length&&i.push({Name:"_xlnm._FilterDatabase",Sheet:n,Ref:"'"+r.SheetNames[n]+"'!"+a}),gt("autoFilter",null,{ref:a})}var eee=/<(?:\w:)?sheetView(?:[^>a-z][^>]*)?\/?>/;function tee(e,t){t.Views||(t.Views=[{}]),(e.match(eee)||[]).forEach(function(r,n){var a=dr(r);t.Views[n]||(t.Views[n]={}),+a.zoomScale&&(t.Views[n].zoom=+a.zoomScale),Xn(a.rightToLeft)&&(t.Views[n].RTL=!0)})}function ree(e,t,r,n){var a={workbookViewId:"0"};return(((n||{}).Workbook||{}).Views||[])[0]&&(a.rightToLeft=n.Workbook.Views[0].RTL?"1":"0"),gt("sheetViews",gt("sheetView",null,a),{})}function nee(e,t,r,n){if(e.c&&r["!comments"].push([t,e.c]),e.v===void 0&&typeof e.f!="string"||e.t==="z"&&!e.f)return"";var a="",i=e.t,l=e.v;if(e.t!=="z")switch(e.t){case"b":a=e.v?"1":"0";break;case"n":a=""+e.v;break;case"e":a=_f[e.v];break;case"d":n&&n.cellDates?a=Zn(e.v,-1).toISOString():(e=Jn(e),e.t="n",a=""+(e.v=_i(Zn(e.v)))),typeof e.z>"u"&&(e.z=cr[14]);break;default:a=e.v;break}var o=as("v",Nn(a)),f={r:t},u=Id(n.cellXfs,e,n);switch(u!==0&&(f.s=u),e.t){case"n":break;case"d":f.t="d";break;case"b":f.t="b";break;case"e":f.t="e";break;case"z":break;default:if(e.v==null){delete e.t;break}if(e.v.length>32767)throw new Error("Text length must not exceed 32767 characters");if(n&&n.bookSST){o=as("v",""+y3(n.Strings,e.v,n.revStrings)),f.t="s";break}f.t="str";break}if(e.t!=i&&(e.t=i,e.v=l),typeof e.f=="string"&&e.f){var h=e.F&&e.F.slice(0,t.length)==t?{t:"array",ref:e.F}:null;o=gt("f",Nn(e.f),h)+(e.v!=null?o:"")}return e.l&&r["!links"].push([t,e.l]),e.D&&(f.cm=1),gt("c",o,f)}var aee=(function(){var e=/<(?:\w+:)?c[ \/>]/,t=/<\/(?:\w+:)?row>/,r=/r=["']([^"']*)["']/,n=/<(?:\w+:)?is>([\S\s]*?)<\/(?:\w+:)?is>/,a=/ref=["']([^"']*)["']/,i=zx("v"),l=zx("f");return function(f,u,h,p,g,x){for(var b=0,y="",w=[],_=[],E=0,A=0,O=0,D="",R,P,T=0,B=0,G,I,z=0,K=0,J=Array.isArray(x.CellXf),pe,ne=[],le=[],ve=Array.isArray(u),ue=[],je={},te=!1,F=!!h.sheetStubs,M=f.split(t),q=0,W=M.length;q!=W;++q){y=M[q].trim();var Z=y.length;if(Z!==0){var oe=0;e:for(b=0;b<Z;++b)switch(y[b]){case">":if(y[b-1]!="/"){++b;break e}if(h&&h.cellStyles){if(P=dr(y.slice(oe,b),!0),T=P.r!=null?parseInt(P.r,10):T+1,B=-1,h.sheetRows&&h.sheetRows<T)continue;je={},te=!1,P.ht&&(te=!0,je.hpt=parseFloat(P.ht),je.hpx=Bm(je.hpt)),P.hidden=="1"&&(te=!0,je.hidden=!0),P.outlineLevel!=null&&(te=!0,je.level=+P.outlineLevel),te&&(ue[T-1]=je)}break;case"<":oe=b;break}if(oe>=b)break;if(P=dr(y.slice(oe,b),!0),T=P.r!=null?parseInt(P.r,10):T+1,B=-1,!(h.sheetRows&&h.sheetRows<T)){p.s.r>T-1&&(p.s.r=T-1),p.e.r<T-1&&(p.e.r=T-1),h&&h.cellStyles&&(je={},te=!1,P.ht&&(te=!0,je.hpt=parseFloat(P.ht),je.hpx=Bm(je.hpt)),P.hidden=="1"&&(te=!0,je.hidden=!0),P.outlineLevel!=null&&(te=!0,je.level=+P.outlineLevel),te&&(ue[T-1]=je)),w=y.slice(b).split(e);for(var ce=0;ce!=w.length&&w[ce].trim().charAt(0)=="<";++ce);for(w=w.slice(ce),b=0;b!=w.length;++b)if(y=w[b].trim(),y.length!==0){if(_=y.match(r),E=b,A=0,O=0,y="<c "+(y.slice(0,1)=="<"?">":"")+y,_!=null&&_.length===2){for(E=0,D=_[1],A=0;A!=D.length&&!((O=D.charCodeAt(A)-64)<1||O>26);++A)E=26*E+O;--E,B=E}else++B;for(A=0;A!=y.length&&y.charCodeAt(A)!==62;++A);if(++A,P=dr(y.slice(0,A),!0),P.r||(P.r=ur({r:T-1,c:B})),D=y.slice(A),R={t:""},(_=D.match(i))!=null&&_[1]!==""&&(R.v=Xr(_[1])),h.cellFormula){if((_=D.match(l))!=null&&_[1]!==""){if(R.f=Xr(Dn(_[1])).replace(/\r\n/g,`
`),h.xlfn||(R.f=Nk(R.f)),_[0].indexOf('t="array"')>-1)R.F=(D.match(a)||[])[1],R.F.indexOf(":")>-1&&ne.push([Zr(R.F),R.F]);else if(_[0].indexOf('t="shared"')>-1){I=dr(_[0]);var ae=Xr(Dn(_[1]));h.xlfn||(ae=Nk(ae)),le[parseInt(I.si,10)]=[I,ae,P.r]}}else(_=D.match(/<f[^>]*\/>/))&&(I=dr(_[0]),le[I.si]&&(R.f=eZ(le[I.si][1],le[I.si][2],P.r)));var Se=Sa(P.r);for(A=0;A<ne.length;++A)Se.r>=ne[A][0].s.r&&Se.r<=ne[A][0].e.r&&Se.c>=ne[A][0].s.c&&Se.c<=ne[A][0].e.c&&(R.F=ne[A][1])}if(P.t==null&&R.v===void 0)if(R.f||R.F)R.v=0,R.t="n";else if(F)R.t="z";else continue;else R.t=P.t||"n";switch(p.s.c>B&&(p.s.c=B),p.e.c<B&&(p.e.c=B),R.t){case"n":if(R.v==""||R.v==null){if(!F)continue;R.t="z"}else R.v=parseFloat(R.v);break;case"s":if(typeof R.v>"u"){if(!F)continue;R.t="z"}else G=Sx[parseInt(R.v,10)],R.v=G.t,R.r=G.r,h.cellHTML&&(R.h=G.h);break;case"str":R.t="s",R.v=R.v!=null?Dn(R.v):"",h.cellHTML&&(R.h=ZN(R.v));break;case"inlineStr":_=D.match(n),R.t="s",_!=null&&(G=d3(_[1]))?(R.v=G.t,h.cellHTML&&(R.h=G.h)):R.v="";break;case"b":R.v=Xn(R.v);break;case"d":h.cellDates?R.v=Zn(R.v,1):(R.v=_i(Zn(R.v,1)),R.t="n");break;case"e":(!h||h.cellText!==!1)&&(R.w=R.v),R.v=HP[R.v];break}if(z=K=0,pe=null,J&&P.s!==void 0&&(pe=x.CellXf[P.s],pe!=null&&(pe.numFmtId!=null&&(z=pe.numFmtId),h.cellStyles&&pe.fillId!=null&&(K=pe.fillId))),zF(R,z,K,h,g,x),h.cellDates&&J&&R.t=="n"&&tp(cr[z])&&(R.t="d",R.v=l2(R.v)),P.cm&&h.xlmeta){var De=(h.xlmeta.Cell||[])[+P.cm-1];De&&De.type=="XLDAPR"&&(R.D=!0)}if(ve){var X=Sa(P.r);u[X.r]||(u[X.r]=[]),u[X.r][X.c]=R}else u[P.r]=R}}}}ue.length>0&&(u["!rows"]=ue)}})();function iee(e,t,r,n){var a=[],i=[],l=Zr(e["!ref"]),o="",f,u="",h=[],p=0,g=0,x=e["!rows"],b=Array.isArray(e),y={r:u},w,_=-1;for(g=l.s.c;g<=l.e.c;++g)h[g]=Na(g);for(p=l.s.r;p<=l.e.r;++p){for(i=[],u=Ka(p),g=l.s.c;g<=l.e.c;++g){f=h[g]+u;var E=b?(e[p]||[])[g]:e[f];E!==void 0&&(o=nee(E,f,e,t))!=null&&i.push(o)}(i.length>0||x&&x[p])&&(y={r:u},x&&x[p]&&(w=x[p],w.hidden&&(y.hidden=1),_=-1,w.hpx?_=Kx(w.hpx):w.hpt&&(_=w.hpt),_>-1&&(y.ht=_,y.customHeight=1),w.level&&(y.outlineLevel=w.level)),a[a.length]=gt("row",i.join(""),y))}if(x)for(;p<x.length;++p)x&&x[p]&&(y={r:p+1},w=x[p],w.hidden&&(y.hidden=1),_=-1,w.hpx?_=Kx(w.hpx):w.hpt&&(_=w.hpt),_>-1&&(y.ht=_,y.customHeight=1),w.level&&(y.outlineLevel=w.level),a[a.length]=gt("row","",y));return a.join("")}function $F(e,t,r,n){var a=[Ya,gt("worksheet",null,{xmlns:lh[0],"xmlns:r":bi.r})],i=r.SheetNames[e],l=0,o="",f=r.Sheets[i];f==null&&(f={});var u=f["!ref"]||"A1",h=Zr(u);if(h.e.c>16383||h.e.r>1048575){if(t.WTF)throw new Error("Range "+u+" exceeds format limit A1:XFD1048576");h.e.c=Math.min(h.e.c,16383),h.e.r=Math.min(h.e.c,1048575),u=_r(h)}n||(n={}),f["!comments"]=[];var p=[];$J(f,r,e,t,a),a[a.length]=gt("dimension",null,{ref:u}),a[a.length]=ree(f,t,e,r),t.sheetFormat&&(a[a.length]=gt("sheetFormatPr",null,{defaultRowHeight:t.sheetFormat.defaultRowHeight||"16",baseColWidth:t.sheetFormat.baseColWidth||"10",outlineLevelRow:t.sheetFormat.outlineLevelRow||"7"})),f["!cols"]!=null&&f["!cols"].length>0&&(a[a.length]=QJ(f,f["!cols"])),a[l=a.length]="<sheetData/>",f["!links"]=[],f["!ref"]!=null&&(o=iee(f,t),o.length>0&&(a[a.length]=o)),a.length>l+1&&(a[a.length]="</sheetData>",a[l]=a[l].replace("/>",">")),f["!protect"]&&(a[a.length]=WJ(f["!protect"])),f["!autofilter"]!=null&&(a[a.length]=JJ(f["!autofilter"],f,r,e)),f["!merges"]!=null&&f["!merges"].length>0&&(a[a.length]=zJ(f["!merges"]));var g=-1,x,b=-1;return f["!links"].length>0&&(a[a.length]="<hyperlinks>",f["!links"].forEach(function(y){y[1].Target&&(x={ref:y[0]},y[1].Target.charAt(0)!="#"&&(b=bn(n,-1,Nn(y[1].Target).replace(/#.*$/,""),Or.HLINK),x["r:id"]="rId"+b),(g=y[1].Target.indexOf("#"))>-1&&(x.location=Nn(y[1].Target.slice(g+1))),y[1].Tooltip&&(x.tooltip=Nn(y[1].Tooltip)),a[a.length]=gt("hyperlink",null,x))}),a[a.length]="</hyperlinks>"),delete f["!links"],f["!margins"]!=null&&(a[a.length]=YJ(f["!margins"])),(!t||t.ignoreEC||t.ignoreEC==null)&&(a[a.length]=as("ignoredErrors",gt("ignoredError",null,{numberStoredAsText:1,sqref:u}))),p.length>0&&(b=bn(n,-1,"../drawings/drawing"+(e+1)+".xml",Or.DRAW),a[a.length]=gt("drawing",null,{"r:id":"rId"+b}),f["!drawing"]=p),f["!comments"].length>0&&(b=bn(n,-1,"../drawings/vmlDrawing"+(e+1)+".vml",Or.VML),a[a.length]=gt("legacyDrawing",null,{"r:id":"rId"+b}),f["!legacy"]=b),a.length>1&&(a[a.length]="</worksheet>",a[1]=a[1].replace("/>",">")),a.join("")}function see(e,t){var r={},n=e.l+t;r.r=e.read_shift(4),e.l+=4;var a=e.read_shift(2);e.l+=1;var i=e.read_shift(1);return e.l=n,i&7&&(r.level=i&7),i&16&&(r.hidden=!0),i&32&&(r.hpt=a/20),r}function lee(e,t,r){var n=Ze(145),a=(r["!rows"]||[])[e]||{};n.write_shift(4,e),n.write_shift(4,0);var i=320;a.hpx?i=Kx(a.hpx)*20:a.hpt&&(i=a.hpt*20),n.write_shift(2,i),n.write_shift(1,0);var l=0;a.level&&(l|=a.level),a.hidden&&(l|=16),(a.hpx||a.hpt)&&(l|=32),n.write_shift(1,l),n.write_shift(1,0);var o=0,f=n.l;n.l+=4;for(var u={r:e,c:0},h=0;h<16;++h)if(!(t.s.c>h+1<<10||t.e.c<h<<10)){for(var p=-1,g=-1,x=h<<10;x<h+1<<10;++x){u.c=x;var b=Array.isArray(r)?(r[u.r]||[])[u.c]:r[ur(u)];b&&(p<0&&(p=x),g=x)}p<0||(++o,n.write_shift(4,p),n.write_shift(4,g))}var y=n.l;return n.l=f,n.write_shift(4,o),n.l=y,n.length>n.l?n.slice(0,n.l):n}function oee(e,t,r,n){var a=lee(n,r,t);(a.length>17||(t["!rows"]||[])[n])&&ct(e,0,a)}var cee=fh,uee=ap;function fee(){}function dee(e,t){var r={},n=e[e.l];return++e.l,r.above=!(n&64),r.left=!(n&128),e.l+=18,r.name=pG(e),r}function hee(e,t,r){r==null&&(r=Ze(84+4*e.length));var n=192;t&&(t.above&&(n&=-65),t.left&&(n&=-129)),r.write_shift(1,n);for(var a=1;a<3;++a)r.write_shift(1,0);return ty({auto:1},r),r.write_shift(-4,-1),r.write_shift(-4,-1),BP(e,r),r.slice(0,r.l)}function mee(e){var t=Vo(e);return[t]}function pee(e,t,r){return r==null&&(r=Ze(8)),oh(t,r)}function xee(e){var t=ch(e);return[t]}function gee(e,t,r){return r==null&&(r=Ze(4)),uh(t,r)}function vee(e){var t=Vo(e),r=e.read_shift(1);return[t,r,"b"]}function yee(e,t,r){return r==null&&(r=Ze(9)),oh(t,r),r.write_shift(1,e.v?1:0),r}function bee(e){var t=ch(e),r=e.read_shift(1);return[t,r,"b"]}function wee(e,t,r){return r==null&&(r=Ze(5)),uh(t,r),r.write_shift(1,e.v?1:0),r}function _ee(e){var t=Vo(e),r=e.read_shift(1);return[t,r,"e"]}function Nee(e,t,r){return r==null&&(r=Ze(9)),oh(t,r),r.write_shift(1,e.v),r}function See(e){var t=ch(e),r=e.read_shift(1);return[t,r,"e"]}function jee(e,t,r){return r==null&&(r=Ze(8)),uh(t,r),r.write_shift(1,e.v),r.write_shift(2,0),r.write_shift(1,0),r}function Aee(e){var t=Vo(e),r=e.read_shift(4);return[t,r,"s"]}function Eee(e,t,r){return r==null&&(r=Ze(12)),oh(t,r),r.write_shift(4,t.v),r}function kee(e){var t=ch(e),r=e.read_shift(4);return[t,r,"s"]}function Cee(e,t,r){return r==null&&(r=Ze(8)),uh(t,r),r.write_shift(4,t.v),r}function Tee(e){var t=Vo(e),r=Ns(e);return[t,r,"n"]}function Oee(e,t,r){return r==null&&(r=Ze(16)),oh(t,r),W0(e.v,r),r}function HF(e){var t=ch(e),r=Ns(e);return[t,r,"n"]}function Dee(e,t,r){return r==null&&(r=Ze(12)),uh(t,r),W0(e.v,r),r}function Pee(e){var t=Vo(e),r=l3(e);return[t,r,"n"]}function Fee(e,t,r){return r==null&&(r=Ze(12)),oh(t,r),UP(e.v,r),r}function Lee(e){var t=ch(e),r=l3(e);return[t,r,"n"]}function Mee(e,t,r){return r==null&&(r=Ze(8)),uh(t,r),UP(e.v,r),r}function Ree(e){var t=Vo(e),r=a3(e);return[t,r,"is"]}function Iee(e){var t=Vo(e),r=js(e);return[t,r,"str"]}function Bee(e,t,r){return r==null&&(r=Ze(12+4*e.v.length)),oh(t,r),Bi(e.v,r),r.length>r.l?r.slice(0,r.l):r}function Uee(e){var t=ch(e),r=js(e);return[t,r,"str"]}function zee(e,t,r){return r==null&&(r=Ze(8+4*e.v.length)),uh(t,r),Bi(e.v,r),r.length>r.l?r.slice(0,r.l):r}function qee(e,t,r){var n=e.l+t,a=Vo(e);a.r=r["!row"];var i=e.read_shift(1),l=[a,i,"b"];if(r.cellFormula){e.l+=2;var o=u2(e,n-e.l,r);l[3]=bs(o,null,a,r.supbooks,r)}else e.l=n;return l}function $ee(e,t,r){var n=e.l+t,a=Vo(e);a.r=r["!row"];var i=e.read_shift(1),l=[a,i,"e"];if(r.cellFormula){e.l+=2;var o=u2(e,n-e.l,r);l[3]=bs(o,null,a,r.supbooks,r)}else e.l=n;return l}function Hee(e,t,r){var n=e.l+t,a=Vo(e);a.r=r["!row"];var i=Ns(e),l=[a,i,"n"];if(r.cellFormula){e.l+=2;var o=u2(e,n-e.l,r);l[3]=bs(o,null,a,r.supbooks,r)}else e.l=n;return l}function Vee(e,t,r){var n=e.l+t,a=Vo(e);a.r=r["!row"];var i=js(e),l=[a,i,"str"];if(r.cellFormula){e.l+=2;var o=u2(e,n-e.l,r);l[3]=bs(o,null,a,r.supbooks,r)}else e.l=n;return l}var Wee=fh,Gee=ap;function Kee(e,t){return t==null&&(t=Ze(4)),t.write_shift(4,e),t}function Yee(e,t){var r=e.l+t,n=fh(e),a=i3(e),i=js(e),l=js(e),o=js(e);e.l=r;var f={rfx:n,relId:a,loc:i,display:o};return l&&(f.Tooltip=l),f}function Xee(e,t){var r=Ze(50+4*(e[1].Target.length+(e[1].Tooltip||"").length));ap({s:Sa(e[0]),e:Sa(e[0])},r),s3("rId"+t,r);var n=e[1].Target.indexOf("#"),a=n==-1?"":e[1].Target.slice(n+1);return Bi(a||"",r),Bi(e[1].Tooltip||"",r),Bi("",r),r.slice(0,r.l)}function Qee(){}function Zee(e,t,r){var n=e.l+t,a=zP(e),i=e.read_shift(1),l=[a];if(l[2]=i,r.cellFormula){var o=_J(e,n-e.l,r);l[1]=o}else e.l=n;return l}function Jee(e,t,r){var n=e.l+t,a=fh(e),i=[a];if(r.cellFormula){var l=SJ(e,n-e.l,r);i[1]=l,e.l=n}else e.l=n;return i}function ete(e,t,r){r==null&&(r=Ze(18));var n=f2(e,t);r.write_shift(-4,e),r.write_shift(-4,e),r.write_shift(4,(n.width||10)*256),r.write_shift(4,0);var a=0;return t.hidden&&(a|=1),typeof n.width=="number"&&(a|=2),t.level&&(a|=t.level<<8),r.write_shift(2,a),r}var VF=["left","right","top","bottom","header","footer"];function tte(e){var t={};return VF.forEach(function(r){t[r]=Ns(e)}),t}function rte(e,t){return t==null&&(t=Ze(48)),F0(e),VF.forEach(function(r){W0(e[r],t)}),t}function nte(e){var t=e.read_shift(2);return e.l+=28,{RTL:t&32}}function ate(e,t,r){r==null&&(r=Ze(30));var n=924;return(((t||{}).Views||[])[0]||{}).RTL&&(n|=32),r.write_shift(2,n),r.write_shift(4,0),r.write_shift(4,0),r.write_shift(4,0),r.write_shift(1,0),r.write_shift(1,0),r.write_shift(2,0),r.write_shift(2,100),r.write_shift(2,0),r.write_shift(2,0),r.write_shift(2,0),r.write_shift(4,0),r}function ite(e){var t=Ze(24);return t.write_shift(4,4),t.write_shift(4,1),ap(e,t),t}function ste(e,t){return t==null&&(t=Ze(66)),t.write_shift(2,e.password?h3(e.password):0),t.write_shift(4,1),[["objects",!1],["scenarios",!1],["formatCells",!0],["formatColumns",!0],["formatRows",!0],["insertColumns",!0],["insertRows",!0],["insertHyperlinks",!0],["deleteColumns",!0],["deleteRows",!0],["selectLockedCells",!1],["sort",!0],["autoFilter",!0],["pivotTables",!0],["selectUnlockedCells",!1]].forEach(function(r){r[1]?t.write_shift(4,e[r[0]]!=null&&!e[r[0]]?1:0):t.write_shift(4,e[r[0]]!=null&&e[r[0]]?0:1)}),t}function lte(){}function ote(){}function cte(e,t,r,n,a,i,l){if(!e)return e;var o=t||{};n||(n={"!id":{}});var f=o.dense?[]:{},u,h={s:{r:2e6,c:2e6},e:{r:0,c:0}},p=!1,g=!1,x,b,y,w,_,E,A,O,D,R=[];o.biff=12,o["!row"]=0;var P=0,T=!1,B=[],G={},I=o.supbooks||a.supbooks||[[]];if(I.sharedf=G,I.arrayf=B,I.SheetNames=a.SheetNames||a.Sheets.map(function(ve){return ve.name}),!o.supbooks&&(o.supbooks=I,a.Names))for(var z=0;z<a.Names.length;++z)I[0][z+1]=a.Names[z];var K=[],J=[],pe=!1;Yx[16]={n:"BrtShortReal",f:HF};var ne;if(wf(e,function(ue,je,te){if(!g)switch(te){case 148:u=ue;break;case 0:x=ue,o.sheetRows&&o.sheetRows<=x.r&&(g=!0),O=Ka(w=x.r),o["!row"]=x.r,(ue.hidden||ue.hpt||ue.level!=null)&&(ue.hpt&&(ue.hpx=Bm(ue.hpt)),J[ue.r]=ue);break;case 2:case 3:case 4:case 5:case 6:case 7:case 8:case 9:case 10:case 11:case 13:case 14:case 15:case 16:case 17:case 18:case 62:switch(b={t:ue[2]},ue[2]){case"n":b.v=ue[1];break;case"s":A=Sx[ue[1]],b.v=A.t,b.r=A.r;break;case"b":b.v=!!ue[1];break;case"e":b.v=ue[1],o.cellText!==!1&&(b.w=_f[b.v]);break;case"str":b.t="s",b.v=ue[1];break;case"is":b.t="s",b.v=ue[1].t;break}if((y=l.CellXf[ue[0].iStyleRef])&&zF(b,y.numFmtId,null,o,i,l),_=ue[0].c==-1?_+1:ue[0].c,o.dense?(f[w]||(f[w]=[]),f[w][_]=b):f[Na(_)+O]=b,o.cellFormula){for(T=!1,P=0;P<B.length;++P){var F=B[P];x.r>=F[0].s.r&&x.r<=F[0].e.r&&_>=F[0].s.c&&_<=F[0].e.c&&(b.F=_r(F[0]),T=!0)}!T&&ue.length>3&&(b.f=ue[3])}if(h.s.r>x.r&&(h.s.r=x.r),h.s.c>_&&(h.s.c=_),h.e.r<x.r&&(h.e.r=x.r),h.e.c<_&&(h.e.c=_),o.cellDates&&y&&b.t=="n"&&tp(cr[y.numFmtId])){var M=E0(b.v);M&&(b.t="d",b.v=new Date(M.y,M.m-1,M.d,M.H,M.M,M.S,M.u))}ne&&(ne.type=="XLDAPR"&&(b.D=!0),ne=void 0);break;case 1:case 12:if(!o.sheetStubs||p)break;b={t:"z",v:void 0},_=ue[0].c==-1?_+1:ue[0].c,o.dense?(f[w]||(f[w]=[]),f[w][_]=b):f[Na(_)+O]=b,h.s.r>x.r&&(h.s.r=x.r),h.s.c>_&&(h.s.c=_),h.e.r<x.r&&(h.e.r=x.r),h.e.c<_&&(h.e.c=_),ne&&(ne.type=="XLDAPR"&&(b.D=!0),ne=void 0);break;case 176:R.push(ue);break;case 49:ne=((o.xlmeta||{}).Cell||[])[ue-1];break;case 494:var q=n["!id"][ue.relId];for(q?(ue.Target=q.Target,ue.loc&&(ue.Target+="#"+ue.loc),ue.Rel=q):ue.relId==""&&(ue.Target="#"+ue.loc),w=ue.rfx.s.r;w<=ue.rfx.e.r;++w)for(_=ue.rfx.s.c;_<=ue.rfx.e.c;++_)o.dense?(f[w]||(f[w]=[]),f[w][_]||(f[w][_]={t:"z",v:void 0}),f[w][_].l=ue):(E=ur({c:_,r:w}),f[E]||(f[E]={t:"z",v:void 0}),f[E].l=ue);break;case 426:if(!o.cellFormula)break;B.push(ue),D=o.dense?f[w][_]:f[Na(_)+O],D.f=bs(ue[1],h,{r:x.r,c:_},I,o),D.F=_r(ue[0]);break;case 427:if(!o.cellFormula)break;G[ur(ue[0].s)]=ue[1],D=o.dense?f[w][_]:f[Na(_)+O],D.f=bs(ue[1],h,{r:x.r,c:_},I,o);break;case 60:if(!o.cellStyles)break;for(;ue.e>=ue.s;)K[ue.e--]={width:ue.w/256,hidden:!!(ue.flags&1),level:ue.level},pe||(pe=!0,m3(ue.w/256)),Ad(K[ue.e+1]);break;case 161:f["!autofilter"]={ref:_r(ue)};break;case 476:f["!margins"]=ue;break;case 147:a.Sheets[r]||(a.Sheets[r]={}),ue.name&&(a.Sheets[r].CodeName=ue.name),(ue.above||ue.left)&&(f["!outline"]={above:ue.above,left:ue.left});break;case 137:a.Views||(a.Views=[{}]),a.Views[0]||(a.Views[0]={}),ue.RTL&&(a.Views[0].RTL=!0);break;case 485:break;case 64:case 1053:break;case 151:break;case 152:case 175:case 644:case 625:case 562:case 396:case 1112:case 1146:case 471:case 1050:case 649:case 1105:case 589:case 607:case 564:case 1055:case 168:case 174:case 1180:case 499:case 507:case 550:case 171:case 167:case 1177:case 169:case 1181:case 551:case 552:case 661:case 639:case 478:case 537:case 477:case 536:case 1103:case 680:case 1104:case 1024:case 663:case 535:case 678:case 504:case 1043:case 428:case 170:case 3072:case 50:case 2070:case 1045:break;case 35:p=!0;break;case 36:p=!1;break;case 37:p=!0;break;case 38:p=!1;break;default:if(!je.T){if(!p||o.WTF)throw new Error("Unexpected record 0x"+te.toString(16))}}},o),delete o.supbooks,delete o["!row"],!f["!ref"]&&(h.s.r<2e6||u&&(u.e.r>0||u.e.c>0||u.s.r>0||u.s.c>0))&&(f["!ref"]=_r(u||h)),o.sheetRows&&f["!ref"]){var le=Zr(f["!ref"]);o.sheetRows<=+le.e.r&&(le.e.r=o.sheetRows-1,le.e.r>h.e.r&&(le.e.r=h.e.r),le.e.r<le.s.r&&(le.s.r=le.e.r),le.e.c>h.e.c&&(le.e.c=h.e.c),le.e.c<le.s.c&&(le.s.c=le.e.c),f["!fullref"]=f["!ref"],f["!ref"]=_r(le))}return R.length>0&&(f["!merges"]=R),K.length>0&&(f["!cols"]=K),J.length>0&&(f["!rows"]=J),f}function ute(e,t,r,n,a,i,l){if(t.v===void 0)return!1;var o="";switch(t.t){case"b":o=t.v?"1":"0";break;case"d":t=Jn(t),t.z=t.z||cr[14],t.v=_i(Zn(t.v)),t.t="n";break;case"n":case"e":o=""+t.v;break;default:o=t.v;break}var f={r,c:n};switch(f.s=Id(a.cellXfs,t,a),t.l&&i["!links"].push([ur(f),t.l]),t.c&&i["!comments"].push([ur(f),t.c]),t.t){case"s":case"str":return a.bookSST?(o=y3(a.Strings,t.v,a.revStrings),f.t="s",f.v=o,l?ct(e,18,Cee(t,f)):ct(e,7,Eee(t,f))):(f.t="str",l?ct(e,17,zee(t,f)):ct(e,6,Bee(t,f))),!0;case"n":return t.v==(t.v|0)&&t.v>-1e3&&t.v<1e3?l?ct(e,13,Mee(t,f)):ct(e,2,Fee(t,f)):l?ct(e,16,Dee(t,f)):ct(e,5,Oee(t,f)),!0;case"b":return f.t="b",l?ct(e,15,wee(t,f)):ct(e,4,yee(t,f)),!0;case"e":return f.t="e",l?ct(e,14,jee(t,f)):ct(e,3,Nee(t,f)),!0}return l?ct(e,12,gee(t,f)):ct(e,1,pee(t,f)),!0}function fte(e,t,r,n){var a=Zr(t["!ref"]||"A1"),i,l="",o=[];ct(e,145);var f=Array.isArray(t),u=a.e.r;t["!rows"]&&(u=Math.max(a.e.r,t["!rows"].length-1));for(var h=a.s.r;h<=u;++h){l=Ka(h),oee(e,t,a,h);var p=!1;if(h<=a.e.r)for(var g=a.s.c;g<=a.e.c;++g){h===a.s.r&&(o[g]=Na(g)),i=o[g]+l;var x=f?(t[h]||[])[g]:t[i];if(!x){p=!1;continue}p=ute(e,x,h,g,n,t,p)}}ct(e,146)}function dte(e,t){!t||!t["!merges"]||(ct(e,177,Kee(t["!merges"].length)),t["!merges"].forEach(function(r){ct(e,176,Gee(r))}),ct(e,178))}function hte(e,t){!t||!t["!cols"]||(ct(e,390),t["!cols"].forEach(function(r,n){r&&ct(e,60,ete(n,r))}),ct(e,391))}function mte(e,t){!t||!t["!ref"]||(ct(e,648),ct(e,649,ite(Zr(t["!ref"]))),ct(e,650))}function pte(e,t,r){t["!links"].forEach(function(n){if(n[1].Target){var a=bn(r,-1,n[1].Target.replace(/#.*$/,""),Or.HLINK);ct(e,494,Xee(n,a))}}),delete t["!links"]}function xte(e,t,r,n){if(t["!comments"].length>0){var a=bn(n,-1,"../drawings/vmlDrawing"+(r+1)+".vml",Or.VML);ct(e,551,s3("rId"+a)),t["!legacy"]=a}}function gte(e,t,r,n){if(t["!autofilter"]){var a=t["!autofilter"],i=typeof a.ref=="string"?a.ref:_r(a.ref);r.Workbook||(r.Workbook={Sheets:[]}),r.Workbook.Names||(r.Workbook.Names=[]);var l=r.Workbook.Names,o=kl(i);o.s.r==o.e.r&&(o.e.r=kl(t["!ref"]).e.r,i=_r(o));for(var f=0;f<l.length;++f){var u=l[f];if(u.Name=="_xlnm._FilterDatabase"&&u.Sheet==n){u.Ref="'"+r.SheetNames[n]+"'!"+i;break}}f==l.length&&l.push({Name:"_xlnm._FilterDatabase",Sheet:n,Ref:"'"+r.SheetNames[n]+"'!"+i}),ct(e,161,ap(Zr(i))),ct(e,162)}}function vte(e,t,r){ct(e,133),ct(e,137,ate(t,r)),ct(e,138),ct(e,134)}function yte(e,t){t["!protect"]&&ct(e,535,ste(t["!protect"]))}function bte(e,t,r,n){var a=Al(),i=r.SheetNames[e],l=r.Sheets[i]||{},o=i;try{r&&r.Workbook&&(o=r.Workbook.Sheets[e].CodeName||o)}catch{}var f=Zr(l["!ref"]||"A1");if(f.e.c>16383||f.e.r>1048575){if(t.WTF)throw new Error("Range "+(l["!ref"]||"A1")+" exceeds format limit A1:XFD1048576");f.e.c=Math.min(f.e.c,16383),f.e.r=Math.min(f.e.c,1048575)}return l["!links"]=[],l["!comments"]=[],ct(a,129),(r.vbaraw||l["!outline"])&&ct(a,147,hee(o,l["!outline"])),ct(a,148,uee(f)),vte(a,l,r.Workbook),hte(a,l),fte(a,l,e,t),yte(a,l),gte(a,l,r,e),dte(a,l),pte(a,l,n),l["!margins"]&&ct(a,476,rte(l["!margins"])),(!t||t.ignoreEC||t.ignoreEC==null)&&mte(a,l),xte(a,l,e,n),ct(a,130),a.end()}function wte(e){var t=[],r=e.match(/^<c:numCache>/),n;(e.match(/<c:pt idx="(\d*)">(.*?)<\/c:pt>/mg)||[]).forEach(function(i){var l=i.match(/<c:pt idx="(\d*?)"><c:v>(.*)<\/c:v><\/c:pt>/);l&&(t[+l[1]]=r?+l[2]:l[2])});var a=Xr((e.match(/<c:formatCode>([\s\S]*?)<\/c:formatCode>/)||["","General"])[1]);return(e.match(/<c:f>(.*?)<\/c:f>/mg)||[]).forEach(function(i){n=i.replace(/<.*?>/g,"")}),[t,a,n]}function _te(e,t,r,n,a,i){var l=i||{"!type":"chart"};if(!e)return i;var o=0,f=0,u="A",h={s:{r:2e6,c:2e6},e:{r:0,c:0}};return(e.match(/<c:numCache>[\s\S]*?<\/c:numCache>/gm)||[]).forEach(function(p){var g=wte(p);h.s.r=h.s.c=0,h.e.c=o,u=Na(o),g[0].forEach(function(x,b){l[u+Ka(b)]={t:"n",v:x,z:g[1]},f=b}),h.e.r<f&&(h.e.r=f),++o}),o>0&&(l["!ref"]=_r(h)),l}function Nte(e,t,r,n,a){if(!e)return e;n||(n={"!id":{}});var i={"!type":"chart","!drawel":null,"!rel":""},l,o=e.match(qF);return o&&b3(o[0],i,a,r),(l=e.match(/drawing r:id="(.*?)"/))&&(i["!rel"]=l[1]),n["!id"][i["!rel"]]&&(i["!drawel"]=n["!id"][i["!rel"]]),i}function Ste(e,t){e.l+=10;var r=js(e);return{name:r}}function jte(e,t,r,n,a){if(!e)return e;n||(n={"!id":{}});var i={"!type":"chart","!drawel":null,"!rel":""},l=!1;return wf(e,function(f,u,h){switch(h){case 550:i["!rel"]=f;break;case 651:a.Sheets[r]||(a.Sheets[r]={}),f.name&&(a.Sheets[r].CodeName=f.name);break;case 562:case 652:case 669:case 679:case 551:case 552:case 476:case 3072:break;case 35:l=!0;break;case 36:l=!1;break;case 37:break;case 38:break;default:if(!(u.T>0)){if(!(u.T<0)){if(!l||t.WTF)throw new Error("Unexpected record 0x"+h.toString(16))}}}},t),n["!id"][i["!rel"]]&&(i["!drawel"]=n["!id"][i["!rel"]]),i}var w3=[["allowRefreshQuery",!1,"bool"],["autoCompressPictures",!0,"bool"],["backupFile",!1,"bool"],["checkCompatibility",!1,"bool"],["CodeName",""],["date1904",!1,"bool"],["defaultThemeVersion",0,"int"],["filterPrivacy",!1,"bool"],["hidePivotFieldList",!1,"bool"],["promptedSolutions",!1,"bool"],["publishItems",!1,"bool"],["refreshAllConnections",!1,"bool"],["saveExternalLinkValues",!0,"bool"],["showBorderUnselectedTables",!0,"bool"],["showInkAnnotation",!0,"bool"],["showObjects","all"],["showPivotChartFilter",!1,"bool"],["updateLinks","userSet"]],Ate=[["activeTab",0,"int"],["autoFilterDateGrouping",!0,"bool"],["firstSheet",0,"int"],["minimized",!1,"bool"],["showHorizontalScroll",!0,"bool"],["showSheetTabs",!0,"bool"],["showVerticalScroll",!0,"bool"],["tabRatio",600,"int"],["visibility","visible"]],Ete=[],kte=[["calcCompleted","true"],["calcMode","auto"],["calcOnSave","true"],["concurrentCalc","true"],["fullCalcOnLoad","false"],["fullPrecision","true"],["iterate","false"],["iterateCount","100"],["iterateDelta","0.001"],["refMode","A1"]];function kk(e,t){for(var r=0;r!=e.length;++r)for(var n=e[r],a=0;a!=t.length;++a){var i=t[a];if(n[i[0]]==null)n[i[0]]=i[1];else switch(i[2]){case"bool":typeof n[i[0]]=="string"&&(n[i[0]]=Xn(n[i[0]]));break;case"int":typeof n[i[0]]=="string"&&(n[i[0]]=parseInt(n[i[0]],10));break}}}function Ck(e,t){for(var r=0;r!=t.length;++r){var n=t[r];if(e[n[0]]==null)e[n[0]]=n[1];else switch(n[2]){case"bool":typeof e[n[0]]=="string"&&(e[n[0]]=Xn(e[n[0]]));break;case"int":typeof e[n[0]]=="string"&&(e[n[0]]=parseInt(e[n[0]],10));break}}}function WF(e){Ck(e.WBProps,w3),Ck(e.CalcPr,kte),kk(e.WBView,Ate),kk(e.Sheets,Ete),Cm.date1904=Xn(e.WBProps.date1904)}function Cte(e){return!e.Workbook||!e.Workbook.WBProps?"false":Xn(e.Workbook.WBProps.date1904)?"true":"false"}var Tte="][*?/\\".split("");function GF(e,t){if(e.length>31)throw new Error("Sheet names cannot exceed 31 chars");var r=!0;return Tte.forEach(function(n){if(e.indexOf(n)!=-1)throw new Error("Sheet name cannot contain : \\ / ? * [ ]")}),r}function Ote(e,t,r){e.forEach(function(n,a){GF(n);for(var i=0;i<a;++i)if(n==e[i])throw new Error("Duplicate Sheet Name: "+n);if(r){var l=t&&t[a]&&t[a].CodeName||n;if(l.charCodeAt(0)==95&&l.length>22)throw new Error("Bad Code Name: Worksheet"+l)}})}function Dte(e){if(!e||!e.SheetNames||!e.Sheets)throw new Error("Invalid Workbook");if(!e.SheetNames.length)throw new Error("Workbook is empty");var t=e.Workbook&&e.Workbook.Sheets||[];Ote(e.SheetNames,t,!!e.vbaraw);for(var r=0;r<e.SheetNames.length;++r)CJ(e.Sheets[e.SheetNames[r]],e.SheetNames[r],r)}var Pte=/<\w+:workbook/;function Fte(e,t){if(!e)throw new Error("Could not find file");var r={AppVersion:{},WBProps:{},WBView:[],Sheets:[],CalcPr:{},Names:[],xmlns:""},n=!1,a="xmlns",i={},l=0;if(e.replace(Ts,function(f,u){var h=dr(f);switch(du(h[0])){case"<?xml":break;case"<workbook":f.match(Pte)&&(a="xmlns"+f.match(/<(\w+):/)[1]),r.xmlns=h[a];break;case"</workbook>":break;case"<fileVersion":delete h[0],r.AppVersion=h;break;case"<fileVersion/>":case"</fileVersion>":break;case"<fileSharing":break;case"<fileSharing/>":break;case"<workbookPr":case"<workbookPr/>":w3.forEach(function(p){if(h[p[0]]!=null)switch(p[2]){case"bool":r.WBProps[p[0]]=Xn(h[p[0]]);break;case"int":r.WBProps[p[0]]=parseInt(h[p[0]],10);break;default:r.WBProps[p[0]]=h[p[0]]}}),h.codeName&&(r.WBProps.CodeName=Dn(h.codeName));break;case"</workbookPr>":break;case"<workbookProtection":break;case"<workbookProtection/>":break;case"<bookViews":case"<bookViews>":case"</bookViews>":break;case"<workbookView":case"<workbookView/>":delete h[0],r.WBView.push(h);break;case"</workbookView>":break;case"<sheets":case"<sheets>":case"</sheets>":break;case"<sheet":switch(h.state){case"hidden":h.Hidden=1;break;case"veryHidden":h.Hidden=2;break;default:h.Hidden=0}delete h.state,h.name=Xr(Dn(h.name)),delete h[0],r.Sheets.push(h);break;case"</sheet>":break;case"<functionGroups":case"<functionGroups/>":break;case"<functionGroup":break;case"<externalReferences":case"</externalReferences>":case"<externalReferences>":break;case"<externalReference":break;case"<definedNames/>":break;case"<definedNames>":case"<definedNames":n=!0;break;case"</definedNames>":n=!1;break;case"<definedName":i={},i.Name=Dn(h.name),h.comment&&(i.Comment=h.comment),h.localSheetId&&(i.Sheet=+h.localSheetId),Xn(h.hidden||"0")&&(i.Hidden=!0),l=u+f.length;break;case"</definedName>":i.Ref=Xr(Dn(e.slice(l,u))),r.Names.push(i);break;case"<definedName/>":break;case"<calcPr":delete h[0],r.CalcPr=h;break;case"<calcPr/>":delete h[0],r.CalcPr=h;break;case"</calcPr>":break;case"<oleSize":break;case"<customWorkbookViews>":case"</customWorkbookViews>":case"<customWorkbookViews":break;case"<customWorkbookView":case"</customWorkbookView>":break;case"<pivotCaches>":case"</pivotCaches>":case"<pivotCaches":break;case"<pivotCache":break;case"<smartTagPr":case"<smartTagPr/>":break;case"<smartTagTypes":case"<smartTagTypes>":case"</smartTagTypes>":break;case"<smartTagType":break;case"<webPublishing":case"<webPublishing/>":break;case"<fileRecoveryPr":case"<fileRecoveryPr/>":break;case"<webPublishObjects>":case"<webPublishObjects":case"</webPublishObjects>":break;case"<webPublishObject":break;case"<extLst":case"<extLst>":case"</extLst>":case"<extLst/>":break;case"<ext":n=!0;break;case"</ext>":n=!1;break;case"<ArchID":break;case"<AlternateContent":case"<AlternateContent>":n=!0;break;case"</AlternateContent>":n=!1;break;case"<revisionPtr":break;default:if(!n&&t.WTF)throw new Error("unrecognized "+h[0]+" in workbook")}return f}),lh.indexOf(r.xmlns)===-1)throw new Error("Unknown Namespace: "+r.xmlns);return WF(r),r}function KF(e){var t=[Ya];t[t.length]=gt("workbook",null,{xmlns:lh[0],"xmlns:r":bi.r});var r=e.Workbook&&(e.Workbook.Names||[]).length>0,n={codeName:"ThisWorkbook"};e.Workbook&&e.Workbook.WBProps&&(w3.forEach(function(o){e.Workbook.WBProps[o[0]]!=null&&e.Workbook.WBProps[o[0]]!=o[1]&&(n[o[0]]=e.Workbook.WBProps[o[0]])}),e.Workbook.WBProps.CodeName&&(n.codeName=e.Workbook.WBProps.CodeName,delete n.CodeName)),t[t.length]=gt("workbookPr",null,n);var a=e.Workbook&&e.Workbook.Sheets||[],i=0;if(a&&a[0]&&a[0].Hidden){for(t[t.length]="<bookViews>",i=0;i!=e.SheetNames.length&&!(!a[i]||!a[i].Hidden);++i);i==e.SheetNames.length&&(i=0),t[t.length]='<workbookView firstSheet="'+i+'" activeTab="'+i+'"/>',t[t.length]="</bookViews>"}for(t[t.length]="<sheets>",i=0;i!=e.SheetNames.length;++i){var l={name:Nn(e.SheetNames[i].slice(0,31))};if(l.sheetId=""+(i+1),l["r:id"]="rId"+(i+1),a[i])switch(a[i].Hidden){case 1:l.state="hidden";break;case 2:l.state="veryHidden";break}t[t.length]=gt("sheet",null,l)}return t[t.length]="</sheets>",r&&(t[t.length]="<definedNames>",e.Workbook&&e.Workbook.Names&&e.Workbook.Names.forEach(function(o){var f={name:o.Name};o.Comment&&(f.comment=o.Comment),o.Sheet!=null&&(f.localSheetId=""+o.Sheet),o.Hidden&&(f.hidden="1"),o.Ref&&(t[t.length]=gt("definedName",Nn(o.Ref),f))}),t[t.length]="</definedNames>"),t.length>2&&(t[t.length]="</workbook>",t[1]=t[1].replace("/>",">")),t.join("")}function Lte(e,t){var r={};return r.Hidden=e.read_shift(4),r.iTabID=e.read_shift(4),r.strRelID=Z4(e),r.name=js(e),r}function Mte(e,t){return t||(t=Ze(127)),t.write_shift(4,e.Hidden),t.write_shift(4,e.iTabID),s3(e.strRelID,t),Bi(e.name.slice(0,31),t),t.length>t.l?t.slice(0,t.l):t}function Rte(e,t){var r={},n=e.read_shift(4);r.defaultThemeVersion=e.read_shift(4);var a=t>8?js(e):"";return a.length>0&&(r.CodeName=a),r.autoCompressPictures=!!(n&65536),r.backupFile=!!(n&64),r.checkCompatibility=!!(n&4096),r.date1904=!!(n&1),r.filterPrivacy=!!(n&8),r.hidePivotFieldList=!!(n&1024),r.promptedSolutions=!!(n&16),r.publishItems=!!(n&2048),r.refreshAllConnections=!!(n&262144),r.saveExternalLinkValues=!!(n&128),r.showBorderUnselectedTables=!!(n&4),r.showInkAnnotation=!!(n&32),r.showObjects=["all","placeholders","none"][n>>13&3],r.showPivotChartFilter=!!(n&32768),r.updateLinks=["userSet","never","always"][n>>8&3],r}function Ite(e,t){t||(t=Ze(72));var r=0;return e&&e.filterPrivacy&&(r|=8),t.write_shift(4,r),t.write_shift(4,0),BP(e&&e.CodeName||"ThisWorkbook",t),t.slice(0,t.l)}function Bte(e,t){var r={};return e.read_shift(4),r.ArchID=e.read_shift(4),e.l+=t-8,r}function Ute(e,t,r){var n=e.l+t;e.l+=4,e.l+=1;var a=e.read_shift(4),i=xG(e),l=NJ(e,0,r),o=i3(e);e.l=n;var f={Name:i,Ptg:l};return a<268435455&&(f.Sheet=a),o&&(f.Comment=o),f}function zte(e,t){var r={AppVersion:{},WBProps:{},WBView:[],Sheets:[],CalcPr:{},xmlns:""},n=[],a=!1;t||(t={}),t.biff=12;var i=[],l=[[]];return l.SheetNames=[],l.XTI=[],Yx[16]={n:"BrtFRTArchID$",f:Bte},wf(e,function(f,u,h){switch(h){case 156:l.SheetNames.push(f.name),r.Sheets.push(f);break;case 153:r.WBProps=f;break;case 39:f.Sheet!=null&&(t.SID=f.Sheet),f.Ref=bs(f.Ptg,null,null,l,t),delete t.SID,delete f.Ptg,i.push(f);break;case 1036:break;case 357:case 358:case 355:case 667:l[0].length?l.push([h,f]):l[0]=[h,f],l[l.length-1].XTI=[];break;case 362:l.length===0&&(l[0]=[],l[0].XTI=[]),l[l.length-1].XTI=l[l.length-1].XTI.concat(f),l.XTI=l.XTI.concat(f);break;case 361:break;case 2071:case 158:case 143:case 664:case 353:break;case 3072:case 3073:case 534:case 677:case 157:case 610:case 2050:case 155:case 548:case 676:case 128:case 665:case 2128:case 2125:case 549:case 2053:case 596:case 2076:case 2075:case 2082:case 397:case 154:case 1117:case 553:case 2091:break;case 35:n.push(h),a=!0;break;case 36:n.pop(),a=!1;break;case 37:n.push(h),a=!0;break;case 38:n.pop(),a=!1;break;case 16:break;default:if(!u.T){if(!a||t.WTF&&n[n.length-1]!=37&&n[n.length-1]!=35)throw new Error("Unexpected record 0x"+h.toString(16))}}},t),WF(r),r.Names=i,r.supbooks=l,r}function qte(e,t){ct(e,143);for(var r=0;r!=t.SheetNames.length;++r){var n=t.Workbook&&t.Workbook.Sheets&&t.Workbook.Sheets[r]&&t.Workbook.Sheets[r].Hidden||0,a={Hidden:n,iTabID:r+1,strRelID:"rId"+(r+1),name:t.SheetNames[r]};ct(e,156,Mte(a))}ct(e,144)}function $te(e,t){t||(t=Ze(127));for(var r=0;r!=4;++r)t.write_shift(4,0);return Bi("SheetJS",t),Bi(Kv.version,t),Bi(Kv.version,t),Bi("7262",t),t.length>t.l?t.slice(0,t.l):t}function Hte(e,t){t||(t=Ze(29)),t.write_shift(-4,0),t.write_shift(-4,460),t.write_shift(4,28800),t.write_shift(4,17600),t.write_shift(4,500),t.write_shift(4,e),t.write_shift(4,e);var r=120;return t.write_shift(1,r),t.length>t.l?t.slice(0,t.l):t}function Vte(e,t){if(!(!t.Workbook||!t.Workbook.Sheets)){for(var r=t.Workbook.Sheets,n=0,a=-1,i=-1;n<r.length;++n)!r[n]||!r[n].Hidden&&a==-1?a=n:r[n].Hidden==1&&i==-1&&(i=n);i>a||(ct(e,135),ct(e,158,Hte(a)),ct(e,136))}}function Wte(e,t){var r=Al();return ct(r,131),ct(r,128,$te()),ct(r,153,Ite(e.Workbook&&e.Workbook.WBProps||null)),Vte(r,e),qte(r,e),ct(r,132),r.end()}function Gte(e,t,r){return t.slice(-4)===".bin"?zte(e,r):Fte(e,r)}function Kte(e,t,r,n,a,i,l,o){return t.slice(-4)===".bin"?cte(e,n,r,a,i,l,o):UJ(e,n,r,a,i,l,o)}function Yte(e,t,r,n,a,i,l,o){return t.slice(-4)===".bin"?jte(e,n,r,a,i):Nte(e,n,r,a,i)}function Xte(e,t,r,n,a,i,l,o){return t.slice(-4)===".bin"?ZQ():JQ()}function Qte(e,t,r,n,a,i,l,o){return t.slice(-4)===".bin"?XQ():QQ()}function Zte(e,t,r,n){return t.slice(-4)===".bin"?GX(e,r,n):LX(e,r,n)}function Jte(e,t,r){return kF(e,r)}function ere(e,t,r){return t.slice(-4)===".bin"?eX(e,r):QY(e,r)}function tre(e,t,r){return t.slice(-4)===".bin"?VQ(e,r):MQ(e,r)}function rre(e,t,r){return t.slice(-4)===".bin"?PQ(e):OQ(e)}function nre(e,t,r,n){return r.slice(-4)===".bin"?FQ(e,t,r,n):void 0}function are(e,t,r){return t.slice(-4)===".bin"?kQ(e,t,r):TQ(e,t,r)}function ire(e,t,r){return(t.slice(-4)===".bin"?Wte:KF)(e)}function sre(e,t,r,n,a){return(t.slice(-4)===".bin"?bte:$F)(e,r,n,a)}function lre(e,t,r){return(t.slice(-4)===".bin"?nQ:AF)(e,r)}function ore(e,t,r){return(t.slice(-4)===".bin"?nX:vF)(e,r)}function cre(e,t,r){return(t.slice(-4)===".bin"?WQ:OF)(e)}function ure(e){return(e.slice(-4)===".bin"?CQ:CF)()}var YF=/([\w:]+)=((?:")([^"]*)(?:")|(?:')([^']*)(?:'))/g,XF=/([\w:]+)=((?:")(?:[^"]*)(?:")|(?:')(?:[^']*)(?:'))/;function xc(e,t){var r=e.split(/\s+/),n=[];if(n[0]=r[0],r.length===1)return n;var a=e.match(YF),i,l,o,f;if(a)for(f=0;f!=a.length;++f)i=a[f].match(XF),(l=i[1].indexOf(":"))===-1?n[i[1]]=i[2].slice(1,i[2].length-1):(i[1].slice(0,6)==="xmlns:"?o="xmlns"+i[1].slice(6):o=i[1].slice(l+1),n[o]=i[2].slice(1,i[2].length-1));return n}function fre(e){var t=e.split(/\s+/),r={};if(t.length===1)return r;var n=e.match(YF),a,i,l,o;if(n)for(o=0;o!=n.length;++o)a=n[o].match(XF),(i=a[1].indexOf(":"))===-1?r[a[1]]=a[2].slice(1,a[2].length-1):(a[1].slice(0,6)==="xmlns:"?l="xmlns"+a[1].slice(6):l=a[1].slice(i+1),r[l]=a[2].slice(1,a[2].length-1));return r}var Ax;function dre(e,t){var r=Ax[e]||Xr(e);return r==="General"?H0(t):Bo(r,t)}function hre(e,t,r,n){var a=n;switch((r[0].match(/dt:dt="([\w.]+)"/)||["",""])[1]){case"boolean":a=Xn(n);break;case"i2":case"int":a=parseInt(n,10);break;case"r4":case"float":a=parseFloat(n);break;case"date":case"dateTime.tz":a=Zn(n);break;case"i8":case"string":case"fixed":case"uuid":case"bin.base64":break;default:throw new Error("bad custprop:"+r[0])}e[Xr(t)]=a}function mre(e,t,r){if(e.t!=="z"){if(!r||r.cellText!==!1)try{e.t==="e"?e.w=e.w||_f[e.v]:t==="General"?e.t==="n"?(e.v|0)===e.v?e.w=e.v.toString(10):e.w=Ux(e.v):e.w=H0(e.v):e.w=dre(t||"General",e.v)}catch(i){if(r.WTF)throw i}try{var n=Ax[t]||t||"General";if(r.cellNF&&(e.z=n),r.cellDates&&e.t=="n"&&tp(n)){var a=E0(e.v);a&&(e.t="d",e.v=new Date(a.y,a.m-1,a.d,a.H,a.M,a.S,a.u))}}catch(i){if(r.WTF)throw i}}}function pre(e,t,r){if(r.cellStyles&&t.Interior){var n=t.Interior;n.Pattern&&(n.patternType=EX[n.Pattern]||n.Pattern)}e[t.ID]=t}function xre(e,t,r,n,a,i,l,o,f,u){var h="General",p=n.StyleID,g={};u=u||{};var x=[],b=0;for(p===void 0&&o&&(p=o.StyleID),p===void 0&&l&&(p=l.StyleID);i[p]!==void 0&&(i[p].nf&&(h=i[p].nf),i[p].Interior&&x.push(i[p].Interior),!!i[p].Parent);)p=i[p].Parent;switch(r.Type){case"Boolean":n.t="b",n.v=Xn(e);break;case"String":n.t="s",n.r=WE(Xr(e)),n.v=e.indexOf("<")>-1?Xr(t||e).replace(/<.*?>/g,""):n.r;break;case"DateTime":e.slice(-1)!="Z"&&(e+="Z"),n.v=(Zn(e)-new Date(Date.UTC(1899,11,30)))/(1440*60*1e3),n.v!==n.v?n.v=Xr(e):n.v<60&&(n.v=n.v-1),(!h||h=="General")&&(h="yyyy-mm-dd");case"Number":n.v===void 0&&(n.v=+e),n.t||(n.t="n");break;case"Error":n.t="e",n.v=HP[e],u.cellText!==!1&&(n.w=e);break;default:e==""&&t==""?n.t="z":(n.t="s",n.v=WE(t||e));break}if(mre(n,h,u),u.cellFormula!==!1)if(n.Formula){var y=Xr(n.Formula);y.charCodeAt(0)==61&&(y=y.slice(1)),n.f=km(y,a),delete n.Formula,n.ArrayRange=="RC"?n.F=km("RC:RC",a):n.ArrayRange&&(n.F=km(n.ArrayRange,a),f.push([Zr(n.F),n.F]))}else for(b=0;b<f.length;++b)a.r>=f[b][0].s.r&&a.r<=f[b][0].e.r&&a.c>=f[b][0].s.c&&a.c<=f[b][0].e.c&&(n.F=f[b][1]);u.cellStyles&&(x.forEach(function(w){!g.patternType&&w.patternType&&(g.patternType=w.patternType)}),n.s=g),n.StyleID!==void 0&&(n.ixfe=n.StyleID)}function gre(e){e.t=e.v||"",e.t=e.t.replace(/\r\n/g,`
`).replace(/\r/g,`
`),e.v=e.w=e.ixfe=void 0}function Cw(e,t){var r=t||{};rp();var n=mx(JN(e));(r.type=="binary"||r.type=="array"||r.type=="base64")&&(n=Dn(n));var a=n.slice(0,1024).toLowerCase(),i=!1;if(a=a.replace(/".*?"/g,""),(a.indexOf(">")&1023)>Math.min(a.indexOf(",")&1023,a.indexOf(";")&1023)){var l=Jn(r);return l.type="string",Im.to_workbook(n,l)}if(a.indexOf("<?xml")==-1&&["html","table","head","meta","script","style","div"].forEach(function(wt){a.indexOf("<"+wt)>=0&&(i=!0)}),i)return rne(n,r);Ax={"General Number":"General","General Date":cr[22],"Long Date":"dddd, mmmm dd, yyyy","Medium Date":cr[15],"Short Date":cr[14],"Long Time":cr[19],"Medium Time":cr[18],"Short Time":cr[20],Currency:'"$"#,##0.00_);[Red]\\("$"#,##0.00\\)',Fixed:cr[2],Standard:cr[4],Percent:cr[10],Scientific:cr[11],"Yes/No":'"Yes";"Yes";"No";@',"True/False":'"True";"True";"False";@',"On/Off":'"Yes";"Yes";"No";@'};var o,f=[],u,h={},p=[],g=r.dense?[]:{},x="",b={},y={},w=xc('<Data ss:Type="String">'),_=0,E=0,A=0,O={s:{r:2e6,c:2e6},e:{r:0,c:0}},D={},R={},P="",T=0,B=[],G={},I={},z=0,K=[],J=[],pe={},ne=[],le,ve=!1,ue=[],je=[],te={},F=0,M=0,q={Sheets:[],WBProps:{date1904:!1}},W={};$x.lastIndex=0,n=n.replace(/<!--([\s\S]*?)-->/mg,"");for(var Z="";o=$x.exec(n);)switch(o[3]=(Z=o[3]).toLowerCase()){case"data":if(Z=="data"){if(o[1]==="/"){if((u=f.pop())[0]!==o[3])throw new Error("Bad state: "+u.join("|"))}else o[0].charAt(o[0].length-2)!=="/"&&f.push([o[3],!0]);break}if(f[f.length-1][1])break;o[1]==="/"?xre(n.slice(_,o.index),P,w,f[f.length-1][0]=="comment"?pe:b,{c:E,r:A},D,ne[E],y,ue,r):(P="",w=xc(o[0]),_=o.index+o[0].length);break;case"cell":if(o[1]==="/")if(J.length>0&&(b.c=J),(!r.sheetRows||r.sheetRows>A)&&b.v!==void 0&&(r.dense?(g[A]||(g[A]=[]),g[A][E]=b):g[Na(E)+Ka(A)]=b),b.HRef&&(b.l={Target:Xr(b.HRef)},b.HRefScreenTip&&(b.l.Tooltip=b.HRefScreenTip),delete b.HRef,delete b.HRefScreenTip),(b.MergeAcross||b.MergeDown)&&(F=E+(parseInt(b.MergeAcross,10)|0),M=A+(parseInt(b.MergeDown,10)|0),B.push({s:{c:E,r:A},e:{c:F,r:M}})),!r.sheetStubs)b.MergeAcross?E=F+1:++E;else if(b.MergeAcross||b.MergeDown){for(var oe=E;oe<=F;++oe)for(var ce=A;ce<=M;++ce)(oe>E||ce>A)&&(r.dense?(g[ce]||(g[ce]=[]),g[ce][oe]={t:"z"}):g[Na(oe)+Ka(ce)]={t:"z"});E=F+1}else++E;else b=fre(o[0]),b.Index&&(E=+b.Index-1),E<O.s.c&&(O.s.c=E),E>O.e.c&&(O.e.c=E),o[0].slice(-2)==="/>"&&++E,J=[];break;case"row":o[1]==="/"||o[0].slice(-2)==="/>"?(A<O.s.r&&(O.s.r=A),A>O.e.r&&(O.e.r=A),o[0].slice(-2)==="/>"&&(y=xc(o[0]),y.Index&&(A=+y.Index-1)),E=0,++A):(y=xc(o[0]),y.Index&&(A=+y.Index-1),te={},(y.AutoFitHeight=="0"||y.Height)&&(te.hpx=parseInt(y.Height,10),te.hpt=Kx(te.hpx),je[A]=te),y.Hidden=="1"&&(te.hidden=!0,je[A]=te));break;case"worksheet":if(o[1]==="/"){if((u=f.pop())[0]!==o[3])throw new Error("Bad state: "+u.join("|"));p.push(x),O.s.r<=O.e.r&&O.s.c<=O.e.c&&(g["!ref"]=_r(O),r.sheetRows&&r.sheetRows<=O.e.r&&(g["!fullref"]=g["!ref"],O.e.r=r.sheetRows-1,g["!ref"]=_r(O))),B.length&&(g["!merges"]=B),ne.length>0&&(g["!cols"]=ne),je.length>0&&(g["!rows"]=je),h[x]=g}else O={s:{r:2e6,c:2e6},e:{r:0,c:0}},A=E=0,f.push([o[3],!1]),u=xc(o[0]),x=Xr(u.Name),g=r.dense?[]:{},B=[],ue=[],je=[],W={name:x,Hidden:0},q.Sheets.push(W);break;case"table":if(o[1]==="/"){if((u=f.pop())[0]!==o[3])throw new Error("Bad state: "+u.join("|"))}else{if(o[0].slice(-2)=="/>")break;f.push([o[3],!1]),ne=[],ve=!1}break;case"style":o[1]==="/"?pre(D,R,r):R=xc(o[0]);break;case"numberformat":R.nf=Xr(xc(o[0]).Format||"General"),Ax[R.nf]&&(R.nf=Ax[R.nf]);for(var ae=0;ae!=392&&cr[ae]!=R.nf;++ae);if(ae==392){for(ae=57;ae!=392;++ae)if(cr[ae]==null){nf(R.nf,ae);break}}break;case"column":if(f[f.length-1][0]!=="table")break;if(le=xc(o[0]),le.Hidden&&(le.hidden=!0,delete le.Hidden),le.Width&&(le.wpx=parseInt(le.Width,10)),!ve&&le.wpx>10){ve=!0,ws=SF;for(var Se=0;Se<ne.length;++Se)ne[Se]&&Ad(ne[Se])}ve&&Ad(le),ne[le.Index-1||ne.length]=le;for(var De=0;De<+le.Span;++De)ne[ne.length]=Jn(le);break;case"namedrange":if(o[1]==="/")break;q.Names||(q.Names=[]);var X=dr(o[0]),Ke={Name:X.Name,Ref:km(X.RefersTo.slice(1),{r:0,c:0})};q.Sheets.length>0&&(Ke.Sheet=q.Sheets.length-1),q.Names.push(Ke);break;case"namedcell":break;case"b":break;case"i":break;case"u":break;case"s":break;case"em":break;case"h2":break;case"h3":break;case"sub":break;case"sup":break;case"span":break;case"alignment":break;case"borders":break;case"border":break;case"font":if(o[0].slice(-2)==="/>")break;o[1]==="/"?P+=n.slice(T,o.index):T=o.index+o[0].length;break;case"interior":if(!r.cellStyles)break;R.Interior=xc(o[0]);break;case"protection":break;case"author":case"title":case"description":case"created":case"keywords":case"subject":case"category":case"company":case"lastauthor":case"lastsaved":case"lastprinted":case"version":case"revision":case"totaltime":case"hyperlinkbase":case"manager":case"contentstatus":case"identifier":case"language":case"appname":if(o[0].slice(-2)==="/>")break;o[1]==="/"?zG(G,Z,n.slice(z,o.index)):z=o.index+o[0].length;break;case"paragraphs":break;case"styles":case"workbook":if(o[1]==="/"){if((u=f.pop())[0]!==o[3])throw new Error("Bad state: "+u.join("|"))}else f.push([o[3],!1]);break;case"comment":if(o[1]==="/"){if((u=f.pop())[0]!==o[3])throw new Error("Bad state: "+u.join("|"));gre(pe),J.push(pe)}else f.push([o[3],!1]),u=xc(o[0]),pe={a:u.Author};break;case"autofilter":if(o[1]==="/"){if((u=f.pop())[0]!==o[3])throw new Error("Bad state: "+u.join("|"))}else if(o[0].charAt(o[0].length-2)!=="/"){var Ce=xc(o[0]);g["!autofilter"]={ref:km(Ce.Range).replace(/\$/g,"")},f.push([o[3],!0])}break;case"name":break;case"datavalidation":if(o[1]==="/"){if((u=f.pop())[0]!==o[3])throw new Error("Bad state: "+u.join("|"))}else o[0].charAt(o[0].length-2)!=="/"&&f.push([o[3],!0]);break;case"pixelsperinch":break;case"componentoptions":case"documentproperties":case"customdocumentproperties":case"officedocumentsettings":case"pivottable":case"pivotcache":case"names":case"mapinfo":case"pagebreaks":case"querytable":case"sorting":case"schema":case"conditionalformatting":case"smarttagtype":case"smarttags":case"excelworkbook":case"workbookoptions":case"worksheetoptions":if(o[1]==="/"){if((u=f.pop())[0]!==o[3])throw new Error("Bad state: "+u.join("|"))}else o[0].charAt(o[0].length-2)!=="/"&&f.push([o[3],!0]);break;case"null":break;default:if(f.length==0&&o[3]=="document"||f.length==0&&o[3]=="uof")return Fk(n,r);var xe=!0;switch(f[f.length-1][0]){case"officedocumentsettings":switch(o[3]){case"allowpng":break;case"removepersonalinformation":break;case"downloadcomponents":break;case"locationofcomponents":break;case"colors":break;case"color":break;case"index":break;case"rgb":break;case"targetscreensize":break;case"readonlyrecommended":break;default:xe=!1}break;case"componentoptions":switch(o[3]){case"toolbar":break;case"hideofficelogo":break;case"spreadsheetautofit":break;case"label":break;case"caption":break;case"maxheight":break;case"maxwidth":break;case"nextsheetnumber":break;default:xe=!1}break;case"excelworkbook":switch(o[3]){case"date1904":q.WBProps.date1904=!0;break;case"windowheight":break;case"windowwidth":break;case"windowtopx":break;case"windowtopy":break;case"tabratio":break;case"protectstructure":break;case"protectwindow":break;case"protectwindows":break;case"activesheet":break;case"displayinknotes":break;case"firstvisiblesheet":break;case"supbook":break;case"sheetname":break;case"sheetindex":break;case"sheetindexfirst":break;case"sheetindexlast":break;case"dll":break;case"acceptlabelsinformulas":break;case"donotsavelinkvalues":break;case"iteration":break;case"maxiterations":break;case"maxchange":break;case"path":break;case"xct":break;case"count":break;case"selectedsheets":break;case"calculation":break;case"uncalced":break;case"startupprompt":break;case"crn":break;case"externname":break;case"formula":break;case"colfirst":break;case"collast":break;case"wantadvise":break;case"boolean":break;case"error":break;case"text":break;case"ole":break;case"noautorecover":break;case"publishobjects":break;case"donotcalculatebeforesave":break;case"number":break;case"refmoder1c1":break;case"embedsavesmarttags":break;default:xe=!1}break;case"workbookoptions":switch(o[3]){case"owcversion":break;case"height":break;case"width":break;default:xe=!1}break;case"worksheetoptions":switch(o[3]){case"visible":if(o[0].slice(-2)!=="/>")if(o[1]==="/")switch(n.slice(z,o.index)){case"SheetHidden":W.Hidden=1;break;case"SheetVeryHidden":W.Hidden=2;break}else z=o.index+o[0].length;break;case"header":g["!margins"]||F0(g["!margins"]={},"xlml"),isNaN(+dr(o[0]).Margin)||(g["!margins"].header=+dr(o[0]).Margin);break;case"footer":g["!margins"]||F0(g["!margins"]={},"xlml"),isNaN(+dr(o[0]).Margin)||(g["!margins"].footer=+dr(o[0]).Margin);break;case"pagemargins":var dt=dr(o[0]);g["!margins"]||F0(g["!margins"]={},"xlml"),isNaN(+dt.Top)||(g["!margins"].top=+dt.Top),isNaN(+dt.Left)||(g["!margins"].left=+dt.Left),isNaN(+dt.Right)||(g["!margins"].right=+dt.Right),isNaN(+dt.Bottom)||(g["!margins"].bottom=+dt.Bottom);break;case"displayrighttoleft":q.Views||(q.Views=[]),q.Views[0]||(q.Views[0]={}),q.Views[0].RTL=!0;break;case"freezepanes":break;case"frozennosplit":break;case"splithorizontal":case"splitvertical":break;case"donotdisplaygridlines":break;case"activerow":break;case"activecol":break;case"toprowbottompane":break;case"leftcolumnrightpane":break;case"unsynced":break;case"print":break;case"printerrors":break;case"panes":break;case"scale":break;case"pane":break;case"number":break;case"layout":break;case"pagesetup":break;case"selected":break;case"protectobjects":break;case"enableselection":break;case"protectscenarios":break;case"validprinterinfo":break;case"horizontalresolution":break;case"verticalresolution":break;case"numberofcopies":break;case"activepane":break;case"toprowvisible":break;case"leftcolumnvisible":break;case"fittopage":break;case"rangeselection":break;case"papersizeindex":break;case"pagelayoutzoom":break;case"pagebreakzoom":break;case"filteron":break;case"fitwidth":break;case"fitheight":break;case"commentslayout":break;case"zoom":break;case"lefttoright":break;case"gridlines":break;case"allowsort":break;case"allowfilter":break;case"allowinsertrows":break;case"allowdeleterows":break;case"allowinsertcols":break;case"allowdeletecols":break;case"allowinserthyperlinks":break;case"allowformatcells":break;case"allowsizecols":break;case"allowsizerows":break;case"nosummaryrowsbelowdetail":g["!outline"]||(g["!outline"]={}),g["!outline"].above=!0;break;case"tabcolorindex":break;case"donotdisplayheadings":break;case"showpagelayoutzoom":break;case"nosummarycolumnsrightdetail":g["!outline"]||(g["!outline"]={}),g["!outline"].left=!0;break;case"blackandwhite":break;case"donotdisplayzeros":break;case"displaypagebreak":break;case"rowcolheadings":break;case"donotdisplayoutline":break;case"noorientation":break;case"allowusepivottables":break;case"zeroheight":break;case"viewablerange":break;case"selection":break;case"protectcontents":break;default:xe=!1}break;case"pivottable":case"pivotcache":switch(o[3]){case"immediateitemsondrop":break;case"showpagemultipleitemlabel":break;case"compactrowindent":break;case"location":break;case"pivotfield":break;case"orientation":break;case"layoutform":break;case"layoutsubtotallocation":break;case"layoutcompactrow":break;case"position":break;case"pivotitem":break;case"datatype":break;case"datafield":break;case"sourcename":break;case"parentfield":break;case"ptlineitems":break;case"ptlineitem":break;case"countofsameitems":break;case"item":break;case"itemtype":break;case"ptsource":break;case"cacheindex":break;case"consolidationreference":break;case"filename":break;case"reference":break;case"nocolumngrand":break;case"norowgrand":break;case"blanklineafteritems":break;case"hidden":break;case"subtotal":break;case"basefield":break;case"mapchilditems":break;case"function":break;case"refreshonfileopen":break;case"printsettitles":break;case"mergelabels":break;case"defaultversion":break;case"refreshname":break;case"refreshdate":break;case"refreshdatecopy":break;case"versionlastrefresh":break;case"versionlastupdate":break;case"versionupdateablemin":break;case"versionrefreshablemin":break;case"calculation":break;default:xe=!1}break;case"pagebreaks":switch(o[3]){case"colbreaks":break;case"colbreak":break;case"rowbreaks":break;case"rowbreak":break;case"colstart":break;case"colend":break;case"rowend":break;default:xe=!1}break;case"autofilter":switch(o[3]){case"autofiltercolumn":break;case"autofiltercondition":break;case"autofilterand":break;case"autofilteror":break;default:xe=!1}break;case"querytable":switch(o[3]){case"id":break;case"autoformatfont":break;case"autoformatpattern":break;case"querysource":break;case"querytype":break;case"enableredirections":break;case"refreshedinxl9":break;case"urlstring":break;case"htmltables":break;case"connection":break;case"commandtext":break;case"refreshinfo":break;case"notitles":break;case"nextid":break;case"columninfo":break;case"overwritecells":break;case"donotpromptforfile":break;case"textwizardsettings":break;case"source":break;case"number":break;case"decimal":break;case"thousandseparator":break;case"trailingminusnumbers":break;case"formatsettings":break;case"fieldtype":break;case"delimiters":break;case"tab":break;case"comma":break;case"autoformatname":break;case"versionlastedit":break;case"versionlastrefresh":break;default:xe=!1}break;case"datavalidation":switch(o[3]){case"range":break;case"type":break;case"min":break;case"max":break;case"sort":break;case"descending":break;case"order":break;case"casesensitive":break;case"value":break;case"errorstyle":break;case"errormessage":break;case"errortitle":break;case"inputmessage":break;case"inputtitle":break;case"combohide":break;case"inputhide":break;case"condition":break;case"qualifier":break;case"useblank":break;case"value1":break;case"value2":break;case"format":break;case"cellrangelist":break;default:xe=!1}break;case"sorting":case"conditionalformatting":switch(o[3]){case"range":break;case"type":break;case"min":break;case"max":break;case"sort":break;case"descending":break;case"order":break;case"casesensitive":break;case"value":break;case"errorstyle":break;case"errormessage":break;case"errortitle":break;case"cellrangelist":break;case"inputmessage":break;case"inputtitle":break;case"combohide":break;case"inputhide":break;case"condition":break;case"qualifier":break;case"useblank":break;case"value1":break;case"value2":break;case"format":break;default:xe=!1}break;case"mapinfo":case"schema":case"data":switch(o[3]){case"map":break;case"entry":break;case"range":break;case"xpath":break;case"field":break;case"xsdtype":break;case"filteron":break;case"aggregate":break;case"elementtype":break;case"attributetype":break;case"schema":case"element":case"complextype":case"datatype":case"all":case"attribute":case"extends":break;case"row":break;default:xe=!1}break;case"smarttags":break;default:xe=!1;break}if(xe||o[3].match(/!\[CDATA/))break;if(!f[f.length-1][1])throw"Unrecognized tag: "+o[3]+"|"+f.join("|");if(f[f.length-1][0]==="customdocumentproperties"){if(o[0].slice(-2)==="/>")break;o[1]==="/"?hre(I,Z,K,n.slice(z,o.index)):(K=o,z=o.index+o[0].length);break}if(r.WTF)throw"Unrecognized tag: "+o[3]+"|"+f.join("|")}var Xe={};return!r.bookSheets&&!r.bookProps&&(Xe.Sheets=h),Xe.SheetNames=p,Xe.Workbook=q,Xe.SSF=Jn(cr),Xe.Props=G,Xe.Custprops=I,Xe}function i_(e,t){switch(N3(t=t||{}),t.type||"base64"){case"base64":return Cw(to(e),t);case"binary":case"buffer":case"file":return Cw(e,t);case"array":return Cw(Md(e),t)}}function vre(e,t){var r=[];return e.Props&&r.push(qG(e.Props,t)),e.Custprops&&r.push($G(e.Props,e.Custprops)),r.join("")}function yre(){return""}function bre(e,t){var r=['<Style ss:ID="Default" ss:Name="Normal"><NumberFormat/></Style>'];return t.cellXfs.forEach(function(n,a){var i=[];i.push(gt("NumberFormat",null,{"ss:Format":Nn(cr[n.numFmtId])}));var l={"ss:ID":"s"+(21+a)};r.push(gt("Style",i.join(""),l))}),gt("Styles",r.join(""))}function QF(e){return gt("NamedRange",null,{"ss:Name":e.Name,"ss:RefersTo":"="+g3(e.Ref,{r:0,c:0})})}function wre(e){if(!((e||{}).Workbook||{}).Names)return"";for(var t=e.Workbook.Names,r=[],n=0;n<t.length;++n){var a=t[n];a.Sheet==null&&(a.Name.match(/^_xlfn\./)||r.push(QF(a)))}return gt("Names",r.join(""))}function _re(e,t,r,n){if(!e||!((n||{}).Workbook||{}).Names)return"";for(var a=n.Workbook.Names,i=[],l=0;l<a.length;++l){var o=a[l];o.Sheet==r&&(o.Name.match(/^_xlfn\./)||i.push(QF(o)))}return i.join("")}function Nre(e,t,r,n){if(!e)return"";var a=[];if(e["!margins"]&&(a.push("<PageSetup>"),e["!margins"].header&&a.push(gt("Header",null,{"x:Margin":e["!margins"].header})),e["!margins"].footer&&a.push(gt("Footer",null,{"x:Margin":e["!margins"].footer})),a.push(gt("PageMargins",null,{"x:Bottom":e["!margins"].bottom||"0.75","x:Left":e["!margins"].left||"0.7","x:Right":e["!margins"].right||"0.7","x:Top":e["!margins"].top||"0.75"})),a.push("</PageSetup>")),n&&n.Workbook&&n.Workbook.Sheets&&n.Workbook.Sheets[r])if(n.Workbook.Sheets[r].Hidden)a.push(gt("Visible",n.Workbook.Sheets[r].Hidden==1?"SheetHidden":"SheetVeryHidden",{}));else{for(var i=0;i<r&&!(n.Workbook.Sheets[i]&&!n.Workbook.Sheets[i].Hidden);++i);i==r&&a.push("<Selected/>")}return((((n||{}).Workbook||{}).Views||[])[0]||{}).RTL&&a.push("<DisplayRightToLeft/>"),e["!protect"]&&(a.push(as("ProtectContents","True")),e["!protect"].objects&&a.push(as("ProtectObjects","True")),e["!protect"].scenarios&&a.push(as("ProtectScenarios","True")),e["!protect"].selectLockedCells!=null&&!e["!protect"].selectLockedCells?a.push(as("EnableSelection","NoSelection")):e["!protect"].selectUnlockedCells!=null&&!e["!protect"].selectUnlockedCells&&a.push(as("EnableSelection","UnlockedCells")),[["formatCells","AllowFormatCells"],["formatColumns","AllowSizeCols"],["formatRows","AllowSizeRows"],["insertColumns","AllowInsertCols"],["insertRows","AllowInsertRows"],["insertHyperlinks","AllowInsertHyperlinks"],["deleteColumns","AllowDeleteCols"],["deleteRows","AllowDeleteRows"],["sort","AllowSort"],["autoFilter","AllowFilter"],["pivotTables","AllowUsePivotTables"]].forEach(function(l){e["!protect"][l[0]]&&a.push("<"+l[1]+"/>")})),a.length==0?"":gt("WorksheetOptions",a.join(""),{xmlns:Gl.x})}function Sre(e){return e.map(function(t){var r=VW(t.t||""),n=gt("ss:Data",r,{xmlns:"http://www.w3.org/TR/REC-html40"});return gt("Comment",n,{"ss:Author":t.a})}).join("")}function jre(e,t,r,n,a,i,l){if(!e||e.v==null&&e.f==null)return"";var o={};if(e.f&&(o["ss:Formula"]="="+Nn(g3(e.f,l))),e.F&&e.F.slice(0,t.length)==t){var f=Sa(e.F.slice(t.length+1));o["ss:ArrayRange"]="RC:R"+(f.r==l.r?"":"["+(f.r-l.r)+"]")+"C"+(f.c==l.c?"":"["+(f.c-l.c)+"]")}if(e.l&&e.l.Target&&(o["ss:HRef"]=Nn(e.l.Target),e.l.Tooltip&&(o["x:HRefScreenTip"]=Nn(e.l.Tooltip))),r["!merges"])for(var u=r["!merges"],h=0;h!=u.length;++h)u[h].s.c!=l.c||u[h].s.r!=l.r||(u[h].e.c>u[h].s.c&&(o["ss:MergeAcross"]=u[h].e.c-u[h].s.c),u[h].e.r>u[h].s.r&&(o["ss:MergeDown"]=u[h].e.r-u[h].s.r));var p="",g="";switch(e.t){case"z":if(!n.sheetStubs)return"";break;case"n":p="Number",g=String(e.v);break;case"b":p="Boolean",g=e.v?"1":"0";break;case"e":p="Error",g=_f[e.v];break;case"d":p="DateTime",g=new Date(e.v).toISOString(),e.z==null&&(e.z=e.z||cr[14]);break;case"s":p="String",g=HW(e.v||"");break}var x=Id(n.cellXfs,e,n);o["ss:StyleID"]="s"+(21+x),o["ss:Index"]=l.c+1;var b=e.v!=null?g:"",y=e.t=="z"?"":'<Data ss:Type="'+p+'">'+b+"</Data>";return(e.c||[]).length>0&&(y+=Sre(e.c)),gt("Cell",y,o)}function Are(e,t){var r='<Row ss:Index="'+(e+1)+'"';return t&&(t.hpt&&!t.hpx&&(t.hpx=Bm(t.hpt)),t.hpx&&(r+=' ss:AutoFitHeight="0" ss:Height="'+t.hpx+'"'),t.hidden&&(r+=' ss:Hidden="1"')),r+">"}function Ere(e,t,r,n){if(!e["!ref"])return"";var a=Zr(e["!ref"]),i=e["!merges"]||[],l=0,o=[];e["!cols"]&&e["!cols"].forEach(function(w,_){Ad(w);var E=!!w.width,A=f2(_,w),O={"ss:Index":_+1};E&&(O["ss:Width"]=Wx(A.width)),w.hidden&&(O["ss:Hidden"]="1"),o.push(gt("Column",null,O))});for(var f=Array.isArray(e),u=a.s.r;u<=a.e.r;++u){for(var h=[Are(u,(e["!rows"]||[])[u])],p=a.s.c;p<=a.e.c;++p){var g=!1;for(l=0;l!=i.length;++l)if(!(i[l].s.c>p)&&!(i[l].s.r>u)&&!(i[l].e.c<p)&&!(i[l].e.r<u)){(i[l].s.c!=p||i[l].s.r!=u)&&(g=!0);break}if(!g){var x={r:u,c:p},b=ur(x),y=f?(e[u]||[])[p]:e[b];h.push(jre(y,b,e,t,r,n,x))}}h.push("</Row>"),h.length>2&&o.push(h.join(""))}return o.join("")}function kre(e,t,r){var n=[],a=r.SheetNames[e],i=r.Sheets[a],l=i?_re(i,t,e,r):"";return l.length>0&&n.push("<Names>"+l+"</Names>"),l=i?Ere(i,t,e,r):"",l.length>0&&n.push("<Table>"+l+"</Table>"),n.push(Nre(i,t,e,r)),n.join("")}function Cre(e,t){t||(t={}),e.SSF||(e.SSF=Jn(cr)),e.SSF&&(rp(),a2(e.SSF),t.revssf=s2(e.SSF),t.revssf[e.SSF[65535]]=0,t.ssf=e.SSF,t.cellXfs=[],Id(t.cellXfs,{},{revssf:{General:0}}));var r=[];r.push(vre(e,t)),r.push(yre()),r.push(""),r.push("");for(var n=0;n<e.SheetNames.length;++n)r.push(gt("Worksheet",kre(n,t,e),{"ss:Name":Nn(e.SheetNames[n])}));return r[2]=bre(e,t),r[3]=wre(e),Ya+gt("Workbook",r.join(""),{xmlns:Gl.ss,"xmlns:o":Gl.o,"xmlns:x":Gl.x,"xmlns:ss":Gl.ss,"xmlns:dt":Gl.dt,"xmlns:html":Gl.html})}function Tre(e){var t={},r=e.content;if(r.l=28,t.AnsiUserType=r.read_shift(0,"lpstr-ansi"),t.AnsiClipboardFormat=wG(r),r.length-r.l<=4)return t;var n=r.read_shift(4);if(n==0||n>40||(r.l-=4,t.Reserved1=r.read_shift(0,"lpstr-ansi"),r.length-r.l<=4)||(n=r.read_shift(4),n!==1907505652)||(t.UnicodeClipboardFormat=_G(r),n=r.read_shift(4),n==0||n>40))return t;r.l-=4,t.Reserved2=r.read_shift(0,"lpwstr")}var Ore=[60,1084,2066,2165,2175];function Dre(e,t,r,n,a){var i=n,l=[],o=r.slice(r.l,r.l+i);if(a&&a.enc&&a.enc.insitu&&o.length>0)switch(e){case 9:case 521:case 1033:case 2057:case 47:case 405:case 225:case 406:case 312:case 404:case 10:break;case 133:break;default:a.enc.insitu(o)}l.push(o),r.l+=i;for(var f=Xu(r,r.l),u=s_[f],h=0;u!=null&&Ore.indexOf(f)>-1;)i=Xu(r,r.l+2),h=r.l+4,f==2066?h+=4:(f==2165||f==2175)&&(h+=12),o=r.slice(h,r.l+4+i),l.push(o),r.l+=4+i,u=s_[f=Xu(r,r.l)];var p=Ii(l);rs(p,0);var g=0;p.lens=[];for(var x=0;x<l.length;++x)p.lens.push(g),g+=l[x].length;if(p.length<n)throw"XLS Record 0x"+e.toString(16)+" Truncated: "+p.length+" < "+n;return t.f(p,p.length,a)}function eu(e,t,r){if(e.t!=="z"&&e.XF){var n=0;try{n=e.z||e.XF.numFmtId||0,t.cellNF&&(e.z=cr[n])}catch(i){if(t.WTF)throw i}if(!t||t.cellText!==!1)try{e.t==="e"?e.w=e.w||_f[e.v]:n===0||n=="General"?e.t==="n"?(e.v|0)===e.v?e.w=e.v.toString(10):e.w=Ux(e.v):e.w=H0(e.v):e.w=Bo(n,e.v,{date1904:!!r,dateNF:t&&t.dateNF})}catch(i){if(t.WTF)throw i}if(t.cellDates&&n&&e.t=="n"&&tp(cr[n]||String(n))){var a=E0(e.v);a&&(e.t="d",e.v=new Date(a.y,a.m-1,a.d,a.H,a.M,a.S,a.u))}}}function J1(e,t,r){return{v:e,ixfe:t,t:r}}function Pre(e,t){var r={opts:{}},n={},a=t.dense?[]:{},i={},l={},o=null,f=[],u="",h={},p,g="",x,b,y,w,_={},E=[],A,O,D=[],R=[],P={Sheets:[],WBProps:{date1904:!1},Views:[{}]},T={},B=function(xt){return xt<8?O0[xt]:xt<64&&R[xt-8]||O0[xt]},G=function(xt,jt,Nr){var Yt=jt.XF.data;if(!(!Yt||!Yt.patternType||!Nr||!Nr.cellStyles)){jt.s={},jt.s.patternType=Yt.patternType;var St;(St=Vx(B(Yt.icvFore)))&&(jt.s.fgColor={rgb:St}),(St=Vx(B(Yt.icvBack)))&&(jt.s.bgColor={rgb:St})}},I=function(xt,jt,Nr){if(!(te>1)&&!(Nr.sheetRows&&xt.r>=Nr.sheetRows)){if(Nr.cellStyles&&jt.XF&&jt.XF.data&&G(xt,jt,Nr),delete jt.ixfe,delete jt.XF,p=xt,g=ur(xt),(!l||!l.s||!l.e)&&(l={s:{r:0,c:0},e:{r:0,c:0}}),xt.r<l.s.r&&(l.s.r=xt.r),xt.c<l.s.c&&(l.s.c=xt.c),xt.r+1>l.e.r&&(l.e.r=xt.r+1),xt.c+1>l.e.c&&(l.e.c=xt.c+1),Nr.cellFormula&&jt.f){for(var Yt=0;Yt<E.length;++Yt)if(!(E[Yt][0].s.c>xt.c||E[Yt][0].s.r>xt.r)&&!(E[Yt][0].e.c<xt.c||E[Yt][0].e.r<xt.r)){jt.F=_r(E[Yt][0]),(E[Yt][0].s.c!=xt.c||E[Yt][0].s.r!=xt.r)&&delete jt.f,jt.f&&(jt.f=""+bs(E[Yt][1],l,xt,ue,z));break}}Nr.dense?(a[xt.r]||(a[xt.r]=[]),a[xt.r][xt.c]=jt):a[g]=jt}},z={enc:!1,sbcch:0,snames:[],sharedf:_,arrayf:E,rrtabid:[],lastuser:"",biff:8,codepage:0,winlocked:0,cellStyles:!!t&&!!t.cellStyles,WTF:!!t&&!!t.wtf};t.password&&(z.password=t.password);var K,J=[],pe=[],ne=[],le=[],ve=!1,ue=[];ue.SheetNames=z.snames,ue.sharedf=z.sharedf,ue.arrayf=z.arrayf,ue.names=[],ue.XTI=[];var je=0,te=0,F=0,M=[],q=[],W;z.codepage=1200,bc(1200);for(var Z=!1;e.l<e.length-1;){var oe=e.l,ce=e.read_shift(2);if(ce===0&&je===10)break;var ae=e.l===e.length?0:e.read_shift(2),Se=s_[ce];if(Se&&Se.f){if(t.bookSheets&&je===133&&ce!==133)break;if(je=ce,Se.r===2||Se.r==12){var De=e.read_shift(2);if(ae-=2,!z.enc&&De!==ce&&((De&255)<<8|De>>8)!==ce)throw new Error("rt mismatch: "+De+"!="+ce);Se.r==12&&(e.l+=10,ae-=10)}var X={};if(ce===10?X=Se.f(e,ae,z):X=Dre(ce,Se,e,ae,z),te==0&&[9,521,1033,2057].indexOf(je)===-1)continue;switch(ce){case 34:r.opts.Date1904=P.WBProps.date1904=X;break;case 134:r.opts.WriteProtect=!0;break;case 47:if(z.enc||(e.l=0),z.enc=X,!t.password)throw new Error("File is password-protected");if(X.valid==null)throw new Error("Encryption scheme unsupported");if(!X.valid)throw new Error("Password is incorrect");break;case 92:z.lastuser=X;break;case 66:var Ke=Number(X);switch(Ke){case 21010:Ke=1200;break;case 32768:Ke=1e4;break;case 32769:Ke=1252;break}bc(z.codepage=Ke),Z=!0;break;case 317:z.rrtabid=X;break;case 25:z.winlocked=X;break;case 439:r.opts.RefreshAll=X;break;case 12:r.opts.CalcCount=X;break;case 16:r.opts.CalcDelta=X;break;case 17:r.opts.CalcIter=X;break;case 13:r.opts.CalcMode=X;break;case 14:r.opts.CalcPrecision=X;break;case 95:r.opts.CalcSaveRecalc=X;break;case 15:z.CalcRefMode=X;break;case 2211:r.opts.FullCalc=X;break;case 129:X.fDialog&&(a["!type"]="dialog"),X.fBelow||((a["!outline"]||(a["!outline"]={})).above=!0),X.fRight||((a["!outline"]||(a["!outline"]={})).left=!0);break;case 224:D.push(X);break;case 430:ue.push([X]),ue[ue.length-1].XTI=[];break;case 35:case 547:ue[ue.length-1].push(X);break;case 24:case 536:W={Name:X.Name,Ref:bs(X.rgce,l,null,ue,z)},X.itab>0&&(W.Sheet=X.itab-1),ue.names.push(W),ue[0]||(ue[0]=[],ue[0].XTI=[]),ue[ue.length-1].push(X),X.Name=="_xlnm._FilterDatabase"&&X.itab>0&&X.rgce&&X.rgce[0]&&X.rgce[0][0]&&X.rgce[0][0][0]=="PtgArea3d"&&(q[X.itab-1]={ref:_r(X.rgce[0][0][1][2])});break;case 22:z.ExternCount=X;break;case 23:ue.length==0&&(ue[0]=[],ue[0].XTI=[]),ue[ue.length-1].XTI=ue[ue.length-1].XTI.concat(X),ue.XTI=ue.XTI.concat(X);break;case 2196:if(z.biff<8)break;W!=null&&(W.Comment=X[1]);break;case 18:a["!protect"]=X;break;case 19:X!==0&&z.WTF&&console.error("Password verifier: "+X);break;case 133:i[X.pos]=X,z.snames.push(X.name);break;case 10:{if(--te)break;if(l.e){if(l.e.r>0&&l.e.c>0){if(l.e.r--,l.e.c--,a["!ref"]=_r(l),t.sheetRows&&t.sheetRows<=l.e.r){var Ce=l.e.r;l.e.r=t.sheetRows-1,a["!fullref"]=a["!ref"],a["!ref"]=_r(l),l.e.r=Ce}l.e.r++,l.e.c++}J.length>0&&(a["!merges"]=J),pe.length>0&&(a["!objects"]=pe),ne.length>0&&(a["!cols"]=ne),le.length>0&&(a["!rows"]=le),P.Sheets.push(T)}u===""?h=a:n[u]=a,a=t.dense?[]:{}}break;case 9:case 521:case 1033:case 2057:{if(z.biff===8&&(z.biff={9:2,521:3,1033:4}[ce]||{512:2,768:3,1024:4,1280:5,1536:8,2:2,7:2}[X.BIFFVer]||8),z.biffguess=X.BIFFVer==0,X.BIFFVer==0&&X.dt==4096&&(z.biff=5,Z=!0,bc(z.codepage=28591)),z.biff==8&&X.BIFFVer==0&&X.dt==16&&(z.biff=2),te++)break;if(a=t.dense?[]:{},z.biff<8&&!Z&&(Z=!0,bc(z.codepage=t.codepage||1252)),z.biff<5||X.BIFFVer==0&&X.dt==4096){u===""&&(u="Sheet1"),l={s:{r:0,c:0},e:{r:0,c:0}};var xe={pos:e.l-ae,name:u};i[xe.pos]=xe,z.snames.push(u)}else u=(i[oe]||{name:""}).name;X.dt==32&&(a["!type"]="chart"),X.dt==64&&(a["!type"]="macro"),J=[],pe=[],z.arrayf=E=[],ne=[],le=[],ve=!1,T={Hidden:(i[oe]||{hs:0}).hs,name:u}}break;case 515:case 3:case 2:a["!type"]=="chart"&&(t.dense?(a[X.r]||[])[X.c]:a[ur({c:X.c,r:X.r})])&&++X.c,A={ixfe:X.ixfe,XF:D[X.ixfe]||{},v:X.val,t:"n"},F>0&&(A.z=M[A.ixfe>>8&63]),eu(A,t,r.opts.Date1904),I({c:X.c,r:X.r},A,t);break;case 5:case 517:A={ixfe:X.ixfe,XF:D[X.ixfe],v:X.val,t:X.t},F>0&&(A.z=M[A.ixfe>>8&63]),eu(A,t,r.opts.Date1904),I({c:X.c,r:X.r},A,t);break;case 638:A={ixfe:X.ixfe,XF:D[X.ixfe],v:X.rknum,t:"n"},F>0&&(A.z=M[A.ixfe>>8&63]),eu(A,t,r.opts.Date1904),I({c:X.c,r:X.r},A,t);break;case 189:for(var dt=X.c;dt<=X.C;++dt){var Xe=X.rkrec[dt-X.c][0];A={ixfe:Xe,XF:D[Xe],v:X.rkrec[dt-X.c][1],t:"n"},F>0&&(A.z=M[A.ixfe>>8&63]),eu(A,t,r.opts.Date1904),I({c:dt,r:X.r},A,t)}break;case 6:case 518:case 1030:{if(X.val=="String"){o=X;break}if(A=J1(X.val,X.cell.ixfe,X.tt),A.XF=D[A.ixfe],t.cellFormula){var wt=X.formula;if(wt&&wt[0]&&wt[0][0]&&wt[0][0][0]=="PtgExp"){var lt=wt[0][0][1][0],At=wt[0][0][1][1],pt=ur({r:lt,c:At});_[pt]?A.f=""+bs(X.formula,l,X.cell,ue,z):A.F=((t.dense?(a[lt]||[])[At]:a[pt])||{}).F}else A.f=""+bs(X.formula,l,X.cell,ue,z)}F>0&&(A.z=M[A.ixfe>>8&63]),eu(A,t,r.opts.Date1904),I(X.cell,A,t),o=X}break;case 7:case 519:if(o)o.val=X,A=J1(X,o.cell.ixfe,"s"),A.XF=D[A.ixfe],t.cellFormula&&(A.f=""+bs(o.formula,l,o.cell,ue,z)),F>0&&(A.z=M[A.ixfe>>8&63]),eu(A,t,r.opts.Date1904),I(o.cell,A,t),o=null;else throw new Error("String record expects Formula");break;case 33:case 545:{E.push(X);var Qt=ur(X[0].s);if(x=t.dense?(a[X[0].s.r]||[])[X[0].s.c]:a[Qt],t.cellFormula&&x){if(!o||!Qt||!x)break;x.f=""+bs(X[1],l,X[0],ue,z),x.F=_r(X[0])}}break;case 1212:{if(!t.cellFormula)break;if(g){if(!o)break;_[ur(o.cell)]=X[0],x=t.dense?(a[o.cell.r]||[])[o.cell.c]:a[ur(o.cell)],(x||{}).f=""+bs(X[0],l,p,ue,z)}}break;case 253:A=J1(f[X.isst].t,X.ixfe,"s"),f[X.isst].h&&(A.h=f[X.isst].h),A.XF=D[A.ixfe],F>0&&(A.z=M[A.ixfe>>8&63]),eu(A,t,r.opts.Date1904),I({c:X.c,r:X.r},A,t);break;case 513:t.sheetStubs&&(A={ixfe:X.ixfe,XF:D[X.ixfe],t:"z"},F>0&&(A.z=M[A.ixfe>>8&63]),eu(A,t,r.opts.Date1904),I({c:X.c,r:X.r},A,t));break;case 190:if(t.sheetStubs)for(var Pt=X.c;Pt<=X.C;++Pt){var Vt=X.ixfe[Pt-X.c];A={ixfe:Vt,XF:D[Vt],t:"z"},F>0&&(A.z=M[A.ixfe>>8&63]),eu(A,t,r.opts.Date1904),I({c:Pt,r:X.r},A,t)}break;case 214:case 516:case 4:A=J1(X.val,X.ixfe,"s"),A.XF=D[A.ixfe],F>0&&(A.z=M[A.ixfe>>8&63]),eu(A,t,r.opts.Date1904),I({c:X.c,r:X.r},A,t);break;case 0:case 512:te===1&&(l=X);break;case 252:f=X;break;case 1054:if(z.biff==4){M[F++]=X[1];for(var Zt=0;Zt<F+163&&cr[Zt]!=X[1];++Zt);Zt>=163&&nf(X[1],F+163)}else nf(X[1],X[0]);break;case 30:{M[F++]=X;for(var Jt=0;Jt<F+163&&cr[Jt]!=X;++Jt);Jt>=163&&nf(X,F+163)}break;case 229:J=J.concat(X);break;case 93:pe[X.cmo[0]]=z.lastobj=X;break;case 438:z.lastobj.TxO=X;break;case 127:z.lastobj.ImData=X;break;case 440:for(w=X[0].s.r;w<=X[0].e.r;++w)for(y=X[0].s.c;y<=X[0].e.c;++y)x=t.dense?(a[w]||[])[y]:a[ur({c:y,r:w})],x&&(x.l=X[1]);break;case 2048:for(w=X[0].s.r;w<=X[0].e.r;++w)for(y=X[0].s.c;y<=X[0].e.c;++y)x=t.dense?(a[w]||[])[y]:a[ur({c:y,r:w})],x&&x.l&&(x.l.Tooltip=X[1]);break;case 28:{if(z.biff<=5&&z.biff>=2)break;x=t.dense?(a[X[0].r]||[])[X[0].c]:a[ur(X[0])];var Dr=pe[X[2]];x||(t.dense?(a[X[0].r]||(a[X[0].r]=[]),x=a[X[0].r][X[0].c]={t:"z"}):x=a[ur(X[0])]={t:"z"},l.e.r=Math.max(l.e.r,X[0].r),l.s.r=Math.min(l.s.r,X[0].r),l.e.c=Math.max(l.e.c,X[0].c),l.s.c=Math.min(l.s.c,X[0].c)),x.c||(x.c=[]),b={a:X[1],t:Dr.TxO.t},x.c.push(b)}break;case 2173:bQ(D[X.ixfe],X.ext);break;case 125:{if(!z.cellStyles)break;for(;X.e>=X.s;)ne[X.e--]={width:X.w/256,level:X.level||0,hidden:!!(X.flags&1)},ve||(ve=!0,m3(X.w/256)),Ad(ne[X.e+1])}break;case 520:{var It={};X.level!=null&&(le[X.r]=It,It.level=X.level),X.hidden&&(le[X.r]=It,It.hidden=!0),X.hpt&&(le[X.r]=It,It.hpt=X.hpt,It.hpx=Bm(X.hpt))}break;case 38:case 39:case 40:case 41:a["!margins"]||F0(a["!margins"]={}),a["!margins"][{38:"left",39:"right",40:"top",41:"bottom"}[ce]]=X;break;case 161:a["!margins"]||F0(a["!margins"]={}),a["!margins"].header=X.header,a["!margins"].footer=X.footer;break;case 574:X.RTL&&(P.Views[0].RTL=!0);break;case 146:R=X;break;case 2198:K=X;break;case 140:O=X;break;case 442:u?T.CodeName=X||T.name:P.WBProps.CodeName=X||"ThisWorkbook";break}}else Se||console.error("Missing Info for XLS Record 0x"+ce.toString(16)),e.l+=ae}return r.SheetNames=Ia(i).sort(function(Ct,xt){return Number(Ct)-Number(xt)}).map(function(Ct){return i[Ct].name}),t.bookSheets||(r.Sheets=n),!r.SheetNames.length&&h["!ref"]?(r.SheetNames.push("Sheet1"),r.Sheets&&(r.Sheets.Sheet1=h)):r.Preamble=h,r.Sheets&&q.forEach(function(Ct,xt){r.Sheets[r.SheetNames[xt]]["!autofilter"]=Ct}),r.Strings=f,r.SSF=Jn(cr),z.enc&&(r.Encryption=z.enc),K&&(r.Themes=K),r.Metadata={},O!==void 0&&(r.Metadata.Country=O),ue.names.length>0&&(P.Names=ue.names),r.Workbook=P,r}var Ex={SI:"e0859ff2f94f6810ab9108002b27b3d9",DSI:"02d5cdd59c2e1b10939708002b2cf9ae",UDI:"05d5cdd59c2e1b10939708002b2cf9ae"};function Fre(e,t,r){var n=nr.find(e,"/!DocumentSummaryInformation");if(n&&n.size>0)try{var a=uk(n,J4,Ex.DSI);for(var i in a)t[i]=a[i]}catch(u){if(r.WTF)throw u}var l=nr.find(e,"/!SummaryInformation");if(l&&l.size>0)try{var o=uk(l,e_,Ex.SI);for(var f in o)t[f]==null&&(t[f]=o[f])}catch(u){if(r.WTF)throw u}t.HeadingPairs&&t.TitlesOfParts&&(XP(t.HeadingPairs,t.TitlesOfParts,t,r),delete t.HeadingPairs,delete t.TitlesOfParts)}function Lre(e,t){var r=[],n=[],a=[],i=0,l,o=UE(J4,"n"),f=UE(e_,"n");if(e.Props)for(l=Ia(e.Props),i=0;i<l.length;++i)(Object.prototype.hasOwnProperty.call(o,l[i])?r:Object.prototype.hasOwnProperty.call(f,l[i])?n:a).push([l[i],e.Props[l[i]]]);if(e.Custprops)for(l=Ia(e.Custprops),i=0;i<l.length;++i)Object.prototype.hasOwnProperty.call(e.Props||{},l[i])||(Object.prototype.hasOwnProperty.call(o,l[i])?r:Object.prototype.hasOwnProperty.call(f,l[i])?n:a).push([l[i],e.Custprops[l[i]]]);var u=[];for(i=0;i<a.length;++i)nF.indexOf(a[i][0])>-1||YP.indexOf(a[i][0])>-1||a[i][1]!=null&&u.push(a[i]);n.length&&nr.utils.cfb_add(t,"/SummaryInformation",fk(n,Ex.SI,f,e_)),(r.length||u.length)&&nr.utils.cfb_add(t,"/DocumentSummaryInformation",fk(r,Ex.DSI,o,J4,u.length?u:null,Ex.UDI))}function ZF(e,t){t||(t={}),N3(t),HN(),t.codepage&&$N(t.codepage);var r,n;if(e.FullPaths){if(nr.find(e,"/encryption"))throw new Error("File is password-protected");r=nr.find(e,"!CompObj"),n=nr.find(e,"/Workbook")||nr.find(e,"/Book")}else{switch(t.type){case"base64":e=Xl(to(e));break;case"binary":e=Xl(e);break;case"buffer":break;case"array":Array.isArray(e)||(e=Array.prototype.slice.call(e));break}rs(e,0),n={content:e}}var a,i;if(r&&Tre(r),t.bookProps&&!t.bookSheets)a={};else{var l=Cr?"buffer":"array";if(n&&n.content)a=Pre(n.content,t);else if((i=nr.find(e,"PerfectOffice_MAIN"))&&i.content)a=P0.to_workbook(i.content,(t.type=l,t));else if((i=nr.find(e,"NativeContent_MAIN"))&&i.content)a=P0.to_workbook(i.content,(t.type=l,t));else throw(i=nr.find(e,"MN0"))&&i.content?new Error("Unsupported Works 4 for Mac file"):new Error("Cannot find Workbook stream");t.bookVBA&&e.FullPaths&&nr.find(e,"/_VBA_PROJECT_CUR/VBA/dir")&&(a.vbaraw=KQ(e))}var o={};return e.FullPaths&&Fre(e,o,t),a.Props=a.Custprops=o,t.bookFiles&&(a.cfb=e),a}function Mre(e,t){var r=t||{},n=nr.utils.cfb_new({root:"R"}),a="/Workbook";switch(r.bookType||"xls"){case"xls":r.bookType="biff8";case"xla":r.bookType||(r.bookType="xla");case"biff8":a="/Workbook",r.biff=8;break;case"biff5":a="/Book",r.biff=5;break;default:throw new Error("invalid type "+r.bookType+" for XLS CFB")}return nr.utils.cfb_add(n,a,JF(e,r)),r.biff==8&&(e.Props||e.Custprops)&&Lre(e,n),r.biff==8&&e.vbaraw&&YQ(n,nr.read(e.vbaraw,{type:typeof e.vbaraw=="string"?"binary":"buffer"})),n}var Yx={0:{f:see},1:{f:mee},2:{f:Pee},3:{f:_ee},4:{f:vee},5:{f:Tee},6:{f:Iee},7:{f:Aee},8:{f:Vee},9:{f:Hee},10:{f:qee},11:{f:$ee},12:{f:xee},13:{f:Lee},14:{f:See},15:{f:bee},16:{f:HF},17:{f:Uee},18:{f:kee},19:{f:a3},20:{},21:{},22:{},23:{},24:{},25:{},26:{},27:{},28:{},29:{},30:{},31:{},32:{},33:{},34:{},35:{T:1},36:{T:-1},37:{T:1},38:{T:-1},39:{f:Ute},40:{},42:{},43:{f:IX},44:{f:MX},45:{f:zX},46:{f:$X},47:{f:qX},48:{},49:{f:cG},50:{},51:{f:NQ},52:{T:1},53:{T:-1},54:{T:1},55:{T:-1},56:{T:1},57:{T:-1},58:{},59:{},60:{f:mF},62:{f:Ree},63:{f:DQ},64:{f:lte},65:{},66:{},67:{},68:{},69:{},70:{},128:{},129:{T:1},130:{T:-1},131:{T:1,f:ks,p:0},132:{T:-1},133:{T:1},134:{T:-1},135:{T:1},136:{T:-1},137:{T:1,f:nte},138:{T:-1},139:{T:1},140:{T:-1},141:{T:1},142:{T:-1},143:{T:1},144:{T:-1},145:{T:1},146:{T:-1},147:{f:dee},148:{f:cee,p:16},151:{f:Qee},152:{},153:{f:Rte},154:{},155:{},156:{f:Lte},157:{},158:{},159:{T:1,f:JY},160:{T:-1},161:{T:1,f:fh},162:{T:-1},163:{T:1},164:{T:-1},165:{T:1},166:{T:-1},167:{},168:{},169:{},170:{},171:{},172:{T:1},173:{T:-1},174:{},175:{},176:{f:Wee},177:{T:1},178:{T:-1},179:{T:1},180:{T:-1},181:{T:1},182:{T:-1},183:{T:1},184:{T:-1},185:{T:1},186:{T:-1},187:{T:1},188:{T:-1},189:{T:1},190:{T:-1},191:{T:1},192:{T:-1},193:{T:1},194:{T:-1},195:{T:1},196:{T:-1},197:{T:1},198:{T:-1},199:{T:1},200:{T:-1},201:{T:1},202:{T:-1},203:{T:1},204:{T:-1},205:{T:1},206:{T:-1},207:{T:1},208:{T:-1},209:{T:1},210:{T:-1},211:{T:1},212:{T:-1},213:{T:1},214:{T:-1},215:{T:1},216:{T:-1},217:{T:1},218:{T:-1},219:{T:1},220:{T:-1},221:{T:1},222:{T:-1},223:{T:1},224:{T:-1},225:{T:1},226:{T:-1},227:{T:1},228:{T:-1},229:{T:1},230:{T:-1},231:{T:1},232:{T:-1},233:{T:1},234:{T:-1},235:{T:1},236:{T:-1},237:{T:1},238:{T:-1},239:{T:1},240:{T:-1},241:{T:1},242:{T:-1},243:{T:1},244:{T:-1},245:{T:1},246:{T:-1},247:{T:1},248:{T:-1},249:{T:1},250:{T:-1},251:{T:1},252:{T:-1},253:{T:1},254:{T:-1},255:{T:1},256:{T:-1},257:{T:1},258:{T:-1},259:{T:1},260:{T:-1},261:{T:1},262:{T:-1},263:{T:1},264:{T:-1},265:{T:1},266:{T:-1},267:{T:1},268:{T:-1},269:{T:1},270:{T:-1},271:{T:1},272:{T:-1},273:{T:1},274:{T:-1},275:{T:1},276:{T:-1},277:{},278:{T:1},279:{T:-1},280:{T:1},281:{T:-1},282:{T:1},283:{T:1},284:{T:-1},285:{T:1},286:{T:-1},287:{T:1},288:{T:-1},289:{T:1},290:{T:-1},291:{T:1},292:{T:-1},293:{T:1},294:{T:-1},295:{T:1},296:{T:-1},297:{T:1},298:{T:-1},299:{T:1},300:{T:-1},301:{T:1},302:{T:-1},303:{T:1},304:{T:-1},305:{T:1},306:{T:-1},307:{T:1},308:{T:-1},309:{T:1},310:{T:-1},311:{T:1},312:{T:-1},313:{T:-1},314:{T:1},315:{T:-1},316:{T:1},317:{T:-1},318:{T:1},319:{T:-1},320:{T:1},321:{T:-1},322:{T:1},323:{T:-1},324:{T:1},325:{T:-1},326:{T:1},327:{T:-1},328:{T:1},329:{T:-1},330:{T:1},331:{T:-1},332:{T:1},333:{T:-1},334:{T:1},335:{f:wQ},336:{T:-1},337:{f:AQ,T:1},338:{T:-1},339:{T:1},340:{T:-1},341:{T:1},342:{T:-1},343:{T:1},344:{T:-1},345:{T:1},346:{T:-1},347:{T:1},348:{T:-1},349:{T:1},350:{T:-1},351:{},352:{},353:{T:1},354:{T:-1},355:{f:Z4},357:{},358:{},359:{},360:{T:1},361:{},362:{f:hF},363:{},364:{},366:{},367:{},368:{},369:{},370:{},371:{},372:{T:1},373:{T:-1},374:{T:1},375:{T:-1},376:{T:1},377:{T:-1},378:{T:1},379:{T:-1},380:{T:1},381:{T:-1},382:{T:1},383:{T:-1},384:{T:1},385:{T:-1},386:{T:1},387:{T:-1},388:{T:1},389:{T:-1},390:{T:1},391:{T:-1},392:{T:1},393:{T:-1},394:{T:1},395:{T:-1},396:{},397:{},398:{},399:{},400:{},401:{T:1},403:{},404:{},405:{},406:{},407:{},408:{},409:{},410:{},411:{},412:{},413:{},414:{},415:{},416:{},417:{},418:{},419:{},420:{},421:{},422:{T:1},423:{T:1},424:{T:-1},425:{T:-1},426:{f:Zee},427:{f:Jee},428:{},429:{T:1},430:{T:-1},431:{T:1},432:{T:-1},433:{T:1},434:{T:-1},435:{T:1},436:{T:-1},437:{T:1},438:{T:-1},439:{T:1},440:{T:-1},441:{T:1},442:{T:-1},443:{T:1},444:{T:-1},445:{T:1},446:{T:-1},447:{T:1},448:{T:-1},449:{T:1},450:{T:-1},451:{T:1},452:{T:-1},453:{T:1},454:{T:-1},455:{T:1},456:{T:-1},457:{T:1},458:{T:-1},459:{T:1},460:{T:-1},461:{T:1},462:{T:-1},463:{T:1},464:{T:-1},465:{T:1},466:{T:-1},467:{T:1},468:{T:-1},469:{T:1},470:{T:-1},471:{},472:{},473:{T:1},474:{T:-1},475:{},476:{f:tte},477:{},478:{},479:{T:1},480:{T:-1},481:{T:1},482:{T:-1},483:{T:1},484:{T:-1},485:{f:fee},486:{T:1},487:{T:-1},488:{T:1},489:{T:-1},490:{T:1},491:{T:-1},492:{T:1},493:{T:-1},494:{f:Yee},495:{T:1},496:{T:-1},497:{T:1},498:{T:-1},499:{},500:{T:1},501:{T:-1},502:{T:1},503:{T:-1},504:{},505:{T:1},506:{T:-1},507:{},508:{T:1},509:{T:-1},510:{T:1},511:{T:-1},512:{},513:{},514:{T:1},515:{T:-1},516:{T:1},517:{T:-1},518:{T:1},519:{T:-1},520:{T:1},521:{T:-1},522:{},523:{},524:{},525:{},526:{},527:{},528:{T:1},529:{T:-1},530:{T:1},531:{T:-1},532:{T:1},533:{T:-1},534:{},535:{},536:{},537:{},538:{T:1},539:{T:-1},540:{T:1},541:{T:-1},542:{T:1},548:{},549:{},550:{f:Z4},551:{},552:{},553:{},554:{T:1},555:{T:-1},556:{T:1},557:{T:-1},558:{T:1},559:{T:-1},560:{T:1},561:{T:-1},562:{},564:{},565:{T:1},566:{T:-1},569:{T:1},570:{T:-1},572:{},573:{T:1},574:{T:-1},577:{},578:{},579:{},580:{},581:{},582:{},583:{},584:{},585:{},586:{},587:{},588:{T:-1},589:{},590:{T:1},591:{T:-1},592:{T:1},593:{T:-1},594:{T:1},595:{T:-1},596:{},597:{T:1},598:{T:-1},599:{T:1},600:{T:-1},601:{T:1},602:{T:-1},603:{T:1},604:{T:-1},605:{T:1},606:{T:-1},607:{},608:{T:1},609:{T:-1},610:{},611:{T:1},612:{T:-1},613:{T:1},614:{T:-1},615:{T:1},616:{T:-1},617:{T:1},618:{T:-1},619:{T:1},620:{T:-1},625:{},626:{T:1},627:{T:-1},628:{T:1},629:{T:-1},630:{T:1},631:{T:-1},632:{f:$Q},633:{T:1},634:{T:-1},635:{T:1,f:zQ},636:{T:-1},637:{f:hG},638:{T:1},639:{},640:{T:-1},641:{T:1},642:{T:-1},643:{T:1},644:{},645:{T:-1},646:{T:1},648:{T:1},649:{},650:{T:-1},651:{f:Ste},652:{},653:{T:1},654:{T:-1},655:{T:1},656:{T:-1},657:{T:1},658:{T:-1},659:{},660:{T:1},661:{},662:{T:-1},663:{},664:{T:1},665:{},666:{T:-1},667:{},668:{},669:{},671:{T:1},672:{T:-1},673:{T:1},674:{T:-1},675:{},676:{},677:{},678:{},679:{},680:{},681:{},1024:{},1025:{},1026:{T:1},1027:{T:-1},1028:{T:1},1029:{T:-1},1030:{},1031:{T:1},1032:{T:-1},1033:{T:1},1034:{T:-1},1035:{},1036:{},1037:{},1038:{T:1},1039:{T:-1},1040:{},1041:{T:1},1042:{T:-1},1043:{},1044:{},1045:{},1046:{T:1},1047:{T:-1},1048:{T:1},1049:{T:-1},1050:{},1051:{T:1},1052:{T:1},1053:{f:ote},1054:{T:1},1055:{},1056:{T:1},1057:{T:-1},1058:{T:1},1059:{T:-1},1061:{},1062:{T:1},1063:{T:-1},1064:{T:1},1065:{T:-1},1066:{T:1},1067:{T:-1},1068:{T:1},1069:{T:-1},1070:{T:1},1071:{T:-1},1072:{T:1},1073:{T:-1},1075:{T:1},1076:{T:-1},1077:{T:1},1078:{T:-1},1079:{T:1},1080:{T:-1},1081:{T:1},1082:{T:-1},1083:{T:1},1084:{T:-1},1085:{},1086:{T:1},1087:{T:-1},1088:{T:1},1089:{T:-1},1090:{T:1},1091:{T:-1},1092:{T:1},1093:{T:-1},1094:{T:1},1095:{T:-1},1096:{},1097:{T:1},1098:{},1099:{T:-1},1100:{T:1},1101:{T:-1},1102:{},1103:{},1104:{},1105:{},1111:{},1112:{},1113:{T:1},1114:{T:-1},1115:{T:1},1116:{T:-1},1117:{},1118:{T:1},1119:{T:-1},1120:{T:1},1121:{T:-1},1122:{T:1},1123:{T:-1},1124:{T:1},1125:{T:-1},1126:{},1128:{T:1},1129:{T:-1},1130:{},1131:{T:1},1132:{T:-1},1133:{T:1},1134:{T:-1},1135:{T:1},1136:{T:-1},1137:{T:1},1138:{T:-1},1139:{T:1},1140:{T:-1},1141:{},1142:{T:1},1143:{T:-1},1144:{T:1},1145:{T:-1},1146:{},1147:{T:1},1148:{T:-1},1149:{T:1},1150:{T:-1},1152:{T:1},1153:{T:-1},1154:{T:-1},1155:{T:-1},1156:{T:-1},1157:{T:1},1158:{T:-1},1159:{T:1},1160:{T:-1},1161:{T:1},1162:{T:-1},1163:{T:1},1164:{T:-1},1165:{T:1},1166:{T:-1},1167:{T:1},1168:{T:-1},1169:{T:1},1170:{T:-1},1171:{},1172:{T:1},1173:{T:-1},1177:{},1178:{T:1},1180:{},1181:{},1182:{},2048:{T:1},2049:{T:-1},2050:{},2051:{T:1},2052:{T:-1},2053:{},2054:{},2055:{T:1},2056:{T:-1},2057:{T:1},2058:{T:-1},2060:{},2067:{},2068:{T:1},2069:{T:-1},2070:{},2071:{},2072:{T:1},2073:{T:-1},2075:{},2076:{},2077:{T:1},2078:{T:-1},2079:{},2080:{T:1},2081:{T:-1},2082:{},2083:{T:1},2084:{T:-1},2085:{T:1},2086:{T:-1},2087:{T:1},2088:{T:-1},2089:{T:1},2090:{T:-1},2091:{},2092:{},2093:{T:1},2094:{T:-1},2095:{},2096:{T:1},2097:{T:-1},2098:{T:1},2099:{T:-1},2100:{T:1},2101:{T:-1},2102:{},2103:{T:1},2104:{T:-1},2105:{},2106:{T:1},2107:{T:-1},2108:{},2109:{T:1},2110:{T:-1},2111:{T:1},2112:{T:-1},2113:{T:1},2114:{T:-1},2115:{},2116:{},2117:{},2118:{T:1},2119:{T:-1},2120:{},2121:{T:1},2122:{T:-1},2123:{T:1},2124:{T:-1},2125:{},2126:{T:1},2127:{T:-1},2128:{},2129:{T:1},2130:{T:-1},2131:{T:1},2132:{T:-1},2133:{T:1},2134:{},2135:{},2136:{},2137:{T:1},2138:{T:-1},2139:{T:1},2140:{T:-1},2141:{},3072:{},3073:{},4096:{T:1},4097:{T:-1},5002:{T:1},5003:{T:-1},5081:{T:1},5082:{T:-1},5083:{},5084:{T:1},5085:{T:-1},5086:{T:1},5087:{T:-1},5088:{},5089:{},5090:{},5092:{T:1},5093:{T:-1},5094:{},5095:{T:1},5096:{T:-1},5097:{},5099:{},65535:{n:""}},s_={6:{f:Ew},10:{f:fd},12:{f:ni},13:{f:ni},14:{f:$a},15:{f:$a},16:{f:Ns},17:{f:$a},18:{f:$a},19:{f:ni},20:{f:gk},21:{f:gk},23:{f:hF},24:{f:yk},25:{f:$a},26:{},27:{},28:{f:oY},29:{},34:{f:$a},35:{f:vk},38:{f:Ns},39:{f:Ns},40:{f:Ns},41:{f:Ns},42:{f:$a},43:{f:$a},47:{f:bX},49:{f:LK},51:{f:ni},60:{},61:{f:TK},64:{f:$a},65:{f:FK},66:{f:ni},77:{},80:{},81:{},82:{},85:{f:ni},89:{},90:{},91:{},92:{f:yK},93:{f:fY},94:{},95:{f:$a},96:{},97:{},99:{f:$a},125:{f:mF},128:{f:XK},129:{f:wK},130:{f:ni},131:{f:$a},132:{f:$a},133:{f:_K},134:{},140:{f:yY},141:{f:ni},144:{},146:{f:_Y},151:{},152:{},153:{},154:{},155:{},156:{f:ni},157:{},158:{},160:{f:CY},161:{f:jY},174:{},175:{},176:{},177:{},178:{},180:{},181:{},182:{},184:{},185:{},189:{f:WK},190:{f:GK},193:{f:fd},197:{},198:{},199:{},200:{},201:{},202:{f:$a},203:{},204:{},205:{},206:{},207:{},208:{},209:{},210:{},211:{},213:{},215:{},216:{},217:{},218:{f:ni},220:{},221:{f:$a},222:{},224:{f:YK},225:{f:vK},226:{f:fd},227:{},229:{f:cY},233:{},235:{},236:{},237:{},239:{},240:{},241:{},242:{},244:{},245:{},246:{},247:{},248:{},249:{},251:{},252:{f:SK},253:{f:RK},255:{f:AK},256:{},259:{},290:{},311:{},312:{},315:{},317:{f:aF},318:{},319:{},320:{},330:{},331:{},333:{},334:{},335:{},336:{},337:{},338:{},339:{},340:{},351:{},352:{f:$a},353:{f:fd},401:{},402:{},403:{},404:{},405:{},406:{},407:{},408:{},425:{},426:{},427:{},428:{},429:{},430:{f:tY},431:{f:$a},432:{},433:{},434:{},437:{},438:{f:mY},439:{f:$a},440:{f:pY},441:{},442:{f:_g},443:{},444:{f:ni},445:{},446:{},448:{f:fd},449:{f:CK,r:2},450:{f:fd},512:{f:mk},513:{f:kY},515:{f:JK},516:{f:BK},517:{f:xk},519:{f:TY},520:{f:EK},523:{},545:{f:bk},549:{f:hk},566:{},574:{f:DK},638:{f:VK},659:{},1048:{},1054:{f:zK},1084:{},1212:{f:iY},2048:{f:gY},2049:{},2050:{},2051:{},2052:{},2053:{},2054:{},2055:{},2056:{},2057:{f:X1},2058:{},2059:{},2060:{},2061:{},2062:{},2063:{},2064:{},2066:{},2067:{},2128:{},2129:{},2130:{},2131:{},2132:{},2133:{},2134:{},2135:{},2136:{},2137:{},2138:{},2146:{},2147:{r:12},2148:{},2149:{},2150:{},2151:{f:fd},2152:{},2154:{},2155:{},2156:{},2161:{},2162:{},2164:{},2165:{},2166:{},2167:{},2168:{},2169:{},2170:{},2171:{},2172:{f:NY,r:12},2173:{f:yQ,r:12},2174:{},2175:{},2180:{},2181:{},2182:{},2183:{},2184:{},2185:{},2186:{},2187:{},2188:{f:$a,r:12},2189:{},2190:{r:12},2191:{},2192:{},2194:{},2195:{},2196:{f:aY,r:12},2197:{},2198:{f:hQ,r:12},2199:{},2200:{},2201:{},2202:{f:sY,r:12},2203:{f:fd},2204:{},2205:{},2206:{},2207:{},2211:{f:kK},2212:{},2213:{},2214:{},2215:{},4097:{},4098:{},4099:{},4102:{},4103:{},4105:{},4106:{},4107:{},4108:{},4109:{},4116:{},4117:{},4118:{},4119:{},4120:{},4121:{},4122:{},4123:{},4124:{},4125:{},4126:{},4127:{},4128:{},4129:{},4130:{},4132:{},4133:{},4134:{f:ni},4135:{},4146:{},4147:{},4148:{},4149:{},4154:{},4156:{},4157:{},4158:{},4159:{},4160:{},4161:{},4163:{},4164:{f:AY},4165:{},4166:{},4168:{},4170:{},4171:{},4174:{},4175:{},4176:{},4177:{},4187:{},4188:{f:wY},4189:{},4191:{},4192:{},4193:{},4194:{},4195:{},4196:{},4197:{},4198:{},4199:{},4200:{},0:{f:mk},1:{},2:{f:LY},3:{f:PY},4:{f:DY},5:{f:xk},7:{f:RY},8:{},9:{f:X1},11:{},22:{f:ni},30:{f:$K},31:{},32:{},33:{f:bk},36:{},37:{f:hk},50:{f:IY},62:{},52:{},67:{},68:{f:ni},69:{},86:{},126:{},127:{f:OY},135:{},136:{},137:{},145:{},148:{},149:{},150:{},169:{},171:{},188:{},191:{},192:{},194:{},195:{},214:{f:BY},223:{},234:{},354:{},421:{},518:{f:Ew},521:{f:X1},536:{f:yk},547:{f:vk},561:{},579:{},1030:{f:Ew},1033:{f:X1},1091:{},2157:{},2163:{},2177:{},2240:{},2241:{},2242:{},2243:{},2244:{},2245:{},2246:{},2247:{},2248:{},2249:{},2250:{},2251:{},2262:{r:12},29282:{}};function yt(e,t,r,n){var a=t;if(!isNaN(a)){var i=n||(r||[]).length||0,l=e.next(4);l.write_shift(2,a),l.write_shift(2,i),i>0&&t3(r)&&e.push(r)}}function Rre(e,t,r,n){var a=(r||[]).length||0;if(a<=8224)return yt(e,t,r,a);var i=t;if(!isNaN(i)){for(var l=r.parts||[],o=0,f=0,u=0;u+(l[o]||8224)<=8224;)u+=l[o]||8224,o++;var h=e.next(4);for(h.write_shift(2,i),h.write_shift(2,u),e.push(r.slice(f,f+u)),f+=u;f<a;){for(h=e.next(4),h.write_shift(2,60),u=0;u+(l[o]||8224)<=8224;)u+=l[o]||8224,o++;h.write_shift(2,u),e.push(r.slice(f,f+u)),f+=u}}}function Ag(e,t,r){return e||(e=Ze(7)),e.write_shift(2,t),e.write_shift(2,r),e.write_shift(2,0),e.write_shift(1,0),e}function Ire(e,t,r,n){var a=Ze(9);return Ag(a,e,t),iF(r,n||"b",a),a}function Bre(e,t,r){var n=Ze(8+2*r.length);return Ag(n,e,t),n.write_shift(1,r.length),n.write_shift(r.length,r,"sbcs"),n.l<n.length?n.slice(0,n.l):n}function Ure(e,t,r,n){if(t.v!=null)switch(t.t){case"d":case"n":var a=t.t=="d"?_i(Zn(t.v)):t.v;a==(a|0)&&a>=0&&a<65536?yt(e,2,MY(r,n,a)):yt(e,3,FY(r,n,a));return;case"b":case"e":yt(e,5,Ire(r,n,t.v,t.t));return;case"s":case"str":yt(e,4,Bre(r,n,(t.v||"").slice(0,255)));return}yt(e,1,Ag(null,r,n))}function zre(e,t,r,n){var a=Array.isArray(t),i=Zr(t["!ref"]||"A1"),l,o="",f=[];if(i.e.c>255||i.e.r>16383){if(n.WTF)throw new Error("Range "+(t["!ref"]||"A1")+" exceeds format limit A1:IV16384");i.e.c=Math.min(i.e.c,255),i.e.r=Math.min(i.e.c,16383),l=_r(i)}for(var u=i.s.r;u<=i.e.r;++u){o=Ka(u);for(var h=i.s.c;h<=i.e.c;++h){u===i.s.r&&(f[h]=Na(h)),l=f[h]+o;var p=a?(t[u]||[])[h]:t[l];p&&Ure(e,p,u,h)}}}function qre(e,t){for(var r=t||{},n=Al(),a=0,i=0;i<e.SheetNames.length;++i)e.SheetNames[i]==r.sheet&&(a=i);if(a==0&&r.sheet&&e.SheetNames[0]!=r.sheet)throw new Error("Sheet not found: "+r.sheet);return yt(n,r.biff==4?1033:r.biff==3?521:9,f3(e,16,r)),zre(n,e.Sheets[e.SheetNames[a]],a,r),yt(n,10),n.end()}function $re(e,t,r){yt(e,49,MK({sz:12,name:"Arial"},r))}function Hre(e,t,r){t&&[[5,8],[23,26],[41,44],[50,392]].forEach(function(n){for(var a=n[0];a<=n[1];++a)t[a]!=null&&yt(e,1054,qK(a,t[a],r))})}function Vre(e,t){var r=Ze(19);r.write_shift(4,2151),r.write_shift(4,0),r.write_shift(4,0),r.write_shift(2,3),r.write_shift(1,1),r.write_shift(4,0),yt(e,2151,r),r=Ze(39),r.write_shift(4,2152),r.write_shift(4,0),r.write_shift(4,0),r.write_shift(2,3),r.write_shift(1,0),r.write_shift(4,0),r.write_shift(2,1),r.write_shift(4,4),r.write_shift(2,0),uF(Zr(t["!ref"]||"A1"),r),r.write_shift(4,4),yt(e,2152,r)}function Wre(e,t){for(var r=0;r<16;++r)yt(e,224,pk({numFmtId:0,style:!0},0,t));t.cellXfs.forEach(function(n){yt(e,224,pk(n,0,t))})}function Gre(e,t){for(var r=0;r<t["!links"].length;++r){var n=t["!links"][r];yt(e,440,xY(n)),n[1].Tooltip&&yt(e,2048,vY(n))}delete t["!links"]}function Kre(e,t){if(t){var r=0;t.forEach(function(n,a){++r<=256&&n&&yt(e,125,SY(f2(a,n),a))})}}function Yre(e,t,r,n,a){var i=16+Id(a.cellXfs,t,a);if(t.v==null&&!t.bf){yt(e,513,K0(r,n,i));return}if(t.bf)yt(e,6,wJ(t,r,n,a,i));else switch(t.t){case"d":case"n":var l=t.t=="d"?_i(Zn(t.v)):t.v;yt(e,515,eY(r,n,l,i));break;case"b":case"e":yt(e,517,ZK(r,n,t.v,i,a,t.t));break;case"s":case"str":if(a.bookSST){var o=y3(a.Strings,t.v,a.revStrings);yt(e,253,IK(r,n,o,i))}else yt(e,516,UK(r,n,(t.v||"").slice(0,255),i,a));break;default:yt(e,513,K0(r,n,i))}}function Xre(e,t,r){var n=Al(),a=r.SheetNames[e],i=r.Sheets[a]||{},l=(r||{}).Workbook||{},o=(l.Sheets||[])[e]||{},f=Array.isArray(i),u=t.biff==8,h,p="",g=[],x=Zr(i["!ref"]||"A1"),b=u?65536:16384;if(x.e.c>255||x.e.r>=b){if(t.WTF)throw new Error("Range "+(i["!ref"]||"A1")+" exceeds format limit A1:IV16384");x.e.c=Math.min(x.e.c,255),x.e.r=Math.min(x.e.c,b-1)}yt(n,2057,f3(r,16,t)),yt(n,13,Po(1)),yt(n,12,Po(100)),yt(n,15,Hs(!0)),yt(n,17,Hs(!1)),yt(n,16,W0(.001)),yt(n,95,Hs(!0)),yt(n,42,Hs(!1)),yt(n,43,Hs(!1)),yt(n,130,Po(1)),yt(n,128,QK()),yt(n,131,Hs(!1)),yt(n,132,Hs(!1)),u&&Kre(n,i["!cols"]),yt(n,512,HK(x,t)),u&&(i["!links"]=[]);for(var y=x.s.r;y<=x.e.r;++y){p=Ka(y);for(var w=x.s.c;w<=x.e.c;++w){y===x.s.r&&(g[w]=Na(w)),h=g[w]+p;var _=f?(i[y]||[])[w]:i[h];_&&(Yre(n,_,y,w,t),u&&_.l&&i["!links"].push([h,_.l]))}}var E=o.CodeName||o.name||a;return u&&yt(n,574,PK((l.Views||[])[0])),u&&(i["!merges"]||[]).length&&yt(n,229,uY(i["!merges"])),u&&Gre(n,i),yt(n,442,sF(E)),u&&Vre(n,i),yt(n,10),n.end()}function Qre(e,t,r){var n=Al(),a=(e||{}).Workbook||{},i=a.Sheets||[],l=a.WBProps||{},o=r.biff==8,f=r.biff==5;if(yt(n,2057,f3(e,5,r)),r.bookType=="xla"&&yt(n,135),yt(n,225,o?Po(1200):null),yt(n,193,ZG(2)),f&&yt(n,191),f&&yt(n,192),yt(n,226),yt(n,92,bK("SheetJS",r)),yt(n,66,Po(o?1200:1252)),o&&yt(n,353,Po(0)),o&&yt(n,448),yt(n,317,EY(e.SheetNames.length)),o&&e.vbaraw&&yt(n,211),o&&e.vbaraw){var u=l.CodeName||"ThisWorkbook";yt(n,442,sF(u))}yt(n,156,Po(17)),yt(n,25,Hs(!1)),yt(n,18,Hs(!1)),yt(n,19,Po(0)),o&&yt(n,431,Hs(!1)),o&&yt(n,444,Po(0)),yt(n,61,OK()),yt(n,64,Hs(!1)),yt(n,141,Po(0)),yt(n,34,Hs(Cte(e)=="true")),yt(n,14,Hs(!0)),o&&yt(n,439,Hs(!1)),yt(n,218,Po(0)),$re(n,e,r),Hre(n,e.SSF,r),Wre(n,r),o&&yt(n,352,Hs(!1));var h=n.end(),p=Al();o&&yt(p,140,bY()),o&&r.Strings&&Rre(p,252,jK(r.Strings)),yt(p,10);var g=p.end(),x=Al(),b=0,y=0;for(y=0;y<e.SheetNames.length;++y)b+=(o?12:11)+(o?2:1)*e.SheetNames[y].length;var w=h.length+b+g.length;for(y=0;y<e.SheetNames.length;++y){var _=i[y]||{};yt(x,133,NK({pos:w,hs:_.Hidden||0,dt:0,name:e.SheetNames[y]},r)),w+=t[y].length}var E=x.end();if(b!=E.length)throw new Error("BS8 "+b+" != "+E.length);var A=[];return h.length&&A.push(h),E.length&&A.push(E),g.length&&A.push(g),Ii(A)}function Zre(e,t){var r=t||{},n=[];e&&!e.SSF&&(e.SSF=Jn(cr)),e&&e.SSF&&(rp(),a2(e.SSF),r.revssf=s2(e.SSF),r.revssf[e.SSF[65535]]=0,r.ssf=e.SSF),r.Strings=[],r.Strings.Count=0,r.Strings.Unique=0,S3(r),r.cellXfs=[],Id(r.cellXfs,{},{revssf:{General:0}}),e.Props||(e.Props={});for(var a=0;a<e.SheetNames.length;++a)n[n.length]=Xre(a,r,e);return n.unshift(Qre(e,n,r)),Ii(n)}function JF(e,t){for(var r=0;r<=e.SheetNames.length;++r){var n=e.Sheets[e.SheetNames[r]];if(!(!n||!n["!ref"])){var a=kl(n["!ref"]);a.e.c>255&&typeof console<"u"&&console.error&&console.error("Worksheet '"+e.SheetNames[r]+"' extends beyond column IV (255).  Data may be lost.")}}var i=t||{};switch(i.biff||2){case 8:case 5:return Zre(e,t);case 4:case 3:case 2:return qre(e,t)}throw new Error("invalid type "+i.bookType+" for BIFF")}function Tk(e,t){var r=t||{},n=r.dense?[]:{};e=e.replace(/<!--.*?-->/g,"");var a=e.match(/<table/i);if(!a)throw new Error("Invalid HTML: could not find <table>");var i=e.match(/<\/table/i),l=a.index,o=i&&i.index||e.length,f=MW(e.slice(l,o),/(:?<tr[^>]*>)/i,"<tr>"),u=-1,h=0,p=0,g=0,x={s:{r:1e7,c:1e7},e:{r:0,c:0}},b=[];for(l=0;l<f.length;++l){var y=f[l].trim(),w=y.slice(0,3).toLowerCase();if(w=="<tr"){if(++u,r.sheetRows&&r.sheetRows<=u){--u;break}h=0;continue}if(!(w!="<td"&&w!="<th")){var _=y.split(/<\/t[dh]>/i);for(o=0;o<_.length;++o){var E=_[o].trim();if(E.match(/<t[dh]/i)){for(var A=E,O=0;A.charAt(0)=="<"&&(O=A.indexOf(">"))>-1;)A=A.slice(O+1);for(var D=0;D<b.length;++D){var R=b[D];R.s.c==h&&R.s.r<u&&u<=R.e.r&&(h=R.e.c+1,D=-1)}var P=dr(E.slice(0,E.indexOf(">")));g=P.colspan?+P.colspan:1,((p=+P.rowspan)>1||g>1)&&b.push({s:{r:u,c:h},e:{r:u+(p||1)-1,c:h+g-1}});var T=P.t||P["data-t"]||"";if(!A.length){h+=g;continue}if(A=NP(A),x.s.r>u&&(x.s.r=u),x.e.r<u&&(x.e.r=u),x.s.c>h&&(x.s.c=h),x.e.c<h&&(x.e.c=h),!A.length){h+=g;continue}var B={t:"s",v:A};r.raw||!A.trim().length||T=="s"||(A==="TRUE"?B={t:"b",v:!0}:A==="FALSE"?B={t:"b",v:!1}:isNaN(Nc(A))?isNaN(Rm(A).getDate())||(B={t:"d",v:Zn(A)},r.cellDates||(B={t:"n",v:_i(B.v)}),B.z=r.dateNF||cr[14]):B={t:"n",v:Nc(A)}),r.dense?(n[u]||(n[u]=[]),n[u][h]=B):n[ur({r:u,c:h})]=B,h+=g}}}}return n["!ref"]=_r(x),b.length&&(n["!merges"]=b),n}function Jre(e,t,r,n){for(var a=e["!merges"]||[],i=[],l=t.s.c;l<=t.e.c;++l){for(var o=0,f=0,u=0;u<a.length;++u)if(!(a[u].s.r>r||a[u].s.c>l)&&!(a[u].e.r<r||a[u].e.c<l)){if(a[u].s.r<r||a[u].s.c<l){o=-1;break}o=a[u].e.r-a[u].s.r+1,f=a[u].e.c-a[u].s.c+1;break}if(!(o<0)){var h=ur({r,c:l}),p=n.dense?(e[r]||[])[l]:e[h],g=p&&p.v!=null&&(p.h||ZN(p.w||(ff(p),p.w)||""))||"",x={};o>1&&(x.rowspan=o),f>1&&(x.colspan=f),n.editable?g='<span contenteditable="true">'+g+"</span>":p&&(x["data-t"]=p&&p.t||"z",p.v!=null&&(x["data-v"]=p.v),p.z!=null&&(x["data-z"]=p.z),p.l&&(p.l.Target||"#").charAt(0)!="#"&&(g='<a href="'+p.l.Target+'">'+g+"</a>")),x.id=(n.id||"sjs")+"-"+h,i.push(gt("td",g,x))}}var b="<tr>";return b+i.join("")+"</tr>"}var ene='<html><head><meta charset="utf-8"/><title>SheetJS Table Export</title></head><body>',tne="</body></html>";function rne(e,t){var r=e.match(/<table[\s\S]*?>[\s\S]*?<\/table>/gi);if(!r||r.length==0)throw new Error("Invalid HTML: could not find <table>");if(r.length==1)return Rd(Tk(r[0],t),t);var n=E3();return r.forEach(function(a,i){k3(n,Tk(a,t),"Sheet"+(i+1))}),n}function nne(e,t,r){var n=[];return n.join("")+"<table"+(r&&r.id?' id="'+r.id+'"':"")+">"}function eL(e,t){var r=t||{},n=r.header!=null?r.header:ene,a=r.footer!=null?r.footer:tne,i=[n],l=kl(e["!ref"]);r.dense=Array.isArray(e),i.push(nne(e,l,r));for(var o=l.s.r;o<=l.e.r;++o)i.push(Jre(e,l,o,r));return i.push("</table>"+a),i.join("")}function tL(e,t,r){var n=r||{},a=0,i=0;if(n.origin!=null)if(typeof n.origin=="number")a=n.origin;else{var l=typeof n.origin=="string"?Sa(n.origin):n.origin;a=l.r,i=l.c}var o=t.getElementsByTagName("tr"),f=Math.min(n.sheetRows||1e7,o.length),u={s:{r:0,c:0},e:{r:a,c:i}};if(e["!ref"]){var h=kl(e["!ref"]);u.s.r=Math.min(u.s.r,h.s.r),u.s.c=Math.min(u.s.c,h.s.c),u.e.r=Math.max(u.e.r,h.e.r),u.e.c=Math.max(u.e.c,h.e.c),a==-1&&(u.e.r=a=h.e.r+1)}var p=[],g=0,x=e["!rows"]||(e["!rows"]=[]),b=0,y=0,w=0,_=0,E=0,A=0;for(e["!cols"]||(e["!cols"]=[]);b<o.length&&y<f;++b){var O=o[b];if(Ok(O)){if(n.display)continue;x[y]={hidden:!0}}var D=O.children;for(w=_=0;w<D.length;++w){var R=D[w];if(!(n.display&&Ok(R))){var P=R.hasAttribute("data-v")?R.getAttribute("data-v"):R.hasAttribute("v")?R.getAttribute("v"):NP(R.innerHTML),T=R.getAttribute("data-z")||R.getAttribute("z");for(g=0;g<p.length;++g){var B=p[g];B.s.c==_+i&&B.s.r<y+a&&y+a<=B.e.r&&(_=B.e.c+1-i,g=-1)}A=+R.getAttribute("colspan")||1,((E=+R.getAttribute("rowspan")||1)>1||A>1)&&p.push({s:{r:y+a,c:_+i},e:{r:y+a+(E||1)-1,c:_+i+(A||1)-1}});var G={t:"s",v:P},I=R.getAttribute("data-t")||R.getAttribute("t")||"";P!=null&&(P.length==0?G.t=I||"z":n.raw||P.trim().length==0||I=="s"||(P==="TRUE"?G={t:"b",v:!0}:P==="FALSE"?G={t:"b",v:!1}:isNaN(Nc(P))?isNaN(Rm(P).getDate())||(G={t:"d",v:Zn(P)},n.cellDates||(G={t:"n",v:_i(G.v)}),G.z=n.dateNF||cr[14]):G={t:"n",v:Nc(P)})),G.z===void 0&&T!=null&&(G.z=T);var z="",K=R.getElementsByTagName("A");if(K&&K.length)for(var J=0;J<K.length&&!(K[J].hasAttribute("href")&&(z=K[J].getAttribute("href"),z.charAt(0)!="#"));++J);z&&z.charAt(0)!="#"&&(G.l={Target:z}),n.dense?(e[y+a]||(e[y+a]=[]),e[y+a][_+i]=G):e[ur({c:_+i,r:y+a})]=G,u.e.c<_+i&&(u.e.c=_+i),_+=A}}++y}return p.length&&(e["!merges"]=(e["!merges"]||[]).concat(p)),u.e.r=Math.max(u.e.r,y-1+a),e["!ref"]=_r(u),y>=f&&(e["!fullref"]=_r((u.e.r=o.length-b+y-1+a,u))),e}function rL(e,t){var r=t||{},n=r.dense?[]:{};return tL(n,e,t)}function ane(e,t){return Rd(rL(e,t),t)}function Ok(e){var t="",r=ine(e);return r&&(t=r(e).getPropertyValue("display")),t||(t=e.style&&e.style.display),t==="none"}function ine(e){return e.ownerDocument.defaultView&&typeof e.ownerDocument.defaultView.getComputedStyle=="function"?e.ownerDocument.defaultView.getComputedStyle:typeof getComputedStyle=="function"?getComputedStyle:null}function sne(e){var t=e.replace(/[\t\r\n]/g," ").trim().replace(/ +/g," ").replace(/<text:s\/>/g," ").replace(/<text:s text:c="(\d+)"\/>/g,function(n,a){return Array(parseInt(a,10)+1).join(" ")}).replace(/<text:tab[^>]*\/>/g,"	").replace(/<text:line-break\/>/g,`
`),r=Xr(t.replace(/<[^>]*>/g,""));return[r]}var Dk={day:["d","dd"],month:["m","mm"],year:["y","yy"],hours:["h","hh"],minutes:["m","mm"],seconds:["s","ss"],"am-pm":["A/P","AM/PM"],"day-of-week":["ddd","dddd"],era:["e","ee"],quarter:["\\Qm",'m\\"th quarter"']};function nL(e,t){var r=t||{},n=JN(e),a=[],i,l,o={name:""},f="",u=0,h,p,g={},x=[],b=r.dense?[]:{},y,w,_={value:""},E="",A=0,O=[],D=-1,R=-1,P={s:{r:1e6,c:1e7},e:{r:0,c:0}},T=0,B={},G=[],I={},z=0,K=0,J=[],pe=1,ne=1,le=[],ve={Names:[]},ue={},je=["",""],te=[],F={},M="",q=0,W=!1,Z=!1,oe=0;for($x.lastIndex=0,n=n.replace(/<!--([\s\S]*?)-->/mg,"").replace(/<!DOCTYPE[^\[]*\[[^\]]*\]>/gm,"");y=$x.exec(n);)switch(y[3]=y[3].replace(/_.*$/,"")){case"table":case"":y[1]==="/"?(P.e.c>=P.s.c&&P.e.r>=P.s.r?b["!ref"]=_r(P):b["!ref"]="A1:A1",r.sheetRows>0&&r.sheetRows<=P.e.r&&(b["!fullref"]=b["!ref"],P.e.r=r.sheetRows-1,b["!ref"]=_r(P)),G.length&&(b["!merges"]=G),J.length&&(b["!rows"]=J),h.name=h.||h.name,typeof JSON<"u"&&JSON.stringify(h),x.push(h.name),g[h.name]=b,Z=!1):y[0].charAt(y[0].length-2)!=="/"&&(h=dr(y[0],!1),D=R=-1,P.s.r=P.s.c=1e7,P.e.r=P.e.c=0,b=r.dense?[]:{},G=[],J=[],Z=!0);break;case"table-row-group":y[1]==="/"?--T:++T;break;case"table-row":case"":if(y[1]==="/"){D+=pe,pe=1;break}if(p=dr(y[0],!1),p.?D=p.-1:D==-1&&(D=0),pe=+p["number-rows-repeated"]||1,pe<10)for(oe=0;oe<pe;++oe)T>0&&(J[D+oe]={level:T});R=-1;break;case"covered-table-cell":y[1]!=="/"&&++R,r.sheetStubs&&(r.dense?(b[D]||(b[D]=[]),b[D][R]={t:"z"}):b[ur({r:D,c:R})]={t:"z"}),E="",O=[];break;case"table-cell":case"":if(y[0].charAt(y[0].length-2)==="/")++R,_=dr(y[0],!1),ne=parseInt(_["number-columns-repeated"]||"1",10),w={t:"z",v:null},_.formula&&r.cellFormula!=!1&&(w.f=Ek(Xr(_.formula))),(_.||_["value-type"])=="string"&&(w.t="s",w.v=Xr(_["string-value"]||""),r.dense?(b[D]||(b[D]=[]),b[D][R]=w):b[ur({r:D,c:R})]=w),R+=ne-1;else if(y[1]!=="/"){++R,E="",A=0,O=[],ne=1;var ce=pe?D+pe-1:D;if(R>P.e.c&&(P.e.c=R),R<P.s.c&&(P.s.c=R),D<P.s.r&&(P.s.r=D),ce>P.e.r&&(P.e.r=ce),_=dr(y[0],!1),te=[],F={},w={t:_.||_["value-type"],v:null},r.cellFormula)if(_.formula&&(_.formula=Xr(_.formula)),_["number-matrix-columns-spanned"]&&_["number-matrix-rows-spanned"]&&(z=parseInt(_["number-matrix-rows-spanned"],10)||0,K=parseInt(_["number-matrix-columns-spanned"],10)||0,I={s:{r:D,c:R},e:{r:D+z-1,c:R+K-1}},w.F=_r(I),le.push([I,w.F])),_.formula)w.f=Ek(_.formula);else for(oe=0;oe<le.length;++oe)D>=le[oe][0].s.r&&D<=le[oe][0].e.r&&R>=le[oe][0].s.c&&R<=le[oe][0].e.c&&(w.F=le[oe][1]);switch((_["number-columns-spanned"]||_["number-rows-spanned"])&&(z=parseInt(_["number-rows-spanned"],10)||0,K=parseInt(_["number-columns-spanned"],10)||0,I={s:{r:D,c:R},e:{r:D+z-1,c:R+K-1}},G.push(I)),_["number-columns-repeated"]&&(ne=parseInt(_["number-columns-repeated"],10)),w.t){case"boolean":w.t="b",w.v=Xn(_["boolean-value"]);break;case"float":w.t="n",w.v=parseFloat(_.value);break;case"percentage":w.t="n",w.v=parseFloat(_.value);break;case"currency":w.t="n",w.v=parseFloat(_.value);break;case"date":w.t="d",w.v=Zn(_["date-value"]),r.cellDates||(w.t="n",w.v=_i(w.v)),w.z="m/d/yy";break;case"time":w.t="n",w.v=PW(_["time-value"])/86400,r.cellDates&&(w.t="d",w.v=l2(w.v)),w.z="HH:MM:SS";break;case"number":w.t="n",w.v=parseFloat(_.);break;default:if(w.t==="string"||w.t==="text"||!w.t)w.t="s",_["string-value"]!=null&&(E=Xr(_["string-value"]),O=[]);else throw new Error("Unsupported value type "+w.t)}}else{if(W=!1,w.t==="s"&&(w.v=E||"",O.length&&(w.R=O),W=A==0),ue.Target&&(w.l=ue),te.length>0&&(w.c=te,te=[]),E&&r.cellText!==!1&&(w.w=E),W&&(w.t="z",delete w.v),(!W||r.sheetStubs)&&!(r.sheetRows&&r.sheetRows<=D))for(var ae=0;ae<pe;++ae){if(ne=parseInt(_["number-columns-repeated"]||"1",10),r.dense)for(b[D+ae]||(b[D+ae]=[]),b[D+ae][R]=ae==0?w:Jn(w);--ne>0;)b[D+ae][R+ne]=Jn(w);else for(b[ur({r:D+ae,c:R})]=w;--ne>0;)b[ur({r:D+ae,c:R+ne})]=Jn(w);P.e.c<=R&&(P.e.c=R)}ne=parseInt(_["number-columns-repeated"]||"1",10),R+=ne-1,ne=0,w={},E="",O=[]}ue={};break;case"document":case"document-content":case"":case"spreadsheet":case"":case"scripts":case"styles":case"font-face-decls":case"master-styles":if(y[1]==="/"){if((i=a.pop())[0]!==y[3])throw"Bad state: "+i}else y[0].charAt(y[0].length-2)!=="/"&&a.push([y[3],!0]);break;case"annotation":if(y[1]==="/"){if((i=a.pop())[0]!==y[3])throw"Bad state: "+i;F.t=E,O.length&&(F.R=O),F.a=M,te.push(F)}else y[0].charAt(y[0].length-2)!=="/"&&a.push([y[3],!1]);M="",q=0,E="",A=0,O=[];break;case"creator":y[1]==="/"?M=n.slice(q,y.index):q=y.index+y[0].length;break;case"meta":case"":case"settings":case"config-item-set":case"config-item-map-indexed":case"config-item-map-entry":case"config-item-map-named":case"shapes":case"frame":case"text-box":case"image":case"data-pilot-tables":case"list-style":case"form":case"dde-links":case"event-listeners":case"chart":if(y[1]==="/"){if((i=a.pop())[0]!==y[3])throw"Bad state: "+i}else y[0].charAt(y[0].length-2)!=="/"&&a.push([y[3],!1]);E="",A=0,O=[];break;case"scientific-number":break;case"currency-symbol":break;case"currency-style":break;case"number-style":case"percentage-style":case"date-style":case"time-style":if(y[1]==="/"){if(B[o.name]=f,(i=a.pop())[0]!==y[3])throw"Bad state: "+i}else y[0].charAt(y[0].length-2)!=="/"&&(f="",o=dr(y[0],!1),a.push([y[3],!0]));break;case"script":break;case"libraries":break;case"automatic-styles":break;case"default-style":case"page-layout":break;case"style":break;case"map":break;case"font-face":break;case"paragraph-properties":break;case"table-properties":break;case"table-column-properties":break;case"table-row-properties":break;case"table-cell-properties":break;case"number":switch(a[a.length-1][0]){case"time-style":case"date-style":l=dr(y[0],!1),f+=Dk[y[3]][l.style==="long"?1:0];break}break;case"fraction":break;case"day":case"month":case"year":case"era":case"day-of-week":case"week-of-year":case"quarter":case"hours":case"minutes":case"seconds":case"am-pm":switch(a[a.length-1][0]){case"time-style":case"date-style":l=dr(y[0],!1),f+=Dk[y[3]][l.style==="long"?1:0];break}break;case"boolean-style":break;case"boolean":break;case"text-style":break;case"text":if(y[0].slice(-2)==="/>")break;if(y[1]==="/")switch(a[a.length-1][0]){case"number-style":case"date-style":case"time-style":f+=n.slice(u,y.index);break}else u=y.index+y[0].length;break;case"named-range":l=dr(y[0],!1),je=kw(l["cell-range-address"]);var Se={Name:l.name,Ref:je[0]+"!"+je[1]};Z&&(Se.Sheet=x.length),ve.Names.push(Se);break;case"text-content":break;case"text-properties":break;case"embedded-text":break;case"body":case"":break;case"forms":break;case"table-column":break;case"table-header-rows":break;case"table-rows":break;case"table-column-group":break;case"table-header-columns":break;case"table-columns":break;case"null-date":break;case"graphic-properties":break;case"calculation-settings":break;case"named-expressions":break;case"label-range":break;case"label-ranges":break;case"named-expression":break;case"sort":break;case"sort-by":break;case"sort-groups":break;case"tab":break;case"line-break":break;case"span":break;case"p":case"":if(["master-styles"].indexOf(a[a.length-1][0])>-1)break;if(y[1]==="/"&&(!_||!_["string-value"])){var De=sne(n.slice(A,y.index));E=(E.length>0?E+`
`:"")+De[0]}else dr(y[0],!1),A=y.index+y[0].length;break;case"s":break;case"database-range":if(y[1]==="/")break;try{je=kw(dr(y[0])["target-range-address"]),g[je[0]]["!autofilter"]={ref:je[1]}}catch{}break;case"date":break;case"object":break;case"title":case"":break;case"desc":break;case"binary-data":break;case"table-source":break;case"scenario":break;case"iteration":break;case"content-validations":break;case"content-validation":break;case"help-message":break;case"error-message":break;case"database-ranges":break;case"filter":break;case"filter-and":break;case"filter-or":break;case"filter-condition":break;case"list-level-style-bullet":break;case"list-level-style-number":break;case"list-level-properties":break;case"sender-firstname":case"sender-lastname":case"sender-initials":case"sender-title":case"sender-position":case"sender-email":case"sender-phone-private":case"sender-fax":case"sender-company":case"sender-phone-work":case"sender-street":case"sender-city":case"sender-postal-code":case"sender-country":case"sender-state-or-province":case"author-name":case"author-initials":case"chapter":case"file-name":case"template-name":case"sheet-name":break;case"event-listener":break;case"initial-creator":case"creation-date":case"print-date":case"generator":case"document-statistic":case"user-defined":case"editing-duration":case"editing-cycles":break;case"config-item":break;case"page-number":break;case"page-count":break;case"time":break;case"cell-range-source":break;case"detective":break;case"operation":break;case"highlighted-range":break;case"data-pilot-table":case"source-cell-range":case"source-service":case"data-pilot-field":case"data-pilot-level":case"data-pilot-subtotals":case"data-pilot-subtotal":case"data-pilot-members":case"data-pilot-member":case"data-pilot-display-info":case"data-pilot-sort-info":case"data-pilot-layout-info":case"data-pilot-field-reference":case"data-pilot-groups":case"data-pilot-group":case"data-pilot-group-member":break;case"rect":break;case"dde-connection-decls":case"dde-connection-decl":case"dde-link":case"dde-source":break;case"properties":break;case"property":break;case"a":if(y[1]!=="/"){if(ue=dr(y[0],!1),!ue.href)break;ue.Target=Xr(ue.href),delete ue.href,ue.Target.charAt(0)=="#"&&ue.Target.indexOf(".")>-1?(je=kw(ue.Target.slice(1)),ue.Target="#"+je[0]+"!"+je[1]):ue.Target.match(/^\.\.[\\\/]/)&&(ue.Target=ue.Target.slice(3))}break;case"table-protection":break;case"data-pilot-grand-total":break;case"office-document-common-attrs":break;default:switch(y[2]){case"dc:":case"calcext:":case"loext:":case"ooo:":case"chartooo:":case"draw:":case"style:":case"chart:":case"form:":case"uof:":case":":case":":break;default:if(r.WTF)throw new Error(y)}}var X={Sheets:g,SheetNames:x,Workbook:ve};return r.bookSheets&&delete X.Sheets,X}function Pk(e,t){t=t||{},Do(e,"META-INF/manifest.xml")&&PG(ri(e,"META-INF/manifest.xml"),t);var r=Ql(e,"content.xml");if(!r)throw new Error("Missing content.xml in ODS / UOF file");var n=nL(Dn(r),t);return Do(e,"meta.xml")&&(n.Props=GP(ri(e,"meta.xml"))),n}function Fk(e,t){return nL(e,t)}var lne=(function(){var e=["<office:master-styles>",'<style:master-page style:name="mp1" style:page-layout-name="mp1">',"<style:header/>",'<style:header-left style:display="false"/>',"<style:footer/>",'<style:footer-left style:display="false"/>',"</style:master-page>","</office:master-styles>"].join(""),t="<office:document-styles "+qx({"xmlns:office":"urn:oasis:names:tc:opendocument:xmlns:office:1.0","xmlns:table":"urn:oasis:names:tc:opendocument:xmlns:table:1.0","xmlns:style":"urn:oasis:names:tc:opendocument:xmlns:style:1.0","xmlns:text":"urn:oasis:names:tc:opendocument:xmlns:text:1.0","xmlns:draw":"urn:oasis:names:tc:opendocument:xmlns:drawing:1.0","xmlns:fo":"urn:oasis:names:tc:opendocument:xmlns:xsl-fo-compatible:1.0","xmlns:xlink":"http://www.w3.org/1999/xlink","xmlns:dc":"http://purl.org/dc/elements/1.1/","xmlns:number":"urn:oasis:names:tc:opendocument:xmlns:datastyle:1.0","xmlns:svg":"urn:oasis:names:tc:opendocument:xmlns:svg-compatible:1.0","xmlns:of":"urn:oasis:names:tc:opendocument:xmlns:of:1.2","office:version":"1.2"})+">"+e+"</office:document-styles>";return function(){return Ya+t}})(),Lk=(function(){var e=function(i){return Nn(i).replace(/  +/g,function(l){return'<text:s text:c="'+l.length+'"/>'}).replace(/\t/g,"<text:tab/>").replace(/\n/g,"</text:p><text:p>").replace(/^ /,"<text:s/>").replace(/ $/,"<text:s/>")},t=`          <table:table-cell />
`,r=`          <table:covered-table-cell/>
`,n=function(i,l,o){var f=[];f.push('      <table:table table:name="'+Nn(l.SheetNames[o])+`" table:style-name="ta1">
`);var u=0,h=0,p=kl(i["!ref"]||"A1"),g=i["!merges"]||[],x=0,b=Array.isArray(i);if(i["!cols"])for(h=0;h<=p.e.c;++h)f.push("        <table:table-column"+(i["!cols"][h]?' table:style-name="co'+i["!cols"][h].ods+'"':"")+`></table:table-column>
`);var y="",w=i["!rows"]||[];for(u=0;u<p.s.r;++u)y=w[u]?' table:style-name="ro'+w[u].ods+'"':"",f.push("        <table:table-row"+y+`></table:table-row>
`);for(;u<=p.e.r;++u){for(y=w[u]?' table:style-name="ro'+w[u].ods+'"':"",f.push("        <table:table-row"+y+`>
`),h=0;h<p.s.c;++h)f.push(t);for(;h<=p.e.c;++h){var _=!1,E={},A="";for(x=0;x!=g.length;++x)if(!(g[x].s.c>h)&&!(g[x].s.r>u)&&!(g[x].e.c<h)&&!(g[x].e.r<u)){(g[x].s.c!=h||g[x].s.r!=u)&&(_=!0),E["table:number-columns-spanned"]=g[x].e.c-g[x].s.c+1,E["table:number-rows-spanned"]=g[x].e.r-g[x].s.r+1;break}if(_){f.push(r);continue}var O=ur({r:u,c:h}),D=b?(i[u]||[])[h]:i[O];if(D&&D.f&&(E["table:formula"]=Nn(EJ(D.f)),D.F&&D.F.slice(0,O.length)==O)){var R=kl(D.F);E["table:number-matrix-columns-spanned"]=R.e.c-R.s.c+1,E["table:number-matrix-rows-spanned"]=R.e.r-R.s.r+1}if(!D){f.push(t);continue}switch(D.t){case"b":A=D.v?"TRUE":"FALSE",E["office:value-type"]="boolean",E["office:boolean-value"]=D.v?"true":"false";break;case"n":A=D.w||String(D.v||0),E["office:value-type"]="float",E["office:value"]=D.v||0;break;case"s":case"str":A=D.v==null?"":D.v,E["office:value-type"]="string";break;case"d":A=D.w||Zn(D.v).toISOString(),E["office:value-type"]="date",E["office:date-value"]=Zn(D.v).toISOString(),E["table:style-name"]="ce1";break;default:f.push(t);continue}var P=e(A);if(D.l&&D.l.Target){var T=D.l.Target;T=T.charAt(0)=="#"?"#"+kJ(T.slice(1)):T,T.charAt(0)!="#"&&!T.match(/^\w+:/)&&(T="../"+T),P=gt("text:a",P,{"xlink:href":T.replace(/&/g,"&amp;")})}f.push("          "+gt("table:table-cell",gt("text:p",P,{}),E)+`
`)}f.push(`        </table:table-row>
`)}return f.push(`      </table:table>
`),f.join("")},a=function(i,l){i.push(` <office:automatic-styles>
`),i.push(`  <number:date-style style:name="N37" number:automatic-order="true">
`),i.push(`   <number:month number:style="long"/>
`),i.push(`   <number:text>/</number:text>
`),i.push(`   <number:day number:style="long"/>
`),i.push(`   <number:text>/</number:text>
`),i.push(`   <number:year/>
`),i.push(`  </number:date-style>
`);var o=0;l.SheetNames.map(function(u){return l.Sheets[u]}).forEach(function(u){if(u&&u["!cols"]){for(var h=0;h<u["!cols"].length;++h)if(u["!cols"][h]){var p=u["!cols"][h];if(p.width==null&&p.wpx==null&&p.wch==null)continue;Ad(p),p.ods=o;var g=u["!cols"][h].wpx+"px";i.push('  <style:style style:name="co'+o+`" style:family="table-column">
`),i.push('   <style:table-column-properties fo:break-before="auto" style:column-width="'+g+`"/>
`),i.push(`  </style:style>
`),++o}}});var f=0;l.SheetNames.map(function(u){return l.Sheets[u]}).forEach(function(u){if(u&&u["!rows"]){for(var h=0;h<u["!rows"].length;++h)if(u["!rows"][h]){u["!rows"][h].ods=f;var p=u["!rows"][h].hpx+"px";i.push('  <style:style style:name="ro'+f+`" style:family="table-row">
`),i.push('   <style:table-row-properties fo:break-before="auto" style:row-height="'+p+`"/>
`),i.push(`  </style:style>
`),++f}}}),i.push(`  <style:style style:name="ta1" style:family="table" style:master-page-name="mp1">
`),i.push(`   <style:table-properties table:display="true" style:writing-mode="lr-tb"/>
`),i.push(`  </style:style>
`),i.push(`  <style:style style:name="ce1" style:family="table-cell" style:parent-style-name="Default" style:data-style-name="N37"/>
`),i.push(` </office:automatic-styles>
`)};return function(l,o){var f=[Ya],u=qx({"xmlns:office":"urn:oasis:names:tc:opendocument:xmlns:office:1.0","xmlns:table":"urn:oasis:names:tc:opendocument:xmlns:table:1.0","xmlns:style":"urn:oasis:names:tc:opendocument:xmlns:style:1.0","xmlns:text":"urn:oasis:names:tc:opendocument:xmlns:text:1.0","xmlns:draw":"urn:oasis:names:tc:opendocument:xmlns:drawing:1.0","xmlns:fo":"urn:oasis:names:tc:opendocument:xmlns:xsl-fo-compatible:1.0","xmlns:xlink":"http://www.w3.org/1999/xlink","xmlns:dc":"http://purl.org/dc/elements/1.1/","xmlns:meta":"urn:oasis:names:tc:opendocument:xmlns:meta:1.0","xmlns:number":"urn:oasis:names:tc:opendocument:xmlns:datastyle:1.0","xmlns:presentation":"urn:oasis:names:tc:opendocument:xmlns:presentation:1.0","xmlns:svg":"urn:oasis:names:tc:opendocument:xmlns:svg-compatible:1.0","xmlns:chart":"urn:oasis:names:tc:opendocument:xmlns:chart:1.0","xmlns:dr3d":"urn:oasis:names:tc:opendocument:xmlns:dr3d:1.0","xmlns:math":"http://www.w3.org/1998/Math/MathML","xmlns:form":"urn:oasis:names:tc:opendocument:xmlns:form:1.0","xmlns:script":"urn:oasis:names:tc:opendocument:xmlns:script:1.0","xmlns:ooo":"http://openoffice.org/2004/office","xmlns:ooow":"http://openoffice.org/2004/writer","xmlns:oooc":"http://openoffice.org/2004/calc","xmlns:dom":"http://www.w3.org/2001/xml-events","xmlns:xforms":"http://www.w3.org/2002/xforms","xmlns:xsd":"http://www.w3.org/2001/XMLSchema","xmlns:xsi":"http://www.w3.org/2001/XMLSchema-instance","xmlns:sheet":"urn:oasis:names:tc:opendocument:sh33tjs:1.0","xmlns:rpt":"http://openoffice.org/2005/report","xmlns:of":"urn:oasis:names:tc:opendocument:xmlns:of:1.2","xmlns:xhtml":"http://www.w3.org/1999/xhtml","xmlns:grddl":"http://www.w3.org/2003/g/data-view#","xmlns:tableooo":"http://openoffice.org/2009/table","xmlns:drawooo":"http://openoffice.org/2010/draw","xmlns:calcext":"urn:org:documentfoundation:names:experimental:calc:xmlns:calcext:1.0","xmlns:loext":"urn:org:documentfoundation:names:experimental:office:xmlns:loext:1.0","xmlns:field":"urn:openoffice:names:experimental:ooo-ms-interop:xmlns:field:1.0","xmlns:formx":"urn:openoffice:names:experimental:ooxml-odf-interop:xmlns:form:1.0","xmlns:css3t":"http://www.w3.org/TR/css3-text/","office:version":"1.2"}),h=qx({"xmlns:config":"urn:oasis:names:tc:opendocument:xmlns:config:1.0","office:mimetype":"application/vnd.oasis.opendocument.spreadsheet"});o.bookType=="fods"?(f.push("<office:document"+u+h+`>
`),f.push(WP().replace(/office:document-meta/g,"office:meta"))):f.push("<office:document-content"+u+`>
`),a(f,l),f.push(`  <office:body>
`),f.push(`    <office:spreadsheet>
`);for(var p=0;p!=l.SheetNames.length;++p)f.push(n(l.Sheets[l.SheetNames[p]],l,p));return f.push(`    </office:spreadsheet>
`),f.push(`  </office:body>
`),o.bookType=="fods"?f.push("</office:document>"):f.push("</office:document-content>"),f.join("")}})();function aL(e,t){if(t.bookType=="fods")return Lk(e,t);var r=YN(),n="",a=[],i=[];return n="mimetype",jr(r,n,"application/vnd.oasis.opendocument.spreadsheet"),n="content.xml",jr(r,n,Lk(e,t)),a.push([n,"text/xml"]),i.push([n,"ContentFile"]),n="styles.xml",jr(r,n,lne(e,t)),a.push([n,"text/xml"]),i.push([n,"StylesFile"]),n="meta.xml",jr(r,n,Ya+WP()),a.push([n,"text/xml"]),i.push([n,"MetadataFile"]),n="manifest.rdf",jr(r,n,MG(i)),a.push([n,"application/rdf+xml"]),n="META-INF/manifest.xml",jr(r,n,FG(a)),r}/*! sheetjs (C) 2013-present SheetJS -- http://sheetjs.com */function Y0(e){return new DataView(e.buffer,e.byteOffset,e.byteLength)}function l_(e){return typeof TextDecoder<"u"?new TextDecoder().decode(e):Dn(Md(e))}function one(e){return typeof TextEncoder<"u"?new TextEncoder().encode(e):Xl(iu(e))}function cne(e,t){e:for(var r=0;r<=e.length-t.length;++r){for(var n=0;n<t.length;++n)if(e[r+n]!=t[n])continue e;return!0}return!1}function kd(e){var t=e.reduce(function(a,i){return a+i.length},0),r=new Uint8Array(t),n=0;return e.forEach(function(a){r.set(a,n),n+=a.length}),r}function Mk(e){return e-=e>>1&1431655765,e=(e&858993459)+(e>>2&858993459),(e+(e>>4)&252645135)*16843009>>>24}function une(e,t){for(var r=(e[t+15]&127)<<7|e[t+14]>>1,n=e[t+14]&1,a=t+13;a>=t;--a)n=n*256+e[a];return(e[t+15]&128?-n:n)*Math.pow(10,r-6176)}function fne(e,t,r){var n=Math.floor(r==0?0:Math.LOG10E*Math.log(Math.abs(r)))+6176-20,a=r/Math.pow(10,n-6176);e[t+15]|=n>>7,e[t+14]|=(n&127)<<1;for(var i=0;a>=1;++i,a/=256)e[t+i]=a&255;e[t+15]|=r>=0?0:128}function Xx(e,t){var r=t?t[0]:0,n=e[r]&127;e:if(e[r++]>=128&&(n|=(e[r]&127)<<7,e[r++]<128||(n|=(e[r]&127)<<14,e[r++]<128)||(n|=(e[r]&127)<<21,e[r++]<128)||(n+=(e[r]&127)*Math.pow(2,28),++r,e[r++]<128)||(n+=(e[r]&127)*Math.pow(2,35),++r,e[r++]<128)||(n+=(e[r]&127)*Math.pow(2,42),++r,e[r++]<128)))break e;return t&&(t[0]=r),n}function yn(e){var t=new Uint8Array(7);t[0]=e&127;var r=1;e:if(e>127){if(t[r-1]|=128,t[r]=e>>7&127,++r,e<=16383||(t[r-1]|=128,t[r]=e>>14&127,++r,e<=2097151)||(t[r-1]|=128,t[r]=e>>21&127,++r,e<=268435455)||(t[r-1]|=128,t[r]=e/256>>>21&127,++r,e<=34359738367)||(t[r-1]|=128,t[r]=e/65536>>>21&127,++r,e<=4398046511103))break e;t[r-1]|=128,t[r]=e/16777216>>>21&127,++r}return t.slice(0,r)}function Ra(e){var t=0,r=e[t]&127;e:if(e[t++]>=128){if(r|=(e[t]&127)<<7,e[t++]<128||(r|=(e[t]&127)<<14,e[t++]<128)||(r|=(e[t]&127)<<21,e[t++]<128))break e;r|=(e[t]&127)<<28}return r}function rn(e){for(var t=[],r=[0];r[0]<e.length;){var n=r[0],a=Xx(e,r),i=a&7;a=Math.floor(a/8);var l=0,o;if(a==0)break;switch(i){case 0:{for(var f=r[0];e[r[0]++]>=128;);o=e.slice(f,r[0])}break;case 5:l=4,o=e.slice(r[0],r[0]+l),r[0]+=l;break;case 1:l=8,o=e.slice(r[0],r[0]+l),r[0]+=l;break;case 2:l=Xx(e,r),o=e.slice(r[0],r[0]+l),r[0]+=l;break;case 3:case 4:default:throw new Error("PB Type ".concat(i," for Field ").concat(a," at offset ").concat(n))}var u={data:o,type:i};t[a]==null?t[a]=[u]:t[a].push(u)}return t}function Ji(e){var t=[];return e.forEach(function(r,n){r.forEach(function(a){a.data&&(t.push(yn(n*8+a.type)),a.type==2&&t.push(yn(a.data.length)),t.push(a.data))})}),kd(t)}function _3(e,t){return e?.map(function(r){return t(r.data)})||[]}function Co(e){for(var t,r=[],n=[0];n[0]<e.length;){var a=Xx(e,n),i=rn(e.slice(n[0],n[0]+a));n[0]+=a;var l={id:Ra(i[1][0].data),messages:[]};i[2].forEach(function(o){var f=rn(o.data),u=Ra(f[3][0].data);l.messages.push({meta:f,data:e.slice(n[0],n[0]+u)}),n[0]+=u}),(t=i[3])!=null&&t[0]&&(l.merge=Ra(i[3][0].data)>>>0>0),r.push(l)}return r}function cm(e){var t=[];return e.forEach(function(r){var n=[];n[1]=[{data:yn(r.id),type:0}],n[2]=[],r.merge!=null&&(n[3]=[{data:yn(+!!r.merge),type:0}]);var a=[];r.messages.forEach(function(l){a.push(l.data),l.meta[3]=[{type:0,data:yn(l.data.length)}],n[2].push({data:Ji(l.meta),type:2})});var i=Ji(n);t.push(yn(i.length)),t.push(i),a.forEach(function(l){return t.push(l)})}),kd(t)}function dne(e,t){if(e!=0)throw new Error("Unexpected Snappy chunk type ".concat(e));for(var r=[0],n=Xx(t,r),a=[];r[0]<t.length;){var i=t[r[0]]&3;if(i==0){var l=t[r[0]++]>>2;if(l<60)++l;else{var o=l-59;l=t[r[0]],o>1&&(l|=t[r[0]+1]<<8),o>2&&(l|=t[r[0]+2]<<16),o>3&&(l|=t[r[0]+3]<<24),l>>>=0,l++,r[0]+=o}a.push(t.slice(r[0],r[0]+l)),r[0]+=l;continue}else{var f=0,u=0;if(i==1?(u=(t[r[0]]>>2&7)+4,f=(t[r[0]++]&224)<<3,f|=t[r[0]++]):(u=(t[r[0]++]>>2)+1,i==2?(f=t[r[0]]|t[r[0]+1]<<8,r[0]+=2):(f=(t[r[0]]|t[r[0]+1]<<8|t[r[0]+2]<<16|t[r[0]+3]<<24)>>>0,r[0]+=4)),a=[kd(a)],f==0)throw new Error("Invalid offset 0");if(f>a[0].length)throw new Error("Invalid offset beyond length");if(u>=f)for(a.push(a[0].slice(-f)),u-=f;u>=a[a.length-1].length;)a.push(a[a.length-1]),u-=a[a.length-1].length;a.push(a[0].slice(-f,-f+u))}}var h=kd(a);if(h.length!=n)throw new Error("Unexpected length: ".concat(h.length," != ").concat(n));return h}function To(e){for(var t=[],r=0;r<e.length;){var n=e[r++],a=e[r]|e[r+1]<<8|e[r+2]<<16;r+=3,t.push(dne(n,e.slice(r,r+a))),r+=a}if(r!==e.length)throw new Error("data is not a valid framed stream!");return kd(t)}function um(e){for(var t=[],r=0;r<e.length;){var n=Math.min(e.length-r,268435455),a=new Uint8Array(4);t.push(a);var i=yn(n),l=i.length;t.push(i),n<=60?(l++,t.push(new Uint8Array([n-1<<2]))):n<=256?(l+=2,t.push(new Uint8Array([240,n-1&255]))):n<=65536?(l+=3,t.push(new Uint8Array([244,n-1&255,n-1>>8&255]))):n<=16777216?(l+=4,t.push(new Uint8Array([248,n-1&255,n-1>>8&255,n-1>>16&255]))):n<=4294967296&&(l+=5,t.push(new Uint8Array([252,n-1&255,n-1>>8&255,n-1>>16&255,n-1>>>24&255]))),t.push(e.slice(r,r+n)),l+=n,a[0]=0,a[1]=l&255,a[2]=l>>8&255,a[3]=l>>16&255,r+=n}return kd(t)}function hne(e,t,r,n){var a=Y0(e),i=a.getUint32(4,!0),l=(n>1?12:8)+Mk(i&(n>1?3470:398))*4,o=-1,f=-1,u=NaN,h=new Date(2001,0,1);i&512&&(o=a.getUint32(l,!0),l+=4),l+=Mk(i&(n>1?12288:4096))*4,i&16&&(f=a.getUint32(l,!0),l+=4),i&32&&(u=a.getFloat64(l,!0),l+=8),i&64&&(h.setTime(h.getTime()+a.getFloat64(l,!0)*1e3),l+=8);var p;switch(e[2]){case 0:break;case 2:p={t:"n",v:u};break;case 3:p={t:"s",v:t[f]};break;case 5:p={t:"d",v:h};break;case 6:p={t:"b",v:u>0};break;case 7:p={t:"n",v:u/86400};break;case 8:p={t:"e",v:0};break;case 9:if(o>-1)p={t:"s",v:r[o]};else if(f>-1)p={t:"s",v:t[f]};else if(!isNaN(u))p={t:"n",v:u};else throw new Error("Unsupported cell type ".concat(e.slice(0,4)));break;default:throw new Error("Unsupported cell type ".concat(e.slice(0,4)))}return p}function mne(e,t,r){var n=Y0(e),a=n.getUint32(8,!0),i=12,l=-1,o=-1,f=NaN,u=NaN,h=new Date(2001,0,1);a&1&&(f=une(e,i),i+=16),a&2&&(u=n.getFloat64(i,!0),i+=8),a&4&&(h.setTime(h.getTime()+n.getFloat64(i,!0)*1e3),i+=8),a&8&&(o=n.getUint32(i,!0),i+=4),a&16&&(l=n.getUint32(i,!0),i+=4);var p;switch(e[1]){case 0:break;case 2:p={t:"n",v:f};break;case 3:p={t:"s",v:t[o]};break;case 5:p={t:"d",v:h};break;case 6:p={t:"b",v:u>0};break;case 7:p={t:"n",v:u/86400};break;case 8:p={t:"e",v:0};break;case 9:if(l>-1)p={t:"s",v:r[l]};else throw new Error("Unsupported cell type ".concat(e[1]," : ").concat(a&31," : ").concat(e.slice(0,4)));break;case 10:p={t:"n",v:f};break;default:throw new Error("Unsupported cell type ".concat(e[1]," : ").concat(a&31," : ").concat(e.slice(0,4)))}return p}function Tw(e,t){var r=new Uint8Array(32),n=Y0(r),a=12,i=0;switch(r[0]=5,e.t){case"n":r[1]=2,fne(r,a,e.v),i|=1,a+=16;break;case"b":r[1]=6,n.setFloat64(a,e.v?1:0,!0),i|=2,a+=8;break;case"s":if(t.indexOf(e.v)==-1)throw new Error("Value ".concat(e.v," missing from SST!"));r[1]=3,n.setUint32(a,t.indexOf(e.v),!0),i|=8,a+=4;break;default:throw"unsupported cell type "+e.t}return n.setUint32(8,i,!0),r.slice(0,a)}function Ow(e,t){var r=new Uint8Array(32),n=Y0(r),a=12,i=0;switch(r[0]=3,e.t){case"n":r[2]=2,n.setFloat64(a,e.v,!0),i|=32,a+=8;break;case"b":r[2]=6,n.setFloat64(a,e.v?1:0,!0),i|=32,a+=8;break;case"s":if(t.indexOf(e.v)==-1)throw new Error("Value ".concat(e.v," missing from SST!"));r[2]=3,n.setUint32(a,t.indexOf(e.v),!0),i|=16,a+=4;break;default:throw"unsupported cell type "+e.t}return n.setUint32(4,i,!0),r.slice(0,a)}function pne(e,t,r){switch(e[0]){case 0:case 1:case 2:case 3:return hne(e,t,r,e[0]);case 5:return mne(e,t,r);default:throw new Error("Unsupported payload version ".concat(e[0]))}}function ys(e){var t=rn(e);return Xx(t[1][0].data)}function Rk(e,t){var r=rn(t.data),n=Ra(r[1][0].data),a=r[3],i=[];return(a||[]).forEach(function(l){var o=rn(l.data),f=Ra(o[1][0].data)>>>0;switch(n){case 1:i[f]=l_(o[3][0].data);break;case 8:{var u=e[ys(o[9][0].data)][0],h=rn(u.data),p=e[ys(h[1][0].data)][0],g=Ra(p.meta[1][0].data);if(g!=2001)throw new Error("2000 unexpected reference to ".concat(g));var x=rn(p.data);i[f]=x[3].map(function(b){return l_(b.data)}).join("")}break}}),i}function xne(e,t){var r,n,a,i,l,o,f,u,h,p,g,x,b,y,w=rn(e),_=Ra(w[1][0].data)>>>0,E=Ra(w[2][0].data)>>>0,A=((n=(r=w[8])==null?void 0:r[0])==null?void 0:n.data)&&Ra(w[8][0].data)>0||!1,O,D;if((i=(a=w[7])==null?void 0:a[0])!=null&&i.data&&t!=0)O=(o=(l=w[7])==null?void 0:l[0])==null?void 0:o.data,D=(u=(f=w[6])==null?void 0:f[0])==null?void 0:u.data;else if((p=(h=w[4])==null?void 0:h[0])!=null&&p.data&&t!=1)O=(x=(g=w[4])==null?void 0:g[0])==null?void 0:x.data,D=(y=(b=w[3])==null?void 0:b[0])==null?void 0:y.data;else throw"NUMBERS Tile missing ".concat(t," cell storage");for(var R=A?4:1,P=Y0(O),T=[],B=0;B<O.length/2;++B){var G=P.getUint16(B*2,!0);G<65535&&T.push([B,G])}if(T.length!=E)throw"Expected ".concat(E," cells, found ").concat(T.length);var I=[];for(B=0;B<T.length-1;++B)I[T[B][0]]=D.subarray(T[B][1]*R,T[B+1][1]*R);return T.length>=1&&(I[T[T.length-1][0]]=D.subarray(T[T.length-1][1]*R)),{R:_,cells:I}}function gne(e,t){var r,n=rn(t.data),a=(r=n?.[7])!=null&&r[0]?Ra(n[7][0].data)>>>0>0?1:0:-1,i=_3(n[5],function(l){return xne(l,a)});return{nrows:Ra(n[4][0].data)>>>0,data:i.reduce(function(l,o){return l[o.R]||(l[o.R]=[]),o.cells.forEach(function(f,u){if(l[o.R][u])throw new Error("Duplicate cell r=".concat(o.R," c=").concat(u));l[o.R][u]=f}),l},[])}}function vne(e,t,r){var n,a=rn(t.data),i={s:{r:0,c:0},e:{r:0,c:0}};if(i.e.r=(Ra(a[6][0].data)>>>0)-1,i.e.r<0)throw new Error("Invalid row varint ".concat(a[6][0].data));if(i.e.c=(Ra(a[7][0].data)>>>0)-1,i.e.c<0)throw new Error("Invalid col varint ".concat(a[7][0].data));r["!ref"]=_r(i);var l=rn(a[4][0].data),o=Rk(e,e[ys(l[4][0].data)][0]),f=(n=l[17])!=null&&n[0]?Rk(e,e[ys(l[17][0].data)][0]):[],u=rn(l[3][0].data),h=0;u[1].forEach(function(p){var g=rn(p.data),x=e[ys(g[2][0].data)][0],b=Ra(x.meta[1][0].data);if(b!=6002)throw new Error("6001 unexpected reference to ".concat(b));var y=gne(e,x);y.data.forEach(function(w,_){w.forEach(function(E,A){var O=ur({r:h+_,c:A}),D=pne(E,o,f);D&&(r[O]=D)})}),h+=y.nrows})}function yne(e,t){var r=rn(t.data),n={"!ref":"A1"},a=e[ys(r[2][0].data)],i=Ra(a[0].meta[1][0].data);if(i!=6001)throw new Error("6000 unexpected reference to ".concat(i));return vne(e,a[0],n),n}function bne(e,t){var r,n=rn(t.data),a={name:(r=n[1])!=null&&r[0]?l_(n[1][0].data):"",sheets:[]},i=_3(n[2],ys);return i.forEach(function(l){e[l].forEach(function(o){var f=Ra(o.meta[1][0].data);f==6e3&&a.sheets.push(yne(e,o))})}),a}function wne(e,t){var r=E3(),n=rn(t.data),a=_3(n[1],ys);if(a.forEach(function(i){e[i].forEach(function(l){var o=Ra(l.meta[1][0].data);if(o==2){var f=bne(e,l);f.sheets.forEach(function(u,h){k3(r,u,h==0?f.name:f.name+"_"+h,!0)})}})}),r.SheetNames.length==0)throw new Error("Empty NUMBERS file");return r}function Dw(e){var t,r,n,a,i={},l=[];if(e.FullPaths.forEach(function(f){if(f.match(/\.iwpv2/))throw new Error("Unsupported password protection")}),e.FileIndex.forEach(function(f){if(f.name.match(/\.iwa$/)){var u;try{u=To(f.content)}catch(p){return console.log("?? "+f.content.length+" "+(p.message||p))}var h;try{h=Co(u)}catch(p){return console.log("## "+(p.message||p))}h.forEach(function(p){i[p.id]=p.messages,l.push(p.id)})}}),!l.length)throw new Error("File has no messages");var o=((a=(n=(r=(t=i?.[1])==null?void 0:t[0])==null?void 0:r.meta)==null?void 0:n[1])==null?void 0:a[0].data)&&Ra(i[1][0].meta[1][0].data)==1&&i[1][0];if(o||l.forEach(function(f){i[f].forEach(function(u){var h=Ra(u.meta[1][0].data)>>>0;if(h==1)if(!o)o=u;else throw new Error("Document has multiple roots")})}),!o)throw new Error("Cannot find Document root");return wne(i,o)}function _ne(e,t,r){var n,a,i,l;if(!((n=e[6])!=null&&n[0])||!((a=e[7])!=null&&a[0]))throw"Mutation only works on post-BNC storages!";var o=((l=(i=e[8])==null?void 0:i[0])==null?void 0:l.data)&&Ra(e[8][0].data)>0||!1;if(o)throw"Math only works with normal offsets";for(var f=0,u=Y0(e[7][0].data),h=0,p=[],g=Y0(e[4][0].data),x=0,b=[],y=0;y<t.length;++y){if(t[y]==null){u.setUint16(y*2,65535,!0),g.setUint16(y*2,65535);continue}u.setUint16(y*2,h,!0),g.setUint16(y*2,x,!0);var w,_;switch(typeof t[y]){case"string":w=Tw({t:"s",v:t[y]},r),_=Ow({t:"s",v:t[y]},r);break;case"number":w=Tw({t:"n",v:t[y]},r),_=Ow({t:"n",v:t[y]},r);break;case"boolean":w=Tw({t:"b",v:t[y]},r),_=Ow({t:"b",v:t[y]},r);break;default:throw new Error("Unsupported value "+t[y])}p.push(w),h+=w.length,b.push(_),x+=_.length,++f}for(e[2][0].data=yn(f);y<e[7][0].data.length/2;++y)u.setUint16(y*2,65535,!0),g.setUint16(y*2,65535,!0);return e[6][0].data=kd(p),e[3][0].data=kd(b),f}function Nne(e,t){if(!t||!t.numbers)throw new Error("Must pass a `numbers` option -- check the README");var r=e.Sheets[e.SheetNames[0]];e.SheetNames.length>1&&console.error("The Numbers writer currently writes only the first table");var n=kl(r["!ref"]);n.s.r=n.s.c=0;var a=!1;n.e.c>9&&(a=!0,n.e.c=9),n.e.r>49&&(a=!0,n.e.r=49),a&&console.error("The Numbers writer is currently limited to ".concat(_r(n)));var i=sy(r,{range:n,header:1}),l=["~Sh33tJ5~"];i.forEach(function(M){return M.forEach(function(q){typeof q=="string"&&l.push(q)})});var o={},f=[],u=nr.read(t.numbers,{type:"base64"});u.FileIndex.map(function(M,q){return[M,u.FullPaths[q]]}).forEach(function(M){var q=M[0],W=M[1];if(q.type==2&&q.name.match(/\.iwa/)){var Z=q.content,oe=To(Z),ce=Co(oe);ce.forEach(function(ae){f.push(ae.id),o[ae.id]={deps:[],location:W,type:Ra(ae.messages[0].meta[1][0].data)}})}}),f.sort(function(M,q){return M-q});var h=f.filter(function(M){return M>1}).map(function(M){return[M,yn(M)]});u.FileIndex.map(function(M,q){return[M,u.FullPaths[q]]}).forEach(function(M){var q=M[0];if(M[1],!!q.name.match(/\.iwa/)){var W=Co(To(q.content));W.forEach(function(Z){Z.messages.forEach(function(oe){h.forEach(function(ce){Z.messages.some(function(ae){return Ra(ae.meta[1][0].data)!=11006&&cne(ae.data,ce[1])})&&o[ce[0]].deps.push(Z.id)})})})}});for(var p=nr.find(u,o[1].location),g=Co(To(p.content)),x,b=0;b<g.length;++b){var y=g[b];y.id==1&&(x=y)}var w=ys(rn(x.messages[0].data)[1][0].data);for(p=nr.find(u,o[w].location),g=Co(To(p.content)),b=0;b<g.length;++b)y=g[b],y.id==w&&(x=y);for(w=ys(rn(x.messages[0].data)[2][0].data),p=nr.find(u,o[w].location),g=Co(To(p.content)),b=0;b<g.length;++b)y=g[b],y.id==w&&(x=y);for(w=ys(rn(x.messages[0].data)[2][0].data),p=nr.find(u,o[w].location),g=Co(To(p.content)),b=0;b<g.length;++b)y=g[b],y.id==w&&(x=y);var _=rn(x.messages[0].data);{_[6][0].data=yn(n.e.r+1),_[7][0].data=yn(n.e.c+1);var E=ys(_[46][0].data),A=nr.find(u,o[E].location),O=Co(To(A.content));{for(var D=0;D<O.length&&O[D].id!=E;++D);if(O[D].id!=E)throw"Bad ColumnRowUIDMapArchive";var R=rn(O[D].messages[0].data);R[1]=[],R[2]=[],R[3]=[];for(var P=0;P<=n.e.c;++P){var T=[];T[1]=T[2]=[{type:0,data:yn(P+420690)}],R[1].push({type:2,data:Ji(T)}),R[2].push({type:0,data:yn(P)}),R[3].push({type:0,data:yn(P)})}R[4]=[],R[5]=[],R[6]=[];for(var B=0;B<=n.e.r;++B)T=[],T[1]=T[2]=[{type:0,data:yn(B+726270)}],R[4].push({type:2,data:Ji(T)}),R[5].push({type:0,data:yn(B)}),R[6].push({type:0,data:yn(B)});O[D].messages[0].data=Ji(R)}A.content=um(cm(O)),A.size=A.content.length,delete _[46];var G=rn(_[4][0].data);{G[7][0].data=yn(n.e.r+1);var I=rn(G[1][0].data),z=ys(I[2][0].data);A=nr.find(u,o[z].location),O=Co(To(A.content));{if(O[0].id!=z)throw"Bad HeaderStorageBucket";var K=rn(O[0].messages[0].data);for(B=0;B<i.length;++B){var J=rn(K[2][0].data);J[1][0].data=yn(B),J[4][0].data=yn(i[B].length),K[2][B]={type:K[2][0].type,data:Ji(J)}}O[0].messages[0].data=Ji(K)}A.content=um(cm(O)),A.size=A.content.length;var pe=ys(G[2][0].data);A=nr.find(u,o[pe].location),O=Co(To(A.content));{if(O[0].id!=pe)throw"Bad HeaderStorageBucket";for(K=rn(O[0].messages[0].data),P=0;P<=n.e.c;++P)J=rn(K[2][0].data),J[1][0].data=yn(P),J[4][0].data=yn(n.e.r+1),K[2][P]={type:K[2][0].type,data:Ji(J)};O[0].messages[0].data=Ji(K)}A.content=um(cm(O)),A.size=A.content.length;var ne=ys(G[4][0].data);(function(){for(var M=nr.find(u,o[ne].location),q=Co(To(M.content)),W,Z=0;Z<q.length;++Z){var oe=q[Z];oe.id==ne&&(W=oe)}var ce=rn(W.messages[0].data);{ce[3]=[];var ae=[];l.forEach(function(X,Ke){ae[1]=[{type:0,data:yn(Ke)}],ae[2]=[{type:0,data:yn(1)}],ae[3]=[{type:2,data:one(X)}],ce[3].push({type:2,data:Ji(ae)})})}W.messages[0].data=Ji(ce);var Se=cm(q),De=um(Se);M.content=De,M.size=M.content.length})();var le=rn(G[3][0].data);{var ve=le[1][0];delete le[2];var ue=rn(ve.data);{var je=ys(ue[2][0].data);(function(){for(var M=nr.find(u,o[je].location),q=Co(To(M.content)),W,Z=0;Z<q.length;++Z){var oe=q[Z];oe.id==je&&(W=oe)}var ce=rn(W.messages[0].data);{delete ce[6],delete le[7];var ae=new Uint8Array(ce[5][0].data);ce[5]=[];for(var Se=0,De=0;De<=n.e.r;++De){var X=rn(ae);Se+=_ne(X,i[De],l),X[1][0].data=yn(De),ce[5].push({data:Ji(X),type:2})}ce[1]=[{type:0,data:yn(n.e.c+1)}],ce[2]=[{type:0,data:yn(n.e.r+1)}],ce[3]=[{type:0,data:yn(Se)}],ce[4]=[{type:0,data:yn(n.e.r+1)}]}W.messages[0].data=Ji(ce);var Ke=cm(q),Ce=um(Ke);M.content=Ce,M.size=M.content.length})()}ve.data=Ji(ue)}G[3][0].data=Ji(le)}_[4][0].data=Ji(G)}x.messages[0].data=Ji(_);var te=cm(g),F=um(te);return p.content=F,p.size=p.content.length,u}function iL(e){return function(r){for(var n=0;n!=e.length;++n){var a=e[n];r[a[0]]===void 0&&(r[a[0]]=a[1]),a[2]==="n"&&(r[a[0]]=Number(r[a[0]]))}}}function N3(e){iL([["cellNF",!1],["cellHTML",!0],["cellFormula",!0],["cellStyles",!1],["cellText",!0],["cellDates",!1],["sheetStubs",!1],["sheetRows",0,"n"],["bookDeps",!1],["bookSheets",!1],["bookProps",!1],["bookFiles",!1],["bookVBA",!1],["password",""],["WTF",!1]])(e)}function S3(e){iL([["cellDates",!1],["bookSST",!1],["bookType","xlsx"],["compression",!1],["WTF",!1]])(e)}function Sne(e){return Or.WS.indexOf(e)>-1?"sheet":e==Or.CS?"chart":e==Or.DS?"dialog":e==Or.MS?"macro":e&&e.length?e:"sheet"}function jne(e,t){if(!e)return 0;try{e=t.map(function(n){return n.id||(n.id=n.strRelID),[n.name,e["!id"][n.id].Target,Sne(e["!id"][n.id].Type)]})}catch{return null}return!e||e.length===0?null:e}function Ane(e,t,r,n,a,i,l,o,f,u,h,p){try{i[n]=Nx(Ql(e,r,!0),t);var g=ri(e,t),x;switch(o){case"sheet":x=Kte(g,t,a,f,i[n],u,h,p);break;case"chart":if(x=Yte(g,t,a,f,i[n],u,h,p),!x||!x["!drawel"])break;var b=xx(x["!drawel"].Target,t),y=Hx(b),w=LQ(Ql(e,b,!0),Nx(Ql(e,y,!0),b)),_=xx(w,b),E=Hx(_);x=_te(Ql(e,_,!0),_,f,Nx(Ql(e,E,!0),_),u,x);break;case"macro":x=Xte(g,t,a,f,i[n],u,h,p);break;case"dialog":x=Qte(g,t,a,f,i[n],u,h,p);break;default:throw new Error("Unrecognized sheet type "+o)}l[n]=x;var A=[];i&&i[n]&&Ia(i[n]).forEach(function(O){var D="";if(i[n][O].Type==Or.CMNT){D=xx(i[n][O].Target,t);var R=tre(ri(e,D,!0),D,f);if(!R||!R.length)return;_k(x,R,!1)}i[n][O].Type==Or.TCMNT&&(D=xx(i[n][O].Target,t),A=A.concat(RQ(ri(e,D,!0),f)))}),A&&A.length&&_k(x,A,!0,f.people||[])}catch(O){if(f.WTF)throw O}}function So(e){return e.charAt(0)=="/"?e.slice(1):e}function Ene(e,t){if(rp(),t=t||{},N3(t),Do(e,"META-INF/manifest.xml")||Do(e,"objectdata.xml"))return Pk(e,t);if(Do(e,"Index/Document.iwa")){if(typeof Uint8Array>"u")throw new Error("NUMBERS file parsing requires Uint8Array support");if(typeof Dw<"u"){if(e.FileIndex)return Dw(e);var r=nr.utils.cfb_new();return $E(e).forEach(function(J){jr(r,J,IW(e,J))}),Dw(r)}throw new Error("Unsupported NUMBERS file")}if(!Do(e,"[Content_Types].xml"))throw Do(e,"index.xml.gz")?new Error("Unsupported NUMBERS 08 file"):Do(e,"index.xml")?new Error("Unsupported NUMBERS 09 file"):new Error("Unsupported ZIP file");var n=$E(e),a=OG(Ql(e,"[Content_Types].xml")),i=!1,l,o;if(a.workbooks.length===0&&(o="xl/workbook.xml",ri(e,o,!0)&&a.workbooks.push(o)),a.workbooks.length===0){if(o="xl/workbook.bin",!ri(e,o,!0))throw new Error("Could not find workbook");a.workbooks.push(o),i=!0}a.workbooks[0].slice(-3)=="bin"&&(i=!0);var f={},u={};if(!t.bookSheets&&!t.bookProps){if(Sx=[],a.sst)try{Sx=ere(ri(e,So(a.sst)),a.sst,t)}catch(J){if(t.WTF)throw J}t.cellStyles&&a.themes.length&&(f=Jte(Ql(e,a.themes[0].replace(/^\//,""),!0)||"",a.themes[0],t)),a.style&&(u=Zte(ri(e,So(a.style)),a.style,f,t))}a.links.map(function(J){try{var pe=Nx(Ql(e,Hx(So(J))),J);return nre(ri(e,So(J)),pe,J,t)}catch{}});var h=Gte(ri(e,So(a.workbooks[0])),a.workbooks[0],t),p={},g="";a.coreprops.length&&(g=ri(e,So(a.coreprops[0]),!0),g&&(p=GP(g)),a.extprops.length!==0&&(g=ri(e,So(a.extprops[0]),!0),g&&IG(g,p,t)));var x={};(!t.bookSheets||t.bookProps)&&a.custprops.length!==0&&(g=Ql(e,So(a.custprops[0]),!0),g&&(x=UG(g,t)));var b={};if((t.bookSheets||t.bookProps)&&(h.Sheets?l=h.Sheets.map(function(pe){return pe.name}):p.Worksheets&&p.SheetNames.length>0&&(l=p.SheetNames),t.bookProps&&(b.Props=p,b.Custprops=x),t.bookSheets&&typeof l<"u"&&(b.SheetNames=l),t.bookSheets?b.SheetNames:t.bookProps))return b;l={};var y={};t.bookDeps&&a.calcchain&&(y=rre(ri(e,So(a.calcchain)),a.calcchain));var w=0,_={},E,A;{var O=h.Sheets;p.Worksheets=O.length,p.SheetNames=[];for(var D=0;D!=O.length;++D)p.SheetNames[D]=O[D].name}var R=i?"bin":"xml",P=a.workbooks[0].lastIndexOf("/"),T=(a.workbooks[0].slice(0,P+1)+"_rels/"+a.workbooks[0].slice(P+1)+".rels").replace(/^\//,"");Do(e,T)||(T="xl/_rels/workbook."+R+".rels");var B=Nx(Ql(e,T,!0),T.replace(/_rels.*/,"s5s"));(a.metadata||[]).length>=1&&(t.xlmeta=are(ri(e,So(a.metadata[0])),a.metadata[0],t)),(a.people||[]).length>=1&&(t.people=BQ(ri(e,So(a.people[0])),t)),B&&(B=jne(B,h.Sheets));var G=ri(e,"xl/worksheets/sheet.xml",!0)?1:0;e:for(w=0;w!=p.Worksheets;++w){var I="sheet";if(B&&B[w]?(E="xl/"+B[w][1].replace(/[\/]?xl\//,""),Do(e,E)||(E=B[w][1]),Do(e,E)||(E=T.replace(/_rels\/.*$/,"")+B[w][1]),I=B[w][2]):(E="xl/worksheets/sheet"+(w+1-G)+"."+R,E=E.replace(/sheet0\./,"sheet.")),A=E.replace(/^(.*)(\/)([^\/]*)$/,"$1/_rels/$3.rels"),t&&t.sheets!=null)switch(typeof t.sheets){case"number":if(w!=t.sheets)continue e;break;case"string":if(p.SheetNames[w].toLowerCase()!=t.sheets.toLowerCase())continue e;break;default:if(Array.isArray&&Array.isArray(t.sheets)){for(var z=!1,K=0;K!=t.sheets.length;++K)typeof t.sheets[K]=="number"&&t.sheets[K]==w&&(z=1),typeof t.sheets[K]=="string"&&t.sheets[K].toLowerCase()==p.SheetNames[w].toLowerCase()&&(z=1);if(!z)continue e}}Ane(e,E,A,p.SheetNames[w],w,_,l,I,t,h,f,u)}return b={Directory:a,Workbook:h,Props:p,Custprops:x,Deps:y,Sheets:l,SheetNames:p.SheetNames,Strings:Sx,Styles:u,Themes:f,SSF:Jn(cr)},t&&t.bookFiles&&(e.files?(b.keys=n,b.files=e.files):(b.keys=[],b.files={},e.FullPaths.forEach(function(J,pe){J=J.replace(/^Root Entry[\/]/,""),b.keys.push(J),b.files[J]=e.FileIndex[pe]}))),t&&t.bookVBA&&(a.vba.length>0?b.vbaraw=ri(e,So(a.vba[0]),!0):a.defaults&&a.defaults.bin===GQ&&(b.vbaraw=ri(e,"xl/vbaProject.bin",!0))),b}function kne(e,t){var r=t||{},n="Workbook",a=nr.find(e,n);try{if(n="/!DataSpaces/Version",a=nr.find(e,n),!a||!a.content)throw new Error("ECMA-376 Encrypted file missing "+n);if(aX(a.content),n="/!DataSpaces/DataSpaceMap",a=nr.find(e,n),!a||!a.content)throw new Error("ECMA-376 Encrypted file missing "+n);var i=sX(a.content);if(i.length!==1||i[0].comps.length!==1||i[0].comps[0].t!==0||i[0].name!=="StrongEncryptionDataSpace"||i[0].comps[0].v!=="EncryptedPackage")throw new Error("ECMA-376 Encrypted file bad "+n);if(n="/!DataSpaces/DataSpaceInfo/StrongEncryptionDataSpace",a=nr.find(e,n),!a||!a.content)throw new Error("ECMA-376 Encrypted file missing "+n);var l=lX(a.content);if(l.length!=1||l[0]!="StrongEncryptionTransform")throw new Error("ECMA-376 Encrypted file bad "+n);if(n="/!DataSpaces/TransformInfo/StrongEncryptionTransform/!Primary",a=nr.find(e,n),!a||!a.content)throw new Error("ECMA-376 Encrypted file missing "+n);cX(a.content)}catch{}if(n="/EncryptionInfo",a=nr.find(e,n),!a||!a.content)throw new Error("ECMA-376 Encrypted file missing "+n);var o=uX(a.content);if(n="/EncryptedPackage",a=nr.find(e,n),!a||!a.content)throw new Error("ECMA-376 Encrypted file missing "+n);if(o[0]==4&&typeof decrypt_agile<"u")return decrypt_agile(o[1],a.content,r.password||"",r);if(o[0]==2&&typeof decrypt_std76<"u")return decrypt_std76(o[1],a.content,r.password||"",r);throw new Error("File is password-protected")}function Cne(e,t){return t.bookType=="ods"?aL(e,t):t.bookType=="numbers"?Nne(e,t):t.bookType=="xlsb"?Tne(e,t):One(e,t)}function Tne(e,t){ym=1024,e&&!e.SSF&&(e.SSF=Jn(cr)),e&&e.SSF&&(rp(),a2(e.SSF),t.revssf=s2(e.SSF),t.revssf[e.SSF[65535]]=0,t.ssf=e.SSF),t.rels={},t.wbrels={},t.Strings=[],t.Strings.Count=0,t.Strings.Unique=0,jx?t.revStrings=new Map:(t.revStrings={},t.revStrings.foo=[],delete t.revStrings.foo);var r=t.bookType=="xlsb"?"bin":"xml",n=DF.indexOf(t.bookType)>-1,a=c3();S3(t=t||{});var i=YN(),l="",o=0;if(t.cellXfs=[],Id(t.cellXfs,{},{revssf:{General:0}}),e.Props||(e.Props={}),l="docProps/core.xml",jr(i,l,KP(e.Props,t)),a.coreprops.push(l),bn(t.rels,2,l,Or.CORE_PROPS),l="docProps/app.xml",!(e.Props&&e.Props.SheetNames))if(!e.Workbook||!e.Workbook.Sheets)e.Props.SheetNames=e.SheetNames;else{for(var f=[],u=0;u<e.SheetNames.length;++u)(e.Workbook.Sheets[u]||{}).Hidden!=2&&f.push(e.SheetNames[u]);e.Props.SheetNames=f}for(e.Props.Worksheets=e.Props.SheetNames.length,jr(i,l,QP(e.Props)),a.extprops.push(l),bn(t.rels,3,l,Or.EXT_PROPS),e.Custprops!==e.Props&&Ia(e.Custprops||{}).length>0&&(l="docProps/custom.xml",jr(i,l,ZP(e.Custprops)),a.custprops.push(l),bn(t.rels,4,l,Or.CUST_PROPS)),o=1;o<=e.SheetNames.length;++o){var h={"!id":{}},p=e.Sheets[e.SheetNames[o-1]],g=(p||{})["!type"]||"sheet";switch(g){case"chart":default:l="xl/worksheets/sheet"+o+"."+r,jr(i,l,sre(o-1,l,t,e,h)),a.sheets.push(l),bn(t.wbrels,-1,"worksheets/sheet"+o+"."+r,Or.WS[0])}if(p){var x=p["!comments"],b=!1,y="";x&&x.length>0&&(y="xl/comments"+o+"."+r,jr(i,y,cre(x,y)),a.comments.push(y),bn(h,-1,"../comments"+o+"."+r,Or.CMNT),b=!0),p["!legacy"]&&b&&jr(i,"xl/drawings/vmlDrawing"+o+".vml",TF(o,p["!comments"])),delete p["!comments"],delete p["!legacy"]}h["!id"].rId1&&jr(i,Hx(l),Em(h))}return t.Strings!=null&&t.Strings.length>0&&(l="xl/sharedStrings."+r,jr(i,l,ore(t.Strings,l,t)),a.strs.push(l),bn(t.wbrels,-1,"sharedStrings."+r,Or.SST)),l="xl/workbook."+r,jr(i,l,ire(e,l)),a.workbooks.push(l),bn(t.rels,1,l,Or.WB),l="xl/theme/theme1.xml",jr(i,l,p3(e.Themes,t)),a.themes.push(l),bn(t.wbrels,-1,"theme/theme1.xml",Or.THEME),l="xl/styles."+r,jr(i,l,lre(e,l,t)),a.styles.push(l),bn(t.wbrels,-1,"styles."+r,Or.STY),e.vbaraw&&n&&(l="xl/vbaProject.bin",jr(i,l,e.vbaraw),a.vba.push(l),bn(t.wbrels,-1,"vbaProject.bin",Or.VBA)),l="xl/metadata."+r,jr(i,l,ure(l)),a.metadata.push(l),bn(t.wbrels,-1,"metadata."+r,Or.XLMETA),jr(i,"[Content_Types].xml",VP(a,t)),jr(i,"_rels/.rels",Em(t.rels)),jr(i,"xl/_rels/workbook."+r+".rels",Em(t.wbrels)),delete t.revssf,delete t.ssf,i}function One(e,t){ym=1024,e&&!e.SSF&&(e.SSF=Jn(cr)),e&&e.SSF&&(rp(),a2(e.SSF),t.revssf=s2(e.SSF),t.revssf[e.SSF[65535]]=0,t.ssf=e.SSF),t.rels={},t.wbrels={},t.Strings=[],t.Strings.Count=0,t.Strings.Unique=0,jx?t.revStrings=new Map:(t.revStrings={},t.revStrings.foo=[],delete t.revStrings.foo);var r="xml",n=DF.indexOf(t.bookType)>-1,a=c3();S3(t=t||{});var i=YN(),l="",o=0;if(t.cellXfs=[],Id(t.cellXfs,{},{revssf:{General:0}}),e.Props||(e.Props={}),l="docProps/core.xml",jr(i,l,KP(e.Props,t)),a.coreprops.push(l),bn(t.rels,2,l,Or.CORE_PROPS),l="docProps/app.xml",!(e.Props&&e.Props.SheetNames))if(!e.Workbook||!e.Workbook.Sheets)e.Props.SheetNames=e.SheetNames;else{for(var f=[],u=0;u<e.SheetNames.length;++u)(e.Workbook.Sheets[u]||{}).Hidden!=2&&f.push(e.SheetNames[u]);e.Props.SheetNames=f}e.Props.Worksheets=e.Props.SheetNames.length,jr(i,l,QP(e.Props)),a.extprops.push(l),bn(t.rels,3,l,Or.EXT_PROPS),e.Custprops!==e.Props&&Ia(e.Custprops||{}).length>0&&(l="docProps/custom.xml",jr(i,l,ZP(e.Custprops)),a.custprops.push(l),bn(t.rels,4,l,Or.CUST_PROPS));var h=["SheetJ5"];for(t.tcid=0,o=1;o<=e.SheetNames.length;++o){var p={"!id":{}},g=e.Sheets[e.SheetNames[o-1]],x=(g||{})["!type"]||"sheet";switch(x){case"chart":default:l="xl/worksheets/sheet"+o+"."+r,jr(i,l,$F(o-1,t,e,p)),a.sheets.push(l),bn(t.wbrels,-1,"worksheets/sheet"+o+"."+r,Or.WS[0])}if(g){var b=g["!comments"],y=!1,w="";if(b&&b.length>0){var _=!1;b.forEach(function(E){E[1].forEach(function(A){A.T==!0&&(_=!0)})}),_&&(w="xl/threadedComments/threadedComment"+o+"."+r,jr(i,w,IQ(b,h,t)),a.threadedcomments.push(w),bn(p,-1,"../threadedComments/threadedComment"+o+"."+r,Or.TCMNT)),w="xl/comments"+o+"."+r,jr(i,w,OF(b)),a.comments.push(w),bn(p,-1,"../comments"+o+"."+r,Or.CMNT),y=!0}g["!legacy"]&&y&&jr(i,"xl/drawings/vmlDrawing"+o+".vml",TF(o,g["!comments"])),delete g["!comments"],delete g["!legacy"]}p["!id"].rId1&&jr(i,Hx(l),Em(p))}return t.Strings!=null&&t.Strings.length>0&&(l="xl/sharedStrings."+r,jr(i,l,vF(t.Strings,t)),a.strs.push(l),bn(t.wbrels,-1,"sharedStrings."+r,Or.SST)),l="xl/workbook."+r,jr(i,l,KF(e)),a.workbooks.push(l),bn(t.rels,1,l,Or.WB),l="xl/theme/theme1.xml",jr(i,l,p3(e.Themes,t)),a.themes.push(l),bn(t.wbrels,-1,"theme/theme1.xml",Or.THEME),l="xl/styles."+r,jr(i,l,AF(e,t)),a.styles.push(l),bn(t.wbrels,-1,"styles."+r,Or.STY),e.vbaraw&&n&&(l="xl/vbaProject.bin",jr(i,l,e.vbaraw),a.vba.push(l),bn(t.wbrels,-1,"vbaProject.bin",Or.VBA)),l="xl/metadata."+r,jr(i,l,CF()),a.metadata.push(l),bn(t.wbrels,-1,"metadata."+r,Or.XLMETA),h.length>1&&(l="xl/persons/person.xml",jr(i,l,UQ(h)),a.people.push(l),bn(t.wbrels,-1,"persons/person.xml",Or.PEOPLE)),jr(i,"[Content_Types].xml",VP(a,t)),jr(i,"_rels/.rels",Em(t.rels)),jr(i,"xl/_rels/workbook."+r+".rels",Em(t.wbrels)),delete t.revssf,delete t.ssf,i}function j3(e,t){var r="";switch((t||{}).type||"base64"){case"buffer":return[e[0],e[1],e[2],e[3],e[4],e[5],e[6],e[7]];case"base64":r=to(e.slice(0,12));break;case"binary":r=e;break;case"array":return[e[0],e[1],e[2],e[3],e[4],e[5],e[6],e[7]];default:throw new Error("Unrecognized type "+(t&&t.type||"undefined"))}return[r.charCodeAt(0),r.charCodeAt(1),r.charCodeAt(2),r.charCodeAt(3),r.charCodeAt(4),r.charCodeAt(5),r.charCodeAt(6),r.charCodeAt(7)]}function Dne(e,t){return nr.find(e,"EncryptedPackage")?kne(e,t):ZF(e,t)}function Pne(e,t){var r,n=e,a=t||{};return a.type||(a.type=Cr&&Buffer.isBuffer(e)?"buffer":"base64"),r=bP(n,a),Ene(r,a)}function sL(e,t){var r=0;e:for(;r<e.length;)switch(e.charCodeAt(r)){case 10:case 13:case 32:++r;break;case 60:return i_(e.slice(r),t);default:break e}return Im.to_workbook(e,t)}function Fne(e,t){var r="",n=j3(e,t);switch(t.type){case"base64":r=to(e);break;case"binary":r=e;break;case"buffer":r=e.toString("binary");break;case"array":r=V0(e);break;default:throw new Error("Unrecognized type "+t.type)}return n[0]==239&&n[1]==187&&n[2]==191&&(r=Dn(r)),t.type="binary",sL(r,t)}function Lne(e,t){var r=e;return t.type=="base64"&&(r=to(r)),r=Ix.utils.decode(1200,r.slice(2),"str"),t.type="binary",sL(r,t)}function Mne(e){return e.match(/[^\x00-\x7F]/)?iu(e):e}function Pw(e,t,r,n){return n?(r.type="string",Im.to_workbook(e,r)):Im.to_workbook(t,r)}function o_(e,t){HN();var r=t||{};if(typeof ArrayBuffer<"u"&&e instanceof ArrayBuffer)return o_(new Uint8Array(e),(r=Jn(r),r.type="array",r));typeof Uint8Array<"u"&&e instanceof Uint8Array&&!r.type&&(r.type=typeof Deno<"u"?"buffer":"array");var n=e,a=[0,0,0,0],i=!1;if(r.cellStyles&&(r.cellNF=!0,r.sheetStubs=!0),Cm={},r.dateNF&&(Cm.dateNF=r.dateNF),r.type||(r.type=Cr&&Buffer.isBuffer(e)?"buffer":"base64"),r.type=="file"&&(r.type=Cr?"buffer":"binary",n=TW(e),typeof Uint8Array<"u"&&!Cr&&(r.type="array")),r.type=="string"&&(i=!0,r.type="binary",r.codepage=65001,n=Mne(e)),r.type=="array"&&typeof Uint8Array<"u"&&e instanceof Uint8Array&&typeof ArrayBuffer<"u"){var l=new ArrayBuffer(3),o=new Uint8Array(l);if(o.foo="bar",!o.foo)return r=Jn(r),r.type="array",o_(VN(n),r)}switch((a=j3(n,r))[0]){case 208:if(a[1]===207&&a[2]===17&&a[3]===224&&a[4]===161&&a[5]===177&&a[6]===26&&a[7]===225)return Dne(nr.read(n,r),r);break;case 9:if(a[1]<=8)return ZF(n,r);break;case 60:return i_(n,r);case 73:if(a[1]===73&&a[2]===42&&a[3]===0)throw new Error("TIFF Image File is not a spreadsheet");if(a[1]===68)return zY(n,r);break;case 84:if(a[1]===65&&a[2]===66&&a[3]===76)return xF.to_workbook(n,r);break;case 80:return a[1]===75&&a[2]<9&&a[3]<9?Pne(n,r):Pw(e,n,r,i);case 239:return a[3]===60?i_(n,r):Pw(e,n,r,i);case 255:if(a[1]===254)return Lne(n,r);if(a[1]===0&&a[2]===2&&a[3]===0)return P0.to_workbook(n,r);break;case 0:if(a[1]===0&&(a[2]>=2&&a[3]===0||a[2]===0&&(a[3]===8||a[3]===9)))return P0.to_workbook(n,r);break;case 3:case 131:case 139:case 140:return a_.to_workbook(n,r);case 123:if(a[1]===92&&a[2]===114&&a[3]===116)return NF.to_workbook(n,r);break;case 10:case 13:case 32:return Fne(n,r);case 137:if(a[1]===80&&a[2]===78&&a[3]===71)throw new Error("PNG Image File is not a spreadsheet");break}return UY.indexOf(a[0])>-1&&a[2]<=12&&a[3]<=31?a_.to_workbook(n,r):Pw(e,n,r,i)}function lL(e,t){switch(t.type){case"base64":case"binary":break;case"buffer":case"array":t.type="";break;case"file":return yg(t.file,nr.write(e,{type:Cr?"buffer":""}));case"string":throw new Error("'string' output type invalid for '"+t.bookType+"' files");default:throw new Error("Unrecognized type "+t.type)}return nr.write(e,t)}function Rne(e,t){var r=Jn(t||{}),n=Cne(e,r);return Ine(n,r)}function Ine(e,t){var r={},n=Cr?"nodebuffer":typeof Uint8Array<"u"?"array":"string";if(t.compression&&(r.compression="DEFLATE"),t.password)r.type=n;else switch(t.type){case"base64":r.type="base64";break;case"binary":r.type="string";break;case"string":throw new Error("'string' output type invalid for '"+t.bookType+"' files");case"buffer":case"file":r.type=n;break;default:throw new Error("Unrecognized type "+t.type)}var a=e.FullPaths?nr.write(e,{fileType:"zip",type:{nodebuffer:"buffer",string:"binary"}[r.type]||r.type,compression:!!t.compression}):e.generate(r);if(typeof Deno<"u"&&typeof a=="string"){if(t.type=="binary"||t.type=="base64")return a;a=new Uint8Array(n2(a))}return t.password&&typeof encrypt_agile<"u"?lL(encrypt_agile(a,t.password),t):t.type==="file"?yg(t.file,a):t.type=="string"?Dn(a):a}function Bne(e,t){var r=t||{},n=Mre(e,r);return lL(n,r)}function nu(e,t,r){r||(r="");var n=r+e;switch(t.type){case"base64":return Bx(iu(n));case"binary":return iu(n);case"string":return e;case"file":return yg(t.file,n,"utf8");case"buffer":return Cr?bf(n,"utf8"):typeof TextEncoder<"u"?new TextEncoder().encode(n):nu(n,{type:"binary"}).split("").map(function(a){return a.charCodeAt(0)})}throw new Error("Unrecognized type "+t.type)}function Une(e,t){switch(t.type){case"base64":return Bx(e);case"binary":return e;case"string":return e;case"file":return yg(t.file,e,"binary");case"buffer":return Cr?bf(e,"binary"):e.split("").map(function(r){return r.charCodeAt(0)})}throw new Error("Unrecognized type "+t.type)}function ev(e,t){switch(t.type){case"string":case"base64":case"binary":for(var r="",n=0;n<e.length;++n)r+=String.fromCharCode(e[n]);return t.type=="base64"?Bx(r):t.type=="string"?Dn(r):r;case"file":return yg(t.file,e);case"buffer":return e;default:throw new Error("Unrecognized type "+t.type)}}function oL(e,t){HN(),Dte(e);var r=Jn(t||{});if(r.cellStyles&&(r.cellNF=!0,r.sheetStubs=!0),r.type=="array"){r.type="binary";var n=oL(e,r);return r.type="array",n2(n)}var a=0;if(r.sheet&&(typeof r.sheet=="number"?a=r.sheet:a=e.SheetNames.indexOf(r.sheet),!e.SheetNames[a]))throw new Error("Sheet not found: "+r.sheet+" : "+typeof r.sheet);switch(r.bookType||"xlsb"){case"xml":case"xlml":return nu(Cre(e,r),r);case"slk":case"sylk":return nu(pF.from_sheet(e.Sheets[e.SheetNames[a]],r),r);case"htm":case"html":return nu(eL(e.Sheets[e.SheetNames[a]],r),r);case"txt":return Une(cL(e.Sheets[e.SheetNames[a]],r),r);case"csv":return nu(A3(e.Sheets[e.SheetNames[a]],r),r,"\uFEFF");case"dif":return nu(xF.from_sheet(e.Sheets[e.SheetNames[a]],r),r);case"dbf":return ev(a_.from_sheet(e.Sheets[e.SheetNames[a]],r),r);case"prn":return nu(Im.from_sheet(e.Sheets[e.SheetNames[a]],r),r);case"rtf":return nu(NF.from_sheet(e.Sheets[e.SheetNames[a]],r),r);case"eth":return nu(gF.from_sheet(e.Sheets[e.SheetNames[a]],r),r);case"fods":return nu(aL(e,r),r);case"wk1":return ev(P0.sheet_to_wk1(e.Sheets[e.SheetNames[a]],r),r);case"wk3":return ev(P0.book_to_wk3(e,r),r);case"biff2":r.biff||(r.biff=2);case"biff3":r.biff||(r.biff=3);case"biff4":return r.biff||(r.biff=4),ev(JF(e,r),r);case"biff5":r.biff||(r.biff=5);case"biff8":case"xla":case"xls":return r.biff||(r.biff=8),Bne(e,r);case"xlsx":case"xlsm":case"xlam":case"xlsb":case"numbers":case"ods":return Rne(e,r);default:throw new Error("Unrecognized bookType |"+r.bookType+"|")}}function zne(e){if(!e.bookType){var t={xls:"biff8",htm:"html",slk:"sylk",socialcalc:"eth",Sh33tJS:"WTF"},r=e.file.slice(e.file.lastIndexOf(".")).toLowerCase();r.match(/^\.[a-z]+$/)&&(e.bookType=r.slice(1)),e.bookType=t[e.bookType]||e.bookType}}function qne(e,t,r){var n={};return n.type="file",n.file=t,zne(n),oL(e,n)}function $ne(e,t,r,n,a,i,l,o){var f=Ka(r),u=o.defval,h=o.raw||!Object.prototype.hasOwnProperty.call(o,"raw"),p=!0,g=a===1?[]:{};if(a!==1)if(Object.defineProperty)try{Object.defineProperty(g,"__rowNum__",{value:r,enumerable:!1})}catch{g.__rowNum__=r}else g.__rowNum__=r;if(!l||e[r])for(var x=t.s.c;x<=t.e.c;++x){var b=l?e[r][x]:e[n[x]+f];if(b===void 0||b.t===void 0){if(u===void 0)continue;i[x]!=null&&(g[i[x]]=u);continue}var y=b.v;switch(b.t){case"z":if(y==null)break;continue;case"e":y=y==0?null:void 0;break;case"s":case"d":case"b":case"n":break;default:throw new Error("unrecognized type "+b.t)}if(i[x]!=null){if(y==null)if(b.t=="e"&&y===null)g[i[x]]=null;else if(u!==void 0)g[i[x]]=u;else if(h&&y===null)g[i[x]]=null;else continue;else g[i[x]]=h&&(b.t!=="n"||b.t==="n"&&o.rawNumbers!==!1)?y:ff(b,y,o);y!=null&&(p=!1)}}return{row:g,isempty:p}}function sy(e,t){if(e==null||e["!ref"]==null)return[];var r={t:"n",v:0},n=0,a=1,i=[],l=0,o="",f={s:{r:0,c:0},e:{r:0,c:0}},u=t||{},h=u.range!=null?u.range:e["!ref"];switch(u.header===1?n=1:u.header==="A"?n=2:Array.isArray(u.header)?n=3:u.header==null&&(n=0),typeof h){case"string":f=Zr(h);break;case"number":f=Zr(e["!ref"]),f.s.r=h;break;default:f=h}n>0&&(a=0);var p=Ka(f.s.r),g=[],x=[],b=0,y=0,w=Array.isArray(e),_=f.s.r,E=0,A={};w&&!e[_]&&(e[_]=[]);var O=u.skipHidden&&e["!cols"]||[],D=u.skipHidden&&e["!rows"]||[];for(E=f.s.c;E<=f.e.c;++E)if(!(O[E]||{}).hidden)switch(g[E]=Na(E),r=w?e[_][E]:e[g[E]+p],n){case 1:i[E]=E-f.s.c;break;case 2:i[E]=g[E];break;case 3:i[E]=u.header[E-f.s.c];break;default:if(r==null&&(r={w:"__EMPTY",t:"s"}),o=l=ff(r,null,u),y=A[l]||0,!y)A[l]=1;else{do o=l+"_"+y++;while(A[o]);A[l]=y,A[o]=1}i[E]=o}for(_=f.s.r+a;_<=f.e.r;++_)if(!(D[_]||{}).hidden){var R=$ne(e,f,_,g,n,i,w,u);(R.isempty===!1||(n===1?u.blankrows!==!1:u.blankrows))&&(x[b++]=R.row)}return x.length=b,x}var Ik=/"/g;function Hne(e,t,r,n,a,i,l,o){for(var f=!0,u=[],h="",p=Ka(r),g=t.s.c;g<=t.e.c;++g)if(n[g]){var x=o.dense?(e[r]||[])[g]:e[n[g]+p];if(x==null)h="";else if(x.v!=null){f=!1,h=""+(o.rawNumbers&&x.t=="n"?x.v:ff(x,null,o));for(var b=0,y=0;b!==h.length;++b)if((y=h.charCodeAt(b))===a||y===i||y===34||o.forceQuotes){h='"'+h.replace(Ik,'""')+'"';break}h=="ID"&&(h='"ID"')}else x.f!=null&&!x.F?(f=!1,h="="+x.f,h.indexOf(",")>=0&&(h='"'+h.replace(Ik,'""')+'"')):h="";u.push(h)}return o.blankrows===!1&&f?null:u.join(l)}function A3(e,t){var r=[],n=t??{};if(e==null||e["!ref"]==null)return"";var a=Zr(e["!ref"]),i=n.FS!==void 0?n.FS:",",l=i.charCodeAt(0),o=n.RS!==void 0?n.RS:`
`,f=o.charCodeAt(0),u=new RegExp((i=="|"?"\\|":i)+"+$"),h="",p=[];n.dense=Array.isArray(e);for(var g=n.skipHidden&&e["!cols"]||[],x=n.skipHidden&&e["!rows"]||[],b=a.s.c;b<=a.e.c;++b)(g[b]||{}).hidden||(p[b]=Na(b));for(var y=0,w=a.s.r;w<=a.e.r;++w)(x[w]||{}).hidden||(h=Hne(e,a,w,p,l,f,i,n),h!=null&&(n.strip&&(h=h.replace(u,"")),(h||n.blankrows!==!1)&&r.push((y++?o:"")+h)));return delete n.dense,r.join("")}function cL(e,t){t||(t={}),t.FS="	",t.RS=`
`;var r=A3(e,t);return r}function Vne(e){var t="",r,n="";if(e==null||e["!ref"]==null)return[];var a=Zr(e["!ref"]),i="",l=[],o,f=[],u=Array.isArray(e);for(o=a.s.c;o<=a.e.c;++o)l[o]=Na(o);for(var h=a.s.r;h<=a.e.r;++h)for(i=Ka(h),o=a.s.c;o<=a.e.c;++o)if(t=l[o]+i,r=u?(e[h]||[])[o]:e[t],n="",r!==void 0){if(r.F!=null){if(t=r.F,!r.f)continue;n=r.f,t.indexOf(":")==-1&&(t=t+":"+t)}if(r.f!=null)n=r.f;else{if(r.t=="z")continue;if(r.t=="n"&&r.v!=null)n=""+r.v;else if(r.t=="b")n=r.v?"TRUE":"FALSE";else if(r.w!==void 0)n="'"+r.w;else{if(r.v===void 0)continue;r.t=="s"?n="'"+r.v:n=""+r.v}}f[f.length]=t+"="+n}return f}function uL(e,t,r){var n=r||{},a=+!n.skipHeader,i=e||{},l=0,o=0;if(i&&n.origin!=null)if(typeof n.origin=="number")l=n.origin;else{var f=typeof n.origin=="string"?Sa(n.origin):n.origin;l=f.r,o=f.c}var u,h={s:{c:0,r:0},e:{c:o,r:l+t.length-1+a}};if(i["!ref"]){var p=Zr(i["!ref"]);h.e.c=Math.max(h.e.c,p.e.c),h.e.r=Math.max(h.e.r,p.e.r),l==-1&&(l=p.e.r+1,h.e.r=l+t.length-1+a)}else l==-1&&(l=0,h.e.r=t.length-1+a);var g=n.header||[],x=0;t.forEach(function(y,w){Ia(y).forEach(function(_){(x=g.indexOf(_))==-1&&(g[x=g.length]=_);var E=y[_],A="z",O="",D=ur({c:o+x,r:l+w+a});u=Qx(i,D),E&&typeof E=="object"&&!(E instanceof Date)?i[D]=E:(typeof E=="number"?A="n":typeof E=="boolean"?A="b":typeof E=="string"?A="s":E instanceof Date?(A="d",n.cellDates||(A="n",E=_i(E)),O=n.dateNF||cr[14]):E===null&&n.nullError&&(A="e",E=0),u?(u.t=A,u.v=E,delete u.w,delete u.R,O&&(u.z=O)):i[D]=u={t:A,v:E},O&&(u.z=O))})}),h.e.c=Math.max(h.e.c,o+g.length-1);var b=Ka(l);if(a)for(x=0;x<g.length;++x)i[Na(x+o)+b]={t:"s",v:g[x]};return i["!ref"]=_r(h),i}function Wne(e,t){return uL(null,e,t)}function Qx(e,t,r){if(typeof t=="string"){if(Array.isArray(e)){var n=Sa(t);return e[n.r]||(e[n.r]=[]),e[n.r][n.c]||(e[n.r][n.c]={t:"z"})}return e[t]||(e[t]={t:"z"})}return typeof t!="number"?Qx(e,ur(t)):Qx(e,ur({r:t,c:r||0}))}function Gne(e,t){if(typeof t=="number"){if(t>=0&&e.SheetNames.length>t)return t;throw new Error("Cannot find sheet # "+t)}else if(typeof t=="string"){var r=e.SheetNames.indexOf(t);if(r>-1)return r;throw new Error("Cannot find sheet name |"+t+"|")}else throw new Error("Cannot find sheet |"+t+"|")}function E3(){return{SheetNames:[],Sheets:{}}}function k3(e,t,r,n){var a=1;if(!r)for(;a<=65535&&e.SheetNames.indexOf(r="Sheet"+a)!=-1;++a,r=void 0);if(!r||e.SheetNames.length>=65535)throw new Error("Too many worksheets");if(n&&e.SheetNames.indexOf(r)>=0){var i=r.match(/(^.*?)(\d+)$/);a=i&&+i[2]||0;var l=i&&i[1]||r;for(++a;a<=65535&&e.SheetNames.indexOf(r=l+a)!=-1;++a);}if(GF(r),e.SheetNames.indexOf(r)>=0)throw new Error("Worksheet with name |"+r+"| already exists!");return e.SheetNames.push(r),e.Sheets[r]=t,r}function Kne(e,t,r){e.Workbook||(e.Workbook={}),e.Workbook.Sheets||(e.Workbook.Sheets=[]);var n=Gne(e,t);switch(e.Workbook.Sheets[n]||(e.Workbook.Sheets[n]={}),r){case 0:case 1:case 2:break;default:throw new Error("Bad sheet visibility setting "+r)}e.Workbook.Sheets[n].Hidden=r}function Yne(e,t){return e.z=t,e}function fL(e,t,r){return t?(e.l={Target:t},r&&(e.l.Tooltip=r)):delete e.l,e}function Xne(e,t,r){return fL(e,"#"+t,r)}function Qne(e,t,r){e.c||(e.c=[]),e.c.push({t,a:r||"SheetJS"})}function Zne(e,t,r,n){for(var a=typeof t!="string"?t:Zr(t),i=typeof t=="string"?t:_r(t),l=a.s.r;l<=a.e.r;++l)for(var o=a.s.c;o<=a.e.c;++o){var f=Qx(e,l,o);f.t="n",f.F=i,delete f.v,l==a.s.r&&o==a.s.c&&(f.f=r,n&&(f.D=!0))}return e}var tv={encode_col:Na,encode_row:Ka,encode_cell:ur,encode_range:_r,decode_col:n3,decode_row:r3,split_cell:oG,decode_cell:Sa,decode_range:kl,format_cell:ff,sheet_add_aoa:IP,sheet_add_json:uL,sheet_add_dom:tL,aoa_to_sheet:np,json_to_sheet:Wne,table_to_sheet:rL,table_to_book:ane,sheet_to_csv:A3,sheet_to_txt:cL,sheet_to_json:sy,sheet_to_html:eL,sheet_to_formulae:Vne,sheet_to_row_object_array:sy,sheet_get_cell:Qx,book_new:E3,book_append_sheet:k3,book_set_sheet_visibility:Kne,cell_set_number_format:Yne,cell_set_hyperlink:fL,cell_set_internal_link:Xne,cell_add_comment:Qne,sheet_set_array_formula:Zne,consts:{SHEET_VISIBLE:0,SHEET_HIDDEN:1,SHEET_VERY_HIDDEN:2}};const jc={async getAll(){return st.get("/cities")},async getById(e){try{return await st.get(`/cities/${e}`)}catch(t){if(t instanceof Error&&"status"in t&&t.status===404)return null;throw t}},async getBySegment(e){return st.get(`/cities/by-segment/${e}`)},async create(e,t){return st.post("/cities",{id:e,...t})},async update(e){const{id:t,...r}=e;return st.put(`/cities/${t}`,r)},async delete(e){return st.delete(`/cities/${e}`)}},Zi=[];for(let e=0;e<256;++e)Zi.push((e+256).toString(16).slice(1));function Jne(e,t=0){return(Zi[e[t+0]]+Zi[e[t+1]]+Zi[e[t+2]]+Zi[e[t+3]]+"-"+Zi[e[t+4]]+Zi[e[t+5]]+"-"+Zi[e[t+6]]+Zi[e[t+7]]+"-"+Zi[e[t+8]]+Zi[e[t+9]]+"-"+Zi[e[t+10]]+Zi[e[t+11]]+Zi[e[t+12]]+Zi[e[t+13]]+Zi[e[t+14]]+Zi[e[t+15]]).toLowerCase()}let Fw;const eae=new Uint8Array(16);function tae(){if(!Fw){if(typeof crypto>"u"||!crypto.getRandomValues)throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");Fw=crypto.getRandomValues.bind(crypto)}return Fw(eae)}const rae=typeof crypto<"u"&&crypto.randomUUID&&crypto.randomUUID.bind(crypto),Bk={randomUUID:rae};function nae(e,t,r){e=e||{};const n=e.random??e.rng?.()??tae();if(n.length<16)throw new Error("Random bytes length must be >= 16");return n[6]=n[6]&15|64,n[8]=n[8]&63|128,Jne(n)}function Bd(e,t,r){return Bk.randomUUID&&!e?Bk.randomUUID():nae(e)}const ip=()=>hr({queryKey:["cities"],queryFn:()=>jc.getAll()}),aae=e=>hr({queryKey:["cities",e],queryFn:()=>jc.getById(e),enabled:!!e}),iae=()=>{const e=Ut();return Ht({mutationFn:async t=>{const r=Bd();return jc.create(r,t)},onSuccess:()=>{e.invalidateQueries({queryKey:["cities"]})}})},sae=()=>{const e=Ut();return Ht({mutationFn:t=>jc.update(t),onSuccess:()=>{e.invalidateQueries({queryKey:["cities"]})}})},lae=()=>{const e=Ut();return Ht({mutationFn:t=>jc.delete(t),onSuccess:()=>{e.invalidateQueries({queryKey:["cities"]})}})},oae=()=>{const e=Ut();return Ht({mutationFn:async t=>{const r={success:0,errors:[]},n=await jc.getAll();for(let a=0;a<t.length;a++){const i=t[a];try{if(!i.name||!i.code||!i.segment_id){r.errors.push({row:a+2,error:"Donnes manquantes (nom, code ou segment)",data:i});continue}if(n.find(f=>f.name.trim()===i.name.trim()&&f.segment_id===i.segment_id)){r.errors.push({row:a+2,error:`Une ville avec le nom "${i.name}" existe dj dans ce segment`,data:i});continue}const o=Bd();await jc.create(o,{name:i.name.trim(),code:i.code.trim(),segment_id:i.segment_id}),r.success++}catch(l){r.errors.push({row:a+2,error:l instanceof Error?l.message:"Erreur inconnue",data:i})}}return r},onSuccess:()=>{e.invalidateQueries({queryKey:["cities"]})}})};function cae({segmentId:e,segmentName:t,onClose:r}){const[n,a]=C.useState(null),[i,l]=C.useState(!1),[o,f]=C.useState(null),u=C.useRef(null),h=oae(),p=b=>{b.target.files&&b.target.files[0]&&(a(b.target.files[0]),f(null))},g=async()=>{if(n){l(!0),f(null);try{const b=await n.arrayBuffer(),y=o_(b),w=y.Sheets[y.SheetNames[0]],E=tv.sheet_to_json(w).map(O=>({name:O.Ville?.toString().trim()||"",code:O.code?.toString().trim().toUpperCase()||"",segment_id:e})),A=await h.mutateAsync(E);f(A)}catch(b){console.error("Erreur lors de l'import:",b),alert("Erreur lors de la lecture du fichier Excel")}finally{l(!1)}}},x=()=>{const b=[{Ville:"Casablanca",code:"A1P07"},{Ville:"Rabat",code:"A1P01"},{Ville:"Tanger",code:"A1P05"}],y=tv.json_to_sheet(b),w=tv.book_new();tv.book_append_sheet(w,y,"Villes"),y["!cols"]=[{wch:25},{wch:15}],qne(w,"template_import_villes.xlsx")};return s.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:s.jsxs("div",{className:"bg-white rounded-lg shadow-xl max-w-2xl w-full max-h-[90vh] overflow-y-auto",children:[s.jsxs("div",{className:"flex items-center justify-between p-6 border-b border-gray-200",children:[s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx("div",{className:"w-10 h-10 bg-blue-100 rounded-lg flex items-center justify-center",children:s.jsx(q0,{className:"w-6 h-6 text-blue-600"})}),s.jsxs("div",{children:[s.jsx("h2",{className:"text-xl font-bold text-gray-900",children:"Import en masse"}),s.jsxs("p",{className:"text-sm text-gray-500",children:["Importer des villes pour : ",s.jsx("strong",{children:t})]})]})]}),s.jsx("button",{onClick:r,className:"text-gray-400 hover:text-gray-600 transition-colors",children:s.jsx(rl,{className:"w-6 h-6"})})]}),s.jsxs("div",{className:"p-6 space-y-6",children:[s.jsxs("div",{className:"bg-blue-50 border border-blue-200 rounded-lg p-4",children:[s.jsx("h3",{className:"font-semibold text-blue-900 mb-2",children:"Format du fichier Excel"}),s.jsx("p",{className:"text-sm text-blue-800 mb-3",children:"Le fichier doit contenir seulement 2 colonnes :"}),s.jsxs("ul",{className:"text-sm text-blue-800 space-y-1 list-disc list-inside",children:[s.jsxs("li",{children:[s.jsx("strong",{children:"Ville"})," : Nom de la ville (Ex: Casablanca)"]}),s.jsxs("li",{children:[s.jsx("strong",{children:"code"})," : Code de la ville (Ex: A1P07)"]})]}),s.jsxs("p",{className:"text-sm text-blue-700 mt-2",children:[" Toutes les villes seront automatiquement associes au segment : ",s.jsx("strong",{children:t})]})]}),s.jsxs("button",{onClick:x,className:"w-full flex items-center justify-center gap-2 px-4 py-3 border-2 border-dashed border-gray-300 rounded-lg hover:border-blue-500 hover:bg-blue-50 transition-colors",children:[s.jsx(Ss,{className:"w-5 h-5 text-blue-600"}),s.jsx("span",{className:"text-blue-600 font-medium",children:"Tlcharger le fichier template"})]}),s.jsxs("div",{children:[s.jsx("input",{ref:u,type:"file",accept:".xlsx,.xls",onChange:p,className:"hidden"}),s.jsxs("button",{onClick:()=>u.current?.click(),className:"w-full flex items-center justify-center gap-2 px-4 py-8 border-2 border-dashed border-gray-300 rounded-lg hover:border-green-500 hover:bg-green-50 transition-colors",children:[s.jsx(vg,{className:"w-8 h-8 text-green-600"}),s.jsxs("div",{className:"text-center",children:[s.jsx("p",{className:"text-green-600 font-medium",children:n?n.name:"Cliquez pour slectionner un fichier Excel"}),s.jsx("p",{className:"text-sm text-gray-500 mt-1",children:"Formats accepts : .xlsx, .xls"})]})]})]}),o&&s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{className:"flex items-center gap-2 p-4 bg-green-50 border border-green-200 rounded-lg",children:[s.jsx(ii,{className:"w-5 h-5 text-green-600"}),s.jsxs("span",{className:"text-green-800 font-medium",children:[o.success," ville(s) importe(s) avec succs"]})]}),o.errors.length>0&&s.jsxs("div",{className:"space-y-2",children:[s.jsxs("div",{className:"flex items-center gap-2 p-4 bg-red-50 border border-red-200 rounded-lg",children:[s.jsx(un,{className:"w-5 h-5 text-red-600"}),s.jsxs("span",{className:"text-red-800 font-medium",children:[o.errors.length," erreur(s) dtecte(s)"]})]}),s.jsx("div",{className:"max-h-60 overflow-y-auto space-y-2",children:o.errors.map((b,y)=>s.jsxs("div",{className:"p-3 bg-white border border-red-200 rounded-lg text-sm",children:[s.jsxs("p",{className:"font-medium text-red-800",children:["Ligne ",b.row]}),s.jsx("p",{className:"text-red-600",children:b.error}),s.jsxs("p",{className:"text-gray-600 text-xs mt-1",children:["Ville: ",b.data.name||"N/A"," | Code: ",b.data.code||"N/A"]})]},y))})]})]}),s.jsxs("div",{className:"flex gap-3 pt-4 border-t border-gray-200",children:[s.jsx("button",{type:"button",onClick:r,className:"flex-1 px-4 py-2 border border-gray-300 text-gray-700 rounded-lg hover:bg-gray-50 transition-colors",children:o?"Fermer":"Annuler"}),!o&&s.jsx("button",{onClick:g,disabled:!n||i,className:"flex-1 px-4 py-2 bg-blue-600 hover:bg-blue-700 text-white rounded-lg transition-colors disabled:opacity-50 disabled:cursor-not-allowed",children:i?"Import en cours...":"Importer"})]})]})]})})}const Ud={async getAll(){return st.get("/segments")},async getById(e){try{return await st.get(`/segments/${e}`)}catch(t){if(t instanceof Error&&"status"in t&&t.status===404)return null;throw t}},async create(e,t){return st.post("/segments",{id:e,...t})},async update(e){const{id:t,...r}=e;return st.put(`/segments/${t}`,r)},async delete(e){return st.delete(`/segments/${e}`)}},zd=()=>hr({queryKey:["segments"],queryFn:()=>Ud.getAll()}),uae=()=>{const e=Ut();return Ht({mutationFn:async t=>{const r=Bd();return Ud.create(r,t)},onSuccess:()=>{e.invalidateQueries({queryKey:["segments"]})}})},fae=()=>{const e=Ut();return Ht({mutationFn:t=>Ud.update(t),onSuccess:()=>{e.invalidateQueries({queryKey:["segments"]})}})},dae=()=>{const e=Ut();return Ht({mutationFn:t=>Ud.delete(t),onSuccess:()=>{e.invalidateQueries({queryKey:["segments"]})}})};function hae(){const{data:e=[],isLoading:t,error:r}=zd(),n=uae(),a=fae(),i=dae(),[l,o]=C.useState(!1),[f,u]=C.useState(null),[h,p]=C.useState(!1),[g,x]=C.useState(null),[b,y]=C.useState({name:"",color:"#3b82f6"}),w=async D=>{D.preventDefault();try{f?await a.mutateAsync({id:f,name:b.name,color:b.color}):await n.mutateAsync({name:b.name,color:b.color}),A()}catch(R){console.error("Erreur lors de la sauvegarde:",R),alert("Erreur lors de la sauvegarde du segment")}},_=D=>{y({name:D.name,color:D.color}),u(D.id),o(!0)},E=async D=>{if(confirm("tes-vous sr de vouloir supprimer ce segment ?"))try{await i.mutateAsync(D)}catch(R){console.error("Erreur lors de la suppression:",R),alert("Erreur lors de la suppression du segment")}},A=()=>{y({name:"",color:"#3b82f6"}),u(null),o(!1)},O=D=>{x({id:D.id,name:D.name}),p(!0)};return r?s.jsx("div",{className:"min-h-screen bg-gray-50 p-4 md:p-6 lg:p-8",children:s.jsx("div",{className:"max-w-6xl mx-auto",children:s.jsx("div",{className:"bg-red-50 border border-red-200 rounded-lg p-4",children:s.jsxs("p",{className:"text-red-800",children:["Erreur lors du chargement des segments: ",r.message]})})})}):s.jsxs("div",{className:"min-h-screen bg-gray-50 p-4 md:p-6 lg:p-8",children:[s.jsxs("div",{className:"max-w-6xl mx-auto",children:[s.jsxs("div",{className:"flex flex-col sm:flex-row items-start sm:items-center justify-between gap-4 mb-6",children:[s.jsxs("div",{className:"flex items-center gap-3 sm:gap-4",children:[s.jsx(Ma,{to:"/dashboard",children:s.jsx(rt,{variant:"outline",size:"icon",children:s.jsx(ea,{className:"h-4 w-4"})})}),s.jsx("h1",{className:"text-2xl sm:text-3xl font-bold",children:"Gestion des Segments"})]}),s.jsxs(rt,{onClick:()=>o(!l),className:"w-full sm:w-auto",children:[s.jsx(ca,{className:"mr-2 h-4 w-4"}),"Nouveau Segment"]})]}),l&&s.jsxs(hn,{className:"mb-6",children:[s.jsx(cf,{children:s.jsxs(uf,{children:[f?"Modifier":"Nouveau"," Segment"]})}),s.jsx(mn,{children:s.jsxs("form",{onSubmit:w,className:"space-y-4",children:[s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[s.jsxs("div",{children:[s.jsx("label",{className:"text-sm font-medium mb-2 block",children:"Nom du segment"}),s.jsx(Ks,{value:b.name,onChange:D=>y({...b,name:D.target.value}),placeholder:"Ex: Formation Informatique",required:!0})]}),s.jsxs("div",{children:[s.jsx("label",{className:"text-sm font-medium mb-2 block",children:"Couleur"}),s.jsxs("div",{className:"flex gap-2",children:[s.jsx(Ks,{type:"color",value:b.color,onChange:D=>y({...b,color:D.target.value}),className:"w-20"}),s.jsx(Ks,{value:b.color,onChange:D=>y({...b,color:D.target.value}),placeholder:"#3b82f6"})]})]})]}),s.jsxs("div",{className:"flex flex-col sm:flex-row gap-2",children:[s.jsx(rt,{type:"submit",disabled:n.isPending||a.isPending,className:"w-full sm:w-auto",children:n.isPending||a.isPending?"Enregistrement...":f?"Modifier":"Crer"}),s.jsx(rt,{type:"button",variant:"outline",onClick:A,className:"w-full sm:w-auto",children:"Annuler"})]})]})})]}),t&&s.jsx("div",{className:"text-center py-12",children:s.jsx("p",{className:"text-gray-500",children:"Chargement des segments..."})}),!t&&s.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:e.map(D=>s.jsxs(hn,{style:{borderLeft:`4px solid ${D.color}`},children:[s.jsx(cf,{children:s.jsxs(uf,{className:"flex items-center justify-between",children:[s.jsx("span",{children:D.name}),s.jsx("div",{className:"w-6 h-6 rounded",style:{backgroundColor:D.color}})]})}),s.jsx(mn,{children:s.jsxs("div",{className:"flex flex-col gap-2",children:[s.jsxs(rt,{size:"sm",className:"w-full",onClick:()=>O(D),children:[s.jsx(vg,{className:"h-4 w-4 mr-2"}),"Importer des villes"]}),s.jsxs("div",{className:"flex gap-2",children:[s.jsx(rt,{size:"sm",variant:"outline",onClick:()=>_(D),children:s.jsx(rP,{className:"h-4 w-4"})}),s.jsx(rt,{size:"sm",variant:"destructive",onClick:()=>E(D.id),disabled:i.isPending,children:s.jsx(da,{className:"h-4 w-4"})})]})]})})]},D.id))}),!t&&e.length===0&&!l&&s.jsx("div",{className:"text-center py-12",children:s.jsx("p",{className:"text-gray-500",children:"Aucun segment cr pour le moment"})})]}),h&&g&&s.jsx(cae,{segmentId:g.id,segmentName:g.name,onClose:()=>{p(!1),x(null)}})]})}function mae({cityId:e,onClose:t}){const[r,n]=C.useState({name:"",code:"",segment_id:""}),{data:a}=aae(e||""),{data:i=[]}=zd(),l=iae(),o=sae(),f=!!e;C.useEffect(()=>{a&&n({name:a.name,code:a.code,segment_id:a.segment_id})},[a]);const u=async h=>{if(h.preventDefault(),!r.name.trim()||!r.code.trim()||!r.segment_id){alert("Veuillez remplir tous les champs obligatoires");return}try{f&&e?await o.mutateAsync({id:e,...r}):await l.mutateAsync(r),t()}catch(p){console.error("Erreur lors de la sauvegarde:",p),alert("Erreur lors de la sauvegarde de la ville")}};return s.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:s.jsxs("div",{className:"bg-white rounded-lg shadow-xl w-full max-w-md max-h-[90vh] overflow-y-auto",children:[s.jsxs("div",{className:"flex items-center justify-between p-4 sm:p-6 border-b border-gray-200",children:[s.jsxs("div",{className:"flex items-center gap-2 sm:gap-3 min-w-0",children:[s.jsx("div",{className:"w-8 h-8 sm:w-10 sm:h-10 bg-green-100 rounded-lg flex items-center justify-center flex-shrink-0",children:s.jsx(Js,{className:"w-5 h-5 sm:w-6 sm:h-6 text-green-600"})}),s.jsxs("div",{className:"min-w-0",children:[s.jsx("h2",{className:"text-lg sm:text-xl font-bold text-gray-900 truncate",children:f?"Modifier la ville":"Nouvelle ville"}),s.jsx("p",{className:"text-xs sm:text-sm text-gray-500 truncate",children:f?"Modifiez les informations":"Ajoutez une nouvelle ville"})]})]}),s.jsx("button",{onClick:t,className:"text-gray-400 hover:text-gray-600 transition-colors flex-shrink-0 ml-2",children:s.jsx(rl,{className:"w-5 h-5 sm:w-6 sm:h-6"})})]}),s.jsxs("form",{onSubmit:u,className:"p-4 sm:p-6 space-y-4 sm:space-y-6",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Nom de la ville *"}),s.jsxs("div",{className:"relative",children:[s.jsx(Js,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 w-5 h-5"}),s.jsx("input",{type:"text",required:!0,value:r.name,onChange:h=>n({...r,name:h.target.value}),placeholder:"Ex: Casablanca",className:"w-full pl-10 pr-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-green-500 focus:border-transparent"})]})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Code de la ville *"}),s.jsxs("div",{className:"relative",children:[s.jsx(ZD,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 w-5 h-5"}),s.jsx("input",{type:"text",required:!0,value:r.code,onChange:h=>n({...r,code:h.target.value.toUpperCase()}),placeholder:"Ex: CASA",className:"w-full pl-10 pr-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-green-500 focus:border-transparent uppercase",maxLength:10})]}),s.jsx("p",{className:"mt-1 text-xs text-gray-500",children:"Code court pour identifier la ville (max 10 caractres)"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Segment de formation *"}),s.jsxs("div",{className:"relative",children:[s.jsx(BN,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 w-5 h-5"}),s.jsxs("select",{required:!0,value:r.segment_id,onChange:h=>n({...r,segment_id:h.target.value}),className:"w-full pl-10 pr-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-green-500 focus:border-transparent appearance-none",children:[s.jsx("option",{value:"",children:"Slectionnez un segment"}),i.map(h=>s.jsx("option",{value:h.id,children:h.name},h.id))]})]}),i.length===0&&s.jsx("p",{className:"mt-1 text-xs text-amber-600",children:"Aucun segment disponible. Veuillez crer un segment d'abord."})]}),s.jsxs("div",{className:"flex gap-3 pt-4 border-t border-gray-200",children:[s.jsx("button",{type:"button",onClick:t,className:"flex-1 px-4 py-2 border border-gray-300 text-gray-700 rounded-lg hover:bg-gray-50 transition-colors",children:"Annuler"}),s.jsx("button",{type:"submit",disabled:l.isPending||o.isPending,className:"flex-1 px-4 py-2 bg-green-600 hover:bg-green-700 text-white rounded-lg transition-colors disabled:opacity-50 disabled:cursor-not-allowed",children:l.isPending||o.isPending?"Enregistrement...":f?"Mettre  jour":"Crer"})]})]})]})})}function pae(){const e=Pn(),[t,r]=C.useState(""),[n,a]=C.useState(!1),[i,l]=C.useState(null),[o,f]=C.useState("all"),[u,h]=C.useState([]),{data:p=[],isLoading:g}=ip(),{data:x=[]}=zd(),b=lae(),y=p.filter(R=>{const P=R.name.toLowerCase().includes(t.toLowerCase())||R.code.toLowerCase().includes(t.toLowerCase()),T=o==="all"||R.segment_id===o;return P&&T}),w=R=>{l(R),a(!0)},_=R=>{h(P=>P.includes(R)?P.filter(T=>T!==R):[...P,R])},E=()=>{u.length===y.length&&y.length>0?h([]):h(y.map(R=>R.id))},A=async(R,P)=>{if(window.confirm(`tes-vous sr de vouloir supprimer la ville "${P}" ?`))try{await b.mutateAsync(R)}catch(T){console.error("Erreur lors de la suppression:",T),alert("Erreur lors de la suppression de la ville")}},O=async()=>{if(u.length===0){alert("Veuillez slectionner au moins une ville  supprimer");return}if(window.confirm(`tes-vous sr de vouloir supprimer ${u.length} ville(s) slectionne(s) ?

Cette action est irrversible.`))try{for(const R of u)await b.mutateAsync(R);h([])}catch(R){console.error("Erreur lors de la suppression en masse:",R),alert("Erreur lors de la suppression des villes")}},D=()=>{a(!1),l(null)};return s.jsxs("div",{className:"p-4 md:p-6 lg:p-8",children:[s.jsxs("div",{className:"mb-4 sm:mb-6",children:[s.jsxs("div",{className:"flex items-center gap-3 sm:gap-4 mb-2",children:[s.jsx("button",{onClick:()=>e("/dashboard"),className:"p-2 hover:bg-gray-100 rounded-lg transition-colors flex-shrink-0",title:"Retour au tableau de bord",children:s.jsx(ea,{className:"w-5 h-5 sm:w-6 sm:h-6 text-gray-600"})}),s.jsxs("h1",{className:"text-xl sm:text-2xl md:text-3xl font-bold text-gray-900 flex items-center gap-2",children:[s.jsx(Js,{className:"w-6 h-6 sm:w-7 sm:h-7 md:w-8 md:h-8 text-green-600"}),s.jsx("span",{className:"truncate",children:"Gestion des Villes"})]})]}),s.jsx("p",{className:"text-sm sm:text-base text-gray-600 mt-2 ml-10 sm:ml-12 md:ml-14",children:"Grer les villes et leur affectation"})]}),s.jsx("div",{className:"bg-white rounded-lg shadow-sm p-4 mb-6",children:s.jsxs("div",{className:"flex flex-col md:flex-row gap-4 items-center justify-between",children:[s.jsxs("div",{className:"flex flex-col md:flex-row gap-4 w-full md:w-auto",children:[s.jsxs("div",{className:"relative flex-1 md:w-80",children:[s.jsx(ep,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 w-5 h-5"}),s.jsx("input",{type:"text",placeholder:"Rechercher une ville...",value:t,onChange:R=>r(R.target.value),className:"w-full pl-10 pr-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-green-500 focus:border-transparent"})]}),s.jsxs("select",{value:o,onChange:R=>f(R.target.value),className:"px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-green-500 focus:border-transparent",children:[s.jsx("option",{value:"all",children:"Tous les segments"}),x.map(R=>s.jsx("option",{value:R.id,children:R.name},R.id))]})]}),s.jsxs("div",{className:"flex flex-col sm:flex-row gap-2 w-full md:w-auto",children:[u.length>0&&s.jsxs("button",{onClick:O,className:"w-full sm:w-auto bg-red-600 hover:bg-red-700 text-white px-4 sm:px-6 py-2 rounded-lg flex items-center justify-center gap-2 transition-colors",children:[s.jsx(da,{className:"w-4 h-4 sm:w-5 sm:h-5"}),s.jsxs("span",{className:"text-sm sm:text-base",children:["Supprimer (",u.length,")"]})]}),s.jsxs("button",{onClick:()=>a(!0),className:"w-full sm:w-auto bg-green-600 hover:bg-green-700 text-white px-4 sm:px-6 py-2 rounded-lg flex items-center justify-center gap-2 transition-colors",children:[s.jsx(ca,{className:"w-4 h-4 sm:w-5 sm:h-5"}),s.jsx("span",{className:"text-sm sm:text-base",children:"Nouvelle Ville"})]})]})]})}),g?s.jsxs("div",{className:"bg-white rounded-lg shadow-sm p-8 text-center",children:[s.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-green-600 mx-auto"}),s.jsx("p",{className:"mt-4 text-gray-600",children:"Chargement..."})]}):y.length===0?s.jsxs("div",{className:"bg-white rounded-lg shadow-sm p-8 text-center",children:[s.jsx(Js,{className:"w-16 h-16 text-gray-300 mx-auto mb-4"}),s.jsx("p",{className:"text-gray-600 text-lg",children:t||o!=="all"?"Aucune ville trouve":"Aucune ville enregistre"}),s.jsx("p",{className:"text-gray-400 mt-2",children:t||o!=="all"?"Essayez de modifier vos critres de recherche":"Commencez par crer une nouvelle ville"})]}):s.jsxs("div",{className:"bg-white rounded-lg shadow-sm overflow-hidden",children:[s.jsx("div",{className:"overflow-x-auto",children:s.jsxs("table",{className:"w-full",children:[s.jsx("thead",{className:"bg-gray-50 border-b border-gray-200",children:s.jsxs("tr",{children:[s.jsx("th",{className:"px-6 py-3 text-left",children:s.jsx("input",{type:"checkbox",checked:u.length===y.length&&y.length>0,onChange:E,className:"w-4 h-4 text-green-600 border-gray-300 rounded focus:ring-green-500"})}),s.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Code"}),s.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Nom de la ville"}),s.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Segment"}),s.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Date de cration"}),s.jsx("th",{className:"px-6 py-3 text-right text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Actions"})]})}),s.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:y.map(R=>s.jsxs("tr",{className:"hover:bg-gray-50 transition-colors",children:[s.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:s.jsx("input",{type:"checkbox",checked:u.includes(R.id),onChange:()=>_(R.id),className:"w-4 h-4 text-green-600 border-gray-300 rounded focus:ring-green-500"})}),s.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:s.jsx("span",{className:"text-sm font-medium text-gray-900",children:R.code})}),s.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:s.jsxs("div",{className:"flex items-center",children:[s.jsx(Js,{className:"w-4 h-4 text-green-600 mr-2"}),s.jsx("span",{className:"text-sm font-medium text-gray-900",children:R.name})]})}),s.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:s.jsx("span",{className:"inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium bg-blue-100 text-blue-800",children:R.segment_name||"N/A"})}),s.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:new Date(R.created_at).toLocaleDateString("fr-FR")}),s.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-right text-sm font-medium",children:s.jsxs("div",{className:"flex items-center justify-end gap-2",children:[s.jsx("button",{onClick:()=>w(R.id),className:"text-blue-600 hover:text-blue-900 p-2 hover:bg-blue-50 rounded-lg transition-colors",title:"Modifier",children:s.jsx(gg,{className:"w-4 h-4"})}),s.jsx("button",{onClick:()=>A(R.id,R.name),className:"text-red-600 hover:text-red-900 p-2 hover:bg-red-50 rounded-lg transition-colors",title:"Supprimer",children:s.jsx(da,{className:"w-4 h-4"})})]})})]},R.id))})]})}),s.jsx("div",{className:"bg-gray-50 px-6 py-3 border-t border-gray-200",children:s.jsxs("p",{className:"text-sm text-gray-600",children:["Affichage de ",y.length," ville(s)",o!=="all"&&" filtre(s)"]})})]}),n&&s.jsx(mae,{cityId:i,onClose:D})]})}const ao={async getAll(){return st.get("/profiles")},async getById(e){try{return await st.get(`/profiles/${e}`)}catch(t){if(t instanceof Error&&"status"in t&&t.status===404)return null;throw t}},async create(e){return st.post("/profiles",e)},async update(e){const{id:t,...r}=e;return st.put(`/profiles/${t}`,r)},async delete(e){return st.delete(`/profiles/${e}`)}};function xae(e){return hr({queryKey:["users",e],queryFn:async()=>{const t=await ao.getAll();return!e||e==="all"?t:t.filter(r=>r.role===e)}})}function gae(){const e=Ut();return Ht({mutationFn:async t=>{const r=Bd();return ao.create({id:r,...t})},onSuccess:()=>{e.invalidateQueries({queryKey:["users"]})}})}function vae(){const e=Ut();return Ht({mutationFn:t=>ao.update(t),onSuccess:()=>{e.invalidateQueries({queryKey:["users"]}),e.invalidateQueries({queryKey:["user"]})}})}function yae(){const e=Ut();return Ht({mutationFn:t=>ao.delete(t),onSuccess:()=>{e.invalidateQueries({queryKey:["users"]})}})}function bae(){const e=Ut();return Ht({mutationFn:async t=>ao.update({id:t.user_id,segment_ids:t.segment_ids}),onSuccess:(t,r)=>{e.invalidateQueries({queryKey:["user",r.user_id]}),e.invalidateQueries({queryKey:["users"]})}})}function wae(){const e=Ut();return Ht({mutationFn:async t=>ao.update({id:t.user_id,city_ids:t.city_ids}),onSuccess:(t,r)=>{e.invalidateQueries({queryKey:["user",r.user_id]}),e.invalidateQueries({queryKey:["users"]})}})}function dL(){return hr({queryKey:["segments"],queryFn:()=>Ud.getAll()})}function _ae(){return hr({queryKey:["cities"],queryFn:()=>jc.getAll()})}function Nae(e){return hr({queryKey:["user",e,"segments"],queryFn:async()=>{const t=await ao.getById(e);return!t||!t.segment_ids?[]:(await Ud.getAll()).filter(n=>t.segment_ids?.includes(n.id))},enabled:!!e})}function Sae(e){return hr({queryKey:["user",e,"cities"],queryFn:async()=>{const t=await ao.getById(e);return!t||!t.city_ids?[]:(await jc.getAll()).filter(n=>t.city_ids?.includes(n.id))},enabled:!!e})}const jae=()=>{const[e,t]=C.useState("all"),[r,n]=C.useState(!1),[a,i]=C.useState(!1),[l,o]=C.useState(!1),[f,u]=C.useState(!1),[h,p]=C.useState(null),{data:g,isLoading:x}=xae(e),b=gae(),y=vae(),w=yae(),_=async O=>{if(window.confirm("tes-vous sr de vouloir supprimer cet utilisateur ?"))try{await w.mutateAsync(O)}catch(D){console.error("Error deleting user:",D),alert("Erreur lors de la suppression")}},E=O=>{const R={admin:{label:"Administrateur",color:"bg-red-100 text-red-800",icon:K4},professor:{label:"Professeur",color:"bg-blue-100 text-blue-800",icon:Mx},gerant:{label:"Grant",color:"bg-green-100 text-green-800",icon:is}}[O];if(!R)return null;const P=R.icon;return s.jsxs("span",{className:`inline-flex items-center gap-1.5 px-3 py-1 rounded-full text-xs font-medium ${R.color}`,children:[s.jsx(P,{className:"w-3.5 h-3.5"}),R.label]})},A={total:g?.length||0,admin:g?.filter(O=>O.role==="admin").length||0,professor:g?.filter(O=>O.role==="professor").length||0,gerant:g?.filter(O=>O.role==="gerant").length||0};return s.jsxs("div",{className:"min-h-screen bg-gray-50",children:[s.jsx("header",{className:"bg-white shadow-sm",children:s.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-3 sm:py-4",children:s.jsxs("div",{className:"flex flex-col sm:flex-row items-start sm:items-center justify-between gap-4",children:[s.jsxs("div",{className:"flex items-start sm:items-center gap-3 sm:gap-4 flex-col sm:flex-row w-full sm:w-auto",children:[s.jsx(Ma,{to:"/dashboard",children:s.jsxs(rt,{variant:"outline",size:"sm",className:"w-full sm:w-auto",children:[s.jsx(ea,{className:"w-4 h-4 mr-2"}),"Retour"]})}),s.jsxs("div",{children:[s.jsx("h1",{className:"text-xl sm:text-2xl font-bold text-gray-900",children:"Gestion des Utilisateurs"}),s.jsx("p",{className:"text-xs sm:text-sm text-gray-600 hidden sm:block",children:"Crer et grer les comptes utilisateurs (admin, professeur, grant)"})]})]}),s.jsxs(rt,{onClick:()=>n(!0),className:"w-full sm:w-auto",children:[s.jsx(ca,{className:"w-4 h-4 mr-2"}),"Nouvel utilisateur"]})]})})}),s.jsxs("main",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:[s.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4 mb-6",children:[s.jsx(hn,{children:s.jsx(mn,{className:"pt-6",children:s.jsxs("div",{className:"text-center",children:[s.jsx("p",{className:"text-2xl font-bold text-gray-900",children:A.total}),s.jsx("p",{className:"text-sm text-gray-600",children:"Total"})]})})}),s.jsx(hn,{children:s.jsx(mn,{className:"pt-6",children:s.jsxs("div",{className:"text-center",children:[s.jsx("p",{className:"text-2xl font-bold text-red-600",children:A.admin}),s.jsx("p",{className:"text-sm text-gray-600",children:"Administrateurs"})]})})}),s.jsx(hn,{children:s.jsx(mn,{className:"pt-6",children:s.jsxs("div",{className:"text-center",children:[s.jsx("p",{className:"text-2xl font-bold text-blue-600",children:A.professor}),s.jsx("p",{className:"text-sm text-gray-600",children:"Professeurs"})]})})}),s.jsx(hn,{children:s.jsx(mn,{className:"pt-6",children:s.jsxs("div",{className:"text-center",children:[s.jsx("p",{className:"text-2xl font-bold text-green-600",children:A.gerant}),s.jsx("p",{className:"text-sm text-gray-600",children:"Grants"})]})})})]}),s.jsxs(hn,{className:"mb-6",children:[s.jsx(cf,{children:s.jsx(uf,{children:"Filtrer par rle"})}),s.jsx(mn,{children:s.jsxs("div",{className:"flex flex-wrap gap-2",children:[s.jsxs(rt,{variant:e==="all"?"default":"outline",size:"sm",onClick:()=>t("all"),children:["Tous (",A.total,")"]}),s.jsxs(rt,{variant:e==="admin"?"default":"outline",size:"sm",onClick:()=>t("admin"),children:["Administrateurs (",A.admin,")"]}),s.jsxs(rt,{variant:e==="professor"?"default":"outline",size:"sm",onClick:()=>t("professor"),children:["Professeurs (",A.professor,")"]}),s.jsxs(rt,{variant:e==="gerant"?"default":"outline",size:"sm",onClick:()=>t("gerant"),children:["Grants (",A.gerant,")"]})]})})]}),s.jsx(hn,{children:s.jsx(mn,{className:"pt-6",children:x?s.jsxs("div",{className:"text-center py-8",children:[s.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-blue-600 mx-auto"}),s.jsx("p",{className:"text-gray-600 mt-2",children:"Chargement..."})]}):!g||g.length===0?s.jsxs("div",{className:"text-center py-12",children:[s.jsx(is,{className:"w-16 h-16 text-gray-400 mx-auto mb-4"}),s.jsx("p",{className:"text-gray-500",children:"Aucun utilisateur trouv"})]}):s.jsx("div",{className:"overflow-x-auto",children:s.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[s.jsx("thead",{className:"bg-gray-50",children:s.jsxs("tr",{children:[s.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Nom complet"}),s.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Nom d'utilisateur"}),s.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Rle"}),s.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Date cration"}),s.jsx("th",{className:"px-6 py-3 text-right text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Actions"})]})}),s.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:g.map(O=>s.jsxs("tr",{className:"hover:bg-gray-50",children:[s.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-medium text-gray-900",children:O.full_name}),s.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:O.username}),s.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:E(O.role)}),s.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:new Date(O.created_at).toLocaleDateString("fr-FR")}),s.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-right text-sm font-medium",children:s.jsxs("div",{className:"flex items-center justify-end gap-2",children:[(O.role==="professor"||O.role==="gerant")&&s.jsx(rt,{variant:"outline",size:"sm",onClick:()=>{p(O),o(!0)},title:"Assigner segments",children:s.jsx(cu,{className:"w-4 h-4"})}),(O.role==="professor"||O.role==="gerant")&&s.jsx(rt,{variant:"outline",size:"sm",onClick:()=>{p(O),u(!0)},title:"Assigner villes",children:s.jsx(Js,{className:"w-4 h-4"})}),s.jsx(rt,{variant:"outline",size:"sm",onClick:()=>{p(O),i(!0)},children:s.jsx(rP,{className:"w-4 h-4"})}),s.jsx(rt,{variant:"outline",size:"sm",onClick:()=>_(O.id),className:"text-red-600 hover:text-red-700",children:s.jsx(da,{className:"w-4 h-4"})})]})})]},O.id))})]})})})})]}),r&&s.jsx(Aae,{onClose:()=>n(!1),createUser:b}),a&&h&&s.jsx(Eae,{user:h,onClose:()=>{i(!1),p(null)},updateUser:y}),l&&h&&s.jsx(kae,{user:h,onClose:()=>{o(!1),p(null)}}),f&&h&&s.jsx(Cae,{user:h,onClose:()=>{u(!1),p(null)}})]})},Aae=({onClose:e,createUser:t})=>{const[r,n]=C.useState({username:"",password:"",full_name:"",role:"professor"}),[a,i]=C.useState(!1),l=async o=>{if(o.preventDefault(),!r.username||!r.password||!r.full_name){alert("Veuillez remplir tous les champs");return}try{await t.mutateAsync(r),e()}catch(f){console.error("Error creating user:",f),alert("Erreur lors de la cration de l'utilisateur")}};return s.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:s.jsxs("div",{className:"bg-white rounded-lg shadow-xl p-6 w-full max-w-md",children:[s.jsx("h2",{className:"text-xl font-bold text-gray-900 mb-4",children:"Nouvel utilisateur"}),s.jsxs("form",{onSubmit:l,className:"space-y-4",children:[s.jsxs("div",{children:[s.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:["Nom complet ",s.jsx("span",{className:"text-red-500",children:"*"})]}),s.jsx("input",{type:"text",value:r.full_name,onChange:o=>n({...r,full_name:o.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",placeholder:"Jean Dupont",required:!0})]}),s.jsxs("div",{children:[s.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:["Nom d'utilisateur ",s.jsx("span",{className:"text-red-500",children:"*"})]}),s.jsx("input",{type:"text",value:r.username,onChange:o=>n({...r,username:o.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",placeholder:"jeandupont",required:!0})]}),s.jsxs("div",{children:[s.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:["Mot de passe ",s.jsx("span",{className:"text-red-500",children:"*"})]}),s.jsxs("div",{className:"relative",children:[s.jsx("input",{type:a?"text":"password",value:r.password,onChange:o=>n({...r,password:o.target.value}),className:"w-full px-3 py-2 pr-10 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",placeholder:"",required:!0}),s.jsx("button",{type:"button",onClick:()=>i(!a),className:"absolute right-2 top-1/2 -translate-y-1/2 p-1 text-gray-500 hover:text-gray-700 focus:outline-none",tabIndex:-1,children:a?s.jsx(Vs,{className:"w-5 h-5"}):s.jsx(Es,{className:"w-5 h-5"})})]})]}),s.jsxs("div",{children:[s.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:["Rle ",s.jsx("span",{className:"text-red-500",children:"*"})]}),s.jsxs("select",{value:r.role,onChange:o=>n({...r,role:o.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",required:!0,children:[s.jsx("option",{value:"professor",children:"Professeur"}),s.jsx("option",{value:"gerant",children:"Grant"}),s.jsx("option",{value:"admin",children:"Administrateur"})]})]}),s.jsxs("div",{className:"flex justify-end gap-3 mt-6",children:[s.jsx(rt,{type:"button",variant:"outline",onClick:e,children:"Annuler"}),s.jsx(rt,{type:"submit",disabled:t.isPending,children:t.isPending?"Cration...":"Crer"})]})]})]})})},Eae=({user:e,onClose:t,updateUser:r})=>{const[n,a]=C.useState({username:e.username,password:"",full_name:e.full_name,role:e.role}),[i,l]=C.useState(!1),o=async f=>{f.preventDefault();try{const u={id:e.id,username:n.username,full_name:n.full_name,role:n.role};n.password&&(u.password=n.password),await r.mutateAsync(u),t()}catch(u){console.error("Error updating user:",u),alert("Erreur lors de la mise  jour")}};return s.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:s.jsxs("div",{className:"bg-white rounded-lg shadow-xl p-6 w-full max-w-md",children:[s.jsx("h2",{className:"text-xl font-bold text-gray-900 mb-4",children:"Modifier l'utilisateur"}),s.jsxs("form",{onSubmit:o,className:"space-y-4",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Nom complet"}),s.jsx("input",{type:"text",value:n.full_name,onChange:f=>a({...n,full_name:f.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Nom d'utilisateur"}),s.jsx("input",{type:"text",value:n.username,onChange:f=>a({...n,username:f.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Nouveau mot de passe (laisser vide pour ne pas modifier)"}),s.jsxs("div",{className:"relative",children:[s.jsx("input",{type:i?"text":"password",value:n.password,onChange:f=>a({...n,password:f.target.value}),className:"w-full px-3 py-2 pr-10 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",placeholder:""}),s.jsx("button",{type:"button",onClick:()=>l(!i),className:"absolute right-2 top-1/2 -translate-y-1/2 p-1 text-gray-500 hover:text-gray-700 focus:outline-none",tabIndex:-1,children:i?s.jsx(Vs,{className:"w-5 h-5"}):s.jsx(Es,{className:"w-5 h-5"})})]})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Rle"}),s.jsxs("select",{value:n.role,onChange:f=>a({...n,role:f.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",children:[s.jsx("option",{value:"professor",children:"Professeur"}),s.jsx("option",{value:"gerant",children:"Grant"}),s.jsx("option",{value:"admin",children:"Administrateur"})]})]}),s.jsxs("div",{className:"flex justify-end gap-3 mt-6",children:[s.jsx(rt,{type:"button",variant:"outline",onClick:t,children:"Annuler"}),s.jsx(rt,{type:"submit",disabled:r.isPending,children:r.isPending?"Mise  jour...":"Mettre  jour"})]})]})]})})},kae=({user:e,onClose:t})=>{const{data:r}=dL(),{data:n}=Nae(e.id),a=bae(),[i,l]=C.useState([]);vd.useEffect(()=>{n&&l(n.map(u=>u.id))},[n]);const o=async u=>{u.preventDefault();try{await a.mutateAsync({user_id:e.id,segment_ids:i,role:e.role}),t()}catch(h){console.error("Error assigning segments:",h),alert("Erreur lors de l'assignation")}},f=u=>{l(h=>h.includes(u)?h.filter(p=>p!==u):[...h,u])};return s.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:s.jsxs("div",{className:"bg-white rounded-lg shadow-xl p-6 w-full max-w-md",children:[s.jsxs("h2",{className:"text-xl font-bold text-gray-900 mb-4",children:["Assigner des segments  ",e.full_name]}),s.jsxs("form",{onSubmit:o,children:[s.jsx("div",{className:"space-y-2 max-h-96 overflow-y-auto mb-4",children:r?.map(u=>s.jsxs("label",{className:"flex items-center p-3 border border-gray-200 rounded-lg hover:bg-gray-50 cursor-pointer",children:[s.jsx("input",{type:"checkbox",checked:i.includes(u.id),onChange:()=>f(u.id),className:"mr-3 h-4 w-4 text-blue-600 focus:ring-blue-500 border-gray-300 rounded"}),s.jsx("div",{className:"flex-1",children:s.jsx("span",{className:"font-medium text-gray-900",children:u.name})}),s.jsx("div",{className:"w-4 h-4 rounded-full ml-2",style:{backgroundColor:u.color}})]},u.id))}),s.jsxs("div",{className:"flex justify-end gap-3",children:[s.jsx(rt,{type:"button",variant:"outline",onClick:t,children:"Annuler"}),s.jsx(rt,{type:"submit",disabled:a.isPending,children:a.isPending?"Assignation...":"Assigner"})]})]})]})})},Cae=({user:e,onClose:t})=>{const{data:r}=_ae(),{data:n}=dL(),{data:a}=Sae(e.id),i=wae(),[l,o]=C.useState([]);vd.useEffect(()=>{a&&o(a.map(p=>p.id))},[a]);const f=async p=>{p.preventDefault();try{await i.mutateAsync({user_id:e.id,city_ids:l,role:e.role}),t()}catch(g){console.error("Error assigning cities:",g),alert("Erreur lors de l'assignation")}},u=p=>{o(g=>g.includes(p)?g.filter(x=>x!==p):[...g,p])},h=p=>n?.find(g=>g.id===p)?.name||"";return s.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:s.jsxs("div",{className:"bg-white rounded-lg shadow-xl p-6 w-full max-w-md",children:[s.jsxs("h2",{className:"text-xl font-bold text-gray-900 mb-4",children:["Assigner des villes  ",e.full_name]}),s.jsxs("form",{onSubmit:f,children:[s.jsx("div",{className:"space-y-2 max-h-96 overflow-y-auto mb-4",children:r?.map(p=>s.jsxs("label",{className:"flex items-center p-3 border border-gray-200 rounded-lg hover:bg-gray-50 cursor-pointer",children:[s.jsx("input",{type:"checkbox",checked:l.includes(p.id),onChange:()=>u(p.id),className:"mr-3 h-4 w-4 text-blue-600 focus:ring-blue-500 border-gray-300 rounded"}),s.jsxs("div",{className:"flex-1",children:[s.jsx("span",{className:"font-medium text-gray-900",children:p.name}),s.jsxs("span",{className:"text-xs text-gray-500 ml-2",children:["(",h(p.segment_id),")"]})]})]},p.id))}),s.jsxs("div",{className:"flex justify-end gap-3",children:[s.jsx(rt,{type:"button",variant:"outline",onClick:t,children:"Annuler"}),s.jsx(rt,{type:"submit",disabled:i.isPending,children:i.isPending?"Assignation...":"Assigner"})]})]})]})})};class Tae{input="";pos=0;currentChar=null;parse(t){try{if(this.input=t.trim(),this.pos=0,this.currentChar=this.input.length>0?this.input[0]:null,!this.currentChar)return{success:!1,error:"Expression vide"};const r=this.parseExpression();return this.skipWhitespace(),this.currentChar!==null?{success:!1,error:`Caractre inattendu: ${this.currentChar}`}:{success:!0,ast:r}}catch(r){return{success:!1,error:r.message||"Erreur de parsing"}}}advance(){this.pos++,this.currentChar=this.pos<this.input.length?this.input[this.pos]:null}peek(t=1){const r=this.pos+t;return r<this.input.length?this.input[r]:null}skipWhitespace(){for(;this.currentChar&&/\s/.test(this.currentChar);)this.advance()}parseExpression(){let t=this.parseTerm();for(this.skipWhitespace();this.currentChar==="+"||this.currentChar==="-";){const r=this.currentChar;this.advance(),this.skipWhitespace();const n=this.parseTerm();this.skipWhitespace(),t={type:"binary",operator:r,left:t,right:n}}return t}parseTerm(){let t=this.parseFactor();for(this.skipWhitespace();this.currentChar==="*"||this.currentChar==="/";){const r=this.currentChar;this.advance(),this.skipWhitespace();const n=this.parseFactor();this.skipWhitespace(),t={type:"binary",operator:r,left:t,right:n}}return t}parsePostfix(){let t=this.parsePrimary();return this.skipWhitespace(),this.currentChar==="%"&&(this.advance(),t={type:"postfix",operator:"%",operand:t}),t}parseFactor(){let t=this.parseUnary();for(this.skipWhitespace();this.currentChar==="^";){this.advance(),this.skipWhitespace();const r=this.parseUnary();this.skipWhitespace(),t={type:"binary",operator:"^",left:t,right:r}}return t}parseUnary(){if(this.currentChar==="-"||this.currentChar==="+"){const t=this.currentChar;this.advance();const r=this.parseUnary();return{type:"unary",operator:t,operand:r}}return this.parsePostfix()}parsePrimary(){if(this.skipWhitespace(),this.currentChar&&/[0-9.]/.test(this.currentChar))return this.parseNumber();if(this.currentChar==='"')return this.parseString();if(this.currentChar&&/[A-Za-z_]/.test(this.currentChar))return this.parseIdentifier();if(this.currentChar==="("){this.advance();const t=this.parseExpression();if(this.skipWhitespace(),this.currentChar!==")")throw new Error("Parenthse fermante manquante");return this.advance(),t}if(this.currentChar===">"||this.currentChar==="<"||this.currentChar==="=")return this.parseComparison();throw new Error(`Caractre inattendu: ${this.currentChar}`)}parseNumber(){let t="",r=!1;for(;this.currentChar&&(/[0-9]/.test(this.currentChar)||this.currentChar===".");){if(this.currentChar==="."){if(r)throw new Error("Nombre invalide: deux points dcimaux");r=!0}t+=this.currentChar,this.advance()}const n=parseFloat(t);if(isNaN(n))throw new Error(`Nombre invalide: ${t}`);return{type:"number",value:n}}parseString(){this.advance();let t="";for(;this.currentChar&&this.currentChar!=='"';)this.currentChar==="\\"&&this.peek()==='"'?(this.advance(),t+='"',this.advance()):(t+=this.currentChar,this.advance());if(this.currentChar!=='"')throw new Error("Guillemet fermant manquant");return this.advance(),{type:"string",value:t}}parseIdentifier(){let t="";for(;this.currentChar&&/[A-Za-z0-9_]/.test(this.currentChar);)t+=this.currentChar,this.advance();return this.skipWhitespace(),t.toUpperCase()==="TRUE"?{type:"boolean",value:!0}:t.toUpperCase()==="FALSE"?{type:"boolean",value:!1}:this.currentChar==="("?this.parseFunction(t):{type:"reference",name:t}}parseFunction(t){this.advance();const r=[];if(this.skipWhitespace(),this.currentChar===")")return this.advance(),{type:"function",name:t.toUpperCase(),args:r};for(;;){if(r.push(this.parseExpression()),this.skipWhitespace(),this.currentChar===")"){this.advance();break}if(this.currentChar===","){this.advance(),this.skipWhitespace();continue}throw new Error("Virgule ou parenthse fermante attendue dans la fonction")}return{type:"function",name:t.toUpperCase(),args:r}}parseComparison(){throw new Error("Comparaisons not yet implemented")}}function hL(e){return new Tae().parse(e)}const c_={SUM:e=>{let t=0;for(const r of e)if(typeof r=="number")t+=r;else if(typeof r=="string"){const n=parseFloat(r);isNaN(n)||(t+=n)}return t},AVG:e=>{if(e.length===0)return"#ERR";const t=c_.SUM(e);return typeof t=="number"?t/e.length:"#ERR"},MIN:e=>{const t=e.filter(r=>typeof r=="number");return t.length>0?Math.min(...t):"#ERR"},MAX:e=>{const t=e.filter(r=>typeof r=="number");return t.length>0?Math.max(...t):"#ERR"},COUNT:e=>e.filter(t=>t!=null).length,IF:e=>{if(e.length<2)return"#ERR";const t=e[0],r=e[1],n=e.length>2?e[2]:null;return t?r:n},ROUND:e=>{if(e.length===0)return"#ERR";const t=typeof e[0]=="number"?e[0]:parseFloat(String(e[0])),r=e.length>1&&typeof e[1]=="number"?e[1]:0;if(isNaN(t))return"#TYPE!";const n=Math.pow(10,r);return Math.round(t*n)/n},FLOOR:e=>{if(e.length===0)return"#ERR";const t=typeof e[0]=="number"?e[0]:parseFloat(String(e[0]));return isNaN(t)?"#TYPE!":Math.floor(t)},CEIL:e=>{if(e.length===0)return"#ERR";const t=typeof e[0]=="number"?e[0]:parseFloat(String(e[0]));return isNaN(t)?"#TYPE!":Math.ceil(t)},ABS:e=>{if(e.length===0)return"#ERR";const t=typeof e[0]=="number"?e[0]:parseFloat(String(e[0]));return isNaN(t)?"#TYPE!":Math.abs(t)},LEN:e=>e.length===0?"#ERR":String(e[0]||"").length,CONCAT:e=>e.map(t=>String(t||"")).join(""),COALESCE:e=>{for(const t of e)if(t!=null&&t!=="")return t;return null},TODAY:()=>new Date().toISOString().split("T")[0],DATE:e=>{if(e.length<3)return"#ERR";const t=Number(e[0]),r=Number(e[1]),n=Number(e[2]);return isNaN(t)||isNaN(r)||isNaN(n)?"#TYPE!":new Date(t,r-1,n).toISOString().split("T")[0]},YEAR:e=>{if(e.length===0)return"#ERR";const t=String(e[0]),r=new Date(t);return isNaN(r.getTime())?"#TYPE!":r.getFullYear()},MONTH:e=>{if(e.length===0)return"#ERR";const t=String(e[0]),r=new Date(t);return isNaN(r.getTime())?"#TYPE!":r.getMonth()+1},DAY:e=>{if(e.length===0)return"#ERR";const t=String(e[0]),r=new Date(t);return isNaN(r.getTime())?"#TYPE!":r.getDate()},NUMBER:e=>{if(e.length===0)return"#ERR";const t=parseFloat(String(e[0]));return isNaN(t)?"#TYPE!":t}};class Oae{context;constructor(t={}){this.context=t}setContext(t){this.context=t}evaluate(t){try{const r=this.evaluateNode(t),n=typeof r=="string"&&r.startsWith("#");return{value:r,isError:n}}catch{return{value:"#ERR",isError:!0}}}evaluateNode(t){switch(t.type){case"number":return t.value;case"string":return t.value;case"boolean":return t.value;case"reference":return this.evaluateReference(t.name);case"binary":return this.evaluateBinary(t.operator,t.left,t.right);case"unary":return this.evaluateUnary(t.operator,t.operand);case"postfix":return this.evaluatePostfix(t.operator,t.operand);case"function":return this.evaluateFunction(t.name,t.args);case"error":return t.error;default:return"#ERR"}}evaluateReference(t){return t in this.context?this.context[t]:"#REF!"}evaluateBinary(t,r,n){const a=this.evaluateNode(r),i=this.evaluateNode(n);if(typeof a=="string"&&a.startsWith("#"))return a;if(typeof i=="string"&&i.startsWith("#"))return i;const l=typeof a=="number"?a:parseFloat(String(a)),o=typeof i=="number"?i:parseFloat(String(i));if(isNaN(l)||isNaN(o))return"#TYPE!";switch(t){case"+":return l+o;case"-":return l-o;case"*":return l*o;case"/":return o===0?"#DIV/0!":l/o;case"^":return Math.pow(l,o);case">":return l>o;case"<":return l<o;case">=":return l>=o;case"<=":return l<=o;case"=":case"==":return l===o;case"!=":case"<>":return l!==o;default:return"#ERR"}}evaluateUnary(t,r){const n=this.evaluateNode(r);if(typeof n=="string"&&n.startsWith("#"))return n;const a=typeof n=="number"?n:parseFloat(String(n));if(isNaN(a))return"#TYPE!";switch(t){case"-":return-a;case"+":return a;default:return"#ERR"}}evaluatePostfix(t,r){const n=this.evaluateNode(r);if(typeof n=="string"&&n.startsWith("#"))return n;const a=typeof n=="number"?n:parseFloat(String(n));if(isNaN(a))return"#TYPE!";switch(t){case"%":return a/100;default:return"#ERR"}}evaluateFunction(t,r){const n=t.toUpperCase();if(!(n in c_))return"#ERR";const a=[];for(const i of r){const l=this.evaluateNode(i);if(typeof l=="string"&&l.startsWith("#")&&!["SUM","COUNT","COALESCE"].includes(n))return l;a.push(l)}return c_[n](a)}}function Dae(e,t={}){return new Oae(t).evaluate(e)}class Pae{graph={nodes:new Set,edges:new Map,reversEdges:new Map};buildGraph(t){this.graph={nodes:new Set,edges:new Map,reversEdges:new Map};for(const r of t)r.ref&&(this.graph.nodes.add(r.ref),this.graph.edges.set(r.ref,new Set),this.graph.reversEdges.set(r.ref,new Set));for(const r of t)if(r.type==="formula"&&r.ref&&r.props.expression){const n=this.extractDependencies(r.props.expression);this.graph.edges.set(r.ref,new Set(n));for(const a of n)this.graph.reversEdges.has(a)||this.graph.reversEdges.set(a,new Set),this.graph.reversEdges.get(a).add(r.ref)}}extractDependencies(t){const r=[],n=hL(t);return n.success&&n.ast&&this.extractReferencesFromAST(n.ast,r),[...new Set(r)]}extractReferencesFromAST(t,r){if(t){if(t.type==="reference")r.push(t.name);else if(t.type==="binary")this.extractReferencesFromAST(t.left,r),this.extractReferencesFromAST(t.right,r);else if(t.type==="unary")this.extractReferencesFromAST(t.operand,r);else if(t.type==="postfix")this.extractReferencesFromAST(t.operand,r);else if(t.type==="function")for(const n of t.args)this.extractReferencesFromAST(n,r)}}detectCycle(){const t=new Set,r=new Set,n=[];for(const a of this.graph.nodes)if(!t.has(a)&&this.detectCycleDFS(a,t,r,n))return n;return null}detectCycleDFS(t,r,n,a){r.add(t),n.add(t),a.push(t);const i=this.graph.edges.get(t)||new Set;for(const l of i)if(r.has(l)){if(n.has(l))return a.push(l),!0}else if(this.detectCycleDFS(l,r,n,a))return!0;return n.delete(t),a.pop(),!1}getEvaluationOrder(){if(this.detectCycle())return null;const r=new Set,n=[];for(const a of this.graph.nodes)r.has(a)||this.topologicalSortDFS(a,r,n);return n.reverse()}topologicalSortDFS(t,r,n){r.add(t);const a=this.graph.reversEdges.get(t)||new Set;for(const i of a)r.has(i)||this.topologicalSortDFS(i,r,n);n.push(t)}getDependents(t){const r=new Set,n=[t];for(;n.length>0;){const a=n.shift(),i=this.graph.reversEdges.get(a)||new Set;for(const l of i)r.has(l)||(r.add(l),n.push(l))}return r}}function C3(e,t={}){const r=new Pae;r.buildGraph(e);const n=r.detectCycle();if(n){const l={...t};for(const o of n)l[o]="#CYCLE!";return l}const a=r.getEvaluationOrder();if(!a)return t;const i={...t};for(const l of a){const o=e.find(f=>f.ref===l);if(o)if(o.type==="formula"&&o.props.expression){const f=hL(o.props.expression);if(!f.success||!f.ast){i[l]="#ERR";continue}const u=Dae(f.ast,i);i[l]=u.value}else o.type==="number"&&i[l]===void 0?i[l]=o.props.default!==void 0?o.props.default:0:o.type==="text"&&i[l]===void 0&&(i[l]=o.props.default!==void 0?o.props.default:"")}return i}const Ac={async getAll(){return st.get("/calculation-sheets")},async getById(e){try{return await st.get(`/calculation-sheets/${e}`)}catch(t){if(t instanceof Error&&"status"in t&&t.status===404)return null;throw t}},async create(e){return st.post("/calculation-sheets",e)},async update(e){const{id:t,...r}=e;return st.put(`/calculation-sheets/${t}`,r)},async delete(e){return st.delete(`/calculation-sheets/${e}`)}},Fae=()=>hr({queryKey:["calculation-sheets"],queryFn:()=>Ac.getAll()}),mL=e=>hr({queryKey:["calculation-sheet",e],queryFn:()=>Ac.getById(e),enabled:!!e}),Lae=()=>{const e=Ut();return Ht({mutationFn:async t=>{const r=Bd(),n=new Date().toISOString();return Ac.create({id:r,title:t.title,template_data:t.template_data||"{}",status:t.status||"draft",sheet_date:t.sheet_date||n,segment_ids:t.segment_ids,city_ids:t.city_ids})},onSuccess:()=>{e.invalidateQueries({queryKey:["calculation-sheets"]})}})},pL=()=>{const e=Ut();return Ht({mutationFn:t=>Ac.update(t),onSuccess:()=>{e.invalidateQueries({queryKey:["calculation-sheets"]}),e.invalidateQueries({queryKey:["calculation-sheet"]})}})},Mae=()=>{const e=Ut();return Ht({mutationFn:t=>Ac.delete(t),onSuccess:()=>{e.invalidateQueries({queryKey:["calculation-sheets"]})}})},Rae=()=>{const e=Ut();return Ht({mutationFn:async t=>{const r=await Ac.getById(t);if(!r)throw new Error("Fiche non trouve");const n=r.status==="published"?"draft":"published";return Ac.update({id:t,title:r.title,template_data:r.template_data,status:n,sheet_date:r.sheet_date,segment_ids:r.segment_ids,city_ids:r.city_ids})},onSuccess:()=>{e.invalidateQueries({queryKey:["calculation-sheets"]}),e.invalidateQueries({queryKey:["calculation-sheet"]})}})},Iae=Rae,Bae=()=>{const e=Ut();return Ht({mutationFn:async t=>{const r=await Ac.getById(t);if(!r)throw new Error("Fiche non trouve");const n=Bd();return Ac.create({id:n,title:`${r.title} (copie)`,template_data:r.template_data,status:"draft",sheet_date:new Date().toISOString(),segment_ids:r.segment_ids,city_ids:r.city_ids})},onSuccess:()=>{e.invalidateQueries({queryKey:["calculation-sheets"]})}})};function Uae(){const{id:e}=Ho(),[t,r]=B$(),n=t.get("mode")||"user",{data:a,isLoading:i}=mL(e||""),[l,o]=C.useState([]),[f,u]=C.useState("Fiche de Calcul"),[h,p]=C.useState({}),[g,x]=C.useState({}),[b,y]=C.useState(null),[w,_]=C.useState({}),[E]=C.useState({width:1200,height:800});C.useEffect(()=>{if(a&&(u(a.title),a.template_data))try{const P=JSON.parse(a.template_data);P.fields&&P.fields.length>0&&o(P.fields)}catch(P){console.error("Erreur lors du chargement du template:",P)}},[a]),C.useEffect(()=>{const P=C3(l,h);x(P)},[h,l]);const A=(P,T)=>{const B=l.find(I=>I.ref===P);if(!B)return;let G=T;B.type==="number"&&(G=T===""?0:parseFloat(T)||0),p(I=>({...I,[P]:G}))},O=(P,T)=>{_(B=>({...B,[P]:T}))},D=()=>{const P={values:h,calculatedValues:g,timestamp:new Date().toISOString()};localStorage.setItem("calculation_sheet_data",JSON.stringify(P)),y("Donnes sauvegardes avec succs!"),setTimeout(()=>y(null),3e3)};C.useEffect(()=>{const P=localStorage.getItem("calculation_sheet_data");if(P)try{const T=JSON.parse(P);p(T.values||{})}catch(T){console.error("Erreur lors du chargement des donnes:",T)}},[]);const R=P=>{const T=P.layout||{x:0,y:0,w:200,h:40};if(n==="user"&&P.visibility?.hidden)return null;const B=P.visibility?.hidden;if(P.type==="label")return s.jsxs("div",{className:`absolute bg-gray-100 border-2 border-gray-300 rounded px-3 py-2 flex items-center font-semibold text-gray-700 ${B?"opacity-60 ring-2 ring-red-400":""}`,style:{left:`${T.x}px`,top:`${T.y}px`,width:`${T.w}px`,height:`${T.h}px`},children:[B&&n==="admin"&&s.jsx(Vs,{className:"w-4 h-4 mr-2 text-red-500"}),P.props.label]},P.id);if(P.type==="text"){const G=h[P.ref],I=typeof G=="string"||typeof G=="number"?String(G):"";return s.jsx("div",{className:`absolute ${B?"ring-2 ring-red-400 opacity-60":""}`,style:{left:`${T.x}px`,top:`${T.y}px`,width:`${T.w}px`,height:`${T.h}px`},children:s.jsx("input",{type:"text",value:I,onChange:z=>A(P.ref,z.target.value),className:"w-full h-full px-3 py-2 border border-blue-300 rounded focus:ring-2 focus:ring-blue-500 focus:border-transparent"})},P.id)}if(P.type==="textarea"){const G=h[P.ref],I=typeof G=="string"||typeof G=="number"?String(G):"";return s.jsx("div",{className:`absolute ${B?"ring-2 ring-red-400 opacity-60":""}`,style:{left:`${T.x}px`,top:`${T.y}px`,width:`${T.w}px`,height:`${T.h}px`},children:s.jsxs("div",{className:"relative w-full h-full",children:[B&&n==="admin"&&s.jsx("div",{className:"absolute top-2 right-2 z-10",children:s.jsx(Vs,{className:"w-4 h-4 text-red-500"})}),s.jsx("textarea",{value:I,onChange:z=>A(P.ref,z.target.value),placeholder:P.props.label||"crivez vos commentaires ici...",className:"w-full h-full px-3 py-2 border-2 border-indigo-300 rounded focus:ring-2 focus:ring-indigo-500 focus:border-transparent resize-none"})]})},P.id)}if(P.type==="number"){const G=h[P.ref]!==void 0?h[P.ref]:P.props.default||0,I=typeof G=="number"||typeof G=="string"?G:"";return s.jsx("div",{className:`absolute ${B?"ring-2 ring-red-400 opacity-60":""}`,style:{left:`${T.x}px`,top:`${T.y}px`,width:`${T.w}px`,height:`${T.h}px`},children:s.jsxs("div",{className:"relative w-full h-full",children:[B&&n==="admin"&&s.jsx("div",{className:"absolute top-1/2 -translate-y-1/2 right-2 z-10",children:s.jsx(Vs,{className:"w-4 h-4 text-red-500"})}),s.jsx("input",{type:"number",step:"0.01",value:I,onChange:z=>A(P.ref,z.target.value),className:"w-full h-full px-3 py-2 border border-green-300 rounded focus:ring-2 focus:ring-green-500 focus:border-transparent"})]})},P.id)}if(P.type==="formula"){const G=g[P.ref],I=typeof G=="string"&&G.startsWith("#");return s.jsx("div",{className:`absolute flex items-center ${B?"ring-2 ring-red-400 opacity-60":""}`,style:{left:`${T.x}px`,top:`${T.y}px`,width:`${T.w}px`,height:`${T.h}px`},children:s.jsxs("div",{className:`relative w-full h-full px-3 py-2 border-2 rounded font-semibold flex items-center ${I?"bg-red-50 border-red-400 text-red-700":"bg-purple-50 border-purple-400 text-purple-900"}`,children:[B&&n==="admin"&&s.jsx(Vs,{className:"w-4 h-4 text-red-500 mr-2 flex-shrink-0"}),typeof G=="number"?G.toFixed(P.props.decimals||2):String(G||"0")]})},P.id)}if(P.type==="frame")return s.jsx("div",{className:`absolute border-2 border-orange-400 rounded-lg bg-orange-50/30 ${B?"ring-2 ring-red-400 opacity-60":""}`,style:{left:`${T.x}px`,top:`${T.y}px`,width:`${T.w}px`,height:`${T.h}px`},children:s.jsxs("div",{className:"bg-orange-500 text-white px-3 py-1 rounded-t font-semibold text-sm flex items-center",children:[B&&n==="admin"&&s.jsx(Vs,{className:"w-3 h-3 mr-2"}),P.props.label||"Cadre"]})},P.id);if(P.type==="file"){const G=w[P.ref];return s.jsx("div",{className:`absolute ${B?"ring-2 ring-red-400 opacity-60":""}`,style:{left:`${T.x}px`,top:`${T.y}px`,width:`${T.w}px`,height:`${T.h}px`},children:G?s.jsxs("div",{className:"w-full h-full border-2 border-teal-400 bg-teal-50 rounded px-3 py-2 flex items-center justify-between gap-2",children:[B&&n==="admin"&&s.jsx("div",{className:"flex-shrink-0",children:s.jsx(Vs,{className:"w-4 h-4 text-red-500"})}),s.jsxs("div",{className:"flex items-center gap-2 flex-1 min-w-0",children:[s.jsx(Zs,{className:"w-5 h-5 text-teal-600 flex-shrink-0"}),s.jsxs("div",{className:"flex-1 min-w-0",children:[s.jsx("div",{className:"text-sm font-medium text-teal-900 truncate",children:G.name}),s.jsxs("div",{className:"text-xs text-teal-600",children:[(G.size/1024/1024).toFixed(2)," MB"]})]})]}),s.jsxs("div",{className:"flex gap-1 flex-shrink-0",children:[s.jsx("button",{onClick:()=>{const I=URL.createObjectURL(G);window.open(I,"_blank")},className:"p-1.5 hover:bg-teal-200 rounded transition-colors",title:"Prvisualiser",children:s.jsx(Es,{className:"w-4 h-4 text-teal-700"})}),s.jsx("button",{onClick:()=>{const I=URL.createObjectURL(G),z=document.createElement("a");z.href=I,z.download=G.name,z.click(),URL.revokeObjectURL(I)},className:"p-1.5 hover:bg-teal-200 rounded transition-colors",title:"Tlcharger",children:s.jsx(Ss,{className:"w-4 h-4 text-teal-700"})}),s.jsx("button",{onClick:()=>O(P.ref,null),className:"p-1.5 hover:bg-red-200 rounded transition-colors",title:"Supprimer",children:s.jsx(rl,{className:"w-4 h-4 text-red-600"})})]})]}):s.jsxs("label",{className:"w-full h-full border-2 border-dashed border-teal-300 bg-teal-50/50 rounded px-3 py-2 flex flex-col items-center justify-center cursor-pointer hover:bg-teal-100/50 transition-colors relative",children:[B&&n==="admin"&&s.jsx("div",{className:"absolute top-2 right-2",children:s.jsx(Vs,{className:"w-4 h-4 text-red-500"})}),s.jsx(vg,{className:"w-6 h-6 text-teal-600 mb-1"}),s.jsx("span",{className:"text-sm font-medium text-teal-700",children:P.props.label||"Tlcharger un fichier"}),s.jsxs("span",{className:"text-xs text-teal-600 mt-1",children:[P.props.accept||"Tous les fichiers"," (max ",P.props.maxSize||5," MB)"]}),s.jsx("input",{type:"file",accept:P.props.accept,onChange:I=>{const z=I.target.files?.[0];if(z){const K=(P.props.maxSize||5)*1024*1024;if(z.size>K){alert(`Le fichier est trop volumineux. Taille maximum: ${P.props.maxSize||5} MB`);return}O(P.ref,z)}},className:"hidden"})]})},P.id)}return null};return i?s.jsx("div",{className:"min-h-screen flex items-center justify-center",children:s.jsxs("div",{className:"text-center",children:[s.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-600 mx-auto mb-4"}),s.jsx("p",{className:"text-gray-600",children:"Chargement de la fiche..."})]})}):!a||l.length===0?s.jsx("div",{className:"min-h-screen flex items-center justify-center",children:s.jsxs("div",{className:"text-center",children:[s.jsx(cu,{className:"w-16 h-16 text-gray-400 mx-auto mb-4"}),s.jsx("h2",{className:"text-xl font-semibold text-gray-700 mb-2",children:"Aucune fiche trouve"}),s.jsx("p",{className:"text-gray-500 mb-4",children:"Cette fiche n'existe pas ou n'a pas encore de champs."}),s.jsxs(Ma,{to:"/admin/calculation-sheets",className:"inline-flex items-center gap-2 px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700",children:[s.jsx(ea,{className:"w-4 h-4"}),"Retour  la liste"]})]})}):s.jsxs("div",{className:"min-h-screen bg-gray-50",children:[s.jsx("div",{className:"bg-white border-b border-gray-200 px-4 sm:px-6 py-3 sm:py-4",children:s.jsxs("div",{className:"flex flex-col lg:flex-row items-start lg:items-center justify-between gap-4",children:[s.jsxs("div",{className:"flex items-start sm:items-center gap-3 sm:gap-4 w-full lg:w-auto",children:[s.jsx(Ma,{to:"/admin/calculation-sheets",className:"p-2 hover:bg-gray-100 rounded-lg transition-colors flex-shrink-0",title:"Retour  la liste",children:s.jsx(ea,{className:"w-5 h-5 sm:w-6 sm:h-6 text-gray-600"})}),s.jsxs("div",{className:"min-w-0 flex-1",children:[s.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center gap-2 sm:gap-3",children:[s.jsx("h1",{className:"text-lg sm:text-xl md:text-2xl font-bold text-gray-900 truncate",children:f}),s.jsx("span",{className:`px-2.5 sm:px-3 py-1 rounded-full text-xs font-medium flex items-center gap-1 w-fit ${n==="admin"?"bg-purple-100 text-purple-800":"bg-blue-100 text-blue-800"}`,children:n==="admin"?s.jsxs(s.Fragment,{children:[s.jsx(K4,{className:"w-3 h-3"}),"Mode Admin"]}):s.jsxs(s.Fragment,{children:[s.jsx(Mx,{className:"w-3 h-3"}),"Mode Utilisateur"]})})]}),s.jsx("p",{className:"text-xs sm:text-sm text-gray-500 mt-1 hidden sm:block",children:n==="admin"?"Tous les champs visibles - Simulation complte":"Mode Test - Vrifiez vos calculs"})]})]}),s.jsxs("div",{className:"flex flex-col sm:flex-row items-stretch sm:items-center gap-2 sm:gap-3 w-full lg:w-auto",children:[s.jsxs("div",{className:"flex gap-2",children:[s.jsxs("button",{onClick:()=>r({mode:"admin"}),className:`flex-1 sm:flex-none px-3 py-2 rounded-lg transition-colors flex items-center justify-center gap-2 text-sm ${n==="admin"?"bg-purple-600 text-white":"bg-gray-100 text-gray-700 hover:bg-gray-200"}`,children:[s.jsx(K4,{className:"w-4 h-4"}),s.jsx("span",{className:"hidden sm:inline",children:"Admin"})]}),s.jsxs("button",{onClick:()=>r({mode:"user"}),className:`flex-1 sm:flex-none px-3 py-2 rounded-lg transition-colors flex items-center justify-center gap-2 text-sm ${n==="user"?"bg-blue-600 text-white":"bg-gray-100 text-gray-700 hover:bg-gray-200"}`,children:[s.jsx(Mx,{className:"w-4 h-4"}),s.jsx("span",{className:"hidden sm:inline",children:"Utilisateur"})]})]}),b&&s.jsxs("div",{className:"flex items-center gap-2 bg-green-100 text-green-800 px-3 sm:px-4 py-2 rounded-lg",children:[s.jsx(XD,{className:"w-4 h-4 sm:w-5 sm:h-5 flex-shrink-0"}),s.jsx("span",{className:"text-xs sm:text-sm font-medium",children:b})]}),s.jsxs("button",{onClick:D,className:"w-full sm:w-auto px-3 sm:px-4 py-2 bg-green-600 hover:bg-green-700 text-white rounded-lg transition-colors flex items-center justify-center gap-2 text-sm sm:text-base",children:[s.jsx(Jm,{className:"w-4 h-4 sm:w-5 sm:h-5"}),s.jsx("span",{children:"Sauvegarder Test"})]}),s.jsxs(Ma,{to:`/admin/calculation-sheets/${e}/editor`,className:"w-full sm:w-auto px-3 sm:px-4 py-2 bg-purple-600 hover:bg-purple-700 text-white rounded-lg transition-colors flex items-center justify-center gap-2 text-sm sm:text-base",children:[s.jsx(Zm,{className:"w-4 h-4 sm:w-5 sm:h-5"}),s.jsx("span",{children:"Modifier"})]})]})]})}),s.jsxs("div",{className:"p-4",children:[s.jsx("div",{className:"bg-white rounded-lg shadow-sm overflow-auto",children:s.jsx("div",{className:"relative bg-white",style:{width:`${E.width}px`,minHeight:`${E.height}px`},children:l.map(P=>R(P))})}),s.jsxs("div",{className:"mt-6 bg-blue-50 border border-blue-200 rounded-lg p-4",children:[s.jsxs("h3",{className:"font-semibold text-blue-900 mb-2 flex items-center gap-2",children:[s.jsx(cu,{className:"w-5 h-5"}),"Mode Test - Comment utiliser"]}),s.jsxs("div",{className:"text-sm text-blue-800 space-y-1",children:[s.jsxs("p",{children:[" Saisissez des valeurs dans les champs ",s.jsx("strong",{children:"Nombre"})," et ",s.jsx("strong",{children:"Texte"})]}),s.jsx("p",{children:" Les formules se calculent automatiquement en temps rel"}),s.jsx("p",{children:" Vrifiez que les calculs sont corrects avant d'utiliser en production"}),s.jsx("p",{children:` Cliquez sur "Modifier" pour retourner  l'diteur et ajuster les champs`}),s.jsx("p",{children:" Les donnes de test sont sauvegardes temporairement"})]})]})]})]})}function zae(){const e=Pn(),[t,r]=C.useState(!1),[n,a]=C.useState(null),{data:i=[],isLoading:l}=Fae(),{data:o=[]}=zd(),{data:f=[]}=ip(),u=Mae(),h=Iae(),p=Bae(),g=i.map(_=>({..._,segments:o.filter(E=>_.segment_ids?.includes(E.id)),cities:f.filter(E=>_.city_ids?.includes(E.id))})),x=async(_,E)=>{if(window.confirm(`tes-vous sr de vouloir supprimer "${E}" ?`))try{await u.mutateAsync(_)}catch(A){console.error("Erreur lors de la suppression:",A),alert("Erreur lors de la suppression de la fiche")}},b=async(_,E,A)=>{const O=E==="published"?"dpublier":"publier",D=E==="published"?`tes-vous sr de vouloir dpublier "${A}" ?

Les professeurs ne pourront plus l'utiliser.`:`tes-vous sr de vouloir publier "${A}" ?

Les professeurs pourront utiliser cette fiche.`;if(window.confirm(D))try{await h.mutateAsync(_)}catch(R){console.error(`Erreur lors de la ${O}ication:`,R),alert(`Erreur lors de la ${O}ication de la fiche`)}},y=async(_,E)=>{if(window.confirm(`Voulez-vous dupliquer "${E}" ?

Une copie en brouillon sera cre.`))try{await p.mutateAsync(_)}catch(A){console.error("Erreur lors de la duplication:",A),alert("Erreur lors de la duplication de la fiche")}},w=_=>{try{const E=JSON.parse(_.template_data),A={name:_.title,fields:E.fields||[],version:E.version||"1.0.0"},O=JSON.stringify(A,null,2),D=new Blob([O],{type:"application/json"}),R=URL.createObjectURL(D),P=document.createElement("a");P.href=R,P.download=`${_.title.replace(/\s+/g,"-").toLowerCase()}.json`,document.body.appendChild(P),P.click(),document.body.removeChild(P),URL.revokeObjectURL(R)}catch(E){console.error("Erreur lors de l'export:",E),alert("Erreur lors de l'export de la fiche")}};return s.jsxs("div",{className:"p-6",children:[s.jsxs("div",{className:"mb-6",children:[s.jsxs("div",{className:"flex items-center justify-between mb-2",children:[s.jsxs("div",{className:"flex items-center gap-4",children:[s.jsx("button",{onClick:()=>e("/dashboard"),className:"p-2 hover:bg-gray-100 rounded-lg transition-colors",title:"Retour au tableau de bord",children:s.jsx(ea,{className:"w-6 h-6 text-gray-600"})}),s.jsxs("h1",{className:"text-3xl font-bold text-gray-900 flex items-center gap-2",children:[s.jsx(q0,{className:"w-8 h-8 text-blue-600"}),"Gestion des Fiches de Calcul"]})]}),s.jsxs("button",{onClick:()=>r(!0),className:"px-6 py-2 bg-green-600 hover:bg-green-700 text-white rounded-lg transition-colors flex items-center gap-2",children:[s.jsx(ca,{className:"w-5 h-5"}),"Nouvelle Fiche"]})]}),s.jsx("p",{className:"text-gray-600 ml-14",children:"Crer et grer les templates de fiches de calcul pour les sessions"})]}),l?s.jsxs("div",{className:"bg-white rounded-lg shadow-sm p-12 text-center",children:[s.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-600 mx-auto mb-4"}),s.jsx("p",{className:"text-gray-600",children:"Chargement des fiches..."})]}):g.length===0?s.jsxs("div",{className:"bg-white rounded-lg shadow-sm p-12 text-center",children:[s.jsx(q0,{className:"w-16 h-16 text-gray-300 mx-auto mb-4"}),s.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"Aucune fiche cre"}),s.jsx("p",{className:"text-gray-500 mb-6",children:"Commencez par crer votre premire fiche de calcul"}),s.jsxs("button",{onClick:()=>r(!0),className:"px-6 py-2 bg-green-600 hover:bg-green-700 text-white rounded-lg transition-colors inline-flex items-center gap-2",children:[s.jsx(ca,{className:"w-5 h-5"}),"Crer ma premire fiche"]})]}):s.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:g.map(_=>s.jsx("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 hover:shadow-md transition-shadow",children:s.jsxs("div",{className:"p-6",children:[s.jsxs("div",{className:"flex items-start justify-between mb-4",children:[s.jsxs("div",{className:"flex-1",children:[s.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-1",children:_.title}),s.jsx("span",{className:`inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium ${_.status==="published"?"bg-green-100 text-green-800":"bg-yellow-100 text-yellow-800"}`,children:_.status==="published"?"Publie":"Brouillon"})]}),s.jsx(cu,{className:"w-8 h-8 text-blue-500"})]}),s.jsxs("div",{className:"mb-3",children:[s.jsxs("div",{className:"flex items-center gap-1 text-sm text-gray-600 mb-2",children:[s.jsx(BN,{className:"w-4 h-4"}),s.jsxs("span",{className:"font-medium",children:["Segments (",_.segments.length,")"]})]}),s.jsx("div",{className:"flex flex-wrap gap-2",children:_.segments.map(E=>s.jsxs("span",{className:"inline-flex items-center gap-1 px-2 py-1 bg-gray-100 text-gray-700 rounded text-xs",children:[s.jsx("span",{className:"w-2 h-2 rounded-full",style:{backgroundColor:E.color}}),E.name]},E.id))})]}),s.jsxs("div",{className:"mb-4",children:[s.jsxs("div",{className:"flex items-center gap-1 text-sm text-gray-600 mb-2",children:[s.jsx(Js,{className:"w-4 h-4"}),s.jsxs("span",{className:"font-medium",children:["Villes (",_.cities.length,")"]})]}),s.jsxs("div",{className:"flex flex-wrap gap-2",children:[_.cities.slice(0,3).map(E=>s.jsx("span",{className:"inline-flex items-center px-2 py-1 bg-blue-50 text-blue-700 rounded text-xs",children:E.name},E.id)),_.cities.length>3&&s.jsxs("span",{className:"inline-flex items-center px-2 py-1 bg-gray-100 text-gray-600 rounded text-xs",children:["+",_.cities.length-3," autres"]})]})]}),s.jsxs("div",{className:"text-xs text-gray-500 mb-4",children:["Modifi le ",new Date(_.updated_at).toLocaleDateString("fr-FR")]}),s.jsxs("div",{className:"space-y-2 pt-4 border-t border-gray-200",children:[s.jsx("button",{onClick:()=>b(_.id,_.status,_.title),disabled:h.isPending,className:`w-full px-3 py-2 rounded-lg text-sm font-medium flex items-center justify-center gap-2 transition-colors ${_.status==="published"?"bg-orange-50 hover:bg-orange-100 text-orange-700 border border-orange-200":"bg-green-50 hover:bg-green-100 text-green-700 border border-green-200"}`,children:_.status==="published"?s.jsxs(s.Fragment,{children:[s.jsx(Sd,{className:"w-4 h-4"}),"Dpublier"]}):s.jsxs(s.Fragment,{children:[s.jsx(vg,{className:"w-4 h-4"}),"Publier"]})}),s.jsxs("div",{className:"flex gap-2",children:[s.jsxs(Ma,{to:`/admin/calculation-sheets/${_.id}`,className:"flex-1 px-3 py-2 bg-blue-600 hover:bg-blue-700 text-white rounded-lg text-sm font-medium flex items-center justify-center gap-1 transition-colors",children:[s.jsx(Es,{className:"w-4 h-4"}),"Voir"]}),s.jsx("button",{onClick:()=>a(_),className:"px-3 py-2 bg-purple-50 hover:bg-purple-100 text-purple-600 rounded-lg text-sm transition-colors",title:"Modifier les informations",children:s.jsx(Gv,{className:"w-4 h-4"})}),s.jsxs(Ma,{to:`/admin/calculation-sheets/${_.id}/editor`,className:"flex-1 px-3 py-2 bg-gray-100 hover:bg-gray-200 text-gray-700 rounded-lg text-sm font-medium flex items-center justify-center gap-1 transition-colors",children:[s.jsx(Zm,{className:"w-4 h-4"}),"Modifier"]})]}),s.jsxs("div",{className:"flex gap-2 mt-2",children:[s.jsxs("button",{onClick:()=>w(_),className:"flex-1 px-3 py-2 bg-indigo-50 hover:bg-indigo-100 text-indigo-700 rounded-lg text-sm font-medium flex items-center justify-center gap-1 transition-colors",title:"Exporter en JSON",children:[s.jsx(Ss,{className:"w-4 h-4"}),"Exporter"]}),s.jsx("button",{onClick:()=>y(_.id,_.title),className:"px-3 py-2 bg-cyan-50 hover:bg-cyan-100 text-cyan-700 rounded-lg text-sm transition-colors",title:"Dupliquer",children:s.jsx(Sm,{className:"w-4 h-4"})}),s.jsx("button",{onClick:()=>x(_.id,_.title),className:"px-3 py-2 bg-red-50 hover:bg-red-100 text-red-600 rounded-lg text-sm transition-colors",title:"Supprimer",children:s.jsx(da,{className:"w-4 h-4"})})]})]})]})},_.id))}),t&&s.jsx(qae,{onClose:()=>r(!1)}),n&&s.jsx($ae,{sheet:n,onClose:()=>a(null)})]})}function qae({onClose:e}){const[t,r]=C.useState(1),[n,a]=C.useState(""),[i,l]=C.useState([]),[o,f]=C.useState([]),u=Pn(),h=Lae(),{data:p=[]}=zd(),{data:g=[]}=ip(),x=g.filter(y=>i.includes(y.segment_id)),b=async()=>{try{const y=await h.mutateAsync({title:n,segment_ids:i,city_ids:o});e(),u(`/admin/calculation-sheets/${y.id}/editor`)}catch(y){console.error("Erreur lors de la cration:",y),alert("Erreur lors de la cration de la fiche")}};return s.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:s.jsxs("div",{className:"bg-white rounded-lg shadow-xl max-w-2xl w-full max-h-[90vh] overflow-hidden",children:[s.jsxs("div",{className:"bg-gradient-to-r from-green-600 to-green-700 px-6 py-4 flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx("h2",{className:"text-xl font-bold text-white",children:"Crer une Fiche de Calcul"}),s.jsxs("p",{className:"text-green-100 text-sm",children:["tape ",t," sur 3"]})]}),s.jsx("button",{onClick:e,className:"text-white hover:bg-white/10 p-2 rounded-lg",children:s.jsx("svg",{className:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})})]}),s.jsxs("div",{className:"p-6 overflow-y-auto max-h-[calc(90vh-180px)]",children:[t===1&&s.jsxs("div",{children:[s.jsx("h3",{className:"font-semibold text-gray-900 mb-4",children:"Informations gnrales"}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Titre de la fiche"}),s.jsx("input",{type:"text",value:n,onChange:y=>a(y.target.value),placeholder:"Ex: Fiche Formation Professionnelle",className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-green-500 focus:border-transparent",autoFocus:!0})]})]}),t===2&&s.jsxs("div",{children:[s.jsxs("h3",{className:"font-semibold text-gray-900 mb-4",children:["Slectionner les segments (",i.length," slectionn",i.length>1?"s":"",")"]}),s.jsx("div",{className:"space-y-2",children:p.map(y=>s.jsxs("label",{className:"flex items-center gap-3 p-4 border border-gray-200 rounded-lg hover:bg-gray-50 cursor-pointer",children:[s.jsx("input",{type:"checkbox",checked:i.includes(y.id),onChange:w=>{if(w.target.checked)l([...i,y.id]);else{l(i.filter(E=>E!==y.id));const _=g.filter(E=>E.segment_id===y.id).map(E=>E.id);f(o.filter(E=>!_.includes(E)))}},className:"w-5 h-5 text-green-600 border-gray-300 rounded focus:ring-green-500"}),s.jsx("div",{className:"w-4 h-4 rounded-full",style:{backgroundColor:y.color}}),s.jsx("span",{className:"flex-1 font-medium text-gray-900",children:y.name})]},y.id))})]}),t===3&&s.jsxs("div",{children:[s.jsxs("h3",{className:"font-semibold text-gray-900 mb-4",children:["Slectionner les villes (",o.length," slectionne",o.length>1?"s":"",")"]}),i.length===0?s.jsx("div",{className:"text-center py-8 text-gray-500",children:"Vous devez d'abord slectionner au moins un segment"}):x.length===0?s.jsx("div",{className:"text-center py-8 text-gray-500",children:"Aucune ville disponible pour les segments slectionns"}):s.jsx("div",{className:"space-y-2",children:x.map(y=>s.jsxs("label",{className:"flex items-center gap-3 p-4 border border-gray-200 rounded-lg hover:bg-gray-50 cursor-pointer",children:[s.jsx("input",{type:"checkbox",checked:o.includes(y.id),onChange:w=>{w.target.checked?f([...o,y.id]):f(o.filter(_=>_!==y.id))},className:"w-5 h-5 text-green-600 border-gray-300 rounded focus:ring-green-500"}),s.jsx(Js,{className:"w-4 h-4 text-green-600"}),s.jsx("span",{className:"flex-1 font-medium text-gray-900",children:y.name}),s.jsx("span",{className:"text-sm text-gray-500",children:p.find(w=>w.id===y.segment_id)?.name})]},y.id))})]})]}),s.jsxs("div",{className:"bg-gray-50 px-6 py-4 border-t border-gray-200 flex justify-between",children:[s.jsx("button",{onClick:()=>t>1?r(t-1):e(),className:"px-6 py-2 bg-gray-200 hover:bg-gray-300 text-gray-700 rounded-lg transition-colors",children:t===1?"Annuler":"Prcdent"}),s.jsx("button",{onClick:()=>{t<3?r(t+1):b()},disabled:t===1&&!n,className:"px-6 py-2 bg-green-600 hover:bg-green-700 text-white rounded-lg transition-colors disabled:opacity-50 disabled:cursor-not-allowed",children:t===3?"Crer la fiche":"Suivant"})]})]})})}function $ae({sheet:e,onClose:t}){const[r,n]=C.useState(1),[a,i]=C.useState(e.title),[l,o]=C.useState(e.segment_ids||[]),[f,u]=C.useState(e.city_ids||[]),h=pL(),{data:p=[]}=zd(),{data:g=[]}=ip(),x=g.filter(y=>l.includes(y.segment_id)),b=async()=>{try{await h.mutateAsync({id:e.id,title:a,template_data:e.template_data,status:e.status,sheet_date:e.sheet_date,segment_ids:l,city_ids:f}),t()}catch(y){console.error("Erreur lors de la modification:",y),alert("Erreur lors de la modification de la fiche")}};return s.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:s.jsxs("div",{className:"bg-white rounded-lg shadow-xl max-w-2xl w-full max-h-[90vh] overflow-hidden",children:[s.jsxs("div",{className:"bg-gradient-to-r from-purple-600 to-purple-700 px-6 py-4 flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx("h2",{className:"text-xl font-bold text-white",children:"Modifier la Fiche de Calcul"}),s.jsxs("p",{className:"text-purple-100 text-sm",children:["tape ",r," sur 3"]})]}),s.jsx("button",{onClick:t,className:"text-white hover:bg-white/10 p-2 rounded-lg",children:s.jsx("svg",{className:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})})]}),s.jsxs("div",{className:"p-6 overflow-y-auto max-h-[calc(90vh-180px)]",children:[r===1&&s.jsxs("div",{children:[s.jsx("h3",{className:"font-semibold text-gray-900 mb-4",children:"Informations gnrales"}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Titre de la fiche"}),s.jsx("input",{type:"text",value:a,onChange:y=>i(y.target.value),placeholder:"Ex: Fiche Formation Professionnelle",className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-purple-500 focus:border-transparent",autoFocus:!0})]})]}),r===2&&s.jsxs("div",{children:[s.jsxs("h3",{className:"font-semibold text-gray-900 mb-4",children:["Slectionner les segments (",l.length," slectionn",l.length>1?"s":"",")"]}),s.jsx("div",{className:"space-y-2",children:p.map(y=>s.jsxs("label",{className:"flex items-center gap-3 p-4 border border-gray-200 rounded-lg hover:bg-gray-50 cursor-pointer",children:[s.jsx("input",{type:"checkbox",checked:l.includes(y.id),onChange:w=>{if(w.target.checked)o([...l,y.id]);else{o(l.filter(E=>E!==y.id));const _=g.filter(E=>E.segment_id===y.id).map(E=>E.id);u(f.filter(E=>!_.includes(E)))}},className:"w-5 h-5 text-purple-600 border-gray-300 rounded focus:ring-purple-500"}),s.jsx("div",{className:"w-4 h-4 rounded-full",style:{backgroundColor:y.color}}),s.jsx("span",{className:"flex-1 font-medium text-gray-900",children:y.name})]},y.id))})]}),r===3&&s.jsxs("div",{children:[s.jsxs("h3",{className:"font-semibold text-gray-900 mb-4",children:["Slectionner les villes (",f.length," slectionne",f.length>1?"s":"",")"]}),l.length===0?s.jsx("div",{className:"text-center py-8 text-gray-500",children:"Vous devez d'abord slectionner au moins un segment"}):x.length===0?s.jsx("div",{className:"text-center py-8 text-gray-500",children:"Aucune ville disponible pour les segments slectionns"}):s.jsx("div",{className:"space-y-2",children:x.map(y=>s.jsxs("label",{className:"flex items-center gap-3 p-4 border border-gray-200 rounded-lg hover:bg-gray-50 cursor-pointer",children:[s.jsx("input",{type:"checkbox",checked:f.includes(y.id),onChange:w=>{w.target.checked?u([...f,y.id]):u(f.filter(_=>_!==y.id))},className:"w-5 h-5 text-purple-600 border-gray-300 rounded focus:ring-purple-500"}),s.jsx(Js,{className:"w-4 h-4 text-purple-600"}),s.jsx("span",{className:"flex-1 font-medium text-gray-900",children:y.name}),s.jsx("span",{className:"text-sm text-gray-500",children:p.find(w=>w.id===y.segment_id)?.name})]},y.id))})]})]}),s.jsxs("div",{className:"bg-gray-50 px-6 py-4 border-t border-gray-200 flex justify-between",children:[s.jsx("button",{onClick:()=>r>1?n(r-1):t(),className:"px-6 py-2 bg-gray-200 hover:bg-gray-300 text-gray-700 rounded-lg transition-colors",children:r===1?"Annuler":"Prcdent"}),s.jsx("button",{onClick:()=>{r<3?n(r+1):b()},disabled:r===1&&!a||h.isPending,className:"px-6 py-2 bg-purple-600 hover:bg-purple-700 text-white rounded-lg transition-colors disabled:opacity-50 disabled:cursor-not-allowed",children:h.isPending?"Sauvegarde...":r===3?"Enregistrer":"Suivant"})]})]})})}function Hae(){const{id:e}=Ho(),t=Pn(),[r,n]=C.useState([]),[a,i]=C.useState(null),[l,o]=C.useState(null),[f,u]=C.useState(null),[h,p]=C.useState(1),[g,x]=C.useState("Nouvelle Fiche"),[b,y]=C.useState(!0),[w,_]=C.useState(null),[E,A]=C.useState({width:1200,height:800}),O=C.useRef(null),D=pL(),{data:R}=mL(e||"");C.useEffect(()=>{if(R&&(R.title&&x(R.title),R.template_data))try{const M=JSON.parse(R.template_data);if(M.fields&&M.fields.length>0){n(M.fields);const q=Math.max(...M.fields.map(W=>{const Z=W.id.match(/field_(\d+)/);return Z?parseInt(Z[1]):0}));p(q+1)}}catch(M){console.error("Erreur lors du chargement des donnes:",M)}},[R]);const P=[{type:"label",icon:zN,label:"Label",color:"bg-gray-500"},{type:"text",icon:CV,label:"Texte",color:"bg-blue-500"},{type:"number",icon:ZD,label:"Nombre",color:"bg-green-500"},{type:"formula",icon:cu,label:"Formule",color:"bg-purple-500"},{type:"textarea",icon:Xs,label:"Texte libre",color:"bg-indigo-500"},{type:"frame",icon:uH,label:"Cadre",color:"bg-orange-500"},{type:"file",icon:fV,label:"Pice jointe",color:"bg-teal-500"},{type:"link",icon:Wv,label:"Lien",color:"bg-cyan-500"}],T=r.find(M=>M.id===a),B=(M,q,W)=>{const Z=`field_${h}`;p(h+1);const oe={id:Z,type:M,layout:{x:q,y:W,w:200,h:40}};switch(M){case"label":return{...oe,props:{label:"Nouveau label"}};case"text":return{...oe,ref:`TEXT_${h}`,props:{label:"Texte"}};case"number":return{...oe,ref:`NUM_${h}`,props:{label:"Nombre",decimals:2,default:0}};case"formula":return{...oe,ref:`FORMULA_${h}`,props:{label:"Formule",expression:"",decimals:2}};case"frame":return{...oe,props:{label:"Cadre"},children:[]};case"file":return{...oe,ref:`FILE_${h}`,props:{label:"Pice jointe",accept:".pdf,.jpg,.jpeg,.png",maxSize:5}};case"textarea":return{...oe,layout:{x:q,y:W,w:400,h:120},ref:`TEXTAREA_${h}`,props:{label:"Commentaires"}};case"link":return{...oe,props:{label:"Lien",url:"https://example.com"}};default:return oe}},G=M=>{o({type:M,isNew:!0})},I=(M,q)=>{const W=r.find(ae=>ae.id===q);if(!W)return;const Z=M.currentTarget.getBoundingClientRect(),oe=M.clientX-Z.left,ce=M.clientY-Z.top;o({type:W.type,isNew:!1,fieldId:q,offsetX:oe,offsetY:ce}),i(q)},z=M=>{M.preventDefault()},K=M=>{if(M.preventDefault(),!l||!O.current)return;const q=O.current.getBoundingClientRect(),W=Math.round((M.clientX-q.left-(l.offsetX||0))/10)*10,Z=Math.round((M.clientY-q.top-(l.offsetY||0))/10)*10;if(l.isNew){const oe=B(l.type,Math.max(0,W),Math.max(0,Z));n([...r,oe]),i(oe.id)}else l.fieldId&&n(r.map(oe=>oe.id===l.fieldId?{...oe,layout:{...oe.layout,x:Math.max(0,W),y:Math.max(0,Z)}}:oe));o(null)},J=M=>{if(l&&!l.isNew&&l.fieldId&&O.current){const q=O.current.getBoundingClientRect(),W=Math.round((M.clientX-q.left-(l.offsetX||0))/10)*10,Z=Math.round((M.clientY-q.top-(l.offsetY||0))/10)*10;n(r.map(oe=>oe.id===l.fieldId?{...oe,layout:{...oe.layout,x:Math.max(0,W),y:Math.max(0,Z)}}:oe))}if(f&&O.current){const q=O.current.getBoundingClientRect(),W=M.clientX-q.left,Z=M.clientY-q.top,oe=W-f.startX,ce=Z-f.startY;n(r.map(ae=>{if(ae.id!==f.fieldId)return ae;let Se=f.startW,De=f.startH;return f.direction==="se"?(Se=Math.max(100,f.startW+oe),De=Math.max(50,f.startH+ce)):f.direction==="s"?De=Math.max(50,f.startH+ce):f.direction==="e"&&(Se=Math.max(100,f.startW+oe)),{...ae,layout:{...ae.layout,w:Math.round(Se/10)*10,h:Math.round(De/10)*10}}}))}},pe=()=>{o(null),u(null)},ne=(M,q,W)=>{if(M.stopPropagation(),!O.current)return;const Z=r.find(ce=>ce.id===q);if(!Z)return;const oe=O.current.getBoundingClientRect();u({fieldId:q,direction:W,startX:M.clientX-oe.left,startY:M.clientY-oe.top,startW:Z.layout.w,startH:Z.layout.h})},le=(M,q,W)=>{n(r.map(Z=>{if(Z.id!==M)return Z;const oe=q.split(".");return oe.length===1?{...Z,[q]:W}:oe[0]==="props"?{...Z,props:{...Z.props,[oe[1]]:W}}:oe[0]==="layout"?{...Z,layout:{...Z.layout,[oe[1]]:W}}:Z}))},ve=M=>{n(r.filter(q=>q.id!==M)),a===M&&i(null)},ue=M=>{const q=r.find(Z=>Z.id===M);if(!q)return;const W={...q,id:`field_${h}`,ref:q.ref?`${q.ref}_COPY`:void 0,layout:{...q.layout,x:q.layout.x+20,y:q.layout.y+20}};p(h+1),n([...r,W]),i(W.id)},je=(M,q)=>{const W=r.findIndex(oe=>oe.id===M);if(W===-1)return;const Z=[...r];q==="up"&&W<r.length-1?[Z[W],Z[W+1]]=[Z[W+1],Z[W]]:q==="down"&&W>0&&([Z[W],Z[W-1]]=[Z[W-1],Z[W]]),n(Z)},te=async()=>{if(!e){alert("Aucun ID de fiche trouv");return}try{const M={name:g,fields:r,version:"1.0.0"};await D.mutateAsync({id:e,title:g,template_data:JSON.stringify(M),status:R?.status||"draft",sheet_date:R?.sheet_date||new Date().toISOString()}),_("Fiche sauvegarde avec succs!"),setTimeout(()=>_(null),3e3)}catch(M){console.error("Erreur lors de la sauvegarde:",M),alert("Erreur lors de la sauvegarde de la fiche")}},F=()=>{const q=JSON.stringify({name:g,fields:r,version:"1.0.0"},null,2),W=new Blob([q],{type:"application/json"}),Z=URL.createObjectURL(W),oe=document.createElement("a");oe.href=Z,oe.download=`${g.toLowerCase().replace(/\s+/g,"-")}.json`,oe.click(),URL.revokeObjectURL(Z)};return s.jsxs("div",{className:"h-screen flex flex-col bg-gray-50 overflow-hidden",children:[s.jsxs("div",{className:"bg-white border-b border-gray-200 px-4 py-3 flex items-center justify-between flex-shrink-0",children:[s.jsxs("div",{className:"flex items-center gap-4",children:[s.jsx("input",{type:"text",value:g,onChange:M=>x(M.target.value),className:"text-xl font-bold border-none focus:ring-2 focus:ring-blue-500 rounded px-2 py-1"}),s.jsxs("span",{className:"text-sm text-gray-500",children:[r.length," champ(s)"]})]}),s.jsxs("div",{className:"flex items-center gap-2",children:[w&&s.jsxs("div",{className:"flex items-center gap-2 bg-green-100 text-green-800 px-4 py-2 rounded-lg",children:[s.jsx(YD,{className:"w-5 h-5"}),s.jsx("span",{className:"text-sm font-medium",children:w})]}),s.jsx("button",{onClick:()=>y(!b),className:`p-2 rounded-lg transition-colors ${b?"bg-blue-100 text-blue-600":"bg-gray-100 text-gray-600"}`,title:"Grille",children:s.jsx($H,{className:"w-5 h-5"})}),s.jsxs("button",{onClick:te,disabled:D.isPending,className:"px-4 py-2 bg-blue-600 hover:bg-blue-700 text-white rounded-lg transition-colors flex items-center gap-2 disabled:opacity-50 disabled:cursor-not-allowed",children:[s.jsx(Jm,{className:"w-5 h-5"}),D.isPending?"Sauvegarde...":"Sauvegarder"]}),s.jsxs("button",{onClick:F,className:"px-4 py-2 bg-green-600 hover:bg-green-700 text-white rounded-lg transition-colors flex items-center gap-2",children:[s.jsx(Ss,{className:"w-5 h-5"}),"Exporter JSON"]}),s.jsxs("div",{className:"flex gap-2",children:[s.jsxs("button",{onClick:()=>t(`/admin/calculation-sheets/${e}?mode=admin`),className:"px-4 py-2 bg-purple-600 hover:bg-purple-700 text-white rounded-lg transition-colors flex items-center gap-2",children:[s.jsx(Es,{className:"w-5 h-5"}),"Voir (Admin)"]}),s.jsxs("button",{onClick:()=>t(`/admin/calculation-sheets/${e}?mode=user`),className:"px-4 py-2 bg-blue-600 hover:bg-blue-700 text-white rounded-lg transition-colors flex items-center gap-2",children:[s.jsx(Es,{className:"w-5 h-5"}),"Voir (Utilisateur)"]})]}),s.jsx("button",{onClick:()=>t("/admin/calculation-sheets"),className:"px-4 py-2 bg-gray-600 hover:bg-gray-700 text-white rounded-lg transition-colors flex items-center gap-2",children:"Retour  la liste"})]})]}),s.jsxs("div",{className:"flex-1 flex min-h-0",children:[s.jsxs("div",{className:"w-64 bg-white border-r border-gray-200 flex-shrink-0 p-4",children:[s.jsx("h3",{className:"font-semibold text-gray-900 mb-3",children:"Composants"}),s.jsx("div",{className:"space-y-2",children:P.map(M=>{const q=M.icon;return s.jsxs("div",{draggable:!0,onDragStart:()=>G(M.type),className:`${M.color} text-white rounded-lg p-3 cursor-move hover:opacity-90 transition-opacity flex items-center gap-2`,children:[s.jsx(q,{className:"w-5 h-5"}),s.jsx("span",{className:"font-medium",children:M.label})]},M.type)})}),s.jsxs("div",{className:"mt-6 p-3 bg-blue-50 rounded-lg text-sm text-blue-800",children:[s.jsx("p",{className:"font-medium mb-1",children:" Glisser-dposer"}),s.jsx("p",{className:"text-xs",children:"Faites glisser un composant sur le canvas pour l'ajouter"})]})]}),s.jsx("div",{className:"flex-1 bg-gray-100 overflow-auto p-4 min-w-0",children:s.jsxs("div",{ref:O,onDragOver:z,onDrop:K,onMouseMove:J,onMouseUp:pe,className:"relative bg-white rounded-lg shadow-sm",style:{width:`${E.width}px`,height:`${E.height}px`,backgroundImage:b?"linear-gradient(#e5e7eb 1px, transparent 1px), linear-gradient(90deg, #e5e7eb 1px, transparent 1px)":"none",backgroundSize:b?"20px 20px":"auto"},children:[r.map(M=>{const q=M.id===a,W=P.find(ce=>ce.type===M.type),Z=M.type==="frame",oe=M.visibility?.hidden;return Z?s.jsxs("div",{onMouseDown:ce=>{ce.target.classList.contains("resize-handle")||I(ce,M.id)},onClick:ce=>{ce.stopPropagation(),i(M.id)},className:`absolute border-2 rounded-lg ${oe?"opacity-50":""} ${q?"border-orange-500 bg-orange-50/30":"border-orange-300 bg-orange-50/10 hover:border-orange-400"}`,style:{left:M.layout.x,top:M.layout.y,width:M.layout.w,height:M.layout.h},children:[s.jsxs("div",{className:"bg-orange-500 text-white px-3 py-1 rounded-t font-semibold text-sm cursor-move flex items-center justify-between",children:[s.jsx("span",{children:M.props.label||"Cadre"}),oe&&s.jsx(Vs,{className:"w-4 h-4"})]}),q&&s.jsxs(s.Fragment,{children:[s.jsxs("div",{className:"absolute -top-2 -right-2 flex gap-1",children:[s.jsx("button",{onClick:ce=>{ce.stopPropagation(),ue(M.id)},className:"w-6 h-6 bg-blue-500 hover:bg-blue-600 text-white rounded-full flex items-center justify-center",title:"Dupliquer",children:s.jsx(Sm,{className:"w-3 h-3"})}),s.jsx("button",{onClick:ce=>{ce.stopPropagation(),ve(M.id)},className:"w-6 h-6 bg-red-500 hover:bg-red-600 text-white rounded-full flex items-center justify-center",title:"Supprimer",children:s.jsx(da,{className:"w-3 h-3"})})]}),s.jsx("div",{className:"resize-handle absolute -bottom-2 -right-2 w-4 h-4 bg-orange-500 rounded-full cursor-se-resize border-2 border-white",onMouseDown:ce=>{ce.stopPropagation(),ne(ce,M.id,"se")},title:"Redimensionner"}),s.jsx("div",{className:"resize-handle absolute -bottom-2 left-1/2 -translate-x-1/2 w-4 h-4 bg-orange-500 rounded-full cursor-s-resize border-2 border-white",onMouseDown:ce=>{ce.stopPropagation(),ne(ce,M.id,"s")},title:"Redimensionner"}),s.jsx("div",{className:"resize-handle absolute top-1/2 -translate-y-1/2 -right-2 w-4 h-4 bg-orange-500 rounded-full cursor-e-resize border-2 border-white",onMouseDown:ce=>{ce.stopPropagation(),ne(ce,M.id,"e")},title:"Redimensionner"})]})]},M.id):M.type==="link"?s.jsxs("div",{onMouseDown:ce=>{ce.target.classList.contains("resize-handle")||I(ce,M.id)},onClick:ce=>{ce.stopPropagation(),i(M.id)},className:`absolute cursor-move border-2 rounded-lg px-3 py-2 ${oe?"opacity-50":""} ${q?"border-cyan-500 bg-cyan-50":"border-cyan-300 bg-white hover:border-cyan-400"}`,style:{left:M.layout.x,top:M.layout.y,width:M.layout.w,height:M.layout.h},children:[s.jsxs("div",{className:"flex items-center gap-2 h-full",children:[s.jsx(Wv,{className:"w-4 h-4 text-cyan-600 flex-shrink-0"}),s.jsxs("div",{className:"flex-1 min-w-0",children:[s.jsx("div",{className:"text-sm font-medium text-cyan-900 truncate",children:M.props.label||"Lien"}),M.props.url&&s.jsx("div",{className:"text-xs text-cyan-600 truncate",children:M.props.url})]}),oe&&s.jsx(Vs,{className:"w-4 h-4 text-gray-400 flex-shrink-0"})]}),q&&s.jsxs(s.Fragment,{children:[s.jsxs("div",{className:"absolute -top-2 -right-2 flex gap-1",children:[s.jsx("button",{onClick:ce=>{ce.stopPropagation(),ue(M.id)},className:"w-6 h-6 bg-cyan-500 hover:bg-cyan-600 text-white rounded-full flex items-center justify-center",title:"Dupliquer",children:s.jsx(Sm,{className:"w-3 h-3"})}),s.jsx("button",{onClick:ce=>{ce.stopPropagation(),ve(M.id)},className:"w-6 h-6 bg-red-500 hover:bg-red-600 text-white rounded-full flex items-center justify-center",title:"Supprimer",children:s.jsx(da,{className:"w-3 h-3"})})]}),s.jsx("div",{className:"resize-handle absolute -bottom-2 -right-2 w-4 h-4 bg-cyan-500 rounded-full cursor-se-resize border-2 border-white",onMouseDown:ce=>{ce.stopPropagation(),ne(ce,M.id,"se")},title:"Redimensionner"}),s.jsx("div",{className:"resize-handle absolute -bottom-2 left-1/2 -translate-x-1/2 w-4 h-4 bg-cyan-500 rounded-full cursor-s-resize border-2 border-white",onMouseDown:ce=>{ce.stopPropagation(),ne(ce,M.id,"s")},title:"Redimensionner"}),s.jsx("div",{className:"resize-handle absolute top-1/2 -translate-y-1/2 -right-2 w-4 h-4 bg-cyan-500 rounded-full cursor-e-resize border-2 border-white",onMouseDown:ce=>{ce.stopPropagation(),ne(ce,M.id,"e")},title:"Redimensionner"})]})]},M.id):s.jsxs("div",{onMouseDown:ce=>{ce.target.classList.contains("resize-handle")||I(ce,M.id)},onClick:ce=>{ce.stopPropagation(),i(M.id)},className:`absolute cursor-move border-2 rounded-lg px-3 py-2 ${oe?"opacity-50":""} ${q?"border-blue-500 bg-blue-50":"border-gray-300 bg-white hover:border-gray-400"}`,style:{left:M.layout.x,top:M.layout.y,width:M.layout.w,height:M.layout.h},children:[s.jsxs("div",{className:"flex items-center gap-2 h-full",children:[W&&s.jsx(W.icon,{className:"w-4 h-4 text-gray-500 flex-shrink-0"}),s.jsxs("div",{className:"flex-1 min-w-0",children:[s.jsx("div",{className:"text-sm font-medium text-gray-900 truncate",children:M.props.label||M.type}),M.ref&&s.jsx("div",{className:"text-xs text-gray-500 truncate",children:M.ref})]}),oe&&s.jsx(Vs,{className:"w-4 h-4 text-gray-400 flex-shrink-0"})]}),q&&s.jsxs(s.Fragment,{children:[s.jsxs("div",{className:"absolute -top-2 -right-2 flex gap-1",children:[s.jsx("button",{onClick:ce=>{ce.stopPropagation(),ue(M.id)},className:"w-6 h-6 bg-blue-500 hover:bg-blue-600 text-white rounded-full flex items-center justify-center",title:"Dupliquer",children:s.jsx(Sm,{className:"w-3 h-3"})}),s.jsx("button",{onClick:ce=>{ce.stopPropagation(),ve(M.id)},className:"w-6 h-6 bg-red-500 hover:bg-red-600 text-white rounded-full flex items-center justify-center",title:"Supprimer",children:s.jsx(da,{className:"w-3 h-3"})})]}),s.jsx("div",{className:"resize-handle absolute -bottom-2 -right-2 w-4 h-4 bg-blue-500 rounded-full cursor-se-resize border-2 border-white",onMouseDown:ce=>{ce.stopPropagation(),ne(ce,M.id,"se")},title:"Redimensionner"}),s.jsx("div",{className:"resize-handle absolute -bottom-2 left-1/2 -translate-x-1/2 w-4 h-4 bg-blue-500 rounded-full cursor-s-resize border-2 border-white",onMouseDown:ce=>{ce.stopPropagation(),ne(ce,M.id,"s")},title:"Redimensionner"}),s.jsx("div",{className:"resize-handle absolute top-1/2 -translate-y-1/2 -right-2 w-4 h-4 bg-blue-500 rounded-full cursor-e-resize border-2 border-white",onMouseDown:ce=>{ce.stopPropagation(),ne(ce,M.id,"e")},title:"Redimensionner"})]})]},M.id)}),r.length===0&&s.jsx("div",{className:"absolute inset-0 flex items-center justify-center text-gray-400",children:s.jsxs("div",{className:"text-center",children:[s.jsx(ca,{className:"w-16 h-16 mx-auto mb-4 opacity-30"}),s.jsx("p",{className:"text-lg font-medium",children:"Glissez des composants ici"}),s.jsx("p",{className:"text-sm mt-1",children:"Commencez par ajouter des champs depuis la barre d'outils"})]})})]})}),s.jsx("div",{className:"w-80 bg-white border-l border-gray-200 flex-shrink-0 overflow-y-auto",children:s.jsxs("div",{className:"p-4",children:[s.jsx("h3",{className:"font-semibold text-gray-900 mb-3",children:"Proprits"}),s.jsxs("div",{className:"mb-4 pb-4 border-b border-gray-200",children:[s.jsx("h4",{className:"font-medium text-gray-900 mb-3",children:"Taille du Canvas"}),s.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-xs font-medium text-gray-700 mb-1",children:"Largeur (px)"}),s.jsx("input",{type:"number",value:E.width,onChange:M=>A({...E,width:Math.max(800,parseInt(M.target.value)||1200)}),min:"800",step:"100",className:"w-full px-2 py-1 border border-gray-300 rounded text-sm"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-xs font-medium text-gray-700 mb-1",children:"Hauteur (px)"}),s.jsx("input",{type:"number",value:E.height,onChange:M=>A({...E,height:Math.max(600,parseInt(M.target.value)||800)}),min:"600",step:"100",className:"w-full px-2 py-1 border border-gray-300 rounded text-sm"})]})]}),s.jsxs("div",{className:"mt-2 flex gap-2",children:[s.jsx("button",{onClick:()=>A({width:1200,height:800}),className:"flex-1 px-2 py-1 bg-gray-100 hover:bg-gray-200 text-gray-700 rounded text-xs",children:"Standard"}),s.jsx("button",{onClick:()=>A({width:1600,height:1200}),className:"flex-1 px-2 py-1 bg-gray-100 hover:bg-gray-200 text-gray-700 rounded text-xs",children:"Large"}),s.jsx("button",{onClick:()=>A({width:2e3,height:1600}),className:"flex-1 px-2 py-1 bg-gray-100 hover:bg-gray-200 text-gray-700 rounded text-xs",children:"XL"})]})]}),T?s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Type"}),s.jsx("div",{className:"px-3 py-2 bg-gray-100 rounded text-sm font-medium text-gray-900",children:P.find(M=>M.type===T.type)?.label})]}),T.type!=="label"&&T.type!=="frame"&&T.type!=="link"&&s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Rfrence"}),s.jsx("input",{type:"text",value:T.ref||"",onChange:M=>le(T.id,"ref",M.target.value.toUpperCase()),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500",placeholder:"EX: MONTANT_TOTAL"})]}),T.type==="file"&&s.jsxs(s.Fragment,{children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Types de fichiers accepts"}),s.jsx("input",{type:"text",value:T.props.accept||"",onChange:M=>le(T.id,"props.accept",M.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500",placeholder:".pdf,.jpg,.png"}),s.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"Sparez par des virgules (ex: .pdf,.jpg,.png)"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Taille maximum (MB)"}),s.jsx("input",{type:"number",min:"1",max:"50",value:T.props.maxSize||5,onChange:M=>le(T.id,"props.maxSize",parseInt(M.target.value)||5),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500"})]})]}),T.type==="link"&&s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"URL du lien"}),s.jsx("input",{type:"url",value:T.props.url||"",onChange:M=>le(T.id,"props.url",M.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500",placeholder:"https://example.com"}),s.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"Le lien s'ouvrira dans un nouvel onglet"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Label"}),s.jsx("input",{type:"text",value:T.props.label||"",onChange:M=>le(T.id,"props.label",M.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500"})]}),T.type==="formula"&&s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Expression"}),s.jsx("textarea",{value:T.props.expression||"",onChange:M=>le(T.id,"props.expression",M.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 font-mono text-sm",rows:3,placeholder:"EX: HEURES_REAL*TARIF_H"})]}),(T.type==="number"||T.type==="formula")&&s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Dcimales"}),s.jsx("input",{type:"number",min:"0",max:"10",value:T.props.decimals||0,onChange:M=>le(T.id,"props.decimals",parseInt(M.target.value)||0),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500"})]}),T.type==="number"&&s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Valeur par dfaut"}),s.jsx("input",{type:"number",step:"0.01",value:typeof T.props.default=="number"||typeof T.props.default=="string"?T.props.default:0,onChange:M=>le(T.id,"props.default",parseFloat(M.target.value)||0),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500"})]}),s.jsxs("div",{className:"pt-4 border-t border-gray-200",children:[s.jsx("h4",{className:"font-medium text-gray-900 mb-3",children:"Position & Taille"}),s.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-xs font-medium text-gray-700 mb-1",children:"X"}),s.jsx("input",{type:"number",value:T.layout.x,onChange:M=>le(T.id,"layout.x",parseInt(M.target.value)||0),className:"w-full px-2 py-1 border border-gray-300 rounded text-sm"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-xs font-medium text-gray-700 mb-1",children:"Y"}),s.jsx("input",{type:"number",value:T.layout.y,onChange:M=>le(T.id,"layout.y",parseInt(M.target.value)||0),className:"w-full px-2 py-1 border border-gray-300 rounded text-sm"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-xs font-medium text-gray-700 mb-1",children:"Largeur"}),s.jsx("input",{type:"number",value:T.layout.w,onChange:M=>le(T.id,"layout.w",parseInt(M.target.value)||50),className:"w-full px-2 py-1 border border-gray-300 rounded text-sm"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-xs font-medium text-gray-700 mb-1",children:"Hauteur"}),s.jsx("input",{type:"number",value:T.layout.h,onChange:M=>le(T.id,"layout.h",parseInt(M.target.value)||30),className:"w-full px-2 py-1 border border-gray-300 rounded text-sm"})]})]})]}),s.jsxs("div",{className:"pt-4 border-t border-gray-200",children:[s.jsx("h4",{className:"font-medium text-gray-900 mb-3",children:"Visibilit"}),s.jsxs("label",{className:"flex items-center gap-3 p-3 bg-gray-50 rounded-lg cursor-pointer hover:bg-gray-100",children:[s.jsx("input",{type:"checkbox",checked:T.visibility?.hidden||!1,onChange:M=>{const q={...T.visibility,hidden:M.target.checked};le(T.id,"visibility",q)},className:"w-5 h-5 text-blue-600 border-gray-300 rounded focus:ring-blue-500"}),s.jsxs("div",{className:"flex-1",children:[s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(Vs,{className:"w-4 h-4 text-gray-600"}),s.jsx("span",{className:"font-medium text-gray-900",children:"Masquer pour les professeurs"})]}),s.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"Ce champ sera invisible dans le mode test et pour les professeurs"})]})]})]}),s.jsxs("div",{className:"pt-4 border-t border-gray-200",children:[s.jsx("h4",{className:"font-medium text-gray-900 mb-3",children:"Actions"}),s.jsxs("div",{className:"flex gap-2",children:[s.jsxs("button",{onClick:()=>je(T.id,"up"),className:"flex-1 px-3 py-2 bg-gray-100 hover:bg-gray-200 text-gray-700 rounded-lg text-sm flex items-center justify-center gap-1",children:[s.jsx(sH,{className:"w-4 h-4"}),"Avant"]}),s.jsxs("button",{onClick:()=>je(T.id,"down"),className:"flex-1 px-3 py-2 bg-gray-100 hover:bg-gray-200 text-gray-700 rounded-lg text-sm flex items-center justify-center gap-1",children:[s.jsx(nH,{className:"w-4 h-4"}),"Arrire"]})]})]})]}):s.jsx("div",{className:"text-center py-12 text-gray-400",children:s.jsx("p",{children:"Slectionnez un champ pour voir ses proprits"})})]})})]})]})}const zi={async getAll(e){const t=e?{professor_id:e}:void 0;return st.get("/declarations",t)},async getById(e){try{return await st.get(`/declarations/${e}`)}catch(t){if(t instanceof Error&&"status"in t&&t.status===404)return null;throw t}},async create(e){return st.post("/declarations",e)},async update(e){const{id:t,...r}=e;return st.put(`/declarations/${t}`,r)},async delete(e){return st.delete(`/declarations/${e}`)}};function Vae(e){return hr({queryKey:["admin-declarations",e],queryFn:async()=>{const t=await zi.getAll();return e&&e!=="all"?t.filter(r=>r.status===e):t}})}function Wae(){const e=Ut();return Ht({mutationFn:async t=>zi.update({id:t,status:"approuvee"}),onSuccess:()=>{e.invalidateQueries({queryKey:["admin-declarations"]}),e.invalidateQueries({queryKey:["admin-declaration"]})}})}function xL(){const e=Ut();return Ht({mutationFn:async({id:t,reason:r})=>zi.update({id:t,status:"refusee",rejection_reason:r}),onSuccess:()=>{e.invalidateQueries({queryKey:["admin-declarations"]}),e.invalidateQueries({queryKey:["admin-declaration"]})}})}function Gae(){const e=Ut();return Ht({mutationFn:async({id:t,reason:r})=>{const n=await zi.getById(t);if(!n)throw new Error("Dclaration non trouve");return zi.update({id:t,form_data:n.form_data,status:"en_cours",rejection_reason:r})},onSuccess:()=>{e.invalidateQueries({queryKey:["admin-declarations"]}),e.invalidateQueries({queryKey:["admin-declaration"]})}})}function Kae(e){return hr({queryKey:["admin-declaration",e],queryFn:()=>zi.getById(e),enabled:!!e})}const gL=Gae;function vL(){const e=Ut();return Ht({mutationFn:t=>zi.delete(t),onSuccess:()=>{e.invalidateQueries({queryKey:["admin-declarations"]})}})}function Yae(){return hr({queryKey:["declaration-stats"],queryFn:async()=>{const e=await zi.getAll();return{total:e.length,soumises:e.filter(t=>t.status==="soumise").length,en_cours:e.filter(t=>t.status==="en_cours").length,approuvees:e.filter(t=>t.status==="approuvee").length,refusees:e.filter(t=>t.status==="refusee").length,brouillon:e.filter(t=>t.status==="brouillon").length,a_declarer:e.filter(t=>t.status==="a_declarer").length}}})}function Xae(){const e=Ut();return Ht({mutationFn:async t=>zi.update(t),onSuccess:()=>{e.invalidateQueries({queryKey:["admin-declarations"]}),e.invalidateQueries({queryKey:["admin-declaration"]}),e.invalidateQueries({queryKey:["professor-declarations"]})}})}function Qae({declaration:e,onClose:t}){const[r,n]=C.useState({segment_id:e.segment_id,city_id:e.city_id,start_date:e.start_date.split("T")[0],end_date:e.end_date.split("T")[0],status:e.status}),{data:a=[]}=zd(),{data:i=[]}=ip(),l=Xae(),o=i.filter(u=>u.segment_id===r.segment_id);C.useEffect(()=>{r.segment_id&&r.city_id&&(i.find(h=>h.id===r.city_id&&h.segment_id===r.segment_id)||n(h=>({...h,city_id:""})))},[r.segment_id,r.city_id,i]);const f=async u=>{if(u.preventDefault(),!r.segment_id||!r.city_id||!r.start_date||!r.end_date){alert("Veuillez remplir tous les champs obligatoires");return}if(new Date(r.end_date)<new Date(r.start_date)){alert("La date de fin doit tre postrieure  la date de dbut");return}try{await l.mutateAsync({id:e.id,...r}),t()}catch(h){console.error("Erreur lors de la modification:",h),alert("Erreur lors de la modification de la dclaration")}};return s.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:s.jsxs("div",{className:"bg-white rounded-lg shadow-xl w-full max-w-2xl max-h-[90vh] overflow-y-auto",children:[s.jsxs("div",{className:"flex items-center justify-between p-4 sm:p-6 border-b border-gray-200",children:[s.jsxs("div",{className:"flex items-center gap-2 sm:gap-3 min-w-0",children:[s.jsx("div",{className:"w-8 h-8 sm:w-10 sm:h-10 bg-blue-100 rounded-lg flex items-center justify-center flex-shrink-0",children:s.jsx(Zm,{className:"w-5 h-5 sm:w-6 sm:h-6 text-blue-600"})}),s.jsxs("div",{className:"min-w-0",children:[s.jsx("h2",{className:"text-lg sm:text-xl font-bold text-gray-900 truncate",children:"Modifier la dclaration"}),s.jsxs("p",{className:"text-xs sm:text-sm text-gray-500 truncate",children:["Professeur: ",e.professor_name]})]})]}),s.jsx("button",{onClick:t,className:"text-gray-400 hover:text-gray-600 transition-colors flex-shrink-0 ml-2",children:s.jsx(rl,{className:"w-5 h-5 sm:w-6 sm:h-6"})})]}),s.jsxs("form",{onSubmit:f,className:"p-4 sm:p-6 space-y-4 sm:space-y-6",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Segment de formation *"}),s.jsxs("div",{className:"relative",children:[s.jsx(BN,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 w-5 h-5"}),s.jsxs("select",{required:!0,value:r.segment_id,onChange:u=>n({...r,segment_id:u.target.value}),className:"w-full pl-10 pr-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent appearance-none",children:[s.jsx("option",{value:"",children:"Slectionnez un segment"}),a.map(u=>s.jsx("option",{value:u.id,children:u.name},u.id))]})]})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Ville *"}),s.jsxs("div",{className:"relative",children:[s.jsx(Js,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 w-5 h-5"}),s.jsxs("select",{required:!0,value:r.city_id,onChange:u=>n({...r,city_id:u.target.value}),className:"w-full pl-10 pr-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent appearance-none",disabled:!r.segment_id,children:[s.jsx("option",{value:"",children:"Slectionnez une ville"}),o.map(u=>s.jsx("option",{value:u.id,children:u.name},u.id))]})]}),!r.segment_id&&s.jsx("p",{className:"mt-1 text-xs text-amber-600",children:"Veuillez d'abord slectionner un segment"}),r.segment_id&&o.length===0&&s.jsx("p",{className:"mt-1 text-xs text-amber-600",children:"Aucune ville disponible pour ce segment"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Date de dbut *"}),s.jsxs("div",{className:"relative",children:[s.jsx(ns,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 w-5 h-5"}),s.jsx("input",{type:"date",required:!0,value:r.start_date,onChange:u=>n({...r,start_date:u.target.value}),className:"w-full pl-10 pr-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent"})]})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Date de fin *"}),s.jsxs("div",{className:"relative",children:[s.jsx(ns,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 w-5 h-5"}),s.jsx("input",{type:"date",required:!0,value:r.end_date,onChange:u=>n({...r,end_date:u.target.value}),className:"w-full pl-10 pr-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent"})]})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Statut *"}),s.jsxs("div",{className:"relative",children:[s.jsx(EV,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 w-5 h-5"}),s.jsxs("select",{required:!0,value:r.status,onChange:u=>n({...r,status:u.target.value}),className:"w-full pl-10 pr-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent appearance-none",children:[s.jsx("option",{value:"brouillon",children:"Brouillon"}),s.jsx("option",{value:"a_declarer",children:" dclarer"}),s.jsx("option",{value:"en_cours",children:"En cours"}),s.jsx("option",{value:"soumise",children:"Soumise"}),s.jsx("option",{value:"approuvee",children:"Approuve"}),s.jsx("option",{value:"refusee",children:"Refuse"})]})]}),s.jsx("p",{className:"mt-1 text-xs text-gray-500",children:"Vous pouvez changer le statut (ex: de brouillon   dclarer)"})]}),s.jsxs("div",{className:"flex gap-3 pt-4 border-t border-gray-200",children:[s.jsx("button",{type:"button",onClick:t,className:"flex-1 px-4 py-2 border border-gray-300 text-gray-700 rounded-lg hover:bg-gray-50 transition-colors",children:"Annuler"}),s.jsx("button",{type:"submit",disabled:l.isPending,className:"flex-1 px-4 py-2 bg-blue-600 hover:bg-blue-700 text-white rounded-lg transition-colors disabled:opacity-50 disabled:cursor-not-allowed",children:l.isPending?"Modification...":"Modifier"})]})]})]})})}const Zae=()=>{const e=Pn(),[t,r]=C.useState("all"),[n,a]=C.useState("all"),[i,l]=C.useState("all"),[o,f]=C.useState("all"),[u,h]=C.useState(null),[p,g]=C.useState(""),[x,b]=C.useState(!1),[y,w]=C.useState(!1),[_,E]=C.useState(!1),[A,O]=C.useState(null),{data:D=[],isLoading:R}=Vae(t),{data:P}=Yae(),T=xL(),B=gL(),G=vL(),I=vd.useMemo(()=>Array.from(new Set(D.map(te=>te.professor_name))).sort(),[D]),z=vd.useMemo(()=>Array.from(new Set(D.map(te=>te.city_name))).sort(),[D]),K=vd.useMemo(()=>Array.from(new Set(D.map(te=>te.segment_name))).sort(),[D]),J=vd.useMemo(()=>D.filter(je=>!(n!=="all"&&je.professor_name!==n||i!=="all"&&je.city_name!==i||o!=="all"&&je.segment_name!==o)),[D,n,i,o]),pe={brouillon:{label:"Brouillon",color:"bg-gray-100 text-gray-800",bgColor:"bg-gray-50 border-gray-200",hoverColor:"hover:bg-gray-100",icon:Zs},a_declarer:{label:" dclarer",color:"bg-orange-100 text-orange-800",bgColor:"bg-orange-50 border-orange-200",hoverColor:"hover:bg-orange-100",icon:un},soumise:{label:"Soumise",color:"bg-blue-100 text-blue-800",bgColor:"bg-blue-50 border-blue-200",hoverColor:"hover:bg-blue-100",icon:Ys},en_cours:{label:"En cours",color:"bg-yellow-100 text-yellow-800",bgColor:"bg-yellow-50 border-yellow-200",hoverColor:"hover:bg-yellow-100",icon:un},approuvee:{label:"Approuve",color:"bg-green-100 text-green-800",bgColor:"bg-green-50 border-green-200",hoverColor:"hover:bg-green-100",icon:ii},refusee:{label:"Refuse",color:"bg-red-100 text-red-800",bgColor:"bg-red-50 border-red-200",hoverColor:"hover:bg-red-100",icon:Sd}},ne=async()=>{if(!u||!p.trim()){alert("Veuillez fournir un motif de refus");return}try{await T.mutateAsync({id:u.id,reason:p}),b(!1),g(""),h(null)}catch(je){console.error("Error rejecting declaration:",je),alert("Erreur lors du refus")}},le=async()=>{if(!u||!p.trim()){alert("Veuillez fournir un motif de demande de modification");return}try{await B.mutateAsync({id:u.id,reason:p}),w(!1),g(""),h(null)}catch(je){console.error("Error requesting modification:",je),alert("Erreur lors de la demande de modification")}},ve=async je=>{const te=`tes-vous sr de vouloir supprimer cette dclaration de ${je.professor_name} ?

Cette action est irrversible.`;if(confirm(te))try{await G.mutateAsync(je.id)}catch(F){console.error("Error deleting declaration:",F),alert("Erreur lors de la suppression de la dclaration")}},ue=je=>new Date(je).toLocaleDateString("fr-FR",{day:"2-digit",month:"2-digit",year:"numeric"});return s.jsxs("div",{className:"min-h-screen bg-gray-50",children:[s.jsx("header",{className:"bg-white shadow-sm",children:s.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-3 sm:py-4",children:s.jsxs("div",{className:"flex flex-col sm:flex-row items-start sm:items-center gap-3 sm:gap-4",children:[s.jsxs(rt,{variant:"outline",size:"sm",onClick:()=>e("/dashboard"),className:"w-full sm:w-auto",children:[s.jsx(ea,{className:"w-4 h-4 mr-2"}),"Retour"]}),s.jsxs("div",{children:[s.jsx("h1",{className:"text-xl sm:text-2xl font-bold text-gray-900",children:"Gestion des Dclarations"}),s.jsx("p",{className:"text-xs sm:text-sm text-gray-600 hidden sm:block",children:"Valider, refuser ou demander des modifications"})]})]})})}),s.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-6 sm:py-8",children:[P&&s.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 md:grid-cols-3 lg:grid-cols-6 gap-3 sm:gap-4 mb-6",children:[s.jsx(hn,{children:s.jsx(mn,{className:"pt-6",children:s.jsxs("div",{className:"text-center",children:[s.jsx("p",{className:"text-2xl font-bold text-gray-900",children:P.total}),s.jsx("p",{className:"text-sm text-gray-600",children:"Total"})]})})}),s.jsx(hn,{children:s.jsx(mn,{className:"pt-6",children:s.jsxs("div",{className:"text-center",children:[s.jsx("p",{className:"text-2xl font-bold text-orange-600",children:P.a_declarer||0}),s.jsx("p",{className:"text-sm text-gray-600",children:" dclarer"})]})})}),s.jsx(hn,{children:s.jsx(mn,{className:"pt-6",children:s.jsxs("div",{className:"text-center",children:[s.jsx("p",{className:"text-2xl font-bold text-blue-600",children:P.soumises}),s.jsx("p",{className:"text-sm text-gray-600",children:"Soumises"})]})})}),s.jsx(hn,{children:s.jsx(mn,{className:"pt-6",children:s.jsxs("div",{className:"text-center",children:[s.jsx("p",{className:"text-2xl font-bold text-yellow-600",children:P.en_cours}),s.jsx("p",{className:"text-sm text-gray-600",children:"En cours"})]})})}),s.jsx(hn,{children:s.jsx(mn,{className:"pt-6",children:s.jsxs("div",{className:"text-center",children:[s.jsx("p",{className:"text-2xl font-bold text-green-600",children:P.approuvees}),s.jsx("p",{className:"text-sm text-gray-600",children:"Approuves"})]})})}),s.jsx(hn,{children:s.jsx(mn,{className:"pt-6",children:s.jsxs("div",{className:"text-center",children:[s.jsx("p",{className:"text-2xl font-bold text-red-600",children:P.refusees}),s.jsx("p",{className:"text-sm text-gray-600",children:"Refuses"})]})})})]}),s.jsxs(hn,{className:"mb-6",children:[s.jsx(cf,{children:s.jsx(uf,{children:"Filtres"})}),s.jsxs(mn,{children:[s.jsxs("div",{className:"mb-4",children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Par statut"}),s.jsxs("div",{className:"flex flex-wrap gap-2",children:[s.jsx(rt,{variant:t==="all"?"default":"outline",onClick:()=>r("all"),children:"Toutes"}),s.jsx(rt,{variant:t==="a_declarer"?"default":"outline",onClick:()=>r("a_declarer"),children:" dclarer"}),s.jsx(rt,{variant:t==="soumise"?"default":"outline",onClick:()=>r("soumise"),children:"Soumises"}),s.jsx(rt,{variant:t==="en_cours"?"default":"outline",onClick:()=>r("en_cours"),children:"En cours"}),s.jsx(rt,{variant:t==="approuvee"?"default":"outline",onClick:()=>r("approuvee"),children:"Approuves"}),s.jsx(rt,{variant:t==="refusee"?"default":"outline",onClick:()=>r("refusee"),children:"Refuses"})]})]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Par professeur"}),s.jsxs("select",{value:n,onChange:je=>a(je.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent bg-white",children:[s.jsx("option",{value:"all",children:"Tous les professeurs"}),I.filter(je=>je!==void 0).map(je=>s.jsx("option",{value:je,children:je},je))]})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Par ville"}),s.jsxs("select",{value:i,onChange:je=>l(je.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent bg-white",children:[s.jsx("option",{value:"all",children:"Toutes les villes"}),z.filter(je=>je!==void 0).map(je=>s.jsx("option",{value:je,children:je},je))]})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Par segment"}),s.jsxs("select",{value:o,onChange:je=>f(je.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent bg-white",children:[s.jsx("option",{value:"all",children:"Tous les segments"}),K.filter(je=>je!==void 0).map(je=>s.jsx("option",{value:je,children:je},je))]})]})]})]})]}),s.jsxs(hn,{children:[s.jsx(cf,{children:s.jsxs(uf,{children:["Dclarations (",J.length,")"]})}),s.jsx(mn,{children:R?s.jsxs("div",{className:"text-center py-8",children:[s.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-blue-600 mx-auto"}),s.jsx("p",{className:"text-gray-600 mt-2",children:"Chargement..."})]}):J.length===0?s.jsxs("div",{className:"text-center py-8",children:[s.jsx(Zs,{className:"w-12 h-12 text-gray-400 mx-auto mb-2"}),s.jsx("p",{className:"text-gray-600",children:"Aucune dclaration trouve"})]}):s.jsx("div",{className:"space-y-4",children:J.map(je=>{const te=pe[je.status].icon,F=pe[je.status];return s.jsx("div",{className:`border rounded-lg p-4 transition-all ${F.bgColor} ${F.hoverColor}`,children:s.jsxs("div",{className:"flex items-start justify-between",children:[s.jsxs("div",{className:"flex-1",children:[s.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[s.jsx("h3",{className:"font-semibold text-gray-900",children:je.professor_name}),s.jsxs("span",{className:`px-2 py-1 rounded-full text-xs font-medium flex items-center gap-1 ${F.color}`,children:[s.jsx(te,{className:"w-3 h-3"}),F.label]})]}),s.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-2 text-sm text-gray-600",children:[s.jsxs("div",{children:[s.jsx("span",{className:"font-medium",children:"Segment:"})," ",je.segment_name]}),s.jsxs("div",{children:[s.jsx("span",{className:"font-medium",children:"Ville:"})," ",je.city_name]}),s.jsxs("div",{children:[s.jsx("span",{className:"font-medium",children:"Priode:"})," ",ue(je.start_date)," - ",ue(je.end_date)]}),s.jsxs("div",{children:[s.jsx("span",{className:"font-medium",children:"Soumise le:"})," ",je.submitted_at?ue(je.submitted_at):"N/A"]})]}),je.rejection_reason&&s.jsxs("div",{className:"mt-2 p-2 bg-red-50 border border-red-200 rounded text-sm text-red-700",children:[s.jsx("span",{className:"font-medium",children:"Motif:"})," ",je.rejection_reason]})]}),s.jsxs("div",{className:"flex gap-2 ml-4 flex-shrink-0",children:[s.jsx(rt,{variant:"outline",size:"sm",onClick:()=>{O(je),E(!0)},className:"bg-white hover:bg-purple-50 border-purple-300",title:"Modifier les mtadonnes",children:s.jsx(Zm,{className:"w-4 h-4"})}),s.jsxs(rt,{variant:"outline",size:"sm",onClick:()=>e(`/admin/declarations/${je.id}`),className:"bg-white hover:bg-blue-50 border-blue-300",children:[s.jsx(r2,{className:"w-4 h-4 mr-1"}),"Ouvrir"]}),s.jsx(rt,{variant:"outline",size:"sm",className:"bg-white text-red-600 hover:bg-red-50 border-red-300",onClick:()=>ve(je),children:s.jsx(da,{className:"w-4 h-4"})})]})]})},je.id)})})})]})]}),u&&!x&&!y&&s.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:s.jsx("div",{className:"bg-white rounded-lg shadow-xl max-w-2xl w-full max-h-[80vh] overflow-y-auto",children:s.jsxs("div",{className:"p-6",children:[s.jsx("h2",{className:"text-xl font-bold mb-4",children:"Dtails de la dclaration"}),s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{children:[s.jsx("span",{className:"font-medium",children:"Professeur:"})," ",u.professor_name]}),s.jsxs("div",{children:[s.jsx("span",{className:"font-medium",children:"Segment:"})," ",u.segment_name]}),s.jsxs("div",{children:[s.jsx("span",{className:"font-medium",children:"Ville:"})," ",u.city_name]}),s.jsxs("div",{children:[s.jsx("span",{className:"font-medium",children:"Fiche de calcul:"})," ",u.sheet_title]}),s.jsxs("div",{children:[s.jsx("span",{className:"font-medium",children:"Priode:"})," ",ue(u.start_date)," - ",ue(u.end_date)]}),s.jsxs("div",{children:[s.jsx("span",{className:"font-medium",children:"Statut:"})," ",s.jsx("span",{className:`px-2 py-1 rounded-full text-xs font-medium ${pe[u.status].color}`,children:pe[u.status].label})]}),u.form_data&&s.jsxs("div",{children:[s.jsx("span",{className:"font-medium",children:"Donnes du formulaire:"}),s.jsx("pre",{className:"mt-2 p-4 bg-gray-100 rounded text-sm overflow-x-auto",children:JSON.stringify(JSON.parse(u.form_data),null,2)})]})]}),s.jsx("div",{className:"flex justify-end gap-2 mt-6",children:s.jsx(rt,{variant:"outline",onClick:()=>h(null),children:"Fermer"})})]})})}),x&&u&&s.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:s.jsx("div",{className:"bg-white rounded-lg shadow-xl max-w-md w-full",children:s.jsxs("div",{className:"p-6",children:[s.jsx("h2",{className:"text-xl font-bold mb-4",children:"Refuser la dclaration"}),s.jsxs("p",{className:"text-sm text-gray-600 mb-4",children:["Veuillez fournir un motif de refus pour la dclaration de"," ",s.jsx("strong",{children:u.professor_name})]}),s.jsx("textarea",{value:p,onChange:je=>g(je.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-red-500 focus:border-transparent",rows:4,placeholder:"Motif du refus..."}),s.jsxs("div",{className:"flex justify-end gap-2 mt-6",children:[s.jsx(rt,{variant:"outline",onClick:()=>{b(!1),g(""),h(null)},children:"Annuler"}),s.jsx(rt,{className:"bg-red-600 hover:bg-red-700 text-white",onClick:ne,disabled:!p.trim(),children:"Refuser"})]})]})})}),y&&u&&s.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:s.jsx("div",{className:"bg-white rounded-lg shadow-xl max-w-md w-full",children:s.jsxs("div",{className:"p-6",children:[s.jsx("h2",{className:"text-xl font-bold mb-4",children:"Demander une modification"}),s.jsxs("p",{className:"text-sm text-gray-600 mb-4",children:["Veuillez prciser les modifications  apporter pour la dclaration de"," ",s.jsx("strong",{children:u.professor_name})]}),s.jsx("textarea",{value:p,onChange:je=>g(je.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-yellow-500 focus:border-transparent",rows:4,placeholder:"Modifications demandes..."}),s.jsxs("div",{className:"flex justify-end gap-2 mt-6",children:[s.jsx(rt,{variant:"outline",onClick:()=>{w(!1),g(""),h(null)},children:"Annuler"}),s.jsx(rt,{className:"bg-yellow-600 hover:bg-yellow-700 text-white",onClick:le,disabled:!p.trim(),children:"Demander"})]})]})})}),_&&A&&s.jsx(Qae,{declaration:A,onClose:()=>{E(!1),O(null)}})]})};function Jae(){const{user:e}=Ni();return hr({queryKey:["professor-declarations",e?.id],queryFn:()=>zi.getAll(e?.id),enabled:!!e?.id})}function eie(e){return hr({queryKey:["professor-declaration",e],queryFn:()=>zi.getById(e),enabled:!!e})}function tie(){const e=Ut(),{user:t}=Ni();return Ht({mutationFn:async r=>{if(!t?.id)throw new Error("Utilisateur non connect");const n=Bd();return zi.create({id:n,professor_id:t.id,...r,form_data:JSON.stringify(r.form_data||{})})},onSuccess:()=>{e.invalidateQueries({queryKey:["professor-declarations"]})}})}function yL(){const e=Ut();return Ht({mutationFn:async t=>zi.update({id:t.id,form_data:JSON.stringify(t.form_data)}),onSuccess:()=>{e.invalidateQueries({queryKey:["professor-declarations"]}),e.invalidateQueries({queryKey:["professor-declaration"]})}})}function bL(){const e=Ut();return Ht({mutationFn:async t=>{const r=await zi.getById(t);if(!r)throw new Error("Dclaration non trouve");return zi.update({id:t,form_data:r.form_data,status:"soumise"})},onSuccess:()=>{e.invalidateQueries({queryKey:["professor-declarations"]}),e.invalidateQueries({queryKey:["professor-declaration"]})}})}function rie(){const e=Ut();return Ht({mutationFn:t=>zi.delete(t),onSuccess:()=>{e.invalidateQueries({queryKey:["professor-declarations"]})}})}function nie(){return hr({queryKey:["available-calculation-sheets"],queryFn:async()=>(await Ac.getAll()).filter(t=>t.status==="published")})}function aie(){const{user:e}=Ni();return hr({queryKey:["professor-segments",e?.id],queryFn:async()=>{if(!e?.id)return[];const t=await ao.getById(e.id);return!t||!t.segment_ids?[]:(await Ud.getAll()).filter(n=>t.segment_ids?.includes(n.id))},enabled:!!e?.id})}function iie(){const{user:e}=Ni(),t=hr({queryKey:["professor-cities",e?.id],queryFn:async()=>{if(!e?.id)return[];const r=await ao.getById(e.id);return!r||!r.city_ids?[]:(await jc.getAll()).filter(a=>r.city_ids?.includes(a.id)).map(a=>({id:a.id,name:a.name,segment_id:a.segment_id,segment_name:a.segment_name}))},enabled:!!e?.id});return{data:t.data,isLoading:t.isLoading}}const sie=({files:e,currentIndex:t,onClose:r,onNavigate:n})=>{const a=e[t];C.useEffect(()=>{const u=h=>{h.key==="Escape"&&r()};return window.addEventListener("keydown",u),()=>window.removeEventListener("keydown",u)},[r]),C.useEffect(()=>{const u=h=>{h.key==="ArrowLeft"&&t>0?n(t-1):h.key==="ArrowRight"&&t<e.length-1&&n(t+1)};return window.addEventListener("keydown",u),()=>window.removeEventListener("keydown",u)},[t,e.length,n]);const i=()=>{try{const u=a.data.split(",")[1],h=a.data.split(",")[0].split(":")[1].split(";")[0],p=atob(u),g=new ArrayBuffer(p.length),x=new Uint8Array(g);for(let _=0;_<p.length;_++)x[_]=p.charCodeAt(_);const b=new Blob([g],{type:h}),y=URL.createObjectURL(b),w=document.createElement("a");w.href=y,w.download=a.name,w.click(),URL.revokeObjectURL(y)}catch(u){console.error("Erreur lors du tlchargement:",u),alert("Erreur lors du tlchargement du fichier")}},l=u=>u<1024?`${u} B`:u<1024*1024?`${(u/1024).toFixed(2)} KB`:`${(u/(1024*1024)).toFixed(2)} MB`,o=a.type.startsWith("image/"),f=a.type==="application/pdf";return s.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black bg-opacity-75 p-4",onClick:r,children:s.jsxs("div",{className:"relative bg-white rounded-lg shadow-2xl max-w-6xl w-full max-h-[90vh] flex flex-col",onClick:u=>u.stopPropagation(),children:[s.jsxs("div",{className:"flex items-center justify-between p-4 border-b bg-gray-50 rounded-t-lg",children:[s.jsxs("div",{className:"flex-1 min-w-0",children:[s.jsx("h3",{className:"text-lg font-semibold text-gray-900 truncate",children:a.name}),s.jsxs("p",{className:"text-sm text-gray-500",children:[l(a.size),"  ",a.type]})]}),s.jsxs("div",{className:"flex items-center gap-2 ml-4",children:[s.jsxs("button",{onClick:i,className:"flex items-center gap-2 px-3 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors",title:"Tlcharger",children:[s.jsx(Ss,{className:"w-4 h-4"}),s.jsx("span",{className:"hidden sm:inline",children:"Tlcharger"})]}),s.jsx("button",{onClick:r,className:"p-2 text-gray-600 hover:bg-gray-200 rounded-lg transition-colors",title:"Fermer (chap)",children:s.jsx(rl,{className:"w-5 h-5"})})]})]}),s.jsx("div",{className:"flex-1 overflow-auto p-6 bg-gray-100",children:o?s.jsx("div",{className:"flex items-center justify-center h-full",children:s.jsx("img",{src:a.data,alt:a.name,className:"max-w-full max-h-full object-contain rounded-lg shadow-lg"})}):f?s.jsx("iframe",{src:a.data,className:"w-full h-full min-h-[600px] rounded-lg shadow-lg",title:a.name}):s.jsxs("div",{className:"flex flex-col items-center justify-center h-full text-center",children:[s.jsx(Zs,{className:"w-24 h-24 text-gray-400 mb-4"}),s.jsx("h4",{className:"text-xl font-semibold text-gray-700 mb-2",children:"Prvisualisation non disponible"}),s.jsxs("p",{className:"text-gray-500 mb-6",children:["Ce type de fichier ne peut pas tre prvisualis.",s.jsx("br",{}),`Cliquez sur "Tlcharger" pour l'ouvrir sur votre ordinateur.`]}),s.jsxs("button",{onClick:i,className:"flex items-center gap-2 px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors",children:[s.jsx(Ss,{className:"w-4 h-4"}),"Tlcharger le fichier"]})]})}),e.length>1&&s.jsxs("div",{className:"flex items-center justify-between p-4 border-t bg-gray-50",children:[s.jsxs("button",{onClick:()=>n(t-1),disabled:t===0,className:"flex items-center gap-2 px-3 py-2 text-gray-700 bg-white border border-gray-300 rounded-lg hover:bg-gray-100 disabled:opacity-50 disabled:cursor-not-allowed transition-colors",children:[s.jsx(MN,{className:"w-4 h-4"}),"Prcdent"]}),s.jsxs("span",{className:"text-sm text-gray-600",children:[t+1," / ",e.length]}),s.jsxs("button",{onClick:()=>n(t+1),disabled:t===e.length-1,className:"flex items-center gap-2 px-3 py-2 text-gray-700 bg-white border border-gray-300 rounded-lg hover:bg-gray-100 disabled:opacity-50 disabled:cursor-not-allowed transition-colors",children:["Suivant",s.jsx(Gu,{className:"w-4 h-4"})]})]})]})})},lie=()=>{const{id:e}=Ho(),t=Pn(),{data:r,isLoading:n}=Kae(e),a=Wae(),i=xL(),l=gL(),o=yL(),f=vL(),[u,h]=C.useState([]),[p,g]=C.useState({}),[x,b]=C.useState({}),[y,w]=C.useState({width:1200,height:800}),[_,E]=C.useState(!1),[A,O]=C.useState(!1),[D,R]=C.useState(""),[P,T]=C.useState(null),[B,G]=C.useState(!1),[I,z]=C.useState([]),[K,J]=C.useState(0);C.useEffect(()=>{if(r?.template_data)try{const M=JSON.parse(r.template_data);M.fields&&M.fields.length>0&&h(M.fields),M.canvasSize&&w(M.canvasSize)}catch(M){console.error("Error parsing template:",M)}if(r?.form_data)try{const M=JSON.parse(r.form_data);g(M)}catch(M){console.error("Error parsing form data:",M)}},[r]),C.useEffect(()=>{const M=C3(u,p);b(M)},[p,u]);const pe=(M,q)=>{const W=u.find(oe=>oe.ref===M);if(!W)return;let Z=q;W.type==="number"&&(Z=q===""?0:parseFloat(q)||0),g(oe=>({...oe,[M]:Z}))},ne=async()=>{if(e)try{await o.mutateAsync({id:e,form_data:p}),T("Modifications sauvegardes avec succs!"),setTimeout(()=>T(null),3e3)}catch(M){console.error("Error saving declaration:",M),alert("Erreur lors de la sauvegarde")}},le=async()=>{if(confirm("Voulez-vous vraiment approuver cette dclaration ?"))try{await a.mutateAsync(e),t("/admin/declarations")}catch(M){console.error("Error approving declaration:",M),alert("Erreur lors de l'approbation")}},ve=async()=>{if(!D.trim()){alert("Veuillez fournir un motif de refus");return}try{await i.mutateAsync({id:e,reason:D}),t("/admin/declarations")}catch(M){console.error("Error rejecting declaration:",M),alert("Erreur lors du refus")}},ue=async()=>{if(!D.trim()){alert("Veuillez fournir un motif de demande de modification");return}try{await l.mutateAsync({id:e,reason:D}),t("/admin/declarations")}catch(M){console.error("Error requesting modification:",M),alert("Erreur lors de la demande de modification")}},je=async()=>{const M=`tes-vous sr de vouloir supprimer cette dclaration de ${r?.professor_name} ?

Cette action est irrversible.`;if(confirm(M))try{await f.mutateAsync(e),t("/admin/declarations")}catch(q){console.error("Error deleting declaration:",q),alert("Erreur lors de la suppression de la dclaration")}},te=M=>{const q=M.layout||{x:0,y:0,w:200,h:40},W=M.visibility?.hidden===!0,Z=ce=>W?`${ce} ring-2 ring-red-400 ring-offset-2`:ce,oe=()=>W?s.jsx("div",{className:"absolute -top-2 -right-2 z-10 px-2 py-0.5 bg-red-600 text-white text-xs font-bold rounded-full shadow-lg",children:"ADMIN"}):null;if(M.type==="label")return s.jsxs("div",{className:"absolute",style:{left:`${q.x}px`,top:`${q.y}px`,width:`${q.w}px`,height:`${q.h}px`},children:[s.jsx("div",{className:Z("w-full h-full bg-gray-100 border-2 border-gray-300 rounded px-3 py-2 flex items-center font-semibold text-gray-700"),children:M.props.label}),s.jsx(oe,{})]},M.id);if(M.type==="text"){const ce=p[M.ref],ae=typeof ce=="string"||typeof ce=="number"?String(ce):"";return s.jsxs("div",{className:"absolute",style:{left:`${q.x}px`,top:`${q.y}px`,width:`${q.w}px`,height:`${q.h}px`},children:[s.jsx("input",{type:"text",value:ae,onChange:Se=>pe(M.ref,Se.target.value),className:Z("w-full h-full px-3 py-2 border border-blue-300 rounded focus:ring-2 focus:ring-blue-500 focus:border-transparent")}),s.jsx(oe,{})]},M.id)}if(M.type==="textarea"){const ce=p[M.ref],ae=typeof ce=="string"||typeof ce=="number"?String(ce):"";return s.jsxs("div",{className:"absolute",style:{left:`${q.x}px`,top:`${q.y}px`,width:`${q.w}px`,height:`${q.h}px`},children:[s.jsx("textarea",{value:ae,onChange:Se=>pe(M.ref,Se.target.value),placeholder:M.props.label||"crivez vos commentaires ici...",className:Z("w-full h-full px-3 py-2 border-2 border-indigo-300 rounded focus:ring-2 focus:ring-indigo-500 focus:border-transparent resize-none")}),s.jsx(oe,{})]},M.id)}if(M.type==="number"){const ce=p[M.ref]!==void 0?p[M.ref]:M.props.default||0,ae=typeof ce=="number"||typeof ce=="string"?ce:"";return s.jsxs("div",{className:"absolute",style:{left:`${q.x}px`,top:`${q.y}px`,width:`${q.w}px`,height:`${q.h}px`},children:[s.jsx("input",{type:"number",step:"0.01",value:ae,onChange:Se=>pe(M.ref,Se.target.value),className:Z("w-full h-full px-3 py-2 border border-green-300 rounded focus:ring-2 focus:ring-green-500 focus:border-transparent")}),s.jsx(oe,{})]},M.id)}if(M.type==="formula"){const ce=x[M.ref],ae=typeof ce=="string"&&ce.startsWith("#");return s.jsxs("div",{className:"absolute flex items-center",style:{left:`${q.x}px`,top:`${q.y}px`,width:`${q.w}px`,height:`${q.h}px`},children:[s.jsx("div",{className:Z(`w-full h-full px-3 py-2 border-2 rounded font-semibold flex items-center ${ae?"bg-red-50 border-red-400 text-red-700":"bg-purple-50 border-purple-400 text-purple-900"}`),children:typeof ce=="number"?ce.toFixed(M.props.decimals||2):String(ce||"0")}),s.jsx(oe,{})]},M.id)}if(M.type==="frame")return s.jsxs("div",{className:"absolute",style:{left:`${q.x}px`,top:`${q.y}px`,width:`${q.w}px`,height:`${q.h}px`},children:[s.jsx("div",{className:Z("w-full h-full border-2 border-orange-400 rounded-lg bg-orange-50/30"),children:s.jsx("div",{className:"bg-orange-500 text-white px-3 py-1 rounded-t font-semibold text-sm",children:M.props.label||"Cadre"})}),s.jsx(oe,{})]},M.id);if(M.type==="file"){const ce=p[M.ref],ae=ce&&Array.isArray(ce)&&ce.length>0,Se=Ke=>Ke<1024?`${Ke} B`:Ke<1024*1024?`${(Ke/1024).toFixed(2)} KB`:`${(Ke/(1024*1024)).toFixed(2)} MB`,De=Ke=>{try{const Ce=Ke.data.split(",")[1],xe=Ke.data.split(",")[0].split(":")[1].split(";")[0],dt=atob(Ce),Xe=new ArrayBuffer(dt.length),wt=new Uint8Array(Xe);for(let Qt=0;Qt<dt.length;Qt++)wt[Qt]=dt.charCodeAt(Qt);const lt=new Blob([Xe],{type:xe}),At=URL.createObjectURL(lt),pt=document.createElement("a");pt.href=At,pt.download=Ke.name,pt.click(),URL.revokeObjectURL(At)}catch(Ce){console.error("Erreur lors du tlchargement:",Ce),alert("Erreur lors du tlchargement du fichier")}},X=Ke=>{z(ce),J(Ke),G(!0)};return s.jsxs("div",{className:"absolute",style:{left:`${q.x}px`,top:`${q.y}px`,width:`${q.w}px`,height:`${q.h}px`},children:[s.jsxs("div",{className:Z("w-full h-full border-2 border-dashed border-teal-300 bg-teal-50/50 rounded px-3 py-2 overflow-y-auto"),children:[s.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[s.jsx(Zs,{className:"w-5 h-5 text-teal-600"}),s.jsxs("span",{className:"text-sm font-medium text-teal-700",children:[M.props.label||"Pices jointes"," (",ae?ce.length:0,")"]})]}),ae?s.jsx("div",{className:"space-y-2",children:ce.map((Ke,Ce)=>{const dt=Ke.type.startsWith("image/")?JD:Zs;return s.jsxs("div",{className:"flex items-center gap-2 p-2 bg-white rounded border border-teal-200 hover:border-teal-400 transition-colors",children:[s.jsx(dt,{className:"w-4 h-4 text-teal-600 flex-shrink-0"}),s.jsxs("div",{className:"flex-1 min-w-0",children:[s.jsx("div",{className:"text-xs font-medium text-teal-900 truncate",children:Ke.name}),s.jsx("div",{className:"text-xs text-teal-600",children:Se(Ke.size)})]}),s.jsxs("div",{className:"flex gap-1 flex-shrink-0",children:[s.jsx("button",{onClick:()=>X(Ce),className:"p-1.5 bg-blue-100 hover:bg-blue-200 text-blue-700 rounded transition-colors",title:"Voir",children:s.jsx(Es,{className:"w-3.5 h-3.5"})}),s.jsx("button",{onClick:()=>De(Ke),className:"p-1.5 bg-teal-100 hover:bg-teal-200 text-teal-700 rounded transition-colors",title:"Tlcharger",children:s.jsx(Ss,{className:"w-3.5 h-3.5"})})]})]},Ce)})}):s.jsxs("div",{className:"text-center py-4",children:[s.jsx(Zs,{className:"w-8 h-8 text-teal-300 mx-auto mb-2"}),s.jsx("span",{className:"text-xs text-teal-500 italic",children:"Aucune pice jointe"})]})]}),s.jsx(oe,{})]},M.id)}if(M.type==="link"){const ce=p[M.ref]||"",ae=ce&&ce.trim()!==""&&(ce.startsWith("http://")||ce.startsWith("https://"));return s.jsxs("div",{className:"absolute",style:{left:`${q.x}px`,top:`${q.y}px`,width:`${q.w}px`,height:`${q.h}px`},children:[s.jsxs("div",{className:Z("w-full h-full border-2 border-cyan-400 bg-cyan-50 rounded px-3 py-2 flex items-center gap-2"),children:[s.jsx(Wv,{className:"w-5 h-5 text-cyan-600 flex-shrink-0"}),s.jsxs("div",{className:"flex-1 min-w-0",children:[s.jsx("div",{className:"text-xs font-medium text-cyan-700 mb-1",children:M.props.label||"Lien"}),ae?s.jsx("a",{href:ce,target:"_blank",rel:"noopener noreferrer",className:"text-sm text-cyan-900 hover:text-cyan-700 underline truncate block",children:ce}):s.jsx("span",{className:"text-sm text-gray-400 italic",children:"Aucun lien fourni"})]}),ae&&s.jsx("a",{href:ce,target:"_blank",rel:"noopener noreferrer",className:"p-2 bg-cyan-600 hover:bg-cyan-700 text-white rounded transition-colors flex-shrink-0",title:"Ouvrir le lien",children:s.jsx(r2,{className:"w-4 h-4"})})]}),s.jsx(oe,{})]},M.id)}return null},F={brouillon:{label:"Brouillon",color:"bg-gray-100 text-gray-800"},soumise:{label:"Soumise",color:"bg-blue-100 text-blue-800"},en_cours:{label:"En cours",color:"bg-yellow-100 text-yellow-800"},approuvee:{label:"Approuve",color:"bg-green-100 text-green-800"},refusee:{label:"Refuse",color:"bg-red-100 text-red-800"}};return n?s.jsx("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center",children:s.jsxs("div",{className:"text-center",children:[s.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-600 mx-auto mb-4"}),s.jsx("p",{className:"text-gray-600",children:"Chargement..."})]})}):r?s.jsxs("div",{className:"min-h-screen bg-gray-50",children:[s.jsx("div",{className:"bg-white border-b border-gray-200 px-6 py-4 sticky top-0 z-10",children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{className:"flex items-center gap-4",children:[s.jsx("button",{onClick:()=>t("/admin/declarations"),className:"p-2 hover:bg-gray-100 rounded-lg transition-colors",title:"Retour  la liste",children:s.jsx(ea,{className:"w-6 h-6 text-gray-600"})}),s.jsxs("div",{children:[s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:r.sheet_title}),s.jsx("span",{className:`px-3 py-1 rounded-full text-sm font-medium ${F[r.status].color}`,children:F[r.status].label}),s.jsxs("span",{className:"px-3 py-1 bg-gray-100 text-gray-700 rounded-full text-xs font-medium flex items-center gap-1",children:[s.jsx(Es,{className:"w-3 h-3"}),"Mode Admin"]})]}),s.jsxs("div",{className:"text-sm text-gray-500 mt-1",children:[r.professor_name,"  ",r.segment_name,"  ",r.city_name,"  Du"," ",new Date(r.start_date).toLocaleDateString("fr-FR")," au"," ",new Date(r.end_date).toLocaleDateString("fr-FR")]})]})]}),s.jsxs("div",{className:"flex items-center gap-3",children:[P&&s.jsx("div",{className:"flex items-center gap-2 bg-green-100 text-green-800 px-4 py-2 rounded-lg",children:s.jsx("span",{className:"text-sm font-medium",children:P})}),s.jsxs(rt,{variant:"outline",className:"text-red-600 hover:bg-red-50",onClick:je,children:[s.jsx(da,{className:"w-4 h-4 mr-2"}),"Supprimer"]}),s.jsxs(rt,{variant:"outline",onClick:ne,disabled:o.isPending,children:[s.jsx(Jm,{className:"w-4 h-4 mr-2"}),"Sauvegarder"]}),r.status==="soumise"&&s.jsxs(s.Fragment,{children:[s.jsxs(rt,{variant:"outline",className:"text-green-600 hover:bg-green-50",onClick:le,children:[s.jsx(ii,{className:"w-4 h-4 mr-2"}),"Approuver"]}),s.jsxs(rt,{variant:"outline",className:"text-yellow-600 hover:bg-yellow-50",onClick:()=>O(!0),children:[s.jsx(un,{className:"w-4 h-4 mr-2"}),"Demander modification"]}),s.jsxs(rt,{variant:"outline",className:"text-red-600 hover:bg-red-50",onClick:()=>E(!0),children:[s.jsx(Sd,{className:"w-4 h-4 mr-2"}),"Refuser"]})]})]})]})}),r.rejection_reason&&s.jsx("div",{className:"bg-red-50 border-b border-red-200 px-6 py-4",children:s.jsxs("div",{className:"flex items-start gap-2",children:[s.jsx(un,{className:"w-5 h-5 text-red-500 flex-shrink-0 mt-0.5"}),s.jsxs("div",{children:[s.jsx("p",{className:"text-sm font-semibold text-red-800",children:r.status==="refusee"?"Dclaration refuse":"Modifications demandes"}),s.jsx("p",{className:"text-sm text-red-700 mt-1",children:r.rejection_reason})]})]})}),s.jsx("div",{className:"p-4",children:s.jsx("div",{className:"bg-white rounded-lg shadow-sm overflow-auto",children:s.jsx("div",{className:"relative bg-white",style:{width:`${y.width}px`,minHeight:`${y.height}px`},children:u.map(M=>te(M))})})}),_&&s.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:s.jsx("div",{className:"bg-white rounded-lg shadow-xl max-w-md w-full",children:s.jsxs("div",{className:"p-6",children:[s.jsx("h2",{className:"text-xl font-bold mb-4",children:"Refuser la dclaration"}),s.jsxs("p",{className:"text-sm text-gray-600 mb-4",children:["Veuillez fournir un motif de refus pour la dclaration de"," ",s.jsx("strong",{children:r.professor_name})]}),s.jsx("textarea",{value:D,onChange:M=>R(M.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-red-500 focus:border-transparent",rows:4,placeholder:"Motif du refus..."}),s.jsxs("div",{className:"flex justify-end gap-2 mt-6",children:[s.jsx(rt,{variant:"outline",onClick:()=>{E(!1),R("")},children:"Annuler"}),s.jsx(rt,{className:"bg-red-600 hover:bg-red-700 text-white",onClick:ve,disabled:!D.trim(),children:"Refuser"})]})]})})}),A&&s.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:s.jsx("div",{className:"bg-white rounded-lg shadow-xl max-w-md w-full",children:s.jsxs("div",{className:"p-6",children:[s.jsx("h2",{className:"text-xl font-bold mb-4",children:"Demander une modification"}),s.jsxs("p",{className:"text-sm text-gray-600 mb-4",children:["Veuillez prciser les modifications  apporter pour la dclaration de"," ",s.jsx("strong",{children:r.professor_name})]}),s.jsx("textarea",{value:D,onChange:M=>R(M.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-yellow-500 focus:border-transparent",rows:4,placeholder:"Modifications demandes..."}),s.jsxs("div",{className:"flex justify-end gap-2 mt-6",children:[s.jsx(rt,{variant:"outline",onClick:()=>{O(!1),R("")},children:"Annuler"}),s.jsx(rt,{className:"bg-yellow-600 hover:bg-yellow-700 text-white",onClick:ue,disabled:!D.trim(),children:"Demander"})]})]})})}),B&&I.length>0&&s.jsx(sie,{files:I,currentIndex:K,onClose:()=>G(!1),onNavigate:M=>J(M)})]}):s.jsx("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center",children:s.jsxs("div",{className:"text-center",children:[s.jsx("p",{className:"text-gray-600",children:"Dclaration introuvable"}),s.jsx(rt,{onClick:()=>t("/admin/declarations"),className:"mt-4",children:"Retour"})]})})},oie={brouillon:{label:"Brouillon",color:"bg-gray-100 text-gray-800 border-gray-300",icon:Zs},a_declarer:{label:" dclarer",color:"bg-orange-100 text-orange-800 border-orange-300",icon:un},soumise:{label:"Soumise",color:"bg-blue-100 text-blue-800 border-blue-300",icon:Ys},en_cours:{label:"En cours",color:"bg-yellow-100 text-yellow-800 border-yellow-300",icon:un},approuvee:{label:"Approuve",color:"bg-green-100 text-green-800 border-green-300",icon:XD},refusee:{label:"Refuse",color:"bg-red-100 text-red-800 border-red-300",icon:Sd}},T3=({status:e,className:t=""})=>{const r=oie[e],n=r.icon;return s.jsxs("span",{className:`inline-flex items-center gap-1.5 px-3 py-1 rounded-full text-xs font-medium border ${r.color} ${t}`,children:[s.jsx(n,{className:"w-3.5 h-3.5"}),r.label]})},cie=({onClose:e})=>{const t=Pn(),r=tie(),{data:n}=nie(),{data:a=[],isLoading:i}=aie(),{data:l=[],isLoading:o}=iie(),[f,u]=C.useState([]),[h,p]=C.useState(""),[g,x]=C.useState(""),[b,y]=C.useState(""),[w,_]=C.useState(""),[E,A]=C.useState("");C.useEffect(()=>{if(h){const D=l.filter(R=>R.segment_id===h);u(D),g&&!D.find(R=>R.id===g)&&x("")}else u([]),x("")},[h,l,g]);const O=async D=>{if(D.preventDefault(),A(""),!h||!g||!b||!w){A("Veuillez remplir tous les champs");return}if(new Date(w)<=new Date(b)){A("La date de fin doit tre postrieure  la date de dbut");return}const R=n?.find(P=>P.segment_ids?.includes(h)&&P.city_ids?.includes(g));if(!R){A("Aucune fiche de calcul publie n'existe pour ce segment et cette ville");return}try{const P=await r.mutateAsync({calculation_sheet_id:R.id,segment_id:h,city_id:g,start_date:b,end_date:w,form_data:{}});t(`/professor/declarations/${P.id}/fill`)}catch(P){console.error("Error creating declaration:",P),A("Erreur lors de la cration de la dclaration")}};return s.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:s.jsxs("div",{className:"bg-white rounded-lg shadow-xl max-w-md w-full mx-4",children:[s.jsxs("div",{className:"flex items-center justify-between p-6 border-b",children:[s.jsx("h2",{className:"text-xl font-semibold text-gray-900",children:"Nouvelle Dclaration"}),s.jsx("button",{onClick:e,className:"text-gray-400 hover:text-gray-600 transition-colors",children:s.jsx(rl,{className:"w-5 h-5"})})]}),s.jsxs("form",{onSubmit:O,className:"p-6 space-y-4",children:[(i||o)&&s.jsx("div",{className:"text-center py-4",children:s.jsx("p",{className:"text-gray-600",children:"Chargement..."})}),s.jsxs("div",{children:[s.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:["Segment ",s.jsx("span",{className:"text-red-500",children:"*"})]}),s.jsxs("select",{value:h,onChange:D=>p(D.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent disabled:bg-gray-100 disabled:cursor-not-allowed",required:!0,disabled:i,children:[s.jsx("option",{value:"",children:"Slectionner un segment"}),a.map(D=>s.jsx("option",{value:D.id,children:D.name},D.id))]}),!i&&a.length===0&&s.jsx("p",{className:"text-sm text-red-500 mt-1",children:"Aucun segment affect  votre compte"})]}),s.jsxs("div",{children:[s.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:["Ville ",s.jsx("span",{className:"text-red-500",children:"*"})]}),s.jsxs("select",{value:g,onChange:D=>x(D.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent disabled:bg-gray-100 disabled:cursor-not-allowed",required:!0,disabled:!h||o,children:[s.jsx("option",{value:"",children:"Slectionner une ville"}),f.map(D=>s.jsx("option",{value:D.id,children:D.name},D.id))]}),!o&&l.length===0&&s.jsx("p",{className:"text-sm text-red-500 mt-1",children:"Aucune ville affecte  votre compte"}),h&&f.length===0&&l.length>0&&s.jsx("p",{className:"text-sm text-gray-500 mt-1",children:"Aucune ville disponible pour ce segment"})]}),s.jsxs("div",{children:[s.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:["Date de dbut ",s.jsx("span",{className:"text-red-500",children:"*"})]}),s.jsx("input",{type:"date",value:b,onChange:D=>y(D.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",required:!0})]}),s.jsxs("div",{children:[s.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:["Date de fin ",s.jsx("span",{className:"text-red-500",children:"*"})]}),s.jsx("input",{type:"date",value:w,onChange:D=>_(D.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",required:!0,min:b})]}),E&&s.jsxs("div",{className:"bg-red-50 border border-red-200 rounded-lg p-3 flex items-start gap-2",children:[s.jsx(un,{className:"w-5 h-5 text-red-500 flex-shrink-0 mt-0.5"}),s.jsx("p",{className:"text-sm text-red-700",children:E})]}),s.jsxs("div",{className:"flex gap-3 pt-4",children:[s.jsx("button",{type:"button",onClick:e,className:"flex-1 px-4 py-2 border border-gray-300 text-gray-700 rounded-lg hover:bg-gray-50 transition-colors",children:"Annuler"}),s.jsx("button",{type:"submit",disabled:r.isPending,className:"flex-1 px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors disabled:bg-blue-400 disabled:cursor-not-allowed",children:r.isPending?"Cration...":"Crer"})]})]})]})})},uie=()=>{const{data:e,isLoading:t}=Jae(),r=rie(),n=bL(),[a,i]=C.useState(!1),l=async u=>{if(window.confirm("tes-vous sr de vouloir supprimer cette dclaration ?"))try{await r.mutateAsync(u)}catch(h){console.error("Error deleting declaration:",h),alert("Erreur lors de la suppression de la dclaration")}},o=async u=>{if(window.confirm("Voulez-vous soumettre cette dclaration pour validation ?"))try{await n.mutateAsync(u)}catch(h){console.error("Error submitting declaration:",h),alert("Erreur lors de la soumission de la dclaration")}},f=u=>new Date(u).toLocaleDateString("fr-FR");return t?s.jsx("div",{className:"min-h-screen flex items-center justify-center",children:s.jsxs("div",{className:"text-center",children:[s.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-600 mx-auto mb-4"}),s.jsx("p",{className:"text-gray-600",children:"Chargement des dclarations..."})]})}):s.jsxs("div",{className:"min-h-screen bg-gray-50",children:[s.jsx("div",{className:"bg-white border-b border-gray-200",children:s.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-6",children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{className:"flex items-center gap-4",children:[s.jsx(Ma,{to:"/dashboard",className:"p-2 hover:bg-gray-100 rounded-lg transition-colors",title:"Retour au tableau de bord",children:s.jsx(ea,{className:"w-6 h-6 text-gray-600"})}),s.jsxs("div",{children:[s.jsx("h1",{className:"text-3xl font-bold text-gray-900",children:"Mes Dclarations"}),s.jsx("p",{className:"text-sm text-gray-600 mt-1",children:"Grez vos dclarations de sessions"})]})]}),s.jsxs("button",{onClick:()=>i(!0),className:"px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors flex items-center gap-2",children:[s.jsx(ca,{className:"w-5 h-5"}),"Nouvelle Dclaration"]})]})})}),s.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:[s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 lg:grid-cols-6 gap-4 mb-6",children:[s.jsxs("div",{className:"bg-white rounded-lg shadow-sm p-4",children:[s.jsx("p",{className:"text-sm text-gray-600",children:"Total"}),s.jsx("p",{className:"text-2xl font-bold text-gray-900",children:e?.length||0})]}),s.jsxs("div",{className:"bg-white rounded-lg shadow-sm p-4",children:[s.jsx("p",{className:"text-sm text-gray-600",children:" modifier"}),s.jsx("p",{className:"text-2xl font-bold text-yellow-600",children:e?.filter(u=>u.status==="en_cours").length||0})]}),s.jsxs("div",{className:"bg-white rounded-lg shadow-sm p-4",children:[s.jsx("p",{className:"text-sm text-gray-600",children:" dclarer"}),s.jsx("p",{className:"text-2xl font-bold text-orange-600",children:e?.filter(u=>u.status==="a_declarer").length||0})]}),s.jsxs("div",{className:"bg-white rounded-lg shadow-sm p-4",children:[s.jsx("p",{className:"text-sm text-gray-600",children:"Brouillons"}),s.jsx("p",{className:"text-2xl font-bold text-gray-500",children:e?.filter(u=>u.status==="brouillon").length||0})]}),s.jsxs("div",{className:"bg-white rounded-lg shadow-sm p-4",children:[s.jsx("p",{className:"text-sm text-gray-600",children:"Soumises"}),s.jsx("p",{className:"text-2xl font-bold text-blue-600",children:e?.filter(u=>u.status==="soumise").length||0})]}),s.jsxs("div",{className:"bg-white rounded-lg shadow-sm p-4",children:[s.jsx("p",{className:"text-sm text-gray-600",children:"Approuves"}),s.jsx("p",{className:"text-2xl font-bold text-green-600",children:e?.filter(u=>u.status==="approuvee").length||0})]})]}),!e||e.length===0?s.jsxs("div",{className:"bg-white rounded-lg shadow-sm p-12 text-center",children:[s.jsx(Zs,{className:"w-16 h-16 text-gray-400 mx-auto mb-4"}),s.jsx("h3",{className:"text-lg font-semibold text-gray-700 mb-2",children:"Aucune dclaration"}),s.jsx("p",{className:"text-gray-500 mb-6",children:"Commencez par crer votre premire dclaration"}),s.jsxs("button",{onClick:()=>i(!0),className:"px-6 py-3 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors inline-flex items-center gap-2",children:[s.jsx(ca,{className:"w-5 h-5"}),"Nouvelle Dclaration"]})]}):s.jsx("div",{className:"bg-white rounded-lg shadow-sm overflow-hidden",children:s.jsx("div",{className:"overflow-x-auto",children:s.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[s.jsx("thead",{className:"bg-gray-50",children:s.jsxs("tr",{children:[s.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Segment"}),s.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Ville"}),s.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Date Dbut"}),s.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Date Fin"}),s.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Statut"}),s.jsx("th",{className:"px-6 py-3 text-right text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Actions"})]})}),s.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:e.map(u=>s.jsxs(vd.Fragment,{children:[s.jsxs("tr",{className:"hover:bg-gray-50",children:[s.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:s.jsx("div",{className:"text-sm font-medium text-gray-900",children:u.segment_name})}),s.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:s.jsx("div",{className:"text-sm text-gray-900",children:u.city_name})}),s.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:s.jsx("div",{className:"text-sm text-gray-900",children:f(u.start_date)})}),s.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:s.jsx("div",{className:"text-sm text-gray-900",children:f(u.end_date)})}),s.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:s.jsx(T3,{status:u.status})}),s.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-right text-sm font-medium",children:s.jsxs("div",{className:"flex items-center justify-end gap-2",children:[s.jsx(Ma,{to:`/professor/declarations/${u.id}/fill`,className:"text-blue-600 hover:text-blue-900 p-1 hover:bg-blue-50 rounded transition-colors",title:u.status==="brouillon"||u.status==="refusee"||u.status==="a_declarer"||u.status==="en_cours"?"Remplir":"Voir",children:u.status==="brouillon"||u.status==="refusee"||u.status==="a_declarer"||u.status==="en_cours"?s.jsx(Zm,{className:"w-4 h-4"}):s.jsx(Es,{className:"w-4 h-4"})}),(u.status==="brouillon"||u.status==="a_declarer"||u.status==="en_cours")&&s.jsx("button",{onClick:()=>o(u.id),className:"text-green-600 hover:text-green-900 p-1 hover:bg-green-50 rounded transition-colors",title:"Soumettre",children:s.jsx(jm,{className:"w-4 h-4"})}),u.status==="brouillon"&&s.jsx("button",{onClick:()=>l(u.id),className:"text-red-600 hover:text-red-900 p-1 hover:bg-red-50 rounded transition-colors",title:"Supprimer",disabled:r.isPending,children:s.jsx(da,{className:"w-4 h-4"})})]})})]}),u.status==="en_cours"&&u.rejection_reason&&s.jsx("tr",{children:s.jsx("td",{colSpan:6,className:"px-6 py-3 bg-yellow-50 border-l-4 border-yellow-400",children:s.jsxs("div",{className:"flex items-start gap-2",children:[s.jsx(un,{className:"w-5 h-5 text-yellow-600 flex-shrink-0 mt-0.5"}),s.jsxs("div",{children:[s.jsx("p",{className:"text-sm font-semibold text-yellow-900",children:"Modifications demandes par l'administrateur"}),s.jsx("p",{className:"text-sm text-yellow-800 mt-1",children:u.rejection_reason})]})]})})})]},u.id))})]})})})]}),a&&s.jsx(cie,{onClose:()=>i(!1)})]})},fie=()=>{const{id:e}=Ho(),t=Pn(),{data:r,isLoading:n}=eie(e||""),a=yL(),i=bL(),[l,o]=C.useState([]),[f,u]=C.useState({}),[h,p]=C.useState({}),[g,x]=C.useState(null),[b,y]=C.useState({width:1200,height:800}),w=r?.status!=="brouillon"&&r?.status!=="refusee"&&r?.status!=="en_cours"&&r?.status!=="a_declarer";C.useEffect(()=>{if(r?.template_data)try{const T=JSON.parse(r.template_data);T.fields&&T.fields.length>0&&o(T.fields),T.canvasSize&&y(T.canvasSize)}catch(T){console.error("Error parsing template:",T)}if(r?.form_data)try{const T=JSON.parse(r.form_data);u(T)}catch(T){console.error("Error parsing form data:",T)}},[r]),C.useEffect(()=>{const T=C3(l,f);p(T)},[f,l]);const _=(T,B)=>{const G=l.find(z=>z.ref===T);if(!G)return;let I=B;G.type==="number"&&(I=B===""?0:parseFloat(B)||0),u(z=>({...z,[T]:I}))},E=T=>new Promise((B,G)=>{const I=new FileReader;I.readAsDataURL(T),I.onload=()=>B(I.result),I.onerror=z=>G(z)}),A=async(T,B)=>{if(!B){u(G=>({...G,[T]:[]}));return}try{const G=await E(B),I={name:B.name,size:B.size,type:B.type,data:G,uploadedAt:new Date().toISOString()};u(z=>{const K=Array.isArray(z[T])?z[T]:[];return{...z,[T]:[...K,I]}})}catch(G){console.error("Error converting file to base64:",G),alert("Erreur lors du traitement du fichier")}},O=(T,B)=>{u(G=>{const z=(Array.isArray(G[T])?G[T]:[]).filter((K,J)=>J!==B);return{...G,[T]:z}})},D=async()=>{if(e)try{await a.mutateAsync({id:e,form_data:f}),x("Brouillon sauvegard avec succs!"),setTimeout(()=>x(null),3e3)}catch(T){console.error("Error saving declaration:",T),alert("Erreur lors de la sauvegarde")}},R=async()=>{if(e&&window.confirm("Voulez-vous soumettre cette dclaration pour validation ? Vous ne pourrez plus la modifier aprs soumission."))try{await a.mutateAsync({id:e,form_data:f}),await i.mutateAsync(e),t("/professor/declarations")}catch(T){console.error("Error submitting declaration:",T),alert("Erreur lors de la soumission")}},P=T=>{const B=T.layout||{x:0,y:0,w:200,h:40};if(T.visibility?.hidden)return null;if(T.type==="label")return s.jsx("div",{className:"absolute bg-gray-100 border-2 border-gray-300 rounded px-3 py-2 flex items-center font-semibold text-gray-700",style:{left:`${B.x}px`,top:`${B.y}px`,width:`${B.w}px`,height:`${B.h}px`},children:T.props.label},T.id);if(T.type==="text"){const G=f[T.ref],I=typeof G=="string"||typeof G=="number"?String(G):"";return s.jsx("div",{className:"absolute",style:{left:`${B.x}px`,top:`${B.y}px`,width:`${B.w}px`,height:`${B.h}px`},children:s.jsx("input",{type:"text",value:I,onChange:z=>_(T.ref,z.target.value),className:"w-full h-full px-3 py-2 border border-blue-300 rounded focus:ring-2 focus:ring-blue-500 focus:border-transparent disabled:bg-gray-100 disabled:cursor-not-allowed",disabled:w})},T.id)}if(T.type==="textarea"){const G=f[T.ref],I=typeof G=="string"||typeof G=="number"?String(G):"";return s.jsx("div",{className:"absolute",style:{left:`${B.x}px`,top:`${B.y}px`,width:`${B.w}px`,height:`${B.h}px`},children:s.jsx("textarea",{value:I,onChange:z=>_(T.ref,z.target.value),placeholder:T.props.label||"crivez vos commentaires ici...",className:"w-full h-full px-3 py-2 border-2 border-indigo-300 rounded focus:ring-2 focus:ring-indigo-500 focus:border-transparent resize-none disabled:bg-gray-100 disabled:cursor-not-allowed",disabled:w})},T.id)}if(T.type==="number"){const G=f[T.ref]!==void 0?f[T.ref]:T.props.default||0,I=typeof G=="number"||typeof G=="string"?G:"";return s.jsx("div",{className:"absolute",style:{left:`${B.x}px`,top:`${B.y}px`,width:`${B.w}px`,height:`${B.h}px`},children:s.jsx("input",{type:"number",step:"0.01",value:I,onChange:z=>_(T.ref,z.target.value),className:"w-full h-full px-3 py-2 border border-green-300 rounded focus:ring-2 focus:ring-green-500 focus:border-transparent disabled:bg-gray-100 disabled:cursor-not-allowed",disabled:w})},T.id)}if(T.type==="formula"){const G=h[T.ref],I=typeof G=="string"&&G.startsWith("#");return s.jsx("div",{className:"absolute flex items-center",style:{left:`${B.x}px`,top:`${B.y}px`,width:`${B.w}px`,height:`${B.h}px`},children:s.jsx("div",{className:`w-full h-full px-3 py-2 border-2 rounded font-semibold flex items-center ${I?"bg-red-50 border-red-400 text-red-700":"bg-purple-50 border-purple-400 text-purple-900"}`,children:typeof G=="number"?G.toFixed(T.props.decimals||2):String(G||"0")})},T.id)}if(T.type==="frame")return s.jsx("div",{className:"absolute border-2 border-orange-400 rounded-lg bg-orange-50/30",style:{left:`${B.x}px`,top:`${B.y}px`,width:`${B.w}px`,height:`${B.h}px`},children:s.jsx("div",{className:"bg-orange-500 text-white px-3 py-1 rounded-t font-semibold text-sm",children:T.props.label||"Cadre"})},T.id);if(T.type==="file"){const G=Array.isArray(f[T.ref])?f[T.ref]:[],I=G&&G.length>0;return s.jsx("div",{className:"absolute",style:{left:`${B.x}px`,top:`${B.y}px`,width:`${B.w}px`,height:`${B.h}px`},children:s.jsxs("div",{className:"w-full h-full border-2 border-teal-400 bg-teal-50 rounded px-3 py-2 flex flex-col gap-2 overflow-y-auto",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(Zs,{className:"w-5 h-5 text-teal-600"}),s.jsxs("span",{className:"text-sm font-medium text-teal-900",children:[T.props.label||"Pices jointes"," (",G.length,")"]})]}),!w&&s.jsxs("label",{className:"cursor-pointer px-2 py-1 bg-teal-600 hover:bg-teal-700 text-white rounded text-xs font-medium transition-colors",children:["+ Ajouter",s.jsx("input",{type:"file",accept:T.props.accept,onChange:z=>{const K=z.target.files?.[0];if(K){const J=(T.props.maxSize||5)*1024*1024;if(K.size>J){alert(`Le fichier est trop volumineux. Taille maximum: ${T.props.maxSize||5} MB`);return}A(T.ref,K)}z.target.value=""},className:"hidden"})]})]}),I?s.jsx("div",{className:"space-y-1 flex-1 overflow-y-auto",children:G.map((z,K)=>s.jsxs("div",{className:"flex items-center justify-between gap-2 p-2 bg-white rounded border border-teal-200",children:[s.jsxs("div",{className:"flex-1 min-w-0",children:[s.jsx("div",{className:"text-xs font-medium text-teal-900 truncate",children:z.name}),s.jsxs("div",{className:"text-xs text-teal-600",children:[(z.size/1024/1024).toFixed(2)," MB"]})]}),s.jsxs("div",{className:"flex gap-1",children:[s.jsx("button",{onClick:()=>{const J=atob(z.data.split(",")[1]),pe=z.data.split(",")[0].split(":")[1].split(";")[0],ne=new ArrayBuffer(J.length),le=new Uint8Array(ne);for(let te=0;te<J.length;te++)le[te]=J.charCodeAt(te);const ve=new Blob([ne],{type:pe}),ue=URL.createObjectURL(ve),je=document.createElement("a");je.href=ue,je.download=z.name,je.click(),URL.revokeObjectURL(ue)},className:"p-1 hover:bg-teal-200 rounded transition-colors",title:"Tlcharger",children:s.jsx(Ss,{className:"w-3 h-3 text-teal-700"})}),!w&&s.jsx("button",{onClick:()=>O(T.ref,K),className:"p-1 hover:bg-red-200 rounded transition-colors",title:"Supprimer",children:s.jsx(rl,{className:"w-3 h-3 text-red-600"})})]})]},K))}):s.jsxs("div",{className:"flex-1 flex flex-col items-center justify-center text-center opacity-60",children:[s.jsx(vg,{className:"w-8 h-8 text-teal-600 mb-2"}),s.jsx("span",{className:"text-xs text-teal-700",children:"Aucune pice jointe"}),s.jsxs("span",{className:"text-xs text-teal-600 mt-1",children:[T.props.accept||"Tous fichiers"," (max ",T.props.maxSize||5," MB)"]})]})]})},T.id)}if(T.type==="link"){const G=f[T.ref]||"",I=G&&G.trim()!==""&&(G.startsWith("http://")||G.startsWith("https://"));return s.jsx("div",{className:"absolute",style:{left:`${B.x}px`,top:`${B.y}px`,width:`${B.w}px`,height:`${B.h}px`},children:s.jsxs("div",{className:"w-full h-full border-2 border-cyan-400 bg-cyan-50 rounded px-3 py-2 flex items-center gap-2",children:[s.jsx(Wv,{className:"w-5 h-5 text-cyan-600 flex-shrink-0"}),s.jsxs("div",{className:"flex-1 min-w-0",children:[s.jsx("label",{className:"block text-xs font-medium text-cyan-700 mb-1",children:T.props.label||"Lien"}),s.jsx("input",{type:"url",value:G,onChange:z=>_(T.ref,z.target.value),disabled:w,placeholder:"https://exemple.com",className:`w-full px-2 py-1 text-sm border rounded focus:outline-none focus:ring-2 focus:ring-cyan-500 ${w?"bg-gray-100 border-gray-300 text-gray-600 cursor-not-allowed":"bg-white border-cyan-300 text-cyan-900"}`})]}),I&&s.jsx("button",{onClick:()=>window.open(G,"_blank","noopener,noreferrer"),className:"p-2 bg-cyan-600 hover:bg-cyan-700 text-white rounded transition-colors flex-shrink-0",title:"Ouvrir le lien",children:s.jsx(r2,{className:"w-4 h-4"})})]})},T.id)}return null};return n?s.jsx("div",{className:"min-h-screen flex items-center justify-center",children:s.jsxs("div",{className:"text-center",children:[s.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-600 mx-auto mb-4"}),s.jsx("p",{className:"text-gray-600",children:"Chargement de la dclaration..."})]})}):r?s.jsxs("div",{className:"min-h-screen bg-gray-50",children:[s.jsx("div",{className:"bg-white border-b border-gray-200 px-6 py-4",children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{className:"flex items-center gap-4",children:[s.jsx(Ma,{to:"/professor/declarations",className:"p-2 hover:bg-gray-100 rounded-lg transition-colors",title:"Retour  la liste",children:s.jsx(ea,{className:"w-6 h-6 text-gray-600"})}),s.jsxs("div",{children:[s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:r.sheet_title}),s.jsx(T3,{status:r.status}),w&&s.jsxs("span",{className:"px-3 py-1 bg-gray-100 text-gray-700 rounded-full text-xs font-medium flex items-center gap-1",children:[s.jsx(Vs,{className:"w-3 h-3"}),"Lecture seule"]})]}),s.jsxs("div",{className:"text-sm text-gray-500 mt-1",children:[r.segment_name,"  ",r.city_name,"  Du"," ",new Date(r.start_date).toLocaleDateString("fr-FR")," au"," ",new Date(r.end_date).toLocaleDateString("fr-FR")]})]})]}),s.jsxs("div",{className:"flex items-center gap-3",children:[g&&s.jsx("div",{className:"flex items-center gap-2 bg-green-100 text-green-800 px-4 py-2 rounded-lg",children:s.jsx("span",{className:"text-sm font-medium",children:g})}),!w&&s.jsxs(s.Fragment,{children:[s.jsxs("button",{onClick:D,className:"px-4 py-2 bg-gray-600 hover:bg-gray-700 text-white rounded-lg transition-colors flex items-center gap-2",disabled:a.isPending,children:[s.jsx(Jm,{className:"w-5 h-5"}),"Sauvegarder"]}),s.jsxs("button",{onClick:R,className:"px-4 py-2 bg-green-600 hover:bg-green-700 text-white rounded-lg transition-colors flex items-center gap-2",disabled:i.isPending,children:[s.jsx(jm,{className:"w-5 h-5"}),"Soumettre"]})]})]})]})}),r.status==="a_declarer"&&s.jsx("div",{className:"bg-orange-50 border-b border-orange-200 px-6 py-4",children:s.jsxs("div",{className:"flex items-start gap-2",children:[s.jsx(un,{className:"w-5 h-5 text-orange-500 flex-shrink-0 mt-0.5"}),s.jsxs("div",{children:[s.jsx("p",{className:"text-sm font-semibold text-orange-800",children:"Fiche assigne par un grant"}),s.jsx("p",{className:"text-sm text-orange-700 mt-1",children:"Cette fiche de session vous a t assigne. Veuillez la remplir et la soumettre."})]})]})}),r.rejection_reason&&s.jsx("div",{className:"bg-red-50 border-b border-red-200 px-6 py-4",children:s.jsxs("div",{className:"flex items-start gap-2",children:[s.jsx(un,{className:"w-5 h-5 text-red-500 flex-shrink-0 mt-0.5"}),s.jsxs("div",{children:[s.jsx("p",{className:"text-sm font-semibold text-red-800",children:"Dclaration refuse"}),s.jsx("p",{className:"text-sm text-red-700 mt-1",children:r.rejection_reason})]})]})}),s.jsx("div",{className:"p-4",children:s.jsx("div",{className:"bg-white rounded-lg shadow-sm overflow-auto",children:s.jsx("div",{className:"relative bg-white",style:{width:`${b.width}px`,minHeight:`${b.height}px`},children:l.map(T=>P(T))})})})]}):s.jsx("div",{className:"min-h-screen flex items-center justify-center",children:s.jsxs("div",{className:"text-center",children:[s.jsx(un,{className:"w-16 h-16 text-red-400 mx-auto mb-4"}),s.jsx("h2",{className:"text-xl font-semibold text-gray-700 mb-2",children:"Dclaration introuvable"}),s.jsxs(Ma,{to:"/professor/declarations",className:"inline-flex items-center gap-2 px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700",children:[s.jsx(ea,{className:"w-4 h-4"}),"Retour  la liste"]})]})})};function die(){const{user:e,isAdmin:t}=Ni();return hr({queryKey:["gerant-segments",e?.id],queryFn:async()=>{if(!e?.id)return[];const r=await Ud.getAll();if(t)return r;const n=await ao.getById(e.id);return!n||!n.segment_ids?[]:r.filter(a=>n.segment_ids?.includes(a.id))},enabled:!!e?.id})}function hie(){const{user:e,isAdmin:t}=Ni();return hr({queryKey:["gerant-cities",e?.id],queryFn:async()=>{if(!e?.id)return[];const r=await jc.getAll();if(t)return r;const n=await ao.getById(e.id);return!n||!n.city_ids?[]:r.filter(a=>n.city_ids?.includes(a.id))},enabled:!!e?.id})}function mie(){return hr({queryKey:["gerant-declarations"],queryFn:async()=>(await zi.getAll()).filter(t=>t.status==="a_declarer")})}function pie(e,t){return hr({queryKey:["professors-by-segment-city",e,t],queryFn:async()=>(await ao.getAll()).filter(a=>a.role==="professor").filter(a=>!(e&&!a.segment_ids?.includes(e)||t&&!a.city_ids?.includes(t))).map(a=>({id:a.id,full_name:a.full_name,username:a.username})),enabled:!!e||!!t})}function xie(e){return hr({queryKey:["published-sheets-segment",e],queryFn:async()=>(await Ac.getAll()).filter(r=>!(r.status!=="published"||e&&r.segment_ids&&!r.segment_ids.includes(e))).map(r=>({id:r.id,title:r.title,template_data:r.template_data,sheet_date:r.sheet_date})),enabled:!!e})}function gie(){const e=Ut();return Ht({mutationFn:async t=>{const r=Bd();return zi.create({id:r,...t,form_data:"{}",status:"a_declarer"})},onSuccess:()=>{e.invalidateQueries({queryKey:["gerant-declarations"]}),e.invalidateQueries({queryKey:["professor-declarations"]})}})}const vie=()=>{const{data:e,isLoading:t}=mie(),[r,n]=C.useState("all"),a=e?.filter(o=>r==="all"?!0:o.status===r),i={total:e?.length||0,a_declarer:e?.filter(o=>o.status==="a_declarer").length||0,soumise:e?.filter(o=>o.status==="soumise").length||0,en_cours:e?.filter(o=>o.status==="en_cours").length||0,approuvee:e?.filter(o=>o.status==="approuvee").length||0,refusee:e?.filter(o=>o.status==="refusee").length||0},l=[{label:"Toutes",value:"all",count:i.total},{label:" dclarer",value:"a_declarer",count:i.a_declarer},{label:"Soumises",value:"soumise",count:i.soumise},{label:"En cours",value:"en_cours",count:i.en_cours},{label:"Approuves",value:"approuvee",count:i.approuvee},{label:"Refuses",value:"refusee",count:i.refusee}];return t?s.jsx("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center",children:s.jsx("div",{className:"text-lg text-gray-600",children:"Chargement..."})}):s.jsxs("div",{className:"min-h-screen bg-gray-50",children:[s.jsx("header",{className:"bg-white shadow-sm",children:s.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-4",children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{className:"flex items-center gap-4",children:[s.jsx(Ma,{to:"/dashboard",children:s.jsxs(rt,{variant:"outline",size:"sm",children:[s.jsx(ea,{className:"w-4 h-4 mr-2"}),"Retour"]})}),s.jsxs("div",{children:[s.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"Mes Dclarations Cres"}),s.jsx("p",{className:"text-sm text-gray-600",children:"Suivez les dclarations que vous avez assignes aux professeurs"})]})]}),s.jsx(Ma,{to:"/gerant/create-declaration",children:s.jsxs(rt,{children:[s.jsx(IN,{className:"w-4 h-4 mr-2"}),"Crer une dclaration"]})})]})})}),s.jsxs("main",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:[s.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-3 lg:grid-cols-6 gap-4 mb-6",children:[s.jsx(hn,{children:s.jsx(mn,{className:"pt-6",children:s.jsxs("div",{className:"text-center",children:[s.jsx("p",{className:"text-2xl font-bold text-gray-900",children:i.total}),s.jsx("p",{className:"text-xs text-gray-600 mt-1",children:"Total"})]})})}),s.jsx(hn,{children:s.jsx(mn,{className:"pt-6",children:s.jsxs("div",{className:"text-center",children:[s.jsx("p",{className:"text-2xl font-bold text-orange-600",children:i.a_declarer}),s.jsx("p",{className:"text-xs text-gray-600 mt-1",children:" dclarer"})]})})}),s.jsx(hn,{children:s.jsx(mn,{className:"pt-6",children:s.jsxs("div",{className:"text-center",children:[s.jsx("p",{className:"text-2xl font-bold text-blue-600",children:i.soumise}),s.jsx("p",{className:"text-xs text-gray-600 mt-1",children:"Soumises"})]})})}),s.jsx(hn,{children:s.jsx(mn,{className:"pt-6",children:s.jsxs("div",{className:"text-center",children:[s.jsx("p",{className:"text-2xl font-bold text-yellow-600",children:i.en_cours}),s.jsx("p",{className:"text-xs text-gray-600 mt-1",children:"En cours"})]})})}),s.jsx(hn,{children:s.jsx(mn,{className:"pt-6",children:s.jsxs("div",{className:"text-center",children:[s.jsx("p",{className:"text-2xl font-bold text-green-600",children:i.approuvee}),s.jsx("p",{className:"text-xs text-gray-600 mt-1",children:"Approuves"})]})})}),s.jsx(hn,{children:s.jsx(mn,{className:"pt-6",children:s.jsxs("div",{className:"text-center",children:[s.jsx("p",{className:"text-2xl font-bold text-red-600",children:i.refusee}),s.jsx("p",{className:"text-xs text-gray-600 mt-1",children:"Refuses"})]})})})]}),s.jsx("div",{className:"bg-white rounded-lg shadow p-4 mb-6",children:s.jsx("div",{className:"flex flex-wrap gap-2",children:l.map(o=>s.jsxs(rt,{variant:r===o.value?"default":"outline",size:"sm",onClick:()=>n(o.value),children:[o.label," (",o.count,")"]},o.value))})}),s.jsx("div",{className:"bg-white rounded-lg shadow",children:a&&a.length>0?s.jsx("div",{className:"overflow-x-auto",children:s.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[s.jsx("thead",{className:"bg-gray-50",children:s.jsxs("tr",{children:[s.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Professeur"}),s.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Segment"}),s.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Ville"}),s.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Fiche de calcul"}),s.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Dates"}),s.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Statut"}),s.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Date cration"})]})}),s.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:a.map(o=>s.jsxs("tr",{className:"hover:bg-gray-50",children:[s.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-medium text-gray-900",children:o.professor_name||"N/A"}),s.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:o.segment_name||"N/A"}),s.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:o.city_name||"N/A"}),s.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:o.sheet_title||"N/A"}),s.jsxs("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:[new Date(o.start_date).toLocaleDateString("fr-FR")," - ",new Date(o.end_date).toLocaleDateString("fr-FR")]}),s.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:s.jsx(T3,{status:o.status})}),s.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:new Date(o.created_at).toLocaleDateString("fr-FR")})]},o.id))})]})}):s.jsx("div",{className:"text-center py-12",children:s.jsx("p",{className:"text-gray-500",children:"Aucune dclaration trouve."})})})]})]})},Uk=()=>{const e=Pn(),{isAdmin:t}=Ni(),{data:r,isLoading:n}=die(),{data:a,isLoading:i}=hie(),[l,o]=C.useState(""),[f,u]=C.useState(""),[h,p]=C.useState(""),[g,x]=C.useState(""),[b,y]=C.useState(""),[w,_]=C.useState(null),E=t?"/admin/declarations":"/gerant/declarations",A=a?.filter(I=>I.segment_id===l)||[],{data:O,isLoading:D}=pie(l,f),{data:R,isLoading:P}=xie(l),T=R&&R.length>0?R[0]:null,B=gie();C.useEffect(()=>{u(""),p("")},[l]),C.useEffect(()=>{p("")},[f]);const G=async I=>{if(I.preventDefault(),_(null),!l){_("Veuillez slectionner un segment");return}if(!f){_("Veuillez slectionner une ville");return}if(!T){_("Aucune fiche de calcul publie pour ce segment");return}if(!h){_("Veuillez slectionner un professeur");return}if(!g||!b){_("Veuillez renseigner les dates de session");return}if(new Date(g)>new Date(b)){_("La date de dbut doit tre antrieure  la date de fin");return}try{await B.mutateAsync({professor_id:h,calculation_sheet_id:T.id,segment_id:l,city_id:f,start_date:g,end_date:b}),e(E)}catch(z){console.error("Error creating declaration:",z),_("Erreur lors de la cration de la dclaration")}};return n||i?s.jsx("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center",children:s.jsx("div",{className:"text-lg text-gray-600",children:"Chargement..."})}):!r||r.length===0?s.jsxs("div",{className:"min-h-screen bg-gray-50",children:[s.jsx("header",{className:"bg-white shadow-sm",children:s.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-4",children:s.jsxs("div",{className:"flex items-center gap-4",children:[s.jsx(Ma,{to:"/dashboard",children:s.jsxs(rt,{variant:"outline",size:"sm",children:[s.jsx(ea,{className:"w-4 h-4 mr-2"}),"Retour"]})}),s.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"Crer une Dclaration"})]})})}),s.jsx("main",{className:"max-w-3xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:s.jsx(hn,{children:s.jsx(mn,{className:"pt-6",children:s.jsxs("div",{className:"text-center py-12",children:[s.jsx(un,{className:"w-16 h-16 text-yellow-500 mx-auto mb-4"}),s.jsx("p",{className:"text-lg text-gray-700 font-medium mb-2",children:"Aucun segment assign"}),s.jsx("p",{className:"text-sm text-gray-500",children:"Contactez un administrateur pour vous assigner des segments et villes."})]})})})})]}):s.jsxs("div",{className:"min-h-screen bg-gray-50",children:[s.jsx("header",{className:"bg-white shadow-sm",children:s.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-4",children:s.jsxs("div",{className:"flex items-center gap-4",children:[s.jsx(Ma,{to:"/dashboard",children:s.jsxs(rt,{variant:"outline",size:"sm",children:[s.jsx(ea,{className:"w-4 h-4 mr-2"}),"Retour"]})}),s.jsxs("div",{children:[s.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"Crer une Dclaration"}),s.jsx("p",{className:"text-sm text-gray-600",children:"Assigner une fiche de session  un professeur"})]})]})})}),s.jsx("main",{className:"max-w-3xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:s.jsxs("form",{onSubmit:G,children:[s.jsxs(hn,{children:[s.jsx(cf,{children:s.jsx(uf,{children:"Informations de la dclaration"})}),s.jsxs(mn,{className:"space-y-6",children:[w&&s.jsxs("div",{className:"bg-red-50 border border-red-200 rounded-lg p-4 flex items-start gap-3",children:[s.jsx(un,{className:"w-5 h-5 text-red-600 flex-shrink-0 mt-0.5"}),s.jsx("p",{className:"text-sm text-red-800",children:w})]}),s.jsxs("div",{children:[s.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:["Segment ",s.jsx("span",{className:"text-red-500",children:"*"})]}),s.jsxs("select",{value:l,onChange:I=>o(I.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",required:!0,children:[s.jsx("option",{value:"",children:"Slectionnez un segment"}),r?.map(I=>s.jsx("option",{value:I.id,children:I.name},I.id))]})]}),l&&s.jsxs("div",{children:[s.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:["Ville ",s.jsx("span",{className:"text-red-500",children:"*"})]}),A.length>0?s.jsxs("select",{value:f,onChange:I=>u(I.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",required:!0,children:[s.jsx("option",{value:"",children:"Slectionnez une ville"}),A.map(I=>s.jsx("option",{value:I.id,children:I.name},I.id))]}):s.jsx("div",{className:"bg-yellow-50 border border-yellow-200 rounded-lg p-4",children:s.jsx("p",{className:"text-sm text-yellow-800",children:"Aucune ville assigne pour ce segment. Contactez un administrateur."})})]}),l&&f&&s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Fiche de calcul"}),P?s.jsx("div",{className:"text-sm text-gray-500",children:"Chargement..."}):T?s.jsxs("div",{className:"bg-blue-50 border border-blue-200 rounded-lg p-4",children:[s.jsx("p",{className:"text-sm font-medium text-blue-900",children:T.title}),s.jsxs("p",{className:"text-xs text-blue-700 mt-1",children:["Date: ",T.sheet_date]})]}):s.jsx("div",{className:"bg-red-50 border border-red-200 rounded-lg p-4",children:s.jsx("p",{className:"text-sm text-red-800",children:" Aucune fiche de calcul publie pour ce segment"})})]}),l&&f&&T&&s.jsxs("div",{children:[s.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:["Professeur ",s.jsx("span",{className:"text-red-500",children:"*"})]}),D?s.jsx("div",{className:"text-sm text-gray-500",children:"Chargement des professeurs..."}):O&&O.length>0?s.jsxs("select",{value:h,onChange:I=>p(I.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",required:!0,children:[s.jsx("option",{value:"",children:"Slectionnez un professeur"}),O.map(I=>s.jsxs("option",{value:I.id,children:[I.full_name," (",I.username,")"]},I.id))]}):s.jsx("div",{className:"bg-yellow-50 border border-yellow-200 rounded-lg p-4",children:s.jsx("p",{className:"text-sm text-yellow-800",children:"Aucun professeur n'a  la fois ce segment et cette ville assigns."})})]}),h&&s.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[s.jsxs("div",{children:[s.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:["Date de dbut ",s.jsx("span",{className:"text-red-500",children:"*"})]}),s.jsx("input",{type:"date",value:g,onChange:I=>x(I.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",required:!0})]}),s.jsxs("div",{children:[s.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:["Date de fin ",s.jsx("span",{className:"text-red-500",children:"*"})]}),s.jsx("input",{type:"date",value:b,onChange:I=>y(I.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",required:!0})]})]})]})]}),s.jsxs("div",{className:"mt-6 flex gap-3 justify-end",children:[s.jsx(Ma,{to:E,children:s.jsx(rt,{type:"button",variant:"outline",children:"Annuler"})}),s.jsxs(rt,{type:"submit",disabled:!l||!f||!h||!g||!b||!T||B.isPending,children:[s.jsx(Jm,{className:"w-4 h-4 mr-2"}),B.isPending?"Cration...":"Crer la dclaration"]})]})]})})]})},Nf={getSessions:()=>st.get("/formations/sessions"),getSession:e=>st.get(`/formations/sessions/${e}`),createSession:e=>st.post("/formations/sessions",e),updateSession:(e,t)=>st.put(`/formations/sessions/${e}`,t),deleteSession:e=>st.delete(`/formations/sessions/${e}`),getSessionStudents:e=>st.get(`/formations/sessions/${e}/students`),enrollStudents:(e,t)=>st.post(`/formations/sessions/${e}/enroll`,t),unenrollStudent:(e,t)=>st.delete(`/formations/sessions/${e}/enroll/${t}`),getAvailableStudents:e=>{const t=e?`?session_id=${e}`:"";return st.get(`/formations/available-students${t}`)},getStats:()=>st.get("/formations/stats")},zn={all:["formations"],sessions:()=>[...zn.all,"sessions"],session:e=>[...zn.all,"session",e],sessionStudents:e=>[...zn.all,"session",e,"students"],availableStudents:e=>[...zn.all,"available-students",e||"all"],stats:()=>[...zn.all,"stats"]};function wL(){return hr({queryKey:zn.sessions(),queryFn:Nf.getSessions})}function yie(e){return hr({queryKey:zn.session(e),queryFn:()=>Nf.getSession(e),enabled:!!e})}function bie(e){return hr({queryKey:zn.availableStudents(e),queryFn:()=>Nf.getAvailableStudents(e)})}function wie(){return hr({queryKey:zn.stats(),queryFn:Nf.getStats})}function _ie(){const e=Ut();return Ht({mutationFn:t=>Nf.createSession(t),onSuccess:()=>{e.invalidateQueries({queryKey:zn.sessions()}),e.invalidateQueries({queryKey:zn.stats()})}})}function Nie(){const e=Ut();return Ht({mutationFn:({id:t,data:r})=>Nf.updateSession(t,r),onSuccess:(t,r)=>{e.invalidateQueries({queryKey:zn.sessions()}),e.invalidateQueries({queryKey:zn.session(r.id)}),e.invalidateQueries({queryKey:zn.stats()})}})}function Sie(){const e=Ut();return Ht({mutationFn:t=>Nf.deleteSession(t),onSuccess:()=>{e.invalidateQueries({queryKey:zn.sessions()}),e.invalidateQueries({queryKey:zn.stats()})}})}function jie(){const e=Ut();return Ht({mutationFn:({sessionId:t,data:r})=>Nf.enrollStudents(t,r),onSuccess:(t,r)=>{e.invalidateQueries({queryKey:zn.session(r.sessionId)}),e.invalidateQueries({queryKey:zn.sessionStudents(r.sessionId)}),e.invalidateQueries({queryKey:zn.sessions()}),e.invalidateQueries({queryKey:zn.availableStudents()}),e.invalidateQueries({queryKey:zn.stats()})}})}function Aie(){const e=Ut();return Ht({mutationFn:({sessionId:t,studentId:r})=>Nf.unenrollStudent(t,r),onSuccess:(t,r)=>{e.invalidateQueries({queryKey:zn.session(r.sessionId)}),e.invalidateQueries({queryKey:zn.sessionStudents(r.sessionId)}),e.invalidateQueries({queryKey:zn.sessions()}),e.invalidateQueries({queryKey:zn.availableStudents()}),e.invalidateQueries({queryKey:zn.stats()})}})}const Os={getFormations:()=>st.get("/cours/formations"),getFormation:e=>st.get(`/cours/formations/${e}`),createFormation:e=>st.post("/cours/formations",e),updateFormation:(e,t)=>st.put(`/cours/formations/${e}`,t),deleteFormation:e=>st.delete(`/cours/formations/${e}`),getModules:e=>st.get(`/cours/formations/${e}/modules`),createModule:(e,t)=>st.post(`/cours/formations/${e}/modules`,t),updateModule:(e,t)=>st.put(`/cours/modules/${e}`,t),deleteModule:e=>st.delete(`/cours/modules/${e}`),reorderModule:(e,t)=>st.put(`/cours/modules/${e}/reorder`,{new_order_index:t}),createVideo:(e,t)=>st.post(`/cours/modules/${e}/videos`,t),updateVideo:(e,t)=>st.put(`/cours/videos/${e}`,t),deleteVideo:e=>st.delete(`/cours/videos/${e}`),createTest:(e,t)=>st.post(`/cours/modules/${e}/tests`,t),getTest:e=>st.get(`/cours/tests/${e}`),updateTest:(e,t)=>st.put(`/cours/tests/${e}`,t),deleteTest:e=>st.delete(`/cours/tests/${e}`),createQuestion:(e,t)=>st.post(`/cours/tests/${e}/questions`,t),updateQuestion:(e,t)=>st.put(`/cours/questions/${e}`,t),deleteQuestion:e=>st.delete(`/cours/questions/${e}`),createChoice:(e,t)=>st.post(`/cours/questions/${e}/choices`,t),updateChoice:(e,t)=>st.put(`/cours/choices/${e}`,t),deleteChoice:e=>st.delete(`/cours/choices/${e}`),getStats:()=>st.get("/cours/stats")},Qr={all:["cours"],formations:()=>[...Qr.all,"formations"],formation:e=>[...Qr.formations(),e],modules:e=>[...Qr.all,"modules",e],test:e=>[...Qr.all,"test",e],stats:()=>[...Qr.all,"stats"]};function Eg(){return hr({queryKey:Qr.formations(),queryFn:()=>Os.getFormations()})}function sp(e){return hr({queryKey:Qr.formation(e),queryFn:()=>Os.getFormation(e),enabled:!!e})}function Eie(){const e=Ut();return Ht({mutationFn:t=>Os.createFormation(t),onSuccess:()=>{e.invalidateQueries({queryKey:Qr.formations()}),e.invalidateQueries({queryKey:Qr.stats()})}})}function kie(){const e=Ut();return Ht({mutationFn:({id:t,data:r})=>Os.updateFormation(t,r),onSuccess:(t,{id:r})=>{e.invalidateQueries({queryKey:Qr.formations()}),e.invalidateQueries({queryKey:Qr.formation(r)})}})}function Cie(){const e=Ut();return Ht({mutationFn:t=>Os.deleteFormation(t),onSuccess:()=>{e.invalidateQueries({queryKey:Qr.formations()}),e.invalidateQueries({queryKey:Qr.stats()})}})}function Tie(){const e=Ut();return Ht({mutationFn:({formationId:t,data:r})=>Os.createModule(t,r),onSuccess:(t,{formationId:r})=>{e.invalidateQueries({queryKey:Qr.modules(r)}),e.invalidateQueries({queryKey:Qr.formation(r)}),e.invalidateQueries({queryKey:Qr.stats()})}})}function Oie(){const e=Ut();return Ht({mutationFn:({id:t,data:r})=>Os.updateModule(t,r),onSuccess:t=>{e.invalidateQueries({queryKey:Qr.modules(t.formation_id)}),e.invalidateQueries({queryKey:Qr.formation(t.formation_id)})}})}function Die(){const e=Ut();return Ht({mutationFn:t=>Os.deleteModule(t),onSuccess:t=>{const r=t.module.formation_id;e.invalidateQueries({queryKey:Qr.modules(r)}),e.invalidateQueries({queryKey:Qr.formation(r)}),e.invalidateQueries({queryKey:Qr.stats()})}})}function Pie(){const e=Ut();return Ht({mutationFn:({moduleId:t,data:r})=>Os.createVideo(t,r),onSuccess:()=>{e.invalidateQueries({queryKey:Qr.all})}})}function Fie(){const e=Ut();return Ht({mutationFn:({id:t,data:r})=>Os.updateVideo(t,r),onSuccess:()=>{e.invalidateQueries({queryKey:Qr.all})}})}function Lie(){const e=Ut();return Ht({mutationFn:t=>Os.deleteVideo(t),onSuccess:()=>{e.invalidateQueries({queryKey:Qr.all}),e.invalidateQueries({queryKey:Qr.stats()})}})}function Mie(){const e=Ut();return Ht({mutationFn:({moduleId:t,data:r})=>Os.createTest(t,r),onSuccess:()=>{e.invalidateQueries({queryKey:Qr.all}),e.invalidateQueries({queryKey:Qr.stats()})}})}function Rie(){const e=Ut();return Ht({mutationFn:t=>Os.deleteTest(t),onSuccess:()=>{e.invalidateQueries({queryKey:Qr.all}),e.invalidateQueries({queryKey:Qr.stats()})}})}function Iie(){const e=Ut();return Ht({mutationFn:({testId:t,data:r})=>Os.createQuestion(t,r),onSuccess:t=>{e.invalidateQueries({queryKey:Qr.test(t.test_id)}),e.invalidateQueries({queryKey:Qr.all})}})}function Bie(){const e=Ut();return Ht({mutationFn:({questionId:t,data:r})=>Os.createChoice(t,r),onSuccess:()=>{e.invalidateQueries({queryKey:Qr.all})}})}function Uie(){return hr({queryKey:Qr.stats(),queryFn:()=>Os.getStats()})}const zk=({session:e,onClose:t})=>{const r=!!e,n=_ie(),a=Nie(),{data:i=[]}=zd(),{data:l=[]}=ip(),{data:o=[]}=Eg(),[f,u]=C.useState({name:e?.name||"",description:e?.description||"",formation_id:e?.formation_id||"",start_date:e?.start_date?e.start_date.split("T")[0]:"",end_date:e?.end_date?e.end_date.split("T")[0]:"",segment_id:e?.segment_id||"",city_id:e?.city_id||"",instructor_id:e?.instructor_id||"",max_capacity:e?.max_capacity?.toString()||"",status:e?.status||"planned"}),[h,p]=C.useState({}),[g,x]=C.useState(!1),b=C.useMemo(()=>f.segment_id?l.filter(_=>_.segment_id===f.segment_id):l,[l,f.segment_id]),y=()=>{const _={};return f.name.trim()||(_.name="Le nom est obligatoire"),f.start_date||(_.start_date="La date de dbut est obligatoire"),f.end_date||(_.end_date="La date de fin est obligatoire"),f.start_date&&f.end_date&&f.start_date>f.end_date&&(_.end_date="La date de fin doit tre aprs la date de dbut"),f.max_capacity&&parseInt(f.max_capacity)<1&&(_.max_capacity="La capacit doit tre suprieure  0"),p(_),Object.keys(_).length===0},w=async _=>{if(_.preventDefault(),!!y()){x(!0);try{const E={name:f.name.trim(),description:f.description.trim()||void 0,formation_id:f.formation_id||void 0,start_date:f.start_date,end_date:f.end_date,segment_id:f.segment_id||void 0,city_id:f.city_id||void 0,instructor_id:f.instructor_id||void 0,max_capacity:f.max_capacity?parseInt(f.max_capacity):void 0,status:f.status};r&&e?await a.mutateAsync({id:e.id,data:E}):await n.mutateAsync(E),t()}catch(E){console.error("Error saving session:",E),p({submit:E.message||"Erreur lors de l'enregistrement"})}finally{x(!1)}}};return s.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center p-4 z-50",children:s.jsxs("div",{className:"bg-white rounded-lg shadow-xl max-w-2xl w-full max-h-[90vh] overflow-y-auto",children:[s.jsxs("div",{className:"flex items-center justify-between p-6 border-b",children:[s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx("div",{className:"p-2 bg-blue-100 rounded-lg",children:s.jsx(ns,{className:"h-5 w-5 text-blue-600"})}),s.jsxs("div",{children:[s.jsx("h2",{className:"text-xl font-semibold text-gray-900",children:r?"Modifier la session":"Nouvelle session"}),s.jsx("p",{className:"text-sm text-gray-500 mt-0.5",children:r?"Mettez  jour les informations de la session":"Crez une nouvelle session de formation"})]})]}),s.jsx(rt,{variant:"ghost",size:"icon",onClick:t,children:s.jsx(rl,{className:"h-5 w-5"})})]}),s.jsxs("form",{onSubmit:w,className:"p-6 space-y-6",children:[h.submit&&s.jsxs("div",{className:"bg-red-50 border border-red-200 rounded-lg p-4 flex items-start gap-3",children:[s.jsx(un,{className:"h-5 w-5 text-red-600 flex-shrink-0 mt-0.5"}),s.jsx("p",{className:"text-sm text-red-700",children:h.submit})]}),s.jsxs("div",{children:[s.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:["Nom de la session ",s.jsx("span",{className:"text-red-500",children:"*"})]}),s.jsx(Ks,{value:f.name,onChange:_=>u({...f,name:_.target.value}),placeholder:"Ex: Formation React Avanc",className:h.name?"border-red-300":""}),h.name&&s.jsx("p",{className:"text-xs text-red-600 mt-1",children:h.name})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Description"}),s.jsx("textarea",{value:f.description,onChange:_=>u({...f,description:_.target.value}),placeholder:"Description de la session...",rows:3,className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent text-sm"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Formation"}),s.jsxs("select",{value:f.formation_id,onChange:_=>u({...f,formation_id:_.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent text-sm",children:[s.jsx("option",{value:"",children:"Slectionner une formation"}),o.map(_=>s.jsx("option",{value:_.id,children:_.title},_.id))]}),s.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"Optionnel - Liez cette session  une formation spcifique"})]}),s.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Segment"}),s.jsxs("select",{value:f.segment_id,onChange:_=>{u({...f,segment_id:_.target.value,city_id:""})},className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent text-sm",children:[s.jsx("option",{value:"",children:"Slectionner un segment"}),i.map(_=>s.jsx("option",{value:_.id,children:_.name},_.id))]})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Ville"}),s.jsxs("select",{value:f.city_id,onChange:_=>u({...f,city_id:_.target.value}),disabled:!f.segment_id,className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent text-sm disabled:bg-gray-100 disabled:cursor-not-allowed",children:[s.jsx("option",{value:"",children:"Slectionner une ville"}),b.map(_=>s.jsx("option",{value:_.id,children:_.name},_.id))]}),!f.segment_id&&s.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"Slectionnez d'abord un segment"})]})]}),s.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4",children:[s.jsxs("div",{children:[s.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:["Date de dbut ",s.jsx("span",{className:"text-red-500",children:"*"})]}),s.jsx(Ks,{type:"date",value:f.start_date,onChange:_=>u({...f,start_date:_.target.value}),className:h.start_date?"border-red-300":""}),h.start_date&&s.jsx("p",{className:"text-xs text-red-600 mt-1",children:h.start_date})]}),s.jsxs("div",{children:[s.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:["Date de fin ",s.jsx("span",{className:"text-red-500",children:"*"})]}),s.jsx(Ks,{type:"date",value:f.end_date,onChange:_=>u({...f,end_date:_.target.value}),className:h.end_date?"border-red-300":""}),h.end_date&&s.jsx("p",{className:"text-xs text-red-600 mt-1",children:h.end_date})]})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Capacit maximale"}),s.jsx(Ks,{type:"number",min:"1",value:f.max_capacity,onChange:_=>u({...f,max_capacity:_.target.value}),placeholder:"Laissez vide pour illimit",className:h.max_capacity?"border-red-300":""}),h.max_capacity&&s.jsx("p",{className:"text-xs text-red-600 mt-1",children:h.max_capacity})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Statut"}),s.jsxs("select",{value:f.status,onChange:_=>u({...f,status:_.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent text-sm",children:[s.jsx("option",{value:"planned",children:"Planifie"}),s.jsx("option",{value:"active",children:"Active"}),s.jsx("option",{value:"completed",children:"Termine"}),s.jsx("option",{value:"cancelled",children:"Annule"})]})]}),s.jsxs("div",{className:"flex items-center justify-end gap-3 pt-4 border-t",children:[s.jsx(rt,{type:"button",variant:"outline",onClick:t,disabled:g,children:"Annuler"}),s.jsx(rt,{type:"submit",disabled:g,className:"min-w-[100px]",children:g?s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-white"}),s.jsx("span",{children:"..."})]}):r?"Enregistrer":"Crer"})]})]})]})})},zie=({session:e,onClose:t})=>{const{data:r,isLoading:n}=yie(e.id),{data:a=[]}=bie(e.id),i=jie(),l=Aie(),[o,f]=C.useState([]),[u,h]=C.useState(""),[p,g]=C.useState(!1),[x,b]=C.useState(null),y=r?.students||[],w=a.filter(R=>R.full_name.toLowerCase().includes(u.toLowerCase())||R.username.toLowerCase().includes(u.toLowerCase())),_=async()=>{if(o.length===0){b("Veuillez slectionner au moins un tudiant");return}g(!0),b(null);try{await i.mutateAsync({sessionId:e.id,data:{student_ids:o}}),f([]),h("")}catch(R){console.error("Error enrolling students:",R),b(R.message||"Erreur lors de l'inscription des tudiants")}finally{g(!1)}},E=async(R,P)=>{if(window.confirm(`tes-vous sr de vouloir dsinscrire ${P} de cette session ?`))try{await l.mutateAsync({sessionId:e.id,studentId:R})}catch(T){console.error("Error unenrolling student:",T),b(T.message||"Erreur lors de la dsinscription")}},A=R=>{f(P=>P.includes(R)?P.filter(T=>T!==R):[...P,R])},O=R=>{const P={enrolled:{bg:"bg-blue-100",text:"text-blue-700",label:"Inscrit"},completed:{bg:"bg-green-100",text:"text-green-700",label:"Termin"},dropped:{bg:"bg-gray-100",text:"text-gray-700",label:"Abandonn"}},T=P[R]||P.enrolled;return s.jsx("span",{className:`px-2 py-1 inline-flex text-xs leading-5 font-semibold rounded-full ${T.bg} ${T.text}`,children:T.label})},D=e.max_capacity?y.length>=e.max_capacity:!1;return s.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center p-4 z-50 overflow-y-auto",children:s.jsxs("div",{className:"bg-white rounded-lg shadow-xl max-w-4xl w-full my-8",children:[s.jsxs("div",{className:"flex items-center justify-between p-6 border-b",children:[s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx(is,{className:"h-6 w-6 text-blue-600"}),s.jsxs("div",{children:[s.jsx("h2",{className:"text-xl font-semibold text-gray-900",children:"Gestion des inscriptions"}),s.jsx("p",{className:"text-sm text-gray-500 mt-1",children:e.name})]})]}),s.jsx("button",{onClick:t,className:"text-gray-400 hover:text-gray-600 transition-colors",children:s.jsx(rl,{className:"h-5 w-5"})})]}),s.jsxs("div",{className:"p-6 max-h-[calc(90vh-140px)] overflow-y-auto",children:[x&&s.jsxs("div",{className:"bg-red-50 border border-red-200 rounded-lg p-4 flex items-start gap-3 mb-6",children:[s.jsx(un,{className:"h-5 w-5 text-red-600 flex-shrink-0 mt-0.5"}),s.jsx("p",{className:"text-sm text-red-800",children:x})]}),n?s.jsx("div",{className:"flex justify-center items-center py-12",children:s.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-blue-600"})}):s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{className:"bg-gray-50 rounded-lg p-4",children:[s.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4",children:[s.jsxs("div",{children:[s.jsx("p",{className:"text-xs text-gray-500",children:"Inscrits"}),s.jsxs("p",{className:"text-lg font-semibold text-gray-900",children:[y.length,e.max_capacity&&` / ${e.max_capacity}`]})]}),s.jsxs("div",{children:[s.jsx("p",{className:"text-xs text-gray-500",children:"Formation"}),s.jsx("p",{className:"text-sm font-medium text-gray-900",children:e.formation_title||"Aucune"})]}),s.jsxs("div",{children:[s.jsx("p",{className:"text-xs text-gray-500",children:"Segment"}),s.jsx("p",{className:"text-sm font-medium text-gray-900",children:e.segment_name||"-"})]}),s.jsxs("div",{children:[s.jsx("p",{className:"text-xs text-gray-500",children:"Ville"}),s.jsx("p",{className:"text-sm font-medium text-gray-900",children:e.city_name||"-"})]})]}),D&&s.jsx("div",{className:"mt-3 bg-yellow-50 border border-yellow-200 rounded p-2",children:s.jsx("p",{className:"text-xs text-yellow-800",children:" Capacit maximale atteinte"})})]}),s.jsxs("div",{children:[s.jsxs("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:["tudiants inscrits (",y.length,")"]}),y.length===0?s.jsxs("div",{className:"text-center py-8 bg-gray-50 rounded-lg",children:[s.jsx(is,{className:"h-12 w-12 text-gray-400 mx-auto mb-3"}),s.jsx("p",{className:"text-sm text-gray-500",children:"Aucun tudiant inscrit"})]}):s.jsx("div",{className:"border rounded-lg overflow-hidden",children:s.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[s.jsx("thead",{className:"bg-gray-50",children:s.jsxs("tr",{children:[s.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase",children:"tudiant"}),s.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase",children:"Date d'inscription"}),s.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase",children:"Statut"}),s.jsx("th",{className:"px-4 py-3 text-right text-xs font-medium text-gray-500 uppercase",children:"Actions"})]})}),s.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:y.map(R=>s.jsxs("tr",{className:"hover:bg-gray-50",children:[s.jsx("td",{className:"px-4 py-3",children:s.jsxs("div",{children:[s.jsx("p",{className:"text-sm font-medium text-gray-900",children:R.student_name}),s.jsxs("p",{className:"text-xs text-gray-500",children:["@",R.student_username]})]})}),s.jsx("td",{className:"px-4 py-3 text-sm text-gray-500",children:new Date(R.enrollment_date).toLocaleDateString("fr-FR")}),s.jsx("td",{className:"px-4 py-3",children:O(R.enrollment_status)}),s.jsx("td",{className:"px-4 py-3 text-right",children:s.jsx("button",{onClick:()=>E(R.student_id,R.student_name),className:"text-red-600 hover:text-red-700 hover:bg-red-50 p-2 rounded",title:"Dsinscrire",children:s.jsx(da,{className:"h-4 w-4"})})})]},R.enrollment_id))})]})})]}),s.jsxs("div",{children:[s.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Ajouter des tudiants"}),s.jsx("div",{className:"mb-4",children:s.jsxs("div",{className:"relative",children:[s.jsx(ep,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 h-4 w-4 text-gray-400"}),s.jsx("input",{type:"text",value:u,onChange:R=>h(R.target.value),placeholder:"Rechercher un tudiant...",className:"w-full pl-10 pr-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent"})]})}),w.length===0?s.jsx("div",{className:"text-center py-8 bg-gray-50 rounded-lg",children:s.jsx("p",{className:"text-sm text-gray-500",children:u?"Aucun tudiant trouv":"Tous les tudiants sont dj inscrits"})}):s.jsx("div",{className:"border rounded-lg max-h-64 overflow-y-auto",children:s.jsx("div",{className:"divide-y divide-gray-200",children:w.map(R=>s.jsxs("label",{className:"flex items-center p-3 hover:bg-gray-50 cursor-pointer",children:[s.jsx("input",{type:"checkbox",checked:o.includes(R.id),onChange:()=>A(R.id),className:"h-4 w-4 text-blue-600 border-gray-300 rounded focus:ring-blue-500"}),s.jsxs("div",{className:"ml-3 flex-1",children:[s.jsx("p",{className:"text-sm font-medium text-gray-900",children:R.full_name}),s.jsxs("p",{className:"text-xs text-gray-500",children:["@",R.username]})]})]},R.id))})}),o.length>0&&s.jsxs("div",{className:"mt-4 flex items-center justify-between bg-blue-50 border border-blue-200 rounded-lg p-3",children:[s.jsxs("p",{className:"text-sm text-blue-800",children:[o.length," tudiant(s) slectionn(s)"]}),s.jsx(rt,{onClick:_,disabled:p||D,className:"flex items-center gap-2",children:p?s.jsxs(s.Fragment,{children:[s.jsx("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-white"}),s.jsx("span",{children:"Inscription..."})]}):s.jsxs(s.Fragment,{children:[s.jsx(UV,{className:"h-4 w-4"}),s.jsx("span",{children:"Inscrire"})]})})]})]})]})]}),s.jsx("div",{className:"flex justify-end gap-3 p-6 border-t bg-gray-50",children:s.jsx(rt,{variant:"outline",onClick:t,children:"Fermer"})})]})})},qie=()=>{const{data:e,isLoading:t,error:r}=wL(),{data:n}=wie(),a=Sie(),[i,l]=C.useState(!1),[o,f]=C.useState(null),[u,h]=C.useState(null),p=async b=>{if(window.confirm(`tes-vous sr de vouloir supprimer la session "${b.name}" ?`))try{await a.mutateAsync(b.id)}catch(y){console.error("Error deleting session:",y),alert("Erreur lors de la suppression de la session")}},g=b=>({planned:"bg-blue-100 text-blue-700",active:"bg-green-100 text-green-700",completed:"bg-gray-100 text-gray-700",cancelled:"bg-red-100 text-red-700"})[b]||"bg-gray-100 text-gray-700",x=b=>({planned:"Planifie",active:"Active",completed:"Termine",cancelled:"Annule"})[b]||b;return s.jsxs(ha,{title:"Sessions de Formation",subtitle:"Grer les sessions et les inscriptions",children:[s.jsxs("div",{className:"space-y-6",children:[n&&s.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-5 gap-4",children:[s.jsx("div",{className:"bg-white rounded-lg shadow-sm border p-4",children:s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx("div",{className:"p-2 bg-blue-100 rounded-lg",children:s.jsx(ns,{className:"h-5 w-5 text-blue-600"})}),s.jsxs("div",{children:[s.jsx("p",{className:"text-sm text-gray-600",children:"Total Sessions"}),s.jsx("p",{className:"text-2xl font-bold text-gray-900",children:n.sessions.total})]})]})}),s.jsx("div",{className:"bg-white rounded-lg shadow-sm border p-4",children:s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx("div",{className:"p-2 bg-blue-100 rounded-lg",children:s.jsx(ns,{className:"h-5 w-5 text-blue-600"})}),s.jsxs("div",{children:[s.jsx("p",{className:"text-sm text-gray-600",children:"Planifies"}),s.jsx("p",{className:"text-2xl font-bold text-blue-600",children:n.sessions.planned})]})]})}),s.jsx("div",{className:"bg-white rounded-lg shadow-sm border p-4",children:s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx("div",{className:"p-2 bg-green-100 rounded-lg",children:s.jsx(ns,{className:"h-5 w-5 text-green-600"})}),s.jsxs("div",{children:[s.jsx("p",{className:"text-sm text-gray-600",children:"Actives"}),s.jsx("p",{className:"text-2xl font-bold text-green-600",children:n.sessions.active})]})]})}),s.jsx("div",{className:"bg-white rounded-lg shadow-sm border p-4",children:s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx("div",{className:"p-2 bg-gray-100 rounded-lg",children:s.jsx(ns,{className:"h-5 w-5 text-gray-600"})}),s.jsxs("div",{children:[s.jsx("p",{className:"text-sm text-gray-600",children:"Termines"}),s.jsx("p",{className:"text-2xl font-bold text-gray-600",children:n.sessions.completed})]})]})}),s.jsx("div",{className:"bg-white rounded-lg shadow-sm border p-4",children:s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx("div",{className:"p-2 bg-purple-100 rounded-lg",children:s.jsx(is,{className:"h-5 w-5 text-purple-600"})}),s.jsxs("div",{children:[s.jsx("p",{className:"text-sm text-gray-600",children:"tudiants Inscrits"}),s.jsx("p",{className:"text-2xl font-bold text-purple-600",children:n.total_students_enrolled})]})]})})]}),s.jsxs("div",{className:"flex flex-col sm:flex-row justify-between items-start sm:items-center gap-4",children:[s.jsxs("div",{children:[s.jsx("h2",{className:"text-xl font-semibold text-gray-900",children:"Liste des sessions"}),s.jsx("p",{className:"text-sm text-gray-600 mt-1",children:"Grez les sessions de formation et les inscriptions"})]}),s.jsxs(rt,{onClick:()=>l(!0),className:"flex items-center gap-2",children:[s.jsx(ca,{className:"h-4 w-4"}),"Nouvelle session"]})]}),t&&s.jsx("div",{className:"flex justify-center items-center py-12",children:s.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-blue-600"})}),r&&s.jsxs("div",{className:"bg-red-50 border border-red-200 rounded-lg p-4 flex items-start gap-3",children:[s.jsx(un,{className:"h-5 w-5 text-red-600 flex-shrink-0 mt-0.5"}),s.jsxs("div",{children:[s.jsx("p",{className:"text-sm font-medium text-red-800",children:"Erreur de chargement"}),s.jsx("p",{className:"text-sm text-red-700 mt-1",children:r.message})]})]}),e&&e.length>0&&s.jsx("div",{className:"bg-white rounded-lg shadow-sm border overflow-hidden",children:s.jsx("div",{className:"overflow-x-auto",children:s.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[s.jsx("thead",{className:"bg-gray-50",children:s.jsxs("tr",{children:[s.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Session"}),s.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Formation"}),s.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Segment"}),s.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Ville"}),s.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Dates"}),s.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Inscrits"}),s.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Statut"}),s.jsx("th",{className:"px-6 py-3 text-right text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Actions"})]})}),s.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:e.map(b=>s.jsxs("tr",{className:"hover:bg-gray-50",children:[s.jsx("td",{className:"px-6 py-4",children:s.jsxs("div",{children:[s.jsx("p",{className:"text-sm font-medium text-gray-900",children:b.name}),b.description&&s.jsx("p",{className:"text-xs text-gray-500 mt-1 line-clamp-2",children:b.description})]})}),s.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:b.formation_title?s.jsx("div",{className:"flex items-center gap-2",children:s.jsx("span",{className:"inline-flex items-center px-2 py-1 rounded-full text-xs font-medium bg-green-100 text-green-700",children:b.formation_title})}):s.jsx("p",{className:"text-sm text-gray-400",children:"Aucune formation"})}),s.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:s.jsx("p",{className:"text-sm text-gray-900",children:b.segment_name||"-"})}),s.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:s.jsx("p",{className:"text-sm text-gray-900",children:b.city_name||"-"})}),s.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:s.jsxs("div",{className:"text-sm",children:[s.jsx("p",{className:"text-gray-900",children:new Date(b.start_date).toLocaleDateString("fr-FR")}),s.jsx("p",{className:"text-gray-500",children:new Date(b.end_date).toLocaleDateString("fr-FR")})]})}),s.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(is,{className:"h-4 w-4 text-gray-400"}),s.jsxs("span",{className:"text-sm text-gray-900",children:[b.enrolled_count||0,b.max_capacity&&` / ${b.max_capacity}`]})]})}),s.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:s.jsx("span",{className:`px-2 py-1 inline-flex text-xs leading-5 font-semibold rounded-full ${g(b.status)}`,children:x(b.status)})}),s.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-right text-sm font-medium",children:s.jsxs("div",{className:"flex items-center justify-end gap-2",children:[s.jsx(rt,{variant:"ghost",size:"sm",onClick:()=>h(b),className:"text-purple-600 hover:text-purple-700 hover:bg-purple-50",children:s.jsx(is,{className:"h-4 w-4"})}),s.jsx(rt,{variant:"ghost",size:"sm",onClick:()=>f(b),className:"text-blue-600 hover:text-blue-700 hover:bg-blue-50",children:s.jsx(gg,{className:"h-4 w-4"})}),s.jsx(rt,{variant:"ghost",size:"sm",onClick:()=>p(b),className:"text-red-600 hover:text-red-700 hover:bg-red-50",children:s.jsx(da,{className:"h-4 w-4"})})]})})]},b.id))})]})})}),e&&e.length===0&&!t&&s.jsxs("div",{className:"bg-white rounded-lg shadow-sm border p-12 text-center",children:[s.jsx(ns,{className:"h-12 w-12 text-gray-400 mx-auto mb-4"}),s.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"Aucune session"}),s.jsx("p",{className:"text-sm text-gray-500 mb-6",children:"Commencez par crer votre premire session de formation"}),s.jsxs(rt,{onClick:()=>l(!0),className:"flex items-center gap-2",children:[s.jsx(ca,{className:"h-4 w-4"}),"Crer une session"]})]})]}),i&&s.jsx(zk,{onClose:()=>l(!1)}),o&&s.jsx(zk,{session:o,onClose:()=>f(null)}),u&&s.jsx(zie,{session:u,onClose:()=>h(null)})]})},Sf={getAll:async()=>st.get("/certificate-templates"),getById:async e=>st.get(`/certificate-templates/${e}`),create:async e=>st.post("/certificate-templates",e),update:async(e,t)=>st.put(`/certificate-templates/${e}`,t),delete:async e=>st.delete(`/certificate-templates/${e}`),duplicate:async e=>st.post(`/certificate-templates/${e}/duplicate`),setDefault:async e=>st.patch(`/certificate-templates/${e}/set-default`),seedDefaults:async()=>st.post("/certificate-templates/seed-defaults"),generatePreview:async(e,t)=>{const r=await fetch(`/api/certificate-templates/${e}/preview`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(t)});if(!r.ok)throw new Error("Failed to generate preview");return r.blob()},uploadLogo:async(e,t)=>{const r=new FormData;r.append("logo",t);const n=await fetch(`/api/certificate-templates/${e}/upload-logo`,{method:"POST",body:r});if(!n.ok)throw new Error("Failed to upload logo");return n.json()},uploadSignature:async(e,t)=>{const r=new FormData;r.append("signature",t);const n=await fetch(`/api/certificate-templates/${e}/upload-signature`,{method:"POST",body:r});if(!n.ok)throw new Error("Failed to upload signature");return n.json()},uploadBackground:async(e,t)=>{const r=new FormData;r.append("background",t);const n=await fetch(`/api/certificate-templates/${e}/upload-background`,{method:"POST",body:r});if(!n.ok){const a=await n.json();throw new Error(a.error||"Failed to upload background image")}return n.json()},setBackgroundUrl:async(e,t)=>st.post(`/certificate-templates/${e}/background-url`,{url:t}),deleteBackground:async e=>st.delete(`/certificate-templates/${e}/background`),uploadCustomFont:async(e,t)=>{const r=new FormData;r.append("font",e),r.append("fontName",t);const n=await fetch("/api/certificate-templates/custom-fonts/upload",{method:"POST",body:r});if(!n.ok){const a=await n.json();throw new Error(a.error||"Failed to upload font")}return n.json()},getCustomFonts:async()=>st.get("/certificate-templates/custom-fonts"),deleteCustomFont:async e=>st.delete(`/certificate-templates/custom-fonts/${e}`)},df={all:["certificate-templates"],detail:e=>["certificate-templates",e],customFonts:["custom-fonts"]},_L=()=>hr({queryKey:df.all,queryFn:Sf.getAll,staleTime:300*1e3,select:e=>e.templates}),$ie=e=>hr({queryKey:df.detail(e||""),queryFn:()=>Sf.getById(e),enabled:!!e,staleTime:300*1e3,select:t=>t.template}),Hie=()=>{const e=Ut();return Ht({mutationFn:t=>Sf.create(t),onSuccess:()=>{e.invalidateQueries({queryKey:df.all})}})},Vie=()=>{const e=Ut();return Ht({mutationFn:({id:t,data:r})=>Sf.update(t,r),onSuccess:(t,r)=>{e.invalidateQueries({queryKey:df.all}),e.invalidateQueries({queryKey:df.detail(r.id)})}})},Wie=()=>{const e=Ut();return Ht({mutationFn:t=>Sf.delete(t),onSuccess:()=>{e.invalidateQueries({queryKey:df.all})}})},Gie=()=>{const e=Ut();return Ht({mutationFn:t=>Sf.duplicate(t),onSuccess:()=>{e.invalidateQueries({queryKey:df.all})}})},Kie=()=>{const e=Ut();return Ht({mutationFn:t=>Sf.setDefault(t),onSuccess:()=>{e.invalidateQueries({queryKey:df.all})}})},Yie=()=>{const e=Ut();return Ht({mutationFn:()=>Sf.seedDefaults(),onSuccess:()=>{e.invalidateQueries({queryKey:df.all})}})},qk=({formation:e,onClose:t})=>{const r=!!e,n=Eie(),a=kie(),{data:i}=_L(),[l,o]=C.useState({title:e?.title||"",description:e?.description||"",price:e?.price?.toString()||"",duration_hours:e?.duration_hours?.toString()||"",level:e?.level||"debutant",thumbnail_url:e?.thumbnail_url||"",status:e?.status||"draft",passing_score_percentage:e?.passing_score_percentage?.toString()||"80",default_certificate_template_id:e?.default_certificate_template_id||""}),[f,u]=C.useState({}),[h,p]=C.useState(!1),g=()=>{const b={};l.title.trim()||(b.title="Le titre est obligatoire"),l.price&&parseFloat(l.price)<0&&(b.price="Le prix doit tre positif"),l.duration_hours&&parseInt(l.duration_hours)<1&&(b.duration_hours="La dure doit tre suprieure  0");const y=parseInt(l.passing_score_percentage);return(y<0||y>100)&&(b.passing_score_percentage="Le score doit tre entre 0 et 100"),u(b),Object.keys(b).length===0},x=async b=>{if(b.preventDefault(),!!g()){p(!0);try{const y={title:l.title.trim(),description:l.description.trim()||void 0,price:l.price?parseFloat(l.price):void 0,duration_hours:l.duration_hours?parseInt(l.duration_hours):void 0,level:l.level,thumbnail_url:l.thumbnail_url.trim()||void 0,status:l.status,passing_score_percentage:parseInt(l.passing_score_percentage),default_certificate_template_id:l.default_certificate_template_id||void 0};r&&e?await a.mutateAsync({id:e.id,data:y}):await n.mutateAsync(y),t()}catch(y){console.error("Error saving formation:",y),u({submit:y.message||"Erreur lors de l'enregistrement"})}finally{p(!1)}}};return s.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center p-4 z-50",children:s.jsxs("div",{className:"bg-white rounded-lg shadow-xl max-w-2xl w-full max-h-[90vh] overflow-y-auto",children:[s.jsxs("div",{className:"flex items-center justify-between p-6 border-b",children:[s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx("div",{className:"p-2 bg-blue-100 rounded-lg",children:s.jsx(qn,{className:"h-5 w-5 text-blue-600"})}),s.jsxs("div",{children:[s.jsx("h2",{className:"text-xl font-semibold text-gray-900",children:r?"Modifier la formation":"Nouvelle formation"}),s.jsx("p",{className:"text-sm text-gray-500 mt-0.5",children:r?"Mettez  jour les informations de la formation":"Crez une nouvelle formation en ligne"})]})]}),s.jsx(rt,{variant:"ghost",size:"icon",onClick:t,children:s.jsx(rl,{className:"h-5 w-5"})})]}),s.jsxs("form",{onSubmit:x,className:"p-6 space-y-6",children:[f.submit&&s.jsxs("div",{className:"bg-red-50 border border-red-200 rounded-lg p-4 flex items-start gap-3",children:[s.jsx(un,{className:"h-5 w-5 text-red-600 flex-shrink-0 mt-0.5"}),s.jsx("p",{className:"text-sm text-red-700",children:f.submit})]}),s.jsxs("div",{children:[s.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:["Titre de la formation ",s.jsx("span",{className:"text-red-500",children:"*"})]}),s.jsx(Ks,{value:l.title,onChange:b=>o({...l,title:b.target.value}),placeholder:"Ex: Matriser React et TypeScript",className:f.title?"border-red-300":""}),f.title&&s.jsx("p",{className:"text-xs text-red-600 mt-1",children:f.title})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Description"}),s.jsx("textarea",{value:l.description,onChange:b=>o({...l,description:b.target.value}),placeholder:"Description complte de la formation...",rows:4,className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent text-sm"})]}),s.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Niveau"}),s.jsxs("select",{value:l.level,onChange:b=>o({...l,level:b.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent text-sm",children:[s.jsx("option",{value:"debutant",children:"Dbutant"}),s.jsx("option",{value:"intermediaire",children:"Intermdiaire"}),s.jsx("option",{value:"avance",children:"Avanc"})]})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Statut"}),s.jsxs("select",{value:l.status,onChange:b=>o({...l,status:b.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent text-sm",children:[s.jsx("option",{value:"draft",children:"Brouillon"}),s.jsx("option",{value:"published",children:"Publie"})]})]})]}),s.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Prix (MAD)"}),s.jsx(Ks,{type:"number",min:"0",step:"0.01",value:l.price,onChange:b=>o({...l,price:b.target.value}),placeholder:"0.00",className:f.price?"border-red-300":""}),f.price&&s.jsx("p",{className:"text-xs text-red-600 mt-1",children:f.price}),s.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"Laissez vide pour gratuit"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Dure (heures)"}),s.jsx(Ks,{type:"number",min:"1",value:l.duration_hours,onChange:b=>o({...l,duration_hours:b.target.value}),placeholder:"10",className:f.duration_hours?"border-red-300":""}),f.duration_hours&&s.jsx("p",{className:"text-xs text-red-600 mt-1",children:f.duration_hours})]})]}),s.jsxs("div",{children:[s.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:["Score de russite (%) ",s.jsx("span",{className:"text-red-500",children:"*"})]}),s.jsx(Ks,{type:"number",min:"0",max:"100",value:l.passing_score_percentage,onChange:b=>o({...l,passing_score_percentage:b.target.value}),className:f.passing_score_percentage?"border-red-300":""}),f.passing_score_percentage&&s.jsx("p",{className:"text-xs text-red-600 mt-1",children:f.passing_score_percentage}),s.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"Score minimum requis pour valider les tests (dfaut: 80%)"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"URL de l'image"}),s.jsx(Ks,{type:"url",value:l.thumbnail_url,onChange:b=>o({...l,thumbnail_url:b.target.value}),placeholder:"https://example.com/image.jpg"}),s.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"Image de prsentation de la formation (optionnel)"})]}),s.jsxs("div",{children:[s.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-2 flex items-center gap-2",children:[s.jsx(wi,{className:"h-4 w-4 text-blue-600"}),"Template de Certificat"]}),s.jsxs("select",{value:l.default_certificate_template_id,onChange:b=>o({...l,default_certificate_template_id:b.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent text-sm",children:[s.jsx("option",{value:"",children:"Utiliser le template par dfaut du systme"}),i?.map(b=>s.jsxs("option",{value:b.id,children:[b.name," ",b.is_default&&"(Dfaut systme)"]},b.id))]}),s.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"Ce template sera utilis pour gnrer les certificats de cette formation"})]}),s.jsxs("div",{className:"flex items-center justify-end gap-3 pt-4 border-t",children:[s.jsx(rt,{type:"button",variant:"outline",onClick:t,disabled:h,children:"Annuler"}),s.jsx(rt,{type:"submit",disabled:h,className:"min-w-[100px]",children:h?s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-white"}),s.jsx("span",{children:"..."})]}):r?"Enregistrer":"Crer"})]})]})]})})};function O3(e,t="MAD"){if(e==null)return"Gratuit";const r=typeof e=="string"?parseFloat(e):e;return isNaN(r)||r<=0?"Gratuit":`${r.toFixed(2)} ${t}`}const Xie=()=>{const e=Pn(),{data:t,isLoading:r,error:n}=Eg(),{data:a}=Uie(),i=Cie(),[l,o]=C.useState(!1),[f,u]=C.useState(null),h=async y=>{if(window.confirm(`tes-vous sr de vouloir supprimer la formation "${y.title}" ? Tous les modules, vidos et tests associs seront galement supprims.`))try{await i.mutateAsync(y.id)}catch(w){console.error("Error deleting formation:",w),alert("Erreur lors de la suppression de la formation")}},p=y=>({draft:"bg-gray-100 text-gray-700",published:"bg-green-100 text-green-700"})[y]||"bg-gray-100 text-gray-700",g=y=>({draft:"Brouillon",published:"Publie"})[y]||y,x=y=>y?{debutant:"Dbutant",intermediaire:"Intermdiaire",avance:"Avanc"}[y]||y:"-",b=y=>y&&{debutant:"bg-blue-50 text-blue-700",intermediaire:"bg-yellow-50 text-yellow-700",avance:"bg-purple-50 text-purple-700"}[y]||"bg-gray-50 text-gray-700";return s.jsxs(ha,{title:"Formations en Ligne",subtitle:"Grer les formations, modules, vidos et tests",children:[s.jsxs("div",{className:"space-y-6",children:[a&&s.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-4",children:[s.jsx("div",{className:"bg-white rounded-lg shadow-sm border p-4",children:s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx("div",{className:"p-2 bg-blue-100 rounded-lg",children:s.jsx(qn,{className:"h-5 w-5 text-blue-600"})}),s.jsxs("div",{children:[s.jsx("p",{className:"text-sm text-gray-600",children:"Total Formations"}),s.jsx("p",{className:"text-2xl font-bold text-gray-900",children:a.formations.total})]})]})}),s.jsx("div",{className:"bg-white rounded-lg shadow-sm border p-4",children:s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx("div",{className:"p-2 bg-green-100 rounded-lg",children:s.jsx(qn,{className:"h-5 w-5 text-green-600"})}),s.jsxs("div",{children:[s.jsx("p",{className:"text-sm text-gray-600",children:"Publies"}),s.jsx("p",{className:"text-2xl font-bold text-green-600",children:a.formations.published})]})]})}),s.jsx("div",{className:"bg-white rounded-lg shadow-sm border p-4",children:s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx("div",{className:"p-2 bg-purple-100 rounded-lg",children:s.jsx(Rx,{className:"h-5 w-5 text-purple-600"})}),s.jsxs("div",{children:[s.jsx("p",{className:"text-sm text-gray-600",children:"Total Vidos"}),s.jsx("p",{className:"text-2xl font-bold text-purple-600",children:a.total_videos})]})]})}),s.jsx("div",{className:"bg-white rounded-lg shadow-sm border p-4",children:s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx("div",{className:"p-2 bg-orange-100 rounded-lg",children:s.jsx(tf,{className:"h-5 w-5 text-orange-600"})}),s.jsxs("div",{children:[s.jsx("p",{className:"text-sm text-gray-600",children:"Total Tests"}),s.jsx("p",{className:"text-2xl font-bold text-orange-600",children:a.total_tests})]})]})})]}),s.jsxs("div",{className:"flex flex-col sm:flex-row justify-between items-start sm:items-center gap-4",children:[s.jsxs("div",{children:[s.jsx("h2",{className:"text-xl font-semibold text-gray-900",children:"Liste des formations"}),s.jsx("p",{className:"text-sm text-gray-600 mt-1",children:"Crez et grez vos formations en ligne"})]}),s.jsxs(rt,{onClick:()=>o(!0),className:"flex items-center gap-2",children:[s.jsx(ca,{className:"h-4 w-4"}),"Nouvelle formation"]})]}),r&&s.jsx("div",{className:"flex justify-center items-center py-12",children:s.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-blue-600"})}),n&&s.jsxs("div",{className:"bg-red-50 border border-red-200 rounded-lg p-4 flex items-start gap-3",children:[s.jsx(un,{className:"h-5 w-5 text-red-600 flex-shrink-0 mt-0.5"}),s.jsxs("div",{children:[s.jsx("p",{className:"text-sm font-medium text-red-800",children:"Erreur de chargement"}),s.jsx("p",{className:"text-sm text-red-700 mt-1",children:n.message})]})]}),t&&t.length>0&&s.jsx("div",{className:"bg-white rounded-lg shadow-sm border overflow-hidden",children:s.jsx("div",{className:"overflow-x-auto",children:s.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[s.jsx("thead",{className:"bg-gray-50",children:s.jsxs("tr",{children:[s.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Formation"}),s.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Niveau"}),s.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Modules"}),s.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Prix"}),s.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Dure"}),s.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Template Certificat"}),s.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Statut"}),s.jsx("th",{className:"px-6 py-3 text-right text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Actions"})]})}),s.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:t.map(y=>s.jsxs("tr",{className:"hover:bg-gray-50",children:[s.jsx("td",{className:"px-6 py-4",children:s.jsxs("div",{children:[s.jsx("p",{className:"text-sm font-medium text-gray-900",children:y.title}),y.description&&s.jsx("p",{className:"text-xs text-gray-500 mt-1 line-clamp-2",children:y.description})]})}),s.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:s.jsx("span",{className:`px-2 py-1 inline-flex text-xs leading-5 font-semibold rounded-full ${b(y.level)}`,children:x(y.level)})}),s.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(qn,{className:"h-4 w-4 text-gray-400"}),s.jsx("span",{className:"text-sm text-gray-900",children:y.module_count||0})]})}),s.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:s.jsx("div",{className:"flex items-center gap-1 text-sm text-gray-900",children:y.price&&Number(y.price)>0?s.jsxs(s.Fragment,{children:[s.jsx(W4,{className:"h-4 w-4 text-gray-400"}),O3(y.price)]}):s.jsx("span",{className:"text-gray-400",children:"Gratuit"})})}),s.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:s.jsx("span",{className:"text-sm text-gray-900",children:y.duration_hours?`${y.duration_hours}h`:"-"})}),s.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:y.certificate_template_name?s.jsxs("div",{className:"flex items-center gap-1 text-sm",children:[s.jsx(wi,{className:"h-4 w-4 text-blue-600"}),s.jsx("span",{className:"text-gray-900",children:y.certificate_template_name})]}):s.jsx("span",{className:"text-xs text-gray-400",children:"Dfaut systme"})}),s.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:s.jsx("span",{className:`px-2 py-1 inline-flex text-xs leading-5 font-semibold rounded-full ${p(y.status)}`,children:g(y.status)})}),s.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-right text-sm font-medium",children:s.jsxs("div",{className:"flex items-center justify-end gap-2",children:[s.jsx(rt,{variant:"ghost",size:"sm",onClick:()=>e(`/admin/formations/cours/${y.id}/editor`),className:"text-green-600 hover:text-green-700 hover:bg-green-50",title:"Grer le contenu (modules, vidos, tests)",children:s.jsx(Gv,{className:"h-4 w-4"})}),s.jsx(rt,{variant:"ghost",size:"sm",onClick:()=>u(y),className:"text-blue-600 hover:text-blue-700 hover:bg-blue-50",title:"diter les informations",children:s.jsx(gg,{className:"h-4 w-4"})}),s.jsx(rt,{variant:"ghost",size:"sm",onClick:()=>h(y),className:"text-red-600 hover:text-red-700 hover:bg-red-50",title:"Supprimer la formation",children:s.jsx(da,{className:"h-4 w-4"})})]})})]},y.id))})]})})}),t&&t.length===0&&!r&&s.jsxs("div",{className:"bg-white rounded-lg shadow-sm border p-12 text-center",children:[s.jsx(qn,{className:"h-12 w-12 text-gray-400 mx-auto mb-4"}),s.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"Aucune formation"}),s.jsx("p",{className:"text-sm text-gray-500 mb-6",children:"Commencez par crer votre premire formation en ligne"}),s.jsxs(rt,{onClick:()=>o(!0),className:"flex items-center gap-2",children:[s.jsx(ca,{className:"h-4 w-4"}),"Crer une formation"]})]})]}),l&&s.jsx(qk,{onClose:()=>o(!1)}),f&&s.jsx(qk,{formation:f,onClose:()=>u(null)})]})},Qie=({formationId:e,module:t,modules:r=[],onClose:n})=>{const a=!!t,i=Tie(),l=Oie(),[o,f]=C.useState({title:t?.title||"",description:t?.description||"",module_type:t?.module_type||"video",prerequisite_module_id:t?.prerequisite_module_id||""}),[u,h]=C.useState({}),p=()=>{const y={};return o.title.trim()||(y.title="Le titre est obligatoire"),h(y),Object.keys(y).length===0},g=async y=>{if(y.preventDefault(),!!p())try{const w={title:o.title.trim(),description:o.description.trim()||void 0,module_type:o.module_type,prerequisite_module_id:o.prerequisite_module_id||void 0};a&&t?await l.mutateAsync({id:t.id,data:w}):await i.mutateAsync({formationId:e,data:w}),n()}catch(w){console.error("Error saving module:",w),h({submit:"Une erreur est survenue lors de la sauvegarde du module"})}},x=r.filter(y=>!a||y.id!==t?.id),b=y=>({video:"Vido",test:"Test",document:"Document"})[y];return s.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center p-4 z-50",children:s.jsxs("div",{className:"bg-white rounded-lg shadow-xl max-w-2xl w-full max-h-[90vh] overflow-y-auto",children:[s.jsxs("div",{className:"flex items-center justify-between p-6 border-b",children:[s.jsx("h2",{className:"text-xl font-semibold text-gray-900",children:a?"Modifier le module":"Ajouter un module"}),s.jsx("button",{onClick:n,className:"text-gray-400 hover:text-gray-600 transition-colors",children:s.jsx(rl,{className:"h-5 w-5"})})]}),s.jsxs("form",{onSubmit:g,className:"p-6 space-y-6",children:[u.submit&&s.jsxs("div",{className:"bg-red-50 border border-red-200 rounded-lg p-4 flex items-start gap-3",children:[s.jsx(un,{className:"h-5 w-5 text-red-600 flex-shrink-0 mt-0.5"}),s.jsx("p",{className:"text-sm text-red-800",children:u.submit})]}),s.jsxs("div",{children:[s.jsxs("label",{htmlFor:"title",className:"block text-sm font-medium text-gray-700 mb-2",children:["Titre ",s.jsx("span",{className:"text-red-500",children:"*"})]}),s.jsx("input",{type:"text",id:"title",value:o.title,onChange:y=>f({...o,title:y.target.value}),className:`w-full px-3 py-2 border rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent ${u.title?"border-red-300":"border-gray-300"}`,placeholder:"Ex: Introduction aux bases de donnes"}),u.title&&s.jsx("p",{className:"mt-1 text-sm text-red-600",children:u.title})]}),s.jsxs("div",{children:[s.jsx("label",{htmlFor:"description",className:"block text-sm font-medium text-gray-700 mb-2",children:"Description"}),s.jsx("textarea",{id:"description",value:o.description,onChange:y=>f({...o,description:y.target.value}),rows:4,className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",placeholder:"Dcrivez le contenu de ce module..."})]}),s.jsxs("div",{children:[s.jsxs("label",{htmlFor:"module_type",className:"block text-sm font-medium text-gray-700 mb-2",children:["Type de module ",s.jsx("span",{className:"text-red-500",children:"*"})]}),s.jsxs("select",{id:"module_type",value:o.module_type,onChange:y=>f({...o,module_type:y.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",children:[s.jsx("option",{value:"video",children:"Vido"}),s.jsx("option",{value:"test",children:"Test"}),s.jsx("option",{value:"document",children:"Document"})]}),s.jsxs("p",{className:"mt-1 text-sm text-gray-500",children:[o.module_type==="video"&&"Module contenant des vidos de cours",o.module_type==="test"&&"Module contenant des tests et valuations",o.module_type==="document"&&"Module contenant des documents et ressources"]})]}),s.jsxs("div",{children:[s.jsx("label",{htmlFor:"prerequisite_module_id",className:"block text-sm font-medium text-gray-700 mb-2",children:"Module prrequis"}),s.jsxs("select",{id:"prerequisite_module_id",value:o.prerequisite_module_id,onChange:y=>f({...o,prerequisite_module_id:y.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",children:[s.jsx("option",{value:"",children:"Aucun (accessible immdiatement)"}),x.map(y=>s.jsxs("option",{value:y.id,children:["#",y.order_index+1," - ",y.title," (",b(y.module_type),")"]},y.id))]}),s.jsx("p",{className:"mt-1 text-sm text-gray-500",children:"L'tudiant devra complter ce module avant d'accder au module actuel"})]}),s.jsxs("div",{className:"flex justify-end gap-3 pt-4 border-t",children:[s.jsx(rt,{type:"button",variant:"outline",onClick:n,children:"Annuler"}),s.jsx(rt,{type:"submit",disabled:i.isPending||l.isPending,className:"min-w-[120px]",children:i.isPending||l.isPending?s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-white"}),s.jsx("span",{children:"Sauvegarde..."})]}):a?"Modifier":"Ajouter"})]})]})]})})},Zie=({moduleId:e,video:t,onClose:r})=>{const n=!!t,a=Pie(),i=Fie(),[l,o]=C.useState({title:t?.title||"",youtube_url:t?.youtube_url||"",duration_seconds:t?.duration_seconds?.toString()||"",description:t?.description||""}),[f,u]=C.useState({}),h=_=>_.trim()?[/^https?:\/\/(www\.)?youtube\.com\/watch\?v=[\w-]+/,/^https?:\/\/(www\.)?youtu\.be\/[\w-]+/,/^https?:\/\/(www\.)?youtube\.com\/embed\/[\w-]+/,/^https?:\/\/(www\.)?youtube\.com\/v\/[\w-]+/].some(A=>A.test(_)):!1,p=_=>{const E=[/youtube\.com\/watch\?v=([\w-]+)/,/youtu\.be\/([\w-]+)/,/youtube\.com\/embed\/([\w-]+)/,/youtube\.com\/v\/([\w-]+)/];for(const A of E){const O=_.match(A);if(O&&O[1])return O[1]}return null},g=()=>{const _={};return l.title.trim()||(_.title="Le titre est obligatoire"),l.youtube_url.trim()?h(l.youtube_url)||(_.youtube_url="L'URL YouTube n'est pas valide. Formats accepts: youtube.com/watch?v=..., youtu.be/..., youtube.com/embed/..."):_.youtube_url="L'URL YouTube est obligatoire",l.duration_seconds&&parseInt(l.duration_seconds)<0&&(_.duration_seconds="La dure doit tre positive"),u(_),Object.keys(_).length===0},x=async _=>{if(_.preventDefault(),!!g())try{const E={title:l.title.trim(),youtube_url:l.youtube_url.trim(),duration_seconds:l.duration_seconds?parseInt(l.duration_seconds):void 0,description:l.description.trim()||void 0};n&&t?await i.mutateAsync({id:t.id,data:E}):await a.mutateAsync({moduleId:e,data:E}),r()}catch(E){console.error("Error saving video:",E),u({submit:"Une erreur est survenue lors de la sauvegarde de la vido"})}},b=p(l.youtube_url),y=b?`https://img.youtube.com/vi/${b}/mqdefault.jpg`:null,w=_=>{const E=Math.floor(_/60),A=_%60;return`${E}min ${A}s`};return s.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center p-4 z-50",children:s.jsxs("div",{className:"bg-white rounded-lg shadow-xl max-w-2xl w-full max-h-[90vh] overflow-y-auto",children:[s.jsxs("div",{className:"flex items-center justify-between p-6 border-b",children:[s.jsx("h2",{className:"text-xl font-semibold text-gray-900",children:n?"Modifier la vido":"Ajouter une vido"}),s.jsx("button",{onClick:r,className:"text-gray-400 hover:text-gray-600 transition-colors",children:s.jsx(rl,{className:"h-5 w-5"})})]}),s.jsxs("form",{onSubmit:x,className:"p-6 space-y-6",children:[f.submit&&s.jsxs("div",{className:"bg-red-50 border border-red-200 rounded-lg p-4 flex items-start gap-3",children:[s.jsx(un,{className:"h-5 w-5 text-red-600 flex-shrink-0 mt-0.5"}),s.jsx("p",{className:"text-sm text-red-800",children:f.submit})]}),s.jsxs("div",{children:[s.jsxs("label",{htmlFor:"title",className:"block text-sm font-medium text-gray-700 mb-2",children:["Titre de la vido ",s.jsx("span",{className:"text-red-500",children:"*"})]}),s.jsx("input",{type:"text",id:"title",value:l.title,onChange:_=>o({...l,title:_.target.value}),className:`w-full px-3 py-2 border rounded-lg focus:ring-2 focus:ring-purple-500 focus:border-transparent ${f.title?"border-red-300":"border-gray-300"}`,placeholder:"Ex: Introduction  SQL"}),f.title&&s.jsx("p",{className:"mt-1 text-sm text-red-600",children:f.title})]}),s.jsxs("div",{children:[s.jsxs("label",{htmlFor:"youtube_url",className:"block text-sm font-medium text-gray-700 mb-2",children:["URL YouTube ",s.jsx("span",{className:"text-red-500",children:"*"})]}),s.jsx("input",{type:"text",id:"youtube_url",value:l.youtube_url,onChange:_=>o({...l,youtube_url:_.target.value}),className:`w-full px-3 py-2 border rounded-lg focus:ring-2 focus:ring-purple-500 focus:border-transparent ${f.youtube_url?"border-red-300":"border-gray-300"}`,placeholder:"https://www.youtube.com/watch?v=..."}),f.youtube_url&&s.jsx("p",{className:"mt-1 text-sm text-red-600",children:f.youtube_url}),s.jsx("p",{className:"mt-1 text-xs text-gray-500",children:"Formats accepts: youtube.com/watch?v=..., youtu.be/..., youtube.com/embed/..."}),y&&!f.youtube_url&&s.jsxs("div",{className:"mt-3 border border-gray-200 rounded-lg overflow-hidden",children:[s.jsx("img",{src:y,alt:"Aperu YouTube",className:"w-full"}),s.jsxs("div",{className:"p-2 bg-gray-50 flex items-center justify-between",children:[s.jsx("span",{className:"text-xs text-gray-600",children:"Aperu de la vido"}),s.jsxs("a",{href:l.youtube_url,target:"_blank",rel:"noopener noreferrer",className:"text-xs text-purple-600 hover:text-purple-700 flex items-center gap-1",children:["Ouvrir sur YouTube",s.jsx(r2,{className:"h-3 w-3"})]})]})]})]}),s.jsxs("div",{children:[s.jsx("label",{htmlFor:"duration_seconds",className:"block text-sm font-medium text-gray-700 mb-2",children:"Dure (en secondes)"}),s.jsx("input",{type:"number",id:"duration_seconds",value:l.duration_seconds,onChange:_=>o({...l,duration_seconds:_.target.value}),min:"0",className:`w-full px-3 py-2 border rounded-lg focus:ring-2 focus:ring-purple-500 focus:border-transparent ${f.duration_seconds?"border-red-300":"border-gray-300"}`,placeholder:"Ex: 300"}),f.duration_seconds&&s.jsx("p",{className:"mt-1 text-sm text-red-600",children:f.duration_seconds}),l.duration_seconds&&parseInt(l.duration_seconds)>0&&s.jsxs("p",{className:"mt-1 text-xs text-gray-500",children:["quivalent: ",w(parseInt(l.duration_seconds))]}),s.jsx("p",{className:"mt-1 text-xs text-gray-500",children:"Optionnel - Aide les tudiants  planifier leur temps d'apprentissage"})]}),s.jsxs("div",{children:[s.jsx("label",{htmlFor:"description",className:"block text-sm font-medium text-gray-700 mb-2",children:"Description"}),s.jsx("textarea",{id:"description",value:l.description,onChange:_=>o({...l,description:_.target.value}),rows:4,className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-purple-500 focus:border-transparent",placeholder:"Dcrivez le contenu de cette vido..."}),s.jsx("p",{className:"mt-1 text-xs text-gray-500",children:"Rsum du contenu abord dans la vido"})]}),s.jsxs("div",{className:"flex justify-end gap-3 pt-4 border-t",children:[s.jsx(rt,{type:"button",variant:"outline",onClick:r,children:"Annuler"}),s.jsx(rt,{type:"submit",disabled:a.isPending||i.isPending,className:"min-w-[120px] bg-purple-600 hover:bg-purple-700",children:a.isPending||i.isPending?s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-white"}),s.jsx("span",{children:"Sauvegarde..."})]}):n?"Modifier":"Ajouter"})]})]})]})})},Jie=({moduleId:e,onClose:t})=>{const r=Mie(),n=Iie(),a=Bie(),[i,l]=C.useState({title:"",description:"",passing_score:60,time_limit_minutes:"",max_attempts:"",show_correct_answers:!0}),[o,f]=C.useState([{tempId:`q-${Date.now()}`,question_text:"",points:1,choices:[{tempId:`c-${Date.now()}-1`,choice_text:"",is_correct:!1},{tempId:`c-${Date.now()}-2`,choice_text:"",is_correct:!1}]}]),[u,h]=C.useState({}),[p,g]=C.useState(!1),x=()=>{f([...o,{tempId:`q-${Date.now()}`,question_text:"",points:1,choices:[{tempId:`c-${Date.now()}-1`,choice_text:"",is_correct:!1},{tempId:`c-${Date.now()}-2`,choice_text:"",is_correct:!1}]}])},b=D=>{if(o.length===1){h({questions:"Un test doit avoir au moins une question"});return}if(f(o.filter(R=>R.tempId!==D)),u.questions){const R={...u};delete R.questions,h(R)}},y=(D,R,P)=>{f(o.map(T=>T.tempId===D?{...T,[R]:P}:T))},w=D=>{f(o.map(R=>R.tempId===D?{...R,choices:[...R.choices,{tempId:`c-${Date.now()}`,choice_text:"",is_correct:!1}]}:R))},_=(D,R)=>{f(o.map(P=>P.tempId===D?P.choices.length<=2?(h({...u,[`choices-${D}`]:"Une question doit avoir au moins 2 choix de rponse"}),P):{...P,choices:P.choices.filter(T=>T.tempId!==R)}:P))},E=(D,R,P,T)=>{f(o.map(B=>B.tempId===D?{...B,choices:B.choices.map(G=>G.tempId===R?{...G,[P]:T}:G)}:B))},A=()=>{const D={};return i.title.trim()||(D.title="Le titre est obligatoire"),(i.passing_score<0||i.passing_score>100)&&(D.passing_score="Le score de russite doit tre entre 0 et 100"),i.time_limit_minutes&&parseInt(i.time_limit_minutes)<1&&(D.time_limit_minutes="La limite de temps doit tre d'au moins 1 minute"),i.max_attempts&&parseInt(i.max_attempts)<1&&(D.max_attempts="Le nombre de tentatives doit tre d'au moins 1"),o.length===0&&(D.questions="Le test doit avoir au moins une question"),o.forEach((R,P)=>{R.question_text.trim()||(D[`question-${R.tempId}`]=`Question ${P+1}: Le texte est obligatoire`),R.points<0&&(D[`points-${R.tempId}`]=`Question ${P+1}: Les points doivent tre positifs`),R.choices.length<2&&(D[`choices-${R.tempId}`]=`Question ${P+1}: Au moins 2 choix requis`),R.choices.some(B=>B.is_correct)||(D[`correct-${R.tempId}`]=`Question ${P+1}: Au moins un choix doit tre marqu comme correct`),R.choices.forEach((B,G)=>{B.choice_text.trim()||(D[`choice-${B.tempId}`]=`Question ${P+1}, Choix ${G+1}: Le texte est obligatoire`)})}),h(D),Object.keys(D).length===0},O=async D=>{if(D.preventDefault(),!!A()){g(!0);try{const R=await r.mutateAsync({moduleId:e,data:{title:i.title.trim(),description:i.description.trim()||void 0,passing_score:i.passing_score,time_limit_minutes:i.time_limit_minutes?parseInt(i.time_limit_minutes):void 0,max_attempts:i.max_attempts?parseInt(i.max_attempts):void 0,show_correct_answers:i.show_correct_answers}});for(let P=0;P<o.length;P++){const T=o[P],B=await n.mutateAsync({testId:R.id,data:{question_text:T.question_text.trim(),points:T.points,order_index:P}});for(let G=0;G<T.choices.length;G++){const I=T.choices[G];await a.mutateAsync({questionId:B.id,data:{choice_text:I.choice_text.trim(),is_correct:I.is_correct,order_index:G}})}}t()}catch(R){console.error("Error creating test:",R),h({submit:"Une erreur est survenue lors de la cration du test"}),g(!1)}}};return s.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center p-4 z-50 overflow-y-auto",children:s.jsxs("div",{className:"bg-white rounded-lg shadow-xl max-w-4xl w-full my-8",children:[s.jsxs("div",{className:"flex items-center justify-between p-6 border-b sticky top-0 bg-white z-10 rounded-t-lg",children:[s.jsx("h2",{className:"text-xl font-semibold text-gray-900",children:"Crer un test"}),s.jsx("button",{onClick:t,disabled:p,className:"text-gray-400 hover:text-gray-600 transition-colors disabled:opacity-50",children:s.jsx(rl,{className:"h-5 w-5"})})]}),s.jsxs("form",{onSubmit:O,className:"p-6 space-y-8 max-h-[calc(90vh-140px)] overflow-y-auto",children:[u.submit&&s.jsxs("div",{className:"bg-red-50 border border-red-200 rounded-lg p-4 flex items-start gap-3",children:[s.jsx(un,{className:"h-5 w-5 text-red-600 flex-shrink-0 mt-0.5"}),s.jsx("p",{className:"text-sm text-red-800",children:u.submit})]}),s.jsxs("div",{className:"space-y-6 bg-gray-50 p-6 rounded-lg",children:[s.jsxs("h3",{className:"text-lg font-semibold text-gray-900 flex items-center gap-2",children:[s.jsx("span",{className:"bg-orange-100 text-orange-700 w-7 h-7 rounded-full flex items-center justify-center text-sm font-bold",children:"1"}),"Informations du test"]}),s.jsxs("div",{children:[s.jsxs("label",{htmlFor:"title",className:"block text-sm font-medium text-gray-700 mb-2",children:["Titre du test ",s.jsx("span",{className:"text-red-500",children:"*"})]}),s.jsx("input",{type:"text",id:"title",value:i.title,onChange:D=>l({...i,title:D.target.value}),className:`w-full px-3 py-2 border rounded-lg focus:ring-2 focus:ring-orange-500 focus:border-transparent ${u.title?"border-red-300":"border-gray-300"}`,placeholder:"Ex: Quiz sur les bases de donnes relationnelles"}),u.title&&s.jsx("p",{className:"mt-1 text-sm text-red-600",children:u.title})]}),s.jsxs("div",{children:[s.jsx("label",{htmlFor:"description",className:"block text-sm font-medium text-gray-700 mb-2",children:"Description"}),s.jsx("textarea",{id:"description",value:i.description,onChange:D=>l({...i,description:D.target.value}),rows:3,className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-orange-500 focus:border-transparent",placeholder:"Dcrivez les objectifs et le contenu de ce test..."})]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[s.jsxs("div",{children:[s.jsxs("label",{htmlFor:"passing_score",className:"block text-sm font-medium text-gray-700 mb-2",children:["Score de russite (%) ",s.jsx("span",{className:"text-red-500",children:"*"})]}),s.jsx("input",{type:"number",id:"passing_score",value:i.passing_score,onChange:D=>l({...i,passing_score:parseInt(D.target.value)||0}),min:"0",max:"100",className:`w-full px-3 py-2 border rounded-lg focus:ring-2 focus:ring-orange-500 focus:border-transparent ${u.passing_score?"border-red-300":"border-gray-300"}`}),u.passing_score&&s.jsx("p",{className:"mt-1 text-sm text-red-600",children:u.passing_score})]}),s.jsxs("div",{children:[s.jsx("label",{htmlFor:"time_limit_minutes",className:"block text-sm font-medium text-gray-700 mb-2",children:"Limite de temps (minutes)"}),s.jsx("input",{type:"number",id:"time_limit_minutes",value:i.time_limit_minutes,onChange:D=>l({...i,time_limit_minutes:D.target.value}),min:"1",className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-orange-500 focus:border-transparent",placeholder:"Optionnel"}),u.time_limit_minutes&&s.jsx("p",{className:"mt-1 text-sm text-red-600",children:u.time_limit_minutes})]}),s.jsxs("div",{children:[s.jsx("label",{htmlFor:"max_attempts",className:"block text-sm font-medium text-gray-700 mb-2",children:"Nombre de tentatives max"}),s.jsx("input",{type:"number",id:"max_attempts",value:i.max_attempts,onChange:D=>l({...i,max_attempts:D.target.value}),min:"1",className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-orange-500 focus:border-transparent",placeholder:"Illimit"}),u.max_attempts&&s.jsx("p",{className:"mt-1 text-sm text-red-600",children:u.max_attempts})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Afficher les bonnes rponses"}),s.jsx("div",{className:"flex items-center gap-4 h-[42px]",children:s.jsxs("label",{className:"flex items-center gap-2 cursor-pointer",children:[s.jsx("input",{type:"checkbox",checked:i.show_correct_answers,onChange:D=>l({...i,show_correct_answers:D.target.checked}),className:"w-4 h-4 text-orange-600 border-gray-300 rounded focus:ring-orange-500"}),s.jsx("span",{className:"text-sm text-gray-700",children:"Montrer les rponses correctes aprs la soumission"})]})})]})]})]}),s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("h3",{className:"text-lg font-semibold text-gray-900 flex items-center gap-2",children:[s.jsx("span",{className:"bg-orange-100 text-orange-700 w-7 h-7 rounded-full flex items-center justify-center text-sm font-bold",children:"2"}),"Questions (",o.length,")"]}),s.jsxs(rt,{type:"button",onClick:x,variant:"outline",size:"sm",className:"flex items-center gap-2",children:[s.jsx(ca,{className:"h-4 w-4"}),"Ajouter une question"]})]}),u.questions&&s.jsx("div",{className:"bg-red-50 border border-red-200 rounded-lg p-3",children:s.jsx("p",{className:"text-sm text-red-800",children:u.questions})}),s.jsx("div",{className:"space-y-6",children:o.map((D,R)=>s.jsxs("div",{className:"border border-gray-200 rounded-lg p-6 bg-white",children:[s.jsxs("div",{className:"flex items-start justify-between mb-4",children:[s.jsxs("h4",{className:"font-semibold text-gray-900",children:["Question ",R+1]}),o.length>1&&s.jsx("button",{type:"button",onClick:()=>b(D.tempId),className:"text-red-600 hover:text-red-700 hover:bg-red-50 p-1 rounded",title:"Supprimer cette question",children:s.jsx(da,{className:"h-4 w-4"})})]}),s.jsxs("div",{className:"mb-4",children:[s.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:["Texte de la question ",s.jsx("span",{className:"text-red-500",children:"*"})]}),s.jsx("textarea",{value:D.question_text,onChange:P=>y(D.tempId,"question_text",P.target.value),rows:2,className:`w-full px-3 py-2 border rounded-lg focus:ring-2 focus:ring-orange-500 focus:border-transparent ${u[`question-${D.tempId}`]?"border-red-300":"border-gray-300"}`,placeholder:"Entrez la question..."}),u[`question-${D.tempId}`]&&s.jsx("p",{className:"mt-1 text-sm text-red-600",children:u[`question-${D.tempId}`]})]}),s.jsxs("div",{className:"mb-4",children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Points"}),s.jsx("input",{type:"number",value:D.points,onChange:P=>y(D.tempId,"points",parseInt(P.target.value)||1),min:"0",className:"w-32 px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-orange-500 focus:border-transparent"}),u[`points-${D.tempId}`]&&s.jsx("p",{className:"mt-1 text-sm text-red-600",children:u[`points-${D.tempId}`]})]}),s.jsxs("div",{children:[s.jsxs("div",{className:"flex items-center justify-between mb-3",children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Choix de rponse (cochez les bonnes rponses)"}),s.jsxs("button",{type:"button",onClick:()=>w(D.tempId),className:"text-sm text-orange-600 hover:text-orange-700 flex items-center gap-1",children:[s.jsx(ca,{className:"h-4 w-4"}),"Ajouter un choix"]})]}),u[`choices-${D.tempId}`]&&s.jsx("div",{className:"bg-red-50 border border-red-200 rounded p-2 mb-3",children:s.jsx("p",{className:"text-sm text-red-800",children:u[`choices-${D.tempId}`]})}),u[`correct-${D.tempId}`]&&s.jsx("div",{className:"bg-red-50 border border-red-200 rounded p-2 mb-3",children:s.jsx("p",{className:"text-sm text-red-800",children:u[`correct-${D.tempId}`]})}),s.jsx("div",{className:"space-y-2",children:D.choices.map((P,T)=>s.jsxs("div",{className:`flex items-center gap-3 p-3 rounded-lg border ${P.is_correct?"bg-green-50 border-green-200":"bg-gray-50 border-gray-200"}`,children:[s.jsxs("div",{className:"flex items-center",children:[s.jsx("input",{type:"checkbox",checked:P.is_correct,onChange:B=>E(D.tempId,P.tempId,"is_correct",B.target.checked),className:"w-4 h-4 text-green-600 border-gray-300 rounded focus:ring-green-500",title:"Marquer comme bonne rponse"}),P.is_correct&&s.jsx(YD,{className:"h-4 w-4 text-green-600 ml-1"})]}),s.jsx("input",{type:"text",value:P.choice_text,onChange:B=>E(D.tempId,P.tempId,"choice_text",B.target.value),className:`flex-1 px-3 py-2 border rounded-lg focus:ring-2 focus:ring-orange-500 focus:border-transparent ${u[`choice-${P.tempId}`]?"border-red-300":"border-gray-300"}`,placeholder:`Choix ${T+1}`}),D.choices.length>2&&s.jsx("button",{type:"button",onClick:()=>_(D.tempId,P.tempId),className:"text-red-600 hover:text-red-700 hover:bg-red-100 p-1 rounded",title:"Supprimer ce choix",children:s.jsx(da,{className:"h-4 w-4"})})]},P.tempId))})]})]},D.tempId))})]}),s.jsxs("div",{className:"flex justify-end gap-3 pt-4 border-t sticky bottom-0 bg-white",children:[s.jsx(rt,{type:"button",variant:"outline",onClick:t,disabled:p,children:"Annuler"}),s.jsx(rt,{type:"submit",disabled:p,className:"min-w-[180px] bg-orange-600 hover:bg-orange-700",children:p?s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-white"}),s.jsx("span",{children:"Cration en cours..."})]}):"Crer le test"})]})]})]})})},ese=()=>{const{id:e}=Ho(),t=Pn(),{data:r,isLoading:n,error:a}=sp(e),i=Die(),l=Lie(),o=Rie(),[f,u]=C.useState(new Set),[h,p]=C.useState(!1),[g,x]=C.useState(!1),[b,y]=C.useState(!1),[w,_]=C.useState(null),[E,A]=C.useState(null),O=K=>{const J=new Set(f);J.has(K)?J.delete(K):J.add(K),u(J)},D=async K=>{if(window.confirm(`tes-vous sr de vouloir supprimer le module "${K.title}" ? Toutes les vidos et tests associs seront galement supprims.`))try{await i.mutateAsync(K.id)}catch(J){console.error("Error deleting module:",J),alert("Erreur lors de la suppression du module")}},R=async K=>{if(window.confirm(`tes-vous sr de vouloir supprimer la vido "${K.title}" ?`))try{await l.mutateAsync(K.id)}catch(J){console.error("Error deleting video:",J),alert("Erreur lors de la suppression de la vido")}},P=async K=>{if(window.confirm(`tes-vous sr de vouloir supprimer le test "${K.title}" ? Toutes les questions et rponses associes seront galement supprimes.`))try{await o.mutateAsync(K.id)}catch(J){console.error("Error deleting test:",J),alert("Erreur lors de la suppression du test")}},T=K=>K==="published"?"bg-green-100 text-green-700":"bg-gray-100 text-gray-700",B=K=>K==="published"?"Publie":"Brouillon",G=K=>({video:"bg-purple-50 text-purple-700",test:"bg-orange-50 text-orange-700",document:"bg-blue-50 text-blue-700"})[K]||"bg-gray-50 text-gray-700",I=K=>({video:"Vido",test:"Test",document:"Document"})[K]||K;if(n)return s.jsx(ha,{title:"Chargement...",subtitle:"Chargement de la formation",children:s.jsx("div",{className:"flex justify-center items-center py-12",children:s.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-blue-600"})})});if(a||!r)return s.jsxs(ha,{title:"Erreur",subtitle:"Formation introuvable",children:[s.jsxs("div",{className:"bg-red-50 border border-red-200 rounded-lg p-4 flex items-start gap-3",children:[s.jsx(un,{className:"h-5 w-5 text-red-600 flex-shrink-0 mt-0.5"}),s.jsxs("div",{children:[s.jsx("p",{className:"text-sm font-medium text-red-800",children:"Formation introuvable"}),s.jsx("p",{className:"text-sm text-red-700 mt-1",children:a?.message||"Cette formation n'existe pas ou a t supprime."})]})]}),s.jsx("div",{className:"mt-6",children:s.jsxs(rt,{onClick:()=>t("/admin/formations/cours"),variant:"outline",children:[s.jsx(ea,{className:"h-4 w-4 mr-2"}),"Retour aux formations"]})})]});const z=r.modules||[];return s.jsxs(ha,{title:r.title,subtitle:"Configuration de la formation",children:[s.jsxs("div",{className:"space-y-6",children:[s.jsx("div",{className:"bg-white rounded-lg shadow-sm border p-6",children:s.jsx("div",{className:"flex flex-col sm:flex-row justify-between items-start sm:items-center gap-4",children:s.jsxs("div",{className:"flex-1",children:[s.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[s.jsxs(rt,{variant:"ghost",size:"sm",onClick:()=>t("/admin/formations/cours"),className:"text-gray-600 hover:text-gray-900",children:[s.jsx(ea,{className:"h-4 w-4 mr-1"}),"Retour"]}),s.jsx("span",{className:`px-2 py-1 inline-flex text-xs leading-5 font-semibold rounded-full ${T(r.status)}`,children:B(r.status)})]}),s.jsx("h2",{className:"text-2xl font-bold text-gray-900",children:r.title}),r.description&&s.jsx("p",{className:"text-sm text-gray-600 mt-2",children:r.description}),s.jsxs("div",{className:"flex items-center gap-4 mt-3 text-sm text-gray-500",children:[r.duration_hours&&s.jsxs("span",{children:[r.duration_hours,"h de contenu"]}),r.price&&Number(r.price)>0&&s.jsx("span",{children:O3(r.price)}),s.jsxs("span",{children:[z.length," module(s)"]})]})]})})}),s.jsx("div",{className:"bg-white rounded-lg shadow-sm border p-4",children:s.jsx("div",{className:"flex flex-wrap gap-3",children:s.jsxs(rt,{onClick:()=>{_(null),p(!0)},className:"flex items-center gap-2",children:[s.jsx(ca,{className:"h-4 w-4"}),"Ajouter un module"]})})}),z.length===0?s.jsxs("div",{className:"bg-white rounded-lg shadow-sm border p-12 text-center",children:[s.jsx(qn,{className:"h-12 w-12 text-gray-400 mx-auto mb-4"}),s.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"Aucun module"}),s.jsx("p",{className:"text-sm text-gray-500 mb-6",children:"Commencez par crer le premier module de votre formation"}),s.jsxs(rt,{onClick:()=>{_(null),p(!0)},className:"flex items-center gap-2",children:[s.jsx(ca,{className:"h-4 w-4"}),"Crer un module"]})]}):s.jsx("div",{className:"space-y-3",children:z.map(K=>{const J=f.has(K.id),pe=K.videos||[],ne=K.tests||[],le=pe.length>0||ne.length>0;return s.jsxs("div",{className:"bg-white rounded-lg shadow-sm border",children:[s.jsxs("div",{className:"p-4 flex items-center gap-3",children:[s.jsx("button",{onClick:()=>O(K.id),className:"text-gray-400 hover:text-gray-600",disabled:!le,children:le?J?s.jsx(xg,{className:"h-5 w-5"}):s.jsx(Gu,{className:"h-5 w-5"}):s.jsx("div",{className:"w-5 h-5"})}),s.jsxs("div",{className:"flex-1 min-w-0",children:[s.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[s.jsxs("span",{className:"text-sm font-medium text-gray-500",children:["#",K.order_index+1]}),s.jsx("h3",{className:"text-base font-semibold text-gray-900 truncate",children:K.title}),s.jsx("span",{className:`px-2 py-0.5 text-xs font-medium rounded-full ${G(K.module_type)}`,children:I(K.module_type)})]}),K.description&&s.jsx("p",{className:"text-sm text-gray-600 line-clamp-2",children:K.description}),s.jsxs("div",{className:"flex items-center gap-3 mt-2 text-xs text-gray-500",children:[s.jsxs("span",{children:[pe.length," vido(s)"]}),s.jsxs("span",{children:[ne.length," test(s)"]})]})]}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(rt,{variant:"ghost",size:"sm",onClick:()=>{A(K.id),x(!0)},className:"text-purple-600 hover:text-purple-700 hover:bg-purple-50",title:"Ajouter une vido",children:s.jsx(Rx,{className:"h-4 w-4"})}),s.jsx(rt,{variant:"ghost",size:"sm",onClick:()=>{A(K.id),y(!0)},className:"text-orange-600 hover:text-orange-700 hover:bg-orange-50",title:"Ajouter un test",children:s.jsx(tf,{className:"h-4 w-4"})}),s.jsx(rt,{variant:"ghost",size:"sm",onClick:()=>{_(K),p(!0)},className:"text-blue-600 hover:text-blue-700 hover:bg-blue-50",title:"diter le module",children:s.jsx(gg,{className:"h-4 w-4"})}),s.jsx(rt,{variant:"ghost",size:"sm",onClick:()=>D(K),className:"text-red-600 hover:text-red-700 hover:bg-red-50",title:"Supprimer le module",children:s.jsx(da,{className:"h-4 w-4"})})]})]}),J&&le&&s.jsxs("div",{className:"border-t bg-gray-50 px-4 py-3 space-y-2",children:[pe.map(ve=>s.jsxs("div",{className:"bg-white rounded border border-purple-100 p-3 flex items-center gap-3",children:[s.jsx(Rx,{className:"h-4 w-4 text-purple-600 flex-shrink-0"}),s.jsxs("div",{className:"flex-1 min-w-0",children:[s.jsx("p",{className:"text-sm font-medium text-gray-900 truncate",children:ve.title}),ve.duration_seconds&&s.jsxs("p",{className:"text-xs text-gray-500",children:[Math.floor(ve.duration_seconds/60),"min"," ",ve.duration_seconds%60,"s"]})]}),s.jsx("div",{className:"flex items-center gap-2",children:s.jsx(rt,{variant:"ghost",size:"sm",onClick:()=>R(ve),className:"text-red-600 hover:text-red-700 hover:bg-red-50",children:s.jsx(da,{className:"h-3 w-3"})})})]},ve.id)),ne.map(ve=>s.jsxs("div",{className:"bg-white rounded border border-orange-100 p-3 flex items-center gap-3",children:[s.jsx(tf,{className:"h-4 w-4 text-orange-600 flex-shrink-0"}),s.jsxs("div",{className:"flex-1 min-w-0",children:[s.jsx("p",{className:"text-sm font-medium text-gray-900 truncate",children:ve.title}),s.jsxs("div",{className:"flex items-center gap-3 text-xs text-gray-500",children:[s.jsxs("span",{children:[ve.questions?.length||0," question(s)"]}),ve.time_limit_minutes&&s.jsxs("span",{children:[ve.time_limit_minutes," min"]}),s.jsxs("span",{children:["Score min: ",ve.passing_score,"%"]})]})]}),s.jsx("div",{className:"flex items-center gap-2",children:s.jsx(rt,{variant:"ghost",size:"sm",onClick:()=>P(ve),className:"text-red-600 hover:text-red-700 hover:bg-red-50",children:s.jsx(da,{className:"h-3 w-3"})})})]},ve.id))]})]},K.id)})})]}),h&&e&&s.jsx(Qie,{formationId:e,module:w||void 0,modules:z,onClose:()=>{p(!1),_(null)}}),g&&E&&s.jsx(Zie,{moduleId:E,onClose:()=>{x(!1),A(null)}}),b&&E&&s.jsx(Jie,{moduleId:E,onClose:()=>{y(!1),A(null)}})]})};function NL(e){var t,r,n="";if(typeof e=="string"||typeof e=="number")n+=e;else if(typeof e=="object")if(Array.isArray(e)){var a=e.length;for(t=0;t<a;t++)e[t]&&(r=NL(e[t]))&&(n&&(n+=" "),n+=r)}else for(r in e)e[r]&&(n&&(n+=" "),n+=r);return n}function nn(){for(var e,t,r=0,n="",a=arguments.length;r<a;r++)(e=arguments[r])&&(t=NL(e))&&(n&&(n+=" "),n+=t);return n}var tse=["dangerouslySetInnerHTML","onCopy","onCopyCapture","onCut","onCutCapture","onPaste","onPasteCapture","onCompositionEnd","onCompositionEndCapture","onCompositionStart","onCompositionStartCapture","onCompositionUpdate","onCompositionUpdateCapture","onFocus","onFocusCapture","onBlur","onBlurCapture","onChange","onChangeCapture","onBeforeInput","onBeforeInputCapture","onInput","onInputCapture","onReset","onResetCapture","onSubmit","onSubmitCapture","onInvalid","onInvalidCapture","onLoad","onLoadCapture","onError","onErrorCapture","onKeyDown","onKeyDownCapture","onKeyPress","onKeyPressCapture","onKeyUp","onKeyUpCapture","onAbort","onAbortCapture","onCanPlay","onCanPlayCapture","onCanPlayThrough","onCanPlayThroughCapture","onDurationChange","onDurationChangeCapture","onEmptied","onEmptiedCapture","onEncrypted","onEncryptedCapture","onEnded","onEndedCapture","onLoadedData","onLoadedDataCapture","onLoadedMetadata","onLoadedMetadataCapture","onLoadStart","onLoadStartCapture","onPause","onPauseCapture","onPlay","onPlayCapture","onPlaying","onPlayingCapture","onProgress","onProgressCapture","onRateChange","onRateChangeCapture","onSeeked","onSeekedCapture","onSeeking","onSeekingCapture","onStalled","onStalledCapture","onSuspend","onSuspendCapture","onTimeUpdate","onTimeUpdateCapture","onVolumeChange","onVolumeChangeCapture","onWaiting","onWaitingCapture","onAuxClick","onAuxClickCapture","onClick","onClickCapture","onContextMenu","onContextMenuCapture","onDoubleClick","onDoubleClickCapture","onDrag","onDragCapture","onDragEnd","onDragEndCapture","onDragEnter","onDragEnterCapture","onDragExit","onDragExitCapture","onDragLeave","onDragLeaveCapture","onDragOver","onDragOverCapture","onDragStart","onDragStartCapture","onDrop","onDropCapture","onMouseDown","onMouseDownCapture","onMouseEnter","onMouseLeave","onMouseMove","onMouseMoveCapture","onMouseOut","onMouseOutCapture","onMouseOver","onMouseOverCapture","onMouseUp","onMouseUpCapture","onSelect","onSelectCapture","onTouchCancel","onTouchCancelCapture","onTouchEnd","onTouchEndCapture","onTouchMove","onTouchMoveCapture","onTouchStart","onTouchStartCapture","onPointerDown","onPointerDownCapture","onPointerMove","onPointerMoveCapture","onPointerUp","onPointerUpCapture","onPointerCancel","onPointerCancelCapture","onPointerEnter","onPointerEnterCapture","onPointerLeave","onPointerLeaveCapture","onPointerOver","onPointerOverCapture","onPointerOut","onPointerOutCapture","onGotPointerCapture","onGotPointerCaptureCapture","onLostPointerCapture","onLostPointerCaptureCapture","onScroll","onScrollCapture","onWheel","onWheelCapture","onAnimationStart","onAnimationStartCapture","onAnimationEnd","onAnimationEndCapture","onAnimationIteration","onAnimationIterationCapture","onTransitionEnd","onTransitionEndCapture"];function D3(e){if(typeof e!="string")return!1;var t=tse;return t.includes(e)}var rse=["aria-activedescendant","aria-atomic","aria-autocomplete","aria-busy","aria-checked","aria-colcount","aria-colindex","aria-colspan","aria-controls","aria-current","aria-describedby","aria-details","aria-disabled","aria-errormessage","aria-expanded","aria-flowto","aria-haspopup","aria-hidden","aria-invalid","aria-keyshortcuts","aria-label","aria-labelledby","aria-level","aria-live","aria-modal","aria-multiline","aria-multiselectable","aria-orientation","aria-owns","aria-placeholder","aria-posinset","aria-pressed","aria-readonly","aria-relevant","aria-required","aria-roledescription","aria-rowcount","aria-rowindex","aria-rowspan","aria-selected","aria-setsize","aria-sort","aria-valuemax","aria-valuemin","aria-valuenow","aria-valuetext","className","color","height","id","lang","max","media","method","min","name","style","target","width","role","tabIndex","accentHeight","accumulate","additive","alignmentBaseline","allowReorder","alphabetic","amplitude","arabicForm","ascent","attributeName","attributeType","autoReverse","azimuth","baseFrequency","baselineShift","baseProfile","bbox","begin","bias","by","calcMode","capHeight","clip","clipPath","clipPathUnits","clipRule","colorInterpolation","colorInterpolationFilters","colorProfile","colorRendering","contentScriptType","contentStyleType","cursor","cx","cy","d","decelerate","descent","diffuseConstant","direction","display","divisor","dominantBaseline","dur","dx","dy","edgeMode","elevation","enableBackground","end","exponent","externalResourcesRequired","fill","fillOpacity","fillRule","filter","filterRes","filterUnits","floodColor","floodOpacity","focusable","fontFamily","fontSize","fontSizeAdjust","fontStretch","fontStyle","fontVariant","fontWeight","format","from","fx","fy","g1","g2","glyphName","glyphOrientationHorizontal","glyphOrientationVertical","glyphRef","gradientTransform","gradientUnits","hanging","horizAdvX","horizOriginX","href","ideographic","imageRendering","in2","in","intercept","k1","k2","k3","k4","k","kernelMatrix","kernelUnitLength","kerning","keyPoints","keySplines","keyTimes","lengthAdjust","letterSpacing","lightingColor","limitingConeAngle","local","markerEnd","markerHeight","markerMid","markerStart","markerUnits","markerWidth","mask","maskContentUnits","maskUnits","mathematical","mode","numOctaves","offset","opacity","operator","order","orient","orientation","origin","overflow","overlinePosition","overlineThickness","paintOrder","panose1","pathLength","patternContentUnits","patternTransform","patternUnits","pointerEvents","pointsAtX","pointsAtY","pointsAtZ","preserveAlpha","preserveAspectRatio","primitiveUnits","r","radius","refX","refY","renderingIntent","repeatCount","repeatDur","requiredExtensions","requiredFeatures","restart","result","rotate","rx","ry","seed","shapeRendering","slope","spacing","specularConstant","specularExponent","speed","spreadMethod","startOffset","stdDeviation","stemh","stemv","stitchTiles","stopColor","stopOpacity","strikethroughPosition","strikethroughThickness","string","stroke","strokeDasharray","strokeDashoffset","strokeLinecap","strokeLinejoin","strokeMiterlimit","strokeOpacity","strokeWidth","surfaceScale","systemLanguage","tableValues","targetX","targetY","textAnchor","textDecoration","textLength","textRendering","to","transform","u1","u2","underlinePosition","underlineThickness","unicode","unicodeBidi","unicodeRange","unitsPerEm","vAlphabetic","values","vectorEffect","version","vertAdvY","vertOriginX","vertOriginY","vHanging","vIdeographic","viewTarget","visibility","vMathematical","widths","wordSpacing","writingMode","x1","x2","x","xChannelSelector","xHeight","xlinkActuate","xlinkArcrole","xlinkHref","xlinkRole","xlinkShow","xlinkTitle","xlinkType","xmlBase","xmlLang","xmlns","xmlnsXlink","xmlSpace","y1","y2","y","yChannelSelector","z","zoomAndPan","ref","key","angle"];function SL(e){if(typeof e!="string")return!1;var t=rse;return t.includes(e)}function jL(e){return typeof e=="string"&&e.startsWith("data-")}function ro(e){var t=Object.entries(e).filter(r=>{var[n]=r;return SL(n)||jL(n)});return Object.fromEntries(t)}function X0(e){if(e==null)return null;if(C.isValidElement(e)&&typeof e.props=="object"&&e.props!==null){var t=e.props;return ro(t)}return typeof e=="object"&&!Array.isArray(e)?ro(e):null}function tl(e){var t=Object.entries(e).filter(r=>{var[n]=r;return SL(n)||jL(n)||D3(n)});return Object.fromEntries(t)}function nse(e){return e==null?null:C.isValidElement(e)?tl(e.props):typeof e=="object"&&!Array.isArray(e)?tl(e):null}var ase=["children","width","height","viewBox","className","style","title","desc"];function u_(){return u_=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},u_.apply(null,arguments)}function ise(e,t){if(e==null)return{};var r,n,a=sse(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}function sse(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}var P3=C.forwardRef((e,t)=>{var{children:r,width:n,height:a,viewBox:i,className:l,style:o,title:f,desc:u}=e,h=ise(e,ase),p=i||{width:n,height:a,x:0,y:0},g=nn("recharts-surface",l);return C.createElement("svg",u_({},tl(h),{className:g,width:n,height:a,style:o,viewBox:"".concat(p.x," ").concat(p.y," ").concat(p.width," ").concat(p.height),ref:t}),C.createElement("title",null,f),C.createElement("desc",null,u),r)}),lse=["children","className"];function f_(){return f_=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},f_.apply(null,arguments)}function ose(e,t){if(e==null)return{};var r,n,a=cse(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}function cse(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}var ss=C.forwardRef((e,t)=>{var{children:r,className:n}=e,a=ose(e,lse),i=nn("recharts-layer",n);return C.createElement("g",f_({className:i},tl(a),{ref:t}),r)}),AL=C.createContext(null),use=()=>C.useContext(AL);function Un(e){return function(){return e}}const EL=Math.cos,ly=Math.sin,Oc=Math.sqrt,oy=Math.PI,d2=2*oy,d_=Math.PI,h_=2*d_,b0=1e-6,fse=h_-b0;function kL(e){this._+=e[0];for(let t=1,r=e.length;t<r;++t)this._+=arguments[t]+e[t]}function dse(e){let t=Math.floor(e);if(!(t>=0))throw new Error(`invalid digits: ${e}`);if(t>15)return kL;const r=10**t;return function(n){this._+=n[0];for(let a=1,i=n.length;a<i;++a)this._+=Math.round(arguments[a]*r)/r+n[a]}}class hse{constructor(t){this._x0=this._y0=this._x1=this._y1=null,this._="",this._append=t==null?kL:dse(t)}moveTo(t,r){this._append`M${this._x0=this._x1=+t},${this._y0=this._y1=+r}`}closePath(){this._x1!==null&&(this._x1=this._x0,this._y1=this._y0,this._append`Z`)}lineTo(t,r){this._append`L${this._x1=+t},${this._y1=+r}`}quadraticCurveTo(t,r,n,a){this._append`Q${+t},${+r},${this._x1=+n},${this._y1=+a}`}bezierCurveTo(t,r,n,a,i,l){this._append`C${+t},${+r},${+n},${+a},${this._x1=+i},${this._y1=+l}`}arcTo(t,r,n,a,i){if(t=+t,r=+r,n=+n,a=+a,i=+i,i<0)throw new Error(`negative radius: ${i}`);let l=this._x1,o=this._y1,f=n-t,u=a-r,h=l-t,p=o-r,g=h*h+p*p;if(this._x1===null)this._append`M${this._x1=t},${this._y1=r}`;else if(g>b0)if(!(Math.abs(p*f-u*h)>b0)||!i)this._append`L${this._x1=t},${this._y1=r}`;else{let x=n-l,b=a-o,y=f*f+u*u,w=x*x+b*b,_=Math.sqrt(y),E=Math.sqrt(g),A=i*Math.tan((d_-Math.acos((y+g-w)/(2*_*E)))/2),O=A/E,D=A/_;Math.abs(O-1)>b0&&this._append`L${t+O*h},${r+O*p}`,this._append`A${i},${i},0,0,${+(p*x>h*b)},${this._x1=t+D*f},${this._y1=r+D*u}`}}arc(t,r,n,a,i,l){if(t=+t,r=+r,n=+n,l=!!l,n<0)throw new Error(`negative radius: ${n}`);let o=n*Math.cos(a),f=n*Math.sin(a),u=t+o,h=r+f,p=1^l,g=l?a-i:i-a;this._x1===null?this._append`M${u},${h}`:(Math.abs(this._x1-u)>b0||Math.abs(this._y1-h)>b0)&&this._append`L${u},${h}`,n&&(g<0&&(g=g%h_+h_),g>fse?this._append`A${n},${n},0,1,${p},${t-o},${r-f}A${n},${n},0,1,${p},${this._x1=u},${this._y1=h}`:g>b0&&this._append`A${n},${n},0,${+(g>=d_)},${p},${this._x1=t+n*Math.cos(i)},${this._y1=r+n*Math.sin(i)}`)}rect(t,r,n,a){this._append`M${this._x0=this._x1=+t},${this._y0=this._y1=+r}h${n=+n}v${+a}h${-n}Z`}toString(){return this._}}function F3(e){let t=3;return e.digits=function(r){if(!arguments.length)return t;if(r==null)t=null;else{const n=Math.floor(r);if(!(n>=0))throw new RangeError(`invalid digits: ${r}`);t=n}return e},()=>new hse(t)}function L3(e){return typeof e=="object"&&"length"in e?e:Array.from(e)}function CL(e){this._context=e}CL.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;default:this._context.lineTo(e,t);break}}};function h2(e){return new CL(e)}function TL(e){return e[0]}function OL(e){return e[1]}function DL(e,t){var r=Un(!0),n=null,a=h2,i=null,l=F3(o);e=typeof e=="function"?e:e===void 0?TL:Un(e),t=typeof t=="function"?t:t===void 0?OL:Un(t);function o(f){var u,h=(f=L3(f)).length,p,g=!1,x;for(n==null&&(i=a(x=l())),u=0;u<=h;++u)!(u<h&&r(p=f[u],u,f))===g&&((g=!g)?i.lineStart():i.lineEnd()),g&&i.point(+e(p,u,f),+t(p,u,f));if(x)return i=null,x+""||null}return o.x=function(f){return arguments.length?(e=typeof f=="function"?f:Un(+f),o):e},o.y=function(f){return arguments.length?(t=typeof f=="function"?f:Un(+f),o):t},o.defined=function(f){return arguments.length?(r=typeof f=="function"?f:Un(!!f),o):r},o.curve=function(f){return arguments.length?(a=f,n!=null&&(i=a(n)),o):a},o.context=function(f){return arguments.length?(f==null?n=i=null:i=a(n=f),o):n},o}function rv(e,t,r){var n=null,a=Un(!0),i=null,l=h2,o=null,f=F3(u);e=typeof e=="function"?e:e===void 0?TL:Un(+e),t=typeof t=="function"?t:Un(t===void 0?0:+t),r=typeof r=="function"?r:r===void 0?OL:Un(+r);function u(p){var g,x,b,y=(p=L3(p)).length,w,_=!1,E,A=new Array(y),O=new Array(y);for(i==null&&(o=l(E=f())),g=0;g<=y;++g){if(!(g<y&&a(w=p[g],g,p))===_)if(_=!_)x=g,o.areaStart(),o.lineStart();else{for(o.lineEnd(),o.lineStart(),b=g-1;b>=x;--b)o.point(A[b],O[b]);o.lineEnd(),o.areaEnd()}_&&(A[g]=+e(w,g,p),O[g]=+t(w,g,p),o.point(n?+n(w,g,p):A[g],r?+r(w,g,p):O[g]))}if(E)return o=null,E+""||null}function h(){return DL().defined(a).curve(l).context(i)}return u.x=function(p){return arguments.length?(e=typeof p=="function"?p:Un(+p),n=null,u):e},u.x0=function(p){return arguments.length?(e=typeof p=="function"?p:Un(+p),u):e},u.x1=function(p){return arguments.length?(n=p==null?null:typeof p=="function"?p:Un(+p),u):n},u.y=function(p){return arguments.length?(t=typeof p=="function"?p:Un(+p),r=null,u):t},u.y0=function(p){return arguments.length?(t=typeof p=="function"?p:Un(+p),u):t},u.y1=function(p){return arguments.length?(r=p==null?null:typeof p=="function"?p:Un(+p),u):r},u.lineX0=u.lineY0=function(){return h().x(e).y(t)},u.lineY1=function(){return h().x(e).y(r)},u.lineX1=function(){return h().x(n).y(t)},u.defined=function(p){return arguments.length?(a=typeof p=="function"?p:Un(!!p),u):a},u.curve=function(p){return arguments.length?(l=p,i!=null&&(o=l(i)),u):l},u.context=function(p){return arguments.length?(p==null?i=o=null:o=l(i=p),u):i},u}class PL{constructor(t,r){this._context=t,this._x=r}areaStart(){this._line=0}areaEnd(){this._line=NaN}lineStart(){this._point=0}lineEnd(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line}point(t,r){switch(t=+t,r=+r,this._point){case 0:{this._point=1,this._line?this._context.lineTo(t,r):this._context.moveTo(t,r);break}case 1:this._point=2;default:{this._x?this._context.bezierCurveTo(this._x0=(this._x0+t)/2,this._y0,this._x0,r,t,r):this._context.bezierCurveTo(this._x0,this._y0=(this._y0+r)/2,t,this._y0,t,r);break}}this._x0=t,this._y0=r}}function mse(e){return new PL(e,!0)}function pse(e){return new PL(e,!1)}const M3={draw(e,t){const r=Oc(t/oy);e.moveTo(r,0),e.arc(0,0,r,0,d2)}},xse={draw(e,t){const r=Oc(t/5)/2;e.moveTo(-3*r,-r),e.lineTo(-r,-r),e.lineTo(-r,-3*r),e.lineTo(r,-3*r),e.lineTo(r,-r),e.lineTo(3*r,-r),e.lineTo(3*r,r),e.lineTo(r,r),e.lineTo(r,3*r),e.lineTo(-r,3*r),e.lineTo(-r,r),e.lineTo(-3*r,r),e.closePath()}},FL=Oc(1/3),gse=FL*2,vse={draw(e,t){const r=Oc(t/gse),n=r*FL;e.moveTo(0,-r),e.lineTo(n,0),e.lineTo(0,r),e.lineTo(-n,0),e.closePath()}},yse={draw(e,t){const r=Oc(t),n=-r/2;e.rect(n,n,r,r)}},bse=.8908130915292852,LL=ly(oy/10)/ly(7*oy/10),wse=ly(d2/10)*LL,_se=-EL(d2/10)*LL,Nse={draw(e,t){const r=Oc(t*bse),n=wse*r,a=_se*r;e.moveTo(0,-r),e.lineTo(n,a);for(let i=1;i<5;++i){const l=d2*i/5,o=EL(l),f=ly(l);e.lineTo(f*r,-o*r),e.lineTo(o*n-f*a,f*n+o*a)}e.closePath()}},Lw=Oc(3),Sse={draw(e,t){const r=-Oc(t/(Lw*3));e.moveTo(0,r*2),e.lineTo(-Lw*r,-r),e.lineTo(Lw*r,-r),e.closePath()}},jo=-.5,Ao=Oc(3)/2,m_=1/Oc(12),jse=(m_/2+1)*3,Ase={draw(e,t){const r=Oc(t/jse),n=r/2,a=r*m_,i=n,l=r*m_+r,o=-i,f=l;e.moveTo(n,a),e.lineTo(i,l),e.lineTo(o,f),e.lineTo(jo*n-Ao*a,Ao*n+jo*a),e.lineTo(jo*i-Ao*l,Ao*i+jo*l),e.lineTo(jo*o-Ao*f,Ao*o+jo*f),e.lineTo(jo*n+Ao*a,jo*a-Ao*n),e.lineTo(jo*i+Ao*l,jo*l-Ao*i),e.lineTo(jo*o+Ao*f,jo*f-Ao*o),e.closePath()}};function Ese(e,t){let r=null,n=F3(a);e=typeof e=="function"?e:Un(e||M3),t=typeof t=="function"?t:Un(t===void 0?64:+t);function a(){let i;if(r||(r=i=n()),e.apply(this,arguments).draw(r,+t.apply(this,arguments)),i)return r=null,i+""||null}return a.type=function(i){return arguments.length?(e=typeof i=="function"?i:Un(i),a):e},a.size=function(i){return arguments.length?(t=typeof i=="function"?i:Un(+i),a):t},a.context=function(i){return arguments.length?(r=i??null,a):r},a}function cy(){}function uy(e,t,r){e._context.bezierCurveTo((2*e._x0+e._x1)/3,(2*e._y0+e._y1)/3,(e._x0+2*e._x1)/3,(e._y0+2*e._y1)/3,(e._x0+4*e._x1+t)/6,(e._y0+4*e._y1+r)/6)}function ML(e){this._context=e}ML.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){switch(this._point){case 3:uy(this,this._x1,this._y1);case 2:this._context.lineTo(this._x1,this._y1);break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;break;case 2:this._point=3,this._context.lineTo((5*this._x0+this._x1)/6,(5*this._y0+this._y1)/6);default:uy(this,e,t);break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}};function kse(e){return new ML(e)}function RL(e){this._context=e}RL.prototype={areaStart:cy,areaEnd:cy,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._y0=this._y1=this._y2=this._y3=this._y4=NaN,this._point=0},lineEnd:function(){switch(this._point){case 1:{this._context.moveTo(this._x2,this._y2),this._context.closePath();break}case 2:{this._context.moveTo((this._x2+2*this._x3)/3,(this._y2+2*this._y3)/3),this._context.lineTo((this._x3+2*this._x2)/3,(this._y3+2*this._y2)/3),this._context.closePath();break}case 3:{this.point(this._x2,this._y2),this.point(this._x3,this._y3),this.point(this._x4,this._y4);break}}},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._x2=e,this._y2=t;break;case 1:this._point=2,this._x3=e,this._y3=t;break;case 2:this._point=3,this._x4=e,this._y4=t,this._context.moveTo((this._x0+4*this._x1+e)/6,(this._y0+4*this._y1+t)/6);break;default:uy(this,e,t);break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}};function Cse(e){return new RL(e)}function IL(e){this._context=e}IL.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===3)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3;var r=(this._x0+4*this._x1+e)/6,n=(this._y0+4*this._y1+t)/6;this._line?this._context.lineTo(r,n):this._context.moveTo(r,n);break;case 3:this._point=4;default:uy(this,e,t);break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}};function Tse(e){return new IL(e)}function BL(e){this._context=e}BL.prototype={areaStart:cy,areaEnd:cy,lineStart:function(){this._point=0},lineEnd:function(){this._point&&this._context.closePath()},point:function(e,t){e=+e,t=+t,this._point?this._context.lineTo(e,t):(this._point=1,this._context.moveTo(e,t))}};function Ose(e){return new BL(e)}function $k(e){return e<0?-1:1}function Hk(e,t,r){var n=e._x1-e._x0,a=t-e._x1,i=(e._y1-e._y0)/(n||a<0&&-0),l=(r-e._y1)/(a||n<0&&-0),o=(i*a+l*n)/(n+a);return($k(i)+$k(l))*Math.min(Math.abs(i),Math.abs(l),.5*Math.abs(o))||0}function Vk(e,t){var r=e._x1-e._x0;return r?(3*(e._y1-e._y0)/r-t)/2:t}function Mw(e,t,r){var n=e._x0,a=e._y0,i=e._x1,l=e._y1,o=(i-n)/3;e._context.bezierCurveTo(n+o,a+o*t,i-o,l-o*r,i,l)}function fy(e){this._context=e}fy.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=this._t0=NaN,this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x1,this._y1);break;case 3:Mw(this,this._t0,Vk(this,this._t0));break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){var r=NaN;if(e=+e,t=+t,!(e===this._x1&&t===this._y1)){switch(this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;break;case 2:this._point=3,Mw(this,Vk(this,r=Hk(this,e,t)),r);break;default:Mw(this,this._t0,r=Hk(this,e,t));break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t,this._t0=r}}};function UL(e){this._context=new zL(e)}(UL.prototype=Object.create(fy.prototype)).point=function(e,t){fy.prototype.point.call(this,t,e)};function zL(e){this._context=e}zL.prototype={moveTo:function(e,t){this._context.moveTo(t,e)},closePath:function(){this._context.closePath()},lineTo:function(e,t){this._context.lineTo(t,e)},bezierCurveTo:function(e,t,r,n,a,i){this._context.bezierCurveTo(t,e,n,r,i,a)}};function Dse(e){return new fy(e)}function Pse(e){return new UL(e)}function qL(e){this._context=e}qL.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=[],this._y=[]},lineEnd:function(){var e=this._x,t=this._y,r=e.length;if(r)if(this._line?this._context.lineTo(e[0],t[0]):this._context.moveTo(e[0],t[0]),r===2)this._context.lineTo(e[1],t[1]);else for(var n=Wk(e),a=Wk(t),i=0,l=1;l<r;++i,++l)this._context.bezierCurveTo(n[0][i],a[0][i],n[1][i],a[1][i],e[l],t[l]);(this._line||this._line!==0&&r===1)&&this._context.closePath(),this._line=1-this._line,this._x=this._y=null},point:function(e,t){this._x.push(+e),this._y.push(+t)}};function Wk(e){var t,r=e.length-1,n,a=new Array(r),i=new Array(r),l=new Array(r);for(a[0]=0,i[0]=2,l[0]=e[0]+2*e[1],t=1;t<r-1;++t)a[t]=1,i[t]=4,l[t]=4*e[t]+2*e[t+1];for(a[r-1]=2,i[r-1]=7,l[r-1]=8*e[r-1]+e[r],t=1;t<r;++t)n=a[t]/i[t-1],i[t]-=n,l[t]-=n*l[t-1];for(a[r-1]=l[r-1]/i[r-1],t=r-2;t>=0;--t)a[t]=(l[t]-a[t+1])/i[t];for(i[r-1]=(e[r]+a[r-1])/2,t=0;t<r-1;++t)i[t]=2*e[t+1]-a[t+1];return[a,i]}function Fse(e){return new qL(e)}function m2(e,t){this._context=e,this._t=t}m2.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=this._y=NaN,this._point=0},lineEnd:function(){0<this._t&&this._t<1&&this._point===2&&this._context.lineTo(this._x,this._y),(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line>=0&&(this._t=1-this._t,this._line=1-this._line)},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;default:{if(this._t<=0)this._context.lineTo(this._x,t),this._context.lineTo(e,t);else{var r=this._x*(1-this._t)+e*this._t;this._context.lineTo(r,this._y),this._context.lineTo(r,t)}break}}this._x=e,this._y=t}};function Lse(e){return new m2(e,.5)}function Mse(e){return new m2(e,0)}function Rse(e){return new m2(e,1)}function Um(e,t){if((l=e.length)>1)for(var r=1,n,a,i=e[t[0]],l,o=i.length;r<l;++r)for(a=i,i=e[t[r]],n=0;n<o;++n)i[n][1]+=i[n][0]=isNaN(a[n][1])?a[n][0]:a[n][1]}function p_(e){for(var t=e.length,r=new Array(t);--t>=0;)r[t]=t;return r}function Ise(e,t){return e[t]}function Bse(e){const t=[];return t.key=e,t}function Use(){var e=Un([]),t=p_,r=Um,n=Ise;function a(i){var l=Array.from(e.apply(this,arguments),Bse),o,f=l.length,u=-1,h;for(const p of i)for(o=0,++u;o<f;++o)(l[o][u]=[0,+n(p,l[o].key,u,i)]).data=p;for(o=0,h=L3(t(l));o<f;++o)l[h[o]].index=o;return r(l,h),l}return a.keys=function(i){return arguments.length?(e=typeof i=="function"?i:Un(Array.from(i)),a):e},a.value=function(i){return arguments.length?(n=typeof i=="function"?i:Un(+i),a):n},a.order=function(i){return arguments.length?(t=i==null?p_:typeof i=="function"?i:Un(Array.from(i)),a):t},a.offset=function(i){return arguments.length?(r=i??Um,a):r},a}function zse(e,t){if((n=e.length)>0){for(var r,n,a=0,i=e[0].length,l;a<i;++a){for(l=r=0;r<n;++r)l+=e[r][a][1]||0;if(l)for(r=0;r<n;++r)e[r][a][1]/=l}Um(e,t)}}function qse(e,t){if((a=e.length)>0){for(var r=0,n=e[t[0]],a,i=n.length;r<i;++r){for(var l=0,o=0;l<a;++l)o+=e[l][r][1]||0;n[r][1]+=n[r][0]=-o/2}Um(e,t)}}function $se(e,t){if(!(!((l=e.length)>0)||!((i=(a=e[t[0]]).length)>0))){for(var r=0,n=1,a,i,l;n<i;++n){for(var o=0,f=0,u=0;o<l;++o){for(var h=e[t[o]],p=h[n][1]||0,g=h[n-1][1]||0,x=(p-g)/2,b=0;b<o;++b){var y=e[t[b]],w=y[n][1]||0,_=y[n-1][1]||0;x+=w-_}f+=p,u+=x*p}a[n-1][1]+=a[n-1][0]=r,f&&(r-=u/f)}a[n-1][1]+=a[n-1][0]=r,Um(e,t)}}var Rw={},Iw={},Gk;function Hse(){return Gk||(Gk=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){return r==="__proto__"}e.isUnsafeProperty=t})(Iw)),Iw}var Bw={},Kk;function $L(){return Kk||(Kk=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){switch(typeof r){case"number":case"symbol":return!1;case"string":return r.includes(".")||r.includes("[")||r.includes("]")}}e.isDeepKey=t})(Bw)),Bw}var Uw={},Yk;function R3(){return Yk||(Yk=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){return typeof r=="string"||typeof r=="symbol"?r:Object.is(r?.valueOf?.(),-0)?"-0":String(r)}e.toKey=t})(Uw)),Uw}var zw={},qw={},Xk;function Vse(){return Xk||(Xk=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){if(r==null)return"";if(typeof r=="string")return r;if(Array.isArray(r))return r.map(t).join(",");const n=String(r);return n==="0"&&Object.is(Number(r),-0)?"-0":n}e.toString=t})(qw)),qw}var Qk;function I3(){return Qk||(Qk=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=Vse(),r=R3();function n(a){if(Array.isArray(a))return a.map(r.toKey);if(typeof a=="symbol")return[a];a=t.toString(a);const i=[],l=a.length;if(l===0)return i;let o=0,f="",u="",h=!1;for(a.charCodeAt(0)===46&&(i.push(""),o++);o<l;){const p=a[o];u?p==="\\"&&o+1<l?(o++,f+=a[o]):p===u?u="":f+=p:h?p==='"'||p==="'"?u=p:p==="]"?(h=!1,i.push(f),f=""):f+=p:p==="["?(h=!0,f&&(i.push(f),f="")):p==="."?f&&(i.push(f),f=""):f+=p,o++}return f&&i.push(f),i}e.toPath=n})(zw)),zw}var Zk;function B3(){return Zk||(Zk=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=Hse(),r=$L(),n=R3(),a=I3();function i(o,f,u){if(o==null)return u;switch(typeof f){case"string":{if(t.isUnsafeProperty(f))return u;const h=o[f];return h===void 0?r.isDeepKey(f)?i(o,a.toPath(f),u):u:h}case"number":case"symbol":{typeof f=="number"&&(f=n.toKey(f));const h=o[f];return h===void 0?u:h}default:{if(Array.isArray(f))return l(o,f,u);if(Object.is(f?.valueOf(),-0)?f="-0":f=String(f),t.isUnsafeProperty(f))return u;const h=o[f];return h===void 0?u:h}}}function l(o,f,u){if(f.length===0)return u;let h=o;for(let p=0;p<f.length;p++){if(h==null||t.isUnsafeProperty(f[p]))return u;h=h[f[p]]}return h===void 0?u:h}e.get=i})(Rw)),Rw}var $w,Jk;function Wse(){return Jk||(Jk=1,$w=B3().get),$w}var Gse=Wse();const Q0=yf(Gse);var Ui=e=>e===0?0:e>0?1:-1,Uo=e=>typeof e=="number"&&e!=+e,hf=e=>typeof e=="string"&&e.indexOf("%")===e.length-1,Kt=e=>(typeof e=="number"||e instanceof Number)&&!Uo(e),uu=e=>Kt(e)||typeof e=="string",Kse=0,Zx=e=>{var t=++Kse;return"".concat(e||"").concat(t)},As=function(t,r){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:0,a=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!1;if(!Kt(t)&&typeof t!="string")return n;var i;if(hf(t)){if(r==null)return n;var l=t.indexOf("%");i=r*parseFloat(t.slice(0,l))/100}else i=+t;return Uo(i)&&(i=n),a&&r!=null&&i>r&&(i=r),i},HL=e=>{if(!Array.isArray(e))return!1;for(var t=e.length,r={},n=0;n<t;n++)if(!r[e[n]])r[e[n]]=!0;else return!0;return!1};function La(e,t,r){return Kt(e)&&Kt(t)?e+r*(t-e):t}function VL(e,t,r){if(!(!e||!e.length))return e.find(n=>n&&(typeof t=="function"?t(n):Q0(n,t))===r)}var ma=e=>e===null||typeof e>"u",kg=e=>ma(e)?e:"".concat(e.charAt(0).toUpperCase()).concat(e.slice(1)),Yse=["type","size","sizeType"];function x_(){return x_=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},x_.apply(null,arguments)}function eC(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function tC(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?eC(Object(r),!0).forEach(function(n){Xse(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):eC(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Xse(e,t,r){return(t=Qse(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Qse(e){var t=Zse(e,"string");return typeof t=="symbol"?t:t+""}function Zse(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Jse(e,t){if(e==null)return{};var r,n,a=ele(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}function ele(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}var WL={symbolCircle:M3,symbolCross:xse,symbolDiamond:vse,symbolSquare:yse,symbolStar:Nse,symbolTriangle:Sse,symbolWye:Ase},tle=Math.PI/180,rle=e=>{var t="symbol".concat(kg(e));return WL[t]||M3},nle=(e,t,r)=>{if(t==="area")return e;switch(r){case"cross":return 5*e*e/9;case"diamond":return .5*e*e/Math.sqrt(3);case"square":return e*e;case"star":{var n=18*tle;return 1.25*e*e*(Math.tan(n)-Math.tan(n*2)*Math.tan(n)**2)}case"triangle":return Math.sqrt(3)*e*e/4;case"wye":return(21-10*Math.sqrt(3))*e*e/8;default:return Math.PI*e*e/4}},ale=(e,t)=>{WL["symbol".concat(kg(e))]=t},U3=e=>{var{type:t="circle",size:r=64,sizeType:n="area"}=e,a=Jse(e,Yse),i=tC(tC({},a),{},{type:t,size:r,sizeType:n}),l="circle";typeof t=="string"&&(l=t);var o=()=>{var g=rle(l),x=Ese().type(g).size(nle(r,n,l)),b=x();if(b!==null)return b},{className:f,cx:u,cy:h}=i,p=tl(i);return u===+u&&h===+h&&r===+r?C.createElement("path",x_({},p,{className:nn("recharts-symbols",f),transform:"translate(".concat(u,", ").concat(h,")"),d:o()})):null};U3.registerSymbol=ale;var z3=(e,t)=>{if(!e||typeof e=="function"||typeof e=="boolean")return null;var r=e;if(C.isValidElement(e)&&(r=e.props),typeof r!="object"&&typeof r!="function")return null;var n={};return Object.keys(r).forEach(a=>{D3(a)&&(n[a]=(i=>r[a](r,i)))}),n},ile=(e,t,r)=>n=>(e(t,r,n),null),Cg=(e,t,r)=>{if(e===null||typeof e!="object"&&typeof e!="function")return null;var n=null;return Object.keys(e).forEach(a=>{var i=e[a];D3(a)&&typeof i=="function"&&(n||(n={}),n[a]=ile(i,t,r))}),n};function g_(){return g_=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},g_.apply(null,arguments)}function rC(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function sle(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?rC(Object(r),!0).forEach(function(n){q3(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):rC(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function q3(e,t,r){return(t=lle(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function lle(e){var t=ole(e,"string");return typeof t=="symbol"?t:t+""}function ole(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Eo=32;class $3 extends C.PureComponent{renderIcon(t,r){var{inactiveColor:n}=this.props,a=Eo/2,i=Eo/6,l=Eo/3,o=t.inactive?n:t.color,f=r??t.type;if(f==="none")return null;if(f==="plainline")return C.createElement("line",{strokeWidth:4,fill:"none",stroke:o,strokeDasharray:t.payload.strokeDasharray,x1:0,y1:a,x2:Eo,y2:a,className:"recharts-legend-icon"});if(f==="line")return C.createElement("path",{strokeWidth:4,fill:"none",stroke:o,d:"M0,".concat(a,"h").concat(l,`
            A`).concat(i,",").concat(i,",0,1,1,").concat(2*l,",").concat(a,`
            H`).concat(Eo,"M").concat(2*l,",").concat(a,`
            A`).concat(i,",").concat(i,",0,1,1,").concat(l,",").concat(a),className:"recharts-legend-icon"});if(f==="rect")return C.createElement("path",{stroke:"none",fill:o,d:"M0,".concat(Eo/8,"h").concat(Eo,"v").concat(Eo*3/4,"h").concat(-Eo,"z"),className:"recharts-legend-icon"});if(C.isValidElement(t.legendIcon)){var u=sle({},t);return delete u.legendIcon,C.cloneElement(t.legendIcon,u)}return C.createElement(U3,{fill:o,cx:a,cy:a,size:Eo,sizeType:"diameter",type:f})}renderItems(){var{payload:t,iconSize:r,layout:n,formatter:a,inactiveColor:i,iconType:l}=this.props,o={x:0,y:0,width:Eo,height:Eo},f={display:n==="horizontal"?"inline-block":"block",marginRight:10},u={display:"inline-block",verticalAlign:"middle",marginRight:4};return t.map((h,p)=>{var g=h.formatter||a,x=nn({"recharts-legend-item":!0,["legend-item-".concat(p)]:!0,inactive:h.inactive});if(h.type==="none")return null;var b=h.inactive?i:h.color,y=g?g(h.value,h,p):h.value;return C.createElement("li",g_({className:x,style:f,key:"legend-item-".concat(p)},Cg(this.props,h,p)),C.createElement(P3,{width:r,height:r,viewBox:o,style:u,"aria-label":"".concat(y," legend icon")},this.renderIcon(h,l)),C.createElement("span",{className:"recharts-legend-item-text",style:{color:b}},y))})}render(){var{payload:t,layout:r,align:n}=this.props;if(!t||!t.length)return null;var a={padding:0,margin:0,textAlign:r==="horizontal"?n:"left"};return C.createElement("ul",{className:"recharts-default-legend",style:a},this.renderItems())}}q3($3,"displayName","Legend");q3($3,"defaultProps",{align:"center",iconSize:14,inactiveColor:"#ccc",layout:"horizontal",verticalAlign:"middle"});var Hw={},Vw={},nC;function cle(){return nC||(nC=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r,n){const a=new Map;for(let i=0;i<r.length;i++){const l=r[i],o=n(l);a.has(o)||a.set(o,l)}return Array.from(a.values())}e.uniqBy=t})(Vw)),Vw}var Ww={},aC;function GL(){return aC||(aC=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){return r}e.identity=t})(Ww)),Ww}var Gw={},Kw={},Yw={},iC;function ule(){return iC||(iC=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){return Number.isSafeInteger(r)&&r>=0}e.isLength=t})(Yw)),Yw}var sC;function H3(){return sC||(sC=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=ule();function r(n){return n!=null&&typeof n!="function"&&t.isLength(n.length)}e.isArrayLike=r})(Kw)),Kw}var Xw={},lC;function fle(){return lC||(lC=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){return typeof r=="object"&&r!==null}e.isObjectLike=t})(Xw)),Xw}var oC;function dle(){return oC||(oC=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=H3(),r=fle();function n(a){return r.isObjectLike(a)&&t.isArrayLike(a)}e.isArrayLikeObject=n})(Gw)),Gw}var Qw={},Zw={},cC;function hle(){return cC||(cC=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=B3();function r(n){return function(a){return t.get(a,n)}}e.property=r})(Zw)),Zw}var Jw={},e5={},t5={},r5={},uC;function KL(){return uC||(uC=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){return r!==null&&(typeof r=="object"||typeof r=="function")}e.isObject=t})(r5)),r5}var n5={},fC;function YL(){return fC||(fC=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){return r==null||typeof r!="object"&&typeof r!="function"}e.isPrimitive=t})(n5)),n5}var a5={},dC;function XL(){return dC||(dC=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r,n){return r===n||Number.isNaN(r)&&Number.isNaN(n)}e.eq=t})(a5)),a5}var hC;function mle(){return hC||(hC=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=KL(),r=YL(),n=XL();function a(h,p,g){return typeof g!="function"?a(h,p,()=>{}):i(h,p,function x(b,y,w,_,E,A){const O=g(b,y,w,_,E,A);return O!==void 0?!!O:i(b,y,x,A)},new Map)}function i(h,p,g,x){if(p===h)return!0;switch(typeof p){case"object":return l(h,p,g,x);case"function":return Object.keys(p).length>0?i(h,{...p},g,x):n.eq(h,p);default:return t.isObject(h)?typeof p=="string"?p==="":!0:n.eq(h,p)}}function l(h,p,g,x){if(p==null)return!0;if(Array.isArray(p))return f(h,p,g,x);if(p instanceof Map)return o(h,p,g,x);if(p instanceof Set)return u(h,p,g,x);const b=Object.keys(p);if(h==null)return b.length===0;if(b.length===0)return!0;if(x?.has(p))return x.get(p)===h;x?.set(p,h);try{for(let y=0;y<b.length;y++){const w=b[y];if(!r.isPrimitive(h)&&!(w in h)||p[w]===void 0&&h[w]!==void 0||p[w]===null&&h[w]!==null||!g(h[w],p[w],w,h,p,x))return!1}return!0}finally{x?.delete(p)}}function o(h,p,g,x){if(p.size===0)return!0;if(!(h instanceof Map))return!1;for(const[b,y]of p.entries()){const w=h.get(b);if(g(w,y,b,h,p,x)===!1)return!1}return!0}function f(h,p,g,x){if(p.length===0)return!0;if(!Array.isArray(h))return!1;const b=new Set;for(let y=0;y<p.length;y++){const w=p[y];let _=!1;for(let E=0;E<h.length;E++){if(b.has(E))continue;const A=h[E];let O=!1;if(g(A,w,y,h,p,x)&&(O=!0),O){b.add(E),_=!0;break}}if(!_)return!1}return!0}function u(h,p,g,x){return p.size===0?!0:h instanceof Set?f([...h],[...p],g,x):!1}e.isMatchWith=a,e.isSetMatch=u})(t5)),t5}var mC;function QL(){return mC||(mC=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=mle();function r(n,a){return t.isMatchWith(n,a,()=>{})}e.isMatch=r})(e5)),e5}var i5={},s5={},l5={},pC;function ple(){return pC||(pC=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){return Object.getOwnPropertySymbols(r).filter(n=>Object.prototype.propertyIsEnumerable.call(r,n))}e.getSymbols=t})(l5)),l5}var o5={},xC;function ZL(){return xC||(xC=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){return r==null?r===void 0?"[object Undefined]":"[object Null]":Object.prototype.toString.call(r)}e.getTag=t})(o5)),o5}var c5={},gC;function JL(){return gC||(gC=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t="[object RegExp]",r="[object String]",n="[object Number]",a="[object Boolean]",i="[object Arguments]",l="[object Symbol]",o="[object Date]",f="[object Map]",u="[object Set]",h="[object Array]",p="[object Function]",g="[object ArrayBuffer]",x="[object Object]",b="[object Error]",y="[object DataView]",w="[object Uint8Array]",_="[object Uint8ClampedArray]",E="[object Uint16Array]",A="[object Uint32Array]",O="[object BigUint64Array]",D="[object Int8Array]",R="[object Int16Array]",P="[object Int32Array]",T="[object BigInt64Array]",B="[object Float32Array]",G="[object Float64Array]";e.argumentsTag=i,e.arrayBufferTag=g,e.arrayTag=h,e.bigInt64ArrayTag=T,e.bigUint64ArrayTag=O,e.booleanTag=a,e.dataViewTag=y,e.dateTag=o,e.errorTag=b,e.float32ArrayTag=B,e.float64ArrayTag=G,e.functionTag=p,e.int16ArrayTag=R,e.int32ArrayTag=P,e.int8ArrayTag=D,e.mapTag=f,e.numberTag=n,e.objectTag=x,e.regexpTag=t,e.setTag=u,e.stringTag=r,e.symbolTag=l,e.uint16ArrayTag=E,e.uint32ArrayTag=A,e.uint8ArrayTag=w,e.uint8ClampedArrayTag=_})(c5)),c5}var u5={},vC;function xle(){return vC||(vC=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){return ArrayBuffer.isView(r)&&!(r instanceof DataView)}e.isTypedArray=t})(u5)),u5}var yC;function eM(){return yC||(yC=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=ple(),r=ZL(),n=JL(),a=YL(),i=xle();function l(h,p){return o(h,void 0,h,new Map,p)}function o(h,p,g,x=new Map,b=void 0){const y=b?.(h,p,g,x);if(y!==void 0)return y;if(a.isPrimitive(h))return h;if(x.has(h))return x.get(h);if(Array.isArray(h)){const w=new Array(h.length);x.set(h,w);for(let _=0;_<h.length;_++)w[_]=o(h[_],_,g,x,b);return Object.hasOwn(h,"index")&&(w.index=h.index),Object.hasOwn(h,"input")&&(w.input=h.input),w}if(h instanceof Date)return new Date(h.getTime());if(h instanceof RegExp){const w=new RegExp(h.source,h.flags);return w.lastIndex=h.lastIndex,w}if(h instanceof Map){const w=new Map;x.set(h,w);for(const[_,E]of h)w.set(_,o(E,_,g,x,b));return w}if(h instanceof Set){const w=new Set;x.set(h,w);for(const _ of h)w.add(o(_,void 0,g,x,b));return w}if(typeof Buffer<"u"&&Buffer.isBuffer(h))return h.subarray();if(i.isTypedArray(h)){const w=new(Object.getPrototypeOf(h)).constructor(h.length);x.set(h,w);for(let _=0;_<h.length;_++)w[_]=o(h[_],_,g,x,b);return w}if(h instanceof ArrayBuffer||typeof SharedArrayBuffer<"u"&&h instanceof SharedArrayBuffer)return h.slice(0);if(h instanceof DataView){const w=new DataView(h.buffer.slice(0),h.byteOffset,h.byteLength);return x.set(h,w),f(w,h,g,x,b),w}if(typeof File<"u"&&h instanceof File){const w=new File([h],h.name,{type:h.type});return x.set(h,w),f(w,h,g,x,b),w}if(typeof Blob<"u"&&h instanceof Blob){const w=new Blob([h],{type:h.type});return x.set(h,w),f(w,h,g,x,b),w}if(h instanceof Error){const w=new h.constructor;return x.set(h,w),w.message=h.message,w.name=h.name,w.stack=h.stack,w.cause=h.cause,f(w,h,g,x,b),w}if(h instanceof Boolean){const w=new Boolean(h.valueOf());return x.set(h,w),f(w,h,g,x,b),w}if(h instanceof Number){const w=new Number(h.valueOf());return x.set(h,w),f(w,h,g,x,b),w}if(h instanceof String){const w=new String(h.valueOf());return x.set(h,w),f(w,h,g,x,b),w}if(typeof h=="object"&&u(h)){const w=Object.create(Object.getPrototypeOf(h));return x.set(h,w),f(w,h,g,x,b),w}return h}function f(h,p,g=h,x,b){const y=[...Object.keys(p),...t.getSymbols(p)];for(let w=0;w<y.length;w++){const _=y[w],E=Object.getOwnPropertyDescriptor(h,_);(E==null||E.writable)&&(h[_]=o(p[_],_,g,x,b))}}function u(h){switch(r.getTag(h)){case n.argumentsTag:case n.arrayTag:case n.arrayBufferTag:case n.dataViewTag:case n.booleanTag:case n.dateTag:case n.float32ArrayTag:case n.float64ArrayTag:case n.int8ArrayTag:case n.int16ArrayTag:case n.int32ArrayTag:case n.mapTag:case n.numberTag:case n.objectTag:case n.regexpTag:case n.setTag:case n.stringTag:case n.symbolTag:case n.uint8ArrayTag:case n.uint8ClampedArrayTag:case n.uint16ArrayTag:case n.uint32ArrayTag:return!0;default:return!1}}e.cloneDeepWith=l,e.cloneDeepWithImpl=o,e.copyProperties=f})(s5)),s5}var bC;function gle(){return bC||(bC=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=eM();function r(n){return t.cloneDeepWithImpl(n,void 0,n,new Map,void 0)}e.cloneDeep=r})(i5)),i5}var wC;function vle(){return wC||(wC=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=QL(),r=gle();function n(a){return a=r.cloneDeep(a),i=>t.isMatch(i,a)}e.matches=n})(Jw)),Jw}var f5={},d5={},h5={},_C;function yle(){return _C||(_C=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=eM(),r=JL();function n(a,i){return t.cloneDeepWith(a,(l,o,f,u)=>{const h=i?.(l,o,f,u);if(h!==void 0)return h;if(typeof a=="object")switch(Object.prototype.toString.call(a)){case r.numberTag:case r.stringTag:case r.booleanTag:{const p=new a.constructor(a?.valueOf());return t.copyProperties(p,a),p}case r.argumentsTag:{const p={};return t.copyProperties(p,a),p.length=a.length,p[Symbol.iterator]=a[Symbol.iterator],p}default:return}})}e.cloneDeepWith=n})(h5)),h5}var NC;function ble(){return NC||(NC=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=yle();function r(n){return t.cloneDeepWith(n)}e.cloneDeep=r})(d5)),d5}var m5={},p5={},SC;function tM(){return SC||(SC=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=/^(?:0|[1-9]\d*)$/;function r(n,a=Number.MAX_SAFE_INTEGER){switch(typeof n){case"number":return Number.isInteger(n)&&n>=0&&n<a;case"symbol":return!1;case"string":return t.test(n)}}e.isIndex=r})(p5)),p5}var x5={},jC;function wle(){return jC||(jC=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=ZL();function r(n){return n!==null&&typeof n=="object"&&t.getTag(n)==="[object Arguments]"}e.isArguments=r})(x5)),x5}var AC;function _le(){return AC||(AC=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=$L(),r=tM(),n=wle(),a=I3();function i(l,o){let f;if(Array.isArray(o)?f=o:typeof o=="string"&&t.isDeepKey(o)&&l?.[o]==null?f=a.toPath(o):f=[o],f.length===0)return!1;let u=l;for(let h=0;h<f.length;h++){const p=f[h];if((u==null||!Object.hasOwn(u,p))&&!((Array.isArray(u)||n.isArguments(u))&&r.isIndex(p)&&p<u.length))return!1;u=u[p]}return!0}e.has=i})(m5)),m5}var EC;function Nle(){return EC||(EC=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=QL(),r=R3(),n=ble(),a=B3(),i=_le();function l(o,f){switch(typeof o){case"object":{Object.is(o?.valueOf(),-0)&&(o="-0");break}case"number":{o=r.toKey(o);break}}return f=n.cloneDeep(f),function(u){const h=a.get(u,o);return h===void 0?i.has(u,o):f===void 0?h===void 0:t.isMatch(h,f)}}e.matchesProperty=l})(f5)),f5}var kC;function Sle(){return kC||(kC=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=GL(),r=hle(),n=vle(),a=Nle();function i(l){if(l==null)return t.identity;switch(typeof l){case"function":return l;case"object":return Array.isArray(l)&&l.length===2?a.matchesProperty(l[0],l[1]):n.matches(l);case"string":case"symbol":case"number":return r.property(l)}}e.iteratee=i})(Qw)),Qw}var CC;function jle(){return CC||(CC=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=cle(),r=GL(),n=dle(),a=Sle();function i(l,o=r.identity){return n.isArrayLikeObject(l)?t.uniqBy(Array.from(l),a.iteratee(o)):[]}e.uniqBy=i})(Hw)),Hw}var g5,TC;function Ale(){return TC||(TC=1,g5=jle().uniqBy),g5}var Ele=Ale();const OC=yf(Ele);function rM(e,t,r){return t===!0?OC(e,r):typeof t=="function"?OC(e,t):e}var v5={exports:{}},y5={},b5={exports:{}},w5={};/**
 * @license React
 * use-sync-external-store-shim.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var DC;function kle(){if(DC)return w5;DC=1;var e=Gm();function t(p,g){return p===g&&(p!==0||1/p===1/g)||p!==p&&g!==g}var r=typeof Object.is=="function"?Object.is:t,n=e.useState,a=e.useEffect,i=e.useLayoutEffect,l=e.useDebugValue;function o(p,g){var x=g(),b=n({inst:{value:x,getSnapshot:g}}),y=b[0].inst,w=b[1];return i(function(){y.value=x,y.getSnapshot=g,f(y)&&w({inst:y})},[p,x,g]),a(function(){return f(y)&&w({inst:y}),p(function(){f(y)&&w({inst:y})})},[p]),l(x),x}function f(p){var g=p.getSnapshot;p=p.value;try{var x=g();return!r(p,x)}catch{return!0}}function u(p,g){return g()}var h=typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"?u:o;return w5.useSyncExternalStore=e.useSyncExternalStore!==void 0?e.useSyncExternalStore:h,w5}var PC;function Cle(){return PC||(PC=1,b5.exports=kle()),b5.exports}/**
 * @license React
 * use-sync-external-store-shim/with-selector.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var FC;function Tle(){if(FC)return y5;FC=1;var e=Gm(),t=Cle();function r(u,h){return u===h&&(u!==0||1/u===1/h)||u!==u&&h!==h}var n=typeof Object.is=="function"?Object.is:r,a=t.useSyncExternalStore,i=e.useRef,l=e.useEffect,o=e.useMemo,f=e.useDebugValue;return y5.useSyncExternalStoreWithSelector=function(u,h,p,g,x){var b=i(null);if(b.current===null){var y={hasValue:!1,value:null};b.current=y}else y=b.current;b=o(function(){function _(R){if(!E){if(E=!0,A=R,R=g(R),x!==void 0&&y.hasValue){var P=y.value;if(x(P,R))return O=P}return O=R}if(P=O,n(A,R))return P;var T=g(R);return x!==void 0&&x(P,T)?(A=R,P):(A=R,O=T)}var E=!1,A,O,D=p===void 0?null:p;return[function(){return _(h())},D===null?void 0:function(){return _(D())}]},[h,p,g,x]);var w=a(u,b[0],b[1]);return l(function(){y.hasValue=!0,y.value=w},[w]),f(w),w},y5}var LC;function Ole(){return LC||(LC=1,v5.exports=Tle()),v5.exports}var Dle=Ole(),V3=C.createContext(null),Ple=e=>e,pa=()=>{var e=C.useContext(V3);return e?e.store.dispatch:Ple},Dv=()=>{},Fle=()=>Dv,Lle=(e,t)=>e===t;function Bt(e){var t=C.useContext(V3);return Dle.useSyncExternalStoreWithSelector(t?t.subscription.addNestedSub:Fle,t?t.store.getState:Dv,t?t.store.getState:Dv,t?e:Dv,Lle)}function Mle(e,t=`expected a function, instead received ${typeof e}`){if(typeof e!="function")throw new TypeError(t)}function Rle(e,t=`expected an object, instead received ${typeof e}`){if(typeof e!="object")throw new TypeError(t)}function Ile(e,t="expected all items to be functions, instead received the following types: "){if(!e.every(r=>typeof r=="function")){const r=e.map(n=>typeof n=="function"?`function ${n.name||"unnamed"}()`:typeof n).join(", ");throw new TypeError(`${t}[${r}]`)}}var MC=e=>Array.isArray(e)?e:[e];function Ble(e){const t=Array.isArray(e[0])?e[0]:e;return Ile(t,"createSelector expects all input-selectors to be functions, but received the following types: "),t}function Ule(e,t){const r=[],{length:n}=e;for(let a=0;a<n;a++)r.push(e[a].apply(null,t));return r}var zle=class{constructor(e){this.value=e}deref(){return this.value}},qle=typeof WeakRef<"u"?WeakRef:zle,$le=0,RC=1;function nv(){return{s:$le,v:void 0,o:null,p:null}}function nM(e,t={}){let r=nv();const{resultEqualityCheck:n}=t;let a,i=0;function l(){let o=r;const{length:f}=arguments;for(let p=0,g=f;p<g;p++){const x=arguments[p];if(typeof x=="function"||typeof x=="object"&&x!==null){let b=o.o;b===null&&(o.o=b=new WeakMap);const y=b.get(x);y===void 0?(o=nv(),b.set(x,o)):o=y}else{let b=o.p;b===null&&(o.p=b=new Map);const y=b.get(x);y===void 0?(o=nv(),b.set(x,o)):o=y}}const u=o;let h;if(o.s===RC)h=o.v;else if(h=e.apply(null,arguments),i++,n){const p=a?.deref?.()??a;p!=null&&n(p,h)&&(h=p,i!==0&&i--),a=typeof h=="object"&&h!==null||typeof h=="function"?new qle(h):h}return u.s=RC,u.v=h,h}return l.clearCache=()=>{r=nv(),l.resetResultsCount()},l.resultsCount=()=>i,l.resetResultsCount=()=>{i=0},l}function Hle(e,...t){const r=typeof e=="function"?{memoize:e,memoizeOptions:t}:e,n=(...a)=>{let i=0,l=0,o,f={},u=a.pop();typeof u=="object"&&(f=u,u=a.pop()),Mle(u,`createSelector expects an output function after the inputs, but received: [${typeof u}]`);const h={...r,...f},{memoize:p,memoizeOptions:g=[],argsMemoize:x=nM,argsMemoizeOptions:b=[]}=h,y=MC(g),w=MC(b),_=Ble(a),E=p(function(){return i++,u.apply(null,arguments)},...y),A=x(function(){l++;const D=Ule(_,arguments);return o=E.apply(null,D),o},...w);return Object.assign(A,{resultFunc:u,memoizedResultFunc:E,dependencies:_,dependencyRecomputations:()=>l,resetDependencyRecomputations:()=>{l=0},lastResult:()=>o,recomputations:()=>i,resetRecomputations:()=>{i=0},memoize:p,argsMemoize:x})};return Object.assign(n,{withTypes:()=>n}),n}var He=Hle(nM),Vle=Object.assign((e,t=He)=>{Rle(e,`createStructuredSelector expects first argument to be an object where each property is a selector, instead received a ${typeof e}`);const r=Object.keys(e),n=r.map(i=>e[i]);return t(n,(...i)=>i.reduce((l,o,f)=>(l[r[f]]=o,l),{}))},{withTypes:()=>Vle}),_5={},N5={},S5={},IC;function Wle(){return IC||(IC=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n){return typeof n=="symbol"?1:n===null?2:n===void 0?3:n!==n?4:0}const r=(n,a,i)=>{if(n!==a){const l=t(n),o=t(a);if(l===o&&l===0){if(n<a)return i==="desc"?1:-1;if(n>a)return i==="desc"?-1:1}return i==="desc"?o-l:l-o}return 0};e.compareValues=r})(S5)),S5}var j5={},A5={},BC;function aM(){return BC||(BC=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){return typeof r=="symbol"||r instanceof Symbol}e.isSymbol=t})(A5)),A5}var UC;function Gle(){return UC||(UC=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=aM(),r=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,n=/^\w*$/;function a(i,l){return Array.isArray(i)?!1:typeof i=="number"||typeof i=="boolean"||i==null||t.isSymbol(i)?!0:typeof i=="string"&&(n.test(i)||!r.test(i))||l!=null&&Object.hasOwn(l,i)}e.isKey=a})(j5)),j5}var zC;function Kle(){return zC||(zC=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=Wle(),r=Gle(),n=I3();function a(i,l,o,f){if(i==null)return[];o=f?void 0:o,Array.isArray(i)||(i=Object.values(i)),Array.isArray(l)||(l=l==null?[null]:[l]),l.length===0&&(l=[null]),Array.isArray(o)||(o=o==null?[]:[o]),o=o.map(x=>String(x));const u=(x,b)=>{let y=x;for(let w=0;w<b.length&&y!=null;++w)y=y[b[w]];return y},h=(x,b)=>b==null||x==null?b:typeof x=="object"&&"key"in x?Object.hasOwn(b,x.key)?b[x.key]:u(b,x.path):typeof x=="function"?x(b):Array.isArray(x)?u(b,x):typeof b=="object"?b[x]:b,p=l.map(x=>(Array.isArray(x)&&x.length===1&&(x=x[0]),x==null||typeof x=="function"||Array.isArray(x)||r.isKey(x)?x:{key:x,path:n.toPath(x)}));return i.map(x=>({original:x,criteria:p.map(b=>h(b,x))})).slice().sort((x,b)=>{for(let y=0;y<p.length;y++){const w=t.compareValues(x.criteria[y],b.criteria[y],o[y]);if(w!==0)return w}return 0}).map(x=>x.original)}e.orderBy=a})(N5)),N5}var E5={},qC;function Yle(){return qC||(qC=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r,n=1){const a=[],i=Math.floor(n),l=(o,f)=>{for(let u=0;u<o.length;u++){const h=o[u];Array.isArray(h)&&f<i?l(h,f+1):a.push(h)}};return l(r,0),a}e.flatten=t})(E5)),E5}var k5={},$C;function iM(){return $C||($C=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=tM(),r=H3(),n=KL(),a=XL();function i(l,o,f){return n.isObject(f)&&(typeof o=="number"&&r.isArrayLike(f)&&t.isIndex(o)&&o<f.length||typeof o=="string"&&o in f)?a.eq(f[o],l):!1}e.isIterateeCall=i})(k5)),k5}var HC;function Xle(){return HC||(HC=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=Kle(),r=Yle(),n=iM();function a(i,...l){const o=l.length;return o>1&&n.isIterateeCall(i,l[0],l[1])?l=[]:o>2&&n.isIterateeCall(l[0],l[1],l[2])&&(l=[l[0]]),t.orderBy(i,r.flatten(l),["asc"])}e.sortBy=a})(_5)),_5}var C5,VC;function Qle(){return VC||(VC=1,C5=Xle().sortBy),C5}var Zle=Qle();const p2=yf(Zle);var sM=e=>e.legend.settings,Jle=e=>e.legend.size,eoe=e=>e.legend.payload,toe=He([eoe,sM],(e,t)=>{var{itemSorter:r}=t,n=e.flat(1);return r?p2(n,r):n});function roe(){return Bt(toe)}var av=1;function lM(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],[t,r]=C.useState({height:0,left:0,top:0,width:0}),n=C.useCallback(a=>{if(a!=null){var i=a.getBoundingClientRect(),l={height:i.height,left:i.left,top:i.top,width:i.width};(Math.abs(l.height-t.height)>av||Math.abs(l.left-t.left)>av||Math.abs(l.top-t.top)>av||Math.abs(l.width-t.width)>av)&&r({height:l.height,left:l.left,top:l.top,width:l.width})}},[t.width,t.height,t.top,t.left,...e]);return[t,n]}function es(e){return`Minified Redux error #${e}; visit https://redux.js.org/Errors?code=${e} for the full message or use the non-minified dev environment for full errors. `}var noe=typeof Symbol=="function"&&Symbol.observable||"@@observable",WC=noe,T5=()=>Math.random().toString(36).substring(7).split("").join("."),aoe={INIT:`@@redux/INIT${T5()}`,REPLACE:`@@redux/REPLACE${T5()}`,PROBE_UNKNOWN_ACTION:()=>`@@redux/PROBE_UNKNOWN_ACTION${T5()}`},dy=aoe;function W3(e){if(typeof e!="object"||e===null)return!1;let t=e;for(;Object.getPrototypeOf(t)!==null;)t=Object.getPrototypeOf(t);return Object.getPrototypeOf(e)===t||Object.getPrototypeOf(e)===null}function oM(e,t,r){if(typeof e!="function")throw new Error(es(2));if(typeof t=="function"&&typeof r=="function"||typeof r=="function"&&typeof arguments[3]=="function")throw new Error(es(0));if(typeof t=="function"&&typeof r>"u"&&(r=t,t=void 0),typeof r<"u"){if(typeof r!="function")throw new Error(es(1));return r(oM)(e,t)}let n=e,a=t,i=new Map,l=i,o=0,f=!1;function u(){l===i&&(l=new Map,i.forEach((w,_)=>{l.set(_,w)}))}function h(){if(f)throw new Error(es(3));return a}function p(w){if(typeof w!="function")throw new Error(es(4));if(f)throw new Error(es(5));let _=!0;u();const E=o++;return l.set(E,w),function(){if(_){if(f)throw new Error(es(6));_=!1,u(),l.delete(E),i=null}}}function g(w){if(!W3(w))throw new Error(es(7));if(typeof w.type>"u")throw new Error(es(8));if(typeof w.type!="string")throw new Error(es(17));if(f)throw new Error(es(9));try{f=!0,a=n(a,w)}finally{f=!1}return(i=l).forEach(E=>{E()}),w}function x(w){if(typeof w!="function")throw new Error(es(10));n=w,g({type:dy.REPLACE})}function b(){const w=p;return{subscribe(_){if(typeof _!="object"||_===null)throw new Error(es(11));function E(){const O=_;O.next&&O.next(h())}return E(),{unsubscribe:w(E)}},[WC](){return this}}}return g({type:dy.INIT}),{dispatch:g,subscribe:p,getState:h,replaceReducer:x,[WC]:b}}function ioe(e){Object.keys(e).forEach(t=>{const r=e[t];if(typeof r(void 0,{type:dy.INIT})>"u")throw new Error(es(12));if(typeof r(void 0,{type:dy.PROBE_UNKNOWN_ACTION()})>"u")throw new Error(es(13))})}function cM(e){const t=Object.keys(e),r={};for(let i=0;i<t.length;i++){const l=t[i];typeof e[l]=="function"&&(r[l]=e[l])}const n=Object.keys(r);let a;try{ioe(r)}catch(i){a=i}return function(l={},o){if(a)throw a;let f=!1;const u={};for(let h=0;h<n.length;h++){const p=n[h],g=r[p],x=l[p],b=g(x,o);if(typeof b>"u")throw o&&o.type,new Error(es(14));u[p]=b,f=f||b!==x}return f=f||n.length!==Object.keys(l).length,f?u:l}}function hy(...e){return e.length===0?t=>t:e.length===1?e[0]:e.reduce((t,r)=>(...n)=>t(r(...n)))}function soe(...e){return t=>(r,n)=>{const a=t(r,n);let i=()=>{throw new Error(es(15))};const l={getState:a.getState,dispatch:(f,...u)=>i(f,...u)},o=e.map(f=>f(l));return i=hy(...o)(a.dispatch),{...a,dispatch:i}}}function uM(e){return W3(e)&&"type"in e&&typeof e.type=="string"}var fM=Symbol.for("immer-nothing"),GC=Symbol.for("immer-draftable"),no=Symbol.for("immer-state");function vc(e,...t){throw new Error(`[Immer] minified error nr: ${e}. Full error at: https://bit.ly/3cXEKWf`)}var Jx=Object.getPrototypeOf;function Z0(e){return!!e&&!!e[no]}function mf(e){return e?dM(e)||Array.isArray(e)||!!e[GC]||!!e.constructor?.[GC]||Tg(e)||g2(e):!1}var loe=Object.prototype.constructor.toString(),KC=new WeakMap;function dM(e){if(!e||typeof e!="object")return!1;const t=Object.getPrototypeOf(e);if(t===null||t===Object.prototype)return!0;const r=Object.hasOwnProperty.call(t,"constructor")&&t.constructor;if(r===Object)return!0;if(typeof r!="function")return!1;let n=KC.get(r);return n===void 0&&(n=Function.toString.call(r),KC.set(r,n)),n===loe}function my(e,t,r=!0){x2(e)===0?(r?Reflect.ownKeys(e):Object.keys(e)).forEach(a=>{t(a,e[a],e)}):e.forEach((n,a)=>t(a,n,e))}function x2(e){const t=e[no];return t?t.type_:Array.isArray(e)?1:Tg(e)?2:g2(e)?3:0}function v_(e,t){return x2(e)===2?e.has(t):Object.prototype.hasOwnProperty.call(e,t)}function hM(e,t,r){const n=x2(e);n===2?e.set(t,r):n===3?e.add(r):e[t]=r}function ooe(e,t){return e===t?e!==0||1/e===1/t:e!==e&&t!==t}function Tg(e){return e instanceof Map}function g2(e){return e instanceof Set}function w0(e){return e.copy_||e.base_}function y_(e,t){if(Tg(e))return new Map(e);if(g2(e))return new Set(e);if(Array.isArray(e))return Array.prototype.slice.call(e);const r=dM(e);if(t===!0||t==="class_only"&&!r){const n=Object.getOwnPropertyDescriptors(e);delete n[no];let a=Reflect.ownKeys(n);for(let i=0;i<a.length;i++){const l=a[i],o=n[l];o.writable===!1&&(o.writable=!0,o.configurable=!0),(o.get||o.set)&&(n[l]={configurable:!0,writable:!0,enumerable:o.enumerable,value:e[l]})}return Object.create(Jx(e),n)}else{const n=Jx(e);if(n!==null&&r)return{...e};const a=Object.create(n);return Object.assign(a,e)}}function G3(e,t=!1){return v2(e)||Z0(e)||!mf(e)||(x2(e)>1&&Object.defineProperties(e,{set:iv,add:iv,clear:iv,delete:iv}),Object.freeze(e),t&&Object.values(e).forEach(r=>G3(r,!0))),e}function coe(){vc(2)}var iv={value:coe};function v2(e){return e===null||typeof e!="object"?!0:Object.isFrozen(e)}var uoe={};function J0(e){const t=uoe[e];return t||vc(0,e),t}var eg;function mM(){return eg}function foe(e,t){return{drafts_:[],parent_:e,immer_:t,canAutoFreeze_:!0,unfinalizedDrafts_:0}}function YC(e,t){t&&(J0("Patches"),e.patches_=[],e.inversePatches_=[],e.patchListener_=t)}function b_(e){w_(e),e.drafts_.forEach(doe),e.drafts_=null}function w_(e){e===eg&&(eg=e.parent_)}function XC(e){return eg=foe(eg,e)}function doe(e){const t=e[no];t.type_===0||t.type_===1?t.revoke_():t.revoked_=!0}function QC(e,t){t.unfinalizedDrafts_=t.drafts_.length;const r=t.drafts_[0];return e!==void 0&&e!==r?(r[no].modified_&&(b_(t),vc(4)),mf(e)&&(e=py(t,e),t.parent_||xy(t,e)),t.patches_&&J0("Patches").generateReplacementPatches_(r[no].base_,e,t.patches_,t.inversePatches_)):e=py(t,r,[]),b_(t),t.patches_&&t.patchListener_(t.patches_,t.inversePatches_),e!==fM?e:void 0}function py(e,t,r){if(v2(t))return t;const n=e.immer_.shouldUseStrictIteration(),a=t[no];if(!a)return my(t,(i,l)=>ZC(e,a,t,i,l,r),n),t;if(a.scope_!==e)return t;if(!a.modified_)return xy(e,a.base_,!0),a.base_;if(!a.finalized_){a.finalized_=!0,a.scope_.unfinalizedDrafts_--;const i=a.copy_;let l=i,o=!1;a.type_===3&&(l=new Set(i),i.clear(),o=!0),my(l,(f,u)=>ZC(e,a,i,f,u,r,o),n),xy(e,i,!1),r&&e.patches_&&J0("Patches").generatePatches_(a,r,e.patches_,e.inversePatches_)}return a.copy_}function ZC(e,t,r,n,a,i,l){if(a==null||typeof a!="object"&&!l)return;const o=v2(a);if(!(o&&!l)){if(Z0(a)){const f=i&&t&&t.type_!==3&&!v_(t.assigned_,n)?i.concat(n):void 0,u=py(e,a,f);if(hM(r,n,u),Z0(u))e.canAutoFreeze_=!1;else return}else l&&r.add(a);if(mf(a)&&!o){if(!e.immer_.autoFreeze_&&e.unfinalizedDrafts_<1||t&&t.base_&&t.base_[n]===a&&o)return;py(e,a),(!t||!t.scope_.parent_)&&typeof n!="symbol"&&(Tg(r)?r.has(n):Object.prototype.propertyIsEnumerable.call(r,n))&&xy(e,a)}}}function xy(e,t,r=!1){!e.parent_&&e.immer_.autoFreeze_&&e.canAutoFreeze_&&G3(t,r)}function hoe(e,t){const r=Array.isArray(e),n={type_:r?1:0,scope_:t?t.scope_:mM(),modified_:!1,finalized_:!1,assigned_:{},parent_:t,base_:e,draft_:null,copy_:null,revoke_:null,isManual_:!1};let a=n,i=K3;r&&(a=[n],i=tg);const{revoke:l,proxy:o}=Proxy.revocable(a,i);return n.draft_=o,n.revoke_=l,o}var K3={get(e,t){if(t===no)return e;const r=w0(e);if(!v_(r,t))return moe(e,r,t);const n=r[t];return e.finalized_||!mf(n)?n:n===O5(e.base_,t)?(D5(e),e.copy_[t]=N_(n,e)):n},has(e,t){return t in w0(e)},ownKeys(e){return Reflect.ownKeys(w0(e))},set(e,t,r){const n=pM(w0(e),t);if(n?.set)return n.set.call(e.draft_,r),!0;if(!e.modified_){const a=O5(w0(e),t),i=a?.[no];if(i&&i.base_===r)return e.copy_[t]=r,e.assigned_[t]=!1,!0;if(ooe(r,a)&&(r!==void 0||v_(e.base_,t)))return!0;D5(e),__(e)}return e.copy_[t]===r&&(r!==void 0||t in e.copy_)||Number.isNaN(r)&&Number.isNaN(e.copy_[t])||(e.copy_[t]=r,e.assigned_[t]=!0),!0},deleteProperty(e,t){return O5(e.base_,t)!==void 0||t in e.base_?(e.assigned_[t]=!1,D5(e),__(e)):delete e.assigned_[t],e.copy_&&delete e.copy_[t],!0},getOwnPropertyDescriptor(e,t){const r=w0(e),n=Reflect.getOwnPropertyDescriptor(r,t);return n&&{writable:!0,configurable:e.type_!==1||t!=="length",enumerable:n.enumerable,value:r[t]}},defineProperty(){vc(11)},getPrototypeOf(e){return Jx(e.base_)},setPrototypeOf(){vc(12)}},tg={};my(K3,(e,t)=>{tg[e]=function(){return arguments[0]=arguments[0][0],t.apply(this,arguments)}});tg.deleteProperty=function(e,t){return tg.set.call(this,e,t,void 0)};tg.set=function(e,t,r){return K3.set.call(this,e[0],t,r,e[0])};function O5(e,t){const r=e[no];return(r?w0(r):e)[t]}function moe(e,t,r){const n=pM(t,r);return n?"value"in n?n.value:n.get?.call(e.draft_):void 0}function pM(e,t){if(!(t in e))return;let r=Jx(e);for(;r;){const n=Object.getOwnPropertyDescriptor(r,t);if(n)return n;r=Jx(r)}}function __(e){e.modified_||(e.modified_=!0,e.parent_&&__(e.parent_))}function D5(e){e.copy_||(e.copy_=y_(e.base_,e.scope_.immer_.useStrictShallowCopy_))}var poe=class{constructor(e){this.autoFreeze_=!0,this.useStrictShallowCopy_=!1,this.useStrictIteration_=!0,this.produce=(t,r,n)=>{if(typeof t=="function"&&typeof r!="function"){const i=r;r=t;const l=this;return function(f=i,...u){return l.produce(f,h=>r.call(this,h,...u))}}typeof r!="function"&&vc(6),n!==void 0&&typeof n!="function"&&vc(7);let a;if(mf(t)){const i=XC(this),l=N_(t,void 0);let o=!0;try{a=r(l),o=!1}finally{o?b_(i):w_(i)}return YC(i,n),QC(a,i)}else if(!t||typeof t!="object"){if(a=r(t),a===void 0&&(a=t),a===fM&&(a=void 0),this.autoFreeze_&&G3(a,!0),n){const i=[],l=[];J0("Patches").generateReplacementPatches_(t,a,i,l),n(i,l)}return a}else vc(1,t)},this.produceWithPatches=(t,r)=>{if(typeof t=="function")return(l,...o)=>this.produceWithPatches(l,f=>t(f,...o));let n,a;return[this.produce(t,r,(l,o)=>{n=l,a=o}),n,a]},typeof e?.autoFreeze=="boolean"&&this.setAutoFreeze(e.autoFreeze),typeof e?.useStrictShallowCopy=="boolean"&&this.setUseStrictShallowCopy(e.useStrictShallowCopy),typeof e?.useStrictIteration=="boolean"&&this.setUseStrictIteration(e.useStrictIteration)}createDraft(e){mf(e)||vc(8),Z0(e)&&(e=sf(e));const t=XC(this),r=N_(e,void 0);return r[no].isManual_=!0,w_(t),r}finishDraft(e,t){const r=e&&e[no];(!r||!r.isManual_)&&vc(9);const{scope_:n}=r;return YC(n,t),QC(void 0,n)}setAutoFreeze(e){this.autoFreeze_=e}setUseStrictShallowCopy(e){this.useStrictShallowCopy_=e}setUseStrictIteration(e){this.useStrictIteration_=e}shouldUseStrictIteration(){return this.useStrictIteration_}applyPatches(e,t){let r;for(r=t.length-1;r>=0;r--){const a=t[r];if(a.path.length===0&&a.op==="replace"){e=a.value;break}}r>-1&&(t=t.slice(r+1));const n=J0("Patches").applyPatches_;return Z0(e)?n(e,t):this.produce(e,a=>n(a,t))}};function N_(e,t){const r=Tg(e)?J0("MapSet").proxyMap_(e,t):g2(e)?J0("MapSet").proxySet_(e,t):hoe(e,t);return(t?t.scope_:mM()).drafts_.push(r),r}function sf(e){return Z0(e)||vc(10,e),xM(e)}function xM(e){if(!mf(e)||v2(e))return e;const t=e[no];let r,n=!0;if(t){if(!t.modified_)return t.base_;t.finalized_=!0,r=y_(e,t.scope_.immer_.useStrictShallowCopy_),n=t.scope_.immer_.shouldUseStrictIteration()}else r=y_(e,!0);return my(r,(a,i)=>{hM(r,a,xM(i))},n),t&&(t.finalized_=!1),r}var xoe=new poe,gM=xoe.produce;function vM(e){return({dispatch:r,getState:n})=>a=>i=>typeof i=="function"?i(r,n,e):a(i)}var goe=vM(),voe=vM,yoe=typeof window<"u"&&window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__?window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__:function(){if(arguments.length!==0)return typeof arguments[0]=="object"?hy:hy.apply(null,arguments)};function zo(e,t){function r(...n){if(t){let a=t(...n);if(!a)throw new Error(eo(0));return{type:e,payload:a.payload,..."meta"in a&&{meta:a.meta},..."error"in a&&{error:a.error}}}return{type:e,payload:n[0]}}return r.toString=()=>`${e}`,r.type=e,r.match=n=>uM(n)&&n.type===e,r}var yM=class gx extends Array{constructor(...t){super(...t),Object.setPrototypeOf(this,gx.prototype)}static get[Symbol.species](){return gx}concat(...t){return super.concat.apply(this,t)}prepend(...t){return t.length===1&&Array.isArray(t[0])?new gx(...t[0].concat(this)):new gx(...t.concat(this))}};function JC(e){return mf(e)?gM(e,()=>{}):e}function sv(e,t,r){return e.has(t)?e.get(t):e.set(t,r(t)).get(t)}function boe(e){return typeof e=="boolean"}var woe=()=>function(t){const{thunk:r=!0,immutableCheck:n=!0,serializableCheck:a=!0,actionCreatorCheck:i=!0}=t??{};let l=new yM;return r&&(boe(r)?l.push(goe):l.push(voe(r.extraArgument))),l},bM="RTK_autoBatch",Ws=()=>e=>({payload:e,meta:{[bM]:!0}}),eT=e=>t=>{setTimeout(t,e)},wM=(e={type:"raf"})=>t=>(...r)=>{const n=t(...r);let a=!0,i=!1,l=!1;const o=new Set,f=e.type==="tick"?queueMicrotask:e.type==="raf"?typeof window<"u"&&window.requestAnimationFrame?window.requestAnimationFrame:eT(10):e.type==="callback"?e.queueNotification:eT(e.timeout),u=()=>{l=!1,i&&(i=!1,o.forEach(h=>h()))};return Object.assign({},n,{subscribe(h){const p=()=>a&&h(),g=n.subscribe(p);return o.add(h),()=>{g(),o.delete(h)}},dispatch(h){try{return a=!h?.meta?.[bM],i=!a,i&&(l||(l=!0,f(u))),n.dispatch(h)}finally{a=!0}}})},_oe=e=>function(r){const{autoBatch:n=!0}=r??{};let a=new yM(e);return n&&a.push(wM(typeof n=="object"?n:void 0)),a};function Noe(e){const t=woe(),{reducer:r=void 0,middleware:n,devTools:a=!0,preloadedState:i=void 0,enhancers:l=void 0}=e||{};let o;if(typeof r=="function")o=r;else if(W3(r))o=cM(r);else throw new Error(eo(1));let f;typeof n=="function"?f=n(t):f=t();let u=hy;a&&(u=yoe({trace:!1,...typeof a=="object"&&a}));const h=soe(...f),p=_oe(h);let g=typeof l=="function"?l(p):p();const x=u(...g);return oM(o,i,x)}function _M(e){const t={},r=[];let n;const a={addCase(i,l){const o=typeof i=="string"?i:i.type;if(!o)throw new Error(eo(28));if(o in t)throw new Error(eo(29));return t[o]=l,a},addAsyncThunk(i,l){return l.pending&&(t[i.pending.type]=l.pending),l.rejected&&(t[i.rejected.type]=l.rejected),l.fulfilled&&(t[i.fulfilled.type]=l.fulfilled),l.settled&&r.push({matcher:i.settled,reducer:l.settled}),a},addMatcher(i,l){return r.push({matcher:i,reducer:l}),a},addDefaultCase(i){return n=i,a}};return e(a),[t,r,n]}function Soe(e){return typeof e=="function"}function joe(e,t){let[r,n,a]=_M(t),i;if(Soe(e))i=()=>JC(e());else{const o=JC(e);i=()=>o}function l(o=i(),f){let u=[r[f.type],...n.filter(({matcher:h})=>h(f)).map(({reducer:h})=>h)];return u.filter(h=>!!h).length===0&&(u=[a]),u.reduce((h,p)=>{if(p)if(Z0(h)){const x=p(h,f);return x===void 0?h:x}else{if(mf(h))return gM(h,g=>p(g,f));{const g=p(h,f);if(g===void 0){if(h===null)return h;throw Error("A case reducer on a non-draftable value must not return undefined")}return g}}return h},o)}return l.getInitialState=i,l}var Aoe="ModuleSymbhasOwnPr-0123456789ABCDEFGHNRVfgctiUvz_KqYTJkLxpZXIjQW",Eoe=(e=21)=>{let t="",r=e;for(;r--;)t+=Aoe[Math.random()*64|0];return t},koe=Symbol.for("rtk-slice-createasyncthunk");function Coe(e,t){return`${e}/${t}`}function Toe({creators:e}={}){const t=e?.asyncThunk?.[koe];return function(n){const{name:a,reducerPath:i=a}=n;if(!a)throw new Error(eo(11));const l=(typeof n.reducers=="function"?n.reducers(Doe()):n.reducers)||{},o=Object.keys(l),f={sliceCaseReducersByName:{},sliceCaseReducersByType:{},actionCreators:{},sliceMatchers:[]},u={addCase(A,O){const D=typeof A=="string"?A:A.type;if(!D)throw new Error(eo(12));if(D in f.sliceCaseReducersByType)throw new Error(eo(13));return f.sliceCaseReducersByType[D]=O,u},addMatcher(A,O){return f.sliceMatchers.push({matcher:A,reducer:O}),u},exposeAction(A,O){return f.actionCreators[A]=O,u},exposeCaseReducer(A,O){return f.sliceCaseReducersByName[A]=O,u}};o.forEach(A=>{const O=l[A],D={reducerName:A,type:Coe(a,A),createNotation:typeof n.reducers=="function"};Foe(O)?Moe(D,O,u,t):Poe(D,O,u)});function h(){const[A={},O=[],D=void 0]=typeof n.extraReducers=="function"?_M(n.extraReducers):[n.extraReducers],R={...A,...f.sliceCaseReducersByType};return joe(n.initialState,P=>{for(let T in R)P.addCase(T,R[T]);for(let T of f.sliceMatchers)P.addMatcher(T.matcher,T.reducer);for(let T of O)P.addMatcher(T.matcher,T.reducer);D&&P.addDefaultCase(D)})}const p=A=>A,g=new Map,x=new WeakMap;let b;function y(A,O){return b||(b=h()),b(A,O)}function w(){return b||(b=h()),b.getInitialState()}function _(A,O=!1){function D(P){let T=P[A];return typeof T>"u"&&O&&(T=sv(x,D,w)),T}function R(P=p){const T=sv(g,O,()=>new WeakMap);return sv(T,P,()=>{const B={};for(const[G,I]of Object.entries(n.selectors??{}))B[G]=Ooe(I,P,()=>sv(x,P,w),O);return B})}return{reducerPath:A,getSelectors:R,get selectors(){return R(D)},selectSlice:D}}const E={name:a,reducer:y,actions:f.actionCreators,caseReducers:f.sliceCaseReducersByName,getInitialState:w,..._(i),injectInto(A,{reducerPath:O,...D}={}){const R=O??i;return A.inject({reducerPath:R,reducer:y},D),{...E,..._(R,!0)}}};return E}}function Ooe(e,t,r,n){function a(i,...l){let o=t(i);return typeof o>"u"&&n&&(o=r()),e(o,...l)}return a.unwrapped=e,a}var io=Toe();function Doe(){function e(t,r){return{_reducerDefinitionType:"asyncThunk",payloadCreator:t,...r}}return e.withTypes=()=>e,{reducer(t){return Object.assign({[t.name](...r){return t(...r)}}[t.name],{_reducerDefinitionType:"reducer"})},preparedReducer(t,r){return{_reducerDefinitionType:"reducerWithPrepare",prepare:t,reducer:r}},asyncThunk:e}}function Poe({type:e,reducerName:t,createNotation:r},n,a){let i,l;if("reducer"in n){if(r&&!Loe(n))throw new Error(eo(17));i=n.reducer,l=n.prepare}else i=n;a.addCase(e,i).exposeCaseReducer(t,i).exposeAction(t,l?zo(e,l):zo(e))}function Foe(e){return e._reducerDefinitionType==="asyncThunk"}function Loe(e){return e._reducerDefinitionType==="reducerWithPrepare"}function Moe({type:e,reducerName:t},r,n,a){if(!a)throw new Error(eo(18));const{payloadCreator:i,fulfilled:l,pending:o,rejected:f,settled:u,options:h}=r,p=a(e,i,h);n.exposeAction(t,p),l&&n.addCase(p.fulfilled,l),o&&n.addCase(p.pending,o),f&&n.addCase(p.rejected,f),u&&n.addMatcher(p.settled,u),n.exposeCaseReducer(t,{fulfilled:l||lv,pending:o||lv,rejected:f||lv,settled:u||lv})}function lv(){}var Roe="task",NM="listener",SM="completed",Y3="cancelled",Ioe=`task-${Y3}`,Boe=`task-${SM}`,S_=`${NM}-${Y3}`,Uoe=`${NM}-${SM}`,y2=class{constructor(e){this.code=e,this.message=`${Roe} ${Y3} (reason: ${e})`}name="TaskAbortError";message},X3=(e,t)=>{if(typeof e!="function")throw new TypeError(eo(32))},gy=()=>{},jM=(e,t=gy)=>(e.catch(t),e),AM=(e,t)=>(e.addEventListener("abort",t,{once:!0}),()=>e.removeEventListener("abort",t)),L0=(e,t)=>{const r=e.signal;r.aborted||("reason"in r||Object.defineProperty(r,"reason",{enumerable:!0,value:t,configurable:!0,writable:!0}),e.abort(t))},M0=e=>{if(e.aborted){const{reason:t}=e;throw new y2(t)}};function EM(e,t){let r=gy;return new Promise((n,a)=>{const i=()=>a(new y2(e.reason));if(e.aborted){i();return}r=AM(e,i),t.finally(()=>r()).then(n,a)}).finally(()=>{r=gy})}var zoe=async(e,t)=>{try{return await Promise.resolve(),{status:"ok",value:await e()}}catch(r){return{status:r instanceof y2?"cancelled":"rejected",error:r}}finally{t?.()}},vy=e=>t=>jM(EM(e,t).then(r=>(M0(e),r))),kM=e=>{const t=vy(e);return r=>t(new Promise(n=>setTimeout(n,r)))},{assign:Tm}=Object,tT={},b2="listenerMiddleware",qoe=(e,t)=>{const r=n=>AM(e,()=>L0(n,e.reason));return(n,a)=>{X3(n);const i=new AbortController;r(i);const l=zoe(async()=>{M0(e),M0(i.signal);const o=await n({pause:vy(i.signal),delay:kM(i.signal),signal:i.signal});return M0(i.signal),o},()=>L0(i,Boe));return a?.autoJoin&&t.push(l.catch(gy)),{result:vy(e)(l),cancel(){L0(i,Ioe)}}}},$oe=(e,t)=>{const r=async(n,a)=>{M0(t);let i=()=>{};const o=[new Promise((f,u)=>{let h=e({predicate:n,effect:(p,g)=>{g.unsubscribe(),f([p,g.getState(),g.getOriginalState()])}});i=()=>{h(),u()}})];a!=null&&o.push(new Promise(f=>setTimeout(f,a,null)));try{const f=await EM(t,Promise.race(o));return M0(t),f}finally{i()}};return(n,a)=>jM(r(n,a))},CM=e=>{let{type:t,actionCreator:r,matcher:n,predicate:a,effect:i}=e;if(t)a=zo(t).match;else if(r)t=r.type,a=r.match;else if(n)a=n;else if(!a)throw new Error(eo(21));return X3(i),{predicate:a,type:t,effect:i}},TM=Tm(e=>{const{type:t,predicate:r,effect:n}=CM(e);return{id:Eoe(),effect:n,type:t,predicate:r,pending:new Set,unsubscribe:()=>{throw new Error(eo(22))}}},{withTypes:()=>TM}),rT=(e,t)=>{const{type:r,effect:n,predicate:a}=CM(t);return Array.from(e.values()).find(i=>(typeof r=="string"?i.type===r:i.predicate===a)&&i.effect===n)},j_=e=>{e.pending.forEach(t=>{L0(t,S_)})},Hoe=(e,t)=>()=>{for(const r of t.keys())j_(r);e.clear()},nT=(e,t,r)=>{try{e(t,r)}catch(n){setTimeout(()=>{throw n},0)}},OM=Tm(zo(`${b2}/add`),{withTypes:()=>OM}),Voe=zo(`${b2}/removeAll`),DM=Tm(zo(`${b2}/remove`),{withTypes:()=>DM}),Woe=(...e)=>{console.error(`${b2}/error`,...e)},Og=(e={})=>{const t=new Map,r=new Map,n=x=>{const b=r.get(x)??0;r.set(x,b+1)},a=x=>{const b=r.get(x)??1;b===1?r.delete(x):r.set(x,b-1)},{extra:i,onError:l=Woe}=e;X3(l);const o=x=>(x.unsubscribe=()=>t.delete(x.id),t.set(x.id,x),b=>{x.unsubscribe(),b?.cancelActive&&j_(x)}),f=x=>{const b=rT(t,x)??TM(x);return o(b)};Tm(f,{withTypes:()=>f});const u=x=>{const b=rT(t,x);return b&&(b.unsubscribe(),x.cancelActive&&j_(b)),!!b};Tm(u,{withTypes:()=>u});const h=async(x,b,y,w)=>{const _=new AbortController,E=$oe(f,_.signal),A=[];try{x.pending.add(_),n(x),await Promise.resolve(x.effect(b,Tm({},y,{getOriginalState:w,condition:(O,D)=>E(O,D).then(Boolean),take:E,delay:kM(_.signal),pause:vy(_.signal),extra:i,signal:_.signal,fork:qoe(_.signal,A),unsubscribe:x.unsubscribe,subscribe:()=>{t.set(x.id,x)},cancelActiveListeners:()=>{x.pending.forEach((O,D,R)=>{O!==_&&(L0(O,S_),R.delete(O))})},cancel:()=>{L0(_,S_),x.pending.delete(_)},throwIfCancelled:()=>{M0(_.signal)}})))}catch(O){O instanceof y2||nT(l,O,{raisedBy:"effect"})}finally{await Promise.all(A),L0(_,Uoe),a(x),x.pending.delete(_)}},p=Hoe(t,r);return{middleware:x=>b=>y=>{if(!uM(y))return b(y);if(OM.match(y))return f(y.payload);if(Voe.match(y)){p();return}if(DM.match(y))return u(y.payload);let w=x.getState();const _=()=>{if(w===tT)throw new Error(eo(23));return w};let E;try{if(E=b(y),t.size>0){const A=x.getState(),O=Array.from(t.values());for(const D of O){let R=!1;try{R=D.predicate(y,A,w)}catch(P){R=!1,nT(l,P,{raisedBy:"predicate"})}R&&h(D,y,x,_)}}}finally{w=tT}return E},startListening:f,stopListening:u,clearListeners:p}};function eo(e){return`Minified Redux Toolkit error #${e}; visit https://redux-toolkit.js.org/Errors?code=${e} for the full message or use the non-minified dev environment for full errors. `}var Goe={layoutType:"horizontal",width:0,height:0,margin:{top:5,right:5,bottom:5,left:5},scale:1},PM=io({name:"chartLayout",initialState:Goe,reducers:{setLayout(e,t){e.layoutType=t.payload},setChartSize(e,t){e.width=t.payload.width,e.height=t.payload.height},setMargin(e,t){var r,n,a,i;e.margin.top=(r=t.payload.top)!==null&&r!==void 0?r:0,e.margin.right=(n=t.payload.right)!==null&&n!==void 0?n:0,e.margin.bottom=(a=t.payload.bottom)!==null&&a!==void 0?a:0,e.margin.left=(i=t.payload.left)!==null&&i!==void 0?i:0},setScale(e,t){e.scale=t.payload}}}),{setMargin:Koe,setLayout:Yoe,setChartSize:Xoe,setScale:Qoe}=PM.actions,Zoe=PM.reducer;function aT(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function iT(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?aT(Object(r),!0).forEach(function(n){Joe(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):aT(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Joe(e,t,r){return(t=ece(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function ece(e){var t=tce(e,"string");return typeof t=="symbol"?t:t+""}function tce(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var yy=Math.PI/180,rce=e=>e*180/Math.PI,ai=(e,t,r,n)=>({x:e+Math.cos(-yy*n)*r,y:t+Math.sin(-yy*n)*r}),FM=function(t,r){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{top:0,right:0,bottom:0,left:0};return Math.min(Math.abs(t-(n.left||0)-(n.right||0)),Math.abs(r-(n.top||0)-(n.bottom||0)))/2},nce=(e,t)=>{var{x:r,y:n}=e,{x:a,y:i}=t;return Math.sqrt((r-a)**2+(n-i)**2)},ace=(e,t)=>{var{x:r,y:n}=e,{cx:a,cy:i}=t,l=nce({x:r,y:n},{x:a,y:i});if(l<=0)return{radius:l,angle:0};var o=(r-a)/l,f=Math.acos(o);return n>i&&(f=2*Math.PI-f),{radius:l,angle:rce(f),angleInRadian:f}},ice=e=>{var{startAngle:t,endAngle:r}=e,n=Math.floor(t/360),a=Math.floor(r/360),i=Math.min(n,a);return{startAngle:t-i*360,endAngle:r-i*360}},sce=(e,t)=>{var{startAngle:r,endAngle:n}=t,a=Math.floor(r/360),i=Math.floor(n/360),l=Math.min(a,i);return e+l*360},lce=(e,t)=>{var{x:r,y:n}=e,{radius:a,angle:i}=ace({x:r,y:n},t),{innerRadius:l,outerRadius:o}=t;if(a<l||a>o||a===0)return null;var{startAngle:f,endAngle:u}=ice(t),h=i,p;if(f<=u){for(;h>u;)h-=360;for(;h<f;)h+=360;p=h>=f&&h<=u}else{for(;h>f;)h-=360;for(;h<u;)h+=360;p=h>=u&&h<=f}return p?iT(iT({},t),{},{radius:a,angle:sce(h,t)}):null};function LM(e,t,r){return Array.isArray(e)&&e&&t+r!==0?e.slice(t,r+1):e}function sT(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function Lo(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?sT(Object(r),!0).forEach(function(n){oce(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):sT(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function oce(e,t,r){return(t=cce(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function cce(e){var t=uce(e,"string");return typeof t=="symbol"?t:t+""}function uce(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function $n(e,t,r){return ma(e)||ma(t)?r:uu(t)?Q0(e,t,r):typeof t=="function"?t(e):r}var fce=(e,t,r,n,a)=>{var i,l=-1,o=(i=t?.length)!==null&&i!==void 0?i:0;if(o<=1||e==null)return 0;if(n==="angleAxis"&&a!=null&&Math.abs(Math.abs(a[1]-a[0])-360)<=1e-6)for(var f=0;f<o;f++){var u=f>0?r[f-1].coordinate:r[o-1].coordinate,h=r[f].coordinate,p=f>=o-1?r[0].coordinate:r[f+1].coordinate,g=void 0;if(Ui(h-u)!==Ui(p-h)){var x=[];if(Ui(p-h)===Ui(a[1]-a[0])){g=p;var b=h+a[1]-a[0];x[0]=Math.min(b,(b+u)/2),x[1]=Math.max(b,(b+u)/2)}else{g=u;var y=p+a[1]-a[0];x[0]=Math.min(h,(y+h)/2),x[1]=Math.max(h,(y+h)/2)}var w=[Math.min(h,(g+h)/2),Math.max(h,(g+h)/2)];if(e>w[0]&&e<=w[1]||e>=x[0]&&e<=x[1]){({index:l}=r[f]);break}}else{var _=Math.min(u,p),E=Math.max(u,p);if(e>(_+h)/2&&e<=(E+h)/2){({index:l}=r[f]);break}}}else if(t){for(var A=0;A<o;A++)if(A===0&&e<=(t[A].coordinate+t[A+1].coordinate)/2||A>0&&A<o-1&&e>(t[A].coordinate+t[A-1].coordinate)/2&&e<=(t[A].coordinate+t[A+1].coordinate)/2||A===o-1&&e>(t[A].coordinate+t[A-1].coordinate)/2){({index:l}=t[A]);break}}return l},dce=(e,t,r)=>{if(t&&r){var{width:n,height:a}=r,{align:i,verticalAlign:l,layout:o}=t;if((o==="vertical"||o==="horizontal"&&l==="middle")&&i!=="center"&&Kt(e[i]))return Lo(Lo({},e),{},{[i]:e[i]+(n||0)});if((o==="horizontal"||o==="vertical"&&i==="center")&&l!=="middle"&&Kt(e[l]))return Lo(Lo({},e),{},{[l]:e[l]+(a||0)})}return e},qd=(e,t)=>e==="horizontal"&&t==="xAxis"||e==="vertical"&&t==="yAxis"||e==="centric"&&t==="angleAxis"||e==="radial"&&t==="radiusAxis",MM=(e,t,r,n)=>{if(n)return e.map(o=>o.coordinate);var a,i,l=e.map(o=>(o.coordinate===t&&(a=!0),o.coordinate===r&&(i=!0),o.coordinate));return a||l.push(t),i||l.push(r),l},RM=(e,t,r)=>{if(!e)return null;var{duplicateDomain:n,type:a,range:i,scale:l,realScaleType:o,isCategorical:f,categoricalDomain:u,tickCount:h,ticks:p,niceTicks:g,axisType:x}=e;if(!l)return null;var b=o==="scaleBand"&&l.bandwidth?l.bandwidth()/2:2,y=a==="category"&&l.bandwidth?l.bandwidth()/b:0;if(y=x==="angleAxis"&&i&&i.length>=2?Ui(i[0]-i[1])*2*y:y,p||g){var w=(p||g||[]).map((_,E)=>{var A=n?n.indexOf(_):_;return{coordinate:l(A)+y,value:_,offset:y,index:E}});return w.filter(_=>!Uo(_.coordinate))}return f&&u?u.map((_,E)=>({coordinate:l(_)+y,value:_,index:E,offset:y})):l.ticks&&h!=null?l.ticks(h).map((_,E)=>({coordinate:l(_)+y,value:_,offset:y,index:E})):l.domain().map((_,E)=>({coordinate:l(_)+y,value:n?n[_]:_,index:E,offset:y}))},lT=1e-4,hce=e=>{var t=e.domain();if(!(!t||t.length<=2)){var r=t.length,n=e.range(),a=Math.min(n[0],n[1])-lT,i=Math.max(n[0],n[1])+lT,l=e(t[0]),o=e(t[r-1]);(l<a||l>i||o<a||o>i)&&e.domain([t[0],t[r-1]])}},mce=(e,t)=>{if(!t||t.length!==2||!Kt(t[0])||!Kt(t[1]))return e;var r=Math.min(t[0],t[1]),n=Math.max(t[0],t[1]),a=[e[0],e[1]];return(!Kt(e[0])||e[0]<r)&&(a[0]=r),(!Kt(e[1])||e[1]>n)&&(a[1]=n),a[0]>n&&(a[0]=n),a[1]<r&&(a[1]=r),a},pce=e=>{var t=e.length;if(!(t<=0))for(var r=0,n=e[0].length;r<n;++r)for(var a=0,i=0,l=0;l<t;++l){var o=Uo(e[l][r][1])?e[l][r][0]:e[l][r][1];o>=0?(e[l][r][0]=a,e[l][r][1]=a+o,a=e[l][r][1]):(e[l][r][0]=i,e[l][r][1]=i+o,i=e[l][r][1])}},xce=e=>{var t=e.length;if(!(t<=0))for(var r=0,n=e[0].length;r<n;++r)for(var a=0,i=0;i<t;++i){var l=Uo(e[i][r][1])?e[i][r][0]:e[i][r][1];l>=0?(e[i][r][0]=a,e[i][r][1]=a+l,a=e[i][r][1]):(e[i][r][0]=0,e[i][r][1]=0)}},gce={sign:pce,expand:zse,none:Um,silhouette:qse,wiggle:$se,positive:xce},vce=(e,t,r)=>{var n=gce[r],a=Use().keys(t).value((i,l)=>+$n(i,l,0)).order(p_).offset(n);return a(e)};function yce(e){return e==null?void 0:String(e)}function oT(e){var{axis:t,ticks:r,bandSize:n,entry:a,index:i,dataKey:l}=e;if(t.type==="category"){if(!t.allowDuplicatedCategory&&t.dataKey&&!ma(a[t.dataKey])){var o=VL(r,"value",a[t.dataKey]);if(o)return o.coordinate+n/2}return r[i]?r[i].coordinate+n/2:null}var f=$n(a,ma(l)?t.dataKey:l);return ma(f)?null:t.scale(f)}var cT=e=>{var{axis:t,ticks:r,offset:n,bandSize:a,entry:i,index:l}=e;if(t.type==="category")return r[l]?r[l].coordinate+n:null;var o=$n(i,t.dataKey,t.scale.domain()[l]);return ma(o)?null:t.scale(o)-a/2+n},bce=e=>{var{numericAxis:t}=e,r=t.scale.domain();if(t.type==="number"){var n=Math.min(r[0],r[1]),a=Math.max(r[0],r[1]);return n<=0&&a>=0?0:a<0?a:n}return r[0]},wce=e=>{var t=e.flat(2).filter(Kt);return[Math.min(...t),Math.max(...t)]},_ce=e=>[e[0]===1/0?0:e[0],e[1]===-1/0?0:e[1]],Nce=(e,t,r)=>{if(e!=null)return _ce(Object.keys(e).reduce((n,a)=>{var i=e[a],{stackedData:l}=i,o=l.reduce((f,u)=>{var h=LM(u,t,r),p=wce(h);return[Math.min(f[0],p[0]),Math.max(f[1],p[1])]},[1/0,-1/0]);return[Math.min(o[0],n[0]),Math.max(o[1],n[1])]},[1/0,-1/0]))},uT=/^dataMin[\s]*-[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,fT=/^dataMax[\s]*\+[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,rg=(e,t,r)=>{if(e&&e.scale&&e.scale.bandwidth){var n=e.scale.bandwidth();if(!r||n>0)return n}if(e&&t&&t.length>=2){for(var a=p2(t,h=>h.coordinate),i=1/0,l=1,o=a.length;l<o;l++){var f=a[l],u=a[l-1];i=Math.min((f.coordinate||0)-(u.coordinate||0),i)}return i===1/0?0:i}return r?void 0:0};function dT(e){var{tooltipEntrySettings:t,dataKey:r,payload:n,value:a,name:i}=e;return Lo(Lo({},t),{},{dataKey:r,payload:n,value:a,name:i})}function lp(e,t){if(e)return String(e);if(typeof t=="string")return t}function Sce(e,t,r,n,a){if(r==="horizontal"||r==="vertical"){var i=e>=a.left&&e<=a.left+a.width&&t>=a.top&&t<=a.top+a.height;return i?{x:e,y:t}:null}return n?lce({x:e,y:t},n):null}var jce=(e,t,r,n)=>{var a=t.find(u=>u&&u.index===r);if(a){if(e==="horizontal")return{x:a.coordinate,y:n.y};if(e==="vertical")return{x:n.x,y:a.coordinate};if(e==="centric"){var i=a.coordinate,{radius:l}=n;return Lo(Lo(Lo({},n),ai(n.cx,n.cy,l,i)),{},{angle:i,radius:l})}var o=a.coordinate,{angle:f}=n;return Lo(Lo(Lo({},n),ai(n.cx,n.cy,o,f)),{},{angle:f,radius:o})}return{x:0,y:0}},Ace=(e,t)=>t==="horizontal"?e.x:t==="vertical"?e.y:t==="centric"?e.angle:e.radius,jf=e=>e.layout.width,Af=e=>e.layout.height,Ece=e=>e.layout.scale,IM=e=>e.layout.margin,w2=He(e=>e.cartesianAxis.xAxis,e=>Object.values(e)),_2=He(e=>e.cartesianAxis.yAxis,e=>Object.values(e)),BM="data-recharts-item-index",UM="data-recharts-item-data-key",Dg=60;function hT(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function ov(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?hT(Object(r),!0).forEach(function(n){kce(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):hT(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function kce(e,t,r){return(t=Cce(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Cce(e){var t=Tce(e,"string");return typeof t=="symbol"?t:t+""}function Tce(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Oce=e=>e.brush.height;function Dce(e){var t=_2(e);return t.reduce((r,n)=>{if(n.orientation==="left"&&!n.mirror&&!n.hide){var a=typeof n.width=="number"?n.width:Dg;return r+a}return r},0)}function Pce(e){var t=_2(e);return t.reduce((r,n)=>{if(n.orientation==="right"&&!n.mirror&&!n.hide){var a=typeof n.width=="number"?n.width:Dg;return r+a}return r},0)}function Fce(e){var t=w2(e);return t.reduce((r,n)=>n.orientation==="top"&&!n.mirror&&!n.hide?r+n.height:r,0)}function Lce(e){var t=w2(e);return t.reduce((r,n)=>n.orientation==="bottom"&&!n.mirror&&!n.hide?r+n.height:r,0)}var Si=He([jf,Af,IM,Oce,Dce,Pce,Fce,Lce,sM,Jle],(e,t,r,n,a,i,l,o,f,u)=>{var h={left:(r.left||0)+a,right:(r.right||0)+i},p={top:(r.top||0)+l,bottom:(r.bottom||0)+o},g=ov(ov({},p),h),x=g.bottom;g.bottom+=n,g=dce(g,f,u);var b=e-g.left-g.right,y=t-g.top-g.bottom;return ov(ov({brushBottom:x},g),{},{width:Math.max(b,0),height:Math.max(y,0)})}),Mce=He(Si,e=>({x:e.left,y:e.top,width:e.width,height:e.height})),Q3=He(jf,Af,(e,t)=>({x:0,y:0,width:e,height:t})),Rce=C.createContext(null),nl=()=>C.useContext(Rce)!=null,N2=e=>e.brush,S2=He([N2,Si,IM],(e,t,r)=>({height:e.height,x:Kt(e.x)?e.x:t.left,y:Kt(e.y)?e.y:t.top+t.height+t.brushBottom-(r?.bottom||0),width:Kt(e.width)?e.width:t.width})),P5={},F5={},L5={},mT;function Ice(){return mT||(mT=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r,n,{signal:a,edges:i}={}){let l,o=null;const f=i!=null&&i.includes("leading"),u=i==null||i.includes("trailing"),h=()=>{o!==null&&(r.apply(l,o),l=void 0,o=null)},p=()=>{u&&h(),y()};let g=null;const x=()=>{g!=null&&clearTimeout(g),g=setTimeout(()=>{g=null,p()},n)},b=()=>{g!==null&&(clearTimeout(g),g=null)},y=()=>{b(),l=void 0,o=null},w=()=>{h()},_=function(...E){if(a?.aborted)return;l=this,o=E;const A=g==null;x(),f&&A&&h()};return _.schedule=x,_.cancel=y,_.flush=w,a?.addEventListener("abort",y,{once:!0}),_}e.debounce=t})(L5)),L5}var pT;function Bce(){return pT||(pT=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=Ice();function r(n,a=0,i={}){typeof i!="object"&&(i={});const{leading:l=!1,trailing:o=!0,maxWait:f}=i,u=Array(2);l&&(u[0]="leading"),o&&(u[1]="trailing");let h,p=null;const g=t.debounce(function(...y){h=n.apply(this,y),p=null},a,{edges:u}),x=function(...y){return f!=null&&(p===null&&(p=Date.now()),Date.now()-p>=f)?(h=n.apply(this,y),p=Date.now(),g.cancel(),g.schedule(),h):(g.apply(this,y),h)},b=()=>(g.flush(),h);return x.cancel=g.cancel,x.flush=b,x}e.debounce=r})(F5)),F5}var xT;function Uce(){return xT||(xT=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=Bce();function r(n,a=0,i={}){const{leading:l=!0,trailing:o=!0}=i;return t.debounce(n,a,{leading:l,maxWait:a,trailing:o})}e.throttle=r})(P5)),P5}var M5,gT;function zce(){return gT||(gT=1,M5=Uce().throttle),M5}var qce=zce();const $ce=yf(qce);var by=function(t,r){for(var n=arguments.length,a=new Array(n>2?n-2:0),i=2;i<n;i++)a[i-2]=arguments[i]},zM=(e,t,r)=>{var{width:n="100%",height:a="100%",aspect:i,maxHeight:l}=r,o=hf(n)?e:Number(n),f=hf(a)?t:Number(a);return i&&i>0&&(o?f=o/i:f&&(o=f*i),l&&f>l&&(f=l)),{calculatedWidth:o,calculatedHeight:f}},Hce={width:0,height:0,overflow:"visible"},Vce={width:0,overflowX:"visible"},Wce={height:0,overflowY:"visible"},Gce={},Kce=e=>{var{width:t,height:r}=e,n=hf(t),a=hf(r);return n&&a?Hce:n?Vce:a?Wce:Gce};function Yce(e){var{width:t,height:r,aspect:n}=e,a=t,i=r;return a===void 0&&i===void 0?(a="100%",i="100%"):a===void 0?a=n&&n>0?void 0:"100%":i===void 0&&(i=n&&n>0?void 0:"100%"),{width:a,height:i}}function Cs(e){return Number.isFinite(e)}function zm(e){return typeof e=="number"&&e>0&&Number.isFinite(e)}function A_(){return A_=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},A_.apply(null,arguments)}function vT(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function yT(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?vT(Object(r),!0).forEach(function(n){Xce(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):vT(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Xce(e,t,r){return(t=Qce(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Qce(e){var t=Zce(e,"string");return typeof t=="symbol"?t:t+""}function Zce(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var qM=C.createContext({width:-1,height:-1});function $M(e){var{children:t,width:r,height:n}=e,a=C.useMemo(()=>({width:r,height:n}),[r,n]);return r<=0||n<=0?null:C.createElement(qM.Provider,{value:a},t)}var Z3=()=>C.useContext(qM),Jce=C.forwardRef((e,t)=>{var{aspect:r,initialDimension:n={width:-1,height:-1},width:a,height:i,minWidth:l=0,minHeight:o,maxHeight:f,children:u,debounce:h=0,id:p,className:g,onResize:x,style:b={}}=e,y=C.useRef(null),w=C.useRef();w.current=x,C.useImperativeHandle(t,()=>y.current);var[_,E]=C.useState({containerWidth:n.width,containerHeight:n.height}),A=C.useCallback((T,B)=>{E(G=>{var I=Math.round(T),z=Math.round(B);return G.containerWidth===I&&G.containerHeight===z?G:{containerWidth:I,containerHeight:z}})},[]);C.useEffect(()=>{var T=z=>{var K,{width:J,height:pe}=z[0].contentRect;A(J,pe),(K=w.current)===null||K===void 0||K.call(w,J,pe)};h>0&&(T=$ce(T,h,{trailing:!0,leading:!1}));var B=new ResizeObserver(T),{width:G,height:I}=y.current.getBoundingClientRect();return A(G,I),B.observe(y.current),()=>{B.disconnect()}},[A,h]);var{containerWidth:O,containerHeight:D}=_;by(!r||r>0,"The aspect(%s) must be greater than zero.",r);var{calculatedWidth:R,calculatedHeight:P}=zM(O,D,{width:a,height:i,aspect:r,maxHeight:f});return by(R>0||P>0,`The width(%s) and height(%s) of chart should be greater than 0,
       please check the style of container, or the props width(%s) and height(%s),
       or add a minWidth(%s) or minHeight(%s) or use aspect(%s) to control the
       height and width.`,R,P,a,i,l,o,r),C.createElement("div",{id:p?"".concat(p):void 0,className:nn("recharts-responsive-container",g),style:yT(yT({},b),{},{width:a,height:i,minWidth:l,minHeight:o,maxHeight:f}),ref:y},C.createElement("div",{style:Kce({width:a,height:i})},C.createElement($M,{width:R,height:P},u)))}),R5=C.forwardRef((e,t)=>{var r=Z3();if(zm(r.width)&&zm(r.height))return e.children;var{width:n,height:a}=Yce({width:e.width,height:e.height,aspect:e.aspect}),{calculatedWidth:i,calculatedHeight:l}=zM(void 0,void 0,{width:n,height:a,aspect:e.aspect,maxHeight:e.maxHeight});return Kt(i)&&Kt(l)?C.createElement($M,{width:i,height:l},e.children):C.createElement(Jce,A_({},e,{width:n,height:a,ref:t}))}),j2=()=>{var e,t=nl(),r=Bt(Mce),n=Bt(S2),a=(e=Bt(N2))===null||e===void 0?void 0:e.padding;return!t||!n||!a?r:{width:n.width-a.left-a.right,height:n.height-a.top-a.bottom,x:a.left,y:a.top}},eue={top:0,bottom:0,left:0,right:0,width:0,height:0,brushBottom:0},HM=()=>{var e;return(e=Bt(Si))!==null&&e!==void 0?e:eue},J3=()=>Bt(jf),eS=()=>Bt(Af),tue=()=>Bt(e=>e.layout.margin),Wr=e=>e.layout.layoutType,A2=()=>Bt(Wr),E2=e=>{var t=pa(),r=nl(),{width:n,height:a}=e,i=Z3(),l=n,o=a;return i&&(l=i.width>0?i.width:n,o=i.height>0?i.height:a),C.useEffect(()=>{!r&&zm(l)&&zm(o)&&t(Xoe({width:l,height:o}))},[t,r,l,o]),null},rue={settings:{layout:"horizontal",align:"center",verticalAlign:"middle",itemSorter:"value"},size:{width:0,height:0},payload:[]},VM=io({name:"legend",initialState:rue,reducers:{setLegendSize(e,t){e.size.width=t.payload.width,e.size.height=t.payload.height},setLegendSettings(e,t){e.settings.align=t.payload.align,e.settings.layout=t.payload.layout,e.settings.verticalAlign=t.payload.verticalAlign,e.settings.itemSorter=t.payload.itemSorter},addLegendPayload:{reducer(e,t){e.payload.push(t.payload)},prepare:Ws()},removeLegendPayload:{reducer(e,t){var r=sf(e).payload.indexOf(t.payload);r>-1&&e.payload.splice(r,1)},prepare:Ws()}}}),{setLegendSize:bT,setLegendSettings:nue,addLegendPayload:WM,removeLegendPayload:GM}=VM.actions,aue=VM.reducer,iue=["contextPayload"];function E_(){return E_=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},E_.apply(null,arguments)}function wT(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function qm(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?wT(Object(r),!0).forEach(function(n){tS(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):wT(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function tS(e,t,r){return(t=sue(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function sue(e){var t=lue(e,"string");return typeof t=="symbol"?t:t+""}function lue(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function oue(e,t){if(e==null)return{};var r,n,a=cue(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}function cue(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}function uue(e){return e.value}function fue(e){var{contextPayload:t}=e,r=oue(e,iue),n=rM(t,e.payloadUniqBy,uue),a=qm(qm({},r),{},{payload:n});return C.isValidElement(e.content)?C.cloneElement(e.content,a):typeof e.content=="function"?C.createElement(e.content,a):C.createElement($3,a)}function due(e,t,r,n,a,i){var{layout:l,align:o,verticalAlign:f}=t,u,h;return(!e||(e.left===void 0||e.left===null)&&(e.right===void 0||e.right===null))&&(o==="center"&&l==="vertical"?u={left:((n||0)-i.width)/2}:u=o==="right"?{right:r&&r.right||0}:{left:r&&r.left||0}),(!e||(e.top===void 0||e.top===null)&&(e.bottom===void 0||e.bottom===null))&&(f==="middle"?h={top:((a||0)-i.height)/2}:h=f==="bottom"?{bottom:r&&r.bottom||0}:{top:r&&r.top||0}),qm(qm({},u),h)}function hue(e){var t=pa();return C.useEffect(()=>{t(nue(e))},[t,e]),null}function mue(e){var t=pa();return C.useEffect(()=>(t(bT(e)),()=>{t(bT({width:0,height:0}))}),[t,e]),null}function pue(e){var t=roe(),r=use(),n=tue(),{width:a,height:i,wrapperStyle:l,portal:o}=e,[f,u]=lM([t]),h=J3(),p=eS();if(h==null||p==null)return null;var g=h-(n.left||0)-(n.right||0),x=ng.getWidthOrHeight(e.layout,i,a,g),b=o?l:qm(qm({position:"absolute",width:x?.width||a||"auto",height:x?.height||i||"auto"},due(l,e,n,h,p,f)),l),y=o??r;if(y==null)return null;var w=C.createElement("div",{className:"recharts-legend-wrapper",style:b,ref:u},C.createElement(hue,{layout:e.layout,align:e.align,verticalAlign:e.verticalAlign,itemSorter:e.itemSorter}),C.createElement(mue,{width:f.width,height:f.height}),C.createElement(fue,E_({},e,x,{margin:n,chartWidth:h,chartHeight:p,contextPayload:t})));return $D.createPortal(w,y)}class ng extends C.PureComponent{static getWidthOrHeight(t,r,n,a){return t==="vertical"&&Kt(r)?{height:r}:t==="horizontal"?{width:n||a}:null}render(){return C.createElement(pue,this.props)}}tS(ng,"displayName","Legend");tS(ng,"defaultProps",{align:"center",iconSize:14,itemSorter:"value",layout:"horizontal",verticalAlign:"bottom"});function k_(){return k_=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},k_.apply(null,arguments)}function _T(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function I5(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?_T(Object(r),!0).forEach(function(n){xue(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):_T(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function xue(e,t,r){return(t=gue(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function gue(e){var t=vue(e,"string");return typeof t=="symbol"?t:t+""}function vue(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function yue(e){return Array.isArray(e)&&uu(e[0])&&uu(e[1])?e.join(" ~ "):e}var bue=e=>{var{separator:t=" : ",contentStyle:r={},itemStyle:n={},labelStyle:a={},payload:i,formatter:l,itemSorter:o,wrapperClassName:f,labelClassName:u,label:h,labelFormatter:p,accessibilityLayer:g=!1}=e,x=()=>{if(i&&i.length){var D={padding:0,margin:0},R=(o?p2(i,o):i).map((P,T)=>{if(P.type==="none")return null;var B=P.formatter||l||yue,{value:G,name:I}=P,z=G,K=I;if(B){var J=B(G,I,P,T,i);if(Array.isArray(J))[z,K]=J;else if(J!=null)z=J;else return null}var pe=I5({display:"block",paddingTop:4,paddingBottom:4,color:P.color||"#000"},n);return C.createElement("li",{className:"recharts-tooltip-item",key:"tooltip-item-".concat(T),style:pe},uu(K)?C.createElement("span",{className:"recharts-tooltip-item-name"},K):null,uu(K)?C.createElement("span",{className:"recharts-tooltip-item-separator"},t):null,C.createElement("span",{className:"recharts-tooltip-item-value"},z),C.createElement("span",{className:"recharts-tooltip-item-unit"},P.unit||""))});return C.createElement("ul",{className:"recharts-tooltip-item-list",style:D},R)}return null},b=I5({margin:0,padding:10,backgroundColor:"#fff",border:"1px solid #ccc",whiteSpace:"nowrap"},r),y=I5({margin:0},a),w=!ma(h),_=w?h:"",E=nn("recharts-default-tooltip",f),A=nn("recharts-tooltip-label",u);w&&p&&i!==void 0&&i!==null&&(_=p(h,i));var O=g?{role:"status","aria-live":"assertive"}:{};return C.createElement("div",k_({className:E,style:b},O),C.createElement("p",{className:A,style:y},C.isValidElement(_)?_:"".concat(_)),x())},ax="recharts-tooltip-wrapper",wue={visibility:"hidden"};function _ue(e){var{coordinate:t,translateX:r,translateY:n}=e;return nn(ax,{["".concat(ax,"-right")]:Kt(r)&&t&&Kt(t.x)&&r>=t.x,["".concat(ax,"-left")]:Kt(r)&&t&&Kt(t.x)&&r<t.x,["".concat(ax,"-bottom")]:Kt(n)&&t&&Kt(t.y)&&n>=t.y,["".concat(ax,"-top")]:Kt(n)&&t&&Kt(t.y)&&n<t.y})}function NT(e){var{allowEscapeViewBox:t,coordinate:r,key:n,offsetTopLeft:a,position:i,reverseDirection:l,tooltipDimension:o,viewBox:f,viewBoxDimension:u}=e;if(i&&Kt(i[n]))return i[n];var h=r[n]-o-(a>0?a:0),p=r[n]+a;if(t[n])return l[n]?h:p;var g=f[n];if(g==null)return 0;if(l[n]){var x=h,b=g;return x<b?Math.max(p,g):Math.max(h,g)}if(u==null)return 0;var y=p+o,w=g+u;return y>w?Math.max(h,g):Math.max(p,g)}function Nue(e){var{translateX:t,translateY:r,useTranslate3d:n}=e;return{transform:n?"translate3d(".concat(t,"px, ").concat(r,"px, 0)"):"translate(".concat(t,"px, ").concat(r,"px)")}}function Sue(e){var{allowEscapeViewBox:t,coordinate:r,offsetTopLeft:n,position:a,reverseDirection:i,tooltipBox:l,useTranslate3d:o,viewBox:f}=e,u,h,p;return l.height>0&&l.width>0&&r?(h=NT({allowEscapeViewBox:t,coordinate:r,key:"x",offsetTopLeft:n,position:a,reverseDirection:i,tooltipDimension:l.width,viewBox:f,viewBoxDimension:f.width}),p=NT({allowEscapeViewBox:t,coordinate:r,key:"y",offsetTopLeft:n,position:a,reverseDirection:i,tooltipDimension:l.height,viewBox:f,viewBoxDimension:f.height}),u=Nue({translateX:h,translateY:p,useTranslate3d:o})):u=wue,{cssProperties:u,cssClasses:_ue({translateX:h,translateY:p,coordinate:r})}}function ST(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function cv(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?ST(Object(r),!0).forEach(function(n){C_(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):ST(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function C_(e,t,r){return(t=jue(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function jue(e){var t=Aue(e,"string");return typeof t=="symbol"?t:t+""}function Aue(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}class Eue extends C.PureComponent{constructor(){super(...arguments),C_(this,"state",{dismissed:!1,dismissedAtCoordinate:{x:0,y:0}}),C_(this,"handleKeyDown",t=>{if(t.key==="Escape"){var r,n,a,i;this.setState({dismissed:!0,dismissedAtCoordinate:{x:(r=(n=this.props.coordinate)===null||n===void 0?void 0:n.x)!==null&&r!==void 0?r:0,y:(a=(i=this.props.coordinate)===null||i===void 0?void 0:i.y)!==null&&a!==void 0?a:0}})}})}componentDidMount(){document.addEventListener("keydown",this.handleKeyDown)}componentWillUnmount(){document.removeEventListener("keydown",this.handleKeyDown)}componentDidUpdate(){var t,r;this.state.dismissed&&(((t=this.props.coordinate)===null||t===void 0?void 0:t.x)!==this.state.dismissedAtCoordinate.x||((r=this.props.coordinate)===null||r===void 0?void 0:r.y)!==this.state.dismissedAtCoordinate.y)&&(this.state.dismissed=!1)}render(){var{active:t,allowEscapeViewBox:r,animationDuration:n,animationEasing:a,children:i,coordinate:l,hasPayload:o,isAnimationActive:f,offset:u,position:h,reverseDirection:p,useTranslate3d:g,viewBox:x,wrapperStyle:b,lastBoundingBox:y,innerRef:w,hasPortalFromProps:_}=this.props,{cssClasses:E,cssProperties:A}=Sue({allowEscapeViewBox:r,coordinate:l,offsetTopLeft:u,position:h,reverseDirection:p,tooltipBox:{height:y.height,width:y.width},useTranslate3d:g,viewBox:x}),O=_?{}:cv(cv({transition:f&&t?"transform ".concat(n,"ms ").concat(a):void 0},A),{},{pointerEvents:"none",visibility:!this.state.dismissed&&t&&o?"visible":"hidden",position:"absolute",top:0,left:0}),D=cv(cv({},O),{},{visibility:!this.state.dismissed&&t&&o?"visible":"hidden"},b);return C.createElement("div",{xmlns:"http://www.w3.org/1999/xhtml",tabIndex:-1,className:E,style:D,ref:w},i)}}var kue=()=>!(typeof window<"u"&&window.document&&window.document.createElement&&window.setTimeout),$d={devToolsEnabled:!1,isSsr:kue()},KM=()=>Bt(e=>e.rootProps.accessibilityLayer);function T_(){return T_=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},T_.apply(null,arguments)}function jT(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function AT(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?jT(Object(r),!0).forEach(function(n){Cue(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):jT(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Cue(e,t,r){return(t=Tue(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Tue(e){var t=Oue(e,"string");return typeof t=="symbol"?t:t+""}function Oue(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var ET={curveBasisClosed:Cse,curveBasisOpen:Tse,curveBasis:kse,curveBumpX:mse,curveBumpY:pse,curveLinearClosed:Ose,curveLinear:h2,curveMonotoneX:Dse,curveMonotoneY:Pse,curveNatural:Fse,curveStep:Lse,curveStepAfter:Rse,curveStepBefore:Mse},uv=e=>Cs(e.x)&&Cs(e.y),ix=e=>e.x,sx=e=>e.y,Due=(e,t)=>{if(typeof e=="function")return e;var r="curve".concat(kg(e));return(r==="curveMonotone"||r==="curveBump")&&t?ET["".concat(r).concat(t==="vertical"?"Y":"X")]:ET[r]||h2},Pue=e=>{var{type:t="linear",points:r=[],baseLine:n,layout:a,connectNulls:i=!1}=e,l=Due(t,a),o=i?r.filter(uv):r,f;if(Array.isArray(n)){var u=i?n.filter(p=>uv(p)):n,h=o.map((p,g)=>AT(AT({},p),{},{base:u[g]}));return a==="vertical"?f=rv().y(sx).x1(ix).x0(p=>p.base.x):f=rv().x(ix).y1(sx).y0(p=>p.base.y),f.defined(uv).curve(l),f(h)}return a==="vertical"&&Kt(n)?f=rv().y(sx).x1(ix).x0(n):Kt(n)?f=rv().x(ix).y1(sx).y0(n):f=DL().x(ix).y(sx),f.defined(uv).curve(l),f(o)},rS=e=>{var{className:t,points:r,path:n,pathRef:a}=e;if((!r||!r.length)&&!n)return null;var i=r&&r.length?Pue(e):n;return C.createElement("path",T_({},ro(e),z3(e),{className:nn("recharts-curve",t),d:i===null?void 0:i,ref:a}))},Fue=["x","y","top","left","width","height","className"];function O_(){return O_=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},O_.apply(null,arguments)}function kT(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function Lue(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?kT(Object(r),!0).forEach(function(n){Mue(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):kT(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Mue(e,t,r){return(t=Rue(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Rue(e){var t=Iue(e,"string");return typeof t=="symbol"?t:t+""}function Iue(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Bue(e,t){if(e==null)return{};var r,n,a=Uue(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}function Uue(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}var zue=(e,t,r,n,a,i)=>"M".concat(e,",").concat(a,"v").concat(n,"M").concat(i,",").concat(t,"h").concat(r),que=e=>{var{x:t=0,y:r=0,top:n=0,left:a=0,width:i=0,height:l=0,className:o}=e,f=Bue(e,Fue),u=Lue({x:t,y:r,top:n,left:a,width:i,height:l},f);return!Kt(t)||!Kt(r)||!Kt(i)||!Kt(l)||!Kt(n)||!Kt(a)?null:C.createElement("path",O_({},tl(u),{className:nn("recharts-cross",o),d:zue(t,r,i,l,n,a)}))};function $ue(e,t,r,n){var a=n/2;return{stroke:"none",fill:"#ccc",x:e==="horizontal"?t.x-a:r.left+.5,y:e==="horizontal"?r.top+.5:t.y-a,width:e==="horizontal"?n:r.width-1,height:e==="horizontal"?r.height-1:n}}function CT(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function Hue(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?CT(Object(r),!0).forEach(function(n){Vue(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):CT(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Vue(e,t,r){return(t=Wue(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Wue(e){var t=Gue(e,"string");return typeof t=="symbol"?t:t+""}function Gue(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function ls(e,t){var r=Hue({},e),n=t,a=Object.keys(t),i=a.reduce((l,o)=>(l[o]===void 0&&n[o]!==void 0&&(l[o]=n[o]),l),r);return i}function Kue(){}function Yue(e){return e!=null}function TT(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function OT(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?TT(Object(r),!0).forEach(function(n){Xue(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):TT(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Xue(e,t,r){return(t=Que(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Que(e){var t=Zue(e,"string");return typeof t=="symbol"?t:t+""}function Zue(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Jue=e=>e.replace(/([A-Z])/g,t=>"-".concat(t.toLowerCase())),YM=(e,t,r)=>e.map(n=>"".concat(Jue(n)," ").concat(t,"ms ").concat(r)).join(","),efe=(e,t)=>[Object.keys(e),Object.keys(t)].reduce((r,n)=>r.filter(a=>n.includes(a))),ag=(e,t)=>Object.keys(t).reduce((r,n)=>OT(OT({},r),{},{[n]:e(n,t[n])}),{});function DT(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function ts(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?DT(Object(r),!0).forEach(function(n){tfe(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):DT(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function tfe(e,t,r){return(t=rfe(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function rfe(e){var t=nfe(e,"string");return typeof t=="symbol"?t:t+""}function nfe(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var wy=(e,t,r)=>e+(t-e)*r,D_=e=>{var{from:t,to:r}=e;return t!==r},XM=(e,t,r)=>{var n=ag((a,i)=>{if(D_(i)){var[l,o]=e(i.from,i.to,i.velocity);return ts(ts({},i),{},{from:l,velocity:o})}return i},t);return r<1?ag((a,i)=>D_(i)?ts(ts({},i),{},{velocity:wy(i.velocity,n[a].velocity,r),from:wy(i.from,n[a].from,r)}):i,t):XM(e,n,r-1)};function afe(e,t,r,n,a,i){var l,o=n.reduce((g,x)=>ts(ts({},g),{},{[x]:{from:e[x],velocity:0,to:t[x]}}),{}),f=()=>ag((g,x)=>x.from,o),u=()=>!Object.values(o).filter(D_).length,h=null,p=g=>{l||(l=g);var x=g-l,b=x/r.dt;o=XM(r,o,b),a(ts(ts(ts({},e),t),f())),l=g,u()||(h=i.setTimeout(p))};return()=>(h=i.setTimeout(p),()=>{h()})}function ife(e,t,r,n,a,i,l){var o=null,f=a.reduce((p,g)=>ts(ts({},p),{},{[g]:[e[g],t[g]]}),{}),u,h=p=>{u||(u=p);var g=(p-u)/n,x=ag((y,w)=>wy(...w,r(g)),f);if(i(ts(ts(ts({},e),t),x)),g<1)o=l.setTimeout(h);else{var b=ag((y,w)=>wy(...w,r(1)),f);i(ts(ts(ts({},e),t),b))}};return()=>(o=l.setTimeout(h),()=>{o()})}const sfe=(e,t,r,n,a,i)=>{var l=efe(e,t);return r.isStepper===!0?afe(e,t,r,l,a,i):ife(e,t,r,n,l,a,i)};var _y=1e-4,QM=(e,t)=>[0,3*e,3*t-6*e,3*e-3*t+1],ZM=(e,t)=>e.map((r,n)=>r*t**n).reduce((r,n)=>r+n),PT=(e,t)=>r=>{var n=QM(e,t);return ZM(n,r)},lfe=(e,t)=>r=>{var n=QM(e,t),a=[...n.map((i,l)=>i*l).slice(1),0];return ZM(a,r)},FT=function(){for(var t,r,n,a,i=arguments.length,l=new Array(i),o=0;o<i;o++)l[o]=arguments[o];if(l.length===1)switch(l[0]){case"linear":[t,n,r,a]=[0,0,1,1];break;case"ease":[t,n,r,a]=[.25,.1,.25,1];break;case"ease-in":[t,n,r,a]=[.42,0,1,1];break;case"ease-out":[t,n,r,a]=[.42,0,.58,1];break;case"ease-in-out":[t,n,r,a]=[0,0,.58,1];break;default:{var f=l[0].split("(");f[0]==="cubic-bezier"&&f[1].split(")")[0].split(",").length===4&&([t,n,r,a]=f[1].split(")")[0].split(",").map(b=>parseFloat(b)))}}else l.length===4&&([t,n,r,a]=l);var u=PT(t,r),h=PT(n,a),p=lfe(t,r),g=b=>b>1?1:b<0?0:b,x=b=>{for(var y=b>1?1:b,w=y,_=0;_<8;++_){var E=u(w)-y,A=p(w);if(Math.abs(E-y)<_y||A<_y)return h(w);w=g(w-E/A)}return h(w)};return x.isStepper=!1,x},ofe=function(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},{stiff:r=100,damping:n=8,dt:a=17}=t,i=(l,o,f)=>{var u=-(l-o)*r,h=f*n,p=f+(u-h)*a/1e3,g=f*a/1e3+l;return Math.abs(g-o)<_y&&Math.abs(p)<_y?[o,0]:[g,p]};return i.isStepper=!0,i.dt=a,i},cfe=e=>{if(typeof e=="string")switch(e){case"ease":case"ease-in-out":case"ease-out":case"ease-in":case"linear":return FT(e);case"spring":return ofe();default:if(e.split("(")[0]==="cubic-bezier")return FT(e)}return typeof e=="function"?e:null};function ufe(e){var t,r=()=>null,n=!1,a=null,i=l=>{if(!n){if(Array.isArray(l)){if(!l.length)return;var o=l,[f,...u]=o;if(typeof f=="number"){a=e.setTimeout(i.bind(null,u),f);return}i(f),a=e.setTimeout(i.bind(null,u));return}typeof l=="string"&&(t=l,r(t)),typeof l=="object"&&(t=l,r(t)),typeof l=="function"&&l()}};return{stop:()=>{n=!0},start:l=>{n=!1,a&&(a(),a=null),i(l)},subscribe:l=>(r=l,()=>{r=()=>null}),getTimeoutController:()=>e}}class ffe{setTimeout(t){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,n=performance.now(),a=null,i=l=>{l-n>=r?t(l):typeof requestAnimationFrame=="function"&&(a=requestAnimationFrame(i))};return a=requestAnimationFrame(i),()=>{cancelAnimationFrame(a)}}}function dfe(){return ufe(new ffe)}var hfe=C.createContext(dfe);function mfe(e,t){var r=C.useContext(hfe);return C.useMemo(()=>t??r(e),[e,t,r])}var pfe={begin:0,duration:1e3,easing:"ease",isActive:!0,canBegin:!0,onAnimationEnd:()=>{},onAnimationStart:()=>{}},LT={t:0},B5={t:1};function Pg(e){var t=ls(e,pfe),{isActive:r,canBegin:n,duration:a,easing:i,begin:l,onAnimationEnd:o,onAnimationStart:f,children:u}=t,h=mfe(t.animationId,t.animationManager),[p,g]=C.useState(r?LT:B5),x=C.useRef(null);return C.useEffect(()=>{r||g(B5)},[r]),C.useEffect(()=>{if(!r||!n)return Kue;var b=sfe(LT,B5,cfe(i),a,g,h.getTimeoutController()),y=()=>{x.current=b()};return h.start([f,l,y,a,o]),()=>{h.stop(),x.current&&x.current(),o()}},[r,n,a,i,l,f,o,h]),u(p.t)}function Fg(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"animation-",r=C.useRef(Zx(t)),n=C.useRef(e);return n.current!==e&&(r.current=Zx(t),n.current=e),r.current}var xfe=["radius"],gfe=["radius"];function MT(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function RT(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?MT(Object(r),!0).forEach(function(n){vfe(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):MT(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function vfe(e,t,r){return(t=yfe(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function yfe(e){var t=bfe(e,"string");return typeof t=="symbol"?t:t+""}function bfe(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Ny(){return Ny=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Ny.apply(null,arguments)}function IT(e,t){if(e==null)return{};var r,n,a=wfe(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}function wfe(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}var BT=(e,t,r,n,a)=>{var i=Math.min(Math.abs(r)/2,Math.abs(n)/2),l=n>=0?1:-1,o=r>=0?1:-1,f=n>=0&&r>=0||n<0&&r<0?1:0,u;if(i>0&&a instanceof Array){for(var h=[0,0,0,0],p=0,g=4;p<g;p++)h[p]=a[p]>i?i:a[p];u="M".concat(e,",").concat(t+l*h[0]),h[0]>0&&(u+="A ".concat(h[0],",").concat(h[0],",0,0,").concat(f,",").concat(e+o*h[0],",").concat(t)),u+="L ".concat(e+r-o*h[1],",").concat(t),h[1]>0&&(u+="A ".concat(h[1],",").concat(h[1],",0,0,").concat(f,`,
        `).concat(e+r,",").concat(t+l*h[1])),u+="L ".concat(e+r,",").concat(t+n-l*h[2]),h[2]>0&&(u+="A ".concat(h[2],",").concat(h[2],",0,0,").concat(f,`,
        `).concat(e+r-o*h[2],",").concat(t+n)),u+="L ".concat(e+o*h[3],",").concat(t+n),h[3]>0&&(u+="A ".concat(h[3],",").concat(h[3],",0,0,").concat(f,`,
        `).concat(e,",").concat(t+n-l*h[3])),u+="Z"}else if(i>0&&a===+a&&a>0){var x=Math.min(i,a);u="M ".concat(e,",").concat(t+l*x,`
            A `).concat(x,",").concat(x,",0,0,").concat(f,",").concat(e+o*x,",").concat(t,`
            L `).concat(e+r-o*x,",").concat(t,`
            A `).concat(x,",").concat(x,",0,0,").concat(f,",").concat(e+r,",").concat(t+l*x,`
            L `).concat(e+r,",").concat(t+n-l*x,`
            A `).concat(x,",").concat(x,",0,0,").concat(f,",").concat(e+r-o*x,",").concat(t+n,`
            L `).concat(e+o*x,",").concat(t+n,`
            A `).concat(x,",").concat(x,",0,0,").concat(f,",").concat(e,",").concat(t+n-l*x," Z")}else u="M ".concat(e,",").concat(t," h ").concat(r," v ").concat(n," h ").concat(-r," Z");return u},_fe={x:0,y:0,width:0,height:0,radius:0,isAnimationActive:!1,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},JM=e=>{var t=ls(e,_fe),r=C.useRef(null),[n,a]=C.useState(-1);C.useEffect(()=>{if(r.current&&r.current.getTotalLength)try{var le=r.current.getTotalLength();le&&a(le)}catch{}},[]);var{x:i,y:l,width:o,height:f,radius:u,className:h}=t,{animationEasing:p,animationDuration:g,animationBegin:x,isAnimationActive:b,isUpdateAnimationActive:y}=t,w=C.useRef(o),_=C.useRef(f),E=C.useRef(i),A=C.useRef(l),O=C.useMemo(()=>({x:i,y:l,width:o,height:f,radius:u}),[i,l,o,f,u]),D=Fg(O,"rectangle-");if(i!==+i||l!==+l||o!==+o||f!==+f||o===0||f===0)return null;var R=nn("recharts-rectangle",h);if(!y){var P=tl(t),{radius:T}=P,B=IT(P,xfe);return C.createElement("path",Ny({},B,{radius:typeof u=="number"?u:void 0,className:R,d:BT(i,l,o,f,u)}))}var G=w.current,I=_.current,z=E.current,K=A.current,J="0px ".concat(n===-1?1:n,"px"),pe="".concat(n,"px 0px"),ne=YM(["strokeDasharray"],g,typeof p=="string"?p:void 0);return C.createElement(Pg,{animationId:D,key:D,canBegin:n>0,duration:g,easing:p,isActive:y,begin:x},le=>{var ve=La(G,o,le),ue=La(I,f,le),je=La(z,i,le),te=La(K,l,le);r.current&&(w.current=ve,_.current=ue,E.current=je,A.current=te);var F;b?le>0?F={transition:ne,strokeDasharray:pe}:F={strokeDasharray:J}:F={strokeDasharray:pe};var M=tl(t),{radius:q}=M,W=IT(M,gfe);return C.createElement("path",Ny({},W,{radius:typeof u=="number"?u:void 0,className:R,d:BT(je,te,ve,ue,u),ref:r,style:RT(RT({},F),t.style)}))})};function eR(e){var{cx:t,cy:r,radius:n,startAngle:a,endAngle:i}=e,l=ai(t,r,n,a),o=ai(t,r,n,i);return{points:[l,o],cx:t,cy:r,radius:n,startAngle:a,endAngle:i}}function P_(){return P_=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},P_.apply(null,arguments)}var Nfe=(e,t)=>{var r=Ui(t-e),n=Math.min(Math.abs(t-e),359.999);return r*n},fv=e=>{var{cx:t,cy:r,radius:n,angle:a,sign:i,isExternal:l,cornerRadius:o,cornerIsExternal:f}=e,u=o*(l?1:-1)+n,h=Math.asin(o/u)/yy,p=f?a:a+i*h,g=ai(t,r,u,p),x=ai(t,r,n,p),b=f?a-i*h:a,y=ai(t,r,u*Math.cos(h*yy),b);return{center:g,circleTangency:x,lineTangency:y,theta:h}},tR=e=>{var{cx:t,cy:r,innerRadius:n,outerRadius:a,startAngle:i,endAngle:l}=e,o=Nfe(i,l),f=i+o,u=ai(t,r,a,i),h=ai(t,r,a,f),p="M ".concat(u.x,",").concat(u.y,`
    A `).concat(a,",").concat(a,`,0,
    `).concat(+(Math.abs(o)>180),",").concat(+(i>f),`,
    `).concat(h.x,",").concat(h.y,`
  `);if(n>0){var g=ai(t,r,n,i),x=ai(t,r,n,f);p+="L ".concat(x.x,",").concat(x.y,`
            A `).concat(n,",").concat(n,`,0,
            `).concat(+(Math.abs(o)>180),",").concat(+(i<=f),`,
            `).concat(g.x,",").concat(g.y," Z")}else p+="L ".concat(t,",").concat(r," Z");return p},Sfe=e=>{var{cx:t,cy:r,innerRadius:n,outerRadius:a,cornerRadius:i,forceCornerRadius:l,cornerIsExternal:o,startAngle:f,endAngle:u}=e,h=Ui(u-f),{circleTangency:p,lineTangency:g,theta:x}=fv({cx:t,cy:r,radius:a,angle:f,sign:h,cornerRadius:i,cornerIsExternal:o}),{circleTangency:b,lineTangency:y,theta:w}=fv({cx:t,cy:r,radius:a,angle:u,sign:-h,cornerRadius:i,cornerIsExternal:o}),_=o?Math.abs(f-u):Math.abs(f-u)-x-w;if(_<0)return l?"M ".concat(g.x,",").concat(g.y,`
        a`).concat(i,",").concat(i,",0,0,1,").concat(i*2,`,0
        a`).concat(i,",").concat(i,",0,0,1,").concat(-i*2,`,0
      `):tR({cx:t,cy:r,innerRadius:n,outerRadius:a,startAngle:f,endAngle:u});var E="M ".concat(g.x,",").concat(g.y,`
    A`).concat(i,",").concat(i,",0,0,").concat(+(h<0),",").concat(p.x,",").concat(p.y,`
    A`).concat(a,",").concat(a,",0,").concat(+(_>180),",").concat(+(h<0),",").concat(b.x,",").concat(b.y,`
    A`).concat(i,",").concat(i,",0,0,").concat(+(h<0),",").concat(y.x,",").concat(y.y,`
  `);if(n>0){var{circleTangency:A,lineTangency:O,theta:D}=fv({cx:t,cy:r,radius:n,angle:f,sign:h,isExternal:!0,cornerRadius:i,cornerIsExternal:o}),{circleTangency:R,lineTangency:P,theta:T}=fv({cx:t,cy:r,radius:n,angle:u,sign:-h,isExternal:!0,cornerRadius:i,cornerIsExternal:o}),B=o?Math.abs(f-u):Math.abs(f-u)-D-T;if(B<0&&i===0)return"".concat(E,"L").concat(t,",").concat(r,"Z");E+="L".concat(P.x,",").concat(P.y,`
      A`).concat(i,",").concat(i,",0,0,").concat(+(h<0),",").concat(R.x,",").concat(R.y,`
      A`).concat(n,",").concat(n,",0,").concat(+(B>180),",").concat(+(h>0),",").concat(A.x,",").concat(A.y,`
      A`).concat(i,",").concat(i,",0,0,").concat(+(h<0),",").concat(O.x,",").concat(O.y,"Z")}else E+="L".concat(t,",").concat(r,"Z");return E},jfe={cx:0,cy:0,innerRadius:0,outerRadius:0,startAngle:0,endAngle:0,cornerRadius:0,forceCornerRadius:!1,cornerIsExternal:!1},rR=e=>{var t=ls(e,jfe),{cx:r,cy:n,innerRadius:a,outerRadius:i,cornerRadius:l,forceCornerRadius:o,cornerIsExternal:f,startAngle:u,endAngle:h,className:p}=t;if(i<a||u===h)return null;var g=nn("recharts-sector",p),x=i-a,b=As(l,x,0,!0),y;return b>0&&Math.abs(u-h)<360?y=Sfe({cx:r,cy:n,innerRadius:a,outerRadius:i,cornerRadius:Math.min(b,x/2),forceCornerRadius:o,cornerIsExternal:f,startAngle:u,endAngle:h}):y=tR({cx:r,cy:n,innerRadius:a,outerRadius:i,startAngle:u,endAngle:h}),C.createElement("path",P_({},tl(t),{className:g,d:y}))};function Afe(e,t,r){var n,a,i,l;if(e==="horizontal")n=t.x,i=n,a=r.top,l=r.top+r.height;else if(e==="vertical")a=t.y,l=a,n=r.left,i=r.left+r.width;else if(t.cx!=null&&t.cy!=null)if(e==="centric"){var{cx:o,cy:f,innerRadius:u,outerRadius:h,angle:p}=t,g=ai(o,f,u,p),x=ai(o,f,h,p);n=g.x,a=g.y,i=x.x,l=x.y}else return eR(t);return[{x:n,y:a},{x:i,y:l}]}var U5={},z5={},q5={},UT;function Efe(){return UT||(UT=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=aM();function r(n){return t.isSymbol(n)?NaN:Number(n)}e.toNumber=r})(q5)),q5}var zT;function kfe(){return zT||(zT=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=Efe();function r(n){return n?(n=t.toNumber(n),n===1/0||n===-1/0?(n<0?-1:1)*Number.MAX_VALUE:n===n?n:0):n===0?n:0}e.toFinite=r})(z5)),z5}var qT;function Cfe(){return qT||(qT=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=iM(),r=kfe();function n(a,i,l){l&&typeof l!="number"&&t.isIterateeCall(a,i,l)&&(i=l=void 0),a=r.toFinite(a),i===void 0?(i=a,a=0):i=r.toFinite(i),l=l===void 0?a<i?1:-1:r.toFinite(l);const o=Math.max(Math.ceil((i-a)/(l||1)),0),f=new Array(o);for(let u=0;u<o;u++)f[u]=a,a+=l;return f}e.range=n})(U5)),U5}var $5,$T;function Tfe(){return $T||($T=1,$5=Cfe().range),$5}var Ofe=Tfe();const nR=yf(Ofe);function Nd(e,t){return e==null||t==null?NaN:e<t?-1:e>t?1:e>=t?0:NaN}function Dfe(e,t){return e==null||t==null?NaN:t<e?-1:t>e?1:t>=e?0:NaN}function nS(e){let t,r,n;e.length!==2?(t=Nd,r=(o,f)=>Nd(e(o),f),n=(o,f)=>e(o)-f):(t=e===Nd||e===Dfe?e:Pfe,r=e,n=e);function a(o,f,u=0,h=o.length){if(u<h){if(t(f,f)!==0)return h;do{const p=u+h>>>1;r(o[p],f)<0?u=p+1:h=p}while(u<h)}return u}function i(o,f,u=0,h=o.length){if(u<h){if(t(f,f)!==0)return h;do{const p=u+h>>>1;r(o[p],f)<=0?u=p+1:h=p}while(u<h)}return u}function l(o,f,u=0,h=o.length){const p=a(o,f,u,h-1);return p>u&&n(o[p-1],f)>-n(o[p],f)?p-1:p}return{left:a,center:l,right:i}}function Pfe(){return 0}function aR(e){return e===null?NaN:+e}function*Ffe(e,t){for(let r of e)r!=null&&(r=+r)>=r&&(yield r)}const Lfe=nS(Nd),Lg=Lfe.right;nS(aR).center;class HT extends Map{constructor(t,r=Ife){if(super(),Object.defineProperties(this,{_intern:{value:new Map},_key:{value:r}}),t!=null)for(const[n,a]of t)this.set(n,a)}get(t){return super.get(VT(this,t))}has(t){return super.has(VT(this,t))}set(t,r){return super.set(Mfe(this,t),r)}delete(t){return super.delete(Rfe(this,t))}}function VT({_intern:e,_key:t},r){const n=t(r);return e.has(n)?e.get(n):r}function Mfe({_intern:e,_key:t},r){const n=t(r);return e.has(n)?e.get(n):(e.set(n,r),r)}function Rfe({_intern:e,_key:t},r){const n=t(r);return e.has(n)&&(r=e.get(n),e.delete(n)),r}function Ife(e){return e!==null&&typeof e=="object"?e.valueOf():e}function Bfe(e=Nd){if(e===Nd)return iR;if(typeof e!="function")throw new TypeError("compare is not a function");return(t,r)=>{const n=e(t,r);return n||n===0?n:(e(r,r)===0)-(e(t,t)===0)}}function iR(e,t){return(e==null||!(e>=e))-(t==null||!(t>=t))||(e<t?-1:e>t?1:0)}const Ufe=Math.sqrt(50),zfe=Math.sqrt(10),qfe=Math.sqrt(2);function Sy(e,t,r){const n=(t-e)/Math.max(0,r),a=Math.floor(Math.log10(n)),i=n/Math.pow(10,a),l=i>=Ufe?10:i>=zfe?5:i>=qfe?2:1;let o,f,u;return a<0?(u=Math.pow(10,-a)/l,o=Math.round(e*u),f=Math.round(t*u),o/u<e&&++o,f/u>t&&--f,u=-u):(u=Math.pow(10,a)*l,o=Math.round(e/u),f=Math.round(t/u),o*u<e&&++o,f*u>t&&--f),f<o&&.5<=r&&r<2?Sy(e,t,r*2):[o,f,u]}function F_(e,t,r){if(t=+t,e=+e,r=+r,!(r>0))return[];if(e===t)return[e];const n=t<e,[a,i,l]=n?Sy(t,e,r):Sy(e,t,r);if(!(i>=a))return[];const o=i-a+1,f=new Array(o);if(n)if(l<0)for(let u=0;u<o;++u)f[u]=(i-u)/-l;else for(let u=0;u<o;++u)f[u]=(i-u)*l;else if(l<0)for(let u=0;u<o;++u)f[u]=(a+u)/-l;else for(let u=0;u<o;++u)f[u]=(a+u)*l;return f}function L_(e,t,r){return t=+t,e=+e,r=+r,Sy(e,t,r)[2]}function M_(e,t,r){t=+t,e=+e,r=+r;const n=t<e,a=n?L_(t,e,r):L_(e,t,r);return(n?-1:1)*(a<0?1/-a:a)}function WT(e,t){let r;for(const n of e)n!=null&&(r<n||r===void 0&&n>=n)&&(r=n);return r}function GT(e,t){let r;for(const n of e)n!=null&&(r>n||r===void 0&&n>=n)&&(r=n);return r}function sR(e,t,r=0,n=1/0,a){if(t=Math.floor(t),r=Math.floor(Math.max(0,r)),n=Math.floor(Math.min(e.length-1,n)),!(r<=t&&t<=n))return e;for(a=a===void 0?iR:Bfe(a);n>r;){if(n-r>600){const f=n-r+1,u=t-r+1,h=Math.log(f),p=.5*Math.exp(2*h/3),g=.5*Math.sqrt(h*p*(f-p)/f)*(u-f/2<0?-1:1),x=Math.max(r,Math.floor(t-u*p/f+g)),b=Math.min(n,Math.floor(t+(f-u)*p/f+g));sR(e,t,x,b,a)}const i=e[t];let l=r,o=n;for(lx(e,r,t),a(e[n],i)>0&&lx(e,r,n);l<o;){for(lx(e,l,o),++l,--o;a(e[l],i)<0;)++l;for(;a(e[o],i)>0;)--o}a(e[r],i)===0?lx(e,r,o):(++o,lx(e,o,n)),o<=t&&(r=o+1),t<=o&&(n=o-1)}return e}function lx(e,t,r){const n=e[t];e[t]=e[r],e[r]=n}function $fe(e,t,r){if(e=Float64Array.from(Ffe(e)),!(!(n=e.length)||isNaN(t=+t))){if(t<=0||n<2)return GT(e);if(t>=1)return WT(e);var n,a=(n-1)*t,i=Math.floor(a),l=WT(sR(e,i).subarray(0,i+1)),o=GT(e.subarray(i+1));return l+(o-l)*(a-i)}}function Hfe(e,t,r=aR){if(!(!(n=e.length)||isNaN(t=+t))){if(t<=0||n<2)return+r(e[0],0,e);if(t>=1)return+r(e[n-1],n-1,e);var n,a=(n-1)*t,i=Math.floor(a),l=+r(e[i],i,e),o=+r(e[i+1],i+1,e);return l+(o-l)*(a-i)}}function Vfe(e,t,r){e=+e,t=+t,r=(a=arguments.length)<2?(t=e,e=0,1):a<3?1:+r;for(var n=-1,a=Math.max(0,Math.ceil((t-e)/r))|0,i=new Array(a);++n<a;)i[n]=e+n*r;return i}function Wo(e,t){switch(arguments.length){case 0:break;case 1:this.range(e);break;default:this.range(t).domain(e);break}return this}function Ef(e,t){switch(arguments.length){case 0:break;case 1:{typeof e=="function"?this.interpolator(e):this.range(e);break}default:{this.domain(e),typeof t=="function"?this.interpolator(t):this.range(t);break}}return this}const R_=Symbol("implicit");function aS(){var e=new HT,t=[],r=[],n=R_;function a(i){let l=e.get(i);if(l===void 0){if(n!==R_)return n;e.set(i,l=t.push(i)-1)}return r[l%r.length]}return a.domain=function(i){if(!arguments.length)return t.slice();t=[],e=new HT;for(const l of i)e.has(l)||e.set(l,t.push(l)-1);return a},a.range=function(i){return arguments.length?(r=Array.from(i),a):r.slice()},a.unknown=function(i){return arguments.length?(n=i,a):n},a.copy=function(){return aS(t,r).unknown(n)},Wo.apply(a,arguments),a}function iS(){var e=aS().unknown(void 0),t=e.domain,r=e.range,n=0,a=1,i,l,o=!1,f=0,u=0,h=.5;delete e.unknown;function p(){var g=t().length,x=a<n,b=x?a:n,y=x?n:a;i=(y-b)/Math.max(1,g-f+u*2),o&&(i=Math.floor(i)),b+=(y-b-i*(g-f))*h,l=i*(1-f),o&&(b=Math.round(b),l=Math.round(l));var w=Vfe(g).map(function(_){return b+i*_});return r(x?w.reverse():w)}return e.domain=function(g){return arguments.length?(t(g),p()):t()},e.range=function(g){return arguments.length?([n,a]=g,n=+n,a=+a,p()):[n,a]},e.rangeRound=function(g){return[n,a]=g,n=+n,a=+a,o=!0,p()},e.bandwidth=function(){return l},e.step=function(){return i},e.round=function(g){return arguments.length?(o=!!g,p()):o},e.padding=function(g){return arguments.length?(f=Math.min(1,u=+g),p()):f},e.paddingInner=function(g){return arguments.length?(f=Math.min(1,g),p()):f},e.paddingOuter=function(g){return arguments.length?(u=+g,p()):u},e.align=function(g){return arguments.length?(h=Math.max(0,Math.min(1,g)),p()):h},e.copy=function(){return iS(t(),[n,a]).round(o).paddingInner(f).paddingOuter(u).align(h)},Wo.apply(p(),arguments)}function lR(e){var t=e.copy;return e.padding=e.paddingOuter,delete e.paddingInner,delete e.paddingOuter,e.copy=function(){return lR(t())},e}function Wfe(){return lR(iS.apply(null,arguments).paddingInner(1))}function sS(e,t,r){e.prototype=t.prototype=r,r.constructor=e}function oR(e,t){var r=Object.create(e.prototype);for(var n in t)r[n]=t[n];return r}function Mg(){}var ig=.7,jy=1/ig,Om="\\s*([+-]?\\d+)\\s*",sg="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",ou="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",Gfe=/^#([0-9a-f]{3,8})$/,Kfe=new RegExp(`^rgb\\(${Om},${Om},${Om}\\)$`),Yfe=new RegExp(`^rgb\\(${ou},${ou},${ou}\\)$`),Xfe=new RegExp(`^rgba\\(${Om},${Om},${Om},${sg}\\)$`),Qfe=new RegExp(`^rgba\\(${ou},${ou},${ou},${sg}\\)$`),Zfe=new RegExp(`^hsl\\(${sg},${ou},${ou}\\)$`),Jfe=new RegExp(`^hsla\\(${sg},${ou},${ou},${sg}\\)$`),KT={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};sS(Mg,lg,{copy(e){return Object.assign(new this.constructor,this,e)},displayable(){return this.rgb().displayable()},hex:YT,formatHex:YT,formatHex8:ede,formatHsl:tde,formatRgb:XT,toString:XT});function YT(){return this.rgb().formatHex()}function ede(){return this.rgb().formatHex8()}function tde(){return cR(this).formatHsl()}function XT(){return this.rgb().formatRgb()}function lg(e){var t,r;return e=(e+"").trim().toLowerCase(),(t=Gfe.exec(e))?(r=t[1].length,t=parseInt(t[1],16),r===6?QT(t):r===3?new jl(t>>8&15|t>>4&240,t>>4&15|t&240,(t&15)<<4|t&15,1):r===8?dv(t>>24&255,t>>16&255,t>>8&255,(t&255)/255):r===4?dv(t>>12&15|t>>8&240,t>>8&15|t>>4&240,t>>4&15|t&240,((t&15)<<4|t&15)/255):null):(t=Kfe.exec(e))?new jl(t[1],t[2],t[3],1):(t=Yfe.exec(e))?new jl(t[1]*255/100,t[2]*255/100,t[3]*255/100,1):(t=Xfe.exec(e))?dv(t[1],t[2],t[3],t[4]):(t=Qfe.exec(e))?dv(t[1]*255/100,t[2]*255/100,t[3]*255/100,t[4]):(t=Zfe.exec(e))?e8(t[1],t[2]/100,t[3]/100,1):(t=Jfe.exec(e))?e8(t[1],t[2]/100,t[3]/100,t[4]):KT.hasOwnProperty(e)?QT(KT[e]):e==="transparent"?new jl(NaN,NaN,NaN,0):null}function QT(e){return new jl(e>>16&255,e>>8&255,e&255,1)}function dv(e,t,r,n){return n<=0&&(e=t=r=NaN),new jl(e,t,r,n)}function rde(e){return e instanceof Mg||(e=lg(e)),e?(e=e.rgb(),new jl(e.r,e.g,e.b,e.opacity)):new jl}function I_(e,t,r,n){return arguments.length===1?rde(e):new jl(e,t,r,n??1)}function jl(e,t,r,n){this.r=+e,this.g=+t,this.b=+r,this.opacity=+n}sS(jl,I_,oR(Mg,{brighter(e){return e=e==null?jy:Math.pow(jy,e),new jl(this.r*e,this.g*e,this.b*e,this.opacity)},darker(e){return e=e==null?ig:Math.pow(ig,e),new jl(this.r*e,this.g*e,this.b*e,this.opacity)},rgb(){return this},clamp(){return new jl(R0(this.r),R0(this.g),R0(this.b),Ay(this.opacity))},displayable(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:ZT,formatHex:ZT,formatHex8:nde,formatRgb:JT,toString:JT}));function ZT(){return`#${k0(this.r)}${k0(this.g)}${k0(this.b)}`}function nde(){return`#${k0(this.r)}${k0(this.g)}${k0(this.b)}${k0((isNaN(this.opacity)?1:this.opacity)*255)}`}function JT(){const e=Ay(this.opacity);return`${e===1?"rgb(":"rgba("}${R0(this.r)}, ${R0(this.g)}, ${R0(this.b)}${e===1?")":`, ${e})`}`}function Ay(e){return isNaN(e)?1:Math.max(0,Math.min(1,e))}function R0(e){return Math.max(0,Math.min(255,Math.round(e)||0))}function k0(e){return e=R0(e),(e<16?"0":"")+e.toString(16)}function e8(e,t,r,n){return n<=0?e=t=r=NaN:r<=0||r>=1?e=t=NaN:t<=0&&(e=NaN),new yc(e,t,r,n)}function cR(e){if(e instanceof yc)return new yc(e.h,e.s,e.l,e.opacity);if(e instanceof Mg||(e=lg(e)),!e)return new yc;if(e instanceof yc)return e;e=e.rgb();var t=e.r/255,r=e.g/255,n=e.b/255,a=Math.min(t,r,n),i=Math.max(t,r,n),l=NaN,o=i-a,f=(i+a)/2;return o?(t===i?l=(r-n)/o+(r<n)*6:r===i?l=(n-t)/o+2:l=(t-r)/o+4,o/=f<.5?i+a:2-i-a,l*=60):o=f>0&&f<1?0:l,new yc(l,o,f,e.opacity)}function ade(e,t,r,n){return arguments.length===1?cR(e):new yc(e,t,r,n??1)}function yc(e,t,r,n){this.h=+e,this.s=+t,this.l=+r,this.opacity=+n}sS(yc,ade,oR(Mg,{brighter(e){return e=e==null?jy:Math.pow(jy,e),new yc(this.h,this.s,this.l*e,this.opacity)},darker(e){return e=e==null?ig:Math.pow(ig,e),new yc(this.h,this.s,this.l*e,this.opacity)},rgb(){var e=this.h%360+(this.h<0)*360,t=isNaN(e)||isNaN(this.s)?0:this.s,r=this.l,n=r+(r<.5?r:1-r)*t,a=2*r-n;return new jl(H5(e>=240?e-240:e+120,a,n),H5(e,a,n),H5(e<120?e+240:e-120,a,n),this.opacity)},clamp(){return new yc(t8(this.h),hv(this.s),hv(this.l),Ay(this.opacity))},displayable(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl(){const e=Ay(this.opacity);return`${e===1?"hsl(":"hsla("}${t8(this.h)}, ${hv(this.s)*100}%, ${hv(this.l)*100}%${e===1?")":`, ${e})`}`}}));function t8(e){return e=(e||0)%360,e<0?e+360:e}function hv(e){return Math.max(0,Math.min(1,e||0))}function H5(e,t,r){return(e<60?t+(r-t)*e/60:e<180?r:e<240?t+(r-t)*(240-e)/60:t)*255}const lS=e=>()=>e;function ide(e,t){return function(r){return e+r*t}}function sde(e,t,r){return e=Math.pow(e,r),t=Math.pow(t,r)-e,r=1/r,function(n){return Math.pow(e+n*t,r)}}function lde(e){return(e=+e)==1?uR:function(t,r){return r-t?sde(t,r,e):lS(isNaN(t)?r:t)}}function uR(e,t){var r=t-e;return r?ide(e,r):lS(isNaN(e)?t:e)}const r8=(function e(t){var r=lde(t);function n(a,i){var l=r((a=I_(a)).r,(i=I_(i)).r),o=r(a.g,i.g),f=r(a.b,i.b),u=uR(a.opacity,i.opacity);return function(h){return a.r=l(h),a.g=o(h),a.b=f(h),a.opacity=u(h),a+""}}return n.gamma=e,n})(1);function ode(e,t){t||(t=[]);var r=e?Math.min(t.length,e.length):0,n=t.slice(),a;return function(i){for(a=0;a<r;++a)n[a]=e[a]*(1-i)+t[a]*i;return n}}function cde(e){return ArrayBuffer.isView(e)&&!(e instanceof DataView)}function ude(e,t){var r=t?t.length:0,n=e?Math.min(r,e.length):0,a=new Array(n),i=new Array(r),l;for(l=0;l<n;++l)a[l]=op(e[l],t[l]);for(;l<r;++l)i[l]=t[l];return function(o){for(l=0;l<n;++l)i[l]=a[l](o);return i}}function fde(e,t){var r=new Date;return e=+e,t=+t,function(n){return r.setTime(e*(1-n)+t*n),r}}function Ey(e,t){return e=+e,t=+t,function(r){return e*(1-r)+t*r}}function dde(e,t){var r={},n={},a;(e===null||typeof e!="object")&&(e={}),(t===null||typeof t!="object")&&(t={});for(a in t)a in e?r[a]=op(e[a],t[a]):n[a]=t[a];return function(i){for(a in r)n[a]=r[a](i);return n}}var B_=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,V5=new RegExp(B_.source,"g");function hde(e){return function(){return e}}function mde(e){return function(t){return e(t)+""}}function pde(e,t){var r=B_.lastIndex=V5.lastIndex=0,n,a,i,l=-1,o=[],f=[];for(e=e+"",t=t+"";(n=B_.exec(e))&&(a=V5.exec(t));)(i=a.index)>r&&(i=t.slice(r,i),o[l]?o[l]+=i:o[++l]=i),(n=n[0])===(a=a[0])?o[l]?o[l]+=a:o[++l]=a:(o[++l]=null,f.push({i:l,x:Ey(n,a)})),r=V5.lastIndex;return r<t.length&&(i=t.slice(r),o[l]?o[l]+=i:o[++l]=i),o.length<2?f[0]?mde(f[0].x):hde(t):(t=f.length,function(u){for(var h=0,p;h<t;++h)o[(p=f[h]).i]=p.x(u);return o.join("")})}function op(e,t){var r=typeof t,n;return t==null||r==="boolean"?lS(t):(r==="number"?Ey:r==="string"?(n=lg(t))?(t=n,r8):pde:t instanceof lg?r8:t instanceof Date?fde:cde(t)?ode:Array.isArray(t)?ude:typeof t.valueOf!="function"&&typeof t.toString!="function"||isNaN(t)?dde:Ey)(e,t)}function oS(e,t){return e=+e,t=+t,function(r){return Math.round(e*(1-r)+t*r)}}function xde(e,t){t===void 0&&(t=e,e=op);for(var r=0,n=t.length-1,a=t[0],i=new Array(n<0?0:n);r<n;)i[r]=e(a,a=t[++r]);return function(l){var o=Math.max(0,Math.min(n-1,Math.floor(l*=n)));return i[o](l-o)}}function gde(e){return function(){return e}}function ky(e){return+e}var n8=[0,1];function Qs(e){return e}function U_(e,t){return(t-=e=+e)?function(r){return(r-e)/t}:gde(isNaN(t)?NaN:.5)}function vde(e,t){var r;return e>t&&(r=e,e=t,t=r),function(n){return Math.max(e,Math.min(t,n))}}function yde(e,t,r){var n=e[0],a=e[1],i=t[0],l=t[1];return a<n?(n=U_(a,n),i=r(l,i)):(n=U_(n,a),i=r(i,l)),function(o){return i(n(o))}}function bde(e,t,r){var n=Math.min(e.length,t.length)-1,a=new Array(n),i=new Array(n),l=-1;for(e[n]<e[0]&&(e=e.slice().reverse(),t=t.slice().reverse());++l<n;)a[l]=U_(e[l],e[l+1]),i[l]=r(t[l],t[l+1]);return function(o){var f=Lg(e,o,1,n)-1;return i[f](a[f](o))}}function Rg(e,t){return t.domain(e.domain()).range(e.range()).interpolate(e.interpolate()).clamp(e.clamp()).unknown(e.unknown())}function k2(){var e=n8,t=n8,r=op,n,a,i,l=Qs,o,f,u;function h(){var g=Math.min(e.length,t.length);return l!==Qs&&(l=vde(e[0],e[g-1])),o=g>2?bde:yde,f=u=null,p}function p(g){return g==null||isNaN(g=+g)?i:(f||(f=o(e.map(n),t,r)))(n(l(g)))}return p.invert=function(g){return l(a((u||(u=o(t,e.map(n),Ey)))(g)))},p.domain=function(g){return arguments.length?(e=Array.from(g,ky),h()):e.slice()},p.range=function(g){return arguments.length?(t=Array.from(g),h()):t.slice()},p.rangeRound=function(g){return t=Array.from(g),r=oS,h()},p.clamp=function(g){return arguments.length?(l=g?!0:Qs,h()):l!==Qs},p.interpolate=function(g){return arguments.length?(r=g,h()):r},p.unknown=function(g){return arguments.length?(i=g,p):i},function(g,x){return n=g,a=x,h()}}function cS(){return k2()(Qs,Qs)}function wde(e){return Math.abs(e=Math.round(e))>=1e21?e.toLocaleString("en").replace(/,/g,""):e.toString(10)}function Cy(e,t){if((r=(e=t?e.toExponential(t-1):e.toExponential()).indexOf("e"))<0)return null;var r,n=e.slice(0,r);return[n.length>1?n[0]+n.slice(2):n,+e.slice(r+1)]}function $m(e){return e=Cy(Math.abs(e)),e?e[1]:NaN}function _de(e,t){return function(r,n){for(var a=r.length,i=[],l=0,o=e[0],f=0;a>0&&o>0&&(f+o+1>n&&(o=Math.max(1,n-f)),i.push(r.substring(a-=o,a+o)),!((f+=o+1)>n));)o=e[l=(l+1)%e.length];return i.reverse().join(t)}}function Nde(e){return function(t){return t.replace(/[0-9]/g,function(r){return e[+r]})}}var Sde=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i;function og(e){if(!(t=Sde.exec(e)))throw new Error("invalid format: "+e);var t;return new uS({fill:t[1],align:t[2],sign:t[3],symbol:t[4],zero:t[5],width:t[6],comma:t[7],precision:t[8]&&t[8].slice(1),trim:t[9],type:t[10]})}og.prototype=uS.prototype;function uS(e){this.fill=e.fill===void 0?" ":e.fill+"",this.align=e.align===void 0?">":e.align+"",this.sign=e.sign===void 0?"-":e.sign+"",this.symbol=e.symbol===void 0?"":e.symbol+"",this.zero=!!e.zero,this.width=e.width===void 0?void 0:+e.width,this.comma=!!e.comma,this.precision=e.precision===void 0?void 0:+e.precision,this.trim=!!e.trim,this.type=e.type===void 0?"":e.type+""}uS.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(this.width===void 0?"":Math.max(1,this.width|0))+(this.comma?",":"")+(this.precision===void 0?"":"."+Math.max(0,this.precision|0))+(this.trim?"~":"")+this.type};function jde(e){e:for(var t=e.length,r=1,n=-1,a;r<t;++r)switch(e[r]){case".":n=a=r;break;case"0":n===0&&(n=r),a=r;break;default:if(!+e[r])break e;n>0&&(n=0);break}return n>0?e.slice(0,n)+e.slice(a+1):e}var fR;function Ade(e,t){var r=Cy(e,t);if(!r)return e+"";var n=r[0],a=r[1],i=a-(fR=Math.max(-8,Math.min(8,Math.floor(a/3)))*3)+1,l=n.length;return i===l?n:i>l?n+new Array(i-l+1).join("0"):i>0?n.slice(0,i)+"."+n.slice(i):"0."+new Array(1-i).join("0")+Cy(e,Math.max(0,t+i-1))[0]}function a8(e,t){var r=Cy(e,t);if(!r)return e+"";var n=r[0],a=r[1];return a<0?"0."+new Array(-a).join("0")+n:n.length>a+1?n.slice(0,a+1)+"."+n.slice(a+1):n+new Array(a-n.length+2).join("0")}const i8={"%":(e,t)=>(e*100).toFixed(t),b:e=>Math.round(e).toString(2),c:e=>e+"",d:wde,e:(e,t)=>e.toExponential(t),f:(e,t)=>e.toFixed(t),g:(e,t)=>e.toPrecision(t),o:e=>Math.round(e).toString(8),p:(e,t)=>a8(e*100,t),r:a8,s:Ade,X:e=>Math.round(e).toString(16).toUpperCase(),x:e=>Math.round(e).toString(16)};function s8(e){return e}var l8=Array.prototype.map,o8=["y","z","a","f","p","n","","m","","k","M","G","T","P","E","Z","Y"];function Ede(e){var t=e.grouping===void 0||e.thousands===void 0?s8:_de(l8.call(e.grouping,Number),e.thousands+""),r=e.currency===void 0?"":e.currency[0]+"",n=e.currency===void 0?"":e.currency[1]+"",a=e.decimal===void 0?".":e.decimal+"",i=e.numerals===void 0?s8:Nde(l8.call(e.numerals,String)),l=e.percent===void 0?"%":e.percent+"",o=e.minus===void 0?"":e.minus+"",f=e.nan===void 0?"NaN":e.nan+"";function u(p){p=og(p);var g=p.fill,x=p.align,b=p.sign,y=p.symbol,w=p.zero,_=p.width,E=p.comma,A=p.precision,O=p.trim,D=p.type;D==="n"?(E=!0,D="g"):i8[D]||(A===void 0&&(A=12),O=!0,D="g"),(w||g==="0"&&x==="=")&&(w=!0,g="0",x="=");var R=y==="$"?r:y==="#"&&/[boxX]/.test(D)?"0"+D.toLowerCase():"",P=y==="$"?n:/[%p]/.test(D)?l:"",T=i8[D],B=/[defgprs%]/.test(D);A=A===void 0?6:/[gprs]/.test(D)?Math.max(1,Math.min(21,A)):Math.max(0,Math.min(20,A));function G(I){var z=R,K=P,J,pe,ne;if(D==="c")K=T(I)+K,I="";else{I=+I;var le=I<0||1/I<0;if(I=isNaN(I)?f:T(Math.abs(I),A),O&&(I=jde(I)),le&&+I==0&&b!=="+"&&(le=!1),z=(le?b==="("?b:o:b==="-"||b==="("?"":b)+z,K=(D==="s"?o8[8+fR/3]:"")+K+(le&&b==="("?")":""),B){for(J=-1,pe=I.length;++J<pe;)if(ne=I.charCodeAt(J),48>ne||ne>57){K=(ne===46?a+I.slice(J+1):I.slice(J))+K,I=I.slice(0,J);break}}}E&&!w&&(I=t(I,1/0));var ve=z.length+I.length+K.length,ue=ve<_?new Array(_-ve+1).join(g):"";switch(E&&w&&(I=t(ue+I,ue.length?_-K.length:1/0),ue=""),x){case"<":I=z+I+K+ue;break;case"=":I=z+ue+I+K;break;case"^":I=ue.slice(0,ve=ue.length>>1)+z+I+K+ue.slice(ve);break;default:I=ue+z+I+K;break}return i(I)}return G.toString=function(){return p+""},G}function h(p,g){var x=u((p=og(p),p.type="f",p)),b=Math.max(-8,Math.min(8,Math.floor($m(g)/3)))*3,y=Math.pow(10,-b),w=o8[8+b/3];return function(_){return x(y*_)+w}}return{format:u,formatPrefix:h}}var mv,fS,dR;kde({thousands:",",grouping:[3],currency:["$",""]});function kde(e){return mv=Ede(e),fS=mv.format,dR=mv.formatPrefix,mv}function Cde(e){return Math.max(0,-$m(Math.abs(e)))}function Tde(e,t){return Math.max(0,Math.max(-8,Math.min(8,Math.floor($m(t)/3)))*3-$m(Math.abs(e)))}function Ode(e,t){return e=Math.abs(e),t=Math.abs(t)-e,Math.max(0,$m(t)-$m(e))+1}function hR(e,t,r,n){var a=M_(e,t,r),i;switch(n=og(n??",f"),n.type){case"s":{var l=Math.max(Math.abs(e),Math.abs(t));return n.precision==null&&!isNaN(i=Tde(a,l))&&(n.precision=i),dR(n,l)}case"":case"e":case"g":case"p":case"r":{n.precision==null&&!isNaN(i=Ode(a,Math.max(Math.abs(e),Math.abs(t))))&&(n.precision=i-(n.type==="e"));break}case"f":case"%":{n.precision==null&&!isNaN(i=Cde(a))&&(n.precision=i-(n.type==="%")*2);break}}return fS(n)}function Hd(e){var t=e.domain;return e.ticks=function(r){var n=t();return F_(n[0],n[n.length-1],r??10)},e.tickFormat=function(r,n){var a=t();return hR(a[0],a[a.length-1],r??10,n)},e.nice=function(r){r==null&&(r=10);var n=t(),a=0,i=n.length-1,l=n[a],o=n[i],f,u,h=10;for(o<l&&(u=l,l=o,o=u,u=a,a=i,i=u);h-- >0;){if(u=L_(l,o,r),u===f)return n[a]=l,n[i]=o,t(n);if(u>0)l=Math.floor(l/u)*u,o=Math.ceil(o/u)*u;else if(u<0)l=Math.ceil(l*u)/u,o=Math.floor(o*u)/u;else break;f=u}return e},e}function mR(){var e=cS();return e.copy=function(){return Rg(e,mR())},Wo.apply(e,arguments),Hd(e)}function pR(e){var t;function r(n){return n==null||isNaN(n=+n)?t:n}return r.invert=r,r.domain=r.range=function(n){return arguments.length?(e=Array.from(n,ky),r):e.slice()},r.unknown=function(n){return arguments.length?(t=n,r):t},r.copy=function(){return pR(e).unknown(t)},e=arguments.length?Array.from(e,ky):[0,1],Hd(r)}function xR(e,t){e=e.slice();var r=0,n=e.length-1,a=e[r],i=e[n],l;return i<a&&(l=r,r=n,n=l,l=a,a=i,i=l),e[r]=t.floor(a),e[n]=t.ceil(i),e}function c8(e){return Math.log(e)}function u8(e){return Math.exp(e)}function Dde(e){return-Math.log(-e)}function Pde(e){return-Math.exp(-e)}function Fde(e){return isFinite(e)?+("1e"+e):e<0?0:e}function Lde(e){return e===10?Fde:e===Math.E?Math.exp:t=>Math.pow(e,t)}function Mde(e){return e===Math.E?Math.log:e===10&&Math.log10||e===2&&Math.log2||(e=Math.log(e),t=>Math.log(t)/e)}function f8(e){return(t,r)=>-e(-t,r)}function dS(e){const t=e(c8,u8),r=t.domain;let n=10,a,i;function l(){return a=Mde(n),i=Lde(n),r()[0]<0?(a=f8(a),i=f8(i),e(Dde,Pde)):e(c8,u8),t}return t.base=function(o){return arguments.length?(n=+o,l()):n},t.domain=function(o){return arguments.length?(r(o),l()):r()},t.ticks=o=>{const f=r();let u=f[0],h=f[f.length-1];const p=h<u;p&&([u,h]=[h,u]);let g=a(u),x=a(h),b,y;const w=o==null?10:+o;let _=[];if(!(n%1)&&x-g<w){if(g=Math.floor(g),x=Math.ceil(x),u>0){for(;g<=x;++g)for(b=1;b<n;++b)if(y=g<0?b/i(-g):b*i(g),!(y<u)){if(y>h)break;_.push(y)}}else for(;g<=x;++g)for(b=n-1;b>=1;--b)if(y=g>0?b/i(-g):b*i(g),!(y<u)){if(y>h)break;_.push(y)}_.length*2<w&&(_=F_(u,h,w))}else _=F_(g,x,Math.min(x-g,w)).map(i);return p?_.reverse():_},t.tickFormat=(o,f)=>{if(o==null&&(o=10),f==null&&(f=n===10?"s":","),typeof f!="function"&&(!(n%1)&&(f=og(f)).precision==null&&(f.trim=!0),f=fS(f)),o===1/0)return f;const u=Math.max(1,n*o/t.ticks().length);return h=>{let p=h/i(Math.round(a(h)));return p*n<n-.5&&(p*=n),p<=u?f(h):""}},t.nice=()=>r(xR(r(),{floor:o=>i(Math.floor(a(o))),ceil:o=>i(Math.ceil(a(o)))})),t}function gR(){const e=dS(k2()).domain([1,10]);return e.copy=()=>Rg(e,gR()).base(e.base()),Wo.apply(e,arguments),e}function d8(e){return function(t){return Math.sign(t)*Math.log1p(Math.abs(t/e))}}function h8(e){return function(t){return Math.sign(t)*Math.expm1(Math.abs(t))*e}}function hS(e){var t=1,r=e(d8(t),h8(t));return r.constant=function(n){return arguments.length?e(d8(t=+n),h8(t)):t},Hd(r)}function vR(){var e=hS(k2());return e.copy=function(){return Rg(e,vR()).constant(e.constant())},Wo.apply(e,arguments)}function m8(e){return function(t){return t<0?-Math.pow(-t,e):Math.pow(t,e)}}function Rde(e){return e<0?-Math.sqrt(-e):Math.sqrt(e)}function Ide(e){return e<0?-e*e:e*e}function mS(e){var t=e(Qs,Qs),r=1;function n(){return r===1?e(Qs,Qs):r===.5?e(Rde,Ide):e(m8(r),m8(1/r))}return t.exponent=function(a){return arguments.length?(r=+a,n()):r},Hd(t)}function pS(){var e=mS(k2());return e.copy=function(){return Rg(e,pS()).exponent(e.exponent())},Wo.apply(e,arguments),e}function Bde(){return pS.apply(null,arguments).exponent(.5)}function p8(e){return Math.sign(e)*e*e}function Ude(e){return Math.sign(e)*Math.sqrt(Math.abs(e))}function yR(){var e=cS(),t=[0,1],r=!1,n;function a(i){var l=Ude(e(i));return isNaN(l)?n:r?Math.round(l):l}return a.invert=function(i){return e.invert(p8(i))},a.domain=function(i){return arguments.length?(e.domain(i),a):e.domain()},a.range=function(i){return arguments.length?(e.range((t=Array.from(i,ky)).map(p8)),a):t.slice()},a.rangeRound=function(i){return a.range(i).round(!0)},a.round=function(i){return arguments.length?(r=!!i,a):r},a.clamp=function(i){return arguments.length?(e.clamp(i),a):e.clamp()},a.unknown=function(i){return arguments.length?(n=i,a):n},a.copy=function(){return yR(e.domain(),t).round(r).clamp(e.clamp()).unknown(n)},Wo.apply(a,arguments),Hd(a)}function bR(){var e=[],t=[],r=[],n;function a(){var l=0,o=Math.max(1,t.length);for(r=new Array(o-1);++l<o;)r[l-1]=Hfe(e,l/o);return i}function i(l){return l==null||isNaN(l=+l)?n:t[Lg(r,l)]}return i.invertExtent=function(l){var o=t.indexOf(l);return o<0?[NaN,NaN]:[o>0?r[o-1]:e[0],o<r.length?r[o]:e[e.length-1]]},i.domain=function(l){if(!arguments.length)return e.slice();e=[];for(let o of l)o!=null&&!isNaN(o=+o)&&e.push(o);return e.sort(Nd),a()},i.range=function(l){return arguments.length?(t=Array.from(l),a()):t.slice()},i.unknown=function(l){return arguments.length?(n=l,i):n},i.quantiles=function(){return r.slice()},i.copy=function(){return bR().domain(e).range(t).unknown(n)},Wo.apply(i,arguments)}function wR(){var e=0,t=1,r=1,n=[.5],a=[0,1],i;function l(f){return f!=null&&f<=f?a[Lg(n,f,0,r)]:i}function o(){var f=-1;for(n=new Array(r);++f<r;)n[f]=((f+1)*t-(f-r)*e)/(r+1);return l}return l.domain=function(f){return arguments.length?([e,t]=f,e=+e,t=+t,o()):[e,t]},l.range=function(f){return arguments.length?(r=(a=Array.from(f)).length-1,o()):a.slice()},l.invertExtent=function(f){var u=a.indexOf(f);return u<0?[NaN,NaN]:u<1?[e,n[0]]:u>=r?[n[r-1],t]:[n[u-1],n[u]]},l.unknown=function(f){return arguments.length&&(i=f),l},l.thresholds=function(){return n.slice()},l.copy=function(){return wR().domain([e,t]).range(a).unknown(i)},Wo.apply(Hd(l),arguments)}function _R(){var e=[.5],t=[0,1],r,n=1;function a(i){return i!=null&&i<=i?t[Lg(e,i,0,n)]:r}return a.domain=function(i){return arguments.length?(e=Array.from(i),n=Math.min(e.length,t.length-1),a):e.slice()},a.range=function(i){return arguments.length?(t=Array.from(i),n=Math.min(e.length,t.length-1),a):t.slice()},a.invertExtent=function(i){var l=t.indexOf(i);return[e[l-1],e[l]]},a.unknown=function(i){return arguments.length?(r=i,a):r},a.copy=function(){return _R().domain(e).range(t).unknown(r)},Wo.apply(a,arguments)}const W5=new Date,G5=new Date;function ji(e,t,r,n){function a(i){return e(i=arguments.length===0?new Date:new Date(+i)),i}return a.floor=i=>(e(i=new Date(+i)),i),a.ceil=i=>(e(i=new Date(i-1)),t(i,1),e(i),i),a.round=i=>{const l=a(i),o=a.ceil(i);return i-l<o-i?l:o},a.offset=(i,l)=>(t(i=new Date(+i),l==null?1:Math.floor(l)),i),a.range=(i,l,o)=>{const f=[];if(i=a.ceil(i),o=o==null?1:Math.floor(o),!(i<l)||!(o>0))return f;let u;do f.push(u=new Date(+i)),t(i,o),e(i);while(u<i&&i<l);return f},a.filter=i=>ji(l=>{if(l>=l)for(;e(l),!i(l);)l.setTime(l-1)},(l,o)=>{if(l>=l)if(o<0)for(;++o<=0;)for(;t(l,-1),!i(l););else for(;--o>=0;)for(;t(l,1),!i(l););}),r&&(a.count=(i,l)=>(W5.setTime(+i),G5.setTime(+l),e(W5),e(G5),Math.floor(r(W5,G5))),a.every=i=>(i=Math.floor(i),!isFinite(i)||!(i>0)?null:i>1?a.filter(n?l=>n(l)%i===0:l=>a.count(0,l)%i===0):a)),a}const Ty=ji(()=>{},(e,t)=>{e.setTime(+e+t)},(e,t)=>t-e);Ty.every=e=>(e=Math.floor(e),!isFinite(e)||!(e>0)?null:e>1?ji(t=>{t.setTime(Math.floor(t/e)*e)},(t,r)=>{t.setTime(+t+r*e)},(t,r)=>(r-t)/e):Ty);Ty.range;const Qu=1e3,Mo=Qu*60,Zu=Mo*60,pf=Zu*24,xS=pf*7,x8=pf*30,K5=pf*365,C0=ji(e=>{e.setTime(e-e.getMilliseconds())},(e,t)=>{e.setTime(+e+t*Qu)},(e,t)=>(t-e)/Qu,e=>e.getUTCSeconds());C0.range;const gS=ji(e=>{e.setTime(e-e.getMilliseconds()-e.getSeconds()*Qu)},(e,t)=>{e.setTime(+e+t*Mo)},(e,t)=>(t-e)/Mo,e=>e.getMinutes());gS.range;const vS=ji(e=>{e.setUTCSeconds(0,0)},(e,t)=>{e.setTime(+e+t*Mo)},(e,t)=>(t-e)/Mo,e=>e.getUTCMinutes());vS.range;const yS=ji(e=>{e.setTime(e-e.getMilliseconds()-e.getSeconds()*Qu-e.getMinutes()*Mo)},(e,t)=>{e.setTime(+e+t*Zu)},(e,t)=>(t-e)/Zu,e=>e.getHours());yS.range;const bS=ji(e=>{e.setUTCMinutes(0,0,0)},(e,t)=>{e.setTime(+e+t*Zu)},(e,t)=>(t-e)/Zu,e=>e.getUTCHours());bS.range;const Ig=ji(e=>e.setHours(0,0,0,0),(e,t)=>e.setDate(e.getDate()+t),(e,t)=>(t-e-(t.getTimezoneOffset()-e.getTimezoneOffset())*Mo)/pf,e=>e.getDate()-1);Ig.range;const C2=ji(e=>{e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCDate(e.getUTCDate()+t)},(e,t)=>(t-e)/pf,e=>e.getUTCDate()-1);C2.range;const NR=ji(e=>{e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCDate(e.getUTCDate()+t)},(e,t)=>(t-e)/pf,e=>Math.floor(e/pf));NR.range;function hh(e){return ji(t=>{t.setDate(t.getDate()-(t.getDay()+7-e)%7),t.setHours(0,0,0,0)},(t,r)=>{t.setDate(t.getDate()+r*7)},(t,r)=>(r-t-(r.getTimezoneOffset()-t.getTimezoneOffset())*Mo)/xS)}const T2=hh(0),Oy=hh(1),zde=hh(2),qde=hh(3),Hm=hh(4),$de=hh(5),Hde=hh(6);T2.range;Oy.range;zde.range;qde.range;Hm.range;$de.range;Hde.range;function mh(e){return ji(t=>{t.setUTCDate(t.getUTCDate()-(t.getUTCDay()+7-e)%7),t.setUTCHours(0,0,0,0)},(t,r)=>{t.setUTCDate(t.getUTCDate()+r*7)},(t,r)=>(r-t)/xS)}const O2=mh(0),Dy=mh(1),Vde=mh(2),Wde=mh(3),Vm=mh(4),Gde=mh(5),Kde=mh(6);O2.range;Dy.range;Vde.range;Wde.range;Vm.range;Gde.range;Kde.range;const wS=ji(e=>{e.setDate(1),e.setHours(0,0,0,0)},(e,t)=>{e.setMonth(e.getMonth()+t)},(e,t)=>t.getMonth()-e.getMonth()+(t.getFullYear()-e.getFullYear())*12,e=>e.getMonth());wS.range;const _S=ji(e=>{e.setUTCDate(1),e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCMonth(e.getUTCMonth()+t)},(e,t)=>t.getUTCMonth()-e.getUTCMonth()+(t.getUTCFullYear()-e.getUTCFullYear())*12,e=>e.getUTCMonth());_S.range;const xf=ji(e=>{e.setMonth(0,1),e.setHours(0,0,0,0)},(e,t)=>{e.setFullYear(e.getFullYear()+t)},(e,t)=>t.getFullYear()-e.getFullYear(),e=>e.getFullYear());xf.every=e=>!isFinite(e=Math.floor(e))||!(e>0)?null:ji(t=>{t.setFullYear(Math.floor(t.getFullYear()/e)*e),t.setMonth(0,1),t.setHours(0,0,0,0)},(t,r)=>{t.setFullYear(t.getFullYear()+r*e)});xf.range;const gf=ji(e=>{e.setUTCMonth(0,1),e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCFullYear(e.getUTCFullYear()+t)},(e,t)=>t.getUTCFullYear()-e.getUTCFullYear(),e=>e.getUTCFullYear());gf.every=e=>!isFinite(e=Math.floor(e))||!(e>0)?null:ji(t=>{t.setUTCFullYear(Math.floor(t.getUTCFullYear()/e)*e),t.setUTCMonth(0,1),t.setUTCHours(0,0,0,0)},(t,r)=>{t.setUTCFullYear(t.getUTCFullYear()+r*e)});gf.range;function SR(e,t,r,n,a,i){const l=[[C0,1,Qu],[C0,5,5*Qu],[C0,15,15*Qu],[C0,30,30*Qu],[i,1,Mo],[i,5,5*Mo],[i,15,15*Mo],[i,30,30*Mo],[a,1,Zu],[a,3,3*Zu],[a,6,6*Zu],[a,12,12*Zu],[n,1,pf],[n,2,2*pf],[r,1,xS],[t,1,x8],[t,3,3*x8],[e,1,K5]];function o(u,h,p){const g=h<u;g&&([u,h]=[h,u]);const x=p&&typeof p.range=="function"?p:f(u,h,p),b=x?x.range(u,+h+1):[];return g?b.reverse():b}function f(u,h,p){const g=Math.abs(h-u)/p,x=nS(([,,w])=>w).right(l,g);if(x===l.length)return e.every(M_(u/K5,h/K5,p));if(x===0)return Ty.every(Math.max(M_(u,h,p),1));const[b,y]=l[g/l[x-1][2]<l[x][2]/g?x-1:x];return b.every(y)}return[o,f]}const[Yde,Xde]=SR(gf,_S,O2,NR,bS,vS),[Qde,Zde]=SR(xf,wS,T2,Ig,yS,gS);function Y5(e){if(0<=e.y&&e.y<100){var t=new Date(-1,e.m,e.d,e.H,e.M,e.S,e.L);return t.setFullYear(e.y),t}return new Date(e.y,e.m,e.d,e.H,e.M,e.S,e.L)}function X5(e){if(0<=e.y&&e.y<100){var t=new Date(Date.UTC(-1,e.m,e.d,e.H,e.M,e.S,e.L));return t.setUTCFullYear(e.y),t}return new Date(Date.UTC(e.y,e.m,e.d,e.H,e.M,e.S,e.L))}function ox(e,t,r){return{y:e,m:t,d:r,H:0,M:0,S:0,L:0}}function Jde(e){var t=e.dateTime,r=e.date,n=e.time,a=e.periods,i=e.days,l=e.shortDays,o=e.months,f=e.shortMonths,u=cx(a),h=ux(a),p=cx(i),g=ux(i),x=cx(l),b=ux(l),y=cx(o),w=ux(o),_=cx(f),E=ux(f),A={a:le,A:ve,b:ue,B:je,c:null,d:_8,e:_8,f:_0e,g:D0e,G:F0e,H:y0e,I:b0e,j:w0e,L:jR,m:N0e,M:S0e,p:te,q:F,Q:j8,s:A8,S:j0e,u:A0e,U:E0e,V:k0e,w:C0e,W:T0e,x:null,X:null,y:O0e,Y:P0e,Z:L0e,"%":S8},O={a:M,A:q,b:W,B:Z,c:null,d:N8,e:N8,f:B0e,g:Y0e,G:Q0e,H:M0e,I:R0e,j:I0e,L:ER,m:U0e,M:z0e,p:oe,q:ce,Q:j8,s:A8,S:q0e,u:$0e,U:H0e,V:V0e,w:W0e,W:G0e,x:null,X:null,y:K0e,Y:X0e,Z:Z0e,"%":S8},D={a:G,A:I,b:z,B:K,c:J,d:b8,e:b8,f:p0e,g:y8,G:v8,H:w8,I:w8,j:f0e,L:m0e,m:u0e,M:d0e,p:B,q:c0e,Q:g0e,s:v0e,S:h0e,u:a0e,U:i0e,V:s0e,w:n0e,W:l0e,x:pe,X:ne,y:y8,Y:v8,Z:o0e,"%":x0e};A.x=R(r,A),A.X=R(n,A),A.c=R(t,A),O.x=R(r,O),O.X=R(n,O),O.c=R(t,O);function R(ae,Se){return function(De){var X=[],Ke=-1,Ce=0,xe=ae.length,dt,Xe,wt;for(De instanceof Date||(De=new Date(+De));++Ke<xe;)ae.charCodeAt(Ke)===37&&(X.push(ae.slice(Ce,Ke)),(Xe=g8[dt=ae.charAt(++Ke)])!=null?dt=ae.charAt(++Ke):Xe=dt==="e"?" ":"0",(wt=Se[dt])&&(dt=wt(De,Xe)),X.push(dt),Ce=Ke+1);return X.push(ae.slice(Ce,Ke)),X.join("")}}function P(ae,Se){return function(De){var X=ox(1900,void 0,1),Ke=T(X,ae,De+="",0),Ce,xe;if(Ke!=De.length)return null;if("Q"in X)return new Date(X.Q);if("s"in X)return new Date(X.s*1e3+("L"in X?X.L:0));if(Se&&!("Z"in X)&&(X.Z=0),"p"in X&&(X.H=X.H%12+X.p*12),X.m===void 0&&(X.m="q"in X?X.q:0),"V"in X){if(X.V<1||X.V>53)return null;"w"in X||(X.w=1),"Z"in X?(Ce=X5(ox(X.y,0,1)),xe=Ce.getUTCDay(),Ce=xe>4||xe===0?Dy.ceil(Ce):Dy(Ce),Ce=C2.offset(Ce,(X.V-1)*7),X.y=Ce.getUTCFullYear(),X.m=Ce.getUTCMonth(),X.d=Ce.getUTCDate()+(X.w+6)%7):(Ce=Y5(ox(X.y,0,1)),xe=Ce.getDay(),Ce=xe>4||xe===0?Oy.ceil(Ce):Oy(Ce),Ce=Ig.offset(Ce,(X.V-1)*7),X.y=Ce.getFullYear(),X.m=Ce.getMonth(),X.d=Ce.getDate()+(X.w+6)%7)}else("W"in X||"U"in X)&&("w"in X||(X.w="u"in X?X.u%7:"W"in X?1:0),xe="Z"in X?X5(ox(X.y,0,1)).getUTCDay():Y5(ox(X.y,0,1)).getDay(),X.m=0,X.d="W"in X?(X.w+6)%7+X.W*7-(xe+5)%7:X.w+X.U*7-(xe+6)%7);return"Z"in X?(X.H+=X.Z/100|0,X.M+=X.Z%100,X5(X)):Y5(X)}}function T(ae,Se,De,X){for(var Ke=0,Ce=Se.length,xe=De.length,dt,Xe;Ke<Ce;){if(X>=xe)return-1;if(dt=Se.charCodeAt(Ke++),dt===37){if(dt=Se.charAt(Ke++),Xe=D[dt in g8?Se.charAt(Ke++):dt],!Xe||(X=Xe(ae,De,X))<0)return-1}else if(dt!=De.charCodeAt(X++))return-1}return X}function B(ae,Se,De){var X=u.exec(Se.slice(De));return X?(ae.p=h.get(X[0].toLowerCase()),De+X[0].length):-1}function G(ae,Se,De){var X=x.exec(Se.slice(De));return X?(ae.w=b.get(X[0].toLowerCase()),De+X[0].length):-1}function I(ae,Se,De){var X=p.exec(Se.slice(De));return X?(ae.w=g.get(X[0].toLowerCase()),De+X[0].length):-1}function z(ae,Se,De){var X=_.exec(Se.slice(De));return X?(ae.m=E.get(X[0].toLowerCase()),De+X[0].length):-1}function K(ae,Se,De){var X=y.exec(Se.slice(De));return X?(ae.m=w.get(X[0].toLowerCase()),De+X[0].length):-1}function J(ae,Se,De){return T(ae,t,Se,De)}function pe(ae,Se,De){return T(ae,r,Se,De)}function ne(ae,Se,De){return T(ae,n,Se,De)}function le(ae){return l[ae.getDay()]}function ve(ae){return i[ae.getDay()]}function ue(ae){return f[ae.getMonth()]}function je(ae){return o[ae.getMonth()]}function te(ae){return a[+(ae.getHours()>=12)]}function F(ae){return 1+~~(ae.getMonth()/3)}function M(ae){return l[ae.getUTCDay()]}function q(ae){return i[ae.getUTCDay()]}function W(ae){return f[ae.getUTCMonth()]}function Z(ae){return o[ae.getUTCMonth()]}function oe(ae){return a[+(ae.getUTCHours()>=12)]}function ce(ae){return 1+~~(ae.getUTCMonth()/3)}return{format:function(ae){var Se=R(ae+="",A);return Se.toString=function(){return ae},Se},parse:function(ae){var Se=P(ae+="",!1);return Se.toString=function(){return ae},Se},utcFormat:function(ae){var Se=R(ae+="",O);return Se.toString=function(){return ae},Se},utcParse:function(ae){var Se=P(ae+="",!0);return Se.toString=function(){return ae},Se}}}var g8={"-":"",_:" ",0:"0"},qi=/^\s*\d+/,e0e=/^%/,t0e=/[\\^$*+?|[\]().{}]/g;function an(e,t,r){var n=e<0?"-":"",a=(n?-e:e)+"",i=a.length;return n+(i<r?new Array(r-i+1).join(t)+a:a)}function r0e(e){return e.replace(t0e,"\\$&")}function cx(e){return new RegExp("^(?:"+e.map(r0e).join("|")+")","i")}function ux(e){return new Map(e.map((t,r)=>[t.toLowerCase(),r]))}function n0e(e,t,r){var n=qi.exec(t.slice(r,r+1));return n?(e.w=+n[0],r+n[0].length):-1}function a0e(e,t,r){var n=qi.exec(t.slice(r,r+1));return n?(e.u=+n[0],r+n[0].length):-1}function i0e(e,t,r){var n=qi.exec(t.slice(r,r+2));return n?(e.U=+n[0],r+n[0].length):-1}function s0e(e,t,r){var n=qi.exec(t.slice(r,r+2));return n?(e.V=+n[0],r+n[0].length):-1}function l0e(e,t,r){var n=qi.exec(t.slice(r,r+2));return n?(e.W=+n[0],r+n[0].length):-1}function v8(e,t,r){var n=qi.exec(t.slice(r,r+4));return n?(e.y=+n[0],r+n[0].length):-1}function y8(e,t,r){var n=qi.exec(t.slice(r,r+2));return n?(e.y=+n[0]+(+n[0]>68?1900:2e3),r+n[0].length):-1}function o0e(e,t,r){var n=/^(Z)|([+-]\d\d)(?::?(\d\d))?/.exec(t.slice(r,r+6));return n?(e.Z=n[1]?0:-(n[2]+(n[3]||"00")),r+n[0].length):-1}function c0e(e,t,r){var n=qi.exec(t.slice(r,r+1));return n?(e.q=n[0]*3-3,r+n[0].length):-1}function u0e(e,t,r){var n=qi.exec(t.slice(r,r+2));return n?(e.m=n[0]-1,r+n[0].length):-1}function b8(e,t,r){var n=qi.exec(t.slice(r,r+2));return n?(e.d=+n[0],r+n[0].length):-1}function f0e(e,t,r){var n=qi.exec(t.slice(r,r+3));return n?(e.m=0,e.d=+n[0],r+n[0].length):-1}function w8(e,t,r){var n=qi.exec(t.slice(r,r+2));return n?(e.H=+n[0],r+n[0].length):-1}function d0e(e,t,r){var n=qi.exec(t.slice(r,r+2));return n?(e.M=+n[0],r+n[0].length):-1}function h0e(e,t,r){var n=qi.exec(t.slice(r,r+2));return n?(e.S=+n[0],r+n[0].length):-1}function m0e(e,t,r){var n=qi.exec(t.slice(r,r+3));return n?(e.L=+n[0],r+n[0].length):-1}function p0e(e,t,r){var n=qi.exec(t.slice(r,r+6));return n?(e.L=Math.floor(n[0]/1e3),r+n[0].length):-1}function x0e(e,t,r){var n=e0e.exec(t.slice(r,r+1));return n?r+n[0].length:-1}function g0e(e,t,r){var n=qi.exec(t.slice(r));return n?(e.Q=+n[0],r+n[0].length):-1}function v0e(e,t,r){var n=qi.exec(t.slice(r));return n?(e.s=+n[0],r+n[0].length):-1}function _8(e,t){return an(e.getDate(),t,2)}function y0e(e,t){return an(e.getHours(),t,2)}function b0e(e,t){return an(e.getHours()%12||12,t,2)}function w0e(e,t){return an(1+Ig.count(xf(e),e),t,3)}function jR(e,t){return an(e.getMilliseconds(),t,3)}function _0e(e,t){return jR(e,t)+"000"}function N0e(e,t){return an(e.getMonth()+1,t,2)}function S0e(e,t){return an(e.getMinutes(),t,2)}function j0e(e,t){return an(e.getSeconds(),t,2)}function A0e(e){var t=e.getDay();return t===0?7:t}function E0e(e,t){return an(T2.count(xf(e)-1,e),t,2)}function AR(e){var t=e.getDay();return t>=4||t===0?Hm(e):Hm.ceil(e)}function k0e(e,t){return e=AR(e),an(Hm.count(xf(e),e)+(xf(e).getDay()===4),t,2)}function C0e(e){return e.getDay()}function T0e(e,t){return an(Oy.count(xf(e)-1,e),t,2)}function O0e(e,t){return an(e.getFullYear()%100,t,2)}function D0e(e,t){return e=AR(e),an(e.getFullYear()%100,t,2)}function P0e(e,t){return an(e.getFullYear()%1e4,t,4)}function F0e(e,t){var r=e.getDay();return e=r>=4||r===0?Hm(e):Hm.ceil(e),an(e.getFullYear()%1e4,t,4)}function L0e(e){var t=e.getTimezoneOffset();return(t>0?"-":(t*=-1,"+"))+an(t/60|0,"0",2)+an(t%60,"0",2)}function N8(e,t){return an(e.getUTCDate(),t,2)}function M0e(e,t){return an(e.getUTCHours(),t,2)}function R0e(e,t){return an(e.getUTCHours()%12||12,t,2)}function I0e(e,t){return an(1+C2.count(gf(e),e),t,3)}function ER(e,t){return an(e.getUTCMilliseconds(),t,3)}function B0e(e,t){return ER(e,t)+"000"}function U0e(e,t){return an(e.getUTCMonth()+1,t,2)}function z0e(e,t){return an(e.getUTCMinutes(),t,2)}function q0e(e,t){return an(e.getUTCSeconds(),t,2)}function $0e(e){var t=e.getUTCDay();return t===0?7:t}function H0e(e,t){return an(O2.count(gf(e)-1,e),t,2)}function kR(e){var t=e.getUTCDay();return t>=4||t===0?Vm(e):Vm.ceil(e)}function V0e(e,t){return e=kR(e),an(Vm.count(gf(e),e)+(gf(e).getUTCDay()===4),t,2)}function W0e(e){return e.getUTCDay()}function G0e(e,t){return an(Dy.count(gf(e)-1,e),t,2)}function K0e(e,t){return an(e.getUTCFullYear()%100,t,2)}function Y0e(e,t){return e=kR(e),an(e.getUTCFullYear()%100,t,2)}function X0e(e,t){return an(e.getUTCFullYear()%1e4,t,4)}function Q0e(e,t){var r=e.getUTCDay();return e=r>=4||r===0?Vm(e):Vm.ceil(e),an(e.getUTCFullYear()%1e4,t,4)}function Z0e(){return"+0000"}function S8(){return"%"}function j8(e){return+e}function A8(e){return Math.floor(+e/1e3)}var fm,CR,TR;J0e({dateTime:"%x, %X",date:"%-m/%-d/%Y",time:"%-I:%M:%S %p",periods:["AM","PM"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]});function J0e(e){return fm=Jde(e),CR=fm.format,fm.parse,TR=fm.utcFormat,fm.utcParse,fm}function ehe(e){return new Date(e)}function the(e){return e instanceof Date?+e:+new Date(+e)}function NS(e,t,r,n,a,i,l,o,f,u){var h=cS(),p=h.invert,g=h.domain,x=u(".%L"),b=u(":%S"),y=u("%I:%M"),w=u("%I %p"),_=u("%a %d"),E=u("%b %d"),A=u("%B"),O=u("%Y");function D(R){return(f(R)<R?x:o(R)<R?b:l(R)<R?y:i(R)<R?w:n(R)<R?a(R)<R?_:E:r(R)<R?A:O)(R)}return h.invert=function(R){return new Date(p(R))},h.domain=function(R){return arguments.length?g(Array.from(R,the)):g().map(ehe)},h.ticks=function(R){var P=g();return e(P[0],P[P.length-1],R??10)},h.tickFormat=function(R,P){return P==null?D:u(P)},h.nice=function(R){var P=g();return(!R||typeof R.range!="function")&&(R=t(P[0],P[P.length-1],R??10)),R?g(xR(P,R)):h},h.copy=function(){return Rg(h,NS(e,t,r,n,a,i,l,o,f,u))},h}function rhe(){return Wo.apply(NS(Qde,Zde,xf,wS,T2,Ig,yS,gS,C0,CR).domain([new Date(2e3,0,1),new Date(2e3,0,2)]),arguments)}function nhe(){return Wo.apply(NS(Yde,Xde,gf,_S,O2,C2,bS,vS,C0,TR).domain([Date.UTC(2e3,0,1),Date.UTC(2e3,0,2)]),arguments)}function D2(){var e=0,t=1,r,n,a,i,l=Qs,o=!1,f;function u(p){return p==null||isNaN(p=+p)?f:l(a===0?.5:(p=(i(p)-r)*a,o?Math.max(0,Math.min(1,p)):p))}u.domain=function(p){return arguments.length?([e,t]=p,r=i(e=+e),n=i(t=+t),a=r===n?0:1/(n-r),u):[e,t]},u.clamp=function(p){return arguments.length?(o=!!p,u):o},u.interpolator=function(p){return arguments.length?(l=p,u):l};function h(p){return function(g){var x,b;return arguments.length?([x,b]=g,l=p(x,b),u):[l(0),l(1)]}}return u.range=h(op),u.rangeRound=h(oS),u.unknown=function(p){return arguments.length?(f=p,u):f},function(p){return i=p,r=p(e),n=p(t),a=r===n?0:1/(n-r),u}}function Vd(e,t){return t.domain(e.domain()).interpolator(e.interpolator()).clamp(e.clamp()).unknown(e.unknown())}function OR(){var e=Hd(D2()(Qs));return e.copy=function(){return Vd(e,OR())},Ef.apply(e,arguments)}function DR(){var e=dS(D2()).domain([1,10]);return e.copy=function(){return Vd(e,DR()).base(e.base())},Ef.apply(e,arguments)}function PR(){var e=hS(D2());return e.copy=function(){return Vd(e,PR()).constant(e.constant())},Ef.apply(e,arguments)}function SS(){var e=mS(D2());return e.copy=function(){return Vd(e,SS()).exponent(e.exponent())},Ef.apply(e,arguments)}function ahe(){return SS.apply(null,arguments).exponent(.5)}function FR(){var e=[],t=Qs;function r(n){if(n!=null&&!isNaN(n=+n))return t((Lg(e,n,1)-1)/(e.length-1))}return r.domain=function(n){if(!arguments.length)return e.slice();e=[];for(let a of n)a!=null&&!isNaN(a=+a)&&e.push(a);return e.sort(Nd),r},r.interpolator=function(n){return arguments.length?(t=n,r):t},r.range=function(){return e.map((n,a)=>t(a/(e.length-1)))},r.quantiles=function(n){return Array.from({length:n+1},(a,i)=>$fe(e,i/n))},r.copy=function(){return FR(t).domain(e)},Ef.apply(r,arguments)}function P2(){var e=0,t=.5,r=1,n=1,a,i,l,o,f,u=Qs,h,p=!1,g;function x(y){return isNaN(y=+y)?g:(y=.5+((y=+h(y))-i)*(n*y<n*i?o:f),u(p?Math.max(0,Math.min(1,y)):y))}x.domain=function(y){return arguments.length?([e,t,r]=y,a=h(e=+e),i=h(t=+t),l=h(r=+r),o=a===i?0:.5/(i-a),f=i===l?0:.5/(l-i),n=i<a?-1:1,x):[e,t,r]},x.clamp=function(y){return arguments.length?(p=!!y,x):p},x.interpolator=function(y){return arguments.length?(u=y,x):u};function b(y){return function(w){var _,E,A;return arguments.length?([_,E,A]=w,u=xde(y,[_,E,A]),x):[u(0),u(.5),u(1)]}}return x.range=b(op),x.rangeRound=b(oS),x.unknown=function(y){return arguments.length?(g=y,x):g},function(y){return h=y,a=y(e),i=y(t),l=y(r),o=a===i?0:.5/(i-a),f=i===l?0:.5/(l-i),n=i<a?-1:1,x}}function LR(){var e=Hd(P2()(Qs));return e.copy=function(){return Vd(e,LR())},Ef.apply(e,arguments)}function MR(){var e=dS(P2()).domain([.1,1,10]);return e.copy=function(){return Vd(e,MR()).base(e.base())},Ef.apply(e,arguments)}function RR(){var e=hS(P2());return e.copy=function(){return Vd(e,RR()).constant(e.constant())},Ef.apply(e,arguments)}function jS(){var e=mS(P2());return e.copy=function(){return Vd(e,jS()).exponent(e.exponent())},Ef.apply(e,arguments)}function ihe(){return jS.apply(null,arguments).exponent(.5)}const vx=Object.freeze(Object.defineProperty({__proto__:null,scaleBand:iS,scaleDiverging:LR,scaleDivergingLog:MR,scaleDivergingPow:jS,scaleDivergingSqrt:ihe,scaleDivergingSymlog:RR,scaleIdentity:pR,scaleImplicit:R_,scaleLinear:mR,scaleLog:gR,scaleOrdinal:aS,scalePoint:Wfe,scalePow:pS,scaleQuantile:bR,scaleQuantize:wR,scaleRadial:yR,scaleSequential:OR,scaleSequentialLog:DR,scaleSequentialPow:SS,scaleSequentialQuantile:FR,scaleSequentialSqrt:ahe,scaleSequentialSymlog:PR,scaleSqrt:Bde,scaleSymlog:vR,scaleThreshold:_R,scaleTime:rhe,scaleUtc:nhe,tickFormat:hR},Symbol.toStringTag,{value:"Module"}));var Wd=e=>e.chartData,AS=He([Wd],e=>{var t=e.chartData!=null?e.chartData.length-1:0;return{chartData:e.chartData,computedData:e.computedData,dataEndIndex:t,dataStartIndex:0}}),F2=(e,t,r,n)=>n?AS(e):Wd(e);function eh(e){if(Array.isArray(e)&&e.length===2){var[t,r]=e;if(Cs(t)&&Cs(r))return!0}return!1}function E8(e,t,r){return r?e:[Math.min(e[0],t[0]),Math.max(e[1],t[1])]}function IR(e,t){if(t&&typeof e!="function"&&Array.isArray(e)&&e.length===2){var[r,n]=e,a,i;if(Cs(r))a=r;else if(typeof r=="function")return;if(Cs(n))i=n;else if(typeof n=="function")return;var l=[a,i];if(eh(l))return l}}function she(e,t,r){if(!(!r&&t==null)){if(typeof e=="function"&&t!=null)try{var n=e(t,r);if(eh(n))return E8(n,t,r)}catch{}if(Array.isArray(e)&&e.length===2){var[a,i]=e,l,o;if(a==="auto")t!=null&&(l=Math.min(...t));else if(Kt(a))l=a;else if(typeof a=="function")try{t!=null&&(l=a(t?.[0]))}catch{}else if(typeof a=="string"&&uT.test(a)){var f=uT.exec(a);if(f==null||t==null)l=void 0;else{var u=+f[1];l=t[0]-u}}else l=t?.[0];if(i==="auto")t!=null&&(o=Math.max(...t));else if(Kt(i))o=i;else if(typeof i=="function")try{t!=null&&(o=i(t?.[1]))}catch{}else if(typeof i=="string"&&fT.test(i)){var h=fT.exec(i);if(h==null||t==null)o=void 0;else{var p=+h[1];o=t[1]+p}}else o=t?.[1];var g=[l,o];if(eh(g))return t==null?g:E8(g,t,r)}}}var cp=1e9,lhe={precision:20,rounding:4,toExpNeg:-7,toExpPos:21,LN10:"2.302585092994045684017991454684364207601101488628772976033327900967572609677352480235997205089598298341967784042286"},kS,ua=!0,qo="[DecimalError] ",I0=qo+"Invalid argument: ",ES=qo+"Exponent out of range: ",up=Math.floor,_0=Math.pow,ohe=/^(\d+(\.\d*)?|\.\d+)(e[+-]?\d+)?$/i,Zl,Mi=1e7,Yn=7,BR=9007199254740991,Py=up(BR/Yn),Dt={};Dt.absoluteValue=Dt.abs=function(){var e=new this.constructor(this);return e.s&&(e.s=1),e};Dt.comparedTo=Dt.cmp=function(e){var t,r,n,a,i=this;if(e=new i.constructor(e),i.s!==e.s)return i.s||-e.s;if(i.e!==e.e)return i.e>e.e^i.s<0?1:-1;for(n=i.d.length,a=e.d.length,t=0,r=n<a?n:a;t<r;++t)if(i.d[t]!==e.d[t])return i.d[t]>e.d[t]^i.s<0?1:-1;return n===a?0:n>a^i.s<0?1:-1};Dt.decimalPlaces=Dt.dp=function(){var e=this,t=e.d.length-1,r=(t-e.e)*Yn;if(t=e.d[t],t)for(;t%10==0;t/=10)r--;return r<0?0:r};Dt.dividedBy=Dt.div=function(e){return lf(this,new this.constructor(e))};Dt.dividedToIntegerBy=Dt.idiv=function(e){var t=this,r=t.constructor;return In(lf(t,new r(e),0,1),r.precision)};Dt.equals=Dt.eq=function(e){return!this.cmp(e)};Dt.exponent=function(){return si(this)};Dt.greaterThan=Dt.gt=function(e){return this.cmp(e)>0};Dt.greaterThanOrEqualTo=Dt.gte=function(e){return this.cmp(e)>=0};Dt.isInteger=Dt.isint=function(){return this.e>this.d.length-2};Dt.isNegative=Dt.isneg=function(){return this.s<0};Dt.isPositive=Dt.ispos=function(){return this.s>0};Dt.isZero=function(){return this.s===0};Dt.lessThan=Dt.lt=function(e){return this.cmp(e)<0};Dt.lessThanOrEqualTo=Dt.lte=function(e){return this.cmp(e)<1};Dt.logarithm=Dt.log=function(e){var t,r=this,n=r.constructor,a=n.precision,i=a+5;if(e===void 0)e=new n(10);else if(e=new n(e),e.s<1||e.eq(Zl))throw Error(qo+"NaN");if(r.s<1)throw Error(qo+(r.s?"NaN":"-Infinity"));return r.eq(Zl)?new n(0):(ua=!1,t=lf(cg(r,i),cg(e,i),i),ua=!0,In(t,a))};Dt.minus=Dt.sub=function(e){var t=this;return e=new t.constructor(e),t.s==e.s?qR(t,e):UR(t,(e.s=-e.s,e))};Dt.modulo=Dt.mod=function(e){var t,r=this,n=r.constructor,a=n.precision;if(e=new n(e),!e.s)throw Error(qo+"NaN");return r.s?(ua=!1,t=lf(r,e,0,1).times(e),ua=!0,r.minus(t)):In(new n(r),a)};Dt.naturalExponential=Dt.exp=function(){return zR(this)};Dt.naturalLogarithm=Dt.ln=function(){return cg(this)};Dt.negated=Dt.neg=function(){var e=new this.constructor(this);return e.s=-e.s||0,e};Dt.plus=Dt.add=function(e){var t=this;return e=new t.constructor(e),t.s==e.s?UR(t,e):qR(t,(e.s=-e.s,e))};Dt.precision=Dt.sd=function(e){var t,r,n,a=this;if(e!==void 0&&e!==!!e&&e!==1&&e!==0)throw Error(I0+e);if(t=si(a)+1,n=a.d.length-1,r=n*Yn+1,n=a.d[n],n){for(;n%10==0;n/=10)r--;for(n=a.d[0];n>=10;n/=10)r++}return e&&t>r?t:r};Dt.squareRoot=Dt.sqrt=function(){var e,t,r,n,a,i,l,o=this,f=o.constructor;if(o.s<1){if(!o.s)return new f(0);throw Error(qo+"NaN")}for(e=si(o),ua=!1,a=Math.sqrt(+o),a==0||a==1/0?(t=su(o.d),(t.length+e)%2==0&&(t+="0"),a=Math.sqrt(t),e=up((e+1)/2)-(e<0||e%2),a==1/0?t="5e"+e:(t=a.toExponential(),t=t.slice(0,t.indexOf("e")+1)+e),n=new f(t)):n=new f(a.toString()),r=f.precision,a=l=r+3;;)if(i=n,n=i.plus(lf(o,i,l+2)).times(.5),su(i.d).slice(0,l)===(t=su(n.d)).slice(0,l)){if(t=t.slice(l-3,l+1),a==l&&t=="4999"){if(In(i,r+1,0),i.times(i).eq(o)){n=i;break}}else if(t!="9999")break;l+=4}return ua=!0,In(n,r)};Dt.times=Dt.mul=function(e){var t,r,n,a,i,l,o,f,u,h=this,p=h.constructor,g=h.d,x=(e=new p(e)).d;if(!h.s||!e.s)return new p(0);for(e.s*=h.s,r=h.e+e.e,f=g.length,u=x.length,f<u&&(i=g,g=x,x=i,l=f,f=u,u=l),i=[],l=f+u,n=l;n--;)i.push(0);for(n=u;--n>=0;){for(t=0,a=f+n;a>n;)o=i[a]+x[n]*g[a-n-1]+t,i[a--]=o%Mi|0,t=o/Mi|0;i[a]=(i[a]+t)%Mi|0}for(;!i[--l];)i.pop();return t?++r:i.shift(),e.d=i,e.e=r,ua?In(e,p.precision):e};Dt.toDecimalPlaces=Dt.todp=function(e,t){var r=this,n=r.constructor;return r=new n(r),e===void 0?r:(fu(e,0,cp),t===void 0?t=n.rounding:fu(t,0,8),In(r,e+si(r)+1,t))};Dt.toExponential=function(e,t){var r,n=this,a=n.constructor;return e===void 0?r=th(n,!0):(fu(e,0,cp),t===void 0?t=a.rounding:fu(t,0,8),n=In(new a(n),e+1,t),r=th(n,!0,e+1)),r};Dt.toFixed=function(e,t){var r,n,a=this,i=a.constructor;return e===void 0?th(a):(fu(e,0,cp),t===void 0?t=i.rounding:fu(t,0,8),n=In(new i(a),e+si(a)+1,t),r=th(n.abs(),!1,e+si(n)+1),a.isneg()&&!a.isZero()?"-"+r:r)};Dt.toInteger=Dt.toint=function(){var e=this,t=e.constructor;return In(new t(e),si(e)+1,t.rounding)};Dt.toNumber=function(){return+this};Dt.toPower=Dt.pow=function(e){var t,r,n,a,i,l,o=this,f=o.constructor,u=12,h=+(e=new f(e));if(!e.s)return new f(Zl);if(o=new f(o),!o.s){if(e.s<1)throw Error(qo+"Infinity");return o}if(o.eq(Zl))return o;if(n=f.precision,e.eq(Zl))return In(o,n);if(t=e.e,r=e.d.length-1,l=t>=r,i=o.s,l){if((r=h<0?-h:h)<=BR){for(a=new f(Zl),t=Math.ceil(n/Yn+4),ua=!1;r%2&&(a=a.times(o),C8(a.d,t)),r=up(r/2),r!==0;)o=o.times(o),C8(o.d,t);return ua=!0,e.s<0?new f(Zl).div(a):In(a,n)}}else if(i<0)throw Error(qo+"NaN");return i=i<0&&e.d[Math.max(t,r)]&1?-1:1,o.s=1,ua=!1,a=e.times(cg(o,n+u)),ua=!0,a=zR(a),a.s=i,a};Dt.toPrecision=function(e,t){var r,n,a=this,i=a.constructor;return e===void 0?(r=si(a),n=th(a,r<=i.toExpNeg||r>=i.toExpPos)):(fu(e,1,cp),t===void 0?t=i.rounding:fu(t,0,8),a=In(new i(a),e,t),r=si(a),n=th(a,e<=r||r<=i.toExpNeg,e)),n};Dt.toSignificantDigits=Dt.tosd=function(e,t){var r=this,n=r.constructor;return e===void 0?(e=n.precision,t=n.rounding):(fu(e,1,cp),t===void 0?t=n.rounding:fu(t,0,8)),In(new n(r),e,t)};Dt.toString=Dt.valueOf=Dt.val=Dt.toJSON=Dt[Symbol.for("nodejs.util.inspect.custom")]=function(){var e=this,t=si(e),r=e.constructor;return th(e,t<=r.toExpNeg||t>=r.toExpPos)};function UR(e,t){var r,n,a,i,l,o,f,u,h=e.constructor,p=h.precision;if(!e.s||!t.s)return t.s||(t=new h(e)),ua?In(t,p):t;if(f=e.d,u=t.d,l=e.e,a=t.e,f=f.slice(),i=l-a,i){for(i<0?(n=f,i=-i,o=u.length):(n=u,a=l,o=f.length),l=Math.ceil(p/Yn),o=l>o?l+1:o+1,i>o&&(i=o,n.length=1),n.reverse();i--;)n.push(0);n.reverse()}for(o=f.length,i=u.length,o-i<0&&(i=o,n=u,u=f,f=n),r=0;i;)r=(f[--i]=f[i]+u[i]+r)/Mi|0,f[i]%=Mi;for(r&&(f.unshift(r),++a),o=f.length;f[--o]==0;)f.pop();return t.d=f,t.e=a,ua?In(t,p):t}function fu(e,t,r){if(e!==~~e||e<t||e>r)throw Error(I0+e)}function su(e){var t,r,n,a=e.length-1,i="",l=e[0];if(a>0){for(i+=l,t=1;t<a;t++)n=e[t]+"",r=Yn-n.length,r&&(i+=pd(r)),i+=n;l=e[t],n=l+"",r=Yn-n.length,r&&(i+=pd(r))}else if(l===0)return"0";for(;l%10===0;)l/=10;return i+l}var lf=(function(){function e(n,a){var i,l=0,o=n.length;for(n=n.slice();o--;)i=n[o]*a+l,n[o]=i%Mi|0,l=i/Mi|0;return l&&n.unshift(l),n}function t(n,a,i,l){var o,f;if(i!=l)f=i>l?1:-1;else for(o=f=0;o<i;o++)if(n[o]!=a[o]){f=n[o]>a[o]?1:-1;break}return f}function r(n,a,i){for(var l=0;i--;)n[i]-=l,l=n[i]<a[i]?1:0,n[i]=l*Mi+n[i]-a[i];for(;!n[0]&&n.length>1;)n.shift()}return function(n,a,i,l){var o,f,u,h,p,g,x,b,y,w,_,E,A,O,D,R,P,T,B=n.constructor,G=n.s==a.s?1:-1,I=n.d,z=a.d;if(!n.s)return new B(n);if(!a.s)throw Error(qo+"Division by zero");for(f=n.e-a.e,P=z.length,D=I.length,x=new B(G),b=x.d=[],u=0;z[u]==(I[u]||0);)++u;if(z[u]>(I[u]||0)&&--f,i==null?E=i=B.precision:l?E=i+(si(n)-si(a))+1:E=i,E<0)return new B(0);if(E=E/Yn+2|0,u=0,P==1)for(h=0,z=z[0],E++;(u<D||h)&&E--;u++)A=h*Mi+(I[u]||0),b[u]=A/z|0,h=A%z|0;else{for(h=Mi/(z[0]+1)|0,h>1&&(z=e(z,h),I=e(I,h),P=z.length,D=I.length),O=P,y=I.slice(0,P),w=y.length;w<P;)y[w++]=0;T=z.slice(),T.unshift(0),R=z[0],z[1]>=Mi/2&&++R;do h=0,o=t(z,y,P,w),o<0?(_=y[0],P!=w&&(_=_*Mi+(y[1]||0)),h=_/R|0,h>1?(h>=Mi&&(h=Mi-1),p=e(z,h),g=p.length,w=y.length,o=t(p,y,g,w),o==1&&(h--,r(p,P<g?T:z,g))):(h==0&&(o=h=1),p=z.slice()),g=p.length,g<w&&p.unshift(0),r(y,p,w),o==-1&&(w=y.length,o=t(z,y,P,w),o<1&&(h++,r(y,P<w?T:z,w))),w=y.length):o===0&&(h++,y=[0]),b[u++]=h,o&&y[0]?y[w++]=I[O]||0:(y=[I[O]],w=1);while((O++<D||y[0]!==void 0)&&E--)}return b[0]||b.shift(),x.e=f,In(x,l?i+si(x)+1:i)}})();function zR(e,t){var r,n,a,i,l,o,f=0,u=0,h=e.constructor,p=h.precision;if(si(e)>16)throw Error(ES+si(e));if(!e.s)return new h(Zl);for(ua=!1,o=p,l=new h(.03125);e.abs().gte(.1);)e=e.times(l),u+=5;for(n=Math.log(_0(2,u))/Math.LN10*2+5|0,o+=n,r=a=i=new h(Zl),h.precision=o;;){if(a=In(a.times(e),o),r=r.times(++f),l=i.plus(lf(a,r,o)),su(l.d).slice(0,o)===su(i.d).slice(0,o)){for(;u--;)i=In(i.times(i),o);return h.precision=p,t==null?(ua=!0,In(i,p)):i}i=l}}function si(e){for(var t=e.e*Yn,r=e.d[0];r>=10;r/=10)t++;return t}function Q5(e,t,r){if(t>e.LN10.sd())throw ua=!0,r&&(e.precision=r),Error(qo+"LN10 precision limit exceeded");return In(new e(e.LN10),t)}function pd(e){for(var t="";e--;)t+="0";return t}function cg(e,t){var r,n,a,i,l,o,f,u,h,p=1,g=10,x=e,b=x.d,y=x.constructor,w=y.precision;if(x.s<1)throw Error(qo+(x.s?"NaN":"-Infinity"));if(x.eq(Zl))return new y(0);if(t==null?(ua=!1,u=w):u=t,x.eq(10))return t==null&&(ua=!0),Q5(y,u);if(u+=g,y.precision=u,r=su(b),n=r.charAt(0),i=si(x),Math.abs(i)<15e14){for(;n<7&&n!=1||n==1&&r.charAt(1)>3;)x=x.times(e),r=su(x.d),n=r.charAt(0),p++;i=si(x),n>1?(x=new y("0."+r),i++):x=new y(n+"."+r.slice(1))}else return f=Q5(y,u+2,w).times(i+""),x=cg(new y(n+"."+r.slice(1)),u-g).plus(f),y.precision=w,t==null?(ua=!0,In(x,w)):x;for(o=l=x=lf(x.minus(Zl),x.plus(Zl),u),h=In(x.times(x),u),a=3;;){if(l=In(l.times(h),u),f=o.plus(lf(l,new y(a),u)),su(f.d).slice(0,u)===su(o.d).slice(0,u))return o=o.times(2),i!==0&&(o=o.plus(Q5(y,u+2,w).times(i+""))),o=lf(o,new y(p),u),y.precision=w,t==null?(ua=!0,In(o,w)):o;o=f,a+=2}}function k8(e,t){var r,n,a;for((r=t.indexOf("."))>-1&&(t=t.replace(".","")),(n=t.search(/e/i))>0?(r<0&&(r=n),r+=+t.slice(n+1),t=t.substring(0,n)):r<0&&(r=t.length),n=0;t.charCodeAt(n)===48;)++n;for(a=t.length;t.charCodeAt(a-1)===48;)--a;if(t=t.slice(n,a),t){if(a-=n,r=r-n-1,e.e=up(r/Yn),e.d=[],n=(r+1)%Yn,r<0&&(n+=Yn),n<a){for(n&&e.d.push(+t.slice(0,n)),a-=Yn;n<a;)e.d.push(+t.slice(n,n+=Yn));t=t.slice(n),n=Yn-t.length}else n-=a;for(;n--;)t+="0";if(e.d.push(+t),ua&&(e.e>Py||e.e<-Py))throw Error(ES+r)}else e.s=0,e.e=0,e.d=[0];return e}function In(e,t,r){var n,a,i,l,o,f,u,h,p=e.d;for(l=1,i=p[0];i>=10;i/=10)l++;if(n=t-l,n<0)n+=Yn,a=t,u=p[h=0];else{if(h=Math.ceil((n+1)/Yn),i=p.length,h>=i)return e;for(u=i=p[h],l=1;i>=10;i/=10)l++;n%=Yn,a=n-Yn+l}if(r!==void 0&&(i=_0(10,l-a-1),o=u/i%10|0,f=t<0||p[h+1]!==void 0||u%i,f=r<4?(o||f)&&(r==0||r==(e.s<0?3:2)):o>5||o==5&&(r==4||f||r==6&&(n>0?a>0?u/_0(10,l-a):0:p[h-1])%10&1||r==(e.s<0?8:7))),t<1||!p[0])return f?(i=si(e),p.length=1,t=t-i-1,p[0]=_0(10,(Yn-t%Yn)%Yn),e.e=up(-t/Yn)||0):(p.length=1,p[0]=e.e=e.s=0),e;if(n==0?(p.length=h,i=1,h--):(p.length=h+1,i=_0(10,Yn-n),p[h]=a>0?(u/_0(10,l-a)%_0(10,a)|0)*i:0),f)for(;;)if(h==0){(p[0]+=i)==Mi&&(p[0]=1,++e.e);break}else{if(p[h]+=i,p[h]!=Mi)break;p[h--]=0,i=1}for(n=p.length;p[--n]===0;)p.pop();if(ua&&(e.e>Py||e.e<-Py))throw Error(ES+si(e));return e}function qR(e,t){var r,n,a,i,l,o,f,u,h,p,g=e.constructor,x=g.precision;if(!e.s||!t.s)return t.s?t.s=-t.s:t=new g(e),ua?In(t,x):t;if(f=e.d,p=t.d,n=t.e,u=e.e,f=f.slice(),l=u-n,l){for(h=l<0,h?(r=f,l=-l,o=p.length):(r=p,n=u,o=f.length),a=Math.max(Math.ceil(x/Yn),o)+2,l>a&&(l=a,r.length=1),r.reverse(),a=l;a--;)r.push(0);r.reverse()}else{for(a=f.length,o=p.length,h=a<o,h&&(o=a),a=0;a<o;a++)if(f[a]!=p[a]){h=f[a]<p[a];break}l=0}for(h&&(r=f,f=p,p=r,t.s=-t.s),o=f.length,a=p.length-o;a>0;--a)f[o++]=0;for(a=p.length;a>l;){if(f[--a]<p[a]){for(i=a;i&&f[--i]===0;)f[i]=Mi-1;--f[i],f[a]+=Mi}f[a]-=p[a]}for(;f[--o]===0;)f.pop();for(;f[0]===0;f.shift())--n;return f[0]?(t.d=f,t.e=n,ua?In(t,x):t):new g(0)}function th(e,t,r){var n,a=si(e),i=su(e.d),l=i.length;return t?(r&&(n=r-l)>0?i=i.charAt(0)+"."+i.slice(1)+pd(n):l>1&&(i=i.charAt(0)+"."+i.slice(1)),i=i+(a<0?"e":"e+")+a):a<0?(i="0."+pd(-a-1)+i,r&&(n=r-l)>0&&(i+=pd(n))):a>=l?(i+=pd(a+1-l),r&&(n=r-a-1)>0&&(i=i+"."+pd(n))):((n=a+1)<l&&(i=i.slice(0,n)+"."+i.slice(n)),r&&(n=r-l)>0&&(a+1===l&&(i+="."),i+=pd(n))),e.s<0?"-"+i:i}function C8(e,t){if(e.length>t)return e.length=t,!0}function $R(e){var t,r,n;function a(i){var l=this;if(!(l instanceof a))return new a(i);if(l.constructor=a,i instanceof a){l.s=i.s,l.e=i.e,l.d=(i=i.d)?i.slice():i;return}if(typeof i=="number"){if(i*0!==0)throw Error(I0+i);if(i>0)l.s=1;else if(i<0)i=-i,l.s=-1;else{l.s=0,l.e=0,l.d=[0];return}if(i===~~i&&i<1e7){l.e=0,l.d=[i];return}return k8(l,i.toString())}else if(typeof i!="string")throw Error(I0+i);if(i.charCodeAt(0)===45?(i=i.slice(1),l.s=-1):l.s=1,ohe.test(i))k8(l,i);else throw Error(I0+i)}if(a.prototype=Dt,a.ROUND_UP=0,a.ROUND_DOWN=1,a.ROUND_CEIL=2,a.ROUND_FLOOR=3,a.ROUND_HALF_UP=4,a.ROUND_HALF_DOWN=5,a.ROUND_HALF_EVEN=6,a.ROUND_HALF_CEIL=7,a.ROUND_HALF_FLOOR=8,a.clone=$R,a.config=a.set=che,e===void 0&&(e={}),e)for(n=["precision","rounding","toExpNeg","toExpPos","LN10"],t=0;t<n.length;)e.hasOwnProperty(r=n[t++])||(e[r]=this[r]);return a.config(e),a}function che(e){if(!e||typeof e!="object")throw Error(qo+"Object expected");var t,r,n,a=["precision",1,cp,"rounding",0,8,"toExpNeg",-1/0,0,"toExpPos",0,1/0];for(t=0;t<a.length;t+=3)if((n=e[r=a[t]])!==void 0)if(up(n)===n&&n>=a[t+1]&&n<=a[t+2])this[r]=n;else throw Error(I0+r+": "+n);if((n=e[r="LN10"])!==void 0)if(n==Math.LN10)this[r]=new this(n);else throw Error(I0+r+": "+n);return this}var kS=$R(lhe);Zl=new kS(1);const wn=kS;var uhe=e=>e,HR={},VR=e=>e===HR,T8=e=>function t(){return arguments.length===0||arguments.length===1&&VR(arguments.length<=0?void 0:arguments[0])?t:e(...arguments)},WR=(e,t)=>e===1?t:T8(function(){for(var r=arguments.length,n=new Array(r),a=0;a<r;a++)n[a]=arguments[a];var i=n.filter(l=>l!==HR).length;return i>=e?t(...n):WR(e-i,T8(function(){for(var l=arguments.length,o=new Array(l),f=0;f<l;f++)o[f]=arguments[f];var u=n.map(h=>VR(h)?o.shift():h);return t(...u,...o)}))}),L2=e=>WR(e.length,e),z_=(e,t)=>{for(var r=[],n=e;n<t;++n)r[n-e]=n;return r},fhe=L2((e,t)=>Array.isArray(t)?t.map(e):Object.keys(t).map(r=>t[r]).map(e)),dhe=function(){for(var t=arguments.length,r=new Array(t),n=0;n<t;n++)r[n]=arguments[n];if(!r.length)return uhe;var a=r.reverse(),i=a[0],l=a.slice(1);return function(){return l.reduce((o,f)=>f(o),i(...arguments))}},q_=e=>Array.isArray(e)?e.reverse():e.split("").reverse().join(""),GR=e=>{var t=null,r=null;return function(){for(var n=arguments.length,a=new Array(n),i=0;i<n;i++)a[i]=arguments[i];return t&&a.every((l,o)=>{var f;return l===((f=t)===null||f===void 0?void 0:f[o])})||(t=a,r=e(...a)),r}};function KR(e){var t;return e===0?t=1:t=Math.floor(new wn(e).abs().log(10).toNumber())+1,t}function YR(e,t,r){for(var n=new wn(e),a=0,i=[];n.lt(t)&&a<1e5;)i.push(n.toNumber()),n=n.add(r),a++;return i}L2((e,t,r)=>{var n=+e,a=+t;return n+r*(a-n)});L2((e,t,r)=>{var n=t-+e;return n=n||1/0,(r-e)/n});L2((e,t,r)=>{var n=t-+e;return n=n||1/0,Math.max(0,Math.min(1,(r-e)/n))});var XR=e=>{var[t,r]=e,[n,a]=[t,r];return t>r&&([n,a]=[r,t]),[n,a]},QR=(e,t,r)=>{if(e.lte(0))return new wn(0);var n=KR(e.toNumber()),a=new wn(10).pow(n),i=e.div(a),l=n!==1?.05:.1,o=new wn(Math.ceil(i.div(l).toNumber())).add(r).mul(l),f=o.mul(a);return t?new wn(f.toNumber()):new wn(Math.ceil(f.toNumber()))},hhe=(e,t,r)=>{var n=new wn(1),a=new wn(e);if(!a.isint()&&r){var i=Math.abs(e);i<1?(n=new wn(10).pow(KR(e)-1),a=new wn(Math.floor(a.div(n).toNumber())).mul(n)):i>1&&(a=new wn(Math.floor(e)))}else e===0?a=new wn(Math.floor((t-1)/2)):r||(a=new wn(Math.floor(e)));var l=Math.floor((t-1)/2),o=dhe(fhe(f=>a.add(new wn(f-l).mul(n)).toNumber()),z_);return o(0,t)},ZR=function(t,r,n,a){var i=arguments.length>4&&arguments[4]!==void 0?arguments[4]:0;if(!Number.isFinite((r-t)/(n-1)))return{step:new wn(0),tickMin:new wn(0),tickMax:new wn(0)};var l=QR(new wn(r).sub(t).div(n-1),a,i),o;t<=0&&r>=0?o=new wn(0):(o=new wn(t).add(r).div(2),o=o.sub(new wn(o).mod(l)));var f=Math.ceil(o.sub(t).div(l).toNumber()),u=Math.ceil(new wn(r).sub(o).div(l).toNumber()),h=f+u+1;return h>n?ZR(t,r,n,a,i+1):(h<n&&(u=r>0?u+(n-h):u,f=r>0?f:f+(n-h)),{step:l,tickMin:o.sub(new wn(f).mul(l)),tickMax:o.add(new wn(u).mul(l))})};function mhe(e){var[t,r]=e,n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:6,a=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,i=Math.max(n,2),[l,o]=XR([t,r]);if(l===-1/0||o===1/0){var f=o===1/0?[l,...z_(0,n-1).map(()=>1/0)]:[...z_(0,n-1).map(()=>-1/0),o];return t>r?q_(f):f}if(l===o)return hhe(l,n,a);var{step:u,tickMin:h,tickMax:p}=ZR(l,o,i,a,0),g=YR(h,p.add(new wn(.1).mul(u)),u);return t>r?q_(g):g}function phe(e,t){var[r,n]=e,a=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,[i,l]=XR([r,n]);if(i===-1/0||l===1/0)return[r,n];if(i===l)return[i];var o=Math.max(t,2),f=QR(new wn(l).sub(i).div(o-1),a,0),u=[...YR(new wn(i),new wn(l),f),l];return a===!1&&(u=u.map(h=>Math.round(h))),r>n?q_(u):u}var xhe=GR(mhe),ghe=GR(phe),JR=e=>e.rootProps.maxBarSize,vhe=e=>e.rootProps.barGap,e9=e=>e.rootProps.barCategoryGap,yhe=e=>e.rootProps.barSize,Bg=e=>e.rootProps.stackOffset,CS=e=>e.options.chartName,TS=e=>e.rootProps.syncId,t9=e=>e.rootProps.syncMethod,OS=e=>e.options.eventEmitter,Ku={allowDuplicatedCategory:!0,angleAxisId:0,reversed:!1,scale:"auto",tick:!0,type:"category"},Wl={allowDataOverflow:!1,allowDuplicatedCategory:!0,radiusAxisId:0,scale:"auto",tick:!0,tickCount:5,type:"number"},M2=(e,t)=>{if(!(!e||!t))return e!=null&&e.reversed?[t[1],t[0]]:t},bhe={allowDataOverflow:!1,allowDecimals:!1,allowDuplicatedCategory:!1,dataKey:void 0,domain:void 0,id:Ku.angleAxisId,includeHidden:!1,name:void 0,reversed:Ku.reversed,scale:Ku.scale,tick:Ku.tick,tickCount:void 0,ticks:void 0,type:Ku.type,unit:void 0},whe={allowDataOverflow:Wl.allowDataOverflow,allowDecimals:!1,allowDuplicatedCategory:Wl.allowDuplicatedCategory,dataKey:void 0,domain:void 0,id:Wl.radiusAxisId,includeHidden:!1,name:void 0,reversed:!1,scale:Wl.scale,tick:Wl.tick,tickCount:Wl.tickCount,ticks:void 0,type:Wl.type,unit:void 0},_he={allowDataOverflow:!1,allowDecimals:!1,allowDuplicatedCategory:Ku.allowDuplicatedCategory,dataKey:void 0,domain:void 0,id:Ku.angleAxisId,includeHidden:!1,name:void 0,reversed:!1,scale:Ku.scale,tick:Ku.tick,tickCount:void 0,ticks:void 0,type:"number",unit:void 0},Nhe={allowDataOverflow:Wl.allowDataOverflow,allowDecimals:!1,allowDuplicatedCategory:Wl.allowDuplicatedCategory,dataKey:void 0,domain:void 0,id:Wl.radiusAxisId,includeHidden:!1,name:void 0,reversed:!1,scale:Wl.scale,tick:Wl.tick,tickCount:Wl.tickCount,ticks:void 0,type:"category",unit:void 0},DS=(e,t)=>e.polarAxis.angleAxis[t]!=null?e.polarAxis.angleAxis[t]:e.layout.layoutType==="radial"?_he:bhe,PS=(e,t)=>e.polarAxis.radiusAxis[t]!=null?e.polarAxis.radiusAxis[t]:e.layout.layoutType==="radial"?Nhe:whe,R2=e=>e.polarOptions,FS=He([jf,Af,Si],FM),r9=He([R2,FS],(e,t)=>{if(e!=null)return As(e.innerRadius,t,0)}),n9=He([R2,FS],(e,t)=>{if(e!=null)return As(e.outerRadius,t,t*.8)}),She=e=>{if(e==null)return[0,0];var{startAngle:t,endAngle:r}=e;return[t,r]},a9=He([R2],She);He([DS,a9],M2);var i9=He([FS,r9,n9],(e,t,r)=>{if(!(e==null||t==null||r==null))return[t,r]});He([PS,i9],M2);var s9=He([Wr,R2,r9,n9,jf,Af],(e,t,r,n,a,i)=>{if(!(e!=="centric"&&e!=="radial"||t==null||r==null||n==null)){var{cx:l,cy:o,startAngle:f,endAngle:u}=t;return{cx:As(l,a,a/2),cy:As(o,i,i/2),innerRadius:r,outerRadius:n,startAngle:f,endAngle:u,clockWise:!1}}}),xa=(e,t)=>t,Ug=(e,t,r)=>r;function LS(e){return e?.id}var Ai=e=>{var t=Wr(e);return t==="horizontal"?"xAxis":t==="vertical"?"yAxis":t==="centric"?"angleAxis":"radiusAxis"},fp=e=>e.tooltip.settings.axisId,Ei=e=>{var t=Ai(e),r=fp(e);return zg(e,t,r)},l9=He([Ei],e=>e?.dataKey);function o9(e,t,r){var{chartData:n=[]}=t,{allowDuplicatedCategory:a,dataKey:i}=r,l=new Map;return e.forEach(o=>{var f,u=(f=o.data)!==null&&f!==void 0?f:n;if(!(u==null||u.length===0)){var h=LS(o);u.forEach((p,g)=>{var x=i==null||a?g:String($n(p,i,null)),b=$n(p,o.dataKey,0),y;l.has(x)?y=l.get(x):y={},Object.assign(y,{[h]:b}),l.set(x,y)})}}),Array.from(l.values())}function I2(e){return e.stackId!=null&&e.dataKey!=null}var B2=(e,t)=>e===t?!0:e==null||t==null?!1:e[0]===t[0]&&e[1]===t[1];function U2(e,t){return Array.isArray(e)&&Array.isArray(t)&&e.length===0&&t.length===0?!0:e===t}function O8(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function Fy(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?O8(Object(r),!0).forEach(function(n){jhe(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):O8(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function jhe(e,t,r){return(t=Ahe(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Ahe(e){var t=Ehe(e,"string");return typeof t=="symbol"?t:t+""}function Ehe(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var $_=[0,"auto"],Hl={allowDataOverflow:!1,allowDecimals:!0,allowDuplicatedCategory:!0,angle:0,dataKey:void 0,domain:void 0,height:30,hide:!0,id:0,includeHidden:!1,interval:"preserveEnd",minTickGap:5,mirror:!1,name:void 0,orientation:"bottom",padding:{left:0,right:0},reversed:!1,scale:"auto",tick:!0,tickCount:5,tickFormatter:void 0,ticks:void 0,type:"category",unit:void 0},c9=(e,t)=>e.cartesianAxis.xAxis[t],kf=(e,t)=>{var r=c9(e,t);return r??Hl},Vl={allowDataOverflow:!1,allowDecimals:!0,allowDuplicatedCategory:!0,angle:0,dataKey:void 0,domain:$_,hide:!0,id:0,includeHidden:!1,interval:"preserveEnd",minTickGap:5,mirror:!1,name:void 0,orientation:"left",padding:{top:0,bottom:0},reversed:!1,scale:"auto",tick:!0,tickCount:5,tickFormatter:void 0,ticks:void 0,type:"number",unit:void 0,width:Dg},u9=(e,t)=>e.cartesianAxis.yAxis[t],Cf=(e,t)=>{var r=u9(e,t);return r??Vl},khe={domain:[0,"auto"],includeHidden:!1,reversed:!1,allowDataOverflow:!1,allowDuplicatedCategory:!1,dataKey:void 0,id:0,name:"",range:[64,64],scale:"auto",type:"number",unit:""},MS=(e,t)=>{var r=e.cartesianAxis.zAxis[t];return r??khe},ja=(e,t,r)=>{switch(t){case"xAxis":return kf(e,r);case"yAxis":return Cf(e,r);case"zAxis":return MS(e,r);case"angleAxis":return DS(e,r);case"radiusAxis":return PS(e,r);default:throw new Error("Unexpected axis type: ".concat(t))}},Che=(e,t,r)=>{switch(t){case"xAxis":return kf(e,r);case"yAxis":return Cf(e,r);default:throw new Error("Unexpected axis type: ".concat(t))}},zg=(e,t,r)=>{switch(t){case"xAxis":return kf(e,r);case"yAxis":return Cf(e,r);case"angleAxis":return DS(e,r);case"radiusAxis":return PS(e,r);default:throw new Error("Unexpected axis type: ".concat(t))}},f9=e=>e.graphicalItems.cartesianItems.some(t=>t.type==="bar")||e.graphicalItems.polarItems.some(t=>t.type==="radialBar");function RS(e,t){return r=>{switch(e){case"xAxis":return"xAxisId"in r&&r.xAxisId===t;case"yAxis":return"yAxisId"in r&&r.yAxisId===t;case"zAxis":return"zAxisId"in r&&r.zAxisId===t;case"angleAxis":return"angleAxisId"in r&&r.angleAxisId===t;case"radiusAxis":return"radiusAxisId"in r&&r.radiusAxisId===t;default:return!1}}}var z2=e=>e.graphicalItems.cartesianItems,The=He([xa,Ug],RS),IS=(e,t,r)=>e.filter(r).filter(n=>t?.includeHidden===!0?!0:!n.hide),qg=He([z2,ja,The],IS,{memoizeOptions:{resultEqualityCheck:U2}}),d9=He([qg],e=>e.filter(t=>t.type==="area"||t.type==="bar").filter(I2)),h9=e=>e.filter(t=>!("stackId"in t)||t.stackId===void 0),Ohe=He([qg],h9),BS=e=>e.map(t=>t.data).filter(Boolean).flat(1),Dhe=He([qg],BS,{memoizeOptions:{resultEqualityCheck:U2}}),US=(e,t)=>{var{chartData:r=[],dataStartIndex:n,dataEndIndex:a}=t;return e.length>0?e:r.slice(n,a+1)},zS=He([Dhe,F2],US),qS=(e,t,r)=>t?.dataKey!=null?e.map(n=>({value:$n(n,t.dataKey)})):r.length>0?r.map(n=>n.dataKey).flatMap(n=>e.map(a=>({value:$n(a,n)}))):e.map(n=>({value:n})),q2=He([zS,ja,qg],qS);function m9(e,t){switch(e){case"xAxis":return t.direction==="x";case"yAxis":return t.direction==="y";default:return!1}}function Pv(e){if(uu(e)||e instanceof Date){var t=Number(e);if(Cs(t))return t}}function D8(e){if(Array.isArray(e)){var t=[Pv(e[0]),Pv(e[1])];return eh(t)?t:void 0}var r=Pv(e);if(r!=null)return[r,r]}function dp(e){return e.map(Pv).filter(Yue)}function Phe(e,t,r){return!r||typeof t!="number"||Uo(t)?[]:r.length?dp(r.flatMap(n=>{var a=$n(e,n.dataKey),i,l;if(Array.isArray(a)?[i,l]=a:i=l=a,!(!Cs(i)||!Cs(l)))return[t-i,t+l]})):[]}var Fhe=He([d9,F2,Ei],o9),p9=(e,t,r)=>{var n={},a=t.reduce((i,l)=>(l.stackId==null||(i[l.stackId]==null&&(i[l.stackId]=[]),i[l.stackId].push(l)),i),n);return Object.fromEntries(Object.entries(a).map(i=>{var[l,o]=i,f=o.map(LS);return[l,{stackedData:vce(e,f,r),graphicalItems:o}]}))},H_=He([Fhe,d9,Bg],p9),x9=(e,t,r,n)=>{var{dataStartIndex:a,dataEndIndex:i}=t;if(n==null&&r!=="zAxis"){var l=Nce(e,a,i);if(!(l!=null&&l[0]===0&&l[1]===0))return l}},Lhe=He([ja],e=>e.allowDataOverflow),$S=e=>{var t;if(e==null||!("domain"in e))return $_;if(e.domain!=null)return e.domain;if(e.ticks!=null){if(e.type==="number"){var r=dp(e.ticks);return[Math.min(...r),Math.max(...r)]}if(e.type==="category")return e.ticks.map(String)}return(t=e?.domain)!==null&&t!==void 0?t:$_},HS=He([ja],$S),VS=He([HS,Lhe],IR),Mhe=He([H_,Wd,xa,VS],x9,{memoizeOptions:{resultEqualityCheck:B2}}),$2=e=>e.errorBars,Rhe=(e,t,r)=>e.flatMap(n=>t[n.id]).filter(Boolean).filter(n=>m9(r,n)),Ly=function(){for(var t=arguments.length,r=new Array(t),n=0;n<t;n++)r[n]=arguments[n];var a=r.filter(Boolean);if(a.length!==0){var i=a.flat(),l=Math.min(...i),o=Math.max(...i);return[l,o]}},WS=(e,t,r,n,a)=>{var i,l;if(r.length>0&&e.forEach(o=>{r.forEach(f=>{var u,h,p=(u=n[f.id])===null||u===void 0?void 0:u.filter(_=>m9(a,_)),g=$n(o,(h=t.dataKey)!==null&&h!==void 0?h:f.dataKey),x=Phe(o,g,p);if(x.length>=2){var b=Math.min(...x),y=Math.max(...x);(i==null||b<i)&&(i=b),(l==null||y>l)&&(l=y)}var w=D8(g);w!=null&&(i=i==null?w[0]:Math.min(i,w[0]),l=l==null?w[1]:Math.max(l,w[1]))})}),t?.dataKey!=null&&e.forEach(o=>{var f=D8($n(o,t.dataKey));f!=null&&(i=i==null?f[0]:Math.min(i,f[0]),l=l==null?f[1]:Math.max(l,f[1]))}),Cs(i)&&Cs(l))return[i,l]},Ihe=He([zS,ja,Ohe,$2,xa],WS,{memoizeOptions:{resultEqualityCheck:B2}});function Bhe(e){var{value:t}=e;if(uu(t)||t instanceof Date)return t}var Uhe=(e,t,r)=>{var n=e.map(Bhe).filter(a=>a!=null);return r&&(t.dataKey==null||t.allowDuplicatedCategory&&HL(n))?nR(0,e.length):t.allowDuplicatedCategory?n:Array.from(new Set(n))},g9=e=>e.referenceElements.dots,hp=(e,t,r)=>e.filter(n=>n.ifOverflow==="extendDomain").filter(n=>t==="xAxis"?n.xAxisId===r:n.yAxisId===r),zhe=He([g9,xa,Ug],hp),v9=e=>e.referenceElements.areas,qhe=He([v9,xa,Ug],hp),y9=e=>e.referenceElements.lines,$he=He([y9,xa,Ug],hp),b9=(e,t)=>{var r=dp(e.map(n=>t==="xAxis"?n.x:n.y));if(r.length!==0)return[Math.min(...r),Math.max(...r)]},Hhe=He(zhe,xa,b9),w9=(e,t)=>{var r=dp(e.flatMap(n=>[t==="xAxis"?n.x1:n.y1,t==="xAxis"?n.x2:n.y2]));if(r.length!==0)return[Math.min(...r),Math.max(...r)]},Vhe=He([qhe,xa],w9),_9=(e,t)=>{var r=dp(e.map(n=>t==="xAxis"?n.x:n.y));if(r.length!==0)return[Math.min(...r),Math.max(...r)]},Whe=He($he,xa,_9),Ghe=He(Hhe,Whe,Vhe,(e,t,r)=>Ly(e,r,t)),GS=(e,t,r,n,a,i,l,o)=>{if(r!=null)return r;var f=l==="vertical"&&o==="xAxis"||l==="horizontal"&&o==="yAxis",u=f?Ly(n,i,a):Ly(i,a);return she(t,u,e.allowDataOverflow)},Khe=He([ja,HS,VS,Mhe,Ihe,Ghe,Wr,xa],GS,{memoizeOptions:{resultEqualityCheck:B2}}),Yhe=[0,1],KS=(e,t,r,n,a,i,l)=>{if(!((e==null||r==null||r.length===0)&&l===void 0)){var{dataKey:o,type:f}=e,u=qd(t,i);return u&&o==null?nR(0,r.length):f==="category"?Uhe(n,e,u):a==="expand"?Yhe:l}},YS=He([ja,Wr,zS,q2,Bg,xa,Khe],KS),N9=(e,t,r,n,a)=>{if(e!=null){var{scale:i,type:l}=e;if(i==="auto")return t==="radial"&&a==="radiusAxis"?"band":t==="radial"&&a==="angleAxis"?"linear":l==="category"&&n&&(n.indexOf("LineChart")>=0||n.indexOf("AreaChart")>=0||n.indexOf("ComposedChart")>=0&&!r)?"point":l==="category"?"band":"linear";if(typeof i=="string"){var o="scale".concat(kg(i));return o in vx?o:"point"}}},mp=He([ja,Wr,f9,CS,xa],N9);function Xhe(e){if(e!=null){if(e in vx)return vx[e]();var t="scale".concat(kg(e));if(t in vx)return vx[t]()}}function XS(e,t,r,n){if(!(r==null||n==null)){if(typeof e.scale=="function")return e.scale.copy().domain(r).range(n);var a=Xhe(t);if(a!=null){var i=a.domain(r).range(n);return hce(i),i}}}var QS=(e,t,r)=>{var n=$S(t);if(!(r!=="auto"&&r!=="linear")){if(t!=null&&t.tickCount&&Array.isArray(n)&&(n[0]==="auto"||n[1]==="auto")&&eh(e))return xhe(e,t.tickCount,t.allowDecimals);if(t!=null&&t.tickCount&&t.type==="number"&&eh(e))return ghe(e,t.tickCount,t.allowDecimals)}},ZS=He([YS,zg,mp],QS),JS=(e,t,r,n)=>{if(n!=="angleAxis"&&e?.type==="number"&&eh(t)&&Array.isArray(r)&&r.length>0){var a=t[0],i=r[0],l=t[1],o=r[r.length-1];return[Math.min(a,i),Math.max(l,o)]}return t},Qhe=He([ja,YS,ZS,xa],JS),Zhe=He(q2,ja,(e,t)=>{if(!(!t||t.type!=="number")){var r=1/0,n=Array.from(dp(e.map(o=>o.value))).sort((o,f)=>o-f);if(n.length<2)return 1/0;var a=n[n.length-1]-n[0];if(a===0)return 1/0;for(var i=0;i<n.length-1;i++){var l=n[i+1]-n[i];r=Math.min(r,l)}return r/a}}),S9=He(Zhe,Wr,e9,Si,(e,t,r,n)=>n,(e,t,r,n,a)=>{if(!Cs(e))return 0;var i=t==="vertical"?n.height:n.width;if(a==="gap")return e*i/2;if(a==="no-gap"){var l=As(r,e*i),o=e*i/2;return o-l-(o-l)/i*l}return 0}),Jhe=(e,t)=>{var r=kf(e,t);return r==null||typeof r.padding!="string"?0:S9(e,"xAxis",t,r.padding)},eme=(e,t)=>{var r=Cf(e,t);return r==null||typeof r.padding!="string"?0:S9(e,"yAxis",t,r.padding)},tme=He(kf,Jhe,(e,t)=>{var r,n;if(e==null)return{left:0,right:0};var{padding:a}=e;return typeof a=="string"?{left:t,right:t}:{left:((r=a.left)!==null&&r!==void 0?r:0)+t,right:((n=a.right)!==null&&n!==void 0?n:0)+t}}),rme=He(Cf,eme,(e,t)=>{var r,n;if(e==null)return{top:0,bottom:0};var{padding:a}=e;return typeof a=="string"?{top:t,bottom:t}:{top:((r=a.top)!==null&&r!==void 0?r:0)+t,bottom:((n=a.bottom)!==null&&n!==void 0?n:0)+t}}),nme=He([Si,tme,S2,N2,(e,t,r)=>r],(e,t,r,n,a)=>{var{padding:i}=n;return a?[i.left,r.width-i.right]:[e.left+t.left,e.left+e.width-t.right]}),ame=He([Si,Wr,rme,S2,N2,(e,t,r)=>r],(e,t,r,n,a,i)=>{var{padding:l}=a;return i?[n.height-l.bottom,l.top]:t==="horizontal"?[e.top+e.height-r.bottom,e.top+r.top]:[e.top+r.top,e.top+e.height-r.bottom]}),$g=(e,t,r,n)=>{var a;switch(t){case"xAxis":return nme(e,r,n);case"yAxis":return ame(e,r,n);case"zAxis":return(a=MS(e,r))===null||a===void 0?void 0:a.range;case"angleAxis":return a9(e);case"radiusAxis":return i9(e,r);default:return}},j9=He([ja,$g],M2),pp=He([ja,mp,Qhe,j9],XS);He([qg,$2,xa],Rhe);function A9(e,t){return e.id<t.id?-1:e.id>t.id?1:0}var H2=(e,t)=>t,V2=(e,t,r)=>r,ime=He(w2,H2,V2,(e,t,r)=>e.filter(n=>n.orientation===t).filter(n=>n.mirror===r).sort(A9)),sme=He(_2,H2,V2,(e,t,r)=>e.filter(n=>n.orientation===t).filter(n=>n.mirror===r).sort(A9)),E9=(e,t)=>({width:e.width,height:t.height}),lme=(e,t)=>{var r=typeof t.width=="number"?t.width:Dg;return{width:r,height:e.height}},k9=He(Si,kf,E9),ome=(e,t,r)=>{switch(t){case"top":return e.top;case"bottom":return r-e.bottom;default:return 0}},cme=(e,t,r)=>{switch(t){case"left":return e.left;case"right":return r-e.right;default:return 0}},ume=He(Af,Si,ime,H2,V2,(e,t,r,n,a)=>{var i={},l;return r.forEach(o=>{var f=E9(t,o);l==null&&(l=ome(t,n,e));var u=n==="top"&&!a||n==="bottom"&&a;i[o.id]=l-Number(u)*f.height,l+=(u?-1:1)*f.height}),i}),fme=He(jf,Si,sme,H2,V2,(e,t,r,n,a)=>{var i={},l;return r.forEach(o=>{var f=lme(t,o);l==null&&(l=cme(t,n,e));var u=n==="left"&&!a||n==="right"&&a;i[o.id]=l-Number(u)*f.width,l+=(u?-1:1)*f.width}),i}),dme=(e,t)=>{var r=kf(e,t);if(r!=null)return ume(e,r.orientation,r.mirror)},hme=He([Si,kf,dme,(e,t)=>t],(e,t,r,n)=>{if(t!=null){var a=r?.[n];return a==null?{x:e.left,y:0}:{x:e.left,y:a}}}),mme=(e,t)=>{var r=Cf(e,t);if(r!=null)return fme(e,r.orientation,r.mirror)},pme=He([Si,Cf,mme,(e,t)=>t],(e,t,r,n)=>{if(t!=null){var a=r?.[n];return a==null?{x:0,y:e.top}:{x:a,y:e.top}}}),C9=He(Si,Cf,(e,t)=>{var r=typeof t.width=="number"?t.width:Dg;return{width:r,height:e.height}}),P8=(e,t,r)=>{switch(t){case"xAxis":return k9(e,r).width;case"yAxis":return C9(e,r).height;default:return}},T9=(e,t,r,n)=>{if(r!=null){var{allowDuplicatedCategory:a,type:i,dataKey:l}=r,o=qd(e,n),f=t.map(u=>u.value);if(l&&o&&i==="category"&&a&&HL(f))return f}},ej=He([Wr,q2,ja,xa],T9),O9=(e,t,r,n)=>{if(!(r==null||r.dataKey==null)){var{type:a,scale:i}=r,l=qd(e,n);if(l&&(a==="number"||i!=="auto"))return t.map(o=>o.value)}},tj=He([Wr,q2,zg,xa],O9),F8=He([Wr,Che,mp,pp,ej,tj,$g,ZS,xa],(e,t,r,n,a,i,l,o,f)=>{if(t==null)return null;var u=qd(e,f);return{angle:t.angle,interval:t.interval,minTickGap:t.minTickGap,orientation:t.orientation,tick:t.tick,tickCount:t.tickCount,tickFormatter:t.tickFormatter,ticks:t.ticks,type:t.type,unit:t.unit,axisType:f,categoricalDomain:i,duplicateDomain:a,isCategorical:u,niceTicks:o,range:l,realScaleType:r,scale:n}}),xme=(e,t,r,n,a,i,l,o,f)=>{if(!(t==null||n==null)){var u=qd(e,f),{type:h,ticks:p,tickCount:g}=t,x=r==="scaleBand"&&typeof n.bandwidth=="function"?n.bandwidth()/2:2,b=h==="category"&&n.bandwidth?n.bandwidth()/x:0;b=f==="angleAxis"&&i!=null&&i.length>=2?Ui(i[0]-i[1])*2*b:b;var y=p||a;if(y){var w=y.map((_,E)=>{var A=l?l.indexOf(_):_;return{index:E,coordinate:n(A)+b,value:_,offset:b}});return w.filter(_=>!Uo(_.coordinate))}return u&&o?o.map((_,E)=>({coordinate:n(_)+b,value:_,index:E,offset:b})):n.ticks?n.ticks(g).map(_=>({coordinate:n(_)+b,value:_,offset:b})):n.domain().map((_,E)=>({coordinate:n(_)+b,value:l?l[_]:_,index:E,offset:b}))}},D9=He([Wr,zg,mp,pp,ZS,$g,ej,tj,xa],xme),gme=(e,t,r,n,a,i,l)=>{if(!(t==null||r==null||n==null||n[0]===n[1])){var o=qd(e,l),{tickCount:f}=t,u=0;return u=l==="angleAxis"&&n?.length>=2?Ui(n[0]-n[1])*2*u:u,o&&i?i.map((h,p)=>({coordinate:r(h)+u,value:h,index:p,offset:u})):r.ticks?r.ticks(f).map(h=>({coordinate:r(h)+u,value:h,offset:u})):r.domain().map((h,p)=>({coordinate:r(h)+u,value:a?a[h]:h,index:p,offset:u}))}},Cd=He([Wr,zg,pp,$g,ej,tj,xa],gme),Td=He(ja,pp,(e,t)=>{if(!(e==null||t==null))return Fy(Fy({},e),{},{scale:t})}),vme=He([ja,mp,YS,j9],XS);He((e,t,r)=>MS(e,r),vme,(e,t)=>{if(!(e==null||t==null))return Fy(Fy({},e),{},{scale:t})});var yme=He([Wr,w2,_2],(e,t,r)=>{switch(e){case"horizontal":return t.some(n=>n.reversed)?"right-to-left":"left-to-right";case"vertical":return r.some(n=>n.reversed)?"bottom-to-top":"top-to-bottom";case"centric":case"radial":return"left-to-right";default:return}}),P9=e=>e.options.defaultTooltipEventType,F9=e=>e.options.validateTooltipEventTypes;function L9(e,t,r){if(e==null)return t;var n=e?"axis":"item";return r==null?t:r.includes(n)?n:t}function rj(e,t){var r=P9(e),n=F9(e);return L9(t,r,n)}function bme(e){return Bt(t=>rj(t,e))}var M9=(e,t)=>{var r,n=Number(t);if(!(Uo(n)||t==null))return n>=0?e==null||(r=e[n])===null||r===void 0?void 0:r.value:void 0},wme=e=>e.tooltip.settings,gd={active:!1,index:null,dataKey:void 0,coordinate:void 0},_me={itemInteraction:{click:gd,hover:gd},axisInteraction:{click:gd,hover:gd},keyboardInteraction:gd,syncInteraction:{active:!1,index:null,dataKey:void 0,label:void 0,coordinate:void 0,sourceViewBox:void 0},tooltipItemPayloads:[],settings:{shared:void 0,trigger:"hover",axisId:0,active:!1,defaultIndex:void 0}},R9=io({name:"tooltip",initialState:_me,reducers:{addTooltipEntrySettings:{reducer(e,t){e.tooltipItemPayloads.push(t.payload)},prepare:Ws()},removeTooltipEntrySettings:{reducer(e,t){var r=sf(e).tooltipItemPayloads.indexOf(t.payload);r>-1&&e.tooltipItemPayloads.splice(r,1)},prepare:Ws()},setTooltipSettingsState(e,t){e.settings=t.payload},setActiveMouseOverItemIndex(e,t){e.syncInteraction.active=!1,e.keyboardInteraction.active=!1,e.itemInteraction.hover.active=!0,e.itemInteraction.hover.index=t.payload.activeIndex,e.itemInteraction.hover.dataKey=t.payload.activeDataKey,e.itemInteraction.hover.coordinate=t.payload.activeCoordinate},mouseLeaveChart(e){e.itemInteraction.hover.active=!1,e.axisInteraction.hover.active=!1},mouseLeaveItem(e){e.itemInteraction.hover.active=!1},setActiveClickItemIndex(e,t){e.syncInteraction.active=!1,e.itemInteraction.click.active=!0,e.keyboardInteraction.active=!1,e.itemInteraction.click.index=t.payload.activeIndex,e.itemInteraction.click.dataKey=t.payload.activeDataKey,e.itemInteraction.click.coordinate=t.payload.activeCoordinate},setMouseOverAxisIndex(e,t){e.syncInteraction.active=!1,e.axisInteraction.hover.active=!0,e.keyboardInteraction.active=!1,e.axisInteraction.hover.index=t.payload.activeIndex,e.axisInteraction.hover.dataKey=t.payload.activeDataKey,e.axisInteraction.hover.coordinate=t.payload.activeCoordinate},setMouseClickAxisIndex(e,t){e.syncInteraction.active=!1,e.keyboardInteraction.active=!1,e.axisInteraction.click.active=!0,e.axisInteraction.click.index=t.payload.activeIndex,e.axisInteraction.click.dataKey=t.payload.activeDataKey,e.axisInteraction.click.coordinate=t.payload.activeCoordinate},setSyncInteraction(e,t){e.syncInteraction=t.payload},setKeyboardInteraction(e,t){e.keyboardInteraction.active=t.payload.active,e.keyboardInteraction.index=t.payload.activeIndex,e.keyboardInteraction.coordinate=t.payload.activeCoordinate,e.keyboardInteraction.dataKey=t.payload.activeDataKey}}}),{addTooltipEntrySettings:Nme,removeTooltipEntrySettings:Sme,setTooltipSettingsState:jme,setActiveMouseOverItemIndex:I9,mouseLeaveItem:Ame,mouseLeaveChart:B9,setActiveClickItemIndex:Eme,setMouseOverAxisIndex:U9,setMouseClickAxisIndex:kme,setSyncInteraction:V_,setKeyboardInteraction:W_}=R9.actions,Cme=R9.reducer;function L8(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function pv(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?L8(Object(r),!0).forEach(function(n){Tme(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):L8(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Tme(e,t,r){return(t=Ome(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Ome(e){var t=Dme(e,"string");return typeof t=="symbol"?t:t+""}function Dme(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Pme(e,t,r){return t==="axis"?r==="click"?e.axisInteraction.click:e.axisInteraction.hover:r==="click"?e.itemInteraction.click:e.itemInteraction.hover}function Fme(e){return e.index!=null}var z9=(e,t,r,n)=>{if(t==null)return gd;var a=Pme(e,t,r);if(a==null)return gd;if(a.active)return a;if(e.keyboardInteraction.active)return e.keyboardInteraction;if(e.syncInteraction.active&&e.syncInteraction.index!=null)return e.syncInteraction;var i=e.settings.active===!0;if(Fme(a)){if(i)return pv(pv({},a),{},{active:!0})}else if(n!=null)return{active:!0,coordinate:void 0,dataKey:void 0,index:n};return pv(pv({},gd),{},{coordinate:a.coordinate})},nj=(e,t)=>{var r=e?.index;if(r==null)return null;var n=Number(r);if(!Cs(n))return r;var a=0,i=1/0;return t.length>0&&(i=t.length-1),String(Math.max(a,Math.min(n,i)))},q9=(e,t,r,n,a,i,l,o)=>{if(!(i==null||o==null)){var f=l[0],u=f==null?void 0:o(f.positions,i);if(u!=null)return u;var h=a?.[Number(i)];if(h)switch(r){case"horizontal":return{x:h.coordinate,y:(n.top+t)/2};default:return{x:(n.left+e)/2,y:h.coordinate}}}},$9=(e,t,r,n)=>{if(t==="axis")return e.tooltipItemPayloads;if(e.tooltipItemPayloads.length===0)return[];var a;return r==="hover"?a=e.itemInteraction.hover.dataKey:a=e.itemInteraction.click.dataKey,a==null&&n!=null?[e.tooltipItemPayloads[0]]:e.tooltipItemPayloads.filter(i=>{var l;return((l=i.settings)===null||l===void 0?void 0:l.dataKey)===a})},Hg=e=>e.options.tooltipPayloadSearcher,xp=e=>e.tooltip;function M8(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function R8(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?M8(Object(r),!0).forEach(function(n){Lme(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):M8(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Lme(e,t,r){return(t=Mme(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Mme(e){var t=Rme(e,"string");return typeof t=="symbol"?t:t+""}function Rme(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Ime(e,t){return e??t}var H9=(e,t,r,n,a,i,l)=>{if(!(t==null||i==null)){var{chartData:o,computedData:f,dataStartIndex:u,dataEndIndex:h}=r,p=[];return e.reduce((g,x)=>{var b,{dataDefinedOnItem:y,settings:w}=x,_=Ime(y,o),E=Array.isArray(_)?LM(_,u,h):_,A=(b=w?.dataKey)!==null&&b!==void 0?b:n,O=w?.nameKey,D;if(n&&Array.isArray(E)&&!Array.isArray(E[0])&&l==="axis"?D=VL(E,n,a):D=i(E,t,f,O),Array.isArray(D))D.forEach(P=>{var T=R8(R8({},w),{},{name:P.name,unit:P.unit,color:void 0,fill:void 0});g.push(dT({tooltipEntrySettings:T,dataKey:P.dataKey,payload:P.payload,value:$n(P.payload,P.dataKey),name:P.name}))});else{var R;g.push(dT({tooltipEntrySettings:w,dataKey:A,payload:D,value:$n(D,A),name:(R=$n(D,O))!==null&&R!==void 0?R:w?.name}))}return g},p)}},aj=He([Ei,Wr,f9,CS,Ai],N9),Bme=He([e=>e.graphicalItems.cartesianItems,e=>e.graphicalItems.polarItems],(e,t)=>[...e,...t]),Ume=He([Ai,fp],RS),Vg=He([Bme,Ei,Ume],IS,{memoizeOptions:{resultEqualityCheck:U2}}),zme=He([Vg],e=>e.filter(I2)),qme=He([Vg],BS,{memoizeOptions:{resultEqualityCheck:U2}}),gp=He([qme,Wd],US),$me=He([zme,Wd,Ei],o9),ij=He([gp,Ei,Vg],qS),V9=He([Ei],$S),Hme=He([Ei],e=>e.allowDataOverflow),W9=He([V9,Hme],IR),Vme=He([Vg],e=>e.filter(I2)),Wme=He([$me,Vme,Bg],p9),Gme=He([Wme,Wd,Ai,W9],x9),Kme=He([Vg],h9),Yme=He([gp,Ei,Kme,$2,Ai],WS,{memoizeOptions:{resultEqualityCheck:B2}}),Xme=He([g9,Ai,fp],hp),Qme=He([Xme,Ai],b9),Zme=He([v9,Ai,fp],hp),Jme=He([Zme,Ai],w9),epe=He([y9,Ai,fp],hp),tpe=He([epe,Ai],_9),rpe=He([Qme,tpe,Jme],Ly),npe=He([Ei,V9,W9,Gme,Yme,rpe,Wr,Ai],GS),G9=He([Ei,Wr,gp,ij,Bg,Ai,npe],KS),ape=He([G9,Ei,aj],QS),ipe=He([Ei,G9,ape,Ai],JS),K9=e=>{var t=Ai(e),r=fp(e),n=!1;return $g(e,t,r,n)},Y9=He([Ei,K9],M2),X9=He([Ei,aj,ipe,Y9],XS),spe=He([Wr,ij,Ei,Ai],T9),lpe=He([Wr,ij,Ei,Ai],O9),ope=(e,t,r,n,a,i,l,o)=>{if(t){var{type:f}=t,u=qd(e,o);if(n){var h=r==="scaleBand"&&n.bandwidth?n.bandwidth()/2:2,p=f==="category"&&n.bandwidth?n.bandwidth()/h:0;return p=o==="angleAxis"&&a!=null&&a?.length>=2?Ui(a[0]-a[1])*2*p:p,u&&l?l.map((g,x)=>({coordinate:n(g)+p,value:g,index:x,offset:p})):n.domain().map((g,x)=>({coordinate:n(g)+p,value:i?i[g]:g,index:x,offset:p}))}}},Tf=He([Wr,Ei,aj,X9,K9,spe,lpe,Ai],ope),sj=He([P9,F9,wme],(e,t,r)=>L9(r.shared,e,t)),Q9=e=>e.tooltip.settings.trigger,lj=e=>e.tooltip.settings.defaultIndex,W2=He([xp,sj,Q9,lj],z9),Od=He([W2,gp],nj),Z9=He([Tf,Od],M9),J9=He([W2],e=>{if(e)return e.dataKey}),eI=He([xp,sj,Q9,lj],$9),cpe=He([jf,Af,Wr,Si,Tf,lj,eI,Hg],q9),upe=He([W2,cpe],(e,t)=>e!=null&&e.coordinate?e.coordinate:t),fpe=He([W2],e=>e.active),dpe=He([eI,Od,Wd,l9,Z9,Hg,sj],H9),hpe=He([dpe],e=>{if(e!=null){var t=e.map(r=>r.payload).filter(r=>r!=null);return Array.from(new Set(t))}});function I8(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function B8(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?I8(Object(r),!0).forEach(function(n){mpe(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):I8(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function mpe(e,t,r){return(t=ppe(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function ppe(e){var t=xpe(e,"string");return typeof t=="symbol"?t:t+""}function xpe(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var gpe=()=>Bt(Ei),vpe=()=>{var e=gpe(),t=Bt(Tf),r=Bt(X9);return rg(B8(B8({},e),{},{scale:r}),t)},ype=()=>Bt(CS),oj=(e,t)=>t,tI=(e,t,r)=>r,cj=(e,t,r,n)=>n,bpe=He(Tf,e=>p2(e,t=>t.coordinate)),uj=He([xp,oj,tI,cj],z9),rI=He([uj,gp],nj),wpe=(e,t,r)=>{if(t!=null){var n=xp(e);return t==="axis"?r==="hover"?n.axisInteraction.hover.dataKey:n.axisInteraction.click.dataKey:r==="hover"?n.itemInteraction.hover.dataKey:n.itemInteraction.click.dataKey}},nI=He([xp,oj,tI,cj],$9),My=He([jf,Af,Wr,Si,Tf,cj,nI,Hg],q9),_pe=He([uj,My],(e,t)=>{var r;return(r=e.coordinate)!==null&&r!==void 0?r:t}),aI=He(Tf,rI,M9),Npe=He([nI,rI,Wd,l9,aI,Hg,oj],H9),Spe=He([uj],e=>({isActive:e.active,activeIndex:e.index})),jpe=(e,t,r,n,a,i,l,o)=>{if(!(!e||!t||!n||!a||!i)){var f=Sce(e.chartX,e.chartY,t,r,o);if(f){var u=Ace(f,t),h=fce(u,l,i,n,a),p=jce(t,i,h,f);return{activeIndex:String(h),activeCoordinate:p}}}};function G_(){return G_=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},G_.apply(null,arguments)}function U8(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function xv(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?U8(Object(r),!0).forEach(function(n){Ape(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):U8(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Ape(e,t,r){return(t=Epe(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Epe(e){var t=kpe(e,"string");return typeof t=="symbol"?t:t+""}function kpe(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Cpe(e){var{coordinate:t,payload:r,index:n,offset:a,tooltipAxisBandSize:i,layout:l,cursor:o,tooltipEventType:f,chartName:u}=e,h=t,p=r,g=n;if(!o||!h||u!=="ScatterChart"&&f!=="axis")return null;var x,b;if(u==="ScatterChart")x=h,b=que;else if(u==="BarChart")x=$ue(l,h,a,i),b=JM;else if(l==="radial"){var{cx:y,cy:w,radius:_,startAngle:E,endAngle:A}=eR(h);x={cx:y,cy:w,startAngle:E,endAngle:A,innerRadius:_,outerRadius:_},b=rR}else x={points:Afe(l,h,a)},b=rS;var O=typeof o=="object"&&"className"in o?o.className:void 0,D=xv(xv(xv(xv({stroke:"#ccc",pointerEvents:"none"},a),x),X0(o)),{},{payload:p,payloadIndex:g,className:nn("recharts-tooltip-cursor",O)});return C.isValidElement(o)?C.cloneElement(o,D):C.createElement(b,D)}function Tpe(e){var t=vpe(),r=HM(),n=A2(),a=ype();return C.createElement(Cpe,G_({},e,{coordinate:e.coordinate,index:e.index,payload:e.payload,offset:r,layout:n,tooltipAxisBandSize:t,chartName:a}))}var iI=C.createContext(null),Ope=()=>C.useContext(iI),Z5={exports:{}},z8;function Dpe(){return z8||(z8=1,(function(e){var t=Object.prototype.hasOwnProperty,r="~";function n(){}Object.create&&(n.prototype=Object.create(null),new n().__proto__||(r=!1));function a(f,u,h){this.fn=f,this.context=u,this.once=h||!1}function i(f,u,h,p,g){if(typeof h!="function")throw new TypeError("The listener must be a function");var x=new a(h,p||f,g),b=r?r+u:u;return f._events[b]?f._events[b].fn?f._events[b]=[f._events[b],x]:f._events[b].push(x):(f._events[b]=x,f._eventsCount++),f}function l(f,u){--f._eventsCount===0?f._events=new n:delete f._events[u]}function o(){this._events=new n,this._eventsCount=0}o.prototype.eventNames=function(){var u=[],h,p;if(this._eventsCount===0)return u;for(p in h=this._events)t.call(h,p)&&u.push(r?p.slice(1):p);return Object.getOwnPropertySymbols?u.concat(Object.getOwnPropertySymbols(h)):u},o.prototype.listeners=function(u){var h=r?r+u:u,p=this._events[h];if(!p)return[];if(p.fn)return[p.fn];for(var g=0,x=p.length,b=new Array(x);g<x;g++)b[g]=p[g].fn;return b},o.prototype.listenerCount=function(u){var h=r?r+u:u,p=this._events[h];return p?p.fn?1:p.length:0},o.prototype.emit=function(u,h,p,g,x,b){var y=r?r+u:u;if(!this._events[y])return!1;var w=this._events[y],_=arguments.length,E,A;if(w.fn){switch(w.once&&this.removeListener(u,w.fn,void 0,!0),_){case 1:return w.fn.call(w.context),!0;case 2:return w.fn.call(w.context,h),!0;case 3:return w.fn.call(w.context,h,p),!0;case 4:return w.fn.call(w.context,h,p,g),!0;case 5:return w.fn.call(w.context,h,p,g,x),!0;case 6:return w.fn.call(w.context,h,p,g,x,b),!0}for(A=1,E=new Array(_-1);A<_;A++)E[A-1]=arguments[A];w.fn.apply(w.context,E)}else{var O=w.length,D;for(A=0;A<O;A++)switch(w[A].once&&this.removeListener(u,w[A].fn,void 0,!0),_){case 1:w[A].fn.call(w[A].context);break;case 2:w[A].fn.call(w[A].context,h);break;case 3:w[A].fn.call(w[A].context,h,p);break;case 4:w[A].fn.call(w[A].context,h,p,g);break;default:if(!E)for(D=1,E=new Array(_-1);D<_;D++)E[D-1]=arguments[D];w[A].fn.apply(w[A].context,E)}}return!0},o.prototype.on=function(u,h,p){return i(this,u,h,p,!1)},o.prototype.once=function(u,h,p){return i(this,u,h,p,!0)},o.prototype.removeListener=function(u,h,p,g){var x=r?r+u:u;if(!this._events[x])return this;if(!h)return l(this,x),this;var b=this._events[x];if(b.fn)b.fn===h&&(!g||b.once)&&(!p||b.context===p)&&l(this,x);else{for(var y=0,w=[],_=b.length;y<_;y++)(b[y].fn!==h||g&&!b[y].once||p&&b[y].context!==p)&&w.push(b[y]);w.length?this._events[x]=w.length===1?w[0]:w:l(this,x)}return this},o.prototype.removeAllListeners=function(u){var h;return u?(h=r?r+u:u,this._events[h]&&l(this,h)):(this._events=new n,this._eventsCount=0),this},o.prototype.off=o.prototype.removeListener,o.prototype.addListener=o.prototype.on,o.prefixed=r,o.EventEmitter=o,e.exports=o})(Z5)),Z5.exports}var Ppe=Dpe();const Fpe=yf(Ppe);var ug=new Fpe,K_="recharts.syncEvent.tooltip",q8="recharts.syncEvent.brush";function fj(e,t){if(t){var r=Number.parseInt(t,10);if(!Uo(r))return e?.[r]}}var Lpe={chartName:"",tooltipPayloadSearcher:void 0,eventEmitter:void 0,defaultTooltipEventType:"axis"},sI=io({name:"options",initialState:Lpe,reducers:{createEventEmitter:e=>{e.eventEmitter==null&&(e.eventEmitter=Symbol("rechartsEventEmitter"))}}}),Mpe=sI.reducer,{createEventEmitter:Rpe}=sI.actions;function Ipe(e){return e.tooltip.syncInteraction}var Bpe={chartData:void 0,computedData:void 0,dataStartIndex:0,dataEndIndex:0},lI=io({name:"chartData",initialState:Bpe,reducers:{setChartData(e,t){if(e.chartData=t.payload,t.payload==null){e.dataStartIndex=0,e.dataEndIndex=0;return}t.payload.length>0&&e.dataEndIndex!==t.payload.length-1&&(e.dataEndIndex=t.payload.length-1)},setComputedData(e,t){e.computedData=t.payload},setDataStartEndIndexes(e,t){var{startIndex:r,endIndex:n}=t.payload;r!=null&&(e.dataStartIndex=r),n!=null&&(e.dataEndIndex=n)}}}),{setChartData:$8,setDataStartEndIndexes:Upe,setComputedData:TNe}=lI.actions,zpe=lI.reducer,qpe=["x","y"];function H8(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function dm(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?H8(Object(r),!0).forEach(function(n){$pe(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):H8(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function $pe(e,t,r){return(t=Hpe(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Hpe(e){var t=Vpe(e,"string");return typeof t=="symbol"?t:t+""}function Vpe(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Wpe(e,t){if(e==null)return{};var r,n,a=Gpe(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}function Gpe(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}var oI=()=>{};function Kpe(){var e=Bt(TS),t=Bt(OS),r=pa(),n=Bt(t9),a=Bt(Tf),i=A2(),l=j2(),o=Bt(f=>f.rootProps.className);C.useEffect(()=>{if(e==null)return oI;var f=(u,h,p)=>{if(t!==p&&e===u){if(n==="index"){var g;if(l&&h!==null&&h!==void 0&&(g=h.payload)!==null&&g!==void 0&&g.coordinate&&h.payload.sourceViewBox){var x=h.payload.coordinate,{x:b,y}=x,w=Wpe(x,qpe),{x:_,y:E,width:A,height:O}=h.payload.sourceViewBox,D=dm(dm({},w),{},{x:l.x+(A?(b-_)/A:0)*l.width,y:l.y+(O?(y-E)/O:0)*l.height});r(dm(dm({},h),{},{payload:dm(dm({},h.payload),{},{coordinate:D})}))}else r(h);return}if(a!=null){var R;if(typeof n=="function"){var P={activeTooltipIndex:h.payload.index==null?void 0:Number(h.payload.index),isTooltipActive:h.payload.active,activeIndex:h.payload.index==null?void 0:Number(h.payload.index),activeLabel:h.payload.label,activeDataKey:h.payload.dataKey,activeCoordinate:h.payload.coordinate},T=n(a,P);R=a[T]}else n==="value"&&(R=a.find(ne=>String(ne.value)===h.payload.label));var{coordinate:B}=h.payload;if(R==null||h.payload.active===!1||B==null||l==null){r(V_({active:!1,coordinate:void 0,dataKey:void 0,index:null,label:void 0,sourceViewBox:void 0}));return}var{x:G,y:I}=B,z=Math.min(G,l.x+l.width),K=Math.min(I,l.y+l.height),J={x:i==="horizontal"?R.coordinate:z,y:i==="horizontal"?K:R.coordinate},pe=V_({active:h.payload.active,coordinate:J,dataKey:h.payload.dataKey,index:String(R.index),label:h.payload.label,sourceViewBox:h.payload.sourceViewBox});r(pe)}}};return ug.on(K_,f),()=>{ug.off(K_,f)}},[o,r,t,e,n,a,i,l])}function Ype(){var e=Bt(TS),t=Bt(OS),r=pa();C.useEffect(()=>{if(e==null)return oI;var n=(a,i,l)=>{t!==l&&e===a&&r(Upe(i))};return ug.on(q8,n),()=>{ug.off(q8,n)}},[r,t,e])}function Xpe(){var e=pa();C.useEffect(()=>{e(Rpe())},[e]),Kpe(),Ype()}function Qpe(e,t,r,n,a,i){var l=Bt(x=>wpe(x,e,t)),o=Bt(OS),f=Bt(TS),u=Bt(t9),h=Bt(Ipe),p=h?.active,g=j2();C.useEffect(()=>{if(!p&&f!=null&&o!=null){var x=V_({active:i,coordinate:r,dataKey:l,index:a,label:typeof n=="number"?String(n):n,sourceViewBox:g});ug.emit(K_,f,x,o)}},[p,r,l,a,n,o,f,u,i,g])}function V8(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function W8(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?V8(Object(r),!0).forEach(function(n){Zpe(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):V8(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Zpe(e,t,r){return(t=Jpe(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Jpe(e){var t=exe(e,"string");return typeof t=="symbol"?t:t+""}function exe(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function txe(e){return e.dataKey}function rxe(e,t){return C.isValidElement(e)?C.cloneElement(e,t):typeof e=="function"?C.createElement(e,t):C.createElement(bue,t)}var G8=[],nxe={allowEscapeViewBox:{x:!1,y:!1},animationDuration:400,animationEasing:"ease",axisId:0,contentStyle:{},cursor:!0,filterNull:!0,isAnimationActive:!$d.isSsr,itemSorter:"name",itemStyle:{},labelStyle:{},offset:10,reverseDirection:{x:!1,y:!1},separator:" : ",trigger:"hover",useTranslate3d:!1,wrapperStyle:{}};function J5(e){var t=ls(e,nxe),{active:r,allowEscapeViewBox:n,animationDuration:a,animationEasing:i,content:l,filterNull:o,isAnimationActive:f,offset:u,payloadUniqBy:h,position:p,reverseDirection:g,useTranslate3d:x,wrapperStyle:b,cursor:y,shared:w,trigger:_,defaultIndex:E,portal:A,axisId:O}=t,D=pa(),R=typeof E=="number"?String(E):E;C.useEffect(()=>{D(jme({shared:w,trigger:_,axisId:O,active:r,defaultIndex:R}))},[D,w,_,O,r,R]);var P=j2(),T=KM(),B=bme(w),{activeIndex:G,isActive:I}=Bt(W=>Spe(W,B,_,R)),z=Bt(W=>Npe(W,B,_,R)),K=Bt(W=>aI(W,B,_,R)),J=Bt(W=>_pe(W,B,_,R)),pe=z,ne=Ope(),le=r??I,[ve,ue]=lM([pe,le]),je=B==="axis"?K:void 0;Qpe(B,_,J,je,G,le);var te=A??ne;if(te==null)return null;var F=pe??G8;le||(F=G8),o&&F.length&&(F=rM(pe.filter(W=>W.value!=null&&(W.hide!==!0||t.includeHidden)),h,txe));var M=F.length>0,q=C.createElement(Eue,{allowEscapeViewBox:n,animationDuration:a,animationEasing:i,isAnimationActive:f,active:le,coordinate:J,hasPayload:M,offset:u,position:p,reverseDirection:g,useTranslate3d:x,viewBox:P,wrapperStyle:b,lastBoundingBox:ve,innerRef:ue,hasPortalFromProps:!!A},rxe(l,W8(W8({},t),{},{payload:F,label:je,active:le,coordinate:J,accessibilityLayer:T})));return C.createElement(C.Fragment,null,$D.createPortal(q,te),le&&C.createElement(Tpe,{cursor:y,tooltipEventType:B,coordinate:J,payload:pe,index:G}))}var Wg=e=>null;Wg.displayName="Cell";function axe(e,t,r){return(t=ixe(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function ixe(e){var t=sxe(e,"string");return typeof t=="symbol"?t:t+""}function sxe(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}class lxe{constructor(t){axe(this,"cache",new Map),this.maxSize=t}get(t){var r=this.cache.get(t);return r!==void 0&&(this.cache.delete(t),this.cache.set(t,r)),r}set(t,r){if(this.cache.has(t))this.cache.delete(t);else if(this.cache.size>=this.maxSize){var n=this.cache.keys().next().value;this.cache.delete(n)}this.cache.set(t,r)}clear(){this.cache.clear()}size(){return this.cache.size}}function K8(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function oxe(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?K8(Object(r),!0).forEach(function(n){cxe(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):K8(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function cxe(e,t,r){return(t=uxe(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function uxe(e){var t=fxe(e,"string");return typeof t=="symbol"?t:t+""}function fxe(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var dxe={cacheSize:2e3,enableCache:!0},cI=oxe({},dxe),Y8=new lxe(cI.cacheSize),hxe={position:"absolute",top:"-20000px",left:0,padding:0,margin:0,border:"none",whiteSpace:"pre"},X8="recharts_measurement_span";function mxe(e,t){var r=t.fontSize||"",n=t.fontFamily||"",a=t.fontWeight||"",i=t.fontStyle||"",l=t.letterSpacing||"",o=t.textTransform||"";return"".concat(e,"|").concat(r,"|").concat(n,"|").concat(a,"|").concat(i,"|").concat(l,"|").concat(o)}var Q8=(e,t)=>{try{var r=document.getElementById(X8);r||(r=document.createElement("span"),r.setAttribute("id",X8),r.setAttribute("aria-hidden","true"),document.body.appendChild(r)),Object.assign(r.style,hxe,t),r.textContent="".concat(e);var n=r.getBoundingClientRect();return{width:n.width,height:n.height}}catch{return{width:0,height:0}}},kx=function(t){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(t==null||$d.isSsr)return{width:0,height:0};if(!cI.enableCache)return Q8(t,r);var n=mxe(t,r),a=Y8.get(n);if(a)return a;var i=Q8(t,r);return Y8.set(n,i),i},Z8=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([*/])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,J8=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([+-])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,pxe=/^px|cm|vh|vw|em|rem|%|mm|in|pt|pc|ex|ch|vmin|vmax|Q$/,xxe=/(-?\d+(?:\.\d+)?)([a-zA-Z%]+)?/,uI={cm:96/2.54,mm:96/25.4,pt:96/72,pc:96/6,in:96,Q:96/(2.54*40),px:1},gxe=Object.keys(uI),bm="NaN";function vxe(e,t){return e*uI[t]}class Sl{static parse(t){var r,[,n,a]=(r=xxe.exec(t))!==null&&r!==void 0?r:[];return new Sl(parseFloat(n),a??"")}constructor(t,r){this.num=t,this.unit=r,this.num=t,this.unit=r,Uo(t)&&(this.unit=""),r!==""&&!pxe.test(r)&&(this.num=NaN,this.unit=""),gxe.includes(r)&&(this.num=vxe(t,r),this.unit="px")}add(t){return this.unit!==t.unit?new Sl(NaN,""):new Sl(this.num+t.num,this.unit)}subtract(t){return this.unit!==t.unit?new Sl(NaN,""):new Sl(this.num-t.num,this.unit)}multiply(t){return this.unit!==""&&t.unit!==""&&this.unit!==t.unit?new Sl(NaN,""):new Sl(this.num*t.num,this.unit||t.unit)}divide(t){return this.unit!==""&&t.unit!==""&&this.unit!==t.unit?new Sl(NaN,""):new Sl(this.num/t.num,this.unit||t.unit)}toString(){return"".concat(this.num).concat(this.unit)}isNaN(){return Uo(this.num)}}function fI(e){if(e.includes(bm))return bm;for(var t=e;t.includes("*")||t.includes("/");){var r,[,n,a,i]=(r=Z8.exec(t))!==null&&r!==void 0?r:[],l=Sl.parse(n??""),o=Sl.parse(i??""),f=a==="*"?l.multiply(o):l.divide(o);if(f.isNaN())return bm;t=t.replace(Z8,f.toString())}for(;t.includes("+")||/.-\d+(?:\.\d+)?/.test(t);){var u,[,h,p,g]=(u=J8.exec(t))!==null&&u!==void 0?u:[],x=Sl.parse(h??""),b=Sl.parse(g??""),y=p==="+"?x.add(b):x.subtract(b);if(y.isNaN())return bm;t=t.replace(J8,y.toString())}return t}var eO=/\(([^()]*)\)/;function yxe(e){for(var t=e,r;(r=eO.exec(t))!=null;){var[,n]=r;t=t.replace(eO,fI(n))}return t}function bxe(e){var t=e.replace(/\s+/g,"");return t=yxe(t),t=fI(t),t}function wxe(e){try{return bxe(e)}catch{return bm}}function e4(e){var t=wxe(e.slice(5,-1));return t===bm?"":t}var _xe=["x","y","lineHeight","capHeight","scaleToFit","textAnchor","verticalAnchor","fill"],Nxe=["dx","dy","angle","className","breakAll"];function Y_(){return Y_=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Y_.apply(null,arguments)}function tO(e,t){if(e==null)return{};var r,n,a=Sxe(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}function Sxe(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}var dI=/[ \f\n\r\t\v\u2028\u2029]+/,hI=e=>{var{children:t,breakAll:r,style:n}=e;try{var a=[];ma(t)||(r?a=t.toString().split(""):a=t.toString().split(dI));var i=a.map(o=>({word:o,width:kx(o,n).width})),l=r?0:kx("",n).width;return{wordsWithComputedWidth:i,spaceWidth:l}}catch{return null}},jxe=(e,t,r,n,a)=>{var{maxLines:i,children:l,style:o,breakAll:f}=e,u=Kt(i),h=l,p=function(){var I=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[];return I.reduce((z,K)=>{var{word:J,width:pe}=K,ne=z[z.length-1];if(ne&&(n==null||a||ne.width+pe+r<Number(n)))ne.words.push(J),ne.width+=pe+r;else{var le={words:[J],width:pe};z.push(le)}return z},[])},g=p(t),x=G=>G.reduce((I,z)=>I.width>z.width?I:z);if(!u||a)return g;var b=g.length>i||x(g).width>Number(n);if(!b)return g;for(var y="",w=G=>{var I=h.slice(0,G),z=hI({breakAll:f,style:o,children:I+y}).wordsWithComputedWidth,K=p(z),J=K.length>i||x(K).width>Number(n);return[J,K]},_=0,E=h.length-1,A=0,O;_<=E&&A<=h.length-1;){var D=Math.floor((_+E)/2),R=D-1,[P,T]=w(R),[B]=w(D);if(!P&&!B&&(_=D+1),P&&B&&(E=D-1),!P&&B){O=T;break}A++}return O||g},rO=e=>{var t=ma(e)?[]:e.toString().split(dI);return[{words:t}]},Axe=e=>{var{width:t,scaleToFit:r,children:n,style:a,breakAll:i,maxLines:l}=e;if((t||r)&&!$d.isSsr){var o,f,u=hI({breakAll:i,children:n,style:a});if(u){var{wordsWithComputedWidth:h,spaceWidth:p}=u;o=h,f=p}else return rO(n);return jxe({breakAll:i,children:n,maxLines:l,style:a},o,f,t,r)}return rO(n)},nO="#808080",G2=C.forwardRef((e,t)=>{var{x:r=0,y:n=0,lineHeight:a="1em",capHeight:i="0.71em",scaleToFit:l=!1,textAnchor:o="start",verticalAnchor:f="end",fill:u=nO}=e,h=tO(e,_xe),p=C.useMemo(()=>Axe({breakAll:h.breakAll,children:h.children,maxLines:h.maxLines,scaleToFit:l,style:h.style,width:h.width}),[h.breakAll,h.children,h.maxLines,l,h.style,h.width]),{dx:g,dy:x,angle:b,className:y,breakAll:w}=h,_=tO(h,Nxe);if(!uu(r)||!uu(n)||p.length===0)return null;var E=r+(Kt(g)?g:0),A=n+(Kt(x)?x:0),O;switch(f){case"start":O=e4("calc(".concat(i,")"));break;case"middle":O=e4("calc(".concat((p.length-1)/2," * -").concat(a," + (").concat(i," / 2))"));break;default:O=e4("calc(".concat(p.length-1," * -").concat(a,")"));break}var D=[];if(l){var R=p[0].width,{width:P}=h;D.push("scale(".concat(Kt(P)?P/R:1,")"))}return b&&D.push("rotate(".concat(b,", ").concat(E,", ").concat(A,")")),D.length&&(_.transform=D.join(" ")),C.createElement("text",Y_({},tl(_),{ref:t,x:E,y:A,className:nn("recharts-text",y),textAnchor:o,fill:u.includes("url")?nO:u}),p.map((T,B)=>{var G=T.words.join(w?"":" ");return C.createElement("tspan",{x:E,dy:B===0?O:a,key:"".concat(G,"-").concat(B)},G)}))});G2.displayName="Text";var Exe=["labelRef"];function kxe(e,t){if(e==null)return{};var r,n,a=Cxe(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}function Cxe(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}function aO(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function Ha(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?aO(Object(r),!0).forEach(function(n){Txe(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):aO(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Txe(e,t,r){return(t=Oxe(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Oxe(e){var t=Dxe(e,"string");return typeof t=="symbol"?t:t+""}function Dxe(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Yu(){return Yu=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Yu.apply(null,arguments)}var mI=C.createContext(null),Pxe=e=>{var{x:t,y:r,width:n,height:a,children:i}=e,l=C.useMemo(()=>({x:t,y:r,width:n,height:a}),[t,r,n,a]);return C.createElement(mI.Provider,{value:l},i)},pI=()=>{var e=C.useContext(mI),t=j2();return e||t},Fxe=C.createContext(null),Lxe=()=>{var e=C.useContext(Fxe),t=Bt(s9);return e||t},Mxe=e=>{var{value:t,formatter:r}=e,n=ma(e.children)?t:e.children;return typeof r=="function"?r(n):n},dj=e=>e!=null&&typeof e=="function",Rxe=(e,t)=>{var r=Ui(t-e),n=Math.min(Math.abs(t-e),360);return r*n},Ixe=(e,t,r,n,a)=>{var{offset:i,className:l}=e,{cx:o,cy:f,innerRadius:u,outerRadius:h,startAngle:p,endAngle:g,clockWise:x}=a,b=(u+h)/2,y=Rxe(p,g),w=y>=0?1:-1,_,E;switch(t){case"insideStart":_=p+w*i,E=x;break;case"insideEnd":_=g-w*i,E=!x;break;case"end":_=g+w*i,E=x;break;default:throw new Error("Unsupported position ".concat(t))}E=y<=0?E:!E;var A=ai(o,f,b,_),O=ai(o,f,b,_+(E?1:-1)*359),D="M".concat(A.x,",").concat(A.y,`
    A`).concat(b,",").concat(b,",0,1,").concat(E?0:1,`,
    `).concat(O.x,",").concat(O.y),R=ma(e.id)?Zx("recharts-radial-line-"):e.id;return C.createElement("text",Yu({},n,{dominantBaseline:"central",className:nn("recharts-radial-bar-label",l)}),C.createElement("defs",null,C.createElement("path",{id:R,d:D})),C.createElement("textPath",{xlinkHref:"#".concat(R)},r))},Bxe=(e,t,r)=>{var{cx:n,cy:a,innerRadius:i,outerRadius:l,startAngle:o,endAngle:f}=e,u=(o+f)/2;if(r==="outside"){var{x:h,y:p}=ai(n,a,l+t,u);return{x:h,y:p,textAnchor:h>=n?"start":"end",verticalAnchor:"middle"}}if(r==="center")return{x:n,y:a,textAnchor:"middle",verticalAnchor:"middle"};if(r==="centerTop")return{x:n,y:a,textAnchor:"middle",verticalAnchor:"start"};if(r==="centerBottom")return{x:n,y:a,textAnchor:"middle",verticalAnchor:"end"};var g=(i+l)/2,{x,y:b}=ai(n,a,g,u);return{x,y:b,textAnchor:"middle",verticalAnchor:"middle"}},xI=e=>"cx"in e&&Kt(e.cx),Uxe=(e,t)=>{var{parentViewBox:r,offset:n,position:a}=e,i;r!=null&&!xI(r)&&(i=r);var{x:l,y:o,width:f,height:u}=t,h=u>=0?1:-1,p=h*n,g=h>0?"end":"start",x=h>0?"start":"end",b=f>=0?1:-1,y=b*n,w=b>0?"end":"start",_=b>0?"start":"end";if(a==="top"){var E={x:l+f/2,y:o-h*n,textAnchor:"middle",verticalAnchor:g};return Ha(Ha({},E),i?{height:Math.max(o-i.y,0),width:f}:{})}if(a==="bottom"){var A={x:l+f/2,y:o+u+p,textAnchor:"middle",verticalAnchor:x};return Ha(Ha({},A),i?{height:Math.max(i.y+i.height-(o+u),0),width:f}:{})}if(a==="left"){var O={x:l-y,y:o+u/2,textAnchor:w,verticalAnchor:"middle"};return Ha(Ha({},O),i?{width:Math.max(O.x-i.x,0),height:u}:{})}if(a==="right"){var D={x:l+f+y,y:o+u/2,textAnchor:_,verticalAnchor:"middle"};return Ha(Ha({},D),i?{width:Math.max(i.x+i.width-D.x,0),height:u}:{})}var R=i?{width:f,height:u}:{};return a==="insideLeft"?Ha({x:l+y,y:o+u/2,textAnchor:_,verticalAnchor:"middle"},R):a==="insideRight"?Ha({x:l+f-y,y:o+u/2,textAnchor:w,verticalAnchor:"middle"},R):a==="insideTop"?Ha({x:l+f/2,y:o+p,textAnchor:"middle",verticalAnchor:x},R):a==="insideBottom"?Ha({x:l+f/2,y:o+u-p,textAnchor:"middle",verticalAnchor:g},R):a==="insideTopLeft"?Ha({x:l+y,y:o+p,textAnchor:_,verticalAnchor:x},R):a==="insideTopRight"?Ha({x:l+f-y,y:o+p,textAnchor:w,verticalAnchor:x},R):a==="insideBottomLeft"?Ha({x:l+y,y:o+u-p,textAnchor:_,verticalAnchor:g},R):a==="insideBottomRight"?Ha({x:l+f-y,y:o+u-p,textAnchor:w,verticalAnchor:g},R):a&&typeof a=="object"&&(Kt(a.x)||hf(a.x))&&(Kt(a.y)||hf(a.y))?Ha({x:l+As(a.x,f),y:o+As(a.y,u),textAnchor:"end",verticalAnchor:"end"},R):Ha({x:l+f/2,y:o+u/2,textAnchor:"middle",verticalAnchor:"middle"},R)},zxe={offset:5};function xd(e){var t=ls(e,zxe),{viewBox:r,position:n,value:a,children:i,content:l,className:o="",textBreakAll:f,labelRef:u}=t,h=Lxe(),p=pI(),g=n==="center"?p:h??p,x=r||g;if(!x||ma(a)&&ma(i)&&!C.isValidElement(l)&&typeof l!="function")return null;var b=Ha(Ha({},t),{},{viewBox:x});if(C.isValidElement(l)){var{labelRef:y}=b,w=kxe(b,Exe);return C.cloneElement(l,w)}var _;if(typeof l=="function"){if(_=C.createElement(l,b),C.isValidElement(_))return _}else _=Mxe(t);var E=xI(x),A=tl(t);if(E&&(n==="insideStart"||n==="insideEnd"||n==="end"))return Ixe(t,n,_,A,x);var O=E?Bxe(x,t.offset,t.position):Uxe(t,x);return C.createElement(G2,Yu({ref:u,className:nn("recharts-label",o)},A,O,{breakAll:f}),_)}xd.displayName="Label";var qxe=(e,t,r)=>{if(!e)return null;var n={viewBox:t,labelRef:r};return e===!0?C.createElement(xd,Yu({key:"label-implicit"},n)):uu(e)?C.createElement(xd,Yu({key:"label-implicit",value:e},n)):C.isValidElement(e)?e.type===xd?C.cloneElement(e,Ha({key:"label-implicit"},n)):C.createElement(xd,Yu({key:"label-implicit",content:e},n)):dj(e)?C.createElement(xd,Yu({key:"label-implicit",content:e},n)):e&&typeof e=="object"?C.createElement(xd,Yu({},e,{key:"label-implicit"},n)):null};function $xe(e){var{label:t,labelRef:r}=e,n=pI();return qxe(t,n,r)||null}var t4={},r4={},iO;function Hxe(){return iO||(iO=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){return r[r.length-1]}e.last=t})(r4)),r4}var n4={},sO;function Vxe(){return sO||(sO=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){return Array.isArray(r)?r:Array.from(r)}e.toArray=t})(n4)),n4}var lO;function Wxe(){return lO||(lO=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=Hxe(),r=Vxe(),n=H3();function a(i){if(n.isArrayLike(i))return t.last(r.toArray(i))}e.last=a})(t4)),t4}var a4,oO;function Gxe(){return oO||(oO=1,a4=Wxe().last),a4}var Kxe=Gxe();const Yxe=yf(Kxe);var Xxe=["valueAccessor"],Qxe=["dataKey","clockWise","id","textBreakAll"];function Ry(){return Ry=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Ry.apply(null,arguments)}function cO(e,t){if(e==null)return{};var r,n,a=Zxe(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}function Zxe(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}var Jxe=e=>Array.isArray(e.value)?Yxe(e.value):e.value,gI=C.createContext(void 0),vI=gI.Provider,yI=C.createContext(void 0),ege=yI.Provider;function tge(){return C.useContext(gI)}function rge(){return C.useContext(yI)}function Fv(e){var{valueAccessor:t=Jxe}=e,r=cO(e,Xxe),{dataKey:n,clockWise:a,id:i,textBreakAll:l}=r,o=cO(r,Qxe),f=tge(),u=rge(),h=f||u;return!h||!h.length?null:C.createElement(ss,{className:"recharts-label-list"},h.map((p,g)=>{var x,b=ma(n)?t(p,g):$n(p&&p.payload,n),y=ma(i)?{}:{id:"".concat(i,"-").concat(g)};return C.createElement(xd,Ry({key:"label-".concat(g)},tl(p),o,y,{fill:(x=r.fill)!==null&&x!==void 0?x:p.fill,parentViewBox:p.parentViewBox,value:b,textBreakAll:l,viewBox:p.viewBox,index:g}))}))}Fv.displayName="LabelList";function hj(e){var{label:t}=e;return t?t===!0?C.createElement(Fv,{key:"labelList-implicit"}):C.isValidElement(t)||dj(t)?C.createElement(Fv,{key:"labelList-implicit",content:t}):typeof t=="object"?C.createElement(Fv,Ry({key:"labelList-implicit"},t,{type:String(t.type)})):null:null}function X_(){return X_=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},X_.apply(null,arguments)}var bI=e=>{var{cx:t,cy:r,r:n,className:a}=e,i=nn("recharts-dot",a);return t===+t&&r===+r&&n===+n?C.createElement("circle",X_({},ro(e),z3(e),{className:i,cx:t,cy:r,r:n})):null},wI=e=>e.graphicalItems.polarItems,nge=He([xa,Ug],RS),K2=He([wI,ja,nge],IS),age=He([K2],BS),Y2=He([age,AS],US),ige=He([Y2,ja,K2],qS);He([Y2,ja,K2],(e,t,r)=>r.length>0?e.flatMap(n=>r.flatMap(a=>{var i,l=$n(n,(i=t.dataKey)!==null&&i!==void 0?i:a.dataKey);return{value:l,errorDomain:[]}})).filter(Boolean):t?.dataKey!=null?e.map(n=>({value:$n(n,t.dataKey),errorDomain:[]})):e.map(n=>({value:n,errorDomain:[]})));var uO=()=>{},sge=He([Y2,ja,K2,$2,xa],WS),lge=He([ja,HS,VS,uO,sge,uO,Wr,xa],GS),_I=He([ja,Wr,Y2,ige,Bg,xa,lge],KS),oge=He([_I,ja,mp],QS);He([ja,_I,oge,xa],JS);var cge={radiusAxis:{},angleAxis:{}},NI=io({name:"polarAxis",initialState:cge,reducers:{addRadiusAxis(e,t){e.radiusAxis[t.payload.id]=t.payload},removeRadiusAxis(e,t){delete e.radiusAxis[t.payload.id]},addAngleAxis(e,t){e.angleAxis[t.payload.id]=t.payload},removeAngleAxis(e,t){delete e.angleAxis[t.payload.id]}}}),{addRadiusAxis:ONe,removeRadiusAxis:DNe,addAngleAxis:PNe,removeAngleAxis:FNe}=NI.actions,uge=NI.reducer;function fO(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function dO(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?fO(Object(r),!0).forEach(function(n){fge(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):fO(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function fge(e,t,r){return(t=dge(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function dge(e){var t=hge(e,"string");return typeof t=="symbol"?t:t+""}function hge(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var mge=(e,t)=>t,mj=He([wI,mge],(e,t)=>e.filter(r=>r.type==="pie").find(r=>r.id===t)),pge=[],pj=(e,t,r)=>r?.length===0?pge:r,SI=He([AS,mj,pj],(e,t,r)=>{var{chartData:n}=e;if(t!=null){var a;if(t?.data!=null&&t.data.length>0?a=t.data:a=n,(!a||!a.length)&&r!=null&&(a=r.map(i=>dO(dO({},t.presentationProps),i.props))),a!=null)return a}}),xge=He([SI,mj,pj],(e,t,r)=>{if(!(e==null||t==null))return e.map((n,a)=>{var i,l=$n(n,t.nameKey,t.name),o;return r!=null&&(i=r[a])!==null&&i!==void 0&&(i=i.props)!==null&&i!==void 0&&i.fill?o=r[a].props.fill:typeof n=="object"&&n!=null&&"fill"in n?o=n.fill:o=t.fill,{value:lp(l,t.dataKey),color:o,payload:n,type:t.legendType}})}),gge=He([SI,mj,pj,Si],(e,t,r,n)=>{if(!(t==null||e==null))return g1e({offset:n,pieSettings:t,displayedData:e,cells:r})}),i4={exports:{}},On={};/**
 * @license React
 * react-is.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var hO;function vge(){if(hO)return On;hO=1;var e=Symbol.for("react.transitional.element"),t=Symbol.for("react.portal"),r=Symbol.for("react.fragment"),n=Symbol.for("react.strict_mode"),a=Symbol.for("react.profiler"),i=Symbol.for("react.consumer"),l=Symbol.for("react.context"),o=Symbol.for("react.forward_ref"),f=Symbol.for("react.suspense"),u=Symbol.for("react.suspense_list"),h=Symbol.for("react.memo"),p=Symbol.for("react.lazy"),g=Symbol.for("react.view_transition"),x=Symbol.for("react.client.reference");function b(y){if(typeof y=="object"&&y!==null){var w=y.$$typeof;switch(w){case e:switch(y=y.type,y){case r:case a:case n:case f:case u:case g:return y;default:switch(y=y&&y.$$typeof,y){case l:case o:case p:case h:return y;case i:return y;default:return w}}case t:return w}}}return On.ContextConsumer=i,On.ContextProvider=l,On.Element=e,On.ForwardRef=o,On.Fragment=r,On.Lazy=p,On.Memo=h,On.Portal=t,On.Profiler=a,On.StrictMode=n,On.Suspense=f,On.SuspenseList=u,On.isContextConsumer=function(y){return b(y)===i},On.isContextProvider=function(y){return b(y)===l},On.isElement=function(y){return typeof y=="object"&&y!==null&&y.$$typeof===e},On.isForwardRef=function(y){return b(y)===o},On.isFragment=function(y){return b(y)===r},On.isLazy=function(y){return b(y)===p},On.isMemo=function(y){return b(y)===h},On.isPortal=function(y){return b(y)===t},On.isProfiler=function(y){return b(y)===a},On.isStrictMode=function(y){return b(y)===n},On.isSuspense=function(y){return b(y)===f},On.isSuspenseList=function(y){return b(y)===u},On.isValidElementType=function(y){return typeof y=="string"||typeof y=="function"||y===r||y===a||y===n||y===f||y===u||typeof y=="object"&&y!==null&&(y.$$typeof===p||y.$$typeof===h||y.$$typeof===l||y.$$typeof===i||y.$$typeof===o||y.$$typeof===x||y.getModuleId!==void 0)},On.typeOf=b,On}var mO;function yge(){return mO||(mO=1,i4.exports=vge()),i4.exports}var bge=yge(),pO=e=>typeof e=="string"?e:e?e.displayName||e.name||"Component":"",xO=null,s4=null,jI=e=>{if(e===xO&&Array.isArray(s4))return s4;var t=[];return C.Children.forEach(e,r=>{ma(r)||(bge.isFragment(r)?t=t.concat(jI(r.props.children)):t.push(r))}),s4=t,xO=e,t};function xj(e,t){var r=[],n=[];return Array.isArray(t)?n=t.map(a=>pO(a)):n=[pO(t)],jI(e).forEach(a=>{var i=Q0(a,"type.displayName")||Q0(a,"type.name");n.indexOf(i)!==-1&&r.push(a)}),r}var AI=e=>e&&typeof e=="object"&&"clipDot"in e?!!e.clipDot:!0,l4={},gO;function wge(){return gO||(gO=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){if(typeof r!="object"||r==null)return!1;if(Object.getPrototypeOf(r)===null)return!0;if(Object.prototype.toString.call(r)!=="[object Object]"){const a=r[Symbol.toStringTag];return a==null||!Object.getOwnPropertyDescriptor(r,Symbol.toStringTag)?.writable?!1:r.toString()===`[object ${a}]`}let n=r;for(;Object.getPrototypeOf(n)!==null;)n=Object.getPrototypeOf(n);return Object.getPrototypeOf(r)===n}e.isPlainObject=t})(l4)),l4}var o4,vO;function _ge(){return vO||(vO=1,o4=wge().isPlainObject),o4}var Nge=_ge();const Sge=yf(Nge);function yO(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function bO(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?yO(Object(r),!0).forEach(function(n){jge(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):yO(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function jge(e,t,r){return(t=Age(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Age(e){var t=Ege(e,"string");return typeof t=="symbol"?t:t+""}function Ege(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Iy(){return Iy=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Iy.apply(null,arguments)}var wO=(e,t,r,n,a)=>{var i=r-n,l;return l="M ".concat(e,",").concat(t),l+="L ".concat(e+r,",").concat(t),l+="L ".concat(e+r-i/2,",").concat(t+a),l+="L ".concat(e+r-i/2-n,",").concat(t+a),l+="L ".concat(e,",").concat(t," Z"),l},kge={x:0,y:0,upperWidth:0,lowerWidth:0,height:0,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},Cge=e=>{var t=ls(e,kge),{x:r,y:n,upperWidth:a,lowerWidth:i,height:l,className:o}=t,{animationEasing:f,animationDuration:u,animationBegin:h,isUpdateAnimationActive:p}=t,g=C.useRef(null),[x,b]=C.useState(-1),y=C.useRef(a),w=C.useRef(i),_=C.useRef(l),E=C.useRef(r),A=C.useRef(n),O=Fg(e,"trapezoid-");if(C.useEffect(()=>{if(g.current&&g.current.getTotalLength)try{var J=g.current.getTotalLength();J&&b(J)}catch{}},[]),r!==+r||n!==+n||a!==+a||i!==+i||l!==+l||a===0&&i===0||l===0)return null;var D=nn("recharts-trapezoid",o);if(!p)return C.createElement("g",null,C.createElement("path",Iy({},tl(t),{className:D,d:wO(r,n,a,i,l)})));var R=y.current,P=w.current,T=_.current,B=E.current,G=A.current,I="0px ".concat(x===-1?1:x,"px"),z="".concat(x,"px 0px"),K=YM(["strokeDasharray"],u,f);return C.createElement(Pg,{animationId:O,key:O,canBegin:x>0,duration:u,easing:f,isActive:p,begin:h},J=>{var pe=La(R,a,J),ne=La(P,i,J),le=La(T,l,J),ve=La(B,r,J),ue=La(G,n,J);g.current&&(y.current=pe,w.current=ne,_.current=le,E.current=ve,A.current=ue);var je=J>0?{transition:K,strokeDasharray:z}:{strokeDasharray:I};return C.createElement("path",Iy({},tl(t),{className:D,d:wO(ve,ue,pe,ne,le),ref:g,style:bO(bO({},je),t.style)}))})},Tge=["option","shapeType","propTransformer","activeClassName","isActive"];function Oge(e,t){if(e==null)return{};var r,n,a=Dge(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}function Dge(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}function _O(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function By(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?_O(Object(r),!0).forEach(function(n){Pge(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):_O(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Pge(e,t,r){return(t=Fge(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Fge(e){var t=Lge(e,"string");return typeof t=="symbol"?t:t+""}function Lge(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Mge(e,t){return By(By({},t),e)}function Rge(e,t){return e==="symbols"}function NO(e){var{shapeType:t,elementProps:r}=e;switch(t){case"rectangle":return C.createElement(JM,r);case"trapezoid":return C.createElement(Cge,r);case"sector":return C.createElement(rR,r);case"symbols":if(Rge(t))return C.createElement(U3,r);break;default:return null}}function Ige(e){return C.isValidElement(e)?e.props:e}function EI(e){var{option:t,shapeType:r,propTransformer:n=Mge,activeClassName:a="recharts-active-shape",isActive:i}=e,l=Oge(e,Tge),o;if(C.isValidElement(t))o=C.cloneElement(t,By(By({},l),Ige(t)));else if(typeof t=="function")o=t(l);else if(Sge(t)&&typeof t!="boolean"){var f=n(t,l);o=C.createElement(NO,{shapeType:r,elementProps:f})}else{var u=l;o=C.createElement(NO,{shapeType:r,elementProps:u})}return i?C.createElement(ss,{className:a},o):o}var gj=(e,t)=>{var r=pa();return(n,a)=>i=>{e?.(n,a,i),r(I9({activeIndex:String(a),activeDataKey:t,activeCoordinate:n.tooltipPosition}))}},vj=e=>{var t=pa();return(r,n)=>a=>{e?.(r,n,a),t(Ame())}},yj=(e,t)=>{var r=pa();return(n,a)=>i=>{e?.(n,a,i),r(Eme({activeIndex:String(a),activeDataKey:t,activeCoordinate:n.tooltipPosition}))}};function bj(e){var{fn:t,args:r}=e,n=pa(),a=nl();return C.useLayoutEffect(()=>{if(!a){var i=t(r);return n(Nme(i)),()=>{n(Sme(i))}}},[t,r,n,a]),null}var kI=()=>{};function CI(e){var{legendPayload:t}=e,r=pa(),n=nl();return C.useLayoutEffect(()=>n?kI:(r(WM(t)),()=>{r(GM(t))}),[r,n,t]),null}function Bge(e){var{legendPayload:t}=e,r=pa(),n=Bt(Wr);return C.useLayoutEffect(()=>n!=="centric"&&n!=="radial"?kI:(r(WM(t)),()=>{r(GM(t))}),[r,n,t]),null}var c4,Uge=()=>{var[e]=C.useState(()=>Zx("uid-"));return e},zge=(c4=Tz.useId)!==null&&c4!==void 0?c4:Uge;function qge(e,t){var r=zge();return t||(e?"".concat(e,"-").concat(r):r)}var $ge=C.createContext(void 0),wj=e=>{var{id:t,type:r,children:n}=e,a=qge("recharts-".concat(r),t);return C.createElement($ge.Provider,{value:a},n(a))},Hge={cartesianItems:[],polarItems:[]},TI=io({name:"graphicalItems",initialState:Hge,reducers:{addCartesianGraphicalItem:{reducer(e,t){e.cartesianItems.push(t.payload)},prepare:Ws()},replaceCartesianGraphicalItem:{reducer(e,t){var{prev:r,next:n}=t.payload,a=sf(e).cartesianItems.indexOf(r);a>-1&&(e.cartesianItems[a]=n)},prepare:Ws()},removeCartesianGraphicalItem:{reducer(e,t){var r=sf(e).cartesianItems.indexOf(t.payload);r>-1&&e.cartesianItems.splice(r,1)},prepare:Ws()},addPolarGraphicalItem:{reducer(e,t){e.polarItems.push(t.payload)},prepare:Ws()},removePolarGraphicalItem:{reducer(e,t){var r=sf(e).polarItems.indexOf(t.payload);r>-1&&e.polarItems.splice(r,1)},prepare:Ws()}}}),{addCartesianGraphicalItem:Vge,replaceCartesianGraphicalItem:Wge,removeCartesianGraphicalItem:Gge,addPolarGraphicalItem:Kge,removePolarGraphicalItem:Yge}=TI.actions,Xge=TI.reducer;function OI(e){var t=pa(),r=C.useRef(null);return C.useLayoutEffect(()=>{r.current===null?t(Vge(e)):r.current!==e&&t(Wge({prev:r.current,next:e})),r.current=e},[t,e]),C.useLayoutEffect(()=>()=>{r.current&&(t(Gge(r.current)),r.current=null)},[t]),null}function Qge(e){var t=pa();return C.useLayoutEffect(()=>(t(Kge(e)),()=>{t(Yge(e))}),[t,e]),null}var Zge=["onMouseEnter","onClick","onMouseLeave"],Jge=["id"],e1e=["id"];function _j(e,t){if(e==null)return{};var r,n,a=t1e(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}function t1e(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}function SO(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function oa(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?SO(Object(r),!0).forEach(function(n){r1e(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):SO(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function r1e(e,t,r){return(t=n1e(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function n1e(e){var t=a1e(e,"string");return typeof t=="symbol"?t:t+""}function a1e(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Dd(){return Dd=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Dd.apply(null,arguments)}function i1e(e){var t=C.useMemo(()=>xj(e.children,Wg),[e.children]),r=Bt(n=>xge(n,e.id,t));return r==null?null:C.createElement(Bge,{legendPayload:r})}function s1e(e){var{dataKey:t,nameKey:r,sectors:n,stroke:a,strokeWidth:i,fill:l,name:o,hide:f,tooltipType:u}=e;return{dataDefinedOnItem:n.map(h=>h.tooltipPayload),positions:n.map(h=>h.tooltipPosition),settings:{stroke:a,strokeWidth:i,fill:l,dataKey:t,nameKey:r,name:lp(o,t),hide:f,type:u,color:l,unit:""}}}var l1e=(e,t)=>e>t?"start":e<t?"end":"middle",o1e=(e,t,r)=>As(typeof t=="function"?t(e):t,r,r*.8),c1e=(e,t,r)=>{var{top:n,left:a,width:i,height:l}=t,o=FM(i,l),f=a+As(e.cx,i,i/2),u=n+As(e.cy,l,l/2),h=As(e.innerRadius,o,0),p=o1e(r,e.outerRadius,o),g=e.maxRadius||Math.sqrt(i*i+l*l)/2;return{cx:f,cy:u,innerRadius:h,outerRadius:p,maxRadius:g}},u1e=(e,t)=>{var r=Ui(t-e),n=Math.min(Math.abs(t-e),360);return r*n};function f1e(e){return e&&typeof e=="object"&&"className"in e&&typeof e.className=="string"?e.className:""}var d1e=(e,t)=>{if(C.isValidElement(e))return C.cloneElement(e,t);if(typeof e=="function")return e(t);var r=nn("recharts-pie-label-line",typeof e!="boolean"?e.className:"");return C.createElement(rS,Dd({},t,{type:"linear",className:r}))},h1e=(e,t,r)=>{if(C.isValidElement(e))return C.cloneElement(e,t);var n=r;if(typeof e=="function"&&(n=e(t),C.isValidElement(n)))return n;var a=nn("recharts-pie-label-text",f1e(e));return C.createElement(G2,Dd({},t,{alignmentBaseline:"middle",className:a}),n)};function m1e(e){var{sectors:t,props:r,showLabels:n}=e,{label:a,labelLine:i,dataKey:l}=r;if(!n||!a||!t)return null;var o=ro(r),f=X0(a),u=X0(i),h=typeof a=="object"&&"offsetRadius"in a&&typeof a.offsetRadius=="number"&&a.offsetRadius||20,p=t.map((g,x)=>{var b=(g.startAngle+g.endAngle)/2,y=ai(g.cx,g.cy,g.outerRadius+h,b),w=oa(oa(oa(oa({},o),g),{},{stroke:"none"},f),{},{index:x,textAnchor:l1e(y.x,g.cx)},y),_=oa(oa(oa(oa({},o),g),{},{fill:"none",stroke:g.fill},u),{},{index:x,points:[ai(g.cx,g.cy,g.outerRadius,b),y],key:"line"});return C.createElement(ss,{key:"label-".concat(g.startAngle,"-").concat(g.endAngle,"-").concat(g.midAngle,"-").concat(x)},i&&d1e(i,_),h1e(a,w,$n(g,l)))});return C.createElement(ss,{className:"recharts-pie-labels"},p)}function p1e(e){var{sectors:t,props:r,showLabels:n}=e,{label:a}=r;return typeof a=="object"&&a!=null&&"position"in a?C.createElement(hj,{label:a}):C.createElement(m1e,{sectors:t,props:r,showLabels:n})}function x1e(e){var{sectors:t,activeShape:r,inactiveShape:n,allOtherPieProps:a}=e,i=Bt(Od),{onMouseEnter:l,onClick:o,onMouseLeave:f}=a,u=_j(a,Zge),h=gj(l,a.dataKey),p=vj(f),g=yj(o,a.dataKey);return t==null||t.length===0?null:C.createElement(C.Fragment,null,t.map((x,b)=>{if(x?.startAngle===0&&x?.endAngle===0&&t.length!==1)return null;var y=r&&String(b)===i,w=i?n:null,_=y?r:w,E=oa(oa({},x),{},{stroke:x.stroke,tabIndex:-1,[BM]:b,[UM]:a.dataKey});return C.createElement(ss,Dd({key:"sector-".concat(x?.startAngle,"-").concat(x?.endAngle,"-").concat(x.midAngle,"-").concat(b),tabIndex:-1,className:"recharts-pie-sector"},Cg(u,x,b),{onMouseEnter:h(x,b),onMouseLeave:p(x,b),onClick:g(x,b)}),C.createElement(EI,Dd({option:_,isActive:y,shapeType:"sector"},E)))}))}function g1e(e){var t,{pieSettings:r,displayedData:n,cells:a,offset:i}=e,{cornerRadius:l,startAngle:o,endAngle:f,dataKey:u,nameKey:h,tooltipType:p}=r,g=Math.abs(r.minAngle),x=u1e(o,f),b=Math.abs(x),y=n.length<=1?0:(t=r.paddingAngle)!==null&&t!==void 0?t:0,w=n.filter(R=>$n(R,u,0)!==0).length,_=(b>=360?w:w-1)*y,E=b-w*g-_,A=n.reduce((R,P)=>{var T=$n(P,u,0);return R+(Kt(T)?T:0)},0),O;if(A>0){var D;O=n.map((R,P)=>{var T=$n(R,u,0),B=$n(R,h,P),G=c1e(r,i,R),I=(Kt(T)?T:0)/A,z,K=oa(oa({},R),a&&a[P]&&a[P].props);P?z=D.endAngle+Ui(x)*y*(T!==0?1:0):z=o;var J=z+Ui(x)*((T!==0?g:0)+I*E),pe=(z+J)/2,ne=(G.innerRadius+G.outerRadius)/2,le=[{name:B,value:T,payload:K,dataKey:u,type:p}],ve=ai(G.cx,G.cy,ne,pe);return D=oa(oa(oa(oa({},r.presentationProps),{},{percent:I,cornerRadius:l,name:B,tooltipPayload:le,midAngle:pe,middleRadius:ne,tooltipPosition:ve},K),G),{},{value:T,startAngle:z,endAngle:J,payload:K,paddingAngle:Ui(x)*y}),D})}return O}function v1e(e){var{showLabels:t,sectors:r,children:n}=e,a=C.useMemo(()=>!t||!r?[]:r.map(i=>({value:i.value,payload:i.payload,clockWise:!1,parentViewBox:void 0,viewBox:{cx:i.cx,cy:i.cy,innerRadius:i.innerRadius,outerRadius:i.outerRadius,startAngle:i.startAngle,endAngle:i.endAngle,clockWise:!1},fill:i.fill})),[r,t]);return C.createElement(ege,{value:t?a:void 0},n)}function y1e(e){var{props:t,previousSectorsRef:r}=e,{sectors:n,isAnimationActive:a,animationBegin:i,animationDuration:l,animationEasing:o,activeShape:f,inactiveShape:u,onAnimationStart:h,onAnimationEnd:p}=t,g=Fg(t,"recharts-pie-"),x=r.current,[b,y]=C.useState(!1),w=C.useCallback(()=>{typeof p=="function"&&p(),y(!1)},[p]),_=C.useCallback(()=>{typeof h=="function"&&h(),y(!0)},[h]);return C.createElement(v1e,{showLabels:!b,sectors:n},C.createElement(Pg,{animationId:g,begin:i,duration:l,isActive:a,easing:o,onAnimationStart:_,onAnimationEnd:w,key:g},E=>{var A=[],O=n&&n[0],D=O?.startAngle;return n?.forEach((R,P)=>{var T=x&&x[P],B=P>0?Q0(R,"paddingAngle",0):0;if(T){var G=La(T.endAngle-T.startAngle,R.endAngle-R.startAngle,E),I=oa(oa({},R),{},{startAngle:D+B,endAngle:D+G+B});A.push(I),D=I.endAngle}else{var{endAngle:z,startAngle:K}=R,J=La(0,z-K,E),pe=oa(oa({},R),{},{startAngle:D+B,endAngle:D+J+B});A.push(pe),D=pe.endAngle}}),r.current=A,C.createElement(ss,null,C.createElement(x1e,{sectors:A,activeShape:f,inactiveShape:u,allOtherPieProps:t}))}),C.createElement(p1e,{showLabels:!b,sectors:n,props:t}),t.children)}var b1e={animationBegin:400,animationDuration:1500,animationEasing:"ease",cx:"50%",cy:"50%",dataKey:"value",endAngle:360,fill:"#808080",hide:!1,innerRadius:0,isAnimationActive:!$d.isSsr,labelLine:!0,legendType:"rect",minAngle:0,nameKey:"name",outerRadius:"80%",paddingAngle:0,rootTabIndex:0,startAngle:0,stroke:"#fff"};function w1e(e){var{id:t}=e,r=_j(e,Jge),{hide:n,className:a,rootTabIndex:i}=e,l=C.useMemo(()=>xj(e.children,Wg),[e.children]),o=Bt(h=>gge(h,t,l)),f=C.useRef(null),u=nn("recharts-pie",a);return n||o==null?(f.current=null,C.createElement(ss,{tabIndex:i,className:u})):C.createElement(C.Fragment,null,C.createElement(bj,{fn:s1e,args:oa(oa({},e),{},{sectors:o})}),C.createElement(ss,{tabIndex:i,className:u},C.createElement(y1e,{props:oa(oa({},r),{},{sectors:o}),previousSectorsRef:f})))}function DI(e){var t=ls(e,b1e),{id:r}=t,n=_j(t,e1e),a=ro(n);return C.createElement(wj,{id:r,type:"pie"},i=>C.createElement(C.Fragment,null,C.createElement(Qge,{type:"pie",id:i,data:n.data,dataKey:n.dataKey,hide:n.hide,angleAxisId:0,radiusAxisId:0,name:n.name,nameKey:n.nameKey,tooltipType:n.tooltipType,legendType:n.legendType,fill:n.fill,cx:n.cx,cy:n.cy,startAngle:n.startAngle,endAngle:n.endAngle,paddingAngle:n.paddingAngle,minAngle:n.minAngle,innerRadius:n.innerRadius,outerRadius:n.outerRadius,cornerRadius:n.cornerRadius,presentationProps:a,maxRadius:t.maxRadius}),C.createElement(i1e,Dd({},n,{id:i})),C.createElement(w1e,Dd({},n,{id:i}))))}DI.displayName="Pie";function jO(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function AO(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?jO(Object(r),!0).forEach(function(n){_1e(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):jO(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function _1e(e,t,r){return(t=N1e(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function N1e(e){var t=S1e(e,"string");return typeof t=="symbol"?t:t+""}function S1e(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var j1e={xAxis:{},yAxis:{},zAxis:{}},PI=io({name:"cartesianAxis",initialState:j1e,reducers:{addXAxis:{reducer(e,t){e.xAxis[t.payload.id]=t.payload},prepare:Ws()},removeXAxis:{reducer(e,t){delete e.xAxis[t.payload.id]},prepare:Ws()},addYAxis:{reducer(e,t){e.yAxis[t.payload.id]=t.payload},prepare:Ws()},removeYAxis:{reducer(e,t){delete e.yAxis[t.payload.id]},prepare:Ws()},addZAxis:{reducer(e,t){e.zAxis[t.payload.id]=t.payload},prepare:Ws()},removeZAxis:{reducer(e,t){delete e.zAxis[t.payload.id]},prepare:Ws()},updateYAxisWidth(e,t){var{id:r,width:n}=t.payload,a=e.yAxis[r];if(a){var i=a.widthHistory||[];if(i.length===3&&i[0]===i[2]&&n===i[1]&&n!==a.width&&Math.abs(n-i[0])<=1)return;var l=[...i,n].slice(-3);e.yAxis[r]=AO(AO({},e.yAxis[r]),{},{width:n,widthHistory:l})}}}}),{addXAxis:A1e,removeXAxis:E1e,addYAxis:k1e,removeYAxis:C1e,addZAxis:LNe,removeZAxis:MNe,updateYAxisWidth:T1e}=PI.actions,O1e=PI.reducer,D1e=He([Si],e=>{if(e)return{top:e.top,bottom:e.bottom,left:e.left,right:e.right}}),P1e=He([D1e,jf,Af],(e,t,r)=>{if(!(!e||t==null||r==null))return{x:e.left,y:e.top,width:Math.max(0,t-e.left-e.right),height:Math.max(0,r-e.top-e.bottom)}}),Nj=()=>Bt(P1e),F1e=()=>Bt(hpe);function EO(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function kO(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?EO(Object(r),!0).forEach(function(n){L1e(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):EO(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function L1e(e,t,r){return(t=M1e(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function M1e(e){var t=R1e(e,"string");return typeof t=="symbol"?t:t+""}function R1e(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var I1e=e=>{var{point:t,childIndex:r,mainColor:n,activeDot:a,dataKey:i}=e;if(a===!1||t.x==null||t.y==null)return null;var l=kO(kO({index:r,dataKey:i,cx:t.x,cy:t.y,r:4,fill:n??"none",strokeWidth:2,stroke:"#fff",payload:t.payload,value:t.value},X0(a)),z3(a)),o;return C.isValidElement(a)?o=C.cloneElement(a,l):typeof a=="function"?o=a(l):o=C.createElement(bI,l),C.createElement(ss,{className:"recharts-active-dot"},o)};function B1e(e){var{points:t,mainColor:r,activeDot:n,itemDataKey:a}=e,i=Bt(Od),l=F1e();if(t==null||l==null)return null;var o=t.find(f=>l.includes(f.payload));return ma(o)?null:I1e({point:o,childIndex:Number(i),mainColor:r,dataKey:a,activeDot:n})}var U1e="Invariant failed";function z1e(e,t){throw new Error(U1e)}var q1e=["x","y"];function Q_(){return Q_=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Q_.apply(null,arguments)}function CO(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function fx(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?CO(Object(r),!0).forEach(function(n){$1e(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):CO(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function $1e(e,t,r){return(t=H1e(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function H1e(e){var t=V1e(e,"string");return typeof t=="symbol"?t:t+""}function V1e(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function W1e(e,t){if(e==null)return{};var r,n,a=G1e(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}function G1e(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}function K1e(e,t){var{x:r,y:n}=e,a=W1e(e,q1e),i="".concat(r),l=parseInt(i,10),o="".concat(n),f=parseInt(o,10),u="".concat(t.height||a.height),h=parseInt(u,10),p="".concat(t.width||a.width),g=parseInt(p,10);return fx(fx(fx(fx(fx({},t),a),l?{x:l}:{}),f?{y:f}:{}),{},{height:h,width:g,name:t.name,radius:t.radius})}function Sj(e){return C.createElement(EI,Q_({shapeType:"rectangle",propTransformer:K1e,activeClassName:"recharts-active-bar"},e))}var Y1e=function(t){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;return(n,a)=>{if(Kt(t))return t;var i=Kt(n)||ma(n);return i?t(n,a):(i||z1e(),r)}},X1e={},FI=io({name:"errorBars",initialState:X1e,reducers:{addErrorBar:(e,t)=>{var{itemId:r,errorBar:n}=t.payload;e[r]||(e[r]=[]),e[r].push(n)},replaceErrorBar:(e,t)=>{var{itemId:r,prev:n,next:a}=t.payload;e[r]&&(e[r]=e[r].map(i=>i.dataKey===n.dataKey&&i.direction===n.direction?a:i))},removeErrorBar:(e,t)=>{var{itemId:r,errorBar:n}=t.payload;e[r]&&(e[r]=e[r].filter(a=>a.dataKey!==n.dataKey||a.direction!==n.direction))}}}),{addErrorBar:RNe,replaceErrorBar:INe,removeErrorBar:BNe}=FI.actions,Q1e=FI.reducer,Z1e=["children"];function J1e(e,t){if(e==null)return{};var r,n,a=eve(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}function eve(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}var tve={data:[],xAxisId:"xAxis-0",yAxisId:"yAxis-0",dataPointFormatter:()=>({x:0,y:0,value:0}),errorBarOffset:0},rve=C.createContext(tve);function LI(e){var{children:t}=e,r=J1e(e,Z1e);return C.createElement(rve.Provider,{value:r},t)}function jj(e,t){var r,n,a=Bt(u=>kf(u,e)),i=Bt(u=>Cf(u,t)),l=(r=a?.allowDataOverflow)!==null&&r!==void 0?r:Hl.allowDataOverflow,o=(n=i?.allowDataOverflow)!==null&&n!==void 0?n:Vl.allowDataOverflow,f=l||o;return{needClip:f,needClipX:l,needClipY:o}}function MI(e){var{xAxisId:t,yAxisId:r,clipPathId:n}=e,a=Nj(),{needClipX:i,needClipY:l,needClip:o}=jj(t,r);if(!o)return null;var{x:f,y:u,width:h,height:p}=a;return C.createElement("clipPath",{id:"clipPath-".concat(n)},C.createElement("rect",{x:i?f:f-h/2,y:l?u:u-p/2,width:i?h:h*2,height:l?p:p*2}))}var nve=["onMouseEnter","onMouseLeave","onClick"],ave=["value","background","tooltipPosition"],ive=["id"],sve=["onMouseEnter","onClick","onMouseLeave"];function Pd(){return Pd=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Pd.apply(null,arguments)}function TO(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function Gs(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?TO(Object(r),!0).forEach(function(n){lve(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):TO(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function lve(e,t,r){return(t=ove(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function ove(e){var t=cve(e,"string");return typeof t=="symbol"?t:t+""}function cve(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Uy(e,t){if(e==null)return{};var r,n,a=uve(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}function uve(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}var fve=e=>{var{dataKey:t,name:r,fill:n,legendType:a,hide:i}=e;return[{inactive:i,dataKey:t,type:a,color:n,value:lp(r,t),payload:e}]};function dve(e){var{dataKey:t,stroke:r,strokeWidth:n,fill:a,name:i,hide:l,unit:o}=e;return{dataDefinedOnItem:void 0,positions:void 0,settings:{stroke:r,strokeWidth:n,fill:a,dataKey:t,nameKey:void 0,name:lp(i,t),hide:l,type:e.tooltipType,color:e.fill,unit:o}}}function hve(e){var t=Bt(Od),{data:r,dataKey:n,background:a,allOtherBarProps:i}=e,{onMouseEnter:l,onMouseLeave:o,onClick:f}=i,u=Uy(i,nve),h=gj(l,n),p=vj(o),g=yj(f,n);if(!a||r==null)return null;var x=X0(a);return C.createElement(C.Fragment,null,r.map((b,y)=>{var{value:w,background:_,tooltipPosition:E}=b,A=Uy(b,ave);if(!_)return null;var O=h(b,y),D=p(b,y),R=g(b,y),P=Gs(Gs(Gs(Gs(Gs({option:a,isActive:String(y)===t},A),{},{fill:"#eee"},_),x),Cg(u,b,y)),{},{onMouseEnter:O,onMouseLeave:D,onClick:R,dataKey:n,index:y,className:"recharts-bar-background-rectangle"});return C.createElement(Sj,Pd({key:"background-bar-".concat(y)},P))}))}function mve(e){var{showLabels:t,children:r,rects:n}=e,a=n?.map(i=>{var l={x:i.x,y:i.y,width:i.width,height:i.height};return Gs(Gs({},l),{},{value:i.value,payload:i.payload,parentViewBox:i.parentViewBox,viewBox:l,fill:i.fill})});return C.createElement(vI,{value:t?a:void 0},r)}function pve(e){var{shape:t,activeBar:r,baseProps:n,entry:a,index:i,dataKey:l}=e,o=Bt(Od),f=Bt(J9),u=r&&String(i)===o&&(f==null||l===f),h=u?r:t;return C.createElement(Sj,Pd({},n,{name:String(n.name)},a,{isActive:u,option:h,index:i,dataKey:l}))}function xve(e){var{shape:t,baseProps:r,entry:n,index:a,dataKey:i}=e;return C.createElement(Sj,Pd({},r,{name:String(r.name)},n,{isActive:!1,option:t,index:a,dataKey:i}))}function gve(e){var{data:t,props:r}=e,n=ro(r),{id:a}=n,i=Uy(n,ive),{shape:l,dataKey:o,activeBar:f}=r,{onMouseEnter:u,onClick:h,onMouseLeave:p}=r,g=Uy(r,sve),x=gj(u,o),b=vj(p),y=yj(h,o);return t?C.createElement(C.Fragment,null,t.map((w,_)=>C.createElement(ss,Pd({key:"rectangle-".concat(w?.x,"-").concat(w?.y,"-").concat(w?.value,"-").concat(_),className:"recharts-bar-rectangle"},Cg(g,w,_),{onMouseEnter:x(w,_),onMouseLeave:b(w,_),onClick:y(w,_)}),f?C.createElement(pve,{shape:l,activeBar:f,baseProps:i,entry:w,index:_,dataKey:o}):C.createElement(xve,{shape:l,baseProps:i,entry:w,index:_,dataKey:o})))):null}function vve(e){var{props:t,previousRectanglesRef:r}=e,{data:n,layout:a,isAnimationActive:i,animationBegin:l,animationDuration:o,animationEasing:f,onAnimationEnd:u,onAnimationStart:h}=t,p=r.current,g=Fg(t,"recharts-bar-"),[x,b]=C.useState(!1),y=!x,w=C.useCallback(()=>{typeof u=="function"&&u(),b(!1)},[u]),_=C.useCallback(()=>{typeof h=="function"&&h(),b(!0)},[h]);return C.createElement(mve,{showLabels:y,rects:n},C.createElement(Pg,{animationId:g,begin:l,duration:o,isActive:i,easing:f,onAnimationEnd:w,onAnimationStart:_,key:g},E=>{var A=E===1?n:n?.map((O,D)=>{var R=p&&p[D];if(R)return Gs(Gs({},O),{},{x:La(R.x,O.x,E),y:La(R.y,O.y,E),width:La(R.width,O.width,E),height:La(R.height,O.height,E)});if(a==="horizontal"){var P=La(0,O.height,E);return Gs(Gs({},O),{},{y:O.y+O.height-P,height:P})}var T=La(0,O.width,E);return Gs(Gs({},O),{},{width:T})});return E>0&&(r.current=A??null),A==null?null:C.createElement(ss,null,C.createElement(gve,{props:t,data:A}))}),C.createElement(hj,{label:t.label}),t.children)}function yve(e){var t=C.useRef(null);return C.createElement(vve,{previousRectanglesRef:t,props:e})}var RI=0,bve=(e,t)=>{var r=Array.isArray(e.value)?e.value[1]:e.value;return{x:e.x,y:e.y,value:r,errorVal:$n(e,t)}};class wve extends C.PureComponent{render(){var{hide:t,data:r,dataKey:n,className:a,xAxisId:i,yAxisId:l,needClip:o,background:f,id:u}=this.props;if(t||r==null)return null;var h=nn("recharts-bar",a),p=u;return C.createElement(ss,{className:h,id:u},o&&C.createElement("defs",null,C.createElement(MI,{clipPathId:p,xAxisId:i,yAxisId:l})),C.createElement(ss,{className:"recharts-bar-rectangles",clipPath:o?"url(#clipPath-".concat(p,")"):void 0},C.createElement(hve,{data:r,dataKey:n,background:f,allOtherBarProps:this.props}),C.createElement(yve,this.props)))}}var _ve={activeBar:!1,animationBegin:0,animationDuration:400,animationEasing:"ease",hide:!1,isAnimationActive:!$d.isSsr,legendType:"rect",minPointSize:RI,xAxisId:0,yAxisId:0};function Nve(e){var{xAxisId:t,yAxisId:r,hide:n,legendType:a,minPointSize:i,activeBar:l,animationBegin:o,animationDuration:f,animationEasing:u,isAnimationActive:h}=e,{needClip:p}=jj(t,r),g=A2(),x=nl(),b=xj(e.children,Wg),y=Bt(E=>Qve(E,t,r,x,e.id,b));if(g!=="vertical"&&g!=="horizontal")return null;var w,_=y?.[0];return _==null||_.height==null||_.width==null?w=0:w=g==="vertical"?_.height/2:_.width/2,C.createElement(LI,{xAxisId:t,yAxisId:r,data:y,dataPointFormatter:bve,errorBarOffset:w},C.createElement(wve,Pd({},e,{layout:g,needClip:p,data:y,xAxisId:t,yAxisId:r,hide:n,legendType:a,minPointSize:i,activeBar:l,animationBegin:o,animationDuration:f,animationEasing:u,isAnimationActive:h})))}function Sve(e){var{layout:t,barSettings:{dataKey:r,minPointSize:n},pos:a,bandSize:i,xAxis:l,yAxis:o,xAxisTicks:f,yAxisTicks:u,stackedData:h,displayedData:p,offset:g,cells:x,parentViewBox:b}=e,y=t==="horizontal"?o:l,w=h?y.scale.domain():null,_=bce({numericAxis:y});return p.map((E,A)=>{var O,D,R,P,T,B;h?O=mce(h[A],w):(O=$n(E,r),Array.isArray(O)||(O=[_,O]));var G=Y1e(n,RI)(O[1],A);if(t==="horizontal"){var I,[z,K]=[o.scale(O[0]),o.scale(O[1])];D=cT({axis:l,ticks:f,bandSize:i,offset:a.offset,entry:E,index:A}),R=(I=K??z)!==null&&I!==void 0?I:void 0,P=a.size;var J=z-K;if(T=Uo(J)?0:J,B={x:D,y:g.top,width:P,height:g.height},Math.abs(G)>0&&Math.abs(T)<Math.abs(G)){var pe=Ui(T||G)*(Math.abs(G)-Math.abs(T));R-=pe,T+=pe}}else{var[ne,le]=[l.scale(O[0]),l.scale(O[1])];if(D=ne,R=cT({axis:o,ticks:u,bandSize:i,offset:a.offset,entry:E,index:A}),P=le-ne,T=a.size,B={x:g.left,y:R,width:g.width,height:T},Math.abs(G)>0&&Math.abs(P)<Math.abs(G)){var ve=Ui(P||G)*(Math.abs(G)-Math.abs(P));P+=ve}}if(D==null||R==null||P==null||T==null)return null;var ue=Gs(Gs({},E),{},{x:D,y:R,width:P,height:T,value:h?O:O[1],payload:E,background:B,tooltipPosition:{x:D+P/2,y:R+T/2},parentViewBox:b},x&&x[A]&&x[A].props);return ue}).filter(Boolean)}function jve(e){var t=ls(e,_ve),r=nl();return C.createElement(wj,{id:t.id,type:"bar"},n=>C.createElement(C.Fragment,null,C.createElement(CI,{legendPayload:fve(t)}),C.createElement(bj,{fn:dve,args:t}),C.createElement(OI,{type:"bar",id:n,data:void 0,xAxisId:t.xAxisId,yAxisId:t.yAxisId,zAxisId:0,dataKey:t.dataKey,stackId:yce(t.stackId),hide:t.hide,barSize:t.barSize,minPointSize:t.minPointSize,maxBarSize:t.maxBarSize,isPanorama:r}),C.createElement(Nve,Pd({},t,{id:n}))))}var Z_=C.memo(jve);Z_.displayName="Bar";function OO(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function gv(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?OO(Object(r),!0).forEach(function(n){Ave(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):OO(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Ave(e,t,r){return(t=Eve(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Eve(e){var t=kve(e,"string");return typeof t=="symbol"?t:t+""}function kve(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Cve=(e,t)=>t,Tve=(e,t,r)=>r,Ove=(e,t,r,n)=>n,Dve=(e,t,r,n,a)=>a,Gg=He([z2,Dve],(e,t)=>e.filter(r=>r.type==="bar").find(r=>r.id===t)),Pve=He([Gg],e=>e?.maxBarSize),Fve=(e,t,r,n,a,i)=>i,DO=(e,t,r)=>{var n=r??e;if(!ma(n))return As(n,t,0)},Lve=He([Wr,z2,Cve,Tve,Ove],(e,t,r,n,a)=>t.filter(i=>e==="horizontal"?i.xAxisId===r:i.yAxisId===n).filter(i=>i.isPanorama===a).filter(i=>i.hide===!1).filter(i=>i.type==="bar")),Mve=(e,t,r,n)=>{var a=Wr(e);return a==="horizontal"?H_(e,"yAxis",r,n):H_(e,"xAxis",t,n)},Rve=(e,t,r)=>{var n=Wr(e);return n==="horizontal"?P8(e,"xAxis",t):P8(e,"yAxis",r)},Ive=(e,t,r)=>{var n={},a=e.filter(I2),i=e.filter(u=>u.stackId==null),l=a.reduce((u,h)=>(u[h.stackId]||(u[h.stackId]=[]),u[h.stackId].push(h),u),n),o=Object.entries(l).map(u=>{var[h,p]=u,g=p.map(b=>b.dataKey),x=DO(t,r,p[0].barSize);return{stackId:h,dataKeys:g,barSize:x}}),f=i.map(u=>{var h=[u.dataKey].filter(g=>g!=null),p=DO(t,r,u.barSize);return{stackId:void 0,dataKeys:h,barSize:p}});return[...o,...f]},Bve=He([Lve,yhe,Rve],Ive),Uve=(e,t,r,n,a)=>{var i,l,o=Gg(e,t,r,n,a);if(o!=null){var f=Wr(e),u=JR(e),{maxBarSize:h}=o,p=ma(h)?u:h,g,x;return f==="horizontal"?(g=Td(e,"xAxis",t,n),x=Cd(e,"xAxis",t,n)):(g=Td(e,"yAxis",r,n),x=Cd(e,"yAxis",r,n)),(i=(l=rg(g,x,!0))!==null&&l!==void 0?l:p)!==null&&i!==void 0?i:0}},II=(e,t,r,n)=>{var a=Wr(e),i,l;return a==="horizontal"?(i=Td(e,"xAxis",t,n),l=Cd(e,"xAxis",t,n)):(i=Td(e,"yAxis",r,n),l=Cd(e,"yAxis",r,n)),rg(i,l)};function zve(e,t,r,n,a){var i=n.length;if(!(i<1)){var l=As(e,r,0,!0),o,f=[];if(Cs(n[0].barSize)){var u=!1,h=r/i,p=n.reduce((_,E)=>_+(E.barSize||0),0);p+=(i-1)*l,p>=r&&(p-=(i-1)*l,l=0),p>=r&&h>0&&(u=!0,h*=.9,p=i*h);var g=(r-p)/2>>0,x={offset:g-l,size:0};o=n.reduce((_,E)=>{var A,O={stackId:E.stackId,dataKeys:E.dataKeys,position:{offset:x.offset+x.size+l,size:u?h:(A=E.barSize)!==null&&A!==void 0?A:0}},D=[..._,O];return x=D[D.length-1].position,D},f)}else{var b=As(t,r,0,!0);r-2*b-(i-1)*l<=0&&(l=0);var y=(r-2*b-(i-1)*l)/i;y>1&&(y>>=0);var w=Cs(a)?Math.min(y,a):y;o=n.reduce((_,E,A)=>[..._,{stackId:E.stackId,dataKeys:E.dataKeys,position:{offset:b+(y+l)*A+(y-w)/2,size:w}}],f)}return o}}var qve=(e,t,r,n,a,i,l)=>{var o=ma(l)?t:l,f=zve(r,n,a!==i?a:i,e,o);return a!==i&&f!=null&&(f=f.map(u=>gv(gv({},u),{},{position:gv(gv({},u.position),{},{offset:u.position.offset-a/2})}))),f},$ve=He([Bve,JR,vhe,e9,Uve,II,Pve],qve),Hve=(e,t,r,n)=>Td(e,"xAxis",t,n),Vve=(e,t,r,n)=>Td(e,"yAxis",r,n),Wve=(e,t,r,n)=>Cd(e,"xAxis",t,n),Gve=(e,t,r,n)=>Cd(e,"yAxis",r,n),Kve=He([$ve,Gg],(e,t)=>{if(!(e==null||t==null)){var r=e.find(n=>n.stackId===t.stackId&&t.dataKey!=null&&n.dataKeys.includes(t.dataKey));if(r!=null)return r.position}}),Yve=(e,t)=>{var r=LS(t);if(!(!e||r==null||t==null)){var{stackId:n}=t;if(n!=null){var a=e[n];if(a){var{stackedData:i}=a;if(i)return i.find(l=>l.key===r)}}}},Xve=He([Mve,Gg],Yve),Qve=He([Si,Q3,Hve,Vve,Wve,Gve,Kve,Wr,F2,II,Xve,Gg,Fve],(e,t,r,n,a,i,l,o,f,u,h,p,g)=>{var{chartData:x,dataStartIndex:b,dataEndIndex:y}=f;if(!(p==null||l==null||t==null||o!=="horizontal"&&o!=="vertical"||r==null||n==null||a==null||i==null||u==null)){var{data:w}=p,_;if(w!=null&&w.length>0?_=w:_=x?.slice(b,y+1),_!=null)return Sve({layout:o,barSettings:p,pos:l,parentViewBox:t,bandSize:u,xAxis:r,yAxis:n,xAxisTicks:a,yAxisTicks:i,stackedData:h,displayedData:_,offset:e,cells:g})}}),BI=e=>{var{chartData:t}=e,r=pa(),n=nl();return C.useEffect(()=>n?()=>{}:(r($8(t)),()=>{r($8(void 0))}),[t,r,n]),null},PO={x:0,y:0,width:0,height:0,padding:{top:0,right:0,bottom:0,left:0}},UI=io({name:"brush",initialState:PO,reducers:{setBrushSettings(e,t){return t.payload==null?PO:t.payload}}}),{setBrushSettings:UNe}=UI.actions,Zve=UI.reducer;function Jve(e,t,r){return(t=eye(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function eye(e){var t=tye(e,"string");return typeof t=="symbol"?t:t+""}function tye(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}class Aj{static create(t){return new Aj(t)}constructor(t){this.scale=t}get domain(){return this.scale.domain}get range(){return this.scale.range}get rangeMin(){return this.range()[0]}get rangeMax(){return this.range()[1]}get bandwidth(){return this.scale.bandwidth}apply(t){var{bandAware:r,position:n}=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(t!==void 0){if(n)switch(n){case"start":return this.scale(t);case"middle":{var a=this.bandwidth?this.bandwidth()/2:0;return this.scale(t)+a}case"end":{var i=this.bandwidth?this.bandwidth():0;return this.scale(t)+i}default:return this.scale(t)}if(r){var l=this.bandwidth?this.bandwidth()/2:0;return this.scale(t)+l}return this.scale(t)}}isInRange(t){var r=this.range(),n=r[0],a=r[r.length-1];return n<=a?t>=n&&t<=a:t>=a&&t<=n}}Jve(Aj,"EPS",1e-4);function rye(e){return(e%180+180)%180}var nye=function(t){var{width:r,height:n}=t,a=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,i=rye(a),l=i*Math.PI/180,o=Math.atan(n/r),f=l>o&&l<Math.PI-o?n/Math.sin(l):r/Math.cos(l);return Math.abs(f)},aye={dots:[],areas:[],lines:[]},zI=io({name:"referenceElements",initialState:aye,reducers:{addDot:(e,t)=>{e.dots.push(t.payload)},removeDot:(e,t)=>{var r=sf(e).dots.findIndex(n=>n===t.payload);r!==-1&&e.dots.splice(r,1)},addArea:(e,t)=>{e.areas.push(t.payload)},removeArea:(e,t)=>{var r=sf(e).areas.findIndex(n=>n===t.payload);r!==-1&&e.areas.splice(r,1)},addLine:(e,t)=>{e.lines.push(t.payload)},removeLine:(e,t)=>{var r=sf(e).lines.findIndex(n=>n===t.payload);r!==-1&&e.lines.splice(r,1)}}}),{addDot:zNe,removeDot:qNe,addArea:$Ne,removeArea:HNe,addLine:VNe,removeLine:WNe}=zI.actions,iye=zI.reducer,sye=C.createContext(void 0),lye=e=>{var{children:t}=e,[r]=C.useState("".concat(Zx("recharts"),"-clip")),n=Nj();if(n==null)return null;var{x:a,y:i,width:l,height:o}=n;return C.createElement(sye.Provider,{value:r},C.createElement("defs",null,C.createElement("clipPath",{id:r},C.createElement("rect",{x:a,y:i,height:o,width:l}))),t)};function Wm(e,t){for(var r in e)if({}.hasOwnProperty.call(e,r)&&(!{}.hasOwnProperty.call(t,r)||e[r]!==t[r]))return!1;for(var n in t)if({}.hasOwnProperty.call(t,n)&&!{}.hasOwnProperty.call(e,n))return!1;return!0}function qI(e,t,r){if(t<1)return[];if(t===1&&r===void 0)return e;for(var n=[],a=0;a<e.length;a+=t)n.push(e[a]);return n}function oye(e,t,r){var n={width:e.width+t.width,height:e.height+t.height};return nye(n,r)}function cye(e,t,r){var n=r==="width",{x:a,y:i,width:l,height:o}=e;return t===1?{start:n?a:i,end:n?a+l:i+o}:{start:n?a+l:i+o,end:n?a:i}}function zy(e,t,r,n,a){if(e*t<e*n||e*t>e*a)return!1;var i=r();return e*(t-e*i/2-n)>=0&&e*(t+e*i/2-a)<=0}function uye(e,t){return qI(e,t+1)}function fye(e,t,r,n,a){for(var i=(n||[]).slice(),{start:l,end:o}=t,f=0,u=1,h=l,p=function(){var b=n?.[f];if(b===void 0)return{v:qI(n,u)};var y=f,w,_=()=>(w===void 0&&(w=r(b,y)),w),E=b.coordinate,A=f===0||zy(e,E,_,h,o);A||(f=0,h=l,u+=1),A&&(h=E+e*(_()/2+a),f+=u)},g;u<=i.length;)if(g=p(),g)return g.v;return[]}function FO(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function vs(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?FO(Object(r),!0).forEach(function(n){dye(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):FO(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function dye(e,t,r){return(t=hye(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function hye(e){var t=mye(e,"string");return typeof t=="symbol"?t:t+""}function mye(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function pye(e,t,r,n,a){for(var i=(n||[]).slice(),l=i.length,{start:o}=t,{end:f}=t,u=function(g){var x=i[g],b,y=()=>(b===void 0&&(b=r(x,g)),b);if(g===l-1){var w=e*(x.coordinate+e*y()/2-f);i[g]=x=vs(vs({},x),{},{tickCoord:w>0?x.coordinate-w*e:x.coordinate})}else i[g]=x=vs(vs({},x),{},{tickCoord:x.coordinate});var _=zy(e,x.tickCoord,y,o,f);_&&(f=x.tickCoord-e*(y()/2+a),i[g]=vs(vs({},x),{},{isShow:!0}))},h=l-1;h>=0;h--)u(h);return i}function xye(e,t,r,n,a,i){var l=(n||[]).slice(),o=l.length,{start:f,end:u}=t;if(i){var h=n[o-1],p=r(h,o-1),g=e*(h.coordinate+e*p/2-u);l[o-1]=h=vs(vs({},h),{},{tickCoord:g>0?h.coordinate-g*e:h.coordinate});var x=zy(e,h.tickCoord,()=>p,f,u);x&&(u=h.tickCoord-e*(p/2+a),l[o-1]=vs(vs({},h),{},{isShow:!0}))}for(var b=i?o-1:o,y=function(E){var A=l[E],O,D=()=>(O===void 0&&(O=r(A,E)),O);if(E===0){var R=e*(A.coordinate-e*D()/2-f);l[E]=A=vs(vs({},A),{},{tickCoord:R<0?A.coordinate-R*e:A.coordinate})}else l[E]=A=vs(vs({},A),{},{tickCoord:A.coordinate});var P=zy(e,A.tickCoord,D,f,u);P&&(f=A.tickCoord+e*(D()/2+a),l[E]=vs(vs({},A),{},{isShow:!0}))},w=0;w<b;w++)y(w);return l}function Ej(e,t,r){var{tick:n,ticks:a,viewBox:i,minTickGap:l,orientation:o,interval:f,tickFormatter:u,unit:h,angle:p}=e;if(!a||!a.length||!n)return[];if(Kt(f)||$d.isSsr){var g;return(g=uye(a,Kt(f)?f:0))!==null&&g!==void 0?g:[]}var x=[],b=o==="top"||o==="bottom"?"width":"height",y=h&&b==="width"?kx(h,{fontSize:t,letterSpacing:r}):{width:0,height:0},w=(A,O)=>{var D=typeof u=="function"?u(A.value,O):A.value;return b==="width"?oye(kx(D,{fontSize:t,letterSpacing:r}),y,p):kx(D,{fontSize:t,letterSpacing:r})[b]},_=a.length>=2?Ui(a[1].coordinate-a[0].coordinate):1,E=cye(i,_,b);return f==="equidistantPreserveStart"?fye(_,E,w,a,l):(f==="preserveStart"||f==="preserveStartEnd"?x=xye(_,E,w,a,l,f==="preserveStartEnd"):x=pye(_,E,w,a,l),x.filter(A=>A.isShow))}var gye=e=>{var{ticks:t,label:r,labelGapWithTick:n=5,tickSize:a=0,tickMargin:i=0}=e,l=0;if(t){Array.from(t).forEach(h=>{if(h){var p=h.getBoundingClientRect();p.width>l&&(l=p.width)}});var o=r?r.getBoundingClientRect().width:0,f=a+i,u=l+f+o+(r?n:0);return Math.round(u)}return 0},vye=["axisLine","width","height","className","hide","ticks"],yye=["viewBox"],bye=["viewBox"];function J_(e,t){if(e==null)return{};var r,n,a=wye(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}function wye(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}function rh(){return rh=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},rh.apply(null,arguments)}function LO(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function vi(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?LO(Object(r),!0).forEach(function(n){_ye(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):LO(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function _ye(e,t,r){return(t=Nye(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Nye(e){var t=Sye(e,"string");return typeof t=="symbol"?t:t+""}function Sye(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var kj={x:0,y:0,width:0,height:0,viewBox:{x:0,y:0,width:0,height:0},orientation:"bottom",ticks:[],stroke:"#666",tickLine:!0,axisLine:!0,tick:!0,mirror:!1,minTickGap:5,tickSize:6,tickMargin:2,interval:"preserveEnd"};function jye(e){var{x:t,y:r,width:n,height:a,orientation:i,mirror:l,axisLine:o,otherSvgProps:f}=e;if(!o)return null;var u=vi(vi(vi({},f),ro(o)),{},{fill:"none"});if(i==="top"||i==="bottom"){var h=+(i==="top"&&!l||i==="bottom"&&l);u=vi(vi({},u),{},{x1:t,y1:r+h*a,x2:t+n,y2:r+h*a})}else{var p=+(i==="left"&&!l||i==="right"&&l);u=vi(vi({},u),{},{x1:t+p*n,y1:r,x2:t+p*n,y2:r+a})}return C.createElement("line",rh({},u,{className:nn("recharts-cartesian-axis-line",Q0(o,"className"))}))}function Aye(e,t,r,n,a,i,l,o,f){var u,h,p,g,x,b,y=o?-1:1,w=e.tickSize||l,_=Kt(e.tickCoord)?e.tickCoord:e.coordinate;switch(i){case"top":u=h=e.coordinate,g=r+ +!o*a,p=g-y*w,b=p-y*f,x=_;break;case"left":p=g=e.coordinate,h=t+ +!o*n,u=h-y*w,x=u-y*f,b=_;break;case"right":p=g=e.coordinate,h=t+ +o*n,u=h+y*w,x=u+y*f,b=_;break;default:u=h=e.coordinate,g=r+ +o*a,p=g+y*w,b=p+y*f,x=_;break}return{line:{x1:u,y1:p,x2:h,y2:g},tick:{x,y:b}}}function Eye(e,t){switch(e){case"left":return t?"start":"end";case"right":return t?"end":"start";default:return"middle"}}function kye(e,t){switch(e){case"left":case"right":return"middle";case"top":return t?"start":"end";default:return t?"end":"start"}}function Cye(e){var{option:t,tickProps:r,value:n}=e,a,i=nn(r.className,"recharts-cartesian-axis-tick-value");if(C.isValidElement(t))a=C.cloneElement(t,vi(vi({},r),{},{className:i}));else if(typeof t=="function")a=t(vi(vi({},r),{},{className:i}));else{var l="recharts-cartesian-axis-tick-value";typeof t!="boolean"&&(l=nn(l,t?.className)),a=C.createElement(G2,rh({},r,{className:l}),n)}return a}function Tye(e){var{ticks:t=[],tick:r,tickLine:n,stroke:a,tickFormatter:i,unit:l,padding:o,tickTextProps:f,orientation:u,mirror:h,x:p,y:g,width:x,height:b,tickSize:y,tickMargin:w,fontSize:_,letterSpacing:E,getTicksConfig:A,events:O}=e,D=Ej(vi(vi({},A),{},{ticks:t}),_,E),R=Eye(u,h),P=kye(u,h),T=ro(A),B=X0(r),G={};typeof n=="object"&&(G=n);var I=vi(vi({},T),{},{fill:"none"},G),z=D.map((K,J)=>{var{line:pe,tick:ne}=Aye(K,p,g,x,b,u,y,h,w),le=vi(vi(vi(vi({textAnchor:R,verticalAnchor:P},T),{},{stroke:"none",fill:a},B),ne),{},{index:J,payload:K,visibleTicksCount:D.length,tickFormatter:i,padding:o},f);return C.createElement(ss,rh({className:"recharts-cartesian-axis-tick",key:"tick-".concat(K.value,"-").concat(K.coordinate,"-").concat(K.tickCoord)},Cg(O,K,J)),n&&C.createElement("line",rh({},I,pe,{className:nn("recharts-cartesian-axis-tick-line",Q0(n,"className"))})),r&&C.createElement(Cye,{option:r,tickProps:le,value:"".concat(typeof i=="function"?i(K.value,J):K.value).concat(l||"")}))});return z.length>0?C.createElement("g",{className:"recharts-cartesian-axis-ticks"},z):null}var Oye=C.forwardRef((e,t)=>{var{axisLine:r,width:n,height:a,className:i,hide:l,ticks:o}=e,f=J_(e,vye),[u,h]=C.useState(""),[p,g]=C.useState(""),x=C.useRef(null);C.useImperativeHandle(t,()=>({getCalculatedWidth:()=>{var y;return gye({ticks:x.current,label:(y=e.labelRef)===null||y===void 0?void 0:y.current,labelGapWithTick:5,tickSize:e.tickSize,tickMargin:e.tickMargin})}}));var b=C.useCallback(y=>{if(y){var w=y.getElementsByClassName("recharts-cartesian-axis-tick-value");x.current=w;var _=w[0];if(_){var E=window.getComputedStyle(_),A=E.fontSize,O=E.letterSpacing;(A!==u||O!==p)&&(h(A),g(O))}}},[u,p]);return l||n!=null&&n<=0||a!=null&&a<=0?null:C.createElement(ss,{className:nn("recharts-cartesian-axis",i),ref:b},C.createElement(jye,{x:e.x,y:e.y,width:n,height:a,orientation:e.orientation,mirror:e.mirror,axisLine:r,otherSvgProps:ro(e)}),C.createElement(Tye,{ticks:o,tick:e.tick,tickLine:e.tickLine,stroke:e.stroke,tickFormatter:e.tickFormatter,unit:e.unit,padding:e.padding,tickTextProps:e.tickTextProps,orientation:e.orientation,mirror:e.mirror,x:e.x,y:e.y,width:e.width,height:e.height,tickSize:e.tickSize,tickMargin:e.tickMargin,fontSize:u,letterSpacing:p,getTicksConfig:e,events:f}),C.createElement(Pxe,{x:e.x,y:e.y,width:e.width,height:e.height},C.createElement($xe,{label:e.label,labelRef:e.labelRef}),e.children))}),Dye=C.memo(Oye,(e,t)=>{var{viewBox:r}=e,n=J_(e,yye),{viewBox:a}=t,i=J_(t,bye);return Wm(r,a)&&Wm(n,i)}),Cj=C.forwardRef((e,t)=>{var r=ls(e,kj);return C.createElement(Dye,rh({},r,{ref:t}))});Cj.displayName="CartesianAxis";var Pye=["x1","y1","x2","y2","key"],Fye=["offset"],Lye=["xAxisId","yAxisId"],Mye=["xAxisId","yAxisId"];function MO(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function _s(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?MO(Object(r),!0).forEach(function(n){Rye(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):MO(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Rye(e,t,r){return(t=Iye(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Iye(e){var t=Bye(e,"string");return typeof t=="symbol"?t:t+""}function Bye(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function T0(){return T0=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},T0.apply(null,arguments)}function qy(e,t){if(e==null)return{};var r,n,a=Uye(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}function Uye(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}var zye=e=>{var{fill:t}=e;if(!t||t==="none")return null;var{fillOpacity:r,x:n,y:a,width:i,height:l,ry:o}=e;return C.createElement("rect",{x:n,y:a,ry:o,width:i,height:l,stroke:"none",fill:t,fillOpacity:r,className:"recharts-cartesian-grid-bg"})};function $I(e,t){var r;if(C.isValidElement(e))r=C.cloneElement(e,t);else if(typeof e=="function")r=e(t);else{var{x1:n,y1:a,x2:i,y2:l,key:o}=t,f=qy(t,Pye),u=ro(f),{offset:h}=u,p=qy(u,Fye);r=C.createElement("line",T0({},p,{x1:n,y1:a,x2:i,y2:l,fill:"none",key:o}))}return r}function qye(e){var{x:t,width:r,horizontal:n=!0,horizontalPoints:a}=e;if(!n||!a||!a.length)return null;var{xAxisId:i,yAxisId:l}=e,o=qy(e,Lye),f=a.map((u,h)=>{var p=_s(_s({},o),{},{x1:t,y1:u,x2:t+r,y2:u,key:"line-".concat(h),index:h});return $I(n,p)});return C.createElement("g",{className:"recharts-cartesian-grid-horizontal"},f)}function $ye(e){var{y:t,height:r,vertical:n=!0,verticalPoints:a}=e;if(!n||!a||!a.length)return null;var{xAxisId:i,yAxisId:l}=e,o=qy(e,Mye),f=a.map((u,h)=>{var p=_s(_s({},o),{},{x1:u,y1:t,x2:u,y2:t+r,key:"line-".concat(h),index:h});return $I(n,p)});return C.createElement("g",{className:"recharts-cartesian-grid-vertical"},f)}function Hye(e){var{horizontalFill:t,fillOpacity:r,x:n,y:a,width:i,height:l,horizontalPoints:o,horizontal:f=!0}=e;if(!f||!t||!t.length)return null;var u=o.map(p=>Math.round(p+a-a)).sort((p,g)=>p-g);a!==u[0]&&u.unshift(0);var h=u.map((p,g)=>{var x=!u[g+1],b=x?a+l-p:u[g+1]-p;if(b<=0)return null;var y=g%t.length;return C.createElement("rect",{key:"react-".concat(g),y:p,x:n,height:b,width:i,stroke:"none",fill:t[y],fillOpacity:r,className:"recharts-cartesian-grid-bg"})});return C.createElement("g",{className:"recharts-cartesian-gridstripes-horizontal"},h)}function Vye(e){var{vertical:t=!0,verticalFill:r,fillOpacity:n,x:a,y:i,width:l,height:o,verticalPoints:f}=e;if(!t||!r||!r.length)return null;var u=f.map(p=>Math.round(p+a-a)).sort((p,g)=>p-g);a!==u[0]&&u.unshift(0);var h=u.map((p,g)=>{var x=!u[g+1],b=x?a+l-p:u[g+1]-p;if(b<=0)return null;var y=g%r.length;return C.createElement("rect",{key:"react-".concat(g),x:p,y:i,width:b,height:o,stroke:"none",fill:r[y],fillOpacity:n,className:"recharts-cartesian-grid-bg"})});return C.createElement("g",{className:"recharts-cartesian-gridstripes-vertical"},h)}var Wye=(e,t)=>{var{xAxis:r,width:n,height:a,offset:i}=e;return MM(Ej(_s(_s(_s({},kj),r),{},{ticks:RM(r),viewBox:{x:0,y:0,width:n,height:a}})),i.left,i.left+i.width,t)},Gye=(e,t)=>{var{yAxis:r,width:n,height:a,offset:i}=e;return MM(Ej(_s(_s(_s({},kj),r),{},{ticks:RM(r),viewBox:{x:0,y:0,width:n,height:a}})),i.top,i.top+i.height,t)},Kye={horizontal:!0,vertical:!0,horizontalPoints:[],verticalPoints:[],stroke:"#ccc",fill:"none",verticalFill:[],horizontalFill:[],xAxisId:0,yAxisId:0};function eN(e){var t=J3(),r=eS(),n=HM(),a=_s(_s({},ls(e,Kye)),{},{x:Kt(e.x)?e.x:n.left,y:Kt(e.y)?e.y:n.top,width:Kt(e.width)?e.width:n.width,height:Kt(e.height)?e.height:n.height}),{xAxisId:i,yAxisId:l,x:o,y:f,width:u,height:h,syncWithTicks:p,horizontalValues:g,verticalValues:x}=a,b=nl(),y=Bt(B=>F8(B,"xAxis",i,b)),w=Bt(B=>F8(B,"yAxis",l,b));if(!Kt(u)||u<=0||!Kt(h)||h<=0||!Kt(o)||o!==+o||!Kt(f)||f!==+f)return null;var _=a.verticalCoordinatesGenerator||Wye,E=a.horizontalCoordinatesGenerator||Gye,{horizontalPoints:A,verticalPoints:O}=a;if((!A||!A.length)&&typeof E=="function"){var D=g&&g.length,R=E({yAxis:w?_s(_s({},w),{},{ticks:D?g:w.ticks}):void 0,width:t,height:r,offset:n},D?!0:p);by(Array.isArray(R),"horizontalCoordinatesGenerator should return Array but instead it returned [".concat(typeof R,"]")),Array.isArray(R)&&(A=R)}if((!O||!O.length)&&typeof _=="function"){var P=x&&x.length,T=_({xAxis:y?_s(_s({},y),{},{ticks:P?x:y.ticks}):void 0,width:t,height:r,offset:n},P?!0:p);by(Array.isArray(T),"verticalCoordinatesGenerator should return Array but instead it returned [".concat(typeof T,"]")),Array.isArray(T)&&(O=T)}return C.createElement("g",{className:"recharts-cartesian-grid"},C.createElement(zye,{fill:a.fill,fillOpacity:a.fillOpacity,x:a.x,y:a.y,width:a.width,height:a.height,ry:a.ry}),C.createElement(Hye,T0({},a,{horizontalPoints:A})),C.createElement(Vye,T0({},a,{verticalPoints:O})),C.createElement(qye,T0({},a,{offset:n,horizontalPoints:A,xAxis:y,yAxis:w})),C.createElement($ye,T0({},a,{offset:n,verticalPoints:O,xAxis:y,yAxis:w})))}eN.displayName="CartesianGrid";var HI=(e,t,r,n)=>Td(e,"xAxis",t,n),VI=(e,t,r,n)=>Cd(e,"xAxis",t,n),WI=(e,t,r,n)=>Td(e,"yAxis",r,n),GI=(e,t,r,n)=>Cd(e,"yAxis",r,n),Yye=He([Wr,HI,WI,VI,GI],(e,t,r,n,a)=>qd(e,"xAxis")?rg(t,n,!1):rg(r,a,!1)),Xye=(e,t,r,n,a)=>a;function Qye(e){return e.type==="line"}var Zye=He([z2,Xye],(e,t)=>e.filter(Qye).find(r=>r.id===t)),Jye=He([Wr,HI,WI,VI,GI,Zye,Yye,F2],(e,t,r,n,a,i,l,o)=>{var{chartData:f,dataStartIndex:u,dataEndIndex:h}=o;if(!(i==null||t==null||r==null||n==null||a==null||n.length===0||a.length===0||l==null)){var{dataKey:p,data:g}=i,x;if(g!=null&&g.length>0?x=g:x=f?.slice(u,h+1),x!=null)return _2e({layout:e,xAxis:t,yAxis:r,xAxisTicks:n,yAxisTicks:a,dataKey:p,bandSize:l,displayedData:x})}});function e2e(e){var t=X0(e),r=3,n=2;if(t!=null){var{r:a,strokeWidth:i}=t,l=Number(a),o=Number(i);return(Number.isNaN(l)||l<0)&&(l=r),(Number.isNaN(o)||o<0)&&(o=n),{r:l,strokeWidth:o}}return{r,strokeWidth:n}}var t2e=["id"],r2e=["type","layout","connectNulls","needClip"],n2e=["activeDot","animateNewValues","animationBegin","animationDuration","animationEasing","connectNulls","dot","hide","isAnimationActive","label","legendType","xAxisId","yAxisId","id"];function RO(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function Yl(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?RO(Object(r),!0).forEach(function(n){a2e(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):RO(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function a2e(e,t,r){return(t=i2e(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function i2e(e){var t=s2e(e,"string");return typeof t=="symbol"?t:t+""}function s2e(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Tj(e,t){if(e==null)return{};var r,n,a=l2e(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}function l2e(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}function nh(){return nh=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},nh.apply(null,arguments)}var o2e=e=>{var{dataKey:t,name:r,stroke:n,legendType:a,hide:i}=e;return[{inactive:i,dataKey:t,type:a,color:n,value:lp(r,t),payload:e}]};function c2e(e){var{dataKey:t,data:r,stroke:n,strokeWidth:a,fill:i,name:l,hide:o,unit:f}=e;return{dataDefinedOnItem:r,positions:void 0,settings:{stroke:n,strokeWidth:a,fill:i,dataKey:t,nameKey:void 0,name:lp(l,t),hide:o,type:e.tooltipType,color:e.stroke,unit:f}}}var KI=(e,t)=>"".concat(t,"px ").concat(e-t,"px");function u2e(e,t){for(var r=e.length%2!==0?[...e,0]:e,n=[],a=0;a<t;++a)n=[...n,...r];return n}var f2e=(e,t,r)=>{var n=r.reduce((p,g)=>p+g);if(!n)return KI(t,e);for(var a=Math.floor(e/n),i=e%n,l=t-e,o=[],f=0,u=0;f<r.length;u+=r[f],++f)if(u+r[f]>i){o=[...r.slice(0,f),i-u];break}var h=o.length%2===0?[0,l]:[l];return[...u2e(r,a),...o,...h].map(p=>"".concat(p,"px")).join(", ")};function d2e(e,t){var r;if(C.isValidElement(e))r=C.cloneElement(e,t);else if(typeof e=="function")r=e(t);else{var n=nn("recharts-line-dot",typeof e!="boolean"?e.className:"");r=C.createElement(bI,nh({},t,{className:n}))}return r}function h2e(e,t){return e==null?!1:t?!0:e.length===1}function m2e(e){var{clipPathId:t,points:r,props:n}=e,{dot:a,dataKey:i,needClip:l}=n;if(!h2e(r,a))return null;var{id:o}=n,f=Tj(n,t2e),u=AI(a),h=ro(f),p=nse(a),g=r.map((b,y)=>{var w=Yl(Yl(Yl({key:"dot-".concat(y),r:3},h),p),{},{index:y,cx:b.x,cy:b.y,dataKey:i,value:b.value,payload:b.payload,points:r});return d2e(a,w)}),x={clipPath:l?"url(#clipPath-".concat(u?"":"dots-").concat(t,")"):void 0};return C.createElement(ss,nh({className:"recharts-line-dots",key:"dots"},x),g)}function p2e(e){var{showLabels:t,children:r,points:n}=e,a=C.useMemo(()=>n?.map(i=>{var l={x:i.x,y:i.y,width:0,height:0};return Yl(Yl({},l),{},{value:i.value,payload:i.payload,viewBox:l,parentViewBox:void 0,fill:void 0})}),[n]);return C.createElement(vI,{value:t?a:null},r)}function IO(e){var{clipPathId:t,pathRef:r,points:n,strokeDasharray:a,props:i}=e,{type:l,layout:o,connectNulls:f,needClip:u}=i,h=Tj(i,r2e),p=Yl(Yl({},tl(h)),{},{fill:"none",className:"recharts-line-curve",clipPath:u?"url(#clipPath-".concat(t,")"):void 0,points:n,type:l,layout:o,connectNulls:f,strokeDasharray:a??i.strokeDasharray});return C.createElement(C.Fragment,null,n?.length>1&&C.createElement(rS,nh({},p,{pathRef:r})),C.createElement(m2e,{points:n,clipPathId:t,props:i}))}function x2e(e){try{return e&&e.getTotalLength&&e.getTotalLength()||0}catch{return 0}}function g2e(e){var{clipPathId:t,props:r,pathRef:n,previousPointsRef:a,longestAnimatedLengthRef:i}=e,{points:l,strokeDasharray:o,isAnimationActive:f,animationBegin:u,animationDuration:h,animationEasing:p,animateNewValues:g,width:x,height:b,onAnimationEnd:y,onAnimationStart:w}=r,_=a.current,E=Fg(r,"recharts-line-"),[A,O]=C.useState(!1),D=!A,R=C.useCallback(()=>{typeof y=="function"&&y(),O(!1)},[y]),P=C.useCallback(()=>{typeof w=="function"&&w(),O(!0)},[w]),T=x2e(n.current),B=i.current;return C.createElement(p2e,{points:l,showLabels:D},r.children,C.createElement(Pg,{animationId:E,begin:u,duration:h,isActive:f,easing:p,onAnimationEnd:R,onAnimationStart:P,key:E},G=>{var I=La(B,T+B,G),z=Math.min(I,T),K;if(f)if(o){var J="".concat(o).split(/[,\s]+/gim).map(le=>parseFloat(le));K=f2e(z,T,J)}else K=KI(T,z);else K=o==null?void 0:String(o);if(_){var pe=_.length/l.length,ne=G===1?l:l.map((le,ve)=>{var ue=Math.floor(ve*pe);if(_[ue]){var je=_[ue];return Yl(Yl({},le),{},{x:La(je.x,le.x,G),y:La(je.y,le.y,G)})}return g?Yl(Yl({},le),{},{x:La(x*2,le.x,G),y:La(b/2,le.y,G)}):Yl(Yl({},le),{},{x:le.x,y:le.y})});return a.current=ne,C.createElement(IO,{props:r,points:ne,clipPathId:t,pathRef:n,strokeDasharray:K})}return G>0&&T>0&&(a.current=l,i.current=z),C.createElement(IO,{props:r,points:l,clipPathId:t,pathRef:n,strokeDasharray:K})}),C.createElement(hj,{label:r.label}))}function v2e(e){var{clipPathId:t,props:r}=e,n=C.useRef(null),a=C.useRef(0),i=C.useRef(null);return C.createElement(g2e,{props:r,clipPathId:t,previousPointsRef:n,longestAnimatedLengthRef:a,pathRef:i})}var y2e=(e,t)=>({x:e.x,y:e.y,value:e.value,errorVal:$n(e.payload,t)});class b2e extends C.Component{render(){var{hide:t,dot:r,points:n,className:a,xAxisId:i,yAxisId:l,top:o,left:f,width:u,height:h,id:p,needClip:g}=this.props;if(t)return null;var x=nn("recharts-line",a),b=p,{r:y,strokeWidth:w}=e2e(r),_=AI(r),E=y*2+w;return C.createElement(C.Fragment,null,C.createElement(ss,{className:x},g&&C.createElement("defs",null,C.createElement(MI,{clipPathId:b,xAxisId:i,yAxisId:l}),!_&&C.createElement("clipPath",{id:"clipPath-dots-".concat(b)},C.createElement("rect",{x:f-E/2,y:o-E/2,width:u+E,height:h+E}))),C.createElement(LI,{xAxisId:i,yAxisId:l,data:n,dataPointFormatter:y2e,errorBarOffset:0},C.createElement(v2e,{props:this.props,clipPathId:b}))),C.createElement(B1e,{activeDot:this.props.activeDot,points:n,mainColor:this.props.stroke,itemDataKey:this.props.dataKey}))}}var YI={activeDot:!0,animateNewValues:!0,animationBegin:0,animationDuration:1500,animationEasing:"ease",connectNulls:!1,dot:!0,fill:"#fff",hide:!1,isAnimationActive:!$d.isSsr,label:!1,legendType:"line",stroke:"#3182bd",strokeWidth:1,xAxisId:0,yAxisId:0};function w2e(e){var t=ls(e,YI),{activeDot:r,animateNewValues:n,animationBegin:a,animationDuration:i,animationEasing:l,connectNulls:o,dot:f,hide:u,isAnimationActive:h,label:p,legendType:g,xAxisId:x,yAxisId:b,id:y}=t,w=Tj(t,n2e),{needClip:_}=jj(x,b),E=Nj(),A=A2(),O=nl(),D=Bt(G=>Jye(G,x,b,O,y));if(A!=="horizontal"&&A!=="vertical"||D==null||E==null)return null;var{height:R,width:P,x:T,y:B}=E;return C.createElement(b2e,nh({},w,{id:y,connectNulls:o,dot:f,activeDot:r,animateNewValues:n,animationBegin:a,animationDuration:i,animationEasing:l,isAnimationActive:h,hide:u,label:p,legendType:g,xAxisId:x,yAxisId:b,points:D,layout:A,height:R,width:P,left:T,top:B,needClip:_}))}function _2e(e){var{layout:t,xAxis:r,yAxis:n,xAxisTicks:a,yAxisTicks:i,dataKey:l,bandSize:o,displayedData:f}=e;return f.map((u,h)=>{var p=$n(u,l);if(t==="horizontal"){var g=oT({axis:r,ticks:a,bandSize:o,entry:u,index:h}),x=ma(p)?null:n.scale(p);return{x:g,y:x,value:p,payload:u}}var b=ma(p)?null:r.scale(p),y=oT({axis:n,ticks:i,bandSize:o,entry:u,index:h});return b==null||y==null?null:{x:b,y,value:p,payload:u}}).filter(Boolean)}function N2e(e){var t=ls(e,YI),r=nl();return C.createElement(wj,{id:t.id,type:"line"},n=>C.createElement(C.Fragment,null,C.createElement(CI,{legendPayload:o2e(t)}),C.createElement(bj,{fn:c2e,args:t}),C.createElement(OI,{type:"line",id:n,data:t.data,xAxisId:t.xAxisId,yAxisId:t.yAxisId,zAxisId:0,dataKey:t.dataKey,hide:t.hide,isPanorama:r}),C.createElement(w2e,nh({},t,{id:n}))))}var tN=C.memo(N2e);tN.displayName="Line";var S2e=["dangerouslySetInnerHTML","ticks"],j2e=["id"],A2e=["domain"],E2e=["domain"];function rN(){return rN=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},rN.apply(null,arguments)}function $y(e,t){if(e==null)return{};var r,n,a=k2e(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}function k2e(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}function C2e(e){var t=pa();return C.useLayoutEffect(()=>(t(A1e(e)),()=>{t(E1e(e))}),[e,t]),null}var T2e=e=>{var{xAxisId:t,className:r}=e,n=Bt(Q3),a=nl(),i="xAxis",l=Bt(w=>pp(w,i,t,a)),o=Bt(w=>D9(w,i,t,a)),f=Bt(w=>k9(w,t)),u=Bt(w=>hme(w,t)),h=Bt(w=>c9(w,t));if(f==null||u==null||h==null)return null;var{dangerouslySetInnerHTML:p,ticks:g}=e,x=$y(e,S2e),{id:b}=h,y=$y(h,j2e);return C.createElement(Cj,rN({},x,y,{scale:l,x:u.x,y:u.y,width:f.width,height:f.height,className:nn("recharts-".concat(i," ").concat(i),r),viewBox:n,ticks:o}))},O2e={allowDataOverflow:Hl.allowDataOverflow,allowDecimals:Hl.allowDecimals,allowDuplicatedCategory:Hl.allowDuplicatedCategory,height:Hl.height,hide:!1,mirror:Hl.mirror,orientation:Hl.orientation,padding:Hl.padding,reversed:Hl.reversed,scale:Hl.scale,tickCount:Hl.tickCount,type:Hl.type,xAxisId:0},D2e=e=>{var t,r,n,a,i,l=ls(e,O2e);return C.createElement(C.Fragment,null,C.createElement(C2e,{interval:(t=l.interval)!==null&&t!==void 0?t:"preserveEnd",id:l.xAxisId,scale:l.scale,type:l.type,padding:l.padding,allowDataOverflow:l.allowDataOverflow,domain:l.domain,dataKey:l.dataKey,allowDuplicatedCategory:l.allowDuplicatedCategory,allowDecimals:l.allowDecimals,tickCount:l.tickCount,includeHidden:(r=l.includeHidden)!==null&&r!==void 0?r:!1,reversed:l.reversed,ticks:l.ticks,height:l.height,orientation:l.orientation,mirror:l.mirror,hide:l.hide,unit:l.unit,name:l.name,angle:(n=l.angle)!==null&&n!==void 0?n:0,minTickGap:(a=l.minTickGap)!==null&&a!==void 0?a:5,tick:(i=l.tick)!==null&&i!==void 0?i:!0,tickFormatter:l.tickFormatter}),C.createElement(T2e,l))},P2e=(e,t)=>{var{domain:r}=e,n=$y(e,A2e),{domain:a}=t,i=$y(t,E2e);return Wm(n,i)?Array.isArray(r)&&r.length===2&&Array.isArray(a)&&a.length===2?r[0]===a[0]&&r[1]===a[1]:Wm({domain:r},{domain:a}):!1},nN=C.memo(D2e,P2e);nN.displayName="XAxis";var F2e=["dangerouslySetInnerHTML","ticks"],L2e=["id"],M2e=["domain"],R2e=["domain"];function aN(){return aN=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},aN.apply(null,arguments)}function Hy(e,t){if(e==null)return{};var r,n,a=I2e(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}function I2e(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}function B2e(e){var t=pa();return C.useLayoutEffect(()=>(t(k1e(e)),()=>{t(C1e(e))}),[e,t]),null}var U2e=e=>{var{yAxisId:t,className:r,width:n,label:a}=e,i=C.useRef(null),l=C.useRef(null),o=Bt(Q3),f=nl(),u=pa(),h="yAxis",p=Bt(D=>pp(D,h,t,f)),g=Bt(D=>C9(D,t)),x=Bt(D=>pme(D,t)),b=Bt(D=>D9(D,h,t,f)),y=Bt(D=>u9(D,t));if(C.useLayoutEffect(()=>{if(!(n!=="auto"||!g||dj(a)||C.isValidElement(a)||y==null)){var D=i.current;if(D){var R=D.getCalculatedWidth();Math.round(g.width)!==Math.round(R)&&u(T1e({id:t,width:R}))}}},[b,g,u,a,t,n,y]),g==null||x==null||y==null)return null;var{dangerouslySetInnerHTML:w,ticks:_}=e,E=Hy(e,F2e),{id:A}=y,O=Hy(y,L2e);return C.createElement(Cj,aN({},E,O,{ref:i,labelRef:l,scale:p,x:x.x,y:x.y,tickTextProps:n==="auto"?{width:void 0}:{width:n},width:g.width,height:g.height,className:nn("recharts-".concat(h," ").concat(h),r),viewBox:o,ticks:b}))},z2e={allowDataOverflow:Vl.allowDataOverflow,allowDecimals:Vl.allowDecimals,allowDuplicatedCategory:Vl.allowDuplicatedCategory,hide:!1,mirror:Vl.mirror,orientation:Vl.orientation,padding:Vl.padding,reversed:Vl.reversed,scale:Vl.scale,tickCount:Vl.tickCount,type:Vl.type,width:Vl.width,yAxisId:0},q2e=e=>{var t,r,n,a,i,l=ls(e,z2e);return C.createElement(C.Fragment,null,C.createElement(B2e,{interval:(t=l.interval)!==null&&t!==void 0?t:"preserveEnd",id:l.yAxisId,scale:l.scale,type:l.type,domain:l.domain,allowDataOverflow:l.allowDataOverflow,dataKey:l.dataKey,allowDuplicatedCategory:l.allowDuplicatedCategory,allowDecimals:l.allowDecimals,tickCount:l.tickCount,padding:l.padding,includeHidden:(r=l.includeHidden)!==null&&r!==void 0?r:!1,reversed:l.reversed,ticks:l.ticks,width:l.width,orientation:l.orientation,mirror:l.mirror,hide:l.hide,unit:l.unit,name:l.name,angle:(n=l.angle)!==null&&n!==void 0?n:0,minTickGap:(a=l.minTickGap)!==null&&a!==void 0?a:5,tick:(i=l.tick)!==null&&i!==void 0?i:!0,tickFormatter:l.tickFormatter}),C.createElement(U2e,l))},$2e=(e,t)=>{var{domain:r}=e,n=Hy(e,M2e),{domain:a}=t,i=Hy(t,R2e);return Wm(n,i)?Array.isArray(r)&&r.length===2&&Array.isArray(a)&&a.length===2?r[0]===a[0]&&r[1]===a[1]:Wm({domain:r},{domain:a}):!1},iN=C.memo(q2e,$2e);iN.displayName="YAxis";var u4={exports:{}},f4={};/**
 * @license React
 * use-sync-external-store-with-selector.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var BO;function H2e(){if(BO)return f4;BO=1;var e=Gm();function t(f,u){return f===u&&(f!==0||1/f===1/u)||f!==f&&u!==u}var r=typeof Object.is=="function"?Object.is:t,n=e.useSyncExternalStore,a=e.useRef,i=e.useEffect,l=e.useMemo,o=e.useDebugValue;return f4.useSyncExternalStoreWithSelector=function(f,u,h,p,g){var x=a(null);if(x.current===null){var b={hasValue:!1,value:null};x.current=b}else b=x.current;x=l(function(){function w(D){if(!_){if(_=!0,E=D,D=p(D),g!==void 0&&b.hasValue){var R=b.value;if(g(R,D))return A=R}return A=D}if(R=A,r(E,D))return R;var P=p(D);return g!==void 0&&g(R,P)?(E=D,R):(E=D,A=P)}var _=!1,E,A,O=h===void 0?null:h;return[function(){return w(u())},O===null?void 0:function(){return w(O())}]},[u,h,p,g]);var y=n(f,x[0],x[1]);return i(function(){b.hasValue=!0,b.value=y},[y]),o(y),y},f4}var UO;function V2e(){return UO||(UO=1,u4.exports=H2e()),u4.exports}V2e();function W2e(e){e()}function G2e(){let e=null,t=null;return{clear(){e=null,t=null},notify(){W2e(()=>{let r=e;for(;r;)r.callback(),r=r.next})},get(){const r=[];let n=e;for(;n;)r.push(n),n=n.next;return r},subscribe(r){let n=!0;const a=t={callback:r,next:null,prev:t};return a.prev?a.prev.next=a:e=a,function(){!n||e===null||(n=!1,a.next?a.next.prev=a.prev:t=a.prev,a.prev?a.prev.next=a.next:e=a.next)}}}}var zO={notify(){},get:()=>[]};function K2e(e,t){let r,n=zO,a=0,i=!1;function l(y){h();const w=n.subscribe(y);let _=!1;return()=>{_||(_=!0,w(),p())}}function o(){n.notify()}function f(){b.onStateChange&&b.onStateChange()}function u(){return i}function h(){a++,r||(r=e.subscribe(f),n=G2e())}function p(){a--,r&&a===0&&(r(),r=void 0,n.clear(),n=zO)}function g(){i||(i=!0,h())}function x(){i&&(i=!1,p())}const b={addNestedSub:l,notifyNestedSubs:o,handleChangeWrapper:f,isSubscribed:u,trySubscribe:g,tryUnsubscribe:x,getListeners:()=>n};return b}var Y2e=()=>typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",X2e=Y2e(),Q2e=()=>typeof navigator<"u"&&navigator.product==="ReactNative",Z2e=Q2e(),J2e=()=>X2e||Z2e?C.useLayoutEffect:C.useEffect,ebe=J2e(),tbe=Symbol.for("react-redux-context"),rbe=typeof globalThis<"u"?globalThis:{};function nbe(){if(!C.createContext)return{};const e=rbe[tbe]??=new Map;let t=e.get(C.createContext);return t||(t=C.createContext(null),e.set(C.createContext,t)),t}var abe=nbe();function ibe(e){const{children:t,context:r,serverState:n,store:a}=e,i=C.useMemo(()=>{const f=K2e(a);return{store:a,subscription:f,getServerState:n?()=>n:void 0}},[a,n]),l=C.useMemo(()=>a.getState(),[a]);ebe(()=>{const{subscription:f}=i;return f.onStateChange=f.notifyNestedSubs,f.trySubscribe(),l!==a.getState()&&f.notifyNestedSubs(),()=>{f.tryUnsubscribe(),f.onStateChange=void 0}},[i,l]);const o=r||abe;return C.createElement(o.Provider,{value:i},t)}var sbe=ibe,lbe=(e,t)=>t,Oj=He([lbe,Wr,s9,Ai,Y9,Tf,bpe,Si],jpe),Dj=e=>{var t=e.currentTarget.getBoundingClientRect(),r=t.width/e.currentTarget.offsetWidth,n=t.height/e.currentTarget.offsetHeight;return{chartX:Math.round((e.clientX-t.left)/r),chartY:Math.round((e.clientY-t.top)/n)}},XI=zo("mouseClick"),QI=Og();QI.startListening({actionCreator:XI,effect:(e,t)=>{var r=e.payload,n=Oj(t.getState(),Dj(r));n?.activeIndex!=null&&t.dispatch(kme({activeIndex:n.activeIndex,activeDataKey:void 0,activeCoordinate:n.activeCoordinate}))}});var sN=zo("mouseMove"),ZI=Og();ZI.startListening({actionCreator:sN,effect:(e,t)=>{var r=e.payload,n=t.getState(),a=rj(n,n.tooltip.settings.shared),i=Oj(n,Dj(r));a==="axis"&&(i?.activeIndex!=null?t.dispatch(U9({activeIndex:i.activeIndex,activeDataKey:void 0,activeCoordinate:i.activeCoordinate})):t.dispatch(B9()))}});var qO={accessibilityLayer:!0,barCategoryGap:"10%",barGap:4,barSize:void 0,className:void 0,maxBarSize:void 0,stackOffset:"none",syncId:void 0,syncMethod:"index"},JI=io({name:"rootProps",initialState:qO,reducers:{updateOptions:(e,t)=>{var r;e.accessibilityLayer=t.payload.accessibilityLayer,e.barCategoryGap=t.payload.barCategoryGap,e.barGap=(r=t.payload.barGap)!==null&&r!==void 0?r:qO.barGap,e.barSize=t.payload.barSize,e.maxBarSize=t.payload.maxBarSize,e.stackOffset=t.payload.stackOffset,e.syncId=t.payload.syncId,e.syncMethod=t.payload.syncMethod,e.className=t.payload.className}}}),obe=JI.reducer,{updateOptions:cbe}=JI.actions,eB=io({name:"polarOptions",initialState:null,reducers:{updatePolarOptions:(e,t)=>t.payload}}),{updatePolarOptions:ube}=eB.actions,fbe=eB.reducer,tB=zo("keyDown"),rB=zo("focus"),Pj=Og();Pj.startListening({actionCreator:tB,effect:(e,t)=>{var r=t.getState(),n=r.rootProps.accessibilityLayer!==!1;if(n){var{keyboardInteraction:a}=r.tooltip,i=e.payload;if(!(i!=="ArrowRight"&&i!=="ArrowLeft"&&i!=="Enter")){var l=Number(nj(a,gp(r))),o=Tf(r);if(i==="Enter"){var f=My(r,"axis","hover",String(a.index));t.dispatch(W_({active:!a.active,activeIndex:a.index,activeDataKey:a.dataKey,activeCoordinate:f}));return}var u=yme(r),h=u==="left-to-right"?1:-1,p=i==="ArrowRight"?1:-1,g=l+p*h;if(!(o==null||g>=o.length||g<0)){var x=My(r,"axis","hover",String(g));t.dispatch(W_({active:!0,activeIndex:g.toString(),activeDataKey:void 0,activeCoordinate:x}))}}}}});Pj.startListening({actionCreator:rB,effect:(e,t)=>{var r=t.getState(),n=r.rootProps.accessibilityLayer!==!1;if(n){var{keyboardInteraction:a}=r.tooltip;if(!a.active&&a.index==null){var i="0",l=My(r,"axis","hover",String(i));t.dispatch(W_({activeDataKey:void 0,active:!0,activeIndex:i,activeCoordinate:l}))}}}});var Oo=zo("externalEvent"),nB=Og();nB.startListening({actionCreator:Oo,effect:(e,t)=>{if(e.payload.handler!=null){var r=t.getState(),n={activeCoordinate:upe(r),activeDataKey:J9(r),activeIndex:Od(r),activeLabel:Z9(r),activeTooltipIndex:Od(r),isTooltipActive:fpe(r)};e.payload.handler(n,e.payload.reactEvent)}}});var dbe=He([xp],e=>e.tooltipItemPayloads),hbe=He([dbe,Hg,(e,t,r)=>t,(e,t,r)=>r],(e,t,r,n)=>{var a=e.find(o=>o.settings.dataKey===n);if(a!=null){var{positions:i}=a;if(i!=null){var l=t(i,r);return l}}}),aB=zo("touchMove"),iB=Og();iB.startListening({actionCreator:aB,effect:(e,t)=>{var r=e.payload,n=t.getState(),a=rj(n,n.tooltip.settings.shared);if(a==="axis"){var i=Oj(n,Dj({clientX:r.touches[0].clientX,clientY:r.touches[0].clientY,currentTarget:r.currentTarget}));i?.activeIndex!=null&&t.dispatch(U9({activeIndex:i.activeIndex,activeDataKey:void 0,activeCoordinate:i.activeCoordinate}))}else if(a==="item"){var l,o=r.touches[0],f=document.elementFromPoint(o.clientX,o.clientY);if(!f||!f.getAttribute)return;var u=f.getAttribute(BM),h=(l=f.getAttribute(UM))!==null&&l!==void 0?l:void 0,p=hbe(t.getState(),u,h);t.dispatch(I9({activeDataKey:h,activeIndex:u,activeCoordinate:p}))}}});var mbe=cM({brush:Zve,cartesianAxis:O1e,chartData:zpe,errorBars:Q1e,graphicalItems:Xge,layout:Zoe,legend:aue,options:Mpe,polarAxis:uge,polarOptions:fbe,referenceElements:iye,rootProps:obe,tooltip:Cme}),pbe=function(t){return Noe({reducer:mbe,preloadedState:t,middleware:r=>r({serializableCheck:!1}).concat([QI.middleware,ZI.middleware,Pj.middleware,nB.middleware,iB.middleware]),enhancers:r=>{var n=r;return typeof r=="function"&&(n=r()),n.concat(wM({type:"raf"}))},devTools:$d.devToolsEnabled})};function sB(e){var{preloadedState:t,children:r,reduxStoreName:n}=e,a=nl(),i=C.useRef(null);if(a)return r;i.current==null&&(i.current=pbe(t));var l=V3;return C.createElement(sbe,{context:l,store:i.current},r)}function lB(e){var{layout:t,margin:r}=e,n=pa(),a=nl();return C.useEffect(()=>{a||(n(Yoe(t)),n(Koe(r)))},[n,a,t,r]),null}function oB(e){var t=pa();return C.useEffect(()=>{t(cbe(e))},[t,e]),null}var xbe=["children"];function gbe(e,t){if(e==null)return{};var r,n,a=vbe(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}function vbe(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}function Vy(){return Vy=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Vy.apply(null,arguments)}var ybe={width:"100%",height:"100%",display:"block"},bbe=C.forwardRef((e,t)=>{var r=J3(),n=eS(),a=KM();if(!zm(r)||!zm(n))return null;var{children:i,otherAttributes:l,title:o,desc:f}=e,u,h;return typeof l.tabIndex=="number"?u=l.tabIndex:u=a?0:void 0,typeof l.role=="string"?h=l.role:h=a?"application":void 0,C.createElement(P3,Vy({},l,{title:o,desc:f,role:h,tabIndex:u,width:r,height:n,style:ybe,ref:t}),i)}),wbe=e=>{var{children:t}=e,r=Bt(S2);if(!r)return null;var{width:n,height:a,y:i,x:l}=r;return C.createElement(P3,{width:n,height:a,x:l,y:i},t)},$O=C.forwardRef((e,t)=>{var{children:r}=e,n=gbe(e,xbe),a=nl();return a?C.createElement(wbe,null,r):C.createElement(bbe,Vy({ref:t},n),r)});function _be(){var e=pa(),[t,r]=C.useState(null),n=Bt(Ece);return C.useEffect(()=>{if(t!=null){var a=t.getBoundingClientRect(),i=a.width/t.offsetWidth;Cs(i)&&i!==n&&e(Qoe(i))}},[t,e,n]),r}function HO(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function Nbe(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?HO(Object(r),!0).forEach(function(n){Sbe(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):HO(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Sbe(e,t,r){return(t=jbe(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function jbe(e){var t=Abe(e,"string");return typeof t=="symbol"?t:t+""}function Abe(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function ah(){return ah=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},ah.apply(null,arguments)}var Ebe=()=>(Xpe(),null);function Wy(e){if(typeof e=="number")return e;if(typeof e=="string"){var t=parseFloat(e);if(!Number.isNaN(t))return t}return 0}var kbe=C.forwardRef((e,t)=>{var r,n,a=C.useRef(null),[i,l]=C.useState({containerWidth:Wy((r=e.style)===null||r===void 0?void 0:r.width),containerHeight:Wy((n=e.style)===null||n===void 0?void 0:n.height)}),o=C.useCallback((u,h)=>{l(p=>{var g=Math.round(u),x=Math.round(h);return p.containerWidth===g&&p.containerHeight===x?p:{containerWidth:g,containerHeight:x}})},[]),f=C.useCallback(u=>{if(typeof t=="function"&&t(u),u!=null){var{width:h,height:p}=u.getBoundingClientRect();o(h,p);var g=b=>{var{width:y,height:w}=b[0].contentRect;o(y,w)},x=new ResizeObserver(g);x.observe(u),a.current=x}},[t,o]);return C.useEffect(()=>()=>{var u=a.current;u?.disconnect()},[o]),C.createElement(C.Fragment,null,C.createElement(E2,{width:i.containerWidth,height:i.containerHeight}),C.createElement("div",ah({ref:f},e)))}),Cbe=C.forwardRef((e,t)=>{var{width:r,height:n}=e,[a,i]=C.useState({containerWidth:Wy(r),containerHeight:Wy(n)}),l=C.useCallback((f,u)=>{i(h=>{var p=Math.round(f),g=Math.round(u);return h.containerWidth===p&&h.containerHeight===g?h:{containerWidth:p,containerHeight:g}})},[]),o=C.useCallback(f=>{if(typeof t=="function"&&t(f),f!=null){var{width:u,height:h}=f.getBoundingClientRect();l(u,h)}},[t,l]);return C.createElement(C.Fragment,null,C.createElement(E2,{width:a.containerWidth,height:a.containerHeight}),C.createElement("div",ah({ref:o},e)))}),Tbe=C.forwardRef((e,t)=>{var{width:r,height:n}=e;return C.createElement(C.Fragment,null,C.createElement(E2,{width:r,height:n}),C.createElement("div",ah({ref:t},e)))}),Obe=C.forwardRef((e,t)=>{var{width:r,height:n}=e;return hf(r)||hf(n)?C.createElement(Cbe,ah({},e,{ref:t})):C.createElement(Tbe,ah({},e,{ref:t}))});function Dbe(e){return e===!0?kbe:Obe}var Pbe=C.forwardRef((e,t)=>{var{children:r,className:n,height:a,onClick:i,onContextMenu:l,onDoubleClick:o,onMouseDown:f,onMouseEnter:u,onMouseLeave:h,onMouseMove:p,onMouseUp:g,onTouchEnd:x,onTouchMove:b,onTouchStart:y,style:w,width:_,responsive:E,dispatchTouchEvents:A=!0}=e,O=C.useRef(null),D=pa(),[R,P]=C.useState(null),[T,B]=C.useState(null),G=_be(),I=Z3(),z=I?.width>0?I.width:_,K=I?.height>0?I.height:a,J=C.useCallback(ae=>{G(ae),typeof t=="function"&&t(ae),P(ae),B(ae),ae!=null&&(O.current=ae)},[G,t,P,B]),pe=C.useCallback(ae=>{D(XI(ae)),D(Oo({handler:i,reactEvent:ae}))},[D,i]),ne=C.useCallback(ae=>{D(sN(ae)),D(Oo({handler:u,reactEvent:ae}))},[D,u]),le=C.useCallback(ae=>{D(B9()),D(Oo({handler:h,reactEvent:ae}))},[D,h]),ve=C.useCallback(ae=>{D(sN(ae)),D(Oo({handler:p,reactEvent:ae}))},[D,p]),ue=C.useCallback(()=>{D(rB())},[D]),je=C.useCallback(ae=>{D(tB(ae.key))},[D]),te=C.useCallback(ae=>{D(Oo({handler:l,reactEvent:ae}))},[D,l]),F=C.useCallback(ae=>{D(Oo({handler:o,reactEvent:ae}))},[D,o]),M=C.useCallback(ae=>{D(Oo({handler:f,reactEvent:ae}))},[D,f]),q=C.useCallback(ae=>{D(Oo({handler:g,reactEvent:ae}))},[D,g]),W=C.useCallback(ae=>{D(Oo({handler:y,reactEvent:ae}))},[D,y]),Z=C.useCallback(ae=>{A&&D(aB(ae)),D(Oo({handler:b,reactEvent:ae}))},[D,A,b]),oe=C.useCallback(ae=>{D(Oo({handler:x,reactEvent:ae}))},[D,x]),ce=Dbe(E);return C.createElement(iI.Provider,{value:R},C.createElement(AL.Provider,{value:T},C.createElement(ce,{width:z??w?.width,height:K??w?.height,className:nn("recharts-wrapper",n),style:Nbe({position:"relative",cursor:"default",width:z,height:K},w),onClick:pe,onContextMenu:te,onDoubleClick:F,onFocus:ue,onKeyDown:je,onMouseDown:M,onMouseEnter:ne,onMouseLeave:le,onMouseMove:ve,onMouseUp:q,onTouchEnd:oe,onTouchMove:Z,onTouchStart:W,ref:J},C.createElement(Ebe,null),r)))}),Fbe=["width","height","responsive","children","className","style","compact","title","desc"];function Lbe(e,t){if(e==null)return{};var r,n,a=Mbe(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}function Mbe(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}var cB=C.forwardRef((e,t)=>{var{width:r,height:n,responsive:a,children:i,className:l,style:o,compact:f,title:u,desc:h}=e,p=Lbe(e,Fbe),g=ro(p);return f?C.createElement(C.Fragment,null,C.createElement(E2,{width:r,height:n}),C.createElement($O,{otherAttributes:g,title:u,desc:h},i)):C.createElement(Pbe,{className:l,style:o,width:r,height:n,responsive:a,onClick:e.onClick,onMouseLeave:e.onMouseLeave,onMouseEnter:e.onMouseEnter,onMouseMove:e.onMouseMove,onMouseDown:e.onMouseDown,onMouseUp:e.onMouseUp,onContextMenu:e.onContextMenu,onDoubleClick:e.onDoubleClick,onTouchStart:e.onTouchStart,onTouchMove:e.onTouchMove,onTouchEnd:e.onTouchEnd},C.createElement($O,{otherAttributes:g,title:u,desc:h,ref:t},C.createElement(lye,null,i)))});function lN(){return lN=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},lN.apply(null,arguments)}var Rbe={top:5,right:5,bottom:5,left:5},Ibe={accessibilityLayer:!0,layout:"horizontal",stackOffset:"none",barCategoryGap:"10%",barGap:4,margin:Rbe,reverseStackOrder:!1,syncMethod:"index",responsive:!1},uB=C.forwardRef(function(t,r){var n,a=ls(t.categoricalChartProps,Ibe),{chartName:i,defaultTooltipEventType:l,validateTooltipEventTypes:o,tooltipPayloadSearcher:f,categoricalChartProps:u}=t,h={chartName:i,defaultTooltipEventType:l,validateTooltipEventTypes:o,tooltipPayloadSearcher:f,eventEmitter:void 0};return C.createElement(sB,{preloadedState:{options:h},reduxStoreName:(n=u.id)!==null&&n!==void 0?n:i},C.createElement(BI,{chartData:u.data}),C.createElement(lB,{layout:a.layout,margin:a.margin}),C.createElement(oB,{accessibilityLayer:a.accessibilityLayer,barCategoryGap:a.barCategoryGap,maxBarSize:a.maxBarSize,stackOffset:a.stackOffset,barGap:a.barGap,barSize:a.barSize,syncId:a.syncId,syncMethod:a.syncMethod,className:a.className}),C.createElement(cB,lN({},a,{ref:r})))}),Bbe=["axis"],Ube=C.forwardRef((e,t)=>C.createElement(uB,{chartName:"LineChart",defaultTooltipEventType:"axis",validateTooltipEventTypes:Bbe,tooltipPayloadSearcher:fj,categoricalChartProps:e,ref:t})),zbe=["axis","item"],qbe=C.forwardRef((e,t)=>C.createElement(uB,{chartName:"BarChart",defaultTooltipEventType:"axis",validateTooltipEventTypes:zbe,tooltipPayloadSearcher:fj,categoricalChartProps:e,ref:t}));function $be(e){var t=pa();return C.useEffect(()=>{t(ube(e))},[t,e]),null}var Hbe=["layout"];function oN(){return oN=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},oN.apply(null,arguments)}function Vbe(e,t){if(e==null)return{};var r,n,a=Wbe(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}function Wbe(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}var Gbe={top:5,right:5,bottom:5,left:5},Kbe={accessibilityLayer:!0,stackOffset:"none",barCategoryGap:"10%",barGap:4,margin:Gbe,reverseStackOrder:!1,syncMethod:"index",layout:"radial",responsive:!1},Ybe=C.forwardRef(function(t,r){var n,a=ls(t.categoricalChartProps,Kbe),{layout:i}=a,l=Vbe(a,Hbe),{chartName:o,defaultTooltipEventType:f,validateTooltipEventTypes:u,tooltipPayloadSearcher:h}=t,p={chartName:o,defaultTooltipEventType:f,validateTooltipEventTypes:u,tooltipPayloadSearcher:h,eventEmitter:void 0};return C.createElement(sB,{preloadedState:{options:p},reduxStoreName:(n=a.id)!==null&&n!==void 0?n:o},C.createElement(BI,{chartData:a.data}),C.createElement(lB,{layout:i,margin:a.margin}),C.createElement(oB,{accessibilityLayer:a.accessibilityLayer,barCategoryGap:a.barCategoryGap,maxBarSize:a.maxBarSize,stackOffset:a.stackOffset,barGap:a.barGap,barSize:a.barSize,syncId:a.syncId,syncMethod:a.syncMethod,className:a.className}),C.createElement($be,{cx:a.cx,cy:a.cy,startAngle:a.startAngle,endAngle:a.endAngle,innerRadius:a.innerRadius,outerRadius:a.outerRadius}),C.createElement(cB,oN({},l,{ref:r})))}),Xbe=["item"],Qbe={layout:"centric",startAngle:0,endAngle:360,cx:"50%",cy:"50%",innerRadius:0,outerRadius:"80%"},Zbe=C.forwardRef((e,t)=>{var r=ls(e,Qbe);return C.createElement(Ybe,{chartName:"PieChart",defaultTooltipEventType:"item",validateTooltipEventTypes:Xbe,tooltipPayloadSearcher:fj,categoricalChartProps:r,ref:t})});const dd=({title:e,value:t,subtitle:r,icon:n,colorClass:a="bg-blue-500",trend:i})=>s.jsxs("div",{className:"bg-white rounded-lg shadow-sm border p-6 hover:shadow-md transition-shadow",children:[s.jsxs("div",{className:"flex items-center justify-between mb-4",children:[s.jsx("div",{className:`${a} p-3 rounded-lg`,children:s.jsx(n,{className:"h-6 w-6 text-white"})}),i&&s.jsxs("span",{className:`text-sm font-medium ${i.isPositive?"text-green-600":"text-red-600"}`,children:[i.isPositive?"+":"",i.value,"%"]})]}),s.jsxs("div",{children:[s.jsx("p",{className:"text-sm text-gray-600 mb-1",children:e}),s.jsx("p",{className:"text-3xl font-bold text-gray-900",children:t}),r&&s.jsx("p",{className:"text-xs text-gray-500 mt-1",children:r})]})]}),ph={getOverview:async()=>st.get("/analytics/overview"),getPopularFormations:async(e=10)=>st.get("/analytics/popular-formations",{limit:e.toString()}),getEnrollmentTrends:async(e=6)=>st.get("/analytics/enrollment-trends",{months:e.toString()}),getTestPerformance:async()=>st.get("/analytics/test-performance"),getActiveStudents:async(e=10)=>st.get("/analytics/active-students",{limit:e.toString()}),getStudentProgress:async e=>{const t=await st.get(`/analytics/student-progress/${e}`);return{student:t.student,enrollments:t.enrollments,test_history:t.test_history}},getFormationCompletionRates:async()=>st.get("/analytics/formation-completion-rates"),getPeriodStats:async(e=30)=>{const t=await st.get("/analytics/period-stats",{period:e.toString()});return{period_days:t.period_days,stats:t.stats}}},Jbe=()=>hr({queryKey:["analytics","overview"],queryFn:ph.getOverview,staleTime:1e3*60*5,refetchInterval:1e3*60*5}),ewe=(e=10)=>hr({queryKey:["analytics","popular-formations",e],queryFn:()=>ph.getPopularFormations(e),staleTime:1e3*60*10}),twe=(e=6)=>hr({queryKey:["analytics","enrollment-trends",e],queryFn:()=>ph.getEnrollmentTrends(e),staleTime:1e3*60*10}),rwe=(e=10)=>hr({queryKey:["analytics","active-students",e],queryFn:()=>ph.getActiveStudents(e),staleTime:1e3*60*5}),nwe=e=>hr({queryKey:["analytics","student-progress",e],queryFn:()=>{if(!e)throw new Error("Student ID is required");return ph.getStudentProgress(e)},enabled:!!e,staleTime:1e3*60*5}),awe=()=>hr({queryKey:["analytics","formation-completion-rates"],queryFn:ph.getFormationCompletionRates,staleTime:1e3*60*10}),iwe=(e=30)=>hr({queryKey:["analytics","period-stats",e],queryFn:()=>ph.getPeriodStats(e),staleTime:1e3*60*5,refetchInterval:1e3*60*5});function _n(e){"@babel/helpers - typeof";return _n=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},_n(e)}var Ec=Uint8Array,Jl=Uint16Array,Fj=Int32Array,Lj=new Ec([0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0,0,0,0]),Mj=new Ec([0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13,0,0]),VO=new Ec([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]),fB=function(e,t){for(var r=new Jl(31),n=0;n<31;++n)r[n]=t+=1<<e[n-1];for(var a=new Fj(r[30]),n=1;n<30;++n)for(var i=r[n];i<r[n+1];++i)a[i]=i-r[n]<<5|n;return{b:r,r:a}},dB=fB(Lj,2),swe=dB.b,cN=dB.r;swe[28]=258,cN[258]=28;var lwe=fB(Mj,0),WO=lwe.r,uN=new Jl(32768);for(var Qn=0;Qn<32768;++Qn){var hd=(Qn&43690)>>1|(Qn&21845)<<1;hd=(hd&52428)>>2|(hd&13107)<<2,hd=(hd&61680)>>4|(hd&3855)<<4,uN[Qn]=((hd&65280)>>8|(hd&255)<<8)>>1}var Cx=(function(e,t,r){for(var n=e.length,a=0,i=new Jl(t);a<n;++a)e[a]&&++i[e[a]-1];var l=new Jl(t);for(a=1;a<t;++a)l[a]=l[a-1]+i[a-1]<<1;var o;if(r){o=new Jl(1<<t);var f=15-t;for(a=0;a<n;++a)if(e[a])for(var u=a<<4|e[a],h=t-e[a],p=l[e[a]-1]++<<h,g=p|(1<<h)-1;p<=g;++p)o[uN[p]>>f]=u}else for(o=new Jl(n),a=0;a<n;++a)e[a]&&(o[a]=uN[l[e[a]-1]++]>>15-e[a]);return o}),ih=new Ec(288);for(var Qn=0;Qn<144;++Qn)ih[Qn]=8;for(var Qn=144;Qn<256;++Qn)ih[Qn]=9;for(var Qn=256;Qn<280;++Qn)ih[Qn]=7;for(var Qn=280;Qn<288;++Qn)ih[Qn]=8;var Gy=new Ec(32);for(var Qn=0;Qn<32;++Qn)Gy[Qn]=5;var owe=Cx(ih,9,0),cwe=Cx(Gy,5,0),hB=function(e){return(e+7)/8|0},uwe=function(e,t,r){return(r==null||r>e.length)&&(r=e.length),new Ec(e.subarray(t,r))},Hu=function(e,t,r){r<<=t&7;var n=t/8|0;e[n]|=r,e[n+1]|=r>>8},dx=function(e,t,r){r<<=t&7;var n=t/8|0;e[n]|=r,e[n+1]|=r>>8,e[n+2]|=r>>16},d4=function(e,t){for(var r=[],n=0;n<e.length;++n)e[n]&&r.push({s:n,f:e[n]});var a=r.length,i=r.slice();if(!a)return{t:pB,l:0};if(a==1){var l=new Ec(r[0].s+1);return l[r[0].s]=1,{t:l,l:1}}r.sort(function(D,R){return D.f-R.f}),r.push({s:-1,f:25001});var o=r[0],f=r[1],u=0,h=1,p=2;for(r[0]={s:-1,f:o.f+f.f,l:o,r:f};h!=a-1;)o=r[r[u].f<r[p].f?u++:p++],f=r[u!=h&&r[u].f<r[p].f?u++:p++],r[h++]={s:-1,f:o.f+f.f,l:o,r:f};for(var g=i[0].s,n=1;n<a;++n)i[n].s>g&&(g=i[n].s);var x=new Jl(g+1),b=fN(r[h-1],x,0);if(b>t){var n=0,y=0,w=b-t,_=1<<w;for(i.sort(function(R,P){return x[P.s]-x[R.s]||R.f-P.f});n<a;++n){var E=i[n].s;if(x[E]>t)y+=_-(1<<b-x[E]),x[E]=t;else break}for(y>>=w;y>0;){var A=i[n].s;x[A]<t?y-=1<<t-x[A]++-1:++n}for(;n>=0&&y;--n){var O=i[n].s;x[O]==t&&(--x[O],++y)}b=t}return{t:new Ec(x),l:b}},fN=function(e,t,r){return e.s==-1?Math.max(fN(e.l,t,r+1),fN(e.r,t,r+1)):t[e.s]=r},GO=function(e){for(var t=e.length;t&&!e[--t];);for(var r=new Jl(++t),n=0,a=e[0],i=1,l=function(f){r[n++]=f},o=1;o<=t;++o)if(e[o]==a&&o!=t)++i;else{if(!a&&i>2){for(;i>138;i-=138)l(32754);i>2&&(l(i>10?i-11<<5|28690:i-3<<5|12305),i=0)}else if(i>3){for(l(a),--i;i>6;i-=6)l(8304);i>2&&(l(i-3<<5|8208),i=0)}for(;i--;)l(a);i=1,a=e[o]}return{c:r.subarray(0,n),n:t}},hx=function(e,t){for(var r=0,n=0;n<t.length;++n)r+=e[n]*t[n];return r},mB=function(e,t,r){var n=r.length,a=hB(t+2);e[a]=n&255,e[a+1]=n>>8,e[a+2]=e[a]^255,e[a+3]=e[a+1]^255;for(var i=0;i<n;++i)e[a+i+4]=r[i];return(a+4+n)*8},KO=function(e,t,r,n,a,i,l,o,f,u,h){Hu(t,h++,r),++a[256];for(var p=d4(a,15),g=p.t,x=p.l,b=d4(i,15),y=b.t,w=b.l,_=GO(g),E=_.c,A=_.n,O=GO(y),D=O.c,R=O.n,P=new Jl(19),T=0;T<E.length;++T)++P[E[T]&31];for(var T=0;T<D.length;++T)++P[D[T]&31];for(var B=d4(P,7),G=B.t,I=B.l,z=19;z>4&&!G[VO[z-1]];--z);var K=u+5<<3,J=hx(a,ih)+hx(i,Gy)+l,pe=hx(a,g)+hx(i,y)+l+14+3*z+hx(P,G)+2*P[16]+3*P[17]+7*P[18];if(f>=0&&K<=J&&K<=pe)return mB(t,h,e.subarray(f,f+u));var ne,le,ve,ue;if(Hu(t,h,1+(pe<J)),h+=2,pe<J){ne=Cx(g,x,0),le=g,ve=Cx(y,w,0),ue=y;var je=Cx(G,I,0);Hu(t,h,A-257),Hu(t,h+5,R-1),Hu(t,h+10,z-4),h+=14;for(var T=0;T<z;++T)Hu(t,h+3*T,G[VO[T]]);h+=3*z;for(var te=[E,D],F=0;F<2;++F)for(var M=te[F],T=0;T<M.length;++T){var q=M[T]&31;Hu(t,h,je[q]),h+=G[q],q>15&&(Hu(t,h,M[T]>>5&127),h+=M[T]>>12)}}else ne=owe,le=ih,ve=cwe,ue=Gy;for(var T=0;T<o;++T){var W=n[T];if(W>255){var q=W>>18&31;dx(t,h,ne[q+257]),h+=le[q+257],q>7&&(Hu(t,h,W>>23&31),h+=Lj[q]);var Z=W&31;dx(t,h,ve[Z]),h+=ue[Z],Z>3&&(dx(t,h,W>>5&8191),h+=Mj[Z])}else dx(t,h,ne[W]),h+=le[W]}return dx(t,h,ne[256]),h+le[256]},fwe=new Fj([65540,131080,131088,131104,262176,1048704,1048832,2114560,2117632]),pB=new Ec(0),dwe=function(e,t,r,n,a,i){var l=i.z||e.length,o=new Ec(n+l+5*(1+Math.ceil(l/7e3))+a),f=o.subarray(n,o.length-a),u=i.l,h=(i.r||0)&7;if(t){h&&(f[0]=i.r>>3);for(var p=fwe[t-1],g=p>>13,x=p&8191,b=(1<<r)-1,y=i.p||new Jl(32768),w=i.h||new Jl(b+1),_=Math.ceil(r/3),E=2*_,A=function(Ce){return(e[Ce]^e[Ce+1]<<_^e[Ce+2]<<E)&b},O=new Fj(25e3),D=new Jl(288),R=new Jl(32),P=0,T=0,B=i.i||0,G=0,I=i.w||0,z=0;B+2<l;++B){var K=A(B),J=B&32767,pe=w[K];if(y[J]=pe,w[K]=J,I<=B){var ne=l-B;if((P>7e3||G>24576)&&(ne>423||!u)){h=KO(e,f,0,O,D,R,T,G,z,B-z,h),G=P=T=0,z=B;for(var le=0;le<286;++le)D[le]=0;for(var le=0;le<30;++le)R[le]=0}var ve=2,ue=0,je=x,te=J-pe&32767;if(ne>2&&K==A(B-te))for(var F=Math.min(g,ne)-1,M=Math.min(32767,B),q=Math.min(258,ne);te<=M&&--je&&J!=pe;){if(e[B+ve]==e[B+ve-te]){for(var W=0;W<q&&e[B+W]==e[B+W-te];++W);if(W>ve){if(ve=W,ue=te,W>F)break;for(var Z=Math.min(te,W-2),oe=0,le=0;le<Z;++le){var ce=B-te+le&32767,ae=y[ce],Se=ce-ae&32767;Se>oe&&(oe=Se,pe=ce)}}}J=pe,pe=y[J],te+=J-pe&32767}if(ue){O[G++]=268435456|cN[ve]<<18|WO[ue];var De=cN[ve]&31,X=WO[ue]&31;T+=Lj[De]+Mj[X],++D[257+De],++R[X],I=B+ve,++P}else O[G++]=e[B],++D[e[B]]}}for(B=Math.max(B,I);B<l;++B)O[G++]=e[B],++D[e[B]];h=KO(e,f,u,O,D,R,T,G,z,B-z,h),u||(i.r=h&7|f[h/8|0]<<3,h-=7,i.h=w,i.p=y,i.i=B,i.w=I)}else{for(var B=i.w||0;B<l+u;B+=65535){var Ke=B+65535;Ke>=l&&(f[h/8|0]=u,Ke=l),h=mB(f,h+1,e.subarray(B,Ke))}i.i=l}return uwe(o,0,n+hB(h)+a)},xB=function(){var e=1,t=0;return{p:function(r){for(var n=e,a=t,i=r.length|0,l=0;l!=i;){for(var o=Math.min(l+2655,i);l<o;++l)a+=n+=r[l];n=(n&65535)+15*(n>>16),a=(a&65535)+15*(a>>16)}e=n,t=a},d:function(){return e%=65521,t%=65521,(e&255)<<24|(e&65280)<<8|(t&255)<<8|t>>8}}},hwe=function(e,t,r,n,a){if(!a&&(a={l:1},t.dictionary)){var i=t.dictionary.subarray(-32768),l=new Ec(i.length+e.length);l.set(i),l.set(e,i.length),e=l,a.w=i.length}return dwe(e,t.level==null?6:t.level,t.mem==null?a.l?Math.ceil(Math.max(8,Math.min(13,Math.log(e.length)))*1.5):20:12+t.mem,r,n,a)},gB=function(e,t,r){for(;r;++t)e[t]=r,r>>>=8},mwe=function(e,t){var r=t.level,n=r==0?0:r<6?1:r==9?3:2;if(e[0]=120,e[1]=n<<6|(t.dictionary&&32),e[1]|=31-(e[0]<<8|e[1])%31,t.dictionary){var a=xB();a.p(t.dictionary),gB(e,2,a.d())}};function dN(e,t){t||(t={});var r=xB();r.p(e);var n=hwe(e,t,t.dictionary?6:2,4);return mwe(n,t),gB(n,n.length-4,r.d()),n}var pwe=typeof TextDecoder<"u"&&new TextDecoder,xwe=0;try{pwe.decode(pB,{stream:!0}),xwe=1}catch{}function gwe(e){if(Array.isArray(e))return e}function vwe(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n,a,i,l,o=[],f=!0,u=!1;try{if(i=(r=r.call(e)).next,t!==0)for(;!(f=(n=i.call(r)).done)&&(o.push(n.value),o.length!==t);f=!0);}catch(h){u=!0,a=h}finally{try{if(!f&&r.return!=null&&(l=r.return(),Object(l)!==l))return}finally{if(u)throw a}}return o}}function YO(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=Array(t);r<t;r++)n[r]=e[r];return n}function ywe(e,t){if(e){if(typeof e=="string")return YO(e,t);var r={}.toString.call(e).slice(8,-1);return r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set"?Array.from(e):r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?YO(e,t):void 0}}function bwe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function XO(e,t){return gwe(e)||vwe(e,t)||ywe(e,t)||bwe()}function QO(e,t="utf8"){return new TextDecoder(t).decode(e)}const wwe=new TextEncoder;function _we(e){return wwe.encode(e)}const Nwe=1024*8,Swe=(()=>{const e=new Uint8Array(4),t=new Uint32Array(e.buffer);return!((t[0]=1)&e[0])})(),h4={int8:globalThis.Int8Array,uint8:globalThis.Uint8Array,int16:globalThis.Int16Array,uint16:globalThis.Uint16Array,int32:globalThis.Int32Array,uint32:globalThis.Uint32Array,uint64:globalThis.BigUint64Array,int64:globalThis.BigInt64Array,float32:globalThis.Float32Array,float64:globalThis.Float64Array};class Rj{buffer;byteLength;byteOffset;length;offset;lastWrittenByte;littleEndian;_data;_mark;_marks;constructor(t=Nwe,r={}){let n=!1;typeof t=="number"?t=new ArrayBuffer(t):(n=!0,this.lastWrittenByte=t.byteLength);const a=r.offset?r.offset>>>0:0,i=t.byteLength-a;let l=a;(ArrayBuffer.isView(t)||t instanceof Rj)&&(t.byteLength!==t.buffer.byteLength&&(l=t.byteOffset+a),t=t.buffer),n?this.lastWrittenByte=i:this.lastWrittenByte=0,this.buffer=t,this.length=i,this.byteLength=i,this.byteOffset=l,this.offset=0,this.littleEndian=!0,this._data=new DataView(this.buffer,l,i),this._mark=0,this._marks=[]}available(t=1){return this.offset+t<=this.length}isLittleEndian(){return this.littleEndian}setLittleEndian(){return this.littleEndian=!0,this}isBigEndian(){return!this.littleEndian}setBigEndian(){return this.littleEndian=!1,this}skip(t=1){return this.offset+=t,this}back(t=1){return this.offset-=t,this}seek(t){return this.offset=t,this}mark(){return this._mark=this.offset,this}reset(){return this.offset=this._mark,this}pushMark(){return this._marks.push(this.offset),this}popMark(){const t=this._marks.pop();if(t===void 0)throw new Error("Mark stack empty");return this.seek(t),this}rewind(){return this.offset=0,this}ensureAvailable(t=1){if(!this.available(t)){const n=(this.offset+t)*2,a=new Uint8Array(n);a.set(new Uint8Array(this.buffer)),this.buffer=a.buffer,this.length=n,this.byteLength=n,this._data=new DataView(this.buffer)}return this}readBoolean(){return this.readUint8()!==0}readInt8(){return this._data.getInt8(this.offset++)}readUint8(){return this._data.getUint8(this.offset++)}readByte(){return this.readUint8()}readBytes(t=1){return this.readArray(t,"uint8")}readArray(t,r){const n=h4[r].BYTES_PER_ELEMENT*t,a=this.byteOffset+this.offset,i=this.buffer.slice(a,a+n);if(this.littleEndian===Swe&&r!=="uint8"&&r!=="int8"){const o=new Uint8Array(this.buffer.slice(a,a+n));o.reverse();const f=new h4[r](o.buffer);return this.offset+=n,f.reverse(),f}const l=new h4[r](i);return this.offset+=n,l}readInt16(){const t=this._data.getInt16(this.offset,this.littleEndian);return this.offset+=2,t}readUint16(){const t=this._data.getUint16(this.offset,this.littleEndian);return this.offset+=2,t}readInt32(){const t=this._data.getInt32(this.offset,this.littleEndian);return this.offset+=4,t}readUint32(){const t=this._data.getUint32(this.offset,this.littleEndian);return this.offset+=4,t}readFloat32(){const t=this._data.getFloat32(this.offset,this.littleEndian);return this.offset+=4,t}readFloat64(){const t=this._data.getFloat64(this.offset,this.littleEndian);return this.offset+=8,t}readBigInt64(){const t=this._data.getBigInt64(this.offset,this.littleEndian);return this.offset+=8,t}readBigUint64(){const t=this._data.getBigUint64(this.offset,this.littleEndian);return this.offset+=8,t}readChar(){return String.fromCharCode(this.readInt8())}readChars(t=1){let r="";for(let n=0;n<t;n++)r+=this.readChar();return r}readUtf8(t=1){return QO(this.readBytes(t))}decodeText(t=1,r="utf8"){return QO(this.readBytes(t),r)}writeBoolean(t){return this.writeUint8(t?255:0),this}writeInt8(t){return this.ensureAvailable(1),this._data.setInt8(this.offset++,t),this._updateLastWrittenByte(),this}writeUint8(t){return this.ensureAvailable(1),this._data.setUint8(this.offset++,t),this._updateLastWrittenByte(),this}writeByte(t){return this.writeUint8(t)}writeBytes(t){this.ensureAvailable(t.length);for(let r=0;r<t.length;r++)this._data.setUint8(this.offset++,t[r]);return this._updateLastWrittenByte(),this}writeInt16(t){return this.ensureAvailable(2),this._data.setInt16(this.offset,t,this.littleEndian),this.offset+=2,this._updateLastWrittenByte(),this}writeUint16(t){return this.ensureAvailable(2),this._data.setUint16(this.offset,t,this.littleEndian),this.offset+=2,this._updateLastWrittenByte(),this}writeInt32(t){return this.ensureAvailable(4),this._data.setInt32(this.offset,t,this.littleEndian),this.offset+=4,this._updateLastWrittenByte(),this}writeUint32(t){return this.ensureAvailable(4),this._data.setUint32(this.offset,t,this.littleEndian),this.offset+=4,this._updateLastWrittenByte(),this}writeFloat32(t){return this.ensureAvailable(4),this._data.setFloat32(this.offset,t,this.littleEndian),this.offset+=4,this._updateLastWrittenByte(),this}writeFloat64(t){return this.ensureAvailable(8),this._data.setFloat64(this.offset,t,this.littleEndian),this.offset+=8,this._updateLastWrittenByte(),this}writeBigInt64(t){return this.ensureAvailable(8),this._data.setBigInt64(this.offset,t,this.littleEndian),this.offset+=8,this._updateLastWrittenByte(),this}writeBigUint64(t){return this.ensureAvailable(8),this._data.setBigUint64(this.offset,t,this.littleEndian),this.offset+=8,this._updateLastWrittenByte(),this}writeChar(t){return this.writeUint8(t.charCodeAt(0))}writeChars(t){for(let r=0;r<t.length;r++)this.writeUint8(t.charCodeAt(r));return this}writeUtf8(t){return this.writeBytes(_we(t))}toArray(){return new Uint8Array(this.buffer,this.byteOffset,this.lastWrittenByte)}getWrittenByteLength(){return this.lastWrittenByte-this.byteOffset}_updateLastWrittenByte(){this.offset>this.lastWrittenByte&&(this.lastWrittenByte=this.offset)}}function vp(e){let t=e.length;for(;--t>=0;)e[t]=0}const jwe=3,Awe=258,vB=29,Ewe=256,kwe=Ewe+1+vB,yB=30,Cwe=512,Twe=new Array((kwe+2)*2);vp(Twe);const Owe=new Array(yB*2);vp(Owe);const Dwe=new Array(Cwe);vp(Dwe);const Pwe=new Array(Awe-jwe+1);vp(Pwe);const Fwe=new Array(vB);vp(Fwe);const Lwe=new Array(yB);vp(Lwe);const Mwe=(e,t,r,n)=>{let a=e&65535|0,i=e>>>16&65535|0,l=0;for(;r!==0;){l=r>2e3?2e3:r,r-=l;do a=a+t[n++]|0,i=i+a|0;while(--l);a%=65521,i%=65521}return a|i<<16|0};var hN=Mwe;const Rwe=()=>{let e,t=[];for(var r=0;r<256;r++){e=r;for(var n=0;n<8;n++)e=e&1?3988292384^e>>>1:e>>>1;t[r]=e}return t},Iwe=new Uint32Array(Rwe()),Bwe=(e,t,r,n)=>{const a=Iwe,i=n+r;e^=-1;for(let l=n;l<i;l++)e=e>>>8^a[(e^t[l])&255];return e^-1};var tu=Bwe,mN={2:"need dictionary",1:"stream end",0:"","-1":"file error","-2":"stream error","-3":"data error","-4":"insufficient memory","-5":"buffer error","-6":"incompatible version"},bB={Z_NO_FLUSH:0,Z_FINISH:4,Z_BLOCK:5,Z_TREES:6,Z_OK:0,Z_STREAM_END:1,Z_NEED_DICT:2,Z_STREAM_ERROR:-2,Z_DATA_ERROR:-3,Z_MEM_ERROR:-4,Z_BUF_ERROR:-5,Z_DEFLATED:8};const Uwe=(e,t)=>Object.prototype.hasOwnProperty.call(e,t);var zwe=function(e){const t=Array.prototype.slice.call(arguments,1);for(;t.length;){const r=t.shift();if(r){if(typeof r!="object")throw new TypeError(r+"must be non-object");for(const n in r)Uwe(r,n)&&(e[n]=r[n])}}return e},qwe=e=>{let t=0;for(let n=0,a=e.length;n<a;n++)t+=e[n].length;const r=new Uint8Array(t);for(let n=0,a=0,i=e.length;n<i;n++){let l=e[n];r.set(l,a),a+=l.length}return r},wB={assign:zwe,flattenChunks:qwe};let _B=!0;try{String.fromCharCode.apply(null,new Uint8Array(1))}catch{_B=!1}const fg=new Uint8Array(256);for(let e=0;e<256;e++)fg[e]=e>=252?6:e>=248?5:e>=240?4:e>=224?3:e>=192?2:1;fg[254]=fg[254]=1;var $we=e=>{if(typeof TextEncoder=="function"&&TextEncoder.prototype.encode)return new TextEncoder().encode(e);let t,r,n,a,i,l=e.length,o=0;for(a=0;a<l;a++)r=e.charCodeAt(a),(r&64512)===55296&&a+1<l&&(n=e.charCodeAt(a+1),(n&64512)===56320&&(r=65536+(r-55296<<10)+(n-56320),a++)),o+=r<128?1:r<2048?2:r<65536?3:4;for(t=new Uint8Array(o),i=0,a=0;i<o;a++)r=e.charCodeAt(a),(r&64512)===55296&&a+1<l&&(n=e.charCodeAt(a+1),(n&64512)===56320&&(r=65536+(r-55296<<10)+(n-56320),a++)),r<128?t[i++]=r:r<2048?(t[i++]=192|r>>>6,t[i++]=128|r&63):r<65536?(t[i++]=224|r>>>12,t[i++]=128|r>>>6&63,t[i++]=128|r&63):(t[i++]=240|r>>>18,t[i++]=128|r>>>12&63,t[i++]=128|r>>>6&63,t[i++]=128|r&63);return t};const Hwe=(e,t)=>{if(t<65534&&e.subarray&&_B)return String.fromCharCode.apply(null,e.length===t?e:e.subarray(0,t));let r="";for(let n=0;n<t;n++)r+=String.fromCharCode(e[n]);return r};var Vwe=(e,t)=>{const r=t||e.length;if(typeof TextDecoder=="function"&&TextDecoder.prototype.decode)return new TextDecoder().decode(e.subarray(0,t));let n,a;const i=new Array(r*2);for(a=0,n=0;n<r;){let l=e[n++];if(l<128){i[a++]=l;continue}let o=fg[l];if(o>4){i[a++]=65533,n+=o-1;continue}for(l&=o===2?31:o===3?15:7;o>1&&n<r;)l=l<<6|e[n++]&63,o--;if(o>1){i[a++]=65533;continue}l<65536?i[a++]=l:(l-=65536,i[a++]=55296|l>>10&1023,i[a++]=56320|l&1023)}return Hwe(i,a)},Wwe=(e,t)=>{t=t||e.length,t>e.length&&(t=e.length);let r=t-1;for(;r>=0&&(e[r]&192)===128;)r--;return r<0||r===0?t:r+fg[e[r]]>t?r:t},pN={string2buf:$we,buf2string:Vwe,utf8border:Wwe};function Gwe(){this.input=null,this.next_in=0,this.avail_in=0,this.total_in=0,this.output=null,this.next_out=0,this.avail_out=0,this.total_out=0,this.msg="",this.state=null,this.data_type=2,this.adler=0}var Kwe=Gwe;const vv=16209,Ywe=16191;var Xwe=function(t,r){let n,a,i,l,o,f,u,h,p,g,x,b,y,w,_,E,A,O,D,R,P,T,B,G;const I=t.state;n=t.next_in,B=t.input,a=n+(t.avail_in-5),i=t.next_out,G=t.output,l=i-(r-t.avail_out),o=i+(t.avail_out-257),f=I.dmax,u=I.wsize,h=I.whave,p=I.wnext,g=I.window,x=I.hold,b=I.bits,y=I.lencode,w=I.distcode,_=(1<<I.lenbits)-1,E=(1<<I.distbits)-1;e:do{b<15&&(x+=B[n++]<<b,b+=8,x+=B[n++]<<b,b+=8),A=y[x&_];t:for(;;){if(O=A>>>24,x>>>=O,b-=O,O=A>>>16&255,O===0)G[i++]=A&65535;else if(O&16){D=A&65535,O&=15,O&&(b<O&&(x+=B[n++]<<b,b+=8),D+=x&(1<<O)-1,x>>>=O,b-=O),b<15&&(x+=B[n++]<<b,b+=8,x+=B[n++]<<b,b+=8),A=w[x&E];r:for(;;){if(O=A>>>24,x>>>=O,b-=O,O=A>>>16&255,O&16){if(R=A&65535,O&=15,b<O&&(x+=B[n++]<<b,b+=8,b<O&&(x+=B[n++]<<b,b+=8)),R+=x&(1<<O)-1,R>f){t.msg="invalid distance too far back",I.mode=vv;break e}if(x>>>=O,b-=O,O=i-l,R>O){if(O=R-O,O>h&&I.sane){t.msg="invalid distance too far back",I.mode=vv;break e}if(P=0,T=g,p===0){if(P+=u-O,O<D){D-=O;do G[i++]=g[P++];while(--O);P=i-R,T=G}}else if(p<O){if(P+=u+p-O,O-=p,O<D){D-=O;do G[i++]=g[P++];while(--O);if(P=0,p<D){O=p,D-=O;do G[i++]=g[P++];while(--O);P=i-R,T=G}}}else if(P+=p-O,O<D){D-=O;do G[i++]=g[P++];while(--O);P=i-R,T=G}for(;D>2;)G[i++]=T[P++],G[i++]=T[P++],G[i++]=T[P++],D-=3;D&&(G[i++]=T[P++],D>1&&(G[i++]=T[P++]))}else{P=i-R;do G[i++]=G[P++],G[i++]=G[P++],G[i++]=G[P++],D-=3;while(D>2);D&&(G[i++]=G[P++],D>1&&(G[i++]=G[P++]))}}else if((O&64)===0){A=w[(A&65535)+(x&(1<<O)-1)];continue r}else{t.msg="invalid distance code",I.mode=vv;break e}break}}else if((O&64)===0){A=y[(A&65535)+(x&(1<<O)-1)];continue t}else if(O&32){I.mode=Ywe;break e}else{t.msg="invalid literal/length code",I.mode=vv;break e}break}}while(n<a&&i<o);D=b>>3,n-=D,b-=D<<3,x&=(1<<b)-1,t.next_in=n,t.next_out=i,t.avail_in=n<a?5+(a-n):5-(n-a),t.avail_out=i<o?257+(o-i):257-(i-o),I.hold=x,I.bits=b};const hm=15,ZO=852,JO=592,e7=0,m4=1,t7=2,Qwe=new Uint16Array([3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258,0,0]),Zwe=new Uint8Array([16,16,16,16,16,16,16,16,17,17,17,17,18,18,18,18,19,19,19,19,20,20,20,20,21,21,21,21,16,72,78]),Jwe=new Uint16Array([1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577,0,0]),e5e=new Uint8Array([16,16,16,16,17,17,18,18,19,19,20,20,21,21,22,22,23,23,24,24,25,25,26,26,27,27,28,28,29,29,64,64]),t5e=(e,t,r,n,a,i,l,o)=>{const f=o.bits;let u=0,h=0,p=0,g=0,x=0,b=0,y=0,w=0,_=0,E=0,A,O,D,R,P,T=null,B;const G=new Uint16Array(hm+1),I=new Uint16Array(hm+1);let z=null,K,J,pe;for(u=0;u<=hm;u++)G[u]=0;for(h=0;h<n;h++)G[t[r+h]]++;for(x=f,g=hm;g>=1&&G[g]===0;g--);if(x>g&&(x=g),g===0)return a[i++]=1<<24|64<<16|0,a[i++]=1<<24|64<<16|0,o.bits=1,0;for(p=1;p<g&&G[p]===0;p++);for(x<p&&(x=p),w=1,u=1;u<=hm;u++)if(w<<=1,w-=G[u],w<0)return-1;if(w>0&&(e===e7||g!==1))return-1;for(I[1]=0,u=1;u<hm;u++)I[u+1]=I[u]+G[u];for(h=0;h<n;h++)t[r+h]!==0&&(l[I[t[r+h]]++]=h);if(e===e7?(T=z=l,B=20):e===m4?(T=Qwe,z=Zwe,B=257):(T=Jwe,z=e5e,B=0),E=0,h=0,u=p,P=i,b=x,y=0,D=-1,_=1<<x,R=_-1,e===m4&&_>ZO||e===t7&&_>JO)return 1;for(;;){K=u-y,l[h]+1<B?(J=0,pe=l[h]):l[h]>=B?(J=z[l[h]-B],pe=T[l[h]-B]):(J=96,pe=0),A=1<<u-y,O=1<<b,p=O;do O-=A,a[P+(E>>y)+O]=K<<24|J<<16|pe|0;while(O!==0);for(A=1<<u-1;E&A;)A>>=1;if(A!==0?(E&=A-1,E+=A):E=0,h++,--G[u]===0){if(u===g)break;u=t[r+l[h]]}if(u>x&&(E&R)!==D){for(y===0&&(y=x),P+=p,b=u-y,w=1<<b;b+y<g&&(w-=G[b+y],!(w<=0));)b++,w<<=1;if(_+=1<<b,e===m4&&_>ZO||e===t7&&_>JO)return 1;D=E&R,a[D]=x<<24|b<<16|P-i|0}}return E!==0&&(a[P+E]=u-y<<24|64<<16|0),o.bits=x,0};var Tx=t5e;const r5e=0,NB=1,SB=2,{Z_FINISH:r7,Z_BLOCK:n5e,Z_TREES:yv,Z_OK:sh,Z_STREAM_END:a5e,Z_NEED_DICT:i5e,Z_STREAM_ERROR:$o,Z_DATA_ERROR:jB,Z_MEM_ERROR:AB,Z_BUF_ERROR:s5e,Z_DEFLATED:n7}=bB,X2=16180,a7=16181,i7=16182,s7=16183,l7=16184,o7=16185,c7=16186,u7=16187,f7=16188,d7=16189,Ky=16190,Vu=16191,p4=16192,h7=16193,x4=16194,m7=16195,p7=16196,x7=16197,g7=16198,bv=16199,wv=16200,v7=16201,y7=16202,b7=16203,w7=16204,_7=16205,g4=16206,N7=16207,S7=16208,la=16209,EB=16210,kB=16211,l5e=852,o5e=592,c5e=15,u5e=c5e,j7=e=>(e>>>24&255)+(e>>>8&65280)+((e&65280)<<8)+((e&255)<<24);function f5e(){this.strm=null,this.mode=0,this.last=!1,this.wrap=0,this.havedict=!1,this.flags=0,this.dmax=0,this.check=0,this.total=0,this.head=null,this.wbits=0,this.wsize=0,this.whave=0,this.wnext=0,this.window=null,this.hold=0,this.bits=0,this.length=0,this.offset=0,this.extra=0,this.lencode=null,this.distcode=null,this.lenbits=0,this.distbits=0,this.ncode=0,this.nlen=0,this.ndist=0,this.have=0,this.next=null,this.lens=new Uint16Array(320),this.work=new Uint16Array(288),this.lendyn=null,this.distdyn=null,this.sane=0,this.back=0,this.was=0}const xh=e=>{if(!e)return 1;const t=e.state;return!t||t.strm!==e||t.mode<X2||t.mode>kB?1:0},CB=e=>{if(xh(e))return $o;const t=e.state;return e.total_in=e.total_out=t.total=0,e.msg="",t.wrap&&(e.adler=t.wrap&1),t.mode=X2,t.last=0,t.havedict=0,t.flags=-1,t.dmax=32768,t.head=null,t.hold=0,t.bits=0,t.lencode=t.lendyn=new Int32Array(l5e),t.distcode=t.distdyn=new Int32Array(o5e),t.sane=1,t.back=-1,sh},TB=e=>{if(xh(e))return $o;const t=e.state;return t.wsize=0,t.whave=0,t.wnext=0,CB(e)},OB=(e,t)=>{let r;if(xh(e))return $o;const n=e.state;return t<0?(r=0,t=-t):(r=(t>>4)+5,t<48&&(t&=15)),t&&(t<8||t>15)?$o:(n.window!==null&&n.wbits!==t&&(n.window=null),n.wrap=r,n.wbits=t,TB(e))},DB=(e,t)=>{if(!e)return $o;const r=new f5e;e.state=r,r.strm=e,r.window=null,r.mode=X2;const n=OB(e,t);return n!==sh&&(e.state=null),n},d5e=e=>DB(e,u5e);let A7=!0,v4,y4;const h5e=e=>{if(A7){v4=new Int32Array(512),y4=new Int32Array(32);let t=0;for(;t<144;)e.lens[t++]=8;for(;t<256;)e.lens[t++]=9;for(;t<280;)e.lens[t++]=7;for(;t<288;)e.lens[t++]=8;for(Tx(NB,e.lens,0,288,v4,0,e.work,{bits:9}),t=0;t<32;)e.lens[t++]=5;Tx(SB,e.lens,0,32,y4,0,e.work,{bits:5}),A7=!1}e.lencode=v4,e.lenbits=9,e.distcode=y4,e.distbits=5},PB=(e,t,r,n)=>{let a;const i=e.state;return i.window===null&&(i.wsize=1<<i.wbits,i.wnext=0,i.whave=0,i.window=new Uint8Array(i.wsize)),n>=i.wsize?(i.window.set(t.subarray(r-i.wsize,r),0),i.wnext=0,i.whave=i.wsize):(a=i.wsize-i.wnext,a>n&&(a=n),i.window.set(t.subarray(r-n,r-n+a),i.wnext),n-=a,n?(i.window.set(t.subarray(r-n,r),0),i.wnext=n,i.whave=i.wsize):(i.wnext+=a,i.wnext===i.wsize&&(i.wnext=0),i.whave<i.wsize&&(i.whave+=a))),0},m5e=(e,t)=>{let r,n,a,i,l,o,f,u,h,p,g,x,b,y,w=0,_,E,A,O,D,R,P,T;const B=new Uint8Array(4);let G,I;const z=new Uint8Array([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]);if(xh(e)||!e.output||!e.input&&e.avail_in!==0)return $o;r=e.state,r.mode===Vu&&(r.mode=p4),l=e.next_out,a=e.output,f=e.avail_out,i=e.next_in,n=e.input,o=e.avail_in,u=r.hold,h=r.bits,p=o,g=f,T=sh;e:for(;;)switch(r.mode){case X2:if(r.wrap===0){r.mode=p4;break}for(;h<16;){if(o===0)break e;o--,u+=n[i++]<<h,h+=8}if(r.wrap&2&&u===35615){r.wbits===0&&(r.wbits=15),r.check=0,B[0]=u&255,B[1]=u>>>8&255,r.check=tu(r.check,B,2,0),u=0,h=0,r.mode=a7;break}if(r.head&&(r.head.done=!1),!(r.wrap&1)||(((u&255)<<8)+(u>>8))%31){e.msg="incorrect header check",r.mode=la;break}if((u&15)!==n7){e.msg="unknown compression method",r.mode=la;break}if(u>>>=4,h-=4,P=(u&15)+8,r.wbits===0&&(r.wbits=P),P>15||P>r.wbits){e.msg="invalid window size",r.mode=la;break}r.dmax=1<<r.wbits,r.flags=0,e.adler=r.check=1,r.mode=u&512?d7:Vu,u=0,h=0;break;case a7:for(;h<16;){if(o===0)break e;o--,u+=n[i++]<<h,h+=8}if(r.flags=u,(r.flags&255)!==n7){e.msg="unknown compression method",r.mode=la;break}if(r.flags&57344){e.msg="unknown header flags set",r.mode=la;break}r.head&&(r.head.text=u>>8&1),r.flags&512&&r.wrap&4&&(B[0]=u&255,B[1]=u>>>8&255,r.check=tu(r.check,B,2,0)),u=0,h=0,r.mode=i7;case i7:for(;h<32;){if(o===0)break e;o--,u+=n[i++]<<h,h+=8}r.head&&(r.head.time=u),r.flags&512&&r.wrap&4&&(B[0]=u&255,B[1]=u>>>8&255,B[2]=u>>>16&255,B[3]=u>>>24&255,r.check=tu(r.check,B,4,0)),u=0,h=0,r.mode=s7;case s7:for(;h<16;){if(o===0)break e;o--,u+=n[i++]<<h,h+=8}r.head&&(r.head.xflags=u&255,r.head.os=u>>8),r.flags&512&&r.wrap&4&&(B[0]=u&255,B[1]=u>>>8&255,r.check=tu(r.check,B,2,0)),u=0,h=0,r.mode=l7;case l7:if(r.flags&1024){for(;h<16;){if(o===0)break e;o--,u+=n[i++]<<h,h+=8}r.length=u,r.head&&(r.head.extra_len=u),r.flags&512&&r.wrap&4&&(B[0]=u&255,B[1]=u>>>8&255,r.check=tu(r.check,B,2,0)),u=0,h=0}else r.head&&(r.head.extra=null);r.mode=o7;case o7:if(r.flags&1024&&(x=r.length,x>o&&(x=o),x&&(r.head&&(P=r.head.extra_len-r.length,r.head.extra||(r.head.extra=new Uint8Array(r.head.extra_len)),r.head.extra.set(n.subarray(i,i+x),P)),r.flags&512&&r.wrap&4&&(r.check=tu(r.check,n,x,i)),o-=x,i+=x,r.length-=x),r.length))break e;r.length=0,r.mode=c7;case c7:if(r.flags&2048){if(o===0)break e;x=0;do P=n[i+x++],r.head&&P&&r.length<65536&&(r.head.name+=String.fromCharCode(P));while(P&&x<o);if(r.flags&512&&r.wrap&4&&(r.check=tu(r.check,n,x,i)),o-=x,i+=x,P)break e}else r.head&&(r.head.name=null);r.length=0,r.mode=u7;case u7:if(r.flags&4096){if(o===0)break e;x=0;do P=n[i+x++],r.head&&P&&r.length<65536&&(r.head.comment+=String.fromCharCode(P));while(P&&x<o);if(r.flags&512&&r.wrap&4&&(r.check=tu(r.check,n,x,i)),o-=x,i+=x,P)break e}else r.head&&(r.head.comment=null);r.mode=f7;case f7:if(r.flags&512){for(;h<16;){if(o===0)break e;o--,u+=n[i++]<<h,h+=8}if(r.wrap&4&&u!==(r.check&65535)){e.msg="header crc mismatch",r.mode=la;break}u=0,h=0}r.head&&(r.head.hcrc=r.flags>>9&1,r.head.done=!0),e.adler=r.check=0,r.mode=Vu;break;case d7:for(;h<32;){if(o===0)break e;o--,u+=n[i++]<<h,h+=8}e.adler=r.check=j7(u),u=0,h=0,r.mode=Ky;case Ky:if(r.havedict===0)return e.next_out=l,e.avail_out=f,e.next_in=i,e.avail_in=o,r.hold=u,r.bits=h,i5e;e.adler=r.check=1,r.mode=Vu;case Vu:if(t===n5e||t===yv)break e;case p4:if(r.last){u>>>=h&7,h-=h&7,r.mode=g4;break}for(;h<3;){if(o===0)break e;o--,u+=n[i++]<<h,h+=8}switch(r.last=u&1,u>>>=1,h-=1,u&3){case 0:r.mode=h7;break;case 1:if(h5e(r),r.mode=bv,t===yv){u>>>=2,h-=2;break e}break;case 2:r.mode=p7;break;case 3:e.msg="invalid block type",r.mode=la}u>>>=2,h-=2;break;case h7:for(u>>>=h&7,h-=h&7;h<32;){if(o===0)break e;o--,u+=n[i++]<<h,h+=8}if((u&65535)!==(u>>>16^65535)){e.msg="invalid stored block lengths",r.mode=la;break}if(r.length=u&65535,u=0,h=0,r.mode=x4,t===yv)break e;case x4:r.mode=m7;case m7:if(x=r.length,x){if(x>o&&(x=o),x>f&&(x=f),x===0)break e;a.set(n.subarray(i,i+x),l),o-=x,i+=x,f-=x,l+=x,r.length-=x;break}r.mode=Vu;break;case p7:for(;h<14;){if(o===0)break e;o--,u+=n[i++]<<h,h+=8}if(r.nlen=(u&31)+257,u>>>=5,h-=5,r.ndist=(u&31)+1,u>>>=5,h-=5,r.ncode=(u&15)+4,u>>>=4,h-=4,r.nlen>286||r.ndist>30){e.msg="too many length or distance symbols",r.mode=la;break}r.have=0,r.mode=x7;case x7:for(;r.have<r.ncode;){for(;h<3;){if(o===0)break e;o--,u+=n[i++]<<h,h+=8}r.lens[z[r.have++]]=u&7,u>>>=3,h-=3}for(;r.have<19;)r.lens[z[r.have++]]=0;if(r.lencode=r.lendyn,r.lenbits=7,G={bits:r.lenbits},T=Tx(r5e,r.lens,0,19,r.lencode,0,r.work,G),r.lenbits=G.bits,T){e.msg="invalid code lengths set",r.mode=la;break}r.have=0,r.mode=g7;case g7:for(;r.have<r.nlen+r.ndist;){for(;w=r.lencode[u&(1<<r.lenbits)-1],_=w>>>24,E=w>>>16&255,A=w&65535,!(_<=h);){if(o===0)break e;o--,u+=n[i++]<<h,h+=8}if(A<16)u>>>=_,h-=_,r.lens[r.have++]=A;else{if(A===16){for(I=_+2;h<I;){if(o===0)break e;o--,u+=n[i++]<<h,h+=8}if(u>>>=_,h-=_,r.have===0){e.msg="invalid bit length repeat",r.mode=la;break}P=r.lens[r.have-1],x=3+(u&3),u>>>=2,h-=2}else if(A===17){for(I=_+3;h<I;){if(o===0)break e;o--,u+=n[i++]<<h,h+=8}u>>>=_,h-=_,P=0,x=3+(u&7),u>>>=3,h-=3}else{for(I=_+7;h<I;){if(o===0)break e;o--,u+=n[i++]<<h,h+=8}u>>>=_,h-=_,P=0,x=11+(u&127),u>>>=7,h-=7}if(r.have+x>r.nlen+r.ndist){e.msg="invalid bit length repeat",r.mode=la;break}for(;x--;)r.lens[r.have++]=P}}if(r.mode===la)break;if(r.lens[256]===0){e.msg="invalid code -- missing end-of-block",r.mode=la;break}if(r.lenbits=9,G={bits:r.lenbits},T=Tx(NB,r.lens,0,r.nlen,r.lencode,0,r.work,G),r.lenbits=G.bits,T){e.msg="invalid literal/lengths set",r.mode=la;break}if(r.distbits=6,r.distcode=r.distdyn,G={bits:r.distbits},T=Tx(SB,r.lens,r.nlen,r.ndist,r.distcode,0,r.work,G),r.distbits=G.bits,T){e.msg="invalid distances set",r.mode=la;break}if(r.mode=bv,t===yv)break e;case bv:r.mode=wv;case wv:if(o>=6&&f>=258){e.next_out=l,e.avail_out=f,e.next_in=i,e.avail_in=o,r.hold=u,r.bits=h,Xwe(e,g),l=e.next_out,a=e.output,f=e.avail_out,i=e.next_in,n=e.input,o=e.avail_in,u=r.hold,h=r.bits,r.mode===Vu&&(r.back=-1);break}for(r.back=0;w=r.lencode[u&(1<<r.lenbits)-1],_=w>>>24,E=w>>>16&255,A=w&65535,!(_<=h);){if(o===0)break e;o--,u+=n[i++]<<h,h+=8}if(E&&(E&240)===0){for(O=_,D=E,R=A;w=r.lencode[R+((u&(1<<O+D)-1)>>O)],_=w>>>24,E=w>>>16&255,A=w&65535,!(O+_<=h);){if(o===0)break e;o--,u+=n[i++]<<h,h+=8}u>>>=O,h-=O,r.back+=O}if(u>>>=_,h-=_,r.back+=_,r.length=A,E===0){r.mode=_7;break}if(E&32){r.back=-1,r.mode=Vu;break}if(E&64){e.msg="invalid literal/length code",r.mode=la;break}r.extra=E&15,r.mode=v7;case v7:if(r.extra){for(I=r.extra;h<I;){if(o===0)break e;o--,u+=n[i++]<<h,h+=8}r.length+=u&(1<<r.extra)-1,u>>>=r.extra,h-=r.extra,r.back+=r.extra}r.was=r.length,r.mode=y7;case y7:for(;w=r.distcode[u&(1<<r.distbits)-1],_=w>>>24,E=w>>>16&255,A=w&65535,!(_<=h);){if(o===0)break e;o--,u+=n[i++]<<h,h+=8}if((E&240)===0){for(O=_,D=E,R=A;w=r.distcode[R+((u&(1<<O+D)-1)>>O)],_=w>>>24,E=w>>>16&255,A=w&65535,!(O+_<=h);){if(o===0)break e;o--,u+=n[i++]<<h,h+=8}u>>>=O,h-=O,r.back+=O}if(u>>>=_,h-=_,r.back+=_,E&64){e.msg="invalid distance code",r.mode=la;break}r.offset=A,r.extra=E&15,r.mode=b7;case b7:if(r.extra){for(I=r.extra;h<I;){if(o===0)break e;o--,u+=n[i++]<<h,h+=8}r.offset+=u&(1<<r.extra)-1,u>>>=r.extra,h-=r.extra,r.back+=r.extra}if(r.offset>r.dmax){e.msg="invalid distance too far back",r.mode=la;break}r.mode=w7;case w7:if(f===0)break e;if(x=g-f,r.offset>x){if(x=r.offset-x,x>r.whave&&r.sane){e.msg="invalid distance too far back",r.mode=la;break}x>r.wnext?(x-=r.wnext,b=r.wsize-x):b=r.wnext-x,x>r.length&&(x=r.length),y=r.window}else y=a,b=l-r.offset,x=r.length;x>f&&(x=f),f-=x,r.length-=x;do a[l++]=y[b++];while(--x);r.length===0&&(r.mode=wv);break;case _7:if(f===0)break e;a[l++]=r.length,f--,r.mode=wv;break;case g4:if(r.wrap){for(;h<32;){if(o===0)break e;o--,u|=n[i++]<<h,h+=8}if(g-=f,e.total_out+=g,r.total+=g,r.wrap&4&&g&&(e.adler=r.check=r.flags?tu(r.check,a,g,l-g):hN(r.check,a,g,l-g)),g=f,r.wrap&4&&(r.flags?u:j7(u))!==r.check){e.msg="incorrect data check",r.mode=la;break}u=0,h=0}r.mode=N7;case N7:if(r.wrap&&r.flags){for(;h<32;){if(o===0)break e;o--,u+=n[i++]<<h,h+=8}if(r.wrap&4&&u!==(r.total&4294967295)){e.msg="incorrect length check",r.mode=la;break}u=0,h=0}r.mode=S7;case S7:T=a5e;break e;case la:T=jB;break e;case EB:return AB;case kB:default:return $o}return e.next_out=l,e.avail_out=f,e.next_in=i,e.avail_in=o,r.hold=u,r.bits=h,(r.wsize||g!==e.avail_out&&r.mode<la&&(r.mode<g4||t!==r7))&&PB(e,e.output,e.next_out,g-e.avail_out),p-=e.avail_in,g-=e.avail_out,e.total_in+=p,e.total_out+=g,r.total+=g,r.wrap&4&&g&&(e.adler=r.check=r.flags?tu(r.check,a,g,e.next_out-g):hN(r.check,a,g,e.next_out-g)),e.data_type=r.bits+(r.last?64:0)+(r.mode===Vu?128:0)+(r.mode===bv||r.mode===x4?256:0),(p===0&&g===0||t===r7)&&T===sh&&(T=s5e),T},p5e=e=>{if(xh(e))return $o;let t=e.state;return t.window&&(t.window=null),e.state=null,sh},x5e=(e,t)=>{if(xh(e))return $o;const r=e.state;return(r.wrap&2)===0?$o:(r.head=t,t.done=!1,sh)},g5e=(e,t)=>{const r=t.length;let n,a,i;return xh(e)||(n=e.state,n.wrap!==0&&n.mode!==Ky)?$o:n.mode===Ky&&(a=1,a=hN(a,t,r,0),a!==n.check)?jB:(i=PB(e,t,r,r),i?(n.mode=EB,AB):(n.havedict=1,sh))};var v5e=TB,y5e=OB,b5e=CB,w5e=d5e,_5e=DB,N5e=m5e,S5e=p5e,j5e=x5e,A5e=g5e,E5e="pako inflate (from Nodeca project)",Wu={inflateReset:v5e,inflateReset2:y5e,inflateResetKeep:b5e,inflateInit:w5e,inflateInit2:_5e,inflate:N5e,inflateEnd:S5e,inflateGetHeader:j5e,inflateSetDictionary:A5e,inflateInfo:E5e};function k5e(){this.text=0,this.time=0,this.xflags=0,this.os=0,this.extra=null,this.extra_len=0,this.name="",this.comment="",this.hcrc=0,this.done=!1}var C5e=k5e;const FB=Object.prototype.toString,{Z_NO_FLUSH:T5e,Z_FINISH:O5e,Z_OK:dg,Z_STREAM_END:b4,Z_NEED_DICT:w4,Z_STREAM_ERROR:D5e,Z_DATA_ERROR:E7,Z_MEM_ERROR:P5e}=bB;function Kg(e){this.options=wB.assign({chunkSize:1024*64,windowBits:15,to:""},e||{});const t=this.options;t.raw&&t.windowBits>=0&&t.windowBits<16&&(t.windowBits=-t.windowBits,t.windowBits===0&&(t.windowBits=-15)),t.windowBits>=0&&t.windowBits<16&&!(e&&e.windowBits)&&(t.windowBits+=32),t.windowBits>15&&t.windowBits<48&&(t.windowBits&15)===0&&(t.windowBits|=15),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new Kwe,this.strm.avail_out=0;let r=Wu.inflateInit2(this.strm,t.windowBits);if(r!==dg)throw new Error(mN[r]);if(this.header=new C5e,Wu.inflateGetHeader(this.strm,this.header),t.dictionary&&(typeof t.dictionary=="string"?t.dictionary=pN.string2buf(t.dictionary):FB.call(t.dictionary)==="[object ArrayBuffer]"&&(t.dictionary=new Uint8Array(t.dictionary)),t.raw&&(r=Wu.inflateSetDictionary(this.strm,t.dictionary),r!==dg)))throw new Error(mN[r])}Kg.prototype.push=function(e,t){const r=this.strm,n=this.options.chunkSize,a=this.options.dictionary;let i,l,o;if(this.ended)return!1;for(t===~~t?l=t:l=t===!0?O5e:T5e,FB.call(e)==="[object ArrayBuffer]"?r.input=new Uint8Array(e):r.input=e,r.next_in=0,r.avail_in=r.input.length;;){for(r.avail_out===0&&(r.output=new Uint8Array(n),r.next_out=0,r.avail_out=n),i=Wu.inflate(r,l),i===w4&&a&&(i=Wu.inflateSetDictionary(r,a),i===dg?i=Wu.inflate(r,l):i===E7&&(i=w4));r.avail_in>0&&i===b4&&r.state.wrap>0&&e[r.next_in]!==0;)Wu.inflateReset(r),i=Wu.inflate(r,l);switch(i){case D5e:case E7:case w4:case P5e:return this.onEnd(i),this.ended=!0,!1}if(o=r.avail_out,r.next_out&&(r.avail_out===0||i===b4))if(this.options.to==="string"){let f=pN.utf8border(r.output,r.next_out),u=r.next_out-f,h=pN.buf2string(r.output,f);r.next_out=u,r.avail_out=n-u,u&&r.output.set(r.output.subarray(f,f+u),0),this.onData(h)}else this.onData(r.output.length===r.next_out?r.output:r.output.subarray(0,r.next_out));if(!(i===dg&&o===0)){if(i===b4)return i=Wu.inflateEnd(this.strm),this.onEnd(i),this.ended=!0,!0;if(r.avail_in===0)break}}return!0};Kg.prototype.onData=function(e){this.chunks.push(e)};Kg.prototype.onEnd=function(e){e===dg&&(this.options.to==="string"?this.result=this.chunks.join(""):this.result=wB.flattenChunks(this.chunks)),this.chunks=[],this.err=e,this.msg=this.strm.msg};function F5e(e,t){const r=new Kg(t);if(r.push(e),r.err)throw r.msg||mN[r.err];return r.result}var L5e=Kg,M5e=F5e,R5e={Inflate:L5e,inflate:M5e};const{Inflate:I5e,inflate:B5e}=R5e;var k7=I5e,U5e=B5e;const LB=[];for(let e=0;e<256;e++){let t=e;for(let r=0;r<8;r++)t&1?t=3988292384^t>>>1:t=t>>>1;LB[e]=t}const C7=4294967295;function z5e(e,t,r){let n=e;for(let a=0;a<r;a++)n=LB[(n^t[a])&255]^n>>>8;return n}function q5e(e,t){return(z5e(C7,e,t)^C7)>>>0}function T7(e,t,r){const n=e.readUint32(),a=q5e(new Uint8Array(e.buffer,e.byteOffset+e.offset-t-4,t),t);if(a!==n)throw new Error(`CRC mismatch for chunk ${r}. Expected ${n}, found ${a}`)}function MB(e,t,r){for(let n=0;n<r;n++)t[n]=e[n]}function RB(e,t,r,n){let a=0;for(;a<n;a++)t[a]=e[a];for(;a<r;a++)t[a]=e[a]+t[a-n]&255}function IB(e,t,r,n){let a=0;if(r.length===0)for(;a<n;a++)t[a]=e[a];else for(;a<n;a++)t[a]=e[a]+r[a]&255}function BB(e,t,r,n,a){let i=0;if(r.length===0){for(;i<a;i++)t[i]=e[i];for(;i<n;i++)t[i]=e[i]+(t[i-a]>>1)&255}else{for(;i<a;i++)t[i]=e[i]+(r[i]>>1)&255;for(;i<n;i++)t[i]=e[i]+(t[i-a]+r[i]>>1)&255}}function UB(e,t,r,n,a){let i=0;if(r.length===0){for(;i<a;i++)t[i]=e[i];for(;i<n;i++)t[i]=e[i]+t[i-a]&255}else{for(;i<a;i++)t[i]=e[i]+r[i]&255;for(;i<n;i++)t[i]=e[i]+$5e(t[i-a],r[i],r[i-a])&255}}function $5e(e,t,r){const n=e+t-r,a=Math.abs(n-e),i=Math.abs(n-t),l=Math.abs(n-r);return a<=i&&a<=l?e:i<=l?t:r}function H5e(e,t,r,n,a,i){switch(e){case 0:MB(t,r,a);break;case 1:RB(t,r,a,i);break;case 2:IB(t,r,n,a);break;case 3:BB(t,r,n,a,i);break;case 4:UB(t,r,n,a,i);break;default:throw new Error(`Unsupported filter: ${e}`)}}const V5e=new Uint16Array([255]),W5e=new Uint8Array(V5e.buffer),G5e=W5e[0]===255;function K5e(e){const{data:t,width:r,height:n,channels:a,depth:i}=e,l=[{x:0,y:0,xStep:8,yStep:8},{x:4,y:0,xStep:8,yStep:8},{x:0,y:4,xStep:4,yStep:8},{x:2,y:0,xStep:4,yStep:4},{x:0,y:2,xStep:2,yStep:4},{x:1,y:0,xStep:2,yStep:2},{x:0,y:1,xStep:1,yStep:2}],o=Math.ceil(i/8)*a,f=new Uint8Array(n*r*o);let u=0;for(let h=0;h<7;h++){const p=l[h],g=Math.ceil((r-p.x)/p.xStep),x=Math.ceil((n-p.y)/p.yStep);if(g<=0||x<=0)continue;const b=g*o,y=new Uint8Array(b);for(let w=0;w<x;w++){const _=t[u++],E=t.subarray(u,u+b);u+=b;const A=new Uint8Array(b);H5e(_,E,A,y,b,o),y.set(A);for(let O=0;O<g;O++){const D=p.x+O*p.xStep,R=p.y+w*p.yStep;if(!(D>=r||R>=n))for(let P=0;P<o;P++)f[(R*r+D)*o+P]=A[O*o+P]}}}if(i===16){const h=new Uint16Array(f.buffer);if(G5e)for(let p=0;p<h.length;p++)h[p]=Y5e(h[p]);return h}else return f}function Y5e(e){return(e&255)<<8|e>>8&255}const X5e=new Uint16Array([255]),Q5e=new Uint8Array(X5e.buffer),Z5e=Q5e[0]===255,J5e=new Uint8Array(0);function O7(e){const{data:t,width:r,height:n,channels:a,depth:i}=e,l=Math.ceil(i/8)*a,o=Math.ceil(i/8*a*r),f=new Uint8Array(n*o);let u=J5e,h=0,p,g;for(let x=0;x<n;x++){switch(p=t.subarray(h+1,h+1+o),g=f.subarray(x*o,(x+1)*o),t[h]){case 0:MB(p,g,o);break;case 1:RB(p,g,o,l);break;case 2:IB(p,g,u,o);break;case 3:BB(p,g,u,o,l);break;case 4:UB(p,g,u,o,l);break;default:throw new Error(`Unsupported filter: ${t[h]}`)}u=g,h+=o+1}if(i===16){const x=new Uint16Array(f.buffer);if(Z5e)for(let b=0;b<x.length;b++)x[b]=e4e(x[b]);return x}else return f}function e4e(e){return(e&255)<<8|e>>8&255}const Lv=Uint8Array.of(137,80,78,71,13,10,26,10);function D7(e){if(!t4e(e.readBytes(Lv.length)))throw new Error("wrong PNG signature")}function t4e(e){if(e.length<Lv.length)return!1;for(let t=0;t<Lv.length;t++)if(e[t]!==Lv[t])return!1;return!0}const r4e="tEXt",n4e=0,zB=new TextDecoder("latin1");function a4e(e){if(s4e(e),e.length===0||e.length>79)throw new Error("keyword length must be between 1 and 79")}const i4e=/^[\u0000-\u00FF]*$/;function s4e(e){if(!i4e.test(e))throw new Error("invalid latin1 text")}function l4e(e,t,r){const n=qB(t);e[n]=o4e(t,r-n.length-1)}function qB(e){for(e.mark();e.readByte()!==n4e;);const t=e.offset;e.reset();const r=zB.decode(e.readBytes(t-e.offset-1));return e.skip(1),a4e(r),r}function o4e(e,t){return zB.decode(e.readBytes(t))}const $l={UNKNOWN:-1,GREYSCALE:0,TRUECOLOUR:2,INDEXED_COLOUR:3,GREYSCALE_ALPHA:4,TRUECOLOUR_ALPHA:6},_4={UNKNOWN:-1,DEFLATE:0},P7={UNKNOWN:-1,ADAPTIVE:0},N4={UNKNOWN:-1,NO_INTERLACE:0,ADAM7:1},_v={NONE:0,BACKGROUND:1,PREVIOUS:2},S4={SOURCE:0,OVER:1};class c4e extends Rj{_checkCrc;_inflator;_png;_apng;_end;_hasPalette;_palette;_hasTransparency;_transparency;_compressionMethod;_filterMethod;_interlaceMethod;_colorType;_isAnimated;_numberOfFrames;_numberOfPlays;_frames;_writingDataChunks;constructor(t,r={}){super(t);const{checkCrc:n=!1}=r;this._checkCrc=n,this._inflator=new k7,this._png={width:-1,height:-1,channels:-1,data:new Uint8Array(0),depth:1,text:{}},this._apng={width:-1,height:-1,channels:-1,depth:1,numberOfFrames:1,numberOfPlays:0,text:{},frames:[]},this._end=!1,this._hasPalette=!1,this._palette=[],this._hasTransparency=!1,this._transparency=new Uint16Array(0),this._compressionMethod=_4.UNKNOWN,this._filterMethod=P7.UNKNOWN,this._interlaceMethod=N4.UNKNOWN,this._colorType=$l.UNKNOWN,this._isAnimated=!1,this._numberOfFrames=1,this._numberOfPlays=0,this._frames=[],this._writingDataChunks=!1,this.setBigEndian()}decode(){for(D7(this);!this._end;){const t=this.readUint32(),r=this.readChars(4);this.decodeChunk(t,r)}return this.decodeImage(),this._png}decodeApng(){for(D7(this);!this._end;){const t=this.readUint32(),r=this.readChars(4);this.decodeApngChunk(t,r)}return this.decodeApngImage(),this._apng}decodeChunk(t,r){const n=this.offset;switch(r){case"IHDR":this.decodeIHDR();break;case"PLTE":this.decodePLTE(t);break;case"IDAT":this.decodeIDAT(t);break;case"IEND":this._end=!0;break;case"tRNS":this.decodetRNS(t);break;case"iCCP":this.decodeiCCP(t);break;case r4e:l4e(this._png.text,this,t);break;case"pHYs":this.decodepHYs();break;default:this.skip(t);break}if(this.offset-n!==t)throw new Error(`Length mismatch while decoding chunk ${r}`);this._checkCrc?T7(this,t+4,r):this.skip(4)}decodeApngChunk(t,r){const n=this.offset;switch(r!=="fdAT"&&r!=="IDAT"&&this._writingDataChunks&&this.pushDataToFrame(),r){case"acTL":this.decodeACTL();break;case"fcTL":this.decodeFCTL();break;case"fdAT":this.decodeFDAT(t);break;default:this.decodeChunk(t,r),this.offset=n+t;break}if(this.offset-n!==t)throw new Error(`Length mismatch while decoding chunk ${r}`);this._checkCrc?T7(this,t+4,r):this.skip(4)}decodeIHDR(){const t=this._png;t.width=this.readUint32(),t.height=this.readUint32(),t.depth=u4e(this.readUint8());const r=this.readUint8();this._colorType=r;let n;switch(r){case $l.GREYSCALE:n=1;break;case $l.TRUECOLOUR:n=3;break;case $l.INDEXED_COLOUR:n=1;break;case $l.GREYSCALE_ALPHA:n=2;break;case $l.TRUECOLOUR_ALPHA:n=4;break;case $l.UNKNOWN:default:throw new Error(`Unknown color type: ${r}`)}if(this._png.channels=n,this._compressionMethod=this.readUint8(),this._compressionMethod!==_4.DEFLATE)throw new Error(`Unsupported compression method: ${this._compressionMethod}`);this._filterMethod=this.readUint8(),this._interlaceMethod=this.readUint8()}decodeACTL(){this._numberOfFrames=this.readUint32(),this._numberOfPlays=this.readUint32(),this._isAnimated=!0}decodeFCTL(){const t={sequenceNumber:this.readUint32(),width:this.readUint32(),height:this.readUint32(),xOffset:this.readUint32(),yOffset:this.readUint32(),delayNumber:this.readUint16(),delayDenominator:this.readUint16(),disposeOp:this.readUint8(),blendOp:this.readUint8(),data:new Uint8Array(0)};this._frames.push(t)}decodePLTE(t){if(t%3!==0)throw new RangeError(`PLTE field length must be a multiple of 3. Got ${t}`);const r=t/3;this._hasPalette=!0;const n=[];this._palette=n;for(let a=0;a<r;a++)n.push([this.readUint8(),this.readUint8(),this.readUint8()])}decodeIDAT(t){this._writingDataChunks=!0;const r=t,n=this.offset+this.byteOffset;if(this._inflator.push(new Uint8Array(this.buffer,n,r)),this._inflator.err)throw new Error(`Error while decompressing the data: ${this._inflator.err}`);this.skip(t)}decodeFDAT(t){this._writingDataChunks=!0;let r=t,n=this.offset+this.byteOffset;if(n+=4,r-=4,this._inflator.push(new Uint8Array(this.buffer,n,r)),this._inflator.err)throw new Error(`Error while decompressing the data: ${this._inflator.err}`);this.skip(t)}decodetRNS(t){switch(this._colorType){case $l.GREYSCALE:case $l.TRUECOLOUR:{if(t%2!==0)throw new RangeError(`tRNS chunk length must be a multiple of 2. Got ${t}`);if(t/2>this._png.width*this._png.height)throw new Error(`tRNS chunk contains more alpha values than there are pixels (${t/2} vs ${this._png.width*this._png.height})`);this._hasTransparency=!0,this._transparency=new Uint16Array(t/2);for(let r=0;r<t/2;r++)this._transparency[r]=this.readUint16();break}case $l.INDEXED_COLOUR:{if(t>this._palette.length)throw new Error(`tRNS chunk contains more alpha values than there are palette colors (${t} vs ${this._palette.length})`);let r=0;for(;r<t;r++){const n=this.readByte();this._palette[r].push(n)}for(;r<this._palette.length;r++)this._palette[r].push(255);break}case $l.UNKNOWN:case $l.GREYSCALE_ALPHA:case $l.TRUECOLOUR_ALPHA:default:throw new Error(`tRNS chunk is not supported for color type ${this._colorType}`)}}decodeiCCP(t){const r=qB(this),n=this.readUint8();if(n!==_4.DEFLATE)throw new Error(`Unsupported iCCP compression method: ${n}`);const a=this.readBytes(t-r.length-2);this._png.iccEmbeddedProfile={name:r,profile:U5e(a)}}decodepHYs(){const t=this.readUint32(),r=this.readUint32(),n=this.readByte();this._png.resolution={x:t,y:r,unit:n}}decodeApngImage(){this._apng.width=this._png.width,this._apng.height=this._png.height,this._apng.channels=this._png.channels,this._apng.depth=this._png.depth,this._apng.numberOfFrames=this._numberOfFrames,this._apng.numberOfPlays=this._numberOfPlays,this._apng.text=this._png.text,this._apng.resolution=this._png.resolution;for(let t=0;t<this._numberOfFrames;t++){const r={sequenceNumber:this._frames[t].sequenceNumber,delayNumber:this._frames[t].delayNumber,delayDenominator:this._frames[t].delayDenominator,data:this._apng.depth===8?new Uint8Array(this._apng.width*this._apng.height*this._apng.channels):new Uint16Array(this._apng.width*this._apng.height*this._apng.channels)},n=this._frames.at(t);if(n){if(n.data=O7({data:n.data,width:n.width,height:n.height,channels:this._apng.channels,depth:this._apng.depth}),this._hasPalette&&(this._apng.palette=this._palette),this._hasTransparency&&(this._apng.transparency=this._transparency),t===0||n.xOffset===0&&n.yOffset===0&&n.width===this._png.width&&n.height===this._png.height)r.data=n.data;else{const a=this._apng.frames.at(t-1);this.disposeFrame(n,a,r),this.addFrameDataToCanvas(r,n)}this._apng.frames.push(r)}}return this._apng}disposeFrame(t,r,n){switch(t.disposeOp){case _v.NONE:break;case _v.BACKGROUND:for(let a=0;a<this._png.height;a++)for(let i=0;i<this._png.width;i++){const l=(a*t.width+i)*this._png.channels;for(let o=0;o<this._png.channels;o++)n.data[l+o]=0}break;case _v.PREVIOUS:n.data.set(r.data);break;default:throw new Error("Unknown disposeOp")}}addFrameDataToCanvas(t,r){const n=1<<this._png.depth,a=(i,l)=>{const o=((i+r.yOffset)*this._png.width+r.xOffset+l)*this._png.channels,f=(i*r.width+l)*this._png.channels;return{index:o,frameIndex:f}};switch(r.blendOp){case S4.SOURCE:for(let i=0;i<r.height;i++)for(let l=0;l<r.width;l++){const{index:o,frameIndex:f}=a(i,l);for(let u=0;u<this._png.channels;u++)t.data[o+u]=r.data[f+u]}break;case S4.OVER:for(let i=0;i<r.height;i++)for(let l=0;l<r.width;l++){const{index:o,frameIndex:f}=a(i,l);for(let u=0;u<this._png.channels;u++){const h=r.data[f+this._png.channels-1]/n,p=u%(this._png.channels-1)===0?1:r.data[f+u],g=Math.floor(h*p+(1-h)*t.data[o+u]);t.data[o+u]+=g}}break;default:throw new Error("Unknown blendOp")}}decodeImage(){if(this._inflator.err)throw new Error(`Error while decompressing the data: ${this._inflator.err}`);const t=this._isAnimated?(this._frames?.at(0)).data:this._inflator.result;if(this._filterMethod!==P7.ADAPTIVE)throw new Error(`Filter method ${this._filterMethod} not supported`);if(this._interlaceMethod===N4.NO_INTERLACE)this._png.data=O7({data:t,width:this._png.width,height:this._png.height,channels:this._png.channels,depth:this._png.depth});else if(this._interlaceMethod===N4.ADAM7)this._png.data=K5e({data:t,width:this._png.width,height:this._png.height,channels:this._png.channels,depth:this._png.depth});else throw new Error(`Interlace method ${this._interlaceMethod} not supported`);this._hasPalette&&(this._png.palette=this._palette),this._hasTransparency&&(this._png.transparency=this._transparency)}pushDataToFrame(){const t=this._inflator.result,r=this._frames.at(-1);r?r.data=t:this._frames.push({sequenceNumber:0,width:this._png.width,height:this._png.height,xOffset:0,yOffset:0,delayNumber:0,delayDenominator:0,disposeOp:_v.NONE,blendOp:S4.SOURCE,data:t}),this._inflator=new k7,this._writingDataChunks=!1}}function u4e(e){if(e!==1&&e!==2&&e!==4&&e!==8&&e!==16)throw new Error(`invalid bit depth: ${e}`);return e}var F7;(function(e){e[e.UNKNOWN=0]="UNKNOWN",e[e.METRE=1]="METRE"})(F7||(F7={}));function f4e(e,t){return new c4e(e,t).decode()}var pr=(function(){return typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:this})();function j4(){pr.console&&typeof pr.console.log=="function"&&pr.console.log.apply(pr.console,arguments)}var Rn={log:j4,warn:function(e){pr.console&&(typeof pr.console.warn=="function"?pr.console.warn.apply(pr.console,arguments):j4.call(null,arguments))},error:function(e){pr.console&&(typeof pr.console.error=="function"?pr.console.error.apply(pr.console,arguments):j4(e))}};function A4(e,t,r){var n=new XMLHttpRequest;n.open("GET",e),n.responseType="blob",n.onload=function(){N0(n.response,t,r)},n.onerror=function(){Rn.error("could not download file")},n.send()}function L7(e){var t=new XMLHttpRequest;t.open("HEAD",e,!1);try{t.send()}catch{}return t.status>=200&&t.status<=299}function Nv(e){try{e.dispatchEvent(new MouseEvent("click"))}catch{var t=document.createEvent("MouseEvents");t.initMouseEvent("click",!0,!0,window,0,0,0,80,20,!1,!1,!1,!1,0,null),e.dispatchEvent(t)}}var N0=pr.saveAs||((typeof window>"u"?"undefined":_n(window))!=="object"||window!==pr?function(){}:typeof HTMLAnchorElement<"u"&&"download"in HTMLAnchorElement.prototype?function(e,t,r){var n=pr.URL||pr.webkitURL,a=document.createElement("a");t=t||e.name||"download",a.download=t,a.rel="noopener",typeof e=="string"?(a.href=e,a.origin!==location.origin?L7(a.href)?A4(e,t,r):Nv(a,a.target="_blank"):Nv(a)):(a.href=n.createObjectURL(e),setTimeout(function(){n.revokeObjectURL(a.href)},4e4),setTimeout(function(){Nv(a)},0))}:"msSaveOrOpenBlob"in navigator?function(e,t,r){if(t=t||e.name||"download",typeof e=="string")if(L7(e))A4(e,t,r);else{var n=document.createElement("a");n.href=e,n.target="_blank",setTimeout(function(){Nv(n)})}else navigator.msSaveOrOpenBlob((function(a,i){return i===void 0?i={autoBom:!1}:_n(i)!=="object"&&(Rn.warn("Deprecated: Expected third argument to be a object"),i={autoBom:!i}),i.autoBom&&/^\s*(?:text\/\S*|application\/xml|\S*\/\S*\+xml)\s*;.*charset\s*=\s*utf-8/i.test(a.type)?new Blob(["\uFEFF",a],{type:a.type}):a})(e,r),t)}:function(e,t,r,n){if((n=n||open("","_blank"))&&(n.document.title=n.document.body.innerText="downloading..."),typeof e=="string")return A4(e,t,r);var a=e.type==="application/octet-stream",i=/constructor/i.test(pr.HTMLElement)||pr.safari,l=/CriOS\/[\d]+/.test(navigator.userAgent);if((l||a&&i)&&(typeof FileReader>"u"?"undefined":_n(FileReader))==="object"){var o=new FileReader;o.onloadend=function(){var h=o.result;h=l?h:h.replace(/^data:[^;]*;/,"data:attachment/file;"),n?n.location.href=h:location=h,n=null},o.readAsDataURL(e)}else{var f=pr.URL||pr.webkitURL,u=f.createObjectURL(e);n?n.location=u:location.href=u,n=null,setTimeout(function(){f.revokeObjectURL(u)},4e4)}});/**
 * A class to parse color values
 * @author Stoyan Stefanov <sstoo@gmail.com>
 * {@link   http://www.phpied.com/rgb-color-parser-in-javascript/}
 * @license Use it if you like it
 */function $B(e){var t;e=e||"",this.ok=!1,e.charAt(0)=="#"&&(e=e.substr(1,6)),e={aliceblue:"f0f8ff",antiquewhite:"faebd7",aqua:"00ffff",aquamarine:"7fffd4",azure:"f0ffff",beige:"f5f5dc",bisque:"ffe4c4",black:"000000",blanchedalmond:"ffebcd",blue:"0000ff",blueviolet:"8a2be2",brown:"a52a2a",burlywood:"deb887",cadetblue:"5f9ea0",chartreuse:"7fff00",chocolate:"d2691e",coral:"ff7f50",cornflowerblue:"6495ed",cornsilk:"fff8dc",crimson:"dc143c",cyan:"00ffff",darkblue:"00008b",darkcyan:"008b8b",darkgoldenrod:"b8860b",darkgray:"a9a9a9",darkgreen:"006400",darkkhaki:"bdb76b",darkmagenta:"8b008b",darkolivegreen:"556b2f",darkorange:"ff8c00",darkorchid:"9932cc",darkred:"8b0000",darksalmon:"e9967a",darkseagreen:"8fbc8f",darkslateblue:"483d8b",darkslategray:"2f4f4f",darkturquoise:"00ced1",darkviolet:"9400d3",deeppink:"ff1493",deepskyblue:"00bfff",dimgray:"696969",dodgerblue:"1e90ff",feldspar:"d19275",firebrick:"b22222",floralwhite:"fffaf0",forestgreen:"228b22",fuchsia:"ff00ff",gainsboro:"dcdcdc",ghostwhite:"f8f8ff",gold:"ffd700",goldenrod:"daa520",gray:"808080",green:"008000",greenyellow:"adff2f",honeydew:"f0fff0",hotpink:"ff69b4",indianred:"cd5c5c",indigo:"4b0082",ivory:"fffff0",khaki:"f0e68c",lavender:"e6e6fa",lavenderblush:"fff0f5",lawngreen:"7cfc00",lemonchiffon:"fffacd",lightblue:"add8e6",lightcoral:"f08080",lightcyan:"e0ffff",lightgoldenrodyellow:"fafad2",lightgrey:"d3d3d3",lightgreen:"90ee90",lightpink:"ffb6c1",lightsalmon:"ffa07a",lightseagreen:"20b2aa",lightskyblue:"87cefa",lightslateblue:"8470ff",lightslategray:"778899",lightsteelblue:"b0c4de",lightyellow:"ffffe0",lime:"00ff00",limegreen:"32cd32",linen:"faf0e6",magenta:"ff00ff",maroon:"800000",mediumaquamarine:"66cdaa",mediumblue:"0000cd",mediumorchid:"ba55d3",mediumpurple:"9370d8",mediumseagreen:"3cb371",mediumslateblue:"7b68ee",mediumspringgreen:"00fa9a",mediumturquoise:"48d1cc",mediumvioletred:"c71585",midnightblue:"191970",mintcream:"f5fffa",mistyrose:"ffe4e1",moccasin:"ffe4b5",navajowhite:"ffdead",navy:"000080",oldlace:"fdf5e6",olive:"808000",olivedrab:"6b8e23",orange:"ffa500",orangered:"ff4500",orchid:"da70d6",palegoldenrod:"eee8aa",palegreen:"98fb98",paleturquoise:"afeeee",palevioletred:"d87093",papayawhip:"ffefd5",peachpuff:"ffdab9",peru:"cd853f",pink:"ffc0cb",plum:"dda0dd",powderblue:"b0e0e6",purple:"800080",red:"ff0000",rosybrown:"bc8f8f",royalblue:"4169e1",saddlebrown:"8b4513",salmon:"fa8072",sandybrown:"f4a460",seagreen:"2e8b57",seashell:"fff5ee",sienna:"a0522d",silver:"c0c0c0",skyblue:"87ceeb",slateblue:"6a5acd",slategray:"708090",snow:"fffafa",springgreen:"00ff7f",steelblue:"4682b4",tan:"d2b48c",teal:"008080",thistle:"d8bfd8",tomato:"ff6347",turquoise:"40e0d0",violet:"ee82ee",violetred:"d02090",wheat:"f5deb3",white:"ffffff",whitesmoke:"f5f5f5",yellow:"ffff00",yellowgreen:"9acd32"}[e=(e=e.replace(/ /g,"")).toLowerCase()]||e;for(var r=[{re:/^rgb\((\d{1,3}),\s*(\d{1,3}),\s*(\d{1,3})\)$/,example:["rgb(123, 234, 45)","rgb(255,234,245)"],process:function(o){return[parseInt(o[1]),parseInt(o[2]),parseInt(o[3])]}},{re:/^(\w{2})(\w{2})(\w{2})$/,example:["#00ff00","336699"],process:function(o){return[parseInt(o[1],16),parseInt(o[2],16),parseInt(o[3],16)]}},{re:/^(\w{1})(\w{1})(\w{1})$/,example:["#fb0","f0f"],process:function(o){return[parseInt(o[1]+o[1],16),parseInt(o[2]+o[2],16),parseInt(o[3]+o[3],16)]}}],n=0;n<r.length;n++){var a=r[n].re,i=r[n].process,l=a.exec(e);l&&(t=i(l),this.r=t[0],this.g=t[1],this.b=t[2],this.ok=!0)}this.r=this.r<0||isNaN(this.r)?0:this.r>255?255:this.r,this.g=this.g<0||isNaN(this.g)?0:this.g>255?255:this.g,this.b=this.b<0||isNaN(this.b)?0:this.b>255?255:this.b,this.toRGB=function(){return"rgb("+this.r+", "+this.g+", "+this.b+")"},this.toHex=function(){var o=this.r.toString(16),f=this.g.toString(16),u=this.b.toString(16);return o.length==1&&(o="0"+o),f.length==1&&(f="0"+f),u.length==1&&(u="0"+u),"#"+o+f+u}}var Mv=pr.atob.bind(pr),M7=pr.btoa.bind(pr);/**
 * @license
 * Joseph Myers does not specify a particular license for his work.
 *
 * Author: Joseph Myers
 * Accessed from: http://www.myersdaily.org/joseph/javascript/md5.js
 *
 * Modified by: Owen Leong
 */function E4(e,t){var r=e[0],n=e[1],a=e[2],i=e[3];r=ms(r,n,a,i,t[0],7,-680876936),i=ms(i,r,n,a,t[1],12,-389564586),a=ms(a,i,r,n,t[2],17,606105819),n=ms(n,a,i,r,t[3],22,-1044525330),r=ms(r,n,a,i,t[4],7,-176418897),i=ms(i,r,n,a,t[5],12,1200080426),a=ms(a,i,r,n,t[6],17,-1473231341),n=ms(n,a,i,r,t[7],22,-45705983),r=ms(r,n,a,i,t[8],7,1770035416),i=ms(i,r,n,a,t[9],12,-1958414417),a=ms(a,i,r,n,t[10],17,-42063),n=ms(n,a,i,r,t[11],22,-1990404162),r=ms(r,n,a,i,t[12],7,1804603682),i=ms(i,r,n,a,t[13],12,-40341101),a=ms(a,i,r,n,t[14],17,-1502002290),r=ps(r,n=ms(n,a,i,r,t[15],22,1236535329),a,i,t[1],5,-165796510),i=ps(i,r,n,a,t[6],9,-1069501632),a=ps(a,i,r,n,t[11],14,643717713),n=ps(n,a,i,r,t[0],20,-373897302),r=ps(r,n,a,i,t[5],5,-701558691),i=ps(i,r,n,a,t[10],9,38016083),a=ps(a,i,r,n,t[15],14,-660478335),n=ps(n,a,i,r,t[4],20,-405537848),r=ps(r,n,a,i,t[9],5,568446438),i=ps(i,r,n,a,t[14],9,-1019803690),a=ps(a,i,r,n,t[3],14,-187363961),n=ps(n,a,i,r,t[8],20,1163531501),r=ps(r,n,a,i,t[13],5,-1444681467),i=ps(i,r,n,a,t[2],9,-51403784),a=ps(a,i,r,n,t[7],14,1735328473),r=xs(r,n=ps(n,a,i,r,t[12],20,-1926607734),a,i,t[5],4,-378558),i=xs(i,r,n,a,t[8],11,-2022574463),a=xs(a,i,r,n,t[11],16,1839030562),n=xs(n,a,i,r,t[14],23,-35309556),r=xs(r,n,a,i,t[1],4,-1530992060),i=xs(i,r,n,a,t[4],11,1272893353),a=xs(a,i,r,n,t[7],16,-155497632),n=xs(n,a,i,r,t[10],23,-1094730640),r=xs(r,n,a,i,t[13],4,681279174),i=xs(i,r,n,a,t[0],11,-358537222),a=xs(a,i,r,n,t[3],16,-722521979),n=xs(n,a,i,r,t[6],23,76029189),r=xs(r,n,a,i,t[9],4,-640364487),i=xs(i,r,n,a,t[12],11,-421815835),a=xs(a,i,r,n,t[15],16,530742520),r=gs(r,n=xs(n,a,i,r,t[2],23,-995338651),a,i,t[0],6,-198630844),i=gs(i,r,n,a,t[7],10,1126891415),a=gs(a,i,r,n,t[14],15,-1416354905),n=gs(n,a,i,r,t[5],21,-57434055),r=gs(r,n,a,i,t[12],6,1700485571),i=gs(i,r,n,a,t[3],10,-1894986606),a=gs(a,i,r,n,t[10],15,-1051523),n=gs(n,a,i,r,t[1],21,-2054922799),r=gs(r,n,a,i,t[8],6,1873313359),i=gs(i,r,n,a,t[15],10,-30611744),a=gs(a,i,r,n,t[6],15,-1560198380),n=gs(n,a,i,r,t[13],21,1309151649),r=gs(r,n,a,i,t[4],6,-145523070),i=gs(i,r,n,a,t[11],10,-1120210379),a=gs(a,i,r,n,t[2],15,718787259),n=gs(n,a,i,r,t[9],21,-343485551),e[0]=wd(r,e[0]),e[1]=wd(n,e[1]),e[2]=wd(a,e[2]),e[3]=wd(i,e[3])}function Q2(e,t,r,n,a,i){return t=wd(wd(t,e),wd(n,i)),wd(t<<a|t>>>32-a,r)}function ms(e,t,r,n,a,i,l){return Q2(t&r|~t&n,e,t,a,i,l)}function ps(e,t,r,n,a,i,l){return Q2(t&n|r&~n,e,t,a,i,l)}function xs(e,t,r,n,a,i,l){return Q2(t^r^n,e,t,a,i,l)}function gs(e,t,r,n,a,i,l){return Q2(r^(t|~n),e,t,a,i,l)}function HB(e){var t,r=e.length,n=[1732584193,-271733879,-1732584194,271733878];for(t=64;t<=e.length;t+=64)E4(n,d4e(e.substring(t-64,t)));e=e.substring(t-64);var a=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0];for(t=0;t<e.length;t++)a[t>>2]|=e.charCodeAt(t)<<(t%4<<3);if(a[t>>2]|=128<<(t%4<<3),t>55)for(E4(n,a),t=0;t<16;t++)a[t]=0;return a[14]=8*r,E4(n,a),n}function d4e(e){var t,r=[];for(t=0;t<64;t+=4)r[t>>2]=e.charCodeAt(t)+(e.charCodeAt(t+1)<<8)+(e.charCodeAt(t+2)<<16)+(e.charCodeAt(t+3)<<24);return r}var R7="0123456789abcdef".split("");function h4e(e){for(var t="",r=0;r<4;r++)t+=R7[e>>8*r+4&15]+R7[e>>8*r&15];return t}function m4e(e){return String.fromCharCode(255&e,(65280&e)>>8,(16711680&e)>>16,(4278190080&e)>>24)}function xN(e){return HB(e).map(m4e).join("")}var p4e=(function(e){for(var t=0;t<e.length;t++)e[t]=h4e(e[t]);return e.join("")})(HB("hello"))!="5d41402abc4b2a76b9719d911017c592";function wd(e,t){if(p4e){var r=(65535&e)+(65535&t);return(e>>16)+(t>>16)+(r>>16)<<16|65535&r}return e+t&4294967295}/**
 * @license
 * FPDF is released under a permissive license: there is no usage restriction.
 * You may embed it freely in your application (commercial or not), with or
 * without modifications.
 *
 * Reference: http://www.fpdf.org/en/script/script37.php
 */function gN(e,t){var r,n,a,i;if(e!==r){for(var l=(a=e,i=1+(256/e.length|0),new Array(i+1).join(a)),o=[],f=0;f<256;f++)o[f]=f;var u=0;for(f=0;f<256;f++){var h=o[f];u=(u+h+l.charCodeAt(f))%256,o[f]=o[u],o[u]=h}r=e,n=o}else o=n;var p=t.length,g=0,x=0,b="";for(f=0;f<p;f++)x=(x+(h=o[g=(g+1)%256]))%256,o[g]=o[x],o[x]=h,l=o[(o[g]+o[x])%256],b+=String.fromCharCode(t.charCodeAt(f)^l);return b}/**
 * @license
 * Licensed under the MIT License.
 * http://opensource.org/licenses/mit-license
 * Author: Owen Leong (@owenl131)
 * Date: 15 Oct 2020
 * References:
 * https://www.cs.cmu.edu/~dst/Adobe/Gallery/anon21jul01-pdf-encryption.txt
 * https://github.com/foliojs/pdfkit/blob/master/lib/security.js
 * http://www.fpdf.org/en/script/script37.php
 */var I7={print:4,modify:8,copy:16,"annot-forms":32};function gm(e,t,r,n){this.v=1,this.r=2;var a=192;e.forEach(function(o){if(I7.perm!==void 0)throw new Error("Invalid permission: "+o);a+=I7[o]}),this.padding="(N^NuAd\0NV\b..\0h>/\fdSiz";var i=(t+this.padding).substr(0,32),l=(r+this.padding).substr(0,32);this.O=this.processOwnerPassword(i,l),this.P=-(1+(255^a)),this.encryptionKey=xN(i+this.O+this.lsbFirstWord(this.P)+this.hexToBytes(n)).substr(0,5),this.U=gN(this.encryptionKey,this.padding)}function vm(e){if(/[^\u0000-\u00ff]/.test(e))throw new Error("Invalid PDF Name Object: "+e+", Only accept ASCII characters.");for(var t="",r=e.length,n=0;n<r;n++){var a=e.charCodeAt(n);t+=a<33||a===35||a===37||a===40||a===41||a===47||a===60||a===62||a===91||a===93||a===123||a===125||a>126?"#"+("0"+a.toString(16)).slice(-2):e[n]}return t}function B7(e){if(_n(e)!=="object")throw new Error("Invalid Context passed to initialize PubSub (jsPDF-module)");var t={};this.subscribe=function(r,n,a){if(a=a||!1,typeof r!="string"||typeof n!="function"||typeof a!="boolean")throw new Error("Invalid arguments passed to PubSub.subscribe (jsPDF-module)");t.hasOwnProperty(r)||(t[r]={});var i=Math.random().toString(35);return t[r][i]=[n,!!a],i},this.unsubscribe=function(r){for(var n in t)if(t[n][r])return delete t[n][r],Object.keys(t[n]).length===0&&delete t[n],!0;return!1},this.publish=function(r){if(t.hasOwnProperty(r)){var n=Array.prototype.slice.call(arguments,1),a=[];for(var i in t[r]){var l=t[r][i];try{l[0].apply(e,n)}catch(o){pr.console&&Rn.error("jsPDF PubSub Error",o.message,o)}l[1]&&a.push(i)}a.length&&a.forEach(this.unsubscribe)}},this.getTopics=function(){return t}}function Yy(e){if(!(this instanceof Yy))return new Yy(e);var t="opacity,stroke-opacity".split(",");for(var r in e)e.hasOwnProperty(r)&&t.indexOf(r)>=0&&(this[r]=e[r]);this.id="",this.objectNumber=-1}function VB(e,t){this.gState=e,this.matrix=t,this.id="",this.objectNumber=-1}function j0(e,t,r,n,a){if(!(this instanceof j0))return new j0(e,t,r,n,a);this.type=e==="axial"?2:3,this.coords=t,this.colors=r,VB.call(this,n,a)}function wm(e,t,r,n,a){if(!(this instanceof wm))return new wm(e,t,r,n,a);this.boundingBox=e,this.xStep=t,this.yStep=r,this.stream="",this.cloneIndex=0,VB.call(this,n,a)}function $t(e){var t,r=typeof arguments[0]=="string"?arguments[0]:"p",n=arguments[1],a=arguments[2],i=arguments[3],l=[],o=1,f=16,u="S",h=null;_n(e=e||{})==="object"&&(r=e.orientation,n=e.unit||n,a=e.format||a,i=e.compress||e.compressPdf||i,(h=e.encryption||null)!==null&&(h.userPassword=h.userPassword||"",h.ownerPassword=h.ownerPassword||"",h.userPermissions=h.userPermissions||[]),o=typeof e.userUnit=="number"?Math.abs(e.userUnit):1,e.precision!==void 0&&(t=e.precision),e.floatPrecision!==void 0&&(f=e.floatPrecision),u=e.defaultPathOperation||"S"),l=e.filters||(i===!0?["FlateEncode"]:l),n=n||"mm",r=(""+(r||"P")).toLowerCase();var p=e.putOnlyUsedFonts||!1,g={},x={internal:{},__private__:{}};x.__private__.PubSub=B7;var b="1.3",y=x.__private__.getPdfVersion=function(){return b};x.__private__.setPdfVersion=function(L){b=L};var w={a0:[2383.94,3370.39],a1:[1683.78,2383.94],a2:[1190.55,1683.78],a3:[841.89,1190.55],a4:[595.28,841.89],a5:[419.53,595.28],a6:[297.64,419.53],a7:[209.76,297.64],a8:[147.4,209.76],a9:[104.88,147.4],a10:[73.7,104.88],b0:[2834.65,4008.19],b1:[2004.09,2834.65],b2:[1417.32,2004.09],b3:[1000.63,1417.32],b4:[708.66,1000.63],b5:[498.9,708.66],b6:[354.33,498.9],b7:[249.45,354.33],b8:[175.75,249.45],b9:[124.72,175.75],b10:[87.87,124.72],c0:[2599.37,3676.54],c1:[1836.85,2599.37],c2:[1298.27,1836.85],c3:[918.43,1298.27],c4:[649.13,918.43],c5:[459.21,649.13],c6:[323.15,459.21],c7:[229.61,323.15],c8:[161.57,229.61],c9:[113.39,161.57],c10:[79.37,113.39],dl:[311.81,623.62],letter:[612,792],"government-letter":[576,756],legal:[612,1008],"junior-legal":[576,360],ledger:[1224,792],tabloid:[792,1224],"credit-card":[153,243]};x.__private__.getPageFormats=function(){return w};var _=x.__private__.getPageFormat=function(L){return w[L]};a=a||"a4";var E="compat",A="advanced",O=E;function D(){this.saveGraphicsState(),xe(new Gt(xt,0,0,-xt,0,ec()*xt).toString()+" cm"),this.setFontSize(this.getFontSize()/xt),u="n",O=A}function R(){this.restoreGraphicsState(),u="S",O=E}var P=x.__private__.combineFontStyleAndFontWeight=function(L,Y){if(L=="bold"&&Y=="normal"||L=="bold"&&Y==400||L=="normal"&&Y=="italic"||L=="bold"&&Y=="italic")throw new Error("Invalid Combination of fontweight and fontstyle");return Y&&(L=Y==400||Y==="normal"?L==="italic"?"italic":"normal":Y!=700&&Y!=="bold"||L!=="normal"?(Y==700?"bold":Y)+""+L:"bold"),L};x.advancedAPI=function(L){var Y=O===E;return Y&&D.call(this),typeof L!="function"||(L(this),Y&&R.call(this)),this},x.compatAPI=function(L){var Y=O===A;return Y&&R.call(this),typeof L!="function"||(L(this),Y&&D.call(this)),this},x.isAdvancedAPI=function(){return O===A};var T,B=function(L){if(O!==A)throw new Error(L+" is only available in 'advanced' API mode. You need to call advancedAPI() first.")},G=x.roundToPrecision=x.__private__.roundToPrecision=function(L,Y){var _e=t||Y;if(isNaN(L)||isNaN(_e))throw new Error("Invalid argument passed to jsPDF.roundToPrecision");return L.toFixed(_e).replace(/0+$/,"")};T=x.hpf=x.__private__.hpf=typeof f=="number"?function(L){if(isNaN(L))throw new Error("Invalid argument passed to jsPDF.hpf");return G(L,f)}:f==="smart"?function(L){if(isNaN(L))throw new Error("Invalid argument passed to jsPDF.hpf");return G(L,L>-1&&L<1?16:5)}:function(L){if(isNaN(L))throw new Error("Invalid argument passed to jsPDF.hpf");return G(L,16)};var I=x.f2=x.__private__.f2=function(L){if(isNaN(L))throw new Error("Invalid argument passed to jsPDF.f2");return G(L,2)},z=x.__private__.f3=function(L){if(isNaN(L))throw new Error("Invalid argument passed to jsPDF.f3");return G(L,3)},K=x.scale=x.__private__.scale=function(L){if(isNaN(L))throw new Error("Invalid argument passed to jsPDF.scale");return O===E?L*xt:O===A?L:void 0},J=function(L){return K((function(Y){return O===E?ec()-Y:O===A?Y:void 0})(L))};x.__private__.setPrecision=x.setPrecision=function(L){typeof parseInt(L,10)=="number"&&(t=parseInt(L,10))};var pe,ne="00000000000000000000000000000000",le=x.__private__.getFileId=function(){return ne},ve=x.__private__.setFileId=function(L){return ne=L!==void 0&&/^[a-fA-F0-9]{32}$/.test(L)?L.toUpperCase():ne.split("").map(function(){return"ABCDEF0123456789".charAt(Math.floor(16*Math.random()))}).join(""),h!==null&&(ga=new gm(h.userPermissions,h.userPassword,h.ownerPassword,ne)),ne};x.setFileId=function(L){return ve(L),this},x.getFileId=function(){return le()};var ue=x.__private__.convertDateToPDFDate=function(L){var Y=L.getTimezoneOffset(),_e=Y<0?"+":"-",Ee=Math.floor(Math.abs(Y/60)),Pe=Math.abs(Y%60),et=[_e,q(Ee),"'",q(Pe),"'"].join("");return["D:",L.getFullYear(),q(L.getMonth()+1),q(L.getDate()),q(L.getHours()),q(L.getMinutes()),q(L.getSeconds()),et].join("")},je=x.__private__.convertPDFDateToDate=function(L){var Y=parseInt(L.substr(2,4),10),_e=parseInt(L.substr(6,2),10)-1,Ee=parseInt(L.substr(8,2),10),Pe=parseInt(L.substr(10,2),10),et=parseInt(L.substr(12,2),10),ot=parseInt(L.substr(14,2),10);return new Date(Y,_e,Ee,Pe,et,ot,0)},te=x.__private__.setCreationDate=function(L){var Y;if(L===void 0&&(L=new Date),L instanceof Date)Y=ue(L);else{if(!/^D:(20[0-2][0-9]|203[0-7]|19[7-9][0-9])(0[0-9]|1[0-2])([0-2][0-9]|3[0-1])(0[0-9]|1[0-9]|2[0-3])(0[0-9]|[1-5][0-9])(0[0-9]|[1-5][0-9])(\+0[0-9]|\+1[0-4]|-0[0-9]|-1[0-1])'(0[0-9]|[1-5][0-9])'?$/.test(L))throw new Error("Invalid argument passed to jsPDF.setCreationDate");Y=L}return pe=Y},F=x.__private__.getCreationDate=function(L){var Y=pe;return L==="jsDate"&&(Y=je(pe)),Y};x.setCreationDate=function(L){return te(L),this},x.getCreationDate=function(L){return F(L)};var M,q=x.__private__.padd2=function(L){return("0"+parseInt(L)).slice(-2)},W=x.__private__.padd2Hex=function(L){return("00"+(L=L.toString())).substr(L.length)},Z=0,oe=[],ce=[],ae=0,Se=[],De=[],X=!1,Ke=ce;x.__private__.setCustomOutputDestination=function(L){X=!0,Ke=L};var Ce=function(L){X||(Ke=L)};x.__private__.resetCustomOutputDestination=function(){X=!1,Ke=ce};var xe=x.__private__.out=function(L){return L=L.toString(),ae+=L.length+1,Ke.push(L),Ke},dt=x.__private__.write=function(L){return xe(arguments.length===1?L.toString():Array.prototype.join.call(arguments," "))},Xe=x.__private__.getArrayBuffer=function(L){for(var Y=L.length,_e=new ArrayBuffer(Y),Ee=new Uint8Array(_e);Y--;)Ee[Y]=L.charCodeAt(Y);return _e},wt=[["Helvetica","helvetica","normal","WinAnsiEncoding"],["Helvetica-Bold","helvetica","bold","WinAnsiEncoding"],["Helvetica-Oblique","helvetica","italic","WinAnsiEncoding"],["Helvetica-BoldOblique","helvetica","bolditalic","WinAnsiEncoding"],["Courier","courier","normal","WinAnsiEncoding"],["Courier-Bold","courier","bold","WinAnsiEncoding"],["Courier-Oblique","courier","italic","WinAnsiEncoding"],["Courier-BoldOblique","courier","bolditalic","WinAnsiEncoding"],["Times-Roman","times","normal","WinAnsiEncoding"],["Times-Bold","times","bold","WinAnsiEncoding"],["Times-Italic","times","italic","WinAnsiEncoding"],["Times-BoldItalic","times","bolditalic","WinAnsiEncoding"],["ZapfDingbats","zapfdingbats","normal",null],["Symbol","symbol","normal",null]];x.__private__.getStandardFonts=function(){return wt};var lt=e.fontSize||16;x.__private__.setFontSize=x.setFontSize=function(L){return lt=O===A?L/xt:L,this};var At,pt=x.__private__.getFontSize=x.getFontSize=function(){return O===E?lt:lt*xt},Qt=e.R2L||!1;x.__private__.setR2L=x.setR2L=function(L){return Qt=L,this},x.__private__.getR2L=x.getR2L=function(){return Qt};var Pt,Vt=x.__private__.setZoomMode=function(L){if(/^(?:\d+\.\d*|\d*\.\d+|\d+)%$/.test(L))At=L;else if(isNaN(L)){if([void 0,null,"fullwidth","fullheight","fullpage","original"].indexOf(L)===-1)throw new Error('zoom must be Integer (e.g. 2), a percentage Value (e.g. 300%) or fullwidth, fullheight, fullpage, original. "'+L+'" is not recognized.');At=L}else At=parseInt(L,10)};x.__private__.getZoomMode=function(){return At};var Zt,Jt=x.__private__.setPageMode=function(L){if([void 0,null,"UseNone","UseOutlines","UseThumbs","FullScreen"].indexOf(L)==-1)throw new Error('Page mode must be one of UseNone, UseOutlines, UseThumbs, or FullScreen. "'+L+'" is not recognized.');Pt=L};x.__private__.getPageMode=function(){return Pt};var Dr=x.__private__.setLayoutMode=function(L){if([void 0,null,"continuous","single","twoleft","tworight","two"].indexOf(L)==-1)throw new Error('Layout mode must be one of continuous, single, twoleft, tworight. "'+L+'" is not recognized.');Zt=L};x.__private__.getLayoutMode=function(){return Zt},x.__private__.setDisplayMode=x.setDisplayMode=function(L,Y,_e){return Vt(L),Dr(Y),Jt(_e),this};var It={title:"",subject:"",author:"",keywords:"",creator:""};x.__private__.getDocumentProperty=function(L){if(Object.keys(It).indexOf(L)===-1)throw new Error("Invalid argument passed to jsPDF.getDocumentProperty");return It[L]},x.__private__.getDocumentProperties=function(){return It},x.__private__.setDocumentProperties=x.setProperties=x.setDocumentProperties=function(L){for(var Y in It)It.hasOwnProperty(Y)&&L[Y]&&(It[Y]=L[Y]);return this},x.__private__.setDocumentProperty=function(L,Y){if(Object.keys(It).indexOf(L)===-1)throw new Error("Invalid arguments passed to jsPDF.setDocumentProperty");return It[L]=Y};var Ct,xt,jt,Nr,Yt,St={},er={},br=[],ar={},Ar={},fr={},pn={},Bn=null,qr=0,Wt=[],Pr=new B7(x),Ds=e.hotfixes||[],Xa={},al={},os=[],Gt=function L(Y,_e,Ee,Pe,et,ot){if(!(this instanceof L))return new L(Y,_e,Ee,Pe,et,ot);isNaN(Y)&&(Y=1),isNaN(_e)&&(_e=0),isNaN(Ee)&&(Ee=0),isNaN(Pe)&&(Pe=1),isNaN(et)&&(et=0),isNaN(ot)&&(ot=0),this._matrix=[Y,_e,Ee,Pe,et,ot]};Object.defineProperty(Gt.prototype,"sx",{get:function(){return this._matrix[0]},set:function(L){this._matrix[0]=L}}),Object.defineProperty(Gt.prototype,"shy",{get:function(){return this._matrix[1]},set:function(L){this._matrix[1]=L}}),Object.defineProperty(Gt.prototype,"shx",{get:function(){return this._matrix[2]},set:function(L){this._matrix[2]=L}}),Object.defineProperty(Gt.prototype,"sy",{get:function(){return this._matrix[3]},set:function(L){this._matrix[3]=L}}),Object.defineProperty(Gt.prototype,"tx",{get:function(){return this._matrix[4]},set:function(L){this._matrix[4]=L}}),Object.defineProperty(Gt.prototype,"ty",{get:function(){return this._matrix[5]},set:function(L){this._matrix[5]=L}}),Object.defineProperty(Gt.prototype,"a",{get:function(){return this._matrix[0]},set:function(L){this._matrix[0]=L}}),Object.defineProperty(Gt.prototype,"b",{get:function(){return this._matrix[1]},set:function(L){this._matrix[1]=L}}),Object.defineProperty(Gt.prototype,"c",{get:function(){return this._matrix[2]},set:function(L){this._matrix[2]=L}}),Object.defineProperty(Gt.prototype,"d",{get:function(){return this._matrix[3]},set:function(L){this._matrix[3]=L}}),Object.defineProperty(Gt.prototype,"e",{get:function(){return this._matrix[4]},set:function(L){this._matrix[4]=L}}),Object.defineProperty(Gt.prototype,"f",{get:function(){return this._matrix[5]},set:function(L){this._matrix[5]=L}}),Object.defineProperty(Gt.prototype,"rotation",{get:function(){return Math.atan2(this.shx,this.sx)}}),Object.defineProperty(Gt.prototype,"scaleX",{get:function(){return this.decompose().scale.sx}}),Object.defineProperty(Gt.prototype,"scaleY",{get:function(){return this.decompose().scale.sy}}),Object.defineProperty(Gt.prototype,"isIdentity",{get:function(){return this.sx===1&&this.shy===0&&this.shx===0&&this.sy===1&&this.tx===0&&this.ty===0}}),Gt.prototype.join=function(L){return[this.sx,this.shy,this.shx,this.sy,this.tx,this.ty].map(T).join(L)},Gt.prototype.multiply=function(L){var Y=L.sx*this.sx+L.shy*this.shx,_e=L.sx*this.shy+L.shy*this.sy,Ee=L.shx*this.sx+L.sy*this.shx,Pe=L.shx*this.shy+L.sy*this.sy,et=L.tx*this.sx+L.ty*this.shx+this.tx,ot=L.tx*this.shy+L.ty*this.sy+this.ty;return new Gt(Y,_e,Ee,Pe,et,ot)},Gt.prototype.decompose=function(){var L=this.sx,Y=this.shy,_e=this.shx,Ee=this.sy,Pe=this.tx,et=this.ty,ot=Math.sqrt(L*L+Y*Y),Ft=(L/=ot)*_e+(Y/=ot)*Ee;_e-=L*Ft,Ee-=Y*Ft;var zt=Math.sqrt(_e*_e+Ee*Ee);return Ft/=zt,L*(Ee/=zt)<Y*(_e/=zt)&&(L=-L,Y=-Y,Ft=-Ft,ot=-ot),{scale:new Gt(ot,0,0,zt,0,0),translate:new Gt(1,0,0,1,Pe,et),rotate:new Gt(L,Y,-Y,L,0,0),skew:new Gt(1,0,Ft,1,0,0)}},Gt.prototype.toString=function(L){return this.join(" ")},Gt.prototype.inversed=function(){var L=this.sx,Y=this.shy,_e=this.shx,Ee=this.sy,Pe=this.tx,et=this.ty,ot=1/(L*Ee-Y*_e),Ft=Ee*ot,zt=-Y*ot,or=-_e*ot,xr=L*ot;return new Gt(Ft,zt,or,xr,-Ft*Pe-or*et,-zt*Pe-xr*et)},Gt.prototype.applyToPoint=function(L){var Y=L.x*this.sx+L.y*this.shx+this.tx,_e=L.x*this.shy+L.y*this.sy+this.ty;return new oo(Y,_e)},Gt.prototype.applyToRectangle=function(L){var Y=this.applyToPoint(L),_e=this.applyToPoint(new oo(L.x+L.w,L.y+L.h));return new Qo(Y.x,Y.y,_e.x-Y.x,_e.y-Y.y)},Gt.prototype.clone=function(){var L=this.sx,Y=this.shy,_e=this.shx,Ee=this.sy,Pe=this.tx,et=this.ty;return new Gt(L,Y,_e,Ee,Pe,et)},x.Matrix=Gt;var Tl=x.matrixMult=function(L,Y){return Y.multiply(L)},il=new Gt(1,0,0,1,0,0);x.unitMatrix=x.identityMatrix=il;var li=function(L,Y){if(!Ar[L]){var _e=(Y instanceof j0?"Sh":"P")+(Object.keys(ar).length+1).toString(10);Y.id=_e,Ar[L]=_e,ar[_e]=Y,Pr.publish("addPattern",Y)}};x.ShadingPattern=j0,x.TilingPattern=wm,x.addShadingPattern=function(L,Y){return B("addShadingPattern()"),li(L,Y),this},x.beginTilingPattern=function(L){B("beginTilingPattern()"),wu(L.boundingBox[0],L.boundingBox[1],L.boundingBox[2]-L.boundingBox[0],L.boundingBox[3]-L.boundingBox[1],L.matrix)},x.endTilingPattern=function(L,Y){B("endTilingPattern()"),Y.stream=De[M].join(`
`),li(L,Y),Pr.publish("endTilingPattern",Y),os.pop().restore()};var $i,Sn=x.__private__.newObject=function(){var L=ta();return ee(L,!0),L},ta=x.__private__.newObjectDeferred=function(){return Z++,oe[Z]=function(){return ae},Z},ee=function(L,Y){return Y=typeof Y=="boolean"&&Y,oe[L]=ae,Y&&xe(L+" 0 obj"),L},we=x.__private__.newAdditionalObject=function(){var L={objId:ta(),content:""};return Se.push(L),L},de=ta(),he=ta(),ge=x.__private__.decodeColorString=function(L){var Y=L.split(" ");if(Y.length!==2||Y[1]!=="g"&&Y[1]!=="G")Y.length!==5||Y[4]!=="k"&&Y[4]!=="K"||(Y=[(1-Y[0])*(1-Y[3]),(1-Y[1])*(1-Y[3]),(1-Y[2])*(1-Y[3]),"r"]);else{var _e=parseFloat(Y[0]);Y=[_e,_e,_e,"r"]}for(var Ee="#",Pe=0;Pe<3;Pe++)Ee+=("0"+Math.floor(255*parseFloat(Y[Pe])).toString(16)).slice(-2);return Ee},Ne=x.__private__.encodeColorString=function(L){var Y;typeof L=="string"&&(L={ch1:L});var _e=L.ch1,Ee=L.ch2,Pe=L.ch3,et=L.ch4,ot=L.pdfColorType==="draw"?["G","RG","K"]:["g","rg","k"];if(typeof _e=="string"&&_e.charAt(0)!=="#"){var Ft=new $B(_e);if(Ft.ok)_e=Ft.toHex();else if(!/^\d*\.?\d*$/.test(_e))throw new Error('Invalid color "'+_e+'" passed to jsPDF.encodeColorString.')}if(typeof _e=="string"&&/^#[0-9A-Fa-f]{3}$/.test(_e)&&(_e="#"+_e[1]+_e[1]+_e[2]+_e[2]+_e[3]+_e[3]),typeof _e=="string"&&/^#[0-9A-Fa-f]{6}$/.test(_e)){var zt=parseInt(_e.substr(1),16);_e=zt>>16&255,Ee=zt>>8&255,Pe=255&zt}if(Ee===void 0||et===void 0&&_e===Ee&&Ee===Pe)Y=typeof _e=="string"?_e+" "+ot[0]:L.precision===2?I(_e/255)+" "+ot[0]:z(_e/255)+" "+ot[0];else if(et===void 0||_n(et)==="object"){if(et&&!isNaN(et.a)&&et.a===0)return["1.","1.","1.",ot[1]].join(" ");Y=typeof _e=="string"?[_e,Ee,Pe,ot[1]].join(" "):L.precision===2?[I(_e/255),I(Ee/255),I(Pe/255),ot[1]].join(" "):[z(_e/255),z(Ee/255),z(Pe/255),ot[1]].join(" ")}else Y=typeof _e=="string"?[_e,Ee,Pe,et,ot[2]].join(" "):L.precision===2?[I(_e),I(Ee),I(Pe),I(et),ot[2]].join(" "):[z(_e),z(Ee),z(Pe),z(et),ot[2]].join(" ");return Y},Me=x.__private__.getFilters=function(){return l},Ge=x.__private__.putStream=function(L){var Y=(L=L||{}).data||"",_e=L.filters||Me(),Ee=L.alreadyAppliedFilters||[],Pe=L.addLength1||!1,et=Y.length,ot=L.objectId,Ft=function(Ua){return Ua};if(h!==null&&ot===void 0)throw new Error("ObjectId must be passed to putStream for file encryption");h!==null&&(Ft=ga.encryptor(ot,0));var zt={};_e===!0&&(_e=["FlateEncode"]);var or=L.additionalKeyValues||[],xr=(zt=$t.API.processDataByFilters!==void 0?$t.API.processDataByFilters(Y,_e):{data:Y,reverseChain:[]}).reverseChain+(Array.isArray(Ee)?Ee.join(" "):Ee.toString());if(zt.data.length!==0&&(or.push({key:"Length",value:zt.data.length}),Pe===!0&&or.push({key:"Length1",value:et})),xr.length!=0)if(xr.split("/").length-1==1)or.push({key:"Filter",value:xr});else{or.push({key:"Filter",value:"["+xr+"]"});for(var Gr=0;Gr<or.length;Gr+=1)if(or[Gr].key==="DecodeParms"){for(var Hn=[],va=0;va<zt.reverseChain.split("/").length-1;va+=1)Hn.push("null");Hn.push(or[Gr].value),or[Gr].value="["+Hn.join(" ")+"]"}}xe("<<");for(var jn=0;jn<or.length;jn++)xe("/"+or[jn].key+" "+or[jn].value);xe(">>"),zt.data.length!==0&&(xe("stream"),xe(Ft(zt.data)),xe("endstream"))},Ie=x.__private__.putPage=function(L){var Y=L.number,_e=L.data,Ee=L.objId,Pe=L.contentsObjId;ee(Ee,!0),xe("<</Type /Page"),xe("/Parent "+L.rootDictionaryObjId+" 0 R"),xe("/Resources "+L.resourceDictionaryObjId+" 0 R"),xe("/MediaBox ["+parseFloat(T(L.mediaBox.bottomLeftX))+" "+parseFloat(T(L.mediaBox.bottomLeftY))+" "+T(L.mediaBox.topRightX)+" "+T(L.mediaBox.topRightY)+"]"),L.cropBox!==null&&xe("/CropBox ["+T(L.cropBox.bottomLeftX)+" "+T(L.cropBox.bottomLeftY)+" "+T(L.cropBox.topRightX)+" "+T(L.cropBox.topRightY)+"]"),L.bleedBox!==null&&xe("/BleedBox ["+T(L.bleedBox.bottomLeftX)+" "+T(L.bleedBox.bottomLeftY)+" "+T(L.bleedBox.topRightX)+" "+T(L.bleedBox.topRightY)+"]"),L.trimBox!==null&&xe("/TrimBox ["+T(L.trimBox.bottomLeftX)+" "+T(L.trimBox.bottomLeftY)+" "+T(L.trimBox.topRightX)+" "+T(L.trimBox.topRightY)+"]"),L.artBox!==null&&xe("/ArtBox ["+T(L.artBox.bottomLeftX)+" "+T(L.artBox.bottomLeftY)+" "+T(L.artBox.topRightX)+" "+T(L.artBox.topRightY)+"]"),typeof L.userUnit=="number"&&L.userUnit!==1&&xe("/UserUnit "+L.userUnit),Pr.publish("putPage",{objId:Ee,pageContext:Wt[Y],pageNumber:Y,page:_e}),xe("/Contents "+Pe+" 0 R"),xe(">>"),xe("endobj");var et=_e.join(`
`);return O===A&&(et+=`
Q`),ee(Pe,!0),Ge({data:et,filters:Me(),objectId:Pe}),xe("endobj"),Ee},Be=x.__private__.putPages=function(){var L,Y,_e=[];for(L=1;L<=qr;L++)Wt[L].objId=ta(),Wt[L].contentsObjId=ta();for(L=1;L<=qr;L++)_e.push(Ie({number:L,data:De[L],objId:Wt[L].objId,contentsObjId:Wt[L].contentsObjId,mediaBox:Wt[L].mediaBox,cropBox:Wt[L].cropBox,bleedBox:Wt[L].bleedBox,trimBox:Wt[L].trimBox,artBox:Wt[L].artBox,userUnit:Wt[L].userUnit,rootDictionaryObjId:de,resourceDictionaryObjId:he}));ee(de,!0),xe("<</Type /Pages");var Ee="/Kids [";for(Y=0;Y<qr;Y++)Ee+=_e[Y]+" 0 R ";xe(Ee+"]"),xe("/Count "+qr),xe(">>"),xe("endobj"),Pr.publish("postPutPages")},ze=function(L){Pr.publish("putFont",{font:L,out:xe,newObject:Sn,putStream:Ge}),L.isAlreadyPutted!==!0&&(L.objectNumber=Sn(),xe("<<"),xe("/Type /Font"),xe("/BaseFont /"+vm(L.postScriptName)),xe("/Subtype /Type1"),typeof L.encoding=="string"&&xe("/Encoding /"+L.encoding),xe("/FirstChar 32"),xe("/LastChar 255"),xe(">>"),xe("endobj"))},ut=function(L){L.objectNumber=Sn();var Y=[];Y.push({key:"Type",value:"/XObject"}),Y.push({key:"Subtype",value:"/Form"}),Y.push({key:"BBox",value:"["+[T(L.x),T(L.y),T(L.x+L.width),T(L.y+L.height)].join(" ")+"]"}),Y.push({key:"Matrix",value:"["+L.matrix.toString()+"]"});var _e=L.pages[1].join(`
`);Ge({data:_e,additionalKeyValues:Y,objectId:L.objectNumber}),xe("endobj")},mt=function(L,Y){Y||(Y=21);var _e=Sn(),Ee=(function(ot,Ft){var zt,or=[],xr=1/(Ft-1);for(zt=0;zt<1;zt+=xr)or.push(zt);if(or.push(1),ot[0].offset!=0){var Gr={offset:0,color:ot[0].color};ot.unshift(Gr)}if(ot[ot.length-1].offset!=1){var Hn={offset:1,color:ot[ot.length-1].color};ot.push(Hn)}for(var va="",jn=0,Ua=0;Ua<or.length;Ua++){for(zt=or[Ua];zt>ot[jn+1].offset;)jn++;var Aa=ot[jn].offset,ci=(zt-Aa)/(ot[jn+1].offset-Aa),ll=ot[jn].color,cs=ot[jn+1].color;va+=W(Math.round((1-ci)*ll[0]+ci*cs[0]).toString(16))+W(Math.round((1-ci)*ll[1]+ci*cs[1]).toString(16))+W(Math.round((1-ci)*ll[2]+ci*cs[2]).toString(16))}return va.trim()})(L.colors,Y),Pe=[];Pe.push({key:"FunctionType",value:"0"}),Pe.push({key:"Domain",value:"[0.0 1.0]"}),Pe.push({key:"Size",value:"["+Y+"]"}),Pe.push({key:"BitsPerSample",value:"8"}),Pe.push({key:"Range",value:"[0.0 1.0 0.0 1.0 0.0 1.0]"}),Pe.push({key:"Decode",value:"[0.0 1.0 0.0 1.0 0.0 1.0]"}),Ge({data:Ee,additionalKeyValues:Pe,alreadyAppliedFilters:["/ASCIIHexDecode"],objectId:_e}),xe("endobj"),L.objectNumber=Sn(),xe("<< /ShadingType "+L.type),xe("/ColorSpace /DeviceRGB");var et="/Coords ["+T(parseFloat(L.coords[0]))+" "+T(parseFloat(L.coords[1]))+" ";L.type===2?et+=T(parseFloat(L.coords[2]))+" "+T(parseFloat(L.coords[3])):et+=T(parseFloat(L.coords[2]))+" "+T(parseFloat(L.coords[3]))+" "+T(parseFloat(L.coords[4]))+" "+T(parseFloat(L.coords[5])),xe(et+="]"),L.matrix&&xe("/Matrix ["+L.matrix.toString()+"]"),xe("/Function "+_e+" 0 R"),xe("/Extend [true true]"),xe(">>"),xe("endobj")},Nt=function(L,Y){var _e=ta(),Ee=Sn();Y.push({resourcesOid:_e,objectOid:Ee}),L.objectNumber=Ee;var Pe=[];Pe.push({key:"Type",value:"/Pattern"}),Pe.push({key:"PatternType",value:"1"}),Pe.push({key:"PaintType",value:"1"}),Pe.push({key:"TilingType",value:"1"}),Pe.push({key:"BBox",value:"["+L.boundingBox.map(T).join(" ")+"]"}),Pe.push({key:"XStep",value:T(L.xStep)}),Pe.push({key:"YStep",value:T(L.yStep)}),Pe.push({key:"Resources",value:_e+" 0 R"}),L.matrix&&Pe.push({key:"Matrix",value:"["+L.matrix.toString()+"]"}),Ge({data:L.stream,additionalKeyValues:Pe,objectId:L.objectNumber}),xe("endobj")},ht=function(L){for(var Y in L.objectNumber=Sn(),xe("<<"),L)switch(Y){case"opacity":xe("/ca "+I(L[Y]));break;case"stroke-opacity":xe("/CA "+I(L[Y]))}xe(">>"),xe("endobj")},vt=function(L){ee(L.resourcesOid,!0),xe("<<"),xe("/ProcSet [/PDF /Text /ImageB /ImageC /ImageI]"),(function(){for(var Y in xe("/Font <<"),St)St.hasOwnProperty(Y)&&(p===!1||p===!0&&g.hasOwnProperty(Y))&&xe("/"+Y+" "+St[Y].objectNumber+" 0 R");xe(">>")})(),(function(){if(Object.keys(ar).length>0){for(var Y in xe("/Shading <<"),ar)ar.hasOwnProperty(Y)&&ar[Y]instanceof j0&&ar[Y].objectNumber>=0&&xe("/"+Y+" "+ar[Y].objectNumber+" 0 R");Pr.publish("putShadingPatternDict"),xe(">>")}})(),(function(Y){if(Object.keys(ar).length>0){for(var _e in xe("/Pattern <<"),ar)ar.hasOwnProperty(_e)&&ar[_e]instanceof x.TilingPattern&&ar[_e].objectNumber>=0&&ar[_e].objectNumber<Y&&xe("/"+_e+" "+ar[_e].objectNumber+" 0 R");Pr.publish("putTilingPatternDict"),xe(">>")}})(L.objectOid),(function(){if(Object.keys(fr).length>0){var Y;for(Y in xe("/ExtGState <<"),fr)fr.hasOwnProperty(Y)&&fr[Y].objectNumber>=0&&xe("/"+Y+" "+fr[Y].objectNumber+" 0 R");Pr.publish("putGStateDict"),xe(">>")}})(),(function(){for(var Y in xe("/XObject <<"),Xa)Xa.hasOwnProperty(Y)&&Xa[Y].objectNumber>=0&&xe("/"+Y+" "+Xa[Y].objectNumber+" 0 R");Pr.publish("putXobjectDict"),xe(">>")})(),xe(">>"),xe("endobj")},Tt=function(L){er[L.fontName]=er[L.fontName]||{},er[L.fontName][L.fontStyle]=L.id},sn=function(L,Y,_e,Ee,Pe){var et={id:"F"+(Object.keys(St).length+1).toString(10),postScriptName:L,fontName:Y,fontStyle:_e,encoding:Ee,isStandardFont:Pe||!1,metadata:{}};return Pr.publish("addFont",{font:et,instance:this}),St[et.id]=et,Tt(et),et.id},kr=x.__private__.pdfEscape=x.pdfEscape=function(L,Y){return(function(_e,Ee){var Pe,et,ot,Ft,zt,or,xr,Gr,Hn;if(ot=(Ee=Ee||{}).sourceEncoding||"Unicode",zt=Ee.outputEncoding,(Ee.autoencode||zt)&&St[Ct].metadata&&St[Ct].metadata[ot]&&St[Ct].metadata[ot].encoding&&(Ft=St[Ct].metadata[ot].encoding,!zt&&St[Ct].encoding&&(zt=St[Ct].encoding),!zt&&Ft.codePages&&(zt=Ft.codePages[0]),typeof zt=="string"&&(zt=Ft[zt]),zt)){for(xr=!1,or=[],Pe=0,et=_e.length;Pe<et;Pe++)(Gr=zt[_e.charCodeAt(Pe)])?or.push(String.fromCharCode(Gr)):or.push(_e[Pe]),or[Pe].charCodeAt(0)>>8&&(xr=!0);_e=or.join("")}for(Pe=_e.length;xr===void 0&&Pe!==0;)_e.charCodeAt(Pe-1)>>8&&(xr=!0),Pe--;if(!xr)return _e;for(or=Ee.noBOM?[]:[254,255],Pe=0,et=_e.length;Pe<et;Pe++){if((Hn=(Gr=_e.charCodeAt(Pe))>>8)>>8)throw new Error("Character at position "+Pe+" of string '"+_e+"' exceeds 16bits. Cannot be encoded into UCS-2 BE");or.push(Hn),or.push(Gr-(Hn<<8))}return String.fromCharCode.apply(void 0,or)})(L,Y).replace(/\\/g,"\\\\").replace(/\(/g,"\\(").replace(/\)/g,"\\)")},fn=x.__private__.beginPage=function(L){De[++qr]=[],Wt[qr]={objId:0,contentsObjId:0,userUnit:Number(o),artBox:null,bleedBox:null,cropBox:null,trimBox:null,mediaBox:{bottomLeftX:0,bottomLeftY:0,topRightX:Number(L[0]),topRightY:Number(L[1])}},Dl(qr),Ce(De[M])},Hi=function(L,Y){var _e,Ee,Pe;switch(r=Y||r,typeof L=="string"&&(_e=_(L.toLowerCase()),Array.isArray(_e)&&(Ee=_e[0],Pe=_e[1])),Array.isArray(L)&&(Ee=L[0]*xt,Pe=L[1]*xt),isNaN(Ee)&&(Ee=a[0],Pe=a[1]),(Ee>14400||Pe>14400)&&(Rn.warn("A page in a PDF can not be wider or taller than 14400 userUnit. jsPDF limits the width/height to 14400"),Ee=Math.min(14400,Ee),Pe=Math.min(14400,Pe)),a=[Ee,Pe],r.substr(0,1)){case"l":Pe>Ee&&(a=[Pe,Ee]);break;case"p":Ee>Pe&&(a=[Pe,Ee])}fn(a),Lc(gu),xe(Ms),Pf!==0&&xe(Pf+" J"),Qa!==0&&xe(Qa+" j"),Pr.publish("addPage",{pageNumber:qr})},Ol=function(L){L>0&&L<=qr&&(De.splice(L,1),Wt.splice(L,1),qr--,M>qr&&(M=qr),this.setPage(M))},Dl=function(L){L>0&&L<=qr&&(M=L)},Ps=x.__private__.getNumberOfPages=x.getNumberOfPages=function(){return De.length-1},Fc=function(L,Y,_e){var Ee,Pe=void 0;return _e=_e||{},L=L!==void 0?L:St[Ct].fontName,Y=Y!==void 0?Y:St[Ct].fontStyle,Ee=L.toLowerCase(),er[Ee]!==void 0&&er[Ee][Y]!==void 0?Pe=er[Ee][Y]:er[L]!==void 0&&er[L][Y]!==void 0?Pe=er[L][Y]:_e.disableWarning===!1&&Rn.warn("Unable to look up font label for font '"+L+"', '"+Y+"'. Refer to getFontList() for available fonts."),Pe||_e.noFallback||(Pe=er.times[Y])==null&&(Pe=er.times.normal),Pe},Ba=x.__private__.putInfo=function(){var L=Sn(),Y=function(Ee){return Ee};for(var _e in h!==null&&(Y=ga.encryptor(L,0)),xe("<<"),xe("/Producer ("+kr(Y("jsPDF "+$t.version))+")"),It)It.hasOwnProperty(_e)&&It[_e]&&xe("/"+_e.substr(0,1).toUpperCase()+_e.substr(1)+" ("+kr(Y(It[_e]))+")");xe("/CreationDate ("+kr(Y(pe))+")"),xe(">>"),xe("endobj")},Of=x.__private__.putCatalog=function(L){var Y=(L=L||{}).rootDictionaryObjId||de;switch(Sn(),xe("<<"),xe("/Type /Catalog"),xe("/Pages "+Y+" 0 R"),At||(At="fullwidth"),At){case"fullwidth":xe("/OpenAction [3 0 R /FitH null]");break;case"fullheight":xe("/OpenAction [3 0 R /FitV null]");break;case"fullpage":xe("/OpenAction [3 0 R /Fit]");break;case"original":xe("/OpenAction [3 0 R /XYZ null null 1]");break;default:var _e=""+At;_e.substr(_e.length-1)==="%"&&(At=parseInt(At)/100),typeof At=="number"&&xe("/OpenAction [3 0 R /XYZ null null "+I(At)+"]")}switch(Zt||(Zt="continuous"),Zt){case"continuous":xe("/PageLayout /OneColumn");break;case"single":xe("/PageLayout /SinglePage");break;case"two":case"twoleft":xe("/PageLayout /TwoColumnLeft");break;case"tworight":xe("/PageLayout /TwoColumnRight")}Pt&&xe("/PageMode /"+Pt),Pr.publish("putCatalog"),xe(">>"),xe("endobj")},dn=x.__private__.putTrailer=function(){xe("trailer"),xe("<<"),xe("/Size "+(Z+1)),xe("/Root "+Z+" 0 R"),xe("/Info "+(Z-1)+" 0 R"),h!==null&&xe("/Encrypt "+ga.oid+" 0 R"),xe("/ID [ <"+ne+"> <"+ne+"> ]"),xe(">>")},Vi=x.__private__.putHeader=function(){xe("%PDF-"+b),xe("%")},Gd=x.__private__.putXRef=function(){var L="0000000000";xe("xref"),xe("0 "+(Z+1)),xe("0000000000 65535 f ");for(var Y=1;Y<=Z;Y++)typeof oe[Y]=="function"?xe((L+oe[Y]()).slice(-10)+" 00000 n "):oe[Y]!==void 0?xe((L+oe[Y]).slice(-10)+" 00000 n "):xe("0000000000 00000 n ")},Go=x.__private__.buildDocument=function(){var L;Z=0,ae=0,ce=[],oe=[],Se=[],de=ta(),he=ta(),Ce(ce),Pr.publish("buildDocument"),Vi(),Be(),(function(){Pr.publish("putAdditionalObjects");for(var _e=0;_e<Se.length;_e++){var Ee=Se[_e];ee(Ee.objId,!0),xe(Ee.content),xe("endobj")}Pr.publish("postPutAdditionalObjects")})(),L=[],(function(){for(var _e in St)St.hasOwnProperty(_e)&&(p===!1||p===!0&&g.hasOwnProperty(_e))&&ze(St[_e])})(),(function(){var _e;for(_e in fr)fr.hasOwnProperty(_e)&&ht(fr[_e])})(),(function(){for(var _e in Xa)Xa.hasOwnProperty(_e)&&ut(Xa[_e])})(),(function(_e){var Ee;for(Ee in ar)ar.hasOwnProperty(Ee)&&(ar[Ee]instanceof j0?mt(ar[Ee]):ar[Ee]instanceof wm&&Nt(ar[Ee],_e))})(L),Pr.publish("putResources"),L.forEach(vt),vt({resourcesOid:he,objectOid:Number.MAX_SAFE_INTEGER}),Pr.publish("postPutResources"),h!==null&&(ga.oid=Sn(),xe("<<"),xe("/Filter /Standard"),xe("/V "+ga.v),xe("/R "+ga.r),xe("/U <"+ga.toHexString(ga.U)+">"),xe("/O <"+ga.toHexString(ga.O)+">"),xe("/P "+ga.P),xe(">>"),xe("endobj")),Ba(),Of();var Y=ae;return Gd(),dn(),xe("startxref"),xe(""+Y),xe("%%EOF"),Ce(De[M]),ce.join(`
`)},Ko=x.__private__.getBlob=function(L){return new Blob([Xe(L)],{type:"application/pdf"})},sl=x.output=x.__private__.output=($i=function(L,Y){switch(typeof(Y=Y||{})=="string"?Y={filename:Y}:Y.filename=Y.filename||"generated.pdf",L){case void 0:return Go();case"save":x.save(Y.filename);break;case"arraybuffer":return Xe(Go());case"blob":return Ko(Go());case"bloburi":case"bloburl":if(pr.URL!==void 0&&typeof pr.URL.createObjectURL=="function")return pr.URL&&pr.URL.createObjectURL(Ko(Go()))||void 0;Rn.warn("bloburl is not supported by your system, because URL.createObjectURL is not supported by your browser.");break;case"datauristring":case"dataurlstring":var _e="",Ee=Go();try{_e=M7(Ee)}catch{_e=M7(unescape(encodeURIComponent(Ee)))}return"data:application/pdf;filename="+Y.filename+";base64,"+_e;case"pdfobjectnewwindow":if(Object.prototype.toString.call(pr)==="[object Window]"){var Pe="https://cdnjs.cloudflare.com/ajax/libs/pdfobject/2.1.1/pdfobject.min.js",et=' integrity="sha512-4ze/a9/4jqu+tX9dfOqJYSvyYd5M6qum/3HpCLr+/Jqf0whc37VUbkpNGHR7/8pSnCFw47T1fmIpwBV7UySh3g==" crossorigin="anonymous"';Y.pdfObjectUrl&&(Pe=Y.pdfObjectUrl,et="");var ot='<html><style>html, body { padding: 0; margin: 0; } iframe { width: 100%; height: 100%; border: 0;}  </style><body><script src="'+Pe+'"'+et+'><\/script><script >PDFObject.embed("'+this.output("dataurlstring")+'", '+JSON.stringify(Y)+");<\/script></body></html>",Ft=pr.open();return Ft!==null&&Ft.document.write(ot),Ft}throw new Error("The option pdfobjectnewwindow just works in a browser-environment.");case"pdfjsnewwindow":if(Object.prototype.toString.call(pr)==="[object Window]"){var zt='<html><style>html, body { padding: 0; margin: 0; } iframe { width: 100%; height: 100%; border: 0;}  </style><body><iframe id="pdfViewer" src="'+(Y.pdfJsUrl||"examples/PDF.js/web/viewer.html")+"?file=&downloadName="+Y.filename+'" width="500px" height="400px" /></body></html>',or=pr.open();if(or!==null){or.document.write(zt);var xr=this;or.document.documentElement.querySelector("#pdfViewer").onload=function(){or.document.title=Y.filename,or.document.documentElement.querySelector("#pdfViewer").contentWindow.PDFViewerApplication.open(xr.output("bloburl"))}}return or}throw new Error("The option pdfjsnewwindow just works in a browser-environment.");case"dataurlnewwindow":if(Object.prototype.toString.call(pr)!=="[object Window]")throw new Error("The option dataurlnewwindow just works in a browser-environment.");var Gr='<html><style>html, body { padding: 0; margin: 0; } iframe { width: 100%; height: 100%; border: 0;}  </style><body><iframe src="'+this.output("datauristring",Y)+'"></iframe></body></html>',Hn=pr.open();if(Hn!==null&&(Hn.document.write(Gr),Hn.document.title=Y.filename),Hn||typeof safari>"u")return Hn;break;case"datauri":case"dataurl":return pr.document.location.href=this.output("datauristring",Y);default:return null}},$i.foo=function(){try{return $i.apply(this,arguments)}catch(_e){var L=_e.stack||"";~L.indexOf(" at ")&&(L=L.split(" at ")[1]);var Y="Error in function "+L.split(`
`)[0].split("<")[0]+": "+_e.message;if(!pr.console)throw new Error(Y);pr.console.error(Y,_e),pr.alert&&alert(Y)}},$i.foo.bar=$i,$i.foo),so=function(L){return Array.isArray(Ds)===!0&&Ds.indexOf(L)>-1};switch(n){case"pt":xt=1;break;case"mm":xt=72/25.4;break;case"cm":xt=72/2.54;break;case"in":xt=72;break;case"px":xt=so("px_scaling")==1?.75:96/72;break;case"pc":case"em":xt=12;break;case"ex":xt=6;break;default:if(typeof n!="number")throw new Error("Invalid unit: "+n);xt=n}var ga=null;te(),ve();var ki=x.__private__.getPageInfo=x.getPageInfo=function(L){if(isNaN(L)||L%1!=0)throw new Error("Invalid argument passed to jsPDF.getPageInfo");return{objId:Wt[L].objId,pageNumber:L,pageContext:Wt[L]}},Kd=x.__private__.getPageInfoByObjId=function(L){if(isNaN(L)||L%1!=0)throw new Error("Invalid argument passed to jsPDF.getPageInfoByObjId");for(var Y in Wt)if(Wt[Y].objId===L)break;return ki(Y)},vh=x.__private__.getCurrentPageInfo=x.getCurrentPageInfo=function(){return{objId:Wt[M].objId,pageNumber:M,pageContext:Wt[M]}};x.addPage=function(){return Hi.apply(this,arguments),this},x.setPage=function(){return Dl.apply(this,arguments),Ce.call(this,De[M]),this},x.insertPage=function(L){return this.addPage(),this.movePage(M,L),this},x.movePage=function(L,Y){var _e,Ee;if(L>Y){_e=De[L],Ee=Wt[L];for(var Pe=L;Pe>Y;Pe--)De[Pe]=De[Pe-1],Wt[Pe]=Wt[Pe-1];De[Y]=_e,Wt[Y]=Ee,this.setPage(Y)}else if(L<Y){_e=De[L],Ee=Wt[L];for(var et=L;et<Y;et++)De[et]=De[et+1],Wt[et]=Wt[et+1];De[Y]=_e,Wt[Y]=Ee,this.setPage(Y)}return this},x.deletePage=function(){return Ol.apply(this,arguments),this},x.__private__.text=x.text=function(L,Y,_e,Ee,Pe){var et,ot,Ft,zt,or,xr,Gr,Hn,va,jn=(Ee=Ee||{}).scope||this;if(typeof L=="number"&&typeof Y=="number"&&(typeof _e=="string"||Array.isArray(_e))){var Ua=_e;_e=Y,Y=L,L=Ua}if(arguments[3]instanceof Gt==0?(Ft=arguments[4],zt=arguments[5],_n(Gr=arguments[3])==="object"&&Gr!==null||(typeof Ft=="string"&&(zt=Ft,Ft=null),typeof Gr=="string"&&(zt=Gr,Gr=null),typeof Gr=="number"&&(Ft=Gr,Gr=null),Ee={flags:Gr,angle:Ft,align:zt})):(B("The transform parameter of text() with a Matrix value"),va=Pe),isNaN(Y)||isNaN(_e)||L==null)throw new Error("Invalid arguments passed to jsPDF.text");if(L.length===0)return jn;var Aa,ci="",ll=typeof Ee.lineHeightFactor=="number"?Ee.lineHeightFactor:Yo,cs=jn.internal.scaleFactor;function Ah(Kr){return Kr=Kr.split("	").join(Array(Ee.TabLen||9).join(" ")),kr(Kr,Gr)}function Lf(Kr){for(var Ur,An=Kr.concat(),ba=[],vo=An.length;vo--;)typeof(Ur=An.shift())=="string"?ba.push(Ur):Array.isArray(Kr)&&(Ur.length===1||Ur[1]===void 0&&Ur[2]===void 0)?ba.push(Ur[0]):ba.push([Ur[0],Ur[1],Ur[2]]);return ba}function Nu(Kr,Ur){var An;if(typeof Kr=="string")An=Ur(Kr)[0];else if(Array.isArray(Kr)){for(var ba,vo,Il=Kr.concat(),Au=[],i0=Il.length;i0--;)typeof(ba=Il.shift())=="string"?Au.push(Ur(ba)[0]):Array.isArray(ba)&&typeof ba[0]=="string"&&(vo=Ur(ba[0],ba[1],ba[2]),Au.push([vo[0],vo[1],vo[2]]));An=Au}return An}var uo=!1,Ll=!0;if(typeof L=="string")uo=!0;else if(Array.isArray(L)){var Su=L.concat();ot=[];for(var Rc,ui=Su.length;ui--;)(typeof(Rc=Su.shift())!="string"||Array.isArray(Rc)&&typeof Rc[0]!="string")&&(Ll=!1);uo=Ll}if(uo===!1)throw new Error('Type of text must be string or Array. "'+L+'" is not recognized.');typeof L=="string"&&(L=L.match(/[\r?\n]/)?L.split(/\r\n|\r|\n/g):[L]);var Ic=lt/jn.internal.scaleFactor,Bc=Ic*(ll-1);switch(Ee.baseline){case"bottom":_e-=Bc;break;case"top":_e+=Ic-Bc;break;case"hanging":_e+=Ic-2*Bc;break;case"middle":_e+=Ic/2-Bc}if((xr=Ee.maxWidth||0)>0&&(typeof L=="string"?L=jn.splitTextToSize(L,xr):Object.prototype.toString.call(L)==="[object Array]"&&(L=L.reduce(function(Kr,Ur){return Kr.concat(jn.splitTextToSize(Ur,xr))},[]))),et={text:L,x:Y,y:_e,options:Ee,mutex:{pdfEscape:kr,activeFontKey:Ct,fonts:St,activeFontSize:lt}},Pr.publish("preProcessText",et),L=et.text,Ft=(Ee=et.options).angle,va instanceof Gt==0&&Ft&&typeof Ft=="number"){Ft*=Math.PI/180,Ee.rotationDirection===0&&(Ft=-Ft),O===A&&(Ft=-Ft);var Mf=Math.cos(Ft),fo=Math.sin(Ft);va=new Gt(Mf,fo,-fo,Mf,0,0)}else Ft&&Ft instanceof Gt&&(va=Ft);O!==A||va||(va=il),(or=Ee.charSpace||Xo)!==void 0&&(ci+=T(K(or))+` Tc
`,this.setCharSpace(this.getCharSpace()||0)),(Hn=Ee.horizontalScale)!==void 0&&(ci+=T(100*Hn)+` Tz
`),Ee.lang;var ra=-1,tc=Ee.renderingMode!==void 0?Ee.renderingMode:Ee.stroke,Rf=jn.internal.getCurrentPageInfo().pageContext;switch(tc){case 0:case!1:case"fill":ra=0;break;case 1:case!0:case"stroke":ra=1;break;case 2:case"fillThenStroke":ra=2;break;case 3:case"invisible":ra=3;break;case 4:case"fillAndAddForClipping":ra=4;break;case 5:case"strokeAndAddPathForClipping":ra=5;break;case 6:case"fillThenStrokeAndAddToPathForClipping":ra=6;break;case 7:case"addToPathForClipping":ra=7}var n0=Rf.usedRenderingMode!==void 0?Rf.usedRenderingMode:-1;ra!==-1?ci+=ra+` Tr
`:n0!==-1&&(ci+=`0 Tr
`),ra!==-1&&(Rf.usedRenderingMode=ra),zt=Ee.align||"left";var Is,Ml=lt*ll,rc=jn.internal.pageSize.getWidth(),a0=St[Ct];or=Ee.charSpace||Xo,xr=Ee.maxWidth||0,Gr=Object.assign({autoencode:!0,noBOM:!0},Ee.flags);var Rl=[],Uc=function(Kr){return jn.getStringUnitWidth(Kr,{font:a0,charSpace:or,fontSize:lt,doKerning:!1})*lt/cs};if(Object.prototype.toString.call(L)==="[object Array]"){var us;ot=Lf(L),zt!=="left"&&(Is=ot.map(Uc));var Gi,ho=0;if(zt==="right"){Y-=Is[0],L=[],ui=ot.length;for(var mo=0;mo<ui;mo++)mo===0?(Gi=Ls(Y),us=oi(_e)):(Gi=K(ho-Is[mo]),us=-Ml),L.push([ot[mo],Gi,us]),ho=Is[mo]}else if(zt==="center"){Y-=Is[0]/2,L=[],ui=ot.length;for(var nc=0;nc<ui;nc++)nc===0?(Gi=Ls(Y),us=oi(_e)):(Gi=K((ho-Is[nc])/2),us=-Ml),L.push([ot[nc],Gi,us]),ho=Is[nc]}else if(zt==="left"){L=[],ui=ot.length;for(var If=0;If<ui;If++)L.push(ot[If])}else if(zt==="justify"&&a0.encoding==="Identity-H"){L=[],ui=ot.length,xr=xr!==0?xr:rc;for(var Bf=0,ya=0;ya<ui;ya++)if(us=ya===0?oi(_e):-Ml,Gi=ya===0?Ls(Y):Bf,ya<ui-1){var Eh=K((xr-Is[ya])/(ot[ya].split(" ").length-1)),po=ot[ya].split(" ");L.push([po[0]+" ",Gi,us]),Bf=0;for(var xo=1;xo<po.length;xo++){var fi=(Uc(po[xo-1]+" "+po[xo])-Uc(po[xo]))*cs+Eh;xo==po.length-1?L.push([po[xo],fi,0]):L.push([po[xo]+" ",fi,0]),Bf-=fi}}else L.push([ot[ya],Gi,us]);L.push(["",Bf,0])}else{if(zt!=="justify")throw new Error('Unrecognized alignment option, use "left", "center", "right" or "justify".');for(L=[],ui=ot.length,xr=xr!==0?xr:rc,ya=0;ya<ui;ya++){us=ya===0?oi(_e):-Ml,Gi=ya===0?Ls(Y):0;var ac=ot[ya].split(" ").length-1,Uf=ac>0?(xr-Is[ya])/ac:0;ya<ui-1?Rl.push(T(K(Uf))):Rl.push(0),L.push([ot[ya],Gi,us])}}}(typeof Ee.R2L=="boolean"?Ee.R2L:Qt)===!0&&(L=Nu(L,function(Kr,Ur,An){return[Kr.split("").reverse().join(""),Ur,An]})),et={text:L,x:Y,y:_e,options:Ee,mutex:{pdfEscape:kr,activeFontKey:Ct,fonts:St,activeFontSize:lt}},Pr.publish("postProcessText",et),L=et.text,Aa=et.mutex.isHex||!1;var zf=St[Ct].encoding;zf!=="WinAnsiEncoding"&&zf!=="StandardEncoding"||(L=Nu(L,function(Kr,Ur,An){return[Ah(Kr),Ur,An]})),ot=Lf(L),L=[];for(var ic,sc,go,ju=Array.isArray(ot[0])?1:0,Bs="",lc=function(Kr,Ur,An){var ba="";return An instanceof Gt?(An=typeof Ee.angle=="number"?Tl(An,new Gt(1,0,0,1,Kr,Ur)):Tl(new Gt(1,0,0,1,Kr,Ur),An),O===A&&(An=Tl(new Gt(1,0,0,-1,0,0),An)),ba=An.join(" ")+` Tm
`):ba=T(Kr)+" "+T(Ur)+` Td
`,ba},Ci=0;Ci<ot.length;Ci++){switch(Bs="",ju){case 1:go=(Aa?"<":"(")+ot[Ci][0]+(Aa?">":")"),ic=parseFloat(ot[Ci][1]),sc=parseFloat(ot[Ci][2]);break;case 0:go=(Aa?"<":"(")+ot[Ci]+(Aa?">":")"),ic=Ls(Y),sc=oi(_e)}Rl!==void 0&&Rl[Ci]!==void 0&&(Bs=Rl[Ci]+` Tw
`),Ci===0?L.push(Bs+lc(ic,sc,va)+go):ju===0?L.push(Bs+go):ju===1&&L.push(Bs+lc(ic,sc,va)+go)}L=ju===0?L.join(` Tj
T* `):L.join(` Tj
`),L+=` Tj
`;var ol=`BT
/`;return ol+=Ct+" "+lt+` Tf
`,ol+=T(lt*ll)+` TL
`,ol+=lo+`
`,ol+=ci,ol+=L,xe(ol+="ET"),g[Ct]=!0,jn};var Yd=x.__private__.clip=x.clip=function(L){return xe(L==="evenodd"?"W*":"W"),this};x.clipEvenOdd=function(){return Yd("evenodd")},x.__private__.discardPath=x.discardPath=function(){return xe("n"),this};var Wi=x.__private__.isValidStyle=function(L){var Y=!1;return[void 0,null,"S","D","F","DF","FD","f","f*","B","B*","n"].indexOf(L)!==-1&&(Y=!0),Y};x.__private__.setDefaultPathOperation=x.setDefaultPathOperation=function(L){return Wi(L)&&(u=L),this};var Xd=x.__private__.getStyle=x.getStyle=function(L){var Y=u;switch(L){case"D":case"S":Y="S";break;case"F":Y="f";break;case"FD":case"DF":Y="B";break;case"f":case"f*":case"B":case"B*":Y=L}return Y},Qd=x.close=function(){return xe("h"),this};x.stroke=function(){return xe("S"),this},x.fill=function(L){return Fs("f",L),this},x.fillEvenOdd=function(L){return Fs("f*",L),this},x.fillStroke=function(L){return Fs("B",L),this},x.fillStrokeEvenOdd=function(L){return Fs("B*",L),this};var Fs=function(L,Y){_n(Y)==="object"?bh(Y,L):xe(L)},Zd=function(L){L===null||O===A&&L===void 0||(L=Xd(L),xe(L))};function yh(L,Y,_e,Ee,Pe){var et=new wm(Y||this.boundingBox,_e||this.xStep,Ee||this.yStep,this.gState,Pe||this.matrix);et.stream=this.stream;var ot=L+"$$"+this.cloneIndex+++"$$";return li(ot,et),et}var bh=function(L,Y){var _e=Ar[L.key],Ee=ar[_e];if(Ee instanceof j0)xe("q"),xe(Jd(Y)),Ee.gState&&x.setGState(Ee.gState),xe(L.matrix.toString()+" cm"),xe("/"+_e+" sh"),xe("Q");else if(Ee instanceof wm){var Pe=new Gt(1,0,0,-1,0,ec());L.matrix&&(Pe=Pe.multiply(L.matrix||il),_e=yh.call(Ee,L.key,L.boundingBox,L.xStep,L.yStep,Pe).id),xe("q"),xe("/Pattern cs"),xe("/"+_e+" scn"),Ee.gState&&x.setGState(Ee.gState),xe(Y),xe("Q")}},Jd=function(L){switch(L){case"f":case"F":case"n":return"W n";case"f*":return"W* n";case"B":case"S":return"W S";case"B*":return"W* S"}},e0=x.moveTo=function(L,Y){return xe(T(K(L))+" "+T(J(Y))+" m"),this},xu=x.lineTo=function(L,Y){return xe(T(K(L))+" "+T(J(Y))+" l"),this},Pl=x.curveTo=function(L,Y,_e,Ee,Pe,et){return xe([T(K(L)),T(J(Y)),T(K(_e)),T(J(Ee)),T(K(Pe)),T(J(et)),"c"].join(" ")),this};x.__private__.line=x.line=function(L,Y,_e,Ee,Pe){if(isNaN(L)||isNaN(Y)||isNaN(_e)||isNaN(Ee)||!Wi(Pe))throw new Error("Invalid arguments passed to jsPDF.line");return O===E?this.lines([[_e-L,Ee-Y]],L,Y,[1,1],Pe||"S"):this.lines([[_e-L,Ee-Y]],L,Y,[1,1]).stroke()},x.__private__.lines=x.lines=function(L,Y,_e,Ee,Pe,et){var ot,Ft,zt,or,xr,Gr,Hn,va,jn,Ua,Aa,ci;if(typeof L=="number"&&(ci=_e,_e=Y,Y=L,L=ci),Ee=Ee||[1,1],et=et||!1,isNaN(Y)||isNaN(_e)||!Array.isArray(L)||!Array.isArray(Ee)||!Wi(Pe)||typeof et!="boolean")throw new Error("Invalid arguments passed to jsPDF.lines");for(e0(Y,_e),ot=Ee[0],Ft=Ee[1],or=L.length,Ua=Y,Aa=_e,zt=0;zt<or;zt++)(xr=L[zt]).length===2?(Ua=xr[0]*ot+Ua,Aa=xr[1]*Ft+Aa,xu(Ua,Aa)):(Gr=xr[0]*ot+Ua,Hn=xr[1]*Ft+Aa,va=xr[2]*ot+Ua,jn=xr[3]*Ft+Aa,Ua=xr[4]*ot+Ua,Aa=xr[5]*Ft+Aa,Pl(Gr,Hn,va,jn,Ua,Aa));return et&&Qd(),Zd(Pe),this},x.path=function(L){for(var Y=0;Y<L.length;Y++){var _e=L[Y],Ee=_e.c;switch(_e.op){case"m":e0(Ee[0],Ee[1]);break;case"l":xu(Ee[0],Ee[1]);break;case"c":Pl.apply(this,Ee);break;case"h":Qd()}}return this},x.__private__.rect=x.rect=function(L,Y,_e,Ee,Pe){if(isNaN(L)||isNaN(Y)||isNaN(_e)||isNaN(Ee)||!Wi(Pe))throw new Error("Invalid arguments passed to jsPDF.rect");return O===E&&(Ee=-Ee),xe([T(K(L)),T(J(Y)),T(K(_e)),T(K(Ee)),"re"].join(" ")),Zd(Pe),this},x.__private__.triangle=x.triangle=function(L,Y,_e,Ee,Pe,et,ot){if(isNaN(L)||isNaN(Y)||isNaN(_e)||isNaN(Ee)||isNaN(Pe)||isNaN(et)||!Wi(ot))throw new Error("Invalid arguments passed to jsPDF.triangle");return this.lines([[_e-L,Ee-Y],[Pe-_e,et-Ee],[L-Pe,Y-et]],L,Y,[1,1],ot,!0),this},x.__private__.roundedRect=x.roundedRect=function(L,Y,_e,Ee,Pe,et,ot){if(isNaN(L)||isNaN(Y)||isNaN(_e)||isNaN(Ee)||isNaN(Pe)||isNaN(et)||!Wi(ot))throw new Error("Invalid arguments passed to jsPDF.roundedRect");var Ft=4/3*(Math.SQRT2-1);return Pe=Math.min(Pe,.5*_e),et=Math.min(et,.5*Ee),this.lines([[_e-2*Pe,0],[Pe*Ft,0,Pe,et-et*Ft,Pe,et],[0,Ee-2*et],[0,et*Ft,-Pe*Ft,et,-Pe,et],[2*Pe-_e,0],[-Pe*Ft,0,-Pe,-et*Ft,-Pe,-et],[0,2*et-Ee],[0,-et*Ft,Pe*Ft,-et,Pe,-et]],L+Pe,Y,[1,1],ot,!0),this},x.__private__.ellipse=x.ellipse=function(L,Y,_e,Ee,Pe){if(isNaN(L)||isNaN(Y)||isNaN(_e)||isNaN(Ee)||!Wi(Pe))throw new Error("Invalid arguments passed to jsPDF.ellipse");var et=4/3*(Math.SQRT2-1)*_e,ot=4/3*(Math.SQRT2-1)*Ee;return e0(L+_e,Y),Pl(L+_e,Y-ot,L+et,Y-Ee,L,Y-Ee),Pl(L-et,Y-Ee,L-_e,Y-ot,L-_e,Y),Pl(L-_e,Y+ot,L-et,Y+Ee,L,Y+Ee),Pl(L+et,Y+Ee,L+_e,Y+ot,L+_e,Y),Zd(Pe),this},x.__private__.circle=x.circle=function(L,Y,_e,Ee){if(isNaN(L)||isNaN(Y)||isNaN(_e)||!Wi(Ee))throw new Error("Invalid arguments passed to jsPDF.circle");return this.ellipse(L,Y,_e,_e,Ee)},x.setFont=function(L,Y,_e){return _e&&(Y=P(Y,_e)),Ct=Fc(L,Y,{disableWarning:!1}),this};var Fl=x.__private__.getFont=x.getFont=function(){return St[Fc.apply(x,arguments)]};x.__private__.getFontList=x.getFontList=function(){var L,Y,_e={};for(L in er)if(er.hasOwnProperty(L))for(Y in _e[L]=[],er[L])er[L].hasOwnProperty(Y)&&_e[L].push(Y);return _e},x.addFont=function(L,Y,_e,Ee,Pe){var et=["StandardEncoding","MacRomanEncoding","Identity-H","WinAnsiEncoding"];return arguments[3]&&et.indexOf(arguments[3])!==-1?Pe=arguments[3]:arguments[3]&&et.indexOf(arguments[3])==-1&&(_e=P(_e,Ee)),sn.call(this,L,Y,_e,Pe=Pe||"Identity-H")};var Yo,gu=e.lineWidth||.200025,ir=x.__private__.getLineWidth=x.getLineWidth=function(){return gu},Lc=x.__private__.setLineWidth=x.setLineWidth=function(L){return gu=L,xe(T(K(L))+" w"),this};x.__private__.setLineDash=$t.API.setLineDash=$t.API.setLineDashPattern=function(L,Y){if(L=L||[],Y=Y||0,isNaN(Y)||!Array.isArray(L))throw new Error("Invalid arguments passed to jsPDF.setLineDash");return L=L.map(function(_e){return T(K(_e))}).join(" "),Y=T(K(Y)),xe("["+L+"] "+Y+" d"),this};var wh=x.__private__.getLineHeight=x.getLineHeight=function(){return lt*Yo};x.__private__.getLineHeight=x.getLineHeight=function(){return lt*Yo};var t0=x.__private__.setLineHeightFactor=x.setLineHeightFactor=function(L){return typeof(L=L||1.15)=="number"&&(Yo=L),this},_h=x.__private__.getLineHeightFactor=x.getLineHeightFactor=function(){return Yo};t0(e.lineHeight);var Ls=x.__private__.getHorizontalCoordinate=function(L){return K(L)},oi=x.__private__.getVerticalCoordinate=function(L){return O===A?L:Wt[M].mediaBox.topRightY-Wt[M].mediaBox.bottomLeftY-K(L)},r0=x.__private__.getHorizontalCoordinateString=x.getHorizontalCoordinateString=function(L){return T(Ls(L))},vu=x.__private__.getVerticalCoordinateString=x.getVerticalCoordinateString=function(L){return T(oi(L))},Ms=e.strokeColor||"0 G";x.__private__.getStrokeColor=x.getDrawColor=function(){return ge(Ms)},x.__private__.setStrokeColor=x.setDrawColor=function(L,Y,_e,Ee){return Ms=Ne({ch1:L,ch2:Y,ch3:_e,ch4:Ee,pdfColorType:"draw",precision:2}),xe(Ms),this};var yu=e.fillColor||"0 g";x.__private__.getFillColor=x.getFillColor=function(){return ge(yu)},x.__private__.setFillColor=x.setFillColor=function(L,Y,_e,Ee){return yu=Ne({ch1:L,ch2:Y,ch3:_e,ch4:Ee,pdfColorType:"fill",precision:2}),xe(yu),this};var lo=e.textColor||"0 g",bu=x.__private__.getTextColor=x.getTextColor=function(){return ge(lo)};x.__private__.setTextColor=x.setTextColor=function(L,Y,_e,Ee){return lo=Ne({ch1:L,ch2:Y,ch3:_e,ch4:Ee,pdfColorType:"text",precision:3}),this};var Xo=e.charSpace,Df=x.__private__.getCharSpace=x.getCharSpace=function(){return parseFloat(Xo||0)};x.__private__.setCharSpace=x.setCharSpace=function(L){if(isNaN(L))throw new Error("Invalid argument passed to jsPDF.setCharSpace");return Xo=L,this};var Pf=0;x.CapJoinStyles={0:0,butt:0,but:0,miter:0,1:1,round:1,rounded:1,circle:1,2:2,projecting:2,project:2,square:2,bevel:2},x.__private__.setLineCap=x.setLineCap=function(L){var Y=x.CapJoinStyles[L];if(Y===void 0)throw new Error("Line cap style of '"+L+"' is not recognized. See or extend .CapJoinStyles property for valid styles");return Pf=Y,xe(Y+" J"),this};var Qa=0;x.__private__.setLineJoin=x.setLineJoin=function(L){var Y=x.CapJoinStyles[L];if(Y===void 0)throw new Error("Line join style of '"+L+"' is not recognized. See or extend .CapJoinStyles property for valid styles");return Qa=Y,xe(Y+" j"),this},x.__private__.setLineMiterLimit=x.__private__.setMiterLimit=x.setLineMiterLimit=x.setMiterLimit=function(L){if(L=L||0,isNaN(L))throw new Error("Invalid argument passed to jsPDF.setLineMiterLimit");return xe(T(K(L))+" M"),this},x.GState=Yy,x.setGState=function(L){(L=typeof L=="string"?fr[pn[L]]:Rs(null,L)).equals(Bn)||(xe("/"+L.id+" gs"),Bn=L)};var Rs=function(L,Y){if(!L||!pn[L]){var _e=!1;for(var Ee in fr)if(fr.hasOwnProperty(Ee)&&fr[Ee].equals(Y)){_e=!0;break}if(_e)Y=fr[Ee];else{var Pe="GS"+(Object.keys(fr).length+1).toString(10);fr[Pe]=Y,Y.id=Pe}return L&&(pn[L]=Y.id),Pr.publish("addGState",Y),Y}};x.addGState=function(L,Y){return Rs(L,Y),this},x.saveGraphicsState=function(){return xe("q"),br.push({key:Ct,size:lt,color:lo}),this},x.restoreGraphicsState=function(){xe("Q");var L=br.pop();return Ct=L.key,lt=L.size,lo=L.color,Bn=null,this},x.setCurrentTransformationMatrix=function(L){return xe(L.toString()+" cm"),this},x.comment=function(L){return xe("#"+L),this};var oo=function(L,Y){var _e=L||0;Object.defineProperty(this,"x",{enumerable:!0,get:function(){return _e},set:function(et){isNaN(et)||(_e=parseFloat(et))}});var Ee=Y||0;Object.defineProperty(this,"y",{enumerable:!0,get:function(){return Ee},set:function(et){isNaN(et)||(Ee=parseFloat(et))}});var Pe="pt";return Object.defineProperty(this,"type",{enumerable:!0,get:function(){return Pe},set:function(et){Pe=et.toString()}}),this},Qo=function(L,Y,_e,Ee){oo.call(this,L,Y),this.type="rect";var Pe=_e||0;Object.defineProperty(this,"w",{enumerable:!0,get:function(){return Pe},set:function(ot){isNaN(ot)||(Pe=parseFloat(ot))}});var et=Ee||0;return Object.defineProperty(this,"h",{enumerable:!0,get:function(){return et},set:function(ot){isNaN(ot)||(et=parseFloat(ot))}}),this},Ff=function(){this.page=qr,this.currentPage=M,this.pages=De.slice(0),this.pagesContext=Wt.slice(0),this.x=jt,this.y=Nr,this.matrix=Yt,this.width=Mc(M),this.height=co(M),this.outputDestination=Ke,this.id="",this.objectNumber=-1};Ff.prototype.restore=function(){qr=this.page,M=this.currentPage,Wt=this.pagesContext,De=this.pages,jt=this.x,Nr=this.y,Yt=this.matrix,_u(M,this.width),Jo(M,this.height),Ke=this.outputDestination};var wu=function(L,Y,_e,Ee,Pe){os.push(new Ff),qr=M=0,De=[],jt=L,Nr=Y,Yt=Pe,fn([_e,Ee])};for(var Zo in x.beginFormObject=function(L,Y,_e,Ee,Pe){return wu(L,Y,_e,Ee,Pe),this},x.endFormObject=function(L){return(function(Y){if(al[Y])os.pop().restore();else{var _e=new Ff,Ee="Xo"+(Object.keys(Xa).length+1).toString(10);_e.id=Ee,al[Y]=Ee,Xa[Ee]=_e,Pr.publish("addFormObject",_e),os.pop().restore()}})(L),this},x.doFormObject=function(L,Y){var _e=Xa[al[L]];return xe("q"),xe(Y.toString()+" cm"),xe("/"+_e.id+" Do"),xe("Q"),this},x.getFormObject=function(L){var Y=Xa[al[L]];return{x:Y.x,y:Y.y,width:Y.width,height:Y.height,matrix:Y.matrix}},x.save=function(L,Y){return L=L||"generated.pdf",(Y=Y||{}).returnPromise=Y.returnPromise||!1,Y.returnPromise===!1?(N0(Ko(Go()),L),typeof N0.unload=="function"&&pr.setTimeout&&setTimeout(N0.unload,911),this):new Promise(function(_e,Ee){try{var Pe=N0(Ko(Go()),L);typeof N0.unload=="function"&&pr.setTimeout&&setTimeout(N0.unload,911),_e(Pe)}catch(et){Ee(et.message)}})},$t.API)$t.API.hasOwnProperty(Zo)&&(Zo==="events"&&$t.API.events.length?(function(L,Y){var _e,Ee,Pe;for(Pe=Y.length-1;Pe!==-1;Pe--)_e=Y[Pe][0],Ee=Y[Pe][1],L.subscribe.apply(L,[_e].concat(typeof Ee=="function"?[Ee]:Ee))})(Pr,$t.API.events):x[Zo]=$t.API[Zo]);function Mc(L){return Wt[L].mediaBox.topRightX-Wt[L].mediaBox.bottomLeftX}function _u(L,Y){Wt[L].mediaBox.topRightX=Y+Wt[L].mediaBox.bottomLeftX}function co(L){return Wt[L].mediaBox.topRightY-Wt[L].mediaBox.bottomLeftY}function Jo(L,Y){Wt[L].mediaBox.topRightY=Y+Wt[L].mediaBox.bottomLeftY}var Nh=x.getPageWidth=function(L){return Mc(L=L||M)/xt},Sh=x.setPageWidth=function(L,Y){_u(L,Y*xt)},ec=x.getPageHeight=function(L){return co(L=L||M)/xt},jh=x.setPageHeight=function(L,Y){Jo(L,Y*xt)};return x.internal={pdfEscape:kr,getStyle:Xd,getFont:Fl,getFontSize:pt,getCharSpace:Df,getTextColor:bu,getLineHeight:wh,getLineHeightFactor:_h,getLineWidth:ir,write:dt,getHorizontalCoordinate:Ls,getVerticalCoordinate:oi,getCoordinateString:r0,getVerticalCoordinateString:vu,collections:{},newObject:Sn,newAdditionalObject:we,newObjectDeferred:ta,newObjectDeferredBegin:ee,getFilters:Me,putStream:Ge,events:Pr,scaleFactor:xt,pageSize:{getWidth:function(){return Nh(M)},setWidth:function(L){Sh(M,L)},getHeight:function(){return ec(M)},setHeight:function(L){jh(M,L)}},encryptionOptions:h,encryption:ga,getEncryptor:function(L){return h!==null?ga.encryptor(L,0):function(Y){return Y}},output:sl,getNumberOfPages:Ps,pages:De,out:xe,f2:I,f3:z,getPageInfo:ki,getPageInfoByObjId:Kd,getCurrentPageInfo:vh,getPDFVersion:y,Point:oo,Rectangle:Qo,Matrix:Gt,hasHotfix:so},Object.defineProperty(x.internal.pageSize,"width",{get:function(){return Nh(M)},set:function(L){Sh(M,L)},enumerable:!0,configurable:!0}),Object.defineProperty(x.internal.pageSize,"height",{get:function(){return ec(M)},set:function(L){jh(M,L)},enumerable:!0,configurable:!0}),(function(L){for(var Y=0,_e=wt.length;Y<_e;Y++){var Ee=sn.call(this,L[Y][0],L[Y][1],L[Y][2],wt[Y][3],!0);p===!1&&(g[Ee]=!0);var Pe=L[Y][0].split("-");Tt({id:Ee,fontName:Pe[0],fontStyle:Pe[1]||""})}Pr.publish("addFonts",{fonts:St,dictionary:er})}).call(x,wt),Ct="F1",Hi(a,r),Pr.publish("initialized"),x}gm.prototype.lsbFirstWord=function(e){return String.fromCharCode(255&e,e>>8&255,e>>16&255,e>>24&255)},gm.prototype.toHexString=function(e){return e.split("").map(function(t){return("0"+(255&t.charCodeAt(0)).toString(16)).slice(-2)}).join("")},gm.prototype.hexToBytes=function(e){for(var t=[],r=0;r<e.length;r+=2)t.push(String.fromCharCode(parseInt(e.substr(r,2),16)));return t.join("")},gm.prototype.processOwnerPassword=function(e,t){return gN(xN(t).substr(0,5),e)},gm.prototype.encryptor=function(e,t){var r=xN(this.encryptionKey+String.fromCharCode(255&e,e>>8&255,e>>16&255,255&t,t>>8&255)).substr(0,10);return function(n){return gN(r,n)}},Yy.prototype.equals=function(e){var t,r="id,objectNumber,equals";if(!e||_n(e)!==_n(this))return!1;var n=0;for(t in this)if(!(r.indexOf(t)>=0)){if(this.hasOwnProperty(t)&&!e.hasOwnProperty(t)||this[t]!==e[t])return!1;n++}for(t in e)e.hasOwnProperty(t)&&r.indexOf(t)<0&&n--;return n===0},$t.API={events:[]},$t.version="3.0.3";var Pa=$t.API,Ij=1,gh=function(e){return e.replace(/\\/g,"\\\\").replace(/\(/g,"\\(").replace(/\)/g,"\\)")},mm=function(e){return e.replace(/\\\\/g,"\\").replace(/\\\(/g,"(").replace(/\\\)/g,")")},yr=function(e){return e.toFixed(2)},md=function(e){return e.toFixed(5)};Pa.__acroform__={};var Cl=function(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e},U7=function(e){return e*Ij},au=function(e){var t=new GB,r=Rt.internal.getHeight(e)||0,n=Rt.internal.getWidth(e)||0;return t.BBox=[0,0,Number(yr(n)),Number(yr(r))],t},x4e=Pa.__acroform__.setBit=function(e,t){if(e=e||0,t=t||0,isNaN(e)||isNaN(t))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.setBit");return e|1<<t},g4e=Pa.__acroform__.clearBit=function(e,t){if(e=e||0,t=t||0,isNaN(e)||isNaN(t))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.clearBit");return e&~(1<<t)},v4e=Pa.__acroform__.getBit=function(e,t){if(isNaN(e)||isNaN(t))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.getBit");return e&1<<t?1:0},Va=Pa.__acroform__.getBitForPdf=function(e,t){if(isNaN(e)||isNaN(t))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.getBitForPdf");return v4e(e,t-1)},Wa=Pa.__acroform__.setBitForPdf=function(e,t){if(isNaN(e)||isNaN(t))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.setBitForPdf");return x4e(e,t-1)},Ga=Pa.__acroform__.clearBitForPdf=function(e,t){if(isNaN(e)||isNaN(t))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.clearBitForPdf");return g4e(e,t-1)},y4e=Pa.__acroform__.calculateCoordinates=function(e,t){var r=t.internal.getHorizontalCoordinate,n=t.internal.getVerticalCoordinate,a=e[0],i=e[1],l=e[2],o=e[3],f={};return f.lowerLeft_X=r(a)||0,f.lowerLeft_Y=n(i+o)||0,f.upperRight_X=r(a+l)||0,f.upperRight_Y=n(i)||0,[Number(yr(f.lowerLeft_X)),Number(yr(f.lowerLeft_Y)),Number(yr(f.upperRight_X)),Number(yr(f.upperRight_Y))]},b4e=function(e){if(e.appearanceStreamContent)return e.appearanceStreamContent;if(e.V||e.DV){var t=[],r=e._V||e.DV,n=vN(e,r),a=e.scope.internal.getFont(e.fontName,e.fontStyle).id;t.push("/Tx BMC"),t.push("q"),t.push("BT"),t.push(e.scope.__private__.encodeColorString(e.color)),t.push("/"+a+" "+yr(n.fontSize)+" Tf"),t.push("1 0 0 1 0 0 Tm"),t.push(n.text),t.push("ET"),t.push("Q"),t.push("EMC");var i=au(e);return i.scope=e.scope,i.stream=t.join(`
`),i}},vN=function(e,t){var r=e.fontSize===0?e.maxFontSize:e.fontSize,n={text:"",fontSize:""},a=(t=(t=t.substr(0,1)=="("?t.substr(1):t).substr(t.length-1)==")"?t.substr(0,t.length-1):t).split(" ");a=e.multiline?a.map(function(I){return I.split(`
`)}):a.map(function(I){return[I]});var i=r,l=Rt.internal.getHeight(e)||0;l=l<0?-l:l;var o=Rt.internal.getWidth(e)||0;o=o<0?-o:o;var f=function(I,z,K){if(I+1<a.length){var J=z+" "+a[I+1][0];return Sv(J,e,K).width<=o-4}return!1};i++;e:for(;i>0;){t="",i--;var u,h,p=Sv("3",e,i).height,g=e.multiline?l-i:(l-p)/2,x=g+=2,b=0,y=0,w=0;if(i<=0){t=`(...) Tj
`,t+="% Width of Text: "+Sv(t,e,i=12).width+", FieldWidth:"+o+`
`;break}for(var _="",E=0,A=0;A<a.length;A++)if(a.hasOwnProperty(A)){var O=!1;if(a[A].length!==1&&w!==a[A].length-1){if((p+2)*(E+2)+2>l)continue e;_+=a[A][w],O=!0,y=A,A--}else{_=(_+=a[A][w]+" ").substr(_.length-1)==" "?_.substr(0,_.length-1):_;var D=parseInt(A),R=f(D,_,i),P=A>=a.length-1;if(R&&!P){_+=" ",w=0;continue}if(R||P){if(P)y=D;else if(e.multiline&&(p+2)*(E+2)+2>l)continue e}else{if(!e.multiline||(p+2)*(E+2)+2>l)continue e;y=D}}for(var T="",B=b;B<=y;B++){var G=a[B];if(e.multiline){if(B===y){T+=G[w]+" ",w=(w+1)%G.length;continue}if(B===b){T+=G[G.length-1]+" ";continue}}T+=G[0]+" "}switch(T=T.substr(T.length-1)==" "?T.substr(0,T.length-1):T,h=Sv(T,e,i).width,e.textAlign){case"right":u=o-h-2;break;case"center":u=(o-h)/2;break;default:u=2}t+=yr(u)+" "+yr(x)+` Td
`,t+="("+gh(T)+`) Tj
`,t+=-yr(u)+` 0 Td
`,x=-(i+2),h=0,b=O?y:y+1,E++,_=""}break}return n.text=t,n.fontSize=i,n},Sv=function(e,t,r){var n=t.scope.internal.getFont(t.fontName,t.fontStyle),a=t.scope.getStringUnitWidth(e,{font:n,fontSize:parseFloat(r),charSpace:0})*parseFloat(r);return{height:t.scope.getStringUnitWidth("3",{font:n,fontSize:parseFloat(r),charSpace:0})*parseFloat(r)*1.5,width:a}},w4e={fields:[],xForms:[],acroFormDictionaryRoot:null,printedOut:!1,internal:null,isInitialized:!1},_4e=function(e,t){var r={type:"reference",object:e};t.internal.getPageInfo(e.page).pageContext.annotations.find(function(n){return n.type===r.type&&n.object===r.object})===void 0&&t.internal.getPageInfo(e.page).pageContext.annotations.push(r)},N4e=function(e,t){if(t.scope=e,e.internal!==void 0&&(e.internal.acroformPlugin===void 0||e.internal.acroformPlugin.isInitialized===!1)){if(Dc.FieldNum=0,e.internal.acroformPlugin=JSON.parse(JSON.stringify(w4e)),e.internal.acroformPlugin.acroFormDictionaryRoot)throw new Error("Exception while creating AcroformDictionary");Ij=e.internal.scaleFactor,e.internal.acroformPlugin.acroFormDictionaryRoot=new KB,e.internal.acroformPlugin.acroFormDictionaryRoot.scope=e,e.internal.acroformPlugin.acroFormDictionaryRoot._eventID=e.internal.events.subscribe("postPutResources",function(){(function(r){r.internal.events.unsubscribe(r.internal.acroformPlugin.acroFormDictionaryRoot._eventID),delete r.internal.acroformPlugin.acroFormDictionaryRoot._eventID,r.internal.acroformPlugin.printedOut=!0})(e)}),e.internal.events.subscribe("buildDocument",function(){(function(r){r.internal.acroformPlugin.acroFormDictionaryRoot.objId=void 0;var n=r.internal.acroformPlugin.acroFormDictionaryRoot.Fields;for(var a in n)if(n.hasOwnProperty(a)){var i=n[a];i.objId=void 0,i.hasAnnotation&&_4e(i,r)}})(e)}),e.internal.events.subscribe("putCatalog",function(){(function(r){if(r.internal.acroformPlugin.acroFormDictionaryRoot===void 0)throw new Error("putCatalogCallback: Root missing.");r.internal.write("/AcroForm "+r.internal.acroformPlugin.acroFormDictionaryRoot.objId+" 0 R")})(e)}),e.internal.events.subscribe("postPutPages",function(r){(function(n,a){var i=!n;for(var l in n||(a.internal.newObjectDeferredBegin(a.internal.acroformPlugin.acroFormDictionaryRoot.objId,!0),a.internal.acroformPlugin.acroFormDictionaryRoot.putStream()),n=n||a.internal.acroformPlugin.acroFormDictionaryRoot.Kids)if(n.hasOwnProperty(l)){var o=n[l],f=[],u=o.Rect;if(o.Rect&&(o.Rect=y4e(o.Rect,a)),a.internal.newObjectDeferredBegin(o.objId,!0),o.DA=Rt.createDefaultAppearanceStream(o),_n(o)==="object"&&typeof o.getKeyValueListForStream=="function"&&(f=o.getKeyValueListForStream()),o.Rect=u,o.hasAppearanceStream&&!o.appearanceStreamContent){var h=b4e(o);f.push({key:"AP",value:"<</N "+h+">>"}),a.internal.acroformPlugin.xForms.push(h)}if(o.appearanceStreamContent){var p="";for(var g in o.appearanceStreamContent)if(o.appearanceStreamContent.hasOwnProperty(g)){var x=o.appearanceStreamContent[g];if(p+="/"+g+" ",p+="<<",Object.keys(x).length>=1||Array.isArray(x)){for(var l in x)if(x.hasOwnProperty(l)){var b=x[l];typeof b=="function"&&(b=b.call(a,o)),p+="/"+l+" "+b+" ",a.internal.acroformPlugin.xForms.indexOf(b)>=0||a.internal.acroformPlugin.xForms.push(b)}}else typeof(b=x)=="function"&&(b=b.call(a,o)),p+="/"+l+" "+b,a.internal.acroformPlugin.xForms.indexOf(b)>=0||a.internal.acroformPlugin.xForms.push(b);p+=">>"}f.push({key:"AP",value:`<<
`+p+">>"})}a.internal.putStream({additionalKeyValues:f,objectId:o.objId}),a.internal.out("endobj")}i&&(function(y,w){for(var _ in y)if(y.hasOwnProperty(_)){var E=_,A=y[_];w.internal.newObjectDeferredBegin(A.objId,!0),_n(A)==="object"&&typeof A.putStream=="function"&&A.putStream(),delete y[E]}})(a.internal.acroformPlugin.xForms,a)})(r,e)}),e.internal.acroformPlugin.isInitialized=!0}},WB=Pa.__acroform__.arrayToPdfArray=function(e,t,r){var n=function(l){return l};if(Array.isArray(e)){for(var a="[",i=0;i<e.length;i++)switch(i!==0&&(a+=" "),_n(e[i])){case"boolean":case"number":case"object":a+=e[i].toString();break;case"string":e[i].substr(0,1)!=="/"?(t!==void 0&&r&&(n=r.internal.getEncryptor(t)),a+="("+gh(n(e[i].toString()))+")"):a+=e[i].toString()}return a+"]"}throw new Error("Invalid argument passed to jsPDF.__acroform__.arrayToPdfArray")},k4=function(e,t,r){var n=function(a){return a};return t!==void 0&&r&&(n=r.internal.getEncryptor(t)),(e=e||"").toString(),"("+gh(n(e))+")"},lu=function(){this._objId=void 0,this._scope=void 0,Object.defineProperty(this,"objId",{get:function(){if(this._objId===void 0){if(this.scope===void 0)return;this._objId=this.scope.internal.newObjectDeferred()}return this._objId},set:function(e){this._objId=e}}),Object.defineProperty(this,"scope",{value:this._scope,writable:!0})};lu.prototype.toString=function(){return this.objId+" 0 R"},lu.prototype.putStream=function(){var e=this.getKeyValueListForStream();this.scope.internal.putStream({data:this.stream,additionalKeyValues:e,objectId:this.objId}),this.scope.internal.out("endobj")},lu.prototype.getKeyValueListForStream=function(){var e=[],t=Object.getOwnPropertyNames(this).filter(function(i){return i!="content"&&i!="appearanceStreamContent"&&i!="scope"&&i!="objId"&&i.substring(0,1)!="_"});for(var r in t)if(Object.getOwnPropertyDescriptor(this,t[r]).configurable===!1){var n=t[r],a=this[n];a&&(Array.isArray(a)?e.push({key:n,value:WB(a,this.objId,this.scope)}):a instanceof lu?(a.scope=this.scope,e.push({key:n,value:a.objId+" 0 R"})):typeof a!="function"&&e.push({key:n,value:a}))}return e};var GB=function(){lu.call(this),Object.defineProperty(this,"Type",{value:"/XObject",configurable:!1,writable:!0}),Object.defineProperty(this,"Subtype",{value:"/Form",configurable:!1,writable:!0}),Object.defineProperty(this,"FormType",{value:1,configurable:!1,writable:!0});var e,t=[];Object.defineProperty(this,"BBox",{configurable:!1,get:function(){return t},set:function(r){t=r}}),Object.defineProperty(this,"Resources",{value:"2 0 R",configurable:!1,writable:!0}),Object.defineProperty(this,"stream",{enumerable:!1,configurable:!0,set:function(r){e=r.trim()},get:function(){return e||null}})};Cl(GB,lu);var KB=function(){lu.call(this);var e,t=[];Object.defineProperty(this,"Kids",{enumerable:!1,configurable:!0,get:function(){return t.length>0?t:void 0}}),Object.defineProperty(this,"Fields",{enumerable:!1,configurable:!1,get:function(){return t}}),Object.defineProperty(this,"DA",{enumerable:!1,configurable:!1,get:function(){if(e){var r=function(n){return n};return this.scope&&(r=this.scope.internal.getEncryptor(this.objId)),"("+gh(r(e))+")"}},set:function(r){e=r}})};Cl(KB,lu);var Dc=function e(){lu.call(this);var t=4;Object.defineProperty(this,"F",{enumerable:!1,configurable:!1,get:function(){return t},set:function(_){if(isNaN(_))throw new Error('Invalid value "'+_+'" for attribute F supplied.');t=_}}),Object.defineProperty(this,"showWhenPrinted",{enumerable:!0,configurable:!0,get:function(){return!!Va(t,3)},set:function(_){_?this.F=Wa(t,3):this.F=Ga(t,3)}});var r=0;Object.defineProperty(this,"Ff",{enumerable:!1,configurable:!1,get:function(){return r},set:function(_){if(isNaN(_))throw new Error('Invalid value "'+_+'" for attribute Ff supplied.');r=_}});var n=[];Object.defineProperty(this,"Rect",{enumerable:!1,configurable:!1,get:function(){if(n.length!==0)return n},set:function(_){n=_!==void 0?_:[]}}),Object.defineProperty(this,"x",{enumerable:!0,configurable:!0,get:function(){return!n||isNaN(n[0])?0:n[0]},set:function(_){n[0]=_}}),Object.defineProperty(this,"y",{enumerable:!0,configurable:!0,get:function(){return!n||isNaN(n[1])?0:n[1]},set:function(_){n[1]=_}}),Object.defineProperty(this,"width",{enumerable:!0,configurable:!0,get:function(){return!n||isNaN(n[2])?0:n[2]},set:function(_){n[2]=_}}),Object.defineProperty(this,"height",{enumerable:!0,configurable:!0,get:function(){return!n||isNaN(n[3])?0:n[3]},set:function(_){n[3]=_}});var a="";Object.defineProperty(this,"FT",{enumerable:!0,configurable:!1,get:function(){return a},set:function(_){switch(_){case"/Btn":case"/Tx":case"/Ch":case"/Sig":a=_;break;default:throw new Error('Invalid value "'+_+'" for attribute FT supplied.')}}});var i=null;Object.defineProperty(this,"T",{enumerable:!0,configurable:!1,get:function(){if(!i||i.length<1){if(this instanceof Xy)return;i="FieldObject"+e.FieldNum++}var _=function(E){return E};return this.scope&&(_=this.scope.internal.getEncryptor(this.objId)),"("+gh(_(i))+")"},set:function(_){i=_.toString()}}),Object.defineProperty(this,"fieldName",{configurable:!0,enumerable:!0,get:function(){return i},set:function(_){i=_}});var l="helvetica";Object.defineProperty(this,"fontName",{enumerable:!0,configurable:!0,get:function(){return l},set:function(_){l=_}});var o="normal";Object.defineProperty(this,"fontStyle",{enumerable:!0,configurable:!0,get:function(){return o},set:function(_){o=_}});var f=0;Object.defineProperty(this,"fontSize",{enumerable:!0,configurable:!0,get:function(){return f},set:function(_){f=_}});var u=void 0;Object.defineProperty(this,"maxFontSize",{enumerable:!0,configurable:!0,get:function(){return u===void 0?50/Ij:u},set:function(_){u=_}});var h="black";Object.defineProperty(this,"color",{enumerable:!0,configurable:!0,get:function(){return h},set:function(_){h=_}});var p="/F1 0 Tf 0 g";Object.defineProperty(this,"DA",{enumerable:!0,configurable:!1,get:function(){if(!(!p||this instanceof Xy||this instanceof B0))return k4(p,this.objId,this.scope)},set:function(_){_=_.toString(),p=_}});var g=null;Object.defineProperty(this,"DV",{enumerable:!1,configurable:!1,get:function(){if(g)return this instanceof Ri==0?k4(g,this.objId,this.scope):g},set:function(_){_=_.toString(),g=this instanceof Ri==0?_.substr(0,1)==="("?mm(_.substr(1,_.length-2)):mm(_):_}}),Object.defineProperty(this,"defaultValue",{enumerable:!0,configurable:!0,get:function(){return this instanceof Ri==1?mm(g.substr(1,g.length-1)):g},set:function(_){_=_.toString(),g=this instanceof Ri==1?"/"+_:_}});var x=null;Object.defineProperty(this,"_V",{enumerable:!1,configurable:!1,get:function(){if(x)return x},set:function(_){this.V=_}}),Object.defineProperty(this,"V",{enumerable:!1,configurable:!1,get:function(){if(x)return this instanceof Ri==0?k4(x,this.objId,this.scope):x},set:function(_){_=_.toString(),x=this instanceof Ri==0?_.substr(0,1)==="("?mm(_.substr(1,_.length-2)):mm(_):_}}),Object.defineProperty(this,"value",{enumerable:!0,configurable:!0,get:function(){return this instanceof Ri==1?mm(x.substr(1,x.length-1)):x},set:function(_){_=_.toString(),x=this instanceof Ri==1?"/"+_:_}}),Object.defineProperty(this,"hasAnnotation",{enumerable:!0,configurable:!0,get:function(){return this.Rect}}),Object.defineProperty(this,"Type",{enumerable:!0,configurable:!1,get:function(){return this.hasAnnotation?"/Annot":null}}),Object.defineProperty(this,"Subtype",{enumerable:!0,configurable:!1,get:function(){return this.hasAnnotation?"/Widget":null}});var b,y=!1;Object.defineProperty(this,"hasAppearanceStream",{enumerable:!0,configurable:!0,get:function(){return y},set:function(_){_=!!_,y=_}}),Object.defineProperty(this,"page",{enumerable:!0,configurable:!0,get:function(){if(b)return b},set:function(_){b=_}}),Object.defineProperty(this,"readOnly",{enumerable:!0,configurable:!0,get:function(){return!!Va(this.Ff,1)},set:function(_){_?this.Ff=Wa(this.Ff,1):this.Ff=Ga(this.Ff,1)}}),Object.defineProperty(this,"required",{enumerable:!0,configurable:!0,get:function(){return!!Va(this.Ff,2)},set:function(_){_?this.Ff=Wa(this.Ff,2):this.Ff=Ga(this.Ff,2)}}),Object.defineProperty(this,"noExport",{enumerable:!0,configurable:!0,get:function(){return!!Va(this.Ff,3)},set:function(_){_?this.Ff=Wa(this.Ff,3):this.Ff=Ga(this.Ff,3)}});var w=null;Object.defineProperty(this,"Q",{enumerable:!0,configurable:!1,get:function(){if(w!==null)return w},set:function(_){if([0,1,2].indexOf(_)===-1)throw new Error('Invalid value "'+_+'" for attribute Q supplied.');w=_}}),Object.defineProperty(this,"textAlign",{get:function(){var _;switch(w){case 0:default:_="left";break;case 1:_="center";break;case 2:_="right"}return _},configurable:!0,enumerable:!0,set:function(_){switch(_){case"right":case 2:w=2;break;case"center":case 1:w=1;break;default:w=0}}})};Cl(Dc,lu);var Dm=function(){Dc.call(this),this.FT="/Ch",this.V="()",this.fontName="zapfdingbats";var e=0;Object.defineProperty(this,"TI",{enumerable:!0,configurable:!1,get:function(){return e},set:function(r){e=r}}),Object.defineProperty(this,"topIndex",{enumerable:!0,configurable:!0,get:function(){return e},set:function(r){e=r}});var t=[];Object.defineProperty(this,"Opt",{enumerable:!0,configurable:!1,get:function(){return WB(t,this.objId,this.scope)},set:function(r){var n,a;a=[],typeof(n=r)=="string"&&(a=(function(i,l,o){o||(o=1);for(var f,u=[];f=l.exec(i);)u.push(f[o]);return u})(n,/\((.*?)\)/g)),t=a}}),this.getOptions=function(){return t},this.setOptions=function(r){t=r,this.sort&&t.sort()},this.addOption=function(r){r=(r=r||"").toString(),t.push(r),this.sort&&t.sort()},this.removeOption=function(r,n){for(n=n||!1,r=(r=r||"").toString();t.indexOf(r)!==-1&&(t.splice(t.indexOf(r),1),n!==!1););},Object.defineProperty(this,"combo",{enumerable:!0,configurable:!0,get:function(){return!!Va(this.Ff,18)},set:function(r){r?this.Ff=Wa(this.Ff,18):this.Ff=Ga(this.Ff,18)}}),Object.defineProperty(this,"edit",{enumerable:!0,configurable:!0,get:function(){return!!Va(this.Ff,19)},set:function(r){this.combo===!0&&(r?this.Ff=Wa(this.Ff,19):this.Ff=Ga(this.Ff,19))}}),Object.defineProperty(this,"sort",{enumerable:!0,configurable:!0,get:function(){return!!Va(this.Ff,20)},set:function(r){r?(this.Ff=Wa(this.Ff,20),t.sort()):this.Ff=Ga(this.Ff,20)}}),Object.defineProperty(this,"multiSelect",{enumerable:!0,configurable:!0,get:function(){return!!Va(this.Ff,22)},set:function(r){r?this.Ff=Wa(this.Ff,22):this.Ff=Ga(this.Ff,22)}}),Object.defineProperty(this,"doNotSpellCheck",{enumerable:!0,configurable:!0,get:function(){return!!Va(this.Ff,23)},set:function(r){r?this.Ff=Wa(this.Ff,23):this.Ff=Ga(this.Ff,23)}}),Object.defineProperty(this,"commitOnSelChange",{enumerable:!0,configurable:!0,get:function(){return!!Va(this.Ff,27)},set:function(r){r?this.Ff=Wa(this.Ff,27):this.Ff=Ga(this.Ff,27)}}),this.hasAppearanceStream=!1};Cl(Dm,Dc);var Pm=function(){Dm.call(this),this.fontName="helvetica",this.combo=!1};Cl(Pm,Dm);var Fm=function(){Pm.call(this),this.combo=!0};Cl(Fm,Pm);var Rv=function(){Fm.call(this),this.edit=!0};Cl(Rv,Fm);var Ri=function(){Dc.call(this),this.FT="/Btn",Object.defineProperty(this,"noToggleToOff",{enumerable:!0,configurable:!0,get:function(){return!!Va(this.Ff,15)},set:function(r){r?this.Ff=Wa(this.Ff,15):this.Ff=Ga(this.Ff,15)}}),Object.defineProperty(this,"radio",{enumerable:!0,configurable:!0,get:function(){return!!Va(this.Ff,16)},set:function(r){r?this.Ff=Wa(this.Ff,16):this.Ff=Ga(this.Ff,16)}}),Object.defineProperty(this,"pushButton",{enumerable:!0,configurable:!0,get:function(){return!!Va(this.Ff,17)},set:function(r){r?this.Ff=Wa(this.Ff,17):this.Ff=Ga(this.Ff,17)}}),Object.defineProperty(this,"radioIsUnison",{enumerable:!0,configurable:!0,get:function(){return!!Va(this.Ff,26)},set:function(r){r?this.Ff=Wa(this.Ff,26):this.Ff=Ga(this.Ff,26)}});var e,t={};Object.defineProperty(this,"MK",{enumerable:!1,configurable:!1,get:function(){var r=function(i){return i};if(this.scope&&(r=this.scope.internal.getEncryptor(this.objId)),Object.keys(t).length!==0){var n,a=[];for(n in a.push("<<"),t)a.push("/"+n+" ("+gh(r(t[n]))+")");return a.push(">>"),a.join(`
`)}},set:function(r){_n(r)==="object"&&(t=r)}}),Object.defineProperty(this,"caption",{enumerable:!0,configurable:!0,get:function(){return t.CA||""},set:function(r){typeof r=="string"&&(t.CA=r)}}),Object.defineProperty(this,"AS",{enumerable:!1,configurable:!1,get:function(){return e},set:function(r){e=r}}),Object.defineProperty(this,"appearanceState",{enumerable:!0,configurable:!0,get:function(){return e.substr(1,e.length-1)},set:function(r){e="/"+r}})};Cl(Ri,Dc);var Iv=function(){Ri.call(this),this.pushButton=!0};Cl(Iv,Ri);var Lm=function(){Ri.call(this),this.radio=!0,this.pushButton=!1;var e=[];Object.defineProperty(this,"Kids",{enumerable:!0,configurable:!1,get:function(){return e},set:function(t){e=t!==void 0?t:[]}})};Cl(Lm,Ri);var Xy=function(){var e,t;Dc.call(this),Object.defineProperty(this,"Parent",{enumerable:!1,configurable:!1,get:function(){return e},set:function(a){e=a}}),Object.defineProperty(this,"optionName",{enumerable:!1,configurable:!0,get:function(){return t},set:function(a){t=a}});var r,n={};Object.defineProperty(this,"MK",{enumerable:!1,configurable:!1,get:function(){var a=function(o){return o};this.scope&&(a=this.scope.internal.getEncryptor(this.objId));var i,l=[];for(i in l.push("<<"),n)l.push("/"+i+" ("+gh(a(n[i]))+")");return l.push(">>"),l.join(`
`)},set:function(a){_n(a)==="object"&&(n=a)}}),Object.defineProperty(this,"caption",{enumerable:!0,configurable:!0,get:function(){return n.CA||""},set:function(a){typeof a=="string"&&(n.CA=a)}}),Object.defineProperty(this,"AS",{enumerable:!1,configurable:!1,get:function(){return r},set:function(a){r=a}}),Object.defineProperty(this,"appearanceState",{enumerable:!0,configurable:!0,get:function(){return r.substr(1,r.length-1)},set:function(a){r="/"+a}}),this.caption="l",this.appearanceState="Off",this._AppearanceType=Rt.RadioButton.Circle,this.appearanceStreamContent=this._AppearanceType.createAppearanceStream(this.optionName)};Cl(Xy,Dc),Lm.prototype.setAppearance=function(e){if(!("createAppearanceStream"in e)||!("getCA"in e))throw new Error("Couldn't assign Appearance to RadioButton. Appearance was Invalid!");for(var t in this.Kids)if(this.Kids.hasOwnProperty(t)){var r=this.Kids[t];r.appearanceStreamContent=e.createAppearanceStream(r.optionName),r.caption=e.getCA()}},Lm.prototype.createOption=function(e){var t=new Xy;return t.Parent=this,t.optionName=e,this.Kids.push(t),S4e.call(this.scope,t),t};var Bv=function(){Ri.call(this),this.fontName="zapfdingbats",this.caption="3",this.appearanceState="On",this.value="On",this.textAlign="center",this.appearanceStreamContent=Rt.CheckBox.createAppearanceStream()};Cl(Bv,Ri);var B0=function(){Dc.call(this),this.FT="/Tx",Object.defineProperty(this,"multiline",{enumerable:!0,configurable:!0,get:function(){return!!Va(this.Ff,13)},set:function(t){t?this.Ff=Wa(this.Ff,13):this.Ff=Ga(this.Ff,13)}}),Object.defineProperty(this,"fileSelect",{enumerable:!0,configurable:!0,get:function(){return!!Va(this.Ff,21)},set:function(t){t?this.Ff=Wa(this.Ff,21):this.Ff=Ga(this.Ff,21)}}),Object.defineProperty(this,"doNotSpellCheck",{enumerable:!0,configurable:!0,get:function(){return!!Va(this.Ff,23)},set:function(t){t?this.Ff=Wa(this.Ff,23):this.Ff=Ga(this.Ff,23)}}),Object.defineProperty(this,"doNotScroll",{enumerable:!0,configurable:!0,get:function(){return!!Va(this.Ff,24)},set:function(t){t?this.Ff=Wa(this.Ff,24):this.Ff=Ga(this.Ff,24)}}),Object.defineProperty(this,"comb",{enumerable:!0,configurable:!0,get:function(){return!!Va(this.Ff,25)},set:function(t){t?this.Ff=Wa(this.Ff,25):this.Ff=Ga(this.Ff,25)}}),Object.defineProperty(this,"richText",{enumerable:!0,configurable:!0,get:function(){return!!Va(this.Ff,26)},set:function(t){t?this.Ff=Wa(this.Ff,26):this.Ff=Ga(this.Ff,26)}});var e=null;Object.defineProperty(this,"MaxLen",{enumerable:!0,configurable:!1,get:function(){return e},set:function(t){e=t}}),Object.defineProperty(this,"maxLength",{enumerable:!0,configurable:!0,get:function(){return e},set:function(t){Number.isInteger(t)&&(e=t)}}),Object.defineProperty(this,"hasAppearanceStream",{enumerable:!0,configurable:!0,get:function(){return this.V||this.DV}})};Cl(B0,Dc);var Uv=function(){B0.call(this),Object.defineProperty(this,"password",{enumerable:!0,configurable:!0,get:function(){return!!Va(this.Ff,14)},set:function(e){e?this.Ff=Wa(this.Ff,14):this.Ff=Ga(this.Ff,14)}}),this.password=!0};Cl(Uv,B0);var Rt={CheckBox:{createAppearanceStream:function(){return{N:{On:Rt.CheckBox.YesNormal},D:{On:Rt.CheckBox.YesPushDown,Off:Rt.CheckBox.OffPushDown}}},YesPushDown:function(e){var t=au(e);t.scope=e.scope;var r=[],n=e.scope.internal.getFont(e.fontName,e.fontStyle).id,a=e.scope.__private__.encodeColorString(e.color),i=vN(e,e.caption);return r.push("0.749023 g"),r.push("0 0 "+yr(Rt.internal.getWidth(e))+" "+yr(Rt.internal.getHeight(e))+" re"),r.push("f"),r.push("BMC"),r.push("q"),r.push("0 0 1 rg"),r.push("/"+n+" "+yr(i.fontSize)+" Tf "+a),r.push("BT"),r.push(i.text),r.push("ET"),r.push("Q"),r.push("EMC"),t.stream=r.join(`
`),t},YesNormal:function(e){var t=au(e);t.scope=e.scope;var r=e.scope.internal.getFont(e.fontName,e.fontStyle).id,n=e.scope.__private__.encodeColorString(e.color),a=[],i=Rt.internal.getHeight(e),l=Rt.internal.getWidth(e),o=vN(e,e.caption);return a.push("1 g"),a.push("0 0 "+yr(l)+" "+yr(i)+" re"),a.push("f"),a.push("q"),a.push("0 0 1 rg"),a.push("0 0 "+yr(l-1)+" "+yr(i-1)+" re"),a.push("W"),a.push("n"),a.push("0 g"),a.push("BT"),a.push("/"+r+" "+yr(o.fontSize)+" Tf "+n),a.push(o.text),a.push("ET"),a.push("Q"),t.stream=a.join(`
`),t},OffPushDown:function(e){var t=au(e);t.scope=e.scope;var r=[];return r.push("0.749023 g"),r.push("0 0 "+yr(Rt.internal.getWidth(e))+" "+yr(Rt.internal.getHeight(e))+" re"),r.push("f"),t.stream=r.join(`
`),t}},RadioButton:{Circle:{createAppearanceStream:function(e){var t={D:{Off:Rt.RadioButton.Circle.OffPushDown},N:{}};return t.N[e]=Rt.RadioButton.Circle.YesNormal,t.D[e]=Rt.RadioButton.Circle.YesPushDown,t},getCA:function(){return"l"},YesNormal:function(e){var t=au(e);t.scope=e.scope;var r=[],n=Rt.internal.getWidth(e)<=Rt.internal.getHeight(e)?Rt.internal.getWidth(e)/4:Rt.internal.getHeight(e)/4;n=Number((.9*n).toFixed(5));var a=Rt.internal.Bezier_C,i=Number((n*a).toFixed(5));return r.push("q"),r.push("1 0 0 1 "+md(Rt.internal.getWidth(e)/2)+" "+md(Rt.internal.getHeight(e)/2)+" cm"),r.push(n+" 0 m"),r.push(n+" "+i+" "+i+" "+n+" 0 "+n+" c"),r.push("-"+i+" "+n+" -"+n+" "+i+" -"+n+" 0 c"),r.push("-"+n+" -"+i+" -"+i+" -"+n+" 0 -"+n+" c"),r.push(i+" -"+n+" "+n+" -"+i+" "+n+" 0 c"),r.push("f"),r.push("Q"),t.stream=r.join(`
`),t},YesPushDown:function(e){var t=au(e);t.scope=e.scope;var r=[],n=Rt.internal.getWidth(e)<=Rt.internal.getHeight(e)?Rt.internal.getWidth(e)/4:Rt.internal.getHeight(e)/4;n=Number((.9*n).toFixed(5));var a=Number((2*n).toFixed(5)),i=Number((a*Rt.internal.Bezier_C).toFixed(5)),l=Number((n*Rt.internal.Bezier_C).toFixed(5));return r.push("0.749023 g"),r.push("q"),r.push("1 0 0 1 "+md(Rt.internal.getWidth(e)/2)+" "+md(Rt.internal.getHeight(e)/2)+" cm"),r.push(a+" 0 m"),r.push(a+" "+i+" "+i+" "+a+" 0 "+a+" c"),r.push("-"+i+" "+a+" -"+a+" "+i+" -"+a+" 0 c"),r.push("-"+a+" -"+i+" -"+i+" -"+a+" 0 -"+a+" c"),r.push(i+" -"+a+" "+a+" -"+i+" "+a+" 0 c"),r.push("f"),r.push("Q"),r.push("0 g"),r.push("q"),r.push("1 0 0 1 "+md(Rt.internal.getWidth(e)/2)+" "+md(Rt.internal.getHeight(e)/2)+" cm"),r.push(n+" 0 m"),r.push(n+" "+l+" "+l+" "+n+" 0 "+n+" c"),r.push("-"+l+" "+n+" -"+n+" "+l+" -"+n+" 0 c"),r.push("-"+n+" -"+l+" -"+l+" -"+n+" 0 -"+n+" c"),r.push(l+" -"+n+" "+n+" -"+l+" "+n+" 0 c"),r.push("f"),r.push("Q"),t.stream=r.join(`
`),t},OffPushDown:function(e){var t=au(e);t.scope=e.scope;var r=[],n=Rt.internal.getWidth(e)<=Rt.internal.getHeight(e)?Rt.internal.getWidth(e)/4:Rt.internal.getHeight(e)/4;n=Number((.9*n).toFixed(5));var a=Number((2*n).toFixed(5)),i=Number((a*Rt.internal.Bezier_C).toFixed(5));return r.push("0.749023 g"),r.push("q"),r.push("1 0 0 1 "+md(Rt.internal.getWidth(e)/2)+" "+md(Rt.internal.getHeight(e)/2)+" cm"),r.push(a+" 0 m"),r.push(a+" "+i+" "+i+" "+a+" 0 "+a+" c"),r.push("-"+i+" "+a+" -"+a+" "+i+" -"+a+" 0 c"),r.push("-"+a+" -"+i+" -"+i+" -"+a+" 0 -"+a+" c"),r.push(i+" -"+a+" "+a+" -"+i+" "+a+" 0 c"),r.push("f"),r.push("Q"),t.stream=r.join(`
`),t}},Cross:{createAppearanceStream:function(e){var t={D:{Off:Rt.RadioButton.Cross.OffPushDown},N:{}};return t.N[e]=Rt.RadioButton.Cross.YesNormal,t.D[e]=Rt.RadioButton.Cross.YesPushDown,t},getCA:function(){return"8"},YesNormal:function(e){var t=au(e);t.scope=e.scope;var r=[],n=Rt.internal.calculateCross(e);return r.push("q"),r.push("1 1 "+yr(Rt.internal.getWidth(e)-2)+" "+yr(Rt.internal.getHeight(e)-2)+" re"),r.push("W"),r.push("n"),r.push(yr(n.x1.x)+" "+yr(n.x1.y)+" m"),r.push(yr(n.x2.x)+" "+yr(n.x2.y)+" l"),r.push(yr(n.x4.x)+" "+yr(n.x4.y)+" m"),r.push(yr(n.x3.x)+" "+yr(n.x3.y)+" l"),r.push("s"),r.push("Q"),t.stream=r.join(`
`),t},YesPushDown:function(e){var t=au(e);t.scope=e.scope;var r=Rt.internal.calculateCross(e),n=[];return n.push("0.749023 g"),n.push("0 0 "+yr(Rt.internal.getWidth(e))+" "+yr(Rt.internal.getHeight(e))+" re"),n.push("f"),n.push("q"),n.push("1 1 "+yr(Rt.internal.getWidth(e)-2)+" "+yr(Rt.internal.getHeight(e)-2)+" re"),n.push("W"),n.push("n"),n.push(yr(r.x1.x)+" "+yr(r.x1.y)+" m"),n.push(yr(r.x2.x)+" "+yr(r.x2.y)+" l"),n.push(yr(r.x4.x)+" "+yr(r.x4.y)+" m"),n.push(yr(r.x3.x)+" "+yr(r.x3.y)+" l"),n.push("s"),n.push("Q"),t.stream=n.join(`
`),t},OffPushDown:function(e){var t=au(e);t.scope=e.scope;var r=[];return r.push("0.749023 g"),r.push("0 0 "+yr(Rt.internal.getWidth(e))+" "+yr(Rt.internal.getHeight(e))+" re"),r.push("f"),t.stream=r.join(`
`),t}}},createDefaultAppearanceStream:function(e){var t=e.scope.internal.getFont(e.fontName,e.fontStyle).id,r=e.scope.__private__.encodeColorString(e.color);return"/"+t+" "+e.fontSize+" Tf "+r}};Rt.internal={Bezier_C:.551915024494,calculateCross:function(e){var t=Rt.internal.getWidth(e),r=Rt.internal.getHeight(e),n=Math.min(t,r);return{x1:{x:(t-n)/2,y:(r-n)/2+n},x2:{x:(t-n)/2+n,y:(r-n)/2},x3:{x:(t-n)/2,y:(r-n)/2},x4:{x:(t-n)/2+n,y:(r-n)/2+n}}}},Rt.internal.getWidth=function(e){var t=0;return _n(e)==="object"&&(t=U7(e.Rect[2])),t},Rt.internal.getHeight=function(e){var t=0;return _n(e)==="object"&&(t=U7(e.Rect[3])),t};var S4e=Pa.addField=function(e){if(N4e(this,e),!(e instanceof Dc))throw new Error("Invalid argument passed to jsPDF.addField.");var t;return(t=e).scope.internal.acroformPlugin.printedOut&&(t.scope.internal.acroformPlugin.printedOut=!1,t.scope.internal.acroformPlugin.acroFormDictionaryRoot=null),t.scope.internal.acroformPlugin.acroFormDictionaryRoot.Fields.push(t),e.page=e.scope.internal.getCurrentPageInfo().pageNumber,this};Pa.AcroFormChoiceField=Dm,Pa.AcroFormListBox=Pm,Pa.AcroFormComboBox=Fm,Pa.AcroFormEditBox=Rv,Pa.AcroFormButton=Ri,Pa.AcroFormPushButton=Iv,Pa.AcroFormRadioButton=Lm,Pa.AcroFormCheckBox=Bv,Pa.AcroFormTextField=B0,Pa.AcroFormPasswordField=Uv,Pa.AcroFormAppearance=Rt,Pa.AcroForm={ChoiceField:Dm,ListBox:Pm,ComboBox:Fm,EditBox:Rv,Button:Ri,PushButton:Iv,RadioButton:Lm,CheckBox:Bv,TextField:B0,PasswordField:Uv,Appearance:Rt},$t.AcroForm={ChoiceField:Dm,ListBox:Pm,ComboBox:Fm,EditBox:Rv,Button:Ri,PushButton:Iv,RadioButton:Lm,CheckBox:Bv,TextField:B0,PasswordField:Uv,Appearance:Rt};$t.AcroForm;function YB(e){return e.reduce(function(t,r,n){return t[r]=n,t},{})}(function(e){var t="addImage_";e.__addimage__={};var r="UNKNOWN",n={PNG:[[137,80,78,71]],TIFF:[[77,77,0,42],[73,73,42,0]],JPEG:[[255,216,255,224,void 0,void 0,74,70,73,70,0],[255,216,255,225,void 0,void 0,69,120,105,102,0,0],[255,216,255,219],[255,216,255,238]],JPEG2000:[[0,0,0,12,106,80,32,32]],GIF87a:[[71,73,70,56,55,97]],GIF89a:[[71,73,70,56,57,97]],WEBP:[[82,73,70,70,void 0,void 0,void 0,void 0,87,69,66,80]],BMP:[[66,77],[66,65],[67,73],[67,80],[73,67],[80,84]]},a=e.__addimage__.getImageFileTypeByImageData=function(I,z){var K,J,pe,ne,le,ve=r;if((z=z||r)==="RGBA"||I.data!==void 0&&I.data instanceof Uint8ClampedArray&&"height"in I&&"width"in I)return"RGBA";if(R(I))for(le in n)for(pe=n[le],K=0;K<pe.length;K+=1){for(ne=!0,J=0;J<pe[K].length;J+=1)if(pe[K][J]!==void 0&&pe[K][J]!==I[J]){ne=!1;break}if(ne===!0){ve=le;break}}else for(le in n)for(pe=n[le],K=0;K<pe.length;K+=1){for(ne=!0,J=0;J<pe[K].length;J+=1)if(pe[K][J]!==void 0&&pe[K][J]!==I.charCodeAt(J)){ne=!1;break}if(ne===!0){ve=le;break}}return ve===r&&z!==r&&(ve=z),ve},i=function I(z){for(var K=this.internal.write,J=this.internal.putStream,pe=(0,this.internal.getFilters)();pe.indexOf("FlateEncode")!==-1;)pe.splice(pe.indexOf("FlateEncode"),1);z.objectId=this.internal.newObject();var ne=[];if(ne.push({key:"Type",value:"/XObject"}),ne.push({key:"Subtype",value:"/Image"}),ne.push({key:"Width",value:z.width}),ne.push({key:"Height",value:z.height}),z.colorSpace===_.INDEXED?ne.push({key:"ColorSpace",value:"[/Indexed /DeviceRGB "+(z.palette.length/3-1)+" "+("sMask"in z&&z.sMask!==void 0?z.objectId+2:z.objectId+1)+" 0 R]"}):(ne.push({key:"ColorSpace",value:"/"+z.colorSpace}),z.colorSpace===_.DEVICE_CMYK&&ne.push({key:"Decode",value:"[1 0 1 0 1 0 1 0]"})),ne.push({key:"BitsPerComponent",value:z.bitsPerComponent}),"decodeParameters"in z&&z.decodeParameters!==void 0&&ne.push({key:"DecodeParms",value:"<<"+z.decodeParameters+">>"}),"transparency"in z&&Array.isArray(z.transparency)&&z.transparency.length>0){for(var le="",ve=0,ue=z.transparency.length;ve<ue;ve++)le+=z.transparency[ve]+" "+z.transparency[ve]+" ";ne.push({key:"Mask",value:"["+le+"]"})}z.sMask!==void 0&&ne.push({key:"SMask",value:z.objectId+1+" 0 R"});var je=z.filter!==void 0?["/"+z.filter]:void 0;if(J({data:z.data,additionalKeyValues:ne,alreadyAppliedFilters:je,objectId:z.objectId}),K("endobj"),"sMask"in z&&z.sMask!==void 0){var te,F=(te=z.sMaskBitsPerComponent)!==null&&te!==void 0?te:z.bitsPerComponent,M={width:z.width,height:z.height,colorSpace:"DeviceGray",bitsPerComponent:F,data:z.sMask};"filter"in z&&(M.decodeParameters="/Predictor ".concat(z.predictor," /Colors 1 /BitsPerComponent ").concat(F," /Columns ").concat(z.width),M.filter=z.filter),I.call(this,M)}if(z.colorSpace===_.INDEXED){var q=this.internal.newObject();J({data:T(new Uint8Array(z.palette)),objectId:q}),K("endobj")}},l=function(){var I=this.internal.collections[t+"images"];for(var z in I)i.call(this,I[z])},o=function(){var I,z=this.internal.collections[t+"images"],K=this.internal.write;for(var J in z)K("/I"+(I=z[J]).index,I.objectId,"0","R")},f=function(){this.internal.collections[t+"images"]||(this.internal.collections[t+"images"]={},this.internal.events.subscribe("putResources",l),this.internal.events.subscribe("putXobjectDict",o))},u=function(){var I=this.internal.collections[t+"images"];return f.call(this),I},h=function(){return Object.keys(this.internal.collections[t+"images"]).length},p=function(I){return typeof e["process"+I.toUpperCase()]=="function"},g=function(I){return _n(I)==="object"&&I.nodeType===1},x=function(I,z){if(I.nodeName==="IMG"&&I.hasAttribute("src")){var K=""+I.getAttribute("src");if(K.indexOf("data:image/")===0)return Mv(unescape(K).split("base64,").pop());var J=e.loadFile(K,!0);if(J!==void 0)return J}if(I.nodeName==="CANVAS"){if(I.width===0||I.height===0)throw new Error("Given canvas must have data. Canvas width: "+I.width+", height: "+I.height);var pe;switch(z){case"PNG":pe="image/png";break;case"WEBP":pe="image/webp";break;default:pe="image/jpeg"}return Mv(I.toDataURL(pe,1).split("base64,").pop())}},b=function(I){var z=this.internal.collections[t+"images"];if(z){for(var K in z)if(I===z[K].alias)return z[K]}},y=function(I,z,K){return I||z||(I=-96,z=-96),I<0&&(I=-1*K.width*72/I/this.internal.scaleFactor),z<0&&(z=-1*K.height*72/z/this.internal.scaleFactor),I===0&&(I=z*K.width/K.height),z===0&&(z=I*K.height/K.width),[I,z]},w=function(I,z,K,J,pe,ne){var le=y.call(this,K,J,pe),ve=this.internal.getCoordinateString,ue=this.internal.getVerticalCoordinateString,je=u.call(this);if(K=le[0],J=le[1],je[pe.index]=pe,ne){ne*=Math.PI/180;var te=Math.cos(ne),F=Math.sin(ne),M=function(W){return W.toFixed(4)},q=[M(te),M(F),M(-1*F),M(te),0,0,"cm"]}this.internal.write("q"),ne?(this.internal.write([1,"0","0",1,ve(I),ue(z+J),"cm"].join(" ")),this.internal.write(q.join(" ")),this.internal.write([ve(K),"0","0",ve(J),"0","0","cm"].join(" "))):this.internal.write([ve(K),"0","0",ve(J),ve(I),ue(z+J),"cm"].join(" ")),this.isAdvancedAPI()&&this.internal.write([1,0,0,-1,0,0,"cm"].join(" ")),this.internal.write("/I"+pe.index+" Do"),this.internal.write("Q")},_=e.color_spaces={DEVICE_RGB:"DeviceRGB",DEVICE_GRAY:"DeviceGray",DEVICE_CMYK:"DeviceCMYK",CAL_GREY:"CalGray",CAL_RGB:"CalRGB",LAB:"Lab",ICC_BASED:"ICCBased",INDEXED:"Indexed",PATTERN:"Pattern",SEPARATION:"Separation",DEVICE_N:"DeviceN"};e.decode={DCT_DECODE:"DCTDecode",FLATE_DECODE:"FlateDecode",LZW_DECODE:"LZWDecode",JPX_DECODE:"JPXDecode",JBIG2_DECODE:"JBIG2Decode",ASCII85_DECODE:"ASCII85Decode",ASCII_HEX_DECODE:"ASCIIHexDecode",RUN_LENGTH_DECODE:"RunLengthDecode",CCITT_FAX_DECODE:"CCITTFaxDecode"};var E=e.image_compression={NONE:"NONE",FAST:"FAST",MEDIUM:"MEDIUM",SLOW:"SLOW"},A=e.__addimage__.sHashCode=function(I){var z,K,J=0;if(typeof I=="string")for(K=I.length,z=0;z<K;z++)J=(J<<5)-J+I.charCodeAt(z),J|=0;else if(R(I))for(K=I.byteLength/2,z=0;z<K;z++)J=(J<<5)-J+I[z],J|=0;return J},O=e.__addimage__.validateStringAsBase64=function(I){(I=I||"").toString().trim();var z=!0;return I.length===0&&(z=!1),I.length%4!=0&&(z=!1),/^[A-Za-z0-9+/]+$/.test(I.substr(0,I.length-2))===!1&&(z=!1),/^[A-Za-z0-9/][A-Za-z0-9+/]|[A-Za-z0-9+/]=|==$/.test(I.substr(-2))===!1&&(z=!1),z},D=e.__addimage__.extractImageFromDataUrl=function(I){if(I==null||!(I=I.trim()).startsWith("data:"))return null;var z=I.indexOf(",");return z<0?null:I.substring(0,z).trim().endsWith("base64")?I.substring(z+1):null};e.__addimage__.isArrayBuffer=function(I){return I instanceof ArrayBuffer};var R=e.__addimage__.isArrayBufferView=function(I){return I instanceof Int8Array||I instanceof Uint8Array||I instanceof Uint8ClampedArray||I instanceof Int16Array||I instanceof Uint16Array||I instanceof Int32Array||I instanceof Uint32Array||I instanceof Float32Array||I instanceof Float64Array},P=e.__addimage__.binaryStringToUint8Array=function(I){for(var z=I.length,K=new Uint8Array(z),J=0;J<z;J++)K[J]=I.charCodeAt(J);return K},T=e.__addimage__.arrayBufferToBinaryString=function(I){for(var z="",K=R(I)?I:new Uint8Array(I),J=0;J<K.length;J+=8192)z+=String.fromCharCode.apply(null,K.subarray(J,J+8192));return z};e.addImage=function(){var I,z,K,J,pe,ne,le,ve,ue;if(typeof arguments[1]=="number"?(z=r,K=arguments[1],J=arguments[2],pe=arguments[3],ne=arguments[4],le=arguments[5],ve=arguments[6],ue=arguments[7]):(z=arguments[1],K=arguments[2],J=arguments[3],pe=arguments[4],ne=arguments[5],le=arguments[6],ve=arguments[7],ue=arguments[8]),_n(I=arguments[0])==="object"&&!g(I)&&"imageData"in I){var je=I;I=je.imageData,z=je.format||z||r,K=je.x||K||0,J=je.y||J||0,pe=je.w||je.width||pe,ne=je.h||je.height||ne,le=je.alias||le,ve=je.compression||ve,ue=je.rotation||je.angle||ue}var te=this.internal.getFilters();if(ve===void 0&&te.indexOf("FlateEncode")!==-1&&(ve="SLOW"),isNaN(K)||isNaN(J))throw new Error("Invalid coordinates passed to jsPDF.addImage");f.call(this);var F=B.call(this,I,z,le,ve);return w.call(this,K,J,pe,ne,F,ue),this};var B=function(I,z,K,J){var pe,ne,le;if(typeof I=="string"&&a(I)===r){I=unescape(I);var ve=G(I,!1);(ve!==""||(ve=e.loadFile(I,!0))!==void 0)&&(I=ve)}if(g(I)&&(I=x(I,z)),z=a(I,z),!p(z))throw new Error("addImage does not support files of type '"+z+"', please ensure that a plugin for '"+z+"' support is added.");if(((le=K)==null||le.length===0)&&(K=(function(ue){return typeof ue=="string"||R(ue)?A(ue):R(ue.data)?A(ue.data):null})(I)),(pe=b.call(this,K))||(I instanceof Uint8Array||z==="RGBA"||(ne=I,I=P(I)),pe=this["process"+z.toUpperCase()](I,h.call(this),K,(function(ue){return ue&&typeof ue=="string"&&(ue=ue.toUpperCase()),ue in e.image_compression?ue:E.NONE})(J),ne)),!pe)throw new Error("An unknown error occurred whilst processing the image.");return pe},G=e.__addimage__.convertBase64ToBinaryString=function(I,z){z=typeof z!="boolean"||z;var K,J="";if(typeof I=="string"){var pe;K=(pe=D(I))!==null&&pe!==void 0?pe:I;try{J=Mv(K)}catch(ne){if(z)throw O(K)?new Error("atob-Error in jsPDF.convertBase64ToBinaryString "+ne.message):new Error("Supplied Data is not a valid base64-String jsPDF.convertBase64ToBinaryString ")}}return J};e.getImageProperties=function(I){var z,K,J="";if(g(I)&&(I=x(I)),typeof I=="string"&&a(I)===r&&((J=G(I,!1))===""&&(J=e.loadFile(I)||""),I=J),K=a(I),!p(K))throw new Error("addImage does not support files of type '"+K+"', please ensure that a plugin for '"+K+"' support is added.");if(I instanceof Uint8Array||(I=P(I)),!(z=this["process"+K.toUpperCase()](I)))throw new Error("An unknown error occurred whilst processing the image");return z.fileType=K,z}})($t.API),(function(e){var t=function(r){if(r!==void 0&&r!="")return!0};$t.API.events.push(["addPage",function(r){this.internal.getPageInfo(r.pageNumber).pageContext.annotations=[]}]),e.events.push(["putPage",function(r){for(var n,a,i,l=this.internal.getCoordinateString,o=this.internal.getVerticalCoordinateString,f=this.internal.getPageInfoByObjId(r.objId),u=r.pageContext.annotations,h=!1,p=0;p<u.length&&!h;p++)switch((n=u[p]).type){case"link":(t(n.options.url)||t(n.options.pageNumber))&&(h=!0);break;case"reference":case"text":case"freetext":h=!0}if(h!=0){this.internal.write("/Annots [");for(var g=0;g<u.length;g++){n=u[g];var x=this.internal.pdfEscape,b=this.internal.getEncryptor(r.objId);switch(n.type){case"reference":this.internal.write(" "+n.object.objId+" 0 R ");break;case"text":var y=this.internal.newAdditionalObject(),w=this.internal.newAdditionalObject(),_=this.internal.getEncryptor(y.objId),E=n.title||"Note";i="<</Type /Annot /Subtype /Text "+(a="/Rect ["+l(n.bounds.x)+" "+o(n.bounds.y+n.bounds.h)+" "+l(n.bounds.x+n.bounds.w)+" "+o(n.bounds.y)+"] ")+"/Contents ("+x(_(n.contents))+")",i+=" /Popup "+w.objId+" 0 R",i+=" /P "+f.objId+" 0 R",i+=" /T ("+x(_(E))+") >>",y.content=i;var A=y.objId+" 0 R";i="<</Type /Annot /Subtype /Popup "+(a="/Rect ["+l(n.bounds.x+30)+" "+o(n.bounds.y+n.bounds.h)+" "+l(n.bounds.x+n.bounds.w+30)+" "+o(n.bounds.y)+"] ")+" /Parent "+A,n.open&&(i+=" /Open true"),i+=" >>",w.content=i,this.internal.write(y.objId,"0 R",w.objId,"0 R");break;case"freetext":a="/Rect ["+l(n.bounds.x)+" "+o(n.bounds.y)+" "+l(n.bounds.x+n.bounds.w)+" "+o(n.bounds.y+n.bounds.h)+"] ";var O=n.color||"#000000";i="<</Type /Annot /Subtype /FreeText "+a+"/Contents ("+x(b(n.contents))+")",i+=" /DS(font: Helvetica,sans-serif 12.0pt; text-align:left; color:#"+O+")",i+=" /Border [0 0 0]",i+=" >>",this.internal.write(i);break;case"link":if(n.options.name){var D=this.annotations._nameMap[n.options.name];n.options.pageNumber=D.page,n.options.top=D.y}else n.options.top||(n.options.top=0);if(a="/Rect ["+n.finalBounds.x+" "+n.finalBounds.y+" "+n.finalBounds.w+" "+n.finalBounds.h+"] ",i="",n.options.url)i="<</Type /Annot /Subtype /Link "+a+"/Border [0 0 0] /A <</S /URI /URI ("+x(b(n.options.url))+") >>";else if(n.options.pageNumber)switch(i="<</Type /Annot /Subtype /Link "+a+"/Border [0 0 0] /Dest ["+this.internal.getPageInfo(n.options.pageNumber).objId+" 0 R",n.options.magFactor=n.options.magFactor||"XYZ",n.options.magFactor){case"Fit":i+=" /Fit]";break;case"FitH":i+=" /FitH "+n.options.top+"]";break;case"FitV":n.options.left=n.options.left||0,i+=" /FitV "+n.options.left+"]";break;default:var R=o(n.options.top);n.options.left=n.options.left||0,n.options.zoom===void 0&&(n.options.zoom=0),i+=" /XYZ "+n.options.left+" "+R+" "+n.options.zoom+"]"}i!=""&&(i+=" >>",this.internal.write(i))}}this.internal.write("]")}}]),e.createAnnotation=function(r){var n=this.internal.getCurrentPageInfo();switch(r.type){case"link":this.link(r.bounds.x,r.bounds.y,r.bounds.w,r.bounds.h,r);break;case"text":case"freetext":n.pageContext.annotations.push(r)}},e.link=function(r,n,a,i,l){var o=this.internal.getCurrentPageInfo(),f=this.internal.getCoordinateString,u=this.internal.getVerticalCoordinateString;o.pageContext.annotations.push({finalBounds:{x:f(r),y:u(n),w:f(r+a),h:u(n+i)},options:l,type:"link"})},e.textWithLink=function(r,n,a,i){var l,o,f=this.getTextWidth(r),u=this.internal.getLineHeight()/this.internal.scaleFactor;if(i.maxWidth!==void 0){o=i.maxWidth;var h=this.splitTextToSize(r,o).length;l=Math.ceil(u*h)}else o=f,l=u;return this.text(r,n,a,i),a+=.2*u,i.align==="center"&&(n-=f/2),i.align==="right"&&(n-=f),this.link(n,a-u,o,l,i),f},e.getTextWidth=function(r){var n=this.internal.getFontSize();return this.getStringUnitWidth(r)*n/this.internal.scaleFactor}})($t.API),(function(e){var t={1569:[65152],1570:[65153,65154],1571:[65155,65156],1572:[65157,65158],1573:[65159,65160],1574:[65161,65162,65163,65164],1575:[65165,65166],1576:[65167,65168,65169,65170],1577:[65171,65172],1578:[65173,65174,65175,65176],1579:[65177,65178,65179,65180],1580:[65181,65182,65183,65184],1581:[65185,65186,65187,65188],1582:[65189,65190,65191,65192],1583:[65193,65194],1584:[65195,65196],1585:[65197,65198],1586:[65199,65200],1587:[65201,65202,65203,65204],1588:[65205,65206,65207,65208],1589:[65209,65210,65211,65212],1590:[65213,65214,65215,65216],1591:[65217,65218,65219,65220],1592:[65221,65222,65223,65224],1593:[65225,65226,65227,65228],1594:[65229,65230,65231,65232],1601:[65233,65234,65235,65236],1602:[65237,65238,65239,65240],1603:[65241,65242,65243,65244],1604:[65245,65246,65247,65248],1605:[65249,65250,65251,65252],1606:[65253,65254,65255,65256],1607:[65257,65258,65259,65260],1608:[65261,65262],1609:[65263,65264,64488,64489],1610:[65265,65266,65267,65268],1649:[64336,64337],1655:[64477],1657:[64358,64359,64360,64361],1658:[64350,64351,64352,64353],1659:[64338,64339,64340,64341],1662:[64342,64343,64344,64345],1663:[64354,64355,64356,64357],1664:[64346,64347,64348,64349],1667:[64374,64375,64376,64377],1668:[64370,64371,64372,64373],1670:[64378,64379,64380,64381],1671:[64382,64383,64384,64385],1672:[64392,64393],1676:[64388,64389],1677:[64386,64387],1678:[64390,64391],1681:[64396,64397],1688:[64394,64395],1700:[64362,64363,64364,64365],1702:[64366,64367,64368,64369],1705:[64398,64399,64400,64401],1709:[64467,64468,64469,64470],1711:[64402,64403,64404,64405],1713:[64410,64411,64412,64413],1715:[64406,64407,64408,64409],1722:[64414,64415],1723:[64416,64417,64418,64419],1726:[64426,64427,64428,64429],1728:[64420,64421],1729:[64422,64423,64424,64425],1733:[64480,64481],1734:[64473,64474],1735:[64471,64472],1736:[64475,64476],1737:[64482,64483],1739:[64478,64479],1740:[64508,64509,64510,64511],1744:[64484,64485,64486,64487],1746:[64430,64431],1747:[64432,64433]},r={65247:{65154:65269,65156:65271,65160:65273,65166:65275},65248:{65154:65270,65156:65272,65160:65274,65166:65276},65165:{65247:{65248:{65258:65010}}},1617:{1612:64606,1613:64607,1614:64608,1615:64609,1616:64610}},n={1612:64606,1613:64607,1614:64608,1615:64609,1616:64610},a=[1570,1571,1573,1575];e.__arabicParser__={};var i=e.__arabicParser__.isInArabicSubstitutionA=function(y){return t[y.charCodeAt(0)]!==void 0},l=e.__arabicParser__.isArabicLetter=function(y){return typeof y=="string"&&/^[\u0600-\u06FF\u0750-\u077F\u08A0-\u08FF\uFB50-\uFDFF\uFE70-\uFEFF]+$/.test(y)},o=e.__arabicParser__.isArabicEndLetter=function(y){return l(y)&&i(y)&&t[y.charCodeAt(0)].length<=2},f=e.__arabicParser__.isArabicAlfLetter=function(y){return l(y)&&a.indexOf(y.charCodeAt(0))>=0};e.__arabicParser__.arabicLetterHasIsolatedForm=function(y){return l(y)&&i(y)&&t[y.charCodeAt(0)].length>=1};var u=e.__arabicParser__.arabicLetterHasFinalForm=function(y){return l(y)&&i(y)&&t[y.charCodeAt(0)].length>=2};e.__arabicParser__.arabicLetterHasInitialForm=function(y){return l(y)&&i(y)&&t[y.charCodeAt(0)].length>=3};var h=e.__arabicParser__.arabicLetterHasMedialForm=function(y){return l(y)&&i(y)&&t[y.charCodeAt(0)].length==4},p=e.__arabicParser__.resolveLigatures=function(y){var w=0,_=r,E="",A=0;for(w=0;w<y.length;w+=1)_[y.charCodeAt(w)]!==void 0?(A++,typeof(_=_[y.charCodeAt(w)])=="number"&&(E+=String.fromCharCode(_),_=r,A=0),w===y.length-1&&(_=r,E+=y.charAt(w-(A-1)),w-=A-1,A=0)):(_=r,E+=y.charAt(w-A),w-=A,A=0);return E};e.__arabicParser__.isArabicDiacritic=function(y){return y!==void 0&&n[y.charCodeAt(0)]!==void 0};var g=e.__arabicParser__.getCorrectForm=function(y,w,_){return l(y)?i(y)===!1?-1:!u(y)||!l(w)&&!l(_)||!l(_)&&o(w)||o(y)&&!l(w)||o(y)&&f(w)||o(y)&&o(w)?0:h(y)&&l(w)&&!o(w)&&l(_)&&u(_)?3:o(y)||!l(_)?1:2:-1},x=function(y){var w=0,_=0,E=0,A="",O="",D="",R=(y=y||"").split("\\s+"),P=[];for(w=0;w<R.length;w+=1){for(P.push(""),_=0;_<R[w].length;_+=1)A=R[w][_],O=R[w][_-1],D=R[w][_+1],l(A)?(E=g(A,O,D),P[w]+=E!==-1?String.fromCharCode(t[A.charCodeAt(0)][E]):A):P[w]+=A;P[w]=p(P[w])}return P.join(" ")},b=e.__arabicParser__.processArabic=e.processArabic=function(){var y,w=typeof arguments[0]=="string"?arguments[0]:arguments[0].text,_=[];if(Array.isArray(w)){var E=0;for(_=[],E=0;E<w.length;E+=1)Array.isArray(w[E])?_.push([x(w[E][0]),w[E][1],w[E][2]]):_.push([x(w[E])]);y=_}else y=x(w);return typeof arguments[0]=="string"?y:(arguments[0].text=y,arguments[0])};e.events.push(["preProcessText",b])})($t.API),$t.API.autoPrint=function(e){var t;return(e=e||{}).variant=e.variant||"non-conform",e.variant==="javascript"?this.addJS("print({});"):(this.internal.events.subscribe("postPutResources",function(){t=this.internal.newObject(),this.internal.out("<<"),this.internal.out("/S /Named"),this.internal.out("/Type /Action"),this.internal.out("/N /Print"),this.internal.out(">>"),this.internal.out("endobj")}),this.internal.events.subscribe("putCatalog",function(){this.internal.out("/OpenAction "+t+" 0 R")})),this},(function(e){var t=function(){var r=void 0;Object.defineProperty(this,"pdf",{get:function(){return r},set:function(o){r=o}});var n=150;Object.defineProperty(this,"width",{get:function(){return n},set:function(o){n=isNaN(o)||Number.isInteger(o)===!1||o<0?150:o,this.getContext("2d").pageWrapXEnabled&&(this.getContext("2d").pageWrapX=n+1)}});var a=300;Object.defineProperty(this,"height",{get:function(){return a},set:function(o){a=isNaN(o)||Number.isInteger(o)===!1||o<0?300:o,this.getContext("2d").pageWrapYEnabled&&(this.getContext("2d").pageWrapY=a+1)}});var i=[];Object.defineProperty(this,"childNodes",{get:function(){return i},set:function(o){i=o}});var l={};Object.defineProperty(this,"style",{get:function(){return l},set:function(o){l=o}}),Object.defineProperty(this,"parentNode",{})};t.prototype.getContext=function(r,n){var a;if((r=r||"2d")!=="2d")return null;for(a in n)this.pdf.context2d.hasOwnProperty(a)&&(this.pdf.context2d[a]=n[a]);return this.pdf.context2d._canvas=this,this.pdf.context2d},t.prototype.toDataURL=function(){throw new Error("toDataURL is not implemented.")},e.events.push(["initialized",function(){this.canvas=new t,this.canvas.pdf=this}])})($t.API),(function(e){var t={left:0,top:0,bottom:0,right:0},r=!1,n=function(){this.internal.__cell__===void 0&&(this.internal.__cell__={},this.internal.__cell__.padding=3,this.internal.__cell__.headerFunction=void 0,this.internal.__cell__.margins=Object.assign({},t),this.internal.__cell__.margins.width=this.getPageWidth(),a.call(this))},a=function(){this.internal.__cell__.lastCell=new i,this.internal.__cell__.pages=1},i=function(){var f=arguments[0];Object.defineProperty(this,"x",{enumerable:!0,get:function(){return f},set:function(y){f=y}});var u=arguments[1];Object.defineProperty(this,"y",{enumerable:!0,get:function(){return u},set:function(y){u=y}});var h=arguments[2];Object.defineProperty(this,"width",{enumerable:!0,get:function(){return h},set:function(y){h=y}});var p=arguments[3];Object.defineProperty(this,"height",{enumerable:!0,get:function(){return p},set:function(y){p=y}});var g=arguments[4];Object.defineProperty(this,"text",{enumerable:!0,get:function(){return g},set:function(y){g=y}});var x=arguments[5];Object.defineProperty(this,"lineNumber",{enumerable:!0,get:function(){return x},set:function(y){x=y}});var b=arguments[6];return Object.defineProperty(this,"align",{enumerable:!0,get:function(){return b},set:function(y){b=y}}),this};i.prototype.clone=function(){return new i(this.x,this.y,this.width,this.height,this.text,this.lineNumber,this.align)},i.prototype.toArray=function(){return[this.x,this.y,this.width,this.height,this.text,this.lineNumber,this.align]},e.setHeaderFunction=function(f){return n.call(this),this.internal.__cell__.headerFunction=typeof f=="function"?f:void 0,this},e.getTextDimensions=function(f,u){n.call(this);var h=(u=u||{}).fontSize||this.getFontSize(),p=u.font||this.getFont(),g=u.scaleFactor||this.internal.scaleFactor,x=0,b=0,y=0,w=this;if(!Array.isArray(f)&&typeof f!="string"){if(typeof f!="number")throw new Error("getTextDimensions expects text-parameter to be of type String or type Number or an Array of Strings.");f=String(f)}var _=u.maxWidth;_>0?typeof f=="string"?f=this.splitTextToSize(f,_):Object.prototype.toString.call(f)==="[object Array]"&&(f=f.reduce(function(A,O){return A.concat(w.splitTextToSize(O,_))},[])):f=Array.isArray(f)?f:[f];for(var E=0;E<f.length;E++)x<(y=this.getStringUnitWidth(f[E],{font:p})*h)&&(x=y);return x!==0&&(b=f.length),{w:x/=g,h:Math.max((b*h*this.getLineHeightFactor()-h*(this.getLineHeightFactor()-1))/g,0)}},e.cellAddPage=function(){n.call(this),this.addPage();var f=this.internal.__cell__.margins||t;return this.internal.__cell__.lastCell=new i(f.left,f.top,void 0,void 0),this.internal.__cell__.pages+=1,this};var l=e.cell=function(){var f;f=arguments[0]instanceof i?arguments[0]:new i(arguments[0],arguments[1],arguments[2],arguments[3],arguments[4],arguments[5]),n.call(this);var u=this.internal.__cell__.lastCell,h=this.internal.__cell__.padding,p=this.internal.__cell__.margins||t,g=this.internal.__cell__.tableHeaderRow,x=this.internal.__cell__.printHeaders;return u.lineNumber!==void 0&&(u.lineNumber===f.lineNumber?(f.x=(u.x||0)+(u.width||0),f.y=u.y||0):u.y+u.height+f.height+p.bottom>this.getPageHeight()?(this.cellAddPage(),f.y=p.top,x&&g&&(this.printHeaderRow(f.lineNumber,!0),f.y+=g[0].height)):f.y=u.y+u.height||f.y),f.text[0]!==void 0&&(this.rect(f.x,f.y,f.width,f.height,r===!0?"FD":void 0),f.align==="right"?this.text(f.text,f.x+f.width-h,f.y+h,{align:"right",baseline:"top"}):f.align==="center"?this.text(f.text,f.x+f.width/2,f.y+h,{align:"center",baseline:"top",maxWidth:f.width-h-h}):this.text(f.text,f.x+h,f.y+h,{align:"left",baseline:"top",maxWidth:f.width-h-h})),this.internal.__cell__.lastCell=f,this};e.table=function(f,u,h,p,g){if(n.call(this),!h)throw new Error("No data for PDF table.");var x,b,y,w,_=[],E=[],A=[],O={},D={},R=[],P=[],T=(g=g||{}).autoSize||!1,B=g.printHeaders!==!1,G=g.css&&g.css["font-size"]!==void 0?16*g.css["font-size"]:g.fontSize||12,I=g.margins||Object.assign({width:this.getPageWidth()},t),z=typeof g.padding=="number"?g.padding:3,K=g.headerBackgroundColor||"#c8c8c8",J=g.headerTextColor||"#000";if(a.call(this),this.internal.__cell__.printHeaders=B,this.internal.__cell__.margins=I,this.internal.__cell__.table_font_size=G,this.internal.__cell__.padding=z,this.internal.__cell__.headerBackgroundColor=K,this.internal.__cell__.headerTextColor=J,this.setFontSize(G),p==null)E=_=Object.keys(h[0]),A=_.map(function(){return"left"});else if(Array.isArray(p)&&_n(p[0])==="object")for(_=p.map(function(je){return je.name}),E=p.map(function(je){return je.prompt||je.name||""}),A=p.map(function(je){return je.align||"left"}),x=0;x<p.length;x+=1)D[p[x].name]=.7499990551181103*p[x].width;else Array.isArray(p)&&typeof p[0]=="string"&&(E=_=p,A=_.map(function(){return"left"}));if(T||Array.isArray(p)&&typeof p[0]=="string")for(x=0;x<_.length;x+=1){for(O[w=_[x]]=h.map(function(je){return je[w]}),this.setFont(void 0,"bold"),R.push(this.getTextDimensions(E[x],{fontSize:this.internal.__cell__.table_font_size,scaleFactor:this.internal.scaleFactor}).w),b=O[w],this.setFont(void 0,"normal"),y=0;y<b.length;y+=1)R.push(this.getTextDimensions(b[y],{fontSize:this.internal.__cell__.table_font_size,scaleFactor:this.internal.scaleFactor}).w);D[w]=Math.max.apply(null,R)+z+z,R=[]}if(B){var pe={};for(x=0;x<_.length;x+=1)pe[_[x]]={},pe[_[x]].text=E[x],pe[_[x]].align=A[x];var ne=o.call(this,pe,D);P=_.map(function(je){return new i(f,u,D[je],ne,pe[je].text,void 0,pe[je].align)}),this.setTableHeaderRow(P),this.printHeaderRow(1,!1)}var le=p.reduce(function(je,te){return je[te.name]=te.align,je},{});for(x=0;x<h.length;x+=1){"rowStart"in g&&g.rowStart instanceof Function&&g.rowStart({row:x,data:h[x]},this);var ve=o.call(this,h[x],D);for(y=0;y<_.length;y+=1){var ue=h[x][_[y]];"cellStart"in g&&g.cellStart instanceof Function&&g.cellStart({row:x,col:y,data:ue},this),l.call(this,new i(f,u,D[_[y]],ve,ue,x+2,le[_[y]]))}}return this.internal.__cell__.table_x=f,this.internal.__cell__.table_y=u,this};var o=function(f,u){var h=this.internal.__cell__.padding,p=this.internal.__cell__.table_font_size,g=this.internal.scaleFactor;return Object.keys(f).map(function(x){var b=f[x];return this.splitTextToSize(b.hasOwnProperty("text")?b.text:b,u[x]-h-h)},this).map(function(x){return this.getLineHeightFactor()*x.length*p/g+h+h},this).reduce(function(x,b){return Math.max(x,b)},0)};e.setTableHeaderRow=function(f){n.call(this),this.internal.__cell__.tableHeaderRow=f},e.printHeaderRow=function(f,u){if(n.call(this),!this.internal.__cell__.tableHeaderRow)throw new Error("Property tableHeaderRow does not exist.");var h;if(r=!0,typeof this.internal.__cell__.headerFunction=="function"){var p=this.internal.__cell__.headerFunction(this,this.internal.__cell__.pages);this.internal.__cell__.lastCell=new i(p[0],p[1],p[2],p[3],void 0,-1)}this.setFont(void 0,"bold");for(var g=[],x=0;x<this.internal.__cell__.tableHeaderRow.length;x+=1){h=this.internal.__cell__.tableHeaderRow[x].clone(),u&&(h.y=this.internal.__cell__.margins.top||0,g.push(h)),h.lineNumber=f;var b=this.getTextColor();this.setTextColor(this.internal.__cell__.headerTextColor),this.setFillColor(this.internal.__cell__.headerBackgroundColor),l.call(this,h),this.setTextColor(b)}g.length>0&&this.setTableHeaderRow(g),this.setFont(void 0,"normal"),r=!1}})($t.API);var XB={italic:["italic","oblique","normal"],oblique:["oblique","italic","normal"],normal:["normal","oblique","italic"]},QB=["ultra-condensed","extra-condensed","condensed","semi-condensed","normal","semi-expanded","expanded","extra-expanded","ultra-expanded"],yN=YB(QB),ZB=[100,200,300,400,500,600,700,800,900],j4e=YB(ZB);function C4(e){var t=e.family.replace(/"|'/g,"").toLowerCase(),r=(function(i){return XB[i=i||"normal"]?i:"normal"})(e.style),n=(function(i){return i?typeof i=="number"?i>=100&&i<=900&&i%100==0?i:400:/^\d00$/.test(i)?parseInt(i):i==="bold"?700:400:400})(e.weight),a=(function(i){return typeof yN[i=i||"normal"]=="number"?i:"normal"})(e.stretch);return{family:t,style:r,weight:n,stretch:a,src:e.src||[],ref:e.ref||{name:t,style:[a,r,n].join(" ")}}}function z7(e,t,r,n){var a;for(a=r;a>=0&&a<t.length;a+=n)if(e[t[a]])return e[t[a]];for(a=r;a>=0&&a<t.length;a-=n)if(e[t[a]])return e[t[a]]}var A4e={"sans-serif":"helvetica",fixed:"courier",monospace:"courier",terminal:"courier",cursive:"times",fantasy:"times",serif:"times"},q7={caption:"times",icon:"times",menu:"times","message-box":"times","small-caption":"times","status-bar":"times"};function $7(e){return[e.stretch,e.style,e.weight,e.family].join(" ")}function H7(e){return e.trimLeft()}function E4e(e,t){for(var r=0;r<e.length;){if(e.charAt(r)===t)return[e.substring(0,r),e.substring(r+1)];r+=1}return null}function k4e(e){var t=e.match(/^(-[a-z_]|[a-z_])[a-z0-9_-]*/i);return t===null?null:[t[0],e.substring(t[0].length)]}var jv,V7,W7,pm,Av,G7,K7,Y7,T4=["times"];function X7(e,t,r,n,a){var i=4,l=Z7;switch(a){case $t.API.image_compression.FAST:i=1,l=Q7;break;case $t.API.image_compression.MEDIUM:i=6,l=J7;break;case $t.API.image_compression.SLOW:i=9,l=eD}e=(function(f,u,h,p){for(var g,x=f.length/u,b=new Uint8Array(f.length+x),y=[C4e,Q7,Z7,J7,eD],w=0;w<x;w+=1){var _=w*u,E=f.subarray(_,_+u);if(p)b.set(p(E,h,g),_+w);else{for(var A=y.length,O=[],D=0;D<A;D+=1)O[D]=y[D](E,h,g);var R=O4e(O.concat());b.set(O[R],_+w)}g=E}return b})(e,t,Math.ceil(r*n/8),l);var o=dN(e,{level:i});return $t.API.__addimage__.arrayBufferToBinaryString(o)}function C4e(e){var t=Array.apply([],e);return t.unshift(0),t}function Q7(e,t){var r=e.length,n=[];n[0]=1;for(var a=0;a<r;a+=1){var i=e[a-t]||0;n[a+1]=e[a]-i+256&255}return n}function Z7(e,t,r){var n=e.length,a=[];a[0]=2;for(var i=0;i<n;i+=1){var l=r&&r[i]||0;a[i+1]=e[i]-l+256&255}return a}function J7(e,t,r){var n=e.length,a=[];a[0]=3;for(var i=0;i<n;i+=1){var l=e[i-t]||0,o=r&&r[i]||0;a[i+1]=e[i]+256-(l+o>>>1)&255}return a}function eD(e,t,r){var n=e.length,a=[];a[0]=4;for(var i=0;i<n;i+=1){var l=T4e(e[i-t]||0,r&&r[i]||0,r&&r[i-t]||0);a[i+1]=e[i]-l+256&255}return a}function T4e(e,t,r){if(e===t&&t===r)return e;var n=Math.abs(t-r),a=Math.abs(e-r),i=Math.abs(e+t-r-r);return n<=a&&n<=i?e:a<=i?t:r}function O4e(e){var t=e.map(function(r){return r.reduce(function(n,a){return n+Math.abs(a)},0)});return t.indexOf(Math.min.apply(null,t))}function O4(e,t,r){var n=t*r,a=Math.floor(n/8),i=16-(n-8*a+r),l=(1<<r)-1;return JB(e,a)>>i&l}function tD(e,t,r,n){var a=r*n,i=Math.floor(a/8),l=16-(a-8*i+n),o=(1<<n)-1,f=(t&o)<<l;(function(u,h,p){if(h+1<u.byteLength)u.setUint16(h,p,!1);else{var g=p>>8&255;u.setUint8(h,g)}})(e,i,JB(e,i)&~(o<<l)&65535|f)}function JB(e,t){return t+1<e.byteLength?e.getUint16(t,!1):e.getUint8(t)<<8}function D4e(e){var t=0;if(e[t++]!==71||e[t++]!==73||e[t++]!==70||e[t++]!==56||(e[t++]+1&253)!=56||e[t++]!==97)throw new Error("Invalid GIF 87a/89a header.");var r=e[t++]|e[t++]<<8,n=e[t++]|e[t++]<<8,a=e[t++],i=a>>7,l=1<<1+(7&a);e[t++],e[t++];var o=null,f=null;i&&(o=t,f=l,t+=3*l);var u=!0,h=[],p=0,g=null,x=0,b=null;for(this.width=r,this.height=n;u&&t<e.length;)switch(e[t++]){case 33:switch(e[t++]){case 255:if(e[t]!==11||e[t+1]==78&&e[t+2]==69&&e[t+3]==84&&e[t+4]==83&&e[t+5]==67&&e[t+6]==65&&e[t+7]==80&&e[t+8]==69&&e[t+9]==50&&e[t+10]==46&&e[t+11]==48&&e[t+12]==3&&e[t+13]==1&&e[t+16]==0)t+=14,b=e[t++]|e[t++]<<8,t++;else for(t+=12;;){if(!((I=e[t++])>=0))throw Error("Invalid block size");if(I===0)break;t+=I}break;case 249:if(e[t++]!==4||e[t+4]!==0)throw new Error("Invalid graphics extension block.");var y=e[t++];p=e[t++]|e[t++]<<8,g=e[t++],1&y||(g=null),x=y>>2&7,t++;break;case 254:for(;;){if(!((I=e[t++])>=0))throw Error("Invalid block size");if(I===0)break;t+=I}break;default:throw new Error("Unknown graphic control label: 0x"+e[t-1].toString(16))}break;case 44:var w=e[t++]|e[t++]<<8,_=e[t++]|e[t++]<<8,E=e[t++]|e[t++]<<8,A=e[t++]|e[t++]<<8,O=e[t++],D=O>>6&1,R=1<<1+(7&O),P=o,T=f,B=!1;O>>7&&(B=!0,P=t,T=R,t+=3*R);var G=t;for(t++;;){var I;if(!((I=e[t++])>=0))throw Error("Invalid block size");if(I===0)break;t+=I}h.push({x:w,y:_,width:E,height:A,has_local_palette:B,palette_offset:P,palette_size:T,data_offset:G,data_length:t-G,transparent_index:g,interlaced:!!D,delay:p,disposal:x});break;case 59:u=!1;break;default:throw new Error("Unknown gif block: 0x"+e[t-1].toString(16))}this.numFrames=function(){return h.length},this.loopCount=function(){return b},this.frameInfo=function(z){if(z<0||z>=h.length)throw new Error("Frame index out of range.");return h[z]},this.decodeAndBlitFrameBGRA=function(z,K){var J=this.frameInfo(z),pe=J.width*J.height,ne=new Uint8Array(pe);rD(e,J.data_offset,ne,pe);var le=J.palette_offset,ve=J.transparent_index;ve===null&&(ve=256);var ue=J.width,je=r-ue,te=ue,F=4*(J.y*r+J.x),M=4*((J.y+J.height)*r+J.x),q=F,W=4*je;J.interlaced===!0&&(W+=4*r*7);for(var Z=8,oe=0,ce=ne.length;oe<ce;++oe){var ae=ne[oe];if(te===0&&(te=ue,(q+=W)>=M&&(W=4*je+4*r*(Z-1),q=F+(ue+je)*(Z<<1),Z>>=1)),ae===ve)q+=4;else{var Se=e[le+3*ae],De=e[le+3*ae+1],X=e[le+3*ae+2];K[q++]=X,K[q++]=De,K[q++]=Se,K[q++]=255}--te}},this.decodeAndBlitFrameRGBA=function(z,K){var J=this.frameInfo(z),pe=J.width*J.height,ne=new Uint8Array(pe);rD(e,J.data_offset,ne,pe);var le=J.palette_offset,ve=J.transparent_index;ve===null&&(ve=256);var ue=J.width,je=r-ue,te=ue,F=4*(J.y*r+J.x),M=4*((J.y+J.height)*r+J.x),q=F,W=4*je;J.interlaced===!0&&(W+=4*r*7);for(var Z=8,oe=0,ce=ne.length;oe<ce;++oe){var ae=ne[oe];if(te===0&&(te=ue,(q+=W)>=M&&(W=4*je+4*r*(Z-1),q=F+(ue+je)*(Z<<1),Z>>=1)),ae===ve)q+=4;else{var Se=e[le+3*ae],De=e[le+3*ae+1],X=e[le+3*ae+2];K[q++]=Se,K[q++]=De,K[q++]=X,K[q++]=255}--te}}}function rD(e,t,r,n){for(var a=e[t++],i=1<<a,l=i+1,o=l+1,f=a+1,u=(1<<f)-1,h=0,p=0,g=0,x=e[t++],b=new Int32Array(4096),y=null;;){for(;h<16&&x!==0;)p|=e[t++]<<h,h+=8,x===1?x=e[t++]:--x;if(h<f)break;var w=p&u;if(p>>=f,h-=f,w!==i){if(w===l)break;for(var _=w<o?w:y,E=0,A=_;A>i;)A=b[A]>>8,++E;var O=A;if(g+E+(_!==w?1:0)>n)return void Rn.log("Warning, gif stream longer than expected.");r[g++]=O;var D=g+=E;for(_!==w&&(r[g++]=O),A=_;E--;)A=b[A],r[--D]=255&A,A>>=8;y!==null&&o<4096&&(b[o++]=y<<8|O,o>=u+1&&f<12&&(++f,u=u<<1|1)),y=w}else o=l+1,u=(1<<(f=a+1))-1,y=null}return g!==n&&Rn.log("Warning, gif stream shorter than expected."),r}/**
 * @license
  Copyright (c) 2008, Adobe Systems Incorporated
  All rights reserved.

  Redistribution and use in source and binary forms, with or without 
  modification, are permitted provided that the following conditions are
  met:

  * Redistributions of source code must retain the above copyright notice, 
    this list of conditions and the following disclaimer.
  
  * Redistributions in binary form must reproduce the above copyright
    notice, this list of conditions and the following disclaimer in the 
    documentation and/or other materials provided with the distribution.
  
  * Neither the name of Adobe Systems Incorporated nor the names of its 
    contributors may be used to endorse or promote products derived from 
    this software without specific prior written permission.

  THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS "AS
  IS" AND ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO,
  THE IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR
  PURPOSE ARE DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT OWNER OR 
  CONTRIBUTORS BE LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL,
  EXEMPLARY, OR CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT LIMITED TO,
  PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES; LOSS OF USE, DATA, OR
  PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND ON ANY THEORY OF
  LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT (INCLUDING
  NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE OF THIS
  SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.
*/function D4(e){var t,r,n,a,i,l=Math.floor,o=new Array(64),f=new Array(64),u=new Array(64),h=new Array(64),p=new Array(65535),g=new Array(65535),x=new Array(64),b=new Array(64),y=[],w=0,_=7,E=new Array(64),A=new Array(64),O=new Array(64),D=new Array(256),R=new Array(2048),P=[0,1,5,6,14,15,27,28,2,4,7,13,16,26,29,42,3,8,12,17,25,30,41,43,9,11,18,24,31,40,44,53,10,19,23,32,39,45,52,54,20,22,33,38,46,51,55,60,21,34,37,47,50,56,59,61,35,36,48,49,57,58,62,63],T=[0,0,1,5,1,1,1,1,1,1,0,0,0,0,0,0,0],B=[0,1,2,3,4,5,6,7,8,9,10,11],G=[0,0,2,1,3,3,2,4,3,5,5,4,4,0,0,1,125],I=[1,2,3,0,4,17,5,18,33,49,65,6,19,81,97,7,34,113,20,50,129,145,161,8,35,66,177,193,21,82,209,240,36,51,98,114,130,9,10,22,23,24,25,26,37,38,39,40,41,42,52,53,54,55,56,57,58,67,68,69,70,71,72,73,74,83,84,85,86,87,88,89,90,99,100,101,102,103,104,105,106,115,116,117,118,119,120,121,122,131,132,133,134,135,136,137,138,146,147,148,149,150,151,152,153,154,162,163,164,165,166,167,168,169,170,178,179,180,181,182,183,184,185,186,194,195,196,197,198,199,200,201,202,210,211,212,213,214,215,216,217,218,225,226,227,228,229,230,231,232,233,234,241,242,243,244,245,246,247,248,249,250],z=[0,0,3,1,1,1,1,1,1,1,1,1,0,0,0,0,0],K=[0,1,2,3,4,5,6,7,8,9,10,11],J=[0,0,2,1,2,4,4,3,4,7,5,4,4,0,1,2,119],pe=[0,1,2,3,17,4,5,33,49,6,18,65,81,7,97,113,19,34,50,129,8,20,66,145,161,177,193,9,35,51,82,240,21,98,114,209,10,22,36,52,225,37,241,23,24,25,26,38,39,40,41,42,53,54,55,56,57,58,67,68,69,70,71,72,73,74,83,84,85,86,87,88,89,90,99,100,101,102,103,104,105,106,115,116,117,118,119,120,121,122,130,131,132,133,134,135,136,137,138,146,147,148,149,150,151,152,153,154,162,163,164,165,166,167,168,169,170,178,179,180,181,182,183,184,185,186,194,195,196,197,198,199,200,201,202,210,211,212,213,214,215,216,217,218,226,227,228,229,230,231,232,233,234,242,243,244,245,246,247,248,249,250];function ne(F,M){for(var q=0,W=0,Z=new Array,oe=1;oe<=16;oe++){for(var ce=1;ce<=F[oe];ce++)Z[M[W]]=[],Z[M[W]][0]=q,Z[M[W]][1]=oe,W++,q++;q*=2}return Z}function le(F){for(var M=F[0],q=F[1]-1;q>=0;)M&1<<q&&(w|=1<<_),q--,--_<0&&(w==255?(ve(255),ve(0)):ve(w),_=7,w=0)}function ve(F){y.push(F)}function ue(F){ve(F>>8&255),ve(255&F)}function je(F,M,q,W,Z){for(var oe,ce=Z[0],ae=Z[240],Se=(function(lt,At){var pt,Qt,Pt,Vt,Zt,Jt,Dr,It,Ct,xt,jt=0;for(Ct=0;Ct<8;++Ct){pt=lt[jt],Qt=lt[jt+1],Pt=lt[jt+2],Vt=lt[jt+3],Zt=lt[jt+4],Jt=lt[jt+5],Dr=lt[jt+6];var Nr=pt+(It=lt[jt+7]),Yt=pt-It,St=Qt+Dr,er=Qt-Dr,br=Pt+Jt,ar=Pt-Jt,Ar=Vt+Zt,fr=Vt-Zt,pn=Nr+Ar,Bn=Nr-Ar,qr=St+br,Wt=St-br;lt[jt]=pn+qr,lt[jt+4]=pn-qr;var Pr=.707106781*(Wt+Bn);lt[jt+2]=Bn+Pr,lt[jt+6]=Bn-Pr;var Ds=.382683433*((pn=fr+ar)-(Wt=er+Yt)),Xa=.5411961*pn+Ds,al=1.306562965*Wt+Ds,os=.707106781*(qr=ar+er),Gt=Yt+os,Tl=Yt-os;lt[jt+5]=Tl+Xa,lt[jt+3]=Tl-Xa,lt[jt+1]=Gt+al,lt[jt+7]=Gt-al,jt+=8}for(jt=0,Ct=0;Ct<8;++Ct){pt=lt[jt],Qt=lt[jt+8],Pt=lt[jt+16],Vt=lt[jt+24],Zt=lt[jt+32],Jt=lt[jt+40],Dr=lt[jt+48];var il=pt+(It=lt[jt+56]),li=pt-It,$i=Qt+Dr,Sn=Qt-Dr,ta=Pt+Jt,ee=Pt-Jt,we=Vt+Zt,de=Vt-Zt,he=il+we,ge=il-we,Ne=$i+ta,Me=$i-ta;lt[jt]=he+Ne,lt[jt+32]=he-Ne;var Ge=.707106781*(Me+ge);lt[jt+16]=ge+Ge,lt[jt+48]=ge-Ge;var Ie=.382683433*((he=de+ee)-(Me=Sn+li)),Be=.5411961*he+Ie,ze=1.306562965*Me+Ie,ut=.707106781*(Ne=ee+Sn),mt=li+ut,Nt=li-ut;lt[jt+40]=Nt+Be,lt[jt+24]=Nt-Be,lt[jt+8]=mt+ze,lt[jt+56]=mt-ze,jt++}for(Ct=0;Ct<64;++Ct)xt=lt[Ct]*At[Ct],x[Ct]=xt>0?xt+.5|0:xt-.5|0;return x})(F,M),De=0;De<64;++De)b[P[De]]=Se[De];var X=b[0]-q;q=b[0],X==0?le(W[0]):(le(W[g[oe=32767+X]]),le(p[oe]));for(var Ke=63;Ke>0&&b[Ke]==0;)Ke--;if(Ke==0)return le(ce),q;for(var Ce,xe=1;xe<=Ke;){for(var dt=xe;b[xe]==0&&xe<=Ke;)++xe;var Xe=xe-dt;if(Xe>=16){Ce=Xe>>4;for(var wt=1;wt<=Ce;++wt)le(ae);Xe&=15}oe=32767+b[xe],le(Z[(Xe<<4)+g[oe]]),le(p[oe]),xe++}return Ke!=63&&le(ce),q}function te(F){F=Math.min(Math.max(F,1),100),i!=F&&((function(M){for(var q=[16,11,10,16,24,40,51,61,12,12,14,19,26,58,60,55,14,13,16,24,40,57,69,56,14,17,22,29,51,87,80,62,18,22,37,56,68,109,103,77,24,35,55,64,81,104,113,92,49,64,78,87,103,121,120,101,72,92,95,98,112,100,103,99],W=0;W<64;W++){var Z=l((q[W]*M+50)/100);Z=Math.min(Math.max(Z,1),255),o[P[W]]=Z}for(var oe=[17,18,24,47,99,99,99,99,18,21,26,66,99,99,99,99,24,26,56,99,99,99,99,99,47,66,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99],ce=0;ce<64;ce++){var ae=l((oe[ce]*M+50)/100);ae=Math.min(Math.max(ae,1),255),f[P[ce]]=ae}for(var Se=[1,1.387039845,1.306562965,1.175875602,1,.785694958,.5411961,.275899379],De=0,X=0;X<8;X++)for(var Ke=0;Ke<8;Ke++)u[De]=1/(o[P[De]]*Se[X]*Se[Ke]*8),h[De]=1/(f[P[De]]*Se[X]*Se[Ke]*8),De++})(F<50?Math.floor(5e3/F):Math.floor(200-2*F)),i=F)}this.encode=function(F,M){M&&te(M),y=new Array,w=0,_=7,ue(65496),ue(65504),ue(16),ve(74),ve(70),ve(73),ve(70),ve(0),ve(1),ve(1),ve(0),ue(1),ue(1),ve(0),ve(0),(function(){ue(65499),ue(132),ve(0);for(var Qt=0;Qt<64;Qt++)ve(o[Qt]);ve(1);for(var Pt=0;Pt<64;Pt++)ve(f[Pt])})(),(function(Qt,Pt){ue(65472),ue(17),ve(8),ue(Pt),ue(Qt),ve(3),ve(1),ve(17),ve(0),ve(2),ve(17),ve(1),ve(3),ve(17),ve(1)})(F.width,F.height),(function(){ue(65476),ue(418),ve(0);for(var Qt=0;Qt<16;Qt++)ve(T[Qt+1]);for(var Pt=0;Pt<=11;Pt++)ve(B[Pt]);ve(16);for(var Vt=0;Vt<16;Vt++)ve(G[Vt+1]);for(var Zt=0;Zt<=161;Zt++)ve(I[Zt]);ve(1);for(var Jt=0;Jt<16;Jt++)ve(z[Jt+1]);for(var Dr=0;Dr<=11;Dr++)ve(K[Dr]);ve(17);for(var It=0;It<16;It++)ve(J[It+1]);for(var Ct=0;Ct<=161;Ct++)ve(pe[Ct])})(),ue(65498),ue(12),ve(3),ve(1),ve(0),ve(2),ve(17),ve(3),ve(17),ve(0),ve(63),ve(0);var q=0,W=0,Z=0;w=0,_=7,this.encode.displayName="_encode_";for(var oe,ce,ae,Se,De,X,Ke,Ce,xe,dt=F.data,Xe=F.width,wt=F.height,lt=4*Xe,At=0;At<wt;){for(oe=0;oe<lt;){for(De=lt*At+oe,Ke=-1,Ce=0,xe=0;xe<64;xe++)X=De+(Ce=xe>>3)*lt+(Ke=4*(7&xe)),At+Ce>=wt&&(X-=lt*(At+1+Ce-wt)),oe+Ke>=lt&&(X-=oe+Ke-lt+4),ce=dt[X++],ae=dt[X++],Se=dt[X++],E[xe]=(R[ce]+R[ae+256|0]+R[Se+512|0]>>16)-128,A[xe]=(R[ce+768|0]+R[ae+1024|0]+R[Se+1280|0]>>16)-128,O[xe]=(R[ce+1280|0]+R[ae+1536|0]+R[Se+1792|0]>>16)-128;q=je(E,u,q,t,n),W=je(A,h,W,r,a),Z=je(O,h,Z,r,a),oe+=32}At+=8}if(_>=0){var pt=[];pt[1]=_+1,pt[0]=(1<<_+1)-1,le(pt)}return ue(65497),new Uint8Array(y)},e=e||50,(function(){for(var F=String.fromCharCode,M=0;M<256;M++)D[M]=F(M)})(),t=ne(T,B),r=ne(z,K),n=ne(G,I),a=ne(J,pe),(function(){for(var F=1,M=2,q=1;q<=15;q++){for(var W=F;W<M;W++)g[32767+W]=q,p[32767+W]=[],p[32767+W][1]=q,p[32767+W][0]=W;for(var Z=-(M-1);Z<=-F;Z++)g[32767+Z]=q,p[32767+Z]=[],p[32767+Z][1]=q,p[32767+Z][0]=M-1+Z;F<<=1,M<<=1}})(),(function(){for(var F=0;F<256;F++)R[F]=19595*F,R[F+256|0]=38470*F,R[F+512|0]=7471*F+32768,R[F+768|0]=-11059*F,R[F+1024|0]=-21709*F,R[F+1280|0]=32768*F+8421375,R[F+1536|0]=-27439*F,R[F+1792|0]=-5329*F})(),te(e)}/**
 * @license
 * Copyright (c) 2017 Aras Abbasi
 *
 * Licensed under the MIT License.
 * http://opensource.org/licenses/mit-license
 */function gc(e,t){if(this.pos=0,this.buffer=e,this.datav=new DataView(e.buffer),this.is_with_alpha=!!t,this.bottom_up=!0,this.flag=String.fromCharCode(this.buffer[0])+String.fromCharCode(this.buffer[1]),this.pos+=2,["BM","BA","CI","CP","IC","PT"].indexOf(this.flag)===-1)throw new Error("Invalid BMP File");this.parseHeader(),this.parseBGR()}function nD(e){function t(B){if(!B)throw Error("assert :P")}function r(B,G,I){for(var z=0;4>z;z++)if(B[G+z]!=I.charCodeAt(z))return!0;return!1}function n(B,G,I,z,K){for(var J=0;J<K;J++)B[G+J]=I[z+J]}function a(B,G,I,z){for(var K=0;K<z;K++)B[G+K]=I}function i(B){return new Int32Array(B)}function l(B,G){for(var I=[],z=0;z<B;z++)I.push(new G);return I}function o(B,G){var I=[];return(function z(K,J,pe){for(var ne=pe[J],le=0;le<ne&&(K.push(pe.length>J+1?[]:new G),!(pe.length<J+1));le++)z(K[le],J+1,pe)})(I,0,B),I}var f=function(){var B=this;function G(N,j){for(var U=1<<j-1>>>0;N&U;)U>>>=1;return U?(N&U-1)+U:N}function I(N,j,U,H,Q){t(!(H%U));do N[j+(H-=U)]=Q;while(0<H)}function z(N,j,U,H,Q){if(t(2328>=Q),512>=Q)var re=i(512);else if((re=i(Q))==null)return 0;return(function(ie,fe,me,be,ke,Ue){var ye,Oe,Le=fe,Qe=1<<me,Re=i(16),Ye=i(16);for(t(ke!=0),t(be!=null),t(ie!=null),t(0<me),Oe=0;Oe<ke;++Oe){if(15<be[Oe])return 0;++Re[be[Oe]]}if(Re[0]==ke)return 0;for(Ye[1]=0,ye=1;15>ye;++ye){if(Re[ye]>1<<ye)return 0;Ye[ye+1]=Ye[ye]+Re[ye]}for(Oe=0;Oe<ke;++Oe)ye=be[Oe],0<be[Oe]&&(Ue[Ye[ye]++]=Oe);if(Ye[15]==1)return(be=new K).g=0,be.value=Ue[0],I(ie,Le,1,Qe,be),Qe;var tt,ft=-1,it=Qe-1,Mt=0,Et=1,mr=1,Ot=1<<me;for(Oe=0,ye=1,ke=2;ye<=me;++ye,ke<<=1){if(Et+=mr<<=1,0>(mr-=Re[ye]))return 0;for(;0<Re[ye];--Re[ye])(be=new K).g=ye,be.value=Ue[Oe++],I(ie,Le+Mt,ke,Ot,be),Mt=G(Mt,ye)}for(ye=me+1,ke=2;15>=ye;++ye,ke<<=1){if(Et+=mr<<=1,0>(mr-=Re[ye]))return 0;for(;0<Re[ye];--Re[ye]){if(be=new K,(Mt&it)!=ft){for(Le+=Ot,tt=1<<(ft=ye)-me;15>ft&&!(0>=(tt-=Re[ft]));)++ft,tt<<=1;Qe+=Ot=1<<(tt=ft-me),ie[fe+(ft=Mt&it)].g=tt+me,ie[fe+ft].value=Le-fe-ft}be.g=ye-me,be.value=Ue[Oe++],I(ie,Le+(Mt>>me),ke,Ot,be),Mt=G(Mt,ye)}}return Et!=2*Ye[15]-1?0:Qe})(N,j,U,H,Q,re)}function K(){this.value=this.g=0}function J(){this.value=this.g=0}function pe(){this.G=l(5,K),this.H=i(5),this.jc=this.Qb=this.qb=this.nd=0,this.pd=l(Uc,J)}function ne(N,j,U,H){t(N!=null),t(j!=null),t(2147483648>H),N.Ca=254,N.I=0,N.b=-8,N.Ka=0,N.oa=j,N.pa=U,N.Jd=j,N.Yc=U+H,N.Zc=4<=H?U+H-4+1:U,ce(N)}function le(N,j){for(var U=0;0<j--;)U|=Se(N,128)<<j;return U}function ve(N,j){var U=le(N,j);return ae(N)?-U:U}function ue(N,j,U,H){var Q,re=0;for(t(N!=null),t(j!=null),t(4294967288>H),N.Sb=H,N.Ra=0,N.u=0,N.h=0,4<H&&(H=4),Q=0;Q<H;++Q)re+=j[U+Q]<<8*Q;N.Ra=re,N.bb=H,N.oa=j,N.pa=U}function je(N){for(;8<=N.u&&N.bb<N.Sb;)N.Ra>>>=8,N.Ra+=N.oa[N.pa+N.bb]<<ho-8>>>0,++N.bb,N.u-=8;W(N)&&(N.h=1,N.u=0)}function te(N,j){if(t(0<=j),!N.h&&j<=Gi){var U=q(N)&us[j];return N.u+=j,je(N),U}return N.h=1,N.u=0}function F(){this.b=this.Ca=this.I=0,this.oa=[],this.pa=0,this.Jd=[],this.Yc=0,this.Zc=[],this.Ka=0}function M(){this.Ra=0,this.oa=[],this.h=this.u=this.bb=this.Sb=this.pa=0}function q(N){return N.Ra>>>(N.u&ho-1)>>>0}function W(N){return t(N.bb<=N.Sb),N.h||N.bb==N.Sb&&N.u>ho}function Z(N,j){N.u=j,N.h=W(N)}function oe(N){N.u>=mo&&(t(N.u>=mo),je(N))}function ce(N){t(N!=null&&N.oa!=null),N.pa<N.Zc?(N.I=(N.oa[N.pa++]|N.I<<8)>>>0,N.b+=8):(t(N!=null&&N.oa!=null),N.pa<N.Yc?(N.b+=8,N.I=N.oa[N.pa++]|N.I<<8):N.Ka?N.b=0:(N.I<<=8,N.b+=8,N.Ka=1))}function ae(N){return le(N,1)}function Se(N,j){var U=N.Ca;0>N.b&&ce(N);var H=N.b,Q=U*j>>>8,re=(N.I>>>H>Q)+0;for(re?(U-=Q,N.I-=Q+1<<H>>>0):U=Q+1,H=U,Q=0;256<=H;)Q+=8,H>>=8;return H=7^Q+nc[H],N.b-=H,N.Ca=(U<<H)-1,re}function De(N,j,U){N[j+0]=U>>24&255,N[j+1]=U>>16&255,N[j+2]=U>>8&255,N[j+3]=255&U}function X(N,j){return N[j+0]|N[j+1]<<8}function Ke(N,j){return X(N,j)|N[j+2]<<16}function Ce(N,j){return X(N,j)|X(N,j+2)<<16}function xe(N,j){var U=1<<j;return t(N!=null),t(0<j),N.X=i(U),N.X==null?0:(N.Mb=32-j,N.Xa=j,1)}function dt(N,j){t(N!=null),t(j!=null),t(N.Xa==j.Xa),n(j.X,0,N.X,0,1<<j.Xa)}function Xe(){this.X=[],this.Xa=this.Mb=0}function wt(N,j,U,H){t(U!=null),t(H!=null);var Q=U[0],re=H[0];return Q==0&&(Q=(N*re+j/2)/j),re==0&&(re=(j*Q+N/2)/N),0>=Q||0>=re?0:(U[0]=Q,H[0]=re,1)}function lt(N,j){return N+(1<<j)-1>>>j}function At(N,j){return((4278255360&N)+(4278255360&j)>>>0&4278255360)+((16711935&N)+(16711935&j)>>>0&16711935)>>>0}function pt(N,j){B[j]=function(U,H,Q,re,ie,fe,me){var be;for(be=0;be<ie;++be){var ke=B[N](fe[me+be-1],Q,re+be);fe[me+be]=At(U[H+be],ke)}}}function Qt(){this.ud=this.hd=this.jd=0}function Pt(N,j){return((4278124286&(N^j))>>>1)+(N&j)>>>0}function Vt(N){return 0<=N&&256>N?N:0>N?0:255<N?255:void 0}function Zt(N,j){return Vt(N+(N-j+.5>>1))}function Jt(N,j,U){return Math.abs(j-U)-Math.abs(N-U)}function Dr(N,j,U,H,Q,re,ie){for(H=re[ie-1],U=0;U<Q;++U)re[ie+U]=H=At(N[j+U],H)}function It(N,j,U,H,Q){var re;for(re=0;re<U;++re){var ie=N[j+re],fe=ie>>8&255,me=16711935&(me=(me=16711935&ie)+((fe<<16)+fe));H[Q+re]=(4278255360&ie)+me>>>0}}function Ct(N,j){j.jd=255&N,j.hd=N>>8&255,j.ud=N>>16&255}function xt(N,j,U,H,Q,re){var ie;for(ie=0;ie<H;++ie){var fe=j[U+ie],me=fe>>>8,be=fe,ke=255&(ke=(ke=fe>>>16)+((N.jd<<24>>24)*(me<<24>>24)>>>5));be=255&(be=(be+=(N.hd<<24>>24)*(me<<24>>24)>>>5)+((N.ud<<24>>24)*(ke<<24>>24)>>>5)),Q[re+ie]=(4278255360&fe)+(ke<<16)+be}}function jt(N,j,U,H,Q){B[j]=function(re,ie,fe,me,be,ke,Ue,ye,Oe){for(me=Ue;me<ye;++me)for(Ue=0;Ue<Oe;++Ue)be[ke++]=Q(fe[H(re[ie++])])},B[N]=function(re,ie,fe,me,be,ke,Ue){var ye=8>>re.b,Oe=re.Ea,Le=re.K[0],Qe=re.w;if(8>ye)for(re=(1<<re.b)-1,Qe=(1<<ye)-1;ie<fe;++ie){var Re,Ye=0;for(Re=0;Re<Oe;++Re)Re&re||(Ye=H(me[be++])),ke[Ue++]=Q(Le[Ye&Qe]),Ye>>=ye}else B["VP8LMapColor"+U](me,be,Le,Qe,ke,Ue,ie,fe,Oe)}}function Nr(N,j,U,H,Q){for(U=j+U;j<U;){var re=N[j++];H[Q++]=re>>16&255,H[Q++]=re>>8&255,H[Q++]=255&re}}function Yt(N,j,U,H,Q){for(U=j+U;j<U;){var re=N[j++];H[Q++]=re>>16&255,H[Q++]=re>>8&255,H[Q++]=255&re,H[Q++]=re>>24&255}}function St(N,j,U,H,Q){for(U=j+U;j<U;){var re=(ie=N[j++])>>16&240|ie>>12&15,ie=240&ie|ie>>28&15;H[Q++]=re,H[Q++]=ie}}function er(N,j,U,H,Q){for(U=j+U;j<U;){var re=(ie=N[j++])>>16&248|ie>>13&7,ie=ie>>5&224|ie>>3&31;H[Q++]=re,H[Q++]=ie}}function br(N,j,U,H,Q){for(U=j+U;j<U;){var re=N[j++];H[Q++]=255&re,H[Q++]=re>>8&255,H[Q++]=re>>16&255}}function ar(N,j,U,H,Q,re){if(re==0)for(U=j+U;j<U;)De(H,((re=N[j++])[0]>>24|re[1]>>8&65280|re[2]<<8&16711680|re[3]<<24)>>>0),Q+=32;else n(H,Q,N,j,U)}function Ar(N,j){B[j][0]=B[N+"0"],B[j][1]=B[N+"1"],B[j][2]=B[N+"2"],B[j][3]=B[N+"3"],B[j][4]=B[N+"4"],B[j][5]=B[N+"5"],B[j][6]=B[N+"6"],B[j][7]=B[N+"7"],B[j][8]=B[N+"8"],B[j][9]=B[N+"9"],B[j][10]=B[N+"10"],B[j][11]=B[N+"11"],B[j][12]=B[N+"12"],B[j][13]=B[N+"13"],B[j][14]=B[N+"0"],B[j][15]=B[N+"0"]}function fr(N){return N==f0||N==Dh||N==$f||N==Ph}function pn(){this.eb=[],this.size=this.A=this.fb=0}function Bn(){this.y=[],this.f=[],this.ea=[],this.F=[],this.Tc=this.Ed=this.Cd=this.Fd=this.lb=this.Db=this.Ab=this.fa=this.J=this.W=this.N=this.O=0}function qr(){this.Rd=this.height=this.width=this.S=0,this.f={},this.f.RGBA=new pn,this.f.kb=new Bn,this.sd=null}function Wt(){this.width=[0],this.height=[0],this.Pd=[0],this.Qd=[0],this.format=[0]}function Pr(){this.Id=this.fd=this.Md=this.hb=this.ib=this.da=this.bd=this.cd=this.j=this.v=this.Da=this.Sd=this.ob=0}function Ds(N){return alert("todo:WebPSamplerProcessPlane"),N.T}function Xa(N,j){var U=N.T,H=j.ba.f.RGBA,Q=H.eb,re=H.fb+N.ka*H.A,ie=mi[j.ba.S],fe=N.y,me=N.O,be=N.f,ke=N.N,Ue=N.ea,ye=N.W,Oe=j.cc,Le=j.dc,Qe=j.Mc,Re=j.Nc,Ye=N.ka,tt=N.ka+N.T,ft=N.U,it=ft+1>>1;for(Ye==0?ie(fe,me,null,null,be,ke,Ue,ye,be,ke,Ue,ye,Q,re,null,null,ft):(ie(j.ec,j.fc,fe,me,Oe,Le,Qe,Re,be,ke,Ue,ye,Q,re-H.A,Q,re,ft),++U);Ye+2<tt;Ye+=2)Oe=be,Le=ke,Qe=Ue,Re=ye,ke+=N.Rc,ye+=N.Rc,re+=2*H.A,ie(fe,(me+=2*N.fa)-N.fa,fe,me,Oe,Le,Qe,Re,be,ke,Ue,ye,Q,re-H.A,Q,re,ft);return me+=N.fa,N.j+tt<N.o?(n(j.ec,j.fc,fe,me,ft),n(j.cc,j.dc,be,ke,it),n(j.Mc,j.Nc,Ue,ye,it),U--):1&tt||ie(fe,me,null,null,be,ke,Ue,ye,be,ke,Ue,ye,Q,re+H.A,null,null,ft),U}function al(N,j,U){var H=N.F,Q=[N.J];if(H!=null){var re=N.U,ie=j.ba.S,fe=ie==u0||ie==$f;j=j.ba.f.RGBA;var me=[0],be=N.ka;me[0]=N.T,N.Kb&&(be==0?--me[0]:(--be,Q[0]-=N.width),N.j+N.ka+N.T==N.o&&(me[0]=N.o-N.j-be));var ke=j.eb;be=j.fb+be*j.A,N=s0(H,Q[0],N.width,re,me,ke,be+(fe?0:3),j.A),t(U==me),N&&fr(ie)&&Eu(ke,be,fe,re,me,j.A)}return 0}function os(N){var j=N.ma,U=j.ba.S,H=11>U,Q=U==Oi||U==ul||U==u0||U==qf||U==12||fr(U);if(j.memory=null,j.Ib=null,j.Jb=null,j.Nd=null,!rc(j.Oa,N,Q?11:12))return 0;if(Q&&fr(U)&&Ah(),N.da)alert("todo:use_scaling");else{if(H){if(j.Ib=Ds,N.Kb){if(U=N.U+1>>1,j.memory=i(N.U+2*U),j.memory==null)return 0;j.ec=j.memory,j.fc=0,j.cc=j.ec,j.dc=j.fc+N.U,j.Mc=j.cc,j.Nc=j.dc+U,j.Ib=Xa,Ah()}}else alert("todo:EmitYUV");Q&&(j.Jb=al,H&&ll())}if(H&&!Gc){for(N=0;256>N;++N)pi[N]=89858*(N-128)+Wf>>xl,eb[N]=-22014*(N-128)+Wf,e1[N]=-45773*(N-128),Ih[N]=113618*(N-128)+Wf>>xl;for(N=Ou;N<Wc;++N)j=76283*(N-16)+Wf>>xl,tb[N-Ou]=ra(j,255),rb[N-Ou]=ra(j+8>>4,15);Gc=1}return 1}function Gt(N){var j=N.ma,U=N.U,H=N.T;return t(!(1&N.ka)),0>=U||0>=H?0:(U=j.Ib(N,j),j.Jb!=null&&j.Jb(N,j,U),j.Dc+=U,1)}function Tl(N){N.ma.memory=null}function il(N,j,U,H){return te(N,8)!=47?0:(j[0]=te(N,14)+1,U[0]=te(N,14)+1,H[0]=te(N,1),te(N,3)!=0?0:!N.h)}function li(N,j){if(4>N)return N+1;var U=N-2>>1;return(2+(1&N)<<U)+te(j,U)+1}function $i(N,j){return 120<j?j-120:1<=(U=((U=dl[j-1])>>4)*N+(8-(15&U)))?U:1;var U}function Sn(N,j,U){var H=q(U),Q=N[j+=255&H].g-8;return 0<Q&&(Z(U,U.u+8),H=q(U),j+=N[j].value,j+=H&(1<<Q)-1),Z(U,U.u+N[j].g),N[j].value}function ta(N,j,U){return U.g+=N.g,U.value+=N.value<<j>>>0,t(8>=U.g),N.g}function ee(N,j,U){var H=N.xc;return t((j=H==0?0:N.vc[N.md*(U>>H)+(j>>H)])<N.Wb),N.Ya[j]}function we(N,j,U,H){var Q=N.ab,re=N.c*j,ie=N.C;j=ie+j;var fe=U,me=H;for(H=N.Ta,U=N.Ua;0<Q--;){var be=N.gc[Q],ke=ie,Ue=j,ye=fe,Oe=me,Le=(me=H,fe=U,be.Ea);switch(t(ke<Ue),t(Ue<=be.nc),be.hc){case 2:ya(ye,Oe,(Ue-ke)*Le,me,fe);break;case 0:var Qe=ke,Re=Ue,Ye=me,tt=fe,ft=(Ot=be).Ea;Qe==0&&(If(ye,Oe,null,null,1,Ye,tt),Dr(ye,Oe+1,0,0,ft-1,Ye,tt+1),Oe+=ft,tt+=ft,++Qe);for(var it=1<<Ot.b,Mt=it-1,Et=lt(ft,Ot.b),mr=Ot.K,Ot=Ot.w+(Qe>>Ot.b)*Et;Qe<Re;){var Tr=mr,Ln=Ot,gr=1;for(Bf(ye,Oe,Ye,tt-ft,1,Ye,tt);gr<ft;){var kt=(gr&~Mt)+it;kt>ft&&(kt=ft),(0,ac[Tr[Ln++]>>8&15])(ye,Oe+ +gr,Ye,tt+gr-ft,kt-gr,Ye,tt+gr),gr=kt}Oe+=ft,tt+=ft,++Qe&Mt||(Ot+=Et)}Ue!=be.nc&&n(me,fe-Le,me,fe+(Ue-ke-1)*Le,Le);break;case 1:for(Le=ye,Re=Oe,ft=(ye=be.Ea)-(tt=ye&~(Ye=(Oe=1<<be.b)-1)),Qe=lt(ye,be.b),it=be.K,be=be.w+(ke>>be.b)*Qe;ke<Ue;){for(Mt=it,Et=be,mr=new Qt,Ot=Re+tt,Tr=Re+ye;Re<Ot;)Ct(Mt[Et++],mr),Uf(mr,Le,Re,Oe,me,fe),Re+=Oe,fe+=Oe;Re<Tr&&(Ct(Mt[Et++],mr),Uf(mr,Le,Re,ft,me,fe),Re+=ft,fe+=ft),++ke&Ye||(be+=Qe)}break;case 3:if(ye==me&&Oe==fe&&0<be.b){for(Re=me,ye=Le=fe+(Ue-ke)*Le-(tt=(Ue-ke)*lt(be.Ea,be.b)),Oe=me,Ye=fe,Qe=[],tt=(ft=tt)-1;0<=tt;--tt)Qe[tt]=Oe[Ye+tt];for(tt=ft-1;0<=tt;--tt)Re[ye+tt]=Qe[tt];Eh(be,ke,Ue,me,Le,me,fe)}else Eh(be,ke,Ue,ye,Oe,me,fe)}fe=H,me=U}me!=U&&n(H,U,fe,me,re)}function de(N,j){var U=N.V,H=N.Ba+N.c*N.C,Q=j-N.C;if(t(j<=N.l.o),t(16>=Q),0<Q){var re=N.l,ie=N.Ta,fe=N.Ua,me=re.width;if(we(N,Q,U,H),Q=fe=[fe],t((U=N.C)<(H=j)),t(re.v<re.va),H>re.o&&(H=re.o),U<re.j){var be=re.j-U;U=re.j,Q[0]+=be*me}if(U>=H?U=0:(Q[0]+=4*re.v,re.ka=U-re.j,re.U=re.va-re.v,re.T=H-U,U=1),U){if(fe=fe[0],11>(U=N.ca).S){var ke=U.f.RGBA,Ue=(H=U.S,Q=re.U,re=re.T,be=ke.eb,ke.A),ye=re;for(ke=ke.fb+N.Ma*ke.A;0<ye--;){var Oe=ie,Le=fe,Qe=Q,Re=be,Ye=ke;switch(H){case Th:zf(Oe,Le,Qe,Re,Ye);break;case Oi:ic(Oe,Le,Qe,Re,Ye);break;case f0:ic(Oe,Le,Qe,Re,Ye),Eu(Re,Ye,0,Qe,1,0);break;case Oh:ju(Oe,Le,Qe,Re,Ye);break;case ul:ar(Oe,Le,Qe,Re,Ye,1);break;case Dh:ar(Oe,Le,Qe,Re,Ye,1),Eu(Re,Ye,0,Qe,1,0);break;case u0:ar(Oe,Le,Qe,Re,Ye,0);break;case $f:ar(Oe,Le,Qe,Re,Ye,0),Eu(Re,Ye,1,Qe,1,0);break;case qf:sc(Oe,Le,Qe,Re,Ye);break;case Ph:sc(Oe,Le,Qe,Re,Ye),cl(Re,Ye,Qe,1,0);break;case zc:go(Oe,Le,Qe,Re,Ye);break;default:t(0)}fe+=me,ke+=Ue}N.Ma+=re}else alert("todo:EmitRescaledRowsYUVA");t(N.Ma<=U.height)}}N.C=j,t(N.C<=N.i)}function he(N){var j;if(0<N.ua)return 0;for(j=0;j<N.Wb;++j){var U=N.Ya[j].G,H=N.Ya[j].H;if(0<U[1][H[1]+0].g||0<U[2][H[2]+0].g||0<U[3][H[3]+0].g)return 0}return 1}function ge(N,j,U,H,Q,re){if(N.Z!=0){var ie=N.qd,fe=N.rd;for(t(cc[N.Z]!=null);j<U;++j)cc[N.Z](ie,fe,H,Q,H,Q,re),ie=H,fe=Q,Q+=re;N.qd=ie,N.rd=fe}}function Ne(N,j){var U=N.l.ma,H=U.Z==0||U.Z==1?N.l.j:N.C;if(H=N.C<H?H:N.C,t(j<=N.l.o),j>H){var Q=N.l.width,re=U.ca,ie=U.tb+Q*H,fe=N.V,me=N.Ba+N.c*H,be=N.gc;t(N.ab==1),t(be[0].hc==3),xo(be[0],H,j,fe,me,re,ie),ge(U,H,j,re,ie,Q)}N.C=N.Ma=j}function Me(N,j,U,H,Q,re,ie){var fe=N.$/H,me=N.$%H,be=N.m,ke=N.s,Ue=U+N.$,ye=Ue;Q=U+H*Q;var Oe=U+H*re,Le=280+ke.ua,Qe=N.Pb?fe:16777216,Re=0<ke.ua?ke.Wa:null,Ye=ke.wc,tt=Ue<Oe?ee(ke,me,fe):null;t(N.C<re),t(Oe<=Q);var ft=!1;e:for(;;){for(;ft||Ue<Oe;){var it=0;if(fe>=Qe){var Mt=Ue-U;t((Qe=N).Pb),Qe.wd=Qe.m,Qe.xd=Mt,0<Qe.s.ua&&dt(Qe.s.Wa,Qe.s.vb),Qe=fe+qc}if(me&Ye||(tt=ee(ke,me,fe)),t(tt!=null),tt.Qb&&(j[Ue]=tt.qb,ft=!0),!ft)if(oe(be),tt.jc){it=be,Mt=j;var Et=Ue,mr=tt.pd[q(it)&Uc-1];t(tt.jc),256>mr.g?(Z(it,it.u+mr.g),Mt[Et]=mr.value,it=0):(Z(it,it.u+mr.g-256),t(256<=mr.value),it=mr.value),it==0&&(ft=!0)}else it=Sn(tt.G[0],tt.H[0],be);if(be.h)break;if(ft||256>it){if(!ft)if(tt.nd)j[Ue]=(tt.qb|it<<8)>>>0;else{if(oe(be),ft=Sn(tt.G[1],tt.H[1],be),oe(be),Mt=Sn(tt.G[2],tt.H[2],be),Et=Sn(tt.G[3],tt.H[3],be),be.h)break;j[Ue]=(Et<<24|ft<<16|it<<8|Mt)>>>0}if(ft=!1,++Ue,++me>=H&&(me=0,++fe,ie!=null&&fe<=re&&!(fe%16)&&ie(N,fe),Re!=null))for(;ye<Ue;)it=j[ye++],Re.X[(506832829*it&4294967295)>>>Re.Mb]=it}else if(280>it){if(it=li(it-256,be),Mt=Sn(tt.G[4],tt.H[4],be),oe(be),Mt=$i(H,Mt=li(Mt,be)),be.h)break;if(Ue-U<Mt||Q-Ue<it)break e;for(Et=0;Et<it;++Et)j[Ue+Et]=j[Ue+Et-Mt];for(Ue+=it,me+=it;me>=H;)me-=H,++fe,ie!=null&&fe<=re&&!(fe%16)&&ie(N,fe);if(t(Ue<=Q),me&Ye&&(tt=ee(ke,me,fe)),Re!=null)for(;ye<Ue;)it=j[ye++],Re.X[(506832829*it&4294967295)>>>Re.Mb]=it}else{if(!(it<Le))break e;for(ft=it-280,t(Re!=null);ye<Ue;)it=j[ye++],Re.X[(506832829*it&4294967295)>>>Re.Mb]=it;it=Ue,t(!(ft>>>(Mt=Re).Xa)),j[it]=Mt.X[ft],ft=!0}ft||t(be.h==W(be))}if(N.Pb&&be.h&&Ue<Q)t(N.m.h),N.a=5,N.m=N.wd,N.$=N.xd,0<N.s.ua&&dt(N.s.vb,N.s.Wa);else{if(be.h)break e;ie?.(N,fe>re?re:fe),N.a=0,N.$=Ue-U}return 1}return N.a=3,0}function Ge(N){t(N!=null),N.vc=null,N.yc=null,N.Ya=null;var j=N.Wa;j!=null&&(j.X=null),N.vb=null,t(N!=null)}function Ie(){var N=new zt;return N==null?null:(N.a=0,N.xb=Np,Ar("Predictor","VP8LPredictors"),Ar("Predictor","VP8LPredictors_C"),Ar("PredictorAdd","VP8LPredictorsAdd"),Ar("PredictorAdd","VP8LPredictorsAdd_C"),ya=It,Uf=xt,zf=Nr,ic=Yt,sc=St,go=er,ju=br,B.VP8LMapColor32b=po,B.VP8LMapColor8b=fi,N)}function Be(N,j,U,H,Q){var re=1,ie=[N],fe=[j],me=H.m,be=H.s,ke=null,Ue=0;e:for(;;){if(U)for(;re&&te(me,1);){var ye=ie,Oe=fe,Le=H,Qe=1,Re=Le.m,Ye=Le.gc[Le.ab],tt=te(Re,2);if(Le.Oc&1<<tt)re=0;else{switch(Le.Oc|=1<<tt,Ye.hc=tt,Ye.Ea=ye[0],Ye.nc=Oe[0],Ye.K=[null],++Le.ab,t(4>=Le.ab),tt){case 0:case 1:Ye.b=te(Re,3)+2,Qe=Be(lt(Ye.Ea,Ye.b),lt(Ye.nc,Ye.b),0,Le,Ye.K),Ye.K=Ye.K[0];break;case 3:var ft,it=te(Re,8)+1,Mt=16<it?0:4<it?1:2<it?2:3;if(ye[0]=lt(Ye.Ea,Mt),Ye.b=Mt,ft=Qe=Be(it,1,0,Le,Ye.K)){var Et,mr=it,Ot=Ye,Tr=1<<(8>>Ot.b),Ln=i(Tr);if(Ln==null)ft=0;else{var gr=Ot.K[0],kt=Ot.w;for(Ln[0]=Ot.K[0][0],Et=1;Et<1*mr;++Et)Ln[Et]=At(gr[kt+Et],Ln[Et-1]);for(;Et<4*Tr;++Et)Ln[Et]=0;Ot.K[0]=null,Ot.K[0]=Ln,ft=1}}Qe=ft;break;case 2:break;default:t(0)}re=Qe}}if(ie=ie[0],fe=fe[0],re&&te(me,1)&&!(re=1<=(Ue=te(me,4))&&11>=Ue)){H.a=3;break e}var bt;if(bt=re)t:{var Vn,sr,wr,ln=H,za=ie,xi=fe,En=Ue,Ea=U,Di=ln.m,ka=ln.s,Er=[null],$r=1,Wn=0,Yr=hl[En];r:for(;;){if(Ea&&te(Di,1)){var qa=te(Di,3)+2,Gn=lt(za,qa),Hr=lt(xi,qa),_a=Gn*Hr;if(!Be(Gn,Hr,0,ln,Er))break r;for(Er=Er[0],ka.xc=qa,Vn=0;Vn<_a;++Vn){var on=Er[Vn]>>8&65535;Er[Vn]=on,on>=$r&&($r=on+1)}}if(Di.h)break r;for(sr=0;5>sr;++sr){var Ca=Cu[sr];!sr&&0<En&&(Ca+=1<<En),Wn<Ca&&(Wn=Ca)}var Ta=l($r*Yr,K),xn=$r,zr=l(xn,pe);if(zr==null)var Pi=null;else t(65536>=xn),Pi=zr;var aa=i(Wn);if(Pi==null||aa==null||Ta==null){ln.a=1;break r}var Xt=Ta;for(Vn=wr=0;Vn<$r;++Vn){var tr=Pi[Vn],Vr=tr.G,fs=tr.H,gl=0,Yi=1,Oa=0;for(sr=0;5>sr;++sr){Ca=Cu[sr],Vr[sr]=Xt,fs[sr]=wr,!sr&&0<En&&(Ca+=1<<En);a:{var Kc,Yc=Ca,Uh=ln,kn=aa,jp=Xt,Ap=wr,zh=0,uc=Uh.m,nb=te(uc,1);if(a(kn,0,0,Yc),nb){var Ep=te(uc,1)+1,kp=te(uc,1),qh=te(uc,kp==0?1:8);kn[qh]=1,Ep==2&&(kn[qh=te(uc,8)]=1);var Za=1}else{var ia=i(19),p0=te(uc,4)+4;if(19<p0){Uh.a=3;var Xc=0;break a}for(Kc=0;Kc<p0;++Kc)ia[d0[Kc]]=te(uc,3);var Kf=void 0,Du=void 0,bo=Uh,$h=ia,Yf=Yc,Hh=kn,Vh=0,fc=bo.m,Cp=8,Tp=l(128,K);n:for(;z(Tp,0,7,$h,19);){if(te(fc,1)){var t1=2+2*te(fc,3);if((Kf=2+te(fc,t1))>Yf)break n}else Kf=Yf;for(Du=0;Du<Yf&&Kf--;){oe(fc);var Op=Tp[0+(127&q(fc))];Z(fc,fc.u+Op.g);var Qc=Op.value;if(16>Qc)Hh[Du++]=Qc,Qc!=0&&(Cp=Qc);else{var r1=Qc==16,n1=Qc-16,a1=Hf[n1],Dp=te(fc,fl[n1])+a1;if(Du+Dp>Yf)break n;for(var i1=r1?Cp:0;0<Dp--;)Hh[Du++]=i1}}Vh=1;break n}Vh||(bo.a=3),Za=Vh}(Za=Za&&!uc.h)&&(zh=z(jp,Ap,8,kn,Yc)),Za&&zh!=0?Xc=zh:(Uh.a=3,Xc=0)}if(Xc==0)break r;if(Yi&&Fh[sr]==1&&(Yi=Xt[wr].g==0),gl+=Xt[wr].g,wr+=Xc,3>=sr){var Pu,Wh=aa[0];for(Pu=1;Pu<Ca;++Pu)aa[Pu]>Wh&&(Wh=aa[Pu]);Oa+=Wh}}if(tr.nd=Yi,tr.Qb=0,Yi&&(tr.qb=(Vr[3][fs[3]+0].value<<24|Vr[1][fs[1]+0].value<<16|Vr[2][fs[2]+0].value)>>>0,gl==0&&256>Vr[0][fs[0]+0].value&&(tr.Qb=1,tr.qb+=Vr[0][fs[0]+0].value<<8)),tr.jc=!tr.Qb&&6>Oa,tr.jc){var x0,wo=tr;for(x0=0;x0<Uc;++x0){var dc=x0,hc=wo.pd[dc],Gh=wo.G[0][wo.H[0]+dc];256<=Gh.value?(hc.g=Gh.g+256,hc.value=Gh.value):(hc.g=0,hc.value=0,dc>>=ta(Gh,8,hc),dc>>=ta(wo.G[1][wo.H[1]+dc],16,hc),dc>>=ta(wo.G[2][wo.H[2]+dc],0,hc),ta(wo.G[3][wo.H[3]+dc],24,hc))}}}ka.vc=Er,ka.Wb=$r,ka.Ya=Pi,ka.yc=Ta,bt=1;break t}bt=0}if(!(re=bt)){H.a=3;break e}if(0<Ue){if(be.ua=1<<Ue,!xe(be.Wa,Ue)){H.a=1,re=0;break e}}else be.ua=0;var Kh=H,Fu=ie,s1=fe,Xf=Kh.s,Qf=Xf.xc;if(Kh.c=Fu,Kh.i=s1,Xf.md=lt(Fu,Qf),Xf.wc=Qf==0?-1:(1<<Qf)-1,U){H.xb=$c;break e}if((ke=i(ie*fe))==null){H.a=1,re=0;break e}re=(re=Me(H,ke,0,ie,fe,fe,null))&&!me.h;break e}return re?(Q!=null?Q[0]=ke:(t(ke==null),t(U)),H.$=0,U||Ge(be)):Ge(be),re}function ze(N,j){var U=N.c*N.i,H=U+j+16*j;return t(N.c<=j),N.V=i(H),N.V==null?(N.Ta=null,N.Ua=0,N.a=1,0):(N.Ta=N.V,N.Ua=N.Ba+U+j,1)}function ut(N,j){var U=N.C,H=j-U,Q=N.V,re=N.Ba+N.c*U;for(t(j<=N.l.o);0<H;){var ie=16<H?16:H,fe=N.l.ma,me=N.l.width,be=me*ie,ke=fe.ca,Ue=fe.tb+me*U,ye=N.Ta,Oe=N.Ua;we(N,ie,Q,re),Us(ye,Oe,ke,Ue,be),ge(fe,U,U+ie,ke,Ue,me),H-=ie,Q+=ie*N.c,U+=ie}t(U==j),N.C=N.Ma=j}function mt(){this.ub=this.yd=this.td=this.Rb=0}function Nt(){this.Kd=this.Ld=this.Ud=this.Td=this.i=this.c=0}function ht(){this.Fb=this.Bb=this.Cb=0,this.Zb=i(4),this.Lb=i(4)}function vt(){this.Yb=(function(){var N=[];return(function j(U,H,Q){for(var re=Q[H],ie=0;ie<re&&(U.push(Q.length>H+1?[]:0),!(Q.length<H+1));ie++)j(U[ie],H+1,Q)})(N,0,[3,11]),N})()}function Tt(){this.jb=i(3),this.Wc=o([4,8],vt),this.Xc=o([4,17],vt)}function sn(){this.Pc=this.wb=this.Tb=this.zd=0,this.vd=new i(4),this.od=new i(4)}function kr(){this.ld=this.La=this.dd=this.tc=0}function fn(){this.Na=this.la=0}function Hi(){this.Sc=[0,0],this.Eb=[0,0],this.Qc=[0,0],this.ia=this.lc=0}function Ol(){this.ad=i(384),this.Za=0,this.Ob=i(16),this.$b=this.Ad=this.ia=this.Gc=this.Hc=this.Dd=0}function Dl(){this.uc=this.M=this.Nb=0,this.wa=Array(new kr),this.Y=0,this.ya=Array(new Ol),this.aa=0,this.l=new Ba}function Ps(){this.y=i(16),this.f=i(8),this.ea=i(8)}function Fc(){this.cb=this.a=0,this.sc="",this.m=new F,this.Od=new mt,this.Kc=new Nt,this.ed=new sn,this.Qa=new ht,this.Ic=this.$c=this.Aa=0,this.D=new Dl,this.Xb=this.Va=this.Hb=this.zb=this.yb=this.Ub=this.za=0,this.Jc=l(8,F),this.ia=0,this.pb=l(4,Hi),this.Pa=new Tt,this.Bd=this.kc=0,this.Ac=[],this.Bc=0,this.zc=[0,0,0,0],this.Gd=Array(new Ps),this.Hd=0,this.rb=Array(new fn),this.sb=0,this.wa=Array(new kr),this.Y=0,this.oc=[],this.pc=0,this.sa=[],this.ta=0,this.qa=[],this.ra=0,this.Ha=[],this.B=this.R=this.Ia=0,this.Ec=[],this.M=this.ja=this.Vb=this.Fc=0,this.ya=Array(new Ol),this.L=this.aa=0,this.gd=o([4,2],kr),this.ga=null,this.Fa=[],this.Cc=this.qc=this.P=0,this.Gb=[],this.Uc=0,this.mb=[],this.nb=0,this.rc=[],this.Ga=this.Vc=0}function Ba(){this.T=this.U=this.ka=this.height=this.width=0,this.y=[],this.f=[],this.ea=[],this.Rc=this.fa=this.W=this.N=this.O=0,this.ma="void",this.put="VP8IoPutHook",this.ac="VP8IoSetupHook",this.bc="VP8IoTeardownHook",this.ha=this.Kb=0,this.data=[],this.hb=this.ib=this.da=this.o=this.j=this.va=this.v=this.Da=this.ob=this.w=0,this.F=[],this.J=0}function Of(){var N=new Fc;return N!=null&&(N.a=0,N.sc="OK",N.cb=0,N.Xb=0,zs||(zs=Go)),N}function dn(N,j,U){return N.a==0&&(N.a=j,N.sc=U,N.cb=0),0}function Vi(N,j,U){return 3<=U&&N[j+0]==157&&N[j+1]==1&&N[j+2]==42}function Gd(N,j){if(N==null)return 0;if(N.a=0,N.sc="OK",j==null)return dn(N,2,"null VP8Io passed to VP8GetHeaders()");var U=j.data,H=j.w,Q=j.ha;if(4>Q)return dn(N,7,"Truncated header.");var re=U[H+0]|U[H+1]<<8|U[H+2]<<16,ie=N.Od;if(ie.Rb=!(1&re),ie.td=re>>1&7,ie.yd=re>>4&1,ie.ub=re>>5,3<ie.td)return dn(N,3,"Incorrect keyframe parameters.");if(!ie.yd)return dn(N,4,"Frame not displayable.");H+=3,Q-=3;var fe=N.Kc;if(ie.Rb){if(7>Q)return dn(N,7,"cannot parse picture header");if(!Vi(U,H,Q))return dn(N,3,"Bad code word");fe.c=16383&(U[H+4]<<8|U[H+3]),fe.Td=U[H+4]>>6,fe.i=16383&(U[H+6]<<8|U[H+5]),fe.Ud=U[H+6]>>6,H+=7,Q-=7,N.za=fe.c+15>>4,N.Ub=fe.i+15>>4,j.width=fe.c,j.height=fe.i,j.Da=0,j.j=0,j.v=0,j.va=j.width,j.o=j.height,j.da=0,j.ib=j.width,j.hb=j.height,j.U=j.width,j.T=j.height,a((re=N.Pa).jb,0,255,re.jb.length),t((re=N.Qa)!=null),re.Cb=0,re.Bb=0,re.Fb=1,a(re.Zb,0,0,re.Zb.length),a(re.Lb,0,0,re.Lb)}if(ie.ub>Q)return dn(N,7,"bad partition length");ne(re=N.m,U,H,ie.ub),H+=ie.ub,Q-=ie.ub,ie.Rb&&(fe.Ld=ae(re),fe.Kd=ae(re)),fe=N.Qa;var me,be=N.Pa;if(t(re!=null),t(fe!=null),fe.Cb=ae(re),fe.Cb){if(fe.Bb=ae(re),ae(re)){for(fe.Fb=ae(re),me=0;4>me;++me)fe.Zb[me]=ae(re)?ve(re,7):0;for(me=0;4>me;++me)fe.Lb[me]=ae(re)?ve(re,6):0}if(fe.Bb)for(me=0;3>me;++me)be.jb[me]=ae(re)?le(re,8):255}else fe.Bb=0;if(re.Ka)return dn(N,3,"cannot parse segment header");if((fe=N.ed).zd=ae(re),fe.Tb=le(re,6),fe.wb=le(re,3),fe.Pc=ae(re),fe.Pc&&ae(re)){for(be=0;4>be;++be)ae(re)&&(fe.vd[be]=ve(re,6));for(be=0;4>be;++be)ae(re)&&(fe.od[be]=ve(re,6))}if(N.L=fe.Tb==0?0:fe.zd?1:2,re.Ka)return dn(N,3,"cannot parse filter header");var ke=Q;if(Q=me=H,H=me+ke,fe=ke,N.Xb=(1<<le(N.m,2))-1,ke<3*(be=N.Xb))U=7;else{for(me+=3*be,fe-=3*be,ke=0;ke<be;++ke){var Ue=U[Q+0]|U[Q+1]<<8|U[Q+2]<<16;Ue>fe&&(Ue=fe),ne(N.Jc[+ke],U,me,Ue),me+=Ue,fe-=Ue,Q+=3}ne(N.Jc[+be],U,me,fe),U=me<H?0:5}if(U!=0)return dn(N,U,"cannot parse partitions");for(U=le(me=N.m,7),Q=ae(me)?ve(me,4):0,H=ae(me)?ve(me,4):0,fe=ae(me)?ve(me,4):0,be=ae(me)?ve(me,4):0,me=ae(me)?ve(me,4):0,ke=N.Qa,Ue=0;4>Ue;++Ue){if(ke.Cb){var ye=ke.Zb[Ue];ke.Fb||(ye+=U)}else{if(0<Ue){N.pb[Ue]=N.pb[0];continue}ye=U}var Oe=N.pb[Ue];Oe.Sc[0]=ml[ra(ye+Q,127)],Oe.Sc[1]=pl[ra(ye+0,127)],Oe.Eb[0]=2*ml[ra(ye+H,127)],Oe.Eb[1]=101581*pl[ra(ye+fe,127)]>>16,8>Oe.Eb[1]&&(Oe.Eb[1]=8),Oe.Qc[0]=ml[ra(ye+be,117)],Oe.Qc[1]=pl[ra(ye+me,127)],Oe.lc=ye+me}if(!ie.Rb)return dn(N,4,"Not a key frame.");for(ae(re),ie=N.Pa,U=0;4>U;++U){for(Q=0;8>Q;++Q)for(H=0;3>H;++H)for(fe=0;11>fe;++fe)be=Se(re,Fn[U][Q][H][fe])?le(re,8):Jg[U][Q][H][fe],ie.Wc[U][Q].Yb[H][fe]=be;for(Q=0;17>Q;++Q)ie.Xc[U][Q]=ie.Wc[U][Fr[Q]]}return N.kc=ae(re),N.kc&&(N.Bd=le(re,8)),N.cb=1}function Go(N,j,U,H,Q,re,ie){var fe=j[Q].Yb[U];for(U=0;16>Q;++Q){if(!Se(N,fe[U+0]))return Q;for(;!Se(N,fe[U+1]);)if(fe=j[++Q].Yb[0],U=0,Q==16)return 16;var me=j[Q+1].Yb;if(Se(N,fe[U+2])){var be=N,ke=0;if(Se(be,(ye=fe)[(Ue=U)+3]))if(Se(be,ye[Ue+6])){for(fe=0,Ue=2*(ke=Se(be,ye[Ue+8]))+(ye=Se(be,ye[Ue+9+ke])),ke=0,ye=Zg[Ue];ye[fe];++fe)ke+=ke+Se(be,ye[fe]);ke+=3+(8<<Ue)}else Se(be,ye[Ue+7])?(ke=7+2*Se(be,165),ke+=Se(be,145)):ke=5+Se(be,159);else ke=Se(be,ye[Ue+4])?3+Se(be,ye[Ue+5]):2;fe=me[2]}else ke=1,fe=me[1];me=ie+_p[Q],0>(be=N).b&&ce(be);var Ue,ye=be.b,Oe=(Ue=be.Ca>>1)-(be.I>>ye)>>31;--be.b,be.Ca+=Oe,be.Ca|=1,be.I-=(Ue+1&Oe)<<ye,re[me]=((ke^Oe)-Oe)*H[(0<Q)+0]}return 16}function Ko(N){var j=N.rb[N.sb-1];j.la=0,j.Na=0,a(N.zc,0,0,N.zc.length),N.ja=0}function sl(N,j,U,H,Q){Q=N[j+U+32*H]+(Q>>3),N[j+U+32*H]=-256&Q?0>Q?0:255:Q}function so(N,j,U,H,Q,re){sl(N,j,0,U,H+Q),sl(N,j,1,U,H+re),sl(N,j,2,U,H-re),sl(N,j,3,U,H-Q)}function ga(N){return(20091*N>>16)+N}function ki(N,j,U,H){var Q,re=0,ie=i(16);for(Q=0;4>Q;++Q){var fe=N[j+0]+N[j+8],me=N[j+0]-N[j+8],be=(35468*N[j+4]>>16)-ga(N[j+12]),ke=ga(N[j+4])+(35468*N[j+12]>>16);ie[re+0]=fe+ke,ie[re+1]=me+be,ie[re+2]=me-be,ie[re+3]=fe-ke,re+=4,j++}for(Q=re=0;4>Q;++Q)fe=(N=ie[re+0]+4)+ie[re+8],me=N-ie[re+8],be=(35468*ie[re+4]>>16)-ga(ie[re+12]),sl(U,H,0,0,fe+(ke=ga(ie[re+4])+(35468*ie[re+12]>>16))),sl(U,H,1,0,me+be),sl(U,H,2,0,me-be),sl(U,H,3,0,fe-ke),re++,H+=32}function Kd(N,j,U,H){var Q=N[j+0]+4,re=35468*N[j+4]>>16,ie=ga(N[j+4]),fe=35468*N[j+1]>>16;so(U,H,0,Q+ie,N=ga(N[j+1]),fe),so(U,H,1,Q+re,N,fe),so(U,H,2,Q-re,N,fe),so(U,H,3,Q-ie,N,fe)}function vh(N,j,U,H,Q){ki(N,j,U,H),Q&&ki(N,j+16,U,H+4)}function Yd(N,j,U,H){lc(N,j+0,U,H,1),lc(N,j+32,U,H+128,1)}function Wi(N,j,U,H){var Q;for(N=N[j+0]+4,Q=0;4>Q;++Q)for(j=0;4>j;++j)sl(U,H,j,Q,N)}function Xd(N,j,U,H){N[j+0]&&Kr(N,j+0,U,H),N[j+16]&&Kr(N,j+16,U,H+4),N[j+32]&&Kr(N,j+32,U,H+128),N[j+48]&&Kr(N,j+48,U,H+128+4)}function Qd(N,j,U,H){var Q,re=i(16);for(Q=0;4>Q;++Q){var ie=N[j+0+Q]+N[j+12+Q],fe=N[j+4+Q]+N[j+8+Q],me=N[j+4+Q]-N[j+8+Q],be=N[j+0+Q]-N[j+12+Q];re[0+Q]=ie+fe,re[8+Q]=ie-fe,re[4+Q]=be+me,re[12+Q]=be-me}for(Q=0;4>Q;++Q)ie=(N=re[0+4*Q]+3)+re[3+4*Q],fe=re[1+4*Q]+re[2+4*Q],me=re[1+4*Q]-re[2+4*Q],be=N-re[3+4*Q],U[H+0]=ie+fe>>3,U[H+16]=be+me>>3,U[H+32]=ie-fe>>3,U[H+48]=be-me>>3,H+=64}function Fs(N,j,U){var H,Q=j-32,re=Ti,ie=255-N[Q-1];for(H=0;H<U;++H){var fe,me=re,be=ie+N[j-1];for(fe=0;fe<U;++fe)N[j+fe]=me[be+N[Q+fe]];j+=32}}function Zd(N,j){Fs(N,j,4)}function yh(N,j){Fs(N,j,8)}function bh(N,j){Fs(N,j,16)}function Jd(N,j){var U;for(U=0;16>U;++U)n(N,j+32*U,N,j-32,16)}function e0(N,j){var U;for(U=16;0<U;--U)a(N,j,N[j-1],16),j+=32}function xu(N,j,U){var H;for(H=0;16>H;++H)a(j,U+32*H,N,16)}function Pl(N,j){var U,H=16;for(U=0;16>U;++U)H+=N[j-1+32*U]+N[j+U-32];xu(H>>5,N,j)}function Fl(N,j){var U,H=8;for(U=0;16>U;++U)H+=N[j-1+32*U];xu(H>>4,N,j)}function Yo(N,j){var U,H=8;for(U=0;16>U;++U)H+=N[j+U-32];xu(H>>4,N,j)}function gu(N,j){xu(128,N,j)}function ir(N,j,U){return N+2*j+U+2>>2}function Lc(N,j){var U,H=j-32;for(H=new Uint8Array([ir(N[H-1],N[H+0],N[H+1]),ir(N[H+0],N[H+1],N[H+2]),ir(N[H+1],N[H+2],N[H+3]),ir(N[H+2],N[H+3],N[H+4])]),U=0;4>U;++U)n(N,j+32*U,H,0,H.length)}function wh(N,j){var U=N[j-1],H=N[j-1+32],Q=N[j-1+64],re=N[j-1+96];De(N,j+0,16843009*ir(N[j-1-32],U,H)),De(N,j+32,16843009*ir(U,H,Q)),De(N,j+64,16843009*ir(H,Q,re)),De(N,j+96,16843009*ir(Q,re,re))}function t0(N,j){var U,H=4;for(U=0;4>U;++U)H+=N[j+U-32]+N[j-1+32*U];for(H>>=3,U=0;4>U;++U)a(N,j+32*U,H,4)}function _h(N,j){var U=N[j-1+0],H=N[j-1+32],Q=N[j-1+64],re=N[j-1-32],ie=N[j+0-32],fe=N[j+1-32],me=N[j+2-32],be=N[j+3-32];N[j+0+96]=ir(H,Q,N[j-1+96]),N[j+1+96]=N[j+0+64]=ir(U,H,Q),N[j+2+96]=N[j+1+64]=N[j+0+32]=ir(re,U,H),N[j+3+96]=N[j+2+64]=N[j+1+32]=N[j+0+0]=ir(ie,re,U),N[j+3+64]=N[j+2+32]=N[j+1+0]=ir(fe,ie,re),N[j+3+32]=N[j+2+0]=ir(me,fe,ie),N[j+3+0]=ir(be,me,fe)}function Ls(N,j){var U=N[j+1-32],H=N[j+2-32],Q=N[j+3-32],re=N[j+4-32],ie=N[j+5-32],fe=N[j+6-32],me=N[j+7-32];N[j+0+0]=ir(N[j+0-32],U,H),N[j+1+0]=N[j+0+32]=ir(U,H,Q),N[j+2+0]=N[j+1+32]=N[j+0+64]=ir(H,Q,re),N[j+3+0]=N[j+2+32]=N[j+1+64]=N[j+0+96]=ir(Q,re,ie),N[j+3+32]=N[j+2+64]=N[j+1+96]=ir(re,ie,fe),N[j+3+64]=N[j+2+96]=ir(ie,fe,me),N[j+3+96]=ir(fe,me,me)}function oi(N,j){var U=N[j-1+0],H=N[j-1+32],Q=N[j-1+64],re=N[j-1-32],ie=N[j+0-32],fe=N[j+1-32],me=N[j+2-32],be=N[j+3-32];N[j+0+0]=N[j+1+64]=re+ie+1>>1,N[j+1+0]=N[j+2+64]=ie+fe+1>>1,N[j+2+0]=N[j+3+64]=fe+me+1>>1,N[j+3+0]=me+be+1>>1,N[j+0+96]=ir(Q,H,U),N[j+0+64]=ir(H,U,re),N[j+0+32]=N[j+1+96]=ir(U,re,ie),N[j+1+32]=N[j+2+96]=ir(re,ie,fe),N[j+2+32]=N[j+3+96]=ir(ie,fe,me),N[j+3+32]=ir(fe,me,be)}function r0(N,j){var U=N[j+0-32],H=N[j+1-32],Q=N[j+2-32],re=N[j+3-32],ie=N[j+4-32],fe=N[j+5-32],me=N[j+6-32],be=N[j+7-32];N[j+0+0]=U+H+1>>1,N[j+1+0]=N[j+0+64]=H+Q+1>>1,N[j+2+0]=N[j+1+64]=Q+re+1>>1,N[j+3+0]=N[j+2+64]=re+ie+1>>1,N[j+0+32]=ir(U,H,Q),N[j+1+32]=N[j+0+96]=ir(H,Q,re),N[j+2+32]=N[j+1+96]=ir(Q,re,ie),N[j+3+32]=N[j+2+96]=ir(re,ie,fe),N[j+3+64]=ir(ie,fe,me),N[j+3+96]=ir(fe,me,be)}function vu(N,j){var U=N[j-1+0],H=N[j-1+32],Q=N[j-1+64],re=N[j-1+96];N[j+0+0]=U+H+1>>1,N[j+2+0]=N[j+0+32]=H+Q+1>>1,N[j+2+32]=N[j+0+64]=Q+re+1>>1,N[j+1+0]=ir(U,H,Q),N[j+3+0]=N[j+1+32]=ir(H,Q,re),N[j+3+32]=N[j+1+64]=ir(Q,re,re),N[j+3+64]=N[j+2+64]=N[j+0+96]=N[j+1+96]=N[j+2+96]=N[j+3+96]=re}function Ms(N,j){var U=N[j-1+0],H=N[j-1+32],Q=N[j-1+64],re=N[j-1+96],ie=N[j-1-32],fe=N[j+0-32],me=N[j+1-32],be=N[j+2-32];N[j+0+0]=N[j+2+32]=U+ie+1>>1,N[j+0+32]=N[j+2+64]=H+U+1>>1,N[j+0+64]=N[j+2+96]=Q+H+1>>1,N[j+0+96]=re+Q+1>>1,N[j+3+0]=ir(fe,me,be),N[j+2+0]=ir(ie,fe,me),N[j+1+0]=N[j+3+32]=ir(U,ie,fe),N[j+1+32]=N[j+3+64]=ir(H,U,ie),N[j+1+64]=N[j+3+96]=ir(Q,H,U),N[j+1+96]=ir(re,Q,H)}function yu(N,j){var U;for(U=0;8>U;++U)n(N,j+32*U,N,j-32,8)}function lo(N,j){var U;for(U=0;8>U;++U)a(N,j,N[j-1],8),j+=32}function bu(N,j,U){var H;for(H=0;8>H;++H)a(j,U+32*H,N,8)}function Xo(N,j){var U,H=8;for(U=0;8>U;++U)H+=N[j+U-32]+N[j-1+32*U];bu(H>>4,N,j)}function Df(N,j){var U,H=4;for(U=0;8>U;++U)H+=N[j+U-32];bu(H>>3,N,j)}function Pf(N,j){var U,H=4;for(U=0;8>U;++U)H+=N[j-1+32*U];bu(H>>3,N,j)}function Qa(N,j){bu(128,N,j)}function Rs(N,j,U){var H=N[j-U],Q=N[j+0],re=3*(Q-H)+oc[1020+N[j-2*U]-N[j+U]],ie=c0[112+(re+4>>3)];N[j-U]=Ti[255+H+c0[112+(re+3>>3)]],N[j+0]=Ti[255+Q-ie]}function oo(N,j,U,H){var Q=N[j+0],re=N[j+U];return di[255+N[j-2*U]-N[j-U]]>H||di[255+re-Q]>H}function Qo(N,j,U,H){return 4*di[255+N[j-U]-N[j+0]]+di[255+N[j-2*U]-N[j+U]]<=H}function Ff(N,j,U,H,Q){var re=N[j-3*U],ie=N[j-2*U],fe=N[j-U],me=N[j+0],be=N[j+U],ke=N[j+2*U],Ue=N[j+3*U];return 4*di[255+fe-me]+di[255+ie-be]>H?0:di[255+N[j-4*U]-re]<=Q&&di[255+re-ie]<=Q&&di[255+ie-fe]<=Q&&di[255+Ue-ke]<=Q&&di[255+ke-be]<=Q&&di[255+be-me]<=Q}function wu(N,j,U,H){var Q=2*H+1;for(H=0;16>H;++H)Qo(N,j+H,U,Q)&&Rs(N,j+H,U)}function Zo(N,j,U,H){var Q=2*H+1;for(H=0;16>H;++H)Qo(N,j+H*U,1,Q)&&Rs(N,j+H*U,1)}function Mc(N,j,U,H){var Q;for(Q=3;0<Q;--Q)wu(N,j+=4*U,U,H)}function _u(N,j,U,H){var Q;for(Q=3;0<Q;--Q)Zo(N,j+=4,U,H)}function co(N,j,U,H,Q,re,ie,fe){for(re=2*re+1;0<Q--;){if(Ff(N,j,U,re,ie))if(oo(N,j,U,fe))Rs(N,j,U);else{var me=N,be=j,ke=U,Ue=me[be-2*ke],ye=me[be-ke],Oe=me[be+0],Le=me[be+ke],Qe=me[be+2*ke],Re=27*(tt=oc[1020+3*(Oe-ye)+oc[1020+Ue-Le]])+63>>7,Ye=18*tt+63>>7,tt=9*tt+63>>7;me[be-3*ke]=Ti[255+me[be-3*ke]+tt],me[be-2*ke]=Ti[255+Ue+Ye],me[be-ke]=Ti[255+ye+Re],me[be+0]=Ti[255+Oe-Re],me[be+ke]=Ti[255+Le-Ye],me[be+2*ke]=Ti[255+Qe-tt]}j+=H}}function Jo(N,j,U,H,Q,re,ie,fe){for(re=2*re+1;0<Q--;){if(Ff(N,j,U,re,ie))if(oo(N,j,U,fe))Rs(N,j,U);else{var me=N,be=j,ke=U,Ue=me[be-ke],ye=me[be+0],Oe=me[be+ke],Le=c0[112+(4+(Qe=3*(ye-Ue))>>3)],Qe=c0[112+(Qe+3>>3)],Re=Le+1>>1;me[be-2*ke]=Ti[255+me[be-2*ke]+Re],me[be-ke]=Ti[255+Ue+Qe],me[be+0]=Ti[255+ye-Le],me[be+ke]=Ti[255+Oe-Re]}j+=H}}function Nh(N,j,U,H,Q,re){co(N,j,U,1,16,H,Q,re)}function Sh(N,j,U,H,Q,re){co(N,j,1,U,16,H,Q,re)}function ec(N,j,U,H,Q,re){var ie;for(ie=3;0<ie;--ie)Jo(N,j+=4*U,U,1,16,H,Q,re)}function jh(N,j,U,H,Q,re){var ie;for(ie=3;0<ie;--ie)Jo(N,j+=4,1,U,16,H,Q,re)}function L(N,j,U,H,Q,re,ie,fe){co(N,j,Q,1,8,re,ie,fe),co(U,H,Q,1,8,re,ie,fe)}function Y(N,j,U,H,Q,re,ie,fe){co(N,j,1,Q,8,re,ie,fe),co(U,H,1,Q,8,re,ie,fe)}function _e(N,j,U,H,Q,re,ie,fe){Jo(N,j+4*Q,Q,1,8,re,ie,fe),Jo(U,H+4*Q,Q,1,8,re,ie,fe)}function Ee(N,j,U,H,Q,re,ie,fe){Jo(N,j+4,1,Q,8,re,ie,fe),Jo(U,H+4,1,Q,8,re,ie,fe)}function Pe(){this.ba=new qr,this.ec=[],this.cc=[],this.Mc=[],this.Dc=this.Nc=this.dc=this.fc=0,this.Oa=new Pr,this.memory=0,this.Ib="OutputFunc",this.Jb="OutputAlphaFunc",this.Nd="OutputRowFunc"}function et(){this.data=[],this.offset=this.kd=this.ha=this.w=0,this.na=[],this.xa=this.gb=this.Ja=this.Sa=this.P=0}function ot(){this.nc=this.Ea=this.b=this.hc=0,this.K=[],this.w=0}function Ft(){this.ua=0,this.Wa=new Xe,this.vb=new Xe,this.md=this.xc=this.wc=0,this.vc=[],this.Wb=0,this.Ya=new pe,this.yc=new K}function zt(){this.xb=this.a=0,this.l=new Ba,this.ca=new qr,this.V=[],this.Ba=0,this.Ta=[],this.Ua=0,this.m=new M,this.Pb=0,this.wd=new M,this.Ma=this.$=this.C=this.i=this.c=this.xd=0,this.s=new Ft,this.ab=0,this.gc=l(4,ot),this.Oc=0}function or(){this.Lc=this.Z=this.$a=this.i=this.c=0,this.l=new Ba,this.ic=0,this.ca=[],this.tb=0,this.qd=null,this.rd=0}function xr(N,j,U,H,Q,re,ie){for(N=N==null?0:N[j+0],j=0;j<ie;++j)Q[re+j]=N+U[H+j]&255,N=Q[re+j]}function Gr(N,j,U,H,Q,re,ie){var fe;if(N==null)xr(null,null,U,H,Q,re,ie);else for(fe=0;fe<ie;++fe)Q[re+fe]=N[j+fe]+U[H+fe]&255}function Hn(N,j,U,H,Q,re,ie){if(N==null)xr(null,null,U,H,Q,re,ie);else{var fe,me=N[j+0],be=me,ke=me;for(fe=0;fe<ie;++fe)be=ke+(me=N[j+fe])-be,ke=U[H+fe]+(-256&be?0>be?0:255:be)&255,be=me,Q[re+fe]=ke}}function va(N,j,U,H){var Q=j.width,re=j.o;if(t(N!=null&&j!=null),0>U||0>=H||U+H>re)return null;if(!N.Cc){if(N.ga==null){var ie;if(N.ga=new or,(ie=N.ga==null)||(ie=j.width*j.o,t(N.Gb.length==0),N.Gb=i(ie),N.Uc=0,N.Gb==null?ie=0:(N.mb=N.Gb,N.nb=N.Uc,N.rc=null,ie=1),ie=!ie),!ie){ie=N.ga;var fe=N.Fa,me=N.P,be=N.qc,ke=N.mb,Ue=N.nb,ye=me+1,Oe=be-1,Le=ie.l;if(t(fe!=null&&ke!=null&&j!=null),cc[0]=null,cc[1]=xr,cc[2]=Gr,cc[3]=Hn,ie.ca=ke,ie.tb=Ue,ie.c=j.width,ie.i=j.height,t(0<ie.c&&0<ie.i),1>=be)j=0;else if(ie.$a=3&fe[me+0],ie.Z=fe[me+0]>>2&3,ie.Lc=fe[me+0]>>4&3,me=fe[me+0]>>6&3,0>ie.$a||1<ie.$a||4<=ie.Z||1<ie.Lc||me)j=0;else if(Le.put=Gt,Le.ac=os,Le.bc=Tl,Le.ma=ie,Le.width=j.width,Le.height=j.height,Le.Da=j.Da,Le.v=j.v,Le.va=j.va,Le.j=j.j,Le.o=j.o,ie.$a)e:{t(ie.$a==1),j=Ie();t:for(;;){if(j==null){j=0;break e}if(t(ie!=null),ie.mc=j,j.c=ie.c,j.i=ie.i,j.l=ie.l,j.l.ma=ie,j.l.width=ie.c,j.l.height=ie.i,j.a=0,ue(j.m,fe,ye,Oe),!Be(ie.c,ie.i,1,j,null)||(j.ab==1&&j.gc[0].hc==3&&he(j.s)?(ie.ic=1,fe=j.c*j.i,j.Ta=null,j.Ua=0,j.V=i(fe),j.Ba=0,j.V==null?(j.a=1,j=0):j=1):(ie.ic=0,j=ze(j,ie.c)),!j))break t;j=1;break e}ie.mc=null,j=0}else j=Oe>=ie.c*ie.i;ie=!j}if(ie)return null;N.ga.Lc!=1?N.Ga=0:H=re-U}t(N.ga!=null),t(U+H<=re);e:{if(j=(fe=N.ga).c,re=fe.l.o,fe.$a==0){if(ye=N.rc,Oe=N.Vc,Le=N.Fa,me=N.P+1+U*j,be=N.mb,ke=N.nb+U*j,t(me<=N.P+N.qc),fe.Z!=0)for(t(cc[fe.Z]!=null),ie=0;ie<H;++ie)cc[fe.Z](ye,Oe,Le,me,be,ke,j),ye=be,Oe=ke,ke+=j,me+=j;else for(ie=0;ie<H;++ie)n(be,ke,Le,me,j),ye=be,Oe=ke,ke+=j,me+=j;N.rc=ye,N.Vc=Oe}else{if(t(fe.mc!=null),j=U+H,t((ie=fe.mc)!=null),t(j<=ie.i),ie.C>=j)j=1;else if(fe.ic||ll(),fe.ic){fe=ie.V,ye=ie.Ba,Oe=ie.c;var Qe=ie.i,Re=(Le=1,me=ie.$/Oe,be=ie.$%Oe,ke=ie.m,Ue=ie.s,ie.$),Ye=Oe*Qe,tt=Oe*j,ft=Ue.wc,it=Re<tt?ee(Ue,be,me):null;t(Re<=Ye),t(j<=Qe),t(he(Ue));t:for(;;){for(;!ke.h&&Re<tt;){if(be&ft||(it=ee(Ue,be,me)),t(it!=null),oe(ke),256>(Qe=Sn(it.G[0],it.H[0],ke)))fe[ye+Re]=Qe,++Re,++be>=Oe&&(be=0,++me<=j&&!(me%16)&&Ne(ie,me));else{if(!(280>Qe)){Le=0;break t}Qe=li(Qe-256,ke);var Mt,Et=Sn(it.G[4],it.H[4],ke);if(oe(ke),!(Re>=(Et=$i(Oe,Et=li(Et,ke)))&&Ye-Re>=Qe)){Le=0;break t}for(Mt=0;Mt<Qe;++Mt)fe[ye+Re+Mt]=fe[ye+Re+Mt-Et];for(Re+=Qe,be+=Qe;be>=Oe;)be-=Oe,++me<=j&&!(me%16)&&Ne(ie,me);Re<tt&&be&ft&&(it=ee(Ue,be,me))}t(ke.h==W(ke))}Ne(ie,me>j?j:me);break t}!Le||ke.h&&Re<Ye?(Le=0,ie.a=ke.h?5:3):ie.$=Re,j=Le}else j=Me(ie,ie.V,ie.Ba,ie.c,ie.i,j,ut);if(!j){H=0;break e}}U+H>=re&&(N.Cc=1),H=1}if(!H)return null;if(N.Cc&&((H=N.ga)!=null&&(H.mc=null),N.ga=null,0<N.Ga))return alert("todo:WebPDequantizeLevels"),null}return N.nb+U*Q}function jn(N,j,U,H,Q,re){for(;0<Q--;){var ie,fe=N,me=j+(U?1:0),be=N,ke=j+(U?0:3);for(ie=0;ie<H;++ie){var Ue=be[ke+4*ie];Ue!=255&&(Ue*=32897,fe[me+4*ie+0]=fe[me+4*ie+0]*Ue>>23,fe[me+4*ie+1]=fe[me+4*ie+1]*Ue>>23,fe[me+4*ie+2]=fe[me+4*ie+2]*Ue>>23)}j+=re}}function Ua(N,j,U,H,Q){for(;0<H--;){var re;for(re=0;re<U;++re){var ie=N[j+2*re+0],fe=15&(be=N[j+2*re+1]),me=4369*fe,be=(240&be|be>>4)*me>>16;N[j+2*re+0]=(240&ie|ie>>4)*me>>16&240|(15&ie|ie<<4)*me>>16>>4&15,N[j+2*re+1]=240&be|fe}j+=Q}}function Aa(N,j,U,H,Q,re,ie,fe){var me,be,ke=255;for(be=0;be<Q;++be){for(me=0;me<H;++me){var Ue=N[j+me];re[ie+4*me]=Ue,ke&=Ue}j+=U,ie+=fe}return ke!=255}function ci(N,j,U,H,Q){var re;for(re=0;re<Q;++re)U[H+re]=N[j+re]>>8}function ll(){Eu=jn,cl=Ua,s0=Aa,Us=ci}function cs(N,j,U){B[N]=function(H,Q,re,ie,fe,me,be,ke,Ue,ye,Oe,Le,Qe,Re,Ye,tt,ft){var it,Mt=ft-1>>1,Et=fe[me+0]|be[ke+0]<<16,mr=Ue[ye+0]|Oe[Le+0]<<16;t(H!=null);var Ot=3*Et+mr+131074>>2;for(j(H[Q+0],255&Ot,Ot>>16,Qe,Re),re!=null&&(Ot=3*mr+Et+131074>>2,j(re[ie+0],255&Ot,Ot>>16,Ye,tt)),it=1;it<=Mt;++it){var Tr=fe[me+it]|be[ke+it]<<16,Ln=Ue[ye+it]|Oe[Le+it]<<16,gr=Et+Tr+mr+Ln+524296,kt=gr+2*(Tr+mr)>>3;Ot=kt+Et>>1,Et=(gr=gr+2*(Et+Ln)>>3)+Tr>>1,j(H[Q+2*it-1],255&Ot,Ot>>16,Qe,Re+(2*it-1)*U),j(H[Q+2*it-0],255&Et,Et>>16,Qe,Re+(2*it-0)*U),re!=null&&(Ot=gr+mr>>1,Et=kt+Ln>>1,j(re[ie+2*it-1],255&Ot,Ot>>16,Ye,tt+(2*it-1)*U),j(re[ie+2*it+0],255&Et,Et>>16,Ye,tt+(2*it+0)*U)),Et=Tr,mr=Ln}1&ft||(Ot=3*Et+mr+131074>>2,j(H[Q+ft-1],255&Ot,Ot>>16,Qe,Re+(ft-1)*U),re!=null&&(Ot=3*mr+Et+131074>>2,j(re[ie+ft-1],255&Ot,Ot>>16,Ye,tt+(ft-1)*U)))}}function Ah(){mi[Th]=Tu,mi[Oi]=Vf,mi[Oh]=Sp,mi[ul]=Mh,mi[u0]=Hc,mi[qf]=yo,mi[zc]=Vc,mi[f0]=Vf,mi[Dh]=Mh,mi[$f]=Hc,mi[Ph]=yo}function Lf(N){return N&-16384?0>N?0:255:N>>Rh}function Nu(N,j){return Lf((19077*N>>8)+(26149*j>>8)-14234)}function uo(N,j,U){return Lf((19077*N>>8)-(6419*j>>8)-(13320*U>>8)+8708)}function Ll(N,j){return Lf((19077*N>>8)+(33050*j>>8)-17685)}function Su(N,j,U,H,Q){H[Q+0]=Nu(N,U),H[Q+1]=uo(N,j,U),H[Q+2]=Ll(N,j)}function Rc(N,j,U,H,Q){H[Q+0]=Ll(N,j),H[Q+1]=uo(N,j,U),H[Q+2]=Nu(N,U)}function ui(N,j,U,H,Q){var re=uo(N,j,U);j=re<<3&224|Ll(N,j)>>3,H[Q+0]=248&Nu(N,U)|re>>5,H[Q+1]=j}function Ic(N,j,U,H,Q){var re=240&Ll(N,j)|15;H[Q+0]=240&Nu(N,U)|uo(N,j,U)>>4,H[Q+1]=re}function Bc(N,j,U,H,Q){H[Q+0]=255,Su(N,j,U,H,Q+1)}function Mf(N,j,U,H,Q){Rc(N,j,U,H,Q),H[Q+3]=255}function fo(N,j,U,H,Q){Su(N,j,U,H,Q),H[Q+3]=255}function ra(N,j){return 0>N?0:N>j?j:N}function tc(N,j,U){B[N]=function(H,Q,re,ie,fe,me,be,ke,Ue){for(var ye=ke+(-2&Ue)*U;ke!=ye;)j(H[Q+0],re[ie+0],fe[me+0],be,ke),j(H[Q+1],re[ie+0],fe[me+0],be,ke+U),Q+=2,++ie,++me,ke+=2*U;1&Ue&&j(H[Q+0],re[ie+0],fe[me+0],be,ke)}}function Rf(N,j,U){return U==0?N==0?j==0?6:5:j==0?4:0:U}function n0(N,j,U,H,Q){switch(N>>>30){case 3:lc(j,U,H,Q,0);break;case 2:Ci(j,U,H,Q);break;case 1:Kr(j,U,H,Q)}}function Is(N,j){var U,H,Q=j.M,re=j.Nb,ie=N.oc,fe=N.pc+40,me=N.oc,be=N.pc+584,ke=N.oc,Ue=N.pc+600;for(U=0;16>U;++U)ie[fe+32*U-1]=129;for(U=0;8>U;++U)me[be+32*U-1]=129,ke[Ue+32*U-1]=129;for(0<Q?ie[fe-1-32]=me[be-1-32]=ke[Ue-1-32]=129:(a(ie,fe-32-1,127,21),a(me,be-32-1,127,9),a(ke,Ue-32-1,127,9)),H=0;H<N.za;++H){var ye=j.ya[j.aa+H];if(0<H){for(U=-1;16>U;++U)n(ie,fe+32*U-4,ie,fe+32*U+12,4);for(U=-1;8>U;++U)n(me,be+32*U-4,me,be+32*U+4,4),n(ke,Ue+32*U-4,ke,Ue+32*U+4,4)}var Oe=N.Gd,Le=N.Hd+H,Qe=ye.ad,Re=ye.Hc;if(0<Q&&(n(ie,fe-32,Oe[Le].y,0,16),n(me,be-32,Oe[Le].f,0,8),n(ke,Ue-32,Oe[Le].ea,0,8)),ye.Za){var Ye=ie,tt=fe-32+16;for(0<Q&&(H>=N.za-1?a(Ye,tt,Oe[Le].y[15],4):n(Ye,tt,Oe[Le+1].y,0,4)),U=0;4>U;U++)Ye[tt+128+U]=Ye[tt+256+U]=Ye[tt+384+U]=Ye[tt+0+U];for(U=0;16>U;++U,Re<<=2)Ye=ie,tt=fe+wa[U],na[ye.Ob[U]](Ye,tt),n0(Re,Qe,16*+U,Ye,tt)}else if(Ye=Rf(H,Q,ye.Ob[0]),Ki[Ye](ie,fe),Re!=0)for(U=0;16>U;++U,Re<<=2)n0(Re,Qe,16*+U,ie,fe+wa[U]);for(U=ye.Gc,Ye=Rf(H,Q,ye.Dd),Bl[Ye](me,be),Bl[Ye](ke,Ue),Re=Qe,Ye=me,tt=be,255&(ye=0|U)&&(170&ye?ol(Re,256,Ye,tt):Ur(Re,256,Ye,tt)),ye=ke,Re=Ue,255&(U>>=8)&&(170&U?ol(Qe,320,ye,Re):Ur(Qe,320,ye,Re)),Q<N.Ub-1&&(n(Oe[Le].y,0,ie,fe+480,16),n(Oe[Le].f,0,me,be+224,8),n(Oe[Le].ea,0,ke,Ue+224,8)),U=8*re*N.B,Oe=N.sa,Le=N.ta+16*H+16*re*N.R,Qe=N.qa,ye=N.ra+8*H+U,Re=N.Ha,Ye=N.Ia+8*H+U,U=0;16>U;++U)n(Oe,Le+U*N.R,ie,fe+32*U,16);for(U=0;8>U;++U)n(Qe,ye+U*N.B,me,be+32*U,8),n(Re,Ye+U*N.B,ke,Ue+32*U,8)}}function Ml(N,j,U,H,Q,re,ie,fe,me){var be=[0],ke=[0],Ue=0,ye=me!=null?me.kd:0,Oe=me??new et;if(N==null||12>U)return 7;Oe.data=N,Oe.w=j,Oe.ha=U,j=[j],U=[U],Oe.gb=[Oe.gb];e:{var Le=j,Qe=U,Re=Oe.gb;if(t(N!=null),t(Qe!=null),t(Re!=null),Re[0]=0,12<=Qe[0]&&!r(N,Le[0],"RIFF")){if(r(N,Le[0]+8,"WEBP")){Re=3;break e}var Ye=Ce(N,Le[0]+4);if(12>Ye||4294967286<Ye){Re=3;break e}if(ye&&Ye>Qe[0]-8){Re=7;break e}Re[0]=Ye,Le[0]+=12,Qe[0]-=12}Re=0}if(Re!=0)return Re;for(Ye=0<Oe.gb[0],U=U[0];;){e:{var tt=N;Qe=j,Re=U;var ft=be,it=ke,Mt=Le=[0];if((Ot=Ue=[Ue])[0]=0,8>Re[0])Re=7;else{if(!r(tt,Qe[0],"VP8X")){if(Ce(tt,Qe[0]+4)!=10){Re=3;break e}if(18>Re[0]){Re=7;break e}var Et=Ce(tt,Qe[0]+8),mr=1+Ke(tt,Qe[0]+12);if(2147483648<=mr*(tt=1+Ke(tt,Qe[0]+15))){Re=3;break e}Mt!=null&&(Mt[0]=Et),ft!=null&&(ft[0]=mr),it!=null&&(it[0]=tt),Qe[0]+=18,Re[0]-=18,Ot[0]=1}Re=0}}if(Ue=Ue[0],Le=Le[0],Re!=0)return Re;if(Qe=!!(2&Le),!Ye&&Ue)return 3;if(re!=null&&(re[0]=!!(16&Le)),ie!=null&&(ie[0]=Qe),fe!=null&&(fe[0]=0),ie=be[0],Le=ke[0],Ue&&Qe&&me==null){Re=0;break}if(4>U){Re=7;break}if(Ye&&Ue||!Ye&&!Ue&&!r(N,j[0],"ALPH")){U=[U],Oe.na=[Oe.na],Oe.P=[Oe.P],Oe.Sa=[Oe.Sa];e:{Et=N,Re=j,Ye=U;var Ot=Oe.gb;ft=Oe.na,it=Oe.P,Mt=Oe.Sa,mr=22,t(Et!=null),t(Ye!=null),tt=Re[0];var Tr=Ye[0];for(t(ft!=null),t(Mt!=null),ft[0]=null,it[0]=null,Mt[0]=0;;){if(Re[0]=tt,Ye[0]=Tr,8>Tr){Re=7;break e}var Ln=Ce(Et,tt+4);if(4294967286<Ln){Re=3;break e}var gr=8+Ln+1&-2;if(mr+=gr,0<Ot&&mr>Ot){Re=3;break e}if(!r(Et,tt,"VP8 ")||!r(Et,tt,"VP8L")){Re=0;break e}if(Tr[0]<gr){Re=7;break e}r(Et,tt,"ALPH")||(ft[0]=Et,it[0]=tt+8,Mt[0]=Ln),tt+=gr,Tr-=gr}}if(U=U[0],Oe.na=Oe.na[0],Oe.P=Oe.P[0],Oe.Sa=Oe.Sa[0],Re!=0)break}U=[U],Oe.Ja=[Oe.Ja],Oe.xa=[Oe.xa];e:if(Ot=N,Re=j,Ye=U,ft=Oe.gb[0],it=Oe.Ja,Mt=Oe.xa,Et=Re[0],tt=!r(Ot,Et,"VP8 "),mr=!r(Ot,Et,"VP8L"),t(Ot!=null),t(Ye!=null),t(it!=null),t(Mt!=null),8>Ye[0])Re=7;else{if(tt||mr){if(Ot=Ce(Ot,Et+4),12<=ft&&Ot>ft-12){Re=3;break e}if(ye&&Ot>Ye[0]-8){Re=7;break e}it[0]=Ot,Re[0]+=8,Ye[0]-=8,Mt[0]=mr}else Mt[0]=5<=Ye[0]&&Ot[Et+0]==47&&!(Ot[Et+4]>>5),it[0]=Ye[0];Re=0}if(U=U[0],Oe.Ja=Oe.Ja[0],Oe.xa=Oe.xa[0],j=j[0],Re!=0)break;if(4294967286<Oe.Ja)return 3;if(fe==null||Qe||(fe[0]=Oe.xa?2:1),ie=[ie],Le=[Le],Oe.xa){if(5>U){Re=7;break}fe=ie,ye=Le,Qe=re,N==null||5>U?N=0:5<=U&&N[j+0]==47&&!(N[j+4]>>5)?(Ye=[0],Ot=[0],ft=[0],ue(it=new M,N,j,U),il(it,Ye,Ot,ft)?(fe!=null&&(fe[0]=Ye[0]),ye!=null&&(ye[0]=Ot[0]),Qe!=null&&(Qe[0]=ft[0]),N=1):N=0):N=0}else{if(10>U){Re=7;break}fe=Le,N==null||10>U||!Vi(N,j+3,U-3)?N=0:(ye=N[j+0]|N[j+1]<<8|N[j+2]<<16,Qe=16383&(N[j+7]<<8|N[j+6]),N=16383&(N[j+9]<<8|N[j+8]),1&ye||3<(ye>>1&7)||!(ye>>4&1)||ye>>5>=Oe.Ja||!Qe||!N?N=0:(ie&&(ie[0]=Qe),fe&&(fe[0]=N),N=1))}if(!N||(ie=ie[0],Le=Le[0],Ue&&(be[0]!=ie||ke[0]!=Le)))return 3;me!=null&&(me[0]=Oe,me.offset=j-me.w,t(4294967286>j-me.w),t(me.offset==me.ha-U));break}return Re==0||Re==7&&Ue&&me==null?(re!=null&&(re[0]|=Oe.na!=null&&0<Oe.na.length),H!=null&&(H[0]=ie),Q!=null&&(Q[0]=Le),0):Re}function rc(N,j,U){var H=j.width,Q=j.height,re=0,ie=0,fe=H,me=Q;if(j.Da=N!=null&&0<N.Da,j.Da&&(fe=N.cd,me=N.bd,re=N.v,ie=N.j,11>U||(re&=-2,ie&=-2),0>re||0>ie||0>=fe||0>=me||re+fe>H||ie+me>Q))return 0;if(j.v=re,j.j=ie,j.va=re+fe,j.o=ie+me,j.U=fe,j.T=me,j.da=N!=null&&0<N.da,j.da){if(!wt(fe,me,U=[N.ib],re=[N.hb]))return 0;j.ib=U[0],j.hb=re[0]}return j.ob=N!=null&&N.ob,j.Kb=N==null||!N.Sd,j.da&&(j.ob=j.ib<3*H/4&&j.hb<3*Q/4,j.Kb=0),1}function a0(N){if(N==null)return 2;if(11>N.S){var j=N.f.RGBA;j.fb+=(N.height-1)*j.A,j.A=-j.A}else j=N.f.kb,N=N.height,j.O+=(N-1)*j.fa,j.fa=-j.fa,j.N+=(N-1>>1)*j.Ab,j.Ab=-j.Ab,j.W+=(N-1>>1)*j.Db,j.Db=-j.Db,j.F!=null&&(j.J+=(N-1)*j.lb,j.lb=-j.lb);return 0}function Rl(N,j,U,H){if(H==null||0>=N||0>=j)return 2;if(U!=null){if(U.Da){var Q=U.cd,re=U.bd,ie=-2&U.v,fe=-2&U.j;if(0>ie||0>fe||0>=Q||0>=re||ie+Q>N||fe+re>j)return 2;N=Q,j=re}if(U.da){if(!wt(N,j,Q=[U.ib],re=[U.hb]))return 2;N=Q[0],j=re[0]}}H.width=N,H.height=j;e:{var me=H.width,be=H.height;if(N=H.S,0>=me||0>=be||!(N>=Th&&13>N))N=2;else{if(0>=H.Rd&&H.sd==null){ie=re=Q=j=0;var ke=(fe=me*Bh[N])*be;if(11>N||(re=(be+1)/2*(j=(me+1)/2),N==12&&(ie=(Q=me)*be)),(be=i(ke+2*re+ie))==null){N=1;break e}H.sd=be,11>N?((me=H.f.RGBA).eb=be,me.fb=0,me.A=fe,me.size=ke):((me=H.f.kb).y=be,me.O=0,me.fa=fe,me.Fd=ke,me.f=be,me.N=0+ke,me.Ab=j,me.Cd=re,me.ea=be,me.W=0+ke+re,me.Db=j,me.Ed=re,N==12&&(me.F=be,me.J=0+ke+2*re),me.Tc=ie,me.lb=Q)}if(j=1,Q=H.S,re=H.width,ie=H.height,Q>=Th&&13>Q)if(11>Q)N=H.f.RGBA,j&=(fe=Math.abs(N.A))*(ie-1)+re<=N.size,j&=fe>=re*Bh[Q],j&=N.eb!=null;else{N=H.f.kb,fe=(re+1)/2,ke=(ie+1)/2,me=Math.abs(N.fa),be=Math.abs(N.Ab);var Ue=Math.abs(N.Db),ye=Math.abs(N.lb),Oe=ye*(ie-1)+re;j&=me*(ie-1)+re<=N.Fd,j&=be*(ke-1)+fe<=N.Cd,j=(j&=Ue*(ke-1)+fe<=N.Ed)&me>=re&be>=fe&Ue>=fe,j&=N.y!=null,j&=N.f!=null,j&=N.ea!=null,Q==12&&(j&=ye>=re,j&=Oe<=N.Tc,j&=N.F!=null)}else j=0;N=j?0:2}}return N!=0||U!=null&&U.fd&&(N=a0(H)),N}var Uc=64,us=[0,1,3,7,15,31,63,127,255,511,1023,2047,4095,8191,16383,32767,65535,131071,262143,524287,1048575,2097151,4194303,8388607,16777215],Gi=24,ho=32,mo=8,nc=[0,0,1,1,2,2,2,2,3,3,3,3,3,3,3,3,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7];pt("Predictor0","PredictorAdd0"),B.Predictor0=function(){return 4278190080},B.Predictor1=function(N){return N},B.Predictor2=function(N,j,U){return j[U+0]},B.Predictor3=function(N,j,U){return j[U+1]},B.Predictor4=function(N,j,U){return j[U-1]},B.Predictor5=function(N,j,U){return Pt(Pt(N,j[U+1]),j[U+0])},B.Predictor6=function(N,j,U){return Pt(N,j[U-1])},B.Predictor7=function(N,j,U){return Pt(N,j[U+0])},B.Predictor8=function(N,j,U){return Pt(j[U-1],j[U+0])},B.Predictor9=function(N,j,U){return Pt(j[U+0],j[U+1])},B.Predictor10=function(N,j,U){return Pt(Pt(N,j[U-1]),Pt(j[U+0],j[U+1]))},B.Predictor11=function(N,j,U){var H=j[U+0];return 0>=Jt(H>>24&255,N>>24&255,(j=j[U-1])>>24&255)+Jt(H>>16&255,N>>16&255,j>>16&255)+Jt(H>>8&255,N>>8&255,j>>8&255)+Jt(255&H,255&N,255&j)?H:N},B.Predictor12=function(N,j,U){var H=j[U+0];return(Vt((N>>24&255)+(H>>24&255)-((j=j[U-1])>>24&255))<<24|Vt((N>>16&255)+(H>>16&255)-(j>>16&255))<<16|Vt((N>>8&255)+(H>>8&255)-(j>>8&255))<<8|Vt((255&N)+(255&H)-(255&j)))>>>0},B.Predictor13=function(N,j,U){var H=j[U-1];return(Zt((N=Pt(N,j[U+0]))>>24&255,H>>24&255)<<24|Zt(N>>16&255,H>>16&255)<<16|Zt(N>>8&255,H>>8&255)<<8|Zt(255&N,255&H))>>>0};var If=B.PredictorAdd0;B.PredictorAdd1=Dr,pt("Predictor2","PredictorAdd2"),pt("Predictor3","PredictorAdd3"),pt("Predictor4","PredictorAdd4"),pt("Predictor5","PredictorAdd5"),pt("Predictor6","PredictorAdd6"),pt("Predictor7","PredictorAdd7"),pt("Predictor8","PredictorAdd8"),pt("Predictor9","PredictorAdd9"),pt("Predictor10","PredictorAdd10"),pt("Predictor11","PredictorAdd11"),pt("Predictor12","PredictorAdd12"),pt("Predictor13","PredictorAdd13");var Bf=B.PredictorAdd2;jt("ColorIndexInverseTransform","MapARGB","32b",function(N){return N>>8&255},function(N){return N}),jt("VP8LColorIndexInverseTransformAlpha","MapAlpha","8b",function(N){return N},function(N){return N>>8&255});var ya,Eh=B.ColorIndexInverseTransform,po=B.MapARGB,xo=B.VP8LColorIndexInverseTransformAlpha,fi=B.MapAlpha,ac=B.VP8LPredictorsAdd=[];ac.length=16,(B.VP8LPredictors=[]).length=16,(B.VP8LPredictorsAdd_C=[]).length=16,(B.VP8LPredictors_C=[]).length=16;var Uf,zf,ic,sc,go,ju,Bs,lc,Ci,ol,Kr,Ur,An,ba,vo,Il,Au,i0,yp,Yg,Xg,Qg,bp,wp,Eu,cl,s0,Us,ku=i(511),kh=i(2041),l0=i(225),o0=i(767),Ch=0,oc=kh,c0=l0,Ti=o0,di=ku,Th=0,Oi=1,Oh=2,ul=3,u0=4,qf=5,zc=6,f0=7,Dh=8,$f=9,Ph=10,fl=[2,3,7],Hf=[3,3,11],Cu=[280,256,256,256,40],Fh=[0,1,1,1,0],d0=[17,18,0,1,2,3,4,5,16,6,7,8,9,10,11,12,13,14,15],dl=[24,7,23,25,40,6,39,41,22,26,38,42,56,5,55,57,21,27,54,58,37,43,72,4,71,73,20,28,53,59,70,74,36,44,88,69,75,52,60,3,87,89,19,29,86,90,35,45,68,76,85,91,51,61,104,2,103,105,18,30,102,106,34,46,84,92,67,77,101,107,50,62,120,1,119,121,83,93,17,31,100,108,66,78,118,122,33,47,117,123,49,63,99,109,82,94,0,116,124,65,79,16,32,98,110,48,115,125,81,95,64,114,126,97,111,80,113,127,96,112],hl=[2954,2956,2958,2962,2970,2986,3018,3082,3212,3468,3980,5004],qc=8,ml=[4,5,6,7,8,9,10,10,11,12,13,14,15,16,17,17,18,19,20,20,21,21,22,22,23,23,24,25,25,26,27,28,29,30,31,32,33,34,35,36,37,37,38,39,40,41,42,43,44,45,46,46,47,48,49,50,51,52,53,54,55,56,57,58,59,60,61,62,63,64,65,66,67,68,69,70,71,72,73,74,75,76,76,77,78,79,80,81,82,83,84,85,86,87,88,89,91,93,95,96,98,100,101,102,104,106,108,110,112,114,116,118,122,124,126,128,130,132,134,136,138,140,143,145,148,151,154,157],pl=[4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33,34,35,36,37,38,39,40,41,42,43,44,45,46,47,48,49,50,51,52,53,54,55,56,57,58,60,62,64,66,68,70,72,74,76,78,80,82,84,86,88,90,92,94,96,98,100,102,104,106,108,110,112,114,116,119,122,125,128,131,134,137,140,143,146,149,152,155,158,161,164,167,170,173,177,181,185,189,193,197,201,205,209,213,217,221,225,229,234,239,245,249,254,259,264,269,274,279,284],zs=null,Zg=[[173,148,140,0],[176,155,140,135,0],[180,157,141,134,130,0],[254,254,243,230,196,177,153,140,133,130,129,0]],_p=[0,1,4,8,5,2,3,6,9,12,13,10,7,11,14,15],Lh=[-0,1,-1,2,-2,3,4,6,-3,5,-4,-5,-6,7,-7,8,-8,-9],Jg=[[[[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128]],[[253,136,254,255,228,219,128,128,128,128,128],[189,129,242,255,227,213,255,219,128,128,128],[106,126,227,252,214,209,255,255,128,128,128]],[[1,98,248,255,236,226,255,255,128,128,128],[181,133,238,254,221,234,255,154,128,128,128],[78,134,202,247,198,180,255,219,128,128,128]],[[1,185,249,255,243,255,128,128,128,128,128],[184,150,247,255,236,224,128,128,128,128,128],[77,110,216,255,236,230,128,128,128,128,128]],[[1,101,251,255,241,255,128,128,128,128,128],[170,139,241,252,236,209,255,255,128,128,128],[37,116,196,243,228,255,255,255,128,128,128]],[[1,204,254,255,245,255,128,128,128,128,128],[207,160,250,255,238,128,128,128,128,128,128],[102,103,231,255,211,171,128,128,128,128,128]],[[1,152,252,255,240,255,128,128,128,128,128],[177,135,243,255,234,225,128,128,128,128,128],[80,129,211,255,194,224,128,128,128,128,128]],[[1,1,255,128,128,128,128,128,128,128,128],[246,1,255,128,128,128,128,128,128,128,128],[255,128,128,128,128,128,128,128,128,128,128]]],[[[198,35,237,223,193,187,162,160,145,155,62],[131,45,198,221,172,176,220,157,252,221,1],[68,47,146,208,149,167,221,162,255,223,128]],[[1,149,241,255,221,224,255,255,128,128,128],[184,141,234,253,222,220,255,199,128,128,128],[81,99,181,242,176,190,249,202,255,255,128]],[[1,129,232,253,214,197,242,196,255,255,128],[99,121,210,250,201,198,255,202,128,128,128],[23,91,163,242,170,187,247,210,255,255,128]],[[1,200,246,255,234,255,128,128,128,128,128],[109,178,241,255,231,245,255,255,128,128,128],[44,130,201,253,205,192,255,255,128,128,128]],[[1,132,239,251,219,209,255,165,128,128,128],[94,136,225,251,218,190,255,255,128,128,128],[22,100,174,245,186,161,255,199,128,128,128]],[[1,182,249,255,232,235,128,128,128,128,128],[124,143,241,255,227,234,128,128,128,128,128],[35,77,181,251,193,211,255,205,128,128,128]],[[1,157,247,255,236,231,255,255,128,128,128],[121,141,235,255,225,227,255,255,128,128,128],[45,99,188,251,195,217,255,224,128,128,128]],[[1,1,251,255,213,255,128,128,128,128,128],[203,1,248,255,255,128,128,128,128,128,128],[137,1,177,255,224,255,128,128,128,128,128]]],[[[253,9,248,251,207,208,255,192,128,128,128],[175,13,224,243,193,185,249,198,255,255,128],[73,17,171,221,161,179,236,167,255,234,128]],[[1,95,247,253,212,183,255,255,128,128,128],[239,90,244,250,211,209,255,255,128,128,128],[155,77,195,248,188,195,255,255,128,128,128]],[[1,24,239,251,218,219,255,205,128,128,128],[201,51,219,255,196,186,128,128,128,128,128],[69,46,190,239,201,218,255,228,128,128,128]],[[1,191,251,255,255,128,128,128,128,128,128],[223,165,249,255,213,255,128,128,128,128,128],[141,124,248,255,255,128,128,128,128,128,128]],[[1,16,248,255,255,128,128,128,128,128,128],[190,36,230,255,236,255,128,128,128,128,128],[149,1,255,128,128,128,128,128,128,128,128]],[[1,226,255,128,128,128,128,128,128,128,128],[247,192,255,128,128,128,128,128,128,128,128],[240,128,255,128,128,128,128,128,128,128,128]],[[1,134,252,255,255,128,128,128,128,128,128],[213,62,250,255,255,128,128,128,128,128,128],[55,93,255,128,128,128,128,128,128,128,128]],[[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128]]],[[[202,24,213,235,186,191,220,160,240,175,255],[126,38,182,232,169,184,228,174,255,187,128],[61,46,138,219,151,178,240,170,255,216,128]],[[1,112,230,250,199,191,247,159,255,255,128],[166,109,228,252,211,215,255,174,128,128,128],[39,77,162,232,172,180,245,178,255,255,128]],[[1,52,220,246,198,199,249,220,255,255,128],[124,74,191,243,183,193,250,221,255,255,128],[24,71,130,219,154,170,243,182,255,255,128]],[[1,182,225,249,219,240,255,224,128,128,128],[149,150,226,252,216,205,255,171,128,128,128],[28,108,170,242,183,194,254,223,255,255,128]],[[1,81,230,252,204,203,255,192,128,128,128],[123,102,209,247,188,196,255,233,128,128,128],[20,95,153,243,164,173,255,203,128,128,128]],[[1,222,248,255,216,213,128,128,128,128,128],[168,175,246,252,235,205,255,255,128,128,128],[47,116,215,255,211,212,255,255,128,128,128]],[[1,121,236,253,212,214,255,255,128,128,128],[141,84,213,252,201,202,255,219,128,128,128],[42,80,160,240,162,185,255,205,128,128,128]],[[1,1,255,128,128,128,128,128,128,128,128],[244,1,255,128,128,128,128,128,128,128,128],[238,1,255,128,128,128,128,128,128,128,128]]]],hi=[[[231,120,48,89,115,113,120,152,112],[152,179,64,126,170,118,46,70,95],[175,69,143,80,85,82,72,155,103],[56,58,10,171,218,189,17,13,152],[114,26,17,163,44,195,21,10,173],[121,24,80,195,26,62,44,64,85],[144,71,10,38,171,213,144,34,26],[170,46,55,19,136,160,33,206,71],[63,20,8,114,114,208,12,9,226],[81,40,11,96,182,84,29,16,36]],[[134,183,89,137,98,101,106,165,148],[72,187,100,130,157,111,32,75,80],[66,102,167,99,74,62,40,234,128],[41,53,9,178,241,141,26,8,107],[74,43,26,146,73,166,49,23,157],[65,38,105,160,51,52,31,115,128],[104,79,12,27,217,255,87,17,7],[87,68,71,44,114,51,15,186,23],[47,41,14,110,182,183,21,17,194],[66,45,25,102,197,189,23,18,22]],[[88,88,147,150,42,46,45,196,205],[43,97,183,117,85,38,35,179,61],[39,53,200,87,26,21,43,232,171],[56,34,51,104,114,102,29,93,77],[39,28,85,171,58,165,90,98,64],[34,22,116,206,23,34,43,166,73],[107,54,32,26,51,1,81,43,31],[68,25,106,22,64,171,36,225,114],[34,19,21,102,132,188,16,76,124],[62,18,78,95,85,57,50,48,51]],[[193,101,35,159,215,111,89,46,111],[60,148,31,172,219,228,21,18,111],[112,113,77,85,179,255,38,120,114],[40,42,1,196,245,209,10,25,109],[88,43,29,140,166,213,37,43,154],[61,63,30,155,67,45,68,1,209],[100,80,8,43,154,1,51,26,71],[142,78,78,16,255,128,34,197,171],[41,40,5,102,211,183,4,1,221],[51,50,17,168,209,192,23,25,82]],[[138,31,36,171,27,166,38,44,229],[67,87,58,169,82,115,26,59,179],[63,59,90,180,59,166,93,73,154],[40,40,21,116,143,209,34,39,175],[47,15,16,183,34,223,49,45,183],[46,17,33,183,6,98,15,32,183],[57,46,22,24,128,1,54,17,37],[65,32,73,115,28,128,23,128,205],[40,3,9,115,51,192,18,6,223],[87,37,9,115,59,77,64,21,47]],[[104,55,44,218,9,54,53,130,226],[64,90,70,205,40,41,23,26,57],[54,57,112,184,5,41,38,166,213],[30,34,26,133,152,116,10,32,134],[39,19,53,221,26,114,32,73,255],[31,9,65,234,2,15,1,118,73],[75,32,12,51,192,255,160,43,51],[88,31,35,67,102,85,55,186,85],[56,21,23,111,59,205,45,37,192],[55,38,70,124,73,102,1,34,98]],[[125,98,42,88,104,85,117,175,82],[95,84,53,89,128,100,113,101,45],[75,79,123,47,51,128,81,171,1],[57,17,5,71,102,57,53,41,49],[38,33,13,121,57,73,26,1,85],[41,10,67,138,77,110,90,47,114],[115,21,2,10,102,255,166,23,6],[101,29,16,10,85,128,101,196,26],[57,18,10,102,102,213,34,20,43],[117,20,15,36,163,128,68,1,26]],[[102,61,71,37,34,53,31,243,192],[69,60,71,38,73,119,28,222,37],[68,45,128,34,1,47,11,245,171],[62,17,19,70,146,85,55,62,70],[37,43,37,154,100,163,85,160,1],[63,9,92,136,28,64,32,201,85],[75,15,9,9,64,255,184,119,16],[86,6,28,5,64,255,25,248,1],[56,8,17,132,137,255,55,116,128],[58,15,20,82,135,57,26,121,40]],[[164,50,31,137,154,133,25,35,218],[51,103,44,131,131,123,31,6,158],[86,40,64,135,148,224,45,183,128],[22,26,17,131,240,154,14,1,209],[45,16,21,91,64,222,7,1,197],[56,21,39,155,60,138,23,102,213],[83,12,13,54,192,255,68,47,28],[85,26,85,85,128,128,32,146,171],[18,11,7,63,144,171,4,4,246],[35,27,10,146,174,171,12,26,128]],[[190,80,35,99,180,80,126,54,45],[85,126,47,87,176,51,41,20,32],[101,75,128,139,118,146,116,128,85],[56,41,15,176,236,85,37,9,62],[71,30,17,119,118,255,17,18,138],[101,38,60,138,55,70,43,26,142],[146,36,19,30,171,255,97,27,20],[138,45,61,62,219,1,81,188,64],[32,41,20,117,151,142,20,21,163],[112,19,12,61,195,128,48,4,24]]],Fn=[[[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[176,246,255,255,255,255,255,255,255,255,255],[223,241,252,255,255,255,255,255,255,255,255],[249,253,253,255,255,255,255,255,255,255,255]],[[255,244,252,255,255,255,255,255,255,255,255],[234,254,254,255,255,255,255,255,255,255,255],[253,255,255,255,255,255,255,255,255,255,255]],[[255,246,254,255,255,255,255,255,255,255,255],[239,253,254,255,255,255,255,255,255,255,255],[254,255,254,255,255,255,255,255,255,255,255]],[[255,248,254,255,255,255,255,255,255,255,255],[251,255,254,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,253,254,255,255,255,255,255,255,255,255],[251,254,254,255,255,255,255,255,255,255,255],[254,255,254,255,255,255,255,255,255,255,255]],[[255,254,253,255,254,255,255,255,255,255,255],[250,255,254,255,254,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]],[[[217,255,255,255,255,255,255,255,255,255,255],[225,252,241,253,255,255,254,255,255,255,255],[234,250,241,250,253,255,253,254,255,255,255]],[[255,254,255,255,255,255,255,255,255,255,255],[223,254,254,255,255,255,255,255,255,255,255],[238,253,254,254,255,255,255,255,255,255,255]],[[255,248,254,255,255,255,255,255,255,255,255],[249,254,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,253,255,255,255,255,255,255,255,255,255],[247,254,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,253,254,255,255,255,255,255,255,255,255],[252,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,254,254,255,255,255,255,255,255,255,255],[253,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,254,253,255,255,255,255,255,255,255,255],[250,255,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]],[[[186,251,250,255,255,255,255,255,255,255,255],[234,251,244,254,255,255,255,255,255,255,255],[251,251,243,253,254,255,254,255,255,255,255]],[[255,253,254,255,255,255,255,255,255,255,255],[236,253,254,255,255,255,255,255,255,255,255],[251,253,253,254,254,255,255,255,255,255,255]],[[255,254,254,255,255,255,255,255,255,255,255],[254,254,254,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,254,255,255,255,255,255,255,255,255,255],[254,254,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]],[[[248,255,255,255,255,255,255,255,255,255,255],[250,254,252,254,255,255,255,255,255,255,255],[248,254,249,253,255,255,255,255,255,255,255]],[[255,253,253,255,255,255,255,255,255,255,255],[246,253,253,255,255,255,255,255,255,255,255],[252,254,251,254,254,255,255,255,255,255,255]],[[255,254,252,255,255,255,255,255,255,255,255],[248,254,253,255,255,255,255,255,255,255,255],[253,255,254,254,255,255,255,255,255,255,255]],[[255,251,254,255,255,255,255,255,255,255,255],[245,251,254,255,255,255,255,255,255,255,255],[253,253,254,255,255,255,255,255,255,255,255]],[[255,251,253,255,255,255,255,255,255,255,255],[252,253,254,255,255,255,255,255,255,255,255],[255,254,255,255,255,255,255,255,255,255,255]],[[255,252,255,255,255,255,255,255,255,255,255],[249,255,254,255,255,255,255,255,255,255,255],[255,255,254,255,255,255,255,255,255,255,255]],[[255,255,253,255,255,255,255,255,255,255,255],[250,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]]],Fr=[0,1,2,3,6,4,5,6,6,6,6,6,6,6,6,7,0],Ki=[],na=[],Bl=[],$c=1,Np=2,cc=[],mi=[];cs("UpsampleRgbLinePair",Su,3),cs("UpsampleBgrLinePair",Rc,3),cs("UpsampleRgbaLinePair",fo,4),cs("UpsampleBgraLinePair",Mf,4),cs("UpsampleArgbLinePair",Bc,4),cs("UpsampleRgba4444LinePair",Ic,2),cs("UpsampleRgb565LinePair",ui,2);var Tu=B.UpsampleRgbLinePair,Sp=B.UpsampleBgrLinePair,Vf=B.UpsampleRgbaLinePair,Mh=B.UpsampleBgraLinePair,Hc=B.UpsampleArgbLinePair,yo=B.UpsampleRgba4444LinePair,Vc=B.UpsampleRgb565LinePair,xl=16,Wf=1<<xl-1,Ou=-227,Wc=482,Rh=6,Gc=0,pi=i(256),Ih=i(256),e1=i(256),eb=i(256),tb=i(Wc-Ou),rb=i(Wc-Ou);tc("YuvToRgbRow",Su,3),tc("YuvToBgrRow",Rc,3),tc("YuvToRgbaRow",fo,4),tc("YuvToBgraRow",Mf,4),tc("YuvToArgbRow",Bc,4),tc("YuvToRgba4444Row",Ic,2),tc("YuvToRgb565Row",ui,2);var wa=[0,4,8,12,128,132,136,140,256,260,264,268,384,388,392,396],Gf=[0,2,8],h0=[8,7,6,4,4,2,2,2,1,1,1,1],m0=1;this.WebPDecodeRGBA=function(N,j,U,H,Q){var re=Oi,ie=new Pe,fe=new qr;ie.ba=fe,fe.S=re,fe.width=[fe.width],fe.height=[fe.height];var me=fe.width,be=fe.height,ke=new Wt;if(ke==null||N==null)var Ue=2;else t(ke!=null),Ue=Ml(N,j,U,ke.width,ke.height,ke.Pd,ke.Qd,ke.format,null);if(Ue!=0?me=0:(me!=null&&(me[0]=ke.width[0]),be!=null&&(be[0]=ke.height[0]),me=1),me){fe.width=fe.width[0],fe.height=fe.height[0],H!=null&&(H[0]=fe.width),Q!=null&&(Q[0]=fe.height);e:{if(H=new Ba,(Q=new et).data=N,Q.w=j,Q.ha=U,Q.kd=1,j=[0],t(Q!=null),((N=Ml(Q.data,Q.w,Q.ha,null,null,null,j,null,Q))==0||N==7)&&j[0]&&(N=4),(j=N)==0){if(t(ie!=null),H.data=Q.data,H.w=Q.w+Q.offset,H.ha=Q.ha-Q.offset,H.put=Gt,H.ac=os,H.bc=Tl,H.ma=ie,Q.xa){if((N=Ie())==null){ie=1;break e}if((function(ye,Oe){var Le=[0],Qe=[0],Re=[0];t:for(;;){if(ye==null)return 0;if(Oe==null)return ye.a=2,0;if(ye.l=Oe,ye.a=0,ue(ye.m,Oe.data,Oe.w,Oe.ha),!il(ye.m,Le,Qe,Re)){ye.a=3;break t}if(ye.xb=Np,Oe.width=Le[0],Oe.height=Qe[0],!Be(Le[0],Qe[0],1,ye,null))break t;return 1}return t(ye.a!=0),0})(N,H)){if(H=(j=Rl(H.width,H.height,ie.Oa,ie.ba))==0){t:{H=N;r:for(;;){if(H==null){H=0;break t}if(t(H.s.yc!=null),t(H.s.Ya!=null),t(0<H.s.Wb),t((U=H.l)!=null),t((Q=U.ma)!=null),H.xb!=0){if(H.ca=Q.ba,H.tb=Q.tb,t(H.ca!=null),!rc(Q.Oa,U,ul)){H.a=2;break r}if(!ze(H,U.width)||U.da)break r;if((U.da||fr(H.ca.S))&&ll(),11>H.ca.S||(alert("todo:WebPInitConvertARGBToYUV"),H.ca.f.kb.F!=null&&ll()),H.Pb&&0<H.s.ua&&H.s.vb.X==null&&!xe(H.s.vb,H.s.Wa.Xa)){H.a=1;break r}H.xb=0}if(!Me(H,H.V,H.Ba,H.c,H.i,U.o,de))break r;Q.Dc=H.Ma,H=1;break t}t(H.a!=0),H=0}H=!H}H&&(j=N.a)}else j=N.a}else{if((N=new Of)==null){ie=1;break e}if(N.Fa=Q.na,N.P=Q.P,N.qc=Q.Sa,Gd(N,H)){if((j=Rl(H.width,H.height,ie.Oa,ie.ba))==0){if(N.Aa=0,U=ie.Oa,t((Q=N)!=null),U!=null){if(0<(me=0>(me=U.Md)?0:100<me?255:255*me/100)){for(be=ke=0;4>be;++be)12>(Ue=Q.pb[be]).lc&&(Ue.ia=me*h0[0>Ue.lc?0:Ue.lc]>>3),ke|=Ue.ia;ke&&(alert("todo:VP8InitRandom"),Q.ia=1)}Q.Ga=U.Id,100<Q.Ga?Q.Ga=100:0>Q.Ga&&(Q.Ga=0)}(function(ye,Oe){if(ye==null)return 0;if(Oe==null)return dn(ye,2,"NULL VP8Io parameter in VP8Decode().");if(!ye.cb&&!Gd(ye,Oe))return 0;if(t(ye.cb),Oe.ac==null||Oe.ac(Oe)){Oe.ob&&(ye.L=0);var Le=Gf[ye.L];if(ye.L==2?(ye.yb=0,ye.zb=0):(ye.yb=Oe.v-Le>>4,ye.zb=Oe.j-Le>>4,0>ye.yb&&(ye.yb=0),0>ye.zb&&(ye.zb=0)),ye.Va=Oe.o+15+Le>>4,ye.Hb=Oe.va+15+Le>>4,ye.Hb>ye.za&&(ye.Hb=ye.za),ye.Va>ye.Ub&&(ye.Va=ye.Ub),0<ye.L){var Qe=ye.ed;for(Le=0;4>Le;++Le){var Re;if(ye.Qa.Cb){var Ye=ye.Qa.Lb[Le];ye.Qa.Fb||(Ye+=Qe.Tb)}else Ye=Qe.Tb;for(Re=0;1>=Re;++Re){var tt=ye.gd[Le][Re],ft=Ye;if(Qe.Pc&&(ft+=Qe.vd[0],Re&&(ft+=Qe.od[0])),0<(ft=0>ft?0:63<ft?63:ft)){var it=ft;0<Qe.wb&&(it=4<Qe.wb?it>>2:it>>1)>9-Qe.wb&&(it=9-Qe.wb),1>it&&(it=1),tt.dd=it,tt.tc=2*ft+it,tt.ld=40<=ft?2:15<=ft?1:0}else tt.tc=0;tt.La=Re}}}Le=0}else dn(ye,6,"Frame setup failed"),Le=ye.a;if(Le=Le==0){if(Le){ye.$c=0,0<ye.Aa||(ye.Ic=m0);t:{Le=ye.Ic,Qe=4*(it=ye.za);var Mt=32*it,Et=it+1,mr=0<ye.L?it*(0<ye.Aa?2:1):0,Ot=(ye.Aa==2?2:1)*it;if((tt=Qe+832+(Re=3*(16*Le+Gf[ye.L])/2*Mt)+(Ye=ye.Fa!=null&&0<ye.Fa.length?ye.Kc.c*ye.Kc.i:0))!=tt)Le=0;else{if(tt>ye.Vb){if(ye.Vb=0,ye.Ec=i(tt),ye.Fc=0,ye.Ec==null){Le=dn(ye,1,"no memory during frame initialization.");break t}ye.Vb=tt}tt=ye.Ec,ft=ye.Fc,ye.Ac=tt,ye.Bc=ft,ft+=Qe,ye.Gd=l(Mt,Ps),ye.Hd=0,ye.rb=l(Et+1,fn),ye.sb=1,ye.wa=mr?l(mr,kr):null,ye.Y=0,ye.D.Nb=0,ye.D.wa=ye.wa,ye.D.Y=ye.Y,0<ye.Aa&&(ye.D.Y+=it),t(!0),ye.oc=tt,ye.pc=ft,ft+=832,ye.ya=l(Ot,Ol),ye.aa=0,ye.D.ya=ye.ya,ye.D.aa=ye.aa,ye.Aa==2&&(ye.D.aa+=it),ye.R=16*it,ye.B=8*it,it=(Mt=Gf[ye.L])*ye.R,Mt=Mt/2*ye.B,ye.sa=tt,ye.ta=ft+it,ye.qa=ye.sa,ye.ra=ye.ta+16*Le*ye.R+Mt,ye.Ha=ye.qa,ye.Ia=ye.ra+8*Le*ye.B+Mt,ye.$c=0,ft+=Re,ye.mb=Ye?tt:null,ye.nb=Ye?ft:null,t(ft+Ye<=ye.Fc+ye.Vb),Ko(ye),a(ye.Ac,ye.Bc,0,Qe),Le=1}}if(Le){if(Oe.ka=0,Oe.y=ye.sa,Oe.O=ye.ta,Oe.f=ye.qa,Oe.N=ye.ra,Oe.ea=ye.Ha,Oe.Vd=ye.Ia,Oe.fa=ye.R,Oe.Rc=ye.B,Oe.F=null,Oe.J=0,!Ch){for(Le=-255;255>=Le;++Le)ku[255+Le]=0>Le?-Le:Le;for(Le=-1020;1020>=Le;++Le)kh[1020+Le]=-128>Le?-128:127<Le?127:Le;for(Le=-112;112>=Le;++Le)l0[112+Le]=-16>Le?-16:15<Le?15:Le;for(Le=-255;510>=Le;++Le)o0[255+Le]=0>Le?0:255<Le?255:Le;Ch=1}Bs=Qd,lc=vh,ol=Yd,Kr=Wi,Ur=Xd,Ci=Kd,An=Nh,ba=Sh,vo=L,Il=Y,Au=ec,i0=jh,yp=_e,Yg=Ee,Xg=wu,Qg=Zo,bp=Mc,wp=_u,na[0]=t0,na[1]=Zd,na[2]=Lc,na[3]=wh,na[4]=_h,na[5]=oi,na[6]=Ls,na[7]=r0,na[8]=Ms,na[9]=vu,Ki[0]=Pl,Ki[1]=bh,Ki[2]=Jd,Ki[3]=e0,Ki[4]=Fl,Ki[5]=Yo,Ki[6]=gu,Bl[0]=Xo,Bl[1]=yh,Bl[2]=yu,Bl[3]=lo,Bl[4]=Pf,Bl[5]=Df,Bl[6]=Qa,Le=1}else Le=0}Le&&(Le=(function(Tr,Ln){for(Tr.M=0;Tr.M<Tr.Va;++Tr.M){var gr,kt=Tr.Jc[Tr.M&Tr.Xb],bt=Tr.m,Vn=Tr;for(gr=0;gr<Vn.za;++gr){var sr=bt,wr=Vn,ln=wr.Ac,za=wr.Bc+4*gr,xi=wr.zc,En=wr.ya[wr.aa+gr];if(wr.Qa.Bb?En.$b=Se(sr,wr.Pa.jb[0])?2+Se(sr,wr.Pa.jb[2]):Se(sr,wr.Pa.jb[1]):En.$b=0,wr.kc&&(En.Ad=Se(sr,wr.Bd)),En.Za=!Se(sr,145)+0,En.Za){var Ea=En.Ob,Di=0;for(wr=0;4>wr;++wr){var ka,Er=xi[0+wr];for(ka=0;4>ka;++ka){Er=hi[ln[za+ka]][Er];for(var $r=Lh[Se(sr,Er[0])];0<$r;)$r=Lh[2*$r+Se(sr,Er[$r])];Er=-$r,ln[za+ka]=Er}n(Ea,Di,ln,za,4),Di+=4,xi[0+wr]=Er}}else Er=Se(sr,156)?Se(sr,128)?1:3:Se(sr,163)?2:0,En.Ob[0]=Er,a(ln,za,Er,4),a(xi,0,Er,4);En.Dd=Se(sr,142)?Se(sr,114)?Se(sr,183)?1:3:2:0}if(Vn.m.Ka)return dn(Tr,7,"Premature end-of-partition0 encountered.");for(;Tr.ja<Tr.za;++Tr.ja){if(Vn=kt,sr=(bt=Tr).rb[bt.sb-1],ln=bt.rb[bt.sb+bt.ja],gr=bt.ya[bt.aa+bt.ja],za=bt.kc?gr.Ad:0)sr.la=ln.la=0,gr.Za||(sr.Na=ln.Na=0),gr.Hc=0,gr.Gc=0,gr.ia=0;else{var Wn,Yr;if(sr=ln,ln=Vn,za=bt.Pa.Xc,xi=bt.ya[bt.aa+bt.ja],En=bt.pb[xi.$b],wr=xi.ad,Ea=0,Di=bt.rb[bt.sb-1],Er=ka=0,a(wr,Ea,0,384),xi.Za)var qa=0,Gn=za[3];else{$r=i(16);var Hr=sr.Na+Di.Na;if(Hr=zs(ln,za[1],Hr,En.Eb,0,$r,0),sr.Na=Di.Na=(0<Hr)+0,1<Hr)Bs($r,0,wr,Ea);else{var _a=$r[0]+3>>3;for($r=0;256>$r;$r+=16)wr[Ea+$r]=_a}qa=1,Gn=za[0]}var on=15&sr.la,Ca=15&Di.la;for($r=0;4>$r;++$r){var Ta=1&Ca;for(_a=Yr=0;4>_a;++_a)on=on>>1|(Ta=(Hr=zs(ln,Gn,Hr=Ta+(1&on),En.Sc,qa,wr,Ea))>qa)<<7,Yr=Yr<<2|(3<Hr?3:1<Hr?2:wr[Ea+0]!=0),Ea+=16;on>>=4,Ca=Ca>>1|Ta<<7,ka=(ka<<8|Yr)>>>0}for(Gn=on,qa=Ca>>4,Wn=0;4>Wn;Wn+=2){for(Yr=0,on=sr.la>>4+Wn,Ca=Di.la>>4+Wn,$r=0;2>$r;++$r){for(Ta=1&Ca,_a=0;2>_a;++_a)Hr=Ta+(1&on),on=on>>1|(Ta=0<(Hr=zs(ln,za[2],Hr,En.Qc,0,wr,Ea)))<<3,Yr=Yr<<2|(3<Hr?3:1<Hr?2:wr[Ea+0]!=0),Ea+=16;on>>=2,Ca=Ca>>1|Ta<<5}Er|=Yr<<4*Wn,Gn|=on<<4<<Wn,qa|=(240&Ca)<<Wn}sr.la=Gn,Di.la=qa,xi.Hc=ka,xi.Gc=Er,xi.ia=43690&Er?0:En.ia,za=!(ka|Er)}if(0<bt.L&&(bt.wa[bt.Y+bt.ja]=bt.gd[gr.$b][gr.Za],bt.wa[bt.Y+bt.ja].La|=!za),Vn.Ka)return dn(Tr,7,"Premature end-of-file encountered.")}if(Ko(Tr),bt=Ln,Vn=1,gr=(kt=Tr).D,sr=0<kt.L&&kt.M>=kt.zb&&kt.M<=kt.Va,kt.Aa==0)t:{if(gr.M=kt.M,gr.uc=sr,Is(kt,gr),Vn=1,gr=(Yr=kt.D).Nb,sr=(Er=Gf[kt.L])*kt.R,ln=Er/2*kt.B,$r=16*gr*kt.R,_a=8*gr*kt.B,za=kt.sa,xi=kt.ta-sr+$r,En=kt.qa,wr=kt.ra-ln+_a,Ea=kt.Ha,Di=kt.Ia-ln+_a,Ca=(on=Yr.M)==0,ka=on>=kt.Va-1,kt.Aa==2&&Is(kt,Yr),Yr.uc)for(Ta=(Hr=kt).D.M,t(Hr.D.uc),Yr=Hr.yb;Yr<Hr.Hb;++Yr){qa=Yr,Gn=Ta;var xn=(zr=(Oa=Hr).D).Nb;Wn=Oa.R;var zr=zr.wa[zr.Y+qa],Pi=Oa.sa,aa=Oa.ta+16*xn*Wn+16*qa,Xt=zr.dd,tr=zr.tc;if(tr!=0)if(t(3<=tr),Oa.L==1)0<qa&&Qg(Pi,aa,Wn,tr+4),zr.La&&wp(Pi,aa,Wn,tr),0<Gn&&Xg(Pi,aa,Wn,tr+4),zr.La&&bp(Pi,aa,Wn,tr);else{var Vr=Oa.B,fs=Oa.qa,gl=Oa.ra+8*xn*Vr+8*qa,Yi=Oa.Ha,Oa=Oa.Ia+8*xn*Vr+8*qa;xn=zr.ld,0<qa&&(ba(Pi,aa,Wn,tr+4,Xt,xn),Il(fs,gl,Yi,Oa,Vr,tr+4,Xt,xn)),zr.La&&(i0(Pi,aa,Wn,tr,Xt,xn),Yg(fs,gl,Yi,Oa,Vr,tr,Xt,xn)),0<Gn&&(An(Pi,aa,Wn,tr+4,Xt,xn),vo(fs,gl,Yi,Oa,Vr,tr+4,Xt,xn)),zr.La&&(Au(Pi,aa,Wn,tr,Xt,xn),yp(fs,gl,Yi,Oa,Vr,tr,Xt,xn))}}if(kt.ia&&alert("todo:DitherRow"),bt.put!=null){if(Yr=16*on,on=16*(on+1),Ca?(bt.y=kt.sa,bt.O=kt.ta+$r,bt.f=kt.qa,bt.N=kt.ra+_a,bt.ea=kt.Ha,bt.W=kt.Ia+_a):(Yr-=Er,bt.y=za,bt.O=xi,bt.f=En,bt.N=wr,bt.ea=Ea,bt.W=Di),ka||(on-=Er),on>bt.o&&(on=bt.o),bt.F=null,bt.J=null,kt.Fa!=null&&0<kt.Fa.length&&Yr<on&&(bt.J=va(kt,bt,Yr,on-Yr),bt.F=kt.mb,bt.F==null&&bt.F.length==0)){Vn=dn(kt,3,"Could not decode alpha data.");break t}Yr<bt.j&&(Er=bt.j-Yr,Yr=bt.j,t(!(1&Er)),bt.O+=kt.R*Er,bt.N+=kt.B*(Er>>1),bt.W+=kt.B*(Er>>1),bt.F!=null&&(bt.J+=bt.width*Er)),Yr<on&&(bt.O+=bt.v,bt.N+=bt.v>>1,bt.W+=bt.v>>1,bt.F!=null&&(bt.J+=bt.v),bt.ka=Yr-bt.j,bt.U=bt.va-bt.v,bt.T=on-Yr,Vn=bt.put(bt))}gr+1!=kt.Ic||ka||(n(kt.sa,kt.ta-sr,za,xi+16*kt.R,sr),n(kt.qa,kt.ra-ln,En,wr+8*kt.B,ln),n(kt.Ha,kt.Ia-ln,Ea,Di+8*kt.B,ln))}if(!Vn)return dn(Tr,6,"Output aborted.")}return 1})(ye,Oe)),Oe.bc!=null&&Oe.bc(Oe),Le&=1}return Le?(ye.cb=0,Le):0})(N,H)||(j=N.a)}}else j=N.a}j==0&&ie.Oa!=null&&ie.Oa.fd&&(j=a0(ie.ba))}ie=j}re=ie!=0?null:11>re?fe.f.RGBA.eb:fe.f.kb.y}else re=null;return re};var Bh=[3,4,3,4,4,2,2,4,4,4,2,1,1]};function u(B,G){for(var I="",z=0;z<4;z++)I+=String.fromCharCode(B[G++]);return I}function h(B,G){return B[G+0]|B[G+1]<<8}function p(B,G){return(B[G+0]|B[G+1]<<8|B[G+2]<<16)>>>0}function g(B,G){return(B[G+0]|B[G+1]<<8|B[G+2]<<16|B[G+3]<<24)>>>0}new f;var x=[0],b=[0],y=[],w=new f,_=e,E=(function(B,G){var I={},z=0,K=!1,J=0,pe=0;if(I.frames=[],!(function(F,M){for(var q=0;q<4;q++)if(F[M+q]!="RIFF".charCodeAt(q))return!0;return!1})(B,G)){for(g(B,G+=4),G+=8;G<B.length;){var ne=u(B,G),le=g(B,G+=4);G+=4;var ve=le+(1&le);switch(ne){case"VP8 ":case"VP8L":I.frames[z]===void 0&&(I.frames[z]={}),(te=I.frames[z]).src_off=K?pe:G-8,te.src_size=J+le+8,z++,K&&(K=!1,J=0,pe=0);break;case"VP8X":(te=I.header={}).feature_flags=B[G];var ue=G+4;te.canvas_width=1+p(B,ue),ue+=3,te.canvas_height=1+p(B,ue),ue+=3;break;case"ALPH":K=!0,J=ve+8,pe=G-8;break;case"ANIM":(te=I.header).bgcolor=g(B,G),ue=G+4,te.loop_count=h(B,ue),ue+=2;break;case"ANMF":var je,te;(te=I.frames[z]={}).offset_x=2*p(B,G),G+=3,te.offset_y=2*p(B,G),G+=3,te.width=1+p(B,G),G+=3,te.height=1+p(B,G),G+=3,te.duration=p(B,G),G+=3,je=B[G++],te.dispose=1&je,te.blend=je>>1&1}ne!="ANMF"&&(G+=ve)}return I}})(_,0);E.response=_,E.rgbaoutput=!0,E.dataurl=!1;var A=E.header?E.header:null,O=E.frames?E.frames:null;if(A){A.loop_counter=A.loop_count,x=[A.canvas_height],b=[A.canvas_width];for(var D=0;D<O.length&&O[D].blend!=0;D++);}var R=O[0],P=w.WebPDecodeRGBA(_,R.src_off,R.src_size,b,x);R.rgba=P,R.imgwidth=b[0],R.imgheight=x[0];for(var T=0;T<b[0]*x[0]*4;T++)y[T]=P[T];return this.width=b,this.height=x,this.data=y,this}(function(e){var t,r,n,a,i,l,o,f,u,h=function(F){return F=F||{},this.isStrokeTransparent=F.isStrokeTransparent||!1,this.strokeOpacity=F.strokeOpacity||1,this.strokeStyle=F.strokeStyle||"#000000",this.fillStyle=F.fillStyle||"#000000",this.isFillTransparent=F.isFillTransparent||!1,this.fillOpacity=F.fillOpacity||1,this.font=F.font||"10px sans-serif",this.textBaseline=F.textBaseline||"alphabetic",this.textAlign=F.textAlign||"left",this.lineWidth=F.lineWidth||1,this.lineJoin=F.lineJoin||"miter",this.lineCap=F.lineCap||"butt",this.path=F.path||[],this.transform=F.transform!==void 0?F.transform.clone():new f,this.globalCompositeOperation=F.globalCompositeOperation||"normal",this.globalAlpha=F.globalAlpha||1,this.clip_path=F.clip_path||[],this.currentPoint=F.currentPoint||new l,this.miterLimit=F.miterLimit||10,this.lastPoint=F.lastPoint||new l,this.lineDashOffset=F.lineDashOffset||0,this.lineDash=F.lineDash||[],this.margin=F.margin||[0,0,0,0],this.prevPageLastElemOffset=F.prevPageLastElemOffset||0,this.ignoreClearRect=typeof F.ignoreClearRect!="boolean"||F.ignoreClearRect,this};e.events.push(["initialized",function(){this.context2d=new p(this),t=this.internal.f2,r=this.internal.getCoordinateString,n=this.internal.getVerticalCoordinateString,a=this.internal.getHorizontalCoordinate,i=this.internal.getVerticalCoordinate,l=this.internal.Point,o=this.internal.Rectangle,f=this.internal.Matrix,u=new h}]);var p=function(F){Object.defineProperty(this,"canvas",{get:function(){return{parentNode:!1,style:!1}}});var M=F;Object.defineProperty(this,"pdf",{get:function(){return M}});var q=!1;Object.defineProperty(this,"pageWrapXEnabled",{get:function(){return q},set:function(Ce){q=!!Ce}});var W=!1;Object.defineProperty(this,"pageWrapYEnabled",{get:function(){return W},set:function(Ce){W=!!Ce}});var Z=0;Object.defineProperty(this,"posX",{get:function(){return Z},set:function(Ce){isNaN(Ce)||(Z=Ce)}});var oe=0;Object.defineProperty(this,"posY",{get:function(){return oe},set:function(Ce){isNaN(Ce)||(oe=Ce)}}),Object.defineProperty(this,"margin",{get:function(){return u.margin},set:function(Ce){var xe;typeof Ce=="number"?xe=[Ce,Ce,Ce,Ce]:((xe=new Array(4))[0]=Ce[0],xe[1]=Ce.length>=2?Ce[1]:xe[0],xe[2]=Ce.length>=3?Ce[2]:xe[0],xe[3]=Ce.length>=4?Ce[3]:xe[1]),u.margin=xe}});var ce=!1;Object.defineProperty(this,"autoPaging",{get:function(){return ce},set:function(Ce){ce=Ce}});var ae=0;Object.defineProperty(this,"lastBreak",{get:function(){return ae},set:function(Ce){ae=Ce}});var Se=[];Object.defineProperty(this,"pageBreaks",{get:function(){return Se},set:function(Ce){Se=Ce}}),Object.defineProperty(this,"ctx",{get:function(){return u},set:function(Ce){Ce instanceof h&&(u=Ce)}}),Object.defineProperty(this,"path",{get:function(){return u.path},set:function(Ce){u.path=Ce}});var De=[];Object.defineProperty(this,"ctxStack",{get:function(){return De},set:function(Ce){De=Ce}}),Object.defineProperty(this,"fillStyle",{get:function(){return this.ctx.fillStyle},set:function(Ce){var xe;xe=g(Ce),this.ctx.fillStyle=xe.style,this.ctx.isFillTransparent=xe.a===0,this.ctx.fillOpacity=xe.a,this.pdf.setFillColor(xe.r,xe.g,xe.b,{a:xe.a}),this.pdf.setTextColor(xe.r,xe.g,xe.b,{a:xe.a})}}),Object.defineProperty(this,"strokeStyle",{get:function(){return this.ctx.strokeStyle},set:function(Ce){var xe=g(Ce);this.ctx.strokeStyle=xe.style,this.ctx.isStrokeTransparent=xe.a===0,this.ctx.strokeOpacity=xe.a,xe.a===0?this.pdf.setDrawColor(255,255,255):(xe.a,this.pdf.setDrawColor(xe.r,xe.g,xe.b))}}),Object.defineProperty(this,"lineCap",{get:function(){return this.ctx.lineCap},set:function(Ce){["butt","round","square"].indexOf(Ce)!==-1&&(this.ctx.lineCap=Ce,this.pdf.setLineCap(Ce))}}),Object.defineProperty(this,"lineWidth",{get:function(){return this.ctx.lineWidth},set:function(Ce){isNaN(Ce)||(this.ctx.lineWidth=Ce,this.pdf.setLineWidth(Ce))}}),Object.defineProperty(this,"lineJoin",{get:function(){return this.ctx.lineJoin},set:function(Ce){["bevel","round","miter"].indexOf(Ce)!==-1&&(this.ctx.lineJoin=Ce,this.pdf.setLineJoin(Ce))}}),Object.defineProperty(this,"miterLimit",{get:function(){return this.ctx.miterLimit},set:function(Ce){isNaN(Ce)||(this.ctx.miterLimit=Ce,this.pdf.setMiterLimit(Ce))}}),Object.defineProperty(this,"textBaseline",{get:function(){return this.ctx.textBaseline},set:function(Ce){this.ctx.textBaseline=Ce}}),Object.defineProperty(this,"textAlign",{get:function(){return this.ctx.textAlign},set:function(Ce){["right","end","center","left","start"].indexOf(Ce)!==-1&&(this.ctx.textAlign=Ce)}});var X=null,Ke=null;Object.defineProperty(this,"fontFaces",{get:function(){return Ke},set:function(Ce){X=null,Ke=Ce}}),Object.defineProperty(this,"font",{get:function(){return this.ctx.font},set:function(Ce){var xe;if(this.ctx.font=Ce,(xe=/^\s*(?=(?:(?:[-a-z]+\s*){0,2}(italic|oblique))?)(?=(?:(?:[-a-z]+\s*){0,2}(small-caps))?)(?=(?:(?:[-a-z]+\s*){0,2}(bold(?:er)?|lighter|[1-9]00))?)(?:(?:normal|\1|\2|\3)\s*){0,3}((?:xx?-)?(?:small|large)|medium|smaller|larger|[.\d]+(?:\%|in|[cem]m|ex|p[ctx]))(?:\s*\/\s*(normal|[.\d]+(?:\%|in|[cem]m|ex|p[ctx])))?\s*([-_,\"\'\sa-z]+?)\s*$/i.exec(Ce))!==null){var dt=xe[1];xe[2];var Xe=xe[3],wt=xe[4];xe[5];var lt=xe[6],At=/^([.\d]+)((?:%|in|[cem]m|ex|p[ctx]))$/i.exec(wt)[2];wt=Math.floor(At==="px"?parseFloat(wt)*this.pdf.internal.scaleFactor:At==="em"?parseFloat(wt)*this.pdf.getFontSize():parseFloat(wt)*this.pdf.internal.scaleFactor),this.pdf.setFontSize(wt);var pt=(function(xt){var jt,Nr,Yt=[],St=xt.trim();if(St==="")return T4;if(St in q7)return[q7[St]];for(;St!=="";){switch(Nr=null,jt=(St=H7(St)).charAt(0)){case'"':case"'":Nr=E4e(St.substring(1),jt);break;default:Nr=k4e(St)}if(Nr===null||(Yt.push(Nr[0]),(St=H7(Nr[1]))!==""&&St.charAt(0)!==","))return T4;St=St.replace(/^,/,"")}return Yt})(lt);if(this.fontFaces){var Qt=(function(xt,jt){if(X===null){var Nr=(function(Yt){var St=[];return Object.keys(Yt).forEach(function(er){Yt[er].forEach(function(br){var ar=null;switch(br){case"bold":ar={family:er,weight:"bold"};break;case"italic":ar={family:er,style:"italic"};break;case"bolditalic":ar={family:er,weight:"bold",style:"italic"};break;case"":case"normal":ar={family:er}}ar!==null&&(ar.ref={name:er,style:br},St.push(ar))})}),St})(xt.getFontList());X=(function(Yt){for(var St={},er=0;er<Yt.length;++er){var br=C4(Yt[er]),ar=br.family,Ar=br.stretch,fr=br.style,pn=br.weight;St[ar]=St[ar]||{},St[ar][Ar]=St[ar][Ar]||{},St[ar][Ar][fr]=St[ar][Ar][fr]||{},St[ar][Ar][fr][pn]=br}return St})(Nr.concat(jt))}return X})(this.pdf,this.fontFaces),Pt=pt.map(function(xt){return{family:xt,stretch:"normal",weight:Xe,style:dt}}),Vt=(function(xt,jt,Nr){for(var Yt=(Nr=Nr||{}).defaultFontFamily||"times",St=Object.assign({},A4e,Nr.genericFontFamilies||{}),er=null,br=null,ar=0;ar<jt.length;++ar)if(St[(er=C4(jt[ar])).family]&&(er.family=St[er.family]),xt.hasOwnProperty(er.family)){br=xt[er.family];break}if(!(br=br||xt[Yt]))throw new Error("Could not find a font-family for the rule '"+$7(er)+"' and default family '"+Yt+"'.");if(br=(function(Ar,fr){if(fr[Ar])return fr[Ar];var pn=yN[Ar],Bn=pn<=yN.normal?-1:1,qr=z7(fr,QB,pn,Bn);if(!qr)throw new Error("Could not find a matching font-stretch value for "+Ar);return qr})(er.stretch,br),br=(function(Ar,fr){if(fr[Ar])return fr[Ar];for(var pn=XB[Ar],Bn=0;Bn<pn.length;++Bn)if(fr[pn[Bn]])return fr[pn[Bn]];throw new Error("Could not find a matching font-style for "+Ar)})(er.style,br),!(br=(function(Ar,fr){if(fr[Ar])return fr[Ar];if(Ar===400&&fr[500])return fr[500];if(Ar===500&&fr[400])return fr[400];var pn=j4e[Ar],Bn=z7(fr,ZB,pn,Ar<400?-1:1);if(!Bn)throw new Error("Could not find a matching font-weight for value "+Ar);return Bn})(er.weight,br)))throw new Error("Failed to resolve a font for the rule '"+$7(er)+"'.");return br})(Qt,Pt);this.pdf.setFont(Vt.ref.name,Vt.ref.style)}else{var Zt="";(Xe==="bold"||parseInt(Xe,10)>=700||dt==="bold")&&(Zt="bold"),dt==="italic"&&(Zt+="italic"),Zt.length===0&&(Zt="normal");for(var Jt="",Dr={arial:"Helvetica",Arial:"Helvetica",verdana:"Helvetica",Verdana:"Helvetica",helvetica:"Helvetica",Helvetica:"Helvetica","sans-serif":"Helvetica",fixed:"Courier",monospace:"Courier",terminal:"Courier",cursive:"Times",fantasy:"Times",serif:"Times"},It=0;It<pt.length;It++){if(this.pdf.internal.getFont(pt[It],Zt,{noFallback:!0,disableWarning:!0})!==void 0){Jt=pt[It];break}if(Zt==="bolditalic"&&this.pdf.internal.getFont(pt[It],"bold",{noFallback:!0,disableWarning:!0})!==void 0)Jt=pt[It],Zt="bold";else if(this.pdf.internal.getFont(pt[It],"normal",{noFallback:!0,disableWarning:!0})!==void 0){Jt=pt[It],Zt="normal";break}}if(Jt===""){for(var Ct=0;Ct<pt.length;Ct++)if(Dr[pt[Ct]]){Jt=Dr[pt[Ct]];break}}Jt=Jt===""?"Times":Jt,this.pdf.setFont(Jt,Zt)}}}}),Object.defineProperty(this,"globalCompositeOperation",{get:function(){return this.ctx.globalCompositeOperation},set:function(Ce){this.ctx.globalCompositeOperation=Ce}}),Object.defineProperty(this,"globalAlpha",{get:function(){return this.ctx.globalAlpha},set:function(Ce){this.ctx.globalAlpha=Ce}}),Object.defineProperty(this,"lineDashOffset",{get:function(){return this.ctx.lineDashOffset},set:function(Ce){this.ctx.lineDashOffset=Ce,te.call(this)}}),Object.defineProperty(this,"lineDash",{get:function(){return this.ctx.lineDash},set:function(Ce){this.ctx.lineDash=Ce,te.call(this)}}),Object.defineProperty(this,"ignoreClearRect",{get:function(){return this.ctx.ignoreClearRect},set:function(Ce){this.ctx.ignoreClearRect=!!Ce}})};p.prototype.setLineDash=function(F){this.lineDash=F},p.prototype.getLineDash=function(){return this.lineDash.length%2?this.lineDash.concat(this.lineDash):this.lineDash.slice()},p.prototype.fill=function(){O.call(this,"fill",!1)},p.prototype.stroke=function(){O.call(this,"stroke",!1)},p.prototype.beginPath=function(){this.path=[{type:"begin"}]},p.prototype.moveTo=function(F,M){if(isNaN(F)||isNaN(M))throw Rn.error("jsPDF.context2d.moveTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.moveTo");var q=this.ctx.transform.applyToPoint(new l(F,M));this.path.push({type:"mt",x:q.x,y:q.y}),this.ctx.lastPoint=new l(F,M)},p.prototype.closePath=function(){var F=new l(0,0),M=0;for(M=this.path.length-1;M!==-1;M--)if(this.path[M].type==="begin"&&_n(this.path[M+1])==="object"&&typeof this.path[M+1].x=="number"){F=new l(this.path[M+1].x,this.path[M+1].y);break}this.path.push({type:"close"}),this.ctx.lastPoint=new l(F.x,F.y)},p.prototype.lineTo=function(F,M){if(isNaN(F)||isNaN(M))throw Rn.error("jsPDF.context2d.lineTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.lineTo");var q=this.ctx.transform.applyToPoint(new l(F,M));this.path.push({type:"lt",x:q.x,y:q.y}),this.ctx.lastPoint=new l(q.x,q.y)},p.prototype.clip=function(){this.ctx.clip_path=JSON.parse(JSON.stringify(this.path)),O.call(this,null,!0)},p.prototype.quadraticCurveTo=function(F,M,q,W){if(isNaN(q)||isNaN(W)||isNaN(F)||isNaN(M))throw Rn.error("jsPDF.context2d.quadraticCurveTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.quadraticCurveTo");var Z=this.ctx.transform.applyToPoint(new l(q,W)),oe=this.ctx.transform.applyToPoint(new l(F,M));this.path.push({type:"qct",x1:oe.x,y1:oe.y,x:Z.x,y:Z.y}),this.ctx.lastPoint=new l(Z.x,Z.y)},p.prototype.bezierCurveTo=function(F,M,q,W,Z,oe){if(isNaN(Z)||isNaN(oe)||isNaN(F)||isNaN(M)||isNaN(q)||isNaN(W))throw Rn.error("jsPDF.context2d.bezierCurveTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.bezierCurveTo");var ce=this.ctx.transform.applyToPoint(new l(Z,oe)),ae=this.ctx.transform.applyToPoint(new l(F,M)),Se=this.ctx.transform.applyToPoint(new l(q,W));this.path.push({type:"bct",x1:ae.x,y1:ae.y,x2:Se.x,y2:Se.y,x:ce.x,y:ce.y}),this.ctx.lastPoint=new l(ce.x,ce.y)},p.prototype.arc=function(F,M,q,W,Z,oe){if(isNaN(F)||isNaN(M)||isNaN(q)||isNaN(W)||isNaN(Z))throw Rn.error("jsPDF.context2d.arc: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.arc");if(oe=!!oe,!this.ctx.transform.isIdentity){var ce=this.ctx.transform.applyToPoint(new l(F,M));F=ce.x,M=ce.y;var ae=this.ctx.transform.applyToPoint(new l(0,q)),Se=this.ctx.transform.applyToPoint(new l(0,0));q=Math.sqrt(Math.pow(ae.x-Se.x,2)+Math.pow(ae.y-Se.y,2))}Math.abs(Z-W)>=2*Math.PI&&(W=0,Z=2*Math.PI),this.path.push({type:"arc",x:F,y:M,radius:q,startAngle:W,endAngle:Z,counterclockwise:oe})},p.prototype.arcTo=function(F,M,q,W,Z){throw new Error("arcTo not implemented.")},p.prototype.rect=function(F,M,q,W){if(isNaN(F)||isNaN(M)||isNaN(q)||isNaN(W))throw Rn.error("jsPDF.context2d.rect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.rect");this.moveTo(F,M),this.lineTo(F+q,M),this.lineTo(F+q,M+W),this.lineTo(F,M+W),this.lineTo(F,M),this.lineTo(F+q,M),this.lineTo(F,M)},p.prototype.fillRect=function(F,M,q,W){if(isNaN(F)||isNaN(M)||isNaN(q)||isNaN(W))throw Rn.error("jsPDF.context2d.fillRect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.fillRect");if(!x.call(this)){var Z={};this.lineCap!=="butt"&&(Z.lineCap=this.lineCap,this.lineCap="butt"),this.lineJoin!=="miter"&&(Z.lineJoin=this.lineJoin,this.lineJoin="miter"),this.beginPath(),this.rect(F,M,q,W),this.fill(),Z.hasOwnProperty("lineCap")&&(this.lineCap=Z.lineCap),Z.hasOwnProperty("lineJoin")&&(this.lineJoin=Z.lineJoin)}},p.prototype.strokeRect=function(F,M,q,W){if(isNaN(F)||isNaN(M)||isNaN(q)||isNaN(W))throw Rn.error("jsPDF.context2d.strokeRect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.strokeRect");b.call(this)||(this.beginPath(),this.rect(F,M,q,W),this.stroke())},p.prototype.clearRect=function(F,M,q,W){if(isNaN(F)||isNaN(M)||isNaN(q)||isNaN(W))throw Rn.error("jsPDF.context2d.clearRect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.clearRect");this.ignoreClearRect||(this.fillStyle="#ffffff",this.fillRect(F,M,q,W))},p.prototype.save=function(F){F=typeof F!="boolean"||F;for(var M=this.pdf.internal.getCurrentPageInfo().pageNumber,q=0;q<this.pdf.internal.getNumberOfPages();q++)this.pdf.setPage(q+1),this.pdf.internal.out("q");if(this.pdf.setPage(M),F){this.ctx.fontSize=this.pdf.internal.getFontSize();var W=new h(this.ctx);this.ctxStack.push(this.ctx),this.ctx=W}},p.prototype.restore=function(F){F=typeof F!="boolean"||F;for(var M=this.pdf.internal.getCurrentPageInfo().pageNumber,q=0;q<this.pdf.internal.getNumberOfPages();q++)this.pdf.setPage(q+1),this.pdf.internal.out("Q");this.pdf.setPage(M),F&&this.ctxStack.length!==0&&(this.ctx=this.ctxStack.pop(),this.fillStyle=this.ctx.fillStyle,this.strokeStyle=this.ctx.strokeStyle,this.font=this.ctx.font,this.lineCap=this.ctx.lineCap,this.lineWidth=this.ctx.lineWidth,this.lineJoin=this.ctx.lineJoin,this.lineDash=this.ctx.lineDash,this.lineDashOffset=this.ctx.lineDashOffset)},p.prototype.toDataURL=function(){throw new Error("toDataUrl not implemented.")};var g=function(F){var M,q,W,Z;if(F.isCanvasGradient===!0&&(F=F.getColor()),!F)return{r:0,g:0,b:0,a:0,style:F};if(/transparent|rgba\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*,\s*0+\s*\)/.test(F))M=0,q=0,W=0,Z=0;else{var oe=/rgb\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*\)/.exec(F);if(oe!==null)M=parseInt(oe[1]),q=parseInt(oe[2]),W=parseInt(oe[3]),Z=1;else if((oe=/rgba\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*,\s*([\d.]+)\s*\)/.exec(F))!==null)M=parseInt(oe[1]),q=parseInt(oe[2]),W=parseInt(oe[3]),Z=parseFloat(oe[4]);else{if(Z=1,typeof F=="string"&&F.charAt(0)!=="#"){var ce=new $B(F);F=ce.ok?ce.toHex():"#000000"}F.length===4?(M=F.substring(1,2),M+=M,q=F.substring(2,3),q+=q,W=F.substring(3,4),W+=W):(M=F.substring(1,3),q=F.substring(3,5),W=F.substring(5,7)),M=parseInt(M,16),q=parseInt(q,16),W=parseInt(W,16)}}return{r:M,g:q,b:W,a:Z,style:F}},x=function(){return this.ctx.isFillTransparent||this.globalAlpha==0},b=function(){return!!(this.ctx.isStrokeTransparent||this.globalAlpha==0)};p.prototype.fillText=function(F,M,q,W){if(isNaN(M)||isNaN(q)||typeof F!="string")throw Rn.error("jsPDF.context2d.fillText: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.fillText");if(W=isNaN(W)?void 0:W,!x.call(this)){var Z=ve(this.ctx.transform.rotation),oe=this.ctx.transform.scaleX;z.call(this,{text:F,x:M,y:q,scale:oe,angle:Z,align:this.textAlign,maxWidth:W})}},p.prototype.strokeText=function(F,M,q,W){if(isNaN(M)||isNaN(q)||typeof F!="string")throw Rn.error("jsPDF.context2d.strokeText: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.strokeText");if(!b.call(this)){W=isNaN(W)?void 0:W;var Z=ve(this.ctx.transform.rotation),oe=this.ctx.transform.scaleX;z.call(this,{text:F,x:M,y:q,scale:oe,renderingMode:"stroke",angle:Z,align:this.textAlign,maxWidth:W})}},p.prototype.measureText=function(F){if(typeof F!="string")throw Rn.error("jsPDF.context2d.measureText: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.measureText");var M=this.pdf,q=this.pdf.internal.scaleFactor,W=M.internal.getFontSize(),Z=M.getStringUnitWidth(F)*W/M.internal.scaleFactor;return new function(oe){var ce=(oe=oe||{}).width||0;return Object.defineProperty(this,"width",{get:function(){return ce}}),this}({width:Z*=Math.round(96*q/72*1e4)/1e4})},p.prototype.scale=function(F,M){if(isNaN(F)||isNaN(M))throw Rn.error("jsPDF.context2d.scale: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.scale");var q=new f(F,0,0,M,0,0);this.ctx.transform=this.ctx.transform.multiply(q)},p.prototype.rotate=function(F){if(isNaN(F))throw Rn.error("jsPDF.context2d.rotate: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.rotate");var M=new f(Math.cos(F),Math.sin(F),-Math.sin(F),Math.cos(F),0,0);this.ctx.transform=this.ctx.transform.multiply(M)},p.prototype.translate=function(F,M){if(isNaN(F)||isNaN(M))throw Rn.error("jsPDF.context2d.translate: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.translate");var q=new f(1,0,0,1,F,M);this.ctx.transform=this.ctx.transform.multiply(q)},p.prototype.transform=function(F,M,q,W,Z,oe){if(isNaN(F)||isNaN(M)||isNaN(q)||isNaN(W)||isNaN(Z)||isNaN(oe))throw Rn.error("jsPDF.context2d.transform: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.transform");var ce=new f(F,M,q,W,Z,oe);this.ctx.transform=this.ctx.transform.multiply(ce)},p.prototype.setTransform=function(F,M,q,W,Z,oe){F=isNaN(F)?1:F,M=isNaN(M)?0:M,q=isNaN(q)?0:q,W=isNaN(W)?1:W,Z=isNaN(Z)?0:Z,oe=isNaN(oe)?0:oe,this.ctx.transform=new f(F,M,q,W,Z,oe)};var y=function(){return this.margin[0]>0||this.margin[1]>0||this.margin[2]>0||this.margin[3]>0};p.prototype.drawImage=function(F,M,q,W,Z,oe,ce,ae,Se){var De=this.pdf.getImageProperties(F),X=1,Ke=1,Ce=1,xe=1;W!==void 0&&ae!==void 0&&(Ce=ae/W,xe=Se/Z,X=De.width/W*ae/W,Ke=De.height/Z*Se/Z),oe===void 0&&(oe=M,ce=q,M=0,q=0),W!==void 0&&ae===void 0&&(ae=W,Se=Z),W===void 0&&ae===void 0&&(ae=De.width,Se=De.height);for(var dt,Xe=this.ctx.transform.decompose(),wt=ve(Xe.rotate.shx),lt=new f,At=(lt=(lt=(lt=lt.multiply(Xe.translate)).multiply(Xe.skew)).multiply(Xe.scale)).applyToRectangle(new o(oe-M*Ce,ce-q*xe,W*X,Z*Ke)),pt=w.call(this,At),Qt=[],Pt=0;Pt<pt.length;Pt+=1)Qt.indexOf(pt[Pt])===-1&&Qt.push(pt[Pt]);if(A(Qt),this.autoPaging)for(var Vt=Qt[0],Zt=Qt[Qt.length-1],Jt=Vt;Jt<Zt+1;Jt++){this.pdf.setPage(Jt);var Dr=this.pdf.internal.pageSize.width-this.margin[3]-this.margin[1],It=Jt===1?this.posY+this.margin[0]:this.margin[0],Ct=this.pdf.internal.pageSize.height-this.posY-this.margin[0]-this.margin[2],xt=this.pdf.internal.pageSize.height-this.margin[0]-this.margin[2],jt=Jt===1?0:Ct+(Jt-2)*xt;if(this.ctx.clip_path.length!==0){var Nr=this.path;dt=JSON.parse(JSON.stringify(this.ctx.clip_path)),this.path=E(dt,this.posX+this.margin[3],-jt+It+this.ctx.prevPageLastElemOffset),D.call(this,"fill",!0),this.path=Nr}var Yt=JSON.parse(JSON.stringify(At));Yt=E([Yt],this.posX+this.margin[3],-jt+It+this.ctx.prevPageLastElemOffset)[0];var St=(Jt>Vt||Jt<Zt)&&y.call(this);St&&(this.pdf.saveGraphicsState(),this.pdf.rect(this.margin[3],this.margin[0],Dr,xt,null).clip().discardPath()),this.pdf.addImage(F,"JPEG",Yt.x,Yt.y,Yt.w,Yt.h,null,null,wt),St&&this.pdf.restoreGraphicsState()}else this.pdf.addImage(F,"JPEG",At.x,At.y,At.w,At.h,null,null,wt)};var w=function(F,M,q){var W=[];M=M||this.pdf.internal.pageSize.width,q=q||this.pdf.internal.pageSize.height-this.margin[0]-this.margin[2];var Z=this.posY+this.ctx.prevPageLastElemOffset;switch(F.type){default:case"mt":case"lt":W.push(Math.floor((F.y+Z)/q)+1);break;case"arc":W.push(Math.floor((F.y+Z-F.radius)/q)+1),W.push(Math.floor((F.y+Z+F.radius)/q)+1);break;case"qct":var oe=ue(this.ctx.lastPoint.x,this.ctx.lastPoint.y,F.x1,F.y1,F.x,F.y);W.push(Math.floor((oe.y+Z)/q)+1),W.push(Math.floor((oe.y+oe.h+Z)/q)+1);break;case"bct":var ce=je(this.ctx.lastPoint.x,this.ctx.lastPoint.y,F.x1,F.y1,F.x2,F.y2,F.x,F.y);W.push(Math.floor((ce.y+Z)/q)+1),W.push(Math.floor((ce.y+ce.h+Z)/q)+1);break;case"rect":W.push(Math.floor((F.y+Z)/q)+1),W.push(Math.floor((F.y+F.h+Z)/q)+1)}for(var ae=0;ae<W.length;ae+=1)for(;this.pdf.internal.getNumberOfPages()<W[ae];)_.call(this);return W},_=function(){var F=this.fillStyle,M=this.strokeStyle,q=this.font,W=this.lineCap,Z=this.lineWidth,oe=this.lineJoin;this.pdf.addPage(),this.fillStyle=F,this.strokeStyle=M,this.font=q,this.lineCap=W,this.lineWidth=Z,this.lineJoin=oe},E=function(F,M,q){for(var W=0;W<F.length;W++)switch(F[W].type){case"bct":F[W].x2+=M,F[W].y2+=q;case"qct":F[W].x1+=M,F[W].y1+=q;default:F[W].x+=M,F[W].y+=q}return F},A=function(F){return F.sort(function(M,q){return M-q})},O=function(F,M){for(var q,W,Z=this.fillStyle,oe=this.strokeStyle,ce=this.lineCap,ae=this.lineWidth,Se=Math.abs(ae*this.ctx.transform.scaleX),De=this.lineJoin,X=JSON.parse(JSON.stringify(this.path)),Ke=JSON.parse(JSON.stringify(this.path)),Ce=[],xe=0;xe<Ke.length;xe++)if(Ke[xe].x!==void 0)for(var dt=w.call(this,Ke[xe]),Xe=0;Xe<dt.length;Xe+=1)Ce.indexOf(dt[Xe])===-1&&Ce.push(dt[Xe]);for(var wt=0;wt<Ce.length;wt++)for(;this.pdf.internal.getNumberOfPages()<Ce[wt];)_.call(this);if(A(Ce),this.autoPaging)for(var lt=Ce[0],At=Ce[Ce.length-1],pt=lt;pt<At+1;pt++){this.pdf.setPage(pt),this.fillStyle=Z,this.strokeStyle=oe,this.lineCap=ce,this.lineWidth=Se,this.lineJoin=De;var Qt=this.pdf.internal.pageSize.width-this.margin[3]-this.margin[1],Pt=pt===1?this.posY+this.margin[0]:this.margin[0],Vt=this.pdf.internal.pageSize.height-this.posY-this.margin[0]-this.margin[2],Zt=this.pdf.internal.pageSize.height-this.margin[0]-this.margin[2],Jt=pt===1?0:Vt+(pt-2)*Zt;if(this.ctx.clip_path.length!==0){var Dr=this.path;q=JSON.parse(JSON.stringify(this.ctx.clip_path)),this.path=E(q,this.posX+this.margin[3],-Jt+Pt+this.ctx.prevPageLastElemOffset),D.call(this,F,!0),this.path=Dr}if(W=JSON.parse(JSON.stringify(X)),this.path=E(W,this.posX+this.margin[3],-Jt+Pt+this.ctx.prevPageLastElemOffset),M===!1||pt===0){var It=(pt>lt||pt<At)&&y.call(this);It&&(this.pdf.saveGraphicsState(),this.pdf.rect(this.margin[3],this.margin[0],Qt,Zt,null).clip().discardPath()),D.call(this,F,M),It&&this.pdf.restoreGraphicsState()}this.lineWidth=ae}else this.lineWidth=Se,D.call(this,F,M),this.lineWidth=ae;this.path=X},D=function(F,M){if((F!=="stroke"||M||!b.call(this))&&(F==="stroke"||M||!x.call(this))){for(var q,W,Z=[],oe=this.path,ce=0;ce<oe.length;ce++){var ae=oe[ce];switch(ae.type){case"begin":Z.push({begin:!0});break;case"close":Z.push({close:!0});break;case"mt":Z.push({start:ae,deltas:[],abs:[]});break;case"lt":var Se=Z.length;if(oe[ce-1]&&!isNaN(oe[ce-1].x)&&(q=[ae.x-oe[ce-1].x,ae.y-oe[ce-1].y],Se>0)){for(;Se>=0;Se--)if(Z[Se-1].close!==!0&&Z[Se-1].begin!==!0){Z[Se-1].deltas.push(q),Z[Se-1].abs.push(ae);break}}break;case"bct":q=[ae.x1-oe[ce-1].x,ae.y1-oe[ce-1].y,ae.x2-oe[ce-1].x,ae.y2-oe[ce-1].y,ae.x-oe[ce-1].x,ae.y-oe[ce-1].y],Z[Z.length-1].deltas.push(q);break;case"qct":var De=oe[ce-1].x+2/3*(ae.x1-oe[ce-1].x),X=oe[ce-1].y+2/3*(ae.y1-oe[ce-1].y),Ke=ae.x+2/3*(ae.x1-ae.x),Ce=ae.y+2/3*(ae.y1-ae.y),xe=ae.x,dt=ae.y;q=[De-oe[ce-1].x,X-oe[ce-1].y,Ke-oe[ce-1].x,Ce-oe[ce-1].y,xe-oe[ce-1].x,dt-oe[ce-1].y],Z[Z.length-1].deltas.push(q);break;case"arc":Z.push({deltas:[],abs:[],arc:!0}),Array.isArray(Z[Z.length-1].abs)&&Z[Z.length-1].abs.push(ae)}}W=M?null:F==="stroke"?"stroke":"fill";for(var Xe=!1,wt=0;wt<Z.length;wt++)if(Z[wt].arc)for(var lt=Z[wt].abs,At=0;At<lt.length;At++){var pt=lt[At];pt.type==="arc"?T.call(this,pt.x,pt.y,pt.radius,pt.startAngle,pt.endAngle,pt.counterclockwise,void 0,M,!Xe):K.call(this,pt.x,pt.y),Xe=!0}else if(Z[wt].close===!0)this.pdf.internal.out("h"),Xe=!1;else if(Z[wt].begin!==!0){var Qt=Z[wt].start.x,Pt=Z[wt].start.y;J.call(this,Z[wt].deltas,Qt,Pt),Xe=!0}W&&B.call(this,W),M&&G.call(this)}},R=function(F){var M=this.pdf.internal.getFontSize()/this.pdf.internal.scaleFactor,q=M*(this.pdf.internal.getLineHeightFactor()-1);switch(this.ctx.textBaseline){case"bottom":return F-q;case"top":return F+M-q;case"hanging":return F+M-2*q;case"middle":return F+M/2-q;default:return F}},P=function(F){return F+this.pdf.internal.getFontSize()/this.pdf.internal.scaleFactor*(this.pdf.internal.getLineHeightFactor()-1)};p.prototype.createLinearGradient=function(){var F=function(){};return F.colorStops=[],F.addColorStop=function(M,q){this.colorStops.push([M,q])},F.getColor=function(){return this.colorStops.length===0?"#000000":this.colorStops[0][1]},F.isCanvasGradient=!0,F},p.prototype.createPattern=function(){return this.createLinearGradient()},p.prototype.createRadialGradient=function(){return this.createLinearGradient()};var T=function(F,M,q,W,Z,oe,ce,ae,Se){for(var De=ne.call(this,q,W,Z,oe),X=0;X<De.length;X++){var Ke=De[X];X===0&&(Se?I.call(this,Ke.x1+F,Ke.y1+M):K.call(this,Ke.x1+F,Ke.y1+M)),pe.call(this,F,M,Ke.x2,Ke.y2,Ke.x3,Ke.y3,Ke.x4,Ke.y4)}ae?G.call(this):B.call(this,ce)},B=function(F){switch(F){case"stroke":this.pdf.internal.out("S");break;case"fill":this.pdf.internal.out("f")}},G=function(){this.pdf.clip(),this.pdf.discardPath()},I=function(F,M){this.pdf.internal.out(r(F)+" "+n(M)+" m")},z=function(F){var M;switch(F.align){case"right":case"end":M="right";break;case"center":M="center";break;default:M="left"}var q=this.pdf.getTextDimensions(F.text),W=R.call(this,F.y),Z=P.call(this,W)-q.h,oe=this.ctx.transform.applyToPoint(new l(F.x,W)),ce=this.ctx.transform.decompose(),ae=new f;ae=(ae=(ae=ae.multiply(ce.translate)).multiply(ce.skew)).multiply(ce.scale);for(var Se,De,X,Ke=this.ctx.transform.applyToRectangle(new o(F.x,W,q.w,q.h)),Ce=ae.applyToRectangle(new o(F.x,Z,q.w,q.h)),xe=w.call(this,Ce),dt=[],Xe=0;Xe<xe.length;Xe+=1)dt.indexOf(xe[Xe])===-1&&dt.push(xe[Xe]);if(A(dt),this.autoPaging)for(var wt=dt[0],lt=dt[dt.length-1],At=wt;At<lt+1;At++){this.pdf.setPage(At);var pt=At===1?this.posY+this.margin[0]:this.margin[0],Qt=this.pdf.internal.pageSize.height-this.posY-this.margin[0]-this.margin[2],Pt=this.pdf.internal.pageSize.height-this.margin[2],Vt=Pt-this.margin[0],Zt=this.pdf.internal.pageSize.width-this.margin[1],Jt=Zt-this.margin[3],Dr=At===1?0:Qt+(At-2)*Vt;if(this.ctx.clip_path.length!==0){var It=this.path;Se=JSON.parse(JSON.stringify(this.ctx.clip_path)),this.path=E(Se,this.posX+this.margin[3],-1*Dr+pt),D.call(this,"fill",!0),this.path=It}var Ct=E([JSON.parse(JSON.stringify(Ce))],this.posX+this.margin[3],-Dr+pt+this.ctx.prevPageLastElemOffset)[0];F.scale>=.01&&(De=this.pdf.internal.getFontSize(),this.pdf.setFontSize(De*F.scale),X=this.lineWidth,this.lineWidth=X*F.scale);var xt=this.autoPaging!=="text";if(xt||Ct.y+Ct.h<=Pt){if(xt||Ct.y>=pt&&Ct.x<=Zt){var jt=xt?F.text:this.pdf.splitTextToSize(F.text,F.maxWidth||Zt-Ct.x)[0],Nr=E([JSON.parse(JSON.stringify(Ke))],this.posX+this.margin[3],-Dr+pt+this.ctx.prevPageLastElemOffset)[0],Yt=xt&&(At>wt||At<lt)&&y.call(this);Yt&&(this.pdf.saveGraphicsState(),this.pdf.rect(this.margin[3],this.margin[0],Jt,Vt,null).clip().discardPath()),this.pdf.text(jt,Nr.x,Nr.y,{angle:F.angle,align:M,renderingMode:F.renderingMode}),Yt&&this.pdf.restoreGraphicsState()}}else Ct.y<Pt&&(this.ctx.prevPageLastElemOffset+=Pt-Ct.y);F.scale>=.01&&(this.pdf.setFontSize(De),this.lineWidth=X)}else F.scale>=.01&&(De=this.pdf.internal.getFontSize(),this.pdf.setFontSize(De*F.scale),X=this.lineWidth,this.lineWidth=X*F.scale),this.pdf.text(F.text,oe.x+this.posX,oe.y+this.posY,{angle:F.angle,align:M,renderingMode:F.renderingMode,maxWidth:F.maxWidth}),F.scale>=.01&&(this.pdf.setFontSize(De),this.lineWidth=X)},K=function(F,M,q,W){q=q||0,W=W||0,this.pdf.internal.out(r(F+q)+" "+n(M+W)+" l")},J=function(F,M,q){return this.pdf.lines(F,M,q,null,null)},pe=function(F,M,q,W,Z,oe,ce,ae){this.pdf.internal.out([t(a(q+F)),t(i(W+M)),t(a(Z+F)),t(i(oe+M)),t(a(ce+F)),t(i(ae+M)),"c"].join(" "))},ne=function(F,M,q,W){for(var Z=2*Math.PI,oe=Math.PI/2;M>q;)M-=Z;var ce=Math.abs(q-M);ce<Z&&W&&(ce=Z-ce);for(var ae=[],Se=W?-1:1,De=M;ce>1e-5;){var X=De+Se*Math.min(ce,oe);ae.push(le.call(this,F,De,X)),ce-=Math.abs(X-De),De=X}return ae},le=function(F,M,q){var W=(q-M)/2,Z=F*Math.cos(W),oe=F*Math.sin(W),ce=Z,ae=-oe,Se=ce*ce+ae*ae,De=Se+ce*Z+ae*oe,X=4/3*(Math.sqrt(2*Se*De)-De)/(ce*oe-ae*Z),Ke=ce-X*ae,Ce=ae+X*ce,xe=Ke,dt=-Ce,Xe=W+M,wt=Math.cos(Xe),lt=Math.sin(Xe);return{x1:F*Math.cos(M),y1:F*Math.sin(M),x2:Ke*wt-Ce*lt,y2:Ke*lt+Ce*wt,x3:xe*wt-dt*lt,y3:xe*lt+dt*wt,x4:F*Math.cos(q),y4:F*Math.sin(q)}},ve=function(F){return 180*F/Math.PI},ue=function(F,M,q,W,Z,oe){var ce=F+.5*(q-F),ae=M+.5*(W-M),Se=Z+.5*(q-Z),De=oe+.5*(W-oe),X=Math.min(F,Z,ce,Se),Ke=Math.max(F,Z,ce,Se),Ce=Math.min(M,oe,ae,De),xe=Math.max(M,oe,ae,De);return new o(X,Ce,Ke-X,xe-Ce)},je=function(F,M,q,W,Z,oe,ce,ae){var Se,De,X,Ke,Ce,xe,dt,Xe,wt,lt,At,pt,Qt,Pt,Vt=q-F,Zt=W-M,Jt=Z-q,Dr=oe-W,It=ce-Z,Ct=ae-oe;for(De=0;De<41;De++)wt=(dt=(X=F+(Se=De/40)*Vt)+Se*((Ce=q+Se*Jt)-X))+Se*(Ce+Se*(Z+Se*It-Ce)-dt),lt=(Xe=(Ke=M+Se*Zt)+Se*((xe=W+Se*Dr)-Ke))+Se*(xe+Se*(oe+Se*Ct-xe)-Xe),De==0?(At=wt,pt=lt,Qt=wt,Pt=lt):(At=Math.min(At,wt),pt=Math.min(pt,lt),Qt=Math.max(Qt,wt),Pt=Math.max(Pt,lt));return new o(Math.round(At),Math.round(pt),Math.round(Qt-At),Math.round(Pt-pt))},te=function(){if(this.prevLineDash||this.ctx.lineDash.length||this.ctx.lineDashOffset){var F,M,q=(F=this.ctx.lineDash,M=this.ctx.lineDashOffset,JSON.stringify({lineDash:F,lineDashOffset:M}));this.prevLineDash!==q&&(this.pdf.setLineDash(this.ctx.lineDash,this.ctx.lineDashOffset),this.prevLineDash=q)}}})($t.API),(function(e){var t=function(l){var o,f,u,h,p,g,x,b,y,w;for(f=[],u=0,h=(l+=o="\0\0\0\0".slice(l.length%4||4)).length;h>u;u+=4)(p=(l.charCodeAt(u)<<24)+(l.charCodeAt(u+1)<<16)+(l.charCodeAt(u+2)<<8)+l.charCodeAt(u+3))!==0?(g=(p=((p=((p=((p=(p-(w=p%85))/85)-(y=p%85))/85)-(b=p%85))/85)-(x=p%85))/85)%85,f.push(g+33,x+33,b+33,y+33,w+33)):f.push(122);return(function(_,E){for(var A=E;A>0;A--)_.pop()})(f,o.length),String.fromCharCode.apply(String,f)+"~>"},r=function(l){var o,f,u,h,p,g=String,x="length",b=255,y="charCodeAt",w="slice",_="replace";for(l[w](-2),l=l[w](0,-2)[_](/\s/g,"")[_]("z","!!!!!"),u=[],h=0,p=(l+=o="uuuuu"[w](l[x]%5||5))[x];p>h;h+=5)f=52200625*(l[y](h)-33)+614125*(l[y](h+1)-33)+7225*(l[y](h+2)-33)+85*(l[y](h+3)-33)+(l[y](h+4)-33),u.push(b&f>>24,b&f>>16,b&f>>8,b&f);return(function(E,A){for(var O=A;O>0;O--)E.pop()})(u,o[x]),g.fromCharCode.apply(g,u)},n=function(l){return l.split("").map(function(o){return("0"+o.charCodeAt().toString(16)).slice(-2)}).join("")+">"},a=function(l){var o=new RegExp(/^([0-9A-Fa-f]{2})+$/);if((l=l.replace(/\s/g,"")).indexOf(">")!==-1&&(l=l.substr(0,l.indexOf(">"))),l.length%2&&(l+="0"),o.test(l)===!1)return"";for(var f="",u=0;u<l.length;u+=2)f+=String.fromCharCode("0x"+(l[u]+l[u+1]));return f},i=function(l){for(var o=new Uint8Array(l.length),f=l.length;f--;)o[f]=l.charCodeAt(f);return(o=dN(o)).reduce(function(u,h){return u+String.fromCharCode(h)},"")};e.processDataByFilters=function(l,o){var f=0,u=l||"",h=[];for(typeof(o=o||[])=="string"&&(o=[o]),f=0;f<o.length;f+=1)switch(o[f]){case"ASCII85Decode":case"/ASCII85Decode":u=r(u),h.push("/ASCII85Encode");break;case"ASCII85Encode":case"/ASCII85Encode":u=t(u),h.push("/ASCII85Decode");break;case"ASCIIHexDecode":case"/ASCIIHexDecode":u=a(u),h.push("/ASCIIHexEncode");break;case"ASCIIHexEncode":case"/ASCIIHexEncode":u=n(u),h.push("/ASCIIHexDecode");break;case"FlateEncode":case"/FlateEncode":u=i(u),h.push("/FlateDecode");break;default:throw new Error('The filter: "'+o[f]+'" is not implemented')}return{data:u,reverseChain:h.reverse().join(" ")}}})($t.API),(function(e){e.loadFile=function(t,r,n){return(function(a,i,l){i=i!==!1,l=typeof l=="function"?l:function(){};var o=void 0;try{o=(function(f,u,h){var p=new XMLHttpRequest,g=0,x=function(b){var y=b.length,w=[],_=String.fromCharCode;for(g=0;g<y;g+=1)w.push(_(255&b.charCodeAt(g)));return w.join("")};if(p.open("GET",f,!u),p.overrideMimeType("text/plain; charset=x-user-defined"),u===!1&&(p.onload=function(){p.status===200?h(x(this.responseText)):h(void 0)}),p.send(null),u&&p.status===200)return x(p.responseText)})(a,i,l)}catch{}return o})(t,r,n)},e.loadImageFile=e.loadFile})($t.API),(function(e){function t(){return(pr.html2canvas?Promise.resolve(pr.html2canvas):gw(()=>import("./html2canvas.esm-B0tyYwQk.js"),[])).catch(function(o){return Promise.reject(new Error("Could not load html2canvas: "+o))}).then(function(o){return o.default?o.default:o})}function r(){return(pr.DOMPurify?Promise.resolve(pr.DOMPurify):gw(()=>import("./purify.es-B6FQ9oRL.js"),[])).catch(function(o){return Promise.reject(new Error("Could not load dompurify: "+o))}).then(function(o){return o.default?o.default:o})}var n=function(o){var f=_n(o);return f==="undefined"?"undefined":f==="string"||o instanceof String?"string":f==="number"||o instanceof Number?"number":f==="function"||o instanceof Function?"function":o&&o.constructor===Array?"array":o&&o.nodeType===1?"element":f==="object"?"object":"unknown"},a=function(o,f){var u=document.createElement(o);for(var h in f.className&&(u.className=f.className),f.innerHTML&&f.dompurify&&(u.innerHTML=f.dompurify.sanitize(f.innerHTML)),f.style)u.style[h]=f.style[h];return u},i=function o(f,u){for(var h=f.nodeType===3?document.createTextNode(f.nodeValue):f.cloneNode(!1),p=f.firstChild;p;p=p.nextSibling)u!==!0&&p.nodeType===1&&p.nodeName==="SCRIPT"||h.appendChild(o(p,u));return f.nodeType===1&&(f.nodeName==="CANVAS"?(h.width=f.width,h.height=f.height,h.getContext("2d").drawImage(f,0,0)):f.nodeName!=="TEXTAREA"&&f.nodeName!=="SELECT"||(h.value=f.value),h.addEventListener("load",function(){h.scrollTop=f.scrollTop,h.scrollLeft=f.scrollLeft},!0)),h},l=function o(f){var u=Object.assign(o.convert(Promise.resolve()),JSON.parse(JSON.stringify(o.template))),h=o.convert(Promise.resolve(),u);return(h=h.setProgress(1,o,1,[o])).set(f)};(l.prototype=Object.create(Promise.prototype)).constructor=l,l.convert=function(o,f){return o.__proto__=f||l.prototype,o},l.template={prop:{src:null,container:null,overlay:null,canvas:null,img:null,pdf:null,pageSize:null,callback:function(){}},progress:{val:0,state:null,n:0,stack:[]},opt:{filename:"file.pdf",margin:[0,0,0,0],enableLinks:!0,x:0,y:0,html2canvas:{},jsPDF:{},backgroundColor:"transparent"}},l.prototype.from=function(o,f){return this.then(function(){switch(f=f||(function(u){switch(n(u)){case"string":return"string";case"element":return u.nodeName.toLowerCase()==="canvas"?"canvas":"element";default:return"unknown"}})(o),f){case"string":return this.then(r).then(function(u){return this.set({src:a("div",{innerHTML:o,dompurify:u})})});case"element":return this.set({src:o});case"canvas":return this.set({canvas:o});case"img":return this.set({img:o});default:return this.error("Unknown source type.")}})},l.prototype.to=function(o){switch(o){case"container":return this.toContainer();case"canvas":return this.toCanvas();case"img":return this.toImg();case"pdf":return this.toPdf();default:return this.error("Invalid target.")}},l.prototype.toContainer=function(){return this.thenList([function(){return this.prop.src||this.error("Cannot duplicate - no source HTML.")},function(){return this.prop.pageSize||this.setPageSize()}]).then(function(){var o={position:"relative",display:"inline-block",width:(typeof this.opt.width!="number"||isNaN(this.opt.width)||typeof this.opt.windowWidth!="number"||isNaN(this.opt.windowWidth)?Math.max(this.prop.src.clientWidth,this.prop.src.scrollWidth,this.prop.src.offsetWidth):this.opt.windowWidth)+"px",left:0,right:0,top:0,margin:"auto",backgroundColor:this.opt.backgroundColor},f=i(this.prop.src,this.opt.html2canvas.javascriptEnabled);f.tagName==="BODY"&&(o.height=Math.max(document.body.scrollHeight,document.body.offsetHeight,document.documentElement.clientHeight,document.documentElement.scrollHeight,document.documentElement.offsetHeight)+"px"),this.prop.overlay=a("div",{className:"html2pdf__overlay",style:{position:"fixed",overflow:"hidden",zIndex:1e3,left:"-100000px",right:0,bottom:0,top:0}}),this.prop.container=a("div",{className:"html2pdf__container",style:o}),this.prop.container.appendChild(f),this.prop.container.firstChild.appendChild(a("div",{style:{clear:"both",border:"0 none transparent",margin:0,padding:0,height:0}})),this.prop.container.style.float="none",this.prop.overlay.appendChild(this.prop.container),document.body.appendChild(this.prop.overlay),this.prop.container.firstChild.style.position="relative",this.prop.container.height=Math.max(this.prop.container.firstChild.clientHeight,this.prop.container.firstChild.scrollHeight,this.prop.container.firstChild.offsetHeight)+"px"})},l.prototype.toCanvas=function(){var o=[function(){return document.body.contains(this.prop.container)||this.toContainer()}];return this.thenList(o).then(t).then(function(f){var u=Object.assign({},this.opt.html2canvas);return delete u.onrendered,f(this.prop.container,u)}).then(function(f){(this.opt.html2canvas.onrendered||function(){})(f),this.prop.canvas=f,document.body.removeChild(this.prop.overlay)})},l.prototype.toContext2d=function(){var o=[function(){return document.body.contains(this.prop.container)||this.toContainer()}];return this.thenList(o).then(t).then(function(f){var u=this.opt.jsPDF,h=this.opt.fontFaces,p=typeof this.opt.width!="number"||isNaN(this.opt.width)||typeof this.opt.windowWidth!="number"||isNaN(this.opt.windowWidth)?1:this.opt.width/this.opt.windowWidth,g=Object.assign({async:!0,allowTaint:!0,scale:p,scrollX:this.opt.scrollX||0,scrollY:this.opt.scrollY||0,backgroundColor:"#ffffff",imageTimeout:15e3,logging:!0,proxy:null,removeContainer:!0,foreignObjectRendering:!1,useCORS:!1},this.opt.html2canvas);if(delete g.onrendered,u.context2d.autoPaging=this.opt.autoPaging===void 0||this.opt.autoPaging,u.context2d.posX=this.opt.x,u.context2d.posY=this.opt.y,u.context2d.margin=this.opt.margin,u.context2d.fontFaces=h,h)for(var x=0;x<h.length;++x){var b=h[x],y=b.src.find(function(w){return w.format==="truetype"});y&&u.addFont(y.url,b.ref.name,b.ref.style)}return g.windowHeight=g.windowHeight||0,g.windowHeight=g.windowHeight==0?Math.max(this.prop.container.clientHeight,this.prop.container.scrollHeight,this.prop.container.offsetHeight):g.windowHeight,u.context2d.save(!0),f(this.prop.container,g)}).then(function(f){this.opt.jsPDF.context2d.restore(!0),(this.opt.html2canvas.onrendered||function(){})(f),this.prop.canvas=f,document.body.removeChild(this.prop.overlay)})},l.prototype.toImg=function(){return this.thenList([function(){return this.prop.canvas||this.toCanvas()}]).then(function(){var o=this.prop.canvas.toDataURL("image/"+this.opt.image.type,this.opt.image.quality);this.prop.img=document.createElement("img"),this.prop.img.src=o})},l.prototype.toPdf=function(){return this.thenList([function(){return this.toContext2d()}]).then(function(){this.prop.pdf=this.prop.pdf||this.opt.jsPDF})},l.prototype.output=function(o,f,u){return(u=u||"pdf").toLowerCase()==="img"||u.toLowerCase()==="image"?this.outputImg(o,f):this.outputPdf(o,f)},l.prototype.outputPdf=function(o,f){return this.thenList([function(){return this.prop.pdf||this.toPdf()}]).then(function(){return this.prop.pdf.output(o,f)})},l.prototype.outputImg=function(o){return this.thenList([function(){return this.prop.img||this.toImg()}]).then(function(){switch(o){case void 0:case"img":return this.prop.img;case"datauristring":case"dataurlstring":return this.prop.img.src;case"datauri":case"dataurl":return document.location.href=this.prop.img.src;default:throw'Image output type "'+o+'" is not supported.'}})},l.prototype.save=function(o){return this.thenList([function(){return this.prop.pdf||this.toPdf()}]).set(o?{filename:o}:null).then(function(){this.prop.pdf.save(this.opt.filename)})},l.prototype.doCallback=function(){return this.thenList([function(){return this.prop.pdf||this.toPdf()}]).then(function(){this.prop.callback(this.prop.pdf)})},l.prototype.set=function(o){if(n(o)!=="object")return this;var f=Object.keys(o||{}).map(function(u){if(u in l.template.prop)return function(){this.prop[u]=o[u]};switch(u){case"margin":return this.setMargin.bind(this,o.margin);case"jsPDF":return function(){return this.opt.jsPDF=o.jsPDF,this.setPageSize()};case"pageSize":return this.setPageSize.bind(this,o.pageSize);default:return function(){this.opt[u]=o[u]}}},this);return this.then(function(){return this.thenList(f)})},l.prototype.get=function(o,f){return this.then(function(){var u=o in l.template.prop?this.prop[o]:this.opt[o];return f?f(u):u})},l.prototype.setMargin=function(o){return this.then(function(){switch(n(o)){case"number":o=[o,o,o,o];case"array":if(o.length===2&&(o=[o[0],o[1],o[0],o[1]]),o.length===4)break;default:return this.error("Invalid margin array.")}this.opt.margin=o}).then(this.setPageSize)},l.prototype.setPageSize=function(o){function f(u,h){return Math.floor(u*h/72*96)}return this.then(function(){(o=o||$t.getPageSize(this.opt.jsPDF)).hasOwnProperty("inner")||(o.inner={width:o.width-this.opt.margin[1]-this.opt.margin[3],height:o.height-this.opt.margin[0]-this.opt.margin[2]},o.inner.px={width:f(o.inner.width,o.k),height:f(o.inner.height,o.k)},o.inner.ratio=o.inner.height/o.inner.width),this.prop.pageSize=o})},l.prototype.setProgress=function(o,f,u,h){return o!=null&&(this.progress.val=o),f!=null&&(this.progress.state=f),u!=null&&(this.progress.n=u),h!=null&&(this.progress.stack=h),this.progress.ratio=this.progress.val/this.progress.state,this},l.prototype.updateProgress=function(o,f,u,h){return this.setProgress(o?this.progress.val+o:null,f||null,u?this.progress.n+u:null,h?this.progress.stack.concat(h):null)},l.prototype.then=function(o,f){var u=this;return this.thenCore(o,f,function(h,p){return u.updateProgress(null,null,1,[h]),Promise.prototype.then.call(this,function(g){return u.updateProgress(null,h),g}).then(h,p).then(function(g){return u.updateProgress(1),g})})},l.prototype.thenCore=function(o,f,u){u=u||Promise.prototype.then;var h=this;o&&(o=o.bind(h)),f&&(f=f.bind(h));var p=Promise.toString().indexOf("[native code]")!==-1&&Promise.name==="Promise"?h:l.convert(Object.assign({},h),Promise.prototype),g=u.call(p,o,f);return l.convert(g,h.__proto__)},l.prototype.thenExternal=function(o,f){return Promise.prototype.then.call(this,o,f)},l.prototype.thenList=function(o){var f=this;return o.forEach(function(u){f=f.thenCore(u)}),f},l.prototype.catch=function(o){o&&(o=o.bind(this));var f=Promise.prototype.catch.call(this,o);return l.convert(f,this)},l.prototype.catchExternal=function(o){return Promise.prototype.catch.call(this,o)},l.prototype.error=function(o){return this.then(function(){throw new Error(o)})},l.prototype.using=l.prototype.set,l.prototype.saveAs=l.prototype.save,l.prototype.export=l.prototype.output,l.prototype.run=l.prototype.then,$t.getPageSize=function(o,f,u){if(_n(o)==="object"){var h=o;o=h.orientation,f=h.unit||f,u=h.format||u}f=f||"mm",u=u||"a4",o=(""+(o||"P")).toLowerCase();var p,g=(""+u).toLowerCase(),x={a0:[2383.94,3370.39],a1:[1683.78,2383.94],a2:[1190.55,1683.78],a3:[841.89,1190.55],a4:[595.28,841.89],a5:[419.53,595.28],a6:[297.64,419.53],a7:[209.76,297.64],a8:[147.4,209.76],a9:[104.88,147.4],a10:[73.7,104.88],b0:[2834.65,4008.19],b1:[2004.09,2834.65],b2:[1417.32,2004.09],b3:[1000.63,1417.32],b4:[708.66,1000.63],b5:[498.9,708.66],b6:[354.33,498.9],b7:[249.45,354.33],b8:[175.75,249.45],b9:[124.72,175.75],b10:[87.87,124.72],c0:[2599.37,3676.54],c1:[1836.85,2599.37],c2:[1298.27,1836.85],c3:[918.43,1298.27],c4:[649.13,918.43],c5:[459.21,649.13],c6:[323.15,459.21],c7:[229.61,323.15],c8:[161.57,229.61],c9:[113.39,161.57],c10:[79.37,113.39],dl:[311.81,623.62],letter:[612,792],"government-letter":[576,756],legal:[612,1008],"junior-legal":[576,360],ledger:[1224,792],tabloid:[792,1224],"credit-card":[153,243]};switch(f){case"pt":p=1;break;case"mm":p=72/25.4;break;case"cm":p=72/2.54;break;case"in":p=72;break;case"px":p=.75;break;case"pc":case"em":p=12;break;case"ex":p=6;break;default:throw"Invalid unit: "+f}var b,y=0,w=0;if(x.hasOwnProperty(g))y=x[g][1]/p,w=x[g][0]/p;else try{y=u[1],w=u[0]}catch{throw new Error("Invalid format: "+u)}if(o==="p"||o==="portrait")o="p",w>y&&(b=w,w=y,y=b);else{if(o!=="l"&&o!=="landscape")throw"Invalid orientation: "+o;o="l",y>w&&(b=w,w=y,y=b)}return{width:w,height:y,unit:f,k:p,orientation:o}},e.html=function(o,f){(f=f||{}).callback=f.callback||function(){},f.html2canvas=f.html2canvas||{},f.html2canvas.canvas=f.html2canvas.canvas||this.canvas,f.jsPDF=f.jsPDF||this,f.fontFaces=f.fontFaces?f.fontFaces.map(C4):null;var u=new l(f);return f.worker?u:u.from(o).doCallback()}})($t.API),$t.API.addJS=function(e){return W7=e,this.internal.events.subscribe("postPutResources",function(){jv=this.internal.newObject(),this.internal.out("<<"),this.internal.out("/Names [(EmbeddedJS) "+(jv+1)+" 0 R]"),this.internal.out(">>"),this.internal.out("endobj"),V7=this.internal.newObject(),this.internal.out("<<"),this.internal.out("/S /JavaScript"),this.internal.out("/JS ("+W7+")"),this.internal.out(">>"),this.internal.out("endobj")}),this.internal.events.subscribe("putCatalog",function(){jv!==void 0&&V7!==void 0&&this.internal.out("/Names <</JavaScript "+jv+" 0 R>>")}),this},(function(e){var t;e.events.push(["postPutResources",function(){var r=this,n=/^(\d+) 0 obj$/;if(this.outline.root.children.length>0)for(var a=r.outline.render().split(/\r\n/),i=0;i<a.length;i++){var l=a[i],o=n.exec(l);if(o!=null){var f=o[1];r.internal.newObjectDeferredBegin(f,!1)}r.internal.write(l)}if(this.outline.createNamedDestinations){var u=this.internal.pages.length,h=[];for(i=0;i<u;i++){var p=r.internal.newObject();h.push(p);var g=r.internal.getPageInfo(i+1);r.internal.write("<< /D["+g.objId+" 0 R /XYZ null null null]>> endobj")}var x=r.internal.newObject();for(r.internal.write("<< /Names [ "),i=0;i<h.length;i++)r.internal.write("(page_"+(i+1)+")"+h[i]+" 0 R");r.internal.write(" ] >>","endobj"),t=r.internal.newObject(),r.internal.write("<< /Dests "+x+" 0 R"),r.internal.write(">>","endobj")}}]),e.events.push(["putCatalog",function(){var r=this;r.outline.root.children.length>0&&(r.internal.write("/Outlines",this.outline.makeRef(this.outline.root)),this.outline.createNamedDestinations&&r.internal.write("/Names "+t+" 0 R"))}]),e.events.push(["initialized",function(){var r=this;r.outline={createNamedDestinations:!1,root:{children:[]}},r.outline.add=function(n,a,i){var l={title:a,options:i,children:[]};return n==null&&(n=this.root),n.children.push(l),l},r.outline.render=function(){return this.ctx={},this.ctx.val="",this.ctx.pdf=r,this.genIds_r(this.root),this.renderRoot(this.root),this.renderItems(this.root),this.ctx.val},r.outline.genIds_r=function(n){n.id=r.internal.newObjectDeferred();for(var a=0;a<n.children.length;a++)this.genIds_r(n.children[a])},r.outline.renderRoot=function(n){this.objStart(n),this.line("/Type /Outlines"),n.children.length>0&&(this.line("/First "+this.makeRef(n.children[0])),this.line("/Last "+this.makeRef(n.children[n.children.length-1]))),this.line("/Count "+this.count_r({count:0},n)),this.objEnd()},r.outline.renderItems=function(n){for(var a=this.ctx.pdf.internal.getVerticalCoordinateString,i=0;i<n.children.length;i++){var l=n.children[i];this.objStart(l),this.line("/Title "+this.makeString(l.title)),this.line("/Parent "+this.makeRef(n)),i>0&&this.line("/Prev "+this.makeRef(n.children[i-1])),i<n.children.length-1&&this.line("/Next "+this.makeRef(n.children[i+1])),l.children.length>0&&(this.line("/First "+this.makeRef(l.children[0])),this.line("/Last "+this.makeRef(l.children[l.children.length-1])));var o=this.count=this.count_r({count:0},l);if(o>0&&this.line("/Count "+o),l.options&&l.options.pageNumber){var f=r.internal.getPageInfo(l.options.pageNumber);this.line("/Dest ["+f.objId+" 0 R /XYZ 0 "+a(0)+" 0]")}this.objEnd()}for(var u=0;u<n.children.length;u++)this.renderItems(n.children[u])},r.outline.line=function(n){this.ctx.val+=n+`\r
`},r.outline.makeRef=function(n){return n.id+" 0 R"},r.outline.makeString=function(n){return"("+r.internal.pdfEscape(n)+")"},r.outline.objStart=function(n){this.ctx.val+=`\r
`+n.id+` 0 obj\r
<<\r
`},r.outline.objEnd=function(){this.ctx.val+=`>> \r
endobj\r
`},r.outline.count_r=function(n,a){for(var i=0;i<a.children.length;i++)n.count++,this.count_r(n,a.children[i]);return n.count}}])})($t.API),(function(e){var t=[192,193,194,195,196,197,198,199];e.processJPEG=function(r,n,a,i,l,o){var f,u=this.decode.DCT_DECODE,h=null;if(typeof r=="string"||this.__addimage__.isArrayBuffer(r)||this.__addimage__.isArrayBufferView(r)){switch(r=l||r,r=this.__addimage__.isArrayBuffer(r)?new Uint8Array(r):r,f=(function(p){for(var g,x=256*p.charCodeAt(4)+p.charCodeAt(5),b=p.length,y={width:0,height:0,numcomponents:1},w=4;w<b;w+=2){if(w+=x,t.indexOf(p.charCodeAt(w+1))!==-1){g=256*p.charCodeAt(w+5)+p.charCodeAt(w+6),y={width:256*p.charCodeAt(w+7)+p.charCodeAt(w+8),height:g,numcomponents:p.charCodeAt(w+9)};break}x=256*p.charCodeAt(w+2)+p.charCodeAt(w+3)}return y})(r=this.__addimage__.isArrayBufferView(r)?this.__addimage__.arrayBufferToBinaryString(r):r),f.numcomponents){case 1:o=this.color_spaces.DEVICE_GRAY;break;case 4:o=this.color_spaces.DEVICE_CMYK;break;case 3:o=this.color_spaces.DEVICE_RGB}h={data:r,width:f.width,height:f.height,colorSpace:o,bitsPerComponent:8,filter:u,index:n,alias:a}}return h}})($t.API),$t.API.processPNG=function(e,t,r,n){if(this.__addimage__.isArrayBuffer(e)&&(e=new Uint8Array(e)),this.__addimage__.isArrayBufferView(e)){var a,i=f4e(e,{checkCrc:!0}),l=i.width,o=i.height,f=i.channels,u=i.palette,h=i.depth;a=u&&f===1?(function(T){for(var B=T.width,G=T.height,I=T.data,z=T.palette,K=T.depth,J=!1,pe=[],ne=[],le=void 0,ve=!1,ue=0,je=0;je<z.length;je++){var te=XO(z[je],4),F=te[0],M=te[1],q=te[2],W=te[3];pe.push(F,M,q),W!=null&&(W===0?(ue++,ne.length<1&&ne.push(je)):W<255&&(ve=!0))}if(ve||ue>1){J=!0,ne=void 0;var Z=B*G;le=new Uint8Array(Z);for(var oe=new DataView(I.buffer),ce=0;ce<Z;ce++){var ae=O4(oe,ce,K),Se=XO(z[ae],4)[3];le[ce]=Se}}else ue===0&&(ne=void 0);return{colorSpace:"Indexed",colorsPerPixel:1,sMaskBitsPerComponent:J?8:void 0,colorBytes:I,alphaBytes:le,needSMask:J,palette:pe,mask:ne}})(i):f===2||f===4?(function(T){for(var B=T.data,G=T.width,I=T.height,z=T.channels,K=T.depth,J=z===2?"DeviceGray":"DeviceRGB",pe=z-1,ne=G*I,le=pe,ve=ne*le,ue=1*ne,je=Math.ceil(ve*K/8),te=Math.ceil(ue*K/8),F=new Uint8Array(je),M=new Uint8Array(te),q=new DataView(B.buffer),W=new DataView(F.buffer),Z=new DataView(M.buffer),oe=!1,ce=0;ce<ne;ce++){for(var ae=ce*z,Se=0;Se<le;Se++)tD(W,O4(q,ae+Se,K),ce*le+Se,K);var De=O4(q,ae+le,K);De<(1<<K)-1&&(oe=!0),tD(Z,De,1*ce,K)}return{colorSpace:J,colorsPerPixel:pe,sMaskBitsPerComponent:oe?K:void 0,colorBytes:F,alphaBytes:M,needSMask:oe}})(i):(function(T){var B=T.data,G=T.channels===1?"DeviceGray":"DeviceRGB";return{colorSpace:G,colorsPerPixel:G==="DeviceGray"?1:3,colorBytes:B instanceof Uint16Array?(function(I){for(var z=I.length,K=new Uint8Array(2*z),J=new DataView(K.buffer,K.byteOffset,K.byteLength),pe=0;pe<z;pe++)J.setUint16(2*pe,I[pe],!1);return K})(B):B,needSMask:!1}})(i);var p,g,x,b=a,y=b.colorSpace,w=b.colorsPerPixel,_=b.sMaskBitsPerComponent,E=b.colorBytes,A=b.alphaBytes,O=b.needSMask,D=b.palette,R=b.mask,P=null;return n!==$t.API.image_compression.NONE&&typeof dN=="function"?(P=(function(T){var B;switch(T){case $t.API.image_compression.FAST:B=11;break;case $t.API.image_compression.MEDIUM:B=13;break;case $t.API.image_compression.SLOW:B=14;break;default:B=12}return B})(n),p=this.decode.FLATE_DECODE,g="/Predictor ".concat(P," /Colors ").concat(w," /BitsPerComponent ").concat(h," /Columns ").concat(l),e=X7(E,Math.ceil(l*w*h/8),w,h,n),O&&(x=X7(A,Math.ceil(l*_/8),1,_,n))):(p=void 0,g=void 0,e=E,O&&(x=A)),(this.__addimage__.isArrayBuffer(e)||this.__addimage__.isArrayBufferView(e))&&(e=this.__addimage__.arrayBufferToBinaryString(e)),(x&&this.__addimage__.isArrayBuffer(x)||this.__addimage__.isArrayBufferView(x))&&(x=this.__addimage__.arrayBufferToBinaryString(x)),{alias:r,data:e,index:t,filter:p,decodeParameters:g,transparency:R,palette:D,sMask:x,predictor:P,width:l,height:o,bitsPerComponent:h,sMaskBitsPerComponent:_,colorSpace:y}}},(function(e){e.processGIF89A=function(t,r,n,a){var i=new D4e(t),l=i.width,o=i.height,f=[];i.decodeAndBlitFrameRGBA(0,f);var u={data:f,width:l,height:o},h=new D4(100).encode(u,100);return e.processJPEG.call(this,h,r,n,a)},e.processGIF87A=e.processGIF89A})($t.API),gc.prototype.parseHeader=function(){if(this.fileSize=this.datav.getUint32(this.pos,!0),this.pos+=4,this.reserved=this.datav.getUint32(this.pos,!0),this.pos+=4,this.offset=this.datav.getUint32(this.pos,!0),this.pos+=4,this.headerSize=this.datav.getUint32(this.pos,!0),this.pos+=4,this.width=this.datav.getUint32(this.pos,!0),this.pos+=4,this.height=this.datav.getInt32(this.pos,!0),this.pos+=4,this.planes=this.datav.getUint16(this.pos,!0),this.pos+=2,this.bitPP=this.datav.getUint16(this.pos,!0),this.pos+=2,this.compress=this.datav.getUint32(this.pos,!0),this.pos+=4,this.rawSize=this.datav.getUint32(this.pos,!0),this.pos+=4,this.hr=this.datav.getUint32(this.pos,!0),this.pos+=4,this.vr=this.datav.getUint32(this.pos,!0),this.pos+=4,this.colors=this.datav.getUint32(this.pos,!0),this.pos+=4,this.importantColors=this.datav.getUint32(this.pos,!0),this.pos+=4,this.bitPP===16&&this.is_with_alpha&&(this.bitPP=15),this.bitPP<15){var e=this.colors===0?1<<this.bitPP:this.colors;this.palette=new Array(e);for(var t=0;t<e;t++){var r=this.datav.getUint8(this.pos++,!0),n=this.datav.getUint8(this.pos++,!0),a=this.datav.getUint8(this.pos++,!0),i=this.datav.getUint8(this.pos++,!0);this.palette[t]={red:a,green:n,blue:r,quad:i}}}this.height<0&&(this.height*=-1,this.bottom_up=!1)},gc.prototype.parseBGR=function(){this.pos=this.offset;try{var e="bit"+this.bitPP,t=this.width*this.height*4;this.data=new Uint8Array(t),this[e]()}catch(r){Rn.log("bit decode error:"+r)}},gc.prototype.bit1=function(){var e,t=Math.ceil(this.width/8),r=t%4;for(e=this.height-1;e>=0;e--){for(var n=this.bottom_up?e:this.height-1-e,a=0;a<t;a++)for(var i=this.datav.getUint8(this.pos++,!0),l=n*this.width*4+8*a*4,o=0;o<8&&8*a+o<this.width;o++){var f=this.palette[i>>7-o&1];this.data[l+4*o]=f.blue,this.data[l+4*o+1]=f.green,this.data[l+4*o+2]=f.red,this.data[l+4*o+3]=255}r!==0&&(this.pos+=4-r)}},gc.prototype.bit4=function(){for(var e=Math.ceil(this.width/2),t=e%4,r=this.height-1;r>=0;r--){for(var n=this.bottom_up?r:this.height-1-r,a=0;a<e;a++){var i=this.datav.getUint8(this.pos++,!0),l=n*this.width*4+2*a*4,o=i>>4,f=15&i,u=this.palette[o];if(this.data[l]=u.blue,this.data[l+1]=u.green,this.data[l+2]=u.red,this.data[l+3]=255,2*a+1>=this.width)break;u=this.palette[f],this.data[l+4]=u.blue,this.data[l+4+1]=u.green,this.data[l+4+2]=u.red,this.data[l+4+3]=255}t!==0&&(this.pos+=4-t)}},gc.prototype.bit8=function(){for(var e=this.width%4,t=this.height-1;t>=0;t--){for(var r=this.bottom_up?t:this.height-1-t,n=0;n<this.width;n++){var a=this.datav.getUint8(this.pos++,!0),i=r*this.width*4+4*n;if(a<this.palette.length){var l=this.palette[a];this.data[i]=l.red,this.data[i+1]=l.green,this.data[i+2]=l.blue,this.data[i+3]=255}else this.data[i]=255,this.data[i+1]=255,this.data[i+2]=255,this.data[i+3]=255}e!==0&&(this.pos+=4-e)}},gc.prototype.bit15=function(){for(var e=this.width%3,t=parseInt("11111",2),r=this.height-1;r>=0;r--){for(var n=this.bottom_up?r:this.height-1-r,a=0;a<this.width;a++){var i=this.datav.getUint16(this.pos,!0);this.pos+=2;var l=(i&t)/t*255|0,o=(i>>5&t)/t*255|0,f=(i>>10&t)/t*255|0,u=i>>15?255:0,h=n*this.width*4+4*a;this.data[h]=f,this.data[h+1]=o,this.data[h+2]=l,this.data[h+3]=u}this.pos+=e}},gc.prototype.bit16=function(){for(var e=this.width%3,t=parseInt("11111",2),r=parseInt("111111",2),n=this.height-1;n>=0;n--){for(var a=this.bottom_up?n:this.height-1-n,i=0;i<this.width;i++){var l=this.datav.getUint16(this.pos,!0);this.pos+=2;var o=(l&t)/t*255|0,f=(l>>5&r)/r*255|0,u=(l>>11)/t*255|0,h=a*this.width*4+4*i;this.data[h]=u,this.data[h+1]=f,this.data[h+2]=o,this.data[h+3]=255}this.pos+=e}},gc.prototype.bit24=function(){for(var e=this.height-1;e>=0;e--){for(var t=this.bottom_up?e:this.height-1-e,r=0;r<this.width;r++){var n=this.datav.getUint8(this.pos++,!0),a=this.datav.getUint8(this.pos++,!0),i=this.datav.getUint8(this.pos++,!0),l=t*this.width*4+4*r;this.data[l]=i,this.data[l+1]=a,this.data[l+2]=n,this.data[l+3]=255}this.pos+=this.width%4}},gc.prototype.bit32=function(){for(var e=this.height-1;e>=0;e--)for(var t=this.bottom_up?e:this.height-1-e,r=0;r<this.width;r++){var n=this.datav.getUint8(this.pos++,!0),a=this.datav.getUint8(this.pos++,!0),i=this.datav.getUint8(this.pos++,!0),l=this.datav.getUint8(this.pos++,!0),o=t*this.width*4+4*r;this.data[o]=i,this.data[o+1]=a,this.data[o+2]=n,this.data[o+3]=l}},gc.prototype.getData=function(){return this.data},(function(e){e.processBMP=function(t,r,n,a){var i=new gc(t,!1),l=i.width,o=i.height,f={data:i.getData(),width:l,height:o},u=new D4(100).encode(f,100);return e.processJPEG.call(this,u,r,n,a)}})($t.API),nD.prototype.getData=function(){return this.data},(function(e){e.processWEBP=function(t,r,n,a){var i=new nD(t),l=i.width,o=i.height,f={data:i.getData(),width:l,height:o},u=new D4(100).encode(f,100);return e.processJPEG.call(this,u,r,n,a)}})($t.API),$t.API.processRGBA=function(e,t,r){for(var n=e.data,a=n.length,i=new Uint8Array(a/4*3),l=new Uint8Array(a/4),o=0,f=0,u=0;u<a;u+=4){var h=n[u],p=n[u+1],g=n[u+2],x=n[u+3];i[o++]=h,i[o++]=p,i[o++]=g,l[f++]=x}var b=this.__addimage__.arrayBufferToBinaryString(i);return{alpha:this.__addimage__.arrayBufferToBinaryString(l),data:b,index:t,alias:r,colorSpace:"DeviceRGB",bitsPerComponent:8,width:e.width,height:e.height}},$t.API.setLanguage=function(e){return this.internal.languageSettings===void 0&&(this.internal.languageSettings={},this.internal.languageSettings.isSubscribed=!1),{af:"Afrikaans",sq:"Albanian",ar:"Arabic (Standard)","ar-DZ":"Arabic (Algeria)","ar-BH":"Arabic (Bahrain)","ar-EG":"Arabic (Egypt)","ar-IQ":"Arabic (Iraq)","ar-JO":"Arabic (Jordan)","ar-KW":"Arabic (Kuwait)","ar-LB":"Arabic (Lebanon)","ar-LY":"Arabic (Libya)","ar-MA":"Arabic (Morocco)","ar-OM":"Arabic (Oman)","ar-QA":"Arabic (Qatar)","ar-SA":"Arabic (Saudi Arabia)","ar-SY":"Arabic (Syria)","ar-TN":"Arabic (Tunisia)","ar-AE":"Arabic (U.A.E.)","ar-YE":"Arabic (Yemen)",an:"Aragonese",hy:"Armenian",as:"Assamese",ast:"Asturian",az:"Azerbaijani",eu:"Basque",be:"Belarusian",bn:"Bengali",bs:"Bosnian",br:"Breton",bg:"Bulgarian",my:"Burmese",ca:"Catalan",ch:"Chamorro",ce:"Chechen",zh:"Chinese","zh-HK":"Chinese (Hong Kong)","zh-CN":"Chinese (PRC)","zh-SG":"Chinese (Singapore)","zh-TW":"Chinese (Taiwan)",cv:"Chuvash",co:"Corsican",cr:"Cree",hr:"Croatian",cs:"Czech",da:"Danish",nl:"Dutch (Standard)","nl-BE":"Dutch (Belgian)",en:"English","en-AU":"English (Australia)","en-BZ":"English (Belize)","en-CA":"English (Canada)","en-IE":"English (Ireland)","en-JM":"English (Jamaica)","en-NZ":"English (New Zealand)","en-PH":"English (Philippines)","en-ZA":"English (South Africa)","en-TT":"English (Trinidad & Tobago)","en-GB":"English (United Kingdom)","en-US":"English (United States)","en-ZW":"English (Zimbabwe)",eo:"Esperanto",et:"Estonian",fo:"Faeroese",fj:"Fijian",fi:"Finnish",fr:"French (Standard)","fr-BE":"French (Belgium)","fr-CA":"French (Canada)","fr-FR":"French (France)","fr-LU":"French (Luxembourg)","fr-MC":"French (Monaco)","fr-CH":"French (Switzerland)",fy:"Frisian",fur:"Friulian",gd:"Gaelic (Scots)","gd-IE":"Gaelic (Irish)",gl:"Galacian",ka:"Georgian",de:"German (Standard)","de-AT":"German (Austria)","de-DE":"German (Germany)","de-LI":"German (Liechtenstein)","de-LU":"German (Luxembourg)","de-CH":"German (Switzerland)",el:"Greek",gu:"Gujurati",ht:"Haitian",he:"Hebrew",hi:"Hindi",hu:"Hungarian",is:"Icelandic",id:"Indonesian",iu:"Inuktitut",ga:"Irish",it:"Italian (Standard)","it-CH":"Italian (Switzerland)",ja:"Japanese",kn:"Kannada",ks:"Kashmiri",kk:"Kazakh",km:"Khmer",ky:"Kirghiz",tlh:"Klingon",ko:"Korean","ko-KP":"Korean (North Korea)","ko-KR":"Korean (South Korea)",la:"Latin",lv:"Latvian",lt:"Lithuanian",lb:"Luxembourgish",mk:"North Macedonia",ms:"Malay",ml:"Malayalam",mt:"Maltese",mi:"Maori",mr:"Marathi",mo:"Moldavian",nv:"Navajo",ng:"Ndonga",ne:"Nepali",no:"Norwegian",nb:"Norwegian (Bokmal)",nn:"Norwegian (Nynorsk)",oc:"Occitan",or:"Oriya",om:"Oromo",fa:"Persian","fa-IR":"Persian/Iran",pl:"Polish",pt:"Portuguese","pt-BR":"Portuguese (Brazil)",pa:"Punjabi","pa-IN":"Punjabi (India)","pa-PK":"Punjabi (Pakistan)",qu:"Quechua",rm:"Rhaeto-Romanic",ro:"Romanian","ro-MO":"Romanian (Moldavia)",ru:"Russian","ru-MO":"Russian (Moldavia)",sz:"Sami (Lappish)",sg:"Sango",sa:"Sanskrit",sc:"Sardinian",sd:"Sindhi",si:"Singhalese",sr:"Serbian",sk:"Slovak",sl:"Slovenian",so:"Somani",sb:"Sorbian",es:"Spanish","es-AR":"Spanish (Argentina)","es-BO":"Spanish (Bolivia)","es-CL":"Spanish (Chile)","es-CO":"Spanish (Colombia)","es-CR":"Spanish (Costa Rica)","es-DO":"Spanish (Dominican Republic)","es-EC":"Spanish (Ecuador)","es-SV":"Spanish (El Salvador)","es-GT":"Spanish (Guatemala)","es-HN":"Spanish (Honduras)","es-MX":"Spanish (Mexico)","es-NI":"Spanish (Nicaragua)","es-PA":"Spanish (Panama)","es-PY":"Spanish (Paraguay)","es-PE":"Spanish (Peru)","es-PR":"Spanish (Puerto Rico)","es-ES":"Spanish (Spain)","es-UY":"Spanish (Uruguay)","es-VE":"Spanish (Venezuela)",sx:"Sutu",sw:"Swahili",sv:"Swedish","sv-FI":"Swedish (Finland)","sv-SV":"Swedish (Sweden)",ta:"Tamil",tt:"Tatar",te:"Teluga",th:"Thai",tig:"Tigre",ts:"Tsonga",tn:"Tswana",tr:"Turkish",tk:"Turkmen",uk:"Ukrainian",hsb:"Upper Sorbian",ur:"Urdu",ve:"Venda",vi:"Vietnamese",vo:"Volapuk",wa:"Walloon",cy:"Welsh",xh:"Xhosa",ji:"Yiddish",zu:"Zulu"}[e]!==void 0&&(this.internal.languageSettings.languageCode=e,this.internal.languageSettings.isSubscribed===!1&&(this.internal.events.subscribe("putCatalog",function(){this.internal.write("/Lang ("+this.internal.languageSettings.languageCode+")")}),this.internal.languageSettings.isSubscribed=!0)),this},pm=$t.API,Av=pm.getCharWidthsArray=function(e,t){var r,n,a=(t=t||{}).font||this.internal.getFont(),i=t.fontSize||this.internal.getFontSize(),l=t.charSpace||this.internal.getCharSpace(),o=t.widths?t.widths:a.metadata.Unicode.widths,f=o.fof?o.fof:1,u=t.kerning?t.kerning:a.metadata.Unicode.kerning,h=u.fof?u.fof:1,p=t.doKerning!==!1,g=0,x=e.length,b=0,y=o[0]||f,w=[];for(r=0;r<x;r++)n=e.charCodeAt(r),typeof a.metadata.widthOfString=="function"?w.push((a.metadata.widthOfGlyph(a.metadata.characterToGlyph(n))+l*(1e3/i)||0)/1e3):(g=p&&_n(u[n])==="object"&&!isNaN(parseInt(u[n][b],10))?u[n][b]/h:0,w.push((o[n]||y)/f+g)),b=n;return w},G7=pm.getStringUnitWidth=function(e,t){var r=(t=t||{}).fontSize||this.internal.getFontSize(),n=t.font||this.internal.getFont(),a=t.charSpace||this.internal.getCharSpace();return pm.processArabic&&(e=pm.processArabic(e)),typeof n.metadata.widthOfString=="function"?n.metadata.widthOfString(e,r,a)/r:Av.apply(this,arguments).reduce(function(i,l){return i+l},0)},K7=function(e,t,r,n){for(var a=[],i=0,l=e.length,o=0;i!==l&&o+t[i]<r;)o+=t[i],i++;a.push(e.slice(0,i));var f=i;for(o=0;i!==l;)o+t[i]>n&&(a.push(e.slice(f,i)),o=0,f=i),o+=t[i],i++;return f!==i&&a.push(e.slice(f,i)),a},Y7=function(e,t,r){r||(r={});var n,a,i,l,o,f,u,h=[],p=[h],g=r.textIndent||0,x=0,b=0,y=e.split(" "),w=Av.apply(this,[" ",r])[0];if(f=r.lineIndent===-1?y[0].length+2:r.lineIndent||0){var _=Array(f).join(" "),E=[];y.map(function(O){(O=O.split(/\s*\n/)).length>1?E=E.concat(O.map(function(D,R){return(R&&D.length?`
`:"")+D})):E.push(O[0])}),y=E,f=G7.apply(this,[_,r])}for(i=0,l=y.length;i<l;i++){var A=0;if(n=y[i],f&&n[0]==`
`&&(n=n.substr(1),A=1),g+x+(b=(a=Av.apply(this,[n,r])).reduce(function(O,D){return O+D},0))>t||A){if(b>t){for(o=K7.apply(this,[n,a,t-(g+x),t]),h.push(o.shift()),h=[o.pop()];o.length;)p.push([o.shift()]);b=a.slice(n.length-(h[0]?h[0].length:0)).reduce(function(O,D){return O+D},0)}else h=[n];p.push(h),g=b+f,x=w}else h.push(n),g+=x+b,x=w}return u=f?function(O,D){return(D?_:"")+O.join(" ")}:function(O){return O.join(" ")},p.map(u)},pm.splitTextToSize=function(e,t,r){var n,a=(r=r||{}).fontSize||this.internal.getFontSize(),i=(function(h){if(h.widths&&h.kerning)return{widths:h.widths,kerning:h.kerning};var p=this.internal.getFont(h.fontName,h.fontStyle),g="Unicode";return p.metadata[g]?{widths:p.metadata[g].widths||{0:1},kerning:p.metadata[g].kerning||{}}:{font:p.metadata,fontSize:this.internal.getFontSize(),charSpace:this.internal.getCharSpace()}}).call(this,r);n=Array.isArray(e)?e:String(e).split(/\r?\n/);var l=1*this.internal.scaleFactor*t/a;i.textIndent=r.textIndent?1*r.textIndent*this.internal.scaleFactor/a:0,i.lineIndent=r.lineIndent;var o,f,u=[];for(o=0,f=n.length;o<f;o++)u=u.concat(Y7.apply(this,[n[o],l,i]));return u},(function(e){e.__fontmetrics__=e.__fontmetrics__||{};for(var t="0123456789abcdef",r="klmnopqrstuvwxyz",n={},a={},i=0;i<16;i++)n[r[i]]=t[i],a[t[i]]=r[i];var l=function(g){return"0x"+parseInt(g,10).toString(16)},o=e.__fontmetrics__.compress=function(g){var x,b,y,w,_=["{"];for(var E in g){if(x=g[E],isNaN(parseInt(E,10))?b="'"+E+"'":(E=parseInt(E,10),b=(b=l(E).slice(2)).slice(0,-1)+a[b.slice(-1)]),typeof x=="number")x<0?(y=l(x).slice(3),w="-"):(y=l(x).slice(2),w=""),y=w+y.slice(0,-1)+a[y.slice(-1)];else{if(_n(x)!=="object")throw new Error("Don't know what to do with value type "+_n(x)+".");y=o(x)}_.push(b+y)}return _.push("}"),_.join("")},f=e.__fontmetrics__.uncompress=function(g){if(typeof g!="string")throw new Error("Invalid argument passed to uncompress.");for(var x,b,y,w,_={},E=1,A=_,O=[],D="",R="",P=g.length-1,T=1;T<P;T+=1)(w=g[T])=="'"?x?(y=x.join(""),x=void 0):x=[]:x?x.push(w):w=="{"?(O.push([A,y]),A={},y=void 0):w=="}"?((b=O.pop())[0][b[1]]=A,y=void 0,A=b[0]):w=="-"?E=-1:y===void 0?n.hasOwnProperty(w)?(D+=n[w],y=parseInt(D,16)*E,E=1,D=""):D+=w:n.hasOwnProperty(w)?(R+=n[w],A[y]=parseInt(R,16)*E,E=1,y=void 0,R=""):R+=w;return _},u={codePages:["WinAnsiEncoding"],WinAnsiEncoding:f("{19m8n201n9q201o9r201s9l201t9m201u8m201w9n201x9o201y8o202k8q202l8r202m9p202q8p20aw8k203k8t203t8v203u9v2cq8s212m9t15m8w15n9w2dw9s16k8u16l9u17s9z17x8y17y9y}")},h={Unicode:{Courier:u,"Courier-Bold":u,"Courier-BoldOblique":u,"Courier-Oblique":u,Helvetica:u,"Helvetica-Bold":u,"Helvetica-BoldOblique":u,"Helvetica-Oblique":u,"Times-Roman":u,"Times-Bold":u,"Times-BoldItalic":u,"Times-Italic":u}},p={Unicode:{"Courier-Oblique":f("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Times-BoldItalic":f("{'widths'{k3o2q4ycx2r201n3m201o6o201s2l201t2l201u2l201w3m201x3m201y3m2k1t2l2r202m2n2n3m2o3m2p5n202q6o2r1w2s2l2t2l2u3m2v3t2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v2l3w3t3x3t3y3t3z3m4k5n4l4m4m4m4n4m4o4s4p4m4q4m4r4s4s4y4t2r4u3m4v4m4w3x4x5t4y4s4z4s5k3x5l4s5m4m5n3r5o3x5p4s5q4m5r5t5s4m5t3x5u3x5v2l5w1w5x2l5y3t5z3m6k2l6l3m6m3m6n2w6o3m6p2w6q2l6r3m6s3r6t1w6u1w6v3m6w1w6x4y6y3r6z3m7k3m7l3m7m2r7n2r7o1w7p3r7q2w7r4m7s3m7t2w7u2r7v2n7w1q7x2n7y3t202l3mcl4mal2ram3man3mao3map3mar3mas2lat4uau1uav3maw3way4uaz2lbk2sbl3t'fof'6obo2lbp3tbq3mbr1tbs2lbu1ybv3mbz3mck4m202k3mcm4mcn4mco4mcp4mcq5ycr4mcs4mct4mcu4mcv4mcw2r2m3rcy2rcz2rdl4sdm4sdn4sdo4sdp4sdq4sds4sdt4sdu4sdv4sdw4sdz3mek3mel3mem3men3meo3mep3meq4ser2wes2wet2weu2wev2wew1wex1wey1wez1wfl3rfm3mfn3mfo3mfp3mfq3mfr3tfs3mft3rfu3rfv3rfw3rfz2w203k6o212m6o2dw2l2cq2l3t3m3u2l17s3x19m3m}'kerning'{cl{4qu5kt5qt5rs17ss5ts}201s{201ss}201t{cks4lscmscnscoscpscls2wu2yu201ts}201x{2wu2yu}2k{201ts}2w{4qx5kx5ou5qx5rs17su5tu}2x{17su5tu5ou}2y{4qx5kx5ou5qx5rs17ss5ts}'fof'-6ofn{17sw5tw5ou5qw5rs}7t{cksclscmscnscoscps4ls}3u{17su5tu5os5qs}3v{17su5tu5os5qs}7p{17su5tu}ck{4qu5kt5qt5rs17ss5ts}4l{4qu5kt5qt5rs17ss5ts}cm{4qu5kt5qt5rs17ss5ts}cn{4qu5kt5qt5rs17ss5ts}co{4qu5kt5qt5rs17ss5ts}cp{4qu5kt5qt5rs17ss5ts}6l{4qu5ou5qw5rt17su5tu}5q{ckuclucmucnucoucpu4lu}5r{ckuclucmucnucoucpu4lu}7q{cksclscmscnscoscps4ls}6p{4qu5ou5qw5rt17sw5tw}ek{4qu5ou5qw5rt17su5tu}el{4qu5ou5qw5rt17su5tu}em{4qu5ou5qw5rt17su5tu}en{4qu5ou5qw5rt17su5tu}eo{4qu5ou5qw5rt17su5tu}ep{4qu5ou5qw5rt17su5tu}es{17ss5ts5qs4qu}et{4qu5ou5qw5rt17sw5tw}eu{4qu5ou5qw5rt17ss5ts}ev{17ss5ts5qs4qu}6z{17sw5tw5ou5qw5rs}fm{17sw5tw5ou5qw5rs}7n{201ts}fo{17sw5tw5ou5qw5rs}fp{17sw5tw5ou5qw5rs}fq{17sw5tw5ou5qw5rs}7r{cksclscmscnscoscps4ls}fs{17sw5tw5ou5qw5rs}ft{17su5tu}fu{17su5tu}fv{17su5tu}fw{17su5tu}fz{cksclscmscnscoscps4ls}}}"),"Helvetica-Bold":f("{'widths'{k3s2q4scx1w201n3r201o6o201s1w201t1w201u1w201w3m201x3m201y3m2k1w2l2l202m2n2n3r2o3r2p5t202q6o2r1s2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v2l3w3u3x3u3y3u3z3x4k6l4l4s4m4s4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3r4v4s4w3x4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v2l5w1w5x2l5y3u5z3r6k2l6l3r6m3x6n3r6o3x6p3r6q2l6r3x6s3x6t1w6u1w6v3r6w1w6x5t6y3x6z3x7k3x7l3x7m2r7n3r7o2l7p3x7q3r7r4y7s3r7t3r7u3m7v2r7w1w7x2r7y3u202l3rcl4sal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3xbq3rbr1wbs2lbu2obv3rbz3xck4s202k3rcm4scn4sco4scp4scq6ocr4scs4mct4mcu4mcv4mcw1w2m2zcy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3res3ret3reu3rev3rew1wex1wey1wez1wfl3xfm3xfn3xfo3xfp3xfq3xfr3ufs3xft3xfu3xfv3xfw3xfz3r203k6o212m6o2dw2l2cq2l3t3r3u2l17s4m19m3r}'kerning'{cl{4qs5ku5ot5qs17sv5tv}201t{2ww4wy2yw}201w{2ks}201x{2ww4wy2yw}2k{201ts201xs}2w{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}2x{5ow5qs}2y{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}'fof'-6o7p{17su5tu5ot}ck{4qs5ku5ot5qs17sv5tv}4l{4qs5ku5ot5qs17sv5tv}cm{4qs5ku5ot5qs17sv5tv}cn{4qs5ku5ot5qs17sv5tv}co{4qs5ku5ot5qs17sv5tv}cp{4qs5ku5ot5qs17sv5tv}6l{17st5tt5os}17s{2kwclvcmvcnvcovcpv4lv4wwckv}5o{2kucltcmtcntcotcpt4lt4wtckt}5q{2ksclscmscnscoscps4ls4wvcks}5r{2ks4ws}5t{2kwclvcmvcnvcovcpv4lv4wwckv}eo{17st5tt5os}fu{17su5tu5ot}6p{17ss5ts}ek{17st5tt5os}el{17st5tt5os}em{17st5tt5os}en{17st5tt5os}6o{201ts}ep{17st5tt5os}es{17ss5ts}et{17ss5ts}eu{17ss5ts}ev{17ss5ts}6z{17su5tu5os5qt}fm{17su5tu5os5qt}fn{17su5tu5os5qt}fo{17su5tu5os5qt}fp{17su5tu5os5qt}fq{17su5tu5os5qt}fs{17su5tu5os5qt}ft{17su5tu5ot}7m{5os}fv{17su5tu5ot}fw{17su5tu5ot}}}"),Courier:f("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Courier-BoldOblique":f("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Times-Bold":f("{'widths'{k3q2q5ncx2r201n3m201o6o201s2l201t2l201u2l201w3m201x3m201y3m2k1t2l2l202m2n2n3m2o3m2p6o202q6o2r1w2s2l2t2l2u3m2v3t2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v2l3w3t3x3t3y3t3z3m4k5x4l4s4m4m4n4s4o4s4p4m4q3x4r4y4s4y4t2r4u3m4v4y4w4m4x5y4y4s4z4y5k3x5l4y5m4s5n3r5o4m5p4s5q4s5r6o5s4s5t4s5u4m5v2l5w1w5x2l5y3u5z3m6k2l6l3m6m3r6n2w6o3r6p2w6q2l6r3m6s3r6t1w6u2l6v3r6w1w6x5n6y3r6z3m7k3r7l3r7m2w7n2r7o2l7p3r7q3m7r4s7s3m7t3m7u2w7v2r7w1q7x2r7y3o202l3mcl4sal2lam3man3mao3map3mar3mas2lat4uau1yav3maw3tay4uaz2lbk2sbl3t'fof'6obo2lbp3rbr1tbs2lbu2lbv3mbz3mck4s202k3mcm4scn4sco4scp4scq6ocr4scs4mct4mcu4mcv4mcw2r2m3rcy2rcz2rdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3rek3mel3mem3men3meo3mep3meq4ser2wes2wet2weu2wev2wew1wex1wey1wez1wfl3rfm3mfn3mfo3mfp3mfq3mfr3tfs3mft3rfu3rfv3rfw3rfz3m203k6o212m6o2dw2l2cq2l3t3m3u2l17s4s19m3m}'kerning'{cl{4qt5ks5ot5qy5rw17sv5tv}201t{cks4lscmscnscoscpscls4wv}2k{201ts}2w{4qu5ku7mu5os5qx5ru17su5tu}2x{17su5tu5ou5qs}2y{4qv5kv7mu5ot5qz5ru17su5tu}'fof'-6o7t{cksclscmscnscoscps4ls}3u{17su5tu5os5qu}3v{17su5tu5os5qu}fu{17su5tu5ou5qu}7p{17su5tu5ou5qu}ck{4qt5ks5ot5qy5rw17sv5tv}4l{4qt5ks5ot5qy5rw17sv5tv}cm{4qt5ks5ot5qy5rw17sv5tv}cn{4qt5ks5ot5qy5rw17sv5tv}co{4qt5ks5ot5qy5rw17sv5tv}cp{4qt5ks5ot5qy5rw17sv5tv}6l{17st5tt5ou5qu}17s{ckuclucmucnucoucpu4lu4wu}5o{ckuclucmucnucoucpu4lu4wu}5q{ckzclzcmzcnzcozcpz4lz4wu}5r{ckxclxcmxcnxcoxcpx4lx4wu}5t{ckuclucmucnucoucpu4lu4wu}7q{ckuclucmucnucoucpu4lu}6p{17sw5tw5ou5qu}ek{17st5tt5qu}el{17st5tt5ou5qu}em{17st5tt5qu}en{17st5tt5qu}eo{17st5tt5qu}ep{17st5tt5ou5qu}es{17ss5ts5qu}et{17sw5tw5ou5qu}eu{17sw5tw5ou5qu}ev{17ss5ts5qu}6z{17sw5tw5ou5qu5rs}fm{17sw5tw5ou5qu5rs}fn{17sw5tw5ou5qu5rs}fo{17sw5tw5ou5qu5rs}fp{17sw5tw5ou5qu5rs}fq{17sw5tw5ou5qu5rs}7r{cktcltcmtcntcotcpt4lt5os}fs{17sw5tw5ou5qu5rs}ft{17su5tu5ou5qu}7m{5os}fv{17su5tu5ou5qu}fw{17su5tu5ou5qu}fz{cksclscmscnscoscps4ls}}}"),Symbol:f("{'widths'{k3uaw4r19m3m2k1t2l2l202m2y2n3m2p5n202q6o3k3m2s2l2t2l2v3r2w1t3m3m2y1t2z1wbk2sbl3r'fof'6o3n3m3o3m3p3m3q3m3r3m3s3m3t3m3u1w3v1w3w3r3x3r3y3r3z2wbp3t3l3m5v2l5x2l5z3m2q4yfr3r7v3k7w1o7x3k}'kerning'{'fof'-6o}}"),Helvetica:f("{'widths'{k3p2q4mcx1w201n3r201o6o201s1q201t1q201u1q201w2l201x2l201y2l2k1w2l1w202m2n2n3r2o3r2p5t202q6o2r1n2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v1w3w3u3x3u3y3u3z3r4k6p4l4m4m4m4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3m4v4m4w3r4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v1w5w1w5x1w5y2z5z3r6k2l6l3r6m3r6n3m6o3r6p3r6q1w6r3r6s3r6t1q6u1q6v3m6w1q6x5n6y3r6z3r7k3r7l3r7m2l7n3m7o1w7p3r7q3m7r4s7s3m7t3m7u3m7v2l7w1u7x2l7y3u202l3rcl4mal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3rbr1wbs2lbu2obv3rbz3xck4m202k3rcm4mcn4mco4mcp4mcq6ocr4scs4mct4mcu4mcv4mcw1w2m2ncy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3mes3ret3reu3rev3rew1wex1wey1wez1wfl3rfm3rfn3rfo3rfp3rfq3rfr3ufs3xft3rfu3rfv3rfw3rfz3m203k6o212m6o2dw2l2cq2l3t3r3u1w17s4m19m3r}'kerning'{5q{4wv}cl{4qs5kw5ow5qs17sv5tv}201t{2wu4w1k2yu}201x{2wu4wy2yu}17s{2ktclucmucnu4otcpu4lu4wycoucku}2w{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}2x{17sy5ty5oy5qs}2y{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}'fof'-6o7p{17sv5tv5ow}ck{4qs5kw5ow5qs17sv5tv}4l{4qs5kw5ow5qs17sv5tv}cm{4qs5kw5ow5qs17sv5tv}cn{4qs5kw5ow5qs17sv5tv}co{4qs5kw5ow5qs17sv5tv}cp{4qs5kw5ow5qs17sv5tv}6l{17sy5ty5ow}do{17st5tt}4z{17st5tt}7s{fst}dm{17st5tt}dn{17st5tt}5o{ckwclwcmwcnwcowcpw4lw4wv}dp{17st5tt}dq{17st5tt}7t{5ow}ds{17st5tt}5t{2ktclucmucnu4otcpu4lu4wycoucku}fu{17sv5tv5ow}6p{17sy5ty5ow5qs}ek{17sy5ty5ow}el{17sy5ty5ow}em{17sy5ty5ow}en{5ty}eo{17sy5ty5ow}ep{17sy5ty5ow}es{17sy5ty5qs}et{17sy5ty5ow5qs}eu{17sy5ty5ow5qs}ev{17sy5ty5ow5qs}6z{17sy5ty5ow5qs}fm{17sy5ty5ow5qs}fn{17sy5ty5ow5qs}fo{17sy5ty5ow5qs}fp{17sy5ty5qs}fq{17sy5ty5ow5qs}7r{5ow}fs{17sy5ty5ow5qs}ft{17sv5tv5ow}7m{5ow}fv{17sv5tv5ow}fw{17sv5tv5ow}}}"),"Helvetica-BoldOblique":f("{'widths'{k3s2q4scx1w201n3r201o6o201s1w201t1w201u1w201w3m201x3m201y3m2k1w2l2l202m2n2n3r2o3r2p5t202q6o2r1s2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v2l3w3u3x3u3y3u3z3x4k6l4l4s4m4s4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3r4v4s4w3x4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v2l5w1w5x2l5y3u5z3r6k2l6l3r6m3x6n3r6o3x6p3r6q2l6r3x6s3x6t1w6u1w6v3r6w1w6x5t6y3x6z3x7k3x7l3x7m2r7n3r7o2l7p3x7q3r7r4y7s3r7t3r7u3m7v2r7w1w7x2r7y3u202l3rcl4sal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3xbq3rbr1wbs2lbu2obv3rbz3xck4s202k3rcm4scn4sco4scp4scq6ocr4scs4mct4mcu4mcv4mcw1w2m2zcy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3res3ret3reu3rev3rew1wex1wey1wez1wfl3xfm3xfn3xfo3xfp3xfq3xfr3ufs3xft3xfu3xfv3xfw3xfz3r203k6o212m6o2dw2l2cq2l3t3r3u2l17s4m19m3r}'kerning'{cl{4qs5ku5ot5qs17sv5tv}201t{2ww4wy2yw}201w{2ks}201x{2ww4wy2yw}2k{201ts201xs}2w{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}2x{5ow5qs}2y{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}'fof'-6o7p{17su5tu5ot}ck{4qs5ku5ot5qs17sv5tv}4l{4qs5ku5ot5qs17sv5tv}cm{4qs5ku5ot5qs17sv5tv}cn{4qs5ku5ot5qs17sv5tv}co{4qs5ku5ot5qs17sv5tv}cp{4qs5ku5ot5qs17sv5tv}6l{17st5tt5os}17s{2kwclvcmvcnvcovcpv4lv4wwckv}5o{2kucltcmtcntcotcpt4lt4wtckt}5q{2ksclscmscnscoscps4ls4wvcks}5r{2ks4ws}5t{2kwclvcmvcnvcovcpv4lv4wwckv}eo{17st5tt5os}fu{17su5tu5ot}6p{17ss5ts}ek{17st5tt5os}el{17st5tt5os}em{17st5tt5os}en{17st5tt5os}6o{201ts}ep{17st5tt5os}es{17ss5ts}et{17ss5ts}eu{17ss5ts}ev{17ss5ts}6z{17su5tu5os5qt}fm{17su5tu5os5qt}fn{17su5tu5os5qt}fo{17su5tu5os5qt}fp{17su5tu5os5qt}fq{17su5tu5os5qt}fs{17su5tu5os5qt}ft{17su5tu5ot}7m{5os}fv{17su5tu5ot}fw{17su5tu5ot}}}"),ZapfDingbats:f("{'widths'{k4u2k1w'fof'6o}'kerning'{'fof'-6o}}"),"Courier-Bold":f("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Times-Italic":f("{'widths'{k3n2q4ycx2l201n3m201o5t201s2l201t2l201u2l201w3r201x3r201y3r2k1t2l2l202m2n2n3m2o3m2p5n202q5t2r1p2s2l2t2l2u3m2v4n2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v2l3w4n3x4n3y4n3z3m4k5w4l3x4m3x4n4m4o4s4p3x4q3x4r4s4s4s4t2l4u2w4v4m4w3r4x5n4y4m4z4s5k3x5l4s5m3x5n3m5o3r5p4s5q3x5r5n5s3x5t3r5u3r5v2r5w1w5x2r5y2u5z3m6k2l6l3m6m3m6n2w6o3m6p2w6q1w6r3m6s3m6t1w6u1w6v2w6w1w6x4s6y3m6z3m7k3m7l3m7m2r7n2r7o1w7p3m7q2w7r4m7s2w7t2w7u2r7v2s7w1v7x2s7y3q202l3mcl3xal2ram3man3mao3map3mar3mas2lat4wau1vav3maw4nay4waz2lbk2sbl4n'fof'6obo2lbp3mbq3obr1tbs2lbu1zbv3mbz3mck3x202k3mcm3xcn3xco3xcp3xcq5tcr4mcs3xct3xcu3xcv3xcw2l2m2ucy2lcz2ldl4mdm4sdn4sdo4sdp4sdq4sds4sdt4sdu4sdv4sdw4sdz3mek3mel3mem3men3meo3mep3meq4mer2wes2wet2weu2wev2wew1wex1wey1wez1wfl3mfm3mfn3mfo3mfp3mfq3mfr4nfs3mft3mfu3mfv3mfw3mfz2w203k6o212m6m2dw2l2cq2l3t3m3u2l17s3r19m3m}'kerning'{cl{5kt4qw}201s{201sw}201t{201tw2wy2yy6q-t}201x{2wy2yy}2k{201tw}2w{7qs4qy7rs5ky7mw5os5qx5ru17su5tu}2x{17ss5ts5os}2y{7qs4qy7rs5ky7mw5os5qx5ru17su5tu}'fof'-6o6t{17ss5ts5qs}7t{5os}3v{5qs}7p{17su5tu5qs}ck{5kt4qw}4l{5kt4qw}cm{5kt4qw}cn{5kt4qw}co{5kt4qw}cp{5kt4qw}6l{4qs5ks5ou5qw5ru17su5tu}17s{2ks}5q{ckvclvcmvcnvcovcpv4lv}5r{ckuclucmucnucoucpu4lu}5t{2ks}6p{4qs5ks5ou5qw5ru17su5tu}ek{4qs5ks5ou5qw5ru17su5tu}el{4qs5ks5ou5qw5ru17su5tu}em{4qs5ks5ou5qw5ru17su5tu}en{4qs5ks5ou5qw5ru17su5tu}eo{4qs5ks5ou5qw5ru17su5tu}ep{4qs5ks5ou5qw5ru17su5tu}es{5ks5qs4qs}et{4qs5ks5ou5qw5ru17su5tu}eu{4qs5ks5qw5ru17su5tu}ev{5ks5qs4qs}ex{17ss5ts5qs}6z{4qv5ks5ou5qw5ru17su5tu}fm{4qv5ks5ou5qw5ru17su5tu}fn{4qv5ks5ou5qw5ru17su5tu}fo{4qv5ks5ou5qw5ru17su5tu}fp{4qv5ks5ou5qw5ru17su5tu}fq{4qv5ks5ou5qw5ru17su5tu}7r{5os}fs{4qv5ks5ou5qw5ru17su5tu}ft{17su5tu5qs}fu{17su5tu5qs}fv{17su5tu5qs}fw{17su5tu5qs}}}"),"Times-Roman":f("{'widths'{k3n2q4ycx2l201n3m201o6o201s2l201t2l201u2l201w2w201x2w201y2w2k1t2l2l202m2n2n3m2o3m2p5n202q6o2r1m2s2l2t2l2u3m2v3s2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v1w3w3s3x3s3y3s3z2w4k5w4l4s4m4m4n4m4o4s4p3x4q3r4r4s4s4s4t2l4u2r4v4s4w3x4x5t4y4s4z4s5k3r5l4s5m4m5n3r5o3x5p4s5q4s5r5y5s4s5t4s5u3x5v2l5w1w5x2l5y2z5z3m6k2l6l2w6m3m6n2w6o3m6p2w6q2l6r3m6s3m6t1w6u1w6v3m6w1w6x4y6y3m6z3m7k3m7l3m7m2l7n2r7o1w7p3m7q3m7r4s7s3m7t3m7u2w7v3k7w1o7x3k7y3q202l3mcl4sal2lam3man3mao3map3mar3mas2lat4wau1vav3maw3say4waz2lbk2sbl3s'fof'6obo2lbp3mbq2xbr1tbs2lbu1zbv3mbz2wck4s202k3mcm4scn4sco4scp4scq5tcr4mcs3xct3xcu3xcv3xcw2l2m2tcy2lcz2ldl4sdm4sdn4sdo4sdp4sdq4sds4sdt4sdu4sdv4sdw4sdz3mek2wel2wem2wen2weo2wep2weq4mer2wes2wet2weu2wev2wew1wex1wey1wez1wfl3mfm3mfn3mfo3mfp3mfq3mfr3sfs3mft3mfu3mfv3mfw3mfz3m203k6o212m6m2dw2l2cq2l3t3m3u1w17s4s19m3m}'kerning'{cl{4qs5ku17sw5ou5qy5rw201ss5tw201ws}201s{201ss}201t{ckw4lwcmwcnwcowcpwclw4wu201ts}2k{201ts}2w{4qs5kw5os5qx5ru17sx5tx}2x{17sw5tw5ou5qu}2y{4qs5kw5os5qx5ru17sx5tx}'fof'-6o7t{ckuclucmucnucoucpu4lu5os5rs}3u{17su5tu5qs}3v{17su5tu5qs}7p{17sw5tw5qs}ck{4qs5ku17sw5ou5qy5rw201ss5tw201ws}4l{4qs5ku17sw5ou5qy5rw201ss5tw201ws}cm{4qs5ku17sw5ou5qy5rw201ss5tw201ws}cn{4qs5ku17sw5ou5qy5rw201ss5tw201ws}co{4qs5ku17sw5ou5qy5rw201ss5tw201ws}cp{4qs5ku17sw5ou5qy5rw201ss5tw201ws}6l{17su5tu5os5qw5rs}17s{2ktclvcmvcnvcovcpv4lv4wuckv}5o{ckwclwcmwcnwcowcpw4lw4wu}5q{ckyclycmycnycoycpy4ly4wu5ms}5r{cktcltcmtcntcotcpt4lt4ws}5t{2ktclvcmvcnvcovcpv4lv4wuckv}7q{cksclscmscnscoscps4ls}6p{17su5tu5qw5rs}ek{5qs5rs}el{17su5tu5os5qw5rs}em{17su5tu5os5qs5rs}en{17su5qs5rs}eo{5qs5rs}ep{17su5tu5os5qw5rs}es{5qs}et{17su5tu5qw5rs}eu{17su5tu5qs5rs}ev{5qs}6z{17sv5tv5os5qx5rs}fm{5os5qt5rs}fn{17sv5tv5os5qx5rs}fo{17sv5tv5os5qx5rs}fp{5os5qt5rs}fq{5os5qt5rs}7r{ckuclucmucnucoucpu4lu5os}fs{17sv5tv5os5qx5rs}ft{17ss5ts5qs}fu{17sw5tw5qs}fv{17sw5tw5qs}fw{17ss5ts5qs}fz{ckuclucmucnucoucpu4lu5os5rs}}}"),"Helvetica-Oblique":f("{'widths'{k3p2q4mcx1w201n3r201o6o201s1q201t1q201u1q201w2l201x2l201y2l2k1w2l1w202m2n2n3r2o3r2p5t202q6o2r1n2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v1w3w3u3x3u3y3u3z3r4k6p4l4m4m4m4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3m4v4m4w3r4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v1w5w1w5x1w5y2z5z3r6k2l6l3r6m3r6n3m6o3r6p3r6q1w6r3r6s3r6t1q6u1q6v3m6w1q6x5n6y3r6z3r7k3r7l3r7m2l7n3m7o1w7p3r7q3m7r4s7s3m7t3m7u3m7v2l7w1u7x2l7y3u202l3rcl4mal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3rbr1wbs2lbu2obv3rbz3xck4m202k3rcm4mcn4mco4mcp4mcq6ocr4scs4mct4mcu4mcv4mcw1w2m2ncy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3mes3ret3reu3rev3rew1wex1wey1wez1wfl3rfm3rfn3rfo3rfp3rfq3rfr3ufs3xft3rfu3rfv3rfw3rfz3m203k6o212m6o2dw2l2cq2l3t3r3u1w17s4m19m3r}'kerning'{5q{4wv}cl{4qs5kw5ow5qs17sv5tv}201t{2wu4w1k2yu}201x{2wu4wy2yu}17s{2ktclucmucnu4otcpu4lu4wycoucku}2w{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}2x{17sy5ty5oy5qs}2y{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}'fof'-6o7p{17sv5tv5ow}ck{4qs5kw5ow5qs17sv5tv}4l{4qs5kw5ow5qs17sv5tv}cm{4qs5kw5ow5qs17sv5tv}cn{4qs5kw5ow5qs17sv5tv}co{4qs5kw5ow5qs17sv5tv}cp{4qs5kw5ow5qs17sv5tv}6l{17sy5ty5ow}do{17st5tt}4z{17st5tt}7s{fst}dm{17st5tt}dn{17st5tt}5o{ckwclwcmwcnwcowcpw4lw4wv}dp{17st5tt}dq{17st5tt}7t{5ow}ds{17st5tt}5t{2ktclucmucnu4otcpu4lu4wycoucku}fu{17sv5tv5ow}6p{17sy5ty5ow5qs}ek{17sy5ty5ow}el{17sy5ty5ow}em{17sy5ty5ow}en{5ty}eo{17sy5ty5ow}ep{17sy5ty5ow}es{17sy5ty5qs}et{17sy5ty5ow5qs}eu{17sy5ty5ow5qs}ev{17sy5ty5ow5qs}6z{17sy5ty5ow5qs}fm{17sy5ty5ow5qs}fn{17sy5ty5ow5qs}fo{17sy5ty5ow5qs}fp{17sy5ty5qs}fq{17sy5ty5ow5qs}7r{5ow}fs{17sy5ty5ow5qs}ft{17sv5tv5ow}7m{5ow}fv{17sv5tv5ow}fw{17sv5tv5ow}}}")}};e.events.push(["addFont",function(g){var x=g.font,b=p.Unicode[x.postScriptName];b&&(x.metadata.Unicode={},x.metadata.Unicode.widths=b.widths,x.metadata.Unicode.kerning=b.kerning);var y=h.Unicode[x.postScriptName];y&&(x.metadata.Unicode.encoding=y,x.encoding=y.codePages[0])}])})($t.API),(function(e){var t=function(r){for(var n=r.length,a=new Uint8Array(n),i=0;i<n;i++)a[i]=r.charCodeAt(i);return a};e.API.events.push(["addFont",function(r){var n=void 0,a=r.font,i=r.instance;if(!a.isStandardFont){if(i===void 0)throw new Error("Font does not exist in vFS, import fonts or remove declaration doc.addFont('"+a.postScriptName+"').");if(typeof(n=i.existsFileInVFS(a.postScriptName)===!1?i.loadFile(a.postScriptName):i.getFileFromVFS(a.postScriptName))!="string")throw new Error("Font is not stored as string-data in vFS, import fonts or remove declaration doc.addFont('"+a.postScriptName+"').");(function(l,o){o=/^\x00\x01\x00\x00/.test(o)?t(o):t(Mv(o)),l.metadata=e.API.TTFFont.open(o),l.metadata.Unicode=l.metadata.Unicode||{encoding:{},kerning:{},widths:[]},l.metadata.glyIdsUsed=[0]})(a,n)}}])})($t),$t.API.addSvgAsImage=function(e,t,r,n,a,i,l,o){if(isNaN(t)||isNaN(r))throw Rn.error("jsPDF.addSvgAsImage: Invalid coordinates",arguments),new Error("Invalid coordinates passed to jsPDF.addSvgAsImage");if(isNaN(n)||isNaN(a))throw Rn.error("jsPDF.addSvgAsImage: Invalid measurements",arguments),new Error("Invalid measurements (width and/or height) passed to jsPDF.addSvgAsImage");var f=document.createElement("canvas");f.width=n,f.height=a;var u=f.getContext("2d");u.fillStyle="#fff",u.fillRect(0,0,f.width,f.height);var h={ignoreMouse:!0,ignoreAnimation:!0,ignoreDimensions:!0},p=this;return(pr.canvg?Promise.resolve(pr.canvg):gw(()=>import("./index.es-BHf7nHSj.js"),[])).catch(function(g){return Promise.reject(new Error("Could not load canvg: "+g))}).then(function(g){return g.default?g.default:g}).then(function(g){return g.fromString(u,e,h)},function(){return Promise.reject(new Error("Could not load canvg."))}).then(function(g){return g.render(h)}).then(function(){p.addImage(f.toDataURL("image/jpeg",1),t,r,n,a,l,o)})},$t.API.putTotalPages=function(e){var t,r=0;parseInt(this.internal.getFont().id.substr(1),10)<15?(t=new RegExp(e,"g"),r=this.internal.getNumberOfPages()):(t=new RegExp(this.pdfEscape16(e,this.internal.getFont()),"g"),r=this.pdfEscape16(this.internal.getNumberOfPages()+"",this.internal.getFont()));for(var n=1;n<=this.internal.getNumberOfPages();n++)for(var a=0;a<this.internal.pages[n].length;a++)this.internal.pages[n][a]=this.internal.pages[n][a].replace(t,r);return this},$t.API.viewerPreferences=function(e,t){var r;e=e||{},t=t||!1;var n,a,i,l={HideToolbar:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},HideMenubar:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},HideWindowUI:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},FitWindow:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},CenterWindow:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},DisplayDocTitle:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.4},NonFullScreenPageMode:{defaultValue:"UseNone",value:"UseNone",type:"name",explicitSet:!1,valueSet:["UseNone","UseOutlines","UseThumbs","UseOC"],pdfVersion:1.3},Direction:{defaultValue:"L2R",value:"L2R",type:"name",explicitSet:!1,valueSet:["L2R","R2L"],pdfVersion:1.3},ViewArea:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},ViewClip:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},PrintArea:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},PrintClip:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},PrintScaling:{defaultValue:"AppDefault",value:"AppDefault",type:"name",explicitSet:!1,valueSet:["AppDefault","None"],pdfVersion:1.6},Duplex:{defaultValue:"",value:"none",type:"name",explicitSet:!1,valueSet:["Simplex","DuplexFlipShortEdge","DuplexFlipLongEdge","none"],pdfVersion:1.7},PickTrayByPDFSize:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.7},PrintPageRange:{defaultValue:"",value:"",type:"array",explicitSet:!1,valueSet:null,pdfVersion:1.7},NumCopies:{defaultValue:1,value:1,type:"integer",explicitSet:!1,valueSet:null,pdfVersion:1.7}},o=Object.keys(l),f=[],u=0,h=0,p=0;function g(b,y){var w,_=!1;for(w=0;w<b.length;w+=1)b[w]===y&&(_=!0);return _}if(this.internal.viewerpreferences===void 0&&(this.internal.viewerpreferences={},this.internal.viewerpreferences.configuration=JSON.parse(JSON.stringify(l)),this.internal.viewerpreferences.isSubscribed=!1),r=this.internal.viewerpreferences.configuration,e==="reset"||t===!0){var x=o.length;for(p=0;p<x;p+=1)r[o[p]].value=r[o[p]].defaultValue,r[o[p]].explicitSet=!1}if(_n(e)==="object"){for(a in e)if(i=e[a],g(o,a)&&i!==void 0){if(r[a].type==="boolean"&&typeof i=="boolean")r[a].value=i;else if(r[a].type==="name"&&g(r[a].valueSet,i))r[a].value=i;else if(r[a].type==="integer"&&Number.isInteger(i))r[a].value=i;else if(r[a].type==="array"){for(u=0;u<i.length;u+=1)if(n=!0,i[u].length===1&&typeof i[u][0]=="number")f.push(String(i[u]-1));else if(i[u].length>1){for(h=0;h<i[u].length;h+=1)typeof i[u][h]!="number"&&(n=!1);n===!0&&f.push([i[u][0]-1,i[u][1]-1].join(" "))}r[a].value="["+f.join(" ")+"]"}else r[a].value=r[a].defaultValue;r[a].explicitSet=!0}}return this.internal.viewerpreferences.isSubscribed===!1&&(this.internal.events.subscribe("putCatalog",function(){var b,y=[];for(b in r)r[b].explicitSet===!0&&(r[b].type==="name"?y.push("/"+b+" /"+r[b].value):y.push("/"+b+" "+r[b].value));y.length!==0&&this.internal.write(`/ViewerPreferences
<<
`+y.join(`
`)+`
>>`)}),this.internal.viewerpreferences.isSubscribed=!0),this.internal.viewerpreferences.configuration=r,this},(function(e){var t=function(){var n='<rdf:RDF xmlns:rdf="http://www.w3.org/1999/02/22-rdf-syntax-ns#"><rdf:Description rdf:about="" xmlns:jspdf="'+this.internal.__metadata__.namespaceuri+'"><jspdf:metadata>',a=unescape(encodeURIComponent('<x:xmpmeta xmlns:x="adobe:ns:meta/">')),i=unescape(encodeURIComponent(n)),l=unescape(encodeURIComponent(this.internal.__metadata__.metadata)),o=unescape(encodeURIComponent("</jspdf:metadata></rdf:Description></rdf:RDF>")),f=unescape(encodeURIComponent("</x:xmpmeta>")),u=i.length+l.length+o.length+a.length+f.length;this.internal.__metadata__.metadata_object_number=this.internal.newObject(),this.internal.write("<< /Type /Metadata /Subtype /XML /Length "+u+" >>"),this.internal.write("stream"),this.internal.write(a+i+l+o+f),this.internal.write("endstream"),this.internal.write("endobj")},r=function(){this.internal.__metadata__.metadata_object_number&&this.internal.write("/Metadata "+this.internal.__metadata__.metadata_object_number+" 0 R")};e.addMetadata=function(n,a){return this.internal.__metadata__===void 0&&(this.internal.__metadata__={metadata:n,namespaceuri:a||"http://jspdf.default.namespaceuri/"},this.internal.events.subscribe("putCatalog",r),this.internal.events.subscribe("postPutResources",t)),this}})($t.API),(function(e){var t=e.API,r=t.pdfEscape16=function(i,l){for(var o,f=l.metadata.Unicode.widths,u=["","0","00","000","0000"],h=[""],p=0,g=i.length;p<g;++p){if(o=l.metadata.characterToGlyph(i.charCodeAt(p)),l.metadata.glyIdsUsed.push(o),l.metadata.toUnicode[o]=i.charCodeAt(p),f.indexOf(o)==-1&&(f.push(o),f.push([parseInt(l.metadata.widthOfGlyph(o),10)])),o=="0")return h.join("");o=o.toString(16),h.push(u[4-o.length],o)}return h.join("")},n=function(i){var l,o,f,u,h,p,g;for(h=`/CIDInit /ProcSet findresource begin
12 dict begin
begincmap
/CIDSystemInfo <<
  /Registry (Adobe)
  /Ordering (UCS)
  /Supplement 0
>> def
/CMapName /Adobe-Identity-UCS def
/CMapType 2 def
1 begincodespacerange
<0000><ffff>
endcodespacerange`,f=[],p=0,g=(o=Object.keys(i).sort(function(x,b){return x-b})).length;p<g;p++)l=o[p],f.length>=100&&(h+=`
`+f.length+` beginbfchar
`+f.join(`
`)+`
endbfchar`,f=[]),i[l]!==void 0&&i[l]!==null&&typeof i[l].toString=="function"&&(u=("0000"+i[l].toString(16)).slice(-4),l=("0000"+(+l).toString(16)).slice(-4),f.push("<"+l+"><"+u+">"));return f.length&&(h+=`
`+f.length+` beginbfchar
`+f.join(`
`)+`
endbfchar
`),h+`endcmap
CMapName currentdict /CMap defineresource pop
end
end`};t.events.push(["putFont",function(i){(function(l){var o=l.font,f=l.out,u=l.newObject,h=l.putStream;if(o.metadata instanceof e.API.TTFFont&&o.encoding==="Identity-H"){for(var p=o.metadata.Unicode.widths,g=o.metadata.subset.encode(o.metadata.glyIdsUsed,1),x="",b=0;b<g.length;b++)x+=String.fromCharCode(g[b]);var y=u();h({data:x,addLength1:!0,objectId:y}),f("endobj");var w=u();h({data:n(o.metadata.toUnicode),addLength1:!0,objectId:w}),f("endobj");var _=u();f("<<"),f("/Type /FontDescriptor"),f("/FontName /"+vm(o.fontName)),f("/FontFile2 "+y+" 0 R"),f("/FontBBox "+e.API.PDFObject.convert(o.metadata.bbox)),f("/Flags "+o.metadata.flags),f("/StemV "+o.metadata.stemV),f("/ItalicAngle "+o.metadata.italicAngle),f("/Ascent "+o.metadata.ascender),f("/Descent "+o.metadata.decender),f("/CapHeight "+o.metadata.capHeight),f(">>"),f("endobj");var E=u();f("<<"),f("/Type /Font"),f("/BaseFont /"+vm(o.fontName)),f("/FontDescriptor "+_+" 0 R"),f("/W "+e.API.PDFObject.convert(p)),f("/CIDToGIDMap /Identity"),f("/DW 1000"),f("/Subtype /CIDFontType2"),f("/CIDSystemInfo"),f("<<"),f("/Supplement 0"),f("/Registry (Adobe)"),f("/Ordering ("+o.encoding+")"),f(">>"),f(">>"),f("endobj"),o.objectNumber=u(),f("<<"),f("/Type /Font"),f("/Subtype /Type0"),f("/ToUnicode "+w+" 0 R"),f("/BaseFont /"+vm(o.fontName)),f("/Encoding /"+o.encoding),f("/DescendantFonts ["+E+" 0 R]"),f(">>"),f("endobj"),o.isAlreadyPutted=!0}})(i)}]),t.events.push(["putFont",function(i){(function(l){var o=l.font,f=l.out,u=l.newObject,h=l.putStream;if(o.metadata instanceof e.API.TTFFont&&o.encoding==="WinAnsiEncoding"){for(var p=o.metadata.rawData,g="",x=0;x<p.length;x++)g+=String.fromCharCode(p[x]);var b=u();h({data:g,addLength1:!0,objectId:b}),f("endobj");var y=u();h({data:n(o.metadata.toUnicode),addLength1:!0,objectId:y}),f("endobj");var w=u();f("<<"),f("/Descent "+o.metadata.decender),f("/CapHeight "+o.metadata.capHeight),f("/StemV "+o.metadata.stemV),f("/Type /FontDescriptor"),f("/FontFile2 "+b+" 0 R"),f("/Flags 96"),f("/FontBBox "+e.API.PDFObject.convert(o.metadata.bbox)),f("/FontName /"+vm(o.fontName)),f("/ItalicAngle "+o.metadata.italicAngle),f("/Ascent "+o.metadata.ascender),f(">>"),f("endobj"),o.objectNumber=u();for(var _=0;_<o.metadata.hmtx.widths.length;_++)o.metadata.hmtx.widths[_]=parseInt(o.metadata.hmtx.widths[_]*(1e3/o.metadata.head.unitsPerEm));f("<</Subtype/TrueType/Type/Font/ToUnicode "+y+" 0 R/BaseFont/"+vm(o.fontName)+"/FontDescriptor "+w+" 0 R/Encoding/"+o.encoding+" /FirstChar 29 /LastChar 255 /Widths "+e.API.PDFObject.convert(o.metadata.hmtx.widths)+">>"),f("endobj"),o.isAlreadyPutted=!0}})(i)}]);var a=function(i){var l,o=i.text||"",f=i.x,u=i.y,h=i.options||{},p=i.mutex||{},g=p.pdfEscape,x=p.activeFontKey,b=p.fonts,y=x,w="",_=0,E="",A=b[y].encoding;if(b[y].encoding!=="Identity-H")return{text:o,x:f,y:u,options:h,mutex:p};for(E=o,y=x,Array.isArray(o)&&(E=o[0]),_=0;_<E.length;_+=1)b[y].metadata.hasOwnProperty("cmap")&&(l=b[y].metadata.cmap.unicode.codeMap[E[_].charCodeAt(0)]),l||E[_].charCodeAt(0)<256&&b[y].metadata.hasOwnProperty("Unicode")?w+=E[_]:w+="";var O="";return parseInt(y.slice(1))<14||A==="WinAnsiEncoding"?O=g(w,y).split("").map(function(D){return D.charCodeAt(0).toString(16)}).join(""):A==="Identity-H"&&(O=r(w,b[y])),p.isHex=!0,{text:O,x:f,y:u,options:h,mutex:p}};t.events.push(["postProcessText",function(i){var l=i.text||"",o=[],f={text:l,x:i.x,y:i.y,options:i.options,mutex:i.mutex};if(Array.isArray(l)){var u=0;for(u=0;u<l.length;u+=1)Array.isArray(l[u])&&l[u].length===3?o.push([a(Object.assign({},f,{text:l[u][0]})).text,l[u][1],l[u][2]]):o.push(a(Object.assign({},f,{text:l[u]})).text);i.text=o}else i.text=a(Object.assign({},f,{text:l})).text}])})($t),(function(e){var t=function(){return this.internal.vFS===void 0&&(this.internal.vFS={}),!0};e.existsFileInVFS=function(r){return t.call(this),this.internal.vFS[r]!==void 0},e.addFileToVFS=function(r,n){return t.call(this),this.internal.vFS[r]=n,this},e.getFileFromVFS=function(r){return t.call(this),this.internal.vFS[r]!==void 0?this.internal.vFS[r]:null}})($t.API),(function(e){e.__bidiEngine__=e.prototype.__bidiEngine__=function(n){var a,i,l,o,f,u,h,p=t,g=[[0,3,0,1,0,0,0],[0,3,0,1,2,2,0],[0,3,0,17,2,0,1],[0,3,5,5,4,1,0],[0,3,21,21,4,0,1],[0,3,5,5,4,2,0]],x=[[2,0,1,1,0,1,0],[2,0,1,1,0,2,0],[2,0,2,1,3,2,0],[2,0,2,33,3,1,1]],b={L:0,R:1,EN:2,AN:3,N:4,B:5,S:6},y={0:0,5:1,6:2,7:3,32:4,251:5,254:6,255:7},w=["(",")","(","<",">","<","[","]","[","{","}","{","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","",""],_=new RegExp(/^([1-4|9]|1[0-9]|2[0-9]|3[0168]|4[04589]|5[012]|7[78]|159|16[0-9]|17[0-2]|21[569]|22[03489]|250)$/),E=!1,A=0;this.__bidiEngine__={};var O=function(I){var z=I.charCodeAt(),K=z>>8,J=y[K];return J!==void 0?p[256*J+(255&z)]:K===252||K===253?"AL":_.test(K)?"L":K===8?"R":"N"},D=function(I){for(var z,K=0;K<I.length;K++){if((z=O(I.charAt(K)))==="L")return!1;if(z==="R")return!0}return!1},R=function(I,z,K,J){var pe,ne,le,ve,ue=z[J];switch(ue){case"L":case"R":case"LRE":case"RLE":case"LRO":case"RLO":case"PDF":E=!1;break;case"N":case"AN":break;case"EN":E&&(ue="AN");break;case"AL":E=!0,ue="R";break;case"WS":case"BN":ue="N";break;case"CS":J<1||J+1>=z.length||(pe=K[J-1])!=="EN"&&pe!=="AN"||(ne=z[J+1])!=="EN"&&ne!=="AN"?ue="N":E&&(ne="AN"),ue=ne===pe?ne:"N";break;case"ES":ue=(pe=J>0?K[J-1]:"B")==="EN"&&J+1<z.length&&z[J+1]==="EN"?"EN":"N";break;case"ET":if(J>0&&K[J-1]==="EN"){ue="EN";break}if(E){ue="N";break}for(le=J+1,ve=z.length;le<ve&&z[le]==="ET";)le++;ue=le<ve&&z[le]==="EN"?"EN":"N";break;case"NSM":if(l&&!o){for(ve=z.length,le=J+1;le<ve&&z[le]==="NSM";)le++;if(le<ve){var je=I[J],te=je>=1425&&je<=2303||je===64286;if(pe=z[le],te&&(pe==="R"||pe==="AL")){ue="R";break}}}ue=J<1||(pe=z[J-1])==="B"?"N":K[J-1];break;case"B":E=!1,a=!0,ue=A;break;case"S":i=!0,ue="N"}return ue},P=function(I,z,K){var J=I.split("");return K&&T(J,K,{hiLevel:A}),J.reverse(),z&&z.reverse(),J.join("")},T=function(I,z,K){var J,pe,ne,le,ve,ue=-1,je=I.length,te=0,F=[],M=A?x:g,q=[];for(E=!1,a=!1,i=!1,pe=0;pe<je;pe++)q[pe]=O(I[pe]);for(ne=0;ne<je;ne++){if(ve=te,F[ne]=R(I,q,F,ne),J=240&(te=M[ve][b[F[ne]]]),te&=15,z[ne]=le=M[te][5],J>0)if(J===16){for(pe=ue;pe<ne;pe++)z[pe]=1;ue=-1}else ue=-1;if(M[te][6])ue===-1&&(ue=ne);else if(ue>-1){for(pe=ue;pe<ne;pe++)z[pe]=le;ue=-1}q[ne]==="B"&&(z[ne]=0),K.hiLevel|=le}i&&(function(W,Z,oe){for(var ce=0;ce<oe;ce++)if(W[ce]==="S"){Z[ce]=A;for(var ae=ce-1;ae>=0&&W[ae]==="WS";ae--)Z[ae]=A}})(q,z,je)},B=function(I,z,K,J,pe){if(!(pe.hiLevel<I)){if(I===1&&A===1&&!a)return z.reverse(),void(K&&K.reverse());for(var ne,le,ve,ue,je=z.length,te=0;te<je;){if(J[te]>=I){for(ve=te+1;ve<je&&J[ve]>=I;)ve++;for(ue=te,le=ve-1;ue<le;ue++,le--)ne=z[ue],z[ue]=z[le],z[le]=ne,K&&(ne=K[ue],K[ue]=K[le],K[le]=ne);te=ve}te++}}},G=function(I,z,K){var J=I.split(""),pe={hiLevel:A};return K||(K=[]),T(J,K,pe),(function(ne,le,ve){if(ve.hiLevel!==0&&h)for(var ue,je=0;je<ne.length;je++)le[je]===1&&(ue=w.indexOf(ne[je]))>=0&&(ne[je]=w[ue+1])})(J,K,pe),B(2,J,z,K,pe),B(1,J,z,K,pe),J.join("")};return this.__bidiEngine__.doBidiReorder=function(I,z,K){if((function(pe,ne){if(ne)for(var le=0;le<pe.length;le++)ne[le]=le;o===void 0&&(o=D(pe)),u===void 0&&(u=D(pe))})(I,z),l||!f||u)if(l&&f&&o^u)A=o?1:0,I=P(I,z,K);else if(!l&&f&&u)A=o?1:0,I=G(I,z,K),I=P(I,z);else if(!l||o||f||u){if(l&&!f&&o^u)I=P(I,z),o?(A=0,I=G(I,z,K)):(A=1,I=G(I,z,K),I=P(I,z));else if(l&&o&&!f&&u)A=1,I=G(I,z,K),I=P(I,z);else if(!l&&!f&&o^u){var J=h;o?(A=1,I=G(I,z,K),A=0,h=!1,I=G(I,z,K),h=J):(A=0,I=G(I,z,K),I=P(I,z),A=1,h=!1,I=G(I,z,K),h=J,I=P(I,z))}}else A=0,I=G(I,z,K);else A=o?1:0,I=G(I,z,K);return I},this.__bidiEngine__.setOptions=function(I){I&&(l=I.isInputVisual,f=I.isOutputVisual,o=I.isInputRtl,u=I.isOutputRtl,h=I.isSymmetricSwapping)},this.__bidiEngine__.setOptions(n),this.__bidiEngine__};var t=["BN","BN","BN","BN","BN","BN","BN","BN","BN","S","B","S","WS","B","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","B","B","B","S","WS","N","N","ET","ET","ET","N","N","N","N","N","ES","CS","ES","CS","CS","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","CS","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","BN","BN","BN","BN","BN","BN","B","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","CS","N","ET","ET","ET","ET","N","N","N","N","L","N","N","BN","N","N","ET","ET","EN","EN","N","L","N","N","N","EN","L","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","N","N","N","N","N","ET","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","R","NSM","R","NSM","NSM","R","NSM","NSM","R","NSM","N","N","N","N","N","N","N","N","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","N","N","N","N","N","R","R","R","R","R","N","N","N","N","N","N","N","N","N","N","N","AN","AN","AN","AN","AN","AN","N","N","AL","ET","ET","AL","CS","AL","N","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AL","AL","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AN","AN","AN","AN","AN","AN","AN","AN","AN","AN","ET","AN","AN","AL","AL","AL","NSM","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AN","N","NSM","NSM","NSM","NSM","NSM","NSM","AL","AL","NSM","NSM","N","NSM","NSM","NSM","NSM","AL","AL","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","N","AL","AL","NSM","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AL","N","N","N","N","N","N","N","N","N","N","N","N","N","N","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","R","R","N","N","N","N","R","N","N","N","N","N","WS","WS","WS","WS","WS","WS","WS","WS","WS","WS","WS","BN","BN","BN","L","R","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","WS","B","LRE","RLE","PDF","LRO","RLO","CS","ET","ET","ET","ET","ET","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","CS","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","WS","BN","BN","BN","BN","BN","N","LRI","RLI","FSI","PDI","BN","BN","BN","BN","BN","BN","EN","L","N","N","EN","EN","EN","EN","EN","EN","ES","ES","N","N","N","L","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","ES","ES","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","L","L","L","L","L","L","L","N","N","N","N","N","N","N","N","N","N","N","N","L","L","L","L","L","N","N","N","N","N","R","NSM","R","R","R","R","R","R","R","R","R","R","ES","R","R","R","R","R","R","R","R","R","R","R","R","R","N","R","R","R","R","R","N","R","N","R","R","N","R","R","N","R","R","R","R","R","R","R","R","R","R","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","CS","N","CS","N","N","CS","N","N","N","N","N","N","N","N","N","ET","N","N","ES","ES","N","N","N","N","N","ET","ET","N","N","N","N","N","AL","AL","AL","AL","AL","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","N","N","BN","N","N","N","ET","ET","ET","N","N","N","N","N","ES","CS","ES","CS","CS","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","CS","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","N","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","L","L","L","L","L","L","N","N","L","L","L","L","L","L","N","N","L","L","L","L","L","L","N","N","L","L","L","N","N","N","ET","ET","N","N","N","ET","ET","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N"],r=new e.__bidiEngine__({isInputVisual:!0});e.API.events.push(["postProcessText",function(n){var a=n.text;n.x,n.y;var i=n.options||{};n.mutex,i.lang;var l=[];if(i.isInputVisual=typeof i.isInputVisual!="boolean"||i.isInputVisual,r.setOptions(i),Object.prototype.toString.call(a)==="[object Array]"){var o=0;for(l=[],o=0;o<a.length;o+=1)Object.prototype.toString.call(a[o])==="[object Array]"?l.push([r.doBidiReorder(a[o][0]),a[o][1],a[o][2]]):l.push([r.doBidiReorder(a[o])]);n.text=l}else n.text=r.doBidiReorder(a);r.setOptions({isInputVisual:!0})}])})($t),$t.API.TTFFont=(function(){function e(t){var r;if(this.rawData=t,r=this.contents=new Fd(t),this.contents.pos=4,r.readString(4)==="ttcf")throw new Error("TTCF not supported.");r.pos=0,this.parse(),this.subset=new G4e(this),this.registerTTF()}return e.open=function(t){return new e(t)},e.prototype.parse=function(){return this.directory=new P4e(this.contents),this.head=new L4e(this),this.name=new U4e(this),this.cmap=new eU(this),this.toUnicode={},this.hhea=new M4e(this),this.maxp=new z4e(this),this.hmtx=new q4e(this),this.post=new I4e(this),this.os2=new R4e(this),this.loca=new W4e(this),this.glyf=new $4e(this),this.ascender=this.os2.exists&&this.os2.ascender||this.hhea.ascender,this.decender=this.os2.exists&&this.os2.decender||this.hhea.decender,this.lineGap=this.os2.exists&&this.os2.lineGap||this.hhea.lineGap,this.bbox=[this.head.xMin,this.head.yMin,this.head.xMax,this.head.yMax]},e.prototype.registerTTF=function(){var t,r,n,a,i;if(this.scaleFactor=1e3/this.head.unitsPerEm,this.bbox=(function(){var l,o,f,u;for(u=[],l=0,o=(f=this.bbox).length;l<o;l++)t=f[l],u.push(Math.round(t*this.scaleFactor));return u}).call(this),this.stemV=0,this.post.exists?(n=255&(a=this.post.italic_angle),32768&(r=a>>16)&&(r=-(1+(65535^r))),this.italicAngle=+(r+"."+n)):this.italicAngle=0,this.ascender=Math.round(this.ascender*this.scaleFactor),this.decender=Math.round(this.decender*this.scaleFactor),this.lineGap=Math.round(this.lineGap*this.scaleFactor),this.capHeight=this.os2.exists&&this.os2.capHeight||this.ascender,this.xHeight=this.os2.exists&&this.os2.xHeight||0,this.familyClass=(this.os2.exists&&this.os2.familyClass||0)>>8,this.isSerif=(i=this.familyClass)===1||i===2||i===3||i===4||i===5||i===7,this.isScript=this.familyClass===10,this.flags=0,this.post.isFixedPitch&&(this.flags|=1),this.isSerif&&(this.flags|=2),this.isScript&&(this.flags|=8),this.italicAngle!==0&&(this.flags|=64),this.flags|=32,!this.cmap.unicode)throw new Error("No unicode cmap for font")},e.prototype.characterToGlyph=function(t){var r;return((r=this.cmap.unicode)!=null?r.codeMap[t]:void 0)||0},e.prototype.widthOfGlyph=function(t){var r;return r=1e3/this.head.unitsPerEm,this.hmtx.forGlyph(t).advance*r},e.prototype.widthOfString=function(t,r,n){var a,i,l,o;for(l=0,i=0,o=(t=""+t).length;0<=o?i<o:i>o;i=0<=o?++i:--i)a=t.charCodeAt(i),l+=this.widthOfGlyph(this.characterToGlyph(a))+n*(1e3/r)||0;return l*(r/1e3)},e.prototype.lineHeight=function(t,r){var n;return r==null&&(r=!1),n=r?this.lineGap:0,(this.ascender+n-this.decender)/1e3*t},e})();var Pc,Fd=(function(){function e(t){this.data=t??[],this.pos=0,this.length=this.data.length}return e.prototype.readByte=function(){return this.data[this.pos++]},e.prototype.writeByte=function(t){return this.data[this.pos++]=t},e.prototype.readUInt32=function(){return 16777216*this.readByte()+(this.readByte()<<16)+(this.readByte()<<8)+this.readByte()},e.prototype.writeUInt32=function(t){return this.writeByte(t>>>24&255),this.writeByte(t>>16&255),this.writeByte(t>>8&255),this.writeByte(255&t)},e.prototype.readInt32=function(){var t;return(t=this.readUInt32())>=2147483648?t-4294967296:t},e.prototype.writeInt32=function(t){return t<0&&(t+=4294967296),this.writeUInt32(t)},e.prototype.readUInt16=function(){return this.readByte()<<8|this.readByte()},e.prototype.writeUInt16=function(t){return this.writeByte(t>>8&255),this.writeByte(255&t)},e.prototype.readInt16=function(){var t;return(t=this.readUInt16())>=32768?t-65536:t},e.prototype.writeInt16=function(t){return t<0&&(t+=65536),this.writeUInt16(t)},e.prototype.readString=function(t){var r,n;for(n=[],r=0;0<=t?r<t:r>t;r=0<=t?++r:--r)n[r]=String.fromCharCode(this.readByte());return n.join("")},e.prototype.writeString=function(t){var r,n,a;for(a=[],r=0,n=t.length;0<=n?r<n:r>n;r=0<=n?++r:--r)a.push(this.writeByte(t.charCodeAt(r)));return a},e.prototype.readShort=function(){return this.readInt16()},e.prototype.writeShort=function(t){return this.writeInt16(t)},e.prototype.readLongLong=function(){var t,r,n,a,i,l,o,f;return t=this.readByte(),r=this.readByte(),n=this.readByte(),a=this.readByte(),i=this.readByte(),l=this.readByte(),o=this.readByte(),f=this.readByte(),128&t?-1*(72057594037927940*(255^t)+281474976710656*(255^r)+1099511627776*(255^n)+4294967296*(255^a)+16777216*(255^i)+65536*(255^l)+256*(255^o)+(255^f)+1):72057594037927940*t+281474976710656*r+1099511627776*n+4294967296*a+16777216*i+65536*l+256*o+f},e.prototype.writeLongLong=function(t){var r,n;return r=Math.floor(t/4294967296),n=4294967295&t,this.writeByte(r>>24&255),this.writeByte(r>>16&255),this.writeByte(r>>8&255),this.writeByte(255&r),this.writeByte(n>>24&255),this.writeByte(n>>16&255),this.writeByte(n>>8&255),this.writeByte(255&n)},e.prototype.readInt=function(){return this.readInt32()},e.prototype.writeInt=function(t){return this.writeInt32(t)},e.prototype.read=function(t){var r,n;for(r=[],n=0;0<=t?n<t:n>t;n=0<=t?++n:--n)r.push(this.readByte());return r},e.prototype.write=function(t){var r,n,a,i;for(i=[],n=0,a=t.length;n<a;n++)r=t[n],i.push(this.writeByte(r));return i},e})(),P4e=(function(){var e;function t(r){var n,a,i;for(this.scalarType=r.readInt(),this.tableCount=r.readShort(),this.searchRange=r.readShort(),this.entrySelector=r.readShort(),this.rangeShift=r.readShort(),this.tables={},a=0,i=this.tableCount;0<=i?a<i:a>i;a=0<=i?++a:--a)n={tag:r.readString(4),checksum:r.readInt(),offset:r.readInt(),length:r.readInt()},this.tables[n.tag]=n}return t.prototype.encode=function(r){var n,a,i,l,o,f,u,h,p,g,x,b,y;for(y in x=Object.keys(r).length,f=Math.log(2),p=16*Math.floor(Math.log(x)/f),l=Math.floor(p/f),h=16*x-p,(a=new Fd).writeInt(this.scalarType),a.writeShort(x),a.writeShort(p),a.writeShort(l),a.writeShort(h),i=16*x,u=a.pos+i,o=null,b=[],r)for(g=r[y],a.writeString(y),a.writeInt(e(g)),a.writeInt(u),a.writeInt(g.length),b=b.concat(g),y==="head"&&(o=u),u+=g.length;u%4;)b.push(0),u++;return a.write(b),n=2981146554-e(a.data),a.pos=o+8,a.writeUInt32(n),a.data},e=function(r){var n,a,i,l;for(r=tU.call(r);r.length%4;)r.push(0);for(i=new Fd(r),a=0,n=0,l=r.length;n<l;n=n+=4)a+=i.readUInt32();return 4294967295&a},t})(),F4e={}.hasOwnProperty,mu=function(e,t){for(var r in t)F4e.call(t,r)&&(e[r]=t[r]);function n(){this.constructor=e}return n.prototype=t.prototype,e.prototype=new n,e.__super__=t.prototype,e};Pc=(function(){function e(t){var r;this.file=t,r=this.file.directory.tables[this.tag],this.exists=!!r,r&&(this.offset=r.offset,this.length=r.length,this.parse(this.file.contents))}return e.prototype.parse=function(){},e.prototype.encode=function(){},e.prototype.raw=function(){return this.exists?(this.file.contents.pos=this.offset,this.file.contents.read(this.length)):null},e})();var L4e=(function(){function e(){return e.__super__.constructor.apply(this,arguments)}return mu(e,Pc),e.prototype.tag="head",e.prototype.parse=function(t){return t.pos=this.offset,this.version=t.readInt(),this.revision=t.readInt(),this.checkSumAdjustment=t.readInt(),this.magicNumber=t.readInt(),this.flags=t.readShort(),this.unitsPerEm=t.readShort(),this.created=t.readLongLong(),this.modified=t.readLongLong(),this.xMin=t.readShort(),this.yMin=t.readShort(),this.xMax=t.readShort(),this.yMax=t.readShort(),this.macStyle=t.readShort(),this.lowestRecPPEM=t.readShort(),this.fontDirectionHint=t.readShort(),this.indexToLocFormat=t.readShort(),this.glyphDataFormat=t.readShort()},e.prototype.encode=function(t){var r;return(r=new Fd).writeInt(this.version),r.writeInt(this.revision),r.writeInt(this.checkSumAdjustment),r.writeInt(this.magicNumber),r.writeShort(this.flags),r.writeShort(this.unitsPerEm),r.writeLongLong(this.created),r.writeLongLong(this.modified),r.writeShort(this.xMin),r.writeShort(this.yMin),r.writeShort(this.xMax),r.writeShort(this.yMax),r.writeShort(this.macStyle),r.writeShort(this.lowestRecPPEM),r.writeShort(this.fontDirectionHint),r.writeShort(t),r.writeShort(this.glyphDataFormat),r.data},e})(),aD=(function(){function e(t,r){var n,a,i,l,o,f,u,h,p,g,x,b,y,w,_,E,A;switch(this.platformID=t.readUInt16(),this.encodingID=t.readShort(),this.offset=r+t.readInt(),p=t.pos,t.pos=this.offset,this.format=t.readUInt16(),this.length=t.readUInt16(),this.language=t.readUInt16(),this.isUnicode=this.platformID===3&&this.encodingID===1&&this.format===4||this.platformID===0&&this.format===4,this.codeMap={},this.format){case 0:for(f=0;f<256;++f)this.codeMap[f]=t.readByte();break;case 4:for(x=t.readUInt16(),g=x/2,t.pos+=6,i=(function(){var O,D;for(D=[],f=O=0;0<=g?O<g:O>g;f=0<=g?++O:--O)D.push(t.readUInt16());return D})(),t.pos+=2,y=(function(){var O,D;for(D=[],f=O=0;0<=g?O<g:O>g;f=0<=g?++O:--O)D.push(t.readUInt16());return D})(),u=(function(){var O,D;for(D=[],f=O=0;0<=g?O<g:O>g;f=0<=g?++O:--O)D.push(t.readUInt16());return D})(),h=(function(){var O,D;for(D=[],f=O=0;0<=g?O<g:O>g;f=0<=g?++O:--O)D.push(t.readUInt16());return D})(),a=(this.length-t.pos+this.offset)/2,o=(function(){var O,D;for(D=[],f=O=0;0<=a?O<a:O>a;f=0<=a?++O:--O)D.push(t.readUInt16());return D})(),f=_=0,A=i.length;_<A;f=++_)for(w=i[f],n=E=b=y[f];b<=w?E<=w:E>=w;n=b<=w?++E:--E)h[f]===0?l=n+u[f]:(l=o[h[f]/2+(n-b)-(g-f)]||0)!==0&&(l+=u[f]),this.codeMap[n]=65535&l}t.pos=p}return e.encode=function(t,r){var n,a,i,l,o,f,u,h,p,g,x,b,y,w,_,E,A,O,D,R,P,T,B,G,I,z,K,J,pe,ne,le,ve,ue,je,te,F,M,q,W,Z,oe,ce,ae,Se,De,X;switch(J=new Fd,l=Object.keys(t).sort(function(Ke,Ce){return Ke-Ce}),r){case"macroman":for(y=0,w=(function(){var Ke=[];for(b=0;b<256;++b)Ke.push(0);return Ke})(),E={0:0},i={},pe=0,ue=l.length;pe<ue;pe++)E[ae=t[a=l[pe]]]==null&&(E[ae]=++y),i[a]={old:t[a],new:E[t[a]]},w[a]=E[t[a]];return J.writeUInt16(1),J.writeUInt16(0),J.writeUInt32(12),J.writeUInt16(0),J.writeUInt16(262),J.writeUInt16(0),J.write(w),{charMap:i,subtable:J.data,maxGlyphID:y+1};case"unicode":for(z=[],p=[],A=0,E={},n={},_=u=null,ne=0,je=l.length;ne<je;ne++)E[D=t[a=l[ne]]]==null&&(E[D]=++A),n[a]={old:D,new:E[D]},o=E[D]-a,_!=null&&o===u||(_&&p.push(_),z.push(a),u=o),_=a;for(_&&p.push(_),p.push(65535),z.push(65535),G=2*(B=z.length),T=2*Math.pow(Math.log(B)/Math.LN2,2),g=Math.log(T/2)/Math.LN2,P=2*B-T,f=[],R=[],x=[],b=le=0,te=z.length;le<te;b=++le){if(I=z[b],h=p[b],I===65535){f.push(0),R.push(0);break}if(I-(K=n[I].new)>=32768)for(f.push(0),R.push(2*(x.length+B-b)),a=ve=I;I<=h?ve<=h:ve>=h;a=I<=h?++ve:--ve)x.push(n[a].new);else f.push(K-I),R.push(0)}for(J.writeUInt16(3),J.writeUInt16(1),J.writeUInt32(12),J.writeUInt16(4),J.writeUInt16(16+8*B+2*x.length),J.writeUInt16(0),J.writeUInt16(G),J.writeUInt16(T),J.writeUInt16(g),J.writeUInt16(P),oe=0,F=p.length;oe<F;oe++)a=p[oe],J.writeUInt16(a);for(J.writeUInt16(0),ce=0,M=z.length;ce<M;ce++)a=z[ce],J.writeUInt16(a);for(Se=0,q=f.length;Se<q;Se++)o=f[Se],J.writeUInt16(o);for(De=0,W=R.length;De<W;De++)O=R[De],J.writeUInt16(O);for(X=0,Z=x.length;X<Z;X++)y=x[X],J.writeUInt16(y);return{charMap:n,subtable:J.data,maxGlyphID:A+1}}},e})(),eU=(function(){function e(){return e.__super__.constructor.apply(this,arguments)}return mu(e,Pc),e.prototype.tag="cmap",e.prototype.parse=function(t){var r,n,a;for(t.pos=this.offset,this.version=t.readUInt16(),a=t.readUInt16(),this.tables=[],this.unicode=null,n=0;0<=a?n<a:n>a;n=0<=a?++n:--n)r=new aD(t,this.offset),this.tables.push(r),r.isUnicode&&this.unicode==null&&(this.unicode=r);return!0},e.encode=function(t,r){var n,a;return r==null&&(r="macroman"),n=aD.encode(t,r),(a=new Fd).writeUInt16(0),a.writeUInt16(1),n.table=a.data.concat(n.subtable),n},e})(),M4e=(function(){function e(){return e.__super__.constructor.apply(this,arguments)}return mu(e,Pc),e.prototype.tag="hhea",e.prototype.parse=function(t){return t.pos=this.offset,this.version=t.readInt(),this.ascender=t.readShort(),this.decender=t.readShort(),this.lineGap=t.readShort(),this.advanceWidthMax=t.readShort(),this.minLeftSideBearing=t.readShort(),this.minRightSideBearing=t.readShort(),this.xMaxExtent=t.readShort(),this.caretSlopeRise=t.readShort(),this.caretSlopeRun=t.readShort(),this.caretOffset=t.readShort(),t.pos+=8,this.metricDataFormat=t.readShort(),this.numberOfMetrics=t.readUInt16()},e})(),R4e=(function(){function e(){return e.__super__.constructor.apply(this,arguments)}return mu(e,Pc),e.prototype.tag="OS/2",e.prototype.parse=function(t){if(t.pos=this.offset,this.version=t.readUInt16(),this.averageCharWidth=t.readShort(),this.weightClass=t.readUInt16(),this.widthClass=t.readUInt16(),this.type=t.readShort(),this.ySubscriptXSize=t.readShort(),this.ySubscriptYSize=t.readShort(),this.ySubscriptXOffset=t.readShort(),this.ySubscriptYOffset=t.readShort(),this.ySuperscriptXSize=t.readShort(),this.ySuperscriptYSize=t.readShort(),this.ySuperscriptXOffset=t.readShort(),this.ySuperscriptYOffset=t.readShort(),this.yStrikeoutSize=t.readShort(),this.yStrikeoutPosition=t.readShort(),this.familyClass=t.readShort(),this.panose=(function(){var r,n;for(n=[],r=0;r<10;++r)n.push(t.readByte());return n})(),this.charRange=(function(){var r,n;for(n=[],r=0;r<4;++r)n.push(t.readInt());return n})(),this.vendorID=t.readString(4),this.selection=t.readShort(),this.firstCharIndex=t.readShort(),this.lastCharIndex=t.readShort(),this.version>0&&(this.ascent=t.readShort(),this.descent=t.readShort(),this.lineGap=t.readShort(),this.winAscent=t.readShort(),this.winDescent=t.readShort(),this.codePageRange=(function(){var r,n;for(n=[],r=0;r<2;r=++r)n.push(t.readInt());return n})(),this.version>1))return this.xHeight=t.readShort(),this.capHeight=t.readShort(),this.defaultChar=t.readShort(),this.breakChar=t.readShort(),this.maxContext=t.readShort()},e})(),I4e=(function(){function e(){return e.__super__.constructor.apply(this,arguments)}return mu(e,Pc),e.prototype.tag="post",e.prototype.parse=function(t){var r,n,a;switch(t.pos=this.offset,this.format=t.readInt(),this.italicAngle=t.readInt(),this.underlinePosition=t.readShort(),this.underlineThickness=t.readShort(),this.isFixedPitch=t.readInt(),this.minMemType42=t.readInt(),this.maxMemType42=t.readInt(),this.minMemType1=t.readInt(),this.maxMemType1=t.readInt(),this.format){case 65536:case 196608:break;case 131072:var i;for(n=t.readUInt16(),this.glyphNameIndex=[],i=0;0<=n?i<n:i>n;i=0<=n?++i:--i)this.glyphNameIndex.push(t.readUInt16());for(this.names=[],a=[];t.pos<this.offset+this.length;)r=t.readByte(),a.push(this.names.push(t.readString(r)));return a;case 151552:return n=t.readUInt16(),this.offsets=t.read(n);case 262144:return this.map=(function(){var l,o,f;for(f=[],i=l=0,o=this.file.maxp.numGlyphs;0<=o?l<o:l>o;i=0<=o?++l:--l)f.push(t.readUInt32());return f}).call(this)}},e})(),B4e=function(e,t){this.raw=e,this.length=e.length,this.platformID=t.platformID,this.encodingID=t.encodingID,this.languageID=t.languageID},U4e=(function(){function e(){return e.__super__.constructor.apply(this,arguments)}return mu(e,Pc),e.prototype.tag="name",e.prototype.parse=function(t){var r,n,a,i,l,o,f,u,h,p,g;for(t.pos=this.offset,t.readShort(),r=t.readShort(),o=t.readShort(),n=[],i=0;0<=r?i<r:i>r;i=0<=r?++i:--i)n.push({platformID:t.readShort(),encodingID:t.readShort(),languageID:t.readShort(),nameID:t.readShort(),length:t.readShort(),offset:this.offset+o+t.readShort()});for(f={},i=h=0,p=n.length;h<p;i=++h)a=n[i],t.pos=a.offset,u=t.readString(a.length),l=new B4e(u,a),f[g=a.nameID]==null&&(f[g]=[]),f[a.nameID].push(l);this.strings=f,this.copyright=f[0],this.fontFamily=f[1],this.fontSubfamily=f[2],this.uniqueSubfamily=f[3],this.fontName=f[4],this.version=f[5];try{this.postscriptName=f[6][0].raw.replace(/[\x00-\x19\x80-\xff]/g,"")}catch{this.postscriptName=f[4][0].raw.replace(/[\x00-\x19\x80-\xff]/g,"")}return this.trademark=f[7],this.manufacturer=f[8],this.designer=f[9],this.description=f[10],this.vendorUrl=f[11],this.designerUrl=f[12],this.license=f[13],this.licenseUrl=f[14],this.preferredFamily=f[15],this.preferredSubfamily=f[17],this.compatibleFull=f[18],this.sampleText=f[19]},e})(),z4e=(function(){function e(){return e.__super__.constructor.apply(this,arguments)}return mu(e,Pc),e.prototype.tag="maxp",e.prototype.parse=function(t){return t.pos=this.offset,this.version=t.readInt(),this.numGlyphs=t.readUInt16(),this.maxPoints=t.readUInt16(),this.maxContours=t.readUInt16(),this.maxCompositePoints=t.readUInt16(),this.maxComponentContours=t.readUInt16(),this.maxZones=t.readUInt16(),this.maxTwilightPoints=t.readUInt16(),this.maxStorage=t.readUInt16(),this.maxFunctionDefs=t.readUInt16(),this.maxInstructionDefs=t.readUInt16(),this.maxStackElements=t.readUInt16(),this.maxSizeOfInstructions=t.readUInt16(),this.maxComponentElements=t.readUInt16(),this.maxComponentDepth=t.readUInt16()},e})(),q4e=(function(){function e(){return e.__super__.constructor.apply(this,arguments)}return mu(e,Pc),e.prototype.tag="hmtx",e.prototype.parse=function(t){var r,n,a,i,l,o,f;for(t.pos=this.offset,this.metrics=[],r=0,o=this.file.hhea.numberOfMetrics;0<=o?r<o:r>o;r=0<=o?++r:--r)this.metrics.push({advance:t.readUInt16(),lsb:t.readInt16()});for(a=this.file.maxp.numGlyphs-this.file.hhea.numberOfMetrics,this.leftSideBearings=(function(){var u,h;for(h=[],r=u=0;0<=a?u<a:u>a;r=0<=a?++u:--u)h.push(t.readInt16());return h})(),this.widths=(function(){var u,h,p,g;for(g=[],u=0,h=(p=this.metrics).length;u<h;u++)i=p[u],g.push(i.advance);return g}).call(this),n=this.widths[this.widths.length-1],f=[],r=l=0;0<=a?l<a:l>a;r=0<=a?++l:--l)f.push(this.widths.push(n));return f},e.prototype.forGlyph=function(t){return t in this.metrics?this.metrics[t]:{advance:this.metrics[this.metrics.length-1].advance,lsb:this.leftSideBearings[t-this.metrics.length]}},e})(),tU=[].slice,$4e=(function(){function e(){return e.__super__.constructor.apply(this,arguments)}return mu(e,Pc),e.prototype.tag="glyf",e.prototype.parse=function(){return this.cache={}},e.prototype.glyphFor=function(t){var r,n,a,i,l,o,f,u,h,p;return t in this.cache?this.cache[t]:(i=this.file.loca,r=this.file.contents,n=i.indexOf(t),(a=i.lengthOf(t))===0?this.cache[t]=null:(r.pos=this.offset+n,l=(o=new Fd(r.read(a))).readShort(),u=o.readShort(),p=o.readShort(),f=o.readShort(),h=o.readShort(),this.cache[t]=l===-1?new V4e(o,u,p,f,h):new H4e(o,l,u,p,f,h),this.cache[t]))},e.prototype.encode=function(t,r,n){var a,i,l,o,f;for(l=[],i=[],o=0,f=r.length;o<f;o++)a=t[r[o]],i.push(l.length),a&&(l=l.concat(a.encode(n)));return i.push(l.length),{table:l,offsets:i}},e})(),H4e=(function(){function e(t,r,n,a,i,l){this.raw=t,this.numberOfContours=r,this.xMin=n,this.yMin=a,this.xMax=i,this.yMax=l,this.compound=!1}return e.prototype.encode=function(){return this.raw.data},e})(),V4e=(function(){function e(t,r,n,a,i){var l,o;for(this.raw=t,this.xMin=r,this.yMin=n,this.xMax=a,this.yMax=i,this.compound=!0,this.glyphIDs=[],this.glyphOffsets=[],l=this.raw;o=l.readShort(),this.glyphOffsets.push(l.pos),this.glyphIDs.push(l.readUInt16()),32&o;)l.pos+=1&o?4:2,128&o?l.pos+=8:64&o?l.pos+=4:8&o&&(l.pos+=2)}return e.prototype.encode=function(){var t,r,n;for(r=new Fd(tU.call(this.raw.data)),t=0,n=this.glyphIDs.length;t<n;++t)r.pos=this.glyphOffsets[t];return r.data},e})(),W4e=(function(){function e(){return e.__super__.constructor.apply(this,arguments)}return mu(e,Pc),e.prototype.tag="loca",e.prototype.parse=function(t){var r,n;return t.pos=this.offset,r=this.file.head.indexToLocFormat,this.offsets=r===0?(function(){var a,i;for(i=[],n=0,a=this.length;n<a;n+=2)i.push(2*t.readUInt16());return i}).call(this):(function(){var a,i;for(i=[],n=0,a=this.length;n<a;n+=4)i.push(t.readUInt32());return i}).call(this)},e.prototype.indexOf=function(t){return this.offsets[t]},e.prototype.lengthOf=function(t){return this.offsets[t+1]-this.offsets[t]},e.prototype.encode=function(t,r){for(var n=new Uint32Array(this.offsets.length),a=0,i=0,l=0;l<n.length;++l)if(n[l]=a,i<r.length&&r[i]==l){++i,n[l]=a;var o=this.offsets[l],f=this.offsets[l+1]-o;f>0&&(a+=f)}for(var u=new Array(4*n.length),h=0;h<n.length;++h)u[4*h+3]=255&n[h],u[4*h+2]=(65280&n[h])>>8,u[4*h+1]=(16711680&n[h])>>16,u[4*h]=(4278190080&n[h])>>24;return u},e})(),G4e=(function(){function e(t){this.font=t,this.subset={},this.unicodes={},this.next=33}return e.prototype.generateCmap=function(){var t,r,n,a,i;for(r in a=this.font.cmap.tables[0].codeMap,t={},i=this.subset)n=i[r],t[r]=a[n];return t},e.prototype.glyphsFor=function(t){var r,n,a,i,l,o,f;for(a={},l=0,o=t.length;l<o;l++)a[i=t[l]]=this.font.glyf.glyphFor(i);for(i in r=[],a)(n=a[i])!=null&&n.compound&&r.push.apply(r,n.glyphIDs);if(r.length>0)for(i in f=this.glyphsFor(r))n=f[i],a[i]=n;return a},e.prototype.encode=function(t,r){var n,a,i,l,o,f,u,h,p,g,x,b,y,w,_;for(a in n=eU.encode(this.generateCmap(),"unicode"),l=this.glyphsFor(t),x={0:0},_=n.charMap)x[(f=_[a]).old]=f.new;for(b in g=n.maxGlyphID,l)b in x||(x[b]=g++);return h=(function(E){var A,O;for(A in O={},E)O[E[A]]=A;return O})(x),p=Object.keys(h).sort(function(E,A){return E-A}),y=(function(){var E,A,O;for(O=[],E=0,A=p.length;E<A;E++)o=p[E],O.push(h[o]);return O})(),i=this.font.glyf.encode(l,y,x),u=this.font.loca.encode(i.offsets,y),w={cmap:this.font.cmap.raw(),glyf:i.table,loca:u,hmtx:this.font.hmtx.raw(),hhea:this.font.hhea.raw(),maxp:this.font.maxp.raw(),post:this.font.post.raw(),name:this.font.name.raw(),head:this.font.head.encode(r)},this.font.os2.exists&&(w["OS/2"]=this.font.os2.raw()),this.font.directory.encode(w)},e})();$t.API.PDFObject=(function(){var e;function t(){}return e=function(r,n){return(Array(n+1).join("0")+r).slice(-n)},t.convert=function(r){var n,a,i,l;if(Array.isArray(r))return"["+(function(){var o,f,u;for(u=[],o=0,f=r.length;o<f;o++)n=r[o],u.push(t.convert(n));return u})().join(" ")+"]";if(typeof r=="string")return"/"+r;if(r?.isString)return"("+r+")";if(r instanceof Date)return"(D:"+e(r.getUTCFullYear(),4)+e(r.getUTCMonth(),2)+e(r.getUTCDate(),2)+e(r.getUTCHours(),2)+e(r.getUTCMinutes(),2)+e(r.getUTCSeconds(),2)+"Z)";if({}.toString.call(r)==="[object Object]"){for(a in i=["<<"],r)l=r[a],i.push("/"+a+" "+t.convert(l));return i.push(">>"),i.join(`
`)}return""+r},t})();function rU(e,t,r,n,a){n=n||{};var i=1.15,l=a.internal.scaleFactor,o=a.internal.getFontSize()/l,f=a.getLineHeightFactor?a.getLineHeightFactor():i,u=o*f,h=/\r\n|\r|\n/g,p="",g=1;if((n.valign==="middle"||n.valign==="bottom"||n.halign==="center"||n.halign==="right")&&(p=typeof e=="string"?e.split(h):e,g=p.length||1),r+=o*(2-i),n.valign==="middle"?r-=g/2*u:n.valign==="bottom"&&(r-=g*u),n.halign==="center"||n.halign==="right"){var x=o;if(n.halign==="center"&&(x*=.5),p&&g>=1){for(var b=0;b<p.length;b++)a.text(p[b],t-a.getStringUnitWidth(p[b])*x,r),r+=u;return a}t-=a.getStringUnitWidth(e)*x}return n.halign==="justify"?a.text(e,t,r,{maxWidth:n.maxWidth||100,align:"justify"}):a.text(e,t,r),a}var iD={},Mm=(function(){function e(t){this.jsPDFDocument=t,this.userStyles={textColor:t.getTextColor?this.jsPDFDocument.getTextColor():0,fontSize:t.internal.getFontSize(),fontStyle:t.internal.getFont().fontStyle,font:t.internal.getFont().fontName,lineWidth:t.getLineWidth?this.jsPDFDocument.getLineWidth():0,lineColor:t.getDrawColor?this.jsPDFDocument.getDrawColor():0}}return e.setDefaults=function(t,r){r===void 0&&(r=null),r?r.__autoTableDocumentDefaults=t:iD=t},e.unifyColor=function(t){return Array.isArray(t)?t:typeof t=="number"?[t,t,t]:typeof t=="string"?[t]:null},e.prototype.applyStyles=function(t,r){var n,a,i;r===void 0&&(r=!1),t.fontStyle&&this.jsPDFDocument.setFontStyle&&this.jsPDFDocument.setFontStyle(t.fontStyle);var l=this.jsPDFDocument.internal.getFont(),o=l.fontStyle,f=l.fontName;if(t.font&&(f=t.font),t.fontStyle){o=t.fontStyle;var u=this.getFontList()[f];u&&u.indexOf(o)===-1&&this.jsPDFDocument.setFontStyle&&(this.jsPDFDocument.setFontStyle(u[0]),o=u[0])}if(this.jsPDFDocument.setFont(f,o),t.fontSize&&this.jsPDFDocument.setFontSize(t.fontSize),!r){var h=e.unifyColor(t.fillColor);h&&(n=this.jsPDFDocument).setFillColor.apply(n,h),h=e.unifyColor(t.textColor),h&&(a=this.jsPDFDocument).setTextColor.apply(a,h),h=e.unifyColor(t.lineColor),h&&(i=this.jsPDFDocument).setDrawColor.apply(i,h),typeof t.lineWidth=="number"&&this.jsPDFDocument.setLineWidth(t.lineWidth)}},e.prototype.splitTextToSize=function(t,r,n){return this.jsPDFDocument.splitTextToSize(t,r,n)},e.prototype.rect=function(t,r,n,a,i){return this.jsPDFDocument.rect(t,r,n,a,i)},e.prototype.getLastAutoTable=function(){return this.jsPDFDocument.lastAutoTable||null},e.prototype.getTextWidth=function(t){return this.jsPDFDocument.getTextWidth(t)},e.prototype.getDocument=function(){return this.jsPDFDocument},e.prototype.setPage=function(t){this.jsPDFDocument.setPage(t)},e.prototype.addPage=function(){return this.jsPDFDocument.addPage()},e.prototype.getFontList=function(){return this.jsPDFDocument.getFontList()},e.prototype.getGlobalOptions=function(){return iD||{}},e.prototype.getDocumentOptions=function(){return this.jsPDFDocument.__autoTableDocumentDefaults||{}},e.prototype.pageSize=function(){var t=this.jsPDFDocument.internal.pageSize;return t.width==null&&(t={width:t.getWidth(),height:t.getHeight()}),t},e.prototype.scaleFactor=function(){return this.jsPDFDocument.internal.scaleFactor},e.prototype.getLineHeightFactor=function(){var t=this.jsPDFDocument;return t.getLineHeightFactor?t.getLineHeightFactor():1.15},e.prototype.getLineHeight=function(t){return t/this.scaleFactor()*this.getLineHeightFactor()},e.prototype.pageNumber=function(){var t=this.jsPDFDocument.internal.getCurrentPageInfo();return t?t.pageNumber:this.jsPDFDocument.internal.getNumberOfPages()},e})(),bN=function(e,t){return bN=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,n){r.__proto__=n}||function(r,n){for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(r[a]=n[a])},bN(e,t)};function nU(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");bN(e,t);function r(){this.constructor=e}e.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}var aU=(function(e){nU(t,e);function t(r){var n=e.call(this)||this;return n._element=r,n}return t})(Array);function K4e(e){return{font:"helvetica",fontStyle:"normal",overflow:"linebreak",fillColor:!1,textColor:20,halign:"left",valign:"top",fontSize:10,cellPadding:5/e,lineColor:200,lineWidth:0,cellWidth:"auto",minCellHeight:0,minCellWidth:0}}function Y4e(e){var t={striped:{table:{fillColor:255,textColor:80,fontStyle:"normal"},head:{textColor:255,fillColor:[41,128,185],fontStyle:"bold"},body:{},foot:{textColor:255,fillColor:[41,128,185],fontStyle:"bold"},alternateRow:{fillColor:245}},grid:{table:{fillColor:255,textColor:80,fontStyle:"normal",lineWidth:.1},head:{textColor:255,fillColor:[26,188,156],fontStyle:"bold",lineWidth:0},body:{},foot:{textColor:255,fillColor:[26,188,156],fontStyle:"bold",lineWidth:0},alternateRow:{}},plain:{head:{fontStyle:"bold"},foot:{fontStyle:"bold"}}};return t[e]}function Qy(e,t,r){r.applyStyles(t,!0);var n=Array.isArray(e)?e:[e],a=n.map(function(i){return r.getTextWidth(i)}).reduce(function(i,l){return Math.max(i,l)},0);return a}function iU(e,t,r,n){var a=t.settings.tableLineWidth,i=t.settings.tableLineColor;e.applyStyles({lineWidth:a,lineColor:i});var l=sU(a,!1);l&&e.rect(r.x,r.y,t.getWidth(e.pageSize().width),n.y-r.y,l)}function sU(e,t){var r=e>0,n=t||t===0;return r&&n?"DF":r?"S":n?"F":null}function Z2(e,t){var r,n,a,i;if(e=e||t,Array.isArray(e)){if(e.length>=4)return{top:e[0],right:e[1],bottom:e[2],left:e[3]};if(e.length===3)return{top:e[0],right:e[1],bottom:e[2],left:e[1]};if(e.length===2)return{top:e[0],right:e[1],bottom:e[0],left:e[1]};e.length===1?e=e[0]:e=t}return typeof e=="object"?(typeof e.vertical=="number"&&(e.top=e.vertical,e.bottom=e.vertical),typeof e.horizontal=="number"&&(e.right=e.horizontal,e.left=e.horizontal),{left:(r=e.left)!==null&&r!==void 0?r:t,top:(n=e.top)!==null&&n!==void 0?n:t,right:(a=e.right)!==null&&a!==void 0?a:t,bottom:(i=e.bottom)!==null&&i!==void 0?i:t}):(typeof e!="number"&&(e=t),{top:e,right:e,bottom:e,left:e})}function lU(e,t){var r=Z2(t.settings.margin,0);return e.pageSize().width-(r.left+r.right)}function X4e(e,t,r,n,a){var i={},l=1.3333333333333333,o=P4(t,function(A){return a.getComputedStyle(A).backgroundColor});o!=null&&(i.fillColor=o);var f=P4(t,function(A){return a.getComputedStyle(A).color});f!=null&&(i.textColor=f);var u=Z4e(n,r);u&&(i.cellPadding=u);var h="borderTopColor",p=l*r,g=n.borderTopWidth;if(n.borderBottomWidth===g&&n.borderRightWidth===g&&n.borderLeftWidth===g){var x=(parseFloat(g)||0)/p;x&&(i.lineWidth=x)}else i.lineWidth={top:(parseFloat(n.borderTopWidth)||0)/p,right:(parseFloat(n.borderRightWidth)||0)/p,bottom:(parseFloat(n.borderBottomWidth)||0)/p,left:(parseFloat(n.borderLeftWidth)||0)/p},i.lineWidth.top||(i.lineWidth.right?h="borderRightColor":i.lineWidth.bottom?h="borderBottomColor":i.lineWidth.left&&(h="borderLeftColor"));var b=P4(t,function(A){return a.getComputedStyle(A)[h]});b!=null&&(i.lineColor=b);var y=["left","right","center","justify"];y.indexOf(n.textAlign)!==-1&&(i.halign=n.textAlign),y=["middle","bottom","top"],y.indexOf(n.verticalAlign)!==-1&&(i.valign=n.verticalAlign);var w=parseInt(n.fontSize||"");isNaN(w)||(i.fontSize=w/l);var _=Q4e(n);_&&(i.fontStyle=_);var E=(n.fontFamily||"").toLowerCase();return e.indexOf(E)!==-1&&(i.font=E),i}function Q4e(e){var t="";return(e.fontWeight==="bold"||e.fontWeight==="bolder"||parseInt(e.fontWeight)>=700)&&(t="bold"),(e.fontStyle==="italic"||e.fontStyle==="oblique")&&(t+="italic"),t}function P4(e,t){var r=oU(e,t);if(!r)return null;var n=r.match(/^rgba?\((\d+),\s*(\d+),\s*(\d+)(?:,\s*(\d*\.?\d*))?\)$/);if(!n||!Array.isArray(n))return null;var a=[parseInt(n[1]),parseInt(n[2]),parseInt(n[3])],i=parseInt(n[4]);return i===0||isNaN(a[0])||isNaN(a[1])||isNaN(a[2])?null:a}function oU(e,t){var r=t(e);return r==="rgba(0, 0, 0, 0)"||r==="transparent"||r==="initial"||r==="inherit"?e.parentElement==null?null:oU(e.parentElement,t):r}function Z4e(e,t){var r=[e.paddingTop,e.paddingRight,e.paddingBottom,e.paddingLeft],n=96/(72/t),a=(parseInt(e.lineHeight)-parseInt(e.fontSize))/t/2,i=r.map(function(o){return parseInt(o||"0")/n}),l=Z2(i,0);return a>l.top&&(l.top=a),a>l.bottom&&(l.bottom=a),l}function cU(e,t,r,n,a){var i,l;n===void 0&&(n=!1),a===void 0&&(a=!1);var o;typeof t=="string"?o=r.document.querySelector(t):o=t;var f=Object.keys(e.getFontList()),u=e.scaleFactor(),h=[],p=[],g=[];if(!o)return console.error("Html table could not be found with input: ",t),{head:h,body:p,foot:g};for(var x=0;x<o.rows.length;x++){var b=o.rows[x],y=(l=(i=b?.parentElement)===null||i===void 0?void 0:i.tagName)===null||l===void 0?void 0:l.toLowerCase(),w=J4e(f,u,r,b,n,a);w&&(y==="thead"?h.push(w):y==="tfoot"?g.push(w):p.push(w))}return{head:h,body:p,foot:g}}function J4e(e,t,r,n,a,i){for(var l=new aU(n),o=0;o<n.cells.length;o++){var f=n.cells[o],u=r.getComputedStyle(f);if(a||u.display!=="none"){var h=void 0;i&&(h=X4e(e,f,t,u,r)),l.push({rowSpan:f.rowSpan,colSpan:f.colSpan,styles:h,_element:f,content:e_e(f)})}}var p=r.getComputedStyle(n);if(l.length>0&&(a||p.display!=="none"))return l}function e_e(e){var t=e.cloneNode(!0);return t.innerHTML=t.innerHTML.replace(/\n/g,"").replace(/ +/g," "),t.innerHTML=t.innerHTML.split(/<br.*?>/).map(function(r){return r.trim()}).join(`
`),t.innerText||t.textContent||""}function t_e(e,t,r){for(var n=0,a=[e,t,r];n<a.length;n++){var i=a[n];i&&typeof i!="object"&&console.error("The options parameter should be of type object, is: "+typeof i),i.startY&&typeof i.startY!="number"&&(console.error("Invalid value for startY option",i.startY),delete i.startY)}}function Ju(e,t,r,n,a){if(e==null)throw new TypeError("Cannot convert undefined or null to object");for(var i=Object(e),l=1;l<arguments.length;l++){var o=arguments[l];if(o!=null)for(var f in o)Object.prototype.hasOwnProperty.call(o,f)&&(i[f]=o[f])}return i}function uU(e,t){var r=new Mm(e),n=r.getDocumentOptions(),a=r.getGlobalOptions();t_e(a,n,t);var i=Ju({},a,n,t),l;typeof window<"u"&&(l=window);var o=r_e(a,n,t),f=n_e(a,n,t),u=a_e(r,i),h=s_e(r,i,l);return{id:t.tableId,content:h,hooks:f,styles:o,settings:u}}function r_e(e,t,r){for(var n={styles:{},headStyles:{},bodyStyles:{},footStyles:{},alternateRowStyles:{},columnStyles:{}},a=function(f){if(f==="columnStyles"){var u=e[f],h=t[f],p=r[f];n.columnStyles=Ju({},u,h,p)}else{var g=[e,t,r],x=g.map(function(b){return b[f]||{}});n[f]=Ju({},x[0],x[1],x[2])}},i=0,l=Object.keys(n);i<l.length;i++){var o=l[i];a(o)}return n}function n_e(e,t,r){for(var n=[e,t,r],a={didParseCell:[],willDrawCell:[],didDrawCell:[],willDrawPage:[],didDrawPage:[]},i=0,l=n;i<l.length;i++){var o=l[i];o.didParseCell&&a.didParseCell.push(o.didParseCell),o.willDrawCell&&a.willDrawCell.push(o.willDrawCell),o.didDrawCell&&a.didDrawCell.push(o.didDrawCell),o.willDrawPage&&a.willDrawPage.push(o.willDrawPage),o.didDrawPage&&a.didDrawPage.push(o.didDrawPage)}return a}function a_e(e,t){var r,n,a,i,l,o,f,u,h,p,g,x,b=Z2(t.margin,40/e.scaleFactor()),y=(r=i_e(e,t.startY))!==null&&r!==void 0?r:b.top,w;t.showFoot===!0?w="everyPage":t.showFoot===!1?w="never":w=(n=t.showFoot)!==null&&n!==void 0?n:"everyPage";var _;t.showHead===!0?_="everyPage":t.showHead===!1?_="never":_=(a=t.showHead)!==null&&a!==void 0?a:"everyPage";var E=(i=t.useCss)!==null&&i!==void 0?i:!1,A=t.theme||(E?"plain":"striped"),O=!!t.horizontalPageBreak,D=(l=t.horizontalPageBreakRepeat)!==null&&l!==void 0?l:null;return{includeHiddenHtml:(o=t.includeHiddenHtml)!==null&&o!==void 0?o:!1,useCss:E,theme:A,startY:y,margin:b,pageBreak:(f=t.pageBreak)!==null&&f!==void 0?f:"auto",rowPageBreak:(u=t.rowPageBreak)!==null&&u!==void 0?u:"auto",tableWidth:(h=t.tableWidth)!==null&&h!==void 0?h:"auto",showHead:_,showFoot:w,tableLineWidth:(p=t.tableLineWidth)!==null&&p!==void 0?p:0,tableLineColor:(g=t.tableLineColor)!==null&&g!==void 0?g:200,horizontalPageBreak:O,horizontalPageBreakRepeat:D,horizontalPageBreakBehaviour:(x=t.horizontalPageBreakBehaviour)!==null&&x!==void 0?x:"afterAllRows"}}function i_e(e,t){var r=e.getLastAutoTable(),n=e.scaleFactor(),a=e.pageNumber(),i=!1;if(r&&r.startPageNumber){var l=r.startPageNumber+r.pageNumber-1;i=l===a}return typeof t=="number"?t:(t==null||t===!1)&&i&&r?.finalY!=null?r.finalY+20/n:null}function s_e(e,t,r){var n=t.head||[],a=t.body||[],i=t.foot||[];if(t.html){var l=t.includeHiddenHtml;if(r){var o=cU(e,t.html,r,l,t.useCss)||{};n=o.head||n,a=o.body||n,i=o.foot||n}else console.error("Cannot parse html in non browser environment")}var f=t.columns||l_e(n,a,i);return{columns:f,head:n,body:a,foot:i}}function l_e(e,t,r){var n=e[0]||t[0]||r[0]||[],a=[];return Object.keys(n).filter(function(i){return i!=="_element"}).forEach(function(i){var l=1,o;Array.isArray(n)?o=n[parseInt(i)]:o=n[i],typeof o=="object"&&!Array.isArray(o)&&(l=o?.colSpan||1);for(var f=0;f<l;f++){var u=void 0;Array.isArray(n)?u=a.length:u=i+(f>0?"_".concat(f):"");var h={dataKey:u};a.push(h)}}),a}var wN=(function(){function e(t,r,n){this.table=r,this.pageNumber=r.pageNumber,this.settings=r.settings,this.cursor=n,this.doc=t.getDocument()}return e})(),o_e=(function(e){nU(t,e);function t(r,n,a,i,l,o){var f=e.call(this,r,n,o)||this;return f.cell=a,f.row=i,f.column=l,f.section=i.section,f}return t})(wN),c_e=(function(){function e(t,r){this.pageNumber=1,this.id=t.id,this.settings=t.settings,this.styles=t.styles,this.hooks=t.hooks,this.columns=r.columns,this.head=r.head,this.body=r.body,this.foot=r.foot}return e.prototype.getHeadHeight=function(t){return this.head.reduce(function(r,n){return r+n.getMaxCellHeight(t)},0)},e.prototype.getFootHeight=function(t){return this.foot.reduce(function(r,n){return r+n.getMaxCellHeight(t)},0)},e.prototype.allRows=function(){return this.head.concat(this.body).concat(this.foot)},e.prototype.callCellHooks=function(t,r,n,a,i,l){for(var o=0,f=r;o<f.length;o++){var u=f[o],h=new o_e(t,this,n,a,i,l),p=u(h)===!1;if(n.text=Array.isArray(n.text)?n.text:[n.text],p)return!1}return!0},e.prototype.callEndPageHooks=function(t,r){t.applyStyles(t.userStyles);for(var n=0,a=this.hooks.didDrawPage;n<a.length;n++){var i=a[n];i(new wN(t,this,r))}},e.prototype.callWillDrawPageHooks=function(t,r){for(var n=0,a=this.hooks.willDrawPage;n<a.length;n++){var i=a[n];i(new wN(t,this,r))}},e.prototype.getWidth=function(t){if(typeof this.settings.tableWidth=="number")return this.settings.tableWidth;if(this.settings.tableWidth==="wrap"){var r=this.columns.reduce(function(a,i){return a+i.wrappedWidth},0);return r}else{var n=this.settings.margin;return t-n.left-n.right}},e})(),fU=(function(){function e(t,r,n,a,i){i===void 0&&(i=!1),this.height=0,this.raw=t,t instanceof aU&&(this.raw=t._element,this.element=t._element),this.index=r,this.section=n,this.cells=a,this.spansMultiplePages=i}return e.prototype.getMaxCellHeight=function(t){var r=this;return t.reduce(function(n,a){var i;return Math.max(n,((i=r.cells[a.index])===null||i===void 0?void 0:i.height)||0)},0)},e.prototype.hasRowSpan=function(t){var r=this;return t.filter(function(n){var a=r.cells[n.index];return a?a.rowSpan>1:!1}).length>0},e.prototype.canEntireRowFit=function(t,r){return this.getMaxCellHeight(r)<=t},e.prototype.getMinimumRowHeight=function(t,r){var n=this;return t.reduce(function(a,i){var l=n.cells[i.index];if(!l)return 0;var o=r.getLineHeight(l.styles.fontSize),f=l.padding("vertical"),u=f+o;return u>a?u:a},0)},e})(),dU=(function(){function e(t,r,n){var a;this.contentHeight=0,this.contentWidth=0,this.wrappedWidth=0,this.minReadableWidth=0,this.minWidth=0,this.width=0,this.height=0,this.x=0,this.y=0,this.styles=r,this.section=n,this.raw=t;var i=t;t!=null&&typeof t=="object"&&!Array.isArray(t)?(this.rowSpan=t.rowSpan||1,this.colSpan=t.colSpan||1,i=(a=t.content)!==null&&a!==void 0?a:t,t._element&&(this.raw=t._element)):(this.rowSpan=1,this.colSpan=1);var l=i!=null?""+i:"",o=/\r\n|\r|\n/g;this.text=l.split(o)}return e.prototype.getTextPos=function(){var t;if(this.styles.valign==="top")t=this.y+this.padding("top");else if(this.styles.valign==="bottom")t=this.y+this.height-this.padding("bottom");else{var r=this.height-this.padding("vertical");t=this.y+r/2+this.padding("top")}var n;if(this.styles.halign==="right")n=this.x+this.width-this.padding("right");else if(this.styles.halign==="center"){var a=this.width-this.padding("horizontal");n=this.x+a/2+this.padding("left")}else n=this.x+this.padding("left");return{x:n,y:t}},e.prototype.getContentHeight=function(t,r){r===void 0&&(r=1.15);var n=Array.isArray(this.text)?this.text.length:1,a=this.styles.fontSize/t*r,i=n*a+this.padding("vertical");return Math.max(i,this.styles.minCellHeight)},e.prototype.padding=function(t){var r=Z2(this.styles.cellPadding,0);return t==="vertical"?r.top+r.bottom:t==="horizontal"?r.left+r.right:r[t]},e})(),u_e=(function(){function e(t,r,n){this.wrappedWidth=0,this.minReadableWidth=0,this.minWidth=0,this.width=0,this.dataKey=t,this.raw=r,this.index=n}return e.prototype.getMaxCustomCellWidth=function(t){for(var r=0,n=0,a=t.allRows();n<a.length;n++){var i=a[n],l=i.cells[this.index];l&&typeof l.styles.cellWidth=="number"&&(r=Math.max(r,l.styles.cellWidth))}return r},e})();function f_e(e,t){d_e(e,t);var r=[],n=0;t.columns.forEach(function(i){var l=i.getMaxCustomCellWidth(t);l?i.width=l:(i.width=i.wrappedWidth,r.push(i)),n+=i.width});var a=t.getWidth(e.pageSize().width)-n;a&&(a=_N(r,a,function(i){return Math.max(i.minReadableWidth,i.minWidth)})),a&&(a=_N(r,a,function(i){return i.minWidth})),a=Math.abs(a),!t.settings.horizontalPageBreak&&a>.1/e.scaleFactor()&&(a=a<1?a:Math.round(a),console.warn("Of the table content, ".concat(a," units width could not fit page"))),m_e(t),p_e(t,e),h_e(t)}function d_e(e,t){var r=e.scaleFactor(),n=t.settings.horizontalPageBreak,a=lU(e,t);t.allRows().forEach(function(i){for(var l=0,o=t.columns;l<o.length;l++){var f=o[l],u=i.cells[f.index];if(u){var h=t.hooks.didParseCell;t.callCellHooks(e,h,u,i,f,null);var p=u.padding("horizontal");u.contentWidth=Qy(u.text,u.styles,e)+p;var g=Qy(u.text.join(" ").split(/[^\S\u00A0]+/),u.styles,e);if(u.minReadableWidth=g+u.padding("horizontal"),typeof u.styles.cellWidth=="number")u.minWidth=u.styles.cellWidth,u.wrappedWidth=u.styles.cellWidth;else if(u.styles.cellWidth==="wrap"||n===!0)u.contentWidth>a?(u.minWidth=a,u.wrappedWidth=a):(u.minWidth=u.contentWidth,u.wrappedWidth=u.contentWidth);else{var x=10/r;u.minWidth=u.styles.minCellWidth||x,u.wrappedWidth=u.contentWidth,u.minWidth>u.wrappedWidth&&(u.wrappedWidth=u.minWidth)}}}}),t.allRows().forEach(function(i){for(var l=0,o=t.columns;l<o.length;l++){var f=o[l],u=i.cells[f.index];if(u&&u.colSpan===1)f.wrappedWidth=Math.max(f.wrappedWidth,u.wrappedWidth),f.minWidth=Math.max(f.minWidth,u.minWidth),f.minReadableWidth=Math.max(f.minReadableWidth,u.minReadableWidth);else{var h=t.styles.columnStyles[f.dataKey]||t.styles.columnStyles[f.index]||{},p=h.cellWidth||h.minCellWidth;p&&typeof p=="number"&&(f.minWidth=p,f.wrappedWidth=p)}u&&(u.colSpan>1&&!f.minWidth&&(f.minWidth=u.minWidth),u.colSpan>1&&!f.wrappedWidth&&(f.wrappedWidth=u.minWidth))}})}function _N(e,t,r){for(var n=t,a=e.reduce(function(x,b){return x+b.wrappedWidth},0),i=0;i<e.length;i++){var l=e[i],o=l.wrappedWidth/a,f=n*o,u=l.width+f,h=r(l),p=u<h?h:u;t-=p-l.width,l.width=p}if(t=Math.round(t*1e10)/1e10,t){var g=e.filter(function(x){return t<0?x.width>r(x):!0});g.length&&(t=_N(g,t,r))}return t}function h_e(e){for(var t={},r=1,n=e.allRows(),a=0;a<n.length;a++)for(var i=n[a],l=0,o=e.columns;l<o.length;l++){var f=o[l],u=t[f.index];if(r>1)r--,delete i.cells[f.index];else if(u)u.cell.height+=i.height,r=u.cell.colSpan,delete i.cells[f.index],u.left--,u.left<=1&&delete t[f.index];else{var h=i.cells[f.index];if(!h)continue;if(h.height=i.height,h.rowSpan>1){var p=n.length-a,g=h.rowSpan>p?p:h.rowSpan;t[f.index]={cell:h,left:g,row:i}}}}}function m_e(e){for(var t=e.allRows(),r=0;r<t.length;r++)for(var n=t[r],a=null,i=0,l=0,o=0;o<e.columns.length;o++){var f=e.columns[o];if(l-=1,l>1&&e.columns[o+1])i+=f.width,delete n.cells[f.index];else if(a){var u=a;delete n.cells[f.index],a=null,u.width=f.width+i}else{var u=n.cells[f.index];if(!u)continue;if(l=u.colSpan,i=0,u.colSpan>1){a=u,i+=f.width;continue}u.width=f.width+i}}}function p_e(e,t){for(var r={count:0,height:0},n=0,a=e.allRows();n<a.length;n++){for(var i=a[n],l=0,o=e.columns;l<o.length;l++){var f=o[l],u=i.cells[f.index];if(u){t.applyStyles(u.styles,!0);var h=u.width-u.padding("horizontal");if(u.styles.overflow==="linebreak")u.text=t.splitTextToSize(u.text,h+1/t.scaleFactor(),{fontSize:u.styles.fontSize});else if(u.styles.overflow==="ellipsize")u.text=sD(u.text,h,u.styles,t,"...");else if(u.styles.overflow==="hidden")u.text=sD(u.text,h,u.styles,t,"");else if(typeof u.styles.overflow=="function"){var p=u.styles.overflow(u.text,h);typeof p=="string"?u.text=[p]:u.text=p}u.contentHeight=u.getContentHeight(t.scaleFactor(),t.getLineHeightFactor());var g=u.contentHeight/u.rowSpan;u.rowSpan>1&&r.count*r.height<g*u.rowSpan?r={height:g,count:u.rowSpan}:r&&r.count>0&&r.height>g&&(g=r.height),g>i.height&&(i.height=g)}}r.count--}}function sD(e,t,r,n,a){return e.map(function(i){return x_e(i,t,r,n,a)})}function x_e(e,t,r,n,a){var i=1e4*n.scaleFactor();if(t=Math.ceil(t*i)/i,t>=Qy(e,r,n))return e;for(;t<Qy(e+a,r,n)&&!(e.length<=1);)e=e.substring(0,e.length-1);return e.trim()+a}function hU(e,t){var r=new Mm(e),n=g_e(t,r.scaleFactor()),a=new c_e(t,n);return f_e(r,a),r.applyStyles(r.userStyles),a}function g_e(e,t){var r=e.content,n=y_e(r.columns);if(r.head.length===0){var a=lD(n,"head");a&&r.head.push(a)}if(r.foot.length===0){var a=lD(n,"foot");a&&r.foot.push(a)}var i=e.settings.theme,l=e.styles;return{columns:n,head:F4("head",r.head,n,l,i,t),body:F4("body",r.body,n,l,i,t),foot:F4("foot",r.foot,n,l,i,t)}}function F4(e,t,r,n,a,i){var l={},o=t.map(function(f,u){for(var h=0,p={},g=0,x=0,b=0,y=r;b<y.length;b++){var w=y[b];if(l[w.index]==null||l[w.index].left===0)if(x===0){var _=void 0;Array.isArray(f)?_=f[w.index-g-h]:_=f[w.dataKey];var E={};typeof _=="object"&&!Array.isArray(_)&&(E=_?.styles||{});var A=b_e(e,w,u,a,n,i,E),O=new dU(_,A,e);p[w.dataKey]=O,p[w.index]=O,x=O.colSpan-1,l[w.index]={left:O.rowSpan-1,times:x}}else x--,g++;else l[w.index].left--,x=l[w.index].times,h++}return new fU(f,u,e,p)});return o}function lD(e,t){var r={};return e.forEach(function(n){if(n.raw!=null){var a=v_e(t,n.raw);a!=null&&(r[n.dataKey]=a)}}),Object.keys(r).length>0?r:null}function v_e(e,t){if(e==="head"){if(typeof t=="object")return t.header||null;if(typeof t=="string"||typeof t=="number")return t}else if(e==="foot"&&typeof t=="object")return t.footer;return null}function y_e(e){return e.map(function(t,r){var n,a;return typeof t=="object"?a=(n=t.dataKey)!==null&&n!==void 0?n:r:a=r,new u_e(a,t,r)})}function b_e(e,t,r,n,a,i,l){var o=Y4e(n),f;e==="head"?f=a.headStyles:e==="body"?f=a.bodyStyles:e==="foot"&&(f=a.footStyles);var u=Ju({},o.table,o[e],a.styles,f),h=a.columnStyles[t.dataKey]||a.columnStyles[t.index]||{},p=e==="body"?h:{},g=e==="body"&&r%2===0?Ju({},o.alternateRow,a.alternateRowStyles):{},x=K4e(i),b=Ju({},x,u,g,p);return Ju(b,l)}function w_e(e,t,r){var n;r===void 0&&(r={});var a=lU(e,t),i=new Map,l=[],o=[],f=[];Array.isArray(t.settings.horizontalPageBreakRepeat)?f=t.settings.horizontalPageBreakRepeat:(typeof t.settings.horizontalPageBreakRepeat=="string"||typeof t.settings.horizontalPageBreakRepeat=="number")&&(f=[t.settings.horizontalPageBreakRepeat]),f.forEach(function(g){var x=t.columns.find(function(b){return b.dataKey===g||b.index===g});x&&!i.has(x.index)&&(i.set(x.index,!0),l.push(x.index),o.push(t.columns[x.index]),a-=x.wrappedWidth)});for(var u=!0,h=(n=r?.start)!==null&&n!==void 0?n:0;h<t.columns.length;){if(i.has(h)){h++;continue}var p=t.columns[h].wrappedWidth;if(u||a>=p)u=!1,l.push(h),o.push(t.columns[h]),a-=p;else break;h++}return{colIndexes:l,columns:o,lastIndex:h-1}}function __e(e,t){for(var r=[],n=0;n<t.columns.length;n++){var a=w_e(e,t,{start:n});a.columns.length&&(r.push(a),n=a.lastIndex)}return r}function mU(e,t){var r=t.settings,n=r.startY,a=r.margin,i={x:a.left,y:n},l=t.getHeadHeight(t.columns)+t.getFootHeight(t.columns),o=n+a.bottom+l;if(r.pageBreak==="avoid"){var f=t.body,u=f.reduce(function(g,x){return g+x.height},0);o+=u}var h=new Mm(e);(r.pageBreak==="always"||r.startY!=null&&o>h.pageSize().height)&&(xU(h),i.y=a.top),t.callWillDrawPageHooks(h,i);var p=Ju({},i);t.startPageNumber=h.pageNumber(),r.horizontalPageBreak?N_e(h,t,p,i):(h.applyStyles(h.userStyles),(r.showHead==="firstPage"||r.showHead==="everyPage")&&t.head.forEach(function(g){return vf(h,t,g,i,t.columns)}),h.applyStyles(h.userStyles),t.body.forEach(function(g,x){var b=x===t.body.length-1;Zy(h,t,g,b,p,i,t.columns)}),h.applyStyles(h.userStyles),(r.showFoot==="lastPage"||r.showFoot==="everyPage")&&t.foot.forEach(function(g){return vf(h,t,g,i,t.columns)})),iU(h,t,p,i),t.callEndPageHooks(h,i),t.finalY=i.y,e.lastAutoTable=t,h.applyStyles(h.userStyles)}function N_e(e,t,r,n){var a=__e(e,t),i=t.settings;if(i.horizontalPageBreakBehaviour==="afterAllRows")a.forEach(function(u,h){e.applyStyles(e.userStyles),h>0?Ox(e,t,r,n,u.columns,!0):oD(e,t,n,u.columns),S_e(e,t,r,n,u.columns),L4(e,t,n,u.columns)});else for(var l=-1,o=a[0],f=function(){var u=l;if(o){e.applyStyles(e.userStyles);var h=o.columns;l>=0?Ox(e,t,r,n,h,!0):oD(e,t,n,h),u=cD(e,t,l+1,n,h),L4(e,t,n,h)}var p=u-l;a.slice(1).forEach(function(g){e.applyStyles(e.userStyles),Ox(e,t,r,n,g.columns,!0),cD(e,t,l+1,n,g.columns,p),L4(e,t,n,g.columns)}),l=u};l<t.body.length-1;)f()}function oD(e,t,r,n){var a=t.settings;e.applyStyles(e.userStyles),(a.showHead==="firstPage"||a.showHead==="everyPage")&&t.head.forEach(function(i){return vf(e,t,i,r,n)})}function S_e(e,t,r,n,a){e.applyStyles(e.userStyles),t.body.forEach(function(i,l){var o=l===t.body.length-1;Zy(e,t,i,o,r,n,a)})}function cD(e,t,r,n,a,i){e.applyStyles(e.userStyles),i=i??t.body.length;var l=Math.min(r+i,t.body.length),o=-1;return t.body.slice(r,l).forEach(function(f,u){var h=r+u===t.body.length-1,p=pU(e,t,h,n);f.canEntireRowFit(p,a)&&(vf(e,t,f,n,a),o=r+u)}),o}function L4(e,t,r,n){var a=t.settings;e.applyStyles(e.userStyles),(a.showFoot==="lastPage"||a.showFoot==="everyPage")&&t.foot.forEach(function(i){return vf(e,t,i,r,n)})}function j_e(e,t,r){var n=r.getLineHeight(e.styles.fontSize),a=e.padding("vertical"),i=Math.floor((t-a)/n);return Math.max(0,i)}function A_e(e,t,r,n){var a={};e.spansMultiplePages=!0,e.height=0;for(var i=0,l=0,o=r.columns;l<o.length;l++){var f=o[l],u=e.cells[f.index];if(u){Array.isArray(u.text)||(u.text=[u.text]);var h=new dU(u.raw,u.styles,u.section);h=Ju(h,u),h.text=[];var p=j_e(u,t,n);u.text.length>p&&(h.text=u.text.splice(p,u.text.length));var g=n.scaleFactor(),x=n.getLineHeightFactor();u.contentHeight=u.getContentHeight(g,x),u.contentHeight>=t&&(u.contentHeight=t,h.styles.minCellHeight-=t),u.contentHeight>e.height&&(e.height=u.contentHeight),h.contentHeight=h.getContentHeight(g,x),h.contentHeight>i&&(i=h.contentHeight),a[f.index]=h}}var b=new fU(e.raw,-1,e.section,a,!0);b.height=i;for(var y=0,w=r.columns;y<w.length;y++){var f=w[y],h=b.cells[f.index];h&&(h.height=b.height);var u=e.cells[f.index];u&&(u.height=e.height)}return b}function E_e(e,t,r,n){var a=e.pageSize().height,i=n.settings.margin,l=i.top+i.bottom,o=a-l;t.section==="body"&&(o-=n.getHeadHeight(n.columns)+n.getFootHeight(n.columns));var f=t.getMinimumRowHeight(n.columns,e),u=f<r;if(f>o)return console.error("Will not be able to print row ".concat(t.index," correctly since it's minimum height is larger than page height")),!0;if(!u)return!1;var h=t.hasRowSpan(n.columns),p=t.getMaxCellHeight(n.columns)>o;return p?(h&&console.error("The content of row ".concat(t.index," will not be drawn correctly since drawing rows with a height larger than the page height and has cells with rowspans is not supported.")),!0):!(h||n.settings.rowPageBreak==="avoid")}function Zy(e,t,r,n,a,i,l){var o=pU(e,t,n,i);if(r.canEntireRowFit(o,l))vf(e,t,r,i,l);else if(E_e(e,r,o,t)){var f=A_e(r,o,t,e);vf(e,t,r,i,l),Ox(e,t,a,i,l),Zy(e,t,f,n,a,i,l)}else Ox(e,t,a,i,l),Zy(e,t,r,n,a,i,l)}function vf(e,t,r,n,a){n.x=t.settings.margin.left;for(var i=0,l=a;i<l.length;i++){var o=l[i],f=r.cells[o.index];if(!f){n.x+=o.width;continue}e.applyStyles(f.styles),f.x=n.x,f.y=n.y;var u=t.callCellHooks(e,t.hooks.willDrawCell,f,r,o,n);if(u===!1){n.x+=o.width;continue}k_e(e,f,n);var h=f.getTextPos();rU(f.text,h.x,h.y,{halign:f.styles.halign,valign:f.styles.valign,maxWidth:Math.ceil(f.width-f.padding("left")-f.padding("right"))},e.getDocument()),t.callCellHooks(e,t.hooks.didDrawCell,f,r,o,n),n.x+=o.width}n.y+=r.height}function k_e(e,t,r){var n=t.styles;if(e.getDocument().setFillColor(e.getDocument().getFillColor()),typeof n.lineWidth=="number"){var a=sU(n.lineWidth,n.fillColor);a&&e.rect(t.x,r.y,t.width,t.height,a)}else typeof n.lineWidth=="object"&&(n.fillColor&&e.rect(t.x,r.y,t.width,t.height,"F"),C_e(e,t,r,n.lineWidth))}function C_e(e,t,r,n){var a,i,l,o;n.top&&(a=r.x,i=r.y,l=r.x+t.width,o=r.y,n.right&&(l+=.5*n.right),n.left&&(a-=.5*n.left),f(n.top,a,i,l,o)),n.bottom&&(a=r.x,i=r.y+t.height,l=r.x+t.width,o=r.y+t.height,n.right&&(l+=.5*n.right),n.left&&(a-=.5*n.left),f(n.bottom,a,i,l,o)),n.left&&(a=r.x,i=r.y,l=r.x,o=r.y+t.height,n.top&&(i-=.5*n.top),n.bottom&&(o+=.5*n.bottom),f(n.left,a,i,l,o)),n.right&&(a=r.x+t.width,i=r.y,l=r.x+t.width,o=r.y+t.height,n.top&&(i-=.5*n.top),n.bottom&&(o+=.5*n.bottom),f(n.right,a,i,l,o));function f(u,h,p,g,x){e.getDocument().setLineWidth(u),e.getDocument().line(h,p,g,x,"S")}}function pU(e,t,r,n){var a=t.settings.margin.bottom,i=t.settings.showFoot;return(i==="everyPage"||i==="lastPage"&&r)&&(a+=t.getFootHeight(t.columns)),e.pageSize().height-n.y-a}function Ox(e,t,r,n,a,i){a===void 0&&(a=[]),i===void 0&&(i=!1),e.applyStyles(e.userStyles),t.settings.showFoot==="everyPage"&&!i&&t.foot.forEach(function(o){return vf(e,t,o,n,a)}),t.callEndPageHooks(e,n);var l=t.settings.margin;iU(e,t,r,n),xU(e),t.pageNumber++,n.x=l.left,n.y=l.top,r.y=l.top,t.callWillDrawPageHooks(e,n),t.settings.showHead==="everyPage"&&(t.head.forEach(function(o){return vf(e,t,o,n,a)}),e.applyStyles(e.userStyles))}function xU(e){var t=e.pageNumber();e.setPage(t+1);var r=e.pageNumber();return r===t?(e.addPage(),!0):!1}function T_e(e){e.API.autoTable=function(){for(var t=[],r=0;r<arguments.length;r++)t[r]=arguments[r];var n=t[0],a=uU(this,n),i=hU(this,a);return mU(this,i),this},e.API.lastAutoTable=!1,e.API.autoTableText=function(t,r,n,a){rU(t,r,n,a,this)},e.API.autoTableSetDefaults=function(t){return Mm.setDefaults(t,this),this},e.autoTableSetDefaults=function(t,r){Mm.setDefaults(t,r)},e.API.autoTableHtmlToJson=function(t,r){var n;if(r===void 0&&(r=!1),typeof window>"u")return console.error("Cannot run autoTableHtmlToJson in non browser environment"),null;var a=new Mm(this),i=cU(a,t,window,r,!1),l=i.head,o=i.body,f=((n=l[0])===null||n===void 0?void 0:n.map(function(u){return u.content}))||[];return{columns:f,rows:o,data:o}}}var M4;function uD(e,t){var r=uU(e,t),n=hU(e,r);mU(e,n)}try{if(typeof window<"u"&&window){var fD=window,dD=fD.jsPDF||((M4=fD.jspdf)===null||M4===void 0?void 0:M4.jsPDF);dD&&T_e(dD)}}catch(e){console.error("Could not apply autoTable plugin",e)}const hg=(e,t)=>{if(!e||e.length===0){alert("Aucune donne  exporter");return}const r=Object.keys(e[0]),n=[r.join(","),...e.map(o=>r.map(f=>{const u=o[f];return typeof u=="string"&&(u.includes(",")||u.includes('"'))?`"${u.replace(/"/g,'""')}"`:u}).join(","))].join(`
`),a=new Blob([n],{type:"text/csv;charset=utf-8;"}),i=document.createElement("a"),l=URL.createObjectURL(a);i.setAttribute("href",l),i.setAttribute("download",`${t}.csv`),i.style.visibility="hidden",document.body.appendChild(i),i.click(),document.body.removeChild(i)},O_e=e=>{const t=new $t,r=e.student;t.setFontSize(20),t.setTextColor(59,130,246),t.text("Rapport de Progression",14,20),t.setFontSize(12),t.setTextColor(0,0,0),t.text(`tudiant: ${r.full_name}`,14,35),t.text(`Email: ${r.email}`,14,42),t.text(`Inscrit le: ${new Date(r.created_at).toLocaleDateString("fr-FR")}`,14,49),t.text(`Date du rapport: ${new Date().toLocaleDateString("fr-FR")}`,14,56),t.setDrawColor(229,231,235),t.line(14,60,196,60),t.setFontSize(14),t.setTextColor(59,130,246),t.text("Statistiques Globales",14,70);const n=e.enrollments.reduce((u,h)=>u+h.total_videos,0),a=e.enrollments.reduce((u,h)=>u+h.completed_videos,0),i=e.enrollments.reduce((u,h)=>u+h.total_tests,0),l=e.enrollments.reduce((u,h)=>u+h.passed_tests,0);if(t.setFontSize(10),t.setTextColor(0,0,0),t.text(`Formations inscrites: ${e.enrollments.length}`,14,80),t.text(`Formations compltes: ${e.enrollments.filter(u=>u.completed_at).length}`,14,87),t.text(`Vidos compltes: ${a} / ${n}`,14,94),t.text(`Tests russis: ${l} / ${i}`,14,101),e.enrollments.length>0){t.setFontSize(14),t.setTextColor(59,130,246),t.text("Formations Inscrites",14,115);const u=e.enrollments.map(h=>[h.formation_title,new Date(h.enrolled_at).toLocaleDateString("fr-FR"),h.completed_at?new Date(h.completed_at).toLocaleDateString("fr-FR"):"-",`${h.completed_videos}/${h.total_videos}`,`${h.passed_tests}/${h.total_tests}`,h.status==="completed"?"Complt":h.status==="active"?"En cours":"Inactif"]);uD(t,{head:[["Formation","Date Inscription","Date Compltion","Vidos","Tests","Statut"]],body:u,startY:120,theme:"grid",headStyles:{fillColor:[59,130,246]},styles:{fontSize:8}})}if(e.test_history.length>0){const u=t.lastAutoTable?.finalY||120;let h;u>220?(t.addPage(),t.setFontSize(14),t.setTextColor(59,130,246),t.text("Historique des Tests",14,20),h=25):(t.setFontSize(14),t.setTextColor(59,130,246),t.text("Historique des Tests",14,u+15),h=u+20);const p=e.test_history.map(g=>{const x=g.total_points>0?(g.score/g.total_points*100).toFixed(1):"0";return[g.formation_title,g.test_title,`${g.score}/${g.total_points}`,`${x}%`,g.passed?"Russi":"chou",new Date(g.submitted_at).toLocaleDateString("fr-FR")]});uD(t,{head:[["Formation","Test","Score","%","Rsultat","Date"]],body:p,startY:h,theme:"grid",headStyles:{fillColor:[59,130,246]},styles:{fontSize:8}})}const o=t.getNumberOfPages();for(let u=1;u<=o;u++)t.setPage(u),t.setFontSize(8),t.setTextColor(156,163,175),t.text(`Page ${u} sur ${o}`,t.internal.pageSize.getWidth()/2,t.internal.pageSize.getHeight()-10,{align:"center"});const f=`rapport_${r.full_name.replace(/\s+/g,"_")}_${new Date().toISOString().split("T")[0]}.pdf`;t.save(f)},D_e=e=>{const t=e.map(r=>({ID:r.id,Titre:r.title,Inscriptions:r.enrollment_count,Complts:r.completed_count,"Taux de Compltion (%)":r.completion_rate,Prix:r.price||0}));hg(t,`formations_${new Date().toISOString().split("T")[0]}`)},P_e=e=>{const t=e.map(r=>({ID:r.id,Nom:r.full_name,Email:r.email,Inscriptions:r.enrollments_count,"Vidos Vues":r.videos_watched,"Vidos Compltes":r.videos_completed,"Tests Passs":r.tests_taken,"Tests Russis":r.tests_passed}));hg(t,`etudiants_actifs_${new Date().toISOString().split("T")[0]}`)},F_e=e=>{const t=e.map(r=>({Mois:r.month,Inscriptions:r.enrollment_count,Complts:r.completed_count}));hg(t,`tendances_inscriptions_${new Date().toISOString().split("T")[0]}`)},L_e=e=>{const t=e.student,r=e.enrollments.map(n=>({Formation:n.formation_title,"Date Inscription":new Date(n.enrolled_at).toLocaleDateString("fr-FR"),"Date Compltion":n.completed_at?new Date(n.completed_at).toLocaleDateString("fr-FR"):"-","Vidos Compltes":n.completed_videos,"Total Vidos":n.total_videos,"Tests Russis":n.passed_tests,"Total Tests":n.total_tests,Statut:n.status==="completed"?"Complt":n.status==="active"?"En cours":"Inactif"}));if(hg(r,`rapport_formations_${t.full_name.replace(/\s+/g,"_")}_${new Date().toISOString().split("T")[0]}`),e.test_history.length>0){const n=e.test_history.map(a=>{const i=a.total_points>0?(a.score/a.total_points*100).toFixed(1):"0";return{Formation:a.formation_title,Test:a.test_title,Score:a.score,"Total Points":a.total_points,"Pourcentage (%)":i,Rsultat:a.passed?"Russi":"chou",Date:new Date(a.submitted_at).toLocaleDateString("fr-FR")}});hg(n,`rapport_tests_${t.full_name.replace(/\s+/g,"_")}_${new Date().toISOString().split("T")[0]}`)}},Ev=["#3B82F6","#10B981","#8B5CF6","#F59E0B","#EF4444","#06B6D4"],M_e=()=>{const[e,t]=C.useState(30),{data:r,isLoading:n}=Jbe(),{data:a,isLoading:i}=ewe(10),{data:l,isLoading:o}=twe(6),{data:f,isLoading:u}=rwe(10),{data:h,isLoading:p}=awe(),{data:g,isLoading:x}=iwe(e),b=r?.overview;return n||i||o||u||p||x?s.jsx("div",{className:"p-8",children:s.jsx("div",{className:"flex items-center justify-center h-64",children:s.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-600"})})}):s.jsxs("div",{className:"p-8 space-y-8",children:[s.jsxs("div",{children:[s.jsx("h1",{className:"text-3xl font-bold text-gray-900",children:"Tableau de bord Analytics"}),s.jsx("p",{className:"text-gray-600 mt-2",children:"Vue d'ensemble des performances de votre plateforme de formation"})]}),g&&s.jsxs("div",{className:"bg-gradient-to-r from-blue-600 to-purple-600 rounded-lg shadow-lg p-6 text-white",children:[s.jsxs("div",{className:"flex items-center justify-between mb-4",children:[s.jsxs("h2",{className:"text-xl font-bold",children:["Statistiques des ",g.period_days," derniers jours"]}),s.jsx("div",{className:"flex gap-2",children:[7,30,90].map(w=>s.jsxs("button",{onClick:()=>t(w),className:`px-4 py-2 rounded-lg font-medium transition-colors ${e===w?"bg-white text-blue-600":"bg-white/20 hover:bg-white/30"}`,children:[w,"j"]},w))})]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-5 gap-4",children:[s.jsxs("div",{className:"bg-white/10 rounded-lg p-4",children:[s.jsx("p",{className:"text-sm opacity-90",children:"Nouvelles inscriptions"}),s.jsx("p",{className:"text-3xl font-bold mt-1",children:g.stats.new_enrollments})]}),s.jsxs("div",{className:"bg-white/10 rounded-lg p-4",children:[s.jsx("p",{className:"text-sm opacity-90",children:"Formations compltes"}),s.jsx("p",{className:"text-3xl font-bold mt-1",children:g.stats.completed_formations})]}),s.jsxs("div",{className:"bg-white/10 rounded-lg p-4",children:[s.jsx("p",{className:"text-sm opacity-90",children:"Vidos termines"}),s.jsx("p",{className:"text-3xl font-bold mt-1",children:g.stats.videos_completed})]}),s.jsxs("div",{className:"bg-white/10 rounded-lg p-4",children:[s.jsx("p",{className:"text-sm opacity-90",children:"Tests passs"}),s.jsx("p",{className:"text-3xl font-bold mt-1",children:g.stats.tests_total})]}),s.jsxs("div",{className:"bg-white/10 rounded-lg p-4",children:[s.jsx("p",{className:"text-sm opacity-90",children:"Tests russis"}),s.jsx("p",{className:"text-3xl font-bold mt-1",children:g.stats.tests_passed})]})]})]}),b&&s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6",children:[s.jsx(dd,{title:"Total tudiants",value:b.students.total,icon:is,colorClass:"bg-blue-500"}),s.jsx(dd,{title:"Total Formations",value:b.formations.total,icon:qn,colorClass:"bg-green-500"}),s.jsx(dd,{title:"Sessions Actives",value:b.sessions.active,subtitle:`Sur ${b.sessions.total} sessions`,icon:ns,colorClass:"bg-purple-500"}),s.jsx(dd,{title:"Taux de Compltion",value:`${b.enrollments.completion_rate.toFixed(1)}%`,subtitle:`${b.enrollments.completed}/${b.enrollments.total} inscriptions`,icon:ii,colorClass:"bg-orange-500"}),s.jsx(dd,{title:"Vidos Compltes",value:`${b.videos.completion_rate.toFixed(1)}%`,subtitle:`${b.videos.completed}/${b.videos.total} vidos`,icon:Rx,colorClass:"bg-cyan-500"}),s.jsx(dd,{title:"Taux de Russite Tests",value:`${b.tests.success_rate.toFixed(1)}%`,subtitle:`${b.tests.passed}/${b.tests.total} tests`,icon:Fx,colorClass:"bg-pink-500"}),s.jsx(dd,{title:"Inscriptions Totales",value:b.enrollments.total,icon:$0,colorClass:"bg-indigo-500"}),s.jsx(dd,{title:"Formations Compltes",value:b.enrollments.completed,icon:wi,colorClass:"bg-emerald-500"})]}),s.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[a?.formations&&a.formations.length>0&&s.jsxs("div",{className:"bg-white rounded-lg shadow-sm border p-6",children:[s.jsxs("div",{className:"flex items-center justify-between mb-4",children:[s.jsx("h2",{className:"text-lg font-semibold text-gray-900",children:"Formations les Plus Populaires"}),s.jsxs("button",{onClick:()=>D_e(a.formations),className:"flex items-center gap-2 px-3 py-1.5 text-sm bg-green-600 text-white rounded-lg hover:bg-green-700 transition-colors",children:[s.jsx(Ss,{className:"h-4 w-4"}),"CSV"]})]}),s.jsx(R5,{width:"100%",height:300,children:s.jsxs(qbe,{data:a.formations.slice(0,8),children:[s.jsx(eN,{strokeDasharray:"3 3"}),s.jsx(nN,{dataKey:"title",angle:-45,textAnchor:"end",height:120,interval:0,tick:{fontSize:11}}),s.jsx(iN,{}),s.jsx(J5,{content:({active:w,payload:_})=>{if(w&&_&&_.length){const E=_[0].payload;return s.jsxs("div",{className:"bg-white p-3 border rounded-lg shadow-lg",children:[s.jsx("p",{className:"font-semibold text-sm mb-1",children:E.title}),s.jsxs("p",{className:"text-xs text-gray-600",children:["Inscriptions: ",s.jsx("span",{className:"font-medium",children:E.enrollment_count})]}),s.jsxs("p",{className:"text-xs text-gray-600",children:["Complts: ",s.jsx("span",{className:"font-medium",children:E.completed_count})]}),s.jsxs("p",{className:"text-xs text-gray-600",children:["Taux: ",s.jsxs("span",{className:"font-medium",children:[E.completion_rate,"%"]})]})]})}return null}}),s.jsx(ng,{}),s.jsx(Z_,{dataKey:"enrollment_count",name:"Inscriptions",fill:"#3B82F6"}),s.jsx(Z_,{dataKey:"completed_count",name:"Complts",fill:"#10B981"})]})})]}),l?.trends&&l.trends.length>0&&s.jsxs("div",{className:"bg-white rounded-lg shadow-sm border p-6",children:[s.jsxs("div",{className:"flex items-center justify-between mb-4",children:[s.jsx("h2",{className:"text-lg font-semibold text-gray-900",children:"Tendances d'Inscriptions (6 mois)"}),s.jsxs("button",{onClick:()=>F_e(l.trends),className:"flex items-center gap-2 px-3 py-1.5 text-sm bg-green-600 text-white rounded-lg hover:bg-green-700 transition-colors",children:[s.jsx(Ss,{className:"h-4 w-4"}),"CSV"]})]}),s.jsx(R5,{width:"100%",height:300,children:s.jsxs(Ube,{data:l.trends,children:[s.jsx(eN,{strokeDasharray:"3 3"}),s.jsx(nN,{dataKey:"month"}),s.jsx(iN,{}),s.jsx(J5,{content:({active:w,payload:_})=>{if(w&&_&&_.length){const E=_[0].payload;return s.jsxs("div",{className:"bg-white p-3 border rounded-lg shadow-lg",children:[s.jsx("p",{className:"font-semibold text-sm mb-1",children:E.month}),s.jsxs("p",{className:"text-xs text-blue-600",children:["Inscriptions: ",s.jsx("span",{className:"font-medium",children:E.enrollment_count})]}),s.jsxs("p",{className:"text-xs text-green-600",children:["Complts: ",s.jsx("span",{className:"font-medium",children:E.completed_count})]})]})}return null}}),s.jsx(ng,{}),s.jsx(tN,{type:"monotone",dataKey:"enrollment_count",name:"Inscriptions",stroke:"#3B82F6",strokeWidth:2,dot:{r:4}}),s.jsx(tN,{type:"monotone",dataKey:"completed_count",name:"Complts",stroke:"#10B981",strokeWidth:2,dot:{r:4}})]})})]})]}),h?.data&&h.data.length>0&&s.jsxs("div",{className:"bg-white rounded-lg shadow-sm border p-6",children:[s.jsx("h2",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Rpartition des Taux de Compltion"}),s.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[s.jsx(R5,{width:"100%",height:300,children:s.jsxs(Zbe,{children:[s.jsx(DI,{data:h.data.slice(0,6),dataKey:"completion_rate",nameKey:"title",cx:"50%",cy:"50%",outerRadius:100,label:w=>`${w.title}: ${w.completion_rate}%`,children:h.data.slice(0,6).map((w,_)=>s.jsx(Wg,{fill:Ev[_%Ev.length]},`cell-${_}`))}),s.jsx(J5,{content:({active:w,payload:_})=>{if(w&&_&&_.length){const E=_[0].payload;return s.jsxs("div",{className:"bg-white p-3 border rounded-lg shadow-lg",children:[s.jsx("p",{className:"font-semibold text-sm mb-1",children:E.title}),s.jsxs("p",{className:"text-xs text-gray-600",children:["Taux: ",s.jsxs("span",{className:"font-medium",children:[E.completion_rate,"%"]})]}),s.jsxs("p",{className:"text-xs text-gray-600",children:["Complts: ",s.jsxs("span",{className:"font-medium",children:[E.completed_enrollments,"/",E.total_enrollments]})]})]})}return null}})]})}),s.jsxs("div",{className:"space-y-2",children:[s.jsx("h3",{className:"font-medium text-gray-900 mb-3",children:"Dtails par Formation"}),s.jsx("div",{className:"space-y-2 max-h-[280px] overflow-y-auto",children:h.data.map((w,_)=>s.jsxs("div",{className:"flex items-center justify-between p-3 bg-gray-50 rounded-lg",children:[s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx("div",{className:"w-3 h-3 rounded-full",style:{backgroundColor:Ev[_%Ev.length]}}),s.jsx("span",{className:"text-sm font-medium text-gray-900",children:w.title})]}),s.jsxs("div",{className:"text-right",children:[s.jsxs("p",{className:"text-sm font-semibold text-gray-900",children:[w.completion_rate,"%"]}),s.jsxs("p",{className:"text-xs text-gray-500",children:[w.completed_enrollments,"/",w.total_enrollments]})]})]},w.id))})]})]})]}),f?.students&&f.students.length>0&&s.jsxs("div",{className:"bg-white rounded-lg shadow-sm border overflow-hidden",children:[s.jsxs("div",{className:"p-6 border-b flex items-center justify-between",children:[s.jsx("h2",{className:"text-lg font-semibold text-gray-900",children:"tudiants les Plus Actifs"}),s.jsxs("button",{onClick:()=>P_e(f.students),className:"flex items-center gap-2 px-3 py-1.5 text-sm bg-green-600 text-white rounded-lg hover:bg-green-700 transition-colors",children:[s.jsx(Ss,{className:"h-4 w-4"}),"Export CSV"]})]}),s.jsx("div",{className:"overflow-x-auto",children:s.jsxs("table",{className:"w-full",children:[s.jsx("thead",{className:"bg-gray-50",children:s.jsxs("tr",{children:[s.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"tudiant"}),s.jsx("th",{className:"px-6 py-3 text-center text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Inscriptions"}),s.jsx("th",{className:"px-6 py-3 text-center text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Vidos Vues"}),s.jsx("th",{className:"px-6 py-3 text-center text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Vidos Compltes"}),s.jsx("th",{className:"px-6 py-3 text-center text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Tests Passs"}),s.jsx("th",{className:"px-6 py-3 text-center text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Tests Russis"})]})}),s.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:f.students.map(w=>s.jsxs("tr",{className:"hover:bg-gray-50",children:[s.jsx("td",{className:"px-6 py-4",children:s.jsxs("div",{children:[s.jsx("p",{className:"font-medium text-gray-900",children:w.full_name}),s.jsx("p",{className:"text-sm text-gray-500",children:w.email})]})}),s.jsx("td",{className:"px-6 py-4 text-center",children:s.jsx("span",{className:"inline-flex items-center px-3 py-1 rounded-full text-sm font-medium bg-blue-100 text-blue-800",children:w.enrollments_count})}),s.jsx("td",{className:"px-6 py-4 text-center text-gray-900",children:w.videos_watched}),s.jsx("td",{className:"px-6 py-4 text-center",children:s.jsx("span",{className:"inline-flex items-center px-3 py-1 rounded-full text-sm font-medium bg-green-100 text-green-800",children:w.videos_completed})}),s.jsx("td",{className:"px-6 py-4 text-center text-gray-900",children:w.tests_taken}),s.jsx("td",{className:"px-6 py-4 text-center",children:s.jsx("span",{className:"inline-flex items-center px-3 py-1 rounded-full text-sm font-medium bg-purple-100 text-purple-800",children:w.tests_passed})})]},w.id))})]})})]})]})},Jy=({progress:e,label:t,showPercentage:r=!0,size:n="md",color:a="blue"})=>{const i=Math.min(Math.max(e,0),100),l=i>=100,o={sm:"h-1.5",md:"h-2",lg:"h-3"},f={blue:"bg-blue-600",green:"bg-green-600",purple:"bg-purple-600",orange:"bg-orange-600"};return s.jsxs("div",{className:"w-full",children:[(t||r)&&s.jsxs("div",{className:"flex items-center justify-between mb-1.5",children:[t&&s.jsx("span",{className:"text-sm font-medium text-gray-700",children:t}),r&&s.jsxs("div",{className:"flex items-center gap-1.5",children:[l&&s.jsx(ii,{className:"h-4 w-4 text-green-600"}),s.jsxs("span",{className:`text-sm font-semibold ${l?"text-green-600":"text-gray-600"}`,children:[Math.round(i),"%"]})]})]}),s.jsx("div",{className:`w-full bg-gray-200 rounded-full overflow-hidden ${o[n]}`,children:s.jsx("div",{className:`${o[n]} ${f[a]} rounded-full transition-all duration-500 ease-out`,style:{width:`${i}%`}})})]})},hD=({completed:e,total:t,label:r,color:n="blue"})=>{const a=t>0?e/t*100:0;return s.jsxs("div",{children:[s.jsxs("div",{className:"flex items-center justify-between mb-1.5",children:[s.jsx("span",{className:"text-sm text-gray-600",children:r}),s.jsxs("span",{className:"text-sm font-medium text-gray-900",children:[e,"/",t]})]}),s.jsx(Jy,{progress:a,showPercentage:!1,color:n})]})},R_e=()=>{const[e,t]=C.useState(null),[r,n]=C.useState(""),{data:a,isLoading:i}=nwe(e),l=u=>{t(u)},o=()=>{a&&O_e(a)},f=()=>{a&&L_e(a)};return s.jsxs("div",{className:"p-8 space-y-6",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx("h1",{className:"text-3xl font-bold text-gray-900",children:"Rapports tudiants"}),s.jsx("p",{className:"text-gray-600 mt-2",children:"Consulter les rapports dtaills de progression des tudiants"})]}),e&&s.jsxs("div",{className:"flex gap-2",children:[s.jsxs("button",{onClick:f,className:"flex items-center gap-2 px-4 py-2 bg-green-600 text-white rounded-lg hover:bg-green-700 transition-colors",children:[s.jsx(Ss,{className:"h-4 w-4"}),"Export CSV"]}),s.jsxs("button",{onClick:o,className:"flex items-center gap-2 px-4 py-2 bg-red-600 text-white rounded-lg hover:bg-red-700 transition-colors",children:[s.jsx(Ss,{className:"h-4 w-4"}),"Export PDF"]})]})]}),s.jsxs("div",{className:"bg-white rounded-lg shadow-sm border p-6",children:[s.jsxs("div",{className:"relative",children:[s.jsx(ep,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 h-5 w-5 text-gray-400"}),s.jsx("input",{type:"text",placeholder:"Rechercher un tudiant par ID (pour test, utilisez un ID existant)...",value:r,onChange:u=>n(u.target.value),onKeyDown:u=>{u.key==="Enter"&&r.trim()&&l(r.trim())},className:"w-full pl-10 pr-4 py-3 border rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500"})]}),s.jsx("p",{className:"text-sm text-gray-500 mt-2",children:"Appuyez sur Entre pour charger le rapport d'un tudiant"})]}),i&&s.jsx("div",{className:"flex items-center justify-center h-64",children:s.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-600"})}),!i&&!e&&s.jsxs("div",{className:"bg-white rounded-lg shadow-sm border p-12 text-center",children:[s.jsx(Es,{className:"h-16 w-16 text-gray-300 mx-auto mb-4"}),s.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"Aucun tudiant slectionn"}),s.jsx("p",{className:"text-gray-600",children:"Entrez l'ID d'un tudiant dans la barre de recherche pour afficher son rapport dtaill"})]}),!i&&e&&a&&s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{className:"bg-white rounded-lg shadow-sm border p-6",children:[s.jsxs("div",{className:"flex items-center gap-4 mb-4",children:[s.jsx("div",{className:"bg-blue-500 p-4 rounded-full",children:s.jsx(Mx,{className:"h-8 w-8 text-white"})}),s.jsxs("div",{className:"flex-1",children:[s.jsx("h2",{className:"text-2xl font-bold text-gray-900",children:a.student.full_name}),s.jsxs("div",{className:"flex items-center gap-4 mt-2 text-sm text-gray-600",children:[s.jsxs("div",{className:"flex items-center gap-1",children:[s.jsx(rV,{className:"h-4 w-4"}),a.student.email]}),s.jsxs("div",{className:"flex items-center gap-1",children:[s.jsx(ns,{className:"h-4 w-4"}),"Inscrit le ",new Date(a.student.created_at).toLocaleDateString("fr-FR")]})]})]})]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4 mt-6",children:[s.jsxs("div",{className:"bg-blue-50 rounded-lg p-4",children:[s.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[s.jsx(qn,{className:"h-5 w-5 text-blue-600"}),s.jsx("span",{className:"text-sm font-medium text-blue-900",children:"Formations"})]}),s.jsx("p",{className:"text-3xl font-bold text-blue-600",children:a.enrollments.length})]}),s.jsxs("div",{className:"bg-green-50 rounded-lg p-4",children:[s.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[s.jsx(ii,{className:"h-5 w-5 text-green-600"}),s.jsx("span",{className:"text-sm font-medium text-green-900",children:"Compltes"})]}),s.jsx("p",{className:"text-3xl font-bold text-green-600",children:a.enrollments.filter(u=>u.completed_at).length})]}),s.jsxs("div",{className:"bg-purple-50 rounded-lg p-4",children:[s.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[s.jsx(Rx,{className:"h-5 w-5 text-purple-600"}),s.jsx("span",{className:"text-sm font-medium text-purple-900",children:"Vidos"})]}),s.jsxs("p",{className:"text-3xl font-bold text-purple-600",children:[a.enrollments.reduce((u,h)=>u+h.completed_videos,0)," /"," ",a.enrollments.reduce((u,h)=>u+h.total_videos,0)]})]}),s.jsxs("div",{className:"bg-orange-50 rounded-lg p-4",children:[s.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[s.jsx(Fx,{className:"h-5 w-5 text-orange-600"}),s.jsx("span",{className:"text-sm font-medium text-orange-900",children:"Tests Russis"})]}),s.jsxs("p",{className:"text-3xl font-bold text-orange-600",children:[a.enrollments.reduce((u,h)=>u+h.passed_tests,0)," /"," ",a.enrollments.reduce((u,h)=>u+h.total_tests,0)]})]})]})]}),s.jsxs("div",{className:"bg-white rounded-lg shadow-sm border overflow-hidden",children:[s.jsx("div",{className:"p-6 border-b",children:s.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:"Formations Inscrites"})}),s.jsx("div",{className:"divide-y",children:a.enrollments.length===0?s.jsxs("div",{className:"p-12 text-center text-gray-500",children:[s.jsx(qn,{className:"h-12 w-12 text-gray-300 mx-auto mb-3"}),s.jsx("p",{children:"Aucune formation inscrite"})]}):a.enrollments.map(u=>{const h=u.total_videos>0?u.completed_videos/u.total_videos*100:0,p=u.total_tests>0?u.passed_tests/u.total_tests*100:0;return s.jsxs("div",{className:"p-6 hover:bg-gray-50",children:[s.jsxs("div",{className:"flex items-start justify-between mb-4",children:[s.jsxs("div",{className:"flex-1",children:[s.jsx("h4",{className:"font-semibold text-gray-900 mb-2",children:u.formation_title}),s.jsxs("div",{className:"flex items-center gap-4 text-sm text-gray-600",children:[s.jsxs("span",{children:["Inscrit le ",new Date(u.enrolled_at).toLocaleDateString("fr-FR")]}),u.completed_at&&s.jsxs("span",{className:"flex items-center gap-1 text-green-600",children:[s.jsx(ii,{className:"h-4 w-4"}),"Complt le ",new Date(u.completed_at).toLocaleDateString("fr-FR")]})]})]}),s.jsx("span",{className:`px-3 py-1 rounded-full text-sm font-medium ${u.status==="completed"?"bg-green-100 text-green-800":u.status==="active"?"bg-blue-100 text-blue-800":"bg-gray-100 text-gray-800"}`,children:u.status==="completed"?"Complt":u.status==="active"?"En cours":"Inactif"})]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[s.jsx("div",{children:s.jsx(Jy,{progress:h,label:`Vidos (${u.completed_videos}/${u.total_videos})`,color:"purple",size:"sm"})}),s.jsx("div",{children:s.jsx(Jy,{progress:p,label:`Tests russis (${u.passed_tests}/${u.total_tests})`,color:"orange",size:"sm"})})]})]},u.formation_id)})})]}),s.jsxs("div",{className:"bg-white rounded-lg shadow-sm border overflow-hidden",children:[s.jsx("div",{className:"p-6 border-b",children:s.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:"Historique des Tests"})}),a.test_history.length===0?s.jsxs("div",{className:"p-12 text-center text-gray-500",children:[s.jsx(Fx,{className:"h-12 w-12 text-gray-300 mx-auto mb-3"}),s.jsx("p",{children:"Aucun test pass"})]}):s.jsx("div",{className:"overflow-x-auto",children:s.jsxs("table",{className:"w-full",children:[s.jsx("thead",{className:"bg-gray-50",children:s.jsxs("tr",{children:[s.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase",children:"Formation"}),s.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase",children:"Test"}),s.jsx("th",{className:"px-6 py-3 text-center text-xs font-medium text-gray-500 uppercase",children:"Score"}),s.jsx("th",{className:"px-6 py-3 text-center text-xs font-medium text-gray-500 uppercase",children:"Rsultat"}),s.jsx("th",{className:"px-6 py-3 text-center text-xs font-medium text-gray-500 uppercase",children:"Date"})]})}),s.jsx("tbody",{className:"divide-y",children:a.test_history.map(u=>{const h=u.total_points>0?(u.score/u.total_points*100).toFixed(1):0;return s.jsxs("tr",{className:"hover:bg-gray-50",children:[s.jsx("td",{className:"px-6 py-4 text-sm text-gray-900",children:u.formation_title}),s.jsx("td",{className:"px-6 py-4 text-sm text-gray-900",children:u.test_title}),s.jsxs("td",{className:"px-6 py-4 text-center",children:[s.jsxs("div",{className:"text-sm font-medium text-gray-900",children:[u.score," / ",u.total_points]}),s.jsxs("div",{className:"text-xs text-gray-500",children:[h,"%"]})]}),s.jsx("td",{className:"px-6 py-4 text-center",children:u.passed?s.jsxs("span",{className:"inline-flex items-center gap-1 px-3 py-1 rounded-full text-sm font-medium bg-green-100 text-green-800",children:[s.jsx(ii,{className:"h-4 w-4"}),"Russi"]}):s.jsxs("span",{className:"inline-flex items-center gap-1 px-3 py-1 rounded-full text-sm font-medium bg-red-100 text-red-800",children:[s.jsx(Sd,{className:"h-4 w-4"}),"chou"]})}),s.jsx("td",{className:"px-6 py-4 text-center text-sm text-gray-600",children:new Date(u.submitted_at).toLocaleDateString("fr-FR")})]},u.id)})})]})})]})]})]})},Bj={generate:async e=>st.post("/certificates/generate",e),getByStudent:async e=>st.get(`/certificates/student/${e}`),getById:async e=>st.get(`/certificates/${e}`),verify:async e=>st.get(`/certificates/verify/${e}`),getAll:async e=>{const t={};return e?.limit&&(t.limit=e.limit.toString()),e?.offset&&(t.offset=e.offset.toString()),e?.formation_id&&(t.formation_id=e.formation_id),st.get("/certificates",t)},delete:async e=>st.delete(`/certificates/${e}`),updateMetadata:async(e,t)=>st.patch(`/certificates/${e}/metadata`,{metadata:t})},gU=e=>hr({queryKey:["certificates","student",e],queryFn:()=>{if(!e)throw new Error("Student ID is required");return Bj.getByStudent(e)},enabled:!!e,staleTime:1e3*60*5}),I_e=e=>hr({queryKey:["certificates","all",e],queryFn:()=>Bj.getAll(e),staleTime:1e3*60*5}),B_e=()=>{const e=Ut();return Ht({mutationFn:Bj.delete,onSuccess:()=>{e.invalidateQueries({queryKey:["certificates"]})}})},NN=1122,SN=794,U_e=297,z_e=210,q_e=U_e/NN,$_e=z_e/SN;class mD{doc;certificate;template;pageWidth;pageHeight;customFonts=[];isCustomFontsLoaded=!1;constructor(t,r){this.certificate=t,this.template=r;const n=r.template_config;this.doc=new $t({orientation:n.layout.orientation||"landscape",unit:"mm",format:n.layout.format||"a4"}),this.pageWidth=this.doc.internal.pageSize.getWidth(),this.pageHeight=this.doc.internal.pageSize.getHeight()}async loadCustomFonts(){if(!this.isCustomFontsLoaded)try{const t=await Sf.getCustomFonts();this.customFonts=t.fonts||[];for(const r of this.customFonts)try{const a=await(await fetch(r.file_url)).blob(),l=(await this.blobToBase64(a)).split(",")[1],o=`custom-${r.id}`;this.doc.addFileToVFS(`${o}.${r.file_format}`,l),this.doc.addFont(`${o}.${r.file_format}`,o,"normal")}catch(n){console.warn(`Failed to load custom font ${r.name}:`,n)}this.isCustomFontsLoaded=!0}catch(t){console.error("Error loading custom fonts:",t)}}blobToBase64(t){return new Promise((r,n)=>{const a=new FileReader;a.onloadend=()=>r(a.result),a.onerror=n,a.readAsDataURL(t)})}async loadBackgroundImage(){const t=this.template.background_image_url;if(t)try{const n=await(await fetch(t)).blob(),a=await this.blobToBase64(n);this.doc.addImage(a,"JPEG",0,0,this.pageWidth,this.pageHeight,void 0,"FAST")}catch(r){console.error("Error loading background image:",r)}}pxToMm(t,r){let n;return typeof t=="number"?n=t:n=this.calculatePixelPosition(t,r),r==="x"?n*q_e:n*$_e}calculatePixelPosition(t,r="x"){if(typeof t=="number")return t;let n=t.replace(/CANVAS_WIDTH_PX|canvasWidth/g,String(NN)).replace(/CANVAS_HEIGHT_PX|canvasHeight/g,String(SN)).replace(/center/g,String(r==="x"?NN/2:SN/2));try{return/^[\d\s+\-*/().]+$/.test(n)?Function(`'use strict'; return (${n})`)():(console.warn("Expression non valide:",n),0)}catch(a){return console.error("Error calculating pixel position:",n,a),0}}async generate(){await this.loadCustomFonts(),await this.loadBackgroundImage();const t=this.template.template_config.elements;for(const r of t)r.condition&&!this.checkCondition(r.condition)||await this.renderElement(r);return this.doc}checkCondition(t){const n=this.certificate[t];return n!=null&&n!==""}replaceVariables(t){const r={"{student_name}":this.certificate.student_name||"tudiant","{student_email}":this.certificate.student_email||"","{formation_title}":this.certificate.formation_title||"Formation","{formation_description}":this.certificate.formation_description||"","{duration_hours}":this.certificate.duration_hours||"","{completion_date}":this.formatDate(this.certificate.completion_date,"long"),"{completion_date_short}":this.formatDate(this.certificate.completion_date,"short"),"{issued_date}":this.formatDate(this.certificate.issued_at,"long"),"{issued_date_short}":this.formatDate(this.certificate.issued_at,"short"),"{certificate_number}":this.certificate.certificate_number||"","{grade}":this.certificate.grade!==null&&this.certificate.grade!==void 0?this.certificate.grade:"","{grade_rounded}":this.certificate.grade!==null&&this.certificate.grade!==void 0?Math.round(this.certificate.grade):"","{current_year}":new Date().getFullYear(),"{current_date}":this.formatDate(new Date,"long"),"{organization_name}":this.certificate.metadata?.organization_name||"Centre de Formation","{organization_address}":this.certificate.metadata?.organization_address||"","{director_name}":this.certificate.metadata?.director_name||"Directeur","{logo_url}":this.certificate.metadata?.logo_url||"","{signature_url}":this.certificate.metadata?.signature_url||""};let n=t;return Object.entries(r).forEach(([a,i])=>{n=n.replace(new RegExp(a.replace(/[{}]/g,"\\$&"),"g"),String(i||""))}),n}getColor(t){const n=this.template.template_config.colors[t]||t;return n.startsWith("#")?this.hexToRgb(n):[0,0,0]}hexToRgb(t){const r=/^#?([a-f\d]{2})([a-f\d]{2})([a-f\d]{2})$/i.exec(t);return r?[parseInt(r[1],16),parseInt(r[2],16),parseInt(r[3],16)]:[0,0,0]}formatDate(t,r){try{const n=new Date(t);return isNaN(n.getTime())?"":r==="long"?n.toLocaleDateString("fr-FR",{day:"numeric",month:"long",year:"numeric"}):n.toLocaleDateString("fr-FR")}catch{return""}}async renderElement(t){try{switch(t.type){case"text":this.renderText(t);break;case"line":this.renderLine(t);break;case"border":case"rectangle":this.renderRectangle(t);break;case"circle":this.renderCircle(t);break;case"image":await this.renderImage(t);break;default:console.warn("Unknown element type:",t.type)}}catch(r){console.error("Error rendering element:",t.id,r)}}renderText(t){const r=t.font?this.template.template_config.fonts[t.font]:{family:"helvetica",size:12,style:"normal",color:"text"};let n=t.fontFamily||r.family;const a=t.fontStyle||r.style,i=t.fontSize||r.size;n.startsWith("custom-")?this.customFonts.find(p=>`custom-${p.id}`===n)?this.doc.setFont(n,"normal"):(console.warn(`Custom font ${n} not loaded, falling back to helvetica`),n="helvetica",this.doc.setFont(n,a)):this.doc.setFont(n,a),this.doc.setFontSize(i);const l=t.color?this.getColor(t.color):this.getColor(r.color||"text");this.doc.setTextColor(...l);const o=this.replaceVariables(t.content||""),f=this.pxToMm(t.x||0,"x"),u=this.pxToMm(t.y||0,"y");if(t.maxWidth){const h=this.pxToMm(t.maxWidth,"x"),p=this.doc.splitTextToSize(o,h);if(p.length===1)this.doc.text(p[0],f,u,{align:t.align||"left"});else{const g=i*.3527*1.2;p.forEach((x,b)=>{this.doc.text(x,f,u+b*g,{align:t.align||"left"})})}}else this.doc.text(o,f,u,{align:t.align||"left"})}renderLine(t){const r=this.pxToMm(t.x1||0,"x"),n=this.pxToMm(t.y1||0,"y"),a=this.pxToMm(t.x2||0,"x"),i=this.pxToMm(t.y2||0,"y"),l=this.getColor(t.color||"text");this.doc.setDrawColor(...l),this.doc.setLineWidth(t.lineWidth||.5),this.doc.line(r,n,a,i)}renderRectangle(t){const r=this.pxToMm(t.x||0,"x"),n=this.pxToMm(t.y||0,"y"),a=this.pxToMm(t.width||0,"x"),i=this.pxToMm(t.height||0,"y"),l=this.getColor(t.color||"secondary");this.doc.setDrawColor(...l),this.doc.setLineWidth(t.lineWidth||1),this.doc.rect(r,n,a,i)}renderCircle(t){const r=this.pxToMm(t.x||0,"x"),n=this.pxToMm(t.y||0,"y"),a=this.pxToMm(t.radius||10,"x"),i=this.getColor(t.fillColor||"secondary");this.doc.setFillColor(...i),this.doc.circle(r,n,a,"F")}async renderImage(t){if(!t.source){console.warn("Image element has no source");return}try{const n=await(await fetch(t.source)).blob(),a=await this.blobToBase64(n),i=this.pxToMm(t.x||0,"x"),l=this.pxToMm(t.y||0,"y"),o=this.pxToMm(t.width||100,"x"),f=this.pxToMm(t.height||100,"y");this.doc.addImage(a,"JPEG",i,l,o,f,void 0,"FAST")}catch(r){console.error("Error loading image:",t.source,r)}}download(){const t=`certificat_${this.certificate.certificate_number}_${this.certificate.student_name?.replace(/\s+/g,"_")||"etudiant"}.pdf`;this.doc.save(t)}getBlob(){return this.doc.output("blob")}getDataURL(){return this.doc.output("dataurlstring")}}const vU=async(e,t)=>{const r=new $t({orientation:"landscape",unit:"mm",format:"a4"}),n=r.internal.pageSize.getWidth(),a=r.internal.pageSize.getHeight(),i=[59,130,246],l=[251,191,36],o=[31,41,55];r.setDrawColor(...l),r.setLineWidth(1),r.rect(10,10,n-20,a-20),r.setDrawColor(...i),r.setLineWidth(.5),r.rect(15,15,n-30,a-30),r.setLineWidth(2),r.line(20,20,40,20),r.line(20,20,20,40),r.line(n-40,20,n-20,20),r.line(n-20,20,n-20,40),r.line(20,a-20,40,a-20),r.line(20,a-40,20,a-20),r.line(n-40,a-20,n-20,a-20),r.line(n-20,a-40,n-20,a-20),r.setTextColor(...l),r.setFontSize(32),r.setFont("helvetica","bold"),r.text("CERTIFICAT DE RUSSITE",n/2,40,{align:"center"}),r.setDrawColor(...l),r.setLineWidth(.5),r.line(n/2-50,45,n/2+50,45),r.setTextColor(...o),r.setFontSize(14),r.setFont("helvetica","normal"),r.text("Ce certificat est dcern ",n/2,60,{align:"center"}),r.setTextColor(...i),r.setFontSize(28),r.setFont("helvetica","bold"),r.text(e.student_name||"tudiant",n/2,75,{align:"center"}),r.setDrawColor(...i),r.setLineWidth(.3);const f=r.getTextWidth(e.student_name||"tudiant");r.line(n/2-f/2-10,78,n/2+f/2+10,78),r.setTextColor(...o),r.setFontSize(13),r.setFont("helvetica","normal"),r.text("Pour avoir complt avec succs la formation",n/2,92,{align:"center"}),r.setTextColor(0,0,0),r.setFontSize(18),r.setFont("helvetica","bold");const u=e.formation_title||"Formation",h=n-80,p=r.splitTextToSize(u,h);p.length===1?r.text(p[0],n/2,105,{align:"center"}):(r.text(p[0],n/2,102,{align:"center"}),p[1]&&r.text(p[1],n/2,110,{align:"center"}));const g=p.length>1?120:115;r.setTextColor(...o),r.setFontSize(11),r.setFont("helvetica","normal");const x=new Date(e.completion_date).toLocaleDateString("fr-FR",{day:"numeric",month:"long",year:"numeric"});r.text(`Date de compltion : ${x}`,n/2,g+10,{align:"center"}),e.duration_hours&&r.text(`Dure de la formation : ${e.duration_hours} heures`,n/2,g+17,{align:"center"}),e.grade!==null&&e.grade!==void 0&&(r.setTextColor(...i),r.setFont("helvetica","bold"),r.text(`Note obtenue : ${e.grade}%`,n/2,g+24,{align:"center"}));const b=a-40;r.setTextColor(...o),r.setFontSize(9),r.setFont("helvetica","italic"),r.text(`Numro de certificat : ${e.certificate_number}`,n/2,b,{align:"center"});const y=new Date(e.issued_at).toLocaleDateString("fr-FR");r.text(`Dlivr le : ${y}`,n/2,b+5,{align:"center"});const w=b-20;r.setDrawColor(...o),r.setLineWidth(.3),r.line(n/2-30,w,n/2+30,w),r.setTextColor(...o),r.setFontSize(10),r.setFont("helvetica","normal"),r.text("Directeur de Formation",n/2,w+5,{align:"center"}),r.setFillColor(...l),r.circle(n-35,a-35,15,"F"),r.setTextColor(255,255,255),r.setFontSize(8),r.setFont("helvetica","bold"),r.text("CERTIFI",n-35,a-38,{align:"center"}),r.text("RUSSITE",n-35,a-32,{align:"center"});const _=`certificat_${e.certificate_number}_${e.student_name?.replace(/\s+/g,"_")||"etudiant"}.pdf`;r.save(_)},H_e=()=>{const[e,t]=C.useState(""),[r,n]=C.useState(""),{data:a,isLoading:i}=I_e({limit:100,formation_id:r||void 0}),{data:l}=Eg(),o=B_e(),f=a?.certificates||[],u=l||[],h=f.filter(w=>{const _=e.toLowerCase();return w.student_name?.toLowerCase().includes(_)||w.formation_title?.toLowerCase().includes(_)||w.certificate_number.toLowerCase().includes(_)}),p=async w=>{await vU(w)},g=async w=>{if(confirm("tes-vous sr de vouloir supprimer ce certificat ?"))try{await o.mutateAsync(w)}catch(_){console.error("Erreur lors de la suppression:",_),alert("Erreur lors de la suppression du certificat")}},x=f.length,b=f.filter(w=>{const _=new Date(w.issued_at),E=new Date;return _.getMonth()===E.getMonth()&&_.getFullYear()===E.getFullYear()}).length,y=f.length>0?(f.filter(w=>w.grade!==null).reduce((w,_)=>w+(_.grade||0),0)/f.filter(w=>w.grade!==null).length).toFixed(1):"0";return s.jsx(ha,{title:"Gestion des Certificats",subtitle:"Consulter et grer tous les certificats mis",children:s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-6",children:[s.jsx("div",{className:"bg-gradient-to-br from-blue-500 to-blue-600 rounded-lg p-6 text-white",children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx("p",{className:"text-sm opacity-90",children:"Total Certificats"}),s.jsx("p",{className:"text-4xl font-bold mt-2",children:x})]}),s.jsx(wi,{className:"h-12 w-12 opacity-80"})]})}),s.jsx("div",{className:"bg-gradient-to-br from-green-500 to-green-600 rounded-lg p-6 text-white",children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx("p",{className:"text-sm opacity-90",children:"Ce mois-ci"}),s.jsx("p",{className:"text-4xl font-bold mt-2",children:b})]}),s.jsx(ns,{className:"h-12 w-12 opacity-80"})]})}),s.jsx("div",{className:"bg-gradient-to-br from-amber-500 to-amber-600 rounded-lg p-6 text-white",children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx("p",{className:"text-sm opacity-90",children:"Note Moyenne"}),s.jsxs("p",{className:"text-4xl font-bold mt-2",children:[y,"%"]})]}),s.jsx(ii,{className:"h-12 w-12 opacity-80"})]})}),s.jsx("div",{className:"bg-gradient-to-br from-purple-500 to-purple-600 rounded-lg p-6 text-white",children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx("p",{className:"text-sm opacity-90",children:"Formations"}),s.jsx("p",{className:"text-4xl font-bold mt-2",children:new Set(f.map(w=>w.formation_id)).size})]}),s.jsx(qn,{className:"h-12 w-12 opacity-80"})]})})]}),s.jsx("div",{className:"bg-white rounded-lg shadow-sm border p-6",children:s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[s.jsx("div",{className:"md:col-span-2",children:s.jsxs("div",{className:"relative",children:[s.jsx(ep,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 h-5 w-5 text-gray-400"}),s.jsx("input",{type:"text",placeholder:"Rechercher par tudiant, formation ou numro...",value:e,onChange:w=>t(w.target.value),className:"w-full pl-10 pr-4 py-2 border rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500"})]})}),s.jsx("div",{children:s.jsxs("div",{className:"relative",children:[s.jsx(IN,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 h-5 w-5 text-gray-400"}),s.jsxs("select",{value:r,onChange:w=>n(w.target.value),className:"w-full pl-10 pr-4 py-2 border rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500 appearance-none",children:[s.jsx("option",{value:"",children:"Toutes les formations"}),u.map(w=>s.jsx("option",{value:w.id,children:w.title},w.id))]})]})})]})}),s.jsxs("div",{className:"bg-white rounded-lg shadow-sm border overflow-hidden",children:[s.jsx("div",{className:"p-6 border-b",children:s.jsxs("h2",{className:"text-lg font-semibold text-gray-900",children:["Certificats (",h.length,")"]})}),i?s.jsx("div",{className:"flex items-center justify-center h-64",children:s.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-600"})}):h.length===0?s.jsxs("div",{className:"p-12 text-center",children:[s.jsx(wi,{className:"h-16 w-16 text-gray-300 mx-auto mb-4"}),s.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"Aucun certificat trouv"}),s.jsx("p",{className:"text-gray-600",children:e||r?"Essayez de modifier vos critres de recherche":"Aucun certificat n'a encore t gnr"})]}):s.jsx("div",{className:"overflow-x-auto",children:s.jsxs("table",{className:"w-full",children:[s.jsx("thead",{className:"bg-gray-50",children:s.jsxs("tr",{children:[s.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Numro"}),s.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"tudiant"}),s.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Formation"}),s.jsx("th",{className:"px-6 py-3 text-center text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Note"}),s.jsx("th",{className:"px-6 py-3 text-center text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Date mission"}),s.jsx("th",{className:"px-6 py-3 text-center text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Actions"})]})}),s.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:h.map(w=>s.jsxs("tr",{className:"hover:bg-gray-50",children:[s.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:s.jsx("span",{className:"text-sm font-mono text-gray-900",children:w.certificate_number})}),s.jsx("td",{className:"px-6 py-4",children:s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(Mx,{className:"h-4 w-4 text-gray-400"}),s.jsxs("div",{children:[s.jsx("p",{className:"text-sm font-medium text-gray-900",children:w.student_name}),s.jsx("p",{className:"text-xs text-gray-500",children:w.student_email})]})]})}),s.jsx("td",{className:"px-6 py-4",children:s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(qn,{className:"h-4 w-4 text-gray-400"}),s.jsx("span",{className:"text-sm text-gray-900",children:w.formation_title})]})}),s.jsx("td",{className:"px-6 py-4 text-center",children:w.grade!==null&&w.grade!==void 0?s.jsxs("span",{className:"inline-flex items-center px-3 py-1 rounded-full text-sm font-medium bg-green-100 text-green-800",children:[w.grade,"%"]}):s.jsx("span",{className:"text-sm text-gray-400",children:"-"})}),s.jsx("td",{className:"px-6 py-4 text-center text-sm text-gray-600",children:new Date(w.issued_at).toLocaleDateString("fr-FR")}),s.jsx("td",{className:"px-6 py-4",children:s.jsxs("div",{className:"flex items-center justify-center gap-2",children:[s.jsx("button",{onClick:()=>p(w),className:"p-2 text-blue-600 hover:bg-blue-50 rounded-lg transition-colors",title:"Tlcharger",children:s.jsx(Ss,{className:"h-4 w-4"})}),s.jsx("button",{onClick:()=>g(w.id),className:"p-2 text-red-600 hover:bg-red-50 rounded-lg transition-colors",title:"Supprimer",disabled:o.isPending,children:s.jsx(da,{className:"h-4 w-4"})})]})})]},w.id))})]})})]}),s.jsx("div",{className:"bg-blue-50 border border-blue-200 rounded-lg p-6",children:s.jsxs("div",{className:"flex items-start gap-4",children:[s.jsx("div",{className:"bg-blue-100 p-3 rounded-lg",children:s.jsx(un,{className:"h-6 w-6 text-blue-600"})}),s.jsxs("div",{children:[s.jsx("h3",{className:"font-semibold text-blue-900 mb-2",children:" propos des certificats"}),s.jsxs("ul",{className:"text-sm text-blue-800 space-y-1",children:[s.jsx("li",{children:" Les certificats sont gnrs automatiquement quand un tudiant complte une formation"}),s.jsx("li",{children:" Chaque certificat possde un numro unique pour vrification"}),s.jsx("li",{children:" La suppression d'un certificat est dfinitive"}),s.jsx("li",{children:" Les certificats peuvent tre tlchargs en PDF  tout moment"})]})]})]})})]})})},V_e=()=>{const e=Pn(),{data:t,isLoading:r,error:n}=_L(),a=Wie(),i=Gie(),l=Kie(),o=Yie(),[f,u]=C.useState(null),h=async b=>{try{await a.mutateAsync(b),u(null)}catch(y){alert("Erreur: "+(y.message||"Impossible de supprimer ce template"))}},p=async b=>{try{await i.mutateAsync(b)}catch(y){alert("Erreur: "+(y.message||"Impossible de dupliquer ce template"))}},g=async b=>{try{await l.mutateAsync(b)}catch(y){alert("Erreur: "+(y.message||"Impossible de dfinir comme dfaut"))}},x=async()=>{if(window.confirm("Crer les 3 templates prdfinis ? (Classique, Moderne, lgant)"))try{await o.mutateAsync(),alert("Templates crs avec succs !")}catch(b){alert("Erreur: "+(b.message||"Impossible de crer les templates"))}};return r?s.jsx(ha,{children:s.jsx("div",{className:"flex items-center justify-center h-64",children:s.jsx("div",{className:"text-gray-500",children:"Chargement des templates..."})})}):n?s.jsx(ha,{children:s.jsx("div",{className:"bg-red-50 border border-red-200 rounded-lg p-4",children:s.jsxs("div",{className:"flex items-center gap-2 text-red-800",children:[s.jsx(un,{className:"h-5 w-5"}),s.jsx("span",{children:"Erreur lors du chargement des templates"})]})})}):s.jsx(ha,{children:s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsxs("h1",{className:"text-2xl font-bold text-gray-900 flex items-center gap-2",children:[s.jsx(wi,{className:"h-7 w-7 text-blue-600"}),"Templates de Certificats"]}),s.jsx("p",{className:"text-sm text-gray-600 mt-1",children:"Grez les templates utiliss pour gnrer les certificats"})]}),s.jsxs("div",{className:"flex gap-2",children:[t&&t.length===0&&s.jsxs("button",{onClick:x,disabled:o.isPending,className:"px-4 py-2 bg-green-600 text-white rounded-lg hover:bg-green-700 transition-colors flex items-center gap-2 disabled:opacity-50",children:[s.jsx(G4,{className:"h-4 w-4"}),"Crer Templates par Dfaut"]}),s.jsxs("button",{onClick:()=>e("/admin/certificate-templates/new/edit"),className:"px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors flex items-center gap-2",children:[s.jsx(ca,{className:"h-4 w-4"}),"Nouveau Template"]})]})]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[s.jsxs("div",{className:"bg-gradient-to-br from-blue-50 to-blue-100 rounded-lg p-4 border border-blue-200",children:[s.jsx("div",{className:"text-sm text-blue-600 font-medium",children:"Total Templates"}),s.jsx("div",{className:"text-3xl font-bold text-blue-900 mt-1",children:t?.length||0})]}),s.jsxs("div",{className:"bg-gradient-to-br from-green-50 to-green-100 rounded-lg p-4 border border-green-200",children:[s.jsx("div",{className:"text-sm text-green-600 font-medium",children:"Template par Dfaut"}),s.jsx("div",{className:"text-lg font-bold text-green-900 mt-1",children:t?.find(b=>b.is_default)?.name||"Aucun"})]}),s.jsxs("div",{className:"bg-gradient-to-br from-purple-50 to-purple-100 rounded-lg p-4 border border-purple-200",children:[s.jsx("div",{className:"text-sm text-purple-600 font-medium",children:"Styles Disponibles"}),s.jsx("div",{className:"text-3xl font-bold text-purple-900 mt-1",children:t?.length||0})]})]}),!t||t.length===0?s.jsxs("div",{className:"bg-white rounded-lg border border-gray-200 p-12 text-center",children:[s.jsx(wi,{className:"h-16 w-16 text-gray-300 mx-auto mb-4"}),s.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-2",children:"Aucun template disponible"}),s.jsx("p",{className:"text-gray-600 mb-4",children:"Commencez par crer les templates prdfinis ou crez un nouveau template personnalis"}),s.jsxs("button",{onClick:x,disabled:o.isPending,className:"px-6 py-3 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors inline-flex items-center gap-2 disabled:opacity-50",children:[s.jsx(G4,{className:"h-5 w-5"}),"Crer Templates par Dfaut"]})]}):s.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:t.map(b=>s.jsxs("div",{className:"bg-white rounded-lg border-2 border-gray-200 hover:border-blue-300 hover:shadow-lg transition-all duration-200",children:[s.jsxs("div",{className:"h-48 bg-gradient-to-br from-gray-50 to-gray-100 rounded-t-lg flex items-center justify-center relative overflow-hidden",children:[b.is_default&&s.jsx("div",{className:"absolute top-2 right-2",children:s.jsxs("div",{className:"bg-yellow-400 text-yellow-900 px-3 py-1 rounded-full text-xs font-bold flex items-center gap-1 shadow-md",children:[s.jsx(Y4,{className:"h-3 w-3 fill-current"}),"PAR DFAUT"]})}),s.jsxs("div",{className:"text-center p-6",children:[s.jsx(wi,{className:"h-20 w-20 text-gray-300 mx-auto mb-3"}),s.jsxs("div",{className:"text-xs text-gray-500 font-mono",children:[b.template_config.layout.orientation==="landscape"?"Paysage":"Portrait"," "," ",b.template_config.layout.format.toUpperCase()]})]})]}),s.jsxs("div",{className:"p-4",children:[s.jsx("h3",{className:"font-bold text-gray-900 text-lg mb-1",children:b.name}),s.jsx("p",{className:"text-sm text-gray-600 mb-3 line-clamp-2",children:b.description||"Aucune description"}),s.jsxs("div",{className:"flex gap-1 mb-4",children:[s.jsx("div",{className:"w-8 h-8 rounded border border-gray-300",style:{backgroundColor:b.template_config.colors.primary},title:"Couleur primaire"}),s.jsx("div",{className:"w-8 h-8 rounded border border-gray-300",style:{backgroundColor:b.template_config.colors.secondary},title:"Couleur secondaire"}),s.jsx("div",{className:"w-8 h-8 rounded border border-gray-300",style:{backgroundColor:b.template_config.colors.text},title:"Couleur du texte"})]}),s.jsxs("div",{className:"grid grid-cols-2 gap-2",children:[!b.is_default&&s.jsxs("button",{onClick:()=>g(b.id),disabled:l.isPending,className:"px-3 py-2 bg-yellow-50 text-yellow-700 rounded border border-yellow-300 hover:bg-yellow-100 transition-colors text-sm font-medium flex items-center justify-center gap-1 disabled:opacity-50",children:[s.jsx(Y4,{className:"h-4 w-4"}),"Dfinir par dfaut"]}),s.jsxs("button",{onClick:()=>p(b.id),disabled:i.isPending,className:"px-3 py-2 bg-blue-50 text-blue-700 rounded border border-blue-300 hover:bg-blue-100 transition-colors text-sm font-medium flex items-center justify-center gap-1 disabled:opacity-50",children:[s.jsx(Sm,{className:"h-4 w-4"}),"Dupliquer"]}),s.jsxs("button",{onClick:()=>e(`/admin/certificate-templates/${b.id}/edit`),className:"px-3 py-2 bg-purple-50 text-purple-700 rounded border border-purple-300 hover:bg-purple-100 transition-colors text-sm font-medium flex items-center justify-center gap-1",children:[s.jsx(Zm,{className:"h-4 w-4"}),"Modifier"]}),s.jsxs("button",{onClick:()=>u(b.id),disabled:a.isPending,className:"px-3 py-2 bg-red-50 text-red-700 rounded border border-red-300 hover:bg-red-100 transition-colors text-sm font-medium flex items-center justify-center gap-1 disabled:opacity-50",children:[s.jsx(da,{className:"h-4 w-4"}),"Supprimer"]})]})]}),f===b.id&&s.jsx("div",{className:"absolute inset-0 bg-black bg-opacity-50 flex items-center justify-center rounded-lg",children:s.jsxs("div",{className:"bg-white p-6 rounded-lg shadow-xl max-w-sm mx-4",children:[s.jsx("h4",{className:"font-bold text-gray-900 mb-2",children:"Confirmer la suppression"}),s.jsxs("p",{className:"text-sm text-gray-600 mb-4",children:['tes-vous sr de vouloir supprimer le template "',b.name,'" ?']}),s.jsxs("div",{className:"flex gap-2",children:[s.jsx("button",{onClick:()=>h(b.id),disabled:a.isPending,className:"flex-1 px-4 py-2 bg-red-600 text-white rounded hover:bg-red-700 transition-colors disabled:opacity-50",children:"Supprimer"}),s.jsx("button",{onClick:()=>u(null),className:"flex-1 px-4 py-2 bg-gray-200 text-gray-700 rounded hover:bg-gray-300 transition-colors",children:"Annuler"})]})]})})]},b.id))})]})})},_m=({label:e,value:t,onChange:r,description:n})=>s.jsxs("div",{className:"space-y-2",children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700",children:e}),s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx("div",{className:"w-12 h-10 rounded-lg border-2 border-gray-300 shadow-sm",style:{backgroundColor:t},title:t}),s.jsx("input",{type:"color",value:t,onChange:a=>r(a.target.value),className:"w-20 h-10 rounded-lg border border-gray-300 cursor-pointer"}),s.jsx("input",{type:"text",value:t,onChange:a=>{const i=a.target.value;/^#[0-9A-Fa-f]{0,6}$/.test(i)&&r(i)},placeholder:"#FFFFFF",className:"flex-1 px-3 py-2 border border-gray-300 rounded-lg text-sm font-mono focus:ring-2 focus:ring-blue-500 focus:border-transparent",maxLength:7})]}),n&&s.jsx("p",{className:"text-xs text-gray-500",children:n})]}),W_e=["helvetica","times","courier","arial","verdana","georgia","palatino","garamond","bookman","trebuchet","impact"],G_e=["normal","bold","italic","bolditalic"],kv=({label:e,font:t,onChange:r,showColor:n=!1})=>s.jsxs("div",{className:"border border-gray-200 rounded-lg p-4 space-y-4",children:[s.jsxs("div",{className:"flex items-center gap-2 text-sm font-medium text-gray-900",children:[s.jsx(zN,{className:"h-4 w-4 text-blue-600"}),e]}),s.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Police"}),s.jsx("select",{value:t.family,onChange:a=>r({...t,family:a.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg text-sm focus:ring-2 focus:ring-blue-500 focus:border-transparent",children:W_e.map(a=>s.jsx("option",{value:a,children:a.charAt(0).toUpperCase()+a.slice(1)},a))})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Taille (pt)"}),s.jsx("input",{type:"number",min:"6",max:"100",value:t.size,onChange:a=>r({...t,size:parseInt(a.target.value)||12}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg text-sm focus:ring-2 focus:ring-blue-500 focus:border-transparent"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Style"}),s.jsx("select",{value:t.style,onChange:a=>r({...t,style:a.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg text-sm focus:ring-2 focus:ring-blue-500 focus:border-transparent",children:G_e.map(a=>s.jsxs("option",{value:a,children:[a==="normal"&&"Normal",a==="bold"&&"Gras",a==="italic"&&"Italique",a==="bolditalic"&&"Gras Italique"]},a))})]})]}),n&&s.jsx(_m,{label:"Couleur du texte",value:t.color||"#000000",onChange:a=>r({...t,color:a}),description:"Couleur personnalise pour cette police (optionnel)"})]}),pD={id:"preview-cert-123",certificate_number:"CERT-2025-001",student_id:"test-student",student_name:"Ahmed El Idrissi",student_email:"ahmed.idrissi@example.com",formation_id:"test-formation",formation_title:"Formation Complte React & TypeScript",formation_description:"Matrisez React et TypeScript pour crer des applications web modernes",duration_hours:40,completion_date:new Date().toISOString(),issued_at:new Date().toISOString(),grade:95.5,metadata:{organization_name:"Institut de Formation Professionnelle",director_name:"Dr. Karim Bennani"},created_at:new Date().toISOString(),updated_at:new Date().toISOString()},K_e=({template:e,onRefresh:t})=>{const[r,n]=C.useState(""),[a,i]=C.useState(!1),[l,o]=C.useState("");C.useEffect(()=>{f()},[e]);const f=async()=>{i(!0),o("");try{const g=(await new mD(pD,e).generate()).output("dataurlstring");n(g)}catch(h){console.error("Error generating preview:",h),o(h.message||"Erreur lors de la gnration de l'aperu")}finally{i(!1)}},u=async()=>{try{(await new mD(pD,e).generate()).save(`preview-${e.name}-${Date.now()}.pdf`)}catch(h){console.error("Error downloading preview:",h),alert("Erreur lors du tlchargement: "+h.message)}};return s.jsxs("div",{className:"bg-white rounded-lg border border-gray-200 p-4 space-y-4",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(Es,{className:"h-5 w-5 text-blue-600"}),s.jsx("h3",{className:"font-semibold text-gray-900",children:"Aperu"})]}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsxs("button",{onClick:t||f,disabled:a,className:"px-3 py-1.5 text-sm bg-gray-100 hover:bg-gray-200 text-gray-700 rounded-lg flex items-center gap-1.5 transition-colors disabled:opacity-50",title:"Rafrachir l'aperu",children:[s.jsx(gV,{className:`h-4 w-4 ${a?"animate-spin":""}`}),a?"Gnration...":"Rafrachir"]}),s.jsxs("button",{onClick:u,disabled:a||!r,className:"px-3 py-1.5 text-sm bg-blue-600 hover:bg-blue-700 text-white rounded-lg flex items-center gap-1.5 transition-colors disabled:opacity-50",title:"Tlcharger le PDF de test",children:[s.jsx(Ss,{className:"h-4 w-4"}),"Tlcharger"]})]})]}),s.jsx("div",{className:"bg-gray-100 rounded-lg overflow-hidden",style:{height:"500px"},children:l?s.jsx("div",{className:"flex items-center justify-center h-full text-red-600 px-4 text-center",children:s.jsxs("div",{children:[s.jsx("p",{className:"font-medium mb-2",children:"Erreur de gnration"}),s.jsx("p",{className:"text-sm text-red-500",children:l})]})}):a?s.jsx("div",{className:"flex items-center justify-center h-full",children:s.jsxs("div",{className:"text-center",children:[s.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-600 mx-auto mb-4"}),s.jsx("p",{className:"text-sm text-gray-600",children:"Gnration de l'aperu..."})]})}):r?s.jsx("iframe",{src:r,className:"w-full h-full border-0",title:"Aperu du certificat"}):s.jsx("div",{className:"flex items-center justify-center h-full text-gray-400",children:s.jsx("p",{className:"text-sm",children:"Aucun aperu disponible"})})}),s.jsx("div",{className:"bg-blue-50 border border-blue-200 rounded-lg p-3",children:s.jsxs("p",{className:"text-xs text-blue-800",children:[s.jsx("strong",{children:"Donnes de test:"})," Ahmed El Idrissi  Formation React & TypeScript  Note: 95.5%"]})})]})},Y_e=e=>{switch(e){case"text":return s.jsx(zN,{className:"h-4 w-4"});case"line":return s.jsx(oV,{className:"h-4 w-4"});case"rectangle":case"border":return s.jsx(CE,{className:"h-4 w-4"});case"circle":return s.jsx(jH,{className:"h-4 w-4"});case"image":return s.jsx(JD,{className:"h-4 w-4"});default:return s.jsx(CE,{className:"h-4 w-4"})}},xD=e=>e.type==="text"&&e.content?`${e.content.substring(0,30)}${e.content.length>30?"...":""}`:e.id,X_e=({elements:e,selectedId:t,onSelect:r,onMoveUp:n,onMoveDown:a,onDuplicate:i,onDelete:l})=>s.jsxs("div",{className:"bg-white rounded-lg border border-gray-200",children:[s.jsx("div",{className:"px-4 py-3 border-b border-gray-200 bg-gray-50",children:s.jsxs("h3",{className:"font-semibold text-gray-900 text-sm",children:["lments du Template (",e.length,")"]})}),s.jsx("div",{className:"divide-y divide-gray-200 max-h-[500px] overflow-y-auto",children:e.length===0?s.jsx("div",{className:"px-4 py-8 text-center text-gray-400 text-sm",children:"Aucun lment. Ajoutez un lment pour commencer."}):e.map((o,f)=>s.jsx("div",{className:`px-4 py-3 hover:bg-gray-50 transition-colors cursor-pointer ${t===o.id?"bg-blue-50 border-l-4 border-l-blue-600":""}`,onClick:()=>r(o.id),children:s.jsxs("div",{className:"flex items-center justify-between gap-3",children:[s.jsxs("div",{className:"flex items-center gap-3 flex-1 min-w-0",children:[s.jsx("div",{className:`flex-shrink-0 ${t===o.id?"text-blue-600":"text-gray-400"}`,children:Y_e(o.type)}),s.jsxs("div",{className:"flex-1 min-w-0",children:[s.jsx("p",{className:`text-sm font-medium truncate ${t===o.id?"text-blue-900":"text-gray-900"}`,children:xD(o)}),s.jsxs("p",{className:"text-xs text-gray-500 mt-0.5",children:["Type: ",o.type,o.condition&&`  Condition: ${o.condition}`]})]})]}),s.jsxs("div",{className:"flex items-center gap-1 flex-shrink-0",children:[s.jsx("button",{onClick:u=>{u.stopPropagation(),n(o.id)},disabled:f===0,className:"p-1.5 text-gray-400 hover:text-gray-600 hover:bg-gray-100 rounded disabled:opacity-30 disabled:cursor-not-allowed",title:"Dplacer vers le haut",children:s.jsx(RN,{className:"h-4 w-4"})}),s.jsx("button",{onClick:u=>{u.stopPropagation(),a(o.id)},disabled:f===e.length-1,className:"p-1.5 text-gray-400 hover:text-gray-600 hover:bg-gray-100 rounded disabled:opacity-30 disabled:cursor-not-allowed",title:"Dplacer vers le bas",children:s.jsx(xg,{className:"h-4 w-4"})}),s.jsx("button",{onClick:u=>{u.stopPropagation(),r(o.id)},className:"p-1.5 text-blue-600 hover:bg-blue-50 rounded",title:"diter",children:s.jsx(gg,{className:"h-4 w-4"})}),s.jsx("button",{onClick:u=>{u.stopPropagation(),i(o.id)},className:"p-1.5 text-green-600 hover:bg-green-50 rounded",title:"Dupliquer",children:s.jsx(Sm,{className:"h-4 w-4"})}),s.jsx("button",{onClick:u=>{u.stopPropagation(),window.confirm(`Supprimer l'lment "${xD(o)}" ?`)&&l(o.id)},className:"p-1.5 text-red-600 hover:bg-red-50 rounded",title:"Supprimer",children:s.jsx(da,{className:"h-4 w-4"})})]})]})},o.id))})]}),Q_e=({element:e,onChange:t})=>{if(!e)return s.jsx("div",{className:"bg-white rounded-lg border border-gray-200 p-6",children:s.jsxs("div",{className:"text-center text-gray-400",children:[s.jsx(Gv,{className:"h-12 w-12 mx-auto mb-3 opacity-50"}),s.jsx("p",{className:"text-sm",children:"Slectionnez un lment pour l'diter"})]})});const r=(n,a)=>{t({...e,[n]:a})};return s.jsxs("div",{className:"bg-white rounded-lg border border-gray-200 overflow-hidden",children:[s.jsx("div",{className:"px-4 py-3 border-b border-gray-200 bg-gray-50",children:s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(Gv,{className:"h-4 w-4 text-blue-600"}),s.jsxs("h3",{className:"font-semibold text-gray-900 text-sm",children:["diter: ",e.id," (",e.type,")"]})]})}),s.jsxs("div",{className:"p-4 space-y-4 max-h-[600px] overflow-y-auto",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"ID de l'lment"}),s.jsx("input",{type:"text",value:e.id,onChange:n=>r("id",n.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-lg text-sm",placeholder:"element-id"})]}),e.type==="text"&&s.jsxs(s.Fragment,{children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Contenu du texte"}),s.jsx("textarea",{value:e.content||"",onChange:n=>r("content",n.target.value),rows:3,className:"w-full px-3 py-2 border border-gray-300 rounded-lg text-sm",placeholder:"Texte  afficher ou variable"})]}),s.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Taille de police"}),s.jsx("input",{type:"number",value:e.fontSize||12,onChange:n=>r("fontSize",parseInt(n.target.value)),min:"6",max:"100",className:"w-full px-3 py-2 border border-gray-300 rounded-lg text-sm"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Alignement"}),s.jsxs("select",{value:e.align||"left",onChange:n=>r("align",n.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-lg text-sm",children:[s.jsx("option",{value:"left",children:"Gauche"}),s.jsx("option",{value:"center",children:"Centre"}),s.jsx("option",{value:"right",children:"Droite"})]})]})]})]}),e.type==="line"&&s.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"X1"}),s.jsx("input",{type:"text",value:e.x1||0,onChange:n=>r("x1",n.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-lg text-sm"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Y1"}),s.jsx("input",{type:"text",value:e.y1||0,onChange:n=>r("y1",n.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-lg text-sm"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"X2"}),s.jsx("input",{type:"text",value:e.x2||0,onChange:n=>r("x2",n.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-lg text-sm"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Y2"}),s.jsx("input",{type:"text",value:e.y2||0,onChange:n=>r("y2",n.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-lg text-sm"})]})]}),(e.type==="rectangle"||e.type==="border")&&s.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Largeur"}),s.jsx("input",{type:"text",value:e.width||"",onChange:n=>r("width",n.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-lg text-sm"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Hauteur"}),s.jsx("input",{type:"text",value:e.height||"",onChange:n=>r("height",n.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-lg text-sm"})]})]}),e.type==="circle"&&s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Rayon"}),s.jsx("input",{type:"number",value:e.radius||10,onChange:n=>r("radius",parseFloat(n.target.value)),min:"1",max:"100",className:"w-full px-3 py-2 border border-gray-300 rounded-lg text-sm"})]}),e.type!=="line"&&s.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Position X"}),s.jsx("input",{type:"text",value:e.x||0,onChange:n=>r("x",n.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-lg text-sm"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Position Y"}),s.jsx("input",{type:"text",value:e.y||0,onChange:n=>r("y",n.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-lg text-sm"})]})]}),s.jsx(_m,{label:"Couleur",value:e.color||"#000000",onChange:n=>r("color",n)}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Condition (optionnel)"}),s.jsx("input",{type:"text",value:e.condition||"",onChange:n=>r("condition",n.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-lg text-sm"}),s.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"Afficher seulement si cette donne existe"})]}),s.jsx("div",{className:"bg-blue-50 border border-blue-200 rounded-lg p-3",children:s.jsxs("div",{className:"flex items-start gap-2",children:[s.jsx(un,{className:"h-4 w-4 text-blue-600 flex-shrink-0 mt-0.5"}),s.jsxs("p",{className:"text-xs text-blue-700",children:["Variables: ","{student_name}",", ","{formation_title}",", ","{grade}",", etc."]})]})})]})]})},Z_e={name:"Nouveau Template",description:"",is_default:!1,template_config:{layout:{orientation:"landscape",format:"a4",margins:{top:10,right:10,bottom:10,left:10}},colors:{primary:"#1e40af",secondary:"#3b82f6",text:"#1f2937",background:"#ffffff"},fonts:{title:{family:"times",size:28,style:"bold"},subtitle:{family:"times",size:18,style:"normal"},body:{family:"helvetica",size:12,style:"normal"},studentName:{family:"times",size:24,style:"bold"}},elements:[]}},J_e=()=>{const{id:e}=Ho(),t=Pn(),r=e==="new",{data:n,isLoading:a}=$ie(r?null:e||""),i=Vie(),l=Hie(),[o,f]=C.useState("general"),[u,h]=C.useState(null),[p,g]=C.useState(null),[x,b]=C.useState(!1);C.useEffect(()=>{r?h({...Z_e,id:"new",created_at:new Date().toISOString(),updated_at:new Date().toISOString()}):n&&h(n)},[n,r]);const y=async()=>{if(u){b(!0);try{if(r){const{id:T,created_at:B,updated_at:G,...I}=u;await l.mutateAsync(I)}else{const{id:T,created_at:B,updated_at:G,...I}=u;await i.mutateAsync({id:u.id,data:I})}t("/admin/certificate-templates")}catch(T){console.error("Error saving template:",T),alert("Erreur lors de la sauvegarde: "+(T.message||"Erreur inconnue"))}finally{b(!1)}}},w=()=>{confirm("Annuler les modifications ?")&&t("/admin/certificate-templates")},_=T=>{if(!u)return;const B={id:`element-${Date.now()}`,type:T,x:T==="line"?void 0:10,y:T==="line"?void 0:10,color:"#000000",...T==="text"&&{content:"Nouveau texte",fontSize:12,align:"left"},...T==="line"&&{x1:10,y1:10,x2:100,y2:10},...T==="rectangle"&&{width:"100",height:"50"},...T==="border"&&{width:"pageWidth - 20",height:"pageHeight - 20"},...T==="circle"&&{radius:20}};h({...u,template_config:{...u.template_config,elements:[...u.template_config.elements,B]}}),g(B.id)},E=T=>{u&&h({...u,template_config:{...u.template_config,elements:u.template_config.elements.map(B=>B.id===T.id?T:B)}})},A=T=>{u&&(h({...u,template_config:{...u.template_config,elements:u.template_config.elements.filter(B=>B.id!==T)}}),p===T&&g(null))},O=T=>{if(!u)return;const B=u.template_config.elements.find(I=>I.id===T);if(!B)return;const G={...B,id:`element-${Date.now()}`,x:B.x!==void 0?typeof B.x=="number"?B.x+10:B.x:void 0,y:B.y!==void 0?typeof B.y=="number"?B.y+10:B.y:void 0};h({...u,template_config:{...u.template_config,elements:[...u.template_config.elements,G]}})},D=T=>{if(!u)return;const B=u.template_config.elements.findIndex(I=>I.id===T);if(B<=0)return;const G=[...u.template_config.elements];[G[B-1],G[B]]=[G[B],G[B-1]],h({...u,template_config:{...u.template_config,elements:G}})},R=T=>{if(!u)return;const B=u.template_config.elements.findIndex(I=>I.id===T);if(B<0||B>=u.template_config.elements.length-1)return;const G=[...u.template_config.elements];[G[B],G[B+1]]=[G[B+1],G[B]],h({...u,template_config:{...u.template_config,elements:G}})};if(a||!u)return s.jsx("div",{className:"flex items-center justify-center h-screen",children:s.jsxs("div",{className:"text-center",children:[s.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-600 mx-auto mb-4"}),s.jsx("p",{className:"text-gray-600",children:"Chargement du template..."})]})});const P=p&&u.template_config.elements.find(T=>T.id===p)||null;return s.jsxs("div",{className:"min-h-screen bg-gray-50",children:[s.jsx("div",{className:"bg-white border-b border-gray-200 sticky top-0 z-10",children:s.jsx("div",{className:"max-w-screen-2xl mx-auto px-6 py-4",children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{className:"flex items-center gap-4",children:[s.jsx("button",{onClick:()=>t("/admin/certificate-templates"),className:"p-2 hover:bg-gray-100 rounded-lg transition-colors",title:"Retour",children:s.jsx(ea,{className:"h-5 w-5 text-gray-600"})}),s.jsxs("div",{children:[s.jsx("h1",{className:"text-xl font-bold text-gray-900",children:r?"Nouveau Template":u.name}),s.jsx("p",{className:"text-sm text-gray-500",children:r?"Crer un nouveau template de certificat":"Modifier le template"})]})]}),s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsxs("button",{onClick:w,disabled:x,className:"px-4 py-2 text-sm bg-gray-100 hover:bg-gray-200 text-gray-700 rounded-lg flex items-center gap-2 transition-colors disabled:opacity-50",children:[s.jsx(rl,{className:"h-4 w-4"}),"Annuler"]}),s.jsxs("button",{onClick:y,disabled:x,className:"px-4 py-2 text-sm bg-blue-600 hover:bg-blue-700 text-white rounded-lg flex items-center gap-2 transition-colors disabled:opacity-50",children:[s.jsx(Jm,{className:"h-4 w-4"}),x?"Sauvegarde...":"Enregistrer"]})]})]})})}),s.jsx("div",{className:"max-w-screen-2xl mx-auto p-6",children:s.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-5 gap-6",children:[s.jsx("div",{className:"lg:col-span-3 space-y-6",children:s.jsxs("div",{className:"bg-white rounded-lg border border-gray-200 overflow-hidden",children:[s.jsx("div",{className:"flex border-b border-gray-200",children:["general","colors","fonts","elements"].map(T=>s.jsxs("button",{onClick:()=>f(T),className:`flex-1 px-4 py-3 text-sm font-medium transition-colors ${o===T?"bg-blue-50 text-blue-600 border-b-2 border-blue-600":"text-gray-600 hover:bg-gray-50"}`,children:[T==="general"&&"Gnral",T==="colors"&&"Couleurs",T==="fonts"&&"Polices",T==="elements"&&"lments"]},T))}),s.jsxs("div",{className:"p-6 space-y-6",children:[o==="general"&&s.jsxs(s.Fragment,{children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Nom du template"}),s.jsx("input",{type:"text",value:u.name,onChange:T=>h({...u,name:T.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",placeholder:"Ex: Certificat Premium"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Description"}),s.jsx("textarea",{value:u.description||"",onChange:T=>h({...u,description:T.target.value}),rows:3,className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",placeholder:"Description du template..."})]}),s.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Orientation"}),s.jsxs("select",{value:u.template_config.layout.orientation,onChange:T=>h({...u,template_config:{...u.template_config,layout:{...u.template_config.layout,orientation:T.target.value}}}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg",children:[s.jsx("option",{value:"portrait",children:"Portrait"}),s.jsx("option",{value:"landscape",children:"Paysage"})]})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Format"}),s.jsxs("select",{value:u.template_config.layout.format,onChange:T=>h({...u,template_config:{...u.template_config,layout:{...u.template_config.layout,format:T.target.value}}}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg",children:[s.jsx("option",{value:"a4",children:"A4"}),s.jsx("option",{value:"letter",children:"Letter"})]})]})]}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("input",{type:"checkbox",id:"is_default",checked:u.is_default,onChange:T=>h({...u,is_default:T.target.checked}),className:"rounded border-gray-300 text-blue-600 focus:ring-blue-500"}),s.jsx("label",{htmlFor:"is_default",className:"text-sm text-gray-700",children:"Dfinir comme template par dfaut du systme"})]})]}),o==="colors"&&s.jsxs(s.Fragment,{children:[s.jsx(_m,{label:"Couleur principale",value:u.template_config.colors.primary,onChange:T=>h({...u,template_config:{...u.template_config,colors:{...u.template_config.colors,primary:T}}}),description:"Utilise pour les titres et lments importants"}),s.jsx(_m,{label:"Couleur secondaire",value:u.template_config.colors.secondary,onChange:T=>h({...u,template_config:{...u.template_config,colors:{...u.template_config.colors,secondary:T}}}),description:"Utilise pour les accents et bordures"}),s.jsx(_m,{label:"Couleur du texte",value:u.template_config.colors.text,onChange:T=>h({...u,template_config:{...u.template_config,colors:{...u.template_config.colors,text:T}}}),description:"Couleur par dfaut du texte"}),s.jsx(_m,{label:"Couleur de fond",value:u.template_config.colors.background,onChange:T=>h({...u,template_config:{...u.template_config,colors:{...u.template_config.colors,background:T}}}),description:"Couleur de fond du certificat"})]}),o==="fonts"&&s.jsxs(s.Fragment,{children:[s.jsx(kv,{label:"Police du titre principal",font:u.template_config.fonts.title,onChange:T=>h({...u,template_config:{...u.template_config,fonts:{...u.template_config.fonts,title:T}}}),showColor:!0}),s.jsx(kv,{label:"Police du sous-titre",font:u.template_config.fonts.subtitle,onChange:T=>h({...u,template_config:{...u.template_config,fonts:{...u.template_config.fonts,subtitle:T}}}),showColor:!0}),s.jsx(kv,{label:"Police du corps de texte",font:u.template_config.fonts.body,onChange:T=>h({...u,template_config:{...u.template_config,fonts:{...u.template_config.fonts,body:T}}}),showColor:!0}),s.jsx(kv,{label:"Police du nom de l'tudiant",font:u.template_config.fonts.studentName,onChange:T=>h({...u,template_config:{...u.template_config,fonts:{...u.template_config.fonts,studentName:T}}}),showColor:!0})]}),o==="elements"&&s.jsxs(s.Fragment,{children:[s.jsxs("div",{className:"border border-gray-200 rounded-lg p-4",children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-3",children:"Ajouter un lment"}),s.jsxs("div",{className:"grid grid-cols-3 gap-2",children:[s.jsxs("button",{onClick:()=>_("text"),className:"px-3 py-2 text-sm bg-blue-50 hover:bg-blue-100 text-blue-700 rounded-lg flex items-center justify-center gap-2",children:[s.jsx(ca,{className:"h-4 w-4"}),"Texte"]}),s.jsxs("button",{onClick:()=>_("line"),className:"px-3 py-2 text-sm bg-blue-50 hover:bg-blue-100 text-blue-700 rounded-lg flex items-center justify-center gap-2",children:[s.jsx(ca,{className:"h-4 w-4"}),"Ligne"]}),s.jsxs("button",{onClick:()=>_("rectangle"),className:"px-3 py-2 text-sm bg-blue-50 hover:bg-blue-100 text-blue-700 rounded-lg flex items-center justify-center gap-2",children:[s.jsx(ca,{className:"h-4 w-4"}),"Rectangle"]}),s.jsxs("button",{onClick:()=>_("border"),className:"px-3 py-2 text-sm bg-blue-50 hover:bg-blue-100 text-blue-700 rounded-lg flex items-center justify-center gap-2",children:[s.jsx(ca,{className:"h-4 w-4"}),"Bordure"]}),s.jsxs("button",{onClick:()=>_("circle"),className:"px-3 py-2 text-sm bg-blue-50 hover:bg-blue-100 text-blue-700 rounded-lg flex items-center justify-center gap-2",children:[s.jsx(ca,{className:"h-4 w-4"}),"Cercle"]})]})]}),s.jsx(X_e,{elements:u.template_config.elements,selectedId:p,onSelect:g,onDelete:A,onDuplicate:O,onMoveUp:D,onMoveDown:R}),s.jsx(Q_e,{element:P,onChange:E})]})]})]})}),s.jsx("div",{className:"lg:col-span-2",children:s.jsx("div",{className:"sticky top-24",children:s.jsx(K_e,{template:u})})})]})})]})},pu={getThreads:async(e,t)=>{const r=new URLSearchParams;t?.sort&&r.append("sort",t.sort),t?.pinned&&r.append("pinned",t.pinned);const n=`/forums/${e}/threads${r.toString()?`?${r.toString()}`:""}`;return st.get(n)},createThread:async(e,t)=>st.post(`/forums/${e}/threads`,t),getThread:async e=>st.get(`/forums/threads/${e}`),updateThread:async(e,t)=>st.put(`/forums/threads/${e}`,t),deleteThread:async(e,t,r=!1)=>st.delete(`/forums/threads/${e}?user_id=${t}&is_admin=${r}`),pinThread:async(e,t)=>st.patch(`/forums/threads/${e}/pin`,{is_pinned:t}),lockThread:async(e,t)=>st.patch(`/forums/threads/${e}/lock`,{is_locked:t}),incrementViewCount:async e=>st.patch(`/forums/threads/${e}/view`,{}),getPosts:async e=>st.get(`/forums/threads/${e}/posts`),createPost:async(e,t)=>st.post(`/forums/threads/${e}/posts`,t),updatePost:async(e,t)=>st.put(`/forums/posts/${e}`,t),deletePost:async(e,t,r=!1)=>st.delete(`/forums/posts/${e}?user_id=${t}&is_admin=${r}`),addReaction:async(e,t)=>st.post(`/forums/posts/${e}/reactions`,t),removeReaction:async(e,t,r)=>st.delete(`/forums/posts/${e}/reactions/${r}?user_id=${t}`),getReactions:async e=>st.get(`/forums/posts/${e}/reactions`),getStats:async()=>st.get("/forums/stats")},El={all:["forums"],threads:e=>["forums","threads",e],thread:e=>["forums","thread",e],posts:e=>["forums","posts",e],reactions:e=>["forums","reactions",e],stats:()=>["forums","stats"]},eNe=(e,t)=>hr({queryKey:[...El.threads(e||""),t],queryFn:()=>{if(!e)throw new Error("Formation ID is required");return pu.getThreads(e,t)},enabled:!!e,staleTime:120*1e3}),tNe=e=>hr({queryKey:El.thread(e||""),queryFn:()=>{if(!e)throw new Error("Thread ID is required");return pu.getThread(e)},enabled:!!e,staleTime:300*1e3}),rNe=()=>{const e=Ut();return Ht({mutationFn:({formationId:t,data:r})=>pu.createThread(t,r),onSuccess:(t,r)=>{e.invalidateQueries({queryKey:El.threads(r.formationId)})}})},nNe=()=>{const e=Ut();return Ht({mutationFn:t=>pu.incrementViewCount(t),onSuccess:(t,r)=>{e.invalidateQueries({queryKey:El.thread(r)})}})},aNe=e=>hr({queryKey:El.posts(e||""),queryFn:()=>{if(!e)throw new Error("Thread ID is required");return pu.getPosts(e)},enabled:!!e,staleTime:60*1e3}),iNe=()=>{const e=Ut();return Ht({mutationFn:({threadId:t,data:r})=>pu.createPost(t,r),onSuccess:(t,r)=>{e.invalidateQueries({queryKey:El.posts(r.threadId)}),e.invalidateQueries({queryKey:El.thread(r.threadId)}),e.invalidateQueries({queryKey:El.all})}})},sNe=()=>{const e=Ut();return Ht({mutationFn:({postId:t,userId:r,isAdmin:n})=>pu.deletePost(t,r,n),onSuccess:()=>{e.invalidateQueries({queryKey:El.all})}})},lNe=()=>{const e=Ut();return Ht({mutationFn:({postId:t,data:r})=>pu.addReaction(t,r),onSuccess:(t,r)=>{e.invalidateQueries({queryKey:El.reactions(r.postId)}),e.invalidateQueries({queryKey:El.all})}})},oNe=()=>{const e=Ut();return Ht({mutationFn:({postId:t,userId:r,reactionType:n})=>pu.removeReaction(t,r,n),onSuccess:(t,r)=>{e.invalidateQueries({queryKey:El.reactions(r.postId)}),e.invalidateQueries({queryKey:El.all})}})},cNe=()=>hr({queryKey:El.stats(),queryFn:()=>pu.getStats(),staleTime:300*1e3}),uNe=()=>{const e=Pn(),[t,r]=C.useState(""),[n,a]=C.useState(""),{data:i}=cNe(),{data:l}=Eg(),o=i?.stats,f=l||[],u=n?f.filter(h=>h.id===n):f;return s.jsxs("div",{className:"p-6",children:[s.jsxs("div",{className:"mb-6",children:[s.jsx("h1",{className:"text-3xl font-bold text-gray-900",children:"Modration des Forums"}),s.jsx("p",{className:"text-gray-600 mt-1",children:"Grez les discussions et modrez le contenu des forums"})]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4 mb-6",children:[s.jsxs("div",{className:"bg-gradient-to-br from-blue-500 to-blue-600 rounded-lg p-5 text-white",children:[s.jsx("div",{className:"flex items-center justify-between mb-2",children:s.jsx(Xs,{className:"h-8 w-8 opacity-80"})}),s.jsx("div",{className:"text-3xl font-bold",children:o?.total_threads||0}),s.jsx("div",{className:"text-blue-100 text-sm",children:"Total discussions"})]}),s.jsxs("div",{className:"bg-gradient-to-br from-green-500 to-green-600 rounded-lg p-5 text-white",children:[s.jsx("div",{className:"flex items-center justify-between mb-2",children:s.jsx(GD,{className:"h-8 w-8 opacity-80"})}),s.jsx("div",{className:"text-3xl font-bold",children:o?.total_posts||0}),s.jsx("div",{className:"text-green-100 text-sm",children:"Total rponses"})]}),s.jsxs("div",{className:"bg-gradient-to-br from-purple-500 to-purple-600 rounded-lg p-5 text-white",children:[s.jsx("div",{className:"flex items-center justify-between mb-2",children:s.jsx($0,{className:"h-8 w-8 opacity-80"})}),s.jsx("div",{className:"text-3xl font-bold",children:o?.total_reactions||0}),s.jsx("div",{className:"text-purple-100 text-sm",children:"Total ractions"})]}),s.jsxs("div",{className:"bg-gradient-to-br from-amber-500 to-amber-600 rounded-lg p-5 text-white",children:[s.jsx("div",{className:"flex items-center justify-between mb-2",children:s.jsx(is,{className:"h-8 w-8 opacity-80"})}),s.jsx("div",{className:"text-3xl font-bold",children:o?.active_posters||0}),s.jsx("div",{className:"text-amber-100 text-sm",children:"Participants actifs"})]})]}),s.jsx("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 p-4 mb-6",children:s.jsxs("div",{className:"flex items-center gap-4",children:[s.jsxs("div",{className:"flex-1 relative",children:[s.jsx(ep,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 h-5 w-5 text-gray-400"}),s.jsx("input",{type:"text",placeholder:"Rechercher une discussion...",value:t,onChange:h=>r(h.target.value),className:"w-full pl-10 pr-4 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500"})]}),s.jsxs("select",{value:n,onChange:h=>a(h.target.value),className:"border border-gray-300 rounded-lg px-4 py-2 focus:outline-none focus:ring-2 focus:ring-blue-500",children:[s.jsx("option",{value:"",children:"Toutes les formations"}),f.map(h=>s.jsx("option",{value:h.id,children:h.title},h.id))]})]})}),s.jsx("div",{className:"space-y-4",children:u.length===0?s.jsxs("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 p-12 text-center",children:[s.jsx(Xs,{className:"h-16 w-16 text-gray-300 mx-auto mb-4"}),s.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-2",children:"Aucune formation trouve"}),s.jsx("p",{className:"text-gray-600",children:"Crez des formations pour activer les forums"})]}):u.map(h=>s.jsx("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 p-5",children:s.jsxs("div",{className:"flex items-start justify-between",children:[s.jsxs("div",{className:"flex-1",children:[s.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-2",children:h.title}),s.jsx("p",{className:"text-sm text-gray-600 mb-4 line-clamp-2",children:h.description}),s.jsxs("div",{className:"flex items-center gap-4 text-sm text-gray-600",children:[s.jsxs("span",{className:"flex items-center gap-1",children:[s.jsx(Xs,{className:"h-4 w-4"}),"Forum actif"]}),s.jsxs("span",{className:"flex items-center gap-1",children:[s.jsx(is,{className:"h-4 w-4"}),h.enrolled_count||0," tudiants"]})]})]}),s.jsx("div",{className:"flex items-center gap-2",children:s.jsxs(rt,{onClick:()=>e(`/student/forums/${h.id}`),className:"bg-gradient-to-r from-blue-600 to-blue-700 text-white",children:[s.jsx(Es,{className:"h-4 w-4 mr-2"}),"Voir le forum"]})})]})},h.id))}),s.jsxs("div",{className:"mt-6 bg-blue-50 border border-blue-200 rounded-lg p-4",children:[s.jsx("h3",{className:"font-semibold text-blue-900 mb-2",children:"Actions de modration disponibles"}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-3 text-sm text-blue-800",children:[s.jsxs("div",{className:"flex items-start gap-2",children:[s.jsx(UN,{className:"h-4 w-4 mt-0.5 text-yellow-600"}),s.jsxs("span",{children:[s.jsx("strong",{children:"pingler:"})," Mettre en avant les discussions importantes"]})]}),s.jsxs("div",{className:"flex items-start gap-2",children:[s.jsx(Lx,{className:"h-4 w-4 mt-0.5 text-gray-600"}),s.jsxs("span",{children:[s.jsx("strong",{children:"Verrouiller:"})," Empcher de nouvelles rponses"]})]}),s.jsxs("div",{className:"flex items-start gap-2",children:[s.jsx(da,{className:"h-4 w-4 mt-0.5 text-red-600"}),s.jsxs("span",{children:[s.jsx("strong",{children:"Supprimer:"})," Retirer du contenu inappropri"]})]}),s.jsxs("div",{className:"flex items-start gap-2",children:[s.jsx(Es,{className:"h-4 w-4 mt-0.5 text-blue-600"}),s.jsxs("span",{children:[s.jsx("strong",{children:"Surveiller:"})," Suivre l'activit des discussions"]})]})]}),s.jsx("p",{className:"mt-3 text-sm text-blue-700",children:" Accdez  un forum spcifique pour utiliser ces actions de modration."})]}),o&&s.jsxs("div",{className:"mt-6 bg-gradient-to-r from-gray-50 to-gray-100 border border-gray-200 rounded-lg p-5",children:[s.jsx("h3",{className:"font-semibold text-gray-900 mb-3",children:"Statistiques gnrales"}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4 text-sm",children:[s.jsxs("div",{children:[s.jsx("span",{className:"text-gray-600",children:"Crateurs de discussions:"}),s.jsx("span",{className:"ml-2 font-semibold text-gray-900",children:o.active_thread_creators})]}),s.jsxs("div",{children:[s.jsx("span",{className:"text-gray-600",children:"Participants actifs:"}),s.jsx("span",{className:"ml-2 font-semibold text-gray-900",children:o.active_posters})]}),s.jsxs("div",{children:[s.jsx("span",{className:"text-gray-600",children:"Taux d'engagement:"}),s.jsxs("span",{className:"ml-2 font-semibold text-gray-900",children:[o.total_threads>0?(o.total_posts/o.total_threads*100).toFixed(1):0,"% rponses/thread"]})]})]})]})]})},fNe=()=>{const e=Pn(),{user:t}=Ni(),{data:r=[],isLoading:n}=wL(),a=r.filter(g=>g.students?.some(x=>x.student_id===t?.id)),i=g=>({planned:"bg-blue-100 text-blue-700",active:"bg-green-100 text-green-700",completed:"bg-gray-100 text-gray-700",cancelled:"bg-red-100 text-red-700"})[g]||"bg-gray-100 text-gray-700",l=g=>({planned:"Planifie",active:"En cours",completed:"Termine",cancelled:"Annule"})[g]||g,o=g=>new Date(g).toLocaleDateString("fr-FR",{day:"numeric",month:"long",year:"numeric"}),f=g=>{const x=new Date,b=new Date(g.start_date),y=new Date(g.end_date);return x>=b&&x<=y},u=a.filter(g=>g.status==="active"||f(g)),h=a.filter(g=>g.status==="planned"&&!f(g)),p=a.filter(g=>g.status==="completed");return s.jsx(ha,{title:`Bonjour ${t?.full_name||"tudiant"}`,subtitle:"Bienvenue sur votre portail de formation",children:s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-6",children:[s.jsx("div",{className:"bg-gradient-to-br from-blue-500 to-blue-600 rounded-lg shadow-lg p-6 text-white",children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx("p",{className:"text-blue-100 text-sm font-medium",children:"Sessions inscrites"}),s.jsx("p",{className:"text-3xl font-bold mt-2",children:a.length})]}),s.jsx(qn,{className:"h-12 w-12 text-blue-200"})]})}),s.jsx("div",{className:"bg-gradient-to-br from-green-500 to-green-600 rounded-lg shadow-lg p-6 text-white",children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx("p",{className:"text-green-100 text-sm font-medium",children:"Sessions actives"}),s.jsx("p",{className:"text-3xl font-bold mt-2",children:u.length})]}),s.jsx($0,{className:"h-12 w-12 text-green-200"})]})}),s.jsx("div",{className:"bg-gradient-to-br from-purple-500 to-purple-600 rounded-lg shadow-lg p-6 text-white",children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx("p",{className:"text-purple-100 text-sm font-medium",children:" venir"}),s.jsx("p",{className:"text-3xl font-bold mt-2",children:h.length})]}),s.jsx(ns,{className:"h-12 w-12 text-purple-200"})]})}),s.jsx("div",{className:"bg-gradient-to-br from-orange-500 to-orange-600 rounded-lg shadow-lg p-6 text-white",children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx("p",{className:"text-orange-100 text-sm font-medium",children:"Termines"}),s.jsx("p",{className:"text-3xl font-bold mt-2",children:p.length})]}),s.jsx(wi,{className:"h-12 w-12 text-orange-200"})]})})]}),s.jsxs("div",{className:"bg-white rounded-lg shadow-sm border p-6",children:[s.jsx("h2",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Accs Rapide"}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[s.jsxs(rt,{onClick:()=>e("/student/catalog"),className:"flex items-center justify-center gap-2 h-16 bg-gradient-to-r from-blue-500 to-blue-600 hover:from-blue-600 hover:to-blue-700 text-white",children:[s.jsx(qn,{className:"h-5 w-5"}),s.jsx("span",{className:"font-medium",children:"Catalogue de Formations"})]}),s.jsxs(rt,{onClick:()=>e("/student/certificates"),className:"flex items-center justify-center gap-2 h-16 bg-gradient-to-r from-amber-500 to-amber-600 hover:from-amber-600 hover:to-amber-700 text-white",children:[s.jsx(wi,{className:"h-5 w-5"}),s.jsx("span",{className:"font-medium",children:"Mes Certificats"})]}),u.length>0&&u[0].formation_id&&s.jsxs(rt,{onClick:()=>e(`/student/formations/${u[0].formation_id}`),className:"flex items-center justify-center gap-2 h-16 bg-gradient-to-r from-green-500 to-green-600 hover:from-green-600 hover:to-green-700 text-white",children:[s.jsx(_c,{className:"h-5 w-5"}),s.jsx("span",{className:"font-medium",children:"Continuer ma formation"})]})]})]}),u.length>0&&s.jsxs("div",{className:"bg-white rounded-lg shadow-sm border p-6",children:[s.jsx("div",{className:"flex items-center justify-between mb-6",children:s.jsxs("h2",{className:"text-xl font-bold text-gray-900 flex items-center gap-2",children:[s.jsx(_c,{className:"h-6 w-6 text-green-600"}),"Sessions en cours"]})}),s.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:u.map(g=>s.jsxs("div",{className:"border border-green-200 rounded-lg p-4 hover:shadow-md transition-shadow bg-green-50",children:[s.jsxs("div",{className:"flex items-start justify-between mb-3",children:[s.jsxs("div",{className:"flex-1",children:[s.jsx("h3",{className:"font-semibold text-gray-900 mb-1",children:g.name}),g.formation_title&&s.jsxs("p",{className:"text-sm text-green-700 font-medium",children:[" ",g.formation_title]})]}),s.jsx("span",{className:`px-2 py-1 text-xs font-semibold rounded-full ${i(g.status)}`,children:l(g.status)})]}),s.jsxs("div",{className:"space-y-2 text-sm text-gray-600",children:[g.segment_name&&s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(is,{className:"h-4 w-4 text-gray-400"}),s.jsx("span",{children:g.segment_name})]}),g.city_name&&s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(Js,{className:"h-4 w-4 text-gray-400"}),s.jsx("span",{children:g.city_name})]}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(ns,{className:"h-4 w-4 text-gray-400"}),s.jsxs("span",{children:[o(g.start_date)," - ",o(g.end_date)]})]})]}),g.formation_id&&s.jsx("div",{className:"mt-4",children:s.jsxs(rt,{onClick:()=>e(`/student/formations/${g.formation_id}`),className:"w-full bg-green-600 hover:bg-green-700",size:"sm",children:[s.jsx(_c,{className:"h-4 w-4 mr-2"}),"Accder  la formation"]})})]},g.id))})]}),h.length>0&&s.jsxs("div",{className:"bg-white rounded-lg shadow-sm border p-6",children:[s.jsxs("h2",{className:"text-xl font-bold text-gray-900 mb-6 flex items-center gap-2",children:[s.jsx(Ys,{className:"h-6 w-6 text-purple-600"}),"Sessions  venir"]}),s.jsx("div",{className:"space-y-4",children:h.map(g=>s.jsx("div",{className:"border rounded-lg p-4 hover:shadow-md transition-shadow",children:s.jsxs("div",{className:"flex items-start justify-between",children:[s.jsxs("div",{className:"flex-1",children:[s.jsx("h3",{className:"font-semibold text-gray-900 mb-2",children:g.name}),g.formation_title&&s.jsxs("p",{className:"text-sm text-gray-600 mb-2",children:[" ",g.formation_title]}),s.jsxs("div",{className:"flex flex-wrap gap-4 text-sm text-gray-600",children:[g.segment_name&&s.jsxs("div",{className:"flex items-center gap-1",children:[s.jsx(is,{className:"h-4 w-4 text-gray-400"}),s.jsx("span",{children:g.segment_name})]}),g.city_name&&s.jsxs("div",{className:"flex items-center gap-1",children:[s.jsx(Js,{className:"h-4 w-4 text-gray-400"}),s.jsx("span",{children:g.city_name})]}),s.jsxs("div",{className:"flex items-center gap-1",children:[s.jsx(ns,{className:"h-4 w-4 text-gray-400"}),s.jsxs("span",{children:["Dbut: ",o(g.start_date)]})]})]})]}),s.jsx("span",{className:`px-2 py-1 text-xs font-semibold rounded-full ${i(g.status)}`,children:l(g.status)})]})},g.id))})]}),p.length>0&&s.jsxs("div",{className:"bg-white rounded-lg shadow-sm border p-6",children:[s.jsxs("h2",{className:"text-xl font-bold text-gray-900 mb-6 flex items-center gap-2",children:[s.jsx(wi,{className:"h-6 w-6 text-gray-600"}),"Sessions termines"]}),s.jsx("div",{className:"space-y-4",children:p.map(g=>s.jsx("div",{className:"border rounded-lg p-4 bg-gray-50 hover:shadow-md transition-shadow",children:s.jsxs("div",{className:"flex items-start justify-between",children:[s.jsxs("div",{className:"flex-1",children:[s.jsx("h3",{className:"font-semibold text-gray-900 mb-2",children:g.name}),g.formation_title&&s.jsxs("p",{className:"text-sm text-gray-600",children:[" ",g.formation_title]})]}),s.jsx("span",{className:`px-2 py-1 text-xs font-semibold rounded-full ${i(g.status)}`,children:l(g.status)})]})},g.id))})]}),!n&&a.length===0&&s.jsxs("div",{className:"bg-white rounded-lg shadow-sm border p-12 text-center",children:[s.jsx(qn,{className:"h-16 w-16 text-gray-400 mx-auto mb-4"}),s.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"Aucune session inscrite"}),s.jsx("p",{className:"text-gray-500 mb-6",children:"Vous n'tes inscrit  aucune session de formation pour le moment."}),s.jsx(rt,{onClick:()=>e("/student/catalog"),children:"Parcourir le catalogue"})]}),n&&s.jsx("div",{className:"flex justify-center items-center py-12",children:s.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-blue-600"})})]})})},dNe=()=>{const e=Pn(),{data:t=[],isLoading:r}=Eg(),[n,a]=C.useState(""),[i,l]=C.useState("all"),o=t.filter(p=>p.status==="published"),f=C.useMemo(()=>o.filter(p=>{const g=p.title.toLowerCase().includes(n.toLowerCase())||p.description?.toLowerCase().includes(n.toLowerCase()),x=i==="all"||p.level===i;return g&&x}),[o,n,i]),u=p=>{const x=p?{debutant:{bg:"bg-green-100",text:"text-green-700",label:"Dbutant"},intermediaire:{bg:"bg-yellow-100",text:"text-yellow-700",label:"Intermdiaire"},avance:{bg:"bg-red-100",text:"text-red-700",label:"Avanc"}}[p]:{bg:"bg-gray-100",text:"text-gray-700",label:"N/A"};return s.jsx("span",{className:`px-2 py-1 inline-flex text-xs leading-5 font-semibold rounded-full ${x.bg} ${x.text}`,children:x.label})},h=p=>p==="debutant"?s.jsx($0,{className:"h-4 w-4 text-green-600"}):p==="intermediaire"?s.jsx($0,{className:"h-4 w-4 text-yellow-600"}):p==="avance"?s.jsx(wi,{className:"h-4 w-4 text-red-600"}):s.jsx(qn,{className:"h-4 w-4 text-gray-400"});return s.jsx(ha,{title:"Catalogue de formations",subtitle:"Explorez nos formations disponibles",children:s.jsxs("div",{className:"space-y-6",children:[s.jsx("div",{className:"bg-gradient-to-r from-blue-500 to-purple-600 rounded-lg shadow-lg p-6 text-white",children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsxs("h2",{className:"text-2xl font-bold mb-2",children:[o.length," formations disponibles"]}),s.jsx("p",{className:"text-blue-100",children:"Dveloppez vos comptences avec nos formations en ligne"})]}),s.jsx(qn,{className:"h-16 w-16 text-blue-200 opacity-50"})]})}),s.jsxs("div",{className:"bg-white rounded-lg shadow-sm border p-6",children:[s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[s.jsxs("div",{children:[s.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:[s.jsx(ep,{className:"h-4 w-4 inline mr-2"}),"Rechercher"]}),s.jsx("input",{type:"text",value:n,onChange:p=>a(p.target.value),placeholder:"Titre ou description...",className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent"})]}),s.jsxs("div",{children:[s.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:[s.jsx(IN,{className:"h-4 w-4 inline mr-2"}),"Niveau"]}),s.jsxs("select",{value:i,onChange:p=>l(p.target.value),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",children:[s.jsx("option",{value:"all",children:"Tous les niveaux"}),s.jsx("option",{value:"debutant",children:"Dbutant"}),s.jsx("option",{value:"intermediaire",children:"Intermdiaire"}),s.jsx("option",{value:"avance",children:"Avanc"})]})]})]}),(n||i!=="all")&&s.jsxs("div",{className:"mt-4 flex items-center gap-2",children:[s.jsx("span",{className:"text-sm text-gray-600",children:"Filtres actifs:"}),n&&s.jsxs("span",{className:"px-2 py-1 bg-blue-100 text-blue-700 rounded text-xs",children:['Recherche: "',n,'"']}),i!=="all"&&s.jsxs("span",{className:"px-2 py-1 bg-purple-100 text-purple-700 rounded text-xs",children:["Niveau: ",u(i).props.children]}),s.jsx("button",{onClick:()=>{a(""),l("all")},className:"text-xs text-red-600 hover:text-red-700",children:"Effacer les filtres"})]})]}),s.jsx("div",{className:"flex items-center justify-between",children:s.jsxs("p",{className:"text-sm text-gray-600",children:[f.length," formation(s) trouve(s)"]})}),r?s.jsx("div",{className:"flex justify-center items-center py-12",children:s.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-blue-600"})}):f.length===0?s.jsxs("div",{className:"bg-white rounded-lg shadow-sm border p-12 text-center",children:[s.jsx(qn,{className:"h-16 w-16 text-gray-400 mx-auto mb-4"}),s.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"Aucune formation trouve"}),s.jsx("p",{className:"text-gray-500 mb-6",children:n||i!=="all"?"Essayez de modifier vos critres de recherche":"Aucune formation publie pour le moment"}),(n||i!=="all")&&s.jsx(rt,{onClick:()=>{a(""),l("all")},variant:"outline",children:"Effacer les filtres"})]}):s.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:f.map(p=>s.jsxs("div",{className:"bg-white rounded-lg shadow-sm border hover:shadow-lg transition-all duration-200 overflow-hidden group",children:[s.jsxs("div",{className:"h-48 bg-gradient-to-br from-blue-500 to-purple-600 relative overflow-hidden",children:[p.thumbnail_url?s.jsx("img",{src:p.thumbnail_url,alt:p.title,className:"w-full h-full object-cover group-hover:scale-105 transition-transform duration-200"}):s.jsx("div",{className:"flex items-center justify-center h-full",children:s.jsx(qn,{className:"h-16 w-16 text-white opacity-50"})}),s.jsx("div",{className:"absolute top-3 right-3",children:u(p.level)})]}),s.jsxs("div",{className:"p-6",children:[s.jsx("h3",{className:"text-lg font-bold text-gray-900 mb-2 line-clamp-2 group-hover:text-blue-600 transition-colors",children:p.title}),p.description&&s.jsx("p",{className:"text-sm text-gray-600 mb-4 line-clamp-3",children:p.description}),s.jsxs("div",{className:"space-y-2 mb-4",children:[p.duration_hours&&s.jsxs("div",{className:"flex items-center gap-2 text-sm text-gray-600",children:[s.jsx(Ys,{className:"h-4 w-4 text-gray-400"}),s.jsxs("span",{children:[p.duration_hours,"h de contenu"]})]}),s.jsxs("div",{className:"flex items-center gap-2 text-sm text-gray-600",children:[h(p.level),s.jsxs("span",{children:["Niveau ",p.level||"N/A"]})]}),p.module_count!==void 0&&s.jsxs("div",{className:"flex items-center gap-2 text-sm text-gray-600",children:[s.jsx(_c,{className:"h-4 w-4 text-gray-400"}),s.jsxs("span",{children:[p.module_count," module(s)"]})]}),p.passing_score_percentage!==void 0&&s.jsxs("div",{className:"flex items-center gap-2 text-sm text-gray-600",children:[s.jsx(ii,{className:"h-4 w-4 text-gray-400"}),s.jsxs("span",{children:["Score de russite: ",p.passing_score_percentage,"%"]})]})]}),p.price!==void 0&&p.price!==null&&Number(p.price)>0&&s.jsx("div",{className:"mb-4 pb-4 border-b",children:s.jsx("p",{className:"text-2xl font-bold text-blue-600",children:O3(p.price)})}),s.jsxs(rt,{onClick:()=>e(`/student/formations/${p.id}`),className:"w-full bg-blue-600 hover:bg-blue-700",children:[s.jsx(_c,{className:"h-4 w-4 mr-2"}),"Voir la formation"]})]})]},p.id))})]})})},J2={async markVideoComplete(e){return st.post(`/progress/videos/${e}/complete`,{})},async recordVideoWatch(e){return st.post(`/progress/videos/${e}/watch`,{})},async getFormationVideoProgress(e){return st.get(`/progress/formations/${e}/videos`)},async submitTestAttempt(e,t){return st.post(`/progress/tests/${e}/attempts`,t)},async getTestAttempts(e){return st.get(`/progress/tests/${e}/attempts`)},async getFormationTestAttempts(e){return st.get(`/progress/formations/${e}/tests`)},async getFormationProgress(e){return st.get(`/progress/formations/${e}`)},async getStudentTranscript(e){return st.get(`/progress/student/${e}/transcript`)}};function hNe(){const e=Ut();return Ht({mutationFn:t=>J2.markVideoComplete(t),onSuccess:()=>{e.invalidateQueries({queryKey:["video-progress"]}),e.invalidateQueries({queryKey:["formation-progress"]})}})}function mNe(e){return hr({queryKey:["video-progress",e],queryFn:()=>{if(!e)throw new Error("Formation ID required");return J2.getFormationVideoProgress(e)},enabled:!!e})}function pNe(){const e=Ut();return Ht({mutationFn:({testId:t,data:r})=>J2.submitTestAttempt(t,r),onSuccess:(t,r)=>{e.invalidateQueries({queryKey:["test-attempts",r.testId]}),e.invalidateQueries({queryKey:["test-attempts-formation"]}),e.invalidateQueries({queryKey:["formation-progress"]}),e.invalidateQueries({queryKey:["transcript"]})}})}function xNe(e){return hr({queryKey:["formation-progress",e],queryFn:()=>{if(!e)throw new Error("Formation ID required");return J2.getFormationProgress(e)},enabled:!!e,staleTime:1e3*60*5})}const gNe=()=>{const{id:e}=Ho(),t=Pn(),{user:r}=Ni(),{data:n,isLoading:a,error:i}=sp(e),{data:l}=xNe(e),{data:o}=gU(r?.id||null),[f,u]=C.useState(new Set),h=o?.certificates.some(O=>O.formation_id===e)||!1,p=O=>{const D=new Set(f);D.has(O)?D.delete(O):D.add(O),u(D)},g=O=>l?.video_progress.some(D=>D.video_id===O&&D.completed_at)||!1,x=O=>l?.test_attempts.some(D=>D.test_id===O&&D.passed)||!1,b=O=>{const D={debutant:{bg:"bg-green-100",text:"text-green-700",label:"Dbutant"},intermediaire:{bg:"bg-yellow-100",text:"text-yellow-700",label:"Intermdiaire"},avance:{bg:"bg-red-100",text:"text-red-700",label:"Avanc"}},R=O&&O in D?D[O]:{bg:"bg-gray-100",text:"text-gray-700",label:"N/A"};return s.jsx("span",{className:`px-2 py-1 inline-flex text-xs leading-5 font-semibold rounded-full ${R.bg} ${R.text}`,children:R.label})},y=O=>O==="video"?s.jsx(_c,{className:"h-5 w-5 text-purple-600"}):O==="test"?s.jsx(tf,{className:"h-5 w-5 text-orange-600"}):s.jsx(qn,{className:"h-5 w-5 text-blue-600"}),w=(O,D)=>(!O.prerequisite_module_id||!D.find(P=>P.id===O.prerequisite_module_id),!0);if(a)return s.jsx(ha,{title:"Chargement...",subtitle:"Chargement de la formation",children:s.jsx("div",{className:"flex justify-center items-center py-12",children:s.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-blue-600"})})});if(i||!n)return s.jsx(ha,{title:"Erreur",subtitle:"Formation introuvable",children:s.jsxs("div",{className:"bg-red-50 border border-red-200 rounded-lg p-6 text-center",children:[s.jsx("p",{className:"text-red-800 mb-4",children:i?.message||"Cette formation n'existe pas ou n'est pas disponible."}),s.jsxs(rt,{onClick:()=>t("/student/catalog"),variant:"outline",children:[s.jsx(ea,{className:"h-4 w-4 mr-2"}),"Retour au catalogue"]})]})});const _=n.modules||[],E=_.reduce((O,D)=>O+(D.videos?.length||0),0),A=_.reduce((O,D)=>O+(D.tests?.length||0),0);return s.jsx(ha,{title:n.title,subtitle:"Contenu de la formation",children:s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{className:"bg-white rounded-lg shadow-sm border p-6",children:[s.jsxs(rt,{variant:"ghost",size:"sm",onClick:()=>t("/student/catalog"),className:"mb-4",children:[s.jsx(ea,{className:"h-4 w-4 mr-2"}),"Retour au catalogue"]}),s.jsxs("div",{className:"flex items-start gap-6",children:[s.jsx("div",{className:"hidden md:block",children:n.thumbnail_url?s.jsx("img",{src:n.thumbnail_url,alt:n.title,className:"w-48 h-32 object-cover rounded-lg"}):s.jsx("div",{className:"w-48 h-32 bg-gradient-to-br from-blue-500 to-purple-600 rounded-lg flex items-center justify-center",children:s.jsx(qn,{className:"h-12 w-12 text-white opacity-50"})})}),s.jsxs("div",{className:"flex-1",children:[s.jsxs("div",{className:"flex items-center gap-3 mb-3",children:[s.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:n.title}),b(n.level)]}),n.description&&s.jsx("p",{className:"text-gray-600 mb-4",children:n.description}),s.jsxs("div",{className:"flex flex-wrap gap-6 text-sm text-gray-600",children:[n.duration_hours&&s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(Ys,{className:"h-4 w-4 text-gray-400"}),s.jsxs("span",{children:[n.duration_hours,"h de contenu"]})]}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(qn,{className:"h-4 w-4 text-gray-400"}),s.jsxs("span",{children:[_.length," module(s)"]})]}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(_c,{className:"h-4 w-4 text-gray-400"}),s.jsxs("span",{children:[E," vido(s)"]})]}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(tf,{className:"h-4 w-4 text-gray-400"}),s.jsxs("span",{children:[A," test(s)"]})]}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(wi,{className:"h-4 w-4 text-gray-400"}),s.jsxs("span",{children:["Score de russite: ",n.passing_score_percentage,"%"]})]})]})]})]})]}),l&&s.jsxs("div",{className:"bg-white rounded-lg shadow-sm border p-6",children:[s.jsx("h2",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Votre progression"}),s.jsx("div",{className:"mb-6",children:s.jsx(Jy,{progress:l.summary.overall_progress,label:"Progression globale",color:"purple",size:"lg"})}),h&&s.jsx("div",{className:"mb-6",children:s.jsx("div",{onClick:()=>t("/student/certificates"),className:"bg-gradient-to-r from-amber-50 to-amber-100 border-2 border-amber-300 rounded-lg p-4 cursor-pointer hover:shadow-md transition-all",children:s.jsxs("div",{className:"flex items-center gap-4",children:[s.jsx("div",{className:"bg-amber-500 p-3 rounded-full",children:s.jsx(wi,{className:"h-6 w-6 text-white"})}),s.jsxs("div",{className:"flex-1",children:[s.jsx("h3",{className:"font-semibold text-amber-900 mb-1",children:" Certificat disponible !"}),s.jsx("p",{className:"text-sm text-amber-700",children:"Flicitations ! Vous avez termin cette formation. Cliquez ici pour tlcharger votre certificat."})]}),s.jsx(Gu,{className:"h-5 w-5 text-amber-600"})]})})}),s.jsx("div",{className:"mb-6",children:s.jsx("div",{onClick:()=>t(`/student/forums/${e}`),className:"bg-gradient-to-r from-blue-50 to-purple-50 border-2 border-blue-300 rounded-lg p-4 cursor-pointer hover:shadow-md transition-all",children:s.jsxs("div",{className:"flex items-center gap-4",children:[s.jsx("div",{className:"bg-gradient-to-br from-blue-500 to-purple-600 p-3 rounded-full",children:s.jsx(Xs,{className:"h-6 w-6 text-white"})}),s.jsxs("div",{className:"flex-1",children:[s.jsx("h3",{className:"font-semibold text-blue-900 mb-1",children:" Forum de discussion"}),s.jsx("p",{className:"text-sm text-blue-700",children:"Posez vos questions, partagez vos ides et discutez avec les autres tudiants."})]}),s.jsx(Gu,{className:"h-5 w-5 text-blue-600"})]})})}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[s.jsx(hD,{completed:l.summary.completed_videos,total:l.summary.total_videos,label:"Vidos termines",color:"blue"}),s.jsx(hD,{completed:l.summary.passed_tests,total:l.summary.total_tests,label:"Tests russis",color:"green"})]})]}),_.length===0?s.jsxs("div",{className:"bg-white rounded-lg shadow-sm border p-12 text-center",children:[s.jsx(qn,{className:"h-16 w-16 text-gray-400 mx-auto mb-4"}),s.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"Aucun contenu disponible"}),s.jsx("p",{className:"text-gray-500",children:"Cette formation n'a pas encore de contenu. Revenez plus tard."})]}):s.jsxs("div",{className:"bg-white rounded-lg shadow-sm border",children:[s.jsxs("div",{className:"p-6 border-b",children:[s.jsx("h2",{className:"text-xl font-bold text-gray-900",children:"Contenu de la formation"}),s.jsx("p",{className:"text-sm text-gray-600 mt-1",children:"Cliquez sur un module pour voir son contenu"})]}),s.jsx("div",{className:"divide-y",children:_.map((O,D)=>{const R=f.has(O.id),P=w(O,_),T=O.videos||[],B=O.tests||[],G=T.length>0||B.length>0;return s.jsxs("div",{children:[s.jsx("div",{className:`p-4 hover:bg-gray-50 transition-colors ${P?"cursor-pointer":"opacity-60"}`,onClick:()=>P&&G&&p(O.id),children:s.jsxs("div",{className:"flex items-center gap-3",children:[G?s.jsx("button",{className:"text-gray-400 hover:text-gray-600",children:R?s.jsx(xg,{className:"h-5 w-5"}):s.jsx(Gu,{className:"h-5 w-5"})}):s.jsx("div",{className:"w-5"}),y(O.module_type),s.jsxs("div",{className:"flex-1 min-w-0",children:[s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsxs("span",{className:"text-sm font-medium text-gray-500",children:["Module ",D+1]}),!P&&s.jsx(Lx,{className:"h-4 w-4 text-gray-400"})]}),s.jsx("h3",{className:"text-base font-semibold text-gray-900",children:O.title}),O.description&&s.jsx("p",{className:"text-sm text-gray-600 mt-1 line-clamp-2",children:O.description})]}),s.jsxs("div",{className:"text-sm text-gray-500",children:[T.length>0&&s.jsxs("span",{className:"mr-3",children:[T.length," vido(s)"]}),B.length>0&&s.jsxs("span",{children:[B.length," test(s)"]})]})]})}),R&&G&&s.jsxs("div",{className:"bg-gray-50 px-4 py-3 space-y-2",children:[T.map((I,z)=>{const K=g(I.id);return s.jsx("div",{className:`bg-white rounded-lg border p-3 hover:shadow-md transition-shadow cursor-pointer ${K?"border-green-300 bg-green-50":"border-purple-200"}`,onClick:()=>t(`/student/formations/${n.id}/videos/${I.id}`),children:s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx(_c,{className:`h-5 w-5 flex-shrink-0 ${K?"text-green-600":"text-purple-600"}`}),s.jsxs("div",{className:"flex-1 min-w-0",children:[s.jsxs("p",{className:"text-sm font-medium text-gray-900",children:["Vido ",z+1,": ",I.title]}),I.duration_seconds&&s.jsxs("p",{className:"text-xs text-gray-500",children:["Dure: ",Math.floor(I.duration_seconds/60)," min"," ",I.duration_seconds%60," sec"]})]}),K?s.jsx(ii,{className:"h-5 w-5 text-green-600 flex-shrink-0"}):s.jsx(Gu,{className:"h-5 w-5 text-gray-400"})]})},I.id)}),B.map((I,z)=>{const K=x(I.id);return s.jsx("div",{className:`bg-white rounded-lg border p-3 hover:shadow-md transition-shadow cursor-pointer ${K?"border-green-300 bg-green-50":"border-orange-200"}`,onClick:()=>t(`/student/formations/${n.id}/tests/${I.id}`),children:s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx(tf,{className:`h-5 w-5 flex-shrink-0 ${K?"text-green-600":"text-orange-600"}`}),s.jsxs("div",{className:"flex-1 min-w-0",children:[s.jsxs("p",{className:"text-sm font-medium text-gray-900",children:["Test ",z+1,": ",I.title]}),s.jsxs("div",{className:"flex items-center gap-3 text-xs text-gray-500 mt-1",children:[I.questions&&s.jsxs("span",{children:[I.questions.length," question(s)"]}),I.time_limit_minutes&&s.jsxs("span",{children:[" ",I.time_limit_minutes," min"]}),s.jsxs("span",{children:["Score min: ",I.passing_score,"%"]})]})]}),K?s.jsx(ii,{className:"h-5 w-5 text-green-600 flex-shrink-0"}):s.jsx(Gu,{className:"h-5 w-5 text-gray-400"})]})},I.id)})]})]},O.id)})})]})]})})},vNe=()=>{const{id:e,videoId:t}=Ho(),r=Pn(),{data:n,isLoading:a,error:i}=sp(e),{data:l}=mNe(e),o=hNe(),f=n?.modules?.flatMap(A=>A.videos||[]).find(A=>A.id===t),u=n?.modules?.find(A=>A.videos?.some(O=>O.id===t)),h=[];n?.modules?.forEach(A=>{A.videos?.forEach(O=>{h.push({video:O,module:A})})});const p=h.findIndex(A=>A.video.id===t),g=p>0?h[p-1]:null,x=p<h.length-1?h[p+1]:null,b=A=>{if(!A)return null;const O=[/(?:youtube\.com\/watch\?v=)([^&]+)/,/(?:youtu\.be\/)([^?]+)/,/(?:youtube\.com\/embed\/)([^?]+)/];for(const D of O){const R=A.match(D);if(R)return R[1]}return null},y=f?.youtube_url?b(f.youtube_url):null,w=A=>{const O=Math.floor(A/60),D=A%60;return`${O}:${D.toString().padStart(2,"0")}`},_=l?.some(A=>A.video_id===t&&A.completed_at)||!1,E=async()=>{if(!(!t||_))try{await o.mutateAsync(t)}catch(A){console.error("Erreur lors du marquage de la vido:",A)}};return C.useEffect(()=>{t&&console.log("Vido en cours de visionnage:",t)},[t]),a?s.jsx(ha,{title:"Chargement...",subtitle:"Chargement de la vido",children:s.jsx("div",{className:"flex justify-center items-center py-12",children:s.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-blue-600"})})}):i||!n||!f?s.jsx(ha,{title:"Erreur",subtitle:"Vido introuvable",children:s.jsxs("div",{className:"bg-red-50 border border-red-200 rounded-lg p-6 text-center",children:[s.jsx("p",{className:"text-red-800 mb-4",children:i?.message||"Cette vido n'existe pas ou n'est pas disponible."}),s.jsxs(rt,{onClick:()=>r(e?`/student/formations/${e}`:"/student/catalog"),variant:"outline",children:[s.jsx(ea,{className:"h-4 w-4 mr-2"}),"Retour"]})]})}):s.jsx(ha,{title:f.title,subtitle:n.title,children:s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs(rt,{variant:"ghost",size:"sm",onClick:()=>r(`/student/formations/${e}`),children:[s.jsx(ea,{className:"h-4 w-4 mr-2"}),"Retour  la formation"]}),_?s.jsxs("div",{className:"flex items-center gap-2 text-green-600 font-medium text-sm",children:[s.jsx(ii,{className:"h-5 w-5"}),s.jsx("span",{children:"Vido termine"})]}):s.jsxs(rt,{onClick:E,disabled:o.isPending,className:"bg-green-600 hover:bg-green-700",children:[s.jsx(ii,{className:"h-4 w-4 mr-2"}),o.isPending?"Enregistrement...":"Marquer comme termin"]})]}),s.jsx("div",{className:"bg-white rounded-lg shadow-sm border overflow-hidden",children:y?s.jsx("div",{className:"relative",style:{paddingBottom:"56.25%"},children:s.jsx("iframe",{className:"absolute top-0 left-0 w-full h-full",src:`https://www.youtube.com/embed/${y}?rel=0`,title:f.title,allow:"accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture",allowFullScreen:!0})}):s.jsx("div",{className:"aspect-video bg-gray-900 flex items-center justify-center",children:s.jsxs("div",{className:"text-center text-white",children:[s.jsx(_c,{className:"h-16 w-16 mx-auto mb-4 opacity-50"}),s.jsx("p",{className:"text-lg font-medium",children:"URL de vido non disponible"}),s.jsx("p",{className:"text-sm text-gray-400 mt-2",children:f.youtube_url||"Aucune URL configure"})]})})}),s.jsxs("div",{className:"bg-white rounded-lg shadow-sm border p-6",children:[s.jsxs("div",{className:"flex items-start justify-between mb-4",children:[s.jsxs("div",{className:"flex-1",children:[s.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[s.jsx(_c,{className:"h-5 w-5 text-purple-600"}),s.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:f.title})]}),u&&s.jsxs("div",{className:"flex items-center gap-2 text-sm text-gray-600",children:[s.jsx(qn,{className:"h-4 w-4 text-gray-400"}),s.jsx("span",{children:u.title})]})]}),f.duration_seconds&&s.jsxs("div",{className:"flex items-center gap-2 text-sm text-gray-600 bg-gray-100 px-3 py-2 rounded-lg",children:[s.jsx(Ys,{className:"h-4 w-4 text-gray-400"}),s.jsx("span",{children:w(f.duration_seconds)})]})]}),f.description&&s.jsxs("div",{className:"border-t pt-4",children:[s.jsx("h3",{className:"text-sm font-semibold text-gray-900 mb-2",children:"Description"}),s.jsx("p",{className:"text-gray-600 whitespace-pre-wrap",children:f.description})]})]}),(g||x)&&s.jsxs("div",{className:"bg-white rounded-lg shadow-sm border p-6",children:[s.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Navigation"}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[g?s.jsxs("button",{onClick:()=>r(`/student/formations/${e}/videos/${g.video.id}`),className:"flex items-center gap-3 p-4 border border-gray-300 rounded-lg hover:bg-gray-50 hover:border-gray-400 transition-all text-left",children:[s.jsx(MN,{className:"h-5 w-5 text-gray-400 flex-shrink-0"}),s.jsxs("div",{className:"flex-1 min-w-0",children:[s.jsx("p",{className:"text-xs text-gray-500 mb-1",children:"Vido prcdente"}),s.jsx("p",{className:"text-sm font-medium text-gray-900 truncate",children:g.video.title}),s.jsx("p",{className:"text-xs text-gray-500 mt-1",children:g.module.title})]})]}):s.jsx("div",{className:"p-4 border border-gray-200 rounded-lg bg-gray-50 flex items-center justify-center",children:s.jsx("p",{className:"text-sm text-gray-400",children:"Premire vido"})}),x?s.jsxs("button",{onClick:()=>r(`/student/formations/${e}/videos/${x.video.id}`),className:"flex items-center gap-3 p-4 border border-gray-300 rounded-lg hover:bg-gray-50 hover:border-gray-400 transition-all text-left",children:[s.jsxs("div",{className:"flex-1 min-w-0",children:[s.jsx("p",{className:"text-xs text-gray-500 mb-1",children:"Vido suivante"}),s.jsx("p",{className:"text-sm font-medium text-gray-900 truncate",children:x.video.title}),s.jsx("p",{className:"text-xs text-gray-500 mt-1",children:x.module.title})]}),s.jsx(Gu,{className:"h-5 w-5 text-gray-400 flex-shrink-0"})]}):s.jsx("div",{className:"p-4 border border-gray-200 rounded-lg bg-gray-50 flex items-center justify-center",children:s.jsx("p",{className:"text-sm text-gray-400",children:"Dernire vido"})})]})]}),s.jsxs("div",{className:"bg-white rounded-lg shadow-sm border p-6",children:[s.jsxs("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:["Toutes les vidos (",h.length,")"]}),s.jsx("div",{className:"space-y-2",children:h.map(({video:A,module:O},D)=>s.jsxs("button",{onClick:()=>r(`/student/formations/${e}/videos/${A.id}`),className:`w-full flex items-center gap-3 p-3 rounded-lg border transition-all text-left ${A.id===t?"bg-purple-50 border-purple-300 shadow-sm":"border-gray-200 hover:bg-gray-50 hover:border-gray-300"}`,children:[s.jsx("div",{className:`flex items-center justify-center w-8 h-8 rounded-full flex-shrink-0 ${A.id===t?"bg-purple-600 text-white":"bg-gray-100 text-gray-600"}`,children:A.id===t?s.jsx(_c,{className:"h-4 w-4"}):s.jsx("span",{className:"text-sm font-medium",children:D+1})}),s.jsxs("div",{className:"flex-1 min-w-0",children:[s.jsx("p",{className:`text-sm font-medium truncate ${A.id===t?"text-purple-900":"text-gray-900"}`,children:A.title}),s.jsx("p",{className:"text-xs text-gray-500 mt-0.5",children:O.title})]}),A.duration_seconds&&s.jsxs("div",{className:"text-xs text-gray-500 flex items-center gap-1",children:[s.jsx(Ys,{className:"h-3 w-3"}),w(A.duration_seconds)]})]},A.id))})]})]})})},yNe=()=>{const{id:e,testId:t}=Ho(),r=Pn(),{data:n,isLoading:a,error:i}=sp(e),l=pNe(),[o,f]=C.useState({}),[u,h]=C.useState(!1),[p,g]=C.useState(null),[x]=C.useState(new Date),b=n?.modules?.flatMap(P=>P.tests||[]).find(P=>P.id===t),y=n?.modules?.find(P=>P.tests?.some(T=>T.id===t)),w=b?.questions||[];C.useEffect(()=>{if(b?.time_limit_minutes&&!u){g(b.time_limit_minutes*60);const P=setInterval(()=>{g(T=>T===null||T<=0?(clearInterval(P),u||E(),0):T-1)},1e3);return()=>clearInterval(P)}},[b,u]);const _=(P,T)=>{u||f(B=>({...B,[P]:T}))},E=async()=>{if(u||!t)return;const P=w.filter(z=>!o[z.id]).length;if(P>0&&!window.confirm(`${P} question(s) non rpondue(s). Voulez-vous vraiment soumettre le test ?`))return;h(!0);let T=0,B=0;w.forEach(z=>{T+=z.points;const K=o[z.id];K&&z.choices.find(pe=>pe.id===K)?.is_correct&&(B+=z.points)});const I=(T>0?B/T*100:0)>=(b?.passing_score||70);try{await l.mutateAsync({testId:t,data:{answers:o,score:B,total_points:T,passed:I}})}catch(z){console.error("Erreur lors de l'enregistrement de la tentative:",z)}},A=()=>{let P=0,T=0,B=0;w.forEach(z=>{T+=z.points;const K=o[z.id];K&&z.choices.find(pe=>pe.id===K)?.is_correct&&(P++,B+=z.points)});const G=w.length>0?P/w.length*100:0,I=T>0?B/T*100:0;return{correctCount:P,totalQuestions:w.length,percentage:Math.round(G),earnedPoints:B,totalPoints:T,pointsPercentage:Math.round(I),passed:I>=(b?.passing_score||70)}},O=P=>{const T=Math.floor(P/60),B=P%60;return`${T}:${B.toString().padStart(2,"0")}`},D=()=>{if(!u)return"";const T=Math.floor((new Date().getTime()-x.getTime())/1e3);return O(T)},R=u?A():null;return a?s.jsx(ha,{title:"Chargement...",subtitle:"Chargement du test",children:s.jsx("div",{className:"flex justify-center items-center py-12",children:s.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-blue-600"})})}):i||!n||!b?s.jsx(ha,{title:"Erreur",subtitle:"Test introuvable",children:s.jsxs("div",{className:"bg-red-50 border border-red-200 rounded-lg p-6 text-center",children:[s.jsx("p",{className:"text-red-800 mb-4",children:i?.message||"Ce test n'existe pas ou n'est pas disponible."}),s.jsxs(rt,{onClick:()=>r(e?`/student/formations/${e}`:"/student/catalog"),variant:"outline",children:[s.jsx(ea,{className:"h-4 w-4 mr-2"}),"Retour"]})]})}):s.jsx(ha,{title:b.title,subtitle:n.title,children:s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{className:"bg-white rounded-lg shadow-sm border p-6",children:[s.jsxs("div",{className:"flex items-center justify-between mb-4",children:[s.jsxs(rt,{variant:"ghost",size:"sm",onClick:()=>r(`/student/formations/${e}`),disabled:!u,children:[s.jsx(ea,{className:"h-4 w-4 mr-2"}),"Retour  la formation"]}),!u&&p!==null&&s.jsxs("div",{className:`flex items-center gap-2 px-4 py-2 rounded-lg font-medium ${p<60?"bg-red-100 text-red-700":p<300?"bg-yellow-100 text-yellow-700":"bg-blue-100 text-blue-700"}`,children:[s.jsx(Ys,{className:"h-4 w-4"}),s.jsx("span",{children:O(p)})]})]}),s.jsxs("div",{className:"flex items-start gap-4",children:[s.jsx(tf,{className:"h-6 w-6 text-orange-600 flex-shrink-0 mt-1"}),s.jsxs("div",{className:"flex-1",children:[s.jsx("h1",{className:"text-2xl font-bold text-gray-900 mb-2",children:b.title}),y&&s.jsxs("div",{className:"flex items-center gap-2 text-sm text-gray-600 mb-3",children:[s.jsx(qn,{className:"h-4 w-4 text-gray-400"}),s.jsx("span",{children:y.title})]}),b.description&&s.jsx("p",{className:"text-gray-600 mb-3",children:b.description}),s.jsxs("div",{className:"flex flex-wrap gap-4 text-sm text-gray-600",children:[s.jsxs("div",{className:"flex items-center gap-1",children:[s.jsx(tf,{className:"h-4 w-4 text-gray-400"}),s.jsxs("span",{children:[w.length," questions"]})]}),b.time_limit_minutes&&s.jsxs("div",{className:"flex items-center gap-1",children:[s.jsx(Ys,{className:"h-4 w-4 text-gray-400"}),s.jsxs("span",{children:[b.time_limit_minutes," min"]})]}),s.jsxs("div",{className:"flex items-center gap-1",children:[s.jsx(wi,{className:"h-4 w-4 text-gray-400"}),s.jsxs("span",{children:["Score minimum: ",b.passing_score,"%"]})]})]})]})]})]}),u&&R&&s.jsxs("div",{className:`rounded-lg shadow-sm border p-6 ${R.passed?"bg-green-50 border-green-200":"bg-red-50 border-red-200"}`,children:[s.jsxs("div",{className:"flex items-center gap-3 mb-4",children:[R.passed?s.jsx(ii,{className:"h-8 w-8 text-green-600"}):s.jsx(Sd,{className:"h-8 w-8 text-red-600"}),s.jsxs("div",{children:[s.jsx("h2",{className:`text-xl font-bold ${R.passed?"text-green-900":"text-red-900"}`,children:R.passed?"Test russi !":"Test chou"}),s.jsxs("p",{className:R.passed?"text-green-700":"text-red-700",children:["Score: ",R.pointsPercentage,"% (",R.earnedPoints,"/",R.totalPoints," points)"]})]})]}),s.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4 mt-4",children:[s.jsxs("div",{className:"bg-white rounded-lg p-3 border border-gray-200",children:[s.jsx("p",{className:"text-xs text-gray-500 mb-1",children:"Bonnes rponses"}),s.jsxs("p",{className:"text-lg font-semibold text-gray-900",children:[R.correctCount,"/",R.totalQuestions]})]}),s.jsxs("div",{className:"bg-white rounded-lg p-3 border border-gray-200",children:[s.jsx("p",{className:"text-xs text-gray-500 mb-1",children:"Pourcentage"}),s.jsxs("p",{className:"text-lg font-semibold text-gray-900",children:[R.percentage,"%"]})]}),s.jsxs("div",{className:"bg-white rounded-lg p-3 border border-gray-200",children:[s.jsx("p",{className:"text-xs text-gray-500 mb-1",children:"Points obtenus"}),s.jsxs("p",{className:"text-lg font-semibold text-gray-900",children:[R.earnedPoints,"/",R.totalPoints]})]}),s.jsxs("div",{className:"bg-white rounded-lg p-3 border border-gray-200",children:[s.jsx("p",{className:"text-xs text-gray-500 mb-1",children:"Temps coul"}),s.jsx("p",{className:"text-lg font-semibold text-gray-900",children:D()})]})]})]}),w.length===0?s.jsxs("div",{className:"bg-white rounded-lg shadow-sm border p-12 text-center",children:[s.jsx(tf,{className:"h-16 w-16 text-gray-400 mx-auto mb-4"}),s.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"Aucune question"}),s.jsx("p",{className:"text-gray-500",children:"Ce test n'a pas encore de questions."})]}):s.jsx("div",{className:"space-y-6",children:w.map((P,T)=>{const B=o[P.id],I=P.choices.find(z=>z.id===B)?.is_correct||!1;return s.jsxs("div",{className:"bg-white rounded-lg shadow-sm border p-6",children:[s.jsxs("div",{className:"flex items-start gap-3 mb-4",children:[s.jsx("div",{className:`flex items-center justify-center w-8 h-8 rounded-full flex-shrink-0 ${u?I?"bg-green-100 text-green-700":B?"bg-red-100 text-red-700":"bg-gray-100 text-gray-700":"bg-blue-100 text-blue-700"}`,children:u?I?s.jsx(ii,{className:"h-4 w-4"}):B?s.jsx(Sd,{className:"h-4 w-4"}):s.jsx(X4,{className:"h-4 w-4"}):s.jsx("span",{className:"text-sm font-medium",children:T+1})}),s.jsxs("div",{className:"flex-1",children:[s.jsxs("div",{className:"flex items-center justify-between mb-2",children:[s.jsxs("h3",{className:"text-base font-semibold text-gray-900",children:["Question ",T+1]}),s.jsxs("span",{className:"text-sm text-gray-500",children:[P.points," pts"]})]}),s.jsx("p",{className:"text-gray-700",children:P.question_text})]})]}),s.jsx("div",{className:"space-y-2 ml-11",children:P.choices.map(z=>{const K=B===z.id,J=u&&z.is_correct,pe=u&&K&&!z.is_correct;return s.jsxs("label",{className:`flex items-start gap-3 p-3 rounded-lg border transition-all cursor-pointer ${u?J?"bg-green-50 border-green-300":pe?"bg-red-50 border-red-300":"border-gray-200 bg-gray-50":K?"bg-blue-50 border-blue-300":"border-gray-200 hover:bg-gray-50 hover:border-gray-300"} ${u?"cursor-default":""}`,children:[s.jsx("input",{type:"radio",name:`question-${P.id}`,value:z.id,checked:K,onChange:()=>_(P.id,z.id),disabled:u,className:"mt-1 h-4 w-4 text-blue-600 border-gray-300 focus:ring-blue-500"}),s.jsxs("div",{className:"flex-1",children:[s.jsx("p",{className:`text-sm ${J?"text-green-900 font-medium":pe?"text-red-900":"text-gray-900"}`,children:z.choice_text}),u&&z.is_correct&&s.jsx("p",{className:"text-xs text-green-700 mt-1",children:" Bonne rponse"}),u&&pe&&s.jsx("p",{className:"text-xs text-red-700 mt-1",children:" Mauvaise rponse"})]})]},z.id)})}),!u&&!B&&s.jsxs("div",{className:"mt-3 ml-11 text-sm text-amber-600 flex items-center gap-2",children:[s.jsx(X4,{className:"h-4 w-4"}),s.jsx("span",{children:"Question non rpondue"})]})]},P.id)})}),!u&&w.length>0&&s.jsx("div",{className:"bg-white rounded-lg shadow-sm border p-6",children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{className:"text-sm text-gray-600",children:[s.jsxs("p",{children:[Object.keys(o).length," / ",w.length," questions rpondues"]}),b.show_correct_answers&&s.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"Les rponses correctes seront affiches aprs la soumission"})]}),s.jsxs(rt,{onClick:E,size:"lg",className:"min-w-[200px]",children:[s.jsx(ii,{className:"h-5 w-5 mr-2"}),"Soumettre le test"]})]})})]})})},bNe=()=>{const{user:e}=Ni(),{data:t,isLoading:r,error:n}=gU(e?.id||null),a=async l=>{await vU(l)};if(r)return s.jsx(ha,{title:"Mes Certificats",subtitle:"Consultez et tlchargez vos certificats",children:s.jsx("div",{className:"flex items-center justify-center h-64",children:s.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-600"})})});if(n)return s.jsx(ha,{title:"Mes Certificats",subtitle:"Consultez et tlchargez vos certificats",children:s.jsx("div",{className:"bg-red-50 border border-red-200 rounded-lg p-4",children:s.jsx("p",{className:"text-red-800",children:"Erreur lors du chargement des certificats"})})});const i=t?.certificates||[];return s.jsx(ha,{title:"Mes Certificats",subtitle:"Consultez et tlchargez vos certificats",children:s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[s.jsx("div",{className:"bg-gradient-to-br from-blue-500 to-blue-600 rounded-lg p-6 text-white",children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx("p",{className:"text-sm opacity-90",children:"Total Certificats"}),s.jsx("p",{className:"text-4xl font-bold mt-2",children:i.length})]}),s.jsx(wi,{className:"h-12 w-12 opacity-80"})]})}),s.jsx("div",{className:"bg-gradient-to-br from-green-500 to-green-600 rounded-lg p-6 text-white",children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx("p",{className:"text-sm opacity-90",children:"Formations Compltes"}),s.jsx("p",{className:"text-4xl font-bold mt-2",children:i.length})]}),s.jsx(ii,{className:"h-12 w-12 opacity-80"})]})}),s.jsx("div",{className:"bg-gradient-to-br from-amber-500 to-amber-600 rounded-lg p-6 text-white",children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx("p",{className:"text-sm opacity-90",children:"Note Moyenne"}),s.jsxs("p",{className:"text-4xl font-bold mt-2",children:[i.length>0?(i.filter(l=>l.grade!==null).reduce((l,o)=>l+(o.grade||0),0)/i.filter(l=>l.grade!==null).length).toFixed(1):"0","%"]})]}),s.jsx(Y4,{className:"h-12 w-12 opacity-80"})]})})]}),i.length===0?s.jsxs("div",{className:"bg-white rounded-lg shadow-sm border p-12 text-center",children:[s.jsx(Fx,{className:"h-16 w-16 text-gray-300 mx-auto mb-4"}),s.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"Aucun certificat disponible"}),s.jsx("p",{className:"text-gray-600",children:"Compltez vos formations pour obtenir vos certificats de russite !"})]}):s.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:i.map(l=>{const o=new Date(l.completion_date).toLocaleDateString("fr-FR",{day:"numeric",month:"long",year:"numeric"}),f=new Date(l.issued_at).toLocaleDateString("fr-FR");return s.jsxs("div",{className:"bg-white rounded-lg shadow-sm border hover:shadow-md transition-shadow overflow-hidden",children:[s.jsx("div",{className:"bg-gradient-to-r from-blue-600 to-purple-600 p-6 text-white",children:s.jsxs("div",{className:"flex items-start justify-between",children:[s.jsxs("div",{className:"flex-1",children:[s.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[s.jsx(wi,{className:"h-5 w-5"}),s.jsx("span",{className:"text-sm font-medium opacity-90",children:"Certificat de Russite"})]}),s.jsx("h3",{className:"text-xl font-bold mb-2",children:l.formation_title})]}),l.grade!==null&&l.grade!==void 0&&s.jsxs("div",{className:"bg-white/20 rounded-lg px-3 py-2 text-center backdrop-blur-sm",children:[s.jsxs("p",{className:"text-2xl font-bold",children:[l.grade,"%"]}),s.jsx("p",{className:"text-xs opacity-90",children:"Note"})]})]})}),s.jsxs("div",{className:"p-6 space-y-4",children:[s.jsxs("div",{className:"space-y-3",children:[s.jsxs("div",{className:"flex items-center gap-3 text-sm text-gray-600",children:[s.jsx(ns,{className:"h-4 w-4 text-blue-500"}),s.jsxs("span",{children:["Complt le ",o]})]}),s.jsxs("div",{className:"flex items-center gap-3 text-sm text-gray-600",children:[s.jsx(qn,{className:"h-4 w-4 text-green-500"}),s.jsxs("span",{children:["Dlivr le ",f]})]}),s.jsxs("div",{className:"flex items-center gap-3 text-sm text-gray-600",children:[s.jsx(Fx,{className:"h-4 w-4 text-purple-500"}),s.jsxs("span",{className:"font-mono text-xs",children:["N ",l.certificate_number]})]})]}),s.jsxs("button",{onClick:()=>a(l),className:"w-full flex items-center justify-center gap-2 px-4 py-3 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors font-medium",children:[s.jsx(Ss,{className:"h-5 w-5"}),"Tlcharger le Certificat"]})]}),s.jsx("div",{className:"bg-green-50 border-t border-green-100 px-6 py-3",children:s.jsxs("div",{className:"flex items-center gap-2 text-green-700 text-sm font-medium",children:[s.jsx(ii,{className:"h-4 w-4"}),"Formation complte avec succs"]})})]},l.id)})}),s.jsx("div",{className:"bg-blue-50 border border-blue-200 rounded-lg p-6",children:s.jsxs("div",{className:"flex items-start gap-4",children:[s.jsx("div",{className:"bg-blue-100 p-3 rounded-lg",children:s.jsx(wi,{className:"h-6 w-6 text-blue-600"})}),s.jsxs("div",{children:[s.jsx("h3",{className:"font-semibold text-blue-900 mb-2",children:" propos de vos certificats"}),s.jsxs("ul",{className:"text-sm text-blue-800 space-y-1",children:[s.jsx("li",{children:" Les certificats sont gnrs automatiquement aprs compltion d'une formation"}),s.jsx("li",{children:" Chaque certificat contient un numro unique pour vrification"}),s.jsx("li",{children:" Vous pouvez tlcharger vos certificats  tout moment"}),s.jsx("li",{children:" Les certificats sont au format PDF professionnel"})]})]})]})})]})})},wNe=()=>{const{formationId:e}=Ho(),t=Pn(),[r,n]=C.useState("recent"),{data:a,isLoading:i}=sp(e||void 0),{data:l,isLoading:o}=eNe(e||null,{sort:r,pinned:"true"}),f=a,u=l?.threads||[],h=p=>{const g=new Date(p),b=new Date().getTime()-g.getTime(),y=Math.floor(b/6e4),w=Math.floor(y/60),_=Math.floor(w/24);return y<1?" l'instant":y<60?`Il y a ${y} min`:w<24?`Il y a ${w}h`:_<7?`Il y a ${_}j`:g.toLocaleDateString("fr-FR",{day:"numeric",month:"short",year:"numeric"})};return i||o?s.jsx("div",{className:"flex items-center justify-center h-64",children:s.jsxs("div",{className:"text-center",children:[s.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-600 mx-auto"}),s.jsx("p",{className:"mt-4 text-gray-600",children:"Chargement du forum..."})]})}):f?s.jsxs("div",{className:"max-w-6xl mx-auto p-6",children:[s.jsx("div",{className:"mb-6",children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsxs("h1",{className:"text-3xl font-bold text-gray-900",children:["Forum - ",f.title]}),s.jsx("p",{className:"text-gray-600 mt-1",children:"Posez vos questions et discutez avec les autres tudiants"})]}),s.jsxs(rt,{onClick:()=>t(`/student/forums/${e}/new`),className:"bg-gradient-to-r from-blue-600 to-blue-700 text-white",children:[s.jsx(ca,{className:"h-4 w-4 mr-2"}),"Nouvelle discussion"]})]})}),s.jsx("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 p-4 mb-6",children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{className:"flex items-center gap-6 text-sm",children:[s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(Xs,{className:"h-4 w-4 text-blue-600"}),s.jsxs("span",{className:"text-gray-600",children:[s.jsx("span",{className:"font-semibold text-gray-900",children:u.length})," ","discussions"]})]}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(GD,{className:"h-4 w-4 text-green-600"}),s.jsxs("span",{className:"text-gray-600",children:[s.jsx("span",{className:"font-semibold text-gray-900",children:u.reduce((p,g)=>p+(g.post_count||0),0)})," ","rponses"]})]})]}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("span",{className:"text-sm text-gray-600",children:"Trier par:"}),s.jsxs("select",{value:r,onChange:p=>n(p.target.value),className:"text-sm border border-gray-300 rounded-md px-3 py-1.5 focus:outline-none focus:ring-2 focus:ring-blue-500",children:[s.jsx("option",{value:"recent",children:"Plus rcent"}),s.jsx("option",{value:"popular",children:"Plus populaire"}),s.jsx("option",{value:"active",children:"Plus actif"})]})]})]})}),u.length===0?s.jsxs("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 p-12 text-center",children:[s.jsx(Xs,{className:"h-16 w-16 text-gray-300 mx-auto mb-4"}),s.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-2",children:"Aucune discussion pour le moment"}),s.jsx("p",{className:"text-gray-600 mb-6",children:"Soyez le premier  poser une question ou partager une ide"}),s.jsxs(rt,{onClick:()=>t(`/student/forums/${e}/new`),className:"bg-gradient-to-r from-blue-600 to-blue-700 text-white",children:[s.jsx(ca,{className:"h-4 w-4 mr-2"}),"Crer une discussion"]})]}):s.jsx("div",{className:"space-y-3",children:u.map(p=>s.jsx("div",{onClick:()=>t(`/student/forums/thread/${p.id}`),className:"bg-white rounded-lg shadow-sm border border-gray-200 p-5 hover:border-blue-300 hover:shadow-md transition-all cursor-pointer",children:s.jsxs("div",{className:"flex items-start gap-4",children:[s.jsx("div",{className:"flex-shrink-0",children:s.jsx("div",{className:"w-12 h-12 rounded-full bg-gradient-to-br from-blue-500 to-purple-600 flex items-center justify-center",children:s.jsx(Xs,{className:"h-6 w-6 text-white"})})}),s.jsx("div",{className:"flex-1 min-w-0",children:s.jsxs("div",{className:"flex items-start justify-between gap-4",children:[s.jsxs("div",{className:"flex-1",children:[s.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[p.is_pinned&&s.jsx(UN,{className:"h-4 w-4 text-yellow-600 flex-shrink-0"}),p.is_locked&&s.jsx(Lx,{className:"h-4 w-4 text-gray-500 flex-shrink-0"}),s.jsx("h3",{className:"text-lg font-semibold text-gray-900 hover:text-blue-600",children:p.title})]}),p.content&&s.jsx("p",{className:"text-sm text-gray-600 line-clamp-2 mb-3",children:p.content}),s.jsxs("div",{className:"flex items-center gap-4 text-xs text-gray-500",children:[s.jsxs("span",{children:["Par ",p.author_name]}),s.jsxs("span",{className:"flex items-center gap-1",children:[s.jsx(Ys,{className:"h-3 w-3"}),h(p.created_at)]}),p.last_post_at&&s.jsxs("span",{children:["Dernire rponse: ",h(p.last_post_at)]})]})]}),s.jsxs("div",{className:"flex items-center gap-4 text-sm",children:[s.jsxs("div",{className:"text-center",children:[s.jsxs("div",{className:"flex items-center gap-1 text-gray-600",children:[s.jsx(Es,{className:"h-4 w-4"}),s.jsx("span",{className:"font-semibold",children:p.view_count})]}),s.jsx("div",{className:"text-xs text-gray-500",children:"vues"})]}),s.jsxs("div",{className:"text-center",children:[s.jsxs("div",{className:"flex items-center gap-1 text-blue-600",children:[s.jsx(Xs,{className:"h-4 w-4"}),s.jsx("span",{className:"font-semibold",children:p.post_count||0})]}),s.jsx("div",{className:"text-xs text-gray-500",children:"rponses"})]})]})]})})]})},p.id))}),r==="popular"&&u.length>0&&s.jsx("div",{className:"mt-6 bg-gradient-to-r from-yellow-50 to-orange-50 border border-yellow-200 rounded-lg p-4",children:s.jsxs("div",{className:"flex items-center gap-2 text-yellow-800",children:[s.jsx($0,{className:"h-5 w-5"}),s.jsx("span",{className:"font-semibold",children:"Discussions les plus populaires en ce moment"})]})})]}):s.jsx("div",{className:"text-center py-12",children:s.jsx("p",{className:"text-gray-600",children:"Formation non trouve"})})},_Ne=()=>{const{threadId:e}=Ho(),t=Pn(),{user:r}=Ni(),[n,a]=C.useState(""),{data:i,isLoading:l}=tNe(e||null),{data:o,isLoading:f}=aNe(e||null),u=nNe(),h=iNe(),p=lNe(),g=oNe(),x=sNe(),b=i?.thread,y=o?.posts||[];C.useEffect(()=>{e&&u.mutate(e)},[e]);const w=async()=>{if(!(!n.trim()||!e||!r))try{await h.mutateAsync({threadId:e,data:{author_id:r.id,content:n.trim()}}),a("")}catch(D){console.error("Error posting reply:",D),alert("Erreur lors de l'envoi de la rponse")}},_=async(D,R,P)=>{if(r)try{P||await p.mutateAsync({postId:D,data:{user_id:r.id,reaction_type:R}})}catch(T){console.error("Error toggling reaction:",T)}},E=async D=>{if(r&&confirm("tes-vous sr de vouloir supprimer cette rponse ?"))try{await x.mutateAsync({postId:D,userId:r.id,isAdmin:r.role==="admin"})}catch(R){console.error("Error deleting post:",R),alert("Erreur lors de la suppression")}},A=(D,R)=>{if(!D.reactions)return 0;const P=D.reactions.find(T=>T.reaction_type===R);return P?P.count:0},O=D=>new Date(D).toLocaleDateString("fr-FR",{day:"numeric",month:"long",year:"numeric",hour:"2-digit",minute:"2-digit"});return l||f?s.jsx("div",{className:"flex items-center justify-center h-64",children:s.jsxs("div",{className:"text-center",children:[s.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-600 mx-auto"}),s.jsx("p",{className:"mt-4 text-gray-600",children:"Chargement de la discussion..."})]})}):b?s.jsxs("div",{className:"max-w-5xl mx-auto p-6",children:[s.jsxs(rt,{onClick:()=>t(`/student/forums/${b.formation_id}`),variant:"ghost",className:"mb-4",children:[s.jsx(ea,{className:"h-4 w-4 mr-2"}),"Retour au forum"]}),s.jsx("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 p-6 mb-6",children:s.jsxs("div",{className:"flex items-start gap-4",children:[s.jsx("div",{className:"w-16 h-16 rounded-full bg-gradient-to-br from-blue-500 to-purple-600 flex items-center justify-center flex-shrink-0",children:s.jsx(Xs,{className:"h-8 w-8 text-white"})}),s.jsxs("div",{className:"flex-1",children:[s.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[b.is_pinned&&s.jsx(UN,{className:"h-5 w-5 text-yellow-600"}),b.is_locked&&s.jsx(Lx,{className:"h-5 w-5 text-gray-500"}),s.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:b.title})]}),b.content&&s.jsx("p",{className:"text-gray-700 mb-4 whitespace-pre-wrap",children:b.content}),s.jsxs("div",{className:"flex items-center gap-4 text-sm text-gray-600",children:[s.jsx("span",{className:"font-medium",children:b.author_name}),s.jsxs("span",{className:"flex items-center gap-1",children:[s.jsx(Ys,{className:"h-4 w-4"}),O(b.created_at)]}),s.jsxs("span",{className:"flex items-center gap-1",children:[s.jsx(Es,{className:"h-4 w-4"}),b.view_count," vues"]}),s.jsxs("span",{className:"flex items-center gap-1",children:[s.jsx(Xs,{className:"h-4 w-4"}),b.post_count||0," rponses"]})]})]})]})}),s.jsx("div",{className:"space-y-4 mb-6",children:y.map(D=>{const R=r?.id===D.author_id,P=r?.role==="admin",T=R||P;return s.jsx("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 p-5",children:s.jsxs("div",{className:"flex items-start gap-4",children:[s.jsx("div",{className:"w-12 h-12 rounded-full bg-gradient-to-br from-green-500 to-teal-600 flex items-center justify-center flex-shrink-0",children:s.jsx("span",{className:"text-white font-semibold text-sm",children:D.author_name?.charAt(0).toUpperCase()})}),s.jsxs("div",{className:"flex-1",children:[s.jsxs("div",{className:"flex items-center justify-between mb-2",children:[s.jsxs("div",{children:[s.jsx("span",{className:"font-semibold text-gray-900",children:D.author_name}),D.author_role==="admin"&&s.jsx("span",{className:"ml-2 px-2 py-0.5 bg-red-100 text-red-700 text-xs font-medium rounded",children:"Admin"}),D.author_role==="gerant"&&s.jsx("span",{className:"ml-2 px-2 py-0.5 bg-blue-100 text-blue-700 text-xs font-medium rounded",children:"Formateur"}),s.jsx("span",{className:"ml-3 text-sm text-gray-500",children:O(D.created_at)}),D.is_edited&&s.jsx("span",{className:"ml-2 text-xs text-gray-400",children:"(modifi)"})]}),T&&s.jsx("button",{onClick:()=>E(D.id),className:"text-red-600 hover:text-red-700 p-1",children:s.jsx(da,{className:"h-4 w-4"})})]}),s.jsx("p",{className:"text-gray-700 mb-3 whitespace-pre-wrap",children:D.content}),s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsxs("button",{onClick:()=>_(D.id,"like",!1),className:"flex items-center gap-1 text-sm text-gray-600 hover:text-blue-600 transition-colors",children:[s.jsx(OV,{className:"h-4 w-4"}),s.jsx("span",{children:A(D,"like")})]}),s.jsxs("button",{onClick:()=>_(D.id,"helpful",!1),className:"flex items-center gap-1 text-sm text-gray-600 hover:text-green-600 transition-colors",children:[s.jsx(Xs,{className:"h-4 w-4"}),s.jsx("span",{children:A(D,"helpful")})]}),s.jsxs("button",{onClick:()=>_(D.id,"insightful",!1),className:"flex items-center gap-1 text-sm text-gray-600 hover:text-purple-600 transition-colors",children:[s.jsx(XH,{className:"h-4 w-4"}),s.jsx("span",{children:A(D,"insightful")})]})]})]})]})},D.id)})}),b.is_locked?s.jsxs("div",{className:"bg-yellow-50 border border-yellow-200 rounded-lg p-4 text-center",children:[s.jsx(Lx,{className:"h-8 w-8 text-yellow-600 mx-auto mb-2"}),s.jsx("p",{className:"text-yellow-800 font-medium",children:"Cette discussion est verrouille. Vous ne pouvez plus y rpondre."})]}):s.jsxs("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 p-5",children:[s.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-3",children:"Votre rponse"}),s.jsx("textarea",{value:n,onChange:D=>a(D.target.value),placeholder:"crivez votre rponse ici...",rows:4,className:"w-full border border-gray-300 rounded-lg p-3 focus:outline-none focus:ring-2 focus:ring-blue-500 resize-none"}),s.jsxs("div",{className:"flex items-center justify-between mt-3",children:[s.jsx("p",{className:"text-sm text-gray-500",children:"Soyez respectueux et constructif dans vos rponses"}),s.jsx(rt,{onClick:w,disabled:!n.trim()||h.isPending,className:"bg-gradient-to-r from-blue-600 to-blue-700 text-white",children:h.isPending?"Envoi...":s.jsxs(s.Fragment,{children:[s.jsx(jm,{className:"h-4 w-4 mr-2"}),"Envoyer"]})})]})]})]}):s.jsx("div",{className:"text-center py-12",children:s.jsx("p",{className:"text-gray-600",children:"Discussion non trouve"})})},NNe=()=>{const{formationId:e}=Ho(),t=Pn(),{user:r}=Ni(),[n,a]=C.useState(""),[i,l]=C.useState(""),[o,f]=C.useState(""),{data:u}=sp(e||void 0),h=rNe(),p=u,g=async x=>{if(x.preventDefault(),f(""),!n.trim()){f("Le titre est requis");return}if(!e||!r){f("Erreur: Formation ou utilisateur non trouv");return}try{const b=await h.mutateAsync({formationId:e,data:{author_id:r.id,title:n.trim(),content:i.trim()||void 0}});t(`/student/forums/thread/${b.thread.id}`)}catch(b){console.error("Error creating thread:",b),f("Erreur lors de la cration de la discussion")}};return s.jsxs("div",{className:"max-w-4xl mx-auto p-6",children:[s.jsxs(rt,{onClick:()=>t(`/student/forums/${e}`),variant:"ghost",className:"mb-4",children:[s.jsx(ea,{className:"h-4 w-4 mr-2"}),"Retour au forum"]}),s.jsxs("div",{className:"bg-gradient-to-r from-blue-600 to-purple-600 rounded-lg p-6 mb-6 text-white",children:[s.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[s.jsx(Xs,{className:"h-8 w-8"}),s.jsx("h1",{className:"text-3xl font-bold",children:"Nouvelle discussion"})]}),s.jsxs("p",{className:"text-blue-100",children:["Formation: ",p?.title||"Chargement..."]})]}),s.jsxs("div",{className:"bg-blue-50 border border-blue-200 rounded-lg p-4 mb-6",children:[s.jsx("h3",{className:"font-semibold text-blue-900 mb-2",children:"Conseils pour crer une bonne discussion"}),s.jsxs("ul",{className:"text-sm text-blue-800 space-y-1",children:[s.jsx("li",{children:" Choisissez un titre clair et descriptif"}),s.jsx("li",{children:" Expliquez votre question ou sujet en dtail"}),s.jsx("li",{children:" Soyez respectueux et constructif"}),s.jsx("li",{children:" Vrifiez qu'une discussion similaire n'existe pas dj"})]})]}),o&&s.jsx("div",{className:"bg-red-50 border border-red-200 rounded-lg p-4 mb-6",children:s.jsxs("div",{className:"flex items-center gap-2 text-red-800",children:[s.jsx(un,{className:"h-5 w-5"}),s.jsx("span",{children:o})]})}),s.jsxs("form",{onSubmit:g,className:"space-y-6",children:[s.jsxs("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 p-6",children:[s.jsx("label",{htmlFor:"title",className:"block text-sm font-semibold text-gray-900 mb-2",children:"Titre de la discussion *"}),s.jsx("input",{type:"text",id:"title",value:n,onChange:x=>a(x.target.value),placeholder:"Ex: Comment configurer l'environnement de dveloppement ?",className:"w-full border border-gray-300 rounded-lg px-4 py-2.5 focus:outline-none focus:ring-2 focus:ring-blue-500",maxLength:200}),s.jsxs("p",{className:"mt-2 text-sm text-gray-500",children:[n.length,"/200 caractres"]})]}),s.jsxs("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 p-6",children:[s.jsx("label",{htmlFor:"content",className:"block text-sm font-semibold text-gray-900 mb-2",children:"Description (optionnelle)"}),s.jsx("textarea",{id:"content",value:i,onChange:x=>l(x.target.value),placeholder:"Dcrivez votre question ou sujet en dtail...",rows:10,className:"w-full border border-gray-300 rounded-lg px-4 py-3 focus:outline-none focus:ring-2 focus:ring-blue-500 resize-none",maxLength:5e3}),s.jsxs("p",{className:"mt-2 text-sm text-gray-500",children:[i.length,"/5000 caractres"]})]}),s.jsxs("div",{className:"flex items-center justify-end gap-3",children:[s.jsx(rt,{type:"button",onClick:()=>t(`/student/forums/${e}`),variant:"outline",children:"Annuler"}),s.jsx(rt,{type:"submit",disabled:!n.trim()||h.isPending,className:"bg-gradient-to-r from-blue-600 to-blue-700 text-white",children:h.isPending?"Cration...":s.jsxs(s.Fragment,{children:[s.jsx(Xs,{className:"h-4 w-4 mr-2"}),"Crer la discussion"]})})]})]}),s.jsx("div",{className:"mt-6 bg-gray-50 border border-gray-200 rounded-lg p-4",children:s.jsxs("p",{className:"text-sm text-gray-600",children:[" ",s.jsx("strong",{children:"Note:"})," Votre discussion sera visible par tous les tudiants de cette formation. Vous pourrez la modifier ou la supprimer aprs sa cration."]})})]})},tn=({children:e,adminOnly:t=!1,gerantOnly:r=!1})=>{const{isAuthenticated:n,isAdmin:a,isGerant:i}=Ni();return n?t&&!a?s.jsx(Nm,{to:"/dashboard",replace:!0}):r&&!i?s.jsx(Nm,{to:"/dashboard",replace:!0}):s.jsx(s.Fragment,{children:e}):s.jsx(Nm,{to:"/login",replace:!0})},SNe=({children:e})=>{const{isAuthenticated:t}=Ni();return t?s.jsx(Nm,{to:"/dashboard",replace:!0}):s.jsx(s.Fragment,{children:e})},jNe=()=>{const{isLoading:e}=Ni();return e?s.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gray-50",children:s.jsxs("div",{className:"text-center",children:[s.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-600 mx-auto mb-4"}),s.jsx("p",{className:"text-gray-600",children:"Chargement..."})]})}):s.jsxs(u$,{children:[s.jsx(Br,{path:"/login",element:s.jsx(SNe,{children:s.jsx(VV,{})})}),s.jsx(Br,{path:"/dashboard",element:s.jsx(tn,{children:s.jsx(QV,{})})}),s.jsx(Br,{path:"/admin/segments",element:s.jsx(tn,{adminOnly:!0,children:s.jsx(hae,{})})}),s.jsx(Br,{path:"/admin/cities",element:s.jsx(tn,{adminOnly:!0,children:s.jsx(pae,{})})}),s.jsx(Br,{path:"/admin/users",element:s.jsx(tn,{adminOnly:!0,children:s.jsx(jae,{})})}),s.jsx(Br,{path:"/admin/calculation-sheets",element:s.jsx(tn,{adminOnly:!0,children:s.jsx(zae,{})})}),s.jsx(Br,{path:"/admin/calculation-sheets/:id",element:s.jsx(tn,{adminOnly:!0,children:s.jsx(Uae,{})})}),s.jsx(Br,{path:"/admin/calculation-sheets/:id/editor",element:s.jsx(tn,{adminOnly:!0,children:s.jsx(Hae,{})})}),s.jsx(Br,{path:"/admin/declarations",element:s.jsx(tn,{adminOnly:!0,children:s.jsx(Zae,{})})}),s.jsx(Br,{path:"/admin/declarations/:id",element:s.jsx(tn,{adminOnly:!0,children:s.jsx(lie,{})})}),s.jsx(Br,{path:"/admin/create-declaration",element:s.jsx(tn,{adminOnly:!0,children:s.jsx(Uk,{})})}),s.jsx(Br,{path:"/admin/formations/sessions",element:s.jsx(tn,{adminOnly:!0,children:s.jsx(qie,{})})}),s.jsx(Br,{path:"/admin/formations/cours",element:s.jsx(tn,{adminOnly:!0,children:s.jsx(Xie,{})})}),s.jsx(Br,{path:"/admin/formations/cours/:id/editor",element:s.jsx(tn,{adminOnly:!0,children:s.jsx(ese,{})})}),s.jsx(Br,{path:"/admin/analytics",element:s.jsx(tn,{adminOnly:!0,children:s.jsx(M_e,{})})}),s.jsx(Br,{path:"/admin/student-reports",element:s.jsx(tn,{adminOnly:!0,children:s.jsx(R_e,{})})}),s.jsx(Br,{path:"/admin/certificates",element:s.jsx(tn,{adminOnly:!0,children:s.jsx(H_e,{})})}),s.jsx(Br,{path:"/admin/certificate-templates",element:s.jsx(tn,{adminOnly:!0,children:s.jsx(V_e,{})})}),s.jsx(Br,{path:"/admin/certificate-templates/:id/edit",element:s.jsx(tn,{adminOnly:!0,children:s.jsx(J_e,{})})}),s.jsx(Br,{path:"/admin/forums",element:s.jsx(tn,{adminOnly:!0,children:s.jsx(uNe,{})})}),s.jsx(Br,{path:"/professor/declarations",element:s.jsx(tn,{children:s.jsx(uie,{})})}),s.jsx(Br,{path:"/professor/declarations/:id/fill",element:s.jsx(tn,{children:s.jsx(fie,{})})}),s.jsx(Br,{path:"/student/dashboard",element:s.jsx(tn,{children:s.jsx(fNe,{})})}),s.jsx(Br,{path:"/student/catalog",element:s.jsx(tn,{children:s.jsx(dNe,{})})}),s.jsx(Br,{path:"/student/formations/:id",element:s.jsx(tn,{children:s.jsx(gNe,{})})}),s.jsx(Br,{path:"/student/formations/:id/videos/:videoId",element:s.jsx(tn,{children:s.jsx(vNe,{})})}),s.jsx(Br,{path:"/student/formations/:id/tests/:testId",element:s.jsx(tn,{children:s.jsx(yNe,{})})}),s.jsx(Br,{path:"/student/certificates",element:s.jsx(tn,{children:s.jsx(bNe,{})})}),s.jsx(Br,{path:"/student/forums/:formationId",element:s.jsx(tn,{children:s.jsx(wNe,{})})}),s.jsx(Br,{path:"/student/forums/:formationId/new",element:s.jsx(tn,{children:s.jsx(NNe,{})})}),s.jsx(Br,{path:"/student/forums/thread/:threadId",element:s.jsx(tn,{children:s.jsx(_Ne,{})})}),s.jsx(Br,{path:"/gerant/declarations",element:s.jsx(tn,{gerantOnly:!0,children:s.jsx(vie,{})})}),s.jsx(Br,{path:"/gerant/create-declaration",element:s.jsx(tn,{gerantOnly:!0,children:s.jsx(Uk,{})})}),s.jsx(Br,{path:"/",element:s.jsx(Nm,{to:"/login",replace:!0})}),s.jsx(Br,{path:"*",element:s.jsx(Nm,{to:"/login",replace:!0})})]})},ANe=()=>s.jsx(F$,{children:s.jsx(K$,{children:s.jsx(jNe,{})})}),ENe=new iq({defaultOptions:{queries:{refetchOnWindowFocus:!1,retry:1,staleTime:300*1e3}}});Mz.createRoot(document.getElementById("root")).render(s.jsx(C.StrictMode,{children:s.jsxs(sq,{client:ENe,children:[s.jsx(ANe,{}),s.jsx(bq,{initialIsOpen:!1})]})}));export{_n as _,kNe as c,yf as g};
