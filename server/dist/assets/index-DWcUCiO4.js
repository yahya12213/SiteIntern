function Iz(e,t){for(var r=0;r<t.length;r++){const n=t[r];if(typeof n!="string"&&!Array.isArray(n)){for(const a in n)if(a!=="default"&&!(a in e)){const s=Object.getOwnPropertyDescriptor(n,a);s&&Object.defineProperty(e,a,s.get?s:{enumerable:!0,get:()=>n[a]})}}}return Object.freeze(Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}))}(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const a of document.querySelectorAll('link[rel="modulepreload"]'))n(a);new MutationObserver(a=>{for(const s of a)if(s.type==="childList")for(const l of s.addedNodes)l.tagName==="LINK"&&l.rel==="modulepreload"&&n(l)}).observe(document,{childList:!0,subtree:!0});function r(a){const s={};return a.integrity&&(s.integrity=a.integrity),a.referrerPolicy&&(s.referrerPolicy=a.referrerPolicy),a.crossOrigin==="use-credentials"?s.credentials="include":a.crossOrigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function n(a){if(a.ep)return;a.ep=!0;const s=r(a);fetch(a.href,s)}})();var $je=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function jd(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}var jw={exports:{}},cx={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var dk;function Bz(){if(dk)return cx;dk=1;var e=Symbol.for("react.transitional.element"),t=Symbol.for("react.fragment");function r(n,a,s){var l=null;if(s!==void 0&&(l=""+s),a.key!==void 0&&(l=""+a.key),"key"in a){s={};for(var o in a)o!=="key"&&(s[o]=a[o])}else s=a;return a=s.ref,{$$typeof:e,type:n,key:l,ref:a!==void 0?a:null,props:s}}return cx.Fragment=t,cx.jsx=r,cx.jsxs=r,cx}var fk;function Uz(){return fk||(fk=1,jw.exports=Bz()),jw.exports}var i=Uz(),Sw={exports:{}},vr={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var hk;function zz(){if(hk)return vr;hk=1;var e=Symbol.for("react.transitional.element"),t=Symbol.for("react.portal"),r=Symbol.for("react.fragment"),n=Symbol.for("react.strict_mode"),a=Symbol.for("react.profiler"),s=Symbol.for("react.consumer"),l=Symbol.for("react.context"),o=Symbol.for("react.forward_ref"),u=Symbol.for("react.suspense"),d=Symbol.for("react.memo"),h=Symbol.for("react.lazy"),m=Symbol.for("react.activity"),g=Symbol.iterator;function x(ne){return ne===null||typeof ne!="object"?null:(ne=g&&ne[g]||ne["@@iterator"],typeof ne=="function"?ne:null)}var b={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},v=Object.assign,w={};function N(ne,M,R){this.props=ne,this.context=M,this.refs=w,this.updater=R||b}N.prototype.isReactComponent={},N.prototype.setState=function(ne,M){if(typeof ne!="object"&&typeof ne!="function"&&ne!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,ne,M,"setState")},N.prototype.forceUpdate=function(ne){this.updater.enqueueForceUpdate(this,ne,"forceUpdate")};function E(){}E.prototype=N.prototype;function j(ne,M,R){this.props=ne,this.context=M,this.refs=w,this.updater=R||b}var T=j.prototype=new E;T.constructor=j,v(T,N.prototype),T.isPureReactComponent=!0;var O=Array.isArray;function D(){}var C={H:null,A:null,T:null,S:null},P=Object.prototype.hasOwnProperty;function B(ne,M,R){var q=R.ref;return{$$typeof:e,type:ne,key:M,ref:q!==void 0?q:null,props:R}}function H(ne,M){return B(ne.type,M,ne.props)}function L(ne){return typeof ne=="object"&&ne!==null&&ne.$$typeof===e}function U(ne){var M={"=":"=0",":":"=2"};return"$"+ne.replace(/[=:]/g,function(R){return M[R]})}var V=/\/+/g;function Y(ne,M){return typeof ne=="object"&&ne!==null&&ne.key!=null?U(""+ne.key):M.toString(36)}function de(ne){switch(ne.status){case"fulfilled":return ne.value;case"rejected":throw ne.reason;default:switch(typeof ne.status=="string"?ne.then(D,D):(ne.status="pending",ne.then(function(M){ne.status==="pending"&&(ne.status="fulfilled",ne.value=M)},function(M){ne.status==="pending"&&(ne.status="rejected",ne.reason=M)})),ne.status){case"fulfilled":return ne.value;case"rejected":throw ne.reason}}throw ne}function te(ne,M,R,q,K){var ee=typeof ne;(ee==="undefined"||ee==="boolean")&&(ne=null);var ce=!1;if(ne===null)ce=!0;else switch(ee){case"bigint":case"string":case"number":ce=!0;break;case"object":switch(ne.$$typeof){case e:case t:ce=!0;break;case h:return ce=ne._init,te(ce(ne._payload),M,R,q,K)}}if(ce)return K=K(ne),ce=q===""?"."+Y(ne,0):q,O(K)?(R="",ce!=null&&(R=ce.replace(V,"$&/")+"/"),te(K,M,R,"",function(ye){return ye})):K!=null&&(L(K)&&(K=H(K,R+(K.key==null||ne&&ne.key===K.key?"":(""+K.key).replace(V,"$&/")+"/")+ce)),M.push(K)),1;ce=0;var Q=q===""?".":q+":";if(O(ne))for(var re=0;re<ne.length;re++)q=ne[re],ee=Q+Y(q,re),ce+=te(q,M,R,ee,K);else if(re=x(ne),typeof re=="function")for(ne=re.call(ne),re=0;!(q=ne.next()).done;)q=q.value,ee=Q+Y(q,re++),ce+=te(q,M,R,ee,K);else if(ee==="object"){if(typeof ne.then=="function")return te(de(ne),M,R,q,K);throw M=String(ne),Error("Objects are not valid as a React child (found: "+(M==="[object Object]"?"object with keys {"+Object.keys(ne).join(", ")+"}":M)+"). If you meant to render a collection of children, use an array instead.")}return ce}function ie(ne,M,R){if(ne==null)return ne;var q=[],K=0;return te(ne,q,"","",function(ee){return M.call(R,ee,K++)}),q}function ge(ne){if(ne._status===-1){var M=ne._result;M=M(),M.then(function(R){(ne._status===0||ne._status===-1)&&(ne._status=1,ne._result=R)},function(R){(ne._status===0||ne._status===-1)&&(ne._status=2,ne._result=R)}),ne._status===-1&&(ne._status=0,ne._result=M)}if(ne._status===1)return ne._result.default;throw ne._result}var oe=typeof reportError=="function"?reportError:function(ne){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var M=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof ne=="object"&&ne!==null&&typeof ne.message=="string"?String(ne.message):String(ne),error:ne});if(!window.dispatchEvent(M))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",ne);return}console.error(ne)},Se={map:ie,forEach:function(ne,M,R){ie(ne,function(){M.apply(this,arguments)},R)},count:function(ne){var M=0;return ie(ne,function(){M++}),M},toArray:function(ne){return ie(ne,function(M){return M})||[]},only:function(ne){if(!L(ne))throw Error("React.Children.only expected to receive a single React element child.");return ne}};return vr.Activity=m,vr.Children=Se,vr.Component=N,vr.Fragment=r,vr.Profiler=a,vr.PureComponent=j,vr.StrictMode=n,vr.Suspense=u,vr.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=C,vr.__COMPILER_RUNTIME={__proto__:null,c:function(ne){return C.H.useMemoCache(ne)}},vr.cache=function(ne){return function(){return ne.apply(null,arguments)}},vr.cacheSignal=function(){return null},vr.cloneElement=function(ne,M,R){if(ne==null)throw Error("The argument must be a React element, but you passed "+ne+".");var q=v({},ne.props),K=ne.key;if(M!=null)for(ee in M.key!==void 0&&(K=""+M.key),M)!P.call(M,ee)||ee==="key"||ee==="__self"||ee==="__source"||ee==="ref"&&M.ref===void 0||(q[ee]=M[ee]);var ee=arguments.length-2;if(ee===1)q.children=R;else if(1<ee){for(var ce=Array(ee),Q=0;Q<ee;Q++)ce[Q]=arguments[Q+2];q.children=ce}return B(ne.type,K,q)},vr.createContext=function(ne){return ne={$$typeof:l,_currentValue:ne,_currentValue2:ne,_threadCount:0,Provider:null,Consumer:null},ne.Provider=ne,ne.Consumer={$$typeof:s,_context:ne},ne},vr.createElement=function(ne,M,R){var q,K={},ee=null;if(M!=null)for(q in M.key!==void 0&&(ee=""+M.key),M)P.call(M,q)&&q!=="key"&&q!=="__self"&&q!=="__source"&&(K[q]=M[q]);var ce=arguments.length-2;if(ce===1)K.children=R;else if(1<ce){for(var Q=Array(ce),re=0;re<ce;re++)Q[re]=arguments[re+2];K.children=Q}if(ne&&ne.defaultProps)for(q in ce=ne.defaultProps,ce)K[q]===void 0&&(K[q]=ce[q]);return B(ne,ee,K)},vr.createRef=function(){return{current:null}},vr.forwardRef=function(ne){return{$$typeof:o,render:ne}},vr.isValidElement=L,vr.lazy=function(ne){return{$$typeof:h,_payload:{_status:-1,_result:ne},_init:ge}},vr.memo=function(ne,M){return{$$typeof:d,type:ne,compare:M===void 0?null:M}},vr.startTransition=function(ne){var M=C.T,R={};C.T=R;try{var q=ne(),K=C.S;K!==null&&K(R,q),typeof q=="object"&&q!==null&&typeof q.then=="function"&&q.then(D,oe)}catch(ee){oe(ee)}finally{M!==null&&R.types!==null&&(M.types=R.types),C.T=M}},vr.unstable_useCacheRefresh=function(){return C.H.useCacheRefresh()},vr.use=function(ne){return C.H.use(ne)},vr.useActionState=function(ne,M,R){return C.H.useActionState(ne,M,R)},vr.useCallback=function(ne,M){return C.H.useCallback(ne,M)},vr.useContext=function(ne){return C.H.useContext(ne)},vr.useDebugValue=function(){},vr.useDeferredValue=function(ne,M){return C.H.useDeferredValue(ne,M)},vr.useEffect=function(ne,M){return C.H.useEffect(ne,M)},vr.useEffectEvent=function(ne){return C.H.useEffectEvent(ne)},vr.useId=function(){return C.H.useId()},vr.useImperativeHandle=function(ne,M,R){return C.H.useImperativeHandle(ne,M,R)},vr.useInsertionEffect=function(ne,M){return C.H.useInsertionEffect(ne,M)},vr.useLayoutEffect=function(ne,M){return C.H.useLayoutEffect(ne,M)},vr.useMemo=function(ne,M){return C.H.useMemo(ne,M)},vr.useOptimistic=function(ne,M){return C.H.useOptimistic(ne,M)},vr.useReducer=function(ne,M,R){return C.H.useReducer(ne,M,R)},vr.useRef=function(ne){return C.H.useRef(ne)},vr.useState=function(ne){return C.H.useState(ne)},vr.useSyncExternalStore=function(ne,M,R){return C.H.useSyncExternalStore(ne,M,R)},vr.useTransition=function(){return C.H.useTransition()},vr.version="19.2.0",vr}var mk;function ap(){return mk||(mk=1,Sw.exports=zz()),Sw.exports}var k=ap();const ed=jd(k),qz=Iz({__proto__:null,default:ed},[k]);var Aw={exports:{}},ux={},kw={exports:{}},Ew={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var pk;function $z(){return pk||(pk=1,(function(e){function t(te,ie){var ge=te.length;te.push(ie);e:for(;0<ge;){var oe=ge-1>>>1,Se=te[oe];if(0<a(Se,ie))te[oe]=ie,te[ge]=Se,ge=oe;else break e}}function r(te){return te.length===0?null:te[0]}function n(te){if(te.length===0)return null;var ie=te[0],ge=te.pop();if(ge!==ie){te[0]=ge;e:for(var oe=0,Se=te.length,ne=Se>>>1;oe<ne;){var M=2*(oe+1)-1,R=te[M],q=M+1,K=te[q];if(0>a(R,ge))q<Se&&0>a(K,R)?(te[oe]=K,te[q]=ge,oe=q):(te[oe]=R,te[M]=ge,oe=M);else if(q<Se&&0>a(K,ge))te[oe]=K,te[q]=ge,oe=q;else break e}}return ie}function a(te,ie){var ge=te.sortIndex-ie.sortIndex;return ge!==0?ge:te.id-ie.id}if(e.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var s=performance;e.unstable_now=function(){return s.now()}}else{var l=Date,o=l.now();e.unstable_now=function(){return l.now()-o}}var u=[],d=[],h=1,m=null,g=3,x=!1,b=!1,v=!1,w=!1,N=typeof setTimeout=="function"?setTimeout:null,E=typeof clearTimeout=="function"?clearTimeout:null,j=typeof setImmediate<"u"?setImmediate:null;function T(te){for(var ie=r(d);ie!==null;){if(ie.callback===null)n(d);else if(ie.startTime<=te)n(d),ie.sortIndex=ie.expirationTime,t(u,ie);else break;ie=r(d)}}function O(te){if(v=!1,T(te),!b)if(r(u)!==null)b=!0,D||(D=!0,U());else{var ie=r(d);ie!==null&&de(O,ie.startTime-te)}}var D=!1,C=-1,P=5,B=-1;function H(){return w?!0:!(e.unstable_now()-B<P)}function L(){if(w=!1,D){var te=e.unstable_now();B=te;var ie=!0;try{e:{b=!1,v&&(v=!1,E(C),C=-1),x=!0;var ge=g;try{t:{for(T(te),m=r(u);m!==null&&!(m.expirationTime>te&&H());){var oe=m.callback;if(typeof oe=="function"){m.callback=null,g=m.priorityLevel;var Se=oe(m.expirationTime<=te);if(te=e.unstable_now(),typeof Se=="function"){m.callback=Se,T(te),ie=!0;break t}m===r(u)&&n(u),T(te)}else n(u);m=r(u)}if(m!==null)ie=!0;else{var ne=r(d);ne!==null&&de(O,ne.startTime-te),ie=!1}}break e}finally{m=null,g=ge,x=!1}ie=void 0}}finally{ie?U():D=!1}}}var U;if(typeof j=="function")U=function(){j(L)};else if(typeof MessageChannel<"u"){var V=new MessageChannel,Y=V.port2;V.port1.onmessage=L,U=function(){Y.postMessage(null)}}else U=function(){N(L,0)};function de(te,ie){C=N(function(){te(e.unstable_now())},ie)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(te){te.callback=null},e.unstable_forceFrameRate=function(te){0>te||125<te?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):P=0<te?Math.floor(1e3/te):5},e.unstable_getCurrentPriorityLevel=function(){return g},e.unstable_next=function(te){switch(g){case 1:case 2:case 3:var ie=3;break;default:ie=g}var ge=g;g=ie;try{return te()}finally{g=ge}},e.unstable_requestPaint=function(){w=!0},e.unstable_runWithPriority=function(te,ie){switch(te){case 1:case 2:case 3:case 4:case 5:break;default:te=3}var ge=g;g=te;try{return ie()}finally{g=ge}},e.unstable_scheduleCallback=function(te,ie,ge){var oe=e.unstable_now();switch(typeof ge=="object"&&ge!==null?(ge=ge.delay,ge=typeof ge=="number"&&0<ge?oe+ge:oe):ge=oe,te){case 1:var Se=-1;break;case 2:Se=250;break;case 5:Se=1073741823;break;case 4:Se=1e4;break;default:Se=5e3}return Se=ge+Se,te={id:h++,callback:ie,priorityLevel:te,startTime:ge,expirationTime:Se,sortIndex:-1},ge>oe?(te.sortIndex=ge,t(d,te),r(u)===null&&te===r(d)&&(v?(E(C),C=-1):v=!0,de(O,ge-oe))):(te.sortIndex=Se,t(u,te),b||x||(b=!0,D||(D=!0,U()))),te},e.unstable_shouldYield=H,e.unstable_wrapCallback=function(te){var ie=g;return function(){var ge=g;g=ie;try{return te.apply(this,arguments)}finally{g=ge}}}})(Ew)),Ew}var xk;function Hz(){return xk||(xk=1,kw.exports=$z()),kw.exports}var Cw={exports:{}},yi={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var gk;function Vz(){if(gk)return yi;gk=1;var e=ap();function t(u){var d="https://react.dev/errors/"+u;if(1<arguments.length){d+="?args[]="+encodeURIComponent(arguments[1]);for(var h=2;h<arguments.length;h++)d+="&args[]="+encodeURIComponent(arguments[h])}return"Minified React error #"+u+"; visit "+d+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function r(){}var n={d:{f:r,r:function(){throw Error(t(522))},D:r,C:r,L:r,m:r,X:r,S:r,M:r},p:0,findDOMNode:null},a=Symbol.for("react.portal");function s(u,d,h){var m=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:a,key:m==null?null:""+m,children:u,containerInfo:d,implementation:h}}var l=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function o(u,d){if(u==="font")return"";if(typeof d=="string")return d==="use-credentials"?d:""}return yi.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=n,yi.createPortal=function(u,d){var h=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!d||d.nodeType!==1&&d.nodeType!==9&&d.nodeType!==11)throw Error(t(299));return s(u,d,null,h)},yi.flushSync=function(u){var d=l.T,h=n.p;try{if(l.T=null,n.p=2,u)return u()}finally{l.T=d,n.p=h,n.d.f()}},yi.preconnect=function(u,d){typeof u=="string"&&(d?(d=d.crossOrigin,d=typeof d=="string"?d==="use-credentials"?d:"":void 0):d=null,n.d.C(u,d))},yi.prefetchDNS=function(u){typeof u=="string"&&n.d.D(u)},yi.preinit=function(u,d){if(typeof u=="string"&&d&&typeof d.as=="string"){var h=d.as,m=o(h,d.crossOrigin),g=typeof d.integrity=="string"?d.integrity:void 0,x=typeof d.fetchPriority=="string"?d.fetchPriority:void 0;h==="style"?n.d.S(u,typeof d.precedence=="string"?d.precedence:void 0,{crossOrigin:m,integrity:g,fetchPriority:x}):h==="script"&&n.d.X(u,{crossOrigin:m,integrity:g,fetchPriority:x,nonce:typeof d.nonce=="string"?d.nonce:void 0})}},yi.preinitModule=function(u,d){if(typeof u=="string")if(typeof d=="object"&&d!==null){if(d.as==null||d.as==="script"){var h=o(d.as,d.crossOrigin);n.d.M(u,{crossOrigin:h,integrity:typeof d.integrity=="string"?d.integrity:void 0,nonce:typeof d.nonce=="string"?d.nonce:void 0})}}else d==null&&n.d.M(u)},yi.preload=function(u,d){if(typeof u=="string"&&typeof d=="object"&&d!==null&&typeof d.as=="string"){var h=d.as,m=o(h,d.crossOrigin);n.d.L(u,h,{crossOrigin:m,integrity:typeof d.integrity=="string"?d.integrity:void 0,nonce:typeof d.nonce=="string"?d.nonce:void 0,type:typeof d.type=="string"?d.type:void 0,fetchPriority:typeof d.fetchPriority=="string"?d.fetchPriority:void 0,referrerPolicy:typeof d.referrerPolicy=="string"?d.referrerPolicy:void 0,imageSrcSet:typeof d.imageSrcSet=="string"?d.imageSrcSet:void 0,imageSizes:typeof d.imageSizes=="string"?d.imageSizes:void 0,media:typeof d.media=="string"?d.media:void 0})}},yi.preloadModule=function(u,d){if(typeof u=="string")if(d){var h=o(d.as,d.crossOrigin);n.d.m(u,{as:typeof d.as=="string"&&d.as!=="script"?d.as:void 0,crossOrigin:h,integrity:typeof d.integrity=="string"?d.integrity:void 0})}else n.d.m(u)},yi.requestFormReset=function(u){n.d.r(u)},yi.unstable_batchedUpdates=function(u,d){return u(d)},yi.useFormState=function(u,d,h){return l.H.useFormState(u,d,h)},yi.useFormStatus=function(){return l.H.useHostTransitionStatus()},yi.version="19.2.0",yi}var vk;function AF(){if(vk)return Cw.exports;vk=1;function e(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(t){console.error(t)}}return e(),Cw.exports=Vz(),Cw.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var yk;function Wz(){if(yk)return ux;yk=1;var e=Hz(),t=ap(),r=AF();function n(c){var f="https://react.dev/errors/"+c;if(1<arguments.length){f+="?args[]="+encodeURIComponent(arguments[1]);for(var p=2;p<arguments.length;p++)f+="&args[]="+encodeURIComponent(arguments[p])}return"Minified React error #"+c+"; visit "+f+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function a(c){return!(!c||c.nodeType!==1&&c.nodeType!==9&&c.nodeType!==11)}function s(c){var f=c,p=c;if(c.alternate)for(;f.return;)f=f.return;else{c=f;do f=c,(f.flags&4098)!==0&&(p=f.return),c=f.return;while(c)}return f.tag===3?p:null}function l(c){if(c.tag===13){var f=c.memoizedState;if(f===null&&(c=c.alternate,c!==null&&(f=c.memoizedState)),f!==null)return f.dehydrated}return null}function o(c){if(c.tag===31){var f=c.memoizedState;if(f===null&&(c=c.alternate,c!==null&&(f=c.memoizedState)),f!==null)return f.dehydrated}return null}function u(c){if(s(c)!==c)throw Error(n(188))}function d(c){var f=c.alternate;if(!f){if(f=s(c),f===null)throw Error(n(188));return f!==c?null:c}for(var p=c,y=f;;){var S=p.return;if(S===null)break;var F=S.alternate;if(F===null){if(y=S.return,y!==null){p=y;continue}break}if(S.child===F.child){for(F=S.child;F;){if(F===p)return u(S),c;if(F===y)return u(S),f;F=F.sibling}throw Error(n(188))}if(p.return!==y.return)p=S,y=F;else{for(var G=!1,ue=S.child;ue;){if(ue===p){G=!0,p=S,y=F;break}if(ue===y){G=!0,y=S,p=F;break}ue=ue.sibling}if(!G){for(ue=F.child;ue;){if(ue===p){G=!0,p=F,y=S;break}if(ue===y){G=!0,y=F,p=S;break}ue=ue.sibling}if(!G)throw Error(n(189))}}if(p.alternate!==y)throw Error(n(190))}if(p.tag!==3)throw Error(n(188));return p.stateNode.current===p?c:f}function h(c){var f=c.tag;if(f===5||f===26||f===27||f===6)return c;for(c=c.child;c!==null;){if(f=h(c),f!==null)return f;c=c.sibling}return null}var m=Object.assign,g=Symbol.for("react.element"),x=Symbol.for("react.transitional.element"),b=Symbol.for("react.portal"),v=Symbol.for("react.fragment"),w=Symbol.for("react.strict_mode"),N=Symbol.for("react.profiler"),E=Symbol.for("react.consumer"),j=Symbol.for("react.context"),T=Symbol.for("react.forward_ref"),O=Symbol.for("react.suspense"),D=Symbol.for("react.suspense_list"),C=Symbol.for("react.memo"),P=Symbol.for("react.lazy"),B=Symbol.for("react.activity"),H=Symbol.for("react.memo_cache_sentinel"),L=Symbol.iterator;function U(c){return c===null||typeof c!="object"?null:(c=L&&c[L]||c["@@iterator"],typeof c=="function"?c:null)}var V=Symbol.for("react.client.reference");function Y(c){if(c==null)return null;if(typeof c=="function")return c.$$typeof===V?null:c.displayName||c.name||null;if(typeof c=="string")return c;switch(c){case v:return"Fragment";case N:return"Profiler";case w:return"StrictMode";case O:return"Suspense";case D:return"SuspenseList";case B:return"Activity"}if(typeof c=="object")switch(c.$$typeof){case b:return"Portal";case j:return c.displayName||"Context";case E:return(c._context.displayName||"Context")+".Consumer";case T:var f=c.render;return c=c.displayName,c||(c=f.displayName||f.name||"",c=c!==""?"ForwardRef("+c+")":"ForwardRef"),c;case C:return f=c.displayName||null,f!==null?f:Y(c.type)||"Memo";case P:f=c._payload,c=c._init;try{return Y(c(f))}catch{}}return null}var de=Array.isArray,te=t.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,ie=r.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,ge={pending:!1,data:null,method:null,action:null},oe=[],Se=-1;function ne(c){return{current:c}}function M(c){0>Se||(c.current=oe[Se],oe[Se]=null,Se--)}function R(c,f){Se++,oe[Se]=c.current,c.current=f}var q=ne(null),K=ne(null),ee=ne(null),ce=ne(null);function Q(c,f){switch(R(ee,f),R(K,c),R(q,null),f.nodeType){case 9:case 11:c=(c=f.documentElement)&&(c=c.namespaceURI)?PA(c):0;break;default:if(c=f.tagName,f=f.namespaceURI)f=PA(f),c=LA(f,c);else switch(c){case"svg":c=1;break;case"math":c=2;break;default:c=0}}M(q),R(q,c)}function re(){M(q),M(K),M(ee)}function ye(c){c.memoizedState!==null&&R(ce,c);var f=q.current,p=LA(f,c.type);f!==p&&(R(K,c),R(q,p))}function Ee(c){K.current===c&&(M(q),M(K)),ce.current===c&&(M(ce),sx._currentValue=ge)}var X,Je;function Ce(c){if(X===void 0)try{throw Error()}catch(p){var f=p.stack.trim().match(/\n( *(at )?)/);X=f&&f[1]||"",Je=-1<p.stack.indexOf(`
    at`)?" (<anonymous>)":-1<p.stack.indexOf("@")?"@unknown:0:0":""}return`
`+X+c+Je}var xe=!1;function xt(c,f){if(!c||xe)return"";xe=!0;var p=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var y={DetermineComponentFrameRoot:function(){try{if(f){var ut=function(){throw Error()};if(Object.defineProperty(ut.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(ut,[])}catch(Qe){var Ge=Qe}Reflect.construct(c,[],ut)}else{try{ut.call()}catch(Qe){Ge=Qe}c.call(ut.prototype)}}else{try{throw Error()}catch(Qe){Ge=Qe}(ut=c())&&typeof ut.catch=="function"&&ut.catch(function(){})}}catch(Qe){if(Qe&&Ge&&typeof Qe.stack=="string")return[Qe.stack,Ge.stack]}return[null,null]}};y.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var S=Object.getOwnPropertyDescriptor(y.DetermineComponentFrameRoot,"name");S&&S.configurable&&Object.defineProperty(y.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var F=y.DetermineComponentFrameRoot(),G=F[0],ue=F[1];if(G&&ue){var Ae=G.split(`
`),We=ue.split(`
`);for(S=y=0;y<Ae.length&&!Ae[y].includes("DetermineComponentFrameRoot");)y++;for(;S<We.length&&!We[S].includes("DetermineComponentFrameRoot");)S++;if(y===Ae.length||S===We.length)for(y=Ae.length-1,S=We.length-1;1<=y&&0<=S&&Ae[y]!==We[S];)S--;for(;1<=y&&0<=S;y--,S--)if(Ae[y]!==We[S]){if(y!==1||S!==1)do if(y--,S--,0>S||Ae[y]!==We[S]){var at=`
`+Ae[y].replace(" at new "," at ");return c.displayName&&at.includes("<anonymous>")&&(at=at.replace("<anonymous>",c.displayName)),at}while(1<=y&&0<=S);break}}}finally{xe=!1,Error.prepareStackTrace=p}return(p=c?c.displayName||c.name:"")?Ce(p):""}function et(c,f){switch(c.tag){case 26:case 27:case 5:return Ce(c.type);case 16:return Ce("Lazy");case 13:return c.child!==f&&f!==null?Ce("Suspense Fallback"):Ce("Suspense");case 19:return Ce("SuspenseList");case 0:case 15:return xt(c.type,!1);case 11:return xt(c.type.render,!1);case 1:return xt(c.type,!0);case 31:return Ce("Activity");default:return""}}function Le(c){try{var f="",p=null;do f+=et(c,p),p=c,c=c.return;while(c);return f}catch(y){return`
Error generating stack: `+y.message+`
`+y.stack}}var Be=Object.prototype.hasOwnProperty,ct=e.unstable_scheduleCallback,lt=e.unstable_cancelCallback,Ye=e.unstable_shouldYield,ft=e.unstable_requestPaint,Et=e.unstable_now,zt=e.unstable_getCurrentPriorityLevel,Kt=e.unstable_ImmediatePriority,Ar=e.unstable_UserBlockingPriority,Mt=e.unstable_NormalPriority,Pt=e.unstable_LowPriority,wt=e.unstable_IdlePriority,Ct=e.log,_r=e.unstable_setDisableYieldValue,Zt=null,kt=null;function tr(c){if(typeof Ct=="function"&&_r(c),kt&&typeof kt.setStrictMode=="function")try{kt.setStrictMode(Zt,c)}catch{}}var br=Math.clz32?Math.clz32:fr,sr=Math.log,kr=Math.LN2;function fr(c){return c>>>=0,c===0?32:31-(sr(c)/kr|0)|0}var gn=256,Hn=262144,Wr=4194304;function Yt(c){var f=c&42;if(f!==0)return f;switch(c&-c){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return c&261888;case 262144:case 524288:case 1048576:case 2097152:return c&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return c&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return c}}function Lr(c,f,p){var y=c.pendingLanes;if(y===0)return 0;var S=0,F=c.suspendedLanes,G=c.pingedLanes;c=c.warmLanes;var ue=y&134217727;return ue!==0?(y=ue&~F,y!==0?S=Yt(y):(G&=ue,G!==0?S=Yt(G):p||(p=ue&~c,p!==0&&(S=Yt(p))))):(ue=y&~F,ue!==0?S=Yt(ue):G!==0?S=Yt(G):p||(p=y&~c,p!==0&&(S=Yt(p)))),S===0?0:f!==0&&f!==S&&(f&F)===0&&(F=S&-S,p=f&-f,F>=p||F===32&&(p&4194048)!==0)?f:S}function Ii(c,f){return(c.pendingLanes&~(c.suspendedLanes&~c.pingedLanes)&f)===0}function ts(c,f){switch(c){case 1:case 2:case 4:case 8:case 64:return f+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return f+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function sl(){var c=Wr;return Wr<<=1,(Wr&62914560)===0&&(Wr=4194304),c}function pi(c){for(var f=[],p=0;31>p;p++)f.push(c);return f}function Xt(c,f){c.pendingLanes|=f,f!==268435456&&(c.suspendedLanes=0,c.pingedLanes=0,c.warmLanes=0)}function Fl(c,f,p,y,S,F){var G=c.pendingLanes;c.pendingLanes=p,c.suspendedLanes=0,c.pingedLanes=0,c.warmLanes=0,c.expiredLanes&=p,c.entangledLanes&=p,c.errorRecoveryDisabledLanes&=p,c.shellSuspendCounter=0;var ue=c.entanglements,Ae=c.expirationTimes,We=c.hiddenUpdates;for(p=G&~p;0<p;){var at=31-br(p),ut=1<<at;ue[at]=0,Ae[at]=-1;var Ge=We[at];if(Ge!==null)for(We[at]=null,at=0;at<Ge.length;at++){var Qe=Ge[at];Qe!==null&&(Qe.lane&=-536870913)}p&=~ut}y!==0&&il(c,y,0),F!==0&&S===0&&c.tag!==0&&(c.suspendedLanes|=F&~(G&~f))}function il(c,f,p){c.pendingLanes|=f,c.suspendedLanes&=~f;var y=31-br(f);c.entangledLanes|=f,c.entanglements[y]=c.entanglements[y]|1073741824|p&261930}function ms(c,f){var p=c.entangledLanes|=f;for(c=c.entanglements;p;){var y=31-br(p),S=1<<y;S&f|c[y]&f&&(c[y]|=f),p&=~S}}function Xs(c,f){var p=f&-f;return p=(p&42)!==0?1:Cn(p),(p&(c.suspendedLanes|f))!==0?0:p}function Cn(c){switch(c){case 2:c=1;break;case 8:c=4;break;case 32:c=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:c=128;break;case 268435456:c=134217728;break;default:c=0}return c}function sa(c){return c&=-c,2<c?8<c?(c&134217727)!==0?32:268435456:8:2}function ae(){var c=ie.p;return c!==0?c:(c=window.event,c===void 0?32:ak(c.type))}function Ne(c,f){var p=ie.p;try{return ie.p=c,f()}finally{ie.p=p}}var he=Math.random().toString(36).slice(2),me="__reactFiber$"+he,ve="__reactProps$"+he,je="__reactContainer$"+he,Re="__reactEvents$"+he,Ze="__reactListeners$"+he,Ue="__reactHandles$"+he,ze="__reactResources$"+he,He="__reactMarker$"+he;function pt(c){delete c[me],delete c[ve],delete c[Re],delete c[Ze],delete c[Ue]}function bt(c){var f=c[me];if(f)return f;for(var p=c.parentNode;p;){if(f=p[je]||p[me]){if(p=f.alternate,f.child!==null||p!==null&&p.child!==null)for(c=qA(c);c!==null;){if(p=c[me])return p;c=qA(c)}return f}c=p,p=c.parentNode}return null}function At(c){if(c=c[me]||c[je]){var f=c.tag;if(f===5||f===6||f===13||f===31||f===26||f===27||f===3)return c}return null}function vt(c){var f=c.tag;if(f===5||f===26||f===27||f===6)return c.stateNode;throw Error(n(33))}function _t(c){var f=c[ze];return f||(f=c[ze]={hoistableStyles:new Map,hoistableScripts:new Map}),f}function Lt(c){c[He]=!0}var un=new Set,Tr={};function mn(c,f){Qs(c,f),Qs(c+"Capture",f)}function Qs(c,f){for(Tr[c]=f,c=0;c<f.length;c++)un.add(f[c])}var Dl=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),Pl={},Bi={};function Ic(c){return Be.call(Bi,c)?!0:Be.call(Pl,c)?!1:Dl.test(c)?Bi[c]=!0:(Pl[c]=!0,!1)}function qa(c,f,p){if(Ic(f))if(p===null)c.removeAttribute(f);else{switch(typeof p){case"undefined":case"function":case"symbol":c.removeAttribute(f);return;case"boolean":var y=f.toLowerCase().slice(0,5);if(y!=="data-"&&y!=="aria-"){c.removeAttribute(f);return}}c.setAttribute(f,""+p)}}function Pd(c,f,p){if(p===null)c.removeAttribute(f);else{switch(typeof p){case"undefined":case"function":case"symbol":case"boolean":c.removeAttribute(f);return}c.setAttribute(f,""+p)}}function pn(c,f,p,y){if(y===null)c.removeAttribute(p);else{switch(typeof y){case"undefined":case"function":case"symbol":case"boolean":c.removeAttribute(p);return}c.setAttributeNS(f,p,""+y)}}function Zs(c){switch(typeof c){case"bigint":case"boolean":case"number":case"string":case"undefined":return c;case"object":return c;default:return""}}function Qf(c){var f=c.type;return(c=c.nodeName)&&c.toLowerCase()==="input"&&(f==="checkbox"||f==="radio")}function Xo(c,f,p){var y=Object.getOwnPropertyDescriptor(c.constructor.prototype,f);if(!c.hasOwnProperty(f)&&typeof y<"u"&&typeof y.get=="function"&&typeof y.set=="function"){var S=y.get,F=y.set;return Object.defineProperty(c,f,{configurable:!0,get:function(){return S.call(this)},set:function(G){p=""+G,F.call(this,G)}}),Object.defineProperty(c,f,{enumerable:y.enumerable}),{getValue:function(){return p},setValue:function(G){p=""+G},stopTracking:function(){c._valueTracker=null,delete c[f]}}}}function Qo(c){if(!c._valueTracker){var f=Qf(c)?"checked":"value";c._valueTracker=Xo(c,f,""+c[f])}}function ll(c){if(!c)return!1;var f=c._valueTracker;if(!f)return!0;var p=f.getValue(),y="";return c&&(y=Qf(c)?c.checked?"true":"false":c.value),c=y,c!==p?(f.setValue(c),!0):!1}function co(c){if(c=c||(typeof document<"u"?document:void 0),typeof c>"u")return null;try{return c.activeElement||c.body}catch{return c.body}}var va=/[\n"\\]/g;function Ls(c){return c.replace(va,function(f){return"\\"+f.charCodeAt(0).toString(16)+" "})}function Zf(c,f,p,y,S,F,G,ue){c.name="",G!=null&&typeof G!="function"&&typeof G!="symbol"&&typeof G!="boolean"?c.type=G:c.removeAttribute("type"),f!=null?G==="number"?(f===0&&c.value===""||c.value!=f)&&(c.value=""+Zs(f)):c.value!==""+Zs(f)&&(c.value=""+Zs(f)):G!=="submit"&&G!=="reset"||c.removeAttribute("value"),f!=null?Jf(c,G,Zs(f)):p!=null?Jf(c,G,Zs(p)):y!=null&&c.removeAttribute("value"),S==null&&F!=null&&(c.defaultChecked=!!F),S!=null&&(c.checked=S&&typeof S!="function"&&typeof S!="symbol"),ue!=null&&typeof ue!="function"&&typeof ue!="symbol"&&typeof ue!="boolean"?c.name=""+Zs(ue):c.removeAttribute("name")}function kh(c,f,p,y,S,F,G,ue){if(F!=null&&typeof F!="function"&&typeof F!="symbol"&&typeof F!="boolean"&&(c.type=F),f!=null||p!=null){if(!(F!=="submit"&&F!=="reset"||f!=null)){Qo(c);return}p=p!=null?""+Zs(p):"",f=f!=null?""+Zs(f):p,ue||f===c.value||(c.value=f),c.defaultValue=f}y=y??S,y=typeof y!="function"&&typeof y!="symbol"&&!!y,c.checked=ue?c.checked:!!y,c.defaultChecked=!!y,G!=null&&typeof G!="function"&&typeof G!="symbol"&&typeof G!="boolean"&&(c.name=G),Qo(c)}function Jf(c,f,p){f==="number"&&co(c.ownerDocument)===c||c.defaultValue===""+p||(c.defaultValue=""+p)}function Js(c,f,p,y){if(c=c.options,f){f={};for(var S=0;S<p.length;S++)f["$"+p[S]]=!0;for(p=0;p<c.length;p++)S=f.hasOwnProperty("$"+c[p].value),c[p].selected!==S&&(c[p].selected=S),S&&y&&(c[p].defaultSelected=!0)}else{for(p=""+Zs(p),f=null,S=0;S<c.length;S++){if(c[S].value===p){c[S].selected=!0,y&&(c[S].defaultSelected=!0);return}f!==null||c[S].disabled||(f=c[S])}f!==null&&(f.selected=!0)}}function e0(c,f,p){if(f!=null&&(f=""+Zs(f),f!==c.value&&(c.value=f),p==null)){c.defaultValue!==f&&(c.defaultValue=f);return}c.defaultValue=p!=null?""+Zs(p):""}function t0(c,f,p,y){if(f==null){if(y!=null){if(p!=null)throw Error(n(92));if(de(y)){if(1<y.length)throw Error(n(93));y=y[0]}p=y}p==null&&(p=""),f=p}p=Zs(f),c.defaultValue=p,y=c.textContent,y===p&&y!==""&&y!==null&&(c.value=y),Qo(c)}function Ui(c,f){if(f){var p=c.firstChild;if(p&&p===c.lastChild&&p.nodeType===3){p.nodeValue=f;return}}c.textContent=f}var r0=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function Eh(c,f,p){var y=f.indexOf("--")===0;p==null||typeof p=="boolean"||p===""?y?c.setProperty(f,""):f==="float"?c.cssFloat="":c[f]="":y?c.setProperty(f,p):typeof p!="number"||p===0||r0.has(f)?f==="float"?c.cssFloat=p:c[f]=(""+p).trim():c[f]=p+"px"}function Ch(c,f,p){if(f!=null&&typeof f!="object")throw Error(n(62));if(c=c.style,p!=null){for(var y in p)!p.hasOwnProperty(y)||f!=null&&f.hasOwnProperty(y)||(y.indexOf("--")===0?c.setProperty(y,""):y==="float"?c.cssFloat="":c[y]="");for(var S in f)y=f[S],f.hasOwnProperty(S)&&p[S]!==y&&Eh(c,S,y)}else for(var F in f)f.hasOwnProperty(F)&&Eh(c,F,f[F])}function n0(c){if(c.indexOf("-")===-1)return!1;switch(c){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var a0=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),wu=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function Ll(c){return wu.test(""+c)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":c}function Ml(){}var Zo=null;function Nu(c){return c=c.target||c.srcElement||window,c.correspondingUseElement&&(c=c.correspondingUseElement),c.nodeType===3?c.parentNode:c}var ir=null,Bc=null;function Th(c){var f=At(c);if(f&&(c=f.stateNode)){var p=c[ve]||null;e:switch(c=f.stateNode,f.type){case"input":if(Zf(c,p.value,p.defaultValue,p.defaultValue,p.checked,p.defaultChecked,p.type,p.name),f=p.name,p.type==="radio"&&f!=null){for(p=c;p.parentNode;)p=p.parentNode;for(p=p.querySelectorAll('input[name="'+Ls(""+f)+'"][type="radio"]'),f=0;f<p.length;f++){var y=p[f];if(y!==c&&y.form===c.form){var S=y[ve]||null;if(!S)throw Error(n(90));Zf(y,S.value,S.defaultValue,S.defaultValue,S.checked,S.defaultChecked,S.type,S.name)}}for(f=0;f<p.length;f++)y=p[f],y.form===c.form&&ll(y)}break e;case"textarea":e0(c,p.value,p.defaultValue);break e;case"select":f=p.value,f!=null&&Js(c,!!p.multiple,f,!1)}}}var s0=!1;function Oh(c,f,p){if(s0)return c(f,p);s0=!0;try{var y=c(f);return y}finally{if(s0=!1,(ir!==null||Bc!==null)&&(C1(),ir&&(f=ir,c=Bc,Bc=ir=null,Th(f),c)))for(f=0;f<c.length;f++)Th(c[f])}}function zi(c,f){var p=c.stateNode;if(p===null)return null;var y=p[ve]||null;if(y===null)return null;p=y[f];e:switch(f){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(y=!y.disabled)||(c=c.type,y=!(c==="button"||c==="input"||c==="select"||c==="textarea")),c=!y;break e;default:c=!1}if(c)return null;if(p&&typeof p!="function")throw Error(n(231,f,typeof p));return p}var ps=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),i0=!1;if(ps)try{var _u={};Object.defineProperty(_u,"passive",{get:function(){i0=!0}}),window.addEventListener("test",_u,_u),window.removeEventListener("test",_u,_u)}catch{i0=!1}var qi=null,ju=null,uo=null;function Su(){if(uo)return uo;var c,f=ju,p=f.length,y,S="value"in qi?qi.value:qi.textContent,F=S.length;for(c=0;c<p&&f[c]===S[c];c++);var G=p-c;for(y=1;y<=G&&f[p-y]===S[F-y];y++);return uo=S.slice(c,1<y?1-y:void 0)}function Jo(c){var f=c.keyCode;return"charCode"in c?(c=c.charCode,c===0&&f===13&&(c=13)):c=f,c===10&&(c=13),32<=c||c===13?c:0}function Ld(){return!0}function Md(){return!1}function rs(c){function f(p,y,S,F,G){this._reactName=p,this._targetInst=S,this.type=y,this.nativeEvent=F,this.target=G,this.currentTarget=null;for(var ue in c)c.hasOwnProperty(ue)&&(p=c[ue],this[ue]=p?p(F):F[ue]);return this.isDefaultPrevented=(F.defaultPrevented!=null?F.defaultPrevented:F.returnValue===!1)?Ld:Md,this.isPropagationStopped=Md,this}return m(f.prototype,{preventDefault:function(){this.defaultPrevented=!0;var p=this.nativeEvent;p&&(p.preventDefault?p.preventDefault():typeof p.returnValue!="unknown"&&(p.returnValue=!1),this.isDefaultPrevented=Ld)},stopPropagation:function(){var p=this.nativeEvent;p&&(p.stopPropagation?p.stopPropagation():typeof p.cancelBubble!="unknown"&&(p.cancelBubble=!0),this.isPropagationStopped=Ld)},persist:function(){},isPersistent:Ld}),f}var $i={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(c){return c.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},fo=rs($i),ec=m({},$i,{view:0,detail:0}),Rd=rs(ec),Au,tc,Uc,ku=m({},ec,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:cr,button:0,buttons:0,relatedTarget:function(c){return c.relatedTarget===void 0?c.fromElement===c.srcElement?c.toElement:c.fromElement:c.relatedTarget},movementX:function(c){return"movementX"in c?c.movementX:(c!==Uc&&(Uc&&c.type==="mousemove"?(Au=c.screenX-Uc.screenX,tc=c.screenY-Uc.screenY):tc=Au=0,Uc=c),Au)},movementY:function(c){return"movementY"in c?c.movementY:tc}}),ho=rs(ku),rc=m({},ku,{dataTransfer:0}),Fh=rs(rc),Dh=m({},ec,{relatedTarget:0}),nc=rs(Dh),Ph=m({},$i,{animationName:0,elapsedTime:0,pseudoElement:0}),I=rs(Ph),Z=m({},$i,{clipboardData:function(c){return"clipboardData"in c?c.clipboardData:window.clipboardData}}),_e=rs(Z),ke=m({},$i,{data:0}),De=rs(ke),st={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},ht={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Bt={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Vt(c){var f=this.nativeEvent;return f.getModifierState?f.getModifierState(c):(c=Bt[c])?!!f[c]:!1}function cr(){return Vt}var xr=m({},ec,{key:function(c){if(c.key){var f=st[c.key]||c.key;if(f!=="Unidentified")return f}return c.type==="keypress"?(c=Jo(c),c===13?"Enter":String.fromCharCode(c)):c.type==="keydown"||c.type==="keyup"?ht[c.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:cr,charCode:function(c){return c.type==="keypress"?Jo(c):0},keyCode:function(c){return c.type==="keydown"||c.type==="keyup"?c.keyCode:0},which:function(c){return c.type==="keypress"?Jo(c):c.type==="keydown"||c.type==="keyup"?c.keyCode:0}}),Jr=rs(xr),Gn=m({},ku,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),ya=rs(Gn),Tn=m({},ec,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:cr}),$a=rs(Tn),Ea=m({},$i,{propertyName:0,elapsedTime:0,pseudoElement:0}),xs=rs(Ea),ol=m({},ku,{deltaX:function(c){return"deltaX"in c?c.deltaX:"wheelDeltaX"in c?-c.wheelDeltaX:0},deltaY:function(c){return"deltaY"in c?c.deltaY:"wheelDeltaY"in c?-c.wheelDeltaY:"wheelDelta"in c?-c.wheelDelta:0},deltaZ:0,deltaMode:0}),xi=rs(ol),Lh=m({},$i,{newState:0,oldState:0}),Id=rs(Lh),Eu=[9,13,27,32],mo=ps&&"CompositionEvent"in window,Rl=null;ps&&"documentMode"in document&&(Rl=document.documentMode);var Cu=ps&&"TextEvent"in window&&!Rl,zc=ps&&(!mo||Rl&&8<Rl&&11>=Rl),gs=" ",qc=!1;function $c(c,f){switch(c){case"keyup":return Eu.indexOf(f.keyCode)!==-1;case"keydown":return f.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Bd(c){return c=c.detail,typeof c=="object"&&"data"in c?c.data:null}var po=!1;function ia(c,f){switch(c){case"compositionend":return Bd(f);case"keypress":return f.which!==32?null:(qc=!0,gs);case"textInput":return c=f.data,c===gs&&qc?null:c;default:return null}}function ac(c,f){if(po)return c==="compositionend"||!mo&&$c(c,f)?(c=Su(),uo=ju=qi=null,po=!1,c):null;switch(c){case"paste":return null;case"keypress":if(!(f.ctrlKey||f.altKey||f.metaKey)||f.ctrlKey&&f.altKey){if(f.char&&1<f.char.length)return f.char;if(f.which)return String.fromCharCode(f.which)}return null;case"compositionend":return zc&&f.locale!=="ko"?null:f.data;default:return null}}var Ud={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function l0(c){var f=c&&c.nodeName&&c.nodeName.toLowerCase();return f==="input"?!!Ud[c.type]:f==="textarea"}function Hi(c,f,p,y){ir?Bc?Bc.push(y):Bc=[y]:ir=y,f=M1(f,"onChange"),0<f.length&&(p=new fo("onChange","change",null,p,y),c.push({event:p,listeners:f}))}var Il=null,sc=null;function o0(c){EA(c,0)}function Bl(c){var f=vt(c);if(ll(f))return c}function Hc(c,f){if(c==="change")return f}var gi=!1;if(ps){var ei;if(ps){var xo="oninput"in document;if(!xo){var go=document.createElement("div");go.setAttribute("oninput","return;"),xo=typeof go.oninput=="function"}ei=xo}else ei=!1;gi=ei&&(!document.documentMode||9<document.documentMode)}function ic(){Il&&(Il.detachEvent("onpropertychange",zd),sc=Il=null)}function zd(c){if(c.propertyName==="value"&&Bl(sc)){var f=[];Hi(f,sc,c,Nu(c)),Oh(o0,f)}}function qd(c,f,p){c==="focusin"?(ic(),Il=f,sc=p,Il.attachEvent("onpropertychange",zd)):c==="focusout"&&ic()}function ba(c){if(c==="selectionchange"||c==="keyup"||c==="keydown")return Bl(sc)}function Mh(c,f){if(c==="click")return Bl(f)}function vo(c,f){if(c==="input"||c==="change")return Bl(f)}function yo(c,f){return c===f&&(c!==0||1/c===1/f)||c!==c&&f!==f}var vs=typeof Object.is=="function"?Object.is:yo;function lc(c,f){if(vs(c,f))return!0;if(typeof c!="object"||c===null||typeof f!="object"||f===null)return!1;var p=Object.keys(c),y=Object.keys(f);if(p.length!==y.length)return!1;for(y=0;y<p.length;y++){var S=p[y];if(!Be.call(f,S)||!vs(c[S],f[S]))return!1}return!0}function $d(c){for(;c&&c.firstChild;)c=c.firstChild;return c}function Hd(c,f){var p=$d(c);c=0;for(var y;p;){if(p.nodeType===3){if(y=c+p.textContent.length,c<=f&&y>=f)return{node:p,offset:f-c};c=y}e:{for(;p;){if(p.nextSibling){p=p.nextSibling;break e}p=p.parentNode}p=void 0}p=$d(p)}}function oc(c,f){return c&&f?c===f?!0:c&&c.nodeType===3?!1:f&&f.nodeType===3?oc(c,f.parentNode):"contains"in c?c.contains(f):c.compareDocumentPosition?!!(c.compareDocumentPosition(f)&16):!1:!1}function cc(c){c=c!=null&&c.ownerDocument!=null&&c.ownerDocument.defaultView!=null?c.ownerDocument.defaultView:window;for(var f=co(c.document);f instanceof c.HTMLIFrameElement;){try{var p=typeof f.contentWindow.location.href=="string"}catch{p=!1}if(p)c=f.contentWindow;else break;f=co(c.document)}return f}function bo(c){var f=c&&c.nodeName&&c.nodeName.toLowerCase();return f&&(f==="input"&&(c.type==="text"||c.type==="search"||c.type==="tel"||c.type==="url"||c.type==="password")||f==="textarea"||c.contentEditable==="true")}var Tu=ps&&"documentMode"in document&&11>=document.documentMode,Vi=null,uc=null,Ms=null,cl=!1;function en(c,f,p){var y=p.window===p?p.document:p.nodeType===9?p:p.ownerDocument;cl||Vi==null||Vi!==co(y)||(y=Vi,"selectionStart"in y&&bo(y)?y={start:y.selectionStart,end:y.selectionEnd}:(y=(y.ownerDocument&&y.ownerDocument.defaultView||window).getSelection(),y={anchorNode:y.anchorNode,anchorOffset:y.anchorOffset,focusNode:y.focusNode,focusOffset:y.focusOffset}),Ms&&lc(Ms,y)||(Ms=y,y=M1(uc,"onSelect"),0<y.length&&(f=new fo("onSelect","select",null,f,p),c.push({event:f,listeners:y}),f.target=Vi)))}function Hr(c,f){var p={};return p[c.toLowerCase()]=f.toLowerCase(),p["Webkit"+c]="webkit"+f,p["Moz"+c]="moz"+f,p}var On={animationend:Hr("Animation","AnimationEnd"),animationiteration:Hr("Animation","AnimationIteration"),animationstart:Hr("Animation","AnimationStart"),transitionrun:Hr("Transition","TransitionRun"),transitionstart:Hr("Transition","TransitionStart"),transitioncancel:Hr("Transition","TransitionCancel"),transitionend:Hr("Transition","TransitionEnd")},wa={},wo={};ps&&(wo=document.createElement("div").style,"AnimationEvent"in window||(delete On.animationend.animation,delete On.animationiteration.animation,delete On.animationstart.animation),"TransitionEvent"in window||delete On.transitionend.transition);function Ul(c){if(wa[c])return wa[c];if(!On[c])return c;var f=On[c],p;for(p in f)if(f.hasOwnProperty(p)&&p in wo)return wa[c]=f[p];return c}var Ou=Ul("animationend"),c0=Ul("animationiteration"),Ep=Ul("animationstart"),s1=Ul("transitionrun"),i1=Ul("transitionstart"),l1=Ul("transitioncancel"),Cp=Ul("transitionend"),Tp=new Map,Fu="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");Fu.push("scrollEnd");function ul(c,f){Tp.set(c,f),mn(f,[c])}var u0=typeof reportError=="function"?reportError:function(c){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var f=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof c=="object"&&c!==null&&typeof c.message=="string"?String(c.message):String(c),error:c});if(!window.dispatchEvent(f))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",c);return}console.error(c)},Wi=[],Du=0,Rh=0;function d0(){for(var c=Du,f=Rh=Du=0;f<c;){var p=Wi[f];Wi[f++]=null;var y=Wi[f];Wi[f++]=null;var S=Wi[f];Wi[f++]=null;var F=Wi[f];if(Wi[f++]=null,y!==null&&S!==null){var G=y.pending;G===null?S.next=S:(S.next=G.next,G.next=S),y.pending=S}F!==0&&h0(p,S,F)}}function f0(c,f,p,y){Wi[Du++]=c,Wi[Du++]=f,Wi[Du++]=p,Wi[Du++]=y,Rh|=y,c.lanes|=y,c=c.alternate,c!==null&&(c.lanes|=y)}function Ih(c,f,p,y){return f0(c,f,p,y),Rs(c)}function dc(c,f){return f0(c,null,null,f),Rs(c)}function h0(c,f,p){c.lanes|=p;var y=c.alternate;y!==null&&(y.lanes|=p);for(var S=!1,F=c.return;F!==null;)F.childLanes|=p,y=F.alternate,y!==null&&(y.childLanes|=p),F.tag===22&&(c=F.stateNode,c===null||c._visibility&1||(S=!0)),c=F,F=F.return;return c.tag===3?(F=c.stateNode,S&&f!==null&&(S=31-br(p),c=F.hiddenUpdates,y=c[S],y===null?c[S]=[f]:y.push(f),f.lane=p|536870912),F):null}function Rs(c){if(50<Zp)throw Zp=0,Gb=null,Error(n(185));for(var f=c.return;f!==null;)c=f,f=c.return;return c.tag===3?c.stateNode:null}var ys={};function Bh(c,f,p,y){this.tag=c,this.key=p,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=f,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=y,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Is(c,f,p,y){return new Bh(c,f,p,y)}function Uh(c){return c=c.prototype,!(!c||!c.isReactComponent)}function dl(c,f){var p=c.alternate;return p===null?(p=Is(c.tag,f,c.key,c.mode),p.elementType=c.elementType,p.type=c.type,p.stateNode=c.stateNode,p.alternate=c,c.alternate=p):(p.pendingProps=f,p.type=c.type,p.flags=0,p.subtreeFlags=0,p.deletions=null),p.flags=c.flags&65011712,p.childLanes=c.childLanes,p.lanes=c.lanes,p.child=c.child,p.memoizedProps=c.memoizedProps,p.memoizedState=c.memoizedState,p.updateQueue=c.updateQueue,f=c.dependencies,p.dependencies=f===null?null:{lanes:f.lanes,firstContext:f.firstContext},p.sibling=c.sibling,p.index=c.index,p.ref=c.ref,p.refCleanup=c.refCleanup,p}function m0(c,f){c.flags&=65011714;var p=c.alternate;return p===null?(c.childLanes=0,c.lanes=f,c.child=null,c.subtreeFlags=0,c.memoizedProps=null,c.memoizedState=null,c.updateQueue=null,c.dependencies=null,c.stateNode=null):(c.childLanes=p.childLanes,c.lanes=p.lanes,c.child=p.child,c.subtreeFlags=0,c.deletions=null,c.memoizedProps=p.memoizedProps,c.memoizedState=p.memoizedState,c.updateQueue=p.updateQueue,c.type=p.type,f=p.dependencies,c.dependencies=f===null?null:{lanes:f.lanes,firstContext:f.firstContext}),c}function Vd(c,f,p,y,S,F){var G=0;if(y=c,typeof c=="function")Uh(c)&&(G=1);else if(typeof c=="string")G=Az(c,p,q.current)?26:c==="html"||c==="head"||c==="body"?27:5;else e:switch(c){case B:return c=Is(31,p,f,S),c.elementType=B,c.lanes=F,c;case v:return Vc(p.children,S,F,f);case w:G=8,S|=24;break;case N:return c=Is(12,p,f,S|2),c.elementType=N,c.lanes=F,c;case O:return c=Is(13,p,f,S),c.elementType=O,c.lanes=F,c;case D:return c=Is(19,p,f,S),c.elementType=D,c.lanes=F,c;default:if(typeof c=="object"&&c!==null)switch(c.$$typeof){case j:G=10;break e;case E:G=9;break e;case T:G=11;break e;case C:G=14;break e;case P:G=16,y=null;break e}G=29,p=Error(n(130,c===null?"null":typeof c,"")),y=null}return f=Is(G,p,f,S),f.elementType=c,f.type=y,f.lanes=F,f}function Vc(c,f,p,y){return c=Is(7,c,y,f),c.lanes=p,c}function p0(c,f,p){return c=Is(6,c,null,f),c.lanes=p,c}function zh(c){var f=Is(18,null,null,0);return f.stateNode=c,f}function Wd(c,f,p){return f=Is(4,c.children!==null?c.children:[],c.key,f),f.lanes=p,f.stateNode={containerInfo:c.containerInfo,pendingChildren:null,implementation:c.implementation},f}var qh=new WeakMap;function fl(c,f){if(typeof c=="object"&&c!==null){var p=qh.get(c);return p!==void 0?p:(f={value:c,source:f,stack:Le(f)},qh.set(c,f),f)}return{value:c,source:f,stack:Le(f)}}var Kd=[],Pu=0,$h=null,x0=0,hl=[],ml=0,Wc=null,pl=1,xl="";function Ki(c,f){Kd[Pu++]=x0,Kd[Pu++]=$h,$h=c,x0=f}function o1(c,f,p){hl[ml++]=pl,hl[ml++]=xl,hl[ml++]=Wc,Wc=c;var y=pl;c=xl;var S=32-br(y)-1;y&=~(1<<S),p+=1;var F=32-br(f)+S;if(30<F){var G=S-S%5;F=(y&(1<<G)-1).toString(32),y>>=G,S-=G,pl=1<<32-br(f)+S|p<<S|y,xl=F+c}else pl=1<<F|p<<S|y,xl=c}function Op(c){c.return!==null&&(Ki(c,1),o1(c,1,0))}function Hh(c){for(;c===$h;)$h=Kd[--Pu],Kd[Pu]=null,x0=Kd[--Pu],Kd[Pu]=null;for(;c===Wc;)Wc=hl[--ml],hl[ml]=null,xl=hl[--ml],hl[ml]=null,pl=hl[--ml],hl[ml]=null}function c1(c,f){hl[ml++]=pl,hl[ml++]=xl,hl[ml++]=Wc,pl=f.id,xl=f.overflow,Wc=c}var bs=null,In=null,Mr=!1,ti=null,la=!1,zl=Error(n(519));function Kc(c){var f=Error(n(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw Gd(fl(f,c)),zl}function Fp(c){var f=c.stateNode,p=c.type,y=c.memoizedProps;switch(f[me]=c,f[ve]=y,p){case"dialog":Ir("cancel",f),Ir("close",f);break;case"iframe":case"object":case"embed":Ir("load",f);break;case"video":case"audio":for(p=0;p<ex.length;p++)Ir(ex[p],f);break;case"source":Ir("error",f);break;case"img":case"image":case"link":Ir("error",f),Ir("load",f);break;case"details":Ir("toggle",f);break;case"input":Ir("invalid",f),kh(f,y.value,y.defaultValue,y.checked,y.defaultChecked,y.type,y.name,!0);break;case"select":Ir("invalid",f);break;case"textarea":Ir("invalid",f),t0(f,y.value,y.defaultValue,y.children)}p=y.children,typeof p!="string"&&typeof p!="number"&&typeof p!="bigint"||f.textContent===""+p||y.suppressHydrationWarning===!0||FA(f.textContent,p)?(y.popover!=null&&(Ir("beforetoggle",f),Ir("toggle",f)),y.onScroll!=null&&Ir("scroll",f),y.onScrollEnd!=null&&Ir("scrollend",f),y.onClick!=null&&(f.onclick=Ml),f=!0):f=!1,f||Kc(c,!0)}function fc(c){for(bs=c.return;bs;)switch(bs.tag){case 5:case 31:case 13:la=!1;return;case 27:case 3:la=!0;return;default:bs=bs.return}}function ws(c){if(c!==bs)return!1;if(!Mr)return fc(c),Mr=!0,!1;var f=c.tag,p;if((p=f!==3&&f!==27)&&((p=f===5)&&(p=c.type,p=!(p!=="form"&&p!=="button")||cw(c.type,c.memoizedProps)),p=!p),p&&In&&Kc(c),fc(c),f===13){if(c=c.memoizedState,c=c!==null?c.dehydrated:null,!c)throw Error(n(317));In=zA(c)}else if(f===31){if(c=c.memoizedState,c=c!==null?c.dehydrated:null,!c)throw Error(n(317));In=zA(c)}else f===27?(f=In,cf(c.type)?(c=mw,mw=null,In=c):In=f):In=bs?So(c.stateNode.nextSibling):null;return!0}function Lu(){In=bs=null,Mr=!1}function Dp(){var c=ti;return c!==null&&(Nl===null?Nl=c:Nl.push.apply(Nl,c),ti=null),c}function Gd(c){ti===null?ti=[c]:ti.push(c)}var Vh=ne(null),Gc=null,No=null;function Yc(c,f,p){R(Vh,f._currentValue),f._currentValue=p}function gl(c){c._currentValue=Vh.current,M(Vh)}function Yd(c,f,p){for(;c!==null;){var y=c.alternate;if((c.childLanes&f)!==f?(c.childLanes|=f,y!==null&&(y.childLanes|=f)):y!==null&&(y.childLanes&f)!==f&&(y.childLanes|=f),c===p)break;c=c.return}}function Mu(c,f,p,y){var S=c.child;for(S!==null&&(S.return=c);S!==null;){var F=S.dependencies;if(F!==null){var G=S.child;F=F.firstContext;e:for(;F!==null;){var ue=F;F=S;for(var Ae=0;Ae<f.length;Ae++)if(ue.context===f[Ae]){F.lanes|=p,ue=F.alternate,ue!==null&&(ue.lanes|=p),Yd(F.return,p,c),y||(G=null);break e}F=ue.next}}else if(S.tag===18){if(G=S.return,G===null)throw Error(n(341));G.lanes|=p,F=G.alternate,F!==null&&(F.lanes|=p),Yd(G,p,c),G=null}else G=S.child;if(G!==null)G.return=S;else for(G=S;G!==null;){if(G===c){G=null;break}if(S=G.sibling,S!==null){S.return=G.return,G=S;break}G=G.return}S=G}}function Xc(c,f,p,y){c=null;for(var S=f,F=!1;S!==null;){if(!F){if((S.flags&524288)!==0)F=!0;else if((S.flags&262144)!==0)break}if(S.tag===10){var G=S.alternate;if(G===null)throw Error(n(387));if(G=G.memoizedProps,G!==null){var ue=S.type;vs(S.pendingProps.value,G.value)||(c!==null?c.push(ue):c=[ue])}}else if(S===ce.current){if(G=S.alternate,G===null)throw Error(n(387));G.memoizedState.memoizedState!==S.memoizedState.memoizedState&&(c!==null?c.push(sx):c=[sx])}S=S.return}c!==null&&Mu(f,c,p,y),f.flags|=262144}function Wh(c){for(c=c.firstContext;c!==null;){if(!vs(c.context._currentValue,c.memoizedValue))return!0;c=c.next}return!1}function Qc(c){Gc=c,No=null,c=c.dependencies,c!==null&&(c.firstContext=null)}function Ns(c){return u1(Gc,c)}function Kh(c,f){return Gc===null&&Qc(c),u1(c,f)}function u1(c,f){var p=f._currentValue;if(f={context:f,memoizedValue:p,next:null},No===null){if(c===null)throw Error(n(308));No=f,c.dependencies={lanes:0,firstContext:f},c.flags|=524288}else No=No.next=f;return p}var hb=typeof AbortController<"u"?AbortController:function(){var c=[],f=this.signal={aborted:!1,addEventListener:function(p,y){c.push(y)}};this.abort=function(){f.aborted=!0,c.forEach(function(p){return p()})}},mb=e.unstable_scheduleCallback,pb=e.unstable_NormalPriority,Na={$$typeof:j,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function Xd(){return{controller:new hb,data:new Map,refCount:0}}function g0(c){c.refCount--,c.refCount===0&&mb(pb,function(){c.controller.abort()})}var v0=null,Gh=0,_=0,A=null;function z(c,f){if(v0===null){var p=v0=[];Gh=0,_=ew(),A={status:"pending",value:void 0,then:function(y){p.push(y)}}}return Gh++,f.then(W,W),f}function W(){if(--Gh===0&&v0!==null){A!==null&&(A.status="fulfilled");var c=v0;v0=null,_=0,A=null;for(var f=0;f<c.length;f++)(0,c[f])()}}function J(c,f){var p=[],y={status:"pending",value:null,reason:null,then:function(S){p.push(S)}};return c.then(function(){y.status="fulfilled",y.value=f;for(var S=0;S<p.length;S++)(0,p[S])(f)},function(S){for(y.status="rejected",y.reason=S,S=0;S<p.length;S++)(0,p[S])(void 0)}),y}var se=te.S;te.S=function(c,f){rA=Et(),typeof f=="object"&&f!==null&&typeof f.then=="function"&&z(c,f),se!==null&&se(c,f)};var le=ne(null);function fe(){var c=le.current;return c!==null?c:Un.pooledCache}function pe(c,f){f===null?R(le,le.current):R(le,f.pool)}function we(){var c=fe();return c===null?null:{parent:Na._currentValue,pool:c}}var Te=Error(n(460)),qe=Error(n(474)),be=Error(n(542)),Fe={then:function(){}};function Me(c){return c=c.status,c==="fulfilled"||c==="rejected"}function rt(c,f,p){switch(p=c[p],p===void 0?c.push(f):p!==f&&(f.then(Ml,Ml),f=p),f.status){case"fulfilled":return f.value;case"rejected":throw c=f.reason,gt(c),c;default:if(typeof f.status=="string")f.then(Ml,Ml);else{if(c=Un,c!==null&&100<c.shellSuspendCounter)throw Error(n(482));c=f,c.status="pending",c.then(function(y){if(f.status==="pending"){var S=f;S.status="fulfilled",S.value=y}},function(y){if(f.status==="pending"){var S=f;S.status="rejected",S.reason=y}})}switch(f.status){case"fulfilled":return f.value;case"rejected":throw c=f.reason,gt(c),c}throw tt=f,Te}}function Ie(c){try{var f=c._init;return f(c._payload)}catch(p){throw p!==null&&typeof p=="object"&&typeof p.then=="function"?(tt=p,Te):p}}var tt=null;function it(){if(tt===null)throw Error(n(459));var c=tt;return tt=null,c}function gt(c){if(c===Te||c===be)throw Error(n(483))}var dt=null,qt=0;function Ft(c){var f=qt;return qt+=1,dt===null&&(dt=[]),rt(dt,c,f)}function mr(c,f){f=f.props.ref,c.ref=f!==void 0?f:null}function Rt(c,f){throw f.$$typeof===g?Error(n(525)):(c=Object.prototype.toString.call(f),Error(n(31,c==="[object Object]"?"object with keys {"+Object.keys(f).join(", ")+"}":c)))}function Fr(c){function f(Pe,Oe){if(c){var Ve=Pe.deletions;Ve===null?(Pe.deletions=[Oe],Pe.flags|=16):Ve.push(Oe)}}function p(Pe,Oe){if(!c)return null;for(;Oe!==null;)f(Pe,Oe),Oe=Oe.sibling;return null}function y(Pe){for(var Oe=new Map;Pe!==null;)Pe.key!==null?Oe.set(Pe.key,Pe):Oe.set(Pe.index,Pe),Pe=Pe.sibling;return Oe}function S(Pe,Oe){return Pe=dl(Pe,Oe),Pe.index=0,Pe.sibling=null,Pe}function F(Pe,Oe,Ve){return Pe.index=Ve,c?(Ve=Pe.alternate,Ve!==null?(Ve=Ve.index,Ve<Oe?(Pe.flags|=67108866,Oe):Ve):(Pe.flags|=67108866,Oe)):(Pe.flags|=1048576,Oe)}function G(Pe){return c&&Pe.alternate===null&&(Pe.flags|=67108866),Pe}function ue(Pe,Oe,Ve,ot){return Oe===null||Oe.tag!==6?(Oe=p0(Ve,Pe.mode,ot),Oe.return=Pe,Oe):(Oe=S(Oe,Ve),Oe.return=Pe,Oe)}function Ae(Pe,Oe,Ve,ot){var nr=Ve.type;return nr===v?at(Pe,Oe,Ve.props.children,ot,Ve.key):Oe!==null&&(Oe.elementType===nr||typeof nr=="object"&&nr!==null&&nr.$$typeof===P&&Ie(nr)===Oe.type)?(Oe=S(Oe,Ve.props),mr(Oe,Ve),Oe.return=Pe,Oe):(Oe=Vd(Ve.type,Ve.key,Ve.props,null,Pe.mode,ot),mr(Oe,Ve),Oe.return=Pe,Oe)}function We(Pe,Oe,Ve,ot){return Oe===null||Oe.tag!==4||Oe.stateNode.containerInfo!==Ve.containerInfo||Oe.stateNode.implementation!==Ve.implementation?(Oe=Wd(Ve,Pe.mode,ot),Oe.return=Pe,Oe):(Oe=S(Oe,Ve.children||[]),Oe.return=Pe,Oe)}function at(Pe,Oe,Ve,ot,nr){return Oe===null||Oe.tag!==7?(Oe=Vc(Ve,Pe.mode,ot,nr),Oe.return=Pe,Oe):(Oe=S(Oe,Ve),Oe.return=Pe,Oe)}function ut(Pe,Oe,Ve){if(typeof Oe=="string"&&Oe!==""||typeof Oe=="number"||typeof Oe=="bigint")return Oe=p0(""+Oe,Pe.mode,Ve),Oe.return=Pe,Oe;if(typeof Oe=="object"&&Oe!==null){switch(Oe.$$typeof){case x:return Ve=Vd(Oe.type,Oe.key,Oe.props,null,Pe.mode,Ve),mr(Ve,Oe),Ve.return=Pe,Ve;case b:return Oe=Wd(Oe,Pe.mode,Ve),Oe.return=Pe,Oe;case P:return Oe=Ie(Oe),ut(Pe,Oe,Ve)}if(de(Oe)||U(Oe))return Oe=Vc(Oe,Pe.mode,Ve,null),Oe.return=Pe,Oe;if(typeof Oe.then=="function")return ut(Pe,Ft(Oe),Ve);if(Oe.$$typeof===j)return ut(Pe,Kh(Pe,Oe),Ve);Rt(Pe,Oe)}return null}function Ge(Pe,Oe,Ve,ot){var nr=Oe!==null?Oe.key:null;if(typeof Ve=="string"&&Ve!==""||typeof Ve=="number"||typeof Ve=="bigint")return nr!==null?null:ue(Pe,Oe,""+Ve,ot);if(typeof Ve=="object"&&Ve!==null){switch(Ve.$$typeof){case x:return Ve.key===nr?Ae(Pe,Oe,Ve,ot):null;case b:return Ve.key===nr?We(Pe,Oe,Ve,ot):null;case P:return Ve=Ie(Ve),Ge(Pe,Oe,Ve,ot)}if(de(Ve)||U(Ve))return nr!==null?null:at(Pe,Oe,Ve,ot,null);if(typeof Ve.then=="function")return Ge(Pe,Oe,Ft(Ve),ot);if(Ve.$$typeof===j)return Ge(Pe,Oe,Kh(Pe,Ve),ot);Rt(Pe,Ve)}return null}function Qe(Pe,Oe,Ve,ot,nr){if(typeof ot=="string"&&ot!==""||typeof ot=="number"||typeof ot=="bigint")return Pe=Pe.get(Ve)||null,ue(Oe,Pe,""+ot,nr);if(typeof ot=="object"&&ot!==null){switch(ot.$$typeof){case x:return Pe=Pe.get(ot.key===null?Ve:ot.key)||null,Ae(Oe,Pe,ot,nr);case b:return Pe=Pe.get(ot.key===null?Ve:ot.key)||null,We(Oe,Pe,ot,nr);case P:return ot=Ie(ot),Qe(Pe,Oe,Ve,ot,nr)}if(de(ot)||U(ot))return Pe=Pe.get(Ve)||null,at(Oe,Pe,ot,nr,null);if(typeof ot.then=="function")return Qe(Pe,Oe,Ve,Ft(ot),nr);if(ot.$$typeof===j)return Qe(Pe,Oe,Ve,Kh(Oe,ot),nr);Rt(Oe,ot)}return null}function Ut(Pe,Oe,Ve,ot){for(var nr=null,an=null,Wt=Oe,jr=Oe=0,Ur=null;Wt!==null&&jr<Ve.length;jr++){Wt.index>jr?(Ur=Wt,Wt=null):Ur=Wt.sibling;var sn=Ge(Pe,Wt,Ve[jr],ot);if(sn===null){Wt===null&&(Wt=Ur);break}c&&Wt&&sn.alternate===null&&f(Pe,Wt),Oe=F(sn,Oe,jr),an===null?nr=sn:an.sibling=sn,an=sn,Wt=Ur}if(jr===Ve.length)return p(Pe,Wt),Mr&&Ki(Pe,jr),nr;if(Wt===null){for(;jr<Ve.length;jr++)Wt=ut(Pe,Ve[jr],ot),Wt!==null&&(Oe=F(Wt,Oe,jr),an===null?nr=Wt:an.sibling=Wt,an=Wt);return Mr&&Ki(Pe,jr),nr}for(Wt=y(Wt);jr<Ve.length;jr++)Ur=Qe(Wt,Pe,jr,Ve[jr],ot),Ur!==null&&(c&&Ur.alternate!==null&&Wt.delete(Ur.key===null?jr:Ur.key),Oe=F(Ur,Oe,jr),an===null?nr=Ur:an.sibling=Ur,an=Ur);return c&&Wt.forEach(function(mf){return f(Pe,mf)}),Mr&&Ki(Pe,jr),nr}function or(Pe,Oe,Ve,ot){if(Ve==null)throw Error(n(151));for(var nr=null,an=null,Wt=Oe,jr=Oe=0,Ur=null,sn=Ve.next();Wt!==null&&!sn.done;jr++,sn=Ve.next()){Wt.index>jr?(Ur=Wt,Wt=null):Ur=Wt.sibling;var mf=Ge(Pe,Wt,sn.value,ot);if(mf===null){Wt===null&&(Wt=Ur);break}c&&Wt&&mf.alternate===null&&f(Pe,Wt),Oe=F(mf,Oe,jr),an===null?nr=mf:an.sibling=mf,an=mf,Wt=Ur}if(sn.done)return p(Pe,Wt),Mr&&Ki(Pe,jr),nr;if(Wt===null){for(;!sn.done;jr++,sn=Ve.next())sn=ut(Pe,sn.value,ot),sn!==null&&(Oe=F(sn,Oe,jr),an===null?nr=sn:an.sibling=sn,an=sn);return Mr&&Ki(Pe,jr),nr}for(Wt=y(Wt);!sn.done;jr++,sn=Ve.next())sn=Qe(Wt,Pe,jr,sn.value,ot),sn!==null&&(c&&sn.alternate!==null&&Wt.delete(sn.key===null?jr:sn.key),Oe=F(sn,Oe,jr),an===null?nr=sn:an.sibling=sn,an=sn);return c&&Wt.forEach(function(Rz){return f(Pe,Rz)}),Mr&&Ki(Pe,jr),nr}function Ln(Pe,Oe,Ve,ot){if(typeof Ve=="object"&&Ve!==null&&Ve.type===v&&Ve.key===null&&(Ve=Ve.props.children),typeof Ve=="object"&&Ve!==null){switch(Ve.$$typeof){case x:e:{for(var nr=Ve.key;Oe!==null;){if(Oe.key===nr){if(nr=Ve.type,nr===v){if(Oe.tag===7){p(Pe,Oe.sibling),ot=S(Oe,Ve.props.children),ot.return=Pe,Pe=ot;break e}}else if(Oe.elementType===nr||typeof nr=="object"&&nr!==null&&nr.$$typeof===P&&Ie(nr)===Oe.type){p(Pe,Oe.sibling),ot=S(Oe,Ve.props),mr(ot,Ve),ot.return=Pe,Pe=ot;break e}p(Pe,Oe);break}else f(Pe,Oe);Oe=Oe.sibling}Ve.type===v?(ot=Vc(Ve.props.children,Pe.mode,ot,Ve.key),ot.return=Pe,Pe=ot):(ot=Vd(Ve.type,Ve.key,Ve.props,null,Pe.mode,ot),mr(ot,Ve),ot.return=Pe,Pe=ot)}return G(Pe);case b:e:{for(nr=Ve.key;Oe!==null;){if(Oe.key===nr)if(Oe.tag===4&&Oe.stateNode.containerInfo===Ve.containerInfo&&Oe.stateNode.implementation===Ve.implementation){p(Pe,Oe.sibling),ot=S(Oe,Ve.children||[]),ot.return=Pe,Pe=ot;break e}else{p(Pe,Oe);break}else f(Pe,Oe);Oe=Oe.sibling}ot=Wd(Ve,Pe.mode,ot),ot.return=Pe,Pe=ot}return G(Pe);case P:return Ve=Ie(Ve),Ln(Pe,Oe,Ve,ot)}if(de(Ve))return Ut(Pe,Oe,Ve,ot);if(U(Ve)){if(nr=U(Ve),typeof nr!="function")throw Error(n(150));return Ve=nr.call(Ve),or(Pe,Oe,Ve,ot)}if(typeof Ve.then=="function")return Ln(Pe,Oe,Ft(Ve),ot);if(Ve.$$typeof===j)return Ln(Pe,Oe,Kh(Pe,Ve),ot);Rt(Pe,Ve)}return typeof Ve=="string"&&Ve!==""||typeof Ve=="number"||typeof Ve=="bigint"?(Ve=""+Ve,Oe!==null&&Oe.tag===6?(p(Pe,Oe.sibling),ot=S(Oe,Ve),ot.return=Pe,Pe=ot):(p(Pe,Oe),ot=p0(Ve,Pe.mode,ot),ot.return=Pe,Pe=ot),G(Pe)):p(Pe,Oe)}return function(Pe,Oe,Ve,ot){try{qt=0;var nr=Ln(Pe,Oe,Ve,ot);return dt=null,nr}catch(Wt){if(Wt===Te||Wt===be)throw Wt;var an=Is(29,Wt,null,Pe.mode);return an.lanes=ot,an.return=Pe,an}finally{}}}var Bn=Fr(!0),gr=Fr(!1),Dt=!1;function St(c){c.updateQueue={baseState:c.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function Yn(c,f){c=c.updateQueue,f.updateQueue===c&&(f.updateQueue={baseState:c.baseState,firstBaseUpdate:c.firstBaseUpdate,lastBaseUpdate:c.lastBaseUpdate,shared:c.shared,callbacks:null})}function lr(c){return{lane:c,tag:0,payload:null,callback:null,next:null}}function wr(c,f,p){var y=c.updateQueue;if(y===null)return null;if(y=y.shared,(hn&2)!==0){var S=y.pending;return S===null?f.next=f:(f.next=S.next,S.next=f),y.pending=f,f=Rs(c),h0(c,null,p),f}return f0(c,y,f,p),Rs(c)}function dn(c,f,p){if(f=f.updateQueue,f!==null&&(f=f.shared,(p&4194048)!==0)){var y=f.lanes;y&=c.pendingLanes,p|=y,f.lanes=p,ms(c,p)}}function Ha(c,f){var p=c.updateQueue,y=c.alternate;if(y!==null&&(y=y.updateQueue,p===y)){var S=null,F=null;if(p=p.firstBaseUpdate,p!==null){do{var G={lane:p.lane,tag:p.tag,payload:p.payload,callback:null,next:null};F===null?S=F=G:F=F.next=G,p=p.next}while(p!==null);F===null?S=F=f:F=F.next=f}else S=F=f;p={baseState:y.baseState,firstBaseUpdate:S,lastBaseUpdate:F,shared:y.shared,callbacks:y.callbacks},c.updateQueue=p;return}c=p.lastBaseUpdate,c===null?p.firstBaseUpdate=f:c.next=f,p.lastBaseUpdate=f}var _s=!1;function Fn(){if(_s){var c=A;if(c!==null)throw c}}function Ca(c,f,p,y){_s=!1;var S=c.updateQueue;Dt=!1;var F=S.firstBaseUpdate,G=S.lastBaseUpdate,ue=S.shared.pending;if(ue!==null){S.shared.pending=null;var Ae=ue,We=Ae.next;Ae.next=null,G===null?F=We:G.next=We,G=Ae;var at=c.alternate;at!==null&&(at=at.updateQueue,ue=at.lastBaseUpdate,ue!==G&&(ue===null?at.firstBaseUpdate=We:ue.next=We,at.lastBaseUpdate=Ae))}if(F!==null){var ut=S.baseState;G=0,at=We=Ae=null,ue=F;do{var Ge=ue.lane&-536870913,Qe=Ge!==ue.lane;if(Qe?(Br&Ge)===Ge:(y&Ge)===Ge){Ge!==0&&Ge===_&&(_s=!0),at!==null&&(at=at.next={lane:0,tag:ue.tag,payload:ue.payload,callback:null,next:null});e:{var Ut=c,or=ue;Ge=f;var Ln=p;switch(or.tag){case 1:if(Ut=or.payload,typeof Ut=="function"){ut=Ut.call(Ln,ut,Ge);break e}ut=Ut;break e;case 3:Ut.flags=Ut.flags&-65537|128;case 0:if(Ut=or.payload,Ge=typeof Ut=="function"?Ut.call(Ln,ut,Ge):Ut,Ge==null)break e;ut=m({},ut,Ge);break e;case 2:Dt=!0}}Ge=ue.callback,Ge!==null&&(c.flags|=64,Qe&&(c.flags|=8192),Qe=S.callbacks,Qe===null?S.callbacks=[Ge]:Qe.push(Ge))}else Qe={lane:Ge,tag:ue.tag,payload:ue.payload,callback:ue.callback,next:null},at===null?(We=at=Qe,Ae=ut):at=at.next=Qe,G|=Ge;if(ue=ue.next,ue===null){if(ue=S.shared.pending,ue===null)break;Qe=ue,ue=Qe.next,Qe.next=null,S.lastBaseUpdate=Qe,S.shared.pending=null}}while(!0);at===null&&(Ae=ut),S.baseState=Ae,S.firstBaseUpdate=We,S.lastBaseUpdate=at,F===null&&(S.shared.lanes=0),nf|=G,c.lanes=G,c.memoizedState=ut}}function Bs(c,f){if(typeof c!="function")throw Error(n(191,c));c.call(f)}function Ta(c,f){var p=c.callbacks;if(p!==null)for(c.callbacks=null,c=0;c<p.length;c++)Bs(p[c],f)}var Er=ne(null),Kr=ne(0);function Xn(c,f){c=Wu,R(Kr,c),R(Er,f),Wu=c|f.baseLanes}function tn(){R(Kr,Wu),R(Er,Er.current)}function Va(){Wu=Kr.current,M(Er),M(Kr)}var Qn=ne(null),Gr=null;function _a(c){var f=c.alternate;R(Vr,Vr.current&1),R(Qn,c),Gr===null&&(f===null||Er.current!==null||f.memoizedState!==null)&&(Gr=c)}function fn(c){R(Vr,Vr.current),R(Qn,c),Gr===null&&(Gr=c)}function Oa(c){c.tag===22?(R(Vr,Vr.current),R(Qn,c),Gr===null&&(Gr=c)):Fa()}function Fa(){R(Vr,Vr.current),R(Qn,Qn.current)}function vn(c){M(Qn),Gr===c&&(Gr=null),M(Vr)}var Vr=ne(0);function Us(c){for(var f=c;f!==null;){if(f.tag===13){var p=f.memoizedState;if(p!==null&&(p=p.dehydrated,p===null||fw(p)||hw(p)))return f}else if(f.tag===19&&(f.memoizedProps.revealOrder==="forwards"||f.memoizedProps.revealOrder==="backwards"||f.memoizedProps.revealOrder==="unstable_legacy-backwards"||f.memoizedProps.revealOrder==="together")){if((f.flags&128)!==0)return f}else if(f.child!==null){f.child.return=f,f=f.child;continue}if(f===c)break;for(;f.sibling===null;){if(f.return===null||f.return===c)return null;f=f.return}f.sibling.return=f.return,f=f.sibling}return null}var oa=0,er=null,rr=null,Yr=null,vi=!1,vl=!1,ri=!1,Da=0,Zc=0,Jc=null,Yh=0;function Dn(){throw Error(n(321))}function Pp(c,f){if(f===null)return!1;for(var p=0;p<f.length&&p<c.length;p++)if(!vs(c[p],f[p]))return!1;return!0}function Lp(c,f,p,y,S,F){return oa=F,er=f,f.memoizedState=null,f.updateQueue=null,f.lanes=0,te.H=c===null||c.memoizedState===null?h6:_b,ri=!1,F=p(y,S),ri=!1,vl&&(F=hc(f,p,y,S)),Xh(c),F}function Xh(c){te.H=$p;var f=rr!==null&&rr.next!==null;if(oa=0,Yr=rr=er=null,vi=!1,Zc=0,Jc=null,f)throw Error(n(300));c===null||as||(c=c.dependencies,c!==null&&Wh(c)&&(as=!0))}function hc(c,f,p,y){er=c;var S=0;do{if(vl&&(Jc=null),Zc=0,vl=!1,25<=S)throw Error(n(301));if(S+=1,Yr=rr=null,c.updateQueue!=null){var F=c.updateQueue;F.lastEffect=null,F.events=null,F.stores=null,F.memoCache!=null&&(F.memoCache.index=0)}te.H=m6,F=f(p,y)}while(vl);return F}function xb(){var c=te.H,f=c.useState()[0];return f=typeof f.then=="function"?eu(f):f,c=c.useState()[0],(rr!==null?rr.memoizedState:null)!==c&&(er.flags|=1024),f}function Mp(){var c=Da!==0;return Da=0,c}function Rp(c,f,p){f.updateQueue=c.updateQueue,f.flags&=-2053,c.lanes&=~p}function Qh(c){if(vi){for(c=c.memoizedState;c!==null;){var f=c.queue;f!==null&&(f.pending=null),c=c.next}vi=!1}oa=0,Yr=rr=er=null,vl=!1,Zc=Da=0,Jc=null}function ns(){var c={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Yr===null?er.memoizedState=Yr=c:Yr=Yr.next=c,Yr}function ca(){if(rr===null){var c=er.alternate;c=c!==null?c.memoizedState:null}else c=rr.next;var f=Yr===null?er.memoizedState:Yr.next;if(f!==null)Yr=f,rr=c;else{if(c===null)throw er.alternate===null?Error(n(467)):Error(n(310));rr=c,c={memoizedState:rr.memoizedState,baseState:rr.baseState,baseQueue:rr.baseQueue,queue:rr.queue,next:null},Yr===null?er.memoizedState=Yr=c:Yr=Yr.next=c}return Yr}function y0(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function eu(c){var f=Zc;return Zc+=1,Jc===null&&(Jc=[]),c=rt(Jc,c,f),f=er,(Yr===null?f.memoizedState:Yr.next)===null&&(f=f.alternate,te.H=f===null||f.memoizedState===null?h6:_b),c}function Qd(c){if(c!==null&&typeof c=="object"){if(typeof c.then=="function")return eu(c);if(c.$$typeof===j)return Ns(c)}throw Error(n(438,String(c)))}function Ru(c){var f=null,p=er.updateQueue;if(p!==null&&(f=p.memoCache),f==null){var y=er.alternate;y!==null&&(y=y.updateQueue,y!==null&&(y=y.memoCache,y!=null&&(f={data:y.data.map(function(S){return S.slice()}),index:0})))}if(f==null&&(f={data:[],index:0}),p===null&&(p=y0(),er.updateQueue=p),p.memoCache=f,p=f.data[f.index],p===void 0)for(p=f.data[f.index]=Array(c),y=0;y<c;y++)p[y]=H;return f.index++,p}function _o(c,f){return typeof f=="function"?f(c):f}function Zh(c){var f=ca();return Zd(f,rr,c)}function Zd(c,f,p){var y=c.queue;if(y===null)throw Error(n(311));y.lastRenderedReducer=p;var S=c.baseQueue,F=y.pending;if(F!==null){if(S!==null){var G=S.next;S.next=F.next,F.next=G}f.baseQueue=S=F,y.pending=null}if(F=c.baseState,S===null)c.memoizedState=F;else{f=S.next;var ue=G=null,Ae=null,We=f,at=!1;do{var ut=We.lane&-536870913;if(ut!==We.lane?(Br&ut)===ut:(oa&ut)===ut){var Ge=We.revertLane;if(Ge===0)Ae!==null&&(Ae=Ae.next={lane:0,revertLane:0,gesture:null,action:We.action,hasEagerState:We.hasEagerState,eagerState:We.eagerState,next:null}),ut===_&&(at=!0);else if((oa&Ge)===Ge){We=We.next,Ge===_&&(at=!0);continue}else ut={lane:0,revertLane:We.revertLane,gesture:null,action:We.action,hasEagerState:We.hasEagerState,eagerState:We.eagerState,next:null},Ae===null?(ue=Ae=ut,G=F):Ae=Ae.next=ut,er.lanes|=Ge,nf|=Ge;ut=We.action,ri&&p(F,ut),F=We.hasEagerState?We.eagerState:p(F,ut)}else Ge={lane:ut,revertLane:We.revertLane,gesture:We.gesture,action:We.action,hasEagerState:We.hasEagerState,eagerState:We.eagerState,next:null},Ae===null?(ue=Ae=Ge,G=F):Ae=Ae.next=Ge,er.lanes|=ut,nf|=ut;We=We.next}while(We!==null&&We!==f);if(Ae===null?G=F:Ae.next=ue,!vs(F,c.memoizedState)&&(as=!0,at&&(p=A,p!==null)))throw p;c.memoizedState=F,c.baseState=G,c.baseQueue=Ae,y.lastRenderedState=F}return S===null&&(y.lanes=0),[c.memoizedState,y.dispatch]}function Jh(c){var f=ca(),p=f.queue;if(p===null)throw Error(n(311));p.lastRenderedReducer=c;var y=p.dispatch,S=p.pending,F=f.memoizedState;if(S!==null){p.pending=null;var G=S=S.next;do F=c(F,G.action),G=G.next;while(G!==S);vs(F,f.memoizedState)||(as=!0),f.memoizedState=F,f.baseQueue===null&&(f.baseState=F),p.lastRenderedState=F}return[F,y]}function em(c,f,p){var y=er,S=ca(),F=Mr;if(F){if(p===void 0)throw Error(n(407));p=p()}else p=f();var G=!vs((rr||S).memoizedState,p);if(G&&(S.memoizedState=p,as=!0),S=S.queue,gb(Bp.bind(null,y,S,c),[c]),S.getSnapshot!==f||G||Yr!==null&&Yr.memoizedState.tag&1){if(y.flags|=2048,Bu(9,{destroy:void 0},Ip.bind(null,y,S,p,f),null),Un===null)throw Error(n(349));F||(oa&127)!==0||mc(y,f,p)}return p}function mc(c,f,p){c.flags|=16384,c={getSnapshot:f,value:p},f=er.updateQueue,f===null?(f=y0(),er.updateQueue=f,f.stores=[c]):(p=f.stores,p===null?f.stores=[c]:p.push(c))}function Ip(c,f,p,y){f.value=p,f.getSnapshot=y,d1(f)&&Up(c)}function Bp(c,f,p){return p(function(){d1(f)&&Up(c)})}function d1(c){var f=c.getSnapshot;c=c.value;try{var p=f();return!vs(c,p)}catch{return!0}}function Up(c){var f=dc(c,2);f!==null&&_l(f,c,2)}function tu(c){var f=ns();if(typeof c=="function"){var p=c;if(c=p(),ri){tr(!0);try{p()}finally{tr(!1)}}}return f.memoizedState=f.baseState=c,f.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:_o,lastRenderedState:c},f}function f1(c,f,p,y){return c.baseState=p,Zd(c,rr,typeof y=="function"?y:_o)}function h1(c,f,p,y,S){if(g1(c))throw Error(n(485));if(c=f.action,c!==null){var F={payload:S,action:c,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(G){F.listeners.push(G)}};te.T!==null?p(!0):F.isTransition=!1,y(F),p=f.pending,p===null?(F.next=f.pending=F,m1(f,F)):(F.next=p.next,f.pending=p.next=F)}}function m1(c,f){var p=f.action,y=f.payload,S=c.state;if(f.isTransition){var F=te.T,G={};te.T=G;try{var ue=p(S,y),Ae=te.S;Ae!==null&&Ae(G,ue),zp(c,f,ue)}catch(We){Iu(c,f,We)}finally{F!==null&&G.types!==null&&(F.types=G.types),te.T=F}}else try{F=p(S,y),zp(c,f,F)}catch(We){Iu(c,f,We)}}function zp(c,f,p){p!==null&&typeof p=="object"&&typeof p.then=="function"?p.then(function(y){p1(c,f,y)},function(y){return Iu(c,f,y)}):p1(c,f,p)}function p1(c,f,p){f.status="fulfilled",f.value=p,tm(f),c.state=p,f=c.pending,f!==null&&(p=f.next,p===f?c.pending=null:(p=p.next,f.next=p,m1(c,p)))}function Iu(c,f,p){var y=c.pending;if(c.pending=null,y!==null){y=y.next;do f.status="rejected",f.reason=p,tm(f),f=f.next;while(f!==y)}c.action=null}function tm(c){c=c.listeners;for(var f=0;f<c.length;f++)(0,c[f])()}function b0(c,f){return f}function jo(c,f){if(Mr){var p=Un.formState;if(p!==null){e:{var y=er;if(Mr){if(In){t:{for(var S=In,F=la;S.nodeType!==8;){if(!F){S=null;break t}if(S=So(S.nextSibling),S===null){S=null;break t}}F=S.data,S=F==="F!"||F==="F"?S:null}if(S){In=So(S.nextSibling),y=S.data==="F!";break e}}Kc(y)}y=!1}y&&(f=p[0])}}return p=ns(),p.memoizedState=p.baseState=f,y={pending:null,lanes:0,dispatch:null,lastRenderedReducer:b0,lastRenderedState:f},p.queue=y,p=u6.bind(null,er,y),y.dispatch=p,y=tu(!1),F=Nb.bind(null,er,!1,y.queue),y=ns(),S={state:f,dispatch:null,action:c,pending:null},y.queue=S,p=h1.bind(null,er,S,F,p),S.dispatch=p,y.memoizedState=c,[f,p,!1]}function pc(c){var f=ca();return xc(f,rr,c)}function xc(c,f,p){if(f=Zd(c,f,b0)[0],c=Zh(_o)[0],typeof f=="object"&&f!==null&&typeof f.then=="function")try{var y=eu(f)}catch(G){throw G===Te?be:G}else y=f;f=ca();var S=f.queue,F=S.dispatch;return p!==f.memoizedState&&(er.flags|=2048,Bu(9,{destroy:void 0},rm.bind(null,S,p),null)),[y,F,c]}function rm(c,f){c.action=f}function nm(c){var f=ca(),p=rr;if(p!==null)return xc(f,p,c);ca(),f=f.memoizedState,p=ca();var y=p.queue.dispatch;return p.memoizedState=c,[f,y,!1]}function Bu(c,f,p,y){return c={tag:c,create:p,deps:y,inst:f,next:null},f=er.updateQueue,f===null&&(f=y0(),er.updateQueue=f),p=f.lastEffect,p===null?f.lastEffect=c.next=c:(y=p.next,p.next=c,c.next=y,f.lastEffect=c),c}function x1(){return ca().memoizedState}function Jd(c,f,p,y){var S=ns();er.flags|=c,S.memoizedState=Bu(1|f,{destroy:void 0},p,y===void 0?null:y)}function ef(c,f,p,y){var S=ca();y=y===void 0?null:y;var F=S.memoizedState.inst;rr!==null&&y!==null&&Pp(y,rr.memoizedState.deps)?S.memoizedState=Bu(f,F,p,y):(er.flags|=c,S.memoizedState=Bu(1|f,F,p,y))}function XS(c,f){Jd(8390656,8,c,f)}function gb(c,f){ef(2048,8,c,f)}function OU(c){er.flags|=4;var f=er.updateQueue;if(f===null)f=y0(),er.updateQueue=f,f.events=[c];else{var p=f.events;p===null?f.events=[c]:p.push(c)}}function QS(c){var f=ca().memoizedState;return OU({ref:f,nextImpl:c}),function(){if((hn&2)!==0)throw Error(n(440));return f.impl.apply(void 0,arguments)}}function ZS(c,f){return ef(4,2,c,f)}function JS(c,f){return ef(4,4,c,f)}function e6(c,f){if(typeof f=="function"){c=c();var p=f(c);return function(){typeof p=="function"?p():f(null)}}if(f!=null)return c=c(),f.current=c,function(){f.current=null}}function t6(c,f,p){p=p!=null?p.concat([c]):null,ef(4,4,e6.bind(null,f,c),p)}function vb(){}function r6(c,f){var p=ca();f=f===void 0?null:f;var y=p.memoizedState;return f!==null&&Pp(f,y[1])?y[0]:(p.memoizedState=[c,f],c)}function n6(c,f){var p=ca();f=f===void 0?null:f;var y=p.memoizedState;if(f!==null&&Pp(f,y[1]))return y[0];if(y=c(),ri){tr(!0);try{c()}finally{tr(!1)}}return p.memoizedState=[y,f],y}function yb(c,f,p){return p===void 0||(oa&1073741824)!==0&&(Br&261930)===0?c.memoizedState=f:(c.memoizedState=p,c=aA(),er.lanes|=c,nf|=c,p)}function a6(c,f,p,y){return vs(p,f)?p:Er.current!==null?(c=yb(c,p,y),vs(c,f)||(as=!0),c):(oa&42)===0||(oa&1073741824)!==0&&(Br&261930)===0?(as=!0,c.memoizedState=p):(c=aA(),er.lanes|=c,nf|=c,f)}function s6(c,f,p,y,S){var F=ie.p;ie.p=F!==0&&8>F?F:8;var G=te.T,ue={};te.T=ue,Nb(c,!1,f,p);try{var Ae=S(),We=te.S;if(We!==null&&We(ue,Ae),Ae!==null&&typeof Ae=="object"&&typeof Ae.then=="function"){var at=J(Ae,y);qp(c,f,at,Hl(c))}else qp(c,f,y,Hl(c))}catch(ut){qp(c,f,{then:function(){},status:"rejected",reason:ut},Hl())}finally{ie.p=F,G!==null&&ue.types!==null&&(G.types=ue.types),te.T=G}}function FU(){}function bb(c,f,p,y){if(c.tag!==5)throw Error(n(476));var S=i6(c).queue;s6(c,S,f,ge,p===null?FU:function(){return l6(c),p(y)})}function i6(c){var f=c.memoizedState;if(f!==null)return f;f={memoizedState:ge,baseState:ge,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:_o,lastRenderedState:ge},next:null};var p={};return f.next={memoizedState:p,baseState:p,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:_o,lastRenderedState:p},next:null},c.memoizedState=f,c=c.alternate,c!==null&&(c.memoizedState=f),f}function l6(c){var f=i6(c);f.next===null&&(f=c.alternate.memoizedState),qp(c,f.next.queue,{},Hl())}function wb(){return Ns(sx)}function o6(){return ca().memoizedState}function c6(){return ca().memoizedState}function DU(c){for(var f=c.return;f!==null;){switch(f.tag){case 24:case 3:var p=Hl();c=lr(p);var y=wr(f,c,p);y!==null&&(_l(y,f,p),dn(y,f,p)),f={cache:Xd()},c.payload=f;return}f=f.return}}function PU(c,f,p){var y=Hl();p={lane:y,revertLane:0,gesture:null,action:p,hasEagerState:!1,eagerState:null,next:null},g1(c)?d6(f,p):(p=Ih(c,f,p,y),p!==null&&(_l(p,c,y),f6(p,f,y)))}function u6(c,f,p){var y=Hl();qp(c,f,p,y)}function qp(c,f,p,y){var S={lane:y,revertLane:0,gesture:null,action:p,hasEagerState:!1,eagerState:null,next:null};if(g1(c))d6(f,S);else{var F=c.alternate;if(c.lanes===0&&(F===null||F.lanes===0)&&(F=f.lastRenderedReducer,F!==null))try{var G=f.lastRenderedState,ue=F(G,p);if(S.hasEagerState=!0,S.eagerState=ue,vs(ue,G))return f0(c,f,S,0),Un===null&&d0(),!1}catch{}finally{}if(p=Ih(c,f,S,y),p!==null)return _l(p,c,y),f6(p,f,y),!0}return!1}function Nb(c,f,p,y){if(y={lane:2,revertLane:ew(),gesture:null,action:y,hasEagerState:!1,eagerState:null,next:null},g1(c)){if(f)throw Error(n(479))}else f=Ih(c,p,y,2),f!==null&&_l(f,c,2)}function g1(c){var f=c.alternate;return c===er||f!==null&&f===er}function d6(c,f){vl=vi=!0;var p=c.pending;p===null?f.next=f:(f.next=p.next,p.next=f),c.pending=f}function f6(c,f,p){if((p&4194048)!==0){var y=f.lanes;y&=c.pendingLanes,p|=y,f.lanes=p,ms(c,p)}}var $p={readContext:Ns,use:Qd,useCallback:Dn,useContext:Dn,useEffect:Dn,useImperativeHandle:Dn,useLayoutEffect:Dn,useInsertionEffect:Dn,useMemo:Dn,useReducer:Dn,useRef:Dn,useState:Dn,useDebugValue:Dn,useDeferredValue:Dn,useTransition:Dn,useSyncExternalStore:Dn,useId:Dn,useHostTransitionStatus:Dn,useFormState:Dn,useActionState:Dn,useOptimistic:Dn,useMemoCache:Dn,useCacheRefresh:Dn};$p.useEffectEvent=Dn;var h6={readContext:Ns,use:Qd,useCallback:function(c,f){return ns().memoizedState=[c,f===void 0?null:f],c},useContext:Ns,useEffect:XS,useImperativeHandle:function(c,f,p){p=p!=null?p.concat([c]):null,Jd(4194308,4,e6.bind(null,f,c),p)},useLayoutEffect:function(c,f){return Jd(4194308,4,c,f)},useInsertionEffect:function(c,f){Jd(4,2,c,f)},useMemo:function(c,f){var p=ns();f=f===void 0?null:f;var y=c();if(ri){tr(!0);try{c()}finally{tr(!1)}}return p.memoizedState=[y,f],y},useReducer:function(c,f,p){var y=ns();if(p!==void 0){var S=p(f);if(ri){tr(!0);try{p(f)}finally{tr(!1)}}}else S=f;return y.memoizedState=y.baseState=S,c={pending:null,lanes:0,dispatch:null,lastRenderedReducer:c,lastRenderedState:S},y.queue=c,c=c.dispatch=PU.bind(null,er,c),[y.memoizedState,c]},useRef:function(c){var f=ns();return c={current:c},f.memoizedState=c},useState:function(c){c=tu(c);var f=c.queue,p=u6.bind(null,er,f);return f.dispatch=p,[c.memoizedState,p]},useDebugValue:vb,useDeferredValue:function(c,f){var p=ns();return yb(p,c,f)},useTransition:function(){var c=tu(!1);return c=s6.bind(null,er,c.queue,!0,!1),ns().memoizedState=c,[!1,c]},useSyncExternalStore:function(c,f,p){var y=er,S=ns();if(Mr){if(p===void 0)throw Error(n(407));p=p()}else{if(p=f(),Un===null)throw Error(n(349));(Br&127)!==0||mc(y,f,p)}S.memoizedState=p;var F={value:p,getSnapshot:f};return S.queue=F,XS(Bp.bind(null,y,F,c),[c]),y.flags|=2048,Bu(9,{destroy:void 0},Ip.bind(null,y,F,p,f),null),p},useId:function(){var c=ns(),f=Un.identifierPrefix;if(Mr){var p=xl,y=pl;p=(y&~(1<<32-br(y)-1)).toString(32)+p,f="_"+f+"R_"+p,p=Da++,0<p&&(f+="H"+p.toString(32)),f+="_"}else p=Yh++,f="_"+f+"r_"+p.toString(32)+"_";return c.memoizedState=f},useHostTransitionStatus:wb,useFormState:jo,useActionState:jo,useOptimistic:function(c){var f=ns();f.memoizedState=f.baseState=c;var p={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return f.queue=p,f=Nb.bind(null,er,!0,p),p.dispatch=f,[c,f]},useMemoCache:Ru,useCacheRefresh:function(){return ns().memoizedState=DU.bind(null,er)},useEffectEvent:function(c){var f=ns(),p={impl:c};return f.memoizedState=p,function(){if((hn&2)!==0)throw Error(n(440));return p.impl.apply(void 0,arguments)}}},_b={readContext:Ns,use:Qd,useCallback:r6,useContext:Ns,useEffect:gb,useImperativeHandle:t6,useInsertionEffect:ZS,useLayoutEffect:JS,useMemo:n6,useReducer:Zh,useRef:x1,useState:function(){return Zh(_o)},useDebugValue:vb,useDeferredValue:function(c,f){var p=ca();return a6(p,rr.memoizedState,c,f)},useTransition:function(){var c=Zh(_o)[0],f=ca().memoizedState;return[typeof c=="boolean"?c:eu(c),f]},useSyncExternalStore:em,useId:o6,useHostTransitionStatus:wb,useFormState:pc,useActionState:pc,useOptimistic:function(c,f){var p=ca();return f1(p,rr,c,f)},useMemoCache:Ru,useCacheRefresh:c6};_b.useEffectEvent=QS;var m6={readContext:Ns,use:Qd,useCallback:r6,useContext:Ns,useEffect:gb,useImperativeHandle:t6,useInsertionEffect:ZS,useLayoutEffect:JS,useMemo:n6,useReducer:Jh,useRef:x1,useState:function(){return Jh(_o)},useDebugValue:vb,useDeferredValue:function(c,f){var p=ca();return rr===null?yb(p,c,f):a6(p,rr.memoizedState,c,f)},useTransition:function(){var c=Jh(_o)[0],f=ca().memoizedState;return[typeof c=="boolean"?c:eu(c),f]},useSyncExternalStore:em,useId:o6,useHostTransitionStatus:wb,useFormState:nm,useActionState:nm,useOptimistic:function(c,f){var p=ca();return rr!==null?f1(p,rr,c,f):(p.baseState=c,[c,p.queue.dispatch])},useMemoCache:Ru,useCacheRefresh:c6};m6.useEffectEvent=QS;function jb(c,f,p,y){f=c.memoizedState,p=p(y,f),p=p==null?f:m({},f,p),c.memoizedState=p,c.lanes===0&&(c.updateQueue.baseState=p)}var Sb={enqueueSetState:function(c,f,p){c=c._reactInternals;var y=Hl(),S=lr(y);S.payload=f,p!=null&&(S.callback=p),f=wr(c,S,y),f!==null&&(_l(f,c,y),dn(f,c,y))},enqueueReplaceState:function(c,f,p){c=c._reactInternals;var y=Hl(),S=lr(y);S.tag=1,S.payload=f,p!=null&&(S.callback=p),f=wr(c,S,y),f!==null&&(_l(f,c,y),dn(f,c,y))},enqueueForceUpdate:function(c,f){c=c._reactInternals;var p=Hl(),y=lr(p);y.tag=2,f!=null&&(y.callback=f),f=wr(c,y,p),f!==null&&(_l(f,c,p),dn(f,c,p))}};function p6(c,f,p,y,S,F,G){return c=c.stateNode,typeof c.shouldComponentUpdate=="function"?c.shouldComponentUpdate(y,F,G):f.prototype&&f.prototype.isPureReactComponent?!lc(p,y)||!lc(S,F):!0}function x6(c,f,p,y){c=f.state,typeof f.componentWillReceiveProps=="function"&&f.componentWillReceiveProps(p,y),typeof f.UNSAFE_componentWillReceiveProps=="function"&&f.UNSAFE_componentWillReceiveProps(p,y),f.state!==c&&Sb.enqueueReplaceState(f,f.state,null)}function w0(c,f){var p=f;if("ref"in f){p={};for(var y in f)y!=="ref"&&(p[y]=f[y])}if(c=c.defaultProps){p===f&&(p=m({},p));for(var S in c)p[S]===void 0&&(p[S]=c[S])}return p}function g6(c){u0(c)}function v6(c){console.error(c)}function y6(c){u0(c)}function v1(c,f){try{var p=c.onUncaughtError;p(f.value,{componentStack:f.stack})}catch(y){setTimeout(function(){throw y})}}function b6(c,f,p){try{var y=c.onCaughtError;y(p.value,{componentStack:p.stack,errorBoundary:f.tag===1?f.stateNode:null})}catch(S){setTimeout(function(){throw S})}}function Ab(c,f,p){return p=lr(p),p.tag=3,p.payload={element:null},p.callback=function(){v1(c,f)},p}function w6(c){return c=lr(c),c.tag=3,c}function N6(c,f,p,y){var S=p.type.getDerivedStateFromError;if(typeof S=="function"){var F=y.value;c.payload=function(){return S(F)},c.callback=function(){b6(f,p,y)}}var G=p.stateNode;G!==null&&typeof G.componentDidCatch=="function"&&(c.callback=function(){b6(f,p,y),typeof S!="function"&&(af===null?af=new Set([this]):af.add(this));var ue=y.stack;this.componentDidCatch(y.value,{componentStack:ue!==null?ue:""})})}function LU(c,f,p,y,S){if(p.flags|=32768,y!==null&&typeof y=="object"&&typeof y.then=="function"){if(f=p.alternate,f!==null&&Xc(f,p,S,!0),p=Qn.current,p!==null){switch(p.tag){case 31:case 13:return Gr===null?T1():p.alternate===null&&Pa===0&&(Pa=3),p.flags&=-257,p.flags|=65536,p.lanes=S,y===Fe?p.flags|=16384:(f=p.updateQueue,f===null?p.updateQueue=new Set([y]):f.add(y),Qb(c,y,S)),!1;case 22:return p.flags|=65536,y===Fe?p.flags|=16384:(f=p.updateQueue,f===null?(f={transitions:null,markerInstances:null,retryQueue:new Set([y])},p.updateQueue=f):(p=f.retryQueue,p===null?f.retryQueue=new Set([y]):p.add(y)),Qb(c,y,S)),!1}throw Error(n(435,p.tag))}return Qb(c,y,S),T1(),!1}if(Mr)return f=Qn.current,f!==null?((f.flags&65536)===0&&(f.flags|=256),f.flags|=65536,f.lanes=S,y!==zl&&(c=Error(n(422),{cause:y}),Gd(fl(c,p)))):(y!==zl&&(f=Error(n(423),{cause:y}),Gd(fl(f,p))),c=c.current.alternate,c.flags|=65536,S&=-S,c.lanes|=S,y=fl(y,p),S=Ab(c.stateNode,y,S),Ha(c,S),Pa!==4&&(Pa=2)),!1;var F=Error(n(520),{cause:y});if(F=fl(F,p),Qp===null?Qp=[F]:Qp.push(F),Pa!==4&&(Pa=2),f===null)return!0;y=fl(y,p),p=f;do{switch(p.tag){case 3:return p.flags|=65536,c=S&-S,p.lanes|=c,c=Ab(p.stateNode,y,c),Ha(p,c),!1;case 1:if(f=p.type,F=p.stateNode,(p.flags&128)===0&&(typeof f.getDerivedStateFromError=="function"||F!==null&&typeof F.componentDidCatch=="function"&&(af===null||!af.has(F))))return p.flags|=65536,S&=-S,p.lanes|=S,S=w6(S),N6(S,c,p,y),Ha(p,S),!1}p=p.return}while(p!==null);return!1}var kb=Error(n(461)),as=!1;function ni(c,f,p,y){f.child=c===null?gr(f,null,p,y):Bn(f,c.child,p,y)}function _6(c,f,p,y,S){p=p.render;var F=f.ref;if("ref"in y){var G={};for(var ue in y)ue!=="ref"&&(G[ue]=y[ue])}else G=y;return Qc(f),y=Lp(c,f,p,G,F,S),ue=Mp(),c!==null&&!as?(Rp(c,f,S),Uu(c,f,S)):(Mr&&ue&&Op(f),f.flags|=1,ni(c,f,y,S),f.child)}function j6(c,f,p,y,S){if(c===null){var F=p.type;return typeof F=="function"&&!Uh(F)&&F.defaultProps===void 0&&p.compare===null?(f.tag=15,f.type=F,S6(c,f,F,y,S)):(c=Vd(p.type,null,y,f,f.mode,S),c.ref=f.ref,c.return=f,f.child=c)}if(F=c.child,!Lb(c,S)){var G=F.memoizedProps;if(p=p.compare,p=p!==null?p:lc,p(G,y)&&c.ref===f.ref)return Uu(c,f,S)}return f.flags|=1,c=dl(F,y),c.ref=f.ref,c.return=f,f.child=c}function S6(c,f,p,y,S){if(c!==null){var F=c.memoizedProps;if(lc(F,y)&&c.ref===f.ref)if(as=!1,f.pendingProps=y=F,Lb(c,S))(c.flags&131072)!==0&&(as=!0);else return f.lanes=c.lanes,Uu(c,f,S)}return Eb(c,f,p,y,S)}function A6(c,f,p,y){var S=y.children,F=c!==null?c.memoizedState:null;if(c===null&&f.stateNode===null&&(f.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),y.mode==="hidden"){if((f.flags&128)!==0){if(F=F!==null?F.baseLanes|p:p,c!==null){for(y=f.child=c.child,S=0;y!==null;)S=S|y.lanes|y.childLanes,y=y.sibling;y=S&~F}else y=0,f.child=null;return k6(c,f,F,p,y)}if((p&536870912)!==0)f.memoizedState={baseLanes:0,cachePool:null},c!==null&&pe(f,F!==null?F.cachePool:null),F!==null?Xn(f,F):tn(),Oa(f);else return y=f.lanes=536870912,k6(c,f,F!==null?F.baseLanes|p:p,p,y)}else F!==null?(pe(f,F.cachePool),Xn(f,F),Fa(),f.memoizedState=null):(c!==null&&pe(f,null),tn(),Fa());return ni(c,f,S,p),f.child}function Hp(c,f){return c!==null&&c.tag===22||f.stateNode!==null||(f.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),f.sibling}function k6(c,f,p,y,S){var F=fe();return F=F===null?null:{parent:Na._currentValue,pool:F},f.memoizedState={baseLanes:p,cachePool:F},c!==null&&pe(f,null),tn(),Oa(f),c!==null&&Xc(c,f,y,!0),f.childLanes=S,null}function y1(c,f){return f=w1({mode:f.mode,children:f.children},c.mode),f.ref=c.ref,c.child=f,f.return=c,f}function E6(c,f,p){return Bn(f,c.child,null,p),c=y1(f,f.pendingProps),c.flags|=2,vn(f),f.memoizedState=null,c}function MU(c,f,p){var y=f.pendingProps,S=(f.flags&128)!==0;if(f.flags&=-129,c===null){if(Mr){if(y.mode==="hidden")return c=y1(f,y),f.lanes=536870912,Hp(null,c);if(fn(f),(c=In)?(c=UA(c,la),c=c!==null&&c.data==="&"?c:null,c!==null&&(f.memoizedState={dehydrated:c,treeContext:Wc!==null?{id:pl,overflow:xl}:null,retryLane:536870912,hydrationErrors:null},p=zh(c),p.return=f,f.child=p,bs=f,In=null)):c=null,c===null)throw Kc(f);return f.lanes=536870912,null}return y1(f,y)}var F=c.memoizedState;if(F!==null){var G=F.dehydrated;if(fn(f),S)if(f.flags&256)f.flags&=-257,f=E6(c,f,p);else if(f.memoizedState!==null)f.child=c.child,f.flags|=128,f=null;else throw Error(n(558));else if(as||Xc(c,f,p,!1),S=(p&c.childLanes)!==0,as||S){if(y=Un,y!==null&&(G=Xs(y,p),G!==0&&G!==F.retryLane))throw F.retryLane=G,dc(c,G),_l(y,c,G),kb;T1(),f=E6(c,f,p)}else c=F.treeContext,In=So(G.nextSibling),bs=f,Mr=!0,ti=null,la=!1,c!==null&&c1(f,c),f=y1(f,y),f.flags|=4096;return f}return c=dl(c.child,{mode:y.mode,children:y.children}),c.ref=f.ref,f.child=c,c.return=f,c}function b1(c,f){var p=f.ref;if(p===null)c!==null&&c.ref!==null&&(f.flags|=4194816);else{if(typeof p!="function"&&typeof p!="object")throw Error(n(284));(c===null||c.ref!==p)&&(f.flags|=4194816)}}function Eb(c,f,p,y,S){return Qc(f),p=Lp(c,f,p,y,void 0,S),y=Mp(),c!==null&&!as?(Rp(c,f,S),Uu(c,f,S)):(Mr&&y&&Op(f),f.flags|=1,ni(c,f,p,S),f.child)}function C6(c,f,p,y,S,F){return Qc(f),f.updateQueue=null,p=hc(f,y,p,S),Xh(c),y=Mp(),c!==null&&!as?(Rp(c,f,F),Uu(c,f,F)):(Mr&&y&&Op(f),f.flags|=1,ni(c,f,p,F),f.child)}function T6(c,f,p,y,S){if(Qc(f),f.stateNode===null){var F=ys,G=p.contextType;typeof G=="object"&&G!==null&&(F=Ns(G)),F=new p(y,F),f.memoizedState=F.state!==null&&F.state!==void 0?F.state:null,F.updater=Sb,f.stateNode=F,F._reactInternals=f,F=f.stateNode,F.props=y,F.state=f.memoizedState,F.refs={},St(f),G=p.contextType,F.context=typeof G=="object"&&G!==null?Ns(G):ys,F.state=f.memoizedState,G=p.getDerivedStateFromProps,typeof G=="function"&&(jb(f,p,G,y),F.state=f.memoizedState),typeof p.getDerivedStateFromProps=="function"||typeof F.getSnapshotBeforeUpdate=="function"||typeof F.UNSAFE_componentWillMount!="function"&&typeof F.componentWillMount!="function"||(G=F.state,typeof F.componentWillMount=="function"&&F.componentWillMount(),typeof F.UNSAFE_componentWillMount=="function"&&F.UNSAFE_componentWillMount(),G!==F.state&&Sb.enqueueReplaceState(F,F.state,null),Ca(f,y,F,S),Fn(),F.state=f.memoizedState),typeof F.componentDidMount=="function"&&(f.flags|=4194308),y=!0}else if(c===null){F=f.stateNode;var ue=f.memoizedProps,Ae=w0(p,ue);F.props=Ae;var We=F.context,at=p.contextType;G=ys,typeof at=="object"&&at!==null&&(G=Ns(at));var ut=p.getDerivedStateFromProps;at=typeof ut=="function"||typeof F.getSnapshotBeforeUpdate=="function",ue=f.pendingProps!==ue,at||typeof F.UNSAFE_componentWillReceiveProps!="function"&&typeof F.componentWillReceiveProps!="function"||(ue||We!==G)&&x6(f,F,y,G),Dt=!1;var Ge=f.memoizedState;F.state=Ge,Ca(f,y,F,S),Fn(),We=f.memoizedState,ue||Ge!==We||Dt?(typeof ut=="function"&&(jb(f,p,ut,y),We=f.memoizedState),(Ae=Dt||p6(f,p,Ae,y,Ge,We,G))?(at||typeof F.UNSAFE_componentWillMount!="function"&&typeof F.componentWillMount!="function"||(typeof F.componentWillMount=="function"&&F.componentWillMount(),typeof F.UNSAFE_componentWillMount=="function"&&F.UNSAFE_componentWillMount()),typeof F.componentDidMount=="function"&&(f.flags|=4194308)):(typeof F.componentDidMount=="function"&&(f.flags|=4194308),f.memoizedProps=y,f.memoizedState=We),F.props=y,F.state=We,F.context=G,y=Ae):(typeof F.componentDidMount=="function"&&(f.flags|=4194308),y=!1)}else{F=f.stateNode,Yn(c,f),G=f.memoizedProps,at=w0(p,G),F.props=at,ut=f.pendingProps,Ge=F.context,We=p.contextType,Ae=ys,typeof We=="object"&&We!==null&&(Ae=Ns(We)),ue=p.getDerivedStateFromProps,(We=typeof ue=="function"||typeof F.getSnapshotBeforeUpdate=="function")||typeof F.UNSAFE_componentWillReceiveProps!="function"&&typeof F.componentWillReceiveProps!="function"||(G!==ut||Ge!==Ae)&&x6(f,F,y,Ae),Dt=!1,Ge=f.memoizedState,F.state=Ge,Ca(f,y,F,S),Fn();var Qe=f.memoizedState;G!==ut||Ge!==Qe||Dt||c!==null&&c.dependencies!==null&&Wh(c.dependencies)?(typeof ue=="function"&&(jb(f,p,ue,y),Qe=f.memoizedState),(at=Dt||p6(f,p,at,y,Ge,Qe,Ae)||c!==null&&c.dependencies!==null&&Wh(c.dependencies))?(We||typeof F.UNSAFE_componentWillUpdate!="function"&&typeof F.componentWillUpdate!="function"||(typeof F.componentWillUpdate=="function"&&F.componentWillUpdate(y,Qe,Ae),typeof F.UNSAFE_componentWillUpdate=="function"&&F.UNSAFE_componentWillUpdate(y,Qe,Ae)),typeof F.componentDidUpdate=="function"&&(f.flags|=4),typeof F.getSnapshotBeforeUpdate=="function"&&(f.flags|=1024)):(typeof F.componentDidUpdate!="function"||G===c.memoizedProps&&Ge===c.memoizedState||(f.flags|=4),typeof F.getSnapshotBeforeUpdate!="function"||G===c.memoizedProps&&Ge===c.memoizedState||(f.flags|=1024),f.memoizedProps=y,f.memoizedState=Qe),F.props=y,F.state=Qe,F.context=Ae,y=at):(typeof F.componentDidUpdate!="function"||G===c.memoizedProps&&Ge===c.memoizedState||(f.flags|=4),typeof F.getSnapshotBeforeUpdate!="function"||G===c.memoizedProps&&Ge===c.memoizedState||(f.flags|=1024),y=!1)}return F=y,b1(c,f),y=(f.flags&128)!==0,F||y?(F=f.stateNode,p=y&&typeof p.getDerivedStateFromError!="function"?null:F.render(),f.flags|=1,c!==null&&y?(f.child=Bn(f,c.child,null,S),f.child=Bn(f,null,p,S)):ni(c,f,p,S),f.memoizedState=F.state,c=f.child):c=Uu(c,f,S),c}function O6(c,f,p,y){return Lu(),f.flags|=256,ni(c,f,p,y),f.child}var Cb={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function Tb(c){return{baseLanes:c,cachePool:we()}}function Ob(c,f,p){return c=c!==null?c.childLanes&~p:0,f&&(c|=$l),c}function F6(c,f,p){var y=f.pendingProps,S=!1,F=(f.flags&128)!==0,G;if((G=F)||(G=c!==null&&c.memoizedState===null?!1:(Vr.current&2)!==0),G&&(S=!0,f.flags&=-129),G=(f.flags&32)!==0,f.flags&=-33,c===null){if(Mr){if(S?_a(f):Fa(),(c=In)?(c=UA(c,la),c=c!==null&&c.data!=="&"?c:null,c!==null&&(f.memoizedState={dehydrated:c,treeContext:Wc!==null?{id:pl,overflow:xl}:null,retryLane:536870912,hydrationErrors:null},p=zh(c),p.return=f,f.child=p,bs=f,In=null)):c=null,c===null)throw Kc(f);return hw(c)?f.lanes=32:f.lanes=536870912,null}var ue=y.children;return y=y.fallback,S?(Fa(),S=f.mode,ue=w1({mode:"hidden",children:ue},S),y=Vc(y,S,p,null),ue.return=f,y.return=f,ue.sibling=y,f.child=ue,y=f.child,y.memoizedState=Tb(p),y.childLanes=Ob(c,G,p),f.memoizedState=Cb,Hp(null,y)):(_a(f),Fb(f,ue))}var Ae=c.memoizedState;if(Ae!==null&&(ue=Ae.dehydrated,ue!==null)){if(F)f.flags&256?(_a(f),f.flags&=-257,f=Db(c,f,p)):f.memoizedState!==null?(Fa(),f.child=c.child,f.flags|=128,f=null):(Fa(),ue=y.fallback,S=f.mode,y=w1({mode:"visible",children:y.children},S),ue=Vc(ue,S,p,null),ue.flags|=2,y.return=f,ue.return=f,y.sibling=ue,f.child=y,Bn(f,c.child,null,p),y=f.child,y.memoizedState=Tb(p),y.childLanes=Ob(c,G,p),f.memoizedState=Cb,f=Hp(null,y));else if(_a(f),hw(ue)){if(G=ue.nextSibling&&ue.nextSibling.dataset,G)var We=G.dgst;G=We,y=Error(n(419)),y.stack="",y.digest=G,Gd({value:y,source:null,stack:null}),f=Db(c,f,p)}else if(as||Xc(c,f,p,!1),G=(p&c.childLanes)!==0,as||G){if(G=Un,G!==null&&(y=Xs(G,p),y!==0&&y!==Ae.retryLane))throw Ae.retryLane=y,dc(c,y),_l(G,c,y),kb;fw(ue)||T1(),f=Db(c,f,p)}else fw(ue)?(f.flags|=192,f.child=c.child,f=null):(c=Ae.treeContext,In=So(ue.nextSibling),bs=f,Mr=!0,ti=null,la=!1,c!==null&&c1(f,c),f=Fb(f,y.children),f.flags|=4096);return f}return S?(Fa(),ue=y.fallback,S=f.mode,Ae=c.child,We=Ae.sibling,y=dl(Ae,{mode:"hidden",children:y.children}),y.subtreeFlags=Ae.subtreeFlags&65011712,We!==null?ue=dl(We,ue):(ue=Vc(ue,S,p,null),ue.flags|=2),ue.return=f,y.return=f,y.sibling=ue,f.child=y,Hp(null,y),y=f.child,ue=c.child.memoizedState,ue===null?ue=Tb(p):(S=ue.cachePool,S!==null?(Ae=Na._currentValue,S=S.parent!==Ae?{parent:Ae,pool:Ae}:S):S=we(),ue={baseLanes:ue.baseLanes|p,cachePool:S}),y.memoizedState=ue,y.childLanes=Ob(c,G,p),f.memoizedState=Cb,Hp(c.child,y)):(_a(f),p=c.child,c=p.sibling,p=dl(p,{mode:"visible",children:y.children}),p.return=f,p.sibling=null,c!==null&&(G=f.deletions,G===null?(f.deletions=[c],f.flags|=16):G.push(c)),f.child=p,f.memoizedState=null,p)}function Fb(c,f){return f=w1({mode:"visible",children:f},c.mode),f.return=c,c.child=f}function w1(c,f){return c=Is(22,c,null,f),c.lanes=0,c}function Db(c,f,p){return Bn(f,c.child,null,p),c=Fb(f,f.pendingProps.children),c.flags|=2,f.memoizedState=null,c}function D6(c,f,p){c.lanes|=f;var y=c.alternate;y!==null&&(y.lanes|=f),Yd(c.return,f,p)}function Pb(c,f,p,y,S,F){var G=c.memoizedState;G===null?c.memoizedState={isBackwards:f,rendering:null,renderingStartTime:0,last:y,tail:p,tailMode:S,treeForkCount:F}:(G.isBackwards=f,G.rendering=null,G.renderingStartTime=0,G.last=y,G.tail=p,G.tailMode=S,G.treeForkCount=F)}function P6(c,f,p){var y=f.pendingProps,S=y.revealOrder,F=y.tail;y=y.children;var G=Vr.current,ue=(G&2)!==0;if(ue?(G=G&1|2,f.flags|=128):G&=1,R(Vr,G),ni(c,f,y,p),y=Mr?x0:0,!ue&&c!==null&&(c.flags&128)!==0)e:for(c=f.child;c!==null;){if(c.tag===13)c.memoizedState!==null&&D6(c,p,f);else if(c.tag===19)D6(c,p,f);else if(c.child!==null){c.child.return=c,c=c.child;continue}if(c===f)break e;for(;c.sibling===null;){if(c.return===null||c.return===f)break e;c=c.return}c.sibling.return=c.return,c=c.sibling}switch(S){case"forwards":for(p=f.child,S=null;p!==null;)c=p.alternate,c!==null&&Us(c)===null&&(S=p),p=p.sibling;p=S,p===null?(S=f.child,f.child=null):(S=p.sibling,p.sibling=null),Pb(f,!1,S,p,F,y);break;case"backwards":case"unstable_legacy-backwards":for(p=null,S=f.child,f.child=null;S!==null;){if(c=S.alternate,c!==null&&Us(c)===null){f.child=S;break}c=S.sibling,S.sibling=p,p=S,S=c}Pb(f,!0,p,null,F,y);break;case"together":Pb(f,!1,null,null,void 0,y);break;default:f.memoizedState=null}return f.child}function Uu(c,f,p){if(c!==null&&(f.dependencies=c.dependencies),nf|=f.lanes,(p&f.childLanes)===0)if(c!==null){if(Xc(c,f,p,!1),(p&f.childLanes)===0)return null}else return null;if(c!==null&&f.child!==c.child)throw Error(n(153));if(f.child!==null){for(c=f.child,p=dl(c,c.pendingProps),f.child=p,p.return=f;c.sibling!==null;)c=c.sibling,p=p.sibling=dl(c,c.pendingProps),p.return=f;p.sibling=null}return f.child}function Lb(c,f){return(c.lanes&f)!==0?!0:(c=c.dependencies,!!(c!==null&&Wh(c)))}function RU(c,f,p){switch(f.tag){case 3:Q(f,f.stateNode.containerInfo),Yc(f,Na,c.memoizedState.cache),Lu();break;case 27:case 5:ye(f);break;case 4:Q(f,f.stateNode.containerInfo);break;case 10:Yc(f,f.type,f.memoizedProps.value);break;case 31:if(f.memoizedState!==null)return f.flags|=128,fn(f),null;break;case 13:var y=f.memoizedState;if(y!==null)return y.dehydrated!==null?(_a(f),f.flags|=128,null):(p&f.child.childLanes)!==0?F6(c,f,p):(_a(f),c=Uu(c,f,p),c!==null?c.sibling:null);_a(f);break;case 19:var S=(c.flags&128)!==0;if(y=(p&f.childLanes)!==0,y||(Xc(c,f,p,!1),y=(p&f.childLanes)!==0),S){if(y)return P6(c,f,p);f.flags|=128}if(S=f.memoizedState,S!==null&&(S.rendering=null,S.tail=null,S.lastEffect=null),R(Vr,Vr.current),y)break;return null;case 22:return f.lanes=0,A6(c,f,p,f.pendingProps);case 24:Yc(f,Na,c.memoizedState.cache)}return Uu(c,f,p)}function L6(c,f,p){if(c!==null)if(c.memoizedProps!==f.pendingProps)as=!0;else{if(!Lb(c,p)&&(f.flags&128)===0)return as=!1,RU(c,f,p);as=(c.flags&131072)!==0}else as=!1,Mr&&(f.flags&1048576)!==0&&o1(f,x0,f.index);switch(f.lanes=0,f.tag){case 16:e:{var y=f.pendingProps;if(c=Ie(f.elementType),f.type=c,typeof c=="function")Uh(c)?(y=w0(c,y),f.tag=1,f=T6(null,f,c,y,p)):(f.tag=0,f=Eb(null,f,c,y,p));else{if(c!=null){var S=c.$$typeof;if(S===T){f.tag=11,f=_6(null,f,c,y,p);break e}else if(S===C){f.tag=14,f=j6(null,f,c,y,p);break e}}throw f=Y(c)||c,Error(n(306,f,""))}}return f;case 0:return Eb(c,f,f.type,f.pendingProps,p);case 1:return y=f.type,S=w0(y,f.pendingProps),T6(c,f,y,S,p);case 3:e:{if(Q(f,f.stateNode.containerInfo),c===null)throw Error(n(387));y=f.pendingProps;var F=f.memoizedState;S=F.element,Yn(c,f),Ca(f,y,null,p);var G=f.memoizedState;if(y=G.cache,Yc(f,Na,y),y!==F.cache&&Mu(f,[Na],p,!0),Fn(),y=G.element,F.isDehydrated)if(F={element:y,isDehydrated:!1,cache:G.cache},f.updateQueue.baseState=F,f.memoizedState=F,f.flags&256){f=O6(c,f,y,p);break e}else if(y!==S){S=fl(Error(n(424)),f),Gd(S),f=O6(c,f,y,p);break e}else{switch(c=f.stateNode.containerInfo,c.nodeType){case 9:c=c.body;break;default:c=c.nodeName==="HTML"?c.ownerDocument.body:c}for(In=So(c.firstChild),bs=f,Mr=!0,ti=null,la=!0,p=gr(f,null,y,p),f.child=p;p;)p.flags=p.flags&-3|4096,p=p.sibling}else{if(Lu(),y===S){f=Uu(c,f,p);break e}ni(c,f,y,p)}f=f.child}return f;case 26:return b1(c,f),c===null?(p=WA(f.type,null,f.pendingProps,null))?f.memoizedState=p:Mr||(p=f.type,c=f.pendingProps,y=R1(ee.current).createElement(p),y[me]=f,y[ve]=c,ai(y,p,c),Lt(y),f.stateNode=y):f.memoizedState=WA(f.type,c.memoizedProps,f.pendingProps,c.memoizedState),null;case 27:return ye(f),c===null&&Mr&&(y=f.stateNode=$A(f.type,f.pendingProps,ee.current),bs=f,la=!0,S=In,cf(f.type)?(mw=S,In=So(y.firstChild)):In=S),ni(c,f,f.pendingProps.children,p),b1(c,f),c===null&&(f.flags|=4194304),f.child;case 5:return c===null&&Mr&&((S=y=In)&&(y=hz(y,f.type,f.pendingProps,la),y!==null?(f.stateNode=y,bs=f,In=So(y.firstChild),la=!1,S=!0):S=!1),S||Kc(f)),ye(f),S=f.type,F=f.pendingProps,G=c!==null?c.memoizedProps:null,y=F.children,cw(S,F)?y=null:G!==null&&cw(S,G)&&(f.flags|=32),f.memoizedState!==null&&(S=Lp(c,f,xb,null,null,p),sx._currentValue=S),b1(c,f),ni(c,f,y,p),f.child;case 6:return c===null&&Mr&&((c=p=In)&&(p=mz(p,f.pendingProps,la),p!==null?(f.stateNode=p,bs=f,In=null,c=!0):c=!1),c||Kc(f)),null;case 13:return F6(c,f,p);case 4:return Q(f,f.stateNode.containerInfo),y=f.pendingProps,c===null?f.child=Bn(f,null,y,p):ni(c,f,y,p),f.child;case 11:return _6(c,f,f.type,f.pendingProps,p);case 7:return ni(c,f,f.pendingProps,p),f.child;case 8:return ni(c,f,f.pendingProps.children,p),f.child;case 12:return ni(c,f,f.pendingProps.children,p),f.child;case 10:return y=f.pendingProps,Yc(f,f.type,y.value),ni(c,f,y.children,p),f.child;case 9:return S=f.type._context,y=f.pendingProps.children,Qc(f),S=Ns(S),y=y(S),f.flags|=1,ni(c,f,y,p),f.child;case 14:return j6(c,f,f.type,f.pendingProps,p);case 15:return S6(c,f,f.type,f.pendingProps,p);case 19:return P6(c,f,p);case 31:return MU(c,f,p);case 22:return A6(c,f,p,f.pendingProps);case 24:return Qc(f),y=Ns(Na),c===null?(S=fe(),S===null&&(S=Un,F=Xd(),S.pooledCache=F,F.refCount++,F!==null&&(S.pooledCacheLanes|=p),S=F),f.memoizedState={parent:y,cache:S},St(f),Yc(f,Na,S)):((c.lanes&p)!==0&&(Yn(c,f),Ca(f,null,null,p),Fn()),S=c.memoizedState,F=f.memoizedState,S.parent!==y?(S={parent:y,cache:y},f.memoizedState=S,f.lanes===0&&(f.memoizedState=f.updateQueue.baseState=S),Yc(f,Na,y)):(y=F.cache,Yc(f,Na,y),y!==S.cache&&Mu(f,[Na],p,!0))),ni(c,f,f.pendingProps.children,p),f.child;case 29:throw f.pendingProps}throw Error(n(156,f.tag))}function zu(c){c.flags|=4}function Mb(c,f,p,y,S){if((f=(c.mode&32)!==0)&&(f=!1),f){if(c.flags|=16777216,(S&335544128)===S)if(c.stateNode.complete)c.flags|=8192;else if(oA())c.flags|=8192;else throw tt=Fe,qe}else c.flags&=-16777217}function M6(c,f){if(f.type!=="stylesheet"||(f.state.loading&4)!==0)c.flags&=-16777217;else if(c.flags|=16777216,!QA(f))if(oA())c.flags|=8192;else throw tt=Fe,qe}function N1(c,f){f!==null&&(c.flags|=4),c.flags&16384&&(f=c.tag!==22?sl():536870912,c.lanes|=f,lm|=f)}function Vp(c,f){if(!Mr)switch(c.tailMode){case"hidden":f=c.tail;for(var p=null;f!==null;)f.alternate!==null&&(p=f),f=f.sibling;p===null?c.tail=null:p.sibling=null;break;case"collapsed":p=c.tail;for(var y=null;p!==null;)p.alternate!==null&&(y=p),p=p.sibling;y===null?f||c.tail===null?c.tail=null:c.tail.sibling=null:y.sibling=null}}function Zn(c){var f=c.alternate!==null&&c.alternate.child===c.child,p=0,y=0;if(f)for(var S=c.child;S!==null;)p|=S.lanes|S.childLanes,y|=S.subtreeFlags&65011712,y|=S.flags&65011712,S.return=c,S=S.sibling;else for(S=c.child;S!==null;)p|=S.lanes|S.childLanes,y|=S.subtreeFlags,y|=S.flags,S.return=c,S=S.sibling;return c.subtreeFlags|=y,c.childLanes=p,f}function IU(c,f,p){var y=f.pendingProps;switch(Hh(f),f.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Zn(f),null;case 1:return Zn(f),null;case 3:return p=f.stateNode,y=null,c!==null&&(y=c.memoizedState.cache),f.memoizedState.cache!==y&&(f.flags|=2048),gl(Na),re(),p.pendingContext&&(p.context=p.pendingContext,p.pendingContext=null),(c===null||c.child===null)&&(ws(f)?zu(f):c===null||c.memoizedState.isDehydrated&&(f.flags&256)===0||(f.flags|=1024,Dp())),Zn(f),null;case 26:var S=f.type,F=f.memoizedState;return c===null?(zu(f),F!==null?(Zn(f),M6(f,F)):(Zn(f),Mb(f,S,null,y,p))):F?F!==c.memoizedState?(zu(f),Zn(f),M6(f,F)):(Zn(f),f.flags&=-16777217):(c=c.memoizedProps,c!==y&&zu(f),Zn(f),Mb(f,S,c,y,p)),null;case 27:if(Ee(f),p=ee.current,S=f.type,c!==null&&f.stateNode!=null)c.memoizedProps!==y&&zu(f);else{if(!y){if(f.stateNode===null)throw Error(n(166));return Zn(f),null}c=q.current,ws(f)?Fp(f):(c=$A(S,y,p),f.stateNode=c,zu(f))}return Zn(f),null;case 5:if(Ee(f),S=f.type,c!==null&&f.stateNode!=null)c.memoizedProps!==y&&zu(f);else{if(!y){if(f.stateNode===null)throw Error(n(166));return Zn(f),null}if(F=q.current,ws(f))Fp(f);else{var G=R1(ee.current);switch(F){case 1:F=G.createElementNS("http://www.w3.org/2000/svg",S);break;case 2:F=G.createElementNS("http://www.w3.org/1998/Math/MathML",S);break;default:switch(S){case"svg":F=G.createElementNS("http://www.w3.org/2000/svg",S);break;case"math":F=G.createElementNS("http://www.w3.org/1998/Math/MathML",S);break;case"script":F=G.createElement("div"),F.innerHTML="<script><\/script>",F=F.removeChild(F.firstChild);break;case"select":F=typeof y.is=="string"?G.createElement("select",{is:y.is}):G.createElement("select"),y.multiple?F.multiple=!0:y.size&&(F.size=y.size);break;default:F=typeof y.is=="string"?G.createElement(S,{is:y.is}):G.createElement(S)}}F[me]=f,F[ve]=y;e:for(G=f.child;G!==null;){if(G.tag===5||G.tag===6)F.appendChild(G.stateNode);else if(G.tag!==4&&G.tag!==27&&G.child!==null){G.child.return=G,G=G.child;continue}if(G===f)break e;for(;G.sibling===null;){if(G.return===null||G.return===f)break e;G=G.return}G.sibling.return=G.return,G=G.sibling}f.stateNode=F;e:switch(ai(F,S,y),S){case"button":case"input":case"select":case"textarea":y=!!y.autoFocus;break e;case"img":y=!0;break e;default:y=!1}y&&zu(f)}}return Zn(f),Mb(f,f.type,c===null?null:c.memoizedProps,f.pendingProps,p),null;case 6:if(c&&f.stateNode!=null)c.memoizedProps!==y&&zu(f);else{if(typeof y!="string"&&f.stateNode===null)throw Error(n(166));if(c=ee.current,ws(f)){if(c=f.stateNode,p=f.memoizedProps,y=null,S=bs,S!==null)switch(S.tag){case 27:case 5:y=S.memoizedProps}c[me]=f,c=!!(c.nodeValue===p||y!==null&&y.suppressHydrationWarning===!0||FA(c.nodeValue,p)),c||Kc(f,!0)}else c=R1(c).createTextNode(y),c[me]=f,f.stateNode=c}return Zn(f),null;case 31:if(p=f.memoizedState,c===null||c.memoizedState!==null){if(y=ws(f),p!==null){if(c===null){if(!y)throw Error(n(318));if(c=f.memoizedState,c=c!==null?c.dehydrated:null,!c)throw Error(n(557));c[me]=f}else Lu(),(f.flags&128)===0&&(f.memoizedState=null),f.flags|=4;Zn(f),c=!1}else p=Dp(),c!==null&&c.memoizedState!==null&&(c.memoizedState.hydrationErrors=p),c=!0;if(!c)return f.flags&256?(vn(f),f):(vn(f),null);if((f.flags&128)!==0)throw Error(n(558))}return Zn(f),null;case 13:if(y=f.memoizedState,c===null||c.memoizedState!==null&&c.memoizedState.dehydrated!==null){if(S=ws(f),y!==null&&y.dehydrated!==null){if(c===null){if(!S)throw Error(n(318));if(S=f.memoizedState,S=S!==null?S.dehydrated:null,!S)throw Error(n(317));S[me]=f}else Lu(),(f.flags&128)===0&&(f.memoizedState=null),f.flags|=4;Zn(f),S=!1}else S=Dp(),c!==null&&c.memoizedState!==null&&(c.memoizedState.hydrationErrors=S),S=!0;if(!S)return f.flags&256?(vn(f),f):(vn(f),null)}return vn(f),(f.flags&128)!==0?(f.lanes=p,f):(p=y!==null,c=c!==null&&c.memoizedState!==null,p&&(y=f.child,S=null,y.alternate!==null&&y.alternate.memoizedState!==null&&y.alternate.memoizedState.cachePool!==null&&(S=y.alternate.memoizedState.cachePool.pool),F=null,y.memoizedState!==null&&y.memoizedState.cachePool!==null&&(F=y.memoizedState.cachePool.pool),F!==S&&(y.flags|=2048)),p!==c&&p&&(f.child.flags|=8192),N1(f,f.updateQueue),Zn(f),null);case 4:return re(),c===null&&aw(f.stateNode.containerInfo),Zn(f),null;case 10:return gl(f.type),Zn(f),null;case 19:if(M(Vr),y=f.memoizedState,y===null)return Zn(f),null;if(S=(f.flags&128)!==0,F=y.rendering,F===null)if(S)Vp(y,!1);else{if(Pa!==0||c!==null&&(c.flags&128)!==0)for(c=f.child;c!==null;){if(F=Us(c),F!==null){for(f.flags|=128,Vp(y,!1),c=F.updateQueue,f.updateQueue=c,N1(f,c),f.subtreeFlags=0,c=p,p=f.child;p!==null;)m0(p,c),p=p.sibling;return R(Vr,Vr.current&1|2),Mr&&Ki(f,y.treeForkCount),f.child}c=c.sibling}y.tail!==null&&Et()>k1&&(f.flags|=128,S=!0,Vp(y,!1),f.lanes=4194304)}else{if(!S)if(c=Us(F),c!==null){if(f.flags|=128,S=!0,c=c.updateQueue,f.updateQueue=c,N1(f,c),Vp(y,!0),y.tail===null&&y.tailMode==="hidden"&&!F.alternate&&!Mr)return Zn(f),null}else 2*Et()-y.renderingStartTime>k1&&p!==536870912&&(f.flags|=128,S=!0,Vp(y,!1),f.lanes=4194304);y.isBackwards?(F.sibling=f.child,f.child=F):(c=y.last,c!==null?c.sibling=F:f.child=F,y.last=F)}return y.tail!==null?(c=y.tail,y.rendering=c,y.tail=c.sibling,y.renderingStartTime=Et(),c.sibling=null,p=Vr.current,R(Vr,S?p&1|2:p&1),Mr&&Ki(f,y.treeForkCount),c):(Zn(f),null);case 22:case 23:return vn(f),Va(),y=f.memoizedState!==null,c!==null?c.memoizedState!==null!==y&&(f.flags|=8192):y&&(f.flags|=8192),y?(p&536870912)!==0&&(f.flags&128)===0&&(Zn(f),f.subtreeFlags&6&&(f.flags|=8192)):Zn(f),p=f.updateQueue,p!==null&&N1(f,p.retryQueue),p=null,c!==null&&c.memoizedState!==null&&c.memoizedState.cachePool!==null&&(p=c.memoizedState.cachePool.pool),y=null,f.memoizedState!==null&&f.memoizedState.cachePool!==null&&(y=f.memoizedState.cachePool.pool),y!==p&&(f.flags|=2048),c!==null&&M(le),null;case 24:return p=null,c!==null&&(p=c.memoizedState.cache),f.memoizedState.cache!==p&&(f.flags|=2048),gl(Na),Zn(f),null;case 25:return null;case 30:return null}throw Error(n(156,f.tag))}function BU(c,f){switch(Hh(f),f.tag){case 1:return c=f.flags,c&65536?(f.flags=c&-65537|128,f):null;case 3:return gl(Na),re(),c=f.flags,(c&65536)!==0&&(c&128)===0?(f.flags=c&-65537|128,f):null;case 26:case 27:case 5:return Ee(f),null;case 31:if(f.memoizedState!==null){if(vn(f),f.alternate===null)throw Error(n(340));Lu()}return c=f.flags,c&65536?(f.flags=c&-65537|128,f):null;case 13:if(vn(f),c=f.memoizedState,c!==null&&c.dehydrated!==null){if(f.alternate===null)throw Error(n(340));Lu()}return c=f.flags,c&65536?(f.flags=c&-65537|128,f):null;case 19:return M(Vr),null;case 4:return re(),null;case 10:return gl(f.type),null;case 22:case 23:return vn(f),Va(),c!==null&&M(le),c=f.flags,c&65536?(f.flags=c&-65537|128,f):null;case 24:return gl(Na),null;case 25:return null;default:return null}}function R6(c,f){switch(Hh(f),f.tag){case 3:gl(Na),re();break;case 26:case 27:case 5:Ee(f);break;case 4:re();break;case 31:f.memoizedState!==null&&vn(f);break;case 13:vn(f);break;case 19:M(Vr);break;case 10:gl(f.type);break;case 22:case 23:vn(f),Va(),c!==null&&M(le);break;case 24:gl(Na)}}function Wp(c,f){try{var p=f.updateQueue,y=p!==null?p.lastEffect:null;if(y!==null){var S=y.next;p=S;do{if((p.tag&c)===c){y=void 0;var F=p.create,G=p.inst;y=F(),G.destroy=y}p=p.next}while(p!==S)}}catch(ue){bn(f,f.return,ue)}}function tf(c,f,p){try{var y=f.updateQueue,S=y!==null?y.lastEffect:null;if(S!==null){var F=S.next;y=F;do{if((y.tag&c)===c){var G=y.inst,ue=G.destroy;if(ue!==void 0){G.destroy=void 0,S=f;var Ae=p,We=ue;try{We()}catch(at){bn(S,Ae,at)}}}y=y.next}while(y!==F)}}catch(at){bn(f,f.return,at)}}function I6(c){var f=c.updateQueue;if(f!==null){var p=c.stateNode;try{Ta(f,p)}catch(y){bn(c,c.return,y)}}}function B6(c,f,p){p.props=w0(c.type,c.memoizedProps),p.state=c.memoizedState;try{p.componentWillUnmount()}catch(y){bn(c,f,y)}}function Kp(c,f){try{var p=c.ref;if(p!==null){switch(c.tag){case 26:case 27:case 5:var y=c.stateNode;break;case 30:y=c.stateNode;break;default:y=c.stateNode}typeof p=="function"?c.refCleanup=p(y):p.current=y}}catch(S){bn(c,f,S)}}function ru(c,f){var p=c.ref,y=c.refCleanup;if(p!==null)if(typeof y=="function")try{y()}catch(S){bn(c,f,S)}finally{c.refCleanup=null,c=c.alternate,c!=null&&(c.refCleanup=null)}else if(typeof p=="function")try{p(null)}catch(S){bn(c,f,S)}else p.current=null}function U6(c){var f=c.type,p=c.memoizedProps,y=c.stateNode;try{e:switch(f){case"button":case"input":case"select":case"textarea":p.autoFocus&&y.focus();break e;case"img":p.src?y.src=p.src:p.srcSet&&(y.srcset=p.srcSet)}}catch(S){bn(c,c.return,S)}}function Rb(c,f,p){try{var y=c.stateNode;lz(y,c.type,p,f),y[ve]=f}catch(S){bn(c,c.return,S)}}function z6(c){return c.tag===5||c.tag===3||c.tag===26||c.tag===27&&cf(c.type)||c.tag===4}function Ib(c){e:for(;;){for(;c.sibling===null;){if(c.return===null||z6(c.return))return null;c=c.return}for(c.sibling.return=c.return,c=c.sibling;c.tag!==5&&c.tag!==6&&c.tag!==18;){if(c.tag===27&&cf(c.type)||c.flags&2||c.child===null||c.tag===4)continue e;c.child.return=c,c=c.child}if(!(c.flags&2))return c.stateNode}}function Bb(c,f,p){var y=c.tag;if(y===5||y===6)c=c.stateNode,f?(p.nodeType===9?p.body:p.nodeName==="HTML"?p.ownerDocument.body:p).insertBefore(c,f):(f=p.nodeType===9?p.body:p.nodeName==="HTML"?p.ownerDocument.body:p,f.appendChild(c),p=p._reactRootContainer,p!=null||f.onclick!==null||(f.onclick=Ml));else if(y!==4&&(y===27&&cf(c.type)&&(p=c.stateNode,f=null),c=c.child,c!==null))for(Bb(c,f,p),c=c.sibling;c!==null;)Bb(c,f,p),c=c.sibling}function _1(c,f,p){var y=c.tag;if(y===5||y===6)c=c.stateNode,f?p.insertBefore(c,f):p.appendChild(c);else if(y!==4&&(y===27&&cf(c.type)&&(p=c.stateNode),c=c.child,c!==null))for(_1(c,f,p),c=c.sibling;c!==null;)_1(c,f,p),c=c.sibling}function q6(c){var f=c.stateNode,p=c.memoizedProps;try{for(var y=c.type,S=f.attributes;S.length;)f.removeAttributeNode(S[0]);ai(f,y,p),f[me]=c,f[ve]=p}catch(F){bn(c,c.return,F)}}var qu=!1,ss=!1,Ub=!1,$6=typeof WeakSet=="function"?WeakSet:Set,zs=null;function UU(c,f){if(c=c.containerInfo,lw=H1,c=cc(c),bo(c)){if("selectionStart"in c)var p={start:c.selectionStart,end:c.selectionEnd};else e:{p=(p=c.ownerDocument)&&p.defaultView||window;var y=p.getSelection&&p.getSelection();if(y&&y.rangeCount!==0){p=y.anchorNode;var S=y.anchorOffset,F=y.focusNode;y=y.focusOffset;try{p.nodeType,F.nodeType}catch{p=null;break e}var G=0,ue=-1,Ae=-1,We=0,at=0,ut=c,Ge=null;t:for(;;){for(var Qe;ut!==p||S!==0&&ut.nodeType!==3||(ue=G+S),ut!==F||y!==0&&ut.nodeType!==3||(Ae=G+y),ut.nodeType===3&&(G+=ut.nodeValue.length),(Qe=ut.firstChild)!==null;)Ge=ut,ut=Qe;for(;;){if(ut===c)break t;if(Ge===p&&++We===S&&(ue=G),Ge===F&&++at===y&&(Ae=G),(Qe=ut.nextSibling)!==null)break;ut=Ge,Ge=ut.parentNode}ut=Qe}p=ue===-1||Ae===-1?null:{start:ue,end:Ae}}else p=null}p=p||{start:0,end:0}}else p=null;for(ow={focusedElem:c,selectionRange:p},H1=!1,zs=f;zs!==null;)if(f=zs,c=f.child,(f.subtreeFlags&1028)!==0&&c!==null)c.return=f,zs=c;else for(;zs!==null;){switch(f=zs,F=f.alternate,c=f.flags,f.tag){case 0:if((c&4)!==0&&(c=f.updateQueue,c=c!==null?c.events:null,c!==null))for(p=0;p<c.length;p++)S=c[p],S.ref.impl=S.nextImpl;break;case 11:case 15:break;case 1:if((c&1024)!==0&&F!==null){c=void 0,p=f,S=F.memoizedProps,F=F.memoizedState,y=p.stateNode;try{var Ut=w0(p.type,S);c=y.getSnapshotBeforeUpdate(Ut,F),y.__reactInternalSnapshotBeforeUpdate=c}catch(or){bn(p,p.return,or)}}break;case 3:if((c&1024)!==0){if(c=f.stateNode.containerInfo,p=c.nodeType,p===9)dw(c);else if(p===1)switch(c.nodeName){case"HEAD":case"HTML":case"BODY":dw(c);break;default:c.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((c&1024)!==0)throw Error(n(163))}if(c=f.sibling,c!==null){c.return=f.return,zs=c;break}zs=f.return}}function H6(c,f,p){var y=p.flags;switch(p.tag){case 0:case 11:case 15:Hu(c,p),y&4&&Wp(5,p);break;case 1:if(Hu(c,p),y&4)if(c=p.stateNode,f===null)try{c.componentDidMount()}catch(G){bn(p,p.return,G)}else{var S=w0(p.type,f.memoizedProps);f=f.memoizedState;try{c.componentDidUpdate(S,f,c.__reactInternalSnapshotBeforeUpdate)}catch(G){bn(p,p.return,G)}}y&64&&I6(p),y&512&&Kp(p,p.return);break;case 3:if(Hu(c,p),y&64&&(c=p.updateQueue,c!==null)){if(f=null,p.child!==null)switch(p.child.tag){case 27:case 5:f=p.child.stateNode;break;case 1:f=p.child.stateNode}try{Ta(c,f)}catch(G){bn(p,p.return,G)}}break;case 27:f===null&&y&4&&q6(p);case 26:case 5:Hu(c,p),f===null&&y&4&&U6(p),y&512&&Kp(p,p.return);break;case 12:Hu(c,p);break;case 31:Hu(c,p),y&4&&K6(c,p);break;case 13:Hu(c,p),y&4&&G6(c,p),y&64&&(c=p.memoizedState,c!==null&&(c=c.dehydrated,c!==null&&(p=YU.bind(null,p),pz(c,p))));break;case 22:if(y=p.memoizedState!==null||qu,!y){f=f!==null&&f.memoizedState!==null||ss,S=qu;var F=ss;qu=y,(ss=f)&&!F?Vu(c,p,(p.subtreeFlags&8772)!==0):Hu(c,p),qu=S,ss=F}break;case 30:break;default:Hu(c,p)}}function V6(c){var f=c.alternate;f!==null&&(c.alternate=null,V6(f)),c.child=null,c.deletions=null,c.sibling=null,c.tag===5&&(f=c.stateNode,f!==null&&pt(f)),c.stateNode=null,c.return=null,c.dependencies=null,c.memoizedProps=null,c.memoizedState=null,c.pendingProps=null,c.stateNode=null,c.updateQueue=null}var ua=null,yl=!1;function $u(c,f,p){for(p=p.child;p!==null;)W6(c,f,p),p=p.sibling}function W6(c,f,p){if(kt&&typeof kt.onCommitFiberUnmount=="function")try{kt.onCommitFiberUnmount(Zt,p)}catch{}switch(p.tag){case 26:ss||ru(p,f),$u(c,f,p),p.memoizedState?p.memoizedState.count--:p.stateNode&&(p=p.stateNode,p.parentNode.removeChild(p));break;case 27:ss||ru(p,f);var y=ua,S=yl;cf(p.type)&&(ua=p.stateNode,yl=!1),$u(c,f,p),rx(p.stateNode),ua=y,yl=S;break;case 5:ss||ru(p,f);case 6:if(y=ua,S=yl,ua=null,$u(c,f,p),ua=y,yl=S,ua!==null)if(yl)try{(ua.nodeType===9?ua.body:ua.nodeName==="HTML"?ua.ownerDocument.body:ua).removeChild(p.stateNode)}catch(F){bn(p,f,F)}else try{ua.removeChild(p.stateNode)}catch(F){bn(p,f,F)}break;case 18:ua!==null&&(yl?(c=ua,IA(c.nodeType===9?c.body:c.nodeName==="HTML"?c.ownerDocument.body:c,p.stateNode),pm(c)):IA(ua,p.stateNode));break;case 4:y=ua,S=yl,ua=p.stateNode.containerInfo,yl=!0,$u(c,f,p),ua=y,yl=S;break;case 0:case 11:case 14:case 15:tf(2,p,f),ss||tf(4,p,f),$u(c,f,p);break;case 1:ss||(ru(p,f),y=p.stateNode,typeof y.componentWillUnmount=="function"&&B6(p,f,y)),$u(c,f,p);break;case 21:$u(c,f,p);break;case 22:ss=(y=ss)||p.memoizedState!==null,$u(c,f,p),ss=y;break;default:$u(c,f,p)}}function K6(c,f){if(f.memoizedState===null&&(c=f.alternate,c!==null&&(c=c.memoizedState,c!==null))){c=c.dehydrated;try{pm(c)}catch(p){bn(f,f.return,p)}}}function G6(c,f){if(f.memoizedState===null&&(c=f.alternate,c!==null&&(c=c.memoizedState,c!==null&&(c=c.dehydrated,c!==null))))try{pm(c)}catch(p){bn(f,f.return,p)}}function zU(c){switch(c.tag){case 31:case 13:case 19:var f=c.stateNode;return f===null&&(f=c.stateNode=new $6),f;case 22:return c=c.stateNode,f=c._retryCache,f===null&&(f=c._retryCache=new $6),f;default:throw Error(n(435,c.tag))}}function j1(c,f){var p=zU(c);f.forEach(function(y){if(!p.has(y)){p.add(y);var S=XU.bind(null,c,y);y.then(S,S)}})}function bl(c,f){var p=f.deletions;if(p!==null)for(var y=0;y<p.length;y++){var S=p[y],F=c,G=f,ue=G;e:for(;ue!==null;){switch(ue.tag){case 27:if(cf(ue.type)){ua=ue.stateNode,yl=!1;break e}break;case 5:ua=ue.stateNode,yl=!1;break e;case 3:case 4:ua=ue.stateNode.containerInfo,yl=!0;break e}ue=ue.return}if(ua===null)throw Error(n(160));W6(F,G,S),ua=null,yl=!1,F=S.alternate,F!==null&&(F.return=null),S.return=null}if(f.subtreeFlags&13886)for(f=f.child;f!==null;)Y6(f,c),f=f.sibling}var gc=null;function Y6(c,f){var p=c.alternate,y=c.flags;switch(c.tag){case 0:case 11:case 14:case 15:bl(f,c),wl(c),y&4&&(tf(3,c,c.return),Wp(3,c),tf(5,c,c.return));break;case 1:bl(f,c),wl(c),y&512&&(ss||p===null||ru(p,p.return)),y&64&&qu&&(c=c.updateQueue,c!==null&&(y=c.callbacks,y!==null&&(p=c.shared.hiddenCallbacks,c.shared.hiddenCallbacks=p===null?y:p.concat(y))));break;case 26:var S=gc;if(bl(f,c),wl(c),y&512&&(ss||p===null||ru(p,p.return)),y&4){var F=p!==null?p.memoizedState:null;if(y=c.memoizedState,p===null)if(y===null)if(c.stateNode===null){e:{y=c.type,p=c.memoizedProps,S=S.ownerDocument||S;t:switch(y){case"title":F=S.getElementsByTagName("title")[0],(!F||F[He]||F[me]||F.namespaceURI==="http://www.w3.org/2000/svg"||F.hasAttribute("itemprop"))&&(F=S.createElement(y),S.head.insertBefore(F,S.querySelector("head > title"))),ai(F,y,p),F[me]=c,Lt(F),y=F;break e;case"link":var G=YA("link","href",S).get(y+(p.href||""));if(G){for(var ue=0;ue<G.length;ue++)if(F=G[ue],F.getAttribute("href")===(p.href==null||p.href===""?null:p.href)&&F.getAttribute("rel")===(p.rel==null?null:p.rel)&&F.getAttribute("title")===(p.title==null?null:p.title)&&F.getAttribute("crossorigin")===(p.crossOrigin==null?null:p.crossOrigin)){G.splice(ue,1);break t}}F=S.createElement(y),ai(F,y,p),S.head.appendChild(F);break;case"meta":if(G=YA("meta","content",S).get(y+(p.content||""))){for(ue=0;ue<G.length;ue++)if(F=G[ue],F.getAttribute("content")===(p.content==null?null:""+p.content)&&F.getAttribute("name")===(p.name==null?null:p.name)&&F.getAttribute("property")===(p.property==null?null:p.property)&&F.getAttribute("http-equiv")===(p.httpEquiv==null?null:p.httpEquiv)&&F.getAttribute("charset")===(p.charSet==null?null:p.charSet)){G.splice(ue,1);break t}}F=S.createElement(y),ai(F,y,p),S.head.appendChild(F);break;default:throw Error(n(468,y))}F[me]=c,Lt(F),y=F}c.stateNode=y}else XA(S,c.type,c.stateNode);else c.stateNode=GA(S,y,c.memoizedProps);else F!==y?(F===null?p.stateNode!==null&&(p=p.stateNode,p.parentNode.removeChild(p)):F.count--,y===null?XA(S,c.type,c.stateNode):GA(S,y,c.memoizedProps)):y===null&&c.stateNode!==null&&Rb(c,c.memoizedProps,p.memoizedProps)}break;case 27:bl(f,c),wl(c),y&512&&(ss||p===null||ru(p,p.return)),p!==null&&y&4&&Rb(c,c.memoizedProps,p.memoizedProps);break;case 5:if(bl(f,c),wl(c),y&512&&(ss||p===null||ru(p,p.return)),c.flags&32){S=c.stateNode;try{Ui(S,"")}catch(Ut){bn(c,c.return,Ut)}}y&4&&c.stateNode!=null&&(S=c.memoizedProps,Rb(c,S,p!==null?p.memoizedProps:S)),y&1024&&(Ub=!0);break;case 6:if(bl(f,c),wl(c),y&4){if(c.stateNode===null)throw Error(n(162));y=c.memoizedProps,p=c.stateNode;try{p.nodeValue=y}catch(Ut){bn(c,c.return,Ut)}}break;case 3:if(U1=null,S=gc,gc=I1(f.containerInfo),bl(f,c),gc=S,wl(c),y&4&&p!==null&&p.memoizedState.isDehydrated)try{pm(f.containerInfo)}catch(Ut){bn(c,c.return,Ut)}Ub&&(Ub=!1,X6(c));break;case 4:y=gc,gc=I1(c.stateNode.containerInfo),bl(f,c),wl(c),gc=y;break;case 12:bl(f,c),wl(c);break;case 31:bl(f,c),wl(c),y&4&&(y=c.updateQueue,y!==null&&(c.updateQueue=null,j1(c,y)));break;case 13:bl(f,c),wl(c),c.child.flags&8192&&c.memoizedState!==null!=(p!==null&&p.memoizedState!==null)&&(A1=Et()),y&4&&(y=c.updateQueue,y!==null&&(c.updateQueue=null,j1(c,y)));break;case 22:S=c.memoizedState!==null;var Ae=p!==null&&p.memoizedState!==null,We=qu,at=ss;if(qu=We||S,ss=at||Ae,bl(f,c),ss=at,qu=We,wl(c),y&8192)e:for(f=c.stateNode,f._visibility=S?f._visibility&-2:f._visibility|1,S&&(p===null||Ae||qu||ss||N0(c)),p=null,f=c;;){if(f.tag===5||f.tag===26){if(p===null){Ae=p=f;try{if(F=Ae.stateNode,S)G=F.style,typeof G.setProperty=="function"?G.setProperty("display","none","important"):G.display="none";else{ue=Ae.stateNode;var ut=Ae.memoizedProps.style,Ge=ut!=null&&ut.hasOwnProperty("display")?ut.display:null;ue.style.display=Ge==null||typeof Ge=="boolean"?"":(""+Ge).trim()}}catch(Ut){bn(Ae,Ae.return,Ut)}}}else if(f.tag===6){if(p===null){Ae=f;try{Ae.stateNode.nodeValue=S?"":Ae.memoizedProps}catch(Ut){bn(Ae,Ae.return,Ut)}}}else if(f.tag===18){if(p===null){Ae=f;try{var Qe=Ae.stateNode;S?BA(Qe,!0):BA(Ae.stateNode,!1)}catch(Ut){bn(Ae,Ae.return,Ut)}}}else if((f.tag!==22&&f.tag!==23||f.memoizedState===null||f===c)&&f.child!==null){f.child.return=f,f=f.child;continue}if(f===c)break e;for(;f.sibling===null;){if(f.return===null||f.return===c)break e;p===f&&(p=null),f=f.return}p===f&&(p=null),f.sibling.return=f.return,f=f.sibling}y&4&&(y=c.updateQueue,y!==null&&(p=y.retryQueue,p!==null&&(y.retryQueue=null,j1(c,p))));break;case 19:bl(f,c),wl(c),y&4&&(y=c.updateQueue,y!==null&&(c.updateQueue=null,j1(c,y)));break;case 30:break;case 21:break;default:bl(f,c),wl(c)}}function wl(c){var f=c.flags;if(f&2){try{for(var p,y=c.return;y!==null;){if(z6(y)){p=y;break}y=y.return}if(p==null)throw Error(n(160));switch(p.tag){case 27:var S=p.stateNode,F=Ib(c);_1(c,F,S);break;case 5:var G=p.stateNode;p.flags&32&&(Ui(G,""),p.flags&=-33);var ue=Ib(c);_1(c,ue,G);break;case 3:case 4:var Ae=p.stateNode.containerInfo,We=Ib(c);Bb(c,We,Ae);break;default:throw Error(n(161))}}catch(at){bn(c,c.return,at)}c.flags&=-3}f&4096&&(c.flags&=-4097)}function X6(c){if(c.subtreeFlags&1024)for(c=c.child;c!==null;){var f=c;X6(f),f.tag===5&&f.flags&1024&&f.stateNode.reset(),c=c.sibling}}function Hu(c,f){if(f.subtreeFlags&8772)for(f=f.child;f!==null;)H6(c,f.alternate,f),f=f.sibling}function N0(c){for(c=c.child;c!==null;){var f=c;switch(f.tag){case 0:case 11:case 14:case 15:tf(4,f,f.return),N0(f);break;case 1:ru(f,f.return);var p=f.stateNode;typeof p.componentWillUnmount=="function"&&B6(f,f.return,p),N0(f);break;case 27:rx(f.stateNode);case 26:case 5:ru(f,f.return),N0(f);break;case 22:f.memoizedState===null&&N0(f);break;case 30:N0(f);break;default:N0(f)}c=c.sibling}}function Vu(c,f,p){for(p=p&&(f.subtreeFlags&8772)!==0,f=f.child;f!==null;){var y=f.alternate,S=c,F=f,G=F.flags;switch(F.tag){case 0:case 11:case 15:Vu(S,F,p),Wp(4,F);break;case 1:if(Vu(S,F,p),y=F,S=y.stateNode,typeof S.componentDidMount=="function")try{S.componentDidMount()}catch(We){bn(y,y.return,We)}if(y=F,S=y.updateQueue,S!==null){var ue=y.stateNode;try{var Ae=S.shared.hiddenCallbacks;if(Ae!==null)for(S.shared.hiddenCallbacks=null,S=0;S<Ae.length;S++)Bs(Ae[S],ue)}catch(We){bn(y,y.return,We)}}p&&G&64&&I6(F),Kp(F,F.return);break;case 27:q6(F);case 26:case 5:Vu(S,F,p),p&&y===null&&G&4&&U6(F),Kp(F,F.return);break;case 12:Vu(S,F,p);break;case 31:Vu(S,F,p),p&&G&4&&K6(S,F);break;case 13:Vu(S,F,p),p&&G&4&&G6(S,F);break;case 22:F.memoizedState===null&&Vu(S,F,p),Kp(F,F.return);break;case 30:break;default:Vu(S,F,p)}f=f.sibling}}function zb(c,f){var p=null;c!==null&&c.memoizedState!==null&&c.memoizedState.cachePool!==null&&(p=c.memoizedState.cachePool.pool),c=null,f.memoizedState!==null&&f.memoizedState.cachePool!==null&&(c=f.memoizedState.cachePool.pool),c!==p&&(c!=null&&c.refCount++,p!=null&&g0(p))}function qb(c,f){c=null,f.alternate!==null&&(c=f.alternate.memoizedState.cache),f=f.memoizedState.cache,f!==c&&(f.refCount++,c!=null&&g0(c))}function vc(c,f,p,y){if(f.subtreeFlags&10256)for(f=f.child;f!==null;)Q6(c,f,p,y),f=f.sibling}function Q6(c,f,p,y){var S=f.flags;switch(f.tag){case 0:case 11:case 15:vc(c,f,p,y),S&2048&&Wp(9,f);break;case 1:vc(c,f,p,y);break;case 3:vc(c,f,p,y),S&2048&&(c=null,f.alternate!==null&&(c=f.alternate.memoizedState.cache),f=f.memoizedState.cache,f!==c&&(f.refCount++,c!=null&&g0(c)));break;case 12:if(S&2048){vc(c,f,p,y),c=f.stateNode;try{var F=f.memoizedProps,G=F.id,ue=F.onPostCommit;typeof ue=="function"&&ue(G,f.alternate===null?"mount":"update",c.passiveEffectDuration,-0)}catch(Ae){bn(f,f.return,Ae)}}else vc(c,f,p,y);break;case 31:vc(c,f,p,y);break;case 13:vc(c,f,p,y);break;case 23:break;case 22:F=f.stateNode,G=f.alternate,f.memoizedState!==null?F._visibility&2?vc(c,f,p,y):Gp(c,f):F._visibility&2?vc(c,f,p,y):(F._visibility|=2,am(c,f,p,y,(f.subtreeFlags&10256)!==0||!1)),S&2048&&zb(G,f);break;case 24:vc(c,f,p,y),S&2048&&qb(f.alternate,f);break;default:vc(c,f,p,y)}}function am(c,f,p,y,S){for(S=S&&((f.subtreeFlags&10256)!==0||!1),f=f.child;f!==null;){var F=c,G=f,ue=p,Ae=y,We=G.flags;switch(G.tag){case 0:case 11:case 15:am(F,G,ue,Ae,S),Wp(8,G);break;case 23:break;case 22:var at=G.stateNode;G.memoizedState!==null?at._visibility&2?am(F,G,ue,Ae,S):Gp(F,G):(at._visibility|=2,am(F,G,ue,Ae,S)),S&&We&2048&&zb(G.alternate,G);break;case 24:am(F,G,ue,Ae,S),S&&We&2048&&qb(G.alternate,G);break;default:am(F,G,ue,Ae,S)}f=f.sibling}}function Gp(c,f){if(f.subtreeFlags&10256)for(f=f.child;f!==null;){var p=c,y=f,S=y.flags;switch(y.tag){case 22:Gp(p,y),S&2048&&zb(y.alternate,y);break;case 24:Gp(p,y),S&2048&&qb(y.alternate,y);break;default:Gp(p,y)}f=f.sibling}}var Yp=8192;function sm(c,f,p){if(c.subtreeFlags&Yp)for(c=c.child;c!==null;)Z6(c,f,p),c=c.sibling}function Z6(c,f,p){switch(c.tag){case 26:sm(c,f,p),c.flags&Yp&&c.memoizedState!==null&&kz(p,gc,c.memoizedState,c.memoizedProps);break;case 5:sm(c,f,p);break;case 3:case 4:var y=gc;gc=I1(c.stateNode.containerInfo),sm(c,f,p),gc=y;break;case 22:c.memoizedState===null&&(y=c.alternate,y!==null&&y.memoizedState!==null?(y=Yp,Yp=16777216,sm(c,f,p),Yp=y):sm(c,f,p));break;default:sm(c,f,p)}}function J6(c){var f=c.alternate;if(f!==null&&(c=f.child,c!==null)){f.child=null;do f=c.sibling,c.sibling=null,c=f;while(c!==null)}}function Xp(c){var f=c.deletions;if((c.flags&16)!==0){if(f!==null)for(var p=0;p<f.length;p++){var y=f[p];zs=y,tA(y,c)}J6(c)}if(c.subtreeFlags&10256)for(c=c.child;c!==null;)eA(c),c=c.sibling}function eA(c){switch(c.tag){case 0:case 11:case 15:Xp(c),c.flags&2048&&tf(9,c,c.return);break;case 3:Xp(c);break;case 12:Xp(c);break;case 22:var f=c.stateNode;c.memoizedState!==null&&f._visibility&2&&(c.return===null||c.return.tag!==13)?(f._visibility&=-3,S1(c)):Xp(c);break;default:Xp(c)}}function S1(c){var f=c.deletions;if((c.flags&16)!==0){if(f!==null)for(var p=0;p<f.length;p++){var y=f[p];zs=y,tA(y,c)}J6(c)}for(c=c.child;c!==null;){switch(f=c,f.tag){case 0:case 11:case 15:tf(8,f,f.return),S1(f);break;case 22:p=f.stateNode,p._visibility&2&&(p._visibility&=-3,S1(f));break;default:S1(f)}c=c.sibling}}function tA(c,f){for(;zs!==null;){var p=zs;switch(p.tag){case 0:case 11:case 15:tf(8,p,f);break;case 23:case 22:if(p.memoizedState!==null&&p.memoizedState.cachePool!==null){var y=p.memoizedState.cachePool.pool;y!=null&&y.refCount++}break;case 24:g0(p.memoizedState.cache)}if(y=p.child,y!==null)y.return=p,zs=y;else e:for(p=c;zs!==null;){y=zs;var S=y.sibling,F=y.return;if(V6(y),y===p){zs=null;break e}if(S!==null){S.return=F,zs=S;break e}zs=F}}}var qU={getCacheForType:function(c){var f=Ns(Na),p=f.data.get(c);return p===void 0&&(p=c(),f.data.set(c,p)),p},cacheSignal:function(){return Ns(Na).controller.signal}},$U=typeof WeakMap=="function"?WeakMap:Map,hn=0,Un=null,Rr=null,Br=0,yn=0,ql=null,rf=!1,im=!1,$b=!1,Wu=0,Pa=0,nf=0,_0=0,Hb=0,$l=0,lm=0,Qp=null,Nl=null,Vb=!1,A1=0,rA=0,k1=1/0,E1=null,af=null,js=0,sf=null,om=null,Ku=0,Wb=0,Kb=null,nA=null,Zp=0,Gb=null;function Hl(){return(hn&2)!==0&&Br!==0?Br&-Br:te.T!==null?ew():ae()}function aA(){if($l===0)if((Br&536870912)===0||Mr){var c=Hn;Hn<<=1,(Hn&3932160)===0&&(Hn=262144),$l=c}else $l=536870912;return c=Qn.current,c!==null&&(c.flags|=32),$l}function _l(c,f,p){(c===Un&&(yn===2||yn===9)||c.cancelPendingCommit!==null)&&(cm(c,0),lf(c,Br,$l,!1)),Xt(c,p),((hn&2)===0||c!==Un)&&(c===Un&&((hn&2)===0&&(_0|=p),Pa===4&&lf(c,Br,$l,!1)),nu(c))}function sA(c,f,p){if((hn&6)!==0)throw Error(n(327));var y=!p&&(f&127)===0&&(f&c.expiredLanes)===0||Ii(c,f),S=y?WU(c,f):Xb(c,f,!0),F=y;do{if(S===0){im&&!y&&lf(c,f,0,!1);break}else{if(p=c.current.alternate,F&&!HU(p)){S=Xb(c,f,!1),F=!1;continue}if(S===2){if(F=f,c.errorRecoveryDisabledLanes&F)var G=0;else G=c.pendingLanes&-536870913,G=G!==0?G:G&536870912?536870912:0;if(G!==0){f=G;e:{var ue=c;S=Qp;var Ae=ue.current.memoizedState.isDehydrated;if(Ae&&(cm(ue,G).flags|=256),G=Xb(ue,G,!1),G!==2){if($b&&!Ae){ue.errorRecoveryDisabledLanes|=F,_0|=F,S=4;break e}F=Nl,Nl=S,F!==null&&(Nl===null?Nl=F:Nl.push.apply(Nl,F))}S=G}if(F=!1,S!==2)continue}}if(S===1){cm(c,0),lf(c,f,0,!0);break}e:{switch(y=c,F=S,F){case 0:case 1:throw Error(n(345));case 4:if((f&4194048)!==f)break;case 6:lf(y,f,$l,!rf);break e;case 2:Nl=null;break;case 3:case 5:break;default:throw Error(n(329))}if((f&62914560)===f&&(S=A1+300-Et(),10<S)){if(lf(y,f,$l,!rf),Lr(y,0,!0)!==0)break e;Ku=f,y.timeoutHandle=MA(iA.bind(null,y,p,Nl,E1,Vb,f,$l,_0,lm,rf,F,"Throttled",-0,0),S);break e}iA(y,p,Nl,E1,Vb,f,$l,_0,lm,rf,F,null,-0,0)}}break}while(!0);nu(c)}function iA(c,f,p,y,S,F,G,ue,Ae,We,at,ut,Ge,Qe){if(c.timeoutHandle=-1,ut=f.subtreeFlags,ut&8192||(ut&16785408)===16785408){ut={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:Ml},Z6(f,F,ut);var Ut=(F&62914560)===F?A1-Et():(F&4194048)===F?rA-Et():0;if(Ut=Ez(ut,Ut),Ut!==null){Ku=F,c.cancelPendingCommit=Ut(mA.bind(null,c,f,F,p,y,S,G,ue,Ae,at,ut,null,Ge,Qe)),lf(c,F,G,!We);return}}mA(c,f,F,p,y,S,G,ue,Ae)}function HU(c){for(var f=c;;){var p=f.tag;if((p===0||p===11||p===15)&&f.flags&16384&&(p=f.updateQueue,p!==null&&(p=p.stores,p!==null)))for(var y=0;y<p.length;y++){var S=p[y],F=S.getSnapshot;S=S.value;try{if(!vs(F(),S))return!1}catch{return!1}}if(p=f.child,f.subtreeFlags&16384&&p!==null)p.return=f,f=p;else{if(f===c)break;for(;f.sibling===null;){if(f.return===null||f.return===c)return!0;f=f.return}f.sibling.return=f.return,f=f.sibling}}return!0}function lf(c,f,p,y){f&=~Hb,f&=~_0,c.suspendedLanes|=f,c.pingedLanes&=~f,y&&(c.warmLanes|=f),y=c.expirationTimes;for(var S=f;0<S;){var F=31-br(S),G=1<<F;y[F]=-1,S&=~G}p!==0&&il(c,p,f)}function C1(){return(hn&6)===0?(Jp(0),!1):!0}function Yb(){if(Rr!==null){if(yn===0)var c=Rr.return;else c=Rr,No=Gc=null,Qh(c),dt=null,qt=0,c=Rr;for(;c!==null;)R6(c.alternate,c),c=c.return;Rr=null}}function cm(c,f){var p=c.timeoutHandle;p!==-1&&(c.timeoutHandle=-1,uz(p)),p=c.cancelPendingCommit,p!==null&&(c.cancelPendingCommit=null,p()),Ku=0,Yb(),Un=c,Rr=p=dl(c.current,null),Br=f,yn=0,ql=null,rf=!1,im=Ii(c,f),$b=!1,lm=$l=Hb=_0=nf=Pa=0,Nl=Qp=null,Vb=!1,(f&8)!==0&&(f|=f&32);var y=c.entangledLanes;if(y!==0)for(c=c.entanglements,y&=f;0<y;){var S=31-br(y),F=1<<S;f|=c[S],y&=~F}return Wu=f,d0(),p}function lA(c,f){er=null,te.H=$p,f===Te||f===be?(f=it(),yn=3):f===qe?(f=it(),yn=4):yn=f===kb?8:f!==null&&typeof f=="object"&&typeof f.then=="function"?6:1,ql=f,Rr===null&&(Pa=1,v1(c,fl(f,c.current)))}function oA(){var c=Qn.current;return c===null?!0:(Br&4194048)===Br?Gr===null:(Br&62914560)===Br||(Br&536870912)!==0?c===Gr:!1}function cA(){var c=te.H;return te.H=$p,c===null?$p:c}function uA(){var c=te.A;return te.A=qU,c}function T1(){Pa=4,rf||(Br&4194048)!==Br&&Qn.current!==null||(im=!0),(nf&134217727)===0&&(_0&134217727)===0||Un===null||lf(Un,Br,$l,!1)}function Xb(c,f,p){var y=hn;hn|=2;var S=cA(),F=uA();(Un!==c||Br!==f)&&(E1=null,cm(c,f)),f=!1;var G=Pa;e:do try{if(yn!==0&&Rr!==null){var ue=Rr,Ae=ql;switch(yn){case 8:Yb(),G=6;break e;case 3:case 2:case 9:case 6:Qn.current===null&&(f=!0);var We=yn;if(yn=0,ql=null,um(c,ue,Ae,We),p&&im){G=0;break e}break;default:We=yn,yn=0,ql=null,um(c,ue,Ae,We)}}VU(),G=Pa;break}catch(at){lA(c,at)}while(!0);return f&&c.shellSuspendCounter++,No=Gc=null,hn=y,te.H=S,te.A=F,Rr===null&&(Un=null,Br=0,d0()),G}function VU(){for(;Rr!==null;)dA(Rr)}function WU(c,f){var p=hn;hn|=2;var y=cA(),S=uA();Un!==c||Br!==f?(E1=null,k1=Et()+500,cm(c,f)):im=Ii(c,f);e:do try{if(yn!==0&&Rr!==null){f=Rr;var F=ql;t:switch(yn){case 1:yn=0,ql=null,um(c,f,F,1);break;case 2:case 9:if(Me(F)){yn=0,ql=null,fA(f);break}f=function(){yn!==2&&yn!==9||Un!==c||(yn=7),nu(c)},F.then(f,f);break e;case 3:yn=7;break e;case 4:yn=5;break e;case 7:Me(F)?(yn=0,ql=null,fA(f)):(yn=0,ql=null,um(c,f,F,7));break;case 5:var G=null;switch(Rr.tag){case 26:G=Rr.memoizedState;case 5:case 27:var ue=Rr;if(G?QA(G):ue.stateNode.complete){yn=0,ql=null;var Ae=ue.sibling;if(Ae!==null)Rr=Ae;else{var We=ue.return;We!==null?(Rr=We,O1(We)):Rr=null}break t}}yn=0,ql=null,um(c,f,F,5);break;case 6:yn=0,ql=null,um(c,f,F,6);break;case 8:Yb(),Pa=6;break e;default:throw Error(n(462))}}KU();break}catch(at){lA(c,at)}while(!0);return No=Gc=null,te.H=y,te.A=S,hn=p,Rr!==null?0:(Un=null,Br=0,d0(),Pa)}function KU(){for(;Rr!==null&&!Ye();)dA(Rr)}function dA(c){var f=L6(c.alternate,c,Wu);c.memoizedProps=c.pendingProps,f===null?O1(c):Rr=f}function fA(c){var f=c,p=f.alternate;switch(f.tag){case 15:case 0:f=C6(p,f,f.pendingProps,f.type,void 0,Br);break;case 11:f=C6(p,f,f.pendingProps,f.type.render,f.ref,Br);break;case 5:Qh(f);default:R6(p,f),f=Rr=m0(f,Wu),f=L6(p,f,Wu)}c.memoizedProps=c.pendingProps,f===null?O1(c):Rr=f}function um(c,f,p,y){No=Gc=null,Qh(f),dt=null,qt=0;var S=f.return;try{if(LU(c,S,f,p,Br)){Pa=1,v1(c,fl(p,c.current)),Rr=null;return}}catch(F){if(S!==null)throw Rr=S,F;Pa=1,v1(c,fl(p,c.current)),Rr=null;return}f.flags&32768?(Mr||y===1?c=!0:im||(Br&536870912)!==0?c=!1:(rf=c=!0,(y===2||y===9||y===3||y===6)&&(y=Qn.current,y!==null&&y.tag===13&&(y.flags|=16384))),hA(f,c)):O1(f)}function O1(c){var f=c;do{if((f.flags&32768)!==0){hA(f,rf);return}c=f.return;var p=IU(f.alternate,f,Wu);if(p!==null){Rr=p;return}if(f=f.sibling,f!==null){Rr=f;return}Rr=f=c}while(f!==null);Pa===0&&(Pa=5)}function hA(c,f){do{var p=BU(c.alternate,c);if(p!==null){p.flags&=32767,Rr=p;return}if(p=c.return,p!==null&&(p.flags|=32768,p.subtreeFlags=0,p.deletions=null),!f&&(c=c.sibling,c!==null)){Rr=c;return}Rr=c=p}while(c!==null);Pa=6,Rr=null}function mA(c,f,p,y,S,F,G,ue,Ae){c.cancelPendingCommit=null;do F1();while(js!==0);if((hn&6)!==0)throw Error(n(327));if(f!==null){if(f===c.current)throw Error(n(177));if(F=f.lanes|f.childLanes,F|=Rh,Fl(c,p,F,G,ue,Ae),c===Un&&(Rr=Un=null,Br=0),om=f,sf=c,Ku=p,Wb=F,Kb=S,nA=y,(f.subtreeFlags&10256)!==0||(f.flags&10256)!==0?(c.callbackNode=null,c.callbackPriority=0,QU(Mt,function(){return yA(),null})):(c.callbackNode=null,c.callbackPriority=0),y=(f.flags&13878)!==0,(f.subtreeFlags&13878)!==0||y){y=te.T,te.T=null,S=ie.p,ie.p=2,G=hn,hn|=4;try{UU(c,f,p)}finally{hn=G,ie.p=S,te.T=y}}js=1,pA(),xA(),gA()}}function pA(){if(js===1){js=0;var c=sf,f=om,p=(f.flags&13878)!==0;if((f.subtreeFlags&13878)!==0||p){p=te.T,te.T=null;var y=ie.p;ie.p=2;var S=hn;hn|=4;try{Y6(f,c);var F=ow,G=cc(c.containerInfo),ue=F.focusedElem,Ae=F.selectionRange;if(G!==ue&&ue&&ue.ownerDocument&&oc(ue.ownerDocument.documentElement,ue)){if(Ae!==null&&bo(ue)){var We=Ae.start,at=Ae.end;if(at===void 0&&(at=We),"selectionStart"in ue)ue.selectionStart=We,ue.selectionEnd=Math.min(at,ue.value.length);else{var ut=ue.ownerDocument||document,Ge=ut&&ut.defaultView||window;if(Ge.getSelection){var Qe=Ge.getSelection(),Ut=ue.textContent.length,or=Math.min(Ae.start,Ut),Ln=Ae.end===void 0?or:Math.min(Ae.end,Ut);!Qe.extend&&or>Ln&&(G=Ln,Ln=or,or=G);var Pe=Hd(ue,or),Oe=Hd(ue,Ln);if(Pe&&Oe&&(Qe.rangeCount!==1||Qe.anchorNode!==Pe.node||Qe.anchorOffset!==Pe.offset||Qe.focusNode!==Oe.node||Qe.focusOffset!==Oe.offset)){var Ve=ut.createRange();Ve.setStart(Pe.node,Pe.offset),Qe.removeAllRanges(),or>Ln?(Qe.addRange(Ve),Qe.extend(Oe.node,Oe.offset)):(Ve.setEnd(Oe.node,Oe.offset),Qe.addRange(Ve))}}}}for(ut=[],Qe=ue;Qe=Qe.parentNode;)Qe.nodeType===1&&ut.push({element:Qe,left:Qe.scrollLeft,top:Qe.scrollTop});for(typeof ue.focus=="function"&&ue.focus(),ue=0;ue<ut.length;ue++){var ot=ut[ue];ot.element.scrollLeft=ot.left,ot.element.scrollTop=ot.top}}H1=!!lw,ow=lw=null}finally{hn=S,ie.p=y,te.T=p}}c.current=f,js=2}}function xA(){if(js===2){js=0;var c=sf,f=om,p=(f.flags&8772)!==0;if((f.subtreeFlags&8772)!==0||p){p=te.T,te.T=null;var y=ie.p;ie.p=2;var S=hn;hn|=4;try{H6(c,f.alternate,f)}finally{hn=S,ie.p=y,te.T=p}}js=3}}function gA(){if(js===4||js===3){js=0,ft();var c=sf,f=om,p=Ku,y=nA;(f.subtreeFlags&10256)!==0||(f.flags&10256)!==0?js=5:(js=0,om=sf=null,vA(c,c.pendingLanes));var S=c.pendingLanes;if(S===0&&(af=null),sa(p),f=f.stateNode,kt&&typeof kt.onCommitFiberRoot=="function")try{kt.onCommitFiberRoot(Zt,f,void 0,(f.current.flags&128)===128)}catch{}if(y!==null){f=te.T,S=ie.p,ie.p=2,te.T=null;try{for(var F=c.onRecoverableError,G=0;G<y.length;G++){var ue=y[G];F(ue.value,{componentStack:ue.stack})}}finally{te.T=f,ie.p=S}}(Ku&3)!==0&&F1(),nu(c),S=c.pendingLanes,(p&261930)!==0&&(S&42)!==0?c===Gb?Zp++:(Zp=0,Gb=c):Zp=0,Jp(0)}}function vA(c,f){(c.pooledCacheLanes&=f)===0&&(f=c.pooledCache,f!=null&&(c.pooledCache=null,g0(f)))}function F1(){return pA(),xA(),gA(),yA()}function yA(){if(js!==5)return!1;var c=sf,f=Wb;Wb=0;var p=sa(Ku),y=te.T,S=ie.p;try{ie.p=32>p?32:p,te.T=null,p=Kb,Kb=null;var F=sf,G=Ku;if(js=0,om=sf=null,Ku=0,(hn&6)!==0)throw Error(n(331));var ue=hn;if(hn|=4,eA(F.current),Q6(F,F.current,G,p),hn=ue,Jp(0,!1),kt&&typeof kt.onPostCommitFiberRoot=="function")try{kt.onPostCommitFiberRoot(Zt,F)}catch{}return!0}finally{ie.p=S,te.T=y,vA(c,f)}}function bA(c,f,p){f=fl(p,f),f=Ab(c.stateNode,f,2),c=wr(c,f,2),c!==null&&(Xt(c,2),nu(c))}function bn(c,f,p){if(c.tag===3)bA(c,c,p);else for(;f!==null;){if(f.tag===3){bA(f,c,p);break}else if(f.tag===1){var y=f.stateNode;if(typeof f.type.getDerivedStateFromError=="function"||typeof y.componentDidCatch=="function"&&(af===null||!af.has(y))){c=fl(p,c),p=w6(2),y=wr(f,p,2),y!==null&&(N6(p,y,f,c),Xt(y,2),nu(y));break}}f=f.return}}function Qb(c,f,p){var y=c.pingCache;if(y===null){y=c.pingCache=new $U;var S=new Set;y.set(f,S)}else S=y.get(f),S===void 0&&(S=new Set,y.set(f,S));S.has(p)||($b=!0,S.add(p),c=GU.bind(null,c,f,p),f.then(c,c))}function GU(c,f,p){var y=c.pingCache;y!==null&&y.delete(f),c.pingedLanes|=c.suspendedLanes&p,c.warmLanes&=~p,Un===c&&(Br&p)===p&&(Pa===4||Pa===3&&(Br&62914560)===Br&&300>Et()-A1?(hn&2)===0&&cm(c,0):Hb|=p,lm===Br&&(lm=0)),nu(c)}function wA(c,f){f===0&&(f=sl()),c=dc(c,f),c!==null&&(Xt(c,f),nu(c))}function YU(c){var f=c.memoizedState,p=0;f!==null&&(p=f.retryLane),wA(c,p)}function XU(c,f){var p=0;switch(c.tag){case 31:case 13:var y=c.stateNode,S=c.memoizedState;S!==null&&(p=S.retryLane);break;case 19:y=c.stateNode;break;case 22:y=c.stateNode._retryCache;break;default:throw Error(n(314))}y!==null&&y.delete(f),wA(c,p)}function QU(c,f){return ct(c,f)}var D1=null,dm=null,Zb=!1,P1=!1,Jb=!1,of=0;function nu(c){c!==dm&&c.next===null&&(dm===null?D1=dm=c:dm=dm.next=c),P1=!0,Zb||(Zb=!0,JU())}function Jp(c,f){if(!Jb&&P1){Jb=!0;do for(var p=!1,y=D1;y!==null;){if(c!==0){var S=y.pendingLanes;if(S===0)var F=0;else{var G=y.suspendedLanes,ue=y.pingedLanes;F=(1<<31-br(42|c)+1)-1,F&=S&~(G&~ue),F=F&201326741?F&201326741|1:F?F|2:0}F!==0&&(p=!0,SA(y,F))}else F=Br,F=Lr(y,y===Un?F:0,y.cancelPendingCommit!==null||y.timeoutHandle!==-1),(F&3)===0||Ii(y,F)||(p=!0,SA(y,F));y=y.next}while(p);Jb=!1}}function ZU(){NA()}function NA(){P1=Zb=!1;var c=0;of!==0&&cz()&&(c=of);for(var f=Et(),p=null,y=D1;y!==null;){var S=y.next,F=_A(y,f);F===0?(y.next=null,p===null?D1=S:p.next=S,S===null&&(dm=p)):(p=y,(c!==0||(F&3)!==0)&&(P1=!0)),y=S}js!==0&&js!==5||Jp(c),of!==0&&(of=0)}function _A(c,f){for(var p=c.suspendedLanes,y=c.pingedLanes,S=c.expirationTimes,F=c.pendingLanes&-62914561;0<F;){var G=31-br(F),ue=1<<G,Ae=S[G];Ae===-1?((ue&p)===0||(ue&y)!==0)&&(S[G]=ts(ue,f)):Ae<=f&&(c.expiredLanes|=ue),F&=~ue}if(f=Un,p=Br,p=Lr(c,c===f?p:0,c.cancelPendingCommit!==null||c.timeoutHandle!==-1),y=c.callbackNode,p===0||c===f&&(yn===2||yn===9)||c.cancelPendingCommit!==null)return y!==null&&y!==null&&lt(y),c.callbackNode=null,c.callbackPriority=0;if((p&3)===0||Ii(c,p)){if(f=p&-p,f===c.callbackPriority)return f;switch(y!==null&&lt(y),sa(p)){case 2:case 8:p=Ar;break;case 32:p=Mt;break;case 268435456:p=wt;break;default:p=Mt}return y=jA.bind(null,c),p=ct(p,y),c.callbackPriority=f,c.callbackNode=p,f}return y!==null&&y!==null&&lt(y),c.callbackPriority=2,c.callbackNode=null,2}function jA(c,f){if(js!==0&&js!==5)return c.callbackNode=null,c.callbackPriority=0,null;var p=c.callbackNode;if(F1()&&c.callbackNode!==p)return null;var y=Br;return y=Lr(c,c===Un?y:0,c.cancelPendingCommit!==null||c.timeoutHandle!==-1),y===0?null:(sA(c,y,f),_A(c,Et()),c.callbackNode!=null&&c.callbackNode===p?jA.bind(null,c):null)}function SA(c,f){if(F1())return null;sA(c,f,!0)}function JU(){dz(function(){(hn&6)!==0?ct(Kt,ZU):NA()})}function ew(){if(of===0){var c=_;c===0&&(c=gn,gn<<=1,(gn&261888)===0&&(gn=256)),of=c}return of}function AA(c){return c==null||typeof c=="symbol"||typeof c=="boolean"?null:typeof c=="function"?c:Ll(""+c)}function kA(c,f){var p=f.ownerDocument.createElement("input");return p.name=f.name,p.value=f.value,c.id&&p.setAttribute("form",c.id),f.parentNode.insertBefore(p,f),c=new FormData(c),p.parentNode.removeChild(p),c}function ez(c,f,p,y,S){if(f==="submit"&&p&&p.stateNode===S){var F=AA((S[ve]||null).action),G=y.submitter;G&&(f=(f=G[ve]||null)?AA(f.formAction):G.getAttribute("formAction"),f!==null&&(F=f,G=null));var ue=new fo("action","action",null,y,S);c.push({event:ue,listeners:[{instance:null,listener:function(){if(y.defaultPrevented){if(of!==0){var Ae=G?kA(S,G):new FormData(S);bb(p,{pending:!0,data:Ae,method:S.method,action:F},null,Ae)}}else typeof F=="function"&&(ue.preventDefault(),Ae=G?kA(S,G):new FormData(S),bb(p,{pending:!0,data:Ae,method:S.method,action:F},F,Ae))},currentTarget:S}]})}}for(var tw=0;tw<Fu.length;tw++){var rw=Fu[tw],tz=rw.toLowerCase(),rz=rw[0].toUpperCase()+rw.slice(1);ul(tz,"on"+rz)}ul(Ou,"onAnimationEnd"),ul(c0,"onAnimationIteration"),ul(Ep,"onAnimationStart"),ul("dblclick","onDoubleClick"),ul("focusin","onFocus"),ul("focusout","onBlur"),ul(s1,"onTransitionRun"),ul(i1,"onTransitionStart"),ul(l1,"onTransitionCancel"),ul(Cp,"onTransitionEnd"),Qs("onMouseEnter",["mouseout","mouseover"]),Qs("onMouseLeave",["mouseout","mouseover"]),Qs("onPointerEnter",["pointerout","pointerover"]),Qs("onPointerLeave",["pointerout","pointerover"]),mn("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),mn("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),mn("onBeforeInput",["compositionend","keypress","textInput","paste"]),mn("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),mn("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),mn("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var ex="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),nz=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(ex));function EA(c,f){f=(f&4)!==0;for(var p=0;p<c.length;p++){var y=c[p],S=y.event;y=y.listeners;e:{var F=void 0;if(f)for(var G=y.length-1;0<=G;G--){var ue=y[G],Ae=ue.instance,We=ue.currentTarget;if(ue=ue.listener,Ae!==F&&S.isPropagationStopped())break e;F=ue,S.currentTarget=We;try{F(S)}catch(at){u0(at)}S.currentTarget=null,F=Ae}else for(G=0;G<y.length;G++){if(ue=y[G],Ae=ue.instance,We=ue.currentTarget,ue=ue.listener,Ae!==F&&S.isPropagationStopped())break e;F=ue,S.currentTarget=We;try{F(S)}catch(at){u0(at)}S.currentTarget=null,F=Ae}}}}function Ir(c,f){var p=f[Re];p===void 0&&(p=f[Re]=new Set);var y=c+"__bubble";p.has(y)||(CA(f,c,2,!1),p.add(y))}function nw(c,f,p){var y=0;f&&(y|=4),CA(p,c,y,f)}var L1="_reactListening"+Math.random().toString(36).slice(2);function aw(c){if(!c[L1]){c[L1]=!0,un.forEach(function(p){p!=="selectionchange"&&(nz.has(p)||nw(p,!1,c),nw(p,!0,c))});var f=c.nodeType===9?c:c.ownerDocument;f===null||f[L1]||(f[L1]=!0,nw("selectionchange",!1,f))}}function CA(c,f,p,y){switch(ak(f)){case 2:var S=Oz;break;case 8:S=Fz;break;default:S=yw}p=S.bind(null,f,p,c),S=void 0,!i0||f!=="touchstart"&&f!=="touchmove"&&f!=="wheel"||(S=!0),y?S!==void 0?c.addEventListener(f,p,{capture:!0,passive:S}):c.addEventListener(f,p,!0):S!==void 0?c.addEventListener(f,p,{passive:S}):c.addEventListener(f,p,!1)}function sw(c,f,p,y,S){var F=y;if((f&1)===0&&(f&2)===0&&y!==null)e:for(;;){if(y===null)return;var G=y.tag;if(G===3||G===4){var ue=y.stateNode.containerInfo;if(ue===S)break;if(G===4)for(G=y.return;G!==null;){var Ae=G.tag;if((Ae===3||Ae===4)&&G.stateNode.containerInfo===S)return;G=G.return}for(;ue!==null;){if(G=bt(ue),G===null)return;if(Ae=G.tag,Ae===5||Ae===6||Ae===26||Ae===27){y=F=G;continue e}ue=ue.parentNode}}y=y.return}Oh(function(){var We=F,at=Nu(p),ut=[];e:{var Ge=Tp.get(c);if(Ge!==void 0){var Qe=fo,Ut=c;switch(c){case"keypress":if(Jo(p)===0)break e;case"keydown":case"keyup":Qe=Jr;break;case"focusin":Ut="focus",Qe=nc;break;case"focusout":Ut="blur",Qe=nc;break;case"beforeblur":case"afterblur":Qe=nc;break;case"click":if(p.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":Qe=ho;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":Qe=Fh;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":Qe=$a;break;case Ou:case c0:case Ep:Qe=I;break;case Cp:Qe=xs;break;case"scroll":case"scrollend":Qe=Rd;break;case"wheel":Qe=xi;break;case"copy":case"cut":case"paste":Qe=_e;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":Qe=ya;break;case"toggle":case"beforetoggle":Qe=Id}var or=(f&4)!==0,Ln=!or&&(c==="scroll"||c==="scrollend"),Pe=or?Ge!==null?Ge+"Capture":null:Ge;or=[];for(var Oe=We,Ve;Oe!==null;){var ot=Oe;if(Ve=ot.stateNode,ot=ot.tag,ot!==5&&ot!==26&&ot!==27||Ve===null||Pe===null||(ot=zi(Oe,Pe),ot!=null&&or.push(tx(Oe,ot,Ve))),Ln)break;Oe=Oe.return}0<or.length&&(Ge=new Qe(Ge,Ut,null,p,at),ut.push({event:Ge,listeners:or}))}}if((f&7)===0){e:{if(Ge=c==="mouseover"||c==="pointerover",Qe=c==="mouseout"||c==="pointerout",Ge&&p!==Zo&&(Ut=p.relatedTarget||p.fromElement)&&(bt(Ut)||Ut[je]))break e;if((Qe||Ge)&&(Ge=at.window===at?at:(Ge=at.ownerDocument)?Ge.defaultView||Ge.parentWindow:window,Qe?(Ut=p.relatedTarget||p.toElement,Qe=We,Ut=Ut?bt(Ut):null,Ut!==null&&(Ln=s(Ut),or=Ut.tag,Ut!==Ln||or!==5&&or!==27&&or!==6)&&(Ut=null)):(Qe=null,Ut=We),Qe!==Ut)){if(or=ho,ot="onMouseLeave",Pe="onMouseEnter",Oe="mouse",(c==="pointerout"||c==="pointerover")&&(or=ya,ot="onPointerLeave",Pe="onPointerEnter",Oe="pointer"),Ln=Qe==null?Ge:vt(Qe),Ve=Ut==null?Ge:vt(Ut),Ge=new or(ot,Oe+"leave",Qe,p,at),Ge.target=Ln,Ge.relatedTarget=Ve,ot=null,bt(at)===We&&(or=new or(Pe,Oe+"enter",Ut,p,at),or.target=Ve,or.relatedTarget=Ln,ot=or),Ln=ot,Qe&&Ut)t:{for(or=az,Pe=Qe,Oe=Ut,Ve=0,ot=Pe;ot;ot=or(ot))Ve++;ot=0;for(var nr=Oe;nr;nr=or(nr))ot++;for(;0<Ve-ot;)Pe=or(Pe),Ve--;for(;0<ot-Ve;)Oe=or(Oe),ot--;for(;Ve--;){if(Pe===Oe||Oe!==null&&Pe===Oe.alternate){or=Pe;break t}Pe=or(Pe),Oe=or(Oe)}or=null}else or=null;Qe!==null&&TA(ut,Ge,Qe,or,!1),Ut!==null&&Ln!==null&&TA(ut,Ln,Ut,or,!0)}}e:{if(Ge=We?vt(We):window,Qe=Ge.nodeName&&Ge.nodeName.toLowerCase(),Qe==="select"||Qe==="input"&&Ge.type==="file")var an=Hc;else if(l0(Ge))if(gi)an=vo;else{an=ba;var Wt=qd}else Qe=Ge.nodeName,!Qe||Qe.toLowerCase()!=="input"||Ge.type!=="checkbox"&&Ge.type!=="radio"?We&&n0(We.elementType)&&(an=Hc):an=Mh;if(an&&(an=an(c,We))){Hi(ut,an,p,at);break e}Wt&&Wt(c,Ge,We),c==="focusout"&&We&&Ge.type==="number"&&We.memoizedProps.value!=null&&Jf(Ge,"number",Ge.value)}switch(Wt=We?vt(We):window,c){case"focusin":(l0(Wt)||Wt.contentEditable==="true")&&(Vi=Wt,uc=We,Ms=null);break;case"focusout":Ms=uc=Vi=null;break;case"mousedown":cl=!0;break;case"contextmenu":case"mouseup":case"dragend":cl=!1,en(ut,p,at);break;case"selectionchange":if(Tu)break;case"keydown":case"keyup":en(ut,p,at)}var jr;if(mo)e:{switch(c){case"compositionstart":var Ur="onCompositionStart";break e;case"compositionend":Ur="onCompositionEnd";break e;case"compositionupdate":Ur="onCompositionUpdate";break e}Ur=void 0}else po?$c(c,p)&&(Ur="onCompositionEnd"):c==="keydown"&&p.keyCode===229&&(Ur="onCompositionStart");Ur&&(zc&&p.locale!=="ko"&&(po||Ur!=="onCompositionStart"?Ur==="onCompositionEnd"&&po&&(jr=Su()):(qi=at,ju="value"in qi?qi.value:qi.textContent,po=!0)),Wt=M1(We,Ur),0<Wt.length&&(Ur=new De(Ur,c,null,p,at),ut.push({event:Ur,listeners:Wt}),jr?Ur.data=jr:(jr=Bd(p),jr!==null&&(Ur.data=jr)))),(jr=Cu?ia(c,p):ac(c,p))&&(Ur=M1(We,"onBeforeInput"),0<Ur.length&&(Wt=new De("onBeforeInput","beforeinput",null,p,at),ut.push({event:Wt,listeners:Ur}),Wt.data=jr)),ez(ut,c,We,p,at)}EA(ut,f)})}function tx(c,f,p){return{instance:c,listener:f,currentTarget:p}}function M1(c,f){for(var p=f+"Capture",y=[];c!==null;){var S=c,F=S.stateNode;if(S=S.tag,S!==5&&S!==26&&S!==27||F===null||(S=zi(c,p),S!=null&&y.unshift(tx(c,S,F)),S=zi(c,f),S!=null&&y.push(tx(c,S,F))),c.tag===3)return y;c=c.return}return[]}function az(c){if(c===null)return null;do c=c.return;while(c&&c.tag!==5&&c.tag!==27);return c||null}function TA(c,f,p,y,S){for(var F=f._reactName,G=[];p!==null&&p!==y;){var ue=p,Ae=ue.alternate,We=ue.stateNode;if(ue=ue.tag,Ae!==null&&Ae===y)break;ue!==5&&ue!==26&&ue!==27||We===null||(Ae=We,S?(We=zi(p,F),We!=null&&G.unshift(tx(p,We,Ae))):S||(We=zi(p,F),We!=null&&G.push(tx(p,We,Ae)))),p=p.return}G.length!==0&&c.push({event:f,listeners:G})}var sz=/\r\n?/g,iz=/\u0000|\uFFFD/g;function OA(c){return(typeof c=="string"?c:""+c).replace(sz,`
`).replace(iz,"")}function FA(c,f){return f=OA(f),OA(c)===f}function Pn(c,f,p,y,S,F){switch(p){case"children":typeof y=="string"?f==="body"||f==="textarea"&&y===""||Ui(c,y):(typeof y=="number"||typeof y=="bigint")&&f!=="body"&&Ui(c,""+y);break;case"className":Pd(c,"class",y);break;case"tabIndex":Pd(c,"tabindex",y);break;case"dir":case"role":case"viewBox":case"width":case"height":Pd(c,p,y);break;case"style":Ch(c,y,F);break;case"data":if(f!=="object"){Pd(c,"data",y);break}case"src":case"href":if(y===""&&(f!=="a"||p!=="href")){c.removeAttribute(p);break}if(y==null||typeof y=="function"||typeof y=="symbol"||typeof y=="boolean"){c.removeAttribute(p);break}y=Ll(""+y),c.setAttribute(p,y);break;case"action":case"formAction":if(typeof y=="function"){c.setAttribute(p,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof F=="function"&&(p==="formAction"?(f!=="input"&&Pn(c,f,"name",S.name,S,null),Pn(c,f,"formEncType",S.formEncType,S,null),Pn(c,f,"formMethod",S.formMethod,S,null),Pn(c,f,"formTarget",S.formTarget,S,null)):(Pn(c,f,"encType",S.encType,S,null),Pn(c,f,"method",S.method,S,null),Pn(c,f,"target",S.target,S,null)));if(y==null||typeof y=="symbol"||typeof y=="boolean"){c.removeAttribute(p);break}y=Ll(""+y),c.setAttribute(p,y);break;case"onClick":y!=null&&(c.onclick=Ml);break;case"onScroll":y!=null&&Ir("scroll",c);break;case"onScrollEnd":y!=null&&Ir("scrollend",c);break;case"dangerouslySetInnerHTML":if(y!=null){if(typeof y!="object"||!("__html"in y))throw Error(n(61));if(p=y.__html,p!=null){if(S.children!=null)throw Error(n(60));c.innerHTML=p}}break;case"multiple":c.multiple=y&&typeof y!="function"&&typeof y!="symbol";break;case"muted":c.muted=y&&typeof y!="function"&&typeof y!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(y==null||typeof y=="function"||typeof y=="boolean"||typeof y=="symbol"){c.removeAttribute("xlink:href");break}p=Ll(""+y),c.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",p);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":y!=null&&typeof y!="function"&&typeof y!="symbol"?c.setAttribute(p,""+y):c.removeAttribute(p);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":y&&typeof y!="function"&&typeof y!="symbol"?c.setAttribute(p,""):c.removeAttribute(p);break;case"capture":case"download":y===!0?c.setAttribute(p,""):y!==!1&&y!=null&&typeof y!="function"&&typeof y!="symbol"?c.setAttribute(p,y):c.removeAttribute(p);break;case"cols":case"rows":case"size":case"span":y!=null&&typeof y!="function"&&typeof y!="symbol"&&!isNaN(y)&&1<=y?c.setAttribute(p,y):c.removeAttribute(p);break;case"rowSpan":case"start":y==null||typeof y=="function"||typeof y=="symbol"||isNaN(y)?c.removeAttribute(p):c.setAttribute(p,y);break;case"popover":Ir("beforetoggle",c),Ir("toggle",c),qa(c,"popover",y);break;case"xlinkActuate":pn(c,"http://www.w3.org/1999/xlink","xlink:actuate",y);break;case"xlinkArcrole":pn(c,"http://www.w3.org/1999/xlink","xlink:arcrole",y);break;case"xlinkRole":pn(c,"http://www.w3.org/1999/xlink","xlink:role",y);break;case"xlinkShow":pn(c,"http://www.w3.org/1999/xlink","xlink:show",y);break;case"xlinkTitle":pn(c,"http://www.w3.org/1999/xlink","xlink:title",y);break;case"xlinkType":pn(c,"http://www.w3.org/1999/xlink","xlink:type",y);break;case"xmlBase":pn(c,"http://www.w3.org/XML/1998/namespace","xml:base",y);break;case"xmlLang":pn(c,"http://www.w3.org/XML/1998/namespace","xml:lang",y);break;case"xmlSpace":pn(c,"http://www.w3.org/XML/1998/namespace","xml:space",y);break;case"is":qa(c,"is",y);break;case"innerText":case"textContent":break;default:(!(2<p.length)||p[0]!=="o"&&p[0]!=="O"||p[1]!=="n"&&p[1]!=="N")&&(p=a0.get(p)||p,qa(c,p,y))}}function iw(c,f,p,y,S,F){switch(p){case"style":Ch(c,y,F);break;case"dangerouslySetInnerHTML":if(y!=null){if(typeof y!="object"||!("__html"in y))throw Error(n(61));if(p=y.__html,p!=null){if(S.children!=null)throw Error(n(60));c.innerHTML=p}}break;case"children":typeof y=="string"?Ui(c,y):(typeof y=="number"||typeof y=="bigint")&&Ui(c,""+y);break;case"onScroll":y!=null&&Ir("scroll",c);break;case"onScrollEnd":y!=null&&Ir("scrollend",c);break;case"onClick":y!=null&&(c.onclick=Ml);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!Tr.hasOwnProperty(p))e:{if(p[0]==="o"&&p[1]==="n"&&(S=p.endsWith("Capture"),f=p.slice(2,S?p.length-7:void 0),F=c[ve]||null,F=F!=null?F[p]:null,typeof F=="function"&&c.removeEventListener(f,F,S),typeof y=="function")){typeof F!="function"&&F!==null&&(p in c?c[p]=null:c.hasAttribute(p)&&c.removeAttribute(p)),c.addEventListener(f,y,S);break e}p in c?c[p]=y:y===!0?c.setAttribute(p,""):qa(c,p,y)}}}function ai(c,f,p){switch(f){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":Ir("error",c),Ir("load",c);var y=!1,S=!1,F;for(F in p)if(p.hasOwnProperty(F)){var G=p[F];if(G!=null)switch(F){case"src":y=!0;break;case"srcSet":S=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(n(137,f));default:Pn(c,f,F,G,p,null)}}S&&Pn(c,f,"srcSet",p.srcSet,p,null),y&&Pn(c,f,"src",p.src,p,null);return;case"input":Ir("invalid",c);var ue=F=G=S=null,Ae=null,We=null;for(y in p)if(p.hasOwnProperty(y)){var at=p[y];if(at!=null)switch(y){case"name":S=at;break;case"type":G=at;break;case"checked":Ae=at;break;case"defaultChecked":We=at;break;case"value":F=at;break;case"defaultValue":ue=at;break;case"children":case"dangerouslySetInnerHTML":if(at!=null)throw Error(n(137,f));break;default:Pn(c,f,y,at,p,null)}}kh(c,F,ue,Ae,We,G,S,!1);return;case"select":Ir("invalid",c),y=G=F=null;for(S in p)if(p.hasOwnProperty(S)&&(ue=p[S],ue!=null))switch(S){case"value":F=ue;break;case"defaultValue":G=ue;break;case"multiple":y=ue;default:Pn(c,f,S,ue,p,null)}f=F,p=G,c.multiple=!!y,f!=null?Js(c,!!y,f,!1):p!=null&&Js(c,!!y,p,!0);return;case"textarea":Ir("invalid",c),F=S=y=null;for(G in p)if(p.hasOwnProperty(G)&&(ue=p[G],ue!=null))switch(G){case"value":y=ue;break;case"defaultValue":S=ue;break;case"children":F=ue;break;case"dangerouslySetInnerHTML":if(ue!=null)throw Error(n(91));break;default:Pn(c,f,G,ue,p,null)}t0(c,y,S,F);return;case"option":for(Ae in p)if(p.hasOwnProperty(Ae)&&(y=p[Ae],y!=null))switch(Ae){case"selected":c.selected=y&&typeof y!="function"&&typeof y!="symbol";break;default:Pn(c,f,Ae,y,p,null)}return;case"dialog":Ir("beforetoggle",c),Ir("toggle",c),Ir("cancel",c),Ir("close",c);break;case"iframe":case"object":Ir("load",c);break;case"video":case"audio":for(y=0;y<ex.length;y++)Ir(ex[y],c);break;case"image":Ir("error",c),Ir("load",c);break;case"details":Ir("toggle",c);break;case"embed":case"source":case"link":Ir("error",c),Ir("load",c);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(We in p)if(p.hasOwnProperty(We)&&(y=p[We],y!=null))switch(We){case"children":case"dangerouslySetInnerHTML":throw Error(n(137,f));default:Pn(c,f,We,y,p,null)}return;default:if(n0(f)){for(at in p)p.hasOwnProperty(at)&&(y=p[at],y!==void 0&&iw(c,f,at,y,p,void 0));return}}for(ue in p)p.hasOwnProperty(ue)&&(y=p[ue],y!=null&&Pn(c,f,ue,y,p,null))}function lz(c,f,p,y){switch(f){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var S=null,F=null,G=null,ue=null,Ae=null,We=null,at=null;for(Qe in p){var ut=p[Qe];if(p.hasOwnProperty(Qe)&&ut!=null)switch(Qe){case"checked":break;case"value":break;case"defaultValue":Ae=ut;default:y.hasOwnProperty(Qe)||Pn(c,f,Qe,null,y,ut)}}for(var Ge in y){var Qe=y[Ge];if(ut=p[Ge],y.hasOwnProperty(Ge)&&(Qe!=null||ut!=null))switch(Ge){case"type":F=Qe;break;case"name":S=Qe;break;case"checked":We=Qe;break;case"defaultChecked":at=Qe;break;case"value":G=Qe;break;case"defaultValue":ue=Qe;break;case"children":case"dangerouslySetInnerHTML":if(Qe!=null)throw Error(n(137,f));break;default:Qe!==ut&&Pn(c,f,Ge,Qe,y,ut)}}Zf(c,G,ue,Ae,We,at,F,S);return;case"select":Qe=G=ue=Ge=null;for(F in p)if(Ae=p[F],p.hasOwnProperty(F)&&Ae!=null)switch(F){case"value":break;case"multiple":Qe=Ae;default:y.hasOwnProperty(F)||Pn(c,f,F,null,y,Ae)}for(S in y)if(F=y[S],Ae=p[S],y.hasOwnProperty(S)&&(F!=null||Ae!=null))switch(S){case"value":Ge=F;break;case"defaultValue":ue=F;break;case"multiple":G=F;default:F!==Ae&&Pn(c,f,S,F,y,Ae)}f=ue,p=G,y=Qe,Ge!=null?Js(c,!!p,Ge,!1):!!y!=!!p&&(f!=null?Js(c,!!p,f,!0):Js(c,!!p,p?[]:"",!1));return;case"textarea":Qe=Ge=null;for(ue in p)if(S=p[ue],p.hasOwnProperty(ue)&&S!=null&&!y.hasOwnProperty(ue))switch(ue){case"value":break;case"children":break;default:Pn(c,f,ue,null,y,S)}for(G in y)if(S=y[G],F=p[G],y.hasOwnProperty(G)&&(S!=null||F!=null))switch(G){case"value":Ge=S;break;case"defaultValue":Qe=S;break;case"children":break;case"dangerouslySetInnerHTML":if(S!=null)throw Error(n(91));break;default:S!==F&&Pn(c,f,G,S,y,F)}e0(c,Ge,Qe);return;case"option":for(var Ut in p)if(Ge=p[Ut],p.hasOwnProperty(Ut)&&Ge!=null&&!y.hasOwnProperty(Ut))switch(Ut){case"selected":c.selected=!1;break;default:Pn(c,f,Ut,null,y,Ge)}for(Ae in y)if(Ge=y[Ae],Qe=p[Ae],y.hasOwnProperty(Ae)&&Ge!==Qe&&(Ge!=null||Qe!=null))switch(Ae){case"selected":c.selected=Ge&&typeof Ge!="function"&&typeof Ge!="symbol";break;default:Pn(c,f,Ae,Ge,y,Qe)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var or in p)Ge=p[or],p.hasOwnProperty(or)&&Ge!=null&&!y.hasOwnProperty(or)&&Pn(c,f,or,null,y,Ge);for(We in y)if(Ge=y[We],Qe=p[We],y.hasOwnProperty(We)&&Ge!==Qe&&(Ge!=null||Qe!=null))switch(We){case"children":case"dangerouslySetInnerHTML":if(Ge!=null)throw Error(n(137,f));break;default:Pn(c,f,We,Ge,y,Qe)}return;default:if(n0(f)){for(var Ln in p)Ge=p[Ln],p.hasOwnProperty(Ln)&&Ge!==void 0&&!y.hasOwnProperty(Ln)&&iw(c,f,Ln,void 0,y,Ge);for(at in y)Ge=y[at],Qe=p[at],!y.hasOwnProperty(at)||Ge===Qe||Ge===void 0&&Qe===void 0||iw(c,f,at,Ge,y,Qe);return}}for(var Pe in p)Ge=p[Pe],p.hasOwnProperty(Pe)&&Ge!=null&&!y.hasOwnProperty(Pe)&&Pn(c,f,Pe,null,y,Ge);for(ut in y)Ge=y[ut],Qe=p[ut],!y.hasOwnProperty(ut)||Ge===Qe||Ge==null&&Qe==null||Pn(c,f,ut,Ge,y,Qe)}function DA(c){switch(c){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function oz(){if(typeof performance.getEntriesByType=="function"){for(var c=0,f=0,p=performance.getEntriesByType("resource"),y=0;y<p.length;y++){var S=p[y],F=S.transferSize,G=S.initiatorType,ue=S.duration;if(F&&ue&&DA(G)){for(G=0,ue=S.responseEnd,y+=1;y<p.length;y++){var Ae=p[y],We=Ae.startTime;if(We>ue)break;var at=Ae.transferSize,ut=Ae.initiatorType;at&&DA(ut)&&(Ae=Ae.responseEnd,G+=at*(Ae<ue?1:(ue-We)/(Ae-We)))}if(--y,f+=8*(F+G)/(S.duration/1e3),c++,10<c)break}}if(0<c)return f/c/1e6}return navigator.connection&&(c=navigator.connection.downlink,typeof c=="number")?c:5}var lw=null,ow=null;function R1(c){return c.nodeType===9?c:c.ownerDocument}function PA(c){switch(c){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function LA(c,f){if(c===0)switch(f){case"svg":return 1;case"math":return 2;default:return 0}return c===1&&f==="foreignObject"?0:c}function cw(c,f){return c==="textarea"||c==="noscript"||typeof f.children=="string"||typeof f.children=="number"||typeof f.children=="bigint"||typeof f.dangerouslySetInnerHTML=="object"&&f.dangerouslySetInnerHTML!==null&&f.dangerouslySetInnerHTML.__html!=null}var uw=null;function cz(){var c=window.event;return c&&c.type==="popstate"?c===uw?!1:(uw=c,!0):(uw=null,!1)}var MA=typeof setTimeout=="function"?setTimeout:void 0,uz=typeof clearTimeout=="function"?clearTimeout:void 0,RA=typeof Promise=="function"?Promise:void 0,dz=typeof queueMicrotask=="function"?queueMicrotask:typeof RA<"u"?function(c){return RA.resolve(null).then(c).catch(fz)}:MA;function fz(c){setTimeout(function(){throw c})}function cf(c){return c==="head"}function IA(c,f){var p=f,y=0;do{var S=p.nextSibling;if(c.removeChild(p),S&&S.nodeType===8)if(p=S.data,p==="/$"||p==="/&"){if(y===0){c.removeChild(S),pm(f);return}y--}else if(p==="$"||p==="$?"||p==="$~"||p==="$!"||p==="&")y++;else if(p==="html")rx(c.ownerDocument.documentElement);else if(p==="head"){p=c.ownerDocument.head,rx(p);for(var F=p.firstChild;F;){var G=F.nextSibling,ue=F.nodeName;F[He]||ue==="SCRIPT"||ue==="STYLE"||ue==="LINK"&&F.rel.toLowerCase()==="stylesheet"||p.removeChild(F),F=G}}else p==="body"&&rx(c.ownerDocument.body);p=S}while(p);pm(f)}function BA(c,f){var p=c;c=0;do{var y=p.nextSibling;if(p.nodeType===1?f?(p._stashedDisplay=p.style.display,p.style.display="none"):(p.style.display=p._stashedDisplay||"",p.getAttribute("style")===""&&p.removeAttribute("style")):p.nodeType===3&&(f?(p._stashedText=p.nodeValue,p.nodeValue=""):p.nodeValue=p._stashedText||""),y&&y.nodeType===8)if(p=y.data,p==="/$"){if(c===0)break;c--}else p!=="$"&&p!=="$?"&&p!=="$~"&&p!=="$!"||c++;p=y}while(p)}function dw(c){var f=c.firstChild;for(f&&f.nodeType===10&&(f=f.nextSibling);f;){var p=f;switch(f=f.nextSibling,p.nodeName){case"HTML":case"HEAD":case"BODY":dw(p),pt(p);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(p.rel.toLowerCase()==="stylesheet")continue}c.removeChild(p)}}function hz(c,f,p,y){for(;c.nodeType===1;){var S=p;if(c.nodeName.toLowerCase()!==f.toLowerCase()){if(!y&&(c.nodeName!=="INPUT"||c.type!=="hidden"))break}else if(y){if(!c[He])switch(f){case"meta":if(!c.hasAttribute("itemprop"))break;return c;case"link":if(F=c.getAttribute("rel"),F==="stylesheet"&&c.hasAttribute("data-precedence"))break;if(F!==S.rel||c.getAttribute("href")!==(S.href==null||S.href===""?null:S.href)||c.getAttribute("crossorigin")!==(S.crossOrigin==null?null:S.crossOrigin)||c.getAttribute("title")!==(S.title==null?null:S.title))break;return c;case"style":if(c.hasAttribute("data-precedence"))break;return c;case"script":if(F=c.getAttribute("src"),(F!==(S.src==null?null:S.src)||c.getAttribute("type")!==(S.type==null?null:S.type)||c.getAttribute("crossorigin")!==(S.crossOrigin==null?null:S.crossOrigin))&&F&&c.hasAttribute("async")&&!c.hasAttribute("itemprop"))break;return c;default:return c}}else if(f==="input"&&c.type==="hidden"){var F=S.name==null?null:""+S.name;if(S.type==="hidden"&&c.getAttribute("name")===F)return c}else return c;if(c=So(c.nextSibling),c===null)break}return null}function mz(c,f,p){if(f==="")return null;for(;c.nodeType!==3;)if((c.nodeType!==1||c.nodeName!=="INPUT"||c.type!=="hidden")&&!p||(c=So(c.nextSibling),c===null))return null;return c}function UA(c,f){for(;c.nodeType!==8;)if((c.nodeType!==1||c.nodeName!=="INPUT"||c.type!=="hidden")&&!f||(c=So(c.nextSibling),c===null))return null;return c}function fw(c){return c.data==="$?"||c.data==="$~"}function hw(c){return c.data==="$!"||c.data==="$?"&&c.ownerDocument.readyState!=="loading"}function pz(c,f){var p=c.ownerDocument;if(c.data==="$~")c._reactRetry=f;else if(c.data!=="$?"||p.readyState!=="loading")f();else{var y=function(){f(),p.removeEventListener("DOMContentLoaded",y)};p.addEventListener("DOMContentLoaded",y),c._reactRetry=y}}function So(c){for(;c!=null;c=c.nextSibling){var f=c.nodeType;if(f===1||f===3)break;if(f===8){if(f=c.data,f==="$"||f==="$!"||f==="$?"||f==="$~"||f==="&"||f==="F!"||f==="F")break;if(f==="/$"||f==="/&")return null}}return c}var mw=null;function zA(c){c=c.nextSibling;for(var f=0;c;){if(c.nodeType===8){var p=c.data;if(p==="/$"||p==="/&"){if(f===0)return So(c.nextSibling);f--}else p!=="$"&&p!=="$!"&&p!=="$?"&&p!=="$~"&&p!=="&"||f++}c=c.nextSibling}return null}function qA(c){c=c.previousSibling;for(var f=0;c;){if(c.nodeType===8){var p=c.data;if(p==="$"||p==="$!"||p==="$?"||p==="$~"||p==="&"){if(f===0)return c;f--}else p!=="/$"&&p!=="/&"||f++}c=c.previousSibling}return null}function $A(c,f,p){switch(f=R1(p),c){case"html":if(c=f.documentElement,!c)throw Error(n(452));return c;case"head":if(c=f.head,!c)throw Error(n(453));return c;case"body":if(c=f.body,!c)throw Error(n(454));return c;default:throw Error(n(451))}}function rx(c){for(var f=c.attributes;f.length;)c.removeAttributeNode(f[0]);pt(c)}var Ao=new Map,HA=new Set;function I1(c){return typeof c.getRootNode=="function"?c.getRootNode():c.nodeType===9?c:c.ownerDocument}var Gu=ie.d;ie.d={f:xz,r:gz,D:vz,C:yz,L:bz,m:wz,X:_z,S:Nz,M:jz};function xz(){var c=Gu.f(),f=C1();return c||f}function gz(c){var f=At(c);f!==null&&f.tag===5&&f.type==="form"?l6(f):Gu.r(c)}var fm=typeof document>"u"?null:document;function VA(c,f,p){var y=fm;if(y&&typeof f=="string"&&f){var S=Ls(f);S='link[rel="'+c+'"][href="'+S+'"]',typeof p=="string"&&(S+='[crossorigin="'+p+'"]'),HA.has(S)||(HA.add(S),c={rel:c,crossOrigin:p,href:f},y.querySelector(S)===null&&(f=y.createElement("link"),ai(f,"link",c),Lt(f),y.head.appendChild(f)))}}function vz(c){Gu.D(c),VA("dns-prefetch",c,null)}function yz(c,f){Gu.C(c,f),VA("preconnect",c,f)}function bz(c,f,p){Gu.L(c,f,p);var y=fm;if(y&&c&&f){var S='link[rel="preload"][as="'+Ls(f)+'"]';f==="image"&&p&&p.imageSrcSet?(S+='[imagesrcset="'+Ls(p.imageSrcSet)+'"]',typeof p.imageSizes=="string"&&(S+='[imagesizes="'+Ls(p.imageSizes)+'"]')):S+='[href="'+Ls(c)+'"]';var F=S;switch(f){case"style":F=hm(c);break;case"script":F=mm(c)}Ao.has(F)||(c=m({rel:"preload",href:f==="image"&&p&&p.imageSrcSet?void 0:c,as:f},p),Ao.set(F,c),y.querySelector(S)!==null||f==="style"&&y.querySelector(nx(F))||f==="script"&&y.querySelector(ax(F))||(f=y.createElement("link"),ai(f,"link",c),Lt(f),y.head.appendChild(f)))}}function wz(c,f){Gu.m(c,f);var p=fm;if(p&&c){var y=f&&typeof f.as=="string"?f.as:"script",S='link[rel="modulepreload"][as="'+Ls(y)+'"][href="'+Ls(c)+'"]',F=S;switch(y){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":F=mm(c)}if(!Ao.has(F)&&(c=m({rel:"modulepreload",href:c},f),Ao.set(F,c),p.querySelector(S)===null)){switch(y){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(p.querySelector(ax(F)))return}y=p.createElement("link"),ai(y,"link",c),Lt(y),p.head.appendChild(y)}}}function Nz(c,f,p){Gu.S(c,f,p);var y=fm;if(y&&c){var S=_t(y).hoistableStyles,F=hm(c);f=f||"default";var G=S.get(F);if(!G){var ue={loading:0,preload:null};if(G=y.querySelector(nx(F)))ue.loading=5;else{c=m({rel:"stylesheet",href:c,"data-precedence":f},p),(p=Ao.get(F))&&pw(c,p);var Ae=G=y.createElement("link");Lt(Ae),ai(Ae,"link",c),Ae._p=new Promise(function(We,at){Ae.onload=We,Ae.onerror=at}),Ae.addEventListener("load",function(){ue.loading|=1}),Ae.addEventListener("error",function(){ue.loading|=2}),ue.loading|=4,B1(G,f,y)}G={type:"stylesheet",instance:G,count:1,state:ue},S.set(F,G)}}}function _z(c,f){Gu.X(c,f);var p=fm;if(p&&c){var y=_t(p).hoistableScripts,S=mm(c),F=y.get(S);F||(F=p.querySelector(ax(S)),F||(c=m({src:c,async:!0},f),(f=Ao.get(S))&&xw(c,f),F=p.createElement("script"),Lt(F),ai(F,"link",c),p.head.appendChild(F)),F={type:"script",instance:F,count:1,state:null},y.set(S,F))}}function jz(c,f){Gu.M(c,f);var p=fm;if(p&&c){var y=_t(p).hoistableScripts,S=mm(c),F=y.get(S);F||(F=p.querySelector(ax(S)),F||(c=m({src:c,async:!0,type:"module"},f),(f=Ao.get(S))&&xw(c,f),F=p.createElement("script"),Lt(F),ai(F,"link",c),p.head.appendChild(F)),F={type:"script",instance:F,count:1,state:null},y.set(S,F))}}function WA(c,f,p,y){var S=(S=ee.current)?I1(S):null;if(!S)throw Error(n(446));switch(c){case"meta":case"title":return null;case"style":return typeof p.precedence=="string"&&typeof p.href=="string"?(f=hm(p.href),p=_t(S).hoistableStyles,y=p.get(f),y||(y={type:"style",instance:null,count:0,state:null},p.set(f,y)),y):{type:"void",instance:null,count:0,state:null};case"link":if(p.rel==="stylesheet"&&typeof p.href=="string"&&typeof p.precedence=="string"){c=hm(p.href);var F=_t(S).hoistableStyles,G=F.get(c);if(G||(S=S.ownerDocument||S,G={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},F.set(c,G),(F=S.querySelector(nx(c)))&&!F._p&&(G.instance=F,G.state.loading=5),Ao.has(c)||(p={rel:"preload",as:"style",href:p.href,crossOrigin:p.crossOrigin,integrity:p.integrity,media:p.media,hrefLang:p.hrefLang,referrerPolicy:p.referrerPolicy},Ao.set(c,p),F||Sz(S,c,p,G.state))),f&&y===null)throw Error(n(528,""));return G}if(f&&y!==null)throw Error(n(529,""));return null;case"script":return f=p.async,p=p.src,typeof p=="string"&&f&&typeof f!="function"&&typeof f!="symbol"?(f=mm(p),p=_t(S).hoistableScripts,y=p.get(f),y||(y={type:"script",instance:null,count:0,state:null},p.set(f,y)),y):{type:"void",instance:null,count:0,state:null};default:throw Error(n(444,c))}}function hm(c){return'href="'+Ls(c)+'"'}function nx(c){return'link[rel="stylesheet"]['+c+"]"}function KA(c){return m({},c,{"data-precedence":c.precedence,precedence:null})}function Sz(c,f,p,y){c.querySelector('link[rel="preload"][as="style"]['+f+"]")?y.loading=1:(f=c.createElement("link"),y.preload=f,f.addEventListener("load",function(){return y.loading|=1}),f.addEventListener("error",function(){return y.loading|=2}),ai(f,"link",p),Lt(f),c.head.appendChild(f))}function mm(c){return'[src="'+Ls(c)+'"]'}function ax(c){return"script[async]"+c}function GA(c,f,p){if(f.count++,f.instance===null)switch(f.type){case"style":var y=c.querySelector('style[data-href~="'+Ls(p.href)+'"]');if(y)return f.instance=y,Lt(y),y;var S=m({},p,{"data-href":p.href,"data-precedence":p.precedence,href:null,precedence:null});return y=(c.ownerDocument||c).createElement("style"),Lt(y),ai(y,"style",S),B1(y,p.precedence,c),f.instance=y;case"stylesheet":S=hm(p.href);var F=c.querySelector(nx(S));if(F)return f.state.loading|=4,f.instance=F,Lt(F),F;y=KA(p),(S=Ao.get(S))&&pw(y,S),F=(c.ownerDocument||c).createElement("link"),Lt(F);var G=F;return G._p=new Promise(function(ue,Ae){G.onload=ue,G.onerror=Ae}),ai(F,"link",y),f.state.loading|=4,B1(F,p.precedence,c),f.instance=F;case"script":return F=mm(p.src),(S=c.querySelector(ax(F)))?(f.instance=S,Lt(S),S):(y=p,(S=Ao.get(F))&&(y=m({},p),xw(y,S)),c=c.ownerDocument||c,S=c.createElement("script"),Lt(S),ai(S,"link",y),c.head.appendChild(S),f.instance=S);case"void":return null;default:throw Error(n(443,f.type))}else f.type==="stylesheet"&&(f.state.loading&4)===0&&(y=f.instance,f.state.loading|=4,B1(y,p.precedence,c));return f.instance}function B1(c,f,p){for(var y=p.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),S=y.length?y[y.length-1]:null,F=S,G=0;G<y.length;G++){var ue=y[G];if(ue.dataset.precedence===f)F=ue;else if(F!==S)break}F?F.parentNode.insertBefore(c,F.nextSibling):(f=p.nodeType===9?p.head:p,f.insertBefore(c,f.firstChild))}function pw(c,f){c.crossOrigin==null&&(c.crossOrigin=f.crossOrigin),c.referrerPolicy==null&&(c.referrerPolicy=f.referrerPolicy),c.title==null&&(c.title=f.title)}function xw(c,f){c.crossOrigin==null&&(c.crossOrigin=f.crossOrigin),c.referrerPolicy==null&&(c.referrerPolicy=f.referrerPolicy),c.integrity==null&&(c.integrity=f.integrity)}var U1=null;function YA(c,f,p){if(U1===null){var y=new Map,S=U1=new Map;S.set(p,y)}else S=U1,y=S.get(p),y||(y=new Map,S.set(p,y));if(y.has(c))return y;for(y.set(c,null),p=p.getElementsByTagName(c),S=0;S<p.length;S++){var F=p[S];if(!(F[He]||F[me]||c==="link"&&F.getAttribute("rel")==="stylesheet")&&F.namespaceURI!=="http://www.w3.org/2000/svg"){var G=F.getAttribute(f)||"";G=c+G;var ue=y.get(G);ue?ue.push(F):y.set(G,[F])}}return y}function XA(c,f,p){c=c.ownerDocument||c,c.head.insertBefore(p,f==="title"?c.querySelector("head > title"):null)}function Az(c,f,p){if(p===1||f.itemProp!=null)return!1;switch(c){case"meta":case"title":return!0;case"style":if(typeof f.precedence!="string"||typeof f.href!="string"||f.href==="")break;return!0;case"link":if(typeof f.rel!="string"||typeof f.href!="string"||f.href===""||f.onLoad||f.onError)break;switch(f.rel){case"stylesheet":return c=f.disabled,typeof f.precedence=="string"&&c==null;default:return!0}case"script":if(f.async&&typeof f.async!="function"&&typeof f.async!="symbol"&&!f.onLoad&&!f.onError&&f.src&&typeof f.src=="string")return!0}return!1}function QA(c){return!(c.type==="stylesheet"&&(c.state.loading&3)===0)}function kz(c,f,p,y){if(p.type==="stylesheet"&&(typeof y.media!="string"||matchMedia(y.media).matches!==!1)&&(p.state.loading&4)===0){if(p.instance===null){var S=hm(y.href),F=f.querySelector(nx(S));if(F){f=F._p,f!==null&&typeof f=="object"&&typeof f.then=="function"&&(c.count++,c=z1.bind(c),f.then(c,c)),p.state.loading|=4,p.instance=F,Lt(F);return}F=f.ownerDocument||f,y=KA(y),(S=Ao.get(S))&&pw(y,S),F=F.createElement("link"),Lt(F);var G=F;G._p=new Promise(function(ue,Ae){G.onload=ue,G.onerror=Ae}),ai(F,"link",y),p.instance=F}c.stylesheets===null&&(c.stylesheets=new Map),c.stylesheets.set(p,f),(f=p.state.preload)&&(p.state.loading&3)===0&&(c.count++,p=z1.bind(c),f.addEventListener("load",p),f.addEventListener("error",p))}}var gw=0;function Ez(c,f){return c.stylesheets&&c.count===0&&$1(c,c.stylesheets),0<c.count||0<c.imgCount?function(p){var y=setTimeout(function(){if(c.stylesheets&&$1(c,c.stylesheets),c.unsuspend){var F=c.unsuspend;c.unsuspend=null,F()}},6e4+f);0<c.imgBytes&&gw===0&&(gw=62500*oz());var S=setTimeout(function(){if(c.waitingForImages=!1,c.count===0&&(c.stylesheets&&$1(c,c.stylesheets),c.unsuspend)){var F=c.unsuspend;c.unsuspend=null,F()}},(c.imgBytes>gw?50:800)+f);return c.unsuspend=p,function(){c.unsuspend=null,clearTimeout(y),clearTimeout(S)}}:null}function z1(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)$1(this,this.stylesheets);else if(this.unsuspend){var c=this.unsuspend;this.unsuspend=null,c()}}}var q1=null;function $1(c,f){c.stylesheets=null,c.unsuspend!==null&&(c.count++,q1=new Map,f.forEach(Cz,c),q1=null,z1.call(c))}function Cz(c,f){if(!(f.state.loading&4)){var p=q1.get(c);if(p)var y=p.get(null);else{p=new Map,q1.set(c,p);for(var S=c.querySelectorAll("link[data-precedence],style[data-precedence]"),F=0;F<S.length;F++){var G=S[F];(G.nodeName==="LINK"||G.getAttribute("media")!=="not all")&&(p.set(G.dataset.precedence,G),y=G)}y&&p.set(null,y)}S=f.instance,G=S.getAttribute("data-precedence"),F=p.get(G)||y,F===y&&p.set(null,S),p.set(G,S),this.count++,y=z1.bind(this),S.addEventListener("load",y),S.addEventListener("error",y),F?F.parentNode.insertBefore(S,F.nextSibling):(c=c.nodeType===9?c.head:c,c.insertBefore(S,c.firstChild)),f.state.loading|=4}}var sx={$$typeof:j,Provider:null,Consumer:null,_currentValue:ge,_currentValue2:ge,_threadCount:0};function Tz(c,f,p,y,S,F,G,ue,Ae){this.tag=1,this.containerInfo=c,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=pi(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=pi(0),this.hiddenUpdates=pi(null),this.identifierPrefix=y,this.onUncaughtError=S,this.onCaughtError=F,this.onRecoverableError=G,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=Ae,this.incompleteTransitions=new Map}function ZA(c,f,p,y,S,F,G,ue,Ae,We,at,ut){return c=new Tz(c,f,p,G,Ae,We,at,ut,ue),f=1,F===!0&&(f|=24),F=Is(3,null,null,f),c.current=F,F.stateNode=c,f=Xd(),f.refCount++,c.pooledCache=f,f.refCount++,F.memoizedState={element:y,isDehydrated:p,cache:f},St(F),c}function JA(c){return c?(c=ys,c):ys}function ek(c,f,p,y,S,F){S=JA(S),y.context===null?y.context=S:y.pendingContext=S,y=lr(f),y.payload={element:p},F=F===void 0?null:F,F!==null&&(y.callback=F),p=wr(c,y,f),p!==null&&(_l(p,c,f),dn(p,c,f))}function tk(c,f){if(c=c.memoizedState,c!==null&&c.dehydrated!==null){var p=c.retryLane;c.retryLane=p!==0&&p<f?p:f}}function vw(c,f){tk(c,f),(c=c.alternate)&&tk(c,f)}function rk(c){if(c.tag===13||c.tag===31){var f=dc(c,67108864);f!==null&&_l(f,c,67108864),vw(c,67108864)}}function nk(c){if(c.tag===13||c.tag===31){var f=Hl();f=Cn(f);var p=dc(c,f);p!==null&&_l(p,c,f),vw(c,f)}}var H1=!0;function Oz(c,f,p,y){var S=te.T;te.T=null;var F=ie.p;try{ie.p=2,yw(c,f,p,y)}finally{ie.p=F,te.T=S}}function Fz(c,f,p,y){var S=te.T;te.T=null;var F=ie.p;try{ie.p=8,yw(c,f,p,y)}finally{ie.p=F,te.T=S}}function yw(c,f,p,y){if(H1){var S=bw(y);if(S===null)sw(c,f,y,V1,p),sk(c,y);else if(Pz(S,c,f,p,y))y.stopPropagation();else if(sk(c,y),f&4&&-1<Dz.indexOf(c)){for(;S!==null;){var F=At(S);if(F!==null)switch(F.tag){case 3:if(F=F.stateNode,F.current.memoizedState.isDehydrated){var G=Yt(F.pendingLanes);if(G!==0){var ue=F;for(ue.pendingLanes|=2,ue.entangledLanes|=2;G;){var Ae=1<<31-br(G);ue.entanglements[1]|=Ae,G&=~Ae}nu(F),(hn&6)===0&&(k1=Et()+500,Jp(0))}}break;case 31:case 13:ue=dc(F,2),ue!==null&&_l(ue,F,2),C1(),vw(F,2)}if(F=bw(y),F===null&&sw(c,f,y,V1,p),F===S)break;S=F}S!==null&&y.stopPropagation()}else sw(c,f,y,null,p)}}function bw(c){return c=Nu(c),ww(c)}var V1=null;function ww(c){if(V1=null,c=bt(c),c!==null){var f=s(c);if(f===null)c=null;else{var p=f.tag;if(p===13){if(c=l(f),c!==null)return c;c=null}else if(p===31){if(c=o(f),c!==null)return c;c=null}else if(p===3){if(f.stateNode.current.memoizedState.isDehydrated)return f.tag===3?f.stateNode.containerInfo:null;c=null}else f!==c&&(c=null)}}return V1=c,null}function ak(c){switch(c){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(zt()){case Kt:return 2;case Ar:return 8;case Mt:case Pt:return 32;case wt:return 268435456;default:return 32}default:return 32}}var Nw=!1,uf=null,df=null,ff=null,ix=new Map,lx=new Map,hf=[],Dz="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function sk(c,f){switch(c){case"focusin":case"focusout":uf=null;break;case"dragenter":case"dragleave":df=null;break;case"mouseover":case"mouseout":ff=null;break;case"pointerover":case"pointerout":ix.delete(f.pointerId);break;case"gotpointercapture":case"lostpointercapture":lx.delete(f.pointerId)}}function ox(c,f,p,y,S,F){return c===null||c.nativeEvent!==F?(c={blockedOn:f,domEventName:p,eventSystemFlags:y,nativeEvent:F,targetContainers:[S]},f!==null&&(f=At(f),f!==null&&rk(f)),c):(c.eventSystemFlags|=y,f=c.targetContainers,S!==null&&f.indexOf(S)===-1&&f.push(S),c)}function Pz(c,f,p,y,S){switch(f){case"focusin":return uf=ox(uf,c,f,p,y,S),!0;case"dragenter":return df=ox(df,c,f,p,y,S),!0;case"mouseover":return ff=ox(ff,c,f,p,y,S),!0;case"pointerover":var F=S.pointerId;return ix.set(F,ox(ix.get(F)||null,c,f,p,y,S)),!0;case"gotpointercapture":return F=S.pointerId,lx.set(F,ox(lx.get(F)||null,c,f,p,y,S)),!0}return!1}function ik(c){var f=bt(c.target);if(f!==null){var p=s(f);if(p!==null){if(f=p.tag,f===13){if(f=l(p),f!==null){c.blockedOn=f,Ne(c.priority,function(){nk(p)});return}}else if(f===31){if(f=o(p),f!==null){c.blockedOn=f,Ne(c.priority,function(){nk(p)});return}}else if(f===3&&p.stateNode.current.memoizedState.isDehydrated){c.blockedOn=p.tag===3?p.stateNode.containerInfo:null;return}}}c.blockedOn=null}function W1(c){if(c.blockedOn!==null)return!1;for(var f=c.targetContainers;0<f.length;){var p=bw(c.nativeEvent);if(p===null){p=c.nativeEvent;var y=new p.constructor(p.type,p);Zo=y,p.target.dispatchEvent(y),Zo=null}else return f=At(p),f!==null&&rk(f),c.blockedOn=p,!1;f.shift()}return!0}function lk(c,f,p){W1(c)&&p.delete(f)}function Lz(){Nw=!1,uf!==null&&W1(uf)&&(uf=null),df!==null&&W1(df)&&(df=null),ff!==null&&W1(ff)&&(ff=null),ix.forEach(lk),lx.forEach(lk)}function K1(c,f){c.blockedOn===f&&(c.blockedOn=null,Nw||(Nw=!0,e.unstable_scheduleCallback(e.unstable_NormalPriority,Lz)))}var G1=null;function ok(c){G1!==c&&(G1=c,e.unstable_scheduleCallback(e.unstable_NormalPriority,function(){G1===c&&(G1=null);for(var f=0;f<c.length;f+=3){var p=c[f],y=c[f+1],S=c[f+2];if(typeof y!="function"){if(ww(y||p)===null)continue;break}var F=At(p);F!==null&&(c.splice(f,3),f-=3,bb(F,{pending:!0,data:S,method:p.method,action:y},y,S))}}))}function pm(c){function f(Ae){return K1(Ae,c)}uf!==null&&K1(uf,c),df!==null&&K1(df,c),ff!==null&&K1(ff,c),ix.forEach(f),lx.forEach(f);for(var p=0;p<hf.length;p++){var y=hf[p];y.blockedOn===c&&(y.blockedOn=null)}for(;0<hf.length&&(p=hf[0],p.blockedOn===null);)ik(p),p.blockedOn===null&&hf.shift();if(p=(c.ownerDocument||c).$$reactFormReplay,p!=null)for(y=0;y<p.length;y+=3){var S=p[y],F=p[y+1],G=S[ve]||null;if(typeof F=="function")G||ok(p);else if(G){var ue=null;if(F&&F.hasAttribute("formAction")){if(S=F,G=F[ve]||null)ue=G.formAction;else if(ww(S)!==null)continue}else ue=G.action;typeof ue=="function"?p[y+1]=ue:(p.splice(y,3),y-=3),ok(p)}}}function ck(){function c(F){F.canIntercept&&F.info==="react-transition"&&F.intercept({handler:function(){return new Promise(function(G){return S=G})},focusReset:"manual",scroll:"manual"})}function f(){S!==null&&(S(),S=null),y||setTimeout(p,20)}function p(){if(!y&&!navigation.transition){var F=navigation.currentEntry;F&&F.url!=null&&navigation.navigate(F.url,{state:F.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var y=!1,S=null;return navigation.addEventListener("navigate",c),navigation.addEventListener("navigatesuccess",f),navigation.addEventListener("navigateerror",f),setTimeout(p,100),function(){y=!0,navigation.removeEventListener("navigate",c),navigation.removeEventListener("navigatesuccess",f),navigation.removeEventListener("navigateerror",f),S!==null&&(S(),S=null)}}}function _w(c){this._internalRoot=c}Y1.prototype.render=_w.prototype.render=function(c){var f=this._internalRoot;if(f===null)throw Error(n(409));var p=f.current,y=Hl();ek(p,y,c,f,null,null)},Y1.prototype.unmount=_w.prototype.unmount=function(){var c=this._internalRoot;if(c!==null){this._internalRoot=null;var f=c.containerInfo;ek(c.current,2,null,c,null,null),C1(),f[je]=null}};function Y1(c){this._internalRoot=c}Y1.prototype.unstable_scheduleHydration=function(c){if(c){var f=ae();c={blockedOn:null,target:c,priority:f};for(var p=0;p<hf.length&&f!==0&&f<hf[p].priority;p++);hf.splice(p,0,c),p===0&&ik(c)}};var uk=t.version;if(uk!=="19.2.0")throw Error(n(527,uk,"19.2.0"));ie.findDOMNode=function(c){var f=c._reactInternals;if(f===void 0)throw typeof c.render=="function"?Error(n(188)):(c=Object.keys(c).join(","),Error(n(268,c)));return c=d(f),c=c!==null?h(c):null,c=c===null?null:c.stateNode,c};var Mz={bundleType:0,version:"19.2.0",rendererPackageName:"react-dom",currentDispatcherRef:te,reconcilerVersion:"19.2.0"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var X1=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!X1.isDisabled&&X1.supportsFiber)try{Zt=X1.inject(Mz),kt=X1}catch{}}return ux.createRoot=function(c,f){if(!a(c))throw Error(n(299));var p=!1,y="",S=g6,F=v6,G=y6;return f!=null&&(f.unstable_strictMode===!0&&(p=!0),f.identifierPrefix!==void 0&&(y=f.identifierPrefix),f.onUncaughtError!==void 0&&(S=f.onUncaughtError),f.onCaughtError!==void 0&&(F=f.onCaughtError),f.onRecoverableError!==void 0&&(G=f.onRecoverableError)),f=ZA(c,1,!1,null,null,p,y,null,S,F,G,ck),c[je]=f.current,aw(c),new _w(f)},ux.hydrateRoot=function(c,f,p){if(!a(c))throw Error(n(299));var y=!1,S="",F=g6,G=v6,ue=y6,Ae=null;return p!=null&&(p.unstable_strictMode===!0&&(y=!0),p.identifierPrefix!==void 0&&(S=p.identifierPrefix),p.onUncaughtError!==void 0&&(F=p.onUncaughtError),p.onCaughtError!==void 0&&(G=p.onCaughtError),p.onRecoverableError!==void 0&&(ue=p.onRecoverableError),p.formState!==void 0&&(Ae=p.formState)),f=ZA(c,1,!0,f,p??null,y,S,Ae,F,G,ue,ck),f.context=JA(null),p=f.current,y=Hl(),y=Cn(y),S=lr(y),S.callback=null,wr(p,S,y),p=y,f.current.lanes=p,Xt(f,p),nu(f),c[je]=f.current,aw(c),new Y1(f)},ux.version="19.2.0",ux}var bk;function Kz(){if(bk)return Aw.exports;bk=1;function e(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(t){console.error(t)}}return e(),Aw.exports=Wz(),Aw.exports}var Gz=Kz(),sp=class{constructor(){this.listeners=new Set,this.subscribe=this.subscribe.bind(this)}subscribe(e){return this.listeners.add(e),this.onSubscribe(),()=>{this.listeners.delete(e),this.onUnsubscribe()}}hasListeners(){return this.listeners.size>0}onSubscribe(){}onUnsubscribe(){}},Yz={setTimeout:(e,t)=>setTimeout(e,t),clearTimeout:e=>clearTimeout(e),setInterval:(e,t)=>setInterval(e,t),clearInterval:e=>clearInterval(e)},Xz=class{#e=Yz;#t=!1;setTimeoutProvider(e){this.#e=e}setTimeout(e,t){return this.#e.setTimeout(e,t)}clearTimeout(e){this.#e.clearTimeout(e)}setInterval(e,t){return this.#e.setInterval(e,t)}clearInterval(e){this.#e.clearInterval(e)}},T0=new Xz;function Qz(e){setTimeout(e,0)}var V0=typeof window>"u"||"Deno"in globalThis;function Gi(){}function Zz(e,t){return typeof e=="function"?e(t):e}function XN(e){return typeof e=="number"&&e>=0&&e!==1/0}function kF(e,t){return Math.max(e+(t||0)-Date.now(),0)}function Sf(e,t){return typeof e=="function"?e(t):e}function Ro(e,t){return typeof e=="function"?e(t):e}function wk(e,t){const{type:r="all",exact:n,fetchStatus:a,predicate:s,queryKey:l,stale:o}=e;if(l){if(n){if(t.queryHash!==L_(l,t.options))return!1}else if(!qx(t.queryKey,l))return!1}if(r!=="all"){const u=t.isActive();if(r==="active"&&!u||r==="inactive"&&u)return!1}return!(typeof o=="boolean"&&t.isStale()!==o||a&&a!==t.state.fetchStatus||s&&!s(t))}function Nk(e,t){const{exact:r,status:n,predicate:a,mutationKey:s}=e;if(s){if(!t.options.mutationKey)return!1;if(r){if(W0(t.options.mutationKey)!==W0(s))return!1}else if(!qx(t.options.mutationKey,s))return!1}return!(n&&t.state.status!==n||a&&!a(t))}function L_(e,t){return(t?.queryKeyHashFn||W0)(e)}function W0(e){return JSON.stringify(e,(t,r)=>QN(r)?Object.keys(r).sort().reduce((n,a)=>(n[a]=r[a],n),{}):r)}function qx(e,t){return e===t?!0:typeof e!=typeof t?!1:e&&t&&typeof e=="object"&&typeof t=="object"?Object.keys(t).every(r=>qx(e[r],t[r])):!1}var Jz=Object.prototype.hasOwnProperty;function EF(e,t){if(e===t)return e;const r=_k(e)&&_k(t);if(!r&&!(QN(e)&&QN(t)))return t;const a=(r?e:Object.keys(e)).length,s=r?t:Object.keys(t),l=s.length,o=r?new Array(l):{};let u=0;for(let d=0;d<l;d++){const h=r?d:s[d],m=e[h],g=t[h];if(m===g){o[h]=m,(r?d<a:Jz.call(e,h))&&u++;continue}if(m===null||g===null||typeof m!="object"||typeof g!="object"){o[h]=g;continue}const x=EF(m,g);o[h]=x,x===m&&u++}return a===l&&u===a?e:o}function Qv(e,t){if(!t||Object.keys(e).length!==Object.keys(t).length)return!1;for(const r in e)if(e[r]!==t[r])return!1;return!0}function _k(e){return Array.isArray(e)&&e.length===Object.keys(e).length}function QN(e){if(!jk(e))return!1;const t=e.constructor;if(t===void 0)return!0;const r=t.prototype;return!(!jk(r)||!r.hasOwnProperty("isPrototypeOf")||Object.getPrototypeOf(e)!==Object.prototype)}function jk(e){return Object.prototype.toString.call(e)==="[object Object]"}function eq(e){return new Promise(t=>{T0.setTimeout(t,e)})}function ZN(e,t,r){return typeof r.structuralSharing=="function"?r.structuralSharing(e,t):r.structuralSharing!==!1?EF(e,t):t}function tq(e,t,r=0){const n=[...e,t];return r&&n.length>r?n.slice(1):n}function rq(e,t,r=0){const n=[t,...e];return r&&n.length>r?n.slice(0,-1):n}var M_=Symbol();function CF(e,t){return!e.queryFn&&t?.initialPromise?()=>t.initialPromise:!e.queryFn||e.queryFn===M_?()=>Promise.reject(new Error(`Missing queryFn: '${e.queryHash}'`)):e.queryFn}function TF(e,t){return typeof e=="function"?e(...t):!!e}var nq=class extends sp{#e;#t;#r;constructor(){super(),this.#r=e=>{if(!V0&&window.addEventListener){const t=()=>e();return window.addEventListener("visibilitychange",t,!1),()=>{window.removeEventListener("visibilitychange",t)}}}}onSubscribe(){this.#t||this.setEventListener(this.#r)}onUnsubscribe(){this.hasListeners()||(this.#t?.(),this.#t=void 0)}setEventListener(e){this.#r=e,this.#t?.(),this.#t=e(t=>{typeof t=="boolean"?this.setFocused(t):this.onFocus()})}setFocused(e){this.#e!==e&&(this.#e=e,this.onFocus())}onFocus(){const e=this.isFocused();this.listeners.forEach(t=>{t(e)})}isFocused(){return typeof this.#e=="boolean"?this.#e:globalThis.document?.visibilityState!=="hidden"}},R_=new nq;function JN(){let e,t;const r=new Promise((a,s)=>{e=a,t=s});r.status="pending",r.catch(()=>{});function n(a){Object.assign(r,a),delete r.resolve,delete r.reject}return r.resolve=a=>{n({status:"fulfilled",value:a}),e(a)},r.reject=a=>{n({status:"rejected",reason:a}),t(a)},r}var aq=Qz;function sq(){let e=[],t=0,r=o=>{o()},n=o=>{o()},a=aq;const s=o=>{t?e.push(o):a(()=>{r(o)})},l=()=>{const o=e;e=[],o.length&&a(()=>{n(()=>{o.forEach(u=>{r(u)})})})};return{batch:o=>{let u;t++;try{u=o()}finally{t--,t||l()}return u},batchCalls:o=>(...u)=>{s(()=>{o(...u)})},schedule:s,setNotifyFunction:o=>{r=o},setBatchNotifyFunction:o=>{n=o},setScheduler:o=>{a=o}}}var As=sq(),iq=class extends sp{#e=!0;#t;#r;constructor(){super(),this.#r=e=>{if(!V0&&window.addEventListener){const t=()=>e(!0),r=()=>e(!1);return window.addEventListener("online",t,!1),window.addEventListener("offline",r,!1),()=>{window.removeEventListener("online",t),window.removeEventListener("offline",r)}}}}onSubscribe(){this.#t||this.setEventListener(this.#r)}onUnsubscribe(){this.hasListeners()||(this.#t?.(),this.#t=void 0)}setEventListener(e){this.#r=e,this.#t?.(),this.#t=e(this.setOnline.bind(this))}setOnline(e){this.#e!==e&&(this.#e=e,this.listeners.forEach(r=>{r(e)}))}isOnline(){return this.#e}},Zv=new iq;function lq(e){return Math.min(1e3*2**e,3e4)}function OF(e){return(e??"online")==="online"?Zv.isOnline():!0}var e4=class extends Error{constructor(e){super("CancelledError"),this.revert=e?.revert,this.silent=e?.silent}};function FF(e){let t=!1,r=0,n;const a=JN(),s=()=>a.status!=="pending",l=v=>{if(!s()){const w=new e4(v);g(w),e.onCancel?.(w)}},o=()=>{t=!0},u=()=>{t=!1},d=()=>R_.isFocused()&&(e.networkMode==="always"||Zv.isOnline())&&e.canRun(),h=()=>OF(e.networkMode)&&e.canRun(),m=v=>{s()||(n?.(),a.resolve(v))},g=v=>{s()||(n?.(),a.reject(v))},x=()=>new Promise(v=>{n=w=>{(s()||d())&&v(w)},e.onPause?.()}).then(()=>{n=void 0,s()||e.onContinue?.()}),b=()=>{if(s())return;let v;const w=r===0?e.initialPromise:void 0;try{v=w??e.fn()}catch(N){v=Promise.reject(N)}Promise.resolve(v).then(m).catch(N=>{if(s())return;const E=e.retry??(V0?0:3),j=e.retryDelay??lq,T=typeof j=="function"?j(r,N):j,O=E===!0||typeof E=="number"&&r<E||typeof E=="function"&&E(r,N);if(t||!O){g(N);return}r++,e.onFail?.(r,N),eq(T).then(()=>d()?void 0:x()).then(()=>{t?g(N):b()})})};return{promise:a,status:()=>a.status,cancel:l,continue:()=>(n?.(),a),cancelRetry:o,continueRetry:u,canStart:h,start:()=>(h()?b():x().then(b),a)}}var DF=class{#e;destroy(){this.clearGcTimeout()}scheduleGc(){this.clearGcTimeout(),XN(this.gcTime)&&(this.#e=T0.setTimeout(()=>{this.optionalRemove()},this.gcTime))}updateGcTime(e){this.gcTime=Math.max(this.gcTime||0,e??(V0?1/0:300*1e3))}clearGcTimeout(){this.#e&&(T0.clearTimeout(this.#e),this.#e=void 0)}},oq=class extends DF{#e;#t;#r;#a;#n;#i;#l;constructor(e){super(),this.#l=!1,this.#i=e.defaultOptions,this.setOptions(e.options),this.observers=[],this.#a=e.client,this.#r=this.#a.getQueryCache(),this.queryKey=e.queryKey,this.queryHash=e.queryHash,this.#e=Sk(this.options),this.state=e.state??this.#e,this.scheduleGc()}get meta(){return this.options.meta}get promise(){return this.#n?.promise}setOptions(e){if(this.options={...this.#i,...e},this.updateGcTime(this.options.gcTime),this.state&&this.state.data===void 0){const t=Sk(this.options);t.data!==void 0&&(this.setData(t.data,{updatedAt:t.dataUpdatedAt,manual:!0}),this.#e=t)}}optionalRemove(){!this.observers.length&&this.state.fetchStatus==="idle"&&this.#r.remove(this)}setData(e,t){const r=ZN(this.state.data,e,this.options);return this.#s({data:r,type:"success",dataUpdatedAt:t?.updatedAt,manual:t?.manual}),r}setState(e,t){this.#s({type:"setState",state:e,setStateOptions:t})}cancel(e){const t=this.#n?.promise;return this.#n?.cancel(e),t?t.then(Gi).catch(Gi):Promise.resolve()}destroy(){super.destroy(),this.cancel({silent:!0})}reset(){this.destroy(),this.setState(this.#e)}isActive(){return this.observers.some(e=>Ro(e.options.enabled,this)!==!1)}isDisabled(){return this.getObserversCount()>0?!this.isActive():this.options.queryFn===M_||this.state.dataUpdateCount+this.state.errorUpdateCount===0}isStatic(){return this.getObserversCount()>0?this.observers.some(e=>Sf(e.options.staleTime,this)==="static"):!1}isStale(){return this.getObserversCount()>0?this.observers.some(e=>e.getCurrentResult().isStale):this.state.data===void 0||this.state.isInvalidated}isStaleByTime(e=0){return this.state.data===void 0?!0:e==="static"?!1:this.state.isInvalidated?!0:!kF(this.state.dataUpdatedAt,e)}onFocus(){this.observers.find(t=>t.shouldFetchOnWindowFocus())?.refetch({cancelRefetch:!1}),this.#n?.continue()}onOnline(){this.observers.find(t=>t.shouldFetchOnReconnect())?.refetch({cancelRefetch:!1}),this.#n?.continue()}addObserver(e){this.observers.includes(e)||(this.observers.push(e),this.clearGcTimeout(),this.#r.notify({type:"observerAdded",query:this,observer:e}))}removeObserver(e){this.observers.includes(e)&&(this.observers=this.observers.filter(t=>t!==e),this.observers.length||(this.#n&&(this.#l?this.#n.cancel({revert:!0}):this.#n.cancelRetry()),this.scheduleGc()),this.#r.notify({type:"observerRemoved",query:this,observer:e}))}getObserversCount(){return this.observers.length}invalidate(){this.state.isInvalidated||this.#s({type:"invalidate"})}async fetch(e,t){if(this.state.fetchStatus!=="idle"&&this.#n?.status()!=="rejected"){if(this.state.data!==void 0&&t?.cancelRefetch)this.cancel({silent:!0});else if(this.#n)return this.#n.continueRetry(),this.#n.promise}if(e&&this.setOptions(e),!this.options.queryFn){const o=this.observers.find(u=>u.options.queryFn);o&&this.setOptions(o.options)}const r=new AbortController,n=o=>{Object.defineProperty(o,"signal",{enumerable:!0,get:()=>(this.#l=!0,r.signal)})},a=()=>{const o=CF(this.options,t),d=(()=>{const h={client:this.#a,queryKey:this.queryKey,meta:this.meta};return n(h),h})();return this.#l=!1,this.options.persister?this.options.persister(o,d,this):o(d)},l=(()=>{const o={fetchOptions:t,options:this.options,queryKey:this.queryKey,client:this.#a,state:this.state,fetchFn:a};return n(o),o})();this.options.behavior?.onFetch(l,this),this.#t=this.state,(this.state.fetchStatus==="idle"||this.state.fetchMeta!==l.fetchOptions?.meta)&&this.#s({type:"fetch",meta:l.fetchOptions?.meta}),this.#n=FF({initialPromise:t?.initialPromise,fn:l.fetchFn,onCancel:o=>{o instanceof e4&&o.revert&&this.setState({...this.#t,fetchStatus:"idle"}),r.abort()},onFail:(o,u)=>{this.#s({type:"failed",failureCount:o,error:u})},onPause:()=>{this.#s({type:"pause"})},onContinue:()=>{this.#s({type:"continue"})},retry:l.options.retry,retryDelay:l.options.retryDelay,networkMode:l.options.networkMode,canRun:()=>!0});try{const o=await this.#n.start();if(o===void 0)throw new Error(`${this.queryHash} data is undefined`);return this.setData(o),this.#r.config.onSuccess?.(o,this),this.#r.config.onSettled?.(o,this.state.error,this),o}catch(o){if(o instanceof e4){if(o.silent)return this.#n.promise;if(o.revert){if(this.state.data===void 0)throw o;return this.state.data}}throw this.#s({type:"error",error:o}),this.#r.config.onError?.(o,this),this.#r.config.onSettled?.(this.state.data,o,this),o}finally{this.scheduleGc()}}#s(e){const t=r=>{switch(e.type){case"failed":return{...r,fetchFailureCount:e.failureCount,fetchFailureReason:e.error};case"pause":return{...r,fetchStatus:"paused"};case"continue":return{...r,fetchStatus:"fetching"};case"fetch":return{...r,...PF(r.data,this.options),fetchMeta:e.meta??null};case"success":const n={...r,data:e.data,dataUpdateCount:r.dataUpdateCount+1,dataUpdatedAt:e.dataUpdatedAt??Date.now(),error:null,isInvalidated:!1,status:"success",...!e.manual&&{fetchStatus:"idle",fetchFailureCount:0,fetchFailureReason:null}};return this.#t=e.manual?n:void 0,n;case"error":const a=e.error;return{...r,error:a,errorUpdateCount:r.errorUpdateCount+1,errorUpdatedAt:Date.now(),fetchFailureCount:r.fetchFailureCount+1,fetchFailureReason:a,fetchStatus:"idle",status:"error"};case"invalidate":return{...r,isInvalidated:!0};case"setState":return{...r,...e.state}}};this.state=t(this.state),As.batch(()=>{this.observers.forEach(r=>{r.onQueryUpdate()}),this.#r.notify({query:this,type:"updated",action:e})})}};function PF(e,t){return{fetchFailureCount:0,fetchFailureReason:null,fetchStatus:OF(t.networkMode)?"fetching":"paused",...e===void 0&&{error:null,status:"pending"}}}function Sk(e){const t=typeof e.initialData=="function"?e.initialData():e.initialData,r=t!==void 0,n=r?typeof e.initialDataUpdatedAt=="function"?e.initialDataUpdatedAt():e.initialDataUpdatedAt:0;return{data:t,dataUpdateCount:0,dataUpdatedAt:r?n??Date.now():0,error:null,errorUpdateCount:0,errorUpdatedAt:0,fetchFailureCount:0,fetchFailureReason:null,fetchMeta:null,isInvalidated:!1,status:r?"success":"pending",fetchStatus:"idle"}}var cq=class extends sp{constructor(e,t){super(),this.options=t,this.#e=e,this.#s=null,this.#l=JN(),this.bindMethods(),this.setOptions(t)}#e;#t=void 0;#r=void 0;#a=void 0;#n;#i;#l;#s;#p;#f;#h;#c;#u;#o;#m=new Set;bindMethods(){this.refetch=this.refetch.bind(this)}onSubscribe(){this.listeners.size===1&&(this.#t.addObserver(this),Ak(this.#t,this.options)?this.#d():this.updateResult(),this.#y())}onUnsubscribe(){this.hasListeners()||this.destroy()}shouldFetchOnReconnect(){return t4(this.#t,this.options,this.options.refetchOnReconnect)}shouldFetchOnWindowFocus(){return t4(this.#t,this.options,this.options.refetchOnWindowFocus)}destroy(){this.listeners=new Set,this.#b(),this.#w(),this.#t.removeObserver(this)}setOptions(e){const t=this.options,r=this.#t;if(this.options=this.#e.defaultQueryOptions(e),this.options.enabled!==void 0&&typeof this.options.enabled!="boolean"&&typeof this.options.enabled!="function"&&typeof Ro(this.options.enabled,this.#t)!="boolean")throw new Error("Expected enabled to be a boolean or a callback that returns a boolean");this.#N(),this.#t.setOptions(this.options),t._defaulted&&!Qv(this.options,t)&&this.#e.getQueryCache().notify({type:"observerOptionsUpdated",query:this.#t,observer:this});const n=this.hasListeners();n&&kk(this.#t,r,this.options,t)&&this.#d(),this.updateResult(),n&&(this.#t!==r||Ro(this.options.enabled,this.#t)!==Ro(t.enabled,this.#t)||Sf(this.options.staleTime,this.#t)!==Sf(t.staleTime,this.#t))&&this.#x();const a=this.#g();n&&(this.#t!==r||Ro(this.options.enabled,this.#t)!==Ro(t.enabled,this.#t)||a!==this.#o)&&this.#v(a)}getOptimisticResult(e){const t=this.#e.getQueryCache().build(this.#e,e),r=this.createResult(t,e);return dq(this,r)&&(this.#a=r,this.#i=this.options,this.#n=this.#t.state),r}getCurrentResult(){return this.#a}trackResult(e,t){return new Proxy(e,{get:(r,n)=>(this.trackProp(n),t?.(n),n==="promise"&&(this.trackProp("data"),!this.options.experimental_prefetchInRender&&this.#l.status==="pending"&&this.#l.reject(new Error("experimental_prefetchInRender feature flag is not enabled"))),Reflect.get(r,n))})}trackProp(e){this.#m.add(e)}getCurrentQuery(){return this.#t}refetch({...e}={}){return this.fetch({...e})}fetchOptimistic(e){const t=this.#e.defaultQueryOptions(e),r=this.#e.getQueryCache().build(this.#e,t);return r.fetch().then(()=>this.createResult(r,t))}fetch(e){return this.#d({...e,cancelRefetch:e.cancelRefetch??!0}).then(()=>(this.updateResult(),this.#a))}#d(e){this.#N();let t=this.#t.fetch(this.options,e);return e?.throwOnError||(t=t.catch(Gi)),t}#x(){this.#b();const e=Sf(this.options.staleTime,this.#t);if(V0||this.#a.isStale||!XN(e))return;const r=kF(this.#a.dataUpdatedAt,e)+1;this.#c=T0.setTimeout(()=>{this.#a.isStale||this.updateResult()},r)}#g(){return(typeof this.options.refetchInterval=="function"?this.options.refetchInterval(this.#t):this.options.refetchInterval)??!1}#v(e){this.#w(),this.#o=e,!(V0||Ro(this.options.enabled,this.#t)===!1||!XN(this.#o)||this.#o===0)&&(this.#u=T0.setInterval(()=>{(this.options.refetchIntervalInBackground||R_.isFocused())&&this.#d()},this.#o))}#y(){this.#x(),this.#v(this.#g())}#b(){this.#c&&(T0.clearTimeout(this.#c),this.#c=void 0)}#w(){this.#u&&(T0.clearInterval(this.#u),this.#u=void 0)}createResult(e,t){const r=this.#t,n=this.options,a=this.#a,s=this.#n,l=this.#i,u=e!==r?e.state:this.#r,{state:d}=e;let h={...d},m=!1,g;if(t._optimisticResults){const P=this.hasListeners(),B=!P&&Ak(e,t),H=P&&kk(e,r,t,n);(B||H)&&(h={...h,...PF(d.data,e.options)}),t._optimisticResults==="isRestoring"&&(h.fetchStatus="idle")}let{error:x,errorUpdatedAt:b,status:v}=h;g=h.data;let w=!1;if(t.placeholderData!==void 0&&g===void 0&&v==="pending"){let P;a?.isPlaceholderData&&t.placeholderData===l?.placeholderData?(P=a.data,w=!0):P=typeof t.placeholderData=="function"?t.placeholderData(this.#h?.state.data,this.#h):t.placeholderData,P!==void 0&&(v="success",g=ZN(a?.data,P,t),m=!0)}if(t.select&&g!==void 0&&!w)if(a&&g===s?.data&&t.select===this.#p)g=this.#f;else try{this.#p=t.select,g=t.select(g),g=ZN(a?.data,g,t),this.#f=g,this.#s=null}catch(P){this.#s=P}this.#s&&(x=this.#s,g=this.#f,b=Date.now(),v="error");const N=h.fetchStatus==="fetching",E=v==="pending",j=v==="error",T=E&&N,O=g!==void 0,C={status:v,fetchStatus:h.fetchStatus,isPending:E,isSuccess:v==="success",isError:j,isInitialLoading:T,isLoading:T,data:g,dataUpdatedAt:h.dataUpdatedAt,error:x,errorUpdatedAt:b,failureCount:h.fetchFailureCount,failureReason:h.fetchFailureReason,errorUpdateCount:h.errorUpdateCount,isFetched:h.dataUpdateCount>0||h.errorUpdateCount>0,isFetchedAfterMount:h.dataUpdateCount>u.dataUpdateCount||h.errorUpdateCount>u.errorUpdateCount,isFetching:N,isRefetching:N&&!E,isLoadingError:j&&!O,isPaused:h.fetchStatus==="paused",isPlaceholderData:m,isRefetchError:j&&O,isStale:I_(e,t),refetch:this.refetch,promise:this.#l,isEnabled:Ro(t.enabled,e)!==!1};if(this.options.experimental_prefetchInRender){const P=L=>{C.status==="error"?L.reject(C.error):C.data!==void 0&&L.resolve(C.data)},B=()=>{const L=this.#l=C.promise=JN();P(L)},H=this.#l;switch(H.status){case"pending":e.queryHash===r.queryHash&&P(H);break;case"fulfilled":(C.status==="error"||C.data!==H.value)&&B();break;case"rejected":(C.status!=="error"||C.error!==H.reason)&&B();break}}return C}updateResult(){const e=this.#a,t=this.createResult(this.#t,this.options);if(this.#n=this.#t.state,this.#i=this.options,this.#n.data!==void 0&&(this.#h=this.#t),Qv(t,e))return;this.#a=t;const r=()=>{if(!e)return!0;const{notifyOnChangeProps:n}=this.options,a=typeof n=="function"?n():n;if(a==="all"||!a&&!this.#m.size)return!0;const s=new Set(a??this.#m);return this.options.throwOnError&&s.add("error"),Object.keys(this.#a).some(l=>{const o=l;return this.#a[o]!==e[o]&&s.has(o)})};this.#_({listeners:r()})}#N(){const e=this.#e.getQueryCache().build(this.#e,this.options);if(e===this.#t)return;const t=this.#t;this.#t=e,this.#r=e.state,this.hasListeners()&&(t?.removeObserver(this),e.addObserver(this))}onQueryUpdate(){this.updateResult(),this.hasListeners()&&this.#y()}#_(e){As.batch(()=>{e.listeners&&this.listeners.forEach(t=>{t(this.#a)}),this.#e.getQueryCache().notify({query:this.#t,type:"observerResultsUpdated"})})}};function uq(e,t){return Ro(t.enabled,e)!==!1&&e.state.data===void 0&&!(e.state.status==="error"&&t.retryOnMount===!1)}function Ak(e,t){return uq(e,t)||e.state.data!==void 0&&t4(e,t,t.refetchOnMount)}function t4(e,t,r){if(Ro(t.enabled,e)!==!1&&Sf(t.staleTime,e)!=="static"){const n=typeof r=="function"?r(e):r;return n==="always"||n!==!1&&I_(e,t)}return!1}function kk(e,t,r,n){return(e!==t||Ro(n.enabled,e)===!1)&&(!r.suspense||e.state.status!=="error")&&I_(e,r)}function I_(e,t){return Ro(t.enabled,e)!==!1&&e.isStaleByTime(Sf(t.staleTime,e))}function dq(e,t){return!Qv(e.getCurrentResult(),t)}function Ek(e){return{onFetch:(t,r)=>{const n=t.options,a=t.fetchOptions?.meta?.fetchMore?.direction,s=t.state.data?.pages||[],l=t.state.data?.pageParams||[];let o={pages:[],pageParams:[]},u=0;const d=async()=>{let h=!1;const m=b=>{Object.defineProperty(b,"signal",{enumerable:!0,get:()=>(t.signal.aborted?h=!0:t.signal.addEventListener("abort",()=>{h=!0}),t.signal)})},g=CF(t.options,t.fetchOptions),x=async(b,v,w)=>{if(h)return Promise.reject();if(v==null&&b.pages.length)return Promise.resolve(b);const E=(()=>{const D={client:t.client,queryKey:t.queryKey,pageParam:v,direction:w?"backward":"forward",meta:t.options.meta};return m(D),D})(),j=await g(E),{maxPages:T}=t.options,O=w?rq:tq;return{pages:O(b.pages,j,T),pageParams:O(b.pageParams,v,T)}};if(a&&s.length){const b=a==="backward",v=b?fq:Ck,w={pages:s,pageParams:l},N=v(n,w);o=await x(w,N,b)}else{const b=e??s.length;do{const v=u===0?l[0]??n.initialPageParam:Ck(n,o);if(u>0&&v==null)break;o=await x(o,v),u++}while(u<b)}return o};t.options.persister?t.fetchFn=()=>t.options.persister?.(d,{client:t.client,queryKey:t.queryKey,meta:t.options.meta,signal:t.signal},r):t.fetchFn=d}}}function Ck(e,{pages:t,pageParams:r}){const n=t.length-1;return t.length>0?e.getNextPageParam(t[n],t,r[n],r):void 0}function fq(e,{pages:t,pageParams:r}){return t.length>0?e.getPreviousPageParam?.(t[0],t,r[0],r):void 0}var hq=class extends DF{#e;#t;#r;#a;constructor(e){super(),this.#e=e.client,this.mutationId=e.mutationId,this.#r=e.mutationCache,this.#t=[],this.state=e.state||LF(),this.setOptions(e.options),this.scheduleGc()}setOptions(e){this.options=e,this.updateGcTime(this.options.gcTime)}get meta(){return this.options.meta}addObserver(e){this.#t.includes(e)||(this.#t.push(e),this.clearGcTimeout(),this.#r.notify({type:"observerAdded",mutation:this,observer:e}))}removeObserver(e){this.#t=this.#t.filter(t=>t!==e),this.scheduleGc(),this.#r.notify({type:"observerRemoved",mutation:this,observer:e})}optionalRemove(){this.#t.length||(this.state.status==="pending"?this.scheduleGc():this.#r.remove(this))}continue(){return this.#a?.continue()??this.execute(this.state.variables)}async execute(e){const t=()=>{this.#n({type:"continue"})},r={client:this.#e,meta:this.options.meta,mutationKey:this.options.mutationKey};this.#a=FF({fn:()=>this.options.mutationFn?this.options.mutationFn(e,r):Promise.reject(new Error("No mutationFn found")),onFail:(s,l)=>{this.#n({type:"failed",failureCount:s,error:l})},onPause:()=>{this.#n({type:"pause"})},onContinue:t,retry:this.options.retry??0,retryDelay:this.options.retryDelay,networkMode:this.options.networkMode,canRun:()=>this.#r.canRun(this)});const n=this.state.status==="pending",a=!this.#a.canStart();try{if(n)t();else{this.#n({type:"pending",variables:e,isPaused:a}),await this.#r.config.onMutate?.(e,this,r);const l=await this.options.onMutate?.(e,r);l!==this.state.context&&this.#n({type:"pending",context:l,variables:e,isPaused:a})}const s=await this.#a.start();return await this.#r.config.onSuccess?.(s,e,this.state.context,this,r),await this.options.onSuccess?.(s,e,this.state.context,r),await this.#r.config.onSettled?.(s,null,this.state.variables,this.state.context,this,r),await this.options.onSettled?.(s,null,e,this.state.context,r),this.#n({type:"success",data:s}),s}catch(s){try{throw await this.#r.config.onError?.(s,e,this.state.context,this,r),await this.options.onError?.(s,e,this.state.context,r),await this.#r.config.onSettled?.(void 0,s,this.state.variables,this.state.context,this,r),await this.options.onSettled?.(void 0,s,e,this.state.context,r),s}finally{this.#n({type:"error",error:s})}}finally{this.#r.runNext(this)}}#n(e){const t=r=>{switch(e.type){case"failed":return{...r,failureCount:e.failureCount,failureReason:e.error};case"pause":return{...r,isPaused:!0};case"continue":return{...r,isPaused:!1};case"pending":return{...r,context:e.context,data:void 0,failureCount:0,failureReason:null,error:null,isPaused:e.isPaused,status:"pending",variables:e.variables,submittedAt:Date.now()};case"success":return{...r,data:e.data,failureCount:0,failureReason:null,error:null,status:"success",isPaused:!1};case"error":return{...r,data:void 0,error:e.error,failureCount:r.failureCount+1,failureReason:e.error,isPaused:!1,status:"error"}}};this.state=t(this.state),As.batch(()=>{this.#t.forEach(r=>{r.onMutationUpdate(e)}),this.#r.notify({mutation:this,type:"updated",action:e})})}};function LF(){return{context:void 0,data:void 0,error:null,failureCount:0,failureReason:null,isPaused:!1,status:"idle",variables:void 0,submittedAt:0}}var mq=class extends sp{constructor(e={}){super(),this.config=e,this.#e=new Set,this.#t=new Map,this.#r=0}#e;#t;#r;build(e,t,r){const n=new hq({client:e,mutationCache:this,mutationId:++this.#r,options:e.defaultMutationOptions(t),state:r});return this.add(n),n}add(e){this.#e.add(e);const t=Q1(e);if(typeof t=="string"){const r=this.#t.get(t);r?r.push(e):this.#t.set(t,[e])}this.notify({type:"added",mutation:e})}remove(e){if(this.#e.delete(e)){const t=Q1(e);if(typeof t=="string"){const r=this.#t.get(t);if(r)if(r.length>1){const n=r.indexOf(e);n!==-1&&r.splice(n,1)}else r[0]===e&&this.#t.delete(t)}}this.notify({type:"removed",mutation:e})}canRun(e){const t=Q1(e);if(typeof t=="string"){const n=this.#t.get(t)?.find(a=>a.state.status==="pending");return!n||n===e}else return!0}runNext(e){const t=Q1(e);return typeof t=="string"?this.#t.get(t)?.find(n=>n!==e&&n.state.isPaused)?.continue()??Promise.resolve():Promise.resolve()}clear(){As.batch(()=>{this.#e.forEach(e=>{this.notify({type:"removed",mutation:e})}),this.#e.clear(),this.#t.clear()})}getAll(){return Array.from(this.#e)}find(e){const t={exact:!0,...e};return this.getAll().find(r=>Nk(t,r))}findAll(e={}){return this.getAll().filter(t=>Nk(e,t))}notify(e){As.batch(()=>{this.listeners.forEach(t=>{t(e)})})}resumePausedMutations(){const e=this.getAll().filter(t=>t.state.isPaused);return As.batch(()=>Promise.all(e.map(t=>t.continue().catch(Gi))))}};function Q1(e){return e.options.scope?.id}var pq=class extends sp{#e;#t=void 0;#r;#a;constructor(t,r){super(),this.#e=t,this.setOptions(r),this.bindMethods(),this.#n()}bindMethods(){this.mutate=this.mutate.bind(this),this.reset=this.reset.bind(this)}setOptions(t){const r=this.options;this.options=this.#e.defaultMutationOptions(t),Qv(this.options,r)||this.#e.getMutationCache().notify({type:"observerOptionsUpdated",mutation:this.#r,observer:this}),r?.mutationKey&&this.options.mutationKey&&W0(r.mutationKey)!==W0(this.options.mutationKey)?this.reset():this.#r?.state.status==="pending"&&this.#r.setOptions(this.options)}onUnsubscribe(){this.hasListeners()||this.#r?.removeObserver(this)}onMutationUpdate(t){this.#n(),this.#i(t)}getCurrentResult(){return this.#t}reset(){this.#r?.removeObserver(this),this.#r=void 0,this.#n(),this.#i()}mutate(t,r){return this.#a=r,this.#r?.removeObserver(this),this.#r=this.#e.getMutationCache().build(this.#e,this.options),this.#r.addObserver(this),this.#r.execute(t)}#n(){const t=this.#r?.state??LF();this.#t={...t,isPending:t.status==="pending",isSuccess:t.status==="success",isError:t.status==="error",isIdle:t.status==="idle",mutate:this.mutate,reset:this.reset}}#i(t){As.batch(()=>{if(this.#a&&this.hasListeners()){const r=this.#t.variables,n=this.#t.context,a={client:this.#e,meta:this.options.meta,mutationKey:this.options.mutationKey};t?.type==="success"?(this.#a.onSuccess?.(t.data,r,n,a),this.#a.onSettled?.(t.data,null,r,n,a)):t?.type==="error"&&(this.#a.onError?.(t.error,r,n,a),this.#a.onSettled?.(void 0,t.error,r,n,a))}this.listeners.forEach(r=>{r(this.#t)})})}},xq=class extends sp{constructor(e={}){super(),this.config=e,this.#e=new Map}#e;build(e,t,r){const n=t.queryKey,a=t.queryHash??L_(n,t);let s=this.get(a);return s||(s=new oq({client:e,queryKey:n,queryHash:a,options:e.defaultQueryOptions(t),state:r,defaultOptions:e.getQueryDefaults(n)}),this.add(s)),s}add(e){this.#e.has(e.queryHash)||(this.#e.set(e.queryHash,e),this.notify({type:"added",query:e}))}remove(e){const t=this.#e.get(e.queryHash);t&&(e.destroy(),t===e&&this.#e.delete(e.queryHash),this.notify({type:"removed",query:e}))}clear(){As.batch(()=>{this.getAll().forEach(e=>{this.remove(e)})})}get(e){return this.#e.get(e)}getAll(){return[...this.#e.values()]}find(e){const t={exact:!0,...e};return this.getAll().find(r=>wk(t,r))}findAll(e={}){const t=this.getAll();return Object.keys(e).length>0?t.filter(r=>wk(e,r)):t}notify(e){As.batch(()=>{this.listeners.forEach(t=>{t(e)})})}onFocus(){As.batch(()=>{this.getAll().forEach(e=>{e.onFocus()})})}onOnline(){As.batch(()=>{this.getAll().forEach(e=>{e.onOnline()})})}},gq=class{#e;#t;#r;#a;#n;#i;#l;#s;constructor(e={}){this.#e=e.queryCache||new xq,this.#t=e.mutationCache||new mq,this.#r=e.defaultOptions||{},this.#a=new Map,this.#n=new Map,this.#i=0}mount(){this.#i++,this.#i===1&&(this.#l=R_.subscribe(async e=>{e&&(await this.resumePausedMutations(),this.#e.onFocus())}),this.#s=Zv.subscribe(async e=>{e&&(await this.resumePausedMutations(),this.#e.onOnline())}))}unmount(){this.#i--,this.#i===0&&(this.#l?.(),this.#l=void 0,this.#s?.(),this.#s=void 0)}isFetching(e){return this.#e.findAll({...e,fetchStatus:"fetching"}).length}isMutating(e){return this.#t.findAll({...e,status:"pending"}).length}getQueryData(e){const t=this.defaultQueryOptions({queryKey:e});return this.#e.get(t.queryHash)?.state.data}ensureQueryData(e){const t=this.defaultQueryOptions(e),r=this.#e.build(this,t),n=r.state.data;return n===void 0?this.fetchQuery(e):(e.revalidateIfStale&&r.isStaleByTime(Sf(t.staleTime,r))&&this.prefetchQuery(t),Promise.resolve(n))}getQueriesData(e){return this.#e.findAll(e).map(({queryKey:t,state:r})=>{const n=r.data;return[t,n]})}setQueryData(e,t,r){const n=this.defaultQueryOptions({queryKey:e}),s=this.#e.get(n.queryHash)?.state.data,l=Zz(t,s);if(l!==void 0)return this.#e.build(this,n).setData(l,{...r,manual:!0})}setQueriesData(e,t,r){return As.batch(()=>this.#e.findAll(e).map(({queryKey:n})=>[n,this.setQueryData(n,t,r)]))}getQueryState(e){const t=this.defaultQueryOptions({queryKey:e});return this.#e.get(t.queryHash)?.state}removeQueries(e){const t=this.#e;As.batch(()=>{t.findAll(e).forEach(r=>{t.remove(r)})})}resetQueries(e,t){const r=this.#e;return As.batch(()=>(r.findAll(e).forEach(n=>{n.reset()}),this.refetchQueries({type:"active",...e},t)))}cancelQueries(e,t={}){const r={revert:!0,...t},n=As.batch(()=>this.#e.findAll(e).map(a=>a.cancel(r)));return Promise.all(n).then(Gi).catch(Gi)}invalidateQueries(e,t={}){return As.batch(()=>(this.#e.findAll(e).forEach(r=>{r.invalidate()}),e?.refetchType==="none"?Promise.resolve():this.refetchQueries({...e,type:e?.refetchType??e?.type??"active"},t)))}refetchQueries(e,t={}){const r={...t,cancelRefetch:t.cancelRefetch??!0},n=As.batch(()=>this.#e.findAll(e).filter(a=>!a.isDisabled()&&!a.isStatic()).map(a=>{let s=a.fetch(void 0,r);return r.throwOnError||(s=s.catch(Gi)),a.state.fetchStatus==="paused"?Promise.resolve():s}));return Promise.all(n).then(Gi)}fetchQuery(e){const t=this.defaultQueryOptions(e);t.retry===void 0&&(t.retry=!1);const r=this.#e.build(this,t);return r.isStaleByTime(Sf(t.staleTime,r))?r.fetch(t):Promise.resolve(r.state.data)}prefetchQuery(e){return this.fetchQuery(e).then(Gi).catch(Gi)}fetchInfiniteQuery(e){return e.behavior=Ek(e.pages),this.fetchQuery(e)}prefetchInfiniteQuery(e){return this.fetchInfiniteQuery(e).then(Gi).catch(Gi)}ensureInfiniteQueryData(e){return e.behavior=Ek(e.pages),this.ensureQueryData(e)}resumePausedMutations(){return Zv.isOnline()?this.#t.resumePausedMutations():Promise.resolve()}getQueryCache(){return this.#e}getMutationCache(){return this.#t}getDefaultOptions(){return this.#r}setDefaultOptions(e){this.#r=e}setQueryDefaults(e,t){this.#a.set(W0(e),{queryKey:e,defaultOptions:t})}getQueryDefaults(e){const t=[...this.#a.values()],r={};return t.forEach(n=>{qx(e,n.queryKey)&&Object.assign(r,n.defaultOptions)}),r}setMutationDefaults(e,t){this.#n.set(W0(e),{mutationKey:e,defaultOptions:t})}getMutationDefaults(e){const t=[...this.#n.values()],r={};return t.forEach(n=>{qx(e,n.mutationKey)&&Object.assign(r,n.defaultOptions)}),r}defaultQueryOptions(e){if(e._defaulted)return e;const t={...this.#r.queries,...this.getQueryDefaults(e.queryKey),...e,_defaulted:!0};return t.queryHash||(t.queryHash=L_(t.queryKey,t)),t.refetchOnReconnect===void 0&&(t.refetchOnReconnect=t.networkMode!=="always"),t.throwOnError===void 0&&(t.throwOnError=!!t.suspense),!t.networkMode&&t.persister&&(t.networkMode="offlineFirst"),t.queryFn===M_&&(t.enabled=!1),t}defaultMutationOptions(e){return e?._defaulted?e:{...this.#r.mutations,...e?.mutationKey&&this.getMutationDefaults(e.mutationKey),...e,_defaulted:!0}}clear(){this.#e.clear(),this.#t.clear()}},MF=k.createContext(void 0),Tt=e=>{const t=k.useContext(MF);if(!t)throw new Error("No QueryClient set, use QueryClientProvider to set one");return t},vq=({client:e,children:t})=>(k.useEffect(()=>(e.mount(),()=>{e.unmount()}),[e]),i.jsx(MF.Provider,{value:e,children:t})),RF=k.createContext(!1),yq=()=>k.useContext(RF);RF.Provider;function bq(){let e=!1;return{clearReset:()=>{e=!1},reset:()=>{e=!0},isReset:()=>e}}var wq=k.createContext(bq()),Nq=()=>k.useContext(wq),_q=(e,t)=>{(e.suspense||e.throwOnError||e.experimental_prefetchInRender)&&(t.isReset()||(e.retryOnMount=!1))},jq=e=>{k.useEffect(()=>{e.clearReset()},[e])},Sq=({result:e,errorResetBoundary:t,throwOnError:r,query:n,suspense:a})=>e.isError&&!t.isReset()&&!e.isFetching&&n&&(a&&e.data===void 0||TF(r,[e.error,n])),Aq=e=>{if(e.suspense){const r=a=>a==="static"?a:Math.max(a??1e3,1e3),n=e.staleTime;e.staleTime=typeof n=="function"?(...a)=>r(n(...a)):r(n),typeof e.gcTime=="number"&&(e.gcTime=Math.max(e.gcTime,1e3))}},kq=(e,t)=>e.isLoading&&e.isFetching&&!t,Eq=(e,t)=>e?.suspense&&t.isPending,Tk=(e,t,r)=>t.fetchOptimistic(e).catch(()=>{r.clearReset()});function Cq(e,t,r){const n=yq(),a=Nq(),s=Tt(),l=s.defaultQueryOptions(e);s.getDefaultOptions().queries?._experimental_beforeQuery?.(l),l._optimisticResults=n?"isRestoring":"optimistic",Aq(l),_q(l,a),jq(a);const o=!s.getQueryCache().get(l.queryHash),[u]=k.useState(()=>new t(s,l)),d=u.getOptimisticResult(l),h=!n&&e.subscribed!==!1;if(k.useSyncExternalStore(k.useCallback(m=>{const g=h?u.subscribe(As.batchCalls(m)):Gi;return u.updateResult(),g},[u,h]),()=>u.getCurrentResult(),()=>u.getCurrentResult()),k.useEffect(()=>{u.setOptions(l)},[l,u]),Eq(l,d))throw Tk(l,u,a);if(Sq({result:d,errorResetBoundary:a,throwOnError:l.throwOnError,query:s.getQueryCache().get(l.queryHash),suspense:l.suspense}))throw d.error;return s.getDefaultOptions().queries?._experimental_afterQuery?.(l,d),l.experimental_prefetchInRender&&!V0&&kq(d,n)&&(o?Tk(l,u,a):s.getQueryCache().get(l.queryHash)?.promise)?.catch(Gi).finally(()=>{u.updateResult()}),l.notifyOnChangeProps?d:u.trackResult(d)}function Jt(e,t){return Cq(e,cq)}function Ot(e,t){const r=Tt(),[n]=k.useState(()=>new pq(r,e));k.useEffect(()=>{n.setOptions(e)},[n,e]);const a=k.useSyncExternalStore(k.useCallback(l=>n.subscribe(As.batchCalls(l)),[n]),()=>n.getCurrentResult(),()=>n.getCurrentResult()),s=k.useCallback((l,o)=>{n.mutate(l,o).catch(Gi)},[n]);if(a.error&&TF(n.options.throwOnError,[a.error]))throw a.error;return{...a,mutate:s,mutateAsync:a.mutate}}const Tq="modulepreload",Oq=function(e){return"/"+e},Ok={},Tw=function(t,r,n){let a=Promise.resolve();if(r&&r.length>0){let u=function(d){return Promise.all(d.map(h=>Promise.resolve(h).then(m=>({status:"fulfilled",value:m}),m=>({status:"rejected",reason:m}))))};document.getElementsByTagName("link");const l=document.querySelector("meta[property=csp-nonce]"),o=l?.nonce||l?.getAttribute("nonce");a=u(r.map(d=>{if(d=Oq(d),d in Ok)return;Ok[d]=!0;const h=d.endsWith(".css"),m=h?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${d}"]${m}`))return;const g=document.createElement("link");if(g.rel=h?"stylesheet":Tq,h||(g.as="script"),g.crossOrigin="",g.href=d,o&&g.setAttribute("nonce",o),document.head.appendChild(g),h)return new Promise((x,b)=>{g.addEventListener("load",x),g.addEventListener("error",()=>b(new Error(`Unable to preload CSS for ${d}`)))})}))}function s(l){const o=new Event("vite:preloadError",{cancelable:!0});if(o.payload=l,window.dispatchEvent(o),!o.defaultPrevented)throw l}return a.then(l=>{for(const o of l||[])o.status==="rejected"&&s(o.reason);return t().catch(s)})};var Fq=function(){return null};/**
 * react-router v7.9.4
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */var Fk="popstate";function Dq(e={}){function t(n,a){let{pathname:s,search:l,hash:o}=n.location;return r4("",{pathname:s,search:l,hash:o},a.state&&a.state.usr||null,a.state&&a.state.key||"default")}function r(n,a){return typeof a=="string"?a:$x(a)}return Lq(t,r,null,e)}function ma(e,t){if(e===!1||e===null||typeof e>"u")throw new Error(t)}function qo(e,t){if(!e){typeof console<"u"&&console.warn(t);try{throw new Error(t)}catch{}}}function Pq(){return Math.random().toString(36).substring(2,10)}function Dk(e,t){return{usr:e.state,key:e.key,idx:t}}function r4(e,t,r=null,n){return{pathname:typeof e=="string"?e:e.pathname,search:"",hash:"",...typeof t=="string"?ip(t):t,state:r,key:t&&t.key||n||Pq()}}function $x({pathname:e="/",search:t="",hash:r=""}){return t&&t!=="?"&&(e+=t.charAt(0)==="?"?t:"?"+t),r&&r!=="#"&&(e+=r.charAt(0)==="#"?r:"#"+r),e}function ip(e){let t={};if(e){let r=e.indexOf("#");r>=0&&(t.hash=e.substring(r),e=e.substring(0,r));let n=e.indexOf("?");n>=0&&(t.search=e.substring(n),e=e.substring(0,n)),e&&(t.pathname=e)}return t}function Lq(e,t,r,n={}){let{window:a=document.defaultView,v5Compat:s=!1}=n,l=a.history,o="POP",u=null,d=h();d==null&&(d=0,l.replaceState({...l.state,idx:d},""));function h(){return(l.state||{idx:null}).idx}function m(){o="POP";let w=h(),N=w==null?null:w-d;d=w,u&&u({action:o,location:v.location,delta:N})}function g(w,N){o="PUSH";let E=r4(v.location,w,N);d=h()+1;let j=Dk(E,d),T=v.createHref(E);try{l.pushState(j,"",T)}catch(O){if(O instanceof DOMException&&O.name==="DataCloneError")throw O;a.location.assign(T)}s&&u&&u({action:o,location:v.location,delta:1})}function x(w,N){o="REPLACE";let E=r4(v.location,w,N);d=h();let j=Dk(E,d),T=v.createHref(E);l.replaceState(j,"",T),s&&u&&u({action:o,location:v.location,delta:0})}function b(w){return Mq(w)}let v={get action(){return o},get location(){return e(a,l)},listen(w){if(u)throw new Error("A history only accepts one active listener");return a.addEventListener(Fk,m),u=w,()=>{a.removeEventListener(Fk,m),u=null}},createHref(w){return t(a,w)},createURL:b,encodeLocation(w){let N=b(w);return{pathname:N.pathname,search:N.search,hash:N.hash}},push:g,replace:x,go(w){return l.go(w)}};return v}function Mq(e,t=!1){let r="http://localhost";typeof window<"u"&&(r=window.location.origin!=="null"?window.location.origin:window.location.href),ma(r,"No window.location.(origin|href) available to create URL");let n=typeof e=="string"?e:$x(e);return n=n.replace(/ $/,"%20"),!t&&n.startsWith("//")&&(n=r+n),new URL(n,r)}function IF(e,t,r="/"){return Rq(e,t,r,!1)}function Rq(e,t,r,n){let a=typeof t=="string"?ip(t):t,s=hd(a.pathname||"/",r);if(s==null)return null;let l=BF(e);Iq(l);let o=null;for(let u=0;o==null&&u<l.length;++u){let d=Yq(s);o=Kq(l[u],d,n)}return o}function BF(e,t=[],r=[],n="",a=!1){let s=(l,o,u=a,d)=>{let h={relativePath:d===void 0?l.path||"":d,caseSensitive:l.caseSensitive===!0,childrenIndex:o,route:l};if(h.relativePath.startsWith("/")){if(!h.relativePath.startsWith(n)&&u)return;ma(h.relativePath.startsWith(n),`Absolute route path "${h.relativePath}" nested under path "${n}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),h.relativePath=h.relativePath.slice(n.length)}let m=sd([n,h.relativePath]),g=r.concat(h);l.children&&l.children.length>0&&(ma(l.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${m}".`),BF(l.children,t,g,m,u)),!(l.path==null&&!l.index)&&t.push({path:m,score:Vq(m,l.index),routesMeta:g})};return e.forEach((l,o)=>{if(l.path===""||!l.path?.includes("?"))s(l,o);else for(let u of UF(l.path))s(l,o,!0,u)}),t}function UF(e){let t=e.split("/");if(t.length===0)return[];let[r,...n]=t,a=r.endsWith("?"),s=r.replace(/\?$/,"");if(n.length===0)return a?[s,""]:[s];let l=UF(n.join("/")),o=[];return o.push(...l.map(u=>u===""?s:[s,u].join("/"))),a&&o.push(...l),o.map(u=>e.startsWith("/")&&u===""?"/":u)}function Iq(e){e.sort((t,r)=>t.score!==r.score?r.score-t.score:Wq(t.routesMeta.map(n=>n.childrenIndex),r.routesMeta.map(n=>n.childrenIndex)))}var Bq=/^:[\w-]+$/,Uq=3,zq=2,qq=1,$q=10,Hq=-2,Pk=e=>e==="*";function Vq(e,t){let r=e.split("/"),n=r.length;return r.some(Pk)&&(n+=Hq),t&&(n+=zq),r.filter(a=>!Pk(a)).reduce((a,s)=>a+(Bq.test(s)?Uq:s===""?qq:$q),n)}function Wq(e,t){return e.length===t.length&&e.slice(0,-1).every((n,a)=>n===t[a])?e[e.length-1]-t[t.length-1]:0}function Kq(e,t,r=!1){let{routesMeta:n}=e,a={},s="/",l=[];for(let o=0;o<n.length;++o){let u=n[o],d=o===n.length-1,h=s==="/"?t:t.slice(s.length)||"/",m=Jv({path:u.relativePath,caseSensitive:u.caseSensitive,end:d},h),g=u.route;if(!m&&d&&r&&!n[n.length-1].route.index&&(m=Jv({path:u.relativePath,caseSensitive:u.caseSensitive,end:!1},h)),!m)return null;Object.assign(a,m.params),l.push({params:a,pathname:sd([s,m.pathname]),pathnameBase:Jq(sd([s,m.pathnameBase])),route:g}),m.pathnameBase!=="/"&&(s=sd([s,m.pathnameBase]))}return l}function Jv(e,t){typeof e=="string"&&(e={path:e,caseSensitive:!1,end:!0});let[r,n]=Gq(e.path,e.caseSensitive,e.end),a=t.match(r);if(!a)return null;let s=a[0],l=s.replace(/(.)\/+$/,"$1"),o=a.slice(1);return{params:n.reduce((d,{paramName:h,isOptional:m},g)=>{if(h==="*"){let b=o[g]||"";l=s.slice(0,s.length-b.length).replace(/(.)\/+$/,"$1")}const x=o[g];return m&&!x?d[h]=void 0:d[h]=(x||"").replace(/%2F/g,"/"),d},{}),pathname:s,pathnameBase:l,pattern:e}}function Gq(e,t=!1,r=!0){qo(e==="*"||!e.endsWith("*")||e.endsWith("/*"),`Route path "${e}" will be treated as if it were "${e.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${e.replace(/\*$/,"/*")}".`);let n=[],a="^"+e.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(l,o,u)=>(n.push({paramName:o,isOptional:u!=null}),u?"/?([^\\/]+)?":"/([^\\/]+)")).replace(/\/([\w-]+)\?(\/|$)/g,"(/$1)?$2");return e.endsWith("*")?(n.push({paramName:"*"}),a+=e==="*"||e==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):r?a+="\\/*$":e!==""&&e!=="/"&&(a+="(?:(?=\\/|$))"),[new RegExp(a,t?void 0:"i"),n]}function Yq(e){try{return e.split("/").map(t=>decodeURIComponent(t).replace(/\//g,"%2F")).join("/")}catch(t){return qo(!1,`The URL path "${e}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${t}).`),e}}function hd(e,t){if(t==="/")return e;if(!e.toLowerCase().startsWith(t.toLowerCase()))return null;let r=t.endsWith("/")?t.length-1:t.length,n=e.charAt(r);return n&&n!=="/"?null:e.slice(r)||"/"}function Xq(e,t="/"){let{pathname:r,search:n="",hash:a=""}=typeof e=="string"?ip(e):e;return{pathname:r?r.startsWith("/")?r:Qq(r,t):t,search:e$(n),hash:t$(a)}}function Qq(e,t){let r=t.replace(/\/+$/,"").split("/");return e.split("/").forEach(a=>{a===".."?r.length>1&&r.pop():a!=="."&&r.push(a)}),r.length>1?r.join("/"):"/"}function Ow(e,t,r,n){return`Cannot include a '${e}' character in a manually specified \`to.${t}\` field [${JSON.stringify(n)}].  Please separate it out to the \`to.${r}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function Zq(e){return e.filter((t,r)=>r===0||t.route.path&&t.route.path.length>0)}function B_(e){let t=Zq(e);return t.map((r,n)=>n===t.length-1?r.pathname:r.pathnameBase)}function U_(e,t,r,n=!1){let a;typeof e=="string"?a=ip(e):(a={...e},ma(!a.pathname||!a.pathname.includes("?"),Ow("?","pathname","search",a)),ma(!a.pathname||!a.pathname.includes("#"),Ow("#","pathname","hash",a)),ma(!a.search||!a.search.includes("#"),Ow("#","search","hash",a)));let s=e===""||a.pathname==="",l=s?"/":a.pathname,o;if(l==null)o=r;else{let m=t.length-1;if(!n&&l.startsWith("..")){let g=l.split("/");for(;g[0]==="..";)g.shift(),m-=1;a.pathname=g.join("/")}o=m>=0?t[m]:"/"}let u=Xq(a,o),d=l&&l!=="/"&&l.endsWith("/"),h=(s||l===".")&&r.endsWith("/");return!u.pathname.endsWith("/")&&(d||h)&&(u.pathname+="/"),u}var sd=e=>e.join("/").replace(/\/\/+/g,"/"),Jq=e=>e.replace(/\/+$/,"").replace(/^\/*/,"/"),e$=e=>!e||e==="?"?"":e.startsWith("?")?e:"?"+e,t$=e=>!e||e==="#"?"":e.startsWith("#")?e:"#"+e;function r$(e){return e!=null&&typeof e.status=="number"&&typeof e.statusText=="string"&&typeof e.internal=="boolean"&&"data"in e}var zF=["POST","PUT","PATCH","DELETE"];new Set(zF);var n$=["GET",...zF];new Set(n$);var lp=k.createContext(null);lp.displayName="DataRouter";var c2=k.createContext(null);c2.displayName="DataRouterState";k.createContext(!1);var qF=k.createContext({isTransitioning:!1});qF.displayName="ViewTransition";var a$=k.createContext(new Map);a$.displayName="Fetchers";var s$=k.createContext(null);s$.displayName="Await";var Fc=k.createContext(null);Fc.displayName="Navigation";var Sg=k.createContext(null);Sg.displayName="Location";var Dc=k.createContext({outlet:null,matches:[],isDataRoute:!1});Dc.displayName="Route";var z_=k.createContext(null);z_.displayName="RouteError";function i$(e,{relative:t}={}){ma(op(),"useHref() may be used only in the context of a <Router> component.");let{basename:r,navigator:n}=k.useContext(Fc),{hash:a,pathname:s,search:l}=Ag(e,{relative:t}),o=s;return r!=="/"&&(o=s==="/"?r:sd([r,s])),n.createHref({pathname:o,search:l,hash:a})}function op(){return k.useContext(Sg)!=null}function Pc(){return ma(op(),"useLocation() may be used only in the context of a <Router> component."),k.useContext(Sg).location}var $F="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function HF(e){k.useContext(Fc).static||k.useLayoutEffect(e)}function xn(){let{isDataRoute:e}=k.useContext(Dc);return e?y$():l$()}function l$(){ma(op(),"useNavigate() may be used only in the context of a <Router> component.");let e=k.useContext(lp),{basename:t,navigator:r}=k.useContext(Fc),{matches:n}=k.useContext(Dc),{pathname:a}=Pc(),s=JSON.stringify(B_(n)),l=k.useRef(!1);return HF(()=>{l.current=!0}),k.useCallback((u,d={})=>{if(qo(l.current,$F),!l.current)return;if(typeof u=="number"){r.go(u);return}let h=U_(u,JSON.parse(s),a,d.relative==="path");e==null&&t!=="/"&&(h.pathname=h.pathname==="/"?t:sd([t,h.pathname])),(d.replace?r.replace:r.push)(h,d.state,d)},[t,r,s,a,e])}k.createContext(null);function io(){let{matches:e}=k.useContext(Dc),t=e[e.length-1];return t?t.params:{}}function Ag(e,{relative:t}={}){let{matches:r}=k.useContext(Dc),{pathname:n}=Pc(),a=JSON.stringify(B_(r));return k.useMemo(()=>U_(e,JSON.parse(a),n,t==="path"),[e,a,n,t])}function o$(e,t){return VF(e,t)}function VF(e,t,r,n,a){ma(op(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:s}=k.useContext(Fc),{matches:l}=k.useContext(Dc),o=l[l.length-1],u=o?o.params:{},d=o?o.pathname:"/",h=o?o.pathnameBase:"/",m=o&&o.route;{let E=m&&m.path||"";WF(d,!m||E.endsWith("*")||E.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${d}" (under <Route path="${E}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${E}"> to <Route path="${E==="/"?"*":`${E}/*`}">.`)}let g=Pc(),x;if(t){let E=typeof t=="string"?ip(t):t;ma(h==="/"||E.pathname?.startsWith(h),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${h}" but pathname "${E.pathname}" was given in the \`location\` prop.`),x=E}else x=g;let b=x.pathname||"/",v=b;if(h!=="/"){let E=h.replace(/^\//,"").split("/");v="/"+b.replace(/^\//,"").split("/").slice(E.length).join("/")}let w=IF(e,{pathname:v});qo(m||w!=null,`No routes matched location "${x.pathname}${x.search}${x.hash}" `),qo(w==null||w[w.length-1].route.element!==void 0||w[w.length-1].route.Component!==void 0||w[w.length-1].route.lazy!==void 0,`Matched leaf route at location "${x.pathname}${x.search}${x.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let N=h$(w&&w.map(E=>Object.assign({},E,{params:Object.assign({},u,E.params),pathname:sd([h,s.encodeLocation?s.encodeLocation(E.pathname.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:E.pathname]),pathnameBase:E.pathnameBase==="/"?h:sd([h,s.encodeLocation?s.encodeLocation(E.pathnameBase.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:E.pathnameBase])})),l,r,n,a);return t&&N?k.createElement(Sg.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...x},navigationType:"POP"}},N):N}function c$(){let e=v$(),t=r$(e)?`${e.status} ${e.statusText}`:e instanceof Error?e.message:JSON.stringify(e),r=e instanceof Error?e.stack:null,n="rgba(200,200,200, 0.5)",a={padding:"0.5rem",backgroundColor:n},s={padding:"2px 4px",backgroundColor:n},l=null;return console.error("Error handled by React Router default ErrorBoundary:",e),l=k.createElement(k.Fragment,null,k.createElement("p",null," Hey developer "),k.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",k.createElement("code",{style:s},"ErrorBoundary")," or"," ",k.createElement("code",{style:s},"errorElement")," prop on your route.")),k.createElement(k.Fragment,null,k.createElement("h2",null,"Unexpected Application Error!"),k.createElement("h3",{style:{fontStyle:"italic"}},t),r?k.createElement("pre",{style:a},r):null,l)}var u$=k.createElement(c$,null),d$=class extends k.Component{constructor(e){super(e),this.state={location:e.location,revalidation:e.revalidation,error:e.error}}static getDerivedStateFromError(e){return{error:e}}static getDerivedStateFromProps(e,t){return t.location!==e.location||t.revalidation!=="idle"&&e.revalidation==="idle"?{error:e.error,location:e.location,revalidation:e.revalidation}:{error:e.error!==void 0?e.error:t.error,location:t.location,revalidation:e.revalidation||t.revalidation}}componentDidCatch(e,t){this.props.unstable_onError?this.props.unstable_onError(e,t):console.error("React Router caught the following error during render",e)}render(){return this.state.error!==void 0?k.createElement(Dc.Provider,{value:this.props.routeContext},k.createElement(z_.Provider,{value:this.state.error,children:this.props.component})):this.props.children}};function f$({routeContext:e,match:t,children:r}){let n=k.useContext(lp);return n&&n.static&&n.staticContext&&(t.route.errorElement||t.route.ErrorBoundary)&&(n.staticContext._deepestRenderedBoundaryId=t.route.id),k.createElement(Dc.Provider,{value:e},r)}function h$(e,t=[],r=null,n=null,a=null){if(e==null){if(!r)return null;if(r.errors)e=r.matches;else if(t.length===0&&!r.initialized&&r.matches.length>0)e=r.matches;else return null}let s=e,l=r?.errors;if(l!=null){let d=s.findIndex(h=>h.route.id&&l?.[h.route.id]!==void 0);ma(d>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(l).join(",")}`),s=s.slice(0,Math.min(s.length,d+1))}let o=!1,u=-1;if(r)for(let d=0;d<s.length;d++){let h=s[d];if((h.route.HydrateFallback||h.route.hydrateFallbackElement)&&(u=d),h.route.id){let{loaderData:m,errors:g}=r,x=h.route.loader&&!m.hasOwnProperty(h.route.id)&&(!g||g[h.route.id]===void 0);if(h.route.lazy||x){o=!0,u>=0?s=s.slice(0,u+1):s=[s[0]];break}}}return s.reduceRight((d,h,m)=>{let g,x=!1,b=null,v=null;r&&(g=l&&h.route.id?l[h.route.id]:void 0,b=h.route.errorElement||u$,o&&(u<0&&m===0?(WF("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),x=!0,v=null):u===m&&(x=!0,v=h.route.hydrateFallbackElement||null)));let w=t.concat(s.slice(0,m+1)),N=()=>{let E;return g?E=b:x?E=v:h.route.Component?E=k.createElement(h.route.Component,null):h.route.element?E=h.route.element:E=d,k.createElement(f$,{match:h,routeContext:{outlet:d,matches:w,isDataRoute:r!=null},children:E})};return r&&(h.route.ErrorBoundary||h.route.errorElement||m===0)?k.createElement(d$,{location:r.location,revalidation:r.revalidation,component:b,error:g,children:N(),routeContext:{outlet:null,matches:w,isDataRoute:!0},unstable_onError:n}):N()},null)}function q_(e){return`${e} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function m$(e){let t=k.useContext(lp);return ma(t,q_(e)),t}function p$(e){let t=k.useContext(c2);return ma(t,q_(e)),t}function x$(e){let t=k.useContext(Dc);return ma(t,q_(e)),t}function $_(e){let t=x$(e),r=t.matches[t.matches.length-1];return ma(r.route.id,`${e} can only be used on routes that contain a unique "id"`),r.route.id}function g$(){return $_("useRouteId")}function v$(){let e=k.useContext(z_),t=p$("useRouteError"),r=$_("useRouteError");return e!==void 0?e:t.errors?.[r]}function y$(){let{router:e}=m$("useNavigate"),t=$_("useNavigate"),r=k.useRef(!1);return HF(()=>{r.current=!0}),k.useCallback(async(a,s={})=>{qo(r.current,$F),r.current&&(typeof a=="number"?e.navigate(a):await e.navigate(a,{fromRouteId:t,...s}))},[e,t])}var Lk={};function WF(e,t,r){!t&&!Lk[e]&&(Lk[e]=!0,qo(!1,r))}k.memo(b$);function b$({routes:e,future:t,state:r,unstable_onError:n}){return VF(e,void 0,r,n,t)}function Om({to:e,replace:t,state:r,relative:n}){ma(op(),"<Navigate> may be used only in the context of a <Router> component.");let{static:a}=k.useContext(Fc);qo(!a,"<Navigate> must not be used on the initial render in a <StaticRouter>. This is a no-op, but you should modify your code so the <Navigate> is only ever rendered in response to some user interaction or state change.");let{matches:s}=k.useContext(Dc),{pathname:l}=Pc(),o=xn(),u=U_(e,B_(s),l,n==="path"),d=JSON.stringify(u);return k.useEffect(()=>{o(JSON.parse(d),{replace:t,state:r,relative:n})},[o,d,n,t,r]),null}function Dr(e){ma(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function w$({basename:e="/",children:t=null,location:r,navigationType:n="POP",navigator:a,static:s=!1}){ma(!op(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let l=e.replace(/^\/*/,"/"),o=k.useMemo(()=>({basename:l,navigator:a,static:s,future:{}}),[l,a,s]);typeof r=="string"&&(r=ip(r));let{pathname:u="/",search:d="",hash:h="",state:m=null,key:g="default"}=r,x=k.useMemo(()=>{let b=hd(u,l);return b==null?null:{location:{pathname:b,search:d,hash:h,state:m,key:g},navigationType:n}},[l,u,d,h,m,g,n]);return qo(x!=null,`<Router basename="${l}"> is not able to match the URL "${u}${d}${h}" because it does not start with the basename, so the <Router> won't render anything.`),x==null?null:k.createElement(Fc.Provider,{value:o},k.createElement(Sg.Provider,{children:t,value:x}))}function N$({children:e,location:t}){return o$(n4(e),t)}function n4(e,t=[]){let r=[];return k.Children.forEach(e,(n,a)=>{if(!k.isValidElement(n))return;let s=[...t,a];if(n.type===k.Fragment){r.push.apply(r,n4(n.props.children,s));return}ma(n.type===Dr,`[${typeof n.type=="string"?n.type:n.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),ma(!n.props.index||!n.props.children,"An index route cannot have child routes.");let l={id:n.props.id||s.join("-"),caseSensitive:n.props.caseSensitive,element:n.props.element,Component:n.props.Component,index:n.props.index,path:n.props.path,middleware:n.props.middleware,loader:n.props.loader,action:n.props.action,hydrateFallbackElement:n.props.hydrateFallbackElement,HydrateFallback:n.props.HydrateFallback,errorElement:n.props.errorElement,ErrorBoundary:n.props.ErrorBoundary,hasErrorBoundary:n.props.hasErrorBoundary===!0||n.props.ErrorBoundary!=null||n.props.errorElement!=null,shouldRevalidate:n.props.shouldRevalidate,handle:n.props.handle,lazy:n.props.lazy};n.props.children&&(l.children=n4(n.props.children,s)),r.push(l)}),r}var Iv="get",Bv="application/x-www-form-urlencoded";function u2(e){return e!=null&&typeof e.tagName=="string"}function _$(e){return u2(e)&&e.tagName.toLowerCase()==="button"}function j$(e){return u2(e)&&e.tagName.toLowerCase()==="form"}function S$(e){return u2(e)&&e.tagName.toLowerCase()==="input"}function A$(e){return!!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)}function k$(e,t){return e.button===0&&(!t||t==="_self")&&!A$(e)}function a4(e=""){return new URLSearchParams(typeof e=="string"||Array.isArray(e)||e instanceof URLSearchParams?e:Object.keys(e).reduce((t,r)=>{let n=e[r];return t.concat(Array.isArray(n)?n.map(a=>[r,a]):[[r,n]])},[]))}function E$(e,t){let r=a4(e);return t&&t.forEach((n,a)=>{r.has(a)||t.getAll(a).forEach(s=>{r.append(a,s)})}),r}var Z1=null;function C$(){if(Z1===null)try{new FormData(document.createElement("form"),0),Z1=!1}catch{Z1=!0}return Z1}var T$=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function Fw(e){return e!=null&&!T$.has(e)?(qo(!1,`"${e}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${Bv}"`),null):e}function O$(e,t){let r,n,a,s,l;if(j$(e)){let o=e.getAttribute("action");n=o?hd(o,t):null,r=e.getAttribute("method")||Iv,a=Fw(e.getAttribute("enctype"))||Bv,s=new FormData(e)}else if(_$(e)||S$(e)&&(e.type==="submit"||e.type==="image")){let o=e.form;if(o==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let u=e.getAttribute("formaction")||o.getAttribute("action");if(n=u?hd(u,t):null,r=e.getAttribute("formmethod")||o.getAttribute("method")||Iv,a=Fw(e.getAttribute("formenctype"))||Fw(o.getAttribute("enctype"))||Bv,s=new FormData(o,e),!C$()){let{name:d,type:h,value:m}=e;if(h==="image"){let g=d?`${d}.`:"";s.append(`${g}x`,"0"),s.append(`${g}y`,"0")}else d&&s.append(d,m)}}else{if(u2(e))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');r=Iv,n=null,a=Bv,l=e}return s&&a==="text/plain"&&(l=s,s=void 0),{action:n,method:r.toLowerCase(),encType:a,formData:s,body:l}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");function H_(e,t){if(e===!1||e===null||typeof e>"u")throw new Error(t)}function F$(e,t,r){let n=typeof e=="string"?new URL(e,typeof window>"u"?"server://singlefetch/":window.location.origin):e;return n.pathname==="/"?n.pathname=`_root.${r}`:t&&hd(n.pathname,t)==="/"?n.pathname=`${t.replace(/\/$/,"")}/_root.${r}`:n.pathname=`${n.pathname.replace(/\/$/,"")}.${r}`,n}async function D$(e,t){if(e.id in t)return t[e.id];try{let r=await import(e.module);return t[e.id]=r,r}catch(r){return console.error(`Error loading route module \`${e.module}\`, reloading page...`),console.error(r),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function P$(e){return e==null?!1:e.href==null?e.rel==="preload"&&typeof e.imageSrcSet=="string"&&typeof e.imageSizes=="string":typeof e.rel=="string"&&typeof e.href=="string"}async function L$(e,t,r){let n=await Promise.all(e.map(async a=>{let s=t.routes[a.route.id];if(s){let l=await D$(s,r);return l.links?l.links():[]}return[]}));return B$(n.flat(1).filter(P$).filter(a=>a.rel==="stylesheet"||a.rel==="preload").map(a=>a.rel==="stylesheet"?{...a,rel:"prefetch",as:"style"}:{...a,rel:"prefetch"}))}function Mk(e,t,r,n,a,s){let l=(u,d)=>r[d]?u.route.id!==r[d].route.id:!0,o=(u,d)=>r[d].pathname!==u.pathname||r[d].route.path?.endsWith("*")&&r[d].params["*"]!==u.params["*"];return s==="assets"?t.filter((u,d)=>l(u,d)||o(u,d)):s==="data"?t.filter((u,d)=>{let h=n.routes[u.route.id];if(!h||!h.hasLoader)return!1;if(l(u,d)||o(u,d))return!0;if(u.route.shouldRevalidate){let m=u.route.shouldRevalidate({currentUrl:new URL(a.pathname+a.search+a.hash,window.origin),currentParams:r[0]?.params||{},nextUrl:new URL(e,window.origin),nextParams:u.params,defaultShouldRevalidate:!0});if(typeof m=="boolean")return m}return!0}):[]}function M$(e,t,{includeHydrateFallback:r}={}){return R$(e.map(n=>{let a=t.routes[n.route.id];if(!a)return[];let s=[a.module];return a.clientActionModule&&(s=s.concat(a.clientActionModule)),a.clientLoaderModule&&(s=s.concat(a.clientLoaderModule)),r&&a.hydrateFallbackModule&&(s=s.concat(a.hydrateFallbackModule)),a.imports&&(s=s.concat(a.imports)),s}).flat(1))}function R$(e){return[...new Set(e)]}function I$(e){let t={},r=Object.keys(e).sort();for(let n of r)t[n]=e[n];return t}function B$(e,t){let r=new Set;return new Set(t),e.reduce((n,a)=>{let s=JSON.stringify(I$(a));return r.has(s)||(r.add(s),n.push({key:s,link:a})),n},[])}function KF(){let e=k.useContext(lp);return H_(e,"You must render this element inside a <DataRouterContext.Provider> element"),e}function U$(){let e=k.useContext(c2);return H_(e,"You must render this element inside a <DataRouterStateContext.Provider> element"),e}var V_=k.createContext(void 0);V_.displayName="FrameworkContext";function GF(){let e=k.useContext(V_);return H_(e,"You must render this element inside a <HydratedRouter> element"),e}function z$(e,t){let r=k.useContext(V_),[n,a]=k.useState(!1),[s,l]=k.useState(!1),{onFocus:o,onBlur:u,onMouseEnter:d,onMouseLeave:h,onTouchStart:m}=t,g=k.useRef(null);k.useEffect(()=>{if(e==="render"&&l(!0),e==="viewport"){let v=N=>{N.forEach(E=>{l(E.isIntersecting)})},w=new IntersectionObserver(v,{threshold:.5});return g.current&&w.observe(g.current),()=>{w.disconnect()}}},[e]),k.useEffect(()=>{if(n){let v=setTimeout(()=>{l(!0)},100);return()=>{clearTimeout(v)}}},[n]);let x=()=>{a(!0)},b=()=>{a(!1),l(!1)};return r?e!=="intent"?[s,g,{}]:[s,g,{onFocus:dx(o,x),onBlur:dx(u,b),onMouseEnter:dx(d,x),onMouseLeave:dx(h,b),onTouchStart:dx(m,x)}]:[!1,g,{}]}function dx(e,t){return r=>{e&&e(r),r.defaultPrevented||t(r)}}function q$({page:e,...t}){let{router:r}=KF(),n=k.useMemo(()=>IF(r.routes,e,r.basename),[r.routes,e,r.basename]);return n?k.createElement(H$,{page:e,matches:n,...t}):null}function $$(e){let{manifest:t,routeModules:r}=GF(),[n,a]=k.useState([]);return k.useEffect(()=>{let s=!1;return L$(e,t,r).then(l=>{s||a(l)}),()=>{s=!0}},[e,t,r]),n}function H$({page:e,matches:t,...r}){let n=Pc(),{manifest:a,routeModules:s}=GF(),{basename:l}=KF(),{loaderData:o,matches:u}=U$(),d=k.useMemo(()=>Mk(e,t,u,a,n,"data"),[e,t,u,a,n]),h=k.useMemo(()=>Mk(e,t,u,a,n,"assets"),[e,t,u,a,n]),m=k.useMemo(()=>{if(e===n.pathname+n.search+n.hash)return[];let b=new Set,v=!1;if(t.forEach(N=>{let E=a.routes[N.route.id];!E||!E.hasLoader||(!d.some(j=>j.route.id===N.route.id)&&N.route.id in o&&s[N.route.id]?.shouldRevalidate||E.hasClientLoader?v=!0:b.add(N.route.id))}),b.size===0)return[];let w=F$(e,l,"data");return v&&b.size>0&&w.searchParams.set("_routes",t.filter(N=>b.has(N.route.id)).map(N=>N.route.id).join(",")),[w.pathname+w.search]},[l,o,n,a,d,t,e,s]),g=k.useMemo(()=>M$(h,a),[h,a]),x=$$(h);return k.createElement(k.Fragment,null,m.map(b=>k.createElement("link",{key:b,rel:"prefetch",as:"fetch",href:b,...r})),g.map(b=>k.createElement("link",{key:b,rel:"modulepreload",href:b,...r})),x.map(({key:b,link:v})=>k.createElement("link",{key:b,nonce:r.nonce,...v})))}function V$(...e){return t=>{e.forEach(r=>{typeof r=="function"?r(t):r!=null&&(r.current=t)})}}var YF=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{YF&&(window.__reactRouterVersion="7.9.4")}catch{}function W$({basename:e,children:t,window:r}){let n=k.useRef();n.current==null&&(n.current=Dq({window:r,v5Compat:!0}));let a=n.current,[s,l]=k.useState({action:a.action,location:a.location}),o=k.useCallback(u=>{k.startTransition(()=>l(u))},[l]);return k.useLayoutEffect(()=>a.listen(o),[a,o]),k.createElement(w$,{basename:e,children:t,location:s.location,navigationType:s.action,navigator:a})}var XF=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,Aa=k.forwardRef(function({onClick:t,discover:r="render",prefetch:n="none",relative:a,reloadDocument:s,replace:l,state:o,target:u,to:d,preventScrollReset:h,viewTransition:m,...g},x){let{basename:b}=k.useContext(Fc),v=typeof d=="string"&&XF.test(d),w,N=!1;if(typeof d=="string"&&v&&(w=d,YF))try{let B=new URL(window.location.href),H=d.startsWith("//")?new URL(B.protocol+d):new URL(d),L=hd(H.pathname,b);H.origin===B.origin&&L!=null?d=L+H.search+H.hash:N=!0}catch{qo(!1,`<Link to="${d}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}let E=i$(d,{relative:a}),[j,T,O]=z$(n,g),D=X$(d,{replace:l,state:o,target:u,preventScrollReset:h,relative:a,viewTransition:m});function C(B){t&&t(B),B.defaultPrevented||D(B)}let P=k.createElement("a",{...g,...O,href:w||E,onClick:N||s?t:C,ref:V$(x,T),target:u,"data-discover":!v&&r==="render"?"true":void 0});return j&&!v?k.createElement(k.Fragment,null,P,k.createElement(q$,{page:E})):P});Aa.displayName="Link";var K$=k.forwardRef(function({"aria-current":t="page",caseSensitive:r=!1,className:n="",end:a=!1,style:s,to:l,viewTransition:o,children:u,...d},h){let m=Ag(l,{relative:d.relative}),g=Pc(),x=k.useContext(c2),{navigator:b,basename:v}=k.useContext(Fc),w=x!=null&&tH(m)&&o===!0,N=b.encodeLocation?b.encodeLocation(m).pathname:m.pathname,E=g.pathname,j=x&&x.navigation&&x.navigation.location?x.navigation.location.pathname:null;r||(E=E.toLowerCase(),j=j?j.toLowerCase():null,N=N.toLowerCase()),j&&v&&(j=hd(j,v)||j);const T=N!=="/"&&N.endsWith("/")?N.length-1:N.length;let O=E===N||!a&&E.startsWith(N)&&E.charAt(T)==="/",D=j!=null&&(j===N||!a&&j.startsWith(N)&&j.charAt(N.length)==="/"),C={isActive:O,isPending:D,isTransitioning:w},P=O?t:void 0,B;typeof n=="function"?B=n(C):B=[n,O?"active":null,D?"pending":null,w?"transitioning":null].filter(Boolean).join(" ");let H=typeof s=="function"?s(C):s;return k.createElement(Aa,{...d,"aria-current":P,className:B,ref:h,style:H,to:l,viewTransition:o},typeof u=="function"?u(C):u)});K$.displayName="NavLink";var G$=k.forwardRef(({discover:e="render",fetcherKey:t,navigate:r,reloadDocument:n,replace:a,state:s,method:l=Iv,action:o,onSubmit:u,relative:d,preventScrollReset:h,viewTransition:m,...g},x)=>{let b=J$(),v=eH(o,{relative:d}),w=l.toLowerCase()==="get"?"get":"post",N=typeof o=="string"&&XF.test(o),E=j=>{if(u&&u(j),j.defaultPrevented)return;j.preventDefault();let T=j.nativeEvent.submitter,O=T?.getAttribute("formmethod")||l;b(T||j.currentTarget,{fetcherKey:t,method:O,navigate:r,replace:a,state:s,relative:d,preventScrollReset:h,viewTransition:m})};return k.createElement("form",{ref:x,method:w,action:v,onSubmit:n?u:E,...g,"data-discover":!N&&e==="render"?"true":void 0})});G$.displayName="Form";function Y$(e){return`${e} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function QF(e){let t=k.useContext(lp);return ma(t,Y$(e)),t}function X$(e,{target:t,replace:r,state:n,preventScrollReset:a,relative:s,viewTransition:l}={}){let o=xn(),u=Pc(),d=Ag(e,{relative:s});return k.useCallback(h=>{if(k$(h,t)){h.preventDefault();let m=r!==void 0?r:$x(u)===$x(d);o(e,{replace:m,state:n,preventScrollReset:a,relative:s,viewTransition:l})}},[u,o,d,r,n,t,e,a,s,l])}function ZF(e){qo(typeof URLSearchParams<"u","You cannot use the `useSearchParams` hook in a browser that does not support the URLSearchParams API. If you need to support Internet Explorer 11, we recommend you load a polyfill such as https://github.com/ungap/url-search-params.");let t=k.useRef(a4(e)),r=k.useRef(!1),n=Pc(),a=k.useMemo(()=>E$(n.search,r.current?null:t.current),[n.search]),s=xn(),l=k.useCallback((o,u)=>{const d=a4(typeof o=="function"?o(new URLSearchParams(a)):o);r.current=!0,s("?"+d,u)},[s,a]);return[a,l]}var Q$=0,Z$=()=>`__${String(++Q$)}__`;function J$(){let{router:e}=QF("useSubmit"),{basename:t}=k.useContext(Fc),r=g$();return k.useCallback(async(n,a={})=>{let{action:s,method:l,encType:o,formData:u,body:d}=O$(n,t);if(a.navigate===!1){let h=a.fetcherKey||Z$();await e.fetch(h,r,a.action||s,{preventScrollReset:a.preventScrollReset,formData:u,body:d,formMethod:a.method||l,formEncType:a.encType||o,flushSync:a.flushSync})}else await e.navigate(a.action||s,{preventScrollReset:a.preventScrollReset,formData:u,body:d,formMethod:a.method||l,formEncType:a.encType||o,replace:a.replace,state:a.state,fromRouteId:r,flushSync:a.flushSync,viewTransition:a.viewTransition})},[e,t,r])}function eH(e,{relative:t}={}){let{basename:r}=k.useContext(Fc),n=k.useContext(Dc);ma(n,"useFormAction must be used inside a RouteContext");let[a]=n.matches.slice(-1),s={...Ag(e||".",{relative:t})},l=Pc();if(e==null){s.search=l.search;let o=new URLSearchParams(s.search),u=o.getAll("index");if(u.some(h=>h==="")){o.delete("index"),u.filter(m=>m).forEach(m=>o.append("index",m));let h=o.toString();s.search=h?`?${h}`:""}}return(!e||e===".")&&a.route.index&&(s.search=s.search?s.search.replace(/^\?/,"?index&"):"?index"),r!=="/"&&(s.pathname=s.pathname==="/"?r:sd([r,s.pathname])),$x(s)}function tH(e,{relative:t}={}){let r=k.useContext(qF);ma(r!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:n}=QF("useViewTransitionState"),a=Ag(e,{relative:t});if(!r.isTransitioning)return!1;let s=hd(r.currentLocation.pathname,n)||r.currentLocation.pathname,l=hd(r.nextLocation.pathname,n)||r.nextLocation.pathname;return Jv(a.pathname,l)!=null||Jv(a.pathname,s)!=null}var JF=AF();const rH="http://localhost:3001/api";class J1 extends Error{status;code;constructor(t,r,n){super(t),this.name="ApiError",this.status=r,this.code=n}}class nH{baseURL;constructor(t){this.baseURL=t}async request(t,r={}){const{params:n,...a}=r;let s=`${this.baseURL}${t}`;if(n){const u=new URLSearchParams(n).toString();s+=`?${u}`}const o=a.body instanceof FormData?{...a.headers}:{"Content-Type":"application/json",...a.headers};try{const u=await fetch(s,{...a,headers:o});if(!u.ok){const h=await u.json().catch(()=>({}));throw new J1(h.error||h.message||"Une erreur est survenue",u.status,h.code)}return await u.json()}catch(u){throw u instanceof J1?u:u instanceof Error?new J1(`Erreur de connexion: ${u.message}`,void 0,"NETWORK_ERROR"):new J1("Une erreur inconnue est survenue")}}async get(t,r){return this.request(t,{method:"GET",params:r})}async post(t,r){const n=r instanceof FormData?r:JSON.stringify(r);return this.request(t,{method:"POST",body:n})}async put(t,r){const n=r instanceof FormData?r:JSON.stringify(r);return this.request(t,{method:"PUT",body:n})}async patch(t,r){const n=r instanceof FormData?r:JSON.stringify(r);return this.request(t,{method:"PATCH",body:n})}async delete(t){return this.request(t,{method:"DELETE"})}}const $e=new nH(rH),aH={async login(e,t){return(await $e.post("/auth/login",{username:e,password:t})).user}},eD=k.createContext(void 0),sH=({children:e})=>{const[t,r]=k.useState(null),[n,a]=k.useState(!0);k.useEffect(()=>{const d=localStorage.getItem("current_user");d&&r(JSON.parse(d)),a(!1)},[]);const s=async(d,h)=>{try{const m=await aH.login(d,h);return r(m),localStorage.setItem("current_user",JSON.stringify(m)),!0}catch(m){return console.error("Erreur de connexion:",m),!1}},l=()=>{r(null),localStorage.removeItem("current_user")},o=t?.role==="admin",u=t?.role==="gerant";return i.jsx(eD.Provider,{value:{user:t,isAuthenticated:!!t,isLoading:n,login:s,logout:l,isAdmin:o,isGerant:u},children:e})},Cs=()=>{const e=k.useContext(eD);if(!e)throw new Error("useAuth must be used within an AuthProvider");return e};function Bf(...e){return e.filter(Boolean).join(" ")}const Xe=k.forwardRef(({className:e,variant:t="default",size:r="default",...n},a)=>{const s="inline-flex items-center justify-center rounded-md text-sm font-medium transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-offset-2 disabled:opacity-50 disabled:pointer-events-none",l={default:"bg-blue-600 text-white hover:bg-blue-700",destructive:"bg-red-600 text-white hover:bg-red-700",outline:"border border-gray-300 bg-transparent hover:bg-gray-100",secondary:"bg-gray-200 text-gray-900 hover:bg-gray-300",ghost:"hover:bg-gray-100 hover:text-gray-900",link:"underline-offset-4 hover:underline text-blue-600"},o={default:"h-10 py-2 px-4",sm:"h-9 px-3 rounded-md",lg:"h-11 px-8 rounded-md",icon:"h-10 w-10"};return i.jsx("button",{className:Bf(s,l[t],o[r],e),ref:a,...n})});Xe.displayName="Button";const Qr=k.forwardRef(({className:e,type:t,...r},n)=>i.jsx("input",{type:t,className:Bf("flex h-10 w-full rounded-md border border-gray-300 bg-white px-3 py-2 text-sm ring-offset-white file:border-0 file:bg-transparent file:text-sm file:font-medium placeholder:text-gray-400 focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-blue-500 focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",e),ref:n,...r}));Qr.displayName="Input";const zr=k.forwardRef(({className:e,...t},r)=>i.jsx("div",{ref:r,className:Bf("rounded-lg border border-gray-200 bg-white text-gray-950 shadow-sm",e),...t}));zr.displayName="Card";const md=k.forwardRef(({className:e,...t},r)=>i.jsx("div",{ref:r,className:Bf("flex flex-col space-y-1.5 p-6",e),...t}));md.displayName="CardHeader";const pd=k.forwardRef(({className:e,...t},r)=>i.jsx("h3",{ref:r,className:Bf("text-2xl font-semibold leading-none tracking-tight",e),...t}));pd.displayName="CardTitle";const tD=k.forwardRef(({className:e,...t},r)=>i.jsx("p",{ref:r,className:Bf("text-sm text-gray-500",e),...t}));tD.displayName="CardDescription";const qr=k.forwardRef(({className:e,...t},r)=>i.jsx("div",{ref:r,className:Bf("p-6 pt-0",e),...t}));qr.displayName="CardContent";const iH=k.forwardRef(({className:e,...t},r)=>i.jsx("div",{ref:r,className:Bf("flex items-center p-6 pt-0",e),...t}));iH.displayName="CardFooter";/**
 * @license lucide-react v0.546.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const lH=e=>e.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),oH=e=>e.replace(/^([A-Z])|[\s-_]+(\w)/g,(t,r,n)=>n?n.toUpperCase():r.toLowerCase()),Rk=e=>{const t=oH(e);return t.charAt(0).toUpperCase()+t.slice(1)},rD=(...e)=>e.filter((t,r,n)=>!!t&&t.trim()!==""&&n.indexOf(t)===r).join(" ").trim(),cH=e=>{for(const t in e)if(t.startsWith("aria-")||t==="role"||t==="title")return!0};/**
 * @license lucide-react v0.546.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var uH={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.546.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const dH=k.forwardRef(({color:e="currentColor",size:t=24,strokeWidth:r=2,absoluteStrokeWidth:n,className:a="",children:s,iconNode:l,...o},u)=>k.createElement("svg",{ref:u,...uH,width:t,height:t,stroke:e,strokeWidth:n?Number(r)*24/Number(t):r,className:rD("lucide",a),...!s&&!cH(o)&&{"aria-hidden":"true"},...o},[...l.map(([d,h])=>k.createElement(d,h)),...Array.isArray(s)?s:[s]]));/**
 * @license lucide-react v0.546.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const yt=(e,t)=>{const r=k.forwardRef(({className:n,...a},s)=>k.createElement(dH,{ref:s,iconNode:t,className:rD(`lucide-${lH(Rk(e))}`,`lucide-${e}`,n),...a}));return r.displayName=Rk(e),r};/**
 * @license lucide-react v0.546.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fH=[["path",{d:"M22 12h-2.48a2 2 0 0 0-1.93 1.46l-2.35 8.36a.25.25 0 0 1-.48 0L9.24 2.18a.25.25 0 0 0-.48 0l-2.35 8.36A2 2 0 0 1 4.49 12H2",key:"169zse"}]],nD=yt("activity",fH);/**
 * @license lucide-react v0.546.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const hH=[["path",{d:"M12 5v14",key:"s699le"}],["path",{d:"m19 12-7 7-7-7",key:"1idqje"}]],mH=yt("arrow-down",hH);/**
 * @license lucide-react v0.546.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const pH=[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]],$n=yt("arrow-left",pH);/**
 * @license lucide-react v0.546.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xH=[["path",{d:"m5 12 7-7 7 7",key:"hav0vg"}],["path",{d:"M12 19V5",key:"x0mq9r"}]],gH=yt("arrow-up",xH);/**
 * @license lucide-react v0.546.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const vH=[["circle",{cx:"12",cy:"12",r:"4",key:"4exip2"}],["path",{d:"M16 8v5a3 3 0 0 0 6 0v-1a10 10 0 1 0-4 8",key:"7n84p3"}]],yH=yt("at-sign",vH);/**
 * @license lucide-react v0.546.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const bH=[["path",{d:"m15.477 12.89 1.515 8.526a.5.5 0 0 1-.81.47l-3.58-2.687a1 1 0 0 0-1.197 0l-3.586 2.686a.5.5 0 0 1-.81-.469l1.514-8.526",key:"1yiouv"}],["circle",{cx:"12",cy:"8",r:"6",key:"1vp47v"}]],Ba=yt("award",bH);/**
 * @license lucide-react v0.546.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const wH=[["path",{d:"M12 7v14",key:"1akyts"}],["path",{d:"M3 18a1 1 0 0 1-1-1V4a1 1 0 0 1 1-1h5a4 4 0 0 1 4 4 4 4 0 0 1 4-4h5a1 1 0 0 1 1 1v13a1 1 0 0 1-1 1h-6a3 3 0 0 0-3 3 3 3 0 0 0-3-3z",key:"ruj8y"}]],Wn=yt("book-open",wH);/**
 * @license lucide-react v0.546.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const NH=[["path",{d:"M21 8a2 2 0 0 0-1-1.73l-7-4a2 2 0 0 0-2 0l-7 4A2 2 0 0 0 3 8v8a2 2 0 0 0 1 1.73l7 4a2 2 0 0 0 2 0l7-4A2 2 0 0 0 21 16Z",key:"hh9hay"}],["path",{d:"m3.3 7 8.7 5 8.7-5",key:"g66t2b"}],["path",{d:"M12 22V12",key:"d0xqtd"}]],_H=yt("box",NH);/**
 * @license lucide-react v0.546.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const jH=[["path",{d:"M10 12h4",key:"a56b0p"}],["path",{d:"M10 8h4",key:"1sr2af"}],["path",{d:"M14 21v-3a2 2 0 0 0-4 0v3",key:"1rgiei"}],["path",{d:"M6 10H4a2 2 0 0 0-2 2v7a2 2 0 0 0 2 2h16a2 2 0 0 0 2-2V9a2 2 0 0 0-2-2h-2",key:"secmi2"}],["path",{d:"M6 21V5a2 2 0 0 1 2-2h8a2 2 0 0 1 2 2v16",key:"16ra0t"}]],SH=yt("building-2",jH);/**
 * @license lucide-react v0.546.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const AH=[["path",{d:"M20 21v-8a2 2 0 0 0-2-2H6a2 2 0 0 0-2 2v8",key:"1w3rig"}],["path",{d:"M4 16s.5-1 2-1 2.5 2 4 2 2.5-2 4-2 2.5 2 4 2 2-1 2-1",key:"n2jgmb"}],["path",{d:"M2 21h20",key:"1nyx9w"}],["path",{d:"M7 8v3",key:"1qtyvj"}],["path",{d:"M12 8v3",key:"hwp4zt"}],["path",{d:"M17 8v3",key:"1i6e5u"}],["path",{d:"M7 4h.01",key:"1bh4kh"}],["path",{d:"M12 4h.01",key:"1ujb9j"}],["path",{d:"M17 4h.01",key:"1upcoc"}]],kH=yt("cake",AH);/**
 * @license lucide-react v0.546.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const EH=[["rect",{width:"16",height:"20",x:"4",y:"2",rx:"2",key:"1nb95v"}],["line",{x1:"8",x2:"16",y1:"6",y2:"6",key:"x4nwl0"}],["line",{x1:"16",x2:"16",y1:"14",y2:"18",key:"wjye3r"}],["path",{d:"M16 10h.01",key:"1m94wz"}],["path",{d:"M12 10h.01",key:"1nrarc"}],["path",{d:"M8 10h.01",key:"19clt8"}],["path",{d:"M12 14h.01",key:"1etili"}],["path",{d:"M8 14h.01",key:"6423bh"}],["path",{d:"M12 18h.01",key:"mhygvu"}],["path",{d:"M8 18h.01",key:"lrp35t"}]],mu=yt("calculator",EH);/**
 * @license lucide-react v0.546.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const CH=[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}],["path",{d:"m9 16 2 2 4-4",key:"19s6y9"}]],aD=yt("calendar-check",CH);/**
 * @license lucide-react v0.546.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const TH=[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]],Ia=yt("calendar",TH);/**
 * @license lucide-react v0.546.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const OH=[["path",{d:"M3 3v16a2 2 0 0 0 2 2h16",key:"c24i48"}],["path",{d:"M18 17V9",key:"2bz60n"}],["path",{d:"M13 17V5",key:"1frdt8"}],["path",{d:"M8 17v-3",key:"17ska0"}]],sD=yt("chart-column",OH);/**
 * @license lucide-react v0.546.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const FH=[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]],d2=yt("check",FH);/**
 * @license lucide-react v0.546.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const DH=[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]],Af=yt("chevron-down",DH);/**
 * @license lucide-react v0.546.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const PH=[["path",{d:"m15 18-6-6 6-6",key:"1wnfg3"}]],W_=yt("chevron-left",PH);/**
 * @license lucide-react v0.546.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const LH=[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]],Bo=yt("chevron-right",LH);/**
 * @license lucide-react v0.546.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const MH=[["path",{d:"m18 15-6-6-6 6",key:"153udz"}]],iD=yt("chevron-up",MH);/**
 * @license lucide-react v0.546.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const RH=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]],$r=yt("circle-alert",RH);/**
 * @license lucide-react v0.546.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const IH=[["path",{d:"M21.801 10A10 10 0 1 1 17 3.335",key:"yps3ct"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]],Za=yt("circle-check-big",IH);/**
 * @license lucide-react v0.546.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const BH=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]],lD=yt("circle-check",BH);/**
 * @license lucide-react v0.546.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const UH=[["path",{d:"M9 9.003a1 1 0 0 1 1.517-.859l4.997 2.997a1 1 0 0 1 0 1.718l-4.997 2.997A1 1 0 0 1 9 14.996z",key:"kmsa83"}],["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]],Sc=yt("circle-play",UH);/**
 * @license lucide-react v0.546.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const zH=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}],["path",{d:"M7 20.662V19a2 2 0 0 1 2-2h6a2 2 0 0 1 2 2v1.662",key:"154egf"}]],qH=yt("circle-user",zH);/**
 * @license lucide-react v0.546.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $H=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m15 9-6 6",key:"1uzhvr"}],["path",{d:"m9 9 6 6",key:"z0biqf"}]],xd=yt("circle-x",$H);/**
 * @license lucide-react v0.546.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const HH=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]],VH=yt("circle",HH);/**
 * @license lucide-react v0.546.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const WH=[["rect",{width:"8",height:"4",x:"8",y:"2",rx:"1",ry:"1",key:"tgr4d6"}],["path",{d:"M16 4h2a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2H6a2 2 0 0 1-2-2V6a2 2 0 0 1 2-2h2",key:"116196"}],["path",{d:"m9 14 2 2 4-4",key:"df797q"}]],ey=yt("clipboard-check",WH);/**
 * @license lucide-react v0.546.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const KH=[["rect",{width:"8",height:"4",x:"8",y:"2",rx:"1",ry:"1",key:"tgr4d6"}],["path",{d:"M16 4h2a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2H6a2 2 0 0 1-2-2V6a2 2 0 0 1 2-2h2",key:"116196"}],["path",{d:"M12 11h4",key:"1jrz19"}],["path",{d:"M12 16h4",key:"n85exb"}],["path",{d:"M8 11h.01",key:"1dfujw"}],["path",{d:"M8 16h.01",key:"18s6g9"}]],Ik=yt("clipboard-list",KH);/**
 * @license lucide-react v0.546.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const GH=[["path",{d:"M12 6v6l4 2",key:"mmk7yg"}],["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]],Oi=yt("clock",GH);/**
 * @license lucide-react v0.546.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const YH=[["rect",{width:"14",height:"14",x:"8",y:"8",rx:"2",ry:"2",key:"17jyea"}],["path",{d:"M4 16c-1.1 0-2-.9-2-2V4c0-1.1.9-2 2-2h10c1.1 0 2 .9 2 2",key:"zix9uf"}]],id=yt("copy",YH);/**
 * @license lucide-react v0.546.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const XH=[["rect",{width:"20",height:"14",x:"2",y:"5",rx:"2",key:"ynyp8z"}],["line",{x1:"2",x2:"22",y1:"10",y2:"10",key:"1b3vmo"}]],QH=yt("credit-card",XH);/**
 * @license lucide-react v0.546.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ZH=[["line",{x1:"12",x2:"12",y1:"2",y2:"22",key:"7eqyqh"}],["path",{d:"M17 5H9.5a3.5 3.5 0 0 0 0 7h5a3.5 3.5 0 0 1 0 7H6",key:"1b0p4s"}]],L0=yt("dollar-sign",ZH);/**
 * @license lucide-react v0.546.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const JH=[["path",{d:"M12 15V3",key:"m9g1x1"}],["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["path",{d:"m7 10 5 5 5-5",key:"brsn70"}]],Fi=yt("download",JH);/**
 * @license lucide-react v0.546.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const eV=[["path",{d:"M15 3h6v6",key:"1q9fwt"}],["path",{d:"M10 14 21 3",key:"gplh6r"}],["path",{d:"M18 13v6a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h6",key:"a6xqqp"}]],f2=yt("external-link",eV);/**
 * @license lucide-react v0.546.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const tV=[["path",{d:"M10.733 5.076a10.744 10.744 0 0 1 11.205 6.575 1 1 0 0 1 0 .696 10.747 10.747 0 0 1-1.444 2.49",key:"ct8e1f"}],["path",{d:"M14.084 14.158a3 3 0 0 1-4.242-4.242",key:"151rxh"}],["path",{d:"M17.479 17.499a10.75 10.75 0 0 1-15.417-5.151 1 1 0 0 1 0-.696 10.75 10.75 0 0 1 4.446-5.143",key:"13bj9a"}],["path",{d:"m2 2 20 20",key:"1ooewy"}]],Qi=yt("eye-off",tV);/**
 * @license lucide-react v0.546.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const rV=[["path",{d:"M2.062 12.348a1 1 0 0 1 0-.696 10.75 10.75 0 0 1 19.876 0 1 1 0 0 1 0 .696 10.75 10.75 0 0 1-19.876 0",key:"1nclc0"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]],fi=yt("eye",rV);/**
 * @license lucide-react v0.546.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const nV=[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"m9 15 2 2 4-4",key:"1grp1n"}]],Hx=yt("file-check",nV);/**
 * @license lucide-react v0.546.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const aV=[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M9 15h6",key:"cctwl0"}],["path",{d:"M12 18v-6",key:"17g6i2"}]],ty=yt("file-plus",aV);/**
 * @license lucide-react v0.546.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const sV=[["path",{d:"M12 17h.01",key:"p32p05"}],["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7z",key:"1mlx9k"}],["path",{d:"M9.1 9a3 3 0 0 1 5.82 1c0 2-3 3-3 3",key:"mhlwft"}]],ld=yt("file-question-mark",sV);/**
 * @license lucide-react v0.546.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const iV=[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M8 13h2",key:"yr2amv"}],["path",{d:"M14 13h2",key:"un5t4a"}],["path",{d:"M8 17h2",key:"2yhykz"}],["path",{d:"M14 17h2",key:"10kma7"}]],K0=yt("file-spreadsheet",iV);/**
 * @license lucide-react v0.546.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const lV=[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M10 9H8",key:"b1mrlr"}],["path",{d:"M16 13H8",key:"t4e002"}],["path",{d:"M16 17H8",key:"z1uh3a"}]],us=yt("file-text",lV);/**
 * @license lucide-react v0.546.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const oV=[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]],Bk=yt("file-warning",oV);/**
 * @license lucide-react v0.546.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const cV=[["path",{d:"m6 14 1.5-2.9A2 2 0 0 1 9.24 10H20a2 2 0 0 1 1.94 2.5l-1.54 6a2 2 0 0 1-1.95 1.5H4a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h3.9a2 2 0 0 1 1.69.9l.81 1.2a2 2 0 0 0 1.67.9H18a2 2 0 0 1 2 2v2",key:"usdka0"}]],oD=yt("folder-open",cV);/**
 * @license lucide-react v0.546.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const uV=[["path",{d:"M2 11.5V5a2 2 0 0 1 2-2h3.9c.7 0 1.3.3 1.7.9l.8 1.2c.4.6 1 .9 1.7.9H20a2 2 0 0 1 2 2v10a2 2 0 0 1-2 2h-9.5",key:"a8xqs0"}],["path",{d:"M11.378 13.626a1 1 0 1 0-3.004-3.004l-5.01 5.012a2 2 0 0 0-.506.854l-.837 2.87a.5.5 0 0 0 .62.62l2.87-.837a2 2 0 0 0 .854-.506z",key:"1saktj"}]],dV=yt("folder-pen",uV);/**
 * @license lucide-react v0.546.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fV=[["path",{d:"M12 10v6",key:"1bos4e"}],["path",{d:"M9 13h6",key:"1uhe8q"}],["path",{d:"M20 20a2 2 0 0 0 2-2V8a2 2 0 0 0-2-2h-7.9a2 2 0 0 1-1.69-.9L9.6 3.9A2 2 0 0 0 7.93 3H4a2 2 0 0 0-2 2v13a2 2 0 0 0 2 2Z",key:"1kt360"}]],Uk=yt("folder-plus",fV);/**
 * @license lucide-react v0.546.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const hV=[["path",{d:"M20 20a2 2 0 0 0 2-2V8a2 2 0 0 0-2-2h-7.9a2 2 0 0 1-1.69-.9L9.6 3.9A2 2 0 0 0 7.93 3H4a2 2 0 0 0-2 2v13a2 2 0 0 0 2 2Z",key:"1kt360"}]],Wm=yt("folder",hV);/**
 * @license lucide-react v0.546.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const mV=[["path",{d:"M10 20a1 1 0 0 0 .553.895l2 1A1 1 0 0 0 14 21v-7a2 2 0 0 1 .517-1.341L21.74 4.67A1 1 0 0 0 21 3H3a1 1 0 0 0-.742 1.67l7.225 7.989A2 2 0 0 1 10 14z",key:"sc7q7i"}]],h2=yt("funnel",mV);/**
 * @license lucide-react v0.546.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const pV=[["path",{d:"M21.42 10.922a1 1 0 0 0-.019-1.838L12.83 5.18a2 2 0 0 0-1.66 0L2.6 9.08a1 1 0 0 0 0 1.832l8.57 3.908a2 2 0 0 0 1.66 0z",key:"j76jl0"}],["path",{d:"M22 10v6",key:"1lu8f3"}],["path",{d:"M6 12.5V16a6 3 0 0 0 12 0v-3.5",key:"1r8lef"}]],K_=yt("graduation-cap",pV);/**
 * @license lucide-react v0.546.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xV=[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}],["path",{d:"M3 9h18",key:"1pudct"}],["path",{d:"M3 15h18",key:"5xshup"}],["path",{d:"M9 3v18",key:"fh3hqa"}],["path",{d:"M15 3v18",key:"14nvp0"}]],G_=yt("grid-3x3",xV);/**
 * @license lucide-react v0.546.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const gV=[["path",{d:"M10 10V5a1 1 0 0 1 1-1h2a1 1 0 0 1 1 1v5",key:"1p9q5i"}],["path",{d:"M14 6a6 6 0 0 1 6 6v3",key:"1hnv84"}],["path",{d:"M4 15v-3a6 6 0 0 1 6-6",key:"9ciidu"}],["rect",{x:"2",y:"15",width:"20",height:"4",rx:"1",key:"g3x8cw"}]],Ex=yt("hard-hat",gV);/**
 * @license lucide-react v0.546.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const vV=[["line",{x1:"4",x2:"20",y1:"9",y2:"9",key:"4lhtct"}],["line",{x1:"4",x2:"20",y1:"15",y2:"15",key:"vyu0kd"}],["line",{x1:"10",x2:"8",y1:"3",y2:"21",key:"1ggp8o"}],["line",{x1:"16",x2:"14",y1:"3",y2:"21",key:"weycgp"}]],Y_=yt("hash",vV);/**
 * @license lucide-react v0.546.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const yV=[["path",{d:"M15 21v-8a1 1 0 0 0-1-1h-4a1 1 0 0 0-1 1v8",key:"5wwlr5"}],["path",{d:"M3 10a2 2 0 0 1 .709-1.528l7-6a2 2 0 0 1 2.582 0l7 6A2 2 0 0 1 21 10v9a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z",key:"r6nss1"}]],Fm=yt("house",yV);/**
 * @license lucide-react v0.546.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const bV=[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",ry:"2",key:"1m3agn"}],["circle",{cx:"9",cy:"9",r:"2",key:"af1f0g"}],["path",{d:"m21 15-3.086-3.086a2 2 0 0 0-2.828 0L6 21",key:"1xmnt7"}]],Cx=yt("image",bV);/**
 * @license lucide-react v0.546.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const wV=[["path",{d:"M12.83 2.18a2 2 0 0 0-1.66 0L2.6 6.08a1 1 0 0 0 0 1.83l8.58 3.91a2 2 0 0 0 1.66 0l8.58-3.9a1 1 0 0 0 0-1.83z",key:"zw3jo"}],["path",{d:"M2 12a1 1 0 0 0 .58.91l8.6 3.91a2 2 0 0 0 1.65 0l8.58-3.9A1 1 0 0 0 22 12",key:"1wduqc"}],["path",{d:"M2 17a1 1 0 0 0 .58.91l8.6 3.91a2 2 0 0 0 1.65 0l8.58-3.9A1 1 0 0 0 22 17",key:"kqbvx6"}]],Vx=yt("layers",wV);/**
 * @license lucide-react v0.546.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const NV=[["path",{d:"M15 14c.2-1 .7-1.7 1.5-2.5 1-.9 1.5-2.2 1.5-3.5A6 6 0 0 0 6 8c0 1 .2 2.2 1.5 3.5.7.7 1.3 1.5 1.5 2.5",key:"1gvzjb"}],["path",{d:"M9 18h6",key:"x1upvd"}],["path",{d:"M10 22h4",key:"ceow96"}]],_V=yt("lightbulb",NV);/**
 * @license lucide-react v0.546.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const jV=[["path",{d:"M10 13a5 5 0 0 0 7.54.54l3-3a5 5 0 0 0-7.07-7.07l-1.72 1.71",key:"1cjeqo"}],["path",{d:"M14 11a5 5 0 0 0-7.54-.54l-3 3a5 5 0 0 0 7.07 7.07l1.71-1.71",key:"19qd67"}]],Wx=yt("link",jV);/**
 * @license lucide-react v0.546.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const SV=[["path",{d:"M3 5h.01",key:"18ugdj"}],["path",{d:"M3 12h.01",key:"nlz23k"}],["path",{d:"M3 19h.01",key:"noohij"}],["path",{d:"M8 5h13",key:"1pao27"}],["path",{d:"M8 12h13",key:"1za7za"}],["path",{d:"M8 19h13",key:"m83p4d"}]],cD=yt("list",SV);/**
 * @license lucide-react v0.546.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const AV=[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 10 0v4",key:"fwvmzm"}]],Kx=yt("lock",AV);/**
 * @license lucide-react v0.546.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const kV=[["path",{d:"m16 17 5-5-5-5",key:"1bji2h"}],["path",{d:"M21 12H9",key:"dn1m92"}],["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}]],uD=yt("log-out",kV);/**
 * @license lucide-react v0.546.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const EV=[["path",{d:"m22 7-8.991 5.727a2 2 0 0 1-2.009 0L2 7",key:"132q7q"}],["rect",{x:"2",y:"4",width:"20",height:"16",rx:"2",key:"izxlao"}]],CV=yt("mail",EV);/**
 * @license lucide-react v0.546.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const TV=[["path",{d:"M20 10c0 4.993-5.539 10.193-7.399 11.799a1 1 0 0 1-1.202 0C9.539 20.193 4 14.993 4 10a8 8 0 0 1 16 0",key:"1r0f0z"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}]],ds=yt("map-pin",TV);/**
 * @license lucide-react v0.546.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const OV=[["path",{d:"M4 5h16",key:"1tepv9"}],["path",{d:"M4 12h16",key:"1lakjw"}],["path",{d:"M4 19h16",key:"1djgab"}]],FV=yt("menu",OV);/**
 * @license lucide-react v0.546.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const DV=[["path",{d:"M2.992 16.342a2 2 0 0 1 .094 1.167l-1.065 3.29a1 1 0 0 0 1.236 1.168l3.413-.998a2 2 0 0 1 1.099.092 10 10 0 1 0-4.777-4.719",key:"1sd12s"}]],PV=yt("message-circle",DV);/**
 * @license lucide-react v0.546.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const LV=[["path",{d:"M22 17a2 2 0 0 1-2 2H6.828a2 2 0 0 0-1.414.586l-2.202 2.202A.71.71 0 0 1 2 21.286V5a2 2 0 0 1 2-2h16a2 2 0 0 1 2 2z",key:"18887p"}]],el=yt("message-square",LV);/**
 * @license lucide-react v0.546.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const MV=[["path",{d:"M5 12h14",key:"1ays0h"}]],RV=yt("minus",MV);/**
 * @license lucide-react v0.546.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const IV=[["path",{d:"M11 21.73a2 2 0 0 0 2 0l7-4A2 2 0 0 0 21 16V8a2 2 0 0 0-1-1.73l-7-4a2 2 0 0 0-2 0l-7 4A2 2 0 0 0 3 8v8a2 2 0 0 0 1 1.73z",key:"1a0edw"}],["path",{d:"M12 22V12",key:"d0xqtd"}],["polyline",{points:"3.29 7 12 12 20.71 7",key:"ousv84"}],["path",{d:"m7.5 4.27 9 5.15",key:"1c824w"}]],Uv=yt("package",IV);/**
 * @license lucide-react v0.546.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const BV=[["path",{d:"M12 22a1 1 0 0 1 0-20 10 9 0 0 1 10 9 5 5 0 0 1-5 5h-2.25a1.75 1.75 0 0 0-1.4 2.8l.3.4a1.75 1.75 0 0 1-1.4 2.8z",key:"e79jfc"}],["circle",{cx:"13.5",cy:"6.5",r:".5",fill:"currentColor",key:"1okk4w"}],["circle",{cx:"17.5",cy:"10.5",r:".5",fill:"currentColor",key:"f64h9f"}],["circle",{cx:"6.5",cy:"12.5",r:".5",fill:"currentColor",key:"qy21gx"}],["circle",{cx:"8.5",cy:"7.5",r:".5",fill:"currentColor",key:"fotxhn"}]],dD=yt("palette",BV);/**
 * @license lucide-react v0.546.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const UV=[["path",{d:"m16 6-8.414 8.586a2 2 0 0 0 2.829 2.829l8.414-8.586a4 4 0 1 0-5.657-5.657l-8.379 8.551a6 6 0 1 0 8.485 8.485l8.379-8.551",key:"1miecu"}]],zV=yt("paperclip",UV);/**
 * @license lucide-react v0.546.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qV=[["path",{d:"M13 21h8",key:"1jsn5i"}],["path",{d:"M21.174 6.812a1 1 0 0 0-3.986-3.987L3.842 16.174a2 2 0 0 0-.5.83l-1.321 4.352a.5.5 0 0 0 .623.622l4.353-1.32a2 2 0 0 0 .83-.497z",key:"1a8usu"}]],hh=yt("pen-line",qV);/**
 * @license lucide-react v0.546.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $V=[["path",{d:"M21.174 6.812a1 1 0 0 0-3.986-3.987L3.842 16.174a2 2 0 0 0-.5.83l-1.321 4.352a.5.5 0 0 0 .623.622l4.353-1.32a2 2 0 0 0 .83-.497z",key:"1a8usu"}]],Km=yt("pen",$V);/**
 * @license lucide-react v0.546.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const HV=[["path",{d:"M13.832 16.568a1 1 0 0 0 1.213-.303l.355-.465A2 2 0 0 1 17 15h3a2 2 0 0 1 2 2v3a2 2 0 0 1-2 2A18 18 0 0 1 2 4a2 2 0 0 1 2-2h3a2 2 0 0 1 2 2v3a2 2 0 0 1-.8 1.6l-.468.351a1 1 0 0 0-.292 1.233 14 14 0 0 0 6.392 6.384",key:"9njp5v"}]],VV=yt("phone",HV);/**
 * @license lucide-react v0.546.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const WV=[["path",{d:"M12 17v5",key:"bb1du9"}],["path",{d:"M9 10.76a2 2 0 0 1-1.11 1.79l-1.78.9A2 2 0 0 0 5 15.24V16a1 1 0 0 0 1 1h12a1 1 0 0 0 1-1v-.76a2 2 0 0 0-1.11-1.79l-1.78-.9A2 2 0 0 1 15 10.76V7a1 1 0 0 1 1-1 2 2 0 0 0 0-4H8a2 2 0 0 0 0 4 1 1 0 0 1 1 1z",key:"1nkz8b"}]],X_=yt("pin",WV);/**
 * @license lucide-react v0.546.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const KV=[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]],ra=yt("plus",KV);/**
 * @license lucide-react v0.546.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const GV=[["path",{d:"M15.2 3a2 2 0 0 1 1.4.6l3.8 3.8a2 2 0 0 1 .6 1.4V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2z",key:"1c8476"}],["path",{d:"M17 21v-7a1 1 0 0 0-1-1H8a1 1 0 0 0-1 1v7",key:"1ydtos"}],["path",{d:"M7 3v4a1 1 0 0 0 1 1h7",key:"t51u73"}]],cp=yt("save",GV);/**
 * @license lucide-react v0.546.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const YV=[["path",{d:"m21 21-4.34-4.34",key:"14j7rj"}],["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}]],mh=yt("search",YV);/**
 * @license lucide-react v0.546.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const XV=[["path",{d:"M14.536 21.686a.5.5 0 0 0 .937-.024l6.5-19a.496.496 0 0 0-.635-.635l-19 6.5a.5.5 0 0 0-.024.937l7.93 3.18a2 2 0 0 1 1.112 1.11z",key:"1ffxy3"}],["path",{d:"m21.854 2.147-10.94 10.939",key:"12cjpa"}]],Dm=yt("send",XV);/**
 * @license lucide-react v0.546.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const QV=[["path",{d:"M9.671 4.136a2.34 2.34 0 0 1 4.659 0 2.34 2.34 0 0 0 3.319 1.915 2.34 2.34 0 0 1 2.33 4.033 2.34 2.34 0 0 0 0 3.831 2.34 2.34 0 0 1-2.33 4.033 2.34 2.34 0 0 0-3.319 1.915 2.34 2.34 0 0 1-4.659 0 2.34 2.34 0 0 0-3.32-1.915 2.34 2.34 0 0 1-2.33-4.033 2.34 2.34 0 0 0 0-3.831A2.34 2.34 0 0 1 6.35 6.051a2.34 2.34 0 0 0 3.319-1.915",key:"1i5ecw"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]],fD=yt("settings",QV);/**
 * @license lucide-react v0.546.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ZV=[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}]],s4=yt("shield",ZV);/**
 * @license lucide-react v0.546.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const JV=[["path",{d:"M12 3H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7",key:"1m0v6g"}],["path",{d:"M18.375 2.625a1 1 0 0 1 3 3l-9.013 9.014a2 2 0 0 1-.853.505l-2.873.84a.5.5 0 0 1-.62-.62l.84-2.873a2 2 0 0 1 .506-.852z",key:"ohrbg2"}]],ry=yt("square-pen",JV);/**
 * @license lucide-react v0.546.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const eW=[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}]],tW=yt("square",eW);/**
 * @license lucide-react v0.546.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const rW=[["path",{d:"M11.525 2.295a.53.53 0 0 1 .95 0l2.31 4.679a2.123 2.123 0 0 0 1.595 1.16l5.166.756a.53.53 0 0 1 .294.904l-3.736 3.638a2.123 2.123 0 0 0-.611 1.878l.882 5.14a.53.53 0 0 1-.771.56l-4.618-2.428a2.122 2.122 0 0 0-1.973 0L6.396 21.01a.53.53 0 0 1-.77-.56l.881-5.139a2.122 2.122 0 0 0-.611-1.879L2.16 9.795a.53.53 0 0 1 .294-.906l5.165-.755a2.122 2.122 0 0 0 1.597-1.16z",key:"r04s7s"}]],nW=yt("star",rW);/**
 * @license lucide-react v0.546.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const aW=[["path",{d:"M12.586 2.586A2 2 0 0 0 11.172 2H4a2 2 0 0 0-2 2v7.172a2 2 0 0 0 .586 1.414l8.704 8.704a2.426 2.426 0 0 0 3.42 0l6.58-6.58a2.426 2.426 0 0 0 0-3.42z",key:"vktsd0"}],["circle",{cx:"7.5",cy:"7.5",r:".5",fill:"currentColor",key:"kqv944"}]],sW=yt("tag",aW);/**
 * @license lucide-react v0.546.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const iW=[["path",{d:"M21 5H3",key:"1fi0y6"}],["path",{d:"M15 12H3",key:"6jk70r"}],["path",{d:"M17 19H3",key:"z6ezky"}]],lW=yt("text-align-start",iW);/**
 * @license lucide-react v0.546.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const oW=[["path",{d:"M7 10v12",key:"1qc93n"}],["path",{d:"M15 5.88 14 10h5.83a2 2 0 0 1 1.92 2.56l-2.33 8A2 2 0 0 1 17.5 22H4a2 2 0 0 1-2-2v-8a2 2 0 0 1 2-2h2.76a2 2 0 0 0 1.79-1.11L12 2a3.13 3.13 0 0 1 3 3.88Z",key:"emmmcr"}]],cW=yt("thumbs-up",oW);/**
 * @license lucide-react v0.546.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const uW=[["path",{d:"M10 11v6",key:"nco0om"}],["path",{d:"M14 11v6",key:"outv1u"}],["path",{d:"M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6",key:"miytrc"}],["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M8 6V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2",key:"e791ji"}]],An=yt("trash-2",uW);/**
 * @license lucide-react v0.546.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const dW=[["path",{d:"M16 7h6v6",key:"box55l"}],["path",{d:"m22 7-8.5 8.5-5-5L2 17",key:"1t1m79"}]],G0=yt("trending-up",dW);/**
 * @license lucide-react v0.546.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fW=[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3",key:"wmoenq"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]],i4=yt("triangle-alert",fW);/**
 * @license lucide-react v0.546.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const hW=[["path",{d:"M14 18V6a2 2 0 0 0-2-2H4a2 2 0 0 0-2 2v11a1 1 0 0 0 1 1h2",key:"wrbu53"}],["path",{d:"M15 18H9",key:"1lyqi6"}],["path",{d:"M19 18h2a1 1 0 0 0 1-1v-3.65a1 1 0 0 0-.22-.624l-3.48-4.35A1 1 0 0 0 17.52 8H14",key:"lysw3i"}],["circle",{cx:"17",cy:"18",r:"2",key:"332jqn"}],["circle",{cx:"7",cy:"18",r:"2",key:"19iecd"}]],mW=yt("truck",hW);/**
 * @license lucide-react v0.546.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const pW=[["path",{d:"M12 4v16",key:"1654pz"}],["path",{d:"M4 7V5a1 1 0 0 1 1-1h14a1 1 0 0 1 1 1v2",key:"e0r10z"}],["path",{d:"M9 20h6",key:"s66wpe"}]],Pm=yt("type",pW);/**
 * @license lucide-react v0.546.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xW=[["path",{d:"M12 3v12",key:"1x0j5s"}],["path",{d:"m17 8-5-5-5 5",key:"7q97r8"}],["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}]],Ef=yt("upload",xW);/**
 * @license lucide-react v0.546.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const gW=[["path",{d:"m16 11 2 2 4-4",key:"9rsbq5"}],["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}]],zk=yt("user-check",gW);/**
 * @license lucide-react v0.546.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const vW=[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["line",{x1:"19",x2:"19",y1:"8",y2:"14",key:"1bvyxn"}],["line",{x1:"22",x2:"16",y1:"11",y2:"11",key:"1shjgl"}]],yW=yt("user-plus",vW);/**
 * @license lucide-react v0.546.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const bW=[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]],Y0=yt("user",bW);/**
 * @license lucide-react v0.546.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const wW=[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["path",{d:"M16 3.128a4 4 0 0 1 0 7.744",key:"16gr8j"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}]],fs=yt("users",wW);/**
 * @license lucide-react v0.546.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const NW=[["path",{d:"m16 13 5.223 3.482a.5.5 0 0 0 .777-.416V7.87a.5.5 0 0 0-.752-.432L16 10.5",key:"ftymec"}],["rect",{x:"2",y:"6",width:"14",height:"12",rx:"2",key:"158x01"}]],Gx=yt("video",NW);/**
 * @license lucide-react v0.546.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _W=[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]],En=yt("x",_W),xm=[{url:"https://images.unsplash.com/photo-1581092160562-40aa08e78837?auto=format&fit=crop&w=1200&q=80",caption:"Oprateur de chariot lvateur"},{url:"https://images.unsplash.com/photo-1504917595217-d4dc5ebe6122?auto=format&fit=crop&w=1200&q=80",caption:"Gestion des engins de chantier"},{url:"https://images.unsplash.com/photo-1581092162384-8987c1d64718?auto=format&fit=crop&w=1200&q=80",caption:"Manutention professionnelle"},{url:"https://images.unsplash.com/photo-1513828583688-c52646db42da?auto=format&fit=crop&w=1200&q=80",caption:"quipe de travaux"}],jW=()=>{const[e,t]=k.useState(""),[r,n]=k.useState(""),[a,s]=k.useState(""),[l,o]=k.useState(!1),[u,d]=k.useState(0),[h,m]=k.useState(!1),{login:g}=Cs(),x=xn();k.useEffect(()=>{const N=setInterval(()=>{d(E=>E===xm.length-1?0:E+1)},4e3);return()=>clearInterval(N)},[]);const b=async N=>{N.preventDefault(),s(""),o(!0),await g(e,r)?x("/dashboard"):s("Nom d'utilisateur ou mot de passe incorrect"),o(!1)},v=()=>{d(N=>N===0?xm.length-1:N-1)},w=()=>{d(N=>N===xm.length-1?0:N+1)};return i.jsxs("div",{className:"min-h-screen flex",children:[i.jsx("div",{className:"hidden lg:flex lg:w-1/2 relative bg-gradient-to-br from-orange-600 to-blue-900 overflow-hidden",children:i.jsxs("div",{className:"relative w-full h-full",children:[xm.map((N,E)=>i.jsxs("div",{className:`absolute inset-0 transition-opacity duration-1000 ${E===u?"opacity-100":"opacity-0"}`,children:[i.jsx("img",{src:N.url,alt:N.caption,className:"w-full h-full object-cover"}),i.jsx("div",{className:"absolute inset-0 bg-gradient-to-t from-black/70 via-black/30 to-transparent"})]},E)),i.jsxs("div",{className:"absolute inset-0 flex flex-col justify-end p-12 text-white z-10",children:[i.jsxs("div",{className:"mb-8",children:[i.jsxs("div",{className:"flex items-center gap-3 mb-4",children:[i.jsx(Ex,{className:"w-12 h-12"}),i.jsxs("h1",{className:"text-4xl font-bold",children:["Systme de Gestion",i.jsx("br",{}),"Comptable"]})]}),i.jsx("p",{className:"text-xl text-gray-200 max-w-md",children:"Solution professionnelle pour la gestion des dclarations de sessions"})]}),i.jsx("div",{className:"mb-4",children:i.jsx("p",{className:"text-lg font-medium text-gray-100",children:xm[u].caption})}),i.jsxs("div",{className:"flex items-center gap-4",children:[i.jsx("button",{onClick:v,className:"p-2 rounded-full bg-white/20 hover:bg-white/30 transition-colors backdrop-blur-sm","aria-label":"Image prcdente",children:i.jsx(W_,{className:"w-5 h-5"})}),i.jsx("div",{className:"flex gap-2",children:xm.map((N,E)=>i.jsx("button",{onClick:()=>d(E),className:`h-2 rounded-full transition-all ${E===u?"w-8 bg-white":"w-2 bg-white/50 hover:bg-white/70"}`,"aria-label":`Aller  l'image ${E+1}`},E))}),i.jsx("button",{onClick:w,className:"p-2 rounded-full bg-white/20 hover:bg-white/30 transition-colors backdrop-blur-sm","aria-label":"Image suivante",children:i.jsx(Bo,{className:"w-5 h-5"})})]}),i.jsxs("div",{className:"mt-8 flex flex-wrap gap-3",children:[i.jsxs("div",{className:"flex items-center gap-2 px-3 py-2 rounded-full bg-white/10 backdrop-blur-sm",children:[i.jsx(mW,{className:"w-4 h-4"}),i.jsx("span",{className:"text-sm font-medium",children:"Engins de chantier"})]}),i.jsxs("div",{className:"flex items-center gap-2 px-3 py-2 rounded-full bg-white/10 backdrop-blur-sm",children:[i.jsx(fs,{className:"w-4 h-4"}),i.jsx("span",{className:"text-sm font-medium",children:"Gestion d'quipes"})]}),i.jsxs("div",{className:"flex items-center gap-2 px-3 py-2 rounded-full bg-white/10 backdrop-blur-sm",children:[i.jsx(Ex,{className:"w-4 h-4"}),i.jsx("span",{className:"text-sm font-medium",children:"Manutention"})]})]})]})]})}),i.jsx("div",{className:"w-full lg:w-1/2 flex items-center justify-center bg-gradient-to-br from-gray-50 to-gray-100 p-4",children:i.jsxs("div",{className:"w-full max-w-md",children:[i.jsxs("div",{className:"lg:hidden mb-8 text-center",children:[i.jsxs("div",{className:"flex items-center justify-center gap-3 mb-3",children:[i.jsx(Ex,{className:"w-10 h-10 text-orange-600"}),i.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"Gestion Comptable"})]}),i.jsx("p",{className:"text-gray-600",children:"Solution pour vos dclarations de sessions"})]}),i.jsxs(zr,{className:"shadow-xl border-0",children:[i.jsxs(md,{className:"space-y-1 pb-6",children:[i.jsx(pd,{className:"text-2xl font-bold text-center text-gray-900",children:"Connexion"}),i.jsx(tD,{className:"text-center text-gray-600",children:"Accdez  votre espace personnel"})]}),i.jsxs(qr,{children:[i.jsxs("form",{onSubmit:b,className:"space-y-5",children:[i.jsxs("div",{className:"space-y-2",children:[i.jsx("label",{htmlFor:"username",className:"text-sm font-medium text-gray-700",children:"Nom d'utilisateur"}),i.jsx(Qr,{id:"username",type:"text",placeholder:"Votre identifiant",value:e,onChange:N=>t(N.target.value),required:!0,className:"h-11"})]}),i.jsxs("div",{className:"space-y-2",children:[i.jsx("label",{htmlFor:"password",className:"text-sm font-medium text-gray-700",children:"Mot de passe"}),i.jsxs("div",{className:"relative",children:[i.jsx(Qr,{id:"password",type:h?"text":"password",placeholder:"Votre mot de passe",value:r,onChange:N=>n(N.target.value),required:!0,className:"h-11 pr-10"}),i.jsx("button",{type:"button",onClick:()=>m(!h),className:"absolute right-3 top-1/2 -translate-y-1/2 text-gray-500 hover:text-gray-700 transition-colors","aria-label":h?"Masquer le mot de passe":"Afficher le mot de passe",children:h?i.jsx(Qi,{className:"w-5 h-5"}):i.jsx(fi,{className:"w-5 h-5"})})]})]}),a&&i.jsxs("div",{className:"bg-red-50 border border-red-200 text-red-700 p-3 rounded-lg text-sm flex items-start gap-2",children:[i.jsx("svg",{className:"w-5 h-5 flex-shrink-0 mt-0.5",fill:"currentColor",viewBox:"0 0 20 20",children:i.jsx("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zM8.707 7.293a1 1 0 00-1.414 1.414L8.586 10l-1.293 1.293a1 1 0 101.414 1.414L10 11.414l1.293 1.293a1 1 0 001.414-1.414L11.414 10l1.293-1.293a1 1 0 00-1.414-1.414L10 8.586 8.707 7.293z",clipRule:"evenodd"})}),i.jsx("span",{children:a})]}),i.jsx(Xe,{type:"submit",className:"w-full h-11 bg-gradient-to-r from-orange-600 to-orange-500 hover:from-orange-700 hover:to-orange-600 text-white font-medium shadow-lg",disabled:l,children:l?i.jsxs("span",{className:"flex items-center gap-2",children:[i.jsxs("svg",{className:"animate-spin h-4 w-4",viewBox:"0 0 24 24",children:[i.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4",fill:"none"}),i.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}),"Connexion..."]}):"Se connecter"})]}),i.jsxs("div",{className:"mt-6 pt-6 border-t border-gray-200 text-center text-sm text-gray-500",children:[i.jsx("p",{children:" 2025 Systme de Gestion Comptable"}),i.jsx("p",{className:"mt-1",children:"Tous droits rservs"})]})]})]})]})})]})},SW=({className:e=""})=>{const[t,r]=k.useState(!1),[n,a]=k.useState(["gestion-comptable","formation-en-ligne"]),{user:s,isAdmin:l,isGerant:o,logout:u}=Cs(),d=xn(),h=Pc(),m=()=>{u(),d("/login"),r(!1)},g=j=>{a(T=>T.includes(j)?T.filter(O=>O!==j):[...T,j])},x=[{id:"gestion-comptable",title:"Gestion Comptable",icon:mu,items:[{to:"/dashboard",icon:Fm,label:"Tableau de bord"},{to:"/admin/segments",icon:mu,label:"Segments"},{to:"/admin/cities",icon:ds,label:"Villes"},{to:"/admin/users",icon:fs,label:"Utilisateurs"},{to:"/admin/calculation-sheets",icon:K0,label:"Fiches de calcul"},{to:"/admin/create-declaration",icon:ty,label:"Crer dclaration"},{to:"/admin/declarations",icon:ey,label:"Grer dclarations"}]},{id:"formation-en-ligne",title:"Formation en Ligne",icon:K_,items:[{to:"/admin/formations/sessions",icon:Ia,label:"Sessions"}]}],b=[{to:"/dashboard",icon:Fm,label:"Tableau de bord"},{to:"/professor/declarations",icon:cD,label:"Mes dclarations"}],v=[{to:"/dashboard",icon:Fm,label:"Tableau de bord"},{to:"/gerant/view-declarations",icon:ey,label:"Voir dclarations"}],w=l?x:[],N=l?[]:o?v:b,E=j=>h.pathname===j;return i.jsxs(i.Fragment,{children:[i.jsx(Xe,{variant:"ghost",size:"icon",onClick:()=>r(!0),className:`lg:hidden ${e}`,"aria-label":"Open menu",children:i.jsx(FV,{className:"h-6 w-6"})}),t&&i.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 z-40 lg:hidden",onClick:()=>r(!1)}),i.jsxs("div",{className:`fixed top-0 left-0 h-full w-64 bg-white shadow-xl z-50 transform transition-transform duration-300 ease-in-out lg:hidden ${t?"translate-x-0":"-translate-x-full"}`,children:[i.jsxs("div",{className:"flex items-center justify-between p-4 border-b",children:[i.jsx("h2",{className:"text-lg font-semibold text-gray-800",children:"Menu"}),i.jsx(Xe,{variant:"ghost",size:"icon",onClick:()=>r(!1),"aria-label":"Close menu",children:i.jsx(En,{className:"h-6 w-6"})})]}),i.jsxs("div",{className:"p-4 bg-gray-50 border-b",children:[i.jsx("p",{className:"text-sm font-medium text-gray-800",children:s?.full_name||s?.username}),i.jsx("p",{className:"text-xs text-gray-500 capitalize",children:s?.role})]}),i.jsxs("nav",{className:"flex flex-col p-2 space-y-2 overflow-y-auto flex-1",children:[w.map(j=>{const T=n.includes(j.id),O=j.icon;return i.jsxs("div",{className:"space-y-1",children:[i.jsxs("button",{onClick:()=>g(j.id),className:"w-full flex items-center justify-between px-3 py-2.5 text-sm font-semibold text-gray-700 hover:bg-gray-50 rounded-lg transition-colors",children:[i.jsxs("div",{className:"flex items-center gap-3",children:[i.jsx(O,{className:"h-5 w-5 text-gray-600"}),i.jsx("span",{children:j.title})]}),T?i.jsx(iD,{className:"h-4 w-4 text-gray-400"}):i.jsx(Af,{className:"h-4 w-4 text-gray-400"})]}),T&&i.jsx("div",{className:"ml-6 space-y-0.5",children:j.items.map(D=>{const C=D.icon,P=E(D.to);return i.jsxs(Aa,{to:D.to,onClick:()=>r(!1),className:`flex items-center gap-3 px-3 py-2 rounded-lg text-sm transition-colors ${P?"bg-blue-50 text-blue-700 font-medium":"text-gray-600 hover:bg-gray-50"}`,children:[i.jsx(C,{className:`h-4 w-4 ${P?"text-blue-600":"text-gray-400"}`}),i.jsx("span",{children:D.label})]},D.to)})})]},j.id)}),N.map(j=>i.jsxs(Aa,{to:j.to,onClick:()=>r(!1),className:`flex items-center gap-3 px-4 py-3 rounded-lg text-sm transition-colors ${E(j.to)?"bg-blue-50 text-blue-700 font-medium":"text-gray-700 hover:bg-gray-100"}`,children:[i.jsx(j.icon,{className:`h-5 w-5 ${E(j.to)?"text-blue-600":"text-gray-400"}`}),i.jsx("span",{className:"font-medium",children:j.label})]},j.to))]}),i.jsx("div",{className:"absolute bottom-0 left-0 right-0 p-4 border-t bg-white",children:i.jsxs(Xe,{onClick:m,variant:"outline",className:"w-full flex items-center justify-center gap-2",children:[i.jsx(uD,{className:"h-4 w-4"}),"Dconnexion"]})})]})]})},AW=({title:e,subtitle:t})=>{const{user:r,logout:n}=Cs(),a=xn(),s=()=>{n(),a("/login")};return i.jsx("header",{className:"bg-white shadow-sm border-b sticky top-0 z-30",children:i.jsx("div",{className:"px-4 sm:px-6 lg:px-8 py-3 sm:py-4",children:i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsxs("div",{className:"flex items-center gap-3 sm:gap-4",children:[i.jsx(SW,{}),i.jsxs("div",{className:"hidden lg:flex items-center gap-2",children:[i.jsx(Ex,{className:"h-6 w-6 sm:h-7 sm:w-7 text-orange-600"}),i.jsx("span",{className:"text-lg sm:text-xl font-bold text-gray-800",children:"Comptabilit PL"})]}),e&&i.jsxs("div",{className:"flex flex-col",children:[i.jsx("h1",{className:"text-base sm:text-lg lg:text-xl font-semibold text-gray-800 truncate max-w-[150px] sm:max-w-none",children:e}),t&&i.jsx("p",{className:"text-xs sm:text-sm text-gray-500 hidden sm:block",children:t})]})]}),i.jsxs("div",{className:"hidden lg:flex items-center gap-4",children:[i.jsxs("div",{className:"text-right",children:[i.jsx("p",{className:"text-sm font-medium text-gray-800",children:r?.full_name||r?.username}),i.jsx("p",{className:"text-xs text-gray-500 capitalize",children:r?.role})]}),i.jsxs(Xe,{onClick:s,variant:"outline",size:"sm",className:"flex items-center gap-2",children:[i.jsx(uD,{className:"h-4 w-4"}),i.jsx("span",{className:"hidden xl:inline",children:"Dconnexion"})]})]}),!e&&i.jsxs("div",{className:"lg:hidden flex items-center gap-2",children:[i.jsx(Ex,{className:"h-6 w-6 text-orange-600"}),i.jsx("span",{className:"text-base font-bold text-gray-800",children:"Comptabilit PL"})]})]})})})},kW=()=>{const e=Pc(),[t,r]=k.useState(["gestion-comptable","formation-en-ligne"]),n=l=>{r(o=>o.includes(l)?o.filter(u=>u!==l):[...o,l])},a=[{id:"gestion-comptable",title:"Gestion Comptable",icon:mu,items:[{to:"/dashboard",icon:Fm,label:"Tableau de bord"},{to:"/admin/segments",icon:mu,label:"Segments"},{to:"/admin/cities",icon:ds,label:"Villes"},{to:"/admin/users",icon:fs,label:"Utilisateurs"},{to:"/admin/calculation-sheets",icon:K0,label:"Fiches de calcul"},{to:"/admin/create-declaration",icon:ty,label:"Crer dclaration"},{to:"/admin/declarations",icon:ey,label:"Grer dclarations"}]},{id:"formation-en-ligne",title:"Formation en Ligne",icon:K_,items:[{to:"/admin/formations-management",icon:Wn,label:"Gestion des Formations"},{to:"/admin/sessions-formation",icon:aD,label:"Sessions de Formation"},{to:"/admin/analytics",icon:sD,label:"Analytics"},{to:"/admin/student-reports",icon:us,label:"Rapports tudiants"},{to:"/admin/certificates",icon:Ba,label:"Certificats"},{to:"/admin/certificate-templates",icon:dD,label:"Templates de Certificats"},{to:"/admin/forums",icon:el,label:"Forums"}]}],s=l=>e.pathname===l;return i.jsxs("aside",{className:"hidden lg:flex lg:flex-col lg:w-72 bg-white border-r border-gray-200 h-[calc(100vh-64px)] sticky top-16 overflow-y-auto",children:[i.jsx("nav",{className:"flex-1 px-3 py-4 space-y-2",children:a.map(l=>{const o=t.includes(l.id),u=l.icon;return i.jsxs("div",{className:"space-y-1",children:[i.jsxs("button",{onClick:()=>n(l.id),className:"w-full flex items-center justify-between px-3 py-2.5 text-sm font-semibold text-gray-700 hover:bg-gray-50 rounded-lg transition-colors group",children:[i.jsxs("div",{className:"flex items-center gap-3",children:[i.jsx(u,{className:"h-5 w-5 text-gray-600 group-hover:text-blue-600"}),i.jsx("span",{className:"group-hover:text-blue-600",children:l.title})]}),o?i.jsx(iD,{className:"h-4 w-4 text-gray-400"}):i.jsx(Af,{className:"h-4 w-4 text-gray-400"})]}),o&&i.jsx("div",{className:"ml-3 space-y-0.5 border-l-2 border-gray-200 pl-3",children:l.items.map(d=>{const h=d.icon,m=s(d.to);return i.jsxs(Aa,{to:d.to,className:`flex items-center gap-3 px-3 py-2 text-sm rounded-lg transition-all ${m?"bg-blue-50 text-blue-700 font-medium border-l-2 border-blue-600 -ml-[2px]":"text-gray-600 hover:bg-gray-50 hover:text-gray-900"}`,children:[i.jsx(h,{className:`h-4 w-4 ${m?"text-blue-600":"text-gray-400"}`}),i.jsx("span",{children:d.label})]},d.to)})})]},l.id)})}),i.jsx("div",{className:"px-6 py-4 border-t border-gray-200",children:i.jsx("p",{className:"text-xs text-gray-500 text-center",children:"Comptabilit PL  2025"})})]})},kn=({children:e,title:t,subtitle:r})=>i.jsxs("div",{className:"min-h-screen bg-gray-50",children:[i.jsx(AW,{title:t,subtitle:r}),i.jsxs("div",{className:"flex",children:[i.jsx(kW,{}),i.jsx("main",{className:"flex-1 p-4 sm:p-6 lg:p-8",children:i.jsx("div",{className:"max-w-7xl mx-auto",children:e})})]})]});function EW(){return Jt({queryKey:["dashboard-stats"],queryFn:async()=>$e.get("/admin/dashboard-stats"),refetchInterval:3e4})}const CW=()=>{const{data:e,isLoading:t,error:r}=EW();if(t)return i.jsx("div",{className:"flex items-center justify-center py-12",children:i.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-600"})});if(r||!e)return i.jsx("div",{className:"bg-red-50 border border-red-200 rounded-lg p-4",children:i.jsx("p",{className:"text-red-800",children:"Erreur lors du chargement des statistiques"})});const{statusStats:n,alerts:a,metrics:s,rankings:l}=e;return i.jsxs("div",{className:"space-y-6",children:[i.jsxs("div",{children:[i.jsx("h2",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Statistiques Rapides"}),i.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 xl:grid-cols-6 gap-4",children:[i.jsx("div",{className:"bg-gradient-to-br from-blue-50 to-blue-100 rounded-lg shadow-sm p-4 border border-blue-200",children:i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsxs("div",{children:[i.jsx("p",{className:"text-sm font-medium text-blue-600",children:"Total Fiches"}),i.jsx("p",{className:"text-3xl font-bold text-blue-900 mt-1",children:n.total})]}),i.jsx(us,{className:"w-10 h-10 text-blue-500 opacity-50"})]})}),i.jsx("div",{className:`rounded-lg shadow-sm p-4 border ${n.soumise>5?"bg-gradient-to-br from-red-50 to-red-100 border-red-300 animate-pulse":"bg-gradient-to-br from-blue-50 to-blue-100 border-blue-200"}`,children:i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsxs("div",{children:[i.jsx("p",{className:`text-sm font-medium ${n.soumise>5?"text-red-600":"text-blue-600"}`,children:"Soumises"}),i.jsx("p",{className:`text-3xl font-bold mt-1 ${n.soumise>5?"text-red-900":"text-blue-900"}`,children:n.soumise}),n.soumise>5&&i.jsx("p",{className:"text-xs text-red-700 mt-1",children:"  traiter rapidement"})]}),i.jsx(Dm,{className:`w-10 h-10 opacity-50 ${n.soumise>5?"text-red-500":"text-blue-500"}`})]})}),i.jsx("div",{className:`rounded-lg shadow-sm p-4 border ${n.a_declarer>3?"bg-gradient-to-br from-orange-50 to-orange-100 border-orange-300 animate-pulse":"bg-gradient-to-br from-orange-50 to-orange-100 border-orange-200"}`,children:i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsxs("div",{children:[i.jsx("p",{className:"text-sm font-medium text-orange-600",children:" dclarer"}),i.jsx("p",{className:"text-3xl font-bold text-orange-900 mt-1",children:n.a_declarer}),n.a_declarer>3&&i.jsx("p",{className:"text-xs text-orange-700 mt-1",children:" Attente prof"})]}),i.jsx($r,{className:"w-10 h-10 text-orange-500 opacity-50"})]})}),i.jsx("div",{className:`rounded-lg shadow-sm p-4 border ${a.expired.total>0?"bg-gradient-to-br from-red-50 to-red-100 border-red-300":"bg-gradient-to-br from-gray-50 to-gray-100 border-gray-200"}`,children:i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsxs("div",{children:[i.jsx("p",{className:`text-sm font-medium ${a.expired.total>0?"text-red-600":"text-gray-600"}`,children:"Expires"}),i.jsx("p",{className:`text-3xl font-bold mt-1 ${a.expired.total>0?"text-red-900":"text-gray-900"}`,children:a.expired.total}),a.expired.critical>0&&i.jsxs("p",{className:"text-xs text-red-700 mt-1",children:[" ",a.expired.critical," critique"]})]}),i.jsx(Bk,{className:`w-10 h-10 opacity-50 ${a.expired.total>0?"text-red-500":"text-gray-400"}`})]})}),i.jsx("div",{className:"bg-gradient-to-br from-green-50 to-green-100 rounded-lg shadow-sm p-4 border border-green-200",children:i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsxs("div",{children:[i.jsx("p",{className:"text-sm font-medium text-green-600",children:"Revenus Total"}),i.jsxs("p",{className:"text-2xl font-bold text-green-900 mt-1",children:[new Intl.NumberFormat("fr-FR").format(s.totalRevenue)," MAD"]})]}),i.jsx(L0,{className:"w-10 h-10 text-green-500 opacity-50"})]})}),i.jsx("div",{className:"bg-gradient-to-br from-purple-50 to-purple-100 rounded-lg shadow-sm p-4 border border-purple-200",children:i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsxs("div",{children:[i.jsx("p",{className:"text-sm font-medium text-purple-600",children:"Dlai Moyen"}),i.jsxs("p",{className:"text-3xl font-bold text-purple-900 mt-1",children:[s.avgProcessingTime,i.jsx("span",{className:"text-lg ml-1",children:"j"})]}),i.jsx("p",{className:"text-xs text-purple-700 mt-1",children:"de traitement"})]}),i.jsx(Oi,{className:"w-10 h-10 text-purple-500 opacity-50"})]})})]})]}),(n.soumise>0||a.expired.total>0||a.expiring>0||a.lateProcessing>0)&&i.jsxs("div",{children:[i.jsx("h2",{className:"text-lg font-semibold text-gray-900 mb-4",children:" Alertes Urgentes"}),i.jsxs("div",{className:"space-y-3",children:[n.soumise>0&&i.jsx("div",{className:"bg-blue-50 border-l-4 border-blue-500 rounded-r-lg p-4",children:i.jsxs("div",{className:"flex items-center gap-3",children:[i.jsx(Dm,{className:"w-5 h-5 text-blue-600 flex-shrink-0"}),i.jsxs("p",{className:"text-sm font-medium text-blue-900",children:[n.soumise," dclaration",n.soumise>1?"s":""," soumise",n.soumise>1?"s":"","  traiter"]})]})}),a.expired.critical>0&&i.jsx("div",{className:"bg-red-50 border-l-4 border-red-600 rounded-r-lg p-4",children:i.jsxs("div",{className:"flex items-center gap-3",children:[i.jsx(i4,{className:"w-5 h-5 text-red-600 flex-shrink-0"}),i.jsxs("p",{className:"text-sm font-medium text-red-900",children:[" ",a.expired.critical," dclaration",a.expired.critical>1?"s":""," expire",a.expired.critical>1?"s":""," depuis > 30 jours (CRITIQUE)"]})]})}),a.expired.warning>0&&i.jsx("div",{className:"bg-orange-50 border-l-4 border-orange-500 rounded-r-lg p-4",children:i.jsxs("div",{className:"flex items-center gap-3",children:[i.jsx($r,{className:"w-5 h-5 text-orange-600 flex-shrink-0"}),i.jsxs("p",{className:"text-sm font-medium text-orange-900",children:[" ",a.expired.warning," dclaration",a.expired.warning>1?"s":""," expire",a.expired.warning>1?"s":""," depuis 7-30 jours"]})]})}),a.expiring>0&&i.jsx("div",{className:"bg-yellow-50 border-l-4 border-yellow-500 rounded-r-lg p-4",children:i.jsxs("div",{className:"flex items-center gap-3",children:[i.jsx(Oi,{className:"w-5 h-5 text-yellow-600 flex-shrink-0"}),i.jsxs("p",{className:"text-sm font-medium text-yellow-900",children:[" ",a.expiring," dclaration",a.expiring>1?"s":""," arrivant  chance dans 7 jours"]})]})}),a.lateProcessing>0&&i.jsx("div",{className:"bg-orange-50 border-l-4 border-orange-600 rounded-r-lg p-4",children:i.jsxs("div",{className:"flex items-center gap-3",children:[i.jsx(Bk,{className:"w-5 h-5 text-orange-600 flex-shrink-0"}),i.jsxs("p",{className:"text-sm font-medium text-orange-900",children:[" ",a.lateProcessing," dclaration",a.lateProcessing>1?"s":""," en retard de traitement (> 7 jours)"]})]})})]})]}),i.jsxs("div",{children:[i.jsx("h2",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Dtails par Statut"}),i.jsxs("div",{className:"grid grid-cols-2 sm:grid-cols-3 lg:grid-cols-6 gap-4",children:[i.jsxs("div",{className:"bg-white rounded-lg shadow-sm p-4 border border-gray-200",children:[i.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[i.jsx(us,{className:"w-4 h-4 text-gray-500"}),i.jsx("p",{className:"text-xs font-medium text-gray-600",children:"Brouillon"})]}),i.jsx("p",{className:"text-2xl font-bold text-gray-900",children:n.brouillon})]}),i.jsxs("div",{className:"bg-white rounded-lg shadow-sm p-4 border border-orange-300",children:[i.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[i.jsx($r,{className:"w-4 h-4 text-orange-500"}),i.jsx("p",{className:"text-xs font-medium text-orange-600",children:" dclarer"})]}),i.jsx("p",{className:"text-2xl font-bold text-orange-900",children:n.a_declarer})]}),i.jsxs("div",{className:"bg-white rounded-lg shadow-sm p-4 border border-blue-300",children:[i.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[i.jsx(Dm,{className:"w-4 h-4 text-blue-500"}),i.jsx("p",{className:"text-xs font-medium text-blue-600",children:"Soumise"})]}),i.jsx("p",{className:"text-2xl font-bold text-blue-900",children:n.soumise})]}),i.jsxs("div",{className:"bg-white rounded-lg shadow-sm p-4 border border-yellow-300",children:[i.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[i.jsx(Oi,{className:"w-4 h-4 text-yellow-500"}),i.jsx("p",{className:"text-xs font-medium text-yellow-600",children:"En cours"})]}),i.jsx("p",{className:"text-2xl font-bold text-yellow-900",children:n.en_cours})]}),i.jsxs("div",{className:"bg-white rounded-lg shadow-sm p-4 border border-green-300",children:[i.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[i.jsx(Za,{className:"w-4 h-4 text-green-500"}),i.jsx("p",{className:"text-xs font-medium text-green-600",children:"Approuve"})]}),i.jsx("p",{className:"text-2xl font-bold text-green-900",children:n.approuvee})]}),i.jsxs("div",{className:"bg-white rounded-lg shadow-sm p-4 border border-red-300",children:[i.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[i.jsx(xd,{className:"w-4 h-4 text-red-500"}),i.jsx("p",{className:"text-xs font-medium text-red-600",children:"Refuse"})]}),i.jsx("p",{className:"text-2xl font-bold text-red-900",children:n.refusee})]})]})]}),i.jsxs("div",{children:[i.jsx("h2",{className:"text-lg font-semibold text-gray-900 mb-4",children:" Mtriques de Performance"}),i.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[i.jsxs("div",{className:"bg-gradient-to-br from-green-50 to-green-100 rounded-lg shadow-sm p-6 border border-green-200",children:[i.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[i.jsx(G0,{className:"w-6 h-6 text-green-600"}),i.jsx("p",{className:"text-sm font-medium text-green-700",children:"Taux d'Approbation"})]}),i.jsxs("p",{className:"text-4xl font-bold text-green-900",children:[s.approvalRate.toFixed(1),"%"]}),i.jsx("div",{className:"mt-3 bg-green-200 rounded-full h-2 overflow-hidden",children:i.jsx("div",{className:"bg-green-600 h-full transition-all duration-500",style:{width:`${s.approvalRate}%`}})})]}),i.jsxs("div",{className:"bg-gradient-to-br from-purple-50 to-purple-100 rounded-lg shadow-sm p-6 border border-purple-200",children:[i.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[i.jsx(Oi,{className:"w-6 h-6 text-purple-600"}),i.jsx("p",{className:"text-sm font-medium text-purple-700",children:"Dlai Moyen de Traitement"})]}),i.jsxs("p",{className:"text-4xl font-bold text-purple-900",children:[s.avgProcessingTime,i.jsx("span",{className:"text-2xl ml-1",children:"jours"})]}),i.jsx("p",{className:"text-xs text-purple-700 mt-2",children:"Entre soumission et validation"})]}),i.jsxs("div",{className:"bg-gradient-to-br from-blue-50 to-blue-100 rounded-lg shadow-sm p-6 border border-blue-200",children:[i.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[i.jsx(L0,{className:"w-6 h-6 text-blue-600"}),i.jsx("p",{className:"text-sm font-medium text-blue-700",children:"Revenus Totaux (Approuves)"})]}),i.jsx("p",{className:"text-3xl font-bold text-blue-900",children:new Intl.NumberFormat("fr-FR",{style:"currency",currency:"MAD",minimumFractionDigits:0}).format(s.totalRevenue)}),i.jsx("p",{className:"text-xs text-blue-700 mt-2",children:"Bas sur les fiches approuves"})]})]})]}),i.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6",children:[i.jsxs("div",{className:"bg-white rounded-lg shadow-sm p-4 border border-gray-200",children:[i.jsxs("h3",{className:"text-sm font-semibold text-gray-900 mb-3 flex items-center gap-2",children:[i.jsx(us,{className:"w-4 h-4"}),"Top 3 Segments"]}),i.jsx("div",{className:"space-y-2",children:l.topSegments.length>0?l.topSegments.map((o,u)=>i.jsxs("div",{className:"flex items-center justify-between p-2 bg-gray-50 rounded",children:[i.jsx("span",{className:"text-sm text-gray-700 truncate",children:o.name}),i.jsx("span",{className:"text-sm font-semibold text-gray-900",children:o.count})]},u)):i.jsx("p",{className:"text-xs text-gray-500 italic",children:"Aucune donne"})})]}),i.jsxs("div",{className:"bg-white rounded-lg shadow-sm p-4 border border-gray-200",children:[i.jsxs("h3",{className:"text-sm font-semibold text-gray-900 mb-3 flex items-center gap-2",children:[i.jsx($r,{className:"w-4 h-4"}),"Top 5 Villes"]}),i.jsx("div",{className:"space-y-2",children:l.topCities.length>0?l.topCities.map((o,u)=>i.jsxs("div",{className:"flex items-center justify-between p-2 bg-gray-50 rounded",children:[i.jsx("span",{className:"text-sm text-gray-700 truncate",children:o.name}),i.jsx("span",{className:"text-sm font-semibold text-gray-900",children:o.count})]},u)):i.jsx("p",{className:"text-xs text-gray-500 italic",children:"Aucune donne"})})]}),i.jsxs("div",{className:"bg-white rounded-lg shadow-sm p-4 border border-gray-200",children:[i.jsxs("h3",{className:"text-sm font-semibold text-gray-900 mb-3 flex items-center gap-2",children:[i.jsx(fs,{className:"w-4 h-4"}),"Top 5 Professeurs Actifs"]}),i.jsx("div",{className:"space-y-2",children:l.topProfessors.length>0?l.topProfessors.map((o,u)=>i.jsxs("div",{className:"flex items-center justify-between p-2 bg-gray-50 rounded",children:[i.jsx("span",{className:"text-sm text-gray-700 truncate",children:o.full_name}),i.jsx("span",{className:"text-sm font-semibold text-gray-900",children:o.count})]},u)):i.jsx("p",{className:"text-xs text-gray-500 italic",children:"Aucune donne"})})]})]})]})},TW=()=>{const{user:e,isAdmin:t,isGerant:r}=Cs(),l=t?[{title:"Gestion des Segments",description:"Crer et grer les segments de formation",icon:mu,link:"/admin/segments",color:"bg-blue-500"},{title:"Gestion des Villes",description:"Grer les villes et leur affectation",icon:ds,link:"/admin/cities",color:"bg-green-500"},{title:"Gestion des Utilisateurs",description:"Crer et grer les comptes (admin, professeur, grant)",icon:fs,link:"/admin/users",color:"bg-purple-500"},{title:"Fiches de Calcul",description:"Crer des templates de fiches de calcul",icon:K0,link:"/admin/calculation-sheets",color:"bg-orange-500"},{title:"Crer des Dclarations",description:"Assigner des fiches de sessions aux professeurs",icon:ty,link:"/admin/create-declaration",color:"bg-teal-500"},{title:"Gestion des Dclarations",description:"Valider et grer les dclarations des professeurs",icon:ey,link:"/admin/declarations",color:"bg-indigo-500"},{title:"Analytics & Rapports",description:"Statistiques et analyses de performance des formations",icon:sD,link:"/admin/analytics",color:"bg-pink-500"},{title:"Rapports tudiants",description:"Consulter les rapports dtaills de progression des tudiants",icon:us,link:"/admin/student-reports",color:"bg-cyan-500"}]:r?[{title:"Crer des Dclarations",description:"Assigner des fiches de sessions aux professeurs",icon:ty,link:"/gerant/create-declaration",color:"bg-blue-500"},{title:"Mes Dclarations Cres",description:"Suivre les dclarations que j'ai assignes",icon:cD,link:"/gerant/declarations",color:"bg-green-500"}]:[{title:"Mes Dclarations",description:"Crer et grer mes dclarations de sessions",icon:K0,link:"/professor/declarations",color:"bg-blue-500"}];return i.jsxs(kn,{title:"Tableau de Bord",subtitle:`Bienvenue, ${e?.full_name} (${t?"Administrateur":r?"Grant":"Professeur"})`,children:[i.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-2 gap-6",children:l.map((o,u)=>i.jsx(Aa,{to:o.link,children:i.jsxs(zr,{className:"hover:shadow-lg transition-shadow cursor-pointer h-full",children:[i.jsxs(md,{children:[i.jsx("div",{className:`${o.color} w-12 h-12 rounded-lg flex items-center justify-center mb-4`,children:i.jsx(o.icon,{className:"h-6 w-6 text-white"})}),i.jsx(pd,{className:"text-xl",children:o.title})]}),i.jsx(qr,{children:i.jsx("p",{className:"text-gray-600",children:o.description})})]})},u))}),t&&i.jsx("div",{className:"mt-6 sm:mt-8",children:i.jsx(CW,{})}),!t&&i.jsxs("div",{className:"mt-6 sm:mt-8",children:[i.jsx("h2",{className:"text-lg sm:text-xl font-semibold mb-3 sm:mb-4",children:"Statistiques Rapides"}),i.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 md:grid-cols-3 gap-4",children:[i.jsx(zr,{children:i.jsx(qr,{className:"pt-6",children:i.jsxs("div",{className:"text-center",children:[i.jsx("p",{className:"text-3xl font-bold text-blue-600",children:"0"}),i.jsx("p",{className:"text-sm text-gray-600 mt-1",children:r?"Dclarations cres":"Mes Fiches"})]})})}),i.jsx(zr,{children:i.jsx(qr,{className:"pt-6",children:i.jsxs("div",{className:"text-center",children:[i.jsx("p",{className:"text-3xl font-bold text-green-600",children:"0 MAD"}),i.jsx("p",{className:"text-sm text-gray-600 mt-1",children:"Revenus Total"})]})})}),i.jsx(zr,{children:i.jsx(qr,{className:"pt-6",children:i.jsxs("div",{className:"text-center",children:[i.jsx("p",{className:"text-3xl font-bold text-orange-600",children:"0 MAD"}),i.jsx("p",{className:"text-sm text-gray-600 mt-1",children:"Charges Total"})]})})})]})]})]})};/*! xlsx.js (C) 2013-present SheetJS -- http://sheetjs.com */var ny={};ny.version="0.18.5";var hD=1252,OW=[874,932,936,949,950,1250,1251,1252,1253,1254,1255,1256,1257,1258,1e4],Q_={0:1252,1:65001,2:65001,77:1e4,128:932,129:949,130:1361,134:936,136:950,161:1253,162:1254,163:1258,177:1255,178:1256,186:1257,204:1251,222:874,238:1250,255:1252,69:6969},Z_=function(e){OW.indexOf(e)!=-1&&(hD=Q_[0]=e)};function FW(){Z_(1252)}var _c=function(e){Z_(e)};function J_(){_c(1200),FW()}function qk(e){for(var t=[],r=0,n=e.length;r<n;++r)t[r]=e.charCodeAt(r);return t}function DW(e){for(var t=[],r=0;r<e.length>>1;++r)t[r]=String.fromCharCode(e.charCodeAt(2*r)+(e.charCodeAt(2*r+1)<<8));return t.join("")}function mD(e){for(var t=[],r=0;r<e.length>>1;++r)t[r]=String.fromCharCode(e.charCodeAt(2*r+1)+(e.charCodeAt(2*r)<<8));return t.join("")}var _x=function(e){var t=e.charCodeAt(0),r=e.charCodeAt(1);return t==255&&r==254?DW(e.slice(2)):t==254&&r==255?mD(e.slice(2)):t==65279?e.slice(1):e},ev=function(t){return String.fromCharCode(t)},$k=function(t){return String.fromCharCode(t)},Yx,Nf="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=";function Xx(e){for(var t="",r=0,n=0,a=0,s=0,l=0,o=0,u=0,d=0;d<e.length;)r=e.charCodeAt(d++),s=r>>2,n=e.charCodeAt(d++),l=(r&3)<<4|n>>4,a=e.charCodeAt(d++),o=(n&15)<<2|a>>6,u=a&63,isNaN(n)?o=u=64:isNaN(a)&&(u=64),t+=Nf.charAt(s)+Nf.charAt(l)+Nf.charAt(o)+Nf.charAt(u);return t}function no(e){var t="",r=0,n=0,a=0,s=0,l=0,o=0,u=0;e=e.replace(/[^\w\+\/\=]/g,"");for(var d=0;d<e.length;)s=Nf.indexOf(e.charAt(d++)),l=Nf.indexOf(e.charAt(d++)),r=s<<2|l>>4,t+=String.fromCharCode(r),o=Nf.indexOf(e.charAt(d++)),n=(l&15)<<4|o>>2,o!==64&&(t+=String.fromCharCode(n)),u=Nf.indexOf(e.charAt(d++)),a=(o&3)<<6|u,u!==64&&(t+=String.fromCharCode(a));return t}var Or=(function(){return typeof Buffer<"u"&&typeof process<"u"&&typeof process.versions<"u"&&!!process.versions.node})(),Sd=(function(){if(typeof Buffer<"u"){var e=!Buffer.from;if(!e)try{Buffer.from("foo","utf8")}catch{e=!0}return e?function(t,r){return r?new Buffer(t,r):new Buffer(t)}:Buffer.from.bind(Buffer)}return function(){}})();function Cf(e){return Or?Buffer.alloc?Buffer.alloc(e):new Buffer(e):typeof Uint8Array<"u"?new Uint8Array(e):new Array(e)}function Hk(e){return Or?Buffer.allocUnsafe?Buffer.allocUnsafe(e):new Buffer(e):typeof Uint8Array<"u"?new Uint8Array(e):new Array(e)}var Zl=function(t){return Or?Sd(t,"binary"):t.split("").map(function(r){return r.charCodeAt(0)&255})};function m2(e){if(typeof ArrayBuffer>"u")return Zl(e);for(var t=new ArrayBuffer(e.length),r=new Uint8Array(t),n=0;n!=e.length;++n)r[n]=e.charCodeAt(n)&255;return t}function Uf(e){if(Array.isArray(e))return e.map(function(n){return String.fromCharCode(n)}).join("");for(var t=[],r=0;r<e.length;++r)t[r]=String.fromCharCode(e[r]);return t.join("")}function PW(e){if(typeof Uint8Array>"u")throw new Error("Unsupported");return new Uint8Array(e)}function ej(e){if(typeof ArrayBuffer>"u")throw new Error("Unsupported");if(e instanceof ArrayBuffer)return ej(new Uint8Array(e));for(var t=new Array(e.length),r=0;r<e.length;++r)t[r]=e[r];return t}var Vs=Or?function(e){return Buffer.concat(e.map(function(t){return Buffer.isBuffer(t)?t:Sd(t)}))}:function(e){if(typeof Uint8Array<"u"){var t=0,r=0;for(t=0;t<e.length;++t)r+=e[t].length;var n=new Uint8Array(r),a=0;for(t=0,r=0;t<e.length;r+=a,++t)if(a=e[t].length,e[t]instanceof Uint8Array)n.set(e[t],r);else{if(typeof e[t]=="string")throw"wtf";n.set(new Uint8Array(e[t]),r)}return n}return[].concat.apply([],e.map(function(s){return Array.isArray(s)?s:[].slice.call(s)}))};function LW(e){for(var t=[],r=0,n=e.length+250,a=Cf(e.length+255),s=0;s<e.length;++s){var l=e.charCodeAt(s);if(l<128)a[r++]=l;else if(l<2048)a[r++]=192|l>>6&31,a[r++]=128|l&63;else if(l>=55296&&l<57344){l=(l&1023)+64;var o=e.charCodeAt(++s)&1023;a[r++]=240|l>>8&7,a[r++]=128|l>>2&63,a[r++]=128|o>>6&15|(l&3)<<4,a[r++]=128|o&63}else a[r++]=224|l>>12&15,a[r++]=128|l>>6&63,a[r++]=128|l&63;r>n&&(t.push(a.slice(0,r)),r=0,a=Cf(65535),n=65530)}return t.push(a.slice(0,r)),Vs(t)}var rl=/\u0000/g,jx=/[\u0001-\u0006]/g;function Lm(e){for(var t="",r=e.length-1;r>=0;)t+=e.charAt(r--);return t}function jc(e,t){var r=""+e;return r.length>=t?r:Ma("0",t-r.length)+r}function tj(e,t){var r=""+e;return r.length>=t?r:Ma(" ",t-r.length)+r}function ay(e,t){var r=""+e;return r.length>=t?r:r+Ma(" ",t-r.length)}function MW(e,t){var r=""+Math.round(e);return r.length>=t?r:Ma("0",t-r.length)+r}function RW(e,t){var r=""+e;return r.length>=t?r:Ma("0",t-r.length)+r}var Vk=Math.pow(2,32);function gm(e,t){if(e>Vk||e<-Vk)return MW(e,t);var r=Math.round(e);return RW(r,t)}function sy(e,t){return t=t||0,e.length>=7+t&&(e.charCodeAt(t)|32)===103&&(e.charCodeAt(t+1)|32)===101&&(e.charCodeAt(t+2)|32)===110&&(e.charCodeAt(t+3)|32)===101&&(e.charCodeAt(t+4)|32)===114&&(e.charCodeAt(t+5)|32)===97&&(e.charCodeAt(t+6)|32)===108}var Wk=[["Sun","Sunday"],["Mon","Monday"],["Tue","Tuesday"],["Wed","Wednesday"],["Thu","Thursday"],["Fri","Friday"],["Sat","Saturday"]],Dw=[["J","Jan","January"],["F","Feb","February"],["M","Mar","March"],["A","Apr","April"],["M","May","May"],["J","Jun","June"],["J","Jul","July"],["A","Aug","August"],["S","Sep","September"],["O","Oct","October"],["N","Nov","November"],["D","Dec","December"]];function IW(e){return e||(e={}),e[0]="General",e[1]="0",e[2]="0.00",e[3]="#,##0",e[4]="#,##0.00",e[9]="0%",e[10]="0.00%",e[11]="0.00E+00",e[12]="# ?/?",e[13]="# ??/??",e[14]="m/d/yy",e[15]="d-mmm-yy",e[16]="d-mmm",e[17]="mmm-yy",e[18]="h:mm AM/PM",e[19]="h:mm:ss AM/PM",e[20]="h:mm",e[21]="h:mm:ss",e[22]="m/d/yy h:mm",e[37]="#,##0 ;(#,##0)",e[38]="#,##0 ;[Red](#,##0)",e[39]="#,##0.00;(#,##0.00)",e[40]="#,##0.00;[Red](#,##0.00)",e[45]="mm:ss",e[46]="[h]:mm:ss",e[47]="mmss.0",e[48]="##0.0E+0",e[49]="@",e[56]='"/ "hh""mm""ss" "',e}var ur={0:"General",1:"0",2:"0.00",3:"#,##0",4:"#,##0.00",9:"0%",10:"0.00%",11:"0.00E+00",12:"# ?/?",13:"# ??/??",14:"m/d/yy",15:"d-mmm-yy",16:"d-mmm",17:"mmm-yy",18:"h:mm AM/PM",19:"h:mm:ss AM/PM",20:"h:mm",21:"h:mm:ss",22:"m/d/yy h:mm",37:"#,##0 ;(#,##0)",38:"#,##0 ;[Red](#,##0)",39:"#,##0.00;(#,##0.00)",40:"#,##0.00;[Red](#,##0.00)",45:"mm:ss",46:"[h]:mm:ss",47:"mmss.0",48:"##0.0E+0",49:"@",56:'"/ "hh""mm""ss" "'},Kk={5:37,6:38,7:39,8:40,23:0,24:0,25:0,26:0,27:14,28:14,29:14,30:14,31:14,50:14,51:14,52:14,53:14,54:14,55:14,56:14,57:14,58:14,59:1,60:2,61:3,62:4,67:9,68:10,69:12,70:13,71:14,72:14,73:15,74:16,75:17,76:20,77:21,78:22,79:45,80:46,81:47,82:0},BW={5:'"$"#,##0_);\\("$"#,##0\\)',63:'"$"#,##0_);\\("$"#,##0\\)',6:'"$"#,##0_);[Red]\\("$"#,##0\\)',64:'"$"#,##0_);[Red]\\("$"#,##0\\)',7:'"$"#,##0.00_);\\("$"#,##0.00\\)',65:'"$"#,##0.00_);\\("$"#,##0.00\\)',8:'"$"#,##0.00_);[Red]\\("$"#,##0.00\\)',66:'"$"#,##0.00_);[Red]\\("$"#,##0.00\\)',41:'_(* #,##0_);_(* \\(#,##0\\);_(* "-"_);_(@_)',42:'_("$"* #,##0_);_("$"* \\(#,##0\\);_("$"* "-"_);_(@_)',43:'_(* #,##0.00_);_(* \\(#,##0.00\\);_(* "-"??_);_(@_)',44:'_("$"* #,##0.00_);_("$"* \\(#,##0.00\\);_("$"* "-"??_);_(@_)'};function iy(e,t,r){for(var n=e<0?-1:1,a=e*n,s=0,l=1,o=0,u=1,d=0,h=0,m=Math.floor(a);d<t&&(m=Math.floor(a),o=m*l+s,h=m*d+u,!(a-m<5e-8));)a=1/(a-m),s=l,l=o,u=d,d=h;if(h>t&&(d>t?(h=u,o=s):(h=d,o=l)),!r)return[0,n*o,h];var g=Math.floor(n*o/h);return[g,n*o-g*h,h]}function O0(e,t,r){if(e>2958465||e<0)return null;var n=e|0,a=Math.floor(86400*(e-n)),s=0,l=[],o={D:n,T:a,u:86400*(e-n)-a,y:0,m:0,d:0,H:0,M:0,S:0,q:0};if(Math.abs(o.u)<1e-6&&(o.u=0),t&&t.date1904&&(n+=1462),o.u>.9999&&(o.u=0,++a==86400&&(o.T=a=0,++n,++o.D)),n===60)l=r?[1317,10,29]:[1900,2,29],s=3;else if(n===0)l=r?[1317,8,29]:[1900,1,0],s=6;else{n>60&&--n;var u=new Date(1900,0,1);u.setDate(u.getDate()+n-1),l=[u.getFullYear(),u.getMonth()+1,u.getDate()],s=u.getDay(),n<60&&(s=(s+6)%7),r&&(s=VW(u,l))}return o.y=l[0],o.m=l[1],o.d=l[2],o.S=a%60,a=Math.floor(a/60),o.M=a%60,a=Math.floor(a/60),o.H=a,o.q=s,o}var pD=new Date(1899,11,31,0,0,0),UW=pD.getTime(),zW=new Date(1900,2,1,0,0,0);function xD(e,t){var r=e.getTime();return t?r-=1461*24*60*60*1e3:e>=zW&&(r+=1440*60*1e3),(r-(UW+(e.getTimezoneOffset()-pD.getTimezoneOffset())*6e4))/(1440*60*1e3)}function rj(e){return e.indexOf(".")==-1?e:e.replace(/(?:\.0*|(\.\d*[1-9])0+)$/,"$1")}function qW(e){return e.indexOf("E")==-1?e:e.replace(/(?:\.0*|(\.\d*[1-9])0+)[Ee]/,"$1E").replace(/(E[+-])(\d)$/,"$10$2")}function $W(e){var t=e<0?12:11,r=rj(e.toFixed(12));return r.length<=t||(r=e.toPrecision(10),r.length<=t)?r:e.toExponential(5)}function HW(e){var t=rj(e.toFixed(11));return t.length>(e<0?12:11)||t==="0"||t==="-0"?e.toPrecision(6):t}function Qx(e){var t=Math.floor(Math.log(Math.abs(e))*Math.LOG10E),r;return t>=-4&&t<=-1?r=e.toPrecision(10+t):Math.abs(t)<=9?r=$W(e):t===10?r=e.toFixed(10).substr(0,12):r=HW(e),rj(qW(r.toUpperCase()))}function X0(e,t){switch(typeof e){case"string":return e;case"boolean":return e?"TRUE":"FALSE";case"number":return(e|0)===e?e.toString(10):Qx(e);case"undefined":return"";case"object":if(e==null)return"";if(e instanceof Date)return $o(14,xD(e,t&&t.date1904),t)}throw new Error("unsupported value in General format: "+e)}function VW(e,t){t[0]-=581;var r=e.getDay();return e<60&&(r=(r+6)%7),r}function WW(e,t,r,n){var a="",s=0,l=0,o=r.y,u,d=0;switch(e){case 98:o=r.y+543;case 121:switch(t.length){case 1:case 2:u=o%100,d=2;break;default:u=o%1e4,d=4;break}break;case 109:switch(t.length){case 1:case 2:u=r.m,d=t.length;break;case 3:return Dw[r.m-1][1];case 5:return Dw[r.m-1][0];default:return Dw[r.m-1][2]}break;case 100:switch(t.length){case 1:case 2:u=r.d,d=t.length;break;case 3:return Wk[r.q][0];default:return Wk[r.q][1]}break;case 104:switch(t.length){case 1:case 2:u=1+(r.H+11)%12,d=t.length;break;default:throw"bad hour format: "+t}break;case 72:switch(t.length){case 1:case 2:u=r.H,d=t.length;break;default:throw"bad hour format: "+t}break;case 77:switch(t.length){case 1:case 2:u=r.M,d=t.length;break;default:throw"bad minute format: "+t}break;case 115:if(t!="s"&&t!="ss"&&t!=".0"&&t!=".00"&&t!=".000")throw"bad second format: "+t;return r.u===0&&(t=="s"||t=="ss")?jc(r.S,t.length):(n>=2?l=n===3?1e3:100:l=n===1?10:1,s=Math.round(l*(r.S+r.u)),s>=60*l&&(s=0),t==="s"?s===0?"0":""+s/l:(a=jc(s,2+n),t==="ss"?a.substr(0,2):"."+a.substr(2,t.length-1)));case 90:switch(t){case"[h]":case"[hh]":u=r.D*24+r.H;break;case"[m]":case"[mm]":u=(r.D*24+r.H)*60+r.M;break;case"[s]":case"[ss]":u=((r.D*24+r.H)*60+r.M)*60+Math.round(r.S+r.u);break;default:throw"bad abstime format: "+t}d=t.length===3?1:2;break;case 101:u=o,d=1;break}var h=d>0?jc(u,d):"";return h}function _f(e){var t=3;if(e.length<=t)return e;for(var r=e.length%t,n=e.substr(0,r);r!=e.length;r+=t)n+=(n.length>0?",":"")+e.substr(r,t);return n}var gD=/%/g;function KW(e,t,r){var n=t.replace(gD,""),a=t.length-n.length;return od(e,n,r*Math.pow(10,2*a))+Ma("%",a)}function GW(e,t,r){for(var n=t.length-1;t.charCodeAt(n-1)===44;)--n;return od(e,t.substr(0,n),r/Math.pow(10,3*(t.length-n)))}function vD(e,t){var r,n=e.indexOf("E")-e.indexOf(".")-1;if(e.match(/^#+0.0E\+0$/)){if(t==0)return"0.0E+0";if(t<0)return"-"+vD(e,-t);var a=e.indexOf(".");a===-1&&(a=e.indexOf("E"));var s=Math.floor(Math.log(t)*Math.LOG10E)%a;if(s<0&&(s+=a),r=(t/Math.pow(10,s)).toPrecision(n+1+(a+s)%a),r.indexOf("e")===-1){var l=Math.floor(Math.log(t)*Math.LOG10E);for(r.indexOf(".")===-1?r=r.charAt(0)+"."+r.substr(1)+"E+"+(l-r.length+s):r+="E+"+(l-s);r.substr(0,2)==="0.";)r=r.charAt(0)+r.substr(2,a)+"."+r.substr(2+a),r=r.replace(/^0+([1-9])/,"$1").replace(/^0+\./,"0.");r=r.replace(/\+-/,"-")}r=r.replace(/^([+-]?)(\d*)\.(\d*)[Ee]/,function(o,u,d,h){return u+d+h.substr(0,(a+s)%a)+"."+h.substr(s)+"E"})}else r=t.toExponential(n);return e.match(/E\+00$/)&&r.match(/e[+-]\d$/)&&(r=r.substr(0,r.length-1)+"0"+r.charAt(r.length-1)),e.match(/E\-/)&&r.match(/e\+/)&&(r=r.replace(/e\+/,"e")),r.replace("e","E")}var yD=/# (\?+)( ?)\/( ?)(\d+)/;function YW(e,t,r){var n=parseInt(e[4],10),a=Math.round(t*n),s=Math.floor(a/n),l=a-s*n,o=n;return r+(s===0?"":""+s)+" "+(l===0?Ma(" ",e[1].length+1+e[4].length):tj(l,e[1].length)+e[2]+"/"+e[3]+jc(o,e[4].length))}function XW(e,t,r){return r+(t===0?"":""+t)+Ma(" ",e[1].length+2+e[4].length)}var bD=/^#*0*\.([0#]+)/,wD=/\).*[0#]/,ND=/\(###\) ###\\?-####/;function Yi(e){for(var t="",r,n=0;n!=e.length;++n)switch(r=e.charCodeAt(n)){case 35:break;case 63:t+=" ";break;case 48:t+="0";break;default:t+=String.fromCharCode(r)}return t}function Gk(e,t){var r=Math.pow(10,t);return""+Math.round(e*r)/r}function Yk(e,t){var r=e-Math.floor(e),n=Math.pow(10,t);return t<(""+Math.round(r*n)).length?0:Math.round(r*n)}function QW(e,t){return t<(""+Math.round((e-Math.floor(e))*Math.pow(10,t))).length?1:0}function ZW(e){return e<2147483647&&e>-2147483648?""+(e>=0?e|0:e-1|0):""+Math.floor(e)}function Oo(e,t,r){if(e.charCodeAt(0)===40&&!t.match(wD)){var n=t.replace(/\( */,"").replace(/ \)/,"").replace(/\)/,"");return r>=0?Oo("n",n,r):"("+Oo("n",n,-r)+")"}if(t.charCodeAt(t.length-1)===44)return GW(e,t,r);if(t.indexOf("%")!==-1)return KW(e,t,r);if(t.indexOf("E")!==-1)return vD(t,r);if(t.charCodeAt(0)===36)return"$"+Oo(e,t.substr(t.charAt(1)==" "?2:1),r);var a,s,l,o,u=Math.abs(r),d=r<0?"-":"";if(t.match(/^00+$/))return d+gm(u,t.length);if(t.match(/^[#?]+$/))return a=gm(r,0),a==="0"&&(a=""),a.length>t.length?a:Yi(t.substr(0,t.length-a.length))+a;if(s=t.match(yD))return YW(s,u,d);if(t.match(/^#+0+$/))return d+gm(u,t.length-t.indexOf("0"));if(s=t.match(bD))return a=Gk(r,s[1].length).replace(/^([^\.]+)$/,"$1."+Yi(s[1])).replace(/\.$/,"."+Yi(s[1])).replace(/\.(\d*)$/,function(b,v){return"."+v+Ma("0",Yi(s[1]).length-v.length)}),t.indexOf("0.")!==-1?a:a.replace(/^0\./,".");if(t=t.replace(/^#+([0.])/,"$1"),s=t.match(/^(0*)\.(#*)$/))return d+Gk(u,s[2].length).replace(/\.(\d*[1-9])0*$/,".$1").replace(/^(-?\d*)$/,"$1.").replace(/^0\./,s[1].length?"0.":".");if(s=t.match(/^#{1,3},##0(\.?)$/))return d+_f(gm(u,0));if(s=t.match(/^#,##0\.([#0]*0)$/))return r<0?"-"+Oo(e,t,-r):_f(""+(Math.floor(r)+QW(r,s[1].length)))+"."+jc(Yk(r,s[1].length),s[1].length);if(s=t.match(/^#,#*,#0/))return Oo(e,t.replace(/^#,#*,/,""),r);if(s=t.match(/^([0#]+)(\\?-([0#]+))+$/))return a=Lm(Oo(e,t.replace(/[\\-]/g,""),r)),l=0,Lm(Lm(t.replace(/\\/g,"")).replace(/[0#]/g,function(b){return l<a.length?a.charAt(l++):b==="0"?"0":""}));if(t.match(ND))return a=Oo(e,"##########",r),"("+a.substr(0,3)+") "+a.substr(3,3)+"-"+a.substr(6);var h="";if(s=t.match(/^([#0?]+)( ?)\/( ?)([#0?]+)/))return l=Math.min(s[4].length,7),o=iy(u,Math.pow(10,l)-1,!1),a=""+d,h=od("n",s[1],o[1]),h.charAt(h.length-1)==" "&&(h=h.substr(0,h.length-1)+"0"),a+=h+s[2]+"/"+s[3],h=ay(o[2],l),h.length<s[4].length&&(h=Yi(s[4].substr(s[4].length-h.length))+h),a+=h,a;if(s=t.match(/^# ([#0?]+)( ?)\/( ?)([#0?]+)/))return l=Math.min(Math.max(s[1].length,s[4].length),7),o=iy(u,Math.pow(10,l)-1,!0),d+(o[0]||(o[1]?"":"0"))+" "+(o[1]?tj(o[1],l)+s[2]+"/"+s[3]+ay(o[2],l):Ma(" ",2*l+1+s[2].length+s[3].length));if(s=t.match(/^[#0?]+$/))return a=gm(r,0),t.length<=a.length?a:Yi(t.substr(0,t.length-a.length))+a;if(s=t.match(/^([#0?]+)\.([#0]+)$/)){a=""+r.toFixed(Math.min(s[2].length,10)).replace(/([^0])0+$/,"$1"),l=a.indexOf(".");var m=t.indexOf(".")-l,g=t.length-a.length-m;return Yi(t.substr(0,m)+a+t.substr(t.length-g))}if(s=t.match(/^00,000\.([#0]*0)$/))return l=Yk(r,s[1].length),r<0?"-"+Oo(e,t,-r):_f(ZW(r)).replace(/^\d,\d{3}$/,"0$&").replace(/^\d*$/,function(b){return"00,"+(b.length<3?jc(0,3-b.length):"")+b})+"."+jc(l,s[1].length);switch(t){case"###,##0.00":return Oo(e,"#,##0.00",r);case"###,###":case"##,###":case"#,###":var x=_f(gm(u,0));return x!=="0"?d+x:"";case"###,###.00":return Oo(e,"###,##0.00",r).replace(/^0\./,".");case"#,###.00":return Oo(e,"#,##0.00",r).replace(/^0\./,".")}throw new Error("unsupported format |"+t+"|")}function JW(e,t,r){for(var n=t.length-1;t.charCodeAt(n-1)===44;)--n;return od(e,t.substr(0,n),r/Math.pow(10,3*(t.length-n)))}function eK(e,t,r){var n=t.replace(gD,""),a=t.length-n.length;return od(e,n,r*Math.pow(10,2*a))+Ma("%",a)}function _D(e,t){var r,n=e.indexOf("E")-e.indexOf(".")-1;if(e.match(/^#+0.0E\+0$/)){if(t==0)return"0.0E+0";if(t<0)return"-"+_D(e,-t);var a=e.indexOf(".");a===-1&&(a=e.indexOf("E"));var s=Math.floor(Math.log(t)*Math.LOG10E)%a;if(s<0&&(s+=a),r=(t/Math.pow(10,s)).toPrecision(n+1+(a+s)%a),!r.match(/[Ee]/)){var l=Math.floor(Math.log(t)*Math.LOG10E);r.indexOf(".")===-1?r=r.charAt(0)+"."+r.substr(1)+"E+"+(l-r.length+s):r+="E+"+(l-s),r=r.replace(/\+-/,"-")}r=r.replace(/^([+-]?)(\d*)\.(\d*)[Ee]/,function(o,u,d,h){return u+d+h.substr(0,(a+s)%a)+"."+h.substr(s)+"E"})}else r=t.toExponential(n);return e.match(/E\+00$/)&&r.match(/e[+-]\d$/)&&(r=r.substr(0,r.length-1)+"0"+r.charAt(r.length-1)),e.match(/E\-/)&&r.match(/e\+/)&&(r=r.replace(/e\+/,"e")),r.replace("e","E")}function iu(e,t,r){if(e.charCodeAt(0)===40&&!t.match(wD)){var n=t.replace(/\( */,"").replace(/ \)/,"").replace(/\)/,"");return r>=0?iu("n",n,r):"("+iu("n",n,-r)+")"}if(t.charCodeAt(t.length-1)===44)return JW(e,t,r);if(t.indexOf("%")!==-1)return eK(e,t,r);if(t.indexOf("E")!==-1)return _D(t,r);if(t.charCodeAt(0)===36)return"$"+iu(e,t.substr(t.charAt(1)==" "?2:1),r);var a,s,l,o,u=Math.abs(r),d=r<0?"-":"";if(t.match(/^00+$/))return d+jc(u,t.length);if(t.match(/^[#?]+$/))return a=""+r,r===0&&(a=""),a.length>t.length?a:Yi(t.substr(0,t.length-a.length))+a;if(s=t.match(yD))return XW(s,u,d);if(t.match(/^#+0+$/))return d+jc(u,t.length-t.indexOf("0"));if(s=t.match(bD))return a=(""+r).replace(/^([^\.]+)$/,"$1."+Yi(s[1])).replace(/\.$/,"."+Yi(s[1])),a=a.replace(/\.(\d*)$/,function(b,v){return"."+v+Ma("0",Yi(s[1]).length-v.length)}),t.indexOf("0.")!==-1?a:a.replace(/^0\./,".");if(t=t.replace(/^#+([0.])/,"$1"),s=t.match(/^(0*)\.(#*)$/))return d+(""+u).replace(/\.(\d*[1-9])0*$/,".$1").replace(/^(-?\d*)$/,"$1.").replace(/^0\./,s[1].length?"0.":".");if(s=t.match(/^#{1,3},##0(\.?)$/))return d+_f(""+u);if(s=t.match(/^#,##0\.([#0]*0)$/))return r<0?"-"+iu(e,t,-r):_f(""+r)+"."+Ma("0",s[1].length);if(s=t.match(/^#,#*,#0/))return iu(e,t.replace(/^#,#*,/,""),r);if(s=t.match(/^([0#]+)(\\?-([0#]+))+$/))return a=Lm(iu(e,t.replace(/[\\-]/g,""),r)),l=0,Lm(Lm(t.replace(/\\/g,"")).replace(/[0#]/g,function(b){return l<a.length?a.charAt(l++):b==="0"?"0":""}));if(t.match(ND))return a=iu(e,"##########",r),"("+a.substr(0,3)+") "+a.substr(3,3)+"-"+a.substr(6);var h="";if(s=t.match(/^([#0?]+)( ?)\/( ?)([#0?]+)/))return l=Math.min(s[4].length,7),o=iy(u,Math.pow(10,l)-1,!1),a=""+d,h=od("n",s[1],o[1]),h.charAt(h.length-1)==" "&&(h=h.substr(0,h.length-1)+"0"),a+=h+s[2]+"/"+s[3],h=ay(o[2],l),h.length<s[4].length&&(h=Yi(s[4].substr(s[4].length-h.length))+h),a+=h,a;if(s=t.match(/^# ([#0?]+)( ?)\/( ?)([#0?]+)/))return l=Math.min(Math.max(s[1].length,s[4].length),7),o=iy(u,Math.pow(10,l)-1,!0),d+(o[0]||(o[1]?"":"0"))+" "+(o[1]?tj(o[1],l)+s[2]+"/"+s[3]+ay(o[2],l):Ma(" ",2*l+1+s[2].length+s[3].length));if(s=t.match(/^[#0?]+$/))return a=""+r,t.length<=a.length?a:Yi(t.substr(0,t.length-a.length))+a;if(s=t.match(/^([#0]+)\.([#0]+)$/)){a=""+r.toFixed(Math.min(s[2].length,10)).replace(/([^0])0+$/,"$1"),l=a.indexOf(".");var m=t.indexOf(".")-l,g=t.length-a.length-m;return Yi(t.substr(0,m)+a+t.substr(t.length-g))}if(s=t.match(/^00,000\.([#0]*0)$/))return r<0?"-"+iu(e,t,-r):_f(""+r).replace(/^\d,\d{3}$/,"0$&").replace(/^\d*$/,function(b){return"00,"+(b.length<3?jc(0,3-b.length):"")+b})+"."+jc(0,s[1].length);switch(t){case"###,###":case"##,###":case"#,###":var x=_f(""+u);return x!=="0"?d+x:"";default:if(t.match(/\.[0#?]*$/))return iu(e,t.slice(0,t.lastIndexOf(".")),r)+Yi(t.slice(t.lastIndexOf(".")))}throw new Error("unsupported format |"+t+"|")}function od(e,t,r){return(r|0)===r?iu(e,t,r):Oo(e,t,r)}function tK(e){for(var t=[],r=!1,n=0,a=0;n<e.length;++n)switch(e.charCodeAt(n)){case 34:r=!r;break;case 95:case 42:case 92:++n;break;case 59:t[t.length]=e.substr(a,n-a),a=n+1}if(t[t.length]=e.substr(a),r===!0)throw new Error("Format |"+e+"| unterminated string ");return t}var jD=/\[[HhMmSs\u0E0A\u0E19\u0E17]*\]/;function up(e){for(var t=0,r="",n="";t<e.length;)switch(r=e.charAt(t)){case"G":sy(e,t)&&(t+=6),t++;break;case'"':for(;e.charCodeAt(++t)!==34&&t<e.length;);++t;break;case"\\":t+=2;break;case"_":t+=2;break;case"@":++t;break;case"B":case"b":if(e.charAt(t+1)==="1"||e.charAt(t+1)==="2")return!0;case"M":case"D":case"Y":case"H":case"S":case"E":case"m":case"d":case"y":case"h":case"s":case"e":case"g":return!0;case"A":case"a":case"":if(e.substr(t,3).toUpperCase()==="A/P"||e.substr(t,5).toUpperCase()==="AM/PM"||e.substr(t,5).toUpperCase()==="/")return!0;++t;break;case"[":for(n=r;e.charAt(t++)!=="]"&&t<e.length;)n+=e.charAt(t);if(n.match(jD))return!0;break;case".":case"0":case"#":for(;t<e.length&&("0#?.,E+-%".indexOf(r=e.charAt(++t))>-1||r=="\\"&&e.charAt(t+1)=="-"&&"0#".indexOf(e.charAt(t+2))>-1););break;case"?":for(;e.charAt(++t)===r;);break;case"*":++t,(e.charAt(t)==" "||e.charAt(t)=="*")&&++t;break;case"(":case")":++t;break;case"1":case"2":case"3":case"4":case"5":case"6":case"7":case"8":case"9":for(;t<e.length&&"0123456789".indexOf(e.charAt(++t))>-1;);break;case" ":++t;break;default:++t;break}return!1}function rK(e,t,r,n){for(var a=[],s="",l=0,o="",u="t",d,h,m,g="H";l<e.length;)switch(o=e.charAt(l)){case"G":if(!sy(e,l))throw new Error("unrecognized character "+o+" in "+e);a[a.length]={t:"G",v:"General"},l+=7;break;case'"':for(s="";(m=e.charCodeAt(++l))!==34&&l<e.length;)s+=String.fromCharCode(m);a[a.length]={t:"t",v:s},++l;break;case"\\":var x=e.charAt(++l),b=x==="("||x===")"?x:"t";a[a.length]={t:b,v:x},++l;break;case"_":a[a.length]={t:"t",v:" "},l+=2;break;case"@":a[a.length]={t:"T",v:t},++l;break;case"B":case"b":if(e.charAt(l+1)==="1"||e.charAt(l+1)==="2"){if(d==null&&(d=O0(t,r,e.charAt(l+1)==="2"),d==null))return"";a[a.length]={t:"X",v:e.substr(l,2)},u=o,l+=2;break}case"M":case"D":case"Y":case"H":case"S":case"E":o=o.toLowerCase();case"m":case"d":case"y":case"h":case"s":case"e":case"g":if(t<0||d==null&&(d=O0(t,r),d==null))return"";for(s=o;++l<e.length&&e.charAt(l).toLowerCase()===o;)s+=o;o==="m"&&u.toLowerCase()==="h"&&(o="M"),o==="h"&&(o=g),a[a.length]={t:o,v:s},u=o;break;case"A":case"a":case"":var v={t:o,v:o};if(d==null&&(d=O0(t,r)),e.substr(l,3).toUpperCase()==="A/P"?(d!=null&&(v.v=d.H>=12?"P":"A"),v.t="T",g="h",l+=3):e.substr(l,5).toUpperCase()==="AM/PM"?(d!=null&&(v.v=d.H>=12?"PM":"AM"),v.t="T",l+=5,g="h"):e.substr(l,5).toUpperCase()==="/"?(d!=null&&(v.v=d.H>=12?"":""),v.t="T",l+=5,g="h"):(v.t="t",++l),d==null&&v.t==="T")return"";a[a.length]=v,u=o;break;case"[":for(s=o;e.charAt(l++)!=="]"&&l<e.length;)s+=e.charAt(l);if(s.slice(-1)!=="]")throw'unterminated "[" block: |'+s+"|";if(s.match(jD)){if(d==null&&(d=O0(t,r),d==null))return"";a[a.length]={t:"Z",v:s.toLowerCase()},u=s.charAt(1)}else s.indexOf("$")>-1&&(s=(s.match(/\$([^-\[\]]*)/)||[])[1]||"$",up(e)||(a[a.length]={t:"t",v:s}));break;case".":if(d!=null){for(s=o;++l<e.length&&(o=e.charAt(l))==="0";)s+=o;a[a.length]={t:"s",v:s};break}case"0":case"#":for(s=o;++l<e.length&&"0#?.,E+-%".indexOf(o=e.charAt(l))>-1;)s+=o;a[a.length]={t:"n",v:s};break;case"?":for(s=o;e.charAt(++l)===o;)s+=o;a[a.length]={t:o,v:s},u=o;break;case"*":++l,(e.charAt(l)==" "||e.charAt(l)=="*")&&++l;break;case"(":case")":a[a.length]={t:n===1?"t":o,v:o},++l;break;case"1":case"2":case"3":case"4":case"5":case"6":case"7":case"8":case"9":for(s=o;l<e.length&&"0123456789".indexOf(e.charAt(++l))>-1;)s+=e.charAt(l);a[a.length]={t:"D",v:s};break;case" ":a[a.length]={t:o,v:o},++l;break;case"$":a[a.length]={t:"t",v:"$"},++l;break;default:if(",$-+/():!^&'~{}<>=acfijklopqrtuvwxzP".indexOf(o)===-1)throw new Error("unrecognized character "+o+" in "+e);a[a.length]={t:"t",v:o},++l;break}var w=0,N=0,E;for(l=a.length-1,u="t";l>=0;--l)switch(a[l].t){case"h":case"H":a[l].t=g,u="h",w<1&&(w=1);break;case"s":(E=a[l].v.match(/\.0+$/))&&(N=Math.max(N,E[0].length-1)),w<3&&(w=3);case"d":case"y":case"M":case"e":u=a[l].t;break;case"m":u==="s"&&(a[l].t="M",w<2&&(w=2));break;case"X":break;case"Z":w<1&&a[l].v.match(/[Hh]/)&&(w=1),w<2&&a[l].v.match(/[Mm]/)&&(w=2),w<3&&a[l].v.match(/[Ss]/)&&(w=3)}switch(w){case 0:break;case 1:d.u>=.5&&(d.u=0,++d.S),d.S>=60&&(d.S=0,++d.M),d.M>=60&&(d.M=0,++d.H);break;case 2:d.u>=.5&&(d.u=0,++d.S),d.S>=60&&(d.S=0,++d.M);break}var j="",T;for(l=0;l<a.length;++l)switch(a[l].t){case"t":case"T":case" ":case"D":break;case"X":a[l].v="",a[l].t=";";break;case"d":case"m":case"y":case"h":case"H":case"M":case"s":case"e":case"b":case"Z":a[l].v=WW(a[l].t.charCodeAt(0),a[l].v,d,N),a[l].t="t";break;case"n":case"?":for(T=l+1;a[T]!=null&&((o=a[T].t)==="?"||o==="D"||(o===" "||o==="t")&&a[T+1]!=null&&(a[T+1].t==="?"||a[T+1].t==="t"&&a[T+1].v==="/")||a[l].t==="("&&(o===" "||o==="n"||o===")")||o==="t"&&(a[T].v==="/"||a[T].v===" "&&a[T+1]!=null&&a[T+1].t=="?"));)a[l].v+=a[T].v,a[T]={v:"",t:";"},++T;j+=a[l].v,l=T-1;break;case"G":a[l].t="t",a[l].v=X0(t,r);break}var O="",D,C;if(j.length>0){j.charCodeAt(0)==40?(D=t<0&&j.charCodeAt(0)===45?-t:t,C=od("n",j,D)):(D=t<0&&n>1?-t:t,C=od("n",j,D),D<0&&a[0]&&a[0].t=="t"&&(C=C.substr(1),a[0].v="-"+a[0].v)),T=C.length-1;var P=a.length;for(l=0;l<a.length;++l)if(a[l]!=null&&a[l].t!="t"&&a[l].v.indexOf(".")>-1){P=l;break}var B=a.length;if(P===a.length&&C.indexOf("E")===-1){for(l=a.length-1;l>=0;--l)a[l]==null||"n?".indexOf(a[l].t)===-1||(T>=a[l].v.length-1?(T-=a[l].v.length,a[l].v=C.substr(T+1,a[l].v.length)):T<0?a[l].v="":(a[l].v=C.substr(0,T+1),T=-1),a[l].t="t",B=l);T>=0&&B<a.length&&(a[B].v=C.substr(0,T+1)+a[B].v)}else if(P!==a.length&&C.indexOf("E")===-1){for(T=C.indexOf(".")-1,l=P;l>=0;--l)if(!(a[l]==null||"n?".indexOf(a[l].t)===-1)){for(h=a[l].v.indexOf(".")>-1&&l===P?a[l].v.indexOf(".")-1:a[l].v.length-1,O=a[l].v.substr(h+1);h>=0;--h)T>=0&&(a[l].v.charAt(h)==="0"||a[l].v.charAt(h)==="#")&&(O=C.charAt(T--)+O);a[l].v=O,a[l].t="t",B=l}for(T>=0&&B<a.length&&(a[B].v=C.substr(0,T+1)+a[B].v),T=C.indexOf(".")+1,l=P;l<a.length;++l)if(!(a[l]==null||"n?(".indexOf(a[l].t)===-1&&l!==P)){for(h=a[l].v.indexOf(".")>-1&&l===P?a[l].v.indexOf(".")+1:0,O=a[l].v.substr(0,h);h<a[l].v.length;++h)T<C.length&&(O+=C.charAt(T++));a[l].v=O,a[l].t="t",B=l}}}for(l=0;l<a.length;++l)a[l]!=null&&"n?".indexOf(a[l].t)>-1&&(D=n>1&&t<0&&l>0&&a[l-1].v==="-"?-t:t,a[l].v=od(a[l].t,a[l].v,D),a[l].t="t");var H="";for(l=0;l!==a.length;++l)a[l]!=null&&(H+=a[l].v);return H}var Xk=/\[(=|>[=]?|<[>=]?)(-?\d+(?:\.\d*)?)\]/;function Qk(e,t){if(t==null)return!1;var r=parseFloat(t[2]);switch(t[1]){case"=":if(e==r)return!0;break;case">":if(e>r)return!0;break;case"<":if(e<r)return!0;break;case"<>":if(e!=r)return!0;break;case">=":if(e>=r)return!0;break;case"<=":if(e<=r)return!0;break}return!1}function nK(e,t){var r=tK(e),n=r.length,a=r[n-1].indexOf("@");if(n<4&&a>-1&&--n,r.length>4)throw new Error("cannot find right format for |"+r.join("|")+"|");if(typeof t!="number")return[4,r.length===4||a>-1?r[r.length-1]:"@"];switch(r.length){case 1:r=a>-1?["General","General","General",r[0]]:[r[0],r[0],r[0],"@"];break;case 2:r=a>-1?[r[0],r[0],r[0],r[1]]:[r[0],r[1],r[0],"@"];break;case 3:r=a>-1?[r[0],r[1],r[0],r[2]]:[r[0],r[1],r[2],"@"];break}var s=t>0?r[0]:t<0?r[1]:r[2];if(r[0].indexOf("[")===-1&&r[1].indexOf("[")===-1)return[n,s];if(r[0].match(/\[[=<>]/)!=null||r[1].match(/\[[=<>]/)!=null){var l=r[0].match(Xk),o=r[1].match(Xk);return Qk(t,l)?[n,r[0]]:Qk(t,o)?[n,r[1]]:[n,r[l!=null&&o!=null?2:1]]}return[n,s]}function $o(e,t,r){r==null&&(r={});var n="";switch(typeof e){case"string":e=="m/d/yy"&&r.dateNF?n=r.dateNF:n=e;break;case"number":e==14&&r.dateNF?n=r.dateNF:n=(r.table!=null?r.table:ur)[e],n==null&&(n=r.table&&r.table[Kk[e]]||ur[Kk[e]]),n==null&&(n=BW[e]||"General");break}if(sy(n,0))return X0(t,r);t instanceof Date&&(t=xD(t,r.date1904));var a=nK(n,t);if(sy(a[1]))return X0(t,r);if(t===!0)t="TRUE";else if(t===!1)t="FALSE";else if(t===""||t==null)return"";return rK(a[1],t,r,a[0])}function cd(e,t){if(typeof t!="number"){t=+t||-1;for(var r=0;r<392;++r){if(ur[r]==null){t<0&&(t=r);continue}if(ur[r]==e){t=r;break}}t<0&&(t=391)}return ur[t]=e,t}function p2(e){for(var t=0;t!=392;++t)e[t]!==void 0&&cd(e[t],t)}function dp(){ur=IW()}var aK={5:'"$"#,##0_);\\("$"#,##0\\)',6:'"$"#,##0_);[Red]\\("$"#,##0\\)',7:'"$"#,##0.00_);\\("$"#,##0.00\\)',8:'"$"#,##0.00_);[Red]\\("$"#,##0.00\\)',23:"General",24:"General",25:"General",26:"General",27:"m/d/yy",28:"m/d/yy",29:"m/d/yy",30:"m/d/yy",31:"m/d/yy",32:"h:mm:ss",33:"h:mm:ss",34:"h:mm:ss",35:"h:mm:ss",36:"m/d/yy",41:'_(* #,##0_);_(* (#,##0);_(* "-"_);_(@_)',42:'_("$"* #,##0_);_("$"* (#,##0);_("$"* "-"_);_(@_)',43:'_(* #,##0.00_);_(* (#,##0.00);_(* "-"??_);_(@_)',44:'_("$"* #,##0.00_);_("$"* (#,##0.00);_("$"* "-"??_);_(@_)',50:"m/d/yy",51:"m/d/yy",52:"m/d/yy",53:"m/d/yy",54:"m/d/yy",55:"m/d/yy",56:"m/d/yy",57:"m/d/yy",58:"m/d/yy",59:"0",60:"0.00",61:"#,##0",62:"#,##0.00",63:'"$"#,##0_);\\("$"#,##0\\)',64:'"$"#,##0_);[Red]\\("$"#,##0\\)',65:'"$"#,##0.00_);\\("$"#,##0.00\\)',66:'"$"#,##0.00_);[Red]\\("$"#,##0.00\\)',67:"0%",68:"0.00%",69:"# ?/?",70:"# ??/??",71:"m/d/yy",72:"m/d/yy",73:"d-mmm-yy",74:"d-mmm",75:"mmm-yy",76:"h:mm",77:"h:mm:ss",78:"m/d/yy h:mm",79:"mm:ss",80:"[h]:mm:ss",81:"mmss.0"},SD=/[dD]+|[mM]+|[yYeE]+|[Hh]+|[Ss]+/g;function sK(e){var t=typeof e=="number"?ur[e]:e;return t=t.replace(SD,"(\\d+)"),new RegExp("^"+t+"$")}function iK(e,t,r){var n=-1,a=-1,s=-1,l=-1,o=-1,u=-1;(t.match(SD)||[]).forEach(function(m,g){var x=parseInt(r[g+1],10);switch(m.toLowerCase().charAt(0)){case"y":n=x;break;case"d":s=x;break;case"h":l=x;break;case"s":u=x;break;case"m":l>=0?o=x:a=x;break}}),u>=0&&o==-1&&a>=0&&(o=a,a=-1);var d=(""+(n>=0?n:new Date().getFullYear())).slice(-4)+"-"+("00"+(a>=1?a:1)).slice(-2)+"-"+("00"+(s>=1?s:1)).slice(-2);d.length==7&&(d="0"+d),d.length==8&&(d="20"+d);var h=("00"+(l>=0?l:0)).slice(-2)+":"+("00"+(o>=0?o:0)).slice(-2)+":"+("00"+(u>=0?u:0)).slice(-2);return l==-1&&o==-1&&u==-1?d:n==-1&&a==-1&&s==-1?h:d+"T"+h}var lK=(function(){var e={};e.version="1.2.0";function t(){for(var C=0,P=new Array(256),B=0;B!=256;++B)C=B,C=C&1?-306674912^C>>>1:C>>>1,C=C&1?-306674912^C>>>1:C>>>1,C=C&1?-306674912^C>>>1:C>>>1,C=C&1?-306674912^C>>>1:C>>>1,C=C&1?-306674912^C>>>1:C>>>1,C=C&1?-306674912^C>>>1:C>>>1,C=C&1?-306674912^C>>>1:C>>>1,C=C&1?-306674912^C>>>1:C>>>1,P[B]=C;return typeof Int32Array<"u"?new Int32Array(P):P}var r=t();function n(C){var P=0,B=0,H=0,L=typeof Int32Array<"u"?new Int32Array(4096):new Array(4096);for(H=0;H!=256;++H)L[H]=C[H];for(H=0;H!=256;++H)for(B=C[H],P=256+H;P<4096;P+=256)B=L[P]=B>>>8^C[B&255];var U=[];for(H=1;H!=16;++H)U[H-1]=typeof Int32Array<"u"?L.subarray(H*256,H*256+256):L.slice(H*256,H*256+256);return U}var a=n(r),s=a[0],l=a[1],o=a[2],u=a[3],d=a[4],h=a[5],m=a[6],g=a[7],x=a[8],b=a[9],v=a[10],w=a[11],N=a[12],E=a[13],j=a[14];function T(C,P){for(var B=P^-1,H=0,L=C.length;H<L;)B=B>>>8^r[(B^C.charCodeAt(H++))&255];return~B}function O(C,P){for(var B=P^-1,H=C.length-15,L=0;L<H;)B=j[C[L++]^B&255]^E[C[L++]^B>>8&255]^N[C[L++]^B>>16&255]^w[C[L++]^B>>>24]^v[C[L++]]^b[C[L++]]^x[C[L++]]^g[C[L++]]^m[C[L++]]^h[C[L++]]^d[C[L++]]^u[C[L++]]^o[C[L++]]^l[C[L++]]^s[C[L++]]^r[C[L++]];for(H+=15;L<H;)B=B>>>8^r[(B^C[L++])&255];return~B}function D(C,P){for(var B=P^-1,H=0,L=C.length,U=0,V=0;H<L;)U=C.charCodeAt(H++),U<128?B=B>>>8^r[(B^U)&255]:U<2048?(B=B>>>8^r[(B^(192|U>>6&31))&255],B=B>>>8^r[(B^(128|U&63))&255]):U>=55296&&U<57344?(U=(U&1023)+64,V=C.charCodeAt(H++)&1023,B=B>>>8^r[(B^(240|U>>8&7))&255],B=B>>>8^r[(B^(128|U>>2&63))&255],B=B>>>8^r[(B^(128|V>>6&15|(U&3)<<4))&255],B=B>>>8^r[(B^(128|V&63))&255]):(B=B>>>8^r[(B^(224|U>>12&15))&255],B=B>>>8^r[(B^(128|U>>6&63))&255],B=B>>>8^r[(B^(128|U&63))&255]);return~B}return e.table=r,e.bstr=T,e.buf=O,e.str=D,e})(),ar=(function(){var t={};t.version="1.2.1";function r(ae,Ne){for(var he=ae.split("/"),me=Ne.split("/"),ve=0,je=0,Re=Math.min(he.length,me.length);ve<Re;++ve){if(je=he[ve].length-me[ve].length)return je;if(he[ve]!=me[ve])return he[ve]<me[ve]?-1:1}return he.length-me.length}function n(ae){if(ae.charAt(ae.length-1)=="/")return ae.slice(0,-1).indexOf("/")===-1?ae:n(ae.slice(0,-1));var Ne=ae.lastIndexOf("/");return Ne===-1?ae:ae.slice(0,Ne+1)}function a(ae){if(ae.charAt(ae.length-1)=="/")return a(ae.slice(0,-1));var Ne=ae.lastIndexOf("/");return Ne===-1?ae:ae.slice(Ne+1)}function s(ae,Ne){typeof Ne=="string"&&(Ne=new Date(Ne));var he=Ne.getHours();he=he<<6|Ne.getMinutes(),he=he<<5|Ne.getSeconds()>>>1,ae.write_shift(2,he);var me=Ne.getFullYear()-1980;me=me<<4|Ne.getMonth()+1,me=me<<5|Ne.getDate(),ae.write_shift(2,me)}function l(ae){var Ne=ae.read_shift(2)&65535,he=ae.read_shift(2)&65535,me=new Date,ve=he&31;he>>>=5;var je=he&15;he>>>=4,me.setMilliseconds(0),me.setFullYear(he+1980),me.setMonth(je-1),me.setDate(ve);var Re=Ne&31;Ne>>>=5;var Ze=Ne&63;return Ne>>>=6,me.setHours(Ne),me.setMinutes(Ze),me.setSeconds(Re<<1),me}function o(ae){ci(ae,0);for(var Ne={},he=0;ae.l<=ae.length-4;){var me=ae.read_shift(2),ve=ae.read_shift(2),je=ae.l+ve,Re={};switch(me){case 21589:he=ae.read_shift(1),he&1&&(Re.mtime=ae.read_shift(4)),ve>5&&(he&2&&(Re.atime=ae.read_shift(4)),he&4&&(Re.ctime=ae.read_shift(4))),Re.mtime&&(Re.mt=new Date(Re.mtime*1e3));break}ae.l=je,Ne[me]=Re}return Ne}var u;function d(){return u||(u={})}function h(ae,Ne){if(ae[0]==80&&ae[1]==75)return gn(ae,Ne);if((ae[0]|32)==109&&(ae[1]|32)==105)return Xt(ae,Ne);if(ae.length<512)throw new Error("CFB file size "+ae.length+" < 512");var he=3,me=512,ve=0,je=0,Re=0,Ze=0,Ue=0,ze=[],He=ae.slice(0,512);ci(He,0);var pt=m(He);switch(he=pt[0],he){case 3:me=512;break;case 4:me=4096;break;case 0:if(pt[1]==0)return gn(ae,Ne);default:throw new Error("Major Version: Expected 3 or 4 saw "+he)}me!==512&&(He=ae.slice(0,me),ci(He,28));var bt=ae.slice(0,me);g(He,he);var At=He.read_shift(4,"i");if(he===3&&At!==0)throw new Error("# Directory Sectors: Expected 0 saw "+At);He.l+=4,Re=He.read_shift(4,"i"),He.l+=4,He.chk("00100000","Mini Stream Cutoff Size: "),Ze=He.read_shift(4,"i"),ve=He.read_shift(4,"i"),Ue=He.read_shift(4,"i"),je=He.read_shift(4,"i");for(var vt=-1,_t=0;_t<109&&(vt=He.read_shift(4,"i"),!(vt<0));++_t)ze[_t]=vt;var Lt=x(ae,me);w(Ue,je,Lt,me,ze);var un=E(Lt,Re,ze,me);un[Re].name="!Directory",ve>0&&Ze!==V&&(un[Ze].name="!MiniFAT"),un[ze[0]].name="!FAT",un.fat_addrs=ze,un.ssz=me;var Tr={},mn=[],Qs=[],Dl=[];j(Re,un,Lt,mn,ve,Tr,Qs,Ze),b(Qs,Dl,mn),mn.shift();var Pl={FileIndex:Qs,FullPaths:Dl};return Ne&&Ne.raw&&(Pl.raw={header:bt,sectors:Lt}),Pl}function m(ae){if(ae[ae.l]==80&&ae[ae.l+1]==75)return[0,0];ae.chk(Y,"Header Signature: "),ae.l+=16;var Ne=ae.read_shift(2,"u");return[ae.read_shift(2,"u"),Ne]}function g(ae,Ne){var he=9;switch(ae.l+=2,he=ae.read_shift(2)){case 9:if(Ne!=3)throw new Error("Sector Shift: Expected 9 saw "+he);break;case 12:if(Ne!=4)throw new Error("Sector Shift: Expected 12 saw "+he);break;default:throw new Error("Sector Shift: Expected 9 or 12 saw "+he)}ae.chk("0600","Mini Sector Shift: "),ae.chk("000000000000","Reserved: ")}function x(ae,Ne){for(var he=Math.ceil(ae.length/Ne)-1,me=[],ve=1;ve<he;++ve)me[ve-1]=ae.slice(ve*Ne,(ve+1)*Ne);return me[he-1]=ae.slice(he*Ne),me}function b(ae,Ne,he){for(var me=0,ve=0,je=0,Re=0,Ze=0,Ue=he.length,ze=[],He=[];me<Ue;++me)ze[me]=He[me]=me,Ne[me]=he[me];for(;Ze<He.length;++Ze)me=He[Ze],ve=ae[me].L,je=ae[me].R,Re=ae[me].C,ze[me]===me&&(ve!==-1&&ze[ve]!==ve&&(ze[me]=ze[ve]),je!==-1&&ze[je]!==je&&(ze[me]=ze[je])),Re!==-1&&(ze[Re]=me),ve!==-1&&me!=ze[me]&&(ze[ve]=ze[me],He.lastIndexOf(ve)<Ze&&He.push(ve)),je!==-1&&me!=ze[me]&&(ze[je]=ze[me],He.lastIndexOf(je)<Ze&&He.push(je));for(me=1;me<Ue;++me)ze[me]===me&&(je!==-1&&ze[je]!==je?ze[me]=ze[je]:ve!==-1&&ze[ve]!==ve&&(ze[me]=ze[ve]));for(me=1;me<Ue;++me)if(ae[me].type!==0){if(Ze=me,Ze!=ze[Ze])do Ze=ze[Ze],Ne[me]=Ne[Ze]+"/"+Ne[me];while(Ze!==0&&ze[Ze]!==-1&&Ze!=ze[Ze]);ze[me]=-1}for(Ne[0]+="/",me=1;me<Ue;++me)ae[me].type!==2&&(Ne[me]+="/")}function v(ae,Ne,he){for(var me=ae.start,ve=ae.size,je=[],Re=me;he&&ve>0&&Re>=0;)je.push(Ne.slice(Re*U,Re*U+U)),ve-=U,Re=E0(he,Re*4);return je.length===0?nt(0):Vs(je).slice(0,ae.size)}function w(ae,Ne,he,me,ve){var je=V;if(ae===V){if(Ne!==0)throw new Error("DIFAT chain shorter than expected")}else if(ae!==-1){var Re=he[ae],Ze=(me>>>2)-1;if(!Re)return;for(var Ue=0;Ue<Ze&&(je=E0(Re,Ue*4))!==V;++Ue)ve.push(je);w(E0(Re,me-4),Ne-1,he,me,ve)}}function N(ae,Ne,he,me,ve){var je=[],Re=[];ve||(ve=[]);var Ze=me-1,Ue=0,ze=0;for(Ue=Ne;Ue>=0;){ve[Ue]=!0,je[je.length]=Ue,Re.push(ae[Ue]);var He=he[Math.floor(Ue*4/me)];if(ze=Ue*4&Ze,me<4+ze)throw new Error("FAT boundary crossed: "+Ue+" 4 "+me);if(!ae[He])break;Ue=E0(ae[He],ze)}return{nodes:je,data:cE([Re])}}function E(ae,Ne,he,me){var ve=ae.length,je=[],Re=[],Ze=[],Ue=[],ze=me-1,He=0,pt=0,bt=0,At=0;for(He=0;He<ve;++He)if(Ze=[],bt=He+Ne,bt>=ve&&(bt-=ve),!Re[bt]){Ue=[];var vt=[];for(pt=bt;pt>=0;){vt[pt]=!0,Re[pt]=!0,Ze[Ze.length]=pt,Ue.push(ae[pt]);var _t=he[Math.floor(pt*4/me)];if(At=pt*4&ze,me<4+At)throw new Error("FAT boundary crossed: "+pt+" 4 "+me);if(!ae[_t]||(pt=E0(ae[_t],At),vt[pt]))break}je[bt]={nodes:Ze,data:cE([Ue])}}return je}function j(ae,Ne,he,me,ve,je,Re,Ze){for(var Ue=0,ze=me.length?2:0,He=Ne[ae].data,pt=0,bt=0,At;pt<He.length;pt+=128){var vt=He.slice(pt,pt+128);ci(vt,64),bt=vt.read_shift(2),At=cj(vt,0,bt-ze),me.push(At);var _t={name:At,type:vt.read_shift(1),color:vt.read_shift(1),L:vt.read_shift(4,"i"),R:vt.read_shift(4,"i"),C:vt.read_shift(4,"i"),clsid:vt.read_shift(16),state:vt.read_shift(4,"i"),start:0,size:0},Lt=vt.read_shift(2)+vt.read_shift(2)+vt.read_shift(2)+vt.read_shift(2);Lt!==0&&(_t.ct=T(vt,vt.l-8));var un=vt.read_shift(2)+vt.read_shift(2)+vt.read_shift(2)+vt.read_shift(2);un!==0&&(_t.mt=T(vt,vt.l-8)),_t.start=vt.read_shift(4,"i"),_t.size=vt.read_shift(4,"i"),_t.size<0&&_t.start<0&&(_t.size=_t.type=0,_t.start=V,_t.name=""),_t.type===5?(Ue=_t.start,ve>0&&Ue!==V&&(Ne[Ue].name="!StreamData")):_t.size>=4096?(_t.storage="fat",Ne[_t.start]===void 0&&(Ne[_t.start]=N(he,_t.start,Ne.fat_addrs,Ne.ssz)),Ne[_t.start].name=_t.name,_t.content=Ne[_t.start].data.slice(0,_t.size)):(_t.storage="minifat",_t.size<0?_t.size=0:Ue!==V&&_t.start!==V&&Ne[Ue]&&(_t.content=v(_t,Ne[Ue].data,(Ne[Ze]||{}).data))),_t.content&&ci(_t.content,0),je[At]=_t,Re.push(_t)}}function T(ae,Ne){return new Date((Xl(ae,Ne+4)/1e7*Math.pow(2,32)+Xl(ae,Ne)/1e7-11644473600)*1e3)}function O(ae,Ne){return d(),h(u.readFileSync(ae),Ne)}function D(ae,Ne){var he=Ne&&Ne.type;switch(he||Or&&Buffer.isBuffer(ae)&&(he="buffer"),he||"base64"){case"file":return O(ae,Ne);case"base64":return h(Zl(no(ae)),Ne);case"binary":return h(Zl(ae),Ne)}return h(ae,Ne)}function C(ae,Ne){var he=Ne||{},me=he.root||"Root Entry";if(ae.FullPaths||(ae.FullPaths=[]),ae.FileIndex||(ae.FileIndex=[]),ae.FullPaths.length!==ae.FileIndex.length)throw new Error("inconsistent CFB structure");ae.FullPaths.length===0&&(ae.FullPaths[0]=me+"/",ae.FileIndex[0]={name:me,type:5}),he.CLSID&&(ae.FileIndex[0].clsid=he.CLSID),P(ae)}function P(ae){var Ne="Sh33tJ5";if(!ar.find(ae,"/"+Ne)){var he=nt(4);he[0]=55,he[1]=he[3]=50,he[2]=54,ae.FileIndex.push({name:Ne,type:2,content:he,size:4,L:69,R:69,C:69}),ae.FullPaths.push(ae.FullPaths[0]+Ne),B(ae)}}function B(ae,Ne){C(ae);for(var he=!1,me=!1,ve=ae.FullPaths.length-1;ve>=0;--ve){var je=ae.FileIndex[ve];switch(je.type){case 0:me?he=!0:(ae.FileIndex.pop(),ae.FullPaths.pop());break;case 1:case 2:case 5:me=!0,isNaN(je.R*je.L*je.C)&&(he=!0),je.R>-1&&je.L>-1&&je.R==je.L&&(he=!0);break;default:he=!0;break}}if(!(!he&&!Ne)){var Re=new Date(1987,1,19),Ze=0,Ue=Object.create?Object.create(null):{},ze=[];for(ve=0;ve<ae.FullPaths.length;++ve)Ue[ae.FullPaths[ve]]=!0,ae.FileIndex[ve].type!==0&&ze.push([ae.FullPaths[ve],ae.FileIndex[ve]]);for(ve=0;ve<ze.length;++ve){var He=n(ze[ve][0]);me=Ue[He],me||(ze.push([He,{name:a(He).replace("/",""),type:1,clsid:te,ct:Re,mt:Re,content:null}]),Ue[He]=!0)}for(ze.sort(function(At,vt){return r(At[0],vt[0])}),ae.FullPaths=[],ae.FileIndex=[],ve=0;ve<ze.length;++ve)ae.FullPaths[ve]=ze[ve][0],ae.FileIndex[ve]=ze[ve][1];for(ve=0;ve<ze.length;++ve){var pt=ae.FileIndex[ve],bt=ae.FullPaths[ve];if(pt.name=a(bt).replace("/",""),pt.L=pt.R=pt.C=-(pt.color=1),pt.size=pt.content?pt.content.length:0,pt.start=0,pt.clsid=pt.clsid||te,ve===0)pt.C=ze.length>1?1:-1,pt.size=0,pt.type=5;else if(bt.slice(-1)=="/"){for(Ze=ve+1;Ze<ze.length&&n(ae.FullPaths[Ze])!=bt;++Ze);for(pt.C=Ze>=ze.length?-1:Ze,Ze=ve+1;Ze<ze.length&&n(ae.FullPaths[Ze])!=n(bt);++Ze);pt.R=Ze>=ze.length?-1:Ze,pt.type=1}else n(ae.FullPaths[ve+1]||"")==n(bt)&&(pt.R=ve+1),pt.type=2}}}function H(ae,Ne){var he=Ne||{};if(he.fileType=="mad")return Fl(ae,he);switch(B(ae),he.fileType){case"zip":return Wr(ae,he)}var me=(function(At){for(var vt=0,_t=0,Lt=0;Lt<At.FileIndex.length;++Lt){var un=At.FileIndex[Lt];if(un.content){var Tr=un.content.length;Tr>0&&(Tr<4096?vt+=Tr+63>>6:_t+=Tr+511>>9)}}for(var mn=At.FullPaths.length+3>>2,Qs=vt+7>>3,Dl=vt+127>>7,Pl=Qs+_t+mn+Dl,Bi=Pl+127>>7,Ic=Bi<=109?0:Math.ceil((Bi-109)/127);Pl+Bi+Ic+127>>7>Bi;)Ic=++Bi<=109?0:Math.ceil((Bi-109)/127);var qa=[1,Ic,Bi,Dl,mn,_t,vt,0];return At.FileIndex[0].size=vt<<6,qa[7]=(At.FileIndex[0].start=qa[0]+qa[1]+qa[2]+qa[3]+qa[4]+qa[5])+(qa[6]+7>>3),qa})(ae),ve=nt(me[7]<<9),je=0,Re=0;{for(je=0;je<8;++je)ve.write_shift(1,de[je]);for(je=0;je<8;++je)ve.write_shift(2,0);for(ve.write_shift(2,62),ve.write_shift(2,3),ve.write_shift(2,65534),ve.write_shift(2,9),ve.write_shift(2,6),je=0;je<3;++je)ve.write_shift(2,0);for(ve.write_shift(4,0),ve.write_shift(4,me[2]),ve.write_shift(4,me[0]+me[1]+me[2]+me[3]-1),ve.write_shift(4,0),ve.write_shift(4,4096),ve.write_shift(4,me[3]?me[0]+me[1]+me[2]-1:V),ve.write_shift(4,me[3]),ve.write_shift(-4,me[1]?me[0]-1:V),ve.write_shift(4,me[1]),je=0;je<109;++je)ve.write_shift(-4,je<me[2]?me[1]+je:-1)}if(me[1])for(Re=0;Re<me[1];++Re){for(;je<236+Re*127;++je)ve.write_shift(-4,je<me[2]?me[1]+je:-1);ve.write_shift(-4,Re===me[1]-1?V:Re+1)}var Ze=function(At){for(Re+=At;je<Re-1;++je)ve.write_shift(-4,je+1);At&&(++je,ve.write_shift(-4,V))};for(Re=je=0,Re+=me[1];je<Re;++je)ve.write_shift(-4,ie.DIFSECT);for(Re+=me[2];je<Re;++je)ve.write_shift(-4,ie.FATSECT);Ze(me[3]),Ze(me[4]);for(var Ue=0,ze=0,He=ae.FileIndex[0];Ue<ae.FileIndex.length;++Ue)He=ae.FileIndex[Ue],He.content&&(ze=He.content.length,!(ze<4096)&&(He.start=Re,Ze(ze+511>>9)));for(Ze(me[6]+7>>3);ve.l&511;)ve.write_shift(-4,ie.ENDOFCHAIN);for(Re=je=0,Ue=0;Ue<ae.FileIndex.length;++Ue)He=ae.FileIndex[Ue],He.content&&(ze=He.content.length,!(!ze||ze>=4096)&&(He.start=Re,Ze(ze+63>>6)));for(;ve.l&511;)ve.write_shift(-4,ie.ENDOFCHAIN);for(je=0;je<me[4]<<2;++je){var pt=ae.FullPaths[je];if(!pt||pt.length===0){for(Ue=0;Ue<17;++Ue)ve.write_shift(4,0);for(Ue=0;Ue<3;++Ue)ve.write_shift(4,-1);for(Ue=0;Ue<12;++Ue)ve.write_shift(4,0);continue}He=ae.FileIndex[je],je===0&&(He.start=He.size?He.start-1:V);var bt=je===0&&he.root||He.name;if(ze=2*(bt.length+1),ve.write_shift(64,bt,"utf16le"),ve.write_shift(2,ze),ve.write_shift(1,He.type),ve.write_shift(1,He.color),ve.write_shift(-4,He.L),ve.write_shift(-4,He.R),ve.write_shift(-4,He.C),He.clsid)ve.write_shift(16,He.clsid,"hex");else for(Ue=0;Ue<4;++Ue)ve.write_shift(4,0);ve.write_shift(4,He.state||0),ve.write_shift(4,0),ve.write_shift(4,0),ve.write_shift(4,0),ve.write_shift(4,0),ve.write_shift(4,He.start),ve.write_shift(4,He.size),ve.write_shift(4,0)}for(je=1;je<ae.FileIndex.length;++je)if(He=ae.FileIndex[je],He.size>=4096)if(ve.l=He.start+1<<9,Or&&Buffer.isBuffer(He.content))He.content.copy(ve,ve.l,0,He.size),ve.l+=He.size+511&-512;else{for(Ue=0;Ue<He.size;++Ue)ve.write_shift(1,He.content[Ue]);for(;Ue&511;++Ue)ve.write_shift(1,0)}for(je=1;je<ae.FileIndex.length;++je)if(He=ae.FileIndex[je],He.size>0&&He.size<4096)if(Or&&Buffer.isBuffer(He.content))He.content.copy(ve,ve.l,0,He.size),ve.l+=He.size+63&-64;else{for(Ue=0;Ue<He.size;++Ue)ve.write_shift(1,He.content[Ue]);for(;Ue&63;++Ue)ve.write_shift(1,0)}if(Or)ve.l=ve.length;else for(;ve.l<ve.length;)ve.write_shift(1,0);return ve}function L(ae,Ne){var he=ae.FullPaths.map(function(Ue){return Ue.toUpperCase()}),me=he.map(function(Ue){var ze=Ue.split("/");return ze[ze.length-(Ue.slice(-1)=="/"?2:1)]}),ve=!1;Ne.charCodeAt(0)===47?(ve=!0,Ne=he[0].slice(0,-1)+Ne):ve=Ne.indexOf("/")!==-1;var je=Ne.toUpperCase(),Re=ve===!0?he.indexOf(je):me.indexOf(je);if(Re!==-1)return ae.FileIndex[Re];var Ze=!je.match(jx);for(je=je.replace(rl,""),Ze&&(je=je.replace(jx,"!")),Re=0;Re<he.length;++Re)if((Ze?he[Re].replace(jx,"!"):he[Re]).replace(rl,"")==je||(Ze?me[Re].replace(jx,"!"):me[Re]).replace(rl,"")==je)return ae.FileIndex[Re];return null}var U=64,V=-2,Y="d0cf11e0a1b11ae1",de=[208,207,17,224,161,177,26,225],te="00000000000000000000000000000000",ie={MAXREGSECT:-6,DIFSECT:-4,FATSECT:-3,ENDOFCHAIN:V,FREESECT:-1,HEADER_SIGNATURE:Y,HEADER_MINOR_VERSION:"3e00",MAXREGSID:-6,NOSTREAM:-1,HEADER_CLSID:te,EntryTypes:["unknown","storage","stream","lockbytes","property","root"]};function ge(ae,Ne,he){d();var me=H(ae,he);u.writeFileSync(Ne,me)}function oe(ae){for(var Ne=new Array(ae.length),he=0;he<ae.length;++he)Ne[he]=String.fromCharCode(ae[he]);return Ne.join("")}function Se(ae,Ne){var he=H(ae,Ne);switch(Ne&&Ne.type||"buffer"){case"file":return d(),u.writeFileSync(Ne.filename,he),he;case"binary":return typeof he=="string"?he:oe(he);case"base64":return Xx(typeof he=="string"?he:oe(he));case"buffer":if(Or)return Buffer.isBuffer(he)?he:Sd(he);case"array":return typeof he=="string"?Zl(he):he}return he}var ne;function M(ae){try{var Ne=ae.InflateRaw,he=new Ne;if(he._processChunk(new Uint8Array([3,0]),he._finishFlushFlag),he.bytesRead)ne=ae;else throw new Error("zlib does not expose bytesRead")}catch(me){console.error("cannot use native zlib: "+(me.message||me))}}function R(ae,Ne){if(!ne)return kr(ae,Ne);var he=ne.InflateRaw,me=new he,ve=me._processChunk(ae.slice(ae.l),me._finishFlushFlag);return ae.l+=me.bytesRead,ve}function q(ae){return ne?ne.deflateRawSync(ae):wt(ae)}var K=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15],ee=[3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258],ce=[1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577];function Q(ae){var Ne=(ae<<1|ae<<11)&139536|(ae<<5|ae<<15)&558144;return(Ne>>16|Ne>>8|Ne)&255}for(var re=typeof Uint8Array<"u",ye=re?new Uint8Array(256):[],Ee=0;Ee<256;++Ee)ye[Ee]=Q(Ee);function X(ae,Ne){var he=ye[ae&255];return Ne<=8?he>>>8-Ne:(he=he<<8|ye[ae>>8&255],Ne<=16?he>>>16-Ne:(he=he<<8|ye[ae>>16&255],he>>>24-Ne))}function Je(ae,Ne){var he=Ne&7,me=Ne>>>3;return(ae[me]|(he<=6?0:ae[me+1]<<8))>>>he&3}function Ce(ae,Ne){var he=Ne&7,me=Ne>>>3;return(ae[me]|(he<=5?0:ae[me+1]<<8))>>>he&7}function xe(ae,Ne){var he=Ne&7,me=Ne>>>3;return(ae[me]|(he<=4?0:ae[me+1]<<8))>>>he&15}function xt(ae,Ne){var he=Ne&7,me=Ne>>>3;return(ae[me]|(he<=3?0:ae[me+1]<<8))>>>he&31}function et(ae,Ne){var he=Ne&7,me=Ne>>>3;return(ae[me]|(he<=1?0:ae[me+1]<<8))>>>he&127}function Le(ae,Ne,he){var me=Ne&7,ve=Ne>>>3,je=(1<<he)-1,Re=ae[ve]>>>me;return he<8-me||(Re|=ae[ve+1]<<8-me,he<16-me)||(Re|=ae[ve+2]<<16-me,he<24-me)||(Re|=ae[ve+3]<<24-me),Re&je}function Be(ae,Ne,he){var me=Ne&7,ve=Ne>>>3;return me<=5?ae[ve]|=(he&7)<<me:(ae[ve]|=he<<me&255,ae[ve+1]=(he&7)>>8-me),Ne+3}function ct(ae,Ne,he){var me=Ne&7,ve=Ne>>>3;return he=(he&1)<<me,ae[ve]|=he,Ne+1}function lt(ae,Ne,he){var me=Ne&7,ve=Ne>>>3;return he<<=me,ae[ve]|=he&255,he>>>=8,ae[ve+1]=he,Ne+8}function Ye(ae,Ne,he){var me=Ne&7,ve=Ne>>>3;return he<<=me,ae[ve]|=he&255,he>>>=8,ae[ve+1]=he&255,ae[ve+2]=he>>>8,Ne+16}function ft(ae,Ne){var he=ae.length,me=2*he>Ne?2*he:Ne+5,ve=0;if(he>=Ne)return ae;if(Or){var je=Hk(me);if(ae.copy)ae.copy(je);else for(;ve<ae.length;++ve)je[ve]=ae[ve];return je}else if(re){var Re=new Uint8Array(me);if(Re.set)Re.set(ae);else for(;ve<he;++ve)Re[ve]=ae[ve];return Re}return ae.length=me,ae}function Et(ae){for(var Ne=new Array(ae),he=0;he<ae;++he)Ne[he]=0;return Ne}function zt(ae,Ne,he){var me=1,ve=0,je=0,Re=0,Ze=0,Ue=ae.length,ze=re?new Uint16Array(32):Et(32);for(je=0;je<32;++je)ze[je]=0;for(je=Ue;je<he;++je)ae[je]=0;Ue=ae.length;var He=re?new Uint16Array(Ue):Et(Ue);for(je=0;je<Ue;++je)ze[ve=ae[je]]++,me<ve&&(me=ve),He[je]=0;for(ze[0]=0,je=1;je<=me;++je)ze[je+16]=Ze=Ze+ze[je-1]<<1;for(je=0;je<Ue;++je)Ze=ae[je],Ze!=0&&(He[je]=ze[Ze+16]++);var pt=0;for(je=0;je<Ue;++je)if(pt=ae[je],pt!=0)for(Ze=X(He[je],me)>>me-pt,Re=(1<<me+4-pt)-1;Re>=0;--Re)Ne[Ze|Re<<pt]=pt&15|je<<4;return me}var Kt=re?new Uint16Array(512):Et(512),Ar=re?new Uint16Array(32):Et(32);if(!re){for(var Mt=0;Mt<512;++Mt)Kt[Mt]=0;for(Mt=0;Mt<32;++Mt)Ar[Mt]=0}(function(){for(var ae=[],Ne=0;Ne<32;Ne++)ae.push(5);zt(ae,Ar,32);var he=[];for(Ne=0;Ne<=143;Ne++)he.push(8);for(;Ne<=255;Ne++)he.push(9);for(;Ne<=279;Ne++)he.push(7);for(;Ne<=287;Ne++)he.push(8);zt(he,Kt,288)})();var Pt=(function(){for(var Ne=re?new Uint8Array(32768):[],he=0,me=0;he<ce.length-1;++he)for(;me<ce[he+1];++me)Ne[me]=he;for(;me<32768;++me)Ne[me]=29;var ve=re?new Uint8Array(259):[];for(he=0,me=0;he<ee.length-1;++he)for(;me<ee[he+1];++me)ve[me]=he;function je(Ze,Ue){for(var ze=0;ze<Ze.length;){var He=Math.min(65535,Ze.length-ze),pt=ze+He==Ze.length;for(Ue.write_shift(1,+pt),Ue.write_shift(2,He),Ue.write_shift(2,~He&65535);He-- >0;)Ue[Ue.l++]=Ze[ze++]}return Ue.l}function Re(Ze,Ue){for(var ze=0,He=0,pt=re?new Uint16Array(32768):[];He<Ze.length;){var bt=Math.min(65535,Ze.length-He);if(bt<10){for(ze=Be(Ue,ze,+(He+bt==Ze.length)),ze&7&&(ze+=8-(ze&7)),Ue.l=ze/8|0,Ue.write_shift(2,bt),Ue.write_shift(2,~bt&65535);bt-- >0;)Ue[Ue.l++]=Ze[He++];ze=Ue.l*8;continue}ze=Be(Ue,ze,+(He+bt==Ze.length)+2);for(var At=0;bt-- >0;){var vt=Ze[He];At=(At<<5^vt)&32767;var _t=-1,Lt=0;if((_t=pt[At])&&(_t|=He&-32768,_t>He&&(_t-=32768),_t<He))for(;Ze[_t+Lt]==Ze[He+Lt]&&Lt<250;)++Lt;if(Lt>2){vt=ve[Lt],vt<=22?ze=lt(Ue,ze,ye[vt+1]>>1)-1:(lt(Ue,ze,3),ze+=5,lt(Ue,ze,ye[vt-23]>>5),ze+=3);var un=vt<8?0:vt-4>>2;un>0&&(Ye(Ue,ze,Lt-ee[vt]),ze+=un),vt=Ne[He-_t],ze=lt(Ue,ze,ye[vt]>>3),ze-=3;var Tr=vt<4?0:vt-2>>1;Tr>0&&(Ye(Ue,ze,He-_t-ce[vt]),ze+=Tr);for(var mn=0;mn<Lt;++mn)pt[At]=He&32767,At=(At<<5^Ze[He])&32767,++He;bt-=Lt-1}else vt<=143?vt=vt+48:ze=ct(Ue,ze,1),ze=lt(Ue,ze,ye[vt]),pt[At]=He&32767,++He}ze=lt(Ue,ze,0)-1}return Ue.l=(ze+7)/8|0,Ue.l}return function(Ue,ze){return Ue.length<8?je(Ue,ze):Re(Ue,ze)}})();function wt(ae){var Ne=nt(50+Math.floor(ae.length*1.1)),he=Pt(ae,Ne);return Ne.slice(0,he)}var Ct=re?new Uint16Array(32768):Et(32768),_r=re?new Uint16Array(32768):Et(32768),Zt=re?new Uint16Array(128):Et(128),kt=1,tr=1;function br(ae,Ne){var he=xt(ae,Ne)+257;Ne+=5;var me=xt(ae,Ne)+1;Ne+=5;var ve=xe(ae,Ne)+4;Ne+=4;for(var je=0,Re=re?new Uint8Array(19):Et(19),Ze=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],Ue=1,ze=re?new Uint8Array(8):Et(8),He=re?new Uint8Array(8):Et(8),pt=Re.length,bt=0;bt<ve;++bt)Re[K[bt]]=je=Ce(ae,Ne),Ue<je&&(Ue=je),ze[je]++,Ne+=3;var At=0;for(ze[0]=0,bt=1;bt<=Ue;++bt)He[bt]=At=At+ze[bt-1]<<1;for(bt=0;bt<pt;++bt)(At=Re[bt])!=0&&(Ze[bt]=He[At]++);var vt=0;for(bt=0;bt<pt;++bt)if(vt=Re[bt],vt!=0){At=ye[Ze[bt]]>>8-vt;for(var _t=(1<<7-vt)-1;_t>=0;--_t)Zt[At|_t<<vt]=vt&7|bt<<3}var Lt=[];for(Ue=1;Lt.length<he+me;)switch(At=Zt[et(ae,Ne)],Ne+=At&7,At>>>=3){case 16:for(je=3+Je(ae,Ne),Ne+=2,At=Lt[Lt.length-1];je-- >0;)Lt.push(At);break;case 17:for(je=3+Ce(ae,Ne),Ne+=3;je-- >0;)Lt.push(0);break;case 18:for(je=11+et(ae,Ne),Ne+=7;je-- >0;)Lt.push(0);break;default:Lt.push(At),Ue<At&&(Ue=At);break}var un=Lt.slice(0,he),Tr=Lt.slice(he);for(bt=he;bt<286;++bt)un[bt]=0;for(bt=me;bt<30;++bt)Tr[bt]=0;return kt=zt(un,Ct,286),tr=zt(Tr,_r,30),Ne}function sr(ae,Ne){if(ae[0]==3&&!(ae[1]&3))return[Cf(Ne),2];for(var he=0,me=0,ve=Hk(Ne||1<<18),je=0,Re=ve.length>>>0,Ze=0,Ue=0;(me&1)==0;){if(me=Ce(ae,he),he+=3,me>>>1)me>>1==1?(Ze=9,Ue=5):(he=br(ae,he),Ze=kt,Ue=tr);else{he&7&&(he+=8-(he&7));var ze=ae[he>>>3]|ae[(he>>>3)+1]<<8;if(he+=32,ze>0)for(!Ne&&Re<je+ze&&(ve=ft(ve,je+ze),Re=ve.length);ze-- >0;)ve[je++]=ae[he>>>3],he+=8;continue}for(;;){!Ne&&Re<je+32767&&(ve=ft(ve,je+32767),Re=ve.length);var He=Le(ae,he,Ze),pt=me>>>1==1?Kt[He]:Ct[He];if(he+=pt&15,pt>>>=4,(pt>>>8&255)===0)ve[je++]=pt;else{if(pt==256)break;pt-=257;var bt=pt<8?0:pt-4>>2;bt>5&&(bt=0);var At=je+ee[pt];bt>0&&(At+=Le(ae,he,bt),he+=bt),He=Le(ae,he,Ue),pt=me>>>1==1?Ar[He]:_r[He],he+=pt&15,pt>>>=4;var vt=pt<4?0:pt-2>>1,_t=ce[pt];for(vt>0&&(_t+=Le(ae,he,vt),he+=vt),!Ne&&Re<At&&(ve=ft(ve,At+100),Re=ve.length);je<At;)ve[je]=ve[je-_t],++je}}}return Ne?[ve,he+7>>>3]:[ve.slice(0,je),he+7>>>3]}function kr(ae,Ne){var he=ae.slice(ae.l||0),me=sr(he,Ne);return ae.l+=me[1],me[0]}function fr(ae,Ne){if(ae)typeof console<"u"&&console.error(Ne);else throw new Error(Ne)}function gn(ae,Ne){var he=ae;ci(he,0);var me=[],ve=[],je={FileIndex:me,FullPaths:ve};C(je,{root:Ne.root});for(var Re=he.length-4;(he[Re]!=80||he[Re+1]!=75||he[Re+2]!=5||he[Re+3]!=6)&&Re>=0;)--Re;he.l=Re+4,he.l+=4;var Ze=he.read_shift(2);he.l+=6;var Ue=he.read_shift(4);for(he.l=Ue,Re=0;Re<Ze;++Re){he.l+=20;var ze=he.read_shift(4),He=he.read_shift(4),pt=he.read_shift(2),bt=he.read_shift(2),At=he.read_shift(2);he.l+=8;var vt=he.read_shift(4),_t=o(he.slice(he.l+pt,he.l+pt+bt));he.l+=pt+bt+At;var Lt=he.l;he.l=vt+4,Hn(he,ze,He,je,_t),he.l=Lt}return je}function Hn(ae,Ne,he,me,ve){ae.l+=2;var je=ae.read_shift(2),Re=ae.read_shift(2),Ze=l(ae);if(je&8257)throw new Error("Unsupported ZIP encryption");for(var Ue=ae.read_shift(4),ze=ae.read_shift(4),He=ae.read_shift(4),pt=ae.read_shift(2),bt=ae.read_shift(2),At="",vt=0;vt<pt;++vt)At+=String.fromCharCode(ae[ae.l++]);if(bt){var _t=o(ae.slice(ae.l,ae.l+bt));(_t[21589]||{}).mt&&(Ze=_t[21589].mt),((ve||{})[21589]||{}).mt&&(Ze=ve[21589].mt)}ae.l+=bt;var Lt=ae.slice(ae.l,ae.l+ze);switch(Re){case 8:Lt=R(ae,He);break;case 0:break;default:throw new Error("Unsupported ZIP Compression method "+Re)}var un=!1;je&8&&(Ue=ae.read_shift(4),Ue==134695760&&(Ue=ae.read_shift(4),un=!0),ze=ae.read_shift(4),He=ae.read_shift(4)),ze!=Ne&&fr(un,"Bad compressed size: "+Ne+" != "+ze),He!=he&&fr(un,"Bad uncompressed size: "+he+" != "+He),ms(me,At,Lt,{unsafe:!0,mt:Ze})}function Wr(ae,Ne){var he=Ne||{},me=[],ve=[],je=nt(1),Re=he.compression?8:0,Ze=0,Ue=0,ze=0,He=0,pt=0,bt=ae.FullPaths[0],At=bt,vt=ae.FileIndex[0],_t=[],Lt=0;for(Ue=1;Ue<ae.FullPaths.length;++Ue)if(At=ae.FullPaths[Ue].slice(bt.length),vt=ae.FileIndex[Ue],!(!vt.size||!vt.content||At=="Sh33tJ5")){var un=He,Tr=nt(At.length);for(ze=0;ze<At.length;++ze)Tr.write_shift(1,At.charCodeAt(ze)&127);Tr=Tr.slice(0,Tr.l),_t[pt]=lK.buf(vt.content,0);var mn=vt.content;Re==8&&(mn=q(mn)),je=nt(30),je.write_shift(4,67324752),je.write_shift(2,20),je.write_shift(2,Ze),je.write_shift(2,Re),vt.mt?s(je,vt.mt):je.write_shift(4,0),je.write_shift(-4,_t[pt]),je.write_shift(4,mn.length),je.write_shift(4,vt.content.length),je.write_shift(2,Tr.length),je.write_shift(2,0),He+=je.length,me.push(je),He+=Tr.length,me.push(Tr),He+=mn.length,me.push(mn),je=nt(46),je.write_shift(4,33639248),je.write_shift(2,0),je.write_shift(2,20),je.write_shift(2,Ze),je.write_shift(2,Re),je.write_shift(4,0),je.write_shift(-4,_t[pt]),je.write_shift(4,mn.length),je.write_shift(4,vt.content.length),je.write_shift(2,Tr.length),je.write_shift(2,0),je.write_shift(2,0),je.write_shift(2,0),je.write_shift(2,0),je.write_shift(4,0),je.write_shift(4,un),Lt+=je.l,ve.push(je),Lt+=Tr.length,ve.push(Tr),++pt}return je=nt(22),je.write_shift(4,101010256),je.write_shift(2,0),je.write_shift(2,0),je.write_shift(2,pt),je.write_shift(2,pt),je.write_shift(4,Lt),je.write_shift(4,He),je.write_shift(2,0),Vs([Vs(me),Vs(ve),je])}var Yt={htm:"text/html",xml:"text/xml",gif:"image/gif",jpg:"image/jpeg",png:"image/png",mso:"application/x-mso",thmx:"application/vnd.ms-officetheme",sh33tj5:"application/octet-stream"};function Lr(ae,Ne){if(ae.ctype)return ae.ctype;var he=ae.name||"",me=he.match(/\.([^\.]+)$/);return me&&Yt[me[1]]||Ne&&(me=(he=Ne).match(/[\.\\]([^\.\\])+$/),me&&Yt[me[1]])?Yt[me[1]]:"application/octet-stream"}function Ii(ae){for(var Ne=Xx(ae),he=[],me=0;me<Ne.length;me+=76)he.push(Ne.slice(me,me+76));return he.join(`\r
`)+`\r
`}function ts(ae){var Ne=ae.replace(/[\x00-\x08\x0B\x0C\x0E-\x1F\x7E-\xFF=]/g,function(ze){var He=ze.charCodeAt(0).toString(16).toUpperCase();return"="+(He.length==1?"0"+He:He)});Ne=Ne.replace(/ $/mg,"=20").replace(/\t$/mg,"=09"),Ne.charAt(0)==`
`&&(Ne="=0D"+Ne.slice(1)),Ne=Ne.replace(/\r(?!\n)/mg,"=0D").replace(/\n\n/mg,`
=0A`).replace(/([^\r\n])\n/mg,"$1=0A");for(var he=[],me=Ne.split(`\r
`),ve=0;ve<me.length;++ve){var je=me[ve];if(je.length==0){he.push("");continue}for(var Re=0;Re<je.length;){var Ze=76,Ue=je.slice(Re,Re+Ze);Ue.charAt(Ze-1)=="="?Ze--:Ue.charAt(Ze-2)=="="?Ze-=2:Ue.charAt(Ze-3)=="="&&(Ze-=3),Ue=je.slice(Re,Re+Ze),Re+=Ze,Re<je.length&&(Ue+="="),he.push(Ue)}}return he.join(`\r
`)}function sl(ae){for(var Ne=[],he=0;he<ae.length;++he){for(var me=ae[he];he<=ae.length&&me.charAt(me.length-1)=="=";)me=me.slice(0,me.length-1)+ae[++he];Ne.push(me)}for(var ve=0;ve<Ne.length;++ve)Ne[ve]=Ne[ve].replace(/[=][0-9A-Fa-f]{2}/g,function(je){return String.fromCharCode(parseInt(je.slice(1),16))});return Zl(Ne.join(`\r
`))}function pi(ae,Ne,he){for(var me="",ve="",je="",Re,Ze=0;Ze<10;++Ze){var Ue=Ne[Ze];if(!Ue||Ue.match(/^\s*$/))break;var ze=Ue.match(/^(.*?):\s*([^\s].*)$/);if(ze)switch(ze[1].toLowerCase()){case"content-location":me=ze[2].trim();break;case"content-type":je=ze[2].trim();break;case"content-transfer-encoding":ve=ze[2].trim();break}}switch(++Ze,ve.toLowerCase()){case"base64":Re=Zl(no(Ne.slice(Ze).join("")));break;case"quoted-printable":Re=sl(Ne.slice(Ze));break;default:throw new Error("Unsupported Content-Transfer-Encoding "+ve)}var He=ms(ae,me.slice(he.length),Re,{unsafe:!0});je&&(He.ctype=je)}function Xt(ae,Ne){if(oe(ae.slice(0,13)).toLowerCase()!="mime-version:")throw new Error("Unsupported MAD header");var he=Ne&&Ne.root||"",me=(Or&&Buffer.isBuffer(ae)?ae.toString("binary"):oe(ae)).split(`\r
`),ve=0,je="";for(ve=0;ve<me.length;++ve)if(je=me[ve],!!/^Content-Location:/i.test(je)&&(je=je.slice(je.indexOf("file")),he||(he=je.slice(0,je.lastIndexOf("/")+1)),je.slice(0,he.length)!=he))for(;he.length>0&&(he=he.slice(0,he.length-1),he=he.slice(0,he.lastIndexOf("/")+1),je.slice(0,he.length)!=he););var Re=(me[1]||"").match(/boundary="(.*?)"/);if(!Re)throw new Error("MAD cannot find boundary");var Ze="--"+(Re[1]||""),Ue=[],ze=[],He={FileIndex:Ue,FullPaths:ze};C(He);var pt,bt=0;for(ve=0;ve<me.length;++ve){var At=me[ve];At!==Ze&&At!==Ze+"--"||(bt++&&pi(He,me.slice(pt,ve),he),pt=ve)}return He}function Fl(ae,Ne){var he=Ne||{},me=he.boundary||"SheetJS";me="------="+me;for(var ve=["MIME-Version: 1.0",'Content-Type: multipart/related; boundary="'+me.slice(2)+'"',"","",""],je=ae.FullPaths[0],Re=je,Ze=ae.FileIndex[0],Ue=1;Ue<ae.FullPaths.length;++Ue)if(Re=ae.FullPaths[Ue].slice(je.length),Ze=ae.FileIndex[Ue],!(!Ze.size||!Ze.content||Re=="Sh33tJ5")){Re=Re.replace(/[\x00-\x08\x0B\x0C\x0E-\x1F\x7E-\xFF]/g,function(Lt){return"_x"+Lt.charCodeAt(0).toString(16)+"_"}).replace(/[\u0080-\uFFFF]/g,function(Lt){return"_u"+Lt.charCodeAt(0).toString(16)+"_"});for(var ze=Ze.content,He=Or&&Buffer.isBuffer(ze)?ze.toString("binary"):oe(ze),pt=0,bt=Math.min(1024,He.length),At=0,vt=0;vt<=bt;++vt)(At=He.charCodeAt(vt))>=32&&At<128&&++pt;var _t=pt>=bt*4/5;ve.push(me),ve.push("Content-Location: "+(he.root||"file:///C:/SheetJS/")+Re),ve.push("Content-Transfer-Encoding: "+(_t?"quoted-printable":"base64")),ve.push("Content-Type: "+Lr(Ze,Re)),ve.push(""),ve.push(_t?ts(He):Ii(He))}return ve.push(me+`--\r
`),ve.join(`\r
`)}function il(ae){var Ne={};return C(Ne,ae),Ne}function ms(ae,Ne,he,me){var ve=me&&me.unsafe;ve||C(ae);var je=!ve&&ar.find(ae,Ne);if(!je){var Re=ae.FullPaths[0];Ne.slice(0,Re.length)==Re?Re=Ne:(Re.slice(-1)!="/"&&(Re+="/"),Re=(Re+Ne).replace("//","/")),je={name:a(Ne),type:2},ae.FileIndex.push(je),ae.FullPaths.push(Re),ve||ar.utils.cfb_gc(ae)}return je.content=he,je.size=he?he.length:0,me&&(me.CLSID&&(je.clsid=me.CLSID),me.mt&&(je.mt=me.mt),me.ct&&(je.ct=me.ct)),je}function Xs(ae,Ne){C(ae);var he=ar.find(ae,Ne);if(he){for(var me=0;me<ae.FileIndex.length;++me)if(ae.FileIndex[me]==he)return ae.FileIndex.splice(me,1),ae.FullPaths.splice(me,1),!0}return!1}function Cn(ae,Ne,he){C(ae);var me=ar.find(ae,Ne);if(me){for(var ve=0;ve<ae.FileIndex.length;++ve)if(ae.FileIndex[ve]==me)return ae.FileIndex[ve].name=a(he),ae.FullPaths[ve]=he,!0}return!1}function sa(ae){B(ae,!0)}return t.find=L,t.read=D,t.parse=h,t.write=Se,t.writeFile=ge,t.utils={cfb_new:il,cfb_add:ms,cfb_del:Xs,cfb_mov:Cn,cfb_gc:sa,ReadShift:Tx,CheckField:KD,prep_blob:ci,bconcat:Vs,use_zlib:M,_deflateRaw:wt,_inflateRaw:kr,consts:ie},t})();function oK(e){return typeof e=="string"?m2(e):Array.isArray(e)?PW(e):e}function kg(e,t,r){if(typeof Deno<"u"){if(r&&typeof t=="string")switch(r){case"utf8":t=new TextEncoder(r).encode(t);break;case"binary":t=m2(t);break;default:throw new Error("Unsupported encoding "+r)}return Deno.writeFileSync(e,t)}var n=r=="utf8"?cu(t):t;if(typeof IE_SaveFile<"u")return IE_SaveFile(n,e);if(typeof Blob<"u"){var a=new Blob([oK(n)],{type:"application/octet-stream"});if(typeof navigator<"u"&&navigator.msSaveBlob)return navigator.msSaveBlob(a,e);if(typeof saveAs<"u")return saveAs(a,e);if(typeof URL<"u"&&typeof document<"u"&&document.createElement&&URL.createObjectURL){var s=URL.createObjectURL(a);if(typeof chrome=="object"&&typeof(chrome.downloads||{}).download=="function")return URL.revokeObjectURL&&typeof setTimeout<"u"&&setTimeout(function(){URL.revokeObjectURL(s)},6e4),chrome.downloads.download({url:s,filename:e,saveAs:!0});var l=document.createElement("a");if(l.download!=null)return l.download=e,l.href=s,document.body.appendChild(l),l.click(),document.body.removeChild(l),URL.revokeObjectURL&&typeof setTimeout<"u"&&setTimeout(function(){URL.revokeObjectURL(s)},6e4),s}}if(typeof $<"u"&&typeof File<"u"&&typeof Folder<"u")try{var o=File(e);return o.open("w"),o.encoding="binary",Array.isArray(t)&&(t=Uf(t)),o.write(t),o.close(),t}catch(u){if(!u.message||!u.message.match(/onstruct/))throw u}throw new Error("cannot save file "+e)}function cK(e){if(typeof Deno<"u")return Deno.readFileSync(e);if(typeof $<"u"&&typeof File<"u"&&typeof Folder<"u")try{var t=File(e);t.open("r"),t.encoding="binary";var r=t.read();return t.close(),r}catch(n){if(!n.message||!n.message.match(/onstruct/))throw n}throw new Error("Cannot access file "+e)}function za(e){for(var t=Object.keys(e),r=[],n=0;n<t.length;++n)Object.prototype.hasOwnProperty.call(e,t[n])&&r.push(t[n]);return r}function Zk(e,t){for(var r=[],n=za(e),a=0;a!==n.length;++a)r[e[n[a]][t]]==null&&(r[e[n[a]][t]]=n[a]);return r}function x2(e){for(var t=[],r=za(e),n=0;n!==r.length;++n)t[e[r[n]]]=r[n];return t}function g2(e){for(var t=[],r=za(e),n=0;n!==r.length;++n)t[e[r[n]]]=parseInt(r[n],10);return t}function uK(e){for(var t=[],r=za(e),n=0;n!==r.length;++n)t[e[r[n]]]==null&&(t[e[r[n]]]=[]),t[e[r[n]]].push(r[n]);return t}var ly=new Date(1899,11,30,0,0,0);function Es(e,t){var r=e.getTime(),n=ly.getTime()+(e.getTimezoneOffset()-ly.getTimezoneOffset())*6e4;return(r-n)/(1440*60*1e3)}var AD=new Date,dK=ly.getTime()+(AD.getTimezoneOffset()-ly.getTimezoneOffset())*6e4,Jk=AD.getTimezoneOffset();function v2(e){var t=new Date;return t.setTime(e*24*60*60*1e3+dK),t.getTimezoneOffset()!==Jk&&t.setTime(t.getTime()+(t.getTimezoneOffset()-Jk)*6e4),t}function fK(e){var t=0,r=0,n=!1,a=e.match(/P([0-9\.]+Y)?([0-9\.]+M)?([0-9\.]+D)?T([0-9\.]+H)?([0-9\.]+M)?([0-9\.]+S)?/);if(!a)throw new Error("|"+e+"| is not an ISO8601 Duration");for(var s=1;s!=a.length;++s)if(a[s]){switch(r=1,s>3&&(n=!0),a[s].slice(a[s].length-1)){case"Y":throw new Error("Unsupported ISO Duration Field: "+a[s].slice(a[s].length-1));case"D":r*=24;case"H":r*=60;case"M":if(n)r*=60;else throw new Error("Unsupported ISO Duration Field: M")}t+=r*parseInt(a[s],10)}return t}var eE=new Date("2017-02-19T19:06:09.000Z"),kD=isNaN(eE.getFullYear())?new Date("2/19/17"):eE,hK=kD.getFullYear()==2017;function na(e,t){var r=new Date(e);if(hK)return t>0?r.setTime(r.getTime()+r.getTimezoneOffset()*60*1e3):t<0&&r.setTime(r.getTime()-r.getTimezoneOffset()*60*1e3),r;if(e instanceof Date)return e;if(kD.getFullYear()==1917&&!isNaN(r.getFullYear())){var n=r.getFullYear();return e.indexOf(""+n)>-1||r.setFullYear(r.getFullYear()+100),r}var a=e.match(/\d+/g)||["2017","2","19","0","0","0"],s=new Date(+a[0],+a[1]-1,+a[2],+a[3]||0,+a[4]||0,+a[5]||0);return e.indexOf("Z")>-1&&(s=new Date(s.getTime()-s.getTimezoneOffset()*60*1e3)),s}function Q0(e,t){if(Or&&Buffer.isBuffer(e)){if(t){if(e[0]==255&&e[1]==254)return cu(e.slice(2).toString("utf16le"));if(e[1]==254&&e[2]==255)return cu(mD(e.slice(2).toString("binary")))}return e.toString("binary")}if(typeof TextDecoder<"u")try{if(t){if(e[0]==255&&e[1]==254)return cu(new TextDecoder("utf-16le").decode(e.slice(2)));if(e[0]==254&&e[1]==255)return cu(new TextDecoder("utf-16be").decode(e.slice(2)))}var r={"":"","":"",:"","":"","":"","":"","":"","":"","":"",:"","":"",:"",:"","":"","":"","":"","":"","":"","":"","":"","":"","":"",:"","":"",:"",:"",:""};return Array.isArray(e)&&(e=new Uint8Array(e)),new TextDecoder("latin1").decode(e).replace(/[]/g,function(s){return r[s]||s})}catch{}for(var n=[],a=0;a!=e.length;++a)n.push(String.fromCharCode(e[a]));return n.join("")}function aa(e){if(typeof JSON<"u"&&!Array.isArray(e))return JSON.parse(JSON.stringify(e));if(typeof e!="object"||e==null)return e;if(e instanceof Date)return new Date(e.getTime());var t={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=aa(e[r]));return t}function Ma(e,t){for(var r="";r.length<t;)r+=e;return r}function Ac(e){var t=Number(e);if(!isNaN(t))return isFinite(t)?t:NaN;if(!/\d/.test(e))return t;var r=1,n=e.replace(/([\d]),([\d])/g,"$1$2").replace(/[$]/g,"").replace(/[%]/g,function(){return r*=100,""});return!isNaN(t=Number(n))||(n=n.replace(/[(](.*)[)]/,function(a,s){return r=-r,s}),!isNaN(t=Number(n)))?t/r:t}var mK=["january","february","march","april","may","june","july","august","september","october","november","december"];function Gm(e){var t=new Date(e),r=new Date(NaN),n=t.getYear(),a=t.getMonth(),s=t.getDate();if(isNaN(s))return r;var l=e.toLowerCase();if(l.match(/jan|feb|mar|apr|may|jun|jul|aug|sep|oct|nov|dec/)){if(l=l.replace(/[^a-z]/g,"").replace(/([^a-z]|^)[ap]m?([^a-z]|$)/,""),l.length>3&&mK.indexOf(l)==-1)return r}else if(l.match(/[a-z]/))return r;return n<0||n>8099?r:(a>0||s>1)&&n!=101?t:e.match(/[^-0-9:,\/\\]/)?r:t}var pK=(function(){var e="abacaba".split(/(:?b)/i).length==5;return function(r,n,a){if(e||typeof n=="string")return r.split(n);for(var s=r.split(n),l=[s[0]],o=1;o<s.length;++o)l.push(a),l.push(s[o]);return l}})();function ED(e){return e?e.content&&e.type?Q0(e.content,!0):e.data?_x(e.data):e.asNodeBuffer&&Or?_x(e.asNodeBuffer().toString("binary")):e.asBinary?_x(e.asBinary()):e._data&&e._data.getContent?_x(Q0(Array.prototype.slice.call(e._data.getContent(),0))):null:null}function CD(e){if(!e)return null;if(e.data)return qk(e.data);if(e.asNodeBuffer&&Or)return e.asNodeBuffer();if(e._data&&e._data.getContent){var t=e._data.getContent();return typeof t=="string"?qk(t):Array.prototype.slice.call(t)}return e.content&&e.type?e.content:null}function xK(e){return e&&e.name.slice(-4)===".bin"?CD(e):ED(e)}function Lo(e,t){for(var r=e.FullPaths||za(e.files),n=t.toLowerCase().replace(/[\/]/g,"\\"),a=n.replace(/\\/g,"/"),s=0;s<r.length;++s){var l=r[s].replace(/^Root Entry[\/]/,"").toLowerCase();if(n==l||a==l)return e.files?e.files[r[s]]:e.FileIndex[s]}return null}function nj(e,t){var r=Lo(e,t);if(r==null)throw new Error("Cannot find file "+t+" in zip");return r}function ls(e,t,r){if(!r)return xK(nj(e,t));if(!t)return null;try{return ls(e,t)}catch{return null}}function Jl(e,t,r){if(!r)return ED(nj(e,t));if(!t)return null;try{return Jl(e,t)}catch{return null}}function gK(e,t,r){return CD(nj(e,t))}function tE(e){for(var t=e.FullPaths||za(e.files),r=[],n=0;n<t.length;++n)t[n].slice(-1)!="/"&&r.push(t[n].replace(/^Root Entry[\/]/,""));return r.sort()}function Sr(e,t,r){if(e.FullPaths){if(typeof r=="string"){var n;return Or?n=Sd(r):n=LW(r),ar.utils.cfb_add(e,t,n)}ar.utils.cfb_add(e,t,r)}else e.file(t,r)}function aj(){return ar.utils.cfb_new()}function TD(e,t){switch(t.type){case"base64":return ar.read(e,{type:"base64"});case"binary":return ar.read(e,{type:"binary"});case"buffer":case"array":return ar.read(e,{type:"buffer"})}throw new Error("Unrecognized type "+t.type)}function Sx(e,t){if(e.charAt(0)=="/")return e.slice(1);var r=t.split("/");t.slice(-1)!="/"&&r.pop();for(var n=e.split("/");n.length!==0;){var a=n.shift();a===".."?r.pop():a!=="."&&r.push(a)}return r.join("/")}var es=`<?xml version="1.0" encoding="UTF-8" standalone="yes"?>\r
`,vK=/([^"\s?>\/]+)\s*=\s*((?:")([^"]*)(?:")|(?:')([^']*)(?:')|([^'">\s]+))/g,rE=/<[\/\?]?[a-zA-Z0-9:_-]+(?:\s+[^"\s?>\/]+\s*=\s*(?:"[^"]*"|'[^']*'|[^'">\s=]+))*\s*[\/\?]?>/mg,yK=/<[^>]*>/g,Ri=es.match(rE)?rE:yK,bK=/<\w*:/,wK=/<(\/?)\w+:/;function hr(e,t,r){for(var n={},a=0,s=0;a!==e.length&&!((s=e.charCodeAt(a))===32||s===10||s===13);++a);if(t||(n[0]=e.slice(0,a)),a===e.length)return n;var l=e.match(vK),o=0,u="",d=0,h="",m="",g=1;if(l)for(d=0;d!=l.length;++d){for(m=l[d],s=0;s!=m.length&&m.charCodeAt(s)!==61;++s);for(h=m.slice(0,s).trim();m.charCodeAt(s+1)==32;)++s;for(g=(a=m.charCodeAt(s+1))==34||a==39?1:0,u=m.slice(s+1+g,m.length-g),o=0;o!=h.length&&h.charCodeAt(o)!==58;++o);if(o===h.length)h.indexOf("_")>0&&(h=h.slice(0,h.indexOf("_"))),n[h]=u,n[h.toLowerCase()]=u;else{var x=(o===5&&h.slice(0,5)==="xmlns"?"xmlns":"")+h.slice(o+1);if(n[x]&&h.slice(o-3,o)=="ext")continue;n[x]=u,n[x.toLowerCase()]=u}}return n}function gu(e){return e.replace(wK,"<$1")}var OD={"&quot;":'"',"&apos;":"'","&gt;":">","&lt;":"<","&amp;":"&"},sj=x2(OD),rn=(function(){var e=/&(?:quot|apos|gt|lt|amp|#x?([\da-fA-F]+));/ig,t=/_x([\da-fA-F]{4})_/ig;return function r(n){var a=n+"",s=a.indexOf("<![CDATA[");if(s==-1)return a.replace(e,function(o,u){return OD[o]||String.fromCharCode(parseInt(u,o.indexOf("x")>-1?16:10))||o}).replace(t,function(o,u){return String.fromCharCode(parseInt(u,16))});var l=a.indexOf("]]>");return r(a.slice(0,s))+a.slice(s+9,l)+r(a.slice(l+3))}})(),ij=/[&<>'"]/g,NK=/[\u0000-\u0008\u000b-\u001f]/g;function Sn(e){var t=e+"";return t.replace(ij,function(r){return sj[r]}).replace(NK,function(r){return"_x"+("000"+r.charCodeAt(0).toString(16)).slice(-4)+"_"})}function nE(e){return Sn(e).replace(/ /g,"_x0020_")}var FD=/[\u0000-\u001f]/g;function lj(e){var t=e+"";return t.replace(ij,function(r){return sj[r]}).replace(/\n/g,"<br/>").replace(FD,function(r){return"&#x"+("000"+r.charCodeAt(0).toString(16)).slice(-4)+";"})}function _K(e){var t=e+"";return t.replace(ij,function(r){return sj[r]}).replace(FD,function(r){return"&#x"+r.charCodeAt(0).toString(16).toUpperCase()+";"})}var aE=(function(){var e=/&#(\d+);/g;function t(r,n){return String.fromCharCode(parseInt(n,10))}return function(n){return n.replace(e,t)}})();function jK(e){return e.replace(/(\r\n|[\r\n])/g,"&#10;")}function ea(e){switch(e){case 1:case!0:case"1":case"true":case"TRUE":return!0;default:return!1}}function Pw(e){for(var t="",r=0,n=0,a=0,s=0,l=0,o=0;r<e.length;){if(n=e.charCodeAt(r++),n<128){t+=String.fromCharCode(n);continue}if(a=e.charCodeAt(r++),n>191&&n<224){l=(n&31)<<6,l|=a&63,t+=String.fromCharCode(l);continue}if(s=e.charCodeAt(r++),n<240){t+=String.fromCharCode((n&15)<<12|(a&63)<<6|s&63);continue}l=e.charCodeAt(r++),o=((n&7)<<18|(a&63)<<12|(s&63)<<6|l&63)-65536,t+=String.fromCharCode(55296+(o>>>10&1023)),t+=String.fromCharCode(56320+(o&1023))}return t}function sE(e){var t=Cf(2*e.length),r,n,a=1,s=0,l=0,o;for(n=0;n<e.length;n+=a)a=1,(o=e.charCodeAt(n))<128?r=o:o<224?(r=(o&31)*64+(e.charCodeAt(n+1)&63),a=2):o<240?(r=(o&15)*4096+(e.charCodeAt(n+1)&63)*64+(e.charCodeAt(n+2)&63),a=3):(a=4,r=(o&7)*262144+(e.charCodeAt(n+1)&63)*4096+(e.charCodeAt(n+2)&63)*64+(e.charCodeAt(n+3)&63),r-=65536,l=55296+(r>>>10&1023),r=56320+(r&1023)),l!==0&&(t[s++]=l&255,t[s++]=l>>>8,l=0),t[s++]=r%256,t[s++]=r>>>8;return t.slice(0,s).toString("ucs2")}function iE(e){return Sd(e,"binary").toString("utf8")}var tv="foo bar baz",Rn=Or&&(iE(tv)==Pw(tv)&&iE||sE(tv)==Pw(tv)&&sE)||Pw,cu=Or?function(e){return Sd(e,"utf8").toString("binary")}:function(e){for(var t=[],r=0,n=0,a=0;r<e.length;)switch(n=e.charCodeAt(r++),!0){case n<128:t.push(String.fromCharCode(n));break;case n<2048:t.push(String.fromCharCode(192+(n>>6))),t.push(String.fromCharCode(128+(n&63)));break;case(n>=55296&&n<57344):n-=55296,a=e.charCodeAt(r++)-56320+(n<<10),t.push(String.fromCharCode(240+(a>>18&7))),t.push(String.fromCharCode(144+(a>>12&63))),t.push(String.fromCharCode(128+(a>>6&63))),t.push(String.fromCharCode(128+(a&63)));break;default:t.push(String.fromCharCode(224+(n>>12))),t.push(String.fromCharCode(128+(n>>6&63))),t.push(String.fromCharCode(128+(n&63)))}return t.join("")},Zx=(function(){var e={};return function(r,n){var a=r+"|"+(n||"");return e[a]?e[a]:e[a]=new RegExp("<(?:\\w+:)?"+r+'(?: xml:space="preserve")?(?:[^>]*)>([\\s\\S]*?)</(?:\\w+:)?'+r+">",n||"")}})(),DD=(function(){var e=[["nbsp"," "],["middot",""],["quot",'"'],["apos","'"],["gt",">"],["lt","<"],["amp","&"]].map(function(t){return[new RegExp("&"+t[0]+";","ig"),t[1]]});return function(r){for(var n=r.replace(/^[\t\n\r ]+/,"").replace(/[\t\n\r ]+$/,"").replace(/>\s+/g,">").replace(/\s+</g,"<").replace(/[\t\n\r ]+/g," ").replace(/<\s*[bB][rR]\s*\/?>/g,`
`).replace(/<[^>]*>/g,""),a=0;a<e.length;++a)n=n.replace(e[a][0],e[a][1]);return n}})(),SK=(function(){var e={};return function(r){return e[r]!==void 0?e[r]:e[r]=new RegExp("<(?:vt:)?"+r+">([\\s\\S]*?)</(?:vt:)?"+r+">","g")}})(),AK=/<\/?(?:vt:)?variant>/g,kK=/<(?:vt:)([^>]*)>([\s\S]*)</;function lE(e,t){var r=hr(e),n=e.match(SK(r.baseType))||[],a=[];if(n.length!=r.size){if(t.WTF)throw new Error("unexpected vector length "+n.length+" != "+r.size);return a}return n.forEach(function(s){var l=s.replace(AK,"").match(kK);l&&a.push({v:Rn(l[2]),t:l[1]})}),a}var PD=/(^\s|\s$|\n)/;function di(e,t){return"<"+e+(t.match(PD)?' xml:space="preserve"':"")+">"+t+"</"+e+">"}function Jx(e){return za(e).map(function(t){return" "+t+'="'+e[t]+'"'}).join("")}function Nt(e,t,r){return"<"+e+(r!=null?Jx(r):"")+(t!=null?(t.match(PD)?' xml:space="preserve"':"")+">"+t+"</"+e:"/")+">"}function l4(e,t){try{return e.toISOString().replace(/\.\d*/,"")}catch(r){if(t)throw r}return""}function EK(e,t){switch(typeof e){case"string":var r=Nt("vt:lpwstr",Sn(e));return r=r.replace(/&quot;/g,"_x0022_"),r;case"number":return Nt((e|0)==e?"vt:i4":"vt:r8",Sn(String(e)));case"boolean":return Nt("vt:bool",e?"true":"false")}if(e instanceof Date)return Nt("vt:filetime",l4(e));throw new Error("Unable to serialize "+e)}function oj(e){if(Or&&Buffer.isBuffer(e))return e.toString("utf8");if(typeof e=="string")return e;if(typeof Uint8Array<"u"&&e instanceof Uint8Array)return Rn(Uf(ej(e)));throw new Error("Bad input format: expected Buffer or string")}var eg=/<(\/?)([^\s?><!\/:]*:|)([^\s?<>:\/]+)(?:[\s?:\/][^>]*)?>/mg,ks={CORE_PROPS:"http://schemas.openxmlformats.org/package/2006/metadata/core-properties",CUST_PROPS:"http://schemas.openxmlformats.org/officeDocument/2006/custom-properties",EXT_PROPS:"http://schemas.openxmlformats.org/officeDocument/2006/extended-properties",CT:"http://schemas.openxmlformats.org/package/2006/content-types",RELS:"http://schemas.openxmlformats.org/package/2006/relationships",TCMNT:"http://schemas.microsoft.com/office/spreadsheetml/2018/threadedcomments",dc:"http://purl.org/dc/elements/1.1/",dcterms:"http://purl.org/dc/terms/",dcmitype:"http://purl.org/dc/dcmitype/",r:"http://schemas.openxmlformats.org/officeDocument/2006/relationships",vt:"http://schemas.openxmlformats.org/officeDocument/2006/docPropsVTypes",xsi:"http://www.w3.org/2001/XMLSchema-instance",xsd:"http://www.w3.org/2001/XMLSchema"},ph=["http://schemas.openxmlformats.org/spreadsheetml/2006/main","http://purl.oclc.org/ooxml/spreadsheetml/main","http://schemas.microsoft.com/office/excel/2006/main","http://schemas.microsoft.com/office/excel/2006/2"],Yl={o:"urn:schemas-microsoft-com:office:office",x:"urn:schemas-microsoft-com:office:excel",ss:"urn:schemas-microsoft-com:office:spreadsheet",dt:"uuid:C2F41010-65B3-11d1-A29F-00AA00C14882",mv:"http://macVmlSchemaUri",v:"urn:schemas-microsoft-com:vml",html:"http://www.w3.org/TR/REC-html40"};function CK(e,t){for(var r=1-2*(e[t+7]>>>7),n=((e[t+7]&127)<<4)+(e[t+6]>>>4&15),a=e[t+6]&15,s=5;s>=0;--s)a=a*256+e[t+s];return n==2047?a==0?r*(1/0):NaN:(n==0?n=-1022:(n-=1023,a+=Math.pow(2,52)),r*Math.pow(2,n-52)*a)}function TK(e,t,r){var n=(t<0||1/t==-1/0?1:0)<<7,a=0,s=0,l=n?-t:t;isFinite(l)?l==0?a=s=0:(a=Math.floor(Math.log(l)/Math.LN2),s=l*Math.pow(2,52-a),a<=-1023&&(!isFinite(s)||s<Math.pow(2,52))?a=-1022:(s-=Math.pow(2,52),a+=1023)):(a=2047,s=isNaN(t)?26985:0);for(var o=0;o<=5;++o,s/=256)e[r+o]=s&255;e[r+6]=(a&15)<<4|s&15,e[r+7]=a>>4|n}var oE=function(e){for(var t=[],r=10240,n=0;n<e[0].length;++n)if(e[0][n])for(var a=0,s=e[0][n].length;a<s;a+=r)t.push.apply(t,e[0][n].slice(a,a+r));return t},cE=Or?function(e){return e[0].length>0&&Buffer.isBuffer(e[0][0])?Buffer.concat(e[0].map(function(t){return Buffer.isBuffer(t)?t:Sd(t)})):oE(e)}:oE,uE=function(e,t,r){for(var n=[],a=t;a<r;a+=2)n.push(String.fromCharCode(td(e,a)));return n.join("").replace(rl,"")},cj=Or?function(e,t,r){return Buffer.isBuffer(e)?e.toString("utf16le",t,r).replace(rl,""):uE(e,t,r)}:uE,dE=function(e,t,r){for(var n=[],a=t;a<t+r;++a)n.push(("0"+e[a].toString(16)).slice(-2));return n.join("")},LD=Or?function(e,t,r){return Buffer.isBuffer(e)?e.toString("hex",t,t+r):dE(e,t,r)}:dE,fE=function(e,t,r){for(var n=[],a=t;a<r;a++)n.push(String.fromCharCode(Sm(e,a)));return n.join("")},Eg=Or?function(t,r,n){return Buffer.isBuffer(t)?t.toString("utf8",r,n):fE(t,r,n)}:fE,MD=function(e,t){var r=Xl(e,t);return r>0?Eg(e,t+4,t+4+r-1):""},RD=MD,ID=function(e,t){var r=Xl(e,t);return r>0?Eg(e,t+4,t+4+r-1):""},BD=ID,UD=function(e,t){var r=2*Xl(e,t);return r>0?Eg(e,t+4,t+4+r-1):""},zD=UD,qD=function(t,r){var n=Xl(t,r);return n>0?cj(t,r+4,r+4+n):""},$D=qD,HD=function(e,t){var r=Xl(e,t);return r>0?Eg(e,t+4,t+4+r):""},VD=HD,WD=function(e,t){return CK(e,t)},oy=WD,uj=function(t){return Array.isArray(t)||typeof Uint8Array<"u"&&t instanceof Uint8Array};Or&&(RD=function(t,r){if(!Buffer.isBuffer(t))return MD(t,r);var n=t.readUInt32LE(r);return n>0?t.toString("utf8",r+4,r+4+n-1):""},BD=function(t,r){if(!Buffer.isBuffer(t))return ID(t,r);var n=t.readUInt32LE(r);return n>0?t.toString("utf8",r+4,r+4+n-1):""},zD=function(t,r){if(!Buffer.isBuffer(t))return UD(t,r);var n=2*t.readUInt32LE(r);return t.toString("utf16le",r+4,r+4+n-1)},$D=function(t,r){if(!Buffer.isBuffer(t))return qD(t,r);var n=t.readUInt32LE(r);return t.toString("utf16le",r+4,r+4+n)},VD=function(t,r){if(!Buffer.isBuffer(t))return HD(t,r);var n=t.readUInt32LE(r);return t.toString("utf8",r+4,r+4+n)},oy=function(t,r){return Buffer.isBuffer(t)?t.readDoubleLE(r):WD(t,r)},uj=function(t){return Buffer.isBuffer(t)||Array.isArray(t)||typeof Uint8Array<"u"&&t instanceof Uint8Array});var Sm=function(e,t){return e[t]},td=function(e,t){return e[t+1]*256+e[t]},OK=function(e,t){var r=e[t+1]*256+e[t];return r<32768?r:(65535-r+1)*-1},Xl=function(e,t){return e[t+3]*(1<<24)+(e[t+2]<<16)+(e[t+1]<<8)+e[t]},E0=function(e,t){return e[t+3]<<24|e[t+2]<<16|e[t+1]<<8|e[t]},FK=function(e,t){return e[t]<<24|e[t+1]<<16|e[t+2]<<8|e[t+3]};function Tx(e,t){var r="",n,a,s=[],l,o,u,d;switch(t){case"dbcs":if(d=this.l,Or&&Buffer.isBuffer(this))r=this.slice(this.l,this.l+2*e).toString("utf16le");else for(u=0;u<e;++u)r+=String.fromCharCode(td(this,d)),d+=2;e*=2;break;case"utf8":r=Eg(this,this.l,this.l+e);break;case"utf16le":e*=2,r=cj(this,this.l,this.l+e);break;case"wstr":return Tx.call(this,e,"dbcs");case"lpstr-ansi":r=RD(this,this.l),e=4+Xl(this,this.l);break;case"lpstr-cp":r=BD(this,this.l),e=4+Xl(this,this.l);break;case"lpwstr":r=zD(this,this.l),e=4+2*Xl(this,this.l);break;case"lpp4":e=4+Xl(this,this.l),r=$D(this,this.l),e&2&&(e+=2);break;case"8lpp4":e=4+Xl(this,this.l),r=VD(this,this.l),e&3&&(e+=4-(e&3));break;case"cstr":for(e=0,r="";(l=Sm(this,this.l+e++))!==0;)s.push(ev(l));r=s.join("");break;case"_wstr":for(e=0,r="";(l=td(this,this.l+e))!==0;)s.push(ev(l)),e+=2;e+=2,r=s.join("");break;case"dbcs-cont":for(r="",d=this.l,u=0;u<e;++u){if(this.lens&&this.lens.indexOf(d)!==-1)return l=Sm(this,d),this.l=d+1,o=Tx.call(this,e-u,l?"dbcs-cont":"sbcs-cont"),s.join("")+o;s.push(ev(td(this,d))),d+=2}r=s.join(""),e*=2;break;case"cpstr":case"sbcs-cont":for(r="",d=this.l,u=0;u!=e;++u){if(this.lens&&this.lens.indexOf(d)!==-1)return l=Sm(this,d),this.l=d+1,o=Tx.call(this,e-u,l?"dbcs-cont":"sbcs-cont"),s.join("")+o;s.push(ev(Sm(this,d))),d+=1}r=s.join("");break;default:switch(e){case 1:return n=Sm(this,this.l),this.l++,n;case 2:return n=(t==="i"?OK:td)(this,this.l),this.l+=2,n;case 4:case-4:return t==="i"||(this[this.l+3]&128)===0?(n=(e>0?E0:FK)(this,this.l),this.l+=4,n):(a=Xl(this,this.l),this.l+=4,a);case 8:case-8:if(t==="f")return e==8?a=oy(this,this.l):a=oy([this[this.l+7],this[this.l+6],this[this.l+5],this[this.l+4],this[this.l+3],this[this.l+2],this[this.l+1],this[this.l+0]],0),this.l+=8,a;e=8;case 16:r=LD(this,this.l,e);break}}return this.l+=e,r}var DK=function(e,t,r){e[r]=t&255,e[r+1]=t>>>8&255,e[r+2]=t>>>16&255,e[r+3]=t>>>24&255},PK=function(e,t,r){e[r]=t&255,e[r+1]=t>>8&255,e[r+2]=t>>16&255,e[r+3]=t>>24&255},LK=function(e,t,r){e[r]=t&255,e[r+1]=t>>>8&255};function MK(e,t,r){var n=0,a=0;if(r==="dbcs"){for(a=0;a!=t.length;++a)LK(this,t.charCodeAt(a),this.l+2*a);n=2*t.length}else if(r==="sbcs"){for(t=t.replace(/[^\x00-\x7F]/g,"_"),a=0;a!=t.length;++a)this[this.l+a]=t.charCodeAt(a)&255;n=t.length}else if(r==="hex"){for(;a<e;++a)this[this.l++]=parseInt(t.slice(2*a,2*a+2),16)||0;return this}else if(r==="utf16le"){var s=Math.min(this.l+e,this.length);for(a=0;a<Math.min(t.length,e);++a){var l=t.charCodeAt(a);this[this.l++]=l&255,this[this.l++]=l>>8}for(;this.l<s;)this[this.l++]=0;return this}else switch(e){case 1:n=1,this[this.l]=t&255;break;case 2:n=2,this[this.l]=t&255,t>>>=8,this[this.l+1]=t&255;break;case 3:n=3,this[this.l]=t&255,t>>>=8,this[this.l+1]=t&255,t>>>=8,this[this.l+2]=t&255;break;case 4:n=4,DK(this,t,this.l);break;case 8:if(n=8,r==="f"){TK(this,t,this.l);break}case 16:break;case-4:n=4,PK(this,t,this.l);break}return this.l+=n,this}function KD(e,t){var r=LD(this,this.l,e.length>>1);if(r!==e)throw new Error(t+"Expected "+e+" saw "+r);this.l+=e.length>>1}function ci(e,t){e.l=t,e.read_shift=Tx,e.chk=KD,e.write_shift=MK}function Li(e,t){e.l+=t}function nt(e){var t=Cf(e);return ci(t,0),t}function Ad(e,t,r){if(e){var n,a,s;ci(e,e.l||0);for(var l=e.length,o=0,u=0;e.l<l;){o=e.read_shift(1),o&128&&(o=(o&127)+((e.read_shift(1)&127)<<7));var d=ig[o]||ig[65535];for(n=e.read_shift(1),s=n&127,a=1;a<4&&n&128;++a)s+=((n=e.read_shift(1))&127)<<7*a;u=e.l+s;var h=d.f&&d.f(e,s,r);if(e.l=u,t(h,d,o))return}}}function El(){var e=[],t=Or?256:2048,r=function(d){var h=nt(d);return ci(h,0),h},n=r(t),a=function(){n&&(n.length>n.l&&(n=n.slice(0,n.l),n.l=n.length),n.length>0&&e.push(n),n=null)},s=function(d){return n&&d<n.length-n.l?n:(a(),n=r(Math.max(d+1,t)))},l=function(){return a(),Vs(e)},o=function(d){a(),n=d,n.l==null&&(n.l=n.length),s(t)};return{next:s,push:o,end:l,_bufs:e}}function mt(e,t,r,n){var a=+t,s;if(!isNaN(a)){n||(n=ig[a].p||(r||[]).length||0),s=1+(a>=128?1:0)+1,n>=128&&++s,n>=16384&&++s,n>=2097152&&++s;var l=e.next(s);a<=127?l.write_shift(1,a):(l.write_shift(1,(a&127)+128),l.write_shift(1,a>>7));for(var o=0;o!=4;++o)if(n>=128)l.write_shift(1,(n&127)+128),n>>=7;else{l.write_shift(1,n);break}n>0&&uj(r)&&e.push(r)}}function Ox(e,t,r){var n=aa(e);if(t.s?(n.cRel&&(n.c+=t.s.c),n.rRel&&(n.r+=t.s.r)):(n.cRel&&(n.c+=t.c),n.rRel&&(n.r+=t.r)),!r||r.biff<12){for(;n.c>=256;)n.c-=256;for(;n.r>=65536;)n.r-=65536}return n}function hE(e,t,r){var n=aa(e);return n.s=Ox(n.s,t.s,r),n.e=Ox(n.e,t.s,r),n}function Fx(e,t){if(e.cRel&&e.c<0)for(e=aa(e);e.c<0;)e.c+=t>8?16384:256;if(e.rRel&&e.r<0)for(e=aa(e);e.r<0;)e.r+=t>8?1048576:t>5?65536:16384;var r=dr(e);return!e.cRel&&e.cRel!=null&&(r=BK(r)),!e.rRel&&e.rRel!=null&&(r=RK(r)),r}function Lw(e,t){return e.s.r==0&&!e.s.rRel&&e.e.r==(t.biff>=12?1048575:t.biff>=8?65536:16384)&&!e.e.rRel?(e.s.cRel?"":"$")+ja(e.s.c)+":"+(e.e.cRel?"":"$")+ja(e.e.c):e.s.c==0&&!e.s.cRel&&e.e.c==(t.biff>=12?16383:255)&&!e.e.cRel?(e.s.rRel?"":"$")+Ja(e.s.r)+":"+(e.e.rRel?"":"$")+Ja(e.e.r):Fx(e.s,t.biff)+":"+Fx(e.e,t.biff)}function dj(e){return parseInt(IK(e),10)-1}function Ja(e){return""+(e+1)}function RK(e){return e.replace(/([A-Z]|^)(\d+)$/,"$1$$$2")}function IK(e){return e.replace(/\$(\d+)$/,"$1")}function fj(e){for(var t=UK(e),r=0,n=0;n!==t.length;++n)r=26*r+t.charCodeAt(n)-64;return r-1}function ja(e){if(e<0)throw new Error("invalid column "+e);var t="";for(++e;e;e=Math.floor((e-1)/26))t=String.fromCharCode((e-1)%26+65)+t;return t}function BK(e){return e.replace(/^([A-Z])/,"$$$1")}function UK(e){return e.replace(/^\$([A-Z])/,"$1")}function zK(e){return e.replace(/(\$?[A-Z]*)(\$?\d*)/,"$1,$2").split(",")}function Sa(e){for(var t=0,r=0,n=0;n<e.length;++n){var a=e.charCodeAt(n);a>=48&&a<=57?t=10*t+(a-48):a>=65&&a<=90&&(r=26*r+(a-64))}return{c:r-1,r:t-1}}function dr(e){for(var t=e.c+1,r="";t;t=(t-1)/26|0)r=String.fromCharCode((t-1)%26+65)+r;return r+(e.r+1)}function Tl(e){var t=e.indexOf(":");return t==-1?{s:Sa(e),e:Sa(e)}:{s:Sa(e.slice(0,t)),e:Sa(e.slice(t+1))}}function Nr(e,t){return typeof t>"u"||typeof t=="number"?Nr(e.s,e.e):(typeof e!="string"&&(e=dr(e)),typeof t!="string"&&(t=dr(t)),e==t?e:e+":"+t)}function nn(e){var t={s:{c:0,r:0},e:{c:0,r:0}},r=0,n=0,a=0,s=e.length;for(r=0;n<s&&!((a=e.charCodeAt(n)-64)<1||a>26);++n)r=26*r+a;for(t.s.c=--r,r=0;n<s&&!((a=e.charCodeAt(n)-48)<0||a>9);++n)r=10*r+a;if(t.s.r=--r,n===s||a!=10)return t.e.c=t.s.c,t.e.r=t.s.r,t;for(++n,r=0;n!=s&&!((a=e.charCodeAt(n)-64)<1||a>26);++n)r=26*r+a;for(t.e.c=--r,r=0;n!=s&&!((a=e.charCodeAt(n)-48)<0||a>9);++n)r=10*r+a;return t.e.r=--r,t}function mE(e,t){var r=e.t=="d"&&t instanceof Date;if(e.z!=null)try{return e.w=$o(e.z,r?Es(t):t)}catch{}try{return e.w=$o((e.XF||{}).numFmtId||(r?14:0),r?Es(t):t)}catch{return""+t}}function gd(e,t,r){return e==null||e.t==null||e.t=="z"?"":e.w!==void 0?e.w:(e.t=="d"&&!e.z&&r&&r.dateNF&&(e.z=r.dateNF),e.t=="e"?kd[e.v]||e.v:t==null?mE(e,e.v):mE(e,t))}function zf(e,t){var r=t&&t.sheet?t.sheet:"Sheet1",n={};return n[r]=e,{SheetNames:[r],Sheets:n}}function GD(e,t,r){var n=r||{},a=e?Array.isArray(e):n.dense,s=e||(a?[]:{}),l=0,o=0;if(s&&n.origin!=null){if(typeof n.origin=="number")l=n.origin;else{var u=typeof n.origin=="string"?Sa(n.origin):n.origin;l=u.r,o=u.c}s["!ref"]||(s["!ref"]="A1:A1")}var d={s:{c:1e7,r:1e7},e:{c:0,r:0}};if(s["!ref"]){var h=nn(s["!ref"]);d.s.c=h.s.c,d.s.r=h.s.r,d.e.c=Math.max(d.e.c,h.e.c),d.e.r=Math.max(d.e.r,h.e.r),l==-1&&(d.e.r=l=h.e.r+1)}for(var m=0;m!=t.length;++m)if(t[m]){if(!Array.isArray(t[m]))throw new Error("aoa_to_sheet expects an array of arrays");for(var g=0;g!=t[m].length;++g)if(!(typeof t[m][g]>"u")){var x={v:t[m][g]},b=l+m,v=o+g;if(d.s.r>b&&(d.s.r=b),d.s.c>v&&(d.s.c=v),d.e.r<b&&(d.e.r=b),d.e.c<v&&(d.e.c=v),t[m][g]&&typeof t[m][g]=="object"&&!Array.isArray(t[m][g])&&!(t[m][g]instanceof Date))x=t[m][g];else if(Array.isArray(x.v)&&(x.f=t[m][g][1],x.v=x.v[0]),x.v===null)if(x.f)x.t="n";else if(n.nullError)x.t="e",x.v=0;else if(n.sheetStubs)x.t="z";else continue;else typeof x.v=="number"?x.t="n":typeof x.v=="boolean"?x.t="b":x.v instanceof Date?(x.z=n.dateNF||ur[14],n.cellDates?(x.t="d",x.w=$o(x.z,Es(x.v))):(x.t="n",x.v=Es(x.v),x.w=$o(x.z,x.v))):x.t="s";if(a)s[b]||(s[b]=[]),s[b][v]&&s[b][v].z&&(x.z=s[b][v].z),s[b][v]=x;else{var w=dr({c:v,r:b});s[w]&&s[w].z&&(x.z=s[w].z),s[w]=x}}}return d.s.c<1e7&&(s["!ref"]=Nr(d)),s}function fp(e,t){return GD(null,e,t)}function qK(e){return e.read_shift(4,"i")}function kc(e,t){return t||(t=nt(4)),t.write_shift(4,e),t}function Di(e){var t=e.read_shift(4);return t===0?"":e.read_shift(t,"dbcs")}function Ws(e,t){var r=!1;return t==null&&(r=!0,t=nt(4+2*e.length)),t.write_shift(4,e.length),e.length>0&&t.write_shift(0,e,"dbcs"),r?t.slice(0,t.l):t}function $K(e){return{ich:e.read_shift(2),ifnt:e.read_shift(2)}}function HK(e,t){return t||(t=nt(4)),t.write_shift(2,0),t.write_shift(2,0),t}function hj(e,t){var r=e.l,n=e.read_shift(1),a=Di(e),s=[],l={t:a,h:a};if((n&1)!==0){for(var o=e.read_shift(4),u=0;u!=o;++u)s.push($K(e));l.r=s}else l.r=[{ich:0,ifnt:0}];return e.l=r+t,l}function VK(e,t){var r=!1;return t==null&&(r=!0,t=nt(15+4*e.t.length)),t.write_shift(1,0),Ws(e.t,t),r?t.slice(0,t.l):t}var WK=hj;function KK(e,t){var r=!1;return t==null&&(r=!0,t=nt(23+4*e.t.length)),t.write_shift(1,1),Ws(e.t,t),t.write_shift(4,1),HK({},t),r?t.slice(0,t.l):t}function Go(e){var t=e.read_shift(4),r=e.read_shift(2);return r+=e.read_shift(1)<<16,e.l++,{c:t,iStyleRef:r}}function xh(e,t){return t==null&&(t=nt(8)),t.write_shift(-4,e.c),t.write_shift(3,e.iStyleRef||e.s),t.write_shift(1,0),t}function gh(e){var t=e.read_shift(2);return t+=e.read_shift(1)<<16,e.l++,{c:-1,iStyleRef:t}}function vh(e,t){return t==null&&(t=nt(4)),t.write_shift(3,e.iStyleRef||e.s),t.write_shift(1,0),t}var GK=Di,YD=Ws;function mj(e){var t=e.read_shift(4);return t===0||t===4294967295?"":e.read_shift(t,"dbcs")}function cy(e,t){var r=!1;return t==null&&(r=!0,t=nt(127)),t.write_shift(4,e.length>0?e.length:4294967295),e.length>0&&t.write_shift(0,e,"dbcs"),r?t.slice(0,t.l):t}var YK=Di,o4=mj,pj=cy;function xj(e){var t=e.slice(e.l,e.l+4),r=t[0]&1,n=t[0]&2;e.l+=4;var a=n===0?oy([0,0,0,0,t[0]&252,t[1],t[2],t[3]],0):E0(t,0)>>2;return r?a/100:a}function XD(e,t){t==null&&(t=nt(4));var r=0,n=0,a=e*100;if(e==(e|0)&&e>=-536870912&&e<1<<29?n=1:a==(a|0)&&a>=-536870912&&a<1<<29&&(n=1,r=1),n)t.write_shift(-4,((r?a:e)<<2)+(r+2));else throw new Error("unsupported RkNumber "+e)}function QD(e){var t={s:{},e:{}};return t.s.r=e.read_shift(4),t.e.r=e.read_shift(4),t.s.c=e.read_shift(4),t.e.c=e.read_shift(4),t}function XK(e,t){return t||(t=nt(16)),t.write_shift(4,e.s.r),t.write_shift(4,e.e.r),t.write_shift(4,e.s.c),t.write_shift(4,e.e.c),t}var yh=QD,hp=XK;function Ti(e){if(e.length-e.l<8)throw"XLS Xnum Buffer underflow";return e.read_shift(8,"f")}function Z0(e,t){return(t||nt(8)).write_shift(8,e,"f")}function QK(e){var t={},r=e.read_shift(1),n=r>>>1,a=e.read_shift(1),s=e.read_shift(2,"i"),l=e.read_shift(1),o=e.read_shift(1),u=e.read_shift(1);switch(e.l++,n){case 0:t.auto=1;break;case 1:t.index=a;var d=M0[a];d&&(t.rgb=rg(d));break;case 2:t.rgb=rg([l,o,u]);break;case 3:t.theme=a;break}return s!=0&&(t.tint=s>0?s/32767:s/32768),t}function uy(e,t){if(t||(t=nt(8)),!e||e.auto)return t.write_shift(4,0),t.write_shift(4,0),t;e.index!=null?(t.write_shift(1,2),t.write_shift(1,e.index)):e.theme!=null?(t.write_shift(1,6),t.write_shift(1,e.theme)):(t.write_shift(1,5),t.write_shift(1,0));var r=e.tint||0;if(r>0?r*=32767:r<0&&(r*=32768),t.write_shift(2,r),!e.rgb||e.theme!=null)t.write_shift(2,0),t.write_shift(1,0),t.write_shift(1,0);else{var n=e.rgb||"FFFFFF";typeof n=="number"&&(n=("000000"+n.toString(16)).slice(-6)),t.write_shift(1,parseInt(n.slice(0,2),16)),t.write_shift(1,parseInt(n.slice(2,4),16)),t.write_shift(1,parseInt(n.slice(4,6),16)),t.write_shift(1,255)}return t}function ZK(e){var t=e.read_shift(1);e.l++;var r={fBold:t&1,fItalic:t&2,fUnderline:t&4,fStrikeout:t&8,fOutline:t&16,fShadow:t&32,fCondense:t&64,fExtend:t&128};return r}function JK(e,t){t||(t=nt(2));var r=(e.italic?2:0)|(e.strike?8:0)|(e.outline?16:0)|(e.shadow?32:0)|(e.condense?64:0)|(e.extend?128:0);return t.write_shift(1,r),t.write_shift(1,0),t}function ZD(e,t){var r={2:"BITMAP",3:"METAFILEPICT",8:"DIB",14:"ENHMETAFILE"},n=e.read_shift(4);switch(n){case 0:return"";case 4294967295:case 4294967294:return r[e.read_shift(4)]||""}if(n>400)throw new Error("Unsupported Clipboard: "+n.toString(16));return e.l-=4,e.read_shift(0,t==1?"lpstr":"lpwstr")}function eG(e){return ZD(e,1)}function tG(e){return ZD(e,2)}var gj=2,jl=3,rv=11,pE=12,dy=19,nv=64,rG=65,nG=71,aG=4108,sG=4126,qs=80,JD=81,iG=[qs,JD],c4={1:{n:"CodePage",t:gj},2:{n:"Category",t:qs},3:{n:"PresentationFormat",t:qs},4:{n:"ByteCount",t:jl},5:{n:"LineCount",t:jl},6:{n:"ParagraphCount",t:jl},7:{n:"SlideCount",t:jl},8:{n:"NoteCount",t:jl},9:{n:"HiddenCount",t:jl},10:{n:"MultimediaClipCount",t:jl},11:{n:"ScaleCrop",t:rv},12:{n:"HeadingPairs",t:aG},13:{n:"TitlesOfParts",t:sG},14:{n:"Manager",t:qs},15:{n:"Company",t:qs},16:{n:"LinksUpToDate",t:rv},17:{n:"CharacterCount",t:jl},19:{n:"SharedDoc",t:rv},22:{n:"HyperlinksChanged",t:rv},23:{n:"AppVersion",t:jl,p:"version"},24:{n:"DigSig",t:rG},26:{n:"ContentType",t:qs},27:{n:"ContentStatus",t:qs},28:{n:"Language",t:qs},29:{n:"Version",t:qs},255:{},2147483648:{n:"Locale",t:dy},2147483651:{n:"Behavior",t:dy},1919054434:{}},u4={1:{n:"CodePage",t:gj},2:{n:"Title",t:qs},3:{n:"Subject",t:qs},4:{n:"Author",t:qs},5:{n:"Keywords",t:qs},6:{n:"Comments",t:qs},7:{n:"Template",t:qs},8:{n:"LastAuthor",t:qs},9:{n:"RevNumber",t:qs},10:{n:"EditTime",t:nv},11:{n:"LastPrinted",t:nv},12:{n:"CreatedDate",t:nv},13:{n:"ModifiedDate",t:nv},14:{n:"PageCount",t:jl},15:{n:"WordCount",t:jl},16:{n:"CharCount",t:jl},17:{n:"Thumbnail",t:nG},18:{n:"Application",t:qs},19:{n:"DocSecurity",t:jl},255:{},2147483648:{n:"Locale",t:dy},2147483651:{n:"Behavior",t:dy},1919054434:{}},xE={1:"US",2:"CA",3:"",7:"RU",20:"EG",30:"GR",31:"NL",32:"BE",33:"FR",34:"ES",36:"HU",39:"IT",41:"CH",43:"AT",44:"GB",45:"DK",46:"SE",47:"NO",48:"PL",49:"DE",52:"MX",55:"BR",61:"AU",64:"NZ",66:"TH",81:"JP",82:"KR",84:"VN",86:"CN",90:"TR",105:"JS",213:"DZ",216:"MA",218:"LY",351:"PT",354:"IS",358:"FI",420:"CZ",886:"TW",961:"LB",962:"JO",963:"SY",964:"IQ",965:"KW",966:"SA",971:"AE",972:"IL",974:"QA",981:"IR",65535:"US"},lG=[null,"solid","mediumGray","darkGray","lightGray","darkHorizontal","darkVertical","darkDown","darkUp","darkGrid","darkTrellis","lightHorizontal","lightVertical","lightDown","lightUp","lightGrid","lightTrellis","gray125","gray0625"];function oG(e){return e.map(function(t){return[t>>16&255,t>>8&255,t&255]})}var cG=oG([0,16777215,16711680,65280,255,16776960,16711935,65535,0,16777215,16711680,65280,255,16776960,16711935,65535,8388608,32768,128,8421376,8388736,32896,12632256,8421504,10066431,10040166,16777164,13434879,6684774,16744576,26316,13421823,128,16711935,16776960,65535,8388736,8388608,32896,255,52479,13434879,13434828,16777113,10079487,16751052,13408767,16764057,3368703,3394764,10079232,16763904,16750848,16737792,6710937,9868950,13158,3381606,13056,3355392,10040064,10040166,3355545,3355443,16777215,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0]),M0=aa(cG),kd={0:"#NULL!",7:"#DIV/0!",15:"#VALUE!",23:"#REF!",29:"#NAME?",36:"#NUM!",42:"#N/A",43:"#GETTING_DATA",255:"#WTF?"},eP={"#NULL!":0,"#DIV/0!":7,"#VALUE!":15,"#REF!":23,"#NAME?":29,"#NUM!":36,"#N/A":42,"#GETTING_DATA":43,"#WTF?":255},d4={"application/vnd.openxmlformats-officedocument.spreadsheetml.sheet.main+xml":"workbooks","application/vnd.ms-excel.sheet.macroEnabled.main+xml":"workbooks","application/vnd.ms-excel.sheet.binary.macroEnabled.main":"workbooks","application/vnd.ms-excel.addin.macroEnabled.main+xml":"workbooks","application/vnd.openxmlformats-officedocument.spreadsheetml.template.main+xml":"workbooks","application/vnd.openxmlformats-officedocument.spreadsheetml.worksheet+xml":"sheets","application/vnd.ms-excel.worksheet":"sheets","application/vnd.ms-excel.binIndexWs":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.chartsheet+xml":"charts","application/vnd.ms-excel.chartsheet":"charts","application/vnd.ms-excel.macrosheet+xml":"macros","application/vnd.ms-excel.macrosheet":"macros","application/vnd.ms-excel.intlmacrosheet":"TODO","application/vnd.ms-excel.binIndexMs":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.dialogsheet+xml":"dialogs","application/vnd.ms-excel.dialogsheet":"dialogs","application/vnd.openxmlformats-officedocument.spreadsheetml.sharedStrings+xml":"strs","application/vnd.ms-excel.sharedStrings":"strs","application/vnd.openxmlformats-officedocument.spreadsheetml.styles+xml":"styles","application/vnd.ms-excel.styles":"styles","application/vnd.openxmlformats-package.core-properties+xml":"coreprops","application/vnd.openxmlformats-officedocument.custom-properties+xml":"custprops","application/vnd.openxmlformats-officedocument.extended-properties+xml":"extprops","application/vnd.openxmlformats-officedocument.customXmlProperties+xml":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.customProperty":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.comments+xml":"comments","application/vnd.ms-excel.comments":"comments","application/vnd.ms-excel.threadedcomments+xml":"threadedcomments","application/vnd.ms-excel.person+xml":"people","application/vnd.openxmlformats-officedocument.spreadsheetml.sheetMetadata+xml":"metadata","application/vnd.ms-excel.sheetMetadata":"metadata","application/vnd.ms-excel.pivotTable":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.pivotTable+xml":"TODO","application/vnd.openxmlformats-officedocument.drawingml.chart+xml":"TODO","application/vnd.ms-office.chartcolorstyle+xml":"TODO","application/vnd.ms-office.chartstyle+xml":"TODO","application/vnd.ms-office.chartex+xml":"TODO","application/vnd.ms-excel.calcChain":"calcchains","application/vnd.openxmlformats-officedocument.spreadsheetml.calcChain+xml":"calcchains","application/vnd.openxmlformats-officedocument.spreadsheetml.printerSettings":"TODO","application/vnd.ms-office.activeX":"TODO","application/vnd.ms-office.activeX+xml":"TODO","application/vnd.ms-excel.attachedToolbars":"TODO","application/vnd.ms-excel.connections":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.connections+xml":"TODO","application/vnd.ms-excel.externalLink":"links","application/vnd.openxmlformats-officedocument.spreadsheetml.externalLink+xml":"links","application/vnd.ms-excel.pivotCacheDefinition":"TODO","application/vnd.ms-excel.pivotCacheRecords":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.pivotCacheDefinition+xml":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.pivotCacheRecords+xml":"TODO","application/vnd.ms-excel.queryTable":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.queryTable+xml":"TODO","application/vnd.ms-excel.userNames":"TODO","application/vnd.ms-excel.revisionHeaders":"TODO","application/vnd.ms-excel.revisionLog":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.revisionHeaders+xml":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.revisionLog+xml":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.userNames+xml":"TODO","application/vnd.ms-excel.tableSingleCells":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.tableSingleCells+xml":"TODO","application/vnd.ms-excel.slicer":"TODO","application/vnd.ms-excel.slicerCache":"TODO","application/vnd.ms-excel.slicer+xml":"TODO","application/vnd.ms-excel.slicerCache+xml":"TODO","application/vnd.ms-excel.wsSortMap":"TODO","application/vnd.ms-excel.table":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.table+xml":"TODO","application/vnd.openxmlformats-officedocument.theme+xml":"themes","application/vnd.openxmlformats-officedocument.themeOverride+xml":"TODO","application/vnd.ms-excel.Timeline+xml":"TODO","application/vnd.ms-excel.TimelineCache+xml":"TODO","application/vnd.ms-office.vbaProject":"vba","application/vnd.ms-office.vbaProjectSignature":"TODO","application/vnd.ms-office.volatileDependencies":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.volatileDependencies+xml":"TODO","application/vnd.ms-excel.controlproperties+xml":"TODO","application/vnd.openxmlformats-officedocument.model+data":"TODO","application/vnd.ms-excel.Survey+xml":"TODO","application/vnd.openxmlformats-officedocument.drawing+xml":"drawings","application/vnd.openxmlformats-officedocument.drawingml.chartshapes+xml":"TODO","application/vnd.openxmlformats-officedocument.drawingml.diagramColors+xml":"TODO","application/vnd.openxmlformats-officedocument.drawingml.diagramData+xml":"TODO","application/vnd.openxmlformats-officedocument.drawingml.diagramLayout+xml":"TODO","application/vnd.openxmlformats-officedocument.drawingml.diagramStyle+xml":"TODO","application/vnd.openxmlformats-officedocument.vmlDrawing":"TODO","application/vnd.openxmlformats-package.relationships+xml":"rels","application/vnd.openxmlformats-officedocument.oleObject":"TODO","image/png":"TODO",sheet:"js"},av={workbooks:{xlsx:"application/vnd.openxmlformats-officedocument.spreadsheetml.sheet.main+xml",xlsm:"application/vnd.ms-excel.sheet.macroEnabled.main+xml",xlsb:"application/vnd.ms-excel.sheet.binary.macroEnabled.main",xlam:"application/vnd.ms-excel.addin.macroEnabled.main+xml",xltx:"application/vnd.openxmlformats-officedocument.spreadsheetml.template.main+xml"},strs:{xlsx:"application/vnd.openxmlformats-officedocument.spreadsheetml.sharedStrings+xml",xlsb:"application/vnd.ms-excel.sharedStrings"},comments:{xlsx:"application/vnd.openxmlformats-officedocument.spreadsheetml.comments+xml",xlsb:"application/vnd.ms-excel.comments"},sheets:{xlsx:"application/vnd.openxmlformats-officedocument.spreadsheetml.worksheet+xml",xlsb:"application/vnd.ms-excel.worksheet"},charts:{xlsx:"application/vnd.openxmlformats-officedocument.spreadsheetml.chartsheet+xml",xlsb:"application/vnd.ms-excel.chartsheet"},dialogs:{xlsx:"application/vnd.openxmlformats-officedocument.spreadsheetml.dialogsheet+xml",xlsb:"application/vnd.ms-excel.dialogsheet"},macros:{xlsx:"application/vnd.ms-excel.macrosheet+xml",xlsb:"application/vnd.ms-excel.macrosheet"},metadata:{xlsx:"application/vnd.openxmlformats-officedocument.spreadsheetml.sheetMetadata+xml",xlsb:"application/vnd.ms-excel.sheetMetadata"},styles:{xlsx:"application/vnd.openxmlformats-officedocument.spreadsheetml.styles+xml",xlsb:"application/vnd.ms-excel.styles"}};function vj(){return{workbooks:[],sheets:[],charts:[],dialogs:[],macros:[],rels:[],strs:[],comments:[],threadedcomments:[],links:[],coreprops:[],extprops:[],custprops:[],themes:[],styles:[],calcchains:[],vba:[],drawings:[],metadata:[],people:[],TODO:[],xmlns:""}}function uG(e){var t=vj();if(!e||!e.match)return t;var r={};if((e.match(Ri)||[]).forEach(function(n){var a=hr(n);switch(a[0].replace(bK,"<")){case"<?xml":break;case"<Types":t.xmlns=a["xmlns"+(a[0].match(/<(\w+):/)||["",""])[1]];break;case"<Default":r[a.Extension]=a.ContentType;break;case"<Override":t[d4[a.ContentType]]!==void 0&&t[d4[a.ContentType]].push(a.PartName);break}}),t.xmlns!==ks.CT)throw new Error("Unknown Namespace: "+t.xmlns);return t.calcchain=t.calcchains.length>0?t.calcchains[0]:"",t.sst=t.strs.length>0?t.strs[0]:"",t.style=t.styles.length>0?t.styles[0]:"",t.defaults=r,delete t.calcchains,t}function tP(e,t){var r=uK(d4),n=[],a;n[n.length]=es,n[n.length]=Nt("Types",null,{xmlns:ks.CT,"xmlns:xsd":ks.xsd,"xmlns:xsi":ks.xsi}),n=n.concat([["xml","application/xml"],["bin","application/vnd.ms-excel.sheet.binary.macroEnabled.main"],["vml","application/vnd.openxmlformats-officedocument.vmlDrawing"],["data","application/vnd.openxmlformats-officedocument.model+data"],["bmp","image/bmp"],["png","image/png"],["gif","image/gif"],["emf","image/x-emf"],["wmf","image/x-wmf"],["jpg","image/jpeg"],["jpeg","image/jpeg"],["tif","image/tiff"],["tiff","image/tiff"],["pdf","application/pdf"],["rels","application/vnd.openxmlformats-package.relationships+xml"]].map(function(u){return Nt("Default",null,{Extension:u[0],ContentType:u[1]})}));var s=function(u){e[u]&&e[u].length>0&&(a=e[u][0],n[n.length]=Nt("Override",null,{PartName:(a[0]=="/"?"":"/")+a,ContentType:av[u][t.bookType]||av[u].xlsx}))},l=function(u){(e[u]||[]).forEach(function(d){n[n.length]=Nt("Override",null,{PartName:(d[0]=="/"?"":"/")+d,ContentType:av[u][t.bookType]||av[u].xlsx})})},o=function(u){(e[u]||[]).forEach(function(d){n[n.length]=Nt("Override",null,{PartName:(d[0]=="/"?"":"/")+d,ContentType:r[u][0]})})};return s("workbooks"),l("sheets"),l("charts"),o("themes"),["strs","styles"].forEach(s),["coreprops","extprops","custprops"].forEach(o),o("vba"),o("comments"),o("threadedcomments"),o("drawings"),l("metadata"),o("people"),n.length>2&&(n[n.length]="</Types>",n[1]=n[1].replace("/>",">")),n.join("")}var Pr={WB:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/officeDocument",SHEET:"http://sheetjs.openxmlformats.org/officeDocument/2006/relationships/officeDocument",HLINK:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/hyperlink",VML:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/vmlDrawing",XPATH:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/externalLinkPath",XMISS:"http://schemas.microsoft.com/office/2006/relationships/xlExternalLinkPath/xlPathMissing",XLINK:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/externalLink",CXML:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/customXml",CXMLP:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/customXmlProps",CMNT:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/comments",CORE_PROPS:"http://schemas.openxmlformats.org/package/2006/relationships/metadata/core-properties",EXT_PROPS:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/extended-properties",CUST_PROPS:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/custom-properties",SST:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/sharedStrings",STY:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/styles",THEME:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/theme",CHART:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/chart",CHARTEX:"http://schemas.microsoft.com/office/2014/relationships/chartEx",CS:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/chartsheet",WS:["http://schemas.openxmlformats.org/officeDocument/2006/relationships/worksheet","http://purl.oclc.org/ooxml/officeDocument/relationships/worksheet"],DS:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/dialogsheet",MS:"http://schemas.microsoft.com/office/2006/relationships/xlMacrosheet",IMG:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/image",DRAW:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/drawing",XLMETA:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/sheetMetadata",TCMNT:"http://schemas.microsoft.com/office/2017/10/relationships/threadedComment",PEOPLE:"http://schemas.microsoft.com/office/2017/10/relationships/person",VBA:"http://schemas.microsoft.com/office/2006/relationships/vbaProject"};function tg(e){var t=e.lastIndexOf("/");return e.slice(0,t+1)+"_rels/"+e.slice(t+1)+".rels"}function Dx(e,t){var r={"!id":{}};if(!e)return r;t.charAt(0)!=="/"&&(t="/"+t);var n={};return(e.match(Ri)||[]).forEach(function(a){var s=hr(a);if(s[0]==="<Relationship"){var l={};l.Type=s.Type,l.Target=s.Target,l.Id=s.Id,s.TargetMode&&(l.TargetMode=s.TargetMode);var o=s.TargetMode==="External"?s.Target:Sx(s.Target,t);r[o]=l,n[s.Id]=l}}),r["!id"]=n,r}function Mm(e){var t=[es,Nt("Relationships",null,{xmlns:ks.RELS})];return za(e["!id"]).forEach(function(r){t[t.length]=Nt("Relationship",null,e["!id"][r])}),t.length>2&&(t[t.length]="</Relationships>",t[1]=t[1].replace("/>",">")),t.join("")}function Nn(e,t,r,n,a,s){if(a||(a={}),e["!id"]||(e["!id"]={}),e["!idx"]||(e["!idx"]=1),t<0)for(t=e["!idx"];e["!id"]["rId"+t];++t);if(e["!idx"]=t+1,a.Id="rId"+t,a.Type=n,a.Target=r,[Pr.HLINK,Pr.XPATH,Pr.XMISS].indexOf(a.Type)>-1&&(a.TargetMode="External"),e["!id"][a.Id])throw new Error("Cannot rewrite rId "+t);return e["!id"][a.Id]=a,e[("/"+a.Target).replace("//","/")]=a,t}var dG="application/vnd.oasis.opendocument.spreadsheet";function fG(e,t){for(var r=oj(e),n,a;n=eg.exec(r);)switch(n[3]){case"manifest":break;case"file-entry":if(a=hr(n[0],!1),a.path=="/"&&a.type!==dG)throw new Error("This OpenDocument is not a spreadsheet");break;case"encryption-data":case"algorithm":case"start-key-generation":case"key-derivation":throw new Error("Unsupported ODS Encryption");default:if(t&&t.WTF)throw n}}function hG(e){var t=[es];t.push(`<manifest:manifest xmlns:manifest="urn:oasis:names:tc:opendocument:xmlns:manifest:1.0" manifest:version="1.2">
`),t.push(`  <manifest:file-entry manifest:full-path="/" manifest:version="1.2" manifest:media-type="application/vnd.oasis.opendocument.spreadsheet"/>
`);for(var r=0;r<e.length;++r)t.push('  <manifest:file-entry manifest:full-path="'+e[r][0]+'" manifest:media-type="'+e[r][1]+`"/>
`);return t.push("</manifest:manifest>"),t.join("")}function gE(e,t,r){return['  <rdf:Description rdf:about="'+e+`">
`,'    <rdf:type rdf:resource="http://docs.oasis-open.org/ns/office/1.2/meta/'+(r||"odf")+"#"+t+`"/>
`,`  </rdf:Description>
`].join("")}function mG(e,t){return['  <rdf:Description rdf:about="'+e+`">
`,'    <ns0:hasPart xmlns:ns0="http://docs.oasis-open.org/ns/office/1.2/meta/pkg#" rdf:resource="'+t+`"/>
`,`  </rdf:Description>
`].join("")}function pG(e){var t=[es];t.push(`<rdf:RDF xmlns:rdf="http://www.w3.org/1999/02/22-rdf-syntax-ns#">
`);for(var r=0;r!=e.length;++r)t.push(gE(e[r][0],e[r][1])),t.push(mG("",e[r][0]));return t.push(gE("","Document","pkg")),t.push("</rdf:RDF>"),t.join("")}function rP(){return'<office:document-meta xmlns:office="urn:oasis:names:tc:opendocument:xmlns:office:1.0" xmlns:meta="urn:oasis:names:tc:opendocument:xmlns:meta:1.0" xmlns:dc="http://purl.org/dc/elements/1.1/" xmlns:xlink="http://www.w3.org/1999/xlink" office:version="1.2"><office:meta><meta:generator>SheetJS '+ny.version+"</meta:generator></office:meta></office:document-meta>"}var zo=[["cp:category","Category"],["cp:contentStatus","ContentStatus"],["cp:keywords","Keywords"],["cp:lastModifiedBy","LastAuthor"],["cp:lastPrinted","LastPrinted"],["cp:revision","RevNumber"],["cp:version","Version"],["dc:creator","Author"],["dc:description","Comments"],["dc:identifier","Identifier"],["dc:language","Language"],["dc:subject","Subject"],["dc:title","Title"],["dcterms:created","CreatedDate","date"],["dcterms:modified","ModifiedDate","date"]],xG=(function(){for(var e=new Array(zo.length),t=0;t<zo.length;++t){var r=zo[t],n="(?:"+r[0].slice(0,r[0].indexOf(":"))+":)"+r[0].slice(r[0].indexOf(":")+1);e[t]=new RegExp("<"+n+"[^>]*>([\\s\\S]*?)</"+n+">")}return e})();function nP(e){var t={};e=Rn(e);for(var r=0;r<zo.length;++r){var n=zo[r],a=e.match(xG[r]);a!=null&&a.length>0&&(t[n[1]]=rn(a[1])),n[2]==="date"&&t[n[1]]&&(t[n[1]]=na(t[n[1]]))}return t}function Mw(e,t,r,n,a){a[e]!=null||t==null||t===""||(a[e]=t,t=Sn(t),n[n.length]=r?Nt(e,t,r):di(e,t))}function aP(e,t){var r=t||{},n=[es,Nt("cp:coreProperties",null,{"xmlns:cp":ks.CORE_PROPS,"xmlns:dc":ks.dc,"xmlns:dcterms":ks.dcterms,"xmlns:dcmitype":ks.dcmitype,"xmlns:xsi":ks.xsi})],a={};if(!e&&!r.Props)return n.join("");e&&(e.CreatedDate!=null&&Mw("dcterms:created",typeof e.CreatedDate=="string"?e.CreatedDate:l4(e.CreatedDate,r.WTF),{"xsi:type":"dcterms:W3CDTF"},n,a),e.ModifiedDate!=null&&Mw("dcterms:modified",typeof e.ModifiedDate=="string"?e.ModifiedDate:l4(e.ModifiedDate,r.WTF),{"xsi:type":"dcterms:W3CDTF"},n,a));for(var s=0;s!=zo.length;++s){var l=zo[s],o=r.Props&&r.Props[l[1]]!=null?r.Props[l[1]]:e?e[l[1]]:null;o===!0?o="1":o===!1?o="0":typeof o=="number"&&(o=String(o)),o!=null&&Mw(l[0],o,null,n,a)}return n.length>2&&(n[n.length]="</cp:coreProperties>",n[1]=n[1].replace("/>",">")),n.join("")}var R0=[["Application","Application","string"],["AppVersion","AppVersion","string"],["Company","Company","string"],["DocSecurity","DocSecurity","string"],["Manager","Manager","string"],["HyperlinksChanged","HyperlinksChanged","bool"],["SharedDoc","SharedDoc","bool"],["LinksUpToDate","LinksUpToDate","bool"],["ScaleCrop","ScaleCrop","bool"],["HeadingPairs","HeadingPairs","raw"],["TitlesOfParts","TitlesOfParts","raw"]],sP=["Worksheets","SheetNames","NamedRanges","DefinedNames","Chartsheets","ChartNames"];function iP(e,t,r,n){var a=[];if(typeof e=="string")a=lE(e,n);else for(var s=0;s<e.length;++s)a=a.concat(e[s].map(function(h){return{v:h}}));var l=typeof t=="string"?lE(t,n).map(function(h){return h.v}):t,o=0,u=0;if(l.length>0)for(var d=0;d!==a.length;d+=2){switch(u=+a[d+1].v,a[d].v){case"Worksheets":case"":case"":case" ":case"":case" ":case"Arbeitsbltter":case"alma Sayfalar":case"Feuilles de calcul":case"Fogli di lavoro":case"Folhas de clculo":case"Planilhas":case"Regneark":case"Hojas de clculo":case"Werkbladen":r.Worksheets=u,r.SheetNames=l.slice(o,o+u);break;case"Named Ranges":case"Rangos con nombre":case"":case"Benannte Bereiche":case"Navngivne omrder":r.NamedRanges=u,r.DefinedNames=l.slice(o,o+u);break;case"Charts":case"Diagramme":r.Chartsheets=u,r.ChartNames=l.slice(o,o+u);break}o+=u}}function gG(e,t,r){var n={};return t||(t={}),e=Rn(e),R0.forEach(function(a){var s=(e.match(Zx(a[0]))||[])[1];switch(a[2]){case"string":s&&(t[a[1]]=rn(s));break;case"bool":t[a[1]]=s==="true";break;case"raw":var l=e.match(new RegExp("<"+a[0]+"[^>]*>([\\s\\S]*?)</"+a[0]+">"));l&&l.length>0&&(n[a[1]]=l[1]);break}}),n.HeadingPairs&&n.TitlesOfParts&&iP(n.HeadingPairs,n.TitlesOfParts,t,r),t}function lP(e){var t=[],r=Nt;return e||(e={}),e.Application="SheetJS",t[t.length]=es,t[t.length]=Nt("Properties",null,{xmlns:ks.EXT_PROPS,"xmlns:vt":ks.vt}),R0.forEach(function(n){if(e[n[1]]!==void 0){var a;switch(n[2]){case"string":a=Sn(String(e[n[1]]));break;case"bool":a=e[n[1]]?"true":"false";break}a!==void 0&&(t[t.length]=r(n[0],a))}}),t[t.length]=r("HeadingPairs",r("vt:vector",r("vt:variant","<vt:lpstr>Worksheets</vt:lpstr>")+r("vt:variant",r("vt:i4",String(e.Worksheets))),{size:2,baseType:"variant"})),t[t.length]=r("TitlesOfParts",r("vt:vector",e.SheetNames.map(function(n){return"<vt:lpstr>"+Sn(n)+"</vt:lpstr>"}).join(""),{size:e.Worksheets,baseType:"lpstr"})),t.length>2&&(t[t.length]="</Properties>",t[1]=t[1].replace("/>",">")),t.join("")}var vG=/<[^>]+>[^<]*/g;function yG(e,t){var r={},n="",a=e.match(vG);if(a)for(var s=0;s!=a.length;++s){var l=a[s],o=hr(l);switch(o[0]){case"<?xml":break;case"<Properties":break;case"<property":n=rn(o.name);break;case"</property>":n=null;break;default:if(l.indexOf("<vt:")===0){var u=l.split(">"),d=u[0].slice(4),h=u[1];switch(d){case"lpstr":case"bstr":case"lpwstr":r[n]=rn(h);break;case"bool":r[n]=ea(h);break;case"i1":case"i2":case"i4":case"i8":case"int":case"uint":r[n]=parseInt(h,10);break;case"r4":case"r8":case"decimal":r[n]=parseFloat(h);break;case"filetime":case"date":r[n]=na(h);break;case"cy":case"error":r[n]=rn(h);break;default:if(d.slice(-1)=="/")break;t.WTF&&typeof console<"u"&&console.warn("Unexpected",l,d,u)}}else if(l.slice(0,2)!=="</"){if(t.WTF)throw new Error(l)}}}return r}function oP(e){var t=[es,Nt("Properties",null,{xmlns:ks.CUST_PROPS,"xmlns:vt":ks.vt})];if(!e)return t.join("");var r=1;return za(e).forEach(function(a){++r,t[t.length]=Nt("property",EK(e[a]),{fmtid:"{D5CDD505-2E9C-101B-9397-08002B2CF9AE}",pid:r,name:Sn(a)})}),t.length>2&&(t[t.length]="</Properties>",t[1]=t[1].replace("/>",">")),t.join("")}var f4={Title:"Title",Subject:"Subject",Author:"Author",Keywords:"Keywords",Comments:"Description",LastAuthor:"LastAuthor",RevNumber:"Revision",Application:"AppName",LastPrinted:"LastPrinted",CreatedDate:"Created",ModifiedDate:"LastSaved",Category:"Category",Manager:"Manager",Company:"Company",AppVersion:"Version",ContentStatus:"ContentStatus",Identifier:"Identifier",Language:"Language"},Rw;function bG(e,t,r){Rw||(Rw=x2(f4)),t=Rw[t]||t,e[t]=r}function wG(e,t){var r=[];return za(f4).map(function(n){for(var a=0;a<zo.length;++a)if(zo[a][1]==n)return zo[a];for(a=0;a<R0.length;++a)if(R0[a][1]==n)return R0[a];throw n}).forEach(function(n){if(e[n[1]]!=null){var a=t&&t.Props&&t.Props[n[1]]!=null?t.Props[n[1]]:e[n[1]];switch(n[2]){case"date":a=new Date(a).toISOString().replace(/\.\d*Z/,"Z");break}typeof a=="number"?a=String(a):a===!0||a===!1?a=a?"1":"0":a instanceof Date&&(a=new Date(a).toISOString().replace(/\.\d*Z/,"")),r.push(di(f4[n[1]]||n[1],a))}}),Nt("DocumentProperties",r.join(""),{xmlns:Yl.o})}function NG(e,t){var r=["Worksheets","SheetNames"],n="CustomDocumentProperties",a=[];return e&&za(e).forEach(function(s){if(Object.prototype.hasOwnProperty.call(e,s)){for(var l=0;l<zo.length;++l)if(s==zo[l][1])return;for(l=0;l<R0.length;++l)if(s==R0[l][1])return;for(l=0;l<r.length;++l)if(s==r[l])return;var o=e[s],u="string";typeof o=="number"?(u="float",o=String(o)):o===!0||o===!1?(u="boolean",o=o?"1":"0"):o=String(o),a.push(Nt(nE(s),o,{"dt:dt":u}))}}),t&&za(t).forEach(function(s){if(Object.prototype.hasOwnProperty.call(t,s)&&!(e&&Object.prototype.hasOwnProperty.call(e,s))){var l=t[s],o="string";typeof l=="number"?(o="float",l=String(l)):l===!0||l===!1?(o="boolean",l=l?"1":"0"):l instanceof Date?(o="dateTime.tz",l=l.toISOString()):l=String(l),a.push(Nt(nE(s),l,{"dt:dt":o}))}}),"<"+n+' xmlns="'+Yl.o+'">'+a.join("")+"</"+n+">"}function yj(e){var t=e.read_shift(4),r=e.read_shift(4);return new Date((r/1e7*Math.pow(2,32)+t/1e7-11644473600)*1e3).toISOString().replace(/\.000/,"")}function _G(e){var t=typeof e=="string"?new Date(Date.parse(e)):e,r=t.getTime()/1e3+11644473600,n=r%Math.pow(2,32),a=(r-n)/Math.pow(2,32);n*=1e7,a*=1e7;var s=n/Math.pow(2,32)|0;s>0&&(n=n%Math.pow(2,32),a+=s);var l=nt(8);return l.write_shift(4,n),l.write_shift(4,a),l}function cP(e,t,r){var n=e.l,a=e.read_shift(0,"lpstr-cp");if(r)for(;e.l-n&3;)++e.l;return a}function uP(e,t,r){var n=e.read_shift(0,"lpwstr");return n}function dP(e,t,r){return t===31?uP(e):cP(e,t,r)}function h4(e,t,r){return dP(e,t,r===!1?0:4)}function jG(e,t){if(!t)throw new Error("VtUnalignedString must have positive length");return dP(e,t,0)}function SG(e){for(var t=e.read_shift(4),r=[],n=0;n!=t;++n){var a=e.l;r[n]=e.read_shift(0,"lpwstr").replace(rl,""),e.l-a&2&&(e.l+=2)}return r}function AG(e){for(var t=e.read_shift(4),r=[],n=0;n!=t;++n)r[n]=e.read_shift(0,"lpstr-cp").replace(rl,"");return r}function kG(e){var t=e.l,r=fy(e,JD);e[e.l]==0&&e[e.l+1]==0&&e.l-t&2&&(e.l+=2);var n=fy(e,jl);return[r,n]}function EG(e){for(var t=e.read_shift(4),r=[],n=0;n<t/2;++n)r.push(kG(e));return r}function vE(e,t){for(var r=e.read_shift(4),n={},a=0;a!=r;++a){var s=e.read_shift(4),l=e.read_shift(4);n[s]=e.read_shift(l,t===1200?"utf16le":"utf8").replace(rl,"").replace(jx,"!"),t===1200&&l%2&&(e.l+=2)}return e.l&3&&(e.l=e.l>>3<<2),n}function fP(e){var t=e.read_shift(4),r=e.slice(e.l,e.l+t);return e.l+=t,(t&3)>0&&(e.l+=4-(t&3)&3),r}function CG(e){var t={};return t.Size=e.read_shift(4),e.l+=t.Size+3-(t.Size-1)%4,t}function fy(e,t,r){var n=e.read_shift(2),a,s=r||{};if(e.l+=2,t!==pE&&n!==t&&iG.indexOf(t)===-1&&!((t&65534)==4126&&(n&65534)==4126))throw new Error("Expected type "+t+" saw "+n);switch(t===pE?n:t){case 2:return a=e.read_shift(2,"i"),s.raw||(e.l+=2),a;case 3:return a=e.read_shift(4,"i"),a;case 11:return e.read_shift(4)!==0;case 19:return a=e.read_shift(4),a;case 30:return cP(e,n,4).replace(rl,"");case 31:return uP(e);case 64:return yj(e);case 65:return fP(e);case 71:return CG(e);case 80:return h4(e,n,!s.raw).replace(rl,"");case 81:return jG(e,n).replace(rl,"");case 4108:return EG(e);case 4126:case 4127:return n==4127?SG(e):AG(e);default:throw new Error("TypedPropertyValue unrecognized type "+t+" "+n)}}function yE(e,t){var r=nt(4),n=nt(4);switch(r.write_shift(4,e==80?31:e),e){case 3:n.write_shift(-4,t);break;case 5:n=nt(8),n.write_shift(8,t,"f");break;case 11:n.write_shift(4,t?1:0);break;case 64:n=_G(t);break;case 31:case 80:for(n=nt(4+2*(t.length+1)+(t.length%2?0:2)),n.write_shift(4,t.length+1),n.write_shift(0,t,"dbcs");n.l!=n.length;)n.write_shift(1,0);break;default:throw new Error("TypedPropertyValue unrecognized type "+e+" "+t)}return Vs([r,n])}function bE(e,t){var r=e.l,n=e.read_shift(4),a=e.read_shift(4),s=[],l=0,o=0,u=-1,d={};for(l=0;l!=a;++l){var h=e.read_shift(4),m=e.read_shift(4);s[l]=[h,m+r]}s.sort(function(E,j){return E[1]-j[1]});var g={};for(l=0;l!=a;++l){if(e.l!==s[l][1]){var x=!0;if(l>0&&t)switch(t[s[l-1][0]].t){case 2:e.l+2===s[l][1]&&(e.l+=2,x=!1);break;case 80:e.l<=s[l][1]&&(e.l=s[l][1],x=!1);break;case 4108:e.l<=s[l][1]&&(e.l=s[l][1],x=!1);break}if((!t||l==0)&&e.l<=s[l][1]&&(x=!1,e.l=s[l][1]),x)throw new Error("Read Error: Expected address "+s[l][1]+" at "+e.l+" :"+l)}if(t){var b=t[s[l][0]];if(g[b.n]=fy(e,b.t,{raw:!0}),b.p==="version"&&(g[b.n]=String(g[b.n]>>16)+"."+("0000"+String(g[b.n]&65535)).slice(-4)),b.n=="CodePage")switch(g[b.n]){case 0:g[b.n]=1252;case 874:case 932:case 936:case 949:case 950:case 1250:case 1251:case 1253:case 1254:case 1255:case 1256:case 1257:case 1258:case 1e4:case 1200:case 1201:case 1252:case 65e3:case-536:case 65001:case-535:_c(o=g[b.n]>>>0&65535);break;default:throw new Error("Unsupported CodePage: "+g[b.n])}}else if(s[l][0]===1){if(o=g.CodePage=fy(e,gj),_c(o),u!==-1){var v=e.l;e.l=s[u][1],d=vE(e,o),e.l=v}}else if(s[l][0]===0){if(o===0){u=l,e.l=s[l+1][1];continue}d=vE(e,o)}else{var w=d[s[l][0]],N;switch(e[e.l]){case 65:e.l+=4,N=fP(e);break;case 30:e.l+=4,N=h4(e,e[e.l-4]).replace(/\u0000+$/,"");break;case 31:e.l+=4,N=h4(e,e[e.l-4]).replace(/\u0000+$/,"");break;case 3:e.l+=4,N=e.read_shift(4,"i");break;case 19:e.l+=4,N=e.read_shift(4);break;case 5:e.l+=4,N=e.read_shift(8,"f");break;case 11:e.l+=4,N=Wa(e,4);break;case 64:e.l+=4,N=na(yj(e));break;default:throw new Error("unparsed value: "+e[e.l])}g[w]=N}}return e.l=r+n,g}var hP=["CodePage","Thumbnail","_PID_LINKBASE","_PID_HLINKS","SystemIdentifier","FMTID"];function TG(e){switch(typeof e){case"boolean":return 11;case"number":return(e|0)==e?3:5;case"string":return 31;case"object":if(e instanceof Date)return 64;break}return-1}function wE(e,t,r){var n=nt(8),a=[],s=[],l=8,o=0,u=nt(8),d=nt(8);if(u.write_shift(4,2),u.write_shift(4,1200),d.write_shift(4,1),s.push(u),a.push(d),l+=8+u.length,!t){d=nt(8),d.write_shift(4,0),a.unshift(d);var h=[nt(4)];for(h[0].write_shift(4,e.length),o=0;o<e.length;++o){var m=e[o][0];for(u=nt(8+2*(m.length+1)+(m.length%2?0:2)),u.write_shift(4,o+2),u.write_shift(4,m.length+1),u.write_shift(0,m,"dbcs");u.l!=u.length;)u.write_shift(1,0);h.push(u)}u=Vs(h),s.unshift(u),l+=8+u.length}for(o=0;o<e.length;++o)if(!(t&&!t[e[o][0]])&&!(hP.indexOf(e[o][0])>-1||sP.indexOf(e[o][0])>-1)&&e[o][1]!=null){var g=e[o][1],x=0;if(t){x=+t[e[o][0]];var b=r[x];if(b.p=="version"&&typeof g=="string"){var v=g.split(".");g=(+v[0]<<16)+(+v[1]||0)}u=yE(b.t,g)}else{var w=TG(g);w==-1&&(w=31,g=String(g)),u=yE(w,g)}s.push(u),d=nt(8),d.write_shift(4,t?x:2+o),a.push(d),l+=8+u.length}var N=8*(s.length+1);for(o=0;o<s.length;++o)a[o].write_shift(4,N),N+=s[o].length;return n.write_shift(4,l),n.write_shift(4,s.length),Vs([n].concat(a).concat(s))}function NE(e,t,r){var n=e.content;if(!n)return{};ci(n,0);var a,s,l,o,u=0;n.chk("feff","Byte Order: "),n.read_shift(2);var d=n.read_shift(4),h=n.read_shift(16);if(h!==ar.utils.consts.HEADER_CLSID&&h!==r)throw new Error("Bad PropertySet CLSID "+h);if(a=n.read_shift(4),a!==1&&a!==2)throw new Error("Unrecognized #Sets: "+a);if(s=n.read_shift(16),o=n.read_shift(4),a===1&&o!==n.l)throw new Error("Length mismatch: "+o+" !== "+n.l);a===2&&(l=n.read_shift(16),u=n.read_shift(4));var m=bE(n,t),g={SystemIdentifier:d};for(var x in m)g[x]=m[x];if(g.FMTID=s,a===1)return g;if(u-n.l==2&&(n.l+=2),n.l!==u)throw new Error("Length mismatch 2: "+n.l+" !== "+u);var b;try{b=bE(n,null)}catch{}for(x in b)g[x]=b[x];return g.FMTID=[s,l],g}function _E(e,t,r,n,a,s){var l=nt(a?68:48),o=[l];l.write_shift(2,65534),l.write_shift(2,0),l.write_shift(4,842412599),l.write_shift(16,ar.utils.consts.HEADER_CLSID,"hex"),l.write_shift(4,a?2:1),l.write_shift(16,t,"hex"),l.write_shift(4,a?68:48);var u=wE(e,r,n);if(o.push(u),a){var d=wE(a,null,null);l.write_shift(16,s,"hex"),l.write_shift(4,68+u.length),o.push(d)}return Vs(o)}function pf(e,t){return e.read_shift(t),null}function OG(e,t){t||(t=nt(e));for(var r=0;r<e;++r)t.write_shift(1,0);return t}function FG(e,t,r){for(var n=[],a=e.l+t;e.l<a;)n.push(r(e,a-e.l));if(a!==e.l)throw new Error("Slurp error");return n}function Wa(e,t){return e.read_shift(t)===1}function Xi(e,t){return t||(t=nt(2)),t.write_shift(2,+!!e),t}function os(e){return e.read_shift(2,"u")}function Mo(e,t){return t||(t=nt(2)),t.write_shift(2,e),t}function mP(e,t){return FG(e,t,os)}function DG(e){var t=e.read_shift(1),r=e.read_shift(1);return r===1?t:t===1}function pP(e,t,r){return r||(r=nt(2)),r.write_shift(1,t=="e"?+e:+!!e),r.write_shift(1,t=="e"?1:0),r}function Cg(e,t,r){var n=e.read_shift(r&&r.biff>=12?2:1),a="sbcs-cont";if(r&&r.biff>=8,!r||r.biff==8){var s=e.read_shift(1);s&&(a="dbcs-cont")}else r.biff==12&&(a="wstr");r.biff>=2&&r.biff<=5&&(a="cpstr");var l=n?e.read_shift(n,a):"";return l}function PG(e){var t=e.read_shift(2),r=e.read_shift(1),n=r&4,a=r&8,s=1+(r&1),l=0,o,u={};a&&(l=e.read_shift(2)),n&&(o=e.read_shift(4));var d=s==2?"dbcs-cont":"sbcs-cont",h=t===0?"":e.read_shift(t,d);return a&&(e.l+=4*l),n&&(e.l+=o),u.t=h,a||(u.raw="<t>"+u.t+"</t>",u.r=u.t),u}function LG(e){var t=e.t||"",r=nt(3);r.write_shift(2,t.length),r.write_shift(1,1);var n=nt(2*t.length);n.write_shift(2*t.length,t,"utf16le");var a=[r,n];return Vs(a)}function J0(e,t,r){var n;if(r){if(r.biff>=2&&r.biff<=5)return e.read_shift(t,"cpstr");if(r.biff>=12)return e.read_shift(t,"dbcs-cont")}var a=e.read_shift(1);return a===0?n=e.read_shift(t,"sbcs-cont"):n=e.read_shift(t,"dbcs-cont"),n}function Tg(e,t,r){var n=e.read_shift(r&&r.biff==2?1:2);return n===0?(e.l++,""):J0(e,n,r)}function bh(e,t,r){if(r.biff>5)return Tg(e,t,r);var n=e.read_shift(1);return n===0?(e.l++,""):e.read_shift(n,r.biff<=4||!e.lens?"cpstr":"sbcs-cont")}function xP(e,t,r){return r||(r=nt(3+2*e.length)),r.write_shift(2,e.length),r.write_shift(1,1),r.write_shift(31,e,"utf16le"),r}function MG(e){var t=e.read_shift(1);e.l++;var r=e.read_shift(2);return e.l+=2,[t,r]}function RG(e){var t=e.read_shift(4),r=e.l,n=!1;t>24&&(e.l+=t-24,e.read_shift(16)==="795881f43b1d7f48af2c825dc4852763"&&(n=!0),e.l=r);var a=e.read_shift((n?t-24:t)>>1,"utf16le").replace(rl,"");return n&&(e.l+=24),a}function IG(e){for(var t=e.read_shift(2),r="";t-- >0;)r+="../";var n=e.read_shift(0,"lpstr-ansi");if(e.l+=2,e.read_shift(2)!=57005)throw new Error("Bad FileMoniker");var a=e.read_shift(4);if(a===0)return r+n.replace(/\\/g,"/");var s=e.read_shift(4);if(e.read_shift(2)!=3)throw new Error("Bad FileMoniker");var l=e.read_shift(s>>1,"utf16le").replace(rl,"");return r+l}function BG(e,t){var r=e.read_shift(16);switch(r){case"e0c9ea79f9bace118c8200aa004ba90b":return RG(e);case"0303000000000000c000000000000046":return IG(e);default:throw new Error("Unsupported Moniker "+r)}}function sv(e){var t=e.read_shift(4),r=t>0?e.read_shift(t,"utf16le").replace(rl,""):"";return r}function jE(e,t){t||(t=nt(6+e.length*2)),t.write_shift(4,1+e.length);for(var r=0;r<e.length;++r)t.write_shift(2,e.charCodeAt(r));return t.write_shift(2,0),t}function UG(e,t){var r=e.l+t,n=e.read_shift(4);if(n!==2)throw new Error("Unrecognized streamVersion: "+n);var a=e.read_shift(2);e.l+=2;var s,l,o,u,d="",h,m;a&16&&(s=sv(e,r-e.l)),a&128&&(l=sv(e,r-e.l)),(a&257)===257&&(o=sv(e,r-e.l)),(a&257)===1&&(u=BG(e,r-e.l)),a&8&&(d=sv(e,r-e.l)),a&32&&(h=e.read_shift(16)),a&64&&(m=yj(e)),e.l=r;var g=l||o||u||"";g&&d&&(g+="#"+d),g||(g="#"+d),a&2&&g.charAt(0)=="/"&&g.charAt(1)!="/"&&(g="file://"+g);var x={Target:g};return h&&(x.guid=h),m&&(x.time=m),s&&(x.Tooltip=s),x}function zG(e){var t=nt(512),r=0,n=e.Target;n.slice(0,7)=="file://"&&(n=n.slice(7));var a=n.indexOf("#"),s=a>-1?31:23;switch(n.charAt(0)){case"#":s=28;break;case".":s&=-3;break}t.write_shift(4,2),t.write_shift(4,s);var l=[8,6815827,6619237,4849780,83];for(r=0;r<l.length;++r)t.write_shift(4,l[r]);if(s==28)n=n.slice(1),jE(n,t);else if(s&2){for(l="e0 c9 ea 79 f9 ba ce 11 8c 82 00 aa 00 4b a9 0b".split(" "),r=0;r<l.length;++r)t.write_shift(1,parseInt(l[r],16));var o=a>-1?n.slice(0,a):n;for(t.write_shift(4,2*(o.length+1)),r=0;r<o.length;++r)t.write_shift(2,o.charCodeAt(r));t.write_shift(2,0),s&8&&jE(a>-1?n.slice(a+1):"",t)}else{for(l="03 03 00 00 00 00 00 00 c0 00 00 00 00 00 00 46".split(" "),r=0;r<l.length;++r)t.write_shift(1,parseInt(l[r],16));for(var u=0;n.slice(u*3,u*3+3)=="../"||n.slice(u*3,u*3+3)=="..\\";)++u;for(t.write_shift(2,u),t.write_shift(4,n.length-3*u+1),r=0;r<n.length-3*u;++r)t.write_shift(1,n.charCodeAt(r+3*u)&255);for(t.write_shift(1,0),t.write_shift(2,65535),t.write_shift(2,57005),r=0;r<6;++r)t.write_shift(4,0)}return t.slice(0,t.l)}function gP(e){var t=e.read_shift(1),r=e.read_shift(1),n=e.read_shift(1),a=e.read_shift(1);return[t,r,n,a]}function vP(e,t){var r=gP(e);return r[3]=0,r}function vu(e){var t=e.read_shift(2),r=e.read_shift(2),n=e.read_shift(2);return{r:t,c:r,ixfe:n}}function eh(e,t,r,n){return n||(n=nt(6)),n.write_shift(2,e),n.write_shift(2,t),n.write_shift(2,r||0),n}function qG(e){var t=e.read_shift(2),r=e.read_shift(2);return e.l+=8,{type:t,flags:r}}function $G(e,t,r){return t===0?"":bh(e,t,r)}function HG(e,t,r){var n=r.biff>8?4:2,a=e.read_shift(n),s=e.read_shift(n,"i"),l=e.read_shift(n,"i");return[a,s,l]}function yP(e){var t=e.read_shift(2),r=xj(e);return[t,r]}function VG(e,t,r){e.l+=4,t-=4;var n=e.l+t,a=Cg(e,t,r),s=e.read_shift(2);if(n-=e.l,s!==n)throw new Error("Malformed AddinUdf: padding = "+n+" != "+s);return e.l+=s,a}function y2(e){var t=e.read_shift(2),r=e.read_shift(2),n=e.read_shift(2),a=e.read_shift(2);return{s:{c:n,r:t},e:{c:a,r}}}function bP(e,t){return t||(t=nt(8)),t.write_shift(2,e.s.r),t.write_shift(2,e.e.r),t.write_shift(2,e.s.c),t.write_shift(2,e.e.c),t}function wP(e){var t=e.read_shift(2),r=e.read_shift(2),n=e.read_shift(1),a=e.read_shift(1);return{s:{c:n,r:t},e:{c:a,r}}}var WG=wP;function NP(e){e.l+=4;var t=e.read_shift(2),r=e.read_shift(2),n=e.read_shift(2);return e.l+=12,[r,t,n]}function KG(e){var t={};return e.l+=4,e.l+=16,t.fSharedNote=e.read_shift(2),e.l+=4,t}function GG(e){var t={};return e.l+=4,e.cf=e.read_shift(2),t}function bi(e){e.l+=2,e.l+=e.read_shift(2)}var YG={0:bi,4:bi,5:bi,6:bi,7:GG,8:bi,9:bi,10:bi,11:bi,12:bi,13:KG,14:bi,15:bi,16:bi,17:bi,18:bi,19:bi,20:bi,21:NP};function XG(e,t){for(var r=e.l+t,n=[];e.l<r;){var a=e.read_shift(2);e.l-=2;try{n.push(YG[a](e,r-e.l))}catch{return e.l=r,n}}return e.l!=r&&(e.l=r),n}function iv(e,t){var r={BIFFVer:0,dt:0};switch(r.BIFFVer=e.read_shift(2),t-=2,t>=2&&(r.dt=e.read_shift(2),e.l-=2),r.BIFFVer){case 1536:case 1280:case 1024:case 768:case 512:case 2:case 7:break;default:if(t>6)throw new Error("Unexpected BIFF Ver "+r.BIFFVer)}return e.read_shift(t),r}function bj(e,t,r){var n=1536,a=16;switch(r.bookType){case"biff8":break;case"biff5":n=1280,a=8;break;case"biff4":n=4,a=6;break;case"biff3":n=3,a=6;break;case"biff2":n=2,a=4;break;case"xla":break;default:throw new Error("unsupported BIFF version")}var s=nt(a);return s.write_shift(2,n),s.write_shift(2,t),a>4&&s.write_shift(2,29282),a>6&&s.write_shift(2,1997),a>8&&(s.write_shift(2,49161),s.write_shift(2,1),s.write_shift(2,1798),s.write_shift(2,0)),s}function QG(e,t){return t===0||e.read_shift(2),1200}function ZG(e,t,r){if(r.enc)return e.l+=t,"";var n=e.l,a=bh(e,0,r);return e.read_shift(t+n-e.l),a}function JG(e,t){var r=!t||t.biff==8,n=nt(r?112:54);for(n.write_shift(t.biff==8?2:1,7),r&&n.write_shift(1,0),n.write_shift(4,859007059),n.write_shift(4,5458548|(r?0:536870912));n.l<n.length;)n.write_shift(1,r?0:32);return n}function eY(e,t,r){var n=r&&r.biff==8||t==2?e.read_shift(2):(e.l+=t,0);return{fDialog:n&16,fBelow:n&64,fRight:n&128}}function tY(e,t,r){var n=e.read_shift(4),a=e.read_shift(1)&3,s=e.read_shift(1);switch(s){case 0:s="Worksheet";break;case 1:s="Macrosheet";break;case 2:s="Chartsheet";break;case 6:s="VBAModule";break}var l=Cg(e,0,r);return l.length===0&&(l="Sheet1"),{pos:n,hs:a,dt:s,name:l}}function rY(e,t){var r=!t||t.biff>=8?2:1,n=nt(8+r*e.name.length);n.write_shift(4,e.pos),n.write_shift(1,e.hs||0),n.write_shift(1,e.dt),n.write_shift(1,e.name.length),t.biff>=8&&n.write_shift(1,1),n.write_shift(r*e.name.length,e.name,t.biff<8?"sbcs":"utf16le");var a=n.slice(0,n.l);return a.l=n.l,a}function nY(e,t){for(var r=e.l+t,n=e.read_shift(4),a=e.read_shift(4),s=[],l=0;l!=a&&e.l<r;++l)s.push(PG(e));return s.Count=n,s.Unique=a,s}function aY(e,t){var r=nt(8);r.write_shift(4,e.Count),r.write_shift(4,e.Unique);for(var n=[],a=0;a<e.length;++a)n[a]=LG(e[a]);var s=Vs([r].concat(n));return s.parts=[r.length].concat(n.map(function(l){return l.length})),s}function sY(e,t){var r={};return r.dsst=e.read_shift(2),e.l+=t-2,r}function iY(e){var t={};t.r=e.read_shift(2),t.c=e.read_shift(2),t.cnt=e.read_shift(2)-t.c;var r=e.read_shift(2);e.l+=4;var n=e.read_shift(1);return e.l+=3,n&7&&(t.level=n&7),n&32&&(t.hidden=!0),n&64&&(t.hpt=r/20),t}function lY(e){var t=qG(e);if(t.type!=2211)throw new Error("Invalid Future Record "+t.type);var r=e.read_shift(4);return r!==0}function oY(e){return e.read_shift(2),e.read_shift(4)}function SE(e,t,r){var n=0;r&&r.biff==2||(n=e.read_shift(2));var a=e.read_shift(2);r&&r.biff==2&&(n=1-(a>>15),a&=32767);var s={Unsynced:n&1,DyZero:(n&2)>>1,ExAsc:(n&4)>>2,ExDsc:(n&8)>>3};return[s,a]}function cY(e){var t=e.read_shift(2),r=e.read_shift(2),n=e.read_shift(2),a=e.read_shift(2),s=e.read_shift(2),l=e.read_shift(2),o=e.read_shift(2),u=e.read_shift(2),d=e.read_shift(2);return{Pos:[t,r],Dim:[n,a],Flags:s,CurTab:l,FirstTab:o,Selected:u,TabRatio:d}}function uY(){var e=nt(18);return e.write_shift(2,0),e.write_shift(2,0),e.write_shift(2,29280),e.write_shift(2,17600),e.write_shift(2,56),e.write_shift(2,0),e.write_shift(2,0),e.write_shift(2,1),e.write_shift(2,500),e}function dY(e,t,r){if(r&&r.biff>=2&&r.biff<5)return{};var n=e.read_shift(2);return{RTL:n&64}}function fY(e){var t=nt(18),r=1718;return e&&e.RTL&&(r|=64),t.write_shift(2,r),t.write_shift(4,0),t.write_shift(4,64),t.write_shift(4,0),t.write_shift(4,0),t}function hY(){}function mY(e,t,r){var n={dyHeight:e.read_shift(2),fl:e.read_shift(2)};switch(r&&r.biff||8){case 2:break;case 3:case 4:e.l+=2;break;default:e.l+=10;break}return n.name=Cg(e,0,r),n}function pY(e,t){var r=e.name||"Arial",n=t&&t.biff==5,a=n?15+r.length:16+2*r.length,s=nt(a);return s.write_shift(2,e.sz*20),s.write_shift(4,0),s.write_shift(2,400),s.write_shift(4,0),s.write_shift(2,0),s.write_shift(1,r.length),n||s.write_shift(1,1),s.write_shift((n?1:2)*r.length,r,n?"sbcs":"utf16le"),s}function xY(e){var t=vu(e);return t.isst=e.read_shift(4),t}function gY(e,t,r,n){var a=nt(10);return eh(e,t,n,a),a.write_shift(4,r),a}function vY(e,t,r){r.biffguess&&r.biff==2&&(r.biff=5);var n=e.l+t,a=vu(e);r.biff==2&&e.l++;var s=Tg(e,n-e.l,r);return a.val=s,a}function yY(e,t,r,n,a){var s=!a||a.biff==8,l=nt(8+ +s+(1+s)*r.length);return eh(e,t,n,l),l.write_shift(2,r.length),s&&l.write_shift(1,1),l.write_shift((1+s)*r.length,r,s?"utf16le":"sbcs"),l}function bY(e,t,r){var n=e.read_shift(2),a=bh(e,0,r);return[n,a]}function wY(e,t,r,n){var a=r&&r.biff==5;n||(n=nt(a?3+t.length:5+2*t.length)),n.write_shift(2,e),n.write_shift(a?1:2,t.length),a||n.write_shift(1,1),n.write_shift((a?1:2)*t.length,t,a?"sbcs":"utf16le");var s=n.length>n.l?n.slice(0,n.l):n;return s.l==null&&(s.l=s.length),s}var NY=bh;function AE(e,t,r){var n=e.l+t,a=r.biff==8||!r.biff?4:2,s=e.read_shift(a),l=e.read_shift(a),o=e.read_shift(2),u=e.read_shift(2);return e.l=n,{s:{r:s,c:o},e:{r:l,c:u}}}function _Y(e,t){var r=t.biff==8||!t.biff?4:2,n=nt(2*r+6);return n.write_shift(r,e.s.r),n.write_shift(r,e.e.r+1),n.write_shift(2,e.s.c),n.write_shift(2,e.e.c+1),n.write_shift(2,0),n}function jY(e){var t=e.read_shift(2),r=e.read_shift(2),n=yP(e);return{r:t,c:r,ixfe:n[0],rknum:n[1]}}function SY(e,t){for(var r=e.l+t-2,n=e.read_shift(2),a=e.read_shift(2),s=[];e.l<r;)s.push(yP(e));if(e.l!==r)throw new Error("MulRK read error");var l=e.read_shift(2);if(s.length!=l-a+1)throw new Error("MulRK length mismatch");return{r:n,c:a,C:l,rkrec:s}}function AY(e,t){for(var r=e.l+t-2,n=e.read_shift(2),a=e.read_shift(2),s=[];e.l<r;)s.push(e.read_shift(2));if(e.l!==r)throw new Error("MulBlank read error");var l=e.read_shift(2);if(s.length!=l-a+1)throw new Error("MulBlank length mismatch");return{r:n,c:a,C:l,ixfe:s}}function kY(e,t,r,n){var a={},s=e.read_shift(4),l=e.read_shift(4),o=e.read_shift(4),u=e.read_shift(2);return a.patternType=lG[o>>26],n.cellStyles&&(a.alc=s&7,a.fWrap=s>>3&1,a.alcV=s>>4&7,a.fJustLast=s>>7&1,a.trot=s>>8&255,a.cIndent=s>>16&15,a.fShrinkToFit=s>>20&1,a.iReadOrder=s>>22&2,a.fAtrNum=s>>26&1,a.fAtrFnt=s>>27&1,a.fAtrAlc=s>>28&1,a.fAtrBdr=s>>29&1,a.fAtrPat=s>>30&1,a.fAtrProt=s>>31&1,a.dgLeft=l&15,a.dgRight=l>>4&15,a.dgTop=l>>8&15,a.dgBottom=l>>12&15,a.icvLeft=l>>16&127,a.icvRight=l>>23&127,a.grbitDiag=l>>30&3,a.icvTop=o&127,a.icvBottom=o>>7&127,a.icvDiag=o>>14&127,a.dgDiag=o>>21&15,a.icvFore=u&127,a.icvBack=u>>7&127,a.fsxButton=u>>14&1),a}function EY(e,t,r){var n={};return n.ifnt=e.read_shift(2),n.numFmtId=e.read_shift(2),n.flags=e.read_shift(2),n.fStyle=n.flags>>2&1,t-=6,n.data=kY(e,t,n.fStyle,r),n}function kE(e,t,r,n){var a=r&&r.biff==5;n||(n=nt(a?16:20)),n.write_shift(2,0),e.style?(n.write_shift(2,e.numFmtId||0),n.write_shift(2,65524)):(n.write_shift(2,e.numFmtId||0),n.write_shift(2,t<<4));var s=0;return e.numFmtId>0&&a&&(s|=1024),n.write_shift(4,s),n.write_shift(4,0),a||n.write_shift(4,0),n.write_shift(2,0),n}function CY(e){e.l+=4;var t=[e.read_shift(2),e.read_shift(2)];if(t[0]!==0&&t[0]--,t[1]!==0&&t[1]--,t[0]>7||t[1]>7)throw new Error("Bad Gutters: "+t.join("|"));return t}function TY(e){var t=nt(8);return t.write_shift(4,0),t.write_shift(2,0),t.write_shift(2,0),t}function EE(e,t,r){var n=vu(e);(r.biff==2||t==9)&&++e.l;var a=DG(e);return n.val=a,n.t=a===!0||a===!1?"b":"e",n}function OY(e,t,r,n,a,s){var l=nt(8);return eh(e,t,n,l),pP(r,s,l),l}function FY(e,t,r){r.biffguess&&r.biff==2&&(r.biff=5);var n=vu(e),a=Ti(e);return n.val=a,n}function DY(e,t,r,n){var a=nt(14);return eh(e,t,n,a),Z0(r,a),a}var CE=$G;function PY(e,t,r){var n=e.l+t,a=e.read_shift(2),s=e.read_shift(2);if(r.sbcch=s,s==1025||s==14849)return[s,a];if(s<1||s>255)throw new Error("Unexpected SupBook type: "+s);for(var l=J0(e,s),o=[];n>e.l;)o.push(Tg(e));return[s,a,l,o]}function TE(e,t,r){var n=e.read_shift(2),a,s={fBuiltIn:n&1,fWantAdvise:n>>>1&1,fWantPict:n>>>2&1,fOle:n>>>3&1,fOleLink:n>>>4&1,cf:n>>>5&1023,fIcon:n>>>15&1};return r.sbcch===14849&&(a=VG(e,t-2,r)),s.body=a||e.read_shift(t-2),typeof a=="string"&&(s.Name=a),s}var LY=["_xlnm.Consolidate_Area","_xlnm.Auto_Open","_xlnm.Auto_Close","_xlnm.Extract","_xlnm.Database","_xlnm.Criteria","_xlnm.Print_Area","_xlnm.Print_Titles","_xlnm.Recorder","_xlnm.Data_Form","_xlnm.Auto_Activate","_xlnm.Auto_Deactivate","_xlnm.Sheet_Title","_xlnm._FilterDatabase"];function OE(e,t,r){var n=e.l+t,a=e.read_shift(2),s=e.read_shift(1),l=e.read_shift(1),o=e.read_shift(r&&r.biff==2?1:2),u=0;(!r||r.biff>=5)&&(r.biff!=5&&(e.l+=2),u=e.read_shift(2),r.biff==5&&(e.l+=2),e.l+=4);var d=J0(e,l,r);a&32&&(d=LY[d.charCodeAt(0)]);var h=n-e.l;r&&r.biff==2&&--h;var m=n==e.l||o===0||!(h>0)?[]:XJ(e,h,r,o);return{chKey:s,Name:d,itab:u,rgce:m}}function _P(e,t,r){if(r.biff<8)return MY(e,t,r);for(var n=[],a=e.l+t,s=e.read_shift(r.biff>8?4:2);s--!==0;)n.push(HG(e,r.biff>8?12:6,r));if(e.l!=a)throw new Error("Bad ExternSheet: "+e.l+" != "+a);return n}function MY(e,t,r){e[e.l+1]==3&&e[e.l]++;var n=Cg(e,t,r);return n.charCodeAt(0)==3?n.slice(1):n}function RY(e,t,r){if(r.biff<8){e.l+=t;return}var n=e.read_shift(2),a=e.read_shift(2),s=J0(e,n,r),l=J0(e,a,r);return[s,l]}function IY(e,t,r){var n=wP(e);e.l++;var a=e.read_shift(1);return t-=8,[QJ(e,t,r),a,n]}function FE(e,t,r){var n=WG(e);switch(r.biff){case 2:e.l++,t-=7;break;case 3:case 4:e.l+=2,t-=8;break;default:e.l+=6,t-=12}return[n,GJ(e,t,r)]}function BY(e){var t=e.read_shift(4)!==0,r=e.read_shift(4)!==0,n=e.read_shift(4);return[t,r,n]}function UY(e,t,r){if(!(r.biff<8)){var n=e.read_shift(2),a=e.read_shift(2),s=e.read_shift(2),l=e.read_shift(2),o=bh(e,0,r);return r.biff<8&&e.read_shift(1),[{r:n,c:a},o,l,s]}}function zY(e,t,r){return UY(e,t,r)}function qY(e,t){for(var r=[],n=e.read_shift(2);n--;)r.push(y2(e));return r}function $Y(e){var t=nt(2+e.length*8);t.write_shift(2,e.length);for(var r=0;r<e.length;++r)bP(e[r],t);return t}function HY(e,t,r){if(r&&r.biff<8)return WY(e,t,r);var n=NP(e),a=XG(e,t-22,n[1]);return{cmo:n,ft:a}}var VY={8:function(e,t){var r=e.l+t;e.l+=10;var n=e.read_shift(2);e.l+=4,e.l+=2,e.l+=2,e.l+=2,e.l+=4;var a=e.read_shift(1);return e.l+=a,e.l=r,{fmt:n}}};function WY(e,t,r){e.l+=4;var n=e.read_shift(2),a=e.read_shift(2),s=e.read_shift(2);e.l+=2,e.l+=2,e.l+=2,e.l+=2,e.l+=2,e.l+=2,e.l+=2,e.l+=2,e.l+=2,e.l+=6,t-=36;var l=[];return l.push((VY[n]||Li)(e,t,r)),{cmo:[a,n,s],ft:l}}function KY(e,t,r){var n=e.l,a="";try{e.l+=4;var s=(r.lastobj||{cmo:[0,0]}).cmo[1],l;[0,5,7,11,12,14].indexOf(s)==-1?e.l+=6:l=MG(e,6,r);var o=e.read_shift(2);e.read_shift(2),os(e,2);var u=e.read_shift(2);e.l+=u;for(var d=1;d<e.lens.length-1;++d){if(e.l-n!=e.lens[d])throw new Error("TxO: bad continue record");var h=e[e.l],m=J0(e,e.lens[d+1]-e.lens[d]-1);if(a+=m,a.length>=(h?o:2*o))break}if(a.length!==o&&a.length!==o*2)throw new Error("cchText: "+o+" != "+a.length);return e.l=n+t,{t:a}}catch{return e.l=n+t,{t:a}}}function GY(e,t){var r=y2(e);e.l+=16;var n=UG(e,t-24);return[r,n]}function YY(e){var t=nt(24),r=Sa(e[0]);t.write_shift(2,r.r),t.write_shift(2,r.r),t.write_shift(2,r.c),t.write_shift(2,r.c);for(var n="d0 c9 ea 79 f9 ba ce 11 8c 82 00 aa 00 4b a9 0b".split(" "),a=0;a<16;++a)t.write_shift(1,parseInt(n[a],16));return Vs([t,zG(e[1])])}function XY(e,t){e.read_shift(2);var r=y2(e),n=e.read_shift((t-10)/2,"dbcs-cont");return n=n.replace(rl,""),[r,n]}function QY(e){var t=e[1].Tooltip,r=nt(10+2*(t.length+1));r.write_shift(2,2048);var n=Sa(e[0]);r.write_shift(2,n.r),r.write_shift(2,n.r),r.write_shift(2,n.c),r.write_shift(2,n.c);for(var a=0;a<t.length;++a)r.write_shift(2,t.charCodeAt(a));return r.write_shift(2,0),r}function ZY(e){var t=[0,0],r;return r=e.read_shift(2),t[0]=xE[r]||r,r=e.read_shift(2),t[1]=xE[r]||r,t}function JY(e){return e||(e=nt(4)),e.write_shift(2,1),e.write_shift(2,1),e}function eX(e){for(var t=e.read_shift(2),r=[];t-- >0;)r.push(vP(e));return r}function tX(e){for(var t=e.read_shift(2),r=[];t-- >0;)r.push(vP(e));return r}function rX(e){e.l+=2;var t={cxfs:0,crc:0};return t.cxfs=e.read_shift(2),t.crc=e.read_shift(4),t}function jP(e,t,r){if(!r.cellStyles)return Li(e,t);var n=r&&r.biff>=12?4:2,a=e.read_shift(n),s=e.read_shift(n),l=e.read_shift(n),o=e.read_shift(n),u=e.read_shift(2);n==2&&(e.l+=2);var d={s:a,e:s,w:l,ixfe:o,flags:u};return(r.biff>=5||!r.biff)&&(d.level=u>>8&7),d}function nX(e,t){var r=nt(12);r.write_shift(2,t),r.write_shift(2,t),r.write_shift(2,e.width*256),r.write_shift(2,0);var n=0;return e.hidden&&(n|=1),r.write_shift(1,n),n=e.level||0,r.write_shift(1,n),r.write_shift(2,0),r}function aX(e,t){var r={};return t<32||(e.l+=16,r.header=Ti(e),r.footer=Ti(e),e.l+=2),r}function sX(e,t,r){var n={area:!1};if(r.biff!=5)return e.l+=t,n;var a=e.read_shift(1);return e.l+=3,a&16&&(n.area=!0),n}function iX(e){for(var t=nt(2*e),r=0;r<e;++r)t.write_shift(2,r+1);return t}var lX=vu,oX=mP,cX=Tg;function uX(e){var t=e.read_shift(2),r=e.read_shift(2),n=e.read_shift(4),a={fmt:t,env:r,len:n,data:e.slice(e.l,e.l+n)};return e.l+=n,a}function dX(e,t,r){r.biffguess&&r.biff==5&&(r.biff=2);var n=vu(e);++e.l;var a=bh(e,t-7,r);return n.t="str",n.val=a,n}function fX(e){var t=vu(e);++e.l;var r=Ti(e);return t.t="n",t.val=r,t}function hX(e,t,r){var n=nt(15);return Pg(n,e,t),n.write_shift(8,r,"f"),n}function mX(e){var t=vu(e);++e.l;var r=e.read_shift(2);return t.t="n",t.val=r,t}function pX(e,t,r){var n=nt(9);return Pg(n,e,t),n.write_shift(2,r),n}function xX(e){var t=e.read_shift(1);return t===0?(e.l++,""):e.read_shift(t,"sbcs-cont")}function gX(e,t){e.l+=6,e.l+=2,e.l+=1,e.l+=3,e.l+=1,e.l+=t-13}function vX(e,t,r){var n=e.l+t,a=vu(e),s=e.read_shift(2),l=J0(e,s,r);return e.l=n,a.t="str",a.val=l,a}var yX=[2,3,48,49,131,139,140,245],m4=(function(){var e={1:437,2:850,3:1252,4:1e4,100:852,101:866,102:865,103:861,104:895,105:620,106:737,107:857,120:950,121:949,122:936,123:932,124:874,125:1255,126:1256,150:10007,151:10029,152:10006,200:1250,201:1251,202:1254,203:1253,0:20127,8:865,9:437,10:850,11:437,13:437,14:850,15:437,16:850,17:437,18:850,19:932,20:850,21:437,22:850,23:865,24:437,25:437,26:850,27:437,28:863,29:850,31:852,34:852,35:852,36:860,37:850,38:866,55:850,64:852,77:936,78:949,79:950,80:874,87:1252,88:1252,89:1252,108:863,134:737,135:852,136:857,204:1257,255:16969},t=x2({1:437,2:850,3:1252,4:1e4,100:852,101:866,102:865,103:861,104:895,105:620,106:737,107:857,120:950,121:949,122:936,123:932,124:874,125:1255,126:1256,150:10007,151:10029,152:10006,200:1250,201:1251,202:1254,203:1253,0:20127});function r(o,u){var d=[],h=Cf(1);switch(u.type){case"base64":h=Zl(no(o));break;case"binary":h=Zl(o);break;case"buffer":case"array":h=o;break}ci(h,0);var m=h.read_shift(1),g=!!(m&136),x=!1,b=!1;switch(m){case 2:break;case 3:break;case 48:x=!0,g=!0;break;case 49:x=!0,g=!0;break;case 131:break;case 139:break;case 140:b=!0;break;case 245:break;default:throw new Error("DBF Unsupported Version: "+m.toString(16))}var v=0,w=521;m==2&&(v=h.read_shift(2)),h.l+=3,m!=2&&(v=h.read_shift(4)),v>1048576&&(v=1e6),m!=2&&(w=h.read_shift(2));var N=h.read_shift(2),E=u.codepage||1252;m!=2&&(h.l+=16,h.read_shift(1),h[h.l]!==0&&(E=e[h[h.l]]),h.l+=1,h.l+=2),b&&(h.l+=36);for(var j=[],T={},O=Math.min(h.length,m==2?521:w-10-(x?264:0)),D=b?32:11;h.l<O&&h[h.l]!=13;)switch(T={},T.name=Yx.utils.decode(E,h.slice(h.l,h.l+D)).replace(/[\u0000\r\n].*$/g,""),h.l+=D,T.type=String.fromCharCode(h.read_shift(1)),m!=2&&!b&&(T.offset=h.read_shift(4)),T.len=h.read_shift(1),m==2&&(T.offset=h.read_shift(2)),T.dec=h.read_shift(1),T.name.length&&j.push(T),m!=2&&(h.l+=b?13:14),T.type){case"B":(!x||T.len!=8)&&u.WTF&&console.log("Skipping "+T.name+":"+T.type);break;case"G":case"P":u.WTF&&console.log("Skipping "+T.name+":"+T.type);break;case"+":case"0":case"@":case"C":case"D":case"F":case"I":case"L":case"M":case"N":case"O":case"T":case"Y":break;default:throw new Error("Unknown Field Type: "+T.type)}if(h[h.l]!==13&&(h.l=w-1),h.read_shift(1)!==13)throw new Error("DBF Terminator not found "+h.l+" "+h[h.l]);h.l=w;var C=0,P=0;for(d[0]=[],P=0;P!=j.length;++P)d[0][P]=j[P].name;for(;v-- >0;){if(h[h.l]===42){h.l+=N;continue}for(++h.l,d[++C]=[],P=0,P=0;P!=j.length;++P){var B=h.slice(h.l,h.l+j[P].len);h.l+=j[P].len,ci(B,0);var H=Yx.utils.decode(E,B);switch(j[P].type){case"C":H.trim().length&&(d[C][P]=H.replace(/\s+$/,""));break;case"D":H.length===8?d[C][P]=new Date(+H.slice(0,4),+H.slice(4,6)-1,+H.slice(6,8)):d[C][P]=H;break;case"F":d[C][P]=parseFloat(H.trim());break;case"+":case"I":d[C][P]=b?B.read_shift(-4,"i")^2147483648:B.read_shift(4,"i");break;case"L":switch(H.trim().toUpperCase()){case"Y":case"T":d[C][P]=!0;break;case"N":case"F":d[C][P]=!1;break;case"":case"?":break;default:throw new Error("DBF Unrecognized L:|"+H+"|")}break;case"M":if(!g)throw new Error("DBF Unexpected MEMO for type "+m.toString(16));d[C][P]="##MEMO##"+(b?parseInt(H.trim(),10):B.read_shift(4));break;case"N":H=H.replace(/\u0000/g,"").trim(),H&&H!="."&&(d[C][P]=+H||0);break;case"@":d[C][P]=new Date(B.read_shift(-8,"f")-621356832e5);break;case"T":d[C][P]=new Date((B.read_shift(4)-2440588)*864e5+B.read_shift(4));break;case"Y":d[C][P]=B.read_shift(4,"i")/1e4+B.read_shift(4,"i")/1e4*Math.pow(2,32);break;case"O":d[C][P]=-B.read_shift(-8,"f");break;case"B":if(x&&j[P].len==8){d[C][P]=B.read_shift(8,"f");break}case"G":case"P":B.l+=j[P].len;break;case"0":if(j[P].name==="_NullFlags")break;default:throw new Error("DBF Unsupported data type "+j[P].type)}}}if(m!=2&&h.l<h.length&&h[h.l++]!=26)throw new Error("DBF EOF Marker missing "+(h.l-1)+" of "+h.length+" "+h[h.l-1].toString(16));return u&&u.sheetRows&&(d=d.slice(0,u.sheetRows)),u.DBF=j,d}function n(o,u){var d=u||{};d.dateNF||(d.dateNF="yyyymmdd");var h=fp(r(o,d),d);return h["!cols"]=d.DBF.map(function(m){return{wch:m.len,DBF:m}}),delete d.DBF,h}function a(o,u){try{return zf(n(o,u),u)}catch(d){if(u&&u.WTF)throw d}return{SheetNames:[],Sheets:{}}}var s={B:8,C:250,L:1,D:8,"?":0,"":0};function l(o,u){var d=u||{};if(+d.codepage>=0&&_c(+d.codepage),d.type=="string")throw new Error("Cannot write DBF to JS string");var h=El(),m=py(o,{header:1,raw:!0,cellDates:!0}),g=m[0],x=m.slice(1),b=o["!cols"]||[],v=0,w=0,N=0,E=1;for(v=0;v<g.length;++v){if(((b[v]||{}).DBF||{}).name){g[v]=b[v].DBF.name,++N;continue}if(g[v]!=null){if(++N,typeof g[v]=="number"&&(g[v]=g[v].toString(10)),typeof g[v]!="string")throw new Error("DBF Invalid column name "+g[v]+" |"+typeof g[v]+"|");if(g.indexOf(g[v])!==v){for(w=0;w<1024;++w)if(g.indexOf(g[v]+"_"+w)==-1){g[v]+="_"+w;break}}}}var j=nn(o["!ref"]),T=[],O=[],D=[];for(v=0;v<=j.e.c-j.s.c;++v){var C="",P="",B=0,H=[];for(w=0;w<x.length;++w)x[w][v]!=null&&H.push(x[w][v]);if(H.length==0||g[v]==null){T[v]="?";continue}for(w=0;w<H.length;++w){switch(typeof H[w]){case"number":P="B";break;case"string":P="C";break;case"boolean":P="L";break;case"object":P=H[w]instanceof Date?"D":"C";break;default:P="C"}B=Math.max(B,String(H[w]).length),C=C&&C!=P?"C":P}B>250&&(B=250),P=((b[v]||{}).DBF||{}).type,P=="C"&&b[v].DBF.len>B&&(B=b[v].DBF.len),C=="B"&&P=="N"&&(C="N",D[v]=b[v].DBF.dec,B=b[v].DBF.len),O[v]=C=="C"||P=="N"?B:s[C]||0,E+=O[v],T[v]=C}var L=h.next(32);for(L.write_shift(4,318902576),L.write_shift(4,x.length),L.write_shift(2,296+32*N),L.write_shift(2,E),v=0;v<4;++v)L.write_shift(4,0);for(L.write_shift(4,0|(+t[hD]||3)<<8),v=0,w=0;v<g.length;++v)if(g[v]!=null){var U=h.next(32),V=(g[v].slice(-10)+"\0\0\0\0\0\0\0\0\0\0\0").slice(0,11);U.write_shift(1,V,"sbcs"),U.write_shift(1,T[v]=="?"?"C":T[v],"sbcs"),U.write_shift(4,w),U.write_shift(1,O[v]||s[T[v]]||0),U.write_shift(1,D[v]||0),U.write_shift(1,2),U.write_shift(4,0),U.write_shift(1,0),U.write_shift(4,0),U.write_shift(4,0),w+=O[v]||s[T[v]]||0}var Y=h.next(264);for(Y.write_shift(4,13),v=0;v<65;++v)Y.write_shift(4,0);for(v=0;v<x.length;++v){var de=h.next(E);for(de.write_shift(1,0),w=0;w<g.length;++w)if(g[w]!=null)switch(T[w]){case"L":de.write_shift(1,x[v][w]==null?63:x[v][w]?84:70);break;case"B":de.write_shift(8,x[v][w]||0,"f");break;case"N":var te="0";for(typeof x[v][w]=="number"&&(te=x[v][w].toFixed(D[w]||0)),N=0;N<O[w]-te.length;++N)de.write_shift(1,32);de.write_shift(1,te,"sbcs");break;case"D":x[v][w]?(de.write_shift(4,("0000"+x[v][w].getFullYear()).slice(-4),"sbcs"),de.write_shift(2,("00"+(x[v][w].getMonth()+1)).slice(-2),"sbcs"),de.write_shift(2,("00"+x[v][w].getDate()).slice(-2),"sbcs")):de.write_shift(8,"00000000","sbcs");break;case"C":var ie=String(x[v][w]!=null?x[v][w]:"").slice(0,O[w]);for(de.write_shift(1,ie,"sbcs"),N=0;N<O[w]-ie.length;++N)de.write_shift(1,32);break}}return h.next(1).write_shift(1,26),h.end()}return{to_workbook:a,to_sheet:n,from_sheet:l}})(),SP=(function(){var e={AA:"",BA:"",CA:"",DA:195,HA:"",JA:197,AE:"",BE:"",CE:"",HE:"",AI:"",BI:"",CI:"",HI:"",AO:"",BO:"",CO:"",DO:213,HO:"",AU:"",BU:"",CU:"",HU:"",Aa:"",Ba:"",Ca:"",Da:227,Ha:"",Ja:229,Ae:"",Be:"",Ce:"",He:"",Ai:"",Bi:"",Ci:"",Hi:"",Ao:"",Bo:"",Co:"",Do:245,Ho:"",Au:"",Bu:"",Cu:"",Hu:"",KC:"",Kc:"",q:"",z:"",a:"",j:"",DN:209,Dn:241,Hy:255,S:169,c:170,R:174,"B ":180,0:176,1:177,2:178,3:179,5:181,6:182,7:183,Q:185,k:186,b:208,i:216,l:222,s:240,y:248,"!":161,'"':162,"#":163,"(":164,"%":165,"'":167,"H ":168,"+":171,";":187,"<":188,"=":189,">":190,"?":191,"{":223},t=new RegExp("\x1BN("+za(e).join("|").replace(/\|\|\|/,"|\\||").replace(/([?()+])/g,"\\$1")+"|\\|)","gm"),r=function(g,x){var b=e[x];return typeof b=="number"?$k(b):b},n=function(g,x,b){var v=x.charCodeAt(0)-32<<4|b.charCodeAt(0)-48;return v==59?g:$k(v)};e["|"]=254;function a(g,x){switch(x.type){case"base64":return s(no(g),x);case"binary":return s(g,x);case"buffer":return s(Or&&Buffer.isBuffer(g)?g.toString("binary"):Uf(g),x);case"array":return s(Q0(g),x)}throw new Error("Unrecognized type "+x.type)}function s(g,x){var b=g.split(/[\n\r]+/),v=-1,w=-1,N=0,E=0,j=[],T=[],O=null,D={},C=[],P=[],B=[],H=0,L;for(+x.codepage>=0&&_c(+x.codepage);N!==b.length;++N){H=0;var U=b[N].trim().replace(/\x1B([\x20-\x2F])([\x30-\x3F])/g,n).replace(t,r),V=U.replace(/;;/g,"\0").split(";").map(function(K){return K.replace(/\u0000/g,";")}),Y=V[0],de;if(U.length>0)switch(Y){case"ID":break;case"E":break;case"B":break;case"O":break;case"W":break;case"P":V[1].charAt(0)=="P"&&T.push(U.slice(3).replace(/;;/g,";"));break;case"C":var te=!1,ie=!1,ge=!1,oe=!1,Se=-1,ne=-1;for(E=1;E<V.length;++E)switch(V[E].charAt(0)){case"A":break;case"X":w=parseInt(V[E].slice(1))-1,ie=!0;break;case"Y":for(v=parseInt(V[E].slice(1))-1,ie||(w=0),L=j.length;L<=v;++L)j[L]=[];break;case"K":de=V[E].slice(1),de.charAt(0)==='"'?de=de.slice(1,de.length-1):de==="TRUE"?de=!0:de==="FALSE"?de=!1:isNaN(Ac(de))?isNaN(Gm(de).getDate())||(de=na(de)):(de=Ac(de),O!==null&&up(O)&&(de=v2(de))),te=!0;break;case"E":oe=!0;var M=Rm(V[E].slice(1),{r:v,c:w});j[v][w]=[j[v][w],M];break;case"S":ge=!0,j[v][w]=[j[v][w],"S5S"];break;case"G":break;case"R":Se=parseInt(V[E].slice(1))-1;break;case"C":ne=parseInt(V[E].slice(1))-1;break;default:if(x&&x.WTF)throw new Error("SYLK bad record "+U)}if(te&&(j[v][w]&&j[v][w].length==2?j[v][w][0]=de:j[v][w]=de,O=null),ge){if(oe)throw new Error("SYLK shared formula cannot have own formula");var R=Se>-1&&j[Se][ne];if(!R||!R[1])throw new Error("SYLK shared formula cannot find base");j[v][w][1]=$P(R[1],{r:v-Se,c:w-ne})}break;case"F":var q=0;for(E=1;E<V.length;++E)switch(V[E].charAt(0)){case"X":w=parseInt(V[E].slice(1))-1,++q;break;case"Y":for(v=parseInt(V[E].slice(1))-1,L=j.length;L<=v;++L)j[L]=[];break;case"M":H=parseInt(V[E].slice(1))/20;break;case"F":break;case"G":break;case"P":O=T[parseInt(V[E].slice(1))];break;case"S":break;case"D":break;case"N":break;case"W":for(B=V[E].slice(1).split(" "),L=parseInt(B[0],10);L<=parseInt(B[1],10);++L)H=parseInt(B[2],10),P[L-1]=H===0?{hidden:!0}:{wch:H},Tf(P[L-1]);break;case"C":w=parseInt(V[E].slice(1))-1,P[w]||(P[w]={});break;case"R":v=parseInt(V[E].slice(1))-1,C[v]||(C[v]={}),H>0?(C[v].hpt=H,C[v].hpx=Xm(H)):H===0&&(C[v].hidden=!0);break;default:if(x&&x.WTF)throw new Error("SYLK bad record "+U)}q<1&&(O=null);break;default:if(x&&x.WTF)throw new Error("SYLK bad record "+U)}}return C.length>0&&(D["!rows"]=C),P.length>0&&(D["!cols"]=P),x&&x.sheetRows&&(j=j.slice(0,x.sheetRows)),[j,D]}function l(g,x){var b=a(g,x),v=b[0],w=b[1],N=fp(v,x);return za(w).forEach(function(E){N[E]=w[E]}),N}function o(g,x){return zf(l(g,x),x)}function u(g,x,b,v){var w="C;Y"+(b+1)+";X"+(v+1)+";K";switch(g.t){case"n":w+=g.v||0,g.f&&!g.F&&(w+=";E"+Aj(g.f,{r:b,c:v}));break;case"b":w+=g.v?"TRUE":"FALSE";break;case"e":w+=g.w||g.v;break;case"d":w+='"'+(g.w||g.v)+'"';break;case"s":w+='"'+g.v.replace(/"/g,"").replace(/;/g,";;")+'"';break}return w}function d(g,x){x.forEach(function(b,v){var w="F;W"+(v+1)+" "+(v+1)+" ";b.hidden?w+="0":(typeof b.width=="number"&&!b.wpx&&(b.wpx=ng(b.width)),typeof b.wpx=="number"&&!b.wch&&(b.wch=ag(b.wpx)),typeof b.wch=="number"&&(w+=Math.round(b.wch))),w.charAt(w.length-1)!=" "&&g.push(w)})}function h(g,x){x.forEach(function(b,v){var w="F;";b.hidden?w+="M0;":b.hpt?w+="M"+20*b.hpt+";":b.hpx&&(w+="M"+20*sg(b.hpx)+";"),w.length>2&&g.push(w+"R"+(v+1))})}function m(g,x){var b=["ID;PWXL;N;E"],v=[],w=nn(g["!ref"]),N,E=Array.isArray(g),j=`\r
`;b.push("P;PGeneral"),b.push("F;P0;DG0G8;M255"),g["!cols"]&&d(b,g["!cols"]),g["!rows"]&&h(b,g["!rows"]),b.push("B;Y"+(w.e.r-w.s.r+1)+";X"+(w.e.c-w.s.c+1)+";D"+[w.s.c,w.s.r,w.e.c,w.e.r].join(" "));for(var T=w.s.r;T<=w.e.r;++T)for(var O=w.s.c;O<=w.e.c;++O){var D=dr({r:T,c:O});N=E?(g[T]||[])[O]:g[D],!(!N||N.v==null&&(!N.f||N.F))&&v.push(u(N,g,T,O))}return b.join(j)+j+v.join(j)+j+"E"+j}return{to_workbook:o,to_sheet:l,from_sheet:m}})(),AP=(function(){function e(s,l){switch(l.type){case"base64":return t(no(s),l);case"binary":return t(s,l);case"buffer":return t(Or&&Buffer.isBuffer(s)?s.toString("binary"):Uf(s),l);case"array":return t(Q0(s),l)}throw new Error("Unrecognized type "+l.type)}function t(s,l){for(var o=s.split(`
`),u=-1,d=-1,h=0,m=[];h!==o.length;++h){if(o[h].trim()==="BOT"){m[++u]=[],d=0;continue}if(!(u<0)){var g=o[h].trim().split(","),x=g[0],b=g[1];++h;for(var v=o[h]||"";(v.match(/["]/g)||[]).length&1&&h<o.length-1;)v+=`
`+o[++h];switch(v=v.trim(),+x){case-1:if(v==="BOT"){m[++u]=[],d=0;continue}else if(v!=="EOD")throw new Error("Unrecognized DIF special command "+v);break;case 0:v==="TRUE"?m[u][d]=!0:v==="FALSE"?m[u][d]=!1:isNaN(Ac(b))?isNaN(Gm(b).getDate())?m[u][d]=b:m[u][d]=na(b):m[u][d]=Ac(b),++d;break;case 1:v=v.slice(1,v.length-1),v=v.replace(/""/g,'"'),v&&v.match(/^=".*"$/)&&(v=v.slice(2,-1)),m[u][d++]=v!==""?v:null;break}if(v==="EOD")break}}return l&&l.sheetRows&&(m=m.slice(0,l.sheetRows)),m}function r(s,l){return fp(e(s,l),l)}function n(s,l){return zf(r(s,l),l)}var a=(function(){var s=function(u,d,h,m,g){u.push(d),u.push(h+","+m),u.push('"'+g.replace(/"/g,'""')+'"')},l=function(u,d,h,m){u.push(d+","+h),u.push(d==1?'"'+m.replace(/"/g,'""')+'"':m)};return function(u){var d=[],h=nn(u["!ref"]),m,g=Array.isArray(u);s(d,"TABLE",0,1,"sheetjs"),s(d,"VECTORS",0,h.e.r-h.s.r+1,""),s(d,"TUPLES",0,h.e.c-h.s.c+1,""),s(d,"DATA",0,0,"");for(var x=h.s.r;x<=h.e.r;++x){l(d,-1,0,"BOT");for(var b=h.s.c;b<=h.e.c;++b){var v=dr({r:x,c:b});if(m=g?(u[x]||[])[b]:u[v],!m){l(d,1,0,"");continue}switch(m.t){case"n":var w=m.w;!w&&m.v!=null&&(w=m.v),w==null?m.f&&!m.F?l(d,1,0,"="+m.f):l(d,1,0,""):l(d,0,w,"V");break;case"b":l(d,0,m.v?1:0,m.v?"TRUE":"FALSE");break;case"s":l(d,1,0,isNaN(m.v)?m.v:'="'+m.v+'"');break;case"d":m.w||(m.w=$o(m.z||ur[14],Es(na(m.v)))),l(d,0,m.w,"V");break;default:l(d,1,0,"")}}}l(d,-1,0,"EOD");var N=`\r
`,E=d.join(N);return E}})();return{to_workbook:n,to_sheet:r,from_sheet:a}})(),kP=(function(){function e(m){return m.replace(/\\b/g,"\\").replace(/\\c/g,":").replace(/\\n/g,`
`)}function t(m){return m.replace(/\\/g,"\\b").replace(/:/g,"\\c").replace(/\n/g,"\\n")}function r(m,g){for(var x=m.split(`
`),b=-1,v=-1,w=0,N=[];w!==x.length;++w){var E=x[w].trim().split(":");if(E[0]==="cell"){var j=Sa(E[1]);if(N.length<=j.r)for(b=N.length;b<=j.r;++b)N[b]||(N[b]=[]);switch(b=j.r,v=j.c,E[2]){case"t":N[b][v]=e(E[3]);break;case"v":N[b][v]=+E[3];break;case"vtf":var T=E[E.length-1];case"vtc":switch(E[3]){case"nl":N[b][v]=!!+E[4];break;default:N[b][v]=+E[4];break}E[2]=="vtf"&&(N[b][v]=[N[b][v],T])}}}return g&&g.sheetRows&&(N=N.slice(0,g.sheetRows)),N}function n(m,g){return fp(r(m,g),g)}function a(m,g){return zf(n(m,g),g)}var s=["socialcalc:version:1.5","MIME-Version: 1.0","Content-Type: multipart/mixed; boundary=SocialCalcSpreadsheetControlSave"].join(`
`),l=["--SocialCalcSpreadsheetControlSave","Content-type: text/plain; charset=UTF-8"].join(`
`)+`
`,o=["# SocialCalc Spreadsheet Control Save","part:sheet"].join(`
`),u="--SocialCalcSpreadsheetControlSave--";function d(m){if(!m||!m["!ref"])return"";for(var g=[],x=[],b,v="",w=Tl(m["!ref"]),N=Array.isArray(m),E=w.s.r;E<=w.e.r;++E)for(var j=w.s.c;j<=w.e.c;++j)if(v=dr({r:E,c:j}),b=N?(m[E]||[])[j]:m[v],!(!b||b.v==null||b.t==="z")){switch(x=["cell",v,"t"],b.t){case"s":case"str":x.push(t(b.v));break;case"n":b.f?(x[2]="vtf",x[3]="n",x[4]=b.v,x[5]=t(b.f)):(x[2]="v",x[3]=b.v);break;case"b":x[2]="vt"+(b.f?"f":"c"),x[3]="nl",x[4]=b.v?"1":"0",x[5]=t(b.f||(b.v?"TRUE":"FALSE"));break;case"d":var T=Es(na(b.v));x[2]="vtc",x[3]="nd",x[4]=""+T,x[5]=b.w||$o(b.z||ur[14],T);break;case"e":continue}g.push(x.join(":"))}return g.push("sheet:c:"+(w.e.c-w.s.c+1)+":r:"+(w.e.r-w.s.r+1)+":tvf:1"),g.push("valueformat:1:text-wiki"),g.join(`
`)}function h(m){return[s,l,o,l,d(m),u].join(`
`)}return{to_workbook:a,to_sheet:n,from_sheet:h}})(),Ym=(function(){function e(h,m,g,x,b){b.raw?m[g][x]=h:h===""||(h==="TRUE"?m[g][x]=!0:h==="FALSE"?m[g][x]=!1:isNaN(Ac(h))?isNaN(Gm(h).getDate())?m[g][x]=h:m[g][x]=na(h):m[g][x]=Ac(h))}function t(h,m){var g=m||{},x=[];if(!h||h.length===0)return x;for(var b=h.split(/[\r\n]/),v=b.length-1;v>=0&&b[v].length===0;)--v;for(var w=10,N=0,E=0;E<=v;++E)N=b[E].indexOf(" "),N==-1?N=b[E].length:N++,w=Math.max(w,N);for(E=0;E<=v;++E){x[E]=[];var j=0;for(e(b[E].slice(0,w).trim(),x,E,j,g),j=1;j<=(b[E].length-w)/10+1;++j)e(b[E].slice(w+(j-1)*10,w+j*10).trim(),x,E,j,g)}return g.sheetRows&&(x=x.slice(0,g.sheetRows)),x}var r={44:",",9:"	",59:";",124:"|"},n={44:3,9:2,59:1,124:0};function a(h){for(var m={},g=!1,x=0,b=0;x<h.length;++x)(b=h.charCodeAt(x))==34?g=!g:!g&&b in r&&(m[b]=(m[b]||0)+1);b=[];for(x in m)Object.prototype.hasOwnProperty.call(m,x)&&b.push([m[x],x]);if(!b.length){m=n;for(x in m)Object.prototype.hasOwnProperty.call(m,x)&&b.push([m[x],x])}return b.sort(function(v,w){return v[0]-w[0]||n[v[1]]-n[w[1]]}),r[b.pop()[1]]||44}function s(h,m){var g=m||{},x="",b=g.dense?[]:{},v={s:{c:0,r:0},e:{c:0,r:0}};h.slice(0,4)=="sep="?h.charCodeAt(5)==13&&h.charCodeAt(6)==10?(x=h.charAt(4),h=h.slice(7)):h.charCodeAt(5)==13||h.charCodeAt(5)==10?(x=h.charAt(4),h=h.slice(6)):x=a(h.slice(0,1024)):g&&g.FS?x=g.FS:x=a(h.slice(0,1024));var w=0,N=0,E=0,j=0,T=0,O=x.charCodeAt(0),D=!1,C=0,P=h.charCodeAt(0);h=h.replace(/\r\n/mg,`
`);var B=g.dateNF!=null?sK(g.dateNF):null;function H(){var L=h.slice(j,T),U={};if(L.charAt(0)=='"'&&L.charAt(L.length-1)=='"'&&(L=L.slice(1,-1).replace(/""/g,'"')),L.length===0)U.t="z";else if(g.raw)U.t="s",U.v=L;else if(L.trim().length===0)U.t="s",U.v=L;else if(L.charCodeAt(0)==61)L.charCodeAt(1)==34&&L.charCodeAt(L.length-1)==34?(U.t="s",U.v=L.slice(2,-1).replace(/""/g,'"')):PZ(L)?(U.t="n",U.f=L.slice(1)):(U.t="s",U.v=L);else if(L=="TRUE")U.t="b",U.v=!0;else if(L=="FALSE")U.t="b",U.v=!1;else if(!isNaN(E=Ac(L)))U.t="n",g.cellText!==!1&&(U.w=L),U.v=E;else if(!isNaN(Gm(L).getDate())||B&&L.match(B)){U.z=g.dateNF||ur[14];var V=0;B&&L.match(B)&&(L=iK(L,g.dateNF,L.match(B)||[]),V=1),g.cellDates?(U.t="d",U.v=na(L,V)):(U.t="n",U.v=Es(na(L,V))),g.cellText!==!1&&(U.w=$o(U.z,U.v instanceof Date?Es(U.v):U.v)),g.cellNF||delete U.z}else U.t="s",U.v=L;if(U.t=="z"||(g.dense?(b[w]||(b[w]=[]),b[w][N]=U):b[dr({c:N,r:w})]=U),j=T+1,P=h.charCodeAt(j),v.e.c<N&&(v.e.c=N),v.e.r<w&&(v.e.r=w),C==O)++N;else if(N=0,++w,g.sheetRows&&g.sheetRows<=w)return!0}e:for(;T<h.length;++T)switch(C=h.charCodeAt(T)){case 34:P===34&&(D=!D);break;case O:case 10:case 13:if(!D&&H())break e;break}return T-j>0&&H(),b["!ref"]=Nr(v),b}function l(h,m){return!(m&&m.PRN)||m.FS||h.slice(0,4)=="sep="||h.indexOf("	")>=0||h.indexOf(",")>=0||h.indexOf(";")>=0?s(h,m):fp(t(h,m),m)}function o(h,m){var g="",x=m.type=="string"?[0,0,0,0]:Pj(h,m);switch(m.type){case"base64":g=no(h);break;case"binary":g=h;break;case"buffer":m.codepage==65001?g=h.toString("utf8"):m.codepage&&typeof Yx<"u"||(g=Or&&Buffer.isBuffer(h)?h.toString("binary"):Uf(h));break;case"array":g=Q0(h);break;case"string":g=h;break;default:throw new Error("Unrecognized type "+m.type)}return x[0]==239&&x[1]==187&&x[2]==191?g=Rn(g.slice(3)):m.type!="string"&&m.type!="buffer"&&m.codepage==65001?g=Rn(g):m.type=="binary"&&typeof Yx<"u",g.slice(0,19)=="socialcalc:version:"?kP.to_sheet(m.type=="string"?g:Rn(g),m):l(g,m)}function u(h,m){return zf(o(h,m),m)}function d(h){for(var m=[],g=nn(h["!ref"]),x,b=Array.isArray(h),v=g.s.r;v<=g.e.r;++v){for(var w=[],N=g.s.c;N<=g.e.c;++N){var E=dr({r:v,c:N});if(x=b?(h[v]||[])[N]:h[E],!x||x.v==null){w.push("          ");continue}for(var j=(x.w||(gd(x),x.w)||"").slice(0,10);j.length<10;)j+=" ";w.push(j+(N===0?" ":""))}m.push(w.join(""))}return m.join(`
`)}return{to_workbook:u,to_sheet:o,from_sheet:d}})();function bX(e,t){var r=t||{},n=!!r.WTF;r.WTF=!0;try{var a=SP.to_workbook(e,r);return r.WTF=n,a}catch(s){if(r.WTF=n,!s.message.match(/SYLK bad record ID/)&&n)throw s;return Ym.to_workbook(e,t)}}var I0=(function(){function e(M,R,q){if(M){ci(M,M.l||0);for(var K=q.Enum||Se;M.l<M.length;){var ee=M.read_shift(2),ce=K[ee]||K[65535],Q=M.read_shift(2),re=M.l+Q,ye=ce.f&&ce.f(M,Q,q);if(M.l=re,R(ye,ce,ee))return}}}function t(M,R){switch(R.type){case"base64":return r(Zl(no(M)),R);case"binary":return r(Zl(M),R);case"buffer":case"array":return r(M,R)}throw"Unsupported type "+R.type}function r(M,R){if(!M)return M;var q=R||{},K=q.dense?[]:{},ee="Sheet1",ce="",Q=0,re={},ye=[],Ee=[],X={s:{r:0,c:0},e:{r:0,c:0}},Je=q.sheetRows||0;if(M[2]==0&&(M[3]==8||M[3]==9)&&M.length>=16&&M[14]==5&&M[15]===108)throw new Error("Unsupported Works 3 for Mac file");if(M[2]==2)q.Enum=Se,e(M,function(et,Le,Be){switch(Be){case 0:q.vers=et,et>=4096&&(q.qpro=!0);break;case 6:X=et;break;case 204:et&&(ce=et);break;case 222:ce=et;break;case 15:case 51:q.qpro||(et[1].v=et[1].v.slice(1));case 13:case 14:case 16:Be==14&&(et[2]&112)==112&&(et[2]&15)>1&&(et[2]&15)<15&&(et[1].z=q.dateNF||ur[14],q.cellDates&&(et[1].t="d",et[1].v=v2(et[1].v))),q.qpro&&et[3]>Q&&(K["!ref"]=Nr(X),re[ee]=K,ye.push(ee),K=q.dense?[]:{},X={s:{r:0,c:0},e:{r:0,c:0}},Q=et[3],ee=ce||"Sheet"+(Q+1),ce="");var ct=q.dense?(K[et[0].r]||[])[et[0].c]:K[dr(et[0])];if(ct){ct.t=et[1].t,ct.v=et[1].v,et[1].z!=null&&(ct.z=et[1].z),et[1].f!=null&&(ct.f=et[1].f);break}q.dense?(K[et[0].r]||(K[et[0].r]=[]),K[et[0].r][et[0].c]=et[1]):K[dr(et[0])]=et[1];break}},q);else if(M[2]==26||M[2]==14)q.Enum=ne,M[2]==14&&(q.qpro=!0,M.l=0),e(M,function(et,Le,Be){switch(Be){case 204:ee=et;break;case 22:et[1].v=et[1].v.slice(1);case 23:case 24:case 25:case 37:case 39:case 40:if(et[3]>Q&&(K["!ref"]=Nr(X),re[ee]=K,ye.push(ee),K=q.dense?[]:{},X={s:{r:0,c:0},e:{r:0,c:0}},Q=et[3],ee="Sheet"+(Q+1)),Je>0&&et[0].r>=Je)break;q.dense?(K[et[0].r]||(K[et[0].r]=[]),K[et[0].r][et[0].c]=et[1]):K[dr(et[0])]=et[1],X.e.c<et[0].c&&(X.e.c=et[0].c),X.e.r<et[0].r&&(X.e.r=et[0].r);break;case 27:et[14e3]&&(Ee[et[14e3][0]]=et[14e3][1]);break;case 1537:Ee[et[0]]=et[1],et[0]==Q&&(ee=et[1]);break}},q);else throw new Error("Unrecognized LOTUS BOF "+M[2]);if(K["!ref"]=Nr(X),re[ce||ee]=K,ye.push(ce||ee),!Ee.length)return{SheetNames:ye,Sheets:re};for(var Ce={},xe=[],xt=0;xt<Ee.length;++xt)re[ye[xt]]?(xe.push(Ee[xt]||ye[xt]),Ce[Ee[xt]]=re[Ee[xt]]||re[ye[xt]]):(xe.push(Ee[xt]),Ce[Ee[xt]]={"!ref":"A1"});return{SheetNames:xe,Sheets:Ce}}function n(M,R){var q=R||{};if(+q.codepage>=0&&_c(+q.codepage),q.type=="string")throw new Error("Cannot write WK1 to JS string");var K=El(),ee=nn(M["!ref"]),ce=Array.isArray(M),Q=[];jt(K,0,s(1030)),jt(K,6,u(ee));for(var re=Math.min(ee.e.r,8191),ye=ee.s.r;ye<=re;++ye)for(var Ee=Ja(ye),X=ee.s.c;X<=ee.e.c;++X){ye===ee.s.r&&(Q[X]=ja(X));var Je=Q[X]+Ee,Ce=ce?(M[ye]||[])[X]:M[Je];if(!(!Ce||Ce.t=="z"))if(Ce.t=="n")(Ce.v|0)==Ce.v&&Ce.v>=-32768&&Ce.v<=32767?jt(K,13,x(ye,X,Ce.v)):jt(K,14,v(ye,X,Ce.v));else{var xe=gd(Ce);jt(K,15,m(ye,X,xe.slice(0,239)))}}return jt(K,1),K.end()}function a(M,R){var q=R||{};if(+q.codepage>=0&&_c(+q.codepage),q.type=="string")throw new Error("Cannot write WK3 to JS string");var K=El();jt(K,0,l(M));for(var ee=0,ce=0;ee<M.SheetNames.length;++ee)(M.Sheets[M.SheetNames[ee]]||{})["!ref"]&&jt(K,27,oe(M.SheetNames[ee],ce++));var Q=0;for(ee=0;ee<M.SheetNames.length;++ee){var re=M.Sheets[M.SheetNames[ee]];if(!(!re||!re["!ref"])){for(var ye=nn(re["!ref"]),Ee=Array.isArray(re),X=[],Je=Math.min(ye.e.r,8191),Ce=ye.s.r;Ce<=Je;++Ce)for(var xe=Ja(Ce),xt=ye.s.c;xt<=ye.e.c;++xt){Ce===ye.s.r&&(X[xt]=ja(xt));var et=X[xt]+xe,Le=Ee?(re[Ce]||[])[xt]:re[et];if(!(!Le||Le.t=="z"))if(Le.t=="n")jt(K,23,H(Ce,xt,Q,Le.v));else{var Be=gd(Le);jt(K,22,C(Ce,xt,Q,Be.slice(0,239)))}}++Q}}return jt(K,1),K.end()}function s(M){var R=nt(2);return R.write_shift(2,M),R}function l(M){var R=nt(26);R.write_shift(2,4096),R.write_shift(2,4),R.write_shift(4,0);for(var q=0,K=0,ee=0,ce=0;ce<M.SheetNames.length;++ce){var Q=M.SheetNames[ce],re=M.Sheets[Q];if(!(!re||!re["!ref"])){++ee;var ye=Tl(re["!ref"]);q<ye.e.r&&(q=ye.e.r),K<ye.e.c&&(K=ye.e.c)}}return q>8191&&(q=8191),R.write_shift(2,q),R.write_shift(1,ee),R.write_shift(1,K),R.write_shift(2,0),R.write_shift(2,0),R.write_shift(1,1),R.write_shift(1,2),R.write_shift(4,0),R.write_shift(4,0),R}function o(M,R,q){var K={s:{c:0,r:0},e:{c:0,r:0}};return R==8&&q.qpro?(K.s.c=M.read_shift(1),M.l++,K.s.r=M.read_shift(2),K.e.c=M.read_shift(1),M.l++,K.e.r=M.read_shift(2),K):(K.s.c=M.read_shift(2),K.s.r=M.read_shift(2),R==12&&q.qpro&&(M.l+=2),K.e.c=M.read_shift(2),K.e.r=M.read_shift(2),R==12&&q.qpro&&(M.l+=2),K.s.c==65535&&(K.s.c=K.e.c=K.s.r=K.e.r=0),K)}function u(M){var R=nt(8);return R.write_shift(2,M.s.c),R.write_shift(2,M.s.r),R.write_shift(2,M.e.c),R.write_shift(2,M.e.r),R}function d(M,R,q){var K=[{c:0,r:0},{t:"n",v:0},0,0];return q.qpro&&q.vers!=20768?(K[0].c=M.read_shift(1),K[3]=M.read_shift(1),K[0].r=M.read_shift(2),M.l+=2):(K[2]=M.read_shift(1),K[0].c=M.read_shift(2),K[0].r=M.read_shift(2)),K}function h(M,R,q){var K=M.l+R,ee=d(M,R,q);if(ee[1].t="s",q.vers==20768){M.l++;var ce=M.read_shift(1);return ee[1].v=M.read_shift(ce,"utf8"),ee}return q.qpro&&M.l++,ee[1].v=M.read_shift(K-M.l,"cstr"),ee}function m(M,R,q){var K=nt(7+q.length);K.write_shift(1,255),K.write_shift(2,R),K.write_shift(2,M),K.write_shift(1,39);for(var ee=0;ee<K.length;++ee){var ce=q.charCodeAt(ee);K.write_shift(1,ce>=128?95:ce)}return K.write_shift(1,0),K}function g(M,R,q){var K=d(M,R,q);return K[1].v=M.read_shift(2,"i"),K}function x(M,R,q){var K=nt(7);return K.write_shift(1,255),K.write_shift(2,R),K.write_shift(2,M),K.write_shift(2,q,"i"),K}function b(M,R,q){var K=d(M,R,q);return K[1].v=M.read_shift(8,"f"),K}function v(M,R,q){var K=nt(13);return K.write_shift(1,255),K.write_shift(2,R),K.write_shift(2,M),K.write_shift(8,q,"f"),K}function w(M,R,q){var K=M.l+R,ee=d(M,R,q);if(ee[1].v=M.read_shift(8,"f"),q.qpro)M.l=K;else{var ce=M.read_shift(2);T(M.slice(M.l,M.l+ce),ee),M.l+=ce}return ee}function N(M,R,q){var K=R&32768;return R&=-32769,R=(K?M:0)+(R>=8192?R-16384:R),(K?"":"$")+(q?ja(R):Ja(R))}var E={51:["FALSE",0],52:["TRUE",0],70:["LEN",1],80:["SUM",69],81:["AVERAGEA",69],82:["COUNTA",69],83:["MINA",69],84:["MAXA",69],111:["T",1]},j=["","","","","","","","","","+","-","*","/","^","=","<>","<=",">=","<",">","","","","","&","","","","","","",""];function T(M,R){ci(M,0);for(var q=[],K=0,ee="",ce="",Q="",re="";M.l<M.length;){var ye=M[M.l++];switch(ye){case 0:q.push(M.read_shift(8,"f"));break;case 1:ce=N(R[0].c,M.read_shift(2),!0),ee=N(R[0].r,M.read_shift(2),!1),q.push(ce+ee);break;case 2:{var Ee=N(R[0].c,M.read_shift(2),!0),X=N(R[0].r,M.read_shift(2),!1);ce=N(R[0].c,M.read_shift(2),!0),ee=N(R[0].r,M.read_shift(2),!1),q.push(Ee+X+":"+ce+ee)}break;case 3:if(M.l<M.length){console.error("WK1 premature formula end");return}break;case 4:q.push("("+q.pop()+")");break;case 5:q.push(M.read_shift(2));break;case 6:{for(var Je="";ye=M[M.l++];)Je+=String.fromCharCode(ye);q.push('"'+Je.replace(/"/g,'""')+'"')}break;case 8:q.push("-"+q.pop());break;case 23:q.push("+"+q.pop());break;case 22:q.push("NOT("+q.pop()+")");break;case 20:case 21:re=q.pop(),Q=q.pop(),q.push(["AND","OR"][ye-20]+"("+Q+","+re+")");break;default:if(ye<32&&j[ye])re=q.pop(),Q=q.pop(),q.push(Q+j[ye]+re);else if(E[ye]){if(K=E[ye][1],K==69&&(K=M[M.l++]),K>q.length){console.error("WK1 bad formula parse 0x"+ye.toString(16)+":|"+q.join("|")+"|");return}var Ce=q.slice(-K);q.length-=K,q.push(E[ye][0]+"("+Ce.join(",")+")")}else return ye<=7?console.error("WK1 invalid opcode "+ye.toString(16)):ye<=24?console.error("WK1 unsupported op "+ye.toString(16)):ye<=30?console.error("WK1 invalid opcode "+ye.toString(16)):ye<=115?console.error("WK1 unsupported function opcode "+ye.toString(16)):console.error("WK1 unrecognized opcode "+ye.toString(16))}}q.length==1?R[1].f=""+q[0]:console.error("WK1 bad formula parse |"+q.join("|")+"|")}function O(M){var R=[{c:0,r:0},{t:"n",v:0},0];return R[0].r=M.read_shift(2),R[3]=M[M.l++],R[0].c=M[M.l++],R}function D(M,R){var q=O(M);return q[1].t="s",q[1].v=M.read_shift(R-4,"cstr"),q}function C(M,R,q,K){var ee=nt(6+K.length);ee.write_shift(2,M),ee.write_shift(1,q),ee.write_shift(1,R),ee.write_shift(1,39);for(var ce=0;ce<K.length;++ce){var Q=K.charCodeAt(ce);ee.write_shift(1,Q>=128?95:Q)}return ee.write_shift(1,0),ee}function P(M,R){var q=O(M);q[1].v=M.read_shift(2);var K=q[1].v>>1;if(q[1].v&1)switch(K&7){case 0:K=(K>>3)*5e3;break;case 1:K=(K>>3)*500;break;case 2:K=(K>>3)/20;break;case 3:K=(K>>3)/200;break;case 4:K=(K>>3)/2e3;break;case 5:K=(K>>3)/2e4;break;case 6:K=(K>>3)/16;break;case 7:K=(K>>3)/64;break}return q[1].v=K,q}function B(M,R){var q=O(M),K=M.read_shift(4),ee=M.read_shift(4),ce=M.read_shift(2);if(ce==65535)return K===0&&ee===3221225472?(q[1].t="e",q[1].v=15):K===0&&ee===3489660928?(q[1].t="e",q[1].v=42):q[1].v=0,q;var Q=ce&32768;return ce=(ce&32767)-16446,q[1].v=(1-Q*2)*(ee*Math.pow(2,ce+32)+K*Math.pow(2,ce)),q}function H(M,R,q,K){var ee=nt(14);if(ee.write_shift(2,M),ee.write_shift(1,q),ee.write_shift(1,R),K==0)return ee.write_shift(4,0),ee.write_shift(4,0),ee.write_shift(2,65535),ee;var ce=0,Q=0,re=0,ye=0;return K<0&&(ce=1,K=-K),Q=Math.log2(K)|0,K/=Math.pow(2,Q-31),ye=K>>>0,(ye&2147483648)==0&&(K/=2,++Q,ye=K>>>0),K-=ye,ye|=2147483648,ye>>>=0,K*=Math.pow(2,32),re=K>>>0,ee.write_shift(4,re),ee.write_shift(4,ye),Q+=16383+(ce?32768:0),ee.write_shift(2,Q),ee}function L(M,R){var q=B(M);return M.l+=R-14,q}function U(M,R){var q=O(M),K=M.read_shift(4);return q[1].v=K>>6,q}function V(M,R){var q=O(M),K=M.read_shift(8,"f");return q[1].v=K,q}function Y(M,R){var q=V(M);return M.l+=R-10,q}function de(M,R){return M[M.l+R-1]==0?M.read_shift(R,"cstr"):""}function te(M,R){var q=M[M.l++];q>R-1&&(q=R-1);for(var K="";K.length<q;)K+=String.fromCharCode(M[M.l++]);return K}function ie(M,R,q){if(!(!q.qpro||R<21)){var K=M.read_shift(1);M.l+=17,M.l+=1,M.l+=2;var ee=M.read_shift(R-21,"cstr");return[K,ee]}}function ge(M,R){for(var q={},K=M.l+R;M.l<K;){var ee=M.read_shift(2);if(ee==14e3){for(q[ee]=[0,""],q[ee][0]=M.read_shift(2);M[M.l];)q[ee][1]+=String.fromCharCode(M[M.l]),M.l++;M.l++}}return q}function oe(M,R){var q=nt(5+M.length);q.write_shift(2,14e3),q.write_shift(2,R);for(var K=0;K<M.length;++K){var ee=M.charCodeAt(K);q[q.l++]=ee>127?95:ee}return q[q.l++]=0,q}var Se={0:{n:"BOF",f:os},1:{n:"EOF"},2:{n:"CALCMODE"},3:{n:"CALCORDER"},4:{n:"SPLIT"},5:{n:"SYNC"},6:{n:"RANGE",f:o},7:{n:"WINDOW1"},8:{n:"COLW1"},9:{n:"WINTWO"},10:{n:"COLW2"},11:{n:"NAME"},12:{n:"BLANK"},13:{n:"INTEGER",f:g},14:{n:"NUMBER",f:b},15:{n:"LABEL",f:h},16:{n:"FORMULA",f:w},24:{n:"TABLE"},25:{n:"ORANGE"},26:{n:"PRANGE"},27:{n:"SRANGE"},28:{n:"FRANGE"},29:{n:"KRANGE1"},32:{n:"HRANGE"},35:{n:"KRANGE2"},36:{n:"PROTEC"},37:{n:"FOOTER"},38:{n:"HEADER"},39:{n:"SETUP"},40:{n:"MARGINS"},41:{n:"LABELFMT"},42:{n:"TITLES"},43:{n:"SHEETJS"},45:{n:"GRAPH"},46:{n:"NGRAPH"},47:{n:"CALCCOUNT"},48:{n:"UNFORMATTED"},49:{n:"CURSORW12"},50:{n:"WINDOW"},51:{n:"STRING",f:h},55:{n:"PASSWORD"},56:{n:"LOCKED"},60:{n:"QUERY"},61:{n:"QUERYNAME"},62:{n:"PRINT"},63:{n:"PRINTNAME"},64:{n:"GRAPH2"},65:{n:"GRAPHNAME"},66:{n:"ZOOM"},67:{n:"SYMSPLIT"},68:{n:"NSROWS"},69:{n:"NSCOLS"},70:{n:"RULER"},71:{n:"NNAME"},72:{n:"ACOMM"},73:{n:"AMACRO"},74:{n:"PARSE"},102:{n:"PRANGES??"},103:{n:"RRANGES??"},104:{n:"FNAME??"},105:{n:"MRANGES??"},204:{n:"SHEETNAMECS",f:de},222:{n:"SHEETNAMELP",f:te},65535:{n:""}},ne={0:{n:"BOF"},1:{n:"EOF"},2:{n:"PASSWORD"},3:{n:"CALCSET"},4:{n:"WINDOWSET"},5:{n:"SHEETCELLPTR"},6:{n:"SHEETLAYOUT"},7:{n:"COLUMNWIDTH"},8:{n:"HIDDENCOLUMN"},9:{n:"USERRANGE"},10:{n:"SYSTEMRANGE"},11:{n:"ZEROFORCE"},12:{n:"SORTKEYDIR"},13:{n:"FILESEAL"},14:{n:"DATAFILLNUMS"},15:{n:"PRINTMAIN"},16:{n:"PRINTSTRING"},17:{n:"GRAPHMAIN"},18:{n:"GRAPHSTRING"},19:{n:"??"},20:{n:"ERRCELL"},21:{n:"NACELL"},22:{n:"LABEL16",f:D},23:{n:"NUMBER17",f:B},24:{n:"NUMBER18",f:P},25:{n:"FORMULA19",f:L},26:{n:"FORMULA1A"},27:{n:"XFORMAT",f:ge},28:{n:"DTLABELMISC"},29:{n:"DTLABELCELL"},30:{n:"GRAPHWINDOW"},31:{n:"CPA"},32:{n:"LPLAUTO"},33:{n:"QUERY"},34:{n:"HIDDENSHEET"},35:{n:"??"},37:{n:"NUMBER25",f:U},38:{n:"??"},39:{n:"NUMBER27",f:V},40:{n:"FORMULA28",f:Y},142:{n:"??"},147:{n:"??"},150:{n:"??"},151:{n:"??"},152:{n:"??"},153:{n:"??"},154:{n:"??"},155:{n:"??"},156:{n:"??"},163:{n:"??"},174:{n:"??"},175:{n:"??"},176:{n:"??"},177:{n:"??"},184:{n:"??"},185:{n:"??"},186:{n:"??"},187:{n:"??"},188:{n:"??"},195:{n:"??"},201:{n:"??"},204:{n:"SHEETNAMECS",f:de},205:{n:"??"},206:{n:"??"},207:{n:"??"},208:{n:"??"},256:{n:"??"},259:{n:"??"},260:{n:"??"},261:{n:"??"},262:{n:"??"},263:{n:"??"},265:{n:"??"},266:{n:"??"},267:{n:"??"},268:{n:"??"},270:{n:"??"},271:{n:"??"},384:{n:"??"},389:{n:"??"},390:{n:"??"},393:{n:"??"},396:{n:"??"},512:{n:"??"},514:{n:"??"},513:{n:"??"},516:{n:"??"},517:{n:"??"},640:{n:"??"},641:{n:"??"},642:{n:"??"},643:{n:"??"},644:{n:"??"},645:{n:"??"},646:{n:"??"},647:{n:"??"},648:{n:"??"},658:{n:"??"},659:{n:"??"},660:{n:"??"},661:{n:"??"},662:{n:"??"},665:{n:"??"},666:{n:"??"},768:{n:"??"},772:{n:"??"},1537:{n:"SHEETINFOQP",f:ie},1600:{n:"??"},1602:{n:"??"},1793:{n:"??"},1794:{n:"??"},1795:{n:"??"},1796:{n:"??"},1920:{n:"??"},2048:{n:"??"},2049:{n:"??"},2052:{n:"??"},2688:{n:"??"},10998:{n:"??"},12849:{n:"??"},28233:{n:"??"},28484:{n:"??"},65535:{n:""}};return{sheet_to_wk1:n,book_to_wk3:a,to_workbook:t}})();function wX(e){var t={},r=e.match(Ri),n=0,a=!1;if(r)for(;n!=r.length;++n){var s=hr(r[n]);switch(s[0].replace(/\w*:/g,"")){case"<condense":break;case"<extend":break;case"<shadow":if(!s.val)break;case"<shadow>":case"<shadow/>":t.shadow=1;break;case"</shadow>":break;case"<charset":if(s.val=="1")break;t.cp=Q_[parseInt(s.val,10)];break;case"<outline":if(!s.val)break;case"<outline>":case"<outline/>":t.outline=1;break;case"</outline>":break;case"<rFont":t.name=s.val;break;case"<sz":t.sz=s.val;break;case"<strike":if(!s.val)break;case"<strike>":case"<strike/>":t.strike=1;break;case"</strike>":break;case"<u":if(!s.val)break;switch(s.val){case"double":t.uval="double";break;case"singleAccounting":t.uval="single-accounting";break;case"doubleAccounting":t.uval="double-accounting";break}case"<u>":case"<u/>":t.u=1;break;case"</u>":break;case"<b":if(s.val=="0")break;case"<b>":case"<b/>":t.b=1;break;case"</b>":break;case"<i":if(s.val=="0")break;case"<i>":case"<i/>":t.i=1;break;case"</i>":break;case"<color":s.rgb&&(t.color=s.rgb.slice(2,8));break;case"<color>":case"<color/>":case"</color>":break;case"<family":t.family=s.val;break;case"<family>":case"<family/>":case"</family>":break;case"<vertAlign":t.valign=s.val;break;case"<vertAlign>":case"<vertAlign/>":case"</vertAlign>":break;case"<scheme":break;case"<scheme>":case"<scheme/>":case"</scheme>":break;case"<extLst":case"<extLst>":case"</extLst>":break;case"<ext":a=!0;break;case"</ext>":a=!1;break;default:if(s[0].charCodeAt(1)!==47&&!a)throw new Error("Unrecognized rich format "+s[0])}}return t}var NX=(function(){var e=Zx("t"),t=Zx("rPr");function r(s){var l=s.match(e);if(!l)return{t:"s",v:""};var o={t:"s",v:rn(l[1])},u=s.match(t);return u&&(o.s=wX(u[1])),o}var n=/<(?:\w+:)?r>/g,a=/<\/(?:\w+:)?r>/;return function(l){return l.replace(n,"").split(a).map(r).filter(function(o){return o.v})}})(),_X=(function(){var t=/(\r\n|\n)/g;function r(a,s,l){var o=[];a.u&&o.push("text-decoration: underline;"),a.uval&&o.push("text-underline-style:"+a.uval+";"),a.sz&&o.push("font-size:"+a.sz+"pt;"),a.outline&&o.push("text-effect: outline;"),a.shadow&&o.push("text-shadow: auto;"),s.push('<span style="'+o.join("")+'">'),a.b&&(s.push("<b>"),l.push("</b>")),a.i&&(s.push("<i>"),l.push("</i>")),a.strike&&(s.push("<s>"),l.push("</s>"));var u=a.valign||"";return u=="superscript"||u=="super"?u="sup":u=="subscript"&&(u="sub"),u!=""&&(s.push("<"+u+">"),l.push("</"+u+">")),l.push("</span>"),a}function n(a){var s=[[],a.v,[]];return a.v?(a.s&&r(a.s,s[0],s[2]),s[0].join("")+s[1].replace(t,"<br/>")+s[2].join("")):""}return function(s){return s.map(n).join("")}})(),jX=/<(?:\w+:)?t[^>]*>([^<]*)<\/(?:\w+:)?t>/g,SX=/<(?:\w+:)?r>/,AX=/<(?:\w+:)?rPh.*?>([\s\S]*?)<\/(?:\w+:)?rPh>/g;function wj(e,t){var r=t?t.cellHTML:!0,n={};return e?(e.match(/^\s*<(?:\w+:)?t[^>]*>/)?(n.t=rn(Rn(e.slice(e.indexOf(">")+1).split(/<\/(?:\w+:)?t>/)[0]||"")),n.r=Rn(e),r&&(n.h=lj(n.t))):e.match(SX)&&(n.r=Rn(e),n.t=rn(Rn((e.replace(AX,"").match(jX)||[]).join("").replace(Ri,""))),r&&(n.h=_X(NX(n.r)))),n):{t:""}}var kX=/<(?:\w+:)?sst([^>]*)>([\s\S]*)<\/(?:\w+:)?sst>/,EX=/<(?:\w+:)?(?:si|sstItem)>/g,CX=/<\/(?:\w+:)?(?:si|sstItem)>/;function TX(e,t){var r=[],n="";if(!e)return r;var a=e.match(kX);if(a){n=a[2].replace(EX,"").split(CX);for(var s=0;s!=n.length;++s){var l=wj(n[s].trim(),t);l!=null&&(r[r.length]=l)}a=hr(a[1]),r.Count=a.count,r.Unique=a.uniqueCount}return r}var OX=/^\s|\s$|[\t\n\r]/;function EP(e,t){if(!t.bookSST)return"";var r=[es];r[r.length]=Nt("sst",null,{xmlns:ph[0],count:e.Count,uniqueCount:e.Unique});for(var n=0;n!=e.length;++n)if(e[n]!=null){var a=e[n],s="<si>";a.r?s+=a.r:(s+="<t",a.t||(a.t=""),a.t.match(OX)&&(s+=' xml:space="preserve"'),s+=">"+Sn(a.t)+"</t>"),s+="</si>",r[r.length]=s}return r.length>2&&(r[r.length]="</sst>",r[1]=r[1].replace("/>",">")),r.join("")}function FX(e){return[e.read_shift(4),e.read_shift(4)]}function DX(e,t){var r=[],n=!1;return Ad(e,function(s,l,o){switch(o){case 159:r.Count=s[0],r.Unique=s[1];break;case 19:r.push(s);break;case 160:return!0;case 35:n=!0;break;case 36:n=!1;break;default:if(l.T,!n||t.WTF)throw new Error("Unexpected record 0x"+o.toString(16))}}),r}function PX(e,t){return t||(t=nt(8)),t.write_shift(4,e.Count),t.write_shift(4,e.Unique),t}var LX=VK;function MX(e){var t=El();mt(t,159,PX(e));for(var r=0;r<e.length;++r)mt(t,19,LX(e[r]));return mt(t,160),t.end()}function CP(e){for(var t=[],r=e.split(""),n=0;n<r.length;++n)t[n]=r[n].charCodeAt(0);return t}function ud(e,t){var r={};return r.Major=e.read_shift(2),r.Minor=e.read_shift(2),t>=4&&(e.l+=t-4),r}function RX(e){var t={};return t.id=e.read_shift(0,"lpp4"),t.R=ud(e,4),t.U=ud(e,4),t.W=ud(e,4),t}function IX(e){for(var t=e.read_shift(4),r=e.l+t-4,n={},a=e.read_shift(4),s=[];a-- >0;)s.push({t:e.read_shift(4),v:e.read_shift(0,"lpp4")});if(n.name=e.read_shift(0,"lpp4"),n.comps=s,e.l!=r)throw new Error("Bad DataSpaceMapEntry: "+e.l+" != "+r);return n}function BX(e){var t=[];e.l+=4;for(var r=e.read_shift(4);r-- >0;)t.push(IX(e));return t}function UX(e){var t=[];e.l+=4;for(var r=e.read_shift(4);r-- >0;)t.push(e.read_shift(0,"lpp4"));return t}function zX(e){var t={};return e.read_shift(4),e.l+=4,t.id=e.read_shift(0,"lpp4"),t.name=e.read_shift(0,"lpp4"),t.R=ud(e,4),t.U=ud(e,4),t.W=ud(e,4),t}function qX(e){var t=zX(e);if(t.ename=e.read_shift(0,"8lpp4"),t.blksz=e.read_shift(4),t.cmode=e.read_shift(4),e.read_shift(4)!=4)throw new Error("Bad !Primary record");return t}function TP(e,t){var r=e.l+t,n={};n.Flags=e.read_shift(4)&63,e.l+=4,n.AlgID=e.read_shift(4);var a=!1;switch(n.AlgID){case 26126:case 26127:case 26128:a=n.Flags==36;break;case 26625:a=n.Flags==4;break;case 0:a=n.Flags==16||n.Flags==4||n.Flags==36;break;default:throw"Unrecognized encryption algorithm: "+n.AlgID}if(!a)throw new Error("Encryption Flags/AlgID mismatch");return n.AlgIDHash=e.read_shift(4),n.KeySize=e.read_shift(4),n.ProviderType=e.read_shift(4),e.l+=8,n.CSPName=e.read_shift(r-e.l>>1,"utf16le"),e.l=r,n}function OP(e,t){var r={},n=e.l+t;return e.l+=4,r.Salt=e.slice(e.l,e.l+16),e.l+=16,r.Verifier=e.slice(e.l,e.l+16),e.l+=16,e.read_shift(4),r.VerifierHash=e.slice(e.l,n),e.l=n,r}function $X(e){var t=ud(e);switch(t.Minor){case 2:return[t.Minor,HX(e)];case 3:return[t.Minor,VX()];case 4:return[t.Minor,WX(e)]}throw new Error("ECMA-376 Encrypted file unrecognized Version: "+t.Minor)}function HX(e){var t=e.read_shift(4);if((t&63)!=36)throw new Error("EncryptionInfo mismatch");var r=e.read_shift(4),n=TP(e,r),a=OP(e,e.length-e.l);return{t:"Std",h:n,v:a}}function VX(){throw new Error("File is password-protected: ECMA-376 Extensible")}function WX(e){var t=["saltSize","blockSize","keyBits","hashSize","cipherAlgorithm","cipherChaining","hashAlgorithm","saltValue"];e.l+=4;var r=e.read_shift(e.length-e.l,"utf8"),n={};return r.replace(Ri,function(s){var l=hr(s);switch(gu(l[0])){case"<?xml":break;case"<encryption":case"</encryption>":break;case"<keyData":t.forEach(function(o){n[o]=l[o]});break;case"<dataIntegrity":n.encryptedHmacKey=l.encryptedHmacKey,n.encryptedHmacValue=l.encryptedHmacValue;break;case"<keyEncryptors>":case"<keyEncryptors":n.encs=[];break;case"</keyEncryptors>":break;case"<keyEncryptor":n.uri=l.uri;break;case"</keyEncryptor>":break;case"<encryptedKey":n.encs.push(l);break;default:throw l[0]}}),n}function KX(e,t){var r={},n=r.EncryptionVersionInfo=ud(e,4);if(t-=4,n.Minor!=2)throw new Error("unrecognized minor version code: "+n.Minor);if(n.Major>4||n.Major<2)throw new Error("unrecognized major version code: "+n.Major);r.Flags=e.read_shift(4),t-=4;var a=e.read_shift(4);return t-=4,r.EncryptionHeader=TP(e,a),t-=a,r.EncryptionVerifier=OP(e,t),r}function GX(e){var t={},r=t.EncryptionVersionInfo=ud(e,4);if(r.Major!=1||r.Minor!=1)throw"unrecognized version code "+r.Major+" : "+r.Minor;return t.Salt=e.read_shift(16),t.EncryptedVerifier=e.read_shift(16),t.EncryptedVerifierHash=e.read_shift(16),t}function Nj(e){var t=0,r,n=CP(e),a=n.length+1,s,l,o,u,d;for(r=Cf(a),r[0]=n.length,s=1;s!=a;++s)r[s]=n[s-1];for(s=a-1;s>=0;--s)l=r[s],o=(t&16384)===0?0:1,u=t<<1&32767,d=o|u,t=d^l;return t^52811}var FP=(function(){var e=[187,255,255,186,255,255,185,128,0,190,15,0,191,15,0],t=[57840,7439,52380,33984,4364,3600,61902,12606,6258,57657,54287,34041,10252,43370,20163],r=[44796,19929,39858,10053,20106,40212,10761,31585,63170,64933,60267,50935,40399,11199,17763,35526,1453,2906,5812,11624,23248,885,1770,3540,7080,14160,28320,56640,55369,41139,20807,41614,21821,43642,17621,28485,56970,44341,19019,38038,14605,29210,60195,50791,40175,10751,21502,43004,24537,18387,36774,3949,7898,15796,31592,63184,47201,24803,49606,37805,14203,28406,56812,17824,35648,1697,3394,6788,13576,27152,43601,17539,35078,557,1114,2228,4456,30388,60776,51953,34243,7079,14158,28316,14128,28256,56512,43425,17251,34502,7597,13105,26210,52420,35241,883,1766,3532,4129,8258,16516,33032,4657,9314,18628],n=function(l){return(l/2|l*128)&255},a=function(l,o){return n(l^o)},s=function(l){for(var o=t[l.length-1],u=104,d=l.length-1;d>=0;--d)for(var h=l[d],m=0;m!=7;++m)h&64&&(o^=r[u]),h*=2,--u;return o};return function(l){for(var o=CP(l),u=s(o),d=o.length,h=Cf(16),m=0;m!=16;++m)h[m]=0;var g,x,b;for((d&1)===1&&(g=u>>8,h[d]=a(e[0],g),--d,g=u&255,x=o[o.length-1],h[d]=a(x,g));d>0;)--d,g=u>>8,h[d]=a(o[d],g),--d,g=u&255,h[d]=a(o[d],g);for(d=15,b=15-o.length;b>0;)g=u>>8,h[d]=a(e[b],g),--d,--b,g=u&255,h[d]=a(o[d],g),--d,--b;return h}})(),YX=function(e,t,r,n,a){a||(a=t),n||(n=FP(e));var s,l;for(s=0;s!=t.length;++s)l=t[s],l^=n[r],l=(l>>5|l<<3)&255,a[s]=l,++r;return[a,r,n]},XX=function(e){var t=0,r=FP(e);return function(n){var a=YX("",n,t,r);return t=a[1],a[0]}};function QX(e,t,r,n){var a={key:os(e),verificationBytes:os(e)};return r.password&&(a.verifier=Nj(r.password)),n.valid=a.verificationBytes===a.verifier,n.valid&&(n.insitu=XX(r.password)),a}function ZX(e,t,r){var n=r||{};return n.Info=e.read_shift(2),e.l-=2,n.Info===1?n.Data=GX(e):n.Data=KX(e,t),n}function JX(e,t,r){var n={Type:r.biff>=8?e.read_shift(2):0};return n.Type?ZX(e,t-2,n):QX(e,r.biff>=8?t:t-2,r,n),n}var DP=(function(){function e(a,s){switch(s.type){case"base64":return t(no(a),s);case"binary":return t(a,s);case"buffer":return t(Or&&Buffer.isBuffer(a)?a.toString("binary"):Uf(a),s);case"array":return t(Q0(a),s)}throw new Error("Unrecognized type "+s.type)}function t(a,s){var l=s||{},o=l.dense?[]:{},u=a.match(/\\trowd.*?\\row\b/g);if(!u.length)throw new Error("RTF missing table");var d={s:{c:0,r:0},e:{c:0,r:u.length-1}};return u.forEach(function(h,m){Array.isArray(o)&&(o[m]=[]);for(var g=/\\\w+\b/g,x=0,b,v=-1;b=g.exec(h);){switch(b[0]){case"\\cell":var w=h.slice(x,g.lastIndex-b[0].length);if(w[0]==" "&&(w=w.slice(1)),++v,w.length){var N={v:w,t:"s"};Array.isArray(o)?o[m][v]=N:o[dr({r:m,c:v})]=N}break}x=g.lastIndex}v>d.e.c&&(d.e.c=v)}),o["!ref"]=Nr(d),o}function r(a,s){return zf(e(a,s),s)}function n(a){for(var s=["{\\rtf1\\ansi"],l=nn(a["!ref"]),o,u=Array.isArray(a),d=l.s.r;d<=l.e.r;++d){s.push("\\trowd\\trautofit1");for(var h=l.s.c;h<=l.e.c;++h)s.push("\\cellx"+(h+1));for(s.push("\\pard\\intbl"),h=l.s.c;h<=l.e.c;++h){var m=dr({r:d,c:h});o=u?(a[d]||[])[h]:a[m],!(!o||o.v==null&&(!o.f||o.F))&&(s.push(" "+(o.w||(gd(o),o.w))),s.push("\\cell"))}s.push("\\pard\\intbl\\row")}return s.join("")+"}"}return{to_workbook:r,to_sheet:e,from_sheet:n}})();function eQ(e){var t=e.slice(e[0]==="#"?1:0).slice(0,6);return[parseInt(t.slice(0,2),16),parseInt(t.slice(2,4),16),parseInt(t.slice(4,6),16)]}function rg(e){for(var t=0,r=1;t!=3;++t)r=r*256+(e[t]>255?255:e[t]<0?0:e[t]);return r.toString(16).toUpperCase().slice(1)}function tQ(e){var t=e[0]/255,r=e[1]/255,n=e[2]/255,a=Math.max(t,r,n),s=Math.min(t,r,n),l=a-s;if(l===0)return[0,0,t];var o=0,u=0,d=a+s;switch(u=l/(d>1?2-d:d),a){case t:o=((r-n)/l+6)%6;break;case r:o=(n-t)/l+2;break;case n:o=(t-r)/l+4;break}return[o/6,u,d/2]}function rQ(e){var t=e[0],r=e[1],n=e[2],a=r*2*(n<.5?n:1-n),s=n-a/2,l=[s,s,s],o=6*t,u;if(r!==0)switch(o|0){case 0:case 6:u=a*o,l[0]+=a,l[1]+=u;break;case 1:u=a*(2-o),l[0]+=u,l[1]+=a;break;case 2:u=a*(o-2),l[1]+=a,l[2]+=u;break;case 3:u=a*(4-o),l[1]+=u,l[2]+=a;break;case 4:u=a*(o-4),l[2]+=a,l[0]+=u;break;case 5:u=a*(6-o),l[2]+=u,l[0]+=a;break}for(var d=0;d!=3;++d)l[d]=Math.round(l[d]*255);return l}function hy(e,t){if(t===0)return e;var r=tQ(eQ(e));return t<0?r[2]=r[2]*(1+t):r[2]=1-(1-r[2])*(1-t),rg(rQ(r))}var PP=6,nQ=15,aQ=1,Ei=PP;function ng(e){return Math.floor((e+Math.round(128/Ei)/256)*Ei)}function ag(e){return Math.floor((e-5)/Ei*100+.5)/100}function my(e){return Math.round((e*Ei+5)/Ei*256)/256}function Iw(e){return my(ag(ng(e)))}function _j(e){var t=Math.abs(e-Iw(e)),r=Ei;if(t>.005)for(Ei=aQ;Ei<nQ;++Ei)Math.abs(e-Iw(e))<=t&&(t=Math.abs(e-Iw(e)),r=Ei);Ei=r}function Tf(e){e.width?(e.wpx=ng(e.width),e.wch=ag(e.wpx),e.MDW=Ei):e.wpx?(e.wch=ag(e.wpx),e.width=my(e.wch),e.MDW=Ei):typeof e.wch=="number"&&(e.width=my(e.wch),e.wpx=ng(e.width),e.MDW=Ei),e.customWidth&&delete e.customWidth}var sQ=96,LP=sQ;function sg(e){return e*96/LP}function Xm(e){return e*LP/96}var iQ={None:"none",Solid:"solid",Gray50:"mediumGray",Gray75:"darkGray",Gray25:"lightGray",HorzStripe:"darkHorizontal",VertStripe:"darkVertical",ReverseDiagStripe:"darkDown",DiagStripe:"darkUp",DiagCross:"darkGrid",ThickDiagCross:"darkTrellis",ThinHorzStripe:"lightHorizontal",ThinVertStripe:"lightVertical",ThinReverseDiagStripe:"lightDown",ThinHorzCross:"lightGrid"};function lQ(e,t,r,n){t.Borders=[];var a={},s=!1;(e[0].match(Ri)||[]).forEach(function(l){var o=hr(l);switch(gu(o[0])){case"<borders":case"<borders>":case"</borders>":break;case"<border":case"<border>":case"<border/>":a={},o.diagonalUp&&(a.diagonalUp=ea(o.diagonalUp)),o.diagonalDown&&(a.diagonalDown=ea(o.diagonalDown)),t.Borders.push(a);break;case"</border>":break;case"<left/>":break;case"<left":case"<left>":break;case"</left>":break;case"<right/>":break;case"<right":case"<right>":break;case"</right>":break;case"<top/>":break;case"<top":case"<top>":break;case"</top>":break;case"<bottom/>":break;case"<bottom":case"<bottom>":break;case"</bottom>":break;case"<diagonal":case"<diagonal>":case"<diagonal/>":break;case"</diagonal>":break;case"<horizontal":case"<horizontal>":case"<horizontal/>":break;case"</horizontal>":break;case"<vertical":case"<vertical>":case"<vertical/>":break;case"</vertical>":break;case"<start":case"<start>":case"<start/>":break;case"</start>":break;case"<end":case"<end>":case"<end/>":break;case"</end>":break;case"<color":case"<color>":break;case"<color/>":case"</color>":break;case"<extLst":case"<extLst>":case"</extLst>":break;case"<ext":s=!0;break;case"</ext>":s=!1;break;default:if(n&&n.WTF&&!s)throw new Error("unrecognized "+o[0]+" in borders")}})}function oQ(e,t,r,n){t.Fills=[];var a={},s=!1;(e[0].match(Ri)||[]).forEach(function(l){var o=hr(l);switch(gu(o[0])){case"<fills":case"<fills>":case"</fills>":break;case"<fill>":case"<fill":case"<fill/>":a={},t.Fills.push(a);break;case"</fill>":break;case"<gradientFill>":break;case"<gradientFill":case"</gradientFill>":t.Fills.push(a),a={};break;case"<patternFill":case"<patternFill>":o.patternType&&(a.patternType=o.patternType);break;case"<patternFill/>":case"</patternFill>":break;case"<bgColor":a.bgColor||(a.bgColor={}),o.indexed&&(a.bgColor.indexed=parseInt(o.indexed,10)),o.theme&&(a.bgColor.theme=parseInt(o.theme,10)),o.tint&&(a.bgColor.tint=parseFloat(o.tint)),o.rgb&&(a.bgColor.rgb=o.rgb.slice(-6));break;case"<bgColor/>":case"</bgColor>":break;case"<fgColor":a.fgColor||(a.fgColor={}),o.theme&&(a.fgColor.theme=parseInt(o.theme,10)),o.tint&&(a.fgColor.tint=parseFloat(o.tint)),o.rgb!=null&&(a.fgColor.rgb=o.rgb.slice(-6));break;case"<fgColor/>":case"</fgColor>":break;case"<stop":case"<stop/>":break;case"</stop>":break;case"<color":case"<color/>":break;case"</color>":break;case"<extLst":case"<extLst>":case"</extLst>":break;case"<ext":s=!0;break;case"</ext>":s=!1;break;default:if(n&&n.WTF&&!s)throw new Error("unrecognized "+o[0]+" in fills")}})}function cQ(e,t,r,n){t.Fonts=[];var a={},s=!1;(e[0].match(Ri)||[]).forEach(function(l){var o=hr(l);switch(gu(o[0])){case"<fonts":case"<fonts>":case"</fonts>":break;case"<font":case"<font>":break;case"</font>":case"<font/>":t.Fonts.push(a),a={};break;case"<name":o.val&&(a.name=Rn(o.val));break;case"<name/>":case"</name>":break;case"<b":a.bold=o.val?ea(o.val):1;break;case"<b/>":a.bold=1;break;case"<i":a.italic=o.val?ea(o.val):1;break;case"<i/>":a.italic=1;break;case"<u":switch(o.val){case"none":a.underline=0;break;case"single":a.underline=1;break;case"double":a.underline=2;break;case"singleAccounting":a.underline=33;break;case"doubleAccounting":a.underline=34;break}break;case"<u/>":a.underline=1;break;case"<strike":a.strike=o.val?ea(o.val):1;break;case"<strike/>":a.strike=1;break;case"<outline":a.outline=o.val?ea(o.val):1;break;case"<outline/>":a.outline=1;break;case"<shadow":a.shadow=o.val?ea(o.val):1;break;case"<shadow/>":a.shadow=1;break;case"<condense":a.condense=o.val?ea(o.val):1;break;case"<condense/>":a.condense=1;break;case"<extend":a.extend=o.val?ea(o.val):1;break;case"<extend/>":a.extend=1;break;case"<sz":o.val&&(a.sz=+o.val);break;case"<sz/>":case"</sz>":break;case"<vertAlign":o.val&&(a.vertAlign=o.val);break;case"<vertAlign/>":case"</vertAlign>":break;case"<family":o.val&&(a.family=parseInt(o.val,10));break;case"<family/>":case"</family>":break;case"<scheme":o.val&&(a.scheme=o.val);break;case"<scheme/>":case"</scheme>":break;case"<charset":if(o.val=="1")break;o.codepage=Q_[parseInt(o.val,10)];break;case"<color":if(a.color||(a.color={}),o.auto&&(a.color.auto=ea(o.auto)),o.rgb)a.color.rgb=o.rgb.slice(-6);else if(o.indexed){a.color.index=parseInt(o.indexed,10);var u=M0[a.color.index];a.color.index==81&&(u=M0[1]),u||(u=M0[1]),a.color.rgb=u[0].toString(16)+u[1].toString(16)+u[2].toString(16)}else o.theme&&(a.color.theme=parseInt(o.theme,10),o.tint&&(a.color.tint=parseFloat(o.tint)),o.theme&&r.themeElements&&r.themeElements.clrScheme&&(a.color.rgb=hy(r.themeElements.clrScheme[a.color.theme].rgb,a.color.tint||0)));break;case"<color/>":case"</color>":break;case"<AlternateContent":s=!0;break;case"</AlternateContent>":s=!1;break;case"<extLst":case"<extLst>":case"</extLst>":break;case"<ext":s=!0;break;case"</ext>":s=!1;break;default:if(n&&n.WTF&&!s)throw new Error("unrecognized "+o[0]+" in fonts")}})}function uQ(e,t,r){t.NumberFmt=[];for(var n=za(ur),a=0;a<n.length;++a)t.NumberFmt[n[a]]=ur[n[a]];var s=e[0].match(Ri);if(s)for(a=0;a<s.length;++a){var l=hr(s[a]);switch(gu(l[0])){case"<numFmts":case"</numFmts>":case"<numFmts/>":case"<numFmts>":break;case"<numFmt":{var o=rn(Rn(l.formatCode)),u=parseInt(l.numFmtId,10);if(t.NumberFmt[u]=o,u>0){if(u>392){for(u=392;u>60&&t.NumberFmt[u]!=null;--u);t.NumberFmt[u]=o}cd(o,u)}}break;case"</numFmt>":break;default:if(r.WTF)throw new Error("unrecognized "+l[0]+" in numFmts")}}}function dQ(e){var t=["<numFmts>"];return[[5,8],[23,26],[41,44],[50,392]].forEach(function(r){for(var n=r[0];n<=r[1];++n)e[n]!=null&&(t[t.length]=Nt("numFmt",null,{numFmtId:n,formatCode:Sn(e[n])}))}),t.length===1?"":(t[t.length]="</numFmts>",t[0]=Nt("numFmts",null,{count:t.length-2}).replace("/>",">"),t.join(""))}var lv=["numFmtId","fillId","fontId","borderId","xfId"],ov=["applyAlignment","applyBorder","applyFill","applyFont","applyNumberFormat","applyProtection","pivotButton","quotePrefix"];function fQ(e,t,r){t.CellXf=[];var n,a=!1;(e[0].match(Ri)||[]).forEach(function(s){var l=hr(s),o=0;switch(gu(l[0])){case"<cellXfs":case"<cellXfs>":case"<cellXfs/>":case"</cellXfs>":break;case"<xf":case"<xf/>":for(n=l,delete n[0],o=0;o<lv.length;++o)n[lv[o]]&&(n[lv[o]]=parseInt(n[lv[o]],10));for(o=0;o<ov.length;++o)n[ov[o]]&&(n[ov[o]]=ea(n[ov[o]]));if(t.NumberFmt&&n.numFmtId>392){for(o=392;o>60;--o)if(t.NumberFmt[n.numFmtId]==t.NumberFmt[o]){n.numFmtId=o;break}}t.CellXf.push(n);break;case"</xf>":break;case"<alignment":case"<alignment/>":var u={};l.vertical&&(u.vertical=l.vertical),l.horizontal&&(u.horizontal=l.horizontal),l.textRotation!=null&&(u.textRotation=l.textRotation),l.indent&&(u.indent=l.indent),l.wrapText&&(u.wrapText=ea(l.wrapText)),n.alignment=u;break;case"</alignment>":break;case"<protection":break;case"</protection>":case"<protection/>":break;case"<AlternateContent":a=!0;break;case"</AlternateContent>":a=!1;break;case"<extLst":case"<extLst>":case"</extLst>":break;case"<ext":a=!0;break;case"</ext>":a=!1;break;default:if(r&&r.WTF&&!a)throw new Error("unrecognized "+l[0]+" in cellXfs")}})}function hQ(e){var t=[];return t[t.length]=Nt("cellXfs",null),e.forEach(function(r){t[t.length]=Nt("xf",null,r)}),t[t.length]="</cellXfs>",t.length===2?"":(t[0]=Nt("cellXfs",null,{count:t.length-2}).replace("/>",">"),t.join(""))}var mQ=(function(){var t=/<(?:\w+:)?numFmts([^>]*)>[\S\s]*?<\/(?:\w+:)?numFmts>/,r=/<(?:\w+:)?cellXfs([^>]*)>[\S\s]*?<\/(?:\w+:)?cellXfs>/,n=/<(?:\w+:)?fills([^>]*)>[\S\s]*?<\/(?:\w+:)?fills>/,a=/<(?:\w+:)?fonts([^>]*)>[\S\s]*?<\/(?:\w+:)?fonts>/,s=/<(?:\w+:)?borders([^>]*)>[\S\s]*?<\/(?:\w+:)?borders>/;return function(o,u,d){var h={};if(!o)return h;o=o.replace(/<!--([\s\S]*?)-->/mg,"").replace(/<!DOCTYPE[^\[]*\[[^\]]*\]>/gm,"");var m;return(m=o.match(t))&&uQ(m,h,d),(m=o.match(a))&&cQ(m,h,u,d),(m=o.match(n))&&oQ(m,h,u,d),(m=o.match(s))&&lQ(m,h,u,d),(m=o.match(r))&&fQ(m,h,d),h}})();function MP(e,t){var r=[es,Nt("styleSheet",null,{xmlns:ph[0],"xmlns:vt":ks.vt})],n;return e.SSF&&(n=dQ(e.SSF))!=null&&(r[r.length]=n),r[r.length]='<fonts count="1"><font><sz val="12"/><color theme="1"/><name val="Calibri"/><family val="2"/><scheme val="minor"/></font></fonts>',r[r.length]='<fills count="2"><fill><patternFill patternType="none"/></fill><fill><patternFill patternType="gray125"/></fill></fills>',r[r.length]='<borders count="1"><border><left/><right/><top/><bottom/><diagonal/></border></borders>',r[r.length]='<cellStyleXfs count="1"><xf numFmtId="0" fontId="0" fillId="0" borderId="0"/></cellStyleXfs>',(n=hQ(t.cellXfs))&&(r[r.length]=n),r[r.length]='<cellStyles count="1"><cellStyle name="Normal" xfId="0" builtinId="0"/></cellStyles>',r[r.length]='<dxfs count="0"/>',r[r.length]='<tableStyles count="0" defaultTableStyle="TableStyleMedium9" defaultPivotStyle="PivotStyleMedium4"/>',r.length>2&&(r[r.length]="</styleSheet>",r[1]=r[1].replace("/>",">")),r.join("")}function pQ(e,t){var r=e.read_shift(2),n=Di(e);return[r,n]}function xQ(e,t,r){r||(r=nt(6+4*t.length)),r.write_shift(2,e),Ws(t,r);var n=r.length>r.l?r.slice(0,r.l):r;return r.l==null&&(r.l=r.length),n}function gQ(e,t,r){var n={};n.sz=e.read_shift(2)/20;var a=ZK(e);a.fItalic&&(n.italic=1),a.fCondense&&(n.condense=1),a.fExtend&&(n.extend=1),a.fShadow&&(n.shadow=1),a.fOutline&&(n.outline=1),a.fStrikeout&&(n.strike=1);var s=e.read_shift(2);switch(s===700&&(n.bold=1),e.read_shift(2)){case 1:n.vertAlign="superscript";break;case 2:n.vertAlign="subscript";break}var l=e.read_shift(1);l!=0&&(n.underline=l);var o=e.read_shift(1);o>0&&(n.family=o);var u=e.read_shift(1);switch(u>0&&(n.charset=u),e.l++,n.color=QK(e),e.read_shift(1)){case 1:n.scheme="major";break;case 2:n.scheme="minor";break}return n.name=Di(e),n}function vQ(e,t){t||(t=nt(153)),t.write_shift(2,e.sz*20),JK(e,t),t.write_shift(2,e.bold?700:400);var r=0;e.vertAlign=="superscript"?r=1:e.vertAlign=="subscript"&&(r=2),t.write_shift(2,r),t.write_shift(1,e.underline||0),t.write_shift(1,e.family||0),t.write_shift(1,e.charset||0),t.write_shift(1,0),uy(e.color,t);var n=0;return n=2,t.write_shift(1,n),Ws(e.name,t),t.length>t.l?t.slice(0,t.l):t}var yQ=["none","solid","mediumGray","darkGray","lightGray","darkHorizontal","darkVertical","darkDown","darkUp","darkGrid","darkTrellis","lightHorizontal","lightVertical","lightDown","lightUp","lightGrid","lightTrellis","gray125","gray0625"],Bw,bQ=Li;function DE(e,t){t||(t=nt(84)),Bw||(Bw=x2(yQ));var r=Bw[e.patternType];r==null&&(r=40),t.write_shift(4,r);var n=0;if(r!=40)for(uy({auto:1},t),uy({auto:1},t);n<12;++n)t.write_shift(4,0);else{for(;n<4;++n)t.write_shift(4,0);for(;n<12;++n)t.write_shift(4,0)}return t.length>t.l?t.slice(0,t.l):t}function wQ(e,t){var r=e.l+t,n=e.read_shift(2),a=e.read_shift(2);return e.l=r,{ixfe:n,numFmtId:a}}function RP(e,t,r){r||(r=nt(16)),r.write_shift(2,t||0),r.write_shift(2,e.numFmtId||0),r.write_shift(2,0),r.write_shift(2,0),r.write_shift(2,0),r.write_shift(1,0),r.write_shift(1,0);var n=0;return r.write_shift(1,n),r.write_shift(1,0),r.write_shift(1,0),r.write_shift(1,0),r}function fx(e,t){return t||(t=nt(10)),t.write_shift(1,0),t.write_shift(1,0),t.write_shift(4,0),t.write_shift(4,0),t}var NQ=Li;function _Q(e,t){return t||(t=nt(51)),t.write_shift(1,0),fx(null,t),fx(null,t),fx(null,t),fx(null,t),fx(null,t),t.length>t.l?t.slice(0,t.l):t}function jQ(e,t){return t||(t=nt(52)),t.write_shift(4,e.xfId),t.write_shift(2,1),t.write_shift(1,0),t.write_shift(1,0),cy(e.name||"",t),t.length>t.l?t.slice(0,t.l):t}function SQ(e,t,r){var n=nt(2052);return n.write_shift(4,e),cy(t,n),cy(r,n),n.length>n.l?n.slice(0,n.l):n}function AQ(e,t,r){var n={};n.NumberFmt=[];for(var a in ur)n.NumberFmt[a]=ur[a];n.CellXf=[],n.Fonts=[];var s=[],l=!1;return Ad(e,function(u,d,h){switch(h){case 44:n.NumberFmt[u[0]]=u[1],cd(u[1],u[0]);break;case 43:n.Fonts.push(u),u.color.theme!=null&&t&&t.themeElements&&t.themeElements.clrScheme&&(u.color.rgb=hy(t.themeElements.clrScheme[u.color.theme].rgb,u.color.tint||0));break;case 1025:break;case 45:break;case 46:break;case 47:s[s.length-1]==617&&n.CellXf.push(u);break;case 48:case 507:case 572:case 475:break;case 1171:case 2102:case 1130:case 512:case 2095:case 3072:break;case 35:l=!0;break;case 36:l=!1;break;case 37:s.push(h),l=!0;break;case 38:s.pop(),l=!1;break;default:if(d.T>0)s.push(h);else if(d.T<0)s.pop();else if(!l||r.WTF&&s[s.length-1]!=37)throw new Error("Unexpected record 0x"+h.toString(16))}}),n}function kQ(e,t){if(t){var r=0;[[5,8],[23,26],[41,44],[50,392]].forEach(function(n){for(var a=n[0];a<=n[1];++a)t[a]!=null&&++r}),r!=0&&(mt(e,615,kc(r)),[[5,8],[23,26],[41,44],[50,392]].forEach(function(n){for(var a=n[0];a<=n[1];++a)t[a]!=null&&mt(e,44,xQ(a,t[a]))}),mt(e,616))}}function EQ(e){var t=1;mt(e,611,kc(t)),mt(e,43,vQ({sz:12,color:{theme:1},name:"Calibri",family:2})),mt(e,612)}function CQ(e){var t=2;mt(e,603,kc(t)),mt(e,45,DE({patternType:"none"})),mt(e,45,DE({patternType:"gray125"})),mt(e,604)}function TQ(e){var t=1;mt(e,613,kc(t)),mt(e,46,_Q()),mt(e,614)}function OQ(e){var t=1;mt(e,626,kc(t)),mt(e,47,RP({numFmtId:0},65535)),mt(e,627)}function FQ(e,t){mt(e,617,kc(t.length)),t.forEach(function(r){mt(e,47,RP(r,0))}),mt(e,618)}function DQ(e){var t=1;mt(e,619,kc(t)),mt(e,48,jQ({xfId:0,name:"Normal"})),mt(e,620)}function PQ(e){var t=0;mt(e,505,kc(t)),mt(e,506)}function LQ(e){var t=0;mt(e,508,SQ(t,"TableStyleMedium9","PivotStyleMedium4")),mt(e,509)}function MQ(e,t){var r=El();return mt(r,278),kQ(r,e.SSF),EQ(r),CQ(r),TQ(r),OQ(r),FQ(r,t.cellXfs),DQ(r),PQ(r),LQ(r),mt(r,279),r.end()}var RQ=["</a:lt1>","</a:dk1>","</a:lt2>","</a:dk2>","</a:accent1>","</a:accent2>","</a:accent3>","</a:accent4>","</a:accent5>","</a:accent6>","</a:hlink>","</a:folHlink>"];function IQ(e,t,r){t.themeElements.clrScheme=[];var n={};(e[0].match(Ri)||[]).forEach(function(a){var s=hr(a);switch(s[0]){case"<a:clrScheme":case"</a:clrScheme>":break;case"<a:srgbClr":n.rgb=s.val;break;case"<a:sysClr":n.rgb=s.lastClr;break;case"<a:dk1>":case"</a:dk1>":case"<a:lt1>":case"</a:lt1>":case"<a:dk2>":case"</a:dk2>":case"<a:lt2>":case"</a:lt2>":case"<a:accent1>":case"</a:accent1>":case"<a:accent2>":case"</a:accent2>":case"<a:accent3>":case"</a:accent3>":case"<a:accent4>":case"</a:accent4>":case"<a:accent5>":case"</a:accent5>":case"<a:accent6>":case"</a:accent6>":case"<a:hlink>":case"</a:hlink>":case"<a:folHlink>":case"</a:folHlink>":s[0].charAt(1)==="/"?(t.themeElements.clrScheme[RQ.indexOf(s[0])]=n,n={}):n.name=s[0].slice(3,s[0].length-1);break;default:if(r&&r.WTF)throw new Error("Unrecognized "+s[0]+" in clrScheme")}})}function BQ(){}function UQ(){}var zQ=/<a:clrScheme([^>]*)>[\s\S]*<\/a:clrScheme>/,qQ=/<a:fontScheme([^>]*)>[\s\S]*<\/a:fontScheme>/,$Q=/<a:fmtScheme([^>]*)>[\s\S]*<\/a:fmtScheme>/;function HQ(e,t,r){t.themeElements={};var n;[["clrScheme",zQ,IQ],["fontScheme",qQ,BQ],["fmtScheme",$Q,UQ]].forEach(function(a){if(!(n=e.match(a[1])))throw new Error(a[0]+" not found in themeElements");a[2](n,t,r)})}var VQ=/<a:themeElements([^>]*)>[\s\S]*<\/a:themeElements>/;function IP(e,t){(!e||e.length===0)&&(e=jj());var r,n={};if(!(r=e.match(VQ)))throw new Error("themeElements not found in theme");return HQ(r[0],n,t),n.raw=e,n}function jj(e,t){if(t&&t.themeXLSX)return t.themeXLSX;if(e&&typeof e.raw=="string")return e.raw;var r=[es];return r[r.length]='<a:theme xmlns:a="http://schemas.openxmlformats.org/drawingml/2006/main" name="Office Theme">',r[r.length]="<a:themeElements>",r[r.length]='<a:clrScheme name="Office">',r[r.length]='<a:dk1><a:sysClr val="windowText" lastClr="000000"/></a:dk1>',r[r.length]='<a:lt1><a:sysClr val="window" lastClr="FFFFFF"/></a:lt1>',r[r.length]='<a:dk2><a:srgbClr val="1F497D"/></a:dk2>',r[r.length]='<a:lt2><a:srgbClr val="EEECE1"/></a:lt2>',r[r.length]='<a:accent1><a:srgbClr val="4F81BD"/></a:accent1>',r[r.length]='<a:accent2><a:srgbClr val="C0504D"/></a:accent2>',r[r.length]='<a:accent3><a:srgbClr val="9BBB59"/></a:accent3>',r[r.length]='<a:accent4><a:srgbClr val="8064A2"/></a:accent4>',r[r.length]='<a:accent5><a:srgbClr val="4BACC6"/></a:accent5>',r[r.length]='<a:accent6><a:srgbClr val="F79646"/></a:accent6>',r[r.length]='<a:hlink><a:srgbClr val="0000FF"/></a:hlink>',r[r.length]='<a:folHlink><a:srgbClr val="800080"/></a:folHlink>',r[r.length]="</a:clrScheme>",r[r.length]='<a:fontScheme name="Office">',r[r.length]="<a:majorFont>",r[r.length]='<a:latin typeface="Cambria"/>',r[r.length]='<a:ea typeface=""/>',r[r.length]='<a:cs typeface=""/>',r[r.length]='<a:font script="Jpan" typeface=" "/>',r[r.length]='<a:font script="Hang" typeface=" "/>',r[r.length]='<a:font script="Hans" typeface=""/>',r[r.length]='<a:font script="Hant" typeface=""/>',r[r.length]='<a:font script="Arab" typeface="Times New Roman"/>',r[r.length]='<a:font script="Hebr" typeface="Times New Roman"/>',r[r.length]='<a:font script="Thai" typeface="Tahoma"/>',r[r.length]='<a:font script="Ethi" typeface="Nyala"/>',r[r.length]='<a:font script="Beng" typeface="Vrinda"/>',r[r.length]='<a:font script="Gujr" typeface="Shruti"/>',r[r.length]='<a:font script="Khmr" typeface="MoolBoran"/>',r[r.length]='<a:font script="Knda" typeface="Tunga"/>',r[r.length]='<a:font script="Guru" typeface="Raavi"/>',r[r.length]='<a:font script="Cans" typeface="Euphemia"/>',r[r.length]='<a:font script="Cher" typeface="Plantagenet Cherokee"/>',r[r.length]='<a:font script="Yiii" typeface="Microsoft Yi Baiti"/>',r[r.length]='<a:font script="Tibt" typeface="Microsoft Himalaya"/>',r[r.length]='<a:font script="Thaa" typeface="MV Boli"/>',r[r.length]='<a:font script="Deva" typeface="Mangal"/>',r[r.length]='<a:font script="Telu" typeface="Gautami"/>',r[r.length]='<a:font script="Taml" typeface="Latha"/>',r[r.length]='<a:font script="Syrc" typeface="Estrangelo Edessa"/>',r[r.length]='<a:font script="Orya" typeface="Kalinga"/>',r[r.length]='<a:font script="Mlym" typeface="Kartika"/>',r[r.length]='<a:font script="Laoo" typeface="DokChampa"/>',r[r.length]='<a:font script="Sinh" typeface="Iskoola Pota"/>',r[r.length]='<a:font script="Mong" typeface="Mongolian Baiti"/>',r[r.length]='<a:font script="Viet" typeface="Times New Roman"/>',r[r.length]='<a:font script="Uigh" typeface="Microsoft Uighur"/>',r[r.length]='<a:font script="Geor" typeface="Sylfaen"/>',r[r.length]="</a:majorFont>",r[r.length]="<a:minorFont>",r[r.length]='<a:latin typeface="Calibri"/>',r[r.length]='<a:ea typeface=""/>',r[r.length]='<a:cs typeface=""/>',r[r.length]='<a:font script="Jpan" typeface=" "/>',r[r.length]='<a:font script="Hang" typeface=" "/>',r[r.length]='<a:font script="Hans" typeface=""/>',r[r.length]='<a:font script="Hant" typeface=""/>',r[r.length]='<a:font script="Arab" typeface="Arial"/>',r[r.length]='<a:font script="Hebr" typeface="Arial"/>',r[r.length]='<a:font script="Thai" typeface="Tahoma"/>',r[r.length]='<a:font script="Ethi" typeface="Nyala"/>',r[r.length]='<a:font script="Beng" typeface="Vrinda"/>',r[r.length]='<a:font script="Gujr" typeface="Shruti"/>',r[r.length]='<a:font script="Khmr" typeface="DaunPenh"/>',r[r.length]='<a:font script="Knda" typeface="Tunga"/>',r[r.length]='<a:font script="Guru" typeface="Raavi"/>',r[r.length]='<a:font script="Cans" typeface="Euphemia"/>',r[r.length]='<a:font script="Cher" typeface="Plantagenet Cherokee"/>',r[r.length]='<a:font script="Yiii" typeface="Microsoft Yi Baiti"/>',r[r.length]='<a:font script="Tibt" typeface="Microsoft Himalaya"/>',r[r.length]='<a:font script="Thaa" typeface="MV Boli"/>',r[r.length]='<a:font script="Deva" typeface="Mangal"/>',r[r.length]='<a:font script="Telu" typeface="Gautami"/>',r[r.length]='<a:font script="Taml" typeface="Latha"/>',r[r.length]='<a:font script="Syrc" typeface="Estrangelo Edessa"/>',r[r.length]='<a:font script="Orya" typeface="Kalinga"/>',r[r.length]='<a:font script="Mlym" typeface="Kartika"/>',r[r.length]='<a:font script="Laoo" typeface="DokChampa"/>',r[r.length]='<a:font script="Sinh" typeface="Iskoola Pota"/>',r[r.length]='<a:font script="Mong" typeface="Mongolian Baiti"/>',r[r.length]='<a:font script="Viet" typeface="Arial"/>',r[r.length]='<a:font script="Uigh" typeface="Microsoft Uighur"/>',r[r.length]='<a:font script="Geor" typeface="Sylfaen"/>',r[r.length]="</a:minorFont>",r[r.length]="</a:fontScheme>",r[r.length]='<a:fmtScheme name="Office">',r[r.length]="<a:fillStyleLst>",r[r.length]='<a:solidFill><a:schemeClr val="phClr"/></a:solidFill>',r[r.length]='<a:gradFill rotWithShape="1">',r[r.length]="<a:gsLst>",r[r.length]='<a:gs pos="0"><a:schemeClr val="phClr"><a:tint val="50000"/><a:satMod val="300000"/></a:schemeClr></a:gs>',r[r.length]='<a:gs pos="35000"><a:schemeClr val="phClr"><a:tint val="37000"/><a:satMod val="300000"/></a:schemeClr></a:gs>',r[r.length]='<a:gs pos="100000"><a:schemeClr val="phClr"><a:tint val="15000"/><a:satMod val="350000"/></a:schemeClr></a:gs>',r[r.length]="</a:gsLst>",r[r.length]='<a:lin ang="16200000" scaled="1"/>',r[r.length]="</a:gradFill>",r[r.length]='<a:gradFill rotWithShape="1">',r[r.length]="<a:gsLst>",r[r.length]='<a:gs pos="0"><a:schemeClr val="phClr"><a:tint val="100000"/><a:shade val="100000"/><a:satMod val="130000"/></a:schemeClr></a:gs>',r[r.length]='<a:gs pos="100000"><a:schemeClr val="phClr"><a:tint val="50000"/><a:shade val="100000"/><a:satMod val="350000"/></a:schemeClr></a:gs>',r[r.length]="</a:gsLst>",r[r.length]='<a:lin ang="16200000" scaled="0"/>',r[r.length]="</a:gradFill>",r[r.length]="</a:fillStyleLst>",r[r.length]="<a:lnStyleLst>",r[r.length]='<a:ln w="9525" cap="flat" cmpd="sng" algn="ctr"><a:solidFill><a:schemeClr val="phClr"><a:shade val="95000"/><a:satMod val="105000"/></a:schemeClr></a:solidFill><a:prstDash val="solid"/></a:ln>',r[r.length]='<a:ln w="25400" cap="flat" cmpd="sng" algn="ctr"><a:solidFill><a:schemeClr val="phClr"/></a:solidFill><a:prstDash val="solid"/></a:ln>',r[r.length]='<a:ln w="38100" cap="flat" cmpd="sng" algn="ctr"><a:solidFill><a:schemeClr val="phClr"/></a:solidFill><a:prstDash val="solid"/></a:ln>',r[r.length]="</a:lnStyleLst>",r[r.length]="<a:effectStyleLst>",r[r.length]="<a:effectStyle>",r[r.length]="<a:effectLst>",r[r.length]='<a:outerShdw blurRad="40000" dist="20000" dir="5400000" rotWithShape="0"><a:srgbClr val="000000"><a:alpha val="38000"/></a:srgbClr></a:outerShdw>',r[r.length]="</a:effectLst>",r[r.length]="</a:effectStyle>",r[r.length]="<a:effectStyle>",r[r.length]="<a:effectLst>",r[r.length]='<a:outerShdw blurRad="40000" dist="23000" dir="5400000" rotWithShape="0"><a:srgbClr val="000000"><a:alpha val="35000"/></a:srgbClr></a:outerShdw>',r[r.length]="</a:effectLst>",r[r.length]="</a:effectStyle>",r[r.length]="<a:effectStyle>",r[r.length]="<a:effectLst>",r[r.length]='<a:outerShdw blurRad="40000" dist="23000" dir="5400000" rotWithShape="0"><a:srgbClr val="000000"><a:alpha val="35000"/></a:srgbClr></a:outerShdw>',r[r.length]="</a:effectLst>",r[r.length]='<a:scene3d><a:camera prst="orthographicFront"><a:rot lat="0" lon="0" rev="0"/></a:camera><a:lightRig rig="threePt" dir="t"><a:rot lat="0" lon="0" rev="1200000"/></a:lightRig></a:scene3d>',r[r.length]='<a:sp3d><a:bevelT w="63500" h="25400"/></a:sp3d>',r[r.length]="</a:effectStyle>",r[r.length]="</a:effectStyleLst>",r[r.length]="<a:bgFillStyleLst>",r[r.length]='<a:solidFill><a:schemeClr val="phClr"/></a:solidFill>',r[r.length]='<a:gradFill rotWithShape="1">',r[r.length]="<a:gsLst>",r[r.length]='<a:gs pos="0"><a:schemeClr val="phClr"><a:tint val="40000"/><a:satMod val="350000"/></a:schemeClr></a:gs>',r[r.length]='<a:gs pos="40000"><a:schemeClr val="phClr"><a:tint val="45000"/><a:shade val="99000"/><a:satMod val="350000"/></a:schemeClr></a:gs>',r[r.length]='<a:gs pos="100000"><a:schemeClr val="phClr"><a:shade val="20000"/><a:satMod val="255000"/></a:schemeClr></a:gs>',r[r.length]="</a:gsLst>",r[r.length]='<a:path path="circle"><a:fillToRect l="50000" t="-80000" r="50000" b="180000"/></a:path>',r[r.length]="</a:gradFill>",r[r.length]='<a:gradFill rotWithShape="1">',r[r.length]="<a:gsLst>",r[r.length]='<a:gs pos="0"><a:schemeClr val="phClr"><a:tint val="80000"/><a:satMod val="300000"/></a:schemeClr></a:gs>',r[r.length]='<a:gs pos="100000"><a:schemeClr val="phClr"><a:shade val="30000"/><a:satMod val="200000"/></a:schemeClr></a:gs>',r[r.length]="</a:gsLst>",r[r.length]='<a:path path="circle"><a:fillToRect l="50000" t="50000" r="50000" b="50000"/></a:path>',r[r.length]="</a:gradFill>",r[r.length]="</a:bgFillStyleLst>",r[r.length]="</a:fmtScheme>",r[r.length]="</a:themeElements>",r[r.length]="<a:objectDefaults>",r[r.length]="<a:spDef>",r[r.length]='<a:spPr/><a:bodyPr/><a:lstStyle/><a:style><a:lnRef idx="1"><a:schemeClr val="accent1"/></a:lnRef><a:fillRef idx="3"><a:schemeClr val="accent1"/></a:fillRef><a:effectRef idx="2"><a:schemeClr val="accent1"/></a:effectRef><a:fontRef idx="minor"><a:schemeClr val="lt1"/></a:fontRef></a:style>',r[r.length]="</a:spDef>",r[r.length]="<a:lnDef>",r[r.length]='<a:spPr/><a:bodyPr/><a:lstStyle/><a:style><a:lnRef idx="2"><a:schemeClr val="accent1"/></a:lnRef><a:fillRef idx="0"><a:schemeClr val="accent1"/></a:fillRef><a:effectRef idx="1"><a:schemeClr val="accent1"/></a:effectRef><a:fontRef idx="minor"><a:schemeClr val="tx1"/></a:fontRef></a:style>',r[r.length]="</a:lnDef>",r[r.length]="</a:objectDefaults>",r[r.length]="<a:extraClrSchemeLst/>",r[r.length]="</a:theme>",r.join("")}function WQ(e,t,r){var n=e.l+t,a=e.read_shift(4);if(a!==124226){if(!r.cellStyles){e.l=n;return}var s=e.slice(e.l);e.l=n;var l;try{l=TD(s,{type:"array"})}catch{return}var o=Jl(l,"theme/theme/theme1.xml",!0);if(o)return IP(o,r)}}function KQ(e){return e.read_shift(4)}function GQ(e){var t={};switch(t.xclrType=e.read_shift(2),t.nTintShade=e.read_shift(2),t.xclrType){case 0:e.l+=4;break;case 1:t.xclrValue=YQ(e,4);break;case 2:t.xclrValue=gP(e);break;case 3:t.xclrValue=KQ(e);break;case 4:e.l+=4;break}return e.l+=8,t}function YQ(e,t){return Li(e,t)}function XQ(e,t){return Li(e,t)}function QQ(e){var t=e.read_shift(2),r=e.read_shift(2)-4,n=[t];switch(t){case 4:case 5:case 7:case 8:case 9:case 10:case 11:case 13:n[1]=GQ(e);break;case 6:n[1]=XQ(e,r);break;case 14:case 15:n[1]=e.read_shift(r===1?1:2);break;default:throw new Error("Unrecognized ExtProp type: "+t+" "+r)}return n}function ZQ(e,t){var r=e.l+t;e.l+=2;var n=e.read_shift(2);e.l+=2;for(var a=e.read_shift(2),s=[];a-- >0;)s.push(QQ(e,r-e.l));return{ixfe:n,ext:s}}function JQ(e,t){t.forEach(function(r){r[0]})}function eZ(e,t){return{flags:e.read_shift(4),version:e.read_shift(4),name:Di(e)}}function tZ(e){var t=nt(12+2*e.name.length);return t.write_shift(4,e.flags),t.write_shift(4,e.version),Ws(e.name,t),t.slice(0,t.l)}function rZ(e){for(var t=[],r=e.read_shift(4);r-- >0;)t.push([e.read_shift(4),e.read_shift(4)]);return t}function nZ(e){var t=nt(4+8*e.length);t.write_shift(4,e.length);for(var r=0;r<e.length;++r)t.write_shift(4,e[r][0]),t.write_shift(4,e[r][1]);return t}function aZ(e,t){var r=nt(8+2*t.length);return r.write_shift(4,e),Ws(t,r),r.slice(0,r.l)}function sZ(e){return e.l+=4,e.read_shift(4)!=0}function iZ(e,t){var r=nt(8);return r.write_shift(4,e),r.write_shift(4,1),r}function lZ(e,t,r){var n={Types:[],Cell:[],Value:[]},a=r||{},s=[],l=!1,o=2;return Ad(e,function(u,d,h){switch(h){case 335:n.Types.push({name:u.name});break;case 51:u.forEach(function(m){o==1?n.Cell.push({type:n.Types[m[0]-1].name,index:m[1]}):o==0&&n.Value.push({type:n.Types[m[0]-1].name,index:m[1]})});break;case 337:o=u?1:0;break;case 338:o=2;break;case 35:s.push(h),l=!0;break;case 36:s.pop(),l=!1;break;default:if(!d.T){if(!l||a.WTF&&s[s.length-1]!=35)throw new Error("Unexpected record 0x"+h.toString(16))}}}),n}function oZ(){var e=El();return mt(e,332),mt(e,334,kc(1)),mt(e,335,tZ({name:"XLDAPR",version:12e4,flags:3496657072})),mt(e,336),mt(e,339,aZ(1,"XLDAPR")),mt(e,52),mt(e,35,kc(514)),mt(e,4096,kc(0)),mt(e,4097,Mo(1)),mt(e,36),mt(e,53),mt(e,340),mt(e,337,iZ(1)),mt(e,51,nZ([[1,0]])),mt(e,338),mt(e,333),e.end()}function cZ(e,t,r){var n={Types:[],Cell:[],Value:[]};if(!e)return n;var a=!1,s=2,l;return e.replace(Ri,function(o){var u=hr(o);switch(gu(u[0])){case"<?xml":break;case"<metadata":case"</metadata>":break;case"<metadataTypes":case"</metadataTypes>":break;case"<metadataType":n.Types.push({name:u.name});break;case"</metadataType>":break;case"<futureMetadata":for(var d=0;d<n.Types.length;++d)n.Types[d].name==u.name&&(l=n.Types[d]);break;case"</futureMetadata>":break;case"<bk>":break;case"</bk>":break;case"<rc":s==1?n.Cell.push({type:n.Types[u.t-1].name,index:+u.v}):s==0&&n.Value.push({type:n.Types[u.t-1].name,index:+u.v});break;case"</rc>":break;case"<cellMetadata":s=1;break;case"</cellMetadata>":s=2;break;case"<valueMetadata":s=0;break;case"</valueMetadata>":s=2;break;case"<extLst":case"<extLst>":case"</extLst>":case"<extLst/>":break;case"<ext":a=!0;break;case"</ext>":a=!1;break;case"<rvb":if(!l)break;l.offsets||(l.offsets=[]),l.offsets.push(+u.i);break;default:if(!a&&r.WTF)throw new Error("unrecognized "+u[0]+" in metadata")}return o}),n}function BP(){var e=[es];return e.push(`<metadata xmlns="http://schemas.openxmlformats.org/spreadsheetml/2006/main" xmlns:xlrd="http://schemas.microsoft.com/office/spreadsheetml/2017/richdata" xmlns:xda="http://schemas.microsoft.com/office/spreadsheetml/2017/dynamicarray">
  <metadataTypes count="1">
    <metadataType name="XLDAPR" minSupportedVersion="120000" copy="1" pasteAll="1" pasteValues="1" merge="1" splitFirst="1" rowColShift="1" clearFormats="1" clearComments="1" assign="1" coerce="1" cellMeta="1"/>
  </metadataTypes>
  <futureMetadata name="XLDAPR" count="1">
    <bk>
      <extLst>
        <ext uri="{bdbb8cdc-fa1e-496e-a857-3c3f30c029c3}">
          <xda:dynamicArrayProperties fDynamic="1" fCollapsed="0"/>
        </ext>
      </extLst>
    </bk>
  </futureMetadata>
  <cellMetadata count="1">
    <bk>
      <rc t="1" v="0"/>
    </bk>
  </cellMetadata>
</metadata>`),e.join("")}function uZ(e){var t=[];if(!e)return t;var r=1;return(e.match(Ri)||[]).forEach(function(n){var a=hr(n);switch(a[0]){case"<?xml":break;case"<calcChain":case"<calcChain>":case"</calcChain>":break;case"<c":delete a[0],a.i?r=a.i:a.i=r,t.push(a);break}}),t}function dZ(e){var t={};t.i=e.read_shift(4);var r={};r.r=e.read_shift(4),r.c=e.read_shift(4),t.r=dr(r);var n=e.read_shift(1);return n&2&&(t.l="1"),n&8&&(t.a="1"),t}function fZ(e,t,r){var n=[];return Ad(e,function(s,l,o){switch(o){case 63:n.push(s);break;default:if(!l.T)throw new Error("Unexpected record 0x"+o.toString(16))}}),n}function hZ(e,t,r,n){if(!e)return e;var a=n||{},s=!1;Ad(e,function(o,u,d){switch(d){case 359:case 363:case 364:case 366:case 367:case 368:case 369:case 370:case 371:case 472:case 577:case 578:case 579:case 580:case 581:case 582:case 583:case 584:case 585:case 586:case 587:break;case 35:s=!0;break;case 36:s=!1;break;default:if(!u.T){if(!s||a.WTF)throw new Error("Unexpected record 0x"+d.toString(16))}}},a)}function mZ(e,t){if(!e)return"??";var r=(e.match(/<c:chart [^>]*r:id="([^"]*)"/)||["",""])[1];return t["!id"][r].Target}var Em=1024;function UP(e,t){for(var r=[21600,21600],n=["m0,0l0",r[1],r[0],r[1],r[0],"0xe"].join(","),a=[Nt("xml",null,{"xmlns:v":Yl.v,"xmlns:o":Yl.o,"xmlns:x":Yl.x,"xmlns:mv":Yl.mv}).replace(/\/>/,">"),Nt("o:shapelayout",Nt("o:idmap",null,{"v:ext":"edit",data:e}),{"v:ext":"edit"}),Nt("v:shapetype",[Nt("v:stroke",null,{joinstyle:"miter"}),Nt("v:path",null,{gradientshapeok:"t","o:connecttype":"rect"})].join(""),{id:"_x0000_t202","o:spt":202,coordsize:r.join(","),path:n})];Em<e*1e3;)Em+=1e3;return t.forEach(function(s){var l=Sa(s[0]),o={color2:"#BEFF82",type:"gradient"};o.type=="gradient"&&(o.angle="-180");var u=o.type=="gradient"?Nt("o:fill",null,{type:"gradientUnscaled","v:ext":"view"}):null,d=Nt("v:fill",u,o),h={on:"t",obscured:"t"};++Em,a=a.concat(["<v:shape"+Jx({id:"_x0000_s"+Em,type:"#_x0000_t202",style:"position:absolute; margin-left:80pt;margin-top:5pt;width:104pt;height:64pt;z-index:10"+(s[1].hidden?";visibility:hidden":""),fillcolor:"#ECFAD4",strokecolor:"#edeaa1"})+">",d,Nt("v:shadow",null,h),Nt("v:path",null,{"o:connecttype":"none"}),'<v:textbox><div style="text-align:left"></div></v:textbox>','<x:ClientData ObjectType="Note">',"<x:MoveWithCells/>","<x:SizeWithCells/>",di("x:Anchor",[l.c+1,0,l.r+1,0,l.c+3,20,l.r+5,20].join(",")),di("x:AutoFill","False"),di("x:Row",String(l.r)),di("x:Column",String(l.c)),s[1].hidden?"":"<x:Visible/>","</x:ClientData>","</v:shape>"])}),a.push("</xml>"),a.join("")}function PE(e,t,r,n){var a=Array.isArray(e),s;t.forEach(function(l){var o=Sa(l.ref);if(a?(e[o.r]||(e[o.r]=[]),s=e[o.r][o.c]):s=e[l.ref],!s){s={t:"z"},a?e[o.r][o.c]=s:e[l.ref]=s;var u=nn(e["!ref"]||"BDWGO1000001:A1");u.s.r>o.r&&(u.s.r=o.r),u.e.r<o.r&&(u.e.r=o.r),u.s.c>o.c&&(u.s.c=o.c),u.e.c<o.c&&(u.e.c=o.c);var d=Nr(u);d!==e["!ref"]&&(e["!ref"]=d)}s.c||(s.c=[]);var h={a:l.author,t:l.t,r:l.r,T:r};l.h&&(h.h=l.h);for(var m=s.c.length-1;m>=0;--m){if(!r&&s.c[m].T)return;r&&!s.c[m].T&&s.c.splice(m,1)}if(r&&n){for(m=0;m<n.length;++m)if(h.a==n[m].id){h.a=n[m].name||h.a;break}}s.c.push(h)})}function pZ(e,t){if(e.match(/<(?:\w+:)?comments *\/>/))return[];var r=[],n=[],a=e.match(/<(?:\w+:)?authors>([\s\S]*)<\/(?:\w+:)?authors>/);a&&a[1]&&a[1].split(/<\/\w*:?author>/).forEach(function(l){if(!(l===""||l.trim()==="")){var o=l.match(/<(?:\w+:)?author[^>]*>(.*)/);o&&r.push(o[1])}});var s=e.match(/<(?:\w+:)?commentList>([\s\S]*)<\/(?:\w+:)?commentList>/);return s&&s[1]&&s[1].split(/<\/\w*:?comment>/).forEach(function(l){if(!(l===""||l.trim()==="")){var o=l.match(/<(?:\w+:)?comment[^>]*>/);if(o){var u=hr(o[0]),d={author:u.authorId&&r[u.authorId]||"sheetjsghost",ref:u.ref,guid:u.guid},h=Sa(u.ref);if(!(t.sheetRows&&t.sheetRows<=h.r)){var m=l.match(/<(?:\w+:)?text>([\s\S]*)<\/(?:\w+:)?text>/),g=!!m&&!!m[1]&&wj(m[1])||{r:"",t:"",h:""};d.r=g.r,g.r=="<t></t>"&&(g.t=g.h=""),d.t=(g.t||"").replace(/\r\n/g,`
`).replace(/\r/g,`
`),t.cellHTML&&(d.h=g.h),n.push(d)}}}}),n}function zP(e){var t=[es,Nt("comments",null,{xmlns:ph[0]})],r=[];return t.push("<authors>"),e.forEach(function(n){n[1].forEach(function(a){var s=Sn(a.a);r.indexOf(s)==-1&&(r.push(s),t.push("<author>"+s+"</author>")),a.T&&a.ID&&r.indexOf("tc="+a.ID)==-1&&(r.push("tc="+a.ID),t.push("<author>tc="+a.ID+"</author>"))})}),r.length==0&&(r.push("SheetJ5"),t.push("<author>SheetJ5</author>")),t.push("</authors>"),t.push("<commentList>"),e.forEach(function(n){var a=0,s=[];if(n[1][0]&&n[1][0].T&&n[1][0].ID?a=r.indexOf("tc="+n[1][0].ID):n[1].forEach(function(u){u.a&&(a=r.indexOf(Sn(u.a))),s.push(u.t||"")}),t.push('<comment ref="'+n[0]+'" authorId="'+a+'"><text>'),s.length<=1)t.push(di("t",Sn(s[0]||"")));else{for(var l=`Comment:
    `+s[0]+`
`,o=1;o<s.length;++o)l+=`Reply:
    `+s[o]+`
`;t.push(di("t",Sn(l)))}t.push("</text></comment>")}),t.push("</commentList>"),t.length>2&&(t[t.length]="</comments>",t[1]=t[1].replace("/>",">")),t.join("")}function xZ(e,t){var r=[],n=!1,a={},s=0;return e.replace(Ri,function(o,u){var d=hr(o);switch(gu(d[0])){case"<?xml":break;case"<ThreadedComments":break;case"</ThreadedComments>":break;case"<threadedComment":a={author:d.personId,guid:d.id,ref:d.ref,T:1};break;case"</threadedComment>":a.t!=null&&r.push(a);break;case"<text>":case"<text":s=u+o.length;break;case"</text>":a.t=e.slice(s,u).replace(/\r\n/g,`
`).replace(/\r/g,`
`);break;case"<mentions":case"<mentions>":n=!0;break;case"</mentions>":n=!1;break;case"<extLst":case"<extLst>":case"</extLst>":case"<extLst/>":break;case"<ext":n=!0;break;case"</ext>":n=!1;break;default:if(!n&&t.WTF)throw new Error("unrecognized "+d[0]+" in threaded comments")}return o}),r}function gZ(e,t,r){var n=[es,Nt("ThreadedComments",null,{xmlns:ks.TCMNT}).replace(/[\/]>/,">")];return e.forEach(function(a){var s="";(a[1]||[]).forEach(function(l,o){if(!l.T){delete l.ID;return}l.a&&t.indexOf(l.a)==-1&&t.push(l.a);var u={ref:a[0],id:"{54EE7951-7262-4200-6969-"+("000000000000"+r.tcid++).slice(-12)+"}"};o==0?s=u.id:u.parentId=s,l.ID=u.id,l.a&&(u.personId="{54EE7950-7262-4200-6969-"+("000000000000"+t.indexOf(l.a)).slice(-12)+"}"),n.push(Nt("threadedComment",di("text",l.t||""),u))})}),n.push("</ThreadedComments>"),n.join("")}function vZ(e,t){var r=[],n=!1;return e.replace(Ri,function(s){var l=hr(s);switch(gu(l[0])){case"<?xml":break;case"<personList":break;case"</personList>":break;case"<person":r.push({name:l.displayname,id:l.id});break;case"</person>":break;case"<extLst":case"<extLst>":case"</extLst>":case"<extLst/>":break;case"<ext":n=!0;break;case"</ext>":n=!1;break;default:if(!n&&t.WTF)throw new Error("unrecognized "+l[0]+" in threaded comments")}return s}),r}function yZ(e){var t=[es,Nt("personList",null,{xmlns:ks.TCMNT,"xmlns:x":ph[0]}).replace(/[\/]>/,">")];return e.forEach(function(r,n){t.push(Nt("person",null,{displayName:r,id:"{54EE7950-7262-4200-6969-"+("000000000000"+n).slice(-12)+"}",userId:r,providerId:"None"}))}),t.push("</personList>"),t.join("")}function bZ(e){var t={};t.iauthor=e.read_shift(4);var r=yh(e);return t.rfx=r.s,t.ref=dr(r.s),e.l+=16,t}function wZ(e,t){return t==null&&(t=nt(36)),t.write_shift(4,e[1].iauthor),hp(e[0],t),t.write_shift(4,0),t.write_shift(4,0),t.write_shift(4,0),t.write_shift(4,0),t}var NZ=Di;function _Z(e){return Ws(e.slice(0,54))}function jZ(e,t){var r=[],n=[],a={},s=!1;return Ad(e,function(o,u,d){switch(d){case 632:n.push(o);break;case 635:a=o;break;case 637:a.t=o.t,a.h=o.h,a.r=o.r;break;case 636:if(a.author=n[a.iauthor],delete a.iauthor,t.sheetRows&&a.rfx&&t.sheetRows<=a.rfx.r)break;a.t||(a.t=""),delete a.rfx,r.push(a);break;case 3072:break;case 35:s=!0;break;case 36:s=!1;break;case 37:break;case 38:break;default:if(!u.T){if(!s||t.WTF)throw new Error("Unexpected record 0x"+d.toString(16))}}}),r}function SZ(e){var t=El(),r=[];return mt(t,628),mt(t,630),e.forEach(function(n){n[1].forEach(function(a){r.indexOf(a.a)>-1||(r.push(a.a.slice(0,54)),mt(t,632,_Z(a.a)))})}),mt(t,631),mt(t,633),e.forEach(function(n){n[1].forEach(function(a){a.iauthor=r.indexOf(a.a);var s={s:Sa(n[0]),e:Sa(n[0])};mt(t,635,wZ([s,a])),a.t&&a.t.length>0&&mt(t,637,KK(a)),mt(t,636),delete a.iauthor})}),mt(t,634),mt(t,629),t.end()}var AZ="application/vnd.ms-office.vbaProject";function kZ(e){var t=ar.utils.cfb_new({root:"R"});return e.FullPaths.forEach(function(r,n){if(!(r.slice(-1)==="/"||!r.match(/_VBA_PROJECT_CUR/))){var a=r.replace(/^[^\/]*/,"R").replace(/\/_VBA_PROJECT_CUR\u0000*/,"");ar.utils.cfb_add(t,a,e.FileIndex[n].content)}}),ar.write(t)}function EZ(e,t){t.FullPaths.forEach(function(r,n){if(n!=0){var a=r.replace(/[^\/]*[\/]/,"/_VBA_PROJECT_CUR/");a.slice(-1)!=="/"&&ar.utils.cfb_add(e,a,t.FileIndex[n].content)}})}var qP=["xlsb","xlsm","xlam","biff8","xla"];function CZ(){return{"!type":"dialog"}}function TZ(){return{"!type":"dialog"}}function OZ(){return{"!type":"macro"}}function FZ(){return{"!type":"macro"}}var Rm=(function(){var e=/(^|[^A-Za-z_])R(\[?-?\d+\]|[1-9]\d*|)C(\[?-?\d+\]|[1-9]\d*|)(?![A-Za-z0-9_])/g,t={r:0,c:0};function r(n,a,s,l){var o=!1,u=!1;s.length==0?u=!0:s.charAt(0)=="["&&(u=!0,s=s.slice(1,-1)),l.length==0?o=!0:l.charAt(0)=="["&&(o=!0,l=l.slice(1,-1));var d=s.length>0?parseInt(s,10)|0:0,h=l.length>0?parseInt(l,10)|0:0;return o?h+=t.c:--h,u?d+=t.r:--d,a+(o?"":"$")+ja(h)+(u?"":"$")+Ja(d)}return function(a,s){return t=s,a.replace(e,r)}})(),Sj=/(^|[^._A-Z0-9])([$]?)([A-Z]{1,2}|[A-W][A-Z]{2}|X[A-E][A-Z]|XF[A-D])([$]?)(10[0-3]\d{4}|104[0-7]\d{3}|1048[0-4]\d{2}|10485[0-6]\d|104857[0-6]|[1-9]\d{0,5})(?![_.\(A-Za-z0-9])/g,Aj=(function(){return function(t,r){return t.replace(Sj,function(n,a,s,l,o,u){var d=fj(l)-(s?0:r.c),h=dj(u)-(o?0:r.r),m=h==0?"":o?h+1:"["+h+"]",g=d==0?"":s?d+1:"["+d+"]";return a+"R"+m+"C"+g})}})();function $P(e,t){return e.replace(Sj,function(r,n,a,s,l,o){return n+(a=="$"?a+s:ja(fj(s)+t.c))+(l=="$"?l+o:Ja(dj(o)+t.r))})}function DZ(e,t,r){var n=Tl(t),a=n.s,s=Sa(r),l={r:s.r-a.r,c:s.c-a.c};return $P(e,l)}function PZ(e){return e.length!=1}function LE(e){return e.replace(/_xlfn\./g,"")}function is(e){e.l+=1}function Of(e,t){var r=e.read_shift(2);return[r&16383,r>>14&1,r>>15&1]}function HP(e,t,r){var n=2;if(r){if(r.biff>=2&&r.biff<=5)return VP(e);r.biff==12&&(n=4)}var a=e.read_shift(n),s=e.read_shift(n),l=Of(e),o=Of(e);return{s:{r:a,c:l[0],cRel:l[1],rRel:l[2]},e:{r:s,c:o[0],cRel:o[1],rRel:o[2]}}}function VP(e){var t=Of(e),r=Of(e),n=e.read_shift(1),a=e.read_shift(1);return{s:{r:t[0],c:n,cRel:t[1],rRel:t[2]},e:{r:r[0],c:a,cRel:r[1],rRel:r[2]}}}function LZ(e,t,r){if(r.biff<8)return VP(e);var n=e.read_shift(r.biff==12?4:2),a=e.read_shift(r.biff==12?4:2),s=Of(e),l=Of(e);return{s:{r:n,c:s[0],cRel:s[1],rRel:s[2]},e:{r:a,c:l[0],cRel:l[1],rRel:l[2]}}}function WP(e,t,r){if(r&&r.biff>=2&&r.biff<=5)return MZ(e);var n=e.read_shift(r&&r.biff==12?4:2),a=Of(e);return{r:n,c:a[0],cRel:a[1],rRel:a[2]}}function MZ(e){var t=Of(e),r=e.read_shift(1);return{r:t[0],c:r,cRel:t[1],rRel:t[2]}}function RZ(e){var t=e.read_shift(2),r=e.read_shift(2);return{r:t,c:r&255,fQuoted:!!(r&16384),cRel:r>>15,rRel:r>>15}}function IZ(e,t,r){var n=r&&r.biff?r.biff:8;if(n>=2&&n<=5)return BZ(e);var a=e.read_shift(n>=12?4:2),s=e.read_shift(2),l=(s&16384)>>14,o=(s&32768)>>15;if(s&=16383,o==1)for(;a>524287;)a-=1048576;if(l==1)for(;s>8191;)s=s-16384;return{r:a,c:s,cRel:l,rRel:o}}function BZ(e){var t=e.read_shift(2),r=e.read_shift(1),n=(t&32768)>>15,a=(t&16384)>>14;return t&=16383,n==1&&t>=8192&&(t=t-16384),a==1&&r>=128&&(r=r-256),{r:t,c:r,cRel:a,rRel:n}}function UZ(e,t,r){var n=(e[e.l++]&96)>>5,a=HP(e,r.biff>=2&&r.biff<=5?6:8,r);return[n,a]}function zZ(e,t,r){var n=(e[e.l++]&96)>>5,a=e.read_shift(2,"i"),s=8;if(r)switch(r.biff){case 5:e.l+=12,s=6;break;case 12:s=12;break}var l=HP(e,s,r);return[n,a,l]}function qZ(e,t,r){var n=(e[e.l++]&96)>>5;return e.l+=r&&r.biff>8?12:r.biff<8?6:8,[n]}function $Z(e,t,r){var n=(e[e.l++]&96)>>5,a=e.read_shift(2),s=8;if(r)switch(r.biff){case 5:e.l+=12,s=6;break;case 12:s=12;break}return e.l+=s,[n,a]}function HZ(e,t,r){var n=(e[e.l++]&96)>>5,a=LZ(e,t-1,r);return[n,a]}function VZ(e,t,r){var n=(e[e.l++]&96)>>5;return e.l+=r.biff==2?6:r.biff==12?14:7,[n]}function ME(e){var t=e[e.l+1]&1,r=1;return e.l+=4,[t,r]}function WZ(e,t,r){e.l+=2;for(var n=e.read_shift(r&&r.biff==2?1:2),a=[],s=0;s<=n;++s)a.push(e.read_shift(r&&r.biff==2?1:2));return a}function KZ(e,t,r){var n=e[e.l+1]&255?1:0;return e.l+=2,[n,e.read_shift(r&&r.biff==2?1:2)]}function GZ(e,t,r){var n=e[e.l+1]&255?1:0;return e.l+=2,[n,e.read_shift(r&&r.biff==2?1:2)]}function YZ(e){var t=e[e.l+1]&255?1:0;return e.l+=2,[t,e.read_shift(2)]}function XZ(e,t,r){var n=e[e.l+1]&255?1:0;return e.l+=r&&r.biff==2?3:4,[n]}function KP(e){var t=e.read_shift(1),r=e.read_shift(1);return[t,r]}function QZ(e){return e.read_shift(2),KP(e)}function ZZ(e){return e.read_shift(2),KP(e)}function JZ(e,t,r){var n=(e[e.l]&96)>>5;e.l+=1;var a=WP(e,0,r);return[n,a]}function eJ(e,t,r){var n=(e[e.l]&96)>>5;e.l+=1;var a=IZ(e,0,r);return[n,a]}function tJ(e,t,r){var n=(e[e.l]&96)>>5;e.l+=1;var a=e.read_shift(2);r&&r.biff==5&&(e.l+=12);var s=WP(e,0,r);return[n,a,s]}function rJ(e,t,r){var n=(e[e.l]&96)>>5;e.l+=1;var a=e.read_shift(r&&r.biff<=3?1:2);return[see[a],XP[a],n]}function nJ(e,t,r){var n=e[e.l++],a=e.read_shift(1),s=r&&r.biff<=3?[n==88?-1:0,e.read_shift(1)]:aJ(e);return[a,(s[0]===0?XP:aee)[s[1]]]}function aJ(e){return[e[e.l+1]>>7,e.read_shift(2)&32767]}function sJ(e,t,r){e.l+=r&&r.biff==2?3:4}function iJ(e,t,r){if(e.l++,r&&r.biff==12)return[e.read_shift(4,"i"),0];var n=e.read_shift(2),a=e.read_shift(r&&r.biff==2?1:2);return[n,a]}function lJ(e){return e.l++,kd[e.read_shift(1)]}function oJ(e){return e.l++,e.read_shift(2)}function cJ(e){return e.l++,e.read_shift(1)!==0}function uJ(e){return e.l++,Ti(e)}function dJ(e,t,r){return e.l++,Cg(e,t-1,r)}function fJ(e,t){var r=[e.read_shift(1)];if(t==12)switch(r[0]){case 2:r[0]=4;break;case 4:r[0]=16;break;case 0:r[0]=1;break;case 1:r[0]=2;break}switch(r[0]){case 4:r[1]=Wa(e,1)?"TRUE":"FALSE",t!=12&&(e.l+=7);break;case 37:case 16:r[1]=kd[e[e.l]],e.l+=t==12?4:8;break;case 0:e.l+=8;break;case 1:r[1]=Ti(e);break;case 2:r[1]=bh(e,0,{biff:t>0&&t<8?2:t});break;default:throw new Error("Bad SerAr: "+r[0])}return r}function hJ(e,t,r){for(var n=e.read_shift(r.biff==12?4:2),a=[],s=0;s!=n;++s)a.push((r.biff==12?yh:y2)(e));return a}function mJ(e,t,r){var n=0,a=0;r.biff==12?(n=e.read_shift(4),a=e.read_shift(4)):(a=1+e.read_shift(1),n=1+e.read_shift(2)),r.biff>=2&&r.biff<8&&(--n,--a==0&&(a=256));for(var s=0,l=[];s!=n&&(l[s]=[]);++s)for(var o=0;o!=a;++o)l[s][o]=fJ(e,r.biff);return l}function pJ(e,t,r){var n=e.read_shift(1)>>>5&3,a=!r||r.biff>=8?4:2,s=e.read_shift(a);switch(r.biff){case 2:e.l+=5;break;case 3:case 4:e.l+=8;break;case 5:e.l+=12;break}return[n,0,s]}function xJ(e,t,r){if(r.biff==5)return gJ(e);var n=e.read_shift(1)>>>5&3,a=e.read_shift(2),s=e.read_shift(4);return[n,a,s]}function gJ(e){var t=e.read_shift(1)>>>5&3,r=e.read_shift(2,"i");e.l+=8;var n=e.read_shift(2);return e.l+=12,[t,r,n]}function vJ(e,t,r){var n=e.read_shift(1)>>>5&3;e.l+=r&&r.biff==2?3:4;var a=e.read_shift(r&&r.biff==2?1:2);return[n,a]}function yJ(e,t,r){var n=e.read_shift(1)>>>5&3,a=e.read_shift(r&&r.biff==2?1:2);return[n,a]}function bJ(e,t,r){var n=e.read_shift(1)>>>5&3;return e.l+=4,r.biff<8&&e.l--,r.biff==12&&(e.l+=2),[n]}function wJ(e,t,r){var n=(e[e.l++]&96)>>5,a=e.read_shift(2),s=4;if(r)switch(r.biff){case 5:s=15;break;case 12:s=6;break}return e.l+=s,[n,a]}var NJ=Li,_J=Li,jJ=Li;function Og(e,t,r){return e.l+=2,[RZ(e)]}function kj(e){return e.l+=6,[]}var SJ=Og,AJ=kj,kJ=kj,EJ=Og;function GP(e){return e.l+=2,[os(e),e.read_shift(2)&1]}var CJ=Og,TJ=GP,OJ=kj,FJ=Og,DJ=Og,PJ=["Data","All","Headers","??","?Data2","??","?DataHeaders","??","Totals","??","??","??","?DataTotals","??","??","??","?Current"];function LJ(e){e.l+=2;var t=e.read_shift(2),r=e.read_shift(2),n=e.read_shift(4),a=e.read_shift(2),s=e.read_shift(2),l=PJ[r>>2&31];return{ixti:t,coltype:r&3,rt:l,idx:n,c:a,C:s}}function MJ(e){return e.l+=2,[e.read_shift(4)]}function RJ(e,t,r){return e.l+=5,e.l+=2,e.l+=r.biff==2?1:4,["PTGSHEET"]}function IJ(e,t,r){return e.l+=r.biff==2?4:5,["PTGENDSHEET"]}function BJ(e){var t=e.read_shift(1)>>>5&3,r=e.read_shift(2);return[t,r]}function UJ(e){var t=e.read_shift(1)>>>5&3,r=e.read_shift(2);return[t,r]}function zJ(e){return e.l+=4,[0,0]}var RE={1:{n:"PtgExp",f:iJ},2:{n:"PtgTbl",f:jJ},3:{n:"PtgAdd",f:is},4:{n:"PtgSub",f:is},5:{n:"PtgMul",f:is},6:{n:"PtgDiv",f:is},7:{n:"PtgPower",f:is},8:{n:"PtgConcat",f:is},9:{n:"PtgLt",f:is},10:{n:"PtgLe",f:is},11:{n:"PtgEq",f:is},12:{n:"PtgGe",f:is},13:{n:"PtgGt",f:is},14:{n:"PtgNe",f:is},15:{n:"PtgIsect",f:is},16:{n:"PtgUnion",f:is},17:{n:"PtgRange",f:is},18:{n:"PtgUplus",f:is},19:{n:"PtgUminus",f:is},20:{n:"PtgPercent",f:is},21:{n:"PtgParen",f:is},22:{n:"PtgMissArg",f:is},23:{n:"PtgStr",f:dJ},26:{n:"PtgSheet",f:RJ},27:{n:"PtgEndSheet",f:IJ},28:{n:"PtgErr",f:lJ},29:{n:"PtgBool",f:cJ},30:{n:"PtgInt",f:oJ},31:{n:"PtgNum",f:uJ},32:{n:"PtgArray",f:VZ},33:{n:"PtgFunc",f:rJ},34:{n:"PtgFuncVar",f:nJ},35:{n:"PtgName",f:pJ},36:{n:"PtgRef",f:JZ},37:{n:"PtgArea",f:UZ},38:{n:"PtgMemArea",f:vJ},39:{n:"PtgMemErr",f:NJ},40:{n:"PtgMemNoMem",f:_J},41:{n:"PtgMemFunc",f:yJ},42:{n:"PtgRefErr",f:bJ},43:{n:"PtgAreaErr",f:qZ},44:{n:"PtgRefN",f:eJ},45:{n:"PtgAreaN",f:HZ},46:{n:"PtgMemAreaN",f:BJ},47:{n:"PtgMemNoMemN",f:UJ},57:{n:"PtgNameX",f:xJ},58:{n:"PtgRef3d",f:tJ},59:{n:"PtgArea3d",f:zZ},60:{n:"PtgRefErr3d",f:wJ},61:{n:"PtgAreaErr3d",f:$Z},255:{}},qJ={64:32,96:32,65:33,97:33,66:34,98:34,67:35,99:35,68:36,100:36,69:37,101:37,70:38,102:38,71:39,103:39,72:40,104:40,73:41,105:41,74:42,106:42,75:43,107:43,76:44,108:44,77:45,109:45,78:46,110:46,79:47,111:47,88:34,120:34,89:57,121:57,90:58,122:58,91:59,123:59,92:60,124:60,93:61,125:61},$J={1:{n:"PtgElfLel",f:GP},2:{n:"PtgElfRw",f:FJ},3:{n:"PtgElfCol",f:SJ},6:{n:"PtgElfRwV",f:DJ},7:{n:"PtgElfColV",f:EJ},10:{n:"PtgElfRadical",f:CJ},11:{n:"PtgElfRadicalS",f:OJ},13:{n:"PtgElfColS",f:AJ},15:{n:"PtgElfColSV",f:kJ},16:{n:"PtgElfRadicalLel",f:TJ},25:{n:"PtgList",f:LJ},29:{n:"PtgSxName",f:MJ},255:{}},HJ={0:{n:"PtgAttrNoop",f:zJ},1:{n:"PtgAttrSemi",f:XZ},2:{n:"PtgAttrIf",f:GZ},4:{n:"PtgAttrChoose",f:WZ},8:{n:"PtgAttrGoto",f:KZ},16:{n:"PtgAttrSum",f:sJ},32:{n:"PtgAttrBaxcel",f:ME},33:{n:"PtgAttrBaxcel",f:ME},64:{n:"PtgAttrSpace",f:QZ},65:{n:"PtgAttrSpaceSemi",f:ZZ},128:{n:"PtgAttrIfError",f:YZ},255:{}};function Fg(e,t,r,n){if(n.biff<8)return Li(e,t);for(var a=e.l+t,s=[],l=0;l!==r.length;++l)switch(r[l][0]){case"PtgArray":r[l][1]=mJ(e,0,n),s.push(r[l][1]);break;case"PtgMemArea":r[l][2]=hJ(e,r[l][1],n),s.push(r[l][2]);break;case"PtgExp":n&&n.biff==12&&(r[l][1][1]=e.read_shift(4),s.push(r[l][1]));break;case"PtgList":case"PtgElfRadicalS":case"PtgElfColS":case"PtgElfColSV":throw"Unsupported "+r[l][0]}return t=a-e.l,t!==0&&s.push(Li(e,t)),s}function Dg(e,t,r){for(var n=e.l+t,a,s,l=[];n!=e.l;)t=n-e.l,s=e[e.l],a=RE[s]||RE[qJ[s]],(s===24||s===25)&&(a=(s===24?$J:HJ)[e[e.l+1]]),!a||!a.f?Li(e,t):l.push([a.n,a.f(e,t,r)]);return l}function VJ(e){for(var t=[],r=0;r<e.length;++r){for(var n=e[r],a=[],s=0;s<n.length;++s){var l=n[s];if(l)switch(l[0]){case 2:a.push('"'+l[1].replace(/"/g,'""')+'"');break;default:a.push(l[1])}else a.push("")}t.push(a.join(","))}return t.join(";")}var WJ={PtgAdd:"+",PtgConcat:"&",PtgDiv:"/",PtgEq:"=",PtgGe:">=",PtgGt:">",PtgLe:"<=",PtgLt:"<",PtgMul:"*",PtgNe:"<>",PtgPower:"^",PtgSub:"-"};function KJ(e,t){if(!e&&!(t&&t.biff<=5&&t.biff>=2))throw new Error("empty sheet name");return/[^\w\u4E00-\u9FFF\u3040-\u30FF]/.test(e)?"'"+e+"'":e}function YP(e,t,r){if(!e)return"SH33TJSERR0";if(r.biff>8&&(!e.XTI||!e.XTI[t]))return e.SheetNames[t];if(!e.XTI)return"SH33TJSERR6";var n=e.XTI[t];if(r.biff<8)return t>1e4&&(t-=65536),t<0&&(t=-t),t==0?"":e.XTI[t-1];if(!n)return"SH33TJSERR1";var a="";if(r.biff>8)switch(e[n[0]][0]){case 357:return a=n[1]==-1?"#REF":e.SheetNames[n[1]],n[1]==n[2]?a:a+":"+e.SheetNames[n[2]];case 358:return r.SID!=null?e.SheetNames[r.SID]:"SH33TJSSAME"+e[n[0]][0];case 355:default:return"SH33TJSSRC"+e[n[0]][0]}switch(e[n[0]][0][0]){case 1025:return a=n[1]==-1?"#REF":e.SheetNames[n[1]]||"SH33TJSERR3",n[1]==n[2]?a:a+":"+e.SheetNames[n[2]];case 14849:return e[n[0]].slice(1).map(function(s){return s.Name}).join(";;");default:return e[n[0]][0][3]?(a=n[1]==-1?"#REF":e[n[0]][0][3][n[1]]||"SH33TJSERR4",n[1]==n[2]?a:a+":"+e[n[0]][0][3][n[2]]):"SH33TJSERR2"}}function IE(e,t,r){var n=YP(e,t,r);return n=="#REF"?n:KJ(n,r)}function ki(e,t,r,n,a){var s=a&&a.biff||8,l={s:{c:0,r:0}},o=[],u,d,h,m=0,g=0,x,b="";if(!e[0]||!e[0][0])return"";for(var v=-1,w="",N=0,E=e[0].length;N<E;++N){var j=e[0][N];switch(j[0]){case"PtgUminus":o.push("-"+o.pop());break;case"PtgUplus":o.push("+"+o.pop());break;case"PtgPercent":o.push(o.pop()+"%");break;case"PtgAdd":case"PtgConcat":case"PtgDiv":case"PtgEq":case"PtgGe":case"PtgGt":case"PtgLe":case"PtgLt":case"PtgMul":case"PtgNe":case"PtgPower":case"PtgSub":if(u=o.pop(),d=o.pop(),v>=0){switch(e[0][v][1][0]){case 0:w=Ma(" ",e[0][v][1][1]);break;case 1:w=Ma("\r",e[0][v][1][1]);break;default:if(w="",a.WTF)throw new Error("Unexpected PtgAttrSpaceType "+e[0][v][1][0])}d=d+w,v=-1}o.push(d+WJ[j[0]]+u);break;case"PtgIsect":u=o.pop(),d=o.pop(),o.push(d+" "+u);break;case"PtgUnion":u=o.pop(),d=o.pop(),o.push(d+","+u);break;case"PtgRange":u=o.pop(),d=o.pop(),o.push(d+":"+u);break;case"PtgAttrChoose":break;case"PtgAttrGoto":break;case"PtgAttrIf":break;case"PtgAttrIfError":break;case"PtgRef":h=Ox(j[1][1],l,a),o.push(Fx(h,s));break;case"PtgRefN":h=r?Ox(j[1][1],r,a):j[1][1],o.push(Fx(h,s));break;case"PtgRef3d":m=j[1][1],h=Ox(j[1][2],l,a),b=IE(n,m,a),o.push(b+"!"+Fx(h,s));break;case"PtgFunc":case"PtgFuncVar":var T=j[1][0],O=j[1][1];T||(T=0),T&=127;var D=T==0?[]:o.slice(-T);o.length-=T,O==="User"&&(O=D.shift()),o.push(O+"("+D.join(",")+")");break;case"PtgBool":o.push(j[1]?"TRUE":"FALSE");break;case"PtgInt":o.push(j[1]);break;case"PtgNum":o.push(String(j[1]));break;case"PtgStr":o.push('"'+j[1].replace(/"/g,'""')+'"');break;case"PtgErr":o.push(j[1]);break;case"PtgAreaN":x=hE(j[1][1],r?{s:r}:l,a),o.push(Lw(x,a));break;case"PtgArea":x=hE(j[1][1],l,a),o.push(Lw(x,a));break;case"PtgArea3d":m=j[1][1],x=j[1][2],b=IE(n,m,a),o.push(b+"!"+Lw(x,a));break;case"PtgAttrSum":o.push("SUM("+o.pop()+")");break;case"PtgAttrBaxcel":case"PtgAttrSemi":break;case"PtgName":g=j[1][2];var C=(n.names||[])[g-1]||(n[0]||[])[g],P=C?C.Name:"SH33TJSNAME"+String(g);P&&P.slice(0,6)=="_xlfn."&&!a.xlfn&&(P=P.slice(6)),o.push(P);break;case"PtgNameX":var B=j[1][1];g=j[1][2];var H;if(a.biff<=5)B<0&&(B=-B),n[B]&&(H=n[B][g]);else{var L="";if(((n[B]||[])[0]||[])[0]==14849||(((n[B]||[])[0]||[])[0]==1025?n[B][g]&&n[B][g].itab>0&&(L=n.SheetNames[n[B][g].itab-1]+"!"):L=n.SheetNames[g-1]+"!"),n[B]&&n[B][g])L+=n[B][g].Name;else if(n[0]&&n[0][g])L+=n[0][g].Name;else{var U=(YP(n,B,a)||"").split(";;");U[g-1]?L=U[g-1]:L+="SH33TJSERRX"}o.push(L);break}H||(H={Name:"SH33TJSERRY"}),o.push(H.Name);break;case"PtgParen":var V="(",Y=")";if(v>=0){switch(w="",e[0][v][1][0]){case 2:V=Ma(" ",e[0][v][1][1])+V;break;case 3:V=Ma("\r",e[0][v][1][1])+V;break;case 4:Y=Ma(" ",e[0][v][1][1])+Y;break;case 5:Y=Ma("\r",e[0][v][1][1])+Y;break;default:if(a.WTF)throw new Error("Unexpected PtgAttrSpaceType "+e[0][v][1][0])}v=-1}o.push(V+o.pop()+Y);break;case"PtgRefErr":o.push("#REF!");break;case"PtgRefErr3d":o.push("#REF!");break;case"PtgExp":h={c:j[1][1],r:j[1][0]};var de={c:r.c,r:r.r};if(n.sharedf[dr(h)]){var te=n.sharedf[dr(h)];o.push(ki(te,l,de,n,a))}else{var ie=!1;for(u=0;u!=n.arrayf.length;++u)if(d=n.arrayf[u],!(h.c<d[0].s.c||h.c>d[0].e.c)&&!(h.r<d[0].s.r||h.r>d[0].e.r)){o.push(ki(d[1],l,de,n,a)),ie=!0;break}ie||o.push(j[1])}break;case"PtgArray":o.push("{"+VJ(j[1])+"}");break;case"PtgMemArea":break;case"PtgAttrSpace":case"PtgAttrSpaceSemi":v=N;break;case"PtgTbl":break;case"PtgMemErr":break;case"PtgMissArg":o.push("");break;case"PtgAreaErr":o.push("#REF!");break;case"PtgAreaErr3d":o.push("#REF!");break;case"PtgList":o.push("Table"+j[1].idx+"[#"+j[1].rt+"]");break;case"PtgMemAreaN":case"PtgMemNoMemN":case"PtgAttrNoop":case"PtgSheet":case"PtgEndSheet":break;case"PtgMemFunc":break;case"PtgMemNoMem":break;case"PtgElfCol":case"PtgElfColS":case"PtgElfColSV":case"PtgElfColV":case"PtgElfLel":case"PtgElfRadical":case"PtgElfRadicalLel":case"PtgElfRadicalS":case"PtgElfRw":case"PtgElfRwV":throw new Error("Unsupported ELFs");case"PtgSxName":throw new Error("Unrecognized Formula Token: "+String(j));default:throw new Error("Unrecognized Formula Token: "+String(j))}var ge=["PtgAttrSpace","PtgAttrSpaceSemi","PtgAttrGoto"];if(a.biff!=3&&v>=0&&ge.indexOf(e[0][N][0])==-1){j=e[0][v];var oe=!0;switch(j[1][0]){case 4:oe=!1;case 0:w=Ma(" ",j[1][1]);break;case 5:oe=!1;case 1:w=Ma("\r",j[1][1]);break;default:if(w="",a.WTF)throw new Error("Unexpected PtgAttrSpaceType "+j[1][0])}o.push((oe?w:"")+o.pop()+(oe?"":w)),v=-1}}if(o.length>1&&a.WTF)throw new Error("bad formula stack");return o[0]}function GJ(e,t,r){var n=e.l+t,a=r.biff==2?1:2,s,l=e.read_shift(a);if(l==65535)return[[],Li(e,t-2)];var o=Dg(e,l,r);return t!==l+a&&(s=Fg(e,t-l-a,o,r)),e.l=n,[o,s]}function YJ(e,t,r){var n=e.l+t,a=r.biff==2?1:2,s,l=e.read_shift(a);if(l==65535)return[[],Li(e,t-2)];var o=Dg(e,l,r);return t!==l+a&&(s=Fg(e,t-l-a,o,r)),e.l=n,[o,s]}function XJ(e,t,r,n){var a=e.l+t,s=Dg(e,n,r),l;return a!==e.l&&(l=Fg(e,a-e.l,s,r)),[s,l]}function QJ(e,t,r){var n=e.l+t,a,s=e.read_shift(2),l=Dg(e,s,r);return s==65535?[[],Li(e,t-2)]:(t!==s+2&&(a=Fg(e,n-s-2,l,r)),[l,a])}function ZJ(e){var t;if(td(e,e.l+6)!==65535)return[Ti(e),"n"];switch(e[e.l]){case 0:return e.l+=8,["String","s"];case 1:return t=e[e.l+2]===1,e.l+=8,[t,"b"];case 2:return t=e[e.l+2],e.l+=8,[t,"e"];case 3:return e.l+=8,["","s"]}return[]}function JJ(e){if(e==null){var t=nt(8);return t.write_shift(1,3),t.write_shift(1,0),t.write_shift(2,0),t.write_shift(2,0),t.write_shift(2,65535),t}else if(typeof e=="number")return Z0(e);return Z0(0)}function Uw(e,t,r){var n=e.l+t,a=vu(e);r.biff==2&&++e.l;var s=ZJ(e),l=e.read_shift(1);r.biff!=2&&(e.read_shift(1),r.biff>=5&&e.read_shift(4));var o=YJ(e,n-e.l,r);return{cell:a,val:s[0],formula:o,shared:l>>3&1,tt:s[1]}}function eee(e,t,r,n,a){var s=eh(t,r,a),l=JJ(e.v),o=nt(6),u=33;o.write_shift(2,u),o.write_shift(4,0);for(var d=nt(e.bf.length),h=0;h<e.bf.length;++h)d[h]=e.bf[h];var m=Vs([s,l,o,d]);return m}function b2(e,t,r){var n=e.read_shift(4),a=Dg(e,n,r),s=e.read_shift(4),l=s>0?Fg(e,s,a,r):null;return[a,l]}var tee=b2,w2=b2,ree=b2,nee=b2,aee={0:"BEEP",1:"OPEN",2:"OPEN.LINKS",3:"CLOSE.ALL",4:"SAVE",5:"SAVE.AS",6:"FILE.DELETE",7:"PAGE.SETUP",8:"PRINT",9:"PRINTER.SETUP",10:"QUIT",11:"NEW.WINDOW",12:"ARRANGE.ALL",13:"WINDOW.SIZE",14:"WINDOW.MOVE",15:"FULL",16:"CLOSE",17:"RUN",22:"SET.PRINT.AREA",23:"SET.PRINT.TITLES",24:"SET.PAGE.BREAK",25:"REMOVE.PAGE.BREAK",26:"FONT",27:"DISPLAY",28:"PROTECT.DOCUMENT",29:"PRECISION",30:"A1.R1C1",31:"CALCULATE.NOW",32:"CALCULATION",34:"DATA.FIND",35:"EXTRACT",36:"DATA.DELETE",37:"SET.DATABASE",38:"SET.CRITERIA",39:"SORT",40:"DATA.SERIES",41:"TABLE",42:"FORMAT.NUMBER",43:"ALIGNMENT",44:"STYLE",45:"BORDER",46:"CELL.PROTECTION",47:"COLUMN.WIDTH",48:"UNDO",49:"CUT",50:"COPY",51:"PASTE",52:"CLEAR",53:"PASTE.SPECIAL",54:"EDIT.DELETE",55:"INSERT",56:"FILL.RIGHT",57:"FILL.DOWN",61:"DEFINE.NAME",62:"CREATE.NAMES",63:"FORMULA.GOTO",64:"FORMULA.FIND",65:"SELECT.LAST.CELL",66:"SHOW.ACTIVE.CELL",67:"GALLERY.AREA",68:"GALLERY.BAR",69:"GALLERY.COLUMN",70:"GALLERY.LINE",71:"GALLERY.PIE",72:"GALLERY.SCATTER",73:"COMBINATION",74:"PREFERRED",75:"ADD.OVERLAY",76:"GRIDLINES",77:"SET.PREFERRED",78:"AXES",79:"LEGEND",80:"ATTACH.TEXT",81:"ADD.ARROW",82:"SELECT.CHART",83:"SELECT.PLOT.AREA",84:"PATTERNS",85:"MAIN.CHART",86:"OVERLAY",87:"SCALE",88:"FORMAT.LEGEND",89:"FORMAT.TEXT",90:"EDIT.REPEAT",91:"PARSE",92:"JUSTIFY",93:"HIDE",94:"UNHIDE",95:"WORKSPACE",96:"FORMULA",97:"FORMULA.FILL",98:"FORMULA.ARRAY",99:"DATA.FIND.NEXT",100:"DATA.FIND.PREV",101:"FORMULA.FIND.NEXT",102:"FORMULA.FIND.PREV",103:"ACTIVATE",104:"ACTIVATE.NEXT",105:"ACTIVATE.PREV",106:"UNLOCKED.NEXT",107:"UNLOCKED.PREV",108:"COPY.PICTURE",109:"SELECT",110:"DELETE.NAME",111:"DELETE.FORMAT",112:"VLINE",113:"HLINE",114:"VPAGE",115:"HPAGE",116:"VSCROLL",117:"HSCROLL",118:"ALERT",119:"NEW",120:"CANCEL.COPY",121:"SHOW.CLIPBOARD",122:"MESSAGE",124:"PASTE.LINK",125:"APP.ACTIVATE",126:"DELETE.ARROW",127:"ROW.HEIGHT",128:"FORMAT.MOVE",129:"FORMAT.SIZE",130:"FORMULA.REPLACE",131:"SEND.KEYS",132:"SELECT.SPECIAL",133:"APPLY.NAMES",134:"REPLACE.FONT",135:"FREEZE.PANES",136:"SHOW.INFO",137:"SPLIT",138:"ON.WINDOW",139:"ON.DATA",140:"DISABLE.INPUT",142:"OUTLINE",143:"LIST.NAMES",144:"FILE.CLOSE",145:"SAVE.WORKBOOK",146:"DATA.FORM",147:"COPY.CHART",148:"ON.TIME",149:"WAIT",150:"FORMAT.FONT",151:"FILL.UP",152:"FILL.LEFT",153:"DELETE.OVERLAY",155:"SHORT.MENUS",159:"SET.UPDATE.STATUS",161:"COLOR.PALETTE",162:"DELETE.STYLE",163:"WINDOW.RESTORE",164:"WINDOW.MAXIMIZE",166:"CHANGE.LINK",167:"CALCULATE.DOCUMENT",168:"ON.KEY",169:"APP.RESTORE",170:"APP.MOVE",171:"APP.SIZE",172:"APP.MINIMIZE",173:"APP.MAXIMIZE",174:"BRING.TO.FRONT",175:"SEND.TO.BACK",185:"MAIN.CHART.TYPE",186:"OVERLAY.CHART.TYPE",187:"SELECT.END",188:"OPEN.MAIL",189:"SEND.MAIL",190:"STANDARD.FONT",191:"CONSOLIDATE",192:"SORT.SPECIAL",193:"GALLERY.3D.AREA",194:"GALLERY.3D.COLUMN",195:"GALLERY.3D.LINE",196:"GALLERY.3D.PIE",197:"VIEW.3D",198:"GOAL.SEEK",199:"WORKGROUP",200:"FILL.GROUP",201:"UPDATE.LINK",202:"PROMOTE",203:"DEMOTE",204:"SHOW.DETAIL",206:"UNGROUP",207:"OBJECT.PROPERTIES",208:"SAVE.NEW.OBJECT",209:"SHARE",210:"SHARE.NAME",211:"DUPLICATE",212:"APPLY.STYLE",213:"ASSIGN.TO.OBJECT",214:"OBJECT.PROTECTION",215:"HIDE.OBJECT",216:"SET.EXTRACT",217:"CREATE.PUBLISHER",218:"SUBSCRIBE.TO",219:"ATTRIBUTES",220:"SHOW.TOOLBAR",222:"PRINT.PREVIEW",223:"EDIT.COLOR",224:"SHOW.LEVELS",225:"FORMAT.MAIN",226:"FORMAT.OVERLAY",227:"ON.RECALC",228:"EDIT.SERIES",229:"DEFINE.STYLE",240:"LINE.PRINT",243:"ENTER.DATA",249:"GALLERY.RADAR",250:"MERGE.STYLES",251:"EDITION.OPTIONS",252:"PASTE.PICTURE",253:"PASTE.PICTURE.LINK",254:"SPELLING",256:"ZOOM",259:"INSERT.OBJECT",260:"WINDOW.MINIMIZE",265:"SOUND.NOTE",266:"SOUND.PLAY",267:"FORMAT.SHAPE",268:"EXTEND.POLYGON",269:"FORMAT.AUTO",272:"GALLERY.3D.BAR",273:"GALLERY.3D.SURFACE",274:"FILL.AUTO",276:"CUSTOMIZE.TOOLBAR",277:"ADD.TOOL",278:"EDIT.OBJECT",279:"ON.DOUBLECLICK",280:"ON.ENTRY",281:"WORKBOOK.ADD",282:"WORKBOOK.MOVE",283:"WORKBOOK.COPY",284:"WORKBOOK.OPTIONS",285:"SAVE.WORKSPACE",288:"CHART.WIZARD",289:"DELETE.TOOL",290:"MOVE.TOOL",291:"WORKBOOK.SELECT",292:"WORKBOOK.ACTIVATE",293:"ASSIGN.TO.TOOL",295:"COPY.TOOL",296:"RESET.TOOL",297:"CONSTRAIN.NUMERIC",298:"PASTE.TOOL",302:"WORKBOOK.NEW",305:"SCENARIO.CELLS",306:"SCENARIO.DELETE",307:"SCENARIO.ADD",308:"SCENARIO.EDIT",309:"SCENARIO.SHOW",310:"SCENARIO.SHOW.NEXT",311:"SCENARIO.SUMMARY",312:"PIVOT.TABLE.WIZARD",313:"PIVOT.FIELD.PROPERTIES",314:"PIVOT.FIELD",315:"PIVOT.ITEM",316:"PIVOT.ADD.FIELDS",318:"OPTIONS.CALCULATION",319:"OPTIONS.EDIT",320:"OPTIONS.VIEW",321:"ADDIN.MANAGER",322:"MENU.EDITOR",323:"ATTACH.TOOLBARS",324:"VBAActivate",325:"OPTIONS.CHART",328:"VBA.INSERT.FILE",330:"VBA.PROCEDURE.DEFINITION",336:"ROUTING.SLIP",338:"ROUTE.DOCUMENT",339:"MAIL.LOGON",342:"INSERT.PICTURE",343:"EDIT.TOOL",344:"GALLERY.DOUGHNUT",350:"CHART.TREND",352:"PIVOT.ITEM.PROPERTIES",354:"WORKBOOK.INSERT",355:"OPTIONS.TRANSITION",356:"OPTIONS.GENERAL",370:"FILTER.ADVANCED",373:"MAIL.ADD.MAILER",374:"MAIL.DELETE.MAILER",375:"MAIL.REPLY",376:"MAIL.REPLY.ALL",377:"MAIL.FORWARD",378:"MAIL.NEXT.LETTER",379:"DATA.LABEL",380:"INSERT.TITLE",381:"FONT.PROPERTIES",382:"MACRO.OPTIONS",383:"WORKBOOK.HIDE",384:"WORKBOOK.UNHIDE",385:"WORKBOOK.DELETE",386:"WORKBOOK.NAME",388:"GALLERY.CUSTOM",390:"ADD.CHART.AUTOFORMAT",391:"DELETE.CHART.AUTOFORMAT",392:"CHART.ADD.DATA",393:"AUTO.OUTLINE",394:"TAB.ORDER",395:"SHOW.DIALOG",396:"SELECT.ALL",397:"UNGROUP.SHEETS",398:"SUBTOTAL.CREATE",399:"SUBTOTAL.REMOVE",400:"RENAME.OBJECT",412:"WORKBOOK.SCROLL",413:"WORKBOOK.NEXT",414:"WORKBOOK.PREV",415:"WORKBOOK.TAB.SPLIT",416:"FULL.SCREEN",417:"WORKBOOK.PROTECT",420:"SCROLLBAR.PROPERTIES",421:"PIVOT.SHOW.PAGES",422:"TEXT.TO.COLUMNS",423:"FORMAT.CHARTTYPE",424:"LINK.FORMAT",425:"TRACER.DISPLAY",430:"TRACER.NAVIGATE",431:"TRACER.CLEAR",432:"TRACER.ERROR",433:"PIVOT.FIELD.GROUP",434:"PIVOT.FIELD.UNGROUP",435:"CHECKBOX.PROPERTIES",436:"LABEL.PROPERTIES",437:"LISTBOX.PROPERTIES",438:"EDITBOX.PROPERTIES",439:"PIVOT.REFRESH",440:"LINK.COMBO",441:"OPEN.TEXT",442:"HIDE.DIALOG",443:"SET.DIALOG.FOCUS",444:"ENABLE.OBJECT",445:"PUSHBUTTON.PROPERTIES",446:"SET.DIALOG.DEFAULT",447:"FILTER",448:"FILTER.SHOW.ALL",449:"CLEAR.OUTLINE",450:"FUNCTION.WIZARD",451:"ADD.LIST.ITEM",452:"SET.LIST.ITEM",453:"REMOVE.LIST.ITEM",454:"SELECT.LIST.ITEM",455:"SET.CONTROL.VALUE",456:"SAVE.COPY.AS",458:"OPTIONS.LISTS.ADD",459:"OPTIONS.LISTS.DELETE",460:"SERIES.AXES",461:"SERIES.X",462:"SERIES.Y",463:"ERRORBAR.X",464:"ERRORBAR.Y",465:"FORMAT.CHART",466:"SERIES.ORDER",467:"MAIL.LOGOFF",468:"CLEAR.ROUTING.SLIP",469:"APP.ACTIVATE.MICROSOFT",470:"MAIL.EDIT.MAILER",471:"ON.SHEET",472:"STANDARD.WIDTH",473:"SCENARIO.MERGE",474:"SUMMARY.INFO",475:"FIND.FILE",476:"ACTIVE.CELL.FONT",477:"ENABLE.TIPWIZARD",478:"VBA.MAKE.ADDIN",480:"INSERTDATATABLE",481:"WORKGROUP.OPTIONS",482:"MAIL.SEND.MAILER",485:"AUTOCORRECT",489:"POST.DOCUMENT",491:"PICKLIST",493:"VIEW.SHOW",494:"VIEW.DEFINE",495:"VIEW.DELETE",509:"SHEET.BACKGROUND",510:"INSERT.MAP.OBJECT",511:"OPTIONS.MENONO",517:"MSOCHECKS",518:"NORMAL",519:"LAYOUT",520:"RM.PRINT.AREA",521:"CLEAR.PRINT.AREA",522:"ADD.PRINT.AREA",523:"MOVE.BRK",545:"HIDECURR.NOTE",546:"HIDEALL.NOTES",547:"DELETE.NOTE",548:"TRAVERSE.NOTES",549:"ACTIVATE.NOTES",620:"PROTECT.REVISIONS",621:"UNPROTECT.REVISIONS",647:"OPTIONS.ME",653:"WEB.PUBLISH",667:"NEWWEBQUERY",673:"PIVOT.TABLE.CHART",753:"OPTIONS.SAVE",755:"OPTIONS.SPELL",808:"HIDEALL.INKANNOTS"},XP={0:"COUNT",1:"IF",2:"ISNA",3:"ISERROR",4:"SUM",5:"AVERAGE",6:"MIN",7:"MAX",8:"ROW",9:"COLUMN",10:"NA",11:"NPV",12:"STDEV",13:"DOLLAR",14:"FIXED",15:"SIN",16:"COS",17:"TAN",18:"ATAN",19:"PI",20:"SQRT",21:"EXP",22:"LN",23:"LOG10",24:"ABS",25:"INT",26:"SIGN",27:"ROUND",28:"LOOKUP",29:"INDEX",30:"REPT",31:"MID",32:"LEN",33:"VALUE",34:"TRUE",35:"FALSE",36:"AND",37:"OR",38:"NOT",39:"MOD",40:"DCOUNT",41:"DSUM",42:"DAVERAGE",43:"DMIN",44:"DMAX",45:"DSTDEV",46:"VAR",47:"DVAR",48:"TEXT",49:"LINEST",50:"TREND",51:"LOGEST",52:"GROWTH",53:"GOTO",54:"HALT",55:"RETURN",56:"PV",57:"FV",58:"NPER",59:"PMT",60:"RATE",61:"MIRR",62:"IRR",63:"RAND",64:"MATCH",65:"DATE",66:"TIME",67:"DAY",68:"MONTH",69:"YEAR",70:"WEEKDAY",71:"HOUR",72:"MINUTE",73:"SECOND",74:"NOW",75:"AREAS",76:"ROWS",77:"COLUMNS",78:"OFFSET",79:"ABSREF",80:"RELREF",81:"ARGUMENT",82:"SEARCH",83:"TRANSPOSE",84:"ERROR",85:"STEP",86:"TYPE",87:"ECHO",88:"SET.NAME",89:"CALLER",90:"DEREF",91:"WINDOWS",92:"SERIES",93:"DOCUMENTS",94:"ACTIVE.CELL",95:"SELECTION",96:"RESULT",97:"ATAN2",98:"ASIN",99:"ACOS",100:"CHOOSE",101:"HLOOKUP",102:"VLOOKUP",103:"LINKS",104:"INPUT",105:"ISREF",106:"GET.FORMULA",107:"GET.NAME",108:"SET.VALUE",109:"LOG",110:"EXEC",111:"CHAR",112:"LOWER",113:"UPPER",114:"PROPER",115:"LEFT",116:"RIGHT",117:"EXACT",118:"TRIM",119:"REPLACE",120:"SUBSTITUTE",121:"CODE",122:"NAMES",123:"DIRECTORY",124:"FIND",125:"CELL",126:"ISERR",127:"ISTEXT",128:"ISNUMBER",129:"ISBLANK",130:"T",131:"N",132:"FOPEN",133:"FCLOSE",134:"FSIZE",135:"FREADLN",136:"FREAD",137:"FWRITELN",138:"FWRITE",139:"FPOS",140:"DATEVALUE",141:"TIMEVALUE",142:"SLN",143:"SYD",144:"DDB",145:"GET.DEF",146:"REFTEXT",147:"TEXTREF",148:"INDIRECT",149:"REGISTER",150:"CALL",151:"ADD.BAR",152:"ADD.MENU",153:"ADD.COMMAND",154:"ENABLE.COMMAND",155:"CHECK.COMMAND",156:"RENAME.COMMAND",157:"SHOW.BAR",158:"DELETE.MENU",159:"DELETE.COMMAND",160:"GET.CHART.ITEM",161:"DIALOG.BOX",162:"CLEAN",163:"MDETERM",164:"MINVERSE",165:"MMULT",166:"FILES",167:"IPMT",168:"PPMT",169:"COUNTA",170:"CANCEL.KEY",171:"FOR",172:"WHILE",173:"BREAK",174:"NEXT",175:"INITIATE",176:"REQUEST",177:"POKE",178:"EXECUTE",179:"TERMINATE",180:"RESTART",181:"HELP",182:"GET.BAR",183:"PRODUCT",184:"FACT",185:"GET.CELL",186:"GET.WORKSPACE",187:"GET.WINDOW",188:"GET.DOCUMENT",189:"DPRODUCT",190:"ISNONTEXT",191:"GET.NOTE",192:"NOTE",193:"STDEVP",194:"VARP",195:"DSTDEVP",196:"DVARP",197:"TRUNC",198:"ISLOGICAL",199:"DCOUNTA",200:"DELETE.BAR",201:"UNREGISTER",204:"USDOLLAR",205:"FINDB",206:"SEARCHB",207:"REPLACEB",208:"LEFTB",209:"RIGHTB",210:"MIDB",211:"LENB",212:"ROUNDUP",213:"ROUNDDOWN",214:"ASC",215:"DBCS",216:"RANK",219:"ADDRESS",220:"DAYS360",221:"TODAY",222:"VDB",223:"ELSE",224:"ELSE.IF",225:"END.IF",226:"FOR.CELL",227:"MEDIAN",228:"SUMPRODUCT",229:"SINH",230:"COSH",231:"TANH",232:"ASINH",233:"ACOSH",234:"ATANH",235:"DGET",236:"CREATE.OBJECT",237:"VOLATILE",238:"LAST.ERROR",239:"CUSTOM.UNDO",240:"CUSTOM.REPEAT",241:"FORMULA.CONVERT",242:"GET.LINK.INFO",243:"TEXT.BOX",244:"INFO",245:"GROUP",246:"GET.OBJECT",247:"DB",248:"PAUSE",251:"RESUME",252:"FREQUENCY",253:"ADD.TOOLBAR",254:"DELETE.TOOLBAR",255:"User",256:"RESET.TOOLBAR",257:"EVALUATE",258:"GET.TOOLBAR",259:"GET.TOOL",260:"SPELLING.CHECK",261:"ERROR.TYPE",262:"APP.TITLE",263:"WINDOW.TITLE",264:"SAVE.TOOLBAR",265:"ENABLE.TOOL",266:"PRESS.TOOL",267:"REGISTER.ID",268:"GET.WORKBOOK",269:"AVEDEV",270:"BETADIST",271:"GAMMALN",272:"BETAINV",273:"BINOMDIST",274:"CHIDIST",275:"CHIINV",276:"COMBIN",277:"CONFIDENCE",278:"CRITBINOM",279:"EVEN",280:"EXPONDIST",281:"FDIST",282:"FINV",283:"FISHER",284:"FISHERINV",285:"FLOOR",286:"GAMMADIST",287:"GAMMAINV",288:"CEILING",289:"HYPGEOMDIST",290:"LOGNORMDIST",291:"LOGINV",292:"NEGBINOMDIST",293:"NORMDIST",294:"NORMSDIST",295:"NORMINV",296:"NORMSINV",297:"STANDARDIZE",298:"ODD",299:"PERMUT",300:"POISSON",301:"TDIST",302:"WEIBULL",303:"SUMXMY2",304:"SUMX2MY2",305:"SUMX2PY2",306:"CHITEST",307:"CORREL",308:"COVAR",309:"FORECAST",310:"FTEST",311:"INTERCEPT",312:"PEARSON",313:"RSQ",314:"STEYX",315:"SLOPE",316:"TTEST",317:"PROB",318:"DEVSQ",319:"GEOMEAN",320:"HARMEAN",321:"SUMSQ",322:"KURT",323:"SKEW",324:"ZTEST",325:"LARGE",326:"SMALL",327:"QUARTILE",328:"PERCENTILE",329:"PERCENTRANK",330:"MODE",331:"TRIMMEAN",332:"TINV",334:"MOVIE.COMMAND",335:"GET.MOVIE",336:"CONCATENATE",337:"POWER",338:"PIVOT.ADD.DATA",339:"GET.PIVOT.TABLE",340:"GET.PIVOT.FIELD",341:"GET.PIVOT.ITEM",342:"RADIANS",343:"DEGREES",344:"SUBTOTAL",345:"SUMIF",346:"COUNTIF",347:"COUNTBLANK",348:"SCENARIO.GET",349:"OPTIONS.LISTS.GET",350:"ISPMT",351:"DATEDIF",352:"DATESTRING",353:"NUMBERSTRING",354:"ROMAN",355:"OPEN.DIALOG",356:"SAVE.DIALOG",357:"VIEW.GET",358:"GETPIVOTDATA",359:"HYPERLINK",360:"PHONETIC",361:"AVERAGEA",362:"MAXA",363:"MINA",364:"STDEVPA",365:"VARPA",366:"STDEVA",367:"VARA",368:"BAHTTEXT",369:"THAIDAYOFWEEK",370:"THAIDIGIT",371:"THAIMONTHOFYEAR",372:"THAINUMSOUND",373:"THAINUMSTRING",374:"THAISTRINGLENGTH",375:"ISTHAIDIGIT",376:"ROUNDBAHTDOWN",377:"ROUNDBAHTUP",378:"THAIYEAR",379:"RTD",380:"CUBEVALUE",381:"CUBEMEMBER",382:"CUBEMEMBERPROPERTY",383:"CUBERANKEDMEMBER",384:"HEX2BIN",385:"HEX2DEC",386:"HEX2OCT",387:"DEC2BIN",388:"DEC2HEX",389:"DEC2OCT",390:"OCT2BIN",391:"OCT2HEX",392:"OCT2DEC",393:"BIN2DEC",394:"BIN2OCT",395:"BIN2HEX",396:"IMSUB",397:"IMDIV",398:"IMPOWER",399:"IMABS",400:"IMSQRT",401:"IMLN",402:"IMLOG2",403:"IMLOG10",404:"IMSIN",405:"IMCOS",406:"IMEXP",407:"IMARGUMENT",408:"IMCONJUGATE",409:"IMAGINARY",410:"IMREAL",411:"COMPLEX",412:"IMSUM",413:"IMPRODUCT",414:"SERIESSUM",415:"FACTDOUBLE",416:"SQRTPI",417:"QUOTIENT",418:"DELTA",419:"GESTEP",420:"ISEVEN",421:"ISODD",422:"MROUND",423:"ERF",424:"ERFC",425:"BESSELJ",426:"BESSELK",427:"BESSELY",428:"BESSELI",429:"XIRR",430:"XNPV",431:"PRICEMAT",432:"YIELDMAT",433:"INTRATE",434:"RECEIVED",435:"DISC",436:"PRICEDISC",437:"YIELDDISC",438:"TBILLEQ",439:"TBILLPRICE",440:"TBILLYIELD",441:"PRICE",442:"YIELD",443:"DOLLARDE",444:"DOLLARFR",445:"NOMINAL",446:"EFFECT",447:"CUMPRINC",448:"CUMIPMT",449:"EDATE",450:"EOMONTH",451:"YEARFRAC",452:"COUPDAYBS",453:"COUPDAYS",454:"COUPDAYSNC",455:"COUPNCD",456:"COUPNUM",457:"COUPPCD",458:"DURATION",459:"MDURATION",460:"ODDLPRICE",461:"ODDLYIELD",462:"ODDFPRICE",463:"ODDFYIELD",464:"RANDBETWEEN",465:"WEEKNUM",466:"AMORDEGRC",467:"AMORLINC",468:"CONVERT",724:"SHEETJS",469:"ACCRINT",470:"ACCRINTM",471:"WORKDAY",472:"NETWORKDAYS",473:"GCD",474:"MULTINOMIAL",475:"LCM",476:"FVSCHEDULE",477:"CUBEKPIMEMBER",478:"CUBESET",479:"CUBESETCOUNT",480:"IFERROR",481:"COUNTIFS",482:"SUMIFS",483:"AVERAGEIF",484:"AVERAGEIFS"},see={2:1,3:1,10:0,15:1,16:1,17:1,18:1,19:0,20:1,21:1,22:1,23:1,24:1,25:1,26:1,27:2,30:2,31:3,32:1,33:1,34:0,35:0,38:1,39:2,40:3,41:3,42:3,43:3,44:3,45:3,47:3,48:2,53:1,61:3,63:0,65:3,66:3,67:1,68:1,69:1,70:1,71:1,72:1,73:1,74:0,75:1,76:1,77:1,79:2,80:2,83:1,85:0,86:1,89:0,90:1,94:0,95:0,97:2,98:1,99:1,101:3,102:3,105:1,106:1,108:2,111:1,112:1,113:1,114:1,117:2,118:1,119:4,121:1,126:1,127:1,128:1,129:1,130:1,131:1,133:1,134:1,135:1,136:2,137:2,138:2,140:1,141:1,142:3,143:4,144:4,161:1,162:1,163:1,164:1,165:2,172:1,175:2,176:2,177:3,178:2,179:1,184:1,186:1,189:3,190:1,195:3,196:3,197:1,198:1,199:3,201:1,207:4,210:3,211:1,212:2,213:2,214:1,215:1,225:0,229:1,230:1,231:1,232:1,233:1,234:1,235:3,244:1,247:4,252:2,257:1,261:1,271:1,273:4,274:2,275:2,276:2,277:3,278:3,279:1,280:3,281:3,282:3,283:1,284:1,285:2,286:4,287:3,288:2,289:4,290:3,291:3,292:3,293:4,294:1,295:3,296:1,297:3,298:1,299:2,300:3,301:3,302:4,303:2,304:2,305:2,306:2,307:2,308:2,309:3,310:2,311:2,312:2,313:2,314:2,315:2,316:4,325:2,326:2,327:2,328:2,331:2,332:2,337:2,342:1,343:1,346:2,347:1,350:4,351:3,352:1,353:2,360:1,368:1,369:1,370:1,371:1,372:1,373:1,374:1,375:1,376:1,377:1,378:1,382:3,385:1,392:1,393:1,396:2,397:2,398:2,399:1,400:1,401:1,402:1,403:1,404:1,405:1,406:1,407:1,408:1,409:1,410:1,414:4,415:1,416:1,417:2,420:1,421:1,422:2,424:1,425:2,426:2,427:2,428:2,430:3,438:3,439:3,440:3,443:2,444:2,445:2,446:2,447:6,448:6,449:2,450:2,464:2,468:3,476:2,479:1,480:2,65535:0};function BE(e){return e.slice(0,3)=="of:"&&(e=e.slice(3)),e.charCodeAt(0)==61&&(e=e.slice(1),e.charCodeAt(0)==61&&(e=e.slice(1))),e=e.replace(/COM\.MICROSOFT\./g,""),e=e.replace(/\[((?:\.[A-Z]+[0-9]+)(?::\.[A-Z]+[0-9]+)?)\]/g,function(t,r){return r.replace(/\./g,"")}),e=e.replace(/\[.(#[A-Z]*[?!])\]/g,"$1"),e.replace(/[;~]/g,",").replace(/\|/g,";")}function iee(e){var t="of:="+e.replace(Sj,"$1[.$2$3$4$5]").replace(/\]:\[/g,":");return t.replace(/;/g,"|").replace(/,/g,";")}function zw(e){var t=e.split(":"),r=t[0].split(".")[0];return[r,t[0].split(".")[1]+(t.length>1?":"+(t[1].split(".")[1]||t[1].split(".")[0]):"")]}function lee(e){return e.replace(/\./,"!")}var Px={},Im={},Lx=typeof Map<"u";function Ej(e,t,r){var n=0,a=e.length;if(r){if(Lx?r.has(t):Object.prototype.hasOwnProperty.call(r,t)){for(var s=Lx?r.get(t):r[t];n<s.length;++n)if(e[s[n]].t===t)return e.Count++,s[n]}}else for(;n<a;++n)if(e[n].t===t)return e.Count++,n;return e[a]={t},e.Count++,e.Unique++,r&&(Lx?(r.has(t)||r.set(t,[]),r.get(t).push(a)):(Object.prototype.hasOwnProperty.call(r,t)||(r[t]=[]),r[t].push(a))),a}function N2(e,t){var r={min:e+1,max:e+1},n=-1;return t.MDW&&(Ei=t.MDW),t.width!=null?r.customWidth=1:t.wpx!=null?n=ag(t.wpx):t.wch!=null&&(n=t.wch),n>-1?(r.width=my(n),r.customWidth=1):t.width!=null&&(r.width=t.width),t.hidden&&(r.hidden=!0),t.level!=null&&(r.outlineLevel=r.level=t.level),r}function B0(e,t){if(e){var r=[.7,.7,.75,.75,.3,.3];t=="xlml"&&(r=[1,1,1,1,.5,.5]),e.left==null&&(e.left=r[0]),e.right==null&&(e.right=r[1]),e.top==null&&(e.top=r[2]),e.bottom==null&&(e.bottom=r[3]),e.header==null&&(e.header=r[4]),e.footer==null&&(e.footer=r[5])}}function qf(e,t,r){var n=r.revssf[t.z!=null?t.z:"General"],a=60,s=e.length;if(n==null&&r.ssf){for(;a<392;++a)if(r.ssf[a]==null){cd(t.z,a),r.ssf[a]=t.z,r.revssf[t.z]=n=a;break}}for(a=0;a!=s;++a)if(e[a].numFmtId===n)return a;return e[s]={numFmtId:n,fontId:0,fillId:0,borderId:0,xfId:0,applyNumberFormat:1},s}function QP(e,t,r,n,a,s){try{n.cellNF&&(e.z=ur[t])}catch(o){if(n.WTF)throw o}if(!(e.t==="z"&&!n.cellStyles)){if(e.t==="d"&&typeof e.v=="string"&&(e.v=na(e.v)),(!n||n.cellText!==!1)&&e.t!=="z")try{if(ur[t]==null&&cd(aK[t]||"General",t),e.t==="e")e.w=e.w||kd[e.v];else if(t===0)if(e.t==="n")(e.v|0)===e.v?e.w=e.v.toString(10):e.w=Qx(e.v);else if(e.t==="d"){var l=Es(e.v);(l|0)===l?e.w=l.toString(10):e.w=Qx(l)}else{if(e.v===void 0)return"";e.w=X0(e.v,Im)}else e.t==="d"?e.w=$o(t,Es(e.v),Im):e.w=$o(t,e.v,Im)}catch(o){if(n.WTF)throw o}if(n.cellStyles&&r!=null)try{e.s=s.Fills[r],e.s.fgColor&&e.s.fgColor.theme&&!e.s.fgColor.rgb&&(e.s.fgColor.rgb=hy(a.themeElements.clrScheme[e.s.fgColor.theme].rgb,e.s.fgColor.tint||0),n.WTF&&(e.s.fgColor.raw_rgb=a.themeElements.clrScheme[e.s.fgColor.theme].rgb)),e.s.bgColor&&e.s.bgColor.theme&&(e.s.bgColor.rgb=hy(a.themeElements.clrScheme[e.s.bgColor.theme].rgb,e.s.bgColor.tint||0),n.WTF&&(e.s.bgColor.raw_rgb=a.themeElements.clrScheme[e.s.bgColor.theme].rgb))}catch(o){if(n.WTF&&s.Fills)throw o}}}function oee(e,t,r){if(e&&e["!ref"]){var n=nn(e["!ref"]);if(n.e.c<n.s.c||n.e.r<n.s.r)throw new Error("Bad range ("+r+"): "+e["!ref"])}}function cee(e,t){var r=nn(t);r.s.r<=r.e.r&&r.s.c<=r.e.c&&r.s.r>=0&&r.s.c>=0&&(e["!ref"]=Nr(r))}var uee=/<(?:\w:)?mergeCell ref="[A-Z0-9:]+"\s*[\/]?>/g,dee=/<(?:\w+:)?sheetData[^>]*>([\s\S]*)<\/(?:\w+:)?sheetData>/,fee=/<(?:\w:)?hyperlink [^>]*>/mg,hee=/"(\w*:\w*)"/,mee=/<(?:\w:)?col\b[^>]*[\/]?>/g,pee=/<(?:\w:)?autoFilter[^>]*([\/]|>([\s\S]*)<\/(?:\w:)?autoFilter)>/g,xee=/<(?:\w:)?pageMargins[^>]*\/>/g,ZP=/<(?:\w:)?sheetPr\b(?:[^>a-z][^>]*)?\/>/,gee=/<(?:\w:)?sheetPr[^>]*(?:[\/]|>([\s\S]*)<\/(?:\w:)?sheetPr)>/,vee=/<(?:\w:)?sheetViews[^>]*(?:[\/]|>([\s\S]*)<\/(?:\w:)?sheetViews)>/;function yee(e,t,r,n,a,s,l){if(!e)return e;n||(n={"!id":{}});var o=t.dense?[]:{},u={s:{r:2e6,c:2e6},e:{r:0,c:0}},d="",h="",m=e.match(dee);m?(d=e.slice(0,m.index),h=e.slice(m.index+m[0].length)):d=h=e;var g=d.match(ZP);g?Cj(g[0],o,a,r):(g=d.match(gee))&&wee(g[0],g[1]||"",o,a,r);var x=(d.match(/<(?:\w*:)?dimension/)||{index:-1}).index;if(x>0){var b=d.slice(x,x+50).match(hee);b&&cee(o,b[1])}var v=d.match(vee);v&&v[1]&&Pee(v[1],a);var w=[];if(t.cellStyles){var N=d.match(mee);N&&Cee(w,N)}m&&Ree(m[1],o,t,u,s,l);var E=h.match(pee);E&&(o["!autofilter"]=Oee(E[0]));var j=[],T=h.match(uee);if(T)for(x=0;x!=T.length;++x)j[x]=nn(T[x].slice(T[x].indexOf('"')+1));var O=h.match(fee);O&&Aee(o,O,n);var D=h.match(xee);if(D&&(o["!margins"]=kee(hr(D[0]))),!o["!ref"]&&u.e.c>=u.s.c&&u.e.r>=u.s.r&&(o["!ref"]=Nr(u)),t.sheetRows>0&&o["!ref"]){var C=nn(o["!ref"]);t.sheetRows<=+C.e.r&&(C.e.r=t.sheetRows-1,C.e.r>u.e.r&&(C.e.r=u.e.r),C.e.r<C.s.r&&(C.s.r=C.e.r),C.e.c>u.e.c&&(C.e.c=u.e.c),C.e.c<C.s.c&&(C.s.c=C.e.c),o["!fullref"]=o["!ref"],o["!ref"]=Nr(C))}return w.length>0&&(o["!cols"]=w),j.length>0&&(o["!merges"]=j),o}function bee(e){if(e.length===0)return"";for(var t='<mergeCells count="'+e.length+'">',r=0;r!=e.length;++r)t+='<mergeCell ref="'+Nr(e[r])+'"/>';return t+"</mergeCells>"}function Cj(e,t,r,n){var a=hr(e);r.Sheets[n]||(r.Sheets[n]={}),a.codeName&&(r.Sheets[n].CodeName=rn(Rn(a.codeName)))}function wee(e,t,r,n,a){Cj(e.slice(0,e.indexOf(">")),r,n,a)}function Nee(e,t,r,n,a){var s=!1,l={},o=null;if(n.bookType!=="xlsx"&&t.vbaraw){var u=t.SheetNames[r];try{t.Workbook&&(u=t.Workbook.Sheets[r].CodeName||u)}catch{}s=!0,l.codeName=cu(Sn(u))}if(e&&e["!outline"]){var d={summaryBelow:1,summaryRight:1};e["!outline"].above&&(d.summaryBelow=0),e["!outline"].left&&(d.summaryRight=0),o=(o||"")+Nt("outlinePr",null,d)}!s&&!o||(a[a.length]=Nt("sheetPr",o,l))}var _ee=["objects","scenarios","selectLockedCells","selectUnlockedCells"],jee=["formatColumns","formatRows","formatCells","insertColumns","insertRows","insertHyperlinks","deleteColumns","deleteRows","sort","autoFilter","pivotTables"];function See(e){var t={sheet:1};return _ee.forEach(function(r){e[r]!=null&&e[r]&&(t[r]="1")}),jee.forEach(function(r){e[r]!=null&&!e[r]&&(t[r]="0")}),e.password&&(t.password=Nj(e.password).toString(16).toUpperCase()),Nt("sheetProtection",null,t)}function Aee(e,t,r){for(var n=Array.isArray(e),a=0;a!=t.length;++a){var s=hr(Rn(t[a]),!0);if(!s.ref)return;var l=((r||{})["!id"]||[])[s.id];l?(s.Target=l.Target,s.location&&(s.Target+="#"+rn(s.location))):(s.Target="#"+rn(s.location),l={Target:s.Target,TargetMode:"Internal"}),s.Rel=l,s.tooltip&&(s.Tooltip=s.tooltip,delete s.tooltip);for(var o=nn(s.ref),u=o.s.r;u<=o.e.r;++u)for(var d=o.s.c;d<=o.e.c;++d){var h=dr({c:d,r:u});n?(e[u]||(e[u]=[]),e[u][d]||(e[u][d]={t:"z",v:void 0}),e[u][d].l=s):(e[h]||(e[h]={t:"z",v:void 0}),e[h].l=s)}}}function kee(e){var t={};return["left","right","top","bottom","header","footer"].forEach(function(r){e[r]&&(t[r]=parseFloat(e[r]))}),t}function Eee(e){return B0(e),Nt("pageMargins",null,e)}function Cee(e,t){for(var r=!1,n=0;n!=t.length;++n){var a=hr(t[n],!0);a.hidden&&(a.hidden=ea(a.hidden));var s=parseInt(a.min,10)-1,l=parseInt(a.max,10)-1;for(a.outlineLevel&&(a.level=+a.outlineLevel||0),delete a.min,delete a.max,a.width=+a.width,!r&&a.width&&(r=!0,_j(a.width)),Tf(a);s<=l;)e[s++]=aa(a)}}function Tee(e,t){for(var r=["<cols>"],n,a=0;a!=t.length;++a)(n=t[a])&&(r[r.length]=Nt("col",null,N2(a,n)));return r[r.length]="</cols>",r.join("")}function Oee(e){var t={ref:(e.match(/ref="([^"]*)"/)||[])[1]};return t}function Fee(e,t,r,n){var a=typeof e.ref=="string"?e.ref:Nr(e.ref);r.Workbook||(r.Workbook={Sheets:[]}),r.Workbook.Names||(r.Workbook.Names=[]);var s=r.Workbook.Names,l=Tl(a);l.s.r==l.e.r&&(l.e.r=Tl(t["!ref"]).e.r,a=Nr(l));for(var o=0;o<s.length;++o){var u=s[o];if(u.Name=="_xlnm._FilterDatabase"&&u.Sheet==n){u.Ref="'"+r.SheetNames[n]+"'!"+a;break}}return o==s.length&&s.push({Name:"_xlnm._FilterDatabase",Sheet:n,Ref:"'"+r.SheetNames[n]+"'!"+a}),Nt("autoFilter",null,{ref:a})}var Dee=/<(?:\w:)?sheetView(?:[^>a-z][^>]*)?\/?>/;function Pee(e,t){t.Views||(t.Views=[{}]),(e.match(Dee)||[]).forEach(function(r,n){var a=hr(r);t.Views[n]||(t.Views[n]={}),+a.zoomScale&&(t.Views[n].zoom=+a.zoomScale),ea(a.rightToLeft)&&(t.Views[n].RTL=!0)})}function Lee(e,t,r,n){var a={workbookViewId:"0"};return(((n||{}).Workbook||{}).Views||[])[0]&&(a.rightToLeft=n.Workbook.Views[0].RTL?"1":"0"),Nt("sheetViews",Nt("sheetView",null,a),{})}function Mee(e,t,r,n){if(e.c&&r["!comments"].push([t,e.c]),e.v===void 0&&typeof e.f!="string"||e.t==="z"&&!e.f)return"";var a="",s=e.t,l=e.v;if(e.t!=="z")switch(e.t){case"b":a=e.v?"1":"0";break;case"n":a=""+e.v;break;case"e":a=kd[e.v];break;case"d":n&&n.cellDates?a=na(e.v,-1).toISOString():(e=aa(e),e.t="n",a=""+(e.v=Es(na(e.v)))),typeof e.z>"u"&&(e.z=ur[14]);break;default:a=e.v;break}var o=di("v",Sn(a)),u={r:t},d=qf(n.cellXfs,e,n);switch(d!==0&&(u.s=d),e.t){case"n":break;case"d":u.t="d";break;case"b":u.t="b";break;case"e":u.t="e";break;case"z":break;default:if(e.v==null){delete e.t;break}if(e.v.length>32767)throw new Error("Text length must not exceed 32767 characters");if(n&&n.bookSST){o=di("v",""+Ej(n.Strings,e.v,n.revStrings)),u.t="s";break}u.t="str";break}if(e.t!=s&&(e.t=s,e.v=l),typeof e.f=="string"&&e.f){var h=e.F&&e.F.slice(0,t.length)==t?{t:"array",ref:e.F}:null;o=Nt("f",Sn(e.f),h)+(e.v!=null?o:"")}return e.l&&r["!links"].push([t,e.l]),e.D&&(u.cm=1),Nt("c",o,u)}var Ree=(function(){var e=/<(?:\w+:)?c[ \/>]/,t=/<\/(?:\w+:)?row>/,r=/r=["']([^"']*)["']/,n=/<(?:\w+:)?is>([\S\s]*?)<\/(?:\w+:)?is>/,a=/ref=["']([^"']*)["']/,s=Zx("v"),l=Zx("f");return function(u,d,h,m,g,x){for(var b=0,v="",w=[],N=[],E=0,j=0,T=0,O="",D,C,P=0,B=0,H,L,U=0,V=0,Y=Array.isArray(x.CellXf),de,te=[],ie=[],ge=Array.isArray(d),oe=[],Se={},ne=!1,M=!!h.sheetStubs,R=u.split(t),q=0,K=R.length;q!=K;++q){v=R[q].trim();var ee=v.length;if(ee!==0){var ce=0;e:for(b=0;b<ee;++b)switch(v[b]){case">":if(v[b-1]!="/"){++b;break e}if(h&&h.cellStyles){if(C=hr(v.slice(ce,b),!0),P=C.r!=null?parseInt(C.r,10):P+1,B=-1,h.sheetRows&&h.sheetRows<P)continue;Se={},ne=!1,C.ht&&(ne=!0,Se.hpt=parseFloat(C.ht),Se.hpx=Xm(Se.hpt)),C.hidden=="1"&&(ne=!0,Se.hidden=!0),C.outlineLevel!=null&&(ne=!0,Se.level=+C.outlineLevel),ne&&(oe[P-1]=Se)}break;case"<":ce=b;break}if(ce>=b)break;if(C=hr(v.slice(ce,b),!0),P=C.r!=null?parseInt(C.r,10):P+1,B=-1,!(h.sheetRows&&h.sheetRows<P)){m.s.r>P-1&&(m.s.r=P-1),m.e.r<P-1&&(m.e.r=P-1),h&&h.cellStyles&&(Se={},ne=!1,C.ht&&(ne=!0,Se.hpt=parseFloat(C.ht),Se.hpx=Xm(Se.hpt)),C.hidden=="1"&&(ne=!0,Se.hidden=!0),C.outlineLevel!=null&&(ne=!0,Se.level=+C.outlineLevel),ne&&(oe[P-1]=Se)),w=v.slice(b).split(e);for(var Q=0;Q!=w.length&&w[Q].trim().charAt(0)=="<";++Q);for(w=w.slice(Q),b=0;b!=w.length;++b)if(v=w[b].trim(),v.length!==0){if(N=v.match(r),E=b,j=0,T=0,v="<c "+(v.slice(0,1)=="<"?">":"")+v,N!=null&&N.length===2){for(E=0,O=N[1],j=0;j!=O.length&&!((T=O.charCodeAt(j)-64)<1||T>26);++j)E=26*E+T;--E,B=E}else++B;for(j=0;j!=v.length&&v.charCodeAt(j)!==62;++j);if(++j,C=hr(v.slice(0,j),!0),C.r||(C.r=dr({r:P-1,c:B})),O=v.slice(j),D={t:""},(N=O.match(s))!=null&&N[1]!==""&&(D.v=rn(N[1])),h.cellFormula){if((N=O.match(l))!=null&&N[1]!==""){if(D.f=rn(Rn(N[1])).replace(/\r\n/g,`
`),h.xlfn||(D.f=LE(D.f)),N[0].indexOf('t="array"')>-1)D.F=(O.match(a)||[])[1],D.F.indexOf(":")>-1&&te.push([nn(D.F),D.F]);else if(N[0].indexOf('t="shared"')>-1){L=hr(N[0]);var re=rn(Rn(N[1]));h.xlfn||(re=LE(re)),ie[parseInt(L.si,10)]=[L,re,C.r]}}else(N=O.match(/<f[^>]*\/>/))&&(L=hr(N[0]),ie[L.si]&&(D.f=DZ(ie[L.si][1],ie[L.si][2],C.r)));var ye=Sa(C.r);for(j=0;j<te.length;++j)ye.r>=te[j][0].s.r&&ye.r<=te[j][0].e.r&&ye.c>=te[j][0].s.c&&ye.c<=te[j][0].e.c&&(D.F=te[j][1])}if(C.t==null&&D.v===void 0)if(D.f||D.F)D.v=0,D.t="n";else if(M)D.t="z";else continue;else D.t=C.t||"n";switch(m.s.c>B&&(m.s.c=B),m.e.c<B&&(m.e.c=B),D.t){case"n":if(D.v==""||D.v==null){if(!M)continue;D.t="z"}else D.v=parseFloat(D.v);break;case"s":if(typeof D.v>"u"){if(!M)continue;D.t="z"}else H=Px[parseInt(D.v,10)],D.v=H.t,D.r=H.r,h.cellHTML&&(D.h=H.h);break;case"str":D.t="s",D.v=D.v!=null?Rn(D.v):"",h.cellHTML&&(D.h=lj(D.v));break;case"inlineStr":N=O.match(n),D.t="s",N!=null&&(H=wj(N[1]))?(D.v=H.t,h.cellHTML&&(D.h=H.h)):D.v="";break;case"b":D.v=ea(D.v);break;case"d":h.cellDates?D.v=na(D.v,1):(D.v=Es(na(D.v,1)),D.t="n");break;case"e":(!h||h.cellText!==!1)&&(D.w=D.v),D.v=eP[D.v];break}if(U=V=0,de=null,Y&&C.s!==void 0&&(de=x.CellXf[C.s],de!=null&&(de.numFmtId!=null&&(U=de.numFmtId),h.cellStyles&&de.fillId!=null&&(V=de.fillId))),QP(D,U,V,h,g,x),h.cellDates&&Y&&D.t=="n"&&up(ur[U])&&(D.t="d",D.v=v2(D.v)),C.cm&&h.xlmeta){var Ee=(h.xlmeta.Cell||[])[+C.cm-1];Ee&&Ee.type=="XLDAPR"&&(D.D=!0)}if(ge){var X=Sa(C.r);d[X.r]||(d[X.r]=[]),d[X.r][X.c]=D}else d[C.r]=D}}}}oe.length>0&&(d["!rows"]=oe)}})();function Iee(e,t,r,n){var a=[],s=[],l=nn(e["!ref"]),o="",u,d="",h=[],m=0,g=0,x=e["!rows"],b=Array.isArray(e),v={r:d},w,N=-1;for(g=l.s.c;g<=l.e.c;++g)h[g]=ja(g);for(m=l.s.r;m<=l.e.r;++m){for(s=[],d=Ja(m),g=l.s.c;g<=l.e.c;++g){u=h[g]+d;var E=b?(e[m]||[])[g]:e[u];E!==void 0&&(o=Mee(E,u,e,t))!=null&&s.push(o)}(s.length>0||x&&x[m])&&(v={r:d},x&&x[m]&&(w=x[m],w.hidden&&(v.hidden=1),N=-1,w.hpx?N=sg(w.hpx):w.hpt&&(N=w.hpt),N>-1&&(v.ht=N,v.customHeight=1),w.level&&(v.outlineLevel=w.level)),a[a.length]=Nt("row",s.join(""),v))}if(x)for(;m<x.length;++m)x&&x[m]&&(v={r:m+1},w=x[m],w.hidden&&(v.hidden=1),N=-1,w.hpx?N=sg(w.hpx):w.hpt&&(N=w.hpt),N>-1&&(v.ht=N,v.customHeight=1),w.level&&(v.outlineLevel=w.level),a[a.length]=Nt("row","",v));return a.join("")}function JP(e,t,r,n){var a=[es,Nt("worksheet",null,{xmlns:ph[0],"xmlns:r":ks.r})],s=r.SheetNames[e],l=0,o="",u=r.Sheets[s];u==null&&(u={});var d=u["!ref"]||"A1",h=nn(d);if(h.e.c>16383||h.e.r>1048575){if(t.WTF)throw new Error("Range "+d+" exceeds format limit A1:XFD1048576");h.e.c=Math.min(h.e.c,16383),h.e.r=Math.min(h.e.c,1048575),d=Nr(h)}n||(n={}),u["!comments"]=[];var m=[];Nee(u,r,e,t,a),a[a.length]=Nt("dimension",null,{ref:d}),a[a.length]=Lee(u,t,e,r),t.sheetFormat&&(a[a.length]=Nt("sheetFormatPr",null,{defaultRowHeight:t.sheetFormat.defaultRowHeight||"16",baseColWidth:t.sheetFormat.baseColWidth||"10",outlineLevelRow:t.sheetFormat.outlineLevelRow||"7"})),u["!cols"]!=null&&u["!cols"].length>0&&(a[a.length]=Tee(u,u["!cols"])),a[l=a.length]="<sheetData/>",u["!links"]=[],u["!ref"]!=null&&(o=Iee(u,t),o.length>0&&(a[a.length]=o)),a.length>l+1&&(a[a.length]="</sheetData>",a[l]=a[l].replace("/>",">")),u["!protect"]&&(a[a.length]=See(u["!protect"])),u["!autofilter"]!=null&&(a[a.length]=Fee(u["!autofilter"],u,r,e)),u["!merges"]!=null&&u["!merges"].length>0&&(a[a.length]=bee(u["!merges"]));var g=-1,x,b=-1;return u["!links"].length>0&&(a[a.length]="<hyperlinks>",u["!links"].forEach(function(v){v[1].Target&&(x={ref:v[0]},v[1].Target.charAt(0)!="#"&&(b=Nn(n,-1,Sn(v[1].Target).replace(/#.*$/,""),Pr.HLINK),x["r:id"]="rId"+b),(g=v[1].Target.indexOf("#"))>-1&&(x.location=Sn(v[1].Target.slice(g+1))),v[1].Tooltip&&(x.tooltip=Sn(v[1].Tooltip)),a[a.length]=Nt("hyperlink",null,x))}),a[a.length]="</hyperlinks>"),delete u["!links"],u["!margins"]!=null&&(a[a.length]=Eee(u["!margins"])),(!t||t.ignoreEC||t.ignoreEC==null)&&(a[a.length]=di("ignoredErrors",Nt("ignoredError",null,{numberStoredAsText:1,sqref:d}))),m.length>0&&(b=Nn(n,-1,"../drawings/drawing"+(e+1)+".xml",Pr.DRAW),a[a.length]=Nt("drawing",null,{"r:id":"rId"+b}),u["!drawing"]=m),u["!comments"].length>0&&(b=Nn(n,-1,"../drawings/vmlDrawing"+(e+1)+".vml",Pr.VML),a[a.length]=Nt("legacyDrawing",null,{"r:id":"rId"+b}),u["!legacy"]=b),a.length>1&&(a[a.length]="</worksheet>",a[1]=a[1].replace("/>",">")),a.join("")}function Bee(e,t){var r={},n=e.l+t;r.r=e.read_shift(4),e.l+=4;var a=e.read_shift(2);e.l+=1;var s=e.read_shift(1);return e.l=n,s&7&&(r.level=s&7),s&16&&(r.hidden=!0),s&32&&(r.hpt=a/20),r}function Uee(e,t,r){var n=nt(145),a=(r["!rows"]||[])[e]||{};n.write_shift(4,e),n.write_shift(4,0);var s=320;a.hpx?s=sg(a.hpx)*20:a.hpt&&(s=a.hpt*20),n.write_shift(2,s),n.write_shift(1,0);var l=0;a.level&&(l|=a.level),a.hidden&&(l|=16),(a.hpx||a.hpt)&&(l|=32),n.write_shift(1,l),n.write_shift(1,0);var o=0,u=n.l;n.l+=4;for(var d={r:e,c:0},h=0;h<16;++h)if(!(t.s.c>h+1<<10||t.e.c<h<<10)){for(var m=-1,g=-1,x=h<<10;x<h+1<<10;++x){d.c=x;var b=Array.isArray(r)?(r[d.r]||[])[d.c]:r[dr(d)];b&&(m<0&&(m=x),g=x)}m<0||(++o,n.write_shift(4,m),n.write_shift(4,g))}var v=n.l;return n.l=u,n.write_shift(4,o),n.l=v,n.length>n.l?n.slice(0,n.l):n}function zee(e,t,r,n){var a=Uee(n,r,t);(a.length>17||(t["!rows"]||[])[n])&&mt(e,0,a)}var qee=yh,$ee=hp;function Hee(){}function Vee(e,t){var r={},n=e[e.l];return++e.l,r.above=!(n&64),r.left=!(n&128),e.l+=18,r.name=GK(e),r}function Wee(e,t,r){r==null&&(r=nt(84+4*e.length));var n=192;t&&(t.above&&(n&=-65),t.left&&(n&=-129)),r.write_shift(1,n);for(var a=1;a<3;++a)r.write_shift(1,0);return uy({auto:1},r),r.write_shift(-4,-1),r.write_shift(-4,-1),YD(e,r),r.slice(0,r.l)}function Kee(e){var t=Go(e);return[t]}function Gee(e,t,r){return r==null&&(r=nt(8)),xh(t,r)}function Yee(e){var t=gh(e);return[t]}function Xee(e,t,r){return r==null&&(r=nt(4)),vh(t,r)}function Qee(e){var t=Go(e),r=e.read_shift(1);return[t,r,"b"]}function Zee(e,t,r){return r==null&&(r=nt(9)),xh(t,r),r.write_shift(1,e.v?1:0),r}function Jee(e){var t=gh(e),r=e.read_shift(1);return[t,r,"b"]}function ete(e,t,r){return r==null&&(r=nt(5)),vh(t,r),r.write_shift(1,e.v?1:0),r}function tte(e){var t=Go(e),r=e.read_shift(1);return[t,r,"e"]}function rte(e,t,r){return r==null&&(r=nt(9)),xh(t,r),r.write_shift(1,e.v),r}function nte(e){var t=gh(e),r=e.read_shift(1);return[t,r,"e"]}function ate(e,t,r){return r==null&&(r=nt(8)),vh(t,r),r.write_shift(1,e.v),r.write_shift(2,0),r.write_shift(1,0),r}function ste(e){var t=Go(e),r=e.read_shift(4);return[t,r,"s"]}function ite(e,t,r){return r==null&&(r=nt(12)),xh(t,r),r.write_shift(4,t.v),r}function lte(e){var t=gh(e),r=e.read_shift(4);return[t,r,"s"]}function ote(e,t,r){return r==null&&(r=nt(8)),vh(t,r),r.write_shift(4,t.v),r}function cte(e){var t=Go(e),r=Ti(e);return[t,r,"n"]}function ute(e,t,r){return r==null&&(r=nt(16)),xh(t,r),Z0(e.v,r),r}function eL(e){var t=gh(e),r=Ti(e);return[t,r,"n"]}function dte(e,t,r){return r==null&&(r=nt(12)),vh(t,r),Z0(e.v,r),r}function fte(e){var t=Go(e),r=xj(e);return[t,r,"n"]}function hte(e,t,r){return r==null&&(r=nt(12)),xh(t,r),XD(e.v,r),r}function mte(e){var t=gh(e),r=xj(e);return[t,r,"n"]}function pte(e,t,r){return r==null&&(r=nt(8)),vh(t,r),XD(e.v,r),r}function xte(e){var t=Go(e),r=hj(e);return[t,r,"is"]}function gte(e){var t=Go(e),r=Di(e);return[t,r,"str"]}function vte(e,t,r){return r==null&&(r=nt(12+4*e.v.length)),xh(t,r),Ws(e.v,r),r.length>r.l?r.slice(0,r.l):r}function yte(e){var t=gh(e),r=Di(e);return[t,r,"str"]}function bte(e,t,r){return r==null&&(r=nt(8+4*e.v.length)),vh(t,r),Ws(e.v,r),r.length>r.l?r.slice(0,r.l):r}function wte(e,t,r){var n=e.l+t,a=Go(e);a.r=r["!row"];var s=e.read_shift(1),l=[a,s,"b"];if(r.cellFormula){e.l+=2;var o=w2(e,n-e.l,r);l[3]=ki(o,null,a,r.supbooks,r)}else e.l=n;return l}function Nte(e,t,r){var n=e.l+t,a=Go(e);a.r=r["!row"];var s=e.read_shift(1),l=[a,s,"e"];if(r.cellFormula){e.l+=2;var o=w2(e,n-e.l,r);l[3]=ki(o,null,a,r.supbooks,r)}else e.l=n;return l}function _te(e,t,r){var n=e.l+t,a=Go(e);a.r=r["!row"];var s=Ti(e),l=[a,s,"n"];if(r.cellFormula){e.l+=2;var o=w2(e,n-e.l,r);l[3]=ki(o,null,a,r.supbooks,r)}else e.l=n;return l}function jte(e,t,r){var n=e.l+t,a=Go(e);a.r=r["!row"];var s=Di(e),l=[a,s,"str"];if(r.cellFormula){e.l+=2;var o=w2(e,n-e.l,r);l[3]=ki(o,null,a,r.supbooks,r)}else e.l=n;return l}var Ste=yh,Ate=hp;function kte(e,t){return t==null&&(t=nt(4)),t.write_shift(4,e),t}function Ete(e,t){var r=e.l+t,n=yh(e),a=mj(e),s=Di(e),l=Di(e),o=Di(e);e.l=r;var u={rfx:n,relId:a,loc:s,display:o};return l&&(u.Tooltip=l),u}function Cte(e,t){var r=nt(50+4*(e[1].Target.length+(e[1].Tooltip||"").length));hp({s:Sa(e[0]),e:Sa(e[0])},r),pj("rId"+t,r);var n=e[1].Target.indexOf("#"),a=n==-1?"":e[1].Target.slice(n+1);return Ws(a||"",r),Ws(e[1].Tooltip||"",r),Ws("",r),r.slice(0,r.l)}function Tte(){}function Ote(e,t,r){var n=e.l+t,a=QD(e),s=e.read_shift(1),l=[a];if(l[2]=s,r.cellFormula){var o=tee(e,n-e.l,r);l[1]=o}else e.l=n;return l}function Fte(e,t,r){var n=e.l+t,a=yh(e),s=[a];if(r.cellFormula){var l=nee(e,n-e.l,r);s[1]=l,e.l=n}else e.l=n;return s}function Dte(e,t,r){r==null&&(r=nt(18));var n=N2(e,t);r.write_shift(-4,e),r.write_shift(-4,e),r.write_shift(4,(n.width||10)*256),r.write_shift(4,0);var a=0;return t.hidden&&(a|=1),typeof n.width=="number"&&(a|=2),t.level&&(a|=t.level<<8),r.write_shift(2,a),r}var tL=["left","right","top","bottom","header","footer"];function Pte(e){var t={};return tL.forEach(function(r){t[r]=Ti(e)}),t}function Lte(e,t){return t==null&&(t=nt(48)),B0(e),tL.forEach(function(r){Z0(e[r],t)}),t}function Mte(e){var t=e.read_shift(2);return e.l+=28,{RTL:t&32}}function Rte(e,t,r){r==null&&(r=nt(30));var n=924;return(((t||{}).Views||[])[0]||{}).RTL&&(n|=32),r.write_shift(2,n),r.write_shift(4,0),r.write_shift(4,0),r.write_shift(4,0),r.write_shift(1,0),r.write_shift(1,0),r.write_shift(2,0),r.write_shift(2,100),r.write_shift(2,0),r.write_shift(2,0),r.write_shift(2,0),r.write_shift(4,0),r}function Ite(e){var t=nt(24);return t.write_shift(4,4),t.write_shift(4,1),hp(e,t),t}function Bte(e,t){return t==null&&(t=nt(66)),t.write_shift(2,e.password?Nj(e.password):0),t.write_shift(4,1),[["objects",!1],["scenarios",!1],["formatCells",!0],["formatColumns",!0],["formatRows",!0],["insertColumns",!0],["insertRows",!0],["insertHyperlinks",!0],["deleteColumns",!0],["deleteRows",!0],["selectLockedCells",!1],["sort",!0],["autoFilter",!0],["pivotTables",!0],["selectUnlockedCells",!1]].forEach(function(r){r[1]?t.write_shift(4,e[r[0]]!=null&&!e[r[0]]?1:0):t.write_shift(4,e[r[0]]!=null&&e[r[0]]?0:1)}),t}function Ute(){}function zte(){}function qte(e,t,r,n,a,s,l){if(!e)return e;var o=t||{};n||(n={"!id":{}});var u=o.dense?[]:{},d,h={s:{r:2e6,c:2e6},e:{r:0,c:0}},m=!1,g=!1,x,b,v,w,N,E,j,T,O,D=[];o.biff=12,o["!row"]=0;var C=0,P=!1,B=[],H={},L=o.supbooks||a.supbooks||[[]];if(L.sharedf=H,L.arrayf=B,L.SheetNames=a.SheetNames||a.Sheets.map(function(ge){return ge.name}),!o.supbooks&&(o.supbooks=L,a.Names))for(var U=0;U<a.Names.length;++U)L[0][U+1]=a.Names[U];var V=[],Y=[],de=!1;ig[16]={n:"BrtShortReal",f:eL};var te;if(Ad(e,function(oe,Se,ne){if(!g)switch(ne){case 148:d=oe;break;case 0:x=oe,o.sheetRows&&o.sheetRows<=x.r&&(g=!0),T=Ja(w=x.r),o["!row"]=x.r,(oe.hidden||oe.hpt||oe.level!=null)&&(oe.hpt&&(oe.hpx=Xm(oe.hpt)),Y[oe.r]=oe);break;case 2:case 3:case 4:case 5:case 6:case 7:case 8:case 9:case 10:case 11:case 13:case 14:case 15:case 16:case 17:case 18:case 62:switch(b={t:oe[2]},oe[2]){case"n":b.v=oe[1];break;case"s":j=Px[oe[1]],b.v=j.t,b.r=j.r;break;case"b":b.v=!!oe[1];break;case"e":b.v=oe[1],o.cellText!==!1&&(b.w=kd[b.v]);break;case"str":b.t="s",b.v=oe[1];break;case"is":b.t="s",b.v=oe[1].t;break}if((v=l.CellXf[oe[0].iStyleRef])&&QP(b,v.numFmtId,null,o,s,l),N=oe[0].c==-1?N+1:oe[0].c,o.dense?(u[w]||(u[w]=[]),u[w][N]=b):u[ja(N)+T]=b,o.cellFormula){for(P=!1,C=0;C<B.length;++C){var M=B[C];x.r>=M[0].s.r&&x.r<=M[0].e.r&&N>=M[0].s.c&&N<=M[0].e.c&&(b.F=Nr(M[0]),P=!0)}!P&&oe.length>3&&(b.f=oe[3])}if(h.s.r>x.r&&(h.s.r=x.r),h.s.c>N&&(h.s.c=N),h.e.r<x.r&&(h.e.r=x.r),h.e.c<N&&(h.e.c=N),o.cellDates&&v&&b.t=="n"&&up(ur[v.numFmtId])){var R=O0(b.v);R&&(b.t="d",b.v=new Date(R.y,R.m-1,R.d,R.H,R.M,R.S,R.u))}te&&(te.type=="XLDAPR"&&(b.D=!0),te=void 0);break;case 1:case 12:if(!o.sheetStubs||m)break;b={t:"z",v:void 0},N=oe[0].c==-1?N+1:oe[0].c,o.dense?(u[w]||(u[w]=[]),u[w][N]=b):u[ja(N)+T]=b,h.s.r>x.r&&(h.s.r=x.r),h.s.c>N&&(h.s.c=N),h.e.r<x.r&&(h.e.r=x.r),h.e.c<N&&(h.e.c=N),te&&(te.type=="XLDAPR"&&(b.D=!0),te=void 0);break;case 176:D.push(oe);break;case 49:te=((o.xlmeta||{}).Cell||[])[oe-1];break;case 494:var q=n["!id"][oe.relId];for(q?(oe.Target=q.Target,oe.loc&&(oe.Target+="#"+oe.loc),oe.Rel=q):oe.relId==""&&(oe.Target="#"+oe.loc),w=oe.rfx.s.r;w<=oe.rfx.e.r;++w)for(N=oe.rfx.s.c;N<=oe.rfx.e.c;++N)o.dense?(u[w]||(u[w]=[]),u[w][N]||(u[w][N]={t:"z",v:void 0}),u[w][N].l=oe):(E=dr({c:N,r:w}),u[E]||(u[E]={t:"z",v:void 0}),u[E].l=oe);break;case 426:if(!o.cellFormula)break;B.push(oe),O=o.dense?u[w][N]:u[ja(N)+T],O.f=ki(oe[1],h,{r:x.r,c:N},L,o),O.F=Nr(oe[0]);break;case 427:if(!o.cellFormula)break;H[dr(oe[0].s)]=oe[1],O=o.dense?u[w][N]:u[ja(N)+T],O.f=ki(oe[1],h,{r:x.r,c:N},L,o);break;case 60:if(!o.cellStyles)break;for(;oe.e>=oe.s;)V[oe.e--]={width:oe.w/256,hidden:!!(oe.flags&1),level:oe.level},de||(de=!0,_j(oe.w/256)),Tf(V[oe.e+1]);break;case 161:u["!autofilter"]={ref:Nr(oe)};break;case 476:u["!margins"]=oe;break;case 147:a.Sheets[r]||(a.Sheets[r]={}),oe.name&&(a.Sheets[r].CodeName=oe.name),(oe.above||oe.left)&&(u["!outline"]={above:oe.above,left:oe.left});break;case 137:a.Views||(a.Views=[{}]),a.Views[0]||(a.Views[0]={}),oe.RTL&&(a.Views[0].RTL=!0);break;case 485:break;case 64:case 1053:break;case 151:break;case 152:case 175:case 644:case 625:case 562:case 396:case 1112:case 1146:case 471:case 1050:case 649:case 1105:case 589:case 607:case 564:case 1055:case 168:case 174:case 1180:case 499:case 507:case 550:case 171:case 167:case 1177:case 169:case 1181:case 551:case 552:case 661:case 639:case 478:case 537:case 477:case 536:case 1103:case 680:case 1104:case 1024:case 663:case 535:case 678:case 504:case 1043:case 428:case 170:case 3072:case 50:case 2070:case 1045:break;case 35:m=!0;break;case 36:m=!1;break;case 37:m=!0;break;case 38:m=!1;break;default:if(!Se.T){if(!m||o.WTF)throw new Error("Unexpected record 0x"+ne.toString(16))}}},o),delete o.supbooks,delete o["!row"],!u["!ref"]&&(h.s.r<2e6||d&&(d.e.r>0||d.e.c>0||d.s.r>0||d.s.c>0))&&(u["!ref"]=Nr(d||h)),o.sheetRows&&u["!ref"]){var ie=nn(u["!ref"]);o.sheetRows<=+ie.e.r&&(ie.e.r=o.sheetRows-1,ie.e.r>h.e.r&&(ie.e.r=h.e.r),ie.e.r<ie.s.r&&(ie.s.r=ie.e.r),ie.e.c>h.e.c&&(ie.e.c=h.e.c),ie.e.c<ie.s.c&&(ie.s.c=ie.e.c),u["!fullref"]=u["!ref"],u["!ref"]=Nr(ie))}return D.length>0&&(u["!merges"]=D),V.length>0&&(u["!cols"]=V),Y.length>0&&(u["!rows"]=Y),u}function $te(e,t,r,n,a,s,l){if(t.v===void 0)return!1;var o="";switch(t.t){case"b":o=t.v?"1":"0";break;case"d":t=aa(t),t.z=t.z||ur[14],t.v=Es(na(t.v)),t.t="n";break;case"n":case"e":o=""+t.v;break;default:o=t.v;break}var u={r,c:n};switch(u.s=qf(a.cellXfs,t,a),t.l&&s["!links"].push([dr(u),t.l]),t.c&&s["!comments"].push([dr(u),t.c]),t.t){case"s":case"str":return a.bookSST?(o=Ej(a.Strings,t.v,a.revStrings),u.t="s",u.v=o,l?mt(e,18,ote(t,u)):mt(e,7,ite(t,u))):(u.t="str",l?mt(e,17,bte(t,u)):mt(e,6,vte(t,u))),!0;case"n":return t.v==(t.v|0)&&t.v>-1e3&&t.v<1e3?l?mt(e,13,pte(t,u)):mt(e,2,hte(t,u)):l?mt(e,16,dte(t,u)):mt(e,5,ute(t,u)),!0;case"b":return u.t="b",l?mt(e,15,ete(t,u)):mt(e,4,Zee(t,u)),!0;case"e":return u.t="e",l?mt(e,14,ate(t,u)):mt(e,3,rte(t,u)),!0}return l?mt(e,12,Xee(t,u)):mt(e,1,Gee(t,u)),!0}function Hte(e,t,r,n){var a=nn(t["!ref"]||"A1"),s,l="",o=[];mt(e,145);var u=Array.isArray(t),d=a.e.r;t["!rows"]&&(d=Math.max(a.e.r,t["!rows"].length-1));for(var h=a.s.r;h<=d;++h){l=Ja(h),zee(e,t,a,h);var m=!1;if(h<=a.e.r)for(var g=a.s.c;g<=a.e.c;++g){h===a.s.r&&(o[g]=ja(g)),s=o[g]+l;var x=u?(t[h]||[])[g]:t[s];if(!x){m=!1;continue}m=$te(e,x,h,g,n,t,m)}}mt(e,146)}function Vte(e,t){!t||!t["!merges"]||(mt(e,177,kte(t["!merges"].length)),t["!merges"].forEach(function(r){mt(e,176,Ate(r))}),mt(e,178))}function Wte(e,t){!t||!t["!cols"]||(mt(e,390),t["!cols"].forEach(function(r,n){r&&mt(e,60,Dte(n,r))}),mt(e,391))}function Kte(e,t){!t||!t["!ref"]||(mt(e,648),mt(e,649,Ite(nn(t["!ref"]))),mt(e,650))}function Gte(e,t,r){t["!links"].forEach(function(n){if(n[1].Target){var a=Nn(r,-1,n[1].Target.replace(/#.*$/,""),Pr.HLINK);mt(e,494,Cte(n,a))}}),delete t["!links"]}function Yte(e,t,r,n){if(t["!comments"].length>0){var a=Nn(n,-1,"../drawings/vmlDrawing"+(r+1)+".vml",Pr.VML);mt(e,551,pj("rId"+a)),t["!legacy"]=a}}function Xte(e,t,r,n){if(t["!autofilter"]){var a=t["!autofilter"],s=typeof a.ref=="string"?a.ref:Nr(a.ref);r.Workbook||(r.Workbook={Sheets:[]}),r.Workbook.Names||(r.Workbook.Names=[]);var l=r.Workbook.Names,o=Tl(s);o.s.r==o.e.r&&(o.e.r=Tl(t["!ref"]).e.r,s=Nr(o));for(var u=0;u<l.length;++u){var d=l[u];if(d.Name=="_xlnm._FilterDatabase"&&d.Sheet==n){d.Ref="'"+r.SheetNames[n]+"'!"+s;break}}u==l.length&&l.push({Name:"_xlnm._FilterDatabase",Sheet:n,Ref:"'"+r.SheetNames[n]+"'!"+s}),mt(e,161,hp(nn(s))),mt(e,162)}}function Qte(e,t,r){mt(e,133),mt(e,137,Rte(t,r)),mt(e,138),mt(e,134)}function Zte(e,t){t["!protect"]&&mt(e,535,Bte(t["!protect"]))}function Jte(e,t,r,n){var a=El(),s=r.SheetNames[e],l=r.Sheets[s]||{},o=s;try{r&&r.Workbook&&(o=r.Workbook.Sheets[e].CodeName||o)}catch{}var u=nn(l["!ref"]||"A1");if(u.e.c>16383||u.e.r>1048575){if(t.WTF)throw new Error("Range "+(l["!ref"]||"A1")+" exceeds format limit A1:XFD1048576");u.e.c=Math.min(u.e.c,16383),u.e.r=Math.min(u.e.c,1048575)}return l["!links"]=[],l["!comments"]=[],mt(a,129),(r.vbaraw||l["!outline"])&&mt(a,147,Wee(o,l["!outline"])),mt(a,148,$ee(u)),Qte(a,l,r.Workbook),Wte(a,l),Hte(a,l,e,t),Zte(a,l),Xte(a,l,r,e),Vte(a,l),Gte(a,l,n),l["!margins"]&&mt(a,476,Lte(l["!margins"])),(!t||t.ignoreEC||t.ignoreEC==null)&&Kte(a,l),Yte(a,l,e,n),mt(a,130),a.end()}function ere(e){var t=[],r=e.match(/^<c:numCache>/),n;(e.match(/<c:pt idx="(\d*)">(.*?)<\/c:pt>/mg)||[]).forEach(function(s){var l=s.match(/<c:pt idx="(\d*?)"><c:v>(.*)<\/c:v><\/c:pt>/);l&&(t[+l[1]]=r?+l[2]:l[2])});var a=rn((e.match(/<c:formatCode>([\s\S]*?)<\/c:formatCode>/)||["","General"])[1]);return(e.match(/<c:f>(.*?)<\/c:f>/mg)||[]).forEach(function(s){n=s.replace(/<.*?>/g,"")}),[t,a,n]}function tre(e,t,r,n,a,s){var l=s||{"!type":"chart"};if(!e)return s;var o=0,u=0,d="A",h={s:{r:2e6,c:2e6},e:{r:0,c:0}};return(e.match(/<c:numCache>[\s\S]*?<\/c:numCache>/gm)||[]).forEach(function(m){var g=ere(m);h.s.r=h.s.c=0,h.e.c=o,d=ja(o),g[0].forEach(function(x,b){l[d+Ja(b)]={t:"n",v:x,z:g[1]},u=b}),h.e.r<u&&(h.e.r=u),++o}),o>0&&(l["!ref"]=Nr(h)),l}function rre(e,t,r,n,a){if(!e)return e;n||(n={"!id":{}});var s={"!type":"chart","!drawel":null,"!rel":""},l,o=e.match(ZP);return o&&Cj(o[0],s,a,r),(l=e.match(/drawing r:id="(.*?)"/))&&(s["!rel"]=l[1]),n["!id"][s["!rel"]]&&(s["!drawel"]=n["!id"][s["!rel"]]),s}function nre(e,t){e.l+=10;var r=Di(e);return{name:r}}function are(e,t,r,n,a){if(!e)return e;n||(n={"!id":{}});var s={"!type":"chart","!drawel":null,"!rel":""},l=!1;return Ad(e,function(u,d,h){switch(h){case 550:s["!rel"]=u;break;case 651:a.Sheets[r]||(a.Sheets[r]={}),u.name&&(a.Sheets[r].CodeName=u.name);break;case 562:case 652:case 669:case 679:case 551:case 552:case 476:case 3072:break;case 35:l=!0;break;case 36:l=!1;break;case 37:break;case 38:break;default:if(!(d.T>0)){if(!(d.T<0)){if(!l||t.WTF)throw new Error("Unexpected record 0x"+h.toString(16))}}}},t),n["!id"][s["!rel"]]&&(s["!drawel"]=n["!id"][s["!rel"]]),s}var Tj=[["allowRefreshQuery",!1,"bool"],["autoCompressPictures",!0,"bool"],["backupFile",!1,"bool"],["checkCompatibility",!1,"bool"],["CodeName",""],["date1904",!1,"bool"],["defaultThemeVersion",0,"int"],["filterPrivacy",!1,"bool"],["hidePivotFieldList",!1,"bool"],["promptedSolutions",!1,"bool"],["publishItems",!1,"bool"],["refreshAllConnections",!1,"bool"],["saveExternalLinkValues",!0,"bool"],["showBorderUnselectedTables",!0,"bool"],["showInkAnnotation",!0,"bool"],["showObjects","all"],["showPivotChartFilter",!1,"bool"],["updateLinks","userSet"]],sre=[["activeTab",0,"int"],["autoFilterDateGrouping",!0,"bool"],["firstSheet",0,"int"],["minimized",!1,"bool"],["showHorizontalScroll",!0,"bool"],["showSheetTabs",!0,"bool"],["showVerticalScroll",!0,"bool"],["tabRatio",600,"int"],["visibility","visible"]],ire=[],lre=[["calcCompleted","true"],["calcMode","auto"],["calcOnSave","true"],["concurrentCalc","true"],["fullCalcOnLoad","false"],["fullPrecision","true"],["iterate","false"],["iterateCount","100"],["iterateDelta","0.001"],["refMode","A1"]];function UE(e,t){for(var r=0;r!=e.length;++r)for(var n=e[r],a=0;a!=t.length;++a){var s=t[a];if(n[s[0]]==null)n[s[0]]=s[1];else switch(s[2]){case"bool":typeof n[s[0]]=="string"&&(n[s[0]]=ea(n[s[0]]));break;case"int":typeof n[s[0]]=="string"&&(n[s[0]]=parseInt(n[s[0]],10));break}}}function zE(e,t){for(var r=0;r!=t.length;++r){var n=t[r];if(e[n[0]]==null)e[n[0]]=n[1];else switch(n[2]){case"bool":typeof e[n[0]]=="string"&&(e[n[0]]=ea(e[n[0]]));break;case"int":typeof e[n[0]]=="string"&&(e[n[0]]=parseInt(e[n[0]],10));break}}}function rL(e){zE(e.WBProps,Tj),zE(e.CalcPr,lre),UE(e.WBView,sre),UE(e.Sheets,ire),Im.date1904=ea(e.WBProps.date1904)}function ore(e){return!e.Workbook||!e.Workbook.WBProps?"false":ea(e.Workbook.WBProps.date1904)?"true":"false"}var cre="][*?/\\".split("");function nL(e,t){if(e.length>31)throw new Error("Sheet names cannot exceed 31 chars");var r=!0;return cre.forEach(function(n){if(e.indexOf(n)!=-1)throw new Error("Sheet name cannot contain : \\ / ? * [ ]")}),r}function ure(e,t,r){e.forEach(function(n,a){nL(n);for(var s=0;s<a;++s)if(n==e[s])throw new Error("Duplicate Sheet Name: "+n);if(r){var l=t&&t[a]&&t[a].CodeName||n;if(l.charCodeAt(0)==95&&l.length>22)throw new Error("Bad Code Name: Worksheet"+l)}})}function dre(e){if(!e||!e.SheetNames||!e.Sheets)throw new Error("Invalid Workbook");if(!e.SheetNames.length)throw new Error("Workbook is empty");var t=e.Workbook&&e.Workbook.Sheets||[];ure(e.SheetNames,t,!!e.vbaraw);for(var r=0;r<e.SheetNames.length;++r)oee(e.Sheets[e.SheetNames[r]],e.SheetNames[r],r)}var fre=/<\w+:workbook/;function hre(e,t){if(!e)throw new Error("Could not find file");var r={AppVersion:{},WBProps:{},WBView:[],Sheets:[],CalcPr:{},Names:[],xmlns:""},n=!1,a="xmlns",s={},l=0;if(e.replace(Ri,function(u,d){var h=hr(u);switch(gu(h[0])){case"<?xml":break;case"<workbook":u.match(fre)&&(a="xmlns"+u.match(/<(\w+):/)[1]),r.xmlns=h[a];break;case"</workbook>":break;case"<fileVersion":delete h[0],r.AppVersion=h;break;case"<fileVersion/>":case"</fileVersion>":break;case"<fileSharing":break;case"<fileSharing/>":break;case"<workbookPr":case"<workbookPr/>":Tj.forEach(function(m){if(h[m[0]]!=null)switch(m[2]){case"bool":r.WBProps[m[0]]=ea(h[m[0]]);break;case"int":r.WBProps[m[0]]=parseInt(h[m[0]],10);break;default:r.WBProps[m[0]]=h[m[0]]}}),h.codeName&&(r.WBProps.CodeName=Rn(h.codeName));break;case"</workbookPr>":break;case"<workbookProtection":break;case"<workbookProtection/>":break;case"<bookViews":case"<bookViews>":case"</bookViews>":break;case"<workbookView":case"<workbookView/>":delete h[0],r.WBView.push(h);break;case"</workbookView>":break;case"<sheets":case"<sheets>":case"</sheets>":break;case"<sheet":switch(h.state){case"hidden":h.Hidden=1;break;case"veryHidden":h.Hidden=2;break;default:h.Hidden=0}delete h.state,h.name=rn(Rn(h.name)),delete h[0],r.Sheets.push(h);break;case"</sheet>":break;case"<functionGroups":case"<functionGroups/>":break;case"<functionGroup":break;case"<externalReferences":case"</externalReferences>":case"<externalReferences>":break;case"<externalReference":break;case"<definedNames/>":break;case"<definedNames>":case"<definedNames":n=!0;break;case"</definedNames>":n=!1;break;case"<definedName":s={},s.Name=Rn(h.name),h.comment&&(s.Comment=h.comment),h.localSheetId&&(s.Sheet=+h.localSheetId),ea(h.hidden||"0")&&(s.Hidden=!0),l=d+u.length;break;case"</definedName>":s.Ref=rn(Rn(e.slice(l,d))),r.Names.push(s);break;case"<definedName/>":break;case"<calcPr":delete h[0],r.CalcPr=h;break;case"<calcPr/>":delete h[0],r.CalcPr=h;break;case"</calcPr>":break;case"<oleSize":break;case"<customWorkbookViews>":case"</customWorkbookViews>":case"<customWorkbookViews":break;case"<customWorkbookView":case"</customWorkbookView>":break;case"<pivotCaches>":case"</pivotCaches>":case"<pivotCaches":break;case"<pivotCache":break;case"<smartTagPr":case"<smartTagPr/>":break;case"<smartTagTypes":case"<smartTagTypes>":case"</smartTagTypes>":break;case"<smartTagType":break;case"<webPublishing":case"<webPublishing/>":break;case"<fileRecoveryPr":case"<fileRecoveryPr/>":break;case"<webPublishObjects>":case"<webPublishObjects":case"</webPublishObjects>":break;case"<webPublishObject":break;case"<extLst":case"<extLst>":case"</extLst>":case"<extLst/>":break;case"<ext":n=!0;break;case"</ext>":n=!1;break;case"<ArchID":break;case"<AlternateContent":case"<AlternateContent>":n=!0;break;case"</AlternateContent>":n=!1;break;case"<revisionPtr":break;default:if(!n&&t.WTF)throw new Error("unrecognized "+h[0]+" in workbook")}return u}),ph.indexOf(r.xmlns)===-1)throw new Error("Unknown Namespace: "+r.xmlns);return rL(r),r}function aL(e){var t=[es];t[t.length]=Nt("workbook",null,{xmlns:ph[0],"xmlns:r":ks.r});var r=e.Workbook&&(e.Workbook.Names||[]).length>0,n={codeName:"ThisWorkbook"};e.Workbook&&e.Workbook.WBProps&&(Tj.forEach(function(o){e.Workbook.WBProps[o[0]]!=null&&e.Workbook.WBProps[o[0]]!=o[1]&&(n[o[0]]=e.Workbook.WBProps[o[0]])}),e.Workbook.WBProps.CodeName&&(n.codeName=e.Workbook.WBProps.CodeName,delete n.CodeName)),t[t.length]=Nt("workbookPr",null,n);var a=e.Workbook&&e.Workbook.Sheets||[],s=0;if(a&&a[0]&&a[0].Hidden){for(t[t.length]="<bookViews>",s=0;s!=e.SheetNames.length&&!(!a[s]||!a[s].Hidden);++s);s==e.SheetNames.length&&(s=0),t[t.length]='<workbookView firstSheet="'+s+'" activeTab="'+s+'"/>',t[t.length]="</bookViews>"}for(t[t.length]="<sheets>",s=0;s!=e.SheetNames.length;++s){var l={name:Sn(e.SheetNames[s].slice(0,31))};if(l.sheetId=""+(s+1),l["r:id"]="rId"+(s+1),a[s])switch(a[s].Hidden){case 1:l.state="hidden";break;case 2:l.state="veryHidden";break}t[t.length]=Nt("sheet",null,l)}return t[t.length]="</sheets>",r&&(t[t.length]="<definedNames>",e.Workbook&&e.Workbook.Names&&e.Workbook.Names.forEach(function(o){var u={name:o.Name};o.Comment&&(u.comment=o.Comment),o.Sheet!=null&&(u.localSheetId=""+o.Sheet),o.Hidden&&(u.hidden="1"),o.Ref&&(t[t.length]=Nt("definedName",Sn(o.Ref),u))}),t[t.length]="</definedNames>"),t.length>2&&(t[t.length]="</workbook>",t[1]=t[1].replace("/>",">")),t.join("")}function mre(e,t){var r={};return r.Hidden=e.read_shift(4),r.iTabID=e.read_shift(4),r.strRelID=o4(e),r.name=Di(e),r}function pre(e,t){return t||(t=nt(127)),t.write_shift(4,e.Hidden),t.write_shift(4,e.iTabID),pj(e.strRelID,t),Ws(e.name.slice(0,31),t),t.length>t.l?t.slice(0,t.l):t}function xre(e,t){var r={},n=e.read_shift(4);r.defaultThemeVersion=e.read_shift(4);var a=t>8?Di(e):"";return a.length>0&&(r.CodeName=a),r.autoCompressPictures=!!(n&65536),r.backupFile=!!(n&64),r.checkCompatibility=!!(n&4096),r.date1904=!!(n&1),r.filterPrivacy=!!(n&8),r.hidePivotFieldList=!!(n&1024),r.promptedSolutions=!!(n&16),r.publishItems=!!(n&2048),r.refreshAllConnections=!!(n&262144),r.saveExternalLinkValues=!!(n&128),r.showBorderUnselectedTables=!!(n&4),r.showInkAnnotation=!!(n&32),r.showObjects=["all","placeholders","none"][n>>13&3],r.showPivotChartFilter=!!(n&32768),r.updateLinks=["userSet","never","always"][n>>8&3],r}function gre(e,t){t||(t=nt(72));var r=0;return e&&e.filterPrivacy&&(r|=8),t.write_shift(4,r),t.write_shift(4,0),YD(e&&e.CodeName||"ThisWorkbook",t),t.slice(0,t.l)}function vre(e,t){var r={};return e.read_shift(4),r.ArchID=e.read_shift(4),e.l+=t-8,r}function yre(e,t,r){var n=e.l+t;e.l+=4,e.l+=1;var a=e.read_shift(4),s=YK(e),l=ree(e,0,r),o=mj(e);e.l=n;var u={Name:s,Ptg:l};return a<268435455&&(u.Sheet=a),o&&(u.Comment=o),u}function bre(e,t){var r={AppVersion:{},WBProps:{},WBView:[],Sheets:[],CalcPr:{},xmlns:""},n=[],a=!1;t||(t={}),t.biff=12;var s=[],l=[[]];return l.SheetNames=[],l.XTI=[],ig[16]={n:"BrtFRTArchID$",f:vre},Ad(e,function(u,d,h){switch(h){case 156:l.SheetNames.push(u.name),r.Sheets.push(u);break;case 153:r.WBProps=u;break;case 39:u.Sheet!=null&&(t.SID=u.Sheet),u.Ref=ki(u.Ptg,null,null,l,t),delete t.SID,delete u.Ptg,s.push(u);break;case 1036:break;case 357:case 358:case 355:case 667:l[0].length?l.push([h,u]):l[0]=[h,u],l[l.length-1].XTI=[];break;case 362:l.length===0&&(l[0]=[],l[0].XTI=[]),l[l.length-1].XTI=l[l.length-1].XTI.concat(u),l.XTI=l.XTI.concat(u);break;case 361:break;case 2071:case 158:case 143:case 664:case 353:break;case 3072:case 3073:case 534:case 677:case 157:case 610:case 2050:case 155:case 548:case 676:case 128:case 665:case 2128:case 2125:case 549:case 2053:case 596:case 2076:case 2075:case 2082:case 397:case 154:case 1117:case 553:case 2091:break;case 35:n.push(h),a=!0;break;case 36:n.pop(),a=!1;break;case 37:n.push(h),a=!0;break;case 38:n.pop(),a=!1;break;case 16:break;default:if(!d.T){if(!a||t.WTF&&n[n.length-1]!=37&&n[n.length-1]!=35)throw new Error("Unexpected record 0x"+h.toString(16))}}},t),rL(r),r.Names=s,r.supbooks=l,r}function wre(e,t){mt(e,143);for(var r=0;r!=t.SheetNames.length;++r){var n=t.Workbook&&t.Workbook.Sheets&&t.Workbook.Sheets[r]&&t.Workbook.Sheets[r].Hidden||0,a={Hidden:n,iTabID:r+1,strRelID:"rId"+(r+1),name:t.SheetNames[r]};mt(e,156,pre(a))}mt(e,144)}function Nre(e,t){t||(t=nt(127));for(var r=0;r!=4;++r)t.write_shift(4,0);return Ws("SheetJS",t),Ws(ny.version,t),Ws(ny.version,t),Ws("7262",t),t.length>t.l?t.slice(0,t.l):t}function _re(e,t){t||(t=nt(29)),t.write_shift(-4,0),t.write_shift(-4,460),t.write_shift(4,28800),t.write_shift(4,17600),t.write_shift(4,500),t.write_shift(4,e),t.write_shift(4,e);var r=120;return t.write_shift(1,r),t.length>t.l?t.slice(0,t.l):t}function jre(e,t){if(!(!t.Workbook||!t.Workbook.Sheets)){for(var r=t.Workbook.Sheets,n=0,a=-1,s=-1;n<r.length;++n)!r[n]||!r[n].Hidden&&a==-1?a=n:r[n].Hidden==1&&s==-1&&(s=n);s>a||(mt(e,135),mt(e,158,_re(a)),mt(e,136))}}function Sre(e,t){var r=El();return mt(r,131),mt(r,128,Nre()),mt(r,153,gre(e.Workbook&&e.Workbook.WBProps||null)),jre(r,e),wre(r,e),mt(r,132),r.end()}function Are(e,t,r){return t.slice(-4)===".bin"?bre(e,r):hre(e,r)}function kre(e,t,r,n,a,s,l,o){return t.slice(-4)===".bin"?qte(e,n,r,a,s,l,o):yee(e,n,r,a,s,l,o)}function Ere(e,t,r,n,a,s,l,o){return t.slice(-4)===".bin"?are(e,n,r,a,s):rre(e,n,r,a,s)}function Cre(e,t,r,n,a,s,l,o){return t.slice(-4)===".bin"?OZ():FZ()}function Tre(e,t,r,n,a,s,l,o){return t.slice(-4)===".bin"?CZ():TZ()}function Ore(e,t,r,n){return t.slice(-4)===".bin"?AQ(e,r,n):mQ(e,r,n)}function Fre(e,t,r){return IP(e,r)}function Dre(e,t,r){return t.slice(-4)===".bin"?DX(e,r):TX(e,r)}function Pre(e,t,r){return t.slice(-4)===".bin"?jZ(e,r):pZ(e,r)}function Lre(e,t,r){return t.slice(-4)===".bin"?fZ(e):uZ(e)}function Mre(e,t,r,n){return r.slice(-4)===".bin"?hZ(e,t,r,n):void 0}function Rre(e,t,r){return t.slice(-4)===".bin"?lZ(e,t,r):cZ(e,t,r)}function Ire(e,t,r){return(t.slice(-4)===".bin"?Sre:aL)(e)}function Bre(e,t,r,n,a){return(t.slice(-4)===".bin"?Jte:JP)(e,r,n,a)}function Ure(e,t,r){return(t.slice(-4)===".bin"?MQ:MP)(e,r)}function zre(e,t,r){return(t.slice(-4)===".bin"?MX:EP)(e,r)}function qre(e,t,r){return(t.slice(-4)===".bin"?SZ:zP)(e)}function $re(e){return(e.slice(-4)===".bin"?oZ:BP)()}var sL=/([\w:]+)=((?:")([^"]*)(?:")|(?:')([^']*)(?:'))/g,iL=/([\w:]+)=((?:")(?:[^"]*)(?:")|(?:')(?:[^']*)(?:'))/;function yc(e,t){var r=e.split(/\s+/),n=[];if(n[0]=r[0],r.length===1)return n;var a=e.match(sL),s,l,o,u;if(a)for(u=0;u!=a.length;++u)s=a[u].match(iL),(l=s[1].indexOf(":"))===-1?n[s[1]]=s[2].slice(1,s[2].length-1):(s[1].slice(0,6)==="xmlns:"?o="xmlns"+s[1].slice(6):o=s[1].slice(l+1),n[o]=s[2].slice(1,s[2].length-1));return n}function Hre(e){var t=e.split(/\s+/),r={};if(t.length===1)return r;var n=e.match(sL),a,s,l,o;if(n)for(o=0;o!=n.length;++o)a=n[o].match(iL),(s=a[1].indexOf(":"))===-1?r[a[1]]=a[2].slice(1,a[2].length-1):(a[1].slice(0,6)==="xmlns:"?l="xmlns"+a[1].slice(6):l=a[1].slice(s+1),r[l]=a[2].slice(1,a[2].length-1));return r}var Mx;function Vre(e,t){var r=Mx[e]||rn(e);return r==="General"?X0(t):$o(r,t)}function Wre(e,t,r,n){var a=n;switch((r[0].match(/dt:dt="([\w.]+)"/)||["",""])[1]){case"boolean":a=ea(n);break;case"i2":case"int":a=parseInt(n,10);break;case"r4":case"float":a=parseFloat(n);break;case"date":case"dateTime.tz":a=na(n);break;case"i8":case"string":case"fixed":case"uuid":case"bin.base64":break;default:throw new Error("bad custprop:"+r[0])}e[rn(t)]=a}function Kre(e,t,r){if(e.t!=="z"){if(!r||r.cellText!==!1)try{e.t==="e"?e.w=e.w||kd[e.v]:t==="General"?e.t==="n"?(e.v|0)===e.v?e.w=e.v.toString(10):e.w=Qx(e.v):e.w=X0(e.v):e.w=Vre(t||"General",e.v)}catch(s){if(r.WTF)throw s}try{var n=Mx[t]||t||"General";if(r.cellNF&&(e.z=n),r.cellDates&&e.t=="n"&&up(n)){var a=O0(e.v);a&&(e.t="d",e.v=new Date(a.y,a.m-1,a.d,a.H,a.M,a.S,a.u))}}catch(s){if(r.WTF)throw s}}}function Gre(e,t,r){if(r.cellStyles&&t.Interior){var n=t.Interior;n.Pattern&&(n.patternType=iQ[n.Pattern]||n.Pattern)}e[t.ID]=t}function Yre(e,t,r,n,a,s,l,o,u,d){var h="General",m=n.StyleID,g={};d=d||{};var x=[],b=0;for(m===void 0&&o&&(m=o.StyleID),m===void 0&&l&&(m=l.StyleID);s[m]!==void 0&&(s[m].nf&&(h=s[m].nf),s[m].Interior&&x.push(s[m].Interior),!!s[m].Parent);)m=s[m].Parent;switch(r.Type){case"Boolean":n.t="b",n.v=ea(e);break;case"String":n.t="s",n.r=aE(rn(e)),n.v=e.indexOf("<")>-1?rn(t||e).replace(/<.*?>/g,""):n.r;break;case"DateTime":e.slice(-1)!="Z"&&(e+="Z"),n.v=(na(e)-new Date(Date.UTC(1899,11,30)))/(1440*60*1e3),n.v!==n.v?n.v=rn(e):n.v<60&&(n.v=n.v-1),(!h||h=="General")&&(h="yyyy-mm-dd");case"Number":n.v===void 0&&(n.v=+e),n.t||(n.t="n");break;case"Error":n.t="e",n.v=eP[e],d.cellText!==!1&&(n.w=e);break;default:e==""&&t==""?n.t="z":(n.t="s",n.v=aE(t||e));break}if(Kre(n,h,d),d.cellFormula!==!1)if(n.Formula){var v=rn(n.Formula);v.charCodeAt(0)==61&&(v=v.slice(1)),n.f=Rm(v,a),delete n.Formula,n.ArrayRange=="RC"?n.F=Rm("RC:RC",a):n.ArrayRange&&(n.F=Rm(n.ArrayRange,a),u.push([nn(n.F),n.F]))}else for(b=0;b<u.length;++b)a.r>=u[b][0].s.r&&a.r<=u[b][0].e.r&&a.c>=u[b][0].s.c&&a.c<=u[b][0].e.c&&(n.F=u[b][1]);d.cellStyles&&(x.forEach(function(w){!g.patternType&&w.patternType&&(g.patternType=w.patternType)}),n.s=g),n.StyleID!==void 0&&(n.ixfe=n.StyleID)}function Xre(e){e.t=e.v||"",e.t=e.t.replace(/\r\n/g,`
`).replace(/\r/g,`
`),e.v=e.w=e.ixfe=void 0}function qw(e,t){var r=t||{};dp();var n=_x(oj(e));(r.type=="binary"||r.type=="array"||r.type=="base64")&&(n=Rn(n));var a=n.slice(0,1024).toLowerCase(),s=!1;if(a=a.replace(/".*?"/g,""),(a.indexOf(">")&1023)>Math.min(a.indexOf(",")&1023,a.indexOf(";")&1023)){var l=aa(r);return l.type="string",Ym.to_workbook(n,l)}if(a.indexOf("<?xml")==-1&&["html","table","head","meta","script","style","div"].forEach(function(Le){a.indexOf("<"+Le)>=0&&(s=!0)}),s)return Lne(n,r);Mx={"General Number":"General","General Date":ur[22],"Long Date":"dddd, mmmm dd, yyyy","Medium Date":ur[15],"Short Date":ur[14],"Long Time":ur[19],"Medium Time":ur[18],"Short Time":ur[20],Currency:'"$"#,##0.00_);[Red]\\("$"#,##0.00\\)',Fixed:ur[2],Standard:ur[4],Percent:ur[10],Scientific:ur[11],"Yes/No":'"Yes";"Yes";"No";@',"True/False":'"True";"True";"False";@',"On/Off":'"Yes";"Yes";"No";@'};var o,u=[],d,h={},m=[],g=r.dense?[]:{},x="",b={},v={},w=yc('<Data ss:Type="String">'),N=0,E=0,j=0,T={s:{r:2e6,c:2e6},e:{r:0,c:0}},O={},D={},C="",P=0,B=[],H={},L={},U=0,V=[],Y=[],de={},te=[],ie,ge=!1,oe=[],Se=[],ne={},M=0,R=0,q={Sheets:[],WBProps:{date1904:!1}},K={};eg.lastIndex=0,n=n.replace(/<!--([\s\S]*?)-->/mg,"");for(var ee="";o=eg.exec(n);)switch(o[3]=(ee=o[3]).toLowerCase()){case"data":if(ee=="data"){if(o[1]==="/"){if((d=u.pop())[0]!==o[3])throw new Error("Bad state: "+d.join("|"))}else o[0].charAt(o[0].length-2)!=="/"&&u.push([o[3],!0]);break}if(u[u.length-1][1])break;o[1]==="/"?Yre(n.slice(N,o.index),C,w,u[u.length-1][0]=="comment"?de:b,{c:E,r:j},O,te[E],v,oe,r):(C="",w=yc(o[0]),N=o.index+o[0].length);break;case"cell":if(o[1]==="/")if(Y.length>0&&(b.c=Y),(!r.sheetRows||r.sheetRows>j)&&b.v!==void 0&&(r.dense?(g[j]||(g[j]=[]),g[j][E]=b):g[ja(E)+Ja(j)]=b),b.HRef&&(b.l={Target:rn(b.HRef)},b.HRefScreenTip&&(b.l.Tooltip=b.HRefScreenTip),delete b.HRef,delete b.HRefScreenTip),(b.MergeAcross||b.MergeDown)&&(M=E+(parseInt(b.MergeAcross,10)|0),R=j+(parseInt(b.MergeDown,10)|0),B.push({s:{c:E,r:j},e:{c:M,r:R}})),!r.sheetStubs)b.MergeAcross?E=M+1:++E;else if(b.MergeAcross||b.MergeDown){for(var ce=E;ce<=M;++ce)for(var Q=j;Q<=R;++Q)(ce>E||Q>j)&&(r.dense?(g[Q]||(g[Q]=[]),g[Q][ce]={t:"z"}):g[ja(ce)+Ja(Q)]={t:"z"});E=M+1}else++E;else b=Hre(o[0]),b.Index&&(E=+b.Index-1),E<T.s.c&&(T.s.c=E),E>T.e.c&&(T.e.c=E),o[0].slice(-2)==="/>"&&++E,Y=[];break;case"row":o[1]==="/"||o[0].slice(-2)==="/>"?(j<T.s.r&&(T.s.r=j),j>T.e.r&&(T.e.r=j),o[0].slice(-2)==="/>"&&(v=yc(o[0]),v.Index&&(j=+v.Index-1)),E=0,++j):(v=yc(o[0]),v.Index&&(j=+v.Index-1),ne={},(v.AutoFitHeight=="0"||v.Height)&&(ne.hpx=parseInt(v.Height,10),ne.hpt=sg(ne.hpx),Se[j]=ne),v.Hidden=="1"&&(ne.hidden=!0,Se[j]=ne));break;case"worksheet":if(o[1]==="/"){if((d=u.pop())[0]!==o[3])throw new Error("Bad state: "+d.join("|"));m.push(x),T.s.r<=T.e.r&&T.s.c<=T.e.c&&(g["!ref"]=Nr(T),r.sheetRows&&r.sheetRows<=T.e.r&&(g["!fullref"]=g["!ref"],T.e.r=r.sheetRows-1,g["!ref"]=Nr(T))),B.length&&(g["!merges"]=B),te.length>0&&(g["!cols"]=te),Se.length>0&&(g["!rows"]=Se),h[x]=g}else T={s:{r:2e6,c:2e6},e:{r:0,c:0}},j=E=0,u.push([o[3],!1]),d=yc(o[0]),x=rn(d.Name),g=r.dense?[]:{},B=[],oe=[],Se=[],K={name:x,Hidden:0},q.Sheets.push(K);break;case"table":if(o[1]==="/"){if((d=u.pop())[0]!==o[3])throw new Error("Bad state: "+d.join("|"))}else{if(o[0].slice(-2)=="/>")break;u.push([o[3],!1]),te=[],ge=!1}break;case"style":o[1]==="/"?Gre(O,D,r):D=yc(o[0]);break;case"numberformat":D.nf=rn(yc(o[0]).Format||"General"),Mx[D.nf]&&(D.nf=Mx[D.nf]);for(var re=0;re!=392&&ur[re]!=D.nf;++re);if(re==392){for(re=57;re!=392;++re)if(ur[re]==null){cd(D.nf,re);break}}break;case"column":if(u[u.length-1][0]!=="table")break;if(ie=yc(o[0]),ie.Hidden&&(ie.hidden=!0,delete ie.Hidden),ie.Width&&(ie.wpx=parseInt(ie.Width,10)),!ge&&ie.wpx>10){ge=!0,Ei=PP;for(var ye=0;ye<te.length;++ye)te[ye]&&Tf(te[ye])}ge&&Tf(ie),te[ie.Index-1||te.length]=ie;for(var Ee=0;Ee<+ie.Span;++Ee)te[te.length]=aa(ie);break;case"namedrange":if(o[1]==="/")break;q.Names||(q.Names=[]);var X=hr(o[0]),Je={Name:X.Name,Ref:Rm(X.RefersTo.slice(1),{r:0,c:0})};q.Sheets.length>0&&(Je.Sheet=q.Sheets.length-1),q.Names.push(Je);break;case"namedcell":break;case"b":break;case"i":break;case"u":break;case"s":break;case"em":break;case"h2":break;case"h3":break;case"sub":break;case"sup":break;case"span":break;case"alignment":break;case"borders":break;case"border":break;case"font":if(o[0].slice(-2)==="/>")break;o[1]==="/"?C+=n.slice(P,o.index):P=o.index+o[0].length;break;case"interior":if(!r.cellStyles)break;D.Interior=yc(o[0]);break;case"protection":break;case"author":case"title":case"description":case"created":case"keywords":case"subject":case"category":case"company":case"lastauthor":case"lastsaved":case"lastprinted":case"version":case"revision":case"totaltime":case"hyperlinkbase":case"manager":case"contentstatus":case"identifier":case"language":case"appname":if(o[0].slice(-2)==="/>")break;o[1]==="/"?bG(H,ee,n.slice(U,o.index)):U=o.index+o[0].length;break;case"paragraphs":break;case"styles":case"workbook":if(o[1]==="/"){if((d=u.pop())[0]!==o[3])throw new Error("Bad state: "+d.join("|"))}else u.push([o[3],!1]);break;case"comment":if(o[1]==="/"){if((d=u.pop())[0]!==o[3])throw new Error("Bad state: "+d.join("|"));Xre(de),Y.push(de)}else u.push([o[3],!1]),d=yc(o[0]),de={a:d.Author};break;case"autofilter":if(o[1]==="/"){if((d=u.pop())[0]!==o[3])throw new Error("Bad state: "+d.join("|"))}else if(o[0].charAt(o[0].length-2)!=="/"){var Ce=yc(o[0]);g["!autofilter"]={ref:Rm(Ce.Range).replace(/\$/g,"")},u.push([o[3],!0])}break;case"name":break;case"datavalidation":if(o[1]==="/"){if((d=u.pop())[0]!==o[3])throw new Error("Bad state: "+d.join("|"))}else o[0].charAt(o[0].length-2)!=="/"&&u.push([o[3],!0]);break;case"pixelsperinch":break;case"componentoptions":case"documentproperties":case"customdocumentproperties":case"officedocumentsettings":case"pivottable":case"pivotcache":case"names":case"mapinfo":case"pagebreaks":case"querytable":case"sorting":case"schema":case"conditionalformatting":case"smarttagtype":case"smarttags":case"excelworkbook":case"workbookoptions":case"worksheetoptions":if(o[1]==="/"){if((d=u.pop())[0]!==o[3])throw new Error("Bad state: "+d.join("|"))}else o[0].charAt(o[0].length-2)!=="/"&&u.push([o[3],!0]);break;case"null":break;default:if(u.length==0&&o[3]=="document"||u.length==0&&o[3]=="uof")return WE(n,r);var xe=!0;switch(u[u.length-1][0]){case"officedocumentsettings":switch(o[3]){case"allowpng":break;case"removepersonalinformation":break;case"downloadcomponents":break;case"locationofcomponents":break;case"colors":break;case"color":break;case"index":break;case"rgb":break;case"targetscreensize":break;case"readonlyrecommended":break;default:xe=!1}break;case"componentoptions":switch(o[3]){case"toolbar":break;case"hideofficelogo":break;case"spreadsheetautofit":break;case"label":break;case"caption":break;case"maxheight":break;case"maxwidth":break;case"nextsheetnumber":break;default:xe=!1}break;case"excelworkbook":switch(o[3]){case"date1904":q.WBProps.date1904=!0;break;case"windowheight":break;case"windowwidth":break;case"windowtopx":break;case"windowtopy":break;case"tabratio":break;case"protectstructure":break;case"protectwindow":break;case"protectwindows":break;case"activesheet":break;case"displayinknotes":break;case"firstvisiblesheet":break;case"supbook":break;case"sheetname":break;case"sheetindex":break;case"sheetindexfirst":break;case"sheetindexlast":break;case"dll":break;case"acceptlabelsinformulas":break;case"donotsavelinkvalues":break;case"iteration":break;case"maxiterations":break;case"maxchange":break;case"path":break;case"xct":break;case"count":break;case"selectedsheets":break;case"calculation":break;case"uncalced":break;case"startupprompt":break;case"crn":break;case"externname":break;case"formula":break;case"colfirst":break;case"collast":break;case"wantadvise":break;case"boolean":break;case"error":break;case"text":break;case"ole":break;case"noautorecover":break;case"publishobjects":break;case"donotcalculatebeforesave":break;case"number":break;case"refmoder1c1":break;case"embedsavesmarttags":break;default:xe=!1}break;case"workbookoptions":switch(o[3]){case"owcversion":break;case"height":break;case"width":break;default:xe=!1}break;case"worksheetoptions":switch(o[3]){case"visible":if(o[0].slice(-2)!=="/>")if(o[1]==="/")switch(n.slice(U,o.index)){case"SheetHidden":K.Hidden=1;break;case"SheetVeryHidden":K.Hidden=2;break}else U=o.index+o[0].length;break;case"header":g["!margins"]||B0(g["!margins"]={},"xlml"),isNaN(+hr(o[0]).Margin)||(g["!margins"].header=+hr(o[0]).Margin);break;case"footer":g["!margins"]||B0(g["!margins"]={},"xlml"),isNaN(+hr(o[0]).Margin)||(g["!margins"].footer=+hr(o[0]).Margin);break;case"pagemargins":var xt=hr(o[0]);g["!margins"]||B0(g["!margins"]={},"xlml"),isNaN(+xt.Top)||(g["!margins"].top=+xt.Top),isNaN(+xt.Left)||(g["!margins"].left=+xt.Left),isNaN(+xt.Right)||(g["!margins"].right=+xt.Right),isNaN(+xt.Bottom)||(g["!margins"].bottom=+xt.Bottom);break;case"displayrighttoleft":q.Views||(q.Views=[]),q.Views[0]||(q.Views[0]={}),q.Views[0].RTL=!0;break;case"freezepanes":break;case"frozennosplit":break;case"splithorizontal":case"splitvertical":break;case"donotdisplaygridlines":break;case"activerow":break;case"activecol":break;case"toprowbottompane":break;case"leftcolumnrightpane":break;case"unsynced":break;case"print":break;case"printerrors":break;case"panes":break;case"scale":break;case"pane":break;case"number":break;case"layout":break;case"pagesetup":break;case"selected":break;case"protectobjects":break;case"enableselection":break;case"protectscenarios":break;case"validprinterinfo":break;case"horizontalresolution":break;case"verticalresolution":break;case"numberofcopies":break;case"activepane":break;case"toprowvisible":break;case"leftcolumnvisible":break;case"fittopage":break;case"rangeselection":break;case"papersizeindex":break;case"pagelayoutzoom":break;case"pagebreakzoom":break;case"filteron":break;case"fitwidth":break;case"fitheight":break;case"commentslayout":break;case"zoom":break;case"lefttoright":break;case"gridlines":break;case"allowsort":break;case"allowfilter":break;case"allowinsertrows":break;case"allowdeleterows":break;case"allowinsertcols":break;case"allowdeletecols":break;case"allowinserthyperlinks":break;case"allowformatcells":break;case"allowsizecols":break;case"allowsizerows":break;case"nosummaryrowsbelowdetail":g["!outline"]||(g["!outline"]={}),g["!outline"].above=!0;break;case"tabcolorindex":break;case"donotdisplayheadings":break;case"showpagelayoutzoom":break;case"nosummarycolumnsrightdetail":g["!outline"]||(g["!outline"]={}),g["!outline"].left=!0;break;case"blackandwhite":break;case"donotdisplayzeros":break;case"displaypagebreak":break;case"rowcolheadings":break;case"donotdisplayoutline":break;case"noorientation":break;case"allowusepivottables":break;case"zeroheight":break;case"viewablerange":break;case"selection":break;case"protectcontents":break;default:xe=!1}break;case"pivottable":case"pivotcache":switch(o[3]){case"immediateitemsondrop":break;case"showpagemultipleitemlabel":break;case"compactrowindent":break;case"location":break;case"pivotfield":break;case"orientation":break;case"layoutform":break;case"layoutsubtotallocation":break;case"layoutcompactrow":break;case"position":break;case"pivotitem":break;case"datatype":break;case"datafield":break;case"sourcename":break;case"parentfield":break;case"ptlineitems":break;case"ptlineitem":break;case"countofsameitems":break;case"item":break;case"itemtype":break;case"ptsource":break;case"cacheindex":break;case"consolidationreference":break;case"filename":break;case"reference":break;case"nocolumngrand":break;case"norowgrand":break;case"blanklineafteritems":break;case"hidden":break;case"subtotal":break;case"basefield":break;case"mapchilditems":break;case"function":break;case"refreshonfileopen":break;case"printsettitles":break;case"mergelabels":break;case"defaultversion":break;case"refreshname":break;case"refreshdate":break;case"refreshdatecopy":break;case"versionlastrefresh":break;case"versionlastupdate":break;case"versionupdateablemin":break;case"versionrefreshablemin":break;case"calculation":break;default:xe=!1}break;case"pagebreaks":switch(o[3]){case"colbreaks":break;case"colbreak":break;case"rowbreaks":break;case"rowbreak":break;case"colstart":break;case"colend":break;case"rowend":break;default:xe=!1}break;case"autofilter":switch(o[3]){case"autofiltercolumn":break;case"autofiltercondition":break;case"autofilterand":break;case"autofilteror":break;default:xe=!1}break;case"querytable":switch(o[3]){case"id":break;case"autoformatfont":break;case"autoformatpattern":break;case"querysource":break;case"querytype":break;case"enableredirections":break;case"refreshedinxl9":break;case"urlstring":break;case"htmltables":break;case"connection":break;case"commandtext":break;case"refreshinfo":break;case"notitles":break;case"nextid":break;case"columninfo":break;case"overwritecells":break;case"donotpromptforfile":break;case"textwizardsettings":break;case"source":break;case"number":break;case"decimal":break;case"thousandseparator":break;case"trailingminusnumbers":break;case"formatsettings":break;case"fieldtype":break;case"delimiters":break;case"tab":break;case"comma":break;case"autoformatname":break;case"versionlastedit":break;case"versionlastrefresh":break;default:xe=!1}break;case"datavalidation":switch(o[3]){case"range":break;case"type":break;case"min":break;case"max":break;case"sort":break;case"descending":break;case"order":break;case"casesensitive":break;case"value":break;case"errorstyle":break;case"errormessage":break;case"errortitle":break;case"inputmessage":break;case"inputtitle":break;case"combohide":break;case"inputhide":break;case"condition":break;case"qualifier":break;case"useblank":break;case"value1":break;case"value2":break;case"format":break;case"cellrangelist":break;default:xe=!1}break;case"sorting":case"conditionalformatting":switch(o[3]){case"range":break;case"type":break;case"min":break;case"max":break;case"sort":break;case"descending":break;case"order":break;case"casesensitive":break;case"value":break;case"errorstyle":break;case"errormessage":break;case"errortitle":break;case"cellrangelist":break;case"inputmessage":break;case"inputtitle":break;case"combohide":break;case"inputhide":break;case"condition":break;case"qualifier":break;case"useblank":break;case"value1":break;case"value2":break;case"format":break;default:xe=!1}break;case"mapinfo":case"schema":case"data":switch(o[3]){case"map":break;case"entry":break;case"range":break;case"xpath":break;case"field":break;case"xsdtype":break;case"filteron":break;case"aggregate":break;case"elementtype":break;case"attributetype":break;case"schema":case"element":case"complextype":case"datatype":case"all":case"attribute":case"extends":break;case"row":break;default:xe=!1}break;case"smarttags":break;default:xe=!1;break}if(xe||o[3].match(/!\[CDATA/))break;if(!u[u.length-1][1])throw"Unrecognized tag: "+o[3]+"|"+u.join("|");if(u[u.length-1][0]==="customdocumentproperties"){if(o[0].slice(-2)==="/>")break;o[1]==="/"?Wre(L,ee,V,n.slice(U,o.index)):(V=o,U=o.index+o[0].length);break}if(r.WTF)throw"Unrecognized tag: "+o[3]+"|"+u.join("|")}var et={};return!r.bookSheets&&!r.bookProps&&(et.Sheets=h),et.SheetNames=m,et.Workbook=q,et.SSF=aa(ur),et.Props=H,et.Custprops=L,et}function p4(e,t){switch(Fj(t=t||{}),t.type||"base64"){case"base64":return qw(no(e),t);case"binary":case"buffer":case"file":return qw(e,t);case"array":return qw(Uf(e),t)}}function Qre(e,t){var r=[];return e.Props&&r.push(wG(e.Props,t)),e.Custprops&&r.push(NG(e.Props,e.Custprops)),r.join("")}function Zre(){return""}function Jre(e,t){var r=['<Style ss:ID="Default" ss:Name="Normal"><NumberFormat/></Style>'];return t.cellXfs.forEach(function(n,a){var s=[];s.push(Nt("NumberFormat",null,{"ss:Format":Sn(ur[n.numFmtId])}));var l={"ss:ID":"s"+(21+a)};r.push(Nt("Style",s.join(""),l))}),Nt("Styles",r.join(""))}function lL(e){return Nt("NamedRange",null,{"ss:Name":e.Name,"ss:RefersTo":"="+Aj(e.Ref,{r:0,c:0})})}function ene(e){if(!((e||{}).Workbook||{}).Names)return"";for(var t=e.Workbook.Names,r=[],n=0;n<t.length;++n){var a=t[n];a.Sheet==null&&(a.Name.match(/^_xlfn\./)||r.push(lL(a)))}return Nt("Names",r.join(""))}function tne(e,t,r,n){if(!e||!((n||{}).Workbook||{}).Names)return"";for(var a=n.Workbook.Names,s=[],l=0;l<a.length;++l){var o=a[l];o.Sheet==r&&(o.Name.match(/^_xlfn\./)||s.push(lL(o)))}return s.join("")}function rne(e,t,r,n){if(!e)return"";var a=[];if(e["!margins"]&&(a.push("<PageSetup>"),e["!margins"].header&&a.push(Nt("Header",null,{"x:Margin":e["!margins"].header})),e["!margins"].footer&&a.push(Nt("Footer",null,{"x:Margin":e["!margins"].footer})),a.push(Nt("PageMargins",null,{"x:Bottom":e["!margins"].bottom||"0.75","x:Left":e["!margins"].left||"0.7","x:Right":e["!margins"].right||"0.7","x:Top":e["!margins"].top||"0.75"})),a.push("</PageSetup>")),n&&n.Workbook&&n.Workbook.Sheets&&n.Workbook.Sheets[r])if(n.Workbook.Sheets[r].Hidden)a.push(Nt("Visible",n.Workbook.Sheets[r].Hidden==1?"SheetHidden":"SheetVeryHidden",{}));else{for(var s=0;s<r&&!(n.Workbook.Sheets[s]&&!n.Workbook.Sheets[s].Hidden);++s);s==r&&a.push("<Selected/>")}return((((n||{}).Workbook||{}).Views||[])[0]||{}).RTL&&a.push("<DisplayRightToLeft/>"),e["!protect"]&&(a.push(di("ProtectContents","True")),e["!protect"].objects&&a.push(di("ProtectObjects","True")),e["!protect"].scenarios&&a.push(di("ProtectScenarios","True")),e["!protect"].selectLockedCells!=null&&!e["!protect"].selectLockedCells?a.push(di("EnableSelection","NoSelection")):e["!protect"].selectUnlockedCells!=null&&!e["!protect"].selectUnlockedCells&&a.push(di("EnableSelection","UnlockedCells")),[["formatCells","AllowFormatCells"],["formatColumns","AllowSizeCols"],["formatRows","AllowSizeRows"],["insertColumns","AllowInsertCols"],["insertRows","AllowInsertRows"],["insertHyperlinks","AllowInsertHyperlinks"],["deleteColumns","AllowDeleteCols"],["deleteRows","AllowDeleteRows"],["sort","AllowSort"],["autoFilter","AllowFilter"],["pivotTables","AllowUsePivotTables"]].forEach(function(l){e["!protect"][l[0]]&&a.push("<"+l[1]+"/>")})),a.length==0?"":Nt("WorksheetOptions",a.join(""),{xmlns:Yl.x})}function nne(e){return e.map(function(t){var r=jK(t.t||""),n=Nt("ss:Data",r,{xmlns:"http://www.w3.org/TR/REC-html40"});return Nt("Comment",n,{"ss:Author":t.a})}).join("")}function ane(e,t,r,n,a,s,l){if(!e||e.v==null&&e.f==null)return"";var o={};if(e.f&&(o["ss:Formula"]="="+Sn(Aj(e.f,l))),e.F&&e.F.slice(0,t.length)==t){var u=Sa(e.F.slice(t.length+1));o["ss:ArrayRange"]="RC:R"+(u.r==l.r?"":"["+(u.r-l.r)+"]")+"C"+(u.c==l.c?"":"["+(u.c-l.c)+"]")}if(e.l&&e.l.Target&&(o["ss:HRef"]=Sn(e.l.Target),e.l.Tooltip&&(o["x:HRefScreenTip"]=Sn(e.l.Tooltip))),r["!merges"])for(var d=r["!merges"],h=0;h!=d.length;++h)d[h].s.c!=l.c||d[h].s.r!=l.r||(d[h].e.c>d[h].s.c&&(o["ss:MergeAcross"]=d[h].e.c-d[h].s.c),d[h].e.r>d[h].s.r&&(o["ss:MergeDown"]=d[h].e.r-d[h].s.r));var m="",g="";switch(e.t){case"z":if(!n.sheetStubs)return"";break;case"n":m="Number",g=String(e.v);break;case"b":m="Boolean",g=e.v?"1":"0";break;case"e":m="Error",g=kd[e.v];break;case"d":m="DateTime",g=new Date(e.v).toISOString(),e.z==null&&(e.z=e.z||ur[14]);break;case"s":m="String",g=_K(e.v||"");break}var x=qf(n.cellXfs,e,n);o["ss:StyleID"]="s"+(21+x),o["ss:Index"]=l.c+1;var b=e.v!=null?g:"",v=e.t=="z"?"":'<Data ss:Type="'+m+'">'+b+"</Data>";return(e.c||[]).length>0&&(v+=nne(e.c)),Nt("Cell",v,o)}function sne(e,t){var r='<Row ss:Index="'+(e+1)+'"';return t&&(t.hpt&&!t.hpx&&(t.hpx=Xm(t.hpt)),t.hpx&&(r+=' ss:AutoFitHeight="0" ss:Height="'+t.hpx+'"'),t.hidden&&(r+=' ss:Hidden="1"')),r+">"}function ine(e,t,r,n){if(!e["!ref"])return"";var a=nn(e["!ref"]),s=e["!merges"]||[],l=0,o=[];e["!cols"]&&e["!cols"].forEach(function(w,N){Tf(w);var E=!!w.width,j=N2(N,w),T={"ss:Index":N+1};E&&(T["ss:Width"]=ng(j.width)),w.hidden&&(T["ss:Hidden"]="1"),o.push(Nt("Column",null,T))});for(var u=Array.isArray(e),d=a.s.r;d<=a.e.r;++d){for(var h=[sne(d,(e["!rows"]||[])[d])],m=a.s.c;m<=a.e.c;++m){var g=!1;for(l=0;l!=s.length;++l)if(!(s[l].s.c>m)&&!(s[l].s.r>d)&&!(s[l].e.c<m)&&!(s[l].e.r<d)){(s[l].s.c!=m||s[l].s.r!=d)&&(g=!0);break}if(!g){var x={r:d,c:m},b=dr(x),v=u?(e[d]||[])[m]:e[b];h.push(ane(v,b,e,t,r,n,x))}}h.push("</Row>"),h.length>2&&o.push(h.join(""))}return o.join("")}function lne(e,t,r){var n=[],a=r.SheetNames[e],s=r.Sheets[a],l=s?tne(s,t,e,r):"";return l.length>0&&n.push("<Names>"+l+"</Names>"),l=s?ine(s,t,e,r):"",l.length>0&&n.push("<Table>"+l+"</Table>"),n.push(rne(s,t,e,r)),n.join("")}function one(e,t){t||(t={}),e.SSF||(e.SSF=aa(ur)),e.SSF&&(dp(),p2(e.SSF),t.revssf=g2(e.SSF),t.revssf[e.SSF[65535]]=0,t.ssf=e.SSF,t.cellXfs=[],qf(t.cellXfs,{},{revssf:{General:0}}));var r=[];r.push(Qre(e,t)),r.push(Zre()),r.push(""),r.push("");for(var n=0;n<e.SheetNames.length;++n)r.push(Nt("Worksheet",lne(n,t,e),{"ss:Name":Sn(e.SheetNames[n])}));return r[2]=Jre(e,t),r[3]=ene(e),es+Nt("Workbook",r.join(""),{xmlns:Yl.ss,"xmlns:o":Yl.o,"xmlns:x":Yl.x,"xmlns:ss":Yl.ss,"xmlns:dt":Yl.dt,"xmlns:html":Yl.html})}function cne(e){var t={},r=e.content;if(r.l=28,t.AnsiUserType=r.read_shift(0,"lpstr-ansi"),t.AnsiClipboardFormat=eG(r),r.length-r.l<=4)return t;var n=r.read_shift(4);if(n==0||n>40||(r.l-=4,t.Reserved1=r.read_shift(0,"lpstr-ansi"),r.length-r.l<=4)||(n=r.read_shift(4),n!==1907505652)||(t.UnicodeClipboardFormat=tG(r),n=r.read_shift(4),n==0||n>40))return t;r.l-=4,t.Reserved2=r.read_shift(0,"lpwstr")}var une=[60,1084,2066,2165,2175];function dne(e,t,r,n,a){var s=n,l=[],o=r.slice(r.l,r.l+s);if(a&&a.enc&&a.enc.insitu&&o.length>0)switch(e){case 9:case 521:case 1033:case 2057:case 47:case 405:case 225:case 406:case 312:case 404:case 10:break;case 133:break;default:a.enc.insitu(o)}l.push(o),r.l+=s;for(var u=td(r,r.l),d=x4[u],h=0;d!=null&&une.indexOf(u)>-1;)s=td(r,r.l+2),h=r.l+4,u==2066?h+=4:(u==2165||u==2175)&&(h+=12),o=r.slice(h,r.l+4+s),l.push(o),r.l+=4+s,d=x4[u=td(r,r.l)];var m=Vs(l);ci(m,0);var g=0;m.lens=[];for(var x=0;x<l.length;++x)m.lens.push(g),g+=l[x].length;if(m.length<n)throw"XLS Record 0x"+e.toString(16)+" Truncated: "+m.length+" < "+n;return t.f(m,m.length,a)}function au(e,t,r){if(e.t!=="z"&&e.XF){var n=0;try{n=e.z||e.XF.numFmtId||0,t.cellNF&&(e.z=ur[n])}catch(s){if(t.WTF)throw s}if(!t||t.cellText!==!1)try{e.t==="e"?e.w=e.w||kd[e.v]:n===0||n=="General"?e.t==="n"?(e.v|0)===e.v?e.w=e.v.toString(10):e.w=Qx(e.v):e.w=X0(e.v):e.w=$o(n,e.v,{date1904:!!r,dateNF:t&&t.dateNF})}catch(s){if(t.WTF)throw s}if(t.cellDates&&n&&e.t=="n"&&up(ur[n]||String(n))){var a=O0(e.v);a&&(e.t="d",e.v=new Date(a.y,a.m-1,a.d,a.H,a.M,a.S,a.u))}}}function cv(e,t,r){return{v:e,ixfe:t,t:r}}function fne(e,t){var r={opts:{}},n={},a=t.dense?[]:{},s={},l={},o=null,u=[],d="",h={},m,g="",x,b,v,w,N={},E=[],j,T,O=[],D=[],C={Sheets:[],WBProps:{date1904:!1},Views:[{}]},P={},B=function(wt){return wt<8?M0[wt]:wt<64&&D[wt-8]||M0[wt]},H=function(wt,Ct,_r){var Zt=Ct.XF.data;if(!(!Zt||!Zt.patternType||!_r||!_r.cellStyles)){Ct.s={},Ct.s.patternType=Zt.patternType;var kt;(kt=rg(B(Zt.icvFore)))&&(Ct.s.fgColor={rgb:kt}),(kt=rg(B(Zt.icvBack)))&&(Ct.s.bgColor={rgb:kt})}},L=function(wt,Ct,_r){if(!(ne>1)&&!(_r.sheetRows&&wt.r>=_r.sheetRows)){if(_r.cellStyles&&Ct.XF&&Ct.XF.data&&H(wt,Ct,_r),delete Ct.ixfe,delete Ct.XF,m=wt,g=dr(wt),(!l||!l.s||!l.e)&&(l={s:{r:0,c:0},e:{r:0,c:0}}),wt.r<l.s.r&&(l.s.r=wt.r),wt.c<l.s.c&&(l.s.c=wt.c),wt.r+1>l.e.r&&(l.e.r=wt.r+1),wt.c+1>l.e.c&&(l.e.c=wt.c+1),_r.cellFormula&&Ct.f){for(var Zt=0;Zt<E.length;++Zt)if(!(E[Zt][0].s.c>wt.c||E[Zt][0].s.r>wt.r)&&!(E[Zt][0].e.c<wt.c||E[Zt][0].e.r<wt.r)){Ct.F=Nr(E[Zt][0]),(E[Zt][0].s.c!=wt.c||E[Zt][0].s.r!=wt.r)&&delete Ct.f,Ct.f&&(Ct.f=""+ki(E[Zt][1],l,wt,oe,U));break}}_r.dense?(a[wt.r]||(a[wt.r]=[]),a[wt.r][wt.c]=Ct):a[g]=Ct}},U={enc:!1,sbcch:0,snames:[],sharedf:N,arrayf:E,rrtabid:[],lastuser:"",biff:8,codepage:0,winlocked:0,cellStyles:!!t&&!!t.cellStyles,WTF:!!t&&!!t.wtf};t.password&&(U.password=t.password);var V,Y=[],de=[],te=[],ie=[],ge=!1,oe=[];oe.SheetNames=U.snames,oe.sharedf=U.sharedf,oe.arrayf=U.arrayf,oe.names=[],oe.XTI=[];var Se=0,ne=0,M=0,R=[],q=[],K;U.codepage=1200,_c(1200);for(var ee=!1;e.l<e.length-1;){var ce=e.l,Q=e.read_shift(2);if(Q===0&&Se===10)break;var re=e.l===e.length?0:e.read_shift(2),ye=x4[Q];if(ye&&ye.f){if(t.bookSheets&&Se===133&&Q!==133)break;if(Se=Q,ye.r===2||ye.r==12){var Ee=e.read_shift(2);if(re-=2,!U.enc&&Ee!==Q&&((Ee&255)<<8|Ee>>8)!==Q)throw new Error("rt mismatch: "+Ee+"!="+Q);ye.r==12&&(e.l+=10,re-=10)}var X={};if(Q===10?X=ye.f(e,re,U):X=dne(Q,ye,e,re,U),ne==0&&[9,521,1033,2057].indexOf(Se)===-1)continue;switch(Q){case 34:r.opts.Date1904=C.WBProps.date1904=X;break;case 134:r.opts.WriteProtect=!0;break;case 47:if(U.enc||(e.l=0),U.enc=X,!t.password)throw new Error("File is password-protected");if(X.valid==null)throw new Error("Encryption scheme unsupported");if(!X.valid)throw new Error("Password is incorrect");break;case 92:U.lastuser=X;break;case 66:var Je=Number(X);switch(Je){case 21010:Je=1200;break;case 32768:Je=1e4;break;case 32769:Je=1252;break}_c(U.codepage=Je),ee=!0;break;case 317:U.rrtabid=X;break;case 25:U.winlocked=X;break;case 439:r.opts.RefreshAll=X;break;case 12:r.opts.CalcCount=X;break;case 16:r.opts.CalcDelta=X;break;case 17:r.opts.CalcIter=X;break;case 13:r.opts.CalcMode=X;break;case 14:r.opts.CalcPrecision=X;break;case 95:r.opts.CalcSaveRecalc=X;break;case 15:U.CalcRefMode=X;break;case 2211:r.opts.FullCalc=X;break;case 129:X.fDialog&&(a["!type"]="dialog"),X.fBelow||((a["!outline"]||(a["!outline"]={})).above=!0),X.fRight||((a["!outline"]||(a["!outline"]={})).left=!0);break;case 224:O.push(X);break;case 430:oe.push([X]),oe[oe.length-1].XTI=[];break;case 35:case 547:oe[oe.length-1].push(X);break;case 24:case 536:K={Name:X.Name,Ref:ki(X.rgce,l,null,oe,U)},X.itab>0&&(K.Sheet=X.itab-1),oe.names.push(K),oe[0]||(oe[0]=[],oe[0].XTI=[]),oe[oe.length-1].push(X),X.Name=="_xlnm._FilterDatabase"&&X.itab>0&&X.rgce&&X.rgce[0]&&X.rgce[0][0]&&X.rgce[0][0][0]=="PtgArea3d"&&(q[X.itab-1]={ref:Nr(X.rgce[0][0][1][2])});break;case 22:U.ExternCount=X;break;case 23:oe.length==0&&(oe[0]=[],oe[0].XTI=[]),oe[oe.length-1].XTI=oe[oe.length-1].XTI.concat(X),oe.XTI=oe.XTI.concat(X);break;case 2196:if(U.biff<8)break;K!=null&&(K.Comment=X[1]);break;case 18:a["!protect"]=X;break;case 19:X!==0&&U.WTF&&console.error("Password verifier: "+X);break;case 133:s[X.pos]=X,U.snames.push(X.name);break;case 10:{if(--ne)break;if(l.e){if(l.e.r>0&&l.e.c>0){if(l.e.r--,l.e.c--,a["!ref"]=Nr(l),t.sheetRows&&t.sheetRows<=l.e.r){var Ce=l.e.r;l.e.r=t.sheetRows-1,a["!fullref"]=a["!ref"],a["!ref"]=Nr(l),l.e.r=Ce}l.e.r++,l.e.c++}Y.length>0&&(a["!merges"]=Y),de.length>0&&(a["!objects"]=de),te.length>0&&(a["!cols"]=te),ie.length>0&&(a["!rows"]=ie),C.Sheets.push(P)}d===""?h=a:n[d]=a,a=t.dense?[]:{}}break;case 9:case 521:case 1033:case 2057:{if(U.biff===8&&(U.biff={9:2,521:3,1033:4}[Q]||{512:2,768:3,1024:4,1280:5,1536:8,2:2,7:2}[X.BIFFVer]||8),U.biffguess=X.BIFFVer==0,X.BIFFVer==0&&X.dt==4096&&(U.biff=5,ee=!0,_c(U.codepage=28591)),U.biff==8&&X.BIFFVer==0&&X.dt==16&&(U.biff=2),ne++)break;if(a=t.dense?[]:{},U.biff<8&&!ee&&(ee=!0,_c(U.codepage=t.codepage||1252)),U.biff<5||X.BIFFVer==0&&X.dt==4096){d===""&&(d="Sheet1"),l={s:{r:0,c:0},e:{r:0,c:0}};var xe={pos:e.l-re,name:d};s[xe.pos]=xe,U.snames.push(d)}else d=(s[ce]||{name:""}).name;X.dt==32&&(a["!type"]="chart"),X.dt==64&&(a["!type"]="macro"),Y=[],de=[],U.arrayf=E=[],te=[],ie=[],ge=!1,P={Hidden:(s[ce]||{hs:0}).hs,name:d}}break;case 515:case 3:case 2:a["!type"]=="chart"&&(t.dense?(a[X.r]||[])[X.c]:a[dr({c:X.c,r:X.r})])&&++X.c,j={ixfe:X.ixfe,XF:O[X.ixfe]||{},v:X.val,t:"n"},M>0&&(j.z=R[j.ixfe>>8&63]),au(j,t,r.opts.Date1904),L({c:X.c,r:X.r},j,t);break;case 5:case 517:j={ixfe:X.ixfe,XF:O[X.ixfe],v:X.val,t:X.t},M>0&&(j.z=R[j.ixfe>>8&63]),au(j,t,r.opts.Date1904),L({c:X.c,r:X.r},j,t);break;case 638:j={ixfe:X.ixfe,XF:O[X.ixfe],v:X.rknum,t:"n"},M>0&&(j.z=R[j.ixfe>>8&63]),au(j,t,r.opts.Date1904),L({c:X.c,r:X.r},j,t);break;case 189:for(var xt=X.c;xt<=X.C;++xt){var et=X.rkrec[xt-X.c][0];j={ixfe:et,XF:O[et],v:X.rkrec[xt-X.c][1],t:"n"},M>0&&(j.z=R[j.ixfe>>8&63]),au(j,t,r.opts.Date1904),L({c:xt,r:X.r},j,t)}break;case 6:case 518:case 1030:{if(X.val=="String"){o=X;break}if(j=cv(X.val,X.cell.ixfe,X.tt),j.XF=O[j.ixfe],t.cellFormula){var Le=X.formula;if(Le&&Le[0]&&Le[0][0]&&Le[0][0][0]=="PtgExp"){var Be=Le[0][0][1][0],ct=Le[0][0][1][1],lt=dr({r:Be,c:ct});N[lt]?j.f=""+ki(X.formula,l,X.cell,oe,U):j.F=((t.dense?(a[Be]||[])[ct]:a[lt])||{}).F}else j.f=""+ki(X.formula,l,X.cell,oe,U)}M>0&&(j.z=R[j.ixfe>>8&63]),au(j,t,r.opts.Date1904),L(X.cell,j,t),o=X}break;case 7:case 519:if(o)o.val=X,j=cv(X,o.cell.ixfe,"s"),j.XF=O[j.ixfe],t.cellFormula&&(j.f=""+ki(o.formula,l,o.cell,oe,U)),M>0&&(j.z=R[j.ixfe>>8&63]),au(j,t,r.opts.Date1904),L(o.cell,j,t),o=null;else throw new Error("String record expects Formula");break;case 33:case 545:{E.push(X);var Ye=dr(X[0].s);if(x=t.dense?(a[X[0].s.r]||[])[X[0].s.c]:a[Ye],t.cellFormula&&x){if(!o||!Ye||!x)break;x.f=""+ki(X[1],l,X[0],oe,U),x.F=Nr(X[0])}}break;case 1212:{if(!t.cellFormula)break;if(g){if(!o)break;N[dr(o.cell)]=X[0],x=t.dense?(a[o.cell.r]||[])[o.cell.c]:a[dr(o.cell)],(x||{}).f=""+ki(X[0],l,m,oe,U)}}break;case 253:j=cv(u[X.isst].t,X.ixfe,"s"),u[X.isst].h&&(j.h=u[X.isst].h),j.XF=O[j.ixfe],M>0&&(j.z=R[j.ixfe>>8&63]),au(j,t,r.opts.Date1904),L({c:X.c,r:X.r},j,t);break;case 513:t.sheetStubs&&(j={ixfe:X.ixfe,XF:O[X.ixfe],t:"z"},M>0&&(j.z=R[j.ixfe>>8&63]),au(j,t,r.opts.Date1904),L({c:X.c,r:X.r},j,t));break;case 190:if(t.sheetStubs)for(var ft=X.c;ft<=X.C;++ft){var Et=X.ixfe[ft-X.c];j={ixfe:Et,XF:O[Et],t:"z"},M>0&&(j.z=R[j.ixfe>>8&63]),au(j,t,r.opts.Date1904),L({c:ft,r:X.r},j,t)}break;case 214:case 516:case 4:j=cv(X.val,X.ixfe,"s"),j.XF=O[j.ixfe],M>0&&(j.z=R[j.ixfe>>8&63]),au(j,t,r.opts.Date1904),L({c:X.c,r:X.r},j,t);break;case 0:case 512:ne===1&&(l=X);break;case 252:u=X;break;case 1054:if(U.biff==4){R[M++]=X[1];for(var zt=0;zt<M+163&&ur[zt]!=X[1];++zt);zt>=163&&cd(X[1],M+163)}else cd(X[1],X[0]);break;case 30:{R[M++]=X;for(var Kt=0;Kt<M+163&&ur[Kt]!=X;++Kt);Kt>=163&&cd(X,M+163)}break;case 229:Y=Y.concat(X);break;case 93:de[X.cmo[0]]=U.lastobj=X;break;case 438:U.lastobj.TxO=X;break;case 127:U.lastobj.ImData=X;break;case 440:for(w=X[0].s.r;w<=X[0].e.r;++w)for(v=X[0].s.c;v<=X[0].e.c;++v)x=t.dense?(a[w]||[])[v]:a[dr({c:v,r:w})],x&&(x.l=X[1]);break;case 2048:for(w=X[0].s.r;w<=X[0].e.r;++w)for(v=X[0].s.c;v<=X[0].e.c;++v)x=t.dense?(a[w]||[])[v]:a[dr({c:v,r:w})],x&&x.l&&(x.l.Tooltip=X[1]);break;case 28:{if(U.biff<=5&&U.biff>=2)break;x=t.dense?(a[X[0].r]||[])[X[0].c]:a[dr(X[0])];var Ar=de[X[2]];x||(t.dense?(a[X[0].r]||(a[X[0].r]=[]),x=a[X[0].r][X[0].c]={t:"z"}):x=a[dr(X[0])]={t:"z"},l.e.r=Math.max(l.e.r,X[0].r),l.s.r=Math.min(l.s.r,X[0].r),l.e.c=Math.max(l.e.c,X[0].c),l.s.c=Math.min(l.s.c,X[0].c)),x.c||(x.c=[]),b={a:X[1],t:Ar.TxO.t},x.c.push(b)}break;case 2173:JQ(O[X.ixfe],X.ext);break;case 125:{if(!U.cellStyles)break;for(;X.e>=X.s;)te[X.e--]={width:X.w/256,level:X.level||0,hidden:!!(X.flags&1)},ge||(ge=!0,_j(X.w/256)),Tf(te[X.e+1])}break;case 520:{var Mt={};X.level!=null&&(ie[X.r]=Mt,Mt.level=X.level),X.hidden&&(ie[X.r]=Mt,Mt.hidden=!0),X.hpt&&(ie[X.r]=Mt,Mt.hpt=X.hpt,Mt.hpx=Xm(X.hpt))}break;case 38:case 39:case 40:case 41:a["!margins"]||B0(a["!margins"]={}),a["!margins"][{38:"left",39:"right",40:"top",41:"bottom"}[Q]]=X;break;case 161:a["!margins"]||B0(a["!margins"]={}),a["!margins"].header=X.header,a["!margins"].footer=X.footer;break;case 574:X.RTL&&(C.Views[0].RTL=!0);break;case 146:D=X;break;case 2198:V=X;break;case 140:T=X;break;case 442:d?P.CodeName=X||P.name:C.WBProps.CodeName=X||"ThisWorkbook";break}}else ye||console.error("Missing Info for XLS Record 0x"+Q.toString(16)),e.l+=re}return r.SheetNames=za(s).sort(function(Pt,wt){return Number(Pt)-Number(wt)}).map(function(Pt){return s[Pt].name}),t.bookSheets||(r.Sheets=n),!r.SheetNames.length&&h["!ref"]?(r.SheetNames.push("Sheet1"),r.Sheets&&(r.Sheets.Sheet1=h)):r.Preamble=h,r.Sheets&&q.forEach(function(Pt,wt){r.Sheets[r.SheetNames[wt]]["!autofilter"]=Pt}),r.Strings=u,r.SSF=aa(ur),U.enc&&(r.Encryption=U.enc),V&&(r.Themes=V),r.Metadata={},T!==void 0&&(r.Metadata.Country=T),oe.names.length>0&&(C.Names=oe.names),r.Workbook=C,r}var Rx={SI:"e0859ff2f94f6810ab9108002b27b3d9",DSI:"02d5cdd59c2e1b10939708002b2cf9ae",UDI:"05d5cdd59c2e1b10939708002b2cf9ae"};function hne(e,t,r){var n=ar.find(e,"/!DocumentSummaryInformation");if(n&&n.size>0)try{var a=NE(n,c4,Rx.DSI);for(var s in a)t[s]=a[s]}catch(d){if(r.WTF)throw d}var l=ar.find(e,"/!SummaryInformation");if(l&&l.size>0)try{var o=NE(l,u4,Rx.SI);for(var u in o)t[u]==null&&(t[u]=o[u])}catch(d){if(r.WTF)throw d}t.HeadingPairs&&t.TitlesOfParts&&(iP(t.HeadingPairs,t.TitlesOfParts,t,r),delete t.HeadingPairs,delete t.TitlesOfParts)}function mne(e,t){var r=[],n=[],a=[],s=0,l,o=Zk(c4,"n"),u=Zk(u4,"n");if(e.Props)for(l=za(e.Props),s=0;s<l.length;++s)(Object.prototype.hasOwnProperty.call(o,l[s])?r:Object.prototype.hasOwnProperty.call(u,l[s])?n:a).push([l[s],e.Props[l[s]]]);if(e.Custprops)for(l=za(e.Custprops),s=0;s<l.length;++s)Object.prototype.hasOwnProperty.call(e.Props||{},l[s])||(Object.prototype.hasOwnProperty.call(o,l[s])?r:Object.prototype.hasOwnProperty.call(u,l[s])?n:a).push([l[s],e.Custprops[l[s]]]);var d=[];for(s=0;s<a.length;++s)hP.indexOf(a[s][0])>-1||sP.indexOf(a[s][0])>-1||a[s][1]!=null&&d.push(a[s]);n.length&&ar.utils.cfb_add(t,"/SummaryInformation",_E(n,Rx.SI,u,u4)),(r.length||d.length)&&ar.utils.cfb_add(t,"/DocumentSummaryInformation",_E(r,Rx.DSI,o,c4,d.length?d:null,Rx.UDI))}function oL(e,t){t||(t={}),Fj(t),J_(),t.codepage&&Z_(t.codepage);var r,n;if(e.FullPaths){if(ar.find(e,"/encryption"))throw new Error("File is password-protected");r=ar.find(e,"!CompObj"),n=ar.find(e,"/Workbook")||ar.find(e,"/Book")}else{switch(t.type){case"base64":e=Zl(no(e));break;case"binary":e=Zl(e);break;case"buffer":break;case"array":Array.isArray(e)||(e=Array.prototype.slice.call(e));break}ci(e,0),n={content:e}}var a,s;if(r&&cne(r),t.bookProps&&!t.bookSheets)a={};else{var l=Or?"buffer":"array";if(n&&n.content)a=fne(n.content,t);else if((s=ar.find(e,"PerfectOffice_MAIN"))&&s.content)a=I0.to_workbook(s.content,(t.type=l,t));else if((s=ar.find(e,"NativeContent_MAIN"))&&s.content)a=I0.to_workbook(s.content,(t.type=l,t));else throw(s=ar.find(e,"MN0"))&&s.content?new Error("Unsupported Works 4 for Mac file"):new Error("Cannot find Workbook stream");t.bookVBA&&e.FullPaths&&ar.find(e,"/_VBA_PROJECT_CUR/VBA/dir")&&(a.vbaraw=kZ(e))}var o={};return e.FullPaths&&hne(e,o,t),a.Props=a.Custprops=o,t.bookFiles&&(a.cfb=e),a}function pne(e,t){var r=t||{},n=ar.utils.cfb_new({root:"R"}),a="/Workbook";switch(r.bookType||"xls"){case"xls":r.bookType="biff8";case"xla":r.bookType||(r.bookType="xla");case"biff8":a="/Workbook",r.biff=8;break;case"biff5":a="/Book",r.biff=5;break;default:throw new Error("invalid type "+r.bookType+" for XLS CFB")}return ar.utils.cfb_add(n,a,cL(e,r)),r.biff==8&&(e.Props||e.Custprops)&&mne(e,n),r.biff==8&&e.vbaraw&&EZ(n,ar.read(e.vbaraw,{type:typeof e.vbaraw=="string"?"binary":"buffer"})),n}var ig={0:{f:Bee},1:{f:Kee},2:{f:fte},3:{f:tte},4:{f:Qee},5:{f:cte},6:{f:gte},7:{f:ste},8:{f:jte},9:{f:_te},10:{f:wte},11:{f:Nte},12:{f:Yee},13:{f:mte},14:{f:nte},15:{f:Jee},16:{f:eL},17:{f:yte},18:{f:lte},19:{f:hj},20:{},21:{},22:{},23:{},24:{},25:{},26:{},27:{},28:{},29:{},30:{},31:{},32:{},33:{},34:{},35:{T:1},36:{T:-1},37:{T:1},38:{T:-1},39:{f:yre},40:{},42:{},43:{f:gQ},44:{f:pQ},45:{f:bQ},46:{f:NQ},47:{f:wQ},48:{},49:{f:qK},50:{},51:{f:rZ},52:{T:1},53:{T:-1},54:{T:1},55:{T:-1},56:{T:1},57:{T:-1},58:{},59:{},60:{f:jP},62:{f:xte},63:{f:dZ},64:{f:Ute},65:{},66:{},67:{},68:{},69:{},70:{},128:{},129:{T:1},130:{T:-1},131:{T:1,f:Li,p:0},132:{T:-1},133:{T:1},134:{T:-1},135:{T:1},136:{T:-1},137:{T:1,f:Mte},138:{T:-1},139:{T:1},140:{T:-1},141:{T:1},142:{T:-1},143:{T:1},144:{T:-1},145:{T:1},146:{T:-1},147:{f:Vee},148:{f:qee,p:16},151:{f:Tte},152:{},153:{f:xre},154:{},155:{},156:{f:mre},157:{},158:{},159:{T:1,f:FX},160:{T:-1},161:{T:1,f:yh},162:{T:-1},163:{T:1},164:{T:-1},165:{T:1},166:{T:-1},167:{},168:{},169:{},170:{},171:{},172:{T:1},173:{T:-1},174:{},175:{},176:{f:Ste},177:{T:1},178:{T:-1},179:{T:1},180:{T:-1},181:{T:1},182:{T:-1},183:{T:1},184:{T:-1},185:{T:1},186:{T:-1},187:{T:1},188:{T:-1},189:{T:1},190:{T:-1},191:{T:1},192:{T:-1},193:{T:1},194:{T:-1},195:{T:1},196:{T:-1},197:{T:1},198:{T:-1},199:{T:1},200:{T:-1},201:{T:1},202:{T:-1},203:{T:1},204:{T:-1},205:{T:1},206:{T:-1},207:{T:1},208:{T:-1},209:{T:1},210:{T:-1},211:{T:1},212:{T:-1},213:{T:1},214:{T:-1},215:{T:1},216:{T:-1},217:{T:1},218:{T:-1},219:{T:1},220:{T:-1},221:{T:1},222:{T:-1},223:{T:1},224:{T:-1},225:{T:1},226:{T:-1},227:{T:1},228:{T:-1},229:{T:1},230:{T:-1},231:{T:1},232:{T:-1},233:{T:1},234:{T:-1},235:{T:1},236:{T:-1},237:{T:1},238:{T:-1},239:{T:1},240:{T:-1},241:{T:1},242:{T:-1},243:{T:1},244:{T:-1},245:{T:1},246:{T:-1},247:{T:1},248:{T:-1},249:{T:1},250:{T:-1},251:{T:1},252:{T:-1},253:{T:1},254:{T:-1},255:{T:1},256:{T:-1},257:{T:1},258:{T:-1},259:{T:1},260:{T:-1},261:{T:1},262:{T:-1},263:{T:1},264:{T:-1},265:{T:1},266:{T:-1},267:{T:1},268:{T:-1},269:{T:1},270:{T:-1},271:{T:1},272:{T:-1},273:{T:1},274:{T:-1},275:{T:1},276:{T:-1},277:{},278:{T:1},279:{T:-1},280:{T:1},281:{T:-1},282:{T:1},283:{T:1},284:{T:-1},285:{T:1},286:{T:-1},287:{T:1},288:{T:-1},289:{T:1},290:{T:-1},291:{T:1},292:{T:-1},293:{T:1},294:{T:-1},295:{T:1},296:{T:-1},297:{T:1},298:{T:-1},299:{T:1},300:{T:-1},301:{T:1},302:{T:-1},303:{T:1},304:{T:-1},305:{T:1},306:{T:-1},307:{T:1},308:{T:-1},309:{T:1},310:{T:-1},311:{T:1},312:{T:-1},313:{T:-1},314:{T:1},315:{T:-1},316:{T:1},317:{T:-1},318:{T:1},319:{T:-1},320:{T:1},321:{T:-1},322:{T:1},323:{T:-1},324:{T:1},325:{T:-1},326:{T:1},327:{T:-1},328:{T:1},329:{T:-1},330:{T:1},331:{T:-1},332:{T:1},333:{T:-1},334:{T:1},335:{f:eZ},336:{T:-1},337:{f:sZ,T:1},338:{T:-1},339:{T:1},340:{T:-1},341:{T:1},342:{T:-1},343:{T:1},344:{T:-1},345:{T:1},346:{T:-1},347:{T:1},348:{T:-1},349:{T:1},350:{T:-1},351:{},352:{},353:{T:1},354:{T:-1},355:{f:o4},357:{},358:{},359:{},360:{T:1},361:{},362:{f:_P},363:{},364:{},366:{},367:{},368:{},369:{},370:{},371:{},372:{T:1},373:{T:-1},374:{T:1},375:{T:-1},376:{T:1},377:{T:-1},378:{T:1},379:{T:-1},380:{T:1},381:{T:-1},382:{T:1},383:{T:-1},384:{T:1},385:{T:-1},386:{T:1},387:{T:-1},388:{T:1},389:{T:-1},390:{T:1},391:{T:-1},392:{T:1},393:{T:-1},394:{T:1},395:{T:-1},396:{},397:{},398:{},399:{},400:{},401:{T:1},403:{},404:{},405:{},406:{},407:{},408:{},409:{},410:{},411:{},412:{},413:{},414:{},415:{},416:{},417:{},418:{},419:{},420:{},421:{},422:{T:1},423:{T:1},424:{T:-1},425:{T:-1},426:{f:Ote},427:{f:Fte},428:{},429:{T:1},430:{T:-1},431:{T:1},432:{T:-1},433:{T:1},434:{T:-1},435:{T:1},436:{T:-1},437:{T:1},438:{T:-1},439:{T:1},440:{T:-1},441:{T:1},442:{T:-1},443:{T:1},444:{T:-1},445:{T:1},446:{T:-1},447:{T:1},448:{T:-1},449:{T:1},450:{T:-1},451:{T:1},452:{T:-1},453:{T:1},454:{T:-1},455:{T:1},456:{T:-1},457:{T:1},458:{T:-1},459:{T:1},460:{T:-1},461:{T:1},462:{T:-1},463:{T:1},464:{T:-1},465:{T:1},466:{T:-1},467:{T:1},468:{T:-1},469:{T:1},470:{T:-1},471:{},472:{},473:{T:1},474:{T:-1},475:{},476:{f:Pte},477:{},478:{},479:{T:1},480:{T:-1},481:{T:1},482:{T:-1},483:{T:1},484:{T:-1},485:{f:Hee},486:{T:1},487:{T:-1},488:{T:1},489:{T:-1},490:{T:1},491:{T:-1},492:{T:1},493:{T:-1},494:{f:Ete},495:{T:1},496:{T:-1},497:{T:1},498:{T:-1},499:{},500:{T:1},501:{T:-1},502:{T:1},503:{T:-1},504:{},505:{T:1},506:{T:-1},507:{},508:{T:1},509:{T:-1},510:{T:1},511:{T:-1},512:{},513:{},514:{T:1},515:{T:-1},516:{T:1},517:{T:-1},518:{T:1},519:{T:-1},520:{T:1},521:{T:-1},522:{},523:{},524:{},525:{},526:{},527:{},528:{T:1},529:{T:-1},530:{T:1},531:{T:-1},532:{T:1},533:{T:-1},534:{},535:{},536:{},537:{},538:{T:1},539:{T:-1},540:{T:1},541:{T:-1},542:{T:1},548:{},549:{},550:{f:o4},551:{},552:{},553:{},554:{T:1},555:{T:-1},556:{T:1},557:{T:-1},558:{T:1},559:{T:-1},560:{T:1},561:{T:-1},562:{},564:{},565:{T:1},566:{T:-1},569:{T:1},570:{T:-1},572:{},573:{T:1},574:{T:-1},577:{},578:{},579:{},580:{},581:{},582:{},583:{},584:{},585:{},586:{},587:{},588:{T:-1},589:{},590:{T:1},591:{T:-1},592:{T:1},593:{T:-1},594:{T:1},595:{T:-1},596:{},597:{T:1},598:{T:-1},599:{T:1},600:{T:-1},601:{T:1},602:{T:-1},603:{T:1},604:{T:-1},605:{T:1},606:{T:-1},607:{},608:{T:1},609:{T:-1},610:{},611:{T:1},612:{T:-1},613:{T:1},614:{T:-1},615:{T:1},616:{T:-1},617:{T:1},618:{T:-1},619:{T:1},620:{T:-1},625:{},626:{T:1},627:{T:-1},628:{T:1},629:{T:-1},630:{T:1},631:{T:-1},632:{f:NZ},633:{T:1},634:{T:-1},635:{T:1,f:bZ},636:{T:-1},637:{f:WK},638:{T:1},639:{},640:{T:-1},641:{T:1},642:{T:-1},643:{T:1},644:{},645:{T:-1},646:{T:1},648:{T:1},649:{},650:{T:-1},651:{f:nre},652:{},653:{T:1},654:{T:-1},655:{T:1},656:{T:-1},657:{T:1},658:{T:-1},659:{},660:{T:1},661:{},662:{T:-1},663:{},664:{T:1},665:{},666:{T:-1},667:{},668:{},669:{},671:{T:1},672:{T:-1},673:{T:1},674:{T:-1},675:{},676:{},677:{},678:{},679:{},680:{},681:{},1024:{},1025:{},1026:{T:1},1027:{T:-1},1028:{T:1},1029:{T:-1},1030:{},1031:{T:1},1032:{T:-1},1033:{T:1},1034:{T:-1},1035:{},1036:{},1037:{},1038:{T:1},1039:{T:-1},1040:{},1041:{T:1},1042:{T:-1},1043:{},1044:{},1045:{},1046:{T:1},1047:{T:-1},1048:{T:1},1049:{T:-1},1050:{},1051:{T:1},1052:{T:1},1053:{f:zte},1054:{T:1},1055:{},1056:{T:1},1057:{T:-1},1058:{T:1},1059:{T:-1},1061:{},1062:{T:1},1063:{T:-1},1064:{T:1},1065:{T:-1},1066:{T:1},1067:{T:-1},1068:{T:1},1069:{T:-1},1070:{T:1},1071:{T:-1},1072:{T:1},1073:{T:-1},1075:{T:1},1076:{T:-1},1077:{T:1},1078:{T:-1},1079:{T:1},1080:{T:-1},1081:{T:1},1082:{T:-1},1083:{T:1},1084:{T:-1},1085:{},1086:{T:1},1087:{T:-1},1088:{T:1},1089:{T:-1},1090:{T:1},1091:{T:-1},1092:{T:1},1093:{T:-1},1094:{T:1},1095:{T:-1},1096:{},1097:{T:1},1098:{},1099:{T:-1},1100:{T:1},1101:{T:-1},1102:{},1103:{},1104:{},1105:{},1111:{},1112:{},1113:{T:1},1114:{T:-1},1115:{T:1},1116:{T:-1},1117:{},1118:{T:1},1119:{T:-1},1120:{T:1},1121:{T:-1},1122:{T:1},1123:{T:-1},1124:{T:1},1125:{T:-1},1126:{},1128:{T:1},1129:{T:-1},1130:{},1131:{T:1},1132:{T:-1},1133:{T:1},1134:{T:-1},1135:{T:1},1136:{T:-1},1137:{T:1},1138:{T:-1},1139:{T:1},1140:{T:-1},1141:{},1142:{T:1},1143:{T:-1},1144:{T:1},1145:{T:-1},1146:{},1147:{T:1},1148:{T:-1},1149:{T:1},1150:{T:-1},1152:{T:1},1153:{T:-1},1154:{T:-1},1155:{T:-1},1156:{T:-1},1157:{T:1},1158:{T:-1},1159:{T:1},1160:{T:-1},1161:{T:1},1162:{T:-1},1163:{T:1},1164:{T:-1},1165:{T:1},1166:{T:-1},1167:{T:1},1168:{T:-1},1169:{T:1},1170:{T:-1},1171:{},1172:{T:1},1173:{T:-1},1177:{},1178:{T:1},1180:{},1181:{},1182:{},2048:{T:1},2049:{T:-1},2050:{},2051:{T:1},2052:{T:-1},2053:{},2054:{},2055:{T:1},2056:{T:-1},2057:{T:1},2058:{T:-1},2060:{},2067:{},2068:{T:1},2069:{T:-1},2070:{},2071:{},2072:{T:1},2073:{T:-1},2075:{},2076:{},2077:{T:1},2078:{T:-1},2079:{},2080:{T:1},2081:{T:-1},2082:{},2083:{T:1},2084:{T:-1},2085:{T:1},2086:{T:-1},2087:{T:1},2088:{T:-1},2089:{T:1},2090:{T:-1},2091:{},2092:{},2093:{T:1},2094:{T:-1},2095:{},2096:{T:1},2097:{T:-1},2098:{T:1},2099:{T:-1},2100:{T:1},2101:{T:-1},2102:{},2103:{T:1},2104:{T:-1},2105:{},2106:{T:1},2107:{T:-1},2108:{},2109:{T:1},2110:{T:-1},2111:{T:1},2112:{T:-1},2113:{T:1},2114:{T:-1},2115:{},2116:{},2117:{},2118:{T:1},2119:{T:-1},2120:{},2121:{T:1},2122:{T:-1},2123:{T:1},2124:{T:-1},2125:{},2126:{T:1},2127:{T:-1},2128:{},2129:{T:1},2130:{T:-1},2131:{T:1},2132:{T:-1},2133:{T:1},2134:{},2135:{},2136:{},2137:{T:1},2138:{T:-1},2139:{T:1},2140:{T:-1},2141:{},3072:{},3073:{},4096:{T:1},4097:{T:-1},5002:{T:1},5003:{T:-1},5081:{T:1},5082:{T:-1},5083:{},5084:{T:1},5085:{T:-1},5086:{T:1},5087:{T:-1},5088:{},5089:{},5090:{},5092:{T:1},5093:{T:-1},5094:{},5095:{T:1},5096:{T:-1},5097:{},5099:{},65535:{n:""}},x4={6:{f:Uw},10:{f:pf},12:{f:os},13:{f:os},14:{f:Wa},15:{f:Wa},16:{f:Ti},17:{f:Wa},18:{f:Wa},19:{f:os},20:{f:CE},21:{f:CE},23:{f:_P},24:{f:OE},25:{f:Wa},26:{},27:{},28:{f:zY},29:{},34:{f:Wa},35:{f:TE},38:{f:Ti},39:{f:Ti},40:{f:Ti},41:{f:Ti},42:{f:Wa},43:{f:Wa},47:{f:JX},49:{f:mY},51:{f:os},60:{},61:{f:cY},64:{f:Wa},65:{f:hY},66:{f:os},77:{},80:{},81:{},82:{},85:{f:os},89:{},90:{},91:{},92:{f:ZG},93:{f:HY},94:{},95:{f:Wa},96:{},97:{},99:{f:Wa},125:{f:jP},128:{f:CY},129:{f:eY},130:{f:os},131:{f:Wa},132:{f:Wa},133:{f:tY},134:{},140:{f:ZY},141:{f:os},144:{},146:{f:tX},151:{},152:{},153:{},154:{},155:{},156:{f:os},157:{},158:{},160:{f:oX},161:{f:aX},174:{},175:{},176:{},177:{},178:{},180:{},181:{},182:{},184:{},185:{},189:{f:SY},190:{f:AY},193:{f:pf},197:{},198:{},199:{},200:{},201:{},202:{f:Wa},203:{},204:{},205:{},206:{},207:{},208:{},209:{},210:{},211:{},213:{},215:{},216:{},217:{},218:{f:os},220:{},221:{f:Wa},222:{},224:{f:EY},225:{f:QG},226:{f:pf},227:{},229:{f:qY},233:{},235:{},236:{},237:{},239:{},240:{},241:{},242:{},244:{},245:{},246:{},247:{},248:{},249:{},251:{},252:{f:nY},253:{f:xY},255:{f:sY},256:{},259:{},290:{},311:{},312:{},315:{},317:{f:mP},318:{},319:{},320:{},330:{},331:{},333:{},334:{},335:{},336:{},337:{},338:{},339:{},340:{},351:{},352:{f:Wa},353:{f:pf},401:{},402:{},403:{},404:{},405:{},406:{},407:{},408:{},425:{},426:{},427:{},428:{},429:{},430:{f:PY},431:{f:Wa},432:{},433:{},434:{},437:{},438:{f:KY},439:{f:Wa},440:{f:GY},441:{},442:{f:Tg},443:{},444:{f:os},445:{},446:{},448:{f:pf},449:{f:oY,r:2},450:{f:pf},512:{f:AE},513:{f:lX},515:{f:FY},516:{f:vY},517:{f:EE},519:{f:cX},520:{f:iY},523:{},545:{f:FE},549:{f:SE},566:{},574:{f:dY},638:{f:jY},659:{},1048:{},1054:{f:bY},1084:{},1212:{f:IY},2048:{f:XY},2049:{},2050:{},2051:{},2052:{},2053:{},2054:{},2055:{},2056:{},2057:{f:iv},2058:{},2059:{},2060:{},2061:{},2062:{},2063:{},2064:{},2066:{},2067:{},2128:{},2129:{},2130:{},2131:{},2132:{},2133:{},2134:{},2135:{},2136:{},2137:{},2138:{},2146:{},2147:{r:12},2148:{},2149:{},2150:{},2151:{f:pf},2152:{},2154:{},2155:{},2156:{},2161:{},2162:{},2164:{},2165:{},2166:{},2167:{},2168:{},2169:{},2170:{},2171:{},2172:{f:rX,r:12},2173:{f:ZQ,r:12},2174:{},2175:{},2180:{},2181:{},2182:{},2183:{},2184:{},2185:{},2186:{},2187:{},2188:{f:Wa,r:12},2189:{},2190:{r:12},2191:{},2192:{},2194:{},2195:{},2196:{f:RY,r:12},2197:{},2198:{f:WQ,r:12},2199:{},2200:{},2201:{},2202:{f:BY,r:12},2203:{f:pf},2204:{},2205:{},2206:{},2207:{},2211:{f:lY},2212:{},2213:{},2214:{},2215:{},4097:{},4098:{},4099:{},4102:{},4103:{},4105:{},4106:{},4107:{},4108:{},4109:{},4116:{},4117:{},4118:{},4119:{},4120:{},4121:{},4122:{},4123:{},4124:{},4125:{},4126:{},4127:{},4128:{},4129:{},4130:{},4132:{},4133:{},4134:{f:os},4135:{},4146:{},4147:{},4148:{},4149:{},4154:{},4156:{},4157:{},4158:{},4159:{},4160:{},4161:{},4163:{},4164:{f:sX},4165:{},4166:{},4168:{},4170:{},4171:{},4174:{},4175:{},4176:{},4177:{},4187:{},4188:{f:eX},4189:{},4191:{},4192:{},4193:{},4194:{},4195:{},4196:{},4197:{},4198:{},4199:{},4200:{},0:{f:AE},1:{},2:{f:mX},3:{f:fX},4:{f:dX},5:{f:EE},7:{f:xX},8:{},9:{f:iv},11:{},22:{f:os},30:{f:NY},31:{},32:{},33:{f:FE},36:{},37:{f:SE},50:{f:gX},62:{},52:{},67:{},68:{f:os},69:{},86:{},126:{},127:{f:uX},135:{},136:{},137:{},145:{},148:{},149:{},150:{},169:{},171:{},188:{},191:{},192:{},194:{},195:{},214:{f:vX},223:{},234:{},354:{},421:{},518:{f:Uw},521:{f:iv},536:{f:OE},547:{f:TE},561:{},579:{},1030:{f:Uw},1033:{f:iv},1091:{},2157:{},2163:{},2177:{},2240:{},2241:{},2242:{},2243:{},2244:{},2245:{},2246:{},2247:{},2248:{},2249:{},2250:{},2251:{},2262:{r:12},29282:{}};function jt(e,t,r,n){var a=t;if(!isNaN(a)){var s=n||(r||[]).length||0,l=e.next(4);l.write_shift(2,a),l.write_shift(2,s),s>0&&uj(r)&&e.push(r)}}function xne(e,t,r,n){var a=(r||[]).length||0;if(a<=8224)return jt(e,t,r,a);var s=t;if(!isNaN(s)){for(var l=r.parts||[],o=0,u=0,d=0;d+(l[o]||8224)<=8224;)d+=l[o]||8224,o++;var h=e.next(4);for(h.write_shift(2,s),h.write_shift(2,d),e.push(r.slice(u,u+d)),u+=d;u<a;){for(h=e.next(4),h.write_shift(2,60),d=0;d+(l[o]||8224)<=8224;)d+=l[o]||8224,o++;h.write_shift(2,d),e.push(r.slice(u,u+d)),u+=d}}}function Pg(e,t,r){return e||(e=nt(7)),e.write_shift(2,t),e.write_shift(2,r),e.write_shift(2,0),e.write_shift(1,0),e}function gne(e,t,r,n){var a=nt(9);return Pg(a,e,t),pP(r,n||"b",a),a}function vne(e,t,r){var n=nt(8+2*r.length);return Pg(n,e,t),n.write_shift(1,r.length),n.write_shift(r.length,r,"sbcs"),n.l<n.length?n.slice(0,n.l):n}function yne(e,t,r,n){if(t.v!=null)switch(t.t){case"d":case"n":var a=t.t=="d"?Es(na(t.v)):t.v;a==(a|0)&&a>=0&&a<65536?jt(e,2,pX(r,n,a)):jt(e,3,hX(r,n,a));return;case"b":case"e":jt(e,5,gne(r,n,t.v,t.t));return;case"s":case"str":jt(e,4,vne(r,n,(t.v||"").slice(0,255)));return}jt(e,1,Pg(null,r,n))}function bne(e,t,r,n){var a=Array.isArray(t),s=nn(t["!ref"]||"A1"),l,o="",u=[];if(s.e.c>255||s.e.r>16383){if(n.WTF)throw new Error("Range "+(t["!ref"]||"A1")+" exceeds format limit A1:IV16384");s.e.c=Math.min(s.e.c,255),s.e.r=Math.min(s.e.c,16383),l=Nr(s)}for(var d=s.s.r;d<=s.e.r;++d){o=Ja(d);for(var h=s.s.c;h<=s.e.c;++h){d===s.s.r&&(u[h]=ja(h)),l=u[h]+o;var m=a?(t[d]||[])[h]:t[l];m&&yne(e,m,d,h)}}}function wne(e,t){for(var r=t||{},n=El(),a=0,s=0;s<e.SheetNames.length;++s)e.SheetNames[s]==r.sheet&&(a=s);if(a==0&&r.sheet&&e.SheetNames[0]!=r.sheet)throw new Error("Sheet not found: "+r.sheet);return jt(n,r.biff==4?1033:r.biff==3?521:9,bj(e,16,r)),bne(n,e.Sheets[e.SheetNames[a]],a,r),jt(n,10),n.end()}function Nne(e,t,r){jt(e,49,pY({sz:12,name:"Arial"},r))}function _ne(e,t,r){t&&[[5,8],[23,26],[41,44],[50,392]].forEach(function(n){for(var a=n[0];a<=n[1];++a)t[a]!=null&&jt(e,1054,wY(a,t[a],r))})}function jne(e,t){var r=nt(19);r.write_shift(4,2151),r.write_shift(4,0),r.write_shift(4,0),r.write_shift(2,3),r.write_shift(1,1),r.write_shift(4,0),jt(e,2151,r),r=nt(39),r.write_shift(4,2152),r.write_shift(4,0),r.write_shift(4,0),r.write_shift(2,3),r.write_shift(1,0),r.write_shift(4,0),r.write_shift(2,1),r.write_shift(4,4),r.write_shift(2,0),bP(nn(t["!ref"]||"A1"),r),r.write_shift(4,4),jt(e,2152,r)}function Sne(e,t){for(var r=0;r<16;++r)jt(e,224,kE({numFmtId:0,style:!0},0,t));t.cellXfs.forEach(function(n){jt(e,224,kE(n,0,t))})}function Ane(e,t){for(var r=0;r<t["!links"].length;++r){var n=t["!links"][r];jt(e,440,YY(n)),n[1].Tooltip&&jt(e,2048,QY(n))}delete t["!links"]}function kne(e,t){if(t){var r=0;t.forEach(function(n,a){++r<=256&&n&&jt(e,125,nX(N2(a,n),a))})}}function Ene(e,t,r,n,a){var s=16+qf(a.cellXfs,t,a);if(t.v==null&&!t.bf){jt(e,513,eh(r,n,s));return}if(t.bf)jt(e,6,eee(t,r,n,a,s));else switch(t.t){case"d":case"n":var l=t.t=="d"?Es(na(t.v)):t.v;jt(e,515,DY(r,n,l,s));break;case"b":case"e":jt(e,517,OY(r,n,t.v,s,a,t.t));break;case"s":case"str":if(a.bookSST){var o=Ej(a.Strings,t.v,a.revStrings);jt(e,253,gY(r,n,o,s))}else jt(e,516,yY(r,n,(t.v||"").slice(0,255),s,a));break;default:jt(e,513,eh(r,n,s))}}function Cne(e,t,r){var n=El(),a=r.SheetNames[e],s=r.Sheets[a]||{},l=(r||{}).Workbook||{},o=(l.Sheets||[])[e]||{},u=Array.isArray(s),d=t.biff==8,h,m="",g=[],x=nn(s["!ref"]||"A1"),b=d?65536:16384;if(x.e.c>255||x.e.r>=b){if(t.WTF)throw new Error("Range "+(s["!ref"]||"A1")+" exceeds format limit A1:IV16384");x.e.c=Math.min(x.e.c,255),x.e.r=Math.min(x.e.c,b-1)}jt(n,2057,bj(r,16,t)),jt(n,13,Mo(1)),jt(n,12,Mo(100)),jt(n,15,Xi(!0)),jt(n,17,Xi(!1)),jt(n,16,Z0(.001)),jt(n,95,Xi(!0)),jt(n,42,Xi(!1)),jt(n,43,Xi(!1)),jt(n,130,Mo(1)),jt(n,128,TY()),jt(n,131,Xi(!1)),jt(n,132,Xi(!1)),d&&kne(n,s["!cols"]),jt(n,512,_Y(x,t)),d&&(s["!links"]=[]);for(var v=x.s.r;v<=x.e.r;++v){m=Ja(v);for(var w=x.s.c;w<=x.e.c;++w){v===x.s.r&&(g[w]=ja(w)),h=g[w]+m;var N=u?(s[v]||[])[w]:s[h];N&&(Ene(n,N,v,w,t),d&&N.l&&s["!links"].push([h,N.l]))}}var E=o.CodeName||o.name||a;return d&&jt(n,574,fY((l.Views||[])[0])),d&&(s["!merges"]||[]).length&&jt(n,229,$Y(s["!merges"])),d&&Ane(n,s),jt(n,442,xP(E)),d&&jne(n,s),jt(n,10),n.end()}function Tne(e,t,r){var n=El(),a=(e||{}).Workbook||{},s=a.Sheets||[],l=a.WBProps||{},o=r.biff==8,u=r.biff==5;if(jt(n,2057,bj(e,5,r)),r.bookType=="xla"&&jt(n,135),jt(n,225,o?Mo(1200):null),jt(n,193,OG(2)),u&&jt(n,191),u&&jt(n,192),jt(n,226),jt(n,92,JG("SheetJS",r)),jt(n,66,Mo(o?1200:1252)),o&&jt(n,353,Mo(0)),o&&jt(n,448),jt(n,317,iX(e.SheetNames.length)),o&&e.vbaraw&&jt(n,211),o&&e.vbaraw){var d=l.CodeName||"ThisWorkbook";jt(n,442,xP(d))}jt(n,156,Mo(17)),jt(n,25,Xi(!1)),jt(n,18,Xi(!1)),jt(n,19,Mo(0)),o&&jt(n,431,Xi(!1)),o&&jt(n,444,Mo(0)),jt(n,61,uY()),jt(n,64,Xi(!1)),jt(n,141,Mo(0)),jt(n,34,Xi(ore(e)=="true")),jt(n,14,Xi(!0)),o&&jt(n,439,Xi(!1)),jt(n,218,Mo(0)),Nne(n,e,r),_ne(n,e.SSF,r),Sne(n,r),o&&jt(n,352,Xi(!1));var h=n.end(),m=El();o&&jt(m,140,JY()),o&&r.Strings&&xne(m,252,aY(r.Strings)),jt(m,10);var g=m.end(),x=El(),b=0,v=0;for(v=0;v<e.SheetNames.length;++v)b+=(o?12:11)+(o?2:1)*e.SheetNames[v].length;var w=h.length+b+g.length;for(v=0;v<e.SheetNames.length;++v){var N=s[v]||{};jt(x,133,rY({pos:w,hs:N.Hidden||0,dt:0,name:e.SheetNames[v]},r)),w+=t[v].length}var E=x.end();if(b!=E.length)throw new Error("BS8 "+b+" != "+E.length);var j=[];return h.length&&j.push(h),E.length&&j.push(E),g.length&&j.push(g),Vs(j)}function One(e,t){var r=t||{},n=[];e&&!e.SSF&&(e.SSF=aa(ur)),e&&e.SSF&&(dp(),p2(e.SSF),r.revssf=g2(e.SSF),r.revssf[e.SSF[65535]]=0,r.ssf=e.SSF),r.Strings=[],r.Strings.Count=0,r.Strings.Unique=0,Dj(r),r.cellXfs=[],qf(r.cellXfs,{},{revssf:{General:0}}),e.Props||(e.Props={});for(var a=0;a<e.SheetNames.length;++a)n[n.length]=Cne(a,r,e);return n.unshift(Tne(e,n,r)),Vs(n)}function cL(e,t){for(var r=0;r<=e.SheetNames.length;++r){var n=e.Sheets[e.SheetNames[r]];if(!(!n||!n["!ref"])){var a=Tl(n["!ref"]);a.e.c>255&&typeof console<"u"&&console.error&&console.error("Worksheet '"+e.SheetNames[r]+"' extends beyond column IV (255).  Data may be lost.")}}var s=t||{};switch(s.biff||2){case 8:case 5:return One(e,t);case 4:case 3:case 2:return wne(e,t)}throw new Error("invalid type "+s.bookType+" for BIFF")}function qE(e,t){var r=t||{},n=r.dense?[]:{};e=e.replace(/<!--.*?-->/g,"");var a=e.match(/<table/i);if(!a)throw new Error("Invalid HTML: could not find <table>");var s=e.match(/<\/table/i),l=a.index,o=s&&s.index||e.length,u=pK(e.slice(l,o),/(:?<tr[^>]*>)/i,"<tr>"),d=-1,h=0,m=0,g=0,x={s:{r:1e7,c:1e7},e:{r:0,c:0}},b=[];for(l=0;l<u.length;++l){var v=u[l].trim(),w=v.slice(0,3).toLowerCase();if(w=="<tr"){if(++d,r.sheetRows&&r.sheetRows<=d){--d;break}h=0;continue}if(!(w!="<td"&&w!="<th")){var N=v.split(/<\/t[dh]>/i);for(o=0;o<N.length;++o){var E=N[o].trim();if(E.match(/<t[dh]/i)){for(var j=E,T=0;j.charAt(0)=="<"&&(T=j.indexOf(">"))>-1;)j=j.slice(T+1);for(var O=0;O<b.length;++O){var D=b[O];D.s.c==h&&D.s.r<d&&d<=D.e.r&&(h=D.e.c+1,O=-1)}var C=hr(E.slice(0,E.indexOf(">")));g=C.colspan?+C.colspan:1,((m=+C.rowspan)>1||g>1)&&b.push({s:{r:d,c:h},e:{r:d+(m||1)-1,c:h+g-1}});var P=C.t||C["data-t"]||"";if(!j.length){h+=g;continue}if(j=DD(j),x.s.r>d&&(x.s.r=d),x.e.r<d&&(x.e.r=d),x.s.c>h&&(x.s.c=h),x.e.c<h&&(x.e.c=h),!j.length){h+=g;continue}var B={t:"s",v:j};r.raw||!j.trim().length||P=="s"||(j==="TRUE"?B={t:"b",v:!0}:j==="FALSE"?B={t:"b",v:!1}:isNaN(Ac(j))?isNaN(Gm(j).getDate())||(B={t:"d",v:na(j)},r.cellDates||(B={t:"n",v:Es(B.v)}),B.z=r.dateNF||ur[14]):B={t:"n",v:Ac(j)}),r.dense?(n[d]||(n[d]=[]),n[d][h]=B):n[dr({r:d,c:h})]=B,h+=g}}}}return n["!ref"]=Nr(x),b.length&&(n["!merges"]=b),n}function Fne(e,t,r,n){for(var a=e["!merges"]||[],s=[],l=t.s.c;l<=t.e.c;++l){for(var o=0,u=0,d=0;d<a.length;++d)if(!(a[d].s.r>r||a[d].s.c>l)&&!(a[d].e.r<r||a[d].e.c<l)){if(a[d].s.r<r||a[d].s.c<l){o=-1;break}o=a[d].e.r-a[d].s.r+1,u=a[d].e.c-a[d].s.c+1;break}if(!(o<0)){var h=dr({r,c:l}),m=n.dense?(e[r]||[])[l]:e[h],g=m&&m.v!=null&&(m.h||lj(m.w||(gd(m),m.w)||""))||"",x={};o>1&&(x.rowspan=o),u>1&&(x.colspan=u),n.editable?g='<span contenteditable="true">'+g+"</span>":m&&(x["data-t"]=m&&m.t||"z",m.v!=null&&(x["data-v"]=m.v),m.z!=null&&(x["data-z"]=m.z),m.l&&(m.l.Target||"#").charAt(0)!="#"&&(g='<a href="'+m.l.Target+'">'+g+"</a>")),x.id=(n.id||"sjs")+"-"+h,s.push(Nt("td",g,x))}}var b="<tr>";return b+s.join("")+"</tr>"}var Dne='<html><head><meta charset="utf-8"/><title>SheetJS Table Export</title></head><body>',Pne="</body></html>";function Lne(e,t){var r=e.match(/<table[\s\S]*?>[\s\S]*?<\/table>/gi);if(!r||r.length==0)throw new Error("Invalid HTML: could not find <table>");if(r.length==1)return zf(qE(r[0],t),t);var n=Mj();return r.forEach(function(a,s){Rj(n,qE(a,t),"Sheet"+(s+1))}),n}function Mne(e,t,r){var n=[];return n.join("")+"<table"+(r&&r.id?' id="'+r.id+'"':"")+">"}function uL(e,t){var r=t||{},n=r.header!=null?r.header:Dne,a=r.footer!=null?r.footer:Pne,s=[n],l=Tl(e["!ref"]);r.dense=Array.isArray(e),s.push(Mne(e,l,r));for(var o=l.s.r;o<=l.e.r;++o)s.push(Fne(e,l,o,r));return s.push("</table>"+a),s.join("")}function dL(e,t,r){var n=r||{},a=0,s=0;if(n.origin!=null)if(typeof n.origin=="number")a=n.origin;else{var l=typeof n.origin=="string"?Sa(n.origin):n.origin;a=l.r,s=l.c}var o=t.getElementsByTagName("tr"),u=Math.min(n.sheetRows||1e7,o.length),d={s:{r:0,c:0},e:{r:a,c:s}};if(e["!ref"]){var h=Tl(e["!ref"]);d.s.r=Math.min(d.s.r,h.s.r),d.s.c=Math.min(d.s.c,h.s.c),d.e.r=Math.max(d.e.r,h.e.r),d.e.c=Math.max(d.e.c,h.e.c),a==-1&&(d.e.r=a=h.e.r+1)}var m=[],g=0,x=e["!rows"]||(e["!rows"]=[]),b=0,v=0,w=0,N=0,E=0,j=0;for(e["!cols"]||(e["!cols"]=[]);b<o.length&&v<u;++b){var T=o[b];if($E(T)){if(n.display)continue;x[v]={hidden:!0}}var O=T.children;for(w=N=0;w<O.length;++w){var D=O[w];if(!(n.display&&$E(D))){var C=D.hasAttribute("data-v")?D.getAttribute("data-v"):D.hasAttribute("v")?D.getAttribute("v"):DD(D.innerHTML),P=D.getAttribute("data-z")||D.getAttribute("z");for(g=0;g<m.length;++g){var B=m[g];B.s.c==N+s&&B.s.r<v+a&&v+a<=B.e.r&&(N=B.e.c+1-s,g=-1)}j=+D.getAttribute("colspan")||1,((E=+D.getAttribute("rowspan")||1)>1||j>1)&&m.push({s:{r:v+a,c:N+s},e:{r:v+a+(E||1)-1,c:N+s+(j||1)-1}});var H={t:"s",v:C},L=D.getAttribute("data-t")||D.getAttribute("t")||"";C!=null&&(C.length==0?H.t=L||"z":n.raw||C.trim().length==0||L=="s"||(C==="TRUE"?H={t:"b",v:!0}:C==="FALSE"?H={t:"b",v:!1}:isNaN(Ac(C))?isNaN(Gm(C).getDate())||(H={t:"d",v:na(C)},n.cellDates||(H={t:"n",v:Es(H.v)}),H.z=n.dateNF||ur[14]):H={t:"n",v:Ac(C)})),H.z===void 0&&P!=null&&(H.z=P);var U="",V=D.getElementsByTagName("A");if(V&&V.length)for(var Y=0;Y<V.length&&!(V[Y].hasAttribute("href")&&(U=V[Y].getAttribute("href"),U.charAt(0)!="#"));++Y);U&&U.charAt(0)!="#"&&(H.l={Target:U}),n.dense?(e[v+a]||(e[v+a]=[]),e[v+a][N+s]=H):e[dr({c:N+s,r:v+a})]=H,d.e.c<N+s&&(d.e.c=N+s),N+=j}}++v}return m.length&&(e["!merges"]=(e["!merges"]||[]).concat(m)),d.e.r=Math.max(d.e.r,v-1+a),e["!ref"]=Nr(d),v>=u&&(e["!fullref"]=Nr((d.e.r=o.length-b+v-1+a,d))),e}function fL(e,t){var r=t||{},n=r.dense?[]:{};return dL(n,e,t)}function Rne(e,t){return zf(fL(e,t),t)}function $E(e){var t="",r=Ine(e);return r&&(t=r(e).getPropertyValue("display")),t||(t=e.style&&e.style.display),t==="none"}function Ine(e){return e.ownerDocument.defaultView&&typeof e.ownerDocument.defaultView.getComputedStyle=="function"?e.ownerDocument.defaultView.getComputedStyle:typeof getComputedStyle=="function"?getComputedStyle:null}function Bne(e){var t=e.replace(/[\t\r\n]/g," ").trim().replace(/ +/g," ").replace(/<text:s\/>/g," ").replace(/<text:s text:c="(\d+)"\/>/g,function(n,a){return Array(parseInt(a,10)+1).join(" ")}).replace(/<text:tab[^>]*\/>/g,"	").replace(/<text:line-break\/>/g,`
`),r=rn(t.replace(/<[^>]*>/g,""));return[r]}var HE={day:["d","dd"],month:["m","mm"],year:["y","yy"],hours:["h","hh"],minutes:["m","mm"],seconds:["s","ss"],"am-pm":["A/P","AM/PM"],"day-of-week":["ddd","dddd"],era:["e","ee"],quarter:["\\Qm",'m\\"th quarter"']};function hL(e,t){var r=t||{},n=oj(e),a=[],s,l,o={name:""},u="",d=0,h,m,g={},x=[],b=r.dense?[]:{},v,w,N={value:""},E="",j=0,T=[],O=-1,D=-1,C={s:{r:1e6,c:1e7},e:{r:0,c:0}},P=0,B={},H=[],L={},U=0,V=0,Y=[],de=1,te=1,ie=[],ge={Names:[]},oe={},Se=["",""],ne=[],M={},R="",q=0,K=!1,ee=!1,ce=0;for(eg.lastIndex=0,n=n.replace(/<!--([\s\S]*?)-->/mg,"").replace(/<!DOCTYPE[^\[]*\[[^\]]*\]>/gm,"");v=eg.exec(n);)switch(v[3]=v[3].replace(/_.*$/,"")){case"table":case"":v[1]==="/"?(C.e.c>=C.s.c&&C.e.r>=C.s.r?b["!ref"]=Nr(C):b["!ref"]="A1:A1",r.sheetRows>0&&r.sheetRows<=C.e.r&&(b["!fullref"]=b["!ref"],C.e.r=r.sheetRows-1,b["!ref"]=Nr(C)),H.length&&(b["!merges"]=H),Y.length&&(b["!rows"]=Y),h.name=h.||h.name,typeof JSON<"u"&&JSON.stringify(h),x.push(h.name),g[h.name]=b,ee=!1):v[0].charAt(v[0].length-2)!=="/"&&(h=hr(v[0],!1),O=D=-1,C.s.r=C.s.c=1e7,C.e.r=C.e.c=0,b=r.dense?[]:{},H=[],Y=[],ee=!0);break;case"table-row-group":v[1]==="/"?--P:++P;break;case"table-row":case"":if(v[1]==="/"){O+=de,de=1;break}if(m=hr(v[0],!1),m.?O=m.-1:O==-1&&(O=0),de=+m["number-rows-repeated"]||1,de<10)for(ce=0;ce<de;++ce)P>0&&(Y[O+ce]={level:P});D=-1;break;case"covered-table-cell":v[1]!=="/"&&++D,r.sheetStubs&&(r.dense?(b[O]||(b[O]=[]),b[O][D]={t:"z"}):b[dr({r:O,c:D})]={t:"z"}),E="",T=[];break;case"table-cell":case"":if(v[0].charAt(v[0].length-2)==="/")++D,N=hr(v[0],!1),te=parseInt(N["number-columns-repeated"]||"1",10),w={t:"z",v:null},N.formula&&r.cellFormula!=!1&&(w.f=BE(rn(N.formula))),(N.||N["value-type"])=="string"&&(w.t="s",w.v=rn(N["string-value"]||""),r.dense?(b[O]||(b[O]=[]),b[O][D]=w):b[dr({r:O,c:D})]=w),D+=te-1;else if(v[1]!=="/"){++D,E="",j=0,T=[],te=1;var Q=de?O+de-1:O;if(D>C.e.c&&(C.e.c=D),D<C.s.c&&(C.s.c=D),O<C.s.r&&(C.s.r=O),Q>C.e.r&&(C.e.r=Q),N=hr(v[0],!1),ne=[],M={},w={t:N.||N["value-type"],v:null},r.cellFormula)if(N.formula&&(N.formula=rn(N.formula)),N["number-matrix-columns-spanned"]&&N["number-matrix-rows-spanned"]&&(U=parseInt(N["number-matrix-rows-spanned"],10)||0,V=parseInt(N["number-matrix-columns-spanned"],10)||0,L={s:{r:O,c:D},e:{r:O+U-1,c:D+V-1}},w.F=Nr(L),ie.push([L,w.F])),N.formula)w.f=BE(N.formula);else for(ce=0;ce<ie.length;++ce)O>=ie[ce][0].s.r&&O<=ie[ce][0].e.r&&D>=ie[ce][0].s.c&&D<=ie[ce][0].e.c&&(w.F=ie[ce][1]);switch((N["number-columns-spanned"]||N["number-rows-spanned"])&&(U=parseInt(N["number-rows-spanned"],10)||0,V=parseInt(N["number-columns-spanned"],10)||0,L={s:{r:O,c:D},e:{r:O+U-1,c:D+V-1}},H.push(L)),N["number-columns-repeated"]&&(te=parseInt(N["number-columns-repeated"],10)),w.t){case"boolean":w.t="b",w.v=ea(N["boolean-value"]);break;case"float":w.t="n",w.v=parseFloat(N.value);break;case"percentage":w.t="n",w.v=parseFloat(N.value);break;case"currency":w.t="n",w.v=parseFloat(N.value);break;case"date":w.t="d",w.v=na(N["date-value"]),r.cellDates||(w.t="n",w.v=Es(w.v)),w.z="m/d/yy";break;case"time":w.t="n",w.v=fK(N["time-value"])/86400,r.cellDates&&(w.t="d",w.v=v2(w.v)),w.z="HH:MM:SS";break;case"number":w.t="n",w.v=parseFloat(N.);break;default:if(w.t==="string"||w.t==="text"||!w.t)w.t="s",N["string-value"]!=null&&(E=rn(N["string-value"]),T=[]);else throw new Error("Unsupported value type "+w.t)}}else{if(K=!1,w.t==="s"&&(w.v=E||"",T.length&&(w.R=T),K=j==0),oe.Target&&(w.l=oe),ne.length>0&&(w.c=ne,ne=[]),E&&r.cellText!==!1&&(w.w=E),K&&(w.t="z",delete w.v),(!K||r.sheetStubs)&&!(r.sheetRows&&r.sheetRows<=O))for(var re=0;re<de;++re){if(te=parseInt(N["number-columns-repeated"]||"1",10),r.dense)for(b[O+re]||(b[O+re]=[]),b[O+re][D]=re==0?w:aa(w);--te>0;)b[O+re][D+te]=aa(w);else for(b[dr({r:O+re,c:D})]=w;--te>0;)b[dr({r:O+re,c:D+te})]=aa(w);C.e.c<=D&&(C.e.c=D)}te=parseInt(N["number-columns-repeated"]||"1",10),D+=te-1,te=0,w={},E="",T=[]}oe={};break;case"document":case"document-content":case"":case"spreadsheet":case"":case"scripts":case"styles":case"font-face-decls":case"master-styles":if(v[1]==="/"){if((s=a.pop())[0]!==v[3])throw"Bad state: "+s}else v[0].charAt(v[0].length-2)!=="/"&&a.push([v[3],!0]);break;case"annotation":if(v[1]==="/"){if((s=a.pop())[0]!==v[3])throw"Bad state: "+s;M.t=E,T.length&&(M.R=T),M.a=R,ne.push(M)}else v[0].charAt(v[0].length-2)!=="/"&&a.push([v[3],!1]);R="",q=0,E="",j=0,T=[];break;case"creator":v[1]==="/"?R=n.slice(q,v.index):q=v.index+v[0].length;break;case"meta":case"":case"settings":case"config-item-set":case"config-item-map-indexed":case"config-item-map-entry":case"config-item-map-named":case"shapes":case"frame":case"text-box":case"image":case"data-pilot-tables":case"list-style":case"form":case"dde-links":case"event-listeners":case"chart":if(v[1]==="/"){if((s=a.pop())[0]!==v[3])throw"Bad state: "+s}else v[0].charAt(v[0].length-2)!=="/"&&a.push([v[3],!1]);E="",j=0,T=[];break;case"scientific-number":break;case"currency-symbol":break;case"currency-style":break;case"number-style":case"percentage-style":case"date-style":case"time-style":if(v[1]==="/"){if(B[o.name]=u,(s=a.pop())[0]!==v[3])throw"Bad state: "+s}else v[0].charAt(v[0].length-2)!=="/"&&(u="",o=hr(v[0],!1),a.push([v[3],!0]));break;case"script":break;case"libraries":break;case"automatic-styles":break;case"default-style":case"page-layout":break;case"style":break;case"map":break;case"font-face":break;case"paragraph-properties":break;case"table-properties":break;case"table-column-properties":break;case"table-row-properties":break;case"table-cell-properties":break;case"number":switch(a[a.length-1][0]){case"time-style":case"date-style":l=hr(v[0],!1),u+=HE[v[3]][l.style==="long"?1:0];break}break;case"fraction":break;case"day":case"month":case"year":case"era":case"day-of-week":case"week-of-year":case"quarter":case"hours":case"minutes":case"seconds":case"am-pm":switch(a[a.length-1][0]){case"time-style":case"date-style":l=hr(v[0],!1),u+=HE[v[3]][l.style==="long"?1:0];break}break;case"boolean-style":break;case"boolean":break;case"text-style":break;case"text":if(v[0].slice(-2)==="/>")break;if(v[1]==="/")switch(a[a.length-1][0]){case"number-style":case"date-style":case"time-style":u+=n.slice(d,v.index);break}else d=v.index+v[0].length;break;case"named-range":l=hr(v[0],!1),Se=zw(l["cell-range-address"]);var ye={Name:l.name,Ref:Se[0]+"!"+Se[1]};ee&&(ye.Sheet=x.length),ge.Names.push(ye);break;case"text-content":break;case"text-properties":break;case"embedded-text":break;case"body":case"":break;case"forms":break;case"table-column":break;case"table-header-rows":break;case"table-rows":break;case"table-column-group":break;case"table-header-columns":break;case"table-columns":break;case"null-date":break;case"graphic-properties":break;case"calculation-settings":break;case"named-expressions":break;case"label-range":break;case"label-ranges":break;case"named-expression":break;case"sort":break;case"sort-by":break;case"sort-groups":break;case"tab":break;case"line-break":break;case"span":break;case"p":case"":if(["master-styles"].indexOf(a[a.length-1][0])>-1)break;if(v[1]==="/"&&(!N||!N["string-value"])){var Ee=Bne(n.slice(j,v.index));E=(E.length>0?E+`
`:"")+Ee[0]}else hr(v[0],!1),j=v.index+v[0].length;break;case"s":break;case"database-range":if(v[1]==="/")break;try{Se=zw(hr(v[0])["target-range-address"]),g[Se[0]]["!autofilter"]={ref:Se[1]}}catch{}break;case"date":break;case"object":break;case"title":case"":break;case"desc":break;case"binary-data":break;case"table-source":break;case"scenario":break;case"iteration":break;case"content-validations":break;case"content-validation":break;case"help-message":break;case"error-message":break;case"database-ranges":break;case"filter":break;case"filter-and":break;case"filter-or":break;case"filter-condition":break;case"list-level-style-bullet":break;case"list-level-style-number":break;case"list-level-properties":break;case"sender-firstname":case"sender-lastname":case"sender-initials":case"sender-title":case"sender-position":case"sender-email":case"sender-phone-private":case"sender-fax":case"sender-company":case"sender-phone-work":case"sender-street":case"sender-city":case"sender-postal-code":case"sender-country":case"sender-state-or-province":case"author-name":case"author-initials":case"chapter":case"file-name":case"template-name":case"sheet-name":break;case"event-listener":break;case"initial-creator":case"creation-date":case"print-date":case"generator":case"document-statistic":case"user-defined":case"editing-duration":case"editing-cycles":break;case"config-item":break;case"page-number":break;case"page-count":break;case"time":break;case"cell-range-source":break;case"detective":break;case"operation":break;case"highlighted-range":break;case"data-pilot-table":case"source-cell-range":case"source-service":case"data-pilot-field":case"data-pilot-level":case"data-pilot-subtotals":case"data-pilot-subtotal":case"data-pilot-members":case"data-pilot-member":case"data-pilot-display-info":case"data-pilot-sort-info":case"data-pilot-layout-info":case"data-pilot-field-reference":case"data-pilot-groups":case"data-pilot-group":case"data-pilot-group-member":break;case"rect":break;case"dde-connection-decls":case"dde-connection-decl":case"dde-link":case"dde-source":break;case"properties":break;case"property":break;case"a":if(v[1]!=="/"){if(oe=hr(v[0],!1),!oe.href)break;oe.Target=rn(oe.href),delete oe.href,oe.Target.charAt(0)=="#"&&oe.Target.indexOf(".")>-1?(Se=zw(oe.Target.slice(1)),oe.Target="#"+Se[0]+"!"+Se[1]):oe.Target.match(/^\.\.[\\\/]/)&&(oe.Target=oe.Target.slice(3))}break;case"table-protection":break;case"data-pilot-grand-total":break;case"office-document-common-attrs":break;default:switch(v[2]){case"dc:":case"calcext:":case"loext:":case"ooo:":case"chartooo:":case"draw:":case"style:":case"chart:":case"form:":case"uof:":case":":case":":break;default:if(r.WTF)throw new Error(v)}}var X={Sheets:g,SheetNames:x,Workbook:ge};return r.bookSheets&&delete X.Sheets,X}function VE(e,t){t=t||{},Lo(e,"META-INF/manifest.xml")&&fG(ls(e,"META-INF/manifest.xml"),t);var r=Jl(e,"content.xml");if(!r)throw new Error("Missing content.xml in ODS / UOF file");var n=hL(Rn(r),t);return Lo(e,"meta.xml")&&(n.Props=nP(ls(e,"meta.xml"))),n}function WE(e,t){return hL(e,t)}var Une=(function(){var e=["<office:master-styles>",'<style:master-page style:name="mp1" style:page-layout-name="mp1">',"<style:header/>",'<style:header-left style:display="false"/>',"<style:footer/>",'<style:footer-left style:display="false"/>',"</style:master-page>","</office:master-styles>"].join(""),t="<office:document-styles "+Jx({"xmlns:office":"urn:oasis:names:tc:opendocument:xmlns:office:1.0","xmlns:table":"urn:oasis:names:tc:opendocument:xmlns:table:1.0","xmlns:style":"urn:oasis:names:tc:opendocument:xmlns:style:1.0","xmlns:text":"urn:oasis:names:tc:opendocument:xmlns:text:1.0","xmlns:draw":"urn:oasis:names:tc:opendocument:xmlns:drawing:1.0","xmlns:fo":"urn:oasis:names:tc:opendocument:xmlns:xsl-fo-compatible:1.0","xmlns:xlink":"http://www.w3.org/1999/xlink","xmlns:dc":"http://purl.org/dc/elements/1.1/","xmlns:number":"urn:oasis:names:tc:opendocument:xmlns:datastyle:1.0","xmlns:svg":"urn:oasis:names:tc:opendocument:xmlns:svg-compatible:1.0","xmlns:of":"urn:oasis:names:tc:opendocument:xmlns:of:1.2","office:version":"1.2"})+">"+e+"</office:document-styles>";return function(){return es+t}})(),KE=(function(){var e=function(s){return Sn(s).replace(/  +/g,function(l){return'<text:s text:c="'+l.length+'"/>'}).replace(/\t/g,"<text:tab/>").replace(/\n/g,"</text:p><text:p>").replace(/^ /,"<text:s/>").replace(/ $/,"<text:s/>")},t=`          <table:table-cell />
`,r=`          <table:covered-table-cell/>
`,n=function(s,l,o){var u=[];u.push('      <table:table table:name="'+Sn(l.SheetNames[o])+`" table:style-name="ta1">
`);var d=0,h=0,m=Tl(s["!ref"]||"A1"),g=s["!merges"]||[],x=0,b=Array.isArray(s);if(s["!cols"])for(h=0;h<=m.e.c;++h)u.push("        <table:table-column"+(s["!cols"][h]?' table:style-name="co'+s["!cols"][h].ods+'"':"")+`></table:table-column>
`);var v="",w=s["!rows"]||[];for(d=0;d<m.s.r;++d)v=w[d]?' table:style-name="ro'+w[d].ods+'"':"",u.push("        <table:table-row"+v+`></table:table-row>
`);for(;d<=m.e.r;++d){for(v=w[d]?' table:style-name="ro'+w[d].ods+'"':"",u.push("        <table:table-row"+v+`>
`),h=0;h<m.s.c;++h)u.push(t);for(;h<=m.e.c;++h){var N=!1,E={},j="";for(x=0;x!=g.length;++x)if(!(g[x].s.c>h)&&!(g[x].s.r>d)&&!(g[x].e.c<h)&&!(g[x].e.r<d)){(g[x].s.c!=h||g[x].s.r!=d)&&(N=!0),E["table:number-columns-spanned"]=g[x].e.c-g[x].s.c+1,E["table:number-rows-spanned"]=g[x].e.r-g[x].s.r+1;break}if(N){u.push(r);continue}var T=dr({r:d,c:h}),O=b?(s[d]||[])[h]:s[T];if(O&&O.f&&(E["table:formula"]=Sn(iee(O.f)),O.F&&O.F.slice(0,T.length)==T)){var D=Tl(O.F);E["table:number-matrix-columns-spanned"]=D.e.c-D.s.c+1,E["table:number-matrix-rows-spanned"]=D.e.r-D.s.r+1}if(!O){u.push(t);continue}switch(O.t){case"b":j=O.v?"TRUE":"FALSE",E["office:value-type"]="boolean",E["office:boolean-value"]=O.v?"true":"false";break;case"n":j=O.w||String(O.v||0),E["office:value-type"]="float",E["office:value"]=O.v||0;break;case"s":case"str":j=O.v==null?"":O.v,E["office:value-type"]="string";break;case"d":j=O.w||na(O.v).toISOString(),E["office:value-type"]="date",E["office:date-value"]=na(O.v).toISOString(),E["table:style-name"]="ce1";break;default:u.push(t);continue}var C=e(j);if(O.l&&O.l.Target){var P=O.l.Target;P=P.charAt(0)=="#"?"#"+lee(P.slice(1)):P,P.charAt(0)!="#"&&!P.match(/^\w+:/)&&(P="../"+P),C=Nt("text:a",C,{"xlink:href":P.replace(/&/g,"&amp;")})}u.push("          "+Nt("table:table-cell",Nt("text:p",C,{}),E)+`
`)}u.push(`        </table:table-row>
`)}return u.push(`      </table:table>
`),u.join("")},a=function(s,l){s.push(` <office:automatic-styles>
`),s.push(`  <number:date-style style:name="N37" number:automatic-order="true">
`),s.push(`   <number:month number:style="long"/>
`),s.push(`   <number:text>/</number:text>
`),s.push(`   <number:day number:style="long"/>
`),s.push(`   <number:text>/</number:text>
`),s.push(`   <number:year/>
`),s.push(`  </number:date-style>
`);var o=0;l.SheetNames.map(function(d){return l.Sheets[d]}).forEach(function(d){if(d&&d["!cols"]){for(var h=0;h<d["!cols"].length;++h)if(d["!cols"][h]){var m=d["!cols"][h];if(m.width==null&&m.wpx==null&&m.wch==null)continue;Tf(m),m.ods=o;var g=d["!cols"][h].wpx+"px";s.push('  <style:style style:name="co'+o+`" style:family="table-column">
`),s.push('   <style:table-column-properties fo:break-before="auto" style:column-width="'+g+`"/>
`),s.push(`  </style:style>
`),++o}}});var u=0;l.SheetNames.map(function(d){return l.Sheets[d]}).forEach(function(d){if(d&&d["!rows"]){for(var h=0;h<d["!rows"].length;++h)if(d["!rows"][h]){d["!rows"][h].ods=u;var m=d["!rows"][h].hpx+"px";s.push('  <style:style style:name="ro'+u+`" style:family="table-row">
`),s.push('   <style:table-row-properties fo:break-before="auto" style:row-height="'+m+`"/>
`),s.push(`  </style:style>
`),++u}}}),s.push(`  <style:style style:name="ta1" style:family="table" style:master-page-name="mp1">
`),s.push(`   <style:table-properties table:display="true" style:writing-mode="lr-tb"/>
`),s.push(`  </style:style>
`),s.push(`  <style:style style:name="ce1" style:family="table-cell" style:parent-style-name="Default" style:data-style-name="N37"/>
`),s.push(` </office:automatic-styles>
`)};return function(l,o){var u=[es],d=Jx({"xmlns:office":"urn:oasis:names:tc:opendocument:xmlns:office:1.0","xmlns:table":"urn:oasis:names:tc:opendocument:xmlns:table:1.0","xmlns:style":"urn:oasis:names:tc:opendocument:xmlns:style:1.0","xmlns:text":"urn:oasis:names:tc:opendocument:xmlns:text:1.0","xmlns:draw":"urn:oasis:names:tc:opendocument:xmlns:drawing:1.0","xmlns:fo":"urn:oasis:names:tc:opendocument:xmlns:xsl-fo-compatible:1.0","xmlns:xlink":"http://www.w3.org/1999/xlink","xmlns:dc":"http://purl.org/dc/elements/1.1/","xmlns:meta":"urn:oasis:names:tc:opendocument:xmlns:meta:1.0","xmlns:number":"urn:oasis:names:tc:opendocument:xmlns:datastyle:1.0","xmlns:presentation":"urn:oasis:names:tc:opendocument:xmlns:presentation:1.0","xmlns:svg":"urn:oasis:names:tc:opendocument:xmlns:svg-compatible:1.0","xmlns:chart":"urn:oasis:names:tc:opendocument:xmlns:chart:1.0","xmlns:dr3d":"urn:oasis:names:tc:opendocument:xmlns:dr3d:1.0","xmlns:math":"http://www.w3.org/1998/Math/MathML","xmlns:form":"urn:oasis:names:tc:opendocument:xmlns:form:1.0","xmlns:script":"urn:oasis:names:tc:opendocument:xmlns:script:1.0","xmlns:ooo":"http://openoffice.org/2004/office","xmlns:ooow":"http://openoffice.org/2004/writer","xmlns:oooc":"http://openoffice.org/2004/calc","xmlns:dom":"http://www.w3.org/2001/xml-events","xmlns:xforms":"http://www.w3.org/2002/xforms","xmlns:xsd":"http://www.w3.org/2001/XMLSchema","xmlns:xsi":"http://www.w3.org/2001/XMLSchema-instance","xmlns:sheet":"urn:oasis:names:tc:opendocument:sh33tjs:1.0","xmlns:rpt":"http://openoffice.org/2005/report","xmlns:of":"urn:oasis:names:tc:opendocument:xmlns:of:1.2","xmlns:xhtml":"http://www.w3.org/1999/xhtml","xmlns:grddl":"http://www.w3.org/2003/g/data-view#","xmlns:tableooo":"http://openoffice.org/2009/table","xmlns:drawooo":"http://openoffice.org/2010/draw","xmlns:calcext":"urn:org:documentfoundation:names:experimental:calc:xmlns:calcext:1.0","xmlns:loext":"urn:org:documentfoundation:names:experimental:office:xmlns:loext:1.0","xmlns:field":"urn:openoffice:names:experimental:ooo-ms-interop:xmlns:field:1.0","xmlns:formx":"urn:openoffice:names:experimental:ooxml-odf-interop:xmlns:form:1.0","xmlns:css3t":"http://www.w3.org/TR/css3-text/","office:version":"1.2"}),h=Jx({"xmlns:config":"urn:oasis:names:tc:opendocument:xmlns:config:1.0","office:mimetype":"application/vnd.oasis.opendocument.spreadsheet"});o.bookType=="fods"?(u.push("<office:document"+d+h+`>
`),u.push(rP().replace(/office:document-meta/g,"office:meta"))):u.push("<office:document-content"+d+`>
`),a(u,l),u.push(`  <office:body>
`),u.push(`    <office:spreadsheet>
`);for(var m=0;m!=l.SheetNames.length;++m)u.push(n(l.Sheets[l.SheetNames[m]],l,m));return u.push(`    </office:spreadsheet>
`),u.push(`  </office:body>
`),o.bookType=="fods"?u.push("</office:document>"):u.push("</office:document-content>"),u.join("")}})();function mL(e,t){if(t.bookType=="fods")return KE(e,t);var r=aj(),n="",a=[],s=[];return n="mimetype",Sr(r,n,"application/vnd.oasis.opendocument.spreadsheet"),n="content.xml",Sr(r,n,KE(e,t)),a.push([n,"text/xml"]),s.push([n,"ContentFile"]),n="styles.xml",Sr(r,n,Une(e,t)),a.push([n,"text/xml"]),s.push([n,"StylesFile"]),n="meta.xml",Sr(r,n,es+rP()),a.push([n,"text/xml"]),s.push([n,"MetadataFile"]),n="manifest.rdf",Sr(r,n,pG(s)),a.push([n,"application/rdf+xml"]),n="META-INF/manifest.xml",Sr(r,n,hG(a)),r}/*! sheetjs (C) 2013-present SheetJS -- http://sheetjs.com */function th(e){return new DataView(e.buffer,e.byteOffset,e.byteLength)}function g4(e){return typeof TextDecoder<"u"?new TextDecoder().decode(e):Rn(Uf(e))}function zne(e){return typeof TextEncoder<"u"?new TextEncoder().encode(e):Zl(cu(e))}function qne(e,t){e:for(var r=0;r<=e.length-t.length;++r){for(var n=0;n<t.length;++n)if(e[r+n]!=t[n])continue e;return!0}return!1}function Ff(e){var t=e.reduce(function(a,s){return a+s.length},0),r=new Uint8Array(t),n=0;return e.forEach(function(a){r.set(a,n),n+=a.length}),r}function GE(e){return e-=e>>1&1431655765,e=(e&858993459)+(e>>2&858993459),(e+(e>>4)&252645135)*16843009>>>24}function $ne(e,t){for(var r=(e[t+15]&127)<<7|e[t+14]>>1,n=e[t+14]&1,a=t+13;a>=t;--a)n=n*256+e[a];return(e[t+15]&128?-n:n)*Math.pow(10,r-6176)}function Hne(e,t,r){var n=Math.floor(r==0?0:Math.LOG10E*Math.log(Math.abs(r)))+6176-20,a=r/Math.pow(10,n-6176);e[t+15]|=n>>7,e[t+14]|=(n&127)<<1;for(var s=0;a>=1;++s,a/=256)e[t+s]=a&255;e[t+15]|=r>=0?0:128}function lg(e,t){var r=t?t[0]:0,n=e[r]&127;e:if(e[r++]>=128&&(n|=(e[r]&127)<<7,e[r++]<128||(n|=(e[r]&127)<<14,e[r++]<128)||(n|=(e[r]&127)<<21,e[r++]<128)||(n+=(e[r]&127)*Math.pow(2,28),++r,e[r++]<128)||(n+=(e[r]&127)*Math.pow(2,35),++r,e[r++]<128)||(n+=(e[r]&127)*Math.pow(2,42),++r,e[r++]<128)))break e;return t&&(t[0]=r),n}function wn(e){var t=new Uint8Array(7);t[0]=e&127;var r=1;e:if(e>127){if(t[r-1]|=128,t[r]=e>>7&127,++r,e<=16383||(t[r-1]|=128,t[r]=e>>14&127,++r,e<=2097151)||(t[r-1]|=128,t[r]=e>>21&127,++r,e<=268435455)||(t[r-1]|=128,t[r]=e/256>>>21&127,++r,e<=34359738367)||(t[r-1]|=128,t[r]=e/65536>>>21&127,++r,e<=4398046511103))break e;t[r-1]|=128,t[r]=e/16777216>>>21&127,++r}return t.slice(0,r)}function Ua(e){var t=0,r=e[t]&127;e:if(e[t++]>=128){if(r|=(e[t]&127)<<7,e[t++]<128||(r|=(e[t]&127)<<14,e[t++]<128)||(r|=(e[t]&127)<<21,e[t++]<128))break e;r|=(e[t]&127)<<28}return r}function ln(e){for(var t=[],r=[0];r[0]<e.length;){var n=r[0],a=lg(e,r),s=a&7;a=Math.floor(a/8);var l=0,o;if(a==0)break;switch(s){case 0:{for(var u=r[0];e[r[0]++]>=128;);o=e.slice(u,r[0])}break;case 5:l=4,o=e.slice(r[0],r[0]+l),r[0]+=l;break;case 1:l=8,o=e.slice(r[0],r[0]+l),r[0]+=l;break;case 2:l=lg(e,r),o=e.slice(r[0],r[0]+l),r[0]+=l;break;case 3:case 4:default:throw new Error("PB Type ".concat(s," for Field ").concat(a," at offset ").concat(n))}var d={data:o,type:s};t[a]==null?t[a]=[d]:t[a].push(d)}return t}function ii(e){var t=[];return e.forEach(function(r,n){r.forEach(function(a){a.data&&(t.push(wn(n*8+a.type)),a.type==2&&t.push(wn(a.data.length)),t.push(a.data))})}),Ff(t)}function Oj(e,t){return e?.map(function(r){return t(r.data)})||[]}function Fo(e){for(var t,r=[],n=[0];n[0]<e.length;){var a=lg(e,n),s=ln(e.slice(n[0],n[0]+a));n[0]+=a;var l={id:Ua(s[1][0].data),messages:[]};s[2].forEach(function(o){var u=ln(o.data),d=Ua(u[3][0].data);l.messages.push({meta:u,data:e.slice(n[0],n[0]+d)}),n[0]+=d}),(t=s[3])!=null&&t[0]&&(l.merge=Ua(s[3][0].data)>>>0>0),r.push(l)}return r}function vm(e){var t=[];return e.forEach(function(r){var n=[];n[1]=[{data:wn(r.id),type:0}],n[2]=[],r.merge!=null&&(n[3]=[{data:wn(+!!r.merge),type:0}]);var a=[];r.messages.forEach(function(l){a.push(l.data),l.meta[3]=[{type:0,data:wn(l.data.length)}],n[2].push({data:ii(l.meta),type:2})});var s=ii(n);t.push(wn(s.length)),t.push(s),a.forEach(function(l){return t.push(l)})}),Ff(t)}function Vne(e,t){if(e!=0)throw new Error("Unexpected Snappy chunk type ".concat(e));for(var r=[0],n=lg(t,r),a=[];r[0]<t.length;){var s=t[r[0]]&3;if(s==0){var l=t[r[0]++]>>2;if(l<60)++l;else{var o=l-59;l=t[r[0]],o>1&&(l|=t[r[0]+1]<<8),o>2&&(l|=t[r[0]+2]<<16),o>3&&(l|=t[r[0]+3]<<24),l>>>=0,l++,r[0]+=o}a.push(t.slice(r[0],r[0]+l)),r[0]+=l;continue}else{var u=0,d=0;if(s==1?(d=(t[r[0]]>>2&7)+4,u=(t[r[0]++]&224)<<3,u|=t[r[0]++]):(d=(t[r[0]++]>>2)+1,s==2?(u=t[r[0]]|t[r[0]+1]<<8,r[0]+=2):(u=(t[r[0]]|t[r[0]+1]<<8|t[r[0]+2]<<16|t[r[0]+3]<<24)>>>0,r[0]+=4)),a=[Ff(a)],u==0)throw new Error("Invalid offset 0");if(u>a[0].length)throw new Error("Invalid offset beyond length");if(d>=u)for(a.push(a[0].slice(-u)),d-=u;d>=a[a.length-1].length;)a.push(a[a.length-1]),d-=a[a.length-1].length;a.push(a[0].slice(-u,-u+d))}}var h=Ff(a);if(h.length!=n)throw new Error("Unexpected length: ".concat(h.length," != ").concat(n));return h}function Do(e){for(var t=[],r=0;r<e.length;){var n=e[r++],a=e[r]|e[r+1]<<8|e[r+2]<<16;r+=3,t.push(Vne(n,e.slice(r,r+a))),r+=a}if(r!==e.length)throw new Error("data is not a valid framed stream!");return Ff(t)}function ym(e){for(var t=[],r=0;r<e.length;){var n=Math.min(e.length-r,268435455),a=new Uint8Array(4);t.push(a);var s=wn(n),l=s.length;t.push(s),n<=60?(l++,t.push(new Uint8Array([n-1<<2]))):n<=256?(l+=2,t.push(new Uint8Array([240,n-1&255]))):n<=65536?(l+=3,t.push(new Uint8Array([244,n-1&255,n-1>>8&255]))):n<=16777216?(l+=4,t.push(new Uint8Array([248,n-1&255,n-1>>8&255,n-1>>16&255]))):n<=4294967296&&(l+=5,t.push(new Uint8Array([252,n-1&255,n-1>>8&255,n-1>>16&255,n-1>>>24&255]))),t.push(e.slice(r,r+n)),l+=n,a[0]=0,a[1]=l&255,a[2]=l>>8&255,a[3]=l>>16&255,r+=n}return Ff(t)}function Wne(e,t,r,n){var a=th(e),s=a.getUint32(4,!0),l=(n>1?12:8)+GE(s&(n>1?3470:398))*4,o=-1,u=-1,d=NaN,h=new Date(2001,0,1);s&512&&(o=a.getUint32(l,!0),l+=4),l+=GE(s&(n>1?12288:4096))*4,s&16&&(u=a.getUint32(l,!0),l+=4),s&32&&(d=a.getFloat64(l,!0),l+=8),s&64&&(h.setTime(h.getTime()+a.getFloat64(l,!0)*1e3),l+=8);var m;switch(e[2]){case 0:break;case 2:m={t:"n",v:d};break;case 3:m={t:"s",v:t[u]};break;case 5:m={t:"d",v:h};break;case 6:m={t:"b",v:d>0};break;case 7:m={t:"n",v:d/86400};break;case 8:m={t:"e",v:0};break;case 9:if(o>-1)m={t:"s",v:r[o]};else if(u>-1)m={t:"s",v:t[u]};else if(!isNaN(d))m={t:"n",v:d};else throw new Error("Unsupported cell type ".concat(e.slice(0,4)));break;default:throw new Error("Unsupported cell type ".concat(e.slice(0,4)))}return m}function Kne(e,t,r){var n=th(e),a=n.getUint32(8,!0),s=12,l=-1,o=-1,u=NaN,d=NaN,h=new Date(2001,0,1);a&1&&(u=$ne(e,s),s+=16),a&2&&(d=n.getFloat64(s,!0),s+=8),a&4&&(h.setTime(h.getTime()+n.getFloat64(s,!0)*1e3),s+=8),a&8&&(o=n.getUint32(s,!0),s+=4),a&16&&(l=n.getUint32(s,!0),s+=4);var m;switch(e[1]){case 0:break;case 2:m={t:"n",v:u};break;case 3:m={t:"s",v:t[o]};break;case 5:m={t:"d",v:h};break;case 6:m={t:"b",v:d>0};break;case 7:m={t:"n",v:d/86400};break;case 8:m={t:"e",v:0};break;case 9:if(l>-1)m={t:"s",v:r[l]};else throw new Error("Unsupported cell type ".concat(e[1]," : ").concat(a&31," : ").concat(e.slice(0,4)));break;case 10:m={t:"n",v:u};break;default:throw new Error("Unsupported cell type ".concat(e[1]," : ").concat(a&31," : ").concat(e.slice(0,4)))}return m}function $w(e,t){var r=new Uint8Array(32),n=th(r),a=12,s=0;switch(r[0]=5,e.t){case"n":r[1]=2,Hne(r,a,e.v),s|=1,a+=16;break;case"b":r[1]=6,n.setFloat64(a,e.v?1:0,!0),s|=2,a+=8;break;case"s":if(t.indexOf(e.v)==-1)throw new Error("Value ".concat(e.v," missing from SST!"));r[1]=3,n.setUint32(a,t.indexOf(e.v),!0),s|=8,a+=4;break;default:throw"unsupported cell type "+e.t}return n.setUint32(8,s,!0),r.slice(0,a)}function Hw(e,t){var r=new Uint8Array(32),n=th(r),a=12,s=0;switch(r[0]=3,e.t){case"n":r[2]=2,n.setFloat64(a,e.v,!0),s|=32,a+=8;break;case"b":r[2]=6,n.setFloat64(a,e.v?1:0,!0),s|=32,a+=8;break;case"s":if(t.indexOf(e.v)==-1)throw new Error("Value ".concat(e.v," missing from SST!"));r[2]=3,n.setUint32(a,t.indexOf(e.v),!0),s|=16,a+=4;break;default:throw"unsupported cell type "+e.t}return n.setUint32(4,s,!0),r.slice(0,a)}function Gne(e,t,r){switch(e[0]){case 0:case 1:case 2:case 3:return Wne(e,t,r,e[0]);case 5:return Kne(e,t,r);default:throw new Error("Unsupported payload version ".concat(e[0]))}}function Ai(e){var t=ln(e);return lg(t[1][0].data)}function YE(e,t){var r=ln(t.data),n=Ua(r[1][0].data),a=r[3],s=[];return(a||[]).forEach(function(l){var o=ln(l.data),u=Ua(o[1][0].data)>>>0;switch(n){case 1:s[u]=g4(o[3][0].data);break;case 8:{var d=e[Ai(o[9][0].data)][0],h=ln(d.data),m=e[Ai(h[1][0].data)][0],g=Ua(m.meta[1][0].data);if(g!=2001)throw new Error("2000 unexpected reference to ".concat(g));var x=ln(m.data);s[u]=x[3].map(function(b){return g4(b.data)}).join("")}break}}),s}function Yne(e,t){var r,n,a,s,l,o,u,d,h,m,g,x,b,v,w=ln(e),N=Ua(w[1][0].data)>>>0,E=Ua(w[2][0].data)>>>0,j=((n=(r=w[8])==null?void 0:r[0])==null?void 0:n.data)&&Ua(w[8][0].data)>0||!1,T,O;if((s=(a=w[7])==null?void 0:a[0])!=null&&s.data&&t!=0)T=(o=(l=w[7])==null?void 0:l[0])==null?void 0:o.data,O=(d=(u=w[6])==null?void 0:u[0])==null?void 0:d.data;else if((m=(h=w[4])==null?void 0:h[0])!=null&&m.data&&t!=1)T=(x=(g=w[4])==null?void 0:g[0])==null?void 0:x.data,O=(v=(b=w[3])==null?void 0:b[0])==null?void 0:v.data;else throw"NUMBERS Tile missing ".concat(t," cell storage");for(var D=j?4:1,C=th(T),P=[],B=0;B<T.length/2;++B){var H=C.getUint16(B*2,!0);H<65535&&P.push([B,H])}if(P.length!=E)throw"Expected ".concat(E," cells, found ").concat(P.length);var L=[];for(B=0;B<P.length-1;++B)L[P[B][0]]=O.subarray(P[B][1]*D,P[B+1][1]*D);return P.length>=1&&(L[P[P.length-1][0]]=O.subarray(P[P.length-1][1]*D)),{R:N,cells:L}}function Xne(e,t){var r,n=ln(t.data),a=(r=n?.[7])!=null&&r[0]?Ua(n[7][0].data)>>>0>0?1:0:-1,s=Oj(n[5],function(l){return Yne(l,a)});return{nrows:Ua(n[4][0].data)>>>0,data:s.reduce(function(l,o){return l[o.R]||(l[o.R]=[]),o.cells.forEach(function(u,d){if(l[o.R][d])throw new Error("Duplicate cell r=".concat(o.R," c=").concat(d));l[o.R][d]=u}),l},[])}}function Qne(e,t,r){var n,a=ln(t.data),s={s:{r:0,c:0},e:{r:0,c:0}};if(s.e.r=(Ua(a[6][0].data)>>>0)-1,s.e.r<0)throw new Error("Invalid row varint ".concat(a[6][0].data));if(s.e.c=(Ua(a[7][0].data)>>>0)-1,s.e.c<0)throw new Error("Invalid col varint ".concat(a[7][0].data));r["!ref"]=Nr(s);var l=ln(a[4][0].data),o=YE(e,e[Ai(l[4][0].data)][0]),u=(n=l[17])!=null&&n[0]?YE(e,e[Ai(l[17][0].data)][0]):[],d=ln(l[3][0].data),h=0;d[1].forEach(function(m){var g=ln(m.data),x=e[Ai(g[2][0].data)][0],b=Ua(x.meta[1][0].data);if(b!=6002)throw new Error("6001 unexpected reference to ".concat(b));var v=Xne(e,x);v.data.forEach(function(w,N){w.forEach(function(E,j){var T=dr({r:h+N,c:j}),O=Gne(E,o,u);O&&(r[T]=O)})}),h+=v.nrows})}function Zne(e,t){var r=ln(t.data),n={"!ref":"A1"},a=e[Ai(r[2][0].data)],s=Ua(a[0].meta[1][0].data);if(s!=6001)throw new Error("6000 unexpected reference to ".concat(s));return Qne(e,a[0],n),n}function Jne(e,t){var r,n=ln(t.data),a={name:(r=n[1])!=null&&r[0]?g4(n[1][0].data):"",sheets:[]},s=Oj(n[2],Ai);return s.forEach(function(l){e[l].forEach(function(o){var u=Ua(o.meta[1][0].data);u==6e3&&a.sheets.push(Zne(e,o))})}),a}function eae(e,t){var r=Mj(),n=ln(t.data),a=Oj(n[1],Ai);if(a.forEach(function(s){e[s].forEach(function(l){var o=Ua(l.meta[1][0].data);if(o==2){var u=Jne(e,l);u.sheets.forEach(function(d,h){Rj(r,d,h==0?u.name:u.name+"_"+h,!0)})}})}),r.SheetNames.length==0)throw new Error("Empty NUMBERS file");return r}function Vw(e){var t,r,n,a,s={},l=[];if(e.FullPaths.forEach(function(u){if(u.match(/\.iwpv2/))throw new Error("Unsupported password protection")}),e.FileIndex.forEach(function(u){if(u.name.match(/\.iwa$/)){var d;try{d=Do(u.content)}catch(m){return console.log("?? "+u.content.length+" "+(m.message||m))}var h;try{h=Fo(d)}catch(m){return console.log("## "+(m.message||m))}h.forEach(function(m){s[m.id]=m.messages,l.push(m.id)})}}),!l.length)throw new Error("File has no messages");var o=((a=(n=(r=(t=s?.[1])==null?void 0:t[0])==null?void 0:r.meta)==null?void 0:n[1])==null?void 0:a[0].data)&&Ua(s[1][0].meta[1][0].data)==1&&s[1][0];if(o||l.forEach(function(u){s[u].forEach(function(d){var h=Ua(d.meta[1][0].data)>>>0;if(h==1)if(!o)o=d;else throw new Error("Document has multiple roots")})}),!o)throw new Error("Cannot find Document root");return eae(s,o)}function tae(e,t,r){var n,a,s,l;if(!((n=e[6])!=null&&n[0])||!((a=e[7])!=null&&a[0]))throw"Mutation only works on post-BNC storages!";var o=((l=(s=e[8])==null?void 0:s[0])==null?void 0:l.data)&&Ua(e[8][0].data)>0||!1;if(o)throw"Math only works with normal offsets";for(var u=0,d=th(e[7][0].data),h=0,m=[],g=th(e[4][0].data),x=0,b=[],v=0;v<t.length;++v){if(t[v]==null){d.setUint16(v*2,65535,!0),g.setUint16(v*2,65535);continue}d.setUint16(v*2,h,!0),g.setUint16(v*2,x,!0);var w,N;switch(typeof t[v]){case"string":w=$w({t:"s",v:t[v]},r),N=Hw({t:"s",v:t[v]},r);break;case"number":w=$w({t:"n",v:t[v]},r),N=Hw({t:"n",v:t[v]},r);break;case"boolean":w=$w({t:"b",v:t[v]},r),N=Hw({t:"b",v:t[v]},r);break;default:throw new Error("Unsupported value "+t[v])}m.push(w),h+=w.length,b.push(N),x+=N.length,++u}for(e[2][0].data=wn(u);v<e[7][0].data.length/2;++v)d.setUint16(v*2,65535,!0),g.setUint16(v*2,65535,!0);return e[6][0].data=Ff(m),e[3][0].data=Ff(b),u}function rae(e,t){if(!t||!t.numbers)throw new Error("Must pass a `numbers` option -- check the README");var r=e.Sheets[e.SheetNames[0]];e.SheetNames.length>1&&console.error("The Numbers writer currently writes only the first table");var n=Tl(r["!ref"]);n.s.r=n.s.c=0;var a=!1;n.e.c>9&&(a=!0,n.e.c=9),n.e.r>49&&(a=!0,n.e.r=49),a&&console.error("The Numbers writer is currently limited to ".concat(Nr(n)));var s=py(r,{range:n,header:1}),l=["~Sh33tJ5~"];s.forEach(function(R){return R.forEach(function(q){typeof q=="string"&&l.push(q)})});var o={},u=[],d=ar.read(t.numbers,{type:"base64"});d.FileIndex.map(function(R,q){return[R,d.FullPaths[q]]}).forEach(function(R){var q=R[0],K=R[1];if(q.type==2&&q.name.match(/\.iwa/)){var ee=q.content,ce=Do(ee),Q=Fo(ce);Q.forEach(function(re){u.push(re.id),o[re.id]={deps:[],location:K,type:Ua(re.messages[0].meta[1][0].data)}})}}),u.sort(function(R,q){return R-q});var h=u.filter(function(R){return R>1}).map(function(R){return[R,wn(R)]});d.FileIndex.map(function(R,q){return[R,d.FullPaths[q]]}).forEach(function(R){var q=R[0];if(R[1],!!q.name.match(/\.iwa/)){var K=Fo(Do(q.content));K.forEach(function(ee){ee.messages.forEach(function(ce){h.forEach(function(Q){ee.messages.some(function(re){return Ua(re.meta[1][0].data)!=11006&&qne(re.data,Q[1])})&&o[Q[0]].deps.push(ee.id)})})})}});for(var m=ar.find(d,o[1].location),g=Fo(Do(m.content)),x,b=0;b<g.length;++b){var v=g[b];v.id==1&&(x=v)}var w=Ai(ln(x.messages[0].data)[1][0].data);for(m=ar.find(d,o[w].location),g=Fo(Do(m.content)),b=0;b<g.length;++b)v=g[b],v.id==w&&(x=v);for(w=Ai(ln(x.messages[0].data)[2][0].data),m=ar.find(d,o[w].location),g=Fo(Do(m.content)),b=0;b<g.length;++b)v=g[b],v.id==w&&(x=v);for(w=Ai(ln(x.messages[0].data)[2][0].data),m=ar.find(d,o[w].location),g=Fo(Do(m.content)),b=0;b<g.length;++b)v=g[b],v.id==w&&(x=v);var N=ln(x.messages[0].data);{N[6][0].data=wn(n.e.r+1),N[7][0].data=wn(n.e.c+1);var E=Ai(N[46][0].data),j=ar.find(d,o[E].location),T=Fo(Do(j.content));{for(var O=0;O<T.length&&T[O].id!=E;++O);if(T[O].id!=E)throw"Bad ColumnRowUIDMapArchive";var D=ln(T[O].messages[0].data);D[1]=[],D[2]=[],D[3]=[];for(var C=0;C<=n.e.c;++C){var P=[];P[1]=P[2]=[{type:0,data:wn(C+420690)}],D[1].push({type:2,data:ii(P)}),D[2].push({type:0,data:wn(C)}),D[3].push({type:0,data:wn(C)})}D[4]=[],D[5]=[],D[6]=[];for(var B=0;B<=n.e.r;++B)P=[],P[1]=P[2]=[{type:0,data:wn(B+726270)}],D[4].push({type:2,data:ii(P)}),D[5].push({type:0,data:wn(B)}),D[6].push({type:0,data:wn(B)});T[O].messages[0].data=ii(D)}j.content=ym(vm(T)),j.size=j.content.length,delete N[46];var H=ln(N[4][0].data);{H[7][0].data=wn(n.e.r+1);var L=ln(H[1][0].data),U=Ai(L[2][0].data);j=ar.find(d,o[U].location),T=Fo(Do(j.content));{if(T[0].id!=U)throw"Bad HeaderStorageBucket";var V=ln(T[0].messages[0].data);for(B=0;B<s.length;++B){var Y=ln(V[2][0].data);Y[1][0].data=wn(B),Y[4][0].data=wn(s[B].length),V[2][B]={type:V[2][0].type,data:ii(Y)}}T[0].messages[0].data=ii(V)}j.content=ym(vm(T)),j.size=j.content.length;var de=Ai(H[2][0].data);j=ar.find(d,o[de].location),T=Fo(Do(j.content));{if(T[0].id!=de)throw"Bad HeaderStorageBucket";for(V=ln(T[0].messages[0].data),C=0;C<=n.e.c;++C)Y=ln(V[2][0].data),Y[1][0].data=wn(C),Y[4][0].data=wn(n.e.r+1),V[2][C]={type:V[2][0].type,data:ii(Y)};T[0].messages[0].data=ii(V)}j.content=ym(vm(T)),j.size=j.content.length;var te=Ai(H[4][0].data);(function(){for(var R=ar.find(d,o[te].location),q=Fo(Do(R.content)),K,ee=0;ee<q.length;++ee){var ce=q[ee];ce.id==te&&(K=ce)}var Q=ln(K.messages[0].data);{Q[3]=[];var re=[];l.forEach(function(X,Je){re[1]=[{type:0,data:wn(Je)}],re[2]=[{type:0,data:wn(1)}],re[3]=[{type:2,data:zne(X)}],Q[3].push({type:2,data:ii(re)})})}K.messages[0].data=ii(Q);var ye=vm(q),Ee=ym(ye);R.content=Ee,R.size=R.content.length})();var ie=ln(H[3][0].data);{var ge=ie[1][0];delete ie[2];var oe=ln(ge.data);{var Se=Ai(oe[2][0].data);(function(){for(var R=ar.find(d,o[Se].location),q=Fo(Do(R.content)),K,ee=0;ee<q.length;++ee){var ce=q[ee];ce.id==Se&&(K=ce)}var Q=ln(K.messages[0].data);{delete Q[6],delete ie[7];var re=new Uint8Array(Q[5][0].data);Q[5]=[];for(var ye=0,Ee=0;Ee<=n.e.r;++Ee){var X=ln(re);ye+=tae(X,s[Ee],l),X[1][0].data=wn(Ee),Q[5].push({data:ii(X),type:2})}Q[1]=[{type:0,data:wn(n.e.c+1)}],Q[2]=[{type:0,data:wn(n.e.r+1)}],Q[3]=[{type:0,data:wn(ye)}],Q[4]=[{type:0,data:wn(n.e.r+1)}]}K.messages[0].data=ii(Q);var Je=vm(q),Ce=ym(Je);R.content=Ce,R.size=R.content.length})()}ge.data=ii(oe)}H[3][0].data=ii(ie)}N[4][0].data=ii(H)}x.messages[0].data=ii(N);var ne=vm(g),M=ym(ne);return m.content=M,m.size=m.content.length,d}function pL(e){return function(r){for(var n=0;n!=e.length;++n){var a=e[n];r[a[0]]===void 0&&(r[a[0]]=a[1]),a[2]==="n"&&(r[a[0]]=Number(r[a[0]]))}}}function Fj(e){pL([["cellNF",!1],["cellHTML",!0],["cellFormula",!0],["cellStyles",!1],["cellText",!0],["cellDates",!1],["sheetStubs",!1],["sheetRows",0,"n"],["bookDeps",!1],["bookSheets",!1],["bookProps",!1],["bookFiles",!1],["bookVBA",!1],["password",""],["WTF",!1]])(e)}function Dj(e){pL([["cellDates",!1],["bookSST",!1],["bookType","xlsx"],["compression",!1],["WTF",!1]])(e)}function nae(e){return Pr.WS.indexOf(e)>-1?"sheet":e==Pr.CS?"chart":e==Pr.DS?"dialog":e==Pr.MS?"macro":e&&e.length?e:"sheet"}function aae(e,t){if(!e)return 0;try{e=t.map(function(n){return n.id||(n.id=n.strRelID),[n.name,e["!id"][n.id].Target,nae(e["!id"][n.id].Type)]})}catch{return null}return!e||e.length===0?null:e}function sae(e,t,r,n,a,s,l,o,u,d,h,m){try{s[n]=Dx(Jl(e,r,!0),t);var g=ls(e,t),x;switch(o){case"sheet":x=kre(g,t,a,u,s[n],d,h,m);break;case"chart":if(x=Ere(g,t,a,u,s[n],d,h,m),!x||!x["!drawel"])break;var b=Sx(x["!drawel"].Target,t),v=tg(b),w=mZ(Jl(e,b,!0),Dx(Jl(e,v,!0),b)),N=Sx(w,b),E=tg(N);x=tre(Jl(e,N,!0),N,u,Dx(Jl(e,E,!0),N),d,x);break;case"macro":x=Cre(g,t,a,u,s[n],d,h,m);break;case"dialog":x=Tre(g,t,a,u,s[n],d,h,m);break;default:throw new Error("Unrecognized sheet type "+o)}l[n]=x;var j=[];s&&s[n]&&za(s[n]).forEach(function(T){var O="";if(s[n][T].Type==Pr.CMNT){O=Sx(s[n][T].Target,t);var D=Pre(ls(e,O,!0),O,u);if(!D||!D.length)return;PE(x,D,!1)}s[n][T].Type==Pr.TCMNT&&(O=Sx(s[n][T].Target,t),j=j.concat(xZ(ls(e,O,!0),u)))}),j&&j.length&&PE(x,j,!0,u.people||[])}catch(T){if(u.WTF)throw T}}function ko(e){return e.charAt(0)=="/"?e.slice(1):e}function iae(e,t){if(dp(),t=t||{},Fj(t),Lo(e,"META-INF/manifest.xml")||Lo(e,"objectdata.xml"))return VE(e,t);if(Lo(e,"Index/Document.iwa")){if(typeof Uint8Array>"u")throw new Error("NUMBERS file parsing requires Uint8Array support");if(typeof Vw<"u"){if(e.FileIndex)return Vw(e);var r=ar.utils.cfb_new();return tE(e).forEach(function(Y){Sr(r,Y,gK(e,Y))}),Vw(r)}throw new Error("Unsupported NUMBERS file")}if(!Lo(e,"[Content_Types].xml"))throw Lo(e,"index.xml.gz")?new Error("Unsupported NUMBERS 08 file"):Lo(e,"index.xml")?new Error("Unsupported NUMBERS 09 file"):new Error("Unsupported ZIP file");var n=tE(e),a=uG(Jl(e,"[Content_Types].xml")),s=!1,l,o;if(a.workbooks.length===0&&(o="xl/workbook.xml",ls(e,o,!0)&&a.workbooks.push(o)),a.workbooks.length===0){if(o="xl/workbook.bin",!ls(e,o,!0))throw new Error("Could not find workbook");a.workbooks.push(o),s=!0}a.workbooks[0].slice(-3)=="bin"&&(s=!0);var u={},d={};if(!t.bookSheets&&!t.bookProps){if(Px=[],a.sst)try{Px=Dre(ls(e,ko(a.sst)),a.sst,t)}catch(Y){if(t.WTF)throw Y}t.cellStyles&&a.themes.length&&(u=Fre(Jl(e,a.themes[0].replace(/^\//,""),!0)||"",a.themes[0],t)),a.style&&(d=Ore(ls(e,ko(a.style)),a.style,u,t))}a.links.map(function(Y){try{var de=Dx(Jl(e,tg(ko(Y))),Y);return Mre(ls(e,ko(Y)),de,Y,t)}catch{}});var h=Are(ls(e,ko(a.workbooks[0])),a.workbooks[0],t),m={},g="";a.coreprops.length&&(g=ls(e,ko(a.coreprops[0]),!0),g&&(m=nP(g)),a.extprops.length!==0&&(g=ls(e,ko(a.extprops[0]),!0),g&&gG(g,m,t)));var x={};(!t.bookSheets||t.bookProps)&&a.custprops.length!==0&&(g=Jl(e,ko(a.custprops[0]),!0),g&&(x=yG(g,t)));var b={};if((t.bookSheets||t.bookProps)&&(h.Sheets?l=h.Sheets.map(function(de){return de.name}):m.Worksheets&&m.SheetNames.length>0&&(l=m.SheetNames),t.bookProps&&(b.Props=m,b.Custprops=x),t.bookSheets&&typeof l<"u"&&(b.SheetNames=l),t.bookSheets?b.SheetNames:t.bookProps))return b;l={};var v={};t.bookDeps&&a.calcchain&&(v=Lre(ls(e,ko(a.calcchain)),a.calcchain));var w=0,N={},E,j;{var T=h.Sheets;m.Worksheets=T.length,m.SheetNames=[];for(var O=0;O!=T.length;++O)m.SheetNames[O]=T[O].name}var D=s?"bin":"xml",C=a.workbooks[0].lastIndexOf("/"),P=(a.workbooks[0].slice(0,C+1)+"_rels/"+a.workbooks[0].slice(C+1)+".rels").replace(/^\//,"");Lo(e,P)||(P="xl/_rels/workbook."+D+".rels");var B=Dx(Jl(e,P,!0),P.replace(/_rels.*/,"s5s"));(a.metadata||[]).length>=1&&(t.xlmeta=Rre(ls(e,ko(a.metadata[0])),a.metadata[0],t)),(a.people||[]).length>=1&&(t.people=vZ(ls(e,ko(a.people[0])),t)),B&&(B=aae(B,h.Sheets));var H=ls(e,"xl/worksheets/sheet.xml",!0)?1:0;e:for(w=0;w!=m.Worksheets;++w){var L="sheet";if(B&&B[w]?(E="xl/"+B[w][1].replace(/[\/]?xl\//,""),Lo(e,E)||(E=B[w][1]),Lo(e,E)||(E=P.replace(/_rels\/.*$/,"")+B[w][1]),L=B[w][2]):(E="xl/worksheets/sheet"+(w+1-H)+"."+D,E=E.replace(/sheet0\./,"sheet.")),j=E.replace(/^(.*)(\/)([^\/]*)$/,"$1/_rels/$3.rels"),t&&t.sheets!=null)switch(typeof t.sheets){case"number":if(w!=t.sheets)continue e;break;case"string":if(m.SheetNames[w].toLowerCase()!=t.sheets.toLowerCase())continue e;break;default:if(Array.isArray&&Array.isArray(t.sheets)){for(var U=!1,V=0;V!=t.sheets.length;++V)typeof t.sheets[V]=="number"&&t.sheets[V]==w&&(U=1),typeof t.sheets[V]=="string"&&t.sheets[V].toLowerCase()==m.SheetNames[w].toLowerCase()&&(U=1);if(!U)continue e}}sae(e,E,j,m.SheetNames[w],w,N,l,L,t,h,u,d)}return b={Directory:a,Workbook:h,Props:m,Custprops:x,Deps:v,Sheets:l,SheetNames:m.SheetNames,Strings:Px,Styles:d,Themes:u,SSF:aa(ur)},t&&t.bookFiles&&(e.files?(b.keys=n,b.files=e.files):(b.keys=[],b.files={},e.FullPaths.forEach(function(Y,de){Y=Y.replace(/^Root Entry[\/]/,""),b.keys.push(Y),b.files[Y]=e.FileIndex[de]}))),t&&t.bookVBA&&(a.vba.length>0?b.vbaraw=ls(e,ko(a.vba[0]),!0):a.defaults&&a.defaults.bin===AZ&&(b.vbaraw=ls(e,"xl/vbaProject.bin",!0))),b}function lae(e,t){var r=t||{},n="Workbook",a=ar.find(e,n);try{if(n="/!DataSpaces/Version",a=ar.find(e,n),!a||!a.content)throw new Error("ECMA-376 Encrypted file missing "+n);if(RX(a.content),n="/!DataSpaces/DataSpaceMap",a=ar.find(e,n),!a||!a.content)throw new Error("ECMA-376 Encrypted file missing "+n);var s=BX(a.content);if(s.length!==1||s[0].comps.length!==1||s[0].comps[0].t!==0||s[0].name!=="StrongEncryptionDataSpace"||s[0].comps[0].v!=="EncryptedPackage")throw new Error("ECMA-376 Encrypted file bad "+n);if(n="/!DataSpaces/DataSpaceInfo/StrongEncryptionDataSpace",a=ar.find(e,n),!a||!a.content)throw new Error("ECMA-376 Encrypted file missing "+n);var l=UX(a.content);if(l.length!=1||l[0]!="StrongEncryptionTransform")throw new Error("ECMA-376 Encrypted file bad "+n);if(n="/!DataSpaces/TransformInfo/StrongEncryptionTransform/!Primary",a=ar.find(e,n),!a||!a.content)throw new Error("ECMA-376 Encrypted file missing "+n);qX(a.content)}catch{}if(n="/EncryptionInfo",a=ar.find(e,n),!a||!a.content)throw new Error("ECMA-376 Encrypted file missing "+n);var o=$X(a.content);if(n="/EncryptedPackage",a=ar.find(e,n),!a||!a.content)throw new Error("ECMA-376 Encrypted file missing "+n);if(o[0]==4&&typeof decrypt_agile<"u")return decrypt_agile(o[1],a.content,r.password||"",r);if(o[0]==2&&typeof decrypt_std76<"u")return decrypt_std76(o[1],a.content,r.password||"",r);throw new Error("File is password-protected")}function oae(e,t){return t.bookType=="ods"?mL(e,t):t.bookType=="numbers"?rae(e,t):t.bookType=="xlsb"?cae(e,t):uae(e,t)}function cae(e,t){Em=1024,e&&!e.SSF&&(e.SSF=aa(ur)),e&&e.SSF&&(dp(),p2(e.SSF),t.revssf=g2(e.SSF),t.revssf[e.SSF[65535]]=0,t.ssf=e.SSF),t.rels={},t.wbrels={},t.Strings=[],t.Strings.Count=0,t.Strings.Unique=0,Lx?t.revStrings=new Map:(t.revStrings={},t.revStrings.foo=[],delete t.revStrings.foo);var r=t.bookType=="xlsb"?"bin":"xml",n=qP.indexOf(t.bookType)>-1,a=vj();Dj(t=t||{});var s=aj(),l="",o=0;if(t.cellXfs=[],qf(t.cellXfs,{},{revssf:{General:0}}),e.Props||(e.Props={}),l="docProps/core.xml",Sr(s,l,aP(e.Props,t)),a.coreprops.push(l),Nn(t.rels,2,l,Pr.CORE_PROPS),l="docProps/app.xml",!(e.Props&&e.Props.SheetNames))if(!e.Workbook||!e.Workbook.Sheets)e.Props.SheetNames=e.SheetNames;else{for(var u=[],d=0;d<e.SheetNames.length;++d)(e.Workbook.Sheets[d]||{}).Hidden!=2&&u.push(e.SheetNames[d]);e.Props.SheetNames=u}for(e.Props.Worksheets=e.Props.SheetNames.length,Sr(s,l,lP(e.Props)),a.extprops.push(l),Nn(t.rels,3,l,Pr.EXT_PROPS),e.Custprops!==e.Props&&za(e.Custprops||{}).length>0&&(l="docProps/custom.xml",Sr(s,l,oP(e.Custprops)),a.custprops.push(l),Nn(t.rels,4,l,Pr.CUST_PROPS)),o=1;o<=e.SheetNames.length;++o){var h={"!id":{}},m=e.Sheets[e.SheetNames[o-1]],g=(m||{})["!type"]||"sheet";switch(g){case"chart":default:l="xl/worksheets/sheet"+o+"."+r,Sr(s,l,Bre(o-1,l,t,e,h)),a.sheets.push(l),Nn(t.wbrels,-1,"worksheets/sheet"+o+"."+r,Pr.WS[0])}if(m){var x=m["!comments"],b=!1,v="";x&&x.length>0&&(v="xl/comments"+o+"."+r,Sr(s,v,qre(x,v)),a.comments.push(v),Nn(h,-1,"../comments"+o+"."+r,Pr.CMNT),b=!0),m["!legacy"]&&b&&Sr(s,"xl/drawings/vmlDrawing"+o+".vml",UP(o,m["!comments"])),delete m["!comments"],delete m["!legacy"]}h["!id"].rId1&&Sr(s,tg(l),Mm(h))}return t.Strings!=null&&t.Strings.length>0&&(l="xl/sharedStrings."+r,Sr(s,l,zre(t.Strings,l,t)),a.strs.push(l),Nn(t.wbrels,-1,"sharedStrings."+r,Pr.SST)),l="xl/workbook."+r,Sr(s,l,Ire(e,l)),a.workbooks.push(l),Nn(t.rels,1,l,Pr.WB),l="xl/theme/theme1.xml",Sr(s,l,jj(e.Themes,t)),a.themes.push(l),Nn(t.wbrels,-1,"theme/theme1.xml",Pr.THEME),l="xl/styles."+r,Sr(s,l,Ure(e,l,t)),a.styles.push(l),Nn(t.wbrels,-1,"styles."+r,Pr.STY),e.vbaraw&&n&&(l="xl/vbaProject.bin",Sr(s,l,e.vbaraw),a.vba.push(l),Nn(t.wbrels,-1,"vbaProject.bin",Pr.VBA)),l="xl/metadata."+r,Sr(s,l,$re(l)),a.metadata.push(l),Nn(t.wbrels,-1,"metadata."+r,Pr.XLMETA),Sr(s,"[Content_Types].xml",tP(a,t)),Sr(s,"_rels/.rels",Mm(t.rels)),Sr(s,"xl/_rels/workbook."+r+".rels",Mm(t.wbrels)),delete t.revssf,delete t.ssf,s}function uae(e,t){Em=1024,e&&!e.SSF&&(e.SSF=aa(ur)),e&&e.SSF&&(dp(),p2(e.SSF),t.revssf=g2(e.SSF),t.revssf[e.SSF[65535]]=0,t.ssf=e.SSF),t.rels={},t.wbrels={},t.Strings=[],t.Strings.Count=0,t.Strings.Unique=0,Lx?t.revStrings=new Map:(t.revStrings={},t.revStrings.foo=[],delete t.revStrings.foo);var r="xml",n=qP.indexOf(t.bookType)>-1,a=vj();Dj(t=t||{});var s=aj(),l="",o=0;if(t.cellXfs=[],qf(t.cellXfs,{},{revssf:{General:0}}),e.Props||(e.Props={}),l="docProps/core.xml",Sr(s,l,aP(e.Props,t)),a.coreprops.push(l),Nn(t.rels,2,l,Pr.CORE_PROPS),l="docProps/app.xml",!(e.Props&&e.Props.SheetNames))if(!e.Workbook||!e.Workbook.Sheets)e.Props.SheetNames=e.SheetNames;else{for(var u=[],d=0;d<e.SheetNames.length;++d)(e.Workbook.Sheets[d]||{}).Hidden!=2&&u.push(e.SheetNames[d]);e.Props.SheetNames=u}e.Props.Worksheets=e.Props.SheetNames.length,Sr(s,l,lP(e.Props)),a.extprops.push(l),Nn(t.rels,3,l,Pr.EXT_PROPS),e.Custprops!==e.Props&&za(e.Custprops||{}).length>0&&(l="docProps/custom.xml",Sr(s,l,oP(e.Custprops)),a.custprops.push(l),Nn(t.rels,4,l,Pr.CUST_PROPS));var h=["SheetJ5"];for(t.tcid=0,o=1;o<=e.SheetNames.length;++o){var m={"!id":{}},g=e.Sheets[e.SheetNames[o-1]],x=(g||{})["!type"]||"sheet";switch(x){case"chart":default:l="xl/worksheets/sheet"+o+"."+r,Sr(s,l,JP(o-1,t,e,m)),a.sheets.push(l),Nn(t.wbrels,-1,"worksheets/sheet"+o+"."+r,Pr.WS[0])}if(g){var b=g["!comments"],v=!1,w="";if(b&&b.length>0){var N=!1;b.forEach(function(E){E[1].forEach(function(j){j.T==!0&&(N=!0)})}),N&&(w="xl/threadedComments/threadedComment"+o+"."+r,Sr(s,w,gZ(b,h,t)),a.threadedcomments.push(w),Nn(m,-1,"../threadedComments/threadedComment"+o+"."+r,Pr.TCMNT)),w="xl/comments"+o+"."+r,Sr(s,w,zP(b)),a.comments.push(w),Nn(m,-1,"../comments"+o+"."+r,Pr.CMNT),v=!0}g["!legacy"]&&v&&Sr(s,"xl/drawings/vmlDrawing"+o+".vml",UP(o,g["!comments"])),delete g["!comments"],delete g["!legacy"]}m["!id"].rId1&&Sr(s,tg(l),Mm(m))}return t.Strings!=null&&t.Strings.length>0&&(l="xl/sharedStrings."+r,Sr(s,l,EP(t.Strings,t)),a.strs.push(l),Nn(t.wbrels,-1,"sharedStrings."+r,Pr.SST)),l="xl/workbook."+r,Sr(s,l,aL(e)),a.workbooks.push(l),Nn(t.rels,1,l,Pr.WB),l="xl/theme/theme1.xml",Sr(s,l,jj(e.Themes,t)),a.themes.push(l),Nn(t.wbrels,-1,"theme/theme1.xml",Pr.THEME),l="xl/styles."+r,Sr(s,l,MP(e,t)),a.styles.push(l),Nn(t.wbrels,-1,"styles."+r,Pr.STY),e.vbaraw&&n&&(l="xl/vbaProject.bin",Sr(s,l,e.vbaraw),a.vba.push(l),Nn(t.wbrels,-1,"vbaProject.bin",Pr.VBA)),l="xl/metadata."+r,Sr(s,l,BP()),a.metadata.push(l),Nn(t.wbrels,-1,"metadata."+r,Pr.XLMETA),h.length>1&&(l="xl/persons/person.xml",Sr(s,l,yZ(h)),a.people.push(l),Nn(t.wbrels,-1,"persons/person.xml",Pr.PEOPLE)),Sr(s,"[Content_Types].xml",tP(a,t)),Sr(s,"_rels/.rels",Mm(t.rels)),Sr(s,"xl/_rels/workbook."+r+".rels",Mm(t.wbrels)),delete t.revssf,delete t.ssf,s}function Pj(e,t){var r="";switch((t||{}).type||"base64"){case"buffer":return[e[0],e[1],e[2],e[3],e[4],e[5],e[6],e[7]];case"base64":r=no(e.slice(0,12));break;case"binary":r=e;break;case"array":return[e[0],e[1],e[2],e[3],e[4],e[5],e[6],e[7]];default:throw new Error("Unrecognized type "+(t&&t.type||"undefined"))}return[r.charCodeAt(0),r.charCodeAt(1),r.charCodeAt(2),r.charCodeAt(3),r.charCodeAt(4),r.charCodeAt(5),r.charCodeAt(6),r.charCodeAt(7)]}function dae(e,t){return ar.find(e,"EncryptedPackage")?lae(e,t):oL(e,t)}function fae(e,t){var r,n=e,a=t||{};return a.type||(a.type=Or&&Buffer.isBuffer(e)?"buffer":"base64"),r=TD(n,a),iae(r,a)}function xL(e,t){var r=0;e:for(;r<e.length;)switch(e.charCodeAt(r)){case 10:case 13:case 32:++r;break;case 60:return p4(e.slice(r),t);default:break e}return Ym.to_workbook(e,t)}function hae(e,t){var r="",n=Pj(e,t);switch(t.type){case"base64":r=no(e);break;case"binary":r=e;break;case"buffer":r=e.toString("binary");break;case"array":r=Q0(e);break;default:throw new Error("Unrecognized type "+t.type)}return n[0]==239&&n[1]==187&&n[2]==191&&(r=Rn(r)),t.type="binary",xL(r,t)}function mae(e,t){var r=e;return t.type=="base64"&&(r=no(r)),r=Yx.utils.decode(1200,r.slice(2),"str"),t.type="binary",xL(r,t)}function pae(e){return e.match(/[^\x00-\x7F]/)?cu(e):e}function Ww(e,t,r,n){return n?(r.type="string",Ym.to_workbook(e,r)):Ym.to_workbook(t,r)}function v4(e,t){J_();var r=t||{};if(typeof ArrayBuffer<"u"&&e instanceof ArrayBuffer)return v4(new Uint8Array(e),(r=aa(r),r.type="array",r));typeof Uint8Array<"u"&&e instanceof Uint8Array&&!r.type&&(r.type=typeof Deno<"u"?"buffer":"array");var n=e,a=[0,0,0,0],s=!1;if(r.cellStyles&&(r.cellNF=!0,r.sheetStubs=!0),Im={},r.dateNF&&(Im.dateNF=r.dateNF),r.type||(r.type=Or&&Buffer.isBuffer(e)?"buffer":"base64"),r.type=="file"&&(r.type=Or?"buffer":"binary",n=cK(e),typeof Uint8Array<"u"&&!Or&&(r.type="array")),r.type=="string"&&(s=!0,r.type="binary",r.codepage=65001,n=pae(e)),r.type=="array"&&typeof Uint8Array<"u"&&e instanceof Uint8Array&&typeof ArrayBuffer<"u"){var l=new ArrayBuffer(3),o=new Uint8Array(l);if(o.foo="bar",!o.foo)return r=aa(r),r.type="array",v4(ej(n),r)}switch((a=Pj(n,r))[0]){case 208:if(a[1]===207&&a[2]===17&&a[3]===224&&a[4]===161&&a[5]===177&&a[6]===26&&a[7]===225)return dae(ar.read(n,r),r);break;case 9:if(a[1]<=8)return oL(n,r);break;case 60:return p4(n,r);case 73:if(a[1]===73&&a[2]===42&&a[3]===0)throw new Error("TIFF Image File is not a spreadsheet");if(a[1]===68)return bX(n,r);break;case 84:if(a[1]===65&&a[2]===66&&a[3]===76)return AP.to_workbook(n,r);break;case 80:return a[1]===75&&a[2]<9&&a[3]<9?fae(n,r):Ww(e,n,r,s);case 239:return a[3]===60?p4(n,r):Ww(e,n,r,s);case 255:if(a[1]===254)return mae(n,r);if(a[1]===0&&a[2]===2&&a[3]===0)return I0.to_workbook(n,r);break;case 0:if(a[1]===0&&(a[2]>=2&&a[3]===0||a[2]===0&&(a[3]===8||a[3]===9)))return I0.to_workbook(n,r);break;case 3:case 131:case 139:case 140:return m4.to_workbook(n,r);case 123:if(a[1]===92&&a[2]===114&&a[3]===116)return DP.to_workbook(n,r);break;case 10:case 13:case 32:return hae(n,r);case 137:if(a[1]===80&&a[2]===78&&a[3]===71)throw new Error("PNG Image File is not a spreadsheet");break}return yX.indexOf(a[0])>-1&&a[2]<=12&&a[3]<=31?m4.to_workbook(n,r):Ww(e,n,r,s)}function gL(e,t){switch(t.type){case"base64":case"binary":break;case"buffer":case"array":t.type="";break;case"file":return kg(t.file,ar.write(e,{type:Or?"buffer":""}));case"string":throw new Error("'string' output type invalid for '"+t.bookType+"' files");default:throw new Error("Unrecognized type "+t.type)}return ar.write(e,t)}function xae(e,t){var r=aa(t||{}),n=oae(e,r);return gae(n,r)}function gae(e,t){var r={},n=Or?"nodebuffer":typeof Uint8Array<"u"?"array":"string";if(t.compression&&(r.compression="DEFLATE"),t.password)r.type=n;else switch(t.type){case"base64":r.type="base64";break;case"binary":r.type="string";break;case"string":throw new Error("'string' output type invalid for '"+t.bookType+"' files");case"buffer":case"file":r.type=n;break;default:throw new Error("Unrecognized type "+t.type)}var a=e.FullPaths?ar.write(e,{fileType:"zip",type:{nodebuffer:"buffer",string:"binary"}[r.type]||r.type,compression:!!t.compression}):e.generate(r);if(typeof Deno<"u"&&typeof a=="string"){if(t.type=="binary"||t.type=="base64")return a;a=new Uint8Array(m2(a))}return t.password&&typeof encrypt_agile<"u"?gL(encrypt_agile(a,t.password),t):t.type==="file"?kg(t.file,a):t.type=="string"?Rn(a):a}function vae(e,t){var r=t||{},n=pne(e,r);return gL(n,r)}function lu(e,t,r){r||(r="");var n=r+e;switch(t.type){case"base64":return Xx(cu(n));case"binary":return cu(n);case"string":return e;case"file":return kg(t.file,n,"utf8");case"buffer":return Or?Sd(n,"utf8"):typeof TextEncoder<"u"?new TextEncoder().encode(n):lu(n,{type:"binary"}).split("").map(function(a){return a.charCodeAt(0)})}throw new Error("Unrecognized type "+t.type)}function yae(e,t){switch(t.type){case"base64":return Xx(e);case"binary":return e;case"string":return e;case"file":return kg(t.file,e,"binary");case"buffer":return Or?Sd(e,"binary"):e.split("").map(function(r){return r.charCodeAt(0)})}throw new Error("Unrecognized type "+t.type)}function uv(e,t){switch(t.type){case"string":case"base64":case"binary":for(var r="",n=0;n<e.length;++n)r+=String.fromCharCode(e[n]);return t.type=="base64"?Xx(r):t.type=="string"?Rn(r):r;case"file":return kg(t.file,e);case"buffer":return e;default:throw new Error("Unrecognized type "+t.type)}}function vL(e,t){J_(),dre(e);var r=aa(t||{});if(r.cellStyles&&(r.cellNF=!0,r.sheetStubs=!0),r.type=="array"){r.type="binary";var n=vL(e,r);return r.type="array",m2(n)}var a=0;if(r.sheet&&(typeof r.sheet=="number"?a=r.sheet:a=e.SheetNames.indexOf(r.sheet),!e.SheetNames[a]))throw new Error("Sheet not found: "+r.sheet+" : "+typeof r.sheet);switch(r.bookType||"xlsb"){case"xml":case"xlml":return lu(one(e,r),r);case"slk":case"sylk":return lu(SP.from_sheet(e.Sheets[e.SheetNames[a]],r),r);case"htm":case"html":return lu(uL(e.Sheets[e.SheetNames[a]],r),r);case"txt":return yae(yL(e.Sheets[e.SheetNames[a]],r),r);case"csv":return lu(Lj(e.Sheets[e.SheetNames[a]],r),r,"\uFEFF");case"dif":return lu(AP.from_sheet(e.Sheets[e.SheetNames[a]],r),r);case"dbf":return uv(m4.from_sheet(e.Sheets[e.SheetNames[a]],r),r);case"prn":return lu(Ym.from_sheet(e.Sheets[e.SheetNames[a]],r),r);case"rtf":return lu(DP.from_sheet(e.Sheets[e.SheetNames[a]],r),r);case"eth":return lu(kP.from_sheet(e.Sheets[e.SheetNames[a]],r),r);case"fods":return lu(mL(e,r),r);case"wk1":return uv(I0.sheet_to_wk1(e.Sheets[e.SheetNames[a]],r),r);case"wk3":return uv(I0.book_to_wk3(e,r),r);case"biff2":r.biff||(r.biff=2);case"biff3":r.biff||(r.biff=3);case"biff4":return r.biff||(r.biff=4),uv(cL(e,r),r);case"biff5":r.biff||(r.biff=5);case"biff8":case"xla":case"xls":return r.biff||(r.biff=8),vae(e,r);case"xlsx":case"xlsm":case"xlam":case"xlsb":case"numbers":case"ods":return xae(e,r);default:throw new Error("Unrecognized bookType |"+r.bookType+"|")}}function bae(e){if(!e.bookType){var t={xls:"biff8",htm:"html",slk:"sylk",socialcalc:"eth",Sh33tJS:"WTF"},r=e.file.slice(e.file.lastIndexOf(".")).toLowerCase();r.match(/^\.[a-z]+$/)&&(e.bookType=r.slice(1)),e.bookType=t[e.bookType]||e.bookType}}function wae(e,t,r){var n={};return n.type="file",n.file=t,bae(n),vL(e,n)}function Nae(e,t,r,n,a,s,l,o){var u=Ja(r),d=o.defval,h=o.raw||!Object.prototype.hasOwnProperty.call(o,"raw"),m=!0,g=a===1?[]:{};if(a!==1)if(Object.defineProperty)try{Object.defineProperty(g,"__rowNum__",{value:r,enumerable:!1})}catch{g.__rowNum__=r}else g.__rowNum__=r;if(!l||e[r])for(var x=t.s.c;x<=t.e.c;++x){var b=l?e[r][x]:e[n[x]+u];if(b===void 0||b.t===void 0){if(d===void 0)continue;s[x]!=null&&(g[s[x]]=d);continue}var v=b.v;switch(b.t){case"z":if(v==null)break;continue;case"e":v=v==0?null:void 0;break;case"s":case"d":case"b":case"n":break;default:throw new Error("unrecognized type "+b.t)}if(s[x]!=null){if(v==null)if(b.t=="e"&&v===null)g[s[x]]=null;else if(d!==void 0)g[s[x]]=d;else if(h&&v===null)g[s[x]]=null;else continue;else g[s[x]]=h&&(b.t!=="n"||b.t==="n"&&o.rawNumbers!==!1)?v:gd(b,v,o);v!=null&&(m=!1)}}return{row:g,isempty:m}}function py(e,t){if(e==null||e["!ref"]==null)return[];var r={t:"n",v:0},n=0,a=1,s=[],l=0,o="",u={s:{r:0,c:0},e:{r:0,c:0}},d=t||{},h=d.range!=null?d.range:e["!ref"];switch(d.header===1?n=1:d.header==="A"?n=2:Array.isArray(d.header)?n=3:d.header==null&&(n=0),typeof h){case"string":u=nn(h);break;case"number":u=nn(e["!ref"]),u.s.r=h;break;default:u=h}n>0&&(a=0);var m=Ja(u.s.r),g=[],x=[],b=0,v=0,w=Array.isArray(e),N=u.s.r,E=0,j={};w&&!e[N]&&(e[N]=[]);var T=d.skipHidden&&e["!cols"]||[],O=d.skipHidden&&e["!rows"]||[];for(E=u.s.c;E<=u.e.c;++E)if(!(T[E]||{}).hidden)switch(g[E]=ja(E),r=w?e[N][E]:e[g[E]+m],n){case 1:s[E]=E-u.s.c;break;case 2:s[E]=g[E];break;case 3:s[E]=d.header[E-u.s.c];break;default:if(r==null&&(r={w:"__EMPTY",t:"s"}),o=l=gd(r,null,d),v=j[l]||0,!v)j[l]=1;else{do o=l+"_"+v++;while(j[o]);j[l]=v,j[o]=1}s[E]=o}for(N=u.s.r+a;N<=u.e.r;++N)if(!(O[N]||{}).hidden){var D=Nae(e,u,N,g,n,s,w,d);(D.isempty===!1||(n===1?d.blankrows!==!1:d.blankrows))&&(x[b++]=D.row)}return x.length=b,x}var XE=/"/g;function _ae(e,t,r,n,a,s,l,o){for(var u=!0,d=[],h="",m=Ja(r),g=t.s.c;g<=t.e.c;++g)if(n[g]){var x=o.dense?(e[r]||[])[g]:e[n[g]+m];if(x==null)h="";else if(x.v!=null){u=!1,h=""+(o.rawNumbers&&x.t=="n"?x.v:gd(x,null,o));for(var b=0,v=0;b!==h.length;++b)if((v=h.charCodeAt(b))===a||v===s||v===34||o.forceQuotes){h='"'+h.replace(XE,'""')+'"';break}h=="ID"&&(h='"ID"')}else x.f!=null&&!x.F?(u=!1,h="="+x.f,h.indexOf(",")>=0&&(h='"'+h.replace(XE,'""')+'"')):h="";d.push(h)}return o.blankrows===!1&&u?null:d.join(l)}function Lj(e,t){var r=[],n=t??{};if(e==null||e["!ref"]==null)return"";var a=nn(e["!ref"]),s=n.FS!==void 0?n.FS:",",l=s.charCodeAt(0),o=n.RS!==void 0?n.RS:`
`,u=o.charCodeAt(0),d=new RegExp((s=="|"?"\\|":s)+"+$"),h="",m=[];n.dense=Array.isArray(e);for(var g=n.skipHidden&&e["!cols"]||[],x=n.skipHidden&&e["!rows"]||[],b=a.s.c;b<=a.e.c;++b)(g[b]||{}).hidden||(m[b]=ja(b));for(var v=0,w=a.s.r;w<=a.e.r;++w)(x[w]||{}).hidden||(h=_ae(e,a,w,m,l,u,s,n),h!=null&&(n.strip&&(h=h.replace(d,"")),(h||n.blankrows!==!1)&&r.push((v++?o:"")+h)));return delete n.dense,r.join("")}function yL(e,t){t||(t={}),t.FS="	",t.RS=`
`;var r=Lj(e,t);return r}function jae(e){var t="",r,n="";if(e==null||e["!ref"]==null)return[];var a=nn(e["!ref"]),s="",l=[],o,u=[],d=Array.isArray(e);for(o=a.s.c;o<=a.e.c;++o)l[o]=ja(o);for(var h=a.s.r;h<=a.e.r;++h)for(s=Ja(h),o=a.s.c;o<=a.e.c;++o)if(t=l[o]+s,r=d?(e[h]||[])[o]:e[t],n="",r!==void 0){if(r.F!=null){if(t=r.F,!r.f)continue;n=r.f,t.indexOf(":")==-1&&(t=t+":"+t)}if(r.f!=null)n=r.f;else{if(r.t=="z")continue;if(r.t=="n"&&r.v!=null)n=""+r.v;else if(r.t=="b")n=r.v?"TRUE":"FALSE";else if(r.w!==void 0)n="'"+r.w;else{if(r.v===void 0)continue;r.t=="s"?n="'"+r.v:n=""+r.v}}u[u.length]=t+"="+n}return u}function bL(e,t,r){var n=r||{},a=+!n.skipHeader,s=e||{},l=0,o=0;if(s&&n.origin!=null)if(typeof n.origin=="number")l=n.origin;else{var u=typeof n.origin=="string"?Sa(n.origin):n.origin;l=u.r,o=u.c}var d,h={s:{c:0,r:0},e:{c:o,r:l+t.length-1+a}};if(s["!ref"]){var m=nn(s["!ref"]);h.e.c=Math.max(h.e.c,m.e.c),h.e.r=Math.max(h.e.r,m.e.r),l==-1&&(l=m.e.r+1,h.e.r=l+t.length-1+a)}else l==-1&&(l=0,h.e.r=t.length-1+a);var g=n.header||[],x=0;t.forEach(function(v,w){za(v).forEach(function(N){(x=g.indexOf(N))==-1&&(g[x=g.length]=N);var E=v[N],j="z",T="",O=dr({c:o+x,r:l+w+a});d=og(s,O),E&&typeof E=="object"&&!(E instanceof Date)?s[O]=E:(typeof E=="number"?j="n":typeof E=="boolean"?j="b":typeof E=="string"?j="s":E instanceof Date?(j="d",n.cellDates||(j="n",E=Es(E)),T=n.dateNF||ur[14]):E===null&&n.nullError&&(j="e",E=0),d?(d.t=j,d.v=E,delete d.w,delete d.R,T&&(d.z=T)):s[O]=d={t:j,v:E},T&&(d.z=T))})}),h.e.c=Math.max(h.e.c,o+g.length-1);var b=Ja(l);if(a)for(x=0;x<g.length;++x)s[ja(x+o)+b]={t:"s",v:g[x]};return s["!ref"]=Nr(h),s}function Sae(e,t){return bL(null,e,t)}function og(e,t,r){if(typeof t=="string"){if(Array.isArray(e)){var n=Sa(t);return e[n.r]||(e[n.r]=[]),e[n.r][n.c]||(e[n.r][n.c]={t:"z"})}return e[t]||(e[t]={t:"z"})}return typeof t!="number"?og(e,dr(t)):og(e,dr({r:t,c:r||0}))}function Aae(e,t){if(typeof t=="number"){if(t>=0&&e.SheetNames.length>t)return t;throw new Error("Cannot find sheet # "+t)}else if(typeof t=="string"){var r=e.SheetNames.indexOf(t);if(r>-1)return r;throw new Error("Cannot find sheet name |"+t+"|")}else throw new Error("Cannot find sheet |"+t+"|")}function Mj(){return{SheetNames:[],Sheets:{}}}function Rj(e,t,r,n){var a=1;if(!r)for(;a<=65535&&e.SheetNames.indexOf(r="Sheet"+a)!=-1;++a,r=void 0);if(!r||e.SheetNames.length>=65535)throw new Error("Too many worksheets");if(n&&e.SheetNames.indexOf(r)>=0){var s=r.match(/(^.*?)(\d+)$/);a=s&&+s[2]||0;var l=s&&s[1]||r;for(++a;a<=65535&&e.SheetNames.indexOf(r=l+a)!=-1;++a);}if(nL(r),e.SheetNames.indexOf(r)>=0)throw new Error("Worksheet with name |"+r+"| already exists!");return e.SheetNames.push(r),e.Sheets[r]=t,r}function kae(e,t,r){e.Workbook||(e.Workbook={}),e.Workbook.Sheets||(e.Workbook.Sheets=[]);var n=Aae(e,t);switch(e.Workbook.Sheets[n]||(e.Workbook.Sheets[n]={}),r){case 0:case 1:case 2:break;default:throw new Error("Bad sheet visibility setting "+r)}e.Workbook.Sheets[n].Hidden=r}function Eae(e,t){return e.z=t,e}function wL(e,t,r){return t?(e.l={Target:t},r&&(e.l.Tooltip=r)):delete e.l,e}function Cae(e,t,r){return wL(e,"#"+t,r)}function Tae(e,t,r){e.c||(e.c=[]),e.c.push({t,a:r||"SheetJS"})}function Oae(e,t,r,n){for(var a=typeof t!="string"?t:nn(t),s=typeof t=="string"?t:Nr(t),l=a.s.r;l<=a.e.r;++l)for(var o=a.s.c;o<=a.e.c;++o){var u=og(e,l,o);u.t="n",u.F=s,delete u.v,l==a.s.r&&o==a.s.c&&(u.f=r,n&&(u.D=!0))}return e}var dv={encode_col:ja,encode_row:Ja,encode_cell:dr,encode_range:Nr,decode_col:fj,decode_row:dj,split_cell:zK,decode_cell:Sa,decode_range:Tl,format_cell:gd,sheet_add_aoa:GD,sheet_add_json:bL,sheet_add_dom:dL,aoa_to_sheet:fp,json_to_sheet:Sae,table_to_sheet:fL,table_to_book:Rne,sheet_to_csv:Lj,sheet_to_txt:yL,sheet_to_json:py,sheet_to_html:uL,sheet_to_formulae:jae,sheet_to_row_object_array:py,sheet_get_cell:og,book_new:Mj,book_append_sheet:Rj,book_set_sheet_visibility:kae,cell_set_number_format:Eae,cell_set_hyperlink:wL,cell_set_internal_link:Cae,cell_add_comment:Tae,sheet_set_array_formula:Oae,consts:{SHEET_VISIBLE:0,SHEET_HIDDEN:1,SHEET_VERY_HIDDEN:2}};const Ec={async getAll(){return $e.get("/cities")},async getById(e){try{return await $e.get(`/cities/${e}`)}catch(t){if(t instanceof Error&&"status"in t&&t.status===404)return null;throw t}},async getBySegment(e){return $e.get(`/cities/by-segment/${e}`)},async create(e,t){return $e.post("/cities",{id:e,...t})},async update(e){const{id:t,...r}=e;return $e.put(`/cities/${t}`,r)},async delete(e){return $e.delete(`/cities/${e}`)}},si=[];for(let e=0;e<256;++e)si.push((e+256).toString(16).slice(1));function Fae(e,t=0){return(si[e[t+0]]+si[e[t+1]]+si[e[t+2]]+si[e[t+3]]+"-"+si[e[t+4]]+si[e[t+5]]+"-"+si[e[t+6]]+si[e[t+7]]+"-"+si[e[t+8]]+si[e[t+9]]+"-"+si[e[t+10]]+si[e[t+11]]+si[e[t+12]]+si[e[t+13]]+si[e[t+14]]+si[e[t+15]]).toLowerCase()}let Kw;const Dae=new Uint8Array(16);function Pae(){if(!Kw){if(typeof crypto>"u"||!crypto.getRandomValues)throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");Kw=crypto.getRandomValues.bind(crypto)}return Kw(Dae)}const Lae=typeof crypto<"u"&&crypto.randomUUID&&crypto.randomUUID.bind(crypto),QE={randomUUID:Lae};function Mae(e,t,r){e=e||{};const n=e.random??e.rng?.()??Pae();if(n.length<16)throw new Error("Random bytes length must be >= 16");return n[6]=n[6]&15|64,n[8]=n[8]&63|128,Fae(n)}function $f(e,t,r){return QE.randomUUID&&!e?QE.randomUUID():Mae(e)}const Lg=()=>Jt({queryKey:["cities"],queryFn:()=>Ec.getAll()}),Rae=e=>Jt({queryKey:["cities",e],queryFn:()=>Ec.getById(e),enabled:!!e}),Iae=()=>{const e=Tt();return Ot({mutationFn:async t=>{const r=$f();return Ec.create(r,t)},onSuccess:()=>{e.invalidateQueries({queryKey:["cities"]})}})},Bae=()=>{const e=Tt();return Ot({mutationFn:t=>Ec.update(t),onSuccess:()=>{e.invalidateQueries({queryKey:["cities"]})}})},Uae=()=>{const e=Tt();return Ot({mutationFn:t=>Ec.delete(t),onSuccess:()=>{e.invalidateQueries({queryKey:["cities"]})}})},zae=()=>{const e=Tt();return Ot({mutationFn:async t=>{const r={success:0,errors:[]},n=await Ec.getAll();for(let a=0;a<t.length;a++){const s=t[a];try{if(!s.name||!s.code||!s.segment_id){r.errors.push({row:a+2,error:"Donnes manquantes (nom, code ou segment)",data:s});continue}if(n.find(u=>u.name.trim()===s.name.trim()&&u.segment_id===s.segment_id)){r.errors.push({row:a+2,error:`Une ville avec le nom "${s.name}" existe dj dans ce segment`,data:s});continue}const o=$f();await Ec.create(o,{name:s.name.trim(),code:s.code.trim(),segment_id:s.segment_id}),r.success++}catch(l){r.errors.push({row:a+2,error:l instanceof Error?l.message:"Erreur inconnue",data:s})}}return r},onSuccess:()=>{e.invalidateQueries({queryKey:["cities"]})}})};function qae({segmentId:e,segmentName:t,onClose:r}){const[n,a]=k.useState(null),[s,l]=k.useState(!1),[o,u]=k.useState(null),d=k.useRef(null),h=zae(),m=b=>{b.target.files&&b.target.files[0]&&(a(b.target.files[0]),u(null))},g=async()=>{if(n){l(!0),u(null);try{const b=await n.arrayBuffer(),v=v4(b),w=v.Sheets[v.SheetNames[0]],E=dv.sheet_to_json(w).map(T=>({name:T.Ville?.toString().trim()||"",code:T.code?.toString().trim().toUpperCase()||"",segment_id:e})),j=await h.mutateAsync(E);u(j)}catch(b){console.error("Erreur lors de l'import:",b),alert("Erreur lors de la lecture du fichier Excel")}finally{l(!1)}}},x=()=>{const b=[{Ville:"Casablanca",code:"A1P07"},{Ville:"Rabat",code:"A1P01"},{Ville:"Tanger",code:"A1P05"}],v=dv.json_to_sheet(b),w=dv.book_new();dv.book_append_sheet(w,v,"Villes"),v["!cols"]=[{wch:25},{wch:15}],wae(w,"template_import_villes.xlsx")};return i.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:i.jsxs("div",{className:"bg-white rounded-lg shadow-xl max-w-2xl w-full max-h-[90vh] overflow-y-auto",children:[i.jsxs("div",{className:"flex items-center justify-between p-6 border-b border-gray-200",children:[i.jsxs("div",{className:"flex items-center gap-3",children:[i.jsx("div",{className:"w-10 h-10 bg-blue-100 rounded-lg flex items-center justify-center",children:i.jsx(K0,{className:"w-6 h-6 text-blue-600"})}),i.jsxs("div",{children:[i.jsx("h2",{className:"text-xl font-bold text-gray-900",children:"Import en masse"}),i.jsxs("p",{className:"text-sm text-gray-500",children:["Importer des villes pour : ",i.jsx("strong",{children:t})]})]})]}),i.jsx("button",{onClick:r,className:"text-gray-400 hover:text-gray-600 transition-colors",children:i.jsx(En,{className:"w-6 h-6"})})]}),i.jsxs("div",{className:"p-6 space-y-6",children:[i.jsxs("div",{className:"bg-blue-50 border border-blue-200 rounded-lg p-4",children:[i.jsx("h3",{className:"font-semibold text-blue-900 mb-2",children:"Format du fichier Excel"}),i.jsx("p",{className:"text-sm text-blue-800 mb-3",children:"Le fichier doit contenir seulement 2 colonnes :"}),i.jsxs("ul",{className:"text-sm text-blue-800 space-y-1 list-disc list-inside",children:[i.jsxs("li",{children:[i.jsx("strong",{children:"Ville"})," : Nom de la ville (Ex: Casablanca)"]}),i.jsxs("li",{children:[i.jsx("strong",{children:"code"})," : Code de la ville (Ex: A1P07)"]})]}),i.jsxs("p",{className:"text-sm text-blue-700 mt-2",children:[" Toutes les villes seront automatiquement associes au segment : ",i.jsx("strong",{children:t})]})]}),i.jsxs("button",{onClick:x,className:"w-full flex items-center justify-center gap-2 px-4 py-3 border-2 border-dashed border-gray-300 rounded-lg hover:border-blue-500 hover:bg-blue-50 transition-colors",children:[i.jsx(Fi,{className:"w-5 h-5 text-blue-600"}),i.jsx("span",{className:"text-blue-600 font-medium",children:"Tlcharger le fichier template"})]}),i.jsxs("div",{children:[i.jsx("input",{ref:d,type:"file",accept:".xlsx,.xls",onChange:m,className:"hidden"}),i.jsxs("button",{onClick:()=>d.current?.click(),className:"w-full flex items-center justify-center gap-2 px-4 py-8 border-2 border-dashed border-gray-300 rounded-lg hover:border-green-500 hover:bg-green-50 transition-colors",children:[i.jsx(Ef,{className:"w-8 h-8 text-green-600"}),i.jsxs("div",{className:"text-center",children:[i.jsx("p",{className:"text-green-600 font-medium",children:n?n.name:"Cliquez pour slectionner un fichier Excel"}),i.jsx("p",{className:"text-sm text-gray-500 mt-1",children:"Formats accepts : .xlsx, .xls"})]})]})]}),o&&i.jsxs("div",{className:"space-y-4",children:[i.jsxs("div",{className:"flex items-center gap-2 p-4 bg-green-50 border border-green-200 rounded-lg",children:[i.jsx(Za,{className:"w-5 h-5 text-green-600"}),i.jsxs("span",{className:"text-green-800 font-medium",children:[o.success," ville(s) importe(s) avec succs"]})]}),o.errors.length>0&&i.jsxs("div",{className:"space-y-2",children:[i.jsxs("div",{className:"flex items-center gap-2 p-4 bg-red-50 border border-red-200 rounded-lg",children:[i.jsx($r,{className:"w-5 h-5 text-red-600"}),i.jsxs("span",{className:"text-red-800 font-medium",children:[o.errors.length," erreur(s) dtecte(s)"]})]}),i.jsx("div",{className:"max-h-60 overflow-y-auto space-y-2",children:o.errors.map((b,v)=>i.jsxs("div",{className:"p-3 bg-white border border-red-200 rounded-lg text-sm",children:[i.jsxs("p",{className:"font-medium text-red-800",children:["Ligne ",b.row]}),i.jsx("p",{className:"text-red-600",children:b.error}),i.jsxs("p",{className:"text-gray-600 text-xs mt-1",children:["Ville: ",b.data.name||"N/A"," | Code: ",b.data.code||"N/A"]})]},v))})]})]}),i.jsxs("div",{className:"flex gap-3 pt-4 border-t border-gray-200",children:[i.jsx("button",{type:"button",onClick:r,className:"flex-1 px-4 py-2 border border-gray-300 text-gray-700 rounded-lg hover:bg-gray-50 transition-colors",children:o?"Fermer":"Annuler"}),!o&&i.jsx("button",{onClick:g,disabled:!n||s,className:"flex-1 px-4 py-2 bg-blue-600 hover:bg-blue-700 text-white rounded-lg transition-colors disabled:opacity-50 disabled:cursor-not-allowed",children:s?"Import en cours...":"Importer"})]})]})]})})}const Hf={async getAll(){return $e.get("/segments")},async getById(e){try{return await $e.get(`/segments/${e}`)}catch(t){if(t instanceof Error&&"status"in t&&t.status===404)return null;throw t}},async create(e,t){return $e.post("/segments",{id:e,...t})},async update(e){const{id:t,...r}=e;return $e.put(`/segments/${t}`,r)},async delete(e){return $e.delete(`/segments/${e}`)}},Vf=()=>Jt({queryKey:["segments"],queryFn:()=>Hf.getAll()}),$ae=()=>{const e=Tt();return Ot({mutationFn:async t=>{const r=$f();return Hf.create(r,t)},onSuccess:()=>{e.invalidateQueries({queryKey:["segments"]})}})},Hae=()=>{const e=Tt();return Ot({mutationFn:t=>Hf.update(t),onSuccess:()=>{e.invalidateQueries({queryKey:["segments"]})}})},Vae=()=>{const e=Tt();return Ot({mutationFn:t=>Hf.delete(t),onSuccess:()=>{e.invalidateQueries({queryKey:["segments"]})}})};function Wae(){const{data:e=[],isLoading:t,error:r}=Vf(),n=$ae(),a=Hae(),s=Vae(),[l,o]=k.useState(!1),[u,d]=k.useState(null),[h,m]=k.useState(!1),[g,x]=k.useState(null),[b,v]=k.useState({name:"",color:"#3b82f6"}),w=async O=>{O.preventDefault();try{u?await a.mutateAsync({id:u,name:b.name,color:b.color}):await n.mutateAsync({name:b.name,color:b.color}),j()}catch(D){console.error("Erreur lors de la sauvegarde:",D),alert("Erreur lors de la sauvegarde du segment")}},N=O=>{v({name:O.name,color:O.color}),d(O.id),o(!0)},E=async O=>{if(confirm("tes-vous sr de vouloir supprimer ce segment ?"))try{await s.mutateAsync(O)}catch(D){console.error("Erreur lors de la suppression:",D),alert("Erreur lors de la suppression du segment")}},j=()=>{v({name:"",color:"#3b82f6"}),d(null),o(!1)},T=O=>{x({id:O.id,name:O.name}),m(!0)};return r?i.jsx("div",{className:"min-h-screen bg-gray-50 p-4 md:p-6 lg:p-8",children:i.jsx("div",{className:"max-w-6xl mx-auto",children:i.jsx("div",{className:"bg-red-50 border border-red-200 rounded-lg p-4",children:i.jsxs("p",{className:"text-red-800",children:["Erreur lors du chargement des segments: ",r.message]})})})}):i.jsxs("div",{className:"min-h-screen bg-gray-50 p-4 md:p-6 lg:p-8",children:[i.jsxs("div",{className:"max-w-6xl mx-auto",children:[i.jsxs("div",{className:"flex flex-col sm:flex-row items-start sm:items-center justify-between gap-4 mb-6",children:[i.jsxs("div",{className:"flex items-center gap-3 sm:gap-4",children:[i.jsx(Aa,{to:"/dashboard",children:i.jsx(Xe,{variant:"outline",size:"icon",children:i.jsx($n,{className:"h-4 w-4"})})}),i.jsx("h1",{className:"text-2xl sm:text-3xl font-bold",children:"Gestion des Segments"})]}),i.jsxs(Xe,{onClick:()=>o(!l),className:"w-full sm:w-auto",children:[i.jsx(ra,{className:"mr-2 h-4 w-4"}),"Nouveau Segment"]})]}),l&&i.jsxs(zr,{className:"mb-6",children:[i.jsx(md,{children:i.jsxs(pd,{children:[u?"Modifier":"Nouveau"," Segment"]})}),i.jsx(qr,{children:i.jsxs("form",{onSubmit:w,className:"space-y-4",children:[i.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[i.jsxs("div",{children:[i.jsx("label",{className:"text-sm font-medium mb-2 block",children:"Nom du segment"}),i.jsx(Qr,{value:b.name,onChange:O=>v({...b,name:O.target.value}),placeholder:"Ex: Formation Informatique",required:!0})]}),i.jsxs("div",{children:[i.jsx("label",{className:"text-sm font-medium mb-2 block",children:"Couleur"}),i.jsxs("div",{className:"flex gap-2",children:[i.jsx(Qr,{type:"color",value:b.color,onChange:O=>v({...b,color:O.target.value}),className:"w-20"}),i.jsx(Qr,{value:b.color,onChange:O=>v({...b,color:O.target.value}),placeholder:"#3b82f6"})]})]})]}),i.jsxs("div",{className:"flex flex-col sm:flex-row gap-2",children:[i.jsx(Xe,{type:"submit",disabled:n.isPending||a.isPending,className:"w-full sm:w-auto",children:n.isPending||a.isPending?"Enregistrement...":u?"Modifier":"Crer"}),i.jsx(Xe,{type:"button",variant:"outline",onClick:j,className:"w-full sm:w-auto",children:"Annuler"})]})]})})]}),t&&i.jsx("div",{className:"text-center py-12",children:i.jsx("p",{className:"text-gray-500",children:"Chargement des segments..."})}),!t&&i.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:e.map(O=>i.jsxs(zr,{style:{borderLeft:`4px solid ${O.color}`},children:[i.jsx(md,{children:i.jsxs(pd,{className:"flex items-center justify-between",children:[i.jsx("span",{children:O.name}),i.jsx("div",{className:"w-6 h-6 rounded",style:{backgroundColor:O.color}})]})}),i.jsx(qr,{children:i.jsxs("div",{className:"flex flex-col gap-2",children:[i.jsxs(Xe,{size:"sm",className:"w-full",onClick:()=>T(O),children:[i.jsx(Ef,{className:"h-4 w-4 mr-2"}),"Importer des villes"]}),i.jsxs("div",{className:"flex gap-2",children:[i.jsx(Xe,{size:"sm",variant:"outline",onClick:()=>N(O),children:i.jsx(ry,{className:"h-4 w-4"})}),i.jsx(Xe,{size:"sm",variant:"destructive",onClick:()=>E(O.id),disabled:s.isPending,children:i.jsx(An,{className:"h-4 w-4"})})]})]})})]},O.id))}),!t&&e.length===0&&!l&&i.jsx("div",{className:"text-center py-12",children:i.jsx("p",{className:"text-gray-500",children:"Aucun segment cr pour le moment"})})]}),h&&g&&i.jsx(qae,{segmentId:g.id,segmentName:g.name,onClose:()=>{m(!1),x(null)}})]})}function Kae({cityId:e,onClose:t}){const[r,n]=k.useState({name:"",code:"",segment_id:""}),{data:a}=Rae(e||""),{data:s=[]}=Vf(),l=Iae(),o=Bae(),u=!!e;k.useEffect(()=>{a&&n({name:a.name,code:a.code,segment_id:a.segment_id})},[a]);const d=async h=>{if(h.preventDefault(),!r.name.trim()||!r.code.trim()||!r.segment_id){alert("Veuillez remplir tous les champs obligatoires");return}try{u&&e?await o.mutateAsync({id:e,...r}):await l.mutateAsync(r),t()}catch(m){console.error("Erreur lors de la sauvegarde:",m),alert("Erreur lors de la sauvegarde de la ville")}};return i.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:i.jsxs("div",{className:"bg-white rounded-lg shadow-xl w-full max-w-md max-h-[90vh] overflow-y-auto",children:[i.jsxs("div",{className:"flex items-center justify-between p-4 sm:p-6 border-b border-gray-200",children:[i.jsxs("div",{className:"flex items-center gap-2 sm:gap-3 min-w-0",children:[i.jsx("div",{className:"w-8 h-8 sm:w-10 sm:h-10 bg-green-100 rounded-lg flex items-center justify-center flex-shrink-0",children:i.jsx(ds,{className:"w-5 h-5 sm:w-6 sm:h-6 text-green-600"})}),i.jsxs("div",{className:"min-w-0",children:[i.jsx("h2",{className:"text-lg sm:text-xl font-bold text-gray-900 truncate",children:u?"Modifier la ville":"Nouvelle ville"}),i.jsx("p",{className:"text-xs sm:text-sm text-gray-500 truncate",children:u?"Modifiez les informations":"Ajoutez une nouvelle ville"})]})]}),i.jsx("button",{onClick:t,className:"text-gray-400 hover:text-gray-600 transition-colors flex-shrink-0 ml-2",children:i.jsx(En,{className:"w-5 h-5 sm:w-6 sm:h-6"})})]}),i.jsxs("form",{onSubmit:d,className:"p-4 sm:p-6 space-y-4 sm:space-y-6",children:[i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Nom de la ville *"}),i.jsxs("div",{className:"relative",children:[i.jsx(ds,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 w-5 h-5"}),i.jsx("input",{type:"text",required:!0,value:r.name,onChange:h=>n({...r,name:h.target.value}),placeholder:"Ex: Casablanca",className:"w-full pl-10 pr-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-green-500 focus:border-transparent"})]})]}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Code de la ville *"}),i.jsxs("div",{className:"relative",children:[i.jsx(Y_,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 w-5 h-5"}),i.jsx("input",{type:"text",required:!0,value:r.code,onChange:h=>n({...r,code:h.target.value.toUpperCase()}),placeholder:"Ex: CASA",className:"w-full pl-10 pr-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-green-500 focus:border-transparent uppercase",maxLength:10})]}),i.jsx("p",{className:"mt-1 text-xs text-gray-500",children:"Code court pour identifier la ville (max 10 caractres)"})]}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Segment de formation *"}),i.jsxs("div",{className:"relative",children:[i.jsx(Vx,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 w-5 h-5"}),i.jsxs("select",{required:!0,value:r.segment_id,onChange:h=>n({...r,segment_id:h.target.value}),className:"w-full pl-10 pr-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-green-500 focus:border-transparent appearance-none",children:[i.jsx("option",{value:"",children:"Slectionnez un segment"}),s.map(h=>i.jsx("option",{value:h.id,children:h.name},h.id))]})]}),s.length===0&&i.jsx("p",{className:"mt-1 text-xs text-amber-600",children:"Aucun segment disponible. Veuillez crer un segment d'abord."})]}),i.jsxs("div",{className:"flex gap-3 pt-4 border-t border-gray-200",children:[i.jsx("button",{type:"button",onClick:t,className:"flex-1 px-4 py-2 border border-gray-300 text-gray-700 rounded-lg hover:bg-gray-50 transition-colors",children:"Annuler"}),i.jsx("button",{type:"submit",disabled:l.isPending||o.isPending,className:"flex-1 px-4 py-2 bg-green-600 hover:bg-green-700 text-white rounded-lg transition-colors disabled:opacity-50 disabled:cursor-not-allowed",children:l.isPending||o.isPending?"Enregistrement...":u?"Mettre  jour":"Crer"})]})]})]})})}function Gae(){const e=xn(),[t,r]=k.useState(""),[n,a]=k.useState(!1),[s,l]=k.useState(null),[o,u]=k.useState("all"),[d,h]=k.useState([]),{data:m=[],isLoading:g}=Lg(),{data:x=[]}=Vf(),b=Uae(),v=m.filter(D=>{const C=D.name.toLowerCase().includes(t.toLowerCase())||D.code.toLowerCase().includes(t.toLowerCase()),P=o==="all"||D.segment_id===o;return C&&P}),w=D=>{l(D),a(!0)},N=D=>{h(C=>C.includes(D)?C.filter(P=>P!==D):[...C,D])},E=()=>{d.length===v.length&&v.length>0?h([]):h(v.map(D=>D.id))},j=async(D,C)=>{if(window.confirm(`tes-vous sr de vouloir supprimer la ville "${C}" ?`))try{await b.mutateAsync(D)}catch(P){console.error("Erreur lors de la suppression:",P),alert("Erreur lors de la suppression de la ville")}},T=async()=>{if(d.length===0){alert("Veuillez slectionner au moins une ville  supprimer");return}if(window.confirm(`tes-vous sr de vouloir supprimer ${d.length} ville(s) slectionne(s) ?

Cette action est irrversible.`))try{for(const D of d)await b.mutateAsync(D);h([])}catch(D){console.error("Erreur lors de la suppression en masse:",D),alert("Erreur lors de la suppression des villes")}},O=()=>{a(!1),l(null)};return i.jsxs("div",{className:"p-4 md:p-6 lg:p-8",children:[i.jsxs("div",{className:"mb-4 sm:mb-6",children:[i.jsxs("div",{className:"flex items-center gap-3 sm:gap-4 mb-2",children:[i.jsx("button",{onClick:()=>e("/dashboard"),className:"p-2 hover:bg-gray-100 rounded-lg transition-colors flex-shrink-0",title:"Retour au tableau de bord",children:i.jsx($n,{className:"w-5 h-5 sm:w-6 sm:h-6 text-gray-600"})}),i.jsxs("h1",{className:"text-xl sm:text-2xl md:text-3xl font-bold text-gray-900 flex items-center gap-2",children:[i.jsx(ds,{className:"w-6 h-6 sm:w-7 sm:h-7 md:w-8 md:h-8 text-green-600"}),i.jsx("span",{className:"truncate",children:"Gestion des Villes"})]})]}),i.jsx("p",{className:"text-sm sm:text-base text-gray-600 mt-2 ml-10 sm:ml-12 md:ml-14",children:"Grer les villes et leur affectation"})]}),i.jsx("div",{className:"bg-white rounded-lg shadow-sm p-4 mb-6",children:i.jsxs("div",{className:"flex flex-col md:flex-row gap-4 items-center justify-between",children:[i.jsxs("div",{className:"flex flex-col md:flex-row gap-4 w-full md:w-auto",children:[i.jsxs("div",{className:"relative flex-1 md:w-80",children:[i.jsx(mh,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 w-5 h-5"}),i.jsx("input",{type:"text",placeholder:"Rechercher une ville...",value:t,onChange:D=>r(D.target.value),className:"w-full pl-10 pr-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-green-500 focus:border-transparent"})]}),i.jsxs("select",{value:o,onChange:D=>u(D.target.value),className:"px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-green-500 focus:border-transparent",children:[i.jsx("option",{value:"all",children:"Tous les segments"}),x.map(D=>i.jsx("option",{value:D.id,children:D.name},D.id))]})]}),i.jsxs("div",{className:"flex flex-col sm:flex-row gap-2 w-full md:w-auto",children:[d.length>0&&i.jsxs("button",{onClick:T,className:"w-full sm:w-auto bg-red-600 hover:bg-red-700 text-white px-4 sm:px-6 py-2 rounded-lg flex items-center justify-center gap-2 transition-colors",children:[i.jsx(An,{className:"w-4 h-4 sm:w-5 sm:h-5"}),i.jsxs("span",{className:"text-sm sm:text-base",children:["Supprimer (",d.length,")"]})]}),i.jsxs("button",{onClick:()=>a(!0),className:"w-full sm:w-auto bg-green-600 hover:bg-green-700 text-white px-4 sm:px-6 py-2 rounded-lg flex items-center justify-center gap-2 transition-colors",children:[i.jsx(ra,{className:"w-4 h-4 sm:w-5 sm:h-5"}),i.jsx("span",{className:"text-sm sm:text-base",children:"Nouvelle Ville"})]})]})]})}),g?i.jsxs("div",{className:"bg-white rounded-lg shadow-sm p-8 text-center",children:[i.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-green-600 mx-auto"}),i.jsx("p",{className:"mt-4 text-gray-600",children:"Chargement..."})]}):v.length===0?i.jsxs("div",{className:"bg-white rounded-lg shadow-sm p-8 text-center",children:[i.jsx(ds,{className:"w-16 h-16 text-gray-300 mx-auto mb-4"}),i.jsx("p",{className:"text-gray-600 text-lg",children:t||o!=="all"?"Aucune ville trouve":"Aucune ville enregistre"}),i.jsx("p",{className:"text-gray-400 mt-2",children:t||o!=="all"?"Essayez de modifier vos critres de recherche":"Commencez par crer une nouvelle ville"})]}):i.jsxs("div",{className:"bg-white rounded-lg shadow-sm overflow-hidden",children:[i.jsx("div",{className:"overflow-x-auto",children:i.jsxs("table",{className:"w-full",children:[i.jsx("thead",{className:"bg-gray-50 border-b border-gray-200",children:i.jsxs("tr",{children:[i.jsx("th",{className:"px-6 py-3 text-left",children:i.jsx("input",{type:"checkbox",checked:d.length===v.length&&v.length>0,onChange:E,className:"w-4 h-4 text-green-600 border-gray-300 rounded focus:ring-green-500"})}),i.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Code"}),i.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Nom de la ville"}),i.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Segment"}),i.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Date de cration"}),i.jsx("th",{className:"px-6 py-3 text-right text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Actions"})]})}),i.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:v.map(D=>i.jsxs("tr",{className:"hover:bg-gray-50 transition-colors",children:[i.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:i.jsx("input",{type:"checkbox",checked:d.includes(D.id),onChange:()=>N(D.id),className:"w-4 h-4 text-green-600 border-gray-300 rounded focus:ring-green-500"})}),i.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:i.jsx("span",{className:"text-sm font-medium text-gray-900",children:D.code})}),i.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:i.jsxs("div",{className:"flex items-center",children:[i.jsx(ds,{className:"w-4 h-4 text-green-600 mr-2"}),i.jsx("span",{className:"text-sm font-medium text-gray-900",children:D.name})]})}),i.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:i.jsx("span",{className:"inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium bg-blue-100 text-blue-800",children:D.segment_name||"N/A"})}),i.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:new Date(D.created_at).toLocaleDateString("fr-FR")}),i.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-right text-sm font-medium",children:i.jsxs("div",{className:"flex items-center justify-end gap-2",children:[i.jsx("button",{onClick:()=>w(D.id),className:"text-blue-600 hover:text-blue-900 p-2 hover:bg-blue-50 rounded-lg transition-colors",title:"Modifier",children:i.jsx(Km,{className:"w-4 h-4"})}),i.jsx("button",{onClick:()=>j(D.id,D.name),className:"text-red-600 hover:text-red-900 p-2 hover:bg-red-50 rounded-lg transition-colors",title:"Supprimer",children:i.jsx(An,{className:"w-4 h-4"})})]})})]},D.id))})]})}),i.jsx("div",{className:"bg-gray-50 px-6 py-3 border-t border-gray-200",children:i.jsxs("p",{className:"text-sm text-gray-600",children:["Affichage de ",v.length," ville(s)",o!=="all"&&" filtre(s)"]})})]}),n&&i.jsx(Kae,{cityId:s,onClose:O})]})}const lo={async getAll(){return $e.get("/profiles")},async getById(e){try{return await $e.get(`/profiles/${e}`)}catch(t){if(t instanceof Error&&"status"in t&&t.status===404)return null;throw t}},async create(e){return $e.post("/profiles",e)},async update(e){const{id:t,...r}=e;return $e.put(`/profiles/${t}`,r)},async delete(e){return $e.delete(`/profiles/${e}`)}};function Yae(e){return Jt({queryKey:["users",e],queryFn:async()=>{const t=await lo.getAll();return!e||e==="all"?t:t.filter(r=>r.role===e)}})}function Xae(){const e=Tt();return Ot({mutationFn:async t=>{const r=$f();return lo.create({id:r,...t})},onSuccess:()=>{e.invalidateQueries({queryKey:["users"]})}})}function Qae(){const e=Tt();return Ot({mutationFn:t=>lo.update(t),onSuccess:()=>{e.invalidateQueries({queryKey:["users"]}),e.invalidateQueries({queryKey:["user"]})}})}function Zae(){const e=Tt();return Ot({mutationFn:t=>lo.delete(t),onSuccess:()=>{e.invalidateQueries({queryKey:["users"]})}})}function Jae(){const e=Tt();return Ot({mutationFn:async t=>lo.update({id:t.user_id,segment_ids:t.segment_ids}),onSuccess:(t,r)=>{e.invalidateQueries({queryKey:["user",r.user_id]}),e.invalidateQueries({queryKey:["users"]})}})}function ese(){const e=Tt();return Ot({mutationFn:async t=>lo.update({id:t.user_id,city_ids:t.city_ids}),onSuccess:(t,r)=>{e.invalidateQueries({queryKey:["user",r.user_id]}),e.invalidateQueries({queryKey:["users"]})}})}function NL(){return Jt({queryKey:["segments"],queryFn:()=>Hf.getAll()})}function tse(){return Jt({queryKey:["cities"],queryFn:()=>Ec.getAll()})}function rse(e){return Jt({queryKey:["user",e,"segments"],queryFn:async()=>{const t=await lo.getById(e);return!t||!t.segment_ids?[]:(await Hf.getAll()).filter(n=>t.segment_ids?.includes(n.id))},enabled:!!e})}function nse(e){return Jt({queryKey:["user",e,"cities"],queryFn:async()=>{const t=await lo.getById(e);return!t||!t.city_ids?[]:(await Ec.getAll()).filter(n=>t.city_ids?.includes(n.id))},enabled:!!e})}const ase=()=>{const[e,t]=k.useState("all"),[r,n]=k.useState(!1),[a,s]=k.useState(!1),[l,o]=k.useState(!1),[u,d]=k.useState(!1),[h,m]=k.useState(null),{data:g,isLoading:x}=Yae(e),b=Xae(),v=Qae(),w=Zae(),N=async T=>{if(window.confirm("tes-vous sr de vouloir supprimer cet utilisateur ?"))try{await w.mutateAsync(T)}catch(O){console.error("Error deleting user:",O),alert("Erreur lors de la suppression")}},E=T=>{const D={admin:{label:"Administrateur",color:"bg-red-100 text-red-800",icon:s4},professor:{label:"Professeur",color:"bg-blue-100 text-blue-800",icon:Y0},gerant:{label:"Grant",color:"bg-green-100 text-green-800",icon:fs}}[T];if(!D)return null;const C=D.icon;return i.jsxs("span",{className:`inline-flex items-center gap-1.5 px-3 py-1 rounded-full text-xs font-medium ${D.color}`,children:[i.jsx(C,{className:"w-3.5 h-3.5"}),D.label]})},j={total:g?.length||0,admin:g?.filter(T=>T.role==="admin").length||0,professor:g?.filter(T=>T.role==="professor").length||0,gerant:g?.filter(T=>T.role==="gerant").length||0};return i.jsxs("div",{className:"min-h-screen bg-gray-50",children:[i.jsx("header",{className:"bg-white shadow-sm",children:i.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-3 sm:py-4",children:i.jsxs("div",{className:"flex flex-col sm:flex-row items-start sm:items-center justify-between gap-4",children:[i.jsxs("div",{className:"flex items-start sm:items-center gap-3 sm:gap-4 flex-col sm:flex-row w-full sm:w-auto",children:[i.jsx(Aa,{to:"/dashboard",children:i.jsxs(Xe,{variant:"outline",size:"sm",className:"w-full sm:w-auto",children:[i.jsx($n,{className:"w-4 h-4 mr-2"}),"Retour"]})}),i.jsxs("div",{children:[i.jsx("h1",{className:"text-xl sm:text-2xl font-bold text-gray-900",children:"Gestion des Utilisateurs"}),i.jsx("p",{className:"text-xs sm:text-sm text-gray-600 hidden sm:block",children:"Crer et grer les comptes utilisateurs (admin, professeur, grant)"})]})]}),i.jsxs(Xe,{onClick:()=>n(!0),className:"w-full sm:w-auto",children:[i.jsx(ra,{className:"w-4 h-4 mr-2"}),"Nouvel utilisateur"]})]})})}),i.jsxs("main",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:[i.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4 mb-6",children:[i.jsx(zr,{children:i.jsx(qr,{className:"pt-6",children:i.jsxs("div",{className:"text-center",children:[i.jsx("p",{className:"text-2xl font-bold text-gray-900",children:j.total}),i.jsx("p",{className:"text-sm text-gray-600",children:"Total"})]})})}),i.jsx(zr,{children:i.jsx(qr,{className:"pt-6",children:i.jsxs("div",{className:"text-center",children:[i.jsx("p",{className:"text-2xl font-bold text-red-600",children:j.admin}),i.jsx("p",{className:"text-sm text-gray-600",children:"Administrateurs"})]})})}),i.jsx(zr,{children:i.jsx(qr,{className:"pt-6",children:i.jsxs("div",{className:"text-center",children:[i.jsx("p",{className:"text-2xl font-bold text-blue-600",children:j.professor}),i.jsx("p",{className:"text-sm text-gray-600",children:"Professeurs"})]})})}),i.jsx(zr,{children:i.jsx(qr,{className:"pt-6",children:i.jsxs("div",{className:"text-center",children:[i.jsx("p",{className:"text-2xl font-bold text-green-600",children:j.gerant}),i.jsx("p",{className:"text-sm text-gray-600",children:"Grants"})]})})})]}),i.jsxs(zr,{className:"mb-6",children:[i.jsx(md,{children:i.jsx(pd,{children:"Filtrer par rle"})}),i.jsx(qr,{children:i.jsxs("div",{className:"flex flex-wrap gap-2",children:[i.jsxs(Xe,{variant:e==="all"?"default":"outline",size:"sm",onClick:()=>t("all"),children:["Tous (",j.total,")"]}),i.jsxs(Xe,{variant:e==="admin"?"default":"outline",size:"sm",onClick:()=>t("admin"),children:["Administrateurs (",j.admin,")"]}),i.jsxs(Xe,{variant:e==="professor"?"default":"outline",size:"sm",onClick:()=>t("professor"),children:["Professeurs (",j.professor,")"]}),i.jsxs(Xe,{variant:e==="gerant"?"default":"outline",size:"sm",onClick:()=>t("gerant"),children:["Grants (",j.gerant,")"]})]})})]}),i.jsx(zr,{children:i.jsx(qr,{className:"pt-6",children:x?i.jsxs("div",{className:"text-center py-8",children:[i.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-blue-600 mx-auto"}),i.jsx("p",{className:"text-gray-600 mt-2",children:"Chargement..."})]}):!g||g.length===0?i.jsxs("div",{className:"text-center py-12",children:[i.jsx(fs,{className:"w-16 h-16 text-gray-400 mx-auto mb-4"}),i.jsx("p",{className:"text-gray-500",children:"Aucun utilisateur trouv"})]}):i.jsx("div",{className:"overflow-x-auto",children:i.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[i.jsx("thead",{className:"bg-gray-50",children:i.jsxs("tr",{children:[i.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Nom complet"}),i.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Nom d'utilisateur"}),i.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Rle"}),i.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Date cration"}),i.jsx("th",{className:"px-6 py-3 text-right text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Actions"})]})}),i.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:g.map(T=>i.jsxs("tr",{className:"hover:bg-gray-50",children:[i.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-medium text-gray-900",children:T.full_name}),i.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:T.username}),i.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:E(T.role)}),i.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:new Date(T.created_at).toLocaleDateString("fr-FR")}),i.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-right text-sm font-medium",children:i.jsxs("div",{className:"flex items-center justify-end gap-2",children:[(T.role==="professor"||T.role==="gerant")&&i.jsx(Xe,{variant:"outline",size:"sm",onClick:()=>{m(T),o(!0)},title:"Assigner segments",children:i.jsx(mu,{className:"w-4 h-4"})}),(T.role==="professor"||T.role==="gerant")&&i.jsx(Xe,{variant:"outline",size:"sm",onClick:()=>{m(T),d(!0)},title:"Assigner villes",children:i.jsx(ds,{className:"w-4 h-4"})}),i.jsx(Xe,{variant:"outline",size:"sm",onClick:()=>{m(T),s(!0)},children:i.jsx(ry,{className:"w-4 h-4"})}),i.jsx(Xe,{variant:"outline",size:"sm",onClick:()=>N(T.id),className:"text-red-600 hover:text-red-700",children:i.jsx(An,{className:"w-4 h-4"})})]})})]},T.id))})]})})})})]}),r&&i.jsx(sse,{onClose:()=>n(!1),createUser:b}),a&&h&&i.jsx(ise,{user:h,onClose:()=>{s(!1),m(null)},updateUser:v}),l&&h&&i.jsx(lse,{user:h,onClose:()=>{o(!1),m(null)}}),u&&h&&i.jsx(ose,{user:h,onClose:()=>{d(!1),m(null)}})]})},sse=({onClose:e,createUser:t})=>{const[r,n]=k.useState({username:"",password:"",full_name:"",role:"professor"}),[a,s]=k.useState(!1),l=async o=>{if(o.preventDefault(),!r.username||!r.password||!r.full_name){alert("Veuillez remplir tous les champs");return}try{await t.mutateAsync(r),e()}catch(u){console.error("Error creating user:",u),alert("Erreur lors de la cration de l'utilisateur")}};return i.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:i.jsxs("div",{className:"bg-white rounded-lg shadow-xl p-6 w-full max-w-md",children:[i.jsx("h2",{className:"text-xl font-bold text-gray-900 mb-4",children:"Nouvel utilisateur"}),i.jsxs("form",{onSubmit:l,className:"space-y-4",children:[i.jsxs("div",{children:[i.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:["Nom complet ",i.jsx("span",{className:"text-red-500",children:"*"})]}),i.jsx("input",{type:"text",value:r.full_name,onChange:o=>n({...r,full_name:o.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",placeholder:"Jean Dupont",required:!0})]}),i.jsxs("div",{children:[i.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:["Nom d'utilisateur ",i.jsx("span",{className:"text-red-500",children:"*"})]}),i.jsx("input",{type:"text",value:r.username,onChange:o=>n({...r,username:o.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",placeholder:"jeandupont",required:!0})]}),i.jsxs("div",{children:[i.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:["Mot de passe ",i.jsx("span",{className:"text-red-500",children:"*"})]}),i.jsxs("div",{className:"relative",children:[i.jsx("input",{type:a?"text":"password",value:r.password,onChange:o=>n({...r,password:o.target.value}),className:"w-full px-3 py-2 pr-10 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",placeholder:"",required:!0}),i.jsx("button",{type:"button",onClick:()=>s(!a),className:"absolute right-2 top-1/2 -translate-y-1/2 p-1 text-gray-500 hover:text-gray-700 focus:outline-none",tabIndex:-1,children:a?i.jsx(Qi,{className:"w-5 h-5"}):i.jsx(fi,{className:"w-5 h-5"})})]})]}),i.jsxs("div",{children:[i.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:["Rle ",i.jsx("span",{className:"text-red-500",children:"*"})]}),i.jsxs("select",{value:r.role,onChange:o=>n({...r,role:o.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",required:!0,children:[i.jsx("option",{value:"professor",children:"Professeur"}),i.jsx("option",{value:"gerant",children:"Grant"}),i.jsx("option",{value:"admin",children:"Administrateur"})]})]}),i.jsxs("div",{className:"flex justify-end gap-3 mt-6",children:[i.jsx(Xe,{type:"button",variant:"outline",onClick:e,children:"Annuler"}),i.jsx(Xe,{type:"submit",disabled:t.isPending,children:t.isPending?"Cration...":"Crer"})]})]})]})})},ise=({user:e,onClose:t,updateUser:r})=>{const[n,a]=k.useState({username:e.username,password:"",full_name:e.full_name,role:e.role}),[s,l]=k.useState(!1),o=async u=>{u.preventDefault();try{const d={id:e.id,username:n.username,full_name:n.full_name,role:n.role};n.password&&(d.password=n.password),await r.mutateAsync(d),t()}catch(d){console.error("Error updating user:",d),alert("Erreur lors de la mise  jour")}};return i.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:i.jsxs("div",{className:"bg-white rounded-lg shadow-xl p-6 w-full max-w-md",children:[i.jsx("h2",{className:"text-xl font-bold text-gray-900 mb-4",children:"Modifier l'utilisateur"}),i.jsxs("form",{onSubmit:o,className:"space-y-4",children:[i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Nom complet"}),i.jsx("input",{type:"text",value:n.full_name,onChange:u=>a({...n,full_name:u.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent"})]}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Nom d'utilisateur"}),i.jsx("input",{type:"text",value:n.username,onChange:u=>a({...n,username:u.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent"})]}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Nouveau mot de passe (laisser vide pour ne pas modifier)"}),i.jsxs("div",{className:"relative",children:[i.jsx("input",{type:s?"text":"password",value:n.password,onChange:u=>a({...n,password:u.target.value}),className:"w-full px-3 py-2 pr-10 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",placeholder:""}),i.jsx("button",{type:"button",onClick:()=>l(!s),className:"absolute right-2 top-1/2 -translate-y-1/2 p-1 text-gray-500 hover:text-gray-700 focus:outline-none",tabIndex:-1,children:s?i.jsx(Qi,{className:"w-5 h-5"}):i.jsx(fi,{className:"w-5 h-5"})})]})]}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Rle"}),i.jsxs("select",{value:n.role,onChange:u=>a({...n,role:u.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",children:[i.jsx("option",{value:"professor",children:"Professeur"}),i.jsx("option",{value:"gerant",children:"Grant"}),i.jsx("option",{value:"admin",children:"Administrateur"})]})]}),i.jsxs("div",{className:"flex justify-end gap-3 mt-6",children:[i.jsx(Xe,{type:"button",variant:"outline",onClick:t,children:"Annuler"}),i.jsx(Xe,{type:"submit",disabled:r.isPending,children:r.isPending?"Mise  jour...":"Mettre  jour"})]})]})]})})},lse=({user:e,onClose:t})=>{const{data:r}=NL(),{data:n}=rse(e.id),a=Jae(),[s,l]=k.useState([]);ed.useEffect(()=>{n&&l(n.map(d=>d.id))},[n]);const o=async d=>{d.preventDefault();try{await a.mutateAsync({user_id:e.id,segment_ids:s,role:e.role}),t()}catch(h){console.error("Error assigning segments:",h),alert("Erreur lors de l'assignation")}},u=d=>{l(h=>h.includes(d)?h.filter(m=>m!==d):[...h,d])};return i.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:i.jsxs("div",{className:"bg-white rounded-lg shadow-xl p-6 w-full max-w-md",children:[i.jsxs("h2",{className:"text-xl font-bold text-gray-900 mb-4",children:["Assigner des segments  ",e.full_name]}),i.jsxs("form",{onSubmit:o,children:[i.jsx("div",{className:"space-y-2 max-h-96 overflow-y-auto mb-4",children:r?.map(d=>i.jsxs("label",{className:"flex items-center p-3 border border-gray-200 rounded-lg hover:bg-gray-50 cursor-pointer",children:[i.jsx("input",{type:"checkbox",checked:s.includes(d.id),onChange:()=>u(d.id),className:"mr-3 h-4 w-4 text-blue-600 focus:ring-blue-500 border-gray-300 rounded"}),i.jsx("div",{className:"flex-1",children:i.jsx("span",{className:"font-medium text-gray-900",children:d.name})}),i.jsx("div",{className:"w-4 h-4 rounded-full ml-2",style:{backgroundColor:d.color}})]},d.id))}),i.jsxs("div",{className:"flex justify-end gap-3",children:[i.jsx(Xe,{type:"button",variant:"outline",onClick:t,children:"Annuler"}),i.jsx(Xe,{type:"submit",disabled:a.isPending,children:a.isPending?"Assignation...":"Assigner"})]})]})]})})},ose=({user:e,onClose:t})=>{const{data:r}=tse(),{data:n}=NL(),{data:a}=nse(e.id),s=ese(),[l,o]=k.useState([]);ed.useEffect(()=>{a&&o(a.map(m=>m.id))},[a]);const u=async m=>{m.preventDefault();try{await s.mutateAsync({user_id:e.id,city_ids:l,role:e.role}),t()}catch(g){console.error("Error assigning cities:",g),alert("Erreur lors de l'assignation")}},d=m=>{o(g=>g.includes(m)?g.filter(x=>x!==m):[...g,m])},h=m=>n?.find(g=>g.id===m)?.name||"";return i.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:i.jsxs("div",{className:"bg-white rounded-lg shadow-xl p-6 w-full max-w-md",children:[i.jsxs("h2",{className:"text-xl font-bold text-gray-900 mb-4",children:["Assigner des villes  ",e.full_name]}),i.jsxs("form",{onSubmit:u,children:[i.jsx("div",{className:"space-y-2 max-h-96 overflow-y-auto mb-4",children:r?.map(m=>i.jsxs("label",{className:"flex items-center p-3 border border-gray-200 rounded-lg hover:bg-gray-50 cursor-pointer",children:[i.jsx("input",{type:"checkbox",checked:l.includes(m.id),onChange:()=>d(m.id),className:"mr-3 h-4 w-4 text-blue-600 focus:ring-blue-500 border-gray-300 rounded"}),i.jsxs("div",{className:"flex-1",children:[i.jsx("span",{className:"font-medium text-gray-900",children:m.name}),i.jsxs("span",{className:"text-xs text-gray-500 ml-2",children:["(",h(m.segment_id),")"]})]})]},m.id))}),i.jsxs("div",{className:"flex justify-end gap-3",children:[i.jsx(Xe,{type:"button",variant:"outline",onClick:t,children:"Annuler"}),i.jsx(Xe,{type:"submit",disabled:s.isPending,children:s.isPending?"Assignation...":"Assigner"})]})]})]})})};class cse{input="";pos=0;currentChar=null;parse(t){try{if(this.input=t.trim(),this.pos=0,this.currentChar=this.input.length>0?this.input[0]:null,!this.currentChar)return{success:!1,error:"Expression vide"};const r=this.parseExpression();return this.skipWhitespace(),this.currentChar!==null?{success:!1,error:`Caractre inattendu: ${this.currentChar}`}:{success:!0,ast:r}}catch(r){return{success:!1,error:r.message||"Erreur de parsing"}}}advance(){this.pos++,this.currentChar=this.pos<this.input.length?this.input[this.pos]:null}peek(t=1){const r=this.pos+t;return r<this.input.length?this.input[r]:null}skipWhitespace(){for(;this.currentChar&&/\s/.test(this.currentChar);)this.advance()}parseExpression(){let t=this.parseTerm();for(this.skipWhitespace();this.currentChar==="+"||this.currentChar==="-";){const r=this.currentChar;this.advance(),this.skipWhitespace();const n=this.parseTerm();this.skipWhitespace(),t={type:"binary",operator:r,left:t,right:n}}return t}parseTerm(){let t=this.parseFactor();for(this.skipWhitespace();this.currentChar==="*"||this.currentChar==="/";){const r=this.currentChar;this.advance(),this.skipWhitespace();const n=this.parseFactor();this.skipWhitespace(),t={type:"binary",operator:r,left:t,right:n}}return t}parsePostfix(){let t=this.parsePrimary();return this.skipWhitespace(),this.currentChar==="%"&&(this.advance(),t={type:"postfix",operator:"%",operand:t}),t}parseFactor(){let t=this.parseUnary();for(this.skipWhitespace();this.currentChar==="^";){this.advance(),this.skipWhitespace();const r=this.parseUnary();this.skipWhitespace(),t={type:"binary",operator:"^",left:t,right:r}}return t}parseUnary(){if(this.currentChar==="-"||this.currentChar==="+"){const t=this.currentChar;this.advance();const r=this.parseUnary();return{type:"unary",operator:t,operand:r}}return this.parsePostfix()}parsePrimary(){if(this.skipWhitespace(),this.currentChar&&/[0-9.]/.test(this.currentChar))return this.parseNumber();if(this.currentChar==='"')return this.parseString();if(this.currentChar&&/[A-Za-z_]/.test(this.currentChar))return this.parseIdentifier();if(this.currentChar==="("){this.advance();const t=this.parseExpression();if(this.skipWhitespace(),this.currentChar!==")")throw new Error("Parenthse fermante manquante");return this.advance(),t}if(this.currentChar===">"||this.currentChar==="<"||this.currentChar==="=")return this.parseComparison();throw new Error(`Caractre inattendu: ${this.currentChar}`)}parseNumber(){let t="",r=!1;for(;this.currentChar&&(/[0-9]/.test(this.currentChar)||this.currentChar===".");){if(this.currentChar==="."){if(r)throw new Error("Nombre invalide: deux points dcimaux");r=!0}t+=this.currentChar,this.advance()}const n=parseFloat(t);if(isNaN(n))throw new Error(`Nombre invalide: ${t}`);return{type:"number",value:n}}parseString(){this.advance();let t="";for(;this.currentChar&&this.currentChar!=='"';)this.currentChar==="\\"&&this.peek()==='"'?(this.advance(),t+='"',this.advance()):(t+=this.currentChar,this.advance());if(this.currentChar!=='"')throw new Error("Guillemet fermant manquant");return this.advance(),{type:"string",value:t}}parseIdentifier(){let t="";for(;this.currentChar&&/[A-Za-z0-9_]/.test(this.currentChar);)t+=this.currentChar,this.advance();return this.skipWhitespace(),t.toUpperCase()==="TRUE"?{type:"boolean",value:!0}:t.toUpperCase()==="FALSE"?{type:"boolean",value:!1}:this.currentChar==="("?this.parseFunction(t):{type:"reference",name:t}}parseFunction(t){this.advance();const r=[];if(this.skipWhitespace(),this.currentChar===")")return this.advance(),{type:"function",name:t.toUpperCase(),args:r};for(;;){if(r.push(this.parseExpression()),this.skipWhitespace(),this.currentChar===")"){this.advance();break}if(this.currentChar===","){this.advance(),this.skipWhitespace();continue}throw new Error("Virgule ou parenthse fermante attendue dans la fonction")}return{type:"function",name:t.toUpperCase(),args:r}}parseComparison(){throw new Error("Comparaisons not yet implemented")}}function _L(e){return new cse().parse(e)}const y4={SUM:e=>{let t=0;for(const r of e)if(typeof r=="number")t+=r;else if(typeof r=="string"){const n=parseFloat(r);isNaN(n)||(t+=n)}return t},AVG:e=>{if(e.length===0)return"#ERR";const t=y4.SUM(e);return typeof t=="number"?t/e.length:"#ERR"},MIN:e=>{const t=e.filter(r=>typeof r=="number");return t.length>0?Math.min(...t):"#ERR"},MAX:e=>{const t=e.filter(r=>typeof r=="number");return t.length>0?Math.max(...t):"#ERR"},COUNT:e=>e.filter(t=>t!=null).length,IF:e=>{if(e.length<2)return"#ERR";const t=e[0],r=e[1],n=e.length>2?e[2]:null;return t?r:n},ROUND:e=>{if(e.length===0)return"#ERR";const t=typeof e[0]=="number"?e[0]:parseFloat(String(e[0])),r=e.length>1&&typeof e[1]=="number"?e[1]:0;if(isNaN(t))return"#TYPE!";const n=Math.pow(10,r);return Math.round(t*n)/n},FLOOR:e=>{if(e.length===0)return"#ERR";const t=typeof e[0]=="number"?e[0]:parseFloat(String(e[0]));return isNaN(t)?"#TYPE!":Math.floor(t)},CEIL:e=>{if(e.length===0)return"#ERR";const t=typeof e[0]=="number"?e[0]:parseFloat(String(e[0]));return isNaN(t)?"#TYPE!":Math.ceil(t)},ABS:e=>{if(e.length===0)return"#ERR";const t=typeof e[0]=="number"?e[0]:parseFloat(String(e[0]));return isNaN(t)?"#TYPE!":Math.abs(t)},LEN:e=>e.length===0?"#ERR":String(e[0]||"").length,CONCAT:e=>e.map(t=>String(t||"")).join(""),COALESCE:e=>{for(const t of e)if(t!=null&&t!=="")return t;return null},TODAY:()=>new Date().toISOString().split("T")[0],DATE:e=>{if(e.length<3)return"#ERR";const t=Number(e[0]),r=Number(e[1]),n=Number(e[2]);return isNaN(t)||isNaN(r)||isNaN(n)?"#TYPE!":new Date(t,r-1,n).toISOString().split("T")[0]},YEAR:e=>{if(e.length===0)return"#ERR";const t=String(e[0]),r=new Date(t);return isNaN(r.getTime())?"#TYPE!":r.getFullYear()},MONTH:e=>{if(e.length===0)return"#ERR";const t=String(e[0]),r=new Date(t);return isNaN(r.getTime())?"#TYPE!":r.getMonth()+1},DAY:e=>{if(e.length===0)return"#ERR";const t=String(e[0]),r=new Date(t);return isNaN(r.getTime())?"#TYPE!":r.getDate()},NUMBER:e=>{if(e.length===0)return"#ERR";const t=parseFloat(String(e[0]));return isNaN(t)?"#TYPE!":t}};class use{context;constructor(t={}){this.context=t}setContext(t){this.context=t}evaluate(t){try{const r=this.evaluateNode(t),n=typeof r=="string"&&r.startsWith("#");return{value:r,isError:n}}catch{return{value:"#ERR",isError:!0}}}evaluateNode(t){switch(t.type){case"number":return t.value;case"string":return t.value;case"boolean":return t.value;case"reference":return this.evaluateReference(t.name);case"binary":return this.evaluateBinary(t.operator,t.left,t.right);case"unary":return this.evaluateUnary(t.operator,t.operand);case"postfix":return this.evaluatePostfix(t.operator,t.operand);case"function":return this.evaluateFunction(t.name,t.args);case"error":return t.error;default:return"#ERR"}}evaluateReference(t){return t in this.context?this.context[t]:"#REF!"}evaluateBinary(t,r,n){const a=this.evaluateNode(r),s=this.evaluateNode(n);if(typeof a=="string"&&a.startsWith("#"))return a;if(typeof s=="string"&&s.startsWith("#"))return s;const l=typeof a=="number"?a:parseFloat(String(a)),o=typeof s=="number"?s:parseFloat(String(s));if(isNaN(l)||isNaN(o))return"#TYPE!";switch(t){case"+":return l+o;case"-":return l-o;case"*":return l*o;case"/":return o===0?"#DIV/0!":l/o;case"^":return Math.pow(l,o);case">":return l>o;case"<":return l<o;case">=":return l>=o;case"<=":return l<=o;case"=":case"==":return l===o;case"!=":case"<>":return l!==o;default:return"#ERR"}}evaluateUnary(t,r){const n=this.evaluateNode(r);if(typeof n=="string"&&n.startsWith("#"))return n;const a=typeof n=="number"?n:parseFloat(String(n));if(isNaN(a))return"#TYPE!";switch(t){case"-":return-a;case"+":return a;default:return"#ERR"}}evaluatePostfix(t,r){const n=this.evaluateNode(r);if(typeof n=="string"&&n.startsWith("#"))return n;const a=typeof n=="number"?n:parseFloat(String(n));if(isNaN(a))return"#TYPE!";switch(t){case"%":return a/100;default:return"#ERR"}}evaluateFunction(t,r){const n=t.toUpperCase();if(!(n in y4))return"#ERR";const a=[];for(const s of r){const l=this.evaluateNode(s);if(typeof l=="string"&&l.startsWith("#")&&!["SUM","COUNT","COALESCE"].includes(n))return l;a.push(l)}return y4[n](a)}}function dse(e,t={}){return new use(t).evaluate(e)}class fse{graph={nodes:new Set,edges:new Map,reversEdges:new Map};buildGraph(t){this.graph={nodes:new Set,edges:new Map,reversEdges:new Map};for(const r of t)r.ref&&(this.graph.nodes.add(r.ref),this.graph.edges.set(r.ref,new Set),this.graph.reversEdges.set(r.ref,new Set));for(const r of t)if(r.type==="formula"&&r.ref&&r.props.expression){const n=this.extractDependencies(r.props.expression);this.graph.edges.set(r.ref,new Set(n));for(const a of n)this.graph.reversEdges.has(a)||this.graph.reversEdges.set(a,new Set),this.graph.reversEdges.get(a).add(r.ref)}}extractDependencies(t){const r=[],n=_L(t);return n.success&&n.ast&&this.extractReferencesFromAST(n.ast,r),[...new Set(r)]}extractReferencesFromAST(t,r){if(t){if(t.type==="reference")r.push(t.name);else if(t.type==="binary")this.extractReferencesFromAST(t.left,r),this.extractReferencesFromAST(t.right,r);else if(t.type==="unary")this.extractReferencesFromAST(t.operand,r);else if(t.type==="postfix")this.extractReferencesFromAST(t.operand,r);else if(t.type==="function")for(const n of t.args)this.extractReferencesFromAST(n,r)}}detectCycle(){const t=new Set,r=new Set,n=[];for(const a of this.graph.nodes)if(!t.has(a)&&this.detectCycleDFS(a,t,r,n))return n;return null}detectCycleDFS(t,r,n,a){r.add(t),n.add(t),a.push(t);const s=this.graph.edges.get(t)||new Set;for(const l of s)if(r.has(l)){if(n.has(l))return a.push(l),!0}else if(this.detectCycleDFS(l,r,n,a))return!0;return n.delete(t),a.pop(),!1}getEvaluationOrder(){if(this.detectCycle())return null;const r=new Set,n=[];for(const a of this.graph.nodes)r.has(a)||this.topologicalSortDFS(a,r,n);return n.reverse()}topologicalSortDFS(t,r,n){r.add(t);const a=this.graph.reversEdges.get(t)||new Set;for(const s of a)r.has(s)||this.topologicalSortDFS(s,r,n);n.push(t)}getDependents(t){const r=new Set,n=[t];for(;n.length>0;){const a=n.shift(),s=this.graph.reversEdges.get(a)||new Set;for(const l of s)r.has(l)||(r.add(l),n.push(l))}return r}}function Ij(e,t={}){const r=new fse;r.buildGraph(e);const n=r.detectCycle();if(n){const l={...t};for(const o of n)l[o]="#CYCLE!";return l}const a=r.getEvaluationOrder();if(!a)return t;const s={...t};for(const l of a){const o=e.find(u=>u.ref===l);if(o)if(o.type==="formula"&&o.props.expression){const u=_L(o.props.expression);if(!u.success||!u.ast){s[l]="#ERR";continue}const d=dse(u.ast,s);s[l]=d.value}else o.type==="number"&&s[l]===void 0?s[l]=o.props.default!==void 0?o.props.default:0:o.type==="text"&&s[l]===void 0&&(s[l]=o.props.default!==void 0?o.props.default:"")}return s}const Cc={async getAll(){return $e.get("/calculation-sheets")},async getById(e){try{return await $e.get(`/calculation-sheets/${e}`)}catch(t){if(t instanceof Error&&"status"in t&&t.status===404)return null;throw t}},async create(e){return $e.post("/calculation-sheets",e)},async update(e){const{id:t,...r}=e;return $e.put(`/calculation-sheets/${t}`,r)},async delete(e){return $e.delete(`/calculation-sheets/${e}`)}},hse=()=>Jt({queryKey:["calculation-sheets"],queryFn:()=>Cc.getAll()}),jL=e=>Jt({queryKey:["calculation-sheet",e],queryFn:()=>Cc.getById(e),enabled:!!e}),mse=()=>{const e=Tt();return Ot({mutationFn:async t=>{const r=$f(),n=new Date().toISOString();return Cc.create({id:r,title:t.title,template_data:t.template_data||"{}",status:t.status||"draft",sheet_date:t.sheet_date||n,segment_ids:t.segment_ids,city_ids:t.city_ids})},onSuccess:()=>{e.invalidateQueries({queryKey:["calculation-sheets"]})}})},SL=()=>{const e=Tt();return Ot({mutationFn:t=>Cc.update(t),onSuccess:()=>{e.invalidateQueries({queryKey:["calculation-sheets"]}),e.invalidateQueries({queryKey:["calculation-sheet"]})}})},pse=()=>{const e=Tt();return Ot({mutationFn:t=>Cc.delete(t),onSuccess:()=>{e.invalidateQueries({queryKey:["calculation-sheets"]})}})},xse=()=>{const e=Tt();return Ot({mutationFn:async t=>{const r=await Cc.getById(t);if(!r)throw new Error("Fiche non trouve");const n=r.status==="published"?"draft":"published";return Cc.update({id:t,title:r.title,template_data:r.template_data,status:n,sheet_date:r.sheet_date,segment_ids:r.segment_ids,city_ids:r.city_ids})},onSuccess:()=>{e.invalidateQueries({queryKey:["calculation-sheets"]}),e.invalidateQueries({queryKey:["calculation-sheet"]})}})},gse=xse,vse=()=>{const e=Tt();return Ot({mutationFn:async t=>{const r=await Cc.getById(t);if(!r)throw new Error("Fiche non trouve");const n=$f();return Cc.create({id:n,title:`${r.title} (copie)`,template_data:r.template_data,status:"draft",sheet_date:new Date().toISOString(),segment_ids:r.segment_ids,city_ids:r.city_ids})},onSuccess:()=>{e.invalidateQueries({queryKey:["calculation-sheets"]})}})};function yse(){const{id:e}=io(),[t,r]=ZF(),n=t.get("mode")||"user",{data:a,isLoading:s}=jL(e||""),[l,o]=k.useState([]),[u,d]=k.useState("Fiche de Calcul"),[h,m]=k.useState({}),[g,x]=k.useState({}),[b,v]=k.useState(null),[w,N]=k.useState({}),[E]=k.useState({width:1200,height:800});k.useEffect(()=>{if(a&&(d(a.title),a.template_data))try{const C=JSON.parse(a.template_data);C.fields&&C.fields.length>0&&o(C.fields)}catch(C){console.error("Erreur lors du chargement du template:",C)}},[a]),k.useEffect(()=>{const C=Ij(l,h);x(C)},[h,l]);const j=(C,P)=>{const B=l.find(L=>L.ref===C);if(!B)return;let H=P;B.type==="number"&&(H=P===""?0:parseFloat(P)||0),m(L=>({...L,[C]:H}))},T=(C,P)=>{N(B=>({...B,[C]:P}))},O=()=>{const C={values:h,calculatedValues:g,timestamp:new Date().toISOString()};localStorage.setItem("calculation_sheet_data",JSON.stringify(C)),v("Donnes sauvegardes avec succs!"),setTimeout(()=>v(null),3e3)};k.useEffect(()=>{const C=localStorage.getItem("calculation_sheet_data");if(C)try{const P=JSON.parse(C);m(P.values||{})}catch(P){console.error("Erreur lors du chargement des donnes:",P)}},[]);const D=C=>{const P=C.layout||{x:0,y:0,w:200,h:40};if(n==="user"&&C.visibility?.hidden)return null;const B=C.visibility?.hidden;if(C.type==="label")return i.jsxs("div",{className:`absolute bg-gray-100 border-2 border-gray-300 rounded px-3 py-2 flex items-center font-semibold text-gray-700 ${B?"opacity-60 ring-2 ring-red-400":""}`,style:{left:`${P.x}px`,top:`${P.y}px`,width:`${P.w}px`,height:`${P.h}px`},children:[B&&n==="admin"&&i.jsx(Qi,{className:"w-4 h-4 mr-2 text-red-500"}),C.props.label]},C.id);if(C.type==="text"){const H=h[C.ref],L=typeof H=="string"||typeof H=="number"?String(H):"";return i.jsx("div",{className:`absolute ${B?"ring-2 ring-red-400 opacity-60":""}`,style:{left:`${P.x}px`,top:`${P.y}px`,width:`${P.w}px`,height:`${P.h}px`},children:i.jsx("input",{type:"text",value:L,onChange:U=>j(C.ref,U.target.value),className:"w-full h-full px-3 py-2 border border-blue-300 rounded focus:ring-2 focus:ring-blue-500 focus:border-transparent"})},C.id)}if(C.type==="textarea"){const H=h[C.ref],L=typeof H=="string"||typeof H=="number"?String(H):"";return i.jsx("div",{className:`absolute ${B?"ring-2 ring-red-400 opacity-60":""}`,style:{left:`${P.x}px`,top:`${P.y}px`,width:`${P.w}px`,height:`${P.h}px`},children:i.jsxs("div",{className:"relative w-full h-full",children:[B&&n==="admin"&&i.jsx("div",{className:"absolute top-2 right-2 z-10",children:i.jsx(Qi,{className:"w-4 h-4 text-red-500"})}),i.jsx("textarea",{value:L,onChange:U=>j(C.ref,U.target.value),placeholder:C.props.label||"crivez vos commentaires ici...",className:"w-full h-full px-3 py-2 border-2 border-indigo-300 rounded focus:ring-2 focus:ring-indigo-500 focus:border-transparent resize-none"})]})},C.id)}if(C.type==="number"){const H=h[C.ref]!==void 0?h[C.ref]:C.props.default||0,L=typeof H=="number"||typeof H=="string"?H:"";return i.jsx("div",{className:`absolute ${B?"ring-2 ring-red-400 opacity-60":""}`,style:{left:`${P.x}px`,top:`${P.y}px`,width:`${P.w}px`,height:`${P.h}px`},children:i.jsxs("div",{className:"relative w-full h-full",children:[B&&n==="admin"&&i.jsx("div",{className:"absolute top-1/2 -translate-y-1/2 right-2 z-10",children:i.jsx(Qi,{className:"w-4 h-4 text-red-500"})}),i.jsx("input",{type:"number",step:"0.01",value:L,onChange:U=>j(C.ref,U.target.value),className:"w-full h-full px-3 py-2 border border-green-300 rounded focus:ring-2 focus:ring-green-500 focus:border-transparent"})]})},C.id)}if(C.type==="formula"){const H=g[C.ref],L=typeof H=="string"&&H.startsWith("#");return i.jsx("div",{className:`absolute flex items-center ${B?"ring-2 ring-red-400 opacity-60":""}`,style:{left:`${P.x}px`,top:`${P.y}px`,width:`${P.w}px`,height:`${P.h}px`},children:i.jsxs("div",{className:`relative w-full h-full px-3 py-2 border-2 rounded font-semibold flex items-center ${L?"bg-red-50 border-red-400 text-red-700":"bg-purple-50 border-purple-400 text-purple-900"}`,children:[B&&n==="admin"&&i.jsx(Qi,{className:"w-4 h-4 text-red-500 mr-2 flex-shrink-0"}),typeof H=="number"?H.toFixed(C.props.decimals||2):String(H||"0")]})},C.id)}if(C.type==="frame")return i.jsx("div",{className:`absolute border-2 border-orange-400 rounded-lg bg-orange-50/30 ${B?"ring-2 ring-red-400 opacity-60":""}`,style:{left:`${P.x}px`,top:`${P.y}px`,width:`${P.w}px`,height:`${P.h}px`},children:i.jsxs("div",{className:"bg-orange-500 text-white px-3 py-1 rounded-t font-semibold text-sm flex items-center",children:[B&&n==="admin"&&i.jsx(Qi,{className:"w-3 h-3 mr-2"}),C.props.label||"Cadre"]})},C.id);if(C.type==="file"){const H=w[C.ref];return i.jsx("div",{className:`absolute ${B?"ring-2 ring-red-400 opacity-60":""}`,style:{left:`${P.x}px`,top:`${P.y}px`,width:`${P.w}px`,height:`${P.h}px`},children:H?i.jsxs("div",{className:"w-full h-full border-2 border-teal-400 bg-teal-50 rounded px-3 py-2 flex items-center justify-between gap-2",children:[B&&n==="admin"&&i.jsx("div",{className:"flex-shrink-0",children:i.jsx(Qi,{className:"w-4 h-4 text-red-500"})}),i.jsxs("div",{className:"flex items-center gap-2 flex-1 min-w-0",children:[i.jsx(us,{className:"w-5 h-5 text-teal-600 flex-shrink-0"}),i.jsxs("div",{className:"flex-1 min-w-0",children:[i.jsx("div",{className:"text-sm font-medium text-teal-900 truncate",children:H.name}),i.jsxs("div",{className:"text-xs text-teal-600",children:[(H.size/1024/1024).toFixed(2)," MB"]})]})]}),i.jsxs("div",{className:"flex gap-1 flex-shrink-0",children:[i.jsx("button",{onClick:()=>{const L=URL.createObjectURL(H);window.open(L,"_blank")},className:"p-1.5 hover:bg-teal-200 rounded transition-colors",title:"Prvisualiser",children:i.jsx(fi,{className:"w-4 h-4 text-teal-700"})}),i.jsx("button",{onClick:()=>{const L=URL.createObjectURL(H),U=document.createElement("a");U.href=L,U.download=H.name,U.click(),URL.revokeObjectURL(L)},className:"p-1.5 hover:bg-teal-200 rounded transition-colors",title:"Tlcharger",children:i.jsx(Fi,{className:"w-4 h-4 text-teal-700"})}),i.jsx("button",{onClick:()=>T(C.ref,null),className:"p-1.5 hover:bg-red-200 rounded transition-colors",title:"Supprimer",children:i.jsx(En,{className:"w-4 h-4 text-red-600"})})]})]}):i.jsxs("label",{className:"w-full h-full border-2 border-dashed border-teal-300 bg-teal-50/50 rounded px-3 py-2 flex flex-col items-center justify-center cursor-pointer hover:bg-teal-100/50 transition-colors relative",children:[B&&n==="admin"&&i.jsx("div",{className:"absolute top-2 right-2",children:i.jsx(Qi,{className:"w-4 h-4 text-red-500"})}),i.jsx(Ef,{className:"w-6 h-6 text-teal-600 mb-1"}),i.jsx("span",{className:"text-sm font-medium text-teal-700",children:C.props.label||"Tlcharger un fichier"}),i.jsxs("span",{className:"text-xs text-teal-600 mt-1",children:[C.props.accept||"Tous les fichiers"," (max ",C.props.maxSize||5," MB)"]}),i.jsx("input",{type:"file",accept:C.props.accept,onChange:L=>{const U=L.target.files?.[0];if(U){const V=(C.props.maxSize||5)*1024*1024;if(U.size>V){alert(`Le fichier est trop volumineux. Taille maximum: ${C.props.maxSize||5} MB`);return}T(C.ref,U)}},className:"hidden"})]})},C.id)}return null};return s?i.jsx("div",{className:"min-h-screen flex items-center justify-center",children:i.jsxs("div",{className:"text-center",children:[i.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-600 mx-auto mb-4"}),i.jsx("p",{className:"text-gray-600",children:"Chargement de la fiche..."})]})}):!a||l.length===0?i.jsx("div",{className:"min-h-screen flex items-center justify-center",children:i.jsxs("div",{className:"text-center",children:[i.jsx(mu,{className:"w-16 h-16 text-gray-400 mx-auto mb-4"}),i.jsx("h2",{className:"text-xl font-semibold text-gray-700 mb-2",children:"Aucune fiche trouve"}),i.jsx("p",{className:"text-gray-500 mb-4",children:"Cette fiche n'existe pas ou n'a pas encore de champs."}),i.jsxs(Aa,{to:"/admin/calculation-sheets",className:"inline-flex items-center gap-2 px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700",children:[i.jsx($n,{className:"w-4 h-4"}),"Retour  la liste"]})]})}):i.jsxs("div",{className:"min-h-screen bg-gray-50",children:[i.jsx("div",{className:"bg-white border-b border-gray-200 px-4 sm:px-6 py-3 sm:py-4",children:i.jsxs("div",{className:"flex flex-col lg:flex-row items-start lg:items-center justify-between gap-4",children:[i.jsxs("div",{className:"flex items-start sm:items-center gap-3 sm:gap-4 w-full lg:w-auto",children:[i.jsx(Aa,{to:"/admin/calculation-sheets",className:"p-2 hover:bg-gray-100 rounded-lg transition-colors flex-shrink-0",title:"Retour  la liste",children:i.jsx($n,{className:"w-5 h-5 sm:w-6 sm:h-6 text-gray-600"})}),i.jsxs("div",{className:"min-w-0 flex-1",children:[i.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center gap-2 sm:gap-3",children:[i.jsx("h1",{className:"text-lg sm:text-xl md:text-2xl font-bold text-gray-900 truncate",children:u}),i.jsx("span",{className:`px-2.5 sm:px-3 py-1 rounded-full text-xs font-medium flex items-center gap-1 w-fit ${n==="admin"?"bg-purple-100 text-purple-800":"bg-blue-100 text-blue-800"}`,children:n==="admin"?i.jsxs(i.Fragment,{children:[i.jsx(s4,{className:"w-3 h-3"}),"Mode Admin"]}):i.jsxs(i.Fragment,{children:[i.jsx(Y0,{className:"w-3 h-3"}),"Mode Utilisateur"]})})]}),i.jsx("p",{className:"text-xs sm:text-sm text-gray-500 mt-1 hidden sm:block",children:n==="admin"?"Tous les champs visibles - Simulation complte":"Mode Test - Vrifiez vos calculs"})]})]}),i.jsxs("div",{className:"flex flex-col sm:flex-row items-stretch sm:items-center gap-2 sm:gap-3 w-full lg:w-auto",children:[i.jsxs("div",{className:"flex gap-2",children:[i.jsxs("button",{onClick:()=>r({mode:"admin"}),className:`flex-1 sm:flex-none px-3 py-2 rounded-lg transition-colors flex items-center justify-center gap-2 text-sm ${n==="admin"?"bg-purple-600 text-white":"bg-gray-100 text-gray-700 hover:bg-gray-200"}`,children:[i.jsx(s4,{className:"w-4 h-4"}),i.jsx("span",{className:"hidden sm:inline",children:"Admin"})]}),i.jsxs("button",{onClick:()=>r({mode:"user"}),className:`flex-1 sm:flex-none px-3 py-2 rounded-lg transition-colors flex items-center justify-center gap-2 text-sm ${n==="user"?"bg-blue-600 text-white":"bg-gray-100 text-gray-700 hover:bg-gray-200"}`,children:[i.jsx(Y0,{className:"w-4 h-4"}),i.jsx("span",{className:"hidden sm:inline",children:"Utilisateur"})]})]}),b&&i.jsxs("div",{className:"flex items-center gap-2 bg-green-100 text-green-800 px-3 sm:px-4 py-2 rounded-lg",children:[i.jsx(lD,{className:"w-4 h-4 sm:w-5 sm:h-5 flex-shrink-0"}),i.jsx("span",{className:"text-xs sm:text-sm font-medium",children:b})]}),i.jsxs("button",{onClick:O,className:"w-full sm:w-auto px-3 sm:px-4 py-2 bg-green-600 hover:bg-green-700 text-white rounded-lg transition-colors flex items-center justify-center gap-2 text-sm sm:text-base",children:[i.jsx(cp,{className:"w-4 h-4 sm:w-5 sm:h-5"}),i.jsx("span",{children:"Sauvegarder Test"})]}),i.jsxs(Aa,{to:`/admin/calculation-sheets/${e}/editor`,className:"w-full sm:w-auto px-3 sm:px-4 py-2 bg-purple-600 hover:bg-purple-700 text-white rounded-lg transition-colors flex items-center justify-center gap-2 text-sm sm:text-base",children:[i.jsx(hh,{className:"w-4 h-4 sm:w-5 sm:h-5"}),i.jsx("span",{children:"Modifier"})]})]})]})}),i.jsxs("div",{className:"p-4",children:[i.jsx("div",{className:"bg-white rounded-lg shadow-sm overflow-auto",children:i.jsx("div",{className:"relative bg-white",style:{width:`${E.width}px`,minHeight:`${E.height}px`},children:l.map(C=>D(C))})}),i.jsxs("div",{className:"mt-6 bg-blue-50 border border-blue-200 rounded-lg p-4",children:[i.jsxs("h3",{className:"font-semibold text-blue-900 mb-2 flex items-center gap-2",children:[i.jsx(mu,{className:"w-5 h-5"}),"Mode Test - Comment utiliser"]}),i.jsxs("div",{className:"text-sm text-blue-800 space-y-1",children:[i.jsxs("p",{children:[" Saisissez des valeurs dans les champs ",i.jsx("strong",{children:"Nombre"})," et ",i.jsx("strong",{children:"Texte"})]}),i.jsx("p",{children:" Les formules se calculent automatiquement en temps rel"}),i.jsx("p",{children:" Vrifiez que les calculs sont corrects avant d'utiliser en production"}),i.jsx("p",{children:` Cliquez sur "Modifier" pour retourner  l'diteur et ajuster les champs`}),i.jsx("p",{children:" Les donnes de test sont sauvegardes temporairement"})]})]})]})]})}function bse(){const e=xn(),[t,r]=k.useState(!1),[n,a]=k.useState(null),{data:s=[],isLoading:l}=hse(),{data:o=[]}=Vf(),{data:u=[]}=Lg(),d=pse(),h=gse(),m=vse(),g=s.map(N=>({...N,segments:o.filter(E=>N.segment_ids?.includes(E.id)),cities:u.filter(E=>N.city_ids?.includes(E.id))})),x=async(N,E)=>{if(window.confirm(`tes-vous sr de vouloir supprimer "${E}" ?`))try{await d.mutateAsync(N)}catch(j){console.error("Erreur lors de la suppression:",j),alert("Erreur lors de la suppression de la fiche")}},b=async(N,E,j)=>{const T=E==="published"?"dpublier":"publier",O=E==="published"?`tes-vous sr de vouloir dpublier "${j}" ?

Les professeurs ne pourront plus l'utiliser.`:`tes-vous sr de vouloir publier "${j}" ?

Les professeurs pourront utiliser cette fiche.`;if(window.confirm(O))try{await h.mutateAsync(N)}catch(D){console.error(`Erreur lors de la ${T}ication:`,D),alert(`Erreur lors de la ${T}ication de la fiche`)}},v=async(N,E)=>{if(window.confirm(`Voulez-vous dupliquer "${E}" ?

Une copie en brouillon sera cre.`))try{await m.mutateAsync(N)}catch(j){console.error("Erreur lors de la duplication:",j),alert("Erreur lors de la duplication de la fiche")}},w=N=>{try{const E=JSON.parse(N.template_data),j={name:N.title,fields:E.fields||[],version:E.version||"1.0.0"},T=JSON.stringify(j,null,2),O=new Blob([T],{type:"application/json"}),D=URL.createObjectURL(O),C=document.createElement("a");C.href=D,C.download=`${N.title.replace(/\s+/g,"-").toLowerCase()}.json`,document.body.appendChild(C),C.click(),document.body.removeChild(C),URL.revokeObjectURL(D)}catch(E){console.error("Erreur lors de l'export:",E),alert("Erreur lors de l'export de la fiche")}};return i.jsxs("div",{className:"p-6",children:[i.jsxs("div",{className:"mb-6",children:[i.jsxs("div",{className:"flex items-center justify-between mb-2",children:[i.jsxs("div",{className:"flex items-center gap-4",children:[i.jsx("button",{onClick:()=>e("/dashboard"),className:"p-2 hover:bg-gray-100 rounded-lg transition-colors",title:"Retour au tableau de bord",children:i.jsx($n,{className:"w-6 h-6 text-gray-600"})}),i.jsxs("h1",{className:"text-3xl font-bold text-gray-900 flex items-center gap-2",children:[i.jsx(K0,{className:"w-8 h-8 text-blue-600"}),"Gestion des Fiches de Calcul"]})]}),i.jsxs("button",{onClick:()=>r(!0),className:"px-6 py-2 bg-green-600 hover:bg-green-700 text-white rounded-lg transition-colors flex items-center gap-2",children:[i.jsx(ra,{className:"w-5 h-5"}),"Nouvelle Fiche"]})]}),i.jsx("p",{className:"text-gray-600 ml-14",children:"Crer et grer les templates de fiches de calcul pour les sessions"})]}),l?i.jsxs("div",{className:"bg-white rounded-lg shadow-sm p-12 text-center",children:[i.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-600 mx-auto mb-4"}),i.jsx("p",{className:"text-gray-600",children:"Chargement des fiches..."})]}):g.length===0?i.jsxs("div",{className:"bg-white rounded-lg shadow-sm p-12 text-center",children:[i.jsx(K0,{className:"w-16 h-16 text-gray-300 mx-auto mb-4"}),i.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"Aucune fiche cre"}),i.jsx("p",{className:"text-gray-500 mb-6",children:"Commencez par crer votre premire fiche de calcul"}),i.jsxs("button",{onClick:()=>r(!0),className:"px-6 py-2 bg-green-600 hover:bg-green-700 text-white rounded-lg transition-colors inline-flex items-center gap-2",children:[i.jsx(ra,{className:"w-5 h-5"}),"Crer ma premire fiche"]})]}):i.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:g.map(N=>i.jsx("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 hover:shadow-md transition-shadow",children:i.jsxs("div",{className:"p-6",children:[i.jsxs("div",{className:"flex items-start justify-between mb-4",children:[i.jsxs("div",{className:"flex-1",children:[i.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-1",children:N.title}),i.jsx("span",{className:`inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium ${N.status==="published"?"bg-green-100 text-green-800":"bg-yellow-100 text-yellow-800"}`,children:N.status==="published"?"Publie":"Brouillon"})]}),i.jsx(mu,{className:"w-8 h-8 text-blue-500"})]}),i.jsxs("div",{className:"mb-3",children:[i.jsxs("div",{className:"flex items-center gap-1 text-sm text-gray-600 mb-2",children:[i.jsx(Vx,{className:"w-4 h-4"}),i.jsxs("span",{className:"font-medium",children:["Segments (",N.segments.length,")"]})]}),i.jsx("div",{className:"flex flex-wrap gap-2",children:N.segments.map(E=>i.jsxs("span",{className:"inline-flex items-center gap-1 px-2 py-1 bg-gray-100 text-gray-700 rounded text-xs",children:[i.jsx("span",{className:"w-2 h-2 rounded-full",style:{backgroundColor:E.color}}),E.name]},E.id))})]}),i.jsxs("div",{className:"mb-4",children:[i.jsxs("div",{className:"flex items-center gap-1 text-sm text-gray-600 mb-2",children:[i.jsx(ds,{className:"w-4 h-4"}),i.jsxs("span",{className:"font-medium",children:["Villes (",N.cities.length,")"]})]}),i.jsxs("div",{className:"flex flex-wrap gap-2",children:[N.cities.slice(0,3).map(E=>i.jsx("span",{className:"inline-flex items-center px-2 py-1 bg-blue-50 text-blue-700 rounded text-xs",children:E.name},E.id)),N.cities.length>3&&i.jsxs("span",{className:"inline-flex items-center px-2 py-1 bg-gray-100 text-gray-600 rounded text-xs",children:["+",N.cities.length-3," autres"]})]})]}),i.jsxs("div",{className:"text-xs text-gray-500 mb-4",children:["Modifi le ",new Date(N.updated_at).toLocaleDateString("fr-FR")]}),i.jsxs("div",{className:"space-y-2 pt-4 border-t border-gray-200",children:[i.jsx("button",{onClick:()=>b(N.id,N.status,N.title),disabled:h.isPending,className:`w-full px-3 py-2 rounded-lg text-sm font-medium flex items-center justify-center gap-2 transition-colors ${N.status==="published"?"bg-orange-50 hover:bg-orange-100 text-orange-700 border border-orange-200":"bg-green-50 hover:bg-green-100 text-green-700 border border-green-200"}`,children:N.status==="published"?i.jsxs(i.Fragment,{children:[i.jsx(xd,{className:"w-4 h-4"}),"Dpublier"]}):i.jsxs(i.Fragment,{children:[i.jsx(Ef,{className:"w-4 h-4"}),"Publier"]})}),i.jsxs("div",{className:"flex gap-2",children:[i.jsxs(Aa,{to:`/admin/calculation-sheets/${N.id}`,className:"flex-1 px-3 py-2 bg-blue-600 hover:bg-blue-700 text-white rounded-lg text-sm font-medium flex items-center justify-center gap-1 transition-colors",children:[i.jsx(fi,{className:"w-4 h-4"}),"Voir"]}),i.jsx("button",{onClick:()=>a(N),className:"px-3 py-2 bg-purple-50 hover:bg-purple-100 text-purple-600 rounded-lg text-sm transition-colors",title:"Modifier les informations",children:i.jsx(fD,{className:"w-4 h-4"})}),i.jsxs(Aa,{to:`/admin/calculation-sheets/${N.id}/editor`,className:"flex-1 px-3 py-2 bg-gray-100 hover:bg-gray-200 text-gray-700 rounded-lg text-sm font-medium flex items-center justify-center gap-1 transition-colors",children:[i.jsx(hh,{className:"w-4 h-4"}),"Modifier"]})]}),i.jsxs("div",{className:"flex gap-2 mt-2",children:[i.jsxs("button",{onClick:()=>w(N),className:"flex-1 px-3 py-2 bg-indigo-50 hover:bg-indigo-100 text-indigo-700 rounded-lg text-sm font-medium flex items-center justify-center gap-1 transition-colors",title:"Exporter en JSON",children:[i.jsx(Fi,{className:"w-4 h-4"}),"Exporter"]}),i.jsx("button",{onClick:()=>v(N.id,N.title),className:"px-3 py-2 bg-cyan-50 hover:bg-cyan-100 text-cyan-700 rounded-lg text-sm transition-colors",title:"Dupliquer",children:i.jsx(id,{className:"w-4 h-4"})}),i.jsx("button",{onClick:()=>x(N.id,N.title),className:"px-3 py-2 bg-red-50 hover:bg-red-100 text-red-600 rounded-lg text-sm transition-colors",title:"Supprimer",children:i.jsx(An,{className:"w-4 h-4"})})]})]})]})},N.id))}),t&&i.jsx(wse,{onClose:()=>r(!1)}),n&&i.jsx(Nse,{sheet:n,onClose:()=>a(null)})]})}function wse({onClose:e}){const[t,r]=k.useState(1),[n,a]=k.useState(""),[s,l]=k.useState([]),[o,u]=k.useState([]),d=xn(),h=mse(),{data:m=[]}=Vf(),{data:g=[]}=Lg(),x=g.filter(v=>s.includes(v.segment_id)),b=async()=>{try{const v=await h.mutateAsync({title:n,segment_ids:s,city_ids:o});e(),d(`/admin/calculation-sheets/${v.id}/editor`)}catch(v){console.error("Erreur lors de la cration:",v),alert("Erreur lors de la cration de la fiche")}};return i.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:i.jsxs("div",{className:"bg-white rounded-lg shadow-xl max-w-2xl w-full max-h-[90vh] overflow-hidden",children:[i.jsxs("div",{className:"bg-gradient-to-r from-green-600 to-green-700 px-6 py-4 flex items-center justify-between",children:[i.jsxs("div",{children:[i.jsx("h2",{className:"text-xl font-bold text-white",children:"Crer une Fiche de Calcul"}),i.jsxs("p",{className:"text-green-100 text-sm",children:["tape ",t," sur 3"]})]}),i.jsx("button",{onClick:e,className:"text-white hover:bg-white/10 p-2 rounded-lg",children:i.jsx("svg",{className:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:i.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})})]}),i.jsxs("div",{className:"p-6 overflow-y-auto max-h-[calc(90vh-180px)]",children:[t===1&&i.jsxs("div",{children:[i.jsx("h3",{className:"font-semibold text-gray-900 mb-4",children:"Informations gnrales"}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Titre de la fiche"}),i.jsx("input",{type:"text",value:n,onChange:v=>a(v.target.value),placeholder:"Ex: Fiche Formation Professionnelle",className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-green-500 focus:border-transparent",autoFocus:!0})]})]}),t===2&&i.jsxs("div",{children:[i.jsxs("h3",{className:"font-semibold text-gray-900 mb-4",children:["Slectionner les segments (",s.length," slectionn",s.length>1?"s":"",")"]}),i.jsx("div",{className:"space-y-2",children:m.map(v=>i.jsxs("label",{className:"flex items-center gap-3 p-4 border border-gray-200 rounded-lg hover:bg-gray-50 cursor-pointer",children:[i.jsx("input",{type:"checkbox",checked:s.includes(v.id),onChange:w=>{if(w.target.checked)l([...s,v.id]);else{l(s.filter(E=>E!==v.id));const N=g.filter(E=>E.segment_id===v.id).map(E=>E.id);u(o.filter(E=>!N.includes(E)))}},className:"w-5 h-5 text-green-600 border-gray-300 rounded focus:ring-green-500"}),i.jsx("div",{className:"w-4 h-4 rounded-full",style:{backgroundColor:v.color}}),i.jsx("span",{className:"flex-1 font-medium text-gray-900",children:v.name})]},v.id))})]}),t===3&&i.jsxs("div",{children:[i.jsxs("h3",{className:"font-semibold text-gray-900 mb-4",children:["Slectionner les villes (",o.length," slectionne",o.length>1?"s":"",")"]}),s.length===0?i.jsx("div",{className:"text-center py-8 text-gray-500",children:"Vous devez d'abord slectionner au moins un segment"}):x.length===0?i.jsx("div",{className:"text-center py-8 text-gray-500",children:"Aucune ville disponible pour les segments slectionns"}):i.jsx("div",{className:"space-y-2",children:x.map(v=>i.jsxs("label",{className:"flex items-center gap-3 p-4 border border-gray-200 rounded-lg hover:bg-gray-50 cursor-pointer",children:[i.jsx("input",{type:"checkbox",checked:o.includes(v.id),onChange:w=>{w.target.checked?u([...o,v.id]):u(o.filter(N=>N!==v.id))},className:"w-5 h-5 text-green-600 border-gray-300 rounded focus:ring-green-500"}),i.jsx(ds,{className:"w-4 h-4 text-green-600"}),i.jsx("span",{className:"flex-1 font-medium text-gray-900",children:v.name}),i.jsx("span",{className:"text-sm text-gray-500",children:m.find(w=>w.id===v.segment_id)?.name})]},v.id))})]})]}),i.jsxs("div",{className:"bg-gray-50 px-6 py-4 border-t border-gray-200 flex justify-between",children:[i.jsx("button",{onClick:()=>t>1?r(t-1):e(),className:"px-6 py-2 bg-gray-200 hover:bg-gray-300 text-gray-700 rounded-lg transition-colors",children:t===1?"Annuler":"Prcdent"}),i.jsx("button",{onClick:()=>{t<3?r(t+1):b()},disabled:t===1&&!n,className:"px-6 py-2 bg-green-600 hover:bg-green-700 text-white rounded-lg transition-colors disabled:opacity-50 disabled:cursor-not-allowed",children:t===3?"Crer la fiche":"Suivant"})]})]})})}function Nse({sheet:e,onClose:t}){const[r,n]=k.useState(1),[a,s]=k.useState(e.title),[l,o]=k.useState(e.segment_ids||[]),[u,d]=k.useState(e.city_ids||[]),h=SL(),{data:m=[]}=Vf(),{data:g=[]}=Lg(),x=g.filter(v=>l.includes(v.segment_id)),b=async()=>{try{await h.mutateAsync({id:e.id,title:a,template_data:e.template_data,status:e.status,sheet_date:e.sheet_date,segment_ids:l,city_ids:u}),t()}catch(v){console.error("Erreur lors de la modification:",v),alert("Erreur lors de la modification de la fiche")}};return i.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:i.jsxs("div",{className:"bg-white rounded-lg shadow-xl max-w-2xl w-full max-h-[90vh] overflow-hidden",children:[i.jsxs("div",{className:"bg-gradient-to-r from-purple-600 to-purple-700 px-6 py-4 flex items-center justify-between",children:[i.jsxs("div",{children:[i.jsx("h2",{className:"text-xl font-bold text-white",children:"Modifier la Fiche de Calcul"}),i.jsxs("p",{className:"text-purple-100 text-sm",children:["tape ",r," sur 3"]})]}),i.jsx("button",{onClick:t,className:"text-white hover:bg-white/10 p-2 rounded-lg",children:i.jsx("svg",{className:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:i.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})})]}),i.jsxs("div",{className:"p-6 overflow-y-auto max-h-[calc(90vh-180px)]",children:[r===1&&i.jsxs("div",{children:[i.jsx("h3",{className:"font-semibold text-gray-900 mb-4",children:"Informations gnrales"}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Titre de la fiche"}),i.jsx("input",{type:"text",value:a,onChange:v=>s(v.target.value),placeholder:"Ex: Fiche Formation Professionnelle",className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-purple-500 focus:border-transparent",autoFocus:!0})]})]}),r===2&&i.jsxs("div",{children:[i.jsxs("h3",{className:"font-semibold text-gray-900 mb-4",children:["Slectionner les segments (",l.length," slectionn",l.length>1?"s":"",")"]}),i.jsx("div",{className:"space-y-2",children:m.map(v=>i.jsxs("label",{className:"flex items-center gap-3 p-4 border border-gray-200 rounded-lg hover:bg-gray-50 cursor-pointer",children:[i.jsx("input",{type:"checkbox",checked:l.includes(v.id),onChange:w=>{if(w.target.checked)o([...l,v.id]);else{o(l.filter(E=>E!==v.id));const N=g.filter(E=>E.segment_id===v.id).map(E=>E.id);d(u.filter(E=>!N.includes(E)))}},className:"w-5 h-5 text-purple-600 border-gray-300 rounded focus:ring-purple-500"}),i.jsx("div",{className:"w-4 h-4 rounded-full",style:{backgroundColor:v.color}}),i.jsx("span",{className:"flex-1 font-medium text-gray-900",children:v.name})]},v.id))})]}),r===3&&i.jsxs("div",{children:[i.jsxs("h3",{className:"font-semibold text-gray-900 mb-4",children:["Slectionner les villes (",u.length," slectionne",u.length>1?"s":"",")"]}),l.length===0?i.jsx("div",{className:"text-center py-8 text-gray-500",children:"Vous devez d'abord slectionner au moins un segment"}):x.length===0?i.jsx("div",{className:"text-center py-8 text-gray-500",children:"Aucune ville disponible pour les segments slectionns"}):i.jsx("div",{className:"space-y-2",children:x.map(v=>i.jsxs("label",{className:"flex items-center gap-3 p-4 border border-gray-200 rounded-lg hover:bg-gray-50 cursor-pointer",children:[i.jsx("input",{type:"checkbox",checked:u.includes(v.id),onChange:w=>{w.target.checked?d([...u,v.id]):d(u.filter(N=>N!==v.id))},className:"w-5 h-5 text-purple-600 border-gray-300 rounded focus:ring-purple-500"}),i.jsx(ds,{className:"w-4 h-4 text-purple-600"}),i.jsx("span",{className:"flex-1 font-medium text-gray-900",children:v.name}),i.jsx("span",{className:"text-sm text-gray-500",children:m.find(w=>w.id===v.segment_id)?.name})]},v.id))})]})]}),i.jsxs("div",{className:"bg-gray-50 px-6 py-4 border-t border-gray-200 flex justify-between",children:[i.jsx("button",{onClick:()=>r>1?n(r-1):t(),className:"px-6 py-2 bg-gray-200 hover:bg-gray-300 text-gray-700 rounded-lg transition-colors",children:r===1?"Annuler":"Prcdent"}),i.jsx("button",{onClick:()=>{r<3?n(r+1):b()},disabled:r===1&&!a||h.isPending,className:"px-6 py-2 bg-purple-600 hover:bg-purple-700 text-white rounded-lg transition-colors disabled:opacity-50 disabled:cursor-not-allowed",children:h.isPending?"Sauvegarde...":r===3?"Enregistrer":"Suivant"})]})]})})}function _se(){const{id:e}=io(),t=xn(),[r,n]=k.useState([]),[a,s]=k.useState(null),[l,o]=k.useState(null),[u,d]=k.useState(null),[h,m]=k.useState(1),[g,x]=k.useState("Nouvelle Fiche"),[b,v]=k.useState(!0),[w,N]=k.useState(null),[E,j]=k.useState({width:1200,height:800}),T=k.useRef(null),O=SL(),{data:D}=jL(e||"");k.useEffect(()=>{if(D&&(D.title&&x(D.title),D.template_data))try{const R=JSON.parse(D.template_data);if(R.fields&&R.fields.length>0){n(R.fields);const q=Math.max(...R.fields.map(K=>{const ee=K.id.match(/field_(\d+)/);return ee?parseInt(ee[1]):0}));m(q+1)}}catch(R){console.error("Erreur lors du chargement des donnes:",R)}},[D]);const C=[{type:"label",icon:Pm,label:"Label",color:"bg-gray-500"},{type:"text",icon:lW,label:"Texte",color:"bg-blue-500"},{type:"number",icon:Y_,label:"Nombre",color:"bg-green-500"},{type:"formula",icon:mu,label:"Formule",color:"bg-purple-500"},{type:"textarea",icon:el,label:"Texte libre",color:"bg-indigo-500"},{type:"frame",icon:_H,label:"Cadre",color:"bg-orange-500"},{type:"file",icon:zV,label:"Pice jointe",color:"bg-teal-500"},{type:"link",icon:Wx,label:"Lien",color:"bg-cyan-500"}],P=r.find(R=>R.id===a),B=(R,q,K)=>{const ee=`field_${h}`;m(h+1);const ce={id:ee,type:R,layout:{x:q,y:K,w:200,h:40}};switch(R){case"label":return{...ce,props:{label:"Nouveau label"}};case"text":return{...ce,ref:`TEXT_${h}`,props:{label:"Texte"}};case"number":return{...ce,ref:`NUM_${h}`,props:{label:"Nombre",decimals:2,default:0}};case"formula":return{...ce,ref:`FORMULA_${h}`,props:{label:"Formule",expression:"",decimals:2}};case"frame":return{...ce,props:{label:"Cadre"},children:[]};case"file":return{...ce,ref:`FILE_${h}`,props:{label:"Pice jointe",accept:".pdf,.jpg,.jpeg,.png",maxSize:5}};case"textarea":return{...ce,layout:{x:q,y:K,w:400,h:120},ref:`TEXTAREA_${h}`,props:{label:"Commentaires"}};case"link":return{...ce,props:{label:"Lien",url:"https://example.com"}};default:return ce}},H=R=>{o({type:R,isNew:!0})},L=(R,q)=>{const K=r.find(re=>re.id===q);if(!K)return;const ee=R.currentTarget.getBoundingClientRect(),ce=R.clientX-ee.left,Q=R.clientY-ee.top;o({type:K.type,isNew:!1,fieldId:q,offsetX:ce,offsetY:Q}),s(q)},U=R=>{R.preventDefault()},V=R=>{if(R.preventDefault(),!l||!T.current)return;const q=T.current.getBoundingClientRect(),K=Math.round((R.clientX-q.left-(l.offsetX||0))/10)*10,ee=Math.round((R.clientY-q.top-(l.offsetY||0))/10)*10;if(l.isNew){const ce=B(l.type,Math.max(0,K),Math.max(0,ee));n([...r,ce]),s(ce.id)}else l.fieldId&&n(r.map(ce=>ce.id===l.fieldId?{...ce,layout:{...ce.layout,x:Math.max(0,K),y:Math.max(0,ee)}}:ce));o(null)},Y=R=>{if(l&&!l.isNew&&l.fieldId&&T.current){const q=T.current.getBoundingClientRect(),K=Math.round((R.clientX-q.left-(l.offsetX||0))/10)*10,ee=Math.round((R.clientY-q.top-(l.offsetY||0))/10)*10;n(r.map(ce=>ce.id===l.fieldId?{...ce,layout:{...ce.layout,x:Math.max(0,K),y:Math.max(0,ee)}}:ce))}if(u&&T.current){const q=T.current.getBoundingClientRect(),K=R.clientX-q.left,ee=R.clientY-q.top,ce=K-u.startX,Q=ee-u.startY;n(r.map(re=>{if(re.id!==u.fieldId)return re;let ye=u.startW,Ee=u.startH;return u.direction==="se"?(ye=Math.max(100,u.startW+ce),Ee=Math.max(50,u.startH+Q)):u.direction==="s"?Ee=Math.max(50,u.startH+Q):u.direction==="e"&&(ye=Math.max(100,u.startW+ce)),{...re,layout:{...re.layout,w:Math.round(ye/10)*10,h:Math.round(Ee/10)*10}}}))}},de=()=>{o(null),d(null)},te=(R,q,K)=>{if(R.stopPropagation(),!T.current)return;const ee=r.find(Q=>Q.id===q);if(!ee)return;const ce=T.current.getBoundingClientRect();d({fieldId:q,direction:K,startX:R.clientX-ce.left,startY:R.clientY-ce.top,startW:ee.layout.w,startH:ee.layout.h})},ie=(R,q,K)=>{n(r.map(ee=>{if(ee.id!==R)return ee;const ce=q.split(".");return ce.length===1?{...ee,[q]:K}:ce[0]==="props"?{...ee,props:{...ee.props,[ce[1]]:K}}:ce[0]==="layout"?{...ee,layout:{...ee.layout,[ce[1]]:K}}:ee}))},ge=R=>{n(r.filter(q=>q.id!==R)),a===R&&s(null)},oe=R=>{const q=r.find(ee=>ee.id===R);if(!q)return;const K={...q,id:`field_${h}`,ref:q.ref?`${q.ref}_COPY`:void 0,layout:{...q.layout,x:q.layout.x+20,y:q.layout.y+20}};m(h+1),n([...r,K]),s(K.id)},Se=(R,q)=>{const K=r.findIndex(ce=>ce.id===R);if(K===-1)return;const ee=[...r];q==="up"&&K<r.length-1?[ee[K],ee[K+1]]=[ee[K+1],ee[K]]:q==="down"&&K>0&&([ee[K],ee[K-1]]=[ee[K-1],ee[K]]),n(ee)},ne=async()=>{if(!e){alert("Aucun ID de fiche trouv");return}try{const R={name:g,fields:r,version:"1.0.0"};await O.mutateAsync({id:e,title:g,template_data:JSON.stringify(R),status:D?.status||"draft",sheet_date:D?.sheet_date||new Date().toISOString()}),N("Fiche sauvegarde avec succs!"),setTimeout(()=>N(null),3e3)}catch(R){console.error("Erreur lors de la sauvegarde:",R),alert("Erreur lors de la sauvegarde de la fiche")}},M=()=>{const q=JSON.stringify({name:g,fields:r,version:"1.0.0"},null,2),K=new Blob([q],{type:"application/json"}),ee=URL.createObjectURL(K),ce=document.createElement("a");ce.href=ee,ce.download=`${g.toLowerCase().replace(/\s+/g,"-")}.json`,ce.click(),URL.revokeObjectURL(ee)};return i.jsxs("div",{className:"h-screen flex flex-col bg-gray-50 overflow-hidden",children:[i.jsxs("div",{className:"bg-white border-b border-gray-200 px-4 py-3 flex items-center justify-between flex-shrink-0",children:[i.jsxs("div",{className:"flex items-center gap-4",children:[i.jsx("input",{type:"text",value:g,onChange:R=>x(R.target.value),className:"text-xl font-bold border-none focus:ring-2 focus:ring-blue-500 rounded px-2 py-1"}),i.jsxs("span",{className:"text-sm text-gray-500",children:[r.length," champ(s)"]})]}),i.jsxs("div",{className:"flex items-center gap-2",children:[w&&i.jsxs("div",{className:"flex items-center gap-2 bg-green-100 text-green-800 px-4 py-2 rounded-lg",children:[i.jsx(d2,{className:"w-5 h-5"}),i.jsx("span",{className:"text-sm font-medium",children:w})]}),i.jsx("button",{onClick:()=>v(!b),className:`p-2 rounded-lg transition-colors ${b?"bg-blue-100 text-blue-600":"bg-gray-100 text-gray-600"}`,title:"Grille",children:i.jsx(G_,{className:"w-5 h-5"})}),i.jsxs("button",{onClick:ne,disabled:O.isPending,className:"px-4 py-2 bg-blue-600 hover:bg-blue-700 text-white rounded-lg transition-colors flex items-center gap-2 disabled:opacity-50 disabled:cursor-not-allowed",children:[i.jsx(cp,{className:"w-5 h-5"}),O.isPending?"Sauvegarde...":"Sauvegarder"]}),i.jsxs("button",{onClick:M,className:"px-4 py-2 bg-green-600 hover:bg-green-700 text-white rounded-lg transition-colors flex items-center gap-2",children:[i.jsx(Fi,{className:"w-5 h-5"}),"Exporter JSON"]}),i.jsxs("div",{className:"flex gap-2",children:[i.jsxs("button",{onClick:()=>t(`/admin/calculation-sheets/${e}?mode=admin`),className:"px-4 py-2 bg-purple-600 hover:bg-purple-700 text-white rounded-lg transition-colors flex items-center gap-2",children:[i.jsx(fi,{className:"w-5 h-5"}),"Voir (Admin)"]}),i.jsxs("button",{onClick:()=>t(`/admin/calculation-sheets/${e}?mode=user`),className:"px-4 py-2 bg-blue-600 hover:bg-blue-700 text-white rounded-lg transition-colors flex items-center gap-2",children:[i.jsx(fi,{className:"w-5 h-5"}),"Voir (Utilisateur)"]})]}),i.jsx("button",{onClick:()=>t("/admin/calculation-sheets"),className:"px-4 py-2 bg-gray-600 hover:bg-gray-700 text-white rounded-lg transition-colors flex items-center gap-2",children:"Retour  la liste"})]})]}),i.jsxs("div",{className:"flex-1 flex min-h-0",children:[i.jsxs("div",{className:"w-64 bg-white border-r border-gray-200 flex-shrink-0 p-4",children:[i.jsx("h3",{className:"font-semibold text-gray-900 mb-3",children:"Composants"}),i.jsx("div",{className:"space-y-2",children:C.map(R=>{const q=R.icon;return i.jsxs("div",{draggable:!0,onDragStart:()=>H(R.type),className:`${R.color} text-white rounded-lg p-3 cursor-move hover:opacity-90 transition-opacity flex items-center gap-2`,children:[i.jsx(q,{className:"w-5 h-5"}),i.jsx("span",{className:"font-medium",children:R.label})]},R.type)})}),i.jsxs("div",{className:"mt-6 p-3 bg-blue-50 rounded-lg text-sm text-blue-800",children:[i.jsx("p",{className:"font-medium mb-1",children:" Glisser-dposer"}),i.jsx("p",{className:"text-xs",children:"Faites glisser un composant sur le canvas pour l'ajouter"})]})]}),i.jsx("div",{className:"flex-1 bg-gray-100 overflow-auto p-4 min-w-0",children:i.jsxs("div",{ref:T,onDragOver:U,onDrop:V,onMouseMove:Y,onMouseUp:de,className:"relative bg-white rounded-lg shadow-sm",style:{width:`${E.width}px`,height:`${E.height}px`,backgroundImage:b?"linear-gradient(#e5e7eb 1px, transparent 1px), linear-gradient(90deg, #e5e7eb 1px, transparent 1px)":"none",backgroundSize:b?"20px 20px":"auto"},children:[r.map(R=>{const q=R.id===a,K=C.find(Q=>Q.type===R.type),ee=R.type==="frame",ce=R.visibility?.hidden;return ee?i.jsxs("div",{onMouseDown:Q=>{Q.target.classList.contains("resize-handle")||L(Q,R.id)},onClick:Q=>{Q.stopPropagation(),s(R.id)},className:`absolute border-2 rounded-lg ${ce?"opacity-50":""} ${q?"border-orange-500 bg-orange-50/30":"border-orange-300 bg-orange-50/10 hover:border-orange-400"}`,style:{left:R.layout.x,top:R.layout.y,width:R.layout.w,height:R.layout.h},children:[i.jsxs("div",{className:"bg-orange-500 text-white px-3 py-1 rounded-t font-semibold text-sm cursor-move flex items-center justify-between",children:[i.jsx("span",{children:R.props.label||"Cadre"}),ce&&i.jsx(Qi,{className:"w-4 h-4"})]}),q&&i.jsxs(i.Fragment,{children:[i.jsxs("div",{className:"absolute -top-2 -right-2 flex gap-1",children:[i.jsx("button",{onClick:Q=>{Q.stopPropagation(),oe(R.id)},className:"w-6 h-6 bg-blue-500 hover:bg-blue-600 text-white rounded-full flex items-center justify-center",title:"Dupliquer",children:i.jsx(id,{className:"w-3 h-3"})}),i.jsx("button",{onClick:Q=>{Q.stopPropagation(),ge(R.id)},className:"w-6 h-6 bg-red-500 hover:bg-red-600 text-white rounded-full flex items-center justify-center",title:"Supprimer",children:i.jsx(An,{className:"w-3 h-3"})})]}),i.jsx("div",{className:"resize-handle absolute -bottom-2 -right-2 w-4 h-4 bg-orange-500 rounded-full cursor-se-resize border-2 border-white",onMouseDown:Q=>{Q.stopPropagation(),te(Q,R.id,"se")},title:"Redimensionner"}),i.jsx("div",{className:"resize-handle absolute -bottom-2 left-1/2 -translate-x-1/2 w-4 h-4 bg-orange-500 rounded-full cursor-s-resize border-2 border-white",onMouseDown:Q=>{Q.stopPropagation(),te(Q,R.id,"s")},title:"Redimensionner"}),i.jsx("div",{className:"resize-handle absolute top-1/2 -translate-y-1/2 -right-2 w-4 h-4 bg-orange-500 rounded-full cursor-e-resize border-2 border-white",onMouseDown:Q=>{Q.stopPropagation(),te(Q,R.id,"e")},title:"Redimensionner"})]})]},R.id):R.type==="link"?i.jsxs("div",{onMouseDown:Q=>{Q.target.classList.contains("resize-handle")||L(Q,R.id)},onClick:Q=>{Q.stopPropagation(),s(R.id)},className:`absolute cursor-move border-2 rounded-lg px-3 py-2 ${ce?"opacity-50":""} ${q?"border-cyan-500 bg-cyan-50":"border-cyan-300 bg-white hover:border-cyan-400"}`,style:{left:R.layout.x,top:R.layout.y,width:R.layout.w,height:R.layout.h},children:[i.jsxs("div",{className:"flex items-center gap-2 h-full",children:[i.jsx(Wx,{className:"w-4 h-4 text-cyan-600 flex-shrink-0"}),i.jsxs("div",{className:"flex-1 min-w-0",children:[i.jsx("div",{className:"text-sm font-medium text-cyan-900 truncate",children:R.props.label||"Lien"}),R.props.url&&i.jsx("div",{className:"text-xs text-cyan-600 truncate",children:R.props.url})]}),ce&&i.jsx(Qi,{className:"w-4 h-4 text-gray-400 flex-shrink-0"})]}),q&&i.jsxs(i.Fragment,{children:[i.jsxs("div",{className:"absolute -top-2 -right-2 flex gap-1",children:[i.jsx("button",{onClick:Q=>{Q.stopPropagation(),oe(R.id)},className:"w-6 h-6 bg-cyan-500 hover:bg-cyan-600 text-white rounded-full flex items-center justify-center",title:"Dupliquer",children:i.jsx(id,{className:"w-3 h-3"})}),i.jsx("button",{onClick:Q=>{Q.stopPropagation(),ge(R.id)},className:"w-6 h-6 bg-red-500 hover:bg-red-600 text-white rounded-full flex items-center justify-center",title:"Supprimer",children:i.jsx(An,{className:"w-3 h-3"})})]}),i.jsx("div",{className:"resize-handle absolute -bottom-2 -right-2 w-4 h-4 bg-cyan-500 rounded-full cursor-se-resize border-2 border-white",onMouseDown:Q=>{Q.stopPropagation(),te(Q,R.id,"se")},title:"Redimensionner"}),i.jsx("div",{className:"resize-handle absolute -bottom-2 left-1/2 -translate-x-1/2 w-4 h-4 bg-cyan-500 rounded-full cursor-s-resize border-2 border-white",onMouseDown:Q=>{Q.stopPropagation(),te(Q,R.id,"s")},title:"Redimensionner"}),i.jsx("div",{className:"resize-handle absolute top-1/2 -translate-y-1/2 -right-2 w-4 h-4 bg-cyan-500 rounded-full cursor-e-resize border-2 border-white",onMouseDown:Q=>{Q.stopPropagation(),te(Q,R.id,"e")},title:"Redimensionner"})]})]},R.id):i.jsxs("div",{onMouseDown:Q=>{Q.target.classList.contains("resize-handle")||L(Q,R.id)},onClick:Q=>{Q.stopPropagation(),s(R.id)},className:`absolute cursor-move border-2 rounded-lg px-3 py-2 ${ce?"opacity-50":""} ${q?"border-blue-500 bg-blue-50":"border-gray-300 bg-white hover:border-gray-400"}`,style:{left:R.layout.x,top:R.layout.y,width:R.layout.w,height:R.layout.h},children:[i.jsxs("div",{className:"flex items-center gap-2 h-full",children:[K&&i.jsx(K.icon,{className:"w-4 h-4 text-gray-500 flex-shrink-0"}),i.jsxs("div",{className:"flex-1 min-w-0",children:[i.jsx("div",{className:"text-sm font-medium text-gray-900 truncate",children:R.props.label||R.type}),R.ref&&i.jsx("div",{className:"text-xs text-gray-500 truncate",children:R.ref})]}),ce&&i.jsx(Qi,{className:"w-4 h-4 text-gray-400 flex-shrink-0"})]}),q&&i.jsxs(i.Fragment,{children:[i.jsxs("div",{className:"absolute -top-2 -right-2 flex gap-1",children:[i.jsx("button",{onClick:Q=>{Q.stopPropagation(),oe(R.id)},className:"w-6 h-6 bg-blue-500 hover:bg-blue-600 text-white rounded-full flex items-center justify-center",title:"Dupliquer",children:i.jsx(id,{className:"w-3 h-3"})}),i.jsx("button",{onClick:Q=>{Q.stopPropagation(),ge(R.id)},className:"w-6 h-6 bg-red-500 hover:bg-red-600 text-white rounded-full flex items-center justify-center",title:"Supprimer",children:i.jsx(An,{className:"w-3 h-3"})})]}),i.jsx("div",{className:"resize-handle absolute -bottom-2 -right-2 w-4 h-4 bg-blue-500 rounded-full cursor-se-resize border-2 border-white",onMouseDown:Q=>{Q.stopPropagation(),te(Q,R.id,"se")},title:"Redimensionner"}),i.jsx("div",{className:"resize-handle absolute -bottom-2 left-1/2 -translate-x-1/2 w-4 h-4 bg-blue-500 rounded-full cursor-s-resize border-2 border-white",onMouseDown:Q=>{Q.stopPropagation(),te(Q,R.id,"s")},title:"Redimensionner"}),i.jsx("div",{className:"resize-handle absolute top-1/2 -translate-y-1/2 -right-2 w-4 h-4 bg-blue-500 rounded-full cursor-e-resize border-2 border-white",onMouseDown:Q=>{Q.stopPropagation(),te(Q,R.id,"e")},title:"Redimensionner"})]})]},R.id)}),r.length===0&&i.jsx("div",{className:"absolute inset-0 flex items-center justify-center text-gray-400",children:i.jsxs("div",{className:"text-center",children:[i.jsx(ra,{className:"w-16 h-16 mx-auto mb-4 opacity-30"}),i.jsx("p",{className:"text-lg font-medium",children:"Glissez des composants ici"}),i.jsx("p",{className:"text-sm mt-1",children:"Commencez par ajouter des champs depuis la barre d'outils"})]})})]})}),i.jsx("div",{className:"w-80 bg-white border-l border-gray-200 flex-shrink-0 overflow-y-auto",children:i.jsxs("div",{className:"p-4",children:[i.jsx("h3",{className:"font-semibold text-gray-900 mb-3",children:"Proprits"}),i.jsxs("div",{className:"mb-4 pb-4 border-b border-gray-200",children:[i.jsx("h4",{className:"font-medium text-gray-900 mb-3",children:"Taille du Canvas"}),i.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[i.jsxs("div",{children:[i.jsx("label",{className:"block text-xs font-medium text-gray-700 mb-1",children:"Largeur (px)"}),i.jsx("input",{type:"number",value:E.width,onChange:R=>j({...E,width:Math.max(800,parseInt(R.target.value)||1200)}),min:"800",step:"100",className:"w-full px-2 py-1 border border-gray-300 rounded text-sm"})]}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-xs font-medium text-gray-700 mb-1",children:"Hauteur (px)"}),i.jsx("input",{type:"number",value:E.height,onChange:R=>j({...E,height:Math.max(600,parseInt(R.target.value)||800)}),min:"600",step:"100",className:"w-full px-2 py-1 border border-gray-300 rounded text-sm"})]})]}),i.jsxs("div",{className:"mt-2 flex gap-2",children:[i.jsx("button",{onClick:()=>j({width:1200,height:800}),className:"flex-1 px-2 py-1 bg-gray-100 hover:bg-gray-200 text-gray-700 rounded text-xs",children:"Standard"}),i.jsx("button",{onClick:()=>j({width:1600,height:1200}),className:"flex-1 px-2 py-1 bg-gray-100 hover:bg-gray-200 text-gray-700 rounded text-xs",children:"Large"}),i.jsx("button",{onClick:()=>j({width:2e3,height:1600}),className:"flex-1 px-2 py-1 bg-gray-100 hover:bg-gray-200 text-gray-700 rounded text-xs",children:"XL"})]})]}),P?i.jsxs("div",{className:"space-y-4",children:[i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Type"}),i.jsx("div",{className:"px-3 py-2 bg-gray-100 rounded text-sm font-medium text-gray-900",children:C.find(R=>R.type===P.type)?.label})]}),P.type!=="label"&&P.type!=="frame"&&P.type!=="link"&&i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Rfrence"}),i.jsx("input",{type:"text",value:P.ref||"",onChange:R=>ie(P.id,"ref",R.target.value.toUpperCase()),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500",placeholder:"EX: MONTANT_TOTAL"})]}),P.type==="file"&&i.jsxs(i.Fragment,{children:[i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Types de fichiers accepts"}),i.jsx("input",{type:"text",value:P.props.accept||"",onChange:R=>ie(P.id,"props.accept",R.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500",placeholder:".pdf,.jpg,.png"}),i.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"Sparez par des virgules (ex: .pdf,.jpg,.png)"})]}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Taille maximum (MB)"}),i.jsx("input",{type:"number",min:"1",max:"50",value:P.props.maxSize||5,onChange:R=>ie(P.id,"props.maxSize",parseInt(R.target.value)||5),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500"})]})]}),P.type==="link"&&i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"URL du lien"}),i.jsx("input",{type:"url",value:P.props.url||"",onChange:R=>ie(P.id,"props.url",R.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500",placeholder:"https://example.com"}),i.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"Le lien s'ouvrira dans un nouvel onglet"})]}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Label"}),i.jsx("input",{type:"text",value:P.props.label||"",onChange:R=>ie(P.id,"props.label",R.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500"})]}),P.type==="formula"&&i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Expression"}),i.jsx("textarea",{value:P.props.expression||"",onChange:R=>ie(P.id,"props.expression",R.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 font-mono text-sm",rows:3,placeholder:"EX: HEURES_REAL*TARIF_H"})]}),(P.type==="number"||P.type==="formula")&&i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Dcimales"}),i.jsx("input",{type:"number",min:"0",max:"10",value:P.props.decimals||0,onChange:R=>ie(P.id,"props.decimals",parseInt(R.target.value)||0),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500"})]}),P.type==="number"&&i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Valeur par dfaut"}),i.jsx("input",{type:"number",step:"0.01",value:typeof P.props.default=="number"||typeof P.props.default=="string"?P.props.default:0,onChange:R=>ie(P.id,"props.default",parseFloat(R.target.value)||0),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500"})]}),i.jsxs("div",{className:"pt-4 border-t border-gray-200",children:[i.jsx("h4",{className:"font-medium text-gray-900 mb-3",children:"Position & Taille"}),i.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[i.jsxs("div",{children:[i.jsx("label",{className:"block text-xs font-medium text-gray-700 mb-1",children:"X"}),i.jsx("input",{type:"number",value:P.layout.x,onChange:R=>ie(P.id,"layout.x",parseInt(R.target.value)||0),className:"w-full px-2 py-1 border border-gray-300 rounded text-sm"})]}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-xs font-medium text-gray-700 mb-1",children:"Y"}),i.jsx("input",{type:"number",value:P.layout.y,onChange:R=>ie(P.id,"layout.y",parseInt(R.target.value)||0),className:"w-full px-2 py-1 border border-gray-300 rounded text-sm"})]}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-xs font-medium text-gray-700 mb-1",children:"Largeur"}),i.jsx("input",{type:"number",value:P.layout.w,onChange:R=>ie(P.id,"layout.w",parseInt(R.target.value)||50),className:"w-full px-2 py-1 border border-gray-300 rounded text-sm"})]}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-xs font-medium text-gray-700 mb-1",children:"Hauteur"}),i.jsx("input",{type:"number",value:P.layout.h,onChange:R=>ie(P.id,"layout.h",parseInt(R.target.value)||30),className:"w-full px-2 py-1 border border-gray-300 rounded text-sm"})]})]})]}),i.jsxs("div",{className:"pt-4 border-t border-gray-200",children:[i.jsx("h4",{className:"font-medium text-gray-900 mb-3",children:"Visibilit"}),i.jsxs("label",{className:"flex items-center gap-3 p-3 bg-gray-50 rounded-lg cursor-pointer hover:bg-gray-100",children:[i.jsx("input",{type:"checkbox",checked:P.visibility?.hidden||!1,onChange:R=>{const q={...P.visibility,hidden:R.target.checked};ie(P.id,"visibility",q)},className:"w-5 h-5 text-blue-600 border-gray-300 rounded focus:ring-blue-500"}),i.jsxs("div",{className:"flex-1",children:[i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsx(Qi,{className:"w-4 h-4 text-gray-600"}),i.jsx("span",{className:"font-medium text-gray-900",children:"Masquer pour les professeurs"})]}),i.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"Ce champ sera invisible dans le mode test et pour les professeurs"})]})]})]}),i.jsxs("div",{className:"pt-4 border-t border-gray-200",children:[i.jsx("h4",{className:"font-medium text-gray-900 mb-3",children:"Actions"}),i.jsxs("div",{className:"flex gap-2",children:[i.jsxs("button",{onClick:()=>Se(P.id,"up"),className:"flex-1 px-3 py-2 bg-gray-100 hover:bg-gray-200 text-gray-700 rounded-lg text-sm flex items-center justify-center gap-1",children:[i.jsx(gH,{className:"w-4 h-4"}),"Avant"]}),i.jsxs("button",{onClick:()=>Se(P.id,"down"),className:"flex-1 px-3 py-2 bg-gray-100 hover:bg-gray-200 text-gray-700 rounded-lg text-sm flex items-center justify-center gap-1",children:[i.jsx(mH,{className:"w-4 h-4"}),"Arrire"]})]})]})]}):i.jsx("div",{className:"text-center py-12 text-gray-400",children:i.jsx("p",{children:"Slectionnez un champ pour voir ses proprits"})})]})})]})]})}const Gs={async getAll(e){const t=e?{professor_id:e}:void 0;return $e.get("/declarations",t)},async getById(e){try{return await $e.get(`/declarations/${e}`)}catch(t){if(t instanceof Error&&"status"in t&&t.status===404)return null;throw t}},async create(e){return $e.post("/declarations",e)},async update(e){const{id:t,...r}=e;return $e.put(`/declarations/${t}`,r)},async delete(e){return $e.delete(`/declarations/${e}`)}};function jse(e){return Jt({queryKey:["admin-declarations",e],queryFn:async()=>{const t=await Gs.getAll();return e&&e!=="all"?t.filter(r=>r.status===e):t}})}function Sse(){const e=Tt();return Ot({mutationFn:async t=>Gs.update({id:t,status:"approuvee"}),onSuccess:()=>{e.invalidateQueries({queryKey:["admin-declarations"]}),e.invalidateQueries({queryKey:["admin-declaration"]})}})}function AL(){const e=Tt();return Ot({mutationFn:async({id:t,reason:r})=>Gs.update({id:t,status:"refusee",rejection_reason:r}),onSuccess:()=>{e.invalidateQueries({queryKey:["admin-declarations"]}),e.invalidateQueries({queryKey:["admin-declaration"]})}})}function Ase(){const e=Tt();return Ot({mutationFn:async({id:t,reason:r})=>{const n=await Gs.getById(t);if(!n)throw new Error("Dclaration non trouve");return Gs.update({id:t,form_data:n.form_data,status:"en_cours",rejection_reason:r})},onSuccess:()=>{e.invalidateQueries({queryKey:["admin-declarations"]}),e.invalidateQueries({queryKey:["admin-declaration"]})}})}function kse(e){return Jt({queryKey:["admin-declaration",e],queryFn:()=>Gs.getById(e),enabled:!!e})}const kL=Ase;function EL(){const e=Tt();return Ot({mutationFn:t=>Gs.delete(t),onSuccess:()=>{e.invalidateQueries({queryKey:["admin-declarations"]})}})}function Ese(){return Jt({queryKey:["declaration-stats"],queryFn:async()=>{const e=await Gs.getAll();return{total:e.length,soumises:e.filter(t=>t.status==="soumise").length,en_cours:e.filter(t=>t.status==="en_cours").length,approuvees:e.filter(t=>t.status==="approuvee").length,refusees:e.filter(t=>t.status==="refusee").length,brouillon:e.filter(t=>t.status==="brouillon").length,a_declarer:e.filter(t=>t.status==="a_declarer").length}}})}function Cse(){const e=Tt();return Ot({mutationFn:async t=>Gs.update(t),onSuccess:()=>{e.invalidateQueries({queryKey:["admin-declarations"]}),e.invalidateQueries({queryKey:["admin-declaration"]}),e.invalidateQueries({queryKey:["professor-declarations"]})}})}function Tse({declaration:e,onClose:t}){const[r,n]=k.useState({segment_id:e.segment_id,city_id:e.city_id,start_date:e.start_date.split("T")[0],end_date:e.end_date.split("T")[0],status:e.status}),{data:a=[]}=Vf(),{data:s=[]}=Lg(),l=Cse(),o=s.filter(d=>d.segment_id===r.segment_id);k.useEffect(()=>{r.segment_id&&r.city_id&&(s.find(h=>h.id===r.city_id&&h.segment_id===r.segment_id)||n(h=>({...h,city_id:""})))},[r.segment_id,r.city_id,s]);const u=async d=>{if(d.preventDefault(),!r.segment_id||!r.city_id||!r.start_date||!r.end_date){alert("Veuillez remplir tous les champs obligatoires");return}if(new Date(r.end_date)<new Date(r.start_date)){alert("La date de fin doit tre postrieure  la date de dbut");return}try{await l.mutateAsync({id:e.id,...r}),t()}catch(h){console.error("Erreur lors de la modification:",h),alert("Erreur lors de la modification de la dclaration")}};return i.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:i.jsxs("div",{className:"bg-white rounded-lg shadow-xl w-full max-w-2xl max-h-[90vh] overflow-y-auto",children:[i.jsxs("div",{className:"flex items-center justify-between p-4 sm:p-6 border-b border-gray-200",children:[i.jsxs("div",{className:"flex items-center gap-2 sm:gap-3 min-w-0",children:[i.jsx("div",{className:"w-8 h-8 sm:w-10 sm:h-10 bg-blue-100 rounded-lg flex items-center justify-center flex-shrink-0",children:i.jsx(hh,{className:"w-5 h-5 sm:w-6 sm:h-6 text-blue-600"})}),i.jsxs("div",{className:"min-w-0",children:[i.jsx("h2",{className:"text-lg sm:text-xl font-bold text-gray-900 truncate",children:"Modifier la dclaration"}),i.jsxs("p",{className:"text-xs sm:text-sm text-gray-500 truncate",children:["Professeur: ",e.professor_name]})]})]}),i.jsx("button",{onClick:t,className:"text-gray-400 hover:text-gray-600 transition-colors flex-shrink-0 ml-2",children:i.jsx(En,{className:"w-5 h-5 sm:w-6 sm:h-6"})})]}),i.jsxs("form",{onSubmit:u,className:"p-4 sm:p-6 space-y-4 sm:space-y-6",children:[i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Segment de formation *"}),i.jsxs("div",{className:"relative",children:[i.jsx(Vx,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 w-5 h-5"}),i.jsxs("select",{required:!0,value:r.segment_id,onChange:d=>n({...r,segment_id:d.target.value}),className:"w-full pl-10 pr-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent appearance-none",children:[i.jsx("option",{value:"",children:"Slectionnez un segment"}),a.map(d=>i.jsx("option",{value:d.id,children:d.name},d.id))]})]})]}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Ville *"}),i.jsxs("div",{className:"relative",children:[i.jsx(ds,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 w-5 h-5"}),i.jsxs("select",{required:!0,value:r.city_id,onChange:d=>n({...r,city_id:d.target.value}),className:"w-full pl-10 pr-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent appearance-none",disabled:!r.segment_id,children:[i.jsx("option",{value:"",children:"Slectionnez une ville"}),o.map(d=>i.jsx("option",{value:d.id,children:d.name},d.id))]})]}),!r.segment_id&&i.jsx("p",{className:"mt-1 text-xs text-amber-600",children:"Veuillez d'abord slectionner un segment"}),r.segment_id&&o.length===0&&i.jsx("p",{className:"mt-1 text-xs text-amber-600",children:"Aucune ville disponible pour ce segment"})]}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Date de dbut *"}),i.jsxs("div",{className:"relative",children:[i.jsx(Ia,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 w-5 h-5"}),i.jsx("input",{type:"date",required:!0,value:r.start_date,onChange:d=>n({...r,start_date:d.target.value}),className:"w-full pl-10 pr-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent"})]})]}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Date de fin *"}),i.jsxs("div",{className:"relative",children:[i.jsx(Ia,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 w-5 h-5"}),i.jsx("input",{type:"date",required:!0,value:r.end_date,onChange:d=>n({...r,end_date:d.target.value}),className:"w-full pl-10 pr-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent"})]})]}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Statut *"}),i.jsxs("div",{className:"relative",children:[i.jsx(sW,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 w-5 h-5"}),i.jsxs("select",{required:!0,value:r.status,onChange:d=>n({...r,status:d.target.value}),className:"w-full pl-10 pr-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent appearance-none",children:[i.jsx("option",{value:"brouillon",children:"Brouillon"}),i.jsx("option",{value:"a_declarer",children:" dclarer"}),i.jsx("option",{value:"en_cours",children:"En cours"}),i.jsx("option",{value:"soumise",children:"Soumise"}),i.jsx("option",{value:"approuvee",children:"Approuve"}),i.jsx("option",{value:"refusee",children:"Refuse"})]})]}),i.jsx("p",{className:"mt-1 text-xs text-gray-500",children:"Vous pouvez changer le statut (ex: de brouillon   dclarer)"})]}),i.jsxs("div",{className:"flex gap-3 pt-4 border-t border-gray-200",children:[i.jsx("button",{type:"button",onClick:t,className:"flex-1 px-4 py-2 border border-gray-300 text-gray-700 rounded-lg hover:bg-gray-50 transition-colors",children:"Annuler"}),i.jsx("button",{type:"submit",disabled:l.isPending,className:"flex-1 px-4 py-2 bg-blue-600 hover:bg-blue-700 text-white rounded-lg transition-colors disabled:opacity-50 disabled:cursor-not-allowed",children:l.isPending?"Modification...":"Modifier"})]})]})]})})}const Ose=()=>{const e=xn(),[t,r]=k.useState("all"),[n,a]=k.useState("all"),[s,l]=k.useState("all"),[o,u]=k.useState("all"),[d,h]=k.useState(null),[m,g]=k.useState(""),[x,b]=k.useState(!1),[v,w]=k.useState(!1),[N,E]=k.useState(!1),[j,T]=k.useState(null),{data:O=[],isLoading:D}=jse(t),{data:C}=Ese(),P=AL(),B=kL(),H=EL(),L=ed.useMemo(()=>Array.from(new Set(O.map(ne=>ne.professor_name))).sort(),[O]),U=ed.useMemo(()=>Array.from(new Set(O.map(ne=>ne.city_name))).sort(),[O]),V=ed.useMemo(()=>Array.from(new Set(O.map(ne=>ne.segment_name))).sort(),[O]),Y=ed.useMemo(()=>O.filter(Se=>!(n!=="all"&&Se.professor_name!==n||s!=="all"&&Se.city_name!==s||o!=="all"&&Se.segment_name!==o)),[O,n,s,o]),de={brouillon:{label:"Brouillon",color:"bg-gray-100 text-gray-800",bgColor:"bg-gray-50 border-gray-200",hoverColor:"hover:bg-gray-100",icon:us},a_declarer:{label:" dclarer",color:"bg-orange-100 text-orange-800",bgColor:"bg-orange-50 border-orange-200",hoverColor:"hover:bg-orange-100",icon:$r},soumise:{label:"Soumise",color:"bg-blue-100 text-blue-800",bgColor:"bg-blue-50 border-blue-200",hoverColor:"hover:bg-blue-100",icon:Oi},en_cours:{label:"En cours",color:"bg-yellow-100 text-yellow-800",bgColor:"bg-yellow-50 border-yellow-200",hoverColor:"hover:bg-yellow-100",icon:$r},approuvee:{label:"Approuve",color:"bg-green-100 text-green-800",bgColor:"bg-green-50 border-green-200",hoverColor:"hover:bg-green-100",icon:Za},refusee:{label:"Refuse",color:"bg-red-100 text-red-800",bgColor:"bg-red-50 border-red-200",hoverColor:"hover:bg-red-100",icon:xd}},te=async()=>{if(!d||!m.trim()){alert("Veuillez fournir un motif de refus");return}try{await P.mutateAsync({id:d.id,reason:m}),b(!1),g(""),h(null)}catch(Se){console.error("Error rejecting declaration:",Se),alert("Erreur lors du refus")}},ie=async()=>{if(!d||!m.trim()){alert("Veuillez fournir un motif de demande de modification");return}try{await B.mutateAsync({id:d.id,reason:m}),w(!1),g(""),h(null)}catch(Se){console.error("Error requesting modification:",Se),alert("Erreur lors de la demande de modification")}},ge=async Se=>{const ne=`tes-vous sr de vouloir supprimer cette dclaration de ${Se.professor_name} ?

Cette action est irrversible.`;if(confirm(ne))try{await H.mutateAsync(Se.id)}catch(M){console.error("Error deleting declaration:",M),alert("Erreur lors de la suppression de la dclaration")}},oe=Se=>new Date(Se).toLocaleDateString("fr-FR",{day:"2-digit",month:"2-digit",year:"numeric"});return i.jsxs("div",{className:"min-h-screen bg-gray-50",children:[i.jsx("header",{className:"bg-white shadow-sm",children:i.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-3 sm:py-4",children:i.jsxs("div",{className:"flex flex-col sm:flex-row items-start sm:items-center gap-3 sm:gap-4",children:[i.jsxs(Xe,{variant:"outline",size:"sm",onClick:()=>e("/dashboard"),className:"w-full sm:w-auto",children:[i.jsx($n,{className:"w-4 h-4 mr-2"}),"Retour"]}),i.jsxs("div",{children:[i.jsx("h1",{className:"text-xl sm:text-2xl font-bold text-gray-900",children:"Gestion des Dclarations"}),i.jsx("p",{className:"text-xs sm:text-sm text-gray-600 hidden sm:block",children:"Valider, refuser ou demander des modifications"})]})]})})}),i.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-6 sm:py-8",children:[C&&i.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 md:grid-cols-3 lg:grid-cols-6 gap-3 sm:gap-4 mb-6",children:[i.jsx(zr,{children:i.jsx(qr,{className:"pt-6",children:i.jsxs("div",{className:"text-center",children:[i.jsx("p",{className:"text-2xl font-bold text-gray-900",children:C.total}),i.jsx("p",{className:"text-sm text-gray-600",children:"Total"})]})})}),i.jsx(zr,{children:i.jsx(qr,{className:"pt-6",children:i.jsxs("div",{className:"text-center",children:[i.jsx("p",{className:"text-2xl font-bold text-orange-600",children:C.a_declarer||0}),i.jsx("p",{className:"text-sm text-gray-600",children:" dclarer"})]})})}),i.jsx(zr,{children:i.jsx(qr,{className:"pt-6",children:i.jsxs("div",{className:"text-center",children:[i.jsx("p",{className:"text-2xl font-bold text-blue-600",children:C.soumises}),i.jsx("p",{className:"text-sm text-gray-600",children:"Soumises"})]})})}),i.jsx(zr,{children:i.jsx(qr,{className:"pt-6",children:i.jsxs("div",{className:"text-center",children:[i.jsx("p",{className:"text-2xl font-bold text-yellow-600",children:C.en_cours}),i.jsx("p",{className:"text-sm text-gray-600",children:"En cours"})]})})}),i.jsx(zr,{children:i.jsx(qr,{className:"pt-6",children:i.jsxs("div",{className:"text-center",children:[i.jsx("p",{className:"text-2xl font-bold text-green-600",children:C.approuvees}),i.jsx("p",{className:"text-sm text-gray-600",children:"Approuves"})]})})}),i.jsx(zr,{children:i.jsx(qr,{className:"pt-6",children:i.jsxs("div",{className:"text-center",children:[i.jsx("p",{className:"text-2xl font-bold text-red-600",children:C.refusees}),i.jsx("p",{className:"text-sm text-gray-600",children:"Refuses"})]})})})]}),i.jsxs(zr,{className:"mb-6",children:[i.jsx(md,{children:i.jsx(pd,{children:"Filtres"})}),i.jsxs(qr,{children:[i.jsxs("div",{className:"mb-4",children:[i.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Par statut"}),i.jsxs("div",{className:"flex flex-wrap gap-2",children:[i.jsx(Xe,{variant:t==="all"?"default":"outline",onClick:()=>r("all"),children:"Toutes"}),i.jsx(Xe,{variant:t==="a_declarer"?"default":"outline",onClick:()=>r("a_declarer"),children:" dclarer"}),i.jsx(Xe,{variant:t==="soumise"?"default":"outline",onClick:()=>r("soumise"),children:"Soumises"}),i.jsx(Xe,{variant:t==="en_cours"?"default":"outline",onClick:()=>r("en_cours"),children:"En cours"}),i.jsx(Xe,{variant:t==="approuvee"?"default":"outline",onClick:()=>r("approuvee"),children:"Approuves"}),i.jsx(Xe,{variant:t==="refusee"?"default":"outline",onClick:()=>r("refusee"),children:"Refuses"})]})]}),i.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Par professeur"}),i.jsxs("select",{value:n,onChange:Se=>a(Se.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent bg-white",children:[i.jsx("option",{value:"all",children:"Tous les professeurs"}),L.filter(Se=>Se!==void 0).map(Se=>i.jsx("option",{value:Se,children:Se},Se))]})]}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Par ville"}),i.jsxs("select",{value:s,onChange:Se=>l(Se.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent bg-white",children:[i.jsx("option",{value:"all",children:"Toutes les villes"}),U.filter(Se=>Se!==void 0).map(Se=>i.jsx("option",{value:Se,children:Se},Se))]})]}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Par segment"}),i.jsxs("select",{value:o,onChange:Se=>u(Se.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent bg-white",children:[i.jsx("option",{value:"all",children:"Tous les segments"}),V.filter(Se=>Se!==void 0).map(Se=>i.jsx("option",{value:Se,children:Se},Se))]})]})]})]})]}),i.jsxs(zr,{children:[i.jsx(md,{children:i.jsxs(pd,{children:["Dclarations (",Y.length,")"]})}),i.jsx(qr,{children:D?i.jsxs("div",{className:"text-center py-8",children:[i.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-blue-600 mx-auto"}),i.jsx("p",{className:"text-gray-600 mt-2",children:"Chargement..."})]}):Y.length===0?i.jsxs("div",{className:"text-center py-8",children:[i.jsx(us,{className:"w-12 h-12 text-gray-400 mx-auto mb-2"}),i.jsx("p",{className:"text-gray-600",children:"Aucune dclaration trouve"})]}):i.jsx("div",{className:"space-y-4",children:Y.map(Se=>{const ne=de[Se.status].icon,M=de[Se.status];return i.jsx("div",{className:`border rounded-lg p-4 transition-all ${M.bgColor} ${M.hoverColor}`,children:i.jsxs("div",{className:"flex items-start justify-between",children:[i.jsxs("div",{className:"flex-1",children:[i.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[i.jsx("h3",{className:"font-semibold text-gray-900",children:Se.professor_name}),i.jsxs("span",{className:`px-2 py-1 rounded-full text-xs font-medium flex items-center gap-1 ${M.color}`,children:[i.jsx(ne,{className:"w-3 h-3"}),M.label]})]}),i.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-2 text-sm text-gray-600",children:[i.jsxs("div",{children:[i.jsx("span",{className:"font-medium",children:"Segment:"})," ",Se.segment_name]}),i.jsxs("div",{children:[i.jsx("span",{className:"font-medium",children:"Ville:"})," ",Se.city_name]}),i.jsxs("div",{children:[i.jsx("span",{className:"font-medium",children:"Priode:"})," ",oe(Se.start_date)," - ",oe(Se.end_date)]}),i.jsxs("div",{children:[i.jsx("span",{className:"font-medium",children:"Soumise le:"})," ",Se.submitted_at?oe(Se.submitted_at):"N/A"]})]}),Se.rejection_reason&&i.jsxs("div",{className:"mt-2 p-2 bg-red-50 border border-red-200 rounded text-sm text-red-700",children:[i.jsx("span",{className:"font-medium",children:"Motif:"})," ",Se.rejection_reason]})]}),i.jsxs("div",{className:"flex gap-2 ml-4 flex-shrink-0",children:[i.jsx(Xe,{variant:"outline",size:"sm",onClick:()=>{T(Se),E(!0)},className:"bg-white hover:bg-purple-50 border-purple-300",title:"Modifier les mtadonnes",children:i.jsx(hh,{className:"w-4 h-4"})}),i.jsxs(Xe,{variant:"outline",size:"sm",onClick:()=>e(`/admin/declarations/${Se.id}`),className:"bg-white hover:bg-blue-50 border-blue-300",children:[i.jsx(f2,{className:"w-4 h-4 mr-1"}),"Ouvrir"]}),i.jsx(Xe,{variant:"outline",size:"sm",className:"bg-white text-red-600 hover:bg-red-50 border-red-300",onClick:()=>ge(Se),children:i.jsx(An,{className:"w-4 h-4"})})]})]})},Se.id)})})})]})]}),d&&!x&&!v&&i.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:i.jsx("div",{className:"bg-white rounded-lg shadow-xl max-w-2xl w-full max-h-[80vh] overflow-y-auto",children:i.jsxs("div",{className:"p-6",children:[i.jsx("h2",{className:"text-xl font-bold mb-4",children:"Dtails de la dclaration"}),i.jsxs("div",{className:"space-y-4",children:[i.jsxs("div",{children:[i.jsx("span",{className:"font-medium",children:"Professeur:"})," ",d.professor_name]}),i.jsxs("div",{children:[i.jsx("span",{className:"font-medium",children:"Segment:"})," ",d.segment_name]}),i.jsxs("div",{children:[i.jsx("span",{className:"font-medium",children:"Ville:"})," ",d.city_name]}),i.jsxs("div",{children:[i.jsx("span",{className:"font-medium",children:"Fiche de calcul:"})," ",d.sheet_title]}),i.jsxs("div",{children:[i.jsx("span",{className:"font-medium",children:"Priode:"})," ",oe(d.start_date)," - ",oe(d.end_date)]}),i.jsxs("div",{children:[i.jsx("span",{className:"font-medium",children:"Statut:"})," ",i.jsx("span",{className:`px-2 py-1 rounded-full text-xs font-medium ${de[d.status].color}`,children:de[d.status].label})]}),d.form_data&&i.jsxs("div",{children:[i.jsx("span",{className:"font-medium",children:"Donnes du formulaire:"}),i.jsx("pre",{className:"mt-2 p-4 bg-gray-100 rounded text-sm overflow-x-auto",children:JSON.stringify(JSON.parse(d.form_data),null,2)})]})]}),i.jsx("div",{className:"flex justify-end gap-2 mt-6",children:i.jsx(Xe,{variant:"outline",onClick:()=>h(null),children:"Fermer"})})]})})}),x&&d&&i.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:i.jsx("div",{className:"bg-white rounded-lg shadow-xl max-w-md w-full",children:i.jsxs("div",{className:"p-6",children:[i.jsx("h2",{className:"text-xl font-bold mb-4",children:"Refuser la dclaration"}),i.jsxs("p",{className:"text-sm text-gray-600 mb-4",children:["Veuillez fournir un motif de refus pour la dclaration de"," ",i.jsx("strong",{children:d.professor_name})]}),i.jsx("textarea",{value:m,onChange:Se=>g(Se.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-red-500 focus:border-transparent",rows:4,placeholder:"Motif du refus..."}),i.jsxs("div",{className:"flex justify-end gap-2 mt-6",children:[i.jsx(Xe,{variant:"outline",onClick:()=>{b(!1),g(""),h(null)},children:"Annuler"}),i.jsx(Xe,{className:"bg-red-600 hover:bg-red-700 text-white",onClick:te,disabled:!m.trim(),children:"Refuser"})]})]})})}),v&&d&&i.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:i.jsx("div",{className:"bg-white rounded-lg shadow-xl max-w-md w-full",children:i.jsxs("div",{className:"p-6",children:[i.jsx("h2",{className:"text-xl font-bold mb-4",children:"Demander une modification"}),i.jsxs("p",{className:"text-sm text-gray-600 mb-4",children:["Veuillez prciser les modifications  apporter pour la dclaration de"," ",i.jsx("strong",{children:d.professor_name})]}),i.jsx("textarea",{value:m,onChange:Se=>g(Se.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-yellow-500 focus:border-transparent",rows:4,placeholder:"Modifications demandes..."}),i.jsxs("div",{className:"flex justify-end gap-2 mt-6",children:[i.jsx(Xe,{variant:"outline",onClick:()=>{w(!1),g(""),h(null)},children:"Annuler"}),i.jsx(Xe,{className:"bg-yellow-600 hover:bg-yellow-700 text-white",onClick:ie,disabled:!m.trim(),children:"Demander"})]})]})})}),N&&j&&i.jsx(Tse,{declaration:j,onClose:()=>{E(!1),T(null)}})]})};function Fse(){const{user:e}=Cs();return Jt({queryKey:["professor-declarations",e?.id],queryFn:()=>Gs.getAll(e?.id),enabled:!!e?.id})}function Dse(e){return Jt({queryKey:["professor-declaration",e],queryFn:()=>Gs.getById(e),enabled:!!e})}function Pse(){const e=Tt(),{user:t}=Cs();return Ot({mutationFn:async r=>{if(!t?.id)throw new Error("Utilisateur non connect");const n=$f();return Gs.create({id:n,professor_id:t.id,...r,form_data:JSON.stringify(r.form_data||{})})},onSuccess:()=>{e.invalidateQueries({queryKey:["professor-declarations"]})}})}function CL(){const e=Tt();return Ot({mutationFn:async t=>Gs.update({id:t.id,form_data:JSON.stringify(t.form_data)}),onSuccess:()=>{e.invalidateQueries({queryKey:["professor-declarations"]}),e.invalidateQueries({queryKey:["professor-declaration"]})}})}function TL(){const e=Tt();return Ot({mutationFn:async t=>{const r=await Gs.getById(t);if(!r)throw new Error("Dclaration non trouve");return Gs.update({id:t,form_data:r.form_data,status:"soumise"})},onSuccess:()=>{e.invalidateQueries({queryKey:["professor-declarations"]}),e.invalidateQueries({queryKey:["professor-declaration"]})}})}function Lse(){const e=Tt();return Ot({mutationFn:t=>Gs.delete(t),onSuccess:()=>{e.invalidateQueries({queryKey:["professor-declarations"]})}})}function Mse(){return Jt({queryKey:["available-calculation-sheets"],queryFn:async()=>(await Cc.getAll()).filter(t=>t.status==="published")})}function Rse(){const{user:e}=Cs();return Jt({queryKey:["professor-segments",e?.id],queryFn:async()=>{if(!e?.id)return[];const t=await lo.getById(e.id);return!t||!t.segment_ids?[]:(await Hf.getAll()).filter(n=>t.segment_ids?.includes(n.id))},enabled:!!e?.id})}function Ise(){const{user:e}=Cs(),t=Jt({queryKey:["professor-cities",e?.id],queryFn:async()=>{if(!e?.id)return[];const r=await lo.getById(e.id);return!r||!r.city_ids?[]:(await Ec.getAll()).filter(a=>r.city_ids?.includes(a.id)).map(a=>({id:a.id,name:a.name,segment_id:a.segment_id,segment_name:a.segment_name}))},enabled:!!e?.id});return{data:t.data,isLoading:t.isLoading}}const Bse=({files:e,currentIndex:t,onClose:r,onNavigate:n})=>{const a=e[t];k.useEffect(()=>{const d=h=>{h.key==="Escape"&&r()};return window.addEventListener("keydown",d),()=>window.removeEventListener("keydown",d)},[r]),k.useEffect(()=>{const d=h=>{h.key==="ArrowLeft"&&t>0?n(t-1):h.key==="ArrowRight"&&t<e.length-1&&n(t+1)};return window.addEventListener("keydown",d),()=>window.removeEventListener("keydown",d)},[t,e.length,n]);const s=()=>{try{const d=a.data.split(",")[1],h=a.data.split(",")[0].split(":")[1].split(";")[0],m=atob(d),g=new ArrayBuffer(m.length),x=new Uint8Array(g);for(let N=0;N<m.length;N++)x[N]=m.charCodeAt(N);const b=new Blob([g],{type:h}),v=URL.createObjectURL(b),w=document.createElement("a");w.href=v,w.download=a.name,w.click(),URL.revokeObjectURL(v)}catch(d){console.error("Erreur lors du tlchargement:",d),alert("Erreur lors du tlchargement du fichier")}},l=d=>d<1024?`${d} B`:d<1024*1024?`${(d/1024).toFixed(2)} KB`:`${(d/(1024*1024)).toFixed(2)} MB`,o=a.type.startsWith("image/"),u=a.type==="application/pdf";return i.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black bg-opacity-75 p-4",onClick:r,children:i.jsxs("div",{className:"relative bg-white rounded-lg shadow-2xl max-w-6xl w-full max-h-[90vh] flex flex-col",onClick:d=>d.stopPropagation(),children:[i.jsxs("div",{className:"flex items-center justify-between p-4 border-b bg-gray-50 rounded-t-lg",children:[i.jsxs("div",{className:"flex-1 min-w-0",children:[i.jsx("h3",{className:"text-lg font-semibold text-gray-900 truncate",children:a.name}),i.jsxs("p",{className:"text-sm text-gray-500",children:[l(a.size),"  ",a.type]})]}),i.jsxs("div",{className:"flex items-center gap-2 ml-4",children:[i.jsxs("button",{onClick:s,className:"flex items-center gap-2 px-3 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors",title:"Tlcharger",children:[i.jsx(Fi,{className:"w-4 h-4"}),i.jsx("span",{className:"hidden sm:inline",children:"Tlcharger"})]}),i.jsx("button",{onClick:r,className:"p-2 text-gray-600 hover:bg-gray-200 rounded-lg transition-colors",title:"Fermer (chap)",children:i.jsx(En,{className:"w-5 h-5"})})]})]}),i.jsx("div",{className:"flex-1 overflow-auto p-6 bg-gray-100",children:o?i.jsx("div",{className:"flex items-center justify-center h-full",children:i.jsx("img",{src:a.data,alt:a.name,className:"max-w-full max-h-full object-contain rounded-lg shadow-lg"})}):u?i.jsx("iframe",{src:a.data,className:"w-full h-full min-h-[600px] rounded-lg shadow-lg",title:a.name}):i.jsxs("div",{className:"flex flex-col items-center justify-center h-full text-center",children:[i.jsx(us,{className:"w-24 h-24 text-gray-400 mb-4"}),i.jsx("h4",{className:"text-xl font-semibold text-gray-700 mb-2",children:"Prvisualisation non disponible"}),i.jsxs("p",{className:"text-gray-500 mb-6",children:["Ce type de fichier ne peut pas tre prvisualis.",i.jsx("br",{}),`Cliquez sur "Tlcharger" pour l'ouvrir sur votre ordinateur.`]}),i.jsxs("button",{onClick:s,className:"flex items-center gap-2 px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors",children:[i.jsx(Fi,{className:"w-4 h-4"}),"Tlcharger le fichier"]})]})}),e.length>1&&i.jsxs("div",{className:"flex items-center justify-between p-4 border-t bg-gray-50",children:[i.jsxs("button",{onClick:()=>n(t-1),disabled:t===0,className:"flex items-center gap-2 px-3 py-2 text-gray-700 bg-white border border-gray-300 rounded-lg hover:bg-gray-100 disabled:opacity-50 disabled:cursor-not-allowed transition-colors",children:[i.jsx(W_,{className:"w-4 h-4"}),"Prcdent"]}),i.jsxs("span",{className:"text-sm text-gray-600",children:[t+1," / ",e.length]}),i.jsxs("button",{onClick:()=>n(t+1),disabled:t===e.length-1,className:"flex items-center gap-2 px-3 py-2 text-gray-700 bg-white border border-gray-300 rounded-lg hover:bg-gray-100 disabled:opacity-50 disabled:cursor-not-allowed transition-colors",children:["Suivant",i.jsx(Bo,{className:"w-4 h-4"})]})]})]})})},Use=()=>{const{id:e}=io(),t=xn(),{data:r,isLoading:n}=kse(e),a=Sse(),s=AL(),l=kL(),o=CL(),u=EL(),[d,h]=k.useState([]),[m,g]=k.useState({}),[x,b]=k.useState({}),[v,w]=k.useState({width:1200,height:800}),[N,E]=k.useState(!1),[j,T]=k.useState(!1),[O,D]=k.useState(""),[C,P]=k.useState(null),[B,H]=k.useState(!1),[L,U]=k.useState([]),[V,Y]=k.useState(0);k.useEffect(()=>{if(r?.template_data)try{const R=JSON.parse(r.template_data);R.fields&&R.fields.length>0&&h(R.fields),R.canvasSize&&w(R.canvasSize)}catch(R){console.error("Error parsing template:",R)}if(r?.form_data)try{const R=JSON.parse(r.form_data);g(R)}catch(R){console.error("Error parsing form data:",R)}},[r]),k.useEffect(()=>{const R=Ij(d,m);b(R)},[m,d]);const de=(R,q)=>{const K=d.find(ce=>ce.ref===R);if(!K)return;let ee=q;K.type==="number"&&(ee=q===""?0:parseFloat(q)||0),g(ce=>({...ce,[R]:ee}))},te=async()=>{if(e)try{await o.mutateAsync({id:e,form_data:m}),P("Modifications sauvegardes avec succs!"),setTimeout(()=>P(null),3e3)}catch(R){console.error("Error saving declaration:",R),alert("Erreur lors de la sauvegarde")}},ie=async()=>{if(confirm("Voulez-vous vraiment approuver cette dclaration ?"))try{await a.mutateAsync(e),t("/admin/declarations")}catch(R){console.error("Error approving declaration:",R),alert("Erreur lors de l'approbation")}},ge=async()=>{if(!O.trim()){alert("Veuillez fournir un motif de refus");return}try{await s.mutateAsync({id:e,reason:O}),t("/admin/declarations")}catch(R){console.error("Error rejecting declaration:",R),alert("Erreur lors du refus")}},oe=async()=>{if(!O.trim()){alert("Veuillez fournir un motif de demande de modification");return}try{await l.mutateAsync({id:e,reason:O}),t("/admin/declarations")}catch(R){console.error("Error requesting modification:",R),alert("Erreur lors de la demande de modification")}},Se=async()=>{const R=`tes-vous sr de vouloir supprimer cette dclaration de ${r?.professor_name} ?

Cette action est irrversible.`;if(confirm(R))try{await u.mutateAsync(e),t("/admin/declarations")}catch(q){console.error("Error deleting declaration:",q),alert("Erreur lors de la suppression de la dclaration")}},ne=R=>{const q=R.layout||{x:0,y:0,w:200,h:40},K=R.visibility?.hidden===!0,ee=Q=>K?`${Q} ring-2 ring-red-400 ring-offset-2`:Q,ce=()=>K?i.jsx("div",{className:"absolute -top-2 -right-2 z-10 px-2 py-0.5 bg-red-600 text-white text-xs font-bold rounded-full shadow-lg",children:"ADMIN"}):null;if(R.type==="label")return i.jsxs("div",{className:"absolute",style:{left:`${q.x}px`,top:`${q.y}px`,width:`${q.w}px`,height:`${q.h}px`},children:[i.jsx("div",{className:ee("w-full h-full bg-gray-100 border-2 border-gray-300 rounded px-3 py-2 flex items-center font-semibold text-gray-700"),children:R.props.label}),i.jsx(ce,{})]},R.id);if(R.type==="text"){const Q=m[R.ref],re=typeof Q=="string"||typeof Q=="number"?String(Q):"";return i.jsxs("div",{className:"absolute",style:{left:`${q.x}px`,top:`${q.y}px`,width:`${q.w}px`,height:`${q.h}px`},children:[i.jsx("input",{type:"text",value:re,onChange:ye=>de(R.ref,ye.target.value),className:ee("w-full h-full px-3 py-2 border border-blue-300 rounded focus:ring-2 focus:ring-blue-500 focus:border-transparent")}),i.jsx(ce,{})]},R.id)}if(R.type==="textarea"){const Q=m[R.ref],re=typeof Q=="string"||typeof Q=="number"?String(Q):"";return i.jsxs("div",{className:"absolute",style:{left:`${q.x}px`,top:`${q.y}px`,width:`${q.w}px`,height:`${q.h}px`},children:[i.jsx("textarea",{value:re,onChange:ye=>de(R.ref,ye.target.value),placeholder:R.props.label||"crivez vos commentaires ici...",className:ee("w-full h-full px-3 py-2 border-2 border-indigo-300 rounded focus:ring-2 focus:ring-indigo-500 focus:border-transparent resize-none")}),i.jsx(ce,{})]},R.id)}if(R.type==="number"){const Q=m[R.ref]!==void 0?m[R.ref]:R.props.default||0,re=typeof Q=="number"||typeof Q=="string"?Q:"";return i.jsxs("div",{className:"absolute",style:{left:`${q.x}px`,top:`${q.y}px`,width:`${q.w}px`,height:`${q.h}px`},children:[i.jsx("input",{type:"number",step:"0.01",value:re,onChange:ye=>de(R.ref,ye.target.value),className:ee("w-full h-full px-3 py-2 border border-green-300 rounded focus:ring-2 focus:ring-green-500 focus:border-transparent")}),i.jsx(ce,{})]},R.id)}if(R.type==="formula"){const Q=x[R.ref],re=typeof Q=="string"&&Q.startsWith("#");return i.jsxs("div",{className:"absolute flex items-center",style:{left:`${q.x}px`,top:`${q.y}px`,width:`${q.w}px`,height:`${q.h}px`},children:[i.jsx("div",{className:ee(`w-full h-full px-3 py-2 border-2 rounded font-semibold flex items-center ${re?"bg-red-50 border-red-400 text-red-700":"bg-purple-50 border-purple-400 text-purple-900"}`),children:typeof Q=="number"?Q.toFixed(R.props.decimals||2):String(Q||"0")}),i.jsx(ce,{})]},R.id)}if(R.type==="frame")return i.jsxs("div",{className:"absolute",style:{left:`${q.x}px`,top:`${q.y}px`,width:`${q.w}px`,height:`${q.h}px`},children:[i.jsx("div",{className:ee("w-full h-full border-2 border-orange-400 rounded-lg bg-orange-50/30"),children:i.jsx("div",{className:"bg-orange-500 text-white px-3 py-1 rounded-t font-semibold text-sm",children:R.props.label||"Cadre"})}),i.jsx(ce,{})]},R.id);if(R.type==="file"){const Q=m[R.ref],re=Q&&Array.isArray(Q)&&Q.length>0,ye=Je=>Je<1024?`${Je} B`:Je<1024*1024?`${(Je/1024).toFixed(2)} KB`:`${(Je/(1024*1024)).toFixed(2)} MB`,Ee=Je=>{try{const Ce=Je.data.split(",")[1],xe=Je.data.split(",")[0].split(":")[1].split(";")[0],xt=atob(Ce),et=new ArrayBuffer(xt.length),Le=new Uint8Array(et);for(let Ye=0;Ye<xt.length;Ye++)Le[Ye]=xt.charCodeAt(Ye);const Be=new Blob([et],{type:xe}),ct=URL.createObjectURL(Be),lt=document.createElement("a");lt.href=ct,lt.download=Je.name,lt.click(),URL.revokeObjectURL(ct)}catch(Ce){console.error("Erreur lors du tlchargement:",Ce),alert("Erreur lors du tlchargement du fichier")}},X=Je=>{U(Q),Y(Je),H(!0)};return i.jsxs("div",{className:"absolute",style:{left:`${q.x}px`,top:`${q.y}px`,width:`${q.w}px`,height:`${q.h}px`},children:[i.jsxs("div",{className:ee("w-full h-full border-2 border-dashed border-teal-300 bg-teal-50/50 rounded px-3 py-2 overflow-y-auto"),children:[i.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[i.jsx(us,{className:"w-5 h-5 text-teal-600"}),i.jsxs("span",{className:"text-sm font-medium text-teal-700",children:[R.props.label||"Pices jointes"," (",re?Q.length:0,")"]})]}),re?i.jsx("div",{className:"space-y-2",children:Q.map((Je,Ce)=>{const xt=Je.type.startsWith("image/")?Cx:us;return i.jsxs("div",{className:"flex items-center gap-2 p-2 bg-white rounded border border-teal-200 hover:border-teal-400 transition-colors",children:[i.jsx(xt,{className:"w-4 h-4 text-teal-600 flex-shrink-0"}),i.jsxs("div",{className:"flex-1 min-w-0",children:[i.jsx("div",{className:"text-xs font-medium text-teal-900 truncate",children:Je.name}),i.jsx("div",{className:"text-xs text-teal-600",children:ye(Je.size)})]}),i.jsxs("div",{className:"flex gap-1 flex-shrink-0",children:[i.jsx("button",{onClick:()=>X(Ce),className:"p-1.5 bg-blue-100 hover:bg-blue-200 text-blue-700 rounded transition-colors",title:"Voir",children:i.jsx(fi,{className:"w-3.5 h-3.5"})}),i.jsx("button",{onClick:()=>Ee(Je),className:"p-1.5 bg-teal-100 hover:bg-teal-200 text-teal-700 rounded transition-colors",title:"Tlcharger",children:i.jsx(Fi,{className:"w-3.5 h-3.5"})})]})]},Ce)})}):i.jsxs("div",{className:"text-center py-4",children:[i.jsx(us,{className:"w-8 h-8 text-teal-300 mx-auto mb-2"}),i.jsx("span",{className:"text-xs text-teal-500 italic",children:"Aucune pice jointe"})]})]}),i.jsx(ce,{})]},R.id)}if(R.type==="link"){const Q=m[R.ref]||"",re=Q&&Q.trim()!==""&&(Q.startsWith("http://")||Q.startsWith("https://"));return i.jsxs("div",{className:"absolute",style:{left:`${q.x}px`,top:`${q.y}px`,width:`${q.w}px`,height:`${q.h}px`},children:[i.jsxs("div",{className:ee("w-full h-full border-2 border-cyan-400 bg-cyan-50 rounded px-3 py-2 flex items-center gap-2"),children:[i.jsx(Wx,{className:"w-5 h-5 text-cyan-600 flex-shrink-0"}),i.jsxs("div",{className:"flex-1 min-w-0",children:[i.jsx("div",{className:"text-xs font-medium text-cyan-700 mb-1",children:R.props.label||"Lien"}),re?i.jsx("a",{href:Q,target:"_blank",rel:"noopener noreferrer",className:"text-sm text-cyan-900 hover:text-cyan-700 underline truncate block",children:Q}):i.jsx("span",{className:"text-sm text-gray-400 italic",children:"Aucun lien fourni"})]}),re&&i.jsx("a",{href:Q,target:"_blank",rel:"noopener noreferrer",className:"p-2 bg-cyan-600 hover:bg-cyan-700 text-white rounded transition-colors flex-shrink-0",title:"Ouvrir le lien",children:i.jsx(f2,{className:"w-4 h-4"})})]}),i.jsx(ce,{})]},R.id)}return null},M={brouillon:{label:"Brouillon",color:"bg-gray-100 text-gray-800"},soumise:{label:"Soumise",color:"bg-blue-100 text-blue-800"},en_cours:{label:"En cours",color:"bg-yellow-100 text-yellow-800"},approuvee:{label:"Approuve",color:"bg-green-100 text-green-800"},refusee:{label:"Refuse",color:"bg-red-100 text-red-800"}};return n?i.jsx("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center",children:i.jsxs("div",{className:"text-center",children:[i.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-600 mx-auto mb-4"}),i.jsx("p",{className:"text-gray-600",children:"Chargement..."})]})}):r?i.jsxs("div",{className:"min-h-screen bg-gray-50",children:[i.jsx("div",{className:"bg-white border-b border-gray-200 px-6 py-4 sticky top-0 z-10",children:i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsxs("div",{className:"flex items-center gap-4",children:[i.jsx("button",{onClick:()=>t("/admin/declarations"),className:"p-2 hover:bg-gray-100 rounded-lg transition-colors",title:"Retour  la liste",children:i.jsx($n,{className:"w-6 h-6 text-gray-600"})}),i.jsxs("div",{children:[i.jsxs("div",{className:"flex items-center gap-3",children:[i.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:r.sheet_title}),i.jsx("span",{className:`px-3 py-1 rounded-full text-sm font-medium ${M[r.status].color}`,children:M[r.status].label}),i.jsxs("span",{className:"px-3 py-1 bg-gray-100 text-gray-700 rounded-full text-xs font-medium flex items-center gap-1",children:[i.jsx(fi,{className:"w-3 h-3"}),"Mode Admin"]})]}),i.jsxs("div",{className:"text-sm text-gray-500 mt-1",children:[r.professor_name,"  ",r.segment_name,"  ",r.city_name,"  Du"," ",new Date(r.start_date).toLocaleDateString("fr-FR")," au"," ",new Date(r.end_date).toLocaleDateString("fr-FR")]})]})]}),i.jsxs("div",{className:"flex items-center gap-3",children:[C&&i.jsx("div",{className:"flex items-center gap-2 bg-green-100 text-green-800 px-4 py-2 rounded-lg",children:i.jsx("span",{className:"text-sm font-medium",children:C})}),i.jsxs(Xe,{variant:"outline",className:"text-red-600 hover:bg-red-50",onClick:Se,children:[i.jsx(An,{className:"w-4 h-4 mr-2"}),"Supprimer"]}),i.jsxs(Xe,{variant:"outline",onClick:te,disabled:o.isPending,children:[i.jsx(cp,{className:"w-4 h-4 mr-2"}),"Sauvegarder"]}),r.status==="soumise"&&i.jsxs(i.Fragment,{children:[i.jsxs(Xe,{variant:"outline",className:"text-green-600 hover:bg-green-50",onClick:ie,children:[i.jsx(Za,{className:"w-4 h-4 mr-2"}),"Approuver"]}),i.jsxs(Xe,{variant:"outline",className:"text-yellow-600 hover:bg-yellow-50",onClick:()=>T(!0),children:[i.jsx($r,{className:"w-4 h-4 mr-2"}),"Demander modification"]}),i.jsxs(Xe,{variant:"outline",className:"text-red-600 hover:bg-red-50",onClick:()=>E(!0),children:[i.jsx(xd,{className:"w-4 h-4 mr-2"}),"Refuser"]})]})]})]})}),r.rejection_reason&&i.jsx("div",{className:"bg-red-50 border-b border-red-200 px-6 py-4",children:i.jsxs("div",{className:"flex items-start gap-2",children:[i.jsx($r,{className:"w-5 h-5 text-red-500 flex-shrink-0 mt-0.5"}),i.jsxs("div",{children:[i.jsx("p",{className:"text-sm font-semibold text-red-800",children:r.status==="refusee"?"Dclaration refuse":"Modifications demandes"}),i.jsx("p",{className:"text-sm text-red-700 mt-1",children:r.rejection_reason})]})]})}),i.jsx("div",{className:"p-4",children:i.jsx("div",{className:"bg-white rounded-lg shadow-sm overflow-auto",children:i.jsx("div",{className:"relative bg-white",style:{width:`${v.width}px`,minHeight:`${v.height}px`},children:d.map(R=>ne(R))})})}),N&&i.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:i.jsx("div",{className:"bg-white rounded-lg shadow-xl max-w-md w-full",children:i.jsxs("div",{className:"p-6",children:[i.jsx("h2",{className:"text-xl font-bold mb-4",children:"Refuser la dclaration"}),i.jsxs("p",{className:"text-sm text-gray-600 mb-4",children:["Veuillez fournir un motif de refus pour la dclaration de"," ",i.jsx("strong",{children:r.professor_name})]}),i.jsx("textarea",{value:O,onChange:R=>D(R.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-red-500 focus:border-transparent",rows:4,placeholder:"Motif du refus..."}),i.jsxs("div",{className:"flex justify-end gap-2 mt-6",children:[i.jsx(Xe,{variant:"outline",onClick:()=>{E(!1),D("")},children:"Annuler"}),i.jsx(Xe,{className:"bg-red-600 hover:bg-red-700 text-white",onClick:ge,disabled:!O.trim(),children:"Refuser"})]})]})})}),j&&i.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:i.jsx("div",{className:"bg-white rounded-lg shadow-xl max-w-md w-full",children:i.jsxs("div",{className:"p-6",children:[i.jsx("h2",{className:"text-xl font-bold mb-4",children:"Demander une modification"}),i.jsxs("p",{className:"text-sm text-gray-600 mb-4",children:["Veuillez prciser les modifications  apporter pour la dclaration de"," ",i.jsx("strong",{children:r.professor_name})]}),i.jsx("textarea",{value:O,onChange:R=>D(R.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-yellow-500 focus:border-transparent",rows:4,placeholder:"Modifications demandes..."}),i.jsxs("div",{className:"flex justify-end gap-2 mt-6",children:[i.jsx(Xe,{variant:"outline",onClick:()=>{T(!1),D("")},children:"Annuler"}),i.jsx(Xe,{className:"bg-yellow-600 hover:bg-yellow-700 text-white",onClick:oe,disabled:!O.trim(),children:"Demander"})]})]})})}),B&&L.length>0&&i.jsx(Bse,{files:L,currentIndex:V,onClose:()=>H(!1),onNavigate:R=>Y(R)})]}):i.jsx("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center",children:i.jsxs("div",{className:"text-center",children:[i.jsx("p",{className:"text-gray-600",children:"Dclaration introuvable"}),i.jsx(Xe,{onClick:()=>t("/admin/declarations"),className:"mt-4",children:"Retour"})]})})},zse={brouillon:{label:"Brouillon",color:"bg-gray-100 text-gray-800 border-gray-300",icon:us},a_declarer:{label:" dclarer",color:"bg-orange-100 text-orange-800 border-orange-300",icon:$r},soumise:{label:"Soumise",color:"bg-blue-100 text-blue-800 border-blue-300",icon:Oi},en_cours:{label:"En cours",color:"bg-yellow-100 text-yellow-800 border-yellow-300",icon:$r},approuvee:{label:"Approuve",color:"bg-green-100 text-green-800 border-green-300",icon:lD},refusee:{label:"Refuse",color:"bg-red-100 text-red-800 border-red-300",icon:xd}},Bj=({status:e,className:t=""})=>{const r=zse[e],n=r.icon;return i.jsxs("span",{className:`inline-flex items-center gap-1.5 px-3 py-1 rounded-full text-xs font-medium border ${r.color} ${t}`,children:[i.jsx(n,{className:"w-3.5 h-3.5"}),r.label]})},qse=({onClose:e})=>{const t=xn(),r=Pse(),{data:n}=Mse(),{data:a=[],isLoading:s}=Rse(),{data:l=[],isLoading:o}=Ise(),[u,d]=k.useState([]),[h,m]=k.useState(""),[g,x]=k.useState(""),[b,v]=k.useState(""),[w,N]=k.useState(""),[E,j]=k.useState("");k.useEffect(()=>{if(h){const O=l.filter(D=>D.segment_id===h);d(O),g&&!O.find(D=>D.id===g)&&x("")}else d([]),x("")},[h,l,g]);const T=async O=>{if(O.preventDefault(),j(""),!h||!g||!b||!w){j("Veuillez remplir tous les champs");return}if(new Date(w)<=new Date(b)){j("La date de fin doit tre postrieure  la date de dbut");return}const D=n?.find(C=>C.segment_ids?.includes(h)&&C.city_ids?.includes(g));if(!D){j("Aucune fiche de calcul publie n'existe pour ce segment et cette ville");return}try{const C=await r.mutateAsync({calculation_sheet_id:D.id,segment_id:h,city_id:g,start_date:b,end_date:w,form_data:{}});t(`/professor/declarations/${C.id}/fill`)}catch(C){console.error("Error creating declaration:",C),j("Erreur lors de la cration de la dclaration")}};return i.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:i.jsxs("div",{className:"bg-white rounded-lg shadow-xl max-w-md w-full mx-4",children:[i.jsxs("div",{className:"flex items-center justify-between p-6 border-b",children:[i.jsx("h2",{className:"text-xl font-semibold text-gray-900",children:"Nouvelle Dclaration"}),i.jsx("button",{onClick:e,className:"text-gray-400 hover:text-gray-600 transition-colors",children:i.jsx(En,{className:"w-5 h-5"})})]}),i.jsxs("form",{onSubmit:T,className:"p-6 space-y-4",children:[(s||o)&&i.jsx("div",{className:"text-center py-4",children:i.jsx("p",{className:"text-gray-600",children:"Chargement..."})}),i.jsxs("div",{children:[i.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:["Segment ",i.jsx("span",{className:"text-red-500",children:"*"})]}),i.jsxs("select",{value:h,onChange:O=>m(O.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent disabled:bg-gray-100 disabled:cursor-not-allowed",required:!0,disabled:s,children:[i.jsx("option",{value:"",children:"Slectionner un segment"}),a.map(O=>i.jsx("option",{value:O.id,children:O.name},O.id))]}),!s&&a.length===0&&i.jsx("p",{className:"text-sm text-red-500 mt-1",children:"Aucun segment affect  votre compte"})]}),i.jsxs("div",{children:[i.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:["Ville ",i.jsx("span",{className:"text-red-500",children:"*"})]}),i.jsxs("select",{value:g,onChange:O=>x(O.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent disabled:bg-gray-100 disabled:cursor-not-allowed",required:!0,disabled:!h||o,children:[i.jsx("option",{value:"",children:"Slectionner une ville"}),u.map(O=>i.jsx("option",{value:O.id,children:O.name},O.id))]}),!o&&l.length===0&&i.jsx("p",{className:"text-sm text-red-500 mt-1",children:"Aucune ville affecte  votre compte"}),h&&u.length===0&&l.length>0&&i.jsx("p",{className:"text-sm text-gray-500 mt-1",children:"Aucune ville disponible pour ce segment"})]}),i.jsxs("div",{children:[i.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:["Date de dbut ",i.jsx("span",{className:"text-red-500",children:"*"})]}),i.jsx("input",{type:"date",value:b,onChange:O=>v(O.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",required:!0})]}),i.jsxs("div",{children:[i.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:["Date de fin ",i.jsx("span",{className:"text-red-500",children:"*"})]}),i.jsx("input",{type:"date",value:w,onChange:O=>N(O.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",required:!0,min:b})]}),E&&i.jsxs("div",{className:"bg-red-50 border border-red-200 rounded-lg p-3 flex items-start gap-2",children:[i.jsx($r,{className:"w-5 h-5 text-red-500 flex-shrink-0 mt-0.5"}),i.jsx("p",{className:"text-sm text-red-700",children:E})]}),i.jsxs("div",{className:"flex gap-3 pt-4",children:[i.jsx("button",{type:"button",onClick:e,className:"flex-1 px-4 py-2 border border-gray-300 text-gray-700 rounded-lg hover:bg-gray-50 transition-colors",children:"Annuler"}),i.jsx("button",{type:"submit",disabled:r.isPending,className:"flex-1 px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors disabled:bg-blue-400 disabled:cursor-not-allowed",children:r.isPending?"Cration...":"Crer"})]})]})]})})},$se=()=>{const{data:e,isLoading:t}=Fse(),r=Lse(),n=TL(),[a,s]=k.useState(!1),l=async d=>{if(window.confirm("tes-vous sr de vouloir supprimer cette dclaration ?"))try{await r.mutateAsync(d)}catch(h){console.error("Error deleting declaration:",h),alert("Erreur lors de la suppression de la dclaration")}},o=async d=>{if(window.confirm("Voulez-vous soumettre cette dclaration pour validation ?"))try{await n.mutateAsync(d)}catch(h){console.error("Error submitting declaration:",h),alert("Erreur lors de la soumission de la dclaration")}},u=d=>new Date(d).toLocaleDateString("fr-FR");return t?i.jsx("div",{className:"min-h-screen flex items-center justify-center",children:i.jsxs("div",{className:"text-center",children:[i.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-600 mx-auto mb-4"}),i.jsx("p",{className:"text-gray-600",children:"Chargement des dclarations..."})]})}):i.jsxs("div",{className:"min-h-screen bg-gray-50",children:[i.jsx("div",{className:"bg-white border-b border-gray-200",children:i.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-6",children:i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsxs("div",{className:"flex items-center gap-4",children:[i.jsx(Aa,{to:"/dashboard",className:"p-2 hover:bg-gray-100 rounded-lg transition-colors",title:"Retour au tableau de bord",children:i.jsx($n,{className:"w-6 h-6 text-gray-600"})}),i.jsxs("div",{children:[i.jsx("h1",{className:"text-3xl font-bold text-gray-900",children:"Mes Dclarations"}),i.jsx("p",{className:"text-sm text-gray-600 mt-1",children:"Grez vos dclarations de sessions"})]})]}),i.jsxs("button",{onClick:()=>s(!0),className:"px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors flex items-center gap-2",children:[i.jsx(ra,{className:"w-5 h-5"}),"Nouvelle Dclaration"]})]})})}),i.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:[i.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 lg:grid-cols-6 gap-4 mb-6",children:[i.jsxs("div",{className:"bg-white rounded-lg shadow-sm p-4",children:[i.jsx("p",{className:"text-sm text-gray-600",children:"Total"}),i.jsx("p",{className:"text-2xl font-bold text-gray-900",children:e?.length||0})]}),i.jsxs("div",{className:"bg-white rounded-lg shadow-sm p-4",children:[i.jsx("p",{className:"text-sm text-gray-600",children:" modifier"}),i.jsx("p",{className:"text-2xl font-bold text-yellow-600",children:e?.filter(d=>d.status==="en_cours").length||0})]}),i.jsxs("div",{className:"bg-white rounded-lg shadow-sm p-4",children:[i.jsx("p",{className:"text-sm text-gray-600",children:" dclarer"}),i.jsx("p",{className:"text-2xl font-bold text-orange-600",children:e?.filter(d=>d.status==="a_declarer").length||0})]}),i.jsxs("div",{className:"bg-white rounded-lg shadow-sm p-4",children:[i.jsx("p",{className:"text-sm text-gray-600",children:"Brouillons"}),i.jsx("p",{className:"text-2xl font-bold text-gray-500",children:e?.filter(d=>d.status==="brouillon").length||0})]}),i.jsxs("div",{className:"bg-white rounded-lg shadow-sm p-4",children:[i.jsx("p",{className:"text-sm text-gray-600",children:"Soumises"}),i.jsx("p",{className:"text-2xl font-bold text-blue-600",children:e?.filter(d=>d.status==="soumise").length||0})]}),i.jsxs("div",{className:"bg-white rounded-lg shadow-sm p-4",children:[i.jsx("p",{className:"text-sm text-gray-600",children:"Approuves"}),i.jsx("p",{className:"text-2xl font-bold text-green-600",children:e?.filter(d=>d.status==="approuvee").length||0})]})]}),!e||e.length===0?i.jsxs("div",{className:"bg-white rounded-lg shadow-sm p-12 text-center",children:[i.jsx(us,{className:"w-16 h-16 text-gray-400 mx-auto mb-4"}),i.jsx("h3",{className:"text-lg font-semibold text-gray-700 mb-2",children:"Aucune dclaration"}),i.jsx("p",{className:"text-gray-500 mb-6",children:"Commencez par crer votre premire dclaration"}),i.jsxs("button",{onClick:()=>s(!0),className:"px-6 py-3 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors inline-flex items-center gap-2",children:[i.jsx(ra,{className:"w-5 h-5"}),"Nouvelle Dclaration"]})]}):i.jsx("div",{className:"bg-white rounded-lg shadow-sm overflow-hidden",children:i.jsx("div",{className:"overflow-x-auto",children:i.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[i.jsx("thead",{className:"bg-gray-50",children:i.jsxs("tr",{children:[i.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Segment"}),i.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Ville"}),i.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Date Dbut"}),i.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Date Fin"}),i.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Statut"}),i.jsx("th",{className:"px-6 py-3 text-right text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Actions"})]})}),i.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:e.map(d=>i.jsxs(ed.Fragment,{children:[i.jsxs("tr",{className:"hover:bg-gray-50",children:[i.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:i.jsx("div",{className:"text-sm font-medium text-gray-900",children:d.segment_name})}),i.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:i.jsx("div",{className:"text-sm text-gray-900",children:d.city_name})}),i.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:i.jsx("div",{className:"text-sm text-gray-900",children:u(d.start_date)})}),i.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:i.jsx("div",{className:"text-sm text-gray-900",children:u(d.end_date)})}),i.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:i.jsx(Bj,{status:d.status})}),i.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-right text-sm font-medium",children:i.jsxs("div",{className:"flex items-center justify-end gap-2",children:[i.jsx(Aa,{to:`/professor/declarations/${d.id}/fill`,className:"text-blue-600 hover:text-blue-900 p-1 hover:bg-blue-50 rounded transition-colors",title:d.status==="brouillon"||d.status==="refusee"||d.status==="a_declarer"||d.status==="en_cours"?"Remplir":"Voir",children:d.status==="brouillon"||d.status==="refusee"||d.status==="a_declarer"||d.status==="en_cours"?i.jsx(hh,{className:"w-4 h-4"}):i.jsx(fi,{className:"w-4 h-4"})}),(d.status==="brouillon"||d.status==="a_declarer"||d.status==="en_cours")&&i.jsx("button",{onClick:()=>o(d.id),className:"text-green-600 hover:text-green-900 p-1 hover:bg-green-50 rounded transition-colors",title:"Soumettre",children:i.jsx(Dm,{className:"w-4 h-4"})}),d.status==="brouillon"&&i.jsx("button",{onClick:()=>l(d.id),className:"text-red-600 hover:text-red-900 p-1 hover:bg-red-50 rounded transition-colors",title:"Supprimer",disabled:r.isPending,children:i.jsx(An,{className:"w-4 h-4"})})]})})]}),d.status==="en_cours"&&d.rejection_reason&&i.jsx("tr",{children:i.jsx("td",{colSpan:6,className:"px-6 py-3 bg-yellow-50 border-l-4 border-yellow-400",children:i.jsxs("div",{className:"flex items-start gap-2",children:[i.jsx($r,{className:"w-5 h-5 text-yellow-600 flex-shrink-0 mt-0.5"}),i.jsxs("div",{children:[i.jsx("p",{className:"text-sm font-semibold text-yellow-900",children:"Modifications demandes par l'administrateur"}),i.jsx("p",{className:"text-sm text-yellow-800 mt-1",children:d.rejection_reason})]})]})})})]},d.id))})]})})})]}),a&&i.jsx(qse,{onClose:()=>s(!1)})]})},Hse=()=>{const{id:e}=io(),t=xn(),{data:r,isLoading:n}=Dse(e||""),a=CL(),s=TL(),[l,o]=k.useState([]),[u,d]=k.useState({}),[h,m]=k.useState({}),[g,x]=k.useState(null),[b,v]=k.useState({width:1200,height:800}),w=r?.status!=="brouillon"&&r?.status!=="refusee"&&r?.status!=="en_cours"&&r?.status!=="a_declarer";k.useEffect(()=>{if(r?.template_data)try{const P=JSON.parse(r.template_data);P.fields&&P.fields.length>0&&o(P.fields),P.canvasSize&&v(P.canvasSize)}catch(P){console.error("Error parsing template:",P)}if(r?.form_data)try{const P=JSON.parse(r.form_data);d(P)}catch(P){console.error("Error parsing form data:",P)}},[r]),k.useEffect(()=>{const P=Ij(l,u);m(P)},[u,l]);const N=(P,B)=>{const H=l.find(U=>U.ref===P);if(!H)return;let L=B;H.type==="number"&&(L=B===""?0:parseFloat(B)||0),d(U=>({...U,[P]:L}))},E=P=>new Promise((B,H)=>{const L=new FileReader;L.readAsDataURL(P),L.onload=()=>B(L.result),L.onerror=U=>H(U)}),j=async(P,B)=>{if(!B){d(H=>({...H,[P]:[]}));return}try{const H=await E(B),L={name:B.name,size:B.size,type:B.type,data:H,uploadedAt:new Date().toISOString()};d(U=>{const V=Array.isArray(U[P])?U[P]:[];return{...U,[P]:[...V,L]}})}catch(H){console.error("Error converting file to base64:",H),alert("Erreur lors du traitement du fichier")}},T=(P,B)=>{d(H=>{const U=(Array.isArray(H[P])?H[P]:[]).filter((V,Y)=>Y!==B);return{...H,[P]:U}})},O=async()=>{if(e)try{await a.mutateAsync({id:e,form_data:u}),x("Brouillon sauvegard avec succs!"),setTimeout(()=>x(null),3e3)}catch(P){console.error("Error saving declaration:",P),alert("Erreur lors de la sauvegarde")}},D=async()=>{if(e&&window.confirm("Voulez-vous soumettre cette dclaration pour validation ? Vous ne pourrez plus la modifier aprs soumission."))try{await a.mutateAsync({id:e,form_data:u}),await s.mutateAsync(e),t("/professor/declarations")}catch(P){console.error("Error submitting declaration:",P),alert("Erreur lors de la soumission")}},C=P=>{const B=P.layout||{x:0,y:0,w:200,h:40};if(P.visibility?.hidden)return null;if(P.type==="label")return i.jsx("div",{className:"absolute bg-gray-100 border-2 border-gray-300 rounded px-3 py-2 flex items-center font-semibold text-gray-700",style:{left:`${B.x}px`,top:`${B.y}px`,width:`${B.w}px`,height:`${B.h}px`},children:P.props.label},P.id);if(P.type==="text"){const H=u[P.ref],L=typeof H=="string"||typeof H=="number"?String(H):"";return i.jsx("div",{className:"absolute",style:{left:`${B.x}px`,top:`${B.y}px`,width:`${B.w}px`,height:`${B.h}px`},children:i.jsx("input",{type:"text",value:L,onChange:U=>N(P.ref,U.target.value),className:"w-full h-full px-3 py-2 border border-blue-300 rounded focus:ring-2 focus:ring-blue-500 focus:border-transparent disabled:bg-gray-100 disabled:cursor-not-allowed",disabled:w})},P.id)}if(P.type==="textarea"){const H=u[P.ref],L=typeof H=="string"||typeof H=="number"?String(H):"";return i.jsx("div",{className:"absolute",style:{left:`${B.x}px`,top:`${B.y}px`,width:`${B.w}px`,height:`${B.h}px`},children:i.jsx("textarea",{value:L,onChange:U=>N(P.ref,U.target.value),placeholder:P.props.label||"crivez vos commentaires ici...",className:"w-full h-full px-3 py-2 border-2 border-indigo-300 rounded focus:ring-2 focus:ring-indigo-500 focus:border-transparent resize-none disabled:bg-gray-100 disabled:cursor-not-allowed",disabled:w})},P.id)}if(P.type==="number"){const H=u[P.ref]!==void 0?u[P.ref]:P.props.default||0,L=typeof H=="number"||typeof H=="string"?H:"";return i.jsx("div",{className:"absolute",style:{left:`${B.x}px`,top:`${B.y}px`,width:`${B.w}px`,height:`${B.h}px`},children:i.jsx("input",{type:"number",step:"0.01",value:L,onChange:U=>N(P.ref,U.target.value),className:"w-full h-full px-3 py-2 border border-green-300 rounded focus:ring-2 focus:ring-green-500 focus:border-transparent disabled:bg-gray-100 disabled:cursor-not-allowed",disabled:w})},P.id)}if(P.type==="formula"){const H=h[P.ref],L=typeof H=="string"&&H.startsWith("#");return i.jsx("div",{className:"absolute flex items-center",style:{left:`${B.x}px`,top:`${B.y}px`,width:`${B.w}px`,height:`${B.h}px`},children:i.jsx("div",{className:`w-full h-full px-3 py-2 border-2 rounded font-semibold flex items-center ${L?"bg-red-50 border-red-400 text-red-700":"bg-purple-50 border-purple-400 text-purple-900"}`,children:typeof H=="number"?H.toFixed(P.props.decimals||2):String(H||"0")})},P.id)}if(P.type==="frame")return i.jsx("div",{className:"absolute border-2 border-orange-400 rounded-lg bg-orange-50/30",style:{left:`${B.x}px`,top:`${B.y}px`,width:`${B.w}px`,height:`${B.h}px`},children:i.jsx("div",{className:"bg-orange-500 text-white px-3 py-1 rounded-t font-semibold text-sm",children:P.props.label||"Cadre"})},P.id);if(P.type==="file"){const H=Array.isArray(u[P.ref])?u[P.ref]:[],L=H&&H.length>0;return i.jsx("div",{className:"absolute",style:{left:`${B.x}px`,top:`${B.y}px`,width:`${B.w}px`,height:`${B.h}px`},children:i.jsxs("div",{className:"w-full h-full border-2 border-teal-400 bg-teal-50 rounded px-3 py-2 flex flex-col gap-2 overflow-y-auto",children:[i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsx(us,{className:"w-5 h-5 text-teal-600"}),i.jsxs("span",{className:"text-sm font-medium text-teal-900",children:[P.props.label||"Pices jointes"," (",H.length,")"]})]}),!w&&i.jsxs("label",{className:"cursor-pointer px-2 py-1 bg-teal-600 hover:bg-teal-700 text-white rounded text-xs font-medium transition-colors",children:["+ Ajouter",i.jsx("input",{type:"file",accept:P.props.accept,onChange:U=>{const V=U.target.files?.[0];if(V){const Y=(P.props.maxSize||5)*1024*1024;if(V.size>Y){alert(`Le fichier est trop volumineux. Taille maximum: ${P.props.maxSize||5} MB`);return}j(P.ref,V)}U.target.value=""},className:"hidden"})]})]}),L?i.jsx("div",{className:"space-y-1 flex-1 overflow-y-auto",children:H.map((U,V)=>i.jsxs("div",{className:"flex items-center justify-between gap-2 p-2 bg-white rounded border border-teal-200",children:[i.jsxs("div",{className:"flex-1 min-w-0",children:[i.jsx("div",{className:"text-xs font-medium text-teal-900 truncate",children:U.name}),i.jsxs("div",{className:"text-xs text-teal-600",children:[(U.size/1024/1024).toFixed(2)," MB"]})]}),i.jsxs("div",{className:"flex gap-1",children:[i.jsx("button",{onClick:()=>{const Y=atob(U.data.split(",")[1]),de=U.data.split(",")[0].split(":")[1].split(";")[0],te=new ArrayBuffer(Y.length),ie=new Uint8Array(te);for(let ne=0;ne<Y.length;ne++)ie[ne]=Y.charCodeAt(ne);const ge=new Blob([te],{type:de}),oe=URL.createObjectURL(ge),Se=document.createElement("a");Se.href=oe,Se.download=U.name,Se.click(),URL.revokeObjectURL(oe)},className:"p-1 hover:bg-teal-200 rounded transition-colors",title:"Tlcharger",children:i.jsx(Fi,{className:"w-3 h-3 text-teal-700"})}),!w&&i.jsx("button",{onClick:()=>T(P.ref,V),className:"p-1 hover:bg-red-200 rounded transition-colors",title:"Supprimer",children:i.jsx(En,{className:"w-3 h-3 text-red-600"})})]})]},V))}):i.jsxs("div",{className:"flex-1 flex flex-col items-center justify-center text-center opacity-60",children:[i.jsx(Ef,{className:"w-8 h-8 text-teal-600 mb-2"}),i.jsx("span",{className:"text-xs text-teal-700",children:"Aucune pice jointe"}),i.jsxs("span",{className:"text-xs text-teal-600 mt-1",children:[P.props.accept||"Tous fichiers"," (max ",P.props.maxSize||5," MB)"]})]})]})},P.id)}if(P.type==="link"){const H=u[P.ref]||"",L=H&&H.trim()!==""&&(H.startsWith("http://")||H.startsWith("https://"));return i.jsx("div",{className:"absolute",style:{left:`${B.x}px`,top:`${B.y}px`,width:`${B.w}px`,height:`${B.h}px`},children:i.jsxs("div",{className:"w-full h-full border-2 border-cyan-400 bg-cyan-50 rounded px-3 py-2 flex items-center gap-2",children:[i.jsx(Wx,{className:"w-5 h-5 text-cyan-600 flex-shrink-0"}),i.jsxs("div",{className:"flex-1 min-w-0",children:[i.jsx("label",{className:"block text-xs font-medium text-cyan-700 mb-1",children:P.props.label||"Lien"}),i.jsx("input",{type:"url",value:H,onChange:U=>N(P.ref,U.target.value),disabled:w,placeholder:"https://exemple.com",className:`w-full px-2 py-1 text-sm border rounded focus:outline-none focus:ring-2 focus:ring-cyan-500 ${w?"bg-gray-100 border-gray-300 text-gray-600 cursor-not-allowed":"bg-white border-cyan-300 text-cyan-900"}`})]}),L&&i.jsx("button",{onClick:()=>window.open(H,"_blank","noopener,noreferrer"),className:"p-2 bg-cyan-600 hover:bg-cyan-700 text-white rounded transition-colors flex-shrink-0",title:"Ouvrir le lien",children:i.jsx(f2,{className:"w-4 h-4"})})]})},P.id)}return null};return n?i.jsx("div",{className:"min-h-screen flex items-center justify-center",children:i.jsxs("div",{className:"text-center",children:[i.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-600 mx-auto mb-4"}),i.jsx("p",{className:"text-gray-600",children:"Chargement de la dclaration..."})]})}):r?i.jsxs("div",{className:"min-h-screen bg-gray-50",children:[i.jsx("div",{className:"bg-white border-b border-gray-200 px-6 py-4",children:i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsxs("div",{className:"flex items-center gap-4",children:[i.jsx(Aa,{to:"/professor/declarations",className:"p-2 hover:bg-gray-100 rounded-lg transition-colors",title:"Retour  la liste",children:i.jsx($n,{className:"w-6 h-6 text-gray-600"})}),i.jsxs("div",{children:[i.jsxs("div",{className:"flex items-center gap-3",children:[i.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:r.sheet_title}),i.jsx(Bj,{status:r.status}),w&&i.jsxs("span",{className:"px-3 py-1 bg-gray-100 text-gray-700 rounded-full text-xs font-medium flex items-center gap-1",children:[i.jsx(Qi,{className:"w-3 h-3"}),"Lecture seule"]})]}),i.jsxs("div",{className:"text-sm text-gray-500 mt-1",children:[r.segment_name,"  ",r.city_name,"  Du"," ",new Date(r.start_date).toLocaleDateString("fr-FR")," au"," ",new Date(r.end_date).toLocaleDateString("fr-FR")]})]})]}),i.jsxs("div",{className:"flex items-center gap-3",children:[g&&i.jsx("div",{className:"flex items-center gap-2 bg-green-100 text-green-800 px-4 py-2 rounded-lg",children:i.jsx("span",{className:"text-sm font-medium",children:g})}),!w&&i.jsxs(i.Fragment,{children:[i.jsxs("button",{onClick:O,className:"px-4 py-2 bg-gray-600 hover:bg-gray-700 text-white rounded-lg transition-colors flex items-center gap-2",disabled:a.isPending,children:[i.jsx(cp,{className:"w-5 h-5"}),"Sauvegarder"]}),i.jsxs("button",{onClick:D,className:"px-4 py-2 bg-green-600 hover:bg-green-700 text-white rounded-lg transition-colors flex items-center gap-2",disabled:s.isPending,children:[i.jsx(Dm,{className:"w-5 h-5"}),"Soumettre"]})]})]})]})}),r.status==="a_declarer"&&i.jsx("div",{className:"bg-orange-50 border-b border-orange-200 px-6 py-4",children:i.jsxs("div",{className:"flex items-start gap-2",children:[i.jsx($r,{className:"w-5 h-5 text-orange-500 flex-shrink-0 mt-0.5"}),i.jsxs("div",{children:[i.jsx("p",{className:"text-sm font-semibold text-orange-800",children:"Fiche assigne par un grant"}),i.jsx("p",{className:"text-sm text-orange-700 mt-1",children:"Cette fiche de session vous a t assigne. Veuillez la remplir et la soumettre."})]})]})}),r.rejection_reason&&i.jsx("div",{className:"bg-red-50 border-b border-red-200 px-6 py-4",children:i.jsxs("div",{className:"flex items-start gap-2",children:[i.jsx($r,{className:"w-5 h-5 text-red-500 flex-shrink-0 mt-0.5"}),i.jsxs("div",{children:[i.jsx("p",{className:"text-sm font-semibold text-red-800",children:"Dclaration refuse"}),i.jsx("p",{className:"text-sm text-red-700 mt-1",children:r.rejection_reason})]})]})}),i.jsx("div",{className:"p-4",children:i.jsx("div",{className:"bg-white rounded-lg shadow-sm overflow-auto",children:i.jsx("div",{className:"relative bg-white",style:{width:`${b.width}px`,minHeight:`${b.height}px`},children:l.map(P=>C(P))})})})]}):i.jsx("div",{className:"min-h-screen flex items-center justify-center",children:i.jsxs("div",{className:"text-center",children:[i.jsx($r,{className:"w-16 h-16 text-red-400 mx-auto mb-4"}),i.jsx("h2",{className:"text-xl font-semibold text-gray-700 mb-2",children:"Dclaration introuvable"}),i.jsxs(Aa,{to:"/professor/declarations",className:"inline-flex items-center gap-2 px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700",children:[i.jsx($n,{className:"w-4 h-4"}),"Retour  la liste"]})]})})};function Vse(){const{user:e,isAdmin:t}=Cs();return Jt({queryKey:["gerant-segments",e?.id],queryFn:async()=>{if(!e?.id)return[];const r=await Hf.getAll();if(t)return r;const n=await lo.getById(e.id);return!n||!n.segment_ids?[]:r.filter(a=>n.segment_ids?.includes(a.id))},enabled:!!e?.id})}function Wse(){const{user:e,isAdmin:t}=Cs();return Jt({queryKey:["gerant-cities",e?.id],queryFn:async()=>{if(!e?.id)return[];const r=await Ec.getAll();if(t)return r;const n=await lo.getById(e.id);return!n||!n.city_ids?[]:r.filter(a=>n.city_ids?.includes(a.id))},enabled:!!e?.id})}function Kse(){return Jt({queryKey:["gerant-declarations"],queryFn:async()=>(await Gs.getAll()).filter(t=>t.status==="a_declarer")})}function Gse(e,t){return Jt({queryKey:["professors-by-segment-city",e,t],queryFn:async()=>(await lo.getAll()).filter(a=>a.role==="professor").filter(a=>!(e&&!a.segment_ids?.includes(e)||t&&!a.city_ids?.includes(t))).map(a=>({id:a.id,full_name:a.full_name,username:a.username})),enabled:!!e||!!t})}function Yse(e){return Jt({queryKey:["published-sheets-segment",e],queryFn:async()=>(await Cc.getAll()).filter(r=>!(r.status!=="published"||e&&r.segment_ids&&!r.segment_ids.includes(e))).map(r=>({id:r.id,title:r.title,template_data:r.template_data,sheet_date:r.sheet_date})),enabled:!!e})}function Xse(){const e=Tt();return Ot({mutationFn:async t=>{const r=$f();return Gs.create({id:r,...t,form_data:"{}",status:"a_declarer"})},onSuccess:()=>{e.invalidateQueries({queryKey:["gerant-declarations"]}),e.invalidateQueries({queryKey:["professor-declarations"]})}})}const Qse=()=>{const{data:e,isLoading:t}=Kse(),[r,n]=k.useState("all"),a=e?.filter(o=>r==="all"?!0:o.status===r),s={total:e?.length||0,a_declarer:e?.filter(o=>o.status==="a_declarer").length||0,soumise:e?.filter(o=>o.status==="soumise").length||0,en_cours:e?.filter(o=>o.status==="en_cours").length||0,approuvee:e?.filter(o=>o.status==="approuvee").length||0,refusee:e?.filter(o=>o.status==="refusee").length||0},l=[{label:"Toutes",value:"all",count:s.total},{label:" dclarer",value:"a_declarer",count:s.a_declarer},{label:"Soumises",value:"soumise",count:s.soumise},{label:"En cours",value:"en_cours",count:s.en_cours},{label:"Approuves",value:"approuvee",count:s.approuvee},{label:"Refuses",value:"refusee",count:s.refusee}];return t?i.jsx("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center",children:i.jsx("div",{className:"text-lg text-gray-600",children:"Chargement..."})}):i.jsxs("div",{className:"min-h-screen bg-gray-50",children:[i.jsx("header",{className:"bg-white shadow-sm",children:i.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-4",children:i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsxs("div",{className:"flex items-center gap-4",children:[i.jsx(Aa,{to:"/dashboard",children:i.jsxs(Xe,{variant:"outline",size:"sm",children:[i.jsx($n,{className:"w-4 h-4 mr-2"}),"Retour"]})}),i.jsxs("div",{children:[i.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"Mes Dclarations Cres"}),i.jsx("p",{className:"text-sm text-gray-600",children:"Suivez les dclarations que vous avez assignes aux professeurs"})]})]}),i.jsx(Aa,{to:"/gerant/create-declaration",children:i.jsxs(Xe,{children:[i.jsx(h2,{className:"w-4 h-4 mr-2"}),"Crer une dclaration"]})})]})})}),i.jsxs("main",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:[i.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-3 lg:grid-cols-6 gap-4 mb-6",children:[i.jsx(zr,{children:i.jsx(qr,{className:"pt-6",children:i.jsxs("div",{className:"text-center",children:[i.jsx("p",{className:"text-2xl font-bold text-gray-900",children:s.total}),i.jsx("p",{className:"text-xs text-gray-600 mt-1",children:"Total"})]})})}),i.jsx(zr,{children:i.jsx(qr,{className:"pt-6",children:i.jsxs("div",{className:"text-center",children:[i.jsx("p",{className:"text-2xl font-bold text-orange-600",children:s.a_declarer}),i.jsx("p",{className:"text-xs text-gray-600 mt-1",children:" dclarer"})]})})}),i.jsx(zr,{children:i.jsx(qr,{className:"pt-6",children:i.jsxs("div",{className:"text-center",children:[i.jsx("p",{className:"text-2xl font-bold text-blue-600",children:s.soumise}),i.jsx("p",{className:"text-xs text-gray-600 mt-1",children:"Soumises"})]})})}),i.jsx(zr,{children:i.jsx(qr,{className:"pt-6",children:i.jsxs("div",{className:"text-center",children:[i.jsx("p",{className:"text-2xl font-bold text-yellow-600",children:s.en_cours}),i.jsx("p",{className:"text-xs text-gray-600 mt-1",children:"En cours"})]})})}),i.jsx(zr,{children:i.jsx(qr,{className:"pt-6",children:i.jsxs("div",{className:"text-center",children:[i.jsx("p",{className:"text-2xl font-bold text-green-600",children:s.approuvee}),i.jsx("p",{className:"text-xs text-gray-600 mt-1",children:"Approuves"})]})})}),i.jsx(zr,{children:i.jsx(qr,{className:"pt-6",children:i.jsxs("div",{className:"text-center",children:[i.jsx("p",{className:"text-2xl font-bold text-red-600",children:s.refusee}),i.jsx("p",{className:"text-xs text-gray-600 mt-1",children:"Refuses"})]})})})]}),i.jsx("div",{className:"bg-white rounded-lg shadow p-4 mb-6",children:i.jsx("div",{className:"flex flex-wrap gap-2",children:l.map(o=>i.jsxs(Xe,{variant:r===o.value?"default":"outline",size:"sm",onClick:()=>n(o.value),children:[o.label," (",o.count,")"]},o.value))})}),i.jsx("div",{className:"bg-white rounded-lg shadow",children:a&&a.length>0?i.jsx("div",{className:"overflow-x-auto",children:i.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[i.jsx("thead",{className:"bg-gray-50",children:i.jsxs("tr",{children:[i.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Professeur"}),i.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Segment"}),i.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Ville"}),i.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Fiche de calcul"}),i.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Dates"}),i.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Statut"}),i.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Date cration"})]})}),i.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:a.map(o=>i.jsxs("tr",{className:"hover:bg-gray-50",children:[i.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-medium text-gray-900",children:o.professor_name||"N/A"}),i.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:o.segment_name||"N/A"}),i.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:o.city_name||"N/A"}),i.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:o.sheet_title||"N/A"}),i.jsxs("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:[new Date(o.start_date).toLocaleDateString("fr-FR")," - ",new Date(o.end_date).toLocaleDateString("fr-FR")]}),i.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:i.jsx(Bj,{status:o.status})}),i.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:new Date(o.created_at).toLocaleDateString("fr-FR")})]},o.id))})]})}):i.jsx("div",{className:"text-center py-12",children:i.jsx("p",{className:"text-gray-500",children:"Aucune dclaration trouve."})})})]})]})},ZE=()=>{const e=xn(),{isAdmin:t}=Cs(),{data:r,isLoading:n}=Vse(),{data:a,isLoading:s}=Wse(),[l,o]=k.useState(""),[u,d]=k.useState(""),[h,m]=k.useState(""),[g,x]=k.useState(""),[b,v]=k.useState(""),[w,N]=k.useState(null),E=t?"/admin/declarations":"/gerant/declarations",j=a?.filter(L=>L.segment_id===l)||[],{data:T,isLoading:O}=Gse(l,u),{data:D,isLoading:C}=Yse(l),P=D&&D.length>0?D[0]:null,B=Xse();k.useEffect(()=>{d(""),m("")},[l]),k.useEffect(()=>{m("")},[u]);const H=async L=>{if(L.preventDefault(),N(null),!l){N("Veuillez slectionner un segment");return}if(!u){N("Veuillez slectionner une ville");return}if(!P){N("Aucune fiche de calcul publie pour ce segment");return}if(!h){N("Veuillez slectionner un professeur");return}if(!g||!b){N("Veuillez renseigner les dates de session");return}if(new Date(g)>new Date(b)){N("La date de dbut doit tre antrieure  la date de fin");return}try{await B.mutateAsync({professor_id:h,calculation_sheet_id:P.id,segment_id:l,city_id:u,start_date:g,end_date:b}),e(E)}catch(U){console.error("Error creating declaration:",U),N("Erreur lors de la cration de la dclaration")}};return n||s?i.jsx("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center",children:i.jsx("div",{className:"text-lg text-gray-600",children:"Chargement..."})}):!r||r.length===0?i.jsxs("div",{className:"min-h-screen bg-gray-50",children:[i.jsx("header",{className:"bg-white shadow-sm",children:i.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-4",children:i.jsxs("div",{className:"flex items-center gap-4",children:[i.jsx(Aa,{to:"/dashboard",children:i.jsxs(Xe,{variant:"outline",size:"sm",children:[i.jsx($n,{className:"w-4 h-4 mr-2"}),"Retour"]})}),i.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"Crer une Dclaration"})]})})}),i.jsx("main",{className:"max-w-3xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:i.jsx(zr,{children:i.jsx(qr,{className:"pt-6",children:i.jsxs("div",{className:"text-center py-12",children:[i.jsx($r,{className:"w-16 h-16 text-yellow-500 mx-auto mb-4"}),i.jsx("p",{className:"text-lg text-gray-700 font-medium mb-2",children:"Aucun segment assign"}),i.jsx("p",{className:"text-sm text-gray-500",children:"Contactez un administrateur pour vous assigner des segments et villes."})]})})})})]}):i.jsxs("div",{className:"min-h-screen bg-gray-50",children:[i.jsx("header",{className:"bg-white shadow-sm",children:i.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-4",children:i.jsxs("div",{className:"flex items-center gap-4",children:[i.jsx(Aa,{to:"/dashboard",children:i.jsxs(Xe,{variant:"outline",size:"sm",children:[i.jsx($n,{className:"w-4 h-4 mr-2"}),"Retour"]})}),i.jsxs("div",{children:[i.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"Crer une Dclaration"}),i.jsx("p",{className:"text-sm text-gray-600",children:"Assigner une fiche de session  un professeur"})]})]})})}),i.jsx("main",{className:"max-w-3xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:i.jsxs("form",{onSubmit:H,children:[i.jsxs(zr,{children:[i.jsx(md,{children:i.jsx(pd,{children:"Informations de la dclaration"})}),i.jsxs(qr,{className:"space-y-6",children:[w&&i.jsxs("div",{className:"bg-red-50 border border-red-200 rounded-lg p-4 flex items-start gap-3",children:[i.jsx($r,{className:"w-5 h-5 text-red-600 flex-shrink-0 mt-0.5"}),i.jsx("p",{className:"text-sm text-red-800",children:w})]}),i.jsxs("div",{children:[i.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:["Segment ",i.jsx("span",{className:"text-red-500",children:"*"})]}),i.jsxs("select",{value:l,onChange:L=>o(L.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",required:!0,children:[i.jsx("option",{value:"",children:"Slectionnez un segment"}),r?.map(L=>i.jsx("option",{value:L.id,children:L.name},L.id))]})]}),l&&i.jsxs("div",{children:[i.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:["Ville ",i.jsx("span",{className:"text-red-500",children:"*"})]}),j.length>0?i.jsxs("select",{value:u,onChange:L=>d(L.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",required:!0,children:[i.jsx("option",{value:"",children:"Slectionnez une ville"}),j.map(L=>i.jsx("option",{value:L.id,children:L.name},L.id))]}):i.jsx("div",{className:"bg-yellow-50 border border-yellow-200 rounded-lg p-4",children:i.jsx("p",{className:"text-sm text-yellow-800",children:"Aucune ville assigne pour ce segment. Contactez un administrateur."})})]}),l&&u&&i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Fiche de calcul"}),C?i.jsx("div",{className:"text-sm text-gray-500",children:"Chargement..."}):P?i.jsxs("div",{className:"bg-blue-50 border border-blue-200 rounded-lg p-4",children:[i.jsx("p",{className:"text-sm font-medium text-blue-900",children:P.title}),i.jsxs("p",{className:"text-xs text-blue-700 mt-1",children:["Date: ",P.sheet_date]})]}):i.jsx("div",{className:"bg-red-50 border border-red-200 rounded-lg p-4",children:i.jsx("p",{className:"text-sm text-red-800",children:" Aucune fiche de calcul publie pour ce segment"})})]}),l&&u&&P&&i.jsxs("div",{children:[i.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:["Professeur ",i.jsx("span",{className:"text-red-500",children:"*"})]}),O?i.jsx("div",{className:"text-sm text-gray-500",children:"Chargement des professeurs..."}):T&&T.length>0?i.jsxs("select",{value:h,onChange:L=>m(L.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",required:!0,children:[i.jsx("option",{value:"",children:"Slectionnez un professeur"}),T.map(L=>i.jsxs("option",{value:L.id,children:[L.full_name," (",L.username,")"]},L.id))]}):i.jsx("div",{className:"bg-yellow-50 border border-yellow-200 rounded-lg p-4",children:i.jsx("p",{className:"text-sm text-yellow-800",children:"Aucun professeur n'a  la fois ce segment et cette ville assigns."})})]}),h&&i.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[i.jsxs("div",{children:[i.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:["Date de dbut ",i.jsx("span",{className:"text-red-500",children:"*"})]}),i.jsx("input",{type:"date",value:g,onChange:L=>x(L.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",required:!0})]}),i.jsxs("div",{children:[i.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:["Date de fin ",i.jsx("span",{className:"text-red-500",children:"*"})]}),i.jsx("input",{type:"date",value:b,onChange:L=>v(L.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",required:!0})]})]})]})]}),i.jsxs("div",{className:"mt-6 flex gap-3 justify-end",children:[i.jsx(Aa,{to:E,children:i.jsx(Xe,{type:"button",variant:"outline",children:"Annuler"})}),i.jsxs(Xe,{type:"submit",disabled:!l||!u||!h||!g||!b||!P||B.isPending,children:[i.jsx(cp,{className:"w-4 h-4 mr-2"}),B.isPending?"Cration...":"Crer la dclaration"]})]})]})})]})},wh={getSessions:()=>$e.get("/formations/sessions"),getSession:e=>$e.get(`/formations/sessions/${e}`),createSession:e=>$e.post("/formations/sessions",e),updateSession:(e,t)=>$e.put(`/formations/sessions/${e}`,t),deleteSession:e=>$e.delete(`/formations/sessions/${e}`),getSessionStudents:e=>$e.get(`/formations/sessions/${e}/students`),enrollStudents:(e,t)=>$e.post(`/formations/sessions/${e}/enroll`,t),unenrollStudent:(e,t)=>$e.delete(`/formations/sessions/${e}/enroll/${t}`),getAvailableStudents:e=>{const t=e?`?session_id=${e}`:"";return $e.get(`/formations/available-students${t}`)},getStats:()=>$e.get("/formations/stats")},Qa={all:["formations"],sessions:()=>[...Qa.all,"sessions"],session:e=>[...Qa.all,"session",e],sessionStudents:e=>[...Qa.all,"session",e,"students"],availableStudents:e=>[...Qa.all,"available-students",e||"all"],stats:()=>[...Qa.all,"stats"]};function OL(){return Jt({queryKey:Qa.sessions(),queryFn:wh.getSessions})}function Zse(e){return Jt({queryKey:Qa.session(e),queryFn:()=>wh.getSession(e),enabled:!!e})}function Jse(e){return Jt({queryKey:Qa.availableStudents(e),queryFn:()=>wh.getAvailableStudents(e)})}function eie(){return Jt({queryKey:Qa.stats(),queryFn:wh.getStats})}function tie(){const e=Tt();return Ot({mutationFn:t=>wh.deleteSession(t),onSuccess:()=>{e.invalidateQueries({queryKey:Qa.sessions()}),e.invalidateQueries({queryKey:Qa.stats()})}})}function rie(){const e=Tt();return Ot({mutationFn:({sessionId:t,data:r})=>wh.enrollStudents(t,r),onSuccess:(t,r)=>{e.invalidateQueries({queryKey:Qa.session(r.sessionId)}),e.invalidateQueries({queryKey:Qa.sessionStudents(r.sessionId)}),e.invalidateQueries({queryKey:Qa.sessions()}),e.invalidateQueries({queryKey:Qa.availableStudents()}),e.invalidateQueries({queryKey:Qa.stats()})}})}function nie(){const e=Tt();return Ot({mutationFn:({sessionId:t,studentId:r})=>wh.unenrollStudent(t,r),onSuccess:(t,r)=>{e.invalidateQueries({queryKey:Qa.session(r.sessionId)}),e.invalidateQueries({queryKey:Qa.sessionStudents(r.sessionId)}),e.invalidateQueries({queryKey:Qa.sessions()}),e.invalidateQueries({queryKey:Qa.availableStudents()}),e.invalidateQueries({queryKey:Qa.stats()})}})}const Mg={getAll:async e=>{const t=new URLSearchParams;e?.ville_id&&t.append("ville_id",e.ville_id),e?.segment_id&&t.append("segment_id",e.segment_id),e?.corps_formation_id&&t.append("corps_formation_id",e.corps_formation_id),e?.statut&&t.append("statut",e.statut),e?.annee&&t.append("annee",e.annee);const r=`/sessions-formation${t.toString()?"?"+t.toString():""}`;return(await $e.get(r)).sessions},getById:async e=>(await $e.get(`/sessions-formation/${e}`)).session,create:async e=>(await $e.post("/sessions-formation",e)).session,update:async(e,t)=>(await $e.put(`/sessions-formation/${e}`,t)).session,delete:async e=>{await $e.delete(`/sessions-formation/${e}`)},addEtudiant:async e=>(await $e.post(`/sessions-formation/${e.session_id}/etudiants`,{student_id:e.student_id,formation_id:e.formation_id,montant_total:e.montant_total,statut_paiement:e.statut_paiement})).inscription,updateEtudiant:async(e,t,r)=>(await $e.put(`/sessions-formation/${e}/etudiants/${t}`,r)).inscription,removeEtudiant:async(e,t)=>{await $e.delete(`/sessions-formation/${e}/etudiants/${t}`)},addProfesseur:async e=>(await $e.post(`/sessions-formation/${e.session_id}/professeurs`,{professeur_id:e.professeur_id})).affectation,removeProfesseur:async(e,t)=>{await $e.delete(`/sessions-formation/${e}/professeurs/${t}`)},addFichier:async e=>(await $e.post(`/sessions-formation/${e.session_id}/fichiers`,{type:e.type,titre:e.titre,file_url:e.file_url,file_name:e.file_name,file_size:e.file_size})).fichier,deleteFichier:async e=>{await $e.delete(`/sessions-formation/fichiers/${e}`)}},uu={all:["sessions-formation"],lists:()=>[...uu.all,"list"],list:e=>[...uu.lists(),{filters:e}],details:()=>[...uu.all,"detail"],detail:e=>[...uu.details(),e]};function aie(e){return Jt({queryKey:uu.list(e),queryFn:()=>Mg.getAll(e)})}function sie(e){return Jt({queryKey:uu.detail(e),queryFn:()=>Mg.getById(e),enabled:!!e})}function iie(){const e=Tt();return Ot({mutationFn:t=>Mg.create(t),onSuccess:()=>{e.invalidateQueries({queryKey:uu.lists()})}})}function lie(){const e=Tt();return Ot({mutationFn:({id:t,data:r})=>Mg.update(t,r),onSuccess:(t,{id:r})=>{e.invalidateQueries({queryKey:uu.lists()}),e.invalidateQueries({queryKey:uu.detail(r)})}})}function oie(){const e=Tt();return Ot({mutationFn:t=>Mg.delete(t),onSuccess:()=>{e.invalidateQueries({queryKey:uu.lists()})}})}const cie=({selectedSegmentId:e,selectedCityId:t,selectedCorpsId:r,onSegmentChange:n,onCityChange:a,onCorpsChange:s})=>{const[l,o]=k.useState([]),[u,d]=k.useState([]),[h,m]=k.useState([]),[g,x]=k.useState(!0),[b,v]=k.useState(!1),[w,N]=k.useState(!1);k.useEffect(()=>{E()},[]),k.useEffect(()=>{T()},[]),k.useEffect(()=>{e?j(e):(d([]),a(""))},[e]);const E=async()=>{try{x(!0);const C=await $e.get("/segments");o(C)}catch(C){console.error("Error fetching segments:",C)}finally{x(!1)}},j=async C=>{try{v(!0);const P=await $e.get(`/cities/by-segment/${C}`);d(P)}catch(P){console.error("Error fetching cities:",P),d([])}finally{v(!1)}},T=async()=>{try{N(!0);const C=await $e.get("/corps-formation");m(C.corps)}catch(C){console.error("Error fetching corps formations:",C),m([])}finally{N(!1)}},O=C=>{const P=C.target.value;console.log("[SessionFormationSelector] Segment changed:",P),n(P),a("")},D=C=>{a(C.target.value)};return i.jsxs("div",{className:"space-y-4",children:[i.jsxs("div",{children:[i.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:["Segment ",i.jsx("span",{className:"text-red-500",children:"*"})]}),i.jsxs("div",{className:"relative",children:[i.jsxs("select",{value:e,onChange:O,className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent appearance-none pr-10",disabled:g,children:[i.jsx("option",{value:"",children:"Slectionner un segment"}),l.map(C=>i.jsx("option",{value:C.id,children:C.name},C.id))]},`segment-select-${e||"empty"}`),i.jsx(Af,{className:"absolute right-3 top-1/2 transform -translate-y-1/2 h-5 w-5 text-gray-400 pointer-events-none"})]})]}),i.jsxs("div",{children:[i.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:["Ville ",i.jsx("span",{className:"text-red-500",children:"*"})]}),i.jsxs("div",{className:"relative",children:[i.jsxs("select",{value:t,onChange:D,className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent appearance-none pr-10 disabled:bg-gray-100 disabled:cursor-not-allowed",disabled:!e||b,children:[i.jsx("option",{value:"",children:e?b?"Chargement...":"Slectionner une ville":"Slectionner d'abord un segment"}),u.map(C=>i.jsxs("option",{value:C.id,children:[C.name," (",C.code,")"]},C.id))]},`city-select-${t||"empty"}`),i.jsx(Af,{className:"absolute right-3 top-1/2 transform -translate-y-1/2 h-5 w-5 text-gray-400 pointer-events-none"})]})]}),i.jsxs("div",{children:[i.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:["Corps de Formation ",i.jsx("span",{className:"text-red-500",children:"*"})]}),i.jsxs("div",{className:"relative",children:[i.jsxs("select",{value:r,onChange:C=>s(C.target.value),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent appearance-none pr-10 disabled:bg-gray-100 disabled:cursor-not-allowed",disabled:w,children:[i.jsx("option",{value:"",children:"Slectionner un corps de formation"}),h.map(C=>i.jsxs("option",{value:C.id,children:[C.name," ",C.formations_count?`(${C.formations_count})`:""]},C.id))]},`corps-select-${r||"empty"}`),i.jsx(Af,{className:"absolute right-3 top-1/2 transform -translate-y-1/2 h-5 w-5 text-gray-400 pointer-events-none"})]})]})]})},b4=({session:e,onClose:t})=>{const r=!!e,n=iie(),a=lie(),[s,l]=k.useState({name:e?.name||"",description:e?.description||"",corps_formation_id:e?.corps_formation_id||"",start_date:e?.start_date?e.start_date.split("T")[0]:"",end_date:e?.end_date?e.end_date.split("T")[0]:"",segment_id:e?.segment_id||"",city_id:e?.city_id||"",instructor_id:e?.instructor_id||"",max_capacity:e?.max_capacity?.toString()||"",status:e?.status||"planned"}),[o,u]=k.useState({}),[d,h]=k.useState(!1),m=()=>{const x={};return s.name.trim()||(x.name="Le nom est obligatoire"),s.start_date||(x.start_date="La date de dbut est obligatoire"),s.end_date||(x.end_date="La date de fin est obligatoire"),s.start_date&&s.end_date&&s.start_date>s.end_date&&(x.end_date="La date de fin doit tre aprs la date de dbut"),s.max_capacity&&parseInt(s.max_capacity)<1&&(x.max_capacity="La capacit doit tre suprieure  0"),s.corps_formation_id||(x.corps="Le corps de formation est obligatoire"),s.segment_id||(x.segment="Le segment est obligatoire"),s.city_id||(x.city="La ville est obligatoire"),u(x),Object.keys(x).length===0},g=async x=>{if(x.preventDefault(),!!m()){h(!0);try{const b={planned:"planifiee",active:"en_cours",completed:"terminee",cancelled:"annulee"},v={titre:s.name.trim(),description:s.description.trim()||void 0,corps_formation_id:s.corps_formation_id,date_debut:s.start_date,date_fin:s.end_date,segment_id:s.segment_id,ville_id:s.city_id,nombre_places:s.max_capacity?parseInt(s.max_capacity):0,statut:b[s.status],prix_total:0};r&&e?await a.mutateAsync({id:e.id,data:v}):await n.mutateAsync(v),t()}catch(b){console.error("Error saving session:",b),u({submit:b.message||"Erreur lors de l'enregistrement"})}finally{h(!1)}}};return i.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center p-4 z-50",children:i.jsxs("div",{className:"bg-white rounded-lg shadow-xl max-w-2xl w-full max-h-[90vh] overflow-y-auto",children:[i.jsxs("div",{className:"flex items-center justify-between p-6 border-b",children:[i.jsxs("div",{className:"flex items-center gap-3",children:[i.jsx("div",{className:"p-2 bg-blue-100 rounded-lg",children:i.jsx(Ia,{className:"h-5 w-5 text-blue-600"})}),i.jsxs("div",{children:[i.jsx("h2",{className:"text-xl font-semibold text-gray-900",children:r?"Modifier la session":"Nouvelle session"}),i.jsx("p",{className:"text-sm text-gray-500 mt-0.5",children:r?"Mettez  jour les informations de la session":"Crez une nouvelle session de formation"})]})]}),i.jsx(Xe,{variant:"ghost",size:"icon",onClick:t,children:i.jsx(En,{className:"h-5 w-5"})})]}),i.jsxs("form",{onSubmit:g,className:"p-6 space-y-6",children:[o.submit&&i.jsxs("div",{className:"bg-red-50 border border-red-200 rounded-lg p-4 flex items-start gap-3",children:[i.jsx($r,{className:"h-5 w-5 text-red-600 flex-shrink-0 mt-0.5"}),i.jsx("p",{className:"text-sm text-red-700",children:o.submit})]}),i.jsxs("div",{children:[i.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:["Nom de la session ",i.jsx("span",{className:"text-red-500",children:"*"})]}),i.jsx(Qr,{value:s.name,onChange:x=>l({...s,name:x.target.value}),placeholder:"Ex: Formation React Avanc",className:o.name?"border-red-300":""}),o.name&&i.jsx("p",{className:"text-xs text-red-600 mt-1",children:o.name})]}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Description"}),i.jsx("textarea",{value:s.description,onChange:x=>l({...s,description:x.target.value}),placeholder:"Description de la session...",rows:3,className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent text-sm"})]}),i.jsx(cie,{selectedSegmentId:s.segment_id,selectedCityId:s.city_id,selectedCorpsId:s.corps_formation_id,onSegmentChange:x=>l(b=>({...b,segment_id:x})),onCityChange:x=>l(b=>({...b,city_id:x})),onCorpsChange:x=>l(b=>({...b,corps_formation_id:x}))}),o.corps&&i.jsx("p",{className:"text-xs text-red-600 mt-1",children:o.corps}),o.segment&&i.jsx("p",{className:"text-xs text-red-600 mt-1",children:o.segment}),o.city&&i.jsx("p",{className:"text-xs text-red-600 mt-1",children:o.city}),i.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4",children:[i.jsxs("div",{children:[i.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:["Date de dbut ",i.jsx("span",{className:"text-red-500",children:"*"})]}),i.jsx(Qr,{type:"date",value:s.start_date,onChange:x=>l({...s,start_date:x.target.value}),className:o.start_date?"border-red-300":""}),o.start_date&&i.jsx("p",{className:"text-xs text-red-600 mt-1",children:o.start_date})]}),i.jsxs("div",{children:[i.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:["Date de fin ",i.jsx("span",{className:"text-red-500",children:"*"})]}),i.jsx(Qr,{type:"date",value:s.end_date,onChange:x=>l({...s,end_date:x.target.value}),className:o.end_date?"border-red-300":""}),o.end_date&&i.jsx("p",{className:"text-xs text-red-600 mt-1",children:o.end_date})]})]}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Capacit maximale"}),i.jsx(Qr,{type:"number",min:"1",value:s.max_capacity,onChange:x=>l({...s,max_capacity:x.target.value}),placeholder:"Laissez vide pour illimit",className:o.max_capacity?"border-red-300":""}),o.max_capacity&&i.jsx("p",{className:"text-xs text-red-600 mt-1",children:o.max_capacity})]}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Statut"}),i.jsxs("select",{value:s.status,onChange:x=>l({...s,status:x.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent text-sm",children:[i.jsx("option",{value:"planned",children:"Planifie"}),i.jsx("option",{value:"active",children:"Active"}),i.jsx("option",{value:"completed",children:"Termine"}),i.jsx("option",{value:"cancelled",children:"Annule"})]})]}),i.jsxs("div",{className:"flex items-center justify-end gap-3 pt-4 border-t",children:[i.jsx(Xe,{type:"button",variant:"outline",onClick:t,disabled:d,children:"Annuler"}),i.jsx(Xe,{type:"submit",disabled:d,className:"min-w-[100px]",children:d?i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsx("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-white"}),i.jsx("span",{children:"..."})]}):r?"Enregistrer":"Crer"})]})]})]})})},uie=({student:e,onClose:t})=>{const r=Tt(),[n,a]=k.useState(!1),[s,l]=k.useState({amount:"",payment_date:new Date().toISOString().split("T")[0],payment_method:"especes",note:""}),[o,u]=k.useState({}),{data:d=[],isLoading:h}=Jt({queryKey:["student-payments",e.enrollment_id],queryFn:async()=>{const j=await fetch(`/api/formations/enrollments/${e.enrollment_id}/payments`);if(!j.ok)throw new Error("Failed to fetch payments");return j.json()}}),m=Ot({mutationFn:async j=>{const T=await fetch(`/api/formations/enrollments/${e.enrollment_id}/payments`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({...j,amount:parseFloat(j.amount)})});if(!T.ok)throw new Error("Failed to add payment");return T.json()},onSuccess:()=>{r.invalidateQueries({queryKey:["student-payments",e.enrollment_id]}),r.invalidateQueries({queryKey:["session-students"]}),l({amount:"",payment_date:new Date().toISOString().split("T")[0],payment_method:"especes",note:""}),a(!1),u({})}}),g=Ot({mutationFn:async j=>{const T=await fetch(`/api/formations/enrollments/${e.enrollment_id}/payments/${j}`,{method:"DELETE"});if(!T.ok)throw new Error("Failed to delete payment");return T.json()},onSuccess:()=>{r.invalidateQueries({queryKey:["student-payments",e.enrollment_id]}),r.invalidateQueries({queryKey:["session-students"]})}}),x=()=>{const j={};return(!s.amount||parseFloat(s.amount)<=0)&&(j.amount="Le montant doit tre suprieur  0"),s.payment_date||(j.payment_date="La date est obligatoire"),u(j),Object.keys(j).length===0},b=async j=>{if(j.preventDefault(),!!x())try{await m.mutateAsync(s)}catch(T){u({submit:T.message||"Erreur lors de l'ajout du paiement"})}},v=async j=>{if(window.confirm("tes-vous sr de vouloir supprimer ce paiement ?"))try{await g.mutateAsync(j)}catch{alert("Erreur lors de la suppression du paiement")}},w=j=>({paye:"bg-green-100 text-green-700",partiel:"bg-orange-100 text-orange-700",impaye:"bg-red-100 text-red-700",surpaye:"bg-blue-100 text-blue-700"})[j]||"bg-gray-100 text-gray-700",N=j=>({paye:"Pay",partiel:"Partiellement pay",impaye:"Impay",surpaye:"Surpay"})[j]||j,E=j=>new Date(j).toLocaleDateString("fr-FR",{day:"2-digit",month:"2-digit",year:"numeric"});return i.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center p-4 z-50",children:i.jsxs("div",{className:"bg-white rounded-lg shadow-xl max-w-3xl w-full max-h-[90vh] overflow-y-auto",children:[i.jsxs("div",{className:"flex items-center justify-between p-6 border-b",children:[i.jsxs("div",{className:"flex items-center gap-3",children:[i.jsx("div",{className:"p-2 bg-green-100 rounded-lg",children:i.jsx(L0,{className:"h-5 w-5 text-green-600"})}),i.jsxs("div",{children:[i.jsx("h2",{className:"text-xl font-semibold text-gray-900",children:"Gestion des paiements"}),i.jsx("p",{className:"text-sm text-gray-500 mt-0.5",children:e.student_name})]})]}),i.jsx(Xe,{variant:"ghost",size:"icon",onClick:t,children:i.jsx(En,{className:"h-5 w-5"})})]}),i.jsx("div",{className:"p-6 bg-gray-50 border-b",children:i.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-4 gap-4",children:[i.jsxs("div",{children:[i.jsx("p",{className:"text-xs text-gray-500 mb-1",children:"Prix formation"}),i.jsxs("p",{className:"text-lg font-bold text-gray-900",children:[e.formation_price?parseFloat(String(e.formation_price)).toFixed(2):"0.00"," MAD"]})]}),i.jsxs("div",{children:[i.jsx("p",{className:"text-xs text-gray-500 mb-1",children:"Remise"}),i.jsxs("p",{className:"text-lg font-bold text-purple-600",children:["-",e.discount_amount?parseFloat(String(e.discount_amount)).toFixed(2):"0.00"," MAD"]})]}),i.jsxs("div",{children:[i.jsx("p",{className:"text-xs text-gray-500 mb-1",children:"Total pay"}),i.jsxs("p",{className:"text-lg font-bold text-blue-600",children:[e.total_paid?parseFloat(String(e.total_paid)).toFixed(2):"0.00"," MAD"]})]}),i.jsxs("div",{children:[i.jsx("p",{className:"text-xs text-gray-500 mb-1",children:"Reste  payer"}),i.jsxs("p",{className:`text-lg font-bold ${parseFloat(String(e.remaining_amount||0))<0?"text-blue-600":parseFloat(String(e.remaining_amount||0))===0?"text-green-600":"text-red-600"}`,children:[e.remaining_amount?parseFloat(String(e.remaining_amount)).toFixed(2):"0.00"," MAD"]}),e.payment_status&&i.jsx("span",{className:`inline-block mt-1 px-2 py-0.5 rounded-full text-xs font-medium ${w(e.payment_status)}`,children:N(e.payment_status)})]})]})}),i.jsxs("div",{className:"p-6",children:[!n&&i.jsxs(Xe,{onClick:()=>a(!0),className:"mb-4",size:"sm",children:[i.jsx(ra,{className:"h-4 w-4 mr-2"}),"Ajouter un paiement"]}),n&&i.jsxs("div",{className:"mb-6 p-4 bg-blue-50 rounded-lg border border-blue-200",children:[i.jsx("h3",{className:"font-medium text-gray-900 mb-3",children:"Nouveau paiement"}),o.submit&&i.jsxs("div",{className:"mb-3 bg-red-50 border border-red-200 rounded-lg p-3 flex items-start gap-2",children:[i.jsx($r,{className:"h-5 w-5 text-red-600 flex-shrink-0 mt-0.5"}),i.jsx("p",{className:"text-sm text-red-700",children:o.submit})]}),i.jsxs("form",{onSubmit:b,className:"space-y-3",children:[i.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-3",children:[i.jsxs("div",{children:[i.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:["Montant (MAD) ",i.jsx("span",{className:"text-red-500",children:"*"})]}),i.jsx(Qr,{type:"number",step:"0.01",min:"0.01",value:s.amount,onChange:j=>l({...s,amount:j.target.value}),placeholder:"0.00",className:o.amount?"border-red-300":""}),o.amount&&i.jsx("p",{className:"text-xs text-red-600 mt-1",children:o.amount})]}),i.jsxs("div",{children:[i.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:["Date ",i.jsx("span",{className:"text-red-500",children:"*"})]}),i.jsx(Qr,{type:"date",value:s.payment_date,onChange:j=>l({...s,payment_date:j.target.value}),className:o.payment_date?"border-red-300":""}),o.payment_date&&i.jsx("p",{className:"text-xs text-red-600 mt-1",children:o.payment_date})]})]}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Mthode de paiement"}),i.jsxs("select",{value:s.payment_method,onChange:j=>l({...s,payment_method:j.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent text-sm",children:[i.jsx("option",{value:"especes",children:"Espces"}),i.jsx("option",{value:"virement",children:"Virement"}),i.jsx("option",{value:"cheque",children:"Chque"}),i.jsx("option",{value:"carte",children:"Carte bancaire"}),i.jsx("option",{value:"autre",children:"Autre"})]})]}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Note"}),i.jsx("textarea",{value:s.note,onChange:j=>l({...s,note:j.target.value}),placeholder:"Note optionnelle...",rows:2,className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent text-sm"})]}),i.jsxs("div",{className:"flex items-center justify-end gap-2 pt-2",children:[i.jsx(Xe,{type:"button",variant:"outline",size:"sm",onClick:()=>{a(!1),u({}),l({amount:"",payment_date:new Date().toISOString().split("T")[0],payment_method:"especes",note:""})},children:"Annuler"}),i.jsx(Xe,{type:"submit",size:"sm",disabled:m.isPending,children:m.isPending?"Ajout...":"Ajouter"})]})]})]}),i.jsxs("div",{children:[i.jsx("h3",{className:"font-medium text-gray-900 mb-3",children:"Historique des paiements"}),h?i.jsx("div",{className:"text-center py-8 text-gray-500",children:"Chargement..."}):d.length===0?i.jsx("div",{className:"text-center py-8 text-gray-500",children:"Aucun paiement enregistr"}):i.jsx("div",{className:"space-y-2",children:d.map(j=>i.jsxs("div",{className:"flex items-center justify-between p-3 bg-white border border-gray-200 rounded-lg hover:bg-gray-50",children:[i.jsxs("div",{className:"flex-1",children:[i.jsxs("div",{className:"flex items-center gap-3",children:[i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsx(Ia,{className:"h-4 w-4 text-gray-400"}),i.jsx("span",{className:"text-sm font-medium text-gray-900",children:E(j.payment_date)})]}),i.jsxs("span",{className:"text-lg font-bold text-green-600",children:[parseFloat(String(j.amount)).toFixed(2)," MAD"]}),j.payment_method&&i.jsxs("span",{className:"text-xs text-gray-500 capitalize",children:["(",j.payment_method,")"]})]}),j.note&&i.jsx("p",{className:"text-xs text-gray-500 mt-1",children:j.note})]}),i.jsx(Xe,{variant:"ghost",size:"icon",onClick:()=>v(j.id),disabled:g.isPending,className:"text-red-600 hover:text-red-700 hover:bg-red-50",children:i.jsx(An,{className:"h-4 w-4"})})]},j.id))})]})]}),i.jsx("div",{className:"flex items-center justify-end gap-3 p-6 border-t bg-gray-50",children:i.jsx(Xe,{onClick:t,children:"Fermer"})})]})})},die=({session:e,onClose:t})=>{const{data:r,isLoading:n}=Zse(e.id),{data:a=[]}=Jse(e.id),s=rie(),l=nie(),[o,u]=k.useState([]),[d,h]=k.useState(""),[m,g]=k.useState(!1),[x,b]=k.useState(null),[v,w]=k.useState(null),N=r?.students||[],E=a.filter(H=>H.full_name.toLowerCase().includes(d.toLowerCase())||H.username.toLowerCase().includes(d.toLowerCase())),j=async()=>{if(o.length===0){b("Veuillez slectionner au moins un tudiant");return}g(!0),b(null);try{await s.mutateAsync({sessionId:e.id,data:{student_ids:o}}),u([]),h("")}catch(H){console.error("Error enrolling students:",H),b(H.message||"Erreur lors de l'inscription des tudiants")}finally{g(!1)}},T=async(H,L)=>{if(window.confirm(`tes-vous sr de vouloir dsinscrire ${L} de cette session ?`))try{await l.mutateAsync({sessionId:e.id,studentId:H})}catch(U){console.error("Error unenrolling student:",U),b(U.message||"Erreur lors de la dsinscription")}},O=H=>{u(L=>L.includes(H)?L.filter(U=>U!==H):[...L,H])},D=H=>{const L={enrolled:{bg:"bg-blue-100",text:"text-blue-700",label:"Inscrit"},completed:{bg:"bg-green-100",text:"text-green-700",label:"Termin"},dropped:{bg:"bg-gray-100",text:"text-gray-700",label:"Abandonn"}},U=L[H]||L.enrolled;return i.jsx("span",{className:`px-2 py-1 inline-flex text-xs leading-5 font-semibold rounded-full ${U.bg} ${U.text}`,children:U.label})},C=H=>{if(!H)return null;const U={paye:{bg:"bg-green-100",text:"text-green-700",label:"Pay"},partiel:{bg:"bg-orange-100",text:"text-orange-700",label:"Partiel"},impaye:{bg:"bg-red-100",text:"text-red-700",label:"Impay"},surpaye:{bg:"bg-blue-100",text:"text-blue-700",label:"Surpay"}}[H];return U?i.jsx("span",{className:`px-2 py-1 inline-flex text-xs leading-5 font-semibold rounded-full ${U.bg} ${U.text}`,children:U.label}):null},P=async H=>{const L=H.validation_status==="valide"?"non_valide":"valide";try{if(!(await fetch(`/api/formations/enrollments/${H.enrollment_id}/validation`,{method:"PATCH",headers:{"Content-Type":"application/json"},body:JSON.stringify({validation_status:L,validated_by:L==="valide"?"current_user_id":null})})).ok)throw new Error("Failed to update validation");window.location.reload()}catch{b("Erreur lors de la mise  jour du statut de validation")}},B=e.max_capacity?N.length>=e.max_capacity:!1;return i.jsxs("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center p-4 z-50 overflow-y-auto",children:[i.jsxs("div",{className:"bg-white rounded-lg shadow-xl w-[95vw] max-w-7xl my-8",children:[i.jsxs("div",{className:"flex items-center justify-between p-6 border-b",children:[i.jsxs("div",{className:"flex items-center gap-3",children:[i.jsx(fs,{className:"h-6 w-6 text-blue-600"}),i.jsxs("div",{children:[i.jsx("h2",{className:"text-xl font-semibold text-gray-900",children:"Gestion des inscriptions"}),i.jsx("p",{className:"text-sm text-gray-500 mt-1",children:e.name})]})]}),i.jsx("button",{onClick:t,className:"text-gray-400 hover:text-gray-600 transition-colors",children:i.jsx(En,{className:"h-5 w-5"})})]}),i.jsxs("div",{className:"p-6 max-h-[calc(95vh-140px)] overflow-y-auto",children:[x&&i.jsxs("div",{className:"bg-red-50 border border-red-200 rounded-lg p-4 flex items-start gap-3 mb-6",children:[i.jsx($r,{className:"h-5 w-5 text-red-600 flex-shrink-0 mt-0.5"}),i.jsx("p",{className:"text-sm text-red-800",children:x})]}),n?i.jsx("div",{className:"flex justify-center items-center py-12",children:i.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-blue-600"})}):i.jsxs("div",{className:"space-y-6",children:[i.jsxs("div",{className:"bg-gray-50 rounded-lg p-4",children:[i.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4",children:[i.jsxs("div",{children:[i.jsx("p",{className:"text-xs text-gray-500",children:"Inscrits"}),i.jsxs("p",{className:"text-lg font-semibold text-gray-900",children:[N.length,e.max_capacity&&` / ${e.max_capacity}`]})]}),i.jsxs("div",{children:[i.jsx("p",{className:"text-xs text-gray-500",children:"Formation(s)"}),i.jsx("p",{className:"text-sm font-medium text-gray-900",children:r?.formations&&r.formations.length>0?r.formations.map(H=>H.title).join(", "):"Aucune"})]}),i.jsxs("div",{children:[i.jsx("p",{className:"text-xs text-gray-500",children:"Segment"}),i.jsx("p",{className:"text-sm font-medium text-gray-900",children:e.segment_name||"-"})]}),i.jsxs("div",{children:[i.jsx("p",{className:"text-xs text-gray-500",children:"Ville"}),i.jsx("p",{className:"text-sm font-medium text-gray-900",children:e.city_name||"-"})]})]}),B&&i.jsx("div",{className:"mt-3 bg-yellow-50 border border-yellow-200 rounded p-2",children:i.jsx("p",{className:"text-xs text-yellow-800",children:" Capacit maximale atteinte"})})]}),i.jsxs("div",{children:[i.jsxs("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:["tudiants inscrits (",N.length,")"]}),N.length===0?i.jsxs("div",{className:"text-center py-8 bg-gray-50 rounded-lg",children:[i.jsx(fs,{className:"h-12 w-12 text-gray-400 mx-auto mb-3"}),i.jsx("p",{className:"text-sm text-gray-500",children:"Aucun tudiant inscrit"})]}):i.jsx("div",{className:"border rounded-lg overflow-hidden",children:i.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[i.jsx("thead",{className:"bg-gray-50",children:i.jsxs("tr",{children:[i.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase",children:"tudiant"}),i.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase",children:"Paiement"}),i.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase",children:"Validation"}),i.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase",children:"Statut"}),i.jsx("th",{className:"px-4 py-3 text-right text-xs font-medium text-gray-500 uppercase",children:"Actions"})]})}),i.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:N.map(H=>i.jsxs("tr",{className:"hover:bg-gray-50",children:[i.jsx("td",{className:"px-4 py-3",children:i.jsxs("div",{children:[i.jsx("p",{className:"text-sm font-medium text-gray-900",children:H.student_name}),i.jsxs("p",{className:"text-xs text-gray-500",children:["@",H.student_username]})]})}),i.jsx("td",{className:"px-4 py-3",children:i.jsxs("div",{className:"space-y-1",children:[C(H.payment_status),H.remaining_amount!==void 0&&i.jsxs("p",{className:"text-xs text-gray-500",children:["Reste: ",H.remaining_amount.toFixed(2)," MAD"]})]})}),i.jsx("td",{className:"px-4 py-3",children:i.jsx("button",{onClick:()=>P(H),className:`p-1.5 rounded-full ${H.validation_status==="valide"?"bg-green-100 text-green-600 hover:bg-green-200":"bg-gray-100 text-gray-400 hover:bg-gray-200"}`,title:H.validation_status==="valide"?"Valid":"Non valid",children:H.validation_status==="valide"?i.jsx(Za,{className:"h-5 w-5"}):i.jsx(xd,{className:"h-5 w-5"})})}),i.jsx("td",{className:"px-4 py-3",children:D(H.enrollment_status)}),i.jsx("td",{className:"px-4 py-3 text-right",children:i.jsxs("div",{className:"flex items-center justify-end gap-1",children:[i.jsx("button",{onClick:()=>w(H),className:"text-green-600 hover:text-green-700 hover:bg-green-50 p-2 rounded",title:"Grer paiements",children:i.jsx(L0,{className:"h-4 w-4"})}),i.jsx("button",{onClick:()=>T(H.student_id,H.student_name),className:"text-red-600 hover:text-red-700 hover:bg-red-50 p-2 rounded",title:"Dsinscrire",children:i.jsx(An,{className:"h-4 w-4"})})]})})]},H.enrollment_id))})]})})]}),i.jsxs("div",{children:[i.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Ajouter des tudiants"}),i.jsx("div",{className:"mb-4",children:i.jsxs("div",{className:"relative",children:[i.jsx(mh,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 h-4 w-4 text-gray-400"}),i.jsx("input",{type:"text",value:d,onChange:H=>h(H.target.value),placeholder:"Rechercher un tudiant...",className:"w-full pl-10 pr-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent"})]})}),E.length===0?i.jsx("div",{className:"text-center py-8 bg-gray-50 rounded-lg",children:i.jsx("p",{className:"text-sm text-gray-500",children:d?"Aucun tudiant trouv":"Tous les tudiants sont dj inscrits"})}):i.jsx("div",{className:"border rounded-lg max-h-64 overflow-y-auto",children:i.jsx("div",{className:"divide-y divide-gray-200",children:E.map(H=>i.jsxs("label",{className:"flex items-center p-3 hover:bg-gray-50 cursor-pointer",children:[i.jsx("input",{type:"checkbox",checked:o.includes(H.id),onChange:()=>O(H.id),className:"h-4 w-4 text-blue-600 border-gray-300 rounded focus:ring-blue-500"}),i.jsxs("div",{className:"ml-3 flex-1",children:[i.jsx("p",{className:"text-sm font-medium text-gray-900",children:H.full_name}),i.jsxs("p",{className:"text-xs text-gray-500",children:["@",H.username]})]})]},H.id))})}),o.length>0&&i.jsxs("div",{className:"mt-4 flex items-center justify-between bg-blue-50 border border-blue-200 rounded-lg p-3",children:[i.jsxs("p",{className:"text-sm text-blue-800",children:[o.length," tudiant(s) slectionn(s)"]}),i.jsx(Xe,{onClick:j,disabled:m||B,className:"flex items-center gap-2",children:m?i.jsxs(i.Fragment,{children:[i.jsx("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-white"}),i.jsx("span",{children:"Inscription..."})]}):i.jsxs(i.Fragment,{children:[i.jsx(yW,{className:"h-4 w-4"}),i.jsx("span",{children:"Inscrire"})]})})]})]})]})]}),i.jsx("div",{className:"flex justify-end gap-3 p-6 border-t bg-gray-50",children:i.jsx(Xe,{variant:"outline",onClick:t,children:"Fermer"})})]}),v&&i.jsx(uie,{student:v,onClose:()=>w(null)})]})},fie=()=>{const{data:e,isLoading:t,error:r}=OL(),{data:n}=eie(),a=tie(),[s,l]=k.useState(!1),[o,u]=k.useState(null),[d,h]=k.useState(null),m=async b=>{if(window.confirm(`tes-vous sr de vouloir supprimer la session "${b.name}" ?`))try{await a.mutateAsync(b.id)}catch(v){console.error("Error deleting session:",v),alert("Erreur lors de la suppression de la session")}},g=b=>({planned:"bg-blue-100 text-blue-700",active:"bg-green-100 text-green-700",completed:"bg-gray-100 text-gray-700",cancelled:"bg-red-100 text-red-700"})[b]||"bg-gray-100 text-gray-700",x=b=>({planned:"Planifie",active:"Active",completed:"Termine",cancelled:"Annule"})[b]||b;return i.jsxs(kn,{title:"Sessions de Formation",subtitle:"Grer les sessions et les inscriptions",children:[i.jsxs("div",{className:"space-y-6",children:[n&&i.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-5 gap-4",children:[i.jsx("div",{className:"bg-white rounded-lg shadow-sm border p-4",children:i.jsxs("div",{className:"flex items-center gap-3",children:[i.jsx("div",{className:"p-2 bg-blue-100 rounded-lg",children:i.jsx(Ia,{className:"h-5 w-5 text-blue-600"})}),i.jsxs("div",{children:[i.jsx("p",{className:"text-sm text-gray-600",children:"Total Sessions"}),i.jsx("p",{className:"text-2xl font-bold text-gray-900",children:n.sessions.total})]})]})}),i.jsx("div",{className:"bg-white rounded-lg shadow-sm border p-4",children:i.jsxs("div",{className:"flex items-center gap-3",children:[i.jsx("div",{className:"p-2 bg-blue-100 rounded-lg",children:i.jsx(Ia,{className:"h-5 w-5 text-blue-600"})}),i.jsxs("div",{children:[i.jsx("p",{className:"text-sm text-gray-600",children:"Planifies"}),i.jsx("p",{className:"text-2xl font-bold text-blue-600",children:n.sessions.planned})]})]})}),i.jsx("div",{className:"bg-white rounded-lg shadow-sm border p-4",children:i.jsxs("div",{className:"flex items-center gap-3",children:[i.jsx("div",{className:"p-2 bg-green-100 rounded-lg",children:i.jsx(Ia,{className:"h-5 w-5 text-green-600"})}),i.jsxs("div",{children:[i.jsx("p",{className:"text-sm text-gray-600",children:"Actives"}),i.jsx("p",{className:"text-2xl font-bold text-green-600",children:n.sessions.active})]})]})}),i.jsx("div",{className:"bg-white rounded-lg shadow-sm border p-4",children:i.jsxs("div",{className:"flex items-center gap-3",children:[i.jsx("div",{className:"p-2 bg-gray-100 rounded-lg",children:i.jsx(Ia,{className:"h-5 w-5 text-gray-600"})}),i.jsxs("div",{children:[i.jsx("p",{className:"text-sm text-gray-600",children:"Termines"}),i.jsx("p",{className:"text-2xl font-bold text-gray-600",children:n.sessions.completed})]})]})}),i.jsx("div",{className:"bg-white rounded-lg shadow-sm border p-4",children:i.jsxs("div",{className:"flex items-center gap-3",children:[i.jsx("div",{className:"p-2 bg-purple-100 rounded-lg",children:i.jsx(fs,{className:"h-5 w-5 text-purple-600"})}),i.jsxs("div",{children:[i.jsx("p",{className:"text-sm text-gray-600",children:"tudiants Inscrits"}),i.jsx("p",{className:"text-2xl font-bold text-purple-600",children:n.total_students_enrolled})]})]})})]}),i.jsxs("div",{className:"flex flex-col sm:flex-row justify-between items-start sm:items-center gap-4",children:[i.jsxs("div",{children:[i.jsx("h2",{className:"text-xl font-semibold text-gray-900",children:"Liste des sessions"}),i.jsx("p",{className:"text-sm text-gray-600 mt-1",children:"Grez les sessions de formation et les inscriptions"})]}),i.jsxs(Xe,{onClick:()=>l(!0),className:"flex items-center gap-2",children:[i.jsx(ra,{className:"h-4 w-4"}),"Nouvelle session"]})]}),t&&i.jsx("div",{className:"flex justify-center items-center py-12",children:i.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-blue-600"})}),r&&i.jsxs("div",{className:"bg-red-50 border border-red-200 rounded-lg p-4 flex items-start gap-3",children:[i.jsx($r,{className:"h-5 w-5 text-red-600 flex-shrink-0 mt-0.5"}),i.jsxs("div",{children:[i.jsx("p",{className:"text-sm font-medium text-red-800",children:"Erreur de chargement"}),i.jsx("p",{className:"text-sm text-red-700 mt-1",children:r.message})]})]}),e&&e.length>0&&i.jsx("div",{className:"bg-white rounded-lg shadow-sm border overflow-hidden",children:i.jsx("div",{className:"overflow-x-auto",children:i.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[i.jsx("thead",{className:"bg-gray-50",children:i.jsxs("tr",{children:[i.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Session"}),i.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Formation"}),i.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Segment"}),i.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Ville"}),i.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Dates"}),i.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Inscrits"}),i.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Statut"}),i.jsx("th",{className:"px-6 py-3 text-right text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Actions"})]})}),i.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:e.map(b=>i.jsxs("tr",{className:"hover:bg-gray-50",children:[i.jsx("td",{className:"px-6 py-4",children:i.jsxs("div",{children:[i.jsx("p",{className:"text-sm font-medium text-gray-900",children:b.name}),b.description&&i.jsx("p",{className:"text-xs text-gray-500 mt-1 line-clamp-2",children:b.description})]})}),i.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:b.formation_title?i.jsx("div",{className:"flex items-center gap-2",children:i.jsx("span",{className:"inline-flex items-center px-2 py-1 rounded-full text-xs font-medium bg-green-100 text-green-700",children:b.formation_title})}):i.jsx("p",{className:"text-sm text-gray-400",children:"Aucune formation"})}),i.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:i.jsx("p",{className:"text-sm text-gray-900",children:b.segment_name||"-"})}),i.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:i.jsx("p",{className:"text-sm text-gray-900",children:b.city_name||"-"})}),i.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:i.jsxs("div",{className:"text-sm",children:[i.jsx("p",{className:"text-gray-900",children:new Date(b.start_date).toLocaleDateString("fr-FR")}),i.jsx("p",{className:"text-gray-500",children:new Date(b.end_date).toLocaleDateString("fr-FR")})]})}),i.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsx(fs,{className:"h-4 w-4 text-gray-400"}),i.jsxs("span",{className:"text-sm text-gray-900",children:[b.enrolled_count||0,b.max_capacity&&` / ${b.max_capacity}`]})]})}),i.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:i.jsx("span",{className:`px-2 py-1 inline-flex text-xs leading-5 font-semibold rounded-full ${g(b.status)}`,children:x(b.status)})}),i.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-right text-sm font-medium",children:i.jsxs("div",{className:"flex items-center justify-end gap-2",children:[i.jsx(Xe,{variant:"ghost",size:"sm",onClick:()=>h(b),className:"text-purple-600 hover:text-purple-700 hover:bg-purple-50",children:i.jsx(fs,{className:"h-4 w-4"})}),i.jsx(Xe,{variant:"ghost",size:"sm",onClick:()=>u(b),className:"text-blue-600 hover:text-blue-700 hover:bg-blue-50",children:i.jsx(Km,{className:"h-4 w-4"})}),i.jsx(Xe,{variant:"ghost",size:"sm",onClick:()=>m(b),className:"text-red-600 hover:text-red-700 hover:bg-red-50",children:i.jsx(An,{className:"h-4 w-4"})})]})})]},b.id))})]})})}),e&&e.length===0&&!t&&i.jsxs("div",{className:"bg-white rounded-lg shadow-sm border p-12 text-center",children:[i.jsx(Ia,{className:"h-12 w-12 text-gray-400 mx-auto mb-4"}),i.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"Aucune session"}),i.jsx("p",{className:"text-sm text-gray-500 mb-6",children:"Commencez par crer votre premire session de formation"}),i.jsxs(Xe,{onClick:()=>l(!0),className:"flex items-center gap-2",children:[i.jsx(ra,{className:"h-4 w-4"}),"Crer une session"]})]})]}),s&&i.jsx(b4,{onClose:()=>l(!1)}),o&&i.jsx(b4,{session:o,onClose:()=>u(null)}),d&&i.jsx(die,{session:d,onClose:()=>h(null)})]})},Ts={getFormations:()=>$e.get("/cours/formations"),getFormation:e=>$e.get(`/cours/formations/${e}`),createFormation:e=>$e.post("/cours/formations",e),updateFormation:(e,t)=>$e.put(`/cours/formations/${e}`,t),deleteFormation:e=>$e.delete(`/cours/formations/${e}`),getModules:e=>$e.get(`/cours/formations/${e}/modules`),createModule:(e,t)=>$e.post(`/cours/formations/${e}/modules`,t),updateModule:(e,t)=>$e.put(`/cours/modules/${e}`,t),deleteModule:e=>$e.delete(`/cours/modules/${e}`),reorderModule:(e,t)=>$e.put(`/cours/modules/${e}/reorder`,{new_order_index:t}),createVideo:(e,t)=>$e.post(`/cours/modules/${e}/videos`,t),updateVideo:(e,t)=>$e.put(`/cours/videos/${e}`,t),deleteVideo:e=>$e.delete(`/cours/videos/${e}`),createTest:(e,t)=>$e.post(`/cours/modules/${e}/tests`,t),getTest:e=>$e.get(`/cours/tests/${e}`),updateTest:(e,t)=>$e.put(`/cours/tests/${e}`,t),deleteTest:e=>$e.delete(`/cours/tests/${e}`),createQuestion:(e,t)=>$e.post(`/cours/tests/${e}/questions`,t),updateQuestion:(e,t)=>$e.put(`/cours/questions/${e}`,t),deleteQuestion:e=>$e.delete(`/cours/questions/${e}`),createChoice:(e,t)=>$e.post(`/cours/questions/${e}/choices`,t),updateChoice:(e,t)=>$e.put(`/cours/choices/${e}`,t),deleteChoice:e=>$e.delete(`/cours/choices/${e}`),getStats:()=>$e.get("/cours/stats"),getFormationTemplates:e=>$e.get(`/formations/${e}/templates`),addFormationTemplates:(e,t,r="certificat")=>$e.post(`/formations/${e}/templates`,{template_ids:t,document_type:r}),removeFormationTemplate:(e,t)=>$e.delete(`/formations/${e}/templates/${t}`),setDefaultTemplate:(e,t)=>$e.put(`/formations/${e}/templates/${t}/default`,{}),duplicateFormation:async(e,t)=>{const r=await $e.post(`/cours/formations/${e}/duplicate`,t||{});return{formation:r.formation,duplicated_modules_count:r.duplicated_modules_count}}},Cr={all:["cours"],formations:()=>[...Cr.all,"formations"],formation:e=>[...Cr.formations(),e],formationTemplates:e=>[...Cr.all,"formation-templates",e],modules:e=>[...Cr.all,"modules",e],test:e=>[...Cr.all,"test",e],stats:()=>[...Cr.all,"stats"]};function _2(){return Jt({queryKey:Cr.formations(),queryFn:()=>Ts.getFormations()})}function mp(e){return Jt({queryKey:Cr.formation(e),queryFn:()=>Ts.getFormation(e),enabled:!!e})}function hie(){const e=Tt();return Ot({mutationFn:t=>Ts.createFormation(t),onSuccess:()=>{e.invalidateQueries({queryKey:Cr.formations()}),e.invalidateQueries({queryKey:Cr.stats()})}})}function mie(){const e=Tt();return Ot({mutationFn:({id:t,data:r})=>Ts.updateFormation(t,r),onSuccess:(t,{id:r})=>{e.invalidateQueries({queryKey:Cr.formations()}),e.invalidateQueries({queryKey:Cr.formation(r)})}})}function pie(){const e=Tt();return Ot({mutationFn:t=>Ts.deleteFormation(t),onSuccess:()=>{e.invalidateQueries({queryKey:Cr.formations()}),e.invalidateQueries({queryKey:Cr.stats()})}})}function xie(e){return Jt({queryKey:Cr.formationTemplates(e),queryFn:()=>Ts.getFormationTemplates(e),enabled:!!e})}function gie(){const e=Tt();return Ot({mutationFn:({formationId:t,template_ids:r,document_type:n="certificat"})=>Ts.addFormationTemplates(t,r,n),onSuccess:(t,{formationId:r})=>{e.invalidateQueries({queryKey:Cr.formationTemplates(r)}),e.invalidateQueries({queryKey:Cr.formation(r)}),e.invalidateQueries({queryKey:Cr.formations()})}})}function vie(){const e=Tt();return Ot({mutationFn:({id:t,options:r})=>Ts.duplicateFormation(t,r),onSuccess:()=>{e.invalidateQueries({queryKey:Cr.formations()}),e.invalidateQueries({queryKey:Cr.stats()})}})}function yie(){const e=Tt();return Ot({mutationFn:({formationId:t,data:r})=>Ts.createModule(t,r),onSuccess:(t,{formationId:r})=>{e.invalidateQueries({queryKey:Cr.modules(r)}),e.invalidateQueries({queryKey:Cr.formation(r)}),e.invalidateQueries({queryKey:Cr.stats()})}})}function bie(){const e=Tt();return Ot({mutationFn:({id:t,data:r})=>Ts.updateModule(t,r),onSuccess:t=>{e.invalidateQueries({queryKey:Cr.modules(t.formation_id)}),e.invalidateQueries({queryKey:Cr.formation(t.formation_id)})}})}function wie(){const e=Tt();return Ot({mutationFn:t=>Ts.deleteModule(t),onSuccess:t=>{const r=t.module.formation_id;e.invalidateQueries({queryKey:Cr.modules(r)}),e.invalidateQueries({queryKey:Cr.formation(r)}),e.invalidateQueries({queryKey:Cr.stats()})}})}function Nie(){const e=Tt();return Ot({mutationFn:({moduleId:t,data:r})=>Ts.createVideo(t,r),onSuccess:()=>{e.invalidateQueries({queryKey:Cr.all})}})}function _ie(){const e=Tt();return Ot({mutationFn:({id:t,data:r})=>Ts.updateVideo(t,r),onSuccess:()=>{e.invalidateQueries({queryKey:Cr.all})}})}function jie(){const e=Tt();return Ot({mutationFn:t=>Ts.deleteVideo(t),onSuccess:()=>{e.invalidateQueries({queryKey:Cr.all}),e.invalidateQueries({queryKey:Cr.stats()})}})}function Sie(){const e=Tt();return Ot({mutationFn:({moduleId:t,data:r})=>Ts.createTest(t,r),onSuccess:()=>{e.invalidateQueries({queryKey:Cr.all}),e.invalidateQueries({queryKey:Cr.stats()})}})}function Aie(){const e=Tt();return Ot({mutationFn:t=>Ts.deleteTest(t),onSuccess:()=>{e.invalidateQueries({queryKey:Cr.all}),e.invalidateQueries({queryKey:Cr.stats()})}})}function kie(){const e=Tt();return Ot({mutationFn:({testId:t,data:r})=>Ts.createQuestion(t,r),onSuccess:t=>{e.invalidateQueries({queryKey:Cr.test(t.test_id)}),e.invalidateQueries({queryKey:Cr.all})}})}function Eie(){const e=Tt();return Ot({mutationFn:({questionId:t,data:r})=>Ts.createChoice(t,r),onSuccess:()=>{e.invalidateQueries({queryKey:Cr.all})}})}function Cie(){return Jt({queryKey:Cr.stats(),queryFn:()=>Ts.getStats()})}const Tie=({formationId:e,module:t,modules:r=[],onClose:n})=>{const a=!!t,s=yie(),l=bie(),[o,u]=k.useState({title:t?.title||"",description:t?.description||"",module_type:t?.module_type||"video",prerequisite_module_id:t?.prerequisite_module_id||""}),[d,h]=k.useState({}),m=()=>{const v={};return o.title.trim()||(v.title="Le titre est obligatoire"),h(v),Object.keys(v).length===0},g=async v=>{if(v.preventDefault(),!!m())try{const w={title:o.title.trim(),description:o.description.trim()||void 0,module_type:o.module_type,prerequisite_module_id:o.prerequisite_module_id||void 0};a&&t?await l.mutateAsync({id:t.id,data:w}):await s.mutateAsync({formationId:e,data:w}),n()}catch(w){console.error("Error saving module:",w),h({submit:"Une erreur est survenue lors de la sauvegarde du module"})}},x=r.filter(v=>!a||v.id!==t?.id),b=v=>({video:"Vido",test:"Test",document:"Document"})[v];return i.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center p-4 z-50",children:i.jsxs("div",{className:"bg-white rounded-lg shadow-xl max-w-2xl w-full max-h-[90vh] overflow-y-auto",children:[i.jsxs("div",{className:"flex items-center justify-between p-6 border-b",children:[i.jsx("h2",{className:"text-xl font-semibold text-gray-900",children:a?"Modifier le module":"Ajouter un module"}),i.jsx("button",{onClick:n,className:"text-gray-400 hover:text-gray-600 transition-colors",children:i.jsx(En,{className:"h-5 w-5"})})]}),i.jsxs("form",{onSubmit:g,className:"p-6 space-y-6",children:[d.submit&&i.jsxs("div",{className:"bg-red-50 border border-red-200 rounded-lg p-4 flex items-start gap-3",children:[i.jsx($r,{className:"h-5 w-5 text-red-600 flex-shrink-0 mt-0.5"}),i.jsx("p",{className:"text-sm text-red-800",children:d.submit})]}),i.jsxs("div",{children:[i.jsxs("label",{htmlFor:"title",className:"block text-sm font-medium text-gray-700 mb-2",children:["Titre ",i.jsx("span",{className:"text-red-500",children:"*"})]}),i.jsx("input",{type:"text",id:"title",value:o.title,onChange:v=>u({...o,title:v.target.value}),className:`w-full px-3 py-2 border rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent ${d.title?"border-red-300":"border-gray-300"}`,placeholder:"Ex: Introduction aux bases de donnes"}),d.title&&i.jsx("p",{className:"mt-1 text-sm text-red-600",children:d.title})]}),i.jsxs("div",{children:[i.jsx("label",{htmlFor:"description",className:"block text-sm font-medium text-gray-700 mb-2",children:"Description"}),i.jsx("textarea",{id:"description",value:o.description,onChange:v=>u({...o,description:v.target.value}),rows:4,className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",placeholder:"Dcrivez le contenu de ce module..."})]}),i.jsxs("div",{children:[i.jsxs("label",{htmlFor:"module_type",className:"block text-sm font-medium text-gray-700 mb-2",children:["Type de module ",i.jsx("span",{className:"text-red-500",children:"*"})]}),i.jsxs("select",{id:"module_type",value:o.module_type,onChange:v=>u({...o,module_type:v.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",children:[i.jsx("option",{value:"video",children:"Vido"}),i.jsx("option",{value:"test",children:"Test"}),i.jsx("option",{value:"document",children:"Document"})]}),i.jsxs("p",{className:"mt-1 text-sm text-gray-500",children:[o.module_type==="video"&&"Module contenant des vidos de cours",o.module_type==="test"&&"Module contenant des tests et valuations",o.module_type==="document"&&"Module contenant des documents et ressources"]})]}),i.jsxs("div",{children:[i.jsx("label",{htmlFor:"prerequisite_module_id",className:"block text-sm font-medium text-gray-700 mb-2",children:"Module prrequis"}),i.jsxs("select",{id:"prerequisite_module_id",value:o.prerequisite_module_id,onChange:v=>u({...o,prerequisite_module_id:v.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",children:[i.jsx("option",{value:"",children:"Aucun (accessible immdiatement)"}),x.map(v=>i.jsxs("option",{value:v.id,children:["#",v.order_index+1," - ",v.title," (",b(v.module_type),")"]},v.id))]}),i.jsx("p",{className:"mt-1 text-sm text-gray-500",children:"L'tudiant devra complter ce module avant d'accder au module actuel"})]}),i.jsxs("div",{className:"flex justify-end gap-3 pt-4 border-t",children:[i.jsx(Xe,{type:"button",variant:"outline",onClick:n,children:"Annuler"}),i.jsx(Xe,{type:"submit",disabled:s.isPending||l.isPending,className:"min-w-[120px]",children:s.isPending||l.isPending?i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsx("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-white"}),i.jsx("span",{children:"Sauvegarde..."})]}):a?"Modifier":"Ajouter"})]})]})]})})},Oie=({moduleId:e,video:t,onClose:r})=>{const n=!!t,a=Nie(),s=_ie(),[l,o]=k.useState({title:t?.title||"",youtube_url:t?.youtube_url||"",duration_seconds:t?.duration_seconds?.toString()||"",description:t?.description||""}),[u,d]=k.useState({}),h=N=>N.trim()?[/^https?:\/\/(www\.)?youtube\.com\/watch\?v=[\w-]+/,/^https?:\/\/(www\.)?youtu\.be\/[\w-]+/,/^https?:\/\/(www\.)?youtube\.com\/embed\/[\w-]+/,/^https?:\/\/(www\.)?youtube\.com\/v\/[\w-]+/].some(j=>j.test(N)):!1,m=N=>{const E=[/youtube\.com\/watch\?v=([\w-]+)/,/youtu\.be\/([\w-]+)/,/youtube\.com\/embed\/([\w-]+)/,/youtube\.com\/v\/([\w-]+)/];for(const j of E){const T=N.match(j);if(T&&T[1])return T[1]}return null},g=()=>{const N={};return l.title.trim()||(N.title="Le titre est obligatoire"),l.youtube_url.trim()?h(l.youtube_url)||(N.youtube_url="L'URL YouTube n'est pas valide. Formats accepts: youtube.com/watch?v=..., youtu.be/..., youtube.com/embed/..."):N.youtube_url="L'URL YouTube est obligatoire",l.duration_seconds&&parseInt(l.duration_seconds)<0&&(N.duration_seconds="La dure doit tre positive"),d(N),Object.keys(N).length===0},x=async N=>{if(N.preventDefault(),!!g())try{const E={title:l.title.trim(),youtube_url:l.youtube_url.trim(),duration_seconds:l.duration_seconds?parseInt(l.duration_seconds):void 0,description:l.description.trim()||void 0};n&&t?await s.mutateAsync({id:t.id,data:E}):await a.mutateAsync({moduleId:e,data:E}),r()}catch(E){console.error("Error saving video:",E),d({submit:"Une erreur est survenue lors de la sauvegarde de la vido"})}},b=m(l.youtube_url),v=b?`https://img.youtube.com/vi/${b}/mqdefault.jpg`:null,w=N=>{const E=Math.floor(N/60),j=N%60;return`${E}min ${j}s`};return i.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center p-4 z-50",children:i.jsxs("div",{className:"bg-white rounded-lg shadow-xl max-w-2xl w-full max-h-[90vh] overflow-y-auto",children:[i.jsxs("div",{className:"flex items-center justify-between p-6 border-b",children:[i.jsx("h2",{className:"text-xl font-semibold text-gray-900",children:n?"Modifier la vido":"Ajouter une vido"}),i.jsx("button",{onClick:r,className:"text-gray-400 hover:text-gray-600 transition-colors",children:i.jsx(En,{className:"h-5 w-5"})})]}),i.jsxs("form",{onSubmit:x,className:"p-6 space-y-6",children:[u.submit&&i.jsxs("div",{className:"bg-red-50 border border-red-200 rounded-lg p-4 flex items-start gap-3",children:[i.jsx($r,{className:"h-5 w-5 text-red-600 flex-shrink-0 mt-0.5"}),i.jsx("p",{className:"text-sm text-red-800",children:u.submit})]}),i.jsxs("div",{children:[i.jsxs("label",{htmlFor:"title",className:"block text-sm font-medium text-gray-700 mb-2",children:["Titre de la vido ",i.jsx("span",{className:"text-red-500",children:"*"})]}),i.jsx("input",{type:"text",id:"title",value:l.title,onChange:N=>o({...l,title:N.target.value}),className:`w-full px-3 py-2 border rounded-lg focus:ring-2 focus:ring-purple-500 focus:border-transparent ${u.title?"border-red-300":"border-gray-300"}`,placeholder:"Ex: Introduction  SQL"}),u.title&&i.jsx("p",{className:"mt-1 text-sm text-red-600",children:u.title})]}),i.jsxs("div",{children:[i.jsxs("label",{htmlFor:"youtube_url",className:"block text-sm font-medium text-gray-700 mb-2",children:["URL YouTube ",i.jsx("span",{className:"text-red-500",children:"*"})]}),i.jsx("input",{type:"text",id:"youtube_url",value:l.youtube_url,onChange:N=>o({...l,youtube_url:N.target.value}),className:`w-full px-3 py-2 border rounded-lg focus:ring-2 focus:ring-purple-500 focus:border-transparent ${u.youtube_url?"border-red-300":"border-gray-300"}`,placeholder:"https://www.youtube.com/watch?v=..."}),u.youtube_url&&i.jsx("p",{className:"mt-1 text-sm text-red-600",children:u.youtube_url}),i.jsx("p",{className:"mt-1 text-xs text-gray-500",children:"Formats accepts: youtube.com/watch?v=..., youtu.be/..., youtube.com/embed/..."}),v&&!u.youtube_url&&i.jsxs("div",{className:"mt-3 border border-gray-200 rounded-lg overflow-hidden",children:[i.jsx("img",{src:v,alt:"Aperu YouTube",className:"w-full"}),i.jsxs("div",{className:"p-2 bg-gray-50 flex items-center justify-between",children:[i.jsx("span",{className:"text-xs text-gray-600",children:"Aperu de la vido"}),i.jsxs("a",{href:l.youtube_url,target:"_blank",rel:"noopener noreferrer",className:"text-xs text-purple-600 hover:text-purple-700 flex items-center gap-1",children:["Ouvrir sur YouTube",i.jsx(f2,{className:"h-3 w-3"})]})]})]})]}),i.jsxs("div",{children:[i.jsx("label",{htmlFor:"duration_seconds",className:"block text-sm font-medium text-gray-700 mb-2",children:"Dure (en secondes)"}),i.jsx("input",{type:"number",id:"duration_seconds",value:l.duration_seconds,onChange:N=>o({...l,duration_seconds:N.target.value}),min:"0",className:`w-full px-3 py-2 border rounded-lg focus:ring-2 focus:ring-purple-500 focus:border-transparent ${u.duration_seconds?"border-red-300":"border-gray-300"}`,placeholder:"Ex: 300"}),u.duration_seconds&&i.jsx("p",{className:"mt-1 text-sm text-red-600",children:u.duration_seconds}),l.duration_seconds&&parseInt(l.duration_seconds)>0&&i.jsxs("p",{className:"mt-1 text-xs text-gray-500",children:["quivalent: ",w(parseInt(l.duration_seconds))]}),i.jsx("p",{className:"mt-1 text-xs text-gray-500",children:"Optionnel - Aide les tudiants  planifier leur temps d'apprentissage"})]}),i.jsxs("div",{children:[i.jsx("label",{htmlFor:"description",className:"block text-sm font-medium text-gray-700 mb-2",children:"Description"}),i.jsx("textarea",{id:"description",value:l.description,onChange:N=>o({...l,description:N.target.value}),rows:4,className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-purple-500 focus:border-transparent",placeholder:"Dcrivez le contenu de cette vido..."}),i.jsx("p",{className:"mt-1 text-xs text-gray-500",children:"Rsum du contenu abord dans la vido"})]}),i.jsxs("div",{className:"flex justify-end gap-3 pt-4 border-t",children:[i.jsx(Xe,{type:"button",variant:"outline",onClick:r,children:"Annuler"}),i.jsx(Xe,{type:"submit",disabled:a.isPending||s.isPending,className:"min-w-[120px] bg-purple-600 hover:bg-purple-700",children:a.isPending||s.isPending?i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsx("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-white"}),i.jsx("span",{children:"Sauvegarde..."})]}):n?"Modifier":"Ajouter"})]})]})]})})},Fie=({moduleId:e,onClose:t})=>{const r=Sie(),n=kie(),a=Eie(),[s,l]=k.useState({title:"",description:"",passing_score:60,time_limit_minutes:"",max_attempts:"",show_correct_answers:!0}),[o,u]=k.useState([{tempId:`q-${Date.now()}`,question_text:"",points:1,choices:[{tempId:`c-${Date.now()}-1`,choice_text:"",is_correct:!1},{tempId:`c-${Date.now()}-2`,choice_text:"",is_correct:!1}]}]),[d,h]=k.useState({}),[m,g]=k.useState(!1),x=()=>{u([...o,{tempId:`q-${Date.now()}`,question_text:"",points:1,choices:[{tempId:`c-${Date.now()}-1`,choice_text:"",is_correct:!1},{tempId:`c-${Date.now()}-2`,choice_text:"",is_correct:!1}]}])},b=O=>{if(o.length===1){h({questions:"Un test doit avoir au moins une question"});return}if(u(o.filter(D=>D.tempId!==O)),d.questions){const D={...d};delete D.questions,h(D)}},v=(O,D,C)=>{u(o.map(P=>P.tempId===O?{...P,[D]:C}:P))},w=O=>{u(o.map(D=>D.tempId===O?{...D,choices:[...D.choices,{tempId:`c-${Date.now()}`,choice_text:"",is_correct:!1}]}:D))},N=(O,D)=>{u(o.map(C=>C.tempId===O?C.choices.length<=2?(h({...d,[`choices-${O}`]:"Une question doit avoir au moins 2 choix de rponse"}),C):{...C,choices:C.choices.filter(P=>P.tempId!==D)}:C))},E=(O,D,C,P)=>{u(o.map(B=>B.tempId===O?{...B,choices:B.choices.map(H=>H.tempId===D?{...H,[C]:P}:H)}:B))},j=()=>{const O={};return s.title.trim()||(O.title="Le titre est obligatoire"),(s.passing_score<0||s.passing_score>100)&&(O.passing_score="Le score de russite doit tre entre 0 et 100"),s.time_limit_minutes&&parseInt(s.time_limit_minutes)<1&&(O.time_limit_minutes="La limite de temps doit tre d'au moins 1 minute"),s.max_attempts&&parseInt(s.max_attempts)<1&&(O.max_attempts="Le nombre de tentatives doit tre d'au moins 1"),o.length===0&&(O.questions="Le test doit avoir au moins une question"),o.forEach((D,C)=>{D.question_text.trim()||(O[`question-${D.tempId}`]=`Question ${C+1}: Le texte est obligatoire`),D.points<0&&(O[`points-${D.tempId}`]=`Question ${C+1}: Les points doivent tre positifs`),D.choices.length<2&&(O[`choices-${D.tempId}`]=`Question ${C+1}: Au moins 2 choix requis`),D.choices.some(B=>B.is_correct)||(O[`correct-${D.tempId}`]=`Question ${C+1}: Au moins un choix doit tre marqu comme correct`),D.choices.forEach((B,H)=>{B.choice_text.trim()||(O[`choice-${B.tempId}`]=`Question ${C+1}, Choix ${H+1}: Le texte est obligatoire`)})}),h(O),Object.keys(O).length===0},T=async O=>{if(O.preventDefault(),!!j()){g(!0);try{const D=await r.mutateAsync({moduleId:e,data:{title:s.title.trim(),description:s.description.trim()||void 0,passing_score:s.passing_score,time_limit_minutes:s.time_limit_minutes?parseInt(s.time_limit_minutes):void 0,max_attempts:s.max_attempts?parseInt(s.max_attempts):void 0,show_correct_answers:s.show_correct_answers}});for(let C=0;C<o.length;C++){const P=o[C],B=await n.mutateAsync({testId:D.id,data:{question_text:P.question_text.trim(),points:P.points,order_index:C}});for(let H=0;H<P.choices.length;H++){const L=P.choices[H];await a.mutateAsync({questionId:B.id,data:{choice_text:L.choice_text.trim(),is_correct:L.is_correct,order_index:H}})}}t()}catch(D){console.error("Error creating test:",D),h({submit:"Une erreur est survenue lors de la cration du test"}),g(!1)}}};return i.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center p-4 z-50 overflow-y-auto",children:i.jsxs("div",{className:"bg-white rounded-lg shadow-xl max-w-4xl w-full my-8",children:[i.jsxs("div",{className:"flex items-center justify-between p-6 border-b sticky top-0 bg-white z-10 rounded-t-lg",children:[i.jsx("h2",{className:"text-xl font-semibold text-gray-900",children:"Crer un test"}),i.jsx("button",{onClick:t,disabled:m,className:"text-gray-400 hover:text-gray-600 transition-colors disabled:opacity-50",children:i.jsx(En,{className:"h-5 w-5"})})]}),i.jsxs("form",{onSubmit:T,className:"p-6 space-y-8 max-h-[calc(90vh-140px)] overflow-y-auto",children:[d.submit&&i.jsxs("div",{className:"bg-red-50 border border-red-200 rounded-lg p-4 flex items-start gap-3",children:[i.jsx($r,{className:"h-5 w-5 text-red-600 flex-shrink-0 mt-0.5"}),i.jsx("p",{className:"text-sm text-red-800",children:d.submit})]}),i.jsxs("div",{className:"space-y-6 bg-gray-50 p-6 rounded-lg",children:[i.jsxs("h3",{className:"text-lg font-semibold text-gray-900 flex items-center gap-2",children:[i.jsx("span",{className:"bg-orange-100 text-orange-700 w-7 h-7 rounded-full flex items-center justify-center text-sm font-bold",children:"1"}),"Informations du test"]}),i.jsxs("div",{children:[i.jsxs("label",{htmlFor:"title",className:"block text-sm font-medium text-gray-700 mb-2",children:["Titre du test ",i.jsx("span",{className:"text-red-500",children:"*"})]}),i.jsx("input",{type:"text",id:"title",value:s.title,onChange:O=>l({...s,title:O.target.value}),className:`w-full px-3 py-2 border rounded-lg focus:ring-2 focus:ring-orange-500 focus:border-transparent ${d.title?"border-red-300":"border-gray-300"}`,placeholder:"Ex: Quiz sur les bases de donnes relationnelles"}),d.title&&i.jsx("p",{className:"mt-1 text-sm text-red-600",children:d.title})]}),i.jsxs("div",{children:[i.jsx("label",{htmlFor:"description",className:"block text-sm font-medium text-gray-700 mb-2",children:"Description"}),i.jsx("textarea",{id:"description",value:s.description,onChange:O=>l({...s,description:O.target.value}),rows:3,className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-orange-500 focus:border-transparent",placeholder:"Dcrivez les objectifs et le contenu de ce test..."})]}),i.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[i.jsxs("div",{children:[i.jsxs("label",{htmlFor:"passing_score",className:"block text-sm font-medium text-gray-700 mb-2",children:["Score de russite (%) ",i.jsx("span",{className:"text-red-500",children:"*"})]}),i.jsx("input",{type:"number",id:"passing_score",value:s.passing_score,onChange:O=>l({...s,passing_score:parseInt(O.target.value)||0}),min:"0",max:"100",className:`w-full px-3 py-2 border rounded-lg focus:ring-2 focus:ring-orange-500 focus:border-transparent ${d.passing_score?"border-red-300":"border-gray-300"}`}),d.passing_score&&i.jsx("p",{className:"mt-1 text-sm text-red-600",children:d.passing_score})]}),i.jsxs("div",{children:[i.jsx("label",{htmlFor:"time_limit_minutes",className:"block text-sm font-medium text-gray-700 mb-2",children:"Limite de temps (minutes)"}),i.jsx("input",{type:"number",id:"time_limit_minutes",value:s.time_limit_minutes,onChange:O=>l({...s,time_limit_minutes:O.target.value}),min:"1",className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-orange-500 focus:border-transparent",placeholder:"Optionnel"}),d.time_limit_minutes&&i.jsx("p",{className:"mt-1 text-sm text-red-600",children:d.time_limit_minutes})]}),i.jsxs("div",{children:[i.jsx("label",{htmlFor:"max_attempts",className:"block text-sm font-medium text-gray-700 mb-2",children:"Nombre de tentatives max"}),i.jsx("input",{type:"number",id:"max_attempts",value:s.max_attempts,onChange:O=>l({...s,max_attempts:O.target.value}),min:"1",className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-orange-500 focus:border-transparent",placeholder:"Illimit"}),d.max_attempts&&i.jsx("p",{className:"mt-1 text-sm text-red-600",children:d.max_attempts})]}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Afficher les bonnes rponses"}),i.jsx("div",{className:"flex items-center gap-4 h-[42px]",children:i.jsxs("label",{className:"flex items-center gap-2 cursor-pointer",children:[i.jsx("input",{type:"checkbox",checked:s.show_correct_answers,onChange:O=>l({...s,show_correct_answers:O.target.checked}),className:"w-4 h-4 text-orange-600 border-gray-300 rounded focus:ring-orange-500"}),i.jsx("span",{className:"text-sm text-gray-700",children:"Montrer les rponses correctes aprs la soumission"})]})})]})]})]}),i.jsxs("div",{className:"space-y-6",children:[i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsxs("h3",{className:"text-lg font-semibold text-gray-900 flex items-center gap-2",children:[i.jsx("span",{className:"bg-orange-100 text-orange-700 w-7 h-7 rounded-full flex items-center justify-center text-sm font-bold",children:"2"}),"Questions (",o.length,")"]}),i.jsxs(Xe,{type:"button",onClick:x,variant:"outline",size:"sm",className:"flex items-center gap-2",children:[i.jsx(ra,{className:"h-4 w-4"}),"Ajouter une question"]})]}),d.questions&&i.jsx("div",{className:"bg-red-50 border border-red-200 rounded-lg p-3",children:i.jsx("p",{className:"text-sm text-red-800",children:d.questions})}),i.jsx("div",{className:"space-y-6",children:o.map((O,D)=>i.jsxs("div",{className:"border border-gray-200 rounded-lg p-6 bg-white",children:[i.jsxs("div",{className:"flex items-start justify-between mb-4",children:[i.jsxs("h4",{className:"font-semibold text-gray-900",children:["Question ",D+1]}),o.length>1&&i.jsx("button",{type:"button",onClick:()=>b(O.tempId),className:"text-red-600 hover:text-red-700 hover:bg-red-50 p-1 rounded",title:"Supprimer cette question",children:i.jsx(An,{className:"h-4 w-4"})})]}),i.jsxs("div",{className:"mb-4",children:[i.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:["Texte de la question ",i.jsx("span",{className:"text-red-500",children:"*"})]}),i.jsx("textarea",{value:O.question_text,onChange:C=>v(O.tempId,"question_text",C.target.value),rows:2,className:`w-full px-3 py-2 border rounded-lg focus:ring-2 focus:ring-orange-500 focus:border-transparent ${d[`question-${O.tempId}`]?"border-red-300":"border-gray-300"}`,placeholder:"Entrez la question..."}),d[`question-${O.tempId}`]&&i.jsx("p",{className:"mt-1 text-sm text-red-600",children:d[`question-${O.tempId}`]})]}),i.jsxs("div",{className:"mb-4",children:[i.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Points"}),i.jsx("input",{type:"number",value:O.points,onChange:C=>v(O.tempId,"points",parseInt(C.target.value)||1),min:"0",className:"w-32 px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-orange-500 focus:border-transparent"}),d[`points-${O.tempId}`]&&i.jsx("p",{className:"mt-1 text-sm text-red-600",children:d[`points-${O.tempId}`]})]}),i.jsxs("div",{children:[i.jsxs("div",{className:"flex items-center justify-between mb-3",children:[i.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Choix de rponse (cochez les bonnes rponses)"}),i.jsxs("button",{type:"button",onClick:()=>w(O.tempId),className:"text-sm text-orange-600 hover:text-orange-700 flex items-center gap-1",children:[i.jsx(ra,{className:"h-4 w-4"}),"Ajouter un choix"]})]}),d[`choices-${O.tempId}`]&&i.jsx("div",{className:"bg-red-50 border border-red-200 rounded p-2 mb-3",children:i.jsx("p",{className:"text-sm text-red-800",children:d[`choices-${O.tempId}`]})}),d[`correct-${O.tempId}`]&&i.jsx("div",{className:"bg-red-50 border border-red-200 rounded p-2 mb-3",children:i.jsx("p",{className:"text-sm text-red-800",children:d[`correct-${O.tempId}`]})}),i.jsx("div",{className:"space-y-2",children:O.choices.map((C,P)=>i.jsxs("div",{className:`flex items-center gap-3 p-3 rounded-lg border ${C.is_correct?"bg-green-50 border-green-200":"bg-gray-50 border-gray-200"}`,children:[i.jsxs("div",{className:"flex items-center",children:[i.jsx("input",{type:"checkbox",checked:C.is_correct,onChange:B=>E(O.tempId,C.tempId,"is_correct",B.target.checked),className:"w-4 h-4 text-green-600 border-gray-300 rounded focus:ring-green-500",title:"Marquer comme bonne rponse"}),C.is_correct&&i.jsx(d2,{className:"h-4 w-4 text-green-600 ml-1"})]}),i.jsx("input",{type:"text",value:C.choice_text,onChange:B=>E(O.tempId,C.tempId,"choice_text",B.target.value),className:`flex-1 px-3 py-2 border rounded-lg focus:ring-2 focus:ring-orange-500 focus:border-transparent ${d[`choice-${C.tempId}`]?"border-red-300":"border-gray-300"}`,placeholder:`Choix ${P+1}`}),O.choices.length>2&&i.jsx("button",{type:"button",onClick:()=>N(O.tempId,C.tempId),className:"text-red-600 hover:text-red-700 hover:bg-red-100 p-1 rounded",title:"Supprimer ce choix",children:i.jsx(An,{className:"h-4 w-4"})})]},C.tempId))})]})]},O.tempId))})]}),i.jsxs("div",{className:"flex justify-end gap-3 pt-4 border-t sticky bottom-0 bg-white",children:[i.jsx(Xe,{type:"button",variant:"outline",onClick:t,disabled:m,children:"Annuler"}),i.jsx(Xe,{type:"submit",disabled:m,className:"min-w-[180px] bg-orange-600 hover:bg-orange-700",children:m?i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsx("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-white"}),i.jsx("span",{children:"Cration en cours..."})]}):"Crer le test"})]})]})]})})};function FL(e,t="MAD"){if(e==null)return"Gratuit";const r=typeof e=="string"?parseFloat(e):e;return isNaN(r)||r<=0?"Gratuit":`${r.toFixed(2)} ${t}`}const Die=()=>{const{id:e}=io(),t=xn(),{data:r,isLoading:n,error:a}=mp(e),s=wie(),l=jie(),o=Aie(),[u,d]=k.useState(new Set),[h,m]=k.useState(!1),[g,x]=k.useState(!1),[b,v]=k.useState(!1),[w,N]=k.useState(null),[E,j]=k.useState(null),T=V=>{const Y=new Set(u);Y.has(V)?Y.delete(V):Y.add(V),d(Y)},O=async V=>{if(window.confirm(`tes-vous sr de vouloir supprimer le module "${V.title}" ? Toutes les vidos et tests associs seront galement supprims.`))try{await s.mutateAsync(V.id)}catch(Y){console.error("Error deleting module:",Y),alert("Erreur lors de la suppression du module")}},D=async V=>{if(window.confirm(`tes-vous sr de vouloir supprimer la vido "${V.title}" ?`))try{await l.mutateAsync(V.id)}catch(Y){console.error("Error deleting video:",Y),alert("Erreur lors de la suppression de la vido")}},C=async V=>{if(window.confirm(`tes-vous sr de vouloir supprimer le test "${V.title}" ? Toutes les questions et rponses associes seront galement supprimes.`))try{await o.mutateAsync(V.id)}catch(Y){console.error("Error deleting test:",Y),alert("Erreur lors de la suppression du test")}},P=V=>V==="published"?"bg-green-100 text-green-700":"bg-gray-100 text-gray-700",B=V=>V==="published"?"Publie":"Brouillon",H=V=>({video:"bg-purple-50 text-purple-700",test:"bg-orange-50 text-orange-700",document:"bg-blue-50 text-blue-700"})[V]||"bg-gray-50 text-gray-700",L=V=>({video:"Vido",test:"Test",document:"Document"})[V]||V;if(n)return i.jsx(kn,{title:"Chargement...",subtitle:"Chargement de la formation",children:i.jsx("div",{className:"flex justify-center items-center py-12",children:i.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-blue-600"})})});if(a||!r)return i.jsxs(kn,{title:"Erreur",subtitle:"Formation introuvable",children:[i.jsxs("div",{className:"bg-red-50 border border-red-200 rounded-lg p-4 flex items-start gap-3",children:[i.jsx($r,{className:"h-5 w-5 text-red-600 flex-shrink-0 mt-0.5"}),i.jsxs("div",{children:[i.jsx("p",{className:"text-sm font-medium text-red-800",children:"Formation introuvable"}),i.jsx("p",{className:"text-sm text-red-700 mt-1",children:a?.message||"Cette formation n'existe pas ou a t supprime."})]})]}),i.jsx("div",{className:"mt-6",children:i.jsxs(Xe,{onClick:()=>t("/admin/formations/cours"),variant:"outline",children:[i.jsx($n,{className:"h-4 w-4 mr-2"}),"Retour aux formations"]})})]});const U=r.modules||[];return i.jsxs(kn,{title:r.title,subtitle:"Configuration de la formation",children:[i.jsxs("div",{className:"space-y-6",children:[i.jsx("div",{className:"bg-white rounded-lg shadow-sm border p-6",children:i.jsx("div",{className:"flex flex-col sm:flex-row justify-between items-start sm:items-center gap-4",children:i.jsxs("div",{className:"flex-1",children:[i.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[i.jsxs(Xe,{variant:"ghost",size:"sm",onClick:()=>t("/admin/formations/cours"),className:"text-gray-600 hover:text-gray-900",children:[i.jsx($n,{className:"h-4 w-4 mr-1"}),"Retour"]}),i.jsx("span",{className:`px-2 py-1 inline-flex text-xs leading-5 font-semibold rounded-full ${P(r.status)}`,children:B(r.status)})]}),i.jsx("h2",{className:"text-2xl font-bold text-gray-900",children:r.title}),r.description&&i.jsx("p",{className:"text-sm text-gray-600 mt-2",children:r.description}),i.jsxs("div",{className:"flex items-center gap-4 mt-3 text-sm text-gray-500",children:[r.duration_hours&&i.jsxs("span",{children:[r.duration_hours,"h de contenu"]}),r.price&&Number(r.price)>0&&i.jsx("span",{children:FL(r.price)}),i.jsxs("span",{children:[U.length," module(s)"]})]})]})})}),i.jsx("div",{className:"bg-white rounded-lg shadow-sm border p-4",children:i.jsx("div",{className:"flex flex-wrap gap-3",children:i.jsxs(Xe,{onClick:()=>{N(null),m(!0)},className:"flex items-center gap-2",children:[i.jsx(ra,{className:"h-4 w-4"}),"Ajouter un module"]})})}),U.length===0?i.jsxs("div",{className:"bg-white rounded-lg shadow-sm border p-12 text-center",children:[i.jsx(Wn,{className:"h-12 w-12 text-gray-400 mx-auto mb-4"}),i.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"Aucun module"}),i.jsx("p",{className:"text-sm text-gray-500 mb-6",children:"Commencez par crer le premier module de votre formation"}),i.jsxs(Xe,{onClick:()=>{N(null),m(!0)},className:"flex items-center gap-2",children:[i.jsx(ra,{className:"h-4 w-4"}),"Crer un module"]})]}):i.jsx("div",{className:"space-y-3",children:U.map(V=>{const Y=u.has(V.id),de=V.videos||[],te=V.tests||[],ie=de.length>0||te.length>0;return i.jsxs("div",{className:"bg-white rounded-lg shadow-sm border",children:[i.jsxs("div",{className:"p-4 flex items-center gap-3",children:[i.jsx("button",{onClick:()=>T(V.id),className:"text-gray-400 hover:text-gray-600",disabled:!ie,children:ie?Y?i.jsx(Af,{className:"h-5 w-5"}):i.jsx(Bo,{className:"h-5 w-5"}):i.jsx("div",{className:"w-5 h-5"})}),i.jsxs("div",{className:"flex-1 min-w-0",children:[i.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[i.jsxs("span",{className:"text-sm font-medium text-gray-500",children:["#",V.order_index+1]}),i.jsx("h3",{className:"text-base font-semibold text-gray-900 truncate",children:V.title}),i.jsx("span",{className:`px-2 py-0.5 text-xs font-medium rounded-full ${H(V.module_type)}`,children:L(V.module_type)})]}),V.description&&i.jsx("p",{className:"text-sm text-gray-600 line-clamp-2",children:V.description}),i.jsxs("div",{className:"flex items-center gap-3 mt-2 text-xs text-gray-500",children:[i.jsxs("span",{children:[de.length," vido(s)"]}),i.jsxs("span",{children:[te.length," test(s)"]})]})]}),i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsx(Xe,{variant:"ghost",size:"sm",onClick:()=>{j(V.id),x(!0)},className:"text-purple-600 hover:text-purple-700 hover:bg-purple-50",title:"Ajouter une vido",children:i.jsx(Gx,{className:"h-4 w-4"})}),i.jsx(Xe,{variant:"ghost",size:"sm",onClick:()=>{j(V.id),v(!0)},className:"text-orange-600 hover:text-orange-700 hover:bg-orange-50",title:"Ajouter un test",children:i.jsx(ld,{className:"h-4 w-4"})}),i.jsx(Xe,{variant:"ghost",size:"sm",onClick:()=>{N(V),m(!0)},className:"text-blue-600 hover:text-blue-700 hover:bg-blue-50",title:"diter le module",children:i.jsx(Km,{className:"h-4 w-4"})}),i.jsx(Xe,{variant:"ghost",size:"sm",onClick:()=>O(V),className:"text-red-600 hover:text-red-700 hover:bg-red-50",title:"Supprimer le module",children:i.jsx(An,{className:"h-4 w-4"})})]})]}),Y&&ie&&i.jsxs("div",{className:"border-t bg-gray-50 px-4 py-3 space-y-2",children:[de.map(ge=>i.jsxs("div",{className:"bg-white rounded border border-purple-100 p-3 flex items-center gap-3",children:[i.jsx(Gx,{className:"h-4 w-4 text-purple-600 flex-shrink-0"}),i.jsxs("div",{className:"flex-1 min-w-0",children:[i.jsx("p",{className:"text-sm font-medium text-gray-900 truncate",children:ge.title}),ge.duration_seconds&&i.jsxs("p",{className:"text-xs text-gray-500",children:[Math.floor(ge.duration_seconds/60),"min"," ",ge.duration_seconds%60,"s"]})]}),i.jsx("div",{className:"flex items-center gap-2",children:i.jsx(Xe,{variant:"ghost",size:"sm",onClick:()=>D(ge),className:"text-red-600 hover:text-red-700 hover:bg-red-50",children:i.jsx(An,{className:"h-3 w-3"})})})]},ge.id)),te.map(ge=>i.jsxs("div",{className:"bg-white rounded border border-orange-100 p-3 flex items-center gap-3",children:[i.jsx(ld,{className:"h-4 w-4 text-orange-600 flex-shrink-0"}),i.jsxs("div",{className:"flex-1 min-w-0",children:[i.jsx("p",{className:"text-sm font-medium text-gray-900 truncate",children:ge.title}),i.jsxs("div",{className:"flex items-center gap-3 text-xs text-gray-500",children:[i.jsxs("span",{children:[ge.questions?.length||0," question(s)"]}),ge.time_limit_minutes&&i.jsxs("span",{children:[ge.time_limit_minutes," min"]}),i.jsxs("span",{children:["Score min: ",ge.passing_score,"%"]})]})]}),i.jsx("div",{className:"flex items-center gap-2",children:i.jsx(Xe,{variant:"ghost",size:"sm",onClick:()=>C(ge),className:"text-red-600 hover:text-red-700 hover:bg-red-50",children:i.jsx(An,{className:"h-3 w-3"})})})]},ge.id))]})]},V.id)})})]}),h&&e&&i.jsx(Tie,{formationId:e,module:w||void 0,modules:U,onClose:()=>{m(!1),N(null)}}),g&&E&&i.jsx(Oie,{moduleId:E,onClose:()=>{x(!1),j(null)}}),b&&E&&i.jsx(Fie,{moduleId:E,onClose:()=>{v(!1),j(null)}})]})},pp={getAll:async()=>(await $e.get("/corps-formation")).corps,getById:async e=>(await $e.get(`/corps-formation/${e}`)).corps,create:async e=>(await $e.post("/corps-formation",e)).corps,update:async(e,t)=>(await $e.put(`/corps-formation/${e}`,t)).corps,delete:async e=>{await $e.delete(`/corps-formation/${e}`)},getFormationsByCorps:async e=>(await $e.get(`/corps-formation/${e}/formations`)).formations,getStats:async()=>(await $e.get("/corps-formation/stats/global")).stats,duplicate:async(e,t)=>{const r=await $e.post(`/corps-formation/${e}/duplicate`,t||{});return{corps:r.corps,duplicated_formations:r.duplicated_formations}}},ui={all:["corps-formation"],lists:()=>[...ui.all,"list"],list:()=>[...ui.lists()],details:()=>[...ui.all,"detail"],detail:e=>[...ui.details(),e],stats:()=>[...ui.all,"stats"],formations:e=>[...ui.detail(e),"formations"]};function DL(){return Jt({queryKey:ui.list(),queryFn:()=>pp.getAll()})}function Pie(e){return Jt({queryKey:ui.formations(e),queryFn:()=>pp.getFormationsByCorps(e),enabled:!!e})}function Lie(){const e=Tt();return Ot({mutationFn:t=>pp.create(t),onSuccess:()=>{e.invalidateQueries({queryKey:ui.lists()}),e.invalidateQueries({queryKey:ui.stats()})}})}function Mie(){const e=Tt();return Ot({mutationFn:({id:t,data:r})=>pp.update(t,r),onSuccess:(t,r)=>{e.invalidateQueries({queryKey:ui.lists()}),e.invalidateQueries({queryKey:ui.detail(r.id)}),e.invalidateQueries({queryKey:ui.stats()})}})}function Rie(){const e=Tt();return Ot({mutationFn:t=>pp.delete(t),onSuccess:()=>{e.invalidateQueries({queryKey:ui.lists()}),e.invalidateQueries({queryKey:ui.stats()})}})}function Iie(){const e=Tt();return Ot({mutationFn:({id:t,options:r})=>pp.duplicate(t,r),onSuccess:()=>{e.invalidateQueries({queryKey:ui.lists()}),e.invalidateQueries({queryKey:ui.stats()})}})}const Al={getAll:async()=>$e.get("/certificate-templates"),getById:async e=>$e.get(`/certificate-templates/${e}`),create:async e=>$e.post("/certificate-templates",e),update:async(e,t)=>$e.put(`/certificate-templates/${e}`,t),delete:async e=>$e.delete(`/certificate-templates/${e}`),duplicate:async e=>$e.post(`/certificate-templates/${e}/duplicate`),duplicateToFolder:async(e,t)=>$e.post(`/certificate-templates/${e}/duplicate-to-folder`,{targetFolderId:t}),seedDefaults:async()=>$e.post("/certificate-templates/seed-defaults"),generatePreview:async(e,t)=>{const r=await fetch(`/api/certificate-templates/${e}/preview`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(t)});if(!r.ok)throw new Error("Failed to generate preview");return r.blob()},uploadLogo:async(e,t)=>{const r=new FormData;r.append("logo",t);const n=await fetch(`/api/certificate-templates/${e}/upload-logo`,{method:"POST",body:r});if(!n.ok)throw new Error("Failed to upload logo");return n.json()},uploadSignature:async(e,t)=>{const r=new FormData;r.append("signature",t);const n=await fetch(`/api/certificate-templates/${e}/upload-signature`,{method:"POST",body:r});if(!n.ok)throw new Error("Failed to upload signature");return n.json()},uploadBackground:async(e,t)=>{const r=new FormData;r.append("background",t);const n=await fetch(`/api/certificate-templates/${e}/upload-background`,{method:"POST",body:r});if(!n.ok){const a=await n.json();throw new Error(a.error||"Failed to upload background image")}return n.json()},setBackgroundUrl:async(e,t)=>$e.post(`/certificate-templates/${e}/background-url`,{url:t}),deleteBackground:async e=>$e.delete(`/certificate-templates/${e}/background`),uploadCustomFont:async(e,t)=>{const r=new FormData;r.append("font",e),r.append("fontName",t);const n=await fetch("/api/certificate-templates/custom-fonts/upload",{method:"POST",body:r});if(!n.ok){const a=await n.json();throw new Error(a.error||"Failed to upload font")}return n.json()},getCustomFonts:async()=>$e.get("/certificate-templates/custom-fonts"),deleteCustomFont:async e=>$e.delete(`/certificate-templates/custom-fonts/${e}`)},Tc={all:["certificate-templates"],detail:e=>["certificate-templates",e],customFonts:["custom-fonts"]},j2=()=>Jt({queryKey:Tc.all,queryFn:Al.getAll,staleTime:300*1e3,select:e=>e.templates}),Bie=e=>Jt({queryKey:Tc.detail(e||""),queryFn:()=>Al.getById(e),enabled:!!e,staleTime:300*1e3,select:t=>t.template}),Uie=()=>{const e=Tt();return Ot({mutationFn:t=>Al.create(t),onSuccess:()=>{e.invalidateQueries({queryKey:Tc.all})}})},PL=()=>{const e=Tt();return Ot({mutationFn:({id:t,data:r})=>Al.update(t,r),onSuccess:(t,r)=>{e.invalidateQueries({queryKey:Tc.all}),e.invalidateQueries({queryKey:Tc.detail(r.id)})}})},zie=()=>{const e=Tt();return Ot({mutationFn:t=>Al.delete(t),onSuccess:()=>{e.invalidateQueries({queryKey:Tc.all})}})},qie=()=>{const e=Tt();return Ot({mutationFn:t=>Al.duplicate(t),onSuccess:()=>{e.invalidateQueries({queryKey:Tc.all})}})},$ie=()=>{const e=Tt();return Ot({mutationFn:({id:t,targetFolderId:r})=>Al.duplicateToFolder(t,r),onSuccess:()=>{e.invalidateQueries({queryKey:Tc.all})}})},Hie=()=>Jt({queryKey:Tc.customFonts,queryFn:Al.getCustomFonts,staleTime:300*1e3,select:e=>e.fonts}),Vie=()=>{const e=Tt();return Ot({mutationFn:({file:t,fontName:r})=>Al.uploadCustomFont(t,r),onSuccess:()=>{e.invalidateQueries({queryKey:Tc.customFonts})}})},Wie=()=>{const e=Tt();return Ot({mutationFn:t=>Al.deleteCustomFont(t),onSuccess:()=>{e.invalidateQueries({queryKey:Tc.customFonts})}})},Rg={getAll:async()=>(await $e.get("/template-folders")).folders,getTree:async()=>(await $e.get("/template-folders/tree")).tree,getById:async e=>(await $e.get(`/template-folders/${e}`)).folder,create:async e=>(await $e.post("/template-folders",e)).folder,update:async(e,t)=>(await $e.put(`/template-folders/${e}`,t)).folder,delete:async e=>{await $e.delete(`/template-folders/${e}`)},move:async(e,t)=>(await $e.post(`/template-folders/${e}/move`,t)).folder},Kie=()=>Jt({queryKey:["template-folders"],queryFn:()=>Rg.getAll()}),Gie=()=>Jt({queryKey:["template-folders-tree"],queryFn:()=>Rg.getTree()}),Yie=()=>{const e=Tt();return Ot({mutationFn:t=>Rg.create(t),onSuccess:()=>{e.invalidateQueries({queryKey:["template-folders"]}),e.invalidateQueries({queryKey:["template-folders-tree"]}),e.invalidateQueries({queryKey:["certificate-templates"]})}})},Xie=()=>{const e=Tt();return Ot({mutationFn:({id:t,data:r})=>Rg.update(t,r),onSuccess:(t,r)=>{e.invalidateQueries({queryKey:["template-folders"]}),e.invalidateQueries({queryKey:["template-folders-tree"]}),e.invalidateQueries({queryKey:["template-folder",r.id]})}})},Qie=()=>{const e=Tt();return Ot({mutationFn:t=>Rg.delete(t),onSuccess:()=>{e.invalidateQueries({queryKey:["template-folders"]}),e.invalidateQueries({queryKey:["template-folders-tree"]}),e.invalidateQueries({queryKey:["certificate-templates"]})}})},Zie=({isOpen:e,onClose:t,onSelect:r,selectedTemplateIds:n=[],title:a="Slectionner des templates"})=>{const[s,l]=k.useState(""),[o,u]=k.useState(null),[d,h]=k.useState(n),{data:m,isLoading:g}=j2(),{data:x,isLoading:b}=Kie(),v=k.useMemo(()=>{if(!m)return[];let D=m;if(o&&(D=D.filter(C=>C.folder_id===o)),s.trim()){const C=s.toLowerCase();D=D.filter(P=>P.name.toLowerCase().includes(C)||P.description?.toLowerCase().includes(C))}return D},[m,o,s]),w=D=>{h(C=>C.includes(D)?C.filter(P=>P!==D):[...C,D])},N=()=>{const D=v.map(P=>P.id),C=[...new Set([...d,...D])];h(C)},E=()=>{const D=v.map(C=>C.id);h(C=>C.filter(P=>!D.includes(P)))},j=k.useMemo(()=>m?m.filter(D=>d.includes(D.id)):[],[m,d]),T=()=>{r(d),t()},O=()=>{h(n),t()};return e?i.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black bg-opacity-50",children:i.jsxs("div",{className:"bg-white rounded-lg shadow-xl w-full max-w-6xl h-[80vh] flex flex-col",children:[i.jsxs("div",{className:"flex items-center justify-between p-4 border-b border-gray-200",children:[i.jsx("h2",{className:"text-lg font-semibold text-gray-900",children:a}),i.jsx("button",{onClick:O,className:"p-1 hover:bg-gray-100 rounded transition-colors",children:i.jsx(En,{className:"h-5 w-5 text-gray-500"})})]}),i.jsxs("div",{className:"flex-1 flex overflow-hidden",children:[i.jsxs("div",{className:"w-64 border-r border-gray-200 overflow-y-auto bg-gray-50 p-4",children:[i.jsx("h3",{className:"text-sm font-semibold text-gray-700 mb-3 uppercase tracking-wide",children:"Dossiers"}),i.jsxs("div",{onClick:()=>u(null),className:`flex items-center gap-2 px-3 py-2 rounded cursor-pointer mb-1 transition-colors ${o===null?"bg-blue-100 text-blue-700":"hover:bg-gray-200 text-gray-700"}`,children:[i.jsx(oD,{className:"h-4 w-4"}),i.jsx("span",{className:"text-sm font-medium",children:"Tous les templates"}),i.jsx("span",{className:"ml-auto text-xs text-gray-500",children:m?.length||0})]}),b?i.jsx("div",{className:"text-xs text-gray-500 px-3 py-2",children:"Chargement..."}):x?.map(D=>{const C=m?.filter(P=>P.folder_id===D.id).length||0;return i.jsxs("div",{onClick:()=>u(D.id),className:`flex items-center gap-2 px-3 py-2 rounded cursor-pointer mb-1 transition-colors ${o===D.id?"bg-blue-100 text-blue-700":"hover:bg-gray-200 text-gray-700"}`,children:[i.jsx(Wm,{className:"h-4 w-4"}),i.jsx("span",{className:"text-sm flex-1 truncate",children:D.name}),i.jsx("span",{className:"text-xs text-gray-500",children:C})]},D.id)})]}),i.jsxs("div",{className:"flex-1 flex flex-col overflow-hidden",children:[i.jsxs("div",{className:"p-4 border-b border-gray-200",children:[i.jsxs("div",{className:"relative",children:[i.jsx(mh,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 h-4 w-4 text-gray-400"}),i.jsx("input",{type:"text",placeholder:"Rechercher un template...",value:s,onChange:D=>l(D.target.value),className:"w-full pl-10 pr-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent text-sm"})]}),i.jsxs("div",{className:"mt-2 flex items-center gap-2",children:[i.jsx("button",{onClick:N,className:"text-xs text-blue-600 hover:text-blue-700 font-medium",children:"Tout slectionner"}),i.jsx("span",{className:"text-xs text-gray-400",children:""}),i.jsx("button",{onClick:E,className:"text-xs text-gray-600 hover:text-gray-700 font-medium",children:"Tout dslectionner"}),i.jsxs("span",{className:"ml-auto text-xs text-gray-600",children:[d.length," slectionn",d.length>1?"s":""]})]})]}),i.jsx("div",{className:"flex-1 overflow-y-auto p-4",children:g?i.jsx("div",{className:"flex items-center justify-center h-full",children:i.jsx("div",{className:"text-gray-500 text-sm",children:"Chargement des templates..."})}):v.length===0?i.jsxs("div",{className:"flex flex-col items-center justify-center h-full text-gray-500",children:[i.jsx(us,{className:"h-12 w-12 mb-2 text-gray-300"}),i.jsx("p",{className:"text-sm",children:"Aucun template trouv"})]}):i.jsx("div",{className:"grid grid-cols-3 gap-4",children:v.map(D=>{const C=d.includes(D.id);return i.jsxs("div",{onClick:()=>w(D.id),className:`relative border rounded-lg p-4 cursor-pointer transition-all ${C?"border-blue-500 bg-blue-50 shadow-md":"border-gray-200 hover:border-blue-300 hover:shadow-sm"}`,children:[i.jsx("div",{className:`absolute top-3 right-3 w-5 h-5 rounded border-2 flex items-center justify-center ${C?"bg-blue-600 border-blue-600":"border-gray-300 bg-white"}`,children:C&&i.jsx(d2,{className:"h-3 w-3 text-white"})}),i.jsxs("div",{className:"flex items-start gap-3 pr-6",children:[i.jsx(Ba,{className:"h-5 w-5 text-blue-600 flex-shrink-0 mt-0.5"}),i.jsxs("div",{className:"flex-1 min-w-0",children:[i.jsx("h4",{className:"font-semibold text-sm text-gray-900 truncate",children:D.name}),i.jsx("p",{className:"text-xs text-gray-500 mt-1 line-clamp-2",children:D.description||"Aucune description"}),i.jsxs("div",{className:"mt-2 flex items-center gap-2 text-xs text-gray-600",children:[i.jsx("span",{className:"px-2 py-0.5 bg-gray-100 rounded",children:D.template_config.layout.format.toUpperCase()}),i.jsx("span",{children:D.template_config.layout.orientation==="landscape"?"Paysage":"Portrait"})]})]})]})]},D.id)})})})]})]}),d.length>0&&i.jsxs("div",{className:"border-t border-gray-200 p-4 bg-gray-50",children:[i.jsxs("div",{className:"text-xs font-semibold text-gray-600 mb-2 uppercase tracking-wide",children:["Templates slectionns (",d.length,")"]}),i.jsx("div",{className:"flex flex-wrap gap-2 max-h-20 overflow-y-auto",children:j.map(D=>i.jsxs("div",{className:"flex items-center gap-2 px-3 py-1.5 bg-blue-100 text-blue-700 rounded-full text-xs",children:[i.jsx("span",{className:"font-medium truncate max-w-xs",children:D.name}),i.jsx("button",{onClick:C=>{C.stopPropagation(),w(D.id)},className:"hover:bg-blue-200 rounded-full p-0.5 transition-colors",children:i.jsx(En,{className:"h-3 w-3"})})]},D.id))})]}),i.jsxs("div",{className:"flex items-center justify-end gap-3 p-4 border-t border-gray-200",children:[i.jsx("button",{onClick:O,className:"px-4 py-2 text-sm font-medium text-gray-700 hover:bg-gray-100 rounded-lg transition-colors",children:"Annuler"}),i.jsxs("button",{onClick:T,disabled:d.length===0,className:"px-4 py-2 text-sm font-medium text-white bg-blue-600 hover:bg-blue-700 rounded-lg transition-colors disabled:opacity-50 disabled:cursor-not-allowed",children:["Slectionner (",d.length,")"]})]})]})}):null},Jie=({formation:e,onClose:t})=>{const r=!!e?.id,n=hie(),a=mie(),s=gie(),{data:l}=j2(),{data:o=[]}=DL(),{data:u}=xie(e?.id),[d,h]=k.useState({title:e?.title||"",description:e?.description||"",price:e?.price?.toString()||"",duration_hours:e?.duration_hours?.toString()||"",level:e?.level||"debutant",thumbnail_url:e?.thumbnail_url||"",status:e?.status||"draft",passing_score_percentage:e?.passing_score_percentage?.toString()||"80",default_certificate_template_id:e?.default_certificate_template_id||"",corps_formation_id:e?.corps_formation_id||""}),[m,g]=k.useState(u?.map(C=>C.template_id)||[]),[x,b]=k.useState(!1),[v,w]=k.useState({}),[N,E]=k.useState(!1),j=()=>{const C={};d.title.trim()||(C.title="Le titre est obligatoire"),d.corps_formation_id||(C.corps_formation_id="Le corps de formation est obligatoire"),d.price&&parseFloat(d.price)<0&&(C.price="Le prix doit tre positif"),d.duration_hours&&parseInt(d.duration_hours)<1&&(C.duration_hours="La dure doit tre suprieure  0");const P=parseInt(d.passing_score_percentage);return(P<0||P>100)&&(C.passing_score_percentage="Le score doit tre entre 0 et 100"),w(C),Object.keys(C).length===0},T=l?.filter(C=>m.includes(C.id))||[],O=C=>{g(P=>P.filter(B=>B!==C))},D=async C=>{if(C.preventDefault(),!!j()){E(!0);try{const P={title:d.title.trim(),description:d.description.trim()||void 0,price:d.price?parseFloat(d.price):void 0,duration_hours:d.duration_hours?parseInt(d.duration_hours):void 0,level:d.level,thumbnail_url:d.thumbnail_url.trim()||void 0,status:d.status,passing_score_percentage:parseInt(d.passing_score_percentage),default_certificate_template_id:d.default_certificate_template_id||void 0,corps_formation_id:d.corps_formation_id};let B;if(r&&e){if(!e.id)throw new Error("ID de formation manquant. Impossible de modifier cette formation.");await a.mutateAsync({id:e.id,data:P}),B=e.id}else B=(await n.mutateAsync(P)).id;m.length>0&&await s.mutateAsync({formationId:B,template_ids:m,document_type:"certificat"}),t()}catch(P){console.error("Error saving formation:",P),w({submit:P.message||"Erreur lors de l'enregistrement"})}finally{E(!1)}}};return i.jsxs("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center p-4 z-50",children:[i.jsxs("div",{className:"bg-white rounded-lg shadow-xl max-w-2xl w-full max-h-[90vh] overflow-y-auto",children:[i.jsxs("div",{className:"flex items-center justify-between p-6 border-b",children:[i.jsxs("div",{className:"flex items-center gap-3",children:[i.jsx("div",{className:"p-2 bg-blue-100 rounded-lg",children:i.jsx(Wn,{className:"h-5 w-5 text-blue-600"})}),i.jsxs("div",{children:[i.jsx("h2",{className:"text-xl font-semibold text-gray-900",children:r?"Modifier la formation":"Nouvelle formation"}),i.jsx("p",{className:"text-sm text-gray-500 mt-0.5",children:r?"Mettez  jour les informations de la formation":"Crez une nouvelle formation en ligne"})]})]}),i.jsx(Xe,{variant:"ghost",size:"icon",onClick:t,children:i.jsx(En,{className:"h-5 w-5"})})]}),i.jsxs("form",{onSubmit:D,className:"p-6 space-y-6",children:[v.submit&&i.jsxs("div",{className:"bg-red-50 border border-red-200 rounded-lg p-4 flex items-start gap-3",children:[i.jsx($r,{className:"h-5 w-5 text-red-600 flex-shrink-0 mt-0.5"}),i.jsx("p",{className:"text-sm text-red-700",children:v.submit})]}),i.jsxs("div",{children:[i.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:["Titre de la formation ",i.jsx("span",{className:"text-red-500",children:"*"})]}),i.jsx(Qr,{value:d.title,onChange:C=>h({...d,title:C.target.value}),placeholder:"Ex: Matriser React et TypeScript",className:v.title?"border-red-300":""}),v.title&&i.jsx("p",{className:"text-xs text-red-600 mt-1",children:v.title})]}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Description"}),i.jsx("textarea",{value:d.description,onChange:C=>h({...d,description:C.target.value}),placeholder:"Description complte de la formation...",rows:4,className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent text-sm"})]}),i.jsxs("div",{children:[i.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:["Corps de Formation ",i.jsx("span",{className:"text-red-500",children:"*"})]}),i.jsxs("select",{value:d.corps_formation_id,onChange:C=>h({...d,corps_formation_id:C.target.value}),className:`w-full px-3 py-2 border rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent text-sm ${v.corps_formation_id?"border-red-300":"border-gray-300"}`,children:[i.jsx("option",{value:"",children:"Slectionner un corps de formation"}),o.map(C=>i.jsx("option",{value:C.id,children:C.name},C.id))]}),v.corps_formation_id&&i.jsx("p",{className:"text-xs text-red-600 mt-1",children:v.corps_formation_id}),i.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"Catgorie de formation (ex: Bureautique, Dveloppement Web...)"})]}),i.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4",children:[i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Niveau"}),i.jsxs("select",{value:d.level,onChange:C=>h({...d,level:C.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent text-sm",children:[i.jsx("option",{value:"debutant",children:"Dbutant"}),i.jsx("option",{value:"intermediaire",children:"Intermdiaire"}),i.jsx("option",{value:"avance",children:"Avanc"})]})]}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Statut"}),i.jsxs("select",{value:d.status,onChange:C=>h({...d,status:C.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent text-sm",children:[i.jsx("option",{value:"draft",children:"Brouillon"}),i.jsx("option",{value:"published",children:"Publie"})]})]})]}),i.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4",children:[i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Prix (MAD)"}),i.jsx(Qr,{type:"number",min:"0",step:"0.01",value:d.price,onChange:C=>h({...d,price:C.target.value}),placeholder:"0.00",className:v.price?"border-red-300":""}),v.price&&i.jsx("p",{className:"text-xs text-red-600 mt-1",children:v.price}),i.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"Laissez vide pour gratuit"})]}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Dure (heures)"}),i.jsx(Qr,{type:"number",min:"1",value:d.duration_hours,onChange:C=>h({...d,duration_hours:C.target.value}),placeholder:"10",className:v.duration_hours?"border-red-300":""}),v.duration_hours&&i.jsx("p",{className:"text-xs text-red-600 mt-1",children:v.duration_hours})]})]}),i.jsxs("div",{children:[i.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:["Score de russite (%) ",i.jsx("span",{className:"text-red-500",children:"*"})]}),i.jsx(Qr,{type:"number",min:"0",max:"100",value:d.passing_score_percentage,onChange:C=>h({...d,passing_score_percentage:C.target.value}),className:v.passing_score_percentage?"border-red-300":""}),v.passing_score_percentage&&i.jsx("p",{className:"text-xs text-red-600 mt-1",children:v.passing_score_percentage}),i.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"Score minimum requis pour valider les tests (dfaut: 80%)"})]}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"URL de l'image"}),i.jsx(Qr,{type:"url",value:d.thumbnail_url,onChange:C=>h({...d,thumbnail_url:C.target.value}),placeholder:"https://example.com/image.jpg"}),i.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"Image de prsentation de la formation (optionnel)"})]}),i.jsxs("div",{children:[i.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-2 flex items-center gap-2",children:[i.jsx(Ba,{className:"h-4 w-4 text-blue-600"}),"Templates de Certificat"]}),i.jsxs("button",{type:"button",onClick:()=>b(!0),className:"w-full px-4 py-2 border-2 border-dashed border-gray-300 rounded-lg hover:border-blue-400 hover:bg-blue-50 transition-colors flex items-center justify-center gap-2 text-sm font-medium text-gray-600 hover:text-blue-600",children:[i.jsx(ra,{className:"h-4 w-4"}),m.length===0?"Slectionner des templates":"Ajouter / Modifier les templates"]}),T.length>0&&i.jsxs("div",{className:"mt-3 space-y-2",children:[i.jsxs("p",{className:"text-xs font-medium text-gray-600",children:[T.length," template",T.length>1?"s":""," slectionn",T.length>1?"s":""]}),i.jsx("div",{className:"flex flex-wrap gap-2",children:T.map(C=>i.jsxs("div",{className:"flex items-center gap-2 px-3 py-1.5 bg-blue-100 text-blue-700 rounded-full text-xs font-medium",children:[i.jsx(Ba,{className:"h-3 w-3"}),i.jsx("span",{className:"truncate max-w-xs",children:C.name}),i.jsx("button",{type:"button",onClick:()=>O(C.id),className:"hover:bg-blue-200 rounded-full p-0.5 transition-colors",children:i.jsx(En,{className:"h-3 w-3"})})]},C.id))})]}),i.jsx("p",{className:"text-xs text-gray-500 mt-2",children:"Ces templates seront utiliss pour gnrer les certificats de cette formation"})]}),i.jsxs("div",{className:"flex items-center justify-end gap-3 pt-4 border-t",children:[i.jsx(Xe,{type:"button",variant:"outline",onClick:t,disabled:N,children:"Annuler"}),i.jsx(Xe,{type:"submit",disabled:N,className:"min-w-[100px]",children:N?i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsx("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-white"}),i.jsx("span",{children:"..."})]}):r?"Enregistrer":"Crer"})]})]})]}),i.jsx(Zie,{isOpen:x,onClose:()=>b(!1),onSelect:g,selectedTemplateIds:m,title:"Slectionner des templates de certificat"})]})};function ele({isOpen:e,onClose:t,onSubmit:r,corpsId:n,corpsName:a}){const{data:s=[],isLoading:l}=Pie(n),{data:o=[]}=j2(),[u,d]=k.useState({title:"",description:"",price:"",level:"intermediaire",certificate_template_id:"",formation_ids:[]}),[h,m]=k.useState(!1);k.useEffect(()=>{e||d({title:"",description:"",price:"",level:"intermediaire",certificate_template_id:"",formation_ids:[]})},[e]);const g=async w=>{if(w.preventDefault(),!u.title.trim()){alert("Le nom du pack est obligatoire");return}if(!u.price||parseFloat(u.price)<=0){alert("Le prix doit tre suprieur  0");return}if(u.formation_ids.length===0){alert("Veuillez slectionner au moins une formation");return}m(!0);try{await r({title:u.title,description:u.description||void 0,corps_formation_id:n,price:parseFloat(u.price),certificate_template_id:u.certificate_template_id||void 0,formation_ids:u.formation_ids,level:u.level}),t()}catch(N){console.error("Erreur cration pack:",N),alert(N.message||"Erreur lors de la cration du pack")}finally{m(!1)}},x=w=>{d(N=>({...N,formation_ids:N.formation_ids.includes(w)?N.formation_ids.filter(E=>E!==w):[...N.formation_ids,w]}))},b=s.filter(w=>u.formation_ids.includes(w.id)),v=b.reduce((w,N)=>w+parseFloat(String(N.price||0)),0);return e?i.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:i.jsxs("div",{className:"bg-white rounded-lg w-full max-w-3xl max-h-[90vh] overflow-y-auto",children:[i.jsxs("div",{className:"sticky top-0 bg-white border-b border-gray-200 px-6 py-4 flex items-center justify-between",children:[i.jsxs("div",{className:"flex items-center gap-3",children:[i.jsx("div",{className:"p-2 bg-amber-100 rounded-lg",children:i.jsx(Uv,{className:"h-5 w-5 text-amber-600"})}),i.jsxs("div",{children:[i.jsx("h2",{className:"text-xl font-semibold text-gray-900",children:"Crer un Pack"}),i.jsxs("p",{className:"text-sm text-gray-600",children:["Corps: ",a]})]})]}),i.jsx("button",{onClick:t,className:"text-gray-400 hover:text-gray-600 transition-colors",children:i.jsx(En,{className:"h-6 w-6"})})]}),i.jsxs("form",{onSubmit:g,className:"p-6 space-y-6",children:[i.jsxs("div",{children:[i.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:["Nom du pack ",i.jsx("span",{className:"text-red-500",children:"*"})]}),i.jsx(Qr,{type:"text",value:u.title,onChange:w=>d({...u,title:w.target.value}),placeholder:"Ex: Pack Bureautique Complet",required:!0})]}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Description"}),i.jsx("textarea",{value:u.description,onChange:w=>d({...u,description:w.target.value}),placeholder:"Description du pack...",rows:3,className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500"})]}),i.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[i.jsxs("div",{children:[i.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:["Prix (MAD) ",i.jsx("span",{className:"text-red-500",children:"*"})]}),i.jsx(Qr,{type:"number",step:"0.01",min:"0",value:u.price,onChange:w=>d({...u,price:w.target.value}),placeholder:"1500.00",required:!0}),b.length>0&&i.jsxs("p",{className:"text-xs text-gray-500 mt-1",children:["Prix total formations: ",v.toFixed(2)," MAD"]})]}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Niveau"}),i.jsxs("select",{value:u.level,onChange:w=>d({...u,level:w.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500",children:[i.jsx("option",{value:"debutant",children:"Dbutant"}),i.jsx("option",{value:"intermediaire",children:"Intermdiaire"}),i.jsx("option",{value:"avance",children:"Avanc"})]})]})]}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Template de certificat (optionnel)"}),i.jsxs("select",{value:u.certificate_template_id,onChange:w=>d({...u,certificate_template_id:w.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500",children:[i.jsx("option",{value:"",children:"Aucun template spcifique"}),o.map(w=>i.jsx("option",{value:w.id,children:w.name},w.id))]})]}),i.jsxs("div",{children:[i.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-3",children:["Formations incluses ",i.jsx("span",{className:"text-red-500",children:"*"})]}),l?i.jsx("p",{className:"text-sm text-gray-500",children:"Chargement des formations..."}):s.length===0?i.jsx("div",{className:"bg-yellow-50 border border-yellow-200 rounded-lg p-4",children:i.jsx("p",{className:"text-sm text-yellow-800",children:"Aucune formation unitaire publie dans ce corps de formation. Veuillez d'abord crer des formations avant de crer un pack."})}):i.jsx("div",{className:"border border-gray-300 rounded-lg divide-y divide-gray-200 max-h-64 overflow-y-auto",children:s.map(w=>{const N=u.formation_ids.includes(w.id);return i.jsxs("label",{className:`flex items-start gap-3 p-4 cursor-pointer hover:bg-gray-50 transition-colors ${N?"bg-blue-50":""}`,children:[i.jsx("div",{className:"flex items-center h-5",children:i.jsx("input",{type:"checkbox",checked:N,onChange:()=>x(w.id),className:"w-4 h-4 text-blue-600 border-gray-300 rounded focus:ring-blue-500"})}),i.jsxs("div",{className:"flex-1 min-w-0",children:[i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsx("p",{className:"text-sm font-medium text-gray-900",children:w.title}),N&&i.jsx(d2,{className:"h-4 w-4 text-blue-600 flex-shrink-0"})]}),w.description&&i.jsx("p",{className:"text-sm text-gray-500 mt-1 line-clamp-2",children:w.description}),i.jsxs("div",{className:"flex items-center gap-4 mt-2 text-xs text-gray-600",children:[w.price&&i.jsxs("span",{className:"font-medium",children:[parseFloat(String(w.price)).toFixed(2)," MAD"]}),w.duration_hours&&i.jsxs("span",{children:[w.duration_hours,"h"]}),w.level&&i.jsx("span",{className:"capitalize",children:w.level})]})]})]},w.id)})}),u.formation_ids.length>0&&i.jsxs("p",{className:"text-sm text-blue-600 mt-2",children:[u.formation_ids.length," formation",u.formation_ids.length>1?"s":""," slectionne",u.formation_ids.length>1?"s":""]})]}),i.jsxs("div",{className:"flex items-center gap-3 pt-4 border-t border-gray-200",children:[i.jsx(Xe,{type:"submit",disabled:h||s.length===0,className:"flex-1",children:h?"Cration...":"Crer le pack"}),i.jsx(Xe,{type:"button",variant:"outline",onClick:t,className:"flex-1",children:"Annuler"})]})]})]})}):null}const tle={create:async e=>(await $e.post("/cours/packs",e)).pack,getById:async e=>(await $e.get(`/cours/packs/${e}`)).pack,update:async(e,t)=>(await $e.put(`/cours/packs/${e}`,t)).pack,delete:async e=>{await $e.delete(`/cours/packs/${e}`)}};function rle(){const e=xn(),{data:t=[],isLoading:r}=DL(),{data:n=[],isLoading:a}=_2(),{data:s}=Cie(),{data:l=[]}=Vf(),o=pie(),u=vie(),d=Lie(),h=Mie(),m=Rie(),g=Iie(),[x,b]=k.useState(new Set),[v,w]=k.useState(!1),[N,E]=k.useState(null),[j,T]=k.useState({name:"",description:"",color:"#3B82F6",order_index:0,segment_id:""}),[O,D]=k.useState(!1),[C,P]=k.useState(null),[B,H]=k.useState(""),[L,U]=k.useState(!1),[V,Y]=k.useState(null),de=Q=>{b(re=>{const ye=new Set(re);return ye.has(Q)?ye.delete(Q):ye.add(Q),ye})},te=Q=>n.filter(re=>re.corps_formation_id===Q),ie=async Q=>{if(Q.preventDefault(),!j.name.trim()){alert("Le nom du corps est obligatoire");return}try{N?await h.mutateAsync({id:N.id,data:j}):await d.mutateAsync(j),M()}catch(re){console.error("Erreur lors de la sauvegarde:",re),alert(re.message||"Erreur lors de la sauvegarde")}},ge=Q=>{E(Q),T({name:Q.name,description:Q.description||"",color:Q.color||"#3B82F6",order_index:Q.order_index||0,segment_id:Q.segment_id||""}),w(!0)},oe=async(Q,re)=>{if(confirm(`tes-vous sr de vouloir supprimer le corps "${re}" ?`))try{await m.mutateAsync(Q)}catch(ye){alert(ye.message||"Erreur lors de la suppression")}},Se=async(Q,re)=>{const ye=confirm(`Voulez-vous dupliquer le corps "${re}" avec toutes ses formations ?

OUI = Avec formations
NON = Sans formations`);try{await g.mutateAsync({id:Q,options:{include_formations:ye}})}catch(Ee){alert(Ee.message||"Erreur lors de la duplication")}},ne=async(Q,re)=>{const ye=confirm(`Voulez-vous dupliquer la formation "${re}" avec tous ses modules ?

OUI = Avec modules
NON = Sans modules`);try{await u.mutateAsync({id:Q,options:{include_modules:ye}})}catch(Ee){alert(Ee.message||"Erreur lors de la duplication")}},M=()=>{T({name:"",description:"",color:"#3B82F6",order_index:0,segment_id:""}),E(null),w(!1)},R=Q=>{H(Q),P(null),D(!0)},q=Q=>{P(Q),H(""),D(!0)},K=async(Q,re)=>{if(confirm(`tes-vous sr de vouloir supprimer "${re}" ?`))try{await o.mutateAsync(Q)}catch(ye){alert(ye.message||"Erreur lors de la suppression")}},ee=(Q,re)=>{Y({id:Q,name:re}),U(!0)},ce=async Q=>{try{await tle.create(Q),U(!1),Y(null)}catch(re){throw console.error("Erreur cration pack:",re),re}};return i.jsx("div",{className:"min-h-screen bg-gray-50 p-4 md:p-6 lg:p-8",children:i.jsxs("div",{className:"max-w-7xl mx-auto",children:[i.jsxs("div",{className:"flex flex-col sm:flex-row items-start sm:items-center justify-between gap-4 mb-6",children:[i.jsxs("div",{className:"flex items-center gap-3 sm:gap-4",children:[i.jsx(Aa,{to:"/dashboard",children:i.jsx(Xe,{variant:"outline",size:"icon",children:i.jsx($n,{className:"h-4 w-4"})})}),i.jsxs("div",{children:[i.jsx("h1",{className:"text-2xl sm:text-3xl font-bold text-gray-900",children:"Gestion des Formations"}),i.jsx("p",{className:"text-sm text-gray-600 mt-1",children:"Corps de formation et formations associes"})]})]}),i.jsxs(Xe,{onClick:()=>w(!0),className:"w-full sm:w-auto",children:[i.jsx(ra,{className:"h-4 w-4 mr-2"}),"Nouveau Corps"]})]}),i.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4 mb-6",children:[i.jsx(zr,{children:i.jsx(qr,{className:"p-6",children:i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsxs("div",{children:[i.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Total Corps"}),i.jsx("p",{className:"text-3xl font-bold text-blue-600 mt-1",children:t.length})]}),i.jsx("div",{className:"p-3 bg-blue-100 rounded-lg",children:i.jsx(Vx,{className:"h-6 w-6 text-blue-600"})})]})})}),i.jsx(zr,{children:i.jsx(qr,{className:"p-6",children:i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsxs("div",{children:[i.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Formations"}),i.jsx("p",{className:"text-3xl font-bold text-green-600 mt-1",children:s?.formations?.total||0})]}),i.jsx("div",{className:"p-3 bg-green-100 rounded-lg",children:i.jsx(Wn,{className:"h-6 w-6 text-green-600"})})]})})}),i.jsx(zr,{children:i.jsx(qr,{className:"p-6",children:i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsxs("div",{children:[i.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Vidos"}),i.jsx("p",{className:"text-3xl font-bold text-purple-600 mt-1",children:s?.total_videos||0})]}),i.jsx("div",{className:"p-3 bg-purple-100 rounded-lg",children:i.jsx(Gx,{className:"h-6 w-6 text-purple-600"})})]})})}),i.jsx(zr,{children:i.jsx(qr,{className:"p-6",children:i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsxs("div",{children:[i.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Tests"}),i.jsx("p",{className:"text-3xl font-bold text-orange-600 mt-1",children:s?.total_tests||0})]}),i.jsx("div",{className:"p-3 bg-orange-100 rounded-lg",children:i.jsx(ld,{className:"h-6 w-6 text-orange-600"})})]})})})]}),v&&i.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center p-4 z-50",children:i.jsxs("div",{className:"bg-white rounded-lg w-full max-w-2xl max-h-[90vh] overflow-y-auto",children:[i.jsx("div",{className:"p-6 border-b",children:i.jsxs("h2",{className:"text-xl font-semibold",children:[N?"Modifier":"Nouveau"," Corps de Formation"]})}),i.jsxs("form",{onSubmit:ie,className:"p-6 space-y-4",children:[i.jsxs("div",{children:[i.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:["Nom du corps ",i.jsx("span",{className:"text-red-500",children:"*"})]}),i.jsx(Qr,{type:"text",value:j.name,onChange:Q=>T({...j,name:Q.target.value}),placeholder:"Ex: Bureautique, Dveloppement Web...",required:!0})]}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Description"}),i.jsx("textarea",{value:j.description,onChange:Q=>T({...j,description:Q.target.value}),placeholder:"Description du corps de formation...",rows:3,className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500"})]}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Segment (optionnel)"}),i.jsxs("select",{value:j.segment_id,onChange:Q=>T({...j,segment_id:Q.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500",children:[i.jsx("option",{value:"",children:"Aucun segment"}),l.map(Q=>i.jsx("option",{value:Q.id,children:Q.name},Q.id))]})]}),i.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Couleur"}),i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsx(Qr,{type:"color",value:j.color,onChange:Q=>T({...j,color:Q.target.value}),className:"w-20 h-10"}),i.jsx(Qr,{type:"text",value:j.color,onChange:Q=>T({...j,color:Q.target.value}),placeholder:"#3B82F6",className:"flex-1"})]})]}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Ordre d'affichage"}),i.jsx(Qr,{type:"number",value:j.order_index,onChange:Q=>T({...j,order_index:parseInt(Q.target.value)||0}),min:"0"})]})]}),i.jsxs("div",{className:"flex gap-2 pt-4",children:[i.jsx(Xe,{type:"submit",disabled:d.isPending||h.isPending,children:N?"Modifier":"Crer"}),i.jsx(Xe,{type:"button",variant:"outline",onClick:M,children:"Annuler"})]})]})]})}),i.jsx("div",{className:"space-y-3",children:r?i.jsx("div",{className:"text-center py-12",children:i.jsx("p",{className:"text-gray-500",children:"Chargement..."})}):t.length===0?i.jsx(zr,{children:i.jsxs(qr,{className:"p-12 text-center",children:[i.jsx(Vx,{className:"h-12 w-12 text-gray-400 mx-auto mb-4"}),i.jsx("p",{className:"text-gray-600 mb-4",children:"Aucun corps de formation"}),i.jsxs(Xe,{onClick:()=>w(!0),children:[i.jsx(ra,{className:"h-4 w-4 mr-2"}),"Crer le premier corps"]})]})}):t.map(Q=>{const re=te(Q.id),ye=x.has(Q.id);return i.jsxs(zr,{className:"overflow-hidden",children:[i.jsx("div",{className:"bg-gray-50 border-b",children:i.jsxs("div",{className:"p-4 flex items-center justify-between",children:[i.jsxs("div",{className:"flex items-center gap-3 flex-1",children:[i.jsx("button",{onClick:()=>de(Q.id),className:"p-1 hover:bg-gray-200 rounded transition-colors",children:ye?i.jsx(Af,{className:"h-5 w-5 text-gray-600"}):i.jsx(Bo,{className:"h-5 w-5 text-gray-600"})}),i.jsx("div",{className:"w-8 h-8 rounded border border-gray-300 flex-shrink-0",style:{backgroundColor:Q.color||"#3B82F6"}}),i.jsxs("div",{className:"flex-1",children:[i.jsxs("div",{className:"flex items-center gap-2 flex-wrap",children:[i.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:Q.name}),i.jsxs("span",{className:"inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium bg-blue-100 text-blue-800",children:[re.length," formation",re.length!==1?"s":""]}),Q.segment_name&&i.jsxs("span",{className:"inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium bg-purple-100 text-purple-800",children:[i.jsx(ds,{className:"h-3 w-3 mr-1"}),Q.segment_name]})]}),Q.description&&i.jsx("p",{className:"text-sm text-gray-600 mt-0.5",children:Q.description})]})]}),i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsxs(Xe,{variant:"outline",size:"sm",onClick:()=>R(Q.id),children:[i.jsx(ra,{className:"h-4 w-4 mr-1"}),"Formation"]}),i.jsx(Xe,{variant:"outline",size:"sm",onClick:()=>Se(Q.id,Q.name),disabled:g.isPending,title:"Dupliquer ce corps",children:i.jsx(id,{className:"h-4 w-4"})}),i.jsx(Xe,{variant:"outline",size:"sm",onClick:()=>ge(Q),children:i.jsx(ry,{className:"h-4 w-4"})}),i.jsx(Xe,{variant:"outline",size:"sm",onClick:()=>oe(Q.id,Q.name),disabled:m.isPending,className:"text-red-600 hover:text-red-700 hover:bg-red-50",children:i.jsx(An,{className:"h-4 w-4"})})]})]})}),ye&&i.jsx(qr,{className:"p-0",children:a?i.jsx("div",{className:"p-8 text-center text-gray-500",children:"Chargement des formations..."}):re.length===0?i.jsxs("div",{className:"p-8 text-center",children:[i.jsx(Wn,{className:"h-12 w-12 text-gray-400 mx-auto mb-3"}),i.jsx("p",{className:"text-gray-600 mb-4",children:"Aucune formation dans ce corps"}),i.jsxs("div",{className:"flex gap-2 justify-center",children:[i.jsxs(Xe,{variant:"outline",size:"sm",onClick:()=>R(Q.id),children:[i.jsx(ra,{className:"h-4 w-4 mr-2"}),"Crer une formation"]}),i.jsxs(Xe,{variant:"outline",size:"sm",onClick:()=>ee(Q.id,Q.name),children:[i.jsx(Uv,{className:"h-4 w-4 mr-2"}),"Crer un pack"]})]})]}):i.jsxs("div",{children:[i.jsx("div",{className:"px-4 py-3 bg-amber-50 border-b border-amber-100",children:i.jsxs(Xe,{variant:"outline",size:"sm",onClick:()=>ee(Q.id,Q.name),className:"bg-white",children:[i.jsx(Uv,{className:"h-4 w-4 mr-2 text-amber-600"}),"Crer un pack pour ce corps"]})}),i.jsx("div",{className:"overflow-x-auto",children:i.jsxs("table",{className:"w-full",children:[i.jsx("thead",{className:"bg-gray-50 border-b",children:i.jsxs("tr",{children:[i.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase",children:"Formation"}),i.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase",children:"Niveau"}),i.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase",children:"Prix"}),i.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase",children:"Modules"}),i.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase",children:"Certificat"}),i.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase",children:"Statut"}),i.jsx("th",{className:"px-4 py-3 text-right text-xs font-medium text-gray-500 uppercase",children:"Actions"})]})}),i.jsx("tbody",{className:"divide-y divide-gray-200 bg-white",children:re.map(Ee=>i.jsxs("tr",{className:"hover:bg-gray-50",children:[i.jsxs("td",{className:"px-4 py-3",children:[i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsx("div",{className:"font-medium text-gray-900",children:Ee.title}),Ee.is_pack&&i.jsxs("span",{className:"inline-flex items-center px-2 py-0.5 rounded text-xs font-medium bg-amber-100 text-amber-700",children:[i.jsx(Uv,{className:"h-3 w-3 mr-1"}),"Pack"]})]}),Ee.is_pack&&Ee.formations_count&&i.jsxs("div",{className:"text-xs text-blue-600 mt-0.5",children:[Ee.formations_count," formation",Ee.formations_count>1?"s":""," incluse",Ee.formations_count>1?"s":""]})]}),i.jsx("td",{className:"px-4 py-3",children:i.jsx("span",{className:"text-sm text-gray-600 capitalize",children:Ee.level||"-"})}),i.jsx("td",{className:"px-4 py-3",children:i.jsx("span",{className:"text-sm font-medium text-gray-900",children:Ee.price?`${parseFloat(String(Ee.price)).toFixed(2)} MAD`:"Gratuit"})}),i.jsx("td",{className:"px-4 py-3",children:i.jsx("span",{className:"text-sm text-gray-600",children:Ee.module_count||0})}),i.jsx("td",{className:"px-4 py-3",children:Ee.certificate_template_name?i.jsxs("div",{className:"flex items-center gap-1 text-sm text-blue-600",children:[i.jsx(Ba,{className:"h-4 w-4"}),i.jsx("span",{className:"truncate max-w-[150px]",children:Ee.certificate_template_name})]}):i.jsx("span",{className:"text-sm text-gray-400",children:"-"})}),i.jsx("td",{className:"px-4 py-3",children:i.jsx("span",{className:`inline-flex items-center px-2 py-1 rounded-full text-xs font-medium ${Ee.status==="published"?"bg-green-100 text-green-700":"bg-gray-100 text-gray-700"}`,children:Ee.status==="published"?"Publi":"Brouillon"})}),i.jsx("td",{className:"px-4 py-3",children:i.jsxs("div",{className:"flex items-center justify-end gap-2",children:[!Ee.is_pack&&i.jsx(Xe,{variant:"outline",size:"sm",onClick:()=>e(`/admin/formations/cours/${Ee.id}/editor`),title:"diteur",children:i.jsx(fD,{className:"h-4 w-4"})}),!Ee.is_pack&&i.jsx(Xe,{variant:"outline",size:"sm",onClick:()=>ne(Ee.id,Ee.title),disabled:u.isPending,title:"Dupliquer cette formation",children:i.jsx(id,{className:"h-4 w-4"})}),i.jsx(Xe,{variant:"outline",size:"sm",onClick:()=>q(Ee),title:"Modifier",children:i.jsx(ry,{className:"h-4 w-4"})}),i.jsx(Xe,{variant:"outline",size:"sm",onClick:()=>K(Ee.id,Ee.title),disabled:o.isPending,className:"text-red-600 hover:text-red-700 hover:bg-red-50",title:"Supprimer",children:i.jsx(An,{className:"h-4 w-4"})})]})})]},Ee.id))})]})})]})})]},Q.id)})}),O&&i.jsx(Jie,{formation:C?{...C,corps_formation_id:C.corps_formation_id}:B?{corps_formation_id:B}:void 0,onClose:()=>{D(!1),P(null),H("")}}),L&&V&&i.jsx(ele,{isOpen:L,onClose:()=>{U(!1),Y(null)},onSubmit:ce,corpsId:V.id,corpsName:V.name})]})})}function LL(e){var t,r,n="";if(typeof e=="string"||typeof e=="number")n+=e;else if(typeof e=="object")if(Array.isArray(e)){var a=e.length;for(t=0;t<a;t++)e[t]&&(r=LL(e[t]))&&(n&&(n+=" "),n+=r)}else for(r in e)e[r]&&(n&&(n+=" "),n+=r);return n}function on(){for(var e,t,r=0,n="",a=arguments.length;r<a;r++)(e=arguments[r])&&(t=LL(e))&&(n&&(n+=" "),n+=t);return n}var nle=["dangerouslySetInnerHTML","onCopy","onCopyCapture","onCut","onCutCapture","onPaste","onPasteCapture","onCompositionEnd","onCompositionEndCapture","onCompositionStart","onCompositionStartCapture","onCompositionUpdate","onCompositionUpdateCapture","onFocus","onFocusCapture","onBlur","onBlurCapture","onChange","onChangeCapture","onBeforeInput","onBeforeInputCapture","onInput","onInputCapture","onReset","onResetCapture","onSubmit","onSubmitCapture","onInvalid","onInvalidCapture","onLoad","onLoadCapture","onError","onErrorCapture","onKeyDown","onKeyDownCapture","onKeyPress","onKeyPressCapture","onKeyUp","onKeyUpCapture","onAbort","onAbortCapture","onCanPlay","onCanPlayCapture","onCanPlayThrough","onCanPlayThroughCapture","onDurationChange","onDurationChangeCapture","onEmptied","onEmptiedCapture","onEncrypted","onEncryptedCapture","onEnded","onEndedCapture","onLoadedData","onLoadedDataCapture","onLoadedMetadata","onLoadedMetadataCapture","onLoadStart","onLoadStartCapture","onPause","onPauseCapture","onPlay","onPlayCapture","onPlaying","onPlayingCapture","onProgress","onProgressCapture","onRateChange","onRateChangeCapture","onSeeked","onSeekedCapture","onSeeking","onSeekingCapture","onStalled","onStalledCapture","onSuspend","onSuspendCapture","onTimeUpdate","onTimeUpdateCapture","onVolumeChange","onVolumeChangeCapture","onWaiting","onWaitingCapture","onAuxClick","onAuxClickCapture","onClick","onClickCapture","onContextMenu","onContextMenuCapture","onDoubleClick","onDoubleClickCapture","onDrag","onDragCapture","onDragEnd","onDragEndCapture","onDragEnter","onDragEnterCapture","onDragExit","onDragExitCapture","onDragLeave","onDragLeaveCapture","onDragOver","onDragOverCapture","onDragStart","onDragStartCapture","onDrop","onDropCapture","onMouseDown","onMouseDownCapture","onMouseEnter","onMouseLeave","onMouseMove","onMouseMoveCapture","onMouseOut","onMouseOutCapture","onMouseOver","onMouseOverCapture","onMouseUp","onMouseUpCapture","onSelect","onSelectCapture","onTouchCancel","onTouchCancelCapture","onTouchEnd","onTouchEndCapture","onTouchMove","onTouchMoveCapture","onTouchStart","onTouchStartCapture","onPointerDown","onPointerDownCapture","onPointerMove","onPointerMoveCapture","onPointerUp","onPointerUpCapture","onPointerCancel","onPointerCancelCapture","onPointerEnter","onPointerEnterCapture","onPointerLeave","onPointerLeaveCapture","onPointerOver","onPointerOverCapture","onPointerOut","onPointerOutCapture","onGotPointerCapture","onGotPointerCaptureCapture","onLostPointerCapture","onLostPointerCaptureCapture","onScroll","onScrollCapture","onWheel","onWheelCapture","onAnimationStart","onAnimationStartCapture","onAnimationEnd","onAnimationEndCapture","onAnimationIteration","onAnimationIterationCapture","onTransitionEnd","onTransitionEndCapture"];function Uj(e){if(typeof e!="string")return!1;var t=nle;return t.includes(e)}var ale=["aria-activedescendant","aria-atomic","aria-autocomplete","aria-busy","aria-checked","aria-colcount","aria-colindex","aria-colspan","aria-controls","aria-current","aria-describedby","aria-details","aria-disabled","aria-errormessage","aria-expanded","aria-flowto","aria-haspopup","aria-hidden","aria-invalid","aria-keyshortcuts","aria-label","aria-labelledby","aria-level","aria-live","aria-modal","aria-multiline","aria-multiselectable","aria-orientation","aria-owns","aria-placeholder","aria-posinset","aria-pressed","aria-readonly","aria-relevant","aria-required","aria-roledescription","aria-rowcount","aria-rowindex","aria-rowspan","aria-selected","aria-setsize","aria-sort","aria-valuemax","aria-valuemin","aria-valuenow","aria-valuetext","className","color","height","id","lang","max","media","method","min","name","style","target","width","role","tabIndex","accentHeight","accumulate","additive","alignmentBaseline","allowReorder","alphabetic","amplitude","arabicForm","ascent","attributeName","attributeType","autoReverse","azimuth","baseFrequency","baselineShift","baseProfile","bbox","begin","bias","by","calcMode","capHeight","clip","clipPath","clipPathUnits","clipRule","colorInterpolation","colorInterpolationFilters","colorProfile","colorRendering","contentScriptType","contentStyleType","cursor","cx","cy","d","decelerate","descent","diffuseConstant","direction","display","divisor","dominantBaseline","dur","dx","dy","edgeMode","elevation","enableBackground","end","exponent","externalResourcesRequired","fill","fillOpacity","fillRule","filter","filterRes","filterUnits","floodColor","floodOpacity","focusable","fontFamily","fontSize","fontSizeAdjust","fontStretch","fontStyle","fontVariant","fontWeight","format","from","fx","fy","g1","g2","glyphName","glyphOrientationHorizontal","glyphOrientationVertical","glyphRef","gradientTransform","gradientUnits","hanging","horizAdvX","horizOriginX","href","ideographic","imageRendering","in2","in","intercept","k1","k2","k3","k4","k","kernelMatrix","kernelUnitLength","kerning","keyPoints","keySplines","keyTimes","lengthAdjust","letterSpacing","lightingColor","limitingConeAngle","local","markerEnd","markerHeight","markerMid","markerStart","markerUnits","markerWidth","mask","maskContentUnits","maskUnits","mathematical","mode","numOctaves","offset","opacity","operator","order","orient","orientation","origin","overflow","overlinePosition","overlineThickness","paintOrder","panose1","pathLength","patternContentUnits","patternTransform","patternUnits","pointerEvents","pointsAtX","pointsAtY","pointsAtZ","preserveAlpha","preserveAspectRatio","primitiveUnits","r","radius","refX","refY","renderingIntent","repeatCount","repeatDur","requiredExtensions","requiredFeatures","restart","result","rotate","rx","ry","seed","shapeRendering","slope","spacing","specularConstant","specularExponent","speed","spreadMethod","startOffset","stdDeviation","stemh","stemv","stitchTiles","stopColor","stopOpacity","strikethroughPosition","strikethroughThickness","string","stroke","strokeDasharray","strokeDashoffset","strokeLinecap","strokeLinejoin","strokeMiterlimit","strokeOpacity","strokeWidth","surfaceScale","systemLanguage","tableValues","targetX","targetY","textAnchor","textDecoration","textLength","textRendering","to","transform","u1","u2","underlinePosition","underlineThickness","unicode","unicodeBidi","unicodeRange","unitsPerEm","vAlphabetic","values","vectorEffect","version","vertAdvY","vertOriginX","vertOriginY","vHanging","vIdeographic","viewTarget","visibility","vMathematical","widths","wordSpacing","writingMode","x1","x2","x","xChannelSelector","xHeight","xlinkActuate","xlinkArcrole","xlinkHref","xlinkRole","xlinkShow","xlinkTitle","xlinkType","xmlBase","xmlLang","xmlns","xmlnsXlink","xmlSpace","y1","y2","y","yChannelSelector","z","zoomAndPan","ref","key","angle"];function ML(e){if(typeof e!="string")return!1;var t=ale;return t.includes(e)}function RL(e){return typeof e=="string"&&e.startsWith("data-")}function ao(e){var t=Object.entries(e).filter(r=>{var[n]=r;return ML(n)||RL(n)});return Object.fromEntries(t)}function rh(e){if(e==null)return null;if(k.isValidElement(e)&&typeof e.props=="object"&&e.props!==null){var t=e.props;return ao(t)}return typeof e=="object"&&!Array.isArray(e)?ao(e):null}function nl(e){var t=Object.entries(e).filter(r=>{var[n]=r;return ML(n)||RL(n)||Uj(n)});return Object.fromEntries(t)}function sle(e){return e==null?null:k.isValidElement(e)?nl(e.props):typeof e=="object"&&!Array.isArray(e)?nl(e):null}var ile=["children","width","height","viewBox","className","style","title","desc"];function w4(){return w4=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},w4.apply(null,arguments)}function lle(e,t){if(e==null)return{};var r,n,a=ole(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(n=0;n<s.length;n++)r=s[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}function ole(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}var zj=k.forwardRef((e,t)=>{var{children:r,width:n,height:a,viewBox:s,className:l,style:o,title:u,desc:d}=e,h=lle(e,ile),m=s||{width:n,height:a,x:0,y:0},g=on("recharts-surface",l);return k.createElement("svg",w4({},nl(h),{className:g,width:n,height:a,style:o,viewBox:"".concat(m.x," ").concat(m.y," ").concat(m.width," ").concat(m.height),ref:t}),k.createElement("title",null,u),k.createElement("desc",null,d),r)}),cle=["children","className"];function N4(){return N4=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},N4.apply(null,arguments)}function ule(e,t){if(e==null)return{};var r,n,a=dle(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(n=0;n<s.length;n++)r=s[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}function dle(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}var hi=k.forwardRef((e,t)=>{var{children:r,className:n}=e,a=ule(e,cle),s=on("recharts-layer",n);return k.createElement("g",N4({className:s},nl(a),{ref:t}),r)}),IL=k.createContext(null),fle=()=>k.useContext(IL);function Vn(e){return function(){return e}}const BL=Math.cos,xy=Math.sin,Lc=Math.sqrt,gy=Math.PI,S2=2*gy,_4=Math.PI,j4=2*_4,j0=1e-6,hle=j4-j0;function UL(e){this._+=e[0];for(let t=1,r=e.length;t<r;++t)this._+=arguments[t]+e[t]}function mle(e){let t=Math.floor(e);if(!(t>=0))throw new Error(`invalid digits: ${e}`);if(t>15)return UL;const r=10**t;return function(n){this._+=n[0];for(let a=1,s=n.length;a<s;++a)this._+=Math.round(arguments[a]*r)/r+n[a]}}class ple{constructor(t){this._x0=this._y0=this._x1=this._y1=null,this._="",this._append=t==null?UL:mle(t)}moveTo(t,r){this._append`M${this._x0=this._x1=+t},${this._y0=this._y1=+r}`}closePath(){this._x1!==null&&(this._x1=this._x0,this._y1=this._y0,this._append`Z`)}lineTo(t,r){this._append`L${this._x1=+t},${this._y1=+r}`}quadraticCurveTo(t,r,n,a){this._append`Q${+t},${+r},${this._x1=+n},${this._y1=+a}`}bezierCurveTo(t,r,n,a,s,l){this._append`C${+t},${+r},${+n},${+a},${this._x1=+s},${this._y1=+l}`}arcTo(t,r,n,a,s){if(t=+t,r=+r,n=+n,a=+a,s=+s,s<0)throw new Error(`negative radius: ${s}`);let l=this._x1,o=this._y1,u=n-t,d=a-r,h=l-t,m=o-r,g=h*h+m*m;if(this._x1===null)this._append`M${this._x1=t},${this._y1=r}`;else if(g>j0)if(!(Math.abs(m*u-d*h)>j0)||!s)this._append`L${this._x1=t},${this._y1=r}`;else{let x=n-l,b=a-o,v=u*u+d*d,w=x*x+b*b,N=Math.sqrt(v),E=Math.sqrt(g),j=s*Math.tan((_4-Math.acos((v+g-w)/(2*N*E)))/2),T=j/E,O=j/N;Math.abs(T-1)>j0&&this._append`L${t+T*h},${r+T*m}`,this._append`A${s},${s},0,0,${+(m*x>h*b)},${this._x1=t+O*u},${this._y1=r+O*d}`}}arc(t,r,n,a,s,l){if(t=+t,r=+r,n=+n,l=!!l,n<0)throw new Error(`negative radius: ${n}`);let o=n*Math.cos(a),u=n*Math.sin(a),d=t+o,h=r+u,m=1^l,g=l?a-s:s-a;this._x1===null?this._append`M${d},${h}`:(Math.abs(this._x1-d)>j0||Math.abs(this._y1-h)>j0)&&this._append`L${d},${h}`,n&&(g<0&&(g=g%j4+j4),g>hle?this._append`A${n},${n},0,1,${m},${t-o},${r-u}A${n},${n},0,1,${m},${this._x1=d},${this._y1=h}`:g>j0&&this._append`A${n},${n},0,${+(g>=_4)},${m},${this._x1=t+n*Math.cos(s)},${this._y1=r+n*Math.sin(s)}`)}rect(t,r,n,a){this._append`M${this._x0=this._x1=+t},${this._y0=this._y1=+r}h${n=+n}v${+a}h${-n}Z`}toString(){return this._}}function qj(e){let t=3;return e.digits=function(r){if(!arguments.length)return t;if(r==null)t=null;else{const n=Math.floor(r);if(!(n>=0))throw new RangeError(`invalid digits: ${r}`);t=n}return e},()=>new ple(t)}function $j(e){return typeof e=="object"&&"length"in e?e:Array.from(e)}function zL(e){this._context=e}zL.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;default:this._context.lineTo(e,t);break}}};function A2(e){return new zL(e)}function qL(e){return e[0]}function $L(e){return e[1]}function HL(e,t){var r=Vn(!0),n=null,a=A2,s=null,l=qj(o);e=typeof e=="function"?e:e===void 0?qL:Vn(e),t=typeof t=="function"?t:t===void 0?$L:Vn(t);function o(u){var d,h=(u=$j(u)).length,m,g=!1,x;for(n==null&&(s=a(x=l())),d=0;d<=h;++d)!(d<h&&r(m=u[d],d,u))===g&&((g=!g)?s.lineStart():s.lineEnd()),g&&s.point(+e(m,d,u),+t(m,d,u));if(x)return s=null,x+""||null}return o.x=function(u){return arguments.length?(e=typeof u=="function"?u:Vn(+u),o):e},o.y=function(u){return arguments.length?(t=typeof u=="function"?u:Vn(+u),o):t},o.defined=function(u){return arguments.length?(r=typeof u=="function"?u:Vn(!!u),o):r},o.curve=function(u){return arguments.length?(a=u,n!=null&&(s=a(n)),o):a},o.context=function(u){return arguments.length?(u==null?n=s=null:s=a(n=u),o):n},o}function fv(e,t,r){var n=null,a=Vn(!0),s=null,l=A2,o=null,u=qj(d);e=typeof e=="function"?e:e===void 0?qL:Vn(+e),t=typeof t=="function"?t:Vn(t===void 0?0:+t),r=typeof r=="function"?r:r===void 0?$L:Vn(+r);function d(m){var g,x,b,v=(m=$j(m)).length,w,N=!1,E,j=new Array(v),T=new Array(v);for(s==null&&(o=l(E=u())),g=0;g<=v;++g){if(!(g<v&&a(w=m[g],g,m))===N)if(N=!N)x=g,o.areaStart(),o.lineStart();else{for(o.lineEnd(),o.lineStart(),b=g-1;b>=x;--b)o.point(j[b],T[b]);o.lineEnd(),o.areaEnd()}N&&(j[g]=+e(w,g,m),T[g]=+t(w,g,m),o.point(n?+n(w,g,m):j[g],r?+r(w,g,m):T[g]))}if(E)return o=null,E+""||null}function h(){return HL().defined(a).curve(l).context(s)}return d.x=function(m){return arguments.length?(e=typeof m=="function"?m:Vn(+m),n=null,d):e},d.x0=function(m){return arguments.length?(e=typeof m=="function"?m:Vn(+m),d):e},d.x1=function(m){return arguments.length?(n=m==null?null:typeof m=="function"?m:Vn(+m),d):n},d.y=function(m){return arguments.length?(t=typeof m=="function"?m:Vn(+m),r=null,d):t},d.y0=function(m){return arguments.length?(t=typeof m=="function"?m:Vn(+m),d):t},d.y1=function(m){return arguments.length?(r=m==null?null:typeof m=="function"?m:Vn(+m),d):r},d.lineX0=d.lineY0=function(){return h().x(e).y(t)},d.lineY1=function(){return h().x(e).y(r)},d.lineX1=function(){return h().x(n).y(t)},d.defined=function(m){return arguments.length?(a=typeof m=="function"?m:Vn(!!m),d):a},d.curve=function(m){return arguments.length?(l=m,s!=null&&(o=l(s)),d):l},d.context=function(m){return arguments.length?(m==null?s=o=null:o=l(s=m),d):s},d}class VL{constructor(t,r){this._context=t,this._x=r}areaStart(){this._line=0}areaEnd(){this._line=NaN}lineStart(){this._point=0}lineEnd(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line}point(t,r){switch(t=+t,r=+r,this._point){case 0:{this._point=1,this._line?this._context.lineTo(t,r):this._context.moveTo(t,r);break}case 1:this._point=2;default:{this._x?this._context.bezierCurveTo(this._x0=(this._x0+t)/2,this._y0,this._x0,r,t,r):this._context.bezierCurveTo(this._x0,this._y0=(this._y0+r)/2,t,this._y0,t,r);break}}this._x0=t,this._y0=r}}function xle(e){return new VL(e,!0)}function gle(e){return new VL(e,!1)}const Hj={draw(e,t){const r=Lc(t/gy);e.moveTo(r,0),e.arc(0,0,r,0,S2)}},vle={draw(e,t){const r=Lc(t/5)/2;e.moveTo(-3*r,-r),e.lineTo(-r,-r),e.lineTo(-r,-3*r),e.lineTo(r,-3*r),e.lineTo(r,-r),e.lineTo(3*r,-r),e.lineTo(3*r,r),e.lineTo(r,r),e.lineTo(r,3*r),e.lineTo(-r,3*r),e.lineTo(-r,r),e.lineTo(-3*r,r),e.closePath()}},WL=Lc(1/3),yle=WL*2,ble={draw(e,t){const r=Lc(t/yle),n=r*WL;e.moveTo(0,-r),e.lineTo(n,0),e.lineTo(0,r),e.lineTo(-n,0),e.closePath()}},wle={draw(e,t){const r=Lc(t),n=-r/2;e.rect(n,n,r,r)}},Nle=.8908130915292852,KL=xy(gy/10)/xy(7*gy/10),_le=xy(S2/10)*KL,jle=-BL(S2/10)*KL,Sle={draw(e,t){const r=Lc(t*Nle),n=_le*r,a=jle*r;e.moveTo(0,-r),e.lineTo(n,a);for(let s=1;s<5;++s){const l=S2*s/5,o=BL(l),u=xy(l);e.lineTo(u*r,-o*r),e.lineTo(o*n-u*a,u*n+o*a)}e.closePath()}},Gw=Lc(3),Ale={draw(e,t){const r=-Lc(t/(Gw*3));e.moveTo(0,r*2),e.lineTo(-Gw*r,-r),e.lineTo(Gw*r,-r),e.closePath()}},Eo=-.5,Co=Lc(3)/2,S4=1/Lc(12),kle=(S4/2+1)*3,Ele={draw(e,t){const r=Lc(t/kle),n=r/2,a=r*S4,s=n,l=r*S4+r,o=-s,u=l;e.moveTo(n,a),e.lineTo(s,l),e.lineTo(o,u),e.lineTo(Eo*n-Co*a,Co*n+Eo*a),e.lineTo(Eo*s-Co*l,Co*s+Eo*l),e.lineTo(Eo*o-Co*u,Co*o+Eo*u),e.lineTo(Eo*n+Co*a,Eo*a-Co*n),e.lineTo(Eo*s+Co*l,Eo*l-Co*s),e.lineTo(Eo*o+Co*u,Eo*u-Co*o),e.closePath()}};function Cle(e,t){let r=null,n=qj(a);e=typeof e=="function"?e:Vn(e||Hj),t=typeof t=="function"?t:Vn(t===void 0?64:+t);function a(){let s;if(r||(r=s=n()),e.apply(this,arguments).draw(r,+t.apply(this,arguments)),s)return r=null,s+""||null}return a.type=function(s){return arguments.length?(e=typeof s=="function"?s:Vn(s),a):e},a.size=function(s){return arguments.length?(t=typeof s=="function"?s:Vn(+s),a):t},a.context=function(s){return arguments.length?(r=s??null,a):r},a}function vy(){}function yy(e,t,r){e._context.bezierCurveTo((2*e._x0+e._x1)/3,(2*e._y0+e._y1)/3,(e._x0+2*e._x1)/3,(e._y0+2*e._y1)/3,(e._x0+4*e._x1+t)/6,(e._y0+4*e._y1+r)/6)}function GL(e){this._context=e}GL.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){switch(this._point){case 3:yy(this,this._x1,this._y1);case 2:this._context.lineTo(this._x1,this._y1);break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;break;case 2:this._point=3,this._context.lineTo((5*this._x0+this._x1)/6,(5*this._y0+this._y1)/6);default:yy(this,e,t);break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}};function Tle(e){return new GL(e)}function YL(e){this._context=e}YL.prototype={areaStart:vy,areaEnd:vy,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._y0=this._y1=this._y2=this._y3=this._y4=NaN,this._point=0},lineEnd:function(){switch(this._point){case 1:{this._context.moveTo(this._x2,this._y2),this._context.closePath();break}case 2:{this._context.moveTo((this._x2+2*this._x3)/3,(this._y2+2*this._y3)/3),this._context.lineTo((this._x3+2*this._x2)/3,(this._y3+2*this._y2)/3),this._context.closePath();break}case 3:{this.point(this._x2,this._y2),this.point(this._x3,this._y3),this.point(this._x4,this._y4);break}}},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._x2=e,this._y2=t;break;case 1:this._point=2,this._x3=e,this._y3=t;break;case 2:this._point=3,this._x4=e,this._y4=t,this._context.moveTo((this._x0+4*this._x1+e)/6,(this._y0+4*this._y1+t)/6);break;default:yy(this,e,t);break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}};function Ole(e){return new YL(e)}function XL(e){this._context=e}XL.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===3)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3;var r=(this._x0+4*this._x1+e)/6,n=(this._y0+4*this._y1+t)/6;this._line?this._context.lineTo(r,n):this._context.moveTo(r,n);break;case 3:this._point=4;default:yy(this,e,t);break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}};function Fle(e){return new XL(e)}function QL(e){this._context=e}QL.prototype={areaStart:vy,areaEnd:vy,lineStart:function(){this._point=0},lineEnd:function(){this._point&&this._context.closePath()},point:function(e,t){e=+e,t=+t,this._point?this._context.lineTo(e,t):(this._point=1,this._context.moveTo(e,t))}};function Dle(e){return new QL(e)}function JE(e){return e<0?-1:1}function eC(e,t,r){var n=e._x1-e._x0,a=t-e._x1,s=(e._y1-e._y0)/(n||a<0&&-0),l=(r-e._y1)/(a||n<0&&-0),o=(s*a+l*n)/(n+a);return(JE(s)+JE(l))*Math.min(Math.abs(s),Math.abs(l),.5*Math.abs(o))||0}function tC(e,t){var r=e._x1-e._x0;return r?(3*(e._y1-e._y0)/r-t)/2:t}function Yw(e,t,r){var n=e._x0,a=e._y0,s=e._x1,l=e._y1,o=(s-n)/3;e._context.bezierCurveTo(n+o,a+o*t,s-o,l-o*r,s,l)}function by(e){this._context=e}by.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=this._t0=NaN,this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x1,this._y1);break;case 3:Yw(this,this._t0,tC(this,this._t0));break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){var r=NaN;if(e=+e,t=+t,!(e===this._x1&&t===this._y1)){switch(this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;break;case 2:this._point=3,Yw(this,tC(this,r=eC(this,e,t)),r);break;default:Yw(this,this._t0,r=eC(this,e,t));break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t,this._t0=r}}};function ZL(e){this._context=new JL(e)}(ZL.prototype=Object.create(by.prototype)).point=function(e,t){by.prototype.point.call(this,t,e)};function JL(e){this._context=e}JL.prototype={moveTo:function(e,t){this._context.moveTo(t,e)},closePath:function(){this._context.closePath()},lineTo:function(e,t){this._context.lineTo(t,e)},bezierCurveTo:function(e,t,r,n,a,s){this._context.bezierCurveTo(t,e,n,r,s,a)}};function Ple(e){return new by(e)}function Lle(e){return new ZL(e)}function eM(e){this._context=e}eM.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=[],this._y=[]},lineEnd:function(){var e=this._x,t=this._y,r=e.length;if(r)if(this._line?this._context.lineTo(e[0],t[0]):this._context.moveTo(e[0],t[0]),r===2)this._context.lineTo(e[1],t[1]);else for(var n=rC(e),a=rC(t),s=0,l=1;l<r;++s,++l)this._context.bezierCurveTo(n[0][s],a[0][s],n[1][s],a[1][s],e[l],t[l]);(this._line||this._line!==0&&r===1)&&this._context.closePath(),this._line=1-this._line,this._x=this._y=null},point:function(e,t){this._x.push(+e),this._y.push(+t)}};function rC(e){var t,r=e.length-1,n,a=new Array(r),s=new Array(r),l=new Array(r);for(a[0]=0,s[0]=2,l[0]=e[0]+2*e[1],t=1;t<r-1;++t)a[t]=1,s[t]=4,l[t]=4*e[t]+2*e[t+1];for(a[r-1]=2,s[r-1]=7,l[r-1]=8*e[r-1]+e[r],t=1;t<r;++t)n=a[t]/s[t-1],s[t]-=n,l[t]-=n*l[t-1];for(a[r-1]=l[r-1]/s[r-1],t=r-2;t>=0;--t)a[t]=(l[t]-a[t+1])/s[t];for(s[r-1]=(e[r]+a[r-1])/2,t=0;t<r-1;++t)s[t]=2*e[t+1]-a[t+1];return[a,s]}function Mle(e){return new eM(e)}function k2(e,t){this._context=e,this._t=t}k2.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=this._y=NaN,this._point=0},lineEnd:function(){0<this._t&&this._t<1&&this._point===2&&this._context.lineTo(this._x,this._y),(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line>=0&&(this._t=1-this._t,this._line=1-this._line)},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;default:{if(this._t<=0)this._context.lineTo(this._x,t),this._context.lineTo(e,t);else{var r=this._x*(1-this._t)+e*this._t;this._context.lineTo(r,this._y),this._context.lineTo(r,t)}break}}this._x=e,this._y=t}};function Rle(e){return new k2(e,.5)}function Ile(e){return new k2(e,0)}function Ble(e){return new k2(e,1)}function Qm(e,t){if((l=e.length)>1)for(var r=1,n,a,s=e[t[0]],l,o=s.length;r<l;++r)for(a=s,s=e[t[r]],n=0;n<o;++n)s[n][1]+=s[n][0]=isNaN(a[n][1])?a[n][0]:a[n][1]}function A4(e){for(var t=e.length,r=new Array(t);--t>=0;)r[t]=t;return r}function Ule(e,t){return e[t]}function zle(e){const t=[];return t.key=e,t}function qle(){var e=Vn([]),t=A4,r=Qm,n=Ule;function a(s){var l=Array.from(e.apply(this,arguments),zle),o,u=l.length,d=-1,h;for(const m of s)for(o=0,++d;o<u;++o)(l[o][d]=[0,+n(m,l[o].key,d,s)]).data=m;for(o=0,h=$j(t(l));o<u;++o)l[h[o]].index=o;return r(l,h),l}return a.keys=function(s){return arguments.length?(e=typeof s=="function"?s:Vn(Array.from(s)),a):e},a.value=function(s){return arguments.length?(n=typeof s=="function"?s:Vn(+s),a):n},a.order=function(s){return arguments.length?(t=s==null?A4:typeof s=="function"?s:Vn(Array.from(s)),a):t},a.offset=function(s){return arguments.length?(r=s??Qm,a):r},a}function $le(e,t){if((n=e.length)>0){for(var r,n,a=0,s=e[0].length,l;a<s;++a){for(l=r=0;r<n;++r)l+=e[r][a][1]||0;if(l)for(r=0;r<n;++r)e[r][a][1]/=l}Qm(e,t)}}function Hle(e,t){if((a=e.length)>0){for(var r=0,n=e[t[0]],a,s=n.length;r<s;++r){for(var l=0,o=0;l<a;++l)o+=e[l][r][1]||0;n[r][1]+=n[r][0]=-o/2}Qm(e,t)}}function Vle(e,t){if(!(!((l=e.length)>0)||!((s=(a=e[t[0]]).length)>0))){for(var r=0,n=1,a,s,l;n<s;++n){for(var o=0,u=0,d=0;o<l;++o){for(var h=e[t[o]],m=h[n][1]||0,g=h[n-1][1]||0,x=(m-g)/2,b=0;b<o;++b){var v=e[t[b]],w=v[n][1]||0,N=v[n-1][1]||0;x+=w-N}u+=m,d+=x*m}a[n-1][1]+=a[n-1][0]=r,u&&(r-=d/u)}a[n-1][1]+=a[n-1][0]=r,Qm(e,t)}}var Xw={},Qw={},nC;function Wle(){return nC||(nC=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){return r==="__proto__"}e.isUnsafeProperty=t})(Qw)),Qw}var Zw={},aC;function tM(){return aC||(aC=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){switch(typeof r){case"number":case"symbol":return!1;case"string":return r.includes(".")||r.includes("[")||r.includes("]")}}e.isDeepKey=t})(Zw)),Zw}var Jw={},sC;function Vj(){return sC||(sC=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){return typeof r=="string"||typeof r=="symbol"?r:Object.is(r?.valueOf?.(),-0)?"-0":String(r)}e.toKey=t})(Jw)),Jw}var e5={},t5={},iC;function Kle(){return iC||(iC=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){if(r==null)return"";if(typeof r=="string")return r;if(Array.isArray(r))return r.map(t).join(",");const n=String(r);return n==="0"&&Object.is(Number(r),-0)?"-0":n}e.toString=t})(t5)),t5}var lC;function Wj(){return lC||(lC=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=Kle(),r=Vj();function n(a){if(Array.isArray(a))return a.map(r.toKey);if(typeof a=="symbol")return[a];a=t.toString(a);const s=[],l=a.length;if(l===0)return s;let o=0,u="",d="",h=!1;for(a.charCodeAt(0)===46&&(s.push(""),o++);o<l;){const m=a[o];d?m==="\\"&&o+1<l?(o++,u+=a[o]):m===d?d="":u+=m:h?m==='"'||m==="'"?d=m:m==="]"?(h=!1,s.push(u),u=""):u+=m:m==="["?(h=!0,u&&(s.push(u),u="")):m==="."?u&&(s.push(u),u=""):u+=m,o++}return u&&s.push(u),s}e.toPath=n})(e5)),e5}var oC;function Kj(){return oC||(oC=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=Wle(),r=tM(),n=Vj(),a=Wj();function s(o,u,d){if(o==null)return d;switch(typeof u){case"string":{if(t.isUnsafeProperty(u))return d;const h=o[u];return h===void 0?r.isDeepKey(u)?s(o,a.toPath(u),d):d:h}case"number":case"symbol":{typeof u=="number"&&(u=n.toKey(u));const h=o[u];return h===void 0?d:h}default:{if(Array.isArray(u))return l(o,u,d);if(Object.is(u?.valueOf(),-0)?u="-0":u=String(u),t.isUnsafeProperty(u))return d;const h=o[u];return h===void 0?d:h}}}function l(o,u,d){if(u.length===0)return d;let h=o;for(let m=0;m<u.length;m++){if(h==null||t.isUnsafeProperty(u[m]))return d;h=h[u[m]]}return h===void 0?d:h}e.get=s})(Xw)),Xw}var r5,cC;function Gle(){return cC||(cC=1,r5=Kj().get),r5}var Yle=Gle();const nh=jd(Yle);var Ks=e=>e===0?0:e>0?1:-1,Ho=e=>typeof e=="number"&&e!=+e,vd=e=>typeof e=="string"&&e.indexOf("%")===e.length-1,Qt=e=>(typeof e=="number"||e instanceof Number)&&!Ho(e),pu=e=>Qt(e)||typeof e=="string",Xle=0,cg=e=>{var t=++Xle;return"".concat(e||"").concat(t)},Pi=function(t,r){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:0,a=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!1;if(!Qt(t)&&typeof t!="string")return n;var s;if(vd(t)){if(r==null)return n;var l=t.indexOf("%");s=r*parseFloat(t.slice(0,l))/100}else s=+t;return Ho(s)&&(s=n),a&&r!=null&&s>r&&(s=r),s},rM=e=>{if(!Array.isArray(e))return!1;for(var t=e.length,r={},n=0;n<t;n++)if(!r[e[n]])r[e[n]]=!0;else return!0;return!1};function Ra(e,t,r){return Qt(e)&&Qt(t)?e+r*(t-e):t}function nM(e,t,r){if(!(!e||!e.length))return e.find(n=>n&&(typeof t=="function"?t(n):nh(n,t))===r)}var pa=e=>e===null||typeof e>"u",Ig=e=>pa(e)?e:"".concat(e.charAt(0).toUpperCase()).concat(e.slice(1)),Qle=["type","size","sizeType"];function k4(){return k4=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},k4.apply(null,arguments)}function uC(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function dC(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?uC(Object(r),!0).forEach(function(n){Zle(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):uC(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Zle(e,t,r){return(t=Jle(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Jle(e){var t=eoe(e,"string");return typeof t=="symbol"?t:t+""}function eoe(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function toe(e,t){if(e==null)return{};var r,n,a=roe(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(n=0;n<s.length;n++)r=s[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}function roe(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}var aM={symbolCircle:Hj,symbolCross:vle,symbolDiamond:ble,symbolSquare:wle,symbolStar:Sle,symbolTriangle:Ale,symbolWye:Ele},noe=Math.PI/180,aoe=e=>{var t="symbol".concat(Ig(e));return aM[t]||Hj},soe=(e,t,r)=>{if(t==="area")return e;switch(r){case"cross":return 5*e*e/9;case"diamond":return .5*e*e/Math.sqrt(3);case"square":return e*e;case"star":{var n=18*noe;return 1.25*e*e*(Math.tan(n)-Math.tan(n*2)*Math.tan(n)**2)}case"triangle":return Math.sqrt(3)*e*e/4;case"wye":return(21-10*Math.sqrt(3))*e*e/8;default:return Math.PI*e*e/4}},ioe=(e,t)=>{aM["symbol".concat(Ig(e))]=t},Gj=e=>{var{type:t="circle",size:r=64,sizeType:n="area"}=e,a=toe(e,Qle),s=dC(dC({},a),{},{type:t,size:r,sizeType:n}),l="circle";typeof t=="string"&&(l=t);var o=()=>{var g=aoe(l),x=Cle().type(g).size(soe(r,n,l)),b=x();if(b!==null)return b},{className:u,cx:d,cy:h}=s,m=nl(s);return d===+d&&h===+h&&r===+r?k.createElement("path",k4({},m,{className:on("recharts-symbols",u),transform:"translate(".concat(d,", ").concat(h,")"),d:o()})):null};Gj.registerSymbol=ioe;var Yj=(e,t)=>{if(!e||typeof e=="function"||typeof e=="boolean")return null;var r=e;if(k.isValidElement(e)&&(r=e.props),typeof r!="object"&&typeof r!="function")return null;var n={};return Object.keys(r).forEach(a=>{Uj(a)&&(n[a]=(s=>r[a](r,s)))}),n},loe=(e,t,r)=>n=>(e(t,r,n),null),Bg=(e,t,r)=>{if(e===null||typeof e!="object"&&typeof e!="function")return null;var n=null;return Object.keys(e).forEach(a=>{var s=e[a];Uj(a)&&typeof s=="function"&&(n||(n={}),n[a]=loe(s,t,r))}),n};function E4(){return E4=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},E4.apply(null,arguments)}function fC(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function ooe(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?fC(Object(r),!0).forEach(function(n){Xj(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):fC(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Xj(e,t,r){return(t=coe(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function coe(e){var t=uoe(e,"string");return typeof t=="symbol"?t:t+""}function uoe(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var To=32;class Qj extends k.PureComponent{renderIcon(t,r){var{inactiveColor:n}=this.props,a=To/2,s=To/6,l=To/3,o=t.inactive?n:t.color,u=r??t.type;if(u==="none")return null;if(u==="plainline")return k.createElement("line",{strokeWidth:4,fill:"none",stroke:o,strokeDasharray:t.payload.strokeDasharray,x1:0,y1:a,x2:To,y2:a,className:"recharts-legend-icon"});if(u==="line")return k.createElement("path",{strokeWidth:4,fill:"none",stroke:o,d:"M0,".concat(a,"h").concat(l,`
            A`).concat(s,",").concat(s,",0,1,1,").concat(2*l,",").concat(a,`
            H`).concat(To,"M").concat(2*l,",").concat(a,`
            A`).concat(s,",").concat(s,",0,1,1,").concat(l,",").concat(a),className:"recharts-legend-icon"});if(u==="rect")return k.createElement("path",{stroke:"none",fill:o,d:"M0,".concat(To/8,"h").concat(To,"v").concat(To*3/4,"h").concat(-To,"z"),className:"recharts-legend-icon"});if(k.isValidElement(t.legendIcon)){var d=ooe({},t);return delete d.legendIcon,k.cloneElement(t.legendIcon,d)}return k.createElement(Gj,{fill:o,cx:a,cy:a,size:To,sizeType:"diameter",type:u})}renderItems(){var{payload:t,iconSize:r,layout:n,formatter:a,inactiveColor:s,iconType:l}=this.props,o={x:0,y:0,width:To,height:To},u={display:n==="horizontal"?"inline-block":"block",marginRight:10},d={display:"inline-block",verticalAlign:"middle",marginRight:4};return t.map((h,m)=>{var g=h.formatter||a,x=on({"recharts-legend-item":!0,["legend-item-".concat(m)]:!0,inactive:h.inactive});if(h.type==="none")return null;var b=h.inactive?s:h.color,v=g?g(h.value,h,m):h.value;return k.createElement("li",E4({className:x,style:u,key:"legend-item-".concat(m)},Bg(this.props,h,m)),k.createElement(zj,{width:r,height:r,viewBox:o,style:d,"aria-label":"".concat(v," legend icon")},this.renderIcon(h,l)),k.createElement("span",{className:"recharts-legend-item-text",style:{color:b}},v))})}render(){var{payload:t,layout:r,align:n}=this.props;if(!t||!t.length)return null;var a={padding:0,margin:0,textAlign:r==="horizontal"?n:"left"};return k.createElement("ul",{className:"recharts-default-legend",style:a},this.renderItems())}}Xj(Qj,"displayName","Legend");Xj(Qj,"defaultProps",{align:"center",iconSize:14,inactiveColor:"#ccc",layout:"horizontal",verticalAlign:"middle"});var n5={},a5={},hC;function doe(){return hC||(hC=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r,n){const a=new Map;for(let s=0;s<r.length;s++){const l=r[s],o=n(l);a.has(o)||a.set(o,l)}return Array.from(a.values())}e.uniqBy=t})(a5)),a5}var s5={},mC;function sM(){return mC||(mC=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){return r}e.identity=t})(s5)),s5}var i5={},l5={},o5={},pC;function foe(){return pC||(pC=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){return Number.isSafeInteger(r)&&r>=0}e.isLength=t})(o5)),o5}var xC;function Zj(){return xC||(xC=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=foe();function r(n){return n!=null&&typeof n!="function"&&t.isLength(n.length)}e.isArrayLike=r})(l5)),l5}var c5={},gC;function hoe(){return gC||(gC=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){return typeof r=="object"&&r!==null}e.isObjectLike=t})(c5)),c5}var vC;function moe(){return vC||(vC=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=Zj(),r=hoe();function n(a){return r.isObjectLike(a)&&t.isArrayLike(a)}e.isArrayLikeObject=n})(i5)),i5}var u5={},d5={},yC;function poe(){return yC||(yC=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=Kj();function r(n){return function(a){return t.get(a,n)}}e.property=r})(d5)),d5}var f5={},h5={},m5={},p5={},bC;function iM(){return bC||(bC=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){return r!==null&&(typeof r=="object"||typeof r=="function")}e.isObject=t})(p5)),p5}var x5={},wC;function lM(){return wC||(wC=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){return r==null||typeof r!="object"&&typeof r!="function"}e.isPrimitive=t})(x5)),x5}var g5={},NC;function oM(){return NC||(NC=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r,n){return r===n||Number.isNaN(r)&&Number.isNaN(n)}e.eq=t})(g5)),g5}var _C;function xoe(){return _C||(_C=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=iM(),r=lM(),n=oM();function a(h,m,g){return typeof g!="function"?a(h,m,()=>{}):s(h,m,function x(b,v,w,N,E,j){const T=g(b,v,w,N,E,j);return T!==void 0?!!T:s(b,v,x,j)},new Map)}function s(h,m,g,x){if(m===h)return!0;switch(typeof m){case"object":return l(h,m,g,x);case"function":return Object.keys(m).length>0?s(h,{...m},g,x):n.eq(h,m);default:return t.isObject(h)?typeof m=="string"?m==="":!0:n.eq(h,m)}}function l(h,m,g,x){if(m==null)return!0;if(Array.isArray(m))return u(h,m,g,x);if(m instanceof Map)return o(h,m,g,x);if(m instanceof Set)return d(h,m,g,x);const b=Object.keys(m);if(h==null)return b.length===0;if(b.length===0)return!0;if(x?.has(m))return x.get(m)===h;x?.set(m,h);try{for(let v=0;v<b.length;v++){const w=b[v];if(!r.isPrimitive(h)&&!(w in h)||m[w]===void 0&&h[w]!==void 0||m[w]===null&&h[w]!==null||!g(h[w],m[w],w,h,m,x))return!1}return!0}finally{x?.delete(m)}}function o(h,m,g,x){if(m.size===0)return!0;if(!(h instanceof Map))return!1;for(const[b,v]of m.entries()){const w=h.get(b);if(g(w,v,b,h,m,x)===!1)return!1}return!0}function u(h,m,g,x){if(m.length===0)return!0;if(!Array.isArray(h))return!1;const b=new Set;for(let v=0;v<m.length;v++){const w=m[v];let N=!1;for(let E=0;E<h.length;E++){if(b.has(E))continue;const j=h[E];let T=!1;if(g(j,w,v,h,m,x)&&(T=!0),T){b.add(E),N=!0;break}}if(!N)return!1}return!0}function d(h,m,g,x){return m.size===0?!0:h instanceof Set?u([...h],[...m],g,x):!1}e.isMatchWith=a,e.isSetMatch=d})(m5)),m5}var jC;function cM(){return jC||(jC=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=xoe();function r(n,a){return t.isMatchWith(n,a,()=>{})}e.isMatch=r})(h5)),h5}var v5={},y5={},b5={},SC;function goe(){return SC||(SC=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){return Object.getOwnPropertySymbols(r).filter(n=>Object.prototype.propertyIsEnumerable.call(r,n))}e.getSymbols=t})(b5)),b5}var w5={},AC;function uM(){return AC||(AC=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){return r==null?r===void 0?"[object Undefined]":"[object Null]":Object.prototype.toString.call(r)}e.getTag=t})(w5)),w5}var N5={},kC;function dM(){return kC||(kC=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t="[object RegExp]",r="[object String]",n="[object Number]",a="[object Boolean]",s="[object Arguments]",l="[object Symbol]",o="[object Date]",u="[object Map]",d="[object Set]",h="[object Array]",m="[object Function]",g="[object ArrayBuffer]",x="[object Object]",b="[object Error]",v="[object DataView]",w="[object Uint8Array]",N="[object Uint8ClampedArray]",E="[object Uint16Array]",j="[object Uint32Array]",T="[object BigUint64Array]",O="[object Int8Array]",D="[object Int16Array]",C="[object Int32Array]",P="[object BigInt64Array]",B="[object Float32Array]",H="[object Float64Array]";e.argumentsTag=s,e.arrayBufferTag=g,e.arrayTag=h,e.bigInt64ArrayTag=P,e.bigUint64ArrayTag=T,e.booleanTag=a,e.dataViewTag=v,e.dateTag=o,e.errorTag=b,e.float32ArrayTag=B,e.float64ArrayTag=H,e.functionTag=m,e.int16ArrayTag=D,e.int32ArrayTag=C,e.int8ArrayTag=O,e.mapTag=u,e.numberTag=n,e.objectTag=x,e.regexpTag=t,e.setTag=d,e.stringTag=r,e.symbolTag=l,e.uint16ArrayTag=E,e.uint32ArrayTag=j,e.uint8ArrayTag=w,e.uint8ClampedArrayTag=N})(N5)),N5}var _5={},EC;function voe(){return EC||(EC=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){return ArrayBuffer.isView(r)&&!(r instanceof DataView)}e.isTypedArray=t})(_5)),_5}var CC;function fM(){return CC||(CC=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=goe(),r=uM(),n=dM(),a=lM(),s=voe();function l(h,m){return o(h,void 0,h,new Map,m)}function o(h,m,g,x=new Map,b=void 0){const v=b?.(h,m,g,x);if(v!==void 0)return v;if(a.isPrimitive(h))return h;if(x.has(h))return x.get(h);if(Array.isArray(h)){const w=new Array(h.length);x.set(h,w);for(let N=0;N<h.length;N++)w[N]=o(h[N],N,g,x,b);return Object.hasOwn(h,"index")&&(w.index=h.index),Object.hasOwn(h,"input")&&(w.input=h.input),w}if(h instanceof Date)return new Date(h.getTime());if(h instanceof RegExp){const w=new RegExp(h.source,h.flags);return w.lastIndex=h.lastIndex,w}if(h instanceof Map){const w=new Map;x.set(h,w);for(const[N,E]of h)w.set(N,o(E,N,g,x,b));return w}if(h instanceof Set){const w=new Set;x.set(h,w);for(const N of h)w.add(o(N,void 0,g,x,b));return w}if(typeof Buffer<"u"&&Buffer.isBuffer(h))return h.subarray();if(s.isTypedArray(h)){const w=new(Object.getPrototypeOf(h)).constructor(h.length);x.set(h,w);for(let N=0;N<h.length;N++)w[N]=o(h[N],N,g,x,b);return w}if(h instanceof ArrayBuffer||typeof SharedArrayBuffer<"u"&&h instanceof SharedArrayBuffer)return h.slice(0);if(h instanceof DataView){const w=new DataView(h.buffer.slice(0),h.byteOffset,h.byteLength);return x.set(h,w),u(w,h,g,x,b),w}if(typeof File<"u"&&h instanceof File){const w=new File([h],h.name,{type:h.type});return x.set(h,w),u(w,h,g,x,b),w}if(typeof Blob<"u"&&h instanceof Blob){const w=new Blob([h],{type:h.type});return x.set(h,w),u(w,h,g,x,b),w}if(h instanceof Error){const w=new h.constructor;return x.set(h,w),w.message=h.message,w.name=h.name,w.stack=h.stack,w.cause=h.cause,u(w,h,g,x,b),w}if(h instanceof Boolean){const w=new Boolean(h.valueOf());return x.set(h,w),u(w,h,g,x,b),w}if(h instanceof Number){const w=new Number(h.valueOf());return x.set(h,w),u(w,h,g,x,b),w}if(h instanceof String){const w=new String(h.valueOf());return x.set(h,w),u(w,h,g,x,b),w}if(typeof h=="object"&&d(h)){const w=Object.create(Object.getPrototypeOf(h));return x.set(h,w),u(w,h,g,x,b),w}return h}function u(h,m,g=h,x,b){const v=[...Object.keys(m),...t.getSymbols(m)];for(let w=0;w<v.length;w++){const N=v[w],E=Object.getOwnPropertyDescriptor(h,N);(E==null||E.writable)&&(h[N]=o(m[N],N,g,x,b))}}function d(h){switch(r.getTag(h)){case n.argumentsTag:case n.arrayTag:case n.arrayBufferTag:case n.dataViewTag:case n.booleanTag:case n.dateTag:case n.float32ArrayTag:case n.float64ArrayTag:case n.int8ArrayTag:case n.int16ArrayTag:case n.int32ArrayTag:case n.mapTag:case n.numberTag:case n.objectTag:case n.regexpTag:case n.setTag:case n.stringTag:case n.symbolTag:case n.uint8ArrayTag:case n.uint8ClampedArrayTag:case n.uint16ArrayTag:case n.uint32ArrayTag:return!0;default:return!1}}e.cloneDeepWith=l,e.cloneDeepWithImpl=o,e.copyProperties=u})(y5)),y5}var TC;function yoe(){return TC||(TC=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=fM();function r(n){return t.cloneDeepWithImpl(n,void 0,n,new Map,void 0)}e.cloneDeep=r})(v5)),v5}var OC;function boe(){return OC||(OC=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=cM(),r=yoe();function n(a){return a=r.cloneDeep(a),s=>t.isMatch(s,a)}e.matches=n})(f5)),f5}var j5={},S5={},A5={},FC;function woe(){return FC||(FC=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=fM(),r=dM();function n(a,s){return t.cloneDeepWith(a,(l,o,u,d)=>{const h=s?.(l,o,u,d);if(h!==void 0)return h;if(typeof a=="object")switch(Object.prototype.toString.call(a)){case r.numberTag:case r.stringTag:case r.booleanTag:{const m=new a.constructor(a?.valueOf());return t.copyProperties(m,a),m}case r.argumentsTag:{const m={};return t.copyProperties(m,a),m.length=a.length,m[Symbol.iterator]=a[Symbol.iterator],m}default:return}})}e.cloneDeepWith=n})(A5)),A5}var DC;function Noe(){return DC||(DC=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=woe();function r(n){return t.cloneDeepWith(n)}e.cloneDeep=r})(S5)),S5}var k5={},E5={},PC;function hM(){return PC||(PC=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=/^(?:0|[1-9]\d*)$/;function r(n,a=Number.MAX_SAFE_INTEGER){switch(typeof n){case"number":return Number.isInteger(n)&&n>=0&&n<a;case"symbol":return!1;case"string":return t.test(n)}}e.isIndex=r})(E5)),E5}var C5={},LC;function _oe(){return LC||(LC=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=uM();function r(n){return n!==null&&typeof n=="object"&&t.getTag(n)==="[object Arguments]"}e.isArguments=r})(C5)),C5}var MC;function joe(){return MC||(MC=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=tM(),r=hM(),n=_oe(),a=Wj();function s(l,o){let u;if(Array.isArray(o)?u=o:typeof o=="string"&&t.isDeepKey(o)&&l?.[o]==null?u=a.toPath(o):u=[o],u.length===0)return!1;let d=l;for(let h=0;h<u.length;h++){const m=u[h];if((d==null||!Object.hasOwn(d,m))&&!((Array.isArray(d)||n.isArguments(d))&&r.isIndex(m)&&m<d.length))return!1;d=d[m]}return!0}e.has=s})(k5)),k5}var RC;function Soe(){return RC||(RC=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=cM(),r=Vj(),n=Noe(),a=Kj(),s=joe();function l(o,u){switch(typeof o){case"object":{Object.is(o?.valueOf(),-0)&&(o="-0");break}case"number":{o=r.toKey(o);break}}return u=n.cloneDeep(u),function(d){const h=a.get(d,o);return h===void 0?s.has(d,o):u===void 0?h===void 0:t.isMatch(h,u)}}e.matchesProperty=l})(j5)),j5}var IC;function Aoe(){return IC||(IC=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=sM(),r=poe(),n=boe(),a=Soe();function s(l){if(l==null)return t.identity;switch(typeof l){case"function":return l;case"object":return Array.isArray(l)&&l.length===2?a.matchesProperty(l[0],l[1]):n.matches(l);case"string":case"symbol":case"number":return r.property(l)}}e.iteratee=s})(u5)),u5}var BC;function koe(){return BC||(BC=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=doe(),r=sM(),n=moe(),a=Aoe();function s(l,o=r.identity){return n.isArrayLikeObject(l)?t.uniqBy(Array.from(l),a.iteratee(o)):[]}e.uniqBy=s})(n5)),n5}var T5,UC;function Eoe(){return UC||(UC=1,T5=koe().uniqBy),T5}var Coe=Eoe();const zC=jd(Coe);function mM(e,t,r){return t===!0?zC(e,r):typeof t=="function"?zC(e,t):e}var O5={exports:{}},F5={},D5={exports:{}},P5={};/**
 * @license React
 * use-sync-external-store-shim.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var qC;function Toe(){if(qC)return P5;qC=1;var e=ap();function t(m,g){return m===g&&(m!==0||1/m===1/g)||m!==m&&g!==g}var r=typeof Object.is=="function"?Object.is:t,n=e.useState,a=e.useEffect,s=e.useLayoutEffect,l=e.useDebugValue;function o(m,g){var x=g(),b=n({inst:{value:x,getSnapshot:g}}),v=b[0].inst,w=b[1];return s(function(){v.value=x,v.getSnapshot=g,u(v)&&w({inst:v})},[m,x,g]),a(function(){return u(v)&&w({inst:v}),m(function(){u(v)&&w({inst:v})})},[m]),l(x),x}function u(m){var g=m.getSnapshot;m=m.value;try{var x=g();return!r(m,x)}catch{return!0}}function d(m,g){return g()}var h=typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"?d:o;return P5.useSyncExternalStore=e.useSyncExternalStore!==void 0?e.useSyncExternalStore:h,P5}var $C;function Ooe(){return $C||($C=1,D5.exports=Toe()),D5.exports}/**
 * @license React
 * use-sync-external-store-shim/with-selector.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var HC;function Foe(){if(HC)return F5;HC=1;var e=ap(),t=Ooe();function r(d,h){return d===h&&(d!==0||1/d===1/h)||d!==d&&h!==h}var n=typeof Object.is=="function"?Object.is:r,a=t.useSyncExternalStore,s=e.useRef,l=e.useEffect,o=e.useMemo,u=e.useDebugValue;return F5.useSyncExternalStoreWithSelector=function(d,h,m,g,x){var b=s(null);if(b.current===null){var v={hasValue:!1,value:null};b.current=v}else v=b.current;b=o(function(){function N(D){if(!E){if(E=!0,j=D,D=g(D),x!==void 0&&v.hasValue){var C=v.value;if(x(C,D))return T=C}return T=D}if(C=T,n(j,D))return C;var P=g(D);return x!==void 0&&x(C,P)?(j=D,C):(j=D,T=P)}var E=!1,j,T,O=m===void 0?null:m;return[function(){return N(h())},O===null?void 0:function(){return N(O())}]},[h,m,g,x]);var w=a(d,b[0],b[1]);return l(function(){v.hasValue=!0,v.value=w},[w]),u(w),w},F5}var VC;function Doe(){return VC||(VC=1,O5.exports=Foe()),O5.exports}var Poe=Doe(),Jj=k.createContext(null),Loe=e=>e,xa=()=>{var e=k.useContext(Jj);return e?e.store.dispatch:Loe},zv=()=>{},Moe=()=>zv,Roe=(e,t)=>e===t;function Ht(e){var t=k.useContext(Jj);return Poe.useSyncExternalStoreWithSelector(t?t.subscription.addNestedSub:Moe,t?t.store.getState:zv,t?t.store.getState:zv,t?e:zv,Roe)}function Ioe(e,t=`expected a function, instead received ${typeof e}`){if(typeof e!="function")throw new TypeError(t)}function Boe(e,t=`expected an object, instead received ${typeof e}`){if(typeof e!="object")throw new TypeError(t)}function Uoe(e,t="expected all items to be functions, instead received the following types: "){if(!e.every(r=>typeof r=="function")){const r=e.map(n=>typeof n=="function"?`function ${n.name||"unnamed"}()`:typeof n).join(", ");throw new TypeError(`${t}[${r}]`)}}var WC=e=>Array.isArray(e)?e:[e];function zoe(e){const t=Array.isArray(e[0])?e[0]:e;return Uoe(t,"createSelector expects all input-selectors to be functions, but received the following types: "),t}function qoe(e,t){const r=[],{length:n}=e;for(let a=0;a<n;a++)r.push(e[a].apply(null,t));return r}var $oe=class{constructor(e){this.value=e}deref(){return this.value}},Hoe=typeof WeakRef<"u"?WeakRef:$oe,Voe=0,KC=1;function hv(){return{s:Voe,v:void 0,o:null,p:null}}function pM(e,t={}){let r=hv();const{resultEqualityCheck:n}=t;let a,s=0;function l(){let o=r;const{length:u}=arguments;for(let m=0,g=u;m<g;m++){const x=arguments[m];if(typeof x=="function"||typeof x=="object"&&x!==null){let b=o.o;b===null&&(o.o=b=new WeakMap);const v=b.get(x);v===void 0?(o=hv(),b.set(x,o)):o=v}else{let b=o.p;b===null&&(o.p=b=new Map);const v=b.get(x);v===void 0?(o=hv(),b.set(x,o)):o=v}}const d=o;let h;if(o.s===KC)h=o.v;else if(h=e.apply(null,arguments),s++,n){const m=a?.deref?.()??a;m!=null&&n(m,h)&&(h=m,s!==0&&s--),a=typeof h=="object"&&h!==null||typeof h=="function"?new Hoe(h):h}return d.s=KC,d.v=h,h}return l.clearCache=()=>{r=hv(),l.resetResultsCount()},l.resultsCount=()=>s,l.resetResultsCount=()=>{s=0},l}function Woe(e,...t){const r=typeof e=="function"?{memoize:e,memoizeOptions:t}:e,n=(...a)=>{let s=0,l=0,o,u={},d=a.pop();typeof d=="object"&&(u=d,d=a.pop()),Ioe(d,`createSelector expects an output function after the inputs, but received: [${typeof d}]`);const h={...r,...u},{memoize:m,memoizeOptions:g=[],argsMemoize:x=pM,argsMemoizeOptions:b=[]}=h,v=WC(g),w=WC(b),N=zoe(a),E=m(function(){return s++,d.apply(null,arguments)},...v),j=x(function(){l++;const O=qoe(N,arguments);return o=E.apply(null,O),o},...w);return Object.assign(j,{resultFunc:d,memoizedResultFunc:E,dependencies:N,dependencyRecomputations:()=>l,resetDependencyRecomputations:()=>{l=0},lastResult:()=>o,recomputations:()=>s,resetRecomputations:()=>{s=0},memoize:m,argsMemoize:x})};return Object.assign(n,{withTypes:()=>n}),n}var Ke=Woe(pM),Koe=Object.assign((e,t=Ke)=>{Boe(e,`createStructuredSelector expects first argument to be an object where each property is a selector, instead received a ${typeof e}`);const r=Object.keys(e),n=r.map(s=>e[s]);return t(n,(...s)=>s.reduce((l,o,u)=>(l[r[u]]=o,l),{}))},{withTypes:()=>Koe}),L5={},M5={},R5={},GC;function Goe(){return GC||(GC=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n){return typeof n=="symbol"?1:n===null?2:n===void 0?3:n!==n?4:0}const r=(n,a,s)=>{if(n!==a){const l=t(n),o=t(a);if(l===o&&l===0){if(n<a)return s==="desc"?1:-1;if(n>a)return s==="desc"?-1:1}return s==="desc"?o-l:l-o}return 0};e.compareValues=r})(R5)),R5}var I5={},B5={},YC;function xM(){return YC||(YC=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){return typeof r=="symbol"||r instanceof Symbol}e.isSymbol=t})(B5)),B5}var XC;function Yoe(){return XC||(XC=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=xM(),r=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,n=/^\w*$/;function a(s,l){return Array.isArray(s)?!1:typeof s=="number"||typeof s=="boolean"||s==null||t.isSymbol(s)?!0:typeof s=="string"&&(n.test(s)||!r.test(s))||l!=null&&Object.hasOwn(l,s)}e.isKey=a})(I5)),I5}var QC;function Xoe(){return QC||(QC=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=Goe(),r=Yoe(),n=Wj();function a(s,l,o,u){if(s==null)return[];o=u?void 0:o,Array.isArray(s)||(s=Object.values(s)),Array.isArray(l)||(l=l==null?[null]:[l]),l.length===0&&(l=[null]),Array.isArray(o)||(o=o==null?[]:[o]),o=o.map(x=>String(x));const d=(x,b)=>{let v=x;for(let w=0;w<b.length&&v!=null;++w)v=v[b[w]];return v},h=(x,b)=>b==null||x==null?b:typeof x=="object"&&"key"in x?Object.hasOwn(b,x.key)?b[x.key]:d(b,x.path):typeof x=="function"?x(b):Array.isArray(x)?d(b,x):typeof b=="object"?b[x]:b,m=l.map(x=>(Array.isArray(x)&&x.length===1&&(x=x[0]),x==null||typeof x=="function"||Array.isArray(x)||r.isKey(x)?x:{key:x,path:n.toPath(x)}));return s.map(x=>({original:x,criteria:m.map(b=>h(b,x))})).slice().sort((x,b)=>{for(let v=0;v<m.length;v++){const w=t.compareValues(x.criteria[v],b.criteria[v],o[v]);if(w!==0)return w}return 0}).map(x=>x.original)}e.orderBy=a})(M5)),M5}var U5={},ZC;function Qoe(){return ZC||(ZC=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r,n=1){const a=[],s=Math.floor(n),l=(o,u)=>{for(let d=0;d<o.length;d++){const h=o[d];Array.isArray(h)&&u<s?l(h,u+1):a.push(h)}};return l(r,0),a}e.flatten=t})(U5)),U5}var z5={},JC;function gM(){return JC||(JC=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=hM(),r=Zj(),n=iM(),a=oM();function s(l,o,u){return n.isObject(u)&&(typeof o=="number"&&r.isArrayLike(u)&&t.isIndex(o)&&o<u.length||typeof o=="string"&&o in u)?a.eq(u[o],l):!1}e.isIterateeCall=s})(z5)),z5}var e8;function Zoe(){return e8||(e8=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=Xoe(),r=Qoe(),n=gM();function a(s,...l){const o=l.length;return o>1&&n.isIterateeCall(s,l[0],l[1])?l=[]:o>2&&n.isIterateeCall(l[0],l[1],l[2])&&(l=[l[0]]),t.orderBy(s,r.flatten(l),["asc"])}e.sortBy=a})(L5)),L5}var q5,t8;function Joe(){return t8||(t8=1,q5=Zoe().sortBy),q5}var ece=Joe();const E2=jd(ece);var vM=e=>e.legend.settings,tce=e=>e.legend.size,rce=e=>e.legend.payload,nce=Ke([rce,vM],(e,t)=>{var{itemSorter:r}=t,n=e.flat(1);return r?E2(n,r):n});function ace(){return Ht(nce)}var mv=1;function yM(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],[t,r]=k.useState({height:0,left:0,top:0,width:0}),n=k.useCallback(a=>{if(a!=null){var s=a.getBoundingClientRect(),l={height:s.height,left:s.left,top:s.top,width:s.width};(Math.abs(l.height-t.height)>mv||Math.abs(l.left-t.left)>mv||Math.abs(l.top-t.top)>mv||Math.abs(l.width-t.width)>mv)&&r({height:l.height,left:l.left,top:l.top,width:l.width})}},[t.width,t.height,t.top,t.left,...e]);return[t,n]}function li(e){return`Minified Redux error #${e}; visit https://redux.js.org/Errors?code=${e} for the full message or use the non-minified dev environment for full errors. `}var sce=typeof Symbol=="function"&&Symbol.observable||"@@observable",r8=sce,$5=()=>Math.random().toString(36).substring(7).split("").join("."),ice={INIT:`@@redux/INIT${$5()}`,REPLACE:`@@redux/REPLACE${$5()}`,PROBE_UNKNOWN_ACTION:()=>`@@redux/PROBE_UNKNOWN_ACTION${$5()}`},wy=ice;function e3(e){if(typeof e!="object"||e===null)return!1;let t=e;for(;Object.getPrototypeOf(t)!==null;)t=Object.getPrototypeOf(t);return Object.getPrototypeOf(e)===t||Object.getPrototypeOf(e)===null}function bM(e,t,r){if(typeof e!="function")throw new Error(li(2));if(typeof t=="function"&&typeof r=="function"||typeof r=="function"&&typeof arguments[3]=="function")throw new Error(li(0));if(typeof t=="function"&&typeof r>"u"&&(r=t,t=void 0),typeof r<"u"){if(typeof r!="function")throw new Error(li(1));return r(bM)(e,t)}let n=e,a=t,s=new Map,l=s,o=0,u=!1;function d(){l===s&&(l=new Map,s.forEach((w,N)=>{l.set(N,w)}))}function h(){if(u)throw new Error(li(3));return a}function m(w){if(typeof w!="function")throw new Error(li(4));if(u)throw new Error(li(5));let N=!0;d();const E=o++;return l.set(E,w),function(){if(N){if(u)throw new Error(li(6));N=!1,d(),l.delete(E),s=null}}}function g(w){if(!e3(w))throw new Error(li(7));if(typeof w.type>"u")throw new Error(li(8));if(typeof w.type!="string")throw new Error(li(17));if(u)throw new Error(li(9));try{u=!0,a=n(a,w)}finally{u=!1}return(s=l).forEach(E=>{E()}),w}function x(w){if(typeof w!="function")throw new Error(li(10));n=w,g({type:wy.REPLACE})}function b(){const w=m;return{subscribe(N){if(typeof N!="object"||N===null)throw new Error(li(11));function E(){const T=N;T.next&&T.next(h())}return E(),{unsubscribe:w(E)}},[r8](){return this}}}return g({type:wy.INIT}),{dispatch:g,subscribe:m,getState:h,replaceReducer:x,[r8]:b}}function lce(e){Object.keys(e).forEach(t=>{const r=e[t];if(typeof r(void 0,{type:wy.INIT})>"u")throw new Error(li(12));if(typeof r(void 0,{type:wy.PROBE_UNKNOWN_ACTION()})>"u")throw new Error(li(13))})}function wM(e){const t=Object.keys(e),r={};for(let s=0;s<t.length;s++){const l=t[s];typeof e[l]=="function"&&(r[l]=e[l])}const n=Object.keys(r);let a;try{lce(r)}catch(s){a=s}return function(l={},o){if(a)throw a;let u=!1;const d={};for(let h=0;h<n.length;h++){const m=n[h],g=r[m],x=l[m],b=g(x,o);if(typeof b>"u")throw o&&o.type,new Error(li(14));d[m]=b,u=u||b!==x}return u=u||n.length!==Object.keys(l).length,u?d:l}}function Ny(...e){return e.length===0?t=>t:e.length===1?e[0]:e.reduce((t,r)=>(...n)=>t(r(...n)))}function oce(...e){return t=>(r,n)=>{const a=t(r,n);let s=()=>{throw new Error(li(15))};const l={getState:a.getState,dispatch:(u,...d)=>s(u,...d)},o=e.map(u=>u(l));return s=Ny(...o)(a.dispatch),{...a,dispatch:s}}}function NM(e){return e3(e)&&"type"in e&&typeof e.type=="string"}var _M=Symbol.for("immer-nothing"),n8=Symbol.for("immer-draftable"),so=Symbol.for("immer-state");function wc(e,...t){throw new Error(`[Immer] minified error nr: ${e}. Full error at: https://bit.ly/3cXEKWf`)}var ug=Object.getPrototypeOf;function ah(e){return!!e&&!!e[so]}function yd(e){return e?jM(e)||Array.isArray(e)||!!e[n8]||!!e.constructor?.[n8]||Ug(e)||T2(e):!1}var cce=Object.prototype.constructor.toString(),a8=new WeakMap;function jM(e){if(!e||typeof e!="object")return!1;const t=Object.getPrototypeOf(e);if(t===null||t===Object.prototype)return!0;const r=Object.hasOwnProperty.call(t,"constructor")&&t.constructor;if(r===Object)return!0;if(typeof r!="function")return!1;let n=a8.get(r);return n===void 0&&(n=Function.toString.call(r),a8.set(r,n)),n===cce}function _y(e,t,r=!0){C2(e)===0?(r?Reflect.ownKeys(e):Object.keys(e)).forEach(a=>{t(a,e[a],e)}):e.forEach((n,a)=>t(a,n,e))}function C2(e){const t=e[so];return t?t.type_:Array.isArray(e)?1:Ug(e)?2:T2(e)?3:0}function C4(e,t){return C2(e)===2?e.has(t):Object.prototype.hasOwnProperty.call(e,t)}function SM(e,t,r){const n=C2(e);n===2?e.set(t,r):n===3?e.add(r):e[t]=r}function uce(e,t){return e===t?e!==0||1/e===1/t:e!==e&&t!==t}function Ug(e){return e instanceof Map}function T2(e){return e instanceof Set}function S0(e){return e.copy_||e.base_}function T4(e,t){if(Ug(e))return new Map(e);if(T2(e))return new Set(e);if(Array.isArray(e))return Array.prototype.slice.call(e);const r=jM(e);if(t===!0||t==="class_only"&&!r){const n=Object.getOwnPropertyDescriptors(e);delete n[so];let a=Reflect.ownKeys(n);for(let s=0;s<a.length;s++){const l=a[s],o=n[l];o.writable===!1&&(o.writable=!0,o.configurable=!0),(o.get||o.set)&&(n[l]={configurable:!0,writable:!0,enumerable:o.enumerable,value:e[l]})}return Object.create(ug(e),n)}else{const n=ug(e);if(n!==null&&r)return{...e};const a=Object.create(n);return Object.assign(a,e)}}function t3(e,t=!1){return O2(e)||ah(e)||!yd(e)||(C2(e)>1&&Object.defineProperties(e,{set:pv,add:pv,clear:pv,delete:pv}),Object.freeze(e),t&&Object.values(e).forEach(r=>t3(r,!0))),e}function dce(){wc(2)}var pv={value:dce};function O2(e){return e===null||typeof e!="object"?!0:Object.isFrozen(e)}var fce={};function sh(e){const t=fce[e];return t||wc(0,e),t}var dg;function AM(){return dg}function hce(e,t){return{drafts_:[],parent_:e,immer_:t,canAutoFreeze_:!0,unfinalizedDrafts_:0}}function s8(e,t){t&&(sh("Patches"),e.patches_=[],e.inversePatches_=[],e.patchListener_=t)}function O4(e){F4(e),e.drafts_.forEach(mce),e.drafts_=null}function F4(e){e===dg&&(dg=e.parent_)}function i8(e){return dg=hce(dg,e)}function mce(e){const t=e[so];t.type_===0||t.type_===1?t.revoke_():t.revoked_=!0}function l8(e,t){t.unfinalizedDrafts_=t.drafts_.length;const r=t.drafts_[0];return e!==void 0&&e!==r?(r[so].modified_&&(O4(t),wc(4)),yd(e)&&(e=jy(t,e),t.parent_||Sy(t,e)),t.patches_&&sh("Patches").generateReplacementPatches_(r[so].base_,e,t.patches_,t.inversePatches_)):e=jy(t,r,[]),O4(t),t.patches_&&t.patchListener_(t.patches_,t.inversePatches_),e!==_M?e:void 0}function jy(e,t,r){if(O2(t))return t;const n=e.immer_.shouldUseStrictIteration(),a=t[so];if(!a)return _y(t,(s,l)=>o8(e,a,t,s,l,r),n),t;if(a.scope_!==e)return t;if(!a.modified_)return Sy(e,a.base_,!0),a.base_;if(!a.finalized_){a.finalized_=!0,a.scope_.unfinalizedDrafts_--;const s=a.copy_;let l=s,o=!1;a.type_===3&&(l=new Set(s),s.clear(),o=!0),_y(l,(u,d)=>o8(e,a,s,u,d,r,o),n),Sy(e,s,!1),r&&e.patches_&&sh("Patches").generatePatches_(a,r,e.patches_,e.inversePatches_)}return a.copy_}function o8(e,t,r,n,a,s,l){if(a==null||typeof a!="object"&&!l)return;const o=O2(a);if(!(o&&!l)){if(ah(a)){const u=s&&t&&t.type_!==3&&!C4(t.assigned_,n)?s.concat(n):void 0,d=jy(e,a,u);if(SM(r,n,d),ah(d))e.canAutoFreeze_=!1;else return}else l&&r.add(a);if(yd(a)&&!o){if(!e.immer_.autoFreeze_&&e.unfinalizedDrafts_<1||t&&t.base_&&t.base_[n]===a&&o)return;jy(e,a),(!t||!t.scope_.parent_)&&typeof n!="symbol"&&(Ug(r)?r.has(n):Object.prototype.propertyIsEnumerable.call(r,n))&&Sy(e,a)}}}function Sy(e,t,r=!1){!e.parent_&&e.immer_.autoFreeze_&&e.canAutoFreeze_&&t3(t,r)}function pce(e,t){const r=Array.isArray(e),n={type_:r?1:0,scope_:t?t.scope_:AM(),modified_:!1,finalized_:!1,assigned_:{},parent_:t,base_:e,draft_:null,copy_:null,revoke_:null,isManual_:!1};let a=n,s=r3;r&&(a=[n],s=fg);const{revoke:l,proxy:o}=Proxy.revocable(a,s);return n.draft_=o,n.revoke_=l,o}var r3={get(e,t){if(t===so)return e;const r=S0(e);if(!C4(r,t))return xce(e,r,t);const n=r[t];return e.finalized_||!yd(n)?n:n===H5(e.base_,t)?(V5(e),e.copy_[t]=P4(n,e)):n},has(e,t){return t in S0(e)},ownKeys(e){return Reflect.ownKeys(S0(e))},set(e,t,r){const n=kM(S0(e),t);if(n?.set)return n.set.call(e.draft_,r),!0;if(!e.modified_){const a=H5(S0(e),t),s=a?.[so];if(s&&s.base_===r)return e.copy_[t]=r,e.assigned_[t]=!1,!0;if(uce(r,a)&&(r!==void 0||C4(e.base_,t)))return!0;V5(e),D4(e)}return e.copy_[t]===r&&(r!==void 0||t in e.copy_)||Number.isNaN(r)&&Number.isNaN(e.copy_[t])||(e.copy_[t]=r,e.assigned_[t]=!0),!0},deleteProperty(e,t){return H5(e.base_,t)!==void 0||t in e.base_?(e.assigned_[t]=!1,V5(e),D4(e)):delete e.assigned_[t],e.copy_&&delete e.copy_[t],!0},getOwnPropertyDescriptor(e,t){const r=S0(e),n=Reflect.getOwnPropertyDescriptor(r,t);return n&&{writable:!0,configurable:e.type_!==1||t!=="length",enumerable:n.enumerable,value:r[t]}},defineProperty(){wc(11)},getPrototypeOf(e){return ug(e.base_)},setPrototypeOf(){wc(12)}},fg={};_y(r3,(e,t)=>{fg[e]=function(){return arguments[0]=arguments[0][0],t.apply(this,arguments)}});fg.deleteProperty=function(e,t){return fg.set.call(this,e,t,void 0)};fg.set=function(e,t,r){return r3.set.call(this,e[0],t,r,e[0])};function H5(e,t){const r=e[so];return(r?S0(r):e)[t]}function xce(e,t,r){const n=kM(t,r);return n?"value"in n?n.value:n.get?.call(e.draft_):void 0}function kM(e,t){if(!(t in e))return;let r=ug(e);for(;r;){const n=Object.getOwnPropertyDescriptor(r,t);if(n)return n;r=ug(r)}}function D4(e){e.modified_||(e.modified_=!0,e.parent_&&D4(e.parent_))}function V5(e){e.copy_||(e.copy_=T4(e.base_,e.scope_.immer_.useStrictShallowCopy_))}var gce=class{constructor(e){this.autoFreeze_=!0,this.useStrictShallowCopy_=!1,this.useStrictIteration_=!0,this.produce=(t,r,n)=>{if(typeof t=="function"&&typeof r!="function"){const s=r;r=t;const l=this;return function(u=s,...d){return l.produce(u,h=>r.call(this,h,...d))}}typeof r!="function"&&wc(6),n!==void 0&&typeof n!="function"&&wc(7);let a;if(yd(t)){const s=i8(this),l=P4(t,void 0);let o=!0;try{a=r(l),o=!1}finally{o?O4(s):F4(s)}return s8(s,n),l8(a,s)}else if(!t||typeof t!="object"){if(a=r(t),a===void 0&&(a=t),a===_M&&(a=void 0),this.autoFreeze_&&t3(a,!0),n){const s=[],l=[];sh("Patches").generateReplacementPatches_(t,a,s,l),n(s,l)}return a}else wc(1,t)},this.produceWithPatches=(t,r)=>{if(typeof t=="function")return(l,...o)=>this.produceWithPatches(l,u=>t(u,...o));let n,a;return[this.produce(t,r,(l,o)=>{n=l,a=o}),n,a]},typeof e?.autoFreeze=="boolean"&&this.setAutoFreeze(e.autoFreeze),typeof e?.useStrictShallowCopy=="boolean"&&this.setUseStrictShallowCopy(e.useStrictShallowCopy),typeof e?.useStrictIteration=="boolean"&&this.setUseStrictIteration(e.useStrictIteration)}createDraft(e){yd(e)||wc(8),ah(e)&&(e=dd(e));const t=i8(this),r=P4(e,void 0);return r[so].isManual_=!0,F4(t),r}finishDraft(e,t){const r=e&&e[so];(!r||!r.isManual_)&&wc(9);const{scope_:n}=r;return s8(n,t),l8(void 0,n)}setAutoFreeze(e){this.autoFreeze_=e}setUseStrictShallowCopy(e){this.useStrictShallowCopy_=e}setUseStrictIteration(e){this.useStrictIteration_=e}shouldUseStrictIteration(){return this.useStrictIteration_}applyPatches(e,t){let r;for(r=t.length-1;r>=0;r--){const a=t[r];if(a.path.length===0&&a.op==="replace"){e=a.value;break}}r>-1&&(t=t.slice(r+1));const n=sh("Patches").applyPatches_;return ah(e)?n(e,t):this.produce(e,a=>n(a,t))}};function P4(e,t){const r=Ug(e)?sh("MapSet").proxyMap_(e,t):T2(e)?sh("MapSet").proxySet_(e,t):pce(e,t);return(t?t.scope_:AM()).drafts_.push(r),r}function dd(e){return ah(e)||wc(10,e),EM(e)}function EM(e){if(!yd(e)||O2(e))return e;const t=e[so];let r,n=!0;if(t){if(!t.modified_)return t.base_;t.finalized_=!0,r=T4(e,t.scope_.immer_.useStrictShallowCopy_),n=t.scope_.immer_.shouldUseStrictIteration()}else r=T4(e,!0);return _y(r,(a,s)=>{SM(r,a,EM(s))},n),t&&(t.finalized_=!1),r}var vce=new gce,CM=vce.produce;function TM(e){return({dispatch:r,getState:n})=>a=>s=>typeof s=="function"?s(r,n,e):a(s)}var yce=TM(),bce=TM,wce=typeof window<"u"&&window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__?window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__:function(){if(arguments.length!==0)return typeof arguments[0]=="object"?Ny:Ny.apply(null,arguments)};function Vo(e,t){function r(...n){if(t){let a=t(...n);if(!a)throw new Error(ro(0));return{type:e,payload:a.payload,..."meta"in a&&{meta:a.meta},..."error"in a&&{error:a.error}}}return{type:e,payload:n[0]}}return r.toString=()=>`${e}`,r.type=e,r.match=n=>NM(n)&&n.type===e,r}var OM=class Ax extends Array{constructor(...t){super(...t),Object.setPrototypeOf(this,Ax.prototype)}static get[Symbol.species](){return Ax}concat(...t){return super.concat.apply(this,t)}prepend(...t){return t.length===1&&Array.isArray(t[0])?new Ax(...t[0].concat(this)):new Ax(...t.concat(this))}};function c8(e){return yd(e)?CM(e,()=>{}):e}function xv(e,t,r){return e.has(t)?e.get(t):e.set(t,r(t)).get(t)}function Nce(e){return typeof e=="boolean"}var _ce=()=>function(t){const{thunk:r=!0,immutableCheck:n=!0,serializableCheck:a=!0,actionCreatorCheck:s=!0}=t??{};let l=new OM;return r&&(Nce(r)?l.push(yce):l.push(bce(r.extraArgument))),l},FM="RTK_autoBatch",Zi=()=>e=>({payload:e,meta:{[FM]:!0}}),u8=e=>t=>{setTimeout(t,e)},DM=(e={type:"raf"})=>t=>(...r)=>{const n=t(...r);let a=!0,s=!1,l=!1;const o=new Set,u=e.type==="tick"?queueMicrotask:e.type==="raf"?typeof window<"u"&&window.requestAnimationFrame?window.requestAnimationFrame:u8(10):e.type==="callback"?e.queueNotification:u8(e.timeout),d=()=>{l=!1,s&&(s=!1,o.forEach(h=>h()))};return Object.assign({},n,{subscribe(h){const m=()=>a&&h(),g=n.subscribe(m);return o.add(h),()=>{g(),o.delete(h)}},dispatch(h){try{return a=!h?.meta?.[FM],s=!a,s&&(l||(l=!0,u(d))),n.dispatch(h)}finally{a=!0}}})},jce=e=>function(r){const{autoBatch:n=!0}=r??{};let a=new OM(e);return n&&a.push(DM(typeof n=="object"?n:void 0)),a};function Sce(e){const t=_ce(),{reducer:r=void 0,middleware:n,devTools:a=!0,preloadedState:s=void 0,enhancers:l=void 0}=e||{};let o;if(typeof r=="function")o=r;else if(e3(r))o=wM(r);else throw new Error(ro(1));let u;typeof n=="function"?u=n(t):u=t();let d=Ny;a&&(d=wce({trace:!1,...typeof a=="object"&&a}));const h=oce(...u),m=jce(h);let g=typeof l=="function"?l(m):m();const x=d(...g);return bM(o,s,x)}function PM(e){const t={},r=[];let n;const a={addCase(s,l){const o=typeof s=="string"?s:s.type;if(!o)throw new Error(ro(28));if(o in t)throw new Error(ro(29));return t[o]=l,a},addAsyncThunk(s,l){return l.pending&&(t[s.pending.type]=l.pending),l.rejected&&(t[s.rejected.type]=l.rejected),l.fulfilled&&(t[s.fulfilled.type]=l.fulfilled),l.settled&&r.push({matcher:s.settled,reducer:l.settled}),a},addMatcher(s,l){return r.push({matcher:s,reducer:l}),a},addDefaultCase(s){return n=s,a}};return e(a),[t,r,n]}function Ace(e){return typeof e=="function"}function kce(e,t){let[r,n,a]=PM(t),s;if(Ace(e))s=()=>c8(e());else{const o=c8(e);s=()=>o}function l(o=s(),u){let d=[r[u.type],...n.filter(({matcher:h})=>h(u)).map(({reducer:h})=>h)];return d.filter(h=>!!h).length===0&&(d=[a]),d.reduce((h,m)=>{if(m)if(ah(h)){const x=m(h,u);return x===void 0?h:x}else{if(yd(h))return CM(h,g=>m(g,u));{const g=m(h,u);if(g===void 0){if(h===null)return h;throw Error("A case reducer on a non-draftable value must not return undefined")}return g}}return h},o)}return l.getInitialState=s,l}var Ece="ModuleSymbhasOwnPr-0123456789ABCDEFGHNRVfgctiUvz_KqYTJkLxpZXIjQW",Cce=(e=21)=>{let t="",r=e;for(;r--;)t+=Ece[Math.random()*64|0];return t},Tce=Symbol.for("rtk-slice-createasyncthunk");function Oce(e,t){return`${e}/${t}`}function Fce({creators:e}={}){const t=e?.asyncThunk?.[Tce];return function(n){const{name:a,reducerPath:s=a}=n;if(!a)throw new Error(ro(11));const l=(typeof n.reducers=="function"?n.reducers(Pce()):n.reducers)||{},o=Object.keys(l),u={sliceCaseReducersByName:{},sliceCaseReducersByType:{},actionCreators:{},sliceMatchers:[]},d={addCase(j,T){const O=typeof j=="string"?j:j.type;if(!O)throw new Error(ro(12));if(O in u.sliceCaseReducersByType)throw new Error(ro(13));return u.sliceCaseReducersByType[O]=T,d},addMatcher(j,T){return u.sliceMatchers.push({matcher:j,reducer:T}),d},exposeAction(j,T){return u.actionCreators[j]=T,d},exposeCaseReducer(j,T){return u.sliceCaseReducersByName[j]=T,d}};o.forEach(j=>{const T=l[j],O={reducerName:j,type:Oce(a,j),createNotation:typeof n.reducers=="function"};Mce(T)?Ice(O,T,d,t):Lce(O,T,d)});function h(){const[j={},T=[],O=void 0]=typeof n.extraReducers=="function"?PM(n.extraReducers):[n.extraReducers],D={...j,...u.sliceCaseReducersByType};return kce(n.initialState,C=>{for(let P in D)C.addCase(P,D[P]);for(let P of u.sliceMatchers)C.addMatcher(P.matcher,P.reducer);for(let P of T)C.addMatcher(P.matcher,P.reducer);O&&C.addDefaultCase(O)})}const m=j=>j,g=new Map,x=new WeakMap;let b;function v(j,T){return b||(b=h()),b(j,T)}function w(){return b||(b=h()),b.getInitialState()}function N(j,T=!1){function O(C){let P=C[j];return typeof P>"u"&&T&&(P=xv(x,O,w)),P}function D(C=m){const P=xv(g,T,()=>new WeakMap);return xv(P,C,()=>{const B={};for(const[H,L]of Object.entries(n.selectors??{}))B[H]=Dce(L,C,()=>xv(x,C,w),T);return B})}return{reducerPath:j,getSelectors:D,get selectors(){return D(O)},selectSlice:O}}const E={name:a,reducer:v,actions:u.actionCreators,caseReducers:u.sliceCaseReducersByName,getInitialState:w,...N(s),injectInto(j,{reducerPath:T,...O}={}){const D=T??s;return j.inject({reducerPath:D,reducer:v},O),{...E,...N(D,!0)}}};return E}}function Dce(e,t,r,n){function a(s,...l){let o=t(s);return typeof o>"u"&&n&&(o=r()),e(o,...l)}return a.unwrapped=e,a}var oo=Fce();function Pce(){function e(t,r){return{_reducerDefinitionType:"asyncThunk",payloadCreator:t,...r}}return e.withTypes=()=>e,{reducer(t){return Object.assign({[t.name](...r){return t(...r)}}[t.name],{_reducerDefinitionType:"reducer"})},preparedReducer(t,r){return{_reducerDefinitionType:"reducerWithPrepare",prepare:t,reducer:r}},asyncThunk:e}}function Lce({type:e,reducerName:t,createNotation:r},n,a){let s,l;if("reducer"in n){if(r&&!Rce(n))throw new Error(ro(17));s=n.reducer,l=n.prepare}else s=n;a.addCase(e,s).exposeCaseReducer(t,s).exposeAction(t,l?Vo(e,l):Vo(e))}function Mce(e){return e._reducerDefinitionType==="asyncThunk"}function Rce(e){return e._reducerDefinitionType==="reducerWithPrepare"}function Ice({type:e,reducerName:t},r,n,a){if(!a)throw new Error(ro(18));const{payloadCreator:s,fulfilled:l,pending:o,rejected:u,settled:d,options:h}=r,m=a(e,s,h);n.exposeAction(t,m),l&&n.addCase(m.fulfilled,l),o&&n.addCase(m.pending,o),u&&n.addCase(m.rejected,u),d&&n.addMatcher(m.settled,d),n.exposeCaseReducer(t,{fulfilled:l||gv,pending:o||gv,rejected:u||gv,settled:d||gv})}function gv(){}var Bce="task",LM="listener",MM="completed",n3="cancelled",Uce=`task-${n3}`,zce=`task-${MM}`,L4=`${LM}-${n3}`,qce=`${LM}-${MM}`,F2=class{constructor(e){this.code=e,this.message=`${Bce} ${n3} (reason: ${e})`}name="TaskAbortError";message},a3=(e,t)=>{if(typeof e!="function")throw new TypeError(ro(32))},Ay=()=>{},RM=(e,t=Ay)=>(e.catch(t),e),IM=(e,t)=>(e.addEventListener("abort",t,{once:!0}),()=>e.removeEventListener("abort",t)),U0=(e,t)=>{const r=e.signal;r.aborted||("reason"in r||Object.defineProperty(r,"reason",{enumerable:!0,value:t,configurable:!0,writable:!0}),e.abort(t))},z0=e=>{if(e.aborted){const{reason:t}=e;throw new F2(t)}};function BM(e,t){let r=Ay;return new Promise((n,a)=>{const s=()=>a(new F2(e.reason));if(e.aborted){s();return}r=IM(e,s),t.finally(()=>r()).then(n,a)}).finally(()=>{r=Ay})}var $ce=async(e,t)=>{try{return await Promise.resolve(),{status:"ok",value:await e()}}catch(r){return{status:r instanceof F2?"cancelled":"rejected",error:r}}finally{t?.()}},ky=e=>t=>RM(BM(e,t).then(r=>(z0(e),r))),UM=e=>{const t=ky(e);return r=>t(new Promise(n=>setTimeout(n,r)))},{assign:Bm}=Object,d8={},D2="listenerMiddleware",Hce=(e,t)=>{const r=n=>IM(e,()=>U0(n,e.reason));return(n,a)=>{a3(n);const s=new AbortController;r(s);const l=$ce(async()=>{z0(e),z0(s.signal);const o=await n({pause:ky(s.signal),delay:UM(s.signal),signal:s.signal});return z0(s.signal),o},()=>U0(s,zce));return a?.autoJoin&&t.push(l.catch(Ay)),{result:ky(e)(l),cancel(){U0(s,Uce)}}}},Vce=(e,t)=>{const r=async(n,a)=>{z0(t);let s=()=>{};const o=[new Promise((u,d)=>{let h=e({predicate:n,effect:(m,g)=>{g.unsubscribe(),u([m,g.getState(),g.getOriginalState()])}});s=()=>{h(),d()}})];a!=null&&o.push(new Promise(u=>setTimeout(u,a,null)));try{const u=await BM(t,Promise.race(o));return z0(t),u}finally{s()}};return(n,a)=>RM(r(n,a))},zM=e=>{let{type:t,actionCreator:r,matcher:n,predicate:a,effect:s}=e;if(t)a=Vo(t).match;else if(r)t=r.type,a=r.match;else if(n)a=n;else if(!a)throw new Error(ro(21));return a3(s),{predicate:a,type:t,effect:s}},qM=Bm(e=>{const{type:t,predicate:r,effect:n}=zM(e);return{id:Cce(),effect:n,type:t,predicate:r,pending:new Set,unsubscribe:()=>{throw new Error(ro(22))}}},{withTypes:()=>qM}),f8=(e,t)=>{const{type:r,effect:n,predicate:a}=zM(t);return Array.from(e.values()).find(s=>(typeof r=="string"?s.type===r:s.predicate===a)&&s.effect===n)},M4=e=>{e.pending.forEach(t=>{U0(t,L4)})},Wce=(e,t)=>()=>{for(const r of t.keys())M4(r);e.clear()},h8=(e,t,r)=>{try{e(t,r)}catch(n){setTimeout(()=>{throw n},0)}},$M=Bm(Vo(`${D2}/add`),{withTypes:()=>$M}),Kce=Vo(`${D2}/removeAll`),HM=Bm(Vo(`${D2}/remove`),{withTypes:()=>HM}),Gce=(...e)=>{console.error(`${D2}/error`,...e)},zg=(e={})=>{const t=new Map,r=new Map,n=x=>{const b=r.get(x)??0;r.set(x,b+1)},a=x=>{const b=r.get(x)??1;b===1?r.delete(x):r.set(x,b-1)},{extra:s,onError:l=Gce}=e;a3(l);const o=x=>(x.unsubscribe=()=>t.delete(x.id),t.set(x.id,x),b=>{x.unsubscribe(),b?.cancelActive&&M4(x)}),u=x=>{const b=f8(t,x)??qM(x);return o(b)};Bm(u,{withTypes:()=>u});const d=x=>{const b=f8(t,x);return b&&(b.unsubscribe(),x.cancelActive&&M4(b)),!!b};Bm(d,{withTypes:()=>d});const h=async(x,b,v,w)=>{const N=new AbortController,E=Vce(u,N.signal),j=[];try{x.pending.add(N),n(x),await Promise.resolve(x.effect(b,Bm({},v,{getOriginalState:w,condition:(T,O)=>E(T,O).then(Boolean),take:E,delay:UM(N.signal),pause:ky(N.signal),extra:s,signal:N.signal,fork:Hce(N.signal,j),unsubscribe:x.unsubscribe,subscribe:()=>{t.set(x.id,x)},cancelActiveListeners:()=>{x.pending.forEach((T,O,D)=>{T!==N&&(U0(T,L4),D.delete(T))})},cancel:()=>{U0(N,L4),x.pending.delete(N)},throwIfCancelled:()=>{z0(N.signal)}})))}catch(T){T instanceof F2||h8(l,T,{raisedBy:"effect"})}finally{await Promise.all(j),U0(N,qce),a(x),x.pending.delete(N)}},m=Wce(t,r);return{middleware:x=>b=>v=>{if(!NM(v))return b(v);if($M.match(v))return u(v.payload);if(Kce.match(v)){m();return}if(HM.match(v))return d(v.payload);let w=x.getState();const N=()=>{if(w===d8)throw new Error(ro(23));return w};let E;try{if(E=b(v),t.size>0){const j=x.getState(),T=Array.from(t.values());for(const O of T){let D=!1;try{D=O.predicate(v,j,w)}catch(C){D=!1,h8(l,C,{raisedBy:"predicate"})}D&&h(O,v,x,N)}}}finally{w=d8}return E},startListening:u,stopListening:d,clearListeners:m}};function ro(e){return`Minified Redux Toolkit error #${e}; visit https://redux-toolkit.js.org/Errors?code=${e} for the full message or use the non-minified dev environment for full errors. `}var Yce={layoutType:"horizontal",width:0,height:0,margin:{top:5,right:5,bottom:5,left:5},scale:1},VM=oo({name:"chartLayout",initialState:Yce,reducers:{setLayout(e,t){e.layoutType=t.payload},setChartSize(e,t){e.width=t.payload.width,e.height=t.payload.height},setMargin(e,t){var r,n,a,s;e.margin.top=(r=t.payload.top)!==null&&r!==void 0?r:0,e.margin.right=(n=t.payload.right)!==null&&n!==void 0?n:0,e.margin.bottom=(a=t.payload.bottom)!==null&&a!==void 0?a:0,e.margin.left=(s=t.payload.left)!==null&&s!==void 0?s:0},setScale(e,t){e.scale=t.payload}}}),{setMargin:Xce,setLayout:Qce,setChartSize:Zce,setScale:Jce}=VM.actions,eue=VM.reducer;function m8(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function p8(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?m8(Object(r),!0).forEach(function(n){tue(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):m8(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function tue(e,t,r){return(t=rue(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function rue(e){var t=nue(e,"string");return typeof t=="symbol"?t:t+""}function nue(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Ey=Math.PI/180,aue=e=>e*180/Math.PI,cs=(e,t,r,n)=>({x:e+Math.cos(-Ey*n)*r,y:t+Math.sin(-Ey*n)*r}),WM=function(t,r){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{top:0,right:0,bottom:0,left:0};return Math.min(Math.abs(t-(n.left||0)-(n.right||0)),Math.abs(r-(n.top||0)-(n.bottom||0)))/2},sue=(e,t)=>{var{x:r,y:n}=e,{x:a,y:s}=t;return Math.sqrt((r-a)**2+(n-s)**2)},iue=(e,t)=>{var{x:r,y:n}=e,{cx:a,cy:s}=t,l=sue({x:r,y:n},{x:a,y:s});if(l<=0)return{radius:l,angle:0};var o=(r-a)/l,u=Math.acos(o);return n>s&&(u=2*Math.PI-u),{radius:l,angle:aue(u),angleInRadian:u}},lue=e=>{var{startAngle:t,endAngle:r}=e,n=Math.floor(t/360),a=Math.floor(r/360),s=Math.min(n,a);return{startAngle:t-s*360,endAngle:r-s*360}},oue=(e,t)=>{var{startAngle:r,endAngle:n}=t,a=Math.floor(r/360),s=Math.floor(n/360),l=Math.min(a,s);return e+l*360},cue=(e,t)=>{var{x:r,y:n}=e,{radius:a,angle:s}=iue({x:r,y:n},t),{innerRadius:l,outerRadius:o}=t;if(a<l||a>o||a===0)return null;var{startAngle:u,endAngle:d}=lue(t),h=s,m;if(u<=d){for(;h>d;)h-=360;for(;h<u;)h+=360;m=h>=u&&h<=d}else{for(;h>u;)h-=360;for(;h<d;)h+=360;m=h>=d&&h<=u}return m?p8(p8({},t),{},{radius:a,angle:oue(h,t)}):null};function KM(e,t,r){return Array.isArray(e)&&e&&t+r!==0?e.slice(t,r+1):e}function x8(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function Io(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?x8(Object(r),!0).forEach(function(n){uue(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):x8(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function uue(e,t,r){return(t=due(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function due(e){var t=fue(e,"string");return typeof t=="symbol"?t:t+""}function fue(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Kn(e,t,r){return pa(e)||pa(t)?r:pu(t)?nh(e,t,r):typeof t=="function"?t(e):r}var hue=(e,t,r,n,a)=>{var s,l=-1,o=(s=t?.length)!==null&&s!==void 0?s:0;if(o<=1||e==null)return 0;if(n==="angleAxis"&&a!=null&&Math.abs(Math.abs(a[1]-a[0])-360)<=1e-6)for(var u=0;u<o;u++){var d=u>0?r[u-1].coordinate:r[o-1].coordinate,h=r[u].coordinate,m=u>=o-1?r[0].coordinate:r[u+1].coordinate,g=void 0;if(Ks(h-d)!==Ks(m-h)){var x=[];if(Ks(m-h)===Ks(a[1]-a[0])){g=m;var b=h+a[1]-a[0];x[0]=Math.min(b,(b+d)/2),x[1]=Math.max(b,(b+d)/2)}else{g=d;var v=m+a[1]-a[0];x[0]=Math.min(h,(v+h)/2),x[1]=Math.max(h,(v+h)/2)}var w=[Math.min(h,(g+h)/2),Math.max(h,(g+h)/2)];if(e>w[0]&&e<=w[1]||e>=x[0]&&e<=x[1]){({index:l}=r[u]);break}}else{var N=Math.min(d,m),E=Math.max(d,m);if(e>(N+h)/2&&e<=(E+h)/2){({index:l}=r[u]);break}}}else if(t){for(var j=0;j<o;j++)if(j===0&&e<=(t[j].coordinate+t[j+1].coordinate)/2||j>0&&j<o-1&&e>(t[j].coordinate+t[j-1].coordinate)/2&&e<=(t[j].coordinate+t[j+1].coordinate)/2||j===o-1&&e>(t[j].coordinate+t[j-1].coordinate)/2){({index:l}=t[j]);break}}return l},mue=(e,t,r)=>{if(t&&r){var{width:n,height:a}=r,{align:s,verticalAlign:l,layout:o}=t;if((o==="vertical"||o==="horizontal"&&l==="middle")&&s!=="center"&&Qt(e[s]))return Io(Io({},e),{},{[s]:e[s]+(n||0)});if((o==="horizontal"||o==="vertical"&&s==="center")&&l!=="middle"&&Qt(e[l]))return Io(Io({},e),{},{[l]:e[l]+(a||0)})}return e},Wf=(e,t)=>e==="horizontal"&&t==="xAxis"||e==="vertical"&&t==="yAxis"||e==="centric"&&t==="angleAxis"||e==="radial"&&t==="radiusAxis",GM=(e,t,r,n)=>{if(n)return e.map(o=>o.coordinate);var a,s,l=e.map(o=>(o.coordinate===t&&(a=!0),o.coordinate===r&&(s=!0),o.coordinate));return a||l.push(t),s||l.push(r),l},YM=(e,t,r)=>{if(!e)return null;var{duplicateDomain:n,type:a,range:s,scale:l,realScaleType:o,isCategorical:u,categoricalDomain:d,tickCount:h,ticks:m,niceTicks:g,axisType:x}=e;if(!l)return null;var b=o==="scaleBand"&&l.bandwidth?l.bandwidth()/2:2,v=a==="category"&&l.bandwidth?l.bandwidth()/b:0;if(v=x==="angleAxis"&&s&&s.length>=2?Ks(s[0]-s[1])*2*v:v,m||g){var w=(m||g||[]).map((N,E)=>{var j=n?n.indexOf(N):N;return{coordinate:l(j)+v,value:N,offset:v,index:E}});return w.filter(N=>!Ho(N.coordinate))}return u&&d?d.map((N,E)=>({coordinate:l(N)+v,value:N,index:E,offset:v})):l.ticks&&h!=null?l.ticks(h).map((N,E)=>({coordinate:l(N)+v,value:N,offset:v,index:E})):l.domain().map((N,E)=>({coordinate:l(N)+v,value:n?n[N]:N,index:E,offset:v}))},g8=1e-4,pue=e=>{var t=e.domain();if(!(!t||t.length<=2)){var r=t.length,n=e.range(),a=Math.min(n[0],n[1])-g8,s=Math.max(n[0],n[1])+g8,l=e(t[0]),o=e(t[r-1]);(l<a||l>s||o<a||o>s)&&e.domain([t[0],t[r-1]])}},xue=(e,t)=>{if(!t||t.length!==2||!Qt(t[0])||!Qt(t[1]))return e;var r=Math.min(t[0],t[1]),n=Math.max(t[0],t[1]),a=[e[0],e[1]];return(!Qt(e[0])||e[0]<r)&&(a[0]=r),(!Qt(e[1])||e[1]>n)&&(a[1]=n),a[0]>n&&(a[0]=n),a[1]<r&&(a[1]=r),a},gue=e=>{var t=e.length;if(!(t<=0))for(var r=0,n=e[0].length;r<n;++r)for(var a=0,s=0,l=0;l<t;++l){var o=Ho(e[l][r][1])?e[l][r][0]:e[l][r][1];o>=0?(e[l][r][0]=a,e[l][r][1]=a+o,a=e[l][r][1]):(e[l][r][0]=s,e[l][r][1]=s+o,s=e[l][r][1])}},vue=e=>{var t=e.length;if(!(t<=0))for(var r=0,n=e[0].length;r<n;++r)for(var a=0,s=0;s<t;++s){var l=Ho(e[s][r][1])?e[s][r][0]:e[s][r][1];l>=0?(e[s][r][0]=a,e[s][r][1]=a+l,a=e[s][r][1]):(e[s][r][0]=0,e[s][r][1]=0)}},yue={sign:gue,expand:$le,none:Qm,silhouette:Hle,wiggle:Vle,positive:vue},bue=(e,t,r)=>{var n=yue[r],a=qle().keys(t).value((s,l)=>+Kn(s,l,0)).order(A4).offset(n);return a(e)};function wue(e){return e==null?void 0:String(e)}function v8(e){var{axis:t,ticks:r,bandSize:n,entry:a,index:s,dataKey:l}=e;if(t.type==="category"){if(!t.allowDuplicatedCategory&&t.dataKey&&!pa(a[t.dataKey])){var o=nM(r,"value",a[t.dataKey]);if(o)return o.coordinate+n/2}return r[s]?r[s].coordinate+n/2:null}var u=Kn(a,pa(l)?t.dataKey:l);return pa(u)?null:t.scale(u)}var y8=e=>{var{axis:t,ticks:r,offset:n,bandSize:a,entry:s,index:l}=e;if(t.type==="category")return r[l]?r[l].coordinate+n:null;var o=Kn(s,t.dataKey,t.scale.domain()[l]);return pa(o)?null:t.scale(o)-a/2+n},Nue=e=>{var{numericAxis:t}=e,r=t.scale.domain();if(t.type==="number"){var n=Math.min(r[0],r[1]),a=Math.max(r[0],r[1]);return n<=0&&a>=0?0:a<0?a:n}return r[0]},_ue=e=>{var t=e.flat(2).filter(Qt);return[Math.min(...t),Math.max(...t)]},jue=e=>[e[0]===1/0?0:e[0],e[1]===-1/0?0:e[1]],Sue=(e,t,r)=>{if(e!=null)return jue(Object.keys(e).reduce((n,a)=>{var s=e[a],{stackedData:l}=s,o=l.reduce((u,d)=>{var h=KM(d,t,r),m=_ue(h);return[Math.min(u[0],m[0]),Math.max(u[1],m[1])]},[1/0,-1/0]);return[Math.min(o[0],n[0]),Math.max(o[1],n[1])]},[1/0,-1/0]))},b8=/^dataMin[\s]*-[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,w8=/^dataMax[\s]*\+[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,hg=(e,t,r)=>{if(e&&e.scale&&e.scale.bandwidth){var n=e.scale.bandwidth();if(!r||n>0)return n}if(e&&t&&t.length>=2){for(var a=E2(t,h=>h.coordinate),s=1/0,l=1,o=a.length;l<o;l++){var u=a[l],d=a[l-1];s=Math.min((u.coordinate||0)-(d.coordinate||0),s)}return s===1/0?0:s}return r?void 0:0};function N8(e){var{tooltipEntrySettings:t,dataKey:r,payload:n,value:a,name:s}=e;return Io(Io({},t),{},{dataKey:r,payload:n,value:a,name:s})}function xp(e,t){if(e)return String(e);if(typeof t=="string")return t}function Aue(e,t,r,n,a){if(r==="horizontal"||r==="vertical"){var s=e>=a.left&&e<=a.left+a.width&&t>=a.top&&t<=a.top+a.height;return s?{x:e,y:t}:null}return n?cue({x:e,y:t},n):null}var kue=(e,t,r,n)=>{var a=t.find(d=>d&&d.index===r);if(a){if(e==="horizontal")return{x:a.coordinate,y:n.y};if(e==="vertical")return{x:n.x,y:a.coordinate};if(e==="centric"){var s=a.coordinate,{radius:l}=n;return Io(Io(Io({},n),cs(n.cx,n.cy,l,s)),{},{angle:s,radius:l})}var o=a.coordinate,{angle:u}=n;return Io(Io(Io({},n),cs(n.cx,n.cy,o,u)),{},{angle:u,radius:o})}return{x:0,y:0}},Eue=(e,t)=>t==="horizontal"?e.x:t==="vertical"?e.y:t==="centric"?e.angle:e.radius,Ed=e=>e.layout.width,Cd=e=>e.layout.height,Cue=e=>e.layout.scale,XM=e=>e.layout.margin,P2=Ke(e=>e.cartesianAxis.xAxis,e=>Object.values(e)),L2=Ke(e=>e.cartesianAxis.yAxis,e=>Object.values(e)),QM="data-recharts-item-index",ZM="data-recharts-item-data-key",qg=60;function _8(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function vv(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?_8(Object(r),!0).forEach(function(n){Tue(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):_8(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Tue(e,t,r){return(t=Oue(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Oue(e){var t=Fue(e,"string");return typeof t=="symbol"?t:t+""}function Fue(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Due=e=>e.brush.height;function Pue(e){var t=L2(e);return t.reduce((r,n)=>{if(n.orientation==="left"&&!n.mirror&&!n.hide){var a=typeof n.width=="number"?n.width:qg;return r+a}return r},0)}function Lue(e){var t=L2(e);return t.reduce((r,n)=>{if(n.orientation==="right"&&!n.mirror&&!n.hide){var a=typeof n.width=="number"?n.width:qg;return r+a}return r},0)}function Mue(e){var t=P2(e);return t.reduce((r,n)=>n.orientation==="top"&&!n.mirror&&!n.hide?r+n.height:r,0)}function Rue(e){var t=P2(e);return t.reduce((r,n)=>n.orientation==="bottom"&&!n.mirror&&!n.hide?r+n.height:r,0)}var Os=Ke([Ed,Cd,XM,Due,Pue,Lue,Mue,Rue,vM,tce],(e,t,r,n,a,s,l,o,u,d)=>{var h={left:(r.left||0)+a,right:(r.right||0)+s},m={top:(r.top||0)+l,bottom:(r.bottom||0)+o},g=vv(vv({},m),h),x=g.bottom;g.bottom+=n,g=mue(g,u,d);var b=e-g.left-g.right,v=t-g.top-g.bottom;return vv(vv({brushBottom:x},g),{},{width:Math.max(b,0),height:Math.max(v,0)})}),Iue=Ke(Os,e=>({x:e.left,y:e.top,width:e.width,height:e.height})),s3=Ke(Ed,Cd,(e,t)=>({x:0,y:0,width:e,height:t})),Bue=k.createContext(null),al=()=>k.useContext(Bue)!=null,M2=e=>e.brush,R2=Ke([M2,Os,XM],(e,t,r)=>({height:e.height,x:Qt(e.x)?e.x:t.left,y:Qt(e.y)?e.y:t.top+t.height+t.brushBottom-(r?.bottom||0),width:Qt(e.width)?e.width:t.width})),W5={},K5={},G5={},j8;function Uue(){return j8||(j8=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r,n,{signal:a,edges:s}={}){let l,o=null;const u=s!=null&&s.includes("leading"),d=s==null||s.includes("trailing"),h=()=>{o!==null&&(r.apply(l,o),l=void 0,o=null)},m=()=>{d&&h(),v()};let g=null;const x=()=>{g!=null&&clearTimeout(g),g=setTimeout(()=>{g=null,m()},n)},b=()=>{g!==null&&(clearTimeout(g),g=null)},v=()=>{b(),l=void 0,o=null},w=()=>{h()},N=function(...E){if(a?.aborted)return;l=this,o=E;const j=g==null;x(),u&&j&&h()};return N.schedule=x,N.cancel=v,N.flush=w,a?.addEventListener("abort",v,{once:!0}),N}e.debounce=t})(G5)),G5}var S8;function zue(){return S8||(S8=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=Uue();function r(n,a=0,s={}){typeof s!="object"&&(s={});const{leading:l=!1,trailing:o=!0,maxWait:u}=s,d=Array(2);l&&(d[0]="leading"),o&&(d[1]="trailing");let h,m=null;const g=t.debounce(function(...v){h=n.apply(this,v),m=null},a,{edges:d}),x=function(...v){return u!=null&&(m===null&&(m=Date.now()),Date.now()-m>=u)?(h=n.apply(this,v),m=Date.now(),g.cancel(),g.schedule(),h):(g.apply(this,v),h)},b=()=>(g.flush(),h);return x.cancel=g.cancel,x.flush=b,x}e.debounce=r})(K5)),K5}var A8;function que(){return A8||(A8=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=zue();function r(n,a=0,s={}){const{leading:l=!0,trailing:o=!0}=s;return t.debounce(n,a,{leading:l,maxWait:a,trailing:o})}e.throttle=r})(W5)),W5}var Y5,k8;function $ue(){return k8||(k8=1,Y5=que().throttle),Y5}var Hue=$ue();const Vue=jd(Hue);var Cy=function(t,r){for(var n=arguments.length,a=new Array(n>2?n-2:0),s=2;s<n;s++)a[s-2]=arguments[s]},JM=(e,t,r)=>{var{width:n="100%",height:a="100%",aspect:s,maxHeight:l}=r,o=vd(n)?e:Number(n),u=vd(a)?t:Number(a);return s&&s>0&&(o?u=o/s:u&&(o=u*s),l&&u>l&&(u=l)),{calculatedWidth:o,calculatedHeight:u}},Wue={width:0,height:0,overflow:"visible"},Kue={width:0,overflowX:"visible"},Gue={height:0,overflowY:"visible"},Yue={},Xue=e=>{var{width:t,height:r}=e,n=vd(t),a=vd(r);return n&&a?Wue:n?Kue:a?Gue:Yue};function Que(e){var{width:t,height:r,aspect:n}=e,a=t,s=r;return a===void 0&&s===void 0?(a="100%",s="100%"):a===void 0?a=n&&n>0?void 0:"100%":s===void 0&&(s=n&&n>0?void 0:"100%"),{width:a,height:s}}function Mi(e){return Number.isFinite(e)}function Zm(e){return typeof e=="number"&&e>0&&Number.isFinite(e)}function R4(){return R4=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},R4.apply(null,arguments)}function E8(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function C8(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?E8(Object(r),!0).forEach(function(n){Zue(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):E8(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Zue(e,t,r){return(t=Jue(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Jue(e){var t=ede(e,"string");return typeof t=="symbol"?t:t+""}function ede(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var eR=k.createContext({width:-1,height:-1});function tR(e){var{children:t,width:r,height:n}=e,a=k.useMemo(()=>({width:r,height:n}),[r,n]);return r<=0||n<=0?null:k.createElement(eR.Provider,{value:a},t)}var i3=()=>k.useContext(eR),tde=k.forwardRef((e,t)=>{var{aspect:r,initialDimension:n={width:-1,height:-1},width:a,height:s,minWidth:l=0,minHeight:o,maxHeight:u,children:d,debounce:h=0,id:m,className:g,onResize:x,style:b={}}=e,v=k.useRef(null),w=k.useRef();w.current=x,k.useImperativeHandle(t,()=>v.current);var[N,E]=k.useState({containerWidth:n.width,containerHeight:n.height}),j=k.useCallback((P,B)=>{E(H=>{var L=Math.round(P),U=Math.round(B);return H.containerWidth===L&&H.containerHeight===U?H:{containerWidth:L,containerHeight:U}})},[]);k.useEffect(()=>{var P=U=>{var V,{width:Y,height:de}=U[0].contentRect;j(Y,de),(V=w.current)===null||V===void 0||V.call(w,Y,de)};h>0&&(P=Vue(P,h,{trailing:!0,leading:!1}));var B=new ResizeObserver(P),{width:H,height:L}=v.current.getBoundingClientRect();return j(H,L),B.observe(v.current),()=>{B.disconnect()}},[j,h]);var{containerWidth:T,containerHeight:O}=N;Cy(!r||r>0,"The aspect(%s) must be greater than zero.",r);var{calculatedWidth:D,calculatedHeight:C}=JM(T,O,{width:a,height:s,aspect:r,maxHeight:u});return Cy(D>0||C>0,`The width(%s) and height(%s) of chart should be greater than 0,
       please check the style of container, or the props width(%s) and height(%s),
       or add a minWidth(%s) or minHeight(%s) or use aspect(%s) to control the
       height and width.`,D,C,a,s,l,o,r),k.createElement("div",{id:m?"".concat(m):void 0,className:on("recharts-responsive-container",g),style:C8(C8({},b),{},{width:a,height:s,minWidth:l,minHeight:o,maxHeight:u}),ref:v},k.createElement("div",{style:Xue({width:a,height:s})},k.createElement(tR,{width:D,height:C},d)))}),X5=k.forwardRef((e,t)=>{var r=i3();if(Zm(r.width)&&Zm(r.height))return e.children;var{width:n,height:a}=Que({width:e.width,height:e.height,aspect:e.aspect}),{calculatedWidth:s,calculatedHeight:l}=JM(void 0,void 0,{width:n,height:a,aspect:e.aspect,maxHeight:e.maxHeight});return Qt(s)&&Qt(l)?k.createElement(tR,{width:s,height:l},e.children):k.createElement(tde,R4({},e,{width:n,height:a,ref:t}))}),I2=()=>{var e,t=al(),r=Ht(Iue),n=Ht(R2),a=(e=Ht(M2))===null||e===void 0?void 0:e.padding;return!t||!n||!a?r:{width:n.width-a.left-a.right,height:n.height-a.top-a.bottom,x:a.left,y:a.top}},rde={top:0,bottom:0,left:0,right:0,width:0,height:0,brushBottom:0},rR=()=>{var e;return(e=Ht(Os))!==null&&e!==void 0?e:rde},l3=()=>Ht(Ed),o3=()=>Ht(Cd),nde=()=>Ht(e=>e.layout.margin),Zr=e=>e.layout.layoutType,B2=()=>Ht(Zr),U2=e=>{var t=xa(),r=al(),{width:n,height:a}=e,s=i3(),l=n,o=a;return s&&(l=s.width>0?s.width:n,o=s.height>0?s.height:a),k.useEffect(()=>{!r&&Zm(l)&&Zm(o)&&t(Zce({width:l,height:o}))},[t,r,l,o]),null},ade={settings:{layout:"horizontal",align:"center",verticalAlign:"middle",itemSorter:"value"},size:{width:0,height:0},payload:[]},nR=oo({name:"legend",initialState:ade,reducers:{setLegendSize(e,t){e.size.width=t.payload.width,e.size.height=t.payload.height},setLegendSettings(e,t){e.settings.align=t.payload.align,e.settings.layout=t.payload.layout,e.settings.verticalAlign=t.payload.verticalAlign,e.settings.itemSorter=t.payload.itemSorter},addLegendPayload:{reducer(e,t){e.payload.push(t.payload)},prepare:Zi()},removeLegendPayload:{reducer(e,t){var r=dd(e).payload.indexOf(t.payload);r>-1&&e.payload.splice(r,1)},prepare:Zi()}}}),{setLegendSize:T8,setLegendSettings:sde,addLegendPayload:aR,removeLegendPayload:sR}=nR.actions,ide=nR.reducer,lde=["contextPayload"];function I4(){return I4=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},I4.apply(null,arguments)}function O8(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function Jm(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?O8(Object(r),!0).forEach(function(n){c3(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):O8(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function c3(e,t,r){return(t=ode(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function ode(e){var t=cde(e,"string");return typeof t=="symbol"?t:t+""}function cde(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function ude(e,t){if(e==null)return{};var r,n,a=dde(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(n=0;n<s.length;n++)r=s[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}function dde(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}function fde(e){return e.value}function hde(e){var{contextPayload:t}=e,r=ude(e,lde),n=mM(t,e.payloadUniqBy,fde),a=Jm(Jm({},r),{},{payload:n});return k.isValidElement(e.content)?k.cloneElement(e.content,a):typeof e.content=="function"?k.createElement(e.content,a):k.createElement(Qj,a)}function mde(e,t,r,n,a,s){var{layout:l,align:o,verticalAlign:u}=t,d,h;return(!e||(e.left===void 0||e.left===null)&&(e.right===void 0||e.right===null))&&(o==="center"&&l==="vertical"?d={left:((n||0)-s.width)/2}:d=o==="right"?{right:r&&r.right||0}:{left:r&&r.left||0}),(!e||(e.top===void 0||e.top===null)&&(e.bottom===void 0||e.bottom===null))&&(u==="middle"?h={top:((a||0)-s.height)/2}:h=u==="bottom"?{bottom:r&&r.bottom||0}:{top:r&&r.top||0}),Jm(Jm({},d),h)}function pde(e){var t=xa();return k.useEffect(()=>{t(sde(e))},[t,e]),null}function xde(e){var t=xa();return k.useEffect(()=>(t(T8(e)),()=>{t(T8({width:0,height:0}))}),[t,e]),null}function gde(e){var t=ace(),r=fle(),n=nde(),{width:a,height:s,wrapperStyle:l,portal:o}=e,[u,d]=yM([t]),h=l3(),m=o3();if(h==null||m==null)return null;var g=h-(n.left||0)-(n.right||0),x=mg.getWidthOrHeight(e.layout,s,a,g),b=o?l:Jm(Jm({position:"absolute",width:x?.width||a||"auto",height:x?.height||s||"auto"},mde(l,e,n,h,m,u)),l),v=o??r;if(v==null)return null;var w=k.createElement("div",{className:"recharts-legend-wrapper",style:b,ref:d},k.createElement(pde,{layout:e.layout,align:e.align,verticalAlign:e.verticalAlign,itemSorter:e.itemSorter}),k.createElement(xde,{width:u.width,height:u.height}),k.createElement(hde,I4({},e,x,{margin:n,chartWidth:h,chartHeight:m,contextPayload:t})));return JF.createPortal(w,v)}class mg extends k.PureComponent{static getWidthOrHeight(t,r,n,a){return t==="vertical"&&Qt(r)?{height:r}:t==="horizontal"?{width:n||a}:null}render(){return k.createElement(gde,this.props)}}c3(mg,"displayName","Legend");c3(mg,"defaultProps",{align:"center",iconSize:14,itemSorter:"value",layout:"horizontal",verticalAlign:"bottom"});function B4(){return B4=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},B4.apply(null,arguments)}function F8(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function Q5(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?F8(Object(r),!0).forEach(function(n){vde(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):F8(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function vde(e,t,r){return(t=yde(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function yde(e){var t=bde(e,"string");return typeof t=="symbol"?t:t+""}function bde(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function wde(e){return Array.isArray(e)&&pu(e[0])&&pu(e[1])?e.join(" ~ "):e}var Nde=e=>{var{separator:t=" : ",contentStyle:r={},itemStyle:n={},labelStyle:a={},payload:s,formatter:l,itemSorter:o,wrapperClassName:u,labelClassName:d,label:h,labelFormatter:m,accessibilityLayer:g=!1}=e,x=()=>{if(s&&s.length){var O={padding:0,margin:0},D=(o?E2(s,o):s).map((C,P)=>{if(C.type==="none")return null;var B=C.formatter||l||wde,{value:H,name:L}=C,U=H,V=L;if(B){var Y=B(H,L,C,P,s);if(Array.isArray(Y))[U,V]=Y;else if(Y!=null)U=Y;else return null}var de=Q5({display:"block",paddingTop:4,paddingBottom:4,color:C.color||"#000"},n);return k.createElement("li",{className:"recharts-tooltip-item",key:"tooltip-item-".concat(P),style:de},pu(V)?k.createElement("span",{className:"recharts-tooltip-item-name"},V):null,pu(V)?k.createElement("span",{className:"recharts-tooltip-item-separator"},t):null,k.createElement("span",{className:"recharts-tooltip-item-value"},U),k.createElement("span",{className:"recharts-tooltip-item-unit"},C.unit||""))});return k.createElement("ul",{className:"recharts-tooltip-item-list",style:O},D)}return null},b=Q5({margin:0,padding:10,backgroundColor:"#fff",border:"1px solid #ccc",whiteSpace:"nowrap"},r),v=Q5({margin:0},a),w=!pa(h),N=w?h:"",E=on("recharts-default-tooltip",u),j=on("recharts-tooltip-label",d);w&&m&&s!==void 0&&s!==null&&(N=m(h,s));var T=g?{role:"status","aria-live":"assertive"}:{};return k.createElement("div",B4({className:E,style:b},T),k.createElement("p",{className:j,style:v},k.isValidElement(N)?N:"".concat(N)),x())},hx="recharts-tooltip-wrapper",_de={visibility:"hidden"};function jde(e){var{coordinate:t,translateX:r,translateY:n}=e;return on(hx,{["".concat(hx,"-right")]:Qt(r)&&t&&Qt(t.x)&&r>=t.x,["".concat(hx,"-left")]:Qt(r)&&t&&Qt(t.x)&&r<t.x,["".concat(hx,"-bottom")]:Qt(n)&&t&&Qt(t.y)&&n>=t.y,["".concat(hx,"-top")]:Qt(n)&&t&&Qt(t.y)&&n<t.y})}function D8(e){var{allowEscapeViewBox:t,coordinate:r,key:n,offsetTopLeft:a,position:s,reverseDirection:l,tooltipDimension:o,viewBox:u,viewBoxDimension:d}=e;if(s&&Qt(s[n]))return s[n];var h=r[n]-o-(a>0?a:0),m=r[n]+a;if(t[n])return l[n]?h:m;var g=u[n];if(g==null)return 0;if(l[n]){var x=h,b=g;return x<b?Math.max(m,g):Math.max(h,g)}if(d==null)return 0;var v=m+o,w=g+d;return v>w?Math.max(h,g):Math.max(m,g)}function Sde(e){var{translateX:t,translateY:r,useTranslate3d:n}=e;return{transform:n?"translate3d(".concat(t,"px, ").concat(r,"px, 0)"):"translate(".concat(t,"px, ").concat(r,"px)")}}function Ade(e){var{allowEscapeViewBox:t,coordinate:r,offsetTopLeft:n,position:a,reverseDirection:s,tooltipBox:l,useTranslate3d:o,viewBox:u}=e,d,h,m;return l.height>0&&l.width>0&&r?(h=D8({allowEscapeViewBox:t,coordinate:r,key:"x",offsetTopLeft:n,position:a,reverseDirection:s,tooltipDimension:l.width,viewBox:u,viewBoxDimension:u.width}),m=D8({allowEscapeViewBox:t,coordinate:r,key:"y",offsetTopLeft:n,position:a,reverseDirection:s,tooltipDimension:l.height,viewBox:u,viewBoxDimension:u.height}),d=Sde({translateX:h,translateY:m,useTranslate3d:o})):d=_de,{cssProperties:d,cssClasses:jde({translateX:h,translateY:m,coordinate:r})}}function P8(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function yv(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?P8(Object(r),!0).forEach(function(n){U4(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):P8(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function U4(e,t,r){return(t=kde(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function kde(e){var t=Ede(e,"string");return typeof t=="symbol"?t:t+""}function Ede(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}class Cde extends k.PureComponent{constructor(){super(...arguments),U4(this,"state",{dismissed:!1,dismissedAtCoordinate:{x:0,y:0}}),U4(this,"handleKeyDown",t=>{if(t.key==="Escape"){var r,n,a,s;this.setState({dismissed:!0,dismissedAtCoordinate:{x:(r=(n=this.props.coordinate)===null||n===void 0?void 0:n.x)!==null&&r!==void 0?r:0,y:(a=(s=this.props.coordinate)===null||s===void 0?void 0:s.y)!==null&&a!==void 0?a:0}})}})}componentDidMount(){document.addEventListener("keydown",this.handleKeyDown)}componentWillUnmount(){document.removeEventListener("keydown",this.handleKeyDown)}componentDidUpdate(){var t,r;this.state.dismissed&&(((t=this.props.coordinate)===null||t===void 0?void 0:t.x)!==this.state.dismissedAtCoordinate.x||((r=this.props.coordinate)===null||r===void 0?void 0:r.y)!==this.state.dismissedAtCoordinate.y)&&(this.state.dismissed=!1)}render(){var{active:t,allowEscapeViewBox:r,animationDuration:n,animationEasing:a,children:s,coordinate:l,hasPayload:o,isAnimationActive:u,offset:d,position:h,reverseDirection:m,useTranslate3d:g,viewBox:x,wrapperStyle:b,lastBoundingBox:v,innerRef:w,hasPortalFromProps:N}=this.props,{cssClasses:E,cssProperties:j}=Ade({allowEscapeViewBox:r,coordinate:l,offsetTopLeft:d,position:h,reverseDirection:m,tooltipBox:{height:v.height,width:v.width},useTranslate3d:g,viewBox:x}),T=N?{}:yv(yv({transition:u&&t?"transform ".concat(n,"ms ").concat(a):void 0},j),{},{pointerEvents:"none",visibility:!this.state.dismissed&&t&&o?"visible":"hidden",position:"absolute",top:0,left:0}),O=yv(yv({},T),{},{visibility:!this.state.dismissed&&t&&o?"visible":"hidden"},b);return k.createElement("div",{xmlns:"http://www.w3.org/1999/xhtml",tabIndex:-1,className:E,style:O,ref:w},s)}}var Tde=()=>!(typeof window<"u"&&window.document&&window.document.createElement&&window.setTimeout),Kf={devToolsEnabled:!1,isSsr:Tde()},iR=()=>Ht(e=>e.rootProps.accessibilityLayer);function z4(){return z4=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},z4.apply(null,arguments)}function L8(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function M8(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?L8(Object(r),!0).forEach(function(n){Ode(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):L8(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Ode(e,t,r){return(t=Fde(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Fde(e){var t=Dde(e,"string");return typeof t=="symbol"?t:t+""}function Dde(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var R8={curveBasisClosed:Ole,curveBasisOpen:Fle,curveBasis:Tle,curveBumpX:xle,curveBumpY:gle,curveLinearClosed:Dle,curveLinear:A2,curveMonotoneX:Ple,curveMonotoneY:Lle,curveNatural:Mle,curveStep:Rle,curveStepAfter:Ble,curveStepBefore:Ile},bv=e=>Mi(e.x)&&Mi(e.y),mx=e=>e.x,px=e=>e.y,Pde=(e,t)=>{if(typeof e=="function")return e;var r="curve".concat(Ig(e));return(r==="curveMonotone"||r==="curveBump")&&t?R8["".concat(r).concat(t==="vertical"?"Y":"X")]:R8[r]||A2},Lde=e=>{var{type:t="linear",points:r=[],baseLine:n,layout:a,connectNulls:s=!1}=e,l=Pde(t,a),o=s?r.filter(bv):r,u;if(Array.isArray(n)){var d=s?n.filter(m=>bv(m)):n,h=o.map((m,g)=>M8(M8({},m),{},{base:d[g]}));return a==="vertical"?u=fv().y(px).x1(mx).x0(m=>m.base.x):u=fv().x(mx).y1(px).y0(m=>m.base.y),u.defined(bv).curve(l),u(h)}return a==="vertical"&&Qt(n)?u=fv().y(px).x1(mx).x0(n):Qt(n)?u=fv().x(mx).y1(px).y0(n):u=HL().x(mx).y(px),u.defined(bv).curve(l),u(o)},u3=e=>{var{className:t,points:r,path:n,pathRef:a}=e;if((!r||!r.length)&&!n)return null;var s=r&&r.length?Lde(e):n;return k.createElement("path",z4({},ao(e),Yj(e),{className:on("recharts-curve",t),d:s===null?void 0:s,ref:a}))},Mde=["x","y","top","left","width","height","className"];function q4(){return q4=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},q4.apply(null,arguments)}function I8(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function Rde(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?I8(Object(r),!0).forEach(function(n){Ide(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):I8(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Ide(e,t,r){return(t=Bde(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Bde(e){var t=Ude(e,"string");return typeof t=="symbol"?t:t+""}function Ude(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function zde(e,t){if(e==null)return{};var r,n,a=qde(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(n=0;n<s.length;n++)r=s[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}function qde(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}var $de=(e,t,r,n,a,s)=>"M".concat(e,",").concat(a,"v").concat(n,"M").concat(s,",").concat(t,"h").concat(r),Hde=e=>{var{x:t=0,y:r=0,top:n=0,left:a=0,width:s=0,height:l=0,className:o}=e,u=zde(e,Mde),d=Rde({x:t,y:r,top:n,left:a,width:s,height:l},u);return!Qt(t)||!Qt(r)||!Qt(s)||!Qt(l)||!Qt(n)||!Qt(a)?null:k.createElement("path",q4({},nl(d),{className:on("recharts-cross",o),d:$de(t,r,s,l,n,a)}))};function Vde(e,t,r,n){var a=n/2;return{stroke:"none",fill:"#ccc",x:e==="horizontal"?t.x-a:r.left+.5,y:e==="horizontal"?r.top+.5:t.y-a,width:e==="horizontal"?n:r.width-1,height:e==="horizontal"?r.height-1:n}}function B8(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function Wde(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?B8(Object(r),!0).forEach(function(n){Kde(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):B8(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Kde(e,t,r){return(t=Gde(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Gde(e){var t=Yde(e,"string");return typeof t=="symbol"?t:t+""}function Yde(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function mi(e,t){var r=Wde({},e),n=t,a=Object.keys(t),s=a.reduce((l,o)=>(l[o]===void 0&&n[o]!==void 0&&(l[o]=n[o]),l),r);return s}function Xde(){}function Qde(e){return e!=null}function U8(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function z8(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?U8(Object(r),!0).forEach(function(n){Zde(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):U8(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Zde(e,t,r){return(t=Jde(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Jde(e){var t=efe(e,"string");return typeof t=="symbol"?t:t+""}function efe(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var tfe=e=>e.replace(/([A-Z])/g,t=>"-".concat(t.toLowerCase())),lR=(e,t,r)=>e.map(n=>"".concat(tfe(n)," ").concat(t,"ms ").concat(r)).join(","),rfe=(e,t)=>[Object.keys(e),Object.keys(t)].reduce((r,n)=>r.filter(a=>n.includes(a))),pg=(e,t)=>Object.keys(t).reduce((r,n)=>z8(z8({},r),{},{[n]:e(n,t[n])}),{});function q8(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function oi(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?q8(Object(r),!0).forEach(function(n){nfe(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):q8(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function nfe(e,t,r){return(t=afe(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function afe(e){var t=sfe(e,"string");return typeof t=="symbol"?t:t+""}function sfe(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Ty=(e,t,r)=>e+(t-e)*r,$4=e=>{var{from:t,to:r}=e;return t!==r},oR=(e,t,r)=>{var n=pg((a,s)=>{if($4(s)){var[l,o]=e(s.from,s.to,s.velocity);return oi(oi({},s),{},{from:l,velocity:o})}return s},t);return r<1?pg((a,s)=>$4(s)?oi(oi({},s),{},{velocity:Ty(s.velocity,n[a].velocity,r),from:Ty(s.from,n[a].from,r)}):s,t):oR(e,n,r-1)};function ife(e,t,r,n,a,s){var l,o=n.reduce((g,x)=>oi(oi({},g),{},{[x]:{from:e[x],velocity:0,to:t[x]}}),{}),u=()=>pg((g,x)=>x.from,o),d=()=>!Object.values(o).filter($4).length,h=null,m=g=>{l||(l=g);var x=g-l,b=x/r.dt;o=oR(r,o,b),a(oi(oi(oi({},e),t),u())),l=g,d()||(h=s.setTimeout(m))};return()=>(h=s.setTimeout(m),()=>{h()})}function lfe(e,t,r,n,a,s,l){var o=null,u=a.reduce((m,g)=>oi(oi({},m),{},{[g]:[e[g],t[g]]}),{}),d,h=m=>{d||(d=m);var g=(m-d)/n,x=pg((v,w)=>Ty(...w,r(g)),u);if(s(oi(oi(oi({},e),t),x)),g<1)o=l.setTimeout(h);else{var b=pg((v,w)=>Ty(...w,r(1)),u);s(oi(oi(oi({},e),t),b))}};return()=>(o=l.setTimeout(h),()=>{o()})}const ofe=(e,t,r,n,a,s)=>{var l=rfe(e,t);return r.isStepper===!0?ife(e,t,r,l,a,s):lfe(e,t,r,n,l,a,s)};var Oy=1e-4,cR=(e,t)=>[0,3*e,3*t-6*e,3*e-3*t+1],uR=(e,t)=>e.map((r,n)=>r*t**n).reduce((r,n)=>r+n),$8=(e,t)=>r=>{var n=cR(e,t);return uR(n,r)},cfe=(e,t)=>r=>{var n=cR(e,t),a=[...n.map((s,l)=>s*l).slice(1),0];return uR(a,r)},H8=function(){for(var t,r,n,a,s=arguments.length,l=new Array(s),o=0;o<s;o++)l[o]=arguments[o];if(l.length===1)switch(l[0]){case"linear":[t,n,r,a]=[0,0,1,1];break;case"ease":[t,n,r,a]=[.25,.1,.25,1];break;case"ease-in":[t,n,r,a]=[.42,0,1,1];break;case"ease-out":[t,n,r,a]=[.42,0,.58,1];break;case"ease-in-out":[t,n,r,a]=[0,0,.58,1];break;default:{var u=l[0].split("(");u[0]==="cubic-bezier"&&u[1].split(")")[0].split(",").length===4&&([t,n,r,a]=u[1].split(")")[0].split(",").map(b=>parseFloat(b)))}}else l.length===4&&([t,n,r,a]=l);var d=$8(t,r),h=$8(n,a),m=cfe(t,r),g=b=>b>1?1:b<0?0:b,x=b=>{for(var v=b>1?1:b,w=v,N=0;N<8;++N){var E=d(w)-v,j=m(w);if(Math.abs(E-v)<Oy||j<Oy)return h(w);w=g(w-E/j)}return h(w)};return x.isStepper=!1,x},ufe=function(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},{stiff:r=100,damping:n=8,dt:a=17}=t,s=(l,o,u)=>{var d=-(l-o)*r,h=u*n,m=u+(d-h)*a/1e3,g=u*a/1e3+l;return Math.abs(g-o)<Oy&&Math.abs(m)<Oy?[o,0]:[g,m]};return s.isStepper=!0,s.dt=a,s},dfe=e=>{if(typeof e=="string")switch(e){case"ease":case"ease-in-out":case"ease-out":case"ease-in":case"linear":return H8(e);case"spring":return ufe();default:if(e.split("(")[0]==="cubic-bezier")return H8(e)}return typeof e=="function"?e:null};function ffe(e){var t,r=()=>null,n=!1,a=null,s=l=>{if(!n){if(Array.isArray(l)){if(!l.length)return;var o=l,[u,...d]=o;if(typeof u=="number"){a=e.setTimeout(s.bind(null,d),u);return}s(u),a=e.setTimeout(s.bind(null,d));return}typeof l=="string"&&(t=l,r(t)),typeof l=="object"&&(t=l,r(t)),typeof l=="function"&&l()}};return{stop:()=>{n=!0},start:l=>{n=!1,a&&(a(),a=null),s(l)},subscribe:l=>(r=l,()=>{r=()=>null}),getTimeoutController:()=>e}}class hfe{setTimeout(t){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,n=performance.now(),a=null,s=l=>{l-n>=r?t(l):typeof requestAnimationFrame=="function"&&(a=requestAnimationFrame(s))};return a=requestAnimationFrame(s),()=>{cancelAnimationFrame(a)}}}function mfe(){return ffe(new hfe)}var pfe=k.createContext(mfe);function xfe(e,t){var r=k.useContext(pfe);return k.useMemo(()=>t??r(e),[e,t,r])}var gfe={begin:0,duration:1e3,easing:"ease",isActive:!0,canBegin:!0,onAnimationEnd:()=>{},onAnimationStart:()=>{}},V8={t:0},Z5={t:1};function $g(e){var t=mi(e,gfe),{isActive:r,canBegin:n,duration:a,easing:s,begin:l,onAnimationEnd:o,onAnimationStart:u,children:d}=t,h=xfe(t.animationId,t.animationManager),[m,g]=k.useState(r?V8:Z5),x=k.useRef(null);return k.useEffect(()=>{r||g(Z5)},[r]),k.useEffect(()=>{if(!r||!n)return Xde;var b=ofe(V8,Z5,dfe(s),a,g,h.getTimeoutController()),v=()=>{x.current=b()};return h.start([u,l,v,a,o]),()=>{h.stop(),x.current&&x.current(),o()}},[r,n,a,s,l,u,o,h]),d(m.t)}function Hg(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"animation-",r=k.useRef(cg(t)),n=k.useRef(e);return n.current!==e&&(r.current=cg(t),n.current=e),r.current}var vfe=["radius"],yfe=["radius"];function W8(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function K8(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?W8(Object(r),!0).forEach(function(n){bfe(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):W8(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function bfe(e,t,r){return(t=wfe(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function wfe(e){var t=Nfe(e,"string");return typeof t=="symbol"?t:t+""}function Nfe(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Fy(){return Fy=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Fy.apply(null,arguments)}function G8(e,t){if(e==null)return{};var r,n,a=_fe(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(n=0;n<s.length;n++)r=s[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}function _fe(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}var Y8=(e,t,r,n,a)=>{var s=Math.min(Math.abs(r)/2,Math.abs(n)/2),l=n>=0?1:-1,o=r>=0?1:-1,u=n>=0&&r>=0||n<0&&r<0?1:0,d;if(s>0&&a instanceof Array){for(var h=[0,0,0,0],m=0,g=4;m<g;m++)h[m]=a[m]>s?s:a[m];d="M".concat(e,",").concat(t+l*h[0]),h[0]>0&&(d+="A ".concat(h[0],",").concat(h[0],",0,0,").concat(u,",").concat(e+o*h[0],",").concat(t)),d+="L ".concat(e+r-o*h[1],",").concat(t),h[1]>0&&(d+="A ".concat(h[1],",").concat(h[1],",0,0,").concat(u,`,
        `).concat(e+r,",").concat(t+l*h[1])),d+="L ".concat(e+r,",").concat(t+n-l*h[2]),h[2]>0&&(d+="A ".concat(h[2],",").concat(h[2],",0,0,").concat(u,`,
        `).concat(e+r-o*h[2],",").concat(t+n)),d+="L ".concat(e+o*h[3],",").concat(t+n),h[3]>0&&(d+="A ".concat(h[3],",").concat(h[3],",0,0,").concat(u,`,
        `).concat(e,",").concat(t+n-l*h[3])),d+="Z"}else if(s>0&&a===+a&&a>0){var x=Math.min(s,a);d="M ".concat(e,",").concat(t+l*x,`
            A `).concat(x,",").concat(x,",0,0,").concat(u,",").concat(e+o*x,",").concat(t,`
            L `).concat(e+r-o*x,",").concat(t,`
            A `).concat(x,",").concat(x,",0,0,").concat(u,",").concat(e+r,",").concat(t+l*x,`
            L `).concat(e+r,",").concat(t+n-l*x,`
            A `).concat(x,",").concat(x,",0,0,").concat(u,",").concat(e+r-o*x,",").concat(t+n,`
            L `).concat(e+o*x,",").concat(t+n,`
            A `).concat(x,",").concat(x,",0,0,").concat(u,",").concat(e,",").concat(t+n-l*x," Z")}else d="M ".concat(e,",").concat(t," h ").concat(r," v ").concat(n," h ").concat(-r," Z");return d},jfe={x:0,y:0,width:0,height:0,radius:0,isAnimationActive:!1,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},dR=e=>{var t=mi(e,jfe),r=k.useRef(null),[n,a]=k.useState(-1);k.useEffect(()=>{if(r.current&&r.current.getTotalLength)try{var ie=r.current.getTotalLength();ie&&a(ie)}catch{}},[]);var{x:s,y:l,width:o,height:u,radius:d,className:h}=t,{animationEasing:m,animationDuration:g,animationBegin:x,isAnimationActive:b,isUpdateAnimationActive:v}=t,w=k.useRef(o),N=k.useRef(u),E=k.useRef(s),j=k.useRef(l),T=k.useMemo(()=>({x:s,y:l,width:o,height:u,radius:d}),[s,l,o,u,d]),O=Hg(T,"rectangle-");if(s!==+s||l!==+l||o!==+o||u!==+u||o===0||u===0)return null;var D=on("recharts-rectangle",h);if(!v){var C=nl(t),{radius:P}=C,B=G8(C,vfe);return k.createElement("path",Fy({},B,{radius:typeof d=="number"?d:void 0,className:D,d:Y8(s,l,o,u,d)}))}var H=w.current,L=N.current,U=E.current,V=j.current,Y="0px ".concat(n===-1?1:n,"px"),de="".concat(n,"px 0px"),te=lR(["strokeDasharray"],g,typeof m=="string"?m:void 0);return k.createElement($g,{animationId:O,key:O,canBegin:n>0,duration:g,easing:m,isActive:v,begin:x},ie=>{var ge=Ra(H,o,ie),oe=Ra(L,u,ie),Se=Ra(U,s,ie),ne=Ra(V,l,ie);r.current&&(w.current=ge,N.current=oe,E.current=Se,j.current=ne);var M;b?ie>0?M={transition:te,strokeDasharray:de}:M={strokeDasharray:Y}:M={strokeDasharray:de};var R=nl(t),{radius:q}=R,K=G8(R,yfe);return k.createElement("path",Fy({},K,{radius:typeof d=="number"?d:void 0,className:D,d:Y8(Se,ne,ge,oe,d),ref:r,style:K8(K8({},M),t.style)}))})};function fR(e){var{cx:t,cy:r,radius:n,startAngle:a,endAngle:s}=e,l=cs(t,r,n,a),o=cs(t,r,n,s);return{points:[l,o],cx:t,cy:r,radius:n,startAngle:a,endAngle:s}}function H4(){return H4=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},H4.apply(null,arguments)}var Sfe=(e,t)=>{var r=Ks(t-e),n=Math.min(Math.abs(t-e),359.999);return r*n},wv=e=>{var{cx:t,cy:r,radius:n,angle:a,sign:s,isExternal:l,cornerRadius:o,cornerIsExternal:u}=e,d=o*(l?1:-1)+n,h=Math.asin(o/d)/Ey,m=u?a:a+s*h,g=cs(t,r,d,m),x=cs(t,r,n,m),b=u?a-s*h:a,v=cs(t,r,d*Math.cos(h*Ey),b);return{center:g,circleTangency:x,lineTangency:v,theta:h}},hR=e=>{var{cx:t,cy:r,innerRadius:n,outerRadius:a,startAngle:s,endAngle:l}=e,o=Sfe(s,l),u=s+o,d=cs(t,r,a,s),h=cs(t,r,a,u),m="M ".concat(d.x,",").concat(d.y,`
    A `).concat(a,",").concat(a,`,0,
    `).concat(+(Math.abs(o)>180),",").concat(+(s>u),`,
    `).concat(h.x,",").concat(h.y,`
  `);if(n>0){var g=cs(t,r,n,s),x=cs(t,r,n,u);m+="L ".concat(x.x,",").concat(x.y,`
            A `).concat(n,",").concat(n,`,0,
            `).concat(+(Math.abs(o)>180),",").concat(+(s<=u),`,
            `).concat(g.x,",").concat(g.y," Z")}else m+="L ".concat(t,",").concat(r," Z");return m},Afe=e=>{var{cx:t,cy:r,innerRadius:n,outerRadius:a,cornerRadius:s,forceCornerRadius:l,cornerIsExternal:o,startAngle:u,endAngle:d}=e,h=Ks(d-u),{circleTangency:m,lineTangency:g,theta:x}=wv({cx:t,cy:r,radius:a,angle:u,sign:h,cornerRadius:s,cornerIsExternal:o}),{circleTangency:b,lineTangency:v,theta:w}=wv({cx:t,cy:r,radius:a,angle:d,sign:-h,cornerRadius:s,cornerIsExternal:o}),N=o?Math.abs(u-d):Math.abs(u-d)-x-w;if(N<0)return l?"M ".concat(g.x,",").concat(g.y,`
        a`).concat(s,",").concat(s,",0,0,1,").concat(s*2,`,0
        a`).concat(s,",").concat(s,",0,0,1,").concat(-s*2,`,0
      `):hR({cx:t,cy:r,innerRadius:n,outerRadius:a,startAngle:u,endAngle:d});var E="M ".concat(g.x,",").concat(g.y,`
    A`).concat(s,",").concat(s,",0,0,").concat(+(h<0),",").concat(m.x,",").concat(m.y,`
    A`).concat(a,",").concat(a,",0,").concat(+(N>180),",").concat(+(h<0),",").concat(b.x,",").concat(b.y,`
    A`).concat(s,",").concat(s,",0,0,").concat(+(h<0),",").concat(v.x,",").concat(v.y,`
  `);if(n>0){var{circleTangency:j,lineTangency:T,theta:O}=wv({cx:t,cy:r,radius:n,angle:u,sign:h,isExternal:!0,cornerRadius:s,cornerIsExternal:o}),{circleTangency:D,lineTangency:C,theta:P}=wv({cx:t,cy:r,radius:n,angle:d,sign:-h,isExternal:!0,cornerRadius:s,cornerIsExternal:o}),B=o?Math.abs(u-d):Math.abs(u-d)-O-P;if(B<0&&s===0)return"".concat(E,"L").concat(t,",").concat(r,"Z");E+="L".concat(C.x,",").concat(C.y,`
      A`).concat(s,",").concat(s,",0,0,").concat(+(h<0),",").concat(D.x,",").concat(D.y,`
      A`).concat(n,",").concat(n,",0,").concat(+(B>180),",").concat(+(h>0),",").concat(j.x,",").concat(j.y,`
      A`).concat(s,",").concat(s,",0,0,").concat(+(h<0),",").concat(T.x,",").concat(T.y,"Z")}else E+="L".concat(t,",").concat(r,"Z");return E},kfe={cx:0,cy:0,innerRadius:0,outerRadius:0,startAngle:0,endAngle:0,cornerRadius:0,forceCornerRadius:!1,cornerIsExternal:!1},mR=e=>{var t=mi(e,kfe),{cx:r,cy:n,innerRadius:a,outerRadius:s,cornerRadius:l,forceCornerRadius:o,cornerIsExternal:u,startAngle:d,endAngle:h,className:m}=t;if(s<a||d===h)return null;var g=on("recharts-sector",m),x=s-a,b=Pi(l,x,0,!0),v;return b>0&&Math.abs(d-h)<360?v=Afe({cx:r,cy:n,innerRadius:a,outerRadius:s,cornerRadius:Math.min(b,x/2),forceCornerRadius:o,cornerIsExternal:u,startAngle:d,endAngle:h}):v=hR({cx:r,cy:n,innerRadius:a,outerRadius:s,startAngle:d,endAngle:h}),k.createElement("path",H4({},nl(t),{className:g,d:v}))};function Efe(e,t,r){var n,a,s,l;if(e==="horizontal")n=t.x,s=n,a=r.top,l=r.top+r.height;else if(e==="vertical")a=t.y,l=a,n=r.left,s=r.left+r.width;else if(t.cx!=null&&t.cy!=null)if(e==="centric"){var{cx:o,cy:u,innerRadius:d,outerRadius:h,angle:m}=t,g=cs(o,u,d,m),x=cs(o,u,h,m);n=g.x,a=g.y,s=x.x,l=x.y}else return fR(t);return[{x:n,y:a},{x:s,y:l}]}var J5={},eN={},tN={},X8;function Cfe(){return X8||(X8=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=xM();function r(n){return t.isSymbol(n)?NaN:Number(n)}e.toNumber=r})(tN)),tN}var Q8;function Tfe(){return Q8||(Q8=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=Cfe();function r(n){return n?(n=t.toNumber(n),n===1/0||n===-1/0?(n<0?-1:1)*Number.MAX_VALUE:n===n?n:0):n===0?n:0}e.toFinite=r})(eN)),eN}var Z8;function Ofe(){return Z8||(Z8=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=gM(),r=Tfe();function n(a,s,l){l&&typeof l!="number"&&t.isIterateeCall(a,s,l)&&(s=l=void 0),a=r.toFinite(a),s===void 0?(s=a,a=0):s=r.toFinite(s),l=l===void 0?a<s?1:-1:r.toFinite(l);const o=Math.max(Math.ceil((s-a)/(l||1)),0),u=new Array(o);for(let d=0;d<o;d++)u[d]=a,a+=l;return u}e.range=n})(J5)),J5}var rN,J8;function Ffe(){return J8||(J8=1,rN=Ofe().range),rN}var Dfe=Ffe();const pR=jd(Dfe);function kf(e,t){return e==null||t==null?NaN:e<t?-1:e>t?1:e>=t?0:NaN}function Pfe(e,t){return e==null||t==null?NaN:t<e?-1:t>e?1:t>=e?0:NaN}function d3(e){let t,r,n;e.length!==2?(t=kf,r=(o,u)=>kf(e(o),u),n=(o,u)=>e(o)-u):(t=e===kf||e===Pfe?e:Lfe,r=e,n=e);function a(o,u,d=0,h=o.length){if(d<h){if(t(u,u)!==0)return h;do{const m=d+h>>>1;r(o[m],u)<0?d=m+1:h=m}while(d<h)}return d}function s(o,u,d=0,h=o.length){if(d<h){if(t(u,u)!==0)return h;do{const m=d+h>>>1;r(o[m],u)<=0?d=m+1:h=m}while(d<h)}return d}function l(o,u,d=0,h=o.length){const m=a(o,u,d,h-1);return m>d&&n(o[m-1],u)>-n(o[m],u)?m-1:m}return{left:a,center:l,right:s}}function Lfe(){return 0}function xR(e){return e===null?NaN:+e}function*Mfe(e,t){for(let r of e)r!=null&&(r=+r)>=r&&(yield r)}const Rfe=d3(kf),Vg=Rfe.right;d3(xR).center;class eT extends Map{constructor(t,r=Ufe){if(super(),Object.defineProperties(this,{_intern:{value:new Map},_key:{value:r}}),t!=null)for(const[n,a]of t)this.set(n,a)}get(t){return super.get(tT(this,t))}has(t){return super.has(tT(this,t))}set(t,r){return super.set(Ife(this,t),r)}delete(t){return super.delete(Bfe(this,t))}}function tT({_intern:e,_key:t},r){const n=t(r);return e.has(n)?e.get(n):r}function Ife({_intern:e,_key:t},r){const n=t(r);return e.has(n)?e.get(n):(e.set(n,r),r)}function Bfe({_intern:e,_key:t},r){const n=t(r);return e.has(n)&&(r=e.get(n),e.delete(n)),r}function Ufe(e){return e!==null&&typeof e=="object"?e.valueOf():e}function zfe(e=kf){if(e===kf)return gR;if(typeof e!="function")throw new TypeError("compare is not a function");return(t,r)=>{const n=e(t,r);return n||n===0?n:(e(r,r)===0)-(e(t,t)===0)}}function gR(e,t){return(e==null||!(e>=e))-(t==null||!(t>=t))||(e<t?-1:e>t?1:0)}const qfe=Math.sqrt(50),$fe=Math.sqrt(10),Hfe=Math.sqrt(2);function Dy(e,t,r){const n=(t-e)/Math.max(0,r),a=Math.floor(Math.log10(n)),s=n/Math.pow(10,a),l=s>=qfe?10:s>=$fe?5:s>=Hfe?2:1;let o,u,d;return a<0?(d=Math.pow(10,-a)/l,o=Math.round(e*d),u=Math.round(t*d),o/d<e&&++o,u/d>t&&--u,d=-d):(d=Math.pow(10,a)*l,o=Math.round(e/d),u=Math.round(t/d),o*d<e&&++o,u*d>t&&--u),u<o&&.5<=r&&r<2?Dy(e,t,r*2):[o,u,d]}function V4(e,t,r){if(t=+t,e=+e,r=+r,!(r>0))return[];if(e===t)return[e];const n=t<e,[a,s,l]=n?Dy(t,e,r):Dy(e,t,r);if(!(s>=a))return[];const o=s-a+1,u=new Array(o);if(n)if(l<0)for(let d=0;d<o;++d)u[d]=(s-d)/-l;else for(let d=0;d<o;++d)u[d]=(s-d)*l;else if(l<0)for(let d=0;d<o;++d)u[d]=(a+d)/-l;else for(let d=0;d<o;++d)u[d]=(a+d)*l;return u}function W4(e,t,r){return t=+t,e=+e,r=+r,Dy(e,t,r)[2]}function K4(e,t,r){t=+t,e=+e,r=+r;const n=t<e,a=n?W4(t,e,r):W4(e,t,r);return(n?-1:1)*(a<0?1/-a:a)}function rT(e,t){let r;for(const n of e)n!=null&&(r<n||r===void 0&&n>=n)&&(r=n);return r}function nT(e,t){let r;for(const n of e)n!=null&&(r>n||r===void 0&&n>=n)&&(r=n);return r}function vR(e,t,r=0,n=1/0,a){if(t=Math.floor(t),r=Math.floor(Math.max(0,r)),n=Math.floor(Math.min(e.length-1,n)),!(r<=t&&t<=n))return e;for(a=a===void 0?gR:zfe(a);n>r;){if(n-r>600){const u=n-r+1,d=t-r+1,h=Math.log(u),m=.5*Math.exp(2*h/3),g=.5*Math.sqrt(h*m*(u-m)/u)*(d-u/2<0?-1:1),x=Math.max(r,Math.floor(t-d*m/u+g)),b=Math.min(n,Math.floor(t+(u-d)*m/u+g));vR(e,t,x,b,a)}const s=e[t];let l=r,o=n;for(xx(e,r,t),a(e[n],s)>0&&xx(e,r,n);l<o;){for(xx(e,l,o),++l,--o;a(e[l],s)<0;)++l;for(;a(e[o],s)>0;)--o}a(e[r],s)===0?xx(e,r,o):(++o,xx(e,o,n)),o<=t&&(r=o+1),t<=o&&(n=o-1)}return e}function xx(e,t,r){const n=e[t];e[t]=e[r],e[r]=n}function Vfe(e,t,r){if(e=Float64Array.from(Mfe(e)),!(!(n=e.length)||isNaN(t=+t))){if(t<=0||n<2)return nT(e);if(t>=1)return rT(e);var n,a=(n-1)*t,s=Math.floor(a),l=rT(vR(e,s).subarray(0,s+1)),o=nT(e.subarray(s+1));return l+(o-l)*(a-s)}}function Wfe(e,t,r=xR){if(!(!(n=e.length)||isNaN(t=+t))){if(t<=0||n<2)return+r(e[0],0,e);if(t>=1)return+r(e[n-1],n-1,e);var n,a=(n-1)*t,s=Math.floor(a),l=+r(e[s],s,e),o=+r(e[s+1],s+1,e);return l+(o-l)*(a-s)}}function Kfe(e,t,r){e=+e,t=+t,r=(a=arguments.length)<2?(t=e,e=0,1):a<3?1:+r;for(var n=-1,a=Math.max(0,Math.ceil((t-e)/r))|0,s=new Array(a);++n<a;)s[n]=e+n*r;return s}function Yo(e,t){switch(arguments.length){case 0:break;case 1:this.range(e);break;default:this.range(t).domain(e);break}return this}function Td(e,t){switch(arguments.length){case 0:break;case 1:{typeof e=="function"?this.interpolator(e):this.range(e);break}default:{this.domain(e),typeof t=="function"?this.interpolator(t):this.range(t);break}}return this}const G4=Symbol("implicit");function f3(){var e=new eT,t=[],r=[],n=G4;function a(s){let l=e.get(s);if(l===void 0){if(n!==G4)return n;e.set(s,l=t.push(s)-1)}return r[l%r.length]}return a.domain=function(s){if(!arguments.length)return t.slice();t=[],e=new eT;for(const l of s)e.has(l)||e.set(l,t.push(l)-1);return a},a.range=function(s){return arguments.length?(r=Array.from(s),a):r.slice()},a.unknown=function(s){return arguments.length?(n=s,a):n},a.copy=function(){return f3(t,r).unknown(n)},Yo.apply(a,arguments),a}function h3(){var e=f3().unknown(void 0),t=e.domain,r=e.range,n=0,a=1,s,l,o=!1,u=0,d=0,h=.5;delete e.unknown;function m(){var g=t().length,x=a<n,b=x?a:n,v=x?n:a;s=(v-b)/Math.max(1,g-u+d*2),o&&(s=Math.floor(s)),b+=(v-b-s*(g-u))*h,l=s*(1-u),o&&(b=Math.round(b),l=Math.round(l));var w=Kfe(g).map(function(N){return b+s*N});return r(x?w.reverse():w)}return e.domain=function(g){return arguments.length?(t(g),m()):t()},e.range=function(g){return arguments.length?([n,a]=g,n=+n,a=+a,m()):[n,a]},e.rangeRound=function(g){return[n,a]=g,n=+n,a=+a,o=!0,m()},e.bandwidth=function(){return l},e.step=function(){return s},e.round=function(g){return arguments.length?(o=!!g,m()):o},e.padding=function(g){return arguments.length?(u=Math.min(1,d=+g),m()):u},e.paddingInner=function(g){return arguments.length?(u=Math.min(1,g),m()):u},e.paddingOuter=function(g){return arguments.length?(d=+g,m()):d},e.align=function(g){return arguments.length?(h=Math.max(0,Math.min(1,g)),m()):h},e.copy=function(){return h3(t(),[n,a]).round(o).paddingInner(u).paddingOuter(d).align(h)},Yo.apply(m(),arguments)}function yR(e){var t=e.copy;return e.padding=e.paddingOuter,delete e.paddingInner,delete e.paddingOuter,e.copy=function(){return yR(t())},e}function Gfe(){return yR(h3.apply(null,arguments).paddingInner(1))}function m3(e,t,r){e.prototype=t.prototype=r,r.constructor=e}function bR(e,t){var r=Object.create(e.prototype);for(var n in t)r[n]=t[n];return r}function Wg(){}var xg=.7,Py=1/xg,Um="\\s*([+-]?\\d+)\\s*",gg="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",hu="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",Yfe=/^#([0-9a-f]{3,8})$/,Xfe=new RegExp(`^rgb\\(${Um},${Um},${Um}\\)$`),Qfe=new RegExp(`^rgb\\(${hu},${hu},${hu}\\)$`),Zfe=new RegExp(`^rgba\\(${Um},${Um},${Um},${gg}\\)$`),Jfe=new RegExp(`^rgba\\(${hu},${hu},${hu},${gg}\\)$`),e0e=new RegExp(`^hsl\\(${gg},${hu},${hu}\\)$`),t0e=new RegExp(`^hsla\\(${gg},${hu},${hu},${gg}\\)$`),aT={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};m3(Wg,vg,{copy(e){return Object.assign(new this.constructor,this,e)},displayable(){return this.rgb().displayable()},hex:sT,formatHex:sT,formatHex8:r0e,formatHsl:n0e,formatRgb:iT,toString:iT});function sT(){return this.rgb().formatHex()}function r0e(){return this.rgb().formatHex8()}function n0e(){return wR(this).formatHsl()}function iT(){return this.rgb().formatRgb()}function vg(e){var t,r;return e=(e+"").trim().toLowerCase(),(t=Yfe.exec(e))?(r=t[1].length,t=parseInt(t[1],16),r===6?lT(t):r===3?new kl(t>>8&15|t>>4&240,t>>4&15|t&240,(t&15)<<4|t&15,1):r===8?Nv(t>>24&255,t>>16&255,t>>8&255,(t&255)/255):r===4?Nv(t>>12&15|t>>8&240,t>>8&15|t>>4&240,t>>4&15|t&240,((t&15)<<4|t&15)/255):null):(t=Xfe.exec(e))?new kl(t[1],t[2],t[3],1):(t=Qfe.exec(e))?new kl(t[1]*255/100,t[2]*255/100,t[3]*255/100,1):(t=Zfe.exec(e))?Nv(t[1],t[2],t[3],t[4]):(t=Jfe.exec(e))?Nv(t[1]*255/100,t[2]*255/100,t[3]*255/100,t[4]):(t=e0e.exec(e))?uT(t[1],t[2]/100,t[3]/100,1):(t=t0e.exec(e))?uT(t[1],t[2]/100,t[3]/100,t[4]):aT.hasOwnProperty(e)?lT(aT[e]):e==="transparent"?new kl(NaN,NaN,NaN,0):null}function lT(e){return new kl(e>>16&255,e>>8&255,e&255,1)}function Nv(e,t,r,n){return n<=0&&(e=t=r=NaN),new kl(e,t,r,n)}function a0e(e){return e instanceof Wg||(e=vg(e)),e?(e=e.rgb(),new kl(e.r,e.g,e.b,e.opacity)):new kl}function Y4(e,t,r,n){return arguments.length===1?a0e(e):new kl(e,t,r,n??1)}function kl(e,t,r,n){this.r=+e,this.g=+t,this.b=+r,this.opacity=+n}m3(kl,Y4,bR(Wg,{brighter(e){return e=e==null?Py:Math.pow(Py,e),new kl(this.r*e,this.g*e,this.b*e,this.opacity)},darker(e){return e=e==null?xg:Math.pow(xg,e),new kl(this.r*e,this.g*e,this.b*e,this.opacity)},rgb(){return this},clamp(){return new kl(q0(this.r),q0(this.g),q0(this.b),Ly(this.opacity))},displayable(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:oT,formatHex:oT,formatHex8:s0e,formatRgb:cT,toString:cT}));function oT(){return`#${F0(this.r)}${F0(this.g)}${F0(this.b)}`}function s0e(){return`#${F0(this.r)}${F0(this.g)}${F0(this.b)}${F0((isNaN(this.opacity)?1:this.opacity)*255)}`}function cT(){const e=Ly(this.opacity);return`${e===1?"rgb(":"rgba("}${q0(this.r)}, ${q0(this.g)}, ${q0(this.b)}${e===1?")":`, ${e})`}`}function Ly(e){return isNaN(e)?1:Math.max(0,Math.min(1,e))}function q0(e){return Math.max(0,Math.min(255,Math.round(e)||0))}function F0(e){return e=q0(e),(e<16?"0":"")+e.toString(16)}function uT(e,t,r,n){return n<=0?e=t=r=NaN:r<=0||r>=1?e=t=NaN:t<=0&&(e=NaN),new Nc(e,t,r,n)}function wR(e){if(e instanceof Nc)return new Nc(e.h,e.s,e.l,e.opacity);if(e instanceof Wg||(e=vg(e)),!e)return new Nc;if(e instanceof Nc)return e;e=e.rgb();var t=e.r/255,r=e.g/255,n=e.b/255,a=Math.min(t,r,n),s=Math.max(t,r,n),l=NaN,o=s-a,u=(s+a)/2;return o?(t===s?l=(r-n)/o+(r<n)*6:r===s?l=(n-t)/o+2:l=(t-r)/o+4,o/=u<.5?s+a:2-s-a,l*=60):o=u>0&&u<1?0:l,new Nc(l,o,u,e.opacity)}function i0e(e,t,r,n){return arguments.length===1?wR(e):new Nc(e,t,r,n??1)}function Nc(e,t,r,n){this.h=+e,this.s=+t,this.l=+r,this.opacity=+n}m3(Nc,i0e,bR(Wg,{brighter(e){return e=e==null?Py:Math.pow(Py,e),new Nc(this.h,this.s,this.l*e,this.opacity)},darker(e){return e=e==null?xg:Math.pow(xg,e),new Nc(this.h,this.s,this.l*e,this.opacity)},rgb(){var e=this.h%360+(this.h<0)*360,t=isNaN(e)||isNaN(this.s)?0:this.s,r=this.l,n=r+(r<.5?r:1-r)*t,a=2*r-n;return new kl(nN(e>=240?e-240:e+120,a,n),nN(e,a,n),nN(e<120?e+240:e-120,a,n),this.opacity)},clamp(){return new Nc(dT(this.h),_v(this.s),_v(this.l),Ly(this.opacity))},displayable(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl(){const e=Ly(this.opacity);return`${e===1?"hsl(":"hsla("}${dT(this.h)}, ${_v(this.s)*100}%, ${_v(this.l)*100}%${e===1?")":`, ${e})`}`}}));function dT(e){return e=(e||0)%360,e<0?e+360:e}function _v(e){return Math.max(0,Math.min(1,e||0))}function nN(e,t,r){return(e<60?t+(r-t)*e/60:e<180?r:e<240?t+(r-t)*(240-e)/60:t)*255}const p3=e=>()=>e;function l0e(e,t){return function(r){return e+r*t}}function o0e(e,t,r){return e=Math.pow(e,r),t=Math.pow(t,r)-e,r=1/r,function(n){return Math.pow(e+n*t,r)}}function c0e(e){return(e=+e)==1?NR:function(t,r){return r-t?o0e(t,r,e):p3(isNaN(t)?r:t)}}function NR(e,t){var r=t-e;return r?l0e(e,r):p3(isNaN(e)?t:e)}const fT=(function e(t){var r=c0e(t);function n(a,s){var l=r((a=Y4(a)).r,(s=Y4(s)).r),o=r(a.g,s.g),u=r(a.b,s.b),d=NR(a.opacity,s.opacity);return function(h){return a.r=l(h),a.g=o(h),a.b=u(h),a.opacity=d(h),a+""}}return n.gamma=e,n})(1);function u0e(e,t){t||(t=[]);var r=e?Math.min(t.length,e.length):0,n=t.slice(),a;return function(s){for(a=0;a<r;++a)n[a]=e[a]*(1-s)+t[a]*s;return n}}function d0e(e){return ArrayBuffer.isView(e)&&!(e instanceof DataView)}function f0e(e,t){var r=t?t.length:0,n=e?Math.min(r,e.length):0,a=new Array(n),s=new Array(r),l;for(l=0;l<n;++l)a[l]=gp(e[l],t[l]);for(;l<r;++l)s[l]=t[l];return function(o){for(l=0;l<n;++l)s[l]=a[l](o);return s}}function h0e(e,t){var r=new Date;return e=+e,t=+t,function(n){return r.setTime(e*(1-n)+t*n),r}}function My(e,t){return e=+e,t=+t,function(r){return e*(1-r)+t*r}}function m0e(e,t){var r={},n={},a;(e===null||typeof e!="object")&&(e={}),(t===null||typeof t!="object")&&(t={});for(a in t)a in e?r[a]=gp(e[a],t[a]):n[a]=t[a];return function(s){for(a in r)n[a]=r[a](s);return n}}var X4=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,aN=new RegExp(X4.source,"g");function p0e(e){return function(){return e}}function x0e(e){return function(t){return e(t)+""}}function g0e(e,t){var r=X4.lastIndex=aN.lastIndex=0,n,a,s,l=-1,o=[],u=[];for(e=e+"",t=t+"";(n=X4.exec(e))&&(a=aN.exec(t));)(s=a.index)>r&&(s=t.slice(r,s),o[l]?o[l]+=s:o[++l]=s),(n=n[0])===(a=a[0])?o[l]?o[l]+=a:o[++l]=a:(o[++l]=null,u.push({i:l,x:My(n,a)})),r=aN.lastIndex;return r<t.length&&(s=t.slice(r),o[l]?o[l]+=s:o[++l]=s),o.length<2?u[0]?x0e(u[0].x):p0e(t):(t=u.length,function(d){for(var h=0,m;h<t;++h)o[(m=u[h]).i]=m.x(d);return o.join("")})}function gp(e,t){var r=typeof t,n;return t==null||r==="boolean"?p3(t):(r==="number"?My:r==="string"?(n=vg(t))?(t=n,fT):g0e:t instanceof vg?fT:t instanceof Date?h0e:d0e(t)?u0e:Array.isArray(t)?f0e:typeof t.valueOf!="function"&&typeof t.toString!="function"||isNaN(t)?m0e:My)(e,t)}function x3(e,t){return e=+e,t=+t,function(r){return Math.round(e*(1-r)+t*r)}}function v0e(e,t){t===void 0&&(t=e,e=gp);for(var r=0,n=t.length-1,a=t[0],s=new Array(n<0?0:n);r<n;)s[r]=e(a,a=t[++r]);return function(l){var o=Math.max(0,Math.min(n-1,Math.floor(l*=n)));return s[o](l-o)}}function y0e(e){return function(){return e}}function Ry(e){return+e}var hT=[0,1];function tl(e){return e}function Q4(e,t){return(t-=e=+e)?function(r){return(r-e)/t}:y0e(isNaN(t)?NaN:.5)}function b0e(e,t){var r;return e>t&&(r=e,e=t,t=r),function(n){return Math.max(e,Math.min(t,n))}}function w0e(e,t,r){var n=e[0],a=e[1],s=t[0],l=t[1];return a<n?(n=Q4(a,n),s=r(l,s)):(n=Q4(n,a),s=r(s,l)),function(o){return s(n(o))}}function N0e(e,t,r){var n=Math.min(e.length,t.length)-1,a=new Array(n),s=new Array(n),l=-1;for(e[n]<e[0]&&(e=e.slice().reverse(),t=t.slice().reverse());++l<n;)a[l]=Q4(e[l],e[l+1]),s[l]=r(t[l],t[l+1]);return function(o){var u=Vg(e,o,1,n)-1;return s[u](a[u](o))}}function Kg(e,t){return t.domain(e.domain()).range(e.range()).interpolate(e.interpolate()).clamp(e.clamp()).unknown(e.unknown())}function z2(){var e=hT,t=hT,r=gp,n,a,s,l=tl,o,u,d;function h(){var g=Math.min(e.length,t.length);return l!==tl&&(l=b0e(e[0],e[g-1])),o=g>2?N0e:w0e,u=d=null,m}function m(g){return g==null||isNaN(g=+g)?s:(u||(u=o(e.map(n),t,r)))(n(l(g)))}return m.invert=function(g){return l(a((d||(d=o(t,e.map(n),My)))(g)))},m.domain=function(g){return arguments.length?(e=Array.from(g,Ry),h()):e.slice()},m.range=function(g){return arguments.length?(t=Array.from(g),h()):t.slice()},m.rangeRound=function(g){return t=Array.from(g),r=x3,h()},m.clamp=function(g){return arguments.length?(l=g?!0:tl,h()):l!==tl},m.interpolate=function(g){return arguments.length?(r=g,h()):r},m.unknown=function(g){return arguments.length?(s=g,m):s},function(g,x){return n=g,a=x,h()}}function g3(){return z2()(tl,tl)}function _0e(e){return Math.abs(e=Math.round(e))>=1e21?e.toLocaleString("en").replace(/,/g,""):e.toString(10)}function Iy(e,t){if((r=(e=t?e.toExponential(t-1):e.toExponential()).indexOf("e"))<0)return null;var r,n=e.slice(0,r);return[n.length>1?n[0]+n.slice(2):n,+e.slice(r+1)]}function ep(e){return e=Iy(Math.abs(e)),e?e[1]:NaN}function j0e(e,t){return function(r,n){for(var a=r.length,s=[],l=0,o=e[0],u=0;a>0&&o>0&&(u+o+1>n&&(o=Math.max(1,n-u)),s.push(r.substring(a-=o,a+o)),!((u+=o+1)>n));)o=e[l=(l+1)%e.length];return s.reverse().join(t)}}function S0e(e){return function(t){return t.replace(/[0-9]/g,function(r){return e[+r]})}}var A0e=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i;function yg(e){if(!(t=A0e.exec(e)))throw new Error("invalid format: "+e);var t;return new v3({fill:t[1],align:t[2],sign:t[3],symbol:t[4],zero:t[5],width:t[6],comma:t[7],precision:t[8]&&t[8].slice(1),trim:t[9],type:t[10]})}yg.prototype=v3.prototype;function v3(e){this.fill=e.fill===void 0?" ":e.fill+"",this.align=e.align===void 0?">":e.align+"",this.sign=e.sign===void 0?"-":e.sign+"",this.symbol=e.symbol===void 0?"":e.symbol+"",this.zero=!!e.zero,this.width=e.width===void 0?void 0:+e.width,this.comma=!!e.comma,this.precision=e.precision===void 0?void 0:+e.precision,this.trim=!!e.trim,this.type=e.type===void 0?"":e.type+""}v3.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(this.width===void 0?"":Math.max(1,this.width|0))+(this.comma?",":"")+(this.precision===void 0?"":"."+Math.max(0,this.precision|0))+(this.trim?"~":"")+this.type};function k0e(e){e:for(var t=e.length,r=1,n=-1,a;r<t;++r)switch(e[r]){case".":n=a=r;break;case"0":n===0&&(n=r),a=r;break;default:if(!+e[r])break e;n>0&&(n=0);break}return n>0?e.slice(0,n)+e.slice(a+1):e}var _R;function E0e(e,t){var r=Iy(e,t);if(!r)return e+"";var n=r[0],a=r[1],s=a-(_R=Math.max(-8,Math.min(8,Math.floor(a/3)))*3)+1,l=n.length;return s===l?n:s>l?n+new Array(s-l+1).join("0"):s>0?n.slice(0,s)+"."+n.slice(s):"0."+new Array(1-s).join("0")+Iy(e,Math.max(0,t+s-1))[0]}function mT(e,t){var r=Iy(e,t);if(!r)return e+"";var n=r[0],a=r[1];return a<0?"0."+new Array(-a).join("0")+n:n.length>a+1?n.slice(0,a+1)+"."+n.slice(a+1):n+new Array(a-n.length+2).join("0")}const pT={"%":(e,t)=>(e*100).toFixed(t),b:e=>Math.round(e).toString(2),c:e=>e+"",d:_0e,e:(e,t)=>e.toExponential(t),f:(e,t)=>e.toFixed(t),g:(e,t)=>e.toPrecision(t),o:e=>Math.round(e).toString(8),p:(e,t)=>mT(e*100,t),r:mT,s:E0e,X:e=>Math.round(e).toString(16).toUpperCase(),x:e=>Math.round(e).toString(16)};function xT(e){return e}var gT=Array.prototype.map,vT=["y","z","a","f","p","n","","m","","k","M","G","T","P","E","Z","Y"];function C0e(e){var t=e.grouping===void 0||e.thousands===void 0?xT:j0e(gT.call(e.grouping,Number),e.thousands+""),r=e.currency===void 0?"":e.currency[0]+"",n=e.currency===void 0?"":e.currency[1]+"",a=e.decimal===void 0?".":e.decimal+"",s=e.numerals===void 0?xT:S0e(gT.call(e.numerals,String)),l=e.percent===void 0?"%":e.percent+"",o=e.minus===void 0?"":e.minus+"",u=e.nan===void 0?"NaN":e.nan+"";function d(m){m=yg(m);var g=m.fill,x=m.align,b=m.sign,v=m.symbol,w=m.zero,N=m.width,E=m.comma,j=m.precision,T=m.trim,O=m.type;O==="n"?(E=!0,O="g"):pT[O]||(j===void 0&&(j=12),T=!0,O="g"),(w||g==="0"&&x==="=")&&(w=!0,g="0",x="=");var D=v==="$"?r:v==="#"&&/[boxX]/.test(O)?"0"+O.toLowerCase():"",C=v==="$"?n:/[%p]/.test(O)?l:"",P=pT[O],B=/[defgprs%]/.test(O);j=j===void 0?6:/[gprs]/.test(O)?Math.max(1,Math.min(21,j)):Math.max(0,Math.min(20,j));function H(L){var U=D,V=C,Y,de,te;if(O==="c")V=P(L)+V,L="";else{L=+L;var ie=L<0||1/L<0;if(L=isNaN(L)?u:P(Math.abs(L),j),T&&(L=k0e(L)),ie&&+L==0&&b!=="+"&&(ie=!1),U=(ie?b==="("?b:o:b==="-"||b==="("?"":b)+U,V=(O==="s"?vT[8+_R/3]:"")+V+(ie&&b==="("?")":""),B){for(Y=-1,de=L.length;++Y<de;)if(te=L.charCodeAt(Y),48>te||te>57){V=(te===46?a+L.slice(Y+1):L.slice(Y))+V,L=L.slice(0,Y);break}}}E&&!w&&(L=t(L,1/0));var ge=U.length+L.length+V.length,oe=ge<N?new Array(N-ge+1).join(g):"";switch(E&&w&&(L=t(oe+L,oe.length?N-V.length:1/0),oe=""),x){case"<":L=U+L+V+oe;break;case"=":L=U+oe+L+V;break;case"^":L=oe.slice(0,ge=oe.length>>1)+U+L+V+oe.slice(ge);break;default:L=oe+U+L+V;break}return s(L)}return H.toString=function(){return m+""},H}function h(m,g){var x=d((m=yg(m),m.type="f",m)),b=Math.max(-8,Math.min(8,Math.floor(ep(g)/3)))*3,v=Math.pow(10,-b),w=vT[8+b/3];return function(N){return x(v*N)+w}}return{format:d,formatPrefix:h}}var jv,y3,jR;T0e({thousands:",",grouping:[3],currency:["$",""]});function T0e(e){return jv=C0e(e),y3=jv.format,jR=jv.formatPrefix,jv}function O0e(e){return Math.max(0,-ep(Math.abs(e)))}function F0e(e,t){return Math.max(0,Math.max(-8,Math.min(8,Math.floor(ep(t)/3)))*3-ep(Math.abs(e)))}function D0e(e,t){return e=Math.abs(e),t=Math.abs(t)-e,Math.max(0,ep(t)-ep(e))+1}function SR(e,t,r,n){var a=K4(e,t,r),s;switch(n=yg(n??",f"),n.type){case"s":{var l=Math.max(Math.abs(e),Math.abs(t));return n.precision==null&&!isNaN(s=F0e(a,l))&&(n.precision=s),jR(n,l)}case"":case"e":case"g":case"p":case"r":{n.precision==null&&!isNaN(s=D0e(a,Math.max(Math.abs(e),Math.abs(t))))&&(n.precision=s-(n.type==="e"));break}case"f":case"%":{n.precision==null&&!isNaN(s=O0e(a))&&(n.precision=s-(n.type==="%")*2);break}}return y3(n)}function Gf(e){var t=e.domain;return e.ticks=function(r){var n=t();return V4(n[0],n[n.length-1],r??10)},e.tickFormat=function(r,n){var a=t();return SR(a[0],a[a.length-1],r??10,n)},e.nice=function(r){r==null&&(r=10);var n=t(),a=0,s=n.length-1,l=n[a],o=n[s],u,d,h=10;for(o<l&&(d=l,l=o,o=d,d=a,a=s,s=d);h-- >0;){if(d=W4(l,o,r),d===u)return n[a]=l,n[s]=o,t(n);if(d>0)l=Math.floor(l/d)*d,o=Math.ceil(o/d)*d;else if(d<0)l=Math.ceil(l*d)/d,o=Math.floor(o*d)/d;else break;u=d}return e},e}function AR(){var e=g3();return e.copy=function(){return Kg(e,AR())},Yo.apply(e,arguments),Gf(e)}function kR(e){var t;function r(n){return n==null||isNaN(n=+n)?t:n}return r.invert=r,r.domain=r.range=function(n){return arguments.length?(e=Array.from(n,Ry),r):e.slice()},r.unknown=function(n){return arguments.length?(t=n,r):t},r.copy=function(){return kR(e).unknown(t)},e=arguments.length?Array.from(e,Ry):[0,1],Gf(r)}function ER(e,t){e=e.slice();var r=0,n=e.length-1,a=e[r],s=e[n],l;return s<a&&(l=r,r=n,n=l,l=a,a=s,s=l),e[r]=t.floor(a),e[n]=t.ceil(s),e}function yT(e){return Math.log(e)}function bT(e){return Math.exp(e)}function P0e(e){return-Math.log(-e)}function L0e(e){return-Math.exp(-e)}function M0e(e){return isFinite(e)?+("1e"+e):e<0?0:e}function R0e(e){return e===10?M0e:e===Math.E?Math.exp:t=>Math.pow(e,t)}function I0e(e){return e===Math.E?Math.log:e===10&&Math.log10||e===2&&Math.log2||(e=Math.log(e),t=>Math.log(t)/e)}function wT(e){return(t,r)=>-e(-t,r)}function b3(e){const t=e(yT,bT),r=t.domain;let n=10,a,s;function l(){return a=I0e(n),s=R0e(n),r()[0]<0?(a=wT(a),s=wT(s),e(P0e,L0e)):e(yT,bT),t}return t.base=function(o){return arguments.length?(n=+o,l()):n},t.domain=function(o){return arguments.length?(r(o),l()):r()},t.ticks=o=>{const u=r();let d=u[0],h=u[u.length-1];const m=h<d;m&&([d,h]=[h,d]);let g=a(d),x=a(h),b,v;const w=o==null?10:+o;let N=[];if(!(n%1)&&x-g<w){if(g=Math.floor(g),x=Math.ceil(x),d>0){for(;g<=x;++g)for(b=1;b<n;++b)if(v=g<0?b/s(-g):b*s(g),!(v<d)){if(v>h)break;N.push(v)}}else for(;g<=x;++g)for(b=n-1;b>=1;--b)if(v=g>0?b/s(-g):b*s(g),!(v<d)){if(v>h)break;N.push(v)}N.length*2<w&&(N=V4(d,h,w))}else N=V4(g,x,Math.min(x-g,w)).map(s);return m?N.reverse():N},t.tickFormat=(o,u)=>{if(o==null&&(o=10),u==null&&(u=n===10?"s":","),typeof u!="function"&&(!(n%1)&&(u=yg(u)).precision==null&&(u.trim=!0),u=y3(u)),o===1/0)return u;const d=Math.max(1,n*o/t.ticks().length);return h=>{let m=h/s(Math.round(a(h)));return m*n<n-.5&&(m*=n),m<=d?u(h):""}},t.nice=()=>r(ER(r(),{floor:o=>s(Math.floor(a(o))),ceil:o=>s(Math.ceil(a(o)))})),t}function CR(){const e=b3(z2()).domain([1,10]);return e.copy=()=>Kg(e,CR()).base(e.base()),Yo.apply(e,arguments),e}function NT(e){return function(t){return Math.sign(t)*Math.log1p(Math.abs(t/e))}}function _T(e){return function(t){return Math.sign(t)*Math.expm1(Math.abs(t))*e}}function w3(e){var t=1,r=e(NT(t),_T(t));return r.constant=function(n){return arguments.length?e(NT(t=+n),_T(t)):t},Gf(r)}function TR(){var e=w3(z2());return e.copy=function(){return Kg(e,TR()).constant(e.constant())},Yo.apply(e,arguments)}function jT(e){return function(t){return t<0?-Math.pow(-t,e):Math.pow(t,e)}}function B0e(e){return e<0?-Math.sqrt(-e):Math.sqrt(e)}function U0e(e){return e<0?-e*e:e*e}function N3(e){var t=e(tl,tl),r=1;function n(){return r===1?e(tl,tl):r===.5?e(B0e,U0e):e(jT(r),jT(1/r))}return t.exponent=function(a){return arguments.length?(r=+a,n()):r},Gf(t)}function _3(){var e=N3(z2());return e.copy=function(){return Kg(e,_3()).exponent(e.exponent())},Yo.apply(e,arguments),e}function z0e(){return _3.apply(null,arguments).exponent(.5)}function ST(e){return Math.sign(e)*e*e}function q0e(e){return Math.sign(e)*Math.sqrt(Math.abs(e))}function OR(){var e=g3(),t=[0,1],r=!1,n;function a(s){var l=q0e(e(s));return isNaN(l)?n:r?Math.round(l):l}return a.invert=function(s){return e.invert(ST(s))},a.domain=function(s){return arguments.length?(e.domain(s),a):e.domain()},a.range=function(s){return arguments.length?(e.range((t=Array.from(s,Ry)).map(ST)),a):t.slice()},a.rangeRound=function(s){return a.range(s).round(!0)},a.round=function(s){return arguments.length?(r=!!s,a):r},a.clamp=function(s){return arguments.length?(e.clamp(s),a):e.clamp()},a.unknown=function(s){return arguments.length?(n=s,a):n},a.copy=function(){return OR(e.domain(),t).round(r).clamp(e.clamp()).unknown(n)},Yo.apply(a,arguments),Gf(a)}function FR(){var e=[],t=[],r=[],n;function a(){var l=0,o=Math.max(1,t.length);for(r=new Array(o-1);++l<o;)r[l-1]=Wfe(e,l/o);return s}function s(l){return l==null||isNaN(l=+l)?n:t[Vg(r,l)]}return s.invertExtent=function(l){var o=t.indexOf(l);return o<0?[NaN,NaN]:[o>0?r[o-1]:e[0],o<r.length?r[o]:e[e.length-1]]},s.domain=function(l){if(!arguments.length)return e.slice();e=[];for(let o of l)o!=null&&!isNaN(o=+o)&&e.push(o);return e.sort(kf),a()},s.range=function(l){return arguments.length?(t=Array.from(l),a()):t.slice()},s.unknown=function(l){return arguments.length?(n=l,s):n},s.quantiles=function(){return r.slice()},s.copy=function(){return FR().domain(e).range(t).unknown(n)},Yo.apply(s,arguments)}function DR(){var e=0,t=1,r=1,n=[.5],a=[0,1],s;function l(u){return u!=null&&u<=u?a[Vg(n,u,0,r)]:s}function o(){var u=-1;for(n=new Array(r);++u<r;)n[u]=((u+1)*t-(u-r)*e)/(r+1);return l}return l.domain=function(u){return arguments.length?([e,t]=u,e=+e,t=+t,o()):[e,t]},l.range=function(u){return arguments.length?(r=(a=Array.from(u)).length-1,o()):a.slice()},l.invertExtent=function(u){var d=a.indexOf(u);return d<0?[NaN,NaN]:d<1?[e,n[0]]:d>=r?[n[r-1],t]:[n[d-1],n[d]]},l.unknown=function(u){return arguments.length&&(s=u),l},l.thresholds=function(){return n.slice()},l.copy=function(){return DR().domain([e,t]).range(a).unknown(s)},Yo.apply(Gf(l),arguments)}function PR(){var e=[.5],t=[0,1],r,n=1;function a(s){return s!=null&&s<=s?t[Vg(e,s,0,n)]:r}return a.domain=function(s){return arguments.length?(e=Array.from(s),n=Math.min(e.length,t.length-1),a):e.slice()},a.range=function(s){return arguments.length?(t=Array.from(s),n=Math.min(e.length,t.length-1),a):t.slice()},a.invertExtent=function(s){var l=t.indexOf(s);return[e[l-1],e[l]]},a.unknown=function(s){return arguments.length?(r=s,a):r},a.copy=function(){return PR().domain(e).range(t).unknown(r)},Yo.apply(a,arguments)}const sN=new Date,iN=new Date;function Fs(e,t,r,n){function a(s){return e(s=arguments.length===0?new Date:new Date(+s)),s}return a.floor=s=>(e(s=new Date(+s)),s),a.ceil=s=>(e(s=new Date(s-1)),t(s,1),e(s),s),a.round=s=>{const l=a(s),o=a.ceil(s);return s-l<o-s?l:o},a.offset=(s,l)=>(t(s=new Date(+s),l==null?1:Math.floor(l)),s),a.range=(s,l,o)=>{const u=[];if(s=a.ceil(s),o=o==null?1:Math.floor(o),!(s<l)||!(o>0))return u;let d;do u.push(d=new Date(+s)),t(s,o),e(s);while(d<s&&s<l);return u},a.filter=s=>Fs(l=>{if(l>=l)for(;e(l),!s(l);)l.setTime(l-1)},(l,o)=>{if(l>=l)if(o<0)for(;++o<=0;)for(;t(l,-1),!s(l););else for(;--o>=0;)for(;t(l,1),!s(l););}),r&&(a.count=(s,l)=>(sN.setTime(+s),iN.setTime(+l),e(sN),e(iN),Math.floor(r(sN,iN))),a.every=s=>(s=Math.floor(s),!isFinite(s)||!(s>0)?null:s>1?a.filter(n?l=>n(l)%s===0:l=>a.count(0,l)%s===0):a)),a}const By=Fs(()=>{},(e,t)=>{e.setTime(+e+t)},(e,t)=>t-e);By.every=e=>(e=Math.floor(e),!isFinite(e)||!(e>0)?null:e>1?Fs(t=>{t.setTime(Math.floor(t/e)*e)},(t,r)=>{t.setTime(+t+r*e)},(t,r)=>(r-t)/e):By);By.range;const rd=1e3,Uo=rd*60,nd=Uo*60,bd=nd*24,j3=bd*7,AT=bd*30,lN=bd*365,D0=Fs(e=>{e.setTime(e-e.getMilliseconds())},(e,t)=>{e.setTime(+e+t*rd)},(e,t)=>(t-e)/rd,e=>e.getUTCSeconds());D0.range;const S3=Fs(e=>{e.setTime(e-e.getMilliseconds()-e.getSeconds()*rd)},(e,t)=>{e.setTime(+e+t*Uo)},(e,t)=>(t-e)/Uo,e=>e.getMinutes());S3.range;const A3=Fs(e=>{e.setUTCSeconds(0,0)},(e,t)=>{e.setTime(+e+t*Uo)},(e,t)=>(t-e)/Uo,e=>e.getUTCMinutes());A3.range;const k3=Fs(e=>{e.setTime(e-e.getMilliseconds()-e.getSeconds()*rd-e.getMinutes()*Uo)},(e,t)=>{e.setTime(+e+t*nd)},(e,t)=>(t-e)/nd,e=>e.getHours());k3.range;const E3=Fs(e=>{e.setUTCMinutes(0,0,0)},(e,t)=>{e.setTime(+e+t*nd)},(e,t)=>(t-e)/nd,e=>e.getUTCHours());E3.range;const Gg=Fs(e=>e.setHours(0,0,0,0),(e,t)=>e.setDate(e.getDate()+t),(e,t)=>(t-e-(t.getTimezoneOffset()-e.getTimezoneOffset())*Uo)/bd,e=>e.getDate()-1);Gg.range;const q2=Fs(e=>{e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCDate(e.getUTCDate()+t)},(e,t)=>(t-e)/bd,e=>e.getUTCDate()-1);q2.range;const LR=Fs(e=>{e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCDate(e.getUTCDate()+t)},(e,t)=>(t-e)/bd,e=>Math.floor(e/bd));LR.range;function Nh(e){return Fs(t=>{t.setDate(t.getDate()-(t.getDay()+7-e)%7),t.setHours(0,0,0,0)},(t,r)=>{t.setDate(t.getDate()+r*7)},(t,r)=>(r-t-(r.getTimezoneOffset()-t.getTimezoneOffset())*Uo)/j3)}const $2=Nh(0),Uy=Nh(1),$0e=Nh(2),H0e=Nh(3),tp=Nh(4),V0e=Nh(5),W0e=Nh(6);$2.range;Uy.range;$0e.range;H0e.range;tp.range;V0e.range;W0e.range;function _h(e){return Fs(t=>{t.setUTCDate(t.getUTCDate()-(t.getUTCDay()+7-e)%7),t.setUTCHours(0,0,0,0)},(t,r)=>{t.setUTCDate(t.getUTCDate()+r*7)},(t,r)=>(r-t)/j3)}const H2=_h(0),zy=_h(1),K0e=_h(2),G0e=_h(3),rp=_h(4),Y0e=_h(5),X0e=_h(6);H2.range;zy.range;K0e.range;G0e.range;rp.range;Y0e.range;X0e.range;const C3=Fs(e=>{e.setDate(1),e.setHours(0,0,0,0)},(e,t)=>{e.setMonth(e.getMonth()+t)},(e,t)=>t.getMonth()-e.getMonth()+(t.getFullYear()-e.getFullYear())*12,e=>e.getMonth());C3.range;const T3=Fs(e=>{e.setUTCDate(1),e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCMonth(e.getUTCMonth()+t)},(e,t)=>t.getUTCMonth()-e.getUTCMonth()+(t.getUTCFullYear()-e.getUTCFullYear())*12,e=>e.getUTCMonth());T3.range;const wd=Fs(e=>{e.setMonth(0,1),e.setHours(0,0,0,0)},(e,t)=>{e.setFullYear(e.getFullYear()+t)},(e,t)=>t.getFullYear()-e.getFullYear(),e=>e.getFullYear());wd.every=e=>!isFinite(e=Math.floor(e))||!(e>0)?null:Fs(t=>{t.setFullYear(Math.floor(t.getFullYear()/e)*e),t.setMonth(0,1),t.setHours(0,0,0,0)},(t,r)=>{t.setFullYear(t.getFullYear()+r*e)});wd.range;const Nd=Fs(e=>{e.setUTCMonth(0,1),e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCFullYear(e.getUTCFullYear()+t)},(e,t)=>t.getUTCFullYear()-e.getUTCFullYear(),e=>e.getUTCFullYear());Nd.every=e=>!isFinite(e=Math.floor(e))||!(e>0)?null:Fs(t=>{t.setUTCFullYear(Math.floor(t.getUTCFullYear()/e)*e),t.setUTCMonth(0,1),t.setUTCHours(0,0,0,0)},(t,r)=>{t.setUTCFullYear(t.getUTCFullYear()+r*e)});Nd.range;function MR(e,t,r,n,a,s){const l=[[D0,1,rd],[D0,5,5*rd],[D0,15,15*rd],[D0,30,30*rd],[s,1,Uo],[s,5,5*Uo],[s,15,15*Uo],[s,30,30*Uo],[a,1,nd],[a,3,3*nd],[a,6,6*nd],[a,12,12*nd],[n,1,bd],[n,2,2*bd],[r,1,j3],[t,1,AT],[t,3,3*AT],[e,1,lN]];function o(d,h,m){const g=h<d;g&&([d,h]=[h,d]);const x=m&&typeof m.range=="function"?m:u(d,h,m),b=x?x.range(d,+h+1):[];return g?b.reverse():b}function u(d,h,m){const g=Math.abs(h-d)/m,x=d3(([,,w])=>w).right(l,g);if(x===l.length)return e.every(K4(d/lN,h/lN,m));if(x===0)return By.every(Math.max(K4(d,h,m),1));const[b,v]=l[g/l[x-1][2]<l[x][2]/g?x-1:x];return b.every(v)}return[o,u]}const[Q0e,Z0e]=MR(Nd,T3,H2,LR,E3,A3),[J0e,ehe]=MR(wd,C3,$2,Gg,k3,S3);function oN(e){if(0<=e.y&&e.y<100){var t=new Date(-1,e.m,e.d,e.H,e.M,e.S,e.L);return t.setFullYear(e.y),t}return new Date(e.y,e.m,e.d,e.H,e.M,e.S,e.L)}function cN(e){if(0<=e.y&&e.y<100){var t=new Date(Date.UTC(-1,e.m,e.d,e.H,e.M,e.S,e.L));return t.setUTCFullYear(e.y),t}return new Date(Date.UTC(e.y,e.m,e.d,e.H,e.M,e.S,e.L))}function gx(e,t,r){return{y:e,m:t,d:r,H:0,M:0,S:0,L:0}}function the(e){var t=e.dateTime,r=e.date,n=e.time,a=e.periods,s=e.days,l=e.shortDays,o=e.months,u=e.shortMonths,d=vx(a),h=yx(a),m=vx(s),g=yx(s),x=vx(l),b=yx(l),v=vx(o),w=yx(o),N=vx(u),E=yx(u),j={a:ie,A:ge,b:oe,B:Se,c:null,d:FT,e:FT,f:jhe,g:Phe,G:Mhe,H:whe,I:Nhe,j:_he,L:RR,m:She,M:Ahe,p:ne,q:M,Q:LT,s:MT,S:khe,u:Ehe,U:Che,V:The,w:Ohe,W:Fhe,x:null,X:null,y:Dhe,Y:Lhe,Z:Rhe,"%":PT},T={a:R,A:q,b:K,B:ee,c:null,d:DT,e:DT,f:zhe,g:Qhe,G:Jhe,H:Ihe,I:Bhe,j:Uhe,L:BR,m:qhe,M:$he,p:ce,q:Q,Q:LT,s:MT,S:Hhe,u:Vhe,U:Whe,V:Khe,w:Ghe,W:Yhe,x:null,X:null,y:Xhe,Y:Zhe,Z:eme,"%":PT},O={a:H,A:L,b:U,B:V,c:Y,d:TT,e:TT,f:ghe,g:CT,G:ET,H:OT,I:OT,j:hhe,L:xhe,m:fhe,M:mhe,p:B,q:dhe,Q:yhe,s:bhe,S:phe,u:ihe,U:lhe,V:ohe,w:she,W:che,x:de,X:te,y:CT,Y:ET,Z:uhe,"%":vhe};j.x=D(r,j),j.X=D(n,j),j.c=D(t,j),T.x=D(r,T),T.X=D(n,T),T.c=D(t,T);function D(re,ye){return function(Ee){var X=[],Je=-1,Ce=0,xe=re.length,xt,et,Le;for(Ee instanceof Date||(Ee=new Date(+Ee));++Je<xe;)re.charCodeAt(Je)===37&&(X.push(re.slice(Ce,Je)),(et=kT[xt=re.charAt(++Je)])!=null?xt=re.charAt(++Je):et=xt==="e"?" ":"0",(Le=ye[xt])&&(xt=Le(Ee,et)),X.push(xt),Ce=Je+1);return X.push(re.slice(Ce,Je)),X.join("")}}function C(re,ye){return function(Ee){var X=gx(1900,void 0,1),Je=P(X,re,Ee+="",0),Ce,xe;if(Je!=Ee.length)return null;if("Q"in X)return new Date(X.Q);if("s"in X)return new Date(X.s*1e3+("L"in X?X.L:0));if(ye&&!("Z"in X)&&(X.Z=0),"p"in X&&(X.H=X.H%12+X.p*12),X.m===void 0&&(X.m="q"in X?X.q:0),"V"in X){if(X.V<1||X.V>53)return null;"w"in X||(X.w=1),"Z"in X?(Ce=cN(gx(X.y,0,1)),xe=Ce.getUTCDay(),Ce=xe>4||xe===0?zy.ceil(Ce):zy(Ce),Ce=q2.offset(Ce,(X.V-1)*7),X.y=Ce.getUTCFullYear(),X.m=Ce.getUTCMonth(),X.d=Ce.getUTCDate()+(X.w+6)%7):(Ce=oN(gx(X.y,0,1)),xe=Ce.getDay(),Ce=xe>4||xe===0?Uy.ceil(Ce):Uy(Ce),Ce=Gg.offset(Ce,(X.V-1)*7),X.y=Ce.getFullYear(),X.m=Ce.getMonth(),X.d=Ce.getDate()+(X.w+6)%7)}else("W"in X||"U"in X)&&("w"in X||(X.w="u"in X?X.u%7:"W"in X?1:0),xe="Z"in X?cN(gx(X.y,0,1)).getUTCDay():oN(gx(X.y,0,1)).getDay(),X.m=0,X.d="W"in X?(X.w+6)%7+X.W*7-(xe+5)%7:X.w+X.U*7-(xe+6)%7);return"Z"in X?(X.H+=X.Z/100|0,X.M+=X.Z%100,cN(X)):oN(X)}}function P(re,ye,Ee,X){for(var Je=0,Ce=ye.length,xe=Ee.length,xt,et;Je<Ce;){if(X>=xe)return-1;if(xt=ye.charCodeAt(Je++),xt===37){if(xt=ye.charAt(Je++),et=O[xt in kT?ye.charAt(Je++):xt],!et||(X=et(re,Ee,X))<0)return-1}else if(xt!=Ee.charCodeAt(X++))return-1}return X}function B(re,ye,Ee){var X=d.exec(ye.slice(Ee));return X?(re.p=h.get(X[0].toLowerCase()),Ee+X[0].length):-1}function H(re,ye,Ee){var X=x.exec(ye.slice(Ee));return X?(re.w=b.get(X[0].toLowerCase()),Ee+X[0].length):-1}function L(re,ye,Ee){var X=m.exec(ye.slice(Ee));return X?(re.w=g.get(X[0].toLowerCase()),Ee+X[0].length):-1}function U(re,ye,Ee){var X=N.exec(ye.slice(Ee));return X?(re.m=E.get(X[0].toLowerCase()),Ee+X[0].length):-1}function V(re,ye,Ee){var X=v.exec(ye.slice(Ee));return X?(re.m=w.get(X[0].toLowerCase()),Ee+X[0].length):-1}function Y(re,ye,Ee){return P(re,t,ye,Ee)}function de(re,ye,Ee){return P(re,r,ye,Ee)}function te(re,ye,Ee){return P(re,n,ye,Ee)}function ie(re){return l[re.getDay()]}function ge(re){return s[re.getDay()]}function oe(re){return u[re.getMonth()]}function Se(re){return o[re.getMonth()]}function ne(re){return a[+(re.getHours()>=12)]}function M(re){return 1+~~(re.getMonth()/3)}function R(re){return l[re.getUTCDay()]}function q(re){return s[re.getUTCDay()]}function K(re){return u[re.getUTCMonth()]}function ee(re){return o[re.getUTCMonth()]}function ce(re){return a[+(re.getUTCHours()>=12)]}function Q(re){return 1+~~(re.getUTCMonth()/3)}return{format:function(re){var ye=D(re+="",j);return ye.toString=function(){return re},ye},parse:function(re){var ye=C(re+="",!1);return ye.toString=function(){return re},ye},utcFormat:function(re){var ye=D(re+="",T);return ye.toString=function(){return re},ye},utcParse:function(re){var ye=C(re+="",!0);return ye.toString=function(){return re},ye}}}var kT={"-":"",_:" ",0:"0"},Ys=/^\s*\d+/,rhe=/^%/,nhe=/[\\^$*+?|[\]().{}]/g;function cn(e,t,r){var n=e<0?"-":"",a=(n?-e:e)+"",s=a.length;return n+(s<r?new Array(r-s+1).join(t)+a:a)}function ahe(e){return e.replace(nhe,"\\$&")}function vx(e){return new RegExp("^(?:"+e.map(ahe).join("|")+")","i")}function yx(e){return new Map(e.map((t,r)=>[t.toLowerCase(),r]))}function she(e,t,r){var n=Ys.exec(t.slice(r,r+1));return n?(e.w=+n[0],r+n[0].length):-1}function ihe(e,t,r){var n=Ys.exec(t.slice(r,r+1));return n?(e.u=+n[0],r+n[0].length):-1}function lhe(e,t,r){var n=Ys.exec(t.slice(r,r+2));return n?(e.U=+n[0],r+n[0].length):-1}function ohe(e,t,r){var n=Ys.exec(t.slice(r,r+2));return n?(e.V=+n[0],r+n[0].length):-1}function che(e,t,r){var n=Ys.exec(t.slice(r,r+2));return n?(e.W=+n[0],r+n[0].length):-1}function ET(e,t,r){var n=Ys.exec(t.slice(r,r+4));return n?(e.y=+n[0],r+n[0].length):-1}function CT(e,t,r){var n=Ys.exec(t.slice(r,r+2));return n?(e.y=+n[0]+(+n[0]>68?1900:2e3),r+n[0].length):-1}function uhe(e,t,r){var n=/^(Z)|([+-]\d\d)(?::?(\d\d))?/.exec(t.slice(r,r+6));return n?(e.Z=n[1]?0:-(n[2]+(n[3]||"00")),r+n[0].length):-1}function dhe(e,t,r){var n=Ys.exec(t.slice(r,r+1));return n?(e.q=n[0]*3-3,r+n[0].length):-1}function fhe(e,t,r){var n=Ys.exec(t.slice(r,r+2));return n?(e.m=n[0]-1,r+n[0].length):-1}function TT(e,t,r){var n=Ys.exec(t.slice(r,r+2));return n?(e.d=+n[0],r+n[0].length):-1}function hhe(e,t,r){var n=Ys.exec(t.slice(r,r+3));return n?(e.m=0,e.d=+n[0],r+n[0].length):-1}function OT(e,t,r){var n=Ys.exec(t.slice(r,r+2));return n?(e.H=+n[0],r+n[0].length):-1}function mhe(e,t,r){var n=Ys.exec(t.slice(r,r+2));return n?(e.M=+n[0],r+n[0].length):-1}function phe(e,t,r){var n=Ys.exec(t.slice(r,r+2));return n?(e.S=+n[0],r+n[0].length):-1}function xhe(e,t,r){var n=Ys.exec(t.slice(r,r+3));return n?(e.L=+n[0],r+n[0].length):-1}function ghe(e,t,r){var n=Ys.exec(t.slice(r,r+6));return n?(e.L=Math.floor(n[0]/1e3),r+n[0].length):-1}function vhe(e,t,r){var n=rhe.exec(t.slice(r,r+1));return n?r+n[0].length:-1}function yhe(e,t,r){var n=Ys.exec(t.slice(r));return n?(e.Q=+n[0],r+n[0].length):-1}function bhe(e,t,r){var n=Ys.exec(t.slice(r));return n?(e.s=+n[0],r+n[0].length):-1}function FT(e,t){return cn(e.getDate(),t,2)}function whe(e,t){return cn(e.getHours(),t,2)}function Nhe(e,t){return cn(e.getHours()%12||12,t,2)}function _he(e,t){return cn(1+Gg.count(wd(e),e),t,3)}function RR(e,t){return cn(e.getMilliseconds(),t,3)}function jhe(e,t){return RR(e,t)+"000"}function She(e,t){return cn(e.getMonth()+1,t,2)}function Ahe(e,t){return cn(e.getMinutes(),t,2)}function khe(e,t){return cn(e.getSeconds(),t,2)}function Ehe(e){var t=e.getDay();return t===0?7:t}function Che(e,t){return cn($2.count(wd(e)-1,e),t,2)}function IR(e){var t=e.getDay();return t>=4||t===0?tp(e):tp.ceil(e)}function The(e,t){return e=IR(e),cn(tp.count(wd(e),e)+(wd(e).getDay()===4),t,2)}function Ohe(e){return e.getDay()}function Fhe(e,t){return cn(Uy.count(wd(e)-1,e),t,2)}function Dhe(e,t){return cn(e.getFullYear()%100,t,2)}function Phe(e,t){return e=IR(e),cn(e.getFullYear()%100,t,2)}function Lhe(e,t){return cn(e.getFullYear()%1e4,t,4)}function Mhe(e,t){var r=e.getDay();return e=r>=4||r===0?tp(e):tp.ceil(e),cn(e.getFullYear()%1e4,t,4)}function Rhe(e){var t=e.getTimezoneOffset();return(t>0?"-":(t*=-1,"+"))+cn(t/60|0,"0",2)+cn(t%60,"0",2)}function DT(e,t){return cn(e.getUTCDate(),t,2)}function Ihe(e,t){return cn(e.getUTCHours(),t,2)}function Bhe(e,t){return cn(e.getUTCHours()%12||12,t,2)}function Uhe(e,t){return cn(1+q2.count(Nd(e),e),t,3)}function BR(e,t){return cn(e.getUTCMilliseconds(),t,3)}function zhe(e,t){return BR(e,t)+"000"}function qhe(e,t){return cn(e.getUTCMonth()+1,t,2)}function $he(e,t){return cn(e.getUTCMinutes(),t,2)}function Hhe(e,t){return cn(e.getUTCSeconds(),t,2)}function Vhe(e){var t=e.getUTCDay();return t===0?7:t}function Whe(e,t){return cn(H2.count(Nd(e)-1,e),t,2)}function UR(e){var t=e.getUTCDay();return t>=4||t===0?rp(e):rp.ceil(e)}function Khe(e,t){return e=UR(e),cn(rp.count(Nd(e),e)+(Nd(e).getUTCDay()===4),t,2)}function Ghe(e){return e.getUTCDay()}function Yhe(e,t){return cn(zy.count(Nd(e)-1,e),t,2)}function Xhe(e,t){return cn(e.getUTCFullYear()%100,t,2)}function Qhe(e,t){return e=UR(e),cn(e.getUTCFullYear()%100,t,2)}function Zhe(e,t){return cn(e.getUTCFullYear()%1e4,t,4)}function Jhe(e,t){var r=e.getUTCDay();return e=r>=4||r===0?rp(e):rp.ceil(e),cn(e.getUTCFullYear()%1e4,t,4)}function eme(){return"+0000"}function PT(){return"%"}function LT(e){return+e}function MT(e){return Math.floor(+e/1e3)}var bm,zR,qR;tme({dateTime:"%x, %X",date:"%-m/%-d/%Y",time:"%-I:%M:%S %p",periods:["AM","PM"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]});function tme(e){return bm=the(e),zR=bm.format,bm.parse,qR=bm.utcFormat,bm.utcParse,bm}function rme(e){return new Date(e)}function nme(e){return e instanceof Date?+e:+new Date(+e)}function O3(e,t,r,n,a,s,l,o,u,d){var h=g3(),m=h.invert,g=h.domain,x=d(".%L"),b=d(":%S"),v=d("%I:%M"),w=d("%I %p"),N=d("%a %d"),E=d("%b %d"),j=d("%B"),T=d("%Y");function O(D){return(u(D)<D?x:o(D)<D?b:l(D)<D?v:s(D)<D?w:n(D)<D?a(D)<D?N:E:r(D)<D?j:T)(D)}return h.invert=function(D){return new Date(m(D))},h.domain=function(D){return arguments.length?g(Array.from(D,nme)):g().map(rme)},h.ticks=function(D){var C=g();return e(C[0],C[C.length-1],D??10)},h.tickFormat=function(D,C){return C==null?O:d(C)},h.nice=function(D){var C=g();return(!D||typeof D.range!="function")&&(D=t(C[0],C[C.length-1],D??10)),D?g(ER(C,D)):h},h.copy=function(){return Kg(h,O3(e,t,r,n,a,s,l,o,u,d))},h}function ame(){return Yo.apply(O3(J0e,ehe,wd,C3,$2,Gg,k3,S3,D0,zR).domain([new Date(2e3,0,1),new Date(2e3,0,2)]),arguments)}function sme(){return Yo.apply(O3(Q0e,Z0e,Nd,T3,H2,q2,E3,A3,D0,qR).domain([Date.UTC(2e3,0,1),Date.UTC(2e3,0,2)]),arguments)}function V2(){var e=0,t=1,r,n,a,s,l=tl,o=!1,u;function d(m){return m==null||isNaN(m=+m)?u:l(a===0?.5:(m=(s(m)-r)*a,o?Math.max(0,Math.min(1,m)):m))}d.domain=function(m){return arguments.length?([e,t]=m,r=s(e=+e),n=s(t=+t),a=r===n?0:1/(n-r),d):[e,t]},d.clamp=function(m){return arguments.length?(o=!!m,d):o},d.interpolator=function(m){return arguments.length?(l=m,d):l};function h(m){return function(g){var x,b;return arguments.length?([x,b]=g,l=m(x,b),d):[l(0),l(1)]}}return d.range=h(gp),d.rangeRound=h(x3),d.unknown=function(m){return arguments.length?(u=m,d):u},function(m){return s=m,r=m(e),n=m(t),a=r===n?0:1/(n-r),d}}function Yf(e,t){return t.domain(e.domain()).interpolator(e.interpolator()).clamp(e.clamp()).unknown(e.unknown())}function $R(){var e=Gf(V2()(tl));return e.copy=function(){return Yf(e,$R())},Td.apply(e,arguments)}function HR(){var e=b3(V2()).domain([1,10]);return e.copy=function(){return Yf(e,HR()).base(e.base())},Td.apply(e,arguments)}function VR(){var e=w3(V2());return e.copy=function(){return Yf(e,VR()).constant(e.constant())},Td.apply(e,arguments)}function F3(){var e=N3(V2());return e.copy=function(){return Yf(e,F3()).exponent(e.exponent())},Td.apply(e,arguments)}function ime(){return F3.apply(null,arguments).exponent(.5)}function WR(){var e=[],t=tl;function r(n){if(n!=null&&!isNaN(n=+n))return t((Vg(e,n,1)-1)/(e.length-1))}return r.domain=function(n){if(!arguments.length)return e.slice();e=[];for(let a of n)a!=null&&!isNaN(a=+a)&&e.push(a);return e.sort(kf),r},r.interpolator=function(n){return arguments.length?(t=n,r):t},r.range=function(){return e.map((n,a)=>t(a/(e.length-1)))},r.quantiles=function(n){return Array.from({length:n+1},(a,s)=>Vfe(e,s/n))},r.copy=function(){return WR(t).domain(e)},Td.apply(r,arguments)}function W2(){var e=0,t=.5,r=1,n=1,a,s,l,o,u,d=tl,h,m=!1,g;function x(v){return isNaN(v=+v)?g:(v=.5+((v=+h(v))-s)*(n*v<n*s?o:u),d(m?Math.max(0,Math.min(1,v)):v))}x.domain=function(v){return arguments.length?([e,t,r]=v,a=h(e=+e),s=h(t=+t),l=h(r=+r),o=a===s?0:.5/(s-a),u=s===l?0:.5/(l-s),n=s<a?-1:1,x):[e,t,r]},x.clamp=function(v){return arguments.length?(m=!!v,x):m},x.interpolator=function(v){return arguments.length?(d=v,x):d};function b(v){return function(w){var N,E,j;return arguments.length?([N,E,j]=w,d=v0e(v,[N,E,j]),x):[d(0),d(.5),d(1)]}}return x.range=b(gp),x.rangeRound=b(x3),x.unknown=function(v){return arguments.length?(g=v,x):g},function(v){return h=v,a=v(e),s=v(t),l=v(r),o=a===s?0:.5/(s-a),u=s===l?0:.5/(l-s),n=s<a?-1:1,x}}function KR(){var e=Gf(W2()(tl));return e.copy=function(){return Yf(e,KR())},Td.apply(e,arguments)}function GR(){var e=b3(W2()).domain([.1,1,10]);return e.copy=function(){return Yf(e,GR()).base(e.base())},Td.apply(e,arguments)}function YR(){var e=w3(W2());return e.copy=function(){return Yf(e,YR()).constant(e.constant())},Td.apply(e,arguments)}function D3(){var e=N3(W2());return e.copy=function(){return Yf(e,D3()).exponent(e.exponent())},Td.apply(e,arguments)}function lme(){return D3.apply(null,arguments).exponent(.5)}const kx=Object.freeze(Object.defineProperty({__proto__:null,scaleBand:h3,scaleDiverging:KR,scaleDivergingLog:GR,scaleDivergingPow:D3,scaleDivergingSqrt:lme,scaleDivergingSymlog:YR,scaleIdentity:kR,scaleImplicit:G4,scaleLinear:AR,scaleLog:CR,scaleOrdinal:f3,scalePoint:Gfe,scalePow:_3,scaleQuantile:FR,scaleQuantize:DR,scaleRadial:OR,scaleSequential:$R,scaleSequentialLog:HR,scaleSequentialPow:F3,scaleSequentialQuantile:WR,scaleSequentialSqrt:ime,scaleSequentialSymlog:VR,scaleSqrt:z0e,scaleSymlog:TR,scaleThreshold:PR,scaleTime:ame,scaleUtc:sme,tickFormat:SR},Symbol.toStringTag,{value:"Module"}));var Xf=e=>e.chartData,P3=Ke([Xf],e=>{var t=e.chartData!=null?e.chartData.length-1:0;return{chartData:e.chartData,computedData:e.computedData,dataEndIndex:t,dataStartIndex:0}}),K2=(e,t,r,n)=>n?P3(e):Xf(e);function ih(e){if(Array.isArray(e)&&e.length===2){var[t,r]=e;if(Mi(t)&&Mi(r))return!0}return!1}function RT(e,t,r){return r?e:[Math.min(e[0],t[0]),Math.max(e[1],t[1])]}function XR(e,t){if(t&&typeof e!="function"&&Array.isArray(e)&&e.length===2){var[r,n]=e,a,s;if(Mi(r))a=r;else if(typeof r=="function")return;if(Mi(n))s=n;else if(typeof n=="function")return;var l=[a,s];if(ih(l))return l}}function ome(e,t,r){if(!(!r&&t==null)){if(typeof e=="function"&&t!=null)try{var n=e(t,r);if(ih(n))return RT(n,t,r)}catch{}if(Array.isArray(e)&&e.length===2){var[a,s]=e,l,o;if(a==="auto")t!=null&&(l=Math.min(...t));else if(Qt(a))l=a;else if(typeof a=="function")try{t!=null&&(l=a(t?.[0]))}catch{}else if(typeof a=="string"&&b8.test(a)){var u=b8.exec(a);if(u==null||t==null)l=void 0;else{var d=+u[1];l=t[0]-d}}else l=t?.[0];if(s==="auto")t!=null&&(o=Math.max(...t));else if(Qt(s))o=s;else if(typeof s=="function")try{t!=null&&(o=s(t?.[1]))}catch{}else if(typeof s=="string"&&w8.test(s)){var h=w8.exec(s);if(h==null||t==null)o=void 0;else{var m=+h[1];o=t[1]+m}}else o=t?.[1];var g=[l,o];if(ih(g))return t==null?g:RT(g,t,r)}}}var vp=1e9,cme={precision:20,rounding:4,toExpNeg:-7,toExpPos:21,LN10:"2.302585092994045684017991454684364207601101488628772976033327900967572609677352480235997205089598298341967784042286"},M3,ha=!0,Wo="[DecimalError] ",$0=Wo+"Invalid argument: ",L3=Wo+"Exponent out of range: ",yp=Math.floor,A0=Math.pow,ume=/^(\d+(\.\d*)?|\.\d+)(e[+-]?\d+)?$/i,eo,$s=1e7,Jn=7,QR=9007199254740991,qy=yp(QR/Jn),It={};It.absoluteValue=It.abs=function(){var e=new this.constructor(this);return e.s&&(e.s=1),e};It.comparedTo=It.cmp=function(e){var t,r,n,a,s=this;if(e=new s.constructor(e),s.s!==e.s)return s.s||-e.s;if(s.e!==e.e)return s.e>e.e^s.s<0?1:-1;for(n=s.d.length,a=e.d.length,t=0,r=n<a?n:a;t<r;++t)if(s.d[t]!==e.d[t])return s.d[t]>e.d[t]^s.s<0?1:-1;return n===a?0:n>a^s.s<0?1:-1};It.decimalPlaces=It.dp=function(){var e=this,t=e.d.length-1,r=(t-e.e)*Jn;if(t=e.d[t],t)for(;t%10==0;t/=10)r--;return r<0?0:r};It.dividedBy=It.div=function(e){return fd(this,new this.constructor(e))};It.dividedToIntegerBy=It.idiv=function(e){var t=this,r=t.constructor;return qn(fd(t,new r(e),0,1),r.precision)};It.equals=It.eq=function(e){return!this.cmp(e)};It.exponent=function(){return hs(this)};It.greaterThan=It.gt=function(e){return this.cmp(e)>0};It.greaterThanOrEqualTo=It.gte=function(e){return this.cmp(e)>=0};It.isInteger=It.isint=function(){return this.e>this.d.length-2};It.isNegative=It.isneg=function(){return this.s<0};It.isPositive=It.ispos=function(){return this.s>0};It.isZero=function(){return this.s===0};It.lessThan=It.lt=function(e){return this.cmp(e)<0};It.lessThanOrEqualTo=It.lte=function(e){return this.cmp(e)<1};It.logarithm=It.log=function(e){var t,r=this,n=r.constructor,a=n.precision,s=a+5;if(e===void 0)e=new n(10);else if(e=new n(e),e.s<1||e.eq(eo))throw Error(Wo+"NaN");if(r.s<1)throw Error(Wo+(r.s?"NaN":"-Infinity"));return r.eq(eo)?new n(0):(ha=!1,t=fd(bg(r,s),bg(e,s),s),ha=!0,qn(t,a))};It.minus=It.sub=function(e){var t=this;return e=new t.constructor(e),t.s==e.s?e9(t,e):ZR(t,(e.s=-e.s,e))};It.modulo=It.mod=function(e){var t,r=this,n=r.constructor,a=n.precision;if(e=new n(e),!e.s)throw Error(Wo+"NaN");return r.s?(ha=!1,t=fd(r,e,0,1).times(e),ha=!0,r.minus(t)):qn(new n(r),a)};It.naturalExponential=It.exp=function(){return JR(this)};It.naturalLogarithm=It.ln=function(){return bg(this)};It.negated=It.neg=function(){var e=new this.constructor(this);return e.s=-e.s||0,e};It.plus=It.add=function(e){var t=this;return e=new t.constructor(e),t.s==e.s?ZR(t,e):e9(t,(e.s=-e.s,e))};It.precision=It.sd=function(e){var t,r,n,a=this;if(e!==void 0&&e!==!!e&&e!==1&&e!==0)throw Error($0+e);if(t=hs(a)+1,n=a.d.length-1,r=n*Jn+1,n=a.d[n],n){for(;n%10==0;n/=10)r--;for(n=a.d[0];n>=10;n/=10)r++}return e&&t>r?t:r};It.squareRoot=It.sqrt=function(){var e,t,r,n,a,s,l,o=this,u=o.constructor;if(o.s<1){if(!o.s)return new u(0);throw Error(Wo+"NaN")}for(e=hs(o),ha=!1,a=Math.sqrt(+o),a==0||a==1/0?(t=du(o.d),(t.length+e)%2==0&&(t+="0"),a=Math.sqrt(t),e=yp((e+1)/2)-(e<0||e%2),a==1/0?t="5e"+e:(t=a.toExponential(),t=t.slice(0,t.indexOf("e")+1)+e),n=new u(t)):n=new u(a.toString()),r=u.precision,a=l=r+3;;)if(s=n,n=s.plus(fd(o,s,l+2)).times(.5),du(s.d).slice(0,l)===(t=du(n.d)).slice(0,l)){if(t=t.slice(l-3,l+1),a==l&&t=="4999"){if(qn(s,r+1,0),s.times(s).eq(o)){n=s;break}}else if(t!="9999")break;l+=4}return ha=!0,qn(n,r)};It.times=It.mul=function(e){var t,r,n,a,s,l,o,u,d,h=this,m=h.constructor,g=h.d,x=(e=new m(e)).d;if(!h.s||!e.s)return new m(0);for(e.s*=h.s,r=h.e+e.e,u=g.length,d=x.length,u<d&&(s=g,g=x,x=s,l=u,u=d,d=l),s=[],l=u+d,n=l;n--;)s.push(0);for(n=d;--n>=0;){for(t=0,a=u+n;a>n;)o=s[a]+x[n]*g[a-n-1]+t,s[a--]=o%$s|0,t=o/$s|0;s[a]=(s[a]+t)%$s|0}for(;!s[--l];)s.pop();return t?++r:s.shift(),e.d=s,e.e=r,ha?qn(e,m.precision):e};It.toDecimalPlaces=It.todp=function(e,t){var r=this,n=r.constructor;return r=new n(r),e===void 0?r:(xu(e,0,vp),t===void 0?t=n.rounding:xu(t,0,8),qn(r,e+hs(r)+1,t))};It.toExponential=function(e,t){var r,n=this,a=n.constructor;return e===void 0?r=lh(n,!0):(xu(e,0,vp),t===void 0?t=a.rounding:xu(t,0,8),n=qn(new a(n),e+1,t),r=lh(n,!0,e+1)),r};It.toFixed=function(e,t){var r,n,a=this,s=a.constructor;return e===void 0?lh(a):(xu(e,0,vp),t===void 0?t=s.rounding:xu(t,0,8),n=qn(new s(a),e+hs(a)+1,t),r=lh(n.abs(),!1,e+hs(n)+1),a.isneg()&&!a.isZero()?"-"+r:r)};It.toInteger=It.toint=function(){var e=this,t=e.constructor;return qn(new t(e),hs(e)+1,t.rounding)};It.toNumber=function(){return+this};It.toPower=It.pow=function(e){var t,r,n,a,s,l,o=this,u=o.constructor,d=12,h=+(e=new u(e));if(!e.s)return new u(eo);if(o=new u(o),!o.s){if(e.s<1)throw Error(Wo+"Infinity");return o}if(o.eq(eo))return o;if(n=u.precision,e.eq(eo))return qn(o,n);if(t=e.e,r=e.d.length-1,l=t>=r,s=o.s,l){if((r=h<0?-h:h)<=QR){for(a=new u(eo),t=Math.ceil(n/Jn+4),ha=!1;r%2&&(a=a.times(o),BT(a.d,t)),r=yp(r/2),r!==0;)o=o.times(o),BT(o.d,t);return ha=!0,e.s<0?new u(eo).div(a):qn(a,n)}}else if(s<0)throw Error(Wo+"NaN");return s=s<0&&e.d[Math.max(t,r)]&1?-1:1,o.s=1,ha=!1,a=e.times(bg(o,n+d)),ha=!0,a=JR(a),a.s=s,a};It.toPrecision=function(e,t){var r,n,a=this,s=a.constructor;return e===void 0?(r=hs(a),n=lh(a,r<=s.toExpNeg||r>=s.toExpPos)):(xu(e,1,vp),t===void 0?t=s.rounding:xu(t,0,8),a=qn(new s(a),e,t),r=hs(a),n=lh(a,e<=r||r<=s.toExpNeg,e)),n};It.toSignificantDigits=It.tosd=function(e,t){var r=this,n=r.constructor;return e===void 0?(e=n.precision,t=n.rounding):(xu(e,1,vp),t===void 0?t=n.rounding:xu(t,0,8)),qn(new n(r),e,t)};It.toString=It.valueOf=It.val=It.toJSON=It[Symbol.for("nodejs.util.inspect.custom")]=function(){var e=this,t=hs(e),r=e.constructor;return lh(e,t<=r.toExpNeg||t>=r.toExpPos)};function ZR(e,t){var r,n,a,s,l,o,u,d,h=e.constructor,m=h.precision;if(!e.s||!t.s)return t.s||(t=new h(e)),ha?qn(t,m):t;if(u=e.d,d=t.d,l=e.e,a=t.e,u=u.slice(),s=l-a,s){for(s<0?(n=u,s=-s,o=d.length):(n=d,a=l,o=u.length),l=Math.ceil(m/Jn),o=l>o?l+1:o+1,s>o&&(s=o,n.length=1),n.reverse();s--;)n.push(0);n.reverse()}for(o=u.length,s=d.length,o-s<0&&(s=o,n=d,d=u,u=n),r=0;s;)r=(u[--s]=u[s]+d[s]+r)/$s|0,u[s]%=$s;for(r&&(u.unshift(r),++a),o=u.length;u[--o]==0;)u.pop();return t.d=u,t.e=a,ha?qn(t,m):t}function xu(e,t,r){if(e!==~~e||e<t||e>r)throw Error($0+e)}function du(e){var t,r,n,a=e.length-1,s="",l=e[0];if(a>0){for(s+=l,t=1;t<a;t++)n=e[t]+"",r=Jn-n.length,r&&(s+=yf(r)),s+=n;l=e[t],n=l+"",r=Jn-n.length,r&&(s+=yf(r))}else if(l===0)return"0";for(;l%10===0;)l/=10;return s+l}var fd=(function(){function e(n,a){var s,l=0,o=n.length;for(n=n.slice();o--;)s=n[o]*a+l,n[o]=s%$s|0,l=s/$s|0;return l&&n.unshift(l),n}function t(n,a,s,l){var o,u;if(s!=l)u=s>l?1:-1;else for(o=u=0;o<s;o++)if(n[o]!=a[o]){u=n[o]>a[o]?1:-1;break}return u}function r(n,a,s){for(var l=0;s--;)n[s]-=l,l=n[s]<a[s]?1:0,n[s]=l*$s+n[s]-a[s];for(;!n[0]&&n.length>1;)n.shift()}return function(n,a,s,l){var o,u,d,h,m,g,x,b,v,w,N,E,j,T,O,D,C,P,B=n.constructor,H=n.s==a.s?1:-1,L=n.d,U=a.d;if(!n.s)return new B(n);if(!a.s)throw Error(Wo+"Division by zero");for(u=n.e-a.e,C=U.length,O=L.length,x=new B(H),b=x.d=[],d=0;U[d]==(L[d]||0);)++d;if(U[d]>(L[d]||0)&&--u,s==null?E=s=B.precision:l?E=s+(hs(n)-hs(a))+1:E=s,E<0)return new B(0);if(E=E/Jn+2|0,d=0,C==1)for(h=0,U=U[0],E++;(d<O||h)&&E--;d++)j=h*$s+(L[d]||0),b[d]=j/U|0,h=j%U|0;else{for(h=$s/(U[0]+1)|0,h>1&&(U=e(U,h),L=e(L,h),C=U.length,O=L.length),T=C,v=L.slice(0,C),w=v.length;w<C;)v[w++]=0;P=U.slice(),P.unshift(0),D=U[0],U[1]>=$s/2&&++D;do h=0,o=t(U,v,C,w),o<0?(N=v[0],C!=w&&(N=N*$s+(v[1]||0)),h=N/D|0,h>1?(h>=$s&&(h=$s-1),m=e(U,h),g=m.length,w=v.length,o=t(m,v,g,w),o==1&&(h--,r(m,C<g?P:U,g))):(h==0&&(o=h=1),m=U.slice()),g=m.length,g<w&&m.unshift(0),r(v,m,w),o==-1&&(w=v.length,o=t(U,v,C,w),o<1&&(h++,r(v,C<w?P:U,w))),w=v.length):o===0&&(h++,v=[0]),b[d++]=h,o&&v[0]?v[w++]=L[T]||0:(v=[L[T]],w=1);while((T++<O||v[0]!==void 0)&&E--)}return b[0]||b.shift(),x.e=u,qn(x,l?s+hs(x)+1:s)}})();function JR(e,t){var r,n,a,s,l,o,u=0,d=0,h=e.constructor,m=h.precision;if(hs(e)>16)throw Error(L3+hs(e));if(!e.s)return new h(eo);for(ha=!1,o=m,l=new h(.03125);e.abs().gte(.1);)e=e.times(l),d+=5;for(n=Math.log(A0(2,d))/Math.LN10*2+5|0,o+=n,r=a=s=new h(eo),h.precision=o;;){if(a=qn(a.times(e),o),r=r.times(++u),l=s.plus(fd(a,r,o)),du(l.d).slice(0,o)===du(s.d).slice(0,o)){for(;d--;)s=qn(s.times(s),o);return h.precision=m,t==null?(ha=!0,qn(s,m)):s}s=l}}function hs(e){for(var t=e.e*Jn,r=e.d[0];r>=10;r/=10)t++;return t}function uN(e,t,r){if(t>e.LN10.sd())throw ha=!0,r&&(e.precision=r),Error(Wo+"LN10 precision limit exceeded");return qn(new e(e.LN10),t)}function yf(e){for(var t="";e--;)t+="0";return t}function bg(e,t){var r,n,a,s,l,o,u,d,h,m=1,g=10,x=e,b=x.d,v=x.constructor,w=v.precision;if(x.s<1)throw Error(Wo+(x.s?"NaN":"-Infinity"));if(x.eq(eo))return new v(0);if(t==null?(ha=!1,d=w):d=t,x.eq(10))return t==null&&(ha=!0),uN(v,d);if(d+=g,v.precision=d,r=du(b),n=r.charAt(0),s=hs(x),Math.abs(s)<15e14){for(;n<7&&n!=1||n==1&&r.charAt(1)>3;)x=x.times(e),r=du(x.d),n=r.charAt(0),m++;s=hs(x),n>1?(x=new v("0."+r),s++):x=new v(n+"."+r.slice(1))}else return u=uN(v,d+2,w).times(s+""),x=bg(new v(n+"."+r.slice(1)),d-g).plus(u),v.precision=w,t==null?(ha=!0,qn(x,w)):x;for(o=l=x=fd(x.minus(eo),x.plus(eo),d),h=qn(x.times(x),d),a=3;;){if(l=qn(l.times(h),d),u=o.plus(fd(l,new v(a),d)),du(u.d).slice(0,d)===du(o.d).slice(0,d))return o=o.times(2),s!==0&&(o=o.plus(uN(v,d+2,w).times(s+""))),o=fd(o,new v(m),d),v.precision=w,t==null?(ha=!0,qn(o,w)):o;o=u,a+=2}}function IT(e,t){var r,n,a;for((r=t.indexOf("."))>-1&&(t=t.replace(".","")),(n=t.search(/e/i))>0?(r<0&&(r=n),r+=+t.slice(n+1),t=t.substring(0,n)):r<0&&(r=t.length),n=0;t.charCodeAt(n)===48;)++n;for(a=t.length;t.charCodeAt(a-1)===48;)--a;if(t=t.slice(n,a),t){if(a-=n,r=r-n-1,e.e=yp(r/Jn),e.d=[],n=(r+1)%Jn,r<0&&(n+=Jn),n<a){for(n&&e.d.push(+t.slice(0,n)),a-=Jn;n<a;)e.d.push(+t.slice(n,n+=Jn));t=t.slice(n),n=Jn-t.length}else n-=a;for(;n--;)t+="0";if(e.d.push(+t),ha&&(e.e>qy||e.e<-qy))throw Error(L3+r)}else e.s=0,e.e=0,e.d=[0];return e}function qn(e,t,r){var n,a,s,l,o,u,d,h,m=e.d;for(l=1,s=m[0];s>=10;s/=10)l++;if(n=t-l,n<0)n+=Jn,a=t,d=m[h=0];else{if(h=Math.ceil((n+1)/Jn),s=m.length,h>=s)return e;for(d=s=m[h],l=1;s>=10;s/=10)l++;n%=Jn,a=n-Jn+l}if(r!==void 0&&(s=A0(10,l-a-1),o=d/s%10|0,u=t<0||m[h+1]!==void 0||d%s,u=r<4?(o||u)&&(r==0||r==(e.s<0?3:2)):o>5||o==5&&(r==4||u||r==6&&(n>0?a>0?d/A0(10,l-a):0:m[h-1])%10&1||r==(e.s<0?8:7))),t<1||!m[0])return u?(s=hs(e),m.length=1,t=t-s-1,m[0]=A0(10,(Jn-t%Jn)%Jn),e.e=yp(-t/Jn)||0):(m.length=1,m[0]=e.e=e.s=0),e;if(n==0?(m.length=h,s=1,h--):(m.length=h+1,s=A0(10,Jn-n),m[h]=a>0?(d/A0(10,l-a)%A0(10,a)|0)*s:0),u)for(;;)if(h==0){(m[0]+=s)==$s&&(m[0]=1,++e.e);break}else{if(m[h]+=s,m[h]!=$s)break;m[h--]=0,s=1}for(n=m.length;m[--n]===0;)m.pop();if(ha&&(e.e>qy||e.e<-qy))throw Error(L3+hs(e));return e}function e9(e,t){var r,n,a,s,l,o,u,d,h,m,g=e.constructor,x=g.precision;if(!e.s||!t.s)return t.s?t.s=-t.s:t=new g(e),ha?qn(t,x):t;if(u=e.d,m=t.d,n=t.e,d=e.e,u=u.slice(),l=d-n,l){for(h=l<0,h?(r=u,l=-l,o=m.length):(r=m,n=d,o=u.length),a=Math.max(Math.ceil(x/Jn),o)+2,l>a&&(l=a,r.length=1),r.reverse(),a=l;a--;)r.push(0);r.reverse()}else{for(a=u.length,o=m.length,h=a<o,h&&(o=a),a=0;a<o;a++)if(u[a]!=m[a]){h=u[a]<m[a];break}l=0}for(h&&(r=u,u=m,m=r,t.s=-t.s),o=u.length,a=m.length-o;a>0;--a)u[o++]=0;for(a=m.length;a>l;){if(u[--a]<m[a]){for(s=a;s&&u[--s]===0;)u[s]=$s-1;--u[s],u[a]+=$s}u[a]-=m[a]}for(;u[--o]===0;)u.pop();for(;u[0]===0;u.shift())--n;return u[0]?(t.d=u,t.e=n,ha?qn(t,x):t):new g(0)}function lh(e,t,r){var n,a=hs(e),s=du(e.d),l=s.length;return t?(r&&(n=r-l)>0?s=s.charAt(0)+"."+s.slice(1)+yf(n):l>1&&(s=s.charAt(0)+"."+s.slice(1)),s=s+(a<0?"e":"e+")+a):a<0?(s="0."+yf(-a-1)+s,r&&(n=r-l)>0&&(s+=yf(n))):a>=l?(s+=yf(a+1-l),r&&(n=r-a-1)>0&&(s=s+"."+yf(n))):((n=a+1)<l&&(s=s.slice(0,n)+"."+s.slice(n)),r&&(n=r-l)>0&&(a+1===l&&(s+="."),s+=yf(n))),e.s<0?"-"+s:s}function BT(e,t){if(e.length>t)return e.length=t,!0}function t9(e){var t,r,n;function a(s){var l=this;if(!(l instanceof a))return new a(s);if(l.constructor=a,s instanceof a){l.s=s.s,l.e=s.e,l.d=(s=s.d)?s.slice():s;return}if(typeof s=="number"){if(s*0!==0)throw Error($0+s);if(s>0)l.s=1;else if(s<0)s=-s,l.s=-1;else{l.s=0,l.e=0,l.d=[0];return}if(s===~~s&&s<1e7){l.e=0,l.d=[s];return}return IT(l,s.toString())}else if(typeof s!="string")throw Error($0+s);if(s.charCodeAt(0)===45?(s=s.slice(1),l.s=-1):l.s=1,ume.test(s))IT(l,s);else throw Error($0+s)}if(a.prototype=It,a.ROUND_UP=0,a.ROUND_DOWN=1,a.ROUND_CEIL=2,a.ROUND_FLOOR=3,a.ROUND_HALF_UP=4,a.ROUND_HALF_DOWN=5,a.ROUND_HALF_EVEN=6,a.ROUND_HALF_CEIL=7,a.ROUND_HALF_FLOOR=8,a.clone=t9,a.config=a.set=dme,e===void 0&&(e={}),e)for(n=["precision","rounding","toExpNeg","toExpPos","LN10"],t=0;t<n.length;)e.hasOwnProperty(r=n[t++])||(e[r]=this[r]);return a.config(e),a}function dme(e){if(!e||typeof e!="object")throw Error(Wo+"Object expected");var t,r,n,a=["precision",1,vp,"rounding",0,8,"toExpNeg",-1/0,0,"toExpPos",0,1/0];for(t=0;t<a.length;t+=3)if((n=e[r=a[t]])!==void 0)if(yp(n)===n&&n>=a[t+1]&&n<=a[t+2])this[r]=n;else throw Error($0+r+": "+n);if((n=e[r="LN10"])!==void 0)if(n==Math.LN10)this[r]=new this(n);else throw Error($0+r+": "+n);return this}var M3=t9(cme);eo=new M3(1);const _n=M3;var fme=e=>e,r9={},n9=e=>e===r9,UT=e=>function t(){return arguments.length===0||arguments.length===1&&n9(arguments.length<=0?void 0:arguments[0])?t:e(...arguments)},a9=(e,t)=>e===1?t:UT(function(){for(var r=arguments.length,n=new Array(r),a=0;a<r;a++)n[a]=arguments[a];var s=n.filter(l=>l!==r9).length;return s>=e?t(...n):a9(e-s,UT(function(){for(var l=arguments.length,o=new Array(l),u=0;u<l;u++)o[u]=arguments[u];var d=n.map(h=>n9(h)?o.shift():h);return t(...d,...o)}))}),G2=e=>a9(e.length,e),Z4=(e,t)=>{for(var r=[],n=e;n<t;++n)r[n-e]=n;return r},hme=G2((e,t)=>Array.isArray(t)?t.map(e):Object.keys(t).map(r=>t[r]).map(e)),mme=function(){for(var t=arguments.length,r=new Array(t),n=0;n<t;n++)r[n]=arguments[n];if(!r.length)return fme;var a=r.reverse(),s=a[0],l=a.slice(1);return function(){return l.reduce((o,u)=>u(o),s(...arguments))}},J4=e=>Array.isArray(e)?e.reverse():e.split("").reverse().join(""),s9=e=>{var t=null,r=null;return function(){for(var n=arguments.length,a=new Array(n),s=0;s<n;s++)a[s]=arguments[s];return t&&a.every((l,o)=>{var u;return l===((u=t)===null||u===void 0?void 0:u[o])})||(t=a,r=e(...a)),r}};function i9(e){var t;return e===0?t=1:t=Math.floor(new _n(e).abs().log(10).toNumber())+1,t}function l9(e,t,r){for(var n=new _n(e),a=0,s=[];n.lt(t)&&a<1e5;)s.push(n.toNumber()),n=n.add(r),a++;return s}G2((e,t,r)=>{var n=+e,a=+t;return n+r*(a-n)});G2((e,t,r)=>{var n=t-+e;return n=n||1/0,(r-e)/n});G2((e,t,r)=>{var n=t-+e;return n=n||1/0,Math.max(0,Math.min(1,(r-e)/n))});var o9=e=>{var[t,r]=e,[n,a]=[t,r];return t>r&&([n,a]=[r,t]),[n,a]},c9=(e,t,r)=>{if(e.lte(0))return new _n(0);var n=i9(e.toNumber()),a=new _n(10).pow(n),s=e.div(a),l=n!==1?.05:.1,o=new _n(Math.ceil(s.div(l).toNumber())).add(r).mul(l),u=o.mul(a);return t?new _n(u.toNumber()):new _n(Math.ceil(u.toNumber()))},pme=(e,t,r)=>{var n=new _n(1),a=new _n(e);if(!a.isint()&&r){var s=Math.abs(e);s<1?(n=new _n(10).pow(i9(e)-1),a=new _n(Math.floor(a.div(n).toNumber())).mul(n)):s>1&&(a=new _n(Math.floor(e)))}else e===0?a=new _n(Math.floor((t-1)/2)):r||(a=new _n(Math.floor(e)));var l=Math.floor((t-1)/2),o=mme(hme(u=>a.add(new _n(u-l).mul(n)).toNumber()),Z4);return o(0,t)},u9=function(t,r,n,a){var s=arguments.length>4&&arguments[4]!==void 0?arguments[4]:0;if(!Number.isFinite((r-t)/(n-1)))return{step:new _n(0),tickMin:new _n(0),tickMax:new _n(0)};var l=c9(new _n(r).sub(t).div(n-1),a,s),o;t<=0&&r>=0?o=new _n(0):(o=new _n(t).add(r).div(2),o=o.sub(new _n(o).mod(l)));var u=Math.ceil(o.sub(t).div(l).toNumber()),d=Math.ceil(new _n(r).sub(o).div(l).toNumber()),h=u+d+1;return h>n?u9(t,r,n,a,s+1):(h<n&&(d=r>0?d+(n-h):d,u=r>0?u:u+(n-h)),{step:l,tickMin:o.sub(new _n(u).mul(l)),tickMax:o.add(new _n(d).mul(l))})};function xme(e){var[t,r]=e,n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:6,a=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,s=Math.max(n,2),[l,o]=o9([t,r]);if(l===-1/0||o===1/0){var u=o===1/0?[l,...Z4(0,n-1).map(()=>1/0)]:[...Z4(0,n-1).map(()=>-1/0),o];return t>r?J4(u):u}if(l===o)return pme(l,n,a);var{step:d,tickMin:h,tickMax:m}=u9(l,o,s,a,0),g=l9(h,m.add(new _n(.1).mul(d)),d);return t>r?J4(g):g}function gme(e,t){var[r,n]=e,a=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,[s,l]=o9([r,n]);if(s===-1/0||l===1/0)return[r,n];if(s===l)return[s];var o=Math.max(t,2),u=c9(new _n(l).sub(s).div(o-1),a,0),d=[...l9(new _n(s),new _n(l),u),l];return a===!1&&(d=d.map(h=>Math.round(h))),r>n?J4(d):d}var vme=s9(xme),yme=s9(gme),d9=e=>e.rootProps.maxBarSize,bme=e=>e.rootProps.barGap,f9=e=>e.rootProps.barCategoryGap,wme=e=>e.rootProps.barSize,Yg=e=>e.rootProps.stackOffset,R3=e=>e.options.chartName,I3=e=>e.rootProps.syncId,h9=e=>e.rootProps.syncMethod,B3=e=>e.options.eventEmitter,Zu={allowDuplicatedCategory:!0,angleAxisId:0,reversed:!1,scale:"auto",tick:!0,type:"category"},Gl={allowDataOverflow:!1,allowDuplicatedCategory:!0,radiusAxisId:0,scale:"auto",tick:!0,tickCount:5,type:"number"},Y2=(e,t)=>{if(!(!e||!t))return e!=null&&e.reversed?[t[1],t[0]]:t},Nme={allowDataOverflow:!1,allowDecimals:!1,allowDuplicatedCategory:!1,dataKey:void 0,domain:void 0,id:Zu.angleAxisId,includeHidden:!1,name:void 0,reversed:Zu.reversed,scale:Zu.scale,tick:Zu.tick,tickCount:void 0,ticks:void 0,type:Zu.type,unit:void 0},_me={allowDataOverflow:Gl.allowDataOverflow,allowDecimals:!1,allowDuplicatedCategory:Gl.allowDuplicatedCategory,dataKey:void 0,domain:void 0,id:Gl.radiusAxisId,includeHidden:!1,name:void 0,reversed:!1,scale:Gl.scale,tick:Gl.tick,tickCount:Gl.tickCount,ticks:void 0,type:Gl.type,unit:void 0},jme={allowDataOverflow:!1,allowDecimals:!1,allowDuplicatedCategory:Zu.allowDuplicatedCategory,dataKey:void 0,domain:void 0,id:Zu.angleAxisId,includeHidden:!1,name:void 0,reversed:!1,scale:Zu.scale,tick:Zu.tick,tickCount:void 0,ticks:void 0,type:"number",unit:void 0},Sme={allowDataOverflow:Gl.allowDataOverflow,allowDecimals:!1,allowDuplicatedCategory:Gl.allowDuplicatedCategory,dataKey:void 0,domain:void 0,id:Gl.radiusAxisId,includeHidden:!1,name:void 0,reversed:!1,scale:Gl.scale,tick:Gl.tick,tickCount:Gl.tickCount,ticks:void 0,type:"category",unit:void 0},U3=(e,t)=>e.polarAxis.angleAxis[t]!=null?e.polarAxis.angleAxis[t]:e.layout.layoutType==="radial"?jme:Nme,z3=(e,t)=>e.polarAxis.radiusAxis[t]!=null?e.polarAxis.radiusAxis[t]:e.layout.layoutType==="radial"?Sme:_me,X2=e=>e.polarOptions,q3=Ke([Ed,Cd,Os],WM),m9=Ke([X2,q3],(e,t)=>{if(e!=null)return Pi(e.innerRadius,t,0)}),p9=Ke([X2,q3],(e,t)=>{if(e!=null)return Pi(e.outerRadius,t,t*.8)}),Ame=e=>{if(e==null)return[0,0];var{startAngle:t,endAngle:r}=e;return[t,r]},x9=Ke([X2],Ame);Ke([U3,x9],Y2);var g9=Ke([q3,m9,p9],(e,t,r)=>{if(!(e==null||t==null||r==null))return[t,r]});Ke([z3,g9],Y2);var v9=Ke([Zr,X2,m9,p9,Ed,Cd],(e,t,r,n,a,s)=>{if(!(e!=="centric"&&e!=="radial"||t==null||r==null||n==null)){var{cx:l,cy:o,startAngle:u,endAngle:d}=t;return{cx:Pi(l,a,a/2),cy:Pi(o,s,s/2),innerRadius:r,outerRadius:n,startAngle:u,endAngle:d,clockWise:!1}}}),ga=(e,t)=>t,Xg=(e,t,r)=>r;function $3(e){return e?.id}var Ds=e=>{var t=Zr(e);return t==="horizontal"?"xAxis":t==="vertical"?"yAxis":t==="centric"?"angleAxis":"radiusAxis"},bp=e=>e.tooltip.settings.axisId,Ps=e=>{var t=Ds(e),r=bp(e);return Qg(e,t,r)},y9=Ke([Ps],e=>e?.dataKey);function b9(e,t,r){var{chartData:n=[]}=t,{allowDuplicatedCategory:a,dataKey:s}=r,l=new Map;return e.forEach(o=>{var u,d=(u=o.data)!==null&&u!==void 0?u:n;if(!(d==null||d.length===0)){var h=$3(o);d.forEach((m,g)=>{var x=s==null||a?g:String(Kn(m,s,null)),b=Kn(m,o.dataKey,0),v;l.has(x)?v=l.get(x):v={},Object.assign(v,{[h]:b}),l.set(x,v)})}}),Array.from(l.values())}function Q2(e){return e.stackId!=null&&e.dataKey!=null}var Z2=(e,t)=>e===t?!0:e==null||t==null?!1:e[0]===t[0]&&e[1]===t[1];function J2(e,t){return Array.isArray(e)&&Array.isArray(t)&&e.length===0&&t.length===0?!0:e===t}function zT(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function $y(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?zT(Object(r),!0).forEach(function(n){kme(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):zT(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function kme(e,t,r){return(t=Eme(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Eme(e){var t=Cme(e,"string");return typeof t=="symbol"?t:t+""}function Cme(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var e_=[0,"auto"],Wl={allowDataOverflow:!1,allowDecimals:!0,allowDuplicatedCategory:!0,angle:0,dataKey:void 0,domain:void 0,height:30,hide:!0,id:0,includeHidden:!1,interval:"preserveEnd",minTickGap:5,mirror:!1,name:void 0,orientation:"bottom",padding:{left:0,right:0},reversed:!1,scale:"auto",tick:!0,tickCount:5,tickFormatter:void 0,ticks:void 0,type:"category",unit:void 0},w9=(e,t)=>e.cartesianAxis.xAxis[t],Od=(e,t)=>{var r=w9(e,t);return r??Wl},Kl={allowDataOverflow:!1,allowDecimals:!0,allowDuplicatedCategory:!0,angle:0,dataKey:void 0,domain:e_,hide:!0,id:0,includeHidden:!1,interval:"preserveEnd",minTickGap:5,mirror:!1,name:void 0,orientation:"left",padding:{top:0,bottom:0},reversed:!1,scale:"auto",tick:!0,tickCount:5,tickFormatter:void 0,ticks:void 0,type:"number",unit:void 0,width:qg},N9=(e,t)=>e.cartesianAxis.yAxis[t],Fd=(e,t)=>{var r=N9(e,t);return r??Kl},Tme={domain:[0,"auto"],includeHidden:!1,reversed:!1,allowDataOverflow:!1,allowDuplicatedCategory:!1,dataKey:void 0,id:0,name:"",range:[64,64],scale:"auto",type:"number",unit:""},H3=(e,t)=>{var r=e.cartesianAxis.zAxis[t];return r??Tme},ka=(e,t,r)=>{switch(t){case"xAxis":return Od(e,r);case"yAxis":return Fd(e,r);case"zAxis":return H3(e,r);case"angleAxis":return U3(e,r);case"radiusAxis":return z3(e,r);default:throw new Error("Unexpected axis type: ".concat(t))}},Ome=(e,t,r)=>{switch(t){case"xAxis":return Od(e,r);case"yAxis":return Fd(e,r);default:throw new Error("Unexpected axis type: ".concat(t))}},Qg=(e,t,r)=>{switch(t){case"xAxis":return Od(e,r);case"yAxis":return Fd(e,r);case"angleAxis":return U3(e,r);case"radiusAxis":return z3(e,r);default:throw new Error("Unexpected axis type: ".concat(t))}},_9=e=>e.graphicalItems.cartesianItems.some(t=>t.type==="bar")||e.graphicalItems.polarItems.some(t=>t.type==="radialBar");function V3(e,t){return r=>{switch(e){case"xAxis":return"xAxisId"in r&&r.xAxisId===t;case"yAxis":return"yAxisId"in r&&r.yAxisId===t;case"zAxis":return"zAxisId"in r&&r.zAxisId===t;case"angleAxis":return"angleAxisId"in r&&r.angleAxisId===t;case"radiusAxis":return"radiusAxisId"in r&&r.radiusAxisId===t;default:return!1}}}var eb=e=>e.graphicalItems.cartesianItems,Fme=Ke([ga,Xg],V3),W3=(e,t,r)=>e.filter(r).filter(n=>t?.includeHidden===!0?!0:!n.hide),Zg=Ke([eb,ka,Fme],W3,{memoizeOptions:{resultEqualityCheck:J2}}),j9=Ke([Zg],e=>e.filter(t=>t.type==="area"||t.type==="bar").filter(Q2)),S9=e=>e.filter(t=>!("stackId"in t)||t.stackId===void 0),Dme=Ke([Zg],S9),K3=e=>e.map(t=>t.data).filter(Boolean).flat(1),Pme=Ke([Zg],K3,{memoizeOptions:{resultEqualityCheck:J2}}),G3=(e,t)=>{var{chartData:r=[],dataStartIndex:n,dataEndIndex:a}=t;return e.length>0?e:r.slice(n,a+1)},Y3=Ke([Pme,K2],G3),X3=(e,t,r)=>t?.dataKey!=null?e.map(n=>({value:Kn(n,t.dataKey)})):r.length>0?r.map(n=>n.dataKey).flatMap(n=>e.map(a=>({value:Kn(a,n)}))):e.map(n=>({value:n})),tb=Ke([Y3,ka,Zg],X3);function A9(e,t){switch(e){case"xAxis":return t.direction==="x";case"yAxis":return t.direction==="y";default:return!1}}function qv(e){if(pu(e)||e instanceof Date){var t=Number(e);if(Mi(t))return t}}function qT(e){if(Array.isArray(e)){var t=[qv(e[0]),qv(e[1])];return ih(t)?t:void 0}var r=qv(e);if(r!=null)return[r,r]}function wp(e){return e.map(qv).filter(Qde)}function Lme(e,t,r){return!r||typeof t!="number"||Ho(t)?[]:r.length?wp(r.flatMap(n=>{var a=Kn(e,n.dataKey),s,l;if(Array.isArray(a)?[s,l]=a:s=l=a,!(!Mi(s)||!Mi(l)))return[t-s,t+l]})):[]}var Mme=Ke([j9,K2,Ps],b9),k9=(e,t,r)=>{var n={},a=t.reduce((s,l)=>(l.stackId==null||(s[l.stackId]==null&&(s[l.stackId]=[]),s[l.stackId].push(l)),s),n);return Object.fromEntries(Object.entries(a).map(s=>{var[l,o]=s,u=o.map($3);return[l,{stackedData:bue(e,u,r),graphicalItems:o}]}))},t_=Ke([Mme,j9,Yg],k9),E9=(e,t,r,n)=>{var{dataStartIndex:a,dataEndIndex:s}=t;if(n==null&&r!=="zAxis"){var l=Sue(e,a,s);if(!(l!=null&&l[0]===0&&l[1]===0))return l}},Rme=Ke([ka],e=>e.allowDataOverflow),Q3=e=>{var t;if(e==null||!("domain"in e))return e_;if(e.domain!=null)return e.domain;if(e.ticks!=null){if(e.type==="number"){var r=wp(e.ticks);return[Math.min(...r),Math.max(...r)]}if(e.type==="category")return e.ticks.map(String)}return(t=e?.domain)!==null&&t!==void 0?t:e_},Z3=Ke([ka],Q3),J3=Ke([Z3,Rme],XR),Ime=Ke([t_,Xf,ga,J3],E9,{memoizeOptions:{resultEqualityCheck:Z2}}),rb=e=>e.errorBars,Bme=(e,t,r)=>e.flatMap(n=>t[n.id]).filter(Boolean).filter(n=>A9(r,n)),Hy=function(){for(var t=arguments.length,r=new Array(t),n=0;n<t;n++)r[n]=arguments[n];var a=r.filter(Boolean);if(a.length!==0){var s=a.flat(),l=Math.min(...s),o=Math.max(...s);return[l,o]}},eS=(e,t,r,n,a)=>{var s,l;if(r.length>0&&e.forEach(o=>{r.forEach(u=>{var d,h,m=(d=n[u.id])===null||d===void 0?void 0:d.filter(N=>A9(a,N)),g=Kn(o,(h=t.dataKey)!==null&&h!==void 0?h:u.dataKey),x=Lme(o,g,m);if(x.length>=2){var b=Math.min(...x),v=Math.max(...x);(s==null||b<s)&&(s=b),(l==null||v>l)&&(l=v)}var w=qT(g);w!=null&&(s=s==null?w[0]:Math.min(s,w[0]),l=l==null?w[1]:Math.max(l,w[1]))})}),t?.dataKey!=null&&e.forEach(o=>{var u=qT(Kn(o,t.dataKey));u!=null&&(s=s==null?u[0]:Math.min(s,u[0]),l=l==null?u[1]:Math.max(l,u[1]))}),Mi(s)&&Mi(l))return[s,l]},Ume=Ke([Y3,ka,Dme,rb,ga],eS,{memoizeOptions:{resultEqualityCheck:Z2}});function zme(e){var{value:t}=e;if(pu(t)||t instanceof Date)return t}var qme=(e,t,r)=>{var n=e.map(zme).filter(a=>a!=null);return r&&(t.dataKey==null||t.allowDuplicatedCategory&&rM(n))?pR(0,e.length):t.allowDuplicatedCategory?n:Array.from(new Set(n))},C9=e=>e.referenceElements.dots,Np=(e,t,r)=>e.filter(n=>n.ifOverflow==="extendDomain").filter(n=>t==="xAxis"?n.xAxisId===r:n.yAxisId===r),$me=Ke([C9,ga,Xg],Np),T9=e=>e.referenceElements.areas,Hme=Ke([T9,ga,Xg],Np),O9=e=>e.referenceElements.lines,Vme=Ke([O9,ga,Xg],Np),F9=(e,t)=>{var r=wp(e.map(n=>t==="xAxis"?n.x:n.y));if(r.length!==0)return[Math.min(...r),Math.max(...r)]},Wme=Ke($me,ga,F9),D9=(e,t)=>{var r=wp(e.flatMap(n=>[t==="xAxis"?n.x1:n.y1,t==="xAxis"?n.x2:n.y2]));if(r.length!==0)return[Math.min(...r),Math.max(...r)]},Kme=Ke([Hme,ga],D9),P9=(e,t)=>{var r=wp(e.map(n=>t==="xAxis"?n.x:n.y));if(r.length!==0)return[Math.min(...r),Math.max(...r)]},Gme=Ke(Vme,ga,P9),Yme=Ke(Wme,Gme,Kme,(e,t,r)=>Hy(e,r,t)),tS=(e,t,r,n,a,s,l,o)=>{if(r!=null)return r;var u=l==="vertical"&&o==="xAxis"||l==="horizontal"&&o==="yAxis",d=u?Hy(n,s,a):Hy(s,a);return ome(t,d,e.allowDataOverflow)},Xme=Ke([ka,Z3,J3,Ime,Ume,Yme,Zr,ga],tS,{memoizeOptions:{resultEqualityCheck:Z2}}),Qme=[0,1],rS=(e,t,r,n,a,s,l)=>{if(!((e==null||r==null||r.length===0)&&l===void 0)){var{dataKey:o,type:u}=e,d=Wf(t,s);return d&&o==null?pR(0,r.length):u==="category"?qme(n,e,d):a==="expand"?Qme:l}},nS=Ke([ka,Zr,Y3,tb,Yg,ga,Xme],rS),L9=(e,t,r,n,a)=>{if(e!=null){var{scale:s,type:l}=e;if(s==="auto")return t==="radial"&&a==="radiusAxis"?"band":t==="radial"&&a==="angleAxis"?"linear":l==="category"&&n&&(n.indexOf("LineChart")>=0||n.indexOf("AreaChart")>=0||n.indexOf("ComposedChart")>=0&&!r)?"point":l==="category"?"band":"linear";if(typeof s=="string"){var o="scale".concat(Ig(s));return o in kx?o:"point"}}},_p=Ke([ka,Zr,_9,R3,ga],L9);function Zme(e){if(e!=null){if(e in kx)return kx[e]();var t="scale".concat(Ig(e));if(t in kx)return kx[t]()}}function aS(e,t,r,n){if(!(r==null||n==null)){if(typeof e.scale=="function")return e.scale.copy().domain(r).range(n);var a=Zme(t);if(a!=null){var s=a.domain(r).range(n);return pue(s),s}}}var sS=(e,t,r)=>{var n=Q3(t);if(!(r!=="auto"&&r!=="linear")){if(t!=null&&t.tickCount&&Array.isArray(n)&&(n[0]==="auto"||n[1]==="auto")&&ih(e))return vme(e,t.tickCount,t.allowDecimals);if(t!=null&&t.tickCount&&t.type==="number"&&ih(e))return yme(e,t.tickCount,t.allowDecimals)}},iS=Ke([nS,Qg,_p],sS),lS=(e,t,r,n)=>{if(n!=="angleAxis"&&e?.type==="number"&&ih(t)&&Array.isArray(r)&&r.length>0){var a=t[0],s=r[0],l=t[1],o=r[r.length-1];return[Math.min(a,s),Math.max(l,o)]}return t},Jme=Ke([ka,nS,iS,ga],lS),epe=Ke(tb,ka,(e,t)=>{if(!(!t||t.type!=="number")){var r=1/0,n=Array.from(wp(e.map(o=>o.value))).sort((o,u)=>o-u);if(n.length<2)return 1/0;var a=n[n.length-1]-n[0];if(a===0)return 1/0;for(var s=0;s<n.length-1;s++){var l=n[s+1]-n[s];r=Math.min(r,l)}return r/a}}),M9=Ke(epe,Zr,f9,Os,(e,t,r,n)=>n,(e,t,r,n,a)=>{if(!Mi(e))return 0;var s=t==="vertical"?n.height:n.width;if(a==="gap")return e*s/2;if(a==="no-gap"){var l=Pi(r,e*s),o=e*s/2;return o-l-(o-l)/s*l}return 0}),tpe=(e,t)=>{var r=Od(e,t);return r==null||typeof r.padding!="string"?0:M9(e,"xAxis",t,r.padding)},rpe=(e,t)=>{var r=Fd(e,t);return r==null||typeof r.padding!="string"?0:M9(e,"yAxis",t,r.padding)},npe=Ke(Od,tpe,(e,t)=>{var r,n;if(e==null)return{left:0,right:0};var{padding:a}=e;return typeof a=="string"?{left:t,right:t}:{left:((r=a.left)!==null&&r!==void 0?r:0)+t,right:((n=a.right)!==null&&n!==void 0?n:0)+t}}),ape=Ke(Fd,rpe,(e,t)=>{var r,n;if(e==null)return{top:0,bottom:0};var{padding:a}=e;return typeof a=="string"?{top:t,bottom:t}:{top:((r=a.top)!==null&&r!==void 0?r:0)+t,bottom:((n=a.bottom)!==null&&n!==void 0?n:0)+t}}),spe=Ke([Os,npe,R2,M2,(e,t,r)=>r],(e,t,r,n,a)=>{var{padding:s}=n;return a?[s.left,r.width-s.right]:[e.left+t.left,e.left+e.width-t.right]}),ipe=Ke([Os,Zr,ape,R2,M2,(e,t,r)=>r],(e,t,r,n,a,s)=>{var{padding:l}=a;return s?[n.height-l.bottom,l.top]:t==="horizontal"?[e.top+e.height-r.bottom,e.top+r.top]:[e.top+r.top,e.top+e.height-r.bottom]}),Jg=(e,t,r,n)=>{var a;switch(t){case"xAxis":return spe(e,r,n);case"yAxis":return ipe(e,r,n);case"zAxis":return(a=H3(e,r))===null||a===void 0?void 0:a.range;case"angleAxis":return x9(e);case"radiusAxis":return g9(e,r);default:return}},R9=Ke([ka,Jg],Y2),jp=Ke([ka,_p,Jme,R9],aS);Ke([Zg,rb,ga],Bme);function I9(e,t){return e.id<t.id?-1:e.id>t.id?1:0}var nb=(e,t)=>t,ab=(e,t,r)=>r,lpe=Ke(P2,nb,ab,(e,t,r)=>e.filter(n=>n.orientation===t).filter(n=>n.mirror===r).sort(I9)),ope=Ke(L2,nb,ab,(e,t,r)=>e.filter(n=>n.orientation===t).filter(n=>n.mirror===r).sort(I9)),B9=(e,t)=>({width:e.width,height:t.height}),cpe=(e,t)=>{var r=typeof t.width=="number"?t.width:qg;return{width:r,height:e.height}},U9=Ke(Os,Od,B9),upe=(e,t,r)=>{switch(t){case"top":return e.top;case"bottom":return r-e.bottom;default:return 0}},dpe=(e,t,r)=>{switch(t){case"left":return e.left;case"right":return r-e.right;default:return 0}},fpe=Ke(Cd,Os,lpe,nb,ab,(e,t,r,n,a)=>{var s={},l;return r.forEach(o=>{var u=B9(t,o);l==null&&(l=upe(t,n,e));var d=n==="top"&&!a||n==="bottom"&&a;s[o.id]=l-Number(d)*u.height,l+=(d?-1:1)*u.height}),s}),hpe=Ke(Ed,Os,ope,nb,ab,(e,t,r,n,a)=>{var s={},l;return r.forEach(o=>{var u=cpe(t,o);l==null&&(l=dpe(t,n,e));var d=n==="left"&&!a||n==="right"&&a;s[o.id]=l-Number(d)*u.width,l+=(d?-1:1)*u.width}),s}),mpe=(e,t)=>{var r=Od(e,t);if(r!=null)return fpe(e,r.orientation,r.mirror)},ppe=Ke([Os,Od,mpe,(e,t)=>t],(e,t,r,n)=>{if(t!=null){var a=r?.[n];return a==null?{x:e.left,y:0}:{x:e.left,y:a}}}),xpe=(e,t)=>{var r=Fd(e,t);if(r!=null)return hpe(e,r.orientation,r.mirror)},gpe=Ke([Os,Fd,xpe,(e,t)=>t],(e,t,r,n)=>{if(t!=null){var a=r?.[n];return a==null?{x:0,y:e.top}:{x:a,y:e.top}}}),z9=Ke(Os,Fd,(e,t)=>{var r=typeof t.width=="number"?t.width:qg;return{width:r,height:e.height}}),$T=(e,t,r)=>{switch(t){case"xAxis":return U9(e,r).width;case"yAxis":return z9(e,r).height;default:return}},q9=(e,t,r,n)=>{if(r!=null){var{allowDuplicatedCategory:a,type:s,dataKey:l}=r,o=Wf(e,n),u=t.map(d=>d.value);if(l&&o&&s==="category"&&a&&rM(u))return u}},oS=Ke([Zr,tb,ka,ga],q9),$9=(e,t,r,n)=>{if(!(r==null||r.dataKey==null)){var{type:a,scale:s}=r,l=Wf(e,n);if(l&&(a==="number"||s!=="auto"))return t.map(o=>o.value)}},cS=Ke([Zr,tb,Qg,ga],$9),HT=Ke([Zr,Ome,_p,jp,oS,cS,Jg,iS,ga],(e,t,r,n,a,s,l,o,u)=>{if(t==null)return null;var d=Wf(e,u);return{angle:t.angle,interval:t.interval,minTickGap:t.minTickGap,orientation:t.orientation,tick:t.tick,tickCount:t.tickCount,tickFormatter:t.tickFormatter,ticks:t.ticks,type:t.type,unit:t.unit,axisType:u,categoricalDomain:s,duplicateDomain:a,isCategorical:d,niceTicks:o,range:l,realScaleType:r,scale:n}}),vpe=(e,t,r,n,a,s,l,o,u)=>{if(!(t==null||n==null)){var d=Wf(e,u),{type:h,ticks:m,tickCount:g}=t,x=r==="scaleBand"&&typeof n.bandwidth=="function"?n.bandwidth()/2:2,b=h==="category"&&n.bandwidth?n.bandwidth()/x:0;b=u==="angleAxis"&&s!=null&&s.length>=2?Ks(s[0]-s[1])*2*b:b;var v=m||a;if(v){var w=v.map((N,E)=>{var j=l?l.indexOf(N):N;return{index:E,coordinate:n(j)+b,value:N,offset:b}});return w.filter(N=>!Ho(N.coordinate))}return d&&o?o.map((N,E)=>({coordinate:n(N)+b,value:N,index:E,offset:b})):n.ticks?n.ticks(g).map(N=>({coordinate:n(N)+b,value:N,offset:b})):n.domain().map((N,E)=>({coordinate:n(N)+b,value:l?l[N]:N,index:E,offset:b}))}},H9=Ke([Zr,Qg,_p,jp,iS,Jg,oS,cS,ga],vpe),ype=(e,t,r,n,a,s,l)=>{if(!(t==null||r==null||n==null||n[0]===n[1])){var o=Wf(e,l),{tickCount:u}=t,d=0;return d=l==="angleAxis"&&n?.length>=2?Ks(n[0]-n[1])*2*d:d,o&&s?s.map((h,m)=>({coordinate:r(h)+d,value:h,index:m,offset:d})):r.ticks?r.ticks(u).map(h=>({coordinate:r(h)+d,value:h,offset:d})):r.domain().map((h,m)=>({coordinate:r(h)+d,value:a?a[h]:h,index:m,offset:d}))}},Df=Ke([Zr,Qg,jp,Jg,oS,cS,ga],ype),Pf=Ke(ka,jp,(e,t)=>{if(!(e==null||t==null))return $y($y({},e),{},{scale:t})}),bpe=Ke([ka,_p,nS,R9],aS);Ke((e,t,r)=>H3(e,r),bpe,(e,t)=>{if(!(e==null||t==null))return $y($y({},e),{},{scale:t})});var wpe=Ke([Zr,P2,L2],(e,t,r)=>{switch(e){case"horizontal":return t.some(n=>n.reversed)?"right-to-left":"left-to-right";case"vertical":return r.some(n=>n.reversed)?"bottom-to-top":"top-to-bottom";case"centric":case"radial":return"left-to-right";default:return}}),V9=e=>e.options.defaultTooltipEventType,W9=e=>e.options.validateTooltipEventTypes;function K9(e,t,r){if(e==null)return t;var n=e?"axis":"item";return r==null?t:r.includes(n)?n:t}function uS(e,t){var r=V9(e),n=W9(e);return K9(t,r,n)}function Npe(e){return Ht(t=>uS(t,e))}var G9=(e,t)=>{var r,n=Number(t);if(!(Ho(n)||t==null))return n>=0?e==null||(r=e[n])===null||r===void 0?void 0:r.value:void 0},_pe=e=>e.tooltip.settings,wf={active:!1,index:null,dataKey:void 0,coordinate:void 0},jpe={itemInteraction:{click:wf,hover:wf},axisInteraction:{click:wf,hover:wf},keyboardInteraction:wf,syncInteraction:{active:!1,index:null,dataKey:void 0,label:void 0,coordinate:void 0,sourceViewBox:void 0},tooltipItemPayloads:[],settings:{shared:void 0,trigger:"hover",axisId:0,active:!1,defaultIndex:void 0}},Y9=oo({name:"tooltip",initialState:jpe,reducers:{addTooltipEntrySettings:{reducer(e,t){e.tooltipItemPayloads.push(t.payload)},prepare:Zi()},removeTooltipEntrySettings:{reducer(e,t){var r=dd(e).tooltipItemPayloads.indexOf(t.payload);r>-1&&e.tooltipItemPayloads.splice(r,1)},prepare:Zi()},setTooltipSettingsState(e,t){e.settings=t.payload},setActiveMouseOverItemIndex(e,t){e.syncInteraction.active=!1,e.keyboardInteraction.active=!1,e.itemInteraction.hover.active=!0,e.itemInteraction.hover.index=t.payload.activeIndex,e.itemInteraction.hover.dataKey=t.payload.activeDataKey,e.itemInteraction.hover.coordinate=t.payload.activeCoordinate},mouseLeaveChart(e){e.itemInteraction.hover.active=!1,e.axisInteraction.hover.active=!1},mouseLeaveItem(e){e.itemInteraction.hover.active=!1},setActiveClickItemIndex(e,t){e.syncInteraction.active=!1,e.itemInteraction.click.active=!0,e.keyboardInteraction.active=!1,e.itemInteraction.click.index=t.payload.activeIndex,e.itemInteraction.click.dataKey=t.payload.activeDataKey,e.itemInteraction.click.coordinate=t.payload.activeCoordinate},setMouseOverAxisIndex(e,t){e.syncInteraction.active=!1,e.axisInteraction.hover.active=!0,e.keyboardInteraction.active=!1,e.axisInteraction.hover.index=t.payload.activeIndex,e.axisInteraction.hover.dataKey=t.payload.activeDataKey,e.axisInteraction.hover.coordinate=t.payload.activeCoordinate},setMouseClickAxisIndex(e,t){e.syncInteraction.active=!1,e.keyboardInteraction.active=!1,e.axisInteraction.click.active=!0,e.axisInteraction.click.index=t.payload.activeIndex,e.axisInteraction.click.dataKey=t.payload.activeDataKey,e.axisInteraction.click.coordinate=t.payload.activeCoordinate},setSyncInteraction(e,t){e.syncInteraction=t.payload},setKeyboardInteraction(e,t){e.keyboardInteraction.active=t.payload.active,e.keyboardInteraction.index=t.payload.activeIndex,e.keyboardInteraction.coordinate=t.payload.activeCoordinate,e.keyboardInteraction.dataKey=t.payload.activeDataKey}}}),{addTooltipEntrySettings:Spe,removeTooltipEntrySettings:Ape,setTooltipSettingsState:kpe,setActiveMouseOverItemIndex:X9,mouseLeaveItem:Epe,mouseLeaveChart:Q9,setActiveClickItemIndex:Cpe,setMouseOverAxisIndex:Z9,setMouseClickAxisIndex:Tpe,setSyncInteraction:r_,setKeyboardInteraction:n_}=Y9.actions,Ope=Y9.reducer;function VT(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function Sv(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?VT(Object(r),!0).forEach(function(n){Fpe(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):VT(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Fpe(e,t,r){return(t=Dpe(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Dpe(e){var t=Ppe(e,"string");return typeof t=="symbol"?t:t+""}function Ppe(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Lpe(e,t,r){return t==="axis"?r==="click"?e.axisInteraction.click:e.axisInteraction.hover:r==="click"?e.itemInteraction.click:e.itemInteraction.hover}function Mpe(e){return e.index!=null}var J9=(e,t,r,n)=>{if(t==null)return wf;var a=Lpe(e,t,r);if(a==null)return wf;if(a.active)return a;if(e.keyboardInteraction.active)return e.keyboardInteraction;if(e.syncInteraction.active&&e.syncInteraction.index!=null)return e.syncInteraction;var s=e.settings.active===!0;if(Mpe(a)){if(s)return Sv(Sv({},a),{},{active:!0})}else if(n!=null)return{active:!0,coordinate:void 0,dataKey:void 0,index:n};return Sv(Sv({},wf),{},{coordinate:a.coordinate})},dS=(e,t)=>{var r=e?.index;if(r==null)return null;var n=Number(r);if(!Mi(n))return r;var a=0,s=1/0;return t.length>0&&(s=t.length-1),String(Math.max(a,Math.min(n,s)))},eI=(e,t,r,n,a,s,l,o)=>{if(!(s==null||o==null)){var u=l[0],d=u==null?void 0:o(u.positions,s);if(d!=null)return d;var h=a?.[Number(s)];if(h)switch(r){case"horizontal":return{x:h.coordinate,y:(n.top+t)/2};default:return{x:(n.left+e)/2,y:h.coordinate}}}},tI=(e,t,r,n)=>{if(t==="axis")return e.tooltipItemPayloads;if(e.tooltipItemPayloads.length===0)return[];var a;return r==="hover"?a=e.itemInteraction.hover.dataKey:a=e.itemInteraction.click.dataKey,a==null&&n!=null?[e.tooltipItemPayloads[0]]:e.tooltipItemPayloads.filter(s=>{var l;return((l=s.settings)===null||l===void 0?void 0:l.dataKey)===a})},e1=e=>e.options.tooltipPayloadSearcher,Sp=e=>e.tooltip;function WT(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function KT(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?WT(Object(r),!0).forEach(function(n){Rpe(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):WT(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Rpe(e,t,r){return(t=Ipe(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Ipe(e){var t=Bpe(e,"string");return typeof t=="symbol"?t:t+""}function Bpe(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Upe(e,t){return e??t}var rI=(e,t,r,n,a,s,l)=>{if(!(t==null||s==null)){var{chartData:o,computedData:u,dataStartIndex:d,dataEndIndex:h}=r,m=[];return e.reduce((g,x)=>{var b,{dataDefinedOnItem:v,settings:w}=x,N=Upe(v,o),E=Array.isArray(N)?KM(N,d,h):N,j=(b=w?.dataKey)!==null&&b!==void 0?b:n,T=w?.nameKey,O;if(n&&Array.isArray(E)&&!Array.isArray(E[0])&&l==="axis"?O=nM(E,n,a):O=s(E,t,u,T),Array.isArray(O))O.forEach(C=>{var P=KT(KT({},w),{},{name:C.name,unit:C.unit,color:void 0,fill:void 0});g.push(N8({tooltipEntrySettings:P,dataKey:C.dataKey,payload:C.payload,value:Kn(C.payload,C.dataKey),name:C.name}))});else{var D;g.push(N8({tooltipEntrySettings:w,dataKey:j,payload:O,value:Kn(O,j),name:(D=Kn(O,T))!==null&&D!==void 0?D:w?.name}))}return g},m)}},fS=Ke([Ps,Zr,_9,R3,Ds],L9),zpe=Ke([e=>e.graphicalItems.cartesianItems,e=>e.graphicalItems.polarItems],(e,t)=>[...e,...t]),qpe=Ke([Ds,bp],V3),t1=Ke([zpe,Ps,qpe],W3,{memoizeOptions:{resultEqualityCheck:J2}}),$pe=Ke([t1],e=>e.filter(Q2)),Hpe=Ke([t1],K3,{memoizeOptions:{resultEqualityCheck:J2}}),Ap=Ke([Hpe,Xf],G3),Vpe=Ke([$pe,Xf,Ps],b9),hS=Ke([Ap,Ps,t1],X3),nI=Ke([Ps],Q3),Wpe=Ke([Ps],e=>e.allowDataOverflow),aI=Ke([nI,Wpe],XR),Kpe=Ke([t1],e=>e.filter(Q2)),Gpe=Ke([Vpe,Kpe,Yg],k9),Ype=Ke([Gpe,Xf,Ds,aI],E9),Xpe=Ke([t1],S9),Qpe=Ke([Ap,Ps,Xpe,rb,Ds],eS,{memoizeOptions:{resultEqualityCheck:Z2}}),Zpe=Ke([C9,Ds,bp],Np),Jpe=Ke([Zpe,Ds],F9),exe=Ke([T9,Ds,bp],Np),txe=Ke([exe,Ds],D9),rxe=Ke([O9,Ds,bp],Np),nxe=Ke([rxe,Ds],P9),axe=Ke([Jpe,nxe,txe],Hy),sxe=Ke([Ps,nI,aI,Ype,Qpe,axe,Zr,Ds],tS),sI=Ke([Ps,Zr,Ap,hS,Yg,Ds,sxe],rS),ixe=Ke([sI,Ps,fS],sS),lxe=Ke([Ps,sI,ixe,Ds],lS),iI=e=>{var t=Ds(e),r=bp(e),n=!1;return Jg(e,t,r,n)},lI=Ke([Ps,iI],Y2),oI=Ke([Ps,fS,lxe,lI],aS),oxe=Ke([Zr,hS,Ps,Ds],q9),cxe=Ke([Zr,hS,Ps,Ds],$9),uxe=(e,t,r,n,a,s,l,o)=>{if(t){var{type:u}=t,d=Wf(e,o);if(n){var h=r==="scaleBand"&&n.bandwidth?n.bandwidth()/2:2,m=u==="category"&&n.bandwidth?n.bandwidth()/h:0;return m=o==="angleAxis"&&a!=null&&a?.length>=2?Ks(a[0]-a[1])*2*m:m,d&&l?l.map((g,x)=>({coordinate:n(g)+m,value:g,index:x,offset:m})):n.domain().map((g,x)=>({coordinate:n(g)+m,value:s?s[g]:g,index:x,offset:m}))}}},Dd=Ke([Zr,Ps,fS,oI,iI,oxe,cxe,Ds],uxe),mS=Ke([V9,W9,_pe],(e,t,r)=>K9(r.shared,e,t)),cI=e=>e.tooltip.settings.trigger,pS=e=>e.tooltip.settings.defaultIndex,sb=Ke([Sp,mS,cI,pS],J9),Lf=Ke([sb,Ap],dS),uI=Ke([Dd,Lf],G9),dI=Ke([sb],e=>{if(e)return e.dataKey}),fI=Ke([Sp,mS,cI,pS],tI),dxe=Ke([Ed,Cd,Zr,Os,Dd,pS,fI,e1],eI),fxe=Ke([sb,dxe],(e,t)=>e!=null&&e.coordinate?e.coordinate:t),hxe=Ke([sb],e=>e.active),mxe=Ke([fI,Lf,Xf,y9,uI,e1,mS],rI),pxe=Ke([mxe],e=>{if(e!=null){var t=e.map(r=>r.payload).filter(r=>r!=null);return Array.from(new Set(t))}});function GT(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function YT(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?GT(Object(r),!0).forEach(function(n){xxe(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):GT(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function xxe(e,t,r){return(t=gxe(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function gxe(e){var t=vxe(e,"string");return typeof t=="symbol"?t:t+""}function vxe(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var yxe=()=>Ht(Ps),bxe=()=>{var e=yxe(),t=Ht(Dd),r=Ht(oI);return hg(YT(YT({},e),{},{scale:r}),t)},wxe=()=>Ht(R3),xS=(e,t)=>t,hI=(e,t,r)=>r,gS=(e,t,r,n)=>n,Nxe=Ke(Dd,e=>E2(e,t=>t.coordinate)),vS=Ke([Sp,xS,hI,gS],J9),mI=Ke([vS,Ap],dS),_xe=(e,t,r)=>{if(t!=null){var n=Sp(e);return t==="axis"?r==="hover"?n.axisInteraction.hover.dataKey:n.axisInteraction.click.dataKey:r==="hover"?n.itemInteraction.hover.dataKey:n.itemInteraction.click.dataKey}},pI=Ke([Sp,xS,hI,gS],tI),Vy=Ke([Ed,Cd,Zr,Os,Dd,gS,pI,e1],eI),jxe=Ke([vS,Vy],(e,t)=>{var r;return(r=e.coordinate)!==null&&r!==void 0?r:t}),xI=Ke(Dd,mI,G9),Sxe=Ke([pI,mI,Xf,y9,xI,e1,xS],rI),Axe=Ke([vS],e=>({isActive:e.active,activeIndex:e.index})),kxe=(e,t,r,n,a,s,l,o)=>{if(!(!e||!t||!n||!a||!s)){var u=Aue(e.chartX,e.chartY,t,r,o);if(u){var d=Eue(u,t),h=hue(d,l,s,n,a),m=kue(t,s,h,u);return{activeIndex:String(h),activeCoordinate:m}}}};function a_(){return a_=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},a_.apply(null,arguments)}function XT(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function Av(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?XT(Object(r),!0).forEach(function(n){Exe(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):XT(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Exe(e,t,r){return(t=Cxe(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Cxe(e){var t=Txe(e,"string");return typeof t=="symbol"?t:t+""}function Txe(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Oxe(e){var{coordinate:t,payload:r,index:n,offset:a,tooltipAxisBandSize:s,layout:l,cursor:o,tooltipEventType:u,chartName:d}=e,h=t,m=r,g=n;if(!o||!h||d!=="ScatterChart"&&u!=="axis")return null;var x,b;if(d==="ScatterChart")x=h,b=Hde;else if(d==="BarChart")x=Vde(l,h,a,s),b=dR;else if(l==="radial"){var{cx:v,cy:w,radius:N,startAngle:E,endAngle:j}=fR(h);x={cx:v,cy:w,startAngle:E,endAngle:j,innerRadius:N,outerRadius:N},b=mR}else x={points:Efe(l,h,a)},b=u3;var T=typeof o=="object"&&"className"in o?o.className:void 0,O=Av(Av(Av(Av({stroke:"#ccc",pointerEvents:"none"},a),x),rh(o)),{},{payload:m,payloadIndex:g,className:on("recharts-tooltip-cursor",T)});return k.isValidElement(o)?k.cloneElement(o,O):k.createElement(b,O)}function Fxe(e){var t=bxe(),r=rR(),n=B2(),a=wxe();return k.createElement(Oxe,a_({},e,{coordinate:e.coordinate,index:e.index,payload:e.payload,offset:r,layout:n,tooltipAxisBandSize:t,chartName:a}))}var gI=k.createContext(null),Dxe=()=>k.useContext(gI),dN={exports:{}},QT;function Pxe(){return QT||(QT=1,(function(e){var t=Object.prototype.hasOwnProperty,r="~";function n(){}Object.create&&(n.prototype=Object.create(null),new n().__proto__||(r=!1));function a(u,d,h){this.fn=u,this.context=d,this.once=h||!1}function s(u,d,h,m,g){if(typeof h!="function")throw new TypeError("The listener must be a function");var x=new a(h,m||u,g),b=r?r+d:d;return u._events[b]?u._events[b].fn?u._events[b]=[u._events[b],x]:u._events[b].push(x):(u._events[b]=x,u._eventsCount++),u}function l(u,d){--u._eventsCount===0?u._events=new n:delete u._events[d]}function o(){this._events=new n,this._eventsCount=0}o.prototype.eventNames=function(){var d=[],h,m;if(this._eventsCount===0)return d;for(m in h=this._events)t.call(h,m)&&d.push(r?m.slice(1):m);return Object.getOwnPropertySymbols?d.concat(Object.getOwnPropertySymbols(h)):d},o.prototype.listeners=function(d){var h=r?r+d:d,m=this._events[h];if(!m)return[];if(m.fn)return[m.fn];for(var g=0,x=m.length,b=new Array(x);g<x;g++)b[g]=m[g].fn;return b},o.prototype.listenerCount=function(d){var h=r?r+d:d,m=this._events[h];return m?m.fn?1:m.length:0},o.prototype.emit=function(d,h,m,g,x,b){var v=r?r+d:d;if(!this._events[v])return!1;var w=this._events[v],N=arguments.length,E,j;if(w.fn){switch(w.once&&this.removeListener(d,w.fn,void 0,!0),N){case 1:return w.fn.call(w.context),!0;case 2:return w.fn.call(w.context,h),!0;case 3:return w.fn.call(w.context,h,m),!0;case 4:return w.fn.call(w.context,h,m,g),!0;case 5:return w.fn.call(w.context,h,m,g,x),!0;case 6:return w.fn.call(w.context,h,m,g,x,b),!0}for(j=1,E=new Array(N-1);j<N;j++)E[j-1]=arguments[j];w.fn.apply(w.context,E)}else{var T=w.length,O;for(j=0;j<T;j++)switch(w[j].once&&this.removeListener(d,w[j].fn,void 0,!0),N){case 1:w[j].fn.call(w[j].context);break;case 2:w[j].fn.call(w[j].context,h);break;case 3:w[j].fn.call(w[j].context,h,m);break;case 4:w[j].fn.call(w[j].context,h,m,g);break;default:if(!E)for(O=1,E=new Array(N-1);O<N;O++)E[O-1]=arguments[O];w[j].fn.apply(w[j].context,E)}}return!0},o.prototype.on=function(d,h,m){return s(this,d,h,m,!1)},o.prototype.once=function(d,h,m){return s(this,d,h,m,!0)},o.prototype.removeListener=function(d,h,m,g){var x=r?r+d:d;if(!this._events[x])return this;if(!h)return l(this,x),this;var b=this._events[x];if(b.fn)b.fn===h&&(!g||b.once)&&(!m||b.context===m)&&l(this,x);else{for(var v=0,w=[],N=b.length;v<N;v++)(b[v].fn!==h||g&&!b[v].once||m&&b[v].context!==m)&&w.push(b[v]);w.length?this._events[x]=w.length===1?w[0]:w:l(this,x)}return this},o.prototype.removeAllListeners=function(d){var h;return d?(h=r?r+d:d,this._events[h]&&l(this,h)):(this._events=new n,this._eventsCount=0),this},o.prototype.off=o.prototype.removeListener,o.prototype.addListener=o.prototype.on,o.prefixed=r,o.EventEmitter=o,e.exports=o})(dN)),dN.exports}var Lxe=Pxe();const Mxe=jd(Lxe);var wg=new Mxe,s_="recharts.syncEvent.tooltip",ZT="recharts.syncEvent.brush";function yS(e,t){if(t){var r=Number.parseInt(t,10);if(!Ho(r))return e?.[r]}}var Rxe={chartName:"",tooltipPayloadSearcher:void 0,eventEmitter:void 0,defaultTooltipEventType:"axis"},vI=oo({name:"options",initialState:Rxe,reducers:{createEventEmitter:e=>{e.eventEmitter==null&&(e.eventEmitter=Symbol("rechartsEventEmitter"))}}}),Ixe=vI.reducer,{createEventEmitter:Bxe}=vI.actions;function Uxe(e){return e.tooltip.syncInteraction}var zxe={chartData:void 0,computedData:void 0,dataStartIndex:0,dataEndIndex:0},yI=oo({name:"chartData",initialState:zxe,reducers:{setChartData(e,t){if(e.chartData=t.payload,t.payload==null){e.dataStartIndex=0,e.dataEndIndex=0;return}t.payload.length>0&&e.dataEndIndex!==t.payload.length-1&&(e.dataEndIndex=t.payload.length-1)},setComputedData(e,t){e.computedData=t.payload},setDataStartEndIndexes(e,t){var{startIndex:r,endIndex:n}=t.payload;r!=null&&(e.dataStartIndex=r),n!=null&&(e.dataEndIndex=n)}}}),{setChartData:JT,setDataStartEndIndexes:qxe,setComputedData:Vje}=yI.actions,$xe=yI.reducer,Hxe=["x","y"];function eO(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function wm(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?eO(Object(r),!0).forEach(function(n){Vxe(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):eO(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Vxe(e,t,r){return(t=Wxe(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Wxe(e){var t=Kxe(e,"string");return typeof t=="symbol"?t:t+""}function Kxe(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Gxe(e,t){if(e==null)return{};var r,n,a=Yxe(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(n=0;n<s.length;n++)r=s[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}function Yxe(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}var bI=()=>{};function Xxe(){var e=Ht(I3),t=Ht(B3),r=xa(),n=Ht(h9),a=Ht(Dd),s=B2(),l=I2(),o=Ht(u=>u.rootProps.className);k.useEffect(()=>{if(e==null)return bI;var u=(d,h,m)=>{if(t!==m&&e===d){if(n==="index"){var g;if(l&&h!==null&&h!==void 0&&(g=h.payload)!==null&&g!==void 0&&g.coordinate&&h.payload.sourceViewBox){var x=h.payload.coordinate,{x:b,y:v}=x,w=Gxe(x,Hxe),{x:N,y:E,width:j,height:T}=h.payload.sourceViewBox,O=wm(wm({},w),{},{x:l.x+(j?(b-N)/j:0)*l.width,y:l.y+(T?(v-E)/T:0)*l.height});r(wm(wm({},h),{},{payload:wm(wm({},h.payload),{},{coordinate:O})}))}else r(h);return}if(a!=null){var D;if(typeof n=="function"){var C={activeTooltipIndex:h.payload.index==null?void 0:Number(h.payload.index),isTooltipActive:h.payload.active,activeIndex:h.payload.index==null?void 0:Number(h.payload.index),activeLabel:h.payload.label,activeDataKey:h.payload.dataKey,activeCoordinate:h.payload.coordinate},P=n(a,C);D=a[P]}else n==="value"&&(D=a.find(te=>String(te.value)===h.payload.label));var{coordinate:B}=h.payload;if(D==null||h.payload.active===!1||B==null||l==null){r(r_({active:!1,coordinate:void 0,dataKey:void 0,index:null,label:void 0,sourceViewBox:void 0}));return}var{x:H,y:L}=B,U=Math.min(H,l.x+l.width),V=Math.min(L,l.y+l.height),Y={x:s==="horizontal"?D.coordinate:U,y:s==="horizontal"?V:D.coordinate},de=r_({active:h.payload.active,coordinate:Y,dataKey:h.payload.dataKey,index:String(D.index),label:h.payload.label,sourceViewBox:h.payload.sourceViewBox});r(de)}}};return wg.on(s_,u),()=>{wg.off(s_,u)}},[o,r,t,e,n,a,s,l])}function Qxe(){var e=Ht(I3),t=Ht(B3),r=xa();k.useEffect(()=>{if(e==null)return bI;var n=(a,s,l)=>{t!==l&&e===a&&r(qxe(s))};return wg.on(ZT,n),()=>{wg.off(ZT,n)}},[r,t,e])}function Zxe(){var e=xa();k.useEffect(()=>{e(Bxe())},[e]),Xxe(),Qxe()}function Jxe(e,t,r,n,a,s){var l=Ht(x=>_xe(x,e,t)),o=Ht(B3),u=Ht(I3),d=Ht(h9),h=Ht(Uxe),m=h?.active,g=I2();k.useEffect(()=>{if(!m&&u!=null&&o!=null){var x=r_({active:s,coordinate:r,dataKey:l,index:a,label:typeof n=="number"?String(n):n,sourceViewBox:g});wg.emit(s_,u,x,o)}},[m,r,l,a,n,o,u,d,s,g])}function tO(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function rO(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?tO(Object(r),!0).forEach(function(n){ege(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):tO(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function ege(e,t,r){return(t=tge(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function tge(e){var t=rge(e,"string");return typeof t=="symbol"?t:t+""}function rge(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function nge(e){return e.dataKey}function age(e,t){return k.isValidElement(e)?k.cloneElement(e,t):typeof e=="function"?k.createElement(e,t):k.createElement(Nde,t)}var nO=[],sge={allowEscapeViewBox:{x:!1,y:!1},animationDuration:400,animationEasing:"ease",axisId:0,contentStyle:{},cursor:!0,filterNull:!0,isAnimationActive:!Kf.isSsr,itemSorter:"name",itemStyle:{},labelStyle:{},offset:10,reverseDirection:{x:!1,y:!1},separator:" : ",trigger:"hover",useTranslate3d:!1,wrapperStyle:{}};function fN(e){var t=mi(e,sge),{active:r,allowEscapeViewBox:n,animationDuration:a,animationEasing:s,content:l,filterNull:o,isAnimationActive:u,offset:d,payloadUniqBy:h,position:m,reverseDirection:g,useTranslate3d:x,wrapperStyle:b,cursor:v,shared:w,trigger:N,defaultIndex:E,portal:j,axisId:T}=t,O=xa(),D=typeof E=="number"?String(E):E;k.useEffect(()=>{O(kpe({shared:w,trigger:N,axisId:T,active:r,defaultIndex:D}))},[O,w,N,T,r,D]);var C=I2(),P=iR(),B=Npe(w),{activeIndex:H,isActive:L}=Ht(K=>Axe(K,B,N,D)),U=Ht(K=>Sxe(K,B,N,D)),V=Ht(K=>xI(K,B,N,D)),Y=Ht(K=>jxe(K,B,N,D)),de=U,te=Dxe(),ie=r??L,[ge,oe]=yM([de,ie]),Se=B==="axis"?V:void 0;Jxe(B,N,Y,Se,H,ie);var ne=j??te;if(ne==null)return null;var M=de??nO;ie||(M=nO),o&&M.length&&(M=mM(de.filter(K=>K.value!=null&&(K.hide!==!0||t.includeHidden)),h,nge));var R=M.length>0,q=k.createElement(Cde,{allowEscapeViewBox:n,animationDuration:a,animationEasing:s,isAnimationActive:u,active:ie,coordinate:Y,hasPayload:R,offset:d,position:m,reverseDirection:g,useTranslate3d:x,viewBox:C,wrapperStyle:b,lastBoundingBox:ge,innerRef:oe,hasPortalFromProps:!!j},age(l,rO(rO({},t),{},{payload:M,label:Se,active:ie,coordinate:Y,accessibilityLayer:P})));return k.createElement(k.Fragment,null,JF.createPortal(q,ne),ie&&k.createElement(Fxe,{cursor:v,tooltipEventType:B,coordinate:Y,payload:de,index:H}))}var r1=e=>null;r1.displayName="Cell";function ige(e,t,r){return(t=lge(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function lge(e){var t=oge(e,"string");return typeof t=="symbol"?t:t+""}function oge(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}class cge{constructor(t){ige(this,"cache",new Map),this.maxSize=t}get(t){var r=this.cache.get(t);return r!==void 0&&(this.cache.delete(t),this.cache.set(t,r)),r}set(t,r){if(this.cache.has(t))this.cache.delete(t);else if(this.cache.size>=this.maxSize){var n=this.cache.keys().next().value;this.cache.delete(n)}this.cache.set(t,r)}clear(){this.cache.clear()}size(){return this.cache.size}}function aO(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function uge(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?aO(Object(r),!0).forEach(function(n){dge(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):aO(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function dge(e,t,r){return(t=fge(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function fge(e){var t=hge(e,"string");return typeof t=="symbol"?t:t+""}function hge(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var mge={cacheSize:2e3,enableCache:!0},wI=uge({},mge),sO=new cge(wI.cacheSize),pge={position:"absolute",top:"-20000px",left:0,padding:0,margin:0,border:"none",whiteSpace:"pre"},iO="recharts_measurement_span";function xge(e,t){var r=t.fontSize||"",n=t.fontFamily||"",a=t.fontWeight||"",s=t.fontStyle||"",l=t.letterSpacing||"",o=t.textTransform||"";return"".concat(e,"|").concat(r,"|").concat(n,"|").concat(a,"|").concat(s,"|").concat(l,"|").concat(o)}var lO=(e,t)=>{try{var r=document.getElementById(iO);r||(r=document.createElement("span"),r.setAttribute("id",iO),r.setAttribute("aria-hidden","true"),document.body.appendChild(r)),Object.assign(r.style,pge,t),r.textContent="".concat(e);var n=r.getBoundingClientRect();return{width:n.width,height:n.height}}catch{return{width:0,height:0}}},Ix=function(t){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(t==null||Kf.isSsr)return{width:0,height:0};if(!wI.enableCache)return lO(t,r);var n=xge(t,r),a=sO.get(n);if(a)return a;var s=lO(t,r);return sO.set(n,s),s},oO=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([*/])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,cO=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([+-])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,gge=/^px|cm|vh|vw|em|rem|%|mm|in|pt|pc|ex|ch|vmin|vmax|Q$/,vge=/(-?\d+(?:\.\d+)?)([a-zA-Z%]+)?/,NI={cm:96/2.54,mm:96/25.4,pt:96/72,pc:96/6,in:96,Q:96/(2.54*40),px:1},yge=Object.keys(NI),Cm="NaN";function bge(e,t){return e*NI[t]}class Sl{static parse(t){var r,[,n,a]=(r=vge.exec(t))!==null&&r!==void 0?r:[];return new Sl(parseFloat(n),a??"")}constructor(t,r){this.num=t,this.unit=r,this.num=t,this.unit=r,Ho(t)&&(this.unit=""),r!==""&&!gge.test(r)&&(this.num=NaN,this.unit=""),yge.includes(r)&&(this.num=bge(t,r),this.unit="px")}add(t){return this.unit!==t.unit?new Sl(NaN,""):new Sl(this.num+t.num,this.unit)}subtract(t){return this.unit!==t.unit?new Sl(NaN,""):new Sl(this.num-t.num,this.unit)}multiply(t){return this.unit!==""&&t.unit!==""&&this.unit!==t.unit?new Sl(NaN,""):new Sl(this.num*t.num,this.unit||t.unit)}divide(t){return this.unit!==""&&t.unit!==""&&this.unit!==t.unit?new Sl(NaN,""):new Sl(this.num/t.num,this.unit||t.unit)}toString(){return"".concat(this.num).concat(this.unit)}isNaN(){return Ho(this.num)}}function _I(e){if(e.includes(Cm))return Cm;for(var t=e;t.includes("*")||t.includes("/");){var r,[,n,a,s]=(r=oO.exec(t))!==null&&r!==void 0?r:[],l=Sl.parse(n??""),o=Sl.parse(s??""),u=a==="*"?l.multiply(o):l.divide(o);if(u.isNaN())return Cm;t=t.replace(oO,u.toString())}for(;t.includes("+")||/.-\d+(?:\.\d+)?/.test(t);){var d,[,h,m,g]=(d=cO.exec(t))!==null&&d!==void 0?d:[],x=Sl.parse(h??""),b=Sl.parse(g??""),v=m==="+"?x.add(b):x.subtract(b);if(v.isNaN())return Cm;t=t.replace(cO,v.toString())}return t}var uO=/\(([^()]*)\)/;function wge(e){for(var t=e,r;(r=uO.exec(t))!=null;){var[,n]=r;t=t.replace(uO,_I(n))}return t}function Nge(e){var t=e.replace(/\s+/g,"");return t=wge(t),t=_I(t),t}function _ge(e){try{return Nge(e)}catch{return Cm}}function hN(e){var t=_ge(e.slice(5,-1));return t===Cm?"":t}var jge=["x","y","lineHeight","capHeight","scaleToFit","textAnchor","verticalAnchor","fill"],Sge=["dx","dy","angle","className","breakAll"];function i_(){return i_=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},i_.apply(null,arguments)}function dO(e,t){if(e==null)return{};var r,n,a=Age(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(n=0;n<s.length;n++)r=s[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}function Age(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}var jI=/[ \f\n\r\t\v\u2028\u2029]+/,SI=e=>{var{children:t,breakAll:r,style:n}=e;try{var a=[];pa(t)||(r?a=t.toString().split(""):a=t.toString().split(jI));var s=a.map(o=>({word:o,width:Ix(o,n).width})),l=r?0:Ix("",n).width;return{wordsWithComputedWidth:s,spaceWidth:l}}catch{return null}},kge=(e,t,r,n,a)=>{var{maxLines:s,children:l,style:o,breakAll:u}=e,d=Qt(s),h=l,m=function(){var L=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[];return L.reduce((U,V)=>{var{word:Y,width:de}=V,te=U[U.length-1];if(te&&(n==null||a||te.width+de+r<Number(n)))te.words.push(Y),te.width+=de+r;else{var ie={words:[Y],width:de};U.push(ie)}return U},[])},g=m(t),x=H=>H.reduce((L,U)=>L.width>U.width?L:U);if(!d||a)return g;var b=g.length>s||x(g).width>Number(n);if(!b)return g;for(var v="",w=H=>{var L=h.slice(0,H),U=SI({breakAll:u,style:o,children:L+v}).wordsWithComputedWidth,V=m(U),Y=V.length>s||x(V).width>Number(n);return[Y,V]},N=0,E=h.length-1,j=0,T;N<=E&&j<=h.length-1;){var O=Math.floor((N+E)/2),D=O-1,[C,P]=w(D),[B]=w(O);if(!C&&!B&&(N=O+1),C&&B&&(E=O-1),!C&&B){T=P;break}j++}return T||g},fO=e=>{var t=pa(e)?[]:e.toString().split(jI);return[{words:t}]},Ege=e=>{var{width:t,scaleToFit:r,children:n,style:a,breakAll:s,maxLines:l}=e;if((t||r)&&!Kf.isSsr){var o,u,d=SI({breakAll:s,children:n,style:a});if(d){var{wordsWithComputedWidth:h,spaceWidth:m}=d;o=h,u=m}else return fO(n);return kge({breakAll:s,children:n,maxLines:l,style:a},o,u,t,r)}return fO(n)},hO="#808080",ib=k.forwardRef((e,t)=>{var{x:r=0,y:n=0,lineHeight:a="1em",capHeight:s="0.71em",scaleToFit:l=!1,textAnchor:o="start",verticalAnchor:u="end",fill:d=hO}=e,h=dO(e,jge),m=k.useMemo(()=>Ege({breakAll:h.breakAll,children:h.children,maxLines:h.maxLines,scaleToFit:l,style:h.style,width:h.width}),[h.breakAll,h.children,h.maxLines,l,h.style,h.width]),{dx:g,dy:x,angle:b,className:v,breakAll:w}=h,N=dO(h,Sge);if(!pu(r)||!pu(n)||m.length===0)return null;var E=r+(Qt(g)?g:0),j=n+(Qt(x)?x:0),T;switch(u){case"start":T=hN("calc(".concat(s,")"));break;case"middle":T=hN("calc(".concat((m.length-1)/2," * -").concat(a," + (").concat(s," / 2))"));break;default:T=hN("calc(".concat(m.length-1," * -").concat(a,")"));break}var O=[];if(l){var D=m[0].width,{width:C}=h;O.push("scale(".concat(Qt(C)?C/D:1,")"))}return b&&O.push("rotate(".concat(b,", ").concat(E,", ").concat(j,")")),O.length&&(N.transform=O.join(" ")),k.createElement("text",i_({},nl(N),{ref:t,x:E,y:j,className:on("recharts-text",v),textAnchor:o,fill:d.includes("url")?hO:d}),m.map((P,B)=>{var H=P.words.join(w?"":" ");return k.createElement("tspan",{x:E,dy:B===0?T:a,key:"".concat(H,"-").concat(B)},H)}))});ib.displayName="Text";var Cge=["labelRef"];function Tge(e,t){if(e==null)return{};var r,n,a=Oge(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(n=0;n<s.length;n++)r=s[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}function Oge(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}function mO(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function Ka(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?mO(Object(r),!0).forEach(function(n){Fge(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):mO(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Fge(e,t,r){return(t=Dge(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Dge(e){var t=Pge(e,"string");return typeof t=="symbol"?t:t+""}function Pge(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Ju(){return Ju=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Ju.apply(null,arguments)}var AI=k.createContext(null),Lge=e=>{var{x:t,y:r,width:n,height:a,children:s}=e,l=k.useMemo(()=>({x:t,y:r,width:n,height:a}),[t,r,n,a]);return k.createElement(AI.Provider,{value:l},s)},kI=()=>{var e=k.useContext(AI),t=I2();return e||t},Mge=k.createContext(null),Rge=()=>{var e=k.useContext(Mge),t=Ht(v9);return e||t},Ige=e=>{var{value:t,formatter:r}=e,n=pa(e.children)?t:e.children;return typeof r=="function"?r(n):n},bS=e=>e!=null&&typeof e=="function",Bge=(e,t)=>{var r=Ks(t-e),n=Math.min(Math.abs(t-e),360);return r*n},Uge=(e,t,r,n,a)=>{var{offset:s,className:l}=e,{cx:o,cy:u,innerRadius:d,outerRadius:h,startAngle:m,endAngle:g,clockWise:x}=a,b=(d+h)/2,v=Bge(m,g),w=v>=0?1:-1,N,E;switch(t){case"insideStart":N=m+w*s,E=x;break;case"insideEnd":N=g-w*s,E=!x;break;case"end":N=g+w*s,E=x;break;default:throw new Error("Unsupported position ".concat(t))}E=v<=0?E:!E;var j=cs(o,u,b,N),T=cs(o,u,b,N+(E?1:-1)*359),O="M".concat(j.x,",").concat(j.y,`
    A`).concat(b,",").concat(b,",0,1,").concat(E?0:1,`,
    `).concat(T.x,",").concat(T.y),D=pa(e.id)?cg("recharts-radial-line-"):e.id;return k.createElement("text",Ju({},n,{dominantBaseline:"central",className:on("recharts-radial-bar-label",l)}),k.createElement("defs",null,k.createElement("path",{id:D,d:O})),k.createElement("textPath",{xlinkHref:"#".concat(D)},r))},zge=(e,t,r)=>{var{cx:n,cy:a,innerRadius:s,outerRadius:l,startAngle:o,endAngle:u}=e,d=(o+u)/2;if(r==="outside"){var{x:h,y:m}=cs(n,a,l+t,d);return{x:h,y:m,textAnchor:h>=n?"start":"end",verticalAnchor:"middle"}}if(r==="center")return{x:n,y:a,textAnchor:"middle",verticalAnchor:"middle"};if(r==="centerTop")return{x:n,y:a,textAnchor:"middle",verticalAnchor:"start"};if(r==="centerBottom")return{x:n,y:a,textAnchor:"middle",verticalAnchor:"end"};var g=(s+l)/2,{x,y:b}=cs(n,a,g,d);return{x,y:b,textAnchor:"middle",verticalAnchor:"middle"}},EI=e=>"cx"in e&&Qt(e.cx),qge=(e,t)=>{var{parentViewBox:r,offset:n,position:a}=e,s;r!=null&&!EI(r)&&(s=r);var{x:l,y:o,width:u,height:d}=t,h=d>=0?1:-1,m=h*n,g=h>0?"end":"start",x=h>0?"start":"end",b=u>=0?1:-1,v=b*n,w=b>0?"end":"start",N=b>0?"start":"end";if(a==="top"){var E={x:l+u/2,y:o-h*n,textAnchor:"middle",verticalAnchor:g};return Ka(Ka({},E),s?{height:Math.max(o-s.y,0),width:u}:{})}if(a==="bottom"){var j={x:l+u/2,y:o+d+m,textAnchor:"middle",verticalAnchor:x};return Ka(Ka({},j),s?{height:Math.max(s.y+s.height-(o+d),0),width:u}:{})}if(a==="left"){var T={x:l-v,y:o+d/2,textAnchor:w,verticalAnchor:"middle"};return Ka(Ka({},T),s?{width:Math.max(T.x-s.x,0),height:d}:{})}if(a==="right"){var O={x:l+u+v,y:o+d/2,textAnchor:N,verticalAnchor:"middle"};return Ka(Ka({},O),s?{width:Math.max(s.x+s.width-O.x,0),height:d}:{})}var D=s?{width:u,height:d}:{};return a==="insideLeft"?Ka({x:l+v,y:o+d/2,textAnchor:N,verticalAnchor:"middle"},D):a==="insideRight"?Ka({x:l+u-v,y:o+d/2,textAnchor:w,verticalAnchor:"middle"},D):a==="insideTop"?Ka({x:l+u/2,y:o+m,textAnchor:"middle",verticalAnchor:x},D):a==="insideBottom"?Ka({x:l+u/2,y:o+d-m,textAnchor:"middle",verticalAnchor:g},D):a==="insideTopLeft"?Ka({x:l+v,y:o+m,textAnchor:N,verticalAnchor:x},D):a==="insideTopRight"?Ka({x:l+u-v,y:o+m,textAnchor:w,verticalAnchor:x},D):a==="insideBottomLeft"?Ka({x:l+v,y:o+d-m,textAnchor:N,verticalAnchor:g},D):a==="insideBottomRight"?Ka({x:l+u-v,y:o+d-m,textAnchor:w,verticalAnchor:g},D):a&&typeof a=="object"&&(Qt(a.x)||vd(a.x))&&(Qt(a.y)||vd(a.y))?Ka({x:l+Pi(a.x,u),y:o+Pi(a.y,d),textAnchor:"end",verticalAnchor:"end"},D):Ka({x:l+u/2,y:o+d/2,textAnchor:"middle",verticalAnchor:"middle"},D)},$ge={offset:5};function bf(e){var t=mi(e,$ge),{viewBox:r,position:n,value:a,children:s,content:l,className:o="",textBreakAll:u,labelRef:d}=t,h=Rge(),m=kI(),g=n==="center"?m:h??m,x=r||g;if(!x||pa(a)&&pa(s)&&!k.isValidElement(l)&&typeof l!="function")return null;var b=Ka(Ka({},t),{},{viewBox:x});if(k.isValidElement(l)){var{labelRef:v}=b,w=Tge(b,Cge);return k.cloneElement(l,w)}var N;if(typeof l=="function"){if(N=k.createElement(l,b),k.isValidElement(N))return N}else N=Ige(t);var E=EI(x),j=nl(t);if(E&&(n==="insideStart"||n==="insideEnd"||n==="end"))return Uge(t,n,N,j,x);var T=E?zge(x,t.offset,t.position):qge(t,x);return k.createElement(ib,Ju({ref:d,className:on("recharts-label",o)},j,T,{breakAll:u}),N)}bf.displayName="Label";var Hge=(e,t,r)=>{if(!e)return null;var n={viewBox:t,labelRef:r};return e===!0?k.createElement(bf,Ju({key:"label-implicit"},n)):pu(e)?k.createElement(bf,Ju({key:"label-implicit",value:e},n)):k.isValidElement(e)?e.type===bf?k.cloneElement(e,Ka({key:"label-implicit"},n)):k.createElement(bf,Ju({key:"label-implicit",content:e},n)):bS(e)?k.createElement(bf,Ju({key:"label-implicit",content:e},n)):e&&typeof e=="object"?k.createElement(bf,Ju({},e,{key:"label-implicit"},n)):null};function Vge(e){var{label:t,labelRef:r}=e,n=kI();return Hge(t,n,r)||null}var mN={},pN={},pO;function Wge(){return pO||(pO=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){return r[r.length-1]}e.last=t})(pN)),pN}var xN={},xO;function Kge(){return xO||(xO=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){return Array.isArray(r)?r:Array.from(r)}e.toArray=t})(xN)),xN}var gO;function Gge(){return gO||(gO=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=Wge(),r=Kge(),n=Zj();function a(s){if(n.isArrayLike(s))return t.last(r.toArray(s))}e.last=a})(mN)),mN}var gN,vO;function Yge(){return vO||(vO=1,gN=Gge().last),gN}var Xge=Yge();const Qge=jd(Xge);var Zge=["valueAccessor"],Jge=["dataKey","clockWise","id","textBreakAll"];function Wy(){return Wy=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Wy.apply(null,arguments)}function yO(e,t){if(e==null)return{};var r,n,a=e1e(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(n=0;n<s.length;n++)r=s[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}function e1e(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}var t1e=e=>Array.isArray(e.value)?Qge(e.value):e.value,CI=k.createContext(void 0),TI=CI.Provider,OI=k.createContext(void 0),r1e=OI.Provider;function n1e(){return k.useContext(CI)}function a1e(){return k.useContext(OI)}function $v(e){var{valueAccessor:t=t1e}=e,r=yO(e,Zge),{dataKey:n,clockWise:a,id:s,textBreakAll:l}=r,o=yO(r,Jge),u=n1e(),d=a1e(),h=u||d;return!h||!h.length?null:k.createElement(hi,{className:"recharts-label-list"},h.map((m,g)=>{var x,b=pa(n)?t(m,g):Kn(m&&m.payload,n),v=pa(s)?{}:{id:"".concat(s,"-").concat(g)};return k.createElement(bf,Wy({key:"label-".concat(g)},nl(m),o,v,{fill:(x=r.fill)!==null&&x!==void 0?x:m.fill,parentViewBox:m.parentViewBox,value:b,textBreakAll:l,viewBox:m.viewBox,index:g}))}))}$v.displayName="LabelList";function wS(e){var{label:t}=e;return t?t===!0?k.createElement($v,{key:"labelList-implicit"}):k.isValidElement(t)||bS(t)?k.createElement($v,{key:"labelList-implicit",content:t}):typeof t=="object"?k.createElement($v,Wy({key:"labelList-implicit"},t,{type:String(t.type)})):null:null}function l_(){return l_=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},l_.apply(null,arguments)}var FI=e=>{var{cx:t,cy:r,r:n,className:a}=e,s=on("recharts-dot",a);return t===+t&&r===+r&&n===+n?k.createElement("circle",l_({},ao(e),Yj(e),{className:s,cx:t,cy:r,r:n})):null},DI=e=>e.graphicalItems.polarItems,s1e=Ke([ga,Xg],V3),lb=Ke([DI,ka,s1e],W3),i1e=Ke([lb],K3),ob=Ke([i1e,P3],G3),l1e=Ke([ob,ka,lb],X3);Ke([ob,ka,lb],(e,t,r)=>r.length>0?e.flatMap(n=>r.flatMap(a=>{var s,l=Kn(n,(s=t.dataKey)!==null&&s!==void 0?s:a.dataKey);return{value:l,errorDomain:[]}})).filter(Boolean):t?.dataKey!=null?e.map(n=>({value:Kn(n,t.dataKey),errorDomain:[]})):e.map(n=>({value:n,errorDomain:[]})));var bO=()=>{},o1e=Ke([ob,ka,lb,rb,ga],eS),c1e=Ke([ka,Z3,J3,bO,o1e,bO,Zr,ga],tS),PI=Ke([ka,Zr,ob,l1e,Yg,ga,c1e],rS),u1e=Ke([PI,ka,_p],sS);Ke([ka,PI,u1e,ga],lS);var d1e={radiusAxis:{},angleAxis:{}},LI=oo({name:"polarAxis",initialState:d1e,reducers:{addRadiusAxis(e,t){e.radiusAxis[t.payload.id]=t.payload},removeRadiusAxis(e,t){delete e.radiusAxis[t.payload.id]},addAngleAxis(e,t){e.angleAxis[t.payload.id]=t.payload},removeAngleAxis(e,t){delete e.angleAxis[t.payload.id]}}}),{addRadiusAxis:Wje,removeRadiusAxis:Kje,addAngleAxis:Gje,removeAngleAxis:Yje}=LI.actions,f1e=LI.reducer;function wO(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function NO(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?wO(Object(r),!0).forEach(function(n){h1e(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):wO(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function h1e(e,t,r){return(t=m1e(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function m1e(e){var t=p1e(e,"string");return typeof t=="symbol"?t:t+""}function p1e(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var x1e=(e,t)=>t,NS=Ke([DI,x1e],(e,t)=>e.filter(r=>r.type==="pie").find(r=>r.id===t)),g1e=[],_S=(e,t,r)=>r?.length===0?g1e:r,MI=Ke([P3,NS,_S],(e,t,r)=>{var{chartData:n}=e;if(t!=null){var a;if(t?.data!=null&&t.data.length>0?a=t.data:a=n,(!a||!a.length)&&r!=null&&(a=r.map(s=>NO(NO({},t.presentationProps),s.props))),a!=null)return a}}),v1e=Ke([MI,NS,_S],(e,t,r)=>{if(!(e==null||t==null))return e.map((n,a)=>{var s,l=Kn(n,t.nameKey,t.name),o;return r!=null&&(s=r[a])!==null&&s!==void 0&&(s=s.props)!==null&&s!==void 0&&s.fill?o=r[a].props.fill:typeof n=="object"&&n!=null&&"fill"in n?o=n.fill:o=t.fill,{value:xp(l,t.dataKey),color:o,payload:n,type:t.legendType}})}),y1e=Ke([MI,NS,_S,Os],(e,t,r,n)=>{if(!(t==null||e==null))return yve({offset:n,pieSettings:t,displayedData:e,cells:r})}),vN={exports:{}},Mn={};/**
 * @license React
 * react-is.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var _O;function b1e(){if(_O)return Mn;_O=1;var e=Symbol.for("react.transitional.element"),t=Symbol.for("react.portal"),r=Symbol.for("react.fragment"),n=Symbol.for("react.strict_mode"),a=Symbol.for("react.profiler"),s=Symbol.for("react.consumer"),l=Symbol.for("react.context"),o=Symbol.for("react.forward_ref"),u=Symbol.for("react.suspense"),d=Symbol.for("react.suspense_list"),h=Symbol.for("react.memo"),m=Symbol.for("react.lazy"),g=Symbol.for("react.view_transition"),x=Symbol.for("react.client.reference");function b(v){if(typeof v=="object"&&v!==null){var w=v.$$typeof;switch(w){case e:switch(v=v.type,v){case r:case a:case n:case u:case d:case g:return v;default:switch(v=v&&v.$$typeof,v){case l:case o:case m:case h:return v;case s:return v;default:return w}}case t:return w}}}return Mn.ContextConsumer=s,Mn.ContextProvider=l,Mn.Element=e,Mn.ForwardRef=o,Mn.Fragment=r,Mn.Lazy=m,Mn.Memo=h,Mn.Portal=t,Mn.Profiler=a,Mn.StrictMode=n,Mn.Suspense=u,Mn.SuspenseList=d,Mn.isContextConsumer=function(v){return b(v)===s},Mn.isContextProvider=function(v){return b(v)===l},Mn.isElement=function(v){return typeof v=="object"&&v!==null&&v.$$typeof===e},Mn.isForwardRef=function(v){return b(v)===o},Mn.isFragment=function(v){return b(v)===r},Mn.isLazy=function(v){return b(v)===m},Mn.isMemo=function(v){return b(v)===h},Mn.isPortal=function(v){return b(v)===t},Mn.isProfiler=function(v){return b(v)===a},Mn.isStrictMode=function(v){return b(v)===n},Mn.isSuspense=function(v){return b(v)===u},Mn.isSuspenseList=function(v){return b(v)===d},Mn.isValidElementType=function(v){return typeof v=="string"||typeof v=="function"||v===r||v===a||v===n||v===u||v===d||typeof v=="object"&&v!==null&&(v.$$typeof===m||v.$$typeof===h||v.$$typeof===l||v.$$typeof===s||v.$$typeof===o||v.$$typeof===x||v.getModuleId!==void 0)},Mn.typeOf=b,Mn}var jO;function w1e(){return jO||(jO=1,vN.exports=b1e()),vN.exports}var N1e=w1e(),SO=e=>typeof e=="string"?e:e?e.displayName||e.name||"Component":"",AO=null,yN=null,RI=e=>{if(e===AO&&Array.isArray(yN))return yN;var t=[];return k.Children.forEach(e,r=>{pa(r)||(N1e.isFragment(r)?t=t.concat(RI(r.props.children)):t.push(r))}),yN=t,AO=e,t};function jS(e,t){var r=[],n=[];return Array.isArray(t)?n=t.map(a=>SO(a)):n=[SO(t)],RI(e).forEach(a=>{var s=nh(a,"type.displayName")||nh(a,"type.name");n.indexOf(s)!==-1&&r.push(a)}),r}var II=e=>e&&typeof e=="object"&&"clipDot"in e?!!e.clipDot:!0,bN={},kO;function _1e(){return kO||(kO=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){if(typeof r!="object"||r==null)return!1;if(Object.getPrototypeOf(r)===null)return!0;if(Object.prototype.toString.call(r)!=="[object Object]"){const a=r[Symbol.toStringTag];return a==null||!Object.getOwnPropertyDescriptor(r,Symbol.toStringTag)?.writable?!1:r.toString()===`[object ${a}]`}let n=r;for(;Object.getPrototypeOf(n)!==null;)n=Object.getPrototypeOf(n);return Object.getPrototypeOf(r)===n}e.isPlainObject=t})(bN)),bN}var wN,EO;function j1e(){return EO||(EO=1,wN=_1e().isPlainObject),wN}var S1e=j1e();const A1e=jd(S1e);function CO(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function TO(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?CO(Object(r),!0).forEach(function(n){k1e(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):CO(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function k1e(e,t,r){return(t=E1e(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function E1e(e){var t=C1e(e,"string");return typeof t=="symbol"?t:t+""}function C1e(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Ky(){return Ky=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Ky.apply(null,arguments)}var OO=(e,t,r,n,a)=>{var s=r-n,l;return l="M ".concat(e,",").concat(t),l+="L ".concat(e+r,",").concat(t),l+="L ".concat(e+r-s/2,",").concat(t+a),l+="L ".concat(e+r-s/2-n,",").concat(t+a),l+="L ".concat(e,",").concat(t," Z"),l},T1e={x:0,y:0,upperWidth:0,lowerWidth:0,height:0,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},O1e=e=>{var t=mi(e,T1e),{x:r,y:n,upperWidth:a,lowerWidth:s,height:l,className:o}=t,{animationEasing:u,animationDuration:d,animationBegin:h,isUpdateAnimationActive:m}=t,g=k.useRef(null),[x,b]=k.useState(-1),v=k.useRef(a),w=k.useRef(s),N=k.useRef(l),E=k.useRef(r),j=k.useRef(n),T=Hg(e,"trapezoid-");if(k.useEffect(()=>{if(g.current&&g.current.getTotalLength)try{var Y=g.current.getTotalLength();Y&&b(Y)}catch{}},[]),r!==+r||n!==+n||a!==+a||s!==+s||l!==+l||a===0&&s===0||l===0)return null;var O=on("recharts-trapezoid",o);if(!m)return k.createElement("g",null,k.createElement("path",Ky({},nl(t),{className:O,d:OO(r,n,a,s,l)})));var D=v.current,C=w.current,P=N.current,B=E.current,H=j.current,L="0px ".concat(x===-1?1:x,"px"),U="".concat(x,"px 0px"),V=lR(["strokeDasharray"],d,u);return k.createElement($g,{animationId:T,key:T,canBegin:x>0,duration:d,easing:u,isActive:m,begin:h},Y=>{var de=Ra(D,a,Y),te=Ra(C,s,Y),ie=Ra(P,l,Y),ge=Ra(B,r,Y),oe=Ra(H,n,Y);g.current&&(v.current=de,w.current=te,N.current=ie,E.current=ge,j.current=oe);var Se=Y>0?{transition:V,strokeDasharray:U}:{strokeDasharray:L};return k.createElement("path",Ky({},nl(t),{className:O,d:OO(ge,oe,de,te,ie),ref:g,style:TO(TO({},Se),t.style)}))})},F1e=["option","shapeType","propTransformer","activeClassName","isActive"];function D1e(e,t){if(e==null)return{};var r,n,a=P1e(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(n=0;n<s.length;n++)r=s[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}function P1e(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}function FO(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function Gy(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?FO(Object(r),!0).forEach(function(n){L1e(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):FO(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function L1e(e,t,r){return(t=M1e(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function M1e(e){var t=R1e(e,"string");return typeof t=="symbol"?t:t+""}function R1e(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function I1e(e,t){return Gy(Gy({},t),e)}function B1e(e,t){return e==="symbols"}function DO(e){var{shapeType:t,elementProps:r}=e;switch(t){case"rectangle":return k.createElement(dR,r);case"trapezoid":return k.createElement(O1e,r);case"sector":return k.createElement(mR,r);case"symbols":if(B1e(t))return k.createElement(Gj,r);break;default:return null}}function U1e(e){return k.isValidElement(e)?e.props:e}function BI(e){var{option:t,shapeType:r,propTransformer:n=I1e,activeClassName:a="recharts-active-shape",isActive:s}=e,l=D1e(e,F1e),o;if(k.isValidElement(t))o=k.cloneElement(t,Gy(Gy({},l),U1e(t)));else if(typeof t=="function")o=t(l);else if(A1e(t)&&typeof t!="boolean"){var u=n(t,l);o=k.createElement(DO,{shapeType:r,elementProps:u})}else{var d=l;o=k.createElement(DO,{shapeType:r,elementProps:d})}return s?k.createElement(hi,{className:a},o):o}var SS=(e,t)=>{var r=xa();return(n,a)=>s=>{e?.(n,a,s),r(X9({activeIndex:String(a),activeDataKey:t,activeCoordinate:n.tooltipPosition}))}},AS=e=>{var t=xa();return(r,n)=>a=>{e?.(r,n,a),t(Epe())}},kS=(e,t)=>{var r=xa();return(n,a)=>s=>{e?.(n,a,s),r(Cpe({activeIndex:String(a),activeDataKey:t,activeCoordinate:n.tooltipPosition}))}};function ES(e){var{fn:t,args:r}=e,n=xa(),a=al();return k.useLayoutEffect(()=>{if(!a){var s=t(r);return n(Spe(s)),()=>{n(Ape(s))}}},[t,r,n,a]),null}var UI=()=>{};function zI(e){var{legendPayload:t}=e,r=xa(),n=al();return k.useLayoutEffect(()=>n?UI:(r(aR(t)),()=>{r(sR(t))}),[r,n,t]),null}function z1e(e){var{legendPayload:t}=e,r=xa(),n=Ht(Zr);return k.useLayoutEffect(()=>n!=="centric"&&n!=="radial"?UI:(r(aR(t)),()=>{r(sR(t))}),[r,n,t]),null}var NN,q1e=()=>{var[e]=k.useState(()=>cg("uid-"));return e},$1e=(NN=qz.useId)!==null&&NN!==void 0?NN:q1e;function H1e(e,t){var r=$1e();return t||(e?"".concat(e,"-").concat(r):r)}var V1e=k.createContext(void 0),CS=e=>{var{id:t,type:r,children:n}=e,a=H1e("recharts-".concat(r),t);return k.createElement(V1e.Provider,{value:a},n(a))},W1e={cartesianItems:[],polarItems:[]},qI=oo({name:"graphicalItems",initialState:W1e,reducers:{addCartesianGraphicalItem:{reducer(e,t){e.cartesianItems.push(t.payload)},prepare:Zi()},replaceCartesianGraphicalItem:{reducer(e,t){var{prev:r,next:n}=t.payload,a=dd(e).cartesianItems.indexOf(r);a>-1&&(e.cartesianItems[a]=n)},prepare:Zi()},removeCartesianGraphicalItem:{reducer(e,t){var r=dd(e).cartesianItems.indexOf(t.payload);r>-1&&e.cartesianItems.splice(r,1)},prepare:Zi()},addPolarGraphicalItem:{reducer(e,t){e.polarItems.push(t.payload)},prepare:Zi()},removePolarGraphicalItem:{reducer(e,t){var r=dd(e).polarItems.indexOf(t.payload);r>-1&&e.polarItems.splice(r,1)},prepare:Zi()}}}),{addCartesianGraphicalItem:K1e,replaceCartesianGraphicalItem:G1e,removeCartesianGraphicalItem:Y1e,addPolarGraphicalItem:X1e,removePolarGraphicalItem:Q1e}=qI.actions,Z1e=qI.reducer;function $I(e){var t=xa(),r=k.useRef(null);return k.useLayoutEffect(()=>{r.current===null?t(K1e(e)):r.current!==e&&t(G1e({prev:r.current,next:e})),r.current=e},[t,e]),k.useLayoutEffect(()=>()=>{r.current&&(t(Y1e(r.current)),r.current=null)},[t]),null}function J1e(e){var t=xa();return k.useLayoutEffect(()=>(t(X1e(e)),()=>{t(Q1e(e))}),[t,e]),null}var eve=["onMouseEnter","onClick","onMouseLeave"],tve=["id"],rve=["id"];function TS(e,t){if(e==null)return{};var r,n,a=nve(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(n=0;n<s.length;n++)r=s[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}function nve(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}function PO(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function fa(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?PO(Object(r),!0).forEach(function(n){ave(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):PO(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function ave(e,t,r){return(t=sve(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function sve(e){var t=ive(e,"string");return typeof t=="symbol"?t:t+""}function ive(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Mf(){return Mf=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Mf.apply(null,arguments)}function lve(e){var t=k.useMemo(()=>jS(e.children,r1),[e.children]),r=Ht(n=>v1e(n,e.id,t));return r==null?null:k.createElement(z1e,{legendPayload:r})}function ove(e){var{dataKey:t,nameKey:r,sectors:n,stroke:a,strokeWidth:s,fill:l,name:o,hide:u,tooltipType:d}=e;return{dataDefinedOnItem:n.map(h=>h.tooltipPayload),positions:n.map(h=>h.tooltipPosition),settings:{stroke:a,strokeWidth:s,fill:l,dataKey:t,nameKey:r,name:xp(o,t),hide:u,type:d,color:l,unit:""}}}var cve=(e,t)=>e>t?"start":e<t?"end":"middle",uve=(e,t,r)=>Pi(typeof t=="function"?t(e):t,r,r*.8),dve=(e,t,r)=>{var{top:n,left:a,width:s,height:l}=t,o=WM(s,l),u=a+Pi(e.cx,s,s/2),d=n+Pi(e.cy,l,l/2),h=Pi(e.innerRadius,o,0),m=uve(r,e.outerRadius,o),g=e.maxRadius||Math.sqrt(s*s+l*l)/2;return{cx:u,cy:d,innerRadius:h,outerRadius:m,maxRadius:g}},fve=(e,t)=>{var r=Ks(t-e),n=Math.min(Math.abs(t-e),360);return r*n};function hve(e){return e&&typeof e=="object"&&"className"in e&&typeof e.className=="string"?e.className:""}var mve=(e,t)=>{if(k.isValidElement(e))return k.cloneElement(e,t);if(typeof e=="function")return e(t);var r=on("recharts-pie-label-line",typeof e!="boolean"?e.className:"");return k.createElement(u3,Mf({},t,{type:"linear",className:r}))},pve=(e,t,r)=>{if(k.isValidElement(e))return k.cloneElement(e,t);var n=r;if(typeof e=="function"&&(n=e(t),k.isValidElement(n)))return n;var a=on("recharts-pie-label-text",hve(e));return k.createElement(ib,Mf({},t,{alignmentBaseline:"middle",className:a}),n)};function xve(e){var{sectors:t,props:r,showLabels:n}=e,{label:a,labelLine:s,dataKey:l}=r;if(!n||!a||!t)return null;var o=ao(r),u=rh(a),d=rh(s),h=typeof a=="object"&&"offsetRadius"in a&&typeof a.offsetRadius=="number"&&a.offsetRadius||20,m=t.map((g,x)=>{var b=(g.startAngle+g.endAngle)/2,v=cs(g.cx,g.cy,g.outerRadius+h,b),w=fa(fa(fa(fa({},o),g),{},{stroke:"none"},u),{},{index:x,textAnchor:cve(v.x,g.cx)},v),N=fa(fa(fa(fa({},o),g),{},{fill:"none",stroke:g.fill},d),{},{index:x,points:[cs(g.cx,g.cy,g.outerRadius,b),v],key:"line"});return k.createElement(hi,{key:"label-".concat(g.startAngle,"-").concat(g.endAngle,"-").concat(g.midAngle,"-").concat(x)},s&&mve(s,N),pve(a,w,Kn(g,l)))});return k.createElement(hi,{className:"recharts-pie-labels"},m)}function gve(e){var{sectors:t,props:r,showLabels:n}=e,{label:a}=r;return typeof a=="object"&&a!=null&&"position"in a?k.createElement(wS,{label:a}):k.createElement(xve,{sectors:t,props:r,showLabels:n})}function vve(e){var{sectors:t,activeShape:r,inactiveShape:n,allOtherPieProps:a}=e,s=Ht(Lf),{onMouseEnter:l,onClick:o,onMouseLeave:u}=a,d=TS(a,eve),h=SS(l,a.dataKey),m=AS(u),g=kS(o,a.dataKey);return t==null||t.length===0?null:k.createElement(k.Fragment,null,t.map((x,b)=>{if(x?.startAngle===0&&x?.endAngle===0&&t.length!==1)return null;var v=r&&String(b)===s,w=s?n:null,N=v?r:w,E=fa(fa({},x),{},{stroke:x.stroke,tabIndex:-1,[QM]:b,[ZM]:a.dataKey});return k.createElement(hi,Mf({key:"sector-".concat(x?.startAngle,"-").concat(x?.endAngle,"-").concat(x.midAngle,"-").concat(b),tabIndex:-1,className:"recharts-pie-sector"},Bg(d,x,b),{onMouseEnter:h(x,b),onMouseLeave:m(x,b),onClick:g(x,b)}),k.createElement(BI,Mf({option:N,isActive:v,shapeType:"sector"},E)))}))}function yve(e){var t,{pieSettings:r,displayedData:n,cells:a,offset:s}=e,{cornerRadius:l,startAngle:o,endAngle:u,dataKey:d,nameKey:h,tooltipType:m}=r,g=Math.abs(r.minAngle),x=fve(o,u),b=Math.abs(x),v=n.length<=1?0:(t=r.paddingAngle)!==null&&t!==void 0?t:0,w=n.filter(D=>Kn(D,d,0)!==0).length,N=(b>=360?w:w-1)*v,E=b-w*g-N,j=n.reduce((D,C)=>{var P=Kn(C,d,0);return D+(Qt(P)?P:0)},0),T;if(j>0){var O;T=n.map((D,C)=>{var P=Kn(D,d,0),B=Kn(D,h,C),H=dve(r,s,D),L=(Qt(P)?P:0)/j,U,V=fa(fa({},D),a&&a[C]&&a[C].props);C?U=O.endAngle+Ks(x)*v*(P!==0?1:0):U=o;var Y=U+Ks(x)*((P!==0?g:0)+L*E),de=(U+Y)/2,te=(H.innerRadius+H.outerRadius)/2,ie=[{name:B,value:P,payload:V,dataKey:d,type:m}],ge=cs(H.cx,H.cy,te,de);return O=fa(fa(fa(fa({},r.presentationProps),{},{percent:L,cornerRadius:l,name:B,tooltipPayload:ie,midAngle:de,middleRadius:te,tooltipPosition:ge},V),H),{},{value:P,startAngle:U,endAngle:Y,payload:V,paddingAngle:Ks(x)*v}),O})}return T}function bve(e){var{showLabels:t,sectors:r,children:n}=e,a=k.useMemo(()=>!t||!r?[]:r.map(s=>({value:s.value,payload:s.payload,clockWise:!1,parentViewBox:void 0,viewBox:{cx:s.cx,cy:s.cy,innerRadius:s.innerRadius,outerRadius:s.outerRadius,startAngle:s.startAngle,endAngle:s.endAngle,clockWise:!1},fill:s.fill})),[r,t]);return k.createElement(r1e,{value:t?a:void 0},n)}function wve(e){var{props:t,previousSectorsRef:r}=e,{sectors:n,isAnimationActive:a,animationBegin:s,animationDuration:l,animationEasing:o,activeShape:u,inactiveShape:d,onAnimationStart:h,onAnimationEnd:m}=t,g=Hg(t,"recharts-pie-"),x=r.current,[b,v]=k.useState(!1),w=k.useCallback(()=>{typeof m=="function"&&m(),v(!1)},[m]),N=k.useCallback(()=>{typeof h=="function"&&h(),v(!0)},[h]);return k.createElement(bve,{showLabels:!b,sectors:n},k.createElement($g,{animationId:g,begin:s,duration:l,isActive:a,easing:o,onAnimationStart:N,onAnimationEnd:w,key:g},E=>{var j=[],T=n&&n[0],O=T?.startAngle;return n?.forEach((D,C)=>{var P=x&&x[C],B=C>0?nh(D,"paddingAngle",0):0;if(P){var H=Ra(P.endAngle-P.startAngle,D.endAngle-D.startAngle,E),L=fa(fa({},D),{},{startAngle:O+B,endAngle:O+H+B});j.push(L),O=L.endAngle}else{var{endAngle:U,startAngle:V}=D,Y=Ra(0,U-V,E),de=fa(fa({},D),{},{startAngle:O+B,endAngle:O+Y+B});j.push(de),O=de.endAngle}}),r.current=j,k.createElement(hi,null,k.createElement(vve,{sectors:j,activeShape:u,inactiveShape:d,allOtherPieProps:t}))}),k.createElement(gve,{showLabels:!b,sectors:n,props:t}),t.children)}var Nve={animationBegin:400,animationDuration:1500,animationEasing:"ease",cx:"50%",cy:"50%",dataKey:"value",endAngle:360,fill:"#808080",hide:!1,innerRadius:0,isAnimationActive:!Kf.isSsr,labelLine:!0,legendType:"rect",minAngle:0,nameKey:"name",outerRadius:"80%",paddingAngle:0,rootTabIndex:0,startAngle:0,stroke:"#fff"};function _ve(e){var{id:t}=e,r=TS(e,tve),{hide:n,className:a,rootTabIndex:s}=e,l=k.useMemo(()=>jS(e.children,r1),[e.children]),o=Ht(h=>y1e(h,t,l)),u=k.useRef(null),d=on("recharts-pie",a);return n||o==null?(u.current=null,k.createElement(hi,{tabIndex:s,className:d})):k.createElement(k.Fragment,null,k.createElement(ES,{fn:ove,args:fa(fa({},e),{},{sectors:o})}),k.createElement(hi,{tabIndex:s,className:d},k.createElement(wve,{props:fa(fa({},r),{},{sectors:o}),previousSectorsRef:u})))}function HI(e){var t=mi(e,Nve),{id:r}=t,n=TS(t,rve),a=ao(n);return k.createElement(CS,{id:r,type:"pie"},s=>k.createElement(k.Fragment,null,k.createElement(J1e,{type:"pie",id:s,data:n.data,dataKey:n.dataKey,hide:n.hide,angleAxisId:0,radiusAxisId:0,name:n.name,nameKey:n.nameKey,tooltipType:n.tooltipType,legendType:n.legendType,fill:n.fill,cx:n.cx,cy:n.cy,startAngle:n.startAngle,endAngle:n.endAngle,paddingAngle:n.paddingAngle,minAngle:n.minAngle,innerRadius:n.innerRadius,outerRadius:n.outerRadius,cornerRadius:n.cornerRadius,presentationProps:a,maxRadius:t.maxRadius}),k.createElement(lve,Mf({},n,{id:s})),k.createElement(_ve,Mf({},n,{id:s}))))}HI.displayName="Pie";function LO(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function MO(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?LO(Object(r),!0).forEach(function(n){jve(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):LO(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function jve(e,t,r){return(t=Sve(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Sve(e){var t=Ave(e,"string");return typeof t=="symbol"?t:t+""}function Ave(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var kve={xAxis:{},yAxis:{},zAxis:{}},VI=oo({name:"cartesianAxis",initialState:kve,reducers:{addXAxis:{reducer(e,t){e.xAxis[t.payload.id]=t.payload},prepare:Zi()},removeXAxis:{reducer(e,t){delete e.xAxis[t.payload.id]},prepare:Zi()},addYAxis:{reducer(e,t){e.yAxis[t.payload.id]=t.payload},prepare:Zi()},removeYAxis:{reducer(e,t){delete e.yAxis[t.payload.id]},prepare:Zi()},addZAxis:{reducer(e,t){e.zAxis[t.payload.id]=t.payload},prepare:Zi()},removeZAxis:{reducer(e,t){delete e.zAxis[t.payload.id]},prepare:Zi()},updateYAxisWidth(e,t){var{id:r,width:n}=t.payload,a=e.yAxis[r];if(a){var s=a.widthHistory||[];if(s.length===3&&s[0]===s[2]&&n===s[1]&&n!==a.width&&Math.abs(n-s[0])<=1)return;var l=[...s,n].slice(-3);e.yAxis[r]=MO(MO({},e.yAxis[r]),{},{width:n,widthHistory:l})}}}}),{addXAxis:Eve,removeXAxis:Cve,addYAxis:Tve,removeYAxis:Ove,addZAxis:Xje,removeZAxis:Qje,updateYAxisWidth:Fve}=VI.actions,Dve=VI.reducer,Pve=Ke([Os],e=>{if(e)return{top:e.top,bottom:e.bottom,left:e.left,right:e.right}}),Lve=Ke([Pve,Ed,Cd],(e,t,r)=>{if(!(!e||t==null||r==null))return{x:e.left,y:e.top,width:Math.max(0,t-e.left-e.right),height:Math.max(0,r-e.top-e.bottom)}}),OS=()=>Ht(Lve),Mve=()=>Ht(pxe);function RO(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function IO(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?RO(Object(r),!0).forEach(function(n){Rve(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):RO(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Rve(e,t,r){return(t=Ive(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Ive(e){var t=Bve(e,"string");return typeof t=="symbol"?t:t+""}function Bve(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Uve=e=>{var{point:t,childIndex:r,mainColor:n,activeDot:a,dataKey:s}=e;if(a===!1||t.x==null||t.y==null)return null;var l=IO(IO({index:r,dataKey:s,cx:t.x,cy:t.y,r:4,fill:n??"none",strokeWidth:2,stroke:"#fff",payload:t.payload,value:t.value},rh(a)),Yj(a)),o;return k.isValidElement(a)?o=k.cloneElement(a,l):typeof a=="function"?o=a(l):o=k.createElement(FI,l),k.createElement(hi,{className:"recharts-active-dot"},o)};function zve(e){var{points:t,mainColor:r,activeDot:n,itemDataKey:a}=e,s=Ht(Lf),l=Mve();if(t==null||l==null)return null;var o=t.find(u=>l.includes(u.payload));return pa(o)?null:Uve({point:o,childIndex:Number(s),mainColor:r,dataKey:a,activeDot:n})}var qve="Invariant failed";function $ve(e,t){throw new Error(qve)}var Hve=["x","y"];function o_(){return o_=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},o_.apply(null,arguments)}function BO(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function bx(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?BO(Object(r),!0).forEach(function(n){Vve(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):BO(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Vve(e,t,r){return(t=Wve(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Wve(e){var t=Kve(e,"string");return typeof t=="symbol"?t:t+""}function Kve(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Gve(e,t){if(e==null)return{};var r,n,a=Yve(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(n=0;n<s.length;n++)r=s[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}function Yve(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}function Xve(e,t){var{x:r,y:n}=e,a=Gve(e,Hve),s="".concat(r),l=parseInt(s,10),o="".concat(n),u=parseInt(o,10),d="".concat(t.height||a.height),h=parseInt(d,10),m="".concat(t.width||a.width),g=parseInt(m,10);return bx(bx(bx(bx(bx({},t),a),l?{x:l}:{}),u?{y:u}:{}),{},{height:h,width:g,name:t.name,radius:t.radius})}function FS(e){return k.createElement(BI,o_({shapeType:"rectangle",propTransformer:Xve,activeClassName:"recharts-active-bar"},e))}var Qve=function(t){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;return(n,a)=>{if(Qt(t))return t;var s=Qt(n)||pa(n);return s?t(n,a):(s||$ve(),r)}},Zve={},WI=oo({name:"errorBars",initialState:Zve,reducers:{addErrorBar:(e,t)=>{var{itemId:r,errorBar:n}=t.payload;e[r]||(e[r]=[]),e[r].push(n)},replaceErrorBar:(e,t)=>{var{itemId:r,prev:n,next:a}=t.payload;e[r]&&(e[r]=e[r].map(s=>s.dataKey===n.dataKey&&s.direction===n.direction?a:s))},removeErrorBar:(e,t)=>{var{itemId:r,errorBar:n}=t.payload;e[r]&&(e[r]=e[r].filter(a=>a.dataKey!==n.dataKey||a.direction!==n.direction))}}}),{addErrorBar:Zje,replaceErrorBar:Jje,removeErrorBar:e3e}=WI.actions,Jve=WI.reducer,eye=["children"];function tye(e,t){if(e==null)return{};var r,n,a=rye(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(n=0;n<s.length;n++)r=s[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}function rye(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}var nye={data:[],xAxisId:"xAxis-0",yAxisId:"yAxis-0",dataPointFormatter:()=>({x:0,y:0,value:0}),errorBarOffset:0},aye=k.createContext(nye);function KI(e){var{children:t}=e,r=tye(e,eye);return k.createElement(aye.Provider,{value:r},t)}function DS(e,t){var r,n,a=Ht(d=>Od(d,e)),s=Ht(d=>Fd(d,t)),l=(r=a?.allowDataOverflow)!==null&&r!==void 0?r:Wl.allowDataOverflow,o=(n=s?.allowDataOverflow)!==null&&n!==void 0?n:Kl.allowDataOverflow,u=l||o;return{needClip:u,needClipX:l,needClipY:o}}function GI(e){var{xAxisId:t,yAxisId:r,clipPathId:n}=e,a=OS(),{needClipX:s,needClipY:l,needClip:o}=DS(t,r);if(!o)return null;var{x:u,y:d,width:h,height:m}=a;return k.createElement("clipPath",{id:"clipPath-".concat(n)},k.createElement("rect",{x:s?u:u-h/2,y:l?d:d-m/2,width:s?h:h*2,height:l?m:m*2}))}var sye=["onMouseEnter","onMouseLeave","onClick"],iye=["value","background","tooltipPosition"],lye=["id"],oye=["onMouseEnter","onClick","onMouseLeave"];function Rf(){return Rf=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Rf.apply(null,arguments)}function UO(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function Ji(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?UO(Object(r),!0).forEach(function(n){cye(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):UO(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function cye(e,t,r){return(t=uye(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function uye(e){var t=dye(e,"string");return typeof t=="symbol"?t:t+""}function dye(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Yy(e,t){if(e==null)return{};var r,n,a=fye(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(n=0;n<s.length;n++)r=s[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}function fye(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}var hye=e=>{var{dataKey:t,name:r,fill:n,legendType:a,hide:s}=e;return[{inactive:s,dataKey:t,type:a,color:n,value:xp(r,t),payload:e}]};function mye(e){var{dataKey:t,stroke:r,strokeWidth:n,fill:a,name:s,hide:l,unit:o}=e;return{dataDefinedOnItem:void 0,positions:void 0,settings:{stroke:r,strokeWidth:n,fill:a,dataKey:t,nameKey:void 0,name:xp(s,t),hide:l,type:e.tooltipType,color:e.fill,unit:o}}}function pye(e){var t=Ht(Lf),{data:r,dataKey:n,background:a,allOtherBarProps:s}=e,{onMouseEnter:l,onMouseLeave:o,onClick:u}=s,d=Yy(s,sye),h=SS(l,n),m=AS(o),g=kS(u,n);if(!a||r==null)return null;var x=rh(a);return k.createElement(k.Fragment,null,r.map((b,v)=>{var{value:w,background:N,tooltipPosition:E}=b,j=Yy(b,iye);if(!N)return null;var T=h(b,v),O=m(b,v),D=g(b,v),C=Ji(Ji(Ji(Ji(Ji({option:a,isActive:String(v)===t},j),{},{fill:"#eee"},N),x),Bg(d,b,v)),{},{onMouseEnter:T,onMouseLeave:O,onClick:D,dataKey:n,index:v,className:"recharts-bar-background-rectangle"});return k.createElement(FS,Rf({key:"background-bar-".concat(v)},C))}))}function xye(e){var{showLabels:t,children:r,rects:n}=e,a=n?.map(s=>{var l={x:s.x,y:s.y,width:s.width,height:s.height};return Ji(Ji({},l),{},{value:s.value,payload:s.payload,parentViewBox:s.parentViewBox,viewBox:l,fill:s.fill})});return k.createElement(TI,{value:t?a:void 0},r)}function gye(e){var{shape:t,activeBar:r,baseProps:n,entry:a,index:s,dataKey:l}=e,o=Ht(Lf),u=Ht(dI),d=r&&String(s)===o&&(u==null||l===u),h=d?r:t;return k.createElement(FS,Rf({},n,{name:String(n.name)},a,{isActive:d,option:h,index:s,dataKey:l}))}function vye(e){var{shape:t,baseProps:r,entry:n,index:a,dataKey:s}=e;return k.createElement(FS,Rf({},r,{name:String(r.name)},n,{isActive:!1,option:t,index:a,dataKey:s}))}function yye(e){var{data:t,props:r}=e,n=ao(r),{id:a}=n,s=Yy(n,lye),{shape:l,dataKey:o,activeBar:u}=r,{onMouseEnter:d,onClick:h,onMouseLeave:m}=r,g=Yy(r,oye),x=SS(d,o),b=AS(m),v=kS(h,o);return t?k.createElement(k.Fragment,null,t.map((w,N)=>k.createElement(hi,Rf({key:"rectangle-".concat(w?.x,"-").concat(w?.y,"-").concat(w?.value,"-").concat(N),className:"recharts-bar-rectangle"},Bg(g,w,N),{onMouseEnter:x(w,N),onMouseLeave:b(w,N),onClick:v(w,N)}),u?k.createElement(gye,{shape:l,activeBar:u,baseProps:s,entry:w,index:N,dataKey:o}):k.createElement(vye,{shape:l,baseProps:s,entry:w,index:N,dataKey:o})))):null}function bye(e){var{props:t,previousRectanglesRef:r}=e,{data:n,layout:a,isAnimationActive:s,animationBegin:l,animationDuration:o,animationEasing:u,onAnimationEnd:d,onAnimationStart:h}=t,m=r.current,g=Hg(t,"recharts-bar-"),[x,b]=k.useState(!1),v=!x,w=k.useCallback(()=>{typeof d=="function"&&d(),b(!1)},[d]),N=k.useCallback(()=>{typeof h=="function"&&h(),b(!0)},[h]);return k.createElement(xye,{showLabels:v,rects:n},k.createElement($g,{animationId:g,begin:l,duration:o,isActive:s,easing:u,onAnimationEnd:w,onAnimationStart:N,key:g},E=>{var j=E===1?n:n?.map((T,O)=>{var D=m&&m[O];if(D)return Ji(Ji({},T),{},{x:Ra(D.x,T.x,E),y:Ra(D.y,T.y,E),width:Ra(D.width,T.width,E),height:Ra(D.height,T.height,E)});if(a==="horizontal"){var C=Ra(0,T.height,E);return Ji(Ji({},T),{},{y:T.y+T.height-C,height:C})}var P=Ra(0,T.width,E);return Ji(Ji({},T),{},{width:P})});return E>0&&(r.current=j??null),j==null?null:k.createElement(hi,null,k.createElement(yye,{props:t,data:j}))}),k.createElement(wS,{label:t.label}),t.children)}function wye(e){var t=k.useRef(null);return k.createElement(bye,{previousRectanglesRef:t,props:e})}var YI=0,Nye=(e,t)=>{var r=Array.isArray(e.value)?e.value[1]:e.value;return{x:e.x,y:e.y,value:r,errorVal:Kn(e,t)}};class _ye extends k.PureComponent{render(){var{hide:t,data:r,dataKey:n,className:a,xAxisId:s,yAxisId:l,needClip:o,background:u,id:d}=this.props;if(t||r==null)return null;var h=on("recharts-bar",a),m=d;return k.createElement(hi,{className:h,id:d},o&&k.createElement("defs",null,k.createElement(GI,{clipPathId:m,xAxisId:s,yAxisId:l})),k.createElement(hi,{className:"recharts-bar-rectangles",clipPath:o?"url(#clipPath-".concat(m,")"):void 0},k.createElement(pye,{data:r,dataKey:n,background:u,allOtherBarProps:this.props}),k.createElement(wye,this.props)))}}var jye={activeBar:!1,animationBegin:0,animationDuration:400,animationEasing:"ease",hide:!1,isAnimationActive:!Kf.isSsr,legendType:"rect",minPointSize:YI,xAxisId:0,yAxisId:0};function Sye(e){var{xAxisId:t,yAxisId:r,hide:n,legendType:a,minPointSize:s,activeBar:l,animationBegin:o,animationDuration:u,animationEasing:d,isAnimationActive:h}=e,{needClip:m}=DS(t,r),g=B2(),x=al(),b=jS(e.children,r1),v=Ht(E=>Jye(E,t,r,x,e.id,b));if(g!=="vertical"&&g!=="horizontal")return null;var w,N=v?.[0];return N==null||N.height==null||N.width==null?w=0:w=g==="vertical"?N.height/2:N.width/2,k.createElement(KI,{xAxisId:t,yAxisId:r,data:v,dataPointFormatter:Nye,errorBarOffset:w},k.createElement(_ye,Rf({},e,{layout:g,needClip:m,data:v,xAxisId:t,yAxisId:r,hide:n,legendType:a,minPointSize:s,activeBar:l,animationBegin:o,animationDuration:u,animationEasing:d,isAnimationActive:h})))}function Aye(e){var{layout:t,barSettings:{dataKey:r,minPointSize:n},pos:a,bandSize:s,xAxis:l,yAxis:o,xAxisTicks:u,yAxisTicks:d,stackedData:h,displayedData:m,offset:g,cells:x,parentViewBox:b}=e,v=t==="horizontal"?o:l,w=h?v.scale.domain():null,N=Nue({numericAxis:v});return m.map((E,j)=>{var T,O,D,C,P,B;h?T=xue(h[j],w):(T=Kn(E,r),Array.isArray(T)||(T=[N,T]));var H=Qve(n,YI)(T[1],j);if(t==="horizontal"){var L,[U,V]=[o.scale(T[0]),o.scale(T[1])];O=y8({axis:l,ticks:u,bandSize:s,offset:a.offset,entry:E,index:j}),D=(L=V??U)!==null&&L!==void 0?L:void 0,C=a.size;var Y=U-V;if(P=Ho(Y)?0:Y,B={x:O,y:g.top,width:C,height:g.height},Math.abs(H)>0&&Math.abs(P)<Math.abs(H)){var de=Ks(P||H)*(Math.abs(H)-Math.abs(P));D-=de,P+=de}}else{var[te,ie]=[l.scale(T[0]),l.scale(T[1])];if(O=te,D=y8({axis:o,ticks:d,bandSize:s,offset:a.offset,entry:E,index:j}),C=ie-te,P=a.size,B={x:g.left,y:D,width:g.width,height:P},Math.abs(H)>0&&Math.abs(C)<Math.abs(H)){var ge=Ks(C||H)*(Math.abs(H)-Math.abs(C));C+=ge}}if(O==null||D==null||C==null||P==null)return null;var oe=Ji(Ji({},E),{},{x:O,y:D,width:C,height:P,value:h?T:T[1],payload:E,background:B,tooltipPosition:{x:O+C/2,y:D+P/2},parentViewBox:b},x&&x[j]&&x[j].props);return oe}).filter(Boolean)}function kye(e){var t=mi(e,jye),r=al();return k.createElement(CS,{id:t.id,type:"bar"},n=>k.createElement(k.Fragment,null,k.createElement(zI,{legendPayload:hye(t)}),k.createElement(ES,{fn:mye,args:t}),k.createElement($I,{type:"bar",id:n,data:void 0,xAxisId:t.xAxisId,yAxisId:t.yAxisId,zAxisId:0,dataKey:t.dataKey,stackId:wue(t.stackId),hide:t.hide,barSize:t.barSize,minPointSize:t.minPointSize,maxBarSize:t.maxBarSize,isPanorama:r}),k.createElement(Sye,Rf({},t,{id:n}))))}var c_=k.memo(kye);c_.displayName="Bar";function zO(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function kv(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?zO(Object(r),!0).forEach(function(n){Eye(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):zO(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Eye(e,t,r){return(t=Cye(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Cye(e){var t=Tye(e,"string");return typeof t=="symbol"?t:t+""}function Tye(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Oye=(e,t)=>t,Fye=(e,t,r)=>r,Dye=(e,t,r,n)=>n,Pye=(e,t,r,n,a)=>a,n1=Ke([eb,Pye],(e,t)=>e.filter(r=>r.type==="bar").find(r=>r.id===t)),Lye=Ke([n1],e=>e?.maxBarSize),Mye=(e,t,r,n,a,s)=>s,qO=(e,t,r)=>{var n=r??e;if(!pa(n))return Pi(n,t,0)},Rye=Ke([Zr,eb,Oye,Fye,Dye],(e,t,r,n,a)=>t.filter(s=>e==="horizontal"?s.xAxisId===r:s.yAxisId===n).filter(s=>s.isPanorama===a).filter(s=>s.hide===!1).filter(s=>s.type==="bar")),Iye=(e,t,r,n)=>{var a=Zr(e);return a==="horizontal"?t_(e,"yAxis",r,n):t_(e,"xAxis",t,n)},Bye=(e,t,r)=>{var n=Zr(e);return n==="horizontal"?$T(e,"xAxis",t):$T(e,"yAxis",r)},Uye=(e,t,r)=>{var n={},a=e.filter(Q2),s=e.filter(d=>d.stackId==null),l=a.reduce((d,h)=>(d[h.stackId]||(d[h.stackId]=[]),d[h.stackId].push(h),d),n),o=Object.entries(l).map(d=>{var[h,m]=d,g=m.map(b=>b.dataKey),x=qO(t,r,m[0].barSize);return{stackId:h,dataKeys:g,barSize:x}}),u=s.map(d=>{var h=[d.dataKey].filter(g=>g!=null),m=qO(t,r,d.barSize);return{stackId:void 0,dataKeys:h,barSize:m}});return[...o,...u]},zye=Ke([Rye,wme,Bye],Uye),qye=(e,t,r,n,a)=>{var s,l,o=n1(e,t,r,n,a);if(o!=null){var u=Zr(e),d=d9(e),{maxBarSize:h}=o,m=pa(h)?d:h,g,x;return u==="horizontal"?(g=Pf(e,"xAxis",t,n),x=Df(e,"xAxis",t,n)):(g=Pf(e,"yAxis",r,n),x=Df(e,"yAxis",r,n)),(s=(l=hg(g,x,!0))!==null&&l!==void 0?l:m)!==null&&s!==void 0?s:0}},XI=(e,t,r,n)=>{var a=Zr(e),s,l;return a==="horizontal"?(s=Pf(e,"xAxis",t,n),l=Df(e,"xAxis",t,n)):(s=Pf(e,"yAxis",r,n),l=Df(e,"yAxis",r,n)),hg(s,l)};function $ye(e,t,r,n,a){var s=n.length;if(!(s<1)){var l=Pi(e,r,0,!0),o,u=[];if(Mi(n[0].barSize)){var d=!1,h=r/s,m=n.reduce((N,E)=>N+(E.barSize||0),0);m+=(s-1)*l,m>=r&&(m-=(s-1)*l,l=0),m>=r&&h>0&&(d=!0,h*=.9,m=s*h);var g=(r-m)/2>>0,x={offset:g-l,size:0};o=n.reduce((N,E)=>{var j,T={stackId:E.stackId,dataKeys:E.dataKeys,position:{offset:x.offset+x.size+l,size:d?h:(j=E.barSize)!==null&&j!==void 0?j:0}},O=[...N,T];return x=O[O.length-1].position,O},u)}else{var b=Pi(t,r,0,!0);r-2*b-(s-1)*l<=0&&(l=0);var v=(r-2*b-(s-1)*l)/s;v>1&&(v>>=0);var w=Mi(a)?Math.min(v,a):v;o=n.reduce((N,E,j)=>[...N,{stackId:E.stackId,dataKeys:E.dataKeys,position:{offset:b+(v+l)*j+(v-w)/2,size:w}}],u)}return o}}var Hye=(e,t,r,n,a,s,l)=>{var o=pa(l)?t:l,u=$ye(r,n,a!==s?a:s,e,o);return a!==s&&u!=null&&(u=u.map(d=>kv(kv({},d),{},{position:kv(kv({},d.position),{},{offset:d.position.offset-a/2})}))),u},Vye=Ke([zye,d9,bme,f9,qye,XI,Lye],Hye),Wye=(e,t,r,n)=>Pf(e,"xAxis",t,n),Kye=(e,t,r,n)=>Pf(e,"yAxis",r,n),Gye=(e,t,r,n)=>Df(e,"xAxis",t,n),Yye=(e,t,r,n)=>Df(e,"yAxis",r,n),Xye=Ke([Vye,n1],(e,t)=>{if(!(e==null||t==null)){var r=e.find(n=>n.stackId===t.stackId&&t.dataKey!=null&&n.dataKeys.includes(t.dataKey));if(r!=null)return r.position}}),Qye=(e,t)=>{var r=$3(t);if(!(!e||r==null||t==null)){var{stackId:n}=t;if(n!=null){var a=e[n];if(a){var{stackedData:s}=a;if(s)return s.find(l=>l.key===r)}}}},Zye=Ke([Iye,n1],Qye),Jye=Ke([Os,s3,Wye,Kye,Gye,Yye,Xye,Zr,K2,XI,Zye,n1,Mye],(e,t,r,n,a,s,l,o,u,d,h,m,g)=>{var{chartData:x,dataStartIndex:b,dataEndIndex:v}=u;if(!(m==null||l==null||t==null||o!=="horizontal"&&o!=="vertical"||r==null||n==null||a==null||s==null||d==null)){var{data:w}=m,N;if(w!=null&&w.length>0?N=w:N=x?.slice(b,v+1),N!=null)return Aye({layout:o,barSettings:m,pos:l,parentViewBox:t,bandSize:d,xAxis:r,yAxis:n,xAxisTicks:a,yAxisTicks:s,stackedData:h,displayedData:N,offset:e,cells:g})}}),QI=e=>{var{chartData:t}=e,r=xa(),n=al();return k.useEffect(()=>n?()=>{}:(r(JT(t)),()=>{r(JT(void 0))}),[t,r,n]),null},$O={x:0,y:0,width:0,height:0,padding:{top:0,right:0,bottom:0,left:0}},ZI=oo({name:"brush",initialState:$O,reducers:{setBrushSettings(e,t){return t.payload==null?$O:t.payload}}}),{setBrushSettings:t3e}=ZI.actions,e2e=ZI.reducer;function t2e(e,t,r){return(t=r2e(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function r2e(e){var t=n2e(e,"string");return typeof t=="symbol"?t:t+""}function n2e(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}class PS{static create(t){return new PS(t)}constructor(t){this.scale=t}get domain(){return this.scale.domain}get range(){return this.scale.range}get rangeMin(){return this.range()[0]}get rangeMax(){return this.range()[1]}get bandwidth(){return this.scale.bandwidth}apply(t){var{bandAware:r,position:n}=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(t!==void 0){if(n)switch(n){case"start":return this.scale(t);case"middle":{var a=this.bandwidth?this.bandwidth()/2:0;return this.scale(t)+a}case"end":{var s=this.bandwidth?this.bandwidth():0;return this.scale(t)+s}default:return this.scale(t)}if(r){var l=this.bandwidth?this.bandwidth()/2:0;return this.scale(t)+l}return this.scale(t)}}isInRange(t){var r=this.range(),n=r[0],a=r[r.length-1];return n<=a?t>=n&&t<=a:t>=a&&t<=n}}t2e(PS,"EPS",1e-4);function a2e(e){return(e%180+180)%180}var s2e=function(t){var{width:r,height:n}=t,a=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,s=a2e(a),l=s*Math.PI/180,o=Math.atan(n/r),u=l>o&&l<Math.PI-o?n/Math.sin(l):r/Math.cos(l);return Math.abs(u)},i2e={dots:[],areas:[],lines:[]},JI=oo({name:"referenceElements",initialState:i2e,reducers:{addDot:(e,t)=>{e.dots.push(t.payload)},removeDot:(e,t)=>{var r=dd(e).dots.findIndex(n=>n===t.payload);r!==-1&&e.dots.splice(r,1)},addArea:(e,t)=>{e.areas.push(t.payload)},removeArea:(e,t)=>{var r=dd(e).areas.findIndex(n=>n===t.payload);r!==-1&&e.areas.splice(r,1)},addLine:(e,t)=>{e.lines.push(t.payload)},removeLine:(e,t)=>{var r=dd(e).lines.findIndex(n=>n===t.payload);r!==-1&&e.lines.splice(r,1)}}}),{addDot:r3e,removeDot:n3e,addArea:a3e,removeArea:s3e,addLine:i3e,removeLine:l3e}=JI.actions,l2e=JI.reducer,o2e=k.createContext(void 0),c2e=e=>{var{children:t}=e,[r]=k.useState("".concat(cg("recharts"),"-clip")),n=OS();if(n==null)return null;var{x:a,y:s,width:l,height:o}=n;return k.createElement(o2e.Provider,{value:r},k.createElement("defs",null,k.createElement("clipPath",{id:r},k.createElement("rect",{x:a,y:s,height:o,width:l}))),t)};function np(e,t){for(var r in e)if({}.hasOwnProperty.call(e,r)&&(!{}.hasOwnProperty.call(t,r)||e[r]!==t[r]))return!1;for(var n in t)if({}.hasOwnProperty.call(t,n)&&!{}.hasOwnProperty.call(e,n))return!1;return!0}function eB(e,t,r){if(t<1)return[];if(t===1&&r===void 0)return e;for(var n=[],a=0;a<e.length;a+=t)n.push(e[a]);return n}function u2e(e,t,r){var n={width:e.width+t.width,height:e.height+t.height};return s2e(n,r)}function d2e(e,t,r){var n=r==="width",{x:a,y:s,width:l,height:o}=e;return t===1?{start:n?a:s,end:n?a+l:s+o}:{start:n?a+l:s+o,end:n?a:s}}function Xy(e,t,r,n,a){if(e*t<e*n||e*t>e*a)return!1;var s=r();return e*(t-e*s/2-n)>=0&&e*(t+e*s/2-a)<=0}function f2e(e,t){return eB(e,t+1)}function h2e(e,t,r,n,a){for(var s=(n||[]).slice(),{start:l,end:o}=t,u=0,d=1,h=l,m=function(){var b=n?.[u];if(b===void 0)return{v:eB(n,d)};var v=u,w,N=()=>(w===void 0&&(w=r(b,v)),w),E=b.coordinate,j=u===0||Xy(e,E,N,h,o);j||(u=0,h=l,d+=1),j&&(h=E+e*(N()/2+a),u+=d)},g;d<=s.length;)if(g=m(),g)return g.v;return[]}function HO(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function Si(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?HO(Object(r),!0).forEach(function(n){m2e(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):HO(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function m2e(e,t,r){return(t=p2e(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function p2e(e){var t=x2e(e,"string");return typeof t=="symbol"?t:t+""}function x2e(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function g2e(e,t,r,n,a){for(var s=(n||[]).slice(),l=s.length,{start:o}=t,{end:u}=t,d=function(g){var x=s[g],b,v=()=>(b===void 0&&(b=r(x,g)),b);if(g===l-1){var w=e*(x.coordinate+e*v()/2-u);s[g]=x=Si(Si({},x),{},{tickCoord:w>0?x.coordinate-w*e:x.coordinate})}else s[g]=x=Si(Si({},x),{},{tickCoord:x.coordinate});var N=Xy(e,x.tickCoord,v,o,u);N&&(u=x.tickCoord-e*(v()/2+a),s[g]=Si(Si({},x),{},{isShow:!0}))},h=l-1;h>=0;h--)d(h);return s}function v2e(e,t,r,n,a,s){var l=(n||[]).slice(),o=l.length,{start:u,end:d}=t;if(s){var h=n[o-1],m=r(h,o-1),g=e*(h.coordinate+e*m/2-d);l[o-1]=h=Si(Si({},h),{},{tickCoord:g>0?h.coordinate-g*e:h.coordinate});var x=Xy(e,h.tickCoord,()=>m,u,d);x&&(d=h.tickCoord-e*(m/2+a),l[o-1]=Si(Si({},h),{},{isShow:!0}))}for(var b=s?o-1:o,v=function(E){var j=l[E],T,O=()=>(T===void 0&&(T=r(j,E)),T);if(E===0){var D=e*(j.coordinate-e*O()/2-u);l[E]=j=Si(Si({},j),{},{tickCoord:D<0?j.coordinate-D*e:j.coordinate})}else l[E]=j=Si(Si({},j),{},{tickCoord:j.coordinate});var C=Xy(e,j.tickCoord,O,u,d);C&&(u=j.tickCoord+e*(O()/2+a),l[E]=Si(Si({},j),{},{isShow:!0}))},w=0;w<b;w++)v(w);return l}function LS(e,t,r){var{tick:n,ticks:a,viewBox:s,minTickGap:l,orientation:o,interval:u,tickFormatter:d,unit:h,angle:m}=e;if(!a||!a.length||!n)return[];if(Qt(u)||Kf.isSsr){var g;return(g=f2e(a,Qt(u)?u:0))!==null&&g!==void 0?g:[]}var x=[],b=o==="top"||o==="bottom"?"width":"height",v=h&&b==="width"?Ix(h,{fontSize:t,letterSpacing:r}):{width:0,height:0},w=(j,T)=>{var O=typeof d=="function"?d(j.value,T):j.value;return b==="width"?u2e(Ix(O,{fontSize:t,letterSpacing:r}),v,m):Ix(O,{fontSize:t,letterSpacing:r})[b]},N=a.length>=2?Ks(a[1].coordinate-a[0].coordinate):1,E=d2e(s,N,b);return u==="equidistantPreserveStart"?h2e(N,E,w,a,l):(u==="preserveStart"||u==="preserveStartEnd"?x=v2e(N,E,w,a,l,u==="preserveStartEnd"):x=g2e(N,E,w,a,l),x.filter(j=>j.isShow))}var y2e=e=>{var{ticks:t,label:r,labelGapWithTick:n=5,tickSize:a=0,tickMargin:s=0}=e,l=0;if(t){Array.from(t).forEach(h=>{if(h){var m=h.getBoundingClientRect();m.width>l&&(l=m.width)}});var o=r?r.getBoundingClientRect().width:0,u=a+s,d=l+u+o+(r?n:0);return Math.round(d)}return 0},b2e=["axisLine","width","height","className","hide","ticks"],w2e=["viewBox"],N2e=["viewBox"];function u_(e,t){if(e==null)return{};var r,n,a=_2e(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(n=0;n<s.length;n++)r=s[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}function _2e(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}function oh(){return oh=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},oh.apply(null,arguments)}function VO(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function Ss(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?VO(Object(r),!0).forEach(function(n){j2e(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):VO(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function j2e(e,t,r){return(t=S2e(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function S2e(e){var t=A2e(e,"string");return typeof t=="symbol"?t:t+""}function A2e(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var MS={x:0,y:0,width:0,height:0,viewBox:{x:0,y:0,width:0,height:0},orientation:"bottom",ticks:[],stroke:"#666",tickLine:!0,axisLine:!0,tick:!0,mirror:!1,minTickGap:5,tickSize:6,tickMargin:2,interval:"preserveEnd"};function k2e(e){var{x:t,y:r,width:n,height:a,orientation:s,mirror:l,axisLine:o,otherSvgProps:u}=e;if(!o)return null;var d=Ss(Ss(Ss({},u),ao(o)),{},{fill:"none"});if(s==="top"||s==="bottom"){var h=+(s==="top"&&!l||s==="bottom"&&l);d=Ss(Ss({},d),{},{x1:t,y1:r+h*a,x2:t+n,y2:r+h*a})}else{var m=+(s==="left"&&!l||s==="right"&&l);d=Ss(Ss({},d),{},{x1:t+m*n,y1:r,x2:t+m*n,y2:r+a})}return k.createElement("line",oh({},d,{className:on("recharts-cartesian-axis-line",nh(o,"className"))}))}function E2e(e,t,r,n,a,s,l,o,u){var d,h,m,g,x,b,v=o?-1:1,w=e.tickSize||l,N=Qt(e.tickCoord)?e.tickCoord:e.coordinate;switch(s){case"top":d=h=e.coordinate,g=r+ +!o*a,m=g-v*w,b=m-v*u,x=N;break;case"left":m=g=e.coordinate,h=t+ +!o*n,d=h-v*w,x=d-v*u,b=N;break;case"right":m=g=e.coordinate,h=t+ +o*n,d=h+v*w,x=d+v*u,b=N;break;default:d=h=e.coordinate,g=r+ +o*a,m=g+v*w,b=m+v*u,x=N;break}return{line:{x1:d,y1:m,x2:h,y2:g},tick:{x,y:b}}}function C2e(e,t){switch(e){case"left":return t?"start":"end";case"right":return t?"end":"start";default:return"middle"}}function T2e(e,t){switch(e){case"left":case"right":return"middle";case"top":return t?"start":"end";default:return t?"end":"start"}}function O2e(e){var{option:t,tickProps:r,value:n}=e,a,s=on(r.className,"recharts-cartesian-axis-tick-value");if(k.isValidElement(t))a=k.cloneElement(t,Ss(Ss({},r),{},{className:s}));else if(typeof t=="function")a=t(Ss(Ss({},r),{},{className:s}));else{var l="recharts-cartesian-axis-tick-value";typeof t!="boolean"&&(l=on(l,t?.className)),a=k.createElement(ib,oh({},r,{className:l}),n)}return a}function F2e(e){var{ticks:t=[],tick:r,tickLine:n,stroke:a,tickFormatter:s,unit:l,padding:o,tickTextProps:u,orientation:d,mirror:h,x:m,y:g,width:x,height:b,tickSize:v,tickMargin:w,fontSize:N,letterSpacing:E,getTicksConfig:j,events:T}=e,O=LS(Ss(Ss({},j),{},{ticks:t}),N,E),D=C2e(d,h),C=T2e(d,h),P=ao(j),B=rh(r),H={};typeof n=="object"&&(H=n);var L=Ss(Ss({},P),{},{fill:"none"},H),U=O.map((V,Y)=>{var{line:de,tick:te}=E2e(V,m,g,x,b,d,v,h,w),ie=Ss(Ss(Ss(Ss({textAnchor:D,verticalAnchor:C},P),{},{stroke:"none",fill:a},B),te),{},{index:Y,payload:V,visibleTicksCount:O.length,tickFormatter:s,padding:o},u);return k.createElement(hi,oh({className:"recharts-cartesian-axis-tick",key:"tick-".concat(V.value,"-").concat(V.coordinate,"-").concat(V.tickCoord)},Bg(T,V,Y)),n&&k.createElement("line",oh({},L,de,{className:on("recharts-cartesian-axis-tick-line",nh(n,"className"))})),r&&k.createElement(O2e,{option:r,tickProps:ie,value:"".concat(typeof s=="function"?s(V.value,Y):V.value).concat(l||"")}))});return U.length>0?k.createElement("g",{className:"recharts-cartesian-axis-ticks"},U):null}var D2e=k.forwardRef((e,t)=>{var{axisLine:r,width:n,height:a,className:s,hide:l,ticks:o}=e,u=u_(e,b2e),[d,h]=k.useState(""),[m,g]=k.useState(""),x=k.useRef(null);k.useImperativeHandle(t,()=>({getCalculatedWidth:()=>{var v;return y2e({ticks:x.current,label:(v=e.labelRef)===null||v===void 0?void 0:v.current,labelGapWithTick:5,tickSize:e.tickSize,tickMargin:e.tickMargin})}}));var b=k.useCallback(v=>{if(v){var w=v.getElementsByClassName("recharts-cartesian-axis-tick-value");x.current=w;var N=w[0];if(N){var E=window.getComputedStyle(N),j=E.fontSize,T=E.letterSpacing;(j!==d||T!==m)&&(h(j),g(T))}}},[d,m]);return l||n!=null&&n<=0||a!=null&&a<=0?null:k.createElement(hi,{className:on("recharts-cartesian-axis",s),ref:b},k.createElement(k2e,{x:e.x,y:e.y,width:n,height:a,orientation:e.orientation,mirror:e.mirror,axisLine:r,otherSvgProps:ao(e)}),k.createElement(F2e,{ticks:o,tick:e.tick,tickLine:e.tickLine,stroke:e.stroke,tickFormatter:e.tickFormatter,unit:e.unit,padding:e.padding,tickTextProps:e.tickTextProps,orientation:e.orientation,mirror:e.mirror,x:e.x,y:e.y,width:e.width,height:e.height,tickSize:e.tickSize,tickMargin:e.tickMargin,fontSize:d,letterSpacing:m,getTicksConfig:e,events:u}),k.createElement(Lge,{x:e.x,y:e.y,width:e.width,height:e.height},k.createElement(Vge,{label:e.label,labelRef:e.labelRef}),e.children))}),P2e=k.memo(D2e,(e,t)=>{var{viewBox:r}=e,n=u_(e,w2e),{viewBox:a}=t,s=u_(t,N2e);return np(r,a)&&np(n,s)}),RS=k.forwardRef((e,t)=>{var r=mi(e,MS);return k.createElement(P2e,oh({},r,{ref:t}))});RS.displayName="CartesianAxis";var L2e=["x1","y1","x2","y2","key"],M2e=["offset"],R2e=["xAxisId","yAxisId"],I2e=["xAxisId","yAxisId"];function WO(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function Ci(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?WO(Object(r),!0).forEach(function(n){B2e(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):WO(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function B2e(e,t,r){return(t=U2e(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function U2e(e){var t=z2e(e,"string");return typeof t=="symbol"?t:t+""}function z2e(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function P0(){return P0=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},P0.apply(null,arguments)}function Qy(e,t){if(e==null)return{};var r,n,a=q2e(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(n=0;n<s.length;n++)r=s[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}function q2e(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}var $2e=e=>{var{fill:t}=e;if(!t||t==="none")return null;var{fillOpacity:r,x:n,y:a,width:s,height:l,ry:o}=e;return k.createElement("rect",{x:n,y:a,ry:o,width:s,height:l,stroke:"none",fill:t,fillOpacity:r,className:"recharts-cartesian-grid-bg"})};function tB(e,t){var r;if(k.isValidElement(e))r=k.cloneElement(e,t);else if(typeof e=="function")r=e(t);else{var{x1:n,y1:a,x2:s,y2:l,key:o}=t,u=Qy(t,L2e),d=ao(u),{offset:h}=d,m=Qy(d,M2e);r=k.createElement("line",P0({},m,{x1:n,y1:a,x2:s,y2:l,fill:"none",key:o}))}return r}function H2e(e){var{x:t,width:r,horizontal:n=!0,horizontalPoints:a}=e;if(!n||!a||!a.length)return null;var{xAxisId:s,yAxisId:l}=e,o=Qy(e,R2e),u=a.map((d,h)=>{var m=Ci(Ci({},o),{},{x1:t,y1:d,x2:t+r,y2:d,key:"line-".concat(h),index:h});return tB(n,m)});return k.createElement("g",{className:"recharts-cartesian-grid-horizontal"},u)}function V2e(e){var{y:t,height:r,vertical:n=!0,verticalPoints:a}=e;if(!n||!a||!a.length)return null;var{xAxisId:s,yAxisId:l}=e,o=Qy(e,I2e),u=a.map((d,h)=>{var m=Ci(Ci({},o),{},{x1:d,y1:t,x2:d,y2:t+r,key:"line-".concat(h),index:h});return tB(n,m)});return k.createElement("g",{className:"recharts-cartesian-grid-vertical"},u)}function W2e(e){var{horizontalFill:t,fillOpacity:r,x:n,y:a,width:s,height:l,horizontalPoints:o,horizontal:u=!0}=e;if(!u||!t||!t.length)return null;var d=o.map(m=>Math.round(m+a-a)).sort((m,g)=>m-g);a!==d[0]&&d.unshift(0);var h=d.map((m,g)=>{var x=!d[g+1],b=x?a+l-m:d[g+1]-m;if(b<=0)return null;var v=g%t.length;return k.createElement("rect",{key:"react-".concat(g),y:m,x:n,height:b,width:s,stroke:"none",fill:t[v],fillOpacity:r,className:"recharts-cartesian-grid-bg"})});return k.createElement("g",{className:"recharts-cartesian-gridstripes-horizontal"},h)}function K2e(e){var{vertical:t=!0,verticalFill:r,fillOpacity:n,x:a,y:s,width:l,height:o,verticalPoints:u}=e;if(!t||!r||!r.length)return null;var d=u.map(m=>Math.round(m+a-a)).sort((m,g)=>m-g);a!==d[0]&&d.unshift(0);var h=d.map((m,g)=>{var x=!d[g+1],b=x?a+l-m:d[g+1]-m;if(b<=0)return null;var v=g%r.length;return k.createElement("rect",{key:"react-".concat(g),x:m,y:s,width:b,height:o,stroke:"none",fill:r[v],fillOpacity:n,className:"recharts-cartesian-grid-bg"})});return k.createElement("g",{className:"recharts-cartesian-gridstripes-vertical"},h)}var G2e=(e,t)=>{var{xAxis:r,width:n,height:a,offset:s}=e;return GM(LS(Ci(Ci(Ci({},MS),r),{},{ticks:YM(r),viewBox:{x:0,y:0,width:n,height:a}})),s.left,s.left+s.width,t)},Y2e=(e,t)=>{var{yAxis:r,width:n,height:a,offset:s}=e;return GM(LS(Ci(Ci(Ci({},MS),r),{},{ticks:YM(r),viewBox:{x:0,y:0,width:n,height:a}})),s.top,s.top+s.height,t)},X2e={horizontal:!0,vertical:!0,horizontalPoints:[],verticalPoints:[],stroke:"#ccc",fill:"none",verticalFill:[],horizontalFill:[],xAxisId:0,yAxisId:0};function d_(e){var t=l3(),r=o3(),n=rR(),a=Ci(Ci({},mi(e,X2e)),{},{x:Qt(e.x)?e.x:n.left,y:Qt(e.y)?e.y:n.top,width:Qt(e.width)?e.width:n.width,height:Qt(e.height)?e.height:n.height}),{xAxisId:s,yAxisId:l,x:o,y:u,width:d,height:h,syncWithTicks:m,horizontalValues:g,verticalValues:x}=a,b=al(),v=Ht(B=>HT(B,"xAxis",s,b)),w=Ht(B=>HT(B,"yAxis",l,b));if(!Qt(d)||d<=0||!Qt(h)||h<=0||!Qt(o)||o!==+o||!Qt(u)||u!==+u)return null;var N=a.verticalCoordinatesGenerator||G2e,E=a.horizontalCoordinatesGenerator||Y2e,{horizontalPoints:j,verticalPoints:T}=a;if((!j||!j.length)&&typeof E=="function"){var O=g&&g.length,D=E({yAxis:w?Ci(Ci({},w),{},{ticks:O?g:w.ticks}):void 0,width:t,height:r,offset:n},O?!0:m);Cy(Array.isArray(D),"horizontalCoordinatesGenerator should return Array but instead it returned [".concat(typeof D,"]")),Array.isArray(D)&&(j=D)}if((!T||!T.length)&&typeof N=="function"){var C=x&&x.length,P=N({xAxis:v?Ci(Ci({},v),{},{ticks:C?x:v.ticks}):void 0,width:t,height:r,offset:n},C?!0:m);Cy(Array.isArray(P),"verticalCoordinatesGenerator should return Array but instead it returned [".concat(typeof P,"]")),Array.isArray(P)&&(T=P)}return k.createElement("g",{className:"recharts-cartesian-grid"},k.createElement($2e,{fill:a.fill,fillOpacity:a.fillOpacity,x:a.x,y:a.y,width:a.width,height:a.height,ry:a.ry}),k.createElement(W2e,P0({},a,{horizontalPoints:j})),k.createElement(K2e,P0({},a,{verticalPoints:T})),k.createElement(H2e,P0({},a,{offset:n,horizontalPoints:j,xAxis:v,yAxis:w})),k.createElement(V2e,P0({},a,{offset:n,verticalPoints:T,xAxis:v,yAxis:w})))}d_.displayName="CartesianGrid";var rB=(e,t,r,n)=>Pf(e,"xAxis",t,n),nB=(e,t,r,n)=>Df(e,"xAxis",t,n),aB=(e,t,r,n)=>Pf(e,"yAxis",r,n),sB=(e,t,r,n)=>Df(e,"yAxis",r,n),Q2e=Ke([Zr,rB,aB,nB,sB],(e,t,r,n,a)=>Wf(e,"xAxis")?hg(t,n,!1):hg(r,a,!1)),Z2e=(e,t,r,n,a)=>a;function J2e(e){return e.type==="line"}var ebe=Ke([eb,Z2e],(e,t)=>e.filter(J2e).find(r=>r.id===t)),tbe=Ke([Zr,rB,aB,nB,sB,ebe,Q2e,K2],(e,t,r,n,a,s,l,o)=>{var{chartData:u,dataStartIndex:d,dataEndIndex:h}=o;if(!(s==null||t==null||r==null||n==null||a==null||n.length===0||a.length===0||l==null)){var{dataKey:m,data:g}=s,x;if(g!=null&&g.length>0?x=g:x=u?.slice(d,h+1),x!=null)return jbe({layout:e,xAxis:t,yAxis:r,xAxisTicks:n,yAxisTicks:a,dataKey:m,bandSize:l,displayedData:x})}});function rbe(e){var t=rh(e),r=3,n=2;if(t!=null){var{r:a,strokeWidth:s}=t,l=Number(a),o=Number(s);return(Number.isNaN(l)||l<0)&&(l=r),(Number.isNaN(o)||o<0)&&(o=n),{r:l,strokeWidth:o}}return{r,strokeWidth:n}}var nbe=["id"],abe=["type","layout","connectNulls","needClip"],sbe=["activeDot","animateNewValues","animationBegin","animationDuration","animationEasing","connectNulls","dot","hide","isAnimationActive","label","legendType","xAxisId","yAxisId","id"];function KO(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function Ql(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?KO(Object(r),!0).forEach(function(n){ibe(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):KO(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function ibe(e,t,r){return(t=lbe(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function lbe(e){var t=obe(e,"string");return typeof t=="symbol"?t:t+""}function obe(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function IS(e,t){if(e==null)return{};var r,n,a=cbe(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(n=0;n<s.length;n++)r=s[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}function cbe(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}function ch(){return ch=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},ch.apply(null,arguments)}var ube=e=>{var{dataKey:t,name:r,stroke:n,legendType:a,hide:s}=e;return[{inactive:s,dataKey:t,type:a,color:n,value:xp(r,t),payload:e}]};function dbe(e){var{dataKey:t,data:r,stroke:n,strokeWidth:a,fill:s,name:l,hide:o,unit:u}=e;return{dataDefinedOnItem:r,positions:void 0,settings:{stroke:n,strokeWidth:a,fill:s,dataKey:t,nameKey:void 0,name:xp(l,t),hide:o,type:e.tooltipType,color:e.stroke,unit:u}}}var iB=(e,t)=>"".concat(t,"px ").concat(e-t,"px");function fbe(e,t){for(var r=e.length%2!==0?[...e,0]:e,n=[],a=0;a<t;++a)n=[...n,...r];return n}var hbe=(e,t,r)=>{var n=r.reduce((m,g)=>m+g);if(!n)return iB(t,e);for(var a=Math.floor(e/n),s=e%n,l=t-e,o=[],u=0,d=0;u<r.length;d+=r[u],++u)if(d+r[u]>s){o=[...r.slice(0,u),s-d];break}var h=o.length%2===0?[0,l]:[l];return[...fbe(r,a),...o,...h].map(m=>"".concat(m,"px")).join(", ")};function mbe(e,t){var r;if(k.isValidElement(e))r=k.cloneElement(e,t);else if(typeof e=="function")r=e(t);else{var n=on("recharts-line-dot",typeof e!="boolean"?e.className:"");r=k.createElement(FI,ch({},t,{className:n}))}return r}function pbe(e,t){return e==null?!1:t?!0:e.length===1}function xbe(e){var{clipPathId:t,points:r,props:n}=e,{dot:a,dataKey:s,needClip:l}=n;if(!pbe(r,a))return null;var{id:o}=n,u=IS(n,nbe),d=II(a),h=ao(u),m=sle(a),g=r.map((b,v)=>{var w=Ql(Ql(Ql({key:"dot-".concat(v),r:3},h),m),{},{index:v,cx:b.x,cy:b.y,dataKey:s,value:b.value,payload:b.payload,points:r});return mbe(a,w)}),x={clipPath:l?"url(#clipPath-".concat(d?"":"dots-").concat(t,")"):void 0};return k.createElement(hi,ch({className:"recharts-line-dots",key:"dots"},x),g)}function gbe(e){var{showLabels:t,children:r,points:n}=e,a=k.useMemo(()=>n?.map(s=>{var l={x:s.x,y:s.y,width:0,height:0};return Ql(Ql({},l),{},{value:s.value,payload:s.payload,viewBox:l,parentViewBox:void 0,fill:void 0})}),[n]);return k.createElement(TI,{value:t?a:null},r)}function GO(e){var{clipPathId:t,pathRef:r,points:n,strokeDasharray:a,props:s}=e,{type:l,layout:o,connectNulls:u,needClip:d}=s,h=IS(s,abe),m=Ql(Ql({},nl(h)),{},{fill:"none",className:"recharts-line-curve",clipPath:d?"url(#clipPath-".concat(t,")"):void 0,points:n,type:l,layout:o,connectNulls:u,strokeDasharray:a??s.strokeDasharray});return k.createElement(k.Fragment,null,n?.length>1&&k.createElement(u3,ch({},m,{pathRef:r})),k.createElement(xbe,{points:n,clipPathId:t,props:s}))}function vbe(e){try{return e&&e.getTotalLength&&e.getTotalLength()||0}catch{return 0}}function ybe(e){var{clipPathId:t,props:r,pathRef:n,previousPointsRef:a,longestAnimatedLengthRef:s}=e,{points:l,strokeDasharray:o,isAnimationActive:u,animationBegin:d,animationDuration:h,animationEasing:m,animateNewValues:g,width:x,height:b,onAnimationEnd:v,onAnimationStart:w}=r,N=a.current,E=Hg(r,"recharts-line-"),[j,T]=k.useState(!1),O=!j,D=k.useCallback(()=>{typeof v=="function"&&v(),T(!1)},[v]),C=k.useCallback(()=>{typeof w=="function"&&w(),T(!0)},[w]),P=vbe(n.current),B=s.current;return k.createElement(gbe,{points:l,showLabels:O},r.children,k.createElement($g,{animationId:E,begin:d,duration:h,isActive:u,easing:m,onAnimationEnd:D,onAnimationStart:C,key:E},H=>{var L=Ra(B,P+B,H),U=Math.min(L,P),V;if(u)if(o){var Y="".concat(o).split(/[,\s]+/gim).map(ie=>parseFloat(ie));V=hbe(U,P,Y)}else V=iB(P,U);else V=o==null?void 0:String(o);if(N){var de=N.length/l.length,te=H===1?l:l.map((ie,ge)=>{var oe=Math.floor(ge*de);if(N[oe]){var Se=N[oe];return Ql(Ql({},ie),{},{x:Ra(Se.x,ie.x,H),y:Ra(Se.y,ie.y,H)})}return g?Ql(Ql({},ie),{},{x:Ra(x*2,ie.x,H),y:Ra(b/2,ie.y,H)}):Ql(Ql({},ie),{},{x:ie.x,y:ie.y})});return a.current=te,k.createElement(GO,{props:r,points:te,clipPathId:t,pathRef:n,strokeDasharray:V})}return H>0&&P>0&&(a.current=l,s.current=U),k.createElement(GO,{props:r,points:l,clipPathId:t,pathRef:n,strokeDasharray:V})}),k.createElement(wS,{label:r.label}))}function bbe(e){var{clipPathId:t,props:r}=e,n=k.useRef(null),a=k.useRef(0),s=k.useRef(null);return k.createElement(ybe,{props:r,clipPathId:t,previousPointsRef:n,longestAnimatedLengthRef:a,pathRef:s})}var wbe=(e,t)=>({x:e.x,y:e.y,value:e.value,errorVal:Kn(e.payload,t)});class Nbe extends k.Component{render(){var{hide:t,dot:r,points:n,className:a,xAxisId:s,yAxisId:l,top:o,left:u,width:d,height:h,id:m,needClip:g}=this.props;if(t)return null;var x=on("recharts-line",a),b=m,{r:v,strokeWidth:w}=rbe(r),N=II(r),E=v*2+w;return k.createElement(k.Fragment,null,k.createElement(hi,{className:x},g&&k.createElement("defs",null,k.createElement(GI,{clipPathId:b,xAxisId:s,yAxisId:l}),!N&&k.createElement("clipPath",{id:"clipPath-dots-".concat(b)},k.createElement("rect",{x:u-E/2,y:o-E/2,width:d+E,height:h+E}))),k.createElement(KI,{xAxisId:s,yAxisId:l,data:n,dataPointFormatter:wbe,errorBarOffset:0},k.createElement(bbe,{props:this.props,clipPathId:b}))),k.createElement(zve,{activeDot:this.props.activeDot,points:n,mainColor:this.props.stroke,itemDataKey:this.props.dataKey}))}}var lB={activeDot:!0,animateNewValues:!0,animationBegin:0,animationDuration:1500,animationEasing:"ease",connectNulls:!1,dot:!0,fill:"#fff",hide:!1,isAnimationActive:!Kf.isSsr,label:!1,legendType:"line",stroke:"#3182bd",strokeWidth:1,xAxisId:0,yAxisId:0};function _be(e){var t=mi(e,lB),{activeDot:r,animateNewValues:n,animationBegin:a,animationDuration:s,animationEasing:l,connectNulls:o,dot:u,hide:d,isAnimationActive:h,label:m,legendType:g,xAxisId:x,yAxisId:b,id:v}=t,w=IS(t,sbe),{needClip:N}=DS(x,b),E=OS(),j=B2(),T=al(),O=Ht(H=>tbe(H,x,b,T,v));if(j!=="horizontal"&&j!=="vertical"||O==null||E==null)return null;var{height:D,width:C,x:P,y:B}=E;return k.createElement(Nbe,ch({},w,{id:v,connectNulls:o,dot:u,activeDot:r,animateNewValues:n,animationBegin:a,animationDuration:s,animationEasing:l,isAnimationActive:h,hide:d,label:m,legendType:g,xAxisId:x,yAxisId:b,points:O,layout:j,height:D,width:C,left:P,top:B,needClip:N}))}function jbe(e){var{layout:t,xAxis:r,yAxis:n,xAxisTicks:a,yAxisTicks:s,dataKey:l,bandSize:o,displayedData:u}=e;return u.map((d,h)=>{var m=Kn(d,l);if(t==="horizontal"){var g=v8({axis:r,ticks:a,bandSize:o,entry:d,index:h}),x=pa(m)?null:n.scale(m);return{x:g,y:x,value:m,payload:d}}var b=pa(m)?null:r.scale(m),v=v8({axis:n,ticks:s,bandSize:o,entry:d,index:h});return b==null||v==null?null:{x:b,y:v,value:m,payload:d}}).filter(Boolean)}function Sbe(e){var t=mi(e,lB),r=al();return k.createElement(CS,{id:t.id,type:"line"},n=>k.createElement(k.Fragment,null,k.createElement(zI,{legendPayload:ube(t)}),k.createElement(ES,{fn:dbe,args:t}),k.createElement($I,{type:"line",id:n,data:t.data,xAxisId:t.xAxisId,yAxisId:t.yAxisId,zAxisId:0,dataKey:t.dataKey,hide:t.hide,isPanorama:r}),k.createElement(_be,ch({},t,{id:n}))))}var f_=k.memo(Sbe);f_.displayName="Line";var Abe=["dangerouslySetInnerHTML","ticks"],kbe=["id"],Ebe=["domain"],Cbe=["domain"];function h_(){return h_=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},h_.apply(null,arguments)}function Zy(e,t){if(e==null)return{};var r,n,a=Tbe(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(n=0;n<s.length;n++)r=s[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}function Tbe(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}function Obe(e){var t=xa();return k.useLayoutEffect(()=>(t(Eve(e)),()=>{t(Cve(e))}),[e,t]),null}var Fbe=e=>{var{xAxisId:t,className:r}=e,n=Ht(s3),a=al(),s="xAxis",l=Ht(w=>jp(w,s,t,a)),o=Ht(w=>H9(w,s,t,a)),u=Ht(w=>U9(w,t)),d=Ht(w=>ppe(w,t)),h=Ht(w=>w9(w,t));if(u==null||d==null||h==null)return null;var{dangerouslySetInnerHTML:m,ticks:g}=e,x=Zy(e,Abe),{id:b}=h,v=Zy(h,kbe);return k.createElement(RS,h_({},x,v,{scale:l,x:d.x,y:d.y,width:u.width,height:u.height,className:on("recharts-".concat(s," ").concat(s),r),viewBox:n,ticks:o}))},Dbe={allowDataOverflow:Wl.allowDataOverflow,allowDecimals:Wl.allowDecimals,allowDuplicatedCategory:Wl.allowDuplicatedCategory,height:Wl.height,hide:!1,mirror:Wl.mirror,orientation:Wl.orientation,padding:Wl.padding,reversed:Wl.reversed,scale:Wl.scale,tickCount:Wl.tickCount,type:Wl.type,xAxisId:0},Pbe=e=>{var t,r,n,a,s,l=mi(e,Dbe);return k.createElement(k.Fragment,null,k.createElement(Obe,{interval:(t=l.interval)!==null&&t!==void 0?t:"preserveEnd",id:l.xAxisId,scale:l.scale,type:l.type,padding:l.padding,allowDataOverflow:l.allowDataOverflow,domain:l.domain,dataKey:l.dataKey,allowDuplicatedCategory:l.allowDuplicatedCategory,allowDecimals:l.allowDecimals,tickCount:l.tickCount,includeHidden:(r=l.includeHidden)!==null&&r!==void 0?r:!1,reversed:l.reversed,ticks:l.ticks,height:l.height,orientation:l.orientation,mirror:l.mirror,hide:l.hide,unit:l.unit,name:l.name,angle:(n=l.angle)!==null&&n!==void 0?n:0,minTickGap:(a=l.minTickGap)!==null&&a!==void 0?a:5,tick:(s=l.tick)!==null&&s!==void 0?s:!0,tickFormatter:l.tickFormatter}),k.createElement(Fbe,l))},Lbe=(e,t)=>{var{domain:r}=e,n=Zy(e,Ebe),{domain:a}=t,s=Zy(t,Cbe);return np(n,s)?Array.isArray(r)&&r.length===2&&Array.isArray(a)&&a.length===2?r[0]===a[0]&&r[1]===a[1]:np({domain:r},{domain:a}):!1},m_=k.memo(Pbe,Lbe);m_.displayName="XAxis";var Mbe=["dangerouslySetInnerHTML","ticks"],Rbe=["id"],Ibe=["domain"],Bbe=["domain"];function p_(){return p_=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},p_.apply(null,arguments)}function Jy(e,t){if(e==null)return{};var r,n,a=Ube(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(n=0;n<s.length;n++)r=s[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}function Ube(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}function zbe(e){var t=xa();return k.useLayoutEffect(()=>(t(Tve(e)),()=>{t(Ove(e))}),[e,t]),null}var qbe=e=>{var{yAxisId:t,className:r,width:n,label:a}=e,s=k.useRef(null),l=k.useRef(null),o=Ht(s3),u=al(),d=xa(),h="yAxis",m=Ht(O=>jp(O,h,t,u)),g=Ht(O=>z9(O,t)),x=Ht(O=>gpe(O,t)),b=Ht(O=>H9(O,h,t,u)),v=Ht(O=>N9(O,t));if(k.useLayoutEffect(()=>{if(!(n!=="auto"||!g||bS(a)||k.isValidElement(a)||v==null)){var O=s.current;if(O){var D=O.getCalculatedWidth();Math.round(g.width)!==Math.round(D)&&d(Fve({id:t,width:D}))}}},[b,g,d,a,t,n,v]),g==null||x==null||v==null)return null;var{dangerouslySetInnerHTML:w,ticks:N}=e,E=Jy(e,Mbe),{id:j}=v,T=Jy(v,Rbe);return k.createElement(RS,p_({},E,T,{ref:s,labelRef:l,scale:m,x:x.x,y:x.y,tickTextProps:n==="auto"?{width:void 0}:{width:n},width:g.width,height:g.height,className:on("recharts-".concat(h," ").concat(h),r),viewBox:o,ticks:b}))},$be={allowDataOverflow:Kl.allowDataOverflow,allowDecimals:Kl.allowDecimals,allowDuplicatedCategory:Kl.allowDuplicatedCategory,hide:!1,mirror:Kl.mirror,orientation:Kl.orientation,padding:Kl.padding,reversed:Kl.reversed,scale:Kl.scale,tickCount:Kl.tickCount,type:Kl.type,width:Kl.width,yAxisId:0},Hbe=e=>{var t,r,n,a,s,l=mi(e,$be);return k.createElement(k.Fragment,null,k.createElement(zbe,{interval:(t=l.interval)!==null&&t!==void 0?t:"preserveEnd",id:l.yAxisId,scale:l.scale,type:l.type,domain:l.domain,allowDataOverflow:l.allowDataOverflow,dataKey:l.dataKey,allowDuplicatedCategory:l.allowDuplicatedCategory,allowDecimals:l.allowDecimals,tickCount:l.tickCount,padding:l.padding,includeHidden:(r=l.includeHidden)!==null&&r!==void 0?r:!1,reversed:l.reversed,ticks:l.ticks,width:l.width,orientation:l.orientation,mirror:l.mirror,hide:l.hide,unit:l.unit,name:l.name,angle:(n=l.angle)!==null&&n!==void 0?n:0,minTickGap:(a=l.minTickGap)!==null&&a!==void 0?a:5,tick:(s=l.tick)!==null&&s!==void 0?s:!0,tickFormatter:l.tickFormatter}),k.createElement(qbe,l))},Vbe=(e,t)=>{var{domain:r}=e,n=Jy(e,Ibe),{domain:a}=t,s=Jy(t,Bbe);return np(n,s)?Array.isArray(r)&&r.length===2&&Array.isArray(a)&&a.length===2?r[0]===a[0]&&r[1]===a[1]:np({domain:r},{domain:a}):!1},x_=k.memo(Hbe,Vbe);x_.displayName="YAxis";var _N={exports:{}},jN={};/**
 * @license React
 * use-sync-external-store-with-selector.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var YO;function Wbe(){if(YO)return jN;YO=1;var e=ap();function t(u,d){return u===d&&(u!==0||1/u===1/d)||u!==u&&d!==d}var r=typeof Object.is=="function"?Object.is:t,n=e.useSyncExternalStore,a=e.useRef,s=e.useEffect,l=e.useMemo,o=e.useDebugValue;return jN.useSyncExternalStoreWithSelector=function(u,d,h,m,g){var x=a(null);if(x.current===null){var b={hasValue:!1,value:null};x.current=b}else b=x.current;x=l(function(){function w(O){if(!N){if(N=!0,E=O,O=m(O),g!==void 0&&b.hasValue){var D=b.value;if(g(D,O))return j=D}return j=O}if(D=j,r(E,O))return D;var C=m(O);return g!==void 0&&g(D,C)?(E=O,D):(E=O,j=C)}var N=!1,E,j,T=h===void 0?null:h;return[function(){return w(d())},T===null?void 0:function(){return w(T())}]},[d,h,m,g]);var v=n(u,x[0],x[1]);return s(function(){b.hasValue=!0,b.value=v},[v]),o(v),v},jN}var XO;function Kbe(){return XO||(XO=1,_N.exports=Wbe()),_N.exports}Kbe();function Gbe(e){e()}function Ybe(){let e=null,t=null;return{clear(){e=null,t=null},notify(){Gbe(()=>{let r=e;for(;r;)r.callback(),r=r.next})},get(){const r=[];let n=e;for(;n;)r.push(n),n=n.next;return r},subscribe(r){let n=!0;const a=t={callback:r,next:null,prev:t};return a.prev?a.prev.next=a:e=a,function(){!n||e===null||(n=!1,a.next?a.next.prev=a.prev:t=a.prev,a.prev?a.prev.next=a.next:e=a.next)}}}}var QO={notify(){},get:()=>[]};function Xbe(e,t){let r,n=QO,a=0,s=!1;function l(v){h();const w=n.subscribe(v);let N=!1;return()=>{N||(N=!0,w(),m())}}function o(){n.notify()}function u(){b.onStateChange&&b.onStateChange()}function d(){return s}function h(){a++,r||(r=e.subscribe(u),n=Ybe())}function m(){a--,r&&a===0&&(r(),r=void 0,n.clear(),n=QO)}function g(){s||(s=!0,h())}function x(){s&&(s=!1,m())}const b={addNestedSub:l,notifyNestedSubs:o,handleChangeWrapper:u,isSubscribed:d,trySubscribe:g,tryUnsubscribe:x,getListeners:()=>n};return b}var Qbe=()=>typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",Zbe=Qbe(),Jbe=()=>typeof navigator<"u"&&navigator.product==="ReactNative",ewe=Jbe(),twe=()=>Zbe||ewe?k.useLayoutEffect:k.useEffect,rwe=twe(),nwe=Symbol.for("react-redux-context"),awe=typeof globalThis<"u"?globalThis:{};function swe(){if(!k.createContext)return{};const e=awe[nwe]??=new Map;let t=e.get(k.createContext);return t||(t=k.createContext(null),e.set(k.createContext,t)),t}var iwe=swe();function lwe(e){const{children:t,context:r,serverState:n,store:a}=e,s=k.useMemo(()=>{const u=Xbe(a);return{store:a,subscription:u,getServerState:n?()=>n:void 0}},[a,n]),l=k.useMemo(()=>a.getState(),[a]);rwe(()=>{const{subscription:u}=s;return u.onStateChange=u.notifyNestedSubs,u.trySubscribe(),l!==a.getState()&&u.notifyNestedSubs(),()=>{u.tryUnsubscribe(),u.onStateChange=void 0}},[s,l]);const o=r||iwe;return k.createElement(o.Provider,{value:s},t)}var owe=lwe,cwe=(e,t)=>t,BS=Ke([cwe,Zr,v9,Ds,lI,Dd,Nxe,Os],kxe),US=e=>{var t=e.currentTarget.getBoundingClientRect(),r=t.width/e.currentTarget.offsetWidth,n=t.height/e.currentTarget.offsetHeight;return{chartX:Math.round((e.clientX-t.left)/r),chartY:Math.round((e.clientY-t.top)/n)}},oB=Vo("mouseClick"),cB=zg();cB.startListening({actionCreator:oB,effect:(e,t)=>{var r=e.payload,n=BS(t.getState(),US(r));n?.activeIndex!=null&&t.dispatch(Tpe({activeIndex:n.activeIndex,activeDataKey:void 0,activeCoordinate:n.activeCoordinate}))}});var g_=Vo("mouseMove"),uB=zg();uB.startListening({actionCreator:g_,effect:(e,t)=>{var r=e.payload,n=t.getState(),a=uS(n,n.tooltip.settings.shared),s=BS(n,US(r));a==="axis"&&(s?.activeIndex!=null?t.dispatch(Z9({activeIndex:s.activeIndex,activeDataKey:void 0,activeCoordinate:s.activeCoordinate})):t.dispatch(Q9()))}});var ZO={accessibilityLayer:!0,barCategoryGap:"10%",barGap:4,barSize:void 0,className:void 0,maxBarSize:void 0,stackOffset:"none",syncId:void 0,syncMethod:"index"},dB=oo({name:"rootProps",initialState:ZO,reducers:{updateOptions:(e,t)=>{var r;e.accessibilityLayer=t.payload.accessibilityLayer,e.barCategoryGap=t.payload.barCategoryGap,e.barGap=(r=t.payload.barGap)!==null&&r!==void 0?r:ZO.barGap,e.barSize=t.payload.barSize,e.maxBarSize=t.payload.maxBarSize,e.stackOffset=t.payload.stackOffset,e.syncId=t.payload.syncId,e.syncMethod=t.payload.syncMethod,e.className=t.payload.className}}}),uwe=dB.reducer,{updateOptions:dwe}=dB.actions,fB=oo({name:"polarOptions",initialState:null,reducers:{updatePolarOptions:(e,t)=>t.payload}}),{updatePolarOptions:fwe}=fB.actions,hwe=fB.reducer,hB=Vo("keyDown"),mB=Vo("focus"),zS=zg();zS.startListening({actionCreator:hB,effect:(e,t)=>{var r=t.getState(),n=r.rootProps.accessibilityLayer!==!1;if(n){var{keyboardInteraction:a}=r.tooltip,s=e.payload;if(!(s!=="ArrowRight"&&s!=="ArrowLeft"&&s!=="Enter")){var l=Number(dS(a,Ap(r))),o=Dd(r);if(s==="Enter"){var u=Vy(r,"axis","hover",String(a.index));t.dispatch(n_({active:!a.active,activeIndex:a.index,activeDataKey:a.dataKey,activeCoordinate:u}));return}var d=wpe(r),h=d==="left-to-right"?1:-1,m=s==="ArrowRight"?1:-1,g=l+m*h;if(!(o==null||g>=o.length||g<0)){var x=Vy(r,"axis","hover",String(g));t.dispatch(n_({active:!0,activeIndex:g.toString(),activeDataKey:void 0,activeCoordinate:x}))}}}}});zS.startListening({actionCreator:mB,effect:(e,t)=>{var r=t.getState(),n=r.rootProps.accessibilityLayer!==!1;if(n){var{keyboardInteraction:a}=r.tooltip;if(!a.active&&a.index==null){var s="0",l=Vy(r,"axis","hover",String(s));t.dispatch(n_({activeDataKey:void 0,active:!0,activeIndex:s,activeCoordinate:l}))}}}});var Po=Vo("externalEvent"),pB=zg();pB.startListening({actionCreator:Po,effect:(e,t)=>{if(e.payload.handler!=null){var r=t.getState(),n={activeCoordinate:fxe(r),activeDataKey:dI(r),activeIndex:Lf(r),activeLabel:uI(r),activeTooltipIndex:Lf(r),isTooltipActive:hxe(r)};e.payload.handler(n,e.payload.reactEvent)}}});var mwe=Ke([Sp],e=>e.tooltipItemPayloads),pwe=Ke([mwe,e1,(e,t,r)=>t,(e,t,r)=>r],(e,t,r,n)=>{var a=e.find(o=>o.settings.dataKey===n);if(a!=null){var{positions:s}=a;if(s!=null){var l=t(s,r);return l}}}),xB=Vo("touchMove"),gB=zg();gB.startListening({actionCreator:xB,effect:(e,t)=>{var r=e.payload,n=t.getState(),a=uS(n,n.tooltip.settings.shared);if(a==="axis"){var s=BS(n,US({clientX:r.touches[0].clientX,clientY:r.touches[0].clientY,currentTarget:r.currentTarget}));s?.activeIndex!=null&&t.dispatch(Z9({activeIndex:s.activeIndex,activeDataKey:void 0,activeCoordinate:s.activeCoordinate}))}else if(a==="item"){var l,o=r.touches[0],u=document.elementFromPoint(o.clientX,o.clientY);if(!u||!u.getAttribute)return;var d=u.getAttribute(QM),h=(l=u.getAttribute(ZM))!==null&&l!==void 0?l:void 0,m=pwe(t.getState(),d,h);t.dispatch(X9({activeDataKey:h,activeIndex:d,activeCoordinate:m}))}}});var xwe=wM({brush:e2e,cartesianAxis:Dve,chartData:$xe,errorBars:Jve,graphicalItems:Z1e,layout:eue,legend:ide,options:Ixe,polarAxis:f1e,polarOptions:hwe,referenceElements:l2e,rootProps:uwe,tooltip:Ope}),gwe=function(t){return Sce({reducer:xwe,preloadedState:t,middleware:r=>r({serializableCheck:!1}).concat([cB.middleware,uB.middleware,zS.middleware,pB.middleware,gB.middleware]),enhancers:r=>{var n=r;return typeof r=="function"&&(n=r()),n.concat(DM({type:"raf"}))},devTools:Kf.devToolsEnabled})};function vB(e){var{preloadedState:t,children:r,reduxStoreName:n}=e,a=al(),s=k.useRef(null);if(a)return r;s.current==null&&(s.current=gwe(t));var l=Jj;return k.createElement(owe,{context:l,store:s.current},r)}function yB(e){var{layout:t,margin:r}=e,n=xa(),a=al();return k.useEffect(()=>{a||(n(Qce(t)),n(Xce(r)))},[n,a,t,r]),null}function bB(e){var t=xa();return k.useEffect(()=>{t(dwe(e))},[t,e]),null}var vwe=["children"];function ywe(e,t){if(e==null)return{};var r,n,a=bwe(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(n=0;n<s.length;n++)r=s[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}function bwe(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}function e2(){return e2=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},e2.apply(null,arguments)}var wwe={width:"100%",height:"100%",display:"block"},Nwe=k.forwardRef((e,t)=>{var r=l3(),n=o3(),a=iR();if(!Zm(r)||!Zm(n))return null;var{children:s,otherAttributes:l,title:o,desc:u}=e,d,h;return typeof l.tabIndex=="number"?d=l.tabIndex:d=a?0:void 0,typeof l.role=="string"?h=l.role:h=a?"application":void 0,k.createElement(zj,e2({},l,{title:o,desc:u,role:h,tabIndex:d,width:r,height:n,style:wwe,ref:t}),s)}),_we=e=>{var{children:t}=e,r=Ht(R2);if(!r)return null;var{width:n,height:a,y:s,x:l}=r;return k.createElement(zj,{width:n,height:a,x:l,y:s},t)},JO=k.forwardRef((e,t)=>{var{children:r}=e,n=ywe(e,vwe),a=al();return a?k.createElement(_we,null,r):k.createElement(Nwe,e2({ref:t},n),r)});function jwe(){var e=xa(),[t,r]=k.useState(null),n=Ht(Cue);return k.useEffect(()=>{if(t!=null){var a=t.getBoundingClientRect(),s=a.width/t.offsetWidth;Mi(s)&&s!==n&&e(Jce(s))}},[t,e,n]),r}function e7(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function Swe(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?e7(Object(r),!0).forEach(function(n){Awe(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):e7(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Awe(e,t,r){return(t=kwe(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function kwe(e){var t=Ewe(e,"string");return typeof t=="symbol"?t:t+""}function Ewe(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function uh(){return uh=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},uh.apply(null,arguments)}var Cwe=()=>(Zxe(),null);function t2(e){if(typeof e=="number")return e;if(typeof e=="string"){var t=parseFloat(e);if(!Number.isNaN(t))return t}return 0}var Twe=k.forwardRef((e,t)=>{var r,n,a=k.useRef(null),[s,l]=k.useState({containerWidth:t2((r=e.style)===null||r===void 0?void 0:r.width),containerHeight:t2((n=e.style)===null||n===void 0?void 0:n.height)}),o=k.useCallback((d,h)=>{l(m=>{var g=Math.round(d),x=Math.round(h);return m.containerWidth===g&&m.containerHeight===x?m:{containerWidth:g,containerHeight:x}})},[]),u=k.useCallback(d=>{if(typeof t=="function"&&t(d),d!=null){var{width:h,height:m}=d.getBoundingClientRect();o(h,m);var g=b=>{var{width:v,height:w}=b[0].contentRect;o(v,w)},x=new ResizeObserver(g);x.observe(d),a.current=x}},[t,o]);return k.useEffect(()=>()=>{var d=a.current;d?.disconnect()},[o]),k.createElement(k.Fragment,null,k.createElement(U2,{width:s.containerWidth,height:s.containerHeight}),k.createElement("div",uh({ref:u},e)))}),Owe=k.forwardRef((e,t)=>{var{width:r,height:n}=e,[a,s]=k.useState({containerWidth:t2(r),containerHeight:t2(n)}),l=k.useCallback((u,d)=>{s(h=>{var m=Math.round(u),g=Math.round(d);return h.containerWidth===m&&h.containerHeight===g?h:{containerWidth:m,containerHeight:g}})},[]),o=k.useCallback(u=>{if(typeof t=="function"&&t(u),u!=null){var{width:d,height:h}=u.getBoundingClientRect();l(d,h)}},[t,l]);return k.createElement(k.Fragment,null,k.createElement(U2,{width:a.containerWidth,height:a.containerHeight}),k.createElement("div",uh({ref:o},e)))}),Fwe=k.forwardRef((e,t)=>{var{width:r,height:n}=e;return k.createElement(k.Fragment,null,k.createElement(U2,{width:r,height:n}),k.createElement("div",uh({ref:t},e)))}),Dwe=k.forwardRef((e,t)=>{var{width:r,height:n}=e;return vd(r)||vd(n)?k.createElement(Owe,uh({},e,{ref:t})):k.createElement(Fwe,uh({},e,{ref:t}))});function Pwe(e){return e===!0?Twe:Dwe}var Lwe=k.forwardRef((e,t)=>{var{children:r,className:n,height:a,onClick:s,onContextMenu:l,onDoubleClick:o,onMouseDown:u,onMouseEnter:d,onMouseLeave:h,onMouseMove:m,onMouseUp:g,onTouchEnd:x,onTouchMove:b,onTouchStart:v,style:w,width:N,responsive:E,dispatchTouchEvents:j=!0}=e,T=k.useRef(null),O=xa(),[D,C]=k.useState(null),[P,B]=k.useState(null),H=jwe(),L=i3(),U=L?.width>0?L.width:N,V=L?.height>0?L.height:a,Y=k.useCallback(re=>{H(re),typeof t=="function"&&t(re),C(re),B(re),re!=null&&(T.current=re)},[H,t,C,B]),de=k.useCallback(re=>{O(oB(re)),O(Po({handler:s,reactEvent:re}))},[O,s]),te=k.useCallback(re=>{O(g_(re)),O(Po({handler:d,reactEvent:re}))},[O,d]),ie=k.useCallback(re=>{O(Q9()),O(Po({handler:h,reactEvent:re}))},[O,h]),ge=k.useCallback(re=>{O(g_(re)),O(Po({handler:m,reactEvent:re}))},[O,m]),oe=k.useCallback(()=>{O(mB())},[O]),Se=k.useCallback(re=>{O(hB(re.key))},[O]),ne=k.useCallback(re=>{O(Po({handler:l,reactEvent:re}))},[O,l]),M=k.useCallback(re=>{O(Po({handler:o,reactEvent:re}))},[O,o]),R=k.useCallback(re=>{O(Po({handler:u,reactEvent:re}))},[O,u]),q=k.useCallback(re=>{O(Po({handler:g,reactEvent:re}))},[O,g]),K=k.useCallback(re=>{O(Po({handler:v,reactEvent:re}))},[O,v]),ee=k.useCallback(re=>{j&&O(xB(re)),O(Po({handler:b,reactEvent:re}))},[O,j,b]),ce=k.useCallback(re=>{O(Po({handler:x,reactEvent:re}))},[O,x]),Q=Pwe(E);return k.createElement(gI.Provider,{value:D},k.createElement(IL.Provider,{value:P},k.createElement(Q,{width:U??w?.width,height:V??w?.height,className:on("recharts-wrapper",n),style:Swe({position:"relative",cursor:"default",width:U,height:V},w),onClick:de,onContextMenu:ne,onDoubleClick:M,onFocus:oe,onKeyDown:Se,onMouseDown:R,onMouseEnter:te,onMouseLeave:ie,onMouseMove:ge,onMouseUp:q,onTouchEnd:ce,onTouchMove:ee,onTouchStart:K,ref:Y},k.createElement(Cwe,null),r)))}),Mwe=["width","height","responsive","children","className","style","compact","title","desc"];function Rwe(e,t){if(e==null)return{};var r,n,a=Iwe(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(n=0;n<s.length;n++)r=s[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}function Iwe(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}var wB=k.forwardRef((e,t)=>{var{width:r,height:n,responsive:a,children:s,className:l,style:o,compact:u,title:d,desc:h}=e,m=Rwe(e,Mwe),g=ao(m);return u?k.createElement(k.Fragment,null,k.createElement(U2,{width:r,height:n}),k.createElement(JO,{otherAttributes:g,title:d,desc:h},s)):k.createElement(Lwe,{className:l,style:o,width:r,height:n,responsive:a,onClick:e.onClick,onMouseLeave:e.onMouseLeave,onMouseEnter:e.onMouseEnter,onMouseMove:e.onMouseMove,onMouseDown:e.onMouseDown,onMouseUp:e.onMouseUp,onContextMenu:e.onContextMenu,onDoubleClick:e.onDoubleClick,onTouchStart:e.onTouchStart,onTouchMove:e.onTouchMove,onTouchEnd:e.onTouchEnd},k.createElement(JO,{otherAttributes:g,title:d,desc:h,ref:t},k.createElement(c2e,null,s)))});function v_(){return v_=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},v_.apply(null,arguments)}var Bwe={top:5,right:5,bottom:5,left:5},Uwe={accessibilityLayer:!0,layout:"horizontal",stackOffset:"none",barCategoryGap:"10%",barGap:4,margin:Bwe,reverseStackOrder:!1,syncMethod:"index",responsive:!1},NB=k.forwardRef(function(t,r){var n,a=mi(t.categoricalChartProps,Uwe),{chartName:s,defaultTooltipEventType:l,validateTooltipEventTypes:o,tooltipPayloadSearcher:u,categoricalChartProps:d}=t,h={chartName:s,defaultTooltipEventType:l,validateTooltipEventTypes:o,tooltipPayloadSearcher:u,eventEmitter:void 0};return k.createElement(vB,{preloadedState:{options:h},reduxStoreName:(n=d.id)!==null&&n!==void 0?n:s},k.createElement(QI,{chartData:d.data}),k.createElement(yB,{layout:a.layout,margin:a.margin}),k.createElement(bB,{accessibilityLayer:a.accessibilityLayer,barCategoryGap:a.barCategoryGap,maxBarSize:a.maxBarSize,stackOffset:a.stackOffset,barGap:a.barGap,barSize:a.barSize,syncId:a.syncId,syncMethod:a.syncMethod,className:a.className}),k.createElement(wB,v_({},a,{ref:r})))}),zwe=["axis"],qwe=k.forwardRef((e,t)=>k.createElement(NB,{chartName:"LineChart",defaultTooltipEventType:"axis",validateTooltipEventTypes:zwe,tooltipPayloadSearcher:yS,categoricalChartProps:e,ref:t})),$we=["axis","item"],Hwe=k.forwardRef((e,t)=>k.createElement(NB,{chartName:"BarChart",defaultTooltipEventType:"axis",validateTooltipEventTypes:$we,tooltipPayloadSearcher:yS,categoricalChartProps:e,ref:t}));function Vwe(e){var t=xa();return k.useEffect(()=>{t(fwe(e))},[t,e]),null}var Wwe=["layout"];function y_(){return y_=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},y_.apply(null,arguments)}function Kwe(e,t){if(e==null)return{};var r,n,a=Gwe(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(n=0;n<s.length;n++)r=s[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}function Gwe(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}var Ywe={top:5,right:5,bottom:5,left:5},Xwe={accessibilityLayer:!0,stackOffset:"none",barCategoryGap:"10%",barGap:4,margin:Ywe,reverseStackOrder:!1,syncMethod:"index",layout:"radial",responsive:!1},Qwe=k.forwardRef(function(t,r){var n,a=mi(t.categoricalChartProps,Xwe),{layout:s}=a,l=Kwe(a,Wwe),{chartName:o,defaultTooltipEventType:u,validateTooltipEventTypes:d,tooltipPayloadSearcher:h}=t,m={chartName:o,defaultTooltipEventType:u,validateTooltipEventTypes:d,tooltipPayloadSearcher:h,eventEmitter:void 0};return k.createElement(vB,{preloadedState:{options:m},reduxStoreName:(n=a.id)!==null&&n!==void 0?n:o},k.createElement(QI,{chartData:a.data}),k.createElement(yB,{layout:s,margin:a.margin}),k.createElement(bB,{accessibilityLayer:a.accessibilityLayer,barCategoryGap:a.barCategoryGap,maxBarSize:a.maxBarSize,stackOffset:a.stackOffset,barGap:a.barGap,barSize:a.barSize,syncId:a.syncId,syncMethod:a.syncMethod,className:a.className}),k.createElement(Vwe,{cx:a.cx,cy:a.cy,startAngle:a.startAngle,endAngle:a.endAngle,innerRadius:a.innerRadius,outerRadius:a.outerRadius}),k.createElement(wB,y_({},l,{ref:r})))}),Zwe=["item"],Jwe={layout:"centric",startAngle:0,endAngle:360,cx:"50%",cy:"50%",innerRadius:0,outerRadius:"80%"},e5e=k.forwardRef((e,t)=>{var r=mi(e,Jwe);return k.createElement(Qwe,{chartName:"PieChart",defaultTooltipEventType:"item",validateTooltipEventTypes:Zwe,tooltipPayloadSearcher:yS,categoricalChartProps:r,ref:t})});const xf=({title:e,value:t,subtitle:r,icon:n,colorClass:a="bg-blue-500",trend:s})=>i.jsxs("div",{className:"bg-white rounded-lg shadow-sm border p-6 hover:shadow-md transition-shadow",children:[i.jsxs("div",{className:"flex items-center justify-between mb-4",children:[i.jsx("div",{className:`${a} p-3 rounded-lg`,children:i.jsx(n,{className:"h-6 w-6 text-white"})}),s&&i.jsxs("span",{className:`text-sm font-medium ${s.isPositive?"text-green-600":"text-red-600"}`,children:[s.isPositive?"+":"",s.value,"%"]})]}),i.jsxs("div",{children:[i.jsx("p",{className:"text-sm text-gray-600 mb-1",children:e}),i.jsx("p",{className:"text-3xl font-bold text-gray-900",children:t}),r&&i.jsx("p",{className:"text-xs text-gray-500 mt-1",children:r})]})]}),jh={getOverview:async()=>$e.get("/analytics/overview"),getPopularFormations:async(e=10)=>$e.get("/analytics/popular-formations",{limit:e.toString()}),getEnrollmentTrends:async(e=6)=>$e.get("/analytics/enrollment-trends",{months:e.toString()}),getTestPerformance:async()=>$e.get("/analytics/test-performance"),getActiveStudents:async(e=10)=>$e.get("/analytics/active-students",{limit:e.toString()}),getStudentProgress:async e=>{const t=await $e.get(`/analytics/student-progress/${e}`);return{student:t.student,enrollments:t.enrollments,test_history:t.test_history}},getFormationCompletionRates:async()=>$e.get("/analytics/formation-completion-rates"),getPeriodStats:async(e=30)=>{const t=await $e.get("/analytics/period-stats",{period:e.toString()});return{period_days:t.period_days,stats:t.stats}}},t5e=()=>Jt({queryKey:["analytics","overview"],queryFn:jh.getOverview,staleTime:1e3*60*5,refetchInterval:1e3*60*5}),r5e=(e=10)=>Jt({queryKey:["analytics","popular-formations",e],queryFn:()=>jh.getPopularFormations(e),staleTime:1e3*60*10}),n5e=(e=6)=>Jt({queryKey:["analytics","enrollment-trends",e],queryFn:()=>jh.getEnrollmentTrends(e),staleTime:1e3*60*10}),a5e=(e=10)=>Jt({queryKey:["analytics","active-students",e],queryFn:()=>jh.getActiveStudents(e),staleTime:1e3*60*5}),s5e=e=>Jt({queryKey:["analytics","student-progress",e],queryFn:()=>{if(!e)throw new Error("Student ID is required");return jh.getStudentProgress(e)},enabled:!!e,staleTime:1e3*60*5}),i5e=()=>Jt({queryKey:["analytics","formation-completion-rates"],queryFn:jh.getFormationCompletionRates,staleTime:1e3*60*10}),l5e=(e=30)=>Jt({queryKey:["analytics","period-stats",e],queryFn:()=>jh.getPeriodStats(e),staleTime:1e3*60*5,refetchInterval:1e3*60*5});function jn(e){"@babel/helpers - typeof";return jn=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},jn(e)}var Oc=Uint8Array,to=Uint16Array,qS=Int32Array,$S=new Oc([0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0,0,0,0]),HS=new Oc([0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13,0,0]),t7=new Oc([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]),_B=function(e,t){for(var r=new to(31),n=0;n<31;++n)r[n]=t+=1<<e[n-1];for(var a=new qS(r[30]),n=1;n<30;++n)for(var s=r[n];s<r[n+1];++s)a[s]=s-r[n]<<5|n;return{b:r,r:a}},jB=_B($S,2),o5e=jB.b,b_=jB.r;o5e[28]=258,b_[258]=28;var c5e=_B(HS,0),r7=c5e.r,w_=new to(32768);for(var ta=0;ta<32768;++ta){var gf=(ta&43690)>>1|(ta&21845)<<1;gf=(gf&52428)>>2|(gf&13107)<<2,gf=(gf&61680)>>4|(gf&3855)<<4,w_[ta]=((gf&65280)>>8|(gf&255)<<8)>>1}var Bx=(function(e,t,r){for(var n=e.length,a=0,s=new to(t);a<n;++a)e[a]&&++s[e[a]-1];var l=new to(t);for(a=1;a<t;++a)l[a]=l[a-1]+s[a-1]<<1;var o;if(r){o=new to(1<<t);var u=15-t;for(a=0;a<n;++a)if(e[a])for(var d=a<<4|e[a],h=t-e[a],m=l[e[a]-1]++<<h,g=m|(1<<h)-1;m<=g;++m)o[w_[m]>>u]=d}else for(o=new to(n),a=0;a<n;++a)e[a]&&(o[a]=w_[l[e[a]-1]++]>>15-e[a]);return o}),dh=new Oc(288);for(var ta=0;ta<144;++ta)dh[ta]=8;for(var ta=144;ta<256;++ta)dh[ta]=9;for(var ta=256;ta<280;++ta)dh[ta]=7;for(var ta=280;ta<288;++ta)dh[ta]=8;var r2=new Oc(32);for(var ta=0;ta<32;++ta)r2[ta]=5;var u5e=Bx(dh,9,0),d5e=Bx(r2,5,0),SB=function(e){return(e+7)/8|0},f5e=function(e,t,r){return(r==null||r>e.length)&&(r=e.length),new Oc(e.subarray(t,r))},Yu=function(e,t,r){r<<=t&7;var n=t/8|0;e[n]|=r,e[n+1]|=r>>8},wx=function(e,t,r){r<<=t&7;var n=t/8|0;e[n]|=r,e[n+1]|=r>>8,e[n+2]|=r>>16},SN=function(e,t){for(var r=[],n=0;n<e.length;++n)e[n]&&r.push({s:n,f:e[n]});var a=r.length,s=r.slice();if(!a)return{t:kB,l:0};if(a==1){var l=new Oc(r[0].s+1);return l[r[0].s]=1,{t:l,l:1}}r.sort(function(O,D){return O.f-D.f}),r.push({s:-1,f:25001});var o=r[0],u=r[1],d=0,h=1,m=2;for(r[0]={s:-1,f:o.f+u.f,l:o,r:u};h!=a-1;)o=r[r[d].f<r[m].f?d++:m++],u=r[d!=h&&r[d].f<r[m].f?d++:m++],r[h++]={s:-1,f:o.f+u.f,l:o,r:u};for(var g=s[0].s,n=1;n<a;++n)s[n].s>g&&(g=s[n].s);var x=new to(g+1),b=N_(r[h-1],x,0);if(b>t){var n=0,v=0,w=b-t,N=1<<w;for(s.sort(function(D,C){return x[C.s]-x[D.s]||D.f-C.f});n<a;++n){var E=s[n].s;if(x[E]>t)v+=N-(1<<b-x[E]),x[E]=t;else break}for(v>>=w;v>0;){var j=s[n].s;x[j]<t?v-=1<<t-x[j]++-1:++n}for(;n>=0&&v;--n){var T=s[n].s;x[T]==t&&(--x[T],++v)}b=t}return{t:new Oc(x),l:b}},N_=function(e,t,r){return e.s==-1?Math.max(N_(e.l,t,r+1),N_(e.r,t,r+1)):t[e.s]=r},n7=function(e){for(var t=e.length;t&&!e[--t];);for(var r=new to(++t),n=0,a=e[0],s=1,l=function(u){r[n++]=u},o=1;o<=t;++o)if(e[o]==a&&o!=t)++s;else{if(!a&&s>2){for(;s>138;s-=138)l(32754);s>2&&(l(s>10?s-11<<5|28690:s-3<<5|12305),s=0)}else if(s>3){for(l(a),--s;s>6;s-=6)l(8304);s>2&&(l(s-3<<5|8208),s=0)}for(;s--;)l(a);s=1,a=e[o]}return{c:r.subarray(0,n),n:t}},Nx=function(e,t){for(var r=0,n=0;n<t.length;++n)r+=e[n]*t[n];return r},AB=function(e,t,r){var n=r.length,a=SB(t+2);e[a]=n&255,e[a+1]=n>>8,e[a+2]=e[a]^255,e[a+3]=e[a+1]^255;for(var s=0;s<n;++s)e[a+s+4]=r[s];return(a+4+n)*8},a7=function(e,t,r,n,a,s,l,o,u,d,h){Yu(t,h++,r),++a[256];for(var m=SN(a,15),g=m.t,x=m.l,b=SN(s,15),v=b.t,w=b.l,N=n7(g),E=N.c,j=N.n,T=n7(v),O=T.c,D=T.n,C=new to(19),P=0;P<E.length;++P)++C[E[P]&31];for(var P=0;P<O.length;++P)++C[O[P]&31];for(var B=SN(C,7),H=B.t,L=B.l,U=19;U>4&&!H[t7[U-1]];--U);var V=d+5<<3,Y=Nx(a,dh)+Nx(s,r2)+l,de=Nx(a,g)+Nx(s,v)+l+14+3*U+Nx(C,H)+2*C[16]+3*C[17]+7*C[18];if(u>=0&&V<=Y&&V<=de)return AB(t,h,e.subarray(u,u+d));var te,ie,ge,oe;if(Yu(t,h,1+(de<Y)),h+=2,de<Y){te=Bx(g,x,0),ie=g,ge=Bx(v,w,0),oe=v;var Se=Bx(H,L,0);Yu(t,h,j-257),Yu(t,h+5,D-1),Yu(t,h+10,U-4),h+=14;for(var P=0;P<U;++P)Yu(t,h+3*P,H[t7[P]]);h+=3*U;for(var ne=[E,O],M=0;M<2;++M)for(var R=ne[M],P=0;P<R.length;++P){var q=R[P]&31;Yu(t,h,Se[q]),h+=H[q],q>15&&(Yu(t,h,R[P]>>5&127),h+=R[P]>>12)}}else te=u5e,ie=dh,ge=d5e,oe=r2;for(var P=0;P<o;++P){var K=n[P];if(K>255){var q=K>>18&31;wx(t,h,te[q+257]),h+=ie[q+257],q>7&&(Yu(t,h,K>>23&31),h+=$S[q]);var ee=K&31;wx(t,h,ge[ee]),h+=oe[ee],ee>3&&(wx(t,h,K>>5&8191),h+=HS[ee])}else wx(t,h,te[K]),h+=ie[K]}return wx(t,h,te[256]),h+ie[256]},h5e=new qS([65540,131080,131088,131104,262176,1048704,1048832,2114560,2117632]),kB=new Oc(0),m5e=function(e,t,r,n,a,s){var l=s.z||e.length,o=new Oc(n+l+5*(1+Math.ceil(l/7e3))+a),u=o.subarray(n,o.length-a),d=s.l,h=(s.r||0)&7;if(t){h&&(u[0]=s.r>>3);for(var m=h5e[t-1],g=m>>13,x=m&8191,b=(1<<r)-1,v=s.p||new to(32768),w=s.h||new to(b+1),N=Math.ceil(r/3),E=2*N,j=function(Ce){return(e[Ce]^e[Ce+1]<<N^e[Ce+2]<<E)&b},T=new qS(25e3),O=new to(288),D=new to(32),C=0,P=0,B=s.i||0,H=0,L=s.w||0,U=0;B+2<l;++B){var V=j(B),Y=B&32767,de=w[V];if(v[Y]=de,w[V]=Y,L<=B){var te=l-B;if((C>7e3||H>24576)&&(te>423||!d)){h=a7(e,u,0,T,O,D,P,H,U,B-U,h),H=C=P=0,U=B;for(var ie=0;ie<286;++ie)O[ie]=0;for(var ie=0;ie<30;++ie)D[ie]=0}var ge=2,oe=0,Se=x,ne=Y-de&32767;if(te>2&&V==j(B-ne))for(var M=Math.min(g,te)-1,R=Math.min(32767,B),q=Math.min(258,te);ne<=R&&--Se&&Y!=de;){if(e[B+ge]==e[B+ge-ne]){for(var K=0;K<q&&e[B+K]==e[B+K-ne];++K);if(K>ge){if(ge=K,oe=ne,K>M)break;for(var ee=Math.min(ne,K-2),ce=0,ie=0;ie<ee;++ie){var Q=B-ne+ie&32767,re=v[Q],ye=Q-re&32767;ye>ce&&(ce=ye,de=Q)}}}Y=de,de=v[Y],ne+=Y-de&32767}if(oe){T[H++]=268435456|b_[ge]<<18|r7[oe];var Ee=b_[ge]&31,X=r7[oe]&31;P+=$S[Ee]+HS[X],++O[257+Ee],++D[X],L=B+ge,++C}else T[H++]=e[B],++O[e[B]]}}for(B=Math.max(B,L);B<l;++B)T[H++]=e[B],++O[e[B]];h=a7(e,u,d,T,O,D,P,H,U,B-U,h),d||(s.r=h&7|u[h/8|0]<<3,h-=7,s.h=w,s.p=v,s.i=B,s.w=L)}else{for(var B=s.w||0;B<l+d;B+=65535){var Je=B+65535;Je>=l&&(u[h/8|0]=d,Je=l),h=AB(u,h+1,e.subarray(B,Je))}s.i=l}return f5e(o,0,n+SB(h)+a)},EB=function(){var e=1,t=0;return{p:function(r){for(var n=e,a=t,s=r.length|0,l=0;l!=s;){for(var o=Math.min(l+2655,s);l<o;++l)a+=n+=r[l];n=(n&65535)+15*(n>>16),a=(a&65535)+15*(a>>16)}e=n,t=a},d:function(){return e%=65521,t%=65521,(e&255)<<24|(e&65280)<<8|(t&255)<<8|t>>8}}},p5e=function(e,t,r,n,a){if(!a&&(a={l:1},t.dictionary)){var s=t.dictionary.subarray(-32768),l=new Oc(s.length+e.length);l.set(s),l.set(e,s.length),e=l,a.w=s.length}return m5e(e,t.level==null?6:t.level,t.mem==null?a.l?Math.ceil(Math.max(8,Math.min(13,Math.log(e.length)))*1.5):20:12+t.mem,r,n,a)},CB=function(e,t,r){for(;r;++t)e[t]=r,r>>>=8},x5e=function(e,t){var r=t.level,n=r==0?0:r<6?1:r==9?3:2;if(e[0]=120,e[1]=n<<6|(t.dictionary&&32),e[1]|=31-(e[0]<<8|e[1])%31,t.dictionary){var a=EB();a.p(t.dictionary),CB(e,2,a.d())}};function __(e,t){t||(t={});var r=EB();r.p(e);var n=p5e(e,t,t.dictionary?6:2,4);return x5e(n,t),CB(n,n.length-4,r.d()),n}var g5e=typeof TextDecoder<"u"&&new TextDecoder,v5e=0;try{g5e.decode(kB,{stream:!0}),v5e=1}catch{}function y5e(e){if(Array.isArray(e))return e}function b5e(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n,a,s,l,o=[],u=!0,d=!1;try{if(s=(r=r.call(e)).next,t!==0)for(;!(u=(n=s.call(r)).done)&&(o.push(n.value),o.length!==t);u=!0);}catch(h){d=!0,a=h}finally{try{if(!u&&r.return!=null&&(l=r.return(),Object(l)!==l))return}finally{if(d)throw a}}return o}}function s7(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=Array(t);r<t;r++)n[r]=e[r];return n}function w5e(e,t){if(e){if(typeof e=="string")return s7(e,t);var r={}.toString.call(e).slice(8,-1);return r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set"?Array.from(e):r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?s7(e,t):void 0}}function N5e(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function i7(e,t){return y5e(e)||b5e(e,t)||w5e(e,t)||N5e()}function l7(e,t="utf8"){return new TextDecoder(t).decode(e)}const _5e=new TextEncoder;function j5e(e){return _5e.encode(e)}const S5e=1024*8,A5e=(()=>{const e=new Uint8Array(4),t=new Uint32Array(e.buffer);return!((t[0]=1)&e[0])})(),AN={int8:globalThis.Int8Array,uint8:globalThis.Uint8Array,int16:globalThis.Int16Array,uint16:globalThis.Uint16Array,int32:globalThis.Int32Array,uint32:globalThis.Uint32Array,uint64:globalThis.BigUint64Array,int64:globalThis.BigInt64Array,float32:globalThis.Float32Array,float64:globalThis.Float64Array};class VS{buffer;byteLength;byteOffset;length;offset;lastWrittenByte;littleEndian;_data;_mark;_marks;constructor(t=S5e,r={}){let n=!1;typeof t=="number"?t=new ArrayBuffer(t):(n=!0,this.lastWrittenByte=t.byteLength);const a=r.offset?r.offset>>>0:0,s=t.byteLength-a;let l=a;(ArrayBuffer.isView(t)||t instanceof VS)&&(t.byteLength!==t.buffer.byteLength&&(l=t.byteOffset+a),t=t.buffer),n?this.lastWrittenByte=s:this.lastWrittenByte=0,this.buffer=t,this.length=s,this.byteLength=s,this.byteOffset=l,this.offset=0,this.littleEndian=!0,this._data=new DataView(this.buffer,l,s),this._mark=0,this._marks=[]}available(t=1){return this.offset+t<=this.length}isLittleEndian(){return this.littleEndian}setLittleEndian(){return this.littleEndian=!0,this}isBigEndian(){return!this.littleEndian}setBigEndian(){return this.littleEndian=!1,this}skip(t=1){return this.offset+=t,this}back(t=1){return this.offset-=t,this}seek(t){return this.offset=t,this}mark(){return this._mark=this.offset,this}reset(){return this.offset=this._mark,this}pushMark(){return this._marks.push(this.offset),this}popMark(){const t=this._marks.pop();if(t===void 0)throw new Error("Mark stack empty");return this.seek(t),this}rewind(){return this.offset=0,this}ensureAvailable(t=1){if(!this.available(t)){const n=(this.offset+t)*2,a=new Uint8Array(n);a.set(new Uint8Array(this.buffer)),this.buffer=a.buffer,this.length=n,this.byteLength=n,this._data=new DataView(this.buffer)}return this}readBoolean(){return this.readUint8()!==0}readInt8(){return this._data.getInt8(this.offset++)}readUint8(){return this._data.getUint8(this.offset++)}readByte(){return this.readUint8()}readBytes(t=1){return this.readArray(t,"uint8")}readArray(t,r){const n=AN[r].BYTES_PER_ELEMENT*t,a=this.byteOffset+this.offset,s=this.buffer.slice(a,a+n);if(this.littleEndian===A5e&&r!=="uint8"&&r!=="int8"){const o=new Uint8Array(this.buffer.slice(a,a+n));o.reverse();const u=new AN[r](o.buffer);return this.offset+=n,u.reverse(),u}const l=new AN[r](s);return this.offset+=n,l}readInt16(){const t=this._data.getInt16(this.offset,this.littleEndian);return this.offset+=2,t}readUint16(){const t=this._data.getUint16(this.offset,this.littleEndian);return this.offset+=2,t}readInt32(){const t=this._data.getInt32(this.offset,this.littleEndian);return this.offset+=4,t}readUint32(){const t=this._data.getUint32(this.offset,this.littleEndian);return this.offset+=4,t}readFloat32(){const t=this._data.getFloat32(this.offset,this.littleEndian);return this.offset+=4,t}readFloat64(){const t=this._data.getFloat64(this.offset,this.littleEndian);return this.offset+=8,t}readBigInt64(){const t=this._data.getBigInt64(this.offset,this.littleEndian);return this.offset+=8,t}readBigUint64(){const t=this._data.getBigUint64(this.offset,this.littleEndian);return this.offset+=8,t}readChar(){return String.fromCharCode(this.readInt8())}readChars(t=1){let r="";for(let n=0;n<t;n++)r+=this.readChar();return r}readUtf8(t=1){return l7(this.readBytes(t))}decodeText(t=1,r="utf8"){return l7(this.readBytes(t),r)}writeBoolean(t){return this.writeUint8(t?255:0),this}writeInt8(t){return this.ensureAvailable(1),this._data.setInt8(this.offset++,t),this._updateLastWrittenByte(),this}writeUint8(t){return this.ensureAvailable(1),this._data.setUint8(this.offset++,t),this._updateLastWrittenByte(),this}writeByte(t){return this.writeUint8(t)}writeBytes(t){this.ensureAvailable(t.length);for(let r=0;r<t.length;r++)this._data.setUint8(this.offset++,t[r]);return this._updateLastWrittenByte(),this}writeInt16(t){return this.ensureAvailable(2),this._data.setInt16(this.offset,t,this.littleEndian),this.offset+=2,this._updateLastWrittenByte(),this}writeUint16(t){return this.ensureAvailable(2),this._data.setUint16(this.offset,t,this.littleEndian),this.offset+=2,this._updateLastWrittenByte(),this}writeInt32(t){return this.ensureAvailable(4),this._data.setInt32(this.offset,t,this.littleEndian),this.offset+=4,this._updateLastWrittenByte(),this}writeUint32(t){return this.ensureAvailable(4),this._data.setUint32(this.offset,t,this.littleEndian),this.offset+=4,this._updateLastWrittenByte(),this}writeFloat32(t){return this.ensureAvailable(4),this._data.setFloat32(this.offset,t,this.littleEndian),this.offset+=4,this._updateLastWrittenByte(),this}writeFloat64(t){return this.ensureAvailable(8),this._data.setFloat64(this.offset,t,this.littleEndian),this.offset+=8,this._updateLastWrittenByte(),this}writeBigInt64(t){return this.ensureAvailable(8),this._data.setBigInt64(this.offset,t,this.littleEndian),this.offset+=8,this._updateLastWrittenByte(),this}writeBigUint64(t){return this.ensureAvailable(8),this._data.setBigUint64(this.offset,t,this.littleEndian),this.offset+=8,this._updateLastWrittenByte(),this}writeChar(t){return this.writeUint8(t.charCodeAt(0))}writeChars(t){for(let r=0;r<t.length;r++)this.writeUint8(t.charCodeAt(r));return this}writeUtf8(t){return this.writeBytes(j5e(t))}toArray(){return new Uint8Array(this.buffer,this.byteOffset,this.lastWrittenByte)}getWrittenByteLength(){return this.lastWrittenByte-this.byteOffset}_updateLastWrittenByte(){this.offset>this.lastWrittenByte&&(this.lastWrittenByte=this.offset)}}function kp(e){let t=e.length;for(;--t>=0;)e[t]=0}const k5e=3,E5e=258,TB=29,C5e=256,T5e=C5e+1+TB,OB=30,O5e=512,F5e=new Array((T5e+2)*2);kp(F5e);const D5e=new Array(OB*2);kp(D5e);const P5e=new Array(O5e);kp(P5e);const L5e=new Array(E5e-k5e+1);kp(L5e);const M5e=new Array(TB);kp(M5e);const R5e=new Array(OB);kp(R5e);const I5e=(e,t,r,n)=>{let a=e&65535|0,s=e>>>16&65535|0,l=0;for(;r!==0;){l=r>2e3?2e3:r,r-=l;do a=a+t[n++]|0,s=s+a|0;while(--l);a%=65521,s%=65521}return a|s<<16|0};var j_=I5e;const B5e=()=>{let e,t=[];for(var r=0;r<256;r++){e=r;for(var n=0;n<8;n++)e=e&1?3988292384^e>>>1:e>>>1;t[r]=e}return t},U5e=new Uint32Array(B5e()),z5e=(e,t,r,n)=>{const a=U5e,s=n+r;e^=-1;for(let l=n;l<s;l++)e=e>>>8^a[(e^t[l])&255];return e^-1};var su=z5e,S_={2:"need dictionary",1:"stream end",0:"","-1":"file error","-2":"stream error","-3":"data error","-4":"insufficient memory","-5":"buffer error","-6":"incompatible version"},FB={Z_NO_FLUSH:0,Z_FINISH:4,Z_BLOCK:5,Z_TREES:6,Z_OK:0,Z_STREAM_END:1,Z_NEED_DICT:2,Z_STREAM_ERROR:-2,Z_DATA_ERROR:-3,Z_MEM_ERROR:-4,Z_BUF_ERROR:-5,Z_DEFLATED:8};const q5e=(e,t)=>Object.prototype.hasOwnProperty.call(e,t);var $5e=function(e){const t=Array.prototype.slice.call(arguments,1);for(;t.length;){const r=t.shift();if(r){if(typeof r!="object")throw new TypeError(r+"must be non-object");for(const n in r)q5e(r,n)&&(e[n]=r[n])}}return e},H5e=e=>{let t=0;for(let n=0,a=e.length;n<a;n++)t+=e[n].length;const r=new Uint8Array(t);for(let n=0,a=0,s=e.length;n<s;n++){let l=e[n];r.set(l,a),a+=l.length}return r},DB={assign:$5e,flattenChunks:H5e};let PB=!0;try{String.fromCharCode.apply(null,new Uint8Array(1))}catch{PB=!1}const Ng=new Uint8Array(256);for(let e=0;e<256;e++)Ng[e]=e>=252?6:e>=248?5:e>=240?4:e>=224?3:e>=192?2:1;Ng[254]=Ng[254]=1;var V5e=e=>{if(typeof TextEncoder=="function"&&TextEncoder.prototype.encode)return new TextEncoder().encode(e);let t,r,n,a,s,l=e.length,o=0;for(a=0;a<l;a++)r=e.charCodeAt(a),(r&64512)===55296&&a+1<l&&(n=e.charCodeAt(a+1),(n&64512)===56320&&(r=65536+(r-55296<<10)+(n-56320),a++)),o+=r<128?1:r<2048?2:r<65536?3:4;for(t=new Uint8Array(o),s=0,a=0;s<o;a++)r=e.charCodeAt(a),(r&64512)===55296&&a+1<l&&(n=e.charCodeAt(a+1),(n&64512)===56320&&(r=65536+(r-55296<<10)+(n-56320),a++)),r<128?t[s++]=r:r<2048?(t[s++]=192|r>>>6,t[s++]=128|r&63):r<65536?(t[s++]=224|r>>>12,t[s++]=128|r>>>6&63,t[s++]=128|r&63):(t[s++]=240|r>>>18,t[s++]=128|r>>>12&63,t[s++]=128|r>>>6&63,t[s++]=128|r&63);return t};const W5e=(e,t)=>{if(t<65534&&e.subarray&&PB)return String.fromCharCode.apply(null,e.length===t?e:e.subarray(0,t));let r="";for(let n=0;n<t;n++)r+=String.fromCharCode(e[n]);return r};var K5e=(e,t)=>{const r=t||e.length;if(typeof TextDecoder=="function"&&TextDecoder.prototype.decode)return new TextDecoder().decode(e.subarray(0,t));let n,a;const s=new Array(r*2);for(a=0,n=0;n<r;){let l=e[n++];if(l<128){s[a++]=l;continue}let o=Ng[l];if(o>4){s[a++]=65533,n+=o-1;continue}for(l&=o===2?31:o===3?15:7;o>1&&n<r;)l=l<<6|e[n++]&63,o--;if(o>1){s[a++]=65533;continue}l<65536?s[a++]=l:(l-=65536,s[a++]=55296|l>>10&1023,s[a++]=56320|l&1023)}return W5e(s,a)},G5e=(e,t)=>{t=t||e.length,t>e.length&&(t=e.length);let r=t-1;for(;r>=0&&(e[r]&192)===128;)r--;return r<0||r===0?t:r+Ng[e[r]]>t?r:t},A_={string2buf:V5e,buf2string:K5e,utf8border:G5e};function Y5e(){this.input=null,this.next_in=0,this.avail_in=0,this.total_in=0,this.output=null,this.next_out=0,this.avail_out=0,this.total_out=0,this.msg="",this.state=null,this.data_type=2,this.adler=0}var X5e=Y5e;const Ev=16209,Q5e=16191;var Z5e=function(t,r){let n,a,s,l,o,u,d,h,m,g,x,b,v,w,N,E,j,T,O,D,C,P,B,H;const L=t.state;n=t.next_in,B=t.input,a=n+(t.avail_in-5),s=t.next_out,H=t.output,l=s-(r-t.avail_out),o=s+(t.avail_out-257),u=L.dmax,d=L.wsize,h=L.whave,m=L.wnext,g=L.window,x=L.hold,b=L.bits,v=L.lencode,w=L.distcode,N=(1<<L.lenbits)-1,E=(1<<L.distbits)-1;e:do{b<15&&(x+=B[n++]<<b,b+=8,x+=B[n++]<<b,b+=8),j=v[x&N];t:for(;;){if(T=j>>>24,x>>>=T,b-=T,T=j>>>16&255,T===0)H[s++]=j&65535;else if(T&16){O=j&65535,T&=15,T&&(b<T&&(x+=B[n++]<<b,b+=8),O+=x&(1<<T)-1,x>>>=T,b-=T),b<15&&(x+=B[n++]<<b,b+=8,x+=B[n++]<<b,b+=8),j=w[x&E];r:for(;;){if(T=j>>>24,x>>>=T,b-=T,T=j>>>16&255,T&16){if(D=j&65535,T&=15,b<T&&(x+=B[n++]<<b,b+=8,b<T&&(x+=B[n++]<<b,b+=8)),D+=x&(1<<T)-1,D>u){t.msg="invalid distance too far back",L.mode=Ev;break e}if(x>>>=T,b-=T,T=s-l,D>T){if(T=D-T,T>h&&L.sane){t.msg="invalid distance too far back",L.mode=Ev;break e}if(C=0,P=g,m===0){if(C+=d-T,T<O){O-=T;do H[s++]=g[C++];while(--T);C=s-D,P=H}}else if(m<T){if(C+=d+m-T,T-=m,T<O){O-=T;do H[s++]=g[C++];while(--T);if(C=0,m<O){T=m,O-=T;do H[s++]=g[C++];while(--T);C=s-D,P=H}}}else if(C+=m-T,T<O){O-=T;do H[s++]=g[C++];while(--T);C=s-D,P=H}for(;O>2;)H[s++]=P[C++],H[s++]=P[C++],H[s++]=P[C++],O-=3;O&&(H[s++]=P[C++],O>1&&(H[s++]=P[C++]))}else{C=s-D;do H[s++]=H[C++],H[s++]=H[C++],H[s++]=H[C++],O-=3;while(O>2);O&&(H[s++]=H[C++],O>1&&(H[s++]=H[C++]))}}else if((T&64)===0){j=w[(j&65535)+(x&(1<<T)-1)];continue r}else{t.msg="invalid distance code",L.mode=Ev;break e}break}}else if((T&64)===0){j=v[(j&65535)+(x&(1<<T)-1)];continue t}else if(T&32){L.mode=Q5e;break e}else{t.msg="invalid literal/length code",L.mode=Ev;break e}break}}while(n<a&&s<o);O=b>>3,n-=O,b-=O<<3,x&=(1<<b)-1,t.next_in=n,t.next_out=s,t.avail_in=n<a?5+(a-n):5-(n-a),t.avail_out=s<o?257+(o-s):257-(s-o),L.hold=x,L.bits=b};const Nm=15,o7=852,c7=592,u7=0,kN=1,d7=2,J5e=new Uint16Array([3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258,0,0]),eNe=new Uint8Array([16,16,16,16,16,16,16,16,17,17,17,17,18,18,18,18,19,19,19,19,20,20,20,20,21,21,21,21,16,72,78]),tNe=new Uint16Array([1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577,0,0]),rNe=new Uint8Array([16,16,16,16,17,17,18,18,19,19,20,20,21,21,22,22,23,23,24,24,25,25,26,26,27,27,28,28,29,29,64,64]),nNe=(e,t,r,n,a,s,l,o)=>{const u=o.bits;let d=0,h=0,m=0,g=0,x=0,b=0,v=0,w=0,N=0,E=0,j,T,O,D,C,P=null,B;const H=new Uint16Array(Nm+1),L=new Uint16Array(Nm+1);let U=null,V,Y,de;for(d=0;d<=Nm;d++)H[d]=0;for(h=0;h<n;h++)H[t[r+h]]++;for(x=u,g=Nm;g>=1&&H[g]===0;g--);if(x>g&&(x=g),g===0)return a[s++]=1<<24|64<<16|0,a[s++]=1<<24|64<<16|0,o.bits=1,0;for(m=1;m<g&&H[m]===0;m++);for(x<m&&(x=m),w=1,d=1;d<=Nm;d++)if(w<<=1,w-=H[d],w<0)return-1;if(w>0&&(e===u7||g!==1))return-1;for(L[1]=0,d=1;d<Nm;d++)L[d+1]=L[d]+H[d];for(h=0;h<n;h++)t[r+h]!==0&&(l[L[t[r+h]]++]=h);if(e===u7?(P=U=l,B=20):e===kN?(P=J5e,U=eNe,B=257):(P=tNe,U=rNe,B=0),E=0,h=0,d=m,C=s,b=x,v=0,O=-1,N=1<<x,D=N-1,e===kN&&N>o7||e===d7&&N>c7)return 1;for(;;){V=d-v,l[h]+1<B?(Y=0,de=l[h]):l[h]>=B?(Y=U[l[h]-B],de=P[l[h]-B]):(Y=96,de=0),j=1<<d-v,T=1<<b,m=T;do T-=j,a[C+(E>>v)+T]=V<<24|Y<<16|de|0;while(T!==0);for(j=1<<d-1;E&j;)j>>=1;if(j!==0?(E&=j-1,E+=j):E=0,h++,--H[d]===0){if(d===g)break;d=t[r+l[h]]}if(d>x&&(E&D)!==O){for(v===0&&(v=x),C+=m,b=d-v,w=1<<b;b+v<g&&(w-=H[b+v],!(w<=0));)b++,w<<=1;if(N+=1<<b,e===kN&&N>o7||e===d7&&N>c7)return 1;O=E&D,a[O]=x<<24|b<<16|C-s|0}}return E!==0&&(a[C+E]=d-v<<24|64<<16|0),o.bits=x,0};var Ux=nNe;const aNe=0,LB=1,MB=2,{Z_FINISH:f7,Z_BLOCK:sNe,Z_TREES:Cv,Z_OK:fh,Z_STREAM_END:iNe,Z_NEED_DICT:lNe,Z_STREAM_ERROR:Ko,Z_DATA_ERROR:RB,Z_MEM_ERROR:IB,Z_BUF_ERROR:oNe,Z_DEFLATED:h7}=FB,cb=16180,m7=16181,p7=16182,x7=16183,g7=16184,v7=16185,y7=16186,b7=16187,w7=16188,N7=16189,n2=16190,Xu=16191,EN=16192,_7=16193,CN=16194,j7=16195,S7=16196,A7=16197,k7=16198,Tv=16199,Ov=16200,E7=16201,C7=16202,T7=16203,O7=16204,F7=16205,TN=16206,D7=16207,P7=16208,da=16209,BB=16210,UB=16211,cNe=852,uNe=592,dNe=15,fNe=dNe,L7=e=>(e>>>24&255)+(e>>>8&65280)+((e&65280)<<8)+((e&255)<<24);function hNe(){this.strm=null,this.mode=0,this.last=!1,this.wrap=0,this.havedict=!1,this.flags=0,this.dmax=0,this.check=0,this.total=0,this.head=null,this.wbits=0,this.wsize=0,this.whave=0,this.wnext=0,this.window=null,this.hold=0,this.bits=0,this.length=0,this.offset=0,this.extra=0,this.lencode=null,this.distcode=null,this.lenbits=0,this.distbits=0,this.ncode=0,this.nlen=0,this.ndist=0,this.have=0,this.next=null,this.lens=new Uint16Array(320),this.work=new Uint16Array(288),this.lendyn=null,this.distdyn=null,this.sane=0,this.back=0,this.was=0}const Sh=e=>{if(!e)return 1;const t=e.state;return!t||t.strm!==e||t.mode<cb||t.mode>UB?1:0},zB=e=>{if(Sh(e))return Ko;const t=e.state;return e.total_in=e.total_out=t.total=0,e.msg="",t.wrap&&(e.adler=t.wrap&1),t.mode=cb,t.last=0,t.havedict=0,t.flags=-1,t.dmax=32768,t.head=null,t.hold=0,t.bits=0,t.lencode=t.lendyn=new Int32Array(cNe),t.distcode=t.distdyn=new Int32Array(uNe),t.sane=1,t.back=-1,fh},qB=e=>{if(Sh(e))return Ko;const t=e.state;return t.wsize=0,t.whave=0,t.wnext=0,zB(e)},$B=(e,t)=>{let r;if(Sh(e))return Ko;const n=e.state;return t<0?(r=0,t=-t):(r=(t>>4)+5,t<48&&(t&=15)),t&&(t<8||t>15)?Ko:(n.window!==null&&n.wbits!==t&&(n.window=null),n.wrap=r,n.wbits=t,qB(e))},HB=(e,t)=>{if(!e)return Ko;const r=new hNe;e.state=r,r.strm=e,r.window=null,r.mode=cb;const n=$B(e,t);return n!==fh&&(e.state=null),n},mNe=e=>HB(e,fNe);let M7=!0,ON,FN;const pNe=e=>{if(M7){ON=new Int32Array(512),FN=new Int32Array(32);let t=0;for(;t<144;)e.lens[t++]=8;for(;t<256;)e.lens[t++]=9;for(;t<280;)e.lens[t++]=7;for(;t<288;)e.lens[t++]=8;for(Ux(LB,e.lens,0,288,ON,0,e.work,{bits:9}),t=0;t<32;)e.lens[t++]=5;Ux(MB,e.lens,0,32,FN,0,e.work,{bits:5}),M7=!1}e.lencode=ON,e.lenbits=9,e.distcode=FN,e.distbits=5},VB=(e,t,r,n)=>{let a;const s=e.state;return s.window===null&&(s.wsize=1<<s.wbits,s.wnext=0,s.whave=0,s.window=new Uint8Array(s.wsize)),n>=s.wsize?(s.window.set(t.subarray(r-s.wsize,r),0),s.wnext=0,s.whave=s.wsize):(a=s.wsize-s.wnext,a>n&&(a=n),s.window.set(t.subarray(r-n,r-n+a),s.wnext),n-=a,n?(s.window.set(t.subarray(r-n,r),0),s.wnext=n,s.whave=s.wsize):(s.wnext+=a,s.wnext===s.wsize&&(s.wnext=0),s.whave<s.wsize&&(s.whave+=a))),0},xNe=(e,t)=>{let r,n,a,s,l,o,u,d,h,m,g,x,b,v,w=0,N,E,j,T,O,D,C,P;const B=new Uint8Array(4);let H,L;const U=new Uint8Array([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]);if(Sh(e)||!e.output||!e.input&&e.avail_in!==0)return Ko;r=e.state,r.mode===Xu&&(r.mode=EN),l=e.next_out,a=e.output,u=e.avail_out,s=e.next_in,n=e.input,o=e.avail_in,d=r.hold,h=r.bits,m=o,g=u,P=fh;e:for(;;)switch(r.mode){case cb:if(r.wrap===0){r.mode=EN;break}for(;h<16;){if(o===0)break e;o--,d+=n[s++]<<h,h+=8}if(r.wrap&2&&d===35615){r.wbits===0&&(r.wbits=15),r.check=0,B[0]=d&255,B[1]=d>>>8&255,r.check=su(r.check,B,2,0),d=0,h=0,r.mode=m7;break}if(r.head&&(r.head.done=!1),!(r.wrap&1)||(((d&255)<<8)+(d>>8))%31){e.msg="incorrect header check",r.mode=da;break}if((d&15)!==h7){e.msg="unknown compression method",r.mode=da;break}if(d>>>=4,h-=4,C=(d&15)+8,r.wbits===0&&(r.wbits=C),C>15||C>r.wbits){e.msg="invalid window size",r.mode=da;break}r.dmax=1<<r.wbits,r.flags=0,e.adler=r.check=1,r.mode=d&512?N7:Xu,d=0,h=0;break;case m7:for(;h<16;){if(o===0)break e;o--,d+=n[s++]<<h,h+=8}if(r.flags=d,(r.flags&255)!==h7){e.msg="unknown compression method",r.mode=da;break}if(r.flags&57344){e.msg="unknown header flags set",r.mode=da;break}r.head&&(r.head.text=d>>8&1),r.flags&512&&r.wrap&4&&(B[0]=d&255,B[1]=d>>>8&255,r.check=su(r.check,B,2,0)),d=0,h=0,r.mode=p7;case p7:for(;h<32;){if(o===0)break e;o--,d+=n[s++]<<h,h+=8}r.head&&(r.head.time=d),r.flags&512&&r.wrap&4&&(B[0]=d&255,B[1]=d>>>8&255,B[2]=d>>>16&255,B[3]=d>>>24&255,r.check=su(r.check,B,4,0)),d=0,h=0,r.mode=x7;case x7:for(;h<16;){if(o===0)break e;o--,d+=n[s++]<<h,h+=8}r.head&&(r.head.xflags=d&255,r.head.os=d>>8),r.flags&512&&r.wrap&4&&(B[0]=d&255,B[1]=d>>>8&255,r.check=su(r.check,B,2,0)),d=0,h=0,r.mode=g7;case g7:if(r.flags&1024){for(;h<16;){if(o===0)break e;o--,d+=n[s++]<<h,h+=8}r.length=d,r.head&&(r.head.extra_len=d),r.flags&512&&r.wrap&4&&(B[0]=d&255,B[1]=d>>>8&255,r.check=su(r.check,B,2,0)),d=0,h=0}else r.head&&(r.head.extra=null);r.mode=v7;case v7:if(r.flags&1024&&(x=r.length,x>o&&(x=o),x&&(r.head&&(C=r.head.extra_len-r.length,r.head.extra||(r.head.extra=new Uint8Array(r.head.extra_len)),r.head.extra.set(n.subarray(s,s+x),C)),r.flags&512&&r.wrap&4&&(r.check=su(r.check,n,x,s)),o-=x,s+=x,r.length-=x),r.length))break e;r.length=0,r.mode=y7;case y7:if(r.flags&2048){if(o===0)break e;x=0;do C=n[s+x++],r.head&&C&&r.length<65536&&(r.head.name+=String.fromCharCode(C));while(C&&x<o);if(r.flags&512&&r.wrap&4&&(r.check=su(r.check,n,x,s)),o-=x,s+=x,C)break e}else r.head&&(r.head.name=null);r.length=0,r.mode=b7;case b7:if(r.flags&4096){if(o===0)break e;x=0;do C=n[s+x++],r.head&&C&&r.length<65536&&(r.head.comment+=String.fromCharCode(C));while(C&&x<o);if(r.flags&512&&r.wrap&4&&(r.check=su(r.check,n,x,s)),o-=x,s+=x,C)break e}else r.head&&(r.head.comment=null);r.mode=w7;case w7:if(r.flags&512){for(;h<16;){if(o===0)break e;o--,d+=n[s++]<<h,h+=8}if(r.wrap&4&&d!==(r.check&65535)){e.msg="header crc mismatch",r.mode=da;break}d=0,h=0}r.head&&(r.head.hcrc=r.flags>>9&1,r.head.done=!0),e.adler=r.check=0,r.mode=Xu;break;case N7:for(;h<32;){if(o===0)break e;o--,d+=n[s++]<<h,h+=8}e.adler=r.check=L7(d),d=0,h=0,r.mode=n2;case n2:if(r.havedict===0)return e.next_out=l,e.avail_out=u,e.next_in=s,e.avail_in=o,r.hold=d,r.bits=h,lNe;e.adler=r.check=1,r.mode=Xu;case Xu:if(t===sNe||t===Cv)break e;case EN:if(r.last){d>>>=h&7,h-=h&7,r.mode=TN;break}for(;h<3;){if(o===0)break e;o--,d+=n[s++]<<h,h+=8}switch(r.last=d&1,d>>>=1,h-=1,d&3){case 0:r.mode=_7;break;case 1:if(pNe(r),r.mode=Tv,t===Cv){d>>>=2,h-=2;break e}break;case 2:r.mode=S7;break;case 3:e.msg="invalid block type",r.mode=da}d>>>=2,h-=2;break;case _7:for(d>>>=h&7,h-=h&7;h<32;){if(o===0)break e;o--,d+=n[s++]<<h,h+=8}if((d&65535)!==(d>>>16^65535)){e.msg="invalid stored block lengths",r.mode=da;break}if(r.length=d&65535,d=0,h=0,r.mode=CN,t===Cv)break e;case CN:r.mode=j7;case j7:if(x=r.length,x){if(x>o&&(x=o),x>u&&(x=u),x===0)break e;a.set(n.subarray(s,s+x),l),o-=x,s+=x,u-=x,l+=x,r.length-=x;break}r.mode=Xu;break;case S7:for(;h<14;){if(o===0)break e;o--,d+=n[s++]<<h,h+=8}if(r.nlen=(d&31)+257,d>>>=5,h-=5,r.ndist=(d&31)+1,d>>>=5,h-=5,r.ncode=(d&15)+4,d>>>=4,h-=4,r.nlen>286||r.ndist>30){e.msg="too many length or distance symbols",r.mode=da;break}r.have=0,r.mode=A7;case A7:for(;r.have<r.ncode;){for(;h<3;){if(o===0)break e;o--,d+=n[s++]<<h,h+=8}r.lens[U[r.have++]]=d&7,d>>>=3,h-=3}for(;r.have<19;)r.lens[U[r.have++]]=0;if(r.lencode=r.lendyn,r.lenbits=7,H={bits:r.lenbits},P=Ux(aNe,r.lens,0,19,r.lencode,0,r.work,H),r.lenbits=H.bits,P){e.msg="invalid code lengths set",r.mode=da;break}r.have=0,r.mode=k7;case k7:for(;r.have<r.nlen+r.ndist;){for(;w=r.lencode[d&(1<<r.lenbits)-1],N=w>>>24,E=w>>>16&255,j=w&65535,!(N<=h);){if(o===0)break e;o--,d+=n[s++]<<h,h+=8}if(j<16)d>>>=N,h-=N,r.lens[r.have++]=j;else{if(j===16){for(L=N+2;h<L;){if(o===0)break e;o--,d+=n[s++]<<h,h+=8}if(d>>>=N,h-=N,r.have===0){e.msg="invalid bit length repeat",r.mode=da;break}C=r.lens[r.have-1],x=3+(d&3),d>>>=2,h-=2}else if(j===17){for(L=N+3;h<L;){if(o===0)break e;o--,d+=n[s++]<<h,h+=8}d>>>=N,h-=N,C=0,x=3+(d&7),d>>>=3,h-=3}else{for(L=N+7;h<L;){if(o===0)break e;o--,d+=n[s++]<<h,h+=8}d>>>=N,h-=N,C=0,x=11+(d&127),d>>>=7,h-=7}if(r.have+x>r.nlen+r.ndist){e.msg="invalid bit length repeat",r.mode=da;break}for(;x--;)r.lens[r.have++]=C}}if(r.mode===da)break;if(r.lens[256]===0){e.msg="invalid code -- missing end-of-block",r.mode=da;break}if(r.lenbits=9,H={bits:r.lenbits},P=Ux(LB,r.lens,0,r.nlen,r.lencode,0,r.work,H),r.lenbits=H.bits,P){e.msg="invalid literal/lengths set",r.mode=da;break}if(r.distbits=6,r.distcode=r.distdyn,H={bits:r.distbits},P=Ux(MB,r.lens,r.nlen,r.ndist,r.distcode,0,r.work,H),r.distbits=H.bits,P){e.msg="invalid distances set",r.mode=da;break}if(r.mode=Tv,t===Cv)break e;case Tv:r.mode=Ov;case Ov:if(o>=6&&u>=258){e.next_out=l,e.avail_out=u,e.next_in=s,e.avail_in=o,r.hold=d,r.bits=h,Z5e(e,g),l=e.next_out,a=e.output,u=e.avail_out,s=e.next_in,n=e.input,o=e.avail_in,d=r.hold,h=r.bits,r.mode===Xu&&(r.back=-1);break}for(r.back=0;w=r.lencode[d&(1<<r.lenbits)-1],N=w>>>24,E=w>>>16&255,j=w&65535,!(N<=h);){if(o===0)break e;o--,d+=n[s++]<<h,h+=8}if(E&&(E&240)===0){for(T=N,O=E,D=j;w=r.lencode[D+((d&(1<<T+O)-1)>>T)],N=w>>>24,E=w>>>16&255,j=w&65535,!(T+N<=h);){if(o===0)break e;o--,d+=n[s++]<<h,h+=8}d>>>=T,h-=T,r.back+=T}if(d>>>=N,h-=N,r.back+=N,r.length=j,E===0){r.mode=F7;break}if(E&32){r.back=-1,r.mode=Xu;break}if(E&64){e.msg="invalid literal/length code",r.mode=da;break}r.extra=E&15,r.mode=E7;case E7:if(r.extra){for(L=r.extra;h<L;){if(o===0)break e;o--,d+=n[s++]<<h,h+=8}r.length+=d&(1<<r.extra)-1,d>>>=r.extra,h-=r.extra,r.back+=r.extra}r.was=r.length,r.mode=C7;case C7:for(;w=r.distcode[d&(1<<r.distbits)-1],N=w>>>24,E=w>>>16&255,j=w&65535,!(N<=h);){if(o===0)break e;o--,d+=n[s++]<<h,h+=8}if((E&240)===0){for(T=N,O=E,D=j;w=r.distcode[D+((d&(1<<T+O)-1)>>T)],N=w>>>24,E=w>>>16&255,j=w&65535,!(T+N<=h);){if(o===0)break e;o--,d+=n[s++]<<h,h+=8}d>>>=T,h-=T,r.back+=T}if(d>>>=N,h-=N,r.back+=N,E&64){e.msg="invalid distance code",r.mode=da;break}r.offset=j,r.extra=E&15,r.mode=T7;case T7:if(r.extra){for(L=r.extra;h<L;){if(o===0)break e;o--,d+=n[s++]<<h,h+=8}r.offset+=d&(1<<r.extra)-1,d>>>=r.extra,h-=r.extra,r.back+=r.extra}if(r.offset>r.dmax){e.msg="invalid distance too far back",r.mode=da;break}r.mode=O7;case O7:if(u===0)break e;if(x=g-u,r.offset>x){if(x=r.offset-x,x>r.whave&&r.sane){e.msg="invalid distance too far back",r.mode=da;break}x>r.wnext?(x-=r.wnext,b=r.wsize-x):b=r.wnext-x,x>r.length&&(x=r.length),v=r.window}else v=a,b=l-r.offset,x=r.length;x>u&&(x=u),u-=x,r.length-=x;do a[l++]=v[b++];while(--x);r.length===0&&(r.mode=Ov);break;case F7:if(u===0)break e;a[l++]=r.length,u--,r.mode=Ov;break;case TN:if(r.wrap){for(;h<32;){if(o===0)break e;o--,d|=n[s++]<<h,h+=8}if(g-=u,e.total_out+=g,r.total+=g,r.wrap&4&&g&&(e.adler=r.check=r.flags?su(r.check,a,g,l-g):j_(r.check,a,g,l-g)),g=u,r.wrap&4&&(r.flags?d:L7(d))!==r.check){e.msg="incorrect data check",r.mode=da;break}d=0,h=0}r.mode=D7;case D7:if(r.wrap&&r.flags){for(;h<32;){if(o===0)break e;o--,d+=n[s++]<<h,h+=8}if(r.wrap&4&&d!==(r.total&4294967295)){e.msg="incorrect length check",r.mode=da;break}d=0,h=0}r.mode=P7;case P7:P=iNe;break e;case da:P=RB;break e;case BB:return IB;case UB:default:return Ko}return e.next_out=l,e.avail_out=u,e.next_in=s,e.avail_in=o,r.hold=d,r.bits=h,(r.wsize||g!==e.avail_out&&r.mode<da&&(r.mode<TN||t!==f7))&&VB(e,e.output,e.next_out,g-e.avail_out),m-=e.avail_in,g-=e.avail_out,e.total_in+=m,e.total_out+=g,r.total+=g,r.wrap&4&&g&&(e.adler=r.check=r.flags?su(r.check,a,g,e.next_out-g):j_(r.check,a,g,e.next_out-g)),e.data_type=r.bits+(r.last?64:0)+(r.mode===Xu?128:0)+(r.mode===Tv||r.mode===CN?256:0),(m===0&&g===0||t===f7)&&P===fh&&(P=oNe),P},gNe=e=>{if(Sh(e))return Ko;let t=e.state;return t.window&&(t.window=null),e.state=null,fh},vNe=(e,t)=>{if(Sh(e))return Ko;const r=e.state;return(r.wrap&2)===0?Ko:(r.head=t,t.done=!1,fh)},yNe=(e,t)=>{const r=t.length;let n,a,s;return Sh(e)||(n=e.state,n.wrap!==0&&n.mode!==n2)?Ko:n.mode===n2&&(a=1,a=j_(a,t,r,0),a!==n.check)?RB:(s=VB(e,t,r,r),s?(n.mode=BB,IB):(n.havedict=1,fh))};var bNe=qB,wNe=$B,NNe=zB,_Ne=mNe,jNe=HB,SNe=xNe,ANe=gNe,kNe=vNe,ENe=yNe,CNe="pako inflate (from Nodeca project)",Qu={inflateReset:bNe,inflateReset2:wNe,inflateResetKeep:NNe,inflateInit:_Ne,inflateInit2:jNe,inflate:SNe,inflateEnd:ANe,inflateGetHeader:kNe,inflateSetDictionary:ENe,inflateInfo:CNe};function TNe(){this.text=0,this.time=0,this.xflags=0,this.os=0,this.extra=null,this.extra_len=0,this.name="",this.comment="",this.hcrc=0,this.done=!1}var ONe=TNe;const WB=Object.prototype.toString,{Z_NO_FLUSH:FNe,Z_FINISH:DNe,Z_OK:_g,Z_STREAM_END:DN,Z_NEED_DICT:PN,Z_STREAM_ERROR:PNe,Z_DATA_ERROR:R7,Z_MEM_ERROR:LNe}=FB;function a1(e){this.options=DB.assign({chunkSize:1024*64,windowBits:15,to:""},e||{});const t=this.options;t.raw&&t.windowBits>=0&&t.windowBits<16&&(t.windowBits=-t.windowBits,t.windowBits===0&&(t.windowBits=-15)),t.windowBits>=0&&t.windowBits<16&&!(e&&e.windowBits)&&(t.windowBits+=32),t.windowBits>15&&t.windowBits<48&&(t.windowBits&15)===0&&(t.windowBits|=15),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new X5e,this.strm.avail_out=0;let r=Qu.inflateInit2(this.strm,t.windowBits);if(r!==_g)throw new Error(S_[r]);if(this.header=new ONe,Qu.inflateGetHeader(this.strm,this.header),t.dictionary&&(typeof t.dictionary=="string"?t.dictionary=A_.string2buf(t.dictionary):WB.call(t.dictionary)==="[object ArrayBuffer]"&&(t.dictionary=new Uint8Array(t.dictionary)),t.raw&&(r=Qu.inflateSetDictionary(this.strm,t.dictionary),r!==_g)))throw new Error(S_[r])}a1.prototype.push=function(e,t){const r=this.strm,n=this.options.chunkSize,a=this.options.dictionary;let s,l,o;if(this.ended)return!1;for(t===~~t?l=t:l=t===!0?DNe:FNe,WB.call(e)==="[object ArrayBuffer]"?r.input=new Uint8Array(e):r.input=e,r.next_in=0,r.avail_in=r.input.length;;){for(r.avail_out===0&&(r.output=new Uint8Array(n),r.next_out=0,r.avail_out=n),s=Qu.inflate(r,l),s===PN&&a&&(s=Qu.inflateSetDictionary(r,a),s===_g?s=Qu.inflate(r,l):s===R7&&(s=PN));r.avail_in>0&&s===DN&&r.state.wrap>0&&e[r.next_in]!==0;)Qu.inflateReset(r),s=Qu.inflate(r,l);switch(s){case PNe:case R7:case PN:case LNe:return this.onEnd(s),this.ended=!0,!1}if(o=r.avail_out,r.next_out&&(r.avail_out===0||s===DN))if(this.options.to==="string"){let u=A_.utf8border(r.output,r.next_out),d=r.next_out-u,h=A_.buf2string(r.output,u);r.next_out=d,r.avail_out=n-d,d&&r.output.set(r.output.subarray(u,u+d),0),this.onData(h)}else this.onData(r.output.length===r.next_out?r.output:r.output.subarray(0,r.next_out));if(!(s===_g&&o===0)){if(s===DN)return s=Qu.inflateEnd(this.strm),this.onEnd(s),this.ended=!0,!0;if(r.avail_in===0)break}}return!0};a1.prototype.onData=function(e){this.chunks.push(e)};a1.prototype.onEnd=function(e){e===_g&&(this.options.to==="string"?this.result=this.chunks.join(""):this.result=DB.flattenChunks(this.chunks)),this.chunks=[],this.err=e,this.msg=this.strm.msg};function MNe(e,t){const r=new a1(t);if(r.push(e),r.err)throw r.msg||S_[r.err];return r.result}var RNe=a1,INe=MNe,BNe={Inflate:RNe,inflate:INe};const{Inflate:UNe,inflate:zNe}=BNe;var I7=UNe,qNe=zNe;const KB=[];for(let e=0;e<256;e++){let t=e;for(let r=0;r<8;r++)t&1?t=3988292384^t>>>1:t=t>>>1;KB[e]=t}const B7=4294967295;function $Ne(e,t,r){let n=e;for(let a=0;a<r;a++)n=KB[(n^t[a])&255]^n>>>8;return n}function HNe(e,t){return($Ne(B7,e,t)^B7)>>>0}function U7(e,t,r){const n=e.readUint32(),a=HNe(new Uint8Array(e.buffer,e.byteOffset+e.offset-t-4,t),t);if(a!==n)throw new Error(`CRC mismatch for chunk ${r}. Expected ${n}, found ${a}`)}function GB(e,t,r){for(let n=0;n<r;n++)t[n]=e[n]}function YB(e,t,r,n){let a=0;for(;a<n;a++)t[a]=e[a];for(;a<r;a++)t[a]=e[a]+t[a-n]&255}function XB(e,t,r,n){let a=0;if(r.length===0)for(;a<n;a++)t[a]=e[a];else for(;a<n;a++)t[a]=e[a]+r[a]&255}function QB(e,t,r,n,a){let s=0;if(r.length===0){for(;s<a;s++)t[s]=e[s];for(;s<n;s++)t[s]=e[s]+(t[s-a]>>1)&255}else{for(;s<a;s++)t[s]=e[s]+(r[s]>>1)&255;for(;s<n;s++)t[s]=e[s]+(t[s-a]+r[s]>>1)&255}}function ZB(e,t,r,n,a){let s=0;if(r.length===0){for(;s<a;s++)t[s]=e[s];for(;s<n;s++)t[s]=e[s]+t[s-a]&255}else{for(;s<a;s++)t[s]=e[s]+r[s]&255;for(;s<n;s++)t[s]=e[s]+VNe(t[s-a],r[s],r[s-a])&255}}function VNe(e,t,r){const n=e+t-r,a=Math.abs(n-e),s=Math.abs(n-t),l=Math.abs(n-r);return a<=s&&a<=l?e:s<=l?t:r}function WNe(e,t,r,n,a,s){switch(e){case 0:GB(t,r,a);break;case 1:YB(t,r,a,s);break;case 2:XB(t,r,n,a);break;case 3:QB(t,r,n,a,s);break;case 4:ZB(t,r,n,a,s);break;default:throw new Error(`Unsupported filter: ${e}`)}}const KNe=new Uint16Array([255]),GNe=new Uint8Array(KNe.buffer),YNe=GNe[0]===255;function XNe(e){const{data:t,width:r,height:n,channels:a,depth:s}=e,l=[{x:0,y:0,xStep:8,yStep:8},{x:4,y:0,xStep:8,yStep:8},{x:0,y:4,xStep:4,yStep:8},{x:2,y:0,xStep:4,yStep:4},{x:0,y:2,xStep:2,yStep:4},{x:1,y:0,xStep:2,yStep:2},{x:0,y:1,xStep:1,yStep:2}],o=Math.ceil(s/8)*a,u=new Uint8Array(n*r*o);let d=0;for(let h=0;h<7;h++){const m=l[h],g=Math.ceil((r-m.x)/m.xStep),x=Math.ceil((n-m.y)/m.yStep);if(g<=0||x<=0)continue;const b=g*o,v=new Uint8Array(b);for(let w=0;w<x;w++){const N=t[d++],E=t.subarray(d,d+b);d+=b;const j=new Uint8Array(b);WNe(N,E,j,v,b,o),v.set(j);for(let T=0;T<g;T++){const O=m.x+T*m.xStep,D=m.y+w*m.yStep;if(!(O>=r||D>=n))for(let C=0;C<o;C++)u[(D*r+O)*o+C]=j[T*o+C]}}}if(s===16){const h=new Uint16Array(u.buffer);if(YNe)for(let m=0;m<h.length;m++)h[m]=QNe(h[m]);return h}else return u}function QNe(e){return(e&255)<<8|e>>8&255}const ZNe=new Uint16Array([255]),JNe=new Uint8Array(ZNe.buffer),e4e=JNe[0]===255,t4e=new Uint8Array(0);function z7(e){const{data:t,width:r,height:n,channels:a,depth:s}=e,l=Math.ceil(s/8)*a,o=Math.ceil(s/8*a*r),u=new Uint8Array(n*o);let d=t4e,h=0,m,g;for(let x=0;x<n;x++){switch(m=t.subarray(h+1,h+1+o),g=u.subarray(x*o,(x+1)*o),t[h]){case 0:GB(m,g,o);break;case 1:YB(m,g,o,l);break;case 2:XB(m,g,d,o);break;case 3:QB(m,g,d,o,l);break;case 4:ZB(m,g,d,o,l);break;default:throw new Error(`Unsupported filter: ${t[h]}`)}d=g,h+=o+1}if(s===16){const x=new Uint16Array(u.buffer);if(e4e)for(let b=0;b<x.length;b++)x[b]=r4e(x[b]);return x}else return u}function r4e(e){return(e&255)<<8|e>>8&255}const Hv=Uint8Array.of(137,80,78,71,13,10,26,10);function q7(e){if(!n4e(e.readBytes(Hv.length)))throw new Error("wrong PNG signature")}function n4e(e){if(e.length<Hv.length)return!1;for(let t=0;t<Hv.length;t++)if(e[t]!==Hv[t])return!1;return!0}const a4e="tEXt",s4e=0,JB=new TextDecoder("latin1");function i4e(e){if(o4e(e),e.length===0||e.length>79)throw new Error("keyword length must be between 1 and 79")}const l4e=/^[\u0000-\u00FF]*$/;function o4e(e){if(!l4e.test(e))throw new Error("invalid latin1 text")}function c4e(e,t,r){const n=eU(t);e[n]=u4e(t,r-n.length-1)}function eU(e){for(e.mark();e.readByte()!==s4e;);const t=e.offset;e.reset();const r=JB.decode(e.readBytes(t-e.offset-1));return e.skip(1),i4e(r),r}function u4e(e,t){return JB.decode(e.readBytes(t))}const Vl={UNKNOWN:-1,GREYSCALE:0,TRUECOLOUR:2,INDEXED_COLOUR:3,GREYSCALE_ALPHA:4,TRUECOLOUR_ALPHA:6},LN={UNKNOWN:-1,DEFLATE:0},$7={UNKNOWN:-1,ADAPTIVE:0},MN={UNKNOWN:-1,NO_INTERLACE:0,ADAM7:1},Fv={NONE:0,BACKGROUND:1,PREVIOUS:2},RN={SOURCE:0,OVER:1};class d4e extends VS{_checkCrc;_inflator;_png;_apng;_end;_hasPalette;_palette;_hasTransparency;_transparency;_compressionMethod;_filterMethod;_interlaceMethod;_colorType;_isAnimated;_numberOfFrames;_numberOfPlays;_frames;_writingDataChunks;constructor(t,r={}){super(t);const{checkCrc:n=!1}=r;this._checkCrc=n,this._inflator=new I7,this._png={width:-1,height:-1,channels:-1,data:new Uint8Array(0),depth:1,text:{}},this._apng={width:-1,height:-1,channels:-1,depth:1,numberOfFrames:1,numberOfPlays:0,text:{},frames:[]},this._end=!1,this._hasPalette=!1,this._palette=[],this._hasTransparency=!1,this._transparency=new Uint16Array(0),this._compressionMethod=LN.UNKNOWN,this._filterMethod=$7.UNKNOWN,this._interlaceMethod=MN.UNKNOWN,this._colorType=Vl.UNKNOWN,this._isAnimated=!1,this._numberOfFrames=1,this._numberOfPlays=0,this._frames=[],this._writingDataChunks=!1,this.setBigEndian()}decode(){for(q7(this);!this._end;){const t=this.readUint32(),r=this.readChars(4);this.decodeChunk(t,r)}return this.decodeImage(),this._png}decodeApng(){for(q7(this);!this._end;){const t=this.readUint32(),r=this.readChars(4);this.decodeApngChunk(t,r)}return this.decodeApngImage(),this._apng}decodeChunk(t,r){const n=this.offset;switch(r){case"IHDR":this.decodeIHDR();break;case"PLTE":this.decodePLTE(t);break;case"IDAT":this.decodeIDAT(t);break;case"IEND":this._end=!0;break;case"tRNS":this.decodetRNS(t);break;case"iCCP":this.decodeiCCP(t);break;case a4e:c4e(this._png.text,this,t);break;case"pHYs":this.decodepHYs();break;default:this.skip(t);break}if(this.offset-n!==t)throw new Error(`Length mismatch while decoding chunk ${r}`);this._checkCrc?U7(this,t+4,r):this.skip(4)}decodeApngChunk(t,r){const n=this.offset;switch(r!=="fdAT"&&r!=="IDAT"&&this._writingDataChunks&&this.pushDataToFrame(),r){case"acTL":this.decodeACTL();break;case"fcTL":this.decodeFCTL();break;case"fdAT":this.decodeFDAT(t);break;default:this.decodeChunk(t,r),this.offset=n+t;break}if(this.offset-n!==t)throw new Error(`Length mismatch while decoding chunk ${r}`);this._checkCrc?U7(this,t+4,r):this.skip(4)}decodeIHDR(){const t=this._png;t.width=this.readUint32(),t.height=this.readUint32(),t.depth=f4e(this.readUint8());const r=this.readUint8();this._colorType=r;let n;switch(r){case Vl.GREYSCALE:n=1;break;case Vl.TRUECOLOUR:n=3;break;case Vl.INDEXED_COLOUR:n=1;break;case Vl.GREYSCALE_ALPHA:n=2;break;case Vl.TRUECOLOUR_ALPHA:n=4;break;case Vl.UNKNOWN:default:throw new Error(`Unknown color type: ${r}`)}if(this._png.channels=n,this._compressionMethod=this.readUint8(),this._compressionMethod!==LN.DEFLATE)throw new Error(`Unsupported compression method: ${this._compressionMethod}`);this._filterMethod=this.readUint8(),this._interlaceMethod=this.readUint8()}decodeACTL(){this._numberOfFrames=this.readUint32(),this._numberOfPlays=this.readUint32(),this._isAnimated=!0}decodeFCTL(){const t={sequenceNumber:this.readUint32(),width:this.readUint32(),height:this.readUint32(),xOffset:this.readUint32(),yOffset:this.readUint32(),delayNumber:this.readUint16(),delayDenominator:this.readUint16(),disposeOp:this.readUint8(),blendOp:this.readUint8(),data:new Uint8Array(0)};this._frames.push(t)}decodePLTE(t){if(t%3!==0)throw new RangeError(`PLTE field length must be a multiple of 3. Got ${t}`);const r=t/3;this._hasPalette=!0;const n=[];this._palette=n;for(let a=0;a<r;a++)n.push([this.readUint8(),this.readUint8(),this.readUint8()])}decodeIDAT(t){this._writingDataChunks=!0;const r=t,n=this.offset+this.byteOffset;if(this._inflator.push(new Uint8Array(this.buffer,n,r)),this._inflator.err)throw new Error(`Error while decompressing the data: ${this._inflator.err}`);this.skip(t)}decodeFDAT(t){this._writingDataChunks=!0;let r=t,n=this.offset+this.byteOffset;if(n+=4,r-=4,this._inflator.push(new Uint8Array(this.buffer,n,r)),this._inflator.err)throw new Error(`Error while decompressing the data: ${this._inflator.err}`);this.skip(t)}decodetRNS(t){switch(this._colorType){case Vl.GREYSCALE:case Vl.TRUECOLOUR:{if(t%2!==0)throw new RangeError(`tRNS chunk length must be a multiple of 2. Got ${t}`);if(t/2>this._png.width*this._png.height)throw new Error(`tRNS chunk contains more alpha values than there are pixels (${t/2} vs ${this._png.width*this._png.height})`);this._hasTransparency=!0,this._transparency=new Uint16Array(t/2);for(let r=0;r<t/2;r++)this._transparency[r]=this.readUint16();break}case Vl.INDEXED_COLOUR:{if(t>this._palette.length)throw new Error(`tRNS chunk contains more alpha values than there are palette colors (${t} vs ${this._palette.length})`);let r=0;for(;r<t;r++){const n=this.readByte();this._palette[r].push(n)}for(;r<this._palette.length;r++)this._palette[r].push(255);break}case Vl.UNKNOWN:case Vl.GREYSCALE_ALPHA:case Vl.TRUECOLOUR_ALPHA:default:throw new Error(`tRNS chunk is not supported for color type ${this._colorType}`)}}decodeiCCP(t){const r=eU(this),n=this.readUint8();if(n!==LN.DEFLATE)throw new Error(`Unsupported iCCP compression method: ${n}`);const a=this.readBytes(t-r.length-2);this._png.iccEmbeddedProfile={name:r,profile:qNe(a)}}decodepHYs(){const t=this.readUint32(),r=this.readUint32(),n=this.readByte();this._png.resolution={x:t,y:r,unit:n}}decodeApngImage(){this._apng.width=this._png.width,this._apng.height=this._png.height,this._apng.channels=this._png.channels,this._apng.depth=this._png.depth,this._apng.numberOfFrames=this._numberOfFrames,this._apng.numberOfPlays=this._numberOfPlays,this._apng.text=this._png.text,this._apng.resolution=this._png.resolution;for(let t=0;t<this._numberOfFrames;t++){const r={sequenceNumber:this._frames[t].sequenceNumber,delayNumber:this._frames[t].delayNumber,delayDenominator:this._frames[t].delayDenominator,data:this._apng.depth===8?new Uint8Array(this._apng.width*this._apng.height*this._apng.channels):new Uint16Array(this._apng.width*this._apng.height*this._apng.channels)},n=this._frames.at(t);if(n){if(n.data=z7({data:n.data,width:n.width,height:n.height,channels:this._apng.channels,depth:this._apng.depth}),this._hasPalette&&(this._apng.palette=this._palette),this._hasTransparency&&(this._apng.transparency=this._transparency),t===0||n.xOffset===0&&n.yOffset===0&&n.width===this._png.width&&n.height===this._png.height)r.data=n.data;else{const a=this._apng.frames.at(t-1);this.disposeFrame(n,a,r),this.addFrameDataToCanvas(r,n)}this._apng.frames.push(r)}}return this._apng}disposeFrame(t,r,n){switch(t.disposeOp){case Fv.NONE:break;case Fv.BACKGROUND:for(let a=0;a<this._png.height;a++)for(let s=0;s<this._png.width;s++){const l=(a*t.width+s)*this._png.channels;for(let o=0;o<this._png.channels;o++)n.data[l+o]=0}break;case Fv.PREVIOUS:n.data.set(r.data);break;default:throw new Error("Unknown disposeOp")}}addFrameDataToCanvas(t,r){const n=1<<this._png.depth,a=(s,l)=>{const o=((s+r.yOffset)*this._png.width+r.xOffset+l)*this._png.channels,u=(s*r.width+l)*this._png.channels;return{index:o,frameIndex:u}};switch(r.blendOp){case RN.SOURCE:for(let s=0;s<r.height;s++)for(let l=0;l<r.width;l++){const{index:o,frameIndex:u}=a(s,l);for(let d=0;d<this._png.channels;d++)t.data[o+d]=r.data[u+d]}break;case RN.OVER:for(let s=0;s<r.height;s++)for(let l=0;l<r.width;l++){const{index:o,frameIndex:u}=a(s,l);for(let d=0;d<this._png.channels;d++){const h=r.data[u+this._png.channels-1]/n,m=d%(this._png.channels-1)===0?1:r.data[u+d],g=Math.floor(h*m+(1-h)*t.data[o+d]);t.data[o+d]+=g}}break;default:throw new Error("Unknown blendOp")}}decodeImage(){if(this._inflator.err)throw new Error(`Error while decompressing the data: ${this._inflator.err}`);const t=this._isAnimated?(this._frames?.at(0)).data:this._inflator.result;if(this._filterMethod!==$7.ADAPTIVE)throw new Error(`Filter method ${this._filterMethod} not supported`);if(this._interlaceMethod===MN.NO_INTERLACE)this._png.data=z7({data:t,width:this._png.width,height:this._png.height,channels:this._png.channels,depth:this._png.depth});else if(this._interlaceMethod===MN.ADAM7)this._png.data=XNe({data:t,width:this._png.width,height:this._png.height,channels:this._png.channels,depth:this._png.depth});else throw new Error(`Interlace method ${this._interlaceMethod} not supported`);this._hasPalette&&(this._png.palette=this._palette),this._hasTransparency&&(this._png.transparency=this._transparency)}pushDataToFrame(){const t=this._inflator.result,r=this._frames.at(-1);r?r.data=t:this._frames.push({sequenceNumber:0,width:this._png.width,height:this._png.height,xOffset:0,yOffset:0,delayNumber:0,delayDenominator:0,disposeOp:Fv.NONE,blendOp:RN.SOURCE,data:t}),this._inflator=new I7,this._writingDataChunks=!1}}function f4e(e){if(e!==1&&e!==2&&e!==4&&e!==8&&e!==16)throw new Error(`invalid bit depth: ${e}`);return e}var H7;(function(e){e[e.UNKNOWN=0]="UNKNOWN",e[e.METRE=1]="METRE"})(H7||(H7={}));function h4e(e,t){return new d4e(e,t).decode()}var pr=(function(){return typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:this})();function IN(){pr.console&&typeof pr.console.log=="function"&&pr.console.log.apply(pr.console,arguments)}var zn={log:IN,warn:function(e){pr.console&&(typeof pr.console.warn=="function"?pr.console.warn.apply(pr.console,arguments):IN.call(null,arguments))},error:function(e){pr.console&&(typeof pr.console.error=="function"?pr.console.error.apply(pr.console,arguments):IN(e))}};function BN(e,t,r){var n=new XMLHttpRequest;n.open("GET",e),n.responseType="blob",n.onload=function(){k0(n.response,t,r)},n.onerror=function(){zn.error("could not download file")},n.send()}function V7(e){var t=new XMLHttpRequest;t.open("HEAD",e,!1);try{t.send()}catch{}return t.status>=200&&t.status<=299}function Dv(e){try{e.dispatchEvent(new MouseEvent("click"))}catch{var t=document.createEvent("MouseEvents");t.initMouseEvent("click",!0,!0,window,0,0,0,80,20,!1,!1,!1,!1,0,null),e.dispatchEvent(t)}}var k0=pr.saveAs||((typeof window>"u"?"undefined":jn(window))!=="object"||window!==pr?function(){}:typeof HTMLAnchorElement<"u"&&"download"in HTMLAnchorElement.prototype?function(e,t,r){var n=pr.URL||pr.webkitURL,a=document.createElement("a");t=t||e.name||"download",a.download=t,a.rel="noopener",typeof e=="string"?(a.href=e,a.origin!==location.origin?V7(a.href)?BN(e,t,r):Dv(a,a.target="_blank"):Dv(a)):(a.href=n.createObjectURL(e),setTimeout(function(){n.revokeObjectURL(a.href)},4e4),setTimeout(function(){Dv(a)},0))}:"msSaveOrOpenBlob"in navigator?function(e,t,r){if(t=t||e.name||"download",typeof e=="string")if(V7(e))BN(e,t,r);else{var n=document.createElement("a");n.href=e,n.target="_blank",setTimeout(function(){Dv(n)})}else navigator.msSaveOrOpenBlob((function(a,s){return s===void 0?s={autoBom:!1}:jn(s)!=="object"&&(zn.warn("Deprecated: Expected third argument to be a object"),s={autoBom:!s}),s.autoBom&&/^\s*(?:text\/\S*|application\/xml|\S*\/\S*\+xml)\s*;.*charset\s*=\s*utf-8/i.test(a.type)?new Blob(["\uFEFF",a],{type:a.type}):a})(e,r),t)}:function(e,t,r,n){if((n=n||open("","_blank"))&&(n.document.title=n.document.body.innerText="downloading..."),typeof e=="string")return BN(e,t,r);var a=e.type==="application/octet-stream",s=/constructor/i.test(pr.HTMLElement)||pr.safari,l=/CriOS\/[\d]+/.test(navigator.userAgent);if((l||a&&s)&&(typeof FileReader>"u"?"undefined":jn(FileReader))==="object"){var o=new FileReader;o.onloadend=function(){var h=o.result;h=l?h:h.replace(/^data:[^;]*;/,"data:attachment/file;"),n?n.location.href=h:location=h,n=null},o.readAsDataURL(e)}else{var u=pr.URL||pr.webkitURL,d=u.createObjectURL(e);n?n.location=d:location.href=d,n=null,setTimeout(function(){u.revokeObjectURL(d)},4e4)}});/**
 * A class to parse color values
 * @author Stoyan Stefanov <sstoo@gmail.com>
 * {@link   http://www.phpied.com/rgb-color-parser-in-javascript/}
 * @license Use it if you like it
 */function tU(e){var t;e=e||"",this.ok=!1,e.charAt(0)=="#"&&(e=e.substr(1,6)),e={aliceblue:"f0f8ff",antiquewhite:"faebd7",aqua:"00ffff",aquamarine:"7fffd4",azure:"f0ffff",beige:"f5f5dc",bisque:"ffe4c4",black:"000000",blanchedalmond:"ffebcd",blue:"0000ff",blueviolet:"8a2be2",brown:"a52a2a",burlywood:"deb887",cadetblue:"5f9ea0",chartreuse:"7fff00",chocolate:"d2691e",coral:"ff7f50",cornflowerblue:"6495ed",cornsilk:"fff8dc",crimson:"dc143c",cyan:"00ffff",darkblue:"00008b",darkcyan:"008b8b",darkgoldenrod:"b8860b",darkgray:"a9a9a9",darkgreen:"006400",darkkhaki:"bdb76b",darkmagenta:"8b008b",darkolivegreen:"556b2f",darkorange:"ff8c00",darkorchid:"9932cc",darkred:"8b0000",darksalmon:"e9967a",darkseagreen:"8fbc8f",darkslateblue:"483d8b",darkslategray:"2f4f4f",darkturquoise:"00ced1",darkviolet:"9400d3",deeppink:"ff1493",deepskyblue:"00bfff",dimgray:"696969",dodgerblue:"1e90ff",feldspar:"d19275",firebrick:"b22222",floralwhite:"fffaf0",forestgreen:"228b22",fuchsia:"ff00ff",gainsboro:"dcdcdc",ghostwhite:"f8f8ff",gold:"ffd700",goldenrod:"daa520",gray:"808080",green:"008000",greenyellow:"adff2f",honeydew:"f0fff0",hotpink:"ff69b4",indianred:"cd5c5c",indigo:"4b0082",ivory:"fffff0",khaki:"f0e68c",lavender:"e6e6fa",lavenderblush:"fff0f5",lawngreen:"7cfc00",lemonchiffon:"fffacd",lightblue:"add8e6",lightcoral:"f08080",lightcyan:"e0ffff",lightgoldenrodyellow:"fafad2",lightgrey:"d3d3d3",lightgreen:"90ee90",lightpink:"ffb6c1",lightsalmon:"ffa07a",lightseagreen:"20b2aa",lightskyblue:"87cefa",lightslateblue:"8470ff",lightslategray:"778899",lightsteelblue:"b0c4de",lightyellow:"ffffe0",lime:"00ff00",limegreen:"32cd32",linen:"faf0e6",magenta:"ff00ff",maroon:"800000",mediumaquamarine:"66cdaa",mediumblue:"0000cd",mediumorchid:"ba55d3",mediumpurple:"9370d8",mediumseagreen:"3cb371",mediumslateblue:"7b68ee",mediumspringgreen:"00fa9a",mediumturquoise:"48d1cc",mediumvioletred:"c71585",midnightblue:"191970",mintcream:"f5fffa",mistyrose:"ffe4e1",moccasin:"ffe4b5",navajowhite:"ffdead",navy:"000080",oldlace:"fdf5e6",olive:"808000",olivedrab:"6b8e23",orange:"ffa500",orangered:"ff4500",orchid:"da70d6",palegoldenrod:"eee8aa",palegreen:"98fb98",paleturquoise:"afeeee",palevioletred:"d87093",papayawhip:"ffefd5",peachpuff:"ffdab9",peru:"cd853f",pink:"ffc0cb",plum:"dda0dd",powderblue:"b0e0e6",purple:"800080",red:"ff0000",rosybrown:"bc8f8f",royalblue:"4169e1",saddlebrown:"8b4513",salmon:"fa8072",sandybrown:"f4a460",seagreen:"2e8b57",seashell:"fff5ee",sienna:"a0522d",silver:"c0c0c0",skyblue:"87ceeb",slateblue:"6a5acd",slategray:"708090",snow:"fffafa",springgreen:"00ff7f",steelblue:"4682b4",tan:"d2b48c",teal:"008080",thistle:"d8bfd8",tomato:"ff6347",turquoise:"40e0d0",violet:"ee82ee",violetred:"d02090",wheat:"f5deb3",white:"ffffff",whitesmoke:"f5f5f5",yellow:"ffff00",yellowgreen:"9acd32"}[e=(e=e.replace(/ /g,"")).toLowerCase()]||e;for(var r=[{re:/^rgb\((\d{1,3}),\s*(\d{1,3}),\s*(\d{1,3})\)$/,example:["rgb(123, 234, 45)","rgb(255,234,245)"],process:function(o){return[parseInt(o[1]),parseInt(o[2]),parseInt(o[3])]}},{re:/^(\w{2})(\w{2})(\w{2})$/,example:["#00ff00","336699"],process:function(o){return[parseInt(o[1],16),parseInt(o[2],16),parseInt(o[3],16)]}},{re:/^(\w{1})(\w{1})(\w{1})$/,example:["#fb0","f0f"],process:function(o){return[parseInt(o[1]+o[1],16),parseInt(o[2]+o[2],16),parseInt(o[3]+o[3],16)]}}],n=0;n<r.length;n++){var a=r[n].re,s=r[n].process,l=a.exec(e);l&&(t=s(l),this.r=t[0],this.g=t[1],this.b=t[2],this.ok=!0)}this.r=this.r<0||isNaN(this.r)?0:this.r>255?255:this.r,this.g=this.g<0||isNaN(this.g)?0:this.g>255?255:this.g,this.b=this.b<0||isNaN(this.b)?0:this.b>255?255:this.b,this.toRGB=function(){return"rgb("+this.r+", "+this.g+", "+this.b+")"},this.toHex=function(){var o=this.r.toString(16),u=this.g.toString(16),d=this.b.toString(16);return o.length==1&&(o="0"+o),u.length==1&&(u="0"+u),d.length==1&&(d="0"+d),"#"+o+u+d}}var Vv=pr.atob.bind(pr),W7=pr.btoa.bind(pr);/**
 * @license
 * Joseph Myers does not specify a particular license for his work.
 *
 * Author: Joseph Myers
 * Accessed from: http://www.myersdaily.org/joseph/javascript/md5.js
 *
 * Modified by: Owen Leong
 */function UN(e,t){var r=e[0],n=e[1],a=e[2],s=e[3];r=wi(r,n,a,s,t[0],7,-680876936),s=wi(s,r,n,a,t[1],12,-389564586),a=wi(a,s,r,n,t[2],17,606105819),n=wi(n,a,s,r,t[3],22,-1044525330),r=wi(r,n,a,s,t[4],7,-176418897),s=wi(s,r,n,a,t[5],12,1200080426),a=wi(a,s,r,n,t[6],17,-1473231341),n=wi(n,a,s,r,t[7],22,-45705983),r=wi(r,n,a,s,t[8],7,1770035416),s=wi(s,r,n,a,t[9],12,-1958414417),a=wi(a,s,r,n,t[10],17,-42063),n=wi(n,a,s,r,t[11],22,-1990404162),r=wi(r,n,a,s,t[12],7,1804603682),s=wi(s,r,n,a,t[13],12,-40341101),a=wi(a,s,r,n,t[14],17,-1502002290),r=Ni(r,n=wi(n,a,s,r,t[15],22,1236535329),a,s,t[1],5,-165796510),s=Ni(s,r,n,a,t[6],9,-1069501632),a=Ni(a,s,r,n,t[11],14,643717713),n=Ni(n,a,s,r,t[0],20,-373897302),r=Ni(r,n,a,s,t[5],5,-701558691),s=Ni(s,r,n,a,t[10],9,38016083),a=Ni(a,s,r,n,t[15],14,-660478335),n=Ni(n,a,s,r,t[4],20,-405537848),r=Ni(r,n,a,s,t[9],5,568446438),s=Ni(s,r,n,a,t[14],9,-1019803690),a=Ni(a,s,r,n,t[3],14,-187363961),n=Ni(n,a,s,r,t[8],20,1163531501),r=Ni(r,n,a,s,t[13],5,-1444681467),s=Ni(s,r,n,a,t[2],9,-51403784),a=Ni(a,s,r,n,t[7],14,1735328473),r=_i(r,n=Ni(n,a,s,r,t[12],20,-1926607734),a,s,t[5],4,-378558),s=_i(s,r,n,a,t[8],11,-2022574463),a=_i(a,s,r,n,t[11],16,1839030562),n=_i(n,a,s,r,t[14],23,-35309556),r=_i(r,n,a,s,t[1],4,-1530992060),s=_i(s,r,n,a,t[4],11,1272893353),a=_i(a,s,r,n,t[7],16,-155497632),n=_i(n,a,s,r,t[10],23,-1094730640),r=_i(r,n,a,s,t[13],4,681279174),s=_i(s,r,n,a,t[0],11,-358537222),a=_i(a,s,r,n,t[3],16,-722521979),n=_i(n,a,s,r,t[6],23,76029189),r=_i(r,n,a,s,t[9],4,-640364487),s=_i(s,r,n,a,t[12],11,-421815835),a=_i(a,s,r,n,t[15],16,530742520),r=ji(r,n=_i(n,a,s,r,t[2],23,-995338651),a,s,t[0],6,-198630844),s=ji(s,r,n,a,t[7],10,1126891415),a=ji(a,s,r,n,t[14],15,-1416354905),n=ji(n,a,s,r,t[5],21,-57434055),r=ji(r,n,a,s,t[12],6,1700485571),s=ji(s,r,n,a,t[3],10,-1894986606),a=ji(a,s,r,n,t[10],15,-1051523),n=ji(n,a,s,r,t[1],21,-2054922799),r=ji(r,n,a,s,t[8],6,1873313359),s=ji(s,r,n,a,t[15],10,-30611744),a=ji(a,s,r,n,t[6],15,-1560198380),n=ji(n,a,s,r,t[13],21,1309151649),r=ji(r,n,a,s,t[4],6,-145523070),s=ji(s,r,n,a,t[11],10,-1120210379),a=ji(a,s,r,n,t[2],15,718787259),n=ji(n,a,s,r,t[9],21,-343485551),e[0]=jf(r,e[0]),e[1]=jf(n,e[1]),e[2]=jf(a,e[2]),e[3]=jf(s,e[3])}function ub(e,t,r,n,a,s){return t=jf(jf(t,e),jf(n,s)),jf(t<<a|t>>>32-a,r)}function wi(e,t,r,n,a,s,l){return ub(t&r|~t&n,e,t,a,s,l)}function Ni(e,t,r,n,a,s,l){return ub(t&n|r&~n,e,t,a,s,l)}function _i(e,t,r,n,a,s,l){return ub(t^r^n,e,t,a,s,l)}function ji(e,t,r,n,a,s,l){return ub(r^(t|~n),e,t,a,s,l)}function rU(e){var t,r=e.length,n=[1732584193,-271733879,-1732584194,271733878];for(t=64;t<=e.length;t+=64)UN(n,m4e(e.substring(t-64,t)));e=e.substring(t-64);var a=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0];for(t=0;t<e.length;t++)a[t>>2]|=e.charCodeAt(t)<<(t%4<<3);if(a[t>>2]|=128<<(t%4<<3),t>55)for(UN(n,a),t=0;t<16;t++)a[t]=0;return a[14]=8*r,UN(n,a),n}function m4e(e){var t,r=[];for(t=0;t<64;t+=4)r[t>>2]=e.charCodeAt(t)+(e.charCodeAt(t+1)<<8)+(e.charCodeAt(t+2)<<16)+(e.charCodeAt(t+3)<<24);return r}var K7="0123456789abcdef".split("");function p4e(e){for(var t="",r=0;r<4;r++)t+=K7[e>>8*r+4&15]+K7[e>>8*r&15];return t}function x4e(e){return String.fromCharCode(255&e,(65280&e)>>8,(16711680&e)>>16,(4278190080&e)>>24)}function k_(e){return rU(e).map(x4e).join("")}var g4e=(function(e){for(var t=0;t<e.length;t++)e[t]=p4e(e[t]);return e.join("")})(rU("hello"))!="5d41402abc4b2a76b9719d911017c592";function jf(e,t){if(g4e){var r=(65535&e)+(65535&t);return(e>>16)+(t>>16)+(r>>16)<<16|65535&r}return e+t&4294967295}/**
 * @license
 * FPDF is released under a permissive license: there is no usage restriction.
 * You may embed it freely in your application (commercial or not), with or
 * without modifications.
 *
 * Reference: http://www.fpdf.org/en/script/script37.php
 */function E_(e,t){var r,n,a,s;if(e!==r){for(var l=(a=e,s=1+(256/e.length|0),new Array(s+1).join(a)),o=[],u=0;u<256;u++)o[u]=u;var d=0;for(u=0;u<256;u++){var h=o[u];d=(d+h+l.charCodeAt(u))%256,o[u]=o[d],o[d]=h}r=e,n=o}else o=n;var m=t.length,g=0,x=0,b="";for(u=0;u<m;u++)x=(x+(h=o[g=(g+1)%256]))%256,o[g]=o[x],o[x]=h,l=o[(o[g]+o[x])%256],b+=String.fromCharCode(t.charCodeAt(u)^l);return b}/**
 * @license
 * Licensed under the MIT License.
 * http://opensource.org/licenses/mit-license
 * Author: Owen Leong (@owenl131)
 * Date: 15 Oct 2020
 * References:
 * https://www.cs.cmu.edu/~dst/Adobe/Gallery/anon21jul01-pdf-encryption.txt
 * https://github.com/foliojs/pdfkit/blob/master/lib/security.js
 * http://www.fpdf.org/en/script/script37.php
 */var G7={print:4,modify:8,copy:16,"annot-forms":32};function Am(e,t,r,n){this.v=1,this.r=2;var a=192;e.forEach(function(o){if(G7.perm!==void 0)throw new Error("Invalid permission: "+o);a+=G7[o]}),this.padding="(N^NuAd\0NV\b..\0h>/\fdSiz";var s=(t+this.padding).substr(0,32),l=(r+this.padding).substr(0,32);this.O=this.processOwnerPassword(s,l),this.P=-(1+(255^a)),this.encryptionKey=k_(s+this.O+this.lsbFirstWord(this.P)+this.hexToBytes(n)).substr(0,5),this.U=E_(this.encryptionKey,this.padding)}function km(e){if(/[^\u0000-\u00ff]/.test(e))throw new Error("Invalid PDF Name Object: "+e+", Only accept ASCII characters.");for(var t="",r=e.length,n=0;n<r;n++){var a=e.charCodeAt(n);t+=a<33||a===35||a===37||a===40||a===41||a===47||a===60||a===62||a===91||a===93||a===123||a===125||a>126?"#"+("0"+a.toString(16)).slice(-2):e[n]}return t}function Y7(e){if(jn(e)!=="object")throw new Error("Invalid Context passed to initialize PubSub (jsPDF-module)");var t={};this.subscribe=function(r,n,a){if(a=a||!1,typeof r!="string"||typeof n!="function"||typeof a!="boolean")throw new Error("Invalid arguments passed to PubSub.subscribe (jsPDF-module)");t.hasOwnProperty(r)||(t[r]={});var s=Math.random().toString(35);return t[r][s]=[n,!!a],s},this.unsubscribe=function(r){for(var n in t)if(t[n][r])return delete t[n][r],Object.keys(t[n]).length===0&&delete t[n],!0;return!1},this.publish=function(r){if(t.hasOwnProperty(r)){var n=Array.prototype.slice.call(arguments,1),a=[];for(var s in t[r]){var l=t[r][s];try{l[0].apply(e,n)}catch(o){pr.console&&zn.error("jsPDF PubSub Error",o.message,o)}l[1]&&a.push(s)}a.length&&a.forEach(this.unsubscribe)}},this.getTopics=function(){return t}}function a2(e){if(!(this instanceof a2))return new a2(e);var t="opacity,stroke-opacity".split(",");for(var r in e)e.hasOwnProperty(r)&&t.indexOf(r)>=0&&(this[r]=e[r]);this.id="",this.objectNumber=-1}function nU(e,t){this.gState=e,this.matrix=t,this.id="",this.objectNumber=-1}function C0(e,t,r,n,a){if(!(this instanceof C0))return new C0(e,t,r,n,a);this.type=e==="axial"?2:3,this.coords=t,this.colors=r,nU.call(this,n,a)}function Tm(e,t,r,n,a){if(!(this instanceof Tm))return new Tm(e,t,r,n,a);this.boundingBox=e,this.xStep=t,this.yStep=r,this.stream="",this.cloneIndex=0,nU.call(this,n,a)}function Gt(e){var t,r=typeof arguments[0]=="string"?arguments[0]:"p",n=arguments[1],a=arguments[2],s=arguments[3],l=[],o=1,u=16,d="S",h=null;jn(e=e||{})==="object"&&(r=e.orientation,n=e.unit||n,a=e.format||a,s=e.compress||e.compressPdf||s,(h=e.encryption||null)!==null&&(h.userPassword=h.userPassword||"",h.ownerPassword=h.ownerPassword||"",h.userPermissions=h.userPermissions||[]),o=typeof e.userUnit=="number"?Math.abs(e.userUnit):1,e.precision!==void 0&&(t=e.precision),e.floatPrecision!==void 0&&(u=e.floatPrecision),d=e.defaultPathOperation||"S"),l=e.filters||(s===!0?["FlateEncode"]:l),n=n||"mm",r=(""+(r||"P")).toLowerCase();var m=e.putOnlyUsedFonts||!1,g={},x={internal:{},__private__:{}};x.__private__.PubSub=Y7;var b="1.3",v=x.__private__.getPdfVersion=function(){return b};x.__private__.setPdfVersion=function(I){b=I};var w={a0:[2383.94,3370.39],a1:[1683.78,2383.94],a2:[1190.55,1683.78],a3:[841.89,1190.55],a4:[595.28,841.89],a5:[419.53,595.28],a6:[297.64,419.53],a7:[209.76,297.64],a8:[147.4,209.76],a9:[104.88,147.4],a10:[73.7,104.88],b0:[2834.65,4008.19],b1:[2004.09,2834.65],b2:[1417.32,2004.09],b3:[1000.63,1417.32],b4:[708.66,1000.63],b5:[498.9,708.66],b6:[354.33,498.9],b7:[249.45,354.33],b8:[175.75,249.45],b9:[124.72,175.75],b10:[87.87,124.72],c0:[2599.37,3676.54],c1:[1836.85,2599.37],c2:[1298.27,1836.85],c3:[918.43,1298.27],c4:[649.13,918.43],c5:[459.21,649.13],c6:[323.15,459.21],c7:[229.61,323.15],c8:[161.57,229.61],c9:[113.39,161.57],c10:[79.37,113.39],dl:[311.81,623.62],letter:[612,792],"government-letter":[576,756],legal:[612,1008],"junior-legal":[576,360],ledger:[1224,792],tabloid:[792,1224],"credit-card":[153,243]};x.__private__.getPageFormats=function(){return w};var N=x.__private__.getPageFormat=function(I){return w[I]};a=a||"a4";var E="compat",j="advanced",T=E;function O(){this.saveGraphicsState(),xe(new Xt(wt,0,0,-wt,0,nc()*wt).toString()+" cm"),this.setFontSize(this.getFontSize()/wt),d="n",T=j}function D(){this.restoreGraphicsState(),d="S",T=E}var C=x.__private__.combineFontStyleAndFontWeight=function(I,Z){if(I=="bold"&&Z=="normal"||I=="bold"&&Z==400||I=="normal"&&Z=="italic"||I=="bold"&&Z=="italic")throw new Error("Invalid Combination of fontweight and fontstyle");return Z&&(I=Z==400||Z==="normal"?I==="italic"?"italic":"normal":Z!=700&&Z!=="bold"||I!=="normal"?(Z==700?"bold":Z)+""+I:"bold"),I};x.advancedAPI=function(I){var Z=T===E;return Z&&O.call(this),typeof I!="function"||(I(this),Z&&D.call(this)),this},x.compatAPI=function(I){var Z=T===j;return Z&&D.call(this),typeof I!="function"||(I(this),Z&&O.call(this)),this},x.isAdvancedAPI=function(){return T===j};var P,B=function(I){if(T!==j)throw new Error(I+" is only available in 'advanced' API mode. You need to call advancedAPI() first.")},H=x.roundToPrecision=x.__private__.roundToPrecision=function(I,Z){var _e=t||Z;if(isNaN(I)||isNaN(_e))throw new Error("Invalid argument passed to jsPDF.roundToPrecision");return I.toFixed(_e).replace(/0+$/,"")};P=x.hpf=x.__private__.hpf=typeof u=="number"?function(I){if(isNaN(I))throw new Error("Invalid argument passed to jsPDF.hpf");return H(I,u)}:u==="smart"?function(I){if(isNaN(I))throw new Error("Invalid argument passed to jsPDF.hpf");return H(I,I>-1&&I<1?16:5)}:function(I){if(isNaN(I))throw new Error("Invalid argument passed to jsPDF.hpf");return H(I,16)};var L=x.f2=x.__private__.f2=function(I){if(isNaN(I))throw new Error("Invalid argument passed to jsPDF.f2");return H(I,2)},U=x.__private__.f3=function(I){if(isNaN(I))throw new Error("Invalid argument passed to jsPDF.f3");return H(I,3)},V=x.scale=x.__private__.scale=function(I){if(isNaN(I))throw new Error("Invalid argument passed to jsPDF.scale");return T===E?I*wt:T===j?I:void 0},Y=function(I){return V((function(Z){return T===E?nc()-Z:T===j?Z:void 0})(I))};x.__private__.setPrecision=x.setPrecision=function(I){typeof parseInt(I,10)=="number"&&(t=parseInt(I,10))};var de,te="00000000000000000000000000000000",ie=x.__private__.getFileId=function(){return te},ge=x.__private__.setFileId=function(I){return te=I!==void 0&&/^[a-fA-F0-9]{32}$/.test(I)?I.toUpperCase():te.split("").map(function(){return"ABCDEF0123456789".charAt(Math.floor(16*Math.random()))}).join(""),h!==null&&(va=new Am(h.userPermissions,h.userPassword,h.ownerPassword,te)),te};x.setFileId=function(I){return ge(I),this},x.getFileId=function(){return ie()};var oe=x.__private__.convertDateToPDFDate=function(I){var Z=I.getTimezoneOffset(),_e=Z<0?"+":"-",ke=Math.floor(Math.abs(Z/60)),De=Math.abs(Z%60),st=[_e,q(ke),"'",q(De),"'"].join("");return["D:",I.getFullYear(),q(I.getMonth()+1),q(I.getDate()),q(I.getHours()),q(I.getMinutes()),q(I.getSeconds()),st].join("")},Se=x.__private__.convertPDFDateToDate=function(I){var Z=parseInt(I.substr(2,4),10),_e=parseInt(I.substr(6,2),10)-1,ke=parseInt(I.substr(8,2),10),De=parseInt(I.substr(10,2),10),st=parseInt(I.substr(12,2),10),ht=parseInt(I.substr(14,2),10);return new Date(Z,_e,ke,De,st,ht,0)},ne=x.__private__.setCreationDate=function(I){var Z;if(I===void 0&&(I=new Date),I instanceof Date)Z=oe(I);else{if(!/^D:(20[0-2][0-9]|203[0-7]|19[7-9][0-9])(0[0-9]|1[0-2])([0-2][0-9]|3[0-1])(0[0-9]|1[0-9]|2[0-3])(0[0-9]|[1-5][0-9])(0[0-9]|[1-5][0-9])(\+0[0-9]|\+1[0-4]|-0[0-9]|-1[0-1])'(0[0-9]|[1-5][0-9])'?$/.test(I))throw new Error("Invalid argument passed to jsPDF.setCreationDate");Z=I}return de=Z},M=x.__private__.getCreationDate=function(I){var Z=de;return I==="jsDate"&&(Z=Se(de)),Z};x.setCreationDate=function(I){return ne(I),this},x.getCreationDate=function(I){return M(I)};var R,q=x.__private__.padd2=function(I){return("0"+parseInt(I)).slice(-2)},K=x.__private__.padd2Hex=function(I){return("00"+(I=I.toString())).substr(I.length)},ee=0,ce=[],Q=[],re=0,ye=[],Ee=[],X=!1,Je=Q;x.__private__.setCustomOutputDestination=function(I){X=!0,Je=I};var Ce=function(I){X||(Je=I)};x.__private__.resetCustomOutputDestination=function(){X=!1,Je=Q};var xe=x.__private__.out=function(I){return I=I.toString(),re+=I.length+1,Je.push(I),Je},xt=x.__private__.write=function(I){return xe(arguments.length===1?I.toString():Array.prototype.join.call(arguments," "))},et=x.__private__.getArrayBuffer=function(I){for(var Z=I.length,_e=new ArrayBuffer(Z),ke=new Uint8Array(_e);Z--;)ke[Z]=I.charCodeAt(Z);return _e},Le=[["Helvetica","helvetica","normal","WinAnsiEncoding"],["Helvetica-Bold","helvetica","bold","WinAnsiEncoding"],["Helvetica-Oblique","helvetica","italic","WinAnsiEncoding"],["Helvetica-BoldOblique","helvetica","bolditalic","WinAnsiEncoding"],["Courier","courier","normal","WinAnsiEncoding"],["Courier-Bold","courier","bold","WinAnsiEncoding"],["Courier-Oblique","courier","italic","WinAnsiEncoding"],["Courier-BoldOblique","courier","bolditalic","WinAnsiEncoding"],["Times-Roman","times","normal","WinAnsiEncoding"],["Times-Bold","times","bold","WinAnsiEncoding"],["Times-Italic","times","italic","WinAnsiEncoding"],["Times-BoldItalic","times","bolditalic","WinAnsiEncoding"],["ZapfDingbats","zapfdingbats","normal",null],["Symbol","symbol","normal",null]];x.__private__.getStandardFonts=function(){return Le};var Be=e.fontSize||16;x.__private__.setFontSize=x.setFontSize=function(I){return Be=T===j?I/wt:I,this};var ct,lt=x.__private__.getFontSize=x.getFontSize=function(){return T===E?Be:Be*wt},Ye=e.R2L||!1;x.__private__.setR2L=x.setR2L=function(I){return Ye=I,this},x.__private__.getR2L=x.getR2L=function(){return Ye};var ft,Et=x.__private__.setZoomMode=function(I){if(/^(?:\d+\.\d*|\d*\.\d+|\d+)%$/.test(I))ct=I;else if(isNaN(I)){if([void 0,null,"fullwidth","fullheight","fullpage","original"].indexOf(I)===-1)throw new Error('zoom must be Integer (e.g. 2), a percentage Value (e.g. 300%) or fullwidth, fullheight, fullpage, original. "'+I+'" is not recognized.');ct=I}else ct=parseInt(I,10)};x.__private__.getZoomMode=function(){return ct};var zt,Kt=x.__private__.setPageMode=function(I){if([void 0,null,"UseNone","UseOutlines","UseThumbs","FullScreen"].indexOf(I)==-1)throw new Error('Page mode must be one of UseNone, UseOutlines, UseThumbs, or FullScreen. "'+I+'" is not recognized.');ft=I};x.__private__.getPageMode=function(){return ft};var Ar=x.__private__.setLayoutMode=function(I){if([void 0,null,"continuous","single","twoleft","tworight","two"].indexOf(I)==-1)throw new Error('Layout mode must be one of continuous, single, twoleft, tworight. "'+I+'" is not recognized.');zt=I};x.__private__.getLayoutMode=function(){return zt},x.__private__.setDisplayMode=x.setDisplayMode=function(I,Z,_e){return Et(I),Ar(Z),Kt(_e),this};var Mt={title:"",subject:"",author:"",keywords:"",creator:""};x.__private__.getDocumentProperty=function(I){if(Object.keys(Mt).indexOf(I)===-1)throw new Error("Invalid argument passed to jsPDF.getDocumentProperty");return Mt[I]},x.__private__.getDocumentProperties=function(){return Mt},x.__private__.setDocumentProperties=x.setProperties=x.setDocumentProperties=function(I){for(var Z in Mt)Mt.hasOwnProperty(Z)&&I[Z]&&(Mt[Z]=I[Z]);return this},x.__private__.setDocumentProperty=function(I,Z){if(Object.keys(Mt).indexOf(I)===-1)throw new Error("Invalid arguments passed to jsPDF.setDocumentProperty");return Mt[I]=Z};var Pt,wt,Ct,_r,Zt,kt={},tr={},br=[],sr={},kr={},fr={},gn={},Hn=null,Wr=0,Yt=[],Lr=new Y7(x),Ii=e.hotfixes||[],ts={},sl={},pi=[],Xt=function I(Z,_e,ke,De,st,ht){if(!(this instanceof I))return new I(Z,_e,ke,De,st,ht);isNaN(Z)&&(Z=1),isNaN(_e)&&(_e=0),isNaN(ke)&&(ke=0),isNaN(De)&&(De=1),isNaN(st)&&(st=0),isNaN(ht)&&(ht=0),this._matrix=[Z,_e,ke,De,st,ht]};Object.defineProperty(Xt.prototype,"sx",{get:function(){return this._matrix[0]},set:function(I){this._matrix[0]=I}}),Object.defineProperty(Xt.prototype,"shy",{get:function(){return this._matrix[1]},set:function(I){this._matrix[1]=I}}),Object.defineProperty(Xt.prototype,"shx",{get:function(){return this._matrix[2]},set:function(I){this._matrix[2]=I}}),Object.defineProperty(Xt.prototype,"sy",{get:function(){return this._matrix[3]},set:function(I){this._matrix[3]=I}}),Object.defineProperty(Xt.prototype,"tx",{get:function(){return this._matrix[4]},set:function(I){this._matrix[4]=I}}),Object.defineProperty(Xt.prototype,"ty",{get:function(){return this._matrix[5]},set:function(I){this._matrix[5]=I}}),Object.defineProperty(Xt.prototype,"a",{get:function(){return this._matrix[0]},set:function(I){this._matrix[0]=I}}),Object.defineProperty(Xt.prototype,"b",{get:function(){return this._matrix[1]},set:function(I){this._matrix[1]=I}}),Object.defineProperty(Xt.prototype,"c",{get:function(){return this._matrix[2]},set:function(I){this._matrix[2]=I}}),Object.defineProperty(Xt.prototype,"d",{get:function(){return this._matrix[3]},set:function(I){this._matrix[3]=I}}),Object.defineProperty(Xt.prototype,"e",{get:function(){return this._matrix[4]},set:function(I){this._matrix[4]=I}}),Object.defineProperty(Xt.prototype,"f",{get:function(){return this._matrix[5]},set:function(I){this._matrix[5]=I}}),Object.defineProperty(Xt.prototype,"rotation",{get:function(){return Math.atan2(this.shx,this.sx)}}),Object.defineProperty(Xt.prototype,"scaleX",{get:function(){return this.decompose().scale.sx}}),Object.defineProperty(Xt.prototype,"scaleY",{get:function(){return this.decompose().scale.sy}}),Object.defineProperty(Xt.prototype,"isIdentity",{get:function(){return this.sx===1&&this.shy===0&&this.shx===0&&this.sy===1&&this.tx===0&&this.ty===0}}),Xt.prototype.join=function(I){return[this.sx,this.shy,this.shx,this.sy,this.tx,this.ty].map(P).join(I)},Xt.prototype.multiply=function(I){var Z=I.sx*this.sx+I.shy*this.shx,_e=I.sx*this.shy+I.shy*this.sy,ke=I.shx*this.sx+I.sy*this.shx,De=I.shx*this.shy+I.sy*this.sy,st=I.tx*this.sx+I.ty*this.shx+this.tx,ht=I.tx*this.shy+I.ty*this.sy+this.ty;return new Xt(Z,_e,ke,De,st,ht)},Xt.prototype.decompose=function(){var I=this.sx,Z=this.shy,_e=this.shx,ke=this.sy,De=this.tx,st=this.ty,ht=Math.sqrt(I*I+Z*Z),Bt=(I/=ht)*_e+(Z/=ht)*ke;_e-=I*Bt,ke-=Z*Bt;var Vt=Math.sqrt(_e*_e+ke*ke);return Bt/=Vt,I*(ke/=Vt)<Z*(_e/=Vt)&&(I=-I,Z=-Z,Bt=-Bt,ht=-ht),{scale:new Xt(ht,0,0,Vt,0,0),translate:new Xt(1,0,0,1,De,st),rotate:new Xt(I,Z,-Z,I,0,0),skew:new Xt(1,0,Bt,1,0,0)}},Xt.prototype.toString=function(I){return this.join(" ")},Xt.prototype.inversed=function(){var I=this.sx,Z=this.shy,_e=this.shx,ke=this.sy,De=this.tx,st=this.ty,ht=1/(I*ke-Z*_e),Bt=ke*ht,Vt=-Z*ht,cr=-_e*ht,xr=I*ht;return new Xt(Bt,Vt,cr,xr,-Bt*De-cr*st,-Vt*De-xr*st)},Xt.prototype.applyToPoint=function(I){var Z=I.x*this.sx+I.y*this.shx+this.tx,_e=I.x*this.shy+I.y*this.sy+this.ty;return new fo(Z,_e)},Xt.prototype.applyToRectangle=function(I){var Z=this.applyToPoint(I),_e=this.applyToPoint(new fo(I.x+I.w,I.y+I.h));return new ec(Z.x,Z.y,_e.x-Z.x,_e.y-Z.y)},Xt.prototype.clone=function(){var I=this.sx,Z=this.shy,_e=this.shx,ke=this.sy,De=this.tx,st=this.ty;return new Xt(I,Z,_e,ke,De,st)},x.Matrix=Xt;var Fl=x.matrixMult=function(I,Z){return Z.multiply(I)},il=new Xt(1,0,0,1,0,0);x.unitMatrix=x.identityMatrix=il;var ms=function(I,Z){if(!kr[I]){var _e=(Z instanceof C0?"Sh":"P")+(Object.keys(sr).length+1).toString(10);Z.id=_e,kr[I]=_e,sr[_e]=Z,Lr.publish("addPattern",Z)}};x.ShadingPattern=C0,x.TilingPattern=Tm,x.addShadingPattern=function(I,Z){return B("addShadingPattern()"),ms(I,Z),this},x.beginTilingPattern=function(I){B("beginTilingPattern()"),Au(I.boundingBox[0],I.boundingBox[1],I.boundingBox[2]-I.boundingBox[0],I.boundingBox[3]-I.boundingBox[1],I.matrix)},x.endTilingPattern=function(I,Z){B("endTilingPattern()"),Z.stream=Ee[R].join(`
`),ms(I,Z),Lr.publish("endTilingPattern",Z),pi.pop().restore()};var Xs,Cn=x.__private__.newObject=function(){var I=sa();return ae(I,!0),I},sa=x.__private__.newObjectDeferred=function(){return ee++,ce[ee]=function(){return re},ee},ae=function(I,Z){return Z=typeof Z=="boolean"&&Z,ce[I]=re,Z&&xe(I+" 0 obj"),I},Ne=x.__private__.newAdditionalObject=function(){var I={objId:sa(),content:""};return ye.push(I),I},he=sa(),me=sa(),ve=x.__private__.decodeColorString=function(I){var Z=I.split(" ");if(Z.length!==2||Z[1]!=="g"&&Z[1]!=="G")Z.length!==5||Z[4]!=="k"&&Z[4]!=="K"||(Z=[(1-Z[0])*(1-Z[3]),(1-Z[1])*(1-Z[3]),(1-Z[2])*(1-Z[3]),"r"]);else{var _e=parseFloat(Z[0]);Z=[_e,_e,_e,"r"]}for(var ke="#",De=0;De<3;De++)ke+=("0"+Math.floor(255*parseFloat(Z[De])).toString(16)).slice(-2);return ke},je=x.__private__.encodeColorString=function(I){var Z;typeof I=="string"&&(I={ch1:I});var _e=I.ch1,ke=I.ch2,De=I.ch3,st=I.ch4,ht=I.pdfColorType==="draw"?["G","RG","K"]:["g","rg","k"];if(typeof _e=="string"&&_e.charAt(0)!=="#"){var Bt=new tU(_e);if(Bt.ok)_e=Bt.toHex();else if(!/^\d*\.?\d*$/.test(_e))throw new Error('Invalid color "'+_e+'" passed to jsPDF.encodeColorString.')}if(typeof _e=="string"&&/^#[0-9A-Fa-f]{3}$/.test(_e)&&(_e="#"+_e[1]+_e[1]+_e[2]+_e[2]+_e[3]+_e[3]),typeof _e=="string"&&/^#[0-9A-Fa-f]{6}$/.test(_e)){var Vt=parseInt(_e.substr(1),16);_e=Vt>>16&255,ke=Vt>>8&255,De=255&Vt}if(ke===void 0||st===void 0&&_e===ke&&ke===De)Z=typeof _e=="string"?_e+" "+ht[0]:I.precision===2?L(_e/255)+" "+ht[0]:U(_e/255)+" "+ht[0];else if(st===void 0||jn(st)==="object"){if(st&&!isNaN(st.a)&&st.a===0)return["1.","1.","1.",ht[1]].join(" ");Z=typeof _e=="string"?[_e,ke,De,ht[1]].join(" "):I.precision===2?[L(_e/255),L(ke/255),L(De/255),ht[1]].join(" "):[U(_e/255),U(ke/255),U(De/255),ht[1]].join(" ")}else Z=typeof _e=="string"?[_e,ke,De,st,ht[2]].join(" "):I.precision===2?[L(_e),L(ke),L(De),L(st),ht[2]].join(" "):[U(_e),U(ke),U(De),U(st),ht[2]].join(" ");return Z},Re=x.__private__.getFilters=function(){return l},Ze=x.__private__.putStream=function(I){var Z=(I=I||{}).data||"",_e=I.filters||Re(),ke=I.alreadyAppliedFilters||[],De=I.addLength1||!1,st=Z.length,ht=I.objectId,Bt=function($a){return $a};if(h!==null&&ht===void 0)throw new Error("ObjectId must be passed to putStream for file encryption");h!==null&&(Bt=va.encryptor(ht,0));var Vt={};_e===!0&&(_e=["FlateEncode"]);var cr=I.additionalKeyValues||[],xr=(Vt=Gt.API.processDataByFilters!==void 0?Gt.API.processDataByFilters(Z,_e):{data:Z,reverseChain:[]}).reverseChain+(Array.isArray(ke)?ke.join(" "):ke.toString());if(Vt.data.length!==0&&(cr.push({key:"Length",value:Vt.data.length}),De===!0&&cr.push({key:"Length1",value:st})),xr.length!=0)if(xr.split("/").length-1==1)cr.push({key:"Filter",value:xr});else{cr.push({key:"Filter",value:"["+xr+"]"});for(var Jr=0;Jr<cr.length;Jr+=1)if(cr[Jr].key==="DecodeParms"){for(var Gn=[],ya=0;ya<Vt.reverseChain.split("/").length-1;ya+=1)Gn.push("null");Gn.push(cr[Jr].value),cr[Jr].value="["+Gn.join(" ")+"]"}}xe("<<");for(var Tn=0;Tn<cr.length;Tn++)xe("/"+cr[Tn].key+" "+cr[Tn].value);xe(">>"),Vt.data.length!==0&&(xe("stream"),xe(Bt(Vt.data)),xe("endstream"))},Ue=x.__private__.putPage=function(I){var Z=I.number,_e=I.data,ke=I.objId,De=I.contentsObjId;ae(ke,!0),xe("<</Type /Page"),xe("/Parent "+I.rootDictionaryObjId+" 0 R"),xe("/Resources "+I.resourceDictionaryObjId+" 0 R"),xe("/MediaBox ["+parseFloat(P(I.mediaBox.bottomLeftX))+" "+parseFloat(P(I.mediaBox.bottomLeftY))+" "+P(I.mediaBox.topRightX)+" "+P(I.mediaBox.topRightY)+"]"),I.cropBox!==null&&xe("/CropBox ["+P(I.cropBox.bottomLeftX)+" "+P(I.cropBox.bottomLeftY)+" "+P(I.cropBox.topRightX)+" "+P(I.cropBox.topRightY)+"]"),I.bleedBox!==null&&xe("/BleedBox ["+P(I.bleedBox.bottomLeftX)+" "+P(I.bleedBox.bottomLeftY)+" "+P(I.bleedBox.topRightX)+" "+P(I.bleedBox.topRightY)+"]"),I.trimBox!==null&&xe("/TrimBox ["+P(I.trimBox.bottomLeftX)+" "+P(I.trimBox.bottomLeftY)+" "+P(I.trimBox.topRightX)+" "+P(I.trimBox.topRightY)+"]"),I.artBox!==null&&xe("/ArtBox ["+P(I.artBox.bottomLeftX)+" "+P(I.artBox.bottomLeftY)+" "+P(I.artBox.topRightX)+" "+P(I.artBox.topRightY)+"]"),typeof I.userUnit=="number"&&I.userUnit!==1&&xe("/UserUnit "+I.userUnit),Lr.publish("putPage",{objId:ke,pageContext:Yt[Z],pageNumber:Z,page:_e}),xe("/Contents "+De+" 0 R"),xe(">>"),xe("endobj");var st=_e.join(`
`);return T===j&&(st+=`
Q`),ae(De,!0),Ze({data:st,filters:Re(),objectId:De}),xe("endobj"),ke},ze=x.__private__.putPages=function(){var I,Z,_e=[];for(I=1;I<=Wr;I++)Yt[I].objId=sa(),Yt[I].contentsObjId=sa();for(I=1;I<=Wr;I++)_e.push(Ue({number:I,data:Ee[I],objId:Yt[I].objId,contentsObjId:Yt[I].contentsObjId,mediaBox:Yt[I].mediaBox,cropBox:Yt[I].cropBox,bleedBox:Yt[I].bleedBox,trimBox:Yt[I].trimBox,artBox:Yt[I].artBox,userUnit:Yt[I].userUnit,rootDictionaryObjId:he,resourceDictionaryObjId:me}));ae(he,!0),xe("<</Type /Pages");var ke="/Kids [";for(Z=0;Z<Wr;Z++)ke+=_e[Z]+" 0 R ";xe(ke+"]"),xe("/Count "+Wr),xe(">>"),xe("endobj"),Lr.publish("postPutPages")},He=function(I){Lr.publish("putFont",{font:I,out:xe,newObject:Cn,putStream:Ze}),I.isAlreadyPutted!==!0&&(I.objectNumber=Cn(),xe("<<"),xe("/Type /Font"),xe("/BaseFont /"+km(I.postScriptName)),xe("/Subtype /Type1"),typeof I.encoding=="string"&&xe("/Encoding /"+I.encoding),xe("/FirstChar 32"),xe("/LastChar 255"),xe(">>"),xe("endobj"))},pt=function(I){I.objectNumber=Cn();var Z=[];Z.push({key:"Type",value:"/XObject"}),Z.push({key:"Subtype",value:"/Form"}),Z.push({key:"BBox",value:"["+[P(I.x),P(I.y),P(I.x+I.width),P(I.y+I.height)].join(" ")+"]"}),Z.push({key:"Matrix",value:"["+I.matrix.toString()+"]"});var _e=I.pages[1].join(`
`);Ze({data:_e,additionalKeyValues:Z,objectId:I.objectNumber}),xe("endobj")},bt=function(I,Z){Z||(Z=21);var _e=Cn(),ke=(function(ht,Bt){var Vt,cr=[],xr=1/(Bt-1);for(Vt=0;Vt<1;Vt+=xr)cr.push(Vt);if(cr.push(1),ht[0].offset!=0){var Jr={offset:0,color:ht[0].color};ht.unshift(Jr)}if(ht[ht.length-1].offset!=1){var Gn={offset:1,color:ht[ht.length-1].color};ht.push(Gn)}for(var ya="",Tn=0,$a=0;$a<cr.length;$a++){for(Vt=cr[$a];Vt>ht[Tn+1].offset;)Tn++;var Ea=ht[Tn].offset,xs=(Vt-Ea)/(ht[Tn+1].offset-Ea),ol=ht[Tn].color,xi=ht[Tn+1].color;ya+=K(Math.round((1-xs)*ol[0]+xs*xi[0]).toString(16))+K(Math.round((1-xs)*ol[1]+xs*xi[1]).toString(16))+K(Math.round((1-xs)*ol[2]+xs*xi[2]).toString(16))}return ya.trim()})(I.colors,Z),De=[];De.push({key:"FunctionType",value:"0"}),De.push({key:"Domain",value:"[0.0 1.0]"}),De.push({key:"Size",value:"["+Z+"]"}),De.push({key:"BitsPerSample",value:"8"}),De.push({key:"Range",value:"[0.0 1.0 0.0 1.0 0.0 1.0]"}),De.push({key:"Decode",value:"[0.0 1.0 0.0 1.0 0.0 1.0]"}),Ze({data:ke,additionalKeyValues:De,alreadyAppliedFilters:["/ASCIIHexDecode"],objectId:_e}),xe("endobj"),I.objectNumber=Cn(),xe("<< /ShadingType "+I.type),xe("/ColorSpace /DeviceRGB");var st="/Coords ["+P(parseFloat(I.coords[0]))+" "+P(parseFloat(I.coords[1]))+" ";I.type===2?st+=P(parseFloat(I.coords[2]))+" "+P(parseFloat(I.coords[3])):st+=P(parseFloat(I.coords[2]))+" "+P(parseFloat(I.coords[3]))+" "+P(parseFloat(I.coords[4]))+" "+P(parseFloat(I.coords[5])),xe(st+="]"),I.matrix&&xe("/Matrix ["+I.matrix.toString()+"]"),xe("/Function "+_e+" 0 R"),xe("/Extend [true true]"),xe(">>"),xe("endobj")},At=function(I,Z){var _e=sa(),ke=Cn();Z.push({resourcesOid:_e,objectOid:ke}),I.objectNumber=ke;var De=[];De.push({key:"Type",value:"/Pattern"}),De.push({key:"PatternType",value:"1"}),De.push({key:"PaintType",value:"1"}),De.push({key:"TilingType",value:"1"}),De.push({key:"BBox",value:"["+I.boundingBox.map(P).join(" ")+"]"}),De.push({key:"XStep",value:P(I.xStep)}),De.push({key:"YStep",value:P(I.yStep)}),De.push({key:"Resources",value:_e+" 0 R"}),I.matrix&&De.push({key:"Matrix",value:"["+I.matrix.toString()+"]"}),Ze({data:I.stream,additionalKeyValues:De,objectId:I.objectNumber}),xe("endobj")},vt=function(I){for(var Z in I.objectNumber=Cn(),xe("<<"),I)switch(Z){case"opacity":xe("/ca "+L(I[Z]));break;case"stroke-opacity":xe("/CA "+L(I[Z]))}xe(">>"),xe("endobj")},_t=function(I){ae(I.resourcesOid,!0),xe("<<"),xe("/ProcSet [/PDF /Text /ImageB /ImageC /ImageI]"),(function(){for(var Z in xe("/Font <<"),kt)kt.hasOwnProperty(Z)&&(m===!1||m===!0&&g.hasOwnProperty(Z))&&xe("/"+Z+" "+kt[Z].objectNumber+" 0 R");xe(">>")})(),(function(){if(Object.keys(sr).length>0){for(var Z in xe("/Shading <<"),sr)sr.hasOwnProperty(Z)&&sr[Z]instanceof C0&&sr[Z].objectNumber>=0&&xe("/"+Z+" "+sr[Z].objectNumber+" 0 R");Lr.publish("putShadingPatternDict"),xe(">>")}})(),(function(Z){if(Object.keys(sr).length>0){for(var _e in xe("/Pattern <<"),sr)sr.hasOwnProperty(_e)&&sr[_e]instanceof x.TilingPattern&&sr[_e].objectNumber>=0&&sr[_e].objectNumber<Z&&xe("/"+_e+" "+sr[_e].objectNumber+" 0 R");Lr.publish("putTilingPatternDict"),xe(">>")}})(I.objectOid),(function(){if(Object.keys(fr).length>0){var Z;for(Z in xe("/ExtGState <<"),fr)fr.hasOwnProperty(Z)&&fr[Z].objectNumber>=0&&xe("/"+Z+" "+fr[Z].objectNumber+" 0 R");Lr.publish("putGStateDict"),xe(">>")}})(),(function(){for(var Z in xe("/XObject <<"),ts)ts.hasOwnProperty(Z)&&ts[Z].objectNumber>=0&&xe("/"+Z+" "+ts[Z].objectNumber+" 0 R");Lr.publish("putXobjectDict"),xe(">>")})(),xe(">>"),xe("endobj")},Lt=function(I){tr[I.fontName]=tr[I.fontName]||{},tr[I.fontName][I.fontStyle]=I.id},un=function(I,Z,_e,ke,De){var st={id:"F"+(Object.keys(kt).length+1).toString(10),postScriptName:I,fontName:Z,fontStyle:_e,encoding:ke,isStandardFont:De||!1,metadata:{}};return Lr.publish("addFont",{font:st,instance:this}),kt[st.id]=st,Lt(st),st.id},Tr=x.__private__.pdfEscape=x.pdfEscape=function(I,Z){return(function(_e,ke){var De,st,ht,Bt,Vt,cr,xr,Jr,Gn;if(ht=(ke=ke||{}).sourceEncoding||"Unicode",Vt=ke.outputEncoding,(ke.autoencode||Vt)&&kt[Pt].metadata&&kt[Pt].metadata[ht]&&kt[Pt].metadata[ht].encoding&&(Bt=kt[Pt].metadata[ht].encoding,!Vt&&kt[Pt].encoding&&(Vt=kt[Pt].encoding),!Vt&&Bt.codePages&&(Vt=Bt.codePages[0]),typeof Vt=="string"&&(Vt=Bt[Vt]),Vt)){for(xr=!1,cr=[],De=0,st=_e.length;De<st;De++)(Jr=Vt[_e.charCodeAt(De)])?cr.push(String.fromCharCode(Jr)):cr.push(_e[De]),cr[De].charCodeAt(0)>>8&&(xr=!0);_e=cr.join("")}for(De=_e.length;xr===void 0&&De!==0;)_e.charCodeAt(De-1)>>8&&(xr=!0),De--;if(!xr)return _e;for(cr=ke.noBOM?[]:[254,255],De=0,st=_e.length;De<st;De++){if((Gn=(Jr=_e.charCodeAt(De))>>8)>>8)throw new Error("Character at position "+De+" of string '"+_e+"' exceeds 16bits. Cannot be encoded into UCS-2 BE");cr.push(Gn),cr.push(Jr-(Gn<<8))}return String.fromCharCode.apply(void 0,cr)})(I,Z).replace(/\\/g,"\\\\").replace(/\(/g,"\\(").replace(/\)/g,"\\)")},mn=x.__private__.beginPage=function(I){Ee[++Wr]=[],Yt[Wr]={objId:0,contentsObjId:0,userUnit:Number(o),artBox:null,bleedBox:null,cropBox:null,trimBox:null,mediaBox:{bottomLeftX:0,bottomLeftY:0,topRightX:Number(I[0]),topRightY:Number(I[1])}},Pl(Wr),Ce(Ee[R])},Qs=function(I,Z){var _e,ke,De;switch(r=Z||r,typeof I=="string"&&(_e=N(I.toLowerCase()),Array.isArray(_e)&&(ke=_e[0],De=_e[1])),Array.isArray(I)&&(ke=I[0]*wt,De=I[1]*wt),isNaN(ke)&&(ke=a[0],De=a[1]),(ke>14400||De>14400)&&(zn.warn("A page in a PDF can not be wider or taller than 14400 userUnit. jsPDF limits the width/height to 14400"),ke=Math.min(14400,ke),De=Math.min(14400,De)),a=[ke,De],r.substr(0,1)){case"l":De>ke&&(a=[De,ke]);break;case"p":ke>De&&(a=[De,ke])}mn(a),Bc(Nu),xe(qi),Md!==0&&xe(Md+" J"),rs!==0&&xe(rs+" j"),Lr.publish("addPage",{pageNumber:Wr})},Dl=function(I){I>0&&I<=Wr&&(Ee.splice(I,1),Yt.splice(I,1),Wr--,R>Wr&&(R=Wr),this.setPage(R))},Pl=function(I){I>0&&I<=Wr&&(R=I)},Bi=x.__private__.getNumberOfPages=x.getNumberOfPages=function(){return Ee.length-1},Ic=function(I,Z,_e){var ke,De=void 0;return _e=_e||{},I=I!==void 0?I:kt[Pt].fontName,Z=Z!==void 0?Z:kt[Pt].fontStyle,ke=I.toLowerCase(),tr[ke]!==void 0&&tr[ke][Z]!==void 0?De=tr[ke][Z]:tr[I]!==void 0&&tr[I][Z]!==void 0?De=tr[I][Z]:_e.disableWarning===!1&&zn.warn("Unable to look up font label for font '"+I+"', '"+Z+"'. Refer to getFontList() for available fonts."),De||_e.noFallback||(De=tr.times[Z])==null&&(De=tr.times.normal),De},qa=x.__private__.putInfo=function(){var I=Cn(),Z=function(ke){return ke};for(var _e in h!==null&&(Z=va.encryptor(I,0)),xe("<<"),xe("/Producer ("+Tr(Z("jsPDF "+Gt.version))+")"),Mt)Mt.hasOwnProperty(_e)&&Mt[_e]&&xe("/"+_e.substr(0,1).toUpperCase()+_e.substr(1)+" ("+Tr(Z(Mt[_e]))+")");xe("/CreationDate ("+Tr(Z(de))+")"),xe(">>"),xe("endobj")},Pd=x.__private__.putCatalog=function(I){var Z=(I=I||{}).rootDictionaryObjId||he;switch(Cn(),xe("<<"),xe("/Type /Catalog"),xe("/Pages "+Z+" 0 R"),ct||(ct="fullwidth"),ct){case"fullwidth":xe("/OpenAction [3 0 R /FitH null]");break;case"fullheight":xe("/OpenAction [3 0 R /FitV null]");break;case"fullpage":xe("/OpenAction [3 0 R /Fit]");break;case"original":xe("/OpenAction [3 0 R /XYZ null null 1]");break;default:var _e=""+ct;_e.substr(_e.length-1)==="%"&&(ct=parseInt(ct)/100),typeof ct=="number"&&xe("/OpenAction [3 0 R /XYZ null null "+L(ct)+"]")}switch(zt||(zt="continuous"),zt){case"continuous":xe("/PageLayout /OneColumn");break;case"single":xe("/PageLayout /SinglePage");break;case"two":case"twoleft":xe("/PageLayout /TwoColumnLeft");break;case"tworight":xe("/PageLayout /TwoColumnRight")}ft&&xe("/PageMode /"+ft),Lr.publish("putCatalog"),xe(">>"),xe("endobj")},pn=x.__private__.putTrailer=function(){xe("trailer"),xe("<<"),xe("/Size "+(ee+1)),xe("/Root "+ee+" 0 R"),xe("/Info "+(ee-1)+" 0 R"),h!==null&&xe("/Encrypt "+va.oid+" 0 R"),xe("/ID [ <"+te+"> <"+te+"> ]"),xe(">>")},Zs=x.__private__.putHeader=function(){xe("%PDF-"+b),xe("%")},Qf=x.__private__.putXRef=function(){var I="0000000000";xe("xref"),xe("0 "+(ee+1)),xe("0000000000 65535 f ");for(var Z=1;Z<=ee;Z++)typeof ce[Z]=="function"?xe((I+ce[Z]()).slice(-10)+" 00000 n "):ce[Z]!==void 0?xe((I+ce[Z]).slice(-10)+" 00000 n "):xe("0000000000 00000 n ")},Xo=x.__private__.buildDocument=function(){var I;ee=0,re=0,Q=[],ce=[],ye=[],he=sa(),me=sa(),Ce(Q),Lr.publish("buildDocument"),Zs(),ze(),(function(){Lr.publish("putAdditionalObjects");for(var _e=0;_e<ye.length;_e++){var ke=ye[_e];ae(ke.objId,!0),xe(ke.content),xe("endobj")}Lr.publish("postPutAdditionalObjects")})(),I=[],(function(){for(var _e in kt)kt.hasOwnProperty(_e)&&(m===!1||m===!0&&g.hasOwnProperty(_e))&&He(kt[_e])})(),(function(){var _e;for(_e in fr)fr.hasOwnProperty(_e)&&vt(fr[_e])})(),(function(){for(var _e in ts)ts.hasOwnProperty(_e)&&pt(ts[_e])})(),(function(_e){var ke;for(ke in sr)sr.hasOwnProperty(ke)&&(sr[ke]instanceof C0?bt(sr[ke]):sr[ke]instanceof Tm&&At(sr[ke],_e))})(I),Lr.publish("putResources"),I.forEach(_t),_t({resourcesOid:me,objectOid:Number.MAX_SAFE_INTEGER}),Lr.publish("postPutResources"),h!==null&&(va.oid=Cn(),xe("<<"),xe("/Filter /Standard"),xe("/V "+va.v),xe("/R "+va.r),xe("/U <"+va.toHexString(va.U)+">"),xe("/O <"+va.toHexString(va.O)+">"),xe("/P "+va.P),xe(">>"),xe("endobj")),qa(),Pd();var Z=re;return Qf(),pn(),xe("startxref"),xe(""+Z),xe("%%EOF"),Ce(Ee[R]),Q.join(`
`)},Qo=x.__private__.getBlob=function(I){return new Blob([et(I)],{type:"application/pdf"})},ll=x.output=x.__private__.output=(Xs=function(I,Z){switch(typeof(Z=Z||{})=="string"?Z={filename:Z}:Z.filename=Z.filename||"generated.pdf",I){case void 0:return Xo();case"save":x.save(Z.filename);break;case"arraybuffer":return et(Xo());case"blob":return Qo(Xo());case"bloburi":case"bloburl":if(pr.URL!==void 0&&typeof pr.URL.createObjectURL=="function")return pr.URL&&pr.URL.createObjectURL(Qo(Xo()))||void 0;zn.warn("bloburl is not supported by your system, because URL.createObjectURL is not supported by your browser.");break;case"datauristring":case"dataurlstring":var _e="",ke=Xo();try{_e=W7(ke)}catch{_e=W7(unescape(encodeURIComponent(ke)))}return"data:application/pdf;filename="+Z.filename+";base64,"+_e;case"pdfobjectnewwindow":if(Object.prototype.toString.call(pr)==="[object Window]"){var De="https://cdnjs.cloudflare.com/ajax/libs/pdfobject/2.1.1/pdfobject.min.js",st=' integrity="sha512-4ze/a9/4jqu+tX9dfOqJYSvyYd5M6qum/3HpCLr+/Jqf0whc37VUbkpNGHR7/8pSnCFw47T1fmIpwBV7UySh3g==" crossorigin="anonymous"';Z.pdfObjectUrl&&(De=Z.pdfObjectUrl,st="");var ht='<html><style>html, body { padding: 0; margin: 0; } iframe { width: 100%; height: 100%; border: 0;}  </style><body><script src="'+De+'"'+st+'><\/script><script >PDFObject.embed("'+this.output("dataurlstring")+'", '+JSON.stringify(Z)+");<\/script></body></html>",Bt=pr.open();return Bt!==null&&Bt.document.write(ht),Bt}throw new Error("The option pdfobjectnewwindow just works in a browser-environment.");case"pdfjsnewwindow":if(Object.prototype.toString.call(pr)==="[object Window]"){var Vt='<html><style>html, body { padding: 0; margin: 0; } iframe { width: 100%; height: 100%; border: 0;}  </style><body><iframe id="pdfViewer" src="'+(Z.pdfJsUrl||"examples/PDF.js/web/viewer.html")+"?file=&downloadName="+Z.filename+'" width="500px" height="400px" /></body></html>',cr=pr.open();if(cr!==null){cr.document.write(Vt);var xr=this;cr.document.documentElement.querySelector("#pdfViewer").onload=function(){cr.document.title=Z.filename,cr.document.documentElement.querySelector("#pdfViewer").contentWindow.PDFViewerApplication.open(xr.output("bloburl"))}}return cr}throw new Error("The option pdfjsnewwindow just works in a browser-environment.");case"dataurlnewwindow":if(Object.prototype.toString.call(pr)!=="[object Window]")throw new Error("The option dataurlnewwindow just works in a browser-environment.");var Jr='<html><style>html, body { padding: 0; margin: 0; } iframe { width: 100%; height: 100%; border: 0;}  </style><body><iframe src="'+this.output("datauristring",Z)+'"></iframe></body></html>',Gn=pr.open();if(Gn!==null&&(Gn.document.write(Jr),Gn.document.title=Z.filename),Gn||typeof safari>"u")return Gn;break;case"datauri":case"dataurl":return pr.document.location.href=this.output("datauristring",Z);default:return null}},Xs.foo=function(){try{return Xs.apply(this,arguments)}catch(_e){var I=_e.stack||"";~I.indexOf(" at ")&&(I=I.split(" at ")[1]);var Z="Error in function "+I.split(`
`)[0].split("<")[0]+": "+_e.message;if(!pr.console)throw new Error(Z);pr.console.error(Z,_e),pr.alert&&alert(Z)}},Xs.foo.bar=Xs,Xs.foo),co=function(I){return Array.isArray(Ii)===!0&&Ii.indexOf(I)>-1};switch(n){case"pt":wt=1;break;case"mm":wt=72/25.4;break;case"cm":wt=72/2.54;break;case"in":wt=72;break;case"px":wt=co("px_scaling")==1?.75:96/72;break;case"pc":case"em":wt=12;break;case"ex":wt=6;break;default:if(typeof n!="number")throw new Error("Invalid unit: "+n);wt=n}var va=null;ne(),ge();var Ls=x.__private__.getPageInfo=x.getPageInfo=function(I){if(isNaN(I)||I%1!=0)throw new Error("Invalid argument passed to jsPDF.getPageInfo");return{objId:Yt[I].objId,pageNumber:I,pageContext:Yt[I]}},Zf=x.__private__.getPageInfoByObjId=function(I){if(isNaN(I)||I%1!=0)throw new Error("Invalid argument passed to jsPDF.getPageInfoByObjId");for(var Z in Yt)if(Yt[Z].objId===I)break;return Ls(Z)},kh=x.__private__.getCurrentPageInfo=x.getCurrentPageInfo=function(){return{objId:Yt[R].objId,pageNumber:R,pageContext:Yt[R]}};x.addPage=function(){return Qs.apply(this,arguments),this},x.setPage=function(){return Pl.apply(this,arguments),Ce.call(this,Ee[R]),this},x.insertPage=function(I){return this.addPage(),this.movePage(R,I),this},x.movePage=function(I,Z){var _e,ke;if(I>Z){_e=Ee[I],ke=Yt[I];for(var De=I;De>Z;De--)Ee[De]=Ee[De-1],Yt[De]=Yt[De-1];Ee[Z]=_e,Yt[Z]=ke,this.setPage(Z)}else if(I<Z){_e=Ee[I],ke=Yt[I];for(var st=I;st<Z;st++)Ee[st]=Ee[st+1],Yt[st]=Yt[st+1];Ee[Z]=_e,Yt[Z]=ke,this.setPage(Z)}return this},x.deletePage=function(){return Dl.apply(this,arguments),this},x.__private__.text=x.text=function(I,Z,_e,ke,De){var st,ht,Bt,Vt,cr,xr,Jr,Gn,ya,Tn=(ke=ke||{}).scope||this;if(typeof I=="number"&&typeof Z=="number"&&(typeof _e=="string"||Array.isArray(_e))){var $a=_e;_e=Z,Z=I,I=$a}if(arguments[3]instanceof Xt==0?(Bt=arguments[4],Vt=arguments[5],jn(Jr=arguments[3])==="object"&&Jr!==null||(typeof Bt=="string"&&(Vt=Bt,Bt=null),typeof Jr=="string"&&(Vt=Jr,Jr=null),typeof Jr=="number"&&(Bt=Jr,Jr=null),ke={flags:Jr,angle:Bt,align:Vt})):(B("The transform parameter of text() with a Matrix value"),ya=De),isNaN(Z)||isNaN(_e)||I==null)throw new Error("Invalid arguments passed to jsPDF.text");if(I.length===0)return Tn;var Ea,xs="",ol=typeof ke.lineHeightFactor=="number"?ke.lineHeightFactor:Zo,xi=Tn.internal.scaleFactor;function Lh(en){return en=en.split("	").join(Array(ke.TabLen||9).join(" ")),Tr(en,Jr)}function Id(en){for(var Hr,On=en.concat(),wa=[],wo=On.length;wo--;)typeof(Hr=On.shift())=="string"?wa.push(Hr):Array.isArray(en)&&(Hr.length===1||Hr[1]===void 0&&Hr[2]===void 0)?wa.push(Hr[0]):wa.push([Hr[0],Hr[1],Hr[2]]);return wa}function Eu(en,Hr){var On;if(typeof en=="string")On=Hr(en)[0];else if(Array.isArray(en)){for(var wa,wo,Ul=en.concat(),Ou=[],c0=Ul.length;c0--;)typeof(wa=Ul.shift())=="string"?Ou.push(Hr(wa)[0]):Array.isArray(wa)&&typeof wa[0]=="string"&&(wo=Hr(wa[0],wa[1],wa[2]),Ou.push([wo[0],wo[1],wo[2]]));On=Ou}return On}var mo=!1,Rl=!0;if(typeof I=="string")mo=!0;else if(Array.isArray(I)){var Cu=I.concat();ht=[];for(var zc,gs=Cu.length;gs--;)(typeof(zc=Cu.shift())!="string"||Array.isArray(zc)&&typeof zc[0]!="string")&&(Rl=!1);mo=Rl}if(mo===!1)throw new Error('Type of text must be string or Array. "'+I+'" is not recognized.');typeof I=="string"&&(I=I.match(/[\r?\n]/)?I.split(/\r\n|\r|\n/g):[I]);var qc=Be/Tn.internal.scaleFactor,$c=qc*(ol-1);switch(ke.baseline){case"bottom":_e-=$c;break;case"top":_e+=qc-$c;break;case"hanging":_e+=qc-2*$c;break;case"middle":_e+=qc/2-$c}if((xr=ke.maxWidth||0)>0&&(typeof I=="string"?I=Tn.splitTextToSize(I,xr):Object.prototype.toString.call(I)==="[object Array]"&&(I=I.reduce(function(en,Hr){return en.concat(Tn.splitTextToSize(Hr,xr))},[]))),st={text:I,x:Z,y:_e,options:ke,mutex:{pdfEscape:Tr,activeFontKey:Pt,fonts:kt,activeFontSize:Be}},Lr.publish("preProcessText",st),I=st.text,Bt=(ke=st.options).angle,ya instanceof Xt==0&&Bt&&typeof Bt=="number"){Bt*=Math.PI/180,ke.rotationDirection===0&&(Bt=-Bt),T===j&&(Bt=-Bt);var Bd=Math.cos(Bt),po=Math.sin(Bt);ya=new Xt(Bd,po,-po,Bd,0,0)}else Bt&&Bt instanceof Xt&&(ya=Bt);T!==j||ya||(ya=il),(cr=ke.charSpace||Jo)!==void 0&&(xs+=P(V(cr))+` Tc
`,this.setCharSpace(this.getCharSpace()||0)),(Gn=ke.horizontalScale)!==void 0&&(xs+=P(100*Gn)+` Tz
`),ke.lang;var ia=-1,ac=ke.renderingMode!==void 0?ke.renderingMode:ke.stroke,Ud=Tn.internal.getCurrentPageInfo().pageContext;switch(ac){case 0:case!1:case"fill":ia=0;break;case 1:case!0:case"stroke":ia=1;break;case 2:case"fillThenStroke":ia=2;break;case 3:case"invisible":ia=3;break;case 4:case"fillAndAddForClipping":ia=4;break;case 5:case"strokeAndAddPathForClipping":ia=5;break;case 6:case"fillThenStrokeAndAddToPathForClipping":ia=6;break;case 7:case"addToPathForClipping":ia=7}var l0=Ud.usedRenderingMode!==void 0?Ud.usedRenderingMode:-1;ia!==-1?xs+=ia+` Tr
`:l0!==-1&&(xs+=`0 Tr
`),ia!==-1&&(Ud.usedRenderingMode=ia),Vt=ke.align||"left";var Hi,Il=Be*ol,sc=Tn.internal.pageSize.getWidth(),o0=kt[Pt];cr=ke.charSpace||Jo,xr=ke.maxWidth||0,Jr=Object.assign({autoencode:!0,noBOM:!0},ke.flags);var Bl=[],Hc=function(en){return Tn.getStringUnitWidth(en,{font:o0,charSpace:cr,fontSize:Be,doKerning:!1})*Be/xi};if(Object.prototype.toString.call(I)==="[object Array]"){var gi;ht=Id(I),Vt!=="left"&&(Hi=ht.map(Hc));var ei,xo=0;if(Vt==="right"){Z-=Hi[0],I=[],gs=ht.length;for(var go=0;go<gs;go++)go===0?(ei=zi(Z),gi=ps(_e)):(ei=V(xo-Hi[go]),gi=-Il),I.push([ht[go],ei,gi]),xo=Hi[go]}else if(Vt==="center"){Z-=Hi[0]/2,I=[],gs=ht.length;for(var ic=0;ic<gs;ic++)ic===0?(ei=zi(Z),gi=ps(_e)):(ei=V((xo-Hi[ic])/2),gi=-Il),I.push([ht[ic],ei,gi]),xo=Hi[ic]}else if(Vt==="left"){I=[],gs=ht.length;for(var zd=0;zd<gs;zd++)I.push(ht[zd])}else if(Vt==="justify"&&o0.encoding==="Identity-H"){I=[],gs=ht.length,xr=xr!==0?xr:sc;for(var qd=0,ba=0;ba<gs;ba++)if(gi=ba===0?ps(_e):-Il,ei=ba===0?zi(Z):qd,ba<gs-1){var Mh=V((xr-Hi[ba])/(ht[ba].split(" ").length-1)),vo=ht[ba].split(" ");I.push([vo[0]+" ",ei,gi]),qd=0;for(var yo=1;yo<vo.length;yo++){var vs=(Hc(vo[yo-1]+" "+vo[yo])-Hc(vo[yo]))*xi+Mh;yo==vo.length-1?I.push([vo[yo],vs,0]):I.push([vo[yo]+" ",vs,0]),qd-=vs}}else I.push([ht[ba],ei,gi]);I.push(["",qd,0])}else{if(Vt!=="justify")throw new Error('Unrecognized alignment option, use "left", "center", "right" or "justify".');for(I=[],gs=ht.length,xr=xr!==0?xr:sc,ba=0;ba<gs;ba++){gi=ba===0?ps(_e):-Il,ei=ba===0?zi(Z):0;var lc=ht[ba].split(" ").length-1,$d=lc>0?(xr-Hi[ba])/lc:0;ba<gs-1?Bl.push(P(V($d))):Bl.push(0),I.push([ht[ba],ei,gi])}}}(typeof ke.R2L=="boolean"?ke.R2L:Ye)===!0&&(I=Eu(I,function(en,Hr,On){return[en.split("").reverse().join(""),Hr,On]})),st={text:I,x:Z,y:_e,options:ke,mutex:{pdfEscape:Tr,activeFontKey:Pt,fonts:kt,activeFontSize:Be}},Lr.publish("postProcessText",st),I=st.text,Ea=st.mutex.isHex||!1;var Hd=kt[Pt].encoding;Hd!=="WinAnsiEncoding"&&Hd!=="StandardEncoding"||(I=Eu(I,function(en,Hr,On){return[Lh(en),Hr,On]})),ht=Id(I),I=[];for(var oc,cc,bo,Tu=Array.isArray(ht[0])?1:0,Vi="",uc=function(en,Hr,On){var wa="";return On instanceof Xt?(On=typeof ke.angle=="number"?Fl(On,new Xt(1,0,0,1,en,Hr)):Fl(new Xt(1,0,0,1,en,Hr),On),T===j&&(On=Fl(new Xt(1,0,0,-1,0,0),On)),wa=On.join(" ")+` Tm
`):wa=P(en)+" "+P(Hr)+` Td
`,wa},Ms=0;Ms<ht.length;Ms++){switch(Vi="",Tu){case 1:bo=(Ea?"<":"(")+ht[Ms][0]+(Ea?">":")"),oc=parseFloat(ht[Ms][1]),cc=parseFloat(ht[Ms][2]);break;case 0:bo=(Ea?"<":"(")+ht[Ms]+(Ea?">":")"),oc=zi(Z),cc=ps(_e)}Bl!==void 0&&Bl[Ms]!==void 0&&(Vi=Bl[Ms]+` Tw
`),Ms===0?I.push(Vi+uc(oc,cc,ya)+bo):Tu===0?I.push(Vi+bo):Tu===1&&I.push(Vi+uc(oc,cc,ya)+bo)}I=Tu===0?I.join(` Tj
T* `):I.join(` Tj
`),I+=` Tj
`;var cl=`BT
/`;return cl+=Pt+" "+Be+` Tf
`,cl+=P(Be*ol)+` TL
`,cl+=uo+`
`,cl+=xs,cl+=I,xe(cl+="ET"),g[Pt]=!0,Tn};var Jf=x.__private__.clip=x.clip=function(I){return xe(I==="evenodd"?"W*":"W"),this};x.clipEvenOdd=function(){return Jf("evenodd")},x.__private__.discardPath=x.discardPath=function(){return xe("n"),this};var Js=x.__private__.isValidStyle=function(I){var Z=!1;return[void 0,null,"S","D","F","DF","FD","f","f*","B","B*","n"].indexOf(I)!==-1&&(Z=!0),Z};x.__private__.setDefaultPathOperation=x.setDefaultPathOperation=function(I){return Js(I)&&(d=I),this};var e0=x.__private__.getStyle=x.getStyle=function(I){var Z=d;switch(I){case"D":case"S":Z="S";break;case"F":Z="f";break;case"FD":case"DF":Z="B";break;case"f":case"f*":case"B":case"B*":Z=I}return Z},t0=x.close=function(){return xe("h"),this};x.stroke=function(){return xe("S"),this},x.fill=function(I){return Ui("f",I),this},x.fillEvenOdd=function(I){return Ui("f*",I),this},x.fillStroke=function(I){return Ui("B",I),this},x.fillStrokeEvenOdd=function(I){return Ui("B*",I),this};var Ui=function(I,Z){jn(Z)==="object"?Ch(Z,I):xe(I)},r0=function(I){I===null||T===j&&I===void 0||(I=e0(I),xe(I))};function Eh(I,Z,_e,ke,De){var st=new Tm(Z||this.boundingBox,_e||this.xStep,ke||this.yStep,this.gState,De||this.matrix);st.stream=this.stream;var ht=I+"$$"+this.cloneIndex+++"$$";return ms(ht,st),st}var Ch=function(I,Z){var _e=kr[I.key],ke=sr[_e];if(ke instanceof C0)xe("q"),xe(n0(Z)),ke.gState&&x.setGState(ke.gState),xe(I.matrix.toString()+" cm"),xe("/"+_e+" sh"),xe("Q");else if(ke instanceof Tm){var De=new Xt(1,0,0,-1,0,nc());I.matrix&&(De=De.multiply(I.matrix||il),_e=Eh.call(ke,I.key,I.boundingBox,I.xStep,I.yStep,De).id),xe("q"),xe("/Pattern cs"),xe("/"+_e+" scn"),ke.gState&&x.setGState(ke.gState),xe(Z),xe("Q")}},n0=function(I){switch(I){case"f":case"F":case"n":return"W n";case"f*":return"W* n";case"B":case"S":return"W S";case"B*":return"W* S"}},a0=x.moveTo=function(I,Z){return xe(P(V(I))+" "+P(Y(Z))+" m"),this},wu=x.lineTo=function(I,Z){return xe(P(V(I))+" "+P(Y(Z))+" l"),this},Ll=x.curveTo=function(I,Z,_e,ke,De,st){return xe([P(V(I)),P(Y(Z)),P(V(_e)),P(Y(ke)),P(V(De)),P(Y(st)),"c"].join(" ")),this};x.__private__.line=x.line=function(I,Z,_e,ke,De){if(isNaN(I)||isNaN(Z)||isNaN(_e)||isNaN(ke)||!Js(De))throw new Error("Invalid arguments passed to jsPDF.line");return T===E?this.lines([[_e-I,ke-Z]],I,Z,[1,1],De||"S"):this.lines([[_e-I,ke-Z]],I,Z,[1,1]).stroke()},x.__private__.lines=x.lines=function(I,Z,_e,ke,De,st){var ht,Bt,Vt,cr,xr,Jr,Gn,ya,Tn,$a,Ea,xs;if(typeof I=="number"&&(xs=_e,_e=Z,Z=I,I=xs),ke=ke||[1,1],st=st||!1,isNaN(Z)||isNaN(_e)||!Array.isArray(I)||!Array.isArray(ke)||!Js(De)||typeof st!="boolean")throw new Error("Invalid arguments passed to jsPDF.lines");for(a0(Z,_e),ht=ke[0],Bt=ke[1],cr=I.length,$a=Z,Ea=_e,Vt=0;Vt<cr;Vt++)(xr=I[Vt]).length===2?($a=xr[0]*ht+$a,Ea=xr[1]*Bt+Ea,wu($a,Ea)):(Jr=xr[0]*ht+$a,Gn=xr[1]*Bt+Ea,ya=xr[2]*ht+$a,Tn=xr[3]*Bt+Ea,$a=xr[4]*ht+$a,Ea=xr[5]*Bt+Ea,Ll(Jr,Gn,ya,Tn,$a,Ea));return st&&t0(),r0(De),this},x.path=function(I){for(var Z=0;Z<I.length;Z++){var _e=I[Z],ke=_e.c;switch(_e.op){case"m":a0(ke[0],ke[1]);break;case"l":wu(ke[0],ke[1]);break;case"c":Ll.apply(this,ke);break;case"h":t0()}}return this},x.__private__.rect=x.rect=function(I,Z,_e,ke,De){if(isNaN(I)||isNaN(Z)||isNaN(_e)||isNaN(ke)||!Js(De))throw new Error("Invalid arguments passed to jsPDF.rect");return T===E&&(ke=-ke),xe([P(V(I)),P(Y(Z)),P(V(_e)),P(V(ke)),"re"].join(" ")),r0(De),this},x.__private__.triangle=x.triangle=function(I,Z,_e,ke,De,st,ht){if(isNaN(I)||isNaN(Z)||isNaN(_e)||isNaN(ke)||isNaN(De)||isNaN(st)||!Js(ht))throw new Error("Invalid arguments passed to jsPDF.triangle");return this.lines([[_e-I,ke-Z],[De-_e,st-ke],[I-De,Z-st]],I,Z,[1,1],ht,!0),this},x.__private__.roundedRect=x.roundedRect=function(I,Z,_e,ke,De,st,ht){if(isNaN(I)||isNaN(Z)||isNaN(_e)||isNaN(ke)||isNaN(De)||isNaN(st)||!Js(ht))throw new Error("Invalid arguments passed to jsPDF.roundedRect");var Bt=4/3*(Math.SQRT2-1);return De=Math.min(De,.5*_e),st=Math.min(st,.5*ke),this.lines([[_e-2*De,0],[De*Bt,0,De,st-st*Bt,De,st],[0,ke-2*st],[0,st*Bt,-De*Bt,st,-De,st],[2*De-_e,0],[-De*Bt,0,-De,-st*Bt,-De,-st],[0,2*st-ke],[0,-st*Bt,De*Bt,-st,De,-st]],I+De,Z,[1,1],ht,!0),this},x.__private__.ellipse=x.ellipse=function(I,Z,_e,ke,De){if(isNaN(I)||isNaN(Z)||isNaN(_e)||isNaN(ke)||!Js(De))throw new Error("Invalid arguments passed to jsPDF.ellipse");var st=4/3*(Math.SQRT2-1)*_e,ht=4/3*(Math.SQRT2-1)*ke;return a0(I+_e,Z),Ll(I+_e,Z-ht,I+st,Z-ke,I,Z-ke),Ll(I-st,Z-ke,I-_e,Z-ht,I-_e,Z),Ll(I-_e,Z+ht,I-st,Z+ke,I,Z+ke),Ll(I+st,Z+ke,I+_e,Z+ht,I+_e,Z),r0(De),this},x.__private__.circle=x.circle=function(I,Z,_e,ke){if(isNaN(I)||isNaN(Z)||isNaN(_e)||!Js(ke))throw new Error("Invalid arguments passed to jsPDF.circle");return this.ellipse(I,Z,_e,_e,ke)},x.setFont=function(I,Z,_e){return _e&&(Z=C(Z,_e)),Pt=Ic(I,Z,{disableWarning:!1}),this};var Ml=x.__private__.getFont=x.getFont=function(){return kt[Ic.apply(x,arguments)]};x.__private__.getFontList=x.getFontList=function(){var I,Z,_e={};for(I in tr)if(tr.hasOwnProperty(I))for(Z in _e[I]=[],tr[I])tr[I].hasOwnProperty(Z)&&_e[I].push(Z);return _e},x.addFont=function(I,Z,_e,ke,De){var st=["StandardEncoding","MacRomanEncoding","Identity-H","WinAnsiEncoding"];return arguments[3]&&st.indexOf(arguments[3])!==-1?De=arguments[3]:arguments[3]&&st.indexOf(arguments[3])==-1&&(_e=C(_e,ke)),un.call(this,I,Z,_e,De=De||"Identity-H")};var Zo,Nu=e.lineWidth||.200025,ir=x.__private__.getLineWidth=x.getLineWidth=function(){return Nu},Bc=x.__private__.setLineWidth=x.setLineWidth=function(I){return Nu=I,xe(P(V(I))+" w"),this};x.__private__.setLineDash=Gt.API.setLineDash=Gt.API.setLineDashPattern=function(I,Z){if(I=I||[],Z=Z||0,isNaN(Z)||!Array.isArray(I))throw new Error("Invalid arguments passed to jsPDF.setLineDash");return I=I.map(function(_e){return P(V(_e))}).join(" "),Z=P(V(Z)),xe("["+I+"] "+Z+" d"),this};var Th=x.__private__.getLineHeight=x.getLineHeight=function(){return Be*Zo};x.__private__.getLineHeight=x.getLineHeight=function(){return Be*Zo};var s0=x.__private__.setLineHeightFactor=x.setLineHeightFactor=function(I){return typeof(I=I||1.15)=="number"&&(Zo=I),this},Oh=x.__private__.getLineHeightFactor=x.getLineHeightFactor=function(){return Zo};s0(e.lineHeight);var zi=x.__private__.getHorizontalCoordinate=function(I){return V(I)},ps=x.__private__.getVerticalCoordinate=function(I){return T===j?I:Yt[R].mediaBox.topRightY-Yt[R].mediaBox.bottomLeftY-V(I)},i0=x.__private__.getHorizontalCoordinateString=x.getHorizontalCoordinateString=function(I){return P(zi(I))},_u=x.__private__.getVerticalCoordinateString=x.getVerticalCoordinateString=function(I){return P(ps(I))},qi=e.strokeColor||"0 G";x.__private__.getStrokeColor=x.getDrawColor=function(){return ve(qi)},x.__private__.setStrokeColor=x.setDrawColor=function(I,Z,_e,ke){return qi=je({ch1:I,ch2:Z,ch3:_e,ch4:ke,pdfColorType:"draw",precision:2}),xe(qi),this};var ju=e.fillColor||"0 g";x.__private__.getFillColor=x.getFillColor=function(){return ve(ju)},x.__private__.setFillColor=x.setFillColor=function(I,Z,_e,ke){return ju=je({ch1:I,ch2:Z,ch3:_e,ch4:ke,pdfColorType:"fill",precision:2}),xe(ju),this};var uo=e.textColor||"0 g",Su=x.__private__.getTextColor=x.getTextColor=function(){return ve(uo)};x.__private__.setTextColor=x.setTextColor=function(I,Z,_e,ke){return uo=je({ch1:I,ch2:Z,ch3:_e,ch4:ke,pdfColorType:"text",precision:3}),this};var Jo=e.charSpace,Ld=x.__private__.getCharSpace=x.getCharSpace=function(){return parseFloat(Jo||0)};x.__private__.setCharSpace=x.setCharSpace=function(I){if(isNaN(I))throw new Error("Invalid argument passed to jsPDF.setCharSpace");return Jo=I,this};var Md=0;x.CapJoinStyles={0:0,butt:0,but:0,miter:0,1:1,round:1,rounded:1,circle:1,2:2,projecting:2,project:2,square:2,bevel:2},x.__private__.setLineCap=x.setLineCap=function(I){var Z=x.CapJoinStyles[I];if(Z===void 0)throw new Error("Line cap style of '"+I+"' is not recognized. See or extend .CapJoinStyles property for valid styles");return Md=Z,xe(Z+" J"),this};var rs=0;x.__private__.setLineJoin=x.setLineJoin=function(I){var Z=x.CapJoinStyles[I];if(Z===void 0)throw new Error("Line join style of '"+I+"' is not recognized. See or extend .CapJoinStyles property for valid styles");return rs=Z,xe(Z+" j"),this},x.__private__.setLineMiterLimit=x.__private__.setMiterLimit=x.setLineMiterLimit=x.setMiterLimit=function(I){if(I=I||0,isNaN(I))throw new Error("Invalid argument passed to jsPDF.setLineMiterLimit");return xe(P(V(I))+" M"),this},x.GState=a2,x.setGState=function(I){(I=typeof I=="string"?fr[gn[I]]:$i(null,I)).equals(Hn)||(xe("/"+I.id+" gs"),Hn=I)};var $i=function(I,Z){if(!I||!gn[I]){var _e=!1;for(var ke in fr)if(fr.hasOwnProperty(ke)&&fr[ke].equals(Z)){_e=!0;break}if(_e)Z=fr[ke];else{var De="GS"+(Object.keys(fr).length+1).toString(10);fr[De]=Z,Z.id=De}return I&&(gn[I]=Z.id),Lr.publish("addGState",Z),Z}};x.addGState=function(I,Z){return $i(I,Z),this},x.saveGraphicsState=function(){return xe("q"),br.push({key:Pt,size:Be,color:uo}),this},x.restoreGraphicsState=function(){xe("Q");var I=br.pop();return Pt=I.key,Be=I.size,uo=I.color,Hn=null,this},x.setCurrentTransformationMatrix=function(I){return xe(I.toString()+" cm"),this},x.comment=function(I){return xe("#"+I),this};var fo=function(I,Z){var _e=I||0;Object.defineProperty(this,"x",{enumerable:!0,get:function(){return _e},set:function(st){isNaN(st)||(_e=parseFloat(st))}});var ke=Z||0;Object.defineProperty(this,"y",{enumerable:!0,get:function(){return ke},set:function(st){isNaN(st)||(ke=parseFloat(st))}});var De="pt";return Object.defineProperty(this,"type",{enumerable:!0,get:function(){return De},set:function(st){De=st.toString()}}),this},ec=function(I,Z,_e,ke){fo.call(this,I,Z),this.type="rect";var De=_e||0;Object.defineProperty(this,"w",{enumerable:!0,get:function(){return De},set:function(ht){isNaN(ht)||(De=parseFloat(ht))}});var st=ke||0;return Object.defineProperty(this,"h",{enumerable:!0,get:function(){return st},set:function(ht){isNaN(ht)||(st=parseFloat(ht))}}),this},Rd=function(){this.page=Wr,this.currentPage=R,this.pages=Ee.slice(0),this.pagesContext=Yt.slice(0),this.x=Ct,this.y=_r,this.matrix=Zt,this.width=Uc(R),this.height=ho(R),this.outputDestination=Je,this.id="",this.objectNumber=-1};Rd.prototype.restore=function(){Wr=this.page,R=this.currentPage,Yt=this.pagesContext,Ee=this.pages,Ct=this.x,_r=this.y,Zt=this.matrix,ku(R,this.width),rc(R,this.height),Je=this.outputDestination};var Au=function(I,Z,_e,ke,De){pi.push(new Rd),Wr=R=0,Ee=[],Ct=I,_r=Z,Zt=De,mn([_e,ke])};for(var tc in x.beginFormObject=function(I,Z,_e,ke,De){return Au(I,Z,_e,ke,De),this},x.endFormObject=function(I){return(function(Z){if(sl[Z])pi.pop().restore();else{var _e=new Rd,ke="Xo"+(Object.keys(ts).length+1).toString(10);_e.id=ke,sl[Z]=ke,ts[ke]=_e,Lr.publish("addFormObject",_e),pi.pop().restore()}})(I),this},x.doFormObject=function(I,Z){var _e=ts[sl[I]];return xe("q"),xe(Z.toString()+" cm"),xe("/"+_e.id+" Do"),xe("Q"),this},x.getFormObject=function(I){var Z=ts[sl[I]];return{x:Z.x,y:Z.y,width:Z.width,height:Z.height,matrix:Z.matrix}},x.save=function(I,Z){return I=I||"generated.pdf",(Z=Z||{}).returnPromise=Z.returnPromise||!1,Z.returnPromise===!1?(k0(Qo(Xo()),I),typeof k0.unload=="function"&&pr.setTimeout&&setTimeout(k0.unload,911),this):new Promise(function(_e,ke){try{var De=k0(Qo(Xo()),I);typeof k0.unload=="function"&&pr.setTimeout&&setTimeout(k0.unload,911),_e(De)}catch(st){ke(st.message)}})},Gt.API)Gt.API.hasOwnProperty(tc)&&(tc==="events"&&Gt.API.events.length?(function(I,Z){var _e,ke,De;for(De=Z.length-1;De!==-1;De--)_e=Z[De][0],ke=Z[De][1],I.subscribe.apply(I,[_e].concat(typeof ke=="function"?[ke]:ke))})(Lr,Gt.API.events):x[tc]=Gt.API[tc]);function Uc(I){return Yt[I].mediaBox.topRightX-Yt[I].mediaBox.bottomLeftX}function ku(I,Z){Yt[I].mediaBox.topRightX=Z+Yt[I].mediaBox.bottomLeftX}function ho(I){return Yt[I].mediaBox.topRightY-Yt[I].mediaBox.bottomLeftY}function rc(I,Z){Yt[I].mediaBox.topRightY=Z+Yt[I].mediaBox.bottomLeftY}var Fh=x.getPageWidth=function(I){return Uc(I=I||R)/wt},Dh=x.setPageWidth=function(I,Z){ku(I,Z*wt)},nc=x.getPageHeight=function(I){return ho(I=I||R)/wt},Ph=x.setPageHeight=function(I,Z){rc(I,Z*wt)};return x.internal={pdfEscape:Tr,getStyle:e0,getFont:Ml,getFontSize:lt,getCharSpace:Ld,getTextColor:Su,getLineHeight:Th,getLineHeightFactor:Oh,getLineWidth:ir,write:xt,getHorizontalCoordinate:zi,getVerticalCoordinate:ps,getCoordinateString:i0,getVerticalCoordinateString:_u,collections:{},newObject:Cn,newAdditionalObject:Ne,newObjectDeferred:sa,newObjectDeferredBegin:ae,getFilters:Re,putStream:Ze,events:Lr,scaleFactor:wt,pageSize:{getWidth:function(){return Fh(R)},setWidth:function(I){Dh(R,I)},getHeight:function(){return nc(R)},setHeight:function(I){Ph(R,I)}},encryptionOptions:h,encryption:va,getEncryptor:function(I){return h!==null?va.encryptor(I,0):function(Z){return Z}},output:ll,getNumberOfPages:Bi,pages:Ee,out:xe,f2:L,f3:U,getPageInfo:Ls,getPageInfoByObjId:Zf,getCurrentPageInfo:kh,getPDFVersion:v,Point:fo,Rectangle:ec,Matrix:Xt,hasHotfix:co},Object.defineProperty(x.internal.pageSize,"width",{get:function(){return Fh(R)},set:function(I){Dh(R,I)},enumerable:!0,configurable:!0}),Object.defineProperty(x.internal.pageSize,"height",{get:function(){return nc(R)},set:function(I){Ph(R,I)},enumerable:!0,configurable:!0}),(function(I){for(var Z=0,_e=Le.length;Z<_e;Z++){var ke=un.call(this,I[Z][0],I[Z][1],I[Z][2],Le[Z][3],!0);m===!1&&(g[ke]=!0);var De=I[Z][0].split("-");Lt({id:ke,fontName:De[0],fontStyle:De[1]||""})}Lr.publish("addFonts",{fonts:kt,dictionary:tr})}).call(x,Le),Pt="F1",Qs(a,r),Lr.publish("initialized"),x}Am.prototype.lsbFirstWord=function(e){return String.fromCharCode(255&e,e>>8&255,e>>16&255,e>>24&255)},Am.prototype.toHexString=function(e){return e.split("").map(function(t){return("0"+(255&t.charCodeAt(0)).toString(16)).slice(-2)}).join("")},Am.prototype.hexToBytes=function(e){for(var t=[],r=0;r<e.length;r+=2)t.push(String.fromCharCode(parseInt(e.substr(r,2),16)));return t.join("")},Am.prototype.processOwnerPassword=function(e,t){return E_(k_(t).substr(0,5),e)},Am.prototype.encryptor=function(e,t){var r=k_(this.encryptionKey+String.fromCharCode(255&e,e>>8&255,e>>16&255,255&t,t>>8&255)).substr(0,10);return function(n){return E_(r,n)}},a2.prototype.equals=function(e){var t,r="id,objectNumber,equals";if(!e||jn(e)!==jn(this))return!1;var n=0;for(t in this)if(!(r.indexOf(t)>=0)){if(this.hasOwnProperty(t)&&!e.hasOwnProperty(t)||this[t]!==e[t])return!1;n++}for(t in e)e.hasOwnProperty(t)&&r.indexOf(t)<0&&n--;return n===0},Gt.API={events:[]},Gt.version="3.0.3";var La=Gt.API,WS=1,Ah=function(e){return e.replace(/\\/g,"\\\\").replace(/\(/g,"\\(").replace(/\)/g,"\\)")},_m=function(e){return e.replace(/\\\\/g,"\\").replace(/\\\(/g,"(").replace(/\\\)/g,")")},yr=function(e){return e.toFixed(2)},vf=function(e){return e.toFixed(5)};La.__acroform__={};var Ol=function(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e},X7=function(e){return e*WS},ou=function(e){var t=new sU,r=$t.internal.getHeight(e)||0,n=$t.internal.getWidth(e)||0;return t.BBox=[0,0,Number(yr(n)),Number(yr(r))],t},v4e=La.__acroform__.setBit=function(e,t){if(e=e||0,t=t||0,isNaN(e)||isNaN(t))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.setBit");return e|1<<t},y4e=La.__acroform__.clearBit=function(e,t){if(e=e||0,t=t||0,isNaN(e)||isNaN(t))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.clearBit");return e&~(1<<t)},b4e=La.__acroform__.getBit=function(e,t){if(isNaN(e)||isNaN(t))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.getBit");return e&1<<t?1:0},Ga=La.__acroform__.getBitForPdf=function(e,t){if(isNaN(e)||isNaN(t))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.getBitForPdf");return b4e(e,t-1)},Ya=La.__acroform__.setBitForPdf=function(e,t){if(isNaN(e)||isNaN(t))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.setBitForPdf");return v4e(e,t-1)},Xa=La.__acroform__.clearBitForPdf=function(e,t){if(isNaN(e)||isNaN(t))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.clearBitForPdf");return y4e(e,t-1)},w4e=La.__acroform__.calculateCoordinates=function(e,t){var r=t.internal.getHorizontalCoordinate,n=t.internal.getVerticalCoordinate,a=e[0],s=e[1],l=e[2],o=e[3],u={};return u.lowerLeft_X=r(a)||0,u.lowerLeft_Y=n(s+o)||0,u.upperRight_X=r(a+l)||0,u.upperRight_Y=n(s)||0,[Number(yr(u.lowerLeft_X)),Number(yr(u.lowerLeft_Y)),Number(yr(u.upperRight_X)),Number(yr(u.upperRight_Y))]},N4e=function(e){if(e.appearanceStreamContent)return e.appearanceStreamContent;if(e.V||e.DV){var t=[],r=e._V||e.DV,n=C_(e,r),a=e.scope.internal.getFont(e.fontName,e.fontStyle).id;t.push("/Tx BMC"),t.push("q"),t.push("BT"),t.push(e.scope.__private__.encodeColorString(e.color)),t.push("/"+a+" "+yr(n.fontSize)+" Tf"),t.push("1 0 0 1 0 0 Tm"),t.push(n.text),t.push("ET"),t.push("Q"),t.push("EMC");var s=ou(e);return s.scope=e.scope,s.stream=t.join(`
`),s}},C_=function(e,t){var r=e.fontSize===0?e.maxFontSize:e.fontSize,n={text:"",fontSize:""},a=(t=(t=t.substr(0,1)=="("?t.substr(1):t).substr(t.length-1)==")"?t.substr(0,t.length-1):t).split(" ");a=e.multiline?a.map(function(L){return L.split(`
`)}):a.map(function(L){return[L]});var s=r,l=$t.internal.getHeight(e)||0;l=l<0?-l:l;var o=$t.internal.getWidth(e)||0;o=o<0?-o:o;var u=function(L,U,V){if(L+1<a.length){var Y=U+" "+a[L+1][0];return Pv(Y,e,V).width<=o-4}return!1};s++;e:for(;s>0;){t="",s--;var d,h,m=Pv("3",e,s).height,g=e.multiline?l-s:(l-m)/2,x=g+=2,b=0,v=0,w=0;if(s<=0){t=`(...) Tj
`,t+="% Width of Text: "+Pv(t,e,s=12).width+", FieldWidth:"+o+`
`;break}for(var N="",E=0,j=0;j<a.length;j++)if(a.hasOwnProperty(j)){var T=!1;if(a[j].length!==1&&w!==a[j].length-1){if((m+2)*(E+2)+2>l)continue e;N+=a[j][w],T=!0,v=j,j--}else{N=(N+=a[j][w]+" ").substr(N.length-1)==" "?N.substr(0,N.length-1):N;var O=parseInt(j),D=u(O,N,s),C=j>=a.length-1;if(D&&!C){N+=" ",w=0;continue}if(D||C){if(C)v=O;else if(e.multiline&&(m+2)*(E+2)+2>l)continue e}else{if(!e.multiline||(m+2)*(E+2)+2>l)continue e;v=O}}for(var P="",B=b;B<=v;B++){var H=a[B];if(e.multiline){if(B===v){P+=H[w]+" ",w=(w+1)%H.length;continue}if(B===b){P+=H[H.length-1]+" ";continue}}P+=H[0]+" "}switch(P=P.substr(P.length-1)==" "?P.substr(0,P.length-1):P,h=Pv(P,e,s).width,e.textAlign){case"right":d=o-h-2;break;case"center":d=(o-h)/2;break;default:d=2}t+=yr(d)+" "+yr(x)+` Td
`,t+="("+Ah(P)+`) Tj
`,t+=-yr(d)+` 0 Td
`,x=-(s+2),h=0,b=T?v:v+1,E++,N=""}break}return n.text=t,n.fontSize=s,n},Pv=function(e,t,r){var n=t.scope.internal.getFont(t.fontName,t.fontStyle),a=t.scope.getStringUnitWidth(e,{font:n,fontSize:parseFloat(r),charSpace:0})*parseFloat(r);return{height:t.scope.getStringUnitWidth("3",{font:n,fontSize:parseFloat(r),charSpace:0})*parseFloat(r)*1.5,width:a}},_4e={fields:[],xForms:[],acroFormDictionaryRoot:null,printedOut:!1,internal:null,isInitialized:!1},j4e=function(e,t){var r={type:"reference",object:e};t.internal.getPageInfo(e.page).pageContext.annotations.find(function(n){return n.type===r.type&&n.object===r.object})===void 0&&t.internal.getPageInfo(e.page).pageContext.annotations.push(r)},S4e=function(e,t){if(t.scope=e,e.internal!==void 0&&(e.internal.acroformPlugin===void 0||e.internal.acroformPlugin.isInitialized===!1)){if(Mc.FieldNum=0,e.internal.acroformPlugin=JSON.parse(JSON.stringify(_4e)),e.internal.acroformPlugin.acroFormDictionaryRoot)throw new Error("Exception while creating AcroformDictionary");WS=e.internal.scaleFactor,e.internal.acroformPlugin.acroFormDictionaryRoot=new iU,e.internal.acroformPlugin.acroFormDictionaryRoot.scope=e,e.internal.acroformPlugin.acroFormDictionaryRoot._eventID=e.internal.events.subscribe("postPutResources",function(){(function(r){r.internal.events.unsubscribe(r.internal.acroformPlugin.acroFormDictionaryRoot._eventID),delete r.internal.acroformPlugin.acroFormDictionaryRoot._eventID,r.internal.acroformPlugin.printedOut=!0})(e)}),e.internal.events.subscribe("buildDocument",function(){(function(r){r.internal.acroformPlugin.acroFormDictionaryRoot.objId=void 0;var n=r.internal.acroformPlugin.acroFormDictionaryRoot.Fields;for(var a in n)if(n.hasOwnProperty(a)){var s=n[a];s.objId=void 0,s.hasAnnotation&&j4e(s,r)}})(e)}),e.internal.events.subscribe("putCatalog",function(){(function(r){if(r.internal.acroformPlugin.acroFormDictionaryRoot===void 0)throw new Error("putCatalogCallback: Root missing.");r.internal.write("/AcroForm "+r.internal.acroformPlugin.acroFormDictionaryRoot.objId+" 0 R")})(e)}),e.internal.events.subscribe("postPutPages",function(r){(function(n,a){var s=!n;for(var l in n||(a.internal.newObjectDeferredBegin(a.internal.acroformPlugin.acroFormDictionaryRoot.objId,!0),a.internal.acroformPlugin.acroFormDictionaryRoot.putStream()),n=n||a.internal.acroformPlugin.acroFormDictionaryRoot.Kids)if(n.hasOwnProperty(l)){var o=n[l],u=[],d=o.Rect;if(o.Rect&&(o.Rect=w4e(o.Rect,a)),a.internal.newObjectDeferredBegin(o.objId,!0),o.DA=$t.createDefaultAppearanceStream(o),jn(o)==="object"&&typeof o.getKeyValueListForStream=="function"&&(u=o.getKeyValueListForStream()),o.Rect=d,o.hasAppearanceStream&&!o.appearanceStreamContent){var h=N4e(o);u.push({key:"AP",value:"<</N "+h+">>"}),a.internal.acroformPlugin.xForms.push(h)}if(o.appearanceStreamContent){var m="";for(var g in o.appearanceStreamContent)if(o.appearanceStreamContent.hasOwnProperty(g)){var x=o.appearanceStreamContent[g];if(m+="/"+g+" ",m+="<<",Object.keys(x).length>=1||Array.isArray(x)){for(var l in x)if(x.hasOwnProperty(l)){var b=x[l];typeof b=="function"&&(b=b.call(a,o)),m+="/"+l+" "+b+" ",a.internal.acroformPlugin.xForms.indexOf(b)>=0||a.internal.acroformPlugin.xForms.push(b)}}else typeof(b=x)=="function"&&(b=b.call(a,o)),m+="/"+l+" "+b,a.internal.acroformPlugin.xForms.indexOf(b)>=0||a.internal.acroformPlugin.xForms.push(b);m+=">>"}u.push({key:"AP",value:`<<
`+m+">>"})}a.internal.putStream({additionalKeyValues:u,objectId:o.objId}),a.internal.out("endobj")}s&&(function(v,w){for(var N in v)if(v.hasOwnProperty(N)){var E=N,j=v[N];w.internal.newObjectDeferredBegin(j.objId,!0),jn(j)==="object"&&typeof j.putStream=="function"&&j.putStream(),delete v[E]}})(a.internal.acroformPlugin.xForms,a)})(r,e)}),e.internal.acroformPlugin.isInitialized=!0}},aU=La.__acroform__.arrayToPdfArray=function(e,t,r){var n=function(l){return l};if(Array.isArray(e)){for(var a="[",s=0;s<e.length;s++)switch(s!==0&&(a+=" "),jn(e[s])){case"boolean":case"number":case"object":a+=e[s].toString();break;case"string":e[s].substr(0,1)!=="/"?(t!==void 0&&r&&(n=r.internal.getEncryptor(t)),a+="("+Ah(n(e[s].toString()))+")"):a+=e[s].toString()}return a+"]"}throw new Error("Invalid argument passed to jsPDF.__acroform__.arrayToPdfArray")},zN=function(e,t,r){var n=function(a){return a};return t!==void 0&&r&&(n=r.internal.getEncryptor(t)),(e=e||"").toString(),"("+Ah(n(e))+")"},fu=function(){this._objId=void 0,this._scope=void 0,Object.defineProperty(this,"objId",{get:function(){if(this._objId===void 0){if(this.scope===void 0)return;this._objId=this.scope.internal.newObjectDeferred()}return this._objId},set:function(e){this._objId=e}}),Object.defineProperty(this,"scope",{value:this._scope,writable:!0})};fu.prototype.toString=function(){return this.objId+" 0 R"},fu.prototype.putStream=function(){var e=this.getKeyValueListForStream();this.scope.internal.putStream({data:this.stream,additionalKeyValues:e,objectId:this.objId}),this.scope.internal.out("endobj")},fu.prototype.getKeyValueListForStream=function(){var e=[],t=Object.getOwnPropertyNames(this).filter(function(s){return s!="content"&&s!="appearanceStreamContent"&&s!="scope"&&s!="objId"&&s.substring(0,1)!="_"});for(var r in t)if(Object.getOwnPropertyDescriptor(this,t[r]).configurable===!1){var n=t[r],a=this[n];a&&(Array.isArray(a)?e.push({key:n,value:aU(a,this.objId,this.scope)}):a instanceof fu?(a.scope=this.scope,e.push({key:n,value:a.objId+" 0 R"})):typeof a!="function"&&e.push({key:n,value:a}))}return e};var sU=function(){fu.call(this),Object.defineProperty(this,"Type",{value:"/XObject",configurable:!1,writable:!0}),Object.defineProperty(this,"Subtype",{value:"/Form",configurable:!1,writable:!0}),Object.defineProperty(this,"FormType",{value:1,configurable:!1,writable:!0});var e,t=[];Object.defineProperty(this,"BBox",{configurable:!1,get:function(){return t},set:function(r){t=r}}),Object.defineProperty(this,"Resources",{value:"2 0 R",configurable:!1,writable:!0}),Object.defineProperty(this,"stream",{enumerable:!1,configurable:!0,set:function(r){e=r.trim()},get:function(){return e||null}})};Ol(sU,fu);var iU=function(){fu.call(this);var e,t=[];Object.defineProperty(this,"Kids",{enumerable:!1,configurable:!0,get:function(){return t.length>0?t:void 0}}),Object.defineProperty(this,"Fields",{enumerable:!1,configurable:!1,get:function(){return t}}),Object.defineProperty(this,"DA",{enumerable:!1,configurable:!1,get:function(){if(e){var r=function(n){return n};return this.scope&&(r=this.scope.internal.getEncryptor(this.objId)),"("+Ah(r(e))+")"}},set:function(r){e=r}})};Ol(iU,fu);var Mc=function e(){fu.call(this);var t=4;Object.defineProperty(this,"F",{enumerable:!1,configurable:!1,get:function(){return t},set:function(N){if(isNaN(N))throw new Error('Invalid value "'+N+'" for attribute F supplied.');t=N}}),Object.defineProperty(this,"showWhenPrinted",{enumerable:!0,configurable:!0,get:function(){return!!Ga(t,3)},set:function(N){N?this.F=Ya(t,3):this.F=Xa(t,3)}});var r=0;Object.defineProperty(this,"Ff",{enumerable:!1,configurable:!1,get:function(){return r},set:function(N){if(isNaN(N))throw new Error('Invalid value "'+N+'" for attribute Ff supplied.');r=N}});var n=[];Object.defineProperty(this,"Rect",{enumerable:!1,configurable:!1,get:function(){if(n.length!==0)return n},set:function(N){n=N!==void 0?N:[]}}),Object.defineProperty(this,"x",{enumerable:!0,configurable:!0,get:function(){return!n||isNaN(n[0])?0:n[0]},set:function(N){n[0]=N}}),Object.defineProperty(this,"y",{enumerable:!0,configurable:!0,get:function(){return!n||isNaN(n[1])?0:n[1]},set:function(N){n[1]=N}}),Object.defineProperty(this,"width",{enumerable:!0,configurable:!0,get:function(){return!n||isNaN(n[2])?0:n[2]},set:function(N){n[2]=N}}),Object.defineProperty(this,"height",{enumerable:!0,configurable:!0,get:function(){return!n||isNaN(n[3])?0:n[3]},set:function(N){n[3]=N}});var a="";Object.defineProperty(this,"FT",{enumerable:!0,configurable:!1,get:function(){return a},set:function(N){switch(N){case"/Btn":case"/Tx":case"/Ch":case"/Sig":a=N;break;default:throw new Error('Invalid value "'+N+'" for attribute FT supplied.')}}});var s=null;Object.defineProperty(this,"T",{enumerable:!0,configurable:!1,get:function(){if(!s||s.length<1){if(this instanceof s2)return;s="FieldObject"+e.FieldNum++}var N=function(E){return E};return this.scope&&(N=this.scope.internal.getEncryptor(this.objId)),"("+Ah(N(s))+")"},set:function(N){s=N.toString()}}),Object.defineProperty(this,"fieldName",{configurable:!0,enumerable:!0,get:function(){return s},set:function(N){s=N}});var l="helvetica";Object.defineProperty(this,"fontName",{enumerable:!0,configurable:!0,get:function(){return l},set:function(N){l=N}});var o="normal";Object.defineProperty(this,"fontStyle",{enumerable:!0,configurable:!0,get:function(){return o},set:function(N){o=N}});var u=0;Object.defineProperty(this,"fontSize",{enumerable:!0,configurable:!0,get:function(){return u},set:function(N){u=N}});var d=void 0;Object.defineProperty(this,"maxFontSize",{enumerable:!0,configurable:!0,get:function(){return d===void 0?50/WS:d},set:function(N){d=N}});var h="black";Object.defineProperty(this,"color",{enumerable:!0,configurable:!0,get:function(){return h},set:function(N){h=N}});var m="/F1 0 Tf 0 g";Object.defineProperty(this,"DA",{enumerable:!0,configurable:!1,get:function(){if(!(!m||this instanceof s2||this instanceof H0))return zN(m,this.objId,this.scope)},set:function(N){N=N.toString(),m=N}});var g=null;Object.defineProperty(this,"DV",{enumerable:!1,configurable:!1,get:function(){if(g)return this instanceof Hs==0?zN(g,this.objId,this.scope):g},set:function(N){N=N.toString(),g=this instanceof Hs==0?N.substr(0,1)==="("?_m(N.substr(1,N.length-2)):_m(N):N}}),Object.defineProperty(this,"defaultValue",{enumerable:!0,configurable:!0,get:function(){return this instanceof Hs==1?_m(g.substr(1,g.length-1)):g},set:function(N){N=N.toString(),g=this instanceof Hs==1?"/"+N:N}});var x=null;Object.defineProperty(this,"_V",{enumerable:!1,configurable:!1,get:function(){if(x)return x},set:function(N){this.V=N}}),Object.defineProperty(this,"V",{enumerable:!1,configurable:!1,get:function(){if(x)return this instanceof Hs==0?zN(x,this.objId,this.scope):x},set:function(N){N=N.toString(),x=this instanceof Hs==0?N.substr(0,1)==="("?_m(N.substr(1,N.length-2)):_m(N):N}}),Object.defineProperty(this,"value",{enumerable:!0,configurable:!0,get:function(){return this instanceof Hs==1?_m(x.substr(1,x.length-1)):x},set:function(N){N=N.toString(),x=this instanceof Hs==1?"/"+N:N}}),Object.defineProperty(this,"hasAnnotation",{enumerable:!0,configurable:!0,get:function(){return this.Rect}}),Object.defineProperty(this,"Type",{enumerable:!0,configurable:!1,get:function(){return this.hasAnnotation?"/Annot":null}}),Object.defineProperty(this,"Subtype",{enumerable:!0,configurable:!1,get:function(){return this.hasAnnotation?"/Widget":null}});var b,v=!1;Object.defineProperty(this,"hasAppearanceStream",{enumerable:!0,configurable:!0,get:function(){return v},set:function(N){N=!!N,v=N}}),Object.defineProperty(this,"page",{enumerable:!0,configurable:!0,get:function(){if(b)return b},set:function(N){b=N}}),Object.defineProperty(this,"readOnly",{enumerable:!0,configurable:!0,get:function(){return!!Ga(this.Ff,1)},set:function(N){N?this.Ff=Ya(this.Ff,1):this.Ff=Xa(this.Ff,1)}}),Object.defineProperty(this,"required",{enumerable:!0,configurable:!0,get:function(){return!!Ga(this.Ff,2)},set:function(N){N?this.Ff=Ya(this.Ff,2):this.Ff=Xa(this.Ff,2)}}),Object.defineProperty(this,"noExport",{enumerable:!0,configurable:!0,get:function(){return!!Ga(this.Ff,3)},set:function(N){N?this.Ff=Ya(this.Ff,3):this.Ff=Xa(this.Ff,3)}});var w=null;Object.defineProperty(this,"Q",{enumerable:!0,configurable:!1,get:function(){if(w!==null)return w},set:function(N){if([0,1,2].indexOf(N)===-1)throw new Error('Invalid value "'+N+'" for attribute Q supplied.');w=N}}),Object.defineProperty(this,"textAlign",{get:function(){var N;switch(w){case 0:default:N="left";break;case 1:N="center";break;case 2:N="right"}return N},configurable:!0,enumerable:!0,set:function(N){switch(N){case"right":case 2:w=2;break;case"center":case 1:w=1;break;default:w=0}}})};Ol(Mc,fu);var zm=function(){Mc.call(this),this.FT="/Ch",this.V="()",this.fontName="zapfdingbats";var e=0;Object.defineProperty(this,"TI",{enumerable:!0,configurable:!1,get:function(){return e},set:function(r){e=r}}),Object.defineProperty(this,"topIndex",{enumerable:!0,configurable:!0,get:function(){return e},set:function(r){e=r}});var t=[];Object.defineProperty(this,"Opt",{enumerable:!0,configurable:!1,get:function(){return aU(t,this.objId,this.scope)},set:function(r){var n,a;a=[],typeof(n=r)=="string"&&(a=(function(s,l,o){o||(o=1);for(var u,d=[];u=l.exec(s);)d.push(u[o]);return d})(n,/\((.*?)\)/g)),t=a}}),this.getOptions=function(){return t},this.setOptions=function(r){t=r,this.sort&&t.sort()},this.addOption=function(r){r=(r=r||"").toString(),t.push(r),this.sort&&t.sort()},this.removeOption=function(r,n){for(n=n||!1,r=(r=r||"").toString();t.indexOf(r)!==-1&&(t.splice(t.indexOf(r),1),n!==!1););},Object.defineProperty(this,"combo",{enumerable:!0,configurable:!0,get:function(){return!!Ga(this.Ff,18)},set:function(r){r?this.Ff=Ya(this.Ff,18):this.Ff=Xa(this.Ff,18)}}),Object.defineProperty(this,"edit",{enumerable:!0,configurable:!0,get:function(){return!!Ga(this.Ff,19)},set:function(r){this.combo===!0&&(r?this.Ff=Ya(this.Ff,19):this.Ff=Xa(this.Ff,19))}}),Object.defineProperty(this,"sort",{enumerable:!0,configurable:!0,get:function(){return!!Ga(this.Ff,20)},set:function(r){r?(this.Ff=Ya(this.Ff,20),t.sort()):this.Ff=Xa(this.Ff,20)}}),Object.defineProperty(this,"multiSelect",{enumerable:!0,configurable:!0,get:function(){return!!Ga(this.Ff,22)},set:function(r){r?this.Ff=Ya(this.Ff,22):this.Ff=Xa(this.Ff,22)}}),Object.defineProperty(this,"doNotSpellCheck",{enumerable:!0,configurable:!0,get:function(){return!!Ga(this.Ff,23)},set:function(r){r?this.Ff=Ya(this.Ff,23):this.Ff=Xa(this.Ff,23)}}),Object.defineProperty(this,"commitOnSelChange",{enumerable:!0,configurable:!0,get:function(){return!!Ga(this.Ff,27)},set:function(r){r?this.Ff=Ya(this.Ff,27):this.Ff=Xa(this.Ff,27)}}),this.hasAppearanceStream=!1};Ol(zm,Mc);var qm=function(){zm.call(this),this.fontName="helvetica",this.combo=!1};Ol(qm,zm);var $m=function(){qm.call(this),this.combo=!0};Ol($m,qm);var Wv=function(){$m.call(this),this.edit=!0};Ol(Wv,$m);var Hs=function(){Mc.call(this),this.FT="/Btn",Object.defineProperty(this,"noToggleToOff",{enumerable:!0,configurable:!0,get:function(){return!!Ga(this.Ff,15)},set:function(r){r?this.Ff=Ya(this.Ff,15):this.Ff=Xa(this.Ff,15)}}),Object.defineProperty(this,"radio",{enumerable:!0,configurable:!0,get:function(){return!!Ga(this.Ff,16)},set:function(r){r?this.Ff=Ya(this.Ff,16):this.Ff=Xa(this.Ff,16)}}),Object.defineProperty(this,"pushButton",{enumerable:!0,configurable:!0,get:function(){return!!Ga(this.Ff,17)},set:function(r){r?this.Ff=Ya(this.Ff,17):this.Ff=Xa(this.Ff,17)}}),Object.defineProperty(this,"radioIsUnison",{enumerable:!0,configurable:!0,get:function(){return!!Ga(this.Ff,26)},set:function(r){r?this.Ff=Ya(this.Ff,26):this.Ff=Xa(this.Ff,26)}});var e,t={};Object.defineProperty(this,"MK",{enumerable:!1,configurable:!1,get:function(){var r=function(s){return s};if(this.scope&&(r=this.scope.internal.getEncryptor(this.objId)),Object.keys(t).length!==0){var n,a=[];for(n in a.push("<<"),t)a.push("/"+n+" ("+Ah(r(t[n]))+")");return a.push(">>"),a.join(`
`)}},set:function(r){jn(r)==="object"&&(t=r)}}),Object.defineProperty(this,"caption",{enumerable:!0,configurable:!0,get:function(){return t.CA||""},set:function(r){typeof r=="string"&&(t.CA=r)}}),Object.defineProperty(this,"AS",{enumerable:!1,configurable:!1,get:function(){return e},set:function(r){e=r}}),Object.defineProperty(this,"appearanceState",{enumerable:!0,configurable:!0,get:function(){return e.substr(1,e.length-1)},set:function(r){e="/"+r}})};Ol(Hs,Mc);var Kv=function(){Hs.call(this),this.pushButton=!0};Ol(Kv,Hs);var Hm=function(){Hs.call(this),this.radio=!0,this.pushButton=!1;var e=[];Object.defineProperty(this,"Kids",{enumerable:!0,configurable:!1,get:function(){return e},set:function(t){e=t!==void 0?t:[]}})};Ol(Hm,Hs);var s2=function(){var e,t;Mc.call(this),Object.defineProperty(this,"Parent",{enumerable:!1,configurable:!1,get:function(){return e},set:function(a){e=a}}),Object.defineProperty(this,"optionName",{enumerable:!1,configurable:!0,get:function(){return t},set:function(a){t=a}});var r,n={};Object.defineProperty(this,"MK",{enumerable:!1,configurable:!1,get:function(){var a=function(o){return o};this.scope&&(a=this.scope.internal.getEncryptor(this.objId));var s,l=[];for(s in l.push("<<"),n)l.push("/"+s+" ("+Ah(a(n[s]))+")");return l.push(">>"),l.join(`
`)},set:function(a){jn(a)==="object"&&(n=a)}}),Object.defineProperty(this,"caption",{enumerable:!0,configurable:!0,get:function(){return n.CA||""},set:function(a){typeof a=="string"&&(n.CA=a)}}),Object.defineProperty(this,"AS",{enumerable:!1,configurable:!1,get:function(){return r},set:function(a){r=a}}),Object.defineProperty(this,"appearanceState",{enumerable:!0,configurable:!0,get:function(){return r.substr(1,r.length-1)},set:function(a){r="/"+a}}),this.caption="l",this.appearanceState="Off",this._AppearanceType=$t.RadioButton.Circle,this.appearanceStreamContent=this._AppearanceType.createAppearanceStream(this.optionName)};Ol(s2,Mc),Hm.prototype.setAppearance=function(e){if(!("createAppearanceStream"in e)||!("getCA"in e))throw new Error("Couldn't assign Appearance to RadioButton. Appearance was Invalid!");for(var t in this.Kids)if(this.Kids.hasOwnProperty(t)){var r=this.Kids[t];r.appearanceStreamContent=e.createAppearanceStream(r.optionName),r.caption=e.getCA()}},Hm.prototype.createOption=function(e){var t=new s2;return t.Parent=this,t.optionName=e,this.Kids.push(t),A4e.call(this.scope,t),t};var Gv=function(){Hs.call(this),this.fontName="zapfdingbats",this.caption="3",this.appearanceState="On",this.value="On",this.textAlign="center",this.appearanceStreamContent=$t.CheckBox.createAppearanceStream()};Ol(Gv,Hs);var H0=function(){Mc.call(this),this.FT="/Tx",Object.defineProperty(this,"multiline",{enumerable:!0,configurable:!0,get:function(){return!!Ga(this.Ff,13)},set:function(t){t?this.Ff=Ya(this.Ff,13):this.Ff=Xa(this.Ff,13)}}),Object.defineProperty(this,"fileSelect",{enumerable:!0,configurable:!0,get:function(){return!!Ga(this.Ff,21)},set:function(t){t?this.Ff=Ya(this.Ff,21):this.Ff=Xa(this.Ff,21)}}),Object.defineProperty(this,"doNotSpellCheck",{enumerable:!0,configurable:!0,get:function(){return!!Ga(this.Ff,23)},set:function(t){t?this.Ff=Ya(this.Ff,23):this.Ff=Xa(this.Ff,23)}}),Object.defineProperty(this,"doNotScroll",{enumerable:!0,configurable:!0,get:function(){return!!Ga(this.Ff,24)},set:function(t){t?this.Ff=Ya(this.Ff,24):this.Ff=Xa(this.Ff,24)}}),Object.defineProperty(this,"comb",{enumerable:!0,configurable:!0,get:function(){return!!Ga(this.Ff,25)},set:function(t){t?this.Ff=Ya(this.Ff,25):this.Ff=Xa(this.Ff,25)}}),Object.defineProperty(this,"richText",{enumerable:!0,configurable:!0,get:function(){return!!Ga(this.Ff,26)},set:function(t){t?this.Ff=Ya(this.Ff,26):this.Ff=Xa(this.Ff,26)}});var e=null;Object.defineProperty(this,"MaxLen",{enumerable:!0,configurable:!1,get:function(){return e},set:function(t){e=t}}),Object.defineProperty(this,"maxLength",{enumerable:!0,configurable:!0,get:function(){return e},set:function(t){Number.isInteger(t)&&(e=t)}}),Object.defineProperty(this,"hasAppearanceStream",{enumerable:!0,configurable:!0,get:function(){return this.V||this.DV}})};Ol(H0,Mc);var Yv=function(){H0.call(this),Object.defineProperty(this,"password",{enumerable:!0,configurable:!0,get:function(){return!!Ga(this.Ff,14)},set:function(e){e?this.Ff=Ya(this.Ff,14):this.Ff=Xa(this.Ff,14)}}),this.password=!0};Ol(Yv,H0);var $t={CheckBox:{createAppearanceStream:function(){return{N:{On:$t.CheckBox.YesNormal},D:{On:$t.CheckBox.YesPushDown,Off:$t.CheckBox.OffPushDown}}},YesPushDown:function(e){var t=ou(e);t.scope=e.scope;var r=[],n=e.scope.internal.getFont(e.fontName,e.fontStyle).id,a=e.scope.__private__.encodeColorString(e.color),s=C_(e,e.caption);return r.push("0.749023 g"),r.push("0 0 "+yr($t.internal.getWidth(e))+" "+yr($t.internal.getHeight(e))+" re"),r.push("f"),r.push("BMC"),r.push("q"),r.push("0 0 1 rg"),r.push("/"+n+" "+yr(s.fontSize)+" Tf "+a),r.push("BT"),r.push(s.text),r.push("ET"),r.push("Q"),r.push("EMC"),t.stream=r.join(`
`),t},YesNormal:function(e){var t=ou(e);t.scope=e.scope;var r=e.scope.internal.getFont(e.fontName,e.fontStyle).id,n=e.scope.__private__.encodeColorString(e.color),a=[],s=$t.internal.getHeight(e),l=$t.internal.getWidth(e),o=C_(e,e.caption);return a.push("1 g"),a.push("0 0 "+yr(l)+" "+yr(s)+" re"),a.push("f"),a.push("q"),a.push("0 0 1 rg"),a.push("0 0 "+yr(l-1)+" "+yr(s-1)+" re"),a.push("W"),a.push("n"),a.push("0 g"),a.push("BT"),a.push("/"+r+" "+yr(o.fontSize)+" Tf "+n),a.push(o.text),a.push("ET"),a.push("Q"),t.stream=a.join(`
`),t},OffPushDown:function(e){var t=ou(e);t.scope=e.scope;var r=[];return r.push("0.749023 g"),r.push("0 0 "+yr($t.internal.getWidth(e))+" "+yr($t.internal.getHeight(e))+" re"),r.push("f"),t.stream=r.join(`
`),t}},RadioButton:{Circle:{createAppearanceStream:function(e){var t={D:{Off:$t.RadioButton.Circle.OffPushDown},N:{}};return t.N[e]=$t.RadioButton.Circle.YesNormal,t.D[e]=$t.RadioButton.Circle.YesPushDown,t},getCA:function(){return"l"},YesNormal:function(e){var t=ou(e);t.scope=e.scope;var r=[],n=$t.internal.getWidth(e)<=$t.internal.getHeight(e)?$t.internal.getWidth(e)/4:$t.internal.getHeight(e)/4;n=Number((.9*n).toFixed(5));var a=$t.internal.Bezier_C,s=Number((n*a).toFixed(5));return r.push("q"),r.push("1 0 0 1 "+vf($t.internal.getWidth(e)/2)+" "+vf($t.internal.getHeight(e)/2)+" cm"),r.push(n+" 0 m"),r.push(n+" "+s+" "+s+" "+n+" 0 "+n+" c"),r.push("-"+s+" "+n+" -"+n+" "+s+" -"+n+" 0 c"),r.push("-"+n+" -"+s+" -"+s+" -"+n+" 0 -"+n+" c"),r.push(s+" -"+n+" "+n+" -"+s+" "+n+" 0 c"),r.push("f"),r.push("Q"),t.stream=r.join(`
`),t},YesPushDown:function(e){var t=ou(e);t.scope=e.scope;var r=[],n=$t.internal.getWidth(e)<=$t.internal.getHeight(e)?$t.internal.getWidth(e)/4:$t.internal.getHeight(e)/4;n=Number((.9*n).toFixed(5));var a=Number((2*n).toFixed(5)),s=Number((a*$t.internal.Bezier_C).toFixed(5)),l=Number((n*$t.internal.Bezier_C).toFixed(5));return r.push("0.749023 g"),r.push("q"),r.push("1 0 0 1 "+vf($t.internal.getWidth(e)/2)+" "+vf($t.internal.getHeight(e)/2)+" cm"),r.push(a+" 0 m"),r.push(a+" "+s+" "+s+" "+a+" 0 "+a+" c"),r.push("-"+s+" "+a+" -"+a+" "+s+" -"+a+" 0 c"),r.push("-"+a+" -"+s+" -"+s+" -"+a+" 0 -"+a+" c"),r.push(s+" -"+a+" "+a+" -"+s+" "+a+" 0 c"),r.push("f"),r.push("Q"),r.push("0 g"),r.push("q"),r.push("1 0 0 1 "+vf($t.internal.getWidth(e)/2)+" "+vf($t.internal.getHeight(e)/2)+" cm"),r.push(n+" 0 m"),r.push(n+" "+l+" "+l+" "+n+" 0 "+n+" c"),r.push("-"+l+" "+n+" -"+n+" "+l+" -"+n+" 0 c"),r.push("-"+n+" -"+l+" -"+l+" -"+n+" 0 -"+n+" c"),r.push(l+" -"+n+" "+n+" -"+l+" "+n+" 0 c"),r.push("f"),r.push("Q"),t.stream=r.join(`
`),t},OffPushDown:function(e){var t=ou(e);t.scope=e.scope;var r=[],n=$t.internal.getWidth(e)<=$t.internal.getHeight(e)?$t.internal.getWidth(e)/4:$t.internal.getHeight(e)/4;n=Number((.9*n).toFixed(5));var a=Number((2*n).toFixed(5)),s=Number((a*$t.internal.Bezier_C).toFixed(5));return r.push("0.749023 g"),r.push("q"),r.push("1 0 0 1 "+vf($t.internal.getWidth(e)/2)+" "+vf($t.internal.getHeight(e)/2)+" cm"),r.push(a+" 0 m"),r.push(a+" "+s+" "+s+" "+a+" 0 "+a+" c"),r.push("-"+s+" "+a+" -"+a+" "+s+" -"+a+" 0 c"),r.push("-"+a+" -"+s+" -"+s+" -"+a+" 0 -"+a+" c"),r.push(s+" -"+a+" "+a+" -"+s+" "+a+" 0 c"),r.push("f"),r.push("Q"),t.stream=r.join(`
`),t}},Cross:{createAppearanceStream:function(e){var t={D:{Off:$t.RadioButton.Cross.OffPushDown},N:{}};return t.N[e]=$t.RadioButton.Cross.YesNormal,t.D[e]=$t.RadioButton.Cross.YesPushDown,t},getCA:function(){return"8"},YesNormal:function(e){var t=ou(e);t.scope=e.scope;var r=[],n=$t.internal.calculateCross(e);return r.push("q"),r.push("1 1 "+yr($t.internal.getWidth(e)-2)+" "+yr($t.internal.getHeight(e)-2)+" re"),r.push("W"),r.push("n"),r.push(yr(n.x1.x)+" "+yr(n.x1.y)+" m"),r.push(yr(n.x2.x)+" "+yr(n.x2.y)+" l"),r.push(yr(n.x4.x)+" "+yr(n.x4.y)+" m"),r.push(yr(n.x3.x)+" "+yr(n.x3.y)+" l"),r.push("s"),r.push("Q"),t.stream=r.join(`
`),t},YesPushDown:function(e){var t=ou(e);t.scope=e.scope;var r=$t.internal.calculateCross(e),n=[];return n.push("0.749023 g"),n.push("0 0 "+yr($t.internal.getWidth(e))+" "+yr($t.internal.getHeight(e))+" re"),n.push("f"),n.push("q"),n.push("1 1 "+yr($t.internal.getWidth(e)-2)+" "+yr($t.internal.getHeight(e)-2)+" re"),n.push("W"),n.push("n"),n.push(yr(r.x1.x)+" "+yr(r.x1.y)+" m"),n.push(yr(r.x2.x)+" "+yr(r.x2.y)+" l"),n.push(yr(r.x4.x)+" "+yr(r.x4.y)+" m"),n.push(yr(r.x3.x)+" "+yr(r.x3.y)+" l"),n.push("s"),n.push("Q"),t.stream=n.join(`
`),t},OffPushDown:function(e){var t=ou(e);t.scope=e.scope;var r=[];return r.push("0.749023 g"),r.push("0 0 "+yr($t.internal.getWidth(e))+" "+yr($t.internal.getHeight(e))+" re"),r.push("f"),t.stream=r.join(`
`),t}}},createDefaultAppearanceStream:function(e){var t=e.scope.internal.getFont(e.fontName,e.fontStyle).id,r=e.scope.__private__.encodeColorString(e.color);return"/"+t+" "+e.fontSize+" Tf "+r}};$t.internal={Bezier_C:.551915024494,calculateCross:function(e){var t=$t.internal.getWidth(e),r=$t.internal.getHeight(e),n=Math.min(t,r);return{x1:{x:(t-n)/2,y:(r-n)/2+n},x2:{x:(t-n)/2+n,y:(r-n)/2},x3:{x:(t-n)/2,y:(r-n)/2},x4:{x:(t-n)/2+n,y:(r-n)/2+n}}}},$t.internal.getWidth=function(e){var t=0;return jn(e)==="object"&&(t=X7(e.Rect[2])),t},$t.internal.getHeight=function(e){var t=0;return jn(e)==="object"&&(t=X7(e.Rect[3])),t};var A4e=La.addField=function(e){if(S4e(this,e),!(e instanceof Mc))throw new Error("Invalid argument passed to jsPDF.addField.");var t;return(t=e).scope.internal.acroformPlugin.printedOut&&(t.scope.internal.acroformPlugin.printedOut=!1,t.scope.internal.acroformPlugin.acroFormDictionaryRoot=null),t.scope.internal.acroformPlugin.acroFormDictionaryRoot.Fields.push(t),e.page=e.scope.internal.getCurrentPageInfo().pageNumber,this};La.AcroFormChoiceField=zm,La.AcroFormListBox=qm,La.AcroFormComboBox=$m,La.AcroFormEditBox=Wv,La.AcroFormButton=Hs,La.AcroFormPushButton=Kv,La.AcroFormRadioButton=Hm,La.AcroFormCheckBox=Gv,La.AcroFormTextField=H0,La.AcroFormPasswordField=Yv,La.AcroFormAppearance=$t,La.AcroForm={ChoiceField:zm,ListBox:qm,ComboBox:$m,EditBox:Wv,Button:Hs,PushButton:Kv,RadioButton:Hm,CheckBox:Gv,TextField:H0,PasswordField:Yv,Appearance:$t},Gt.AcroForm={ChoiceField:zm,ListBox:qm,ComboBox:$m,EditBox:Wv,Button:Hs,PushButton:Kv,RadioButton:Hm,CheckBox:Gv,TextField:H0,PasswordField:Yv,Appearance:$t};Gt.AcroForm;function lU(e){return e.reduce(function(t,r,n){return t[r]=n,t},{})}(function(e){var t="addImage_";e.__addimage__={};var r="UNKNOWN",n={PNG:[[137,80,78,71]],TIFF:[[77,77,0,42],[73,73,42,0]],JPEG:[[255,216,255,224,void 0,void 0,74,70,73,70,0],[255,216,255,225,void 0,void 0,69,120,105,102,0,0],[255,216,255,219],[255,216,255,238]],JPEG2000:[[0,0,0,12,106,80,32,32]],GIF87a:[[71,73,70,56,55,97]],GIF89a:[[71,73,70,56,57,97]],WEBP:[[82,73,70,70,void 0,void 0,void 0,void 0,87,69,66,80]],BMP:[[66,77],[66,65],[67,73],[67,80],[73,67],[80,84]]},a=e.__addimage__.getImageFileTypeByImageData=function(L,U){var V,Y,de,te,ie,ge=r;if((U=U||r)==="RGBA"||L.data!==void 0&&L.data instanceof Uint8ClampedArray&&"height"in L&&"width"in L)return"RGBA";if(D(L))for(ie in n)for(de=n[ie],V=0;V<de.length;V+=1){for(te=!0,Y=0;Y<de[V].length;Y+=1)if(de[V][Y]!==void 0&&de[V][Y]!==L[Y]){te=!1;break}if(te===!0){ge=ie;break}}else for(ie in n)for(de=n[ie],V=0;V<de.length;V+=1){for(te=!0,Y=0;Y<de[V].length;Y+=1)if(de[V][Y]!==void 0&&de[V][Y]!==L.charCodeAt(Y)){te=!1;break}if(te===!0){ge=ie;break}}return ge===r&&U!==r&&(ge=U),ge},s=function L(U){for(var V=this.internal.write,Y=this.internal.putStream,de=(0,this.internal.getFilters)();de.indexOf("FlateEncode")!==-1;)de.splice(de.indexOf("FlateEncode"),1);U.objectId=this.internal.newObject();var te=[];if(te.push({key:"Type",value:"/XObject"}),te.push({key:"Subtype",value:"/Image"}),te.push({key:"Width",value:U.width}),te.push({key:"Height",value:U.height}),U.colorSpace===N.INDEXED?te.push({key:"ColorSpace",value:"[/Indexed /DeviceRGB "+(U.palette.length/3-1)+" "+("sMask"in U&&U.sMask!==void 0?U.objectId+2:U.objectId+1)+" 0 R]"}):(te.push({key:"ColorSpace",value:"/"+U.colorSpace}),U.colorSpace===N.DEVICE_CMYK&&te.push({key:"Decode",value:"[1 0 1 0 1 0 1 0]"})),te.push({key:"BitsPerComponent",value:U.bitsPerComponent}),"decodeParameters"in U&&U.decodeParameters!==void 0&&te.push({key:"DecodeParms",value:"<<"+U.decodeParameters+">>"}),"transparency"in U&&Array.isArray(U.transparency)&&U.transparency.length>0){for(var ie="",ge=0,oe=U.transparency.length;ge<oe;ge++)ie+=U.transparency[ge]+" "+U.transparency[ge]+" ";te.push({key:"Mask",value:"["+ie+"]"})}U.sMask!==void 0&&te.push({key:"SMask",value:U.objectId+1+" 0 R"});var Se=U.filter!==void 0?["/"+U.filter]:void 0;if(Y({data:U.data,additionalKeyValues:te,alreadyAppliedFilters:Se,objectId:U.objectId}),V("endobj"),"sMask"in U&&U.sMask!==void 0){var ne,M=(ne=U.sMaskBitsPerComponent)!==null&&ne!==void 0?ne:U.bitsPerComponent,R={width:U.width,height:U.height,colorSpace:"DeviceGray",bitsPerComponent:M,data:U.sMask};"filter"in U&&(R.decodeParameters="/Predictor ".concat(U.predictor," /Colors 1 /BitsPerComponent ").concat(M," /Columns ").concat(U.width),R.filter=U.filter),L.call(this,R)}if(U.colorSpace===N.INDEXED){var q=this.internal.newObject();Y({data:P(new Uint8Array(U.palette)),objectId:q}),V("endobj")}},l=function(){var L=this.internal.collections[t+"images"];for(var U in L)s.call(this,L[U])},o=function(){var L,U=this.internal.collections[t+"images"],V=this.internal.write;for(var Y in U)V("/I"+(L=U[Y]).index,L.objectId,"0","R")},u=function(){this.internal.collections[t+"images"]||(this.internal.collections[t+"images"]={},this.internal.events.subscribe("putResources",l),this.internal.events.subscribe("putXobjectDict",o))},d=function(){var L=this.internal.collections[t+"images"];return u.call(this),L},h=function(){return Object.keys(this.internal.collections[t+"images"]).length},m=function(L){return typeof e["process"+L.toUpperCase()]=="function"},g=function(L){return jn(L)==="object"&&L.nodeType===1},x=function(L,U){if(L.nodeName==="IMG"&&L.hasAttribute("src")){var V=""+L.getAttribute("src");if(V.indexOf("data:image/")===0)return Vv(unescape(V).split("base64,").pop());var Y=e.loadFile(V,!0);if(Y!==void 0)return Y}if(L.nodeName==="CANVAS"){if(L.width===0||L.height===0)throw new Error("Given canvas must have data. Canvas width: "+L.width+", height: "+L.height);var de;switch(U){case"PNG":de="image/png";break;case"WEBP":de="image/webp";break;default:de="image/jpeg"}return Vv(L.toDataURL(de,1).split("base64,").pop())}},b=function(L){var U=this.internal.collections[t+"images"];if(U){for(var V in U)if(L===U[V].alias)return U[V]}},v=function(L,U,V){return L||U||(L=-96,U=-96),L<0&&(L=-1*V.width*72/L/this.internal.scaleFactor),U<0&&(U=-1*V.height*72/U/this.internal.scaleFactor),L===0&&(L=U*V.width/V.height),U===0&&(U=L*V.height/V.width),[L,U]},w=function(L,U,V,Y,de,te){var ie=v.call(this,V,Y,de),ge=this.internal.getCoordinateString,oe=this.internal.getVerticalCoordinateString,Se=d.call(this);if(V=ie[0],Y=ie[1],Se[de.index]=de,te){te*=Math.PI/180;var ne=Math.cos(te),M=Math.sin(te),R=function(K){return K.toFixed(4)},q=[R(ne),R(M),R(-1*M),R(ne),0,0,"cm"]}this.internal.write("q"),te?(this.internal.write([1,"0","0",1,ge(L),oe(U+Y),"cm"].join(" ")),this.internal.write(q.join(" ")),this.internal.write([ge(V),"0","0",ge(Y),"0","0","cm"].join(" "))):this.internal.write([ge(V),"0","0",ge(Y),ge(L),oe(U+Y),"cm"].join(" ")),this.isAdvancedAPI()&&this.internal.write([1,0,0,-1,0,0,"cm"].join(" ")),this.internal.write("/I"+de.index+" Do"),this.internal.write("Q")},N=e.color_spaces={DEVICE_RGB:"DeviceRGB",DEVICE_GRAY:"DeviceGray",DEVICE_CMYK:"DeviceCMYK",CAL_GREY:"CalGray",CAL_RGB:"CalRGB",LAB:"Lab",ICC_BASED:"ICCBased",INDEXED:"Indexed",PATTERN:"Pattern",SEPARATION:"Separation",DEVICE_N:"DeviceN"};e.decode={DCT_DECODE:"DCTDecode",FLATE_DECODE:"FlateDecode",LZW_DECODE:"LZWDecode",JPX_DECODE:"JPXDecode",JBIG2_DECODE:"JBIG2Decode",ASCII85_DECODE:"ASCII85Decode",ASCII_HEX_DECODE:"ASCIIHexDecode",RUN_LENGTH_DECODE:"RunLengthDecode",CCITT_FAX_DECODE:"CCITTFaxDecode"};var E=e.image_compression={NONE:"NONE",FAST:"FAST",MEDIUM:"MEDIUM",SLOW:"SLOW"},j=e.__addimage__.sHashCode=function(L){var U,V,Y=0;if(typeof L=="string")for(V=L.length,U=0;U<V;U++)Y=(Y<<5)-Y+L.charCodeAt(U),Y|=0;else if(D(L))for(V=L.byteLength/2,U=0;U<V;U++)Y=(Y<<5)-Y+L[U],Y|=0;return Y},T=e.__addimage__.validateStringAsBase64=function(L){(L=L||"").toString().trim();var U=!0;return L.length===0&&(U=!1),L.length%4!=0&&(U=!1),/^[A-Za-z0-9+/]+$/.test(L.substr(0,L.length-2))===!1&&(U=!1),/^[A-Za-z0-9/][A-Za-z0-9+/]|[A-Za-z0-9+/]=|==$/.test(L.substr(-2))===!1&&(U=!1),U},O=e.__addimage__.extractImageFromDataUrl=function(L){if(L==null||!(L=L.trim()).startsWith("data:"))return null;var U=L.indexOf(",");return U<0?null:L.substring(0,U).trim().endsWith("base64")?L.substring(U+1):null};e.__addimage__.isArrayBuffer=function(L){return L instanceof ArrayBuffer};var D=e.__addimage__.isArrayBufferView=function(L){return L instanceof Int8Array||L instanceof Uint8Array||L instanceof Uint8ClampedArray||L instanceof Int16Array||L instanceof Uint16Array||L instanceof Int32Array||L instanceof Uint32Array||L instanceof Float32Array||L instanceof Float64Array},C=e.__addimage__.binaryStringToUint8Array=function(L){for(var U=L.length,V=new Uint8Array(U),Y=0;Y<U;Y++)V[Y]=L.charCodeAt(Y);return V},P=e.__addimage__.arrayBufferToBinaryString=function(L){for(var U="",V=D(L)?L:new Uint8Array(L),Y=0;Y<V.length;Y+=8192)U+=String.fromCharCode.apply(null,V.subarray(Y,Y+8192));return U};e.addImage=function(){var L,U,V,Y,de,te,ie,ge,oe;if(typeof arguments[1]=="number"?(U=r,V=arguments[1],Y=arguments[2],de=arguments[3],te=arguments[4],ie=arguments[5],ge=arguments[6],oe=arguments[7]):(U=arguments[1],V=arguments[2],Y=arguments[3],de=arguments[4],te=arguments[5],ie=arguments[6],ge=arguments[7],oe=arguments[8]),jn(L=arguments[0])==="object"&&!g(L)&&"imageData"in L){var Se=L;L=Se.imageData,U=Se.format||U||r,V=Se.x||V||0,Y=Se.y||Y||0,de=Se.w||Se.width||de,te=Se.h||Se.height||te,ie=Se.alias||ie,ge=Se.compression||ge,oe=Se.rotation||Se.angle||oe}var ne=this.internal.getFilters();if(ge===void 0&&ne.indexOf("FlateEncode")!==-1&&(ge="SLOW"),isNaN(V)||isNaN(Y))throw new Error("Invalid coordinates passed to jsPDF.addImage");u.call(this);var M=B.call(this,L,U,ie,ge);return w.call(this,V,Y,de,te,M,oe),this};var B=function(L,U,V,Y){var de,te,ie;if(typeof L=="string"&&a(L)===r){L=unescape(L);var ge=H(L,!1);(ge!==""||(ge=e.loadFile(L,!0))!==void 0)&&(L=ge)}if(g(L)&&(L=x(L,U)),U=a(L,U),!m(U))throw new Error("addImage does not support files of type '"+U+"', please ensure that a plugin for '"+U+"' support is added.");if(((ie=V)==null||ie.length===0)&&(V=(function(oe){return typeof oe=="string"||D(oe)?j(oe):D(oe.data)?j(oe.data):null})(L)),(de=b.call(this,V))||(L instanceof Uint8Array||U==="RGBA"||(te=L,L=C(L)),de=this["process"+U.toUpperCase()](L,h.call(this),V,(function(oe){return oe&&typeof oe=="string"&&(oe=oe.toUpperCase()),oe in e.image_compression?oe:E.NONE})(Y),te)),!de)throw new Error("An unknown error occurred whilst processing the image.");return de},H=e.__addimage__.convertBase64ToBinaryString=function(L,U){U=typeof U!="boolean"||U;var V,Y="";if(typeof L=="string"){var de;V=(de=O(L))!==null&&de!==void 0?de:L;try{Y=Vv(V)}catch(te){if(U)throw T(V)?new Error("atob-Error in jsPDF.convertBase64ToBinaryString "+te.message):new Error("Supplied Data is not a valid base64-String jsPDF.convertBase64ToBinaryString ")}}return Y};e.getImageProperties=function(L){var U,V,Y="";if(g(L)&&(L=x(L)),typeof L=="string"&&a(L)===r&&((Y=H(L,!1))===""&&(Y=e.loadFile(L)||""),L=Y),V=a(L),!m(V))throw new Error("addImage does not support files of type '"+V+"', please ensure that a plugin for '"+V+"' support is added.");if(L instanceof Uint8Array||(L=C(L)),!(U=this["process"+V.toUpperCase()](L)))throw new Error("An unknown error occurred whilst processing the image");return U.fileType=V,U}})(Gt.API),(function(e){var t=function(r){if(r!==void 0&&r!="")return!0};Gt.API.events.push(["addPage",function(r){this.internal.getPageInfo(r.pageNumber).pageContext.annotations=[]}]),e.events.push(["putPage",function(r){for(var n,a,s,l=this.internal.getCoordinateString,o=this.internal.getVerticalCoordinateString,u=this.internal.getPageInfoByObjId(r.objId),d=r.pageContext.annotations,h=!1,m=0;m<d.length&&!h;m++)switch((n=d[m]).type){case"link":(t(n.options.url)||t(n.options.pageNumber))&&(h=!0);break;case"reference":case"text":case"freetext":h=!0}if(h!=0){this.internal.write("/Annots [");for(var g=0;g<d.length;g++){n=d[g];var x=this.internal.pdfEscape,b=this.internal.getEncryptor(r.objId);switch(n.type){case"reference":this.internal.write(" "+n.object.objId+" 0 R ");break;case"text":var v=this.internal.newAdditionalObject(),w=this.internal.newAdditionalObject(),N=this.internal.getEncryptor(v.objId),E=n.title||"Note";s="<</Type /Annot /Subtype /Text "+(a="/Rect ["+l(n.bounds.x)+" "+o(n.bounds.y+n.bounds.h)+" "+l(n.bounds.x+n.bounds.w)+" "+o(n.bounds.y)+"] ")+"/Contents ("+x(N(n.contents))+")",s+=" /Popup "+w.objId+" 0 R",s+=" /P "+u.objId+" 0 R",s+=" /T ("+x(N(E))+") >>",v.content=s;var j=v.objId+" 0 R";s="<</Type /Annot /Subtype /Popup "+(a="/Rect ["+l(n.bounds.x+30)+" "+o(n.bounds.y+n.bounds.h)+" "+l(n.bounds.x+n.bounds.w+30)+" "+o(n.bounds.y)+"] ")+" /Parent "+j,n.open&&(s+=" /Open true"),s+=" >>",w.content=s,this.internal.write(v.objId,"0 R",w.objId,"0 R");break;case"freetext":a="/Rect ["+l(n.bounds.x)+" "+o(n.bounds.y)+" "+l(n.bounds.x+n.bounds.w)+" "+o(n.bounds.y+n.bounds.h)+"] ";var T=n.color||"#000000";s="<</Type /Annot /Subtype /FreeText "+a+"/Contents ("+x(b(n.contents))+")",s+=" /DS(font: Helvetica,sans-serif 12.0pt; text-align:left; color:#"+T+")",s+=" /Border [0 0 0]",s+=" >>",this.internal.write(s);break;case"link":if(n.options.name){var O=this.annotations._nameMap[n.options.name];n.options.pageNumber=O.page,n.options.top=O.y}else n.options.top||(n.options.top=0);if(a="/Rect ["+n.finalBounds.x+" "+n.finalBounds.y+" "+n.finalBounds.w+" "+n.finalBounds.h+"] ",s="",n.options.url)s="<</Type /Annot /Subtype /Link "+a+"/Border [0 0 0] /A <</S /URI /URI ("+x(b(n.options.url))+") >>";else if(n.options.pageNumber)switch(s="<</Type /Annot /Subtype /Link "+a+"/Border [0 0 0] /Dest ["+this.internal.getPageInfo(n.options.pageNumber).objId+" 0 R",n.options.magFactor=n.options.magFactor||"XYZ",n.options.magFactor){case"Fit":s+=" /Fit]";break;case"FitH":s+=" /FitH "+n.options.top+"]";break;case"FitV":n.options.left=n.options.left||0,s+=" /FitV "+n.options.left+"]";break;default:var D=o(n.options.top);n.options.left=n.options.left||0,n.options.zoom===void 0&&(n.options.zoom=0),s+=" /XYZ "+n.options.left+" "+D+" "+n.options.zoom+"]"}s!=""&&(s+=" >>",this.internal.write(s))}}this.internal.write("]")}}]),e.createAnnotation=function(r){var n=this.internal.getCurrentPageInfo();switch(r.type){case"link":this.link(r.bounds.x,r.bounds.y,r.bounds.w,r.bounds.h,r);break;case"text":case"freetext":n.pageContext.annotations.push(r)}},e.link=function(r,n,a,s,l){var o=this.internal.getCurrentPageInfo(),u=this.internal.getCoordinateString,d=this.internal.getVerticalCoordinateString;o.pageContext.annotations.push({finalBounds:{x:u(r),y:d(n),w:u(r+a),h:d(n+s)},options:l,type:"link"})},e.textWithLink=function(r,n,a,s){var l,o,u=this.getTextWidth(r),d=this.internal.getLineHeight()/this.internal.scaleFactor;if(s.maxWidth!==void 0){o=s.maxWidth;var h=this.splitTextToSize(r,o).length;l=Math.ceil(d*h)}else o=u,l=d;return this.text(r,n,a,s),a+=.2*d,s.align==="center"&&(n-=u/2),s.align==="right"&&(n-=u),this.link(n,a-d,o,l,s),u},e.getTextWidth=function(r){var n=this.internal.getFontSize();return this.getStringUnitWidth(r)*n/this.internal.scaleFactor}})(Gt.API),(function(e){var t={1569:[65152],1570:[65153,65154],1571:[65155,65156],1572:[65157,65158],1573:[65159,65160],1574:[65161,65162,65163,65164],1575:[65165,65166],1576:[65167,65168,65169,65170],1577:[65171,65172],1578:[65173,65174,65175,65176],1579:[65177,65178,65179,65180],1580:[65181,65182,65183,65184],1581:[65185,65186,65187,65188],1582:[65189,65190,65191,65192],1583:[65193,65194],1584:[65195,65196],1585:[65197,65198],1586:[65199,65200],1587:[65201,65202,65203,65204],1588:[65205,65206,65207,65208],1589:[65209,65210,65211,65212],1590:[65213,65214,65215,65216],1591:[65217,65218,65219,65220],1592:[65221,65222,65223,65224],1593:[65225,65226,65227,65228],1594:[65229,65230,65231,65232],1601:[65233,65234,65235,65236],1602:[65237,65238,65239,65240],1603:[65241,65242,65243,65244],1604:[65245,65246,65247,65248],1605:[65249,65250,65251,65252],1606:[65253,65254,65255,65256],1607:[65257,65258,65259,65260],1608:[65261,65262],1609:[65263,65264,64488,64489],1610:[65265,65266,65267,65268],1649:[64336,64337],1655:[64477],1657:[64358,64359,64360,64361],1658:[64350,64351,64352,64353],1659:[64338,64339,64340,64341],1662:[64342,64343,64344,64345],1663:[64354,64355,64356,64357],1664:[64346,64347,64348,64349],1667:[64374,64375,64376,64377],1668:[64370,64371,64372,64373],1670:[64378,64379,64380,64381],1671:[64382,64383,64384,64385],1672:[64392,64393],1676:[64388,64389],1677:[64386,64387],1678:[64390,64391],1681:[64396,64397],1688:[64394,64395],1700:[64362,64363,64364,64365],1702:[64366,64367,64368,64369],1705:[64398,64399,64400,64401],1709:[64467,64468,64469,64470],1711:[64402,64403,64404,64405],1713:[64410,64411,64412,64413],1715:[64406,64407,64408,64409],1722:[64414,64415],1723:[64416,64417,64418,64419],1726:[64426,64427,64428,64429],1728:[64420,64421],1729:[64422,64423,64424,64425],1733:[64480,64481],1734:[64473,64474],1735:[64471,64472],1736:[64475,64476],1737:[64482,64483],1739:[64478,64479],1740:[64508,64509,64510,64511],1744:[64484,64485,64486,64487],1746:[64430,64431],1747:[64432,64433]},r={65247:{65154:65269,65156:65271,65160:65273,65166:65275},65248:{65154:65270,65156:65272,65160:65274,65166:65276},65165:{65247:{65248:{65258:65010}}},1617:{1612:64606,1613:64607,1614:64608,1615:64609,1616:64610}},n={1612:64606,1613:64607,1614:64608,1615:64609,1616:64610},a=[1570,1571,1573,1575];e.__arabicParser__={};var s=e.__arabicParser__.isInArabicSubstitutionA=function(v){return t[v.charCodeAt(0)]!==void 0},l=e.__arabicParser__.isArabicLetter=function(v){return typeof v=="string"&&/^[\u0600-\u06FF\u0750-\u077F\u08A0-\u08FF\uFB50-\uFDFF\uFE70-\uFEFF]+$/.test(v)},o=e.__arabicParser__.isArabicEndLetter=function(v){return l(v)&&s(v)&&t[v.charCodeAt(0)].length<=2},u=e.__arabicParser__.isArabicAlfLetter=function(v){return l(v)&&a.indexOf(v.charCodeAt(0))>=0};e.__arabicParser__.arabicLetterHasIsolatedForm=function(v){return l(v)&&s(v)&&t[v.charCodeAt(0)].length>=1};var d=e.__arabicParser__.arabicLetterHasFinalForm=function(v){return l(v)&&s(v)&&t[v.charCodeAt(0)].length>=2};e.__arabicParser__.arabicLetterHasInitialForm=function(v){return l(v)&&s(v)&&t[v.charCodeAt(0)].length>=3};var h=e.__arabicParser__.arabicLetterHasMedialForm=function(v){return l(v)&&s(v)&&t[v.charCodeAt(0)].length==4},m=e.__arabicParser__.resolveLigatures=function(v){var w=0,N=r,E="",j=0;for(w=0;w<v.length;w+=1)N[v.charCodeAt(w)]!==void 0?(j++,typeof(N=N[v.charCodeAt(w)])=="number"&&(E+=String.fromCharCode(N),N=r,j=0),w===v.length-1&&(N=r,E+=v.charAt(w-(j-1)),w-=j-1,j=0)):(N=r,E+=v.charAt(w-j),w-=j,j=0);return E};e.__arabicParser__.isArabicDiacritic=function(v){return v!==void 0&&n[v.charCodeAt(0)]!==void 0};var g=e.__arabicParser__.getCorrectForm=function(v,w,N){return l(v)?s(v)===!1?-1:!d(v)||!l(w)&&!l(N)||!l(N)&&o(w)||o(v)&&!l(w)||o(v)&&u(w)||o(v)&&o(w)?0:h(v)&&l(w)&&!o(w)&&l(N)&&d(N)?3:o(v)||!l(N)?1:2:-1},x=function(v){var w=0,N=0,E=0,j="",T="",O="",D=(v=v||"").split("\\s+"),C=[];for(w=0;w<D.length;w+=1){for(C.push(""),N=0;N<D[w].length;N+=1)j=D[w][N],T=D[w][N-1],O=D[w][N+1],l(j)?(E=g(j,T,O),C[w]+=E!==-1?String.fromCharCode(t[j.charCodeAt(0)][E]):j):C[w]+=j;C[w]=m(C[w])}return C.join(" ")},b=e.__arabicParser__.processArabic=e.processArabic=function(){var v,w=typeof arguments[0]=="string"?arguments[0]:arguments[0].text,N=[];if(Array.isArray(w)){var E=0;for(N=[],E=0;E<w.length;E+=1)Array.isArray(w[E])?N.push([x(w[E][0]),w[E][1],w[E][2]]):N.push([x(w[E])]);v=N}else v=x(w);return typeof arguments[0]=="string"?v:(arguments[0].text=v,arguments[0])};e.events.push(["preProcessText",b])})(Gt.API),Gt.API.autoPrint=function(e){var t;return(e=e||{}).variant=e.variant||"non-conform",e.variant==="javascript"?this.addJS("print({});"):(this.internal.events.subscribe("postPutResources",function(){t=this.internal.newObject(),this.internal.out("<<"),this.internal.out("/S /Named"),this.internal.out("/Type /Action"),this.internal.out("/N /Print"),this.internal.out(">>"),this.internal.out("endobj")}),this.internal.events.subscribe("putCatalog",function(){this.internal.out("/OpenAction "+t+" 0 R")})),this},(function(e){var t=function(){var r=void 0;Object.defineProperty(this,"pdf",{get:function(){return r},set:function(o){r=o}});var n=150;Object.defineProperty(this,"width",{get:function(){return n},set:function(o){n=isNaN(o)||Number.isInteger(o)===!1||o<0?150:o,this.getContext("2d").pageWrapXEnabled&&(this.getContext("2d").pageWrapX=n+1)}});var a=300;Object.defineProperty(this,"height",{get:function(){return a},set:function(o){a=isNaN(o)||Number.isInteger(o)===!1||o<0?300:o,this.getContext("2d").pageWrapYEnabled&&(this.getContext("2d").pageWrapY=a+1)}});var s=[];Object.defineProperty(this,"childNodes",{get:function(){return s},set:function(o){s=o}});var l={};Object.defineProperty(this,"style",{get:function(){return l},set:function(o){l=o}}),Object.defineProperty(this,"parentNode",{})};t.prototype.getContext=function(r,n){var a;if((r=r||"2d")!=="2d")return null;for(a in n)this.pdf.context2d.hasOwnProperty(a)&&(this.pdf.context2d[a]=n[a]);return this.pdf.context2d._canvas=this,this.pdf.context2d},t.prototype.toDataURL=function(){throw new Error("toDataURL is not implemented.")},e.events.push(["initialized",function(){this.canvas=new t,this.canvas.pdf=this}])})(Gt.API),(function(e){var t={left:0,top:0,bottom:0,right:0},r=!1,n=function(){this.internal.__cell__===void 0&&(this.internal.__cell__={},this.internal.__cell__.padding=3,this.internal.__cell__.headerFunction=void 0,this.internal.__cell__.margins=Object.assign({},t),this.internal.__cell__.margins.width=this.getPageWidth(),a.call(this))},a=function(){this.internal.__cell__.lastCell=new s,this.internal.__cell__.pages=1},s=function(){var u=arguments[0];Object.defineProperty(this,"x",{enumerable:!0,get:function(){return u},set:function(v){u=v}});var d=arguments[1];Object.defineProperty(this,"y",{enumerable:!0,get:function(){return d},set:function(v){d=v}});var h=arguments[2];Object.defineProperty(this,"width",{enumerable:!0,get:function(){return h},set:function(v){h=v}});var m=arguments[3];Object.defineProperty(this,"height",{enumerable:!0,get:function(){return m},set:function(v){m=v}});var g=arguments[4];Object.defineProperty(this,"text",{enumerable:!0,get:function(){return g},set:function(v){g=v}});var x=arguments[5];Object.defineProperty(this,"lineNumber",{enumerable:!0,get:function(){return x},set:function(v){x=v}});var b=arguments[6];return Object.defineProperty(this,"align",{enumerable:!0,get:function(){return b},set:function(v){b=v}}),this};s.prototype.clone=function(){return new s(this.x,this.y,this.width,this.height,this.text,this.lineNumber,this.align)},s.prototype.toArray=function(){return[this.x,this.y,this.width,this.height,this.text,this.lineNumber,this.align]},e.setHeaderFunction=function(u){return n.call(this),this.internal.__cell__.headerFunction=typeof u=="function"?u:void 0,this},e.getTextDimensions=function(u,d){n.call(this);var h=(d=d||{}).fontSize||this.getFontSize(),m=d.font||this.getFont(),g=d.scaleFactor||this.internal.scaleFactor,x=0,b=0,v=0,w=this;if(!Array.isArray(u)&&typeof u!="string"){if(typeof u!="number")throw new Error("getTextDimensions expects text-parameter to be of type String or type Number or an Array of Strings.");u=String(u)}var N=d.maxWidth;N>0?typeof u=="string"?u=this.splitTextToSize(u,N):Object.prototype.toString.call(u)==="[object Array]"&&(u=u.reduce(function(j,T){return j.concat(w.splitTextToSize(T,N))},[])):u=Array.isArray(u)?u:[u];for(var E=0;E<u.length;E++)x<(v=this.getStringUnitWidth(u[E],{font:m})*h)&&(x=v);return x!==0&&(b=u.length),{w:x/=g,h:Math.max((b*h*this.getLineHeightFactor()-h*(this.getLineHeightFactor()-1))/g,0)}},e.cellAddPage=function(){n.call(this),this.addPage();var u=this.internal.__cell__.margins||t;return this.internal.__cell__.lastCell=new s(u.left,u.top,void 0,void 0),this.internal.__cell__.pages+=1,this};var l=e.cell=function(){var u;u=arguments[0]instanceof s?arguments[0]:new s(arguments[0],arguments[1],arguments[2],arguments[3],arguments[4],arguments[5]),n.call(this);var d=this.internal.__cell__.lastCell,h=this.internal.__cell__.padding,m=this.internal.__cell__.margins||t,g=this.internal.__cell__.tableHeaderRow,x=this.internal.__cell__.printHeaders;return d.lineNumber!==void 0&&(d.lineNumber===u.lineNumber?(u.x=(d.x||0)+(d.width||0),u.y=d.y||0):d.y+d.height+u.height+m.bottom>this.getPageHeight()?(this.cellAddPage(),u.y=m.top,x&&g&&(this.printHeaderRow(u.lineNumber,!0),u.y+=g[0].height)):u.y=d.y+d.height||u.y),u.text[0]!==void 0&&(this.rect(u.x,u.y,u.width,u.height,r===!0?"FD":void 0),u.align==="right"?this.text(u.text,u.x+u.width-h,u.y+h,{align:"right",baseline:"top"}):u.align==="center"?this.text(u.text,u.x+u.width/2,u.y+h,{align:"center",baseline:"top",maxWidth:u.width-h-h}):this.text(u.text,u.x+h,u.y+h,{align:"left",baseline:"top",maxWidth:u.width-h-h})),this.internal.__cell__.lastCell=u,this};e.table=function(u,d,h,m,g){if(n.call(this),!h)throw new Error("No data for PDF table.");var x,b,v,w,N=[],E=[],j=[],T={},O={},D=[],C=[],P=(g=g||{}).autoSize||!1,B=g.printHeaders!==!1,H=g.css&&g.css["font-size"]!==void 0?16*g.css["font-size"]:g.fontSize||12,L=g.margins||Object.assign({width:this.getPageWidth()},t),U=typeof g.padding=="number"?g.padding:3,V=g.headerBackgroundColor||"#c8c8c8",Y=g.headerTextColor||"#000";if(a.call(this),this.internal.__cell__.printHeaders=B,this.internal.__cell__.margins=L,this.internal.__cell__.table_font_size=H,this.internal.__cell__.padding=U,this.internal.__cell__.headerBackgroundColor=V,this.internal.__cell__.headerTextColor=Y,this.setFontSize(H),m==null)E=N=Object.keys(h[0]),j=N.map(function(){return"left"});else if(Array.isArray(m)&&jn(m[0])==="object")for(N=m.map(function(Se){return Se.name}),E=m.map(function(Se){return Se.prompt||Se.name||""}),j=m.map(function(Se){return Se.align||"left"}),x=0;x<m.length;x+=1)O[m[x].name]=.7499990551181103*m[x].width;else Array.isArray(m)&&typeof m[0]=="string"&&(E=N=m,j=N.map(function(){return"left"}));if(P||Array.isArray(m)&&typeof m[0]=="string")for(x=0;x<N.length;x+=1){for(T[w=N[x]]=h.map(function(Se){return Se[w]}),this.setFont(void 0,"bold"),D.push(this.getTextDimensions(E[x],{fontSize:this.internal.__cell__.table_font_size,scaleFactor:this.internal.scaleFactor}).w),b=T[w],this.setFont(void 0,"normal"),v=0;v<b.length;v+=1)D.push(this.getTextDimensions(b[v],{fontSize:this.internal.__cell__.table_font_size,scaleFactor:this.internal.scaleFactor}).w);O[w]=Math.max.apply(null,D)+U+U,D=[]}if(B){var de={};for(x=0;x<N.length;x+=1)de[N[x]]={},de[N[x]].text=E[x],de[N[x]].align=j[x];var te=o.call(this,de,O);C=N.map(function(Se){return new s(u,d,O[Se],te,de[Se].text,void 0,de[Se].align)}),this.setTableHeaderRow(C),this.printHeaderRow(1,!1)}var ie=m.reduce(function(Se,ne){return Se[ne.name]=ne.align,Se},{});for(x=0;x<h.length;x+=1){"rowStart"in g&&g.rowStart instanceof Function&&g.rowStart({row:x,data:h[x]},this);var ge=o.call(this,h[x],O);for(v=0;v<N.length;v+=1){var oe=h[x][N[v]];"cellStart"in g&&g.cellStart instanceof Function&&g.cellStart({row:x,col:v,data:oe},this),l.call(this,new s(u,d,O[N[v]],ge,oe,x+2,ie[N[v]]))}}return this.internal.__cell__.table_x=u,this.internal.__cell__.table_y=d,this};var o=function(u,d){var h=this.internal.__cell__.padding,m=this.internal.__cell__.table_font_size,g=this.internal.scaleFactor;return Object.keys(u).map(function(x){var b=u[x];return this.splitTextToSize(b.hasOwnProperty("text")?b.text:b,d[x]-h-h)},this).map(function(x){return this.getLineHeightFactor()*x.length*m/g+h+h},this).reduce(function(x,b){return Math.max(x,b)},0)};e.setTableHeaderRow=function(u){n.call(this),this.internal.__cell__.tableHeaderRow=u},e.printHeaderRow=function(u,d){if(n.call(this),!this.internal.__cell__.tableHeaderRow)throw new Error("Property tableHeaderRow does not exist.");var h;if(r=!0,typeof this.internal.__cell__.headerFunction=="function"){var m=this.internal.__cell__.headerFunction(this,this.internal.__cell__.pages);this.internal.__cell__.lastCell=new s(m[0],m[1],m[2],m[3],void 0,-1)}this.setFont(void 0,"bold");for(var g=[],x=0;x<this.internal.__cell__.tableHeaderRow.length;x+=1){h=this.internal.__cell__.tableHeaderRow[x].clone(),d&&(h.y=this.internal.__cell__.margins.top||0,g.push(h)),h.lineNumber=u;var b=this.getTextColor();this.setTextColor(this.internal.__cell__.headerTextColor),this.setFillColor(this.internal.__cell__.headerBackgroundColor),l.call(this,h),this.setTextColor(b)}g.length>0&&this.setTableHeaderRow(g),this.setFont(void 0,"normal"),r=!1}})(Gt.API);var oU={italic:["italic","oblique","normal"],oblique:["oblique","italic","normal"],normal:["normal","oblique","italic"]},cU=["ultra-condensed","extra-condensed","condensed","semi-condensed","normal","semi-expanded","expanded","extra-expanded","ultra-expanded"],T_=lU(cU),uU=[100,200,300,400,500,600,700,800,900],k4e=lU(uU);function qN(e){var t=e.family.replace(/"|'/g,"").toLowerCase(),r=(function(s){return oU[s=s||"normal"]?s:"normal"})(e.style),n=(function(s){return s?typeof s=="number"?s>=100&&s<=900&&s%100==0?s:400:/^\d00$/.test(s)?parseInt(s):s==="bold"?700:400:400})(e.weight),a=(function(s){return typeof T_[s=s||"normal"]=="number"?s:"normal"})(e.stretch);return{family:t,style:r,weight:n,stretch:a,src:e.src||[],ref:e.ref||{name:t,style:[a,r,n].join(" ")}}}function Q7(e,t,r,n){var a;for(a=r;a>=0&&a<t.length;a+=n)if(e[t[a]])return e[t[a]];for(a=r;a>=0&&a<t.length;a-=n)if(e[t[a]])return e[t[a]]}var E4e={"sans-serif":"helvetica",fixed:"courier",monospace:"courier",terminal:"courier",cursive:"times",fantasy:"times",serif:"times"},Z7={caption:"times",icon:"times",menu:"times","message-box":"times","small-caption":"times","status-bar":"times"};function J7(e){return[e.stretch,e.style,e.weight,e.family].join(" ")}function eF(e){return e.trimLeft()}function C4e(e,t){for(var r=0;r<e.length;){if(e.charAt(r)===t)return[e.substring(0,r),e.substring(r+1)];r+=1}return null}function T4e(e){var t=e.match(/^(-[a-z_]|[a-z_])[a-z0-9_-]*/i);return t===null?null:[t[0],e.substring(t[0].length)]}var Lv,tF,rF,jm,Mv,nF,aF,sF,$N=["times"];function iF(e,t,r,n,a){var s=4,l=oF;switch(a){case Gt.API.image_compression.FAST:s=1,l=lF;break;case Gt.API.image_compression.MEDIUM:s=6,l=cF;break;case Gt.API.image_compression.SLOW:s=9,l=uF}e=(function(u,d,h,m){for(var g,x=u.length/d,b=new Uint8Array(u.length+x),v=[O4e,lF,oF,cF,uF],w=0;w<x;w+=1){var N=w*d,E=u.subarray(N,N+d);if(m)b.set(m(E,h,g),N+w);else{for(var j=v.length,T=[],O=0;O<j;O+=1)T[O]=v[O](E,h,g);var D=D4e(T.concat());b.set(T[D],N+w)}g=E}return b})(e,t,Math.ceil(r*n/8),l);var o=__(e,{level:s});return Gt.API.__addimage__.arrayBufferToBinaryString(o)}function O4e(e){var t=Array.apply([],e);return t.unshift(0),t}function lF(e,t){var r=e.length,n=[];n[0]=1;for(var a=0;a<r;a+=1){var s=e[a-t]||0;n[a+1]=e[a]-s+256&255}return n}function oF(e,t,r){var n=e.length,a=[];a[0]=2;for(var s=0;s<n;s+=1){var l=r&&r[s]||0;a[s+1]=e[s]-l+256&255}return a}function cF(e,t,r){var n=e.length,a=[];a[0]=3;for(var s=0;s<n;s+=1){var l=e[s-t]||0,o=r&&r[s]||0;a[s+1]=e[s]+256-(l+o>>>1)&255}return a}function uF(e,t,r){var n=e.length,a=[];a[0]=4;for(var s=0;s<n;s+=1){var l=F4e(e[s-t]||0,r&&r[s]||0,r&&r[s-t]||0);a[s+1]=e[s]-l+256&255}return a}function F4e(e,t,r){if(e===t&&t===r)return e;var n=Math.abs(t-r),a=Math.abs(e-r),s=Math.abs(e+t-r-r);return n<=a&&n<=s?e:a<=s?t:r}function D4e(e){var t=e.map(function(r){return r.reduce(function(n,a){return n+Math.abs(a)},0)});return t.indexOf(Math.min.apply(null,t))}function HN(e,t,r){var n=t*r,a=Math.floor(n/8),s=16-(n-8*a+r),l=(1<<r)-1;return dU(e,a)>>s&l}function dF(e,t,r,n){var a=r*n,s=Math.floor(a/8),l=16-(a-8*s+n),o=(1<<n)-1,u=(t&o)<<l;(function(d,h,m){if(h+1<d.byteLength)d.setUint16(h,m,!1);else{var g=m>>8&255;d.setUint8(h,g)}})(e,s,dU(e,s)&~(o<<l)&65535|u)}function dU(e,t){return t+1<e.byteLength?e.getUint16(t,!1):e.getUint8(t)<<8}function P4e(e){var t=0;if(e[t++]!==71||e[t++]!==73||e[t++]!==70||e[t++]!==56||(e[t++]+1&253)!=56||e[t++]!==97)throw new Error("Invalid GIF 87a/89a header.");var r=e[t++]|e[t++]<<8,n=e[t++]|e[t++]<<8,a=e[t++],s=a>>7,l=1<<1+(7&a);e[t++],e[t++];var o=null,u=null;s&&(o=t,u=l,t+=3*l);var d=!0,h=[],m=0,g=null,x=0,b=null;for(this.width=r,this.height=n;d&&t<e.length;)switch(e[t++]){case 33:switch(e[t++]){case 255:if(e[t]!==11||e[t+1]==78&&e[t+2]==69&&e[t+3]==84&&e[t+4]==83&&e[t+5]==67&&e[t+6]==65&&e[t+7]==80&&e[t+8]==69&&e[t+9]==50&&e[t+10]==46&&e[t+11]==48&&e[t+12]==3&&e[t+13]==1&&e[t+16]==0)t+=14,b=e[t++]|e[t++]<<8,t++;else for(t+=12;;){if(!((L=e[t++])>=0))throw Error("Invalid block size");if(L===0)break;t+=L}break;case 249:if(e[t++]!==4||e[t+4]!==0)throw new Error("Invalid graphics extension block.");var v=e[t++];m=e[t++]|e[t++]<<8,g=e[t++],1&v||(g=null),x=v>>2&7,t++;break;case 254:for(;;){if(!((L=e[t++])>=0))throw Error("Invalid block size");if(L===0)break;t+=L}break;default:throw new Error("Unknown graphic control label: 0x"+e[t-1].toString(16))}break;case 44:var w=e[t++]|e[t++]<<8,N=e[t++]|e[t++]<<8,E=e[t++]|e[t++]<<8,j=e[t++]|e[t++]<<8,T=e[t++],O=T>>6&1,D=1<<1+(7&T),C=o,P=u,B=!1;T>>7&&(B=!0,C=t,P=D,t+=3*D);var H=t;for(t++;;){var L;if(!((L=e[t++])>=0))throw Error("Invalid block size");if(L===0)break;t+=L}h.push({x:w,y:N,width:E,height:j,has_local_palette:B,palette_offset:C,palette_size:P,data_offset:H,data_length:t-H,transparent_index:g,interlaced:!!O,delay:m,disposal:x});break;case 59:d=!1;break;default:throw new Error("Unknown gif block: 0x"+e[t-1].toString(16))}this.numFrames=function(){return h.length},this.loopCount=function(){return b},this.frameInfo=function(U){if(U<0||U>=h.length)throw new Error("Frame index out of range.");return h[U]},this.decodeAndBlitFrameBGRA=function(U,V){var Y=this.frameInfo(U),de=Y.width*Y.height,te=new Uint8Array(de);fF(e,Y.data_offset,te,de);var ie=Y.palette_offset,ge=Y.transparent_index;ge===null&&(ge=256);var oe=Y.width,Se=r-oe,ne=oe,M=4*(Y.y*r+Y.x),R=4*((Y.y+Y.height)*r+Y.x),q=M,K=4*Se;Y.interlaced===!0&&(K+=4*r*7);for(var ee=8,ce=0,Q=te.length;ce<Q;++ce){var re=te[ce];if(ne===0&&(ne=oe,(q+=K)>=R&&(K=4*Se+4*r*(ee-1),q=M+(oe+Se)*(ee<<1),ee>>=1)),re===ge)q+=4;else{var ye=e[ie+3*re],Ee=e[ie+3*re+1],X=e[ie+3*re+2];V[q++]=X,V[q++]=Ee,V[q++]=ye,V[q++]=255}--ne}},this.decodeAndBlitFrameRGBA=function(U,V){var Y=this.frameInfo(U),de=Y.width*Y.height,te=new Uint8Array(de);fF(e,Y.data_offset,te,de);var ie=Y.palette_offset,ge=Y.transparent_index;ge===null&&(ge=256);var oe=Y.width,Se=r-oe,ne=oe,M=4*(Y.y*r+Y.x),R=4*((Y.y+Y.height)*r+Y.x),q=M,K=4*Se;Y.interlaced===!0&&(K+=4*r*7);for(var ee=8,ce=0,Q=te.length;ce<Q;++ce){var re=te[ce];if(ne===0&&(ne=oe,(q+=K)>=R&&(K=4*Se+4*r*(ee-1),q=M+(oe+Se)*(ee<<1),ee>>=1)),re===ge)q+=4;else{var ye=e[ie+3*re],Ee=e[ie+3*re+1],X=e[ie+3*re+2];V[q++]=ye,V[q++]=Ee,V[q++]=X,V[q++]=255}--ne}}}function fF(e,t,r,n){for(var a=e[t++],s=1<<a,l=s+1,o=l+1,u=a+1,d=(1<<u)-1,h=0,m=0,g=0,x=e[t++],b=new Int32Array(4096),v=null;;){for(;h<16&&x!==0;)m|=e[t++]<<h,h+=8,x===1?x=e[t++]:--x;if(h<u)break;var w=m&d;if(m>>=u,h-=u,w!==s){if(w===l)break;for(var N=w<o?w:v,E=0,j=N;j>s;)j=b[j]>>8,++E;var T=j;if(g+E+(N!==w?1:0)>n)return void zn.log("Warning, gif stream longer than expected.");r[g++]=T;var O=g+=E;for(N!==w&&(r[g++]=T),j=N;E--;)j=b[j],r[--O]=255&j,j>>=8;v!==null&&o<4096&&(b[o++]=v<<8|T,o>=d+1&&u<12&&(++u,d=d<<1|1)),v=w}else o=l+1,d=(1<<(u=a+1))-1,v=null}return g!==n&&zn.log("Warning, gif stream shorter than expected."),r}/**
 * @license
  Copyright (c) 2008, Adobe Systems Incorporated
  All rights reserved.

  Redistribution and use in source and binary forms, with or without 
  modification, are permitted provided that the following conditions are
  met:

  * Redistributions of source code must retain the above copyright notice, 
    this list of conditions and the following disclaimer.
  
  * Redistributions in binary form must reproduce the above copyright
    notice, this list of conditions and the following disclaimer in the 
    documentation and/or other materials provided with the distribution.
  
  * Neither the name of Adobe Systems Incorporated nor the names of its 
    contributors may be used to endorse or promote products derived from 
    this software without specific prior written permission.

  THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS "AS
  IS" AND ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO,
  THE IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR
  PURPOSE ARE DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT OWNER OR 
  CONTRIBUTORS BE LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL,
  EXEMPLARY, OR CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT LIMITED TO,
  PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES; LOSS OF USE, DATA, OR
  PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND ON ANY THEORY OF
  LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT (INCLUDING
  NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE OF THIS
  SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.
*/function VN(e){var t,r,n,a,s,l=Math.floor,o=new Array(64),u=new Array(64),d=new Array(64),h=new Array(64),m=new Array(65535),g=new Array(65535),x=new Array(64),b=new Array(64),v=[],w=0,N=7,E=new Array(64),j=new Array(64),T=new Array(64),O=new Array(256),D=new Array(2048),C=[0,1,5,6,14,15,27,28,2,4,7,13,16,26,29,42,3,8,12,17,25,30,41,43,9,11,18,24,31,40,44,53,10,19,23,32,39,45,52,54,20,22,33,38,46,51,55,60,21,34,37,47,50,56,59,61,35,36,48,49,57,58,62,63],P=[0,0,1,5,1,1,1,1,1,1,0,0,0,0,0,0,0],B=[0,1,2,3,4,5,6,7,8,9,10,11],H=[0,0,2,1,3,3,2,4,3,5,5,4,4,0,0,1,125],L=[1,2,3,0,4,17,5,18,33,49,65,6,19,81,97,7,34,113,20,50,129,145,161,8,35,66,177,193,21,82,209,240,36,51,98,114,130,9,10,22,23,24,25,26,37,38,39,40,41,42,52,53,54,55,56,57,58,67,68,69,70,71,72,73,74,83,84,85,86,87,88,89,90,99,100,101,102,103,104,105,106,115,116,117,118,119,120,121,122,131,132,133,134,135,136,137,138,146,147,148,149,150,151,152,153,154,162,163,164,165,166,167,168,169,170,178,179,180,181,182,183,184,185,186,194,195,196,197,198,199,200,201,202,210,211,212,213,214,215,216,217,218,225,226,227,228,229,230,231,232,233,234,241,242,243,244,245,246,247,248,249,250],U=[0,0,3,1,1,1,1,1,1,1,1,1,0,0,0,0,0],V=[0,1,2,3,4,5,6,7,8,9,10,11],Y=[0,0,2,1,2,4,4,3,4,7,5,4,4,0,1,2,119],de=[0,1,2,3,17,4,5,33,49,6,18,65,81,7,97,113,19,34,50,129,8,20,66,145,161,177,193,9,35,51,82,240,21,98,114,209,10,22,36,52,225,37,241,23,24,25,26,38,39,40,41,42,53,54,55,56,57,58,67,68,69,70,71,72,73,74,83,84,85,86,87,88,89,90,99,100,101,102,103,104,105,106,115,116,117,118,119,120,121,122,130,131,132,133,134,135,136,137,138,146,147,148,149,150,151,152,153,154,162,163,164,165,166,167,168,169,170,178,179,180,181,182,183,184,185,186,194,195,196,197,198,199,200,201,202,210,211,212,213,214,215,216,217,218,226,227,228,229,230,231,232,233,234,242,243,244,245,246,247,248,249,250];function te(M,R){for(var q=0,K=0,ee=new Array,ce=1;ce<=16;ce++){for(var Q=1;Q<=M[ce];Q++)ee[R[K]]=[],ee[R[K]][0]=q,ee[R[K]][1]=ce,K++,q++;q*=2}return ee}function ie(M){for(var R=M[0],q=M[1]-1;q>=0;)R&1<<q&&(w|=1<<N),q--,--N<0&&(w==255?(ge(255),ge(0)):ge(w),N=7,w=0)}function ge(M){v.push(M)}function oe(M){ge(M>>8&255),ge(255&M)}function Se(M,R,q,K,ee){for(var ce,Q=ee[0],re=ee[240],ye=(function(Be,ct){var lt,Ye,ft,Et,zt,Kt,Ar,Mt,Pt,wt,Ct=0;for(Pt=0;Pt<8;++Pt){lt=Be[Ct],Ye=Be[Ct+1],ft=Be[Ct+2],Et=Be[Ct+3],zt=Be[Ct+4],Kt=Be[Ct+5],Ar=Be[Ct+6];var _r=lt+(Mt=Be[Ct+7]),Zt=lt-Mt,kt=Ye+Ar,tr=Ye-Ar,br=ft+Kt,sr=ft-Kt,kr=Et+zt,fr=Et-zt,gn=_r+kr,Hn=_r-kr,Wr=kt+br,Yt=kt-br;Be[Ct]=gn+Wr,Be[Ct+4]=gn-Wr;var Lr=.707106781*(Yt+Hn);Be[Ct+2]=Hn+Lr,Be[Ct+6]=Hn-Lr;var Ii=.382683433*((gn=fr+sr)-(Yt=tr+Zt)),ts=.5411961*gn+Ii,sl=1.306562965*Yt+Ii,pi=.707106781*(Wr=sr+tr),Xt=Zt+pi,Fl=Zt-pi;Be[Ct+5]=Fl+ts,Be[Ct+3]=Fl-ts,Be[Ct+1]=Xt+sl,Be[Ct+7]=Xt-sl,Ct+=8}for(Ct=0,Pt=0;Pt<8;++Pt){lt=Be[Ct],Ye=Be[Ct+8],ft=Be[Ct+16],Et=Be[Ct+24],zt=Be[Ct+32],Kt=Be[Ct+40],Ar=Be[Ct+48];var il=lt+(Mt=Be[Ct+56]),ms=lt-Mt,Xs=Ye+Ar,Cn=Ye-Ar,sa=ft+Kt,ae=ft-Kt,Ne=Et+zt,he=Et-zt,me=il+Ne,ve=il-Ne,je=Xs+sa,Re=Xs-sa;Be[Ct]=me+je,Be[Ct+32]=me-je;var Ze=.707106781*(Re+ve);Be[Ct+16]=ve+Ze,Be[Ct+48]=ve-Ze;var Ue=.382683433*((me=he+ae)-(Re=Cn+ms)),ze=.5411961*me+Ue,He=1.306562965*Re+Ue,pt=.707106781*(je=ae+Cn),bt=ms+pt,At=ms-pt;Be[Ct+40]=At+ze,Be[Ct+24]=At-ze,Be[Ct+8]=bt+He,Be[Ct+56]=bt-He,Ct++}for(Pt=0;Pt<64;++Pt)wt=Be[Pt]*ct[Pt],x[Pt]=wt>0?wt+.5|0:wt-.5|0;return x})(M,R),Ee=0;Ee<64;++Ee)b[C[Ee]]=ye[Ee];var X=b[0]-q;q=b[0],X==0?ie(K[0]):(ie(K[g[ce=32767+X]]),ie(m[ce]));for(var Je=63;Je>0&&b[Je]==0;)Je--;if(Je==0)return ie(Q),q;for(var Ce,xe=1;xe<=Je;){for(var xt=xe;b[xe]==0&&xe<=Je;)++xe;var et=xe-xt;if(et>=16){Ce=et>>4;for(var Le=1;Le<=Ce;++Le)ie(re);et&=15}ce=32767+b[xe],ie(ee[(et<<4)+g[ce]]),ie(m[ce]),xe++}return Je!=63&&ie(Q),q}function ne(M){M=Math.min(Math.max(M,1),100),s!=M&&((function(R){for(var q=[16,11,10,16,24,40,51,61,12,12,14,19,26,58,60,55,14,13,16,24,40,57,69,56,14,17,22,29,51,87,80,62,18,22,37,56,68,109,103,77,24,35,55,64,81,104,113,92,49,64,78,87,103,121,120,101,72,92,95,98,112,100,103,99],K=0;K<64;K++){var ee=l((q[K]*R+50)/100);ee=Math.min(Math.max(ee,1),255),o[C[K]]=ee}for(var ce=[17,18,24,47,99,99,99,99,18,21,26,66,99,99,99,99,24,26,56,99,99,99,99,99,47,66,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99],Q=0;Q<64;Q++){var re=l((ce[Q]*R+50)/100);re=Math.min(Math.max(re,1),255),u[C[Q]]=re}for(var ye=[1,1.387039845,1.306562965,1.175875602,1,.785694958,.5411961,.275899379],Ee=0,X=0;X<8;X++)for(var Je=0;Je<8;Je++)d[Ee]=1/(o[C[Ee]]*ye[X]*ye[Je]*8),h[Ee]=1/(u[C[Ee]]*ye[X]*ye[Je]*8),Ee++})(M<50?Math.floor(5e3/M):Math.floor(200-2*M)),s=M)}this.encode=function(M,R){R&&ne(R),v=new Array,w=0,N=7,oe(65496),oe(65504),oe(16),ge(74),ge(70),ge(73),ge(70),ge(0),ge(1),ge(1),ge(0),oe(1),oe(1),ge(0),ge(0),(function(){oe(65499),oe(132),ge(0);for(var Ye=0;Ye<64;Ye++)ge(o[Ye]);ge(1);for(var ft=0;ft<64;ft++)ge(u[ft])})(),(function(Ye,ft){oe(65472),oe(17),ge(8),oe(ft),oe(Ye),ge(3),ge(1),ge(17),ge(0),ge(2),ge(17),ge(1),ge(3),ge(17),ge(1)})(M.width,M.height),(function(){oe(65476),oe(418),ge(0);for(var Ye=0;Ye<16;Ye++)ge(P[Ye+1]);for(var ft=0;ft<=11;ft++)ge(B[ft]);ge(16);for(var Et=0;Et<16;Et++)ge(H[Et+1]);for(var zt=0;zt<=161;zt++)ge(L[zt]);ge(1);for(var Kt=0;Kt<16;Kt++)ge(U[Kt+1]);for(var Ar=0;Ar<=11;Ar++)ge(V[Ar]);ge(17);for(var Mt=0;Mt<16;Mt++)ge(Y[Mt+1]);for(var Pt=0;Pt<=161;Pt++)ge(de[Pt])})(),oe(65498),oe(12),ge(3),ge(1),ge(0),ge(2),ge(17),ge(3),ge(17),ge(0),ge(63),ge(0);var q=0,K=0,ee=0;w=0,N=7,this.encode.displayName="_encode_";for(var ce,Q,re,ye,Ee,X,Je,Ce,xe,xt=M.data,et=M.width,Le=M.height,Be=4*et,ct=0;ct<Le;){for(ce=0;ce<Be;){for(Ee=Be*ct+ce,Je=-1,Ce=0,xe=0;xe<64;xe++)X=Ee+(Ce=xe>>3)*Be+(Je=4*(7&xe)),ct+Ce>=Le&&(X-=Be*(ct+1+Ce-Le)),ce+Je>=Be&&(X-=ce+Je-Be+4),Q=xt[X++],re=xt[X++],ye=xt[X++],E[xe]=(D[Q]+D[re+256|0]+D[ye+512|0]>>16)-128,j[xe]=(D[Q+768|0]+D[re+1024|0]+D[ye+1280|0]>>16)-128,T[xe]=(D[Q+1280|0]+D[re+1536|0]+D[ye+1792|0]>>16)-128;q=Se(E,d,q,t,n),K=Se(j,h,K,r,a),ee=Se(T,h,ee,r,a),ce+=32}ct+=8}if(N>=0){var lt=[];lt[1]=N+1,lt[0]=(1<<N+1)-1,ie(lt)}return oe(65497),new Uint8Array(v)},e=e||50,(function(){for(var M=String.fromCharCode,R=0;R<256;R++)O[R]=M(R)})(),t=te(P,B),r=te(U,V),n=te(H,L),a=te(Y,de),(function(){for(var M=1,R=2,q=1;q<=15;q++){for(var K=M;K<R;K++)g[32767+K]=q,m[32767+K]=[],m[32767+K][1]=q,m[32767+K][0]=K;for(var ee=-(R-1);ee<=-M;ee++)g[32767+ee]=q,m[32767+ee]=[],m[32767+ee][1]=q,m[32767+ee][0]=R-1+ee;M<<=1,R<<=1}})(),(function(){for(var M=0;M<256;M++)D[M]=19595*M,D[M+256|0]=38470*M,D[M+512|0]=7471*M+32768,D[M+768|0]=-11059*M,D[M+1024|0]=-21709*M,D[M+1280|0]=32768*M+8421375,D[M+1536|0]=-27439*M,D[M+1792|0]=-5329*M})(),ne(e)}/**
 * @license
 * Copyright (c) 2017 Aras Abbasi
 *
 * Licensed under the MIT License.
 * http://opensource.org/licenses/mit-license
 */function bc(e,t){if(this.pos=0,this.buffer=e,this.datav=new DataView(e.buffer),this.is_with_alpha=!!t,this.bottom_up=!0,this.flag=String.fromCharCode(this.buffer[0])+String.fromCharCode(this.buffer[1]),this.pos+=2,["BM","BA","CI","CP","IC","PT"].indexOf(this.flag)===-1)throw new Error("Invalid BMP File");this.parseHeader(),this.parseBGR()}function hF(e){function t(B){if(!B)throw Error("assert :P")}function r(B,H,L){for(var U=0;4>U;U++)if(B[H+U]!=L.charCodeAt(U))return!0;return!1}function n(B,H,L,U,V){for(var Y=0;Y<V;Y++)B[H+Y]=L[U+Y]}function a(B,H,L,U){for(var V=0;V<U;V++)B[H+V]=L}function s(B){return new Int32Array(B)}function l(B,H){for(var L=[],U=0;U<B;U++)L.push(new H);return L}function o(B,H){var L=[];return(function U(V,Y,de){for(var te=de[Y],ie=0;ie<te&&(V.push(de.length>Y+1?[]:new H),!(de.length<Y+1));ie++)U(V[ie],Y+1,de)})(L,0,B),L}var u=function(){var B=this;function H(_,A){for(var z=1<<A-1>>>0;_&z;)z>>>=1;return z?(_&z-1)+z:_}function L(_,A,z,W,J){t(!(W%z));do _[A+(W-=z)]=J;while(0<W)}function U(_,A,z,W,J){if(t(2328>=J),512>=J)var se=s(512);else if((se=s(J))==null)return 0;return(function(le,fe,pe,we,Te,qe){var be,Fe,Me=fe,rt=1<<pe,Ie=s(16),tt=s(16);for(t(Te!=0),t(we!=null),t(le!=null),t(0<pe),Fe=0;Fe<Te;++Fe){if(15<we[Fe])return 0;++Ie[we[Fe]]}if(Ie[0]==Te)return 0;for(tt[1]=0,be=1;15>be;++be){if(Ie[be]>1<<be)return 0;tt[be+1]=tt[be]+Ie[be]}for(Fe=0;Fe<Te;++Fe)be=we[Fe],0<we[Fe]&&(qe[tt[be]++]=Fe);if(tt[15]==1)return(we=new V).g=0,we.value=qe[0],L(le,Me,1,rt,we),rt;var it,gt=-1,dt=rt-1,qt=0,Ft=1,mr=1,Rt=1<<pe;for(Fe=0,be=1,Te=2;be<=pe;++be,Te<<=1){if(Ft+=mr<<=1,0>(mr-=Ie[be]))return 0;for(;0<Ie[be];--Ie[be])(we=new V).g=be,we.value=qe[Fe++],L(le,Me+qt,Te,Rt,we),qt=H(qt,be)}for(be=pe+1,Te=2;15>=be;++be,Te<<=1){if(Ft+=mr<<=1,0>(mr-=Ie[be]))return 0;for(;0<Ie[be];--Ie[be]){if(we=new V,(qt&dt)!=gt){for(Me+=Rt,it=1<<(gt=be)-pe;15>gt&&!(0>=(it-=Ie[gt]));)++gt,it<<=1;rt+=Rt=1<<(it=gt-pe),le[fe+(gt=qt&dt)].g=it+pe,le[fe+gt].value=Me-fe-gt}we.g=be-pe,we.value=qe[Fe++],L(le,Me+(qt>>pe),Te,Rt,we),qt=H(qt,be)}}return Ft!=2*tt[15]-1?0:rt})(_,A,z,W,J,se)}function V(){this.value=this.g=0}function Y(){this.value=this.g=0}function de(){this.G=l(5,V),this.H=s(5),this.jc=this.Qb=this.qb=this.nd=0,this.pd=l(Hc,Y)}function te(_,A,z,W){t(_!=null),t(A!=null),t(2147483648>W),_.Ca=254,_.I=0,_.b=-8,_.Ka=0,_.oa=A,_.pa=z,_.Jd=A,_.Yc=z+W,_.Zc=4<=W?z+W-4+1:z,Q(_)}function ie(_,A){for(var z=0;0<A--;)z|=ye(_,128)<<A;return z}function ge(_,A){var z=ie(_,A);return re(_)?-z:z}function oe(_,A,z,W){var J,se=0;for(t(_!=null),t(A!=null),t(4294967288>W),_.Sb=W,_.Ra=0,_.u=0,_.h=0,4<W&&(W=4),J=0;J<W;++J)se+=A[z+J]<<8*J;_.Ra=se,_.bb=W,_.oa=A,_.pa=z}function Se(_){for(;8<=_.u&&_.bb<_.Sb;)_.Ra>>>=8,_.Ra+=_.oa[_.pa+_.bb]<<xo-8>>>0,++_.bb,_.u-=8;K(_)&&(_.h=1,_.u=0)}function ne(_,A){if(t(0<=A),!_.h&&A<=ei){var z=q(_)&gi[A];return _.u+=A,Se(_),z}return _.h=1,_.u=0}function M(){this.b=this.Ca=this.I=0,this.oa=[],this.pa=0,this.Jd=[],this.Yc=0,this.Zc=[],this.Ka=0}function R(){this.Ra=0,this.oa=[],this.h=this.u=this.bb=this.Sb=this.pa=0}function q(_){return _.Ra>>>(_.u&xo-1)>>>0}function K(_){return t(_.bb<=_.Sb),_.h||_.bb==_.Sb&&_.u>xo}function ee(_,A){_.u=A,_.h=K(_)}function ce(_){_.u>=go&&(t(_.u>=go),Se(_))}function Q(_){t(_!=null&&_.oa!=null),_.pa<_.Zc?(_.I=(_.oa[_.pa++]|_.I<<8)>>>0,_.b+=8):(t(_!=null&&_.oa!=null),_.pa<_.Yc?(_.b+=8,_.I=_.oa[_.pa++]|_.I<<8):_.Ka?_.b=0:(_.I<<=8,_.b+=8,_.Ka=1))}function re(_){return ie(_,1)}function ye(_,A){var z=_.Ca;0>_.b&&Q(_);var W=_.b,J=z*A>>>8,se=(_.I>>>W>J)+0;for(se?(z-=J,_.I-=J+1<<W>>>0):z=J+1,W=z,J=0;256<=W;)J+=8,W>>=8;return W=7^J+ic[W],_.b-=W,_.Ca=(z<<W)-1,se}function Ee(_,A,z){_[A+0]=z>>24&255,_[A+1]=z>>16&255,_[A+2]=z>>8&255,_[A+3]=255&z}function X(_,A){return _[A+0]|_[A+1]<<8}function Je(_,A){return X(_,A)|_[A+2]<<16}function Ce(_,A){return X(_,A)|X(_,A+2)<<16}function xe(_,A){var z=1<<A;return t(_!=null),t(0<A),_.X=s(z),_.X==null?0:(_.Mb=32-A,_.Xa=A,1)}function xt(_,A){t(_!=null),t(A!=null),t(_.Xa==A.Xa),n(A.X,0,_.X,0,1<<A.Xa)}function et(){this.X=[],this.Xa=this.Mb=0}function Le(_,A,z,W){t(z!=null),t(W!=null);var J=z[0],se=W[0];return J==0&&(J=(_*se+A/2)/A),se==0&&(se=(A*J+_/2)/_),0>=J||0>=se?0:(z[0]=J,W[0]=se,1)}function Be(_,A){return _+(1<<A)-1>>>A}function ct(_,A){return((4278255360&_)+(4278255360&A)>>>0&4278255360)+((16711935&_)+(16711935&A)>>>0&16711935)>>>0}function lt(_,A){B[A]=function(z,W,J,se,le,fe,pe){var we;for(we=0;we<le;++we){var Te=B[_](fe[pe+we-1],J,se+we);fe[pe+we]=ct(z[W+we],Te)}}}function Ye(){this.ud=this.hd=this.jd=0}function ft(_,A){return((4278124286&(_^A))>>>1)+(_&A)>>>0}function Et(_){return 0<=_&&256>_?_:0>_?0:255<_?255:void 0}function zt(_,A){return Et(_+(_-A+.5>>1))}function Kt(_,A,z){return Math.abs(A-z)-Math.abs(_-z)}function Ar(_,A,z,W,J,se,le){for(W=se[le-1],z=0;z<J;++z)se[le+z]=W=ct(_[A+z],W)}function Mt(_,A,z,W,J){var se;for(se=0;se<z;++se){var le=_[A+se],fe=le>>8&255,pe=16711935&(pe=(pe=16711935&le)+((fe<<16)+fe));W[J+se]=(4278255360&le)+pe>>>0}}function Pt(_,A){A.jd=255&_,A.hd=_>>8&255,A.ud=_>>16&255}function wt(_,A,z,W,J,se){var le;for(le=0;le<W;++le){var fe=A[z+le],pe=fe>>>8,we=fe,Te=255&(Te=(Te=fe>>>16)+((_.jd<<24>>24)*(pe<<24>>24)>>>5));we=255&(we=(we+=(_.hd<<24>>24)*(pe<<24>>24)>>>5)+((_.ud<<24>>24)*(Te<<24>>24)>>>5)),J[se+le]=(4278255360&fe)+(Te<<16)+we}}function Ct(_,A,z,W,J){B[A]=function(se,le,fe,pe,we,Te,qe,be,Fe){for(pe=qe;pe<be;++pe)for(qe=0;qe<Fe;++qe)we[Te++]=J(fe[W(se[le++])])},B[_]=function(se,le,fe,pe,we,Te,qe){var be=8>>se.b,Fe=se.Ea,Me=se.K[0],rt=se.w;if(8>be)for(se=(1<<se.b)-1,rt=(1<<be)-1;le<fe;++le){var Ie,tt=0;for(Ie=0;Ie<Fe;++Ie)Ie&se||(tt=W(pe[we++])),Te[qe++]=J(Me[tt&rt]),tt>>=be}else B["VP8LMapColor"+z](pe,we,Me,rt,Te,qe,le,fe,Fe)}}function _r(_,A,z,W,J){for(z=A+z;A<z;){var se=_[A++];W[J++]=se>>16&255,W[J++]=se>>8&255,W[J++]=255&se}}function Zt(_,A,z,W,J){for(z=A+z;A<z;){var se=_[A++];W[J++]=se>>16&255,W[J++]=se>>8&255,W[J++]=255&se,W[J++]=se>>24&255}}function kt(_,A,z,W,J){for(z=A+z;A<z;){var se=(le=_[A++])>>16&240|le>>12&15,le=240&le|le>>28&15;W[J++]=se,W[J++]=le}}function tr(_,A,z,W,J){for(z=A+z;A<z;){var se=(le=_[A++])>>16&248|le>>13&7,le=le>>5&224|le>>3&31;W[J++]=se,W[J++]=le}}function br(_,A,z,W,J){for(z=A+z;A<z;){var se=_[A++];W[J++]=255&se,W[J++]=se>>8&255,W[J++]=se>>16&255}}function sr(_,A,z,W,J,se){if(se==0)for(z=A+z;A<z;)Ee(W,((se=_[A++])[0]>>24|se[1]>>8&65280|se[2]<<8&16711680|se[3]<<24)>>>0),J+=32;else n(W,J,_,A,z)}function kr(_,A){B[A][0]=B[_+"0"],B[A][1]=B[_+"1"],B[A][2]=B[_+"2"],B[A][3]=B[_+"3"],B[A][4]=B[_+"4"],B[A][5]=B[_+"5"],B[A][6]=B[_+"6"],B[A][7]=B[_+"7"],B[A][8]=B[_+"8"],B[A][9]=B[_+"9"],B[A][10]=B[_+"10"],B[A][11]=B[_+"11"],B[A][12]=B[_+"12"],B[A][13]=B[_+"13"],B[A][14]=B[_+"0"],B[A][15]=B[_+"0"]}function fr(_){return _==p0||_==zh||_==Wd||_==qh}function gn(){this.eb=[],this.size=this.A=this.fb=0}function Hn(){this.y=[],this.f=[],this.ea=[],this.F=[],this.Tc=this.Ed=this.Cd=this.Fd=this.lb=this.Db=this.Ab=this.fa=this.J=this.W=this.N=this.O=0}function Wr(){this.Rd=this.height=this.width=this.S=0,this.f={},this.f.RGBA=new gn,this.f.kb=new Hn,this.sd=null}function Yt(){this.width=[0],this.height=[0],this.Pd=[0],this.Qd=[0],this.format=[0]}function Lr(){this.Id=this.fd=this.Md=this.hb=this.ib=this.da=this.bd=this.cd=this.j=this.v=this.Da=this.Sd=this.ob=0}function Ii(_){return alert("todo:WebPSamplerProcessPlane"),_.T}function ts(_,A){var z=_.T,W=A.ba.f.RGBA,J=W.eb,se=W.fb+_.ka*W.A,le=ws[A.ba.S],fe=_.y,pe=_.O,we=_.f,Te=_.N,qe=_.ea,be=_.W,Fe=A.cc,Me=A.dc,rt=A.Mc,Ie=A.Nc,tt=_.ka,it=_.ka+_.T,gt=_.U,dt=gt+1>>1;for(tt==0?le(fe,pe,null,null,we,Te,qe,be,we,Te,qe,be,J,se,null,null,gt):(le(A.ec,A.fc,fe,pe,Fe,Me,rt,Ie,we,Te,qe,be,J,se-W.A,J,se,gt),++z);tt+2<it;tt+=2)Fe=we,Me=Te,rt=qe,Ie=be,Te+=_.Rc,be+=_.Rc,se+=2*W.A,le(fe,(pe+=2*_.fa)-_.fa,fe,pe,Fe,Me,rt,Ie,we,Te,qe,be,J,se-W.A,J,se,gt);return pe+=_.fa,_.j+it<_.o?(n(A.ec,A.fc,fe,pe,gt),n(A.cc,A.dc,we,Te,dt),n(A.Mc,A.Nc,qe,be,dt),z--):1&it||le(fe,pe,null,null,we,Te,qe,be,we,Te,qe,be,J,se+W.A,null,null,gt),z}function sl(_,A,z){var W=_.F,J=[_.J];if(W!=null){var se=_.U,le=A.ba.S,fe=le==m0||le==Wd;A=A.ba.f.RGBA;var pe=[0],we=_.ka;pe[0]=_.T,_.Kb&&(we==0?--pe[0]:(--we,J[0]-=_.width),_.j+_.ka+_.T==_.o&&(pe[0]=_.o-_.j-we));var Te=A.eb;we=A.fb+we*A.A,_=u0(W,J[0],_.width,se,pe,Te,we+(fe?0:3),A.A),t(z==pe),_&&fr(le)&&Fu(Te,we,fe,se,pe,A.A)}return 0}function pi(_){var A=_.ma,z=A.ba.S,W=11>z,J=z==Is||z==dl||z==m0||z==Vd||z==12||fr(z);if(A.memory=null,A.Ib=null,A.Jb=null,A.Nd=null,!sc(A.Oa,_,J?11:12))return 0;if(J&&fr(z)&&Lh(),_.da)alert("todo:use_scaling");else{if(W){if(A.Ib=Ii,_.Kb){if(z=_.U+1>>1,A.memory=s(_.U+2*z),A.memory==null)return 0;A.ec=A.memory,A.fc=0,A.cc=A.ec,A.dc=A.fc+_.U,A.Mc=A.cc,A.Nc=A.dc+z,A.Ib=ts,Lh()}}else alert("todo:EmitYUV");J&&(A.Jb=sl,W&&ol())}if(W&&!Qc){for(_=0;256>_;++_)Ns[_]=89858*(_-128)+Yd>>gl,hb[_]=-22014*(_-128)+Yd,u1[_]=-45773*(_-128),Kh[_]=113618*(_-128)+Yd>>gl;for(_=Mu;_<Xc;++_)A=76283*(_-16)+Yd>>gl,mb[_-Mu]=ia(A,255),pb[_-Mu]=ia(A+8>>4,15);Qc=1}return 1}function Xt(_){var A=_.ma,z=_.U,W=_.T;return t(!(1&_.ka)),0>=z||0>=W?0:(z=A.Ib(_,A),A.Jb!=null&&A.Jb(_,A,z),A.Dc+=z,1)}function Fl(_){_.ma.memory=null}function il(_,A,z,W){return ne(_,8)!=47?0:(A[0]=ne(_,14)+1,z[0]=ne(_,14)+1,W[0]=ne(_,1),ne(_,3)!=0?0:!_.h)}function ms(_,A){if(4>_)return _+1;var z=_-2>>1;return(2+(1&_)<<z)+ne(A,z)+1}function Xs(_,A){return 120<A?A-120:1<=(z=((z=hl[A-1])>>4)*_+(8-(15&z)))?z:1;var z}function Cn(_,A,z){var W=q(z),J=_[A+=255&W].g-8;return 0<J&&(ee(z,z.u+8),W=q(z),A+=_[A].value,A+=W&(1<<J)-1),ee(z,z.u+_[A].g),_[A].value}function sa(_,A,z){return z.g+=_.g,z.value+=_.value<<A>>>0,t(8>=z.g),_.g}function ae(_,A,z){var W=_.xc;return t((A=W==0?0:_.vc[_.md*(z>>W)+(A>>W)])<_.Wb),_.Ya[A]}function Ne(_,A,z,W){var J=_.ab,se=_.c*A,le=_.C;A=le+A;var fe=z,pe=W;for(W=_.Ta,z=_.Ua;0<J--;){var we=_.gc[J],Te=le,qe=A,be=fe,Fe=pe,Me=(pe=W,fe=z,we.Ea);switch(t(Te<qe),t(qe<=we.nc),we.hc){case 2:ba(be,Fe,(qe-Te)*Me,pe,fe);break;case 0:var rt=Te,Ie=qe,tt=pe,it=fe,gt=(Rt=we).Ea;rt==0&&(zd(be,Fe,null,null,1,tt,it),Ar(be,Fe+1,0,0,gt-1,tt,it+1),Fe+=gt,it+=gt,++rt);for(var dt=1<<Rt.b,qt=dt-1,Ft=Be(gt,Rt.b),mr=Rt.K,Rt=Rt.w+(rt>>Rt.b)*Ft;rt<Ie;){var Fr=mr,Bn=Rt,gr=1;for(qd(be,Fe,tt,it-gt,1,tt,it);gr<gt;){var Dt=(gr&~qt)+dt;Dt>gt&&(Dt=gt),(0,lc[Fr[Bn++]>>8&15])(be,Fe+ +gr,tt,it+gr-gt,Dt-gr,tt,it+gr),gr=Dt}Fe+=gt,it+=gt,++rt&qt||(Rt+=Ft)}qe!=we.nc&&n(pe,fe-Me,pe,fe+(qe-Te-1)*Me,Me);break;case 1:for(Me=be,Ie=Fe,gt=(be=we.Ea)-(it=be&~(tt=(Fe=1<<we.b)-1)),rt=Be(be,we.b),dt=we.K,we=we.w+(Te>>we.b)*rt;Te<qe;){for(qt=dt,Ft=we,mr=new Ye,Rt=Ie+it,Fr=Ie+be;Ie<Rt;)Pt(qt[Ft++],mr),$d(mr,Me,Ie,Fe,pe,fe),Ie+=Fe,fe+=Fe;Ie<Fr&&(Pt(qt[Ft++],mr),$d(mr,Me,Ie,gt,pe,fe),Ie+=gt,fe+=gt),++Te&tt||(we+=rt)}break;case 3:if(be==pe&&Fe==fe&&0<we.b){for(Ie=pe,be=Me=fe+(qe-Te)*Me-(it=(qe-Te)*Be(we.Ea,we.b)),Fe=pe,tt=fe,rt=[],it=(gt=it)-1;0<=it;--it)rt[it]=Fe[tt+it];for(it=gt-1;0<=it;--it)Ie[be+it]=rt[it];Mh(we,Te,qe,pe,Me,pe,fe)}else Mh(we,Te,qe,be,Fe,pe,fe)}fe=W,pe=z}pe!=z&&n(W,z,fe,pe,se)}function he(_,A){var z=_.V,W=_.Ba+_.c*_.C,J=A-_.C;if(t(A<=_.l.o),t(16>=J),0<J){var se=_.l,le=_.Ta,fe=_.Ua,pe=se.width;if(Ne(_,J,z,W),J=fe=[fe],t((z=_.C)<(W=A)),t(se.v<se.va),W>se.o&&(W=se.o),z<se.j){var we=se.j-z;z=se.j,J[0]+=we*pe}if(z>=W?z=0:(J[0]+=4*se.v,se.ka=z-se.j,se.U=se.va-se.v,se.T=W-z,z=1),z){if(fe=fe[0],11>(z=_.ca).S){var Te=z.f.RGBA,qe=(W=z.S,J=se.U,se=se.T,we=Te.eb,Te.A),be=se;for(Te=Te.fb+_.Ma*Te.A;0<be--;){var Fe=le,Me=fe,rt=J,Ie=we,tt=Te;switch(W){case Bh:Hd(Fe,Me,rt,Ie,tt);break;case Is:oc(Fe,Me,rt,Ie,tt);break;case p0:oc(Fe,Me,rt,Ie,tt),Fu(Ie,tt,0,rt,1,0);break;case Uh:Tu(Fe,Me,rt,Ie,tt);break;case dl:sr(Fe,Me,rt,Ie,tt,1);break;case zh:sr(Fe,Me,rt,Ie,tt,1),Fu(Ie,tt,0,rt,1,0);break;case m0:sr(Fe,Me,rt,Ie,tt,0);break;case Wd:sr(Fe,Me,rt,Ie,tt,0),Fu(Ie,tt,1,rt,1,0);break;case Vd:cc(Fe,Me,rt,Ie,tt);break;case qh:cc(Fe,Me,rt,Ie,tt),ul(Ie,tt,rt,1,0);break;case Vc:bo(Fe,Me,rt,Ie,tt);break;default:t(0)}fe+=pe,Te+=qe}_.Ma+=se}else alert("todo:EmitRescaledRowsYUVA");t(_.Ma<=z.height)}}_.C=A,t(_.C<=_.i)}function me(_){var A;if(0<_.ua)return 0;for(A=0;A<_.Wb;++A){var z=_.Ya[A].G,W=_.Ya[A].H;if(0<z[1][W[1]+0].g||0<z[2][W[2]+0].g||0<z[3][W[3]+0].g)return 0}return 1}function ve(_,A,z,W,J,se){if(_.Z!=0){var le=_.qd,fe=_.rd;for(t(fc[_.Z]!=null);A<z;++A)fc[_.Z](le,fe,W,J,W,J,se),le=W,fe=J,J+=se;_.qd=le,_.rd=fe}}function je(_,A){var z=_.l.ma,W=z.Z==0||z.Z==1?_.l.j:_.C;if(W=_.C<W?W:_.C,t(A<=_.l.o),A>W){var J=_.l.width,se=z.ca,le=z.tb+J*W,fe=_.V,pe=_.Ba+_.c*W,we=_.gc;t(_.ab==1),t(we[0].hc==3),yo(we[0],W,A,fe,pe,se,le),ve(z,W,A,se,le,J)}_.C=_.Ma=A}function Re(_,A,z,W,J,se,le){var fe=_.$/W,pe=_.$%W,we=_.m,Te=_.s,qe=z+_.$,be=qe;J=z+W*J;var Fe=z+W*se,Me=280+Te.ua,rt=_.Pb?fe:16777216,Ie=0<Te.ua?Te.Wa:null,tt=Te.wc,it=qe<Fe?ae(Te,pe,fe):null;t(_.C<se),t(Fe<=J);var gt=!1;e:for(;;){for(;gt||qe<Fe;){var dt=0;if(fe>=rt){var qt=qe-z;t((rt=_).Pb),rt.wd=rt.m,rt.xd=qt,0<rt.s.ua&&xt(rt.s.Wa,rt.s.vb),rt=fe+Wc}if(pe&tt||(it=ae(Te,pe,fe)),t(it!=null),it.Qb&&(A[qe]=it.qb,gt=!0),!gt)if(ce(we),it.jc){dt=we,qt=A;var Ft=qe,mr=it.pd[q(dt)&Hc-1];t(it.jc),256>mr.g?(ee(dt,dt.u+mr.g),qt[Ft]=mr.value,dt=0):(ee(dt,dt.u+mr.g-256),t(256<=mr.value),dt=mr.value),dt==0&&(gt=!0)}else dt=Cn(it.G[0],it.H[0],we);if(we.h)break;if(gt||256>dt){if(!gt)if(it.nd)A[qe]=(it.qb|dt<<8)>>>0;else{if(ce(we),gt=Cn(it.G[1],it.H[1],we),ce(we),qt=Cn(it.G[2],it.H[2],we),Ft=Cn(it.G[3],it.H[3],we),we.h)break;A[qe]=(Ft<<24|gt<<16|dt<<8|qt)>>>0}if(gt=!1,++qe,++pe>=W&&(pe=0,++fe,le!=null&&fe<=se&&!(fe%16)&&le(_,fe),Ie!=null))for(;be<qe;)dt=A[be++],Ie.X[(506832829*dt&4294967295)>>>Ie.Mb]=dt}else if(280>dt){if(dt=ms(dt-256,we),qt=Cn(it.G[4],it.H[4],we),ce(we),qt=Xs(W,qt=ms(qt,we)),we.h)break;if(qe-z<qt||J-qe<dt)break e;for(Ft=0;Ft<dt;++Ft)A[qe+Ft]=A[qe+Ft-qt];for(qe+=dt,pe+=dt;pe>=W;)pe-=W,++fe,le!=null&&fe<=se&&!(fe%16)&&le(_,fe);if(t(qe<=J),pe&tt&&(it=ae(Te,pe,fe)),Ie!=null)for(;be<qe;)dt=A[be++],Ie.X[(506832829*dt&4294967295)>>>Ie.Mb]=dt}else{if(!(dt<Me))break e;for(gt=dt-280,t(Ie!=null);be<qe;)dt=A[be++],Ie.X[(506832829*dt&4294967295)>>>Ie.Mb]=dt;dt=qe,t(!(gt>>>(qt=Ie).Xa)),A[dt]=qt.X[gt],gt=!0}gt||t(we.h==K(we))}if(_.Pb&&we.h&&qe<J)t(_.m.h),_.a=5,_.m=_.wd,_.$=_.xd,0<_.s.ua&&xt(_.s.vb,_.s.Wa);else{if(we.h)break e;le?.(_,fe>se?se:fe),_.a=0,_.$=qe-z}return 1}return _.a=3,0}function Ze(_){t(_!=null),_.vc=null,_.yc=null,_.Ya=null;var A=_.Wa;A!=null&&(A.X=null),_.vb=null,t(_!=null)}function Ue(){var _=new Vt;return _==null?null:(_.a=0,_.xb=Fp,kr("Predictor","VP8LPredictors"),kr("Predictor","VP8LPredictors_C"),kr("PredictorAdd","VP8LPredictorsAdd"),kr("PredictorAdd","VP8LPredictorsAdd_C"),ba=Mt,$d=wt,Hd=_r,oc=Zt,cc=kt,bo=tr,Tu=br,B.VP8LMapColor32b=vo,B.VP8LMapColor8b=vs,_)}function ze(_,A,z,W,J){var se=1,le=[_],fe=[A],pe=W.m,we=W.s,Te=null,qe=0;e:for(;;){if(z)for(;se&&ne(pe,1);){var be=le,Fe=fe,Me=W,rt=1,Ie=Me.m,tt=Me.gc[Me.ab],it=ne(Ie,2);if(Me.Oc&1<<it)se=0;else{switch(Me.Oc|=1<<it,tt.hc=it,tt.Ea=be[0],tt.nc=Fe[0],tt.K=[null],++Me.ab,t(4>=Me.ab),it){case 0:case 1:tt.b=ne(Ie,3)+2,rt=ze(Be(tt.Ea,tt.b),Be(tt.nc,tt.b),0,Me,tt.K),tt.K=tt.K[0];break;case 3:var gt,dt=ne(Ie,8)+1,qt=16<dt?0:4<dt?1:2<dt?2:3;if(be[0]=Be(tt.Ea,qt),tt.b=qt,gt=rt=ze(dt,1,0,Me,tt.K)){var Ft,mr=dt,Rt=tt,Fr=1<<(8>>Rt.b),Bn=s(Fr);if(Bn==null)gt=0;else{var gr=Rt.K[0],Dt=Rt.w;for(Bn[0]=Rt.K[0][0],Ft=1;Ft<1*mr;++Ft)Bn[Ft]=ct(gr[Dt+Ft],Bn[Ft-1]);for(;Ft<4*Fr;++Ft)Bn[Ft]=0;Rt.K[0]=null,Rt.K[0]=Bn,gt=1}}rt=gt;break;case 2:break;default:t(0)}se=rt}}if(le=le[0],fe=fe[0],se&&ne(pe,1)&&!(se=1<=(qe=ne(pe,4))&&11>=qe)){W.a=3;break e}var St;if(St=se)t:{var Yn,lr,wr,dn=W,Ha=le,_s=fe,Fn=qe,Ca=z,Bs=dn.m,Ta=dn.s,Er=[null],Kr=1,Xn=0,tn=ml[Fn];r:for(;;){if(Ca&&ne(Bs,1)){var Va=ne(Bs,3)+2,Qn=Be(Ha,Va),Gr=Be(_s,Va),_a=Qn*Gr;if(!ze(Qn,Gr,0,dn,Er))break r;for(Er=Er[0],Ta.xc=Va,Yn=0;Yn<_a;++Yn){var fn=Er[Yn]>>8&65535;Er[Yn]=fn,fn>=Kr&&(Kr=fn+1)}}if(Bs.h)break r;for(lr=0;5>lr;++lr){var Oa=Pu[lr];!lr&&0<Fn&&(Oa+=1<<Fn),Xn<Oa&&(Xn=Oa)}var Fa=l(Kr*tn,V),vn=Kr,Vr=l(vn,de);if(Vr==null)var Us=null;else t(65536>=vn),Us=Vr;var oa=s(Xn);if(Us==null||oa==null||Fa==null){dn.a=1;break r}var er=Fa;for(Yn=wr=0;Yn<Kr;++Yn){var rr=Us[Yn],Yr=rr.G,vi=rr.H,vl=0,ri=1,Da=0;for(lr=0;5>lr;++lr){Oa=Pu[lr],Yr[lr]=er,vi[lr]=wr,!lr&&0<Fn&&(Oa+=1<<Fn);a:{var Zc,Jc=Oa,Yh=dn,Dn=oa,Pp=er,Lp=wr,Xh=0,hc=Yh.m,xb=ne(hc,1);if(a(Dn,0,0,Jc),xb){var Mp=ne(hc,1)+1,Rp=ne(hc,1),Qh=ne(hc,Rp==0?1:8);Dn[Qh]=1,Mp==2&&(Dn[Qh=ne(hc,8)]=1);var ns=1}else{var ca=s(19),y0=ne(hc,4)+4;if(19<y0){Yh.a=3;var eu=0;break a}for(Zc=0;Zc<y0;++Zc)ca[x0[Zc]]=ne(hc,3);var Qd=void 0,Ru=void 0,_o=Yh,Zh=ca,Zd=Jc,Jh=Dn,em=0,mc=_o.m,Ip=8,Bp=l(128,V);n:for(;U(Bp,0,7,Zh,19);){if(ne(mc,1)){var d1=2+2*ne(mc,3);if((Qd=2+ne(mc,d1))>Zd)break n}else Qd=Zd;for(Ru=0;Ru<Zd&&Qd--;){ce(mc);var Up=Bp[0+(127&q(mc))];ee(mc,mc.u+Up.g);var tu=Up.value;if(16>tu)Jh[Ru++]=tu,tu!=0&&(Ip=tu);else{var f1=tu==16,h1=tu-16,m1=Kd[h1],zp=ne(mc,fl[h1])+m1;if(Ru+zp>Zd)break n;for(var p1=f1?Ip:0;0<zp--;)Jh[Ru++]=p1}}em=1;break n}em||(_o.a=3),ns=em}(ns=ns&&!hc.h)&&(Xh=U(Pp,Lp,8,Dn,Jc)),ns&&Xh!=0?eu=Xh:(Yh.a=3,eu=0)}if(eu==0)break r;if(ri&&$h[lr]==1&&(ri=er[wr].g==0),vl+=er[wr].g,wr+=eu,3>=lr){var Iu,tm=oa[0];for(Iu=1;Iu<Oa;++Iu)oa[Iu]>tm&&(tm=oa[Iu]);Da+=tm}}if(rr.nd=ri,rr.Qb=0,ri&&(rr.qb=(Yr[3][vi[3]+0].value<<24|Yr[1][vi[1]+0].value<<16|Yr[2][vi[2]+0].value)>>>0,vl==0&&256>Yr[0][vi[0]+0].value&&(rr.Qb=1,rr.qb+=Yr[0][vi[0]+0].value<<8)),rr.jc=!rr.Qb&&6>Da,rr.jc){var b0,jo=rr;for(b0=0;b0<Hc;++b0){var pc=b0,xc=jo.pd[pc],rm=jo.G[0][jo.H[0]+pc];256<=rm.value?(xc.g=rm.g+256,xc.value=rm.value):(xc.g=0,xc.value=0,pc>>=sa(rm,8,xc),pc>>=sa(jo.G[1][jo.H[1]+pc],16,xc),pc>>=sa(jo.G[2][jo.H[2]+pc],0,xc),sa(jo.G[3][jo.H[3]+pc],24,xc))}}}Ta.vc=Er,Ta.Wb=Kr,Ta.Ya=Us,Ta.yc=Fa,St=1;break t}St=0}if(!(se=St)){W.a=3;break e}if(0<qe){if(we.ua=1<<qe,!xe(we.Wa,qe)){W.a=1,se=0;break e}}else we.ua=0;var nm=W,Bu=le,x1=fe,Jd=nm.s,ef=Jd.xc;if(nm.c=Bu,nm.i=x1,Jd.md=Be(Bu,ef),Jd.wc=ef==0?-1:(1<<ef)-1,z){W.xb=Kc;break e}if((Te=s(le*fe))==null){W.a=1,se=0;break e}se=(se=Re(W,Te,0,le,fe,fe,null))&&!pe.h;break e}return se?(J!=null?J[0]=Te:(t(Te==null),t(z)),W.$=0,z||Ze(we)):Ze(we),se}function He(_,A){var z=_.c*_.i,W=z+A+16*A;return t(_.c<=A),_.V=s(W),_.V==null?(_.Ta=null,_.Ua=0,_.a=1,0):(_.Ta=_.V,_.Ua=_.Ba+z+A,1)}function pt(_,A){var z=_.C,W=A-z,J=_.V,se=_.Ba+_.c*z;for(t(A<=_.l.o);0<W;){var le=16<W?16:W,fe=_.l.ma,pe=_.l.width,we=pe*le,Te=fe.ca,qe=fe.tb+pe*z,be=_.Ta,Fe=_.Ua;Ne(_,le,J,se),Wi(be,Fe,Te,qe,we),ve(fe,z,z+le,Te,qe,pe),W-=le,J+=le*_.c,z+=le}t(z==A),_.C=_.Ma=A}function bt(){this.ub=this.yd=this.td=this.Rb=0}function At(){this.Kd=this.Ld=this.Ud=this.Td=this.i=this.c=0}function vt(){this.Fb=this.Bb=this.Cb=0,this.Zb=s(4),this.Lb=s(4)}function _t(){this.Yb=(function(){var _=[];return(function A(z,W,J){for(var se=J[W],le=0;le<se&&(z.push(J.length>W+1?[]:0),!(J.length<W+1));le++)A(z[le],W+1,J)})(_,0,[3,11]),_})()}function Lt(){this.jb=s(3),this.Wc=o([4,8],_t),this.Xc=o([4,17],_t)}function un(){this.Pc=this.wb=this.Tb=this.zd=0,this.vd=new s(4),this.od=new s(4)}function Tr(){this.ld=this.La=this.dd=this.tc=0}function mn(){this.Na=this.la=0}function Qs(){this.Sc=[0,0],this.Eb=[0,0],this.Qc=[0,0],this.ia=this.lc=0}function Dl(){this.ad=s(384),this.Za=0,this.Ob=s(16),this.$b=this.Ad=this.ia=this.Gc=this.Hc=this.Dd=0}function Pl(){this.uc=this.M=this.Nb=0,this.wa=Array(new Tr),this.Y=0,this.ya=Array(new Dl),this.aa=0,this.l=new qa}function Bi(){this.y=s(16),this.f=s(8),this.ea=s(8)}function Ic(){this.cb=this.a=0,this.sc="",this.m=new M,this.Od=new bt,this.Kc=new At,this.ed=new un,this.Qa=new vt,this.Ic=this.$c=this.Aa=0,this.D=new Pl,this.Xb=this.Va=this.Hb=this.zb=this.yb=this.Ub=this.za=0,this.Jc=l(8,M),this.ia=0,this.pb=l(4,Qs),this.Pa=new Lt,this.Bd=this.kc=0,this.Ac=[],this.Bc=0,this.zc=[0,0,0,0],this.Gd=Array(new Bi),this.Hd=0,this.rb=Array(new mn),this.sb=0,this.wa=Array(new Tr),this.Y=0,this.oc=[],this.pc=0,this.sa=[],this.ta=0,this.qa=[],this.ra=0,this.Ha=[],this.B=this.R=this.Ia=0,this.Ec=[],this.M=this.ja=this.Vb=this.Fc=0,this.ya=Array(new Dl),this.L=this.aa=0,this.gd=o([4,2],Tr),this.ga=null,this.Fa=[],this.Cc=this.qc=this.P=0,this.Gb=[],this.Uc=0,this.mb=[],this.nb=0,this.rc=[],this.Ga=this.Vc=0}function qa(){this.T=this.U=this.ka=this.height=this.width=0,this.y=[],this.f=[],this.ea=[],this.Rc=this.fa=this.W=this.N=this.O=0,this.ma="void",this.put="VP8IoPutHook",this.ac="VP8IoSetupHook",this.bc="VP8IoTeardownHook",this.ha=this.Kb=0,this.data=[],this.hb=this.ib=this.da=this.o=this.j=this.va=this.v=this.Da=this.ob=this.w=0,this.F=[],this.J=0}function Pd(){var _=new Ic;return _!=null&&(_.a=0,_.sc="OK",_.cb=0,_.Xb=0,Ki||(Ki=Xo)),_}function pn(_,A,z){return _.a==0&&(_.a=A,_.sc=z,_.cb=0),0}function Zs(_,A,z){return 3<=z&&_[A+0]==157&&_[A+1]==1&&_[A+2]==42}function Qf(_,A){if(_==null)return 0;if(_.a=0,_.sc="OK",A==null)return pn(_,2,"null VP8Io passed to VP8GetHeaders()");var z=A.data,W=A.w,J=A.ha;if(4>J)return pn(_,7,"Truncated header.");var se=z[W+0]|z[W+1]<<8|z[W+2]<<16,le=_.Od;if(le.Rb=!(1&se),le.td=se>>1&7,le.yd=se>>4&1,le.ub=se>>5,3<le.td)return pn(_,3,"Incorrect keyframe parameters.");if(!le.yd)return pn(_,4,"Frame not displayable.");W+=3,J-=3;var fe=_.Kc;if(le.Rb){if(7>J)return pn(_,7,"cannot parse picture header");if(!Zs(z,W,J))return pn(_,3,"Bad code word");fe.c=16383&(z[W+4]<<8|z[W+3]),fe.Td=z[W+4]>>6,fe.i=16383&(z[W+6]<<8|z[W+5]),fe.Ud=z[W+6]>>6,W+=7,J-=7,_.za=fe.c+15>>4,_.Ub=fe.i+15>>4,A.width=fe.c,A.height=fe.i,A.Da=0,A.j=0,A.v=0,A.va=A.width,A.o=A.height,A.da=0,A.ib=A.width,A.hb=A.height,A.U=A.width,A.T=A.height,a((se=_.Pa).jb,0,255,se.jb.length),t((se=_.Qa)!=null),se.Cb=0,se.Bb=0,se.Fb=1,a(se.Zb,0,0,se.Zb.length),a(se.Lb,0,0,se.Lb)}if(le.ub>J)return pn(_,7,"bad partition length");te(se=_.m,z,W,le.ub),W+=le.ub,J-=le.ub,le.Rb&&(fe.Ld=re(se),fe.Kd=re(se)),fe=_.Qa;var pe,we=_.Pa;if(t(se!=null),t(fe!=null),fe.Cb=re(se),fe.Cb){if(fe.Bb=re(se),re(se)){for(fe.Fb=re(se),pe=0;4>pe;++pe)fe.Zb[pe]=re(se)?ge(se,7):0;for(pe=0;4>pe;++pe)fe.Lb[pe]=re(se)?ge(se,6):0}if(fe.Bb)for(pe=0;3>pe;++pe)we.jb[pe]=re(se)?ie(se,8):255}else fe.Bb=0;if(se.Ka)return pn(_,3,"cannot parse segment header");if((fe=_.ed).zd=re(se),fe.Tb=ie(se,6),fe.wb=ie(se,3),fe.Pc=re(se),fe.Pc&&re(se)){for(we=0;4>we;++we)re(se)&&(fe.vd[we]=ge(se,6));for(we=0;4>we;++we)re(se)&&(fe.od[we]=ge(se,6))}if(_.L=fe.Tb==0?0:fe.zd?1:2,se.Ka)return pn(_,3,"cannot parse filter header");var Te=J;if(J=pe=W,W=pe+Te,fe=Te,_.Xb=(1<<ie(_.m,2))-1,Te<3*(we=_.Xb))z=7;else{for(pe+=3*we,fe-=3*we,Te=0;Te<we;++Te){var qe=z[J+0]|z[J+1]<<8|z[J+2]<<16;qe>fe&&(qe=fe),te(_.Jc[+Te],z,pe,qe),pe+=qe,fe-=qe,J+=3}te(_.Jc[+we],z,pe,fe),z=pe<W?0:5}if(z!=0)return pn(_,z,"cannot parse partitions");for(z=ie(pe=_.m,7),J=re(pe)?ge(pe,4):0,W=re(pe)?ge(pe,4):0,fe=re(pe)?ge(pe,4):0,we=re(pe)?ge(pe,4):0,pe=re(pe)?ge(pe,4):0,Te=_.Qa,qe=0;4>qe;++qe){if(Te.Cb){var be=Te.Zb[qe];Te.Fb||(be+=z)}else{if(0<qe){_.pb[qe]=_.pb[0];continue}be=z}var Fe=_.pb[qe];Fe.Sc[0]=pl[ia(be+J,127)],Fe.Sc[1]=xl[ia(be+0,127)],Fe.Eb[0]=2*pl[ia(be+W,127)],Fe.Eb[1]=101581*xl[ia(be+fe,127)]>>16,8>Fe.Eb[1]&&(Fe.Eb[1]=8),Fe.Qc[0]=pl[ia(be+we,117)],Fe.Qc[1]=xl[ia(be+pe,127)],Fe.lc=be+pe}if(!le.Rb)return pn(_,4,"Not a key frame.");for(re(se),le=_.Pa,z=0;4>z;++z){for(J=0;8>J;++J)for(W=0;3>W;++W)for(fe=0;11>fe;++fe)we=ye(se,In[z][J][W][fe])?ie(se,8):c1[z][J][W][fe],le.Wc[z][J].Yb[W][fe]=we;for(J=0;17>J;++J)le.Xc[z][J]=le.Wc[z][Mr[J]]}return _.kc=re(se),_.kc&&(_.Bd=ie(se,8)),_.cb=1}function Xo(_,A,z,W,J,se,le){var fe=A[J].Yb[z];for(z=0;16>J;++J){if(!ye(_,fe[z+0]))return J;for(;!ye(_,fe[z+1]);)if(fe=A[++J].Yb[0],z=0,J==16)return 16;var pe=A[J+1].Yb;if(ye(_,fe[z+2])){var we=_,Te=0;if(ye(we,(be=fe)[(qe=z)+3]))if(ye(we,be[qe+6])){for(fe=0,qe=2*(Te=ye(we,be[qe+8]))+(be=ye(we,be[qe+9+Te])),Te=0,be=o1[qe];be[fe];++fe)Te+=Te+ye(we,be[fe]);Te+=3+(8<<qe)}else ye(we,be[qe+7])?(Te=7+2*ye(we,165),Te+=ye(we,145)):Te=5+ye(we,159);else Te=ye(we,be[qe+4])?3+ye(we,be[qe+5]):2;fe=pe[2]}else Te=1,fe=pe[1];pe=le+Op[J],0>(we=_).b&&Q(we);var qe,be=we.b,Fe=(qe=we.Ca>>1)-(we.I>>be)>>31;--we.b,we.Ca+=Fe,we.Ca|=1,we.I-=(qe+1&Fe)<<be,se[pe]=((Te^Fe)-Fe)*W[(0<J)+0]}return 16}function Qo(_){var A=_.rb[_.sb-1];A.la=0,A.Na=0,a(_.zc,0,0,_.zc.length),_.ja=0}function ll(_,A,z,W,J){J=_[A+z+32*W]+(J>>3),_[A+z+32*W]=-256&J?0>J?0:255:J}function co(_,A,z,W,J,se){ll(_,A,0,z,W+J),ll(_,A,1,z,W+se),ll(_,A,2,z,W-se),ll(_,A,3,z,W-J)}function va(_){return(20091*_>>16)+_}function Ls(_,A,z,W){var J,se=0,le=s(16);for(J=0;4>J;++J){var fe=_[A+0]+_[A+8],pe=_[A+0]-_[A+8],we=(35468*_[A+4]>>16)-va(_[A+12]),Te=va(_[A+4])+(35468*_[A+12]>>16);le[se+0]=fe+Te,le[se+1]=pe+we,le[se+2]=pe-we,le[se+3]=fe-Te,se+=4,A++}for(J=se=0;4>J;++J)fe=(_=le[se+0]+4)+le[se+8],pe=_-le[se+8],we=(35468*le[se+4]>>16)-va(le[se+12]),ll(z,W,0,0,fe+(Te=va(le[se+4])+(35468*le[se+12]>>16))),ll(z,W,1,0,pe+we),ll(z,W,2,0,pe-we),ll(z,W,3,0,fe-Te),se++,W+=32}function Zf(_,A,z,W){var J=_[A+0]+4,se=35468*_[A+4]>>16,le=va(_[A+4]),fe=35468*_[A+1]>>16;co(z,W,0,J+le,_=va(_[A+1]),fe),co(z,W,1,J+se,_,fe),co(z,W,2,J-se,_,fe),co(z,W,3,J-le,_,fe)}function kh(_,A,z,W,J){Ls(_,A,z,W),J&&Ls(_,A+16,z,W+4)}function Jf(_,A,z,W){uc(_,A+0,z,W,1),uc(_,A+32,z,W+128,1)}function Js(_,A,z,W){var J;for(_=_[A+0]+4,J=0;4>J;++J)for(A=0;4>A;++A)ll(z,W,A,J,_)}function e0(_,A,z,W){_[A+0]&&en(_,A+0,z,W),_[A+16]&&en(_,A+16,z,W+4),_[A+32]&&en(_,A+32,z,W+128),_[A+48]&&en(_,A+48,z,W+128+4)}function t0(_,A,z,W){var J,se=s(16);for(J=0;4>J;++J){var le=_[A+0+J]+_[A+12+J],fe=_[A+4+J]+_[A+8+J],pe=_[A+4+J]-_[A+8+J],we=_[A+0+J]-_[A+12+J];se[0+J]=le+fe,se[8+J]=le-fe,se[4+J]=we+pe,se[12+J]=we-pe}for(J=0;4>J;++J)le=(_=se[0+4*J]+3)+se[3+4*J],fe=se[1+4*J]+se[2+4*J],pe=se[1+4*J]-se[2+4*J],we=_-se[3+4*J],z[W+0]=le+fe>>3,z[W+16]=we+pe>>3,z[W+32]=le-fe>>3,z[W+48]=we-pe>>3,W+=64}function Ui(_,A,z){var W,J=A-32,se=Rs,le=255-_[J-1];for(W=0;W<z;++W){var fe,pe=se,we=le+_[A-1];for(fe=0;fe<z;++fe)_[A+fe]=pe[we+_[J+fe]];A+=32}}function r0(_,A){Ui(_,A,4)}function Eh(_,A){Ui(_,A,8)}function Ch(_,A){Ui(_,A,16)}function n0(_,A){var z;for(z=0;16>z;++z)n(_,A+32*z,_,A-32,16)}function a0(_,A){var z;for(z=16;0<z;--z)a(_,A,_[A-1],16),A+=32}function wu(_,A,z){var W;for(W=0;16>W;++W)a(A,z+32*W,_,16)}function Ll(_,A){var z,W=16;for(z=0;16>z;++z)W+=_[A-1+32*z]+_[A+z-32];wu(W>>5,_,A)}function Ml(_,A){var z,W=8;for(z=0;16>z;++z)W+=_[A-1+32*z];wu(W>>4,_,A)}function Zo(_,A){var z,W=8;for(z=0;16>z;++z)W+=_[A+z-32];wu(W>>4,_,A)}function Nu(_,A){wu(128,_,A)}function ir(_,A,z){return _+2*A+z+2>>2}function Bc(_,A){var z,W=A-32;for(W=new Uint8Array([ir(_[W-1],_[W+0],_[W+1]),ir(_[W+0],_[W+1],_[W+2]),ir(_[W+1],_[W+2],_[W+3]),ir(_[W+2],_[W+3],_[W+4])]),z=0;4>z;++z)n(_,A+32*z,W,0,W.length)}function Th(_,A){var z=_[A-1],W=_[A-1+32],J=_[A-1+64],se=_[A-1+96];Ee(_,A+0,16843009*ir(_[A-1-32],z,W)),Ee(_,A+32,16843009*ir(z,W,J)),Ee(_,A+64,16843009*ir(W,J,se)),Ee(_,A+96,16843009*ir(J,se,se))}function s0(_,A){var z,W=4;for(z=0;4>z;++z)W+=_[A+z-32]+_[A-1+32*z];for(W>>=3,z=0;4>z;++z)a(_,A+32*z,W,4)}function Oh(_,A){var z=_[A-1+0],W=_[A-1+32],J=_[A-1+64],se=_[A-1-32],le=_[A+0-32],fe=_[A+1-32],pe=_[A+2-32],we=_[A+3-32];_[A+0+96]=ir(W,J,_[A-1+96]),_[A+1+96]=_[A+0+64]=ir(z,W,J),_[A+2+96]=_[A+1+64]=_[A+0+32]=ir(se,z,W),_[A+3+96]=_[A+2+64]=_[A+1+32]=_[A+0+0]=ir(le,se,z),_[A+3+64]=_[A+2+32]=_[A+1+0]=ir(fe,le,se),_[A+3+32]=_[A+2+0]=ir(pe,fe,le),_[A+3+0]=ir(we,pe,fe)}function zi(_,A){var z=_[A+1-32],W=_[A+2-32],J=_[A+3-32],se=_[A+4-32],le=_[A+5-32],fe=_[A+6-32],pe=_[A+7-32];_[A+0+0]=ir(_[A+0-32],z,W),_[A+1+0]=_[A+0+32]=ir(z,W,J),_[A+2+0]=_[A+1+32]=_[A+0+64]=ir(W,J,se),_[A+3+0]=_[A+2+32]=_[A+1+64]=_[A+0+96]=ir(J,se,le),_[A+3+32]=_[A+2+64]=_[A+1+96]=ir(se,le,fe),_[A+3+64]=_[A+2+96]=ir(le,fe,pe),_[A+3+96]=ir(fe,pe,pe)}function ps(_,A){var z=_[A-1+0],W=_[A-1+32],J=_[A-1+64],se=_[A-1-32],le=_[A+0-32],fe=_[A+1-32],pe=_[A+2-32],we=_[A+3-32];_[A+0+0]=_[A+1+64]=se+le+1>>1,_[A+1+0]=_[A+2+64]=le+fe+1>>1,_[A+2+0]=_[A+3+64]=fe+pe+1>>1,_[A+3+0]=pe+we+1>>1,_[A+0+96]=ir(J,W,z),_[A+0+64]=ir(W,z,se),_[A+0+32]=_[A+1+96]=ir(z,se,le),_[A+1+32]=_[A+2+96]=ir(se,le,fe),_[A+2+32]=_[A+3+96]=ir(le,fe,pe),_[A+3+32]=ir(fe,pe,we)}function i0(_,A){var z=_[A+0-32],W=_[A+1-32],J=_[A+2-32],se=_[A+3-32],le=_[A+4-32],fe=_[A+5-32],pe=_[A+6-32],we=_[A+7-32];_[A+0+0]=z+W+1>>1,_[A+1+0]=_[A+0+64]=W+J+1>>1,_[A+2+0]=_[A+1+64]=J+se+1>>1,_[A+3+0]=_[A+2+64]=se+le+1>>1,_[A+0+32]=ir(z,W,J),_[A+1+32]=_[A+0+96]=ir(W,J,se),_[A+2+32]=_[A+1+96]=ir(J,se,le),_[A+3+32]=_[A+2+96]=ir(se,le,fe),_[A+3+64]=ir(le,fe,pe),_[A+3+96]=ir(fe,pe,we)}function _u(_,A){var z=_[A-1+0],W=_[A-1+32],J=_[A-1+64],se=_[A-1+96];_[A+0+0]=z+W+1>>1,_[A+2+0]=_[A+0+32]=W+J+1>>1,_[A+2+32]=_[A+0+64]=J+se+1>>1,_[A+1+0]=ir(z,W,J),_[A+3+0]=_[A+1+32]=ir(W,J,se),_[A+3+32]=_[A+1+64]=ir(J,se,se),_[A+3+64]=_[A+2+64]=_[A+0+96]=_[A+1+96]=_[A+2+96]=_[A+3+96]=se}function qi(_,A){var z=_[A-1+0],W=_[A-1+32],J=_[A-1+64],se=_[A-1+96],le=_[A-1-32],fe=_[A+0-32],pe=_[A+1-32],we=_[A+2-32];_[A+0+0]=_[A+2+32]=z+le+1>>1,_[A+0+32]=_[A+2+64]=W+z+1>>1,_[A+0+64]=_[A+2+96]=J+W+1>>1,_[A+0+96]=se+J+1>>1,_[A+3+0]=ir(fe,pe,we),_[A+2+0]=ir(le,fe,pe),_[A+1+0]=_[A+3+32]=ir(z,le,fe),_[A+1+32]=_[A+3+64]=ir(W,z,le),_[A+1+64]=_[A+3+96]=ir(J,W,z),_[A+1+96]=ir(se,J,W)}function ju(_,A){var z;for(z=0;8>z;++z)n(_,A+32*z,_,A-32,8)}function uo(_,A){var z;for(z=0;8>z;++z)a(_,A,_[A-1],8),A+=32}function Su(_,A,z){var W;for(W=0;8>W;++W)a(A,z+32*W,_,8)}function Jo(_,A){var z,W=8;for(z=0;8>z;++z)W+=_[A+z-32]+_[A-1+32*z];Su(W>>4,_,A)}function Ld(_,A){var z,W=4;for(z=0;8>z;++z)W+=_[A+z-32];Su(W>>3,_,A)}function Md(_,A){var z,W=4;for(z=0;8>z;++z)W+=_[A-1+32*z];Su(W>>3,_,A)}function rs(_,A){Su(128,_,A)}function $i(_,A,z){var W=_[A-z],J=_[A+0],se=3*(J-W)+dc[1020+_[A-2*z]-_[A+z]],le=h0[112+(se+4>>3)];_[A-z]=Rs[255+W+h0[112+(se+3>>3)]],_[A+0]=Rs[255+J-le]}function fo(_,A,z,W){var J=_[A+0],se=_[A+z];return ys[255+_[A-2*z]-_[A-z]]>W||ys[255+se-J]>W}function ec(_,A,z,W){return 4*ys[255+_[A-z]-_[A+0]]+ys[255+_[A-2*z]-_[A+z]]<=W}function Rd(_,A,z,W,J){var se=_[A-3*z],le=_[A-2*z],fe=_[A-z],pe=_[A+0],we=_[A+z],Te=_[A+2*z],qe=_[A+3*z];return 4*ys[255+fe-pe]+ys[255+le-we]>W?0:ys[255+_[A-4*z]-se]<=J&&ys[255+se-le]<=J&&ys[255+le-fe]<=J&&ys[255+qe-Te]<=J&&ys[255+Te-we]<=J&&ys[255+we-pe]<=J}function Au(_,A,z,W){var J=2*W+1;for(W=0;16>W;++W)ec(_,A+W,z,J)&&$i(_,A+W,z)}function tc(_,A,z,W){var J=2*W+1;for(W=0;16>W;++W)ec(_,A+W*z,1,J)&&$i(_,A+W*z,1)}function Uc(_,A,z,W){var J;for(J=3;0<J;--J)Au(_,A+=4*z,z,W)}function ku(_,A,z,W){var J;for(J=3;0<J;--J)tc(_,A+=4,z,W)}function ho(_,A,z,W,J,se,le,fe){for(se=2*se+1;0<J--;){if(Rd(_,A,z,se,le))if(fo(_,A,z,fe))$i(_,A,z);else{var pe=_,we=A,Te=z,qe=pe[we-2*Te],be=pe[we-Te],Fe=pe[we+0],Me=pe[we+Te],rt=pe[we+2*Te],Ie=27*(it=dc[1020+3*(Fe-be)+dc[1020+qe-Me]])+63>>7,tt=18*it+63>>7,it=9*it+63>>7;pe[we-3*Te]=Rs[255+pe[we-3*Te]+it],pe[we-2*Te]=Rs[255+qe+tt],pe[we-Te]=Rs[255+be+Ie],pe[we+0]=Rs[255+Fe-Ie],pe[we+Te]=Rs[255+Me-tt],pe[we+2*Te]=Rs[255+rt-it]}A+=W}}function rc(_,A,z,W,J,se,le,fe){for(se=2*se+1;0<J--;){if(Rd(_,A,z,se,le))if(fo(_,A,z,fe))$i(_,A,z);else{var pe=_,we=A,Te=z,qe=pe[we-Te],be=pe[we+0],Fe=pe[we+Te],Me=h0[112+(4+(rt=3*(be-qe))>>3)],rt=h0[112+(rt+3>>3)],Ie=Me+1>>1;pe[we-2*Te]=Rs[255+pe[we-2*Te]+Ie],pe[we-Te]=Rs[255+qe+rt],pe[we+0]=Rs[255+be-Me],pe[we+Te]=Rs[255+Fe-Ie]}A+=W}}function Fh(_,A,z,W,J,se){ho(_,A,z,1,16,W,J,se)}function Dh(_,A,z,W,J,se){ho(_,A,1,z,16,W,J,se)}function nc(_,A,z,W,J,se){var le;for(le=3;0<le;--le)rc(_,A+=4*z,z,1,16,W,J,se)}function Ph(_,A,z,W,J,se){var le;for(le=3;0<le;--le)rc(_,A+=4,1,z,16,W,J,se)}function I(_,A,z,W,J,se,le,fe){ho(_,A,J,1,8,se,le,fe),ho(z,W,J,1,8,se,le,fe)}function Z(_,A,z,W,J,se,le,fe){ho(_,A,1,J,8,se,le,fe),ho(z,W,1,J,8,se,le,fe)}function _e(_,A,z,W,J,se,le,fe){rc(_,A+4*J,J,1,8,se,le,fe),rc(z,W+4*J,J,1,8,se,le,fe)}function ke(_,A,z,W,J,se,le,fe){rc(_,A+4,1,J,8,se,le,fe),rc(z,W+4,1,J,8,se,le,fe)}function De(){this.ba=new Wr,this.ec=[],this.cc=[],this.Mc=[],this.Dc=this.Nc=this.dc=this.fc=0,this.Oa=new Lr,this.memory=0,this.Ib="OutputFunc",this.Jb="OutputAlphaFunc",this.Nd="OutputRowFunc"}function st(){this.data=[],this.offset=this.kd=this.ha=this.w=0,this.na=[],this.xa=this.gb=this.Ja=this.Sa=this.P=0}function ht(){this.nc=this.Ea=this.b=this.hc=0,this.K=[],this.w=0}function Bt(){this.ua=0,this.Wa=new et,this.vb=new et,this.md=this.xc=this.wc=0,this.vc=[],this.Wb=0,this.Ya=new de,this.yc=new V}function Vt(){this.xb=this.a=0,this.l=new qa,this.ca=new Wr,this.V=[],this.Ba=0,this.Ta=[],this.Ua=0,this.m=new R,this.Pb=0,this.wd=new R,this.Ma=this.$=this.C=this.i=this.c=this.xd=0,this.s=new Bt,this.ab=0,this.gc=l(4,ht),this.Oc=0}function cr(){this.Lc=this.Z=this.$a=this.i=this.c=0,this.l=new qa,this.ic=0,this.ca=[],this.tb=0,this.qd=null,this.rd=0}function xr(_,A,z,W,J,se,le){for(_=_==null?0:_[A+0],A=0;A<le;++A)J[se+A]=_+z[W+A]&255,_=J[se+A]}function Jr(_,A,z,W,J,se,le){var fe;if(_==null)xr(null,null,z,W,J,se,le);else for(fe=0;fe<le;++fe)J[se+fe]=_[A+fe]+z[W+fe]&255}function Gn(_,A,z,W,J,se,le){if(_==null)xr(null,null,z,W,J,se,le);else{var fe,pe=_[A+0],we=pe,Te=pe;for(fe=0;fe<le;++fe)we=Te+(pe=_[A+fe])-we,Te=z[W+fe]+(-256&we?0>we?0:255:we)&255,we=pe,J[se+fe]=Te}}function ya(_,A,z,W){var J=A.width,se=A.o;if(t(_!=null&&A!=null),0>z||0>=W||z+W>se)return null;if(!_.Cc){if(_.ga==null){var le;if(_.ga=new cr,(le=_.ga==null)||(le=A.width*A.o,t(_.Gb.length==0),_.Gb=s(le),_.Uc=0,_.Gb==null?le=0:(_.mb=_.Gb,_.nb=_.Uc,_.rc=null,le=1),le=!le),!le){le=_.ga;var fe=_.Fa,pe=_.P,we=_.qc,Te=_.mb,qe=_.nb,be=pe+1,Fe=we-1,Me=le.l;if(t(fe!=null&&Te!=null&&A!=null),fc[0]=null,fc[1]=xr,fc[2]=Jr,fc[3]=Gn,le.ca=Te,le.tb=qe,le.c=A.width,le.i=A.height,t(0<le.c&&0<le.i),1>=we)A=0;else if(le.$a=3&fe[pe+0],le.Z=fe[pe+0]>>2&3,le.Lc=fe[pe+0]>>4&3,pe=fe[pe+0]>>6&3,0>le.$a||1<le.$a||4<=le.Z||1<le.Lc||pe)A=0;else if(Me.put=Xt,Me.ac=pi,Me.bc=Fl,Me.ma=le,Me.width=A.width,Me.height=A.height,Me.Da=A.Da,Me.v=A.v,Me.va=A.va,Me.j=A.j,Me.o=A.o,le.$a)e:{t(le.$a==1),A=Ue();t:for(;;){if(A==null){A=0;break e}if(t(le!=null),le.mc=A,A.c=le.c,A.i=le.i,A.l=le.l,A.l.ma=le,A.l.width=le.c,A.l.height=le.i,A.a=0,oe(A.m,fe,be,Fe),!ze(le.c,le.i,1,A,null)||(A.ab==1&&A.gc[0].hc==3&&me(A.s)?(le.ic=1,fe=A.c*A.i,A.Ta=null,A.Ua=0,A.V=s(fe),A.Ba=0,A.V==null?(A.a=1,A=0):A=1):(le.ic=0,A=He(A,le.c)),!A))break t;A=1;break e}le.mc=null,A=0}else A=Fe>=le.c*le.i;le=!A}if(le)return null;_.ga.Lc!=1?_.Ga=0:W=se-z}t(_.ga!=null),t(z+W<=se);e:{if(A=(fe=_.ga).c,se=fe.l.o,fe.$a==0){if(be=_.rc,Fe=_.Vc,Me=_.Fa,pe=_.P+1+z*A,we=_.mb,Te=_.nb+z*A,t(pe<=_.P+_.qc),fe.Z!=0)for(t(fc[fe.Z]!=null),le=0;le<W;++le)fc[fe.Z](be,Fe,Me,pe,we,Te,A),be=we,Fe=Te,Te+=A,pe+=A;else for(le=0;le<W;++le)n(we,Te,Me,pe,A),be=we,Fe=Te,Te+=A,pe+=A;_.rc=be,_.Vc=Fe}else{if(t(fe.mc!=null),A=z+W,t((le=fe.mc)!=null),t(A<=le.i),le.C>=A)A=1;else if(fe.ic||ol(),fe.ic){fe=le.V,be=le.Ba,Fe=le.c;var rt=le.i,Ie=(Me=1,pe=le.$/Fe,we=le.$%Fe,Te=le.m,qe=le.s,le.$),tt=Fe*rt,it=Fe*A,gt=qe.wc,dt=Ie<it?ae(qe,we,pe):null;t(Ie<=tt),t(A<=rt),t(me(qe));t:for(;;){for(;!Te.h&&Ie<it;){if(we&gt||(dt=ae(qe,we,pe)),t(dt!=null),ce(Te),256>(rt=Cn(dt.G[0],dt.H[0],Te)))fe[be+Ie]=rt,++Ie,++we>=Fe&&(we=0,++pe<=A&&!(pe%16)&&je(le,pe));else{if(!(280>rt)){Me=0;break t}rt=ms(rt-256,Te);var qt,Ft=Cn(dt.G[4],dt.H[4],Te);if(ce(Te),!(Ie>=(Ft=Xs(Fe,Ft=ms(Ft,Te)))&&tt-Ie>=rt)){Me=0;break t}for(qt=0;qt<rt;++qt)fe[be+Ie+qt]=fe[be+Ie+qt-Ft];for(Ie+=rt,we+=rt;we>=Fe;)we-=Fe,++pe<=A&&!(pe%16)&&je(le,pe);Ie<it&&we&gt&&(dt=ae(qe,we,pe))}t(Te.h==K(Te))}je(le,pe>A?A:pe);break t}!Me||Te.h&&Ie<tt?(Me=0,le.a=Te.h?5:3):le.$=Ie,A=Me}else A=Re(le,le.V,le.Ba,le.c,le.i,A,pt);if(!A){W=0;break e}}z+W>=se&&(_.Cc=1),W=1}if(!W)return null;if(_.Cc&&((W=_.ga)!=null&&(W.mc=null),_.ga=null,0<_.Ga))return alert("todo:WebPDequantizeLevels"),null}return _.nb+z*J}function Tn(_,A,z,W,J,se){for(;0<J--;){var le,fe=_,pe=A+(z?1:0),we=_,Te=A+(z?0:3);for(le=0;le<W;++le){var qe=we[Te+4*le];qe!=255&&(qe*=32897,fe[pe+4*le+0]=fe[pe+4*le+0]*qe>>23,fe[pe+4*le+1]=fe[pe+4*le+1]*qe>>23,fe[pe+4*le+2]=fe[pe+4*le+2]*qe>>23)}A+=se}}function $a(_,A,z,W,J){for(;0<W--;){var se;for(se=0;se<z;++se){var le=_[A+2*se+0],fe=15&(we=_[A+2*se+1]),pe=4369*fe,we=(240&we|we>>4)*pe>>16;_[A+2*se+0]=(240&le|le>>4)*pe>>16&240|(15&le|le<<4)*pe>>16>>4&15,_[A+2*se+1]=240&we|fe}A+=J}}function Ea(_,A,z,W,J,se,le,fe){var pe,we,Te=255;for(we=0;we<J;++we){for(pe=0;pe<W;++pe){var qe=_[A+pe];se[le+4*pe]=qe,Te&=qe}A+=z,le+=fe}return Te!=255}function xs(_,A,z,W,J){var se;for(se=0;se<J;++se)z[W+se]=_[A+se]>>8}function ol(){Fu=Tn,ul=$a,u0=Ea,Wi=xs}function xi(_,A,z){B[_]=function(W,J,se,le,fe,pe,we,Te,qe,be,Fe,Me,rt,Ie,tt,it,gt){var dt,qt=gt-1>>1,Ft=fe[pe+0]|we[Te+0]<<16,mr=qe[be+0]|Fe[Me+0]<<16;t(W!=null);var Rt=3*Ft+mr+131074>>2;for(A(W[J+0],255&Rt,Rt>>16,rt,Ie),se!=null&&(Rt=3*mr+Ft+131074>>2,A(se[le+0],255&Rt,Rt>>16,tt,it)),dt=1;dt<=qt;++dt){var Fr=fe[pe+dt]|we[Te+dt]<<16,Bn=qe[be+dt]|Fe[Me+dt]<<16,gr=Ft+Fr+mr+Bn+524296,Dt=gr+2*(Fr+mr)>>3;Rt=Dt+Ft>>1,Ft=(gr=gr+2*(Ft+Bn)>>3)+Fr>>1,A(W[J+2*dt-1],255&Rt,Rt>>16,rt,Ie+(2*dt-1)*z),A(W[J+2*dt-0],255&Ft,Ft>>16,rt,Ie+(2*dt-0)*z),se!=null&&(Rt=gr+mr>>1,Ft=Dt+Bn>>1,A(se[le+2*dt-1],255&Rt,Rt>>16,tt,it+(2*dt-1)*z),A(se[le+2*dt+0],255&Ft,Ft>>16,tt,it+(2*dt+0)*z)),Ft=Fr,mr=Bn}1&gt||(Rt=3*Ft+mr+131074>>2,A(W[J+gt-1],255&Rt,Rt>>16,rt,Ie+(gt-1)*z),se!=null&&(Rt=3*mr+Ft+131074>>2,A(se[le+gt-1],255&Rt,Rt>>16,tt,it+(gt-1)*z)))}}function Lh(){ws[Bh]=Lu,ws[Is]=Gd,ws[Uh]=Dp,ws[dl]=Vh,ws[m0]=Gc,ws[Vd]=No,ws[Vc]=Yc,ws[p0]=Gd,ws[zh]=Vh,ws[Wd]=Gc,ws[qh]=No}function Id(_){return _&-16384?0>_?0:255:_>>Wh}function Eu(_,A){return Id((19077*_>>8)+(26149*A>>8)-14234)}function mo(_,A,z){return Id((19077*_>>8)-(6419*A>>8)-(13320*z>>8)+8708)}function Rl(_,A){return Id((19077*_>>8)+(33050*A>>8)-17685)}function Cu(_,A,z,W,J){W[J+0]=Eu(_,z),W[J+1]=mo(_,A,z),W[J+2]=Rl(_,A)}function zc(_,A,z,W,J){W[J+0]=Rl(_,A),W[J+1]=mo(_,A,z),W[J+2]=Eu(_,z)}function gs(_,A,z,W,J){var se=mo(_,A,z);A=se<<3&224|Rl(_,A)>>3,W[J+0]=248&Eu(_,z)|se>>5,W[J+1]=A}function qc(_,A,z,W,J){var se=240&Rl(_,A)|15;W[J+0]=240&Eu(_,z)|mo(_,A,z)>>4,W[J+1]=se}function $c(_,A,z,W,J){W[J+0]=255,Cu(_,A,z,W,J+1)}function Bd(_,A,z,W,J){zc(_,A,z,W,J),W[J+3]=255}function po(_,A,z,W,J){Cu(_,A,z,W,J),W[J+3]=255}function ia(_,A){return 0>_?0:_>A?A:_}function ac(_,A,z){B[_]=function(W,J,se,le,fe,pe,we,Te,qe){for(var be=Te+(-2&qe)*z;Te!=be;)A(W[J+0],se[le+0],fe[pe+0],we,Te),A(W[J+1],se[le+0],fe[pe+0],we,Te+z),J+=2,++le,++pe,Te+=2*z;1&qe&&A(W[J+0],se[le+0],fe[pe+0],we,Te)}}function Ud(_,A,z){return z==0?_==0?A==0?6:5:A==0?4:0:z}function l0(_,A,z,W,J){switch(_>>>30){case 3:uc(A,z,W,J,0);break;case 2:Ms(A,z,W,J);break;case 1:en(A,z,W,J)}}function Hi(_,A){var z,W,J=A.M,se=A.Nb,le=_.oc,fe=_.pc+40,pe=_.oc,we=_.pc+584,Te=_.oc,qe=_.pc+600;for(z=0;16>z;++z)le[fe+32*z-1]=129;for(z=0;8>z;++z)pe[we+32*z-1]=129,Te[qe+32*z-1]=129;for(0<J?le[fe-1-32]=pe[we-1-32]=Te[qe-1-32]=129:(a(le,fe-32-1,127,21),a(pe,we-32-1,127,9),a(Te,qe-32-1,127,9)),W=0;W<_.za;++W){var be=A.ya[A.aa+W];if(0<W){for(z=-1;16>z;++z)n(le,fe+32*z-4,le,fe+32*z+12,4);for(z=-1;8>z;++z)n(pe,we+32*z-4,pe,we+32*z+4,4),n(Te,qe+32*z-4,Te,qe+32*z+4,4)}var Fe=_.Gd,Me=_.Hd+W,rt=be.ad,Ie=be.Hc;if(0<J&&(n(le,fe-32,Fe[Me].y,0,16),n(pe,we-32,Fe[Me].f,0,8),n(Te,qe-32,Fe[Me].ea,0,8)),be.Za){var tt=le,it=fe-32+16;for(0<J&&(W>=_.za-1?a(tt,it,Fe[Me].y[15],4):n(tt,it,Fe[Me+1].y,0,4)),z=0;4>z;z++)tt[it+128+z]=tt[it+256+z]=tt[it+384+z]=tt[it+0+z];for(z=0;16>z;++z,Ie<<=2)tt=le,it=fe+Na[z],la[be.Ob[z]](tt,it),l0(Ie,rt,16*+z,tt,it)}else if(tt=Ud(W,J,be.Ob[0]),ti[tt](le,fe),Ie!=0)for(z=0;16>z;++z,Ie<<=2)l0(Ie,rt,16*+z,le,fe+Na[z]);for(z=be.Gc,tt=Ud(W,J,be.Dd),zl[tt](pe,we),zl[tt](Te,qe),Ie=rt,tt=pe,it=we,255&(be=0|z)&&(170&be?cl(Ie,256,tt,it):Hr(Ie,256,tt,it)),be=Te,Ie=qe,255&(z>>=8)&&(170&z?cl(rt,320,be,Ie):Hr(rt,320,be,Ie)),J<_.Ub-1&&(n(Fe[Me].y,0,le,fe+480,16),n(Fe[Me].f,0,pe,we+224,8),n(Fe[Me].ea,0,Te,qe+224,8)),z=8*se*_.B,Fe=_.sa,Me=_.ta+16*W+16*se*_.R,rt=_.qa,be=_.ra+8*W+z,Ie=_.Ha,tt=_.Ia+8*W+z,z=0;16>z;++z)n(Fe,Me+z*_.R,le,fe+32*z,16);for(z=0;8>z;++z)n(rt,be+z*_.B,pe,we+32*z,8),n(Ie,tt+z*_.B,Te,qe+32*z,8)}}function Il(_,A,z,W,J,se,le,fe,pe){var we=[0],Te=[0],qe=0,be=pe!=null?pe.kd:0,Fe=pe??new st;if(_==null||12>z)return 7;Fe.data=_,Fe.w=A,Fe.ha=z,A=[A],z=[z],Fe.gb=[Fe.gb];e:{var Me=A,rt=z,Ie=Fe.gb;if(t(_!=null),t(rt!=null),t(Ie!=null),Ie[0]=0,12<=rt[0]&&!r(_,Me[0],"RIFF")){if(r(_,Me[0]+8,"WEBP")){Ie=3;break e}var tt=Ce(_,Me[0]+4);if(12>tt||4294967286<tt){Ie=3;break e}if(be&&tt>rt[0]-8){Ie=7;break e}Ie[0]=tt,Me[0]+=12,rt[0]-=12}Ie=0}if(Ie!=0)return Ie;for(tt=0<Fe.gb[0],z=z[0];;){e:{var it=_;rt=A,Ie=z;var gt=we,dt=Te,qt=Me=[0];if((Rt=qe=[qe])[0]=0,8>Ie[0])Ie=7;else{if(!r(it,rt[0],"VP8X")){if(Ce(it,rt[0]+4)!=10){Ie=3;break e}if(18>Ie[0]){Ie=7;break e}var Ft=Ce(it,rt[0]+8),mr=1+Je(it,rt[0]+12);if(2147483648<=mr*(it=1+Je(it,rt[0]+15))){Ie=3;break e}qt!=null&&(qt[0]=Ft),gt!=null&&(gt[0]=mr),dt!=null&&(dt[0]=it),rt[0]+=18,Ie[0]-=18,Rt[0]=1}Ie=0}}if(qe=qe[0],Me=Me[0],Ie!=0)return Ie;if(rt=!!(2&Me),!tt&&qe)return 3;if(se!=null&&(se[0]=!!(16&Me)),le!=null&&(le[0]=rt),fe!=null&&(fe[0]=0),le=we[0],Me=Te[0],qe&&rt&&pe==null){Ie=0;break}if(4>z){Ie=7;break}if(tt&&qe||!tt&&!qe&&!r(_,A[0],"ALPH")){z=[z],Fe.na=[Fe.na],Fe.P=[Fe.P],Fe.Sa=[Fe.Sa];e:{Ft=_,Ie=A,tt=z;var Rt=Fe.gb;gt=Fe.na,dt=Fe.P,qt=Fe.Sa,mr=22,t(Ft!=null),t(tt!=null),it=Ie[0];var Fr=tt[0];for(t(gt!=null),t(qt!=null),gt[0]=null,dt[0]=null,qt[0]=0;;){if(Ie[0]=it,tt[0]=Fr,8>Fr){Ie=7;break e}var Bn=Ce(Ft,it+4);if(4294967286<Bn){Ie=3;break e}var gr=8+Bn+1&-2;if(mr+=gr,0<Rt&&mr>Rt){Ie=3;break e}if(!r(Ft,it,"VP8 ")||!r(Ft,it,"VP8L")){Ie=0;break e}if(Fr[0]<gr){Ie=7;break e}r(Ft,it,"ALPH")||(gt[0]=Ft,dt[0]=it+8,qt[0]=Bn),it+=gr,Fr-=gr}}if(z=z[0],Fe.na=Fe.na[0],Fe.P=Fe.P[0],Fe.Sa=Fe.Sa[0],Ie!=0)break}z=[z],Fe.Ja=[Fe.Ja],Fe.xa=[Fe.xa];e:if(Rt=_,Ie=A,tt=z,gt=Fe.gb[0],dt=Fe.Ja,qt=Fe.xa,Ft=Ie[0],it=!r(Rt,Ft,"VP8 "),mr=!r(Rt,Ft,"VP8L"),t(Rt!=null),t(tt!=null),t(dt!=null),t(qt!=null),8>tt[0])Ie=7;else{if(it||mr){if(Rt=Ce(Rt,Ft+4),12<=gt&&Rt>gt-12){Ie=3;break e}if(be&&Rt>tt[0]-8){Ie=7;break e}dt[0]=Rt,Ie[0]+=8,tt[0]-=8,qt[0]=mr}else qt[0]=5<=tt[0]&&Rt[Ft+0]==47&&!(Rt[Ft+4]>>5),dt[0]=tt[0];Ie=0}if(z=z[0],Fe.Ja=Fe.Ja[0],Fe.xa=Fe.xa[0],A=A[0],Ie!=0)break;if(4294967286<Fe.Ja)return 3;if(fe==null||rt||(fe[0]=Fe.xa?2:1),le=[le],Me=[Me],Fe.xa){if(5>z){Ie=7;break}fe=le,be=Me,rt=se,_==null||5>z?_=0:5<=z&&_[A+0]==47&&!(_[A+4]>>5)?(tt=[0],Rt=[0],gt=[0],oe(dt=new R,_,A,z),il(dt,tt,Rt,gt)?(fe!=null&&(fe[0]=tt[0]),be!=null&&(be[0]=Rt[0]),rt!=null&&(rt[0]=gt[0]),_=1):_=0):_=0}else{if(10>z){Ie=7;break}fe=Me,_==null||10>z||!Zs(_,A+3,z-3)?_=0:(be=_[A+0]|_[A+1]<<8|_[A+2]<<16,rt=16383&(_[A+7]<<8|_[A+6]),_=16383&(_[A+9]<<8|_[A+8]),1&be||3<(be>>1&7)||!(be>>4&1)||be>>5>=Fe.Ja||!rt||!_?_=0:(le&&(le[0]=rt),fe&&(fe[0]=_),_=1))}if(!_||(le=le[0],Me=Me[0],qe&&(we[0]!=le||Te[0]!=Me)))return 3;pe!=null&&(pe[0]=Fe,pe.offset=A-pe.w,t(4294967286>A-pe.w),t(pe.offset==pe.ha-z));break}return Ie==0||Ie==7&&qe&&pe==null?(se!=null&&(se[0]|=Fe.na!=null&&0<Fe.na.length),W!=null&&(W[0]=le),J!=null&&(J[0]=Me),0):Ie}function sc(_,A,z){var W=A.width,J=A.height,se=0,le=0,fe=W,pe=J;if(A.Da=_!=null&&0<_.Da,A.Da&&(fe=_.cd,pe=_.bd,se=_.v,le=_.j,11>z||(se&=-2,le&=-2),0>se||0>le||0>=fe||0>=pe||se+fe>W||le+pe>J))return 0;if(A.v=se,A.j=le,A.va=se+fe,A.o=le+pe,A.U=fe,A.T=pe,A.da=_!=null&&0<_.da,A.da){if(!Le(fe,pe,z=[_.ib],se=[_.hb]))return 0;A.ib=z[0],A.hb=se[0]}return A.ob=_!=null&&_.ob,A.Kb=_==null||!_.Sd,A.da&&(A.ob=A.ib<3*W/4&&A.hb<3*J/4,A.Kb=0),1}function o0(_){if(_==null)return 2;if(11>_.S){var A=_.f.RGBA;A.fb+=(_.height-1)*A.A,A.A=-A.A}else A=_.f.kb,_=_.height,A.O+=(_-1)*A.fa,A.fa=-A.fa,A.N+=(_-1>>1)*A.Ab,A.Ab=-A.Ab,A.W+=(_-1>>1)*A.Db,A.Db=-A.Db,A.F!=null&&(A.J+=(_-1)*A.lb,A.lb=-A.lb);return 0}function Bl(_,A,z,W){if(W==null||0>=_||0>=A)return 2;if(z!=null){if(z.Da){var J=z.cd,se=z.bd,le=-2&z.v,fe=-2&z.j;if(0>le||0>fe||0>=J||0>=se||le+J>_||fe+se>A)return 2;_=J,A=se}if(z.da){if(!Le(_,A,J=[z.ib],se=[z.hb]))return 2;_=J[0],A=se[0]}}W.width=_,W.height=A;e:{var pe=W.width,we=W.height;if(_=W.S,0>=pe||0>=we||!(_>=Bh&&13>_))_=2;else{if(0>=W.Rd&&W.sd==null){le=se=J=A=0;var Te=(fe=pe*Gh[_])*we;if(11>_||(se=(we+1)/2*(A=(pe+1)/2),_==12&&(le=(J=pe)*we)),(we=s(Te+2*se+le))==null){_=1;break e}W.sd=we,11>_?((pe=W.f.RGBA).eb=we,pe.fb=0,pe.A=fe,pe.size=Te):((pe=W.f.kb).y=we,pe.O=0,pe.fa=fe,pe.Fd=Te,pe.f=we,pe.N=0+Te,pe.Ab=A,pe.Cd=se,pe.ea=we,pe.W=0+Te+se,pe.Db=A,pe.Ed=se,_==12&&(pe.F=we,pe.J=0+Te+2*se),pe.Tc=le,pe.lb=J)}if(A=1,J=W.S,se=W.width,le=W.height,J>=Bh&&13>J)if(11>J)_=W.f.RGBA,A&=(fe=Math.abs(_.A))*(le-1)+se<=_.size,A&=fe>=se*Gh[J],A&=_.eb!=null;else{_=W.f.kb,fe=(se+1)/2,Te=(le+1)/2,pe=Math.abs(_.fa),we=Math.abs(_.Ab);var qe=Math.abs(_.Db),be=Math.abs(_.lb),Fe=be*(le-1)+se;A&=pe*(le-1)+se<=_.Fd,A&=we*(Te-1)+fe<=_.Cd,A=(A&=qe*(Te-1)+fe<=_.Ed)&pe>=se&we>=fe&qe>=fe,A&=_.y!=null,A&=_.f!=null,A&=_.ea!=null,J==12&&(A&=be>=se,A&=Fe<=_.Tc,A&=_.F!=null)}else A=0;_=A?0:2}}return _!=0||z!=null&&z.fd&&(_=o0(W)),_}var Hc=64,gi=[0,1,3,7,15,31,63,127,255,511,1023,2047,4095,8191,16383,32767,65535,131071,262143,524287,1048575,2097151,4194303,8388607,16777215],ei=24,xo=32,go=8,ic=[0,0,1,1,2,2,2,2,3,3,3,3,3,3,3,3,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7];lt("Predictor0","PredictorAdd0"),B.Predictor0=function(){return 4278190080},B.Predictor1=function(_){return _},B.Predictor2=function(_,A,z){return A[z+0]},B.Predictor3=function(_,A,z){return A[z+1]},B.Predictor4=function(_,A,z){return A[z-1]},B.Predictor5=function(_,A,z){return ft(ft(_,A[z+1]),A[z+0])},B.Predictor6=function(_,A,z){return ft(_,A[z-1])},B.Predictor7=function(_,A,z){return ft(_,A[z+0])},B.Predictor8=function(_,A,z){return ft(A[z-1],A[z+0])},B.Predictor9=function(_,A,z){return ft(A[z+0],A[z+1])},B.Predictor10=function(_,A,z){return ft(ft(_,A[z-1]),ft(A[z+0],A[z+1]))},B.Predictor11=function(_,A,z){var W=A[z+0];return 0>=Kt(W>>24&255,_>>24&255,(A=A[z-1])>>24&255)+Kt(W>>16&255,_>>16&255,A>>16&255)+Kt(W>>8&255,_>>8&255,A>>8&255)+Kt(255&W,255&_,255&A)?W:_},B.Predictor12=function(_,A,z){var W=A[z+0];return(Et((_>>24&255)+(W>>24&255)-((A=A[z-1])>>24&255))<<24|Et((_>>16&255)+(W>>16&255)-(A>>16&255))<<16|Et((_>>8&255)+(W>>8&255)-(A>>8&255))<<8|Et((255&_)+(255&W)-(255&A)))>>>0},B.Predictor13=function(_,A,z){var W=A[z-1];return(zt((_=ft(_,A[z+0]))>>24&255,W>>24&255)<<24|zt(_>>16&255,W>>16&255)<<16|zt(_>>8&255,W>>8&255)<<8|zt(255&_,255&W))>>>0};var zd=B.PredictorAdd0;B.PredictorAdd1=Ar,lt("Predictor2","PredictorAdd2"),lt("Predictor3","PredictorAdd3"),lt("Predictor4","PredictorAdd4"),lt("Predictor5","PredictorAdd5"),lt("Predictor6","PredictorAdd6"),lt("Predictor7","PredictorAdd7"),lt("Predictor8","PredictorAdd8"),lt("Predictor9","PredictorAdd9"),lt("Predictor10","PredictorAdd10"),lt("Predictor11","PredictorAdd11"),lt("Predictor12","PredictorAdd12"),lt("Predictor13","PredictorAdd13");var qd=B.PredictorAdd2;Ct("ColorIndexInverseTransform","MapARGB","32b",function(_){return _>>8&255},function(_){return _}),Ct("VP8LColorIndexInverseTransformAlpha","MapAlpha","8b",function(_){return _},function(_){return _>>8&255});var ba,Mh=B.ColorIndexInverseTransform,vo=B.MapARGB,yo=B.VP8LColorIndexInverseTransformAlpha,vs=B.MapAlpha,lc=B.VP8LPredictorsAdd=[];lc.length=16,(B.VP8LPredictors=[]).length=16,(B.VP8LPredictorsAdd_C=[]).length=16,(B.VP8LPredictors_C=[]).length=16;var $d,Hd,oc,cc,bo,Tu,Vi,uc,Ms,cl,en,Hr,On,wa,wo,Ul,Ou,c0,Ep,s1,i1,l1,Cp,Tp,Fu,ul,u0,Wi,Du=s(511),Rh=s(2041),d0=s(225),f0=s(767),Ih=0,dc=Rh,h0=d0,Rs=f0,ys=Du,Bh=0,Is=1,Uh=2,dl=3,m0=4,Vd=5,Vc=6,p0=7,zh=8,Wd=9,qh=10,fl=[2,3,7],Kd=[3,3,11],Pu=[280,256,256,256,40],$h=[0,1,1,1,0],x0=[17,18,0,1,2,3,4,5,16,6,7,8,9,10,11,12,13,14,15],hl=[24,7,23,25,40,6,39,41,22,26,38,42,56,5,55,57,21,27,54,58,37,43,72,4,71,73,20,28,53,59,70,74,36,44,88,69,75,52,60,3,87,89,19,29,86,90,35,45,68,76,85,91,51,61,104,2,103,105,18,30,102,106,34,46,84,92,67,77,101,107,50,62,120,1,119,121,83,93,17,31,100,108,66,78,118,122,33,47,117,123,49,63,99,109,82,94,0,116,124,65,79,16,32,98,110,48,115,125,81,95,64,114,126,97,111,80,113,127,96,112],ml=[2954,2956,2958,2962,2970,2986,3018,3082,3212,3468,3980,5004],Wc=8,pl=[4,5,6,7,8,9,10,10,11,12,13,14,15,16,17,17,18,19,20,20,21,21,22,22,23,23,24,25,25,26,27,28,29,30,31,32,33,34,35,36,37,37,38,39,40,41,42,43,44,45,46,46,47,48,49,50,51,52,53,54,55,56,57,58,59,60,61,62,63,64,65,66,67,68,69,70,71,72,73,74,75,76,76,77,78,79,80,81,82,83,84,85,86,87,88,89,91,93,95,96,98,100,101,102,104,106,108,110,112,114,116,118,122,124,126,128,130,132,134,136,138,140,143,145,148,151,154,157],xl=[4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33,34,35,36,37,38,39,40,41,42,43,44,45,46,47,48,49,50,51,52,53,54,55,56,57,58,60,62,64,66,68,70,72,74,76,78,80,82,84,86,88,90,92,94,96,98,100,102,104,106,108,110,112,114,116,119,122,125,128,131,134,137,140,143,146,149,152,155,158,161,164,167,170,173,177,181,185,189,193,197,201,205,209,213,217,221,225,229,234,239,245,249,254,259,264,269,274,279,284],Ki=null,o1=[[173,148,140,0],[176,155,140,135,0],[180,157,141,134,130,0],[254,254,243,230,196,177,153,140,133,130,129,0]],Op=[0,1,4,8,5,2,3,6,9,12,13,10,7,11,14,15],Hh=[-0,1,-1,2,-2,3,4,6,-3,5,-4,-5,-6,7,-7,8,-8,-9],c1=[[[[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128]],[[253,136,254,255,228,219,128,128,128,128,128],[189,129,242,255,227,213,255,219,128,128,128],[106,126,227,252,214,209,255,255,128,128,128]],[[1,98,248,255,236,226,255,255,128,128,128],[181,133,238,254,221,234,255,154,128,128,128],[78,134,202,247,198,180,255,219,128,128,128]],[[1,185,249,255,243,255,128,128,128,128,128],[184,150,247,255,236,224,128,128,128,128,128],[77,110,216,255,236,230,128,128,128,128,128]],[[1,101,251,255,241,255,128,128,128,128,128],[170,139,241,252,236,209,255,255,128,128,128],[37,116,196,243,228,255,255,255,128,128,128]],[[1,204,254,255,245,255,128,128,128,128,128],[207,160,250,255,238,128,128,128,128,128,128],[102,103,231,255,211,171,128,128,128,128,128]],[[1,152,252,255,240,255,128,128,128,128,128],[177,135,243,255,234,225,128,128,128,128,128],[80,129,211,255,194,224,128,128,128,128,128]],[[1,1,255,128,128,128,128,128,128,128,128],[246,1,255,128,128,128,128,128,128,128,128],[255,128,128,128,128,128,128,128,128,128,128]]],[[[198,35,237,223,193,187,162,160,145,155,62],[131,45,198,221,172,176,220,157,252,221,1],[68,47,146,208,149,167,221,162,255,223,128]],[[1,149,241,255,221,224,255,255,128,128,128],[184,141,234,253,222,220,255,199,128,128,128],[81,99,181,242,176,190,249,202,255,255,128]],[[1,129,232,253,214,197,242,196,255,255,128],[99,121,210,250,201,198,255,202,128,128,128],[23,91,163,242,170,187,247,210,255,255,128]],[[1,200,246,255,234,255,128,128,128,128,128],[109,178,241,255,231,245,255,255,128,128,128],[44,130,201,253,205,192,255,255,128,128,128]],[[1,132,239,251,219,209,255,165,128,128,128],[94,136,225,251,218,190,255,255,128,128,128],[22,100,174,245,186,161,255,199,128,128,128]],[[1,182,249,255,232,235,128,128,128,128,128],[124,143,241,255,227,234,128,128,128,128,128],[35,77,181,251,193,211,255,205,128,128,128]],[[1,157,247,255,236,231,255,255,128,128,128],[121,141,235,255,225,227,255,255,128,128,128],[45,99,188,251,195,217,255,224,128,128,128]],[[1,1,251,255,213,255,128,128,128,128,128],[203,1,248,255,255,128,128,128,128,128,128],[137,1,177,255,224,255,128,128,128,128,128]]],[[[253,9,248,251,207,208,255,192,128,128,128],[175,13,224,243,193,185,249,198,255,255,128],[73,17,171,221,161,179,236,167,255,234,128]],[[1,95,247,253,212,183,255,255,128,128,128],[239,90,244,250,211,209,255,255,128,128,128],[155,77,195,248,188,195,255,255,128,128,128]],[[1,24,239,251,218,219,255,205,128,128,128],[201,51,219,255,196,186,128,128,128,128,128],[69,46,190,239,201,218,255,228,128,128,128]],[[1,191,251,255,255,128,128,128,128,128,128],[223,165,249,255,213,255,128,128,128,128,128],[141,124,248,255,255,128,128,128,128,128,128]],[[1,16,248,255,255,128,128,128,128,128,128],[190,36,230,255,236,255,128,128,128,128,128],[149,1,255,128,128,128,128,128,128,128,128]],[[1,226,255,128,128,128,128,128,128,128,128],[247,192,255,128,128,128,128,128,128,128,128],[240,128,255,128,128,128,128,128,128,128,128]],[[1,134,252,255,255,128,128,128,128,128,128],[213,62,250,255,255,128,128,128,128,128,128],[55,93,255,128,128,128,128,128,128,128,128]],[[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128]]],[[[202,24,213,235,186,191,220,160,240,175,255],[126,38,182,232,169,184,228,174,255,187,128],[61,46,138,219,151,178,240,170,255,216,128]],[[1,112,230,250,199,191,247,159,255,255,128],[166,109,228,252,211,215,255,174,128,128,128],[39,77,162,232,172,180,245,178,255,255,128]],[[1,52,220,246,198,199,249,220,255,255,128],[124,74,191,243,183,193,250,221,255,255,128],[24,71,130,219,154,170,243,182,255,255,128]],[[1,182,225,249,219,240,255,224,128,128,128],[149,150,226,252,216,205,255,171,128,128,128],[28,108,170,242,183,194,254,223,255,255,128]],[[1,81,230,252,204,203,255,192,128,128,128],[123,102,209,247,188,196,255,233,128,128,128],[20,95,153,243,164,173,255,203,128,128,128]],[[1,222,248,255,216,213,128,128,128,128,128],[168,175,246,252,235,205,255,255,128,128,128],[47,116,215,255,211,212,255,255,128,128,128]],[[1,121,236,253,212,214,255,255,128,128,128],[141,84,213,252,201,202,255,219,128,128,128],[42,80,160,240,162,185,255,205,128,128,128]],[[1,1,255,128,128,128,128,128,128,128,128],[244,1,255,128,128,128,128,128,128,128,128],[238,1,255,128,128,128,128,128,128,128,128]]]],bs=[[[231,120,48,89,115,113,120,152,112],[152,179,64,126,170,118,46,70,95],[175,69,143,80,85,82,72,155,103],[56,58,10,171,218,189,17,13,152],[114,26,17,163,44,195,21,10,173],[121,24,80,195,26,62,44,64,85],[144,71,10,38,171,213,144,34,26],[170,46,55,19,136,160,33,206,71],[63,20,8,114,114,208,12,9,226],[81,40,11,96,182,84,29,16,36]],[[134,183,89,137,98,101,106,165,148],[72,187,100,130,157,111,32,75,80],[66,102,167,99,74,62,40,234,128],[41,53,9,178,241,141,26,8,107],[74,43,26,146,73,166,49,23,157],[65,38,105,160,51,52,31,115,128],[104,79,12,27,217,255,87,17,7],[87,68,71,44,114,51,15,186,23],[47,41,14,110,182,183,21,17,194],[66,45,25,102,197,189,23,18,22]],[[88,88,147,150,42,46,45,196,205],[43,97,183,117,85,38,35,179,61],[39,53,200,87,26,21,43,232,171],[56,34,51,104,114,102,29,93,77],[39,28,85,171,58,165,90,98,64],[34,22,116,206,23,34,43,166,73],[107,54,32,26,51,1,81,43,31],[68,25,106,22,64,171,36,225,114],[34,19,21,102,132,188,16,76,124],[62,18,78,95,85,57,50,48,51]],[[193,101,35,159,215,111,89,46,111],[60,148,31,172,219,228,21,18,111],[112,113,77,85,179,255,38,120,114],[40,42,1,196,245,209,10,25,109],[88,43,29,140,166,213,37,43,154],[61,63,30,155,67,45,68,1,209],[100,80,8,43,154,1,51,26,71],[142,78,78,16,255,128,34,197,171],[41,40,5,102,211,183,4,1,221],[51,50,17,168,209,192,23,25,82]],[[138,31,36,171,27,166,38,44,229],[67,87,58,169,82,115,26,59,179],[63,59,90,180,59,166,93,73,154],[40,40,21,116,143,209,34,39,175],[47,15,16,183,34,223,49,45,183],[46,17,33,183,6,98,15,32,183],[57,46,22,24,128,1,54,17,37],[65,32,73,115,28,128,23,128,205],[40,3,9,115,51,192,18,6,223],[87,37,9,115,59,77,64,21,47]],[[104,55,44,218,9,54,53,130,226],[64,90,70,205,40,41,23,26,57],[54,57,112,184,5,41,38,166,213],[30,34,26,133,152,116,10,32,134],[39,19,53,221,26,114,32,73,255],[31,9,65,234,2,15,1,118,73],[75,32,12,51,192,255,160,43,51],[88,31,35,67,102,85,55,186,85],[56,21,23,111,59,205,45,37,192],[55,38,70,124,73,102,1,34,98]],[[125,98,42,88,104,85,117,175,82],[95,84,53,89,128,100,113,101,45],[75,79,123,47,51,128,81,171,1],[57,17,5,71,102,57,53,41,49],[38,33,13,121,57,73,26,1,85],[41,10,67,138,77,110,90,47,114],[115,21,2,10,102,255,166,23,6],[101,29,16,10,85,128,101,196,26],[57,18,10,102,102,213,34,20,43],[117,20,15,36,163,128,68,1,26]],[[102,61,71,37,34,53,31,243,192],[69,60,71,38,73,119,28,222,37],[68,45,128,34,1,47,11,245,171],[62,17,19,70,146,85,55,62,70],[37,43,37,154,100,163,85,160,1],[63,9,92,136,28,64,32,201,85],[75,15,9,9,64,255,184,119,16],[86,6,28,5,64,255,25,248,1],[56,8,17,132,137,255,55,116,128],[58,15,20,82,135,57,26,121,40]],[[164,50,31,137,154,133,25,35,218],[51,103,44,131,131,123,31,6,158],[86,40,64,135,148,224,45,183,128],[22,26,17,131,240,154,14,1,209],[45,16,21,91,64,222,7,1,197],[56,21,39,155,60,138,23,102,213],[83,12,13,54,192,255,68,47,28],[85,26,85,85,128,128,32,146,171],[18,11,7,63,144,171,4,4,246],[35,27,10,146,174,171,12,26,128]],[[190,80,35,99,180,80,126,54,45],[85,126,47,87,176,51,41,20,32],[101,75,128,139,118,146,116,128,85],[56,41,15,176,236,85,37,9,62],[71,30,17,119,118,255,17,18,138],[101,38,60,138,55,70,43,26,142],[146,36,19,30,171,255,97,27,20],[138,45,61,62,219,1,81,188,64],[32,41,20,117,151,142,20,21,163],[112,19,12,61,195,128,48,4,24]]],In=[[[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[176,246,255,255,255,255,255,255,255,255,255],[223,241,252,255,255,255,255,255,255,255,255],[249,253,253,255,255,255,255,255,255,255,255]],[[255,244,252,255,255,255,255,255,255,255,255],[234,254,254,255,255,255,255,255,255,255,255],[253,255,255,255,255,255,255,255,255,255,255]],[[255,246,254,255,255,255,255,255,255,255,255],[239,253,254,255,255,255,255,255,255,255,255],[254,255,254,255,255,255,255,255,255,255,255]],[[255,248,254,255,255,255,255,255,255,255,255],[251,255,254,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,253,254,255,255,255,255,255,255,255,255],[251,254,254,255,255,255,255,255,255,255,255],[254,255,254,255,255,255,255,255,255,255,255]],[[255,254,253,255,254,255,255,255,255,255,255],[250,255,254,255,254,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]],[[[217,255,255,255,255,255,255,255,255,255,255],[225,252,241,253,255,255,254,255,255,255,255],[234,250,241,250,253,255,253,254,255,255,255]],[[255,254,255,255,255,255,255,255,255,255,255],[223,254,254,255,255,255,255,255,255,255,255],[238,253,254,254,255,255,255,255,255,255,255]],[[255,248,254,255,255,255,255,255,255,255,255],[249,254,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,253,255,255,255,255,255,255,255,255,255],[247,254,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,253,254,255,255,255,255,255,255,255,255],[252,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,254,254,255,255,255,255,255,255,255,255],[253,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,254,253,255,255,255,255,255,255,255,255],[250,255,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]],[[[186,251,250,255,255,255,255,255,255,255,255],[234,251,244,254,255,255,255,255,255,255,255],[251,251,243,253,254,255,254,255,255,255,255]],[[255,253,254,255,255,255,255,255,255,255,255],[236,253,254,255,255,255,255,255,255,255,255],[251,253,253,254,254,255,255,255,255,255,255]],[[255,254,254,255,255,255,255,255,255,255,255],[254,254,254,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,254,255,255,255,255,255,255,255,255,255],[254,254,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]],[[[248,255,255,255,255,255,255,255,255,255,255],[250,254,252,254,255,255,255,255,255,255,255],[248,254,249,253,255,255,255,255,255,255,255]],[[255,253,253,255,255,255,255,255,255,255,255],[246,253,253,255,255,255,255,255,255,255,255],[252,254,251,254,254,255,255,255,255,255,255]],[[255,254,252,255,255,255,255,255,255,255,255],[248,254,253,255,255,255,255,255,255,255,255],[253,255,254,254,255,255,255,255,255,255,255]],[[255,251,254,255,255,255,255,255,255,255,255],[245,251,254,255,255,255,255,255,255,255,255],[253,253,254,255,255,255,255,255,255,255,255]],[[255,251,253,255,255,255,255,255,255,255,255],[252,253,254,255,255,255,255,255,255,255,255],[255,254,255,255,255,255,255,255,255,255,255]],[[255,252,255,255,255,255,255,255,255,255,255],[249,255,254,255,255,255,255,255,255,255,255],[255,255,254,255,255,255,255,255,255,255,255]],[[255,255,253,255,255,255,255,255,255,255,255],[250,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]]],Mr=[0,1,2,3,6,4,5,6,6,6,6,6,6,6,6,7,0],ti=[],la=[],zl=[],Kc=1,Fp=2,fc=[],ws=[];xi("UpsampleRgbLinePair",Cu,3),xi("UpsampleBgrLinePair",zc,3),xi("UpsampleRgbaLinePair",po,4),xi("UpsampleBgraLinePair",Bd,4),xi("UpsampleArgbLinePair",$c,4),xi("UpsampleRgba4444LinePair",qc,2),xi("UpsampleRgb565LinePair",gs,2);var Lu=B.UpsampleRgbLinePair,Dp=B.UpsampleBgrLinePair,Gd=B.UpsampleRgbaLinePair,Vh=B.UpsampleBgraLinePair,Gc=B.UpsampleArgbLinePair,No=B.UpsampleRgba4444LinePair,Yc=B.UpsampleRgb565LinePair,gl=16,Yd=1<<gl-1,Mu=-227,Xc=482,Wh=6,Qc=0,Ns=s(256),Kh=s(256),u1=s(256),hb=s(256),mb=s(Xc-Mu),pb=s(Xc-Mu);ac("YuvToRgbRow",Cu,3),ac("YuvToBgrRow",zc,3),ac("YuvToRgbaRow",po,4),ac("YuvToBgraRow",Bd,4),ac("YuvToArgbRow",$c,4),ac("YuvToRgba4444Row",qc,2),ac("YuvToRgb565Row",gs,2);var Na=[0,4,8,12,128,132,136,140,256,260,264,268,384,388,392,396],Xd=[0,2,8],g0=[8,7,6,4,4,2,2,2,1,1,1,1],v0=1;this.WebPDecodeRGBA=function(_,A,z,W,J){var se=Is,le=new De,fe=new Wr;le.ba=fe,fe.S=se,fe.width=[fe.width],fe.height=[fe.height];var pe=fe.width,we=fe.height,Te=new Yt;if(Te==null||_==null)var qe=2;else t(Te!=null),qe=Il(_,A,z,Te.width,Te.height,Te.Pd,Te.Qd,Te.format,null);if(qe!=0?pe=0:(pe!=null&&(pe[0]=Te.width[0]),we!=null&&(we[0]=Te.height[0]),pe=1),pe){fe.width=fe.width[0],fe.height=fe.height[0],W!=null&&(W[0]=fe.width),J!=null&&(J[0]=fe.height);e:{if(W=new qa,(J=new st).data=_,J.w=A,J.ha=z,J.kd=1,A=[0],t(J!=null),((_=Il(J.data,J.w,J.ha,null,null,null,A,null,J))==0||_==7)&&A[0]&&(_=4),(A=_)==0){if(t(le!=null),W.data=J.data,W.w=J.w+J.offset,W.ha=J.ha-J.offset,W.put=Xt,W.ac=pi,W.bc=Fl,W.ma=le,J.xa){if((_=Ue())==null){le=1;break e}if((function(be,Fe){var Me=[0],rt=[0],Ie=[0];t:for(;;){if(be==null)return 0;if(Fe==null)return be.a=2,0;if(be.l=Fe,be.a=0,oe(be.m,Fe.data,Fe.w,Fe.ha),!il(be.m,Me,rt,Ie)){be.a=3;break t}if(be.xb=Fp,Fe.width=Me[0],Fe.height=rt[0],!ze(Me[0],rt[0],1,be,null))break t;return 1}return t(be.a!=0),0})(_,W)){if(W=(A=Bl(W.width,W.height,le.Oa,le.ba))==0){t:{W=_;r:for(;;){if(W==null){W=0;break t}if(t(W.s.yc!=null),t(W.s.Ya!=null),t(0<W.s.Wb),t((z=W.l)!=null),t((J=z.ma)!=null),W.xb!=0){if(W.ca=J.ba,W.tb=J.tb,t(W.ca!=null),!sc(J.Oa,z,dl)){W.a=2;break r}if(!He(W,z.width)||z.da)break r;if((z.da||fr(W.ca.S))&&ol(),11>W.ca.S||(alert("todo:WebPInitConvertARGBToYUV"),W.ca.f.kb.F!=null&&ol()),W.Pb&&0<W.s.ua&&W.s.vb.X==null&&!xe(W.s.vb,W.s.Wa.Xa)){W.a=1;break r}W.xb=0}if(!Re(W,W.V,W.Ba,W.c,W.i,z.o,he))break r;J.Dc=W.Ma,W=1;break t}t(W.a!=0),W=0}W=!W}W&&(A=_.a)}else A=_.a}else{if((_=new Pd)==null){le=1;break e}if(_.Fa=J.na,_.P=J.P,_.qc=J.Sa,Qf(_,W)){if((A=Bl(W.width,W.height,le.Oa,le.ba))==0){if(_.Aa=0,z=le.Oa,t((J=_)!=null),z!=null){if(0<(pe=0>(pe=z.Md)?0:100<pe?255:255*pe/100)){for(we=Te=0;4>we;++we)12>(qe=J.pb[we]).lc&&(qe.ia=pe*g0[0>qe.lc?0:qe.lc]>>3),Te|=qe.ia;Te&&(alert("todo:VP8InitRandom"),J.ia=1)}J.Ga=z.Id,100<J.Ga?J.Ga=100:0>J.Ga&&(J.Ga=0)}(function(be,Fe){if(be==null)return 0;if(Fe==null)return pn(be,2,"NULL VP8Io parameter in VP8Decode().");if(!be.cb&&!Qf(be,Fe))return 0;if(t(be.cb),Fe.ac==null||Fe.ac(Fe)){Fe.ob&&(be.L=0);var Me=Xd[be.L];if(be.L==2?(be.yb=0,be.zb=0):(be.yb=Fe.v-Me>>4,be.zb=Fe.j-Me>>4,0>be.yb&&(be.yb=0),0>be.zb&&(be.zb=0)),be.Va=Fe.o+15+Me>>4,be.Hb=Fe.va+15+Me>>4,be.Hb>be.za&&(be.Hb=be.za),be.Va>be.Ub&&(be.Va=be.Ub),0<be.L){var rt=be.ed;for(Me=0;4>Me;++Me){var Ie;if(be.Qa.Cb){var tt=be.Qa.Lb[Me];be.Qa.Fb||(tt+=rt.Tb)}else tt=rt.Tb;for(Ie=0;1>=Ie;++Ie){var it=be.gd[Me][Ie],gt=tt;if(rt.Pc&&(gt+=rt.vd[0],Ie&&(gt+=rt.od[0])),0<(gt=0>gt?0:63<gt?63:gt)){var dt=gt;0<rt.wb&&(dt=4<rt.wb?dt>>2:dt>>1)>9-rt.wb&&(dt=9-rt.wb),1>dt&&(dt=1),it.dd=dt,it.tc=2*gt+dt,it.ld=40<=gt?2:15<=gt?1:0}else it.tc=0;it.La=Ie}}}Me=0}else pn(be,6,"Frame setup failed"),Me=be.a;if(Me=Me==0){if(Me){be.$c=0,0<be.Aa||(be.Ic=v0);t:{Me=be.Ic,rt=4*(dt=be.za);var qt=32*dt,Ft=dt+1,mr=0<be.L?dt*(0<be.Aa?2:1):0,Rt=(be.Aa==2?2:1)*dt;if((it=rt+832+(Ie=3*(16*Me+Xd[be.L])/2*qt)+(tt=be.Fa!=null&&0<be.Fa.length?be.Kc.c*be.Kc.i:0))!=it)Me=0;else{if(it>be.Vb){if(be.Vb=0,be.Ec=s(it),be.Fc=0,be.Ec==null){Me=pn(be,1,"no memory during frame initialization.");break t}be.Vb=it}it=be.Ec,gt=be.Fc,be.Ac=it,be.Bc=gt,gt+=rt,be.Gd=l(qt,Bi),be.Hd=0,be.rb=l(Ft+1,mn),be.sb=1,be.wa=mr?l(mr,Tr):null,be.Y=0,be.D.Nb=0,be.D.wa=be.wa,be.D.Y=be.Y,0<be.Aa&&(be.D.Y+=dt),t(!0),be.oc=it,be.pc=gt,gt+=832,be.ya=l(Rt,Dl),be.aa=0,be.D.ya=be.ya,be.D.aa=be.aa,be.Aa==2&&(be.D.aa+=dt),be.R=16*dt,be.B=8*dt,dt=(qt=Xd[be.L])*be.R,qt=qt/2*be.B,be.sa=it,be.ta=gt+dt,be.qa=be.sa,be.ra=be.ta+16*Me*be.R+qt,be.Ha=be.qa,be.Ia=be.ra+8*Me*be.B+qt,be.$c=0,gt+=Ie,be.mb=tt?it:null,be.nb=tt?gt:null,t(gt+tt<=be.Fc+be.Vb),Qo(be),a(be.Ac,be.Bc,0,rt),Me=1}}if(Me){if(Fe.ka=0,Fe.y=be.sa,Fe.O=be.ta,Fe.f=be.qa,Fe.N=be.ra,Fe.ea=be.Ha,Fe.Vd=be.Ia,Fe.fa=be.R,Fe.Rc=be.B,Fe.F=null,Fe.J=0,!Ih){for(Me=-255;255>=Me;++Me)Du[255+Me]=0>Me?-Me:Me;for(Me=-1020;1020>=Me;++Me)Rh[1020+Me]=-128>Me?-128:127<Me?127:Me;for(Me=-112;112>=Me;++Me)d0[112+Me]=-16>Me?-16:15<Me?15:Me;for(Me=-255;510>=Me;++Me)f0[255+Me]=0>Me?0:255<Me?255:Me;Ih=1}Vi=t0,uc=kh,cl=Jf,en=Js,Hr=e0,Ms=Zf,On=Fh,wa=Dh,wo=I,Ul=Z,Ou=nc,c0=Ph,Ep=_e,s1=ke,i1=Au,l1=tc,Cp=Uc,Tp=ku,la[0]=s0,la[1]=r0,la[2]=Bc,la[3]=Th,la[4]=Oh,la[5]=ps,la[6]=zi,la[7]=i0,la[8]=qi,la[9]=_u,ti[0]=Ll,ti[1]=Ch,ti[2]=n0,ti[3]=a0,ti[4]=Ml,ti[5]=Zo,ti[6]=Nu,zl[0]=Jo,zl[1]=Eh,zl[2]=ju,zl[3]=uo,zl[4]=Md,zl[5]=Ld,zl[6]=rs,Me=1}else Me=0}Me&&(Me=(function(Fr,Bn){for(Fr.M=0;Fr.M<Fr.Va;++Fr.M){var gr,Dt=Fr.Jc[Fr.M&Fr.Xb],St=Fr.m,Yn=Fr;for(gr=0;gr<Yn.za;++gr){var lr=St,wr=Yn,dn=wr.Ac,Ha=wr.Bc+4*gr,_s=wr.zc,Fn=wr.ya[wr.aa+gr];if(wr.Qa.Bb?Fn.$b=ye(lr,wr.Pa.jb[0])?2+ye(lr,wr.Pa.jb[2]):ye(lr,wr.Pa.jb[1]):Fn.$b=0,wr.kc&&(Fn.Ad=ye(lr,wr.Bd)),Fn.Za=!ye(lr,145)+0,Fn.Za){var Ca=Fn.Ob,Bs=0;for(wr=0;4>wr;++wr){var Ta,Er=_s[0+wr];for(Ta=0;4>Ta;++Ta){Er=bs[dn[Ha+Ta]][Er];for(var Kr=Hh[ye(lr,Er[0])];0<Kr;)Kr=Hh[2*Kr+ye(lr,Er[Kr])];Er=-Kr,dn[Ha+Ta]=Er}n(Ca,Bs,dn,Ha,4),Bs+=4,_s[0+wr]=Er}}else Er=ye(lr,156)?ye(lr,128)?1:3:ye(lr,163)?2:0,Fn.Ob[0]=Er,a(dn,Ha,Er,4),a(_s,0,Er,4);Fn.Dd=ye(lr,142)?ye(lr,114)?ye(lr,183)?1:3:2:0}if(Yn.m.Ka)return pn(Fr,7,"Premature end-of-partition0 encountered.");for(;Fr.ja<Fr.za;++Fr.ja){if(Yn=Dt,lr=(St=Fr).rb[St.sb-1],dn=St.rb[St.sb+St.ja],gr=St.ya[St.aa+St.ja],Ha=St.kc?gr.Ad:0)lr.la=dn.la=0,gr.Za||(lr.Na=dn.Na=0),gr.Hc=0,gr.Gc=0,gr.ia=0;else{var Xn,tn;if(lr=dn,dn=Yn,Ha=St.Pa.Xc,_s=St.ya[St.aa+St.ja],Fn=St.pb[_s.$b],wr=_s.ad,Ca=0,Bs=St.rb[St.sb-1],Er=Ta=0,a(wr,Ca,0,384),_s.Za)var Va=0,Qn=Ha[3];else{Kr=s(16);var Gr=lr.Na+Bs.Na;if(Gr=Ki(dn,Ha[1],Gr,Fn.Eb,0,Kr,0),lr.Na=Bs.Na=(0<Gr)+0,1<Gr)Vi(Kr,0,wr,Ca);else{var _a=Kr[0]+3>>3;for(Kr=0;256>Kr;Kr+=16)wr[Ca+Kr]=_a}Va=1,Qn=Ha[0]}var fn=15&lr.la,Oa=15&Bs.la;for(Kr=0;4>Kr;++Kr){var Fa=1&Oa;for(_a=tn=0;4>_a;++_a)fn=fn>>1|(Fa=(Gr=Ki(dn,Qn,Gr=Fa+(1&fn),Fn.Sc,Va,wr,Ca))>Va)<<7,tn=tn<<2|(3<Gr?3:1<Gr?2:wr[Ca+0]!=0),Ca+=16;fn>>=4,Oa=Oa>>1|Fa<<7,Ta=(Ta<<8|tn)>>>0}for(Qn=fn,Va=Oa>>4,Xn=0;4>Xn;Xn+=2){for(tn=0,fn=lr.la>>4+Xn,Oa=Bs.la>>4+Xn,Kr=0;2>Kr;++Kr){for(Fa=1&Oa,_a=0;2>_a;++_a)Gr=Fa+(1&fn),fn=fn>>1|(Fa=0<(Gr=Ki(dn,Ha[2],Gr,Fn.Qc,0,wr,Ca)))<<3,tn=tn<<2|(3<Gr?3:1<Gr?2:wr[Ca+0]!=0),Ca+=16;fn>>=2,Oa=Oa>>1|Fa<<5}Er|=tn<<4*Xn,Qn|=fn<<4<<Xn,Va|=(240&Oa)<<Xn}lr.la=Qn,Bs.la=Va,_s.Hc=Ta,_s.Gc=Er,_s.ia=43690&Er?0:Fn.ia,Ha=!(Ta|Er)}if(0<St.L&&(St.wa[St.Y+St.ja]=St.gd[gr.$b][gr.Za],St.wa[St.Y+St.ja].La|=!Ha),Yn.Ka)return pn(Fr,7,"Premature end-of-file encountered.")}if(Qo(Fr),St=Bn,Yn=1,gr=(Dt=Fr).D,lr=0<Dt.L&&Dt.M>=Dt.zb&&Dt.M<=Dt.Va,Dt.Aa==0)t:{if(gr.M=Dt.M,gr.uc=lr,Hi(Dt,gr),Yn=1,gr=(tn=Dt.D).Nb,lr=(Er=Xd[Dt.L])*Dt.R,dn=Er/2*Dt.B,Kr=16*gr*Dt.R,_a=8*gr*Dt.B,Ha=Dt.sa,_s=Dt.ta-lr+Kr,Fn=Dt.qa,wr=Dt.ra-dn+_a,Ca=Dt.Ha,Bs=Dt.Ia-dn+_a,Oa=(fn=tn.M)==0,Ta=fn>=Dt.Va-1,Dt.Aa==2&&Hi(Dt,tn),tn.uc)for(Fa=(Gr=Dt).D.M,t(Gr.D.uc),tn=Gr.yb;tn<Gr.Hb;++tn){Va=tn,Qn=Fa;var vn=(Vr=(Da=Gr).D).Nb;Xn=Da.R;var Vr=Vr.wa[Vr.Y+Va],Us=Da.sa,oa=Da.ta+16*vn*Xn+16*Va,er=Vr.dd,rr=Vr.tc;if(rr!=0)if(t(3<=rr),Da.L==1)0<Va&&l1(Us,oa,Xn,rr+4),Vr.La&&Tp(Us,oa,Xn,rr),0<Qn&&i1(Us,oa,Xn,rr+4),Vr.La&&Cp(Us,oa,Xn,rr);else{var Yr=Da.B,vi=Da.qa,vl=Da.ra+8*vn*Yr+8*Va,ri=Da.Ha,Da=Da.Ia+8*vn*Yr+8*Va;vn=Vr.ld,0<Va&&(wa(Us,oa,Xn,rr+4,er,vn),Ul(vi,vl,ri,Da,Yr,rr+4,er,vn)),Vr.La&&(c0(Us,oa,Xn,rr,er,vn),s1(vi,vl,ri,Da,Yr,rr,er,vn)),0<Qn&&(On(Us,oa,Xn,rr+4,er,vn),wo(vi,vl,ri,Da,Yr,rr+4,er,vn)),Vr.La&&(Ou(Us,oa,Xn,rr,er,vn),Ep(vi,vl,ri,Da,Yr,rr,er,vn))}}if(Dt.ia&&alert("todo:DitherRow"),St.put!=null){if(tn=16*fn,fn=16*(fn+1),Oa?(St.y=Dt.sa,St.O=Dt.ta+Kr,St.f=Dt.qa,St.N=Dt.ra+_a,St.ea=Dt.Ha,St.W=Dt.Ia+_a):(tn-=Er,St.y=Ha,St.O=_s,St.f=Fn,St.N=wr,St.ea=Ca,St.W=Bs),Ta||(fn-=Er),fn>St.o&&(fn=St.o),St.F=null,St.J=null,Dt.Fa!=null&&0<Dt.Fa.length&&tn<fn&&(St.J=ya(Dt,St,tn,fn-tn),St.F=Dt.mb,St.F==null&&St.F.length==0)){Yn=pn(Dt,3,"Could not decode alpha data.");break t}tn<St.j&&(Er=St.j-tn,tn=St.j,t(!(1&Er)),St.O+=Dt.R*Er,St.N+=Dt.B*(Er>>1),St.W+=Dt.B*(Er>>1),St.F!=null&&(St.J+=St.width*Er)),tn<fn&&(St.O+=St.v,St.N+=St.v>>1,St.W+=St.v>>1,St.F!=null&&(St.J+=St.v),St.ka=tn-St.j,St.U=St.va-St.v,St.T=fn-tn,Yn=St.put(St))}gr+1!=Dt.Ic||Ta||(n(Dt.sa,Dt.ta-lr,Ha,_s+16*Dt.R,lr),n(Dt.qa,Dt.ra-dn,Fn,wr+8*Dt.B,dn),n(Dt.Ha,Dt.Ia-dn,Ca,Bs+8*Dt.B,dn))}if(!Yn)return pn(Fr,6,"Output aborted.")}return 1})(be,Fe)),Fe.bc!=null&&Fe.bc(Fe),Me&=1}return Me?(be.cb=0,Me):0})(_,W)||(A=_.a)}}else A=_.a}A==0&&le.Oa!=null&&le.Oa.fd&&(A=o0(le.ba))}le=A}se=le!=0?null:11>se?fe.f.RGBA.eb:fe.f.kb.y}else se=null;return se};var Gh=[3,4,3,4,4,2,2,4,4,4,2,1,1]};function d(B,H){for(var L="",U=0;U<4;U++)L+=String.fromCharCode(B[H++]);return L}function h(B,H){return B[H+0]|B[H+1]<<8}function m(B,H){return(B[H+0]|B[H+1]<<8|B[H+2]<<16)>>>0}function g(B,H){return(B[H+0]|B[H+1]<<8|B[H+2]<<16|B[H+3]<<24)>>>0}new u;var x=[0],b=[0],v=[],w=new u,N=e,E=(function(B,H){var L={},U=0,V=!1,Y=0,de=0;if(L.frames=[],!(function(M,R){for(var q=0;q<4;q++)if(M[R+q]!="RIFF".charCodeAt(q))return!0;return!1})(B,H)){for(g(B,H+=4),H+=8;H<B.length;){var te=d(B,H),ie=g(B,H+=4);H+=4;var ge=ie+(1&ie);switch(te){case"VP8 ":case"VP8L":L.frames[U]===void 0&&(L.frames[U]={}),(ne=L.frames[U]).src_off=V?de:H-8,ne.src_size=Y+ie+8,U++,V&&(V=!1,Y=0,de=0);break;case"VP8X":(ne=L.header={}).feature_flags=B[H];var oe=H+4;ne.canvas_width=1+m(B,oe),oe+=3,ne.canvas_height=1+m(B,oe),oe+=3;break;case"ALPH":V=!0,Y=ge+8,de=H-8;break;case"ANIM":(ne=L.header).bgcolor=g(B,H),oe=H+4,ne.loop_count=h(B,oe),oe+=2;break;case"ANMF":var Se,ne;(ne=L.frames[U]={}).offset_x=2*m(B,H),H+=3,ne.offset_y=2*m(B,H),H+=3,ne.width=1+m(B,H),H+=3,ne.height=1+m(B,H),H+=3,ne.duration=m(B,H),H+=3,Se=B[H++],ne.dispose=1&Se,ne.blend=Se>>1&1}te!="ANMF"&&(H+=ge)}return L}})(N,0);E.response=N,E.rgbaoutput=!0,E.dataurl=!1;var j=E.header?E.header:null,T=E.frames?E.frames:null;if(j){j.loop_counter=j.loop_count,x=[j.canvas_height],b=[j.canvas_width];for(var O=0;O<T.length&&T[O].blend!=0;O++);}var D=T[0],C=w.WebPDecodeRGBA(N,D.src_off,D.src_size,b,x);D.rgba=C,D.imgwidth=b[0],D.imgheight=x[0];for(var P=0;P<b[0]*x[0]*4;P++)v[P]=C[P];return this.width=b,this.height=x,this.data=v,this}(function(e){var t,r,n,a,s,l,o,u,d,h=function(M){return M=M||{},this.isStrokeTransparent=M.isStrokeTransparent||!1,this.strokeOpacity=M.strokeOpacity||1,this.strokeStyle=M.strokeStyle||"#000000",this.fillStyle=M.fillStyle||"#000000",this.isFillTransparent=M.isFillTransparent||!1,this.fillOpacity=M.fillOpacity||1,this.font=M.font||"10px sans-serif",this.textBaseline=M.textBaseline||"alphabetic",this.textAlign=M.textAlign||"left",this.lineWidth=M.lineWidth||1,this.lineJoin=M.lineJoin||"miter",this.lineCap=M.lineCap||"butt",this.path=M.path||[],this.transform=M.transform!==void 0?M.transform.clone():new u,this.globalCompositeOperation=M.globalCompositeOperation||"normal",this.globalAlpha=M.globalAlpha||1,this.clip_path=M.clip_path||[],this.currentPoint=M.currentPoint||new l,this.miterLimit=M.miterLimit||10,this.lastPoint=M.lastPoint||new l,this.lineDashOffset=M.lineDashOffset||0,this.lineDash=M.lineDash||[],this.margin=M.margin||[0,0,0,0],this.prevPageLastElemOffset=M.prevPageLastElemOffset||0,this.ignoreClearRect=typeof M.ignoreClearRect!="boolean"||M.ignoreClearRect,this};e.events.push(["initialized",function(){this.context2d=new m(this),t=this.internal.f2,r=this.internal.getCoordinateString,n=this.internal.getVerticalCoordinateString,a=this.internal.getHorizontalCoordinate,s=this.internal.getVerticalCoordinate,l=this.internal.Point,o=this.internal.Rectangle,u=this.internal.Matrix,d=new h}]);var m=function(M){Object.defineProperty(this,"canvas",{get:function(){return{parentNode:!1,style:!1}}});var R=M;Object.defineProperty(this,"pdf",{get:function(){return R}});var q=!1;Object.defineProperty(this,"pageWrapXEnabled",{get:function(){return q},set:function(Ce){q=!!Ce}});var K=!1;Object.defineProperty(this,"pageWrapYEnabled",{get:function(){return K},set:function(Ce){K=!!Ce}});var ee=0;Object.defineProperty(this,"posX",{get:function(){return ee},set:function(Ce){isNaN(Ce)||(ee=Ce)}});var ce=0;Object.defineProperty(this,"posY",{get:function(){return ce},set:function(Ce){isNaN(Ce)||(ce=Ce)}}),Object.defineProperty(this,"margin",{get:function(){return d.margin},set:function(Ce){var xe;typeof Ce=="number"?xe=[Ce,Ce,Ce,Ce]:((xe=new Array(4))[0]=Ce[0],xe[1]=Ce.length>=2?Ce[1]:xe[0],xe[2]=Ce.length>=3?Ce[2]:xe[0],xe[3]=Ce.length>=4?Ce[3]:xe[1]),d.margin=xe}});var Q=!1;Object.defineProperty(this,"autoPaging",{get:function(){return Q},set:function(Ce){Q=Ce}});var re=0;Object.defineProperty(this,"lastBreak",{get:function(){return re},set:function(Ce){re=Ce}});var ye=[];Object.defineProperty(this,"pageBreaks",{get:function(){return ye},set:function(Ce){ye=Ce}}),Object.defineProperty(this,"ctx",{get:function(){return d},set:function(Ce){Ce instanceof h&&(d=Ce)}}),Object.defineProperty(this,"path",{get:function(){return d.path},set:function(Ce){d.path=Ce}});var Ee=[];Object.defineProperty(this,"ctxStack",{get:function(){return Ee},set:function(Ce){Ee=Ce}}),Object.defineProperty(this,"fillStyle",{get:function(){return this.ctx.fillStyle},set:function(Ce){var xe;xe=g(Ce),this.ctx.fillStyle=xe.style,this.ctx.isFillTransparent=xe.a===0,this.ctx.fillOpacity=xe.a,this.pdf.setFillColor(xe.r,xe.g,xe.b,{a:xe.a}),this.pdf.setTextColor(xe.r,xe.g,xe.b,{a:xe.a})}}),Object.defineProperty(this,"strokeStyle",{get:function(){return this.ctx.strokeStyle},set:function(Ce){var xe=g(Ce);this.ctx.strokeStyle=xe.style,this.ctx.isStrokeTransparent=xe.a===0,this.ctx.strokeOpacity=xe.a,xe.a===0?this.pdf.setDrawColor(255,255,255):(xe.a,this.pdf.setDrawColor(xe.r,xe.g,xe.b))}}),Object.defineProperty(this,"lineCap",{get:function(){return this.ctx.lineCap},set:function(Ce){["butt","round","square"].indexOf(Ce)!==-1&&(this.ctx.lineCap=Ce,this.pdf.setLineCap(Ce))}}),Object.defineProperty(this,"lineWidth",{get:function(){return this.ctx.lineWidth},set:function(Ce){isNaN(Ce)||(this.ctx.lineWidth=Ce,this.pdf.setLineWidth(Ce))}}),Object.defineProperty(this,"lineJoin",{get:function(){return this.ctx.lineJoin},set:function(Ce){["bevel","round","miter"].indexOf(Ce)!==-1&&(this.ctx.lineJoin=Ce,this.pdf.setLineJoin(Ce))}}),Object.defineProperty(this,"miterLimit",{get:function(){return this.ctx.miterLimit},set:function(Ce){isNaN(Ce)||(this.ctx.miterLimit=Ce,this.pdf.setMiterLimit(Ce))}}),Object.defineProperty(this,"textBaseline",{get:function(){return this.ctx.textBaseline},set:function(Ce){this.ctx.textBaseline=Ce}}),Object.defineProperty(this,"textAlign",{get:function(){return this.ctx.textAlign},set:function(Ce){["right","end","center","left","start"].indexOf(Ce)!==-1&&(this.ctx.textAlign=Ce)}});var X=null,Je=null;Object.defineProperty(this,"fontFaces",{get:function(){return Je},set:function(Ce){X=null,Je=Ce}}),Object.defineProperty(this,"font",{get:function(){return this.ctx.font},set:function(Ce){var xe;if(this.ctx.font=Ce,(xe=/^\s*(?=(?:(?:[-a-z]+\s*){0,2}(italic|oblique))?)(?=(?:(?:[-a-z]+\s*){0,2}(small-caps))?)(?=(?:(?:[-a-z]+\s*){0,2}(bold(?:er)?|lighter|[1-9]00))?)(?:(?:normal|\1|\2|\3)\s*){0,3}((?:xx?-)?(?:small|large)|medium|smaller|larger|[.\d]+(?:\%|in|[cem]m|ex|p[ctx]))(?:\s*\/\s*(normal|[.\d]+(?:\%|in|[cem]m|ex|p[ctx])))?\s*([-_,\"\'\sa-z]+?)\s*$/i.exec(Ce))!==null){var xt=xe[1];xe[2];var et=xe[3],Le=xe[4];xe[5];var Be=xe[6],ct=/^([.\d]+)((?:%|in|[cem]m|ex|p[ctx]))$/i.exec(Le)[2];Le=Math.floor(ct==="px"?parseFloat(Le)*this.pdf.internal.scaleFactor:ct==="em"?parseFloat(Le)*this.pdf.getFontSize():parseFloat(Le)*this.pdf.internal.scaleFactor),this.pdf.setFontSize(Le);var lt=(function(wt){var Ct,_r,Zt=[],kt=wt.trim();if(kt==="")return $N;if(kt in Z7)return[Z7[kt]];for(;kt!=="";){switch(_r=null,Ct=(kt=eF(kt)).charAt(0)){case'"':case"'":_r=C4e(kt.substring(1),Ct);break;default:_r=T4e(kt)}if(_r===null||(Zt.push(_r[0]),(kt=eF(_r[1]))!==""&&kt.charAt(0)!==","))return $N;kt=kt.replace(/^,/,"")}return Zt})(Be);if(this.fontFaces){var Ye=(function(wt,Ct){if(X===null){var _r=(function(Zt){var kt=[];return Object.keys(Zt).forEach(function(tr){Zt[tr].forEach(function(br){var sr=null;switch(br){case"bold":sr={family:tr,weight:"bold"};break;case"italic":sr={family:tr,style:"italic"};break;case"bolditalic":sr={family:tr,weight:"bold",style:"italic"};break;case"":case"normal":sr={family:tr}}sr!==null&&(sr.ref={name:tr,style:br},kt.push(sr))})}),kt})(wt.getFontList());X=(function(Zt){for(var kt={},tr=0;tr<Zt.length;++tr){var br=qN(Zt[tr]),sr=br.family,kr=br.stretch,fr=br.style,gn=br.weight;kt[sr]=kt[sr]||{},kt[sr][kr]=kt[sr][kr]||{},kt[sr][kr][fr]=kt[sr][kr][fr]||{},kt[sr][kr][fr][gn]=br}return kt})(_r.concat(Ct))}return X})(this.pdf,this.fontFaces),ft=lt.map(function(wt){return{family:wt,stretch:"normal",weight:et,style:xt}}),Et=(function(wt,Ct,_r){for(var Zt=(_r=_r||{}).defaultFontFamily||"times",kt=Object.assign({},E4e,_r.genericFontFamilies||{}),tr=null,br=null,sr=0;sr<Ct.length;++sr)if(kt[(tr=qN(Ct[sr])).family]&&(tr.family=kt[tr.family]),wt.hasOwnProperty(tr.family)){br=wt[tr.family];break}if(!(br=br||wt[Zt]))throw new Error("Could not find a font-family for the rule '"+J7(tr)+"' and default family '"+Zt+"'.");if(br=(function(kr,fr){if(fr[kr])return fr[kr];var gn=T_[kr],Hn=gn<=T_.normal?-1:1,Wr=Q7(fr,cU,gn,Hn);if(!Wr)throw new Error("Could not find a matching font-stretch value for "+kr);return Wr})(tr.stretch,br),br=(function(kr,fr){if(fr[kr])return fr[kr];for(var gn=oU[kr],Hn=0;Hn<gn.length;++Hn)if(fr[gn[Hn]])return fr[gn[Hn]];throw new Error("Could not find a matching font-style for "+kr)})(tr.style,br),!(br=(function(kr,fr){if(fr[kr])return fr[kr];if(kr===400&&fr[500])return fr[500];if(kr===500&&fr[400])return fr[400];var gn=k4e[kr],Hn=Q7(fr,uU,gn,kr<400?-1:1);if(!Hn)throw new Error("Could not find a matching font-weight for value "+kr);return Hn})(tr.weight,br)))throw new Error("Failed to resolve a font for the rule '"+J7(tr)+"'.");return br})(Ye,ft);this.pdf.setFont(Et.ref.name,Et.ref.style)}else{var zt="";(et==="bold"||parseInt(et,10)>=700||xt==="bold")&&(zt="bold"),xt==="italic"&&(zt+="italic"),zt.length===0&&(zt="normal");for(var Kt="",Ar={arial:"Helvetica",Arial:"Helvetica",verdana:"Helvetica",Verdana:"Helvetica",helvetica:"Helvetica",Helvetica:"Helvetica","sans-serif":"Helvetica",fixed:"Courier",monospace:"Courier",terminal:"Courier",cursive:"Times",fantasy:"Times",serif:"Times"},Mt=0;Mt<lt.length;Mt++){if(this.pdf.internal.getFont(lt[Mt],zt,{noFallback:!0,disableWarning:!0})!==void 0){Kt=lt[Mt];break}if(zt==="bolditalic"&&this.pdf.internal.getFont(lt[Mt],"bold",{noFallback:!0,disableWarning:!0})!==void 0)Kt=lt[Mt],zt="bold";else if(this.pdf.internal.getFont(lt[Mt],"normal",{noFallback:!0,disableWarning:!0})!==void 0){Kt=lt[Mt],zt="normal";break}}if(Kt===""){for(var Pt=0;Pt<lt.length;Pt++)if(Ar[lt[Pt]]){Kt=Ar[lt[Pt]];break}}Kt=Kt===""?"Times":Kt,this.pdf.setFont(Kt,zt)}}}}),Object.defineProperty(this,"globalCompositeOperation",{get:function(){return this.ctx.globalCompositeOperation},set:function(Ce){this.ctx.globalCompositeOperation=Ce}}),Object.defineProperty(this,"globalAlpha",{get:function(){return this.ctx.globalAlpha},set:function(Ce){this.ctx.globalAlpha=Ce}}),Object.defineProperty(this,"lineDashOffset",{get:function(){return this.ctx.lineDashOffset},set:function(Ce){this.ctx.lineDashOffset=Ce,ne.call(this)}}),Object.defineProperty(this,"lineDash",{get:function(){return this.ctx.lineDash},set:function(Ce){this.ctx.lineDash=Ce,ne.call(this)}}),Object.defineProperty(this,"ignoreClearRect",{get:function(){return this.ctx.ignoreClearRect},set:function(Ce){this.ctx.ignoreClearRect=!!Ce}})};m.prototype.setLineDash=function(M){this.lineDash=M},m.prototype.getLineDash=function(){return this.lineDash.length%2?this.lineDash.concat(this.lineDash):this.lineDash.slice()},m.prototype.fill=function(){T.call(this,"fill",!1)},m.prototype.stroke=function(){T.call(this,"stroke",!1)},m.prototype.beginPath=function(){this.path=[{type:"begin"}]},m.prototype.moveTo=function(M,R){if(isNaN(M)||isNaN(R))throw zn.error("jsPDF.context2d.moveTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.moveTo");var q=this.ctx.transform.applyToPoint(new l(M,R));this.path.push({type:"mt",x:q.x,y:q.y}),this.ctx.lastPoint=new l(M,R)},m.prototype.closePath=function(){var M=new l(0,0),R=0;for(R=this.path.length-1;R!==-1;R--)if(this.path[R].type==="begin"&&jn(this.path[R+1])==="object"&&typeof this.path[R+1].x=="number"){M=new l(this.path[R+1].x,this.path[R+1].y);break}this.path.push({type:"close"}),this.ctx.lastPoint=new l(M.x,M.y)},m.prototype.lineTo=function(M,R){if(isNaN(M)||isNaN(R))throw zn.error("jsPDF.context2d.lineTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.lineTo");var q=this.ctx.transform.applyToPoint(new l(M,R));this.path.push({type:"lt",x:q.x,y:q.y}),this.ctx.lastPoint=new l(q.x,q.y)},m.prototype.clip=function(){this.ctx.clip_path=JSON.parse(JSON.stringify(this.path)),T.call(this,null,!0)},m.prototype.quadraticCurveTo=function(M,R,q,K){if(isNaN(q)||isNaN(K)||isNaN(M)||isNaN(R))throw zn.error("jsPDF.context2d.quadraticCurveTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.quadraticCurveTo");var ee=this.ctx.transform.applyToPoint(new l(q,K)),ce=this.ctx.transform.applyToPoint(new l(M,R));this.path.push({type:"qct",x1:ce.x,y1:ce.y,x:ee.x,y:ee.y}),this.ctx.lastPoint=new l(ee.x,ee.y)},m.prototype.bezierCurveTo=function(M,R,q,K,ee,ce){if(isNaN(ee)||isNaN(ce)||isNaN(M)||isNaN(R)||isNaN(q)||isNaN(K))throw zn.error("jsPDF.context2d.bezierCurveTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.bezierCurveTo");var Q=this.ctx.transform.applyToPoint(new l(ee,ce)),re=this.ctx.transform.applyToPoint(new l(M,R)),ye=this.ctx.transform.applyToPoint(new l(q,K));this.path.push({type:"bct",x1:re.x,y1:re.y,x2:ye.x,y2:ye.y,x:Q.x,y:Q.y}),this.ctx.lastPoint=new l(Q.x,Q.y)},m.prototype.arc=function(M,R,q,K,ee,ce){if(isNaN(M)||isNaN(R)||isNaN(q)||isNaN(K)||isNaN(ee))throw zn.error("jsPDF.context2d.arc: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.arc");if(ce=!!ce,!this.ctx.transform.isIdentity){var Q=this.ctx.transform.applyToPoint(new l(M,R));M=Q.x,R=Q.y;var re=this.ctx.transform.applyToPoint(new l(0,q)),ye=this.ctx.transform.applyToPoint(new l(0,0));q=Math.sqrt(Math.pow(re.x-ye.x,2)+Math.pow(re.y-ye.y,2))}Math.abs(ee-K)>=2*Math.PI&&(K=0,ee=2*Math.PI),this.path.push({type:"arc",x:M,y:R,radius:q,startAngle:K,endAngle:ee,counterclockwise:ce})},m.prototype.arcTo=function(M,R,q,K,ee){throw new Error("arcTo not implemented.")},m.prototype.rect=function(M,R,q,K){if(isNaN(M)||isNaN(R)||isNaN(q)||isNaN(K))throw zn.error("jsPDF.context2d.rect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.rect");this.moveTo(M,R),this.lineTo(M+q,R),this.lineTo(M+q,R+K),this.lineTo(M,R+K),this.lineTo(M,R),this.lineTo(M+q,R),this.lineTo(M,R)},m.prototype.fillRect=function(M,R,q,K){if(isNaN(M)||isNaN(R)||isNaN(q)||isNaN(K))throw zn.error("jsPDF.context2d.fillRect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.fillRect");if(!x.call(this)){var ee={};this.lineCap!=="butt"&&(ee.lineCap=this.lineCap,this.lineCap="butt"),this.lineJoin!=="miter"&&(ee.lineJoin=this.lineJoin,this.lineJoin="miter"),this.beginPath(),this.rect(M,R,q,K),this.fill(),ee.hasOwnProperty("lineCap")&&(this.lineCap=ee.lineCap),ee.hasOwnProperty("lineJoin")&&(this.lineJoin=ee.lineJoin)}},m.prototype.strokeRect=function(M,R,q,K){if(isNaN(M)||isNaN(R)||isNaN(q)||isNaN(K))throw zn.error("jsPDF.context2d.strokeRect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.strokeRect");b.call(this)||(this.beginPath(),this.rect(M,R,q,K),this.stroke())},m.prototype.clearRect=function(M,R,q,K){if(isNaN(M)||isNaN(R)||isNaN(q)||isNaN(K))throw zn.error("jsPDF.context2d.clearRect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.clearRect");this.ignoreClearRect||(this.fillStyle="#ffffff",this.fillRect(M,R,q,K))},m.prototype.save=function(M){M=typeof M!="boolean"||M;for(var R=this.pdf.internal.getCurrentPageInfo().pageNumber,q=0;q<this.pdf.internal.getNumberOfPages();q++)this.pdf.setPage(q+1),this.pdf.internal.out("q");if(this.pdf.setPage(R),M){this.ctx.fontSize=this.pdf.internal.getFontSize();var K=new h(this.ctx);this.ctxStack.push(this.ctx),this.ctx=K}},m.prototype.restore=function(M){M=typeof M!="boolean"||M;for(var R=this.pdf.internal.getCurrentPageInfo().pageNumber,q=0;q<this.pdf.internal.getNumberOfPages();q++)this.pdf.setPage(q+1),this.pdf.internal.out("Q");this.pdf.setPage(R),M&&this.ctxStack.length!==0&&(this.ctx=this.ctxStack.pop(),this.fillStyle=this.ctx.fillStyle,this.strokeStyle=this.ctx.strokeStyle,this.font=this.ctx.font,this.lineCap=this.ctx.lineCap,this.lineWidth=this.ctx.lineWidth,this.lineJoin=this.ctx.lineJoin,this.lineDash=this.ctx.lineDash,this.lineDashOffset=this.ctx.lineDashOffset)},m.prototype.toDataURL=function(){throw new Error("toDataUrl not implemented.")};var g=function(M){var R,q,K,ee;if(M.isCanvasGradient===!0&&(M=M.getColor()),!M)return{r:0,g:0,b:0,a:0,style:M};if(/transparent|rgba\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*,\s*0+\s*\)/.test(M))R=0,q=0,K=0,ee=0;else{var ce=/rgb\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*\)/.exec(M);if(ce!==null)R=parseInt(ce[1]),q=parseInt(ce[2]),K=parseInt(ce[3]),ee=1;else if((ce=/rgba\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*,\s*([\d.]+)\s*\)/.exec(M))!==null)R=parseInt(ce[1]),q=parseInt(ce[2]),K=parseInt(ce[3]),ee=parseFloat(ce[4]);else{if(ee=1,typeof M=="string"&&M.charAt(0)!=="#"){var Q=new tU(M);M=Q.ok?Q.toHex():"#000000"}M.length===4?(R=M.substring(1,2),R+=R,q=M.substring(2,3),q+=q,K=M.substring(3,4),K+=K):(R=M.substring(1,3),q=M.substring(3,5),K=M.substring(5,7)),R=parseInt(R,16),q=parseInt(q,16),K=parseInt(K,16)}}return{r:R,g:q,b:K,a:ee,style:M}},x=function(){return this.ctx.isFillTransparent||this.globalAlpha==0},b=function(){return!!(this.ctx.isStrokeTransparent||this.globalAlpha==0)};m.prototype.fillText=function(M,R,q,K){if(isNaN(R)||isNaN(q)||typeof M!="string")throw zn.error("jsPDF.context2d.fillText: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.fillText");if(K=isNaN(K)?void 0:K,!x.call(this)){var ee=ge(this.ctx.transform.rotation),ce=this.ctx.transform.scaleX;U.call(this,{text:M,x:R,y:q,scale:ce,angle:ee,align:this.textAlign,maxWidth:K})}},m.prototype.strokeText=function(M,R,q,K){if(isNaN(R)||isNaN(q)||typeof M!="string")throw zn.error("jsPDF.context2d.strokeText: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.strokeText");if(!b.call(this)){K=isNaN(K)?void 0:K;var ee=ge(this.ctx.transform.rotation),ce=this.ctx.transform.scaleX;U.call(this,{text:M,x:R,y:q,scale:ce,renderingMode:"stroke",angle:ee,align:this.textAlign,maxWidth:K})}},m.prototype.measureText=function(M){if(typeof M!="string")throw zn.error("jsPDF.context2d.measureText: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.measureText");var R=this.pdf,q=this.pdf.internal.scaleFactor,K=R.internal.getFontSize(),ee=R.getStringUnitWidth(M)*K/R.internal.scaleFactor;return new function(ce){var Q=(ce=ce||{}).width||0;return Object.defineProperty(this,"width",{get:function(){return Q}}),this}({width:ee*=Math.round(96*q/72*1e4)/1e4})},m.prototype.scale=function(M,R){if(isNaN(M)||isNaN(R))throw zn.error("jsPDF.context2d.scale: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.scale");var q=new u(M,0,0,R,0,0);this.ctx.transform=this.ctx.transform.multiply(q)},m.prototype.rotate=function(M){if(isNaN(M))throw zn.error("jsPDF.context2d.rotate: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.rotate");var R=new u(Math.cos(M),Math.sin(M),-Math.sin(M),Math.cos(M),0,0);this.ctx.transform=this.ctx.transform.multiply(R)},m.prototype.translate=function(M,R){if(isNaN(M)||isNaN(R))throw zn.error("jsPDF.context2d.translate: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.translate");var q=new u(1,0,0,1,M,R);this.ctx.transform=this.ctx.transform.multiply(q)},m.prototype.transform=function(M,R,q,K,ee,ce){if(isNaN(M)||isNaN(R)||isNaN(q)||isNaN(K)||isNaN(ee)||isNaN(ce))throw zn.error("jsPDF.context2d.transform: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.transform");var Q=new u(M,R,q,K,ee,ce);this.ctx.transform=this.ctx.transform.multiply(Q)},m.prototype.setTransform=function(M,R,q,K,ee,ce){M=isNaN(M)?1:M,R=isNaN(R)?0:R,q=isNaN(q)?0:q,K=isNaN(K)?1:K,ee=isNaN(ee)?0:ee,ce=isNaN(ce)?0:ce,this.ctx.transform=new u(M,R,q,K,ee,ce)};var v=function(){return this.margin[0]>0||this.margin[1]>0||this.margin[2]>0||this.margin[3]>0};m.prototype.drawImage=function(M,R,q,K,ee,ce,Q,re,ye){var Ee=this.pdf.getImageProperties(M),X=1,Je=1,Ce=1,xe=1;K!==void 0&&re!==void 0&&(Ce=re/K,xe=ye/ee,X=Ee.width/K*re/K,Je=Ee.height/ee*ye/ee),ce===void 0&&(ce=R,Q=q,R=0,q=0),K!==void 0&&re===void 0&&(re=K,ye=ee),K===void 0&&re===void 0&&(re=Ee.width,ye=Ee.height);for(var xt,et=this.ctx.transform.decompose(),Le=ge(et.rotate.shx),Be=new u,ct=(Be=(Be=(Be=Be.multiply(et.translate)).multiply(et.skew)).multiply(et.scale)).applyToRectangle(new o(ce-R*Ce,Q-q*xe,K*X,ee*Je)),lt=w.call(this,ct),Ye=[],ft=0;ft<lt.length;ft+=1)Ye.indexOf(lt[ft])===-1&&Ye.push(lt[ft]);if(j(Ye),this.autoPaging)for(var Et=Ye[0],zt=Ye[Ye.length-1],Kt=Et;Kt<zt+1;Kt++){this.pdf.setPage(Kt);var Ar=this.pdf.internal.pageSize.width-this.margin[3]-this.margin[1],Mt=Kt===1?this.posY+this.margin[0]:this.margin[0],Pt=this.pdf.internal.pageSize.height-this.posY-this.margin[0]-this.margin[2],wt=this.pdf.internal.pageSize.height-this.margin[0]-this.margin[2],Ct=Kt===1?0:Pt+(Kt-2)*wt;if(this.ctx.clip_path.length!==0){var _r=this.path;xt=JSON.parse(JSON.stringify(this.ctx.clip_path)),this.path=E(xt,this.posX+this.margin[3],-Ct+Mt+this.ctx.prevPageLastElemOffset),O.call(this,"fill",!0),this.path=_r}var Zt=JSON.parse(JSON.stringify(ct));Zt=E([Zt],this.posX+this.margin[3],-Ct+Mt+this.ctx.prevPageLastElemOffset)[0];var kt=(Kt>Et||Kt<zt)&&v.call(this);kt&&(this.pdf.saveGraphicsState(),this.pdf.rect(this.margin[3],this.margin[0],Ar,wt,null).clip().discardPath()),this.pdf.addImage(M,"JPEG",Zt.x,Zt.y,Zt.w,Zt.h,null,null,Le),kt&&this.pdf.restoreGraphicsState()}else this.pdf.addImage(M,"JPEG",ct.x,ct.y,ct.w,ct.h,null,null,Le)};var w=function(M,R,q){var K=[];R=R||this.pdf.internal.pageSize.width,q=q||this.pdf.internal.pageSize.height-this.margin[0]-this.margin[2];var ee=this.posY+this.ctx.prevPageLastElemOffset;switch(M.type){default:case"mt":case"lt":K.push(Math.floor((M.y+ee)/q)+1);break;case"arc":K.push(Math.floor((M.y+ee-M.radius)/q)+1),K.push(Math.floor((M.y+ee+M.radius)/q)+1);break;case"qct":var ce=oe(this.ctx.lastPoint.x,this.ctx.lastPoint.y,M.x1,M.y1,M.x,M.y);K.push(Math.floor((ce.y+ee)/q)+1),K.push(Math.floor((ce.y+ce.h+ee)/q)+1);break;case"bct":var Q=Se(this.ctx.lastPoint.x,this.ctx.lastPoint.y,M.x1,M.y1,M.x2,M.y2,M.x,M.y);K.push(Math.floor((Q.y+ee)/q)+1),K.push(Math.floor((Q.y+Q.h+ee)/q)+1);break;case"rect":K.push(Math.floor((M.y+ee)/q)+1),K.push(Math.floor((M.y+M.h+ee)/q)+1)}for(var re=0;re<K.length;re+=1)for(;this.pdf.internal.getNumberOfPages()<K[re];)N.call(this);return K},N=function(){var M=this.fillStyle,R=this.strokeStyle,q=this.font,K=this.lineCap,ee=this.lineWidth,ce=this.lineJoin;this.pdf.addPage(),this.fillStyle=M,this.strokeStyle=R,this.font=q,this.lineCap=K,this.lineWidth=ee,this.lineJoin=ce},E=function(M,R,q){for(var K=0;K<M.length;K++)switch(M[K].type){case"bct":M[K].x2+=R,M[K].y2+=q;case"qct":M[K].x1+=R,M[K].y1+=q;default:M[K].x+=R,M[K].y+=q}return M},j=function(M){return M.sort(function(R,q){return R-q})},T=function(M,R){for(var q,K,ee=this.fillStyle,ce=this.strokeStyle,Q=this.lineCap,re=this.lineWidth,ye=Math.abs(re*this.ctx.transform.scaleX),Ee=this.lineJoin,X=JSON.parse(JSON.stringify(this.path)),Je=JSON.parse(JSON.stringify(this.path)),Ce=[],xe=0;xe<Je.length;xe++)if(Je[xe].x!==void 0)for(var xt=w.call(this,Je[xe]),et=0;et<xt.length;et+=1)Ce.indexOf(xt[et])===-1&&Ce.push(xt[et]);for(var Le=0;Le<Ce.length;Le++)for(;this.pdf.internal.getNumberOfPages()<Ce[Le];)N.call(this);if(j(Ce),this.autoPaging)for(var Be=Ce[0],ct=Ce[Ce.length-1],lt=Be;lt<ct+1;lt++){this.pdf.setPage(lt),this.fillStyle=ee,this.strokeStyle=ce,this.lineCap=Q,this.lineWidth=ye,this.lineJoin=Ee;var Ye=this.pdf.internal.pageSize.width-this.margin[3]-this.margin[1],ft=lt===1?this.posY+this.margin[0]:this.margin[0],Et=this.pdf.internal.pageSize.height-this.posY-this.margin[0]-this.margin[2],zt=this.pdf.internal.pageSize.height-this.margin[0]-this.margin[2],Kt=lt===1?0:Et+(lt-2)*zt;if(this.ctx.clip_path.length!==0){var Ar=this.path;q=JSON.parse(JSON.stringify(this.ctx.clip_path)),this.path=E(q,this.posX+this.margin[3],-Kt+ft+this.ctx.prevPageLastElemOffset),O.call(this,M,!0),this.path=Ar}if(K=JSON.parse(JSON.stringify(X)),this.path=E(K,this.posX+this.margin[3],-Kt+ft+this.ctx.prevPageLastElemOffset),R===!1||lt===0){var Mt=(lt>Be||lt<ct)&&v.call(this);Mt&&(this.pdf.saveGraphicsState(),this.pdf.rect(this.margin[3],this.margin[0],Ye,zt,null).clip().discardPath()),O.call(this,M,R),Mt&&this.pdf.restoreGraphicsState()}this.lineWidth=re}else this.lineWidth=ye,O.call(this,M,R),this.lineWidth=re;this.path=X},O=function(M,R){if((M!=="stroke"||R||!b.call(this))&&(M==="stroke"||R||!x.call(this))){for(var q,K,ee=[],ce=this.path,Q=0;Q<ce.length;Q++){var re=ce[Q];switch(re.type){case"begin":ee.push({begin:!0});break;case"close":ee.push({close:!0});break;case"mt":ee.push({start:re,deltas:[],abs:[]});break;case"lt":var ye=ee.length;if(ce[Q-1]&&!isNaN(ce[Q-1].x)&&(q=[re.x-ce[Q-1].x,re.y-ce[Q-1].y],ye>0)){for(;ye>=0;ye--)if(ee[ye-1].close!==!0&&ee[ye-1].begin!==!0){ee[ye-1].deltas.push(q),ee[ye-1].abs.push(re);break}}break;case"bct":q=[re.x1-ce[Q-1].x,re.y1-ce[Q-1].y,re.x2-ce[Q-1].x,re.y2-ce[Q-1].y,re.x-ce[Q-1].x,re.y-ce[Q-1].y],ee[ee.length-1].deltas.push(q);break;case"qct":var Ee=ce[Q-1].x+2/3*(re.x1-ce[Q-1].x),X=ce[Q-1].y+2/3*(re.y1-ce[Q-1].y),Je=re.x+2/3*(re.x1-re.x),Ce=re.y+2/3*(re.y1-re.y),xe=re.x,xt=re.y;q=[Ee-ce[Q-1].x,X-ce[Q-1].y,Je-ce[Q-1].x,Ce-ce[Q-1].y,xe-ce[Q-1].x,xt-ce[Q-1].y],ee[ee.length-1].deltas.push(q);break;case"arc":ee.push({deltas:[],abs:[],arc:!0}),Array.isArray(ee[ee.length-1].abs)&&ee[ee.length-1].abs.push(re)}}K=R?null:M==="stroke"?"stroke":"fill";for(var et=!1,Le=0;Le<ee.length;Le++)if(ee[Le].arc)for(var Be=ee[Le].abs,ct=0;ct<Be.length;ct++){var lt=Be[ct];lt.type==="arc"?P.call(this,lt.x,lt.y,lt.radius,lt.startAngle,lt.endAngle,lt.counterclockwise,void 0,R,!et):V.call(this,lt.x,lt.y),et=!0}else if(ee[Le].close===!0)this.pdf.internal.out("h"),et=!1;else if(ee[Le].begin!==!0){var Ye=ee[Le].start.x,ft=ee[Le].start.y;Y.call(this,ee[Le].deltas,Ye,ft),et=!0}K&&B.call(this,K),R&&H.call(this)}},D=function(M){var R=this.pdf.internal.getFontSize()/this.pdf.internal.scaleFactor,q=R*(this.pdf.internal.getLineHeightFactor()-1);switch(this.ctx.textBaseline){case"bottom":return M-q;case"top":return M+R-q;case"hanging":return M+R-2*q;case"middle":return M+R/2-q;default:return M}},C=function(M){return M+this.pdf.internal.getFontSize()/this.pdf.internal.scaleFactor*(this.pdf.internal.getLineHeightFactor()-1)};m.prototype.createLinearGradient=function(){var M=function(){};return M.colorStops=[],M.addColorStop=function(R,q){this.colorStops.push([R,q])},M.getColor=function(){return this.colorStops.length===0?"#000000":this.colorStops[0][1]},M.isCanvasGradient=!0,M},m.prototype.createPattern=function(){return this.createLinearGradient()},m.prototype.createRadialGradient=function(){return this.createLinearGradient()};var P=function(M,R,q,K,ee,ce,Q,re,ye){for(var Ee=te.call(this,q,K,ee,ce),X=0;X<Ee.length;X++){var Je=Ee[X];X===0&&(ye?L.call(this,Je.x1+M,Je.y1+R):V.call(this,Je.x1+M,Je.y1+R)),de.call(this,M,R,Je.x2,Je.y2,Je.x3,Je.y3,Je.x4,Je.y4)}re?H.call(this):B.call(this,Q)},B=function(M){switch(M){case"stroke":this.pdf.internal.out("S");break;case"fill":this.pdf.internal.out("f")}},H=function(){this.pdf.clip(),this.pdf.discardPath()},L=function(M,R){this.pdf.internal.out(r(M)+" "+n(R)+" m")},U=function(M){var R;switch(M.align){case"right":case"end":R="right";break;case"center":R="center";break;default:R="left"}var q=this.pdf.getTextDimensions(M.text),K=D.call(this,M.y),ee=C.call(this,K)-q.h,ce=this.ctx.transform.applyToPoint(new l(M.x,K)),Q=this.ctx.transform.decompose(),re=new u;re=(re=(re=re.multiply(Q.translate)).multiply(Q.skew)).multiply(Q.scale);for(var ye,Ee,X,Je=this.ctx.transform.applyToRectangle(new o(M.x,K,q.w,q.h)),Ce=re.applyToRectangle(new o(M.x,ee,q.w,q.h)),xe=w.call(this,Ce),xt=[],et=0;et<xe.length;et+=1)xt.indexOf(xe[et])===-1&&xt.push(xe[et]);if(j(xt),this.autoPaging)for(var Le=xt[0],Be=xt[xt.length-1],ct=Le;ct<Be+1;ct++){this.pdf.setPage(ct);var lt=ct===1?this.posY+this.margin[0]:this.margin[0],Ye=this.pdf.internal.pageSize.height-this.posY-this.margin[0]-this.margin[2],ft=this.pdf.internal.pageSize.height-this.margin[2],Et=ft-this.margin[0],zt=this.pdf.internal.pageSize.width-this.margin[1],Kt=zt-this.margin[3],Ar=ct===1?0:Ye+(ct-2)*Et;if(this.ctx.clip_path.length!==0){var Mt=this.path;ye=JSON.parse(JSON.stringify(this.ctx.clip_path)),this.path=E(ye,this.posX+this.margin[3],-1*Ar+lt),O.call(this,"fill",!0),this.path=Mt}var Pt=E([JSON.parse(JSON.stringify(Ce))],this.posX+this.margin[3],-Ar+lt+this.ctx.prevPageLastElemOffset)[0];M.scale>=.01&&(Ee=this.pdf.internal.getFontSize(),this.pdf.setFontSize(Ee*M.scale),X=this.lineWidth,this.lineWidth=X*M.scale);var wt=this.autoPaging!=="text";if(wt||Pt.y+Pt.h<=ft){if(wt||Pt.y>=lt&&Pt.x<=zt){var Ct=wt?M.text:this.pdf.splitTextToSize(M.text,M.maxWidth||zt-Pt.x)[0],_r=E([JSON.parse(JSON.stringify(Je))],this.posX+this.margin[3],-Ar+lt+this.ctx.prevPageLastElemOffset)[0],Zt=wt&&(ct>Le||ct<Be)&&v.call(this);Zt&&(this.pdf.saveGraphicsState(),this.pdf.rect(this.margin[3],this.margin[0],Kt,Et,null).clip().discardPath()),this.pdf.text(Ct,_r.x,_r.y,{angle:M.angle,align:R,renderingMode:M.renderingMode}),Zt&&this.pdf.restoreGraphicsState()}}else Pt.y<ft&&(this.ctx.prevPageLastElemOffset+=ft-Pt.y);M.scale>=.01&&(this.pdf.setFontSize(Ee),this.lineWidth=X)}else M.scale>=.01&&(Ee=this.pdf.internal.getFontSize(),this.pdf.setFontSize(Ee*M.scale),X=this.lineWidth,this.lineWidth=X*M.scale),this.pdf.text(M.text,ce.x+this.posX,ce.y+this.posY,{angle:M.angle,align:R,renderingMode:M.renderingMode,maxWidth:M.maxWidth}),M.scale>=.01&&(this.pdf.setFontSize(Ee),this.lineWidth=X)},V=function(M,R,q,K){q=q||0,K=K||0,this.pdf.internal.out(r(M+q)+" "+n(R+K)+" l")},Y=function(M,R,q){return this.pdf.lines(M,R,q,null,null)},de=function(M,R,q,K,ee,ce,Q,re){this.pdf.internal.out([t(a(q+M)),t(s(K+R)),t(a(ee+M)),t(s(ce+R)),t(a(Q+M)),t(s(re+R)),"c"].join(" "))},te=function(M,R,q,K){for(var ee=2*Math.PI,ce=Math.PI/2;R>q;)R-=ee;var Q=Math.abs(q-R);Q<ee&&K&&(Q=ee-Q);for(var re=[],ye=K?-1:1,Ee=R;Q>1e-5;){var X=Ee+ye*Math.min(Q,ce);re.push(ie.call(this,M,Ee,X)),Q-=Math.abs(X-Ee),Ee=X}return re},ie=function(M,R,q){var K=(q-R)/2,ee=M*Math.cos(K),ce=M*Math.sin(K),Q=ee,re=-ce,ye=Q*Q+re*re,Ee=ye+Q*ee+re*ce,X=4/3*(Math.sqrt(2*ye*Ee)-Ee)/(Q*ce-re*ee),Je=Q-X*re,Ce=re+X*Q,xe=Je,xt=-Ce,et=K+R,Le=Math.cos(et),Be=Math.sin(et);return{x1:M*Math.cos(R),y1:M*Math.sin(R),x2:Je*Le-Ce*Be,y2:Je*Be+Ce*Le,x3:xe*Le-xt*Be,y3:xe*Be+xt*Le,x4:M*Math.cos(q),y4:M*Math.sin(q)}},ge=function(M){return 180*M/Math.PI},oe=function(M,R,q,K,ee,ce){var Q=M+.5*(q-M),re=R+.5*(K-R),ye=ee+.5*(q-ee),Ee=ce+.5*(K-ce),X=Math.min(M,ee,Q,ye),Je=Math.max(M,ee,Q,ye),Ce=Math.min(R,ce,re,Ee),xe=Math.max(R,ce,re,Ee);return new o(X,Ce,Je-X,xe-Ce)},Se=function(M,R,q,K,ee,ce,Q,re){var ye,Ee,X,Je,Ce,xe,xt,et,Le,Be,ct,lt,Ye,ft,Et=q-M,zt=K-R,Kt=ee-q,Ar=ce-K,Mt=Q-ee,Pt=re-ce;for(Ee=0;Ee<41;Ee++)Le=(xt=(X=M+(ye=Ee/40)*Et)+ye*((Ce=q+ye*Kt)-X))+ye*(Ce+ye*(ee+ye*Mt-Ce)-xt),Be=(et=(Je=R+ye*zt)+ye*((xe=K+ye*Ar)-Je))+ye*(xe+ye*(ce+ye*Pt-xe)-et),Ee==0?(ct=Le,lt=Be,Ye=Le,ft=Be):(ct=Math.min(ct,Le),lt=Math.min(lt,Be),Ye=Math.max(Ye,Le),ft=Math.max(ft,Be));return new o(Math.round(ct),Math.round(lt),Math.round(Ye-ct),Math.round(ft-lt))},ne=function(){if(this.prevLineDash||this.ctx.lineDash.length||this.ctx.lineDashOffset){var M,R,q=(M=this.ctx.lineDash,R=this.ctx.lineDashOffset,JSON.stringify({lineDash:M,lineDashOffset:R}));this.prevLineDash!==q&&(this.pdf.setLineDash(this.ctx.lineDash,this.ctx.lineDashOffset),this.prevLineDash=q)}}})(Gt.API),(function(e){var t=function(l){var o,u,d,h,m,g,x,b,v,w;for(u=[],d=0,h=(l+=o="\0\0\0\0".slice(l.length%4||4)).length;h>d;d+=4)(m=(l.charCodeAt(d)<<24)+(l.charCodeAt(d+1)<<16)+(l.charCodeAt(d+2)<<8)+l.charCodeAt(d+3))!==0?(g=(m=((m=((m=((m=(m-(w=m%85))/85)-(v=m%85))/85)-(b=m%85))/85)-(x=m%85))/85)%85,u.push(g+33,x+33,b+33,v+33,w+33)):u.push(122);return(function(N,E){for(var j=E;j>0;j--)N.pop()})(u,o.length),String.fromCharCode.apply(String,u)+"~>"},r=function(l){var o,u,d,h,m,g=String,x="length",b=255,v="charCodeAt",w="slice",N="replace";for(l[w](-2),l=l[w](0,-2)[N](/\s/g,"")[N]("z","!!!!!"),d=[],h=0,m=(l+=o="uuuuu"[w](l[x]%5||5))[x];m>h;h+=5)u=52200625*(l[v](h)-33)+614125*(l[v](h+1)-33)+7225*(l[v](h+2)-33)+85*(l[v](h+3)-33)+(l[v](h+4)-33),d.push(b&u>>24,b&u>>16,b&u>>8,b&u);return(function(E,j){for(var T=j;T>0;T--)E.pop()})(d,o[x]),g.fromCharCode.apply(g,d)},n=function(l){return l.split("").map(function(o){return("0"+o.charCodeAt().toString(16)).slice(-2)}).join("")+">"},a=function(l){var o=new RegExp(/^([0-9A-Fa-f]{2})+$/);if((l=l.replace(/\s/g,"")).indexOf(">")!==-1&&(l=l.substr(0,l.indexOf(">"))),l.length%2&&(l+="0"),o.test(l)===!1)return"";for(var u="",d=0;d<l.length;d+=2)u+=String.fromCharCode("0x"+(l[d]+l[d+1]));return u},s=function(l){for(var o=new Uint8Array(l.length),u=l.length;u--;)o[u]=l.charCodeAt(u);return(o=__(o)).reduce(function(d,h){return d+String.fromCharCode(h)},"")};e.processDataByFilters=function(l,o){var u=0,d=l||"",h=[];for(typeof(o=o||[])=="string"&&(o=[o]),u=0;u<o.length;u+=1)switch(o[u]){case"ASCII85Decode":case"/ASCII85Decode":d=r(d),h.push("/ASCII85Encode");break;case"ASCII85Encode":case"/ASCII85Encode":d=t(d),h.push("/ASCII85Decode");break;case"ASCIIHexDecode":case"/ASCIIHexDecode":d=a(d),h.push("/ASCIIHexEncode");break;case"ASCIIHexEncode":case"/ASCIIHexEncode":d=n(d),h.push("/ASCIIHexDecode");break;case"FlateEncode":case"/FlateEncode":d=s(d),h.push("/FlateDecode");break;default:throw new Error('The filter: "'+o[u]+'" is not implemented')}return{data:d,reverseChain:h.reverse().join(" ")}}})(Gt.API),(function(e){e.loadFile=function(t,r,n){return(function(a,s,l){s=s!==!1,l=typeof l=="function"?l:function(){};var o=void 0;try{o=(function(u,d,h){var m=new XMLHttpRequest,g=0,x=function(b){var v=b.length,w=[],N=String.fromCharCode;for(g=0;g<v;g+=1)w.push(N(255&b.charCodeAt(g)));return w.join("")};if(m.open("GET",u,!d),m.overrideMimeType("text/plain; charset=x-user-defined"),d===!1&&(m.onload=function(){m.status===200?h(x(this.responseText)):h(void 0)}),m.send(null),d&&m.status===200)return x(m.responseText)})(a,s,l)}catch{}return o})(t,r,n)},e.loadImageFile=e.loadFile})(Gt.API),(function(e){function t(){return(pr.html2canvas?Promise.resolve(pr.html2canvas):Tw(()=>import("./html2canvas.esm-B0tyYwQk.js"),[])).catch(function(o){return Promise.reject(new Error("Could not load html2canvas: "+o))}).then(function(o){return o.default?o.default:o})}function r(){return(pr.DOMPurify?Promise.resolve(pr.DOMPurify):Tw(()=>import("./purify.es-B6FQ9oRL.js"),[])).catch(function(o){return Promise.reject(new Error("Could not load dompurify: "+o))}).then(function(o){return o.default?o.default:o})}var n=function(o){var u=jn(o);return u==="undefined"?"undefined":u==="string"||o instanceof String?"string":u==="number"||o instanceof Number?"number":u==="function"||o instanceof Function?"function":o&&o.constructor===Array?"array":o&&o.nodeType===1?"element":u==="object"?"object":"unknown"},a=function(o,u){var d=document.createElement(o);for(var h in u.className&&(d.className=u.className),u.innerHTML&&u.dompurify&&(d.innerHTML=u.dompurify.sanitize(u.innerHTML)),u.style)d.style[h]=u.style[h];return d},s=function o(u,d){for(var h=u.nodeType===3?document.createTextNode(u.nodeValue):u.cloneNode(!1),m=u.firstChild;m;m=m.nextSibling)d!==!0&&m.nodeType===1&&m.nodeName==="SCRIPT"||h.appendChild(o(m,d));return u.nodeType===1&&(u.nodeName==="CANVAS"?(h.width=u.width,h.height=u.height,h.getContext("2d").drawImage(u,0,0)):u.nodeName!=="TEXTAREA"&&u.nodeName!=="SELECT"||(h.value=u.value),h.addEventListener("load",function(){h.scrollTop=u.scrollTop,h.scrollLeft=u.scrollLeft},!0)),h},l=function o(u){var d=Object.assign(o.convert(Promise.resolve()),JSON.parse(JSON.stringify(o.template))),h=o.convert(Promise.resolve(),d);return(h=h.setProgress(1,o,1,[o])).set(u)};(l.prototype=Object.create(Promise.prototype)).constructor=l,l.convert=function(o,u){return o.__proto__=u||l.prototype,o},l.template={prop:{src:null,container:null,overlay:null,canvas:null,img:null,pdf:null,pageSize:null,callback:function(){}},progress:{val:0,state:null,n:0,stack:[]},opt:{filename:"file.pdf",margin:[0,0,0,0],enableLinks:!0,x:0,y:0,html2canvas:{},jsPDF:{},backgroundColor:"transparent"}},l.prototype.from=function(o,u){return this.then(function(){switch(u=u||(function(d){switch(n(d)){case"string":return"string";case"element":return d.nodeName.toLowerCase()==="canvas"?"canvas":"element";default:return"unknown"}})(o),u){case"string":return this.then(r).then(function(d){return this.set({src:a("div",{innerHTML:o,dompurify:d})})});case"element":return this.set({src:o});case"canvas":return this.set({canvas:o});case"img":return this.set({img:o});default:return this.error("Unknown source type.")}})},l.prototype.to=function(o){switch(o){case"container":return this.toContainer();case"canvas":return this.toCanvas();case"img":return this.toImg();case"pdf":return this.toPdf();default:return this.error("Invalid target.")}},l.prototype.toContainer=function(){return this.thenList([function(){return this.prop.src||this.error("Cannot duplicate - no source HTML.")},function(){return this.prop.pageSize||this.setPageSize()}]).then(function(){var o={position:"relative",display:"inline-block",width:(typeof this.opt.width!="number"||isNaN(this.opt.width)||typeof this.opt.windowWidth!="number"||isNaN(this.opt.windowWidth)?Math.max(this.prop.src.clientWidth,this.prop.src.scrollWidth,this.prop.src.offsetWidth):this.opt.windowWidth)+"px",left:0,right:0,top:0,margin:"auto",backgroundColor:this.opt.backgroundColor},u=s(this.prop.src,this.opt.html2canvas.javascriptEnabled);u.tagName==="BODY"&&(o.height=Math.max(document.body.scrollHeight,document.body.offsetHeight,document.documentElement.clientHeight,document.documentElement.scrollHeight,document.documentElement.offsetHeight)+"px"),this.prop.overlay=a("div",{className:"html2pdf__overlay",style:{position:"fixed",overflow:"hidden",zIndex:1e3,left:"-100000px",right:0,bottom:0,top:0}}),this.prop.container=a("div",{className:"html2pdf__container",style:o}),this.prop.container.appendChild(u),this.prop.container.firstChild.appendChild(a("div",{style:{clear:"both",border:"0 none transparent",margin:0,padding:0,height:0}})),this.prop.container.style.float="none",this.prop.overlay.appendChild(this.prop.container),document.body.appendChild(this.prop.overlay),this.prop.container.firstChild.style.position="relative",this.prop.container.height=Math.max(this.prop.container.firstChild.clientHeight,this.prop.container.firstChild.scrollHeight,this.prop.container.firstChild.offsetHeight)+"px"})},l.prototype.toCanvas=function(){var o=[function(){return document.body.contains(this.prop.container)||this.toContainer()}];return this.thenList(o).then(t).then(function(u){var d=Object.assign({},this.opt.html2canvas);return delete d.onrendered,u(this.prop.container,d)}).then(function(u){(this.opt.html2canvas.onrendered||function(){})(u),this.prop.canvas=u,document.body.removeChild(this.prop.overlay)})},l.prototype.toContext2d=function(){var o=[function(){return document.body.contains(this.prop.container)||this.toContainer()}];return this.thenList(o).then(t).then(function(u){var d=this.opt.jsPDF,h=this.opt.fontFaces,m=typeof this.opt.width!="number"||isNaN(this.opt.width)||typeof this.opt.windowWidth!="number"||isNaN(this.opt.windowWidth)?1:this.opt.width/this.opt.windowWidth,g=Object.assign({async:!0,allowTaint:!0,scale:m,scrollX:this.opt.scrollX||0,scrollY:this.opt.scrollY||0,backgroundColor:"#ffffff",imageTimeout:15e3,logging:!0,proxy:null,removeContainer:!0,foreignObjectRendering:!1,useCORS:!1},this.opt.html2canvas);if(delete g.onrendered,d.context2d.autoPaging=this.opt.autoPaging===void 0||this.opt.autoPaging,d.context2d.posX=this.opt.x,d.context2d.posY=this.opt.y,d.context2d.margin=this.opt.margin,d.context2d.fontFaces=h,h)for(var x=0;x<h.length;++x){var b=h[x],v=b.src.find(function(w){return w.format==="truetype"});v&&d.addFont(v.url,b.ref.name,b.ref.style)}return g.windowHeight=g.windowHeight||0,g.windowHeight=g.windowHeight==0?Math.max(this.prop.container.clientHeight,this.prop.container.scrollHeight,this.prop.container.offsetHeight):g.windowHeight,d.context2d.save(!0),u(this.prop.container,g)}).then(function(u){this.opt.jsPDF.context2d.restore(!0),(this.opt.html2canvas.onrendered||function(){})(u),this.prop.canvas=u,document.body.removeChild(this.prop.overlay)})},l.prototype.toImg=function(){return this.thenList([function(){return this.prop.canvas||this.toCanvas()}]).then(function(){var o=this.prop.canvas.toDataURL("image/"+this.opt.image.type,this.opt.image.quality);this.prop.img=document.createElement("img"),this.prop.img.src=o})},l.prototype.toPdf=function(){return this.thenList([function(){return this.toContext2d()}]).then(function(){this.prop.pdf=this.prop.pdf||this.opt.jsPDF})},l.prototype.output=function(o,u,d){return(d=d||"pdf").toLowerCase()==="img"||d.toLowerCase()==="image"?this.outputImg(o,u):this.outputPdf(o,u)},l.prototype.outputPdf=function(o,u){return this.thenList([function(){return this.prop.pdf||this.toPdf()}]).then(function(){return this.prop.pdf.output(o,u)})},l.prototype.outputImg=function(o){return this.thenList([function(){return this.prop.img||this.toImg()}]).then(function(){switch(o){case void 0:case"img":return this.prop.img;case"datauristring":case"dataurlstring":return this.prop.img.src;case"datauri":case"dataurl":return document.location.href=this.prop.img.src;default:throw'Image output type "'+o+'" is not supported.'}})},l.prototype.save=function(o){return this.thenList([function(){return this.prop.pdf||this.toPdf()}]).set(o?{filename:o}:null).then(function(){this.prop.pdf.save(this.opt.filename)})},l.prototype.doCallback=function(){return this.thenList([function(){return this.prop.pdf||this.toPdf()}]).then(function(){this.prop.callback(this.prop.pdf)})},l.prototype.set=function(o){if(n(o)!=="object")return this;var u=Object.keys(o||{}).map(function(d){if(d in l.template.prop)return function(){this.prop[d]=o[d]};switch(d){case"margin":return this.setMargin.bind(this,o.margin);case"jsPDF":return function(){return this.opt.jsPDF=o.jsPDF,this.setPageSize()};case"pageSize":return this.setPageSize.bind(this,o.pageSize);default:return function(){this.opt[d]=o[d]}}},this);return this.then(function(){return this.thenList(u)})},l.prototype.get=function(o,u){return this.then(function(){var d=o in l.template.prop?this.prop[o]:this.opt[o];return u?u(d):d})},l.prototype.setMargin=function(o){return this.then(function(){switch(n(o)){case"number":o=[o,o,o,o];case"array":if(o.length===2&&(o=[o[0],o[1],o[0],o[1]]),o.length===4)break;default:return this.error("Invalid margin array.")}this.opt.margin=o}).then(this.setPageSize)},l.prototype.setPageSize=function(o){function u(d,h){return Math.floor(d*h/72*96)}return this.then(function(){(o=o||Gt.getPageSize(this.opt.jsPDF)).hasOwnProperty("inner")||(o.inner={width:o.width-this.opt.margin[1]-this.opt.margin[3],height:o.height-this.opt.margin[0]-this.opt.margin[2]},o.inner.px={width:u(o.inner.width,o.k),height:u(o.inner.height,o.k)},o.inner.ratio=o.inner.height/o.inner.width),this.prop.pageSize=o})},l.prototype.setProgress=function(o,u,d,h){return o!=null&&(this.progress.val=o),u!=null&&(this.progress.state=u),d!=null&&(this.progress.n=d),h!=null&&(this.progress.stack=h),this.progress.ratio=this.progress.val/this.progress.state,this},l.prototype.updateProgress=function(o,u,d,h){return this.setProgress(o?this.progress.val+o:null,u||null,d?this.progress.n+d:null,h?this.progress.stack.concat(h):null)},l.prototype.then=function(o,u){var d=this;return this.thenCore(o,u,function(h,m){return d.updateProgress(null,null,1,[h]),Promise.prototype.then.call(this,function(g){return d.updateProgress(null,h),g}).then(h,m).then(function(g){return d.updateProgress(1),g})})},l.prototype.thenCore=function(o,u,d){d=d||Promise.prototype.then;var h=this;o&&(o=o.bind(h)),u&&(u=u.bind(h));var m=Promise.toString().indexOf("[native code]")!==-1&&Promise.name==="Promise"?h:l.convert(Object.assign({},h),Promise.prototype),g=d.call(m,o,u);return l.convert(g,h.__proto__)},l.prototype.thenExternal=function(o,u){return Promise.prototype.then.call(this,o,u)},l.prototype.thenList=function(o){var u=this;return o.forEach(function(d){u=u.thenCore(d)}),u},l.prototype.catch=function(o){o&&(o=o.bind(this));var u=Promise.prototype.catch.call(this,o);return l.convert(u,this)},l.prototype.catchExternal=function(o){return Promise.prototype.catch.call(this,o)},l.prototype.error=function(o){return this.then(function(){throw new Error(o)})},l.prototype.using=l.prototype.set,l.prototype.saveAs=l.prototype.save,l.prototype.export=l.prototype.output,l.prototype.run=l.prototype.then,Gt.getPageSize=function(o,u,d){if(jn(o)==="object"){var h=o;o=h.orientation,u=h.unit||u,d=h.format||d}u=u||"mm",d=d||"a4",o=(""+(o||"P")).toLowerCase();var m,g=(""+d).toLowerCase(),x={a0:[2383.94,3370.39],a1:[1683.78,2383.94],a2:[1190.55,1683.78],a3:[841.89,1190.55],a4:[595.28,841.89],a5:[419.53,595.28],a6:[297.64,419.53],a7:[209.76,297.64],a8:[147.4,209.76],a9:[104.88,147.4],a10:[73.7,104.88],b0:[2834.65,4008.19],b1:[2004.09,2834.65],b2:[1417.32,2004.09],b3:[1000.63,1417.32],b4:[708.66,1000.63],b5:[498.9,708.66],b6:[354.33,498.9],b7:[249.45,354.33],b8:[175.75,249.45],b9:[124.72,175.75],b10:[87.87,124.72],c0:[2599.37,3676.54],c1:[1836.85,2599.37],c2:[1298.27,1836.85],c3:[918.43,1298.27],c4:[649.13,918.43],c5:[459.21,649.13],c6:[323.15,459.21],c7:[229.61,323.15],c8:[161.57,229.61],c9:[113.39,161.57],c10:[79.37,113.39],dl:[311.81,623.62],letter:[612,792],"government-letter":[576,756],legal:[612,1008],"junior-legal":[576,360],ledger:[1224,792],tabloid:[792,1224],"credit-card":[153,243]};switch(u){case"pt":m=1;break;case"mm":m=72/25.4;break;case"cm":m=72/2.54;break;case"in":m=72;break;case"px":m=.75;break;case"pc":case"em":m=12;break;case"ex":m=6;break;default:throw"Invalid unit: "+u}var b,v=0,w=0;if(x.hasOwnProperty(g))v=x[g][1]/m,w=x[g][0]/m;else try{v=d[1],w=d[0]}catch{throw new Error("Invalid format: "+d)}if(o==="p"||o==="portrait")o="p",w>v&&(b=w,w=v,v=b);else{if(o!=="l"&&o!=="landscape")throw"Invalid orientation: "+o;o="l",v>w&&(b=w,w=v,v=b)}return{width:w,height:v,unit:u,k:m,orientation:o}},e.html=function(o,u){(u=u||{}).callback=u.callback||function(){},u.html2canvas=u.html2canvas||{},u.html2canvas.canvas=u.html2canvas.canvas||this.canvas,u.jsPDF=u.jsPDF||this,u.fontFaces=u.fontFaces?u.fontFaces.map(qN):null;var d=new l(u);return u.worker?d:d.from(o).doCallback()}})(Gt.API),Gt.API.addJS=function(e){return rF=e,this.internal.events.subscribe("postPutResources",function(){Lv=this.internal.newObject(),this.internal.out("<<"),this.internal.out("/Names [(EmbeddedJS) "+(Lv+1)+" 0 R]"),this.internal.out(">>"),this.internal.out("endobj"),tF=this.internal.newObject(),this.internal.out("<<"),this.internal.out("/S /JavaScript"),this.internal.out("/JS ("+rF+")"),this.internal.out(">>"),this.internal.out("endobj")}),this.internal.events.subscribe("putCatalog",function(){Lv!==void 0&&tF!==void 0&&this.internal.out("/Names <</JavaScript "+Lv+" 0 R>>")}),this},(function(e){var t;e.events.push(["postPutResources",function(){var r=this,n=/^(\d+) 0 obj$/;if(this.outline.root.children.length>0)for(var a=r.outline.render().split(/\r\n/),s=0;s<a.length;s++){var l=a[s],o=n.exec(l);if(o!=null){var u=o[1];r.internal.newObjectDeferredBegin(u,!1)}r.internal.write(l)}if(this.outline.createNamedDestinations){var d=this.internal.pages.length,h=[];for(s=0;s<d;s++){var m=r.internal.newObject();h.push(m);var g=r.internal.getPageInfo(s+1);r.internal.write("<< /D["+g.objId+" 0 R /XYZ null null null]>> endobj")}var x=r.internal.newObject();for(r.internal.write("<< /Names [ "),s=0;s<h.length;s++)r.internal.write("(page_"+(s+1)+")"+h[s]+" 0 R");r.internal.write(" ] >>","endobj"),t=r.internal.newObject(),r.internal.write("<< /Dests "+x+" 0 R"),r.internal.write(">>","endobj")}}]),e.events.push(["putCatalog",function(){var r=this;r.outline.root.children.length>0&&(r.internal.write("/Outlines",this.outline.makeRef(this.outline.root)),this.outline.createNamedDestinations&&r.internal.write("/Names "+t+" 0 R"))}]),e.events.push(["initialized",function(){var r=this;r.outline={createNamedDestinations:!1,root:{children:[]}},r.outline.add=function(n,a,s){var l={title:a,options:s,children:[]};return n==null&&(n=this.root),n.children.push(l),l},r.outline.render=function(){return this.ctx={},this.ctx.val="",this.ctx.pdf=r,this.genIds_r(this.root),this.renderRoot(this.root),this.renderItems(this.root),this.ctx.val},r.outline.genIds_r=function(n){n.id=r.internal.newObjectDeferred();for(var a=0;a<n.children.length;a++)this.genIds_r(n.children[a])},r.outline.renderRoot=function(n){this.objStart(n),this.line("/Type /Outlines"),n.children.length>0&&(this.line("/First "+this.makeRef(n.children[0])),this.line("/Last "+this.makeRef(n.children[n.children.length-1]))),this.line("/Count "+this.count_r({count:0},n)),this.objEnd()},r.outline.renderItems=function(n){for(var a=this.ctx.pdf.internal.getVerticalCoordinateString,s=0;s<n.children.length;s++){var l=n.children[s];this.objStart(l),this.line("/Title "+this.makeString(l.title)),this.line("/Parent "+this.makeRef(n)),s>0&&this.line("/Prev "+this.makeRef(n.children[s-1])),s<n.children.length-1&&this.line("/Next "+this.makeRef(n.children[s+1])),l.children.length>0&&(this.line("/First "+this.makeRef(l.children[0])),this.line("/Last "+this.makeRef(l.children[l.children.length-1])));var o=this.count=this.count_r({count:0},l);if(o>0&&this.line("/Count "+o),l.options&&l.options.pageNumber){var u=r.internal.getPageInfo(l.options.pageNumber);this.line("/Dest ["+u.objId+" 0 R /XYZ 0 "+a(0)+" 0]")}this.objEnd()}for(var d=0;d<n.children.length;d++)this.renderItems(n.children[d])},r.outline.line=function(n){this.ctx.val+=n+`\r
`},r.outline.makeRef=function(n){return n.id+" 0 R"},r.outline.makeString=function(n){return"("+r.internal.pdfEscape(n)+")"},r.outline.objStart=function(n){this.ctx.val+=`\r
`+n.id+` 0 obj\r
<<\r
`},r.outline.objEnd=function(){this.ctx.val+=`>> \r
endobj\r
`},r.outline.count_r=function(n,a){for(var s=0;s<a.children.length;s++)n.count++,this.count_r(n,a.children[s]);return n.count}}])})(Gt.API),(function(e){var t=[192,193,194,195,196,197,198,199];e.processJPEG=function(r,n,a,s,l,o){var u,d=this.decode.DCT_DECODE,h=null;if(typeof r=="string"||this.__addimage__.isArrayBuffer(r)||this.__addimage__.isArrayBufferView(r)){switch(r=l||r,r=this.__addimage__.isArrayBuffer(r)?new Uint8Array(r):r,u=(function(m){for(var g,x=256*m.charCodeAt(4)+m.charCodeAt(5),b=m.length,v={width:0,height:0,numcomponents:1},w=4;w<b;w+=2){if(w+=x,t.indexOf(m.charCodeAt(w+1))!==-1){g=256*m.charCodeAt(w+5)+m.charCodeAt(w+6),v={width:256*m.charCodeAt(w+7)+m.charCodeAt(w+8),height:g,numcomponents:m.charCodeAt(w+9)};break}x=256*m.charCodeAt(w+2)+m.charCodeAt(w+3)}return v})(r=this.__addimage__.isArrayBufferView(r)?this.__addimage__.arrayBufferToBinaryString(r):r),u.numcomponents){case 1:o=this.color_spaces.DEVICE_GRAY;break;case 4:o=this.color_spaces.DEVICE_CMYK;break;case 3:o=this.color_spaces.DEVICE_RGB}h={data:r,width:u.width,height:u.height,colorSpace:o,bitsPerComponent:8,filter:d,index:n,alias:a}}return h}})(Gt.API),Gt.API.processPNG=function(e,t,r,n){if(this.__addimage__.isArrayBuffer(e)&&(e=new Uint8Array(e)),this.__addimage__.isArrayBufferView(e)){var a,s=h4e(e,{checkCrc:!0}),l=s.width,o=s.height,u=s.channels,d=s.palette,h=s.depth;a=d&&u===1?(function(P){for(var B=P.width,H=P.height,L=P.data,U=P.palette,V=P.depth,Y=!1,de=[],te=[],ie=void 0,ge=!1,oe=0,Se=0;Se<U.length;Se++){var ne=i7(U[Se],4),M=ne[0],R=ne[1],q=ne[2],K=ne[3];de.push(M,R,q),K!=null&&(K===0?(oe++,te.length<1&&te.push(Se)):K<255&&(ge=!0))}if(ge||oe>1){Y=!0,te=void 0;var ee=B*H;ie=new Uint8Array(ee);for(var ce=new DataView(L.buffer),Q=0;Q<ee;Q++){var re=HN(ce,Q,V),ye=i7(U[re],4)[3];ie[Q]=ye}}else oe===0&&(te=void 0);return{colorSpace:"Indexed",colorsPerPixel:1,sMaskBitsPerComponent:Y?8:void 0,colorBytes:L,alphaBytes:ie,needSMask:Y,palette:de,mask:te}})(s):u===2||u===4?(function(P){for(var B=P.data,H=P.width,L=P.height,U=P.channels,V=P.depth,Y=U===2?"DeviceGray":"DeviceRGB",de=U-1,te=H*L,ie=de,ge=te*ie,oe=1*te,Se=Math.ceil(ge*V/8),ne=Math.ceil(oe*V/8),M=new Uint8Array(Se),R=new Uint8Array(ne),q=new DataView(B.buffer),K=new DataView(M.buffer),ee=new DataView(R.buffer),ce=!1,Q=0;Q<te;Q++){for(var re=Q*U,ye=0;ye<ie;ye++)dF(K,HN(q,re+ye,V),Q*ie+ye,V);var Ee=HN(q,re+ie,V);Ee<(1<<V)-1&&(ce=!0),dF(ee,Ee,1*Q,V)}return{colorSpace:Y,colorsPerPixel:de,sMaskBitsPerComponent:ce?V:void 0,colorBytes:M,alphaBytes:R,needSMask:ce}})(s):(function(P){var B=P.data,H=P.channels===1?"DeviceGray":"DeviceRGB";return{colorSpace:H,colorsPerPixel:H==="DeviceGray"?1:3,colorBytes:B instanceof Uint16Array?(function(L){for(var U=L.length,V=new Uint8Array(2*U),Y=new DataView(V.buffer,V.byteOffset,V.byteLength),de=0;de<U;de++)Y.setUint16(2*de,L[de],!1);return V})(B):B,needSMask:!1}})(s);var m,g,x,b=a,v=b.colorSpace,w=b.colorsPerPixel,N=b.sMaskBitsPerComponent,E=b.colorBytes,j=b.alphaBytes,T=b.needSMask,O=b.palette,D=b.mask,C=null;return n!==Gt.API.image_compression.NONE&&typeof __=="function"?(C=(function(P){var B;switch(P){case Gt.API.image_compression.FAST:B=11;break;case Gt.API.image_compression.MEDIUM:B=13;break;case Gt.API.image_compression.SLOW:B=14;break;default:B=12}return B})(n),m=this.decode.FLATE_DECODE,g="/Predictor ".concat(C," /Colors ").concat(w," /BitsPerComponent ").concat(h," /Columns ").concat(l),e=iF(E,Math.ceil(l*w*h/8),w,h,n),T&&(x=iF(j,Math.ceil(l*N/8),1,N,n))):(m=void 0,g=void 0,e=E,T&&(x=j)),(this.__addimage__.isArrayBuffer(e)||this.__addimage__.isArrayBufferView(e))&&(e=this.__addimage__.arrayBufferToBinaryString(e)),(x&&this.__addimage__.isArrayBuffer(x)||this.__addimage__.isArrayBufferView(x))&&(x=this.__addimage__.arrayBufferToBinaryString(x)),{alias:r,data:e,index:t,filter:m,decodeParameters:g,transparency:D,palette:O,sMask:x,predictor:C,width:l,height:o,bitsPerComponent:h,sMaskBitsPerComponent:N,colorSpace:v}}},(function(e){e.processGIF89A=function(t,r,n,a){var s=new P4e(t),l=s.width,o=s.height,u=[];s.decodeAndBlitFrameRGBA(0,u);var d={data:u,width:l,height:o},h=new VN(100).encode(d,100);return e.processJPEG.call(this,h,r,n,a)},e.processGIF87A=e.processGIF89A})(Gt.API),bc.prototype.parseHeader=function(){if(this.fileSize=this.datav.getUint32(this.pos,!0),this.pos+=4,this.reserved=this.datav.getUint32(this.pos,!0),this.pos+=4,this.offset=this.datav.getUint32(this.pos,!0),this.pos+=4,this.headerSize=this.datav.getUint32(this.pos,!0),this.pos+=4,this.width=this.datav.getUint32(this.pos,!0),this.pos+=4,this.height=this.datav.getInt32(this.pos,!0),this.pos+=4,this.planes=this.datav.getUint16(this.pos,!0),this.pos+=2,this.bitPP=this.datav.getUint16(this.pos,!0),this.pos+=2,this.compress=this.datav.getUint32(this.pos,!0),this.pos+=4,this.rawSize=this.datav.getUint32(this.pos,!0),this.pos+=4,this.hr=this.datav.getUint32(this.pos,!0),this.pos+=4,this.vr=this.datav.getUint32(this.pos,!0),this.pos+=4,this.colors=this.datav.getUint32(this.pos,!0),this.pos+=4,this.importantColors=this.datav.getUint32(this.pos,!0),this.pos+=4,this.bitPP===16&&this.is_with_alpha&&(this.bitPP=15),this.bitPP<15){var e=this.colors===0?1<<this.bitPP:this.colors;this.palette=new Array(e);for(var t=0;t<e;t++){var r=this.datav.getUint8(this.pos++,!0),n=this.datav.getUint8(this.pos++,!0),a=this.datav.getUint8(this.pos++,!0),s=this.datav.getUint8(this.pos++,!0);this.palette[t]={red:a,green:n,blue:r,quad:s}}}this.height<0&&(this.height*=-1,this.bottom_up=!1)},bc.prototype.parseBGR=function(){this.pos=this.offset;try{var e="bit"+this.bitPP,t=this.width*this.height*4;this.data=new Uint8Array(t),this[e]()}catch(r){zn.log("bit decode error:"+r)}},bc.prototype.bit1=function(){var e,t=Math.ceil(this.width/8),r=t%4;for(e=this.height-1;e>=0;e--){for(var n=this.bottom_up?e:this.height-1-e,a=0;a<t;a++)for(var s=this.datav.getUint8(this.pos++,!0),l=n*this.width*4+8*a*4,o=0;o<8&&8*a+o<this.width;o++){var u=this.palette[s>>7-o&1];this.data[l+4*o]=u.blue,this.data[l+4*o+1]=u.green,this.data[l+4*o+2]=u.red,this.data[l+4*o+3]=255}r!==0&&(this.pos+=4-r)}},bc.prototype.bit4=function(){for(var e=Math.ceil(this.width/2),t=e%4,r=this.height-1;r>=0;r--){for(var n=this.bottom_up?r:this.height-1-r,a=0;a<e;a++){var s=this.datav.getUint8(this.pos++,!0),l=n*this.width*4+2*a*4,o=s>>4,u=15&s,d=this.palette[o];if(this.data[l]=d.blue,this.data[l+1]=d.green,this.data[l+2]=d.red,this.data[l+3]=255,2*a+1>=this.width)break;d=this.palette[u],this.data[l+4]=d.blue,this.data[l+4+1]=d.green,this.data[l+4+2]=d.red,this.data[l+4+3]=255}t!==0&&(this.pos+=4-t)}},bc.prototype.bit8=function(){for(var e=this.width%4,t=this.height-1;t>=0;t--){for(var r=this.bottom_up?t:this.height-1-t,n=0;n<this.width;n++){var a=this.datav.getUint8(this.pos++,!0),s=r*this.width*4+4*n;if(a<this.palette.length){var l=this.palette[a];this.data[s]=l.red,this.data[s+1]=l.green,this.data[s+2]=l.blue,this.data[s+3]=255}else this.data[s]=255,this.data[s+1]=255,this.data[s+2]=255,this.data[s+3]=255}e!==0&&(this.pos+=4-e)}},bc.prototype.bit15=function(){for(var e=this.width%3,t=parseInt("11111",2),r=this.height-1;r>=0;r--){for(var n=this.bottom_up?r:this.height-1-r,a=0;a<this.width;a++){var s=this.datav.getUint16(this.pos,!0);this.pos+=2;var l=(s&t)/t*255|0,o=(s>>5&t)/t*255|0,u=(s>>10&t)/t*255|0,d=s>>15?255:0,h=n*this.width*4+4*a;this.data[h]=u,this.data[h+1]=o,this.data[h+2]=l,this.data[h+3]=d}this.pos+=e}},bc.prototype.bit16=function(){for(var e=this.width%3,t=parseInt("11111",2),r=parseInt("111111",2),n=this.height-1;n>=0;n--){for(var a=this.bottom_up?n:this.height-1-n,s=0;s<this.width;s++){var l=this.datav.getUint16(this.pos,!0);this.pos+=2;var o=(l&t)/t*255|0,u=(l>>5&r)/r*255|0,d=(l>>11)/t*255|0,h=a*this.width*4+4*s;this.data[h]=d,this.data[h+1]=u,this.data[h+2]=o,this.data[h+3]=255}this.pos+=e}},bc.prototype.bit24=function(){for(var e=this.height-1;e>=0;e--){for(var t=this.bottom_up?e:this.height-1-e,r=0;r<this.width;r++){var n=this.datav.getUint8(this.pos++,!0),a=this.datav.getUint8(this.pos++,!0),s=this.datav.getUint8(this.pos++,!0),l=t*this.width*4+4*r;this.data[l]=s,this.data[l+1]=a,this.data[l+2]=n,this.data[l+3]=255}this.pos+=this.width%4}},bc.prototype.bit32=function(){for(var e=this.height-1;e>=0;e--)for(var t=this.bottom_up?e:this.height-1-e,r=0;r<this.width;r++){var n=this.datav.getUint8(this.pos++,!0),a=this.datav.getUint8(this.pos++,!0),s=this.datav.getUint8(this.pos++,!0),l=this.datav.getUint8(this.pos++,!0),o=t*this.width*4+4*r;this.data[o]=s,this.data[o+1]=a,this.data[o+2]=n,this.data[o+3]=l}},bc.prototype.getData=function(){return this.data},(function(e){e.processBMP=function(t,r,n,a){var s=new bc(t,!1),l=s.width,o=s.height,u={data:s.getData(),width:l,height:o},d=new VN(100).encode(u,100);return e.processJPEG.call(this,d,r,n,a)}})(Gt.API),hF.prototype.getData=function(){return this.data},(function(e){e.processWEBP=function(t,r,n,a){var s=new hF(t),l=s.width,o=s.height,u={data:s.getData(),width:l,height:o},d=new VN(100).encode(u,100);return e.processJPEG.call(this,d,r,n,a)}})(Gt.API),Gt.API.processRGBA=function(e,t,r){for(var n=e.data,a=n.length,s=new Uint8Array(a/4*3),l=new Uint8Array(a/4),o=0,u=0,d=0;d<a;d+=4){var h=n[d],m=n[d+1],g=n[d+2],x=n[d+3];s[o++]=h,s[o++]=m,s[o++]=g,l[u++]=x}var b=this.__addimage__.arrayBufferToBinaryString(s);return{alpha:this.__addimage__.arrayBufferToBinaryString(l),data:b,index:t,alias:r,colorSpace:"DeviceRGB",bitsPerComponent:8,width:e.width,height:e.height}},Gt.API.setLanguage=function(e){return this.internal.languageSettings===void 0&&(this.internal.languageSettings={},this.internal.languageSettings.isSubscribed=!1),{af:"Afrikaans",sq:"Albanian",ar:"Arabic (Standard)","ar-DZ":"Arabic (Algeria)","ar-BH":"Arabic (Bahrain)","ar-EG":"Arabic (Egypt)","ar-IQ":"Arabic (Iraq)","ar-JO":"Arabic (Jordan)","ar-KW":"Arabic (Kuwait)","ar-LB":"Arabic (Lebanon)","ar-LY":"Arabic (Libya)","ar-MA":"Arabic (Morocco)","ar-OM":"Arabic (Oman)","ar-QA":"Arabic (Qatar)","ar-SA":"Arabic (Saudi Arabia)","ar-SY":"Arabic (Syria)","ar-TN":"Arabic (Tunisia)","ar-AE":"Arabic (U.A.E.)","ar-YE":"Arabic (Yemen)",an:"Aragonese",hy:"Armenian",as:"Assamese",ast:"Asturian",az:"Azerbaijani",eu:"Basque",be:"Belarusian",bn:"Bengali",bs:"Bosnian",br:"Breton",bg:"Bulgarian",my:"Burmese",ca:"Catalan",ch:"Chamorro",ce:"Chechen",zh:"Chinese","zh-HK":"Chinese (Hong Kong)","zh-CN":"Chinese (PRC)","zh-SG":"Chinese (Singapore)","zh-TW":"Chinese (Taiwan)",cv:"Chuvash",co:"Corsican",cr:"Cree",hr:"Croatian",cs:"Czech",da:"Danish",nl:"Dutch (Standard)","nl-BE":"Dutch (Belgian)",en:"English","en-AU":"English (Australia)","en-BZ":"English (Belize)","en-CA":"English (Canada)","en-IE":"English (Ireland)","en-JM":"English (Jamaica)","en-NZ":"English (New Zealand)","en-PH":"English (Philippines)","en-ZA":"English (South Africa)","en-TT":"English (Trinidad & Tobago)","en-GB":"English (United Kingdom)","en-US":"English (United States)","en-ZW":"English (Zimbabwe)",eo:"Esperanto",et:"Estonian",fo:"Faeroese",fj:"Fijian",fi:"Finnish",fr:"French (Standard)","fr-BE":"French (Belgium)","fr-CA":"French (Canada)","fr-FR":"French (France)","fr-LU":"French (Luxembourg)","fr-MC":"French (Monaco)","fr-CH":"French (Switzerland)",fy:"Frisian",fur:"Friulian",gd:"Gaelic (Scots)","gd-IE":"Gaelic (Irish)",gl:"Galacian",ka:"Georgian",de:"German (Standard)","de-AT":"German (Austria)","de-DE":"German (Germany)","de-LI":"German (Liechtenstein)","de-LU":"German (Luxembourg)","de-CH":"German (Switzerland)",el:"Greek",gu:"Gujurati",ht:"Haitian",he:"Hebrew",hi:"Hindi",hu:"Hungarian",is:"Icelandic",id:"Indonesian",iu:"Inuktitut",ga:"Irish",it:"Italian (Standard)","it-CH":"Italian (Switzerland)",ja:"Japanese",kn:"Kannada",ks:"Kashmiri",kk:"Kazakh",km:"Khmer",ky:"Kirghiz",tlh:"Klingon",ko:"Korean","ko-KP":"Korean (North Korea)","ko-KR":"Korean (South Korea)",la:"Latin",lv:"Latvian",lt:"Lithuanian",lb:"Luxembourgish",mk:"North Macedonia",ms:"Malay",ml:"Malayalam",mt:"Maltese",mi:"Maori",mr:"Marathi",mo:"Moldavian",nv:"Navajo",ng:"Ndonga",ne:"Nepali",no:"Norwegian",nb:"Norwegian (Bokmal)",nn:"Norwegian (Nynorsk)",oc:"Occitan",or:"Oriya",om:"Oromo",fa:"Persian","fa-IR":"Persian/Iran",pl:"Polish",pt:"Portuguese","pt-BR":"Portuguese (Brazil)",pa:"Punjabi","pa-IN":"Punjabi (India)","pa-PK":"Punjabi (Pakistan)",qu:"Quechua",rm:"Rhaeto-Romanic",ro:"Romanian","ro-MO":"Romanian (Moldavia)",ru:"Russian","ru-MO":"Russian (Moldavia)",sz:"Sami (Lappish)",sg:"Sango",sa:"Sanskrit",sc:"Sardinian",sd:"Sindhi",si:"Singhalese",sr:"Serbian",sk:"Slovak",sl:"Slovenian",so:"Somani",sb:"Sorbian",es:"Spanish","es-AR":"Spanish (Argentina)","es-BO":"Spanish (Bolivia)","es-CL":"Spanish (Chile)","es-CO":"Spanish (Colombia)","es-CR":"Spanish (Costa Rica)","es-DO":"Spanish (Dominican Republic)","es-EC":"Spanish (Ecuador)","es-SV":"Spanish (El Salvador)","es-GT":"Spanish (Guatemala)","es-HN":"Spanish (Honduras)","es-MX":"Spanish (Mexico)","es-NI":"Spanish (Nicaragua)","es-PA":"Spanish (Panama)","es-PY":"Spanish (Paraguay)","es-PE":"Spanish (Peru)","es-PR":"Spanish (Puerto Rico)","es-ES":"Spanish (Spain)","es-UY":"Spanish (Uruguay)","es-VE":"Spanish (Venezuela)",sx:"Sutu",sw:"Swahili",sv:"Swedish","sv-FI":"Swedish (Finland)","sv-SV":"Swedish (Sweden)",ta:"Tamil",tt:"Tatar",te:"Teluga",th:"Thai",tig:"Tigre",ts:"Tsonga",tn:"Tswana",tr:"Turkish",tk:"Turkmen",uk:"Ukrainian",hsb:"Upper Sorbian",ur:"Urdu",ve:"Venda",vi:"Vietnamese",vo:"Volapuk",wa:"Walloon",cy:"Welsh",xh:"Xhosa",ji:"Yiddish",zu:"Zulu"}[e]!==void 0&&(this.internal.languageSettings.languageCode=e,this.internal.languageSettings.isSubscribed===!1&&(this.internal.events.subscribe("putCatalog",function(){this.internal.write("/Lang ("+this.internal.languageSettings.languageCode+")")}),this.internal.languageSettings.isSubscribed=!0)),this},jm=Gt.API,Mv=jm.getCharWidthsArray=function(e,t){var r,n,a=(t=t||{}).font||this.internal.getFont(),s=t.fontSize||this.internal.getFontSize(),l=t.charSpace||this.internal.getCharSpace(),o=t.widths?t.widths:a.metadata.Unicode.widths,u=o.fof?o.fof:1,d=t.kerning?t.kerning:a.metadata.Unicode.kerning,h=d.fof?d.fof:1,m=t.doKerning!==!1,g=0,x=e.length,b=0,v=o[0]||u,w=[];for(r=0;r<x;r++)n=e.charCodeAt(r),typeof a.metadata.widthOfString=="function"?w.push((a.metadata.widthOfGlyph(a.metadata.characterToGlyph(n))+l*(1e3/s)||0)/1e3):(g=m&&jn(d[n])==="object"&&!isNaN(parseInt(d[n][b],10))?d[n][b]/h:0,w.push((o[n]||v)/u+g)),b=n;return w},nF=jm.getStringUnitWidth=function(e,t){var r=(t=t||{}).fontSize||this.internal.getFontSize(),n=t.font||this.internal.getFont(),a=t.charSpace||this.internal.getCharSpace();return jm.processArabic&&(e=jm.processArabic(e)),typeof n.metadata.widthOfString=="function"?n.metadata.widthOfString(e,r,a)/r:Mv.apply(this,arguments).reduce(function(s,l){return s+l},0)},aF=function(e,t,r,n){for(var a=[],s=0,l=e.length,o=0;s!==l&&o+t[s]<r;)o+=t[s],s++;a.push(e.slice(0,s));var u=s;for(o=0;s!==l;)o+t[s]>n&&(a.push(e.slice(u,s)),o=0,u=s),o+=t[s],s++;return u!==s&&a.push(e.slice(u,s)),a},sF=function(e,t,r){r||(r={});var n,a,s,l,o,u,d,h=[],m=[h],g=r.textIndent||0,x=0,b=0,v=e.split(" "),w=Mv.apply(this,[" ",r])[0];if(u=r.lineIndent===-1?v[0].length+2:r.lineIndent||0){var N=Array(u).join(" "),E=[];v.map(function(T){(T=T.split(/\s*\n/)).length>1?E=E.concat(T.map(function(O,D){return(D&&O.length?`
`:"")+O})):E.push(T[0])}),v=E,u=nF.apply(this,[N,r])}for(s=0,l=v.length;s<l;s++){var j=0;if(n=v[s],u&&n[0]==`
`&&(n=n.substr(1),j=1),g+x+(b=(a=Mv.apply(this,[n,r])).reduce(function(T,O){return T+O},0))>t||j){if(b>t){for(o=aF.apply(this,[n,a,t-(g+x),t]),h.push(o.shift()),h=[o.pop()];o.length;)m.push([o.shift()]);b=a.slice(n.length-(h[0]?h[0].length:0)).reduce(function(T,O){return T+O},0)}else h=[n];m.push(h),g=b+u,x=w}else h.push(n),g+=x+b,x=w}return d=u?function(T,O){return(O?N:"")+T.join(" ")}:function(T){return T.join(" ")},m.map(d)},jm.splitTextToSize=function(e,t,r){var n,a=(r=r||{}).fontSize||this.internal.getFontSize(),s=(function(h){if(h.widths&&h.kerning)return{widths:h.widths,kerning:h.kerning};var m=this.internal.getFont(h.fontName,h.fontStyle),g="Unicode";return m.metadata[g]?{widths:m.metadata[g].widths||{0:1},kerning:m.metadata[g].kerning||{}}:{font:m.metadata,fontSize:this.internal.getFontSize(),charSpace:this.internal.getCharSpace()}}).call(this,r);n=Array.isArray(e)?e:String(e).split(/\r?\n/);var l=1*this.internal.scaleFactor*t/a;s.textIndent=r.textIndent?1*r.textIndent*this.internal.scaleFactor/a:0,s.lineIndent=r.lineIndent;var o,u,d=[];for(o=0,u=n.length;o<u;o++)d=d.concat(sF.apply(this,[n[o],l,s]));return d},(function(e){e.__fontmetrics__=e.__fontmetrics__||{};for(var t="0123456789abcdef",r="klmnopqrstuvwxyz",n={},a={},s=0;s<16;s++)n[r[s]]=t[s],a[t[s]]=r[s];var l=function(g){return"0x"+parseInt(g,10).toString(16)},o=e.__fontmetrics__.compress=function(g){var x,b,v,w,N=["{"];for(var E in g){if(x=g[E],isNaN(parseInt(E,10))?b="'"+E+"'":(E=parseInt(E,10),b=(b=l(E).slice(2)).slice(0,-1)+a[b.slice(-1)]),typeof x=="number")x<0?(v=l(x).slice(3),w="-"):(v=l(x).slice(2),w=""),v=w+v.slice(0,-1)+a[v.slice(-1)];else{if(jn(x)!=="object")throw new Error("Don't know what to do with value type "+jn(x)+".");v=o(x)}N.push(b+v)}return N.push("}"),N.join("")},u=e.__fontmetrics__.uncompress=function(g){if(typeof g!="string")throw new Error("Invalid argument passed to uncompress.");for(var x,b,v,w,N={},E=1,j=N,T=[],O="",D="",C=g.length-1,P=1;P<C;P+=1)(w=g[P])=="'"?x?(v=x.join(""),x=void 0):x=[]:x?x.push(w):w=="{"?(T.push([j,v]),j={},v=void 0):w=="}"?((b=T.pop())[0][b[1]]=j,v=void 0,j=b[0]):w=="-"?E=-1:v===void 0?n.hasOwnProperty(w)?(O+=n[w],v=parseInt(O,16)*E,E=1,O=""):O+=w:n.hasOwnProperty(w)?(D+=n[w],j[v]=parseInt(D,16)*E,E=1,v=void 0,D=""):D+=w;return N},d={codePages:["WinAnsiEncoding"],WinAnsiEncoding:u("{19m8n201n9q201o9r201s9l201t9m201u8m201w9n201x9o201y8o202k8q202l8r202m9p202q8p20aw8k203k8t203t8v203u9v2cq8s212m9t15m8w15n9w2dw9s16k8u16l9u17s9z17x8y17y9y}")},h={Unicode:{Courier:d,"Courier-Bold":d,"Courier-BoldOblique":d,"Courier-Oblique":d,Helvetica:d,"Helvetica-Bold":d,"Helvetica-BoldOblique":d,"Helvetica-Oblique":d,"Times-Roman":d,"Times-Bold":d,"Times-BoldItalic":d,"Times-Italic":d}},m={Unicode:{"Courier-Oblique":u("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Times-BoldItalic":u("{'widths'{k3o2q4ycx2r201n3m201o6o201s2l201t2l201u2l201w3m201x3m201y3m2k1t2l2r202m2n2n3m2o3m2p5n202q6o2r1w2s2l2t2l2u3m2v3t2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v2l3w3t3x3t3y3t3z3m4k5n4l4m4m4m4n4m4o4s4p4m4q4m4r4s4s4y4t2r4u3m4v4m4w3x4x5t4y4s4z4s5k3x5l4s5m4m5n3r5o3x5p4s5q4m5r5t5s4m5t3x5u3x5v2l5w1w5x2l5y3t5z3m6k2l6l3m6m3m6n2w6o3m6p2w6q2l6r3m6s3r6t1w6u1w6v3m6w1w6x4y6y3r6z3m7k3m7l3m7m2r7n2r7o1w7p3r7q2w7r4m7s3m7t2w7u2r7v2n7w1q7x2n7y3t202l3mcl4mal2ram3man3mao3map3mar3mas2lat4uau1uav3maw3way4uaz2lbk2sbl3t'fof'6obo2lbp3tbq3mbr1tbs2lbu1ybv3mbz3mck4m202k3mcm4mcn4mco4mcp4mcq5ycr4mcs4mct4mcu4mcv4mcw2r2m3rcy2rcz2rdl4sdm4sdn4sdo4sdp4sdq4sds4sdt4sdu4sdv4sdw4sdz3mek3mel3mem3men3meo3mep3meq4ser2wes2wet2weu2wev2wew1wex1wey1wez1wfl3rfm3mfn3mfo3mfp3mfq3mfr3tfs3mft3rfu3rfv3rfw3rfz2w203k6o212m6o2dw2l2cq2l3t3m3u2l17s3x19m3m}'kerning'{cl{4qu5kt5qt5rs17ss5ts}201s{201ss}201t{cks4lscmscnscoscpscls2wu2yu201ts}201x{2wu2yu}2k{201ts}2w{4qx5kx5ou5qx5rs17su5tu}2x{17su5tu5ou}2y{4qx5kx5ou5qx5rs17ss5ts}'fof'-6ofn{17sw5tw5ou5qw5rs}7t{cksclscmscnscoscps4ls}3u{17su5tu5os5qs}3v{17su5tu5os5qs}7p{17su5tu}ck{4qu5kt5qt5rs17ss5ts}4l{4qu5kt5qt5rs17ss5ts}cm{4qu5kt5qt5rs17ss5ts}cn{4qu5kt5qt5rs17ss5ts}co{4qu5kt5qt5rs17ss5ts}cp{4qu5kt5qt5rs17ss5ts}6l{4qu5ou5qw5rt17su5tu}5q{ckuclucmucnucoucpu4lu}5r{ckuclucmucnucoucpu4lu}7q{cksclscmscnscoscps4ls}6p{4qu5ou5qw5rt17sw5tw}ek{4qu5ou5qw5rt17su5tu}el{4qu5ou5qw5rt17su5tu}em{4qu5ou5qw5rt17su5tu}en{4qu5ou5qw5rt17su5tu}eo{4qu5ou5qw5rt17su5tu}ep{4qu5ou5qw5rt17su5tu}es{17ss5ts5qs4qu}et{4qu5ou5qw5rt17sw5tw}eu{4qu5ou5qw5rt17ss5ts}ev{17ss5ts5qs4qu}6z{17sw5tw5ou5qw5rs}fm{17sw5tw5ou5qw5rs}7n{201ts}fo{17sw5tw5ou5qw5rs}fp{17sw5tw5ou5qw5rs}fq{17sw5tw5ou5qw5rs}7r{cksclscmscnscoscps4ls}fs{17sw5tw5ou5qw5rs}ft{17su5tu}fu{17su5tu}fv{17su5tu}fw{17su5tu}fz{cksclscmscnscoscps4ls}}}"),"Helvetica-Bold":u("{'widths'{k3s2q4scx1w201n3r201o6o201s1w201t1w201u1w201w3m201x3m201y3m2k1w2l2l202m2n2n3r2o3r2p5t202q6o2r1s2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v2l3w3u3x3u3y3u3z3x4k6l4l4s4m4s4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3r4v4s4w3x4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v2l5w1w5x2l5y3u5z3r6k2l6l3r6m3x6n3r6o3x6p3r6q2l6r3x6s3x6t1w6u1w6v3r6w1w6x5t6y3x6z3x7k3x7l3x7m2r7n3r7o2l7p3x7q3r7r4y7s3r7t3r7u3m7v2r7w1w7x2r7y3u202l3rcl4sal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3xbq3rbr1wbs2lbu2obv3rbz3xck4s202k3rcm4scn4sco4scp4scq6ocr4scs4mct4mcu4mcv4mcw1w2m2zcy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3res3ret3reu3rev3rew1wex1wey1wez1wfl3xfm3xfn3xfo3xfp3xfq3xfr3ufs3xft3xfu3xfv3xfw3xfz3r203k6o212m6o2dw2l2cq2l3t3r3u2l17s4m19m3r}'kerning'{cl{4qs5ku5ot5qs17sv5tv}201t{2ww4wy2yw}201w{2ks}201x{2ww4wy2yw}2k{201ts201xs}2w{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}2x{5ow5qs}2y{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}'fof'-6o7p{17su5tu5ot}ck{4qs5ku5ot5qs17sv5tv}4l{4qs5ku5ot5qs17sv5tv}cm{4qs5ku5ot5qs17sv5tv}cn{4qs5ku5ot5qs17sv5tv}co{4qs5ku5ot5qs17sv5tv}cp{4qs5ku5ot5qs17sv5tv}6l{17st5tt5os}17s{2kwclvcmvcnvcovcpv4lv4wwckv}5o{2kucltcmtcntcotcpt4lt4wtckt}5q{2ksclscmscnscoscps4ls4wvcks}5r{2ks4ws}5t{2kwclvcmvcnvcovcpv4lv4wwckv}eo{17st5tt5os}fu{17su5tu5ot}6p{17ss5ts}ek{17st5tt5os}el{17st5tt5os}em{17st5tt5os}en{17st5tt5os}6o{201ts}ep{17st5tt5os}es{17ss5ts}et{17ss5ts}eu{17ss5ts}ev{17ss5ts}6z{17su5tu5os5qt}fm{17su5tu5os5qt}fn{17su5tu5os5qt}fo{17su5tu5os5qt}fp{17su5tu5os5qt}fq{17su5tu5os5qt}fs{17su5tu5os5qt}ft{17su5tu5ot}7m{5os}fv{17su5tu5ot}fw{17su5tu5ot}}}"),Courier:u("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Courier-BoldOblique":u("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Times-Bold":u("{'widths'{k3q2q5ncx2r201n3m201o6o201s2l201t2l201u2l201w3m201x3m201y3m2k1t2l2l202m2n2n3m2o3m2p6o202q6o2r1w2s2l2t2l2u3m2v3t2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v2l3w3t3x3t3y3t3z3m4k5x4l4s4m4m4n4s4o4s4p4m4q3x4r4y4s4y4t2r4u3m4v4y4w4m4x5y4y4s4z4y5k3x5l4y5m4s5n3r5o4m5p4s5q4s5r6o5s4s5t4s5u4m5v2l5w1w5x2l5y3u5z3m6k2l6l3m6m3r6n2w6o3r6p2w6q2l6r3m6s3r6t1w6u2l6v3r6w1w6x5n6y3r6z3m7k3r7l3r7m2w7n2r7o2l7p3r7q3m7r4s7s3m7t3m7u2w7v2r7w1q7x2r7y3o202l3mcl4sal2lam3man3mao3map3mar3mas2lat4uau1yav3maw3tay4uaz2lbk2sbl3t'fof'6obo2lbp3rbr1tbs2lbu2lbv3mbz3mck4s202k3mcm4scn4sco4scp4scq6ocr4scs4mct4mcu4mcv4mcw2r2m3rcy2rcz2rdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3rek3mel3mem3men3meo3mep3meq4ser2wes2wet2weu2wev2wew1wex1wey1wez1wfl3rfm3mfn3mfo3mfp3mfq3mfr3tfs3mft3rfu3rfv3rfw3rfz3m203k6o212m6o2dw2l2cq2l3t3m3u2l17s4s19m3m}'kerning'{cl{4qt5ks5ot5qy5rw17sv5tv}201t{cks4lscmscnscoscpscls4wv}2k{201ts}2w{4qu5ku7mu5os5qx5ru17su5tu}2x{17su5tu5ou5qs}2y{4qv5kv7mu5ot5qz5ru17su5tu}'fof'-6o7t{cksclscmscnscoscps4ls}3u{17su5tu5os5qu}3v{17su5tu5os5qu}fu{17su5tu5ou5qu}7p{17su5tu5ou5qu}ck{4qt5ks5ot5qy5rw17sv5tv}4l{4qt5ks5ot5qy5rw17sv5tv}cm{4qt5ks5ot5qy5rw17sv5tv}cn{4qt5ks5ot5qy5rw17sv5tv}co{4qt5ks5ot5qy5rw17sv5tv}cp{4qt5ks5ot5qy5rw17sv5tv}6l{17st5tt5ou5qu}17s{ckuclucmucnucoucpu4lu4wu}5o{ckuclucmucnucoucpu4lu4wu}5q{ckzclzcmzcnzcozcpz4lz4wu}5r{ckxclxcmxcnxcoxcpx4lx4wu}5t{ckuclucmucnucoucpu4lu4wu}7q{ckuclucmucnucoucpu4lu}6p{17sw5tw5ou5qu}ek{17st5tt5qu}el{17st5tt5ou5qu}em{17st5tt5qu}en{17st5tt5qu}eo{17st5tt5qu}ep{17st5tt5ou5qu}es{17ss5ts5qu}et{17sw5tw5ou5qu}eu{17sw5tw5ou5qu}ev{17ss5ts5qu}6z{17sw5tw5ou5qu5rs}fm{17sw5tw5ou5qu5rs}fn{17sw5tw5ou5qu5rs}fo{17sw5tw5ou5qu5rs}fp{17sw5tw5ou5qu5rs}fq{17sw5tw5ou5qu5rs}7r{cktcltcmtcntcotcpt4lt5os}fs{17sw5tw5ou5qu5rs}ft{17su5tu5ou5qu}7m{5os}fv{17su5tu5ou5qu}fw{17su5tu5ou5qu}fz{cksclscmscnscoscps4ls}}}"),Symbol:u("{'widths'{k3uaw4r19m3m2k1t2l2l202m2y2n3m2p5n202q6o3k3m2s2l2t2l2v3r2w1t3m3m2y1t2z1wbk2sbl3r'fof'6o3n3m3o3m3p3m3q3m3r3m3s3m3t3m3u1w3v1w3w3r3x3r3y3r3z2wbp3t3l3m5v2l5x2l5z3m2q4yfr3r7v3k7w1o7x3k}'kerning'{'fof'-6o}}"),Helvetica:u("{'widths'{k3p2q4mcx1w201n3r201o6o201s1q201t1q201u1q201w2l201x2l201y2l2k1w2l1w202m2n2n3r2o3r2p5t202q6o2r1n2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v1w3w3u3x3u3y3u3z3r4k6p4l4m4m4m4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3m4v4m4w3r4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v1w5w1w5x1w5y2z5z3r6k2l6l3r6m3r6n3m6o3r6p3r6q1w6r3r6s3r6t1q6u1q6v3m6w1q6x5n6y3r6z3r7k3r7l3r7m2l7n3m7o1w7p3r7q3m7r4s7s3m7t3m7u3m7v2l7w1u7x2l7y3u202l3rcl4mal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3rbr1wbs2lbu2obv3rbz3xck4m202k3rcm4mcn4mco4mcp4mcq6ocr4scs4mct4mcu4mcv4mcw1w2m2ncy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3mes3ret3reu3rev3rew1wex1wey1wez1wfl3rfm3rfn3rfo3rfp3rfq3rfr3ufs3xft3rfu3rfv3rfw3rfz3m203k6o212m6o2dw2l2cq2l3t3r3u1w17s4m19m3r}'kerning'{5q{4wv}cl{4qs5kw5ow5qs17sv5tv}201t{2wu4w1k2yu}201x{2wu4wy2yu}17s{2ktclucmucnu4otcpu4lu4wycoucku}2w{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}2x{17sy5ty5oy5qs}2y{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}'fof'-6o7p{17sv5tv5ow}ck{4qs5kw5ow5qs17sv5tv}4l{4qs5kw5ow5qs17sv5tv}cm{4qs5kw5ow5qs17sv5tv}cn{4qs5kw5ow5qs17sv5tv}co{4qs5kw5ow5qs17sv5tv}cp{4qs5kw5ow5qs17sv5tv}6l{17sy5ty5ow}do{17st5tt}4z{17st5tt}7s{fst}dm{17st5tt}dn{17st5tt}5o{ckwclwcmwcnwcowcpw4lw4wv}dp{17st5tt}dq{17st5tt}7t{5ow}ds{17st5tt}5t{2ktclucmucnu4otcpu4lu4wycoucku}fu{17sv5tv5ow}6p{17sy5ty5ow5qs}ek{17sy5ty5ow}el{17sy5ty5ow}em{17sy5ty5ow}en{5ty}eo{17sy5ty5ow}ep{17sy5ty5ow}es{17sy5ty5qs}et{17sy5ty5ow5qs}eu{17sy5ty5ow5qs}ev{17sy5ty5ow5qs}6z{17sy5ty5ow5qs}fm{17sy5ty5ow5qs}fn{17sy5ty5ow5qs}fo{17sy5ty5ow5qs}fp{17sy5ty5qs}fq{17sy5ty5ow5qs}7r{5ow}fs{17sy5ty5ow5qs}ft{17sv5tv5ow}7m{5ow}fv{17sv5tv5ow}fw{17sv5tv5ow}}}"),"Helvetica-BoldOblique":u("{'widths'{k3s2q4scx1w201n3r201o6o201s1w201t1w201u1w201w3m201x3m201y3m2k1w2l2l202m2n2n3r2o3r2p5t202q6o2r1s2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v2l3w3u3x3u3y3u3z3x4k6l4l4s4m4s4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3r4v4s4w3x4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v2l5w1w5x2l5y3u5z3r6k2l6l3r6m3x6n3r6o3x6p3r6q2l6r3x6s3x6t1w6u1w6v3r6w1w6x5t6y3x6z3x7k3x7l3x7m2r7n3r7o2l7p3x7q3r7r4y7s3r7t3r7u3m7v2r7w1w7x2r7y3u202l3rcl4sal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3xbq3rbr1wbs2lbu2obv3rbz3xck4s202k3rcm4scn4sco4scp4scq6ocr4scs4mct4mcu4mcv4mcw1w2m2zcy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3res3ret3reu3rev3rew1wex1wey1wez1wfl3xfm3xfn3xfo3xfp3xfq3xfr3ufs3xft3xfu3xfv3xfw3xfz3r203k6o212m6o2dw2l2cq2l3t3r3u2l17s4m19m3r}'kerning'{cl{4qs5ku5ot5qs17sv5tv}201t{2ww4wy2yw}201w{2ks}201x{2ww4wy2yw}2k{201ts201xs}2w{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}2x{5ow5qs}2y{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}'fof'-6o7p{17su5tu5ot}ck{4qs5ku5ot5qs17sv5tv}4l{4qs5ku5ot5qs17sv5tv}cm{4qs5ku5ot5qs17sv5tv}cn{4qs5ku5ot5qs17sv5tv}co{4qs5ku5ot5qs17sv5tv}cp{4qs5ku5ot5qs17sv5tv}6l{17st5tt5os}17s{2kwclvcmvcnvcovcpv4lv4wwckv}5o{2kucltcmtcntcotcpt4lt4wtckt}5q{2ksclscmscnscoscps4ls4wvcks}5r{2ks4ws}5t{2kwclvcmvcnvcovcpv4lv4wwckv}eo{17st5tt5os}fu{17su5tu5ot}6p{17ss5ts}ek{17st5tt5os}el{17st5tt5os}em{17st5tt5os}en{17st5tt5os}6o{201ts}ep{17st5tt5os}es{17ss5ts}et{17ss5ts}eu{17ss5ts}ev{17ss5ts}6z{17su5tu5os5qt}fm{17su5tu5os5qt}fn{17su5tu5os5qt}fo{17su5tu5os5qt}fp{17su5tu5os5qt}fq{17su5tu5os5qt}fs{17su5tu5os5qt}ft{17su5tu5ot}7m{5os}fv{17su5tu5ot}fw{17su5tu5ot}}}"),ZapfDingbats:u("{'widths'{k4u2k1w'fof'6o}'kerning'{'fof'-6o}}"),"Courier-Bold":u("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Times-Italic":u("{'widths'{k3n2q4ycx2l201n3m201o5t201s2l201t2l201u2l201w3r201x3r201y3r2k1t2l2l202m2n2n3m2o3m2p5n202q5t2r1p2s2l2t2l2u3m2v4n2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v2l3w4n3x4n3y4n3z3m4k5w4l3x4m3x4n4m4o4s4p3x4q3x4r4s4s4s4t2l4u2w4v4m4w3r4x5n4y4m4z4s5k3x5l4s5m3x5n3m5o3r5p4s5q3x5r5n5s3x5t3r5u3r5v2r5w1w5x2r5y2u5z3m6k2l6l3m6m3m6n2w6o3m6p2w6q1w6r3m6s3m6t1w6u1w6v2w6w1w6x4s6y3m6z3m7k3m7l3m7m2r7n2r7o1w7p3m7q2w7r4m7s2w7t2w7u2r7v2s7w1v7x2s7y3q202l3mcl3xal2ram3man3mao3map3mar3mas2lat4wau1vav3maw4nay4waz2lbk2sbl4n'fof'6obo2lbp3mbq3obr1tbs2lbu1zbv3mbz3mck3x202k3mcm3xcn3xco3xcp3xcq5tcr4mcs3xct3xcu3xcv3xcw2l2m2ucy2lcz2ldl4mdm4sdn4sdo4sdp4sdq4sds4sdt4sdu4sdv4sdw4sdz3mek3mel3mem3men3meo3mep3meq4mer2wes2wet2weu2wev2wew1wex1wey1wez1wfl3mfm3mfn3mfo3mfp3mfq3mfr4nfs3mft3mfu3mfv3mfw3mfz2w203k6o212m6m2dw2l2cq2l3t3m3u2l17s3r19m3m}'kerning'{cl{5kt4qw}201s{201sw}201t{201tw2wy2yy6q-t}201x{2wy2yy}2k{201tw}2w{7qs4qy7rs5ky7mw5os5qx5ru17su5tu}2x{17ss5ts5os}2y{7qs4qy7rs5ky7mw5os5qx5ru17su5tu}'fof'-6o6t{17ss5ts5qs}7t{5os}3v{5qs}7p{17su5tu5qs}ck{5kt4qw}4l{5kt4qw}cm{5kt4qw}cn{5kt4qw}co{5kt4qw}cp{5kt4qw}6l{4qs5ks5ou5qw5ru17su5tu}17s{2ks}5q{ckvclvcmvcnvcovcpv4lv}5r{ckuclucmucnucoucpu4lu}5t{2ks}6p{4qs5ks5ou5qw5ru17su5tu}ek{4qs5ks5ou5qw5ru17su5tu}el{4qs5ks5ou5qw5ru17su5tu}em{4qs5ks5ou5qw5ru17su5tu}en{4qs5ks5ou5qw5ru17su5tu}eo{4qs5ks5ou5qw5ru17su5tu}ep{4qs5ks5ou5qw5ru17su5tu}es{5ks5qs4qs}et{4qs5ks5ou5qw5ru17su5tu}eu{4qs5ks5qw5ru17su5tu}ev{5ks5qs4qs}ex{17ss5ts5qs}6z{4qv5ks5ou5qw5ru17su5tu}fm{4qv5ks5ou5qw5ru17su5tu}fn{4qv5ks5ou5qw5ru17su5tu}fo{4qv5ks5ou5qw5ru17su5tu}fp{4qv5ks5ou5qw5ru17su5tu}fq{4qv5ks5ou5qw5ru17su5tu}7r{5os}fs{4qv5ks5ou5qw5ru17su5tu}ft{17su5tu5qs}fu{17su5tu5qs}fv{17su5tu5qs}fw{17su5tu5qs}}}"),"Times-Roman":u("{'widths'{k3n2q4ycx2l201n3m201o6o201s2l201t2l201u2l201w2w201x2w201y2w2k1t2l2l202m2n2n3m2o3m2p5n202q6o2r1m2s2l2t2l2u3m2v3s2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v1w3w3s3x3s3y3s3z2w4k5w4l4s4m4m4n4m4o4s4p3x4q3r4r4s4s4s4t2l4u2r4v4s4w3x4x5t4y4s4z4s5k3r5l4s5m4m5n3r5o3x5p4s5q4s5r5y5s4s5t4s5u3x5v2l5w1w5x2l5y2z5z3m6k2l6l2w6m3m6n2w6o3m6p2w6q2l6r3m6s3m6t1w6u1w6v3m6w1w6x4y6y3m6z3m7k3m7l3m7m2l7n2r7o1w7p3m7q3m7r4s7s3m7t3m7u2w7v3k7w1o7x3k7y3q202l3mcl4sal2lam3man3mao3map3mar3mas2lat4wau1vav3maw3say4waz2lbk2sbl3s'fof'6obo2lbp3mbq2xbr1tbs2lbu1zbv3mbz2wck4s202k3mcm4scn4sco4scp4scq5tcr4mcs3xct3xcu3xcv3xcw2l2m2tcy2lcz2ldl4sdm4sdn4sdo4sdp4sdq4sds4sdt4sdu4sdv4sdw4sdz3mek2wel2wem2wen2weo2wep2weq4mer2wes2wet2weu2wev2wew1wex1wey1wez1wfl3mfm3mfn3mfo3mfp3mfq3mfr3sfs3mft3mfu3mfv3mfw3mfz3m203k6o212m6m2dw2l2cq2l3t3m3u1w17s4s19m3m}'kerning'{cl{4qs5ku17sw5ou5qy5rw201ss5tw201ws}201s{201ss}201t{ckw4lwcmwcnwcowcpwclw4wu201ts}2k{201ts}2w{4qs5kw5os5qx5ru17sx5tx}2x{17sw5tw5ou5qu}2y{4qs5kw5os5qx5ru17sx5tx}'fof'-6o7t{ckuclucmucnucoucpu4lu5os5rs}3u{17su5tu5qs}3v{17su5tu5qs}7p{17sw5tw5qs}ck{4qs5ku17sw5ou5qy5rw201ss5tw201ws}4l{4qs5ku17sw5ou5qy5rw201ss5tw201ws}cm{4qs5ku17sw5ou5qy5rw201ss5tw201ws}cn{4qs5ku17sw5ou5qy5rw201ss5tw201ws}co{4qs5ku17sw5ou5qy5rw201ss5tw201ws}cp{4qs5ku17sw5ou5qy5rw201ss5tw201ws}6l{17su5tu5os5qw5rs}17s{2ktclvcmvcnvcovcpv4lv4wuckv}5o{ckwclwcmwcnwcowcpw4lw4wu}5q{ckyclycmycnycoycpy4ly4wu5ms}5r{cktcltcmtcntcotcpt4lt4ws}5t{2ktclvcmvcnvcovcpv4lv4wuckv}7q{cksclscmscnscoscps4ls}6p{17su5tu5qw5rs}ek{5qs5rs}el{17su5tu5os5qw5rs}em{17su5tu5os5qs5rs}en{17su5qs5rs}eo{5qs5rs}ep{17su5tu5os5qw5rs}es{5qs}et{17su5tu5qw5rs}eu{17su5tu5qs5rs}ev{5qs}6z{17sv5tv5os5qx5rs}fm{5os5qt5rs}fn{17sv5tv5os5qx5rs}fo{17sv5tv5os5qx5rs}fp{5os5qt5rs}fq{5os5qt5rs}7r{ckuclucmucnucoucpu4lu5os}fs{17sv5tv5os5qx5rs}ft{17ss5ts5qs}fu{17sw5tw5qs}fv{17sw5tw5qs}fw{17ss5ts5qs}fz{ckuclucmucnucoucpu4lu5os5rs}}}"),"Helvetica-Oblique":u("{'widths'{k3p2q4mcx1w201n3r201o6o201s1q201t1q201u1q201w2l201x2l201y2l2k1w2l1w202m2n2n3r2o3r2p5t202q6o2r1n2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v1w3w3u3x3u3y3u3z3r4k6p4l4m4m4m4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3m4v4m4w3r4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v1w5w1w5x1w5y2z5z3r6k2l6l3r6m3r6n3m6o3r6p3r6q1w6r3r6s3r6t1q6u1q6v3m6w1q6x5n6y3r6z3r7k3r7l3r7m2l7n3m7o1w7p3r7q3m7r4s7s3m7t3m7u3m7v2l7w1u7x2l7y3u202l3rcl4mal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3rbr1wbs2lbu2obv3rbz3xck4m202k3rcm4mcn4mco4mcp4mcq6ocr4scs4mct4mcu4mcv4mcw1w2m2ncy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3mes3ret3reu3rev3rew1wex1wey1wez1wfl3rfm3rfn3rfo3rfp3rfq3rfr3ufs3xft3rfu3rfv3rfw3rfz3m203k6o212m6o2dw2l2cq2l3t3r3u1w17s4m19m3r}'kerning'{5q{4wv}cl{4qs5kw5ow5qs17sv5tv}201t{2wu4w1k2yu}201x{2wu4wy2yu}17s{2ktclucmucnu4otcpu4lu4wycoucku}2w{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}2x{17sy5ty5oy5qs}2y{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}'fof'-6o7p{17sv5tv5ow}ck{4qs5kw5ow5qs17sv5tv}4l{4qs5kw5ow5qs17sv5tv}cm{4qs5kw5ow5qs17sv5tv}cn{4qs5kw5ow5qs17sv5tv}co{4qs5kw5ow5qs17sv5tv}cp{4qs5kw5ow5qs17sv5tv}6l{17sy5ty5ow}do{17st5tt}4z{17st5tt}7s{fst}dm{17st5tt}dn{17st5tt}5o{ckwclwcmwcnwcowcpw4lw4wv}dp{17st5tt}dq{17st5tt}7t{5ow}ds{17st5tt}5t{2ktclucmucnu4otcpu4lu4wycoucku}fu{17sv5tv5ow}6p{17sy5ty5ow5qs}ek{17sy5ty5ow}el{17sy5ty5ow}em{17sy5ty5ow}en{5ty}eo{17sy5ty5ow}ep{17sy5ty5ow}es{17sy5ty5qs}et{17sy5ty5ow5qs}eu{17sy5ty5ow5qs}ev{17sy5ty5ow5qs}6z{17sy5ty5ow5qs}fm{17sy5ty5ow5qs}fn{17sy5ty5ow5qs}fo{17sy5ty5ow5qs}fp{17sy5ty5qs}fq{17sy5ty5ow5qs}7r{5ow}fs{17sy5ty5ow5qs}ft{17sv5tv5ow}7m{5ow}fv{17sv5tv5ow}fw{17sv5tv5ow}}}")}};e.events.push(["addFont",function(g){var x=g.font,b=m.Unicode[x.postScriptName];b&&(x.metadata.Unicode={},x.metadata.Unicode.widths=b.widths,x.metadata.Unicode.kerning=b.kerning);var v=h.Unicode[x.postScriptName];v&&(x.metadata.Unicode.encoding=v,x.encoding=v.codePages[0])}])})(Gt.API),(function(e){var t=function(r){for(var n=r.length,a=new Uint8Array(n),s=0;s<n;s++)a[s]=r.charCodeAt(s);return a};e.API.events.push(["addFont",function(r){var n=void 0,a=r.font,s=r.instance;if(!a.isStandardFont){if(s===void 0)throw new Error("Font does not exist in vFS, import fonts or remove declaration doc.addFont('"+a.postScriptName+"').");if(typeof(n=s.existsFileInVFS(a.postScriptName)===!1?s.loadFile(a.postScriptName):s.getFileFromVFS(a.postScriptName))!="string")throw new Error("Font is not stored as string-data in vFS, import fonts or remove declaration doc.addFont('"+a.postScriptName+"').");(function(l,o){o=/^\x00\x01\x00\x00/.test(o)?t(o):t(Vv(o)),l.metadata=e.API.TTFFont.open(o),l.metadata.Unicode=l.metadata.Unicode||{encoding:{},kerning:{},widths:[]},l.metadata.glyIdsUsed=[0]})(a,n)}}])})(Gt),Gt.API.addSvgAsImage=function(e,t,r,n,a,s,l,o){if(isNaN(t)||isNaN(r))throw zn.error("jsPDF.addSvgAsImage: Invalid coordinates",arguments),new Error("Invalid coordinates passed to jsPDF.addSvgAsImage");if(isNaN(n)||isNaN(a))throw zn.error("jsPDF.addSvgAsImage: Invalid measurements",arguments),new Error("Invalid measurements (width and/or height) passed to jsPDF.addSvgAsImage");var u=document.createElement("canvas");u.width=n,u.height=a;var d=u.getContext("2d");d.fillStyle="#fff",d.fillRect(0,0,u.width,u.height);var h={ignoreMouse:!0,ignoreAnimation:!0,ignoreDimensions:!0},m=this;return(pr.canvg?Promise.resolve(pr.canvg):Tw(()=>import("./index.es-CymCgoxc.js"),[])).catch(function(g){return Promise.reject(new Error("Could not load canvg: "+g))}).then(function(g){return g.default?g.default:g}).then(function(g){return g.fromString(d,e,h)},function(){return Promise.reject(new Error("Could not load canvg."))}).then(function(g){return g.render(h)}).then(function(){m.addImage(u.toDataURL("image/jpeg",1),t,r,n,a,l,o)})},Gt.API.putTotalPages=function(e){var t,r=0;parseInt(this.internal.getFont().id.substr(1),10)<15?(t=new RegExp(e,"g"),r=this.internal.getNumberOfPages()):(t=new RegExp(this.pdfEscape16(e,this.internal.getFont()),"g"),r=this.pdfEscape16(this.internal.getNumberOfPages()+"",this.internal.getFont()));for(var n=1;n<=this.internal.getNumberOfPages();n++)for(var a=0;a<this.internal.pages[n].length;a++)this.internal.pages[n][a]=this.internal.pages[n][a].replace(t,r);return this},Gt.API.viewerPreferences=function(e,t){var r;e=e||{},t=t||!1;var n,a,s,l={HideToolbar:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},HideMenubar:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},HideWindowUI:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},FitWindow:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},CenterWindow:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},DisplayDocTitle:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.4},NonFullScreenPageMode:{defaultValue:"UseNone",value:"UseNone",type:"name",explicitSet:!1,valueSet:["UseNone","UseOutlines","UseThumbs","UseOC"],pdfVersion:1.3},Direction:{defaultValue:"L2R",value:"L2R",type:"name",explicitSet:!1,valueSet:["L2R","R2L"],pdfVersion:1.3},ViewArea:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},ViewClip:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},PrintArea:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},PrintClip:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},PrintScaling:{defaultValue:"AppDefault",value:"AppDefault",type:"name",explicitSet:!1,valueSet:["AppDefault","None"],pdfVersion:1.6},Duplex:{defaultValue:"",value:"none",type:"name",explicitSet:!1,valueSet:["Simplex","DuplexFlipShortEdge","DuplexFlipLongEdge","none"],pdfVersion:1.7},PickTrayByPDFSize:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.7},PrintPageRange:{defaultValue:"",value:"",type:"array",explicitSet:!1,valueSet:null,pdfVersion:1.7},NumCopies:{defaultValue:1,value:1,type:"integer",explicitSet:!1,valueSet:null,pdfVersion:1.7}},o=Object.keys(l),u=[],d=0,h=0,m=0;function g(b,v){var w,N=!1;for(w=0;w<b.length;w+=1)b[w]===v&&(N=!0);return N}if(this.internal.viewerpreferences===void 0&&(this.internal.viewerpreferences={},this.internal.viewerpreferences.configuration=JSON.parse(JSON.stringify(l)),this.internal.viewerpreferences.isSubscribed=!1),r=this.internal.viewerpreferences.configuration,e==="reset"||t===!0){var x=o.length;for(m=0;m<x;m+=1)r[o[m]].value=r[o[m]].defaultValue,r[o[m]].explicitSet=!1}if(jn(e)==="object"){for(a in e)if(s=e[a],g(o,a)&&s!==void 0){if(r[a].type==="boolean"&&typeof s=="boolean")r[a].value=s;else if(r[a].type==="name"&&g(r[a].valueSet,s))r[a].value=s;else if(r[a].type==="integer"&&Number.isInteger(s))r[a].value=s;else if(r[a].type==="array"){for(d=0;d<s.length;d+=1)if(n=!0,s[d].length===1&&typeof s[d][0]=="number")u.push(String(s[d]-1));else if(s[d].length>1){for(h=0;h<s[d].length;h+=1)typeof s[d][h]!="number"&&(n=!1);n===!0&&u.push([s[d][0]-1,s[d][1]-1].join(" "))}r[a].value="["+u.join(" ")+"]"}else r[a].value=r[a].defaultValue;r[a].explicitSet=!0}}return this.internal.viewerpreferences.isSubscribed===!1&&(this.internal.events.subscribe("putCatalog",function(){var b,v=[];for(b in r)r[b].explicitSet===!0&&(r[b].type==="name"?v.push("/"+b+" /"+r[b].value):v.push("/"+b+" "+r[b].value));v.length!==0&&this.internal.write(`/ViewerPreferences
<<
`+v.join(`
`)+`
>>`)}),this.internal.viewerpreferences.isSubscribed=!0),this.internal.viewerpreferences.configuration=r,this},(function(e){var t=function(){var n='<rdf:RDF xmlns:rdf="http://www.w3.org/1999/02/22-rdf-syntax-ns#"><rdf:Description rdf:about="" xmlns:jspdf="'+this.internal.__metadata__.namespaceuri+'"><jspdf:metadata>',a=unescape(encodeURIComponent('<x:xmpmeta xmlns:x="adobe:ns:meta/">')),s=unescape(encodeURIComponent(n)),l=unescape(encodeURIComponent(this.internal.__metadata__.metadata)),o=unescape(encodeURIComponent("</jspdf:metadata></rdf:Description></rdf:RDF>")),u=unescape(encodeURIComponent("</x:xmpmeta>")),d=s.length+l.length+o.length+a.length+u.length;this.internal.__metadata__.metadata_object_number=this.internal.newObject(),this.internal.write("<< /Type /Metadata /Subtype /XML /Length "+d+" >>"),this.internal.write("stream"),this.internal.write(a+s+l+o+u),this.internal.write("endstream"),this.internal.write("endobj")},r=function(){this.internal.__metadata__.metadata_object_number&&this.internal.write("/Metadata "+this.internal.__metadata__.metadata_object_number+" 0 R")};e.addMetadata=function(n,a){return this.internal.__metadata__===void 0&&(this.internal.__metadata__={metadata:n,namespaceuri:a||"http://jspdf.default.namespaceuri/"},this.internal.events.subscribe("putCatalog",r),this.internal.events.subscribe("postPutResources",t)),this}})(Gt.API),(function(e){var t=e.API,r=t.pdfEscape16=function(s,l){for(var o,u=l.metadata.Unicode.widths,d=["","0","00","000","0000"],h=[""],m=0,g=s.length;m<g;++m){if(o=l.metadata.characterToGlyph(s.charCodeAt(m)),l.metadata.glyIdsUsed.push(o),l.metadata.toUnicode[o]=s.charCodeAt(m),u.indexOf(o)==-1&&(u.push(o),u.push([parseInt(l.metadata.widthOfGlyph(o),10)])),o=="0")return h.join("");o=o.toString(16),h.push(d[4-o.length],o)}return h.join("")},n=function(s){var l,o,u,d,h,m,g;for(h=`/CIDInit /ProcSet findresource begin
12 dict begin
begincmap
/CIDSystemInfo <<
  /Registry (Adobe)
  /Ordering (UCS)
  /Supplement 0
>> def
/CMapName /Adobe-Identity-UCS def
/CMapType 2 def
1 begincodespacerange
<0000><ffff>
endcodespacerange`,u=[],m=0,g=(o=Object.keys(s).sort(function(x,b){return x-b})).length;m<g;m++)l=o[m],u.length>=100&&(h+=`
`+u.length+` beginbfchar
`+u.join(`
`)+`
endbfchar`,u=[]),s[l]!==void 0&&s[l]!==null&&typeof s[l].toString=="function"&&(d=("0000"+s[l].toString(16)).slice(-4),l=("0000"+(+l).toString(16)).slice(-4),u.push("<"+l+"><"+d+">"));return u.length&&(h+=`
`+u.length+` beginbfchar
`+u.join(`
`)+`
endbfchar
`),h+`endcmap
CMapName currentdict /CMap defineresource pop
end
end`};t.events.push(["putFont",function(s){(function(l){var o=l.font,u=l.out,d=l.newObject,h=l.putStream;if(o.metadata instanceof e.API.TTFFont&&o.encoding==="Identity-H"){for(var m=o.metadata.Unicode.widths,g=o.metadata.subset.encode(o.metadata.glyIdsUsed,1),x="",b=0;b<g.length;b++)x+=String.fromCharCode(g[b]);var v=d();h({data:x,addLength1:!0,objectId:v}),u("endobj");var w=d();h({data:n(o.metadata.toUnicode),addLength1:!0,objectId:w}),u("endobj");var N=d();u("<<"),u("/Type /FontDescriptor"),u("/FontName /"+km(o.fontName)),u("/FontFile2 "+v+" 0 R"),u("/FontBBox "+e.API.PDFObject.convert(o.metadata.bbox)),u("/Flags "+o.metadata.flags),u("/StemV "+o.metadata.stemV),u("/ItalicAngle "+o.metadata.italicAngle),u("/Ascent "+o.metadata.ascender),u("/Descent "+o.metadata.decender),u("/CapHeight "+o.metadata.capHeight),u(">>"),u("endobj");var E=d();u("<<"),u("/Type /Font"),u("/BaseFont /"+km(o.fontName)),u("/FontDescriptor "+N+" 0 R"),u("/W "+e.API.PDFObject.convert(m)),u("/CIDToGIDMap /Identity"),u("/DW 1000"),u("/Subtype /CIDFontType2"),u("/CIDSystemInfo"),u("<<"),u("/Supplement 0"),u("/Registry (Adobe)"),u("/Ordering ("+o.encoding+")"),u(">>"),u(">>"),u("endobj"),o.objectNumber=d(),u("<<"),u("/Type /Font"),u("/Subtype /Type0"),u("/ToUnicode "+w+" 0 R"),u("/BaseFont /"+km(o.fontName)),u("/Encoding /"+o.encoding),u("/DescendantFonts ["+E+" 0 R]"),u(">>"),u("endobj"),o.isAlreadyPutted=!0}})(s)}]),t.events.push(["putFont",function(s){(function(l){var o=l.font,u=l.out,d=l.newObject,h=l.putStream;if(o.metadata instanceof e.API.TTFFont&&o.encoding==="WinAnsiEncoding"){for(var m=o.metadata.rawData,g="",x=0;x<m.length;x++)g+=String.fromCharCode(m[x]);var b=d();h({data:g,addLength1:!0,objectId:b}),u("endobj");var v=d();h({data:n(o.metadata.toUnicode),addLength1:!0,objectId:v}),u("endobj");var w=d();u("<<"),u("/Descent "+o.metadata.decender),u("/CapHeight "+o.metadata.capHeight),u("/StemV "+o.metadata.stemV),u("/Type /FontDescriptor"),u("/FontFile2 "+b+" 0 R"),u("/Flags 96"),u("/FontBBox "+e.API.PDFObject.convert(o.metadata.bbox)),u("/FontName /"+km(o.fontName)),u("/ItalicAngle "+o.metadata.italicAngle),u("/Ascent "+o.metadata.ascender),u(">>"),u("endobj"),o.objectNumber=d();for(var N=0;N<o.metadata.hmtx.widths.length;N++)o.metadata.hmtx.widths[N]=parseInt(o.metadata.hmtx.widths[N]*(1e3/o.metadata.head.unitsPerEm));u("<</Subtype/TrueType/Type/Font/ToUnicode "+v+" 0 R/BaseFont/"+km(o.fontName)+"/FontDescriptor "+w+" 0 R/Encoding/"+o.encoding+" /FirstChar 29 /LastChar 255 /Widths "+e.API.PDFObject.convert(o.metadata.hmtx.widths)+">>"),u("endobj"),o.isAlreadyPutted=!0}})(s)}]);var a=function(s){var l,o=s.text||"",u=s.x,d=s.y,h=s.options||{},m=s.mutex||{},g=m.pdfEscape,x=m.activeFontKey,b=m.fonts,v=x,w="",N=0,E="",j=b[v].encoding;if(b[v].encoding!=="Identity-H")return{text:o,x:u,y:d,options:h,mutex:m};for(E=o,v=x,Array.isArray(o)&&(E=o[0]),N=0;N<E.length;N+=1)b[v].metadata.hasOwnProperty("cmap")&&(l=b[v].metadata.cmap.unicode.codeMap[E[N].charCodeAt(0)]),l||E[N].charCodeAt(0)<256&&b[v].metadata.hasOwnProperty("Unicode")?w+=E[N]:w+="";var T="";return parseInt(v.slice(1))<14||j==="WinAnsiEncoding"?T=g(w,v).split("").map(function(O){return O.charCodeAt(0).toString(16)}).join(""):j==="Identity-H"&&(T=r(w,b[v])),m.isHex=!0,{text:T,x:u,y:d,options:h,mutex:m}};t.events.push(["postProcessText",function(s){var l=s.text||"",o=[],u={text:l,x:s.x,y:s.y,options:s.options,mutex:s.mutex};if(Array.isArray(l)){var d=0;for(d=0;d<l.length;d+=1)Array.isArray(l[d])&&l[d].length===3?o.push([a(Object.assign({},u,{text:l[d][0]})).text,l[d][1],l[d][2]]):o.push(a(Object.assign({},u,{text:l[d]})).text);s.text=o}else s.text=a(Object.assign({},u,{text:l})).text}])})(Gt),(function(e){var t=function(){return this.internal.vFS===void 0&&(this.internal.vFS={}),!0};e.existsFileInVFS=function(r){return t.call(this),this.internal.vFS[r]!==void 0},e.addFileToVFS=function(r,n){return t.call(this),this.internal.vFS[r]=n,this},e.getFileFromVFS=function(r){return t.call(this),this.internal.vFS[r]!==void 0?this.internal.vFS[r]:null}})(Gt.API),(function(e){e.__bidiEngine__=e.prototype.__bidiEngine__=function(n){var a,s,l,o,u,d,h,m=t,g=[[0,3,0,1,0,0,0],[0,3,0,1,2,2,0],[0,3,0,17,2,0,1],[0,3,5,5,4,1,0],[0,3,21,21,4,0,1],[0,3,5,5,4,2,0]],x=[[2,0,1,1,0,1,0],[2,0,1,1,0,2,0],[2,0,2,1,3,2,0],[2,0,2,33,3,1,1]],b={L:0,R:1,EN:2,AN:3,N:4,B:5,S:6},v={0:0,5:1,6:2,7:3,32:4,251:5,254:6,255:7},w=["(",")","(","<",">","<","[","]","[","{","}","{","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","",""],N=new RegExp(/^([1-4|9]|1[0-9]|2[0-9]|3[0168]|4[04589]|5[012]|7[78]|159|16[0-9]|17[0-2]|21[569]|22[03489]|250)$/),E=!1,j=0;this.__bidiEngine__={};var T=function(L){var U=L.charCodeAt(),V=U>>8,Y=v[V];return Y!==void 0?m[256*Y+(255&U)]:V===252||V===253?"AL":N.test(V)?"L":V===8?"R":"N"},O=function(L){for(var U,V=0;V<L.length;V++){if((U=T(L.charAt(V)))==="L")return!1;if(U==="R")return!0}return!1},D=function(L,U,V,Y){var de,te,ie,ge,oe=U[Y];switch(oe){case"L":case"R":case"LRE":case"RLE":case"LRO":case"RLO":case"PDF":E=!1;break;case"N":case"AN":break;case"EN":E&&(oe="AN");break;case"AL":E=!0,oe="R";break;case"WS":case"BN":oe="N";break;case"CS":Y<1||Y+1>=U.length||(de=V[Y-1])!=="EN"&&de!=="AN"||(te=U[Y+1])!=="EN"&&te!=="AN"?oe="N":E&&(te="AN"),oe=te===de?te:"N";break;case"ES":oe=(de=Y>0?V[Y-1]:"B")==="EN"&&Y+1<U.length&&U[Y+1]==="EN"?"EN":"N";break;case"ET":if(Y>0&&V[Y-1]==="EN"){oe="EN";break}if(E){oe="N";break}for(ie=Y+1,ge=U.length;ie<ge&&U[ie]==="ET";)ie++;oe=ie<ge&&U[ie]==="EN"?"EN":"N";break;case"NSM":if(l&&!o){for(ge=U.length,ie=Y+1;ie<ge&&U[ie]==="NSM";)ie++;if(ie<ge){var Se=L[Y],ne=Se>=1425&&Se<=2303||Se===64286;if(de=U[ie],ne&&(de==="R"||de==="AL")){oe="R";break}}}oe=Y<1||(de=U[Y-1])==="B"?"N":V[Y-1];break;case"B":E=!1,a=!0,oe=j;break;case"S":s=!0,oe="N"}return oe},C=function(L,U,V){var Y=L.split("");return V&&P(Y,V,{hiLevel:j}),Y.reverse(),U&&U.reverse(),Y.join("")},P=function(L,U,V){var Y,de,te,ie,ge,oe=-1,Se=L.length,ne=0,M=[],R=j?x:g,q=[];for(E=!1,a=!1,s=!1,de=0;de<Se;de++)q[de]=T(L[de]);for(te=0;te<Se;te++){if(ge=ne,M[te]=D(L,q,M,te),Y=240&(ne=R[ge][b[M[te]]]),ne&=15,U[te]=ie=R[ne][5],Y>0)if(Y===16){for(de=oe;de<te;de++)U[de]=1;oe=-1}else oe=-1;if(R[ne][6])oe===-1&&(oe=te);else if(oe>-1){for(de=oe;de<te;de++)U[de]=ie;oe=-1}q[te]==="B"&&(U[te]=0),V.hiLevel|=ie}s&&(function(K,ee,ce){for(var Q=0;Q<ce;Q++)if(K[Q]==="S"){ee[Q]=j;for(var re=Q-1;re>=0&&K[re]==="WS";re--)ee[re]=j}})(q,U,Se)},B=function(L,U,V,Y,de){if(!(de.hiLevel<L)){if(L===1&&j===1&&!a)return U.reverse(),void(V&&V.reverse());for(var te,ie,ge,oe,Se=U.length,ne=0;ne<Se;){if(Y[ne]>=L){for(ge=ne+1;ge<Se&&Y[ge]>=L;)ge++;for(oe=ne,ie=ge-1;oe<ie;oe++,ie--)te=U[oe],U[oe]=U[ie],U[ie]=te,V&&(te=V[oe],V[oe]=V[ie],V[ie]=te);ne=ge}ne++}}},H=function(L,U,V){var Y=L.split(""),de={hiLevel:j};return V||(V=[]),P(Y,V,de),(function(te,ie,ge){if(ge.hiLevel!==0&&h)for(var oe,Se=0;Se<te.length;Se++)ie[Se]===1&&(oe=w.indexOf(te[Se]))>=0&&(te[Se]=w[oe+1])})(Y,V,de),B(2,Y,U,V,de),B(1,Y,U,V,de),Y.join("")};return this.__bidiEngine__.doBidiReorder=function(L,U,V){if((function(de,te){if(te)for(var ie=0;ie<de.length;ie++)te[ie]=ie;o===void 0&&(o=O(de)),d===void 0&&(d=O(de))})(L,U),l||!u||d)if(l&&u&&o^d)j=o?1:0,L=C(L,U,V);else if(!l&&u&&d)j=o?1:0,L=H(L,U,V),L=C(L,U);else if(!l||o||u||d){if(l&&!u&&o^d)L=C(L,U),o?(j=0,L=H(L,U,V)):(j=1,L=H(L,U,V),L=C(L,U));else if(l&&o&&!u&&d)j=1,L=H(L,U,V),L=C(L,U);else if(!l&&!u&&o^d){var Y=h;o?(j=1,L=H(L,U,V),j=0,h=!1,L=H(L,U,V),h=Y):(j=0,L=H(L,U,V),L=C(L,U),j=1,h=!1,L=H(L,U,V),h=Y,L=C(L,U))}}else j=0,L=H(L,U,V);else j=o?1:0,L=H(L,U,V);return L},this.__bidiEngine__.setOptions=function(L){L&&(l=L.isInputVisual,u=L.isOutputVisual,o=L.isInputRtl,d=L.isOutputRtl,h=L.isSymmetricSwapping)},this.__bidiEngine__.setOptions(n),this.__bidiEngine__};var t=["BN","BN","BN","BN","BN","BN","BN","BN","BN","S","B","S","WS","B","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","B","B","B","S","WS","N","N","ET","ET","ET","N","N","N","N","N","ES","CS","ES","CS","CS","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","CS","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","BN","BN","BN","BN","BN","BN","B","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","CS","N","ET","ET","ET","ET","N","N","N","N","L","N","N","BN","N","N","ET","ET","EN","EN","N","L","N","N","N","EN","L","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","N","N","N","N","N","ET","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","R","NSM","R","NSM","NSM","R","NSM","NSM","R","NSM","N","N","N","N","N","N","N","N","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","N","N","N","N","N","R","R","R","R","R","N","N","N","N","N","N","N","N","N","N","N","AN","AN","AN","AN","AN","AN","N","N","AL","ET","ET","AL","CS","AL","N","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AL","AL","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AN","AN","AN","AN","AN","AN","AN","AN","AN","AN","ET","AN","AN","AL","AL","AL","NSM","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AN","N","NSM","NSM","NSM","NSM","NSM","NSM","AL","AL","NSM","NSM","N","NSM","NSM","NSM","NSM","AL","AL","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","N","AL","AL","NSM","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AL","N","N","N","N","N","N","N","N","N","N","N","N","N","N","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","R","R","N","N","N","N","R","N","N","N","N","N","WS","WS","WS","WS","WS","WS","WS","WS","WS","WS","WS","BN","BN","BN","L","R","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","WS","B","LRE","RLE","PDF","LRO","RLO","CS","ET","ET","ET","ET","ET","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","CS","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","WS","BN","BN","BN","BN","BN","N","LRI","RLI","FSI","PDI","BN","BN","BN","BN","BN","BN","EN","L","N","N","EN","EN","EN","EN","EN","EN","ES","ES","N","N","N","L","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","ES","ES","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","L","L","L","L","L","L","L","N","N","N","N","N","N","N","N","N","N","N","N","L","L","L","L","L","N","N","N","N","N","R","NSM","R","R","R","R","R","R","R","R","R","R","ES","R","R","R","R","R","R","R","R","R","R","R","R","R","N","R","R","R","R","R","N","R","N","R","R","N","R","R","N","R","R","R","R","R","R","R","R","R","R","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","CS","N","CS","N","N","CS","N","N","N","N","N","N","N","N","N","ET","N","N","ES","ES","N","N","N","N","N","ET","ET","N","N","N","N","N","AL","AL","AL","AL","AL","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","N","N","BN","N","N","N","ET","ET","ET","N","N","N","N","N","ES","CS","ES","CS","CS","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","CS","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","N","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","L","L","L","L","L","L","N","N","L","L","L","L","L","L","N","N","L","L","L","L","L","L","N","N","L","L","L","N","N","N","ET","ET","N","N","N","ET","ET","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N"],r=new e.__bidiEngine__({isInputVisual:!0});e.API.events.push(["postProcessText",function(n){var a=n.text;n.x,n.y;var s=n.options||{};n.mutex,s.lang;var l=[];if(s.isInputVisual=typeof s.isInputVisual!="boolean"||s.isInputVisual,r.setOptions(s),Object.prototype.toString.call(a)==="[object Array]"){var o=0;for(l=[],o=0;o<a.length;o+=1)Object.prototype.toString.call(a[o])==="[object Array]"?l.push([r.doBidiReorder(a[o][0]),a[o][1],a[o][2]]):l.push([r.doBidiReorder(a[o])]);n.text=l}else n.text=r.doBidiReorder(a);r.setOptions({isInputVisual:!0})}])})(Gt),Gt.API.TTFFont=(function(){function e(t){var r;if(this.rawData=t,r=this.contents=new If(t),this.contents.pos=4,r.readString(4)==="ttcf")throw new Error("TTCF not supported.");r.pos=0,this.parse(),this.subset=new Y4e(this),this.registerTTF()}return e.open=function(t){return new e(t)},e.prototype.parse=function(){return this.directory=new L4e(this.contents),this.head=new R4e(this),this.name=new q4e(this),this.cmap=new fU(this),this.toUnicode={},this.hhea=new I4e(this),this.maxp=new $4e(this),this.hmtx=new H4e(this),this.post=new U4e(this),this.os2=new B4e(this),this.loca=new G4e(this),this.glyf=new V4e(this),this.ascender=this.os2.exists&&this.os2.ascender||this.hhea.ascender,this.decender=this.os2.exists&&this.os2.decender||this.hhea.decender,this.lineGap=this.os2.exists&&this.os2.lineGap||this.hhea.lineGap,this.bbox=[this.head.xMin,this.head.yMin,this.head.xMax,this.head.yMax]},e.prototype.registerTTF=function(){var t,r,n,a,s;if(this.scaleFactor=1e3/this.head.unitsPerEm,this.bbox=(function(){var l,o,u,d;for(d=[],l=0,o=(u=this.bbox).length;l<o;l++)t=u[l],d.push(Math.round(t*this.scaleFactor));return d}).call(this),this.stemV=0,this.post.exists?(n=255&(a=this.post.italic_angle),32768&(r=a>>16)&&(r=-(1+(65535^r))),this.italicAngle=+(r+"."+n)):this.italicAngle=0,this.ascender=Math.round(this.ascender*this.scaleFactor),this.decender=Math.round(this.decender*this.scaleFactor),this.lineGap=Math.round(this.lineGap*this.scaleFactor),this.capHeight=this.os2.exists&&this.os2.capHeight||this.ascender,this.xHeight=this.os2.exists&&this.os2.xHeight||0,this.familyClass=(this.os2.exists&&this.os2.familyClass||0)>>8,this.isSerif=(s=this.familyClass)===1||s===2||s===3||s===4||s===5||s===7,this.isScript=this.familyClass===10,this.flags=0,this.post.isFixedPitch&&(this.flags|=1),this.isSerif&&(this.flags|=2),this.isScript&&(this.flags|=8),this.italicAngle!==0&&(this.flags|=64),this.flags|=32,!this.cmap.unicode)throw new Error("No unicode cmap for font")},e.prototype.characterToGlyph=function(t){var r;return((r=this.cmap.unicode)!=null?r.codeMap[t]:void 0)||0},e.prototype.widthOfGlyph=function(t){var r;return r=1e3/this.head.unitsPerEm,this.hmtx.forGlyph(t).advance*r},e.prototype.widthOfString=function(t,r,n){var a,s,l,o;for(l=0,s=0,o=(t=""+t).length;0<=o?s<o:s>o;s=0<=o?++s:--s)a=t.charCodeAt(s),l+=this.widthOfGlyph(this.characterToGlyph(a))+n*(1e3/r)||0;return l*(r/1e3)},e.prototype.lineHeight=function(t,r){var n;return r==null&&(r=!1),n=r?this.lineGap:0,(this.ascender+n-this.decender)/1e3*t},e})();var Rc,If=(function(){function e(t){this.data=t??[],this.pos=0,this.length=this.data.length}return e.prototype.readByte=function(){return this.data[this.pos++]},e.prototype.writeByte=function(t){return this.data[this.pos++]=t},e.prototype.readUInt32=function(){return 16777216*this.readByte()+(this.readByte()<<16)+(this.readByte()<<8)+this.readByte()},e.prototype.writeUInt32=function(t){return this.writeByte(t>>>24&255),this.writeByte(t>>16&255),this.writeByte(t>>8&255),this.writeByte(255&t)},e.prototype.readInt32=function(){var t;return(t=this.readUInt32())>=2147483648?t-4294967296:t},e.prototype.writeInt32=function(t){return t<0&&(t+=4294967296),this.writeUInt32(t)},e.prototype.readUInt16=function(){return this.readByte()<<8|this.readByte()},e.prototype.writeUInt16=function(t){return this.writeByte(t>>8&255),this.writeByte(255&t)},e.prototype.readInt16=function(){var t;return(t=this.readUInt16())>=32768?t-65536:t},e.prototype.writeInt16=function(t){return t<0&&(t+=65536),this.writeUInt16(t)},e.prototype.readString=function(t){var r,n;for(n=[],r=0;0<=t?r<t:r>t;r=0<=t?++r:--r)n[r]=String.fromCharCode(this.readByte());return n.join("")},e.prototype.writeString=function(t){var r,n,a;for(a=[],r=0,n=t.length;0<=n?r<n:r>n;r=0<=n?++r:--r)a.push(this.writeByte(t.charCodeAt(r)));return a},e.prototype.readShort=function(){return this.readInt16()},e.prototype.writeShort=function(t){return this.writeInt16(t)},e.prototype.readLongLong=function(){var t,r,n,a,s,l,o,u;return t=this.readByte(),r=this.readByte(),n=this.readByte(),a=this.readByte(),s=this.readByte(),l=this.readByte(),o=this.readByte(),u=this.readByte(),128&t?-1*(72057594037927940*(255^t)+281474976710656*(255^r)+1099511627776*(255^n)+4294967296*(255^a)+16777216*(255^s)+65536*(255^l)+256*(255^o)+(255^u)+1):72057594037927940*t+281474976710656*r+1099511627776*n+4294967296*a+16777216*s+65536*l+256*o+u},e.prototype.writeLongLong=function(t){var r,n;return r=Math.floor(t/4294967296),n=4294967295&t,this.writeByte(r>>24&255),this.writeByte(r>>16&255),this.writeByte(r>>8&255),this.writeByte(255&r),this.writeByte(n>>24&255),this.writeByte(n>>16&255),this.writeByte(n>>8&255),this.writeByte(255&n)},e.prototype.readInt=function(){return this.readInt32()},e.prototype.writeInt=function(t){return this.writeInt32(t)},e.prototype.read=function(t){var r,n;for(r=[],n=0;0<=t?n<t:n>t;n=0<=t?++n:--n)r.push(this.readByte());return r},e.prototype.write=function(t){var r,n,a,s;for(s=[],n=0,a=t.length;n<a;n++)r=t[n],s.push(this.writeByte(r));return s},e})(),L4e=(function(){var e;function t(r){var n,a,s;for(this.scalarType=r.readInt(),this.tableCount=r.readShort(),this.searchRange=r.readShort(),this.entrySelector=r.readShort(),this.rangeShift=r.readShort(),this.tables={},a=0,s=this.tableCount;0<=s?a<s:a>s;a=0<=s?++a:--a)n={tag:r.readString(4),checksum:r.readInt(),offset:r.readInt(),length:r.readInt()},this.tables[n.tag]=n}return t.prototype.encode=function(r){var n,a,s,l,o,u,d,h,m,g,x,b,v;for(v in x=Object.keys(r).length,u=Math.log(2),m=16*Math.floor(Math.log(x)/u),l=Math.floor(m/u),h=16*x-m,(a=new If).writeInt(this.scalarType),a.writeShort(x),a.writeShort(m),a.writeShort(l),a.writeShort(h),s=16*x,d=a.pos+s,o=null,b=[],r)for(g=r[v],a.writeString(v),a.writeInt(e(g)),a.writeInt(d),a.writeInt(g.length),b=b.concat(g),v==="head"&&(o=d),d+=g.length;d%4;)b.push(0),d++;return a.write(b),n=2981146554-e(a.data),a.pos=o+8,a.writeUInt32(n),a.data},e=function(r){var n,a,s,l;for(r=hU.call(r);r.length%4;)r.push(0);for(s=new If(r),a=0,n=0,l=r.length;n<l;n=n+=4)a+=s.readUInt32();return 4294967295&a},t})(),M4e={}.hasOwnProperty,yu=function(e,t){for(var r in t)M4e.call(t,r)&&(e[r]=t[r]);function n(){this.constructor=e}return n.prototype=t.prototype,e.prototype=new n,e.__super__=t.prototype,e};Rc=(function(){function e(t){var r;this.file=t,r=this.file.directory.tables[this.tag],this.exists=!!r,r&&(this.offset=r.offset,this.length=r.length,this.parse(this.file.contents))}return e.prototype.parse=function(){},e.prototype.encode=function(){},e.prototype.raw=function(){return this.exists?(this.file.contents.pos=this.offset,this.file.contents.read(this.length)):null},e})();var R4e=(function(){function e(){return e.__super__.constructor.apply(this,arguments)}return yu(e,Rc),e.prototype.tag="head",e.prototype.parse=function(t){return t.pos=this.offset,this.version=t.readInt(),this.revision=t.readInt(),this.checkSumAdjustment=t.readInt(),this.magicNumber=t.readInt(),this.flags=t.readShort(),this.unitsPerEm=t.readShort(),this.created=t.readLongLong(),this.modified=t.readLongLong(),this.xMin=t.readShort(),this.yMin=t.readShort(),this.xMax=t.readShort(),this.yMax=t.readShort(),this.macStyle=t.readShort(),this.lowestRecPPEM=t.readShort(),this.fontDirectionHint=t.readShort(),this.indexToLocFormat=t.readShort(),this.glyphDataFormat=t.readShort()},e.prototype.encode=function(t){var r;return(r=new If).writeInt(this.version),r.writeInt(this.revision),r.writeInt(this.checkSumAdjustment),r.writeInt(this.magicNumber),r.writeShort(this.flags),r.writeShort(this.unitsPerEm),r.writeLongLong(this.created),r.writeLongLong(this.modified),r.writeShort(this.xMin),r.writeShort(this.yMin),r.writeShort(this.xMax),r.writeShort(this.yMax),r.writeShort(this.macStyle),r.writeShort(this.lowestRecPPEM),r.writeShort(this.fontDirectionHint),r.writeShort(t),r.writeShort(this.glyphDataFormat),r.data},e})(),mF=(function(){function e(t,r){var n,a,s,l,o,u,d,h,m,g,x,b,v,w,N,E,j;switch(this.platformID=t.readUInt16(),this.encodingID=t.readShort(),this.offset=r+t.readInt(),m=t.pos,t.pos=this.offset,this.format=t.readUInt16(),this.length=t.readUInt16(),this.language=t.readUInt16(),this.isUnicode=this.platformID===3&&this.encodingID===1&&this.format===4||this.platformID===0&&this.format===4,this.codeMap={},this.format){case 0:for(u=0;u<256;++u)this.codeMap[u]=t.readByte();break;case 4:for(x=t.readUInt16(),g=x/2,t.pos+=6,s=(function(){var T,O;for(O=[],u=T=0;0<=g?T<g:T>g;u=0<=g?++T:--T)O.push(t.readUInt16());return O})(),t.pos+=2,v=(function(){var T,O;for(O=[],u=T=0;0<=g?T<g:T>g;u=0<=g?++T:--T)O.push(t.readUInt16());return O})(),d=(function(){var T,O;for(O=[],u=T=0;0<=g?T<g:T>g;u=0<=g?++T:--T)O.push(t.readUInt16());return O})(),h=(function(){var T,O;for(O=[],u=T=0;0<=g?T<g:T>g;u=0<=g?++T:--T)O.push(t.readUInt16());return O})(),a=(this.length-t.pos+this.offset)/2,o=(function(){var T,O;for(O=[],u=T=0;0<=a?T<a:T>a;u=0<=a?++T:--T)O.push(t.readUInt16());return O})(),u=N=0,j=s.length;N<j;u=++N)for(w=s[u],n=E=b=v[u];b<=w?E<=w:E>=w;n=b<=w?++E:--E)h[u]===0?l=n+d[u]:(l=o[h[u]/2+(n-b)-(g-u)]||0)!==0&&(l+=d[u]),this.codeMap[n]=65535&l}t.pos=m}return e.encode=function(t,r){var n,a,s,l,o,u,d,h,m,g,x,b,v,w,N,E,j,T,O,D,C,P,B,H,L,U,V,Y,de,te,ie,ge,oe,Se,ne,M,R,q,K,ee,ce,Q,re,ye,Ee,X;switch(Y=new If,l=Object.keys(t).sort(function(Je,Ce){return Je-Ce}),r){case"macroman":for(v=0,w=(function(){var Je=[];for(b=0;b<256;++b)Je.push(0);return Je})(),E={0:0},s={},de=0,oe=l.length;de<oe;de++)E[re=t[a=l[de]]]==null&&(E[re]=++v),s[a]={old:t[a],new:E[t[a]]},w[a]=E[t[a]];return Y.writeUInt16(1),Y.writeUInt16(0),Y.writeUInt32(12),Y.writeUInt16(0),Y.writeUInt16(262),Y.writeUInt16(0),Y.write(w),{charMap:s,subtable:Y.data,maxGlyphID:v+1};case"unicode":for(U=[],m=[],j=0,E={},n={},N=d=null,te=0,Se=l.length;te<Se;te++)E[O=t[a=l[te]]]==null&&(E[O]=++j),n[a]={old:O,new:E[O]},o=E[O]-a,N!=null&&o===d||(N&&m.push(N),U.push(a),d=o),N=a;for(N&&m.push(N),m.push(65535),U.push(65535),H=2*(B=U.length),P=2*Math.pow(Math.log(B)/Math.LN2,2),g=Math.log(P/2)/Math.LN2,C=2*B-P,u=[],D=[],x=[],b=ie=0,ne=U.length;ie<ne;b=++ie){if(L=U[b],h=m[b],L===65535){u.push(0),D.push(0);break}if(L-(V=n[L].new)>=32768)for(u.push(0),D.push(2*(x.length+B-b)),a=ge=L;L<=h?ge<=h:ge>=h;a=L<=h?++ge:--ge)x.push(n[a].new);else u.push(V-L),D.push(0)}for(Y.writeUInt16(3),Y.writeUInt16(1),Y.writeUInt32(12),Y.writeUInt16(4),Y.writeUInt16(16+8*B+2*x.length),Y.writeUInt16(0),Y.writeUInt16(H),Y.writeUInt16(P),Y.writeUInt16(g),Y.writeUInt16(C),ce=0,M=m.length;ce<M;ce++)a=m[ce],Y.writeUInt16(a);for(Y.writeUInt16(0),Q=0,R=U.length;Q<R;Q++)a=U[Q],Y.writeUInt16(a);for(ye=0,q=u.length;ye<q;ye++)o=u[ye],Y.writeUInt16(o);for(Ee=0,K=D.length;Ee<K;Ee++)T=D[Ee],Y.writeUInt16(T);for(X=0,ee=x.length;X<ee;X++)v=x[X],Y.writeUInt16(v);return{charMap:n,subtable:Y.data,maxGlyphID:j+1}}},e})(),fU=(function(){function e(){return e.__super__.constructor.apply(this,arguments)}return yu(e,Rc),e.prototype.tag="cmap",e.prototype.parse=function(t){var r,n,a;for(t.pos=this.offset,this.version=t.readUInt16(),a=t.readUInt16(),this.tables=[],this.unicode=null,n=0;0<=a?n<a:n>a;n=0<=a?++n:--n)r=new mF(t,this.offset),this.tables.push(r),r.isUnicode&&this.unicode==null&&(this.unicode=r);return!0},e.encode=function(t,r){var n,a;return r==null&&(r="macroman"),n=mF.encode(t,r),(a=new If).writeUInt16(0),a.writeUInt16(1),n.table=a.data.concat(n.subtable),n},e})(),I4e=(function(){function e(){return e.__super__.constructor.apply(this,arguments)}return yu(e,Rc),e.prototype.tag="hhea",e.prototype.parse=function(t){return t.pos=this.offset,this.version=t.readInt(),this.ascender=t.readShort(),this.decender=t.readShort(),this.lineGap=t.readShort(),this.advanceWidthMax=t.readShort(),this.minLeftSideBearing=t.readShort(),this.minRightSideBearing=t.readShort(),this.xMaxExtent=t.readShort(),this.caretSlopeRise=t.readShort(),this.caretSlopeRun=t.readShort(),this.caretOffset=t.readShort(),t.pos+=8,this.metricDataFormat=t.readShort(),this.numberOfMetrics=t.readUInt16()},e})(),B4e=(function(){function e(){return e.__super__.constructor.apply(this,arguments)}return yu(e,Rc),e.prototype.tag="OS/2",e.prototype.parse=function(t){if(t.pos=this.offset,this.version=t.readUInt16(),this.averageCharWidth=t.readShort(),this.weightClass=t.readUInt16(),this.widthClass=t.readUInt16(),this.type=t.readShort(),this.ySubscriptXSize=t.readShort(),this.ySubscriptYSize=t.readShort(),this.ySubscriptXOffset=t.readShort(),this.ySubscriptYOffset=t.readShort(),this.ySuperscriptXSize=t.readShort(),this.ySuperscriptYSize=t.readShort(),this.ySuperscriptXOffset=t.readShort(),this.ySuperscriptYOffset=t.readShort(),this.yStrikeoutSize=t.readShort(),this.yStrikeoutPosition=t.readShort(),this.familyClass=t.readShort(),this.panose=(function(){var r,n;for(n=[],r=0;r<10;++r)n.push(t.readByte());return n})(),this.charRange=(function(){var r,n;for(n=[],r=0;r<4;++r)n.push(t.readInt());return n})(),this.vendorID=t.readString(4),this.selection=t.readShort(),this.firstCharIndex=t.readShort(),this.lastCharIndex=t.readShort(),this.version>0&&(this.ascent=t.readShort(),this.descent=t.readShort(),this.lineGap=t.readShort(),this.winAscent=t.readShort(),this.winDescent=t.readShort(),this.codePageRange=(function(){var r,n;for(n=[],r=0;r<2;r=++r)n.push(t.readInt());return n})(),this.version>1))return this.xHeight=t.readShort(),this.capHeight=t.readShort(),this.defaultChar=t.readShort(),this.breakChar=t.readShort(),this.maxContext=t.readShort()},e})(),U4e=(function(){function e(){return e.__super__.constructor.apply(this,arguments)}return yu(e,Rc),e.prototype.tag="post",e.prototype.parse=function(t){var r,n,a;switch(t.pos=this.offset,this.format=t.readInt(),this.italicAngle=t.readInt(),this.underlinePosition=t.readShort(),this.underlineThickness=t.readShort(),this.isFixedPitch=t.readInt(),this.minMemType42=t.readInt(),this.maxMemType42=t.readInt(),this.minMemType1=t.readInt(),this.maxMemType1=t.readInt(),this.format){case 65536:case 196608:break;case 131072:var s;for(n=t.readUInt16(),this.glyphNameIndex=[],s=0;0<=n?s<n:s>n;s=0<=n?++s:--s)this.glyphNameIndex.push(t.readUInt16());for(this.names=[],a=[];t.pos<this.offset+this.length;)r=t.readByte(),a.push(this.names.push(t.readString(r)));return a;case 151552:return n=t.readUInt16(),this.offsets=t.read(n);case 262144:return this.map=(function(){var l,o,u;for(u=[],s=l=0,o=this.file.maxp.numGlyphs;0<=o?l<o:l>o;s=0<=o?++l:--l)u.push(t.readUInt32());return u}).call(this)}},e})(),z4e=function(e,t){this.raw=e,this.length=e.length,this.platformID=t.platformID,this.encodingID=t.encodingID,this.languageID=t.languageID},q4e=(function(){function e(){return e.__super__.constructor.apply(this,arguments)}return yu(e,Rc),e.prototype.tag="name",e.prototype.parse=function(t){var r,n,a,s,l,o,u,d,h,m,g;for(t.pos=this.offset,t.readShort(),r=t.readShort(),o=t.readShort(),n=[],s=0;0<=r?s<r:s>r;s=0<=r?++s:--s)n.push({platformID:t.readShort(),encodingID:t.readShort(),languageID:t.readShort(),nameID:t.readShort(),length:t.readShort(),offset:this.offset+o+t.readShort()});for(u={},s=h=0,m=n.length;h<m;s=++h)a=n[s],t.pos=a.offset,d=t.readString(a.length),l=new z4e(d,a),u[g=a.nameID]==null&&(u[g]=[]),u[a.nameID].push(l);this.strings=u,this.copyright=u[0],this.fontFamily=u[1],this.fontSubfamily=u[2],this.uniqueSubfamily=u[3],this.fontName=u[4],this.version=u[5];try{this.postscriptName=u[6][0].raw.replace(/[\x00-\x19\x80-\xff]/g,"")}catch{this.postscriptName=u[4][0].raw.replace(/[\x00-\x19\x80-\xff]/g,"")}return this.trademark=u[7],this.manufacturer=u[8],this.designer=u[9],this.description=u[10],this.vendorUrl=u[11],this.designerUrl=u[12],this.license=u[13],this.licenseUrl=u[14],this.preferredFamily=u[15],this.preferredSubfamily=u[17],this.compatibleFull=u[18],this.sampleText=u[19]},e})(),$4e=(function(){function e(){return e.__super__.constructor.apply(this,arguments)}return yu(e,Rc),e.prototype.tag="maxp",e.prototype.parse=function(t){return t.pos=this.offset,this.version=t.readInt(),this.numGlyphs=t.readUInt16(),this.maxPoints=t.readUInt16(),this.maxContours=t.readUInt16(),this.maxCompositePoints=t.readUInt16(),this.maxComponentContours=t.readUInt16(),this.maxZones=t.readUInt16(),this.maxTwilightPoints=t.readUInt16(),this.maxStorage=t.readUInt16(),this.maxFunctionDefs=t.readUInt16(),this.maxInstructionDefs=t.readUInt16(),this.maxStackElements=t.readUInt16(),this.maxSizeOfInstructions=t.readUInt16(),this.maxComponentElements=t.readUInt16(),this.maxComponentDepth=t.readUInt16()},e})(),H4e=(function(){function e(){return e.__super__.constructor.apply(this,arguments)}return yu(e,Rc),e.prototype.tag="hmtx",e.prototype.parse=function(t){var r,n,a,s,l,o,u;for(t.pos=this.offset,this.metrics=[],r=0,o=this.file.hhea.numberOfMetrics;0<=o?r<o:r>o;r=0<=o?++r:--r)this.metrics.push({advance:t.readUInt16(),lsb:t.readInt16()});for(a=this.file.maxp.numGlyphs-this.file.hhea.numberOfMetrics,this.leftSideBearings=(function(){var d,h;for(h=[],r=d=0;0<=a?d<a:d>a;r=0<=a?++d:--d)h.push(t.readInt16());return h})(),this.widths=(function(){var d,h,m,g;for(g=[],d=0,h=(m=this.metrics).length;d<h;d++)s=m[d],g.push(s.advance);return g}).call(this),n=this.widths[this.widths.length-1],u=[],r=l=0;0<=a?l<a:l>a;r=0<=a?++l:--l)u.push(this.widths.push(n));return u},e.prototype.forGlyph=function(t){return t in this.metrics?this.metrics[t]:{advance:this.metrics[this.metrics.length-1].advance,lsb:this.leftSideBearings[t-this.metrics.length]}},e})(),hU=[].slice,V4e=(function(){function e(){return e.__super__.constructor.apply(this,arguments)}return yu(e,Rc),e.prototype.tag="glyf",e.prototype.parse=function(){return this.cache={}},e.prototype.glyphFor=function(t){var r,n,a,s,l,o,u,d,h,m;return t in this.cache?this.cache[t]:(s=this.file.loca,r=this.file.contents,n=s.indexOf(t),(a=s.lengthOf(t))===0?this.cache[t]=null:(r.pos=this.offset+n,l=(o=new If(r.read(a))).readShort(),d=o.readShort(),m=o.readShort(),u=o.readShort(),h=o.readShort(),this.cache[t]=l===-1?new K4e(o,d,m,u,h):new W4e(o,l,d,m,u,h),this.cache[t]))},e.prototype.encode=function(t,r,n){var a,s,l,o,u;for(l=[],s=[],o=0,u=r.length;o<u;o++)a=t[r[o]],s.push(l.length),a&&(l=l.concat(a.encode(n)));return s.push(l.length),{table:l,offsets:s}},e})(),W4e=(function(){function e(t,r,n,a,s,l){this.raw=t,this.numberOfContours=r,this.xMin=n,this.yMin=a,this.xMax=s,this.yMax=l,this.compound=!1}return e.prototype.encode=function(){return this.raw.data},e})(),K4e=(function(){function e(t,r,n,a,s){var l,o;for(this.raw=t,this.xMin=r,this.yMin=n,this.xMax=a,this.yMax=s,this.compound=!0,this.glyphIDs=[],this.glyphOffsets=[],l=this.raw;o=l.readShort(),this.glyphOffsets.push(l.pos),this.glyphIDs.push(l.readUInt16()),32&o;)l.pos+=1&o?4:2,128&o?l.pos+=8:64&o?l.pos+=4:8&o&&(l.pos+=2)}return e.prototype.encode=function(){var t,r,n;for(r=new If(hU.call(this.raw.data)),t=0,n=this.glyphIDs.length;t<n;++t)r.pos=this.glyphOffsets[t];return r.data},e})(),G4e=(function(){function e(){return e.__super__.constructor.apply(this,arguments)}return yu(e,Rc),e.prototype.tag="loca",e.prototype.parse=function(t){var r,n;return t.pos=this.offset,r=this.file.head.indexToLocFormat,this.offsets=r===0?(function(){var a,s;for(s=[],n=0,a=this.length;n<a;n+=2)s.push(2*t.readUInt16());return s}).call(this):(function(){var a,s;for(s=[],n=0,a=this.length;n<a;n+=4)s.push(t.readUInt32());return s}).call(this)},e.prototype.indexOf=function(t){return this.offsets[t]},e.prototype.lengthOf=function(t){return this.offsets[t+1]-this.offsets[t]},e.prototype.encode=function(t,r){for(var n=new Uint32Array(this.offsets.length),a=0,s=0,l=0;l<n.length;++l)if(n[l]=a,s<r.length&&r[s]==l){++s,n[l]=a;var o=this.offsets[l],u=this.offsets[l+1]-o;u>0&&(a+=u)}for(var d=new Array(4*n.length),h=0;h<n.length;++h)d[4*h+3]=255&n[h],d[4*h+2]=(65280&n[h])>>8,d[4*h+1]=(16711680&n[h])>>16,d[4*h]=(4278190080&n[h])>>24;return d},e})(),Y4e=(function(){function e(t){this.font=t,this.subset={},this.unicodes={},this.next=33}return e.prototype.generateCmap=function(){var t,r,n,a,s;for(r in a=this.font.cmap.tables[0].codeMap,t={},s=this.subset)n=s[r],t[r]=a[n];return t},e.prototype.glyphsFor=function(t){var r,n,a,s,l,o,u;for(a={},l=0,o=t.length;l<o;l++)a[s=t[l]]=this.font.glyf.glyphFor(s);for(s in r=[],a)(n=a[s])!=null&&n.compound&&r.push.apply(r,n.glyphIDs);if(r.length>0)for(s in u=this.glyphsFor(r))n=u[s],a[s]=n;return a},e.prototype.encode=function(t,r){var n,a,s,l,o,u,d,h,m,g,x,b,v,w,N;for(a in n=fU.encode(this.generateCmap(),"unicode"),l=this.glyphsFor(t),x={0:0},N=n.charMap)x[(u=N[a]).old]=u.new;for(b in g=n.maxGlyphID,l)b in x||(x[b]=g++);return h=(function(E){var j,T;for(j in T={},E)T[E[j]]=j;return T})(x),m=Object.keys(h).sort(function(E,j){return E-j}),v=(function(){var E,j,T;for(T=[],E=0,j=m.length;E<j;E++)o=m[E],T.push(h[o]);return T})(),s=this.font.glyf.encode(l,v,x),d=this.font.loca.encode(s.offsets,v),w={cmap:this.font.cmap.raw(),glyf:s.table,loca:d,hmtx:this.font.hmtx.raw(),hhea:this.font.hhea.raw(),maxp:this.font.maxp.raw(),post:this.font.post.raw(),name:this.font.name.raw(),head:this.font.head.encode(r)},this.font.os2.exists&&(w["OS/2"]=this.font.os2.raw()),this.font.directory.encode(w)},e})();Gt.API.PDFObject=(function(){var e;function t(){}return e=function(r,n){return(Array(n+1).join("0")+r).slice(-n)},t.convert=function(r){var n,a,s,l;if(Array.isArray(r))return"["+(function(){var o,u,d;for(d=[],o=0,u=r.length;o<u;o++)n=r[o],d.push(t.convert(n));return d})().join(" ")+"]";if(typeof r=="string")return"/"+r;if(r?.isString)return"("+r+")";if(r instanceof Date)return"(D:"+e(r.getUTCFullYear(),4)+e(r.getUTCMonth(),2)+e(r.getUTCDate(),2)+e(r.getUTCHours(),2)+e(r.getUTCMinutes(),2)+e(r.getUTCSeconds(),2)+"Z)";if({}.toString.call(r)==="[object Object]"){for(a in s=["<<"],r)l=r[a],s.push("/"+a+" "+t.convert(l));return s.push(">>"),s.join(`
`)}return""+r},t})();function mU(e,t,r,n,a){n=n||{};var s=1.15,l=a.internal.scaleFactor,o=a.internal.getFontSize()/l,u=a.getLineHeightFactor?a.getLineHeightFactor():s,d=o*u,h=/\r\n|\r|\n/g,m="",g=1;if((n.valign==="middle"||n.valign==="bottom"||n.halign==="center"||n.halign==="right")&&(m=typeof e=="string"?e.split(h):e,g=m.length||1),r+=o*(2-s),n.valign==="middle"?r-=g/2*d:n.valign==="bottom"&&(r-=g*d),n.halign==="center"||n.halign==="right"){var x=o;if(n.halign==="center"&&(x*=.5),m&&g>=1){for(var b=0;b<m.length;b++)a.text(m[b],t-a.getStringUnitWidth(m[b])*x,r),r+=d;return a}t-=a.getStringUnitWidth(e)*x}return n.halign==="justify"?a.text(e,t,r,{maxWidth:n.maxWidth||100,align:"justify"}):a.text(e,t,r),a}var pF={},Vm=(function(){function e(t){this.jsPDFDocument=t,this.userStyles={textColor:t.getTextColor?this.jsPDFDocument.getTextColor():0,fontSize:t.internal.getFontSize(),fontStyle:t.internal.getFont().fontStyle,font:t.internal.getFont().fontName,lineWidth:t.getLineWidth?this.jsPDFDocument.getLineWidth():0,lineColor:t.getDrawColor?this.jsPDFDocument.getDrawColor():0}}return e.setDefaults=function(t,r){r===void 0&&(r=null),r?r.__autoTableDocumentDefaults=t:pF=t},e.unifyColor=function(t){return Array.isArray(t)?t:typeof t=="number"?[t,t,t]:typeof t=="string"?[t]:null},e.prototype.applyStyles=function(t,r){var n,a,s;r===void 0&&(r=!1),t.fontStyle&&this.jsPDFDocument.setFontStyle&&this.jsPDFDocument.setFontStyle(t.fontStyle);var l=this.jsPDFDocument.internal.getFont(),o=l.fontStyle,u=l.fontName;if(t.font&&(u=t.font),t.fontStyle){o=t.fontStyle;var d=this.getFontList()[u];d&&d.indexOf(o)===-1&&this.jsPDFDocument.setFontStyle&&(this.jsPDFDocument.setFontStyle(d[0]),o=d[0])}if(this.jsPDFDocument.setFont(u,o),t.fontSize&&this.jsPDFDocument.setFontSize(t.fontSize),!r){var h=e.unifyColor(t.fillColor);h&&(n=this.jsPDFDocument).setFillColor.apply(n,h),h=e.unifyColor(t.textColor),h&&(a=this.jsPDFDocument).setTextColor.apply(a,h),h=e.unifyColor(t.lineColor),h&&(s=this.jsPDFDocument).setDrawColor.apply(s,h),typeof t.lineWidth=="number"&&this.jsPDFDocument.setLineWidth(t.lineWidth)}},e.prototype.splitTextToSize=function(t,r,n){return this.jsPDFDocument.splitTextToSize(t,r,n)},e.prototype.rect=function(t,r,n,a,s){return this.jsPDFDocument.rect(t,r,n,a,s)},e.prototype.getLastAutoTable=function(){return this.jsPDFDocument.lastAutoTable||null},e.prototype.getTextWidth=function(t){return this.jsPDFDocument.getTextWidth(t)},e.prototype.getDocument=function(){return this.jsPDFDocument},e.prototype.setPage=function(t){this.jsPDFDocument.setPage(t)},e.prototype.addPage=function(){return this.jsPDFDocument.addPage()},e.prototype.getFontList=function(){return this.jsPDFDocument.getFontList()},e.prototype.getGlobalOptions=function(){return pF||{}},e.prototype.getDocumentOptions=function(){return this.jsPDFDocument.__autoTableDocumentDefaults||{}},e.prototype.pageSize=function(){var t=this.jsPDFDocument.internal.pageSize;return t.width==null&&(t={width:t.getWidth(),height:t.getHeight()}),t},e.prototype.scaleFactor=function(){return this.jsPDFDocument.internal.scaleFactor},e.prototype.getLineHeightFactor=function(){var t=this.jsPDFDocument;return t.getLineHeightFactor?t.getLineHeightFactor():1.15},e.prototype.getLineHeight=function(t){return t/this.scaleFactor()*this.getLineHeightFactor()},e.prototype.pageNumber=function(){var t=this.jsPDFDocument.internal.getCurrentPageInfo();return t?t.pageNumber:this.jsPDFDocument.internal.getNumberOfPages()},e})(),O_=function(e,t){return O_=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,n){r.__proto__=n}||function(r,n){for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(r[a]=n[a])},O_(e,t)};function pU(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");O_(e,t);function r(){this.constructor=e}e.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}var xU=(function(e){pU(t,e);function t(r){var n=e.call(this)||this;return n._element=r,n}return t})(Array);function X4e(e){return{font:"helvetica",fontStyle:"normal",overflow:"linebreak",fillColor:!1,textColor:20,halign:"left",valign:"top",fontSize:10,cellPadding:5/e,lineColor:200,lineWidth:0,cellWidth:"auto",minCellHeight:0,minCellWidth:0}}function Q4e(e){var t={striped:{table:{fillColor:255,textColor:80,fontStyle:"normal"},head:{textColor:255,fillColor:[41,128,185],fontStyle:"bold"},body:{},foot:{textColor:255,fillColor:[41,128,185],fontStyle:"bold"},alternateRow:{fillColor:245}},grid:{table:{fillColor:255,textColor:80,fontStyle:"normal",lineWidth:.1},head:{textColor:255,fillColor:[26,188,156],fontStyle:"bold",lineWidth:0},body:{},foot:{textColor:255,fillColor:[26,188,156],fontStyle:"bold",lineWidth:0},alternateRow:{}},plain:{head:{fontStyle:"bold"},foot:{fontStyle:"bold"}}};return t[e]}function i2(e,t,r){r.applyStyles(t,!0);var n=Array.isArray(e)?e:[e],a=n.map(function(s){return r.getTextWidth(s)}).reduce(function(s,l){return Math.max(s,l)},0);return a}function gU(e,t,r,n){var a=t.settings.tableLineWidth,s=t.settings.tableLineColor;e.applyStyles({lineWidth:a,lineColor:s});var l=vU(a,!1);l&&e.rect(r.x,r.y,t.getWidth(e.pageSize().width),n.y-r.y,l)}function vU(e,t){var r=e>0,n=t||t===0;return r&&n?"DF":r?"S":n?"F":null}function db(e,t){var r,n,a,s;if(e=e||t,Array.isArray(e)){if(e.length>=4)return{top:e[0],right:e[1],bottom:e[2],left:e[3]};if(e.length===3)return{top:e[0],right:e[1],bottom:e[2],left:e[1]};if(e.length===2)return{top:e[0],right:e[1],bottom:e[0],left:e[1]};e.length===1?e=e[0]:e=t}return typeof e=="object"?(typeof e.vertical=="number"&&(e.top=e.vertical,e.bottom=e.vertical),typeof e.horizontal=="number"&&(e.right=e.horizontal,e.left=e.horizontal),{left:(r=e.left)!==null&&r!==void 0?r:t,top:(n=e.top)!==null&&n!==void 0?n:t,right:(a=e.right)!==null&&a!==void 0?a:t,bottom:(s=e.bottom)!==null&&s!==void 0?s:t}):(typeof e!="number"&&(e=t),{top:e,right:e,bottom:e,left:e})}function yU(e,t){var r=db(t.settings.margin,0);return e.pageSize().width-(r.left+r.right)}function Z4e(e,t,r,n,a){var s={},l=1.3333333333333333,o=WN(t,function(j){return a.getComputedStyle(j).backgroundColor});o!=null&&(s.fillColor=o);var u=WN(t,function(j){return a.getComputedStyle(j).color});u!=null&&(s.textColor=u);var d=e_e(n,r);d&&(s.cellPadding=d);var h="borderTopColor",m=l*r,g=n.borderTopWidth;if(n.borderBottomWidth===g&&n.borderRightWidth===g&&n.borderLeftWidth===g){var x=(parseFloat(g)||0)/m;x&&(s.lineWidth=x)}else s.lineWidth={top:(parseFloat(n.borderTopWidth)||0)/m,right:(parseFloat(n.borderRightWidth)||0)/m,bottom:(parseFloat(n.borderBottomWidth)||0)/m,left:(parseFloat(n.borderLeftWidth)||0)/m},s.lineWidth.top||(s.lineWidth.right?h="borderRightColor":s.lineWidth.bottom?h="borderBottomColor":s.lineWidth.left&&(h="borderLeftColor"));var b=WN(t,function(j){return a.getComputedStyle(j)[h]});b!=null&&(s.lineColor=b);var v=["left","right","center","justify"];v.indexOf(n.textAlign)!==-1&&(s.halign=n.textAlign),v=["middle","bottom","top"],v.indexOf(n.verticalAlign)!==-1&&(s.valign=n.verticalAlign);var w=parseInt(n.fontSize||"");isNaN(w)||(s.fontSize=w/l);var N=J4e(n);N&&(s.fontStyle=N);var E=(n.fontFamily||"").toLowerCase();return e.indexOf(E)!==-1&&(s.font=E),s}function J4e(e){var t="";return(e.fontWeight==="bold"||e.fontWeight==="bolder"||parseInt(e.fontWeight)>=700)&&(t="bold"),(e.fontStyle==="italic"||e.fontStyle==="oblique")&&(t+="italic"),t}function WN(e,t){var r=bU(e,t);if(!r)return null;var n=r.match(/^rgba?\((\d+),\s*(\d+),\s*(\d+)(?:,\s*(\d*\.?\d*))?\)$/);if(!n||!Array.isArray(n))return null;var a=[parseInt(n[1]),parseInt(n[2]),parseInt(n[3])],s=parseInt(n[4]);return s===0||isNaN(a[0])||isNaN(a[1])||isNaN(a[2])?null:a}function bU(e,t){var r=t(e);return r==="rgba(0, 0, 0, 0)"||r==="transparent"||r==="initial"||r==="inherit"?e.parentElement==null?null:bU(e.parentElement,t):r}function e_e(e,t){var r=[e.paddingTop,e.paddingRight,e.paddingBottom,e.paddingLeft],n=96/(72/t),a=(parseInt(e.lineHeight)-parseInt(e.fontSize))/t/2,s=r.map(function(o){return parseInt(o||"0")/n}),l=db(s,0);return a>l.top&&(l.top=a),a>l.bottom&&(l.bottom=a),l}function wU(e,t,r,n,a){var s,l;n===void 0&&(n=!1),a===void 0&&(a=!1);var o;typeof t=="string"?o=r.document.querySelector(t):o=t;var u=Object.keys(e.getFontList()),d=e.scaleFactor(),h=[],m=[],g=[];if(!o)return console.error("Html table could not be found with input: ",t),{head:h,body:m,foot:g};for(var x=0;x<o.rows.length;x++){var b=o.rows[x],v=(l=(s=b?.parentElement)===null||s===void 0?void 0:s.tagName)===null||l===void 0?void 0:l.toLowerCase(),w=t_e(u,d,r,b,n,a);w&&(v==="thead"?h.push(w):v==="tfoot"?g.push(w):m.push(w))}return{head:h,body:m,foot:g}}function t_e(e,t,r,n,a,s){for(var l=new xU(n),o=0;o<n.cells.length;o++){var u=n.cells[o],d=r.getComputedStyle(u);if(a||d.display!=="none"){var h=void 0;s&&(h=Z4e(e,u,t,d,r)),l.push({rowSpan:u.rowSpan,colSpan:u.colSpan,styles:h,_element:u,content:r_e(u)})}}var m=r.getComputedStyle(n);if(l.length>0&&(a||m.display!=="none"))return l}function r_e(e){var t=e.cloneNode(!0);return t.innerHTML=t.innerHTML.replace(/\n/g,"").replace(/ +/g," "),t.innerHTML=t.innerHTML.split(/<br.*?>/).map(function(r){return r.trim()}).join(`
`),t.innerText||t.textContent||""}function n_e(e,t,r){for(var n=0,a=[e,t,r];n<a.length;n++){var s=a[n];s&&typeof s!="object"&&console.error("The options parameter should be of type object, is: "+typeof s),s.startY&&typeof s.startY!="number"&&(console.error("Invalid value for startY option",s.startY),delete s.startY)}}function ad(e,t,r,n,a){if(e==null)throw new TypeError("Cannot convert undefined or null to object");for(var s=Object(e),l=1;l<arguments.length;l++){var o=arguments[l];if(o!=null)for(var u in o)Object.prototype.hasOwnProperty.call(o,u)&&(s[u]=o[u])}return s}function NU(e,t){var r=new Vm(e),n=r.getDocumentOptions(),a=r.getGlobalOptions();n_e(a,n,t);var s=ad({},a,n,t),l;typeof window<"u"&&(l=window);var o=a_e(a,n,t),u=s_e(a,n,t),d=i_e(r,s),h=o_e(r,s,l);return{id:t.tableId,content:h,hooks:u,styles:o,settings:d}}function a_e(e,t,r){for(var n={styles:{},headStyles:{},bodyStyles:{},footStyles:{},alternateRowStyles:{},columnStyles:{}},a=function(u){if(u==="columnStyles"){var d=e[u],h=t[u],m=r[u];n.columnStyles=ad({},d,h,m)}else{var g=[e,t,r],x=g.map(function(b){return b[u]||{}});n[u]=ad({},x[0],x[1],x[2])}},s=0,l=Object.keys(n);s<l.length;s++){var o=l[s];a(o)}return n}function s_e(e,t,r){for(var n=[e,t,r],a={didParseCell:[],willDrawCell:[],didDrawCell:[],willDrawPage:[],didDrawPage:[]},s=0,l=n;s<l.length;s++){var o=l[s];o.didParseCell&&a.didParseCell.push(o.didParseCell),o.willDrawCell&&a.willDrawCell.push(o.willDrawCell),o.didDrawCell&&a.didDrawCell.push(o.didDrawCell),o.willDrawPage&&a.willDrawPage.push(o.willDrawPage),o.didDrawPage&&a.didDrawPage.push(o.didDrawPage)}return a}function i_e(e,t){var r,n,a,s,l,o,u,d,h,m,g,x,b=db(t.margin,40/e.scaleFactor()),v=(r=l_e(e,t.startY))!==null&&r!==void 0?r:b.top,w;t.showFoot===!0?w="everyPage":t.showFoot===!1?w="never":w=(n=t.showFoot)!==null&&n!==void 0?n:"everyPage";var N;t.showHead===!0?N="everyPage":t.showHead===!1?N="never":N=(a=t.showHead)!==null&&a!==void 0?a:"everyPage";var E=(s=t.useCss)!==null&&s!==void 0?s:!1,j=t.theme||(E?"plain":"striped"),T=!!t.horizontalPageBreak,O=(l=t.horizontalPageBreakRepeat)!==null&&l!==void 0?l:null;return{includeHiddenHtml:(o=t.includeHiddenHtml)!==null&&o!==void 0?o:!1,useCss:E,theme:j,startY:v,margin:b,pageBreak:(u=t.pageBreak)!==null&&u!==void 0?u:"auto",rowPageBreak:(d=t.rowPageBreak)!==null&&d!==void 0?d:"auto",tableWidth:(h=t.tableWidth)!==null&&h!==void 0?h:"auto",showHead:N,showFoot:w,tableLineWidth:(m=t.tableLineWidth)!==null&&m!==void 0?m:0,tableLineColor:(g=t.tableLineColor)!==null&&g!==void 0?g:200,horizontalPageBreak:T,horizontalPageBreakRepeat:O,horizontalPageBreakBehaviour:(x=t.horizontalPageBreakBehaviour)!==null&&x!==void 0?x:"afterAllRows"}}function l_e(e,t){var r=e.getLastAutoTable(),n=e.scaleFactor(),a=e.pageNumber(),s=!1;if(r&&r.startPageNumber){var l=r.startPageNumber+r.pageNumber-1;s=l===a}return typeof t=="number"?t:(t==null||t===!1)&&s&&r?.finalY!=null?r.finalY+20/n:null}function o_e(e,t,r){var n=t.head||[],a=t.body||[],s=t.foot||[];if(t.html){var l=t.includeHiddenHtml;if(r){var o=wU(e,t.html,r,l,t.useCss)||{};n=o.head||n,a=o.body||n,s=o.foot||n}else console.error("Cannot parse html in non browser environment")}var u=t.columns||c_e(n,a,s);return{columns:u,head:n,body:a,foot:s}}function c_e(e,t,r){var n=e[0]||t[0]||r[0]||[],a=[];return Object.keys(n).filter(function(s){return s!=="_element"}).forEach(function(s){var l=1,o;Array.isArray(n)?o=n[parseInt(s)]:o=n[s],typeof o=="object"&&!Array.isArray(o)&&(l=o?.colSpan||1);for(var u=0;u<l;u++){var d=void 0;Array.isArray(n)?d=a.length:d=s+(u>0?"_".concat(u):"");var h={dataKey:d};a.push(h)}}),a}var F_=(function(){function e(t,r,n){this.table=r,this.pageNumber=r.pageNumber,this.settings=r.settings,this.cursor=n,this.doc=t.getDocument()}return e})(),u_e=(function(e){pU(t,e);function t(r,n,a,s,l,o){var u=e.call(this,r,n,o)||this;return u.cell=a,u.row=s,u.column=l,u.section=s.section,u}return t})(F_),d_e=(function(){function e(t,r){this.pageNumber=1,this.id=t.id,this.settings=t.settings,this.styles=t.styles,this.hooks=t.hooks,this.columns=r.columns,this.head=r.head,this.body=r.body,this.foot=r.foot}return e.prototype.getHeadHeight=function(t){return this.head.reduce(function(r,n){return r+n.getMaxCellHeight(t)},0)},e.prototype.getFootHeight=function(t){return this.foot.reduce(function(r,n){return r+n.getMaxCellHeight(t)},0)},e.prototype.allRows=function(){return this.head.concat(this.body).concat(this.foot)},e.prototype.callCellHooks=function(t,r,n,a,s,l){for(var o=0,u=r;o<u.length;o++){var d=u[o],h=new u_e(t,this,n,a,s,l),m=d(h)===!1;if(n.text=Array.isArray(n.text)?n.text:[n.text],m)return!1}return!0},e.prototype.callEndPageHooks=function(t,r){t.applyStyles(t.userStyles);for(var n=0,a=this.hooks.didDrawPage;n<a.length;n++){var s=a[n];s(new F_(t,this,r))}},e.prototype.callWillDrawPageHooks=function(t,r){for(var n=0,a=this.hooks.willDrawPage;n<a.length;n++){var s=a[n];s(new F_(t,this,r))}},e.prototype.getWidth=function(t){if(typeof this.settings.tableWidth=="number")return this.settings.tableWidth;if(this.settings.tableWidth==="wrap"){var r=this.columns.reduce(function(a,s){return a+s.wrappedWidth},0);return r}else{var n=this.settings.margin;return t-n.left-n.right}},e})(),_U=(function(){function e(t,r,n,a,s){s===void 0&&(s=!1),this.height=0,this.raw=t,t instanceof xU&&(this.raw=t._element,this.element=t._element),this.index=r,this.section=n,this.cells=a,this.spansMultiplePages=s}return e.prototype.getMaxCellHeight=function(t){var r=this;return t.reduce(function(n,a){var s;return Math.max(n,((s=r.cells[a.index])===null||s===void 0?void 0:s.height)||0)},0)},e.prototype.hasRowSpan=function(t){var r=this;return t.filter(function(n){var a=r.cells[n.index];return a?a.rowSpan>1:!1}).length>0},e.prototype.canEntireRowFit=function(t,r){return this.getMaxCellHeight(r)<=t},e.prototype.getMinimumRowHeight=function(t,r){var n=this;return t.reduce(function(a,s){var l=n.cells[s.index];if(!l)return 0;var o=r.getLineHeight(l.styles.fontSize),u=l.padding("vertical"),d=u+o;return d>a?d:a},0)},e})(),jU=(function(){function e(t,r,n){var a;this.contentHeight=0,this.contentWidth=0,this.wrappedWidth=0,this.minReadableWidth=0,this.minWidth=0,this.width=0,this.height=0,this.x=0,this.y=0,this.styles=r,this.section=n,this.raw=t;var s=t;t!=null&&typeof t=="object"&&!Array.isArray(t)?(this.rowSpan=t.rowSpan||1,this.colSpan=t.colSpan||1,s=(a=t.content)!==null&&a!==void 0?a:t,t._element&&(this.raw=t._element)):(this.rowSpan=1,this.colSpan=1);var l=s!=null?""+s:"",o=/\r\n|\r|\n/g;this.text=l.split(o)}return e.prototype.getTextPos=function(){var t;if(this.styles.valign==="top")t=this.y+this.padding("top");else if(this.styles.valign==="bottom")t=this.y+this.height-this.padding("bottom");else{var r=this.height-this.padding("vertical");t=this.y+r/2+this.padding("top")}var n;if(this.styles.halign==="right")n=this.x+this.width-this.padding("right");else if(this.styles.halign==="center"){var a=this.width-this.padding("horizontal");n=this.x+a/2+this.padding("left")}else n=this.x+this.padding("left");return{x:n,y:t}},e.prototype.getContentHeight=function(t,r){r===void 0&&(r=1.15);var n=Array.isArray(this.text)?this.text.length:1,a=this.styles.fontSize/t*r,s=n*a+this.padding("vertical");return Math.max(s,this.styles.minCellHeight)},e.prototype.padding=function(t){var r=db(this.styles.cellPadding,0);return t==="vertical"?r.top+r.bottom:t==="horizontal"?r.left+r.right:r[t]},e})(),f_e=(function(){function e(t,r,n){this.wrappedWidth=0,this.minReadableWidth=0,this.minWidth=0,this.width=0,this.dataKey=t,this.raw=r,this.index=n}return e.prototype.getMaxCustomCellWidth=function(t){for(var r=0,n=0,a=t.allRows();n<a.length;n++){var s=a[n],l=s.cells[this.index];l&&typeof l.styles.cellWidth=="number"&&(r=Math.max(r,l.styles.cellWidth))}return r},e})();function h_e(e,t){m_e(e,t);var r=[],n=0;t.columns.forEach(function(s){var l=s.getMaxCustomCellWidth(t);l?s.width=l:(s.width=s.wrappedWidth,r.push(s)),n+=s.width});var a=t.getWidth(e.pageSize().width)-n;a&&(a=D_(r,a,function(s){return Math.max(s.minReadableWidth,s.minWidth)})),a&&(a=D_(r,a,function(s){return s.minWidth})),a=Math.abs(a),!t.settings.horizontalPageBreak&&a>.1/e.scaleFactor()&&(a=a<1?a:Math.round(a),console.warn("Of the table content, ".concat(a," units width could not fit page"))),x_e(t),g_e(t,e),p_e(t)}function m_e(e,t){var r=e.scaleFactor(),n=t.settings.horizontalPageBreak,a=yU(e,t);t.allRows().forEach(function(s){for(var l=0,o=t.columns;l<o.length;l++){var u=o[l],d=s.cells[u.index];if(d){var h=t.hooks.didParseCell;t.callCellHooks(e,h,d,s,u,null);var m=d.padding("horizontal");d.contentWidth=i2(d.text,d.styles,e)+m;var g=i2(d.text.join(" ").split(/[^\S\u00A0]+/),d.styles,e);if(d.minReadableWidth=g+d.padding("horizontal"),typeof d.styles.cellWidth=="number")d.minWidth=d.styles.cellWidth,d.wrappedWidth=d.styles.cellWidth;else if(d.styles.cellWidth==="wrap"||n===!0)d.contentWidth>a?(d.minWidth=a,d.wrappedWidth=a):(d.minWidth=d.contentWidth,d.wrappedWidth=d.contentWidth);else{var x=10/r;d.minWidth=d.styles.minCellWidth||x,d.wrappedWidth=d.contentWidth,d.minWidth>d.wrappedWidth&&(d.wrappedWidth=d.minWidth)}}}}),t.allRows().forEach(function(s){for(var l=0,o=t.columns;l<o.length;l++){var u=o[l],d=s.cells[u.index];if(d&&d.colSpan===1)u.wrappedWidth=Math.max(u.wrappedWidth,d.wrappedWidth),u.minWidth=Math.max(u.minWidth,d.minWidth),u.minReadableWidth=Math.max(u.minReadableWidth,d.minReadableWidth);else{var h=t.styles.columnStyles[u.dataKey]||t.styles.columnStyles[u.index]||{},m=h.cellWidth||h.minCellWidth;m&&typeof m=="number"&&(u.minWidth=m,u.wrappedWidth=m)}d&&(d.colSpan>1&&!u.minWidth&&(u.minWidth=d.minWidth),d.colSpan>1&&!u.wrappedWidth&&(u.wrappedWidth=d.minWidth))}})}function D_(e,t,r){for(var n=t,a=e.reduce(function(x,b){return x+b.wrappedWidth},0),s=0;s<e.length;s++){var l=e[s],o=l.wrappedWidth/a,u=n*o,d=l.width+u,h=r(l),m=d<h?h:d;t-=m-l.width,l.width=m}if(t=Math.round(t*1e10)/1e10,t){var g=e.filter(function(x){return t<0?x.width>r(x):!0});g.length&&(t=D_(g,t,r))}return t}function p_e(e){for(var t={},r=1,n=e.allRows(),a=0;a<n.length;a++)for(var s=n[a],l=0,o=e.columns;l<o.length;l++){var u=o[l],d=t[u.index];if(r>1)r--,delete s.cells[u.index];else if(d)d.cell.height+=s.height,r=d.cell.colSpan,delete s.cells[u.index],d.left--,d.left<=1&&delete t[u.index];else{var h=s.cells[u.index];if(!h)continue;if(h.height=s.height,h.rowSpan>1){var m=n.length-a,g=h.rowSpan>m?m:h.rowSpan;t[u.index]={cell:h,left:g,row:s}}}}}function x_e(e){for(var t=e.allRows(),r=0;r<t.length;r++)for(var n=t[r],a=null,s=0,l=0,o=0;o<e.columns.length;o++){var u=e.columns[o];if(l-=1,l>1&&e.columns[o+1])s+=u.width,delete n.cells[u.index];else if(a){var d=a;delete n.cells[u.index],a=null,d.width=u.width+s}else{var d=n.cells[u.index];if(!d)continue;if(l=d.colSpan,s=0,d.colSpan>1){a=d,s+=u.width;continue}d.width=u.width+s}}}function g_e(e,t){for(var r={count:0,height:0},n=0,a=e.allRows();n<a.length;n++){for(var s=a[n],l=0,o=e.columns;l<o.length;l++){var u=o[l],d=s.cells[u.index];if(d){t.applyStyles(d.styles,!0);var h=d.width-d.padding("horizontal");if(d.styles.overflow==="linebreak")d.text=t.splitTextToSize(d.text,h+1/t.scaleFactor(),{fontSize:d.styles.fontSize});else if(d.styles.overflow==="ellipsize")d.text=xF(d.text,h,d.styles,t,"...");else if(d.styles.overflow==="hidden")d.text=xF(d.text,h,d.styles,t,"");else if(typeof d.styles.overflow=="function"){var m=d.styles.overflow(d.text,h);typeof m=="string"?d.text=[m]:d.text=m}d.contentHeight=d.getContentHeight(t.scaleFactor(),t.getLineHeightFactor());var g=d.contentHeight/d.rowSpan;d.rowSpan>1&&r.count*r.height<g*d.rowSpan?r={height:g,count:d.rowSpan}:r&&r.count>0&&r.height>g&&(g=r.height),g>s.height&&(s.height=g)}}r.count--}}function xF(e,t,r,n,a){return e.map(function(s){return v_e(s,t,r,n,a)})}function v_e(e,t,r,n,a){var s=1e4*n.scaleFactor();if(t=Math.ceil(t*s)/s,t>=i2(e,r,n))return e;for(;t<i2(e+a,r,n)&&!(e.length<=1);)e=e.substring(0,e.length-1);return e.trim()+a}function SU(e,t){var r=new Vm(e),n=y_e(t,r.scaleFactor()),a=new d_e(t,n);return h_e(r,a),r.applyStyles(r.userStyles),a}function y_e(e,t){var r=e.content,n=w_e(r.columns);if(r.head.length===0){var a=gF(n,"head");a&&r.head.push(a)}if(r.foot.length===0){var a=gF(n,"foot");a&&r.foot.push(a)}var s=e.settings.theme,l=e.styles;return{columns:n,head:KN("head",r.head,n,l,s,t),body:KN("body",r.body,n,l,s,t),foot:KN("foot",r.foot,n,l,s,t)}}function KN(e,t,r,n,a,s){var l={},o=t.map(function(u,d){for(var h=0,m={},g=0,x=0,b=0,v=r;b<v.length;b++){var w=v[b];if(l[w.index]==null||l[w.index].left===0)if(x===0){var N=void 0;Array.isArray(u)?N=u[w.index-g-h]:N=u[w.dataKey];var E={};typeof N=="object"&&!Array.isArray(N)&&(E=N?.styles||{});var j=N_e(e,w,d,a,n,s,E),T=new jU(N,j,e);m[w.dataKey]=T,m[w.index]=T,x=T.colSpan-1,l[w.index]={left:T.rowSpan-1,times:x}}else x--,g++;else l[w.index].left--,x=l[w.index].times,h++}return new _U(u,d,e,m)});return o}function gF(e,t){var r={};return e.forEach(function(n){if(n.raw!=null){var a=b_e(t,n.raw);a!=null&&(r[n.dataKey]=a)}}),Object.keys(r).length>0?r:null}function b_e(e,t){if(e==="head"){if(typeof t=="object")return t.header||null;if(typeof t=="string"||typeof t=="number")return t}else if(e==="foot"&&typeof t=="object")return t.footer;return null}function w_e(e){return e.map(function(t,r){var n,a;return typeof t=="object"?a=(n=t.dataKey)!==null&&n!==void 0?n:r:a=r,new f_e(a,t,r)})}function N_e(e,t,r,n,a,s,l){var o=Q4e(n),u;e==="head"?u=a.headStyles:e==="body"?u=a.bodyStyles:e==="foot"&&(u=a.footStyles);var d=ad({},o.table,o[e],a.styles,u),h=a.columnStyles[t.dataKey]||a.columnStyles[t.index]||{},m=e==="body"?h:{},g=e==="body"&&r%2===0?ad({},o.alternateRow,a.alternateRowStyles):{},x=X4e(s),b=ad({},x,d,g,m);return ad(b,l)}function __e(e,t,r){var n;r===void 0&&(r={});var a=yU(e,t),s=new Map,l=[],o=[],u=[];Array.isArray(t.settings.horizontalPageBreakRepeat)?u=t.settings.horizontalPageBreakRepeat:(typeof t.settings.horizontalPageBreakRepeat=="string"||typeof t.settings.horizontalPageBreakRepeat=="number")&&(u=[t.settings.horizontalPageBreakRepeat]),u.forEach(function(g){var x=t.columns.find(function(b){return b.dataKey===g||b.index===g});x&&!s.has(x.index)&&(s.set(x.index,!0),l.push(x.index),o.push(t.columns[x.index]),a-=x.wrappedWidth)});for(var d=!0,h=(n=r?.start)!==null&&n!==void 0?n:0;h<t.columns.length;){if(s.has(h)){h++;continue}var m=t.columns[h].wrappedWidth;if(d||a>=m)d=!1,l.push(h),o.push(t.columns[h]),a-=m;else break;h++}return{colIndexes:l,columns:o,lastIndex:h-1}}function j_e(e,t){for(var r=[],n=0;n<t.columns.length;n++){var a=__e(e,t,{start:n});a.columns.length&&(r.push(a),n=a.lastIndex)}return r}function AU(e,t){var r=t.settings,n=r.startY,a=r.margin,s={x:a.left,y:n},l=t.getHeadHeight(t.columns)+t.getFootHeight(t.columns),o=n+a.bottom+l;if(r.pageBreak==="avoid"){var u=t.body,d=u.reduce(function(g,x){return g+x.height},0);o+=d}var h=new Vm(e);(r.pageBreak==="always"||r.startY!=null&&o>h.pageSize().height)&&(EU(h),s.y=a.top),t.callWillDrawPageHooks(h,s);var m=ad({},s);t.startPageNumber=h.pageNumber(),r.horizontalPageBreak?S_e(h,t,m,s):(h.applyStyles(h.userStyles),(r.showHead==="firstPage"||r.showHead==="everyPage")&&t.head.forEach(function(g){return _d(h,t,g,s,t.columns)}),h.applyStyles(h.userStyles),t.body.forEach(function(g,x){var b=x===t.body.length-1;l2(h,t,g,b,m,s,t.columns)}),h.applyStyles(h.userStyles),(r.showFoot==="lastPage"||r.showFoot==="everyPage")&&t.foot.forEach(function(g){return _d(h,t,g,s,t.columns)})),gU(h,t,m,s),t.callEndPageHooks(h,s),t.finalY=s.y,e.lastAutoTable=t,h.applyStyles(h.userStyles)}function S_e(e,t,r,n){var a=j_e(e,t),s=t.settings;if(s.horizontalPageBreakBehaviour==="afterAllRows")a.forEach(function(d,h){e.applyStyles(e.userStyles),h>0?zx(e,t,r,n,d.columns,!0):vF(e,t,n,d.columns),A_e(e,t,r,n,d.columns),GN(e,t,n,d.columns)});else for(var l=-1,o=a[0],u=function(){var d=l;if(o){e.applyStyles(e.userStyles);var h=o.columns;l>=0?zx(e,t,r,n,h,!0):vF(e,t,n,h),d=yF(e,t,l+1,n,h),GN(e,t,n,h)}var m=d-l;a.slice(1).forEach(function(g){e.applyStyles(e.userStyles),zx(e,t,r,n,g.columns,!0),yF(e,t,l+1,n,g.columns,m),GN(e,t,n,g.columns)}),l=d};l<t.body.length-1;)u()}function vF(e,t,r,n){var a=t.settings;e.applyStyles(e.userStyles),(a.showHead==="firstPage"||a.showHead==="everyPage")&&t.head.forEach(function(s){return _d(e,t,s,r,n)})}function A_e(e,t,r,n,a){e.applyStyles(e.userStyles),t.body.forEach(function(s,l){var o=l===t.body.length-1;l2(e,t,s,o,r,n,a)})}function yF(e,t,r,n,a,s){e.applyStyles(e.userStyles),s=s??t.body.length;var l=Math.min(r+s,t.body.length),o=-1;return t.body.slice(r,l).forEach(function(u,d){var h=r+d===t.body.length-1,m=kU(e,t,h,n);u.canEntireRowFit(m,a)&&(_d(e,t,u,n,a),o=r+d)}),o}function GN(e,t,r,n){var a=t.settings;e.applyStyles(e.userStyles),(a.showFoot==="lastPage"||a.showFoot==="everyPage")&&t.foot.forEach(function(s){return _d(e,t,s,r,n)})}function k_e(e,t,r){var n=r.getLineHeight(e.styles.fontSize),a=e.padding("vertical"),s=Math.floor((t-a)/n);return Math.max(0,s)}function E_e(e,t,r,n){var a={};e.spansMultiplePages=!0,e.height=0;for(var s=0,l=0,o=r.columns;l<o.length;l++){var u=o[l],d=e.cells[u.index];if(d){Array.isArray(d.text)||(d.text=[d.text]);var h=new jU(d.raw,d.styles,d.section);h=ad(h,d),h.text=[];var m=k_e(d,t,n);d.text.length>m&&(h.text=d.text.splice(m,d.text.length));var g=n.scaleFactor(),x=n.getLineHeightFactor();d.contentHeight=d.getContentHeight(g,x),d.contentHeight>=t&&(d.contentHeight=t,h.styles.minCellHeight-=t),d.contentHeight>e.height&&(e.height=d.contentHeight),h.contentHeight=h.getContentHeight(g,x),h.contentHeight>s&&(s=h.contentHeight),a[u.index]=h}}var b=new _U(e.raw,-1,e.section,a,!0);b.height=s;for(var v=0,w=r.columns;v<w.length;v++){var u=w[v],h=b.cells[u.index];h&&(h.height=b.height);var d=e.cells[u.index];d&&(d.height=e.height)}return b}function C_e(e,t,r,n){var a=e.pageSize().height,s=n.settings.margin,l=s.top+s.bottom,o=a-l;t.section==="body"&&(o-=n.getHeadHeight(n.columns)+n.getFootHeight(n.columns));var u=t.getMinimumRowHeight(n.columns,e),d=u<r;if(u>o)return console.error("Will not be able to print row ".concat(t.index," correctly since it's minimum height is larger than page height")),!0;if(!d)return!1;var h=t.hasRowSpan(n.columns),m=t.getMaxCellHeight(n.columns)>o;return m?(h&&console.error("The content of row ".concat(t.index," will not be drawn correctly since drawing rows with a height larger than the page height and has cells with rowspans is not supported.")),!0):!(h||n.settings.rowPageBreak==="avoid")}function l2(e,t,r,n,a,s,l){var o=kU(e,t,n,s);if(r.canEntireRowFit(o,l))_d(e,t,r,s,l);else if(C_e(e,r,o,t)){var u=E_e(r,o,t,e);_d(e,t,r,s,l),zx(e,t,a,s,l),l2(e,t,u,n,a,s,l)}else zx(e,t,a,s,l),l2(e,t,r,n,a,s,l)}function _d(e,t,r,n,a){n.x=t.settings.margin.left;for(var s=0,l=a;s<l.length;s++){var o=l[s],u=r.cells[o.index];if(!u){n.x+=o.width;continue}e.applyStyles(u.styles),u.x=n.x,u.y=n.y;var d=t.callCellHooks(e,t.hooks.willDrawCell,u,r,o,n);if(d===!1){n.x+=o.width;continue}T_e(e,u,n);var h=u.getTextPos();mU(u.text,h.x,h.y,{halign:u.styles.halign,valign:u.styles.valign,maxWidth:Math.ceil(u.width-u.padding("left")-u.padding("right"))},e.getDocument()),t.callCellHooks(e,t.hooks.didDrawCell,u,r,o,n),n.x+=o.width}n.y+=r.height}function T_e(e,t,r){var n=t.styles;if(e.getDocument().setFillColor(e.getDocument().getFillColor()),typeof n.lineWidth=="number"){var a=vU(n.lineWidth,n.fillColor);a&&e.rect(t.x,r.y,t.width,t.height,a)}else typeof n.lineWidth=="object"&&(n.fillColor&&e.rect(t.x,r.y,t.width,t.height,"F"),O_e(e,t,r,n.lineWidth))}function O_e(e,t,r,n){var a,s,l,o;n.top&&(a=r.x,s=r.y,l=r.x+t.width,o=r.y,n.right&&(l+=.5*n.right),n.left&&(a-=.5*n.left),u(n.top,a,s,l,o)),n.bottom&&(a=r.x,s=r.y+t.height,l=r.x+t.width,o=r.y+t.height,n.right&&(l+=.5*n.right),n.left&&(a-=.5*n.left),u(n.bottom,a,s,l,o)),n.left&&(a=r.x,s=r.y,l=r.x,o=r.y+t.height,n.top&&(s-=.5*n.top),n.bottom&&(o+=.5*n.bottom),u(n.left,a,s,l,o)),n.right&&(a=r.x+t.width,s=r.y,l=r.x+t.width,o=r.y+t.height,n.top&&(s-=.5*n.top),n.bottom&&(o+=.5*n.bottom),u(n.right,a,s,l,o));function u(d,h,m,g,x){e.getDocument().setLineWidth(d),e.getDocument().line(h,m,g,x,"S")}}function kU(e,t,r,n){var a=t.settings.margin.bottom,s=t.settings.showFoot;return(s==="everyPage"||s==="lastPage"&&r)&&(a+=t.getFootHeight(t.columns)),e.pageSize().height-n.y-a}function zx(e,t,r,n,a,s){a===void 0&&(a=[]),s===void 0&&(s=!1),e.applyStyles(e.userStyles),t.settings.showFoot==="everyPage"&&!s&&t.foot.forEach(function(o){return _d(e,t,o,n,a)}),t.callEndPageHooks(e,n);var l=t.settings.margin;gU(e,t,r,n),EU(e),t.pageNumber++,n.x=l.left,n.y=l.top,r.y=l.top,t.callWillDrawPageHooks(e,n),t.settings.showHead==="everyPage"&&(t.head.forEach(function(o){return _d(e,t,o,n,a)}),e.applyStyles(e.userStyles))}function EU(e){var t=e.pageNumber();e.setPage(t+1);var r=e.pageNumber();return r===t?(e.addPage(),!0):!1}function F_e(e){e.API.autoTable=function(){for(var t=[],r=0;r<arguments.length;r++)t[r]=arguments[r];var n=t[0],a=NU(this,n),s=SU(this,a);return AU(this,s),this},e.API.lastAutoTable=!1,e.API.autoTableText=function(t,r,n,a){mU(t,r,n,a,this)},e.API.autoTableSetDefaults=function(t){return Vm.setDefaults(t,this),this},e.autoTableSetDefaults=function(t,r){Vm.setDefaults(t,r)},e.API.autoTableHtmlToJson=function(t,r){var n;if(r===void 0&&(r=!1),typeof window>"u")return console.error("Cannot run autoTableHtmlToJson in non browser environment"),null;var a=new Vm(this),s=wU(a,t,window,r,!1),l=s.head,o=s.body,u=((n=l[0])===null||n===void 0?void 0:n.map(function(d){return d.content}))||[];return{columns:u,rows:o,data:o}}}var YN;function bF(e,t){var r=NU(e,t),n=SU(e,r);AU(e,n)}try{if(typeof window<"u"&&window){var wF=window,NF=wF.jsPDF||((YN=wF.jspdf)===null||YN===void 0?void 0:YN.jsPDF);NF&&F_e(NF)}}catch(e){console.error("Could not apply autoTable plugin",e)}const jg=(e,t)=>{if(!e||e.length===0){alert("Aucune donne  exporter");return}const r=Object.keys(e[0]),n=[r.join(","),...e.map(o=>r.map(u=>{const d=o[u];return typeof d=="string"&&(d.includes(",")||d.includes('"'))?`"${d.replace(/"/g,'""')}"`:d}).join(","))].join(`
`),a=new Blob([n],{type:"text/csv;charset=utf-8;"}),s=document.createElement("a"),l=URL.createObjectURL(a);s.setAttribute("href",l),s.setAttribute("download",`${t}.csv`),s.style.visibility="hidden",document.body.appendChild(s),s.click(),document.body.removeChild(s)},D_e=e=>{const t=new Gt,r=e.student;t.setFontSize(20),t.setTextColor(59,130,246),t.text("Rapport de Progression",14,20),t.setFontSize(12),t.setTextColor(0,0,0),t.text(`tudiant: ${r.full_name}`,14,35),t.text(`Email: ${r.email}`,14,42),t.text(`Inscrit le: ${new Date(r.created_at).toLocaleDateString("fr-FR")}`,14,49),t.text(`Date du rapport: ${new Date().toLocaleDateString("fr-FR")}`,14,56),t.setDrawColor(229,231,235),t.line(14,60,196,60),t.setFontSize(14),t.setTextColor(59,130,246),t.text("Statistiques Globales",14,70);const n=e.enrollments.reduce((d,h)=>d+h.total_videos,0),a=e.enrollments.reduce((d,h)=>d+h.completed_videos,0),s=e.enrollments.reduce((d,h)=>d+h.total_tests,0),l=e.enrollments.reduce((d,h)=>d+h.passed_tests,0);if(t.setFontSize(10),t.setTextColor(0,0,0),t.text(`Formations inscrites: ${e.enrollments.length}`,14,80),t.text(`Formations compltes: ${e.enrollments.filter(d=>d.completed_at).length}`,14,87),t.text(`Vidos compltes: ${a} / ${n}`,14,94),t.text(`Tests russis: ${l} / ${s}`,14,101),e.enrollments.length>0){t.setFontSize(14),t.setTextColor(59,130,246),t.text("Formations Inscrites",14,115);const d=e.enrollments.map(h=>[h.formation_title,new Date(h.enrolled_at).toLocaleDateString("fr-FR"),h.completed_at?new Date(h.completed_at).toLocaleDateString("fr-FR"):"-",`${h.completed_videos}/${h.total_videos}`,`${h.passed_tests}/${h.total_tests}`,h.status==="completed"?"Complt":h.status==="active"?"En cours":"Inactif"]);bF(t,{head:[["Formation","Date Inscription","Date Compltion","Vidos","Tests","Statut"]],body:d,startY:120,theme:"grid",headStyles:{fillColor:[59,130,246]},styles:{fontSize:8}})}if(e.test_history.length>0){const d=t.lastAutoTable?.finalY||120;let h;d>220?(t.addPage(),t.setFontSize(14),t.setTextColor(59,130,246),t.text("Historique des Tests",14,20),h=25):(t.setFontSize(14),t.setTextColor(59,130,246),t.text("Historique des Tests",14,d+15),h=d+20);const m=e.test_history.map(g=>{const x=g.total_points>0?(g.score/g.total_points*100).toFixed(1):"0";return[g.formation_title,g.test_title,`${g.score}/${g.total_points}`,`${x}%`,g.passed?"Russi":"chou",new Date(g.submitted_at).toLocaleDateString("fr-FR")]});bF(t,{head:[["Formation","Test","Score","%","Rsultat","Date"]],body:m,startY:h,theme:"grid",headStyles:{fillColor:[59,130,246]},styles:{fontSize:8}})}const o=t.getNumberOfPages();for(let d=1;d<=o;d++)t.setPage(d),t.setFontSize(8),t.setTextColor(156,163,175),t.text(`Page ${d} sur ${o}`,t.internal.pageSize.getWidth()/2,t.internal.pageSize.getHeight()-10,{align:"center"});const u=`rapport_${r.full_name.replace(/\s+/g,"_")}_${new Date().toISOString().split("T")[0]}.pdf`;t.save(u)},P_e=e=>{const t=e.map(r=>({ID:r.id,Titre:r.title,Inscriptions:r.enrollment_count,Complts:r.completed_count,"Taux de Compltion (%)":r.completion_rate,Prix:r.price||0}));jg(t,`formations_${new Date().toISOString().split("T")[0]}`)},L_e=e=>{const t=e.map(r=>({ID:r.id,Nom:r.full_name,Email:r.email,Inscriptions:r.enrollments_count,"Vidos Vues":r.videos_watched,"Vidos Compltes":r.videos_completed,"Tests Passs":r.tests_taken,"Tests Russis":r.tests_passed}));jg(t,`etudiants_actifs_${new Date().toISOString().split("T")[0]}`)},M_e=e=>{const t=e.map(r=>({Mois:r.month,Inscriptions:r.enrollment_count,Complts:r.completed_count}));jg(t,`tendances_inscriptions_${new Date().toISOString().split("T")[0]}`)},R_e=e=>{const t=e.student,r=e.enrollments.map(n=>({Formation:n.formation_title,"Date Inscription":new Date(n.enrolled_at).toLocaleDateString("fr-FR"),"Date Compltion":n.completed_at?new Date(n.completed_at).toLocaleDateString("fr-FR"):"-","Vidos Compltes":n.completed_videos,"Total Vidos":n.total_videos,"Tests Russis":n.passed_tests,"Total Tests":n.total_tests,Statut:n.status==="completed"?"Complt":n.status==="active"?"En cours":"Inactif"}));if(jg(r,`rapport_formations_${t.full_name.replace(/\s+/g,"_")}_${new Date().toISOString().split("T")[0]}`),e.test_history.length>0){const n=e.test_history.map(a=>{const s=a.total_points>0?(a.score/a.total_points*100).toFixed(1):"0";return{Formation:a.formation_title,Test:a.test_title,Score:a.score,"Total Points":a.total_points,"Pourcentage (%)":s,Rsultat:a.passed?"Russi":"chou",Date:new Date(a.submitted_at).toLocaleDateString("fr-FR")}});jg(n,`rapport_tests_${t.full_name.replace(/\s+/g,"_")}_${new Date().toISOString().split("T")[0]}`)}},Rv=["#3B82F6","#10B981","#8B5CF6","#F59E0B","#EF4444","#06B6D4"],I_e=()=>{const[e,t]=k.useState(30),{data:r,isLoading:n}=t5e(),{data:a,isLoading:s}=r5e(10),{data:l,isLoading:o}=n5e(6),{data:u,isLoading:d}=a5e(10),{data:h,isLoading:m}=i5e(),{data:g,isLoading:x}=l5e(e),b=r?.overview;return n||s||o||d||m||x?i.jsx("div",{className:"p-8",children:i.jsx("div",{className:"flex items-center justify-center h-64",children:i.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-600"})})}):i.jsxs("div",{className:"p-8 space-y-8",children:[i.jsxs("div",{children:[i.jsx("h1",{className:"text-3xl font-bold text-gray-900",children:"Tableau de bord Analytics"}),i.jsx("p",{className:"text-gray-600 mt-2",children:"Vue d'ensemble des performances de votre plateforme de formation"})]}),g&&i.jsxs("div",{className:"bg-gradient-to-r from-blue-600 to-purple-600 rounded-lg shadow-lg p-6 text-white",children:[i.jsxs("div",{className:"flex items-center justify-between mb-4",children:[i.jsxs("h2",{className:"text-xl font-bold",children:["Statistiques des ",g.period_days," derniers jours"]}),i.jsx("div",{className:"flex gap-2",children:[7,30,90].map(w=>i.jsxs("button",{onClick:()=>t(w),className:`px-4 py-2 rounded-lg font-medium transition-colors ${e===w?"bg-white text-blue-600":"bg-white/20 hover:bg-white/30"}`,children:[w,"j"]},w))})]}),i.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-5 gap-4",children:[i.jsxs("div",{className:"bg-white/10 rounded-lg p-4",children:[i.jsx("p",{className:"text-sm opacity-90",children:"Nouvelles inscriptions"}),i.jsx("p",{className:"text-3xl font-bold mt-1",children:g.stats.new_enrollments})]}),i.jsxs("div",{className:"bg-white/10 rounded-lg p-4",children:[i.jsx("p",{className:"text-sm opacity-90",children:"Formations compltes"}),i.jsx("p",{className:"text-3xl font-bold mt-1",children:g.stats.completed_formations})]}),i.jsxs("div",{className:"bg-white/10 rounded-lg p-4",children:[i.jsx("p",{className:"text-sm opacity-90",children:"Vidos termines"}),i.jsx("p",{className:"text-3xl font-bold mt-1",children:g.stats.videos_completed})]}),i.jsxs("div",{className:"bg-white/10 rounded-lg p-4",children:[i.jsx("p",{className:"text-sm opacity-90",children:"Tests passs"}),i.jsx("p",{className:"text-3xl font-bold mt-1",children:g.stats.tests_total})]}),i.jsxs("div",{className:"bg-white/10 rounded-lg p-4",children:[i.jsx("p",{className:"text-sm opacity-90",children:"Tests russis"}),i.jsx("p",{className:"text-3xl font-bold mt-1",children:g.stats.tests_passed})]})]})]}),b&&i.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6",children:[i.jsx(xf,{title:"Total tudiants",value:b.students.total,icon:fs,colorClass:"bg-blue-500"}),i.jsx(xf,{title:"Total Formations",value:b.formations.total,icon:Wn,colorClass:"bg-green-500"}),i.jsx(xf,{title:"Sessions Actives",value:b.sessions.active,subtitle:`Sur ${b.sessions.total} sessions`,icon:Ia,colorClass:"bg-purple-500"}),i.jsx(xf,{title:"Taux de Compltion",value:`${b.enrollments.completion_rate.toFixed(1)}%`,subtitle:`${b.enrollments.completed}/${b.enrollments.total} inscriptions`,icon:Za,colorClass:"bg-orange-500"}),i.jsx(xf,{title:"Vidos Compltes",value:`${b.videos.completion_rate.toFixed(1)}%`,subtitle:`${b.videos.completed}/${b.videos.total} vidos`,icon:Gx,colorClass:"bg-cyan-500"}),i.jsx(xf,{title:"Taux de Russite Tests",value:`${b.tests.success_rate.toFixed(1)}%`,subtitle:`${b.tests.passed}/${b.tests.total} tests`,icon:Hx,colorClass:"bg-pink-500"}),i.jsx(xf,{title:"Inscriptions Totales",value:b.enrollments.total,icon:G0,colorClass:"bg-indigo-500"}),i.jsx(xf,{title:"Formations Compltes",value:b.enrollments.completed,icon:Ba,colorClass:"bg-emerald-500"})]}),i.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[a?.formations&&a.formations.length>0&&i.jsxs("div",{className:"bg-white rounded-lg shadow-sm border p-6",children:[i.jsxs("div",{className:"flex items-center justify-between mb-4",children:[i.jsx("h2",{className:"text-lg font-semibold text-gray-900",children:"Formations les Plus Populaires"}),i.jsxs("button",{onClick:()=>P_e(a.formations),className:"flex items-center gap-2 px-3 py-1.5 text-sm bg-green-600 text-white rounded-lg hover:bg-green-700 transition-colors",children:[i.jsx(Fi,{className:"h-4 w-4"}),"CSV"]})]}),i.jsx(X5,{width:"100%",height:300,children:i.jsxs(Hwe,{data:a.formations.slice(0,8),children:[i.jsx(d_,{strokeDasharray:"3 3"}),i.jsx(m_,{dataKey:"title",angle:-45,textAnchor:"end",height:120,interval:0,tick:{fontSize:11}}),i.jsx(x_,{}),i.jsx(fN,{content:({active:w,payload:N})=>{if(w&&N&&N.length){const E=N[0].payload;return i.jsxs("div",{className:"bg-white p-3 border rounded-lg shadow-lg",children:[i.jsx("p",{className:"font-semibold text-sm mb-1",children:E.title}),i.jsxs("p",{className:"text-xs text-gray-600",children:["Inscriptions: ",i.jsx("span",{className:"font-medium",children:E.enrollment_count})]}),i.jsxs("p",{className:"text-xs text-gray-600",children:["Complts: ",i.jsx("span",{className:"font-medium",children:E.completed_count})]}),i.jsxs("p",{className:"text-xs text-gray-600",children:["Taux: ",i.jsxs("span",{className:"font-medium",children:[E.completion_rate,"%"]})]})]})}return null}}),i.jsx(mg,{}),i.jsx(c_,{dataKey:"enrollment_count",name:"Inscriptions",fill:"#3B82F6"}),i.jsx(c_,{dataKey:"completed_count",name:"Complts",fill:"#10B981"})]})})]}),l?.trends&&l.trends.length>0&&i.jsxs("div",{className:"bg-white rounded-lg shadow-sm border p-6",children:[i.jsxs("div",{className:"flex items-center justify-between mb-4",children:[i.jsx("h2",{className:"text-lg font-semibold text-gray-900",children:"Tendances d'Inscriptions (6 mois)"}),i.jsxs("button",{onClick:()=>M_e(l.trends),className:"flex items-center gap-2 px-3 py-1.5 text-sm bg-green-600 text-white rounded-lg hover:bg-green-700 transition-colors",children:[i.jsx(Fi,{className:"h-4 w-4"}),"CSV"]})]}),i.jsx(X5,{width:"100%",height:300,children:i.jsxs(qwe,{data:l.trends,children:[i.jsx(d_,{strokeDasharray:"3 3"}),i.jsx(m_,{dataKey:"month"}),i.jsx(x_,{}),i.jsx(fN,{content:({active:w,payload:N})=>{if(w&&N&&N.length){const E=N[0].payload;return i.jsxs("div",{className:"bg-white p-3 border rounded-lg shadow-lg",children:[i.jsx("p",{className:"font-semibold text-sm mb-1",children:E.month}),i.jsxs("p",{className:"text-xs text-blue-600",children:["Inscriptions: ",i.jsx("span",{className:"font-medium",children:E.enrollment_count})]}),i.jsxs("p",{className:"text-xs text-green-600",children:["Complts: ",i.jsx("span",{className:"font-medium",children:E.completed_count})]})]})}return null}}),i.jsx(mg,{}),i.jsx(f_,{type:"monotone",dataKey:"enrollment_count",name:"Inscriptions",stroke:"#3B82F6",strokeWidth:2,dot:{r:4}}),i.jsx(f_,{type:"monotone",dataKey:"completed_count",name:"Complts",stroke:"#10B981",strokeWidth:2,dot:{r:4}})]})})]})]}),h?.data&&h.data.length>0&&i.jsxs("div",{className:"bg-white rounded-lg shadow-sm border p-6",children:[i.jsx("h2",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Rpartition des Taux de Compltion"}),i.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[i.jsx(X5,{width:"100%",height:300,children:i.jsxs(e5e,{children:[i.jsx(HI,{data:h.data.slice(0,6),dataKey:"completion_rate",nameKey:"title",cx:"50%",cy:"50%",outerRadius:100,label:w=>`${w.title}: ${w.completion_rate}%`,children:h.data.slice(0,6).map((w,N)=>i.jsx(r1,{fill:Rv[N%Rv.length]},`cell-${N}`))}),i.jsx(fN,{content:({active:w,payload:N})=>{if(w&&N&&N.length){const E=N[0].payload;return i.jsxs("div",{className:"bg-white p-3 border rounded-lg shadow-lg",children:[i.jsx("p",{className:"font-semibold text-sm mb-1",children:E.title}),i.jsxs("p",{className:"text-xs text-gray-600",children:["Taux: ",i.jsxs("span",{className:"font-medium",children:[E.completion_rate,"%"]})]}),i.jsxs("p",{className:"text-xs text-gray-600",children:["Complts: ",i.jsxs("span",{className:"font-medium",children:[E.completed_enrollments,"/",E.total_enrollments]})]})]})}return null}})]})}),i.jsxs("div",{className:"space-y-2",children:[i.jsx("h3",{className:"font-medium text-gray-900 mb-3",children:"Dtails par Formation"}),i.jsx("div",{className:"space-y-2 max-h-[280px] overflow-y-auto",children:h.data.map((w,N)=>i.jsxs("div",{className:"flex items-center justify-between p-3 bg-gray-50 rounded-lg",children:[i.jsxs("div",{className:"flex items-center gap-3",children:[i.jsx("div",{className:"w-3 h-3 rounded-full",style:{backgroundColor:Rv[N%Rv.length]}}),i.jsx("span",{className:"text-sm font-medium text-gray-900",children:w.title})]}),i.jsxs("div",{className:"text-right",children:[i.jsxs("p",{className:"text-sm font-semibold text-gray-900",children:[w.completion_rate,"%"]}),i.jsxs("p",{className:"text-xs text-gray-500",children:[w.completed_enrollments,"/",w.total_enrollments]})]})]},w.id))})]})]})]}),u?.students&&u.students.length>0&&i.jsxs("div",{className:"bg-white rounded-lg shadow-sm border overflow-hidden",children:[i.jsxs("div",{className:"p-6 border-b flex items-center justify-between",children:[i.jsx("h2",{className:"text-lg font-semibold text-gray-900",children:"tudiants les Plus Actifs"}),i.jsxs("button",{onClick:()=>L_e(u.students),className:"flex items-center gap-2 px-3 py-1.5 text-sm bg-green-600 text-white rounded-lg hover:bg-green-700 transition-colors",children:[i.jsx(Fi,{className:"h-4 w-4"}),"Export CSV"]})]}),i.jsx("div",{className:"overflow-x-auto",children:i.jsxs("table",{className:"w-full",children:[i.jsx("thead",{className:"bg-gray-50",children:i.jsxs("tr",{children:[i.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"tudiant"}),i.jsx("th",{className:"px-6 py-3 text-center text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Inscriptions"}),i.jsx("th",{className:"px-6 py-3 text-center text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Vidos Vues"}),i.jsx("th",{className:"px-6 py-3 text-center text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Vidos Compltes"}),i.jsx("th",{className:"px-6 py-3 text-center text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Tests Passs"}),i.jsx("th",{className:"px-6 py-3 text-center text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Tests Russis"})]})}),i.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:u.students.map(w=>i.jsxs("tr",{className:"hover:bg-gray-50",children:[i.jsx("td",{className:"px-6 py-4",children:i.jsxs("div",{children:[i.jsx("p",{className:"font-medium text-gray-900",children:w.full_name}),i.jsx("p",{className:"text-sm text-gray-500",children:w.email})]})}),i.jsx("td",{className:"px-6 py-4 text-center",children:i.jsx("span",{className:"inline-flex items-center px-3 py-1 rounded-full text-sm font-medium bg-blue-100 text-blue-800",children:w.enrollments_count})}),i.jsx("td",{className:"px-6 py-4 text-center text-gray-900",children:w.videos_watched}),i.jsx("td",{className:"px-6 py-4 text-center",children:i.jsx("span",{className:"inline-flex items-center px-3 py-1 rounded-full text-sm font-medium bg-green-100 text-green-800",children:w.videos_completed})}),i.jsx("td",{className:"px-6 py-4 text-center text-gray-900",children:w.tests_taken}),i.jsx("td",{className:"px-6 py-4 text-center",children:i.jsx("span",{className:"inline-flex items-center px-3 py-1 rounded-full text-sm font-medium bg-purple-100 text-purple-800",children:w.tests_passed})})]},w.id))})]})})]})]})},o2=({progress:e,label:t,showPercentage:r=!0,size:n="md",color:a="blue"})=>{const s=Math.min(Math.max(e,0),100),l=s>=100,o={sm:"h-1.5",md:"h-2",lg:"h-3"},u={blue:"bg-blue-600",green:"bg-green-600",purple:"bg-purple-600",orange:"bg-orange-600"};return i.jsxs("div",{className:"w-full",children:[(t||r)&&i.jsxs("div",{className:"flex items-center justify-between mb-1.5",children:[t&&i.jsx("span",{className:"text-sm font-medium text-gray-700",children:t}),r&&i.jsxs("div",{className:"flex items-center gap-1.5",children:[l&&i.jsx(Za,{className:"h-4 w-4 text-green-600"}),i.jsxs("span",{className:`text-sm font-semibold ${l?"text-green-600":"text-gray-600"}`,children:[Math.round(s),"%"]})]})]}),i.jsx("div",{className:`w-full bg-gray-200 rounded-full overflow-hidden ${o[n]}`,children:i.jsx("div",{className:`${o[n]} ${u[a]} rounded-full transition-all duration-500 ease-out`,style:{width:`${s}%`}})})]})},_F=({completed:e,total:t,label:r,color:n="blue"})=>{const a=t>0?e/t*100:0;return i.jsxs("div",{children:[i.jsxs("div",{className:"flex items-center justify-between mb-1.5",children:[i.jsx("span",{className:"text-sm text-gray-600",children:r}),i.jsxs("span",{className:"text-sm font-medium text-gray-900",children:[e,"/",t]})]}),i.jsx(o2,{progress:a,showPercentage:!1,color:n})]})},B_e=()=>{const[e,t]=k.useState(null),[r,n]=k.useState(""),{data:a,isLoading:s}=s5e(e),l=d=>{t(d)},o=()=>{a&&D_e(a)},u=()=>{a&&R_e(a)};return i.jsxs("div",{className:"p-8 space-y-6",children:[i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsxs("div",{children:[i.jsx("h1",{className:"text-3xl font-bold text-gray-900",children:"Rapports tudiants"}),i.jsx("p",{className:"text-gray-600 mt-2",children:"Consulter les rapports dtaills de progression des tudiants"})]}),e&&i.jsxs("div",{className:"flex gap-2",children:[i.jsxs("button",{onClick:u,className:"flex items-center gap-2 px-4 py-2 bg-green-600 text-white rounded-lg hover:bg-green-700 transition-colors",children:[i.jsx(Fi,{className:"h-4 w-4"}),"Export CSV"]}),i.jsxs("button",{onClick:o,className:"flex items-center gap-2 px-4 py-2 bg-red-600 text-white rounded-lg hover:bg-red-700 transition-colors",children:[i.jsx(Fi,{className:"h-4 w-4"}),"Export PDF"]})]})]}),i.jsxs("div",{className:"bg-white rounded-lg shadow-sm border p-6",children:[i.jsxs("div",{className:"relative",children:[i.jsx(mh,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 h-5 w-5 text-gray-400"}),i.jsx("input",{type:"text",placeholder:"Rechercher un tudiant par ID (pour test, utilisez un ID existant)...",value:r,onChange:d=>n(d.target.value),onKeyDown:d=>{d.key==="Enter"&&r.trim()&&l(r.trim())},className:"w-full pl-10 pr-4 py-3 border rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500"})]}),i.jsx("p",{className:"text-sm text-gray-500 mt-2",children:"Appuyez sur Entre pour charger le rapport d'un tudiant"})]}),s&&i.jsx("div",{className:"flex items-center justify-center h-64",children:i.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-600"})}),!s&&!e&&i.jsxs("div",{className:"bg-white rounded-lg shadow-sm border p-12 text-center",children:[i.jsx(fi,{className:"h-16 w-16 text-gray-300 mx-auto mb-4"}),i.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"Aucun tudiant slectionn"}),i.jsx("p",{className:"text-gray-600",children:"Entrez l'ID d'un tudiant dans la barre de recherche pour afficher son rapport dtaill"})]}),!s&&e&&a&&i.jsxs("div",{className:"space-y-6",children:[i.jsxs("div",{className:"bg-white rounded-lg shadow-sm border p-6",children:[i.jsxs("div",{className:"flex items-center gap-4 mb-4",children:[i.jsx("div",{className:"bg-blue-500 p-4 rounded-full",children:i.jsx(Y0,{className:"h-8 w-8 text-white"})}),i.jsxs("div",{className:"flex-1",children:[i.jsx("h2",{className:"text-2xl font-bold text-gray-900",children:a.student.full_name}),i.jsxs("div",{className:"flex items-center gap-4 mt-2 text-sm text-gray-600",children:[i.jsxs("div",{className:"flex items-center gap-1",children:[i.jsx(CV,{className:"h-4 w-4"}),a.student.email]}),i.jsxs("div",{className:"flex items-center gap-1",children:[i.jsx(Ia,{className:"h-4 w-4"}),"Inscrit le ",new Date(a.student.created_at).toLocaleDateString("fr-FR")]})]})]})]}),i.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4 mt-6",children:[i.jsxs("div",{className:"bg-blue-50 rounded-lg p-4",children:[i.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[i.jsx(Wn,{className:"h-5 w-5 text-blue-600"}),i.jsx("span",{className:"text-sm font-medium text-blue-900",children:"Formations"})]}),i.jsx("p",{className:"text-3xl font-bold text-blue-600",children:a.enrollments.length})]}),i.jsxs("div",{className:"bg-green-50 rounded-lg p-4",children:[i.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[i.jsx(Za,{className:"h-5 w-5 text-green-600"}),i.jsx("span",{className:"text-sm font-medium text-green-900",children:"Compltes"})]}),i.jsx("p",{className:"text-3xl font-bold text-green-600",children:a.enrollments.filter(d=>d.completed_at).length})]}),i.jsxs("div",{className:"bg-purple-50 rounded-lg p-4",children:[i.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[i.jsx(Gx,{className:"h-5 w-5 text-purple-600"}),i.jsx("span",{className:"text-sm font-medium text-purple-900",children:"Vidos"})]}),i.jsxs("p",{className:"text-3xl font-bold text-purple-600",children:[a.enrollments.reduce((d,h)=>d+h.completed_videos,0)," /"," ",a.enrollments.reduce((d,h)=>d+h.total_videos,0)]})]}),i.jsxs("div",{className:"bg-orange-50 rounded-lg p-4",children:[i.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[i.jsx(Hx,{className:"h-5 w-5 text-orange-600"}),i.jsx("span",{className:"text-sm font-medium text-orange-900",children:"Tests Russis"})]}),i.jsxs("p",{className:"text-3xl font-bold text-orange-600",children:[a.enrollments.reduce((d,h)=>d+h.passed_tests,0)," /"," ",a.enrollments.reduce((d,h)=>d+h.total_tests,0)]})]})]})]}),i.jsxs("div",{className:"bg-white rounded-lg shadow-sm border overflow-hidden",children:[i.jsx("div",{className:"p-6 border-b",children:i.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:"Formations Inscrites"})}),i.jsx("div",{className:"divide-y",children:a.enrollments.length===0?i.jsxs("div",{className:"p-12 text-center text-gray-500",children:[i.jsx(Wn,{className:"h-12 w-12 text-gray-300 mx-auto mb-3"}),i.jsx("p",{children:"Aucune formation inscrite"})]}):a.enrollments.map(d=>{const h=d.total_videos>0?d.completed_videos/d.total_videos*100:0,m=d.total_tests>0?d.passed_tests/d.total_tests*100:0;return i.jsxs("div",{className:"p-6 hover:bg-gray-50",children:[i.jsxs("div",{className:"flex items-start justify-between mb-4",children:[i.jsxs("div",{className:"flex-1",children:[i.jsx("h4",{className:"font-semibold text-gray-900 mb-2",children:d.formation_title}),i.jsxs("div",{className:"flex items-center gap-4 text-sm text-gray-600",children:[i.jsxs("span",{children:["Inscrit le ",new Date(d.enrolled_at).toLocaleDateString("fr-FR")]}),d.completed_at&&i.jsxs("span",{className:"flex items-center gap-1 text-green-600",children:[i.jsx(Za,{className:"h-4 w-4"}),"Complt le ",new Date(d.completed_at).toLocaleDateString("fr-FR")]})]})]}),i.jsx("span",{className:`px-3 py-1 rounded-full text-sm font-medium ${d.status==="completed"?"bg-green-100 text-green-800":d.status==="active"?"bg-blue-100 text-blue-800":"bg-gray-100 text-gray-800"}`,children:d.status==="completed"?"Complt":d.status==="active"?"En cours":"Inactif"})]}),i.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[i.jsx("div",{children:i.jsx(o2,{progress:h,label:`Vidos (${d.completed_videos}/${d.total_videos})`,color:"purple",size:"sm"})}),i.jsx("div",{children:i.jsx(o2,{progress:m,label:`Tests russis (${d.passed_tests}/${d.total_tests})`,color:"orange",size:"sm"})})]})]},d.formation_id)})})]}),i.jsxs("div",{className:"bg-white rounded-lg shadow-sm border overflow-hidden",children:[i.jsx("div",{className:"p-6 border-b",children:i.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:"Historique des Tests"})}),a.test_history.length===0?i.jsxs("div",{className:"p-12 text-center text-gray-500",children:[i.jsx(Hx,{className:"h-12 w-12 text-gray-300 mx-auto mb-3"}),i.jsx("p",{children:"Aucun test pass"})]}):i.jsx("div",{className:"overflow-x-auto",children:i.jsxs("table",{className:"w-full",children:[i.jsx("thead",{className:"bg-gray-50",children:i.jsxs("tr",{children:[i.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase",children:"Formation"}),i.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase",children:"Test"}),i.jsx("th",{className:"px-6 py-3 text-center text-xs font-medium text-gray-500 uppercase",children:"Score"}),i.jsx("th",{className:"px-6 py-3 text-center text-xs font-medium text-gray-500 uppercase",children:"Rsultat"}),i.jsx("th",{className:"px-6 py-3 text-center text-xs font-medium text-gray-500 uppercase",children:"Date"})]})}),i.jsx("tbody",{className:"divide-y",children:a.test_history.map(d=>{const h=d.total_points>0?(d.score/d.total_points*100).toFixed(1):0;return i.jsxs("tr",{className:"hover:bg-gray-50",children:[i.jsx("td",{className:"px-6 py-4 text-sm text-gray-900",children:d.formation_title}),i.jsx("td",{className:"px-6 py-4 text-sm text-gray-900",children:d.test_title}),i.jsxs("td",{className:"px-6 py-4 text-center",children:[i.jsxs("div",{className:"text-sm font-medium text-gray-900",children:[d.score," / ",d.total_points]}),i.jsxs("div",{className:"text-xs text-gray-500",children:[h,"%"]})]}),i.jsx("td",{className:"px-6 py-4 text-center",children:d.passed?i.jsxs("span",{className:"inline-flex items-center gap-1 px-3 py-1 rounded-full text-sm font-medium bg-green-100 text-green-800",children:[i.jsx(Za,{className:"h-4 w-4"}),"Russi"]}):i.jsxs("span",{className:"inline-flex items-center gap-1 px-3 py-1 rounded-full text-sm font-medium bg-red-100 text-red-800",children:[i.jsx(xd,{className:"h-4 w-4"}),"chou"]})}),i.jsx("td",{className:"px-6 py-4 text-center text-sm text-gray-600",children:new Date(d.submitted_at).toLocaleDateString("fr-FR")})]},d.id)})})]})})]})]})]})},KS={generate:async e=>$e.post("/certificates/generate",e),getByStudent:async e=>$e.get(`/certificates/student/${e}`),getById:async e=>$e.get(`/certificates/${e}`),verify:async e=>$e.get(`/certificates/verify/${e}`),getAll:async e=>{const t={};return e?.limit&&(t.limit=e.limit.toString()),e?.offset&&(t.offset=e.offset.toString()),e?.formation_id&&(t.formation_id=e.formation_id),$e.get("/certificates",t)},delete:async e=>$e.delete(`/certificates/${e}`),updateMetadata:async(e,t)=>$e.patch(`/certificates/${e}/metadata`,{metadata:t})},CU=e=>Jt({queryKey:["certificates","student",e],queryFn:()=>{if(!e)throw new Error("Student ID is required");return KS.getByStudent(e)},enabled:!!e,staleTime:1e3*60*5}),U_e=e=>Jt({queryKey:["certificates","all",e],queryFn:()=>KS.getAll(e),staleTime:1e3*60*5}),z_e=()=>{const e=Tt();return Ot({mutationFn:KS.delete,onSuccess:()=>{e.invalidateQueries({queryKey:["certificates"]})}})},q_e=["helvetica","times","courier","arial","verdana","georgia","palatino","garamond","bookman","trebuchet","impact"],$_e=["normal","bold","italic","bolditalic"];function GS(){return`page-${Date.now()}-${Math.random().toString(36).substring(2,9)}`}function H_e(e,t){if(e.pages&&e.pages.length>0)return e;const r={id:GS(),name:"Recto",background_image_url:t?.url,background_image_type:t?.type,elements:e.elements||[]};return{...e,pages:[r],elements:e.elements}}function V_e(e){return!!(e.pages&&e.pages.length>0)}function P_(e,t){return V_e(e)?e.pages:H_e(e,t).pages}function W_e(e="Nouvelle page"){return{id:GS(),name:e,elements:[]}}const K_e={a4:{width:1122,height:794},letter:{width:1056,height:816},badge:{width:323,height:204}},YS=(e,t,r,n)=>{if(e==="custom"){const s=r?jF(r):1122,l=n?jF(n):794;return t==="portrait"?{width:l,height:s}:{width:s,height:l}}const a=K_e[e];return t==="portrait"?{width:a.height,height:a.width}:{...a}},G_e=(e,t,r,n)=>{const{width:a,height:s}=YS(e,t,r,n),l=Xv[e]||"Personnalis";return`${a}  ${s} px (${l} ${t==="portrait"?"Portrait":"Paysage"})`},Xv={a4:"A4",letter:"Letter",badge:"Badge",custom:"Personnalis"},jF=e=>e*96/25.4,TU=async(e,t)=>{const r=new Gt({orientation:"landscape",unit:"mm",format:"a4"}),n=r.internal.pageSize.getWidth(),a=r.internal.pageSize.getHeight(),s=[59,130,246],l=[251,191,36],o=[31,41,55];r.setDrawColor(...l),r.setLineWidth(1),r.rect(10,10,n-20,a-20),r.setDrawColor(...s),r.setLineWidth(.5),r.rect(15,15,n-30,a-30),r.setLineWidth(2),r.line(20,20,40,20),r.line(20,20,20,40),r.line(n-40,20,n-20,20),r.line(n-20,20,n-20,40),r.line(20,a-20,40,a-20),r.line(20,a-40,20,a-20),r.line(n-40,a-20,n-20,a-20),r.line(n-20,a-40,n-20,a-20),r.setTextColor(...l),r.setFontSize(32),r.setFont("helvetica","bold"),r.text("CERTIFICAT DE RUSSITE",n/2,40,{align:"center"}),r.setDrawColor(...l),r.setLineWidth(.5),r.line(n/2-50,45,n/2+50,45),r.setTextColor(...o),r.setFontSize(14),r.setFont("helvetica","normal"),r.text("Ce certificat est dcern ",n/2,60,{align:"center"}),r.setTextColor(...s),r.setFontSize(28),r.setFont("helvetica","bold"),r.text(e.student_name||"tudiant",n/2,75,{align:"center"}),r.setDrawColor(...s),r.setLineWidth(.3);const u=r.getTextWidth(e.student_name||"tudiant");r.line(n/2-u/2-10,78,n/2+u/2+10,78),r.setTextColor(...o),r.setFontSize(13),r.setFont("helvetica","normal"),r.text("Pour avoir complt avec succs la formation",n/2,92,{align:"center"}),r.setTextColor(0,0,0),r.setFontSize(18),r.setFont("helvetica","bold");const d=e.formation_title||"Formation",h=n-80,m=r.splitTextToSize(d,h);m.length===1?r.text(m[0],n/2,105,{align:"center"}):(r.text(m[0],n/2,102,{align:"center"}),m[1]&&r.text(m[1],n/2,110,{align:"center"}));const g=m.length>1?120:115;r.setTextColor(...o),r.setFontSize(11),r.setFont("helvetica","normal");const x=new Date(e.completion_date).toLocaleDateString("fr-FR",{day:"numeric",month:"long",year:"numeric"});r.text(`Date de compltion : ${x}`,n/2,g+10,{align:"center"}),e.duration_hours&&r.text(`Dure de la formation : ${e.duration_hours} heures`,n/2,g+17,{align:"center"}),e.grade!==null&&e.grade!==void 0&&(r.setTextColor(...s),r.setFont("helvetica","bold"),r.text(`Note obtenue : ${e.grade}%`,n/2,g+24,{align:"center"}));const b=a-40;r.setTextColor(...o),r.setFontSize(9),r.setFont("helvetica","italic"),r.text(`Numro de certificat : ${e.certificate_number}`,n/2,b,{align:"center"});const v=new Date(e.issued_at).toLocaleDateString("fr-FR");r.text(`Dlivr le : ${v}`,n/2,b+5,{align:"center"});const w=b-20;r.setDrawColor(...o),r.setLineWidth(.3),r.line(n/2-30,w,n/2+30,w),r.setTextColor(...o),r.setFontSize(10),r.setFont("helvetica","normal"),r.text("Directeur de Formation",n/2,w+5,{align:"center"}),r.setFillColor(...l),r.circle(n-35,a-35,15,"F"),r.setTextColor(255,255,255),r.setFontSize(8),r.setFont("helvetica","bold"),r.text("CERTIFI",n-35,a-38,{align:"center"}),r.text("RUSSITE",n-35,a-32,{align:"center"});const N=`certificat_${e.certificate_number}_${e.student_name?.replace(/\s+/g,"_")||"etudiant"}.pdf`;r.save(N)},Y_e=()=>{const[e,t]=k.useState(""),[r,n]=k.useState(""),{data:a,isLoading:s}=U_e({limit:100,formation_id:r||void 0}),{data:l}=_2(),o=z_e(),u=a?.certificates||[],d=l||[],h=u.filter(w=>{const N=e.toLowerCase();return w.student_name?.toLowerCase().includes(N)||w.formation_title?.toLowerCase().includes(N)||w.certificate_number.toLowerCase().includes(N)}),m=async w=>{await TU(w)},g=async w=>{if(confirm("tes-vous sr de vouloir supprimer ce certificat ?"))try{await o.mutateAsync(w)}catch(N){console.error("Erreur lors de la suppression:",N),alert("Erreur lors de la suppression du certificat")}},x=u.length,b=u.filter(w=>{const N=new Date(w.issued_at),E=new Date;return N.getMonth()===E.getMonth()&&N.getFullYear()===E.getFullYear()}).length,v=u.length>0?(u.filter(w=>w.grade!==null).reduce((w,N)=>w+(N.grade||0),0)/u.filter(w=>w.grade!==null).length).toFixed(1):"0";return i.jsx(kn,{title:"Gestion des Certificats",subtitle:"Consulter et grer tous les certificats mis",children:i.jsxs("div",{className:"space-y-6",children:[i.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-6",children:[i.jsx("div",{className:"bg-gradient-to-br from-blue-500 to-blue-600 rounded-lg p-6 text-white",children:i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsxs("div",{children:[i.jsx("p",{className:"text-sm opacity-90",children:"Total Certificats"}),i.jsx("p",{className:"text-4xl font-bold mt-2",children:x})]}),i.jsx(Ba,{className:"h-12 w-12 opacity-80"})]})}),i.jsx("div",{className:"bg-gradient-to-br from-green-500 to-green-600 rounded-lg p-6 text-white",children:i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsxs("div",{children:[i.jsx("p",{className:"text-sm opacity-90",children:"Ce mois-ci"}),i.jsx("p",{className:"text-4xl font-bold mt-2",children:b})]}),i.jsx(Ia,{className:"h-12 w-12 opacity-80"})]})}),i.jsx("div",{className:"bg-gradient-to-br from-amber-500 to-amber-600 rounded-lg p-6 text-white",children:i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsxs("div",{children:[i.jsx("p",{className:"text-sm opacity-90",children:"Note Moyenne"}),i.jsxs("p",{className:"text-4xl font-bold mt-2",children:[v,"%"]})]}),i.jsx(Za,{className:"h-12 w-12 opacity-80"})]})}),i.jsx("div",{className:"bg-gradient-to-br from-purple-500 to-purple-600 rounded-lg p-6 text-white",children:i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsxs("div",{children:[i.jsx("p",{className:"text-sm opacity-90",children:"Formations"}),i.jsx("p",{className:"text-4xl font-bold mt-2",children:new Set(u.map(w=>w.formation_id)).size})]}),i.jsx(Wn,{className:"h-12 w-12 opacity-80"})]})})]}),i.jsx("div",{className:"bg-white rounded-lg shadow-sm border p-6",children:i.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[i.jsx("div",{className:"md:col-span-2",children:i.jsxs("div",{className:"relative",children:[i.jsx(mh,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 h-5 w-5 text-gray-400"}),i.jsx("input",{type:"text",placeholder:"Rechercher par tudiant, formation ou numro...",value:e,onChange:w=>t(w.target.value),className:"w-full pl-10 pr-4 py-2 border rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500"})]})}),i.jsx("div",{children:i.jsxs("div",{className:"relative",children:[i.jsx(h2,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 h-5 w-5 text-gray-400"}),i.jsxs("select",{value:r,onChange:w=>n(w.target.value),className:"w-full pl-10 pr-4 py-2 border rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500 appearance-none",children:[i.jsx("option",{value:"",children:"Toutes les formations"}),d.map(w=>i.jsx("option",{value:w.id,children:w.title},w.id))]})]})})]})}),i.jsxs("div",{className:"bg-white rounded-lg shadow-sm border overflow-hidden",children:[i.jsx("div",{className:"p-6 border-b",children:i.jsxs("h2",{className:"text-lg font-semibold text-gray-900",children:["Certificats (",h.length,")"]})}),s?i.jsx("div",{className:"flex items-center justify-center h-64",children:i.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-600"})}):h.length===0?i.jsxs("div",{className:"p-12 text-center",children:[i.jsx(Ba,{className:"h-16 w-16 text-gray-300 mx-auto mb-4"}),i.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"Aucun certificat trouv"}),i.jsx("p",{className:"text-gray-600",children:e||r?"Essayez de modifier vos critres de recherche":"Aucun certificat n'a encore t gnr"})]}):i.jsx("div",{className:"overflow-x-auto",children:i.jsxs("table",{className:"w-full",children:[i.jsx("thead",{className:"bg-gray-50",children:i.jsxs("tr",{children:[i.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Numro"}),i.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"tudiant"}),i.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Formation"}),i.jsx("th",{className:"px-6 py-3 text-center text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Note"}),i.jsx("th",{className:"px-6 py-3 text-center text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Date mission"}),i.jsx("th",{className:"px-6 py-3 text-center text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Actions"})]})}),i.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:h.map(w=>i.jsxs("tr",{className:"hover:bg-gray-50",children:[i.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:i.jsx("span",{className:"text-sm font-mono text-gray-900",children:w.certificate_number})}),i.jsx("td",{className:"px-6 py-4",children:i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsx(Y0,{className:"h-4 w-4 text-gray-400"}),i.jsxs("div",{children:[i.jsx("p",{className:"text-sm font-medium text-gray-900",children:w.student_name}),i.jsx("p",{className:"text-xs text-gray-500",children:w.student_email})]})]})}),i.jsx("td",{className:"px-6 py-4",children:i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsx(Wn,{className:"h-4 w-4 text-gray-400"}),i.jsx("span",{className:"text-sm text-gray-900",children:w.formation_title})]})}),i.jsx("td",{className:"px-6 py-4 text-center",children:w.grade!==null&&w.grade!==void 0?i.jsxs("span",{className:"inline-flex items-center px-3 py-1 rounded-full text-sm font-medium bg-green-100 text-green-800",children:[w.grade,"%"]}):i.jsx("span",{className:"text-sm text-gray-400",children:"-"})}),i.jsx("td",{className:"px-6 py-4 text-center text-sm text-gray-600",children:new Date(w.issued_at).toLocaleDateString("fr-FR")}),i.jsx("td",{className:"px-6 py-4",children:i.jsxs("div",{className:"flex items-center justify-center gap-2",children:[i.jsx("button",{onClick:()=>m(w),className:"p-2 text-blue-600 hover:bg-blue-50 rounded-lg transition-colors",title:"Tlcharger",children:i.jsx(Fi,{className:"h-4 w-4"})}),i.jsx("button",{onClick:()=>g(w.id),className:"p-2 text-red-600 hover:bg-red-50 rounded-lg transition-colors",title:"Supprimer",disabled:o.isPending,children:i.jsx(An,{className:"h-4 w-4"})})]})})]},w.id))})]})})]}),i.jsx("div",{className:"bg-blue-50 border border-blue-200 rounded-lg p-6",children:i.jsxs("div",{className:"flex items-start gap-4",children:[i.jsx("div",{className:"bg-blue-100 p-3 rounded-lg",children:i.jsx($r,{className:"h-6 w-6 text-blue-600"})}),i.jsxs("div",{children:[i.jsx("h3",{className:"font-semibold text-blue-900 mb-2",children:" propos des certificats"}),i.jsxs("ul",{className:"text-sm text-blue-800 space-y-1",children:[i.jsx("li",{children:" Les certificats sont gnrs automatiquement quand un tudiant complte une formation"}),i.jsx("li",{children:" Chaque certificat possde un numro unique pour vrification"}),i.jsx("li",{children:" La suppression d'un certificat est dfinitive"}),i.jsx("li",{children:" Les certificats peuvent tre tlchargs en PDF  tout moment"})]})]})]})})]})})},X_e=({isOpen:e,onClose:t,onSubmit:r,folder:n,folders:a,isLoading:s=!1,mode:l})=>{const[o,u]=k.useState(""),[d,h]=k.useState(null);k.useEffect(()=>{e&&(l==="edit"&&n?(u(n.name),h(n.parent_id)):(u(""),h(null)))},[e,l,n]);const m=x=>{x.preventDefault(),o.trim()&&r(o.trim(),l==="create"?d:void 0)};if(!e)return null;const g=a.filter(x=>l==="edit"&&n?x.id!==n.id:!0);return i.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:i.jsxs("div",{className:"bg-white rounded-lg shadow-xl max-w-md w-full mx-4",children:[i.jsxs("div",{className:"flex items-center justify-between p-4 border-b border-gray-200",children:[i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsx(Wm,{className:"h-5 w-5 text-blue-600"}),i.jsx("h2",{className:"text-lg font-semibold text-gray-900",children:l==="create"?"Nouveau Dossier":"Renommer le Dossier"})]}),i.jsx("button",{onClick:t,className:"p-1 hover:bg-gray-100 rounded transition-colors",disabled:s,children:i.jsx(En,{className:"h-5 w-5 text-gray-500"})})]}),i.jsxs("form",{onSubmit:m,className:"p-4 space-y-4",children:[i.jsxs("div",{children:[i.jsxs("label",{htmlFor:"folder-name",className:"block text-sm font-medium text-gray-700 mb-1",children:["Nom du dossier ",i.jsx("span",{className:"text-red-500",children:"*"})]}),i.jsx("input",{id:"folder-name",type:"text",value:o,onChange:x=>u(x.target.value),placeholder:"Ex: Formation KSS",className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500",required:!0,disabled:s,autoFocus:!0})]}),l==="create"&&i.jsxs("div",{children:[i.jsx("label",{htmlFor:"parent-folder",className:"block text-sm font-medium text-gray-700 mb-1",children:"Dossier parent (optionnel)"}),i.jsxs("select",{id:"parent-folder",value:d||"",onChange:x=>h(x.target.value||null),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500",disabled:s,children:[i.jsx("option",{value:"",children:" Racine (aucun parent)"}),g.map(x=>i.jsxs("option",{value:x.id,children:[" ",x.name]},x.id))]}),i.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"Laissez vide pour crer un dossier  la racine"})]}),i.jsxs("div",{className:"flex items-center justify-end gap-2 pt-2",children:[i.jsx("button",{type:"button",onClick:t,className:"px-4 py-2 text-sm text-gray-700 bg-gray-100 hover:bg-gray-200 rounded-lg transition-colors",disabled:s,children:"Annuler"}),i.jsx("button",{type:"submit",className:"px-4 py-2 text-sm text-white bg-blue-600 hover:bg-blue-700 rounded-lg transition-colors disabled:opacity-50",disabled:s||!o.trim(),children:s?"Enregistrement...":l==="create"?"Crer":"Enregistrer"})]})]})]})})},Q_e=({currentPath:e,onNavigate:t})=>i.jsxs("div",{className:"flex items-center gap-1 px-4 py-3 bg-white border border-gray-200 rounded-lg shadow-sm",children:[i.jsxs("button",{onClick:()=>t(null),className:"flex items-center gap-1.5 px-3 py-1.5 text-sm text-gray-700 hover:bg-blue-50 hover:text-blue-700 rounded transition-colors",title:"Accueil",children:[i.jsx(Fm,{className:"h-4 w-4"}),i.jsx("span",{className:"font-medium",children:"Accueil"})]}),e.map((r,n)=>i.jsxs(ed.Fragment,{children:[i.jsx(Bo,{className:"h-4 w-4 text-gray-400 flex-shrink-0"}),i.jsxs("button",{onClick:()=>t(r.id),className:`flex items-center gap-1.5 px-3 py-1.5 text-sm rounded transition-colors ${n===e.length-1?"bg-blue-100 text-blue-800 font-semibold":"text-gray-700 hover:bg-blue-50 hover:text-blue-700"}`,title:r.name,children:[i.jsx(Wm,{className:"h-4 w-4"}),i.jsx("span",{className:"max-w-[200px] truncate",children:r.name})]})]},r.id))]}),Z_e={A4:{width:210,height:297,label:"A4 (210 x 297 mm)"},Letter:{width:216,height:279,label:"Letter (216 x 279 mm)"},Badge:{width:85,height:55,label:"Badge (85 x 55 mm)"},Custom:{width:210,height:297,label:"Personnalis"}},J_e=({isOpen:e,onClose:t,onSubmit:r,currentFolderName:n})=>{const[a,s]=k.useState(""),[l,o]=k.useState("A4"),[u,d]=k.useState("portrait"),[h,m]=k.useState(10),[g,x]=k.useState(210),[b,v]=k.useState(297),[w,N]=k.useState("");if(!e)return null;const E=T=>{if(T.preventDefault(),!a.trim()){N("Le nom du template est requis");return}if(h<0||h>50){N("Les marges doivent tre entre 0 et 50 mm");return}if(l==="Custom"&&(g<10||g>500||b<10||b>500)){N("Les dimensions personnalises doivent tre entre 10 et 500 mm");return}const O={name:a.trim(),format:l,orientation:u,margins:h};l==="Custom"&&(O.customWidth=g,O.customHeight=b),r(O),j()},j=()=>{s(""),o("A4"),d("portrait"),m(10),x(210),v(297),N(""),t()};return i.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:i.jsxs("div",{className:"bg-white rounded-xl shadow-2xl max-w-md w-full max-h-[90vh] overflow-y-auto",children:[i.jsxs("div",{className:"flex items-center justify-between p-6 border-b border-gray-200 bg-gradient-to-r from-blue-50 to-blue-100",children:[i.jsxs("div",{className:"flex items-center gap-3",children:[i.jsx("div",{className:"p-2 bg-blue-600 rounded-lg",children:i.jsx(us,{className:"h-5 w-5 text-white"})}),i.jsxs("div",{children:[i.jsx("h2",{className:"text-xl font-bold text-gray-900",children:"Nouveau Template Canvas"}),n&&i.jsxs("p",{className:"text-sm text-gray-600 mt-0.5",children:["Dossier: ",i.jsx("span",{className:"font-medium",children:n})]})]})]}),i.jsx("button",{onClick:j,className:"p-2 hover:bg-blue-200 rounded-lg transition-colors",type:"button",children:i.jsx(En,{className:"h-5 w-5 text-gray-600"})})]}),i.jsxs("form",{onSubmit:E,className:"p-6 space-y-5",children:[w&&i.jsx("div",{className:"bg-red-50 border border-red-200 text-red-700 px-4 py-3 rounded-lg text-sm",children:w}),i.jsxs("div",{children:[i.jsxs("label",{className:"block text-sm font-semibold text-gray-700 mb-2",children:["Nom du template ",i.jsx("span",{className:"text-red-500",children:"*"})]}),i.jsx("input",{type:"text",value:a,onChange:T=>{s(T.target.value),N("")},className:"w-full px-4 py-2.5 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500 outline-none transition-all",placeholder:"Ex: Certificat de Formation",autoFocus:!0})]}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-semibold text-gray-700 mb-2",children:"Format"}),i.jsx("select",{value:l,onChange:T=>o(T.target.value),className:"w-full px-4 py-2.5 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500 outline-none transition-all",children:Object.entries(Z_e).map(([T,{label:O}])=>i.jsx("option",{value:T,children:O},T))})]}),l==="Custom"&&i.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-semibold text-gray-700 mb-2",children:"Largeur (mm)"}),i.jsx("input",{type:"number",value:g,onChange:T=>x(parseInt(T.target.value)||0),className:"w-full px-4 py-2.5 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500 outline-none transition-all",min:"10",max:"500"})]}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-semibold text-gray-700 mb-2",children:"Hauteur (mm)"}),i.jsx("input",{type:"number",value:b,onChange:T=>v(parseInt(T.target.value)||0),className:"w-full px-4 py-2.5 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500 outline-none transition-all",min:"10",max:"500"})]})]}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-semibold text-gray-700 mb-2",children:"Orientation"}),i.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[i.jsx("button",{type:"button",onClick:()=>d("portrait"),className:`px-4 py-3 border-2 rounded-lg font-medium transition-all ${u==="portrait"?"border-blue-500 bg-blue-50 text-blue-700":"border-gray-300 bg-white text-gray-700 hover:border-gray-400"}`,children:"Portrait"}),i.jsx("button",{type:"button",onClick:()=>d("landscape"),className:`px-4 py-3 border-2 rounded-lg font-medium transition-all ${u==="landscape"?"border-blue-500 bg-blue-50 text-blue-700":"border-gray-300 bg-white text-gray-700 hover:border-gray-400"}`,children:"Paysage"})]})]}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-semibold text-gray-700 mb-2",children:"Marges (mm)"}),i.jsx("input",{type:"number",value:h,onChange:T=>m(parseInt(T.target.value)||0),className:"w-full px-4 py-2.5 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500 outline-none transition-all",min:"0",max:"50"}),i.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"Valeur par dfaut: 10mm"})]}),i.jsxs("div",{className:"flex gap-3 pt-4",children:[i.jsx("button",{type:"button",onClick:j,className:"flex-1 px-5 py-2.5 border border-gray-300 text-gray-700 rounded-lg hover:bg-gray-50 transition-colors font-medium",children:"Annuler"}),i.jsx("button",{type:"submit",className:"flex-1 px-5 py-2.5 bg-gradient-to-r from-blue-600 to-blue-700 text-white rounded-lg hover:from-blue-700 hover:to-blue-800 transition-all shadow-md hover:shadow-lg font-medium",children:"Crer et Modifier"})]})]})]})})},eje=({isOpen:e,onClose:t,onSubmit:r,currentName:n,isLoading:a=!1})=>{const[s,l]=k.useState(n),[o,u]=k.useState("");k.useEffect(()=>{e&&(l(n),u(""))},[e,n]);const d=m=>{m.preventDefault();const g=s.trim();if(!g){u("Le nom du template est requis");return}if(g===n){u("Le nouveau nom doit tre diffrent de l'ancien");return}if(g.length<3){u("Le nom doit contenir au moins 3 caractres");return}if(g.length>100){u("Le nom ne peut pas dpasser 100 caractres");return}r(g)},h=()=>{a||(l(n),u(""),t())};return e?i.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:i.jsxs("div",{className:"bg-white rounded-xl shadow-2xl max-w-md w-full",children:[i.jsxs("div",{className:"flex items-center justify-between p-6 border-b border-gray-200 bg-gradient-to-r from-blue-50 to-blue-100",children:[i.jsxs("div",{className:"flex items-center gap-3",children:[i.jsx("div",{className:"p-2 bg-blue-600 rounded-lg",children:i.jsx(hh,{className:"h-5 w-5 text-white"})}),i.jsx("h2",{className:"text-xl font-bold text-gray-900",children:"Renommer le Template"})]}),i.jsx("button",{onClick:h,disabled:a,className:"p-2 hover:bg-blue-200 rounded-lg transition-colors disabled:opacity-50",type:"button",children:i.jsx(En,{className:"h-5 w-5 text-gray-600"})})]}),i.jsxs("form",{onSubmit:d,className:"p-6 space-y-5",children:[o&&i.jsx("div",{className:"bg-red-50 border border-red-200 text-red-700 px-4 py-3 rounded-lg text-sm",children:o}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-gray-600 mb-1",children:"Nom actuel"}),i.jsx("div",{className:"px-4 py-2.5 bg-gray-50 border border-gray-200 rounded-lg text-sm text-gray-700",children:n})]}),i.jsxs("div",{children:[i.jsxs("label",{className:"block text-sm font-semibold text-gray-700 mb-2",children:["Nouveau nom ",i.jsx("span",{className:"text-red-500",children:"*"})]}),i.jsx("input",{type:"text",value:s,onChange:m=>{l(m.target.value),u("")},className:"w-full px-4 py-2.5 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500 outline-none transition-all",placeholder:"Entrez le nouveau nom",autoFocus:!0,disabled:a}),i.jsx("p",{className:"text-xs text-gray-500 mt-1.5",children:"Minimum 3 caractres, maximum 100"})]}),i.jsxs("div",{className:"flex gap-3 pt-4",children:[i.jsx("button",{type:"button",onClick:h,disabled:a,className:"flex-1 px-5 py-2.5 border border-gray-300 text-gray-700 rounded-lg hover:bg-gray-50 transition-colors font-medium disabled:opacity-50",children:"Annuler"}),i.jsx("button",{type:"submit",disabled:a,className:"flex-1 px-5 py-2.5 bg-gradient-to-r from-blue-600 to-blue-700 text-white rounded-lg hover:from-blue-700 hover:to-blue-800 transition-all shadow-md hover:shadow-lg font-medium disabled:opacity-50 disabled:cursor-not-allowed",children:a?"Renommage...":"Renommer"})]})]})]})}):null},tje=({isOpen:e,onClose:t,onSubmit:r,currentName:n,isLoading:a=!1})=>{const[s,l]=k.useState(n),[o,u]=k.useState("");k.useEffect(()=>{e&&(l(n),u(""))},[e,n]);const d=m=>{m.preventDefault();const g=s.trim();if(!g){u("Le nom du dossier est requis");return}if(g===n){u("Le nouveau nom doit tre diffrent de l'ancien");return}if(g.length<3){u("Le nom doit contenir au moins 3 caractres");return}if(g.length>100){u("Le nom ne peut pas dpasser 100 caractres");return}r(g)},h=()=>{a||(l(n),u(""),t())};return e?i.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:i.jsxs("div",{className:"bg-white rounded-xl shadow-2xl max-w-md w-full",children:[i.jsxs("div",{className:"flex items-center justify-between p-6 border-b border-gray-200 bg-gradient-to-r from-purple-50 to-purple-100",children:[i.jsxs("div",{className:"flex items-center gap-3",children:[i.jsx("div",{className:"p-2 bg-purple-600 rounded-lg",children:i.jsx(dV,{className:"h-5 w-5 text-white"})}),i.jsx("h2",{className:"text-xl font-bold text-gray-900",children:"Renommer le Dossier"})]}),i.jsx("button",{onClick:h,disabled:a,className:"p-2 hover:bg-purple-200 rounded-lg transition-colors disabled:opacity-50",type:"button",children:i.jsx(En,{className:"h-5 w-5 text-gray-600"})})]}),i.jsxs("form",{onSubmit:d,className:"p-6 space-y-5",children:[o&&i.jsx("div",{className:"bg-red-50 border border-red-200 text-red-700 px-4 py-3 rounded-lg text-sm",children:o}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-gray-600 mb-1",children:"Nom actuel"}),i.jsx("div",{className:"px-4 py-2.5 bg-gray-50 border border-gray-200 rounded-lg text-sm text-gray-700",children:n})]}),i.jsxs("div",{children:[i.jsxs("label",{className:"block text-sm font-semibold text-gray-700 mb-2",children:["Nouveau nom ",i.jsx("span",{className:"text-red-500",children:"*"})]}),i.jsx("input",{type:"text",value:s,onChange:m=>{l(m.target.value),u("")},className:"w-full px-4 py-2.5 border border-gray-300 rounded-lg focus:ring-2 focus:ring-purple-500 focus:border-purple-500 outline-none transition-all",placeholder:"Entrez le nouveau nom",autoFocus:!0,disabled:a}),i.jsx("p",{className:"text-xs text-gray-500 mt-1.5",children:"Minimum 3 caractres, maximum 100"})]}),i.jsxs("div",{className:"flex gap-3 pt-4",children:[i.jsx("button",{type:"button",onClick:h,disabled:a,className:"flex-1 px-5 py-2.5 border border-gray-300 text-gray-700 rounded-lg hover:bg-gray-50 transition-colors font-medium disabled:opacity-50",children:"Annuler"}),i.jsx("button",{type:"submit",disabled:a,className:"flex-1 px-5 py-2.5 bg-gradient-to-r from-purple-600 to-purple-700 text-white rounded-lg hover:from-purple-700 hover:to-purple-800 transition-all shadow-md hover:shadow-lg font-medium disabled:opacity-50 disabled:cursor-not-allowed",children:a?"Renommage...":"Renommer"})]})]})]})}):null},rje=({isOpen:e,onClose:t,onSubmit:r,folders:n,currentFolderId:a,templateName:s,isLoading:l=!1})=>{const[o,u]=k.useState(""),[d,h]=k.useState(""),m=b=>{if(b.preventDefault(),!o){h("Veuillez slectionner un dossier de destination");return}if(o===a){h("Veuillez choisir un dossier diffrent du dossier actuel");return}r(o)},g=()=>{l||(u(""),h(""),t())},x=n.find(b=>b.id===a);return e?i.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:i.jsxs("div",{className:"bg-white rounded-xl shadow-2xl max-w-md w-full",children:[i.jsxs("div",{className:"flex items-center justify-between p-6 border-b border-gray-200 bg-gradient-to-r from-blue-50 to-blue-100",children:[i.jsxs("div",{className:"flex items-center gap-3",children:[i.jsx("div",{className:"p-2 bg-blue-600 rounded-lg",children:i.jsx(id,{className:"h-5 w-5 text-white"})}),i.jsx("h2",{className:"text-xl font-bold text-gray-900",children:"Dupliquer vers un dossier"})]}),i.jsx("button",{onClick:g,disabled:l,className:"p-2 hover:bg-blue-200 rounded-lg transition-colors disabled:opacity-50",type:"button",children:i.jsx(En,{className:"h-5 w-5 text-gray-600"})})]}),i.jsxs("form",{onSubmit:m,className:"p-6 space-y-5",children:[d&&i.jsx("div",{className:"bg-red-50 border border-red-200 text-red-700 px-4 py-3 rounded-lg text-sm",children:d}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-gray-600 mb-1",children:"Template  dupliquer"}),i.jsx("div",{className:"px-4 py-2.5 bg-gray-50 border border-gray-200 rounded-lg text-sm text-gray-700 font-medium",children:s})]}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-gray-600 mb-1",children:"Dossier actuel"}),i.jsxs("div",{className:"px-4 py-2.5 bg-gray-50 border border-gray-200 rounded-lg text-sm text-gray-700 flex items-center gap-2",children:[i.jsx(Wm,{className:"h-4 w-4 text-gray-500"}),x?.name||"Tous les dossiers"]})]}),i.jsxs("div",{children:[i.jsxs("label",{className:"block text-sm font-semibold text-gray-700 mb-2",children:["Dossier de destination ",i.jsx("span",{className:"text-red-500",children:"*"})]}),i.jsxs("select",{value:o,onChange:b=>{u(b.target.value),h("")},className:"w-full px-4 py-2.5 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500 outline-none transition-all",disabled:l,children:[i.jsx("option",{value:"",children:"Slectionnez un dossier"}),n.filter(b=>b.id!==a).map(b=>i.jsx("option",{value:b.id,children:b.name},b.id))]}),i.jsx("p",{className:"text-xs text-gray-500 mt-1.5",children:'Le template sera dupliqu avec le suffixe " - Copie"'})]}),i.jsxs("div",{className:"flex gap-3 pt-4",children:[i.jsx("button",{type:"button",onClick:g,disabled:l,className:"flex-1 px-5 py-2.5 border border-gray-300 text-gray-700 rounded-lg hover:bg-gray-50 transition-colors font-medium disabled:opacity-50",children:"Annuler"}),i.jsx("button",{type:"submit",disabled:l,className:"flex-1 px-5 py-2.5 bg-gradient-to-r from-blue-600 to-blue-700 text-white rounded-lg hover:from-blue-700 hover:to-blue-800 transition-all shadow-md hover:shadow-lg font-medium disabled:opacity-50 disabled:cursor-not-allowed",children:l?"Duplication...":"Dupliquer"})]})]})]})}):null},nje=()=>{const e=xn(),{data:t,isLoading:r,error:n}=j2(),{data:a,isLoading:s}=Gie(),l=zie(),o=qie(),u=$ie(),d=PL(),h=Yie(),m=Xie(),g=Qie(),[x,b]=k.useState(null),[v,w]=k.useState(null),[N,E]=k.useState(!1),[j,T]=k.useState("create"),[O,D]=k.useState(null),[C,P]=k.useState(!1),[B,H]=k.useState(!1),[L,U]=k.useState(null),[V,Y]=k.useState(!1),[de,te]=k.useState(null),[ie,ge]=k.useState(!1),[oe,Se]=k.useState(null),[ne,M]=k.useState(null),R=k.useMemo(()=>t?v?t.filter(Ye=>Ye.folder_id===v):t:[],[t,v]),q=k.useMemo(()=>{if(!v||!a)return null;const Ye=ft=>{for(const Et of ft){if(Et.id===v)return Et;if(Et.children){const zt=Ye(Et.children);if(zt)return zt}}return null};return Ye(a)},[v,a]),K=k.useMemo(()=>a?v?q&&q.children?q.children:[]:a:[],[v,q,a]),ee=k.useMemo(()=>{if(!v||!a)return[];const Ye=(ft,Et,zt=[])=>{for(const Kt of ft){const Ar=[...zt,Kt];if(Kt.id===Et)return Ar;if(Kt.children){const Mt=Ye(Kt.children,Et,Ar);if(Mt)return Mt}}return null};return Ye(a,v)||[]},[v,a]),ce=k.useMemo(()=>{if(!a)return[];const Ye=(ft,Et=[])=>{for(const zt of ft)Et.push(zt),zt.children&&Ye(zt.children,Et);return Et};return Ye(a)},[a]),Q=async Ye=>{try{await l.mutateAsync(Ye),b(null)}catch(ft){alert("Erreur: "+(ft.message||"Impossible de supprimer ce template"))}},re=async Ye=>{try{await o.mutateAsync(Ye)}catch(ft){alert("Erreur: "+(ft.message||"Impossible de dupliquer ce template"))}},ye=(Ye,ft)=>{U({id:Ye,name:ft}),H(!0)},Ee=async Ye=>{if(L)try{await d.mutateAsync({id:L.id,data:{name:Ye}}),H(!1),U(null)}catch(ft){alert("Erreur: "+(ft.message||"Impossible de renommer ce template"))}},X=(Ye,ft,Et)=>{Se({id:Ye,name:ft,folderId:Et}),ge(!0)},Je=async Ye=>{if(oe)try{await u.mutateAsync({id:oe.id,targetFolderId:Ye}),ge(!1),Se(null)}catch(ft){alert("Erreur: "+(ft.message||"Impossible de dupliquer ce template"))}},Ce=(Ye,ft)=>{te({id:Ye,name:ft}),Y(!0)},xe=async Ye=>{if(de)try{await m.mutateAsync({id:de.id,data:{name:Ye}}),Y(!1),te(null)}catch(ft){alert("Erreur: "+(ft.message||"Impossible de renommer ce dossier"))}},xt=Ye=>{M(Ye)},et=async()=>{if(ne)try{await g.mutateAsync(ne),v===ne&&w(null),M(null)}catch(Ye){alert("Erreur: "+(Ye.message||"Impossible de supprimer ce dossier")),M(null)}},Le=()=>{T("create"),D(null),E(!0)},Be=async(Ye,ft)=>{try{j==="create"?await h.mutateAsync({name:Ye,parent_id:ft!==void 0?ft:v}):O&&await m.mutateAsync({id:O.id,data:{name:Ye}}),E(!1)}catch(Et){alert("Erreur: "+(Et.message||"Impossible d'enregistrer le dossier"))}},ct=()=>{if(ce.length===0){alert("Veuillez d'abord crer au moins un dossier avant de crer un template."),Le();return}P(!0)},lt=Ye=>{const ft=v||ce[0]?.id,Et=new URLSearchParams({folderId:ft,name:Ye.name,format:Ye.format,orientation:Ye.orientation,margins:Ye.margins.toString()});Ye.format==="Custom"&&Ye.customWidth&&Ye.customHeight&&(Et.set("customWidth",Ye.customWidth.toString()),Et.set("customHeight",Ye.customHeight.toString())),e(`/admin/certificate-templates/new/canvas-edit?${Et.toString()}`)};return r||s?i.jsx(kn,{children:i.jsx("div",{className:"flex items-center justify-center h-64",children:i.jsx("div",{className:"text-gray-500",children:"Chargement des templates..."})})}):n?i.jsx(kn,{children:i.jsx("div",{className:"bg-red-50 border border-red-200 rounded-lg p-4",children:i.jsxs("div",{className:"flex items-center gap-2 text-red-800",children:[i.jsx($r,{className:"h-5 w-5"}),i.jsx("span",{children:"Erreur lors du chargement des templates"})]})})}):i.jsx(kn,{children:i.jsxs("div",{className:"space-y-4",children:[i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsxs("div",{children:[i.jsxs("h1",{className:"text-2xl font-bold text-gray-900 flex items-center gap-2",children:[i.jsx(Ba,{className:"h-7 w-7 text-blue-600"}),"Templates de Certificats"]}),i.jsx("p",{className:"text-sm text-gray-600 mt-1",children:"Grez les templates utiliss pour gnrer les certificats"})]}),i.jsxs("div",{className:"flex gap-3",children:[i.jsxs("button",{onClick:Le,className:"px-5 py-2.5 bg-gradient-to-r from-purple-600 to-purple-700 text-white rounded-lg hover:from-purple-700 hover:to-purple-800 transition-all shadow-md hover:shadow-lg flex items-center gap-2 font-medium",children:[i.jsx(Uk,{className:"h-5 w-5"}),"Nouveau Dossier"]}),i.jsxs("button",{onClick:ct,className:"px-5 py-2.5 bg-gradient-to-r from-blue-600 to-blue-700 text-white rounded-lg hover:from-blue-700 hover:to-blue-800 transition-all shadow-md hover:shadow-lg flex items-center gap-2 font-medium",children:[i.jsx(dD,{className:"h-5 w-5"}),"Ajouter Template Canvas"]})]})]}),i.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[i.jsxs("div",{className:"bg-gradient-to-br from-blue-50 to-blue-100 rounded-lg p-4 border border-blue-200",children:[i.jsx("div",{className:"text-sm text-blue-600 font-medium",children:"Total Templates"}),i.jsx("div",{className:"text-3xl font-bold text-blue-900 mt-1",children:t?.length||0})]}),i.jsxs("div",{className:"bg-gradient-to-br from-purple-50 to-purple-100 rounded-lg p-4 border border-purple-200",children:[i.jsx("div",{className:"text-sm text-purple-600 font-medium",children:"Dossiers"}),i.jsx("div",{className:"text-3xl font-bold text-purple-900 mt-1",children:ce?.length||0})]}),i.jsxs("div",{className:"bg-gradient-to-br from-green-50 to-green-100 rounded-lg p-4 border border-green-200",children:[i.jsx("div",{className:"text-sm text-green-600 font-medium",children:"Dossier Actuel"}),i.jsx("div",{className:"text-lg font-bold text-green-900 mt-1 truncate",children:q?q.name:"Tous"})]})]}),i.jsx(Q_e,{currentPath:ee,onNavigate:w}),i.jsx("div",{children:K.length===0&&R.length===0?i.jsxs("div",{className:"bg-white rounded-lg border border-gray-200 p-12 text-center",children:[i.jsx(Wm,{className:"h-16 w-16 text-gray-300 mx-auto mb-4"}),i.jsx("p",{className:"text-gray-600 text-sm",children:ce.length===0?'Aucun dossier. Utilisez le bouton "Nouveau Dossier" pour commencer.':q?"Ce dossier est vide":"Aucun contenu"})]}):i.jsxs("div",{className:"space-y-6",children:[K.length>0&&i.jsxs("div",{children:[i.jsxs("h3",{className:"text-sm font-semibold text-gray-700 mb-3 flex items-center gap-2",children:[i.jsx(Wm,{className:"h-4 w-4"}),"Dossiers (",K.length,")"]}),i.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 xl:grid-cols-5 gap-3",children:K.map(Ye=>i.jsxs("div",{className:"relative bg-white rounded-lg border-2 border-gray-200 hover:border-purple-300 hover:shadow-lg transition-all duration-200",children:[i.jsxs("button",{onClick:()=>w(Ye.id),className:"group w-full p-5 text-left",children:[i.jsxs("div",{className:"flex items-center gap-3 mb-3",children:[i.jsx("div",{className:"p-3 bg-gradient-to-br from-purple-100 to-purple-200 rounded-lg group-hover:from-purple-200 group-hover:to-purple-300 transition-all",children:i.jsx(oD,{className:"h-8 w-8 text-purple-600"})}),i.jsx(Bo,{className:"h-5 w-5 text-gray-400 group-hover:text-purple-600 transition-colors"})]}),i.jsxs("div",{children:[i.jsx("h4",{className:"font-bold text-gray-900 text-sm mb-1 truncate group-hover:text-purple-700 transition-colors",children:Ye.name}),i.jsxs("p",{className:"text-xs text-gray-500",children:[Ye.template_count||0," template",(Ye.template_count||0)!==1?"s":"",Ye.children&&Ye.children.length>0&&i.jsxs(i.Fragment,{children:["  ",Ye.children.length," sous-dossier",Ye.children.length!==1?"s":""]})]})]})]}),i.jsxs("div",{className:"px-5 pb-4 flex gap-2",children:[i.jsxs("button",{onClick:ft=>{ft.stopPropagation(),Ce(Ye.id,Ye.name)},className:"flex-1 px-2 py-1.5 bg-green-50 text-green-700 rounded border border-green-300 hover:bg-green-100 transition-colors text-xs font-medium flex items-center justify-center gap-1",title:"Renommer le dossier",children:[i.jsx(Km,{className:"h-3 w-3"}),"Renommer"]}),i.jsxs("button",{onClick:ft=>{ft.stopPropagation(),xt(Ye.id)},disabled:g.isPending&&ne===Ye.id,className:"flex-1 px-2 py-1.5 bg-red-50 text-red-700 rounded border border-red-300 hover:bg-red-100 transition-colors text-xs font-medium flex items-center justify-center gap-1 disabled:opacity-50",title:"Supprimer le dossier",children:[i.jsx(An,{className:"h-3 w-3"}),"Supprimer"]})]}),ne===Ye.id&&i.jsx("div",{className:"absolute inset-0 bg-black bg-opacity-50 flex items-center justify-center rounded-lg",children:i.jsxs("div",{className:"bg-white p-4 rounded-lg shadow-xl max-w-xs mx-4",children:[i.jsx("h4",{className:"font-bold text-gray-900 text-sm mb-2",children:"Confirmer la suppression"}),i.jsxs("p",{className:"text-xs text-gray-600 mb-4",children:['Supprimer le dossier "',Ye.name,'" ?',i.jsx("br",{}),i.jsx("span",{className:"text-red-600 font-medium",children:"Le dossier doit tre vide."})]}),i.jsxs("div",{className:"flex gap-2",children:[i.jsx("button",{onClick:()=>M(null),className:"flex-1 px-3 py-1.5 bg-gray-100 text-gray-700 rounded hover:bg-gray-200 transition-colors text-xs font-medium",children:"Annuler"}),i.jsx("button",{onClick:et,className:"flex-1 px-3 py-1.5 bg-red-600 text-white rounded hover:bg-red-700 transition-colors text-xs font-medium",children:"Supprimer"})]})]})})]},Ye.id))})]}),R.length>0&&i.jsxs("div",{children:[i.jsxs("h3",{className:"text-sm font-semibold text-gray-700 mb-3 flex items-center gap-2",children:[i.jsx(Ba,{className:"h-4 w-4"}),"Templates (",R.length,")"]}),i.jsx("div",{className:"bg-white rounded-lg border border-gray-200 overflow-hidden",children:i.jsxs("table",{className:"w-full",children:[i.jsx("thead",{className:"bg-gray-50 border-b border-gray-200",children:i.jsxs("tr",{children:[i.jsx("th",{className:"px-4 py-3 text-left text-xs font-semibold text-gray-700 uppercase tracking-wider",children:"Nom"}),i.jsx("th",{className:"px-4 py-3 text-left text-xs font-semibold text-gray-700 uppercase tracking-wider",children:"Format"}),i.jsx("th",{className:"px-4 py-3 text-left text-xs font-semibold text-gray-700 uppercase tracking-wider",children:"Couleurs"}),i.jsx("th",{className:"px-4 py-3 text-right text-xs font-semibold text-gray-700 uppercase tracking-wider",children:"Actions"})]})}),i.jsx("tbody",{className:"divide-y divide-gray-200",children:R.map(Ye=>i.jsxs("tr",{className:"hover:bg-blue-50 transition-colors",children:[i.jsx("td",{className:"px-4 py-3",children:i.jsxs("div",{children:[i.jsx("div",{className:"font-semibold text-gray-900",children:Ye.name}),i.jsx("div",{className:"text-xs text-gray-500 mt-0.5",children:Ye.description||"Aucune description"})]})}),i.jsx("td",{className:"px-4 py-3",children:i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsx(Ba,{className:"h-4 w-4 text-gray-400"}),i.jsxs("div",{className:"text-sm",children:[i.jsx("div",{className:"font-medium text-gray-900",children:Ye.template_config.layout.format.toUpperCase()}),i.jsx("div",{className:"text-xs text-gray-500",children:Ye.template_config.layout.orientation==="landscape"?"Paysage":"Portrait"})]})]})}),i.jsx("td",{className:"px-4 py-3",children:i.jsxs("div",{className:"flex gap-1.5",children:[i.jsx("div",{className:"w-6 h-6 rounded border border-gray-300",style:{backgroundColor:Ye.template_config.colors.primary},title:"Couleur primaire"}),i.jsx("div",{className:"w-6 h-6 rounded border border-gray-300",style:{backgroundColor:Ye.template_config.colors.secondary},title:"Couleur secondaire"}),i.jsx("div",{className:"w-6 h-6 rounded border border-gray-300",style:{backgroundColor:Ye.template_config.colors.text},title:"Couleur du texte"})]})}),i.jsxs("td",{className:"px-4 py-3",children:[i.jsxs("div",{className:"flex items-center justify-end gap-2",children:[i.jsxs("button",{onClick:()=>e(`/admin/certificate-templates/${Ye.id}/canvas-edit`),className:"px-3 py-1.5 bg-purple-50 text-purple-700 rounded border border-purple-300 hover:bg-purple-100 transition-colors text-xs font-medium flex items-center gap-1",title:"Modifier avec l'diteur Canvas",children:[i.jsx(hh,{className:"h-3.5 w-3.5"}),"Modifier"]}),i.jsxs("button",{onClick:()=>ye(Ye.id,Ye.name),className:"px-3 py-1.5 bg-green-50 text-green-700 rounded border border-green-300 hover:bg-green-100 transition-colors text-xs font-medium flex items-center gap-1",title:"Renommer le template",children:[i.jsx(Km,{className:"h-3.5 w-3.5"}),"Renommer"]}),i.jsxs("button",{onClick:()=>re(Ye.id),disabled:o.isPending,className:"px-3 py-1.5 bg-blue-50 text-blue-700 rounded border border-blue-300 hover:bg-blue-100 transition-colors text-xs font-medium flex items-center gap-1 disabled:opacity-50",title:"Dupliquer",children:[i.jsx(id,{className:"h-3.5 w-3.5"}),"Dupliquer"]}),i.jsxs("button",{onClick:()=>X(Ye.id,Ye.name,Ye.folder_id),disabled:u.isPending,className:"px-3 py-1.5 bg-cyan-50 text-cyan-700 rounded border border-cyan-300 hover:bg-cyan-100 transition-colors text-xs font-medium flex items-center gap-1 disabled:opacity-50",title:"Dupliquer vers un autre dossier",children:[i.jsx(Uk,{className:"h-3.5 w-3.5"}),"Vers dossier"]}),i.jsxs("button",{onClick:()=>b(Ye.id),disabled:l.isPending,className:"px-3 py-1.5 bg-red-50 text-red-700 rounded border border-red-300 hover:bg-red-100 transition-colors text-xs font-medium flex items-center gap-1 disabled:opacity-50",title:"Supprimer",children:[i.jsx(An,{className:"h-3.5 w-3.5"}),"Supprimer"]})]}),x===Ye.id&&i.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:i.jsxs("div",{className:"bg-white p-6 rounded-lg shadow-xl max-w-md mx-4",children:[i.jsx("h4",{className:"font-bold text-gray-900 text-lg mb-2",children:"Confirmer la suppression"}),i.jsxs("p",{className:"text-sm text-gray-600 mb-6",children:['tes-vous sr de vouloir supprimer le template "',i.jsx("strong",{children:Ye.name}),'" ?']}),i.jsxs("div",{className:"flex gap-3 justify-end",children:[i.jsx("button",{onClick:()=>b(null),className:"px-4 py-2 bg-gray-100 text-gray-700 rounded hover:bg-gray-200 transition-colors text-sm font-medium",children:"Annuler"}),i.jsx("button",{onClick:()=>Q(Ye.id),className:"px-4 py-2 bg-red-600 text-white rounded hover:bg-red-700 transition-colors text-sm font-medium",children:"Supprimer"})]})]})})]})]},Ye.id))})]})})]})]})}),i.jsx(X_e,{isOpen:N,onClose:()=>E(!1),onSubmit:Be,folder:O,folders:ce,isLoading:h.isPending||m.isPending,mode:j}),i.jsx(J_e,{isOpen:C,onClose:()=>P(!1),onSubmit:lt,currentFolderName:q?.name||"Tous les dossiers"}),L&&i.jsx(eje,{isOpen:B,onClose:()=>{H(!1),U(null)},onSubmit:Ee,currentName:L.name,isLoading:d.isPending}),de&&i.jsx(tje,{isOpen:V,onClose:()=>{Y(!1),te(null)},onSubmit:xe,currentName:de.name,isLoading:m.isPending}),oe&&i.jsx(rje,{isOpen:ie,onClose:()=>{ge(!1),Se(null)},onSubmit:Je,folders:ce,currentFolderId:oe.folderId,templateName:oe.name,isLoading:u.isPending})]})})},aje=({onDragStart:e})=>{const t=[{type:"text",icon:Pm,label:"Nom complet tudiant",variable:"{student_name}",category:"tudiant",color:"blue"},{type:"text",icon:Y0,label:"Prnom tudiant",variable:"{student_first_name}",category:"tudiant",color:"blue"},{type:"text",icon:Y0,label:"Nom famille tudiant",variable:"{student_last_name}",category:"tudiant",color:"blue"},{type:"text",icon:yH,label:"Email tudiant",variable:"{student_email}",category:"tudiant",color:"blue"},{type:"text",icon:QH,label:"CIN/ID tudiant",variable:"{student_id}",category:"tudiant",color:"blue"},{type:"text",icon:VV,label:"Tlphone tudiant",variable:"{student_phone}",category:"tudiant",color:"blue"},{type:"text",icon:PV,label:"WhatsApp tudiant",variable:"{student_whatsapp}",category:"tudiant",color:"blue"},{type:"text",icon:kH,label:"Date naissance",variable:"{student_birth_date}",category:"tudiant",color:"blue"},{type:"text",icon:ds,label:"Lieu naissance",variable:"{student_birth_place}",category:"tudiant",color:"blue"},{type:"text",icon:Fm,label:"Adresse tudiant",variable:"{student_address}",category:"tudiant",color:"blue"},{type:"text",icon:K_,label:"Nom formation",variable:"{formation_title}",category:"Formation",color:"green"},{type:"text",icon:Pm,label:"Description formation",variable:"{formation_description}",category:"Formation",color:"green"},{type:"text",icon:Oi,label:"Dure (heures)",variable:"{duration_hours}",category:"Formation",color:"green"},{type:"text",icon:Y_,label:"Numro certificat",variable:"{certificate_number}",category:"Certificat",color:"purple"},{type:"text",icon:aD,label:"Date compltion",variable:"{completion_date}",category:"Certificat",color:"purple"},{type:"text",icon:Ia,label:"Date mission",variable:"{issued_date}",category:"Certificat",color:"purple"},{type:"text",icon:Ba,label:"Note/Grade",variable:"{grade}",category:"Certificat",color:"purple"},{type:"text",icon:SH,label:"Nom organisation",variable:"{organization_name}",category:"Organisation",color:"orange"},{type:"text",icon:qH,label:"Nom directeur",variable:"{director_name}",category:"Organisation",color:"orange"},{type:"text",icon:ds,label:"Adresse organisation",variable:"{organization_address}",category:"Organisation",color:"orange"}],r=[{type:"image",icon:Cx,label:"Logo",source:"{logo_url}",color:"indigo"},{type:"image",icon:Cx,label:"Signature",source:"{signature_url}",color:"indigo"},{type:"image",icon:Cx,label:"Image personnalise",source:"",color:"indigo"}],n=[{type:"rectangle",icon:tW,label:"Rectangle",color:"gray"},{type:"line",icon:RV,label:"Ligne",color:"gray"},{type:"circle",icon:VH,label:"Cercle",color:"gray"}],a=[{type:"text",icon:Pm,label:"Texte libre",content:"Nouveau texte",color:"slate"}],s=(d,h)=>{d.dataTransfer.effectAllowed="copy",d.dataTransfer.setData("application/json",JSON.stringify(h)),e(h.type,h)},l={blue:{bg:"bg-blue-50",text:"text-blue-700",border:"border-blue-200"},green:{bg:"bg-green-50",text:"text-green-700",border:"border-green-200"},purple:{bg:"bg-purple-50",text:"text-purple-700",border:"border-purple-200"},orange:{bg:"bg-orange-50",text:"text-orange-700",border:"border-orange-200"},indigo:{bg:"bg-indigo-50",text:"text-indigo-700",border:"border-indigo-200"},gray:{bg:"bg-gray-50",text:"text-gray-700",border:"border-gray-200"},slate:{bg:"bg-slate-50",text:"text-slate-700",border:"border-slate-200"}},o=(d,h)=>{const m=d.icon,g=l[d.color]||l.gray;return i.jsxs("div",{draggable:!0,onDragStart:x=>s(x,d),className:`${g.bg} ${g.text} border ${g.border} rounded-lg p-2 cursor-grab active:cursor-grabbing hover:shadow-md transition-shadow flex items-center gap-2 text-sm`,title:`Glisser pour ajouter: ${d.label}`,children:[i.jsx(m,{className:"h-4 w-4 flex-shrink-0"}),i.jsx("span",{className:"truncate flex-1",children:d.label})]},`${d.type}-${h}`)},u=Array.from(new Set(t.map(d=>d.category)));return i.jsx("div",{className:"h-full overflow-y-auto bg-white border-r border-gray-200",children:i.jsxs("div",{className:"p-4 space-y-4",children:[i.jsxs("div",{children:[i.jsx("h3",{className:"text-sm font-semibold text-gray-700 mb-2 uppercase tracking-wide",children:"lments"}),i.jsx("p",{className:"text-xs text-gray-500 mb-4",children:"Glissez-dposez les lments sur le canvas"})]}),u.map(d=>i.jsxs("div",{children:[i.jsx("h4",{className:"text-xs font-semibold text-gray-600 mb-2 uppercase tracking-wide",children:d}),i.jsx("div",{className:"space-y-2",children:t.filter(h=>h.category===d).map((h,m)=>o(h,m))})]},d)),i.jsxs("div",{children:[i.jsx("h4",{className:"text-xs font-semibold text-gray-600 mb-2 uppercase tracking-wide",children:"Images"}),i.jsx("div",{className:"space-y-2",children:r.map((d,h)=>o(d,h))})]}),i.jsxs("div",{children:[i.jsx("h4",{className:"text-xs font-semibold text-gray-600 mb-2 uppercase tracking-wide",children:"Formes"}),i.jsx("div",{className:"space-y-2",children:n.map((d,h)=>o(d,h))})]}),i.jsxs("div",{children:[i.jsx("h4",{className:"text-xs font-semibold text-gray-600 mb-2 uppercase tracking-wide",children:"Texte"}),i.jsx("div",{className:"space-y-2",children:a.map((d,h)=>o(d,h))})]})]})})},sje=({elements:e,selectedId:t,backgroundImage:r,canvasSize:n,showGrid:a,onElementMove:s,onElementResize:l,onElementSelect:o,onElementDrop:u})=>{const d=k.useRef(null),[h,m]=k.useState(null),[g,x]=k.useState(null),[b,v]=k.useState(!1),w=(D,C)=>{if(D.stopPropagation(),o(C.id),D.target.classList.contains("resize-handle"))return;const P=typeof C.x=="number"?C.x:0,B=typeof C.y=="number"?C.y:0;m({id:C.id,startX:D.clientX,startY:D.clientY,offsetX:D.clientX-P,offsetY:D.clientY-B})},N=(D,C)=>{D.stopPropagation(),o(C.id);const P=typeof C.width=="number"?C.width:100,B=typeof C.height=="number"?C.height:50;x({id:C.id,startX:D.clientX,startY:D.clientY,startW:P,startH:B})},E=D=>{D.preventDefault(),D.dataTransfer.dropEffect="copy",v(!0)},j=D=>{D.preventDefault(),v(!1)},T=D=>{if(D.preventDefault(),v(!1),!d.current)return;const C=d.current.getBoundingClientRect(),P=D.clientX-C.left,B=D.clientY-C.top;try{const H=D.dataTransfer.getData("application/json");if(!H||H.trim()===""){console.warn("Drop data is empty - ignoring drop event");return}const L=JSON.parse(H);u(L.type,P,B,L)}catch(H){console.error("Error parsing drop data:",H)}};k.useEffect(()=>{const D=P=>{if(h&&d.current){const B=d.current.getBoundingClientRect(),H=Math.max(0,Math.min(n.width,P.clientX-B.left)),L=Math.max(0,Math.min(n.height,P.clientY-B.top));s(h.id,H,L)}if(g){const B=P.clientX-g.startX,H=P.clientY-g.startY,L=Math.max(10,g.startW+B),U=Math.max(10,g.startH+H);l(g.id,L,U)}},C=()=>{m(null),x(null)};if(h||g)return window.addEventListener("mousemove",D),window.addEventListener("mouseup",C),()=>{window.removeEventListener("mousemove",D),window.removeEventListener("mouseup",C)}},[h,g,n,s,l]);const O=D=>{const C=D.id===t,P=typeof D.x=="number"?D.x:0,B=typeof D.y=="number"?D.y:0,H={position:"absolute",left:`${P}px`,top:`${B}px`,cursor:h?.id===D.id?"grabbing":"grab",border:C?"2px solid #3B82F6":"1px dashed rgba(0,0,0,0.2)",boxShadow:C?"0 0 0 1px rgba(59, 130, 246, 0.3)":"none"};if(D.type==="text"){const L=typeof D.width=="number"?D.width:150,U=typeof D.height=="number"?D.height:30;return i.jsxs("div",{children:[i.jsx("div",{style:{...H,width:`${L}px`,height:`${U}px`,padding:"4px 8px",fontSize:`${D.fontSize||12}px`,fontFamily:D.fontFamily||"helvetica",fontWeight:D.fontStyle?.includes("bold")?"bold":"normal",fontStyle:D.fontStyle?.includes("italic")?"italic":"normal",color:D.color||"#000000",textAlign:D.align||"left",whiteSpace:"normal",wordWrap:"break-word",overflow:"hidden",backgroundColor:C?"rgba(59, 130, 246, 0.05)":"transparent"},onMouseDown:V=>w(V,D),children:D.content||"Texte vide"}),C&&i.jsx("div",{className:"resize-handle",style:{position:"absolute",left:`${P+L-8}px`,top:`${B+U-8}px`,width:"16px",height:"16px",backgroundColor:"#3B82F6",border:"2px solid white",borderRadius:"50%",cursor:"se-resize",zIndex:1e3},onMouseDown:V=>N(V,D)})]},D.id)}if(D.type==="rectangle"||D.type==="border"){const L=typeof D.width=="number"?D.width:100,U=typeof D.height=="number"?D.height:50;return i.jsxs("div",{children:[i.jsx("div",{style:{...H,width:`${L}px`,height:`${U}px`,border:`${D.lineWidth||1}px solid ${D.color||"#000000"}`,backgroundColor:D.fillColor||"transparent"},onMouseDown:V=>w(V,D)}),C&&i.jsx("div",{className:"resize-handle",style:{position:"absolute",left:`${P+L-8}px`,top:`${B+U-8}px`,width:"16px",height:"16px",backgroundColor:"#3B82F6",border:"2px solid white",borderRadius:"50%",cursor:"se-resize",zIndex:1e3},onMouseDown:V=>N(V,D)})]},D.id)}if(D.type==="circle"){const L=D.radius||20;return i.jsx("div",{style:{...H,width:`${L*2}px`,height:`${L*2}px`,borderRadius:"50%",border:`${D.lineWidth||1}px solid ${D.color||"#000000"}`,backgroundColor:D.fillColor||"transparent"},onMouseDown:U=>w(U,D)},D.id)}if(D.type==="line"){const L=typeof D.x1=="number"?D.x1:0,U=typeof D.y1=="number"?D.y1:0,V=typeof D.x2=="number"?D.x2:100,Y=typeof D.y2=="number"?D.y2:0,de=Math.sqrt(Math.pow(V-L,2)+Math.pow(Y-U,2)),te=Math.atan2(Y-U,V-L)*(180/Math.PI);return i.jsx("div",{style:{position:"absolute",left:`${L}px`,top:`${U}px`,width:`${de}px`,height:`${D.lineWidth||1}px`,backgroundColor:D.color||"#000000",transform:`rotate(${te}deg)`,transformOrigin:"0 0",cursor:"grab",border:C?"2px solid #3B82F6":"none"},onMouseDown:ie=>w(ie,D)},D.id)}if(D.type==="image"){const L=typeof D.width=="number"?D.width:100,U=typeof D.height=="number"?D.height:100;return i.jsxs("div",{children:[i.jsx("div",{style:{...H,width:`${L}px`,height:`${U}px`,border:C?"2px solid #3B82F6":"1px dashed rgba(0,0,0,0.2)",display:"flex",alignItems:"center",justifyContent:"center",backgroundColor:"rgba(0,0,0,0.05)"},onMouseDown:V=>w(V,D),children:i.jsx("span",{className:"text-xs text-gray-400",children:D.source?D.source.substring(0,20)+"...":"Image"})}),C&&i.jsx("div",{className:"resize-handle",style:{position:"absolute",left:`${P+L-8}px`,top:`${B+U-8}px`,width:"16px",height:"16px",backgroundColor:"#3B82F6",border:"2px solid white",borderRadius:"50%",cursor:"se-resize",zIndex:1e3},onMouseDown:V=>N(V,D)})]},D.id)}return null};return i.jsx("div",{className:"h-full flex flex-col bg-gray-100",children:i.jsx("div",{className:"flex-1 overflow-auto p-8 flex items-center justify-center",children:i.jsxs("div",{ref:d,style:{width:`${n.width}px`,height:`${n.height}px`,position:"relative",backgroundColor:"#ffffff",backgroundImage:r?`url(${r})`:a?"repeating-linear-gradient(0deg, #e5e7eb 0px, #e5e7eb 1px, transparent 1px, transparent 20px), repeating-linear-gradient(90deg, #e5e7eb 0px, #e5e7eb 1px, transparent 1px, transparent 20px)":"none",backgroundSize:r?"cover":"20px 20px",backgroundPosition:r?"center":"0 0",boxShadow:"0 4px 6px -1px rgba(0, 0, 0, 0.1), 0 2px 4px -1px rgba(0, 0, 0, 0.06)",border:b?"3px dashed #3B82F6":"1px solid #d1d5db"},onDragOver:E,onDragLeave:j,onDrop:T,onClick:D=>{D.target===D.currentTarget&&o(null)},children:[e.length===0&&i.jsx("div",{className:"absolute inset-0 flex items-center justify-center pointer-events-none",children:i.jsxs("div",{className:"text-center text-gray-400",children:[i.jsx(G_,{className:"h-16 w-16 mx-auto mb-3 opacity-50"}),i.jsx("p",{className:"text-sm",children:"Glissez-dposez des lments ici"})]})}),e.map(O)]})})})},SF=({label:e,value:t,onChange:r,description:n})=>i.jsxs("div",{className:"space-y-1",children:[i.jsx("label",{className:"block text-sm font-medium text-gray-700",children:e}),i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsx("input",{type:"color",value:t,onChange:a=>r(a.target.value),className:"h-10 w-20 rounded border border-gray-300 cursor-pointer"}),i.jsx("input",{type:"text",value:t,onChange:a=>r(a.target.value),className:"flex-1 px-3 py-2 border border-gray-300 rounded-md text-sm font-mono",placeholder:"#000000"})]}),n&&i.jsx("p",{className:"text-xs text-gray-500 mt-1",children:n})]}),ije=({element:e,customFonts:t,onChange:r,onDelete:n,onDuplicate:a})=>{if(!e)return i.jsx("div",{className:"h-full bg-white border-l border-gray-200 p-6 flex items-center justify-center",children:i.jsxs("div",{className:"text-center text-gray-400",children:[i.jsx($r,{className:"h-12 w-12 mx-auto mb-3 opacity-50"}),i.jsx("p",{className:"text-sm",children:"Slectionnez un lment pour modifier ses proprits"})]})});const s=(o,u)=>{r({...e,[o]:u})},l=[...q_e.map(o=>({value:o,label:o.charAt(0).toUpperCase()+o.slice(1),isCustom:!1})),...t.map(o=>({value:o.name,label:o.name,isCustom:!0}))];return i.jsx("div",{className:"h-full overflow-y-auto bg-white border-l border-gray-200",children:i.jsxs("div",{className:"p-4 space-y-6",children:[i.jsxs("div",{className:"border-b border-gray-200 pb-4",children:[i.jsx("h3",{className:"text-sm font-semibold text-gray-700 mb-1",children:"Proprits de l'lment"}),i.jsx("p",{className:"text-xs text-gray-500 capitalize",children:e.type})]}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-xs font-medium text-gray-600 mb-1",children:"ID"}),i.jsx("input",{type:"text",value:e.id,disabled:!0,className:"w-full px-2 py-1.5 text-xs bg-gray-50 border border-gray-200 rounded"})]}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-xs font-medium text-gray-600 mb-2",children:"Position"}),i.jsxs("div",{className:"grid grid-cols-2 gap-2",children:[i.jsxs("div",{children:[i.jsx("label",{className:"block text-xs text-gray-500 mb-1",children:"X"}),i.jsx("input",{type:"number",value:e.x||0,onChange:o=>s("x",parseFloat(o.target.value)||0),className:"w-full px-2 py-1.5 text-sm border border-gray-300 rounded focus:ring-2 focus:ring-blue-500 focus:border-transparent"})]}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-xs text-gray-500 mb-1",children:"Y"}),i.jsx("input",{type:"number",value:e.y||0,onChange:o=>s("y",parseFloat(o.target.value)||0),className:"w-full px-2 py-1.5 text-sm border border-gray-300 rounded focus:ring-2 focus:ring-blue-500 focus:border-transparent"})]})]})]}),(e.type==="rectangle"||e.type==="border"||e.type==="image"||e.type==="circle")&&i.jsxs("div",{children:[i.jsx("label",{className:"block text-xs font-medium text-gray-600 mb-2",children:"Dimensions"}),e.type==="circle"?i.jsxs("div",{children:[i.jsx("label",{className:"block text-xs text-gray-500 mb-1",children:"Rayon"}),i.jsx("input",{type:"number",value:e.radius||20,onChange:o=>s("radius",parseFloat(o.target.value)||20),className:"w-full px-2 py-1.5 text-sm border border-gray-300 rounded focus:ring-2 focus:ring-blue-500 focus:border-transparent"})]}):i.jsxs("div",{className:"grid grid-cols-2 gap-2",children:[i.jsxs("div",{children:[i.jsx("label",{className:"block text-xs text-gray-500 mb-1",children:"Largeur"}),i.jsx("input",{type:"number",value:e.width||100,onChange:o=>s("width",parseFloat(o.target.value)||100),className:"w-full px-2 py-1.5 text-sm border border-gray-300 rounded focus:ring-2 focus:ring-blue-500 focus:border-transparent"})]}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-xs text-gray-500 mb-1",children:"Hauteur"}),i.jsx("input",{type:"number",value:e.height||50,onChange:o=>s("height",parseFloat(o.target.value)||50),className:"w-full px-2 py-1.5 text-sm border border-gray-300 rounded focus:ring-2 focus:ring-blue-500 focus:border-transparent"})]})]})]}),e.type==="line"&&i.jsxs("div",{children:[i.jsx("label",{className:"block text-xs font-medium text-gray-600 mb-2",children:"Coordonnes"}),i.jsxs("div",{className:"grid grid-cols-2 gap-2",children:[i.jsxs("div",{children:[i.jsx("label",{className:"block text-xs text-gray-500 mb-1",children:"X1"}),i.jsx("input",{type:"number",value:e.x1||0,onChange:o=>s("x1",parseFloat(o.target.value)||0),className:"w-full px-2 py-1.5 text-sm border border-gray-300 rounded"})]}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-xs text-gray-500 mb-1",children:"Y1"}),i.jsx("input",{type:"number",value:e.y1||0,onChange:o=>s("y1",parseFloat(o.target.value)||0),className:"w-full px-2 py-1.5 text-sm border border-gray-300 rounded"})]}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-xs text-gray-500 mb-1",children:"X2"}),i.jsx("input",{type:"number",value:e.x2||100,onChange:o=>s("x2",parseFloat(o.target.value)||100),className:"w-full px-2 py-1.5 text-sm border border-gray-300 rounded"})]}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-xs text-gray-500 mb-1",children:"Y2"}),i.jsx("input",{type:"number",value:e.y2||0,onChange:o=>s("y2",parseFloat(o.target.value)||0),className:"w-full px-2 py-1.5 text-sm border border-gray-300 rounded"})]})]})]}),e.type==="text"&&i.jsxs(i.Fragment,{children:[i.jsxs("div",{children:[i.jsx("label",{className:"block text-xs font-medium text-gray-600 mb-1",children:"Contenu"}),i.jsx("textarea",{value:e.content||"",onChange:o=>s("content",o.target.value),rows:3,className:"w-full px-2 py-1.5 text-sm border border-gray-300 rounded focus:ring-2 focus:ring-blue-500 focus:border-transparent font-mono",placeholder:"Texte ou variable {student_name}"}),i.jsxs("p",{className:"text-xs text-gray-500 mt-1",children:["Variables: ","{","student_name","}",", ","{","formation_title","}",", ","{","grade","}","..."]})]}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-xs font-medium text-gray-600 mb-1",children:"Police"}),i.jsx("select",{value:e.fontFamily||"helvetica",onChange:o=>s("fontFamily",o.target.value),className:"w-full px-2 py-1.5 text-sm border border-gray-300 rounded focus:ring-2 focus:ring-blue-500 focus:border-transparent",children:l.map(o=>i.jsxs("option",{value:o.value,children:[o.label," ",o.isCustom&&"(Custom)"]},o.value))})]}),i.jsxs("div",{className:"grid grid-cols-2 gap-2",children:[i.jsxs("div",{children:[i.jsx("label",{className:"block text-xs font-medium text-gray-600 mb-1",children:"Taille"}),i.jsx("input",{type:"number",min:"8",max:"100",value:e.fontSize||12,onChange:o=>s("fontSize",parseInt(o.target.value)||12),className:"w-full px-2 py-1.5 text-sm border border-gray-300 rounded focus:ring-2 focus:ring-blue-500 focus:border-transparent"})]}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-xs font-medium text-gray-600 mb-1",children:"Style"}),i.jsx("select",{value:e.fontStyle||"normal",onChange:o=>s("fontStyle",o.target.value),className:"w-full px-2 py-1.5 text-sm border border-gray-300 rounded focus:ring-2 focus:ring-blue-500 focus:border-transparent",children:$_e.map(o=>i.jsxs("option",{value:o,children:[o==="normal"&&"Normal",o==="bold"&&"Gras",o==="italic"&&"Italique",o==="bolditalic"&&"Gras Italique"]},o))})]})]}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-xs font-medium text-gray-600 mb-1",children:"Alignement"}),i.jsx("div",{className:"flex gap-1",children:["left","center","right"].map(o=>i.jsxs("button",{onClick:()=>s("align",o),className:`flex-1 px-2 py-1.5 text-xs rounded border transition-colors ${(e.align||"left")===o?"bg-blue-100 border-blue-500 text-blue-700":"bg-white border-gray-300 text-gray-600 hover:bg-gray-50"}`,children:[o==="left"&&"Gauche",o==="center"&&"Centre",o==="right"&&"Droite"]},o))})]})]}),e.type==="image"&&i.jsxs("div",{children:[i.jsx("label",{className:"block text-xs font-medium text-gray-600 mb-1",children:"Source"}),i.jsx("input",{type:"text",value:e.source||"",onChange:o=>s("source",o.target.value),placeholder:"URL ou variable {logo_url}",className:"w-full px-2 py-1.5 text-sm border border-gray-300 rounded focus:ring-2 focus:ring-blue-500 focus:border-transparent font-mono"})]}),e.type!=="image"&&i.jsx(SF,{label:"Couleur",value:e.color||"#000000",onChange:o=>s("color",o)}),(e.type==="rectangle"||e.type==="circle")&&i.jsx(SF,{label:"Couleur de remplissage (optionnel)",value:e.fillColor||"#ffffff",onChange:o=>s("fillColor",o),description:"Laissez transparent pour pas de remplissage"}),(e.type==="line"||e.type==="rectangle"||e.type==="border"||e.type==="circle")&&i.jsxs("div",{children:[i.jsx("label",{className:"block text-xs font-medium text-gray-600 mb-1",children:"paisseur du trait"}),i.jsx("input",{type:"number",min:"0.1",max:"20",step:"0.5",value:e.lineWidth||1,onChange:o=>s("lineWidth",parseFloat(o.target.value)||1),className:"w-full px-2 py-1.5 text-sm border border-gray-300 rounded focus:ring-2 focus:ring-blue-500 focus:border-transparent"})]}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-xs font-medium text-gray-600 mb-1",children:"Condition d'affichage (optionnel)"}),i.jsx("input",{type:"text",value:e.condition||"",onChange:o=>s("condition",o.target.value),placeholder:"grade",className:"w-full px-2 py-1.5 text-sm border border-gray-300 rounded focus:ring-2 focus:ring-blue-500 focus:border-transparent font-mono"}),i.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"L'lment s'affiche seulement si cette variable existe"})]}),i.jsxs("div",{className:"pt-4 border-t border-gray-200 space-y-2",children:[i.jsxs("button",{onClick:a,className:"w-full px-3 py-2 bg-blue-50 text-blue-700 rounded border border-blue-300 hover:bg-blue-100 transition-colors text-sm font-medium flex items-center justify-center gap-2",children:[i.jsx(id,{className:"h-4 w-4"}),"Dupliquer l'lment"]}),i.jsxs("button",{onClick:n,className:"w-full px-3 py-2 bg-red-50 text-red-700 rounded border border-red-300 hover:bg-red-100 transition-colors text-sm font-medium flex items-center justify-center gap-2",children:[i.jsx(An,{className:"h-4 w-4"}),"Supprimer l'lment"]})]})]})})},lje=({template:e,onUpdate:t})=>{const[r,n]=k.useState("upload"),[a,s]=k.useState(""),[l,o]=k.useState(!1),[u,d]=k.useState(null),[h,m]=k.useState(!1),g=k.useRef(null),x=G_e(e.template_config.layout.format,e.template_config.layout.orientation,e.template_config.layout.customWidth,e.template_config.layout.customHeight),b=async T=>{const O=T.target.files?.[0];if(O){if(!O.type.startsWith("image/")){d("Veuillez slectionner une image (JPG, PNG, WEBP ou SVG)");return}if(O.size>5*1024*1024){d("L'image ne doit pas dpasser 5 MB");return}o(!0),d(null);try{const D=await Al.uploadBackground(e.id,O);D.template?t(D.template):D.background_url&&t({...e,background_image_url:D.background_url,background_image_type:"upload"})}catch(D){d(D.message||"Erreur lors de l'upload de l'image")}finally{o(!1),g.current&&(g.current.value="")}}},v=async()=>{if(!a.trim()){d("Veuillez saisir une URL");return}o(!0),d(null);try{const T=await Al.setBackgroundUrl(e.id,a.trim());T.template?t(T.template):T.background_url&&t({...e,background_image_url:T.background_url,background_image_type:"url"}),s("")}catch(T){d(T.message||"Erreur lors de la dfinition de l'URL")}finally{o(!1)}},w=async()=>{if(confirm("Supprimer l'arrire-plan ?")){o(!0),d(null);try{const T=await Al.deleteBackground(e.id);T.template?t(T.template):t({...e,background_image_url:void 0,background_image_type:void 0})}catch(T){d(T.message||"Erreur lors de la suppression de l'arrire-plan")}finally{o(!1)}}},N=T=>{T.preventDefault(),T.stopPropagation(),m(!0)},E=T=>{T.preventDefault(),T.stopPropagation(),m(!1)},j=async T=>{T.preventDefault(),T.stopPropagation(),m(!1);const O=T.dataTransfer.files?.[0];if(O){if(!O.type.startsWith("image/")){d("Veuillez dposer une image (JPG, PNG, WEBP ou SVG)");return}if(O.size>5*1024*1024){d("L'image ne doit pas dpasser 5 MB");return}o(!0),d(null);try{const D=await Al.uploadBackground(e.id,O);D.template?t(D.template):D.background_url&&t({...e,background_image_url:D.background_url,background_image_type:"upload"})}catch(D){d(D.message||"Erreur lors de l'upload de l'image")}finally{o(!1)}}};return i.jsx("div",{className:"h-full overflow-y-auto bg-white",children:i.jsxs("div",{className:"p-4 space-y-6",children:[i.jsxs("div",{className:"border-b border-gray-200 pb-4",children:[i.jsx("h3",{className:"text-sm font-semibold text-gray-700 mb-1",children:"Image d'arrire-plan"}),i.jsx("p",{className:"text-xs text-gray-500",children:"Uploadez une image ou dfinissez une URL pour le fond du certificat"})]}),e.background_image_url&&i.jsxs("div",{className:"space-y-2",children:[i.jsx("label",{className:"block text-xs font-medium text-gray-600",children:"Arrire-plan actuel"}),i.jsxs("div",{className:"border border-gray-200 rounded-lg p-3 bg-gray-50",children:[i.jsxs("div",{className:"flex items-start justify-between gap-2",children:[i.jsxs("div",{className:"flex items-center gap-2 min-w-0",children:[i.jsx(Cx,{className:"h-4 w-4 text-blue-600 flex-shrink-0"}),i.jsxs("div",{className:"min-w-0",children:[i.jsx("p",{className:"text-xs text-gray-700 truncate font-mono",children:e.background_image_url}),i.jsxs("p",{className:"text-xs text-gray-500 mt-0.5",children:["Type: ",e.background_image_type==="upload"?"Fichier upload":"URL externe"]})]})]}),i.jsx("button",{onClick:w,disabled:l,className:"p-1 text-red-600 hover:bg-red-50 rounded transition-colors disabled:opacity-50",title:"Supprimer l'arrire-plan",children:i.jsx(En,{className:"h-4 w-4"})})]}),i.jsx("div",{className:"mt-3",children:i.jsx("img",{src:e.background_image_url,alt:"Aperu arrire-plan",className:"w-full h-32 object-cover rounded border border-gray-200",onError:T=>{T.target.style.display="none"}})})]})]}),i.jsxs("div",{className:"flex border-b border-gray-200",children:[i.jsxs("button",{onClick:()=>n("upload"),className:`flex-1 px-4 py-2 text-sm font-medium transition-colors ${r==="upload"?"text-blue-600 border-b-2 border-blue-600":"text-gray-600 hover:text-gray-900"}`,children:[i.jsx(Ef,{className:"h-4 w-4 inline mr-1"}),"Upload"]}),i.jsxs("button",{onClick:()=>n("url"),className:`flex-1 px-4 py-2 text-sm font-medium transition-colors ${r==="url"?"text-blue-600 border-b-2 border-blue-600":"text-gray-600 hover:text-gray-900"}`,children:[i.jsx(Wx,{className:"h-4 w-4 inline mr-1"}),"URL"]})]}),r==="upload"&&i.jsxs("div",{className:"space-y-4",children:[i.jsx("input",{ref:g,type:"file",accept:"image/*",onChange:b,disabled:l,className:"hidden"}),i.jsxs("div",{onDragOver:N,onDragLeave:E,onDrop:j,onClick:()=>g.current?.click(),className:`border-2 border-dashed rounded-lg p-8 text-center cursor-pointer transition-all ${h?"border-blue-500 bg-blue-50":"border-gray-300 hover:border-blue-400 hover:bg-blue-50/50"} ${l?"opacity-50 pointer-events-none":""}`,children:[i.jsx(Ef,{className:`h-12 w-12 mx-auto mb-3 ${h?"text-blue-600":"text-gray-400"}`}),i.jsx("p",{className:"text-sm font-medium text-gray-700 mb-1",children:h?"Dposez l'image ici":"Glissez-dposez une image ou cliquez pour parcourir"}),i.jsx("p",{className:"text-xs text-gray-500",children:"JPG, PNG, WEBP ou SVG  Max 5 MB"}),i.jsxs("p",{className:"text-xs text-blue-600 font-medium mt-2",children:["Recommand: ",x]}),l&&i.jsxs("div",{className:"mt-4",children:[i.jsx("div",{className:"animate-spin rounded-full h-6 w-6 border-b-2 border-blue-600 mx-auto"}),i.jsx("p",{className:"text-xs text-gray-600 mt-2",children:"Upload en cours..."})]})]})]}),r==="url"&&i.jsxs("div",{className:"space-y-4",children:[i.jsxs("div",{children:[i.jsx("label",{className:"block text-xs font-medium text-gray-600 mb-2",children:"URL de l'image"}),i.jsx("input",{type:"url",value:a,onChange:T=>s(T.target.value),placeholder:"https://exemple.com/image.jpg",disabled:l,className:"w-full px-3 py-2 text-sm border border-gray-300 rounded focus:ring-2 focus:ring-blue-500 focus:border-transparent disabled:opacity-50"})]}),i.jsx("button",{onClick:v,disabled:l||!a.trim(),className:"w-full px-4 py-2 bg-blue-600 text-white rounded hover:bg-blue-700 transition-colors disabled:opacity-50 text-sm font-medium",children:l?"Application...":"Appliquer l'URL"})]}),u&&i.jsxs("div",{className:"bg-red-50 border border-red-200 rounded-lg p-3 flex items-start gap-2",children:[i.jsx($r,{className:"h-4 w-4 text-red-600 flex-shrink-0 mt-0.5"}),i.jsx("p",{className:"text-xs text-red-700",children:u})]}),i.jsx("div",{className:"bg-blue-50 border border-blue-200 rounded-lg p-3",children:i.jsxs("p",{className:"text-xs text-blue-700",children:[i.jsx("strong",{children:"Astuce:"})," L'image d'arrire-plan sera affiche en plein cran sur le canvas. Vous pourrez ensuite placer vos lments texte par-dessus."]})})]})})},oje=()=>{const[e,t]=k.useState(""),[r,n]=k.useState(null),a=k.useRef(null),{data:s,isLoading:l}=Hie(),o=Vie(),u=Wie(),d=async m=>{const g=m.target.files?.[0];if(!g)return;if(!e.trim()){n("Veuillez saisir un nom pour la police");return}const x=[".ttf",".otf",".woff",".woff2"],b=g.name.toLowerCase().slice(g.name.lastIndexOf("."));if(!x.includes(b)){n("Format de fichier non valide. Utilisez TTF, OTF, WOFF ou WOFF2");return}if(g.size>2*1024*1024){n("La police ne doit pas dpasser 2 MB");return}n(null);try{await o.mutateAsync({file:g,fontName:e.trim()}),t(""),a.current&&(a.current.value="")}catch(v){n(v.message||"Erreur lors de l'upload de la police")}},h=async(m,g)=>{if(confirm(`Supprimer la police "${g}" ?`))try{await u.mutateAsync(m)}catch(x){n(x.message||"Erreur lors de la suppression de la police")}};return i.jsx("div",{className:"h-full overflow-y-auto bg-white",children:i.jsxs("div",{className:"p-4 space-y-6",children:[i.jsxs("div",{className:"border-b border-gray-200 pb-4",children:[i.jsx("h3",{className:"text-sm font-semibold text-gray-700 mb-1",children:"Polices personnalises"}),i.jsx("p",{className:"text-xs text-gray-500",children:"Uploadez des polices personnalises pour les utiliser dans vos certificats"})]}),i.jsxs("div",{className:"space-y-4 border border-gray-200 rounded-lg p-4 bg-gray-50",children:[i.jsx("h4",{className:"text-xs font-medium text-gray-700",children:"Ajouter une police"}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-xs font-medium text-gray-600 mb-2",children:"Nom de la police"}),i.jsx("input",{type:"text",value:e,onChange:m=>t(m.target.value),placeholder:"ex: Ma Police Custom",disabled:o.isPending,className:"w-full px-3 py-2 text-sm border border-gray-300 rounded focus:ring-2 focus:ring-blue-500 focus:border-transparent disabled:opacity-50"})]}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-xs font-medium text-gray-600 mb-2",children:"Fichier de police"}),i.jsx("input",{ref:a,type:"file",accept:".ttf,.otf,.woff,.woff2",onChange:d,disabled:o.isPending,className:"w-full text-sm text-gray-500 file:mr-4 file:py-2 file:px-4 file:rounded file:border-0 file:text-sm file:font-medium file:bg-blue-50 file:text-blue-700 hover:file:bg-blue-100 disabled:opacity-50"}),i.jsx("p",{className:"text-xs text-gray-500 mt-2",children:"TTF, OTF, WOFF ou WOFF2  Max 2 MB"})]}),o.isPending&&i.jsxs("div",{className:"text-xs text-blue-600 flex items-center gap-2",children:[i.jsx("div",{className:"animate-spin rounded-full h-3 w-3 border-b-2 border-blue-600"}),"Upload en cours..."]})]}),r&&i.jsxs("div",{className:"bg-red-50 border border-red-200 rounded-lg p-3 flex items-start gap-2",children:[i.jsx($r,{className:"h-4 w-4 text-red-600 flex-shrink-0 mt-0.5"}),i.jsx("p",{className:"text-xs text-red-700",children:r})]}),i.jsxs("div",{className:"space-y-2",children:[i.jsxs("label",{className:"block text-xs font-medium text-gray-600",children:["Polices disponibles (",s?.length||0,")"]}),l?i.jsxs("div",{className:"text-center py-8",children:[i.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-blue-600 mx-auto mb-2"}),i.jsx("p",{className:"text-xs text-gray-500",children:"Chargement des polices..."})]}):s&&s.length>0?i.jsx("div",{className:"space-y-2",children:s.map(m=>i.jsx("div",{className:"border border-gray-200 rounded-lg p-3 bg-white hover:bg-gray-50 transition-colors",children:i.jsxs("div",{className:"flex items-start justify-between gap-2",children:[i.jsxs("div",{className:"flex items-center gap-2 min-w-0 flex-1",children:[i.jsx(Pm,{className:"h-4 w-4 text-indigo-600 flex-shrink-0"}),i.jsxs("div",{className:"min-w-0 flex-1",children:[i.jsx("p",{className:"text-sm font-medium text-gray-900 truncate",children:m.name}),i.jsxs("p",{className:"text-xs text-gray-500 mt-0.5",children:["Format: ",m.file_format.toUpperCase(),m.file_size&&`  ${(m.file_size/1024).toFixed(1)} KB`]}),i.jsx("style",{children:`
                            @font-face {
                              font-family: 'custom-${m.id}';
                              src: url('${m.file_url}');
                            }
                          `}),i.jsxs("p",{className:"text-xs text-gray-700 mt-2 italic",style:{fontFamily:`'custom-${m.id}', sans-serif`},children:["Aperu: ",m.name]})]})]}),i.jsx("button",{onClick:()=>h(m.id,m.name),disabled:u.isPending,className:"p-1 text-red-600 hover:bg-red-50 rounded transition-colors disabled:opacity-50",title:"Supprimer la police",children:i.jsx(An,{className:"h-4 w-4"})})]})},m.id))}):i.jsxs("div",{className:"text-center py-8 border border-gray-200 rounded-lg bg-gray-50",children:[i.jsx(Pm,{className:"h-8 w-8 text-gray-400 mx-auto mb-2"}),i.jsx("p",{className:"text-xs text-gray-500",children:"Aucune police personnalise"}),i.jsx("p",{className:"text-xs text-gray-400 mt-1",children:"Uploadez une police pour la rendre disponible dans l'diteur"})]})]}),i.jsx("div",{className:"bg-blue-50 border border-blue-200 rounded-lg p-3",children:i.jsxs("p",{className:"text-xs text-blue-700",children:[i.jsx("strong",{children:"Info:"})," Les polices personnalises seront disponibles dans la liste des polices lors de l'dition d'lments texte. Assurez-vous d'avoir les droits d'utilisation pour les polices que vous uploadez."]})})]})})},cje=({isOpen:e,onClose:t,template:r})=>{const n=k.useRef(null),[a,s]=k.useState(!0);k.useEffect(()=>{if(!e||!n.current)return;const o=n.current,u=o.getContext("2d");if(!u)return;s(!0);const{format:d,orientation:h,customWidth:m,customHeight:g}=r.template_config.layout,x=YS(d,h,m,g);o.width=x.width,o.height=x.height,u.fillStyle=r.template_config.colors.background,u.fillRect(0,0,o.width,o.height);const b=async()=>{if(r.background_image_url)try{const w=new Image;w.crossOrigin="anonymous",await new Promise((N,E)=>{w.onload=N,w.onerror=E,w.src=r.background_image_url}),u.drawImage(w,0,0,o.width,o.height)}catch(w){console.error("Erreur lors du chargement de l'image de fond:",w)}},v=()=>{const w={studentName:"Jean Dupont",courseName:"Formation en Dveloppement Web",date:new Date().toLocaleDateString("fr-FR",{day:"numeric",month:"long",year:"numeric"}),instructor:"Marie Martin",duration:"40 heures"};(P_(r.template_config,{url:r.background_image_url,type:r.background_image_type})[0]?.elements||[]).forEach(j=>{u.save();const T=typeof j.x=="string"?parseFloat(j.x):j.x||0,O=typeof j.y=="string"?parseFloat(j.y):j.y||0,D=typeof j.width=="string"?parseFloat(j.width):j.width||0,C=typeof j.height=="string"?parseFloat(j.height):j.height||0;switch(j.type){case"text":const B=(j.fontStyle||"normal")==="bold"?"bold":"normal",H=j.fontFamily||"Arial",L=j.fontSize||16;u.font=`${B} ${L}px ${H}`,u.fillStyle=j.color||"#000000",u.textAlign=j.textAlign||"left";let U=j.content||"";U=U.replace(/\{studentName\}/g,w.studentName),U=U.replace(/\{courseName\}/g,w.courseName),U=U.replace(/\{date\}/g,w.date),U=U.replace(/\{instructor\}/g,w.instructor),U=U.replace(/\{duration\}/g,w.duration),u.fillText(U,T,O);break;case"rectangle":u.strokeStyle=j.color||"#000000",u.lineWidth=j.borderWidth||1,j.fillColor&&(u.fillStyle=j.fillColor,u.fillRect(T,O,D,C)),u.strokeRect(T,O,D,C);break;case"circle":const V=D/2;u.strokeStyle=j.color||"#000000",u.lineWidth=j.borderWidth||1,u.beginPath(),u.arc(T+V,O+V,V,0,Math.PI*2),j.fillColor&&(u.fillStyle=j.fillColor,u.fill()),u.stroke();break;case"line":u.strokeStyle=j.color||"#000000",u.lineWidth=j.borderWidth||1,u.beginPath(),u.moveTo(T,O),u.lineTo(T+D,O+C),u.stroke();break;case"image":if(j.imageUrl){const Y=new Image;Y.crossOrigin="anonymous",Y.onload=()=>{u.drawImage(Y,T,O,D,C)},Y.src=j.imageUrl}break}u.restore()}),s(!1)};b().then(v)},[e,r]);const l=()=>{if(!n.current)return;const o=document.createElement("a");o.download=`preview-${r.name}.png`,o.href=n.current.toDataURL("image/png"),o.click()};return e?i.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-60 flex items-center justify-center z-50 p-4",children:i.jsxs("div",{className:"bg-white rounded-xl shadow-2xl max-w-6xl w-full max-h-[95vh] overflow-hidden flex flex-col",children:[i.jsxs("div",{className:"flex items-center justify-between p-6 border-b border-gray-200 bg-gradient-to-r from-purple-50 to-purple-100",children:[i.jsxs("div",{children:[i.jsx("h2",{className:"text-xl font-bold text-gray-900",children:"Prvisualisation du Template"}),i.jsx("p",{className:"text-sm text-gray-600 mt-0.5",children:r.name})]}),i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsxs("button",{onClick:l,className:"px-4 py-2 bg-purple-600 hover:bg-purple-700 text-white rounded-lg flex items-center gap-2 transition-colors text-sm font-medium",title:"Tlcharger l'aperu",children:[i.jsx(Fi,{className:"h-4 w-4"}),"Tlcharger"]}),i.jsx("button",{onClick:t,className:"p-2 hover:bg-purple-200 rounded-lg transition-colors",children:i.jsx(En,{className:"h-5 w-5 text-gray-600"})})]})]}),i.jsxs("div",{className:"flex-1 overflow-auto p-6 bg-gray-50 relative",children:[a&&i.jsx("div",{className:"absolute inset-0 flex items-center justify-center bg-white bg-opacity-75 z-10",children:i.jsxs("div",{className:"text-center",children:[i.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-purple-600 mx-auto mb-3"}),i.jsx("p",{className:"text-sm text-gray-600",children:"Gnration de l'aperu..."})]})}),i.jsx("div",{className:"flex items-center justify-center min-h-full",children:i.jsx("div",{className:"bg-white p-4 rounded-lg shadow-lg",children:i.jsx("canvas",{ref:n,className:"border border-gray-300 max-w-full h-auto",style:{maxHeight:"calc(95vh - 200px)"}})})})]}),i.jsx("div",{className:"p-4 border-t border-gray-200 bg-gray-50",children:i.jsxs("p",{className:"text-xs text-gray-600 text-center",children:[i.jsx("span",{className:"font-semibold",children:"Note:"})," Cette prvisualisation utilise des donnes de test. Les placeholders ","{studentName}",", ","{courseName}",", ","{date}",", etc. sont remplacs par des valeurs fictives."]})})]})}):null},uje=e=>({name:"Nouveau Template Canvas",description:"",folder_id:e||"",template_config:{layout:{orientation:"landscape",format:"a4",margins:{top:10,right:10,bottom:10,left:10}},colors:{primary:"#1e40af",secondary:"#3b82f6",text:"#1f2937",background:"#ffffff"},fonts:{title:{family:"times",size:28,style:"bold"},subtitle:{family:"times",size:18,style:"normal"},body:{family:"helvetica",size:12,style:"normal"},studentName:{family:"times",size:24,style:"bold"}},pages:[{id:GS(),name:"Recto",elements:[]}],elements:[]}}),dje=()=>{const{id:e}=io(),t=xn(),[r]=ZF(),n=r.get("folderId"),a=e==="new",s=r.get("name"),l=r.get("format"),o=r.get("orientation"),u=r.get("margins"),d=r.get("customWidth"),h=r.get("customHeight"),{data:m,isLoading:g}=Bie(a?null:e||""),x=PL(),b=Uie(),[v,w]=k.useState(null),[N,E]=k.useState([]),[j,T]=k.useState(null),[O,D]=k.useState(1),[C,P]=k.useState(!0),[B,H]=k.useState(!1),[L,U]=k.useState("elements"),[V,Y]=k.useState(!1),[de,te]=k.useState([]),[ie,ge]=k.useState(0),oe=k.useMemo(()=>{if(!v)return{width:1122,height:794};const{format:Le,orientation:Be,customWidth:ct,customHeight:lt}=v.template_config.layout;return YS(Le,Be,ct,lt)},[v?.template_config.layout.format,v?.template_config.layout.orientation,v?.template_config.layout.customWidth,v?.template_config.layout.customHeight]);k.useEffect(()=>{if(a){const Le=uje(n||void 0),Be=u?parseInt(u):10,ct={...Le,id:"new",name:s||"Nouveau Template Canvas",template_config:{...Le.template_config,layout:{...Le.template_config.layout,format:l?.toLowerCase()||"a4",orientation:o||"landscape",margins:{top:Be,right:Be,bottom:Be,left:Be}}},created_at:new Date().toISOString(),updated_at:new Date().toISOString()};l?.toLowerCase()==="custom"&&d&&h&&(ct.template_config.layout.customWidth=parseInt(d),ct.template_config.layout.customHeight=parseInt(h)),w(ct);const lt=P_(ct.template_config,{url:ct.background_image_url,type:ct.background_image_type});te(lt),ge(0),E(lt[0]?.elements||[])}else if(m){w(m);const Le=P_(m.template_config,{url:m.background_image_url,type:m.background_image_type});te(Le),ge(0),E(Le[0]?.elements||[]);const Be=Le.flatMap(ct=>ct.elements);if(Be.length>0){const ct=Math.max(...Be.map(lt=>{const Ye=lt.id.match(/element-(\d+)/);return Ye?parseInt(Ye[1]):0}));D(ct+1)}}},[m,a,n,s,l,o,u,d,h]),k.useEffect(()=>{de.length>0&&ie<de.length&&te(Le=>{const Be=[...Le];return Be[ie]={...Be[ie],elements:N},Be})},[N]),k.useEffect(()=>{de.length>0&&ie<de.length&&(E(de[ie].elements),T(null))},[ie,de.length]);const Se=()=>{const Le=de.length===1?"Verso":`Page ${de.length+1}`,Be=W_e(Le);te([...de,Be]),ge(de.length)},ne=Le=>{Le>=0&&Le<de.length&&ge(Le)},M=(Le,Be)=>{if(Le>=0&&Le<de.length&&Be.trim()){const ct=[...de];ct[Le]={...ct[Le],name:Be.trim()},te(ct)}},R=Le=>{if(de.length<=1){alert("Vous devez avoir au moins une page dans le template.");return}if(confirm(`Supprimer la page "${de[Le].name}" ?`)){const Be=de.filter((ct,lt)=>lt!==Le);te(Be),ie>=Be.length?ge(Be.length-1):ie===Le&&Le>0&&ge(Le-1)}},q=async()=>{if(v){H(!0);try{const Le={...v,template_config:{...v.template_config,pages:de,elements:de[0]?.elements||[]}};if(a){const{id:Be,created_at:ct,updated_at:lt,...Ye}=Le;await b.mutateAsync(Ye)}else{const{id:Be,created_at:ct,updated_at:lt,...Ye}=Le;await x.mutateAsync({id:v.id,data:Ye})}t("/admin/certificate-templates")}catch(Le){console.error("Error saving template:",Le),alert("Erreur lors de la sauvegarde: "+(Le.message||"Erreur inconnue"))}finally{H(!1)}}},K=()=>{confirm("Annuler les modifications ?")&&t("/admin/certificate-templates")},ee=(Le,Be,ct,lt)=>{const Ye=`element-${O}`;D(O+1);let ft={id:Ye,type:Le,x:Be,y:ct,color:"#000000"};Le==="text"?ft={...ft,content:lt.variable||lt.content||"Nouveau texte",fontSize:14,fontFamily:"helvetica",fontStyle:"normal",align:"left",width:150,height:30}:Le==="image"?ft={...ft,source:lt.source||"",width:100,height:100}:Le==="rectangle"||Le==="border"?ft={...ft,width:150,height:80,lineWidth:1}:Le==="circle"?ft={...ft,radius:30,lineWidth:1}:Le==="line"&&(ft={...ft,x1:Be,y1:ct,x2:Be+100,y2:ct,lineWidth:1},delete ft.x,delete ft.y),E([...N,ft]),T(Ye)},ce=(Le,Be,ct)=>{E(N.map(lt=>lt.id===Le?{...lt,x:Be,y:ct}:lt))},Q=(Le,Be,ct)=>{E(N.map(lt=>lt.id===Le?{...lt,width:Be,height:ct}:lt))},re=Le=>{E(N.map(Be=>Be.id===Le.id?Le:Be))},ye=()=>{j&&confirm("Supprimer cet lment ?")&&(E(N.filter(Le=>Le.id!==j)),T(null))},Ee=()=>{if(!j)return;const Le=N.find(lt=>lt.id===j);if(!Le)return;const Be=`element-${O}`;D(O+1);const ct={...Le,id:Be,x:typeof Le.x=="number"?Le.x+20:Le.x,y:typeof Le.y=="number"?Le.y+20:Le.y};E([...N,ct]),T(Be)},X=(Le,Be)=>{const ct={type:Le,...Be};window.__dragData=ct},Je=Le=>{const Be=Le.background_image_url,ct=Le.background_image_type;te(lt=>{const Ye=[...lt];return Ye[ie]={...Ye[ie],background_image_url:Be,background_image_type:ct},Ye}),w(Le)},Ce=Le=>{v&&w({...v,template_config:{...v.template_config,layout:{...v.template_config.layout,format:Le}}})},xe=Le=>{v&&w({...v,template_config:{...v.template_config,layout:{...v.template_config.layout,orientation:Le}}})};if(g||!v)return i.jsx("div",{className:"flex items-center justify-center h-screen",children:i.jsxs("div",{className:"text-center",children:[i.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-600 mx-auto mb-4"}),i.jsx("p",{className:"text-gray-600",children:"Chargement du template..."})]})});const xt=j&&N.find(Le=>Le.id===j)||null,et=v?{...v,background_image_url:de[ie]?.background_image_url||v.background_image_url,background_image_type:de[ie]?.background_image_type||v.background_image_type}:null;return i.jsxs("div",{className:"min-h-screen bg-gray-50 flex flex-col",children:[i.jsx("div",{className:"bg-white border-b border-gray-200 sticky top-0 z-10",children:i.jsx("div",{className:"max-w-screen-2xl mx-auto px-6 py-4",children:i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsxs("div",{className:"flex items-center gap-4",children:[i.jsx("button",{onClick:()=>t("/admin/certificate-templates"),className:"p-2 hover:bg-gray-100 rounded-lg transition-colors",title:"Retour",children:i.jsx($n,{className:"h-5 w-5 text-gray-600"})}),i.jsxs("div",{children:[i.jsx("input",{type:"text",value:v.name,onChange:Le=>w({...v,name:Le.target.value}),className:"text-xl font-bold text-gray-900 border-none focus:ring-2 focus:ring-blue-500 rounded px-2 py-1"}),i.jsx("p",{className:"text-sm text-gray-500",children:"diteur Canvas Drag-and-Drop"})]})]}),i.jsxs("div",{className:"flex items-center gap-3",children:[i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsx("label",{className:"text-sm text-gray-600 font-medium",children:"Format:"}),i.jsxs("select",{value:v.template_config.layout.format,onChange:Le=>Ce(Le.target.value),className:"px-3 py-2 text-sm border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500",children:[i.jsxs("option",{value:"a4",children:[Xv.a4," (297210mm)"]}),i.jsxs("option",{value:"letter",children:[Xv.letter," (279216mm)"]}),i.jsxs("option",{value:"badge",children:[Xv.badge," (8654mm)"]})]})]}),i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsx("label",{className:"text-sm text-gray-600 font-medium",children:"Orientation:"}),i.jsxs("select",{value:v.template_config.layout.orientation,onChange:Le=>xe(Le.target.value),className:"px-3 py-2 text-sm border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500",children:[i.jsx("option",{value:"landscape",children:"Paysage"}),i.jsx("option",{value:"portrait",children:"Portrait"})]})]}),i.jsxs("div",{className:"px-3 py-2 text-xs bg-gray-50 text-gray-600 rounded-lg border border-gray-200",children:[oe.width,"  ",oe.height," px"]}),i.jsxs("button",{onClick:()=>P(!C),className:`px-3 py-2 text-sm rounded-lg flex items-center gap-2 transition-colors ${C?"bg-blue-100 text-blue-700":"bg-gray-100 hover:bg-gray-200 text-gray-700"}`,title:"Afficher/Masquer la grille",children:[i.jsx(G_,{className:"h-4 w-4"}),"Grille"]}),i.jsxs("button",{onClick:()=>Y(!0),className:"px-4 py-2 text-sm bg-purple-600 hover:bg-purple-700 text-white rounded-lg flex items-center gap-2 transition-colors",title:"Prvisualiser le certificat",children:[i.jsx(fi,{className:"h-4 w-4"}),"Visualiser"]}),i.jsxs("button",{onClick:K,disabled:B,className:"px-4 py-2 text-sm bg-gray-100 hover:bg-gray-200 text-gray-700 rounded-lg flex items-center gap-2 transition-colors disabled:opacity-50",children:[i.jsx(En,{className:"h-4 w-4"}),"Annuler"]}),i.jsxs("button",{onClick:q,disabled:B,className:"px-4 py-2 text-sm bg-blue-600 hover:bg-blue-700 text-white rounded-lg flex items-center gap-2 transition-colors disabled:opacity-50",children:[i.jsx(cp,{className:"h-4 w-4"}),B?"Sauvegarde...":"Enregistrer"]})]})]})})}),i.jsxs("div",{className:"flex-1 flex overflow-hidden",children:[i.jsx("div",{className:"w-64 flex-shrink-0",children:i.jsxs("div",{className:"h-full flex flex-col",children:[i.jsx("div",{className:"flex border-b border-gray-200 bg-white",children:i.jsx("button",{onClick:()=>U("elements"),className:`flex-1 px-4 py-3 text-sm font-medium transition-colors ${L==="elements"?"bg-blue-50 text-blue-600 border-b-2 border-blue-600":"text-gray-600 hover:bg-gray-50"}`,children:"lments"})}),L==="elements"&&i.jsx(aje,{onDragStart:X})]})}),i.jsxs("div",{className:"flex-1 flex flex-col",children:[i.jsx("div",{className:"bg-white border-b border-gray-200 px-4 py-2",children:i.jsxs("div",{className:"flex items-center gap-2 overflow-x-auto",children:[de.map((Le,Be)=>i.jsxs("div",{className:`flex items-center gap-1 px-3 py-1.5 rounded-lg text-sm transition-colors ${ie===Be?"bg-blue-100 text-blue-700 font-medium":"bg-gray-100 text-gray-700 hover:bg-gray-200 cursor-pointer"}`,children:[i.jsx(us,{className:"h-3.5 w-3.5"}),i.jsx("input",{type:"text",value:Le.name,onChange:ct=>M(Be,ct.target.value),onClick:()=>ne(Be),className:`bg-transparent border-none outline-none w-20 ${ie===Be?"text-blue-700":"text-gray-700"}`}),de.length>1&&i.jsx("button",{onClick:ct=>{ct.stopPropagation(),R(Be)},className:"ml-1 hover:bg-red-100 hover:text-red-600 rounded p-0.5 transition-colors",title:"Supprimer cette page",children:i.jsx(En,{className:"h-3.5 w-3.5"})})]},Le.id)),i.jsxs("button",{onClick:Se,className:"flex items-center gap-1.5 px-3 py-1.5 text-sm bg-green-50 hover:bg-green-100 text-green-700 rounded-lg transition-colors border border-green-200",title:"Ajouter une nouvelle page",children:[i.jsx(ra,{className:"h-4 w-4"}),"Ajouter page"]}),i.jsxs("div",{className:"ml-auto text-xs text-gray-500 px-2",children:["Page ",ie+1," / ",de.length]})]})}),i.jsx("div",{className:"flex-1",children:i.jsx(sje,{elements:N,selectedId:j,backgroundImage:de[ie]?.background_image_url||v.background_image_url||null,canvasSize:oe,showGrid:C&&!v.background_image_url,onElementMove:ce,onElementResize:Q,onElementSelect:Le=>{T(Le),Le!==null&&U("elements")},onElementDrop:(Le,Be,ct)=>{const lt=window.__dragData||{};ee(Le,Be,ct,lt),delete window.__dragData}})})]}),i.jsx("div",{className:"w-80 flex-shrink-0",children:i.jsxs("div",{className:"h-full flex flex-col",children:[i.jsxs("div",{className:"flex border-b border-gray-200 bg-white",children:[i.jsx("button",{onClick:()=>U("elements"),className:`flex-1 px-3 py-3 text-sm font-medium transition-colors ${L==="elements"?"bg-blue-50 text-blue-600 border-b-2 border-blue-600":"text-gray-600 hover:bg-gray-50"}`,children:"Proprits"}),i.jsx("button",{onClick:()=>U("background"),className:`flex-1 px-3 py-3 text-sm font-medium transition-colors ${L==="background"?"bg-blue-50 text-blue-600 border-b-2 border-blue-600":"text-gray-600 hover:bg-gray-50"}`,children:"Arrire-plan"}),i.jsx("button",{onClick:()=>U("fonts"),className:`flex-1 px-3 py-3 text-sm font-medium transition-colors ${L==="fonts"?"bg-blue-50 text-blue-600 border-b-2 border-blue-600":"text-gray-600 hover:bg-gray-50"}`,children:"Polices"})]}),L==="elements"&&i.jsx(ije,{element:xt,customFonts:[],onChange:re,onDelete:ye,onDuplicate:Ee}),L==="background"&&et&&i.jsx(lje,{template:et,onUpdate:Je}),L==="fonts"&&i.jsx(oje,{})]})})]}),v&&i.jsx(cje,{isOpen:V,onClose:()=>Y(!1),template:v})]})},bu={getThreads:async(e,t)=>{const r=new URLSearchParams;t?.sort&&r.append("sort",t.sort),t?.pinned&&r.append("pinned",t.pinned);const n=`/forums/${e}/threads${r.toString()?`?${r.toString()}`:""}`;return $e.get(n)},createThread:async(e,t)=>$e.post(`/forums/${e}/threads`,t),getThread:async e=>$e.get(`/forums/threads/${e}`),updateThread:async(e,t)=>$e.put(`/forums/threads/${e}`,t),deleteThread:async(e,t,r=!1)=>$e.delete(`/forums/threads/${e}?user_id=${t}&is_admin=${r}`),pinThread:async(e,t)=>$e.patch(`/forums/threads/${e}/pin`,{is_pinned:t}),lockThread:async(e,t)=>$e.patch(`/forums/threads/${e}/lock`,{is_locked:t}),incrementViewCount:async e=>$e.patch(`/forums/threads/${e}/view`,{}),getPosts:async e=>$e.get(`/forums/threads/${e}/posts`),createPost:async(e,t)=>$e.post(`/forums/threads/${e}/posts`,t),updatePost:async(e,t)=>$e.put(`/forums/posts/${e}`,t),deletePost:async(e,t,r=!1)=>$e.delete(`/forums/posts/${e}?user_id=${t}&is_admin=${r}`),addReaction:async(e,t)=>$e.post(`/forums/posts/${e}/reactions`,t),removeReaction:async(e,t,r)=>$e.delete(`/forums/posts/${e}/reactions/${r}?user_id=${t}`),getReactions:async e=>$e.get(`/forums/posts/${e}/reactions`),getStats:async()=>$e.get("/forums/stats")},Cl={all:["forums"],threads:e=>["forums","threads",e],thread:e=>["forums","thread",e],posts:e=>["forums","posts",e],reactions:e=>["forums","reactions",e],stats:()=>["forums","stats"]},fje=(e,t)=>Jt({queryKey:[...Cl.threads(e||""),t],queryFn:()=>{if(!e)throw new Error("Formation ID is required");return bu.getThreads(e,t)},enabled:!!e,staleTime:120*1e3}),hje=e=>Jt({queryKey:Cl.thread(e||""),queryFn:()=>{if(!e)throw new Error("Thread ID is required");return bu.getThread(e)},enabled:!!e,staleTime:300*1e3}),mje=()=>{const e=Tt();return Ot({mutationFn:({formationId:t,data:r})=>bu.createThread(t,r),onSuccess:(t,r)=>{e.invalidateQueries({queryKey:Cl.threads(r.formationId)})}})},pje=()=>{const e=Tt();return Ot({mutationFn:t=>bu.incrementViewCount(t),onSuccess:(t,r)=>{e.invalidateQueries({queryKey:Cl.thread(r)})}})},xje=e=>Jt({queryKey:Cl.posts(e||""),queryFn:()=>{if(!e)throw new Error("Thread ID is required");return bu.getPosts(e)},enabled:!!e,staleTime:60*1e3}),gje=()=>{const e=Tt();return Ot({mutationFn:({threadId:t,data:r})=>bu.createPost(t,r),onSuccess:(t,r)=>{e.invalidateQueries({queryKey:Cl.posts(r.threadId)}),e.invalidateQueries({queryKey:Cl.thread(r.threadId)}),e.invalidateQueries({queryKey:Cl.all})}})},vje=()=>{const e=Tt();return Ot({mutationFn:({postId:t,userId:r,isAdmin:n})=>bu.deletePost(t,r,n),onSuccess:()=>{e.invalidateQueries({queryKey:Cl.all})}})},yje=()=>{const e=Tt();return Ot({mutationFn:({postId:t,data:r})=>bu.addReaction(t,r),onSuccess:(t,r)=>{e.invalidateQueries({queryKey:Cl.reactions(r.postId)}),e.invalidateQueries({queryKey:Cl.all})}})},bje=()=>{const e=Tt();return Ot({mutationFn:({postId:t,userId:r,reactionType:n})=>bu.removeReaction(t,r,n),onSuccess:(t,r)=>{e.invalidateQueries({queryKey:Cl.reactions(r.postId)}),e.invalidateQueries({queryKey:Cl.all})}})},wje=()=>Jt({queryKey:Cl.stats(),queryFn:()=>bu.getStats(),staleTime:300*1e3}),Nje=()=>{const e=xn(),[t,r]=k.useState(""),[n,a]=k.useState(""),{data:s}=wje(),{data:l}=_2(),o=s?.stats,u=l||[],d=n?u.filter(h=>h.id===n):u;return i.jsxs("div",{className:"p-6",children:[i.jsxs("div",{className:"mb-6",children:[i.jsx("h1",{className:"text-3xl font-bold text-gray-900",children:"Modration des Forums"}),i.jsx("p",{className:"text-gray-600 mt-1",children:"Grez les discussions et modrez le contenu des forums"})]}),i.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4 mb-6",children:[i.jsxs("div",{className:"bg-gradient-to-br from-blue-500 to-blue-600 rounded-lg p-5 text-white",children:[i.jsx("div",{className:"flex items-center justify-between mb-2",children:i.jsx(el,{className:"h-8 w-8 opacity-80"})}),i.jsx("div",{className:"text-3xl font-bold",children:o?.total_threads||0}),i.jsx("div",{className:"text-blue-100 text-sm",children:"Total discussions"})]}),i.jsxs("div",{className:"bg-gradient-to-br from-green-500 to-green-600 rounded-lg p-5 text-white",children:[i.jsx("div",{className:"flex items-center justify-between mb-2",children:i.jsx(nD,{className:"h-8 w-8 opacity-80"})}),i.jsx("div",{className:"text-3xl font-bold",children:o?.total_posts||0}),i.jsx("div",{className:"text-green-100 text-sm",children:"Total rponses"})]}),i.jsxs("div",{className:"bg-gradient-to-br from-purple-500 to-purple-600 rounded-lg p-5 text-white",children:[i.jsx("div",{className:"flex items-center justify-between mb-2",children:i.jsx(G0,{className:"h-8 w-8 opacity-80"})}),i.jsx("div",{className:"text-3xl font-bold",children:o?.total_reactions||0}),i.jsx("div",{className:"text-purple-100 text-sm",children:"Total ractions"})]}),i.jsxs("div",{className:"bg-gradient-to-br from-amber-500 to-amber-600 rounded-lg p-5 text-white",children:[i.jsx("div",{className:"flex items-center justify-between mb-2",children:i.jsx(fs,{className:"h-8 w-8 opacity-80"})}),i.jsx("div",{className:"text-3xl font-bold",children:o?.active_posters||0}),i.jsx("div",{className:"text-amber-100 text-sm",children:"Participants actifs"})]})]}),i.jsx("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 p-4 mb-6",children:i.jsxs("div",{className:"flex items-center gap-4",children:[i.jsxs("div",{className:"flex-1 relative",children:[i.jsx(mh,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 h-5 w-5 text-gray-400"}),i.jsx("input",{type:"text",placeholder:"Rechercher une discussion...",value:t,onChange:h=>r(h.target.value),className:"w-full pl-10 pr-4 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500"})]}),i.jsxs("select",{value:n,onChange:h=>a(h.target.value),className:"border border-gray-300 rounded-lg px-4 py-2 focus:outline-none focus:ring-2 focus:ring-blue-500",children:[i.jsx("option",{value:"",children:"Toutes les formations"}),u.map(h=>i.jsx("option",{value:h.id,children:h.title},h.id))]})]})}),i.jsx("div",{className:"space-y-4",children:d.length===0?i.jsxs("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 p-12 text-center",children:[i.jsx(el,{className:"h-16 w-16 text-gray-300 mx-auto mb-4"}),i.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-2",children:"Aucune formation trouve"}),i.jsx("p",{className:"text-gray-600",children:"Crez des formations pour activer les forums"})]}):d.map(h=>i.jsx("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 p-5",children:i.jsxs("div",{className:"flex items-start justify-between",children:[i.jsxs("div",{className:"flex-1",children:[i.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-2",children:h.title}),i.jsx("p",{className:"text-sm text-gray-600 mb-4 line-clamp-2",children:h.description}),i.jsxs("div",{className:"flex items-center gap-4 text-sm text-gray-600",children:[i.jsxs("span",{className:"flex items-center gap-1",children:[i.jsx(el,{className:"h-4 w-4"}),"Forum actif"]}),i.jsxs("span",{className:"flex items-center gap-1",children:[i.jsx(fs,{className:"h-4 w-4"}),h.enrolled_count||0," tudiants"]})]})]}),i.jsx("div",{className:"flex items-center gap-2",children:i.jsxs(Xe,{onClick:()=>e(`/student/forums/${h.id}`),className:"bg-gradient-to-r from-blue-600 to-blue-700 text-white",children:[i.jsx(fi,{className:"h-4 w-4 mr-2"}),"Voir le forum"]})})]})},h.id))}),i.jsxs("div",{className:"mt-6 bg-blue-50 border border-blue-200 rounded-lg p-4",children:[i.jsx("h3",{className:"font-semibold text-blue-900 mb-2",children:"Actions de modration disponibles"}),i.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-3 text-sm text-blue-800",children:[i.jsxs("div",{className:"flex items-start gap-2",children:[i.jsx(X_,{className:"h-4 w-4 mt-0.5 text-yellow-600"}),i.jsxs("span",{children:[i.jsx("strong",{children:"pingler:"})," Mettre en avant les discussions importantes"]})]}),i.jsxs("div",{className:"flex items-start gap-2",children:[i.jsx(Kx,{className:"h-4 w-4 mt-0.5 text-gray-600"}),i.jsxs("span",{children:[i.jsx("strong",{children:"Verrouiller:"})," Empcher de nouvelles rponses"]})]}),i.jsxs("div",{className:"flex items-start gap-2",children:[i.jsx(An,{className:"h-4 w-4 mt-0.5 text-red-600"}),i.jsxs("span",{children:[i.jsx("strong",{children:"Supprimer:"})," Retirer du contenu inappropri"]})]}),i.jsxs("div",{className:"flex items-start gap-2",children:[i.jsx(fi,{className:"h-4 w-4 mt-0.5 text-blue-600"}),i.jsxs("span",{children:[i.jsx("strong",{children:"Surveiller:"})," Suivre l'activit des discussions"]})]})]}),i.jsx("p",{className:"mt-3 text-sm text-blue-700",children:" Accdez  un forum spcifique pour utiliser ces actions de modration."})]}),o&&i.jsxs("div",{className:"mt-6 bg-gradient-to-r from-gray-50 to-gray-100 border border-gray-200 rounded-lg p-5",children:[i.jsx("h3",{className:"font-semibold text-gray-900 mb-3",children:"Statistiques gnrales"}),i.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4 text-sm",children:[i.jsxs("div",{children:[i.jsx("span",{className:"text-gray-600",children:"Crateurs de discussions:"}),i.jsx("span",{className:"ml-2 font-semibold text-gray-900",children:o.active_thread_creators})]}),i.jsxs("div",{children:[i.jsx("span",{className:"text-gray-600",children:"Participants actifs:"}),i.jsx("span",{className:"ml-2 font-semibold text-gray-900",children:o.active_posters})]}),i.jsxs("div",{children:[i.jsx("span",{className:"text-gray-600",children:"Taux d'engagement:"}),i.jsxs("span",{className:"ml-2 font-semibold text-gray-900",children:[o.total_threads>0?(o.total_posts/o.total_threads*100).toFixed(1):0,"% rponses/thread"]})]})]})]})]})},_je=()=>{const e=xn(),[t,r]=k.useState({segment_id:"",ville_id:"",annee:""}),[n,a]=k.useState([]),[s,l]=k.useState([]),[o,u]=k.useState([]),{data:d,isLoading:h,error:m}=aie(t.segment_id||t.ville_id||t.annee?t:void 0),g=oie(),[x,b]=k.useState(null),[v,w]=k.useState(!1),[N,E]=k.useState(null);k.useEffect(()=>{(async()=>{try{const D=await $e.get("/segments");a(D)}catch(D){console.error("Error fetching segments:",D)}})()},[]),k.useEffect(()=>{(async()=>{try{if(t.segment_id){const D=await $e.get(`/cities?segment_id=${t.segment_id}`);l(D)}else{const D=await $e.get("/cities");l(D)}}catch(D){console.error("Error fetching cities:",D)}})()},[t.segment_id]),k.useEffect(()=>{if(d&&d.length>0){const O=new Set;d.forEach(D=>{if(D.date_debut){const C=new Date(D.date_debut).getFullYear().toString();O.add(C)}}),u(Array.from(O).sort((D,C)=>parseInt(C)-parseInt(D)))}},[d]);const j=async O=>{try{await g.mutateAsync(O),b(null)}catch(D){alert("Erreur: "+(D.message||"Impossible de supprimer cette session"))}},T=()=>{r({segment_id:"",ville_id:"",annee:""})};return h?i.jsx(kn,{children:i.jsx("div",{className:"flex items-center justify-center h-64",children:i.jsx("div",{className:"text-gray-500",children:"Chargement des sessions..."})})}):m?i.jsx(kn,{children:i.jsx("div",{className:"bg-red-50 border border-red-200 rounded-lg p-4",children:i.jsxs("div",{className:"flex items-center gap-2 text-red-800",children:[i.jsx($r,{className:"h-5 w-5"}),i.jsx("span",{children:"Erreur lors du chargement des sessions"})]})})}):i.jsxs(kn,{children:[i.jsxs("div",{className:"space-y-6",children:[i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsxs("div",{children:[i.jsxs("h1",{className:"text-2xl font-bold text-gray-900 flex items-center gap-2",children:[i.jsx(Ia,{className:"h-7 w-7 text-blue-600"}),"Sessions de Formation"]}),i.jsx("p",{className:"text-sm text-gray-600 mt-1",children:"Grez les sessions de formation (classes)"})]}),i.jsxs("button",{onClick:()=>{E(null),w(!0)},className:"px-5 py-2.5 bg-gradient-to-r from-blue-600 to-blue-700 text-white rounded-lg hover:from-blue-700 hover:to-blue-800 transition-all shadow-md hover:shadow-lg flex items-center gap-2 font-medium",children:[i.jsx(ra,{className:"h-5 w-5"}),"Nouvelle Session"]})]}),i.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:[i.jsxs("div",{className:"bg-gradient-to-br from-blue-50 to-blue-100 rounded-lg p-4 border border-blue-200",children:[i.jsx("div",{className:"text-sm text-blue-600 font-medium",children:"Total Sessions"}),i.jsx("div",{className:"text-3xl font-bold text-blue-900 mt-1",children:d?.length||0})]}),i.jsxs("div",{className:"bg-gradient-to-br from-green-50 to-green-100 rounded-lg p-4 border border-green-200",children:[i.jsx("div",{className:"text-sm text-green-600 font-medium",children:"En Cours"}),i.jsx("div",{className:"text-3xl font-bold text-green-900 mt-1",children:d?.filter(O=>O.statut==="en_cours").length||0})]}),i.jsxs("div",{className:"bg-gradient-to-br from-purple-50 to-purple-100 rounded-lg p-4 border border-purple-200",children:[i.jsx("div",{className:"text-sm text-purple-600 font-medium",children:"Planifies"}),i.jsx("div",{className:"text-3xl font-bold text-purple-900 mt-1",children:d?.filter(O=>O.statut==="planifiee").length||0})]}),i.jsxs("div",{className:"bg-gradient-to-br from-gray-50 to-gray-100 rounded-lg p-4 border border-gray-200",children:[i.jsx("div",{className:"text-sm text-gray-600 font-medium",children:"Termines"}),i.jsx("div",{className:"text-3xl font-bold text-gray-900 mt-1",children:d?.filter(O=>O.statut==="terminee").length||0})]})]}),i.jsxs("div",{className:"bg-white rounded-lg border border-gray-200 p-4",children:[i.jsxs("div",{className:"flex items-center gap-2 mb-4",children:[i.jsx(h2,{className:"h-5 w-5 text-gray-600"}),i.jsx("h3",{className:"font-semibold text-gray-900",children:"Filtres"})]}),i.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:[i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Segment"}),i.jsxs("select",{value:t.segment_id,onChange:O=>r({...t,segment_id:O.target.value,ville_id:""}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",children:[i.jsx("option",{value:"",children:"Tous les segments"}),n.map(O=>i.jsx("option",{value:O.id,children:O.name},O.id))]})]}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Ville"}),i.jsxs("select",{value:t.ville_id,onChange:O=>r({...t,ville_id:O.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",disabled:!t.segment_id&&s.length===0,children:[i.jsx("option",{value:"",children:"Toutes les villes"}),s.map(O=>i.jsx("option",{value:O.id,children:O.name},O.id))]})]}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Anne"}),i.jsxs("select",{value:t.annee,onChange:O=>r({...t,annee:O.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",children:[i.jsx("option",{value:"",children:"Toutes les annes"}),o.map(O=>i.jsx("option",{value:O,children:O},O))]})]}),i.jsx("div",{className:"flex items-end",children:i.jsx("button",{onClick:T,className:"w-full px-4 py-2 bg-gray-100 text-gray-700 rounded-lg hover:bg-gray-200 transition-colors text-sm font-medium",children:"Rinitialiser"})})]})]}),d&&d.length>0?i.jsx("div",{className:"bg-white rounded-lg border border-gray-200 overflow-hidden",children:i.jsx("div",{className:"overflow-x-auto",children:i.jsxs("table",{className:"w-full",children:[i.jsx("thead",{className:"bg-gray-50 border-b border-gray-200",children:i.jsxs("tr",{children:[i.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Titre"}),i.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Segment"}),i.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Ville"}),i.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Date Dbut"}),i.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"tudiants"}),i.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Statut"}),i.jsx("th",{className:"px-6 py-3 text-right text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Actions"})]})}),i.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:d.map(O=>i.jsxs("tr",{className:"hover:bg-gray-50 transition-colors",children:[i.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:i.jsx("div",{className:"flex items-center",children:i.jsxs("div",{children:[i.jsx("div",{className:"text-sm font-medium text-gray-900",children:O.titre}),O.corps_formation_name&&i.jsxs("div",{className:"text-xs text-gray-500 flex items-center gap-1 mt-1",children:[i.jsx(Wn,{className:"h-3 w-3"}),O.corps_formation_name]})]})})}),i.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:O.segment_name&&i.jsx("span",{className:"inline-flex px-2 py-1 text-xs font-medium rounded-full",style:{backgroundColor:O.segment_color+"20",color:O.segment_color},children:O.segment_name})}),i.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:i.jsxs("div",{className:"flex items-center gap-1 text-sm text-gray-900",children:[i.jsx(ds,{className:"h-4 w-4 text-gray-400"}),O.ville_name||"-"]})}),i.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:i.jsxs("div",{className:"flex items-center gap-1 text-sm text-gray-900",children:[i.jsx(Ia,{className:"h-4 w-4 text-gray-400"}),O.date_debut?new Date(O.date_debut).toLocaleDateString("fr-FR"):"-"]})}),i.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:i.jsxs("div",{className:"flex items-center gap-1 text-sm text-gray-900",children:[i.jsx(fs,{className:"h-4 w-4 text-gray-400"}),O.nombre_etudiants||0]})}),i.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:i.jsxs("span",{className:`px-2 py-1 text-xs font-semibold rounded-full ${O.statut==="en_cours"?"bg-blue-100 text-blue-800":O.statut==="terminee"?"bg-green-100 text-green-800":O.statut==="annulee"?"bg-red-100 text-red-800":"bg-gray-100 text-gray-800"}`,children:[O.statut==="planifiee"&&"Planifie",O.statut==="en_cours"&&"En cours",O.statut==="terminee"&&"Termine",O.statut==="annulee"&&"Annule"]})}),i.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-right text-sm font-medium",children:i.jsxs("div",{className:"flex items-center justify-end gap-2",children:[i.jsx("button",{onClick:()=>e(`/admin/sessions-formation/${O.id}`),className:"p-2 text-blue-600 hover:bg-blue-50 rounded-lg transition-colors",title:"Voir",children:i.jsx(fi,{className:"h-4 w-4"})}),i.jsx("button",{onClick:()=>{E(O),w(!0)},className:"p-2 text-green-600 hover:bg-green-50 rounded-lg transition-colors",title:"Modifier",children:i.jsx(Km,{className:"h-4 w-4"})}),i.jsx("button",{onClick:()=>b(O.id),className:"p-2 text-red-600 hover:bg-red-50 rounded-lg transition-colors",title:"Supprimer",children:i.jsx(An,{className:"h-4 w-4"})})]})})]},O.id))})]})})}):i.jsxs("div",{className:"bg-white rounded-lg border border-gray-200 p-12 text-center",children:[i.jsx(Ia,{className:"h-16 w-16 text-gray-300 mx-auto mb-4"}),i.jsx("p",{className:"text-gray-600 text-lg mb-2",children:"Aucune session trouve"}),i.jsx("p",{className:"text-gray-500 text-sm mb-4",children:t.segment_id||t.ville_id||t.annee?"Aucune session ne correspond aux filtres slectionns":"Commencez par crer votre premire session de formation"}),!t.segment_id&&!t.ville_id&&!t.annee&&i.jsxs("button",{onClick:()=>{E(null),w(!0)},className:"px-5 py-2.5 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors inline-flex items-center gap-2",children:[i.jsx(ra,{className:"h-5 w-5"}),"Crer une session"]})]})]}),x&&i.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:i.jsxs("div",{className:"bg-white p-6 rounded-lg shadow-xl max-w-md mx-4",children:[i.jsx("h4",{className:"font-bold text-gray-900 text-lg mb-2",children:"Confirmer la suppression"}),i.jsx("p",{className:"text-sm text-gray-600 mb-4",children:"tes-vous sr de vouloir supprimer cette session ?"}),i.jsxs("div",{className:"flex gap-2",children:[i.jsx("button",{onClick:()=>b(null),className:"flex-1 px-4 py-2 bg-gray-100 text-gray-700 rounded hover:bg-gray-200 transition-colors text-sm font-medium",children:"Annuler"}),i.jsx("button",{onClick:()=>j(x),disabled:g.isPending,className:"flex-1 px-4 py-2 bg-red-600 text-white rounded hover:bg-red-700 transition-colors text-sm font-medium disabled:opacity-50",children:g.isPending?"Suppression...":"Supprimer"})]})]})}),v&&i.jsx(b4,{session:N,onClose:()=>{w(!1),E(null)}})]})},jje=({sessionId:e,corpsFormationId:t,onClose:r,onSuccess:n})=>{const[a,s]=k.useState({nom:"",prenom:"",cin:"",email:"",phone:"",whatsapp:"",date_naissance:"",lieu_naissance:"",adresse:"",session_id:e,formation_id:"",numero_bon:"",avance:"",statut_compte:"actif"}),[l,o]=k.useState(null),[u,d]=k.useState(""),[h,m]=k.useState({}),[g,x]=k.useState(!1),[b,v]=k.useState([]),[w,N]=k.useState([]),[E,j]=k.useState(!1),[T,O]=k.useState(!1),D=b.find(V=>V.id===a.formation_id);k.useEffect(()=>{t&&(C(),P())},[t]);const C=async()=>{try{j(!0);const V=await $e.get(`/cours?corps_id=${t}`);v(V)}catch(V){console.error("Error fetching formations:",V)}finally{j(!1)}},P=async()=>{try{O(!0);const V=await $e.get(`/sessions-formation?corps_formation_id=${t}&statut=en_cours`);N(V.sessions||[])}catch(V){console.error("Error fetching sessions:",V),N([])}finally{O(!1)}},B=V=>{const Y=V.target.files?.[0];if(Y){o(Y);const de=new FileReader;de.onloadend=()=>{d(de.result)},de.readAsDataURL(Y)}},H=()=>{const V={};if(a.nom.trim()||(V.nom="Le nom est obligatoire"),a.prenom.trim()||(V.prenom="Le prnom est obligatoire"),a.cin.trim()||(V.cin="Le CIN est obligatoire"),a.phone.trim()||(V.phone="Le tlphone est obligatoire"),a.date_naissance||(V.date_naissance="La date de naissance est obligatoire"),a.lieu_naissance.trim()||(V.lieu_naissance="Le lieu de naissance est obligatoire"),a.adresse.trim()||(V.adresse="L'adresse est obligatoire"),a.session_id||(V.session="La session est obligatoire"),a.formation_id||(V.formation="La formation est obligatoire"),a.numero_bon.trim()||(V.numero_bon="Le numro de bon est obligatoire"),a.avance||(V.avance="L'avance est obligatoire"),a.avance&&D){const Y=parseFloat(a.avance);Y<0?V.avance="L'avance ne peut pas tre ngative":Y>D.price&&(V.avance="L'avance ne peut pas dpasser le prix de la formation")}return m(V),Object.keys(V).length===0},L=async V=>{if(V.preventDefault(),!!H()){x(!0);try{const Y=await $e.get(`/students/check-cin/${a.cin}`);let de;if(Y.exists)de=Y.student.id;else{const te=new FormData;te.append("nom",a.nom.trim()),te.append("prenom",a.prenom.trim()),te.append("cin",a.cin.trim()),te.append("email",a.email.trim()),te.append("phone",a.phone.trim()),te.append("whatsapp",a.whatsapp.trim()),te.append("date_naissance",a.date_naissance),te.append("lieu_naissance",a.lieu_naissance.trim()),te.append("adresse",a.adresse.trim()),te.append("statut_compte",a.statut_compte),l&&te.append("profile_image",l),de=(await $e.post("/students",te)).student.id}await $e.post(`/sessions-formation/${e}/etudiants`,{student_id:de,formation_id:a.formation_id,montant_total:D?.price||0,montant_paye:parseFloat(a.avance),numero_bon:a.numero_bon.trim(),statut_paiement:parseFloat(a.avance)>=(D?.price||0)?"paye":parseFloat(a.avance)>0?"partiellement_paye":"impaye"}),n(),r()}catch(Y){console.error("Error adding student:",Y),m({submit:Y.message||"Erreur lors de l'ajout de l'tudiant"})}finally{x(!1)}}},U=D&&a.avance?Math.max(0,D.price-parseFloat(a.avance)):0;return i.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center p-4 z-50",children:i.jsxs("div",{className:"bg-white rounded-lg shadow-xl max-w-4xl w-full max-h-[90vh] overflow-y-auto",children:[i.jsxs("div",{className:"flex items-center justify-between p-6 border-b sticky top-0 bg-white z-10",children:[i.jsx("h2",{className:"text-xl font-semibold text-gray-900",children:"Ajouter un tudiant"}),i.jsx(Xe,{variant:"ghost",size:"icon",onClick:r,children:i.jsx(En,{className:"h-5 w-5"})})]}),i.jsxs("form",{onSubmit:L,className:"p-6 space-y-6",children:[h.submit&&i.jsxs("div",{className:"bg-red-50 border border-red-200 rounded-lg p-4 flex items-start gap-3",children:[i.jsx($r,{className:"h-5 w-5 text-red-600 flex-shrink-0 mt-0.5"}),i.jsx("p",{className:"text-sm text-red-700",children:h.submit})]}),i.jsxs("div",{children:[i.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Informations Personnelles"}),i.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[i.jsxs("div",{children:[i.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:["Nom ",i.jsx("span",{className:"text-red-500",children:"*"})]}),i.jsx(Qr,{value:a.nom,onChange:V=>s({...a,nom:V.target.value}),placeholder:"Nom",className:h.nom?"border-red-300":""}),h.nom&&i.jsx("p",{className:"text-xs text-red-600 mt-1",children:h.nom})]}),i.jsxs("div",{children:[i.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:["Prnom ",i.jsx("span",{className:"text-red-500",children:"*"})]}),i.jsx(Qr,{value:a.prenom,onChange:V=>s({...a,prenom:V.target.value}),placeholder:"Prnom",className:h.prenom?"border-red-300":""}),h.prenom&&i.jsx("p",{className:"text-xs text-red-600 mt-1",children:h.prenom})]}),i.jsxs("div",{children:[i.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:["CIN ",i.jsx("span",{className:"text-red-500",children:"*"})]}),i.jsx(Qr,{value:a.cin,onChange:V=>s({...a,cin:V.target.value}),placeholder:"CIN",className:h.cin?"border-red-300":""}),h.cin&&i.jsx("p",{className:"text-xs text-red-600 mt-1",children:h.cin})]}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Email"}),i.jsx(Qr,{type:"email",value:a.email,onChange:V=>s({...a,email:V.target.value}),placeholder:"Email"})]}),i.jsxs("div",{children:[i.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:["Tlphone ",i.jsx("span",{className:"text-red-500",children:"*"})]}),i.jsx(Qr,{value:a.phone,onChange:V=>s({...a,phone:V.target.value}),placeholder:"Phone",className:h.phone?"border-red-300":""}),h.phone&&i.jsx("p",{className:"text-xs text-red-600 mt-1",children:h.phone})]}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"WhatsApp"}),i.jsx(Qr,{value:a.whatsapp,onChange:V=>s({...a,whatsapp:V.target.value}),placeholder:"WhatsApp"})]})]})]}),i.jsxs("div",{children:[i.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Informations Administratives"}),i.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[i.jsxs("div",{children:[i.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:["Date de naissance ",i.jsx("span",{className:"text-red-500",children:"*"})]}),i.jsx(Qr,{type:"date",value:a.date_naissance,onChange:V=>s({...a,date_naissance:V.target.value}),className:h.date_naissance?"border-red-300":""}),h.date_naissance&&i.jsx("p",{className:"text-xs text-red-600 mt-1",children:h.date_naissance})]}),i.jsxs("div",{children:[i.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:["Lieu de naissance ",i.jsx("span",{className:"text-red-500",children:"*"})]}),i.jsx(Qr,{value:a.lieu_naissance,onChange:V=>s({...a,lieu_naissance:V.target.value}),placeholder:"Lieu de naissance",className:h.lieu_naissance?"border-red-300":""}),h.lieu_naissance&&i.jsx("p",{className:"text-xs text-red-600 mt-1",children:h.lieu_naissance})]}),i.jsxs("div",{className:"md:col-span-2",children:[i.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:["Adresse ",i.jsx("span",{className:"text-red-500",children:"*"})]}),i.jsx(Qr,{value:a.adresse,onChange:V=>s({...a,adresse:V.target.value}),placeholder:"Adresse",className:h.adresse?"border-red-300":""}),h.adresse&&i.jsx("p",{className:"text-xs text-red-600 mt-1",children:h.adresse})]}),i.jsxs("div",{className:"md:col-span-2",children:[i.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Image de profil"}),i.jsxs("div",{className:"flex items-center gap-4",children:[u&&i.jsx("img",{src:u,alt:"Preview",className:"h-20 w-20 rounded-full object-cover border-2 border-gray-200"}),i.jsxs("label",{className:"cursor-pointer",children:[i.jsxs("div",{className:"flex items-center gap-2 px-4 py-2 bg-gray-100 text-gray-700 rounded-lg hover:bg-gray-200 transition-colors",children:[i.jsx(Ef,{className:"h-4 w-4"}),i.jsx("span",{className:"text-sm",children:u?"Changer la photo":"Choisir une photo"})]}),i.jsx("input",{type:"file",accept:"image/*",onChange:B,className:"hidden"})]})]})]})]})]}),i.jsxs("div",{children:[i.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Informations de Formation"}),i.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[i.jsxs("div",{className:"md:col-span-2",children:[i.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:["Session ",i.jsx("span",{className:"text-red-500",children:"*"})]}),i.jsxs("select",{value:a.session_id,onChange:V=>s({...a,session_id:V.target.value}),className:`w-full px-3 py-2 border rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent ${h.session?"border-red-300":"border-gray-300"}`,disabled:T,children:[i.jsx("option",{value:"",children:"Slectionner une session"}),w.map(V=>i.jsx("option",{value:V.id,children:V.titre},V.id))]}),h.session&&i.jsx("p",{className:"text-xs text-red-600 mt-1",children:h.session})]}),i.jsxs("div",{className:"md:col-span-2",children:[i.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:["Formation ",i.jsx("span",{className:"text-red-500",children:"*"})]}),i.jsxs("select",{value:a.formation_id,onChange:V=>s({...a,formation_id:V.target.value}),className:`w-full px-3 py-2 border rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent ${h.formation?"border-red-300":"border-gray-300"}`,disabled:E,children:[i.jsx("option",{value:"",children:"Choisir une formation"}),b.map(V=>i.jsxs("option",{value:V.id,children:[V.title," (",V.price," DH)",V.is_pack&&" - Pack"]},V.id))]}),h.formation&&i.jsx("p",{className:"text-xs text-red-600 mt-1",children:h.formation}),D&&i.jsxs("p",{className:"text-xs text-blue-600 mt-1",children:["Prix de la formation: ",D.price," DH"]})]}),i.jsxs("div",{children:[i.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:["Numro de bon ",i.jsx("span",{className:"text-red-500",children:"*"})]}),i.jsx(Qr,{value:a.numero_bon,onChange:V=>s({...a,numero_bon:V.target.value}),placeholder:"Numro de bon",className:h.numero_bon?"border-red-300":""}),h.numero_bon&&i.jsx("p",{className:"text-xs text-red-600 mt-1",children:h.numero_bon})]}),i.jsxs("div",{children:[i.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:["Avance paye (DH) ",i.jsx("span",{className:"text-red-500",children:"*"})]}),i.jsx(Qr,{type:"number",min:"0",step:"0.01",value:a.avance,onChange:V=>s({...a,avance:V.target.value}),placeholder:"Avance",className:h.avance?"border-red-300":""}),h.avance&&i.jsx("p",{className:"text-xs text-red-600 mt-1",children:h.avance}),a.avance&&D&&i.jsxs("p",{className:"text-xs text-gray-600 mt-1",children:["Montant restant: ",U.toFixed(2)," DH"]})]}),i.jsxs("div",{children:[i.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:["Statut de compte ",i.jsx("span",{className:"text-red-500",children:"*"})]}),i.jsxs("select",{value:a.statut_compte,onChange:V=>s({...a,statut_compte:V.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",children:[i.jsx("option",{value:"actif",children:"Actif"}),i.jsx("option",{value:"inactif",children:"Inactif"}),i.jsx("option",{value:"suspendu",children:"Suspendu"}),i.jsx("option",{value:"diplome",children:"Diplm"})]})]})]})]}),i.jsxs("div",{className:"flex items-center justify-end gap-3 pt-4 border-t",children:[i.jsx(Xe,{type:"button",variant:"outline",onClick:r,disabled:g,children:"Fermer"}),i.jsx(Xe,{type:"submit",disabled:g,className:"min-w-[120px]",children:g?i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsx("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-white"}),i.jsx("span",{children:"Ajout..."})]}):"Enregistrer"})]})]})]})})},Sje=()=>{const{id:e}=io(),t=xn(),{data:r,isLoading:n,error:a,refetch:s}=sie(e),[l,o]=k.useState("etudiants"),[u,d]=k.useState(!1);if(n)return i.jsx(kn,{children:i.jsx("div",{className:"flex items-center justify-center h-64",children:i.jsx("div",{className:"text-gray-500",children:"Chargement..."})})});if(a||!r)return i.jsx(kn,{children:i.jsx("div",{className:"bg-red-50 border border-red-200 rounded-lg p-4",children:i.jsxs("div",{className:"flex items-center gap-2 text-red-800",children:[i.jsx($r,{className:"h-5 w-5"}),i.jsx("span",{children:"Erreur lors du chargement de la session"})]})})});const h=r.statistiques,m=parseFloat(h?.total_paye?.toString()||"0"),g=parseFloat(h?.total_impaye?.toString()||"0"),x=parseFloat(h?.total_partiellement_paye?.toString()||"0");return i.jsxs(kn,{children:[i.jsxs("div",{className:"space-y-6",children:[i.jsx("div",{className:"flex items-start justify-between",children:i.jsxs("div",{className:"flex items-start gap-4",children:[i.jsx("button",{onClick:()=>t("/admin/sessions-formation"),className:"mt-1 p-2 hover:bg-gray-100 rounded-lg transition-colors",children:i.jsx($n,{className:"h-5 w-5 text-gray-600"})}),i.jsxs("div",{children:[i.jsxs("h1",{className:"text-2xl font-bold text-gray-900 flex items-center gap-3",children:[r.titre,i.jsxs("span",{className:`px-3 py-1 text-xs font-semibold rounded-full ${r.statut==="en_cours"?"bg-blue-100 text-blue-800":r.statut==="terminee"?"bg-green-100 text-green-800":r.statut==="annulee"?"bg-red-100 text-red-800":"bg-gray-100 text-gray-800"}`,children:[r.statut==="planifiee"&&"Planifie",r.statut==="en_cours"&&"En cours",r.statut==="terminee"&&"Termine",r.statut==="annulee"&&"Annule"]})]}),i.jsxs("div",{className:"flex items-center gap-4 mt-2 text-sm text-gray-600",children:[r.date_debut&&i.jsxs("div",{className:"flex items-center gap-1",children:[i.jsx(Ia,{className:"h-4 w-4"}),new Date(r.date_debut).toLocaleDateString("fr-FR"),r.date_fin&&` - ${new Date(r.date_fin).toLocaleDateString("fr-FR")}`]}),r.ville_name&&i.jsxs("div",{className:"flex items-center gap-1",children:[i.jsx(ds,{className:"h-4 w-4"}),r.ville_name]}),r.segment_name&&i.jsx("span",{className:"px-2 py-1 rounded text-xs font-medium",style:{backgroundColor:r.segment_color+"20",color:r.segment_color},children:r.segment_name}),r.corps_formation_name&&i.jsxs("div",{className:"flex items-center gap-1",children:[i.jsx(Wn,{className:"h-4 w-4"}),r.corps_formation_name]})]})]})]})}),i.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:[i.jsx("div",{className:"bg-gradient-to-br from-blue-50 to-blue-100 rounded-lg p-4 border border-blue-200",children:i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsxs("div",{children:[i.jsx("div",{className:"text-sm text-blue-600 font-medium",children:"tudiants"}),i.jsx("div",{className:"text-2xl font-bold text-blue-900 mt-1",children:r.nombre_etudiants||0})]}),i.jsx(fs,{className:"h-8 w-8 text-blue-600 opacity-50"})]})}),i.jsx("div",{className:"bg-gradient-to-br from-purple-50 to-purple-100 rounded-lg p-4 border border-purple-200",children:i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsxs("div",{children:[i.jsx("div",{className:"text-sm text-purple-600 font-medium",children:"Professeurs"}),i.jsx("div",{className:"text-2xl font-bold text-purple-900 mt-1",children:r.nombre_professeurs||0})]}),i.jsx(zk,{className:"h-8 w-8 text-purple-600 opacity-50"})]})}),i.jsx("div",{className:"bg-gradient-to-br from-green-50 to-green-100 rounded-lg p-4 border border-green-200",children:i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsxs("div",{children:[i.jsx("div",{className:"text-sm text-green-600 font-medium",children:"Total Pay"}),i.jsxs("div",{className:"text-2xl font-bold text-green-900 mt-1",children:[m.toFixed(2)," DH"]})]}),i.jsx(L0,{className:"h-8 w-8 text-green-600 opacity-50"})]})}),i.jsx("div",{className:"bg-gradient-to-br from-red-50 to-red-100 rounded-lg p-4 border border-red-200",children:i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsxs("div",{children:[i.jsx("div",{className:"text-sm text-red-600 font-medium",children:"Total D"}),i.jsxs("div",{className:"text-2xl font-bold text-red-900 mt-1",children:[g.toFixed(2)," DH"]})]}),i.jsx(L0,{className:"h-8 w-8 text-red-600 opacity-50"})]})})]}),i.jsxs("div",{className:"bg-white rounded-lg border border-gray-200 p-6",children:[i.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Statistiques de Paiement"}),i.jsx("div",{className:"flex items-center justify-center h-64 bg-gray-50 rounded-lg",children:i.jsxs("div",{className:"text-center",children:[i.jsx(L0,{className:"h-12 w-12 text-gray-300 mx-auto mb-2"}),i.jsx("p",{className:"text-gray-500",children:"Graphique  implmenter"}),i.jsxs("div",{className:"mt-4 flex gap-4 justify-center text-sm",children:[i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsx("div",{className:"w-3 h-3 rounded-full bg-green-500"}),i.jsxs("span",{children:["Pay: ",m.toFixed(2)," DH"]})]}),i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsx("div",{className:"w-3 h-3 rounded-full bg-yellow-500"}),i.jsxs("span",{children:["Partiellement: ",x.toFixed(2)," DH"]})]}),i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsx("div",{className:"w-3 h-3 rounded-full bg-red-500"}),i.jsxs("span",{children:["Impay: ",g.toFixed(2)," DH"]})]})]})]})})]}),i.jsxs("div",{className:"bg-white rounded-lg border border-gray-200",children:[i.jsx("div",{className:"border-b border-gray-200",children:i.jsxs("nav",{className:"flex -mb-px",children:[i.jsxs("button",{onClick:()=>o("etudiants"),className:`px-6 py-4 text-sm font-medium border-b-2 transition-colors flex items-center gap-2 ${l==="etudiants"?"border-blue-500 text-blue-600":"border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300"}`,children:[i.jsx(fs,{className:"h-4 w-4"}),"tudiants"]}),i.jsxs("button",{onClick:()=>o("profs"),className:`px-6 py-4 text-sm font-medium border-b-2 transition-colors flex items-center gap-2 ${l==="profs"?"border-blue-500 text-blue-600":"border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300"}`,children:[i.jsx(zk,{className:"h-4 w-4"}),"Profs"]}),i.jsxs("button",{onClick:()=>o("tests"),className:`px-6 py-4 text-sm font-medium border-b-2 transition-colors flex items-center gap-2 ${l==="tests"?"border-blue-500 text-blue-600":"border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300"}`,children:[i.jsx(us,{className:"h-4 w-4"}),"Fichier Tests"]}),i.jsxs("button",{onClick:()=>o("presences"),className:`px-6 py-4 text-sm font-medium border-b-2 transition-colors flex items-center gap-2 ${l==="presences"?"border-blue-500 text-blue-600":"border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300"}`,children:[i.jsx(Ik,{className:"h-4 w-4"}),"Fiche de prsences"]})]})}),i.jsxs("div",{className:"p-6",children:[l==="etudiants"&&i.jsxs("div",{children:[i.jsxs("div",{className:"flex items-center justify-between mb-4",children:[i.jsxs("h3",{className:"text-lg font-semibold text-gray-900",children:["Liste des tudiants (",r.etudiants?.length||0,")"]}),i.jsx("button",{onClick:()=>d(!0),className:"px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors",children:"Ajouter un tudiant"})]}),r.etudiants&&r.etudiants.length>0?i.jsx("div",{className:"overflow-x-auto",children:i.jsxs("table",{className:"w-full",children:[i.jsx("thead",{className:"bg-gray-50",children:i.jsxs("tr",{children:[i.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase",children:"Nom"}),i.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase",children:"Formation"}),i.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase",children:"CIN"}),i.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase",children:"Tlphone"}),i.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase",children:"Statut Paiement"}),i.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase",children:"Montant Pay"})]})}),i.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:r.etudiants.map(b=>i.jsxs("tr",{className:"hover:bg-gray-50",children:[i.jsx("td",{className:"px-4 py-3 text-sm text-gray-900",children:b.student_name}),i.jsx("td",{className:"px-4 py-3 text-sm text-blue-600 font-medium",children:b.formation_title||"-"}),i.jsx("td",{className:"px-4 py-3 text-sm text-gray-600",children:b.student_cin}),i.jsx("td",{className:"px-4 py-3 text-sm text-gray-600",children:b.student_phone}),i.jsx("td",{className:"px-4 py-3",children:i.jsxs("span",{className:`px-2 py-1 text-xs font-medium rounded-full ${b.statut_paiement==="paye"?"bg-green-100 text-green-800":b.statut_paiement==="partiellement_paye"?"bg-yellow-100 text-yellow-800":"bg-red-100 text-red-800"}`,children:[b.statut_paiement==="paye"&&"Pay",b.statut_paiement==="partiellement_paye"&&"Partiellement",b.statut_paiement==="impaye"&&"Impay"]})}),i.jsxs("td",{className:"px-4 py-3 text-sm text-gray-900",children:[parseFloat(b.montant_paye?.toString()||"0").toFixed(2)," DH"]})]},b.id))})]})}):i.jsx("div",{className:"text-center py-12 text-gray-500",children:"Aucun tudiant inscrit"})]}),l==="profs"&&i.jsxs("div",{children:[i.jsxs("div",{className:"flex items-center justify-between mb-4",children:[i.jsxs("h3",{className:"text-lg font-semibold text-gray-900",children:["Liste des professeurs (",r.professeurs?.length||0,")"]}),i.jsx("button",{className:"px-4 py-2 bg-purple-600 text-white rounded-lg hover:bg-purple-700 transition-colors",children:"Affecter un professeur"})]}),r.professeurs&&r.professeurs.length>0?i.jsx("div",{className:"space-y-2",children:r.professeurs.map(b=>i.jsxs("div",{className:"flex items-center justify-between p-4 bg-gray-50 rounded-lg",children:[i.jsxs("div",{children:[i.jsx("div",{className:"font-medium text-gray-900",children:b.professeur_name}),i.jsx("div",{className:"text-sm text-gray-600",children:b.professeur_email})]}),i.jsx("button",{className:"text-red-600 hover:text-red-800 transition-colors",children:"Retirer"})]},b.id))}):i.jsx("div",{className:"text-center py-12 text-gray-500",children:"Aucun professeur affect"})]}),l==="tests"&&i.jsxs("div",{children:[i.jsxs("div",{className:"flex items-center justify-between mb-4",children:[i.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:"Liste des tests"}),i.jsx("button",{className:"px-4 py-2 bg-green-600 text-white rounded-lg hover:bg-green-700 transition-colors",children:"Ajouter un fichier de test"})]}),r.fichiers?.filter(b=>b.type==="test").length?i.jsx("div",{className:"space-y-2",children:r.fichiers.filter(b=>b.type==="test").map(b=>i.jsxs("div",{className:"flex items-center justify-between p-4 bg-gray-50 rounded-lg",children:[i.jsxs("div",{className:"flex items-center gap-3",children:[i.jsx(us,{className:"h-5 w-5 text-gray-400"}),i.jsxs("div",{children:[i.jsx("div",{className:"font-medium text-gray-900",children:b.titre}),b.file_name&&i.jsx("div",{className:"text-sm text-gray-600",children:b.file_name})]})]}),i.jsx("button",{className:"text-red-600 hover:text-red-800 transition-colors",children:"Supprimer"})]},b.id))}):i.jsx("div",{className:"text-center py-12 text-gray-500",children:"Aucun fichier de test"})]}),l==="presences"&&i.jsxs("div",{children:[i.jsxs("div",{className:"flex items-center justify-between mb-4",children:[i.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:"Liste des fiches de prsences"}),i.jsx("button",{className:"px-4 py-2 bg-green-600 text-white rounded-lg hover:bg-green-700 transition-colors",children:"Ajouter une fiche de prsence"})]}),r.fichiers?.filter(b=>b.type==="presence").length?i.jsx("div",{className:"space-y-2",children:r.fichiers.filter(b=>b.type==="presence").map(b=>i.jsxs("div",{className:"flex items-center justify-between p-4 bg-gray-50 rounded-lg",children:[i.jsxs("div",{className:"flex items-center gap-3",children:[i.jsx(Ik,{className:"h-5 w-5 text-gray-400"}),i.jsxs("div",{children:[i.jsx("div",{className:"font-medium text-gray-900",children:b.titre}),b.file_name&&i.jsx("div",{className:"text-sm text-gray-600",children:b.file_name})]})]}),i.jsx("button",{className:"text-red-600 hover:text-red-800 transition-colors",children:"Supprimer"})]},b.id))}):i.jsx("div",{className:"text-center py-12 text-gray-500",children:"Aucune fiche de prsence"})]})]})]})]}),u&&r?.corps_formation_id&&i.jsx(jje,{sessionId:r.id,corpsFormationId:r.corps_formation_id,onClose:()=>d(!1),onSuccess:()=>{s(),d(!1)}})]})},Aje=()=>{const e=xn(),{user:t}=Cs(),{data:r=[],isLoading:n}=OL(),a=r.filter(g=>g.students?.some(x=>x.student_id===t?.id)),s=g=>({planned:"bg-blue-100 text-blue-700",active:"bg-green-100 text-green-700",completed:"bg-gray-100 text-gray-700",cancelled:"bg-red-100 text-red-700"})[g]||"bg-gray-100 text-gray-700",l=g=>({planned:"Planifie",active:"En cours",completed:"Termine",cancelled:"Annule"})[g]||g,o=g=>new Date(g).toLocaleDateString("fr-FR",{day:"numeric",month:"long",year:"numeric"}),u=g=>{const x=new Date,b=new Date(g.start_date),v=new Date(g.end_date);return x>=b&&x<=v},d=a.filter(g=>g.status==="active"||u(g)),h=a.filter(g=>g.status==="planned"&&!u(g)),m=a.filter(g=>g.status==="completed");return i.jsx(kn,{title:`Bonjour ${t?.full_name||"tudiant"}`,subtitle:"Bienvenue sur votre portail de formation",children:i.jsxs("div",{className:"space-y-6",children:[i.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-6",children:[i.jsx("div",{className:"bg-gradient-to-br from-blue-500 to-blue-600 rounded-lg shadow-lg p-6 text-white",children:i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsxs("div",{children:[i.jsx("p",{className:"text-blue-100 text-sm font-medium",children:"Sessions inscrites"}),i.jsx("p",{className:"text-3xl font-bold mt-2",children:a.length})]}),i.jsx(Wn,{className:"h-12 w-12 text-blue-200"})]})}),i.jsx("div",{className:"bg-gradient-to-br from-green-500 to-green-600 rounded-lg shadow-lg p-6 text-white",children:i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsxs("div",{children:[i.jsx("p",{className:"text-green-100 text-sm font-medium",children:"Sessions actives"}),i.jsx("p",{className:"text-3xl font-bold mt-2",children:d.length})]}),i.jsx(G0,{className:"h-12 w-12 text-green-200"})]})}),i.jsx("div",{className:"bg-gradient-to-br from-purple-500 to-purple-600 rounded-lg shadow-lg p-6 text-white",children:i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsxs("div",{children:[i.jsx("p",{className:"text-purple-100 text-sm font-medium",children:" venir"}),i.jsx("p",{className:"text-3xl font-bold mt-2",children:h.length})]}),i.jsx(Ia,{className:"h-12 w-12 text-purple-200"})]})}),i.jsx("div",{className:"bg-gradient-to-br from-orange-500 to-orange-600 rounded-lg shadow-lg p-6 text-white",children:i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsxs("div",{children:[i.jsx("p",{className:"text-orange-100 text-sm font-medium",children:"Termines"}),i.jsx("p",{className:"text-3xl font-bold mt-2",children:m.length})]}),i.jsx(Ba,{className:"h-12 w-12 text-orange-200"})]})})]}),i.jsxs("div",{className:"bg-white rounded-lg shadow-sm border p-6",children:[i.jsx("h2",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Accs Rapide"}),i.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[i.jsxs(Xe,{onClick:()=>e("/student/catalog"),className:"flex items-center justify-center gap-2 h-16 bg-gradient-to-r from-blue-500 to-blue-600 hover:from-blue-600 hover:to-blue-700 text-white",children:[i.jsx(Wn,{className:"h-5 w-5"}),i.jsx("span",{className:"font-medium",children:"Catalogue de Formations"})]}),i.jsxs(Xe,{onClick:()=>e("/student/certificates"),className:"flex items-center justify-center gap-2 h-16 bg-gradient-to-r from-amber-500 to-amber-600 hover:from-amber-600 hover:to-amber-700 text-white",children:[i.jsx(Ba,{className:"h-5 w-5"}),i.jsx("span",{className:"font-medium",children:"Mes Certificats"})]}),d.length>0&&d[0].formation_id&&i.jsxs(Xe,{onClick:()=>e(`/student/formations/${d[0].formation_id}`),className:"flex items-center justify-center gap-2 h-16 bg-gradient-to-r from-green-500 to-green-600 hover:from-green-600 hover:to-green-700 text-white",children:[i.jsx(Sc,{className:"h-5 w-5"}),i.jsx("span",{className:"font-medium",children:"Continuer ma formation"})]})]})]}),d.length>0&&i.jsxs("div",{className:"bg-white rounded-lg shadow-sm border p-6",children:[i.jsx("div",{className:"flex items-center justify-between mb-6",children:i.jsxs("h2",{className:"text-xl font-bold text-gray-900 flex items-center gap-2",children:[i.jsx(Sc,{className:"h-6 w-6 text-green-600"}),"Sessions en cours"]})}),i.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:d.map(g=>i.jsxs("div",{className:"border border-green-200 rounded-lg p-4 hover:shadow-md transition-shadow bg-green-50",children:[i.jsxs("div",{className:"flex items-start justify-between mb-3",children:[i.jsxs("div",{className:"flex-1",children:[i.jsx("h3",{className:"font-semibold text-gray-900 mb-1",children:g.name}),g.formation_title&&i.jsxs("p",{className:"text-sm text-green-700 font-medium",children:[" ",g.formation_title]})]}),i.jsx("span",{className:`px-2 py-1 text-xs font-semibold rounded-full ${s(g.status)}`,children:l(g.status)})]}),i.jsxs("div",{className:"space-y-2 text-sm text-gray-600",children:[g.segment_name&&i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsx(fs,{className:"h-4 w-4 text-gray-400"}),i.jsx("span",{children:g.segment_name})]}),g.city_name&&i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsx(ds,{className:"h-4 w-4 text-gray-400"}),i.jsx("span",{children:g.city_name})]}),i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsx(Ia,{className:"h-4 w-4 text-gray-400"}),i.jsxs("span",{children:[o(g.start_date)," - ",o(g.end_date)]})]})]}),g.formation_id&&i.jsx("div",{className:"mt-4",children:i.jsxs(Xe,{onClick:()=>e(`/student/formations/${g.formation_id}`),className:"w-full bg-green-600 hover:bg-green-700",size:"sm",children:[i.jsx(Sc,{className:"h-4 w-4 mr-2"}),"Accder  la formation"]})})]},g.id))})]}),h.length>0&&i.jsxs("div",{className:"bg-white rounded-lg shadow-sm border p-6",children:[i.jsxs("h2",{className:"text-xl font-bold text-gray-900 mb-6 flex items-center gap-2",children:[i.jsx(Oi,{className:"h-6 w-6 text-purple-600"}),"Sessions  venir"]}),i.jsx("div",{className:"space-y-4",children:h.map(g=>i.jsx("div",{className:"border rounded-lg p-4 hover:shadow-md transition-shadow",children:i.jsxs("div",{className:"flex items-start justify-between",children:[i.jsxs("div",{className:"flex-1",children:[i.jsx("h3",{className:"font-semibold text-gray-900 mb-2",children:g.name}),g.formation_title&&i.jsxs("p",{className:"text-sm text-gray-600 mb-2",children:[" ",g.formation_title]}),i.jsxs("div",{className:"flex flex-wrap gap-4 text-sm text-gray-600",children:[g.segment_name&&i.jsxs("div",{className:"flex items-center gap-1",children:[i.jsx(fs,{className:"h-4 w-4 text-gray-400"}),i.jsx("span",{children:g.segment_name})]}),g.city_name&&i.jsxs("div",{className:"flex items-center gap-1",children:[i.jsx(ds,{className:"h-4 w-4 text-gray-400"}),i.jsx("span",{children:g.city_name})]}),i.jsxs("div",{className:"flex items-center gap-1",children:[i.jsx(Ia,{className:"h-4 w-4 text-gray-400"}),i.jsxs("span",{children:["Dbut: ",o(g.start_date)]})]})]})]}),i.jsx("span",{className:`px-2 py-1 text-xs font-semibold rounded-full ${s(g.status)}`,children:l(g.status)})]})},g.id))})]}),m.length>0&&i.jsxs("div",{className:"bg-white rounded-lg shadow-sm border p-6",children:[i.jsxs("h2",{className:"text-xl font-bold text-gray-900 mb-6 flex items-center gap-2",children:[i.jsx(Ba,{className:"h-6 w-6 text-gray-600"}),"Sessions termines"]}),i.jsx("div",{className:"space-y-4",children:m.map(g=>i.jsx("div",{className:"border rounded-lg p-4 bg-gray-50 hover:shadow-md transition-shadow",children:i.jsxs("div",{className:"flex items-start justify-between",children:[i.jsxs("div",{className:"flex-1",children:[i.jsx("h3",{className:"font-semibold text-gray-900 mb-2",children:g.name}),g.formation_title&&i.jsxs("p",{className:"text-sm text-gray-600",children:[" ",g.formation_title]})]}),i.jsx("span",{className:`px-2 py-1 text-xs font-semibold rounded-full ${s(g.status)}`,children:l(g.status)})]})},g.id))})]}),!n&&a.length===0&&i.jsxs("div",{className:"bg-white rounded-lg shadow-sm border p-12 text-center",children:[i.jsx(Wn,{className:"h-16 w-16 text-gray-400 mx-auto mb-4"}),i.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"Aucune session inscrite"}),i.jsx("p",{className:"text-gray-500 mb-6",children:"Vous n'tes inscrit  aucune session de formation pour le moment."}),i.jsx(Xe,{onClick:()=>e("/student/catalog"),children:"Parcourir le catalogue"})]}),n&&i.jsx("div",{className:"flex justify-center items-center py-12",children:i.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-blue-600"})})]})})},kje=()=>{const e=xn(),{data:t=[],isLoading:r}=_2(),[n,a]=k.useState(""),[s,l]=k.useState("all"),o=t.filter(m=>m.status==="published"),u=k.useMemo(()=>o.filter(m=>{const g=m.title.toLowerCase().includes(n.toLowerCase())||m.description?.toLowerCase().includes(n.toLowerCase()),x=s==="all"||m.level===s;return g&&x}),[o,n,s]),d=m=>{const x=m?{debutant:{bg:"bg-green-100",text:"text-green-700",label:"Dbutant"},intermediaire:{bg:"bg-yellow-100",text:"text-yellow-700",label:"Intermdiaire"},avance:{bg:"bg-red-100",text:"text-red-700",label:"Avanc"}}[m]:{bg:"bg-gray-100",text:"text-gray-700",label:"N/A"};return i.jsx("span",{className:`px-2 py-1 inline-flex text-xs leading-5 font-semibold rounded-full ${x.bg} ${x.text}`,children:x.label})},h=m=>m==="debutant"?i.jsx(G0,{className:"h-4 w-4 text-green-600"}):m==="intermediaire"?i.jsx(G0,{className:"h-4 w-4 text-yellow-600"}):m==="avance"?i.jsx(Ba,{className:"h-4 w-4 text-red-600"}):i.jsx(Wn,{className:"h-4 w-4 text-gray-400"});return i.jsx(kn,{title:"Catalogue de formations",subtitle:"Explorez nos formations disponibles",children:i.jsxs("div",{className:"space-y-6",children:[i.jsx("div",{className:"bg-gradient-to-r from-blue-500 to-purple-600 rounded-lg shadow-lg p-6 text-white",children:i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsxs("div",{children:[i.jsxs("h2",{className:"text-2xl font-bold mb-2",children:[o.length," formations disponibles"]}),i.jsx("p",{className:"text-blue-100",children:"Dveloppez vos comptences avec nos formations en ligne"})]}),i.jsx(Wn,{className:"h-16 w-16 text-blue-200 opacity-50"})]})}),i.jsxs("div",{className:"bg-white rounded-lg shadow-sm border p-6",children:[i.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[i.jsxs("div",{children:[i.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:[i.jsx(mh,{className:"h-4 w-4 inline mr-2"}),"Rechercher"]}),i.jsx("input",{type:"text",value:n,onChange:m=>a(m.target.value),placeholder:"Titre ou description...",className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent"})]}),i.jsxs("div",{children:[i.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:[i.jsx(h2,{className:"h-4 w-4 inline mr-2"}),"Niveau"]}),i.jsxs("select",{value:s,onChange:m=>l(m.target.value),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",children:[i.jsx("option",{value:"all",children:"Tous les niveaux"}),i.jsx("option",{value:"debutant",children:"Dbutant"}),i.jsx("option",{value:"intermediaire",children:"Intermdiaire"}),i.jsx("option",{value:"avance",children:"Avanc"})]})]})]}),(n||s!=="all")&&i.jsxs("div",{className:"mt-4 flex items-center gap-2",children:[i.jsx("span",{className:"text-sm text-gray-600",children:"Filtres actifs:"}),n&&i.jsxs("span",{className:"px-2 py-1 bg-blue-100 text-blue-700 rounded text-xs",children:['Recherche: "',n,'"']}),s!=="all"&&i.jsxs("span",{className:"px-2 py-1 bg-purple-100 text-purple-700 rounded text-xs",children:["Niveau: ",d(s).props.children]}),i.jsx("button",{onClick:()=>{a(""),l("all")},className:"text-xs text-red-600 hover:text-red-700",children:"Effacer les filtres"})]})]}),i.jsx("div",{className:"flex items-center justify-between",children:i.jsxs("p",{className:"text-sm text-gray-600",children:[u.length," formation(s) trouve(s)"]})}),r?i.jsx("div",{className:"flex justify-center items-center py-12",children:i.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-blue-600"})}):u.length===0?i.jsxs("div",{className:"bg-white rounded-lg shadow-sm border p-12 text-center",children:[i.jsx(Wn,{className:"h-16 w-16 text-gray-400 mx-auto mb-4"}),i.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"Aucune formation trouve"}),i.jsx("p",{className:"text-gray-500 mb-6",children:n||s!=="all"?"Essayez de modifier vos critres de recherche":"Aucune formation publie pour le moment"}),(n||s!=="all")&&i.jsx(Xe,{onClick:()=>{a(""),l("all")},variant:"outline",children:"Effacer les filtres"})]}):i.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:u.map(m=>i.jsxs("div",{className:"bg-white rounded-lg shadow-sm border hover:shadow-lg transition-all duration-200 overflow-hidden group",children:[i.jsxs("div",{className:"h-48 bg-gradient-to-br from-blue-500 to-purple-600 relative overflow-hidden",children:[m.thumbnail_url?i.jsx("img",{src:m.thumbnail_url,alt:m.title,className:"w-full h-full object-cover group-hover:scale-105 transition-transform duration-200"}):i.jsx("div",{className:"flex items-center justify-center h-full",children:i.jsx(Wn,{className:"h-16 w-16 text-white opacity-50"})}),i.jsx("div",{className:"absolute top-3 right-3",children:d(m.level)})]}),i.jsxs("div",{className:"p-6",children:[i.jsx("h3",{className:"text-lg font-bold text-gray-900 mb-2 line-clamp-2 group-hover:text-blue-600 transition-colors",children:m.title}),m.description&&i.jsx("p",{className:"text-sm text-gray-600 mb-4 line-clamp-3",children:m.description}),i.jsxs("div",{className:"space-y-2 mb-4",children:[m.duration_hours&&i.jsxs("div",{className:"flex items-center gap-2 text-sm text-gray-600",children:[i.jsx(Oi,{className:"h-4 w-4 text-gray-400"}),i.jsxs("span",{children:[m.duration_hours,"h de contenu"]})]}),i.jsxs("div",{className:"flex items-center gap-2 text-sm text-gray-600",children:[h(m.level),i.jsxs("span",{children:["Niveau ",m.level||"N/A"]})]}),m.module_count!==void 0&&i.jsxs("div",{className:"flex items-center gap-2 text-sm text-gray-600",children:[i.jsx(Sc,{className:"h-4 w-4 text-gray-400"}),i.jsxs("span",{children:[m.module_count," module(s)"]})]}),m.passing_score_percentage!==void 0&&i.jsxs("div",{className:"flex items-center gap-2 text-sm text-gray-600",children:[i.jsx(Za,{className:"h-4 w-4 text-gray-400"}),i.jsxs("span",{children:["Score de russite: ",m.passing_score_percentage,"%"]})]})]}),m.price!==void 0&&m.price!==null&&Number(m.price)>0&&i.jsx("div",{className:"mb-4 pb-4 border-b",children:i.jsx("p",{className:"text-2xl font-bold text-blue-600",children:FL(m.price)})}),i.jsxs(Xe,{onClick:()=>e(`/student/formations/${m.id}`),className:"w-full bg-blue-600 hover:bg-blue-700",children:[i.jsx(Sc,{className:"h-4 w-4 mr-2"}),"Voir la formation"]})]})]},m.id))})]})})},fb={async markVideoComplete(e){return $e.post(`/progress/videos/${e}/complete`,{})},async recordVideoWatch(e){return $e.post(`/progress/videos/${e}/watch`,{})},async getFormationVideoProgress(e){return $e.get(`/progress/formations/${e}/videos`)},async submitTestAttempt(e,t){return $e.post(`/progress/tests/${e}/attempts`,t)},async getTestAttempts(e){return $e.get(`/progress/tests/${e}/attempts`)},async getFormationTestAttempts(e){return $e.get(`/progress/formations/${e}/tests`)},async getFormationProgress(e){return $e.get(`/progress/formations/${e}`)},async getStudentTranscript(e){return $e.get(`/progress/student/${e}/transcript`)}};function Eje(){const e=Tt();return Ot({mutationFn:t=>fb.markVideoComplete(t),onSuccess:()=>{e.invalidateQueries({queryKey:["video-progress"]}),e.invalidateQueries({queryKey:["formation-progress"]})}})}function Cje(e){return Jt({queryKey:["video-progress",e],queryFn:()=>{if(!e)throw new Error("Formation ID required");return fb.getFormationVideoProgress(e)},enabled:!!e})}function Tje(){const e=Tt();return Ot({mutationFn:({testId:t,data:r})=>fb.submitTestAttempt(t,r),onSuccess:(t,r)=>{e.invalidateQueries({queryKey:["test-attempts",r.testId]}),e.invalidateQueries({queryKey:["test-attempts-formation"]}),e.invalidateQueries({queryKey:["formation-progress"]}),e.invalidateQueries({queryKey:["transcript"]})}})}function Oje(e){return Jt({queryKey:["formation-progress",e],queryFn:()=>{if(!e)throw new Error("Formation ID required");return fb.getFormationProgress(e)},enabled:!!e,staleTime:1e3*60*5})}const Fje=()=>{const{id:e}=io(),t=xn(),{user:r}=Cs(),{data:n,isLoading:a,error:s}=mp(e),{data:l}=Oje(e),{data:o}=CU(r?.id||null),[u,d]=k.useState(new Set),h=o?.certificates.some(T=>T.formation_id===e)||!1,m=T=>{const O=new Set(u);O.has(T)?O.delete(T):O.add(T),d(O)},g=T=>l?.video_progress.some(O=>O.video_id===T&&O.completed_at)||!1,x=T=>l?.test_attempts.some(O=>O.test_id===T&&O.passed)||!1,b=T=>{const O={debutant:{bg:"bg-green-100",text:"text-green-700",label:"Dbutant"},intermediaire:{bg:"bg-yellow-100",text:"text-yellow-700",label:"Intermdiaire"},avance:{bg:"bg-red-100",text:"text-red-700",label:"Avanc"}},D=T&&T in O?O[T]:{bg:"bg-gray-100",text:"text-gray-700",label:"N/A"};return i.jsx("span",{className:`px-2 py-1 inline-flex text-xs leading-5 font-semibold rounded-full ${D.bg} ${D.text}`,children:D.label})},v=T=>T==="video"?i.jsx(Sc,{className:"h-5 w-5 text-purple-600"}):T==="test"?i.jsx(ld,{className:"h-5 w-5 text-orange-600"}):i.jsx(Wn,{className:"h-5 w-5 text-blue-600"}),w=(T,O)=>(!T.prerequisite_module_id||!O.find(C=>C.id===T.prerequisite_module_id),!0);if(a)return i.jsx(kn,{title:"Chargement...",subtitle:"Chargement de la formation",children:i.jsx("div",{className:"flex justify-center items-center py-12",children:i.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-blue-600"})})});if(s||!n)return i.jsx(kn,{title:"Erreur",subtitle:"Formation introuvable",children:i.jsxs("div",{className:"bg-red-50 border border-red-200 rounded-lg p-6 text-center",children:[i.jsx("p",{className:"text-red-800 mb-4",children:s?.message||"Cette formation n'existe pas ou n'est pas disponible."}),i.jsxs(Xe,{onClick:()=>t("/student/catalog"),variant:"outline",children:[i.jsx($n,{className:"h-4 w-4 mr-2"}),"Retour au catalogue"]})]})});const N=n.modules||[],E=N.reduce((T,O)=>T+(O.videos?.length||0),0),j=N.reduce((T,O)=>T+(O.tests?.length||0),0);return i.jsx(kn,{title:n.title,subtitle:"Contenu de la formation",children:i.jsxs("div",{className:"space-y-6",children:[i.jsxs("div",{className:"bg-white rounded-lg shadow-sm border p-6",children:[i.jsxs(Xe,{variant:"ghost",size:"sm",onClick:()=>t("/student/catalog"),className:"mb-4",children:[i.jsx($n,{className:"h-4 w-4 mr-2"}),"Retour au catalogue"]}),i.jsxs("div",{className:"flex items-start gap-6",children:[i.jsx("div",{className:"hidden md:block",children:n.thumbnail_url?i.jsx("img",{src:n.thumbnail_url,alt:n.title,className:"w-48 h-32 object-cover rounded-lg"}):i.jsx("div",{className:"w-48 h-32 bg-gradient-to-br from-blue-500 to-purple-600 rounded-lg flex items-center justify-center",children:i.jsx(Wn,{className:"h-12 w-12 text-white opacity-50"})})}),i.jsxs("div",{className:"flex-1",children:[i.jsxs("div",{className:"flex items-center gap-3 mb-3",children:[i.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:n.title}),b(n.level)]}),n.description&&i.jsx("p",{className:"text-gray-600 mb-4",children:n.description}),i.jsxs("div",{className:"flex flex-wrap gap-6 text-sm text-gray-600",children:[n.duration_hours&&i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsx(Oi,{className:"h-4 w-4 text-gray-400"}),i.jsxs("span",{children:[n.duration_hours,"h de contenu"]})]}),i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsx(Wn,{className:"h-4 w-4 text-gray-400"}),i.jsxs("span",{children:[N.length," module(s)"]})]}),i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsx(Sc,{className:"h-4 w-4 text-gray-400"}),i.jsxs("span",{children:[E," vido(s)"]})]}),i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsx(ld,{className:"h-4 w-4 text-gray-400"}),i.jsxs("span",{children:[j," test(s)"]})]}),i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsx(Ba,{className:"h-4 w-4 text-gray-400"}),i.jsxs("span",{children:["Score de russite: ",n.passing_score_percentage,"%"]})]})]})]})]})]}),l&&i.jsxs("div",{className:"bg-white rounded-lg shadow-sm border p-6",children:[i.jsx("h2",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Votre progression"}),i.jsx("div",{className:"mb-6",children:i.jsx(o2,{progress:l.summary.overall_progress,label:"Progression globale",color:"purple",size:"lg"})}),h&&i.jsx("div",{className:"mb-6",children:i.jsx("div",{onClick:()=>t("/student/certificates"),className:"bg-gradient-to-r from-amber-50 to-amber-100 border-2 border-amber-300 rounded-lg p-4 cursor-pointer hover:shadow-md transition-all",children:i.jsxs("div",{className:"flex items-center gap-4",children:[i.jsx("div",{className:"bg-amber-500 p-3 rounded-full",children:i.jsx(Ba,{className:"h-6 w-6 text-white"})}),i.jsxs("div",{className:"flex-1",children:[i.jsx("h3",{className:"font-semibold text-amber-900 mb-1",children:" Certificat disponible !"}),i.jsx("p",{className:"text-sm text-amber-700",children:"Flicitations ! Vous avez termin cette formation. Cliquez ici pour tlcharger votre certificat."})]}),i.jsx(Bo,{className:"h-5 w-5 text-amber-600"})]})})}),i.jsx("div",{className:"mb-6",children:i.jsx("div",{onClick:()=>t(`/student/forums/${e}`),className:"bg-gradient-to-r from-blue-50 to-purple-50 border-2 border-blue-300 rounded-lg p-4 cursor-pointer hover:shadow-md transition-all",children:i.jsxs("div",{className:"flex items-center gap-4",children:[i.jsx("div",{className:"bg-gradient-to-br from-blue-500 to-purple-600 p-3 rounded-full",children:i.jsx(el,{className:"h-6 w-6 text-white"})}),i.jsxs("div",{className:"flex-1",children:[i.jsx("h3",{className:"font-semibold text-blue-900 mb-1",children:" Forum de discussion"}),i.jsx("p",{className:"text-sm text-blue-700",children:"Posez vos questions, partagez vos ides et discutez avec les autres tudiants."})]}),i.jsx(Bo,{className:"h-5 w-5 text-blue-600"})]})})}),i.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[i.jsx(_F,{completed:l.summary.completed_videos,total:l.summary.total_videos,label:"Vidos termines",color:"blue"}),i.jsx(_F,{completed:l.summary.passed_tests,total:l.summary.total_tests,label:"Tests russis",color:"green"})]})]}),N.length===0?i.jsxs("div",{className:"bg-white rounded-lg shadow-sm border p-12 text-center",children:[i.jsx(Wn,{className:"h-16 w-16 text-gray-400 mx-auto mb-4"}),i.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"Aucun contenu disponible"}),i.jsx("p",{className:"text-gray-500",children:"Cette formation n'a pas encore de contenu. Revenez plus tard."})]}):i.jsxs("div",{className:"bg-white rounded-lg shadow-sm border",children:[i.jsxs("div",{className:"p-6 border-b",children:[i.jsx("h2",{className:"text-xl font-bold text-gray-900",children:"Contenu de la formation"}),i.jsx("p",{className:"text-sm text-gray-600 mt-1",children:"Cliquez sur un module pour voir son contenu"})]}),i.jsx("div",{className:"divide-y",children:N.map((T,O)=>{const D=u.has(T.id),C=w(T,N),P=T.videos||[],B=T.tests||[],H=P.length>0||B.length>0;return i.jsxs("div",{children:[i.jsx("div",{className:`p-4 hover:bg-gray-50 transition-colors ${C?"cursor-pointer":"opacity-60"}`,onClick:()=>C&&H&&m(T.id),children:i.jsxs("div",{className:"flex items-center gap-3",children:[H?i.jsx("button",{className:"text-gray-400 hover:text-gray-600",children:D?i.jsx(Af,{className:"h-5 w-5"}):i.jsx(Bo,{className:"h-5 w-5"})}):i.jsx("div",{className:"w-5"}),v(T.module_type),i.jsxs("div",{className:"flex-1 min-w-0",children:[i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsxs("span",{className:"text-sm font-medium text-gray-500",children:["Module ",O+1]}),!C&&i.jsx(Kx,{className:"h-4 w-4 text-gray-400"})]}),i.jsx("h3",{className:"text-base font-semibold text-gray-900",children:T.title}),T.description&&i.jsx("p",{className:"text-sm text-gray-600 mt-1 line-clamp-2",children:T.description})]}),i.jsxs("div",{className:"text-sm text-gray-500",children:[P.length>0&&i.jsxs("span",{className:"mr-3",children:[P.length," vido(s)"]}),B.length>0&&i.jsxs("span",{children:[B.length," test(s)"]})]})]})}),D&&H&&i.jsxs("div",{className:"bg-gray-50 px-4 py-3 space-y-2",children:[P.map((L,U)=>{const V=g(L.id);return i.jsx("div",{className:`bg-white rounded-lg border p-3 hover:shadow-md transition-shadow cursor-pointer ${V?"border-green-300 bg-green-50":"border-purple-200"}`,onClick:()=>t(`/student/formations/${n.id}/videos/${L.id}`),children:i.jsxs("div",{className:"flex items-center gap-3",children:[i.jsx(Sc,{className:`h-5 w-5 flex-shrink-0 ${V?"text-green-600":"text-purple-600"}`}),i.jsxs("div",{className:"flex-1 min-w-0",children:[i.jsxs("p",{className:"text-sm font-medium text-gray-900",children:["Vido ",U+1,": ",L.title]}),L.duration_seconds&&i.jsxs("p",{className:"text-xs text-gray-500",children:["Dure: ",Math.floor(L.duration_seconds/60)," min"," ",L.duration_seconds%60," sec"]})]}),V?i.jsx(Za,{className:"h-5 w-5 text-green-600 flex-shrink-0"}):i.jsx(Bo,{className:"h-5 w-5 text-gray-400"})]})},L.id)}),B.map((L,U)=>{const V=x(L.id);return i.jsx("div",{className:`bg-white rounded-lg border p-3 hover:shadow-md transition-shadow cursor-pointer ${V?"border-green-300 bg-green-50":"border-orange-200"}`,onClick:()=>t(`/student/formations/${n.id}/tests/${L.id}`),children:i.jsxs("div",{className:"flex items-center gap-3",children:[i.jsx(ld,{className:`h-5 w-5 flex-shrink-0 ${V?"text-green-600":"text-orange-600"}`}),i.jsxs("div",{className:"flex-1 min-w-0",children:[i.jsxs("p",{className:"text-sm font-medium text-gray-900",children:["Test ",U+1,": ",L.title]}),i.jsxs("div",{className:"flex items-center gap-3 text-xs text-gray-500 mt-1",children:[L.questions&&i.jsxs("span",{children:[L.questions.length," question(s)"]}),L.time_limit_minutes&&i.jsxs("span",{children:[" ",L.time_limit_minutes," min"]}),i.jsxs("span",{children:["Score min: ",L.passing_score,"%"]})]})]}),V?i.jsx(Za,{className:"h-5 w-5 text-green-600 flex-shrink-0"}):i.jsx(Bo,{className:"h-5 w-5 text-gray-400"})]})},L.id)})]})]},T.id)})})]})]})})},Dje=()=>{const{id:e,videoId:t}=io(),r=xn(),{data:n,isLoading:a,error:s}=mp(e),{data:l}=Cje(e),o=Eje(),u=n?.modules?.flatMap(j=>j.videos||[]).find(j=>j.id===t),d=n?.modules?.find(j=>j.videos?.some(T=>T.id===t)),h=[];n?.modules?.forEach(j=>{j.videos?.forEach(T=>{h.push({video:T,module:j})})});const m=h.findIndex(j=>j.video.id===t),g=m>0?h[m-1]:null,x=m<h.length-1?h[m+1]:null,b=j=>{if(!j)return null;const T=[/(?:youtube\.com\/watch\?v=)([^&]+)/,/(?:youtu\.be\/)([^?]+)/,/(?:youtube\.com\/embed\/)([^?]+)/];for(const O of T){const D=j.match(O);if(D)return D[1]}return null},v=u?.youtube_url?b(u.youtube_url):null,w=j=>{const T=Math.floor(j/60),O=j%60;return`${T}:${O.toString().padStart(2,"0")}`},N=l?.some(j=>j.video_id===t&&j.completed_at)||!1,E=async()=>{if(!(!t||N))try{await o.mutateAsync(t)}catch(j){console.error("Erreur lors du marquage de la vido:",j)}};return k.useEffect(()=>{t&&console.log("Vido en cours de visionnage:",t)},[t]),a?i.jsx(kn,{title:"Chargement...",subtitle:"Chargement de la vido",children:i.jsx("div",{className:"flex justify-center items-center py-12",children:i.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-blue-600"})})}):s||!n||!u?i.jsx(kn,{title:"Erreur",subtitle:"Vido introuvable",children:i.jsxs("div",{className:"bg-red-50 border border-red-200 rounded-lg p-6 text-center",children:[i.jsx("p",{className:"text-red-800 mb-4",children:s?.message||"Cette vido n'existe pas ou n'est pas disponible."}),i.jsxs(Xe,{onClick:()=>r(e?`/student/formations/${e}`:"/student/catalog"),variant:"outline",children:[i.jsx($n,{className:"h-4 w-4 mr-2"}),"Retour"]})]})}):i.jsx(kn,{title:u.title,subtitle:n.title,children:i.jsxs("div",{className:"space-y-6",children:[i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsxs(Xe,{variant:"ghost",size:"sm",onClick:()=>r(`/student/formations/${e}`),children:[i.jsx($n,{className:"h-4 w-4 mr-2"}),"Retour  la formation"]}),N?i.jsxs("div",{className:"flex items-center gap-2 text-green-600 font-medium text-sm",children:[i.jsx(Za,{className:"h-5 w-5"}),i.jsx("span",{children:"Vido termine"})]}):i.jsxs(Xe,{onClick:E,disabled:o.isPending,className:"bg-green-600 hover:bg-green-700",children:[i.jsx(Za,{className:"h-4 w-4 mr-2"}),o.isPending?"Enregistrement...":"Marquer comme termin"]})]}),i.jsx("div",{className:"bg-white rounded-lg shadow-sm border overflow-hidden",children:v?i.jsx("div",{className:"relative",style:{paddingBottom:"56.25%"},children:i.jsx("iframe",{className:"absolute top-0 left-0 w-full h-full",src:`https://www.youtube.com/embed/${v}?rel=0`,title:u.title,allow:"accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture",allowFullScreen:!0})}):i.jsx("div",{className:"aspect-video bg-gray-900 flex items-center justify-center",children:i.jsxs("div",{className:"text-center text-white",children:[i.jsx(Sc,{className:"h-16 w-16 mx-auto mb-4 opacity-50"}),i.jsx("p",{className:"text-lg font-medium",children:"URL de vido non disponible"}),i.jsx("p",{className:"text-sm text-gray-400 mt-2",children:u.youtube_url||"Aucune URL configure"})]})})}),i.jsxs("div",{className:"bg-white rounded-lg shadow-sm border p-6",children:[i.jsxs("div",{className:"flex items-start justify-between mb-4",children:[i.jsxs("div",{className:"flex-1",children:[i.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[i.jsx(Sc,{className:"h-5 w-5 text-purple-600"}),i.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:u.title})]}),d&&i.jsxs("div",{className:"flex items-center gap-2 text-sm text-gray-600",children:[i.jsx(Wn,{className:"h-4 w-4 text-gray-400"}),i.jsx("span",{children:d.title})]})]}),u.duration_seconds&&i.jsxs("div",{className:"flex items-center gap-2 text-sm text-gray-600 bg-gray-100 px-3 py-2 rounded-lg",children:[i.jsx(Oi,{className:"h-4 w-4 text-gray-400"}),i.jsx("span",{children:w(u.duration_seconds)})]})]}),u.description&&i.jsxs("div",{className:"border-t pt-4",children:[i.jsx("h3",{className:"text-sm font-semibold text-gray-900 mb-2",children:"Description"}),i.jsx("p",{className:"text-gray-600 whitespace-pre-wrap",children:u.description})]})]}),(g||x)&&i.jsxs("div",{className:"bg-white rounded-lg shadow-sm border p-6",children:[i.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Navigation"}),i.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[g?i.jsxs("button",{onClick:()=>r(`/student/formations/${e}/videos/${g.video.id}`),className:"flex items-center gap-3 p-4 border border-gray-300 rounded-lg hover:bg-gray-50 hover:border-gray-400 transition-all text-left",children:[i.jsx(W_,{className:"h-5 w-5 text-gray-400 flex-shrink-0"}),i.jsxs("div",{className:"flex-1 min-w-0",children:[i.jsx("p",{className:"text-xs text-gray-500 mb-1",children:"Vido prcdente"}),i.jsx("p",{className:"text-sm font-medium text-gray-900 truncate",children:g.video.title}),i.jsx("p",{className:"text-xs text-gray-500 mt-1",children:g.module.title})]})]}):i.jsx("div",{className:"p-4 border border-gray-200 rounded-lg bg-gray-50 flex items-center justify-center",children:i.jsx("p",{className:"text-sm text-gray-400",children:"Premire vido"})}),x?i.jsxs("button",{onClick:()=>r(`/student/formations/${e}/videos/${x.video.id}`),className:"flex items-center gap-3 p-4 border border-gray-300 rounded-lg hover:bg-gray-50 hover:border-gray-400 transition-all text-left",children:[i.jsxs("div",{className:"flex-1 min-w-0",children:[i.jsx("p",{className:"text-xs text-gray-500 mb-1",children:"Vido suivante"}),i.jsx("p",{className:"text-sm font-medium text-gray-900 truncate",children:x.video.title}),i.jsx("p",{className:"text-xs text-gray-500 mt-1",children:x.module.title})]}),i.jsx(Bo,{className:"h-5 w-5 text-gray-400 flex-shrink-0"})]}):i.jsx("div",{className:"p-4 border border-gray-200 rounded-lg bg-gray-50 flex items-center justify-center",children:i.jsx("p",{className:"text-sm text-gray-400",children:"Dernire vido"})})]})]}),i.jsxs("div",{className:"bg-white rounded-lg shadow-sm border p-6",children:[i.jsxs("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:["Toutes les vidos (",h.length,")"]}),i.jsx("div",{className:"space-y-2",children:h.map(({video:j,module:T},O)=>i.jsxs("button",{onClick:()=>r(`/student/formations/${e}/videos/${j.id}`),className:`w-full flex items-center gap-3 p-3 rounded-lg border transition-all text-left ${j.id===t?"bg-purple-50 border-purple-300 shadow-sm":"border-gray-200 hover:bg-gray-50 hover:border-gray-300"}`,children:[i.jsx("div",{className:`flex items-center justify-center w-8 h-8 rounded-full flex-shrink-0 ${j.id===t?"bg-purple-600 text-white":"bg-gray-100 text-gray-600"}`,children:j.id===t?i.jsx(Sc,{className:"h-4 w-4"}):i.jsx("span",{className:"text-sm font-medium",children:O+1})}),i.jsxs("div",{className:"flex-1 min-w-0",children:[i.jsx("p",{className:`text-sm font-medium truncate ${j.id===t?"text-purple-900":"text-gray-900"}`,children:j.title}),i.jsx("p",{className:"text-xs text-gray-500 mt-0.5",children:T.title})]}),j.duration_seconds&&i.jsxs("div",{className:"text-xs text-gray-500 flex items-center gap-1",children:[i.jsx(Oi,{className:"h-3 w-3"}),w(j.duration_seconds)]})]},j.id))})]})]})})},Pje=()=>{const{id:e,testId:t}=io(),r=xn(),{data:n,isLoading:a,error:s}=mp(e),l=Tje(),[o,u]=k.useState({}),[d,h]=k.useState(!1),[m,g]=k.useState(null),[x]=k.useState(new Date),b=n?.modules?.flatMap(C=>C.tests||[]).find(C=>C.id===t),v=n?.modules?.find(C=>C.tests?.some(P=>P.id===t)),w=b?.questions||[];k.useEffect(()=>{if(b?.time_limit_minutes&&!d){g(b.time_limit_minutes*60);const C=setInterval(()=>{g(P=>P===null||P<=0?(clearInterval(C),d||E(),0):P-1)},1e3);return()=>clearInterval(C)}},[b,d]);const N=(C,P)=>{d||u(B=>({...B,[C]:P}))},E=async()=>{if(d||!t)return;const C=w.filter(U=>!o[U.id]).length;if(C>0&&!window.confirm(`${C} question(s) non rpondue(s). Voulez-vous vraiment soumettre le test ?`))return;h(!0);let P=0,B=0;w.forEach(U=>{P+=U.points;const V=o[U.id];V&&U.choices.find(de=>de.id===V)?.is_correct&&(B+=U.points)});const L=(P>0?B/P*100:0)>=(b?.passing_score||70);try{await l.mutateAsync({testId:t,data:{answers:o,score:B,total_points:P,passed:L}})}catch(U){console.error("Erreur lors de l'enregistrement de la tentative:",U)}},j=()=>{let C=0,P=0,B=0;w.forEach(U=>{P+=U.points;const V=o[U.id];V&&U.choices.find(de=>de.id===V)?.is_correct&&(C++,B+=U.points)});const H=w.length>0?C/w.length*100:0,L=P>0?B/P*100:0;return{correctCount:C,totalQuestions:w.length,percentage:Math.round(H),earnedPoints:B,totalPoints:P,pointsPercentage:Math.round(L),passed:L>=(b?.passing_score||70)}},T=C=>{const P=Math.floor(C/60),B=C%60;return`${P}:${B.toString().padStart(2,"0")}`},O=()=>{if(!d)return"";const P=Math.floor((new Date().getTime()-x.getTime())/1e3);return T(P)},D=d?j():null;return a?i.jsx(kn,{title:"Chargement...",subtitle:"Chargement du test",children:i.jsx("div",{className:"flex justify-center items-center py-12",children:i.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-blue-600"})})}):s||!n||!b?i.jsx(kn,{title:"Erreur",subtitle:"Test introuvable",children:i.jsxs("div",{className:"bg-red-50 border border-red-200 rounded-lg p-6 text-center",children:[i.jsx("p",{className:"text-red-800 mb-4",children:s?.message||"Ce test n'existe pas ou n'est pas disponible."}),i.jsxs(Xe,{onClick:()=>r(e?`/student/formations/${e}`:"/student/catalog"),variant:"outline",children:[i.jsx($n,{className:"h-4 w-4 mr-2"}),"Retour"]})]})}):i.jsx(kn,{title:b.title,subtitle:n.title,children:i.jsxs("div",{className:"space-y-6",children:[i.jsxs("div",{className:"bg-white rounded-lg shadow-sm border p-6",children:[i.jsxs("div",{className:"flex items-center justify-between mb-4",children:[i.jsxs(Xe,{variant:"ghost",size:"sm",onClick:()=>r(`/student/formations/${e}`),disabled:!d,children:[i.jsx($n,{className:"h-4 w-4 mr-2"}),"Retour  la formation"]}),!d&&m!==null&&i.jsxs("div",{className:`flex items-center gap-2 px-4 py-2 rounded-lg font-medium ${m<60?"bg-red-100 text-red-700":m<300?"bg-yellow-100 text-yellow-700":"bg-blue-100 text-blue-700"}`,children:[i.jsx(Oi,{className:"h-4 w-4"}),i.jsx("span",{children:T(m)})]})]}),i.jsxs("div",{className:"flex items-start gap-4",children:[i.jsx(ld,{className:"h-6 w-6 text-orange-600 flex-shrink-0 mt-1"}),i.jsxs("div",{className:"flex-1",children:[i.jsx("h1",{className:"text-2xl font-bold text-gray-900 mb-2",children:b.title}),v&&i.jsxs("div",{className:"flex items-center gap-2 text-sm text-gray-600 mb-3",children:[i.jsx(Wn,{className:"h-4 w-4 text-gray-400"}),i.jsx("span",{children:v.title})]}),b.description&&i.jsx("p",{className:"text-gray-600 mb-3",children:b.description}),i.jsxs("div",{className:"flex flex-wrap gap-4 text-sm text-gray-600",children:[i.jsxs("div",{className:"flex items-center gap-1",children:[i.jsx(ld,{className:"h-4 w-4 text-gray-400"}),i.jsxs("span",{children:[w.length," questions"]})]}),b.time_limit_minutes&&i.jsxs("div",{className:"flex items-center gap-1",children:[i.jsx(Oi,{className:"h-4 w-4 text-gray-400"}),i.jsxs("span",{children:[b.time_limit_minutes," min"]})]}),i.jsxs("div",{className:"flex items-center gap-1",children:[i.jsx(Ba,{className:"h-4 w-4 text-gray-400"}),i.jsxs("span",{children:["Score minimum: ",b.passing_score,"%"]})]})]})]})]})]}),d&&D&&i.jsxs("div",{className:`rounded-lg shadow-sm border p-6 ${D.passed?"bg-green-50 border-green-200":"bg-red-50 border-red-200"}`,children:[i.jsxs("div",{className:"flex items-center gap-3 mb-4",children:[D.passed?i.jsx(Za,{className:"h-8 w-8 text-green-600"}):i.jsx(xd,{className:"h-8 w-8 text-red-600"}),i.jsxs("div",{children:[i.jsx("h2",{className:`text-xl font-bold ${D.passed?"text-green-900":"text-red-900"}`,children:D.passed?"Test russi !":"Test chou"}),i.jsxs("p",{className:D.passed?"text-green-700":"text-red-700",children:["Score: ",D.pointsPercentage,"% (",D.earnedPoints,"/",D.totalPoints," points)"]})]})]}),i.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4 mt-4",children:[i.jsxs("div",{className:"bg-white rounded-lg p-3 border border-gray-200",children:[i.jsx("p",{className:"text-xs text-gray-500 mb-1",children:"Bonnes rponses"}),i.jsxs("p",{className:"text-lg font-semibold text-gray-900",children:[D.correctCount,"/",D.totalQuestions]})]}),i.jsxs("div",{className:"bg-white rounded-lg p-3 border border-gray-200",children:[i.jsx("p",{className:"text-xs text-gray-500 mb-1",children:"Pourcentage"}),i.jsxs("p",{className:"text-lg font-semibold text-gray-900",children:[D.percentage,"%"]})]}),i.jsxs("div",{className:"bg-white rounded-lg p-3 border border-gray-200",children:[i.jsx("p",{className:"text-xs text-gray-500 mb-1",children:"Points obtenus"}),i.jsxs("p",{className:"text-lg font-semibold text-gray-900",children:[D.earnedPoints,"/",D.totalPoints]})]}),i.jsxs("div",{className:"bg-white rounded-lg p-3 border border-gray-200",children:[i.jsx("p",{className:"text-xs text-gray-500 mb-1",children:"Temps coul"}),i.jsx("p",{className:"text-lg font-semibold text-gray-900",children:O()})]})]})]}),w.length===0?i.jsxs("div",{className:"bg-white rounded-lg shadow-sm border p-12 text-center",children:[i.jsx(ld,{className:"h-16 w-16 text-gray-400 mx-auto mb-4"}),i.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"Aucune question"}),i.jsx("p",{className:"text-gray-500",children:"Ce test n'a pas encore de questions."})]}):i.jsx("div",{className:"space-y-6",children:w.map((C,P)=>{const B=o[C.id],L=C.choices.find(U=>U.id===B)?.is_correct||!1;return i.jsxs("div",{className:"bg-white rounded-lg shadow-sm border p-6",children:[i.jsxs("div",{className:"flex items-start gap-3 mb-4",children:[i.jsx("div",{className:`flex items-center justify-center w-8 h-8 rounded-full flex-shrink-0 ${d?L?"bg-green-100 text-green-700":B?"bg-red-100 text-red-700":"bg-gray-100 text-gray-700":"bg-blue-100 text-blue-700"}`,children:d?L?i.jsx(Za,{className:"h-4 w-4"}):B?i.jsx(xd,{className:"h-4 w-4"}):i.jsx(i4,{className:"h-4 w-4"}):i.jsx("span",{className:"text-sm font-medium",children:P+1})}),i.jsxs("div",{className:"flex-1",children:[i.jsxs("div",{className:"flex items-center justify-between mb-2",children:[i.jsxs("h3",{className:"text-base font-semibold text-gray-900",children:["Question ",P+1]}),i.jsxs("span",{className:"text-sm text-gray-500",children:[C.points," pts"]})]}),i.jsx("p",{className:"text-gray-700",children:C.question_text})]})]}),i.jsx("div",{className:"space-y-2 ml-11",children:C.choices.map(U=>{const V=B===U.id,Y=d&&U.is_correct,de=d&&V&&!U.is_correct;return i.jsxs("label",{className:`flex items-start gap-3 p-3 rounded-lg border transition-all cursor-pointer ${d?Y?"bg-green-50 border-green-300":de?"bg-red-50 border-red-300":"border-gray-200 bg-gray-50":V?"bg-blue-50 border-blue-300":"border-gray-200 hover:bg-gray-50 hover:border-gray-300"} ${d?"cursor-default":""}`,children:[i.jsx("input",{type:"radio",name:`question-${C.id}`,value:U.id,checked:V,onChange:()=>N(C.id,U.id),disabled:d,className:"mt-1 h-4 w-4 text-blue-600 border-gray-300 focus:ring-blue-500"}),i.jsxs("div",{className:"flex-1",children:[i.jsx("p",{className:`text-sm ${Y?"text-green-900 font-medium":de?"text-red-900":"text-gray-900"}`,children:U.choice_text}),d&&U.is_correct&&i.jsx("p",{className:"text-xs text-green-700 mt-1",children:" Bonne rponse"}),d&&de&&i.jsx("p",{className:"text-xs text-red-700 mt-1",children:" Mauvaise rponse"})]})]},U.id)})}),!d&&!B&&i.jsxs("div",{className:"mt-3 ml-11 text-sm text-amber-600 flex items-center gap-2",children:[i.jsx(i4,{className:"h-4 w-4"}),i.jsx("span",{children:"Question non rpondue"})]})]},C.id)})}),!d&&w.length>0&&i.jsx("div",{className:"bg-white rounded-lg shadow-sm border p-6",children:i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsxs("div",{className:"text-sm text-gray-600",children:[i.jsxs("p",{children:[Object.keys(o).length," / ",w.length," questions rpondues"]}),b.show_correct_answers&&i.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"Les rponses correctes seront affiches aprs la soumission"})]}),i.jsxs(Xe,{onClick:E,size:"lg",className:"min-w-[200px]",children:[i.jsx(Za,{className:"h-5 w-5 mr-2"}),"Soumettre le test"]})]})})]})})},Lje=()=>{const{user:e}=Cs(),{data:t,isLoading:r,error:n}=CU(e?.id||null),a=async l=>{await TU(l)};if(r)return i.jsx(kn,{title:"Mes Certificats",subtitle:"Consultez et tlchargez vos certificats",children:i.jsx("div",{className:"flex items-center justify-center h-64",children:i.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-600"})})});if(n)return i.jsx(kn,{title:"Mes Certificats",subtitle:"Consultez et tlchargez vos certificats",children:i.jsx("div",{className:"bg-red-50 border border-red-200 rounded-lg p-4",children:i.jsx("p",{className:"text-red-800",children:"Erreur lors du chargement des certificats"})})});const s=t?.certificates||[];return i.jsx(kn,{title:"Mes Certificats",subtitle:"Consultez et tlchargez vos certificats",children:i.jsxs("div",{className:"space-y-6",children:[i.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[i.jsx("div",{className:"bg-gradient-to-br from-blue-500 to-blue-600 rounded-lg p-6 text-white",children:i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsxs("div",{children:[i.jsx("p",{className:"text-sm opacity-90",children:"Total Certificats"}),i.jsx("p",{className:"text-4xl font-bold mt-2",children:s.length})]}),i.jsx(Ba,{className:"h-12 w-12 opacity-80"})]})}),i.jsx("div",{className:"bg-gradient-to-br from-green-500 to-green-600 rounded-lg p-6 text-white",children:i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsxs("div",{children:[i.jsx("p",{className:"text-sm opacity-90",children:"Formations Compltes"}),i.jsx("p",{className:"text-4xl font-bold mt-2",children:s.length})]}),i.jsx(Za,{className:"h-12 w-12 opacity-80"})]})}),i.jsx("div",{className:"bg-gradient-to-br from-amber-500 to-amber-600 rounded-lg p-6 text-white",children:i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsxs("div",{children:[i.jsx("p",{className:"text-sm opacity-90",children:"Note Moyenne"}),i.jsxs("p",{className:"text-4xl font-bold mt-2",children:[s.length>0?(s.filter(l=>l.grade!==null).reduce((l,o)=>l+(o.grade||0),0)/s.filter(l=>l.grade!==null).length).toFixed(1):"0","%"]})]}),i.jsx(nW,{className:"h-12 w-12 opacity-80"})]})})]}),s.length===0?i.jsxs("div",{className:"bg-white rounded-lg shadow-sm border p-12 text-center",children:[i.jsx(Hx,{className:"h-16 w-16 text-gray-300 mx-auto mb-4"}),i.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"Aucun certificat disponible"}),i.jsx("p",{className:"text-gray-600",children:"Compltez vos formations pour obtenir vos certificats de russite !"})]}):i.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:s.map(l=>{const o=new Date(l.completion_date).toLocaleDateString("fr-FR",{day:"numeric",month:"long",year:"numeric"}),u=new Date(l.issued_at).toLocaleDateString("fr-FR");return i.jsxs("div",{className:"bg-white rounded-lg shadow-sm border hover:shadow-md transition-shadow overflow-hidden",children:[i.jsx("div",{className:"bg-gradient-to-r from-blue-600 to-purple-600 p-6 text-white",children:i.jsxs("div",{className:"flex items-start justify-between",children:[i.jsxs("div",{className:"flex-1",children:[i.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[i.jsx(Ba,{className:"h-5 w-5"}),i.jsx("span",{className:"text-sm font-medium opacity-90",children:"Certificat de Russite"})]}),i.jsx("h3",{className:"text-xl font-bold mb-2",children:l.formation_title})]}),l.grade!==null&&l.grade!==void 0&&i.jsxs("div",{className:"bg-white/20 rounded-lg px-3 py-2 text-center backdrop-blur-sm",children:[i.jsxs("p",{className:"text-2xl font-bold",children:[l.grade,"%"]}),i.jsx("p",{className:"text-xs opacity-90",children:"Note"})]})]})}),i.jsxs("div",{className:"p-6 space-y-4",children:[i.jsxs("div",{className:"space-y-3",children:[i.jsxs("div",{className:"flex items-center gap-3 text-sm text-gray-600",children:[i.jsx(Ia,{className:"h-4 w-4 text-blue-500"}),i.jsxs("span",{children:["Complt le ",o]})]}),i.jsxs("div",{className:"flex items-center gap-3 text-sm text-gray-600",children:[i.jsx(Wn,{className:"h-4 w-4 text-green-500"}),i.jsxs("span",{children:["Dlivr le ",u]})]}),i.jsxs("div",{className:"flex items-center gap-3 text-sm text-gray-600",children:[i.jsx(Hx,{className:"h-4 w-4 text-purple-500"}),i.jsxs("span",{className:"font-mono text-xs",children:["N ",l.certificate_number]})]})]}),i.jsxs("button",{onClick:()=>a(l),className:"w-full flex items-center justify-center gap-2 px-4 py-3 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors font-medium",children:[i.jsx(Fi,{className:"h-5 w-5"}),"Tlcharger le Certificat"]})]}),i.jsx("div",{className:"bg-green-50 border-t border-green-100 px-6 py-3",children:i.jsxs("div",{className:"flex items-center gap-2 text-green-700 text-sm font-medium",children:[i.jsx(Za,{className:"h-4 w-4"}),"Formation complte avec succs"]})})]},l.id)})}),i.jsx("div",{className:"bg-blue-50 border border-blue-200 rounded-lg p-6",children:i.jsxs("div",{className:"flex items-start gap-4",children:[i.jsx("div",{className:"bg-blue-100 p-3 rounded-lg",children:i.jsx(Ba,{className:"h-6 w-6 text-blue-600"})}),i.jsxs("div",{children:[i.jsx("h3",{className:"font-semibold text-blue-900 mb-2",children:" propos de vos certificats"}),i.jsxs("ul",{className:"text-sm text-blue-800 space-y-1",children:[i.jsx("li",{children:" Les certificats sont gnrs automatiquement aprs compltion d'une formation"}),i.jsx("li",{children:" Chaque certificat contient un numro unique pour vrification"}),i.jsx("li",{children:" Vous pouvez tlcharger vos certificats  tout moment"}),i.jsx("li",{children:" Les certificats sont au format PDF professionnel"})]})]})]})})]})})},Mje=()=>{const{formationId:e}=io(),t=xn(),[r,n]=k.useState("recent"),{data:a,isLoading:s}=mp(e||void 0),{data:l,isLoading:o}=fje(e||null,{sort:r,pinned:"true"}),u=a,d=l?.threads||[],h=m=>{const g=new Date(m),b=new Date().getTime()-g.getTime(),v=Math.floor(b/6e4),w=Math.floor(v/60),N=Math.floor(w/24);return v<1?" l'instant":v<60?`Il y a ${v} min`:w<24?`Il y a ${w}h`:N<7?`Il y a ${N}j`:g.toLocaleDateString("fr-FR",{day:"numeric",month:"short",year:"numeric"})};return s||o?i.jsx("div",{className:"flex items-center justify-center h-64",children:i.jsxs("div",{className:"text-center",children:[i.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-600 mx-auto"}),i.jsx("p",{className:"mt-4 text-gray-600",children:"Chargement du forum..."})]})}):u?i.jsxs("div",{className:"max-w-6xl mx-auto p-6",children:[i.jsx("div",{className:"mb-6",children:i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsxs("div",{children:[i.jsxs("h1",{className:"text-3xl font-bold text-gray-900",children:["Forum - ",u.title]}),i.jsx("p",{className:"text-gray-600 mt-1",children:"Posez vos questions et discutez avec les autres tudiants"})]}),i.jsxs(Xe,{onClick:()=>t(`/student/forums/${e}/new`),className:"bg-gradient-to-r from-blue-600 to-blue-700 text-white",children:[i.jsx(ra,{className:"h-4 w-4 mr-2"}),"Nouvelle discussion"]})]})}),i.jsx("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 p-4 mb-6",children:i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsxs("div",{className:"flex items-center gap-6 text-sm",children:[i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsx(el,{className:"h-4 w-4 text-blue-600"}),i.jsxs("span",{className:"text-gray-600",children:[i.jsx("span",{className:"font-semibold text-gray-900",children:d.length})," ","discussions"]})]}),i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsx(nD,{className:"h-4 w-4 text-green-600"}),i.jsxs("span",{className:"text-gray-600",children:[i.jsx("span",{className:"font-semibold text-gray-900",children:d.reduce((m,g)=>m+(g.post_count||0),0)})," ","rponses"]})]})]}),i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsx("span",{className:"text-sm text-gray-600",children:"Trier par:"}),i.jsxs("select",{value:r,onChange:m=>n(m.target.value),className:"text-sm border border-gray-300 rounded-md px-3 py-1.5 focus:outline-none focus:ring-2 focus:ring-blue-500",children:[i.jsx("option",{value:"recent",children:"Plus rcent"}),i.jsx("option",{value:"popular",children:"Plus populaire"}),i.jsx("option",{value:"active",children:"Plus actif"})]})]})]})}),d.length===0?i.jsxs("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 p-12 text-center",children:[i.jsx(el,{className:"h-16 w-16 text-gray-300 mx-auto mb-4"}),i.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-2",children:"Aucune discussion pour le moment"}),i.jsx("p",{className:"text-gray-600 mb-6",children:"Soyez le premier  poser une question ou partager une ide"}),i.jsxs(Xe,{onClick:()=>t(`/student/forums/${e}/new`),className:"bg-gradient-to-r from-blue-600 to-blue-700 text-white",children:[i.jsx(ra,{className:"h-4 w-4 mr-2"}),"Crer une discussion"]})]}):i.jsx("div",{className:"space-y-3",children:d.map(m=>i.jsx("div",{onClick:()=>t(`/student/forums/thread/${m.id}`),className:"bg-white rounded-lg shadow-sm border border-gray-200 p-5 hover:border-blue-300 hover:shadow-md transition-all cursor-pointer",children:i.jsxs("div",{className:"flex items-start gap-4",children:[i.jsx("div",{className:"flex-shrink-0",children:i.jsx("div",{className:"w-12 h-12 rounded-full bg-gradient-to-br from-blue-500 to-purple-600 flex items-center justify-center",children:i.jsx(el,{className:"h-6 w-6 text-white"})})}),i.jsx("div",{className:"flex-1 min-w-0",children:i.jsxs("div",{className:"flex items-start justify-between gap-4",children:[i.jsxs("div",{className:"flex-1",children:[i.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[m.is_pinned&&i.jsx(X_,{className:"h-4 w-4 text-yellow-600 flex-shrink-0"}),m.is_locked&&i.jsx(Kx,{className:"h-4 w-4 text-gray-500 flex-shrink-0"}),i.jsx("h3",{className:"text-lg font-semibold text-gray-900 hover:text-blue-600",children:m.title})]}),m.content&&i.jsx("p",{className:"text-sm text-gray-600 line-clamp-2 mb-3",children:m.content}),i.jsxs("div",{className:"flex items-center gap-4 text-xs text-gray-500",children:[i.jsxs("span",{children:["Par ",m.author_name]}),i.jsxs("span",{className:"flex items-center gap-1",children:[i.jsx(Oi,{className:"h-3 w-3"}),h(m.created_at)]}),m.last_post_at&&i.jsxs("span",{children:["Dernire rponse: ",h(m.last_post_at)]})]})]}),i.jsxs("div",{className:"flex items-center gap-4 text-sm",children:[i.jsxs("div",{className:"text-center",children:[i.jsxs("div",{className:"flex items-center gap-1 text-gray-600",children:[i.jsx(fi,{className:"h-4 w-4"}),i.jsx("span",{className:"font-semibold",children:m.view_count})]}),i.jsx("div",{className:"text-xs text-gray-500",children:"vues"})]}),i.jsxs("div",{className:"text-center",children:[i.jsxs("div",{className:"flex items-center gap-1 text-blue-600",children:[i.jsx(el,{className:"h-4 w-4"}),i.jsx("span",{className:"font-semibold",children:m.post_count||0})]}),i.jsx("div",{className:"text-xs text-gray-500",children:"rponses"})]})]})]})})]})},m.id))}),r==="popular"&&d.length>0&&i.jsx("div",{className:"mt-6 bg-gradient-to-r from-yellow-50 to-orange-50 border border-yellow-200 rounded-lg p-4",children:i.jsxs("div",{className:"flex items-center gap-2 text-yellow-800",children:[i.jsx(G0,{className:"h-5 w-5"}),i.jsx("span",{className:"font-semibold",children:"Discussions les plus populaires en ce moment"})]})})]}):i.jsx("div",{className:"text-center py-12",children:i.jsx("p",{className:"text-gray-600",children:"Formation non trouve"})})},Rje=()=>{const{threadId:e}=io(),t=xn(),{user:r}=Cs(),[n,a]=k.useState(""),{data:s,isLoading:l}=hje(e||null),{data:o,isLoading:u}=xje(e||null),d=pje(),h=gje(),m=yje(),g=bje(),x=vje(),b=s?.thread,v=o?.posts||[];k.useEffect(()=>{e&&d.mutate(e)},[e]);const w=async()=>{if(!(!n.trim()||!e||!r))try{await h.mutateAsync({threadId:e,data:{author_id:r.id,content:n.trim()}}),a("")}catch(O){console.error("Error posting reply:",O),alert("Erreur lors de l'envoi de la rponse")}},N=async(O,D,C)=>{if(r)try{C||await m.mutateAsync({postId:O,data:{user_id:r.id,reaction_type:D}})}catch(P){console.error("Error toggling reaction:",P)}},E=async O=>{if(r&&confirm("tes-vous sr de vouloir supprimer cette rponse ?"))try{await x.mutateAsync({postId:O,userId:r.id,isAdmin:r.role==="admin"})}catch(D){console.error("Error deleting post:",D),alert("Erreur lors de la suppression")}},j=(O,D)=>{if(!O.reactions)return 0;const C=O.reactions.find(P=>P.reaction_type===D);return C?C.count:0},T=O=>new Date(O).toLocaleDateString("fr-FR",{day:"numeric",month:"long",year:"numeric",hour:"2-digit",minute:"2-digit"});return l||u?i.jsx("div",{className:"flex items-center justify-center h-64",children:i.jsxs("div",{className:"text-center",children:[i.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-600 mx-auto"}),i.jsx("p",{className:"mt-4 text-gray-600",children:"Chargement de la discussion..."})]})}):b?i.jsxs("div",{className:"max-w-5xl mx-auto p-6",children:[i.jsxs(Xe,{onClick:()=>t(`/student/forums/${b.formation_id}`),variant:"ghost",className:"mb-4",children:[i.jsx($n,{className:"h-4 w-4 mr-2"}),"Retour au forum"]}),i.jsx("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 p-6 mb-6",children:i.jsxs("div",{className:"flex items-start gap-4",children:[i.jsx("div",{className:"w-16 h-16 rounded-full bg-gradient-to-br from-blue-500 to-purple-600 flex items-center justify-center flex-shrink-0",children:i.jsx(el,{className:"h-8 w-8 text-white"})}),i.jsxs("div",{className:"flex-1",children:[i.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[b.is_pinned&&i.jsx(X_,{className:"h-5 w-5 text-yellow-600"}),b.is_locked&&i.jsx(Kx,{className:"h-5 w-5 text-gray-500"}),i.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:b.title})]}),b.content&&i.jsx("p",{className:"text-gray-700 mb-4 whitespace-pre-wrap",children:b.content}),i.jsxs("div",{className:"flex items-center gap-4 text-sm text-gray-600",children:[i.jsx("span",{className:"font-medium",children:b.author_name}),i.jsxs("span",{className:"flex items-center gap-1",children:[i.jsx(Oi,{className:"h-4 w-4"}),T(b.created_at)]}),i.jsxs("span",{className:"flex items-center gap-1",children:[i.jsx(fi,{className:"h-4 w-4"}),b.view_count," vues"]}),i.jsxs("span",{className:"flex items-center gap-1",children:[i.jsx(el,{className:"h-4 w-4"}),b.post_count||0," rponses"]})]})]})]})}),i.jsx("div",{className:"space-y-4 mb-6",children:v.map(O=>{const D=r?.id===O.author_id,C=r?.role==="admin",P=D||C;return i.jsx("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 p-5",children:i.jsxs("div",{className:"flex items-start gap-4",children:[i.jsx("div",{className:"w-12 h-12 rounded-full bg-gradient-to-br from-green-500 to-teal-600 flex items-center justify-center flex-shrink-0",children:i.jsx("span",{className:"text-white font-semibold text-sm",children:O.author_name?.charAt(0).toUpperCase()})}),i.jsxs("div",{className:"flex-1",children:[i.jsxs("div",{className:"flex items-center justify-between mb-2",children:[i.jsxs("div",{children:[i.jsx("span",{className:"font-semibold text-gray-900",children:O.author_name}),O.author_role==="admin"&&i.jsx("span",{className:"ml-2 px-2 py-0.5 bg-red-100 text-red-700 text-xs font-medium rounded",children:"Admin"}),O.author_role==="gerant"&&i.jsx("span",{className:"ml-2 px-2 py-0.5 bg-blue-100 text-blue-700 text-xs font-medium rounded",children:"Formateur"}),i.jsx("span",{className:"ml-3 text-sm text-gray-500",children:T(O.created_at)}),O.is_edited&&i.jsx("span",{className:"ml-2 text-xs text-gray-400",children:"(modifi)"})]}),P&&i.jsx("button",{onClick:()=>E(O.id),className:"text-red-600 hover:text-red-700 p-1",children:i.jsx(An,{className:"h-4 w-4"})})]}),i.jsx("p",{className:"text-gray-700 mb-3 whitespace-pre-wrap",children:O.content}),i.jsxs("div",{className:"flex items-center gap-3",children:[i.jsxs("button",{onClick:()=>N(O.id,"like",!1),className:"flex items-center gap-1 text-sm text-gray-600 hover:text-blue-600 transition-colors",children:[i.jsx(cW,{className:"h-4 w-4"}),i.jsx("span",{children:j(O,"like")})]}),i.jsxs("button",{onClick:()=>N(O.id,"helpful",!1),className:"flex items-center gap-1 text-sm text-gray-600 hover:text-green-600 transition-colors",children:[i.jsx(el,{className:"h-4 w-4"}),i.jsx("span",{children:j(O,"helpful")})]}),i.jsxs("button",{onClick:()=>N(O.id,"insightful",!1),className:"flex items-center gap-1 text-sm text-gray-600 hover:text-purple-600 transition-colors",children:[i.jsx(_V,{className:"h-4 w-4"}),i.jsx("span",{children:j(O,"insightful")})]})]})]})]})},O.id)})}),b.is_locked?i.jsxs("div",{className:"bg-yellow-50 border border-yellow-200 rounded-lg p-4 text-center",children:[i.jsx(Kx,{className:"h-8 w-8 text-yellow-600 mx-auto mb-2"}),i.jsx("p",{className:"text-yellow-800 font-medium",children:"Cette discussion est verrouille. Vous ne pouvez plus y rpondre."})]}):i.jsxs("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 p-5",children:[i.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-3",children:"Votre rponse"}),i.jsx("textarea",{value:n,onChange:O=>a(O.target.value),placeholder:"crivez votre rponse ici...",rows:4,className:"w-full border border-gray-300 rounded-lg p-3 focus:outline-none focus:ring-2 focus:ring-blue-500 resize-none"}),i.jsxs("div",{className:"flex items-center justify-between mt-3",children:[i.jsx("p",{className:"text-sm text-gray-500",children:"Soyez respectueux et constructif dans vos rponses"}),i.jsx(Xe,{onClick:w,disabled:!n.trim()||h.isPending,className:"bg-gradient-to-r from-blue-600 to-blue-700 text-white",children:h.isPending?"Envoi...":i.jsxs(i.Fragment,{children:[i.jsx(Dm,{className:"h-4 w-4 mr-2"}),"Envoyer"]})})]})]})]}):i.jsx("div",{className:"text-center py-12",children:i.jsx("p",{className:"text-gray-600",children:"Discussion non trouve"})})},Ije=()=>{const{formationId:e}=io(),t=xn(),{user:r}=Cs(),[n,a]=k.useState(""),[s,l]=k.useState(""),[o,u]=k.useState(""),{data:d}=mp(e||void 0),h=mje(),m=d,g=async x=>{if(x.preventDefault(),u(""),!n.trim()){u("Le titre est requis");return}if(!e||!r){u("Erreur: Formation ou utilisateur non trouv");return}try{const b=await h.mutateAsync({formationId:e,data:{author_id:r.id,title:n.trim(),content:s.trim()||void 0}});t(`/student/forums/thread/${b.thread.id}`)}catch(b){console.error("Error creating thread:",b),u("Erreur lors de la cration de la discussion")}};return i.jsxs("div",{className:"max-w-4xl mx-auto p-6",children:[i.jsxs(Xe,{onClick:()=>t(`/student/forums/${e}`),variant:"ghost",className:"mb-4",children:[i.jsx($n,{className:"h-4 w-4 mr-2"}),"Retour au forum"]}),i.jsxs("div",{className:"bg-gradient-to-r from-blue-600 to-purple-600 rounded-lg p-6 mb-6 text-white",children:[i.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[i.jsx(el,{className:"h-8 w-8"}),i.jsx("h1",{className:"text-3xl font-bold",children:"Nouvelle discussion"})]}),i.jsxs("p",{className:"text-blue-100",children:["Formation: ",m?.title||"Chargement..."]})]}),i.jsxs("div",{className:"bg-blue-50 border border-blue-200 rounded-lg p-4 mb-6",children:[i.jsx("h3",{className:"font-semibold text-blue-900 mb-2",children:"Conseils pour crer une bonne discussion"}),i.jsxs("ul",{className:"text-sm text-blue-800 space-y-1",children:[i.jsx("li",{children:" Choisissez un titre clair et descriptif"}),i.jsx("li",{children:" Expliquez votre question ou sujet en dtail"}),i.jsx("li",{children:" Soyez respectueux et constructif"}),i.jsx("li",{children:" Vrifiez qu'une discussion similaire n'existe pas dj"})]})]}),o&&i.jsx("div",{className:"bg-red-50 border border-red-200 rounded-lg p-4 mb-6",children:i.jsxs("div",{className:"flex items-center gap-2 text-red-800",children:[i.jsx($r,{className:"h-5 w-5"}),i.jsx("span",{children:o})]})}),i.jsxs("form",{onSubmit:g,className:"space-y-6",children:[i.jsxs("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 p-6",children:[i.jsx("label",{htmlFor:"title",className:"block text-sm font-semibold text-gray-900 mb-2",children:"Titre de la discussion *"}),i.jsx("input",{type:"text",id:"title",value:n,onChange:x=>a(x.target.value),placeholder:"Ex: Comment configurer l'environnement de dveloppement ?",className:"w-full border border-gray-300 rounded-lg px-4 py-2.5 focus:outline-none focus:ring-2 focus:ring-blue-500",maxLength:200}),i.jsxs("p",{className:"mt-2 text-sm text-gray-500",children:[n.length,"/200 caractres"]})]}),i.jsxs("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 p-6",children:[i.jsx("label",{htmlFor:"content",className:"block text-sm font-semibold text-gray-900 mb-2",children:"Description (optionnelle)"}),i.jsx("textarea",{id:"content",value:s,onChange:x=>l(x.target.value),placeholder:"Dcrivez votre question ou sujet en dtail...",rows:10,className:"w-full border border-gray-300 rounded-lg px-4 py-3 focus:outline-none focus:ring-2 focus:ring-blue-500 resize-none",maxLength:5e3}),i.jsxs("p",{className:"mt-2 text-sm text-gray-500",children:[s.length,"/5000 caractres"]})]}),i.jsxs("div",{className:"flex items-center justify-end gap-3",children:[i.jsx(Xe,{type:"button",onClick:()=>t(`/student/forums/${e}`),variant:"outline",children:"Annuler"}),i.jsx(Xe,{type:"submit",disabled:!n.trim()||h.isPending,className:"bg-gradient-to-r from-blue-600 to-blue-700 text-white",children:h.isPending?"Cration...":i.jsxs(i.Fragment,{children:[i.jsx(el,{className:"h-4 w-4 mr-2"}),"Crer la discussion"]})})]})]}),i.jsx("div",{className:"mt-6 bg-gray-50 border border-gray-200 rounded-lg p-4",children:i.jsxs("p",{className:"text-sm text-gray-600",children:[" ",i.jsx("strong",{children:"Note:"})," Votre discussion sera visible par tous les tudiants de cette formation. Vous pourrez la modifier ou la supprimer aprs sa cration."]})})]})},Xr=({children:e,adminOnly:t=!1,gerantOnly:r=!1})=>{const{isAuthenticated:n,isAdmin:a,isGerant:s}=Cs();return n?t&&!a?i.jsx(Om,{to:"/dashboard",replace:!0}):r&&!s?i.jsx(Om,{to:"/dashboard",replace:!0}):i.jsx(i.Fragment,{children:e}):i.jsx(Om,{to:"/login",replace:!0})},Bje=({children:e})=>{const{isAuthenticated:t}=Cs();return t?i.jsx(Om,{to:"/dashboard",replace:!0}):i.jsx(i.Fragment,{children:e})},Uje=()=>{const{isLoading:e}=Cs();return e?i.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gray-50",children:i.jsxs("div",{className:"text-center",children:[i.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-600 mx-auto mb-4"}),i.jsx("p",{className:"text-gray-600",children:"Chargement..."})]})}):i.jsxs(N$,{children:[i.jsx(Dr,{path:"/login",element:i.jsx(Bje,{children:i.jsx(jW,{})})}),i.jsx(Dr,{path:"/dashboard",element:i.jsx(Xr,{children:i.jsx(TW,{})})}),i.jsx(Dr,{path:"/admin/segments",element:i.jsx(Xr,{adminOnly:!0,children:i.jsx(Wae,{})})}),i.jsx(Dr,{path:"/admin/cities",element:i.jsx(Xr,{adminOnly:!0,children:i.jsx(Gae,{})})}),i.jsx(Dr,{path:"/admin/users",element:i.jsx(Xr,{adminOnly:!0,children:i.jsx(ase,{})})}),i.jsx(Dr,{path:"/admin/calculation-sheets",element:i.jsx(Xr,{adminOnly:!0,children:i.jsx(bse,{})})}),i.jsx(Dr,{path:"/admin/calculation-sheets/:id",element:i.jsx(Xr,{adminOnly:!0,children:i.jsx(yse,{})})}),i.jsx(Dr,{path:"/admin/calculation-sheets/:id/editor",element:i.jsx(Xr,{adminOnly:!0,children:i.jsx(_se,{})})}),i.jsx(Dr,{path:"/admin/declarations",element:i.jsx(Xr,{adminOnly:!0,children:i.jsx(Ose,{})})}),i.jsx(Dr,{path:"/admin/declarations/:id",element:i.jsx(Xr,{adminOnly:!0,children:i.jsx(Use,{})})}),i.jsx(Dr,{path:"/admin/create-declaration",element:i.jsx(Xr,{adminOnly:!0,children:i.jsx(ZE,{})})}),i.jsx(Dr,{path:"/admin/formations-management",element:i.jsx(Xr,{adminOnly:!0,children:i.jsx(rle,{})})}),i.jsx(Dr,{path:"/admin/formations/sessions",element:i.jsx(Xr,{adminOnly:!0,children:i.jsx(fie,{})})}),i.jsx(Dr,{path:"/admin/formations/cours/:id/editor",element:i.jsx(Xr,{adminOnly:!0,children:i.jsx(Die,{})})}),i.jsx(Dr,{path:"/admin/sessions-formation",element:i.jsx(Xr,{adminOnly:!0,children:i.jsx(_je,{})})}),i.jsx(Dr,{path:"/admin/sessions-formation/:id",element:i.jsx(Xr,{adminOnly:!0,children:i.jsx(Sje,{})})}),i.jsx(Dr,{path:"/admin/analytics",element:i.jsx(Xr,{adminOnly:!0,children:i.jsx(I_e,{})})}),i.jsx(Dr,{path:"/admin/student-reports",element:i.jsx(Xr,{adminOnly:!0,children:i.jsx(B_e,{})})}),i.jsx(Dr,{path:"/admin/certificates",element:i.jsx(Xr,{adminOnly:!0,children:i.jsx(Y_e,{})})}),i.jsx(Dr,{path:"/admin/certificate-templates",element:i.jsx(Xr,{adminOnly:!0,children:i.jsx(nje,{})})}),i.jsx(Dr,{path:"/admin/certificate-templates/:id/canvas-edit",element:i.jsx(Xr,{adminOnly:!0,children:i.jsx(dje,{})})}),i.jsx(Dr,{path:"/admin/forums",element:i.jsx(Xr,{adminOnly:!0,children:i.jsx(Nje,{})})}),i.jsx(Dr,{path:"/professor/declarations",element:i.jsx(Xr,{children:i.jsx($se,{})})}),i.jsx(Dr,{path:"/professor/declarations/:id/fill",element:i.jsx(Xr,{children:i.jsx(Hse,{})})}),i.jsx(Dr,{path:"/student/dashboard",element:i.jsx(Xr,{children:i.jsx(Aje,{})})}),i.jsx(Dr,{path:"/student/catalog",element:i.jsx(Xr,{children:i.jsx(kje,{})})}),i.jsx(Dr,{path:"/student/formations/:id",element:i.jsx(Xr,{children:i.jsx(Fje,{})})}),i.jsx(Dr,{path:"/student/formations/:id/videos/:videoId",element:i.jsx(Xr,{children:i.jsx(Dje,{})})}),i.jsx(Dr,{path:"/student/formations/:id/tests/:testId",element:i.jsx(Xr,{children:i.jsx(Pje,{})})}),i.jsx(Dr,{path:"/student/certificates",element:i.jsx(Xr,{children:i.jsx(Lje,{})})}),i.jsx(Dr,{path:"/student/forums/:formationId",element:i.jsx(Xr,{children:i.jsx(Mje,{})})}),i.jsx(Dr,{path:"/student/forums/:formationId/new",element:i.jsx(Xr,{children:i.jsx(Ije,{})})}),i.jsx(Dr,{path:"/student/forums/thread/:threadId",element:i.jsx(Xr,{children:i.jsx(Rje,{})})}),i.jsx(Dr,{path:"/gerant/declarations",element:i.jsx(Xr,{gerantOnly:!0,children:i.jsx(Qse,{})})}),i.jsx(Dr,{path:"/gerant/create-declaration",element:i.jsx(Xr,{gerantOnly:!0,children:i.jsx(ZE,{})})}),i.jsx(Dr,{path:"/",element:i.jsx(Om,{to:"/login",replace:!0})}),i.jsx(Dr,{path:"*",element:i.jsx(Om,{to:"/login",replace:!0})})]})},zje=()=>i.jsx(W$,{children:i.jsx(sH,{children:i.jsx(Uje,{})})}),qje=new gq({defaultOptions:{queries:{refetchOnWindowFocus:!1,retry:1,staleTime:300*1e3}}});Gz.createRoot(document.getElementById("root")).render(i.jsx(k.StrictMode,{children:i.jsxs(vq,{client:qje,children:[i.jsx(zje,{}),i.jsx(Fq,{initialIsOpen:!1})]})}));export{jn as _,$je as c,jd as g};
